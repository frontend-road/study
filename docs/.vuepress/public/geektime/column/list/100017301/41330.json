{"id":41330,"title":"09 | é˜Ÿåˆ—ï¼šé˜Ÿåˆ—åœ¨çº¿ç¨‹æ± ç­‰æœ‰é™èµ„æºæ± ä¸­çš„åº”ç”¨","content":"<p>æˆ‘ä»¬çŸ¥é“ï¼ŒCPUèµ„æºæ˜¯æœ‰é™çš„ï¼Œä»»åŠ¡çš„å¤„ç†é€Ÿåº¦ä¸çº¿ç¨‹ä¸ªæ•°å¹¶ä¸æ˜¯çº¿æ€§æ­£ç›¸å…³ã€‚ç›¸åï¼Œè¿‡å¤šçš„çº¿ç¨‹åè€Œä¼šå¯¼è‡´CPUé¢‘ç¹åˆ‡æ¢ï¼Œå¤„ç†æ€§èƒ½ä¸‹é™ã€‚æ‰€ä»¥ï¼Œçº¿ç¨‹æ± çš„å¤§å°ä¸€èˆ¬éƒ½æ˜¯ç»¼åˆè€ƒè™‘è¦å¤„ç†ä»»åŠ¡çš„ç‰¹ç‚¹å’Œç¡¬ä»¶ç¯å¢ƒï¼Œæ¥äº‹å…ˆè®¾ç½®çš„ã€‚</p><p><strong><span class=\"orange\">å½“æˆ‘ä»¬å‘å›ºå®šå¤§å°çš„çº¿ç¨‹æ± ä¸­è¯·æ±‚ä¸€ä¸ªçº¿ç¨‹æ—¶ï¼Œå¦‚æœçº¿ç¨‹æ± ä¸­æ²¡æœ‰ç©ºé—²èµ„æºäº†ï¼Œè¿™ä¸ªæ—¶å€™çº¿ç¨‹æ± å¦‚ä½•å¤„ç†è¿™ä¸ªè¯·æ±‚ï¼Ÿæ˜¯æ‹’ç»è¯·æ±‚è¿˜æ˜¯æ’é˜Ÿè¯·æ±‚ï¼Ÿå„ç§å¤„ç†ç­–ç•¥åˆæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</span></strong></p><p>å®é™…ä¸Šï¼Œè¿™äº›é—®é¢˜å¹¶ä¸å¤æ‚ï¼Œå…¶åº•å±‚çš„æ•°æ®ç»“æ„å°±æ˜¯æˆ‘ä»¬ä»Šå¤©è¦å­¦çš„å†…å®¹ï¼Œé˜Ÿåˆ—ï¼ˆqueueï¼‰ã€‚</p><h2>å¦‚ä½•ç†è§£â€œé˜Ÿåˆ—â€ï¼Ÿ</h2><p>é˜Ÿåˆ—è¿™ä¸ªæ¦‚å¿µéå¸¸å¥½ç†è§£ã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆæ’é˜Ÿä¹°ç¥¨ï¼Œå…ˆæ¥çš„å…ˆä¹°ï¼Œåæ¥çš„äººåªèƒ½ç«™æœ«å°¾ï¼Œä¸å…è®¸æ’é˜Ÿã€‚<strong>å…ˆè¿›è€…å…ˆå‡ºï¼Œè¿™å°±æ˜¯å…¸å‹çš„â€œ<strong><strong>é˜Ÿåˆ—</strong></strong>â€</strong>ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œæ ˆåªæ”¯æŒä¸¤ä¸ªåŸºæœ¬æ“ä½œï¼š<strong>å…¥æ ˆpush()<strong>å’Œ</strong>å‡ºæ ˆpop()</strong>ã€‚é˜Ÿåˆ—è·Ÿæ ˆéå¸¸ç›¸ä¼¼ï¼Œæ”¯æŒçš„æ“ä½œä¹Ÿå¾ˆæœ‰é™ï¼Œæœ€åŸºæœ¬çš„æ“ä½œä¹Ÿæ˜¯ä¸¤ä¸ªï¼š<strong>å…¥é˜Ÿenqueue()</strong>ï¼Œæ”¾ä¸€ä¸ªæ•°æ®åˆ°é˜Ÿåˆ—å°¾éƒ¨ï¼›<strong>å‡ºé˜Ÿdequeue()</strong>ï¼Œä»é˜Ÿåˆ—å¤´éƒ¨å–ä¸€ä¸ªå…ƒç´ ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/9e/3e/9eca53f9b557b1213c5d94b94e9dce3e.jpg?wh=1142*800\" alt=\"\"></p><p>æ‰€ä»¥ï¼Œé˜Ÿåˆ—è·Ÿæ ˆä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ç§<strong>æ“ä½œå—é™çš„çº¿æ€§è¡¨æ•°æ®ç»“æ„</strong>ã€‚</p><p>é˜Ÿåˆ—çš„æ¦‚å¿µå¾ˆå¥½ç†è§£ï¼ŒåŸºæœ¬æ“ä½œä¹Ÿå¾ˆå®¹æ˜“æŒæ¡ã€‚ä½œä¸ºä¸€ç§éå¸¸åŸºç¡€çš„æ•°æ®ç»“æ„ï¼Œé˜Ÿåˆ—çš„åº”ç”¨ä¹Ÿéå¸¸å¹¿æ³›ï¼Œç‰¹åˆ«æ˜¯ä¸€äº›å…·æœ‰æŸäº›é¢å¤–ç‰¹æ€§çš„é˜Ÿåˆ—ï¼Œæ¯”å¦‚å¾ªç¯é˜Ÿåˆ—ã€é˜»å¡é˜Ÿåˆ—ã€å¹¶å‘é˜Ÿåˆ—ã€‚å®ƒä»¬åœ¨å¾ˆå¤šååº•å±‚ç³»ç»Ÿã€æ¡†æ¶ã€ä¸­é—´ä»¶çš„å¼€å‘ä¸­ï¼Œèµ·ç€å…³é”®æ€§çš„ä½œç”¨ã€‚æ¯”å¦‚é«˜æ€§èƒ½é˜Ÿåˆ—Disruptorã€Linuxç¯å½¢ç¼“å­˜ï¼Œéƒ½ç”¨åˆ°äº†å¾ªç¯å¹¶å‘é˜Ÿåˆ—ï¼›Java concurrentå¹¶å‘åŒ…åˆ©ç”¨ArrayBlockingQueueæ¥å®ç°å…¬å¹³é”ç­‰ã€‚</p><!-- [[[read_end]]] --><h2>é¡ºåºé˜Ÿåˆ—å’Œé“¾å¼é˜Ÿåˆ—</h2><p>æˆ‘ä»¬çŸ¥é“äº†ï¼Œé˜Ÿåˆ—è·Ÿæ ˆä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ç§æŠ½è±¡çš„æ•°æ®ç»“æ„ã€‚å®ƒå…·æœ‰å…ˆè¿›å…ˆå‡ºçš„ç‰¹æ€§ï¼Œæ”¯æŒåœ¨é˜Ÿå°¾æ’å…¥å…ƒç´ ï¼Œåœ¨é˜Ÿå¤´åˆ é™¤å…ƒç´ ï¼Œé‚£ç©¶ç«Ÿè¯¥å¦‚ä½•å®ç°ä¸€ä¸ªé˜Ÿåˆ—å‘¢ï¼Ÿ</p><p>è·Ÿæ ˆä¸€æ ·ï¼Œé˜Ÿåˆ—å¯ä»¥ç”¨æ•°ç»„æ¥å®ç°ï¼Œä¹Ÿå¯ä»¥ç”¨é“¾è¡¨æ¥å®ç°ã€‚ç”¨æ•°ç»„å®ç°çš„æ ˆå«ä½œé¡ºåºæ ˆï¼Œç”¨é“¾è¡¨å®ç°çš„æ ˆå«ä½œé“¾å¼æ ˆã€‚åŒæ ·ï¼Œç”¨æ•°ç»„å®ç°çš„é˜Ÿåˆ—å«ä½œ<strong>é¡ºåºé˜Ÿåˆ—</strong>ï¼Œç”¨é“¾è¡¨å®ç°çš„é˜Ÿåˆ—å«ä½œ<strong>é“¾å¼é˜Ÿåˆ—</strong>ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹åŸºäºæ•°ç»„çš„å®ç°æ–¹æ³•ã€‚æˆ‘ç”¨Javaè¯­è¨€å®ç°äº†ä¸€ä¸‹ï¼Œä¸è¿‡å¹¶ä¸åŒ…å«Javaè¯­è¨€çš„é«˜çº§è¯­æ³•ï¼Œè€Œä¸”æˆ‘åšäº†æ¯”è¾ƒè¯¦ç»†çš„æ³¨é‡Šï¼Œä½ åº”è¯¥å¯ä»¥çœ‹æ‡‚ã€‚</p><pre><code>// ç”¨æ•°ç»„å®ç°çš„é˜Ÿåˆ—\npublic class ArrayQueue {\n  // æ•°ç»„ï¼šitemsï¼Œæ•°ç»„å¤§å°ï¼šn\n  private String[] items;\n  private int n = 0;\n  // headè¡¨ç¤ºé˜Ÿå¤´ä¸‹æ ‡ï¼Œtailè¡¨ç¤ºé˜Ÿå°¾ä¸‹æ ‡\n  private int head = 0;\n  private int tail = 0;\n\n  // ç”³è¯·ä¸€ä¸ªå¤§å°ä¸ºcapacityçš„æ•°ç»„\n  public ArrayQueue(int capacity) {\n    items = new String[capacity];\n    n = capacity;\n  }\n\n  // å…¥é˜Ÿ\n  public boolean enqueue(String item) {\n    // å¦‚æœtail == n è¡¨ç¤ºé˜Ÿåˆ—å·²ç»æ»¡äº†\n    if (tail == n) return false;\n    items[tail] = item;\n    ++tail;\n    return true;\n  }\n\n  // å‡ºé˜Ÿ\n  public String dequeue() {\n    // å¦‚æœhead == tail è¡¨ç¤ºé˜Ÿåˆ—ä¸ºç©º\n    if (head == tail) return null;\n    // ä¸ºäº†è®©å…¶ä»–è¯­è¨€çš„åŒå­¦çœ‹çš„æ›´åŠ æ˜ç¡®ï¼ŒæŠŠ--æ“ä½œæ”¾åˆ°å•ç‹¬ä¸€è¡Œæ¥å†™äº†\n    String ret = items[head];\n    ++head;\n    return ret;\n  }\n}\n</code></pre><p>æ¯”èµ·æ ˆçš„æ•°ç»„å®ç°ï¼Œé˜Ÿåˆ—çš„æ•°ç»„å®ç°ç¨å¾®æœ‰ç‚¹å„¿å¤æ‚ï¼Œä½†æ˜¯æ²¡å…³ç³»ã€‚æˆ‘ç¨å¾®è§£é‡Šä¸€ä¸‹å®ç°æ€è·¯ï¼Œä½ å¾ˆå®¹æ˜“å°±èƒ½æ˜ç™½äº†ã€‚</p><p>å¯¹äºæ ˆæ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€ä¸ª<strong>æ ˆé¡¶æŒ‡é’ˆ</strong>å°±å¯ä»¥äº†ã€‚ä½†æ˜¯é˜Ÿåˆ—éœ€è¦ä¸¤ä¸ªæŒ‡é’ˆï¼šä¸€ä¸ªæ˜¯headæŒ‡é’ˆï¼ŒæŒ‡å‘é˜Ÿå¤´ï¼›ä¸€ä¸ªæ˜¯tailæŒ‡é’ˆï¼ŒæŒ‡å‘é˜Ÿå°¾ã€‚</p><p>ä½ å¯ä»¥ç»“åˆä¸‹é¢è¿™å¼ å›¾æ¥ç†è§£ã€‚å½“aã€bã€cã€dä¾æ¬¡å…¥é˜Ÿä¹‹åï¼Œé˜Ÿåˆ—ä¸­çš„headæŒ‡é’ˆæŒ‡å‘ä¸‹æ ‡ä¸º0çš„ä½ç½®ï¼ŒtailæŒ‡é’ˆæŒ‡å‘ä¸‹æ ‡ä¸º4çš„ä½ç½®ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/5c/cb/5c0ec42eb797e8a7d48c9dbe89dc93cb.jpg?wh=1142*385\" alt=\"\"></p><p>å½“æˆ‘ä»¬è°ƒç”¨ä¸¤æ¬¡å‡ºé˜Ÿæ“ä½œä¹‹åï¼Œé˜Ÿåˆ—ä¸­headæŒ‡é’ˆæŒ‡å‘ä¸‹æ ‡ä¸º2çš„ä½ç½®ï¼ŒtailæŒ‡é’ˆä»ç„¶æŒ‡å‘ä¸‹æ ‡ä¸º4çš„ä½ç½®ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/de/0d/dea27f2c505dd8d0b6b86e262d03430d.jpg?wh=1142*385\" alt=\"\"></p><p>ä½ è‚¯å®šå·²ç»å‘ç°äº†ï¼Œéšç€ä¸åœåœ°è¿›è¡Œå…¥é˜Ÿã€å‡ºé˜Ÿæ“ä½œï¼Œheadå’Œtailéƒ½ä¼šæŒç»­å¾€åç§»åŠ¨ã€‚å½“tailç§»åŠ¨åˆ°æœ€å³è¾¹ï¼Œå³ä½¿æ•°ç»„ä¸­è¿˜æœ‰ç©ºé—²ç©ºé—´ï¼Œä¹Ÿæ— æ³•ç»§ç»­å¾€é˜Ÿåˆ—ä¸­æ·»åŠ æ•°æ®äº†ã€‚è¿™ä¸ªé—®é¢˜è¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ</p><p>ä½ æ˜¯å¦è¿˜è®°å¾—ï¼Œåœ¨æ•°ç»„é‚£ä¸€èŠ‚ï¼Œæˆ‘ä»¬ä¹Ÿé‡åˆ°è¿‡ç±»ä¼¼çš„é—®é¢˜ï¼Œå°±æ˜¯æ•°ç»„çš„åˆ é™¤æ“ä½œä¼šå¯¼è‡´æ•°ç»„ä¸­çš„æ•°æ®ä¸è¿ç»­ã€‚ä½ è¿˜è®°å¾—æˆ‘ä»¬å½“æ—¶æ˜¯æ€ä¹ˆè§£å†³çš„å—ï¼Ÿå¯¹ï¼Œç”¨<strong>æ•°æ®æ¬ç§»</strong>ï¼ä½†æ˜¯ï¼Œæ¯æ¬¡è¿›è¡Œå‡ºé˜Ÿæ“ä½œéƒ½ç›¸å½“äºåˆ é™¤æ•°ç»„ä¸‹æ ‡ä¸º0çš„æ•°æ®ï¼Œè¦æ¬ç§»æ•´ä¸ªé˜Ÿåˆ—ä¸­çš„æ•°æ®ï¼Œè¿™æ ·å‡ºé˜Ÿæ“ä½œçš„æ—¶é—´å¤æ‚åº¦å°±ä¼šä»åŸæ¥çš„O(1)å˜ä¸ºO(n)ã€‚èƒ½ä¸èƒ½ä¼˜åŒ–ä¸€ä¸‹å‘¢ï¼Ÿ</p><p>å®é™…ä¸Šï¼Œæˆ‘ä»¬åœ¨å‡ºé˜Ÿæ—¶å¯ä»¥ä¸ç”¨æ¬ç§»æ•°æ®ã€‚å¦‚æœæ²¡æœ‰ç©ºé—²ç©ºé—´äº†ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å…¥é˜Ÿæ—¶ï¼Œå†é›†ä¸­è§¦å‘ä¸€æ¬¡æ•°æ®çš„æ¬ç§»æ“ä½œã€‚å€ŸåŠ©è¿™ä¸ªæ€æƒ³ï¼Œå‡ºé˜Ÿå‡½æ•°dequeue()ä¿æŒä¸å˜ï¼Œæˆ‘ä»¬ç¨åŠ æ”¹é€ ä¸€ä¸‹å…¥é˜Ÿå‡½æ•°enqueue()çš„å®ç°ï¼Œå°±å¯ä»¥è½»æ¾è§£å†³åˆšæ‰çš„é—®é¢˜äº†ã€‚ä¸‹é¢æ˜¯å…·ä½“çš„ä»£ç ï¼š</p><pre><code>   // å…¥é˜Ÿæ“ä½œï¼Œå°†itemæ”¾å…¥é˜Ÿå°¾\n  public boolean enqueue(String item) {\n    // tail == nè¡¨ç¤ºé˜Ÿåˆ—æœ«å°¾æ²¡æœ‰ç©ºé—´äº†\n    if (tail == n) {\n      // tail ==n &amp;&amp; head==0ï¼Œè¡¨ç¤ºæ•´ä¸ªé˜Ÿåˆ—éƒ½å æ»¡äº†\n      if (head == 0) return false;\n      // æ•°æ®æ¬ç§»\n      for (int i = head; i &lt; tail; ++i) {\n        items[i-head] = items[i];\n      }\n      // æ¬ç§»å®Œä¹‹åé‡æ–°æ›´æ–°headå’Œtail\n      tail -= head;\n      head = 0;\n    }\n    \n    items[tail] = item;\n    ++tail;\n    return true;\n  }\n</code></pre><p>ä»ä»£ç ä¸­æˆ‘ä»¬çœ‹åˆ°ï¼Œå½“é˜Ÿåˆ—çš„tailæŒ‡é’ˆç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³è¾¹åï¼Œå¦‚æœæœ‰æ–°çš„æ•°æ®å…¥é˜Ÿï¼Œæˆ‘ä»¬å¯ä»¥å°†headåˆ°tailä¹‹é—´çš„æ•°æ®ï¼Œæ•´ä½“æ¬ç§»åˆ°æ•°ç»„ä¸­0åˆ°tail-headçš„ä½ç½®ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/09/c7/094ba7722eeec46ead58b40c097353c7.jpg?wh=1142*639\" alt=\"\"></p><p>è¿™ç§å®ç°æ€è·¯ä¸­ï¼Œå‡ºé˜Ÿæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä»ç„¶æ˜¯O(1)ï¼Œä½†å…¥é˜Ÿæ“ä½œçš„æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯O(1)å—ï¼Ÿä½ å¯ä»¥ç”¨æˆ‘ä»¬ç¬¬3èŠ‚ã€ç¬¬4èŠ‚è®²çš„ç®—æ³•å¤æ‚åº¦åˆ†ææ–¹æ³•ï¼Œè‡ªå·±è¯•ç€åˆ†æä¸€ä¸‹ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹<strong>åŸºäºé“¾è¡¨çš„é˜Ÿåˆ—å®ç°æ–¹æ³•</strong>ã€‚</p><p>åŸºäºé“¾è¡¨çš„å®ç°ï¼Œæˆ‘ä»¬åŒæ ·éœ€è¦ä¸¤ä¸ªæŒ‡é’ˆï¼šheadæŒ‡é’ˆå’ŒtailæŒ‡é’ˆã€‚å®ƒä»¬åˆ†åˆ«æŒ‡å‘é“¾è¡¨çš„ç¬¬ä¸€ä¸ªç»“ç‚¹å’Œæœ€åä¸€ä¸ªç»“ç‚¹ã€‚å¦‚å›¾æ‰€ç¤ºï¼Œå…¥é˜Ÿæ—¶ï¼Œtail-&gt;next= new_node, tail = tail-&gt;nextï¼›å‡ºé˜Ÿæ—¶ï¼Œhead = head-&gt;nextã€‚æˆ‘å°†å…·ä½“çš„ä»£ç æ”¾åˆ°GitHubä¸Šï¼Œä½ å¯ä»¥è‡ªå·±è¯•ç€å®ç°ä¸€ä¸‹ï¼Œç„¶åå†å»GitHubä¸Šè·Ÿæˆ‘å®ç°çš„ä»£ç å¯¹æ¯”ä¸‹ï¼Œçœ‹å†™å¾—å¯¹ä¸å¯¹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c9/93/c916fe2212f8f543ddf539296444d393.jpg?wh=1142*639\" alt=\"\"></p><h2>å¾ªç¯é˜Ÿåˆ—</h2><p>æˆ‘ä»¬åˆšæ‰ç”¨æ•°ç»„æ¥å®ç°é˜Ÿåˆ—çš„æ—¶å€™ï¼Œåœ¨tail==næ—¶ï¼Œä¼šæœ‰æ•°æ®æ¬ç§»æ“ä½œï¼Œè¿™æ ·å…¥é˜Ÿæ“ä½œæ€§èƒ½å°±ä¼šå—åˆ°å½±å“ã€‚é‚£æœ‰æ²¡æœ‰åŠæ³•èƒ½å¤Ÿé¿å…æ•°æ®æ¬ç§»å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹çœ‹å¾ªç¯é˜Ÿåˆ—çš„è§£å†³æ€è·¯ã€‚</p><p>å¾ªç¯é˜Ÿåˆ—ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒé•¿å¾—åƒä¸€ä¸ªç¯ã€‚åŸæœ¬æ•°ç»„æ˜¯æœ‰å¤´æœ‰å°¾çš„ï¼Œæ˜¯ä¸€æ¡ç›´çº¿ã€‚ç°åœ¨æˆ‘ä»¬æŠŠé¦–å°¾ç›¸è¿ï¼Œæ‰³æˆäº†ä¸€ä¸ªç¯ã€‚æˆ‘ç”»äº†ä¸€å¼ å›¾ï¼Œä½ å¯ä»¥ç›´è§‚åœ°æ„Ÿå—ä¸€ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/58/90/58ba37bb4102b87d66dffe7148b0f990.jpg?wh=1142*639\" alt=\"\"></p><p>æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå›¾ä¸­è¿™ä¸ªé˜Ÿåˆ—çš„å¤§å°ä¸º8ï¼Œå½“å‰head=4ï¼Œtail=7ã€‚å½“æœ‰ä¸€ä¸ªæ–°çš„å…ƒç´ aå…¥é˜Ÿæ—¶ï¼Œæˆ‘ä»¬æ”¾å…¥ä¸‹æ ‡ä¸º7çš„ä½ç½®ã€‚ä½†è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸æŠŠtailæ›´æ–°ä¸º8ï¼Œè€Œæ˜¯å°†å…¶åœ¨ç¯ä¸­åç§»ä¸€ä½ï¼Œåˆ°ä¸‹æ ‡ä¸º0çš„ä½ç½®ã€‚å½“å†æœ‰ä¸€ä¸ªå…ƒç´ bå…¥é˜Ÿæ—¶ï¼Œæˆ‘ä»¬å°†bæ”¾å…¥ä¸‹æ ‡ä¸º0çš„ä½ç½®ï¼Œç„¶åtailåŠ 1æ›´æ–°ä¸º1ã€‚æ‰€ä»¥ï¼Œåœ¨aï¼Œbä¾æ¬¡å…¥é˜Ÿä¹‹åï¼Œå¾ªç¯é˜Ÿåˆ—ä¸­çš„å…ƒç´ å°±å˜æˆäº†ä¸‹é¢çš„æ ·å­ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/71/80/71a41effb54ccea9dd463bde1b6abe80.jpg?wh=1142*639\" alt=\"\"></p><p>é€šè¿‡è¿™æ ·çš„æ–¹æ³•ï¼Œæˆ‘ä»¬æˆåŠŸé¿å…äº†æ•°æ®æ¬ç§»æ“ä½œã€‚çœ‹èµ·æ¥ä¸éš¾ç†è§£ï¼Œä½†æ˜¯å¾ªç¯é˜Ÿåˆ—çš„ä»£ç å®ç°éš¾åº¦è¦æ¯”å‰é¢è®²çš„éå¾ªç¯é˜Ÿåˆ—éš¾å¤šäº†ã€‚è¦æƒ³å†™å‡ºæ²¡æœ‰bugçš„å¾ªç¯é˜Ÿåˆ—çš„å®ç°ä»£ç ï¼Œæˆ‘ä¸ªäººè§‰å¾—ï¼Œæœ€å…³é”®çš„æ˜¯ï¼Œ<strong>ç¡®å®šå¥½é˜Ÿç©ºå’Œé˜Ÿæ»¡çš„åˆ¤å®šæ¡ä»¶</strong>ã€‚</p><p>åœ¨ç”¨æ•°ç»„å®ç°çš„éå¾ªç¯é˜Ÿåˆ—ä¸­ï¼Œé˜Ÿæ»¡çš„åˆ¤æ–­æ¡ä»¶æ˜¯tail == nï¼Œé˜Ÿç©ºçš„åˆ¤æ–­æ¡ä»¶æ˜¯head == tailã€‚é‚£é’ˆå¯¹å¾ªç¯é˜Ÿåˆ—ï¼Œå¦‚ä½•åˆ¤æ–­é˜Ÿç©ºå’Œé˜Ÿæ»¡å‘¢ï¼Ÿ</p><p>é˜Ÿåˆ—ä¸ºç©ºçš„åˆ¤æ–­æ¡ä»¶ä»ç„¶æ˜¯head == tailã€‚ä½†é˜Ÿåˆ—æ»¡çš„åˆ¤æ–­æ¡ä»¶å°±ç¨å¾®æœ‰ç‚¹å¤æ‚äº†ã€‚æˆ‘ç”»äº†ä¸€å¼ é˜Ÿåˆ—æ»¡çš„å›¾ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹ï¼Œè¯•ç€æ€»ç»“ä¸€ä¸‹è§„å¾‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/3d/ec/3d81a44f8c42b3ceee55605f9aeedcec.jpg?wh=1142*640\" alt=\"\"></p><p>å°±åƒæˆ‘å›¾ä¸­ç”»çš„é˜Ÿæ»¡çš„æƒ…å†µï¼Œtail=3ï¼Œhead=4ï¼Œn=8ï¼Œæ‰€ä»¥æ€»ç»“ä¸€ä¸‹è§„å¾‹å°±æ˜¯ï¼š(3+1)%8=4ã€‚å¤šç”»å‡ å¼ é˜Ÿæ»¡çš„å›¾ï¼Œä½ å°±ä¼šå‘ç°ï¼Œå½“é˜Ÿæ»¡æ—¶ï¼Œ<strong>(tail+1)%n=head</strong>ã€‚</p><p>ä½ æœ‰æ²¡æœ‰å‘ç°ï¼Œå½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œå›¾ä¸­çš„tailæŒ‡å‘çš„ä½ç½®å®é™…ä¸Šæ˜¯æ²¡æœ‰å­˜å‚¨æ•°æ®çš„ã€‚æ‰€ä»¥ï¼Œå¾ªç¯é˜Ÿåˆ—ä¼šæµªè´¹ä¸€ä¸ªæ•°ç»„çš„å­˜å‚¨ç©ºé—´ã€‚</p><p>Talk is cheapï¼Œå¦‚æœè¿˜æ˜¯æ²¡æ€ä¹ˆç†è§£ï¼Œé‚£å°±show you codeå§ã€‚</p><pre><code>public class CircularQueue {\n  // æ•°ç»„ï¼šitemsï¼Œæ•°ç»„å¤§å°ï¼šn\n  private String[] items;\n  private int n = 0;\n  // headè¡¨ç¤ºé˜Ÿå¤´ä¸‹æ ‡ï¼Œtailè¡¨ç¤ºé˜Ÿå°¾ä¸‹æ ‡\n  private int head = 0;\n  private int tail = 0;\n\n  // ç”³è¯·ä¸€ä¸ªå¤§å°ä¸ºcapacityçš„æ•°ç»„\n  public CircularQueue(int capacity) {\n    items = new String[capacity];\n    n = capacity;\n  }\n\n  // å…¥é˜Ÿ\n  public boolean enqueue(String item) {\n    // é˜Ÿåˆ—æ»¡äº†\n    if ((tail + 1) % n == head) return false;\n    items[tail] = item;\n    tail = (tail + 1) % n;\n    return true;\n  }\n\n  // å‡ºé˜Ÿ\n  public String dequeue() {\n    // å¦‚æœhead == tail è¡¨ç¤ºé˜Ÿåˆ—ä¸ºç©º\n    if (head == tail) return null;\n    String ret = items[head];\n    head = (head + 1) % n;\n    return ret;\n  }\n}\n</code></pre><h2>é˜»å¡é˜Ÿåˆ—å’Œå¹¶å‘é˜Ÿåˆ—</h2><p>å‰é¢è®²çš„å†…å®¹ç†è®ºæ¯”è¾ƒå¤šï¼Œçœ‹èµ·æ¥å¾ˆéš¾è·Ÿå®é™…çš„é¡¹ç›®å¼€å‘æ‰¯ä¸Šå…³ç³»ã€‚ç¡®å®ï¼Œé˜Ÿåˆ—è¿™ç§æ•°æ®ç»“æ„å¾ˆåŸºç¡€ï¼Œå¹³æ—¶çš„ä¸šåŠ¡å¼€å‘ä¸å¤§å¯èƒ½ä»é›¶å®ç°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œç”šè‡³éƒ½ä¸ä¼šç›´æ¥ç”¨åˆ°ã€‚è€Œä¸€äº›å…·æœ‰ç‰¹æ®Šç‰¹æ€§çš„é˜Ÿåˆ—åº”ç”¨å´æ¯”è¾ƒå¹¿æ³›ï¼Œæ¯”å¦‚é˜»å¡é˜Ÿåˆ—å’Œå¹¶å‘é˜Ÿåˆ—ã€‚</p><p><strong>é˜»å¡é˜Ÿåˆ—</strong>å…¶å®å°±æ˜¯åœ¨é˜Ÿåˆ—åŸºç¡€ä¸Šå¢åŠ äº†é˜»å¡æ“ä½œã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™ï¼Œä»é˜Ÿå¤´å–æ•°æ®ä¼šè¢«é˜»å¡ã€‚å› ä¸ºæ­¤æ—¶è¿˜æ²¡æœ‰æ•°æ®å¯å–ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰äº†æ•°æ®æ‰èƒ½è¿”å›ï¼›å¦‚æœé˜Ÿåˆ—å·²ç»æ»¡äº†ï¼Œé‚£ä¹ˆæ’å…¥æ•°æ®çš„æ“ä½œå°±ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰ç©ºé—²ä½ç½®åå†æ’å…¥æ•°æ®ï¼Œç„¶åå†è¿”å›ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/5e/eb/5ef3326181907dea0964f612890185eb.jpg?wh=1141*499\" alt=\"\"></p><p>ä½ åº”è¯¥å·²ç»å‘ç°äº†ï¼Œä¸Šè¿°çš„å®šä¹‰å°±æ˜¯ä¸€ä¸ªâ€œç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹â€ï¼æ˜¯çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é˜»å¡é˜Ÿåˆ—ï¼Œè½»æ¾å®ç°ä¸€ä¸ªâ€œç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹â€ï¼</p><p>è¿™ç§åŸºäºé˜»å¡é˜Ÿåˆ—å®ç°çš„â€œç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹â€ï¼Œå¯ä»¥æœ‰æ•ˆåœ°åè°ƒç”Ÿäº§å’Œæ¶ˆè´¹çš„é€Ÿåº¦ã€‚å½“â€œç”Ÿäº§è€…â€ç”Ÿäº§æ•°æ®çš„é€Ÿåº¦è¿‡å¿«ï¼Œâ€œæ¶ˆè´¹è€…â€æ¥ä¸åŠæ¶ˆè´¹æ—¶ï¼Œå­˜å‚¨æ•°æ®çš„é˜Ÿåˆ—å¾ˆå¿«å°±ä¼šæ»¡äº†ã€‚è¿™ä¸ªæ—¶å€™ï¼Œç”Ÿäº§è€…å°±é˜»å¡ç­‰å¾…ï¼Œç›´åˆ°â€œæ¶ˆè´¹è€…â€æ¶ˆè´¹äº†æ•°æ®ï¼Œâ€œç”Ÿäº§è€…â€æ‰ä¼šè¢«å”¤é†’ç»§ç»­â€œç”Ÿäº§â€ã€‚</p><p>è€Œä¸”ä¸ä»…å¦‚æ­¤ï¼ŒåŸºäºé˜»å¡é˜Ÿåˆ—ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡åè°ƒâ€œç”Ÿäº§è€…â€å’Œâ€œæ¶ˆè´¹è€…â€çš„ä¸ªæ•°ï¼Œæ¥æé«˜æ•°æ®çš„å¤„ç†æ•ˆç‡ã€‚æ¯”å¦‚å‰é¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥å¤šé…ç½®å‡ ä¸ªâ€œæ¶ˆè´¹è€…â€ï¼Œæ¥åº”å¯¹ä¸€ä¸ªâ€œç”Ÿäº§è€…â€ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/9f/67/9f539cc0f1edc20e7fa6559193898067.jpg?wh=1142*599\" alt=\"\"></p><p>å‰é¢æˆ‘ä»¬è®²äº†é˜»å¡é˜Ÿåˆ—ï¼Œåœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹ï¼Œä¼šæœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œé˜Ÿåˆ—ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œé‚£å¦‚ä½•å®ç°ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—å‘¢ï¼Ÿ</p><p>çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—æˆ‘ä»¬å«ä½œ<strong>å¹¶å‘é˜Ÿåˆ—</strong>ã€‚æœ€ç®€å•ç›´æ¥çš„å®ç°æ–¹å¼æ˜¯ç›´æ¥åœ¨enqueue()ã€dequeue()æ–¹æ³•ä¸ŠåŠ é”ï¼Œä½†æ˜¯é”ç²’åº¦å¤§å¹¶å‘åº¦ä¼šæ¯”è¾ƒä½ï¼ŒåŒä¸€æ—¶åˆ»ä»…å…è®¸ä¸€ä¸ªå­˜æˆ–è€…å–æ“ä½œã€‚å®é™…ä¸Šï¼ŒåŸºäºæ•°ç»„çš„å¾ªç¯é˜Ÿåˆ—ï¼Œåˆ©ç”¨CASåŸå­æ“ä½œï¼Œå¯ä»¥å®ç°éå¸¸é«˜æ•ˆçš„å¹¶å‘é˜Ÿåˆ—ã€‚è¿™ä¹Ÿæ˜¯å¾ªç¯é˜Ÿåˆ—æ¯”é“¾å¼é˜Ÿåˆ—åº”ç”¨æ›´åŠ å¹¿æ³›çš„åŸå› ã€‚åœ¨å®æˆ˜ç¯‡è®²Disruptorçš„æ—¶å€™ï¼Œæˆ‘ä¼šå†è¯¦ç»†è®²å¹¶å‘é˜Ÿåˆ—çš„åº”ç”¨ã€‚</p><h2>è§£ç­”å¼€ç¯‡</h2><p>é˜Ÿåˆ—çš„çŸ¥è¯†å°±è®²å®Œäº†ï¼Œæˆ‘ä»¬ç°åœ¨å›è¿‡æ¥çœ‹ä¸‹å¼€ç¯‡çš„é—®é¢˜ã€‚çº¿ç¨‹æ± æ²¡æœ‰ç©ºé—²çº¿ç¨‹æ—¶ï¼Œæ–°çš„ä»»åŠ¡è¯·æ±‚çº¿ç¨‹èµ„æºæ—¶ï¼Œçº¿ç¨‹æ± è¯¥å¦‚ä½•å¤„ç†ï¼Ÿå„ç§å¤„ç†ç­–ç•¥åˆæ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬ä¸€èˆ¬æœ‰ä¸¤ç§å¤„ç†ç­–ç•¥ã€‚ç¬¬ä¸€ç§æ˜¯éé˜»å¡çš„å¤„ç†æ–¹å¼ï¼Œç›´æ¥æ‹’ç»ä»»åŠ¡è¯·æ±‚ï¼›å¦ä¸€ç§æ˜¯é˜»å¡çš„å¤„ç†æ–¹å¼ï¼Œå°†è¯·æ±‚æ’é˜Ÿï¼Œç­‰åˆ°æœ‰ç©ºé—²çº¿ç¨‹æ—¶ï¼Œå–å‡ºæ’é˜Ÿçš„è¯·æ±‚ç»§ç»­å¤„ç†ã€‚é‚£å¦‚ä½•å­˜å‚¨æ’é˜Ÿçš„è¯·æ±‚å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¸Œæœ›å…¬å¹³åœ°å¤„ç†æ¯ä¸ªæ’é˜Ÿçš„è¯·æ±‚ï¼Œå…ˆè¿›è€…å…ˆæœåŠ¡ï¼Œæ‰€ä»¥é˜Ÿåˆ—è¿™ç§æ•°æ®ç»“æ„å¾ˆé€‚åˆæ¥å­˜å‚¨æ’é˜Ÿè¯·æ±‚ã€‚æˆ‘ä»¬å‰é¢è¯´è¿‡ï¼Œé˜Ÿåˆ—æœ‰åŸºäºé“¾è¡¨å’ŒåŸºäºæ•°ç»„è¿™ä¸¤ç§å®ç°æ–¹å¼ã€‚è¿™ä¸¤ç§å®ç°æ–¹å¼å¯¹äºæ’é˜Ÿè¯·æ±‚åˆæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p><p>åŸºäºé“¾è¡¨çš„å®ç°æ–¹å¼ï¼Œå¯ä»¥å®ç°ä¸€ä¸ªæ”¯æŒæ— é™æ’é˜Ÿçš„æ— ç•Œé˜Ÿåˆ—ï¼ˆunbounded queueï¼‰ï¼Œä½†æ˜¯å¯èƒ½ä¼šå¯¼è‡´è¿‡å¤šçš„è¯·æ±‚æ’é˜Ÿç­‰å¾…ï¼Œè¯·æ±‚å¤„ç†çš„å“åº”æ—¶é—´è¿‡é•¿ã€‚æ‰€ä»¥ï¼Œé’ˆå¯¹å“åº”æ—¶é—´æ¯”è¾ƒæ•æ„Ÿçš„ç³»ç»Ÿï¼ŒåŸºäºé“¾è¡¨å®ç°çš„æ— é™æ’é˜Ÿçš„çº¿ç¨‹æ± æ˜¯ä¸åˆé€‚çš„ã€‚</p><p>è€ŒåŸºäºæ•°ç»„å®ç°çš„æœ‰ç•Œé˜Ÿåˆ—ï¼ˆbounded queueï¼‰ï¼Œé˜Ÿåˆ—çš„å¤§å°æœ‰é™ï¼Œæ‰€ä»¥çº¿ç¨‹æ± ä¸­æ’é˜Ÿçš„è¯·æ±‚è¶…è¿‡é˜Ÿåˆ—å¤§å°æ—¶ï¼Œæ¥ä¸‹æ¥çš„è¯·æ±‚å°±ä¼šè¢«æ‹’ç»ï¼Œè¿™ç§æ–¹å¼å¯¹å“åº”æ—¶é—´æ•æ„Ÿçš„ç³»ç»Ÿæ¥è¯´ï¼Œå°±ç›¸å¯¹æ›´åŠ åˆç†ã€‚ä¸è¿‡ï¼Œè®¾ç½®ä¸€ä¸ªåˆç†çš„é˜Ÿåˆ—å¤§å°ï¼Œä¹Ÿæ˜¯éå¸¸æœ‰è®²ç©¶çš„ã€‚é˜Ÿåˆ—å¤ªå¤§å¯¼è‡´ç­‰å¾…çš„è¯·æ±‚å¤ªå¤šï¼Œé˜Ÿåˆ—å¤ªå°ä¼šå¯¼è‡´æ— æ³•å……åˆ†åˆ©ç”¨ç³»ç»Ÿèµ„æºã€å‘æŒ¥æœ€å¤§æ€§èƒ½ã€‚</p><p>é™¤äº†å‰é¢è®²åˆ°é˜Ÿåˆ—åº”ç”¨åœ¨çº¿ç¨‹æ± è¯·æ±‚æ’é˜Ÿçš„åœºæ™¯ä¹‹å¤–ï¼Œé˜Ÿåˆ—å¯ä»¥åº”ç”¨åœ¨ä»»ä½•æœ‰é™èµ„æºæ± ä¸­ï¼Œç”¨äºæ’é˜Ÿè¯·æ±‚ï¼Œæ¯”å¦‚æ•°æ®åº“è¿æ¥æ± ç­‰ã€‚<strong>å®é™…ä¸Šï¼Œå¯¹äºå¤§éƒ¨åˆ†èµ„æºæœ‰é™çš„åœºæ™¯ï¼Œå½“æ²¡æœ‰ç©ºé—²èµ„æºæ—¶ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥é€šè¿‡â€œé˜Ÿåˆ—â€è¿™ç§æ•°æ®ç»“æ„æ¥å®ç°è¯·æ±‚æ’é˜Ÿã€‚</strong></p><h2>å†…å®¹å°ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬è®²äº†ä¸€ç§è·Ÿæ ˆå¾ˆç›¸ä¼¼çš„æ•°æ®ç»“æ„ï¼Œé˜Ÿåˆ—ã€‚å…³äºé˜Ÿåˆ—ï¼Œä½ èƒ½æŒæ¡ä¸‹é¢çš„å†…å®¹ï¼Œè¿™èŠ‚å°±æ²¡é—®é¢˜äº†ã€‚</p><p>é˜Ÿåˆ—æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å…ˆè¿›å…ˆå‡ºï¼Œä¸»è¦çš„ä¸¤ä¸ªæ“ä½œæ˜¯å…¥é˜Ÿå’Œå‡ºé˜Ÿã€‚è·Ÿæ ˆä¸€æ ·ï¼Œå®ƒæ—¢å¯ä»¥ç”¨æ•°ç»„æ¥å®ç°ï¼Œä¹Ÿå¯ä»¥ç”¨é“¾è¡¨æ¥å®ç°ã€‚ç”¨æ•°ç»„å®ç°çš„å«é¡ºåºé˜Ÿåˆ—ï¼Œç”¨é“¾è¡¨å®ç°çš„å«é“¾å¼é˜Ÿåˆ—ã€‚ç‰¹åˆ«æ˜¯é•¿å¾—åƒä¸€ä¸ªç¯çš„å¾ªç¯é˜Ÿåˆ—ã€‚åœ¨æ•°ç»„å®ç°é˜Ÿåˆ—çš„æ—¶å€™ï¼Œä¼šæœ‰æ•°æ®æ¬ç§»æ“ä½œï¼Œè¦æƒ³è§£å†³æ•°æ®æ¬ç§»çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦åƒç¯ä¸€æ ·çš„å¾ªç¯é˜Ÿåˆ—ã€‚</p><p>å¾ªç¯é˜Ÿåˆ—æ˜¯æˆ‘ä»¬è¿™èŠ‚çš„é‡ç‚¹ã€‚è¦æƒ³å†™å‡ºæ²¡æœ‰bugçš„å¾ªç¯é˜Ÿåˆ—å®ç°ä»£ç ï¼Œå…³é”®è¦ç¡®å®šå¥½é˜Ÿç©ºå’Œé˜Ÿæ»¡çš„åˆ¤å®šæ¡ä»¶ï¼Œå…·ä½“çš„ä»£ç ä½ è¦èƒ½å†™å‡ºæ¥ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜è®²äº†å‡ ç§é«˜çº§çš„é˜Ÿåˆ—ç»“æ„ï¼Œé˜»å¡é˜Ÿåˆ—ã€å¹¶å‘é˜Ÿåˆ—ï¼Œåº•å±‚éƒ½è¿˜æ˜¯é˜Ÿåˆ—è¿™ç§æ•°æ®ç»“æ„ï¼Œåªä¸è¿‡åœ¨ä¹‹ä¸Šé™„åŠ äº†å¾ˆå¤šå…¶ä»–åŠŸèƒ½ã€‚é˜»å¡é˜Ÿåˆ—å°±æ˜¯å…¥é˜Ÿã€å‡ºé˜Ÿæ“ä½œå¯ä»¥é˜»å¡ï¼Œå¹¶å‘é˜Ÿåˆ—å°±æ˜¯é˜Ÿåˆ—çš„æ“ä½œå¤šçº¿ç¨‹å®‰å…¨ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><ol>\n<li>\n<p>é™¤äº†çº¿ç¨‹æ± è¿™ç§æ± ç»“æ„ä¼šç”¨åˆ°é˜Ÿåˆ—æ’é˜Ÿè¯·æ±‚ï¼Œä½ è¿˜çŸ¥é“æœ‰å“ªäº›ç±»ä¼¼çš„æ± ç»“æ„æˆ–è€…åœºæ™¯ä¸­ä¼šç”¨åˆ°é˜Ÿåˆ—çš„æ’é˜Ÿè¯·æ±‚å‘¢ï¼Ÿ</p>\n</li>\n<li>\n<p>ä»Šå¤©è®²åˆ°å¹¶å‘é˜Ÿåˆ—ï¼Œå…³äºå¦‚ä½•å®ç°æ— é”å¹¶å‘é˜Ÿåˆ—ï¼Œç½‘ä¸Šæœ‰éå¸¸å¤šçš„è®¨è®ºã€‚å¯¹è¿™ä¸ªé—®é¢˜ï¼Œä½ æ€ä¹ˆçœ‹å‘¢ï¼Ÿ</p>\n</li>\n</ol><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘åˆ†äº«ï¼Œæˆ‘ä¼šç¬¬ä¸€æ—¶é—´ç»™ä½ åé¦ˆã€‚</p><hr><p><span class=\"orange\">æˆ‘å·²å°†æœ¬èŠ‚å†…å®¹ç›¸å…³çš„è¯¦ç»†ä»£ç æ›´æ–°åˆ°GitHubï¼Œ<a href=\"https://github.com/wangzheng0822/algo\">æˆ³æ­¤</a>å³å¯æŸ¥çœ‹ã€‚</span></p>","neighbors":{"left":{"article_title":"08 | æ ˆï¼šå¦‚ä½•å®ç°æµè§ˆå™¨çš„å‰è¿›å’Œåé€€åŠŸèƒ½ï¼Ÿ","id":41222},"right":{"article_title":"10 |  é€’å½’ï¼šå¦‚ä½•ç”¨ä¸‰è¡Œä»£ç æ‰¾åˆ°â€œæœ€ç»ˆæ¨èäººâ€ï¼Ÿ","id":41440}},"comments":[{"had_liked":false,"id":31209,"user_name":"åŸ","can_delete":false,"product_type":"c1","uid":1035315,"ip_address":"","ucode":"32C4FCE1944000","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cc/33/19f150d9.jpg","comment_is_top":true,"comment_ctime":1539132392,"is_pvip":false,"replies":[{"id":"11228","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":31209,"uid":"1190123","ip_address":"","utype":1,"ctime":1539135287,"user_name_real":"gg"}],"discussion_count":35,"race_medal":0,"score":"9.2233736404167004e+18","product_id":100017301,"comment_content":"1.åˆ†å¸ƒå¼åº”ç”¨ä¸­çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¹Ÿæ˜¯ä¸€ç§é˜Ÿåˆ—ç»“æ„<br>2.è€ƒè™‘ä½¿ç”¨CASå®ç°æ— é”é˜Ÿåˆ—ï¼Œåˆ™åœ¨å…¥é˜Ÿå‰ï¼Œè·å–tailä½ç½®ï¼Œå…¥é˜Ÿæ—¶æ¯”è¾ƒtailæ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœå¦ï¼Œåˆ™å…è®¸å…¥é˜Ÿï¼Œåä¹‹ï¼Œæœ¬æ¬¡å…¥é˜Ÿå¤±è´¥ã€‚å‡ºé˜Ÿåˆ™æ˜¯è·å–headä½ç½®ï¼Œè¿›è¡Œcasã€‚<br>ä¸ªäººæµ…è§ï¼Œè¯·æ‰¹è¯„æŒ‡æ­£","like_count":373,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426257,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539135287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1059993,"avatar":"https://static001.geekbang.org/account/avatar/00/10/2c/99/4df1ce56.jpg","nickname":"é™ˆäº®","note":"","ucode":"C3F3B40C50C81F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":76709,"discussion_content":"ç¬¬äºŒç‚¹æˆ‘ä¸æ˜¯å¾ˆè®¤åŒï¼Œåˆ¤æ–­æ˜¯å¦å‘ç”Ÿå˜åŒ–å’Œå…¥é˜Ÿå‡ºå¯¹æ˜¯ä¸¤æ­¥æ“ä½œï¼Œå¦‚ä½•ä¿è¯åœ¨ä»–ä¸¤ä¸­é—´æ²¡æœ‰æ•°æ®å†™å…¥å‘¢ï¼Ÿ","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1575848910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1713885,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/26/dd/9b764dc7.jpg","nickname":"zard_sakai","note":"","ucode":"1466C541F9FB26","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1059993,"avatar":"https://static001.geekbang.org/account/avatar/00/10/2c/99/4df1ce56.jpg","nickname":"é™ˆäº®","note":"","ucode":"C3F3B40C50C81F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294559,"discussion_content":"è¿™å°±æ¶‰åŠåˆ°ABAé—®é¢˜äº†ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å¸¦æ—¶é—´æˆ³çš„åŸå­ç±»","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1595927642,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":76709,"ip_address":""},"score":294559,"extra":""},{"author":{"id":1204353,"avatar":"https://static001.geekbang.org/account/avatar/00/12/60/81/eaf6d0ac.jpg","nickname":"æ‹‰å¸ƒæ‹‰å¤š","note":"","ucode":"637A88D9F29F57","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1713885,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/26/dd/9b764dc7.jpg","nickname":"zard_sakai","note":"","ucode":"1466C541F9FB26","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312637,"discussion_content":"è¿™ä¸æ˜¯ABAé—®é¢˜ã€‚ä»–è¯´çš„æ˜¯åŸå­æ€§é—®é¢˜ï¼Œå› ä¸ºä¸æ˜¯åŒä¸€æ­¥æ“ä½œã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602754332,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":294559,"ip_address":""},"score":312637,"extra":""},{"author":{"id":1339586,"avatar":"https://static001.geekbang.org/account/avatar/00/14/70/c2/0df5cc71.jpg","nickname":"Melon","note":"","ucode":"8E4A96B3BA0239","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1059993,"avatar":"https://static001.geekbang.org/account/avatar/00/10/2c/99/4df1ce56.jpg","nickname":"é™ˆäº®","note":"","ucode":"C3F3B40C50C81F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370896,"discussion_content":"&#34;æ¯”è¾ƒtailæ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœå¦ï¼Œåˆ™å…è®¸å…¥é˜Ÿ&#34;è¿™æ˜¯ä¸€æ¬¡casæ“ä½œï¼Œæ˜¯è¦ç¡®ä¿åŸå­æ€§çš„","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1619575844,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":76709,"ip_address":""},"score":370896,"extra":""}]},{"author":{"id":1134288,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/d0/d8a5f720.jpg","nickname":"Kenå¼ äº‘å¿ ","note":"","ucode":"D0BAC9FC17DE2B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":237887,"discussion_content":"ä¸ªäººç†è§£:CASæœ¬è´¨æ˜¯ä»¥è½®è¯¢çš„æ–¹å¼ç«äº‰ç»†ç²’åº¦çš„èµ„æºæ¥æ“ä½œæ•°æ®,è¿™é‡Œè¯´çš„æ— é”æŒ‡çš„æ˜¯ä¸ä½¿ç”¨ç”¨åœ¨å¯¹è±¡ä¸­çš„é‡é‡çº§é”.\nä¼šç”¨å¤šä¸ªå°çš„é˜Ÿåˆ—å…ˆæ¥å­˜å‚¨è¯·æ±‚çš„æ•°æ®å’Œè¯·æ±‚é¡ºåº,ç„¶åå¤šä¸ªå°çš„é˜Ÿåˆ—å†æŒ‰ç…§CASç«äº‰çš„æ–¹å¼å‘å¤§çš„é˜Ÿåˆ—æäº¤å°é˜Ÿåˆ—ä¸­çš„å†…å®¹,è¿™æ ·æäº¤æ—¶ä¸€æ¬¡æ€§å°±å¯ä»¥æäº¤å¤šä»½è¯·æ±‚åˆ°æœ€ç»ˆçš„å¤§é˜Ÿåˆ—ä¸­,è€Œä¸”ä¹Ÿå¤§å¤§å‡å°‘äº†ç«äº‰çš„æ¬¡æ•°,è¿™ä¹Ÿæ˜¯ç”¨ç©ºé—´æ¢æ—¶é—´çš„ä¸€ç§æ–¹å¼,ç”¨æ›´å¤šçš„å†…å­˜æ¥æ¢å–æ›´é«˜çš„å¤„ç†æ•ˆç‡.","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1587195045,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1204353,"avatar":"https://static001.geekbang.org/account/avatar/00/12/60/81/eaf6d0ac.jpg","nickname":"æ‹‰å¸ƒæ‹‰å¤š","note":"","ucode":"637A88D9F29F57","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1134288,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/d0/d8a5f720.jpg","nickname":"Kenå¼ äº‘å¿ ","note":"","ucode":"D0BAC9FC17DE2B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379534,"discussion_content":"è¿™ä¸ªæƒ³æ³•èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623942606,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":237887,"ip_address":""},"score":379534,"extra":""},{"author":{"id":1599768,"avatar":"https://static001.geekbang.org/account/avatar/00/18/69/18/ca8a5c22.jpg","nickname":"æ”¶","note":"","ucode":"EC3338DB7AEF34","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1134288,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4e/d0/d8a5f720.jpg","nickname":"Kenå¼ äº‘å¿ ","note":"","ucode":"D0BAC9FC17DE2B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571594,"discussion_content":"ç±»ä¼¼äºèµ„æºè¯·æ±‚ï¼Œæ€»æœ‰ä¸€ä¸ªå…ˆåé¡ºåºã€‚å…ˆå°†æ“ä½œå…¥å¤šä¸ªå°é˜Ÿåˆ—ï¼Œç„¶åå°é˜Ÿåˆ—ä¹‹é—´äº‰å¤ºå¤§é˜Ÿåˆ—èµ„æºã€‚æœ¬è´¨ä¸Šæ˜¯å°†å¯¹ä¸€ä¸ªèµ„æºäº‰ç”¨åˆ†æ‘Šåˆ°å¤šä¸ªèµ„æºçš„äº‰ç”¨ï¼ˆåŠ å…¥åˆ°å°é˜Ÿåˆ—éœ€è¦äº‰é”èµ„æºï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652282531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":237887,"ip_address":""},"score":571594,"extra":""}]},{"author":{"id":1448864,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1b/a0/7c7d1b4a.jpg","nickname":"å¾å¸…","note":"","ucode":"BDF904280E2330","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":26569,"discussion_content":"C++ 11 æ— é”é˜Ÿåˆ—å¼€æºå‡½æ•°åº“ï¼šconcurrentqueueï¼Œc# æ— é”é˜Ÿåˆ—ç³»ç»Ÿåº“ï¼šSystem.Collections.Concurrent","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1570608708,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1926508,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/65/6c/be97a3ae.jpg","nickname":"Geek_bb2310","note":"","ucode":"022885B257DEB3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1448864,"avatar":"https://static001.geekbang.org/account/avatar/00/16/1b/a0/7c7d1b4a.jpg","nickname":"å¾å¸…","note":"","ucode":"BDF904280E2330","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259792,"discussion_content":"å“ªéƒ½æœ‰ä½ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588817599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":26569,"ip_address":""},"score":259792,"extra":""}]},{"author":{"id":1016889,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/39/c8772466.jpg","nickname":"æ— å½¢","note":"","ucode":"B740E2A68A17A5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3118,"discussion_content":"casä¹Ÿæ˜¯ä¸€ç§é”ï¼Œæ“ä½œç³»ç»Ÿæä¾›çš„åŸå­é”ï¼Œæ€§èƒ½æ¯”æ¯”äº’æ–¥é”è¦é«˜","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1564202311,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1466335,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5f/df/3c4881f0.jpg","nickname":"Geek","note":"","ucode":"1B8EB2C26DE4EC","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":138580,"discussion_content":"åªç”¨casåº”è¯¥æ— æ³•å®ç°ï¼ŒJavaçš„æ— é”é˜Ÿåˆ—ConcurrentLinkedQueueä½¿ç”¨cas+ä¸å˜å¼æ¥ä¿è¯çš„","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1579254352,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1227107,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b9/63/a3b11794.jpg","nickname":"éº¦æŠ ","note":"","ucode":"875DEA26F38BAB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2863,"discussion_content":"ä¹è§‚é”","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1563981568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1210386,"avatar":"https://static001.geekbang.org/account/avatar/00/12/78/12/7df38a54.jpg","nickname":"helloworld2018","note":"","ucode":"2AE40C0DF5A9F7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2854,"discussion_content":"å¯¹å—ï¼Ÿæ£€æŸ¥å®Œå…¥é˜Ÿçš„æ—¶å€™å‘ç”Ÿå˜åŒ–å‘¢","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1563973191,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1187545,"avatar":"https://static001.geekbang.org/account/avatar/00/12/1e/d9/cb12e020.jpg","nickname":"è±†è±†","note":"","ucode":"F38848C82F7520","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1210386,"avatar":"https://static001.geekbang.org/account/avatar/00/12/78/12/7df38a54.jpg","nickname":"helloworld2018","note":"","ucode":"2AE40C0DF5A9F7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":69082,"discussion_content":"é‡è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575259105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":2854,"ip_address":""},"score":69082,"extra":""}]},{"author":{"id":1125133,"avatar":"https://static001.geekbang.org/account/avatar/00/11/2b/0d/f4e7245a.jpg","nickname":"é»‘æ¡ƒ","note":"","ucode":"16B4DD54806CB3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557257,"discussion_content":"å…³äºå…¥é˜Ÿï¼Œç²¾å‡†çš„æè¿°åº”è¯¥æ˜¯ï¼šåœ¨å…¥é˜Ÿå‰ï¼Œè·å–tailä½ç½®ï¼Œå…¥é˜Ÿæ—¶è¿›è¡Œcasè®¾ç½®ï¼ŒcasæˆåŠŸåˆ™æœ¬æ¬¡æˆåŠŸï¼Œå¦åˆ™æœ¬æ¬¡å¤±è´¥ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå…¥é˜Ÿæ—¶ä¸ä»…è¦åˆ¤æ–­tailä½ç½®ï¼Œè¿˜è¦ä¿®æ”¹ï¼Œå½“ç„¶è¿™å°±æ˜¯casæ“ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647742395,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1468554,"avatar":"https://static001.geekbang.org/account/avatar/00/16/68/8a/af8e49a8.jpg","nickname":"çºªè€çŒ´å­","note":"","ucode":"05962FE7279802","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":403474,"discussion_content":"æ— é”é˜Ÿåˆ—åº•å±‚é‡è¦çš„æ•°æ®ç»“æ„ä¸€èˆ¬æ˜¯åŸå­å˜é‡ï¼Œæ²¡æœ‰åŸå­å˜é‡åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ä¼šæœ‰é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634088216,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2350349,"avatar":"","nickname":"Geek_8dcb83","note":"","ucode":"27C7B06D5A4B4F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336098,"discussion_content":"é‡åˆ°abaå’‹åŠå•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608476890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":2106861,"avatar":"https://static001.geekbang.org/account/avatar/00/20/25/ed/6a6476e8.jpg","nickname":"â…£","note":"","ucode":"13CAFF851E409E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2350349,"avatar":"","nickname":"Geek_8dcb83","note":"","ucode":"27C7B06D5A4B4F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339957,"discussion_content":"è¦è§£å†³abaå®é™…ä¸Šè¿˜æ˜¯å¾—åŠ ç‰ˆæœ¬å·åˆ©ç”¨ä¹è§‚é”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609848315,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":336098,"ip_address":""},"score":339957,"extra":""},{"author":{"id":1803215,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/83/cf/1f3b5b17.jpg","nickname":"Jaden~ãŠå¼µå˜‰æ¥½","note":"","ucode":"FA2737D6A1D2C9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2350349,"avatar":"","nickname":"Geek_8dcb83","note":"","ucode":"27C7B06D5A4B4F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373364,"discussion_content":"å°ç™½ï¼šå•¥æ˜¯ï¼¡ï¼¢ï¼¡å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620706223,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":336098,"ip_address":""},"score":373364,"extra":""},{"author":{"id":2094925,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/f7/4d/09554c96.jpg","nickname":"iron bo","note":"","ucode":"4BFB1331637AA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1803215,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/83/cf/1f3b5b17.jpg","nickname":"Jaden~ãŠå¼µå˜‰æ¥½","note":"","ucode":"FA2737D6A1D2C9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373684,"discussion_content":"å½“çº¿ç¨‹1è§‚å¯Ÿåˆ°æ­¤æ—¶æŒ‡é’ˆæŒ‡å‘Aï¼Œçº¿ç¨‹Aå¼€å§‹å¤„ç†ï¼Œçº¿ç¨‹2æŠŠæŒ‡é’ˆæŒ‡å‘äº†Bï¼Œç„¶ååˆæŒ‡å‘äº†Aï¼Œçº¿ç¨‹1æ‰§è¡Œå®Œåè§‚å¯Ÿåˆ°æŒ‡é’ˆè¿˜æ˜¯æŒ‡å‘Aï¼Œæ‰€ä»¥è®¤ä¸ºæ²¡æœ‰å¹¶å‘å†²çªï¼Œä½†å®é™…æŒ‡é’ˆæ˜¯å‘ç”Ÿäº†å˜åŒ–çš„","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1620825532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":373364,"ip_address":""},"score":373684,"extra":""}]},{"author":{"id":1721895,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/46/27/eb318d12.jpg","nickname":"Geek_4b6813","note":"","ucode":"ED10C17BE368B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":66600,"discussion_content":"ç¬¬äºŒç‚¹ä¸å¤ªè®¤åŒ æ£€æŸ¥tailçš„ä½ç½®å®é™…ä¸Šä¸èƒ½å¹¶å‘è®¿é—®çš„é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575088933,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":9,"child_discussions":[{"author":{"id":1132661,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","nickname":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","note":"","ucode":"C4C9915866E769","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1721895,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/46/27/eb318d12.jpg","nickname":"Geek_4b6813","note":"","ucode":"ED10C17BE368B4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":70072,"discussion_content":"ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™é‡Œç”¨è€ƒè™‘ABAé—®é¢˜å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575307220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":66600,"ip_address":""},"score":70072,"extra":""},{"author":{"id":1721895,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/46/27/eb318d12.jpg","nickname":"Geek_4b6813","note":"","ucode":"ED10C17BE368B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1132661,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","nickname":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","note":"","ucode":"C4C9915866E769","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":109192,"discussion_content":"é™¤éä½ ä¿è¯ä½ æ£€æŸ¥å’Œå†™å…¥é˜Ÿå°¾çš„æ“ä½œæ˜¯åŸå­æ€§çš„\nä¸ç„¶è¿™ä¸ªæ£€æŸ¥æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ \næƒ³è±¡ä¸€ä¸‹açº¿ç¨‹å…¥é˜Ÿå‰è·å–åˆ°tailç­‰äº8ï¼Œå…¥é˜Ÿæ—¶åœ¨è·å–ä¸€ä¸‹tailå‘ç°ä¹Ÿæ˜¯8.  æ­¤æ—¶ifåˆ¤æ–­é€šè¿‡ï¼Œçº¿ç¨‹aé©¬ä¸Šå°±è¦æŠŠæ•°æ®æ’å…¥é˜Ÿå°¾äº†ã€‚ä½†æ˜¯æ­¤æ—¶å‘ç”Ÿäº†çº¿ç¨‹è°ƒåº¦ã€‚åˆ‡æ¢åˆ°äº†å¦ä¸€ä¸ªçº¿ç¨‹b\nçº¿ç¨‹bæ£€æŸ¥tailå‘ç°æ˜¯8ï¼Œç„¶åå®Œæˆæ’å…¥ã€‚è¿™ä¸ªæ—¶å€™åœ¨åˆ‡æ¢æˆaçº¿ç¨‹ï¼Œaçº¿ç¨‹ä¼šå®Œæˆä¹‹å‰çš„æ“ä½œï¼Œç»§ç»­åœ¨tail=8çš„ä½ç½®æ’å…¥æ•°æ®ï¼Œè¦†ç›–æ‰bçº¿ç¨‹å†™çš„æ•°æ®ã€‚å°±å‡ºç°äº†ä¸¢å¤±ä¿®æ”¹ã€‚\n\né™¤éä½ èƒ½ä¿è¯è·å–tailå¹¶æŠŠæ•°æ®å…¥é˜Ÿè¿™ä¸ªæ“ä½œæ˜¯ä¸ªåŸå­æ€§æ“ä½œï¼Œä¸ç„¶è¿™ä¸€æ­¥æ¯«æ— æ„ä¹‰ã€‚","likes_number":31,"is_delete":false,"is_hidden":false,"ctime":1577672954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":70072,"ip_address":""},"score":109192,"extra":""},{"author":{"id":1188023,"avatar":"https://static001.geekbang.org/account/avatar/00/12/20/b7/bdb3bcf0.jpg","nickname":"Eternal","note":"","ucode":"EA6FE7CC98F740","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1132661,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","nickname":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","note":"","ucode":"C4C9915866E769","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":190548,"discussion_content":"éœ€è¦è€ƒè™‘ABAé—®é¢˜çš„ï¼Œ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1582957579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":70072,"ip_address":""},"score":190548,"extra":""}]}]},{"had_liked":false,"id":31402,"user_name":"wean","can_delete":false,"product_type":"c1","uid":1239735,"ip_address":"","ucode":"3E069F95C25EAD","user_header":"https://static001.geekbang.org/account/avatar/00/12/ea/b7/1f7316e6.jpg","comment_is_top":true,"comment_ctime":1539172710,"is_pvip":false,"replies":[{"id":"11438","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":31402,"uid":"1190123","ip_address":"","utype":1,"ctime":1539270159,"user_name_real":"gg"}],"discussion_count":5,"race_medal":0,"score":"9.2233724507108004e+18","product_id":100017301,"comment_content":"é˜Ÿåˆ—ä¹Ÿæ˜¯ä¸€ç§â€œæ“ä½œå—é™â€çš„çº¿æ€§è¡¨ï¼Œåªæ”¯æŒä¸¤ç§åŸºæœ¬æ“ä½œï¼šå…¥é˜Ÿå’Œå‡ºé˜Ÿã€‚<br><br>é˜Ÿåˆ—çš„åº”ç”¨éå¸¸å¹¿æ³›ï¼Œç‰¹åˆ«æ˜¯ä¸€äº›å…·æœ‰æŸäº›é¢å¤–ç‰¹æ€§çš„é˜Ÿåˆ—ï¼Œæ¯”å¦‚å¾ªç¯é˜Ÿåˆ—ã€é˜»å¡é˜Ÿåˆ—ã€å¹¶å‘é˜Ÿåˆ—ã€‚å®ƒä»¬åœ¨å¾ˆå¤šååº•å±‚çš„ç³»ç»Ÿã€æ¡†æ¶ã€ä¸­é—´ä»¶çš„å¼€å‘ä¸­ï¼Œèµ·ç€å…³é”®æ€§çš„ä½œç”¨ã€‚æ¯”å¦‚é«˜æ€§èƒ½é˜Ÿåˆ— Disruptorã€Linux ç¯å½¢ç¼“å­˜ï¼Œéƒ½ç”¨åˆ°äº†å¾ªç¯å¹¶å‘é˜Ÿåˆ—ï¼›Java concurrent å¹¶å‘åŒ…åˆ©ç”¨ ArrayBlockingQueue æ¥å®ç°å…¬å¹³é”ç­‰ã€‚<br><br>å…³äºå¦‚ä½•å®ç°æ— é”å¹¶å‘é˜Ÿåˆ—<br>å¯ä»¥ä½¿ç”¨ cas + æ•°ç»„çš„æ–¹å¼å®ç°ã€‚<br><br>é˜Ÿåˆ—çš„å…¶ä»–åº”ç”¨<br>åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¦‚ kafka ä¹Ÿæ˜¯ä¸€ç§é˜Ÿåˆ—ã€‚","like_count":96,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426323,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539270159,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1737112,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKoiaQjaxOgcsPTYtfOB1zmduPianpaVQZgES7icTpNFzWwaPFIIia6aIibib0wJZOAibetoID62Ihzy0nibQ/132","nickname":"Robert","note":"","ucode":"8F0611B7DF4A67","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":239339,"discussion_content":"Java concurrent å¹¶å‘åŒ…åˆ©ç”¨ ArrayBlockingQueue æ¥å®ç°å…¬å¹³é”ç­‰ã€‚\nè¿™å¥è¯æœ‰ä¸ªç–‘é—®ï¼Ÿè¿™é‡Œçš„ArrayBlockingQueueæ˜¯ä¸æ˜¯åº”è¯¥æ˜¯AbstractBlockingQueueï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1587294928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1070213,"avatar":"https://static001.geekbang.org/account/avatar/00/10/54/85/081804f7.jpg","nickname":"é€é¥","note":"","ucode":"95C583EF780159","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7908,"discussion_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹æ‚¨çš„githubåœ°å€æ˜¯å¤šå°‘å•Šï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567726951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1257099,"avatar":"https://static001.geekbang.org/account/avatar/00/13/2e/8b/ea0a1585.jpg","nickname":"Joker","note":"","ucode":"9662D56F5EA546","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1070213,"avatar":"https://static001.geekbang.org/account/avatar/00/10/54/85/081804f7.jpg","nickname":"é€é¥","note":"","ucode":"95C583EF780159","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":9539,"discussion_content":"æ¯ç¯‡æ–‡ç« ç»“æŸéƒ½æœ‰githubçš„å…¥å£ï¼Œä½ ä»”ç»†çœ‹ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568184033,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":7908,"ip_address":""},"score":9539,"extra":""},{"author":{"id":1070213,"avatar":"https://static001.geekbang.org/account/avatar/00/10/54/85/081804f7.jpg","nickname":"é€é¥","note":"","ucode":"95C583EF780159","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1257099,"avatar":"https://static001.geekbang.org/account/avatar/00/13/2e/8b/ea0a1585.jpg","nickname":"Joker","note":"","ucode":"9662D56F5EA546","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":10965,"discussion_content":"å—¯ï¼Œå·²ç»æ‰¾åˆ°äº†ï¼Œæ˜¯æˆ‘ä¸å¤Ÿè®¤çœŸï¼Œå¤šè°¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568345042,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":9539,"ip_address":""},"score":10965,"extra":""}]}]},{"had_liked":false,"id":31222,"user_name":"èŠ±è§ç¬‘","can_delete":false,"product_type":"c1","uid":1219485,"ip_address":"","ucode":"8A5122BC11E695","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/9d/d487c368.jpg","comment_is_top":true,"comment_ctime":1539133554,"is_pvip":false,"replies":[{"id":"11241","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":31222,"uid":"1190123","ip_address":"","utype":1,"ctime":1539137071,"user_name_real":"gg"}],"discussion_count":4,"race_medal":0,"score":"9.2233724120561009e+18","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—çš„é•¿åº¦è®¾å®šéœ€è¦å¯¹å¹¶å‘æ•°æ®æœ‰ä¸€å®šçš„é¢„æµ‹ï¼Œå¦åˆ™ä¼šä¸¢å¤±å¤ªå¤šè¯·æ±‚ã€‚","like_count":87,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426259,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539137071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1926991,"avatar":"","nickname":"åˆ˜åš","note":"","ucode":"1E97481807BB48","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":264662,"discussion_content":"é˜Ÿåˆ—å…ƒç´ è®¾ç½®æˆé“¾è¡¨ï¼Œä¸€ç¯å¥—ä¸€ç¯ï¼Œå¯ä»¥å®ç°ç¯å½¢é˜Ÿåˆ—æ— é™å­˜å‚¨ï¼Œç›¸å½“äºhashmapçš„æ•°ç»„è¿åŸäº†ç¯ï¼Œä¸è¿‡æ—¶é—´å¤æ‚åº¦ä¹Ÿä¼šæå‡ï¼Œæƒ³åˆ°äº†æ€ç»´å‘æ•£ä¸€ä¸‹ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1589342295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1076768,"avatar":"https://static001.geekbang.org/account/avatar/00/10/6e/20/a0740b7d.jpg","nickname":"åˆ˜æ™ºæ•","note":"","ucode":"83D3DE25192DD6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1926991,"avatar":"","nickname":"åˆ˜åš","note":"","ucode":"1E97481807BB48","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569265,"discussion_content":"é‚£è¿˜æœ‰å¿…è¦ç”¨å¾ªç¯é˜Ÿåˆ—ä¹ˆï¼Œç›´æ¥æ— é™è·¯é˜Ÿå°±å¥½äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651387689,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":264662,"ip_address":""},"score":569265,"extra":""}]},{"author":{"id":1637933,"avatar":"https://static001.geekbang.org/account/avatar/00/18/fe/2d/e23fc6ee.jpg","nickname":"æ·±æ°´è“","note":"","ucode":"3E3B195DE54DE1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571816,"discussion_content":"å¾ªç¯é˜Ÿåˆ—ä¹Ÿå¯ä»¥æƒ³é¡ºåºé˜Ÿåˆ—ä¸€æ ·ï¼Œé˜Ÿæ»¡çš„æ—¶å€™é‡æ–°ç”³è¯·ä¸€ä¸ªå¤§æ•°ç»„ä½œä¸ºé˜Ÿåˆ—çš„ç¯ã€‚å¦‚æœæœ‰å¿…è¦å›æ”¶å†…å­˜ï¼Œä¹Ÿå¯ä»¥åœ¨é˜Ÿé•¿åº¦å°äºä¸€å®šç¨‹åº¦åé‡æ–°ç”³è¯·ä¸€ä¸ªå°æ•°ç»„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652420559,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":true,"id":31686,"user_name":"å…¬ä¼—å·ï¼šå°é¹¿åŠ¨ç”»å­¦ç¼–ç¨‹","can_delete":false,"product_type":"c1","uid":1235540,"ip_address":"","ucode":"2450C1AA6CB5DB","user_header":"https://static001.geekbang.org/account/avatar/00/12/da/54/6d062f1d.jpg","comment_is_top":false,"comment_ctime":1539264938,"is_pvip":false,"replies":[{"id":"11490","content":"ğŸ˜‚","user_name":"ä½œè€…å›å¤","comment_id":31686,"uid":"1190123","ip_address":"","utype":1,"ctime":1539310718,"user_name_real":"gg"}],"discussion_count":50,"race_medal":0,"score":"3347318788522","product_id":100017301,"comment_content":"ç‹äº‰è€å¸ˆï¼Œä¸ºäº†æ›´å¥½çš„åŒºåˆ†é˜Ÿåˆ—å’Œæ ˆï¼Œå°é¹¿ç»™å¤§å®¶ä¸€ä¸ªæ›´å¥½çš„å£è¯€ã€‚<br>â€œåƒå¤šäº†æ‹‰å°±æ˜¯é˜Ÿåˆ—ï¼Œåƒå¤šäº†åå°±æ˜¯æ ˆâ€ã€‚å“ˆå“ˆï¼","like_count":780,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426466,"discussion_content":"ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539310718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1049017,"avatar":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","nickname":"å­¦ä¹ å­¦ä¸ªå±","note":"","ucode":"DF2D61E6FB2FCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":131536,"discussion_content":"å¾ªç¯é˜Ÿåˆ—å°±æ˜¯åƒè‡ªå·±æ‹‰çš„","likes_number":45,"is_delete":false,"is_hidden":false,"ctime":1578841701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1240629,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ee/35/5647c7e5.jpg","nickname":"å¸‚é›†å…»çŒ«è€…","note":"","ucode":"D44FF82C51C617","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1049017,"avatar":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","nickname":"å­¦ä¹ å­¦ä¸ªå±","note":"","ucode":"DF2D61E6FB2FCE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":135261,"discussion_content":"é­”é¬¼å“ˆå“ˆå“ˆ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1579080928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":131536,"ip_address":""},"score":135261,"extra":""},{"author":{"id":1019807,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8f/9f/e49b68ea.jpg","nickname":"å¹½å¼¥ç‹‚","note":"","ucode":"5AECEA7D6ADF33","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1049017,"avatar":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","nickname":"å­¦ä¹ å­¦ä¸ªå±","note":"","ucode":"DF2D61E6FB2FCE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217909,"discussion_content":"é­”é¬¼","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1585583817,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":131536,"ip_address":""},"score":217909,"extra":""}]},{"author":{"id":1026894,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ab/4e/82e9657c.jpg","nickname":"jeff","note":"","ucode":"68456DD035BDF4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330634,"discussion_content":"ä¸ä¸¥è°¨ åä¸èƒ½ä¿è¯ åè¿›å…ˆå‡º","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1606660701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2122304,"avatar":"https://static001.geekbang.org/account/avatar/00/20/62/40/faf9a818.jpg","nickname":"åƒèŒ«èŒ«","note":"","ucode":"D9781EDA5CC825","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318769,"discussion_content":"ä½ å†™çš„ä»£ç æ€ä¹ˆæœ‰è‚¡å‘³é“ï¼","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1603847280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1437839,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f0/8f/e1fc5338.jpg","nickname":"éº¦å…œçˆ¸çˆ¸","note":"","ucode":"AE735BF94826E5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":213621,"discussion_content":"éå¸¸åæ„Ÿè¿™ç±»çš„æ¶è¶£å‘³","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1585109651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1973965,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIh0pqaia3PpSks7ib6OBORStk9EMuibQSVWmXtwpQHQOcdibmh4VJzrpcvxOuCyG45I0puNHUulVENRQ/132","nickname":"æå‰ç‰","note":"","ucode":"5BA744B972B5EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337488,"discussion_content":"æœ‰å‘³é“çš„ä¸€ä¸ªè¯„è®º","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1608947051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1901476,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/03/a4/d39c747c.jpg","nickname":"ä»¥å¸…æœäººçš„ç‚å“¥","note":"","ucode":"1A94CA2D7980B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291610,"discussion_content":"å…ˆåƒé¦’å¤´ååƒé¸¡è›‹ï¼Œèƒ½ä¿è¯å…ˆæ‹‰å‡ºæ¥é¸¡è›‹ï¼Œæˆ–è€…å…ˆåå‡ºæ¥é¦’å¤´å—ğŸ˜‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1594887944,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2357167,"avatar":"https://static001.geekbang.org/account/avatar/00/23/f7/af/e2c53d5a.jpg","nickname":"@ä¹‹ä¸€","note":"","ucode":"CE886AE1FB6B4F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380990,"discussion_content":"æˆ‘yueäº†","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1624856921,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1631948,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epHSfL8MzZJkDnJJvgPpXTbIkthGkU4CKvZIQscn52NQkex2bDnYbgHAda6picENk7EvyhjAuXzFTg/132","nickname":"Geek_d3431c","note":"","ucode":"67A820B0BE8EF8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":48046,"discussion_content":"æ®‹å¿ï¼Œä¸æ•¢ç›´è§†æ ˆå’Œé˜Ÿåˆ—ã€‚ğŸ˜‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1573444087,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1291529,"avatar":"https://static001.geekbang.org/account/avatar/00/13/b5/09/874f7275.jpg","nickname":"G~æ—–æ—ä¸­å­","note":"","ucode":"9E15D7CF3AC78D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":34666,"discussion_content":"äººæ‰","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1571213031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1146041,"avatar":"https://static001.geekbang.org/account/avatar/00/11/7c/b9/864afbed.jpg","nickname":"å®‹å…µä¹™","note":"","ucode":"3C9C9572CD6ADB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8952,"discussion_content":"ä½ æ˜¯é­”é¬¼å—ï¼Ÿå“ˆå“ˆå“ˆå“ˆ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1568112423,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1614875,"avatar":"https://static001.geekbang.org/account/avatar/00/18/a4/1b/0d7b9ee1.jpg","nickname":"äº†å‡¡","note":"","ucode":"E0D53803C5702B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383845,"discussion_content":"æœ‰å‘³åˆ°çš„è¯„è®º","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1626252054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2557346,"avatar":"https://static001.geekbang.org/account/avatar/00/27/05/a2/24d5e88e.jpg","nickname":"kingğŸ³","note":"","ucode":"88DA7981062AB5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379354,"discussion_content":"ä½ å¯çœŸæ˜¯ä¸ªæœºçµé¬¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1623842765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1035563,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/cd/2b/636a3bd3.jpg","nickname":"é™ˆæ€æ•æ·","note":"","ucode":"1AD4A2E52DC6DB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359161,"discussion_content":"é¬¼æ‰å•Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1616124251,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2445352,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/OHbDdelsu57BYPr2Nak32oMVq8b2OOx9rMhZXuWbMwmDnla31FK0IODreSfQCiaVhUJK4slJW6ichUYUoq84Kwhg/132","nickname":"Geek_368e95","note":"","ucode":"936C239BC0BCED","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350797,"discussion_content":"è‚šå­é‡Œä¸æ…æ‹Œå—","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1614008054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1253936,"avatar":"https://static001.geekbang.org/account/avatar/00/13/22/30/e430d991.jpg","nickname":"å¦‚æœ","note":"","ucode":"D995C2CBD554FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328593,"discussion_content":"å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆï¼Œè¿™ä¸ªæ˜¯é«˜æ‰‹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1606187888,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1934969,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/86/79/066a062a.jpg","nickname":"éåŒå‡¡æƒ³","note":"","ucode":"713FD449A49D5A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":238331,"discussion_content":"äººæ‰","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1587218943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1132312,"avatar":"https://static001.geekbang.org/account/avatar/00/11/47/18/293cd24d.jpg","nickname":"o0oi1i","note":"","ucode":"D1F6AD4AAEAFBE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":237674,"discussion_content":"ç¥æ¯”å–»ğŸ‚æ‹œ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1587177300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1756555,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/8b/71b356ec.jpg","nickname":"ã€K E D Eã€‘","note":"","ucode":"6206DD40FA7364","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":118748,"discussion_content":"é‚£åŒå‘å¾ªç¯é˜Ÿåˆ—","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578189006,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1618781,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b3/5d/a97e5045.jpg","nickname":"å°å®½å®½ä¸ä»–çš„ç™½æ—¥æ¢¦","note":"","ucode":"C16F595EE4E11A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1756555,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/8b/71b356ec.jpg","nickname":"ã€K E D Eã€‘","note":"","ucode":"6206DD40FA7364","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":129704,"discussion_content":"åƒå±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578729156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":118748,"ip_address":""},"score":129704,"extra":""},{"author":{"id":1022267,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/99/3b/791d0f5e.jpg","nickname":"ç‹å…ˆæ£®","note":"","ucode":"1AF1A395107479","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1756555,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cd/8b/71b356ec.jpg","nickname":"ã€K E D Eã€‘","note":"","ucode":"6206DD40FA7364","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":213810,"discussion_content":"åˆåƒåˆæ‹‰ ä¸è€½è¯¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585124412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":118748,"ip_address":""},"score":213810,"extra":""}]},{"author":{"id":1760077,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/db/4d/8dec7917.jpg","nickname":"è¿ª","note":"","ucode":"57EF0AF897A8B3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":65574,"discussion_content":"ç¡¬æ ¸ç†è§£","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575013561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1314724,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/a4/0b49469f.jpg","nickname":"æœ¨å­00","note":"","ucode":"8F78CA722EB29B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":55799,"discussion_content":"ç†è§£å¯ä»¥ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1574399852,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1527522,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4e/e2/3ccf97df.jpg","nickname":"ponyxiao","note":"","ucode":"4E5F01DA025183","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":44996,"discussion_content":"å°è±¡æ·±åˆ»ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1572999543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1109204,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ec/d4/1e628174.jpg","nickname":"å¬é›¨è½©","note":"","ucode":"A96D5CFCF784CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":32640,"discussion_content":"å¤ªå¼ºäº†å§è¿™ä¹Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1571054312,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1220552,"avatar":"https://static001.geekbang.org/account/avatar/00/12/9f/c8/0318c83e.jpg","nickname":"Geek_b617bf","note":"","ucode":"9BAFC3B184B1D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":24543,"discussion_content":"è€é“ç‰›é€¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1570173375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1189290,"avatar":"https://static001.geekbang.org/account/avatar/00/12/25/aa/ced0170d.jpg","nickname":"æ¨å®å¼º","note":"","ucode":"B2352D7EA24F31","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5706,"discussion_content":"æ˜¯ä¸ªç‹ äºº å“ˆå“ˆå“ˆå“ˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566443071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1336475,"avatar":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","nickname":"J.Smile","note":"","ucode":"C4D98DFDBF7584","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5479,"discussion_content":"å½¢è±¡ç”ŸåŠ¨çš„æ¯”å–»","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566293568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1179298,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/a2/5252a278.jpg","nickname":"å¯¹æ–¹æ­£åœ¨è¾“å…¥ã€‚ã€‚ã€‚","note":"","ucode":"7B0DEB4D9B43D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5048,"discussion_content":"å“ˆå“ˆå“ˆå“ˆå“ˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1565915091,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2689813,"avatar":"https://static001.geekbang.org/account/avatar/00/29/0b/15/d2b7d7be.jpg","nickname":"BCool","note":"","ucode":"E6C2B78F379988","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534761,"discussion_content":"é˜»å¡é˜Ÿåˆ—å°±æ˜¯ä¾¿ç§˜å’¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638273142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1329680,"avatar":"https://static001.geekbang.org/account/avatar/00/14/4a/10/365ea684.jpg","nickname":"èªæ˜çš„å‚»å­©å­","note":"","ucode":"14AB5B07E18DBC","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534349,"discussion_content":"è§£é‡Šå¾—å¾ˆæ£’ï¼Œä¸‹æ¬¡ä¸å‡†åœ¨åƒé¥­çš„æ—¶å€™è¯´äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638169687,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1474214,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7e/a6/4e331ef4.jpg","nickname":"éª‘è¡Œçš„æŒæŸœJ","note":"","ucode":"3163102651C653","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383580,"discussion_content":"å¤§ä½¬ä¸ºä½•å¦‚æ­¤ä¼˜ç§€ï¼å“ˆå“ˆå“ˆå“ˆ æœ‰å‘³é“çš„è¯„è®º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626167295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1317847,"avatar":"https://static001.geekbang.org/account/avatar/00/14/1b/d7/868d26ce.jpg","nickname":"songhyunmin","note":"","ucode":"D5A98668CD8532","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352318,"discussion_content":"è¿™æ¯”å–»å¤ªç‰›é€¼äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614681127,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1482839,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a0/57/3a729755.jpg","nickname":"ç¯ç›–","note":"","ucode":"0F8455A593D60C","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311670,"discussion_content":"é­”é¬¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602459776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1848539,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/LqGZd83zp1y9fpbliaSgGh5qib5eGzU41xibTzib06ZAlaiaJibkJB89JuVEozCScUsVK90jpq7Na30AHDngQzI7YwiaA/132","nickname":"æ˜Ÿæœ","note":"","ucode":"DFCF2512D6DAE0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305649,"discussion_content":"è¿™ä¸ªå¤ªâ€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600047131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2019569,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/d0/f1/9e033d0d.jpg","nickname":"å¤§å¤Onion","note":"","ucode":"4439236F90E0FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305204,"discussion_content":"å¥½æ´»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599815845,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1124665,"avatar":"https://static001.geekbang.org/account/avatar/00/11/29/39/be9d2e88.jpg","nickname":"è¾¹é™…é©å‘½","note":"","ucode":"EC15C0AE4D487A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298988,"discussion_content":"çœŸç‰¹ä¹ˆä½ä¿—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597499531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1235495,"avatar":"https://static001.geekbang.org/account/avatar/00/12/da/27/a1618737.jpg","nickname":"1KG","note":"","ucode":"857C432444EBCC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289500,"discussion_content":"æ¶è¶£å‘³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594125690,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1147979,"avatar":"https://static001.geekbang.org/account/avatar/00/11/84/4b/e4738ba8.jpg","nickname":"delete is create","note":"","ucode":"A8C751219A7746","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288350,"discussion_content":"æ²¡å¿…è¦ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593736689,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1292347,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/mOFw06icwoIWeYqMibAtFvDRchHTwysiaztEoJQKjREYqYXdsDsrDhSRNuR9k9VdWZV4Rl1fPzIHoib1AfDTG1iadibg/132","nickname":"Geek_724b7a","note":"","ucode":"B478C21F9F6EFD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277823,"discussion_content":"è¿™ä¸ªæ¯”å–»æ˜¯ä¸æ°å½“çš„ï¼Œå› ä¸ºä¸è®ºæ˜¯åï¼ˆæ ˆï¼‰æˆ–è€…æ‹‰ï¼ˆé˜Ÿï¼‰ï¼Œå‡ºæ¥çš„ä¸œè¥¿å’Œåƒï¼ˆå…¥ï¼‰çš„ä¸œè¥¿ï¼ˆå…ƒç´ ï¼‰æ˜¯ä¸ä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591108967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1112210,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/92/eaafff96.jpg","nickname":"Amos","note":"","ucode":"61DB72D99AF9EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1292347,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/mOFw06icwoIWeYqMibAtFvDRchHTwysiaztEoJQKjREYqYXdsDsrDhSRNuR9k9VdWZV4Rl1fPzIHoib1AfDTG1iadibg/132","nickname":"Geek_724b7a","note":"","ucode":"B478C21F9F6EFD","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":278816,"discussion_content":"å…¶å®ä¹Ÿæ˜¯å¯ä»¥çš„ ï¼Œç‹—åƒå±æ‹‰å±ï¼Œç‹—åƒå±åå±ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1591238091,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":277823,"ip_address":""},"score":278816,"extra":""}]},{"author":{"id":1243897,"avatar":"https://static001.geekbang.org/account/avatar/00/12/fa/f9/f4ca4080.jpg","nickname":"é«˜æ—­ç‘","note":"","ucode":"284335282EE526","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":263491,"discussion_content":"äººæ‰ï¼ŒçœŸçš„å½¢è±¡ï¼Œå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589208989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1143100,"avatar":"https://static001.geekbang.org/account/avatar/00/11/71/3c/adf514f7.jpg","nickname":"çŒªçŒª","note":"","ucode":"F3E14A91CFBDBF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":207453,"discussion_content":"ç‰›æ‰¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584497953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1021914,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/97/da/bc97c787.jpg","nickname":"äº‘ä¸­é¹¤","note":"","ucode":"6F9F885E55B870","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":170156,"discussion_content":"äººæ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581672923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1117530,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0d/5a/e60f4125.jpg","nickname":"camel","note":"","ucode":"D0D698CD74388F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":73635,"discussion_content":"å¡å¤šäº†åæ›´åˆé€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575563676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1181835,"avatar":"https://static001.geekbang.org/account/avatar/00/12/08/8b/1b7d0463.jpg","nickname":"æ™´ç©ºä¸‡é‡Œ","note":"","ucode":"6470D4B84A4D8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":71823,"discussion_content":"ä½ è¿™ä¸ªæˆ‘åœ¨é©¬å£«å…µçš„Strutsè§†é¢‘é‡Œé¢å¬è¿‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575460637,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1597934,"avatar":"https://static001.geekbang.org/account/avatar/00/18/61/ee/f930ee87.jpg","nickname":"IQæ¸¸ä¾ ","note":"","ucode":"F5EAD9421E370D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":66406,"discussion_content":"ç²¾è¾ŸğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575046338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330065,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/N0NACGUr8dNAbN6BdiagPHBaB0EnyDsI9zWpwJteqTY38apOEnTOA7JkBAQnzYKJBgxu3Q8YMUILwLAB6camn4w/132","nickname":"Swing","note":"","ucode":"55FCA9ECEFBBEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":65748,"discussion_content":"666ï¼é«˜æ‰ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575026342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":6,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":true,"id":31331,"user_name":"DebugDog","can_delete":false,"product_type":"c1","uid":1027798,"ip_address":"","ucode":"1664D37CE03B9D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ae/d6/fbb8236d.jpg","comment_is_top":false,"comment_ctime":1539152393,"is_pvip":true,"replies":[{"id":"11314","content":"ä½ è¿™ä¸ªæ€è·¯æŒºå·§å¦™çš„ ğŸ‘ æˆ‘æš‚æ—¶è¿˜æ²¡æœ‰æƒ³åˆ°ç ´ç»½","user_name":"ä½œè€…å›å¤","comment_id":31331,"uid":"1190123","ip_address":"","utype":1,"ctime":1539222736,"user_name_real":"gg"}],"discussion_count":35,"race_medal":0,"score":"1320094112265","product_id":100017301,"comment_content":"è€å¸ˆï¼Œå¾ªç¯é˜Ÿåˆ—çš„æ•°ç»„å®ç°ï¼Œåœ¨æ‚¨çš„ä»£ç ä¸­ï¼Œå…¥é˜Ÿæ—¶ä¼šç©ºç•™å‡ºä¸€ä¸ªä½ç½®ï¼Œè€Œä¸”æˆ‘æ„Ÿè§‰ä¸å¤ªå¥½ç†è§£ã€‚æˆ‘å®šä¹‰ä¸€ä¸ªè®°å½•é˜Ÿåˆ—å¤§å°çš„å€¼sizeï¼Œå½“è¿™ä¸ªå€¼ä¸æ•°ç»„å¤§å°ç›¸ç­‰æ—¶ï¼Œè¡¨ç¤ºé˜Ÿåˆ—å·²æ»¡ï¼Œå½“tailè¾¾åˆ°æœ€åº•æ—¶ï¼Œsizeä¸ç­‰äºæ•°ç»„å¤§å°æ—¶ï¼Œtailå°±æŒ‡å‘æ•°ç»„ç¬¬ä¸€ä¸ªä½ç½®ã€‚å½“å‡ºé˜Ÿæ—¶ï¼Œsizeâ€”ï¼Œå…¥é˜Ÿæ—¶size++","like_count":307,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426297,"discussion_content":"ä½ è¿™ä¸ªæ€è·¯æŒºå·§å¦™çš„ ğŸ‘ æˆ‘æš‚æ—¶è¿˜æ²¡æœ‰æƒ³åˆ°ç ´ç»½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539222736,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2464744,"avatar":"https://static001.geekbang.org/account/avatar/00/25/9b/e8/4f0173ef.jpg","nickname":"OldFriend","note":"","ucode":"33B88002F684C5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":356080,"discussion_content":"åŠ åˆ¤æ–­é‡å°±éœ€è¦æ–°å¢ä¸€éƒ¨åˆ†å†…å­˜ï¼Œè€Œä¸”æ¯æ¬¡å‡ºå…¥é˜Ÿå°±éœ€è¦å¤šåšä¸€æ¬¡ç´¯åŠ æˆ–è€…ç´¯å‡ï¼ˆå¤šçº¿ç¨‹è‚¯å®šéœ€è¦å¯¹æ­¤åŠ é”ï¼Œä½†æˆ‘ä»¬å…ˆå¿½ç•¥å¤šçº¿ç¨‹ï¼‰\nç´¯åŠ ç´¯å‡å°±ä¼šå¢åŠ è¿è¡Œæ—¶é—´ï¼Œç›¸æ¯”äºæµªè´¹ä¸€ä¸ªå†…å­˜ã€‚\næ‰€ä»¥é€šè¿‡ç©ºé—´æ¢æ—¶é—´ï¼Œæµªè´¹ä¸€ä¸ªå†…å­˜ï¼Œå¯ä»¥è®©æ€§èƒ½æ›´ä½³ã€‚è€Œå¢åŠ ä¸€ä¸ªåˆ¤æ–­é‡ï¼Œå‡è®¾è¿™ä¸ªçš„å†…å­˜æ¶ˆè€—è¢«åŸå…ˆæµªè´¹å†…å­˜çš„ä¸æµªè´¹æ‰€æŠµæ¶ˆï¼Œæ¢æ¥çš„ä¹Ÿåªæœ‰è¿è¡Œæ—¶é—´ï¼Œæ‰€ä»¥å¢åŠ ä¸€ä¸ªåˆ¤æ–­é‡ï¼Œæ˜¾ç„¶ä¸å¤ªåˆé€‚","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1615527658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1644011,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/WhoLIb4HZtuwErPetUjHj9JVOYFibDXDAcIic3K0CSzJp4zibe1cemraIq1S8YSN5KSCJcUdicm9f4aKTwZHxFBwTw/132","nickname":"Geek_112e68","note":"","ucode":"82843584C97F43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":38145,"discussion_content":"Javaå¹¶å‘é˜Ÿåˆ—ArrayBlockingQueueå°±æ˜¯è¿™ä¸ªæ€è·¯å®ç°çš„","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1571735202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1504234,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f3/ea/2b2adda5.jpg","nickname":"EncodedStar","note":"","ucode":"03958CA7DDD6AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":138114,"discussion_content":"å•çº¿ç¨‹å¯ä»¥ï¼Œå¤šçº¿ç¨‹å°±æœ‰é—®é¢˜äº†","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1579224780,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1359701,"avatar":"https://static001.geekbang.org/account/avatar/00/14/bf/55/198c6104.jpg","nickname":"å°ä¼Ÿ","note":"","ucode":"124953423491E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1504234,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f3/ea/2b2adda5.jpg","nickname":"EncodedStar","note":"","ucode":"03958CA7DDD6AE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":162591,"discussion_content":"å¤šçº¿ç¨‹ä¸‹ä¿è¯sizeçš„å˜åŒ–ä¹Ÿæ˜¯çº¿ç¨‹å®‰å…¨çš„å°±å¯ä»¥äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1580998928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":138114,"ip_address":""},"score":162591,"extra":""},{"author":{"id":1504234,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f3/ea/2b2adda5.jpg","nickname":"EncodedStar","note":"","ucode":"03958CA7DDD6AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1359701,"avatar":"https://static001.geekbang.org/account/avatar/00/14/bf/55/198c6104.jpg","nickname":"å°ä¼Ÿ","note":"","ucode":"124953423491E2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":164234,"discussion_content":"åŒæ—¶ç»´æŠ¤é˜Ÿåˆ—å’Œè¿™ä¸ªå˜é‡ï¼Œæ˜¾ç„¶å¾ˆç¹ç","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581164393,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":162591,"ip_address":""},"score":164234,"extra":""}]},{"author":{"id":1313967,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0c/af/0e4e90de.jpg","nickname":"è¥¿è´","note":"","ucode":"C70487174D7D24","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":140897,"discussion_content":"æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ä¸ç•™ç©ºä½ï¼Œé˜Ÿåˆ—æ»¡çš„åˆ¤æ–­æ¡ä»¶ä¸å˜ï¼Œå¯¹åˆ¤æ–­é˜Ÿåˆ—ç©ºçš„æ—¶å€™åŠ ä¸Šæ¡ä»¶queue[head]!=nullå‘¢","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1579364253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2359879,"avatar":"https://static001.geekbang.org/account/avatar/00/24/02/47/7e46532e.jpg","nickname":"å¤•é˜³æ™´å¤©","note":"","ucode":"5FE26575A57B56","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1313967,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0c/af/0e4e90de.jpg","nickname":"è¥¿è´","note":"","ucode":"C70487174D7D24","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342330,"discussion_content":"è¿˜æ˜¯ä¸ºæ€§èƒ½è€ƒè™‘ï¼Œå¦‚æœåŠ è¿™ä¸ªçš„è¯ï¼Œå°±å¿…é¡»åœ¨æ¯æ¬¡å‡ºé˜Ÿæ—¶ç½®ç©ºåŸæ¥çš„ä½ç½®ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610636998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":140897,"ip_address":""},"score":342330,"extra":""}]},{"author":{"id":1116188,"avatar":"https://static001.geekbang.org/account/avatar/00/11/08/1c/ef15e661.jpg","nickname":"îˆ± è‡£é¦Ÿé£æ‰¬îˆ°","note":"","ucode":"F2F882B7678055","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53045,"discussion_content":"å¾ªç¯é˜Ÿåˆ—ï¼š\nclass MyCircularDeque {\n    int[] queueArr;\n    int front = 0;\n    int rear = 0;\n    int size = 0;\n    int capacity = 0;\n\n    /** Initialize your data structure here. Set the size of the deque to be k. */\n    public MyCircularDeque(int k) {\n        capacity = k;\n        queueArr = new int[capacity];        \n    }\n   \n    \n    /** Adds an item at the rear of Deque. Return true if the operation is successful. */\n    public boolean insertLast(int value) {\n        if (isFull()) {\n            return false;\n        }\n\n        queueArr[rear] = value;\n        rear = (rear + 1) % capacity;\n        size++;\n        return true;\n    }\n    \n    /** Deletes an item from the front of Deque. Return true if the operation is successful. */\n    public boolean deleteFront() {\n        if (isEmpty()) {\n            return false;\n        }\n\n        front = (front + 1) % capacity;\n        size--;\n        return true;\n    }\n    \n    \n    /** Get the front item from the deque. */\n    public int getFront() {\n        if (isEmpty()) {\n            return -1;\n        } \n\n        return queueArr[front];\n    }\n    \n    /** Get the last item from the deque. */\n    public int getRear() {\n        if (isEmpty()) {\n            return -1;\n        } \n\n        return queueArr[rear];\n    }\n    \n    /** Checks whether the circular deque is empty or not. */\n    public boolean isEmpty() {\n        return front == rear &amp;&amp; size == 0;\n    }\n    \n    /** Checks whether the circular deque is full or not. */\n    public boolean isFull() {\n        return front == rear &amp;&amp; size == capacity;\n    }\n}","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1574127305,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1249136,"avatar":"https://static001.geekbang.org/account/avatar/00/13/0f/70/759b1567.jpg","nickname":"å¼ é£online","note":"","ucode":"C9787E4B35888C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":42925,"discussion_content":"æ˜æ˜¾è€ƒè™‘æ¬ ç¼ºï¼Œç”¨åŒä¸€å˜é‡è¦è€ƒè™‘äº’æ–¥æ€§ï¼Œé˜Ÿåˆ—å®é™…90%æ˜¯å¤šä¸ªçº¿ç¨‹æ“ä½œï¼Œä½ å¦‚ä½•ä¿è¯ï¼ŒåŠ é”å½±å“æ•ˆç‡","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1572829007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1132661,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","nickname":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","note":"","ucode":"C4C9915866E769","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1249136,"avatar":"https://static001.geekbang.org/account/avatar/00/13/0f/70/759b1567.jpg","nickname":"å¼ é£online","note":"","ucode":"C9787E4B35888C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":70074,"discussion_content":"å¯ä»¥å…·ä½“è®²è®²ä½ è¯´çš„è¿™ä¸ªâ€œäº’æ–¥æ€§â€è¿™ä¸ªåœºæ™¯ä¸‹å¦‚ä½•è§£è¯»å˜›ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575307585,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":42925,"ip_address":""},"score":70074,"extra":""},{"author":{"id":1114093,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/ed/b2fc0e7c.jpg","nickname":"7","note":"","ucode":"10A6E57A027D42","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1132661,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","nickname":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","note":"","ucode":"C4C9915866E769","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":231055,"discussion_content":"ä½ æƒ³ä¸€ä¸‹ï¼Œä½ åœ¨å…¥é˜Ÿçš„æ—¶å€™éœ€è¦ç»´æŠ¤tailå’Œsizeä¸¤ä¸ªå˜é‡ã€‚å¹¶ä¸”è¿™ä¸¤ä¸ªå˜é‡çš„å˜åŒ–å¿…é¡»æ˜¯åŸå­æ€§çš„ï¼Œä¸ç„¶å°±ä¼šå‡ºç°Açº¿ç¨‹å¿—è¡Œäº†tail++ï¼Œè€ŒBçº¿ç¨‹å»è·å–çš„æ—¶å€™ï¼Œsizeè¿˜ç­‰äº0çš„æƒ…å†µ","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1586785846,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":70074,"ip_address":""},"score":231055,"extra":""},{"author":{"id":1181473,"avatar":"https://static001.geekbang.org/account/avatar/00/12/07/21/b3394aa2.jpg","nickname":"Robot","note":"","ucode":"7215462D5AC0FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1114093,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/ed/b2fc0e7c.jpg","nickname":"7","note":"","ucode":"10A6E57A027D42","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":240532,"discussion_content":"çœ‹ä¸‹ArrayBlockingQueueçš„å®ç°å°±çŸ¥é“äº†ï¼Œå¯¹äºtailå’Œsizeçš„æ›´æ”¹éƒ½æ˜¯åœ¨è·åˆ°é”çš„æƒ…å†µä¸‹è¿›è¡Œçš„ï¼Œæ²¡ä½ è¯´çš„è¿™ç§æƒ…å†µå‘ç”Ÿçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587371950,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":231055,"ip_address":""},"score":240532,"extra":""}]},{"author":{"id":2696381,"avatar":"","nickname":"ä¸€ç›´åœ¨æ»‘è¡Œ","note":"","ucode":"4A7181C284534A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384554,"discussion_content":"å…¶å®è¿™ä¸¤ç§ä¸»è¦çš„å·®åˆ«å°±æ˜¯ï¼š\n(tail + 1) % n == headï¼ˆä¸éœ€è¦å¢åŠ é¢å¤–çš„å˜é‡ï¼Œä½†ä¼šæµªè´¹ä¸€ä¸ªæ§ä»¶ï¼‰\nsize == n(éœ€è¦å¢åŠ é¢å¤–çš„å˜é‡ï¼Œä½†æ˜¯æ²¡æœ‰ç©ºé—´æµªè´¹)\næ‰€ä»¥äºŒè€…åœ¨ç©ºé—´æ•ˆç‡ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œæ—¶é—´æ•ˆç‡ä¸Šä¹ŸåŸºæœ¬ç›¸åŒã€‚\nä½†æ˜¯å› ä¸ºå¤šå¢åŠ ä¸€ä¸ªsizeå˜é‡åœ¨å¹¶è¡Œå¼€å‘æ—¶å°±éœ€è¦å¤šç»´æŠ¤ä¸€ä¸ªå˜é‡ã€‚å› æ­¤ä»è¿™æ–¹é¢æ¥è€ƒè™‘å‰è€…åº”è¯¥æ˜¯è¦å°ä¼˜ä¸€ç‚¹çš„ã€‚\n","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1626664164,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2690896,"avatar":"","nickname":"Geek_882cf0","note":"","ucode":"5538DE48B3978E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2696381,"avatar":"","nickname":"ä¸€ç›´åœ¨æ»‘è¡Œ","note":"","ucode":"4A7181C284534A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386855,"discussion_content":"å¦‚æœé˜Ÿåˆ—çš„æ•°æ®ç±»å‹æ˜¯å¼•ç”¨ç±»å‹ï¼Œå•ä¸ªå˜é‡å ç”¨äº†å¾ˆå¤§çš„å †å†…å­˜ï¼Œé‚£å°±ä¸æ˜¯ç­‰ä»·çš„äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627865431,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":384554,"ip_address":""},"score":386855,"extra":""},{"author":{"id":1123554,"avatar":"https://static001.geekbang.org/account/avatar/00/11/24/e2/e5110db5.jpg","nickname":"MIAN-å‹‰","note":"","ucode":"AE938038C2E7D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2696381,"avatar":"","nickname":"ä¸€ç›´åœ¨æ»‘è¡Œ","note":"","ucode":"4A7181C284534A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412195,"discussion_content":"æŒ‰ç…§(tail + 1) % n == head ï¼Œä¼šæœ‰ä¸€ä¸ªå…ƒç´ ç©ºé—´çš„ä½ç½®æ˜¯ç©ºçš„ï¼Œå®šä¹‰é•¿åº¦æ˜¯10çš„æ•°ç»„ï¼Œä½†åªèƒ½è£…9ä¸ªï¼Œæœ€åä¸€ä¸ªæ˜¯null, è¿™æ ·åˆç†ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636099162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":384554,"ip_address":""},"score":412195,"extra":""}]},{"author":{"id":1204353,"avatar":"https://static001.geekbang.org/account/avatar/00/12/60/81/eaf6d0ac.jpg","nickname":"æ‹‰å¸ƒæ‹‰å¤š","note":"","ucode":"637A88D9F29F57","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312645,"discussion_content":"æ™®é€šè€ƒè™‘å¯ä»¥ã€‚ä½†æ˜¯å¦‚æœæ¶‰åŠå¹¶å‘ï¼Œéœ€è¦æ§åˆ¶sizeçš„åŸå­ç´¯åŠ æ“ä½œã€‚å¤šäº†ä¸€ä¸ªé”æˆ–è€…åŸå­æ“ä½œã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1602754721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1286251,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a0/6b/0a21b2b8.jpg","nickname":"è¿·ç¾Š","note":"","ucode":"85AF8CED3436C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1204353,"avatar":"https://static001.geekbang.org/account/avatar/00/12/60/81/eaf6d0ac.jpg","nickname":"æ‹‰å¸ƒæ‹‰å¤š","note":"","ucode":"637A88D9F29F57","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":324110,"discussion_content":"å¦‚æœç”±å¹¶å‘ï¼Œè€å¸ˆä»£ç ä¹Ÿæœ‰å¹¶å‘é—®é¢˜ï¼Œä¸æ˜¯ä¸€æ ·çš„å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605058609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":312645,"ip_address":""},"score":324110,"extra":""},{"author":{"id":2343086,"avatar":"https://static001.geekbang.org/account/avatar/00/23/c0/ae/e5e62510.jpg","nickname":"å¾å¿—è¶…-Klaus","note":"","ucode":"CF26B39965F2A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1286251,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a0/6b/0a21b2b8.jpg","nickname":"è¿·ç¾Š","note":"","ucode":"85AF8CED3436C8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331698,"discussion_content":"ä¸ä¸€æ ·ï¼Œç”¨sizeçš„è¯ï¼Œå‡ºé˜Ÿåˆ—å¤šäº†ä¸€æ¬¡casï¼Œç‰ºç‰²4ä¸ªå­—èŠ‚æ¥æå‡æ•ˆç‡å“ªæ€•ä¸€ç‚¹ç‚¹ï¼Œè¿˜æ˜¯æŒºåˆ’ç®—çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606956122,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":324110,"ip_address":""},"score":331698,"extra":""}]},{"author":{"id":2197931,"avatar":"https://static001.geekbang.org/account/avatar/00/21/89/ab/1faae46e.jpg","nickname":"Update","note":"","ucode":"F1995809BAE3CB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311940,"discussion_content":"åº”è¯¥æ˜¯å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œä»¥ç‰ºç‰²ä¸€ä¸ªç©ºé—´çš„ä»£ä»·ï¼Œå‡å°‘å‡ºé˜Ÿï¼Œå…¥é˜Ÿæ—¶çš„åˆ¤æ–­ã€‚æˆ‘æ„Ÿè§‰å’Œæ•°ç»„çš„ä¸‹æ ‡ä¸ºä»€ä¹ˆæ˜¯ä»0è€Œä¸æ˜¯ä»1å¼€å§‹ï¼Œæ˜¯ä¸€ä¸ªé“ç†çš„ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1602548487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1093819,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b0/bb/fc698888.jpg","nickname":"leozhang","note":"","ucode":"DAC9015821DAF1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":28843,"discussion_content":"å¤šä¸€ä¸ª size è®°å½•é˜Ÿåˆ—çš„å¤§å°ï¼Œç¼–ç å›æ›´å®¹æ˜“ä¹Ÿæ›´å¥½ç†è§£","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1570714202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":23218,"discussion_content":"æ€è·¯å¤§è‡´ç†è§£ï¼Œå¯¹äºtailå’Œheadçš„ä½ç½®çš„ä¿å­˜ä¼°è®¡æ¯”è¾ƒç¹çå§ï¼Œè¯·show your codeå“ˆå“ˆ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1569771318,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2792413,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/9b/dd/97a690a2.jpg","nickname":"å€”å¼º","note":"","ucode":"4C588A1E7C0F7C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":399827,"discussion_content":"å¤§è¯æ•°æ®ç»“æ„é‡Œè¯´å› ä¸ºæŒ‰æ­£å¸¸æƒ…å†µè®¾ç½®çš„è¯ï¼Œé˜Ÿåˆ—æ»¡æ—¶ï¼Œfront==tailå’Œé˜Ÿåˆ—ç©ºæ—¶çš„front==tailä¼šæ— æ³•åŒºåˆ†ã€‚æ‰€ä»¥å¾—æƒ³åŠæ³•åŒºåˆ†ï¼Œæ–¹æ³•æœ‰ä¸¤ç§ã€‚\nç¬¬ä¸€ç§æ˜¯è®¾ç½®ä¸€ä¸ªæ ‡å¿—å˜é‡flagï¼Œå½“front==tailï¼Œflag=0æ—¶ï¼Œè¯´æ˜é˜Ÿåˆ—ä¸ºç©ºã€‚å½“front==tailä¸”flag=1æ—¶ä¸ºé˜Ÿåˆ—æ»¡ã€‚\nç¬¬äºŒç§ä¾¿æ˜¯ä¿ç•™ä¸€ä¸ªå…ƒç´ ç©ºé—´ã€‚\nä»–è¯´å¾—æŒºåƒç¬¬ä¸€ç§çš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1633076059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2446981,"avatar":"https://static001.geekbang.org/account/avatar/00/25/56/85/6da913fa.jpg","nickname":"LIFE l=new LIFE()","note":"","ucode":"729BACA3B7FD42","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350980,"discussion_content":"æˆ‘è‡ªå·±å®ç°çš„å°±æœ‰è¿™ä¸ªï¼Œå°¤å…¶æ˜¯é“¾è¡¨åŠ ä¸Šè¿™ä¸ªä¼šçœå¾ˆå¤šäº‹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1614087403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1571460,"avatar":"https://static001.geekbang.org/account/avatar/00/17/fa/84/f01d203a.jpg","nickname":"Simple life","note":"","ucode":"1902D7F72FB43F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":177443,"discussion_content":"å…¥é˜Ÿæ—¶ä¼šç©ºç•™å‡ºä¸€ä¸ªä½ç½®æ˜¯ä»€ä¹ˆæ„æ€","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582107172,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":72324,"discussion_content":"å¯¹äºè€å¸ˆæ–‡ä¸­çš„æ­£å¸¸çš„é˜Ÿåˆ—ï¼Œtail ä½ç½®ä¹Ÿæ˜¯ä¸ä¿å­˜æ•°æ®çš„ï¼Œé‚£ä¹ˆtail åˆ°åº• å­˜ä¸å­˜æ•°æ®å‘¢ï¼Ÿè¿˜æ˜¯ç¤ºæƒ…å†µè€Œå®šï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575473634,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1336525,"avatar":"https://static001.geekbang.org/account/avatar/00/14/64/cd/59d9fb36.jpg","nickname":"ç‹åŒå­¦","note":"","ucode":"F1D9F19366F1AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":70548,"discussion_content":"å¦‚æœæŒ‰ç…§è¿™ç§æ€è·¯æ¥è¯´ï¼Œé‚£ä¹ˆå¾ªç¯é˜Ÿåˆ—å°±ä¸ä¼šæµªè´¹ä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œæ‰€ä»¥å¾ªç¯é˜Ÿåˆ—åˆ°åº•ä¼šä¸ä¼šæµªè´¹ä¸€ä¸ªå•ä½çš„å­˜å‚¨ç©ºé—´ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575366853,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1108731,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/wIWrciav7DRkOaD7vUtr084sxprq2U4obfH1ibls4RIsAw5foQlDGIt98x1RHATznNbh0iasibWV2Y7I7QpyFJ4TVA/132","nickname":"Wipeher","note":"","ucode":"A5D7451D95F42C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1336525,"avatar":"https://static001.geekbang.org/account/avatar/00/14/64/cd/59d9fb36.jpg","nickname":"ç‹åŒå­¦","note":"","ucode":"F1D9F19366F1AE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293703,"discussion_content":"é¢å¤–çš„ä¿å­˜sizeä¹Ÿå ç”¨ä¸€ä¸ªç©ºé—´ï¼Œåªä¸è¿‡åŸæ¥nä½¿ç”¨n-1ï¼Œæ”¹è‰¯ån+1ä½¿ç”¨nè€Œå·²","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1595645884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":70548,"ip_address":""},"score":293703,"extra":""}]},{"author":{"id":1115302,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/a6/18c4f73c.jpg","nickname":"Airsaid","note":"","ucode":"5B90BC0044F376","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41839,"discussion_content":"æ ¹æ®è¿™ä½è€å“¥çš„æ€è·¯å®ç°çš„ Kotlin ä»£ç ï¼š\n\nclass CycleQueue(private val capacity: Int) {\n\n  private val items = arrayOfNulls<String>(capacity)\n\n  private var size = 0\n  private var head = 0\n  private var tail = 0\n\n  fun enqueue(item: String): Boolean {\n    // é˜Ÿå·²æ»¡\n    if (isFull()) {\n      return false\n    }\n\n    // å­˜å‚¨åˆ°é˜Ÿåˆ—çš„å°¾éƒ¨\n    items[tail] = item\n    tail = (tail + 1) % capacity\n    size ++\n\n    return true\n  }\n\n  fun dequeue(): String? {\n    // ç©ºé˜Ÿåˆ—\n    if (isEmpty()) {\n      return null\n    }\n\n    // è·å–å¹¶ç§»é™¤é˜Ÿå¤´æ•°æ®\n    val item = items[head]\n    head = (head + 1) % capacity\n    size --\n\n    return item\n  }\n\n  fun isEmpty(): Boolean {\n    return size == 0\n  }\n\n  fun isFull(): Boolean {\n    return size == capacity\n  }\n}","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1572518228,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2322244,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/mxxEd3scP7RUgoh9oXWqUZDU5fIabDIh0ALAcvGZy4GXJYiazicd2ARGodujqU77fbGHatPyZMdVSQ04Y0qNDWaA/132","nickname":"zzzzzc","note":"","ucode":"9F58C0BD30E300","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":353672,"discussion_content":"è¿™ç§æ–¹å¼ä¾ç„¶è¦è§£å†³headä¸tailæŒ‡é’ˆçš„å‘¨æœŸæ€§å†²çª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615187947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1093819,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b0/bb/fc698888.jpg","nickname":"leozhang","note":"","ucode":"DAC9015821DAF1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":28840,"discussion_content":"public class CycleArrayQueue {\n\n    private  static  String [] queue;\n    private static  int size;\n    private static  int head;\n    private static  int tail;\n\n\n\n    public CycleArrayQueue(int length) {\n        queue = new String[length];\n    }\n\n    /**\n     *   0|1|2|3|4|5|6|7|\n     *           t     h\n     *\n     */\n    private void  enqueue(String key){\n\n        if (size>=queue.length){\n            throw  new RuntimeException();\n        }\n        queue[tail]=key;\n        //æŠŠ tail å‘åç§»åŠ¨;\n        if (tail==queue.length-1){\n            tail=0;\n        }else {\n            tail++;\n        }\n\n        size++;\n    }\n\n\n\n    /**\n     *   0|1|2|3|4|5|6|7|\n     *           t     h\n     *\n     */\n    private void dequeue(){\n\n        if (size==0){\n            throw  new RuntimeException();\n        }\n\n        //è¯´æ˜æŠŠ head å¯¹åº”çš„èŠ‚ç‚¹åˆ é™¤æ‰ï¼Œå‡ºé˜Ÿ\n\n\n        queue[head]=null;\n\n        if (head==queue.length-1){\n            head=0;\n        }else {\n            head++;\n        }\n        size--;\n\n    }\n }","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570714162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1210699,"avatar":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","nickname":"-W.LI-","note":"","ucode":"3556786538664F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":24143,"discussion_content":"å¤šä¸€ä¸ª++å’Œ--æ“ä½œã€‚å„æœ‰å¥½å¤„å§ç¡®å®çœäº†ä¸€ä¸ªå†…å­˜ï¼Œå¤šè·‘äº†å‡ æ¡æŒ‡ä»¤ã€‚å¦‚æœéœ€è¦å¹¶å‘çš„è¯ï¼Œä½ çš„sizeå¯èƒ½å°±ä¸å¤ªå¥½å¤„ç†äº†ã€‚caseæ²¡æ³•ä¿è¯åŸå­æ€§ã€‚sizeå’Œ(å¯¹é˜Ÿå¤´æˆ–é˜Ÿå°¾)æ“ä½œçš„åŸå­æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570017056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1132661,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","nickname":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","note":"","ucode":"C4C9915866E769","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1210699,"avatar":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","nickname":"-W.LI-","note":"","ucode":"3556786538664F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":70077,"discussion_content":"å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œè‚¯å®šæ˜¯è¦åŠ é”ï¼Œä½†æ˜¯æ–‡ä¸­çš„æ–¹æ³•æ˜¯å¦ä¹Ÿå­˜åœ¨åŸå­æ€§é—®é¢˜å‘¢ï¼Ÿ(å…¥é˜Ÿã€å‡ºé˜Ÿæ“ä½œå’Œheadã€tailæŒ‡é’ˆç§»åŠ¨ä¹‹é—´çš„åŸå­æ€§)","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1575308090,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":24143,"ip_address":""},"score":70077,"extra":""},{"author":{"id":1286251,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a0/6b/0a21b2b8.jpg","nickname":"è¿·ç¾Š","note":"","ucode":"85AF8CED3436C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1132661,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","nickname":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","note":"","ucode":"C4C9915866E769","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":324115,"discussion_content":"èµåŒä½ ï¼Œå¥½åƒä¸ä½¿ç”¨sizeå˜é‡å°±æ²¡äº†å¹¶å‘é—®é¢˜ä¼¼çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605059084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":70077,"ip_address":""},"score":324115,"extra":""}]}]},{"had_liked":false,"id":38411,"user_name":"æ¨±å°è·¯ä¾ç„¶","can_delete":false,"product_type":"c1","uid":1269957,"ip_address":"","ucode":"DBA9FF68015FE5","user_header":"https://static001.geekbang.org/account/avatar/00/13/60/c5/69286d58.jpg","comment_is_top":false,"comment_ctime":1542032550,"is_pvip":false,"replies":[{"id":"13815","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":38411,"uid":"1190123","ip_address":"","utype":1,"ctime":1542074325,"user_name_real":"gg"}],"discussion_count":16,"race_medal":0,"score":"718801570982","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—ï¼šé˜Ÿåˆ—æ»¡çš„è¡¨è¾¾å¼<br>è¿™é‡Œè®²ä¸€ä¸‹ï¼Œè¿™ä¸ªè¡¨è¾¾å¼æ˜¯æ€ä¹ˆæ¥çš„ã€‚åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¥ï¼Œå½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œtail+1=headã€‚ä½†æ˜¯ï¼Œæœ‰ä¸ªç‰¹æ®Šæƒ…å†µï¼Œå°±æ˜¯tail=n-1ï¼Œè€Œhead=0æ—¶ï¼Œè¿™æ—¶å€™ï¼Œtail+1=nï¼Œè€Œhead=0ï¼Œæ‰€ä»¥ç”¨(tail+1)%n == n%n == 0ã€‚è€Œä¸”ï¼Œtail+1æœ€å¤§çš„æƒ…å†µå°±æ˜¯ n ï¼Œä¸ä¼šå¤§äº nï¼Œè¿™æ ·ï¼Œtail+1 é™¤äº†æœ€å¤§æƒ…å†µï¼Œä¸ç„¶æ€ä¹ˆä½™ n éƒ½æ˜¯ tail+1 æœ¬èº«ï¼Œä¹Ÿå°±æ˜¯ headã€‚è¿™æ ·ï¼Œè¡¨è¾¾å¼å°±å‡ºç°äº†ã€‚","like_count":167,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":428694,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542074325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008395,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/0b/ad56aeb4.jpg","nickname":"äºŒè¿›åˆ¶ä¹‹è·¯","note":"","ucode":"67C84B013147B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":162164,"discussion_content":"åªæœ‰ä¸€ç§åœºæ™¯éœ€è¦è¿›è¡Œæ±‚ä½™ï¼Œå…¶ä»–éƒ½åªè¦åŠ 1å³å¯ã€‚ä»æ•ˆç‡ä¸Šè®²ï¼Œè¿™æ ·åˆ¤æ–­å¤„ç†æ›´é«˜æ•ˆï¼š\n    public boolean isFull() {\n        return nextIndex(tail) == head;\n    }\n\n    private int nextIndex(int index) {\n        return ++index == n ? 0 : index;\n    }","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1580966809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330065,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/N0NACGUr8dNAbN6BdiagPHBaB0EnyDsI9zWpwJteqTY38apOEnTOA7JkBAQnzYKJBgxu3Q8YMUILwLAB6camn4w/132","nickname":"Swing","note":"","ucode":"55FCA9ECEFBBEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":65751,"discussion_content":"æ© å¾ªç¯é˜Ÿåˆ—ä¸­ï¼Œhead  å’Œ tail ï¼Œå†ç§»ä½ +1çš„æ—¶å€™ï¼Œéƒ½è¦åšè¶Šç•Œåˆ¤æ–­ï¼Œä¹Ÿå°±æ˜¯ %n !","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1575026446,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1398577,"avatar":"https://static001.geekbang.org/account/avatar/00/15/57/31/6772744d.jpg","nickname":"ã¡ã‚ˆãã‚“","note":"","ucode":"B71E9B16E4408F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":129575,"discussion_content":"è¿™ä¸ªè¿˜è¦å¾—ç›Šäºèµ·å§‹ç‚¹æ˜¯0çš„å¥½å¤„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578715319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1241363,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f1/13/0ecff761.jpg","nickname":"é™ˆæ˜¥æ±‚","note":"","ucode":"AAF95F699A6BDF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383353,"discussion_content":"è°¢è°¢åˆ†äº«ï¼Œæ ¹æ®æ‚¨çš„è§£é‡Šï¼Œæˆ‘é‡æ–°æ•´ç†äº†ä¸€ä¸‹ï¼š\nå½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œå¦‚æœhead = 0ï¼Œé‚£ä¹ˆtail+1 = nï¼Œæ‰€ä»¥tail+1çš„æœ€å¤§å€¼åªèƒ½æ˜¯ç­‰äº n ï¼Œä¸ä¼šå¤§äº nã€‚ä¸ºäº†åœ¨è®¡ç®—æ—¶è®©tail+1çš„å€¼ä¸å¤§äºnï¼Œå¯ä»¥ç”¨tail+1å¯¹nå–ä½™ï¼Œæ‰€ä»¥å°±æœ‰(tail+1)%n -> n%n -> 0 == headï¼Œæœ€ç»ˆå¾—å‡º(tail+1)%n=head","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1626066230,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1299347,"avatar":"https://static001.geekbang.org/account/avatar/00/13/d3/93/c3fb8566.jpg","nickname":"ProcessIsTheKey","note":"","ucode":"BE02EFD75F7D98","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551510,"discussion_content":"è§£é‡Šå¾ˆåˆç†æ¸…æ™°ï¼Œæˆ‘æƒ³äº†åŠå¤©ï¼Œåªä¼šç”¨ifåˆ¤æ–­è§£å†³é—®é¢˜...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645027226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2792413,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/9b/dd/97a690a2.jpg","nickname":"å€”å¼º","note":"","ucode":"4C588A1E7C0F7C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":399829,"discussion_content":"%n,ä¸æ˜¯èŒƒå›´ä»0~n-1å—ï¼Ÿæˆ‘è¿˜æ˜¯æ²¡ç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633076229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2714281,"avatar":"https://static001.geekbang.org/account/avatar/00/29/6a/a9/f58a4e28.jpg","nickname":"FougÃ¨re Royale","note":"","ucode":"AB375809A8AAB3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387541,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628237654,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2094043,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/f3/db/3b540ba1.jpg","nickname":"Aii","note":"","ucode":"A2D8709CE7563D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342205,"discussion_content":"ç§’å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610614560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1957632,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqZGr575z4WfctOy5wcuNqbUFgdLErXyicWgyBvE8ZETgFsj2vfcKkRicMxet5UjM09mIpCxo99xpXA/132","nickname":"123-sky","note":"","ucode":"2B269A3CBF4382","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290028,"discussion_content":"ååˆ†æ„Ÿè°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594306080,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1995224,"avatar":"","nickname":"xiaohash","note":"","ucode":"7A5FD2C22909E3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275948,"discussion_content":"çœ‹å®Œè§£é‡Šè±ç„¶å¼€æœ—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590774829,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1730875,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/69/3b/7111598b.jpg","nickname":"Coutinho","note":"","ucode":"5D52969F8FB3DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":269768,"discussion_content":"éå¸¸æ„Ÿè°¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589947894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1128146,"avatar":"https://static001.geekbang.org/account/avatar/00/11/36/d2/32d3545a.jpg","nickname":"A.Windy","note":"","ucode":"254868B270F26D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":84082,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576486254,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1063057,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKKW55c5xKo05Jys69d8B0NyaGaicyR6PM72s6xQkV7PDx2Rubu6YDn0icwlg48iaUIWdnpXWLIH2bkg/132","nickname":"å¤§å…ƒ","note":"","ucode":"3206E8E5FC25B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53993,"discussion_content":"äº†ç„¶äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574247635,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1691517,"avatar":"https://static001.geekbang.org/account/avatar/00/19/cf/7d/d9085aaa.jpg","nickname":"punnpkin","note":"","ucode":"E635BD016D892F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":52519,"discussion_content":"è®²å¾—å¾ˆæ¸…æ¥š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574060384,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1564431,"avatar":"https://static001.geekbang.org/account/avatar/00/17/df/0f/0c483c62.jpg","nickname":"é»‘å¤œçš„éª‘å£«","note":"","ucode":"1351B67A3D2C3F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1978,"discussion_content":"æ„Ÿè°¢è§£é‡Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563158837,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31802,"user_name":"å§œå¨","can_delete":false,"product_type":"c1","uid":1244051,"ip_address":"","ucode":"C58EB9A5AD634D","user_header":"https://static001.geekbang.org/account/avatar/00/12/fb/93/f19a5364.jpg","comment_is_top":false,"comment_ctime":1539305469,"is_pvip":false,"replies":[{"id":"11474","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":31802,"uid":"1190123","ip_address":"","utype":1,"ctime":1539310183,"user_name_real":"gg"}],"discussion_count":6,"race_medal":0,"score":"289302114301","product_id":100017301,"comment_content":"é˜Ÿåˆ—å®ç°<br>ä¸€ã€æ•°ç»„å®ç°<br>public class ArrayQueue {<br>&#47;&#47;å­˜å‚¨æ•°æ®çš„æ•°ç»„<br>private String[] items;<br>&#47;&#47;è®°å½•æ•°ç»„å®¹é‡<br>private int n;<br>private int size;<br>&#47;&#47;headè®°å½•é˜Ÿå¤´ç´¢å¼•ï¼Œtailè®°å½•é˜Ÿå°¾ç´¢å¼•<br>private int head = 0;<br>private int tail = 0;<br>&#47;&#47;ç”³è¯·ä¸€ä¸ªæŒ‡å®šå®¹é‡çš„é˜Ÿåˆ—<br>public ArrayQueue(int capacity){<br>items = new String[capacity];<br>n = capacity;<br>}<br>&#47;*<br>* å…¥é˜Ÿï¼š<br>* 1.å †æ»¡çš„æ—¶ï¼Œå…¥é˜Ÿå¤±è´¥<br>* 1.1é¢‘ç¹å‡ºå…¥é˜Ÿï¼Œé€ æˆæ•°ç»„ä½¿ç”¨ä¸è¿ç»­<br>* 1.2åœ¨å…¥é˜Ÿçš„æ—¶å€™ï¼Œé›†ä¸­è§¦å‘è¿›è¡Œæ•°æ®æ¬ç§»<br>* 2.åœ¨æœ«å°¾æ’å…¥æ•°æ®ï¼Œæ³¨æ„tailæŒ‡å‘é˜Ÿå°¾å…ƒç´ çš„ç´¢å¼•+1<br>*&#47;<br>public boolean enqueue(String item){<br>&#47;&#47;è¡¨ç¤ºé˜Ÿæ»¡<br>if(head == 0 &amp;&amp; tail == n)<br>return false;<br>&#47;&#47;è¡¨ç¤ºéœ€è¦æ•°æ®æ¬ç§»<br>else if(head != 0 &amp;&amp; tail == n){<br>for (int i = head; i &lt; tail; i++) {<br>items[i-head] = items[i];<br>}<br>head = 0;<br>tail = tail - head;<br>}<br>&#47;&#47;å°†æ•°æ®åŠ å…¥é˜Ÿåˆ—<br>items[tail++] = item;<br>size++;<br>return true;<br>}<br>&#47;&#47;å‡ºé˜Ÿï¼š1.é˜Ÿç©ºæ—¶ï¼Œå‡ºé˜Ÿå¤±è´¥;2.å‡ºé˜Ÿï¼Œheadç´¢å¼•+1<br>public String dequeue(){<br>String res = null;<br>if(head == tail) return res;<br>res = items[head++];<br>size--;<br>return res;<br>}<br>}<br>äºŒã€å¾ªç¯é˜Ÿåˆ—<br>public class LoopArrayQueue {<br>&#47;&#47;å­˜å‚¨æ•°æ®çš„æ•°ç»„<br>private String[] items;<br>&#47;&#47;è®°å½•æ•°ç»„å®¹é‡<br>private int n;<br>private int size = 0;<br>&#47;&#47;headè®°å½•é˜Ÿå¤´ç´¢å¼•ï¼Œtailè®°å½•é˜Ÿå°¾ç´¢å¼•<br>private int head = 0;<br>private int tail = 0;<br>&#47;&#47;ç”³è¯·ä¸€ä¸ªæŒ‡å®šå®¹é‡çš„é˜Ÿåˆ—<br>public LoopArrayQueue(int capacity){<br>items = new String[capacity];<br>n = capacity;<br>}<br>&#47;&#47;å…¥é˜Ÿï¼šå…³é”®åœ¨äºé˜Ÿæ»¡çš„æ¡ä»¶<br>public boolean enqueue(String item){<br>if ((tail + 1) % n == head) return false;<br>items[tail] = item;<br>tail = (tail + 1) % n;<br>size++;<br>return true;<br>}<br>&#47;&#47;å‡ºé˜Ÿï¼šå…³é”®åœ¨äºé˜Ÿç©ºçš„æ¡ä»¶<br>public String dequeue(){<br>String res = null;<br>if(head == tail) return res;<br>res = items[head];<br>head = (head + 1) % n;<br>size--;<br>return res;<br>}<br>}<br>ä¸‰ã€é“¾è¡¨å®ç°<br>public class LinkedQueue {<br>&#47;&#47;å®šä¹‰ä¸€ä¸ªèŠ‚ç‚¹ç±»<br>private class Node{<br>String value;<br>Node next;<br>}<br>&#47;&#47;è®°å½•é˜Ÿåˆ—å…ƒç´ ä¸ªæ•°<br>private int size = 0;<br>&#47;&#47;headæŒ‡å‘é˜Ÿå¤´ç»“ç‚¹ï¼ŒtailæŒ‡å‘é˜Ÿå°¾èŠ‚ç‚¹<br>private Node head;<br>private Node tail;<br>&#47;&#47;ç”³è¯·ä¸€ä¸ªé˜Ÿåˆ—<br>public LinkedQueue(){}<br>&#47;&#47;å…¥é˜Ÿ<br>public boolean enqueue(String item){<br>Node newNode = new Node();<br>newNode.value = item;<br>if (size == 0) head = newNode; <br>else tail.next = newNode;<br>tail = newNode;<br>size++;<br>return true;<br>}<br>&#47;&#47;å‡ºé˜Ÿ<br>public String dequeue(){<br>String res = null;<br>if(size == 0) return res;<br>if(size == 1) tail = null;<br>res = head.value;<br>head = head.next;<br>size--;<br>return res;<br>}<br>}","like_count":67,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426512,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539310183,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1697762,"avatar":"https://static001.geekbang.org/account/avatar/00/19/e7/e2/dede857d.jpg","nickname":"è”¡","note":"","ucode":"8245623EF689F0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":36092,"discussion_content":"æ•°ç»„å®ç° è¿å¾™é‚£å—ä»£ç åº”è¯¥å…ˆ tail = tail - head ç„¶åhead = 0","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1571320475,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592262,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epvkictDzeEouAWt4nSElejxogC67AVIaAKia2Q9oibE0G4NDoqiavHeEH9vEjdhibibMv43WTia3icP9OnpA/132","nickname":"ä¸ä¼šå”±æ­Œçš„éº¦éœ¸","note":"","ucode":"6559C9CB4D5963","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327986,"discussion_content":"é“¾è¡¨å®ç°é‚£å—  if (size == 0) head = newNode; åé¢åº”è¯¥åŠ ä¸Š if (size == 0) head = newNode; tail = newNode; å¾—åˆå§‹åŒ–ä¸€ä¸‹tailå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606035499,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1108731,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/wIWrciav7DRkOaD7vUtr084sxprq2U4obfH1ibls4RIsAw5foQlDGIt98x1RHATznNbh0iasibWV2Y7I7QpyFJ4TVA/132","nickname":"Wipeher","note":"","ucode":"A5D7451D95F42C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293704,"discussion_content":"é“¾è¡¨é‚£å—ï¼Œå®ç°å¾ªç¯é˜Ÿåˆ—æœ‰æƒ³æ³•æ²¡ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595645960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2056488,"avatar":"","nickname":"alask.lu","note":"","ucode":"872F0D9193513B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289879,"discussion_content":"bingo","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594256993,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1066430,"avatar":"https://static001.geekbang.org/account/avatar/00/10/45/be/c04a40ce.jpg","nickname":"3W1H","note":"","ucode":"F6B4864128103C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":43549,"discussion_content":"size == 1é€»è¾‘æ˜¯å•¥æ„æ€å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572881074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":125902,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1566270227,"is_pvip":false,"replies":[{"id":"47248","content":"å®Œå…¨æ­£ç¡®ï¼","user_name":"ä½œè€…å›å¤","comment_id":125902,"uid":"1190123","ip_address":"","utype":1,"ctime":1566774062,"user_name_real":"ç‹äº‰"}],"discussion_count":4,"race_medal":0,"score":"272149209875","product_id":100017301,"comment_content":"åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œé˜Ÿåˆ—çš„å…¥é˜Ÿå’Œå‡ºé˜Ÿæ“ä½œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ï¼Œåœ¨è¿›è¡Œâ€œæ•°æ®æ¬ç§»â€æ”¹é€ çš„æƒ…å†µä¸‹ï¼Œå…¥é˜Ÿçš„æ—¶é—´å¤æ‚åº¦æˆ‘æ˜¯è¿™ä¹ˆåˆ†æçš„ï¼š<br><br>å¦‚æœé˜Ÿå°¾æ²¡æœ‰æ»¡ï¼Œå¯ä»¥ç›´æ¥å…¥é˜Ÿï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚<br><br>å¦‚æœé˜Ÿå°¾å·²æ»¡çš„æƒ…å†µä¸‹ï¼Œå°±å¿…é¡»è¿›è¡Œæ•°æ®æ¬ç§»äº†ï¼Œtail=n,æ¬ç§»çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n).<br><br>æ€»ä½“æƒ…å†µæ¥çœ‹ï¼Œtailçš„å¯èƒ½æ˜¯0~nçš„ä»»æ„å€¼ï¼Œåœ¨0~n-1çš„æ—¶å€™é˜Ÿåˆ—å…¥é˜Ÿçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ï¼Œä¸éœ€è¦æ¬ç§»ç›´æ¥å…¥é˜Ÿå³å¯ï¼›åªæœ‰å½“tail=nçš„æ—¶å€™æ—¶é—´å¤æ‚åº¦æ‰è¿…é€Ÿé£™å‡ä¸ºO(n)ï¼Œå³éœ€è¦è¿›è¡Œnæ¬¡æ¬ç§»ï¼Œæ­¤æ—¶næ¬¡çš„æ¬ç§»å¦‚æœå‡æ‘Šåˆ°0~n-1è¿™næ¬¡ä¸Šï¼Œå…¶å®æ€»ä½“çš„å‡æ‘Šå¤æ‚åº¦è¿˜æ˜¯O(1)ã€‚<br>è€å¸ˆï¼Œæˆ‘åˆ†æçš„æ˜¯å¦æ­£ç¡®ï¼Ÿ","like_count":63,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463741,"discussion_content":"å®Œå…¨æ­£ç¡®ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566774062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1834181,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/fc/c5/ff8b770e.jpg","nickname":"BugBean","note":"","ucode":"B51232281AD9BC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":264325,"discussion_content":"æœ‰ç§ç‰¹æ®Šæƒ…å†µå°±æ˜¯å½“tail==næ—¶ï¼Œé¢‘ç¹åœ°å‡ºé˜Ÿå’Œå…¥é˜Ÿï¼Œè¿™æ—¶æ¯æ¬¡å…¥é˜Ÿéƒ½è¦æ•°æ®æ¬è¿ï¼Œå¤æ‚åº¦ä¸ºO(n)ã€‚è™½ç„¶è®¡ç®—å‡æ‘Šå¤æ‚åº¦æ—¶ä¸åº”è¯¥æŠŠè¿™ç§ç‰¹æ®Šæƒ…å†µè€ƒè™‘è¿›å»ï¼Œä½†æ˜¯å¯¹äºé˜Ÿåˆ—çš„åº”ç”¨åœºæ™¯ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¥è¯´ï¼Œé¢‘ç¹çš„å‡ºå…¥è¿˜æ˜¯å¾ˆå¸¸è§çš„å“ˆï¼Œä¸ªäººè§‚ç‚¹ï¼Œæœ›æŒ‡æ­£","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1589298081,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1818343,"avatar":"","nickname":"åˆ˜åŒé’","note":"","ucode":"84B62DF8BC61FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1834181,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/fc/c5/ff8b770e.jpg","nickname":"BugBean","note":"","ucode":"B51232281AD9BC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":272308,"discussion_content":"æ„Ÿè§‰ä¸€æ¬¡æ•°æ®æ¬ç§»åï¼Œæ¥ä¸‹æ¥n-sizeæ¬¡å…¥é˜Ÿéƒ½ä¸éœ€è¦æ¬ç§»ï¼Œè¯·é—®ä½ è¯´æ¯æ¬¡éƒ½éœ€è¦æ˜¯ä»€ä¹ˆæ„æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590285334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":264325,"ip_address":""},"score":272308,"extra":""},{"author":{"id":1371809,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ee/a1/2fed3067.jpg","nickname":"Pucca","note":"","ucode":"AE37B8727C85E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1818343,"avatar":"","nickname":"åˆ˜åŒé’","note":"","ucode":"84B62DF8BC61FB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":316109,"discussion_content":"å°±æ˜¯n-sizeç­‰äº1æ—¶ï¼Œé¢‘ç¹çš„enqueue*1+æ¬ç§»+dequeue*1+enqueue*1+æ¬ç§»ã€‚ã€‚ã€‚å¾ªç¯","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603360318,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":272308,"ip_address":""},"score":316109,"extra":""}]}]},{"had_liked":false,"id":31801,"user_name":"å§œå¨","can_delete":false,"product_type":"c1","uid":1244051,"ip_address":"","ucode":"C58EB9A5AD634D","user_header":"https://static001.geekbang.org/account/avatar/00/12/fb/93/f19a5364.jpg","comment_is_top":false,"comment_ctime":1539305375,"is_pvip":false,"replies":[{"id":"11473","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":31801,"uid":"1190123","ip_address":"","utype":1,"ctime":1539310163,"user_name_real":"gg"}],"discussion_count":1,"race_medal":0,"score":"267827277727","product_id":100017301,"comment_content":"æ€»ç»“<br>ä¸€ã€ä»€ä¹ˆæ˜¯é˜Ÿåˆ—ï¼Ÿ<br>1.å…ˆè¿›è€…å…ˆå‡ºï¼Œè¿™å°±æ˜¯å…¸å‹çš„â€œé˜Ÿåˆ—â€ç»“æ„ã€‚<br>2.æ”¯æŒä¸¤ä¸ªæ“ä½œï¼šå…¥é˜Ÿenqueue()ï¼Œæ”¾ä¸€ä¸ªæ•°æ®åˆ°é˜Ÿå°¾ï¼›å‡ºé˜Ÿdequeue()ï¼Œä»é˜Ÿå¤´å–ä¸€ä¸ªå…ƒç´ ã€‚<br>3.æ‰€ä»¥ï¼Œå’Œæ ˆä¸€æ ·ï¼Œé˜Ÿåˆ—ä¹Ÿæ˜¯ä¸€ç§æ“ä½œå—é™çš„çº¿æ€§è¡¨ã€‚<br>äºŒã€å¦‚ä½•å®ç°é˜Ÿåˆ—ï¼Ÿ<br>1.é˜Ÿåˆ—API<br>public interface Queue&lt;T&gt; {<br>public void enqueue(T item); &#47;&#47;å…¥é˜Ÿ<br>public T dequeue(); &#47;&#47;å‡ºé˜Ÿ<br>public int size(); &#47;&#47;ç»Ÿè®¡å…ƒç´ æ•°é‡<br>public boolean isNull(); &#47;&#47;æ˜¯å¦ä¸ºç©º<br>}<br>2.æ•°ç»„å®ç°ï¼ˆé¡ºåºé˜Ÿåˆ—ï¼‰ï¼šè§ä¸‹ä¸€æ¡ç•™è¨€<br>3.é“¾è¡¨å®ç°ï¼ˆé“¾å¼é˜Ÿåˆ—ï¼‰ï¼šè§ä¸‹ä¸€æ¡ç•™è¨€<br>4.å¾ªç¯é˜Ÿåˆ—ï¼ˆåŸºäºæ•°ç»„ï¼‰ï¼šè§ä¸‹ä¸€æ¡ç•™è¨€<br>ä¸‰ã€é˜Ÿåˆ—æœ‰å“ªäº›å¸¸è§çš„åº”ç”¨ï¼Ÿ<br>1.é˜»å¡é˜Ÿåˆ—<br>1ï¼‰åœ¨é˜Ÿåˆ—çš„åŸºç¡€ä¸Šå¢åŠ é˜»å¡æ“ä½œï¼Œå°±æˆäº†é˜»å¡é˜Ÿåˆ—ã€‚<br>2ï¼‰é˜»å¡é˜Ÿåˆ—å°±æ˜¯åœ¨é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™ï¼Œä»é˜Ÿå¤´å–æ•°æ®ä¼šè¢«é˜»å¡ï¼Œå› ä¸ºæ­¤æ—¶è¿˜æ²¡æœ‰æ•°æ®å¯å–ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰äº†æ•°æ®æ‰èƒ½è¿”å›ï¼›å¦‚æœé˜Ÿåˆ—å·²ç»æ»¡äº†ï¼Œé‚£ä¹ˆæ’å…¥æ•°æ®çš„æ“ä½œå°±ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰ç©ºé—²ä½ç½®åå†æ’å…¥æ•°æ®ï¼Œç„¶ååœ¨è¿”å›ã€‚<br>3ï¼‰ä»ä¸Šé¢çš„å®šä¹‰å¯ä»¥çœ‹å‡ºè¿™å°±æ˜¯ä¸€ä¸ªâ€œç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹â€ã€‚è¿™ç§åŸºäºé˜»å¡é˜Ÿåˆ—å®ç°çš„â€œç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹â€å¯ä»¥æœ‰æ•ˆåœ°åè°ƒç”Ÿäº§å’Œæ¶ˆè´¹çš„é€Ÿåº¦ã€‚å½“â€œç”Ÿäº§è€…â€ç”Ÿäº§æ•°æ®çš„é€Ÿåº¦è¿‡å¿«ï¼Œâ€œæ¶ˆè´¹è€…â€æ¥ä¸åŠæ¶ˆè´¹æ—¶ï¼Œå­˜å‚¨æ•°æ®çš„é˜Ÿåˆ—å¾ˆå¿«å°±ä¼šæ»¡äº†ï¼Œè¿™æ—¶ç”Ÿäº§è€…å°±é˜»å¡ç­‰å¾…ï¼Œç›´åˆ°â€œæ¶ˆè´¹è€…â€æ¶ˆè´¹äº†æ•°æ®ï¼Œâ€œç”Ÿäº§è€…â€æ‰ä¼šè¢«å”¤é†’ç»§ç»­ç”Ÿäº§ã€‚ä¸ä»…å¦‚æ­¤ï¼ŒåŸºäºé˜»å¡é˜Ÿåˆ—ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡åè°ƒâ€œç”Ÿäº§è€…â€å’Œâ€œæ¶ˆè´¹è€…â€çš„ä¸ªæ•°ï¼Œæ¥æé«˜æ•°æ®å¤„ç†æ•ˆç‡ï¼Œæ¯”å¦‚é…ç½®å‡ ä¸ªæ¶ˆè´¹è€…ï¼Œæ¥åº”å¯¹ä¸€ä¸ªç”Ÿäº§è€…ã€‚<br>2.å¹¶å‘é˜Ÿåˆ—<br>1ï¼‰åœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œä¼šæœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œé˜Ÿåˆ—ï¼Œè¿™æ—¶å°±ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚èƒ½å¤Ÿæœ‰æ•ˆè§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜çš„é˜Ÿåˆ—å°±ç§°ä¸ºå¹¶å‘é˜Ÿåˆ—ã€‚<br>2ï¼‰å¹¶å‘é˜Ÿåˆ—ç®€å•çš„å®ç°å°±æ˜¯åœ¨enqueue()ã€dequeue()æ–¹æ³•ä¸ŠåŠ é”ï¼Œä½†æ˜¯é”ç²’åº¦å¤§å¹¶å‘åº¦ä¼šæ¯”è¾ƒä½ï¼ŒåŒä¸€æ—¶åˆ»ä»…å…è®¸ä¸€ä¸ªå­˜æˆ–å–æ“ä½œã€‚<br>3ï¼‰å®é™…ä¸Šï¼ŒåŸºäºæ•°ç»„çš„å¾ªç¯é˜Ÿåˆ—åˆ©ç”¨CASåŸå­æ“ä½œï¼Œå¯ä»¥å®ç°éå¸¸é«˜æ•ˆçš„å¹¶å‘é˜Ÿåˆ—ã€‚è¿™ä¹Ÿæ˜¯å¾ªç¯é˜Ÿåˆ—æ¯”é“¾å¼é˜Ÿåˆ—åº”ç”¨æ›´åŠ å¹¿æ³›çš„åŸå› ã€‚<br>3.çº¿ç¨‹æ± èµ„æºæ¯ç«­æ˜¯çš„å¤„ç†<br>åœ¨èµ„æºæœ‰é™çš„åœºæ™¯ï¼Œå½“æ²¡æœ‰ç©ºé—²èµ„æºæ—¶ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥é€šè¿‡â€œé˜Ÿåˆ—â€è¿™ç§æ•°æ®ç»“æ„æ¥å®ç°è¯·æ±‚æ’é˜Ÿã€‚<br>å››ã€æ€è€ƒ<br>1.é™¤äº†çº¿ç¨‹æ± è¿™ç§æ± ç»“æ„ä¼šç”¨åˆ°é˜Ÿåˆ—æ’é˜Ÿè¯·æ±‚ï¼Œè¿˜æœ‰å“ªäº›ç±»ä¼¼çº¿ç¨‹æ± ç»“æ„æˆ–è€…åœºæ™¯ä¸­ä¼šç”¨åˆ°é˜Ÿåˆ—çš„æ’é˜Ÿè¯·æ±‚å‘¢ï¼Ÿ<br>2.ä»Šå¤©è®²åˆ°å¹¶å‘é˜Ÿåˆ—ï¼Œå…³äºå¦‚ä½•å®ç°æ— é”çš„å¹¶å‘é˜Ÿåˆ—ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šè®¨è®ºã€‚å¯¹è¿™ä¸ªé—®é¢˜ï¼Œä½ æ€ä¹ˆçœ‹ï¼Ÿ","like_count":62,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426511,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539310163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":35743,"user_name":"é˜¿é˜³","can_delete":false,"product_type":"c1","uid":1165817,"ip_address":"","ucode":"20A35FB86B1C5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/c9/f9/39492855.jpg","comment_is_top":false,"comment_ctime":1540780647,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"220584112743","product_id":100017301,"comment_content":"è¿™é‡Œæˆ‘çœŸå¿ƒç»™è€å¸ˆç‚¹èµã€‚æ¯èŠ‚è¯¾éƒ½æ˜¯ç”±æ˜“åˆ°éš¾ï¼Œç”±åŸºç¡€åˆ°å®æˆ˜åœºæ™¯ã€‚æ¯”å¦‚è¿™ä¸€èŠ‚ï¼Œå…ˆè®²è§£é˜Ÿåˆ—çš„åŸºæœ¬æ€§è´¨å’Œå®ç°æ–¹å¼ï¼Œå¹¶åšäº†å¯¹æ¯”ï¼›æ›´é‡è¦çš„æ˜¯ï¼Œåé¢è®²åˆ°äº†é˜»å¡é˜Ÿåˆ—å’Œå¹¶å‘é˜Ÿåˆ—ï¼Œè¿™ä¸ªå’Œå¹³æ—¶å¼€å‘é‡åˆ°çš„åœºæ™¯ç±»ä¼¼ï¼Œç†è®ºè”ç³»å®é™…ï¼Œåˆæœ‰ä»£ç çš„å®ç°ã€‚<br>ä½œä¸ºè€ç¨‹åºå‘˜ï¼Œè¿™æ¬¡å­¦ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Œä¸å†è¿·æƒ˜ï¼Œåè€Œæ¿€å‘äº†å­¦ä¹ å…´è¶£ã€‚çœŸå¿ƒæ„Ÿè°¢è€å¸ˆï¼","like_count":51},{"had_liked":false,"id":33534,"user_name":"asule","can_delete":false,"product_type":"c1","uid":1244075,"ip_address":"","ucode":"FCF276911D05C1","user_header":"https://static001.geekbang.org/account/avatar/00/12/fb/ab/23dd1ece.jpg","comment_is_top":false,"comment_ctime":1539822735,"is_pvip":false,"replies":[{"id":"12096","content":"ğŸ˜„ æ˜¯çš„","user_name":"ä½œè€…å›å¤","comment_id":33534,"uid":"1190123","ip_address":"","utype":1,"ctime":1539856573,"user_name_real":"gg"}],"discussion_count":7,"race_medal":0,"score":"211993220239","product_id":100017301,"comment_content":"å¾ˆå¤šåŒå­¦éƒ½æåˆ°å¾ªç¯é˜Ÿåˆ—å¢åŠ flagæ¥é¿å…æµªè´¹æœ€åä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œé‚£æ˜¯ä¸æ˜¯flagæœ¬èº«ä¹Ÿéœ€è¦ä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Ÿ","like_count":49,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426985,"discussion_content":"ğŸ˜„ æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539856573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121142,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1b/76/e927da9f.jpg","nickname":"æ™´å¤©","note":"","ucode":"2FF5257193FC0A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":79765,"discussion_content":"å¦‚æœæ•°ç»„ä¸­å­˜çš„ä¸æ˜¯ int ç±»å‹çš„å€¼ï¼Œç”¨ int ç±»å‹åš size è®¡æ•°ï¼Œå…¶å®å°±çœå­˜å‚¨ç©ºé—´äº†","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1576110746,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1003515,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4f/fb/10366b97.jpg","nickname":"Henry","note":"","ucode":"54AFE9C99B31B4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508,"discussion_content":"æœ‰é“ç†ï¼Œä¹‹å‰è¿˜æƒ³ä¸é€šçš„ï¼Œä¸ºå•¥è¦ç•™ä¸‹ä¸€ä¸ªç©ºä½ã€‚å¦‚æœä¸ç•™ç©ºä½çš„è¯éœ€è¦ä¸€ä¸ªå˜é‡æ¥è®°å½•æ•°ç»„çš„é•¿åº¦ï¼Œé•¿åº¦ç­‰äºæœ€å¤§é™åˆ¶çš„æ—¶å€™å°±è®¤ä¸ºæ»¡äº†ã€‚ä½†æ˜¯ç»´æŠ¤è¿™ä¸ªå˜é‡ä¹Ÿæ˜¯éœ€è¦å­˜å‚¨ç©ºé—´çš„ï¼Œå€’ä¸å¦‚ç›´æ¥ç”¨ä½œè€…è¿™ä¸ªæ–¹å¼æ›´å¥½ã€‚","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1561626643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1482915,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a0/a3/8da99bb0.jpg","nickname":"ä¸šä½™çˆ±å¥½è€…","note":"","ucode":"A890935A982988","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":60962,"discussion_content":"è€é“çœŸç›¸","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1574767361,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1451253,"avatar":"https://static001.geekbang.org/account/avatar/00/16/24/f5/9178e11e.jpg","nickname":"step by step","note":"","ucode":"FE66757211878A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1336,"discussion_content":"asuleå’Œæˆ‘çš„æ˜µç§°ä¸€æ ·","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1562567252,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2358638,"avatar":"https://static001.geekbang.org/account/avatar/00/23/fd/6e/1913dbb6.jpg","nickname":"Amber","note":"","ucode":"650FE5C46CCD1C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343594,"discussion_content":"ç©ºé—´æ¢æ—¶é—´çš„æ€è·¯ã€‚æ•°æ®ç»“æ„æœ‰è®²è§£ã€‚\nå¤šäº†ä¸€ä¸ªç©ºé—´ï¼Œä½†æ˜¯å®ç°å’Œæ•ˆç‡éƒ½ç®€å•äº†ï¼Œé™ä½äº†æŠ½è±¡æƒ©ç½šç¨‹åº¦ã€‚\nç±»ä¼¼çš„æ€è·¯åœ¨é“¾è¡¨ï¼Œé˜Ÿåˆ—ï¼Œå†’æ³¡æ’åºä¸­éƒ½æœ‰å½±å­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611106451,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1304586,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e8/0a/16a3609e.jpg","nickname":"é€å…‰æ— ç—•","note":"","ucode":"0FBC0FF4613703","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307975,"discussion_content":"éšå¼å˜æ˜¾å¼äº†ğŸ¤—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600819805,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31220,"user_name":"è€å¸æœº","can_delete":false,"product_type":"c1","uid":1256721,"ip_address":"","ucode":"D226BBE43DA804","user_header":"","comment_is_top":false,"comment_ctime":1539133438,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"211992530942","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—çœŸçš„æ˜¯æ¯”è¾ƒç‰›é€¼çš„æ€è·¯ï¼Œå°¤å…¶æ˜¯linuxå†…æ ¸æºç çš„kfifoçš„å®ç°ï¼Œæ— è®ºæ˜¯å–æ¨¡è¿ç®—è½¬æ¢æˆå–ä¸è¿ç®—ï¼Œè¿˜æ˜¯è€ƒè™‘headï¼Œtailçš„æº¢å‡ºï¼Œç‰›é€¼","like_count":49,"discussions":[{"author":{"id":1204353,"avatar":"https://static001.geekbang.org/account/avatar/00/12/60/81/eaf6d0ac.jpg","nickname":"æ‹‰å¸ƒæ‹‰å¤š","note":"","ucode":"637A88D9F29F57","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379536,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623943266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1581352,"avatar":"https://static001.geekbang.org/account/avatar/00/18/21/28/4c13599a.jpg","nickname":"ã€ˆğŸ˜ãƒ","note":"","ucode":"A4EBDCE5EF943A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":356263,"discussion_content":" N=2^k (k>=1)\nnum%N = num&amp;(N-1)\n ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615558105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1111114,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqMtj8cibc3UmW5gTmnMtNxIl7Bibo0Fvs9SYwaIhfoNXtHEGvedcaxyicUys7ycLR7TKz08CKAia46pw/132","nickname":"è‡ªç”±æª¬","note":"","ucode":"7FFC8AD061A776","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335676,"discussion_content":"æ‰“å¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608269687,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2046036,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/sOuSC65kXWdWBAIIs6uXAD41Ed8Wo8tib81LLVOQJ2oK23TgPDy6x0PGmp7rXwLR3BHOicaKx1zib1DyfpCITK3dw/132","nickname":"GeekYanger","note":"","ucode":"E674B7D25261CC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289252,"discussion_content":"æ‰“å¡ï¼Œå–æ¨¡è¿ç®—å¯ä»¥è½¬æ¢æˆä¸è¿ç®—ï¼Œä½†æ˜¯ä¸çš„å€¼æ˜¯æœ‰è®²ç©¶çš„ï¼Œå¿…é¡»æ˜¯å…¨1çš„è¿™ç§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594041298,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":true,"id":36470,"user_name":"allean","can_delete":false,"product_type":"c1","uid":1051470,"ip_address":"","ucode":"A0D2DB4F219EAA","user_header":"https://static001.geekbang.org/account/avatar/00/10/0b/4e/fd946cb2.jpg","comment_is_top":false,"comment_ctime":1541122266,"is_pvip":false,"replies":[{"id":"12952","content":"ğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":36470,"uid":"1190123","ip_address":"","utype":1,"ctime":1541123716,"user_name_real":"gg"}],"discussion_count":6,"race_medal":0,"score":"186224715994","product_id":100017301,"comment_content":"Q: ã€ŒTalk is cheap. Show me the codeã€æ€ä¹ˆç¿»è¯‘æ¯”è¾ƒå¥½ï¼Ÿ<br><br>A: å±è¯å°‘è¯´ï¼Œæ”¾ç è¿‡æ¥ã€‚","like_count":43,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427879,"discussion_content":"ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541123716,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1239504,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e9/d0/af96c86a.jpg","nickname":"Aç±³fans1111","note":"","ucode":"99BE48333DD919","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7911,"discussion_content":"æœ‰è¶£çš„çµé­‚ï¼Œå’Œå¯¹é—®é¢˜çš„æ´å¯ŸåŠ›ï¼Œæ¯”è®°ä½ä¸€äº›ç¢ç‰‡çš„å¥—è·¯ï¼Œç²—æµ…çš„å­¦è¿‡ä¸€è½®xxx   é‡è¦çš„å¤šã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1567728772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1640978,"avatar":"https://static001.geekbang.org/account/avatar/00/19/0a/12/f8b988b8.jpg","nickname":"Kyle(","note":"","ucode":"0C14C4C086CAA9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":355541,"discussion_content":"å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ï¼Œç åˆ°åŠŸæˆè–ªæ°´æ¥...","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1615449827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2008802,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/a6/e2/465eaa08.jpg","nickname":"Jimmy Chen","note":"","ucode":"B9912576885A5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413583,"discussion_content":"å°‘ç½—å—¦ï¼Œä¸Šç ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636516825,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1978489,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/30/79/fcb94f00.jpg","nickname":"æä¹¦ç”Ÿ","note":"","ucode":"096CEC01DFFCCD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292362,"discussion_content":"åˆ«bbï¼Œç”¨ä»£ç è¯´è¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595205426,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1901476,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/03/a4/d39c747c.jpg","nickname":"ä»¥å¸…æœäººçš„ç‚å“¥","note":"","ucode":"1A94CA2D7980B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291615,"discussion_content":"åˆ« BB,ä¸Šä»£ç ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594888246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31144,"user_name":"è´è¶","can_delete":false,"product_type":"c1","uid":1193167,"ip_address":"","ucode":"8019924D99182F","user_header":"https://static001.geekbang.org/account/avatar/00/12/34/cf/0a316b48.jpg","comment_is_top":false,"comment_ctime":1539106848,"is_pvip":true,"discussion_count":3,"race_medal":0,"score":"147567994912","product_id":100017301,"comment_content":"è¿™ç§å®ç°æ€è·¯ä¸­ï¼Œå‡ºé˜Ÿæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä»ç„¶æ˜¯ O(1)ï¼Œä½†å…¥é˜Ÿæ“ä½œçš„æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯ O(1) å—æƒ³äº†ä¸€ä¸‹ï¼Œè€ƒè™‘åˆ°headå¯èƒ½ç­‰äº1,2,n-1,ç»è¿‡è®¡ç®—ï¼Œè§‰å¾—å‡æ‘Šå’Œå¹³å‡æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯O(1),å¯¹ä¹ˆï¼Ÿ","like_count":34,"discussions":[{"author":{"id":1330065,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/N0NACGUr8dNAbN6BdiagPHBaB0EnyDsI9zWpwJteqTY38apOEnTOA7JkBAQnzYKJBgxu3Q8YMUILwLAB6camn4w/132","nickname":"Swing","note":"","ucode":"55FCA9ECEFBBEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":65752,"discussion_content":"ï¼Ÿï¼Ÿï¼Ÿç¯å½¢é˜Ÿåˆ—å—ï¼Ÿæ²¡æœ‰æ•°æ®æ¬ç§»æ“ä½œå•Šï¼Œä¹Ÿå°±æ˜¯ å’Œ æ•°æ®è§„æ¨¡næ— å…³ï¼Œåªè¦æ“ä½œä¸€æ¬¡å°±å¥½äº†ã€‚ã€‚å½“ç„¶æ˜¯ O(1)äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575026571,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1014550,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/16/ca250e8c.jpg","nickname":"ç‹æœ¨å…¬","note":"","ucode":"F049AEBFA0338D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4118,"discussion_content":"è¡¨ç¤ºèµåŒã€‚æ„Ÿè§‰å…¥é˜Ÿæ—¶çš„æƒ…å†µæ¯”è¾ƒå¤šï¼Œä¸çŸ¥é“èƒ½å¦ç”¨å‡æ‘Šåˆ†æçš„æ–¹æ³•ã€‚å°±ç›´æ¥è®¡ç®—äº†ä¸‹åŠ æƒå¹³å‡æ—¶é—´å¤æ‚åº¦ï¼Œå°±æ˜¯å°†æ‰€æœ‰çš„æƒ…å†µéƒ½åˆ—ä¸¾å‡ºæ¥ï¼Œæ¯ç§æƒ…å†µå‡ºç°çš„æ¦‚ç‡éƒ½ä¸€æ ·ï¼Œæœ€ç»ˆè®¡ç®—çš„ç®—æ³•æ‰§è¡Œæ¬¡æ•°æ˜¯ï¼Œä¸¤ä¸ªn^2çš„å¤šé¡¹å¼ç›¸é™¤ï¼Œæ‰€ä»¥è¿˜æ˜¯O(1)å¤æ‚åº¦","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1565143798,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986864,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/51/30/e1b329f1.jpg","nickname":"Ecmi++","note":"","ucode":"F3ED68AFF4CB39","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":258142,"discussion_content":"åº”è¯¥å¯ä»¥ç”¨å‡æ‘Šåˆ†æçš„æ–¹æ³•ï¼Œå¤æ‚åº¦è¿˜æ˜¯O(1)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588652652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31308,"user_name":"Peterä¸¶æ¡¥","can_delete":false,"product_type":"c1","uid":1242178,"ip_address":"","ucode":"42FA32F51BEA74","user_header":"https://static001.geekbang.org/account/avatar/00/12/f4/42/da9233eb.jpg","comment_is_top":false,"comment_ctime":1539146208,"is_pvip":false,"replies":[{"id":"11315","content":"è¡Œçš„","user_name":"ä½œè€…å›å¤","comment_id":31308,"uid":"1190123","ip_address":"","utype":1,"ctime":1539222753,"user_name_real":"gg"}],"discussion_count":1,"race_medal":0,"score":"121798230496","product_id":100017301,"comment_content":"è€å¸ˆè¦æ˜¯æœ‰æ—¶é—´å¯¹è¯¾åé—®é¢˜é›†ä¸­å¼åšä¸‹è§£ç­”å°±å¥½äº†","like_count":28,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426287,"discussion_content":"è¡Œçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539222753,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":33474,"user_name":"æˆ‘ä»¥ä¸ºä½ ä¸çœ‹","can_delete":false,"product_type":"c1","uid":1240585,"ip_address":"","ucode":"BDBB01689EED97","user_header":"https://static001.geekbang.org/account/avatar/00/12/ee/09/c2923d39.jpg","comment_is_top":false,"comment_ctime":1539790857,"is_pvip":false,"replies":[{"id":"12099","content":"å¾ªç¯é˜Ÿåˆ—ä¸è¡Œçš„ ä¸ç„¶æ— æ³•åŒºåˆ†é˜Ÿç©ºå’Œé˜Ÿæ»¡","user_name":"ä½œè€…å›å¤","comment_id":33474,"uid":"1190123","ip_address":"","utype":1,"ctime":1539856941,"user_name_real":"gg"}],"discussion_count":6,"race_medal":0,"score":"113208940553","product_id":100017301,"comment_content":"ä¸€ç›´æƒ³ä¸æ˜ç™½ä¸ºä»€ä¹ˆé˜Ÿåˆ—è¦ç©ºå‡ºä¸€ä¸ªç©ºçš„æ ¼ä¸å­˜æ•°æ®ï¼Œä¸æ˜¯å¯ä»¥ç›´æ¥å…¥é˜Ÿå­˜åœ¨tailé‡Œï¼Œtailï¼‹ï¼‹å†æ¯”è¾ƒæ˜¯å¦è¶…å‡ºå®¹é‡å—ã€‚","like_count":26,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426972,"discussion_content":"å¾ªç¯é˜Ÿåˆ—ä¸è¡Œçš„ ä¸ç„¶æ— æ³•åŒºåˆ†é˜Ÿç©ºå’Œé˜Ÿæ»¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539856941,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2409475,"avatar":"https://static001.geekbang.org/account/avatar/00/24/c4/03/b5ff525d.jpg","nickname":"ç´ è´¨é’å¹´","note":"","ucode":"8E4C81A8648B66","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342066,"discussion_content":"ä½ é—®äº†æˆ‘æƒ³é—®çš„é—®é¢˜ ","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1610589469,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2237812,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/gGOGcSH4AcC6iaeVcibEsuKdkRMPWia5G1OQY9Bm5n9pR7HFWEmtWeK9S3RhibDf8ePibx7RsCRl2Ng6MOPL0ry9vHA/132","nickname":"Geek_71d8b8","note":"","ucode":"C767E902AE874B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361104,"discussion_content":"ç”¨ä¸€ä¸ªé¢å¤–çš„éå†countæ¥è®°å½•é˜Ÿåˆ—ä¸­çš„ä¸ªæ•°ï¼Œå…¥é˜Ÿ+1ï¼Œå‡ºé˜Ÿ-1ï¼Œheadå’ŒtailæŒ‡é’ˆåˆ°é˜Ÿå°¾å°±ç½®ä¸º0ä¸‹æ ‡ï¼Œä»å¤´å¼€å§‹å¾ªç¯ï¼Œç©ºé—´å…¨éƒ¨åˆ©ç”¨ã€‚åœ¨å…¥é˜Ÿå’Œå‡ºé˜Ÿå‰éƒ½ç”¨countä½œä¸ºé˜Ÿæ»¡é˜Ÿç©ºçš„åˆ¤æ–­ï¼Œè¿™æ ·æ˜¯å¦å¯è¡Œï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616593723,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2879848,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/f1/68/a37036a1.jpg","nickname":"é…±èåœå¹²","note":"","ucode":"6AA054B8C44F09","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2237812,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/gGOGcSH4AcC6iaeVcibEsuKdkRMPWia5G1OQY9Bm5n9pR7HFWEmtWeK9S3RhibDf8ePibx7RsCRl2Ng6MOPL0ry9vHA/132","nickname":"Geek_71d8b8","note":"","ucode":"C767E902AE874B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554449,"discussion_content":"ä¸ç”¨ç½®ä¸º0 ä»å¤´å¾ªç¯ã€‚ ç›´æ¥ç”¨countåˆ¤æ–­æ˜¯å¦é˜Ÿæ»¡é˜Ÿç©ºå°±è¡Œã€‚headå’Œtailaä¸€ç›´å¾€åèµ°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646384953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":361104,"ip_address":""},"score":554449,"extra":""}]},{"author":{"id":1154935,"avatar":"https://static001.geekbang.org/account/avatar/00/11/9f/77/3a8fb89f.jpg","nickname":"æ´»æ°´","note":"","ucode":"8A93734B62AF04","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46949,"discussion_content":"tailä¸€ç›´æŒ‡å‘ï¼Œæœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä½ï¼Œå•å‘é“¾è¡¨ï¼Œæœ€åä¸€ä¸ªtailèŠ‚ç‚¹è¶Šç•Œäº†ï¼Œä½†ä¸è®¿é—®ï¼Œæ²¡æœ‰å…³ç³»ï¼Œé¡ºåºé˜Ÿåˆ—å’Œé“¾å¼é˜Ÿåˆ—éƒ½å¯ä»¥è¿™ä¹ˆç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573228005,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1239504,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e9/d0/af96c86a.jpg","nickname":"Aç±³fans1111","note":"","ucode":"99BE48333DD919","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7910,"discussion_content":"é¦™ä¾¬å¤§ç¥è¯´ï¼Œæ¶ˆé™¤ä¸ç¡®å®šæ€§çš„å”¯ä¸€æ–¹å¼æ˜¯æ•°æ®ã€‚\nä»è¿™ä¸ªè§’åº¦æ¥è®²ï¼Œçœ500å­—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567728505,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":34023,"user_name":"ç«ç«ç«","can_delete":false,"product_type":"c1","uid":1115878,"ip_address":"","ucode":"B9B3E4CC87CE8D","user_header":"https://static001.geekbang.org/account/avatar/00/11/06/e6/8c643d02.jpg","comment_is_top":false,"comment_ctime":1539952546,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"78849363874","product_id":100017301,"comment_content":"æ‚¨å°½ç®¡æ›´æ–°ï¼Œæˆ‘æŒ‰é¡ºåºçœ‹ã€‚æœ¬æ¥å°±æ˜¯é˜Ÿåˆ—å•Š","like_count":18},{"had_liked":false,"id":76017,"user_name":"HunterYuan","can_delete":false,"product_type":"c1","uid":1015256,"ip_address":"","ucode":"F8900C33D29AA7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/d8/d7c77764.jpg","comment_is_top":false,"comment_ctime":1552524199,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"70272000935","product_id":100017301,"comment_content":"æ€è€ƒé¢˜ï¼š<br>1. åœ¨ç½‘å¡çš„æ”¶å‘æ•°æ®åŒ…æ“ä½œï¼Œlinuxå†…æ ¸åè®®æ ˆé‡‡ç”¨å¾ªç¯é˜Ÿåˆ—çš„æ–¹å¼è¿›è¡Œå¤„ç†ã€‚<br>2.linuxå†…æ ¸æ€rucå’Œç”¨æˆ·æ€urcuå®ç°äº†æ— é”å¹¶å‘è®¿é—®å…±äº«æ•°æ®ï¼Œéå¸¸é€‚åˆäºè¯»å¤šå†™å°‘çš„åœºæ™¯ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œæ‹·è´å¤åˆ¶é“¾è¡¨æ•°æ®ï¼ŒåŸå­æ“ä½œç§»åŠ¨é“¾è¡¨æŒ‡é’ˆï¼Œå®ç°çœŸæ­£çš„æ— é”æ“ä½œã€‚","like_count":16,"discussions":[{"author":{"id":1518842,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2c/fa/d9ef3e77.jpg","nickname":"ç‰›ä»”å¾ˆå¿™ã€‚","note":"","ucode":"5037849220E48D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579553,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657524964,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2621412,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ff/e4/927547a9.jpg","nickname":"æ— åæ— å§“","note":"","ucode":"487BD5AA2CD305","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390888,"discussion_content":"é«˜æ‰‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630120311,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1154935,"avatar":"https://static001.geekbang.org/account/avatar/00/11/9f/77/3a8fb89f.jpg","nickname":"æ´»æ°´","note":"","ucode":"8A93734B62AF04","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46944,"discussion_content":"é‚£æœ‰æ²¡æœ‰å¯èƒ½å»è¯»çš„æ—¶å€™å·²ç»å‡ºé˜Ÿäº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573227785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31277,"user_name":"æœ€åˆçš„å°è±¡","can_delete":false,"product_type":"c1","uid":1228852,"ip_address":"","ucode":"4DD68307FA274E","user_header":"https://static001.geekbang.org/account/avatar/00/12/c0/34/0574bb44.jpg","comment_is_top":false,"comment_ctime":1539141844,"is_pvip":false,"replies":[{"id":"11316","content":"ç­‰æˆ‘æœ‰ç©ºäº†å§ æœ€è¿‘æœ‰ç‚¹å¿™","user_name":"ä½œè€…å›å¤","comment_id":31277,"uid":"1190123","ip_address":"","utype":1,"ctime":1539222827,"user_name_real":"gg"}],"discussion_count":2,"race_medal":0,"score":"70258618580","product_id":100017301,"comment_content":"èƒ½ä¸èƒ½å†™ä¸‹é˜»å¡é˜Ÿåˆ—å’Œå¹¶å‘é˜Ÿåˆ—çš„ä»£ç ","like_count":16,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426275,"discussion_content":"ç­‰æˆ‘æœ‰ç©ºäº†å§ æœ€è¿‘æœ‰ç‚¹å¿™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539222827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2035702,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/0f/f6/609ded9f.jpg","nickname":"tingting","note":"","ucode":"61E6B0C4EC59C5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589902,"discussion_content":"é˜»å¡é˜Ÿåˆ—å’Œå¹¶å‘é˜Ÿåˆ—çš„å®ç°å¯ä»¥å‚è€ƒä¸€ä¸‹goè¯­è¨€ä¸­çš„channelçš„åº•å±‚ä»£ç ã€‚ ä¸è¿‡è·Ÿè€å¸ˆè¯´çš„æ— é”CASå¹¶å‘é˜Ÿåˆ—å®ç°ä¸åŒï¼Œchannelçš„å®ç°æ˜¯ä½¿ç”¨ä¸€æŠŠå¤§é”æ¥ä¿è¯çš„çº¿ç¨‹å®‰å…¨ã€‚ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665389069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ–°åŠ å¡"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":35958,"user_name":"djane","can_delete":false,"product_type":"c1","uid":1249032,"ip_address":"","ucode":"5315AA246AFDD8","user_header":"","comment_is_top":false,"comment_ctime":1540872225,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"61670414369","product_id":100017301,"comment_content":"ã€ç¬”è®°ã€‘<br>ä¸€ã€å¦‚ä½•ç†è§£â€œé˜Ÿåˆ—â€ï¼Ÿ<br>1ã€é˜Ÿåˆ—æ˜¯ä¸€ç§æ“ä½œå—é™çš„çº¿æ€§è¡¨æ•°æ®ç»“æ„ã€‚<br>2ã€é˜Ÿåˆ—æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å…ˆè¿›å…ˆå‡ºã€‚<br>3ã€æœ€åŸºæœ¬çš„æ“ä½œï¼šå…¥é˜Ÿ enqueue()ï¼Œæ”¾ä¸€ä¸ªæ•°æ®åˆ°é˜Ÿåˆ—å°¾éƒ¨ï¼›å‡ºé˜Ÿ dequeue()ï¼Œä»é˜Ÿåˆ—å¤´éƒ¨å–ä¸€ä¸ªå…ƒç´ ã€‚<br><br>äºŒã€é¡ºåºé˜Ÿåˆ—å’Œé“¾å¼é˜Ÿåˆ—<br>1ã€ç”¨æ•°ç»„å®ç°çš„é˜Ÿåˆ—å«é¡ºåºé˜Ÿåˆ—ï¼Œç”¨é“¾è¡¨å®ç°çš„é˜Ÿåˆ—å«é“¾å¼é˜Ÿåˆ—ã€‚<br>2ã€é˜Ÿåˆ—éœ€è¦ä¸¤ä¸ªæŒ‡é’ˆï¼šä¸€ä¸ªæ˜¯ head æŒ‡é’ˆï¼ŒæŒ‡å‘é˜Ÿå¤´ï¼›ä¸€ä¸ªæ˜¯ tail æŒ‡é’ˆï¼ŒæŒ‡å‘é˜Ÿå°¾ã€‚<br>3ã€éšç€ä¸åœåœ°è¿›è¡Œå…¥é˜Ÿã€å‡ºé˜Ÿæ“ä½œï¼Œhead å’Œ tail éƒ½ä¼šæŒç»­å¾€åç§»åŠ¨ã€‚å½“ tail ç§»åŠ¨åˆ°æœ€å³è¾¹ï¼Œå³ä½¿æ•°ç»„ä¸­è¿˜æœ‰ç©ºé—²ç©ºé—´ï¼Œä¹Ÿæ— æ³•ç»§ç»­å¾€é˜Ÿåˆ—ä¸­æ·»åŠ æ•°æ®äº†ã€‚<br>       å®é™…ä¸Šï¼Œæˆ‘ä»¬åœ¨å‡ºé˜Ÿæ—¶å¯ä»¥ä¸ç”¨æ¬ç§»æ•°æ®ã€‚å¦‚æœæ²¡æœ‰ç©ºé—²ç©ºé—´äº†ï¼Œåªéœ€è¦åœ¨å…¥é˜Ÿæ—¶ï¼Œå†é›†ä¸­è§¦å‘ä¸€æ¬¡æ•°æ®çš„æ¬ç§»æ“ä½œã€‚å‡ºé˜Ÿå‡½æ•° dequeue() ä¿æŒä¸å˜ï¼Œæˆ‘ä»¬ç¨åŠ æ”¹é€ ä¸€ä¸‹å…¥é˜Ÿå‡½æ•° enqueue() çš„å®ç°ï¼Œå½“é˜Ÿåˆ—çš„ tail æŒ‡é’ˆç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³è¾¹åï¼Œå¦‚æœæœ‰æ–°çš„æ•°æ®å…¥é˜Ÿï¼Œæˆ‘ä»¬å¯ä»¥å°† head åˆ° tail ä¹‹é—´çš„æ•°æ®ï¼Œæ•´ä½“æ¬ç§»åˆ°æ•°ç»„ä¸­ 0 åˆ° tail-head çš„ä½ç½®ã€‚<br>4ã€åŸºäºé“¾è¡¨çš„å®ç°ï¼ŒåŒæ ·éœ€è¦ä¸¤ä¸ªæŒ‡é’ˆï¼šhead æŒ‡é’ˆå’Œ tail æŒ‡é’ˆã€‚åˆ†åˆ«æŒ‡å‘é“¾è¡¨çš„ç¬¬ä¸€ä¸ªç»“ç‚¹å’Œæœ€åä¸€ä¸ªç»“ç‚¹ã€‚å…¥é˜Ÿæ—¶ï¼Œtail-&gt;next= new_node, tail = tail-&gt;nextï¼›å‡ºé˜Ÿæ—¶ï¼Œhead = head-&gt;nextã€‚<br><br>ä¸‰ã€å¾ªç¯é˜Ÿåˆ—<br>1ã€å¾ªç¯é˜Ÿåˆ—ï¼ŒåŸæœ¬æ•°ç»„æ˜¯æœ‰å¤´æœ‰å°¾çš„ï¼Œæ˜¯ä¸€æ¡ç›´çº¿ã€‚æŠŠé¦–å°¾ç›¸è¿ï¼Œæ‰³æˆäº†ä¸€ä¸ªç¯ã€‚<br>2ã€åœ¨æ•°ç»„å®ç°é˜Ÿåˆ—çš„æ—¶å€™ï¼Œä¼šæœ‰æ•°æ®æ¬ç§»æ“ä½œï¼Œè¦æƒ³è§£å†³æ•°æ®æ¬ç§»çš„é—®é¢˜ï¼Œéœ€è¦åƒç¯ä¸€æ ·çš„å¾ªç¯é˜Ÿåˆ—ã€‚<br>3ã€è¦æƒ³å†™å‡ºæ²¡æœ‰ bug çš„å¾ªç¯é˜Ÿåˆ—çš„å®ç°ä»£ç ï¼Œæœ€å…³é”®çš„æ˜¯ï¼Œç¡®å®šå¥½é˜Ÿç©ºå’Œé˜Ÿæ»¡çš„åˆ¤å®šæ¡ä»¶ã€‚<br>1ï¼‰é˜Ÿåˆ—ä¸ºç©ºçš„åˆ¤æ–­æ¡ä»¶ä»ç„¶æ˜¯ head == tailã€‚<br>2ï¼‰å½“é˜Ÿæ»¡æ—¶ï¼Œ(tail+1)%n=headã€‚ tail æŒ‡å‘çš„ä½ç½®å®é™…ä¸Šæ˜¯æ²¡æœ‰å­˜å‚¨æ•°æ®çš„ã€‚æ‰€ä»¥ï¼Œå¾ªç¯é˜Ÿåˆ—ä¼šæµªè´¹ä¸€ä¸ªæ•°ç»„çš„å­˜å‚¨ç©ºé—´ã€‚<br><br>å››ã€é˜»å¡é˜Ÿåˆ—å’Œå¹¶å‘é˜Ÿåˆ—<br>1ã€é˜»å¡é˜Ÿåˆ—<br>1ï¼‰é˜»å¡é˜Ÿåˆ—å°±æ˜¯åœ¨é˜Ÿåˆ—åŸºç¡€ä¸Šå¢åŠ äº†é˜»å¡æ“ä½œã€‚<br>2ï¼‰åœ¨é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™ï¼Œä»é˜Ÿå¤´å–æ•°æ®ä¼šè¢«é˜»å¡ã€‚å› ä¸ºæ­¤æ—¶è¿˜æ²¡æœ‰æ•°æ®å¯å–ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰äº†æ•°æ®æ‰èƒ½è¿”å›ï¼›å¦‚æœé˜Ÿåˆ—å·²ç»æ»¡äº†ï¼Œé‚£ä¹ˆæ’å…¥æ•°æ®çš„æ“ä½œå°±ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰ç©ºé—²ä½ç½®åå†æ’å…¥æ•°æ®ï¼Œç„¶åå†è¿”å›ã€‚<br>3ï¼‰åŸºäºé˜»å¡é˜Ÿåˆ—å®ç°çš„â€œç”Ÿäº§è€… - æ¶ˆè´¹è€…æ¨¡å‹â€ï¼Œå¯ä»¥æœ‰æ•ˆåœ°åè°ƒç”Ÿäº§å’Œæ¶ˆè´¹çš„é€Ÿåº¦ã€‚<br><br>2ã€å¹¶å‘é˜Ÿåˆ—<br>1ï¼‰çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—ï¼Œå«ä½œå¹¶å‘é˜Ÿåˆ—ã€‚<br>2ï¼‰æœ€ç®€å•ç›´æ¥çš„å®ç°æ–¹å¼æ˜¯ç›´æ¥åœ¨ enqueue()ã€dequeue() æ–¹æ³•ä¸ŠåŠ é”ï¼Œä½†æ˜¯é”ç²’åº¦å¤§å¹¶å‘åº¦ä¼šæ¯”è¾ƒä½ï¼ŒåŒä¸€æ—¶åˆ»ä»…å…è®¸ä¸€ä¸ªå­˜æˆ–è€…å–æ“ä½œã€‚<br>3ï¼‰å®é™…ä¸Šï¼ŒåŸºäºæ•°ç»„çš„å¾ªç¯é˜Ÿåˆ—ï¼Œåˆ©ç”¨ CAS åŸå­æ“ä½œï¼Œå¯ä»¥å®ç°éå¸¸é«˜æ•ˆçš„å¹¶å‘é˜Ÿåˆ—ã€‚è¿™ä¹Ÿæ˜¯å¾ªç¯é˜Ÿåˆ—æ¯”é“¾å¼é˜Ÿåˆ—åº”ç”¨æ›´åŠ å¹¿æ³›çš„åŸå› ã€‚<br><br>äº”ã€çº¿ç¨‹æ± æ²¡æœ‰ç©ºé—²çº¿ç¨‹æ—¶ï¼Œæ–°çš„ä»»åŠ¡è¯·æ±‚çº¿ç¨‹èµ„æºæ—¶ï¼Œçº¿ç¨‹æ± è¯¥å¦‚ä½•å¤„ç†ï¼Ÿå„ç§å¤„ç†ç­–ç•¥åˆæ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ<br>ä¸€èˆ¬æœ‰ä¸¤ç§å¤„ç†ç­–ç•¥ã€‚ç¬¬ä¸€ç§æ˜¯éé˜»å¡çš„å¤„ç†æ–¹å¼ï¼Œç›´æ¥æ‹’ç»ä»»åŠ¡è¯·æ±‚ï¼›å¦ä¸€ç§æ˜¯é˜»å¡çš„å¤„ç†æ–¹å¼ï¼Œå°†è¯·æ±‚æ’é˜Ÿï¼Œç­‰åˆ°æœ‰ç©ºé—²çº¿ç¨‹æ—¶ï¼Œå–å‡ºæ’é˜Ÿçš„è¯·æ±‚ç»§ç»­å¤„ç†ã€‚<br>1ã€åŸºäºé“¾è¡¨çš„å®ç°æ–¹å¼ï¼Œå¯ä»¥å®ç°ä¸€ä¸ªæ”¯æŒæ— é™æ’é˜Ÿçš„æ— ç•Œé˜Ÿåˆ—ï¼ˆunbounded queueï¼‰ï¼Œä½†æ˜¯å¯èƒ½ä¼šå¯¼è‡´è¿‡å¤šçš„è¯·æ±‚æ’é˜Ÿç­‰å¾…ï¼Œè¯·æ±‚å¤„ç†çš„å“åº”æ—¶é—´è¿‡é•¿ã€‚æ‰€ä»¥ï¼Œé’ˆå¯¹å“åº”æ—¶é—´æ¯”è¾ƒæ•æ„Ÿçš„ç³»ç»Ÿï¼ŒåŸºäºé“¾è¡¨å®ç°çš„æ— é™æ’é˜Ÿçš„çº¿ç¨‹æ± æ˜¯ä¸åˆé€‚çš„ã€‚<br>2ã€åŸºäºæ•°ç»„å®ç°çš„æœ‰ç•Œé˜Ÿåˆ—ï¼ˆbounded queueï¼‰ï¼Œé˜Ÿåˆ—çš„å¤§å°æœ‰é™ï¼Œæ‰€ä»¥çº¿ç¨‹æ± ä¸­æ’é˜Ÿçš„è¯·æ±‚è¶…è¿‡é˜Ÿåˆ—å¤§å°æ—¶ï¼Œæ¥ä¸‹æ¥çš„è¯·æ±‚å°±ä¼šè¢«æ‹’ç»ï¼Œè¿™ç§æ–¹å¼å¯¹å“åº”æ—¶é—´æ•æ„Ÿçš„ç³»ç»Ÿæ¥è¯´ï¼Œå°±ç›¸å¯¹æ›´åŠ åˆç†ã€‚ä¸è¿‡ï¼Œè®¾ç½®ä¸€ä¸ªåˆç†çš„é˜Ÿåˆ—å¤§å°ï¼Œä¹Ÿæ˜¯éå¸¸æœ‰è®²ç©¶çš„ã€‚é˜Ÿåˆ—å¤ªå¤§å¯¼è‡´ç­‰å¾…çš„è¯·æ±‚å¤ªå¤šï¼Œé˜Ÿåˆ—å¤ªå°ä¼šå¯¼è‡´æ— æ³•å……åˆ†åˆ©ç”¨ç³»ç»Ÿèµ„æºã€å‘æŒ¥æœ€å¤§æ€§èƒ½ã€‚<br>ï¼ˆé™¤äº†å‰é¢è®²åˆ°é˜Ÿåˆ—åº”ç”¨åœ¨çº¿ç¨‹æ± è¯·æ±‚æ’é˜Ÿçš„åœºæ™¯ä¹‹å¤–ï¼Œé˜Ÿåˆ—å¯ä»¥åº”ç”¨åœ¨ä»»ä½•æœ‰é™èµ„æºæ± ä¸­ï¼Œç”¨äºæ’é˜Ÿè¯·æ±‚ï¼Œæ¯”å¦‚æ•°æ®åº“è¿æ¥æ± ç­‰ã€‚å®é™…ä¸Šï¼Œå¯¹äºå¤§éƒ¨åˆ†èµ„æºæœ‰é™çš„åœºæ™¯ï¼Œå½“æ²¡æœ‰ç©ºé—²èµ„æºæ—¶ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥é€šè¿‡â€œé˜Ÿåˆ—â€è¿™ç§æ•°æ®ç»“æ„æ¥å®ç°è¯·æ±‚æ’é˜Ÿã€‚ï¼‰<br><br>ã€æ€è€ƒã€‘<br>ä¸€ã€1ã€åƒwindowsæ“ä½œç³»ç»Ÿçš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç•¥é«˜çº§ä¸€äº›å¸¦æœ‰ä¼˜å…ˆçº§ã€‚è¿˜æœ‰qtä¸­çš„ä¿¡å·ä¸æ§½å‡½æ•°æœºåˆ¶ï¼Œä½¿ç”¨connecté“¾æ¥ï¼Œå…¶ä¸­çš„å‚æ•°å°±æ˜¯è®¾ç½®ä¸ºæŠŠçª—å£ç•Œé¢æ¶ˆæ¯æ”¾åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç„¶åä¸€æ¬¡å–å‡ºã€‚æ¯”å¦‚ä¼˜å…ˆçº§æ¶ˆæ¯ï¼Œçª—å£ç³»ç»Ÿå…³é—­ï¼Œä¼˜å…ˆçº§é«˜ï¼Œåˆ™å°±ç›´æ¥æ‰§è¡Œå…³é—­æ“ä½œã€‚<br>2ã€socketsç½‘ç»œè¿æ¥é˜Ÿåˆ—ã€‚<br>3ã€æ•°æ®åº“è¿æ¥é˜Ÿåˆ—ã€‚<br>4ã€ä¸€ç§é›†ç¾¤æ“ä½œï¼Œå¾ˆå¤šå®¢æˆ·ç«¯åƒæœåŠ¡ç«¯è¯·æ±‚èµ„æºï¼Œå¤„ç†é«˜å¹¶å‘å¤§é‡è¯·æ±‚ã€‚æŠŠè¿™äº›è¯·æ±‚æ”¾åˆ°é˜Ÿåˆ—ä¸­ã€‚<br>5ã€åˆ†å¸ƒå¼åº”ç”¨ä¸­çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¹Ÿæ˜¯ä¸€ç§é˜Ÿåˆ—ç»“æ„ã€‚<br>äºŒã€è€ƒè™‘ä½¿ç”¨CASå®ç°æ— é”é˜Ÿåˆ—ï¼Œåˆ™åœ¨å…¥é˜Ÿå‰ï¼Œè·å–tailä½ç½®ï¼Œå…¥é˜Ÿæ—¶æ¯”è¾ƒtailæ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœå¦ï¼Œåˆ™å…è®¸å…¥é˜Ÿï¼Œåä¹‹ï¼Œæœ¬æ¬¡å…¥é˜Ÿå¤±è´¥ã€‚å‡ºé˜Ÿåˆ™æ˜¯è·å–headä½ç½®ï¼Œè¿›è¡Œcasã€‚","like_count":14},{"had_liked":false,"id":70657,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1551157726,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"44500830686","product_id":100017301,"comment_content":"@è®¡ç§‘ä¸€ç­çš„å¼•å…¥sizeåšè¾¹ç•Œåˆ¤æ–­å¹¶ä¸è§å¾—æ¯”è¾ƒå¥½ã€‚å‡ºå…¥é˜Ÿå¤šäº†ä¸€æ­¥è®¡ç®—ä¸è¯´ï¼Œç«é‡çš„åˆ¤æ–­è¿˜éœ€è¦åŸå­æ“ä½œæ¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚å¯¹æ¯”è€å¸ˆçš„ä»£ç ï¼Œæœ‰ä¸€å®šæ€§èƒ½æŸå¤±ã€‚","like_count":10,"discussions":[{"author":{"id":1359701,"avatar":"https://static001.geekbang.org/account/avatar/00/14/bf/55/198c6104.jpg","nickname":"å°ä¼Ÿ","note":"","ucode":"124953423491E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":162641,"discussion_content":"ç§»åŠ¨æŒ‡é’ˆä¹Ÿéœ€è¦çº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€ä»¥å¤šä¸ªsizeæ²¡æœ‰åŒºåˆ«ã€‚é™¤éæ˜¯è¦æ¦¨å¹²æ€§èƒ½çš„æƒ…å†µä¸‹æ‰éœ€è¦è€ƒè™‘sizeå˜åŒ–æŸå¤±çš„æ€§èƒ½çš„ï¼Œå¦åˆ™æ²¡å¿…è¦åœ¨æ„é‚£ç‚¹å¼€é”€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581000348,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1209523,"avatar":"https://static001.geekbang.org/account/avatar/00/12/74/b3/b96a4ed7.jpg","nickname":"king5699","note":"","ucode":"0D5D851084A6E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":145916,"discussion_content":"å¼•å…¥sizeï¼Œæ˜¯ä»¥æ—¶é—´æ¢ç©ºé—´ã€‚è€å¸ˆæ˜¯ä»¥ç©ºé—´æ¢æ—¶é—´ã€‚ä¸€èˆ¬æƒ…å†µåº”è¯¥æ˜¯ç©ºé—´æ²¡æœ‰æ—¶é—´å€¼é’±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579588943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1108731,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/wIWrciav7DRkOaD7vUtr084sxprq2U4obfH1ibls4RIsAw5foQlDGIt98x1RHATznNbh0iasibWV2Y7I7QpyFJ4TVA/132","nickname":"Wipeher","note":"","ucode":"A5D7451D95F42C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1209523,"avatar":"https://static001.geekbang.org/account/avatar/00/12/74/b3/b96a4ed7.jpg","nickname":"king5699","note":"","ucode":"0D5D851084A6E8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293709,"discussion_content":"å¤šä¸ªsizeä¸€æ ·å ç”¨ç©ºé—´å•Šï¼Œä¸ºä»€ä¹ˆä¼šè§‰å¾—å¤šä¸ªsizeæ˜¯0ç©ºé—´å‘¢ï¼Œä¸è¿‡å°±æ˜¯è®©å¾ªç¯é˜Ÿåˆ—æœ€åä¸€ä¸ªç©ºé—´å¯ä»¥ä½¿ç”¨ï¼Œå†å¤šä¸ªç©ºé—´ä¿å­˜sizeï¼Œn->n-1å˜æˆäº†n+1åˆ°nè€Œå·²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595646445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":145916,"ip_address":""},"score":293709,"extra":""}]}]},{"had_liked":false,"id":52527,"user_name":"LeonardRon","can_delete":false,"product_type":"c1","uid":1026808,"ip_address":"","ucode":"1B3ACC61DE1877","user_header":"https://static001.geekbang.org/account/avatar/00/0f/aa/f8/4b89254e.jpg","comment_is_top":false,"comment_ctime":1545405533,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"44495078493","product_id":100017301,"comment_content":"tailç§°ä¸ºå°¾åå…ƒç´ ä¸‹æ ‡æ˜¯ä¸æ˜¯æ›´æ–¹ä¾¿ç†è§£ï¼Ÿå³è¡¨ç¤ºçš„å°¾å…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼ˆç»“åˆC++ STL é‡Œçš„ç§°å‘¼ï¼‰","like_count":10},{"had_liked":false,"id":31919,"user_name":"oldman","can_delete":false,"product_type":"c1","uid":1133711,"ip_address":"","ucode":"6BACE2832B4429","user_header":"https://static001.geekbang.org/account/avatar/00/11/4c/8f/a90b3969.jpg","comment_is_top":false,"comment_ctime":1539329661,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"44489002621","product_id":100017301,"comment_content":"ä½¿ç”¨åˆ—è¡¨å®ç°é˜Ÿåˆ—å’Œå¾ªç¯é˜Ÿåˆ—ï¼Œæˆ‘ç”¨pythonå®ç°äº†ä¸€éï¼Œå„ä½çœ‹å®˜ä¸€èµ·äº¤æµã€‚<br>https:&#47;&#47;github.com&#47;lipeng1991&#47;testdemo&#47;blob&#47;master&#47;38_array_implementation_queue.py<br>https:&#47;&#47;github.com&#47;lipeng1991&#47;testdemo&#47;blob&#47;master&#47;39_array_implementation_loop_queue.py","like_count":10},{"had_liked":false,"id":31390,"user_name":"bro.","can_delete":false,"product_type":"c1","uid":1124948,"ip_address":"","ucode":"D65283CD869804","user_header":"https://static001.geekbang.org/account/avatar/00/11/2a/54/c9990105.jpg","comment_is_top":false,"comment_ctime":1539169669,"is_pvip":false,"replies":[{"id":"11310","content":"è¡Œçš„å‘¢ æˆ‘æŠ½ç©ºé›†ä¸­ç­”ç–‘ä¸€ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539222418,"ip_address":"","comment_id":31390,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40193875333","product_id":100017301,"comment_content":"è€å¸ˆï¼Œè¯¾åä¹ é¢˜æœ‰ç©ºè®²è§£ä¸€ä¸‹ç†è§£å‘€ï¼æ¯æ¬¡çœ‹è¯„è®ºï¼Œæœ‰çš„è¿˜æ˜¯ä¸å¤ªæ˜ç™½çš„åœ°æ–¹","like_count":9,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426320,"discussion_content":"è¡Œçš„å‘¢ æˆ‘æŠ½ç©ºé›†ä¸­ç­”ç–‘ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539222418,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162785,"user_name":"çƒ­å¿ƒå¸‚æ°‘å°ä¾¯","can_delete":false,"product_type":"c1","uid":1347767,"ip_address":"","ucode":"0F7D64B5F7193B","user_header":"https://static001.geekbang.org/account/avatar/00/14/90/b7/711aa6f9.jpg","comment_is_top":false,"comment_ctime":1576589427,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"35936327795","product_id":100017301,"comment_content":"LeetCodeä¸Šçš„622é¢˜å°±æ˜¯å¾ªç¯é˜Ÿåˆ—ï¼Œå…¶ä¸­å¦‚ä½•è·å–é˜Ÿå°¾å…ƒç´ ï¼Œä¹ŸæŒºæœ‰æ„æ€ï¼Œé¢˜ç›®é“¾æ¥ï¼š<br>https:&#47;&#47;leetcode-cn.com&#47;problems&#47;design-circular-queue&#47;<br>ç„¶åå…³äºçº¿ç¨‹æ± å¦‚ä½•è®¾ç½®é˜Ÿåˆ—å¤§å°ï¼Œè€å¸ˆå¯å¦è®²ä¸€ä¸‹ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1526428,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epMicvN0PDCMibmBvwAyoScCjjgfLBWaQwGic9ialXObicxKib9X0T0gx02gL4jqvibEr1FRzMaiaicN8cgEBg/132","nickname":"Geek_ac4080","note":"","ucode":"E2C480962E6CEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290056,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594312011,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31294,"user_name":"liyghting","can_delete":false,"product_type":"c1","uid":1108970,"ip_address":"","ucode":"439794ECEEFD26","user_header":"https://static001.geekbang.org/account/avatar/00/10/eb/ea/7d00f657.jpg","comment_is_top":false,"comment_ctime":1539143769,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31603914841","product_id":100017301,"comment_content":"é˜Ÿåˆ—å¯ç”¨äºèµ„æºæœ‰é™çš„åœºæ™¯ï¼Œæ¯”å¦‚å–ç«è½¦ç¥¨ï¼ŒæŠ¢è´­ç­‰","like_count":7},{"had_liked":false,"id":46193,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1543882978,"is_pvip":false,"replies":[{"id":"16520","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1543887321,"ip_address":"","comment_id":46193,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27313686754","product_id":100017301,"comment_content":"æŠŠè¯¥è®²å†…å®¹æ€»ç»“ä¸ºå‡ ä¸ªé—®é¢˜, å¤§å®¶å¤ä¹ çš„æ—¶å€™å¯ä»¥å…ˆå°è¯•å›ç­”è¿™äº›é—®é¢˜æ£€æŸ¥è‡ªå·±çš„æŒæ¡ç¨‹åº¦:<br>\t1. é˜Ÿåˆ—æ˜¯å¦‚ä½•å®šä¹‰çš„? æœ‰å“ªäº›åŸºæœ¬æ“ä½œ, æ—¶é—´å¤æ‚åº¦å„æ˜¯å¤šå°‘?<br>\t2. é¡ºåºé˜Ÿåˆ—å’Œé“¾å¼é˜Ÿåˆ—å„æ˜¯å¦‚ä½•å®ç°çš„?<br>\t3. é¡ºåºé˜Ÿåˆ—å¦‚ä½•åšæ•°æ®è¿ç§»?<br>\t4. å¾ªç¯é˜Ÿåˆ—çš„å®šä¹‰æ˜¯ä»€ä¹ˆ,å¦‚ä½•ä»£ç å®ç°?<br>\t5. é˜»å¡é˜Ÿåˆ—å’Œå¹¶å‘é˜Ÿåˆ—çš„æ¦‚å¿µå„æ˜¯æ€ä¹ˆæ ·çš„, å¦‚ä½•å®ç°, æœ‰ä»€ä¹ˆæ ·çš„åº”ç”¨åœºæ™¯?<br><br>","like_count":6,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431367,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543887321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203791,"user_name":"KK","can_delete":false,"product_type":"c1","uid":1324863,"ip_address":"","ucode":"FFC31A3FE3A285","user_header":"https://static001.geekbang.org/account/avatar/00/14/37/3f/a9127a73.jpg","comment_is_top":false,"comment_ctime":1586267038,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"23061103518","product_id":100017301,"comment_content":"ç†è®ºä¸€å¬å°±æ‡‚ï¼Œä»£ç ä¸€çœ‹å°±ä¼šï¼Œä½†æ˜¯ä¸€åŠ¨æ‰‹å°±åºŸğŸ˜‚ã€‚","like_count":5},{"had_liked":false,"id":139309,"user_name":"å¾å¸…","can_delete":false,"product_type":"c1","uid":1448864,"ip_address":"","ucode":"BDF904280E2330","user_header":"https://static001.geekbang.org/account/avatar/00/16/1b/a0/7c7d1b4a.jpg","comment_is_top":false,"comment_ctime":1570608703,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23045445183","product_id":100017301,"comment_content":"C++ 11 æ— é”é˜Ÿåˆ—å¼€æºå‡½æ•°åº“ï¼šconcurrentqueueï¼Œc# æ— é”é˜Ÿåˆ—ç³»ç»Ÿåº“ï¼šSystem.Collections.Concurrent","like_count":5},{"had_liked":false,"id":45201,"user_name":"starichat","can_delete":false,"product_type":"c1","uid":1237296,"ip_address":"","ucode":"4DD0C21C7AA803","user_header":"https://static001.geekbang.org/account/avatar/00/12/e1/30/d5183ce9.jpg","comment_is_top":false,"comment_ctime":1543560280,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"23018396760","product_id":100017301,"comment_content":"CAS åŸå­æ“ä½œèƒ½å…·ä½“è§£é‡Šä¸‹æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæ€ä¹ˆè¿›è¡Œçš„å—ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1033240,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJkwbyTYtSCx6Qc7cQPnnRWv38Jybh3etziaPmuP8gHcgS6FMxcdftrKgWiamH6fc2iciaicDKDVEwcEibQ/132","nickname":"sami","note":"","ucode":"9A66FCA00D8A37","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":60749,"discussion_content":"Compare and swapï¼Œæ“ä½œç³»ç»Ÿåº•å±‚æ”¯æŒçš„ä¸€ä¸ªå‘½ä»¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574751675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1154935,"avatar":"https://static001.geekbang.org/account/avatar/00/11/9f/77/3a8fb89f.jpg","nickname":"æ´»æ°´","note":"","ucode":"8A93734B62AF04","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46953,"discussion_content":"å¦‚æœä¸¤ä¸ªç›¸åŒçš„å…ƒç´ å…¥é˜Ÿå‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573228075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1235253,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d9/35/1d4270d6.jpg","nickname":"GeorgeMR","note":"","ucode":"1511A6AB3AC8FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1154935,"avatar":"https://static001.geekbang.org/account/avatar/00/11/9f/77/3a8fb89f.jpg","nickname":"æ´»æ°´","note":"","ucode":"8A93734B62AF04","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390910,"discussion_content":"é¢å¤–å¢åŠ ä¸€ä¸ª versionNo çš„åˆ¤æ–­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630136504,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":46953,"ip_address":""},"score":390910,"extra":""}]},{"author":{"id":1220552,"avatar":"https://static001.geekbang.org/account/avatar/00/12/9f/c8/0318c83e.jpg","nickname":"Geek_b617bf","note":"","ucode":"9BAFC3B184B1D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":24544,"discussion_content":"ä¿®æ”¹å‰æ¯”è¾ƒä¸€ä¸‹åŸå€¼,ç¬¦åˆé¢„æœŸæ‰ä¿®æ”¹,å¦åˆ™è®¤ä¸ºæ˜¯è¢«åˆ«äººæ”¹è¿‡äº†.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570173957,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":36600,"user_name":"allean","can_delete":false,"product_type":"c1","uid":1051470,"ip_address":"","ucode":"A0D2DB4F219EAA","user_header":"https://static001.geekbang.org/account/avatar/00/10/0b/4e/fd946cb2.jpg","comment_is_top":false,"comment_ctime":1541167458,"is_pvip":false,"replies":[{"id":"13113","content":"æ™®é€šé˜Ÿåˆ—ä¸ä¼šæµªè´¹çš„ æ»¡çš„æ—¶å€™tailæŒ‡å‘n è€Œä¸æ˜¯n-1 <br>æ•°ç»„ä¸­æ‰€æœ‰çš„ä½ç½®éƒ½æœ‰æ•°æ®","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1541383958,"ip_address":"","comment_id":36600,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23016003938","product_id":100017301,"comment_content":"tailæŒ‡å‘å­˜æœ‰å…ƒç´ çš„åä¸€ä½ï¼Œç”±äºtailæ²¡æœ‰å­˜å‚¨æ•°æ®ï¼Œå½“tail == næ—¶é˜Ÿåˆ—å·²æ»¡ï¼Œæ™®é€šé˜Ÿåˆ—æ˜¯ä¸æ˜¯ä¹Ÿä¼šæµªè´¹ä¸€ä¸ªç©ºé—´ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427930,"discussion_content":"æ™®é€šé˜Ÿåˆ—ä¸ä¼šæµªè´¹çš„ æ»¡çš„æ—¶å€™tailæŒ‡å‘n è€Œä¸æ˜¯n-1 \næ•°ç»„ä¸­æ‰€æœ‰çš„ä½ç½®éƒ½æœ‰æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541383958,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":72334,"discussion_content":"ä½†æ˜¯è€å¸ˆæ–‡ä¸­ ç”»çš„æ™®é€šé˜Ÿåˆ— tail ä½ç½®ä¹Ÿæ˜¯æ²¡æœ‰å­˜å‚¨æ•°æ®çš„å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575473800,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":35545,"user_name":"roc","can_delete":false,"product_type":"c1","uid":1068263,"ip_address":"","ucode":"7F861184C52CB1","user_header":"https://static001.geekbang.org/account/avatar/00/10/4c/e7/28fb0ddb.jpg","comment_is_top":false,"comment_ctime":1540647626,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"23015484106","product_id":100017301,"comment_content":"æ•°ç»„å¾ªç¯é˜Ÿåˆ—goè¯­è¨€ç‰ˆ<br><br>type CircularQueue struct {<br>\titems         []string<br>\thead, tail, n int<br>}<br><br>func NewCircularQueue(capacity int) *CircularQueue {<br>\treturn &amp;CircularQueue{<br>\t\titems: make([]string, capacity),<br>\t\tn:     capacity,<br>\t}<br>}<br><br>func (q *CircularQueue) Enqueue(item string) bool {<br>\tif (q.tail+1)%q.n == q.head { &#47;&#47; full<br>\t\treturn false<br>\t}<br>\tq.items[q.tail] = item<br>\tq.tail = (q.tail + 1) % q.n<br>\treturn true<br>}<br><br>func (q *CircularQueue) Dequeue() (string, bool) {<br>\tif q.head == q.tail {<br>\t\treturn &quot;&quot;, false<br>\t}<br>\titem := q.items[q.head]<br>\tq.head = (q.head + 1) % q.n<br>\treturn item, true<br>}<br>","like_count":5,"discussions":[{"author":{"id":2666247,"avatar":"https://static001.geekbang.org/account/avatar/00/28/af/07/4553214d.jpg","nickname":"ä¹¦æœ‰å¾„","note":"","ucode":"887B0414A8E87A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392785,"discussion_content":"mark\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631117816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":32506,"user_name":"é™è§…","can_delete":false,"product_type":"c1","uid":1237102,"ip_address":"","ucode":"1B44469E63DDFD","user_header":"https://static001.geekbang.org/account/avatar/00/12/e0/6e/62719b08.jpg","comment_is_top":false,"comment_ctime":1539594147,"is_pvip":false,"replies":[{"id":"11851","content":"æ˜¯çš„ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539606807,"ip_address":"","comment_id":32506,"utype":1}],"discussion_count":4,"race_medal":0,"score":"23014430627","product_id":100017301,"comment_content":"é˜Ÿåˆ—æ»¡çš„æ¡ä»¶head=(tail+1)%capacityï¼Œåœ¨æ»¡è¶³è¯¥æ¡ä»¶çš„ifé‡Œé¢æ‰§è¡Œå¯¹tailä½ç½®çš„å…¥é˜Ÿæ“ä½œï¼ŒåŒæ—¶è®¾ç½®ä¸€ä¸ªflagè¡¨ç¤ºé˜Ÿåˆ—æ»¡ï¼Œåœ¨ä¸‹ä¸€æ¬¡è°ƒç”¨enqueueå¯ä»¥å…ˆåˆ¤æ–­flagï¼Œå¦‚æœé˜Ÿåˆ—æ»¡ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œåœ¨è°ƒç”¨dequeueåï¼Œä¿®æ”¹flagï¼Œè¿™æ ·æ„Ÿè§‰å¯ä»¥é¿å…å¾ªç¯é˜Ÿåˆ—çš„ä¸€ä¸ªç©ºé—´çš„æµªè´¹","like_count":5,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426798,"discussion_content":"æ˜¯çš„ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539606807,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1359701,"avatar":"https://static001.geekbang.org/account/avatar/00/14/bf/55/198c6104.jpg","nickname":"å°ä¼Ÿ","note":"","ucode":"124953423491E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":162646,"discussion_content":"flagä¸ä¹Ÿå ç©ºé—´å—ï¼Ÿæˆ‘è§‰å¾—(tail+1)%n==head &amp;&amp; tail==n-1æ¥åˆ¤å®šé˜Ÿæ»¡å°±è¶³å¤Ÿäº†ï¼Œä¹Ÿä¸ä¼šæµªè´¹ç©ºé—´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581000601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1441789,"avatar":"https://static001.geekbang.org/account/avatar/00/15/ff/fd/df112fd1.jpg","nickname":"å—ç“œ","note":"","ucode":"0E2F515E085595","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1359701,"avatar":"https://static001.geekbang.org/account/avatar/00/14/bf/55/198c6104.jpg","nickname":"å°ä¼Ÿ","note":"","ucode":"124953423491E2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":363532,"discussion_content":"tail=n-1ä¸ä¸€å®šæ˜¯é˜Ÿåˆ—æ»¡äº†ï¼Œå› ä¸ºheadä¸ä¸€å®šæ˜¯0","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617207081,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":162646,"ip_address":""},"score":363532,"extra":""},{"author":{"id":2309626,"avatar":"","nickname":"Geek_459ad9","note":"","ucode":"01F853CFABB511","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1359701,"avatar":"https://static001.geekbang.org/account/avatar/00/14/bf/55/198c6104.jpg","nickname":"å°ä¼Ÿ","note":"","ucode":"124953423491E2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384346,"discussion_content":"flagå°±ä¸€ä¸ªboolå˜é‡.ä½†ä¸ç”¨flagå°±æ˜¯å ç”¨ä¸€ä¸ªæ•°ç»„ç±»å‹çš„ç©ºé—´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626510432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":162646,"ip_address":""},"score":384346,"extra":""}]}]},{"had_liked":false,"id":31513,"user_name":"æˆ‘æ˜¯è°","can_delete":false,"product_type":"c1","uid":1073487,"ip_address":"","ucode":"D6C67E29D62EA9","user_header":"https://static001.geekbang.org/account/avatar/00/10/61/4f/e0b71e72.jpg","comment_is_top":false,"comment_ctime":1539221087,"is_pvip":false,"replies":[{"id":"11388","content":"ğŸ‘ ä½ getåˆ°äº†ç²¾é«“","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539256916,"ip_address":"","comment_id":31513,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23014057567","product_id":100017301,"comment_content":"å…¥é˜Ÿæ“ä½œçš„æ—¶é—´å¤æ‚åº¦åº”è¯¥è·Ÿå…¥é˜Ÿå’Œå‡ºé˜Ÿçš„é€Ÿåº¦æœ‰å…³å§ï¼Œå…·ä½“åˆ†ææœ‰ç‚¹æ™•ã€‚ã€‚ã€‚","like_count":5,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426381,"discussion_content":"ğŸ‘ ä½ getåˆ°äº†ç²¾é«“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539256916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1359701,"avatar":"https://static001.geekbang.org/account/avatar/00/14/bf/55/198c6104.jpg","nickname":"å°ä¼Ÿ","note":"","ucode":"124953423491E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":162661,"discussion_content":"å¯¹äºæ™®é€šé˜Ÿåˆ—æ¥è¯´ï¼Œåº”è¯¥æ˜¯tailç§»åŠ¨åˆ°næ—¶çš„æ¬¡æ•°å¤šå¯¡å†³å®šäº†æ•°æ®è¿ç§»çš„é¢‘ç‡ï¼Œä»è€Œå½±å“å…¥é˜Ÿæ“ä½œçš„é€Ÿåº¦ã€‚\nå¾ªç¯é˜Ÿåˆ—ä¸å­˜åœ¨æ•°æ®è¿ç§»ï¼Œæ‰€ä»¥å…¥é˜Ÿæ“ä½œé€Ÿåº¦æ˜¯æ’å®šçš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581001309,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31238,"user_name":"è‹å¿—è¾‰","can_delete":false,"product_type":"c1","uid":1068927,"ip_address":"","ucode":"39B25CE21C04EE","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/7f/5dc11380.jpg","comment_is_top":false,"comment_ctime":1539134903,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23013971383","product_id":100017301,"comment_content":"æ„Ÿè§‰å…¥é˜Ÿæ—¶headä¸º1ï¼Œ2...n-1çš„æ¦‚ç‡éƒ½æ˜¯1&#47;n-1,è€Œæ¯ç§æƒ…å†µå¯¹åº”çš„å¤æ‚åº¦ä¸ºn-1...,1ï¼Œæ‰€ä»¥å¤æ‚åº¦ä¸ºO(n),ä¸çŸ¥é“å¯¹ä¸","like_count":5},{"had_liked":false,"id":110744,"user_name":"pythonista","can_delete":false,"product_type":"c1","uid":1493954,"ip_address":"","ucode":"CE117439281B93","user_header":"https://static001.geekbang.org/account/avatar/00/16/cb/c2/abd584db.jpg","comment_is_top":false,"comment_ctime":1562323437,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18742192621","product_id":100017301,"comment_content":"å¹¿åº¦ä¼˜å…ˆéå†ä¹Ÿç”¨åˆ°äº†é˜Ÿåˆ—","like_count":4},{"had_liked":false,"id":31984,"user_name":"åšé‡‘","can_delete":false,"product_type":"c1","uid":1173559,"ip_address":"","ucode":"86C2542E007E55","user_header":"https://static001.geekbang.org/account/avatar/00/11/e8/37/1ea4de97.jpg","comment_is_top":false,"comment_ctime":1539349337,"is_pvip":false,"replies":[{"id":"11592","content":"ğŸ‘ å›ç­”çš„å¾ˆå¥½ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539401588,"ip_address":"","comment_id":31984,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18719218521","product_id":100017301,"comment_content":"å¯¹äºç¬¬ä¸€ä¸ªæ€è€ƒé¢˜:<br>1.åƒwindowsæ“ä½œç³»ç»Ÿçš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç•¥é«˜çº§ä¸€äº›å¸¦æœ‰ä¼˜å…ˆçº§ã€‚è¿˜æœ‰qtä¸­çš„ä¿¡å·ä¸æ§½å‡½æ•°æœºåˆ¶ï¼Œä½¿ç”¨connecté“¾æ¥ï¼Œå…¶ä¸­çš„å‚æ•°å°±æ˜¯è®¾ç½®ä¸ºæŠŠçª—å£ç•Œé¢æ¶ˆæ¯æ”¾åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç„¶åä¸€æ¬¡å–å‡ºã€‚æ¯”å¦‚ä¼˜å…ˆçº§æ¶ˆæ¯ï¼Œçª—å£ç³»ç»Ÿå…³é—­ï¼Œä¼˜å…ˆçº§é«˜ï¼Œåˆ™å°±ç›´æ¥æ‰§è¡Œå…³é—­æ“ä½œã€‚<br>2.socketsç½‘ç»œè¿æ¥é˜Ÿåˆ—ã€‚<br>3.æ•°æ®åº“è¿æ¥é˜Ÿåˆ—ã€‚<br>4.è¿˜æœ‰ä¸€ç§é›†ç¾¤æ“ä½œï¼Œå¾ˆå¤šå®¢æˆ·ç«¯åƒæœåŠ¡ç«¯è¯·æ±‚èµ„æºï¼Œå¤„ç†é«˜å¹¶å‘å¤§é‡è¯·æ±‚ã€‚æŠŠè¿™äº›è¯·æ±‚æ”¾åˆ°é˜Ÿåˆ—ä¸­ã€‚","like_count":4,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426594,"discussion_content":"ğŸ‘ å›ç­”çš„å¾ˆå¥½ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539401588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31266,"user_name":"Smallfly","can_delete":false,"product_type":"c1","uid":1013841,"ip_address":"","ucode":"D388D5E0249A69","user_header":"https://static001.geekbang.org/account/avatar/00/0f/78/51/4790e13e.jpg","comment_is_top":false,"comment_ctime":1539140032,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18719009216","product_id":100017301,"comment_content":"é˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œè·Ÿæ ˆç±»ä¼¼ï¼Œé˜Ÿåˆ—æ˜¯ä¸€ç§æ“ä½œå—é™çš„çº¿æ€§è¡¨ã€‚<br><br>é˜Ÿåˆ—åŒæ ·å¯ä»¥ç”±æ•°ç»„å’Œé“¾è¡¨æ¥å®ç°ã€‚<br><br>é˜Ÿåˆ—éœ€è¦ä¸¤ä¸ªæŒ‡é’ˆï¼šä¸€ä¸ªæ˜¯ head æŒ‡é’ˆï¼ŒæŒ‡å‘é˜Ÿå¤´ï¼›ä¸€ä¸ªæ˜¯ tail æŒ‡é’ˆï¼ŒæŒ‡å‘é˜Ÿå°¾ã€‚<br><br>## é¡ºåºé˜Ÿåˆ—<br>é¡ºåºé˜Ÿåˆ—å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œ tail æŒ‡é’ˆç§»åŠ¨åˆ°æ•°ç»„æœ€å¤§ä¸‹æ ‡æ—¶ï¼Œå³ä½¿æ•°ç»„ä¸­è¿˜æœ‰ç©ºé—²ç©ºé—´ï¼Œä¹Ÿæ— æ³•ç»§ç»­å¾€é˜Ÿåˆ—ä¸­æ·»åŠ æ•°æ®äº†ã€‚<br><br>è§£å†³æ–¹æ³•æ˜¯åœ¨å…¥é˜Ÿåˆ—æ—¶ï¼Œå¦‚æœæ²¡æœ‰ç©ºé—²ç©ºé—´ï¼Œå°±è§¦å‘ä¸€æ¬¡æ¬è¿ï¼Œå°† head åˆ° tail ä¹‹é—´çš„æ•°æ®ï¼Œæ•´ä½“æ¬è¿åˆ°æ•°ç»„çš„ 0 åˆ° tail - head ä½ç½®ã€‚<br><br>## é“¾å¼é˜Ÿåˆ—<br>é“¾å¼é˜Ÿåˆ—ä¸é¡ºåºé˜Ÿåˆ—çš„åŒºåˆ«æ˜¯æ²¡æœ‰å®¹é‡é™åˆ¶ï¼Œåœ¨è¯·æ±‚æ’é˜Ÿçš„åœºæ™¯ä¸‹ï¼Œå¦‚æœæ’é˜Ÿçš„è¯·æ±‚æ•°é‡è¿‡å¤šï¼Œè¯·æ±‚å¤„ç†çš„å“åº”æ—¶é—´ä¼šè¿‡é•¿ã€‚<br><br>## å¾ªç¯é˜Ÿåˆ—<br>å¾ªç¯é˜Ÿåˆ—æ˜¯ä¸ºäº†è§£å†³é¡ºåºé˜Ÿåˆ—åœ¨ tail == n æ—¶ï¼Œéœ€è¦æ•°æ®æ¬è¿æ“ä½œçš„é—®é¢˜ã€‚<br><br>é˜Ÿåˆ—ä¸ºç©ºæ—¶å¯ä»¥æ ¹æ® head == tail æ¥åˆ¤æ–­ã€‚å¾ªç¯é˜Ÿåˆ—æ»¡æ—¶ï¼Œtail æŒ‡é’ˆä½ç½®ä¸å­˜å‚¨æ•°æ®ï¼Œæ‰€ä»¥é˜Ÿæ»¡åˆ¤æ–­å…¬å¼ä¸ºï¼š<br><br>(tail + 1) % n = head<br><br>## é˜»å¡å’Œå¹¶å‘é˜Ÿåˆ—<br>é˜»å¡é˜Ÿåˆ—åœ¨é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™ï¼Œä»é˜Ÿå¤´å–æ•°æ®ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰æ•°æ®æ‰ä¼šè¿”å›ï¼›å¦‚æœé˜Ÿåˆ—å·²ç»æ»¡äº†ï¼Œæ’å…¥æ•°æ®æ“ä½œä¼šè¢«é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰ç©ºé—²çš„ä½ç½®åå†æ’å…¥ï¼Œç„¶åå†è¿”å›ã€‚<br><br>åœ¨è€ƒè™‘çº¿ç¨‹å®‰å…¨æ—¶ï¼Œéœ€è¦ç”¨åˆ°å¹¶å‘é˜Ÿåˆ—ï¼Œå¹¶å‘é˜Ÿåˆ—åŒä¸€æ—¶åˆ»åªå…è®¸ä¸€ä¸ªæ’å…¥æ“ä½œï¼Œä½†æ˜¯å…è®¸å¤šä¸ªè¯»æ“ä½œã€‚","like_count":4},{"had_liked":false,"id":31253,"user_name":"Mr.Panda","can_delete":false,"product_type":"c1","uid":1238864,"ip_address":"","ucode":"655A3013B5E849","user_header":"https://static001.geekbang.org/account/avatar/00/12/e7/50/d476ed6c.jpg","comment_is_top":false,"comment_ctime":1539137228,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18719006412","product_id":100017301,"comment_content":"å¸¸è§„æ“ä½œï¼Œçœ‹ä¸€éï¼Œå†çœ‹ä¸€éï¼Œåšæ€è€ƒæ€»ç»“ï¼Œå†å®ç°ä¸€é","like_count":4},{"had_liked":false,"id":252829,"user_name":"å›¾å›¾","can_delete":false,"product_type":"c1","uid":1834176,"ip_address":"","ucode":"0A0E3EF0206EC0","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKT7Exm9wh9wtiax9JPOjCMApEsfUQ8rxh7nib0UywJdFOsqnhsGQJYzpB5eAfasmNoaDOGic5vy8wmQ/132","comment_is_top":false,"comment_ctime":1602496063,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14487397951","product_id":100017301,"comment_content":"ä¸ºä»€ä¹ˆæ²¡æœ‰å…³äºé˜Ÿåˆ—çš„leetcode é¢˜æ¨è","like_count":3},{"had_liked":false,"id":208223,"user_name":"luffy","can_delete":false,"product_type":"c1","uid":1244950,"ip_address":"","ucode":"702034E116A99F","user_header":"https://static001.geekbang.org/account/avatar/00/12/ff/16/b0ab9a73.jpg","comment_is_top":false,"comment_ctime":1587304410,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14472206298","product_id":100017301,"comment_content":"golangçš„chanå°±æ˜¯ä¸€ç§å°±æ˜¯ä¸€ç§é˜»å¡é˜Ÿåˆ—ï¼Œå¹¶ä¸”æ˜¯å¹¶å‘å®‰å…¨çš„ï¼Œä¸”ç”¨åœ¨æ•°æ®åº“è¿æ¥æ± çš„è®¾è®¡æˆ–è€…è½®è¯¢è¯·æ±‚éå¸¸æ–¹ä¾¿ã€‚","like_count":3},{"had_liked":false,"id":172339,"user_name":"Zhaoyang","can_delete":false,"product_type":"c1","uid":1037190,"ip_address":"","ucode":"131D83AC2566D2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d3/86/b5d72c87.jpg","comment_is_top":false,"comment_ctime":1579157555,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14464059443","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—ï¼Œæˆ‘æƒ³åˆ°äº†MySQLé‡Œé¢çš„redo logäº†ï¼Œå°±æ˜¯ç”¨çš„è¿™ç§æ•°æ®ç»“æ„ã€‚","like_count":3},{"had_liked":false,"id":145336,"user_name":"æé£","can_delete":false,"product_type":"c1","uid":1179622,"ip_address":"","ucode":"4B23FF72AA4BA0","user_header":"https://static001.geekbang.org/account/avatar/00/11/ff/e6/4b0ddfcf.jpg","comment_is_top":false,"comment_ctime":1572253302,"is_pvip":false,"replies":[{"id":"56465","content":"ä¸éœ€è¦çš„ï¼Œå› ä¸ºå†ç”¨åˆ°è¿™ä¸ªç©ºé—´çš„æ—¶å€™ï¼Œä¼šç›´æ¥è¢«è¦†ç›–æ‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1572487733,"ip_address":"","comment_id":145336,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14457155190","product_id":100017301,"comment_content":"è€å¸ˆå†™çš„å¾ªç¯é˜Ÿåˆ—ï¼Œå‡ºé˜Ÿçš„æ—¶å€™ï¼Œheadå¾€å+1åç§»åŠ¨ä¸€ä½åï¼Œå‡ºé˜Ÿçš„æ•°æ®ä¸éœ€è¦æ¸…é™¤å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472342,"discussion_content":"ä¸éœ€è¦çš„ï¼Œå› ä¸ºå†ç”¨åˆ°è¿™ä¸ªç©ºé—´çš„æ—¶å€™ï¼Œä¼šç›´æ¥è¢«è¦†ç›–æ‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572487733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":36606,"user_name":"allean","can_delete":false,"product_type":"c1","uid":1051470,"ip_address":"","ucode":"A0D2DB4F219EAA","user_header":"https://static001.geekbang.org/account/avatar/00/10/0b/4e/fd946cb2.jpg","comment_is_top":false,"comment_ctime":1541170105,"is_pvip":false,"replies":[{"id":"13114","content":"ä¸€ä¸ªå°æ—¶æ—¶é—´ä¸å¤š æˆ‘å½“å¹´å­¦çš„æ—¶å€™è¦èŠ±ä¸€ä¸ªç¤¼æ‹œ","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1541384013,"ip_address":"","comment_id":36606,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14426071993","product_id":100017301,"comment_content":"è¿™ä¸€èŠ‚è®¤çœŸçœ‹äº†ä¸€ä¸ªå¤šå°æ—¶ï¼Œæœ€ç»ˆå…¨éƒ¨ç†è§£äº†ï¼ŒåŸºç¡€æ¯”è¾ƒè–„å¼±ï¼Œé—®äº†äº›æ¯”è¾ƒå‚»çš„é—®é¢˜ï¼Œè¯·ç‹äº‰è€å¸ˆè§è°…å“ˆï¼Œæ”¶è·å¾ˆå¤šï¼Œè°¢è°¢æ‚¨ï¼","like_count":3,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427934,"discussion_content":"ä¸€ä¸ªå°æ—¶æ—¶é—´ä¸å¤š æˆ‘å½“å¹´å­¦çš„æ—¶å€™è¦èŠ±ä¸€ä¸ªç¤¼æ‹œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541384013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1359701,"avatar":"https://static001.geekbang.org/account/avatar/00/14/bf/55/198c6104.jpg","nickname":"å°ä¼Ÿ","note":"","ucode":"124953423491E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":162655,"discussion_content":"åˆšçœ‹ä¸è¡Œï¼Œè¿˜å¾—ç»ƒã€‚æŠŠå‡ ä¸ªé˜Ÿåˆ—éƒ½å®ç°ä¸€éï¼Œè‡ªæµ‹è¿‡äº†ï¼Œé‚£å°±å·®ä¸å¤šäº†ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1581001017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31403,"user_name":"aof","can_delete":false,"product_type":"c1","uid":1062864,"ip_address":"","ucode":"5815D63C4926BC","user_header":"https://static001.geekbang.org/account/avatar/00/10/37/d0/26975fba.jpg","comment_is_top":false,"comment_ctime":1539172811,"is_pvip":false,"replies":[{"id":"11308","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539222380,"ip_address":"","comment_id":31403,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14424074699","product_id":100017301,"comment_content":"Sparkåœ¨å¤„ç†jobçš„æ—¶å€™ï¼Œå¯ä»¥é…ç½®ä½¿ç”¨FIFOæˆ–è€…Fairæ¨¡å¼","like_count":3,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426324,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539222380,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31235,"user_name":"å¤©è‹¥æœ‰æƒ…å¤©äº¦è€","can_delete":false,"product_type":"c1","uid":1172029,"ip_address":"","ucode":"57F0B7D524C0CF","user_header":"https://static001.geekbang.org/account/avatar/00/11/e2/3d/9a52946b.jpg","comment_is_top":false,"comment_ctime":1539134666,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14424036554","product_id":100017301,"comment_content":"AQSæ˜¯åˆ©ç”¨é˜Ÿåˆ—å®ç°çš„","like_count":3},{"had_liked":false,"id":50949,"user_name":"å·¦ç³","can_delete":false,"product_type":"c1","uid":1206589,"ip_address":"","ucode":"B262A3E99C8605","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/3d/3cfb9b87.jpg","comment_is_top":false,"comment_ctime":1545092971,"is_pvip":false,"replies":[{"id":"18321","content":"æ¶‰åŠåˆ°çº¿ç¨‹æ–¹é¢çš„æŠ€æœ¯äº†","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1545096924,"ip_address":"","comment_id":50949,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10135027563","product_id":100017301,"comment_content":"é˜»å¡çš„æ—¶å€™è¿™ä¸ªçº¿ç¨‹ç­‰å¾…æ“ä½œæ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿwhileå¾ªç¯æ‹¿å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433197,"discussion_content":"æ¶‰åŠåˆ°çº¿ç¨‹æ–¹é¢çš„æŠ€æœ¯äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545096924,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2032840,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/04/c8/3c7af100.jpg","nickname":"Javatar","note":"","ucode":"E216645CDF632C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282496,"discussion_content":"æœ‰ä¸¤ç§æ–¹æ¡ˆã€‚1. whileTRUE å¾ªç¯ï¼Œä¸åœçš„é€šè¿‡casè¿›è¡Œé‡è¯•ï¼Œç›´åˆ°æˆåŠŸã€‚ï¼Œç±»ä¼¼è‡ªæ—‹é”ã€‚2. é€šè¿‡lock.newconditionï¼Œåœ¨æ»¡äº†çš„æ—¶å€™ï¼Œå½“å‰çº¿ç¨‹ä¼šé‡Šæ”¾é”è¿›å…¥ç­‰å¾…çŠ¶æ€\nJAVAé‡Œçš„arrayBLOCKINGQUEUEå°±æ˜¯ç¬¬äºŒç§æ–¹å¼å®ç°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591995381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":41340,"user_name":"Doggy","can_delete":false,"product_type":"c1","uid":1235269,"ip_address":"","ucode":"85215B0FA3816A","user_header":"https://static001.geekbang.org/account/avatar/00/12/d9/45/82d4de0b.jpg","comment_is_top":false,"comment_ctime":1542766829,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10132701421","product_id":100017301,"comment_content":"è€å¸ˆï¼Œå…³äºé‚£ä¸ªå¤æ‚åº¦åˆ†æçš„èƒ½è§£é‡Šä¸€ä¸‹å—ï¼Œæ¯”è¾ƒåœ¨æ„å¤æ‚åº¦çš„åˆ†æï¼Œå› ä¸ºæ¯”è¾ƒè–„å¼±ã€‚ä¸ªäººè§‰å¾—å­˜åœ¨ä¸€ä¸ªæç«¯æƒ…å†µï¼Œå¦‚æœé˜Ÿåˆ—é•¿åº¦ä¸ºNï¼Œé˜Ÿåˆ—å·²ç»æ»¡äº†ã€‚æ­¤æ—¶å‡ºé˜Ÿä¸€ä¸ªå…ƒç´ ï¼Œå†å…¥é˜Ÿï¼Œå°±éœ€è¦N - 1æ¬¡æ¬ç§»ï¼Œä½†æ˜¯ä¹Ÿåªå¤Ÿä¸€æ¬¡O(1)çš„å…¥é˜Ÿã€‚è¿™æ ·å‡æ‘Šæ˜¯åšä¸åˆ°çš„ã€‚<br>å‡å¦‚æœ‰kä¸ªæ•°æ®ï¼Œé˜Ÿåˆ—æ€»é•¿åº¦ä¸ºNï¼Œé‚£ä¹ˆå¦‚æœåœ¨tailæ²¡æœ‰åˆ°é¡¶æ—¶ï¼Œå¤æ‚åº¦ä¸ºO(1)ã€‚ä½†æ˜¯å¦‚æœåˆ°é¡¶ï¼Œéœ€è¦æ¬ç§»kæ¬¡ï¼Œä½†ä¹Ÿåªå¤ŸN - Kæ¬¡å…¥é˜Ÿæ“ä½œ(k &gt; N &#47; 2)ï¼Œæ— æ³•å‡æ‘Šå®Œå…¨ã€‚ä½†æ˜¯æ„Ÿè§‰æƒ…å†µè€ƒè™‘çš„è¿˜ä¸æ˜¯å¾ˆå®Œå…¨ï¼Œæ‰€ä»¥æƒ³è¯·æ•™ä¸€ä¸‹è€å¸ˆã€‚","like_count":2},{"had_liked":false,"id":31970,"user_name":"å¼ å‹‡","can_delete":false,"product_type":"c1","uid":1234450,"ip_address":"","ucode":"B08F8E7F802D81","user_header":"https://static001.geekbang.org/account/avatar/00/12/d6/12/6a5e6841.jpg","comment_is_top":false,"comment_ctime":1539345512,"is_pvip":false,"replies":[{"id":"11589","content":"å“ˆå“ˆï¼Œä½ è‡ªå·±å†™å§ï¼Œpythonè„šæœ¬è¯­è¨€æ‰§è¡Œæ•ˆç‡å¯èƒ½ç¡®å®æ²¡æœ‰c c++è¿™ç§é«˜ ä½†ä¹Ÿä¸ä¼šå·®åˆ«å¤ªå¤§","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539401546,"ip_address":"","comment_id":31970,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10129280104","product_id":100017301,"comment_content":"è€å¸ˆï¼Œå¯ä»¥ç”¨pythonå†™ä»£ç å—ï¼Œå¤§å®¶éƒ½è¯´pythonè¿è¡Œæ…¢ã€‚","like_count":2,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426586,"discussion_content":"å“ˆå“ˆï¼Œä½ è‡ªå·±å†™å§ï¼Œpythonè„šæœ¬è¯­è¨€æ‰§è¡Œæ•ˆç‡å¯èƒ½ç¡®å®æ²¡æœ‰c c++è¿™ç§é«˜ ä½†ä¹Ÿä¸ä¼šå·®åˆ«å¤ªå¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539401546,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1239504,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e9/d0/af96c86a.jpg","nickname":"Aç±³fans1111","note":"","ucode":"99BE48333DD919","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7912,"discussion_content":"æ¯”javaå¼ºå°±å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567728981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31558,"user_name":"ç­‘æ¢¦ä¹‹é˜Ÿ","can_delete":false,"product_type":"c1","uid":1256746,"ip_address":"","ucode":"42C7B6B41755C2","user_header":"https://static001.geekbang.org/account/avatar/00/13/2d/2a/af9a74dd.jpg","comment_is_top":false,"comment_ctime":1539228453,"is_pvip":true,"replies":[{"id":"11413","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539268842,"ip_address":"","comment_id":31558,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10129163045","product_id":100017301,"comment_content":"æˆ‘å®ç°äº†ä¸€ä¸ªæ— éœ€æµªè´¹ä¸€ä¸ªç©ºé—´ï¼Œè€Œåªéœ€è¦æ·»åŠ ä¸€ä¸ªintç±»å‹çš„å˜é‡ç”¨æ¥è®°å½•å½“å‰çš„æ€»æ•°é‡å³å¯ï¼Œè¿™æ ·å¦‚æœå­˜å‚¨çš„æ•°æ®ç±»å‹çš„é•¿åº¦å¤§äºintçš„é•¿åº¦ï¼Œé‚£ä¹ˆå°±å¯ä»¥èŠ‚çº¦ç©ºé—´ï¼›ä½†å¦‚æœå­˜å‚¨çš„æ•°æ®ç±»å‹å°äºinté‚£åè€Œæ˜¯æµªè´¹ç©ºé—´äº†ã€‚<br> 1 #!&#47;usr&#47;bin&#47;bash<br>  2<br>  3 class Queue:<br>  4     def __init__(self, capacity):<br>  5         self.capacity = capacity<br>  6         self.queue = [None] * self.capacity<br>  7         self.head = 0<br>  8         self.tail = 0<br>  9         self.count = 0<br> 10     <br> 11     def enqueue(self, data):<br> 12         if self.count == self.capacity:<br> 13             print(&quot;There is no space for new data&quot;)<br> 14             return<br> 15         <br> 16         self.queue[self.tail] = data<br> 17         self.tail = (self.tail + 1) % self.capacity<br> 18         self.count = self.count + 1<br> 19         print(&quot;enqueue:&quot;, self.head, self.tail, data, self.count)<br> 20     <br> 21     def dequeue(self):<br> 22         if self.count == 0:<br> 23             print(&quot;There is no data in queue&quot;)<br> 24             return<br> 25 <br> 26         data = self.queue[self.head]<br> 27         self.head = (self.head + 1) % self.capacity<br> 28         self.count = self.count - 1<br> 29         print(&quot;dequeue:&quot;, data)<br> 30         return data<br>","like_count":2,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426401,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539268842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1317847,"avatar":"https://static001.geekbang.org/account/avatar/00/14/1b/d7/868d26ce.jpg","nickname":"songhyunmin","note":"","ucode":"D5A98668CD8532","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352443,"discussion_content":"ä½ è¿™æ˜¯bashï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614739021,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31138,"user_name":"æ˜“æ°´å¯’","can_delete":false,"product_type":"c1","uid":1238961,"ip_address":"","ucode":"F5D8127ED4754E","user_header":"https://static001.geekbang.org/account/avatar/00/12/e7/b1/5c63be67.jpg","comment_is_top":false,"comment_ctime":1539102393,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10129036985","product_id":100017301,"comment_content":"ç”¨åˆ°é˜Ÿåˆ—çš„è¿˜æœ‰è¿æ¥æ± ï¼Œæ¯”å¦‚æ•°æ®åº“è¿æ¥æ± ï¼Œåº”è¯¥ä¹Ÿæ˜¯ç”¨åˆ°äº†ã€‚è·å–é”æ—¶ä¹Ÿæœ‰ç”¨åˆ°ï¼Œjavaä¸­çš„AQSï¼Œsynchronizedå¯èƒ½ä¹Ÿæ˜¯ç”¨é˜Ÿåˆ—æ¥å­˜å‚¨é”è¯·æ±‚çš„çº¿ç¨‹ã€‚","like_count":2},{"had_liked":false,"id":310313,"user_name":"T------T","can_delete":false,"product_type":"c1","uid":2270365,"ip_address":"","ucode":"AC68D88893FAD7","user_header":"https://static001.geekbang.org/account/avatar/00/22/a4/9d/95900f70.jpg","comment_is_top":false,"comment_ctime":1630589495,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5925556791","product_id":100017301,"comment_content":" CASæ˜¯ä¸€ç§æ— é”ç®—æ³•ï¼ŒCASæœ‰3ä¸ªæ“ä½œæ•°ï¼Œå†…å­˜å€¼Vï¼Œæ—§çš„é¢„æœŸå€¼Aï¼Œè¦ä¿®æ”¹çš„æ–°å€¼Bã€‚å½“ä¸”ä»…å½“é¢„æœŸå€¼Aå’Œå†…å­˜å€¼Vç›¸åŒæ—¶ï¼Œå°†å†…å­˜å€¼Vä¿®æ”¹ä¸ºBï¼Œå¦åˆ™ä»€ä¹ˆéƒ½ä¸åšã€‚<br>    CAS çš„åŸºæœ¬æ€è·¯å°±æ˜¯ï¼Œå¦‚æœè¿™ä¸ªåœ°å€ä¸Šçš„å€¼å’ŒæœŸæœ›çš„å€¼ç›¸ç­‰ï¼Œåˆ™ç»™å…¶èµ‹äºˆæ–°å€¼ï¼Œå¦åˆ™ä¸åšä»»ä½•äº‹å„¿ï¼Œä½†æ˜¯è¦è¿”å›åŸå€¼æ˜¯å¤šå°‘ã€‚å¾ªç¯CAS å°±æ˜¯åœ¨ä¸€ä¸ªå¾ªç¯é‡Œä¸æ–­çš„åšcas æ“ä½œï¼Œç›´åˆ°æˆåŠŸä¸ºæ­¢<br>    ![cb33c564496dd5181346676f8e39787d.png](en-resource:&#47;&#47;database&#47;1981:1)","like_count":1},{"had_liked":false,"id":304421,"user_name":"Geek_962f6d","can_delete":false,"product_type":"c1","uid":2705451,"ip_address":"","ucode":"5C9D1499BF10EA","user_header":"","comment_is_top":false,"comment_ctime":1627397002,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5922364298","product_id":100017301,"comment_content":"ä¸Šé¢çš„ä»£ç ç§çš„tailæŒ‡å‘çš„ä¸‹ä¸€ä¸ªè¦æ’å…¥çš„ä½ç½®ï¼Œè€Œä¸æ˜¯é˜Ÿåˆ—ä¸­æœ€åä¸€ä¸ªå…ƒç´ ã€‚(å¼€å‘ä¸­ç»å¸¸å› ä¸º+1ï¼Œ-1çš„é—®é¢˜å¼„é”™ï¼Œå†™å‡ºbugï¼Œæœ‰æ„Ÿè€Œå‘ï¼‰","like_count":1},{"had_liked":false,"id":293585,"user_name":"JayMe_DotDot","can_delete":false,"product_type":"c1","uid":1902591,"ip_address":"","ucode":"813CB9AF5744BE","user_header":"https://static001.geekbang.org/account/avatar/00/1d/07/ff/3b508125.jpg","comment_is_top":false,"comment_ctime":1621437672,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5916404968","product_id":100017301,"comment_content":"æ•°ç»„é˜Ÿåˆ—ï¼Œåªåœ¨æ— æ³•å…¥é˜Ÿæ—¶è¿›è¡Œæ•°æ®è¿ç§»ï¼Œæ ¹æ®è¿™ä¸ªæ€è·¯ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚ä½†æ˜¯å¦‚æœè¿™ä¸ªæ•°ç»„é˜Ÿåˆ—ä¸€ç›´éƒ½å¤„äºæ’æ»¡çŠ¶æ€æˆ–è€…åŸºæœ¬æ’æ»¡çŠ¶æ€çš„è¯ï¼Œé‚£å…¥é˜Ÿçš„æ—¶é—´å¤æ‚åº¦å°±ç›´æ¥é™ä¸ºäº†O(n)ã€‚<br>ä¸çŸ¥é“å¯¹ä¸å¯¹","like_count":1},{"had_liked":false,"id":208789,"user_name":"Try","can_delete":false,"product_type":"c1","uid":1030763,"ip_address":"","ucode":"061798B86E1A7A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ba/6b/782f9a74.jpg","comment_is_top":false,"comment_ctime":1587438497,"is_pvip":false,"replies":[{"id":"78046","content":"iPad Paper","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ç‹é”¦","uid":"1058895","ctime":1587440855,"ip_address":"","comment_id":208789,"utype":2}],"discussion_count":1,"race_medal":0,"score":"5882405793","product_id":100017301,"comment_content":"è€å¸ˆçš„æ‰‹ç»˜å›¾çœŸå¥½çœ‹ï¼Œèƒ½æ–¹ä¾¿æ„ŸçŸ¥æ˜¯ç”¨ä»€ä¹ˆè½¯ä»¶å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1058895,"avatar":"https://static001.geekbang.org/account/avatar/00/10/28/4f/48e48553.jpg","nickname":"@é˜¿é”¦å•Š","note":"","ucode":"3C5F00333D7174","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492623,"discussion_content":"iPad Paper","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587440855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205605,"user_name":"yoummg","can_delete":false,"product_type":"c1","uid":1067856,"ip_address":"","ucode":"1B809CFDD7A508","user_header":"https://static001.geekbang.org/account/avatar/00/10/4b/50/fdecd51a.jpg","comment_is_top":false,"comment_ctime":1586683078,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5881650374","product_id":100017301,"comment_content":"é˜Ÿåˆ— å…ˆè¿›å…ˆå‡º<br>é˜Ÿåˆ— VS æ ˆ<br><br>ç°å®åº”ç”¨ï¼šredis çš„list ï¼ŒMQ<br>CASå®ç°æ— é”é˜Ÿåˆ—ï¼Œ@åŸå›ç­”å¾ˆå¥½ï¼Œå­¦ä¹ äº†ã€‚<br>å…¥é˜Ÿå‰ï¼Œå…ˆè·å–tailä½ç½®ï¼Œå…¥é˜Ÿæ—¶ï¼Œæ¯”è¾ƒtailæ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœå¦ï¼Œåˆ™å…¥é˜Ÿï¼Œåä¹‹åˆ™å¤±è´¥ã€‚<br>å‡ºé˜Ÿè·å–headä½ç½®ï¼Œè¿›è¡Œcasæ¯”è¾ƒã€‚","like_count":1},{"had_liked":false,"id":161005,"user_name":"ä¿—äººorè¯—","can_delete":false,"product_type":"c1","uid":1357122,"ip_address":"","ucode":"C23CCA8B5BE8A8","user_header":"https://static001.geekbang.org/account/avatar/00/14/b5/42/21ed2f7b.jpg","comment_is_top":false,"comment_ctime":1576076812,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5871044108","product_id":100017301,"comment_content":"1ã€dbè¿æ¥æ± å’Œredisè¿æ¥æ± <br>2ã€å¯ä»¥åˆ©ç”¨CASã€Fetch And Addã€Test-and-setæ¥å®ç°ï¼›åœ¨å…¥é˜Ÿæ—¶ï¼Œè·å–è¯¥é˜Ÿåˆ—çš„tailå€¼ï¼ˆå°¾æŒ‡é’ˆï¼‰ï¼Œå¦‚æœtailä¸å†æ˜¯å°¾æŒ‡é’ˆï¼Œé‚£å°±æœ‰è¿›ç¨‹å ç”¨é˜Ÿåˆ—ï¼Œç­‰å¾…å…¥é˜Ÿåï¼Œtailå€¼å›å½’å°¾æŒ‡é’ˆï¼›å¦‚æœæ˜¯çš„è¯ï¼Œé‚£å°±æ”¹å˜å°¾æŒ‡é’ˆï¼Œå…¥é˜Ÿï¼Œåç»­é‡Šæ”¾æŒ‡é’ˆã€‚","like_count":1},{"had_liked":false,"id":132662,"user_name":"huangzehao","can_delete":false,"product_type":"c1","uid":1386934,"ip_address":"","ucode":"8A6530D82B48E3","user_header":"https://wx.qlogo.cn/mmopen/vi_32/jqDSNBHmPbPGayjtXrm9iciccSKbfg6g8oMgXc147jib4HjoUK1RINorZYfBuiaQBibqJIrQRVG77PKGS0dW5PVAAicw/132","comment_is_top":false,"comment_ctime":1568187675,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5863154971","product_id":100017301,"comment_content":"é™¤äº†çº¿ç¨‹æ± è¿™ç§æ± ç»“æ„ä¼šç”¨åˆ°é˜Ÿåˆ—æ’é˜Ÿè¯·æ±‚ï¼Œä½ è¿˜çŸ¥é“æœ‰å“ªäº›ç±»ä¼¼çš„æ± ç»“æ„æˆ–è€…åœºæ™¯ä¸­ä¼šç”¨åˆ°é˜Ÿåˆ—çš„æ’é˜Ÿè¯·æ±‚å‘¢ï¼Ÿ<br><br>å›ç­”ï¼šé˜Ÿåˆ—ä½œç”¨æ˜¯æœ‰é™èµ„æºæ± åœ¨çŸ­æ—¶é—´å†…é¢å¯¹å¤–ç•Œå¤§é‡è¯·æ±‚çš„ä¸€ä¸ªè¿‡æ¸¡å¤„ç†ï¼Œå¦‚çº¿ç¨‹æ± å¤„ç†è¯·æ±‚ï¼Œæ•°æ®åº“è¿æ¥æ± å¤„ç†è¯·æ±‚ï¼Œç§’æ€æ´»åŠ¨ï¼Œå„ç§æ¶ˆæ¯é˜Ÿåˆ—å¦‚Kafkaç­‰","like_count":1},{"had_liked":false,"id":114581,"user_name":"å°ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1359701,"ip_address":"","ucode":"124953423491E2","user_header":"https://static001.geekbang.org/account/avatar/00/14/bf/55/198c6104.jpg","comment_is_top":false,"comment_ctime":1563345371,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5858312667","product_id":100017301,"comment_content":"å…³äºå¾ªç¯é˜Ÿåˆ—æœ‰ä¸€ä¸ªç©ºé—´æ— æ³•ä½¿ç”¨ä¸”ä¸ä½¿ç”¨flagçš„è§£å†³æ–¹æ³•ï¼Œæˆ‘å†™äº†æ®µcodeï¼ŒéªŒè¯ä¸‹æ¥æš‚æ— é—®é¢˜ï¼Œè¯·è€å¸ˆå’Œå¤§å®¶æ‹ç –ã€‚<br>import org.junit.Assert;<br><br>public class LoopQueue&lt;T&gt; {<br>    private int n;<br>    private T[] items;<br>    private int head;<br>    private int tail;<br><br>    public LoopQueue(int capacity) {<br>        this.n=capacity;<br>        items = (T[]) new Object[capacity];<br>        this.tail=0;<br>        this.head=0;<br>    }<br><br>    public boolean enqueue(T data) {<br>        if (n&lt;=0 || data==null) {<br>            return false;<br>        }<br>        &#47;&#47; if head and tail is same, meanwhile, data is not empty, then the queue is full<br>        if (head==tail &amp;&amp; items[(tail+1)%n]!=null) {<br>            return false;<br>        }<br>        items[tail]=data;<br>        tail=(tail+1)%n;<br><br>        return true;<br>    }<br><br>    public T dequeue() {<br>        if (n&lt;=0) {<br>            return null;<br>        }<br>        &#47;&#47; if head and tail is same, meanwhile, data is empty, then the queue is empty<br>        if (head==tail &amp;&amp; items[head]==null) {<br>            return null;<br>        }<br>        T data = items[head];<br>        head=(head+1)%n;<br>        return data;<br>    }<br><br>    public static void main(String[] args) {<br>        LoopQueue&lt;Integer&gt; loopQueue = new LoopQueue(7);<br>        &#47;&#47; empty queue dequeue testing<br>        Assert.assertTrue(loopQueue.dequeue()==null);<br>        &#47;&#47; full queue enqueue testing<br>        for (int i=0;i&lt;7;i++) {<br>            loopQueue.enqueue(i);<br>        }<br>        Assert.assertTrue(loopQueue.enqueue(11)==false);<br>        &#47;&#47; dequeue normally<br>        Assert.assertTrue(loopQueue.dequeue()==0);<br>        &#47;&#47; enqueue normally<br>        Assert.assertTrue(loopQueue.enqueue(11));<br>        &#47;&#47; dequeue until queue is empty<br>        int data = -1;<br>        for (int i=0;i&lt;7;i++) {<br>            data = loopQueue.dequeue();<br>        }<br>        Assert.assertTrue(data==11);<br>    }<br>}","like_count":1},{"had_liked":false,"id":105571,"user_name":"æ­å·å´å½¦ç¥–","can_delete":false,"product_type":"c1","uid":1486065,"ip_address":"","ucode":"96EE9F08CE927D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIYk2Bq2JiaGicewame4yMI52vz1pqljWHNDktuwTQGOzicRpGKNY3OTYc2UFUQm1my100QcdmFA6Kibw/132","comment_is_top":false,"comment_ctime":1561033465,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5856000761","product_id":100017301,"comment_content":"æ•°æ®å‡ºé˜Ÿåï¼Œå¯ä»¥ä¸è¿›è¡Œæ•°æ®æ¬ç§»ï¼Œé˜Ÿå¤´å’Œé˜Ÿå°¾çš„æ•°æ®å¯ä»¥å¯ä»¥é€šè¿‡items[head % n] å’Œ items[tail % n]è®¿é—®ã€‚","like_count":1,"discussions":[{"author":{"id":1480819,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/iaU7yVx9WnPfnpJBwGCCLWBy9SvkVQRMxmOBxyZTqRYFgPEEYa0pfUHAek6TNEp6SdFRwumUycSeCL7DaM6FotQ/132","nickname":"DMY","note":"","ucode":"22C16ED954FC3A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":52340,"discussion_content":"è¿™æ ·å¯èƒ½æœ‰ä¸ªé—®é¢˜ï¼Œå¾ˆå¤šæ¬¡æ“ä½œä¹‹åheadå’ŒtailæŒ‡é’ˆçš„æ•°å€¼è¶…è¿‡intæœ€å¤§å€¼ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ã€‚è¿˜æ˜¯æŠŠå¤´å°¾æŒ‡é’ˆæ”¹ä¸ºæ±‚ä½™çš„å€¼æ¯”è¾ƒå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574041396,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103223,"user_name":"é™ˆæ‚¬é«˜","can_delete":false,"product_type":"c1","uid":1065981,"ip_address":"","ucode":"457213A8351202","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/fd/908706cc.jpg","comment_is_top":false,"comment_ctime":1560399499,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5855366795","product_id":100017301,"comment_content":"æä¸¤ç‚¹å»ºè®®ï¼š<br><br>1. tail åº”è¯¥ç†è§£ä¸ºæ•°ç»„ä¸­ä¸‹ä¸€ä¸ªå¯ç”¨æ§½ä½ï¼ˆslotï¼‰çš„ç´¢å¼•ã€‚<br><br>2. é€šè¿‡ç»´æŠ¤ä¸€ä¸ªè¡¨ç¤ºé˜Ÿåˆ—ä¸­å…ƒç´ æ•°é‡çš„å®ä¾‹å˜é‡ nï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°æ£€æµ‹åˆ°é˜Ÿåˆ—å·²æ»¡æˆ–ä¸ºç©ºã€‚","like_count":1},{"had_liked":false,"id":80391,"user_name":"wgg9696","can_delete":false,"product_type":"c1","uid":1402167,"ip_address":"","ucode":"B59488988122F2","user_header":"https://static001.geekbang.org/account/avatar/00/15/65/37/abc7a5bf.jpg","comment_is_top":false,"comment_ctime":1553654729,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5848622025","product_id":100017301,"comment_content":"å…³äºæœ€å¼€å§‹çš„æ•°ç»„æ¬ç§»çš„å…¥é˜Ÿæ—¶é—´å¤æ‚åº¦ï¼Œä¸ªäººæƒ³æ³•å¦‚ä¸‹ï¼š<br>æœ€å¥½æ—¶é—´å¤æ‚åº¦ï¼šO(1)ï¼šå¯¹åº”ç›´æ¥æ’å…¥ æˆ–è€… æ»¡äº†ä½†æ˜¯æ— æ³•æ¬ç§»<br>æœ€åæ—¶é—´å¤æ‚åº¦ï¼šO(n):  æ»¡äº†ï¼Œå¹¶ä¸”å‰é¢åªå‰©ä¸€ä¸ªä½ç½®ï¼Œéœ€è¦æ¬ç§»n-1ä¸ªå…ƒç´ <br>å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼š<br>ä¸€å…±æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼šç›´æ¥æ’å…¥ï¼ˆæ“ä½œæ¬¡æ•°ä¸€æ¬¡ï¼‰ï¼Œæ»¡äº†æ— æ³•æ’å…¥ä¸”æ— æ³•æ¬ç§»ï¼ˆæ“ä½œæ¬¡æ•°ä¸€æ¬¡ï¼‰ï¼Œæ»¡äº†å¯ä»¥æ¬ç§»ï¼ˆå¯¹åº”æœ‰1åˆ°n-1æ“ä½œæ¬¡æ•°ï¼‰ï¼Œå‡è®¾è¿™äº›æƒ…å†µæ¦‚ç‡éƒ½ç›¸ç­‰<br>å¹³å‡æ—¶é—´å¤æ‚åº¦ = (1 + 1 + 1 +....+n-1)&#47;(1+1+n-1) = O(n) <br>å‡æ‘Šæ—¶é—´å¤æ‚åº¦ï¼šå› ä¸ºæ¬ç§»æ¬¡æ•°å’Œå‡ºé˜Ÿæœ‰å…³ï¼Œæ— æ³•åˆ¤å®šï¼Œä¸€å®šå­˜åœ¨å¤šæ¬¡O(1) + ä¸€æ¬¡O(n)çš„æƒ…å†µï¼Œæ‰€ä»¥ä¸é€‚ç”¨è¯¥å¤æ‚åº¦åˆ†ææ–¹æ³•ã€‚<br><br>è¯·è€å¸ˆç‚¹è¯„ï¼Œæƒ³æ³•æ˜¯å¦æ­£ç¡®ã€‚","like_count":1},{"had_liked":false,"id":45125,"user_name":"MrVito","can_delete":false,"product_type":"c1","uid":1252169,"ip_address":"","ucode":"716FF6F8871706","user_header":"https://static001.geekbang.org/account/avatar/00/13/1b/49/ddefc656.jpg","comment_is_top":false,"comment_ctime":1543548055,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5838515351","product_id":100017301,"comment_content":"#include &lt;iostream&gt;<br>#include &lt;string&gt;<br><br>using namespace std;<br>&#47;***<br> * 1 é˜Ÿåˆ— O<br> * 2 å¾ªç¯é˜Ÿåˆ—å®ç° 0<br> * ***&#47;<br>template &lt;typename T&gt; class queueUse{<br>    public:<br>        queueUse(T *arr,int len):array(arr),length(len),head(arr),tail(arr){}<br>        T *head;<br>        T *tail;<br>        T *array;<br>        bool cir_enqueue(const T&amp; element);<br>        bool cir_dequeue();<br>        int length;<br>        int counthead = 0;<br>        int count = 0;<br>    private:<br>        queueUse&amp; operator=(const queueUse&amp;);<br>        queueUse(const queueUse&amp;);<br>};<br>&#47;&#47; å¾ªç¯é˜Ÿåˆ—ï¼Œå…¶å®åªæ˜¯å¤„ç†å…¥é˜Ÿå’Œå‡ºé˜Ÿ é˜Ÿæ»¡ï¼Œé˜Ÿç©º headå’Œtailçš„æŒ‡å‘é—®é¢˜çš„é—®é¢˜<br>template&lt;typename T&gt; bool queueUse&lt;T&gt;::cir_enqueue(const T&amp; element){<br>    if(tail+sizeof(T) == head){ &#47;&#47; å§‹ç»ˆæœ‰ä¸€ä¸ªç©ºçš„tailæŒ‡å‘ åˆ¤æ–­é˜Ÿæ»¡<br>        cout &lt;&lt; &quot;queue is full&quot; &lt;&lt; endl;<br>        return false;<br>    }<br>    *tail = element;<br>    ++count;<br>    tail = array+((count)%length)*sizeof(T); &#47;&#47; tailå¾€åå»¶ä¼¸ï¼Œä½†æ˜¯å¾—æ±‚ä½™è·å¾—ä½ç½®ï¼Œä¸€èˆ¬æ±‚ä½™åå¾—åˆ°çš„æ˜¯ä¸€ä¸ªå¾ªç¯<br>    return true;<br>}<br><br>template&lt;typename T&gt; bool queueUse&lt;T&gt;::cir_dequeue(){<br>    if(head == tail){<br>        cout &lt;&lt; &quot;queue is empty&quot; &lt;&lt; endl;<br>        return false;<br>    }<br>    cout &lt;&lt; *head &lt;&lt; endl;<br>    *head = NULL;<br>    ++counthead;<br>    ++head;<br>    if(counthead == length){ &#47;&#47; å› ä¸ºheadä¸€ç›´éƒ½æ˜¯æŒ‰é¡ºåºæŒ‡å‘ä¸‹ä¸€ä¸ªï¼Œæ‰€ä»¥ä¸€ç›´éƒ½æ˜¯ç»“æŸåä»0å¼€å§‹å‡ºé˜Ÿåˆ—<br>        head = array;<br>        counthead = 0;<br>    }<br>    return true;<br>}<br>","like_count":1},{"had_liked":false,"id":40981,"user_name":"L","can_delete":false,"product_type":"c1","uid":1237556,"ip_address":"","ucode":"0BDC32D02DB267","user_header":"https://static001.geekbang.org/account/avatar/00/12/e2/34/0c2c1200.jpg","comment_is_top":false,"comment_ctime":1542708075,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5837675371","product_id":100017301,"comment_content":"å¦‚ä½•èƒ½æƒ³åˆ°æ˜¯æ ¹æ®å–æ¨¡æ¥åˆ¤æ–­é˜Ÿåˆ—ç©ºæˆ–é˜Ÿåˆ—æ»¡å•Šã€‚ã€‚å¤ªå·§å¦™äº†å§ã€‚<br>è¿˜æœ‰å°±æ˜¯pythonæˆ–è€…goç”¨æ•°ç»„å®ç°é˜Ÿåˆ—çš„è¯ï¼Œéƒ½å¾—ä¸€ä¸ªinitæ–¹æ³•ï¼Œç›®çš„æ˜¯ä½¿ç”¨ä¸€ä¸ªåˆå§‹å€¼å¡«å……æ•´ä¸ªæ•°ç»„ï¼Œä¸ç„¶å…¥åˆ—å‡ºåˆ—æ—¶ç›´æ¥å–ä¸‹æ ‡ä¼šæŠ¥é”™ã€‚  -- å¯æ˜¯è¿™æ ·ç›¸å½“äºé˜Ÿåˆ—æ²¡æ•°æ®åº•å±‚æ•°ç»„å°±è£…æ»¡äº†ï¼Œæœ‰ç‚¹éš¾ä»¥æ¥å—â€¦","like_count":1},{"had_liked":false,"id":39502,"user_name":"sunddenly","can_delete":false,"product_type":"c1","uid":1274149,"ip_address":"","ucode":"C635552E2E97E6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/KqZeIjNOVQJnsIFkDBWl5zRxcD1DCfVL6h3R5tw3EUcQUIoUmSxxjt9JK1tZmQ0JcNtmFXVZNW6OADycDGxmag/132","comment_is_top":false,"comment_ctime":1542291661,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5837258957","product_id":100017301,"comment_content":"è¯·æ•™ä¸€ä¸‹ï¼Œé“¾å¼é˜Ÿåˆ—ä¸èƒ½ç”¨caså®ç°æ— é”é˜Ÿåˆ—ä¹ˆ","like_count":1},{"had_liked":false,"id":33687,"user_name":"coulson","can_delete":false,"product_type":"c1","uid":1125035,"ip_address":"","ucode":"ADBC6AEED866FC","user_header":"https://static001.geekbang.org/account/avatar/00/11/2a/ab/6b2475e9.jpg","comment_is_top":false,"comment_ctime":1539853174,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5834820470","product_id":100017301,"comment_content":"è¿™è¡Œä»£ç ä¸æ˜¯å¾ˆç†è§£ï¼štail = (tail + 1) % nï¼›<br>æˆ‘æ¢æˆ if (tail == n - 1) tail = 0;else tail++;ä¼¼ä¹ä¹Ÿå¯ä»¥ã€‚<br>ä¸çŸ¥é“å¯¹ä¸å¯¹ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1257099,"avatar":"https://static001.geekbang.org/account/avatar/00/13/2e/8b/ea0a1585.jpg","nickname":"Joker","note":"","ucode":"9662D56F5EA546","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":9543,"discussion_content":"headå’Œtailéƒ½æ˜¯éšç€å…¥é˜Ÿå‡ºé˜Ÿä¸æ–­ç§»åŠ¨çš„ï¼Œæœ‰å¯èƒ½æ»¡é˜Ÿçš„æ—¶å€™ï¼Œtail åœ¨3ï¼Œheadåœ¨4ï¼Œä¸çŸ¥é“æˆ‘è¿™ä¹ˆè¯´ä½ èƒ½ä¸èƒ½ç†è§£","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568184660,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":32488,"user_name":"ç¨‹åºå‘˜å¤§å¤©åœ°","can_delete":false,"product_type":"c1","uid":1249001,"ip_address":"","ucode":"7A21F15FEE2D5B","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/e9/98b6ea61.jpg","comment_is_top":false,"comment_ctime":1539588645,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5834555941","product_id":100017301,"comment_content":"çœ‹å®Œæ„Ÿè§‰çœ¼ç•Œå¼€é˜”äº†å¾ˆå¤šï¼Œé˜Ÿåˆ—çš„åº”ç”¨è¿˜æ˜¯è›®å¤šçš„ã€‚<br>é‚£ä¸ªå¤æ‚åº¦åˆ†æçš„æ„Ÿè§‰ä¸å¥½åˆ†æå•Š<br>åœ¨tail æ²¡æœ‰åˆ°è¾¾å°¾éƒ¨çš„æ—¶å€™ï¼Œå…¥é˜Ÿæ—¶é—´æ˜¯O(1)ï¼Œåé¢å¦‚æœå‡ºé˜Ÿæ•°ç›®ä¸å¤šçš„è¯ï¼Œæ„Ÿè§‰ä¼šé¢‘ç¹è§¦å‘æ•°æ®æ¬ç§»ï¼Œæ—¶é—´å¤æ‚åº¦æ€ä¹ˆç®—ï¼Ÿ","like_count":1},{"had_liked":false,"id":32271,"user_name":"AAS","can_delete":false,"product_type":"c1","uid":1009116,"ip_address":"","ucode":"E76555887A6F57","user_header":"https://static001.geekbang.org/account/avatar/00/0f/65/dc/f298552a.jpg","comment_is_top":false,"comment_ctime":1539508571,"is_pvip":false,"replies":[{"id":"11744","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539528114,"ip_address":"","comment_id":32271,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5834475867","product_id":100017301,"comment_content":"è€å¸ˆï¼Œæˆ‘ä¸å¤ªç†è§£ä¸ºä»€ä¹ˆtailæŒ‡é’ˆè¦æŒ‡å‘é˜Ÿåˆ—æœ€åä¸€ä¸ªå…ƒç´ ä½ç½®+1çš„ä½ç½®ï¼Œè€Œä¸æ˜¯ç›´æ¥æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®ã€‚æ˜¯ä¸ºäº†åˆ¤æ–­æ¡ä»¶å†™å¾—æ›´å®¹æ˜“ç†è§£è€Œç‰ºç‰²ç©ºé—´ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426709,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539528114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":32197,"user_name":"èŠ‹å¤´","can_delete":false,"product_type":"c1","uid":1262215,"ip_address":"","ucode":"7980B54AA2EFB0","user_header":"https://static001.geekbang.org/account/avatar/00/13/42/87/69158080.jpg","comment_is_top":false,"comment_ctime":1539482014,"is_pvip":false,"replies":[{"id":"11750","content":"ä½ è¯´çš„æ²¡é”™ è¿™æ ·å°±æ— æ³•åŒºåˆ†é˜Ÿç©ºå’Œé˜Ÿæ»¡äº†","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539528506,"ip_address":"","comment_id":32197,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5834449310","product_id":100017301,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘æœ‰ä¸€ä¸ªå°é—®é¢˜æƒ³ä¸é€šï¼Œä¸ºä»€ä¹ˆå¾ªç¯é˜Ÿåˆ—æœ€åè¦æµªè´¹ä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œå¦‚æœåˆ¤å®šheadå’Œtailç›¸ç­‰ä¹Ÿå¯ä»¥åˆ¤å®šé˜Ÿæ»¡ï¼Œæ˜¯ä¸æ˜¯å› ä¸ºè¿™æ ·åšçš„è¯å°±æ²¡æ³•çŸ¥é“åœ¨headå’Œtailç›¸ç­‰çš„æ—¶å€™é˜Ÿåˆ—æ˜¯ç©ºè¿˜æ˜¯æ»¡ï¼Ÿè¯·è€å¸ˆå¸®å¿™è§£ç­”ä¸€ä¸‹","like_count":1,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426677,"discussion_content":"ä½ è¯´çš„æ²¡é”™ è¿™æ ·å°±æ— æ³•åŒºåˆ†é˜Ÿç©ºå’Œé˜Ÿæ»¡äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539528506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31969,"user_name":"å–µå‰è±†è±†","can_delete":false,"product_type":"c1","uid":1144651,"ip_address":"","ucode":"1F3322FF5EDF58","user_header":"https://static001.geekbang.org/account/avatar/00/11/77/4b/ede8aa13.jpg","comment_is_top":false,"comment_ctime":1539345388,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5834312684","product_id":100017301,"comment_content":"è§£äº†å¥½å¤šå¾ªç¯é˜Ÿåˆ—çš„bugï¼Œéƒ½ä¸æ˜¯è€å¸ˆè¿™ç§æ ‡å‡†å‹ï¼Œæ¯æ¬¡éƒ½å¾—åœ¨è‰ç¨¿çº¸ä¸Šç”»å¥½ä¹…ï¼ŒçœŸå¸Œæœ›å†™å‡ºé‚£äº›ä»£ç çš„äººéƒ½æ¥çœ‹çœ‹è€å¸ˆçš„è¯¾ï¼Œä¸è¦å†è‡ªåˆ›é”™æ¼ç™¾å‡ºçš„å¾ªç¯é˜Ÿåˆ—äº†ã€‚","like_count":1},{"had_liked":false,"id":31721,"user_name":"SunshlnW","can_delete":false,"product_type":"c1","uid":1211252,"ip_address":"","ucode":"7B82BBC5F30633","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/74/63563202.jpg","comment_is_top":false,"comment_ctime":1539270279,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5834237575","product_id":100017301,"comment_content":"å…³äºå¹¶å‘é˜Ÿåˆ—çš„æ— ç•Œéé˜»å¡é˜Ÿåˆ—ï¼Œhttp:&#47;&#47;www.importnew.com&#47;25668.html","like_count":1},{"had_liked":false,"id":31469,"user_name":"åç«¯è¿›é˜¶","can_delete":false,"product_type":"c1","uid":1125656,"ip_address":"","ucode":"480F48F5378307","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/18/918eaecf.jpg","comment_is_top":false,"comment_ctime":1539193942,"is_pvip":false,"replies":[{"id":"11426","content":"å‡ºé˜Ÿä¸æ€ä¹ˆå¯¹ æœ‰ä¸ªbug","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539269867,"ip_address":"","comment_id":31469,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5834161238","product_id":100017301,"comment_content":"ä¸€ä¸ªåŸºäºé“¾è¡¨çš„é“¾å¼é˜Ÿåˆ—ï¼š<br>public class LinkedQueue {<br>    private Node head = null;<br>    private Node tail = null;<br>    private static class Node {<br>        int value;<br>        Node next;<br>        public Node(int value) {<br>            this.value = value;<br>            this.next = null;<br>        }<br>    }<br><br>    public boolean enqueue(int value) {<br>        Node newNode = new Node(value);<br>        if (head == null) {<br>            head = newNode;<br>            tail = newNode;<br>        } else {<br>            tail.next = newNode;<br>            tail = newNode;<br>        }<br>        return true;<br>    }<br><br>    public int dequeue() {<br>        if (head == null) {<br>            return -1;<br>        }<br>        Node node = head.next;<br>        int value = node.value;<br>        head = node;<br>        return value;<br>    }<br>}<br>","like_count":1,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426356,"discussion_content":"å‡ºé˜Ÿä¸æ€ä¹ˆå¯¹ æœ‰ä¸ªbug","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539269867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1834181,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/fc/c5/ff8b770e.jpg","nickname":"BugBean","note":"","ucode":"B51232281AD9BC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":264327,"discussion_content":"æ´»æŠ“è”¡å¾å¤å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589298198,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31450,"user_name":"å¤´æ™•çš„å°éªšå¹´","can_delete":false,"product_type":"c1","uid":1234200,"ip_address":"","ucode":"EDA4B89BAA33F1","user_header":"https://static001.geekbang.org/account/avatar/00/12/d5/18/7f3b1af2.jpg","comment_is_top":false,"comment_ctime":1539183343,"is_pvip":false,"replies":[{"id":"11430","content":"ç•™è¨€åŒºæœ‰åŒå­¦æå‡ºäº†è§£å†³æ–¹æ¡ˆ ä½ å¯ä»¥çœ‹ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539269948,"ip_address":"","comment_id":31450,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5834150639","product_id":100017301,"comment_content":"è‡ªå·±å°è¯•äº†ä¸€ä¸‹ä¸è®©å¾ªç¯é˜Ÿåˆ—æœ‰ç©ºçš„å­˜å‚¨ç©ºé—´ï¼Œç»“æœå‘ç°å¾ˆéš¾å®ç°ã€‚éš¾é“å¾ªç¯é˜Ÿåˆ—æ³¨å®šè¦æœ‰ä¸€ä¸ªç©ºçš„å­˜å‚¨ç©ºé—´å—ï¼Ÿæœ‰æ²¡æœ‰åŠæ³•ä¸è®©å¾ªç¯é˜Ÿåˆ—æœ‰ä¸€ä¸ªç©ºçš„å­˜å‚¨ç©ºé—´ã€‚","like_count":1,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426347,"discussion_content":"ç•™è¨€åŒºæœ‰åŒå­¦æå‡ºäº†è§£å†³æ–¹æ¡ˆ ä½ å¯ä»¥çœ‹ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539269948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1193874,"avatar":"https://static001.geekbang.org/account/avatar/00/12/37/92/961ba560.jpg","nickname":"æˆäººä»¥ğŸŸï¼Œä¸å¦‚æˆäººä»¥æ¸”","note":"","ucode":"BD53829E924B66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":48751,"discussion_content":"ä½¿ç”¨ä¸€ä¸ª size å˜é‡ï¼Œè®¡ç®—å¹¶è®°å½•å½“å‰å¾ªç¯é˜Ÿåˆ—å·²å­˜å‚¨å…ƒç´ ä¸ªæ•°ï¼Œè¿™å°±å¯ä»¥åŒºåˆ«é˜Ÿåˆ—æ»¡å’Œç©ºçš„çŠ¶æ€ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573522980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31406,"user_name":"lpccwin","can_delete":false,"product_type":"c1","uid":1107596,"ip_address":"","ucode":"745F3875550C13","user_header":"https://static001.geekbang.org/account/avatar/00/10/e6/8c/53e683bd.jpg","comment_is_top":false,"comment_ctime":1539173635,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5834140931","product_id":100017301,"comment_content":"æˆ‘è§‰å¾—æ˜¯æ¯ç§éƒ½æ˜¯1&#47;nï¼Œç„¶åæ¯ç§çš„æ“ä½œåˆ†åˆ«æ˜¯1ã€2...nï¼Œç„¶åç®—æ³•æ˜¯1&#47;n *(1+2+...+n) åŠ æƒå¹³å‡ç®—æ³•å¾—åˆ°ç»“æœO(n)","like_count":1},{"had_liked":false,"id":31397,"user_name":"é’¢","can_delete":false,"product_type":"c1","uid":1106184,"ip_address":"","ucode":"A49848BF63A579","user_header":"https://static001.geekbang.org/account/avatar/00/10/e1/08/3dc76043.jpg","comment_is_top":false,"comment_ctime":1539172015,"is_pvip":false,"replies":[{"id":"11309","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539222392,"ip_address":"","comment_id":31397,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5834139311","product_id":100017301,"comment_content":"redisçš„æ¶ˆæ¯é˜Ÿåˆ—ä»¥åŠredisçš„ç®¡é“æŠ€æœ¯éƒ½ç”¨åˆ°é˜Ÿåˆ—","like_count":1,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426321,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539222392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31272,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1539140867,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5834108163","product_id":100017301,"comment_content":"å†…å­˜æ± ","like_count":1},{"had_liked":false,"id":31267,"user_name":"é£ç¾½","can_delete":false,"product_type":"c1","uid":1241451,"ip_address":"","ucode":"6779BCE78AA636","user_header":"https://static001.geekbang.org/account/avatar/00/12/f1/6b/c95dab3c.jpg","comment_is_top":false,"comment_ctime":1539140233,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5834107529","product_id":100017301,"comment_content":"è¯¾åæ€è€ƒ<br>1. ä½œä¸ºä¸€ä¸ªå‰ç«¯å¼€å‘ï¼Œé¦–å…ˆèƒ½æƒ³åˆ°çš„æ¯”è¾ƒå…¸å‹çš„åœºæ™¯å°±æ˜¯äº‹ä»¶é˜Ÿåˆ—ã€WebScoketè¿æ¥æ± ã€åŠ¨ç”»é˜Ÿåˆ—è¿™ä¸‰ä¸ªã€‚<br>2. æš‚æ—¶æ²¡å•¥æ€è·¯ï¼Œç­‰å¤§ç¥çš„å›ç­”","like_count":1},{"had_liked":false,"id":31219,"user_name":"èŠ±è§ç¬‘","can_delete":false,"product_type":"c1","uid":1219485,"ip_address":"","ucode":"8A5122BC11E695","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/9d/d487c368.jpg","comment_is_top":false,"comment_ctime":1539133346,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5834100642","product_id":100017301,"comment_content":"æ’é˜ŸæŠ¢è´­åº”è¯¥å¯ä»¥ç”¨é˜Ÿåˆ—è¿™ç§æ¨¡å‹æ¥å¤„ç†ï¼Œè¢«æŠ¢è´­å•†å“æ•°é‡å›ºå®šï¼Œåˆšå¥½å’Œæ•°ç»„é˜Ÿåˆ—é•¿åº¦æ˜¯å›ºå®šçš„ç‰¹æ€§æš—åˆï¼ŒæŠ¢è´­éœ€è¦å¿«é€Ÿå“åº”è€Œæ•°ç»„é˜Ÿåˆ—çš„ç‰¹æ€§ä¹‹ä¸€å°±æ˜¯é˜Ÿæœ‰ç©ºä½™æ—¶å¿«é€Ÿå“åº”ï¼Œæ²¡æœ‰ç©ºä½™æ—¶ç›´æ¥æ‹’ç»è¯·æ±‚å› ä¸ºå•†å“è¢«æŠ¢è´­å®Œäº†ã€‚","like_count":1},{"had_liked":false,"id":31150,"user_name":"favorlm","can_delete":false,"product_type":"c1","uid":1120997,"ip_address":"","ucode":"CFD52127AA6E1D","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/e5/6899701e.jpg","comment_is_top":false,"comment_ctime":1539127105,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5834094401","product_id":100017301,"comment_content":"æç„¶å¤§æ‚Ÿï¼Œå†çœ‹ä¸€éã€‚","like_count":1},{"had_liked":false,"id":360228,"user_name":"ç ç‹","can_delete":false,"product_type":"c1","uid":1234879,"ip_address":"æ–°åŠ å¡","ucode":"A4666D3AF30D6E","user_header":"https://static001.geekbang.org/account/avatar/00/12/d7/bf/9d8984b7.jpg","comment_is_top":false,"comment_ctime":1666322232,"is_pvip":false,"discussion_count":0,"race_medal":4,"score":"1666322232","product_id":100017301,"comment_content":"1. æ“ä½œç³»ç»Ÿ cpu è·å– task æ‰§è¡Œä¹Ÿæ˜¯ä½¿ç”¨çš„é˜Ÿåˆ—<br>2. å¹¶å‘é—®é¢˜çš„æ ¸å¿ƒåœ¨äºèµ„æºçš„ç«äº‰ï¼Œå®Œå…¨æ— æ‰€çš„é˜Ÿåˆ—é™¤éæ˜¯ç»‘å®š task åˆ°å•ä¸ªå›ºå®šçš„ cpu è¿™æ ·æ‰€æœ‰çš„æ“ä½œç¡®å®æ— éœ€åŠ é”ä¹Ÿèƒ½ä¿è¯æ•°æ®å®‰å…¨ã€‚å¹¶å‘åœºæ™¯è¿˜æ˜¯è¦æŒ‰ç…§ä¸šåŠ¡éœ€æ±‚ç¡®å®šæ˜¯ä½¿ç”¨è‡ªæ—‹é”ã€è¯»å†™é”è¿˜æ˜¯å…¶ä»–ã€‚","like_count":0},{"had_liked":false,"id":359272,"user_name":"tingting","can_delete":false,"product_type":"c1","uid":2035702,"ip_address":"æ–°åŠ å¡","ucode":"61E6B0C4EC59C5","user_header":"https://static001.geekbang.org/account/avatar/00/1f/0f/f6/609ded9f.jpg","comment_is_top":false,"comment_ctime":1665388566,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1665388566","product_id":100017301,"comment_content":"goè¯­è¨€ä¸­channelçš„åº•å±‚å®ç°ç”¨åˆ°äº†å¾ªç¯é˜Ÿåˆ—(å­˜å‚¨æ•°æ®)è¿˜æœ‰ç­‰å¾…é˜Ÿåˆ—(receiver &amp; sender goroutineæ’é˜Ÿ), ä¸è¿‡åº•å±‚æ•°æ®ç»“æ„æ²¡æœ‰å®ç°æ— é”å¹¶å‘ï¼Œè€Œæ˜¯åŠ äº†ä¸€æŠŠå¤§é”ã€‚ ","like_count":0},{"had_liked":false,"id":358268,"user_name":"111","can_delete":false,"product_type":"c1","uid":3109487,"ip_address":"åŒ—äº¬","ucode":"D6E8E83A118A3E","user_header":"https://static001.geekbang.org/account/avatar/00/2f/72/6f/44c10658.jpg","comment_is_top":false,"comment_ctime":1664158055,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1664158055","product_id":100017301,"comment_content":"æ€»ç»“ï¼š<br>1. é˜Ÿåˆ—çš„ç‰¹æ€§ï¼šå…ˆè¿›å…ˆå‡º<br>2. é˜Ÿåˆ—çš„ç»„æˆ<br>3. é˜Ÿåˆ—çš„ä½¿ç”¨ï¼šçº¿ç¨‹æ± <br>æ€è€ƒï¼š<br>1. æ¶ˆæ¯é˜Ÿåˆ—<br>2. cas","like_count":0},{"had_liked":false,"id":357876,"user_name":"å¾®å°˜","can_delete":false,"product_type":"c1","uid":1667439,"ip_address":"åŒ—äº¬","ucode":"F9CB2CEE9F19B9","user_header":"https://static001.geekbang.org/account/avatar/00/19/71/6f/07e1452a.jpg","comment_is_top":false,"comment_ctime":1663727453,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1663727453","product_id":100017301,"comment_content":"ç¯å½¢é˜Ÿåˆ—(å…ˆæ”¹å˜å€¼ï¼Œåæ“ä½œæ•°ç»„)<br>é˜Ÿåˆ—(åæ”¹å˜å€¼ï¼Œå…ˆæ“ä½œæ•°ç»„)<br>(tail+1)%n=head","like_count":0},{"had_liked":false,"id":357344,"user_name":"ğŸ»","can_delete":false,"product_type":"c1","uid":1043072,"ip_address":"åŒ—äº¬","ucode":"534EDAD496A0E6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ea/80/8759e4c1.jpg","comment_is_top":false,"comment_ctime":1663166088,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663166088","product_id":100017301,"comment_content":"Linux Serverç«¯å¤„ç†TCP è¿æ¥æ—¶ï¼Œæœ‰ä¸¤ä¸ªé˜Ÿåˆ—ã€‚å…¨è¿æ¥é˜Ÿåˆ—å’ŒåŠè¿æ¥é˜Ÿåˆ—ã€‚<br><br>Serverç«¯æ”¶åˆ° syn åŒ…åï¼Œå°†ç›¸å…³ä¿¡æ¯æ”¾å…¥åŠè¿æ¥é˜Ÿåˆ—ï¼Œå¹¶è¿”å›ack+ synã€‚<br><br>æ”¶åˆ°å®¢æˆ·ç«¯çš„ack ä¹‹åï¼Œå†è®²ä¿¡æ¯ä»åŠè¿æ¥é˜Ÿåˆ—æ‹¿å‡ºï¼Œæ”¾å…¥å…¨è¿æ¥é˜Ÿåˆ—ä¸­ã€‚<br><br><br>cas æ— é”é˜Ÿåˆ—ã€‚casçš„å«ä¹‰æ˜¯ compare and swapã€‚æ¯æ¬¡æ›´æ–°tailæŒ‡é’ˆçš„æ—¶å€™ï¼Œå…ˆå°†æŒ‡é’ˆæŒ‡å‘çš„å€¼å’Œä¹‹å‰å­˜å‚¨çš„å¿«ç…§å€¼æ¯”è¾ƒï¼Œå¦‚æœå€¼æ²¡æœ‰å˜ï¼Œä¹Ÿæ›´æ–°æŒ‡é’ˆã€‚å¦‚æœå€¼å˜äº†ï¼Œåˆ™ä»æ–°è·å–å¿«ç…§ï¼Œé‡æ–°åˆ¤æ–­ã€‚","like_count":0},{"had_liked":false,"id":355641,"user_name":"è’‹æ…•å¹³","can_delete":false,"product_type":"c1","uid":2302901,"ip_address":"é‡åº†","ucode":"57B8FF7F00C042","user_header":"https://static001.geekbang.org/account/avatar/00/23/23/b5/639a12ec.jpg","comment_is_top":false,"comment_ctime":1661583500,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1661583500","product_id":100017301,"comment_content":"é˜Ÿåˆ—ï¼Œæ’åˆ—ï¼Œå…ˆè¿›å…ˆå‡º<br>- enqueue å…¥ç«™<br>- dequeue å‡ºç«™","like_count":0},{"had_liked":false,"id":352031,"user_name":"ç½—æ°.è²ã®æ¨‚","can_delete":false,"product_type":"c1","uid":2016408,"ip_address":"","ucode":"63590706846EEA","user_header":"https://static001.geekbang.org/account/avatar/00/1e/c4/98/9c7a1a23.jpg","comment_is_top":false,"comment_ctime":1658337543,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1658337543","product_id":100017301,"comment_content":"æˆ‘è®¤ä¸ºæ–‡ä¸­çš„Circular Queueæµªè´¹äº†ä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œå¹¶ä¸ç†æƒ³ï¼Œè¿™é‡Œç»™å‡ºæ”¹è¿›ä»¥åçš„å®ç°ã€‚<br>```<br>class MyCircularQueue {<br><br>    private int[] items; <br>    private int n = 0;<br>    private int size = 0;<br><br>    private int head = 0;<br>    private int tail = -1;<br><br>    public MyCircularQueue(int k) {<br>        items = new int[k];<br>        n = k;<br>    }<br><br>    public boolean enQueue(int value) {<br>        if (isFull()) {<br>            return false;<br>        }<br><br>        tail = (tail + 1) % n;<br>        items[tail] = value;<br>        size++;<br>        return true;<br>    }<br><br>    public boolean deQueue() {<br>        if (isEmpty()) {<br>            return false;<br>        }<br><br>        head = (head + 1) % n;<br>        size--;<br>        return true;<br>    }<br><br>    public int Front() {<br>        if (isEmpty()) {<br>            return -1;<br>        }<br><br>        return items[head];<br>    }<br>    <br>    public int Rear() {<br>        if (isEmpty()) {<br>            return -1;<br>        }<br><br>        return items[tail];<br>    }<br> <br>    public boolean isEmpty() {<br>        return size == 0;<br>    }<br><br>    public boolean isFull() {<br>        return size == n;<br>    }<br>}<br>```","like_count":0},{"had_liked":false,"id":347899,"user_name":"Molyt","can_delete":false,"product_type":"c1","uid":2283490,"ip_address":"","ucode":"9CCF7A18B2C547","user_header":"https://static001.geekbang.org/account/avatar/00/22/d7/e2/5e5cc8f3.jpg","comment_is_top":false,"comment_ctime":1654566908,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654566908","product_id":100017301,"comment_content":"è€å¸ˆçš„GitHubæ˜¯å¤šå°‘å‘€ï¼ˆæ–°äººï¼‰","like_count":0},{"had_liked":false,"id":347456,"user_name":"è¾¾å”ç¬","can_delete":false,"product_type":"c1","uid":2404887,"ip_address":"","ucode":"5CCBAF13548F02","user_header":"https://static001.geekbang.org/account/avatar/00/24/b2/17/3161b49c.jpg","comment_is_top":false,"comment_ctime":1654053118,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1654053118","product_id":100017301,"comment_content":"é‡å­¦é˜Ÿåˆ— å‘ç° redis çš„ repl_backlog_buffer ç¯å½¢ç¼“å†²åŒº ä¹Ÿæ˜¯ä¸€ä¸ªå¾ªç¯é˜Ÿåˆ—","like_count":0},{"had_liked":false,"id":347394,"user_name":"Vivion","can_delete":false,"product_type":"c1","uid":1242310,"ip_address":"","ucode":"C62C4F46B8EB4D","user_header":"https://static001.geekbang.org/account/avatar/00/12/f4/c6/aed9e44a.jpg","comment_is_top":false,"comment_ctime":1653988261,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653988261","product_id":100017301,"comment_content":"CPU - ä¸åŒçº¿ç¨‹ - netty ä¸­è¯·æ±‚çº¿ç¨‹æ± ä¸å¾…å¤„ç†è¯·æ±‚é˜Ÿåˆ—<br>CPU - ä¸åŒè¿›ç¨‹ - MQ<br>ç½‘ç»œã€æ–‡ä»¶ I&#47;O - è¯»å–ç¼“å†²åŒº","like_count":0},{"had_liked":false,"id":346582,"user_name":"Link","can_delete":false,"product_type":"c1","uid":2017303,"ip_address":"","ucode":"004613427C7CAA","user_header":"https://static001.geekbang.org/account/avatar/00/1e/c8/17/05caa195.jpg","comment_is_top":false,"comment_ctime":1653262848,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653262848","product_id":100017301,"comment_content":"å®ç°ä¸€éå—ç›ŠåŒªæµ…","like_count":0},{"had_liked":false,"id":344045,"user_name":"å¾è‹¥æ„š","can_delete":false,"product_type":"c1","uid":2847807,"ip_address":"","ucode":"205631D30BD2E4","user_header":"","comment_is_top":false,"comment_ctime":1651206489,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651206489","product_id":100017301,"comment_content":"public class LockFreeQueue {<br>    &#47;&#47; LockFreeQueue<br>    private static final Integer EMPTY = null;<br>    private final AtomicReferenceArray array;<br>    private AtomicInteger head;<br>    private AtomicInteger tail;<br><br>    public LockFreeQueue(int cap) {<br>        array = new AtomicReferenceArray (cap);<br>        head = new AtomicInteger(0);<br>        tail = new AtomicInteger(0);<br>    }<br><br>    public boolean enqueue(int data) {<br>        int index = (tail.get() + 1) % array.length();<br>        if (index == head.get() % array.length()) return false;<br><br>        while (!array.compareAndSet(index, EMPTY, data)) {<br>            return enqueue(data);<br>        }<br>        tail.incrementAndGet();<br>        return true;<br>    }<br><br>    public Integer dequeue() {<br>        if (head.get() == tail.get()) return null;<br>        int index = (tail.get() + 1) % array.length();<br>        Integer element = (Integer) array.get(index);<br>        if (element == null) return dequeue(); &#47;&#47; å…¶ä»–çº¿ç¨‹å‡ºé˜Ÿ<br>        while (!array.compareAndSet(index, element, EMPTY)) {<br>            return dequeue();<br>        }<br>        head.incrementAndGet();<br>        return element;<br>    }<br><br>    public void print() {<br>        StringBuffer sb = new StringBuffer();<br>        for (int i = 0; i &lt; array.length(); i++) {<br>            if (i == head.get() || array.get(i) == null) {<br>                continue;<br>            }<br>            sb.append(array.get(i)).append(&quot;,&quot;);<br>        }<br>        sb.deleteCharAt(sb.length() - 1);<br>        System.out.println(sb.toString());<br>    }<br>}","like_count":0},{"had_liked":false,"id":344044,"user_name":"å¾è‹¥æ„š","can_delete":false,"product_type":"c1","uid":2847807,"ip_address":"","ucode":"205631D30BD2E4","user_header":"","comment_is_top":false,"comment_ctime":1651206482,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651206482","product_id":100017301,"comment_content":"å¤§å®¶è¿™ä¹ˆç§¯æï¼Œæˆ‘ä¹Ÿè¡¥ä¸€ä¸ªLockFreeQueueå§","like_count":0},{"had_liked":false,"id":342416,"user_name":"Siri","can_delete":false,"product_type":"c1","uid":1074834,"ip_address":"","ucode":"40CCD539F19D4C","user_header":"https://static001.geekbang.org/account/avatar/00/10/66/92/f1f83d8b.jpg","comment_is_top":false,"comment_ctime":1650253076,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1650253076","product_id":100017301,"comment_content":"goè¯­è¨€ä¸­ channelå†…éƒ¨çš„ring bufferå°±æ˜¯é€šè¿‡ç¯å½¢é˜Ÿåˆ—æ¥å®ç°çš„","like_count":0},{"had_liked":false,"id":340454,"user_name":"Geek_b7eb88","can_delete":false,"product_type":"c1","uid":1573715,"ip_address":"","ucode":"0EB46381D9B1CB","user_header":"","comment_is_top":false,"comment_ctime":1648820956,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648820956","product_id":100017301,"comment_content":"iOSä¸­çš„RunLoopäº‹ä»¶å¤„ç†ï¼ŒFlutterä¸­çš„éé˜»å¡è°ƒç”¨ï¼Œåº”è¯¥éƒ½æ˜¯ç”¨çš„é˜Ÿåˆ—è¿™ç§ç»“æ„å§ã€‚ä½œä¸ºä¸€ä¸ªç§»åŠ¨ç«¯åªèƒ½è¯´ç‚¹è¿™äº›äº†ã€‚[Facepalm]","like_count":0},{"had_liked":false,"id":340244,"user_name":"R","can_delete":false,"product_type":"c1","uid":1248638,"ip_address":"","ucode":"165F104B71EAF2","user_header":"https://static001.geekbang.org/account/avatar/00/13/0d/7e/2f709bdf.jpg","comment_is_top":false,"comment_ctime":1648694321,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648694321","product_id":100017301,"comment_content":"ç”¨é“¾è¡¨å®ç°é˜Ÿåˆ—ï¼Œä¸ºä»€ä¹ˆä¸é€‰æ‹©åœ¨é˜Ÿå¤´æ’å…¥ï¼Œé˜Ÿå¤´åˆ é™¤å‘¢ï¼Ÿæ„Ÿè§‰ä¼šæ›´ç›´è§‚äº›","like_count":0},{"had_liked":false,"id":337169,"user_name":"201202077","can_delete":false,"product_type":"c1","uid":2881261,"ip_address":"","ucode":"2FB173EB6A9A2E","user_header":"","comment_is_top":false,"comment_ctime":1646658878,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646658878","product_id":100017301,"comment_content":"é˜Ÿåˆ—çš„çº¿ç¨‹å®‰å…¨ä¸æ˜¯å¾ˆæ¸…æ¥šéœ€è¦åé¢å†çœ‹çœ‹","like_count":0},{"had_liked":false,"id":336236,"user_name":"å…¶å®ç‰¹ä»‘è‹å°±æ˜¯ä¸€ç“¶ç‰›å¥¶","can_delete":false,"product_type":"c1","uid":2333829,"ip_address":"","ucode":"B2F6E8E96BA62A","user_header":"https://static001.geekbang.org/account/avatar/00/23/9c/85/0e9f445a.jpg","comment_is_top":false,"comment_ctime":1646024205,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646024205","product_id":100017301,"comment_content":"é¡ºåºé˜Ÿåˆ—ï¼š<br>å…¥é˜Ÿæ“ä½œï¼Œå½“é˜Ÿåˆ—ä¸ºç©ºé˜Ÿåˆ—æ—¶ï¼Œå°†é˜Ÿå¤´æŒ‡é’ˆä»¥åŠé˜Ÿå°¾æŒ‡é’ˆåŒæ—¶æŒ‡å‘æ•°ç»„é¦–åœ°å€ï¼Œå½“æ•°ç»„æ²¡æœ‰é¢å¤–çš„å­˜å‚¨ç©ºé—´æ—¶ï¼Œæ‹’ç»æ•°æ®è¿›å…¥é˜Ÿåˆ—ä¸­ï¼Œæ­¤æ—¶ï¼Œå…¥é˜Ÿæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼›<br>å‡ºé˜Ÿæ“ä½œï¼Œå½“é˜Ÿåˆ—ä¸ºç©ºé˜Ÿåˆ—æ—¶ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œå½“é˜Ÿåˆ—éç©ºæ—¶ï¼Œåªéœ€è¦å°†é˜Ÿå¤´æŒ‡é’ˆè‡ªåŠ  1 ï¼Œæ­¤æ—¶ï¼Œå‡ºé˜Ÿçš„æ—¶é—´å¤æ‚åº¦ä»ä¸ºO(1)","like_count":0},{"had_liked":false,"id":336232,"user_name":"Today","can_delete":false,"product_type":"c1","uid":1235000,"ip_address":"","ucode":"4FA397F0BD8C6E","user_header":"https://static001.geekbang.org/account/avatar/00/12/d8/38/41027bda.jpg","comment_is_top":false,"comment_ctime":1646018730,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646018730","product_id":100017301,"comment_content":"é˜Ÿåˆ—çš„ç‰¹ç‚¹æ˜¯ï¼š å…¥å£å’Œå‡ºå£åœ¨ä¸¤ç«¯ï¼Œ æœ‰å…¥é˜Ÿå’Œå‡ºé˜Ÿä¸¤ç§æ“ä½œï¼Œ å…ˆå…¥é˜Ÿè€…å…ˆå‡ºã€‚<br>é˜Ÿåˆ—æ ¹æ®å®ç°æ–¹å¼å¯ä»¥åˆ†ä¸ºï¼š <br>é¡ºåºé˜Ÿåˆ—   (åŒæŒ‡é’ˆ + æ•°æ®æ¬ç§»)<br>é“¾å¼é˜Ÿåˆ— ï¼ˆåŒæŒ‡é’ˆ + dummyHeadï¼‰<br><br>å¾ªç¯é˜Ÿåˆ—ï¼š å¯ä»¥è§£å†³é¡ºåºé˜Ÿåˆ—çš„æ•°æ®æ¬ç§»é—®é¢˜, ç”¨ % size æ¥è¿›è¡Œå…¥é˜Ÿå’Œå‡ºé˜Ÿçš„ä½ç½®æ›´æ–°ï¼Œå¯ä»¥ç•™ä¸€ä¸ªä½ç½®æ¥åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦å·²æ»¡ æˆ–è€… è®°å½•é˜Ÿåˆ—é•¿åº¦æ¥åˆ¤æ–­ï¼›<br><br>é«˜çº§é˜Ÿåˆ—ç»“æ„æœ‰ï¼š<br><br>é˜»å¡é˜Ÿåˆ—ï¼šå®ç°äº† â€œç”Ÿäº§è€…-æ¶ˆè´¹è€…â€ æ¨¡å‹<br>å¹¶å‘é˜Ÿåˆ—ï¼šé€šè¿‡åŠ é”æˆ–è€…æˆ–è€…å¾ªç¯é˜Ÿåˆ— + CAS åŸå­æ“ä½œå®ç°","like_count":0},{"had_liked":false,"id":335014,"user_name":"ä½•ä»¥è§å¾—","can_delete":false,"product_type":"c1","uid":1237254,"ip_address":"","ucode":"E47FF878E707B9","user_header":"https://static001.geekbang.org/account/avatar/00/12/e1/06/c64246ee.jpg","comment_is_top":false,"comment_ctime":1645256464,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645256464","product_id":100017301,"comment_content":"å¾ªç¯ç‰ºç‰²æœ€åä¸€ä¸ªç©ºé—´æ¥å®ç°åˆ¤æ–­é˜Ÿæ»¡ï¼Œåœ¨å®é™…å¼€å‘ä¸­æˆ‘ä»¬å°±å®Œå…¨ä¸è¦è¿™ä¸ªç©ºé—´äº†å—ï¼Ÿæˆ–è€…å¯ä»¥ç”¨æ¥åšä¸€äº›ä»€ä¹ˆå…¶ä»–çš„å†åˆ©ç”¨å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":334539,"user_name":"uwoerla","can_delete":false,"product_type":"c1","uid":1111425,"ip_address":"","ucode":"A457D4F6A346FB","user_header":"https://static001.geekbang.org/account/avatar/00/10/f5/81/26bc1bfb.jpg","comment_is_top":false,"comment_ctime":1644994174,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1644994174","product_id":100017301,"comment_content":"è§£å†³æ–‡ç« é‡Œé˜Ÿåˆ—æ»¡äº†ï¼Œä½†æ˜¯ tail æŒ‡å‘çš„æ˜¯ null çš„é—®é¢˜<br>&#47;**<br> * åŸºäºæ•°ç»„å®ç°çš„ç¯å½¢é˜Ÿåˆ—<br> *&#47;<br>public class CircularQueueBasedArray {<br>  &#47;&#47; æ•°ç»„ï¼šitemsï¼Œæ•°ç»„å¤§å°ï¼šn<br>  private String[] items;<br>  private int n = 0;<br>  &#47;&#47; headè¡¨ç¤ºé˜Ÿé¦–ä¸‹æ ‡ï¼Œtailè¡¨ç¤ºé˜Ÿå°¾ä¸‹æ ‡<br>  private int head = 0;<br>  private int tail = -1;<br><br>  &#47;&#47; ç”³è¯·ä¸€ä¸ªå¤§å°ä¸ºcapacityçš„æ•°ç»„<br>  public CircularQueueBasedArray(int capacity) {<br>    items = new String[capacity];<br>    n = capacity;<br>  }<br><br>  &#47;&#47; å…¥é˜Ÿ<br>  public boolean enqueue(String item) {<br>    &#47;&#47; é˜Ÿåˆ—æ»¡äº†<br>    if (tail&gt;-1 &amp;&amp; (tail + 1) % n == head) return false;<br>    tail = (++tail) % n;<br>    items[tail] = item;<br>    return true;<br>  }<br><br>  &#47;&#47; å‡ºé˜Ÿ<br>  public String dequeue() {<br>    String ret = items[head];<br>    if(ret!=null){<br>      &#47;&#47; å‡ºé˜Ÿåè®¾ç½®åŸé˜Ÿé¦–ä¸‹æ ‡å¯¹åº”çš„å€¼ä¸ºnull<br>      items[head] = null;<br>      if(head == tail){<br>        &#47;&#47; é˜Ÿåˆ—é‡Œåªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œå‡ºé˜Ÿåé˜Ÿåˆ—é‡Œå°±æ²¡æœ‰å…ƒç´ äº†<br>        head = 0;<br>        tail = -1;<br>      }else {<br>        &#47;&#47; ç§»åŠ¨é˜Ÿé¦–ä¸‹æ ‡<br>        head = (head + 1) % n;<br>      }<br>    }<br>    return ret;<br>  }<br>}","like_count":0},{"had_liked":false,"id":332125,"user_name":"åŠŸå¤«ç†ŠçŒ«","can_delete":false,"product_type":"c1","uid":2732243,"ip_address":"","ucode":"D124F4FA4E816F","user_header":"https://static001.geekbang.org/account/avatar/00/29/b0/d3/200e82ff.jpg","comment_is_top":false,"comment_ctime":1643030487,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1643030487","product_id":100017301,"comment_content":"å…¶å®æœ¬è´¨ä¸Šè¿˜æ˜¯tailå’Œheadä¸¤ä¸ªæŒ‡é’ˆæä¾›çš„ä¿¡æ¯ä¸å¤Ÿã€‚æˆ‘æœ‰ä¸¤ä¸ªæ€è·¯<br>ç¬¬ä¸€ä¸ªæ˜¯ç©ºå‡ºä¸€ä¸ªä½ç½®æŒ‰ç…§è€å¸ˆçš„æ“ä½œ<br>å¦ä¸€ä¸ªå°±æ˜¯å¤šç”¨ä¸€ä¸ªä¿¡æ¯å˜é‡sizeè¡¨ç¤ºå½“å‰é˜Ÿåˆ—çš„é•¿åº¦ï¼Œæ‹¿å®ƒå’Œé˜Ÿåˆ—çš„å¤§å°æ¥è¿›è¡Œæ¯”è¾ƒ","like_count":0},{"had_liked":false,"id":329114,"user_name":"sanyu.h","can_delete":false,"product_type":"c1","uid":1281834,"ip_address":"","ucode":"E4851BF6E2FB17","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/yjPribEvEjfucxIXMz37icztGulgcuBAEQllOWKypiamntLLxkRIb20L7CQ2MVJxSt2KpyXW4dLpgL9YjbkDe9pAQ/132","comment_is_top":false,"comment_ctime":1641128890,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641128890","product_id":100017301,"comment_content":"å¦‚æœé˜Ÿåˆ—çš„é•¿åº¦å¯ä»¥è¢«è¡¨ç¤ºé•¿åº¦çš„å˜é‡ç±»å‹çš„æº¢å‡ºå€¼æ•´é™¤ï¼Œå°±ä¸éœ€è¦æµªè´¹è¿™ä¸ªç©ºé—´äº†ã€‚<br>éœ€è¦å¦‚ä¸‹ä¿®æ”¹ï¼š<br>1. int n æ”¹æˆ â€œunsigned int nï¼›â€ï¼Œè¿™æ˜¯é˜Ÿåˆ—çš„å¤§å°ï¼Œç”¨æ— ç¬¦å·ç±»å‹ï¼›ä¸”nçš„å€¼å¿…é¡»å¯ä»¥è¢«unsigned intç±»å‹çš„æº¢å‡ºå€¼ï¼ˆ32ä½æ˜¯4294967296ï¼Œ64ä½æ˜¯18446744073709551616ï¼‰æ•´é™¤ï¼›<br>2. tailæ›´æ–°ä¸å†æ˜¯tail = (tail + 1) % nï¼Œ è€Œæ˜¯tal = tail + 1ï¼›<br>3. bool isFull {return (tail - head) == n; }<br>4. bool isEmpty { return tail == head; }","like_count":0},{"had_liked":false,"id":328313,"user_name":"Geek_db13bf","can_delete":false,"product_type":"c1","uid":2853527,"ip_address":"","ucode":"22D8DA47B1E190","user_header":"","comment_is_top":false,"comment_ctime":1640663278,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640663278","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—ä¸­æåˆ°çš„æµªè´¹æ•°ç»„çš„ä¸€ä¸ªå­˜å‚¨ç©ºé—´æ„æ€æ˜¯å¦‚æœæˆ‘ç”³è¯·çš„æ•°ç»„å¤§å°æ˜¯8ï¼Œåªèƒ½å­˜å‚¨7ä¸ªæ•°æ®å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":327300,"user_name":"Geek_db13bf","can_delete":false,"product_type":"c1","uid":2853527,"ip_address":"","ucode":"22D8DA47B1E190","user_header":"","comment_is_top":false,"comment_ctime":1640054267,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640054267","product_id":100017301,"comment_content":"å¤§ä½¬ï¼Œè¿™ä¸ªç”»å›¾å·¥å…·ç”¨çš„æ˜¯å•¥","like_count":0},{"had_liked":false,"id":323876,"user_name":"Tina","can_delete":false,"product_type":"c1","uid":2851354,"ip_address":"","ucode":"8D6D9F6E3D0A99","user_header":"https://static001.geekbang.org/account/avatar/00/2b/82/1a/30676c2e.jpg","comment_is_top":false,"comment_ctime":1638191112,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638191112","product_id":100017301,"comment_content":"é˜Ÿåˆ—ä¹Ÿæ˜¯ä¸€ç§æ“ä½œå—é™çš„çº¿æ€§è¡¨ï¼Œå…ˆè¿›å…ˆå‡ºï¼Œåè¿›åå‡ºï¼Œå°±åƒç”Ÿæ´»ä¸­çš„æ’é˜Ÿä¸€æ ·ã€‚<br>é˜Ÿåˆ—çš„åº”ç”¨éå¸¸å¹¿æ³›ï¼Œå°¤å…¶æ˜¯ä¸€äº›å…·æœ‰é¢å¤–ç‰¹æ€§çš„é˜Ÿåˆ—ï¼šå¾ªç¯é˜Ÿåˆ—ï¼Œé˜»å¡é˜Ÿåˆ—ï¼Œå¹¶å‘é˜Ÿåˆ—ã€‚å®ƒä»¬åœ¨å¾ˆå¤šååº•å±‚ç³»ç»Ÿã€æ¡†æ¶ã€ä¸­é—´ä»¶çš„å¼€å‘ä¸­ï¼Œèµ·ç€å…³é”®æ€§çš„ä½œç”¨ã€‚<br>å®ç°ï¼š<br>è¦å®ç°é˜Ÿåˆ—ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„å’Œé“¾è¡¨ï¼Œåˆ†åˆ«å«åšé¡ºåºé˜Ÿåˆ—å’Œé“¾å¼é˜Ÿåˆ—ã€‚<br>ç”¨æ•°ç»„å®ç°ï¼šä¸»è¦æ˜¯å…¥é˜Ÿå’Œå‡ºé˜Ÿä¸¤ä¸ªæ“ä½œï¼Œè¦æ³¨æ„åˆ¤æ–­é˜Ÿæ»¡å’Œé˜Ÿç©ºçš„æ¡ä»¶ã€‚å½“å…¥é˜ŸåŠ åˆ°æ•°ç»„æœ«å°¾æ—¶ï¼Œè¦åˆ¤å¯¹é˜Ÿå¤´æ˜¯å¦åœ¨0ä½ç½®ï¼Œå¦åˆ™è¦è¿›è¡Œæ•°æ®æ¬ç§»ï¼Œæ•´ä½“å¾€å‰æŒªã€‚<br>å¾ªç¯é˜Ÿåˆ—ï¼šé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å›´æˆä¸€ä¸ªåœˆï¼Œä¹Ÿæ˜¯æœ‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œå¤´æŒ‡é’ˆæŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œå°¾æŒ‡é’ˆæŒ‡å‘å°¾èŠ‚ç‚¹åé¢ä¸€ä¸ªï¼Œæ‰€ä»¥é˜Ÿåˆ—æ»¡æ—¶æœ‰ä¸€ä¸ªå­˜å‚¨ç©ºé—´æ˜¯ç©ºç€çš„ï¼Œä¸ºäº†æ–¹ä¾¿åˆ¤æ–­é˜Ÿæ»¡å’Œå¯¹ç©ºï¼Œè¿™æ—¶è¦é¢å¤–æ³¨æ„åˆ¤æ–­å¯¹ç©ºæ˜¯head==tailï¼Œè€Œé˜Ÿæ»¡æ˜¯(tail+1)%n == head.<br>é“¾å¼é˜Ÿåˆ—ï¼šç”¨é“¾è¡¨æ¥å®ç°ï¼Œä¹Ÿéœ€è¦ä¸¤ä¸ªæŒ‡é’ˆã€‚<br><br>é˜»å¡é˜Ÿåˆ—ï¼šå°±æ˜¯â€œç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹â€çš„åŸå‹ï¼Œå½“é˜Ÿåˆ—ä¸ºç©ºæ—¶æƒ³è¦å–æ•°æ®å°±ä¼šé˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰æ•°æ®ï¼›é˜Ÿåˆ—æ»¡æ—¶æƒ³è¦æ·»åŠ æ•°æ®ä¹Ÿä¼šé˜»å¡ï¼Œå½“é˜Ÿåˆ—åˆæœ‰é¢å¤–çš„ç©ºé—´æ—¶æ‰å¯ä»¥ç»§ç»­æ·»åŠ ã€‚<br><br>å¹¶å‘é˜Ÿåˆ—ï¼šå¤šçº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—ã€‚æœ€ç›´æ¥çš„æ–¹å¼å°±æ˜¯åœ¨å…¥é˜Ÿå’Œå‡ºé˜Ÿçš„æ–¹æ³•ä¸ŠåŠ é”ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼é”ç²’åº¦å¤§ï¼Œå¹¶å‘åº¦ä½ã€‚åŒä¸€æ—¶åˆ»ä»…å…è®¸ä¸€ä¸ªå­˜æˆ–è€…å–æ“ä½œã€‚åŸºäºæ•°ç»„çš„å¾ªç¯é˜Ÿåˆ—ï¼Œå¯ä»¥ä½¿ç”¨CASåŸå­æ“ä½œï¼Œå¯ä»¥å®ç°é«˜æ•ˆçš„å¹¶å‘é˜Ÿåˆ—ã€‚æ‰€ä»¥ï¼Œå¾ªç¯é˜Ÿåˆ—æ¯”é“¾å¼é˜Ÿåˆ—åº”ç”¨æ›´å¹¿æ³›ã€‚<br><br>çº¿ç¨‹æ± æ²¡æœ‰ç©ºé—²çº¿ç¨‹æ—¶ï¼Œæ–°çš„ä»»åŠ¡è¯·æ±‚çº¿ç¨‹èµ„æºæ—¶ï¼Œçº¿ç¨‹æ± è¯¥å¦‚ä½•å¤„ç†ï¼Ÿå„ç§å¤„ç†ç­–ç•¥åˆæ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ<br>æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯éé˜»å¡æ–¹å¼ï¼Œçº¿ç¨‹æ± æ»¡æ—¶ï¼Œç›´æ¥æ‹’ç»è¯·æ±‚ï¼›å¦ä¸€ç§æ˜¯é˜»å¡çš„æ–¹å¼ï¼Œå°†è¯·æ±‚æ’é˜Ÿï¼Œç­‰åˆ°æœ‰ç©ºé—²çš„çº¿ç¨‹æ—¶ï¼Œå†å¤„ç†æ’é˜Ÿçš„è¯·æ±‚ã€‚<br>å¯¹äºåŸºäºé“¾è¡¨å®ç°çš„æ’é˜Ÿè¯·æ±‚ï¼Œå¯ä»¥å®ç°æ”¯æŒæ— é™æ’é˜Ÿçš„æ— ç•Œé˜Ÿåˆ—ï¼Œä½†ä¹Ÿä¼šå¯¼è‡´æ’é˜Ÿçš„è¯·æ±‚è¿‡å¤šï¼Œå“åº”æ—¶é—´è¿‡é•¿ï¼Œå¯¹äºå“åº”æ—¶é—´æ¯”è¾ƒæ•æ„Ÿçš„ç³»ç»Ÿä¸åˆé€‚ã€‚<br>åŸºäºæ•°ç»„å®ç°çš„æœ‰ç•Œé˜Ÿåˆ—ï¼Œé˜Ÿåˆ—çš„å¤§å°æœ‰é™ï¼Œçº¿ç¨‹æ± ä¸­æ’é˜Ÿçš„è¯·æ±‚è¶…è¿‡é˜Ÿåˆ—å¤§å°æ—¶ï¼Œä¾¿ä¼šè¢«æ‹’ç»ï¼Œé€‚åˆå¯¹å“åº”æ—¶é—´æ¯”è¾ƒæ•æ„Ÿçš„ç³»ç»Ÿã€‚ä½†æ˜¯ï¼Œé˜Ÿåˆ—çš„å¤§å°è¦è®¾ç½®ä¸€ä¸ªåˆç†å€¼ï¼Œå¤ªå¤§å°±å“åº”æ—¶é—´è¿‡é•¿ï¼Œå¤ªçŸ­äº†å°±æ— æ³•å……åˆ†åˆ©ç”¨ç³»ç»Ÿèµ„æºï¼Œé€ æˆæµªè´¹ã€‚<br><br>é™¤äº†çº¿ç¨‹æ± è¿™ç§æ± ç»“æ„ä¼šç”¨åˆ°é˜Ÿåˆ—æ’é˜Ÿè¯·æ±‚ï¼Œä½ è¿˜çŸ¥é“æœ‰å“ªäº›ç±»ä¼¼çš„æ± ç»“æ„æˆ–è€…åœºæ™¯ä¸­ä¼šç”¨åˆ°é˜Ÿåˆ—çš„æ’é˜Ÿè¯·æ±‚å‘¢ï¼Ÿ  è¿˜æœ‰åˆ†å¸ƒå¼åº”ç”¨ä¸­çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚<br>ä»Šå¤©è®²åˆ°å¹¶å‘é˜Ÿåˆ—ï¼Œå…³äºå¦‚ä½•å®ç°æ— é”å¹¶å‘é˜Ÿåˆ—ï¼Œç½‘ä¸Šæœ‰éå¸¸å¤šçš„è®¨è®ºã€‚å¯¹è¿™ä¸ªé—®é¢˜ï¼Œä½ æ€ä¹ˆçœ‹å‘¢ï¼Ÿä½¿ç”¨CASå®ç°æ— é”å¹¶å‘åºåˆ—ã€‚<br>","like_count":0},{"had_liked":false,"id":321167,"user_name":"Wilson","can_delete":false,"product_type":"c1","uid":1007140,"ip_address":"","ucode":"3ADBE962C67B8D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/24/040855d3.jpg","comment_is_top":false,"comment_ctime":1636698398,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636698398","product_id":100017301,"comment_content":"&#47;**<br> * Kotlinæ•°ç»„å®ç°é˜Ÿåˆ—<br> * @property size Int<br> * @property items Array&lt;String&gt;<br> * @property count Int<br> * @property head Int<br> * @constructor<br> *&#47;<br>class ArrayQueue(var size: Int) {<br>    var items: Array&lt;String&gt; = Array&lt;String&gt;(size, { &quot;&quot; })<br>    var count: Int = 0<br>    var head: Int = 0<br><br>    fun enqueue(item: String): Boolean {<br>        if (count == size) {<br>            if (head == 0) return false<br>&#47;&#47;            æ•°æ®æ¬ç§»<br>            for (i in head..count) {<br>                items[i - head] = items[i]<br>            }<br>            count -= head<br>            head = 0<br><br>        }<br>        items[count] = item<br>        ++count<br>        return true<br>    }<br><br>    fun dequeue(): String? {<br>        if (head == count) return null<br>        val value = items[head]<br>        ++head<br>        return value<br>    }<br>}","like_count":0},{"had_liked":false,"id":316139,"user_name":"Qiubh","can_delete":false,"product_type":"c1","uid":1072658,"ip_address":"","ucode":"3BC33EC44F2FDE","user_header":"https://static001.geekbang.org/account/avatar/00/10/5e/12/c0c4d6f2.jpg","comment_is_top":false,"comment_ctime":1634177875,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634177875","product_id":100017301,"comment_content":"public class CircularQueue {<br><br>\tprivate String[] items;<br><br>\tprivate int n = 0;<br><br>\tprivate int head = 0;<br><br>\tprivate int tail = 0;<br><br>\tprivate int size = 0;<br><br>\tpublic CircularQueue(int capacity) {<br>\t\titems = new String[capacity];<br>\t\tn = capacity;<br>\t}<br><br>\t&#47;** å…¥é˜Ÿ *&#47;<br>\tpublic boolean enqueue(String item) {<br>\t\t&#47;**å¦‚æœé˜Ÿåˆ—å·²æ»¡*&#47;<br>\t\tif (size == n) {<br>\t\t\treturn false;<br>\t\t}<br>\t\titems[tail] = item;<br>\t\ttail = (tail + 1) % n;<br>\t\tsize++;<br>\t\treturn true;<br>\t}<br><br>\t&#47;** å‡ºé˜Ÿ *&#47;<br>\tpublic String dequeue() {<br>\t\tif (size == 0) {<br>\t\t\treturn null;<br>\t\t}<br>\t\tString ret = items[head];<br>\t\thead = (head + 1) % n;<br>\t\tsize--;<br>\t\treturn ret;<br>\t}<br><br><br>}<br>è¿™æ ·ä¸æµªè´¹ä¸€ä¸ªç©ºé—´ï¼Œä¸è¡Œå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":314745,"user_name":"Geek_c311eb","can_delete":false,"product_type":"c1","uid":1906736,"ip_address":"","ucode":"EF4D7C0A9BB89E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/gq1EeEEFPQibTRnCaZKZSEyLmfRpMianfxr5Jib0HW24GcDnE24xEAsiby9N0jPemrSkCulm453I6qiabloqjoOGc7Q/132","comment_is_top":false,"comment_ctime":1633397202,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633397202","product_id":100017301,"comment_content":"é¡ºåºé˜Ÿåˆ—ï¼š<br>package com.queue;<br><br>&#47;&#47;ç”¨æ•°ç»„å®ç°é˜Ÿåˆ—<br>public class ArrayQueue {<br><br>\tprivate String[] items;<br>\tprivate int n = 0;<br><br>\tprivate int head = 0;<br>\tprivate int tail = 0;<br><br>\tpublic ArrayQueue(int capacity) {<br>\t\titems = new String[capacity];<br>\t\tn = capacity;<br>\t}<br><br>\t&#47;*<br>\t * å…¥é˜Ÿ<br>\t *&#47;<br>&#47;&#47;\tpublic boolean enqueue(String item) {<br>&#47;&#47;\t\tif(tail == n) return false;<br>&#47;&#47;\t\titems[tail] = item;<br>&#47;&#47;\t\t++tail;<br>&#47;&#47;\t\treturn true;<br>&#47;&#47;\t}<br>\tpublic boolean enqueue(String item) {<br>\t\tif (tail == n) {<br>\t\t\t&#47;&#47; tail==n&amp;&amp;head==0 è¡¨ç¤ºé˜Ÿåˆ—å·²æ»¡<br>\t\t\tif (head == 0)<br>\t\t\t\treturn false;<br>\t\t\t&#47;&#47; æ•°æ®æ¬ç§»<br>\t\t\tfor (int i = head; i &lt; tail; i++) {<br>\t\t\t\titems[i - head] = items[i];<br>\t\t\t}<br>\t\t\t&#47;&#47; æ¬ç§»å®Œåé‡æ–°æ›´æ–°headå’Œtail<br>\t\t\ttail -= head;<br>\t\t\thead = 0;<br>\t\t}<br>\t\titems[tail] = item;<br>\t\t++tail;<br>\t\treturn true;<br>\t}<br><br>\t&#47;*<br>\t * å‡ºé˜Ÿ<br>\t *&#47;<br>\tpublic String deQueue() {<br>\t\tif (head == tail)<br>\t\t\treturn null;<br>\t\tString ret = items[head];<br>\t\t++head;<br>\t\treturn ret;<br>\t}<br>}<br>å¾ªç¯é˜Ÿåˆ—ï¼š<br>package com.queue;<br>&#47;*<br> * å¾ªç¯é˜Ÿåˆ—<br> *&#47;<br>public class CircularQueue {<br>\t<br>\tprivate String items[];<br>\tprivate int n;<br>\t<br>\tprivate int head = 0;<br>\tprivate int tail = 0;<br>\t<br>\t&#47;&#47;ç”³è¯·ä¸€ä¸ªå¤§å°ä¸ºnçš„æ•°ç»„ç©ºé—´<br>\tpublic CircularQueue(int capacity) {<br>\t\titems = new String[capacity];<br>\t\tn = capacity;<br>\t}<br>\t&#47;*<br>\t * å…¥é˜Ÿ<br>\t *&#47;<br>\tpublic boolean enqueue(String item) {<br>\t\tif((tail + 1) %n == head) return false;<br>\t\titems[tail + 1] = item;<br>\t\t++tail;<br>\t\treturn true;<br>\t}<br>\t&#47;*<br>\t * å‡ºé˜Ÿ<br>\t *&#47;<br>\tpublic String dequeue() {<br>\t\t&#47;&#47;é˜Ÿç©º<br>\t\tif(head == tail) return null;<br>\t\tString ret = items[head];<br>\t\t++head;<br>\t\treturn ret;<br>\t}<br>}<br><br>","like_count":0},{"had_liked":false,"id":314454,"user_name":"å€”å¼º","can_delete":false,"product_type":"c1","uid":2792413,"ip_address":"","ucode":"4C588A1E7C0F7C","user_header":"https://static001.geekbang.org/account/avatar/00/2a/9b/dd/97a690a2.jpg","comment_is_top":false,"comment_ctime":1633077308,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633077308","product_id":100017301,"comment_content":"è€å¸ˆï¼Œ%nçš„èŒƒå›´æ˜¯0~n-1å§ï¼Œå°±åƒ%2èŒƒå›´æ˜¯0~1.","like_count":0},{"had_liked":false,"id":314403,"user_name":"Geek1372","can_delete":false,"product_type":"c1","uid":2715312,"ip_address":"","ucode":"53157C4CB29040","user_header":"","comment_is_top":false,"comment_ctime":1632998168,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632998168","product_id":100017301,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œdequeue æ—¶éœ€è¦å°† head ä½ç½®æ•°ç»„çš„å¼•ç”¨è®¾ä¸º nullï¼Œå¦åˆ™æ•°ç»„ä¸­çš„å¼ºå¼•ç”¨ï¼Œæœªé‡Šæ”¾å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼","like_count":0},{"had_liked":false,"id":314258,"user_name":"ä¿¯ç°é£æ™¯.","can_delete":false,"product_type":"c1","uid":1044166,"ip_address":"","ucode":"A6DB68B7B84AEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/c6/bebcbcf0.jpg","comment_is_top":false,"comment_ctime":1632917260,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632917260","product_id":100017301,"comment_content":"é˜Ÿåˆ—ä¹Ÿæ˜¯æ“ä½œå—é™çš„çº¿æ€§è¡¨ï¼Œç‰¹å¾æ˜¯å…ˆè¿›å…ˆå‡ºã€‚ç°å®ä¸­æœ‰å¾ˆå¤šåœºæ™¯ç¬¦åˆå…ˆè¿›å…ˆå‡ºçš„è§„å¾‹ï¼Œæ‰€ä»¥é˜Ÿåˆ—çš„åº”ç”¨éå¸¸å¹¿æ³›ã€‚é˜Ÿåˆ—åªæœ‰ç®€å•çš„å‡ºé˜Ÿå’Œå…¥é˜Ÿæ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚<br><br>åªè¦åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„ï¼Œå°±ä¼šæ¶‰åŠåˆ°æ‰©å®¹å’Œæ•°æ®æ¬ç§»ï¼Œæ‰€ä»¥ç”¨æ•°ç»„å®ç°çš„æ ˆå’Œé˜Ÿåˆ—éšç€æ•°æ®é‡çš„å¢å¤§éƒ½éœ€è¦è¿›è¡Œæ‰©å®¹ã€‚","like_count":0},{"had_liked":false,"id":311128,"user_name":"Dale","can_delete":false,"product_type":"c1","uid":1242602,"ip_address":"","ucode":"AD19A33FE5EEDF","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/ea/5f046856.jpg","comment_is_top":false,"comment_ctime":1631081562,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631081562","product_id":100017301,"comment_content":"æ„Ÿè§‰è¿™é‡Œçš„â€œå¾ªç¯é˜Ÿåˆ—â€ï¼Œæ²¡æœ‰çœŸæ­£å½¢æˆâ€œç¯â€è¿™ä¸ªæ„æ€ï¼Œæ›´åƒåªæ˜¯ç»™ä¸€ä¸ªæ™®é€šçš„é˜Ÿåˆ—ï¼Œè®¾ç½®äº†ä¸€ä¸ªæœ€å¤§é•¿åº¦è€Œå·²ã€‚","like_count":0},{"had_liked":false,"id":310621,"user_name":"çµé‡","can_delete":false,"product_type":"c1","uid":2748661,"ip_address":"","ucode":"A27475F0F5EB67","user_header":"https://static001.geekbang.org/account/avatar/00/29/f0/f5/2f71e7e9.jpg","comment_is_top":false,"comment_ctime":1630805584,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630805584","product_id":100017301,"comment_content":"ä¸ºå•¥æ²¡é˜Ÿåˆ—çš„æ¨èé¢˜ç›®","like_count":0},{"had_liked":false,"id":309151,"user_name":"ğŸŒ´æ—å­æ´›","can_delete":false,"product_type":"c1","uid":2744724,"ip_address":"","ucode":"DE0C88D16AADF8","user_header":"https://static001.geekbang.org/account/avatar/00/29/e1/94/2c5e62d1.jpg","comment_is_top":false,"comment_ctime":1629962078,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629962078","product_id":100017301,"comment_content":"æ€è€ƒé¢˜æœ‰ç‚¹ä¸æ‡‚äº†å‘€ã€‚ã€‚çº¿ç¨‹æ± è¿˜æ²¡äº†è§£","like_count":0},{"had_liked":false,"id":309086,"user_name":"æ‰˜é©¬æ–¯èµµå››","can_delete":false,"product_type":"c1","uid":2712653,"ip_address":"","ucode":"F9FA980A9F8A1C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/kBKTRyV4wnhV4YN9iaFgKYIJ4451n0zIiazFumcSpCXdEDhdexgc8PQdrDEmy4BCOUgsUlibicEwQlGo6K5Nibv7SEg/132","comment_is_top":false,"comment_ctime":1629939106,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629939106","product_id":100017301,"comment_content":"nodejsçš„äº‹ä»¶è½®è¯¢ä¸kafkaçš„è½®è¯¢æœºåˆ¶ä¹Ÿæ˜¯æ’é˜Ÿé˜Ÿåˆ—çš„åŸºç¡€ä¸Šå®ç°çš„<br>ä½¿ç”¨é“¾å¼é˜Ÿåˆ—æ¥å®ç°æ— é”é˜Ÿåˆ—ï¼Ÿï¼Ÿ","like_count":0},{"had_liked":false,"id":308995,"user_name":"15652825355","can_delete":false,"product_type":"c1","uid":2280639,"ip_address":"","ucode":"4186B4AEB101DB","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqs5jaG6dMPpYCeZAbiawyMPe4ib1xCiccdbdOeox1OeJqUVbnOul5TVBibFWR8eibRW2R6T4amibeOTVuw/132","comment_is_top":false,"comment_ctime":1629884020,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629884020","product_id":100017301,"comment_content":"iOSä¸­çš„å¤šçº¿ç¨‹,å¹¶å‘é˜Ÿåˆ—,ä¸²è¡Œé˜Ÿåˆ—,ä¸»é˜Ÿåˆ—","like_count":0},{"had_liked":false,"id":308113,"user_name":"æå¶","can_delete":false,"product_type":"c1","uid":1470449,"ip_address":"","ucode":"41B33FA8526E48","user_header":"https://static001.geekbang.org/account/avatar/00/16/6f/f1/35f9f16f.jpg","comment_is_top":false,"comment_ctime":1629418092,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629418092","product_id":100017301,"comment_content":"é˜Ÿåˆ—åº”ç”¨äºçº¿ç¨‹æ± ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ï¼Œåˆ¤ç©ºåˆ¤æ»¡æ˜¯å…³é”®","like_count":0},{"had_liked":false,"id":307139,"user_name":"while (1)ç­‰;","can_delete":false,"product_type":"c1","uid":1061991,"ip_address":"","ucode":"BAEC7258D65B69","user_header":"https://static001.geekbang.org/account/avatar/00/10/34/67/06a7f9be.jpg","comment_is_top":false,"comment_ctime":1628906223,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1628906223","product_id":100017301,"comment_content":"â€œå¾ªç¯é˜Ÿåˆ—ä¼šæµªè´¹ä¸€ä¸ªæ•°ç»„çš„å­˜å‚¨ç©ºé—´ã€‚â€ï¼Œé˜Ÿåˆ—æ»¡æ—¶ï¼Œtailä¹Ÿç­‰äºheadä¸å¯ä»¥å—ï¼Ÿç©ºçš„æ—¶å€™tail=head<br>=nilï¼Œæ»¡çš„æ—¶å€™tail=head<br>=å…·ä½“çš„å€¼","like_count":0},{"had_liked":false,"id":306230,"user_name":"dog_brother","can_delete":false,"product_type":"c1","uid":1619597,"ip_address":"","ucode":"9F64D3C6D815FB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er6OV33jHia3U9LYlZEx2HrpsELeh3KMlqFiaKpSAaaZeBttXRAVvDXUgcufpqJ60bJWGYGNpT7752w/132","comment_is_top":false,"comment_ctime":1628446641,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1628446641","product_id":100017301,"comment_content":"åˆ†äº«ä¸€ä¸ªé“¾æ¥ï¼Œæ¨èç»™C++çš„åŒå­¦çœ‹ï¼Œå…³äºSTLä¸­dequeçš„å®ç°<br>https:&#47;&#47;www.zhihu.com&#47;question&#47;360025286","like_count":0},{"had_liked":false,"id":306176,"user_name":"Geek_26c95d","can_delete":false,"product_type":"c1","uid":1466617,"ip_address":"","ucode":"AA1F4E9548439F","user_header":"https://static001.geekbang.org/account/avatar/00/16/60/f9/0417a5dc.jpg","comment_is_top":false,"comment_ctime":1628418856,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1628418856","product_id":100017301,"comment_content":"å…³äºå¾ªç¯é˜Ÿåˆ— åˆ¤æ»¡å’Œåˆ¤ç©º æ˜¯ä¸æ˜¯é€šè¿‡ç»´æŠ¤ä¸€ä¸ªå˜é‡sizeï¼ˆå½“å‰é˜Ÿåˆ—å…ƒç´ ä¸ªæ•°ï¼‰æ›´æ–¹ä¾¿ã€‚åˆ¤æ»¡ size=capaticyã€åˆ¤ç©º size=0ã€‚è¿™æ ·å¾ªç¯é˜Ÿåˆ—ä¹Ÿä¸ä¼šå‡ºç°æœ‰ä¸€ä¸ªä½ç½®è¢«æµªè´¹çš„é—®é¢˜äº†ã€‚","like_count":0},{"had_liked":false,"id":304677,"user_name":"å¼—æ‹‰é—¨æˆˆ","can_delete":false,"product_type":"c1","uid":1326281,"ip_address":"","ucode":"557C138B0E6F9B","user_header":"https://static001.geekbang.org/account/avatar/00/14/3c/c9/105f93a5.jpg","comment_is_top":false,"comment_ctime":1627546940,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627546940","product_id":100017301,"comment_content":"è€å¸ˆï¼Œæˆ‘æµ‹è¯•äº†ï¼Œç¬¬äºŒæ®µä»£ç ã€‚<br> items[tail] = item;    <br> ++tail; <br>è¿™ä¸¤è¡Œä»£ç æ˜¯ä¸æ˜¯éœ€è¦æ¢ä¸€ä¸ªä½ç½®ã€‚åœ¨é˜Ÿåˆ—æ²¡æœ‰æ»¡çš„æƒ…å†µã€‚ä¼šæœ‰ä¸€ä¸ªæ•°æ®ä¸¢å¤±ã€‚","like_count":0},{"had_liked":false,"id":301144,"user_name":"çº¢å°˜","can_delete":false,"product_type":"c1","uid":1445504,"ip_address":"","ucode":"CCCD5736755DF5","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/gVfU7icdia3o5ZNaHjaWAdgkSYIpU1rdhIlVYiahYCvRlDZu2K6oPSvVobNjzwZbUaiayQcKjicZ44WjfWJCj5xdlPA/132","comment_is_top":false,"comment_ctime":1625552306,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625552306","product_id":100017301,"comment_content":"é˜Ÿåˆ—<br>é˜Ÿåˆ—ä¸æ ˆç›¸åï¼Œé˜Ÿåˆ—æ˜¯å…ˆè¿›å…ˆå‡º<br>é˜Ÿåˆ—çš„åŒºåˆ†<br>1ï¼šé‡‡ç”¨æ•°ç»„å®ç°çš„é˜Ÿåˆ—ï¼Œ å«åšé¡ºåºé˜Ÿåˆ—<br>2ï¼šé‡‡ç”¨é“¾è¡¨å®ç°çš„é˜Ÿåˆ—ï¼Œå«åšé“¾å¼é˜Ÿåˆ—<br>å°†æ•°æ®æ”¾å…¥é˜Ÿåˆ—å°¾éƒ¨ï¼Œå«åšå…¥é˜Ÿï¼Œå°†æ•°æ®ä»é˜Ÿåˆ—å¤´éƒ¨å–å‡ºï¼Œå«åšå‡ºé˜Ÿ<br>é˜Ÿåˆ—å’Œæ ˆä¸€æ ·ï¼Œéƒ½æ˜¯ä¸€ç§å—é™çš„çº¿æ€§è¡¨æ•°æ®ç»“æ„ã€‚<br>é™¤äº†é¡ºåºé˜Ÿåˆ—å’Œé“¾å¼é˜Ÿåˆ—ä»¥å¤–è¿˜åˆ†ä¸ºï¼Œå¾ªç¯é˜Ÿåˆ—ï¼Œé˜»å¡é˜Ÿåˆ—ï¼Œå¹¶å‘é˜Ÿåˆ—ã€‚<br>å®ç°é˜Ÿåˆ—ä¼šé‡‡ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘å¯¹å¤´ï¼Œä¸€ä¸ªæŒ‡å‘é˜Ÿå°¾ï¼Œå…¥é˜Ÿå°†é˜Ÿå°¾æŒ‡é’ˆ+1ï¼Œå‡ºé˜Ÿä¹Ÿå°†å¯¹å¤´æŒ‡é’ˆ+1ï¼Œè¿™æ ·æ¯”è¾ƒäº†æ•°ç»„æ‰©å®¹ï¼Œæˆ–è€…ç”Ÿæˆæ–°çš„é“¾è¡¨ã€‚<br>æ™®é€šé˜Ÿåˆ—ï¼ˆé¡ºåºé˜Ÿåˆ—ï¼Œé“¾å¼é˜Ÿåˆ—ï¼‰ï¼Œå…¥é˜Ÿçš„è¯ï¼Œå½“è¿˜æœ‰ç”¨äºæ—¶é—´çš„æ—¶å€™ï¼Œç›´æ¥æ’å…¥æ•°ç»„å°¾éƒ¨ï¼Œå½“æ•°ç»„æ²¡æœ‰ç©ºä½™æ—¶é—´çš„æ—¶å€™ï¼Œå°±ä¼šè¿›è¡Œæ‰©å®¹ï¼Œä¼šè§¦å‘ä¸€æ¬¡æ•°ç»„çš„æ¬ç§»å·¥ä½œã€‚<br>å¾ªç¯é˜Ÿåˆ—ï¼šé‡‡ç”¨å¾ªç¯é“¾è¡¨å®ç°ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨æ•°ç»„å®ç°ï¼Œä¸»è¦æ˜¯æ³¨æ„çš„æ˜¯ä¸´ç•Œé—®é¢˜ï¼Œå¾ªç¯æ•°ç»„çš„é˜Ÿå°¾ä¸‹æ ‡ä¸€ç›´ä¸ä¼šå­˜æ”¾å…ƒç´ ï¼Œå½“é˜Ÿå°¾ä¸‹æ ‡=å¯¹å¤´ä¸‹æ ‡ï¼Œè¡¨ç¤ºå½“å‰å¾ªç¯æ•°ç»„ä¸ºç©ºï¼Œå› ä¸ºé˜Ÿå°¾ä¸‹æ ‡ä¸€ç›´ä¸ä¼šå­˜æ”¾å…ƒç´ ï¼Œæ‰€ä»¥å½“æ»¡è¶³å…¬å¼ ï¼ˆé˜Ÿå°¾ä¸‹æ ‡+1ï¼‰%n = å¯¹å¤´ä¸‹æ ‡ï¼Œè¡¨ç¤ºå°±åœ¨é˜Ÿå°¾ï¼Œå°±ä¼šè¿›è¡Œæ‰©å®¹æ“ä½œï¼Œ<br>é˜»å¡é˜Ÿåˆ—ï¼šç®€å•æ¥è¯´å°±æ˜¯ï¼Œå½“é˜Ÿåˆ—æ²¡æœ‰æ•°æ®çš„æ—¶å€™ï¼Œå‡ºé˜Ÿæ“ä½œä¼šè¿›è¡Œé˜»å¡ï¼Œå½“é˜Ÿåˆ—æ»¡äº†çš„æ—¶å€™å‡ºé˜Ÿæ“ä½œä¹Ÿä¼šè¿›è¡Œé˜»å¡ï¼Œå°±å’Œgolangé‡Œé¢çš„ç®¡é“ç±»ä¼¼<br>å¹¶å‘é˜Ÿåˆ—ï¼šå› ä¸ºå½“åŒæ—¶å¤šä¸ªçº¿ç¨‹è¿›è¡Œå…¥é˜Ÿå’Œå‡ºé˜Ÿçš„æ—¶å€™ï¼Œå®¹æ˜“äº§ç”Ÿå¹¶å‘é—®é¢˜ï¼Œæ‰€ä»¥ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨å‡ºé˜Ÿæˆ–è€…å…¥é˜Ÿçš„æ—¶å€™åŠ ä¸Šé”ï¼Œè¿™æ ·çš„è¯å°±å½¢æˆäº†ä¸€ä¸ªé«˜æ•ˆçš„å¹¶å‘é˜Ÿåˆ—ã€‚<br>çº¿ç¨‹æ± ä¸­æ²¡æœ‰ç©ºé—²çš„çº¿ç¨‹æ—¶ï¼Œæœ‰ä¸¤ç§å¤„ç†æ–¹å¼ï¼Œéé˜»å¡çš„å¤„ç†æ–¹å¼ï¼Œç›´æ¥æ‹’ç»è¯·æ±‚ï¼Œç¬¬äºŒç§ï¼Œé‡‡ç”¨é˜»å¡çš„å¤„ç†æ–¹å¼çš„æ—¶å€™ï¼Œå°†ä»»åŠ¡èµ„æºè¿›è¡Œæ’é˜Ÿï¼Œæ–°å»ºä¸€ä¸ªé˜Ÿåˆ—è¿›è¡Œæ’é˜Ÿè¯·æ±‚ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰ç•Œçš„é˜Ÿåˆ—ï¼Œè¿™ä¸ªæ—¶å€™ä¹Ÿæœ‰ä¸¤ç§æƒ…å†µï¼Œç¬¬ä¸€ç§ï¼Œå½“æœ‰ç•Œé˜Ÿåˆ—æ²¡æœ‰æ»¡çš„æ—¶å€™ï¼Œç›´æ¥æ”¾è¡Œï¼Œç¬¬äºŒç§æƒ…å†µï¼Œå½“æœ‰ç•Œé˜Ÿåˆ—æ»¡äº†ä¹‹åï¼Œç›´æ¥æ‹’ç»æ–°çš„ä»»åŠ¡è¯·æ±‚","like_count":0},{"had_liked":false,"id":300352,"user_name":"up","can_delete":false,"product_type":"c1","uid":2667806,"ip_address":"","ucode":"7D1C25BBBEBCDB","user_header":"https://static001.geekbang.org/account/avatar/00/28/b5/1e/0e42696c.jpg","comment_is_top":false,"comment_ctime":1625125618,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625125618","product_id":100017301,"comment_content":"golang é‡Œé¢çš„channel ç›¸å½“äºé˜»å¡é˜Ÿåˆ—ï¼Œå¹¶ä¸”æ˜¯å¹¶å‘å®‰å…¨çš„ã€‚","like_count":0},{"had_liked":false,"id":300076,"user_name":"è‰å±¥è™«","can_delete":false,"product_type":"c1","uid":1955304,"ip_address":"","ucode":"DE0917664B00EA","user_header":"https://static001.geekbang.org/account/avatar/00/1d/d5/e8/ac41cf5c.jpg","comment_is_top":false,"comment_ctime":1624976502,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624976502","product_id":100017301,"comment_content":"è¯·é—®è€å¸ˆï¼šå¾ªç¯é˜Ÿåˆ—åˆ¤æ–­é˜Ÿç©ºå’Œé˜Ÿæ»¡ï¼Œå‡å¦‚ç”¨taill === head &amp;&amp; tail.next !== null çš„æ—¶å€™é˜Ÿæ»¡ï¼›taill ===head &amp;&amp; tail.next === null çš„æ—¶å€™é˜Ÿç©ºï¼Œæ˜¯å¦å¯ä»¥å•Šï¼Œæˆ–è€…æœ‰ä»€ä¹ˆç ´ç»½ï¼Ÿ","like_count":0},{"had_liked":false,"id":297369,"user_name":"æµ·å´–","can_delete":false,"product_type":"c1","uid":2552745,"ip_address":"","ucode":"9D42E0B0D30A56","user_header":"https://static001.geekbang.org/account/avatar/00/26/f3/a9/bb9d8450.jpg","comment_is_top":false,"comment_ctime":1623488340,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623488340","product_id":100017301,"comment_content":"å®~æ‰“å¡<br>è¿˜å¯ä»¥é€šè¿‡é˜Ÿåˆ—å®ç°ç½‘ç»œæ¶ˆæ¯é˜Ÿåˆ—ã€‚","like_count":0},{"had_liked":false,"id":296347,"user_name":"å°Y","can_delete":false,"product_type":"c1","uid":1739621,"ip_address":"","ucode":"24A43BB71805F8","user_header":"https://static001.geekbang.org/account/avatar/00/1a/8b/65/0f1f9a10.jpg","comment_is_top":false,"comment_ctime":1622909479,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1622909479","product_id":100017301,"comment_content":"æˆ‘æƒ³é—®ä¸ªæœ‰ç‚¹è ¢çš„é—®é¢˜ï¼Œ( :<br>æ˜¯ä¸æ˜¯åœ¨æˆ‘ä»¬çš„è®¾è®¡æˆ–è€…è§‚å¿µä¸­<br>é˜Ÿåˆ—å°±æ²¡æœ‰æ‰©å®¹çš„è¿™ç§æ“ä½œäº†ï¼Ÿ<br>æ¯”å¦‚æƒ³ä½¿ç”¨æ— ç•Œé˜Ÿåˆ—ï¼Œå°±ä¸€èˆ¬åŸºäºé“¾è¡¨å®ç°ï¼Œå¦‚æœæ˜¯åŸºäºæ•°ç»„å®ç°çš„é˜Ÿåˆ—ï¼Œå°±é»˜è®¤æˆ‘ä»¬æ˜¯æœ‰ç•Œçš„é˜Ÿåˆ—äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2573820,"avatar":"","nickname":"Geek_57fcf1","note":"","ucode":"443D98C591CDAD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381604,"discussion_content":"å³ä¾¿æ˜¯æ•°ç»„é˜Ÿåˆ—ï¼Œä¹Ÿèƒ½å®ç°åŠ¨æ€æ‰©å®¹å§ï¼Œå…·ä½“å®ç°éš¾é“ä¸æ˜¯çœ‹ä¸ªäººéœ€æ±‚å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625141294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1739621,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/8b/65/0f1f9a10.jpg","nickname":"å°Y","note":"","ucode":"24A43BB71805F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2573820,"avatar":"","nickname":"Geek_57fcf1","note":"","ucode":"443D98C591CDAD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385725,"discussion_content":"ä¹Ÿæ˜¯å“ˆï¼Œå˜¿å˜¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627228367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":381604,"ip_address":""},"score":385725,"extra":""}]}]},{"had_liked":false,"id":295967,"user_name":"ä¸‹é›¨å¤©","can_delete":false,"product_type":"c1","uid":1413399,"ip_address":"","ucode":"FB3851E3A79C3B","user_header":"https://static001.geekbang.org/account/avatar/00/15/91/17/89c3d249.jpg","comment_is_top":false,"comment_ctime":1622685580,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622685580","product_id":100017301,"comment_content":"å…¥é˜Ÿçš„æ—¶å€™ï¼Œç”¨tail = (tail+1) % len(æ•°ç»„é•¿åº¦)  æ˜¯ä¸æ˜¯æ›´ç®€æ´ä¸€äº›","like_count":0},{"had_liked":false,"id":291789,"user_name":"yang","can_delete":false,"product_type":"c1","uid":1940562,"ip_address":"","ucode":"67C86E09BA6E4B","user_header":"https://static001.geekbang.org/account/avatar/00/1d/9c/52/dc770378.jpg","comment_is_top":false,"comment_ctime":1620480409,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620480409","product_id":100017301,"comment_content":"è€å¸ˆï¼Œæˆ‘åœ¨leetcodeä¸Šåšä½œä¸šäº†å“¦ï¼Œå¤ªå¼€å¿ƒå•¦ã€‚å…¶å®æˆ‘å‘ç°åŠ äº†sizeä¸ä¼šå½±å“å†…å­˜æ•ˆç‡ï¼Œåæ­£æˆ‘åŠ äº†ï¼Œè€Œä¸”æˆ‘çš„å†…å­˜æ¶ˆè€—è¿˜æ˜¯æ¯”è¾ƒå°‘çš„ã€‚ä»£ç æ”¾ä¸Šï¼Œè¯·ç‹è€å¸ˆå¤šæŒ‡æ•™ï¼<br><br>class MyCircularQueue {<br><br>    private int head;<br>    private int tail;<br>    private int[] data;<br>    private int len;<br>    private int count;<br><br><br>    public MyCircularQueue(int k) {<br>        head = 0;<br>        tail = 0;<br>        len = k;<br>        count = 0;<br>        data = new int[k];   <br><br>    }<br>    <br>    public boolean enQueue(int value) {<br>        if(isFull())    return false;<br>        else{<br>                data[tail] = value;<br>                tail=(tail+1)%len;<br>                count++;<br>                return true;<br>        }<br>        <br>    }<br>    <br>    public boolean deQueue() {<br>        if(isEmpty()) return false;<br>        else{<br>            head=(head+1)%len;<br>            count--;<br>            return true;<br>        }<br>    }<br>    <br>    public int Front() {<br>        if(isEmpty()) return -1;<br>        else{           <br>            return data[head];<br>        }<br>    }<br>    <br>    public int Rear() {<br>        if(isEmpty()) return -1;<br>        else return data[(tail+len-1)%len];<br>        <br>    }<br>    <br>    public boolean isEmpty() {<br><br>        if( count==0)<br>            return true;<br>        else <br>            return false; <br>              <br><br>    }<br>    <br>    public boolean isFull() {<br>        if(count == len)<br>            return true;<br>        else <br>            return false;    <br><br>    }<br>}<br><br>&#47;**<br> * Your MyCircularQueue object will be instantiated and called as such:<br> * MyCircularQueue obj = new MyCircularQueue(k);<br> * boolean param_1 = obj.enQueue(value);<br> * boolean param_2 = obj.deQueue();<br> * int param_3 = obj.Front();<br> * int param_4 = obj.Rear();<br> * boolean param_5 = obj.isEmpty();<br> * boolean param_6 = obj.isFull();<br> *&#47;","like_count":0},{"had_liked":false,"id":290943,"user_name":"åŒæœ¨å…¬å­","can_delete":false,"product_type":"c1","uid":1116567,"ip_address":"","ucode":"751885864D3AB7","user_header":"https://static001.geekbang.org/account/avatar/00/11/09/97/4314e2d8.jpg","comment_is_top":false,"comment_ctime":1619869995,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619869995","product_id":100017301,"comment_content":"1. åˆ†å¸ƒå¼åº”ç”¨ä¸­çš„æ¶ˆæ¯é˜Ÿåˆ—æ˜¯é˜Ÿåˆ—ç»“æ„ã€‚<br>2. ä½¿ç”¨CASå®ç°æ— é”é˜Ÿåˆ—ï¼Œåœ¨å…¥é˜Ÿä¹‹å‰ï¼Œè·å–tailä½ç½®ï¼Œå…¥é˜Ÿæ—¶æ¯”è¾ƒtailæ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœå¦ï¼Œåˆ™å…è®¸å…¥é˜Ÿï¼Œåä¹‹æœ¬æ¬¡å…¥é˜Ÿå¤±è´¥ã€‚å‡ºé˜Ÿåˆ™æ˜¯è·å–headä½ç½®ï¼Œè¿›è¡Œcas<br>","like_count":0},{"had_liked":false,"id":290244,"user_name":"é¢œæ¡¦","can_delete":false,"product_type":"c1","uid":1099576,"ip_address":"","ucode":"1CD7250E052B32","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/38/d1a50cd6.jpg","comment_is_top":false,"comment_ctime":1619446462,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619446462","product_id":100017301,"comment_content":"æœç„¶æ˜¯ä¸€å›ç”Ÿä¸¤å›ç†Ÿï¼Œç¬¬ä¸€æ¬¡æ²¡çœ‹æ‡‚çš„ç¬¬äºŒæ¬¡ç§’æ‡‚ï¼Œæ„Ÿè°¢è€å¸ˆğŸ‘¨â€ğŸ«","like_count":0},{"had_liked":false,"id":289619,"user_name":"ä½ å¥½ï¼Œé˜³å…‰","can_delete":false,"product_type":"c1","uid":2145095,"ip_address":"","ucode":"1A2F487C57F7D9","user_header":"https://static001.geekbang.org/account/avatar/00/20/bb/47/b60ae3eb.jpg","comment_is_top":false,"comment_ctime":1619101140,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619101140","product_id":100017301,"comment_content":"è¯¾åæ€è€ƒï¼š1.æˆ‘çŸ¥é“çš„è¿˜æœ‰æ•°æ®åº“è¿æ¥æ± ã€ WebæœåŠ¡å™¨çš„è¯·æ±‚è¿æ¥æ±  2. åŸå…ˆä¸çŸ¥é“ï¼Œçœ‹äº†ç²¾é€‰ç•™è¨€ä¹‹åçŸ¥é“CASå¯ä»¥å®ç°æ— é”å¹¶å‘é˜Ÿåˆ—ï¼ŒåŸºæœ¬æ€æƒ³å°±æ˜¯åœ¨å…¥é˜Ÿã€å‡ºé˜Ÿå‰å’Œå…¥é˜Ÿã€å‡ºé˜Ÿæ—¶æ£€æŸ¥é˜Ÿåˆ—çš„headå’ŒtailæŒ‡é’ˆæœ‰æ— å˜åŠ¨","like_count":0},{"had_liked":false,"id":289283,"user_name":"Geek_bethel","can_delete":false,"product_type":"c1","uid":2541943,"ip_address":"","ucode":"C6313699A95B02","user_header":"https://static001.geekbang.org/account/avatar/00/26/c9/77/bf372419.jpg","comment_is_top":false,"comment_ctime":1618968423,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618968423","product_id":100017301,"comment_content":"å°ç»“ï¼š<br>é˜Ÿåˆ—è·Ÿæ ˆä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ç§æ“ä½œå—é™çš„çº¿æ€§è¡¨æ•°æ®ç»“æ„ã€‚<br>é˜Ÿåˆ—è·Ÿæ ˆéå¸¸ç›¸ä¼¼ï¼Œæ”¯æŒçš„æ“ä½œä¹Ÿå¾ˆæœ‰é™ï¼Œæœ€åŸºæœ¬çš„æ“ä½œä¹Ÿæ˜¯ä¸¤ä¸ª:<br>å…¥é˜Ÿenqueue()ï¼Œæ”¾ä¸€ä¸ªæ•°æ®åˆ° é˜Ÿåˆ—å°¾éƒ¨;<br>å‡ºé˜Ÿdequeue()ï¼Œä»é˜Ÿåˆ—å¤´éƒ¨å–ä¸€ä¸ªå…ƒç´ ã€‚<br><br>ç”¨æ•°ç»„å®ç°çš„é˜Ÿåˆ—å«ä½œé¡ºåºé˜Ÿåˆ—ï¼Œ ç”¨é“¾è¡¨å®ç°çš„é˜Ÿåˆ—å«ä½œé“¾å¼é˜Ÿåˆ—ã€‚<br><br>å¾ªç¯é˜Ÿåˆ—ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒé•¿å¾—åƒä¸€ä¸ªç¯ã€‚åŸæœ¬æ•°ç»„æ˜¯æœ‰å¤´æœ‰å°¾çš„ï¼Œæ˜¯ä¸€æ¡ç›´çº¿ã€‚ç°åœ¨æˆ‘ä»¬æŠŠé¦–å°¾ç›¸è¿ï¼Œæ‰³æˆäº†ä¸€ä¸ªç¯ã€‚<br>è¦æƒ³å†™å‡ºæ²¡æœ‰bugçš„å¾ªç¯é˜Ÿåˆ—çš„å®ç°ä»£ç ï¼Œæœ€å…³é”®çš„æ˜¯ï¼Œç¡®å®šå¥½é˜Ÿç©ºå’Œé˜Ÿæ»¡çš„åˆ¤å®šæ¡ä»¶ã€‚<br><br>é˜»å¡é˜Ÿåˆ—å…¶å®å°±æ˜¯åœ¨é˜Ÿåˆ—åŸºç¡€ä¸Šå¢åŠ äº†é˜»å¡æ“ä½œã€‚<br>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™ï¼Œä»é˜Ÿå¤´å–æ•°æ®ä¼šè¢«é˜»å¡ã€‚å› ä¸ºæ­¤æ—¶è¿˜æ²¡æœ‰æ•°æ®å¯å–ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰äº†æ•°æ®æ‰èƒ½è¿”å›;<br>å¦‚æœé˜Ÿåˆ—å·²ç»æ»¡äº†ï¼Œé‚£ä¹ˆæ’å…¥æ•°æ®çš„æ“ä½œå°±ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰ç©ºé—²ä½ç½®åå†æ’å…¥æ•°æ®ï¼Œç„¶åå†è¿”å›ã€‚<br>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é˜»å¡é˜Ÿåˆ—ï¼Œè½»æ¾å®ç°ä¸€ä¸ªâ€œç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹â€! è¿™ç§åŸºäºé˜»å¡é˜Ÿåˆ—å®ç°çš„â€œç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹â€ï¼Œå¯ä»¥æœ‰æ•ˆåœ°åè°ƒç”Ÿäº§å’Œæ¶ˆè´¹çš„é€Ÿåº¦ã€‚<br><br>çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—æˆ‘ä»¬å«ä½œå¹¶å‘é˜Ÿåˆ—ã€‚æœ€ç®€å•ç›´æ¥çš„å®ç°æ–¹å¼æ˜¯ç›´æ¥åœ¨enqueue()ã€dequeue()æ–¹æ³•ä¸ŠåŠ é”ï¼Œä½†æ˜¯é”ç²’åº¦å¤§å¹¶å‘åº¦ä¼šæ¯”è¾ƒä½ï¼ŒåŒä¸€æ—¶åˆ»ä»…å…è®¸ä¸€ä¸ªå­˜æˆ–è€…å–æ“ä½œã€‚<br>å®é™…ä¸Šï¼ŒåŸºäºæ•°ç»„çš„å¾ªç¯é˜Ÿåˆ—ï¼Œåˆ©ç”¨CASåŸå­æ“ä½œï¼Œå¯ä»¥å®ç°éå¸¸é«˜æ•ˆçš„å¹¶å‘é˜Ÿåˆ—ã€‚è¿™ä¹Ÿæ˜¯å¾ªç¯é˜Ÿåˆ—æ¯”é“¾å¼é˜Ÿåˆ—åº”ç”¨æ›´åŠ å¹¿æ³›çš„åŸå› ã€‚<br>&gt; CASï¼šcompare and swap ï¼Œä¿®æ”¹å‰æ¯”è¾ƒä¸€ä¸‹åŸå€¼ï¼Œç¬¦åˆé¢„æœŸæ‰ä¿®æ”¹ï¼Œå¦åˆ™è®¤ä¸ºæ˜¯è¢«ä¿®æ”¹è¿‡äº†ã€‚æ“ä½œç³»ç»Ÿåº•å±‚æ”¯æŒçš„ä¸€ä¸ªå‘½ä»¤ã€‚<br>","like_count":0},{"had_liked":false,"id":289236,"user_name":"è¾¾å”ç¬","can_delete":false,"product_type":"c1","uid":2404887,"ip_address":"","ucode":"5CCBAF13548F02","user_header":"https://static001.geekbang.org/account/avatar/00/24/b2/17/3161b49c.jpg","comment_is_top":false,"comment_ctime":1618929397,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618929397","product_id":100017301,"comment_content":"rediså°±æ˜¯ç»“åˆå¤šè·¯å¤ç”¨IOå’Œäº‹ä»¶é˜Ÿåˆ—çš„æ–¹å¼æ¥è¾¾åˆ°å•çº¿ç¨‹çš„é«˜æ•ˆã€‚","like_count":0},{"had_liked":false,"id":288244,"user_name":"å¼ çŸ¥ä¿¡","can_delete":false,"product_type":"c1","uid":2144474,"ip_address":"","ucode":"7C896BB3214B3D","user_header":"https://static001.geekbang.org/account/avatar/00/20/b8/da/42284f64.jpg","comment_is_top":false,"comment_ctime":1618377728,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618377728","product_id":100017301,"comment_content":"ä»€ä¹ˆæ˜¯é˜Ÿåˆ—ï¼Ÿå…ˆè¿›å…ˆå‡ºçš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œæ”¯æŒå…¥é˜Ÿ (enqueue) å’Œå‡ºé˜Ÿ (dequeue)ï¼Œå’Œæ ˆç›¸åŒæ˜¯ä¸€ç§æ“ä½œå—é™çš„çº¿æ€§è¡¨ã€‚<br>å¦‚ä½•å®ç°é˜Ÿåˆ—ï¼Ÿæ•°ç»„å®ç°ï¼Œé¡ºåºé˜Ÿåˆ—ï¼›é“¾è¡¨å®ç°ï¼Œé“¾å¼é˜Ÿåˆ—ã€‚<br>å¾ªç¯é˜Ÿåˆ—ã€‚å…³é”®åœ¨äºå¦‚ä½•ç¡®å®šé˜Ÿä¸ºç©ºå’Œå·²æ»¡ã€‚<br>é˜»å¡é˜Ÿåˆ—ã€‚ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹ï¼Œå¹¶å‘å®‰å…¨ã€‚<br>è¿˜æœ‰å“ªäº›åœºæ™¯ç”¨åˆ°é˜Ÿåˆ—æ’é˜Ÿè¯·æ±‚å‘¢ï¼ŸJavaä¸­Synchronizedé”ï¼Œå†…éƒ¨å®ç°ä¹Ÿç”¨åˆ°äº†ä¸€ä¸ªå…¥å£ç­‰å¾…é˜Ÿåˆ—å’Œä¸€ä¸ªæ¡ä»¶å˜é‡ç­‰å¾…é˜Ÿåˆ—ã€‚<br>æ— é”å¹¶å‘ã€‚cas+è‡ªæ—‹ã€‚","like_count":0},{"had_liked":false,"id":287732,"user_name":"imeteors","can_delete":false,"product_type":"c1","uid":1504435,"ip_address":"","ucode":"D1765B12B71A48","user_header":"https://static001.geekbang.org/account/avatar/00/16/f4/b3/071b69d1.jpg","comment_is_top":false,"comment_ctime":1618128686,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618128686","product_id":100017301,"comment_content":"ç‹è€å¸ˆï¼Œæ ˆå’Œé˜Ÿåˆ—æ˜¯ç”¨æ•°ç»„å®ç°è¿˜æ˜¯é“¾è¡¨å®ç°å¤šå•Šï¼Œæ€§èƒ½ä¸Šéƒ½ä¸€æ ·å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":286683,"user_name":"kdb_reboot","can_delete":false,"product_type":"c1","uid":1003594,"ip_address":"","ucode":"4C56FCA563FCA3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/50/4a/04fef27f.jpg","comment_is_top":false,"comment_ctime":1617499905,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617499905","product_id":100017301,"comment_content":"æ¸©æ•…çŸ¥æ–°ï¼Œæ¢å·¥ä½œäº†ï¼Œæ¥è§¦dpdkï¼Œå®ƒçš„æ¶ˆæ¯æ˜¯é€šè¿‡å…±äº«é˜Ÿåˆ—ä¼ é€’çš„ï¼Œé€šè¿‡CASæ§åˆ¶å¹¶å‘","like_count":0},{"had_liked":false,"id":285697,"user_name":"C","can_delete":false,"product_type":"c1","uid":2526224,"ip_address":"","ucode":"AC53CB00A8F5C8","user_header":"https://static001.geekbang.org/account/avatar/00/26/8c/10/7f402cb1.jpg","comment_is_top":false,"comment_ctime":1616983575,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616983575","product_id":100017301,"comment_content":"æ²¡å­¦è¿‡JAVAï¼Œpublic String dequeue() {<br>    &#47;&#47; å¦‚æœhead == tail è¡¨ç¤ºé˜Ÿåˆ—ä¸ºç©º<br>    if (head == tail) return null;<br>    String ret = items[head];<br>    head = (head + 1) % n;<br>    return ret;<br>  }<br>}è¿™ä¸€æ®µä¸­ä¸ºä»€ä¹ˆæ˜¯è¿”å›ret","like_count":0},{"had_liked":false,"id":284437,"user_name":"zhangdroid","can_delete":false,"product_type":"c1","uid":1120940,"ip_address":"","ucode":"6254CEAEC274D3","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/ac/cec17283.jpg","comment_is_top":false,"comment_ctime":1616249174,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616249174","product_id":100017301,"comment_content":"å…³äºæ— é”å®ç°å¹¶å‘é˜Ÿåˆ—ï¼Œä¸»è¦æ˜¯ç”¨CASåŸå­æ“ä½œï¼Œä¸€èˆ¬æ˜¯ç”¨AotmicIntergerä¿å­˜é˜Ÿåˆ—æŒ‡é’ˆæ¥å®ç°çº¿ç¨‹å®‰å…¨ï¼Œè¿™æ ·å¯ä»¥æé«˜å¹¶å‘æ€§èƒ½ã€‚Javaä¸­å¤§åé¼é¼çš„AQSæ¡†æ¶ï¼ˆDoug leaå¤§ç¥å¼€å‘ï¼‰å°±å®ç°äº†è¿™ä¸€å¥—çº¿ç¨‹å®‰å…¨çš„åŒæ­¥æ“ä½œå™¨ï¼Œå…¶ä¸­ä¸»è¦åˆ©ç”¨äº†åŒç«¯é˜Ÿåˆ—å’ŒCASåŸå­æ“ä½œï¼ˆUnsafeï¼‰ã€‚é¡ºä¾¿è¯´ä¸€ä¸‹ï¼ŒReentrantLockå°±æ˜¯åˆ©ç”¨äº†AQSæ¥å®ç°çš„ã€‚","like_count":0},{"had_liked":false,"id":283307,"user_name":"ä½ çœ‹è¿™æ˜¯å‡ ","can_delete":false,"product_type":"c1","uid":1343836,"ip_address":"","ucode":"372DE61D5BA002","user_header":"https://static001.geekbang.org/account/avatar/00/14/81/5c/39e54eb3.jpg","comment_is_top":false,"comment_ctime":1615700161,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615700161","product_id":100017301,"comment_content":"é¡¹ç›®çš„githubåœ°å€æ˜¯ä»€ä¹ˆå‘€ï¼Ÿï¼Ÿï¼Ÿ","like_count":0},{"had_liked":false,"id":283109,"user_name":"ä»˜å¯’å®‡Bazinga","can_delete":false,"product_type":"c1","uid":1676937,"ip_address":"","ucode":"D24D7185447A33","user_header":"https://static001.geekbang.org/account/avatar/00/19/96/89/3876a4b8.jpg","comment_is_top":false,"comment_ctime":1615549437,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615549437","product_id":100017301,"comment_content":"| æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹åŸºäºæ•°ç»„çš„å®ç°æ–¹æ³•ã€‚<br><br>hi è¿™çš„å®ç°æœ‰ä¸ªç–‘é—®ï¼Œä¸€ç›´å…¥é˜Ÿï¼Œå‡ºé˜Ÿï¼ŒæŒç»­å¢åŠ  head å’Œ tail é‚£ä¹ˆè¿™ä¸æ˜¯åç»­å°±æ— æ³•ç»§ç»­å…¥é˜Ÿäº†ä¹ˆï¼Ÿ n ä¸å˜çš„æƒ…å†µä¸‹åªèƒ½å…¥é˜Ÿå’Œå‡ºé˜Ÿï¼Œé˜Ÿåˆ—æ˜¯ä¸èƒ½åå¤åˆ©ç”¨çš„ä¹ˆ...","like_count":0},{"had_liked":false,"id":282682,"user_name":"24éš‹å¿ƒæ‰€æ¬²","can_delete":false,"product_type":"c1","uid":1342000,"ip_address":"","ucode":"1B8B2789F68C94","user_header":"https://static001.geekbang.org/account/avatar/00/14/7a/30/23fc4089.jpg","comment_is_top":false,"comment_ctime":1615363635,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615363635","product_id":100017301,"comment_content":"Java æä¾›çš„ä¸“é—¨çš„é˜»å¡é˜Ÿåˆ—å®ç°ï¼š<br><br>* æ¥å£ï¼šBlockQueue å’Œ BlockingDeque<br>* åŸºäºæ•°ç»„çš„å®ç°ç±»ï¼šArrayBlockingQueue<br>* åŸºäºé“¾è¡¨çš„å®ç°ç±»ï¼šLinkedBlockingQueue å’Œ LinkedBlockingDeque<br>* åŸºäºå †çš„å®ç°ç±»ï¼šPriorityBlockingQueue","like_count":0},{"had_liked":false,"id":280761,"user_name":"å¼ Dave","can_delete":false,"product_type":"c1","uid":2440338,"ip_address":"","ucode":"0E8B6FDEB7505B","user_header":"https://static001.geekbang.org/account/avatar/00/25/3c/92/81fa306d.jpg","comment_is_top":false,"comment_ctime":1614350077,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1614350077","product_id":100017301,"comment_content":"è€å¸ˆï¼Œè¿˜æœ‰é˜»å¡å¹¶å‘é˜Ÿåˆ—æ²¡æœ‰è®²è§£å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":280286,"user_name":"å…«ä¹","can_delete":false,"product_type":"c1","uid":1191617,"ip_address":"","ucode":"B996A884BFA474","user_header":"https://static001.geekbang.org/account/avatar/00/12/2e/c1/0fcd29ab.jpg","comment_is_top":false,"comment_ctime":1614151745,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614151745","product_id":100017301,"comment_content":"java-å¾ªç¯é˜Ÿåˆ—<br>public class CirculateQueue {<br><br>    static String[] arr = new String[8];<br>    static int tail = 0;<br>    static int head = 0;<br>    static int size = 0;&#47;&#47;æ ‡è®°<br><br>    public static void main(String[] args) {<br>        for (int i = 0; i &lt; 10; i++) {<br>            enqueue1(i + &quot;&quot;);<br>        }<br>        System.out.println(Arrays.toString(arr));<br>        dequeue1();<br>        enqueue1(11 + &quot;&quot;);<br>        enqueue1(12 + &quot;&quot;);<br>        dequeue1();<br>        dequeue1();<br>        enqueue(13 + &quot;&quot;);<br>        System.out.println(Arrays.toString(arr));<br>        System.out.println(&quot;head:&quot; + head);<br>        System.out.println(&quot;tail:&quot; + tail);<br>    }<br><br>    static void enqueue1(String val) {<br>        if (size == arr.length) {&#47;&#47;é˜Ÿæ»¡<br>            return;<br>        }<br>        if (tail == arr.length &amp;&amp; size &lt; arr.length) {<br>            tail = 0;<br>        }<br>        arr[tail] = val;<br>        size++;<br>        tail = (tail + 1) % arr.length; &#47;&#47;ä¿æŒç¯å½¢<br>    }<br><br>    static void dequeue1() {<br>        if (size == 0) {&#47;&#47;é˜Ÿç©º<br>            return;<br>        }<br>        size--;<br>        head = (head + 1) % arr.length; &#47;&#47;ä¿æŒç¯å½¢<br>    }<br>&#47;&#47;----------------------â˜†â˜†â˜†----------------------<br><br>    static void enqueue(String val) {<br>        if ((tail + 1) % arr.length == head) {&#47;&#47;é˜Ÿæ»¡<br>            return;<br>        }<br>        arr[tail] = val;<br>        tail = (tail + 1) % arr.length; &#47;&#47;ä¿æŒç¯å½¢<br>    }<br><br>    static void dequeue() {<br>        if (head == tail) {&#47;&#47;é˜Ÿç©º<br>            return;<br>        }<br>        size--;<br>        head = (head + 1) % arr.length; &#47;&#47;ä¿æŒç¯å½¢<br>    }<br>    &#47;*â˜†â˜†â˜†ä¸Šé¢æ˜¯æŒ‰è¯„è®ºä¸­çš„æ–¹æ³•ï¼šä½¿ç”¨ä¸€ä¸ªæ ‡è®°å­—æ®µï¼Œå…¥é˜Ÿæ—¶åŠ 1ï¼Œå‡ºé˜Ÿæ—¶å‡1ï¼Œåˆ¤æ–­é˜Ÿç©ºé˜Ÿæ»¡åªéœ€è¦æ¯”è¾ƒæ ‡è®°å­—æ®µå’Œæ€»å®¹é‡å³å¯ï¼Œè¿™æ ·ä¸ç”¨æµªè´¹ä¸€ä¸ªæ•°ç»„çš„å­˜å‚¨ç©ºé—´ã€‚<br>    * è¿è¡Œç»“æœï¼š<br>        [0, 1, 2, 3, 4, 5, 6, 7]<br>        [11, 13, 2, 3, 4, 5, 6, 7]<br>        head:3<br>        tail:2<br>    * â˜†â˜†â˜†ä¸‹é¢æ˜¯æŒ‰è€å¸ˆè®²çš„æ–¹æ³•ï¼šå½“é˜Ÿåˆ—æ»¡æ—¶ï¼ŒtailæŒ‡é’ˆçš„ä½ç½®ä¸Šæ˜¯æ²¡æœ‰å­˜å‚¨æ•°æ®çš„ã€‚å› ä¸ºå¦‚æœå­˜äº†çš„è¯ï¼Œå°±æœ‰head==tailäº†ï¼Œå°±æ— æ³•åŒºåˆ†é˜Ÿç©ºå’Œé˜Ÿæ»¡äº†ã€‚æ‰€ä»¥ï¼Œå¾ªç¯é˜Ÿåˆ—ä¼šæµªè´¹ä¸€ä¸ªæ•°ç»„çš„å­˜å‚¨ç©ºé—´ã€‚<br>    * è¿è¡Œç»“æœï¼š<br>        [0, 1, 2, 3, 4, 5, 6, null]<br>        [13, 1, 2, 3, 4, 5, 6, 11]<br>        head:3<br>        tail:1<br>    * *&#47;<br>}<br>","like_count":0},{"had_liked":false,"id":279999,"user_name":"å…«ä¹","can_delete":false,"product_type":"c1","uid":1191617,"ip_address":"","ucode":"B996A884BFA474","user_header":"https://static001.geekbang.org/account/avatar/00/12/2e/c1/0fcd29ab.jpg","comment_is_top":false,"comment_ctime":1614050002,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614050002","product_id":100017301,"comment_content":"java-é“¾å¼é˜Ÿåˆ—<br>public class LinkedQueue {<br>    static class ListNode {<br>        int val;<br>        ListNode next;<br><br>        public ListNode(int val) {<br>            this.val = val;<br>        }<br>    }<br><br>    static ListNode head = null;<br>    static ListNode tail = null;<br><br>    public static void main(String[] args) {<br>        for (int i = 0; i &lt; 10; i++) {<br>            enqueue(head, i);<br>        }<br>        print(head);<br>        dequeue();<br>        dequeue();<br>        enqueue(head, 11);<br>        enqueue(head, 12);<br>        dequeue();<br>        enqueue(head, 13);<br>        System.out.println(&quot;\\nhead:&quot; + head.val);<br>        System.out.println(&quot;tail:&quot; + tail.val);<br>        print(head);<br>    }<br><br>    static void enqueue(ListNode node, int val) {<br>        ListNode newNode = new ListNode(val);<br>        if (node == null) {<br>            node = newNode;<br>        } else if (node.next == null) {<br>            node.next = newNode;<br>            tail = node.next;<br>        } else {<br>            enqueue(node.next, val);<br>        }<br>        head = node;<br>    }<br><br>    static void dequeue() {<br>        if (head == tail) {<br>            return;<br>        }<br>        head = head.next;<br>    }<br><br>    static void print(ListNode node) {<br>        System.out.print(&quot;--&gt;&quot; + node.val);<br>        if (node.next != null) {<br>            print(node.next);<br>        }<br>    }<br>}<br>","like_count":0},{"had_liked":false,"id":279990,"user_name":"å…«ä¹","can_delete":false,"product_type":"c1","uid":1191617,"ip_address":"","ucode":"B996A884BFA474","user_header":"https://static001.geekbang.org/account/avatar/00/12/2e/c1/0fcd29ab.jpg","comment_is_top":false,"comment_ctime":1614048526,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614048526","product_id":100017301,"comment_content":"java-é¡ºåºé˜Ÿåˆ—<br>public class ArrayQueue {<br>    static String[] arr = new String[5];<br>    static int head = 0;<br>    static int tail = 0;&#47;&#47;æŒ‡å‘æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ§½ä½<br><br>    public static void main(String[] args) {<br>        for (int i = 1; i &lt;= 5; i++) {<br>            enqueue(i + &quot;&quot;);<br>        }<br><br>        dequeue();<br>        dequeue();<br>        enqueue(&quot;11&quot;);<br>        enqueue(&quot;12&quot;);<br>        enqueue(&quot;13&quot;);<br>        dequeue();<br>        enqueue(&quot;14&quot;);<br>        dequeue();<br>        dequeue();<br>        enqueue(&quot;15&quot;);<br>        System.out.println(Arrays.toString(arr));<br>        System.out.println(&quot;head:&quot; + head + &quot;,tail:&quot; + tail);<br>    }<br><br>    public static void enqueue(String val) {<br>         if (tail == arr.length &amp;&amp; head &gt; 0) {<br>            for (int i = 0; i &lt; tail - head; i++) {<br>                arr[i] = arr[head - 0 + i];&#47;&#47;å¯çœç•¥-0<br>            }<br><br>            &#47;&#47;è€å¸ˆçš„forå¾ªç¯<br>&#47;&#47;             for (int i = head; i &lt; tail; i++) {<br>&#47;&#47;                 arr[i - head] = arr[i];<br>&#47;&#47;             }<br><br>            tail -= head - 0;&#47;&#47;å¯çœç•¥-0<br>            head = 0;<br>        }<br>        if (tail &lt; arr.length) {<br>            arr[tail] = val;<br>            tail++;<br>        }<br>    }<br><br>    public static void dequeue() {<br>        if (head == tail) {<br>            return;<br>        }<br>        head++;<br>    }<br>}","like_count":0},{"had_liked":false,"id":279864,"user_name":"å…«ä¹","can_delete":false,"product_type":"c1","uid":1191617,"ip_address":"","ucode":"B996A884BFA474","user_header":"https://static001.geekbang.org/account/avatar/00/12/2e/c1/0fcd29ab.jpg","comment_is_top":false,"comment_ctime":1613986817,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613986817","product_id":100017301,"comment_content":"æ€»ç»“ï¼š<br>1.æ ˆåªæ”¯æŒä¸¤ä¸ªåŸºæœ¬æ“ä½œï¼šå…¥æ ˆ push()å’Œå‡ºæ ˆ pop()ã€‚<br>é˜Ÿåˆ—æœ€åŸºæœ¬çš„æ“ä½œä¹Ÿæ˜¯ä¸¤ä¸ªï¼šå…¥é˜Ÿenqueue()ï¼Œæ”¾ä¸€ä¸ªæ•°æ®åˆ°é˜Ÿåˆ—å°¾éƒ¨ï¼›å‡ºé˜Ÿdequeue()ï¼Œä»é˜Ÿåˆ—å¤´éƒ¨å–ä¸€ä¸ªå…ƒç´ ã€‚<br>é˜Ÿåˆ—è·Ÿæ ˆä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ç§æ“ä½œå—é™çš„çº¿æ€§è¡¨æ•°æ®ç»“æ„ã€‚<br>åº”ç”¨ï¼šé«˜æ€§èƒ½é˜Ÿåˆ—Disruptorã€Linuxç¯å½¢ç¼“å­˜ï¼Œéƒ½ç”¨åˆ°äº†å¾ªç¯å¹¶å‘é˜Ÿåˆ—ï¼›Java concurrentå¹¶å‘åŒ…åˆ©ç”¨ArrayBlockingQueueå®ç°å…¬å¹³é”ã€‚<br><br>2.é˜Ÿåˆ—çš„å®ç°ï¼š<br>åŸºäºæ•°ç»„çš„é˜Ÿåˆ—å®ç°æ–¹æ³•ï¼š(é¡ºåºé˜Ÿåˆ—)<br>éœ€è¦ä¸¤ä¸ªæŒ‡é’ˆï¼šä¸€ä¸ªæ˜¯ head æŒ‡é’ˆï¼ŒæŒ‡å‘é˜Ÿå¤´ï¼›ä¸€ä¸ªæ˜¯ tail æŒ‡é’ˆï¼ŒæŒ‡å‘é˜Ÿå°¾ã€‚<br>head=0,tail=æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚éšç€ä¸åœåœ°è¿›è¡Œå…¥é˜Ÿã€å‡ºé˜Ÿæ“ä½œï¼Œhead å’Œ tail éƒ½ä¼šæŒç»­å¾€åç§»åŠ¨ã€‚<br>å½“ tail ç§»åŠ¨åˆ°æœ€å³è¾¹ï¼Œå³ä½¿æ•°ç»„ä¸­è¿˜æœ‰ç©ºé—²ç©ºé—´ï¼Œä¹Ÿæ— æ³•ç»§ç»­å¾€é˜Ÿåˆ—ä¸­æ·»åŠ æ•°æ®äº†ã€‚è¿™æ—¶ä½¿ç”¨æ•°æ®æ¬ç§»ï¼Œå°†headåˆ°tailä¹‹é—´çš„æ•°æ®ï¼Œæ•´ä½“æ¬ç§»åˆ°æ•°ç»„ä¸­0åˆ°tail-headçš„ä½ç½®ã€‚<br><br>åŸºäºé“¾è¡¨çš„é˜Ÿåˆ—å®ç°æ–¹æ³•ï¼š(é“¾å¼é˜Ÿåˆ—)<br>éœ€è¦ä¸¤ä¸ªæŒ‡é’ˆï¼šhead æŒ‡é’ˆå’Œ tail æŒ‡é’ˆã€‚å®ƒä»¬åˆ†åˆ«æŒ‡å‘é“¾è¡¨çš„ç¬¬ä¸€ä¸ªç»“ç‚¹å’Œæœ€åä¸€ä¸ªç»“ç‚¹ã€‚<br>å…¥é˜Ÿæ—¶ï¼Œtail-&gt;next= new_node, tail = tail-&gt;nextï¼›ï¼ˆè¿½åŠ èŠ‚ç‚¹ï¼Œç§»åŠ¨tailæŒ‡é’ˆï¼‰<br>å‡ºé˜Ÿæ—¶ï¼Œhead = head-&gt;nextï¼ˆç§»åŠ¨headæŒ‡é’ˆï¼‰<br><br>3.é˜Ÿåˆ—ç§ç±»ï¼š<br>1).å¾ªç¯é˜Ÿåˆ—ï¼š<br>å…³é”®ç‚¹ï¼šç¡®å®šå¥½é˜Ÿç©ºå’Œé˜Ÿæ»¡çš„åˆ¤å®šæ¡ä»¶<br>é˜Ÿç©ºï¼šhead == tailã€‚<br>é˜Ÿæ»¡ï¼š(tail+1)%n=headã€‚ï¼ˆnä¸ºæ•°ç»„å¤§å°ï¼‰<br>è¿™é‡Œè®²ä¸€ä¸‹ï¼Œè¿™ä¸ªè¡¨è¾¾å¼æ˜¯æ€ä¹ˆæ¥çš„ã€‚åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¥ï¼Œå½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œtail+1=headã€‚ï¼ˆè¯„è®ºï¼šæ¨±å°è·¯ä¾ç„¶ï¼‰<br>ä½†æ˜¯ï¼Œæœ‰ä¸ªç‰¹æ®Šæƒ…å†µå°±æ˜¯tail=n-1ï¼Œè€Œhead=0æ—¶ï¼Œè¿™æ—¶å€™ï¼Œtail+1=nï¼Œè€Œhead=0ï¼Œæ‰€ä»¥ç”¨(tail+1)%n == n%n == 0ã€‚<br>è€Œä¸”ï¼Œtail+1æœ€å¤§çš„æƒ…å†µå°±æ˜¯ n ï¼Œä¸ä¼šå¤§äº nï¼Œè¿™æ ·ï¼Œtail+1 é™¤äº†æœ€å¤§æƒ…å†µï¼Œä¸ç„¶æ€ä¹ˆä½™néƒ½æ˜¯tail+1æœ¬èº«ï¼Œä¹Ÿå°±æ˜¯headã€‚<br>å½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œtail æŒ‡å‘çš„ä½ç½®å®é™…ä¸Šæ˜¯æ²¡æœ‰å­˜å‚¨æ•°æ®çš„ã€‚å› ä¸ºå¦‚æœå­˜äº†çš„è¯ï¼Œå°±æœ‰head==tailäº†ï¼Œå°±æ— æ³•åŒºåˆ†é˜Ÿç©ºå’Œé˜Ÿæ»¡äº†ã€‚æ‰€ä»¥ï¼Œå¾ªç¯é˜Ÿåˆ—ä¼šæµªè´¹ä¸€ä¸ªæ•°ç»„çš„å­˜å‚¨ç©ºé—´ã€‚<br>ä¹Ÿå¯ä»¥ä½¿ç”¨ä¹Ÿä¸€ä¸ªæ ‡è®°å­—æ®µï¼Œå…¥é˜Ÿæ—¶åŠ 1ï¼Œå‡ºé˜Ÿæ—¶å‡1ï¼Œåˆ¤æ–­é˜Ÿç©ºé˜Ÿæ»¡åªéœ€è¦æ¯”è¾ƒæ ‡è®°å­—æ®µå’Œæ€»å®¹é‡å³å¯ï¼Œè¿™æ ·ä¸ç”¨æµªè´¹ä¸€ä¸ªæ•°ç»„ç©ºé—´ã€‚<br><br>2).é˜»å¡é˜Ÿåˆ—ï¼ˆâ€œç”Ÿäº§è€… - æ¶ˆè´¹è€…æ¨¡å‹â€ï¼‰<br>é˜»å¡é˜Ÿåˆ—å…¶å®å°±æ˜¯åœ¨é˜Ÿåˆ—åŸºç¡€ä¸Šå¢åŠ äº†é˜»å¡æ“ä½œã€‚<br>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™ï¼Œä»é˜Ÿå¤´å–æ•°æ®ä¼šè¢«é˜»å¡ã€‚å› ä¸ºæ­¤æ—¶è¿˜æ²¡æœ‰æ•°æ®å¯å–ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰äº†æ•°æ®æ‰èƒ½è¿”å›ï¼›<br>å¦‚æœé˜Ÿåˆ—å·²ç»æ»¡äº†ï¼Œé‚£ä¹ˆæ’å…¥æ•°æ®çš„æ“ä½œå°±ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰ç©ºé—²ä½ç½®åå†æ’å…¥æ•°æ®ï¼Œç„¶åå†è¿”å›ã€‚<br><br>3).å¹¶å‘é˜Ÿåˆ—<br>åœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹ï¼Œä¼šæœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œé˜Ÿåˆ—ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚<br>çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—æˆ‘ä»¬å«ä½œå¹¶å‘é˜Ÿåˆ—ã€‚æœ€ç®€å•ç›´æ¥çš„å®ç°æ–¹å¼æ˜¯ç›´æ¥åœ¨ enqueue()ã€dequeue() æ–¹æ³•ä¸ŠåŠ é”ï¼Œä½†æ˜¯é”ç²’åº¦å¤§å¹¶å‘åº¦ä¼šæ¯”è¾ƒä½ï¼ŒåŒä¸€æ—¶åˆ»ä»…å…è®¸ä¸€ä¸ªå­˜æˆ–è€…å–æ“ä½œã€‚<br>å®é™…ä¸Šï¼ŒåŸºäºæ•°ç»„çš„å¾ªç¯é˜Ÿåˆ—ï¼Œåˆ©ç”¨ CAS åŸå­æ“ä½œï¼Œå¯ä»¥å®ç°éå¸¸é«˜æ•ˆçš„å¹¶å‘é˜Ÿåˆ—ã€‚è¿™ä¹Ÿæ˜¯å¾ªç¯é˜Ÿåˆ—æ¯”é“¾å¼é˜Ÿåˆ—åº”ç”¨æ›´åŠ å¹¿æ³›çš„åŸå› ã€‚<br><br>4).çº¿ç¨‹æ± æ²¡æœ‰ç©ºé—²çº¿ç¨‹æ—¶ï¼Œæ–°çš„ä»»åŠ¡è¯·æ±‚çº¿ç¨‹èµ„æºæ—¶ï¼Œçº¿ç¨‹æ± è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ<br>æœ‰ä¸¤ç§å¤„ç†ç­–ç•¥ã€‚ç¬¬ä¸€ç§æ˜¯éé˜»å¡çš„å¤„ç†æ–¹å¼ï¼Œç›´æ¥æ‹’ç»ä»»åŠ¡è¯·æ±‚ï¼›å¦ä¸€ç§æ˜¯é˜»å¡çš„å¤„ç†æ–¹å¼ï¼Œå°†è¯·æ±‚æ’é˜Ÿï¼Œç­‰åˆ°æœ‰ç©ºé—²çº¿ç¨‹æ—¶ï¼Œå–å‡ºæ’é˜Ÿçš„è¯·æ±‚ç»§ç»­å¤„ç†ã€‚<br>åŸºäºé“¾è¡¨çš„å®ç°æ–¹å¼ï¼šå¯ä»¥å®ç°ä¸€ä¸ªæ”¯æŒæ— é™æ’é˜Ÿçš„æ— ç•Œé˜Ÿåˆ—ï¼ˆunbounded queueï¼‰ï¼Œä½†æ˜¯å¯èƒ½ä¼šå¯¼è‡´è¿‡å¤šçš„è¯·æ±‚æ’é˜Ÿç­‰å¾…ï¼Œè¯·æ±‚å¤„ç†çš„å“åº”æ—¶é—´è¿‡é•¿ã€‚æ‰€ä»¥ï¼Œé’ˆå¯¹å“åº”æ—¶é—´æ¯”è¾ƒæ•æ„Ÿçš„ç³»ç»Ÿï¼ŒåŸºäºé“¾è¡¨å®ç°çš„æ— é™æ’é˜Ÿçš„çº¿ç¨‹æ± æ˜¯ä¸åˆé€‚çš„ã€‚<br>åŸºäºæ•°ç»„å®ç°çš„æœ‰ç•Œé˜Ÿåˆ—ï¼ˆbounded queueï¼‰ï¼šé˜Ÿåˆ—çš„å¤§å°æœ‰é™ï¼Œæ‰€ä»¥çº¿ç¨‹æ± ä¸­æ’é˜Ÿçš„è¯·æ±‚è¶…è¿‡é˜Ÿåˆ—å¤§å°æ—¶ï¼Œæ¥ä¸‹æ¥çš„è¯·æ±‚å°±ä¼šè¢«æ‹’ç»ï¼Œè¿™ç§æ–¹å¼å¯¹å“åº”æ—¶é—´æ•æ„Ÿçš„ç³»ç»Ÿæ¥è¯´ï¼Œå°±ç›¸å¯¹æ›´åŠ åˆç†ã€‚<br>è®¾ç½®ä¸€ä¸ªåˆç†çš„é˜Ÿåˆ—å¤§å°æ˜¯éå¸¸æœ‰è®²ç©¶çš„ï¼Œé˜Ÿåˆ—å¤ªå¤§å¯¼è‡´ç­‰å¾…çš„è¯·æ±‚å¤ªå¤šï¼Œé˜Ÿåˆ—å¤ªå°ä¼šå¯¼è‡´æ— æ³•å……åˆ†åˆ©ç”¨ç³»ç»Ÿèµ„æºã€å‘æŒ¥æœ€å¤§æ€§èƒ½ã€‚<br>é˜Ÿåˆ—é™¤äº†åº”ç”¨åœ¨çº¿ç¨‹æ± è¯·æ±‚æ’é˜Ÿçš„åœºæ™¯ä¹‹å¤–ï¼Œé˜Ÿåˆ—å¯ä»¥åº”ç”¨åœ¨ä»»ä½•æœ‰é™èµ„æºæ± ä¸­ï¼Œç”¨äºæ’é˜Ÿè¯·æ±‚ï¼Œæ¯”å¦‚æ•°æ®åº“è¿æ¥æ± ç­‰ã€‚<br>å®é™…ä¸Šï¼Œå¯¹äºå¤§éƒ¨åˆ†èµ„æºæœ‰é™çš„åœºæ™¯ï¼Œå½“æ²¡æœ‰ç©ºé—²èµ„æºæ—¶ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥é€šè¿‡â€œé˜Ÿåˆ—â€è¿™ç§æ•°æ®ç»“æ„æ¥å®ç°è¯·æ±‚æ’é˜Ÿã€‚<br><br>5.å¤æ‚åº¦åˆ†æï¼ˆè¯„è®ºï¼šJ.Springï¼‰<br>åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œé˜Ÿåˆ—çš„å…¥é˜Ÿå’Œå‡ºé˜Ÿæ“ä½œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ï¼Œåœ¨è¿›è¡Œâ€œæ•°æ®æ¬ç§»â€æ”¹é€ çš„æƒ…å†µä¸‹ï¼Œå…¥é˜Ÿçš„æ—¶é—´å¤æ‚åº¦åˆ†æï¼š<br>å¦‚æœé˜Ÿå°¾æ²¡æœ‰æ»¡ï¼Œç›´æ¥å…¥é˜Ÿï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚<br>å¦‚æœé˜Ÿå°¾å·²æ»¡ï¼Œæ•°æ®æ¬ç§»ï¼Œtail=n,æ¬ç§»çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚å‡æ‘Šå¤æ‚åº¦æ˜¯O(1)ã€‚<br>æ„Ÿè°¢è€å¸ˆï¼","like_count":0},{"had_liked":false,"id":278428,"user_name":"éª‘ç€é©´è¯»ç€ä¹¦çš„è°¢å°å¤•","can_delete":false,"product_type":"c1","uid":1625340,"ip_address":"","ucode":"56F0A469B630A2","user_header":"https://static001.geekbang.org/account/avatar/00/18/cc/fc/92646317.jpg","comment_is_top":false,"comment_ctime":1612940068,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612940068","product_id":100017301,"comment_content":"æœ€è¿‘åˆšçœ‹äº†ä¸€ä¸ªç”¨å¾ªç¯é˜Ÿåˆ—å®ç°çš„ å…±äº«å†…å­˜çš„æ— é”è®¿é—®","like_count":0},{"had_liked":false,"id":273436,"user_name":"kevin","can_delete":false,"product_type":"c1","uid":2217714,"ip_address":"","ucode":"DEE2032A6C48D6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erBWCaFC3KbRDpjxMEhgZJFGo0q1twv9gicsUF5Qmu57X3bVt4wn1GV5ibhL2xlrGDuza7HhDiaMdxEg/132","comment_is_top":false,"comment_ctime":1610595096,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610595096","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ— leetcode 622<br>class MyCircularQueue {<br>    int* queue;<br>    int len;<br>    int head;<br>    int tail;<br>    int count;<br>public:<br>    MyCircularQueue(int k) {<br>        queue = new int[k];<br>        len  = k;<br>        head = 0;<br>        tail = -1;<br>        count = 0;<br>    }<br>    <br>    bool enQueue(int value) {<br>        if (count == len)<br>        {<br>            return false;<br>        }<br><br>        tail = (tail + 1) % len;<br>        queue[tail] = value;<br>        ++count;<br>        return true;<br>    }<br>    <br>    bool deQueue() {<br>        if (count == 0)<br>        {<br>            return false;<br>        }<br><br>        head = (head + 1) % len;<br>        --count;<br>        return true;<br>    }<br>    <br>    int Front() {<br>        if (count == 0)<br>        {<br>            return -1;<br>        }<br>        return queue[head];<br>    }<br>    <br>    int Rear() {<br>        if (count == 0)<br>        {<br>            return -1;<br>        }<br>        return queue[tail];<br>    }<br>    <br>    bool isEmpty() {<br>        return count == 0;<br>    }<br>    <br>    bool isFull() {<br>        return count == len;<br>    }<br>};","like_count":0},{"had_liked":false,"id":268879,"user_name":"bowen","can_delete":false,"product_type":"c1","uid":1073569,"ip_address":"","ucode":"B0979D12090C7D","user_header":"https://static001.geekbang.org/account/avatar/00/10/61/a1/f2ddc098.jpg","comment_is_top":false,"comment_ctime":1608386744,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608386744","product_id":100017301,"comment_content":"é˜Ÿåˆ—å’Œæ ˆä¸€æ ·æ˜¯ä¸€ç§æ“ä½œå—é™çš„æ•°æ®ç»“æ„ï¼Œæ“ä½œæœ‰å…¥é˜Ÿenqueueå’Œå‡ºé˜Ÿdequeueï¼Œé˜Ÿåˆ—å¯ä»¥ç”¨æ•°ç»„å’Œé“¾è¡¨å®ç°ï¼Œé˜Ÿåˆ—ç¨‹åºçš„æ ¸å¿ƒç‰¹ç‚¹å°±æ˜¯éœ€è¦å¤´æŒ‡é’ˆheadå’Œå°¾æŒ‡é’ˆtailï¼Œé˜Ÿåˆ—çš„ç±»å‹æœ‰å¾ªç¯é˜Ÿåˆ—ï¼Œé˜»å¡é˜Ÿåˆ—ï¼Œå¹¶å‘é˜Ÿåˆ—ç­‰ã€‚<br>å¾ªç¯é˜Ÿåˆ—çš„å®ç°éš¾ç‚¹åœ¨äºåˆ¤æ–­é˜Ÿåˆ—æ»¡ï¼Œé˜Ÿç©ºheadç­‰äºtailï¼Œé˜Ÿæ»¡æ—¶headå’Œtailå·®ä¸€ä¸ªï¼Œå³tail+1ç­‰äºheadï¼Œä½†æ˜¯ç”±äºæ˜¯å¾ªç¯é˜Ÿåˆ—ï¼Œæ‰€ä»¥è¦è€ƒè™‘tailä¸‹æ ‡æœ€å¤§çš„æƒ…å†µï¼Œæ‰€ä»¥é˜Ÿæ»¡çš„åˆ¤æ–­æ¡ä»¶æ˜¯(tail+1)%n==head<br>é˜»å¡é˜Ÿåˆ—å°±æ˜¯é˜Ÿæ»¡æ—¶é˜»å¡å…¥é˜Ÿï¼Œé˜Ÿç©ºæ—¶é˜»å¡å‡ºé˜Ÿ<br>å¹¶å‘é˜Ÿåˆ—å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—ï¼ŒåŠ é”ä¼šé™ä½å¹¶å‘æ€§èƒ½ï¼Œè€Œä½¿ç”¨åŸå­æ“ä½œçš„æ•°ç»„é˜Ÿåˆ—å¯ä»¥å®ç°é«˜æ€§èƒ½çš„å¹¶å‘<br>é˜Ÿåˆ—çš„åº”ç”¨æœ‰çº¿ç¨‹æ± çš„æ’é˜Ÿï¼Œè¿˜æœ‰ç½‘ç»œé€šä¿¡çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œè¿™ä¸ªæˆ‘ç”¨è¿‡","like_count":0},{"had_liked":false,"id":268677,"user_name":"Geek_c293e4","can_delete":false,"product_type":"c1","uid":2055952,"ip_address":"","ucode":"39F8EF5C703639","user_header":"","comment_is_top":false,"comment_ctime":1608291018,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608291018","product_id":100017301,"comment_content":"ArrayBlockingQueueçš„å®ç°å’Œæ–‡ä¸­çš„å¾ªç¯é˜Ÿåˆ—å®ç°å¾ˆç±»ä¼¼ï¼ŒåŒºåˆ«ç‚¹<br>â‘ ArrayBlockingQueueæœ‰ä¸€ä¸ªå•ç‹¬çš„å˜é‡countè®°å½•é˜Ÿåˆ—ä¸­çš„æ•°æ®é‡ã€‚å¦‚æœcountç­‰äºæ•°ç»„çš„é•¿åº¦ï¼Œåˆ™åˆ¤æ–­å·²ç»æ»¡äº†ã€‚ReentrantLockä¿è¯countçš„å®‰å…¨æ€§ã€‚<br>â‘¡ArrayBlockingQueueä¹Ÿæ²¡æœ‰æ•°æ®çš„copyï¼Œåªæ˜¯åŠ äº†ä¸€ä¸ªå†™ç´¢å¼•å’Œä¸€ä¸ªè¯»ç´¢å¼•ï¼Œå¦‚æœ ++index == items.lengthï¼Œåˆ™é‡ç½®ä¸º0ï¼Œç»§ç»­è¿›è¡Œå†™å…¥æˆ–è¯»å–ã€‚","like_count":0},{"had_liked":false,"id":267639,"user_name":"heyman","can_delete":false,"product_type":"c1","uid":1173894,"ip_address":"","ucode":"92EF9EF1B1B1B3","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/86/d34800a4.jpg","comment_is_top":false,"comment_ctime":1607852379,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607852379","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—çš„æ„é€ å‡½æ•°ï¼Œåº”è¯¥æ˜¯è¿™æ ·æ‰å¯¹å§ï¼š<br>items = new String[capacity + 1];<br>n = capacity + 1;","like_count":0},{"had_liked":false,"id":267183,"user_name":"æ…•é«˜è¿ª","can_delete":false,"product_type":"c1","uid":1448126,"ip_address":"","ucode":"EB1CB5EA4E3A90","user_header":"https://static001.geekbang.org/account/avatar/00/16/18/be/ad3127e0.jpg","comment_is_top":false,"comment_ctime":1607644402,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607644402","product_id":100017301,"comment_content":"æ€è€ƒé¢˜ï¼š<br>1. å½“æœåŠ¡å™¨è¾¾åˆ°äº†è¯·æ±‚å¤„ç†ä¸Šé™æ—¶ï¼Œæœ‰æ–°çš„è¯·æ±‚è¿›æ¥ï¼Œè¿™ä¸ªæ–°çš„è¯·æ±‚å°±ä¼šæ’é˜Ÿï¼Œä¸€æ—¦è¶…è¿‡äº†è¯·æ±‚é˜Ÿåˆ—çš„å¤§å°ï¼Œå°±ä¼šç›´æ¥æ‹’ç»è¯·æ±‚ã€‚","like_count":0},{"had_liked":false,"id":265463,"user_name":"æ™“å‘¨","can_delete":false,"product_type":"c1","uid":1188198,"ip_address":"","ucode":"F0F6871F8A8ADE","user_header":"https://static001.geekbang.org/account/avatar/00/12/21/66/986f68f1.jpg","comment_is_top":false,"comment_ctime":1606905490,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606905490","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—çš„taié‡Œä¸ºä»€ä¹ˆä¸èƒ½å­˜å‚¨æ•°æ®ï¼Ÿ","like_count":0},{"had_liked":false,"id":258854,"user_name":"gerry pang","can_delete":false,"product_type":"c1","uid":1068169,"ip_address":"","ucode":"54BD1D8DE1DBBF","user_header":"https://static001.geekbang.org/account/avatar/00/10/4c/89/e698c0a9.jpg","comment_is_top":false,"comment_ctime":1604568050,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604568050","product_id":100017301,"comment_content":"è€å¸ˆæ–‡ç« ä¸­å°†â€œè®¾ç½®ä¸€ä¸ªåˆç†çš„é˜Ÿåˆ—å¤§å°ï¼Œä¹Ÿæ˜¯éå¸¸æœ‰è®²ç©¶çš„â€<br>å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œå¯¹äºç”Ÿäº§ç¯å¢ƒä¸‹æ‚¨æ˜¯å¦‚ä½•ä¼°ç®—ä¸€ä¸ªåˆç†ï¼ˆé˜»å¡&#47;å¾ªç¯ï¼‰é˜Ÿåˆ—å¤§å°å‘¢ï¼Œæ‚¨ä¼°ç®—æ—¶å€™çš„ä¾æ®é‚£äº›å› ç´ ï¼Ÿ","like_count":0},{"had_liked":false,"id":256367,"user_name":"Rancher","can_delete":false,"product_type":"c1","uid":1143268,"ip_address":"","ucode":"A5D01DF55D497E","user_header":"https://static001.geekbang.org/account/avatar/00/11/71/e4/0f7610a5.jpg","comment_is_top":false,"comment_ctime":1603610607,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603610607","product_id":100017301,"comment_content":"æˆ‘æƒ³é—®é—® ä½œè€…è¿™ä¸ªç”»å›¾å·¥å…·ç”¨çš„æ˜¯ä»€ä¹ˆï¼Œæ„Ÿè§‰å¾ˆå¥½çœ‹å‘€<br>","like_count":0},{"had_liked":false,"id":254242,"user_name":"éƒ‘æ€é›¨","can_delete":false,"product_type":"c1","uid":1474579,"ip_address":"","ucode":"F1F4B08FC94E7D","user_header":"https://static001.geekbang.org/account/avatar/00/16/80/13/df2a0ced.jpg","comment_is_top":false,"comment_ctime":1603090064,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603090064","product_id":100017301,"comment_content":"æ— é”å¹¶å‘é˜Ÿåˆ—é€šå¸¸ä½¿ç”¨å¾ªç¯CASç®—æ³•è¿›è¡Œåˆ¤æ–­ï¼Œåœ¨é˜Ÿåˆ—ä¸ºç©ºï¼Œæˆ–é˜Ÿåˆ—å·²æ»¡çš„æƒ…å†µä¸‹ï¼Œå¦‚æœå‘ç”Ÿé«˜å¹¶å‘ï¼Œä¼šå¯¹CPUé€ æˆå¾ˆå¤§çš„å‹åŠ›ï¼ŒåŒæ—¶æµªè´¹äº†CPUèµ„æºã€‚å¯ä»¥ä¾æ®åœºæ™¯ï¼Œå¢åŠ é‡è¯•æ¬¡æ•°ï¼Œè¶…å‡ºé‡è¯•æ¬¡æ•°ï¼Œç»™å‡ºå¤±è´¥çš„æç¤ºã€‚","like_count":0},{"had_liked":false,"id":252673,"user_name":"å¤§åŠ›","can_delete":false,"product_type":"c1","uid":1364353,"ip_address":"","ucode":"1B2125C519443D","user_header":"https://static001.geekbang.org/account/avatar/00/14/d1/81/89ba9d81.jpg","comment_is_top":false,"comment_ctime":1602429770,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602429770","product_id":100017301,"comment_content":"å®ç°äº†ä¸€ä¸ªç”¨å¾ªç¯é“¾è¡¨å®ç°çš„å¾ªç¯é˜Ÿåˆ—ï¼š<br>https:&#47;&#47;github.com&#47;kolinkuang&#47;algo-demos&#47;blob&#47;master&#47;queue&#47;circularLinkedListQueue.js","like_count":0},{"had_liked":false,"id":252535,"user_name":"å¤§åŠ›","can_delete":false,"product_type":"c1","uid":1364353,"ip_address":"","ucode":"1B2125C519443D","user_header":"https://static001.geekbang.org/account/avatar/00/14/d1/81/89ba9d81.jpg","comment_is_top":false,"comment_ctime":1602342680,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602342680","product_id":100017301,"comment_content":"V8 Event Loop ä¸­çš„å®ä»»åŠ¡è·Ÿå¾®ä»»åŠ¡é˜Ÿåˆ—åº”è¯¥å°±æ˜¯éé˜»å¡æ€§çš„å¾ªç¯é˜Ÿåˆ—ã€‚","like_count":0},{"had_liked":false,"id":251089,"user_name":"gaooakenshield","can_delete":false,"product_type":"c1","uid":2153598,"ip_address":"","ucode":"D5F3E2A12DE6D1","user_header":"https://static001.geekbang.org/account/avatar/00/20/dc/7e/4315166d.jpg","comment_is_top":false,"comment_ctime":1601361122,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1601361122","product_id":100017301,"comment_content":"ç‹äº‰è€å¸ˆæˆ‘æœ‰ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆheadæ˜¯æŒ‡å‘é˜Ÿå¤´å…ƒç´ çš„æŒ‡é’ˆï¼Œtailå´æ˜¯æŒ‡å‘é˜Ÿå°¾å…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®å‘¢ï¼ŒtailæŒ‡å‘é˜Ÿå°¾å…ƒç´ ä¼šæœ‰ä»€ä¹ˆé—®é¢˜å‘¢","like_count":0},{"had_liked":false,"id":250582,"user_name":"è¡¬è¡«çš„ä»·æ ¼æ˜¯19ç¾å…ƒ","can_delete":false,"product_type":"c1","uid":1397631,"ip_address":"","ucode":"655F925451F772","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKVUskibDnhMt5MCIJ8227HWkeg2wEEyewps8GuWhWaY5fy7Ya56bu2ktMlxdla3K29Wqia9efCkWaQ/132","comment_is_top":false,"comment_ctime":1601139161,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601139161","product_id":100017301,"comment_content":"é˜»å¡é˜Ÿåˆ—ä¸­çš„é˜»å¡æ“ä½œå¦‚ä½•ç†è§£ï¼Ÿæ¯”å¦‚å…¥é˜Ÿåˆ—çš„æ—¶å€™é˜Ÿåˆ—æ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆå½“å‰çº¿ç¨‹ä¼šè¢«åˆ®æŒ‚èµ·å—ï¼Ÿæ€ä¹ˆæŒ‚èµ·çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":248566,"user_name":"GEEKBANG_7745681","can_delete":false,"product_type":"c1","uid":1702547,"ip_address":"","ucode":"9668855F627CFD","user_header":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eruzEDjGnUFZz8ehoKKwy1IZKsPQ9ANkcZt0QMk1Uxuvx5FVlAYoiaaKoaKia99ticTib5sUkxsPduD4A/132","comment_is_top":false,"comment_ctime":1600223814,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600223814","product_id":100017301,"comment_content":"ç‹äº‰è€å¸ˆä½ å¥½ï¼Œåœ¨ç”¨æ•°ç»„å®ç°é˜Ÿåˆ—çš„æ—¶å€™ï¼Œæ¬ç§»æ•°æ®çš„åœ°æ–¹ï¼Œæˆ‘è®¤ä¸ºæ‚¨çš„ä»£ç ä¸å¤Ÿä¸¥è°¨ï¼Œåœ¨å°†headåˆ°tailä¹‹é—´çš„æ•°æ®æ¬ç§»åˆ°0 åˆ°tail-headçš„ä½ç½®æ—¶å€™ï¼Œéœ€è¦å°†tail-headååŸæœ‰çš„æ•°æ®åšæ¸…ç©ºå¤„ç†ï¼Œå¦åˆ™å½“æ²¡æœ‰å…¥é˜Ÿåˆ—çš„æƒ…å†µæ—¶ï¼Œå…¨éƒ¨å‡ºåˆ—æ—¶ï¼Œä¼šå‡ºç°è„æ•°æ®<br>","like_count":0},{"had_liked":false,"id":247751,"user_name":"WilliamVector","can_delete":false,"product_type":"c1","uid":1898112,"ip_address":"","ucode":"E0D3C3D4FCB7C9","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f6/80/85ec2c2a.jpg","comment_is_top":false,"comment_ctime":1599817391,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599817391","product_id":100017301,"comment_content":"ã€è¦ç‚¹ã€‘<br>1ã€ç†è§£é˜Ÿåˆ—ï¼Œé˜Ÿåˆ—æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å…ˆè¿›å…ˆå‡ºï¼Œä¸»è¦çš„ä¸¤ä¸ªæ“ä½œæ˜¯å…¥é˜Ÿå’Œå‡ºé˜Ÿã€‚è·Ÿæ ˆä¸€æ ·ï¼Œå®ƒæ—¢å¯ä»¥ç”¨æ•°ç»„æ¥å®ç°ï¼Œä¹Ÿå¯ä»¥ç”¨é“¾è¡¨æ¥å®ç°ã€‚ç”¨æ•°ç»„å®ç°çš„å«é¡ºåºé˜Ÿåˆ—ï¼Œç”¨é“¾è¡¨å®ç°çš„å«é“¾å¼é˜Ÿåˆ—ã€‚<br>2ã€å¾ªç¯é˜Ÿåˆ—ï¼Œè¦æƒ³å†™å‡ºæ²¡æœ‰ bug çš„å¾ªç¯é˜Ÿåˆ—çš„å®ç°ä»£ç ï¼Œæœ€å…³é”®çš„æ˜¯ï¼Œç¡®å®šå¥½é˜Ÿç©ºå’Œé˜Ÿæ»¡çš„åˆ¤å®šæ¡ä»¶ã€‚é˜Ÿåˆ—ä¸ºç©ºçš„åˆ¤æ–­æ¡ä»¶æ˜¯ head == tailã€‚å½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œtail æŒ‡å‘çš„ä½ç½®å®é™…ä¸Šæ˜¯æ²¡æœ‰å­˜å‚¨æ•°æ®çš„ã€‚æ‰€ä»¥ï¼Œå¾ªç¯é˜Ÿåˆ—ä¼šæµªè´¹ä¸€ä¸ªæ•°ç»„çš„å­˜å‚¨ç©ºé—´ã€‚<br>3ã€é˜»å¡é˜Ÿåˆ—ï¼Œåœ¨é˜Ÿåˆ—åŸºç¡€ä¸Šå¢åŠ äº†é˜»å¡æ“ä½œã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™ï¼Œä»é˜Ÿå¤´å–æ•°æ®ä¼šè¢«é˜»å¡ã€‚å› ä¸ºæ­¤æ—¶è¿˜æ²¡æœ‰æ•°æ®å¯å–ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰äº†æ•°æ®æ‰èƒ½è¿”å›ï¼›å¦‚æœé˜Ÿåˆ—å·²ç»æ»¡äº†ï¼Œé‚£ä¹ˆæ’å…¥æ•°æ®çš„æ“ä½œå°±ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰ç©ºé—²ä½ç½®åå†æ’å…¥æ•°æ®ï¼Œç„¶åå†è¿”å›ã€‚ä½¿ç”¨é˜»å¡é˜Ÿåˆ—ï¼Œè½»æ¾å®ç°ä¸€ä¸ªâ€œç”Ÿäº§è€… - æ¶ˆè´¹è€…æ¨¡å‹â€ã€‚<br>4ã€å¹¶å‘é˜Ÿåˆ—ï¼Œçº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—æˆ‘ä»¬å«ä½œå¹¶å‘é˜Ÿåˆ—ã€‚æœ€ç®€å•ç›´æ¥çš„å®ç°æ–¹å¼æ˜¯ç›´æ¥åœ¨ enqueue()ã€dequeue() æ–¹æ³•ä¸ŠåŠ é”ï¼Œä½†æ˜¯é”ç²’åº¦å¤§å¹¶å‘åº¦ä¼šæ¯”è¾ƒä½ï¼ŒåŒä¸€æ—¶åˆ»ä»…å…è®¸ä¸€ä¸ªå­˜æˆ–è€…å–æ“ä½œã€‚å®é™…ä¸Šï¼ŒåŸºäºæ•°ç»„çš„å¾ªç¯é˜Ÿåˆ—ï¼Œåˆ©ç”¨ CAS åŸå­æ“ä½œï¼Œå¯ä»¥å®ç°éå¸¸é«˜æ•ˆçš„å¹¶å‘é˜Ÿåˆ—ã€‚è¿™ä¹Ÿæ˜¯å¾ªç¯é˜Ÿåˆ—æ¯”é“¾å¼é˜Ÿåˆ—åº”ç”¨æ›´åŠ å¹¿æ³›çš„åŸå› ã€‚<br>5ã€å…³äºçº¿ç¨‹æ± ã€‚åŸºäºé“¾è¡¨çš„å®ç°æ–¹å¼ï¼Œå¯ä»¥å®ç°ä¸€ä¸ªæ”¯æŒæ— é™æ’é˜Ÿçš„æ— ç•Œé˜Ÿåˆ—ï¼ˆunbounded queueï¼‰ï¼Œä½†æ˜¯å¯èƒ½ä¼šå¯¼è‡´è¿‡å¤šçš„è¯·æ±‚æ’é˜Ÿç­‰å¾…ï¼Œè¯·æ±‚å¤„ç†çš„å“åº”æ—¶é—´è¿‡é•¿ã€‚æ‰€ä»¥ï¼Œé’ˆå¯¹å“åº”æ—¶é—´æ¯”è¾ƒæ•æ„Ÿçš„ç³»ç»Ÿï¼ŒåŸºäºé“¾è¡¨å®ç°çš„æ— é™æ’é˜Ÿçš„çº¿ç¨‹æ± æ˜¯ä¸åˆé€‚çš„ã€‚è€ŒåŸºäºæ•°ç»„å®ç°çš„æœ‰ç•Œé˜Ÿåˆ—ï¼ˆbounded queueï¼‰ï¼Œé˜Ÿåˆ—çš„å¤§å°æœ‰é™ï¼Œæ‰€ä»¥çº¿ç¨‹æ± ä¸­æ’é˜Ÿçš„è¯·æ±‚è¶…è¿‡é˜Ÿåˆ—å¤§å°æ—¶ï¼Œæ¥ä¸‹æ¥çš„è¯·æ±‚å°±ä¼šè¢«æ‹’ç»ï¼Œè¿™ç§æ–¹å¼å¯¹å“åº”æ—¶é—´æ•æ„Ÿçš„ç³»ç»Ÿæ¥è¯´ï¼Œå°±ç›¸å¯¹æ›´åŠ åˆç†ã€‚ä¸è¿‡ï¼Œè®¾ç½®ä¸€ä¸ªåˆç†çš„é˜Ÿåˆ—å¤§å°ï¼Œä¹Ÿæ˜¯éå¸¸æœ‰è®²ç©¶çš„ã€‚é˜Ÿåˆ—å¤ªå¤§å¯¼è‡´ç­‰å¾…çš„è¯·æ±‚å¤ªå¤šï¼Œé˜Ÿåˆ—å¤ªå°ä¼šå¯¼è‡´æ— æ³•å……åˆ†åˆ©ç”¨ç³»ç»Ÿèµ„æºã€å‘æŒ¥æœ€å¤§æ€§èƒ½ã€‚é™¤äº†å‰é¢è®²åˆ°é˜Ÿåˆ—åº”ç”¨åœ¨çº¿ç¨‹æ± è¯·æ±‚æ’é˜Ÿçš„åœºæ™¯ä¹‹å¤–ï¼Œé˜Ÿåˆ—å¯ä»¥åº”ç”¨åœ¨ä»»ä½•æœ‰é™èµ„æºæ± ä¸­ï¼Œç”¨äºæ’é˜Ÿè¯·æ±‚ï¼Œæ¯”å¦‚æ•°æ®åº“è¿æ¥æ± ç­‰ã€‚å®é™…ä¸Šï¼Œå¯¹äºå¤§éƒ¨åˆ†èµ„æºæœ‰é™çš„åœºæ™¯ï¼Œå½“æ²¡æœ‰ç©ºé—²èµ„æºæ—¶ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥é€šè¿‡â€œé˜Ÿåˆ—â€è¿™ç§æ•°æ®ç»“æ„æ¥å®ç°è¯·æ±‚æ’é˜Ÿã€‚<br>ã€æ€è€ƒã€‘<br>1ã€åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¦‚kafkaã€rebbitmqã€emqttç­‰ã€‚ä»¥åŠAndroidçš„Handleræœºåˆ¶ç­‰<br>æ— é”æœºåˆ¶çš„å®ç°æ˜¯åŸºäºCPUæä¾›çš„ä¸€ç§åŸå­æ“ä½œCASï¼ˆCompare and Swapï¼‰ï¼ŒCASæ˜¯è¿™æ ·å·¥ä½œçš„ï¼Œå®ƒä¼šåŸå­åœ°å°†ä¸€å—å†…å­˜çš„å€¼ä¸ä¸€ä¸ªç»™å®šçš„å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå®ƒä»¬ç›¸ç­‰å°±ç”¨æ–°å€¼æ›¿æ¢è¿”å›trueï¼Œå¦åˆ™ä»€ä¹ˆä¹Ÿä¸åšç›´æ¥è¿”å›falseã€‚å‚è€ƒï¼šhttp:&#47;&#47;blog.chinaunix.net&#47;uid-24692715-id-5759333.html","like_count":0},{"had_liked":false,"id":245939,"user_name":"coderli","can_delete":false,"product_type":"c1","uid":2160594,"ip_address":"","ucode":"E7A8D6C95E6FFA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI7SFdnXQerohmd3jllgckaGdqUD1EWsbaGQqV20uSiayBLWNPTnGWpic31lxKpoc8dJMDcShqdsYSw/132","comment_is_top":false,"comment_ctime":1599115536,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599115536","product_id":100017301,"comment_content":"åˆ¤æ–­å¯¹æ»¡çš„()tail+1)%n==head,å°±æ˜¯çœ‹tailçš„ä¸‹ä¸€ä¸ªç»“ç‚¹æ˜¯ä¸æ˜¯head,å¦‚æœæ˜¯å°±è¯´æ˜é˜Ÿæ»¡","like_count":0},{"had_liked":false,"id":245499,"user_name":"dpjin","can_delete":false,"product_type":"c1","uid":1539183,"ip_address":"","ucode":"0383D8003E6C14","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/pHPfugzib71JdXkKxRITCzdD46DYcDYHImoYeibHdyu4hLWOBXh7OLllx247vKJvWIcu18dxWOTAtv8AaRB8opvQ/132","comment_is_top":false,"comment_ctime":1598960703,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598960703","product_id":100017301,"comment_content":"golang å®ç°æ™®é€šé˜Ÿåˆ—å’Œå¾ªç¯é˜Ÿåˆ—<br>package main<br><br>import &quot;fmt&quot;<br><br>type Node struct {<br>\tdata int<br>\tnext *Node<br>}<br><br>type LinkedList struct {<br>\theadNode *Node<br>\ttailNode *Node<br>\tlength   int<br>\tcount    int<br>}<br><br>func NewQueue(length int) *LinkedList {<br>\treturn &amp;LinkedList{length: length}<br>}<br><br>&#47;&#47; å…¥é˜Ÿ<br>func (l *LinkedList) Push(data int) bool {<br>\tif l.count == l.length{<br>\t\tl.tailNode = nil<br>\t\treturn false<br>\t}<br>\tnode := &amp;Node{data: data}<br>\tif l.headNode == nil{<br>\t\tl.headNode = node<br>\t}else{<br>\t\tl.tailNode.next = node<br>\t}<br>\tl.tailNode = node<br>\tl.count++<br>\treturn true<br>}<br><br>&#47;&#47; å¾ªç¯é˜Ÿåˆ—å…¥é˜Ÿ<br>func (l *LinkedList) LoopPush(data int) bool {<br>\tif l.count == l.length{<br>\t\tl.tailNode = nil<br>\t\treturn false<br>\t}<br>\tnode := &amp;Node{data: data, next: l.headNode}<br>\tif l.headNode == nil{<br>\t\tl.headNode = node<br>\t}else{<br>\t\tl.tailNode.next = node<br>\t}<br>\tl.tailNode = node<br>\tl.count++<br>\treturn true<br>}<br><br>&#47;&#47; å‡ºå¯¹<br>func (l *LinkedList) Pop() int {<br>\tif l.count == 0 {<br>\t\treturn 0<br>\t}<br>\tres := l.headNode.data<br>\tl.headNode = l.headNode.next<br>\tl.count--<br>\treturn res<br>}","like_count":0},{"had_liked":false,"id":245250,"user_name":"å‰‘å½±æ¢¦æ®‹","can_delete":false,"product_type":"c1","uid":1284481,"ip_address":"","ucode":"A5C5DAA49F6996","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/XSnxM4uP67mVu7ZtPxWqUIvFH15pibGt1rFd34EiblN6NFfgKEKBuibLlI1kUjOIfbY56icwBibn6MmXzSEXm7AHicdQ/132","comment_is_top":false,"comment_ctime":1598875648,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598875648","product_id":100017301,"comment_content":"1.ä½¿ç”¨å¾ªç¯é˜Ÿåˆ—æ¥é¿å…æ¬è¿æ•°æ® 2.é˜»å¡é˜Ÿåˆ—è€ƒè™‘å¹¶å‘æ•°é‡å…³ç³»ï¼Œå¯ä»¥å¤šä¸ªæ¶ˆè´¹è€…å¯¹åº”ä¸€ä¸ªç”Ÿäº§è€…ã€‚3.CASæ¥å®ç°æ— é”é˜Ÿåˆ—ï¼Œé€šè¿‡åˆ¤æ–­tailä½ç½®åœ¨å…¥é˜Ÿæ—¶æ˜¯å¦å‘ç”Ÿæ”¹å˜ã€‚å‡ºé˜Ÿæ—¶åˆ¤æ–­headä½ç½®æ˜¯å¦å‘ç”Ÿæ”¹å˜","like_count":0},{"had_liked":false,"id":244227,"user_name":"å¤œç©ºå’å¹è°ƒ","can_delete":false,"product_type":"c1","uid":1189074,"ip_address":"","ucode":"CC9350BCF218CD","user_header":"https://static001.geekbang.org/account/avatar/00/12/24/d2/a5e272ce.jpg","comment_is_top":false,"comment_ctime":1598434547,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598434547","product_id":100017301,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªç–‘é—®ï¼Œåœ¨ç¯å½¢é˜Ÿåˆ—dequeue()æ–¹æ³•é‡Œï¼Œheadä½ç½®æ”¹å˜çš„æ—¶å€™ï¼Œæ˜¯å¦æ²¡å¿…è¦ç”¨(head+1)%nï¼Œè€Œç›´æ¥ç”¨head++å°±è¡Œï¼Œå› ä¸ºæˆ‘ç†è§£åœ¨å‡ºé˜Ÿçš„æƒ…å†µä¸‹head&lt;=tailçš„ï¼Œè€Œtail=headæƒ…å†µåœ¨ä¸€å¼€å§‹å°±æ’é™¤äº†ï¼Œhead+1æç«¯æƒ…å†µæ˜¯åˆšå¥½ç­‰äºtailï¼Œè€Œtailè¿™ä¸ªæ—¶å€™ä¸€å®šæ˜¯æ²¡æœ‰è¶…è¿‡nçš„ï¼Œå› ä¸ºæ²¡å¿…è¦å»å’Œnå–æ¨¡ï¼Œä¸çŸ¥é“èƒ½å¦è§£ç­”ä¸€ä¸‹ã€‚","like_count":0},{"had_liked":false,"id":243798,"user_name":"JerryZhu","can_delete":false,"product_type":"c1","uid":1591223,"ip_address":"","ucode":"76850CD45786C1","user_header":"https://static001.geekbang.org/account/avatar/00/18/47/b7/b30472fd.jpg","comment_is_top":false,"comment_ctime":1598278994,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598278994","product_id":100017301,"comment_content":"ç”¨åˆ°é˜Ÿåˆ—æ“ä½œçš„ä¸€ä¸ªå…¸å‹åº”ç”¨å°±æ˜¯æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œç„¶åå°±æ˜¯ä¸€ç§ç‰¹æ®Šæƒ…å†µéœ€è¦å¯¹æŸä¸€ç±»ç‰¹å®šæ¶ˆæ¯æœ‰é¡ºåºçš„è¯»å–æ—¶ä¼šåœ¨å†…å­˜ä¸­ç”Ÿæˆé˜Ÿåˆ—ï¼Œå°†æ¶ˆæ¯æ”¾å…¥é˜Ÿåˆ—æ’æˆé¡ºåºã€‚<br>æ— é”å¹¶å‘å°±æ˜¯åœ¨å‡ºé˜Ÿå…¥é˜Ÿé€šè¿‡è‡ªæ—‹CASå¯¹å…¥é˜Ÿï¼Œå‡ºé˜Ÿè¯·æ±‚è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœæˆåŠŸå°±è¿›è¡Œå…¥é˜Ÿæˆ–å‡ºé˜Ÿæ“ä½œï¼Œ å¤±è´¥å°±ç»§ç»­å°è¯•<br>","like_count":0},{"had_liked":false,"id":243212,"user_name":"Jiantao","can_delete":false,"product_type":"c1","uid":1163504,"ip_address":"","ucode":"444580EC5EF109","user_header":"https://static001.geekbang.org/account/avatar/00/11/c0/f0/1aabc056.jpg","comment_is_top":false,"comment_ctime":1597994734,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597994734","product_id":100017301,"comment_content":"#cp#æ€»ç»“<br>ä¸€ã€ä»€ä¹ˆæ˜¯é˜Ÿåˆ—ï¼Ÿ<br>1.å…ˆè¿›è€…å…ˆå‡ºï¼Œè¿™å°±æ˜¯å…¸å‹çš„â€œé˜Ÿåˆ—â€ç»“æ„ã€‚<br>2.æ”¯æŒä¸¤ä¸ªæ“ä½œï¼šå…¥é˜Ÿenqueue()ï¼Œæ”¾ä¸€ä¸ªæ•°æ®åˆ°é˜Ÿå°¾ï¼›å‡ºé˜Ÿdequeue()ï¼Œä»é˜Ÿå¤´å–ä¸€ä¸ªå…ƒç´ ã€‚<br>3.æ‰€ä»¥ï¼Œå’Œæ ˆä¸€æ ·ï¼Œé˜Ÿåˆ—ä¹Ÿæ˜¯ä¸€ç§æ“ä½œå—é™çš„çº¿æ€§è¡¨ã€‚<br>äºŒã€å¦‚ä½•å®ç°é˜Ÿåˆ—ï¼Ÿ<br>1.é˜Ÿåˆ—API<br>public interface Queue&lt;T&gt; {<br>public void enqueue(T item); &#47;&#47;å…¥é˜Ÿ<br>public T dequeue(); &#47;&#47;å‡ºé˜Ÿ<br>public int size(); &#47;&#47;ç»Ÿè®¡å…ƒç´ æ•°é‡<br>public boolean isNull(); &#47;&#47;æ˜¯å¦ä¸ºç©º<br>}<br>2.æ•°ç»„å®ç°ï¼ˆé¡ºåºé˜Ÿåˆ—ï¼‰ï¼šè§ä¸‹ä¸€æ¡ç•™è¨€<br>3.é“¾è¡¨å®ç°ï¼ˆé“¾å¼é˜Ÿåˆ—ï¼‰ï¼šè§ä¸‹ä¸€æ¡ç•™è¨€<br>4.å¾ªç¯é˜Ÿåˆ—ï¼ˆåŸºäºæ•°ç»„ï¼‰ï¼šè§ä¸‹ä¸€æ¡ç•™è¨€<br>ä¸‰ã€é˜Ÿåˆ—æœ‰å“ªäº›å¸¸è§çš„åº”ç”¨ï¼Ÿ<br>1.é˜»å¡é˜Ÿåˆ—<br>1ï¼‰åœ¨é˜Ÿåˆ—çš„åŸºç¡€ä¸Šå¢åŠ é˜»å¡æ“ä½œï¼Œå°±æˆäº†é˜»å¡é˜Ÿåˆ—ã€‚<br>2ï¼‰é˜»å¡é˜Ÿåˆ—å°±æ˜¯åœ¨é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™ï¼Œä»é˜Ÿå¤´å–æ•°æ®ä¼šè¢«é˜»å¡ï¼Œå› ä¸ºæ­¤æ—¶è¿˜æ²¡æœ‰æ•°æ®å¯å–ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰äº†æ•°æ®æ‰èƒ½è¿”å›ï¼›å¦‚æœé˜Ÿåˆ—å·²ç»æ»¡äº†ï¼Œé‚£ä¹ˆæ’å…¥æ•°æ®çš„æ“ä½œå°±ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰ç©ºé—²ä½ç½®åå†æ’å…¥æ•°æ®ï¼Œç„¶ååœ¨è¿”å›ã€‚<br>3ï¼‰ä»ä¸Šé¢çš„å®šä¹‰å¯ä»¥çœ‹å‡ºè¿™å°±æ˜¯ä¸€ä¸ªâ€œç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹â€ã€‚è¿™ç§åŸºäºé˜»å¡é˜Ÿåˆ—å®ç°çš„â€œç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹â€å¯ä»¥æœ‰æ•ˆåœ°åè°ƒç”Ÿäº§å’Œæ¶ˆè´¹çš„é€Ÿåº¦ã€‚å½“â€œç”Ÿäº§è€…â€ç”Ÿäº§æ•°æ®çš„é€Ÿåº¦è¿‡å¿«ï¼Œâ€œæ¶ˆè´¹è€…â€æ¥ä¸åŠæ¶ˆè´¹æ—¶ï¼Œå­˜å‚¨æ•°æ®çš„é˜Ÿåˆ—å¾ˆå¿«å°±ä¼šæ»¡äº†ï¼Œè¿™æ—¶ç”Ÿäº§è€…å°±é˜»å¡ç­‰å¾…ï¼Œç›´åˆ°â€œæ¶ˆè´¹è€…â€æ¶ˆè´¹äº†æ•°æ®ï¼Œâ€œç”Ÿäº§è€…â€æ‰ä¼šè¢«å”¤é†’ç»§ç»­ç”Ÿäº§ã€‚ä¸ä»…å¦‚æ­¤ï¼ŒåŸºäºé˜»å¡é˜Ÿåˆ—ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡åè°ƒâ€œç”Ÿäº§è€…â€å’Œâ€œæ¶ˆè´¹è€…â€çš„ä¸ªæ•°ï¼Œæ¥æé«˜æ•°æ®å¤„ç†æ•ˆç‡ï¼Œæ¯”å¦‚é…ç½®å‡ ä¸ªæ¶ˆè´¹è€…ï¼Œæ¥åº”å¯¹ä¸€ä¸ªç”Ÿäº§è€…ã€‚<br>2.å¹¶å‘é˜Ÿåˆ—<br>1ï¼‰åœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œä¼šæœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œé˜Ÿåˆ—ï¼Œè¿™æ—¶å°±ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚èƒ½å¤Ÿæœ‰æ•ˆè§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜çš„é˜Ÿåˆ—å°±ç§°ä¸ºå¹¶å‘é˜Ÿåˆ—ã€‚<br>2ï¼‰å¹¶å‘é˜Ÿåˆ—ç®€å•çš„å®ç°å°±æ˜¯åœ¨enqueue()ã€dequeue()æ–¹æ³•ä¸ŠåŠ é”ï¼Œä½†æ˜¯é”ç²’åº¦å¤§å¹¶å‘åº¦ä¼šæ¯”è¾ƒä½ï¼ŒåŒä¸€æ—¶åˆ»ä»…å…è®¸ä¸€ä¸ªå­˜æˆ–å–æ“ä½œã€‚<br>3ï¼‰å®é™…ä¸Šï¼ŒåŸºäºæ•°ç»„çš„å¾ªç¯é˜Ÿåˆ—åˆ©ç”¨CASåŸå­æ“ä½œï¼Œå¯ä»¥å®ç°éå¸¸é«˜æ•ˆçš„å¹¶å‘é˜Ÿåˆ—ã€‚è¿™ä¹Ÿæ˜¯å¾ªç¯é˜Ÿåˆ—æ¯”é“¾å¼é˜Ÿåˆ—åº”ç”¨æ›´åŠ å¹¿æ³›çš„åŸå› ã€‚<br>3.çº¿ç¨‹æ± èµ„æºæ¯ç«­æ˜¯çš„å¤„ç†<br>åœ¨èµ„æºæœ‰é™çš„åœºæ™¯ï¼Œå½“æ²¡æœ‰ç©ºé—²èµ„æºæ—¶ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥é€šè¿‡â€œé˜Ÿåˆ—â€è¿™ç§æ•°æ®ç»“æ„æ¥å®ç°è¯·æ±‚æ’é˜Ÿã€‚<br>å››ã€æ€è€ƒ<br>1.é™¤äº†çº¿ç¨‹æ± è¿™ç§æ± ç»“æ„ä¼šç”¨åˆ°é˜Ÿåˆ—æ’é˜Ÿè¯·æ±‚ï¼Œè¿˜æœ‰å“ªäº›ç±»ä¼¼çº¿ç¨‹æ± ç»“æ„æˆ–è€…åœºæ™¯ä¸­ä¼šç”¨åˆ°é˜Ÿåˆ—çš„æ’é˜Ÿè¯·æ±‚å‘¢ï¼Ÿ<br>2.ä»Šå¤©è®²åˆ°å¹¶å‘é˜Ÿåˆ—ï¼Œå…³äºå¦‚ä½•å®ç°æ— é”çš„å¹¶å‘é˜Ÿåˆ—ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šè®¨è®ºã€‚å¯¹è¿™ä¸ªé—®é¢˜ï¼Œä½ æ€ä¹ˆçœ‹ï¼Ÿ","like_count":0},{"had_liked":false,"id":243202,"user_name":"éšé£","can_delete":false,"product_type":"c1","uid":1476862,"ip_address":"","ucode":"037CE3554D8AB9","user_header":"https://static001.geekbang.org/account/avatar/00/16/88/fe/c18a85fe.jpg","comment_is_top":false,"comment_ctime":1597992077,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597992077","product_id":100017301,"comment_content":"ç¬¬ä¸€ä¸ªä¾‹å­å‡ºé˜Ÿåæ²¡æœ‰å¤„ç†nå’Œtailï¼Œå°±ç®—é˜Ÿåˆ—ä¸ºç©ºäº†ä¸‹æ¬¡è¿˜æ˜¯æ— æ³•å…¥é˜Ÿäº†å•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":241144,"user_name":"è¥¿ç”µ","can_delete":false,"product_type":"c1","uid":2063037,"ip_address":"","ucode":"95BD4CE9D93018","user_header":"https://static001.geekbang.org/account/avatar/00/1f/7a/bd/1f461acf.jpg","comment_is_top":false,"comment_ctime":1597201094,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597201094","product_id":100017301,"comment_content":"åˆ¤æ–­ç¯å½¢é˜Ÿåˆ—å·²æ»¡çš„æ–¹æ³•:è‹¥tail åŠ ä¸€ç­‰äºheadï¼Œ if(head == addOnece(tail)) ï¼› åŠ æ³•å‡½æ•°è‡ªå®šä¹‰ï¼ŒåŠ åˆ°å¤´äº†è½¬åˆ°0","like_count":0},{"had_liked":false,"id":240626,"user_name":"Geek_216fd5","can_delete":false,"product_type":"c1","uid":1602049,"ip_address":"","ucode":"EA6804E9E974B3","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLb5UK2u6RyS48ia8H2lUSlUyQEaBiclDlqpbQUWqTWeuf3Djl3ruHRN3U37GXYuWAfAW5d1xkm6F7w/132","comment_is_top":false,"comment_ctime":1597021216,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597021216","product_id":100017301,"comment_content":"class ArrayQueue(object):<br>    def __init__(self, capacity):<br>        self.arrayQueue = list(&#39;-&#39;*capacity)<br>        self._head = 0<br>        self._tail = 0<br>        self.capacity = capacity<br>        self.occupied = 0<br>    # æ–°æ¥çš„ç›´æ¥æŒ‰é¡ºåºååœ¨ç©ºä½ä¸Š<br>    # å·²ç»è½åº§çš„äººä¸ç”¨å¾€å‰æŒªä½ç½®<br>    def enQueue(self, item):<br>        if self.occupied &lt; self.capacity:<br>            if self._tail == self.capacity:<br>                self._tail = 0<br>            print(self._tail)<br>            self.arrayQueue[self._tail] = &#39;A&#39;<br>            self._tail += 1<br>            self.occupied += 1<br>        else:<br>            print(&#39;queue full!&#39;)<br><br>    def dequeue(self):<br>        if self.occupied &gt; 0:<br>            if self._head == self.occupied:<br>                self._head = 0<br>            self.arrayQueue[self._head] = &#39;-&#39;<br>            self._head +=1<br>            self.occupied -= 1<br>        else :<br>            print(&#39;empty&#39;)<br><br><br><br>    def displayQueue(self):<br><br>        print(&#39;&#39;.join(str(i) for i in self.arrayQueue))<br><br><br><br>if __name__ == &#39;__main__&#39;:<br>    capacity = 10<br>    hotelQueue = ArrayQueue(capacity)<br>    deltaStr = &#39;&#39;<br>    while deltaStr != &quot;init9&quot;:<br>        deltaStr = input(&#39;please input init9 to exit or delta num to the queue!&#39;)<br>        if int(deltaStr) &gt; 0:<br>            for i in range(0, int(deltaStr)):<br>                hotelQueue.enQueue(&#39;A&#39;)<br>            hotelQueue.displayQueue()<br>        elif int(deltaStr) &lt; 0:<br>            for i in range(0, -int(deltaStr)):<br>                hotelQueue.dequeue()<br>            hotelQueue.displayQueue()<br>        else:<br>            deltaStr = input(&#39;please input init9 to exit or delta num to the queue!&#39;)<br>","like_count":0},{"had_liked":false,"id":240145,"user_name":"è¡è™š","can_delete":false,"product_type":"c1","uid":2093100,"ip_address":"","ucode":"4A7F7F53EA5A3E","user_header":"https://static001.geekbang.org/account/avatar/00/1f/f0/2c/a373fac5.jpg","comment_is_top":false,"comment_ctime":1596770581,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596770581","product_id":100017301,"comment_content":"Classé‡ŒåŠ ä¸€ä¸ªè·Ÿè¸ªå½“å‰queueå¤§å°çš„attrï¼ŒåŒæ—¶å®ç°äº†ä¸€ä¸‹å…¨åˆ©ç”¨çš„åŠŸèƒ½<br><br>public class CircularQueue {<br>    private String[] items;<br>    private int capacity = 0;<br>    private int size = 0;<br>    private int head = 0;<br>    private int tail = 0;<br><br>    public CircularQueue(int cap){<br>        items = new String[cap];<br>        capacity = cap;<br>        size = 0;<br>    }<br><br>    public boolean enqueue(String item){<br>        if (size &gt;= capacity) {<br>            return false;<br>        } else {<br>            items[tail] = item;<br>            tail = (tail + 1) % capacity;<br>            size++;<br>            return true;<br>        }<br>    }<br>    <br>    public String dequeue(){<br>        if (size == 0) {<br>            return null;<br>        } else {<br>            String ret = items[head];<br>            size--;<br>            head = (head + 1) % capacity;<br>            return ret;<br>        }<br>    }<br><br>    public void printQueue(){<br>        int i = head;<br>        if(size == capacity){<br>            System.out.printf(&quot;%s &quot;, items[i]);<br>            i = (i+1) % capacity;<br>        }<br>        for(; i!=tail; i = (i+1)%capacity){<br>            System.out.printf(&quot;%s &quot;, items[i]);<br>        }<br>        System.out.println(&quot;&quot;);<br>    }<br>","like_count":0},{"had_liked":false,"id":239741,"user_name":"æ–°å®‰","can_delete":false,"product_type":"c1","uid":1876592,"ip_address":"","ucode":"CA2E1304FCAC6A","user_header":"https://static001.geekbang.org/account/avatar/00/1c/a2/70/98cfd56b.jpg","comment_is_top":false,"comment_ctime":1596630590,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596630590","product_id":100017301,"comment_content":"åŸºäºé“¾è¡¨å®ç°é˜Ÿåˆ—:<br>public class ListNode {<br><br>    public Integer value;<br><br>    public ListNode next;<br><br>    public ListNode(Integer value) {<br>        this.value = value;<br>    }<br><br>}<br><br>public class LinkedListQueue {<br><br>    public ListNode head;<br><br>    public ListNode tail;<br><br>    &#47;**<br>     *  å…¥é˜Ÿåˆ—<br>     * @param item<br>     * @return<br>     *&#47;<br>    public boolean enqueue(Integer item) {<br>        ListNode node = new ListNode(item);<br>        if (this.head == null) {<br>            head = node;<br>            tail = node;<br>        } else {<br>            tail.next = node;<br>            tail = node;<br>        }<br>        return true;<br>    }<br><br>    &#47;**<br>     * å‡ºé˜Ÿåˆ—<br>     * @return<br>     *&#47;<br>    public ListNode dequeue() {<br>        ListNode dequeueNode = head;<br>        head = head.next;<br>        return dequeueNode;<br>    }<br><br>}","like_count":0},{"had_liked":false,"id":239561,"user_name":"jack","can_delete":false,"product_type":"c1","uid":1898292,"ip_address":"","ucode":"A2253AC8570C5E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/jibauP3icEFic4w56L2ddVghL7h2gGKhFdW8lBfE9rpwwRgzUKkLFY9wb4w70AXz7retME96a6EBRTA0LvSLn0ib8A/132","comment_is_top":false,"comment_ctime":1596587936,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1596587936","product_id":100017301,"comment_content":"åˆ†å¸ƒå¼åº”ç”¨ä¸­çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¹Ÿæ˜¯ä¸€ç§é˜Ÿåˆ—ç»“æ„ã€‚","like_count":0},{"had_liked":false,"id":239449,"user_name":"Henry Liao","can_delete":false,"product_type":"c1","uid":1635174,"ip_address":"","ucode":"EA8407D15E2CC6","user_header":"https://static001.geekbang.org/account/avatar/00/18/f3/66/5d7ba082.jpg","comment_is_top":false,"comment_ctime":1596534127,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596534127","product_id":100017301,"comment_content":"å…³äºCAS å¹¶å‘é˜Ÿåˆ—ç›¸å…³çš„çŸ¥è¯†ï¼Œgoogleäº›æ–‡ç« å®Œå…¨çœ‹ä¸æ‡‚ï¼Œè€å¸ˆèƒ½è®²è§£ä¸€ä¸‹å—ï¼Œæœ‰æ²¡æœ‰é€šä¿—æ˜“æ‡‚çš„æ–‡ç« æ¨è","like_count":0},{"had_liked":false,"id":237383,"user_name":"BADTZ-MARU ğŸª","can_delete":false,"product_type":"c1","uid":1325267,"ip_address":"","ucode":"358FAA1C9F5721","user_header":"https://static001.geekbang.org/account/avatar/00/14/38/d3/07585dc8.jpg","comment_is_top":false,"comment_ctime":1595815145,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595815145","product_id":100017301,"comment_content":"æˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œå¯¹å¾ªç¯é˜Ÿåˆ—ï¼Œå¦‚æœæ¯æ¬¡å…¥é˜Ÿæ‰§è¡Œçš„tail%nçš„åŠ¨ä½œï¼Œå‡ºé˜ŸåŒç†ï¼Œåˆ¤æ–­é˜Ÿæ»¡å°±æ˜¯tail - head == nï¼Œç„¶åæ¯æ¬¡å…¥é˜Ÿï¼Œå‡ºé˜Ÿéƒ½æ˜¯æ‰§è¡Œçš„tail++, head++ï¼ŒæŒ‡é’ˆä¸é‡ç½®ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯å¯ä»¥ä¸æµªè´¹é‚£ä¸ªä½ç½®","like_count":0},{"had_liked":false,"id":236995,"user_name":"Wipeher","can_delete":false,"product_type":"c1","uid":1108731,"ip_address":"","ucode":"A5D7451D95F42C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/wIWrciav7DRkOaD7vUtr084sxprq2U4obfH1ibls4RIsAw5foQlDGIt98x1RHATznNbh0iasibWV2Y7I7QpyFJ4TVA/132","comment_is_top":false,"comment_ctime":1595645734,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595645734","product_id":100017301,"comment_content":"æœ‰å‡ ä¸ªæƒ³æ³•ï¼Œå°±æ˜¯å¾ªç¯é˜Ÿåˆ—æ˜¯å¦å¯ä»¥é“¾è¡¨å®ç°ï¼Œæ— é”å¹¶å‘é˜Ÿåˆ—æ˜¯å¦ä¹Ÿå¯ä»¥ç”¨é“¾è¡¨å®ç°","like_count":0},{"had_liked":false,"id":236741,"user_name":"æå­Ÿ","can_delete":false,"product_type":"c1","uid":1006768,"ip_address":"","ucode":"AD2349CB12F130","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/b0/77e5f8c8.jpg","comment_is_top":false,"comment_ctime":1595514864,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1595514864","product_id":100017301,"comment_content":"   &#47;**<br>     * å¾ªç¯é˜Ÿåˆ—<br>     * å…¥é˜Ÿ<br>     * @param item å€¼<br>     *&#47;<br>    public void cycleEnqueue(String item){<br>        if(((tail+1) &amp; (n-1)) == head){<br>            return;<br>        }<br>        items[tail] = item;<br>        tail = (tail+1) &amp; (n-1);<br>    }<br><br>    &#47;**<br>     * å¾ªç¯å‡ºé˜Ÿ<br>     * å‡ºé˜Ÿ<br>     *&#47;<br>    public String cycleDequeue(){<br>        if(head == tail) return null;<br>        String item = items[head];<br>        head = (head+1)&amp;(n-1);<br>        return item;<br>    }","like_count":0},{"had_liked":false,"id":234667,"user_name":"williamcai","can_delete":false,"product_type":"c1","uid":1158294,"ip_address":"","ucode":"B158F52C2D39BC","user_header":"https://static001.geekbang.org/account/avatar/00/11/ac/96/46b13896.jpg","comment_is_top":false,"comment_ctime":1594771335,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594771335","product_id":100017301,"comment_content":"é’ˆå¯¹ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘æƒ³åˆ°å¤§å­¦é£Ÿå ‚æ’é˜Ÿåƒé¥­çš„åœºæ™¯ï¼Œæ‰“é¥­çš„çª—å£å°±10ä¸ªï¼Œèƒ½åŒæ—¶å¹¶å‘å¤„ç†10ä¸ªï¼Œå¤§å®¶æ’æˆ10ä¸ªé˜Ÿä¼ï¼Œæ¯•ç«Ÿé£Ÿå ‚ç©ºé—´æœ‰é™ï¼Œå½“10ä¸ªé˜Ÿä¼éƒ½æ™’æ»¡äº†ï¼Œåé¢çš„äººç›´æ¥æ‹’åœ¨é£Ÿå ‚ä»¬ä¹‹å¤–ã€‚<br>é’ˆå¯¹ç¬¬äºŒä¸ªé—®é¢˜ï¼Œå¹¶å‘é˜Ÿåˆ—åŠ é”æ€§èƒ½ä¼šä¸‹é™ï¼Œå¹¶å‘åº¦é™ä½ï¼Œä¸åŠ é”å¹¶å‘åº¦é«˜ï¼Œä½†æ˜¯çº¿ç¨‹ä¸å®‰å…¨ï¼Œè¿™æ˜¯ä¸€ä¸ªçŸ›ç›¾é—®é¢˜ï¼Œè¦åœ¨è¿™ä¹‹é—´å¯»æ‰¾å¹³è¡¡","like_count":0},{"had_liked":false,"id":234635,"user_name":"Merry","can_delete":false,"product_type":"c1","uid":1024036,"ip_address":"","ucode":"E2A114E10814BA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a0/24/68c679c8.jpg","comment_is_top":false,"comment_ctime":1594738738,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594738738","product_id":100017301,"comment_content":"æ€è€ƒ1:SPOOLINGæŠ€æœ¯ã€è¿›ç¨‹è°ƒåº¦ç®—æ³•ã€äºŒå‰æ ‘çš„å±‚æ¬¡éå†ä¼šç”¨åˆ°é˜Ÿåˆ—","like_count":0},{"had_liked":false,"id":232814,"user_name":"Adams","can_delete":false,"product_type":"c1","uid":1450626,"ip_address":"","ucode":"6E149B3E76BCD9","user_header":"https://static001.geekbang.org/account/avatar/00/16/22/82/36e3c5d8.jpg","comment_is_top":false,"comment_ctime":1594123542,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594123542","product_id":100017301,"comment_content":"æ€è·¯ç†ç§‘äº†ï¼Œç¬¬äºŒæ®µé¡ºåºé˜Ÿåˆ—å¦‚é˜Ÿåˆ—çš„ä»£ç æˆ‘æ„Ÿè§‰æœ‰ç‚¹æƒ³ä¸é€šï¼Œæ•°æ®è¿ç§»é‚£æ®µä»£ç çš„åˆ¤æ–­éš¾é“ä¸åº”è¯¥æ˜¯i&lt;=tailä¹ˆï¼Œæˆ‘æ‹¿head=2,tail=4åå¤è¯•äº†å‡ é","like_count":0},{"had_liked":false,"id":232254,"user_name":"FD","can_delete":false,"product_type":"c1","uid":2052521,"ip_address":"","ucode":"ED396BD322489E","user_header":"https://static001.geekbang.org/account/avatar/00/1f/51/a9/741b5ad9.jpg","comment_is_top":false,"comment_ctime":1593936052,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593936052","product_id":100017301,"comment_content":"æ•°ç»„å®ç°çš„å¾ªç¯é˜Ÿåˆ—ï¼Œæ·»åŠ ä¸€ä¸ªå˜é‡curè¡¨ç¤ºå½“å‰é˜Ÿåˆ—å…ƒç´ çš„ä¸ªæ•°ï¼Œåˆ¤æ–­æ»¡çš„æ¡ä»¶æ”¹æˆif(tail==head &amp;&amp; cur==n )ï¼Œä¸å°±å¯ä»¥ä¸æµªè´¹ä¸€ä¸ªå­˜å‚¨å•å…ƒå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":231477,"user_name":"æ†çˆ±ä¸å…³å¿ƒ","can_delete":false,"product_type":"c1","uid":1133580,"ip_address":"","ucode":"A868ACB200C798","user_header":"https://static001.geekbang.org/account/avatar/00/11/4c/0c/ada45f25.jpg","comment_is_top":false,"comment_ctime":1593683197,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593683197","product_id":100017301,"comment_content":"1.æ¸¸æˆä¸­çš„æ¶ˆæ¯é˜Ÿåˆ—<br>2.ä¸ç†Ÿæ‚‰Javaï¼Œä¸çŸ¥é“æ€ä¹ˆå®ç°","like_count":0},{"had_liked":false,"id":230203,"user_name":"Geek_dd8b2b","can_delete":false,"product_type":"c1","uid":1988075,"ip_address":"","ucode":"CBEF7C39075A96","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJX4ZU53F8hBHicctluqK6Ef3U0ib40bq1vFyAvqV0wu3GaPuWbj967OdMT7k0gl3OMxsfopvbk9veQ/132","comment_is_top":false,"comment_ctime":1593310213,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593310213","product_id":100017301,"comment_content":"æ­£åœ¨åˆ·leetcodeçš„æ¢ç´¢ é˜Ÿåˆ—ï¼Œç„¶åå°±äºŒåˆ·äº†è¿™ç¯‡ï¼Œå‘ç°ç‹è€å¸ˆçš„ç¯å½¢é˜Ÿåˆ—çœŸçš„æœ‰åŠ©äºç†è§£å¦‚ä½•è®¡ç®—é˜Ÿåˆ—æ»¡çš„æ—¶å€™ï¼Œ","like_count":0},{"had_liked":false,"id":229117,"user_name":"Geek_e68053","can_delete":false,"product_type":"c1","uid":2044920,"ip_address":"","ucode":"53AA5F0627FEEC","user_header":"","comment_is_top":false,"comment_ctime":1592899926,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592899926","product_id":100017301,"comment_content":"å¯¹ä¸æ•°ç»„é˜Ÿåˆ—ï¼Œç§»åŠ¨å…ƒç´ ä¸æ˜¯æœ€å¥½çš„æ–¹æ¡ˆï¼Œä½œè€…åº”è¯¥ç»™å‡ºæœ€å¥½çš„æ–¹æ¡ˆ","like_count":0},{"had_liked":false,"id":228699,"user_name":"Geek_5ab375","can_delete":false,"product_type":"c1","uid":2017446,"ip_address":"","ucode":"A508D91ACBC234","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/icK2dToXWiaDx4giaXsrlpA5Ka4duq1ELzHmZbT2gPHtPoibT1eolSSAH2T9V4ncSfWw7hiaK6TjSPohSzUOxLn4aRA/132","comment_is_top":false,"comment_ctime":1592789535,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592789535","product_id":100017301,"comment_content":"++headä¼šä¸ä¼šé€ æˆé¢‘ç¹ç”³è¯·ç©ºé—´å’Œgc","like_count":0},{"had_liked":false,"id":227073,"user_name":"æå®¢å­¦å­","can_delete":false,"product_type":"c1","uid":1149510,"ip_address":"","ucode":"40051597564EB7","user_header":"https://static001.geekbang.org/account/avatar/00/11/8a/46/71747b18.jpg","comment_is_top":false,"comment_ctime":1592275615,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592275615","product_id":100017301,"comment_content":"1.Android çš„ OKHTTP ä¸­æœ‰ç”¨åˆ°æœ‰ç•Œé˜Ÿåˆ—æ¥å¤„ç†è¯·æ±‚ï¼›","like_count":0},{"had_liked":false,"id":225630,"user_name":"Geek_849f9f","can_delete":false,"product_type":"c1","uid":2027473,"ip_address":"","ucode":"67601F35A91999","user_header":"","comment_is_top":false,"comment_ctime":1591801865,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591801865","product_id":100017301,"comment_content":"å¼‚æ­¥å‘å¸ƒä»»åŠ¡åˆ°æ¶ˆæ¯é˜Ÿåˆ—","like_count":0},{"had_liked":false,"id":221783,"user_name":"ä¸ƒæœˆ","can_delete":false,"product_type":"c1","uid":1988043,"ip_address":"","ucode":"876EE5EAEC9DC4","user_header":"https://static001.geekbang.org/account/avatar/00/1e/55/cb/9c23f47d.jpg","comment_is_top":false,"comment_ctime":1590590999,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590590999","product_id":100017301,"comment_content":"å†…å­˜æ± ï¼Œåº”è¯¥ç®—æ˜¯ä¸€ç§é˜Ÿåˆ—ï¼Œä¸€ç§èµ„æºæœ‰é™æƒ…å†µã€‚æˆ‘é‡åˆ°æ›´å¤šæ˜¯æœ‰åŠ é”çš„é˜Ÿåˆ—ï¼Œæ— é”å¹¶å‘é˜Ÿåˆ—è¿˜æ˜¯æŒºæ„Ÿå…´è¶£","like_count":0},{"had_liked":false,"id":221685,"user_name":"KangShan","can_delete":false,"product_type":"c1","uid":1082000,"ip_address":"","ucode":"07497A7AC92238","user_header":"https://static001.geekbang.org/account/avatar/00/10/82/90/e4a08b0e.jpg","comment_is_top":false,"comment_ctime":1590566143,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590566143","product_id":100017301,"comment_content":"ä¸æ˜ç™½ç¯å½¢é˜Ÿåˆ— ä¸ºä»€ä¹ˆä¸€å®šè¦è®©å°¾éƒ¨ç©ºä¸€ä¸ªä¸èƒ½å¡«å……ï¼Œè®©å…¶å¡«å…… tail ä¸ head æŒ‡é’ˆé‡åˆä¹Ÿæ²¡å…³ç³»ï¼Œè‡³äºæ˜¯å¦é˜Ÿç©ºé˜Ÿæ»¡çš„æƒ…å†µç›´æ¥åˆ¤ç©ºå°±è¡Œäº†å‘€ï¼Ÿ<br><br>```java<br>private int size;<br>    private int head = 0, tail = 0;<br>    private Object[] elements;<br><br>    public CycleQueue(int size) {<br>        this.size = size;<br>        elements = new Object[size];<br>    }<br><br>    public boolean push(E e) {<br>        if (elements[tail] == null) {<br>            elements[tail] = e;<br>            tail = (tail + 1) % size;<br>            return true;<br>        } else {<br>            return false;<br>        }<br>    }<br><br>    public E pop() {<br>        if (elements[head] != null) {<br>            E element = (E) elements[head];<br>            elements[head] = null;<br>            head = (head + 1) % size;<br>            return element;<br>        } else {<br>            return null;<br>        }<br>    }<br>```","like_count":0},{"had_liked":false,"id":220351,"user_name":"Geek_py hang","can_delete":false,"product_type":"c1","uid":1915167,"ip_address":"","ucode":"E1DABF14C9176B","user_header":"https://static001.geekbang.org/account/avatar/00/1d/39/1f/579ae900.jpg","comment_is_top":false,"comment_ctime":1590225562,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590225562","product_id":100017301,"comment_content":"å…ˆè¿›å…ˆå‡ºï¼Œåº“å­˜ç®¡ç†","like_count":0},{"had_liked":false,"id":218882,"user_name":"guan0078","can_delete":false,"product_type":"c1","uid":1090467,"ip_address":"","ucode":"53B15FF3752A40","user_header":"https://static001.geekbang.org/account/avatar/00/10/a3/a3/804fb3e9.jpg","comment_is_top":false,"comment_ctime":1589892509,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589892509","product_id":100017301,"comment_content":"1. æœ€å¸¸ç”¨çš„å°±æ˜¯æ¶ˆæ¯é˜Ÿåˆ—ã€‚å‘é‚®ä»¶ã€ç«™å†…ä¿¡ã€å‘çŸ­ä¿¡ç­‰éƒ½æ˜¯è¿™ç§å®ç°æ–¹å¼ã€‚é‡‡ç”¨çš„æ˜¯é˜»å¡é˜Ÿåˆ—ã€‚<br>2. æ— é”å¹¶å‘é˜Ÿåˆ—è¯´å®è¯æ²¡ä»”ç»†ç ”ç©¶è¿‡ï¼Œä¹Ÿæ˜¯çœ‹è¿‡ä¸€äº›æ–‡ç« åæ‰å¤§è‡´äº†è§£äº†ã€‚åŸºæœ¬æ€è·¯æ˜¯é‡‡ç”¨CASçš„æ–¹å¼ï¼Œå…¥é˜Ÿåˆ¤æ–­tailæ˜¯å¦å‘ç”Ÿæ”¹åŠ¨ï¼Œå˜åŒ–çš„è¯å¯ä»¥ç›´æ¥è¿”å›ï¼Œæˆ–è€…ç­‰å¾…åˆ°ä¸‹æ¬¡å¾ªç¯ç»§ç»­åˆ¤æ–­tailæ˜¯å¦æœ‰æ”¹åŠ¨ï¼Œç›´åˆ°åˆ¤æ–­tailæ²¡æœ‰æ”¹åŠ¨ï¼Œåˆ™å…¥é˜Ÿã€‚è¿™ç§ä¸»è¦æ£€æŸ¥å½“Aæ‰§è¡Œå…¥æ ˆæ—¶ï¼ŒtailæŒ‡é’ˆä½ç½®å·²ç»å‘ç”Ÿæ”¹å˜çš„æƒ…å†µã€‚","like_count":0},{"had_liked":false,"id":217609,"user_name":"iris","can_delete":false,"product_type":"c1","uid":1986106,"ip_address":"","ucode":"8D54D1DBEA6F64","user_header":"https://static001.geekbang.org/account/avatar/00/1e/4e/3a/1932100c.jpg","comment_is_top":false,"comment_ctime":1589546947,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589546947","product_id":100017301,"comment_content":"é˜Ÿåˆ—ï¼šä¸€ç§åŸºæœ¬çš„æ•°æ®ç»“æ„ï¼Œå…ˆè¿›å…ˆå‡ºï¼Œåªæœ‰ä¸¤ç§æ“ä½œâ€œå…¥é˜Ÿâ€å’Œâ€œå‡ºé˜Ÿâ€ã€‚<br>é˜Ÿåˆ—çš„å¸¸è§åº”ç”¨ï¼š<br>1ã€é˜»å¡é˜Ÿåˆ—ï¼šå½“é˜Ÿåˆ—æ»¡æ—¶é˜»å¡å…¥é˜Ÿæ“ä½œï¼Œå½“é˜Ÿåˆ—ç©ºæ—¶é˜»å¡å‡ºé˜Ÿæ“ä½œ<br>2ã€å¹¶å‘é˜Ÿåˆ—ï¼šâ€œåŸºäºæ•°ç»„çš„å¾ªç¯é˜Ÿåˆ—åˆ©ç”¨CASåŸå­æ“ä½œï¼Œå¯ä»¥å®ç°éå¸¸é«˜æ•ˆçš„å¹¶å‘é˜Ÿåˆ—â€è¿™å¥è¯æˆ‘è¿˜è¦å­¦ä¹ å­¦ä¹ ï¼Œä¸æ€ä¹ˆçœ‹å¾—æ‡‚","like_count":0},{"had_liked":false,"id":216246,"user_name":"é«˜æ—­ç‘","can_delete":false,"product_type":"c1","uid":1243897,"ip_address":"","ucode":"284335282EE526","user_header":"https://static001.geekbang.org/account/avatar/00/12/fa/f9/f4ca4080.jpg","comment_is_top":false,"comment_ctime":1589209203,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589209203","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—ï¼Œè¯»ç©ºäº†ï¼Œå°±æ˜¯readIndexè¿½ä¸ŠwriteIndexäº†ï¼Œå†™æ»¡äº†å°±æ˜¯writeIndexå¥—åœˆè¿½ä¸ŠreadIndexäº†ã€‚<br>è¿™ä¸ªè¿½readIndexå’ŒwriteIndexéƒ½ä¸ç­‰äºsize-1æ—¶ï¼Œè¡¨ç°ä¸ºè¯»ç©ºï¼šreadIndex+1=writeIndexï¼Œå†™æ»¡æ˜¯writeIndex+1 = readIndexã€‚","like_count":0},{"had_liked":false,"id":215726,"user_name":"è±ªè±ªè±ªè±ª","can_delete":false,"product_type":"c1","uid":1906479,"ip_address":"","ucode":"BD1A4B3E4D21F4","user_header":"https://static001.geekbang.org/account/avatar/00/1d/17/2f/ea285ab5.jpg","comment_is_top":false,"comment_ctime":1589086974,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589086974","product_id":100017301,"comment_content":"å¯ä»¥ä¸¤ä¸ªæŒ‡é’ˆä¸æ–­çš„åœ¨é˜Ÿåˆ—ä¸­å¾ªç¯ å»é™¤æ‰æ‰€æœ‰çš„æ•°ç»„æ¬ç§»","like_count":0},{"had_liked":false,"id":214609,"user_name":"Geek_bb2310","can_delete":false,"product_type":"c1","uid":1926508,"ip_address":"","ucode":"022885B257DEB3","user_header":"https://static001.geekbang.org/account/avatar/00/1d/65/6c/be97a3ae.jpg","comment_is_top":false,"comment_ctime":1588772564,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588772564","product_id":100017301,"comment_content":"æˆ‘çªç„¶æƒ³èµ·ç”µå½±äººä½“èœˆèš£ï¼Œã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":214067,"user_name":"Geek_fa5cb8","can_delete":false,"product_type":"c1","uid":1648729,"ip_address":"","ucode":"D71C177A139658","user_header":"","comment_is_top":false,"comment_ctime":1588649304,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588649304","product_id":100017301,"comment_content":"é˜Ÿåˆ—æ˜¯å…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œå‡¡æ˜¯å¯¹è¿™ç§æ“ä½œé¡ºåºæ˜¯FIFOçš„æ¨¡å¼éƒ½å¯ä»¥é‡‡ç”¨é˜Ÿåˆ—ï¼Œ<br>è§£å†³é˜Ÿåˆ—çš„æ•°æ®æ¬ç§»O(N)çš„æ—¶é—´å¤æ‚åº¦ï¼Œå°±å¯ä»¥é‡‡ç”¨å¾ªç¯é˜Ÿåˆ—<br>å¾ªç¯é˜Ÿåˆ—è®¾è®¡ä¸»è¦æ³¨æ„çš„æ˜¯é˜Ÿåˆ—çš„åˆ¤ç©ºå’Œé˜Ÿåˆ—æ»¡çš„åˆ¤æ–­<br>é˜Ÿåˆ—ç©º:tail=n,é˜Ÿåˆ—æ»¡ (tail+1)%n=head<br>","like_count":0},{"had_liked":false,"id":213256,"user_name":"Geek_ac7784","can_delete":false,"product_type":"c1","uid":1981613,"ip_address":"","ucode":"62F0E5E6D6F4BA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/8Dj4ugujXwY24G8pcpgDFGiciarXetG3ItQ4M9mSQMLyRdRRXEXXJVfib48mGUQAu87QcvImwyJIVJlEFeEguV44w/132","comment_is_top":false,"comment_ctime":1588341782,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588341782","product_id":100017301,"comment_content":"å­¦ä¹ ç¬”è®°: é˜Ÿåˆ—å’Œæ ˆå¯¹äºæˆ‘æ¥è¯´æ˜¯å…¸å‹å¥½ç†è§£ä½†ä¸ä¼šç”¨çš„æ•°æ®ç»“æ„<br>1. é˜Ÿåˆ—åˆ†ä¸ºé¡ºåºé˜Ÿåˆ—å’Œé“¾å¼é˜Ÿåˆ—<br>2. é¡ºåºé˜Ÿåˆ—å…¥é˜Ÿæ˜¯ä¼šå‡ºç°æ•°æ®æ¬ç§»æ“ä½œï¼Œå¾ªç¯é˜Ÿåˆ—èƒ½è§£å†³è¯¥é—®é¢˜<br>3.å¾ªç¯é˜Ÿåˆ—ç”¨çš„æ¯”è¾ƒå¤šï¼Œå¾ªç¯é˜Ÿåˆ—+CASåŸå­æ“ä½œå¯ä»¥é«˜æ•ˆå®ç°å¹¶å‘é˜Ÿåˆ—<br>4. å¾ªç¯é˜Ÿåˆ—å®ç°çš„å…³é”®åœ¨äºé˜Ÿæ»¡çš„åˆ¤æ–­ã€‚<br>å…¥é˜Ÿï¼šåˆ¤æ–­æ˜¯å¦é˜Ÿæ»¡ (tail+1)%n = head; æ²¡æ»¡åˆ™å…¥é˜Ÿï¼›queue[tai]l = data; tail = (tail+1)%n;<br>å‡ºé˜Ÿï¼šåˆ¤æ–­é˜Ÿç©º tail == head ï¼Ÿå¦‚æœä¸ç©ºï¼Œåˆ™head = (head +1)%n<br>å¾ªç¯é˜Ÿåˆ—æœ‰ä¸€ä¸ªä½ç½®æ˜¯ä¸å­˜æ•°æ®çš„ã€‚<br>4. é˜Ÿåˆ—ç”¨äºä»»ä½•èµ„æºæœ‰é™çš„åœºæ™¯ï¼Œæ’é˜Ÿè¯·æ±‚èµ„æºï¼Œå¦‚çº¿ç¨‹æ± ã€æ•°æ®åº“çš„è¿æ¥æ± ï¼Ÿ<br>5. æœ¬èŠ‚è¯¾é™Œç”Ÿæ¦‚å¿µï¼š<br>    æ•°æ®åº“çš„è¿æ¥æ± ã€‚<br>    é˜»å¡é˜Ÿåˆ—<br>    å¹¶å‘é˜Ÿåˆ—ï¼ˆå¾ªç¯é˜Ÿåˆ—+CASåŸå­æ“ä½œï¼‰<br>    å…¥é˜Ÿã€å‡ºé˜Ÿæ–¹æ³•åŠ é”<br>è¯¾åæ€è€ƒé¢˜åŠ›ä¸ä»å¿ƒäº†ï¼š<br>ç±»ä¼¼äºçº¿ç¨‹æ± çš„ï¼šwindowsè½¯ä»¶çš„æ¶ˆæ¯é˜Ÿåˆ—<br>æ— é”å¹¶å‘é˜Ÿåˆ—ï¼šå®Œå…¨ä¸æ‡‚","like_count":0},{"had_liked":false,"id":213069,"user_name":"ä¸¥ä¸¹","can_delete":false,"product_type":"c1","uid":1798204,"ip_address":"","ucode":"96FA634D06C3FD","user_header":"https://static001.geekbang.org/account/avatar/00/1b/70/3c/a002615b.jpg","comment_is_top":false,"comment_ctime":1588296042,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1588296042","product_id":100017301,"comment_content":"é€šè¿‡é˜»å¡é˜Ÿåˆ—çš„è®²è§£ï¼Œç»ˆäºèƒ½å¤Ÿå’Œjavaé«˜å¹¶å‘ä¸­çš„çº¿ç¨‹æ± å¤„ç†ç­–ç•¥è”ç³»èµ·æ¥ï¼Œä¸ºä»€ä¹ˆç›´æ¥æ‹’ç»ï¼Ÿä¸ºä»€ä¹ˆæ’é˜Ÿåˆ†ä¸ºæœ‰é™ã€æ— é™ç­‰å¾…ï¼Ÿ","like_count":0},{"had_liked":false,"id":210773,"user_name":"hailowell","can_delete":false,"product_type":"c1","uid":1195572,"ip_address":"","ucode":"557DCAB01710AB","user_header":"","comment_is_top":false,"comment_ctime":1587823794,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587823794","product_id":100017301,"comment_content":"ç¯å½¢é˜Ÿåˆ— åˆå§‹åŒ–æ—¶å¤´ä¸‹æ ‡å’Œå°¾ä¸‹æ ‡ç›¸ç­‰<br>ä¹‹ååˆ¤æ–­é˜Ÿç©ºæ˜¯å¤´å°¾ä¸‹æ ‡ç›¸ç­‰ï¼Œé˜Ÿæ»¡çš„åˆ¤æ–­æ˜¯å°¾ä¸‹æ ‡ä¸‹ä¸€æ¬¡ç§»åŠ¨å°±ä¼šå’Œå¤´ä¸‹æ ‡ç›¸ç­‰<br>ä½¿ç”¨è¿™ä¸ªåˆ¤æ–­ä¸ä¼šæµªè´¹ä¸€ä¸ªç©ºé—´ åŒæ—¶å‡ºé˜Ÿæ—¶ä¸ç”¨æ¸…ç©ºæœ¬æ¥çš„æ•°æ®ï¼Œä½¿ç”¨æ—¶ç›´æ¥è¦†ç›–å°±å¥½","like_count":0},{"had_liked":false,"id":208248,"user_name":"HoSalt","can_delete":false,"product_type":"c1","uid":1156074,"ip_address":"","ucode":"610B03E2A002D1","user_header":"https://static001.geekbang.org/account/avatar/00/11/a3/ea/53333dd5.jpg","comment_is_top":false,"comment_ctime":1587308210,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587308210","product_id":100017301,"comment_content":"ã€Œåœ¨ç”¨æ•°ç»„å®ç°çš„éå¾ªç¯é˜Ÿåˆ—ä¸­ï¼Œé˜Ÿæ»¡çš„åˆ¤æ–­æ¡ä»¶æ˜¯ tail == nï¼Œé˜Ÿç©ºçš„åˆ¤æ–­æ¡ä»¶æ˜¯ head == tailã€‚é‚£é’ˆå¯¹å¾ªç¯é˜Ÿåˆ—ï¼Œå¦‚ä½•åˆ¤æ–­é˜Ÿç©ºå’Œé˜Ÿæ»¡å‘¢ï¼Ÿã€ <br>tailä¸headæŒ‡å‘åŒä¸€ä½ç½®æ—¶ï¼Œå¯ä»¥é€šè¿‡åˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„å€¼æ˜¯å¦ä¸ºç©ºï¼Œæ¥åˆ¤æ–­æ˜¯å¦ä¸ºå¯¹ç©ºæˆ–å¯¹æ»¡å§","like_count":0},{"had_liked":false,"id":208216,"user_name":"æµ·ç›—èˆ¹é•¿","can_delete":false,"product_type":"c1","uid":1363634,"ip_address":"","ucode":"ECB28BA21A4113","user_header":"https://static001.geekbang.org/account/avatar/00/14/ce/b2/1f914527.jpg","comment_is_top":false,"comment_ctime":1587303270,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587303270","product_id":100017301,"comment_content":"è®¡ç®—ç½‘ç»œä¸­æ•°æ®çš„ä¼ è¾“éƒ½ä¼šç”¨åˆ°é˜Ÿåˆ—ã€‚","like_count":0},{"had_liked":false,"id":207838,"user_name":"Kenå¼ äº‘å¿ ","can_delete":false,"product_type":"c1","uid":1134288,"ip_address":"","ucode":"D0BAC9FC17DE2B","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/d0/d8a5f720.jpg","comment_is_top":false,"comment_ctime":1587194467,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587194467","product_id":100017301,"comment_content":"1.é™¤äº†çº¿ç¨‹æ± è¿™ç§æ± ç»“æ„ä¼šç”¨åˆ°é˜Ÿåˆ—æ’é˜Ÿè¯·æ±‚ï¼Œä½ è¿˜çŸ¥é“æœ‰å“ªäº›ç±»ä¼¼çš„æ± ç»“æ„æˆ–è€…åœºæ™¯ä¸­ä¼šç”¨åˆ°é˜Ÿåˆ—çš„æ’é˜Ÿè¯·æ±‚å‘¢ï¼Ÿ<br>æ¶ˆæ¯é˜Ÿåˆ—<br>2.ä»Šå¤©è®²åˆ°å¹¶å‘é˜Ÿåˆ—ï¼Œå…³äºå¦‚ä½•å®ç°æ— é”å¹¶å‘é˜Ÿåˆ—ï¼Œç½‘ä¸Šæœ‰éå¸¸å¤šçš„è®¨è®ºã€‚å¯¹è¿™ä¸ªé—®é¢˜ï¼Œä½ æ€ä¹ˆçœ‹å‘¢ï¼Ÿ<br>ä¼šç”¨å¤šä¸ªå°çš„é˜Ÿåˆ—å…ˆæ¥å­˜å‚¨è¯·æ±‚çš„æ•°æ®å’Œè¯·æ±‚é¡ºåº,ç„¶åå¤šä¸ªå°çš„é˜Ÿåˆ—å†æŒ‰ç…§CASçš„æ–¹å¼å‘å¤§çš„é˜Ÿåˆ—æäº¤å°é˜Ÿåˆ—ä¸­çš„å†…å®¹,è¿™æ ·æäº¤æ—¶ä¸€æ¬¡æ€§å°±å¯ä»¥æäº¤å¤šä»½è¯·æ±‚åˆ°æœ€ç»ˆçš„å¤§é˜Ÿåˆ—ä¸­,è€Œä¸”ä¹Ÿå¤§å¤§å‡å°‘äº†ç«äº‰çš„æ¬¡æ•°,è¿™ä¹Ÿæ˜¯ç”¨ç©ºé—´æ¢æ—¶é—´çš„ä¸€ç§æ–¹å¼,ç”¨æ›´å¤šçš„å†…å­˜æ¥æ¢å–æ›´é«˜çš„å¤„ç†æ•ˆç‡.","like_count":0},{"had_liked":false,"id":207798,"user_name":"ç½—ç›–","can_delete":false,"product_type":"c1","uid":1357135,"ip_address":"","ucode":"1B098D4CA6096A","user_header":"https://static001.geekbang.org/account/avatar/00/14/b5/4f/10c694db.jpg","comment_is_top":false,"comment_ctime":1587181834,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1587181834","product_id":100017301,"comment_content":"ä¸ºä»€ä¹ˆå¾ªç¯é˜Ÿåˆ—éœ€è¦å¤šå‡ºä¸€ä¸ªä½ç½®ä¸å­˜å‚¨ä»»ä½•æ•°æ®ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1357135,"avatar":"https://static001.geekbang.org/account/avatar/00/14/b5/4f/10c694db.jpg","nickname":"ç½—ç›–","note":"","ucode":"1B098D4CA6096A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":239056,"discussion_content":"å¦‚æœæ²¡æœ‰å¤šå‡ºä¸€ä¸ªä½ç½®ï¼Œå½“å¾ªç¯é˜Ÿåˆ—ä¸­ä¸ºç©ºå’Œæ»¡æ—¶front=tailæ— æ³•åŒºåˆ†ï¼ŒåŠ ä¸Šä¸€ä¸ªç©ºç™½ï¼Œä¸ºç©ºæ—¶front=tail,æ»¡é˜Ÿåˆ—æ—¶(tail+1)%n=front","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587269422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207770,"user_name":"o0oi1i","can_delete":false,"product_type":"c1","uid":1132312,"ip_address":"","ucode":"D1F6AD4AAEAFBE","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/18/293cd24d.jpg","comment_is_top":false,"comment_ctime":1587177201,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587177201","product_id":100017301,"comment_content":"ä¸¤ä¸ªé—®é¢˜å®Œå…¨è¶…å‡ºäº†è‡ªå·±çš„çŸ¥è¯†èŒƒå›´ğŸ˜­","like_count":0},{"had_liked":false,"id":207748,"user_name":"linker","can_delete":false,"product_type":"c1","uid":1803259,"ip_address":"","ucode":"6C5799F2FC2C82","user_header":"https://static001.geekbang.org/account/avatar/00/1b/83/fb/621adceb.jpg","comment_is_top":false,"comment_ctime":1587174226,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587174226","product_id":100017301,"comment_content":"æ˜¯ä¸æ˜¯å¯ä»¥åœ¨heas==tailæ—¶æŠŠæŒ‡é’ˆåŒæ—¶ç§»åˆ°å¤´éƒ¨ï¼Œå¹¶ä¸”åœ¨å…¥é˜Ÿæ—¶æ»¡äº†æ¬ç§»æ•°æ®ï¼Ÿ","like_count":0},{"had_liked":false,"id":207217,"user_name":"é©¬ç¿¼","can_delete":false,"product_type":"c1","uid":1963766,"ip_address":"","ucode":"11C8D7AA4F2D79","user_header":"https://static001.geekbang.org/account/avatar/00/1d/f6/f6/149d9150.jpg","comment_is_top":false,"comment_ctime":1587025982,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587025982","product_id":100017301,"comment_content":"1.åˆ¤æ–­é˜Ÿåˆ—æ»¡çš„æ¡ä»¶é™¤äº†æ–‡ä¸­æ‰€æåˆ°çš„(tail + 1) % n == headï¼Œè¿˜å¯ä»¥è®¾ç½®æ ‡è¯†ä½flagã€‚<br>2.%næ˜¯ä¸ºäº†å¤„ç†å½“tailä¸ºn-1çš„ç‰¹æ®Šæƒ…å†µï¼Œå…¶ä»–æƒ…å†µåº”è¯¥é€šè¿‡tail + 1 == headå¯ä»¥è§£å†³ã€‚","like_count":0},{"had_liked":false,"id":206033,"user_name":"æ¢…ç«¯","can_delete":false,"product_type":"c1","uid":1525335,"ip_address":"","ucode":"FEC08731457770","user_header":"https://static001.geekbang.org/account/avatar/00/17/46/57/fe38a6db.jpg","comment_is_top":false,"comment_ctime":1586776658,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586776658","product_id":100017301,"comment_content":"è¿˜æ˜¯ç¬¬ä¸€æ¬¡å¬è¯´å¾ªç¯é˜Ÿåˆ—ï¼Œæ„Ÿè§‰åˆæ¶¨çŸ¥è¯†äº†","like_count":0},{"had_liked":false,"id":204675,"user_name":"äº¢ï¼ˆçŸ¥è¡Œåˆä¸€çš„è·¯ä¸Šï¼‰","can_delete":false,"product_type":"c1","uid":1347013,"ip_address":"","ucode":"958AF7C96EB9E8","user_header":"https://static001.geekbang.org/account/avatar/00/14/8d/c5/898b13b4.jpg","comment_is_top":false,"comment_ctime":1586440294,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586440294","product_id":100017301,"comment_content":"Golang çš„ channel ç”¨åˆ°äº†é˜»å¡å¼çš„å¹¶å‘é˜Ÿåˆ—ï¼Œå¤šåç¨‹ä»åŒä¸€ä¸ª channel ä¸­è¯»å–æˆ–å†™å…¥æ•°æ®ã€‚","like_count":0},{"had_liked":false,"id":201716,"user_name":"å–»èŒ‚","can_delete":false,"product_type":"c1","uid":1318661,"ip_address":"","ucode":"C8BD8086A17365","user_header":"https://static001.geekbang.org/account/avatar/00/14/1f/05/8a06692e.jpg","comment_is_top":false,"comment_ctime":1585823996,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585823996","product_id":100017301,"comment_content":"&lt;?php<br>&#47;&#47; å¾ªç¯é˜Ÿåˆ—<br>class CircularQueue {<br>\tprivate $n = 0; &#47;&#47; å¾ªç¯é˜Ÿåˆ—é•¿åº¦<br>\tprivate $head = 0;&#47;&#47; é˜Ÿå¤´ä¸‹æ ‡<br>\tprivate $tail = 0;&#47;&#47; é˜Ÿå°¾ä¸‹æ ‡<br>\tprivate $items=[]; &#47;&#47; ä¿å­˜é˜Ÿåˆ—æ•°æ®<br>\t<br>\t&#47;&#47; åˆå§‹åŒ–é˜Ÿåˆ—é•¿åº¦<br>\tpublic function __construct($capacity) {<br>\t\t$this-&gt;n=$capacity;<br>\t}<br>\t<br>\t&#47;&#47; å…¥é˜Ÿ<br>\tpublic function enqueue($item) {<br>\t\t&#47;&#47; é˜Ÿåˆ—æ»¡äº†<br>\t\tif(($this-&gt;tail + 1) % $this-&gt;n == $this-&gt;head ) {<br>\t\t\techo &quot;é˜Ÿåˆ—å·²æ»¡&lt;br&gt;&quot;;<br>\t\t\treturn false;<br>\t\t} else {<br>\t\t\t$this-&gt;items[$this-&gt;tail] = $item;<br>\t\t\t$this-&gt;tail = ($this-&gt;tail + 1) % $this-&gt;n;<br>\t\t\treturn true;<br>\t\t}<br>\t}<br>\t<br>\t&#47;&#47; å‡ºé˜Ÿ<br>\tpublic function dequeue() {<br>\t\tif ($this-&gt;head == $this-&gt;tail) {<br>\t\t\techo &quot;é˜Ÿåˆ—ä¸ºç©º&lt;br&gt;&quot;;<br>\t\t\treturn null;<br>\t\t} else {<br>\t\t\t$ret =  $this-&gt;items[$this-&gt;head];<br>\t\t\t$this-&gt;head = ($this-&gt;head + 1) % $this-&gt;n;<br>\t\t\treturn $ret;<br>\t\t}<br>\t}<br>\t<br>}<br><br>$circularQueue = new CircularQueue(5);<br>$circularQueue-&gt;enqueue(1);<br>$circularQueue-&gt;enqueue(2);<br>$circularQueue-&gt;enqueue(3);<br>$circularQueue-&gt;enqueue(4);<br>$circularQueue-&gt;enqueue(5);<br>echo $circularQueue-&gt;dequeue();<br>echo &quot;&lt;br&gt;&quot;;<br>$circularQueue-&gt;enqueue(6);<br>echo $circularQueue-&gt;dequeue();<br>echo &quot;&lt;br&gt;&quot;;<br>echo $circularQueue-&gt;dequeue();<br>echo &quot;&lt;br&gt;&quot;;<br>echo $circularQueue-&gt;dequeue();<br>echo &quot;&lt;br&gt;&quot;;<br>echo $circularQueue-&gt;dequeue();<br>echo &quot;&lt;br&gt;&quot;;<br>echo $circularQueue-&gt;dequeue();<br>echo &quot;&lt;br&gt;&quot;;<br>echo $circularQueue-&gt;dequeue();<br>echo &quot;&lt;br&gt;&quot;;<br><br>","like_count":0},{"had_liked":false,"id":200588,"user_name":"èœ—ç‰›","can_delete":false,"product_type":"c1","uid":1086220,"ip_address":"","ucode":"01CC18F12E556D","user_header":"https://static001.geekbang.org/account/avatar/00/10/93/0c/0a6a0d5e.jpg","comment_is_top":false,"comment_ctime":1585621320,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585621320","product_id":100017301,"comment_content":"1. redisçš„åº•å±‚å®ç°ä¹Ÿæ˜¯ç”¨é˜Ÿåˆ—æ‰å®ç°çš„ã€‚<br>2. å¯ä»¥å‚è€ƒAQSçš„åº•å±‚å®ç°","like_count":0},{"had_liked":false,"id":200063,"user_name":"yezi","can_delete":false,"product_type":"c1","uid":1935780,"ip_address":"","ucode":"B2E5CC51D37C44","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/AiaYGqeT5oDEUaRq2vVLOIesrnPwJH3VfN8tb3CZlAbxW9QYo6TfPqUS8c4ibAyibsn1955GK3EOJsjFFKXRbSYvA/132","comment_is_top":false,"comment_ctime":1585538831,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585538831","product_id":100017301,"comment_content":"é˜Ÿåˆ—çš„åº”ç”¨å¾ˆå¹¿ï¼Œå¹¿åº¦ä¼˜å…ˆæœç´¢","like_count":0},{"had_liked":false,"id":196423,"user_name":"é›·å°é¸¿","can_delete":false,"product_type":"c1","uid":1368897,"ip_address":"","ucode":"424DC9A532FFD7","user_header":"https://static001.geekbang.org/account/avatar/00/14/e3/41/bd0e3a04.jpg","comment_is_top":false,"comment_ctime":1585280361,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1585280361","product_id":100017301,"comment_content":"å¾ªç¯æ»¡çš„è¡¨è¾¾å¼ç†è§£ï¼šå¦‚æœä¸æ˜¯å¾ªç¯é‚£è‚¯å®štailè·‘åˆ°æœ€åç­‰äºé˜Ÿåˆ—é•¿åº¦nå°±æ»¡äº†ï¼Œä½†æ˜¯å¾ªç¯å½“tailè·‘åˆ°næ˜¯èƒ½å›å»0çš„ä½ç½®çš„å°±æ˜¯å¾ªç¯å†æ¥ä¸€æ¬¡ã€‚å½“è¿™ä¸ª0çš„ä½ç½®ä¸Šæ˜¯headé‚£å°±æ»¡äº†ï¼Œä½†æ˜¯ä½ ä¸èƒ½head=tail+1 é‚£å’‹åŠå˜›å–ä½™å‘€ï¼Œå°±æ˜¯head=ï¼ˆtail+1ï¼‰%n","like_count":0},{"had_liked":false,"id":196164,"user_name":"Geek_55e386","can_delete":false,"product_type":"c1","uid":1795793,"ip_address":"","ucode":"5A727F1323C2D0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/zxkns28cIAUZIt3WjDb8G26qiccT84d9GMr9ZpbYR60TU1ibqSj9NoYVHlJvGF1kOltkqNDmEfJCqPuYVkue3WHg/132","comment_is_top":false,"comment_ctime":1585240930,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585240930","product_id":100017301,"comment_content":"åªç”¨äº†disrupterã€‚çŸ¥é“æ˜¯ç¯å½¢ï¼Œcasï¼Œå•çº¿ç¨‹ã€‚æ‰€ä»¥å¿«ã€‚ä»Šå¤©æ‰ç®—æ˜ç™½ä¸ºå•¥ç¯å½¢å°±å¿«äº†ã€‚<br>å› ä¸ºç¯å½¢å‡å°‘äº†ç©ºé—´ä¸è¶³çš„é—®é¢˜ï¼Œç©ºé—´ä¸€ç›´å¯ä»¥é‡å¤ä½¿ç”¨","like_count":0},{"had_liked":false,"id":195912,"user_name":"éš†éš†","can_delete":false,"product_type":"c1","uid":1219087,"ip_address":"","ucode":"F34E9A81BFC2DF","user_header":"https://static001.geekbang.org/account/avatar/00/12/9a/0f/35ca8d44.jpg","comment_is_top":false,"comment_ctime":1585223733,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585223733","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—åˆ¤æ–­ç©ºæ»¡èƒ½å¦ç”¨å½“å‰å…ƒç´ æ€»æ•°é‡å’Œæ•°ç»„é•¿åº¦æ¯”è¾ƒï¼Ÿæ•°ç»„å…ƒç´ æ€»æ•°é‡ä¸º0ï¼Œç©ºé˜Ÿåˆ—ï¼Œå…ƒç´ æ€»æ•°é‡å’Œæ•°ç»„é•¿åº¦ç›¸ç­‰ï¼Œé˜Ÿåˆ—æ»¡","like_count":0},{"had_liked":false,"id":194896,"user_name":"èŒƒé—²","can_delete":false,"product_type":"c1","uid":1073125,"ip_address":"","ucode":"F21FD7DF6BA53C","user_header":"https://static001.geekbang.org/account/avatar/00/10/5f/e5/54325854.jpg","comment_is_top":false,"comment_ctime":1585117794,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585117794","product_id":100017301,"comment_content":"1.æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¦å¤–ç½‘æ¸¸çš„æ’é˜Ÿç­‰å¾…ç³»ç»Ÿä¹Ÿæ˜¯è¿™æ ·çš„<br>2.æ— é”é˜Ÿåˆ— ç”¨ cas  + æ•°ç»„?","like_count":0},{"had_liked":false,"id":194523,"user_name":"è¿›å‡»çš„é±¼å„¿","can_delete":false,"product_type":"c1","uid":1334770,"ip_address":"","ucode":"9B6CF26A8BCA8F","user_header":"https://static001.geekbang.org/account/avatar/00/14/5d/f2/785169e9.jpg","comment_is_top":false,"comment_ctime":1585064965,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585064965","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—å¯ä»¥ä½¿ç”¨headæŒ‡é’ˆåŠ ä¸€ä¸ªcountè®¡æ•°æ¥å®ç°ï¼Œè¿™æ ·å°±ä¸ç”¨æµªè´¹æ•°ç»„ä¸€ä¸ªç©ºé—´äº†","like_count":0},{"had_liked":false,"id":191178,"user_name":"é›¨è½åƒæœ¨çš„æ—¶èŠ‚","can_delete":false,"product_type":"c1","uid":1796430,"ip_address":"","ucode":"A268063299F0D6","user_header":"https://static001.geekbang.org/account/avatar/00/1b/69/4e/7ef7604b.jpg","comment_is_top":false,"comment_ctime":1584752784,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584752784","product_id":100017301,"comment_content":"å¤§å­¦é‡Œçš„æ•°æ®ç»“æ„è¯¾ç¨‹ä¸Šå­¦è¿‡å¾ªç¯é˜Ÿåˆ—ä¸€ç›´éƒ½çœ‹ä¸æ‡‚tail å’Œheadåœ¨é˜Ÿåˆ—æ»¡æ—¶çš„å…³ç³»ï¼Œå­¦ä¹ äº†è€å¸ˆçš„è¯¾ç¨‹åç»ˆäºæ˜ç™½äº†","like_count":0},{"had_liked":false,"id":191174,"user_name":"é›¨è½åƒæœ¨çš„æ—¶èŠ‚","can_delete":false,"product_type":"c1","uid":1796430,"ip_address":"","ucode":"A268063299F0D6","user_header":"https://static001.geekbang.org/account/avatar/00/1b/69/4e/7ef7604b.jpg","comment_is_top":false,"comment_ctime":1584752584,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584752584","product_id":100017301,"comment_content":"javaä¸­çš„çº¿ç¨‹æ± ä½¿ç”¨çš„ä¹Ÿæ˜¯é˜Ÿåˆ—ï¼Œä¸€èˆ¬ç”¨blockingqueue,åœ¨é˜Ÿåˆ—æ»¡ä¹‹åå›æœ‰ç›¸åº”çš„ä¸¢å¼ƒç­–ç•¥","like_count":0},{"had_liked":false,"id":190802,"user_name":"æ±ªæ˜","can_delete":false,"product_type":"c1","uid":1185062,"ip_address":"","ucode":"0F53CBB8E0DFA8","user_header":"https://static001.geekbang.org/account/avatar/00/12/15/26/6fd09625.jpg","comment_is_top":false,"comment_ctime":1584693286,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1584693286","product_id":100017301,"comment_content":"ç»˜å›¾å·¥å…·ç”¨çš„å•¥ï¼ŒæŒºå¥½ç”¨çš„çœ‹ä¸Šå»ï¼Œåˆ†äº«ä¸€ä¸‹","like_count":0,"discussions":[{"author":{"id":1111683,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f6/83/ef27d86c.jpg","nickname":"Crazy","note":"","ucode":"C044527140CEC4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":219839,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585816194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190750,"user_name":"å®‹å¼º","can_delete":false,"product_type":"c1","uid":1564605,"ip_address":"","ucode":"119A0B00ABDA7B","user_header":"","comment_is_top":false,"comment_ctime":1584689848,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584689848","product_id":100017301,"comment_content":"ring çš„å®ç°é‡Œé¢ï¼Œæ•°ç»„[n-1]è¿™ä¸ªä½ç½®çš„ç©ºé—´æ˜¯ä¸æ˜¯æ²¡æ³•ç”¨ä¸Šã€‚å› ä¸º(tail+1) % n == head, return false.","like_count":0},{"had_liked":false,"id":190555,"user_name":"o0oi1i","can_delete":false,"product_type":"c1","uid":1132312,"ip_address":"","ucode":"D1F6AD4AAEAFBE","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/18/293cd24d.jpg","comment_is_top":false,"comment_ctime":1584668497,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584668497","product_id":100017301,"comment_content":"æ‰“å¡9","like_count":0},{"had_liked":false,"id":190205,"user_name":"SteelHuaSheng","can_delete":false,"product_type":"c1","uid":1396126,"ip_address":"","ucode":"BC8127FC5207FC","user_header":"https://static001.geekbang.org/account/avatar/00/15/4d/9e/04ec08bf.jpg","comment_is_top":false,"comment_ctime":1584614221,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1584614221","product_id":100017301,"comment_content":"æ¥å†ï¼šå¤§å®¶éƒ½ç»™æˆ‘å¥½å¥½æ’é˜Ÿ<br><br>è‡ªèº«ç‰¹ç‚¹ï¼šå…ˆè¿›è€…å…ˆå‡ºï¼Œè¿™å°±æ˜¯å…¸å‹çš„â€œé˜Ÿåˆ—â€<br><br>é€‚åˆè§£å†³çš„é—®é¢˜ï¼šå¯¹äºå¤§éƒ¨åˆ†èµ„æºæœ‰é™çš„åœºæ™¯ï¼Œå½“æ²¡æœ‰ç©ºé—²èµ„æºæ—¶ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥é€šè¿‡â€œé˜Ÿåˆ—â€è¿™ç§æ•°æ®ç»“æ„æ¥å®ç°è¯·æ±‚æ’é˜Ÿ<br><br>å®é™…çš„åº”ç”¨åœºæ™¯ï¼šæ¶ˆè´¹è€…-ç”Ÿäº§è€…æ¨¡å‹ï¼Œçº¿ç¨‹æ± ï¼Œåˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—kafaka","like_count":0},{"had_liked":false,"id":189726,"user_name":"wholly","can_delete":false,"product_type":"c1","uid":1089235,"ip_address":"","ucode":"3CB7D06CC6C670","user_header":"https://static001.geekbang.org/account/avatar/00/10/9e/d3/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1584543104,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584543104","product_id":100017301,"comment_content":"é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºï¼Œä¸­é—´ä»¶ä¸­å¤§éƒ¨åˆ†æ¶ˆæ¯é˜Ÿåˆ—åŸºæœ¬éƒ½æ˜¯åŸºäºé˜Ÿåˆ—å®ç°çš„ï¼Œæ¯”å¦‚messagebrokerï¼Œkafkaç­‰ç­‰ï¼›åŸå­æ“ä½œé˜Ÿåˆ—æˆ‘è§‰å¾—ä¹Ÿå«å…é”é˜Ÿåˆ—ï¼Œå¯ä»¥æå‡å¤„ç†æ€§èƒ½ã€‚<br>é‡ç‚¹æŒæ¡å…¥é˜Ÿï¼Œå‡ºé˜Ÿçš„å®ç°ï¼Œé’ˆå¯¹åº”ç”¨åœºæ™¯è¾ƒå¤šçš„å¾ªç¯é˜Ÿåˆ—ï¼Œé˜»å¡é˜Ÿåˆ—ï¼Œå¹¶å‘é˜Ÿåˆ—ç­‰ï¼Œè¦åœ¨å®è·µé¡¹ç›®ä¸­å¤šå®è·µã€‚","like_count":0},{"had_liked":false,"id":189170,"user_name":"å‡‰äººã€‚","can_delete":false,"product_type":"c1","uid":1659177,"ip_address":"","ucode":"4DB16004A62015","user_header":"https://static001.geekbang.org/account/avatar/00/19/51/29/24739c58.jpg","comment_is_top":false,"comment_ctime":1584463044,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584463044","product_id":100017301,"comment_content":"æ— é”ç¼–ç¨‹ï¼Œè²Œä¼¼æœ‰åŸå­æ“ä½œ,cas,è¿˜æœ‰ä¸¤ä¸ªé˜Ÿåˆ—å®ç°ï¼Ÿ","like_count":0},{"had_liked":false,"id":186822,"user_name":"james","can_delete":false,"product_type":"c1","uid":1232771,"ip_address":"","ucode":"AC42035106E5B9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/yyibGRYCArsUNBfCAEAibua09Yb9D5AdO8TkCmXymhAepibqmlz0hzg06ggBLxyvXicnjqFVGr7zYF0rQoZ0aXCBAg/132","comment_is_top":false,"comment_ctime":1583934197,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1583934197","product_id":100017301,"comment_content":"æ•°æ®åº“è¿æ¥æ± ç»“æ„ï¼Œä¹Ÿç®—æ˜¯ä¸€å¼ é˜Ÿåˆ—å§","like_count":0},{"had_liked":false,"id":186111,"user_name":"é‡æ–°æ¥è¿‡","can_delete":false,"product_type":"c1","uid":1254138,"ip_address":"","ucode":"27CC35140B63F3","user_header":"https://static001.geekbang.org/account/avatar/00/13/22/fa/671d2937.jpg","comment_is_top":false,"comment_ctime":1583759466,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583759466","product_id":100017301,"comment_content":"â€œåŸºäºé“¾è¡¨çš„å®ç°ï¼Œæˆ‘ä»¬åŒæ ·éœ€è¦ä¸¤ä¸ªæŒ‡é’ˆï¼šhead æŒ‡é’ˆå’Œ tail æŒ‡é’ˆã€‚å®ƒä»¬åˆ†åˆ«æŒ‡å‘é“¾è¡¨çš„ç¬¬ä¸€ä¸ªç»“ç‚¹å’Œæœ€åä¸€ä¸ªç»“ç‚¹â€œï¼Œè€å¸ˆï¼Œæˆ‘æŸ¥èµ„æ–™è¯´tailæŒ‡é’ˆæŒ‡å‘é˜Ÿå°¾çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå’Œä¸Šé¢æè¿°ä¸åŒï¼Ÿ ","like_count":0},{"had_liked":false,"id":185973,"user_name":"è°­æ–¹æ•","can_delete":false,"product_type":"c1","uid":1710960,"ip_address":"","ucode":"728DC7ECB7C902","user_header":"https://static001.geekbang.org/account/avatar/00/1a/1b/70/547042ee.jpg","comment_is_top":false,"comment_ctime":1583735237,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583735237","product_id":100017301,"comment_content":"é˜Ÿåˆ—ï¼Œä¸€ç§å—é™çš„çº¿æ€§æ•°æ®ç»“æ„ï¼Œåªèƒ½è¿›é˜Ÿå’Œå‡ºé˜Ÿï¼ŒåŸç†æ˜¯å…ˆè¿›å…ˆå‡ºã€‚<br>é˜Ÿåˆ—å› å®ç°æ–¹å¼çš„ä¸åŒï¼ˆåŸæ¥æ ˆçš„è¯åªéœ€è¦æ ˆé¡¶topæŒ‡é’ˆï¼Œè€Œé˜Ÿåˆ—åˆ™éœ€è¦headå’ŒtailæŒ‡é’ˆï¼‰ï¼Œå¯ä»¥åˆ†ä¸ºé¡ºåºé˜Ÿåˆ—å’Œé“¾å¼é˜Ÿåˆ—ï¼Œä¹Ÿæœ‰å˜ç§å¾ªç¯é˜Ÿåˆ—ã€‚<br>ä»¥åŠåœ¨å¤šçº¿ç¨‹å’Œå¹¶å‘ç¯å¢ƒä¸‹å‡ºç°çš„é˜»å¡é˜Ÿåˆ—(é˜Ÿåˆ—ç©ºäº†ï¼Œé˜»å¡ï¼Œä¸èƒ½å–ï¼›é˜Ÿåˆ—æ»¡äº†ï¼Œé˜»å¡ï¼Œä¸èƒ½æ’å…¥)å’Œå¹¶å‘é˜Ÿåˆ—ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰ã€‚<br><br>ç”¨åˆ°é˜Ÿåˆ—çš„è¿˜æœ‰æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ¯”å¦‚kafkaï¼Œrabbitmqï¼Œæˆ–è€…rocketmqç­‰ã€‚<br><br>å¹¶å‘é˜Ÿåˆ—ç”¨åˆ°çš„é”ï¼Œä¹Ÿæ¯”è¾ƒå¤šï¼Œc++é‡Œé¢ä¼šç”¨casåŸå­æ¥æ§åˆ¶ï¼Œæˆ–è€…ç”¨æ¡ä»¶å˜é‡ç­‰æ¥ååŠ©è¾¾åˆ°æ— é”çš„æ•ˆæœã€‚ã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":183905,"user_name":"4!!","can_delete":false,"product_type":"c1","uid":1487663,"ip_address":"","ucode":"188445590D97DF","user_header":"https://static001.geekbang.org/account/avatar/00/16/b3/2f/867b94d8.jpg","comment_is_top":false,"comment_ctime":1583159776,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583159776","product_id":100017301,"comment_content":"chromeæµè§ˆå™¨æ¸²æŸ“è¿›ç¨‹ä¸­æœ‰ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¹Ÿæ˜¯é˜Ÿåˆ—ç»“æ„ï¼›<br>ä¿å­˜äº†æ¥è‡ªå„æ–¹çš„ä»»åŠ¡ï¼ŒåŒ…æ‹¬HTMLè§£æã€CSSè§£æã€JavaScript æ‰§è¡Œã€äº¤äº’äº‹ä»¶ã€ç½‘ç»œè¯·æ±‚ç­‰ï¼›<br>é¡µé¢å¾ªç¯ç³»ç»Ÿä¼šä»æ¶ˆæ¯é˜Ÿåˆ—æŒ‰é¡ºåºå–å‡ºä»»åŠ¡æ‰§è¡Œã€‚","like_count":0},{"had_liked":false,"id":183128,"user_name":"Eternal","can_delete":false,"product_type":"c1","uid":1188023,"ip_address":"","ucode":"EA6FE7CC98F740","user_header":"https://static001.geekbang.org/account/avatar/00/12/20/b7/bdb3bcf0.jpg","comment_is_top":false,"comment_ctime":1582957468,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582957468","product_id":100017301,"comment_content":"é˜Ÿåˆ—æ’é˜Ÿè¯·æ±‚åº”ç”¨çš„åœºæ™¯ï¼šJavaå¹¶å‘åº“ä¸­çš„çº¿ç¨‹æ± ï¼ŒMySqlä¸­çš„è¿æ¥æ± ï¼›Javaå¹¶å‘åº“ä¸­AQSé”ä¸­ç”¨é˜Ÿåˆ—å®ç°å…¬å¹³é”ï¼›","like_count":0},{"had_liked":false,"id":178728,"user_name":"èµ·è€Œè¡Œ","can_delete":false,"product_type":"c1","uid":1131399,"ip_address":"","ucode":"4F116B0B740776","user_header":"https://static001.geekbang.org/account/avatar/00/11/43/87/7604d7a4.jpg","comment_is_top":false,"comment_ctime":1581805634,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1581805634","product_id":100017301,"comment_content":"1.åœ¨ä¸¤ä¸ªè¿›ç¨‹é—´å¼‚æ­¥ä¼ è¾“æ•°æ®ï¼ŒIOç¼“å†²<br>2.æ¶ˆè´¹è€…ç”Ÿäº§è€…ä¾‹å­ï¼Œæ‰“å°æœºä¸­:æ‰“å°æ–‡ä»¶å’Œå¾…æ‰“å°çš„æ–‡ä»¶ï¼Œç”µè¯å‘¼å«ä¸­å¿ƒ:æ¥ç”µè¯å’Œæ’é˜Ÿç­‰ç”µè¯çš„äºº<br>3.å®½åº¦ä¼˜å…ˆæœç´¢<br><br>ç¬¬äºŒä¸ªé—®é¢˜ï¼Œåˆ©ç”¨CASæ“ä½œæ¥å®ç°","like_count":0},{"had_liked":false,"id":177765,"user_name":"ä¸€åªç‹¬ç«‹ç‰¹è¡Œçš„çŒª","can_delete":false,"product_type":"c1","uid":1473358,"ip_address":"","ucode":"52263607CCBE6F","user_header":"https://static001.geekbang.org/account/avatar/00/16/7b/4e/73a9deec.jpg","comment_is_top":false,"comment_ctime":1581494460,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581494460","product_id":100017301,"comment_content":"çœ‹è¿‡å‡ æ¬¡é˜Ÿåˆ—çš„ä»£ç ï¼Œä»¥å‰éƒ½æ˜¯ä¸€çŸ¥åŠè§£ï¼Œä¸€ç›´éƒ½æ²¡æœ‰ææ¸…æ¥štailæŒ‡é’ˆï¼Œä»”ç»†ç ”ç©¶äº†å¾ªç¯é˜Ÿåˆ—åï¼Œæœ€åææ˜ç™½äº†ã€‚tailæŒ‡é’ˆæŒ‡å‘çš„åœ°å€æ˜¯ä¸å­˜æ•°æ®äº†ï¼Œå…¥é˜Ÿçš„æ—¶å€™ï¼Œå…ˆæŠŠå½“å‰çš„é¢tailæŒ‡é’ˆæŒ‡å‘çš„åœ°å€å†™ä¸ªæ•°æ®ï¼Œç„¶ååœ¨æ ·tailæŒ‡é’ˆåŠ 1ã€‚","like_count":0},{"had_liked":false,"id":177497,"user_name":"ç‹jojo","can_delete":false,"product_type":"c1","uid":1812840,"ip_address":"","ucode":"1ABE7FA2614F86","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a9/68/ec442a70.jpg","comment_is_top":false,"comment_ctime":1581405475,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581405475","product_id":100017301,"comment_content":"è€å¸ˆæˆ‘æŸ¥äº†ä¸€ä¸‹, å¾ªç¯é˜Ÿåˆ—ä¸»è¦æ˜¯è§£å†³é¡ºåºé˜Ÿåˆ—&quot;å‡æº¢å‡º&quot;çš„é—®é¢˜, å°±æ˜¯åœ¨tailåˆ°è¿½åˆ°, ä½†æ˜¯ä»0åˆ°headè¿™æ®µæ•°æ®æ­£å¸¸çš„é€»è¾‘æ¥è¯´æ˜¯ç©ºçš„,è¿™ä¸ªæ—¶å€™æ•°ç»„å…¶å®æ²¡æœ‰æ»¡,ä½†æ˜¯å·²ç»è¾¾åˆ°æ»¡çš„æ¡ä»¶äº†.å¾ªç¯é˜Ÿåˆ—å¯ä»¥æœ‰æ•ˆè§£å†³è¿™ä¸ªé—®é¢˜, è¯·é—®è¿™ä¸ªè¯´çš„å¯¹ä¸å¯¹å‘€","like_count":0},{"had_liked":false,"id":177492,"user_name":"ç‹jojo","can_delete":false,"product_type":"c1","uid":1812840,"ip_address":"","ucode":"1ABE7FA2614F86","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a9/68/ec442a70.jpg","comment_is_top":false,"comment_ctime":1581404163,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581404163","product_id":100017301,"comment_content":"çœ‹äº†å¾ªç¯é˜Ÿåˆ—çš„ä»£ç , å¥½åƒæ˜¯é˜Ÿåˆ—æ»¡çš„æƒ…å†µç›´æ¥è·³è¿‡,é‚£å¦‚æœæ­£å¸¸é˜Ÿåˆ—ä¸è€ƒè™‘æ»¡çš„æƒ…å†µ, ä¸ä¹Ÿå’Œå¾ªç¯é˜Ÿåˆ—ä¸€æ ·äº†?è¯·é—®è€å¸ˆæœ‰ä»€ä¹ˆåŒºåˆ«å‘€?","like_count":0},{"had_liked":false,"id":177182,"user_name":"ethan","can_delete":false,"product_type":"c1","uid":1443388,"ip_address":"","ucode":"CD95B810DB62C9","user_header":"https://wx.qlogo.cn/mmopen/vi_32/VY2Uy4zckWjtBYsddWlql5sjJM1W9sM91dz60qn1w1FyNCiaxUt8oI37Mdftz5y0hiaw6vVaUPtGY2Yfbgtlr53Q/132","comment_is_top":false,"comment_ctime":1581315991,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581315991","product_id":100017301,"comment_content":"ä¸ºä»€ä¹ˆå¾ªç¯é˜Ÿåˆ—æ˜¯ail = (tail + 1) % n; tailä¸æ˜¯ä¸€ç›´å°äºnçš„å—ï¼Œç›´æ¥ç”¨tail = tail+1;ä¸å¯ä»¥å—","like_count":0},{"had_liked":false,"id":175382,"user_name":"_å…³æ—­_","can_delete":false,"product_type":"c1","uid":1009052,"ip_address":"","ucode":"ADEB7BBC54035B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/65/9c/5c94692c.jpg","comment_is_top":false,"comment_ctime":1580700490,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580700490","product_id":100017301,"comment_content":"è¯·é—®å¾ªç¯é˜Ÿåˆ—çš„è®¾è®¡ï¼Œä¸ºä»€ä¹ˆè¦æµªè´¹ä¸€ä¸ªç©ºé—´å‘¢ï¼Œæƒ³ä¸æ˜ç™½","like_count":0},{"had_liked":false,"id":173028,"user_name":"æŸæ‹‰å›¾","can_delete":false,"product_type":"c1","uid":1135009,"ip_address":"","ucode":"8FC1C9F9F09223","user_header":"https://static001.geekbang.org/account/avatar/00/11/51/a1/c7556bfc.jpg","comment_is_top":false,"comment_ctime":1579413060,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579413060","product_id":100017301,"comment_content":"ç½‘ç»œåè®®æ ˆå¤„ç†ä¸­ä¹Ÿå¤§é‡ä½¿ç”¨äº†é˜Ÿåˆ—æ•°æ®ç»“æ„","like_count":0},{"had_liked":false,"id":170888,"user_name":"æ¿æ —","can_delete":false,"product_type":"c1","uid":1239741,"ip_address":"","ucode":"35B8B2CB2E0214","user_header":"https://static001.geekbang.org/account/avatar/00/12/ea/bd/aba4b2c9.jpg","comment_is_top":false,"comment_ctime":1578750831,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578750831","product_id":100017301,"comment_content":"æ ˆ   | å…ˆè¿›åå‡º,åè¿›å…ˆå‡º   å…¥æ ˆpush() å‡ºæ ˆpop()<br>---- | -----------------------------------------<br>é˜Ÿåˆ— | å…ˆè¿›å…ˆå‡º,åè¿›åå‡º   å…¥é˜Ÿenqueue() å‡ºé˜Ÿdequeue()<br><br>é¡ºåºé˜Ÿåˆ—(æ•°ç»„) &#47;é“¾å¼é˜Ÿåˆ—(é“¾è¡¨)<br><br>åŸºäºæ•°ç»„çš„é˜Ÿåˆ—å®ç°.<br>é˜Ÿåˆ—å®ç°éœ€è¦ head å’Œ tail ä¸¤ä¸ªæŒ‡é’ˆ<br>å‡ºé˜Ÿæ—¶head+1  å…¥é˜Ÿæ—¶tail+1<br>åœ¨å†…å­˜ä¸­çš„ä½ç½®ä¼šå‘ç”Ÿåç§» =&gt; æ¯æ¬¡å‡ºé˜Ÿçš„æ—¶å€™è¿›è¡Œæ•°æ®æ¬ç§»=&gt;åœ¨ç©ºé—´ä¸è¶³æ—¶å€™è¿›è¡Œæ•°æ®æ¬ç§» <br><br>åœ¨ç©ºé—´ä¸è¶³çš„æ—¶å€™ å…¥é˜Ÿåªæœ‰åœ¨é˜Ÿåˆ—æ»¡çš„æ—¶å€™ ä¼šè§¦å‘æ—¶é—´å¤æ‚åº¦ä¸ºO(n)çš„æ¬ç§»è¿ç®—.å‡æ‘Šä¹‹å,æ—¶é—´å¤æ‚åº¦ä»å¯ä»¥çœ‹åšO(1)<br><br>åŸºäºé“¾è¡¨çš„é˜Ÿåˆ—å®ç°æ–¹æ³•<br>éœ€è¦ head å’Œ tail ä¸¤ä¸ªæŒ‡é’ˆ<br>å…¥é˜Ÿæ—¶ tail-&gt;next=&gt;new_node,tail = tail-&gt;next  é˜Ÿå°¾å…ƒç´ çš„next æŒ‡å‘æ–°èŠ‚ç‚¹,é˜Ÿå°¾æŒ‡é’ˆ(tail)æŒ‡å‘æ–°çš„èŠ‚ç‚¹<br>å‡ºé˜Ÿæ—¶ head = head-&gt;next  é˜Ÿé¦–æŒ‡é’ˆ(head) æŒ‡å‘headçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹<br><br>å¾ªç¯é˜Ÿåˆ—<br>ç¡®å®šå¥½é˜Ÿç©ºå’Œé˜Ÿæ»¡çš„åˆ¤å®šæ¡ä»¶ã€‚<br><br>é˜»å¡é˜Ÿåˆ—<br>é˜»å¡é˜Ÿåˆ—å…¶å®å°±æ˜¯åœ¨é˜Ÿåˆ—åŸºç¡€ä¸Šå¢åŠ äº†é˜»å¡æ“ä½œã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™ï¼Œä»é˜Ÿå¤´å–æ•°æ®ä¼šè¢«é˜»å¡ã€‚<br><br>å¹¶å‘é˜Ÿåˆ—<br>çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—æˆ‘ä»¬å«ä½œå¹¶å‘é˜Ÿåˆ—ã€‚","like_count":0},{"had_liked":false,"id":169315,"user_name":"pikachu122","can_delete":false,"product_type":"c1","uid":1689365,"ip_address":"","ucode":"43FE4DBC872FFA","user_header":"https://static001.geekbang.org/account/avatar/00/19/c7/15/24bf166a.jpg","comment_is_top":false,"comment_ctime":1578313763,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578313763","product_id":100017301,"comment_content":"æ€»ç»“ï¼š<br>1ã€é˜Ÿåˆ—æ˜¯å…ˆè¿›å…ˆå‡ºçš„æ“ä½œå—é™çš„çº¿æ€§è¡¨æ•°æ®ç»“æ„ï¼Œå…·æœ‰enqueue()å’Œdequeue()ä¸¤ä¸ªåŸºæœ¬æ“ä½œã€‚<br>2ã€é˜Ÿåˆ—å¯ä»¥ç”¨é“¾è¡¨å’Œæ•°ç»„å®ç°ï¼Œæ•°ç»„å®ç°çš„å«é¡ºåºé˜Ÿåˆ—ï¼Œé“¾è¡¨å®ç°çš„å«é“¾å¼é˜Ÿåˆ—ã€‚<br>3ã€ä¸€ä¸ªé˜Ÿåˆ—éœ€è¦ä¸¤ä¸ªæŒ‡é’ˆheadå’Œtailã€‚headæŒ‡å‘é˜Ÿåˆ—ä¸­æœ€æ—©åŠ å…¥çš„å…ƒç´ ï¼ŒtailæŒ‡å‘æœ€æ™šåŠ å…¥å…ƒç´ çš„åä¸€ä¸ªä½ç½®ï¼ˆä¹Ÿå°±æ˜¯ä¸‹ä¸ªå…¥é˜Ÿçš„å…ƒç´ ä¿å­˜çš„ä½ç½®ï¼‰<br>4ã€å…¥é˜Ÿæ—¶ï¼Œå¦‚æœé˜Ÿåˆ—ä¸ä¸ºæ»¡ï¼Œå°†éœ€è¦å…¥é˜Ÿçš„å…ƒç´ å­˜æ”¾åœ¨tailä½ç½®ï¼Œtailå‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚å‡ºé˜Ÿæ—¶ï¼Œheadå‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚<br>5ã€å¯¹äºæ™®é€šé¡ºåºé˜Ÿåˆ—å¦‚æœtailå·²ç»åˆ°è¾¾äº†æ•°ç»„çš„ä¸Šé™ï¼Œä½†é˜Ÿåˆ—æ²¡æœ‰æ»¡ï¼Œå°±å°†ç°æœ‰å…ƒç´ æ¬ç§»è‡³æ•°ç»„å¤´éƒ¨ã€‚è¯¥æ“ä½œçš„å‡æ‘Šæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚<br>6ã€ä¸ºäº†é¿å…æ•°æ®æ¬ç§»ï¼Œå¯ä»¥é‡‡ç”¨å¾ªç¯é˜Ÿåˆ—çš„æ–¹å¼ã€‚å¾ªç¯é˜Ÿåˆ—ä¸­ï¼Œæ¯ä¸€æ¬¡headå‘åç§»åŠ¨çš„æ“ä½œå˜ä¸ºhead=(head+1)%nï¼ŒtailåŒç†ã€‚å¾ªç¯é˜Ÿåˆ—åˆ¤æ–­é˜Ÿç©ºçš„æ¡ä»¶åŒæ™®é€šé¡ºåºé˜Ÿåˆ—ä¸ºhead==tailï¼Œä½†åˆ¤æ–­é˜Ÿæ»¡çš„æ¡ä»¶ä¸º(tail+1)%n==headã€‚å¾ªç¯é˜Ÿåˆ—ä¼šæµªè´¹ä¸€ä¸ªæ•°ç»„å­˜å‚¨ç©ºé—´ã€‚<br>7ã€å®é™…åº”ç”¨ä¸­ï¼Œè¿˜æœ‰é˜»å¡é˜Ÿåˆ—ã€å¹¶å‘é˜Ÿåˆ—ç­‰æ›´é«˜çº§çš„é˜Ÿåˆ—ã€‚","like_count":0},{"had_liked":false,"id":168772,"user_name":"ganyichao","can_delete":false,"product_type":"c1","uid":1636474,"ip_address":"","ucode":"E16E82E1256FF3","user_header":"","comment_is_top":false,"comment_ctime":1578154448,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578154448","product_id":100017301,"comment_content":"ä¸æ˜¯å¾ˆç†è§£ï¼Œä¸ºä»€ä¹ˆå¾ªç¯é˜Ÿåˆ—é‚£ä¸€æ®µä»£ç headå’Œtailä¸ºä»€ä¹ˆè¦åšå–ä½™å¤„ç†","like_count":0},{"had_liked":false,"id":168193,"user_name":"maybe","can_delete":false,"product_type":"c1","uid":1640973,"ip_address":"","ucode":"2C0D1D26853DB3","user_header":"https://static001.geekbang.org/account/avatar/00/19/0a/0d/7bac5bcb.jpg","comment_is_top":false,"comment_ctime":1578031288,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578031288","product_id":100017301,"comment_content":"rabbitMQ","like_count":0},{"had_liked":false,"id":168191,"user_name":"ç“œç“œ","can_delete":false,"product_type":"c1","uid":1053853,"ip_address":"","ucode":"2E98377E48399E","user_header":"https://static001.geekbang.org/account/avatar/00/10/14/9d/19dcdd42.jpg","comment_is_top":false,"comment_ctime":1578031071,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578031071","product_id":100017301,"comment_content":"é˜»å¡é˜Ÿåˆ—ï¼Œæ„Ÿè§‰æ²¡è¯´å¤ªæ¸…æ¥šã€‚<br>æ˜¯æŒ‡é˜Ÿåˆ—æœ¬èº«æ˜¯é˜»å¡çš„ï¼Œç„¶åæŠŠè®¿é—®é˜Ÿåˆ—çš„è¯·æ±‚æ”¾å…¥å¦å¤–ä¸€ä¸ªé˜Ÿåˆ—äº†ã€‚<br>è¿˜æ˜¯æŒ‡è®¿é—®ä¸€ä¸ªæœ‰é™èµ„æºçš„æ—¶å€™ï¼Œæˆ‘çš„è¯·æ±‚æ˜¯ä¸ªé˜»å¡é˜Ÿåˆ—ï¼Œå½“å‘ç°èµ„æºä¸å¤Ÿçš„æ—¶å€™å°±åœ¨é˜»å¡é˜Ÿåˆ—ä¸­ç­‰å¾…ã€‚","like_count":0},{"had_liked":false,"id":168186,"user_name":"maybe","can_delete":false,"product_type":"c1","uid":1640973,"ip_address":"","ucode":"2C0D1D26853DB3","user_header":"https://static001.geekbang.org/account/avatar/00/19/0a/0d/7bac5bcb.jpg","comment_is_top":false,"comment_ctime":1578030484,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578030484","product_id":100017301,"comment_content":"æ•°ç»„é˜Ÿåˆ—çš„ä»£ç ï¼Œè¡¨ç¤ºé˜Ÿåˆ—æ»¡çš„æƒ…å†µä¸åº”è¯¥æ˜¯tail == n-1å—ï¼Ÿnæ˜¯æ•°ç»„çš„ç©ºé—´å¤§å°","like_count":0},{"had_liked":false,"id":160639,"user_name":"æµ‘æµ‘å™©å™©cium","can_delete":false,"product_type":"c1","uid":1617939,"ip_address":"","ucode":"358C0BCFF62B40","user_header":"https://static001.geekbang.org/account/avatar/00/18/b0/13/5cb3459c.jpg","comment_is_top":false,"comment_ctime":1575991193,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575991193","product_id":100017301,"comment_content":"head = (head + 1) % n; è¿™ä¸ªå¤„ç†éå¸¸å¦™ï¼Œä¿è¯äº†headåœ¨[0~n)ä¹‹é—´;<br>æˆ‘è¿™è¾¹æ˜¯åˆ©ç”¨æ— ç¬¦å·æ•°æ®ç±»å‹å€¼èŒƒå›´ï¼Œä½†æ˜¯å¾ˆå±€é™æ€§<br>template&lt;typename T&gt;<br>class myqueue2<br>{<br>public:<br>    myqueue2():que(nullptr),head(0),tail(0)<br>    {<br>        que=new T[256];   &#47;&#47;unsigned char èŒƒå›´[0,255]<br>    }<br>    ~myqueue2()<br>    {<br>        delete [] que;<br>    }<br><br>    bool get(T&amp;t)<br>    {<br>        if(head==tail)<br>            return false;<br>        t=que[head];<br>        head++;<br>        return true;<br>    }<br><br>    bool put(T&amp;t)<br>    {<br>        if(tail+1==head)<br>            return false;<br>        que[tail]=t;<br>        tail++;    <br>        return true;<br>    }<br>private:<br>    T*que;<br>    unsigned char head;&#47;&#47;0~255<br>    unsigned char tail;<br>};","like_count":0},{"had_liked":false,"id":159702,"user_name":"èŒ¶æ²¡å–å®Œ","can_delete":false,"product_type":"c1","uid":1644104,"ip_address":"","ucode":"D72D88C42A1258","user_header":"https://static001.geekbang.org/account/avatar/00/19/16/48/09493874.jpg","comment_is_top":false,"comment_ctime":1575732049,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575732049","product_id":100017301,"comment_content":"æ„Ÿè°¢è€å¸ˆ","like_count":0},{"had_liked":false,"id":159489,"user_name":"Rickieslove","can_delete":false,"product_type":"c1","uid":1751095,"ip_address":"","ucode":"47A1A53F2E1FAE","user_header":"https://static001.geekbang.org/account/avatar/00/1a/b8/37/d22456d5.jpg","comment_is_top":false,"comment_ctime":1575636301,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575636301","product_id":100017301,"comment_content":"åˆ†åˆ«ä½¿ç”¨æ•°ç»„ï¼Œé“¾è¡¨å®ç°äº†å¾ªç¯é˜Ÿåˆ—ï¼Œåˆç”¨é“¾è¡¨yyäº†ä¸€ä¸ªæ— é™é˜Ÿåˆ—ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥çœ‹è¿™é‡Œï¼šhttps:&#47;&#47;github.com&#47;NightKing92&#47;Boy_next_door&#47;tree&#47;master&#47;src&#47;learn&#47;queue","like_count":0},{"had_liked":false,"id":159176,"user_name":"Allen_","can_delete":false,"product_type":"c1","uid":1677187,"ip_address":"","ucode":"CA5E00E4644CD5","user_header":"https://static001.geekbang.org/account/avatar/00/19/97/83/845b48e2.jpg","comment_is_top":false,"comment_ctime":1575552531,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575552531","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—ä¸èƒ½ç”¨capå’Œlenæ¥å†³å®šå—ï¼Ÿæ¯”å¦‚åŠ ä¸€ä¸ªå˜é‡æ˜¯lenï¼Œè®°å½•å½“å‰æœ‰å¤šå°‘ä¸ªï¼Œåˆ¤æ–­æ—¶å€™å°±æ¯”è¾ƒå®¹æ˜“äº†ã€‚","like_count":0},{"had_liked":false,"id":159173,"user_name":"Ronnyz","can_delete":false,"product_type":"c1","uid":1488280,"ip_address":"","ucode":"9F34527B1D343D","user_header":"https://static001.geekbang.org/account/avatar/00/16/b5/98/ffaf2aca.jpg","comment_is_top":false,"comment_ctime":1575552074,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575552074","product_id":100017301,"comment_content":"åˆ©ç”¨CASåŸå­æ“ä½œæ¥å®ç°æ— é”çš„æ•°æ®ç»“æ„","like_count":0},{"had_liked":false,"id":158922,"user_name":"æŠ€æœ¯ä¿®è¡Œè€…","can_delete":false,"product_type":"c1","uid":1013147,"ip_address":"","ucode":"28CA41A1214D6B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/9b/611e74ab.jpg","comment_is_top":false,"comment_ctime":1575498218,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1575498218","product_id":100017301,"comment_content":"æ€ç»´å¯¼å›¾ï¼šhttps:&#47;&#47;mubu.com&#47;doc&#47;vVB1gYGYO0<br><br>CASï¼šCompare and Swapï¼Œå¯ä»¥ç”¨CASçš„æ€æƒ³æ¥å®ç°æ— é”å¹¶å‘é˜Ÿåˆ—ã€‚","like_count":0},{"had_liked":false,"id":158843,"user_name":"æ—¥æœˆç„•æ˜Ÿè¾°","can_delete":false,"product_type":"c1","uid":1644586,"ip_address":"","ucode":"E60D2188D73418","user_header":"https://static001.geekbang.org/account/avatar/00/19/18/2a/7a12c412.jpg","comment_is_top":false,"comment_ctime":1575463584,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575463584","product_id":100017301,"comment_content":" class QueueList<br>    {<br>        public int[] a;<br>        public int n=0;<br><br>        public int head=0;<br>        public int tail=0;<br><br>        public QueueList()<br>        {<br><br>        }<br><br>        public QueueList(int n)<br>        {<br>            a = new int[n];<br>            this.n = n;<br>            head = 0;<br>            tail = 0;<br>        }<br><br>        public bool EnQueue(int value)<br>        {<br>            if (tail == n) return false;<br><br>            a[tail] = value;<br>            ++tail;<br>            return true;<br>        }<br><br>        public int DeQueue()<br>        {<br>            if (head == tail) return -1;<br><br>            int temp = a[head];<br>            ++head;<br>            return temp;<br>        }<br>    }<br><br>    class QueueLinkNode<br>    {<br>        public int data;<br>        public QueueLinkNode next;<br><br>        public QueueLinkNode() { }<br><br>        public QueueLinkNode(int data)<br>        {<br>            this.data = data;<br>            next = null;<br>        }<br>    }<br><br>    class QueueLink<br>    {<br>        public QueueLinkNode head;<br>        public QueueLinkNode tail;<br><br>        public QueueLink(QueueLinkNode head,QueueLinkNode tail)<br>        {<br>            this.head = head;<br>            this.tail = tail;<br>        }<br><br>        public bool EnQueue(int value)<br>        {<br><br>            QueueLinkNode q = new QueueLinkNode(value);<br>            if (tail == null)<br>                tail = q;<br>            else<br>            {<br>                tail.next = q;<br>                tail = q;<br>            }<br><br>            return true;<br>        }<br><br>        public int DeQueue()<br>        {<br>            if (head == tail) return -1;<br><br>            QueueLinkNode p = new QueueLinkNode();<br>            p = head;<br>            QueueLinkNode q = new QueueLinkNode();<br>            while (p.next != null)<br>            {<br>                q = p;<br>                p = p.next;<br>            }<br><br>            return q.data;<br>        }<br>    }","like_count":0},{"had_liked":false,"id":158831,"user_name":"æ³¨å®šéå‡¡","can_delete":false,"product_type":"c1","uid":1113597,"ip_address":"","ucode":"80673056E131B7","user_header":"https://static001.geekbang.org/account/avatar/00/10/fd/fd/326be9bb.jpg","comment_is_top":false,"comment_ctime":1575461021,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1575461021","product_id":100017301,"comment_content":"ï¼ˆ1ï¼‰å…ˆè¿›å…ˆå‡ºï¼Œåªæœ‰ä¸¤ä¸ªåŸºæœ¬çš„æ“ä½œï¼Œå…¥é˜Ÿå’Œå‡ºé˜Ÿï¼Œå’Œæ ˆä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ç§æ“ä½œå—é™çš„çº¿æ€§è¡¨æ•°æ®ç»“æ„ã€‚<br>\t<br>ï¼ˆ2ï¼‰é˜Ÿåˆ—ä½œä¸ºä¸€ç§éå¸¸åŸºç¡€çš„æ•°æ®ç»“æ„ï¼Œåº”ç”¨çš„éå¸¸å¹¿æ³›ï¼Œç‰¹åˆ«æ˜¯å…·æœ‰ç‰¹æ®Šæ€§çš„é˜Ÿåˆ—ï¼šå¦‚å¾ªç¯é˜Ÿåˆ—ï¼Œé˜»å¡é˜Ÿåˆ—ï¼Œå¹¶å‘é˜Ÿåˆ—â€¦â€¦åœ¨å¾ˆå¤šååº•å±‚ç³»ç»Ÿï¼Œæ¡†æ¶ï¼Œä¸­é—´ä»¶çš„å¼€å‘ä¸­ï¼Œèµ·ç€å…³é”®æ€§ä½œç”¨ï¼Œå¦‚é«˜æ€§èƒ½é˜Ÿåˆ—Disruptor,linuxç¯å½¢ç¼“å­˜ï¼Œéƒ½ç”¨åˆ°äº†å¾ªç¯å¹¶å‘é˜Ÿåˆ—ï¼›Java concurrentå¹¶å‘åŒ…åˆ©ç”¨ArrayBlockingQueueæ¥å®ç°å…¬å¹³é”ã€‚<br>\t<br>ï¼ˆ3ï¼‰é¡ºåºé˜Ÿåˆ—å’Œé“¾å¼é˜Ÿåˆ—<br>\t1ï¼Œå’Œæ ˆç›¸åŒï¼Œé˜Ÿåˆ—ç”¨æ•°ç»„å®ç°å«é¡ºåºé˜Ÿåˆ—ï¼Œç”¨é“¾è¡¨å®ç°å«é“¾å¼é˜Ÿåˆ—ã€‚<br>\t2ï¼Œå’Œæ ˆä¸åŒï¼Œæ ˆåªéœ€è¦ä¸€ä¸ªæ ˆé¡¶æŒ‡é’ˆï¼Œä½†é˜Ÿåˆ—éœ€è¦ä¸¤ä¸ªæŒ‡é’ˆï¼šä¸€ä¸ªheadæŒ‡é’ˆï¼ŒæŒ‡å‘å¯¹å¤´ï¼›ä¸€ä¸ªtailæŒ‡é’ˆï¼ŒæŒ‡å‘é˜Ÿå°¾ã€‚<br>\t3ï¼Œé¡ºåºé˜Ÿåˆ—ï¼š<br>\t\tå½“tailç§»åŠ¨åˆ°æœ€å³è¾¹æ—¶ï¼Œå³ä½¿æ•°ç»„ä¸­è¿˜æœ‰ç©ºé—´æ€§ç©ºé—´ï¼Œä¹Ÿæ— æ³•ç»§ç»­å¾€é˜Ÿåˆ—ä¸­æ·»åŠ æ•°æ®äº†ã€‚<br>\t\tæ•°æ®æ¬ç§»ï¼Œåœ¨å‡ºé˜Ÿæ—¶ä¸ç”¨åšæ•°æ®æ¬ç§»ï¼Œå¦‚æœæ²¡æœ‰ç©ºé—´ç©ºé—´ï¼Œåªéœ€åœ¨å…¥é˜Ÿæ—¶ï¼Œåœ¨é›†ä¸­è§¦å‘ä¸€æ¬¡æ•°æ®çš„æ¬ç§»æ“ä½œã€‚<br>\t<br>\t4ï¼Œé“¾è¡¨é˜Ÿåˆ—ï¼š<br>\t\tå…¥é˜Ÿæ—¶ï¼štail -&gt; next = new_nodeï¼Œtail = tail -&gt; next;<br>\t\tå‡ºé˜Ÿæ—¶ï¼šhead = head -&gt; next<br>ï¼ˆ4ï¼‰å¾ªç¯é˜Ÿåˆ—<br>\t1ï¼Œå¯ä»¥é¿å…æ•°æ®è¿ç§»ï¼Œä½†å®ç°è¦å¤æ‚äº›ã€‚å…³é”®åœ¨äºç¡®å®šå¥½é˜Ÿåˆ—ç©ºå’Œé˜Ÿåˆ—æ»¡çš„åˆ¤å®šæ¡ä»¶ã€‚<br>2ï¼Œå½“é˜Ÿåˆ—æ»¡æ—¶ï¼šï¼ˆtail+1ï¼‰%n=head æˆç«‹ï¼Œå¾ªç¯é˜Ÿåˆ—ä¼šæµªè´¹ä¸€ä¸ªæ•°ç»„çš„å­˜å‚¨ç©ºé—´ã€‚<br><br>ï¼ˆ5ï¼‰é˜»å¡é˜Ÿåˆ—å’Œå¹¶å‘é˜Ÿåˆ—<br>\té˜»å¡å¯¹åˆ—ï¼šåœ¨é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œä»é˜Ÿå¤´å–æ•°æ®ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰äº†æ•°æ®æ‰èƒ½è¢«è¿”å›ã€‚å¦‚æœé˜Ÿåˆ—å·²ç»æ»¡äº†ï¼Œé‚£ä¹ˆæ’å…¥æ•°æ®çš„æ“ä½œå°±ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰ç©ºé—²ä½ç½®ååœ¨æ’å…¥æ•°æ®ï¼Œç„¶åå†è¿”å›ã€‚<br><br>\tå¹¶å‘é˜Ÿåˆ—ï¼šæ˜¯çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—ï¼Œ<br>ï¼ˆ1ï¼‰æœ€ç®€å•ç›´æ¥çš„å®ç°æ–¹å¼æ˜¯ç›´æ¥åœ¨enqueue()ï¼Œdequeue()æ–¹æ³•ä¸ŠåŠ é”ï¼Œä½†é”ç²’åº¦å¤§å¹¶å‘åº¦ä¼šæ¯”è¾ƒä½ï¼ŒåŒä¸€æ—¶åˆ»ä»…èƒ½ä¸€ä¸ªå­˜æˆ–å–çš„æ“ä½œã€‚<br>ï¼ˆ2ï¼‰åŸºäºå¾ªç¯é˜Ÿåˆ—ï¼Œåˆ©ç”¨CASåŸå­æ“ä½œï¼Œå¯ä»¥å®ç°éå¸¸é«˜æ•ˆçš„å¹¶å‘é˜Ÿåˆ—ã€‚<br>\t\t\t<br>","like_count":0},{"had_liked":false,"id":158198,"user_name":"æ˜¥å’Œæ™¯æ˜","can_delete":false,"product_type":"c1","uid":1272482,"ip_address":"","ucode":"A27970A276ECD6","user_header":"https://static001.geekbang.org/account/avatar/00/13/6a/a2/f9efd9dc.jpg","comment_is_top":false,"comment_ctime":1575345838,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1575345838","product_id":100017301,"comment_content":"è€å¸ˆï¼Œ å½“å‡ºé˜Ÿçš„æ—¶å€™ï¼Œä¸éœ€è¦æŠŠå‡ºé˜Ÿçš„å…ƒç´ ä»é˜Ÿåˆ—ä¸­åˆ é™¤å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":158140,"user_name":"SteveYang","can_delete":false,"product_type":"c1","uid":1754829,"ip_address":"","ucode":"C42BCA4F40A9EF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKCbnOvEatUN4ysE2cl6zJNoAJVXXuQVhicQ1jxh6Z2Towrmmc1I6PndaicuQQ0RyyJPyJQicv4tSib9Q/132","comment_is_top":false,"comment_ctime":1575337617,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575337617","product_id":100017301,"comment_content":"1.æ¶ˆæ¯å¤„ç†é‡‡ç”¨é˜Ÿåˆ—<br>2.ä½¿ç”¨CASå®ç°æ— é”é˜Ÿåˆ—","like_count":0},{"had_liked":false,"id":158019,"user_name":"æ™¨é£ç ´æ™“","can_delete":false,"product_type":"c1","uid":1321464,"ip_address":"","ucode":"F2BC46428A97B5","user_header":"https://static001.geekbang.org/account/avatar/00/14/29/f8/561c5be1.jpg","comment_is_top":false,"comment_ctime":1575298378,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575298378","product_id":100017301,"comment_content":"é˜Ÿåˆ—ï¼šæ˜¯ä¸€ç§çº¿æ€§è¡¨æ•°æ®ç»“æ„ï¼Œå…·æœ‰å…ˆè¿›å…ˆå‡ºçš„ç‰¹ç‚¹ï¼Œé˜Ÿå¤´å‡ºé˜Ÿï¼Œé˜Ÿå°¾å…¥é˜Ÿã€‚åŒæ ˆä¸€æ ·ï¼Œæ•°ç»„å®ç°çš„é˜Ÿåˆ—å«é¡ºåºé˜Ÿåˆ—ï¼Œé“¾è¡¨å®ç°çš„å«é“¾å¼é˜Ÿåˆ—ã€‚æ ˆåªæœ‰ä¸€ä¸ªæ ˆé¡¶æŒ‡é’ˆï¼Œè€Œé˜Ÿåˆ—æœ‰å¤´æŒ‡é’ˆheadå’Œå°¾æŒ‡é’ˆtailã€‚<br>é¡ºåºé˜Ÿåˆ—ï¼šé˜Ÿæ»¡æ ‡è¯†ï¼štail = nï¼Œé˜Ÿç©ºæ ‡è¯†ï¼šhead = tailï¼Œå‡ºé˜Ÿå’Œå…¥é˜Ÿçš„è¿‡ç¨‹ï¼ŒæŒ‡é’ˆéƒ½å‘åç§»ï¼Œå½“tail ç§»åˆ°æœ€æœ«ï¼Œé˜Ÿåˆ—å³ä½¿ä¸ºç©ºä¹Ÿæ— æ³•æ’å…¥æ•°æ®ã€‚è§£å†³æ–¹æ¡ˆï¼šåœ¨å…¥é˜Ÿæ—¶æ¬ç§»æ•°æ®ï¼Œå°†head ï½ tail ä¹‹é—´çš„æ•°æ®æ¬ç§»åˆ° 0 ï½ tail - headä¹‹é—´ã€‚å‡ºé˜Ÿæ—¶é—´å¤æ‚åº¦ä¿æŒ O(1)<br>é“¾å¼é˜Ÿåˆ—ï¼šå…¥é˜Ÿï¼štail-&gt;next = new_node  tail = tail-&gt;nextï¼Œå‡ºé˜Ÿï¼šhead = head-&gt;next<br>å¾ªç¯é˜Ÿåˆ—ï¼šèƒ½é¿å…æ•°æ®æ¬ç§»ï¼Œé˜Ÿæ»¡æ ‡è¯†ï¼šhead = tailï¼Œé˜Ÿç©ºæ ‡è¯†ï¼š(tail + 1)%n = head<br>é˜»å¡é˜Ÿåˆ—ï¼šé˜Ÿåˆ—ä¸ºç©ºæ—¶ä»é˜Ÿå¤´å–æ•°æ®ä¼šè¢«é˜»å¡ï¼Œé˜Ÿåˆ—æ»¡æ—¶ä»é˜Ÿå°¾å…¥é˜Ÿä¹Ÿä¼šé˜»å¡ï¼Œå…¸å‹åº”ç”¨åœºæ™¯ï¼šç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹<br>å¹¶å‘é˜Ÿåˆ—ï¼šå¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œä¸€ä¸ªé˜Ÿåˆ—ï¼Œçº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—ã€‚å®ç°æ–¹æ³•ï¼šæœ€ç›´æ¥ç®€å•çš„å°±æ˜¯enqueueå’Œdequeueçš„æ–¹æ³•åŠ é”ï¼Œå¾ªç¯é˜Ÿåˆ—å¯ä½¿ç”¨CASåŸå­æ“ä½œã€‚","like_count":0},{"had_liked":false,"id":157891,"user_name":"httvc","can_delete":false,"product_type":"c1","uid":1328883,"ip_address":"","ucode":"3E21CC740976B0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLeocOtQchqJhmQjrSLVvkIfGmhK1STust04THMVxWB0ibGMWOaKWJKnSgb6PbEHELXknGdEbHSkjQ/132","comment_is_top":false,"comment_ctime":1575277946,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575277946","product_id":100017301,"comment_content":"ç‹äº‰è€å¸ˆï¼Œæˆ‘çœ‹è¿™èŠ‚æ•°æ®æ¬ç§»å“ªé‡Œï¼Œä»£ç  &#47;&#47; æ¬ç§»å®Œä¹‹åé‡æ–°æ›´æ–°headå’Œtail      tail -= head;      head = 0;<br>è¿™ä¸ªæˆ‘è§‰å¾—tailè¿˜å¾—åœ¨åŠ 1ï¼Œä¸ç„¶ä»–åŠ å…¥çš„æ—¶å€™ä¼šæŠŠæœ€åä¸€ä¸ªæ•°ç»™è¦†ç›–äº†ã€‚","like_count":0},{"had_liked":false,"id":157564,"user_name":"å…‹","can_delete":false,"product_type":"c1","uid":1069206,"ip_address":"","ucode":"6DDFBB05E0F4E9","user_header":"https://static001.geekbang.org/account/avatar/00/10/50/96/18612c89.jpg","comment_is_top":false,"comment_ctime":1575195895,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575195895","product_id":100017301,"comment_content":"Javaä¸­å¯¹äºå¤šçº¿ç¨‹å…±äº«èµ„æºçš„ç«äº‰ï¼Œ å¤§åé¼é¼çš„AQSã€‚<br>å®ç°æ— é”é˜Ÿåˆ—ï¼šä½¿ç”¨æ•°ç»„å­˜å‚¨ï¼Œä½¿ç”¨CASæ“ä½œheadå’Œtailä¸‹æ ‡ã€‚æ€§èƒ½è‡³ä¸Šï¼ŒCPUç¼“å­˜å‹å¥½ï¼Œæ— é”ã€‚","like_count":0},{"had_liked":false,"id":157493,"user_name":"æ¢¦æƒ³çš„ä¼˜æƒ åˆ¸","can_delete":false,"product_type":"c1","uid":1257418,"ip_address":"","ucode":"D3B44F6C618CA7","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/ca/cbce6e94.jpg","comment_is_top":false,"comment_ctime":1575177325,"is_pvip":false,"discussion_count":0,"race_medal":4,"score":"1575177325","product_id":100017301,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":157461,"user_name":"bigæ™ºæ…§","can_delete":false,"product_type":"c1","uid":1202616,"ip_address":"","ucode":"272C32E19EAE1A","user_header":"https://static001.geekbang.org/account/avatar/00/12/59/b8/2a4624c3.jpg","comment_is_top":false,"comment_ctime":1575169275,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575169275","product_id":100017301,"comment_content":"æ‰“å¡Day7ï¼š<br>1ã€æ—¥æœŸï¼š<br>* 2019å¹´12æœˆ01æ—¥<br><br>2ã€æ˜¯ä»€ä¹ˆ<br>* é˜Ÿåˆ—æ˜¯ä¸€ç§æ“ä½œå—é™çš„çº¿æ€§è¡¨æ•°æ®ç»“æ„ã€‚æ”¯æŒå…¥é˜Ÿå’Œå‡ºé˜Ÿæ“ä½œã€‚<br>* åœ¨æœ‰é™èµ„æºä¸‹å…¬å¹³çš„åšåˆ°å…ˆè¿›å…ˆæœåŠ¡<br><br>3ã€ä»€ä¹ˆåœºæ™¯å¯ä»¥ç”¨<br>* é˜»å¡é˜Ÿåˆ—ï¼šåœ¨é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œå‡ºé˜Ÿçš„æ“ä½œå°±ä¼šè¢«é˜»å¡ï¼Œåœ¨é˜Ÿåˆ—æ»¡æ—¶ï¼Œå…¥é˜Ÿçš„æ“ä½œå°±ä¼šè¢«é˜»å¡ã€‚åœ¨é˜Ÿåˆ—æ»¡æ—¶ï¼Œæ ¹æ®åœºæ™¯éœ€è¦å¯ä»¥é€‰æ‹©æ‹’ç»ä»»åŠ¡è¯·æ±‚æˆ–è€…å°†è¯·æ±‚æ’é˜Ÿã€‚ <br>* å¹¶å‘é˜Ÿåˆ—ï¼šå¤šçº¿ç¨‹æ“ä½œé˜Ÿåˆ—æ—¶ï¼Œçº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ— â€¨<br>4ã€æ•æ·æ¨¡å¼-çœ‹æ¿æ–¹æ³•ä¸­åœ¨åˆ¶å“æ•°é‡é™é¢WIPçš„æ€è·¯ <br>* æ ¹æ®å¼€å‘äººæ•°ç¡®å®šæœ€å¤šå¯ä»¥åŒæ—¶å¤„ç†5ä¸ªä»»åŠ¡ï¼Œå°±åœ¨ç™½æ¿æ è®¾å®šæœ€å¤§ä»»åŠ¡æ•°çš„ä¸Šé™ï¼Œåœ¨è¾¾åˆ°æœ€å¤§ä»»åŠ¡æ•°åï¼Œç­‰æŸä¸ªä»»åŠ¡å¤„ç†å®Œæˆååœ¨åšâ€œå…¥é˜Ÿâ€æ“ä½œã€‚<br>* å¦‚æœå‘ç°æŸç¯èŠ‚é•¿æœŸå¤„äºæœ€å¤§ä»»åŠ¡æ•°ï¼Œåˆ™å¯ä»¥è€ƒè™‘å¢åŠ â€œæ¶ˆè´¹è€…â€ï¼Œå¯ä»¥æœ‰æ•ˆçš„å‘ç°å¹¶å°è¯•è§£å†³ç“¶é¢ˆã€‚ â€¨<br>5ã€å…³æ³¨ç‚¹ï¼š<br>* æœ‰é™èµ„æºã€é˜»å¡","like_count":0},{"had_liked":false,"id":157418,"user_name":"åˆ˜ä¸¶å°å¤‡","can_delete":false,"product_type":"c1","uid":1102106,"ip_address":"","ucode":"F4D5EF592B7030","user_header":"https://static001.geekbang.org/account/avatar/00/10/d1/1a/3564c9da.jpg","comment_is_top":false,"comment_ctime":1575155915,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575155915","product_id":100017301,"comment_content":"æ€è€ƒé¢˜ï¼š<br>1.æ•°æ®åº“è¿æ¥æ± ï¼Œå¾ˆå¤šæ¶ˆæ¯é˜Ÿåˆ—ä¹Ÿä¼šç”¨åˆ°ã€‚<br>2.å¯ä»¥è€ƒè™‘ä½¿ç”¨CAS","like_count":0},{"had_liked":false,"id":157250,"user_name":"æµ…å¤","can_delete":false,"product_type":"c1","uid":1417176,"ip_address":"","ucode":"8E1F54025C865A","user_header":"https://static001.geekbang.org/account/avatar/00/15/9f/d8/62030082.jpg","comment_is_top":false,"comment_ctime":1575097534,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1575097534","product_id":100017301,"comment_content":"åœ¨çº¿ç¨‹æ± ä¸­ä½¿ç”¨æ— ç•Œé˜Ÿåˆ—ï¼Œé¦–å…ˆå¯èƒ½ä¼šå¯¼è‡´è¿‡å¤šçš„è¯·æ±‚æ’é˜Ÿï¼Œè¯·æ±‚å¤„ç†çš„å“åº”æ—¶é—´è¿‡é•¿ï¼Œä½¿ç”¨ä¸å½“è¿˜å¯èƒ½é€ æˆOOM","like_count":0},{"had_liked":false,"id":157212,"user_name":"æµ…å¤","can_delete":false,"product_type":"c1","uid":1417176,"ip_address":"","ucode":"8E1F54025C865A","user_header":"https://static001.geekbang.org/account/avatar/00/15/9f/d8/62030082.jpg","comment_is_top":false,"comment_ctime":1575083295,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1575083295","product_id":100017301,"comment_content":"è¯·æ•™ä¸€ä¸‹ï¼Œå®é™…å·¥ä½œä¸­ï¼ŒåŒç«¯é˜Ÿåˆ—çš„åº”ç”¨åœºæ™¯æ˜¯å•¥æ ·å­çš„","like_count":0},{"had_liked":false,"id":157081,"user_name":"Swing","can_delete":false,"product_type":"c1","uid":1330065,"ip_address":"","ucode":"55FCA9ECEFBBEB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/N0NACGUr8dNAbN6BdiagPHBaB0EnyDsI9zWpwJteqTY38apOEnTOA7JkBAQnzYKJBgxu3Q8YMUILwLAB6camn4w/132","comment_is_top":false,"comment_ctime":1575026797,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575026797","product_id":100017301,"comment_content":"Androidä¸­çš„ MsgQueue æœºåˆ¶ï¼Œæœ€å…¸å‹çš„ é˜»å¡å¼é˜Ÿåˆ—äº†","like_count":0},{"had_liked":false,"id":157068,"user_name":"ç§€ç§€","can_delete":false,"product_type":"c1","uid":1145162,"ip_address":"","ucode":"9D4D327324570B","user_header":"https://static001.geekbang.org/account/avatar/00/11/79/4a/10348395.jpg","comment_is_top":false,"comment_ctime":1575023887,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575023887","product_id":100017301,"comment_content":"ç”¨æ•°ç»„å®ç°çš„é˜Ÿåˆ—ä»£ç ä¸­enqueue  æ˜¯ä¸æ˜¯åº”è¯¥åˆ¤æ–­ tail == n-1<br>```<br>&#47;&#47; å…¥é˜Ÿ public boolean enqueue(String item) { &#47;&#47; å¦‚æœtail == n è¡¨ç¤ºé˜Ÿåˆ—å·²ç»æ»¡äº† if (tail == n-1) return false; items[tail] = item; ++tail; return true; }<br>```","like_count":0},{"had_liked":false,"id":156853,"user_name":"å¤§æµ·","can_delete":false,"product_type":"c1","uid":1001446,"ip_address":"","ucode":"20913D0265971B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/47/e6/67b0b711.jpg","comment_is_top":false,"comment_ctime":1574988476,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574988476","product_id":100017301,"comment_content":"Webåº”ç”¨ä¸­ï¼Œæ¥å£å¹¶å‘æœ‰é™æ—¶ï¼Œéœ€è¦ä½¿ç”¨é˜Ÿåˆ—è¿›è¡Œå¤„ç†ã€‚","like_count":0},{"had_liked":false,"id":154667,"user_name":"ç€è¿·","can_delete":false,"product_type":"c1","uid":1716801,"ip_address":"","ucode":"429F1D4015A195","user_header":"https://static001.geekbang.org/account/avatar/00/1a/32/41/c1a7840b.jpg","comment_is_top":false,"comment_ctime":1574504536,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574504536","product_id":100017301,"comment_content":"ä»Šå¤©ä¸»è¦å­¦ä¹ äº†åŸºæœ¬é˜Ÿåˆ—çš„å®ç°å’Œé«˜çº§é˜Ÿåˆ—çš„æ¦‚å¿µï¼š<br>1ã€åŸºæœ¬é˜Ÿåˆ—çš„å®ç°å¯ä»¥ç”¨æ•°ç»„å’Œé“¾è¡¨çš„æ–¹å¼å®ç°ï¼š<br>ï¼ˆ1ï¼‰ä½¿ç”¨æ•°ç»„å®ç°çš„ç¯å½¢é˜Ÿåˆ—åœ¨å…¥é˜Ÿæ—¶ä¸éœ€è¦ç§»åŠ¨æ•°ç»„å…ƒç´ ï¼Œä½†æ˜¯æœ‰é•¿åº¦é™åˆ¶ï¼Œé€‚åˆç”¨åœ¨å¯¹å“åº”æ—¶é—´æ•æ„Ÿçš„åœºæ™¯ï¼Œå…¶ä¸­ç¯å½¢é˜Ÿåˆ—å®ç°éœ€è¦æ³¨æ„å‡ºé˜Ÿæ—¶é˜Ÿåˆ—ä¸ºç©ºã€å…¥é˜Ÿæ—¶ï¼Œé˜Ÿåˆ—æ»¡çš„æƒ…å†µã€‚<br>ï¼ˆ2ï¼‰ä½¿ç”¨é“¾è¡¨å®ç°çš„é˜Ÿåˆ—é•¿åº¦ä¸Šæ²¡æœ‰é™åˆ¶ï¼Œé€‚åˆç”¨åœ¨å¯ä»¥é•¿æ—¶é—´æ’é˜Ÿçš„åœºæ™¯ä¸­ã€‚<br>2ã€é«˜çº§é˜Ÿåˆ—<br>ï¼ˆ1ï¼‰é˜»å¡é˜Ÿåˆ—ï¼Œåœ¨å…¥é˜Ÿæ—¶ï¼Œå¦‚æœé˜Ÿæ»¡ï¼Œåœ¨å‡ºé˜Ÿæ—¶ï¼Œå¦‚æœé˜Ÿç©ºï¼Œä¸»çº¿ä¼šä¸€ç›´ç­‰å¾…<br>ï¼ˆ2ï¼‰å¹¶å‘é˜Ÿåˆ—ï¼Œçº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—ï¼Œé«˜å¹¶å‘ä½¿ç”¨åœºæ™¯","like_count":0},{"had_liked":false,"id":154457,"user_name":"ç¼–ç¨‹ç•Œçš„å°å­¦ç”Ÿ","can_delete":false,"product_type":"c1","uid":1593289,"ip_address":"","ucode":"4A5BE9A5E877FA","user_header":"https://static001.geekbang.org/account/avatar/00/18/4f/c9/9f51fd27.jpg","comment_is_top":false,"comment_ctime":1574434550,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574434550","product_id":100017301,"comment_content":"1.mqè‚¯å®šç”¨äº†ï¼Œredisçš„blpopæ“ä½œåº•å±‚æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯çº¿ç¨‹å®‰å…¨çš„é˜»å¡é˜Ÿåˆ—å‘¢ï¼Ÿ<br>2.casï¼Œå¹¶å‘é«˜çš„æƒ…å†µä¸‹ä¸€å®šæ¯”synchronizedæ•ˆç‡é«˜ã€‚","like_count":0},{"had_liked":false,"id":153271,"user_name":"Pikaman","can_delete":false,"product_type":"c1","uid":1234463,"ip_address":"","ucode":"2CBB15B2979A8F","user_header":"https://static001.geekbang.org/account/avatar/00/12/d6/1f/a927583c.jpg","comment_is_top":false,"comment_ctime":1574210105,"is_pvip":false,"replies":[{"id":"59143","content":"ä¸ºå•¥å‘¢","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1574334223,"ip_address":"","comment_id":153271,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1574210105","product_id":100017301,"comment_content":"å¾ªç¯å¯¹åˆ—é˜Ÿæ»¡æ¡ä»¶ (tail+1)%n=head æœ‰è¯¯å§","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475105,"discussion_content":"ä¸ºå•¥å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574334223,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151350,"user_name":"æ¡ä¸ä½æ‰‹ä¸­æ²™","can_delete":false,"product_type":"c1","uid":1097132,"ip_address":"","ucode":"F194E47C4D42C9","user_header":"https://static001.geekbang.org/account/avatar/00/10/bd/ac/49494ed8.jpg","comment_is_top":false,"comment_ctime":1573703921,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573703921","product_id":100017301,"comment_content":"æ€è€ƒé¢˜ï¼š<br>1ã€ç”¨åˆ°é˜Ÿåˆ—çš„æƒ…å†µåŒ…æ‹¬çº¿ç¨‹æ± ï¼Œæ•°æ®åº“è¿æ¥æ± è¿™ç§èµ„æºç¨€ç¼ºä½†æ˜¯è¯·æ±‚é‡çš„æƒ…å†µï¼Œè¿˜æœ‰å°±æ˜¯ç°åœ¨ç»å¸¸ç”¨çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä½¿ç”¨ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„æ¨¡å¼ï¼Œç”Ÿæˆè€…å°†æ•°æ®æ”¾å…¥é˜Ÿåˆ—ï¼Œæ¶ˆè´¹è€…æ ¹æ®æƒ…å†µå¯¹æ•°æ®è¿›è¡Œæ¶ˆè´¹<br>2ã€æ— é”å®ç°é˜Ÿåˆ—å¯è€ƒè™‘é‡‡ç”¨CASçš„æ–¹å¼ï¼Œåœ¨æ•°æ®æ’å…¥å‰å…ˆè·å–tailçš„ä½ç½®ï¼Œåœ¨æ’å…¥æ—¶åˆ¤æ–­tailçš„ä½ç½®æ˜¯å¦ä¸ºå‰ä¸€æ¬¡å–å¾—çš„ä½ç½®ï¼Œå¦‚æœç›¸ç­‰åˆ™è¿›è¡Œå…¥é˜Ÿï¼Œå¦åˆ™ä¸èƒ½å…¥é˜Ÿï¼›å‡ºé˜Ÿçš„æ—¶å€™åˆ¤æ–­è¯»å–headçš„ä½ç½®æ˜¯å¦ä¸ºå½“å‰é˜Ÿåˆ—headçš„ä½ç½®ï¼Œå¦‚æœç›¸ç­‰è¯´æ˜é˜Ÿåˆ—æœªè¿›è¡Œè¿‡å‡ºé˜Ÿæ“ä½œï¼Œæ­¤æ—¶å¯æ‰§è¡Œå‡ºé˜Ÿï¼Œå¦åˆ™ä¸å¯æ‰§è¡Œå‡ºé˜Ÿ","like_count":0},{"had_liked":false,"id":147134,"user_name":"é»„æŒ¯å®‡","can_delete":false,"product_type":"c1","uid":1686397,"ip_address":"","ucode":"976BC7B46DA419","user_header":"https://static001.geekbang.org/account/avatar/00/19/bb/7d/26340713.jpg","comment_is_top":false,"comment_ctime":1572823407,"is_pvip":false,"replies":[{"id":"57069","content":"é˜»å¡é˜Ÿåˆ—çš„æ„æ€æ˜¯ï¼šä¸€ä¸ªçº¿ç¨‹å¯ä»¥ç­‰ç€è¿™ä¸ªé˜Ÿåˆ—æœ‰æ•°æ®ï¼Œä¸€æœ‰æ•°æ®å°±æ¶ˆè´¹ã€‚ä¸šåŠ¡å«ä¹‰æ¯”å•çº¯çš„é˜Ÿåˆ—æ›´ä¸°å¯Œäº›ã€‚å½“ç„¶ï¼Œåº•å±‚è¿˜æ˜¯ä¼šç”¨åˆ°ä½ è¯´çš„åŸºç¡€çš„æ•°æ®ç»“æ„ï¼šé˜Ÿåˆ—ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1572949092,"ip_address":"","comment_id":147134,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1572823407","product_id":100017301,"comment_content":"è€å¸ˆï¼Œé˜»å¡é˜Ÿåˆ—ä¸å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„ç±»ä¼¼åŸºäºæ•°ç»„å®ç°çš„é˜Ÿåˆ—å—ï¼Ÿå½“é˜Ÿåˆ—ä¸­ä¸ºç©ºæ—¶ï¼Œæ— æ³•å–æ•°æ®ã€‚å½“é˜Ÿåˆ—æ»¡çš„æ—¶å€™ä¹Ÿæ— æ³•æ’å…¥äº†ï¼Œå› ä¸ºäº‹å…ˆçŸ¥é“æ•°ç»„çš„å¤§å°å•¦å•Šã€‚æ‰€ä»¥å½“æ»¡äº†çš„æ—¶å€™ä¹Ÿæ— æ³•æ’å…¥ã€‚è¿™ä¸å°±æ˜¯é˜»å¡é˜Ÿåˆ—å—ï¼Ÿå¥½åƒå’Œæ™®é€šçš„é˜Ÿåˆ—æ²¡å•¥åŒºåˆ«å•Šï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473162,"discussion_content":"é˜»å¡é˜Ÿåˆ—çš„æ„æ€æ˜¯ï¼šä¸€ä¸ªçº¿ç¨‹å¯ä»¥ç­‰ç€è¿™ä¸ªé˜Ÿåˆ—æœ‰æ•°æ®ï¼Œä¸€æœ‰æ•°æ®å°±æ¶ˆè´¹ã€‚ä¸šåŠ¡å«ä¹‰æ¯”å•çº¯çš„é˜Ÿåˆ—æ›´ä¸°å¯Œäº›ã€‚å½“ç„¶ï¼Œåº•å±‚è¿˜æ˜¯ä¼šç”¨åˆ°ä½ è¯´çš„åŸºç¡€çš„æ•°æ®ç»“æ„ï¼šé˜Ÿåˆ—ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572949092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":146610,"user_name":"Geek_cd1ae5","can_delete":false,"product_type":"c1","uid":1686659,"ip_address":"","ucode":"FC04584868CE1A","user_header":"https://static001.geekbang.org/account/avatar/00/19/bc/83/b2f62092.jpg","comment_is_top":false,"comment_ctime":1572582143,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572582143","product_id":100017301,"comment_content":"å‡ºé˜Ÿæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä»ç„¶æ˜¯ O(1)ï¼Œä½†å…¥é˜Ÿæ“ä½œçš„æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯ O(1) å—ï¼Ÿä½ å¯ä»¥ç”¨æˆ‘ä»¬ç¬¬ 3 èŠ‚ã€ç¬¬ 4 èŠ‚è®²çš„ç®—æ³•å¤æ‚åº¦åˆ†ææ–¹æ³•ï¼Œè‡ªå·±è¯•ç€åˆ†æä¸€ä¸‹ã€‚<br><br>æˆ‘æ„Ÿè§‰æ˜¯O(n) ï¼Œä½†å‡æ‘Šæ˜¯O(1)ã€‚ä¸çŸ¥é“å¯¹ä¸å¯¹","like_count":0},{"had_liked":false,"id":144456,"user_name":"wend","can_delete":false,"product_type":"c1","uid":1014096,"ip_address":"","ucode":"45EE220931FE91","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyzUm3M4HMj0wXv8Pr34OhOiaFJjFMSjVKnaJoOWR9Uo1T4RBI4MYtguolJgOwb6eKsAUOq4MGlrw/132","comment_is_top":false,"comment_ctime":1571927349,"is_pvip":false,"replies":[{"id":"55981","content":"æ˜¯çš„ï¼Œå¾ˆå¤šéƒ½æ˜¯ç”¨casæ¥å®ç°çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1572230305,"ip_address":"","comment_id":144456,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571927349","product_id":100017301,"comment_content":"ä½¿ç”¨é˜Ÿåˆ—çš„åœºæ™¯å¾ˆå¤šï¼Œç½‘ç»œè¯·æ±‚æ¡†æ¶ï¼ŒAndroidçš„handleræœºåˆ¶ï¼Œä¸‹è½½ç®¡ç†å™¨ã€‚<br><br>æ— é”å¹¶å‘äº†è§£ä¸å¤šï¼Œä¹Ÿæ˜¯åˆ©ç”¨CASå®ç°ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471948,"discussion_content":"æ˜¯çš„ï¼Œå¾ˆå¤šéƒ½æ˜¯ç”¨casæ¥å®ç°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572230305,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143941,"user_name":"æ— å","can_delete":false,"product_type":"c1","uid":1110113,"ip_address":"","ucode":"2D2E877CF97138","user_header":"https://static001.geekbang.org/account/avatar/00/10/f0/61/68462a07.jpg","comment_is_top":false,"comment_ctime":1571811110,"is_pvip":false,"replies":[{"id":"55990","content":"çœ‹ç€æ²¡é”™å•Š","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1572230830,"ip_address":"","comment_id":143941,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571811110","product_id":100017301,"comment_content":"åˆ¤æ–­é˜Ÿæ»¡ï¼š(tail+1)%capacity==head<br><br>å½“capacity=1æ—¶ï¼Œæ˜¯é”™è¯¯çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471753,"discussion_content":"çœ‹ç€æ²¡é”™å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572230830,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143655,"user_name":"é«˜å¤","can_delete":false,"product_type":"c1","uid":1689197,"ip_address":"","ucode":"9BCD93629F7B76","user_header":"https://static001.geekbang.org/account/avatar/00/19/c6/6d/65ec48f1.jpg","comment_is_top":false,"comment_ctime":1571752612,"is_pvip":false,"replies":[{"id":"55991","content":"https:&#47;&#47;github.com&#47;wangzheng0822","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1572230872,"ip_address":"","comment_id":143655,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571752612","product_id":100017301,"comment_content":"è¯·é—®ä¸‹è€å¸ˆçš„githubåœ°å€æ˜¯å¤šå°‘ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471636,"discussion_content":"https://github.com/wangzheng0822","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572230872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142719,"user_name":"ä¸–ç•Œ","can_delete":false,"product_type":"c1","uid":1042147,"ip_address":"","ucode":"F3144DADADDE9B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e6/e3/dcbb9f87.jpg","comment_is_top":false,"comment_ctime":1571476122,"is_pvip":false,"replies":[{"id":"55218","content":"ä¸ æ˜¯n ä½ å†çœ‹ä¸‹æ–‡ç« ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1571618219,"ip_address":"","comment_id":142719,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571476122","product_id":100017301,"comment_content":"[æˆ‘ä»¬åˆšæ‰ç”¨æ•°ç»„æ¥å®ç°é˜Ÿåˆ—çš„æ—¶å€™ï¼Œåœ¨ tail==n æ—¶]<br>åº”è¯¥æ˜¯tail==n-1 ï¼Ÿnè¡¨ç¤ºæ•°ç»„å¤§å°<br><br>","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471243,"discussion_content":"ä¸ æ˜¯n ä½ å†çœ‹ä¸‹æ–‡ç« ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571618219,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142032,"user_name":"å‘ç§‘","can_delete":false,"product_type":"c1","uid":1294797,"ip_address":"","ucode":"6EFC2C4FB11A24","user_header":"https://static001.geekbang.org/account/avatar/00/13/c1/cd/cdb510ae.jpg","comment_is_top":false,"comment_ctime":1571281179,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571281179","product_id":100017301,"comment_content":"8086CPU 6å­—èŠ‚çš„æŒ‡ä»¤é˜Ÿåˆ—ï¼Œä¹Ÿæ˜¯ä¸€ç§é˜Ÿåˆ—ç»“æ„","like_count":0},{"had_liked":false,"id":142026,"user_name":"å‘ç§‘","can_delete":false,"product_type":"c1","uid":1294797,"ip_address":"","ucode":"6EFC2C4FB11A24","user_header":"https://static001.geekbang.org/account/avatar/00/13/c1/cd/cdb510ae.jpg","comment_is_top":false,"comment_ctime":1571280185,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571280185","product_id":100017301,"comment_content":"DHCP IPåœ°å€ï¼Œåƒæ˜¯ä¸€ç§é˜Ÿåˆ—ç»“æ„","like_count":0},{"had_liked":false,"id":140766,"user_name":"freesocean","can_delete":false,"product_type":"c1","uid":1529210,"ip_address":"","ucode":"CAD4C80CF569D3","user_header":"https://static001.geekbang.org/account/avatar/00/17/55/7a/d44df1d6.jpg","comment_is_top":false,"comment_ctime":1571045318,"is_pvip":false,"replies":[{"id":"54526","content":"æ²¡é”™çš„ã€‚ä¸è¿‡çœ‹é˜Ÿåˆ—æ˜¯æ€ä¹ˆå®ç°çš„äº†ï¼Œä½ è¯´çš„è¿™ä¸ªæ–¹å¼æ˜¯ç”¨æœ€ç®€å•çš„æ•°ç»„æ¥å®ç°çš„å§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1571094162,"ip_address":"","comment_id":140766,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571045318","product_id":100017301,"comment_content":"æ—¶é—´å¤æ‚åº¦åˆ†æé‚£ä¸ªï¼šæˆ‘çš„æ€è€ƒæ˜¯ï¼Œå¦‚æœå…¥é˜Ÿçš„é€Ÿåº¦è¿œå¤§äºå‡ºé˜Ÿï¼Œåˆ™è¯´æ˜é˜Ÿåˆ—æ€»æ˜¯åœ¨ä¸å¤Ÿç”¨çš„è¾¹ç¼˜å¾˜å¾Šï¼Œä¼šé¢‘ç¹çš„æ•°æ®æ¬ç§»ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯Oï¼ˆnï¼‰ã€‚ç›¸åï¼Œåˆ™è¯´æ˜é˜Ÿåˆ—å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ¯”è¾ƒç©ºï¼Œåˆ™æ¬ç§»æ¬¡æ•°å æ¯”å¾ˆå°‘ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆ1ï¼‰ã€‚ä¸çŸ¥ç†è§£æ˜¯å¦æœ‰è¯¯ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470546,"discussion_content":"æ²¡é”™çš„ã€‚ä¸è¿‡çœ‹é˜Ÿåˆ—æ˜¯æ€ä¹ˆå®ç°çš„äº†ï¼Œä½ è¯´çš„è¿™ä¸ªæ–¹å¼æ˜¯ç”¨æœ€ç®€å•çš„æ•°ç»„æ¥å®ç°çš„å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571094162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140757,"user_name":"å°å–µå–µ","can_delete":false,"product_type":"c1","uid":1062444,"ip_address":"","ucode":"FDBBB2A59DB8B6","user_header":"https://static001.geekbang.org/account/avatar/00/10/36/2c/8bd4be3a.jpg","comment_is_top":false,"comment_ctime":1571043691,"is_pvip":false,"replies":[{"id":"54520","content":"ğŸ˜ï¼Œä½ å¯ä»¥çœ‹çœ‹javaå¹¶å‘åŒ…çš„æºç å§","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1571093903,"ip_address":"","comment_id":140757,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571043691","product_id":100017301,"comment_content":"å¹¶å‘é˜Ÿåˆ—çš„å®ç°åŸç†æ˜¯åŠ é”ï¼Œé˜»å¡é˜Ÿåˆ—çš„åº•å±‚å®ç°åŸç†æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470541,"discussion_content":"ğŸ˜ï¼Œä½ å¯ä»¥çœ‹çœ‹javaå¹¶å‘åŒ…çš„æºç å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571093903,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140724,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1571038190,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571038190","product_id":100017301,"comment_content":"é˜Ÿåˆ—æœ‰ä¸€ä¸ªå†™æŒ‡é’ˆï¼Œæœ‰ä¸€ä¸ªè¯»æŒ‡é’ˆï¼Œä¸¤è€…é…åˆå®ç°å…ˆè¿›å…ˆå‡ºçš„éœ€æ±‚ã€‚ç”¨é“¾è¡¨å®ç°è¾ƒä¸ºç®€ä¾¿ï¼Œå¦‚æœç”¨æ•°ç»„å®ç°ï¼Œä¸æ–­çš„è¯»å’Œå†™ä¹‹åï¼Œè¯»å†™ç›´æ¥çš„åŒºé—´å°±ä¼šå¹³ç§»ï¼Œä¼šé€ æˆç©ºé—´çš„æµªè´¹ï¼Œè¦ä¿®æ­£ç©ºé—´æµªè´¹ï¼Œå°±è¦å¹³ç§»å…ƒç´ ï¼Œä»£ä»·é«˜æ˜‚ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå¾ªç¯é˜Ÿåˆ—åº”è¿è€Œç”Ÿï¼Œæ—¢ä¿è¯äº†ç©ºé—´çš„æœ‰æ•ˆåˆ©ç”¨ï¼Œåˆé¿å…äº†é“¾è¡¨çš„æŒ‡é’ˆï¼Œæ˜¯å›ºå®šå¤§å°é˜Ÿåˆ—çš„æœ€ä½³é€‰æ‹©ã€‚<br>é˜»å¡é˜Ÿåˆ—æ˜¯åœ¨é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™åŠ å…¥è¯»çš„é˜»å¡æ“ä½œï¼Œè®©é˜Ÿåˆ—è‡ªåŠ¨å“åº”æ¶ˆè´¹è€…ï¼Œå¯ä»¥é…ç½®å¤šä¸ªæ¶ˆè´¹è€…å’Œä¸€ä¸ªç”Ÿäº§è€…æ¥è®©ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…é…åˆã€‚","like_count":0},{"had_liked":false,"id":138206,"user_name":"Lance","can_delete":false,"product_type":"c1","uid":1686840,"ip_address":"","ucode":"CCE52F86EEBBED","user_header":"https://static001.geekbang.org/account/avatar/00/19/bd/38/6d436088.jpg","comment_is_top":false,"comment_ctime":1570093212,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570093212","product_id":100017301,"comment_content":"é˜Ÿåˆ—(å…ˆè¿›å…ˆå‡º)ï¼Œç”¨æ•°ç»„å®ç°çš„é˜Ÿåˆ—å«åšé¡ºåºé˜Ÿåˆ—ï¼Œç”¨å•å‘é“¾è¡¨å®ç°çš„é˜Ÿåˆ—å«åšé“¾å¼é˜Ÿåˆ—ã€‚<br>æ•°ç»„å®ç°çš„é˜Ÿåˆ—ä¼šæœ‰å®¹é‡é™åˆ¶ï¼Œå½“é˜Ÿåˆ—æ»¡äº†éœ€è¦è¿›è¡Œæ•°æ®æ¬ç§»æ“ä½œï¼Œé’ˆå¯¹è¯¥é—®é¢˜å¯ä»¥é€šè¿‡å¾ªç¯é˜Ÿåˆ—çš„æ–¹å¼è§£å†³ï¼Œä½†æ˜¯å¾ªç¯é˜Ÿåˆ—ä¼šæµªè´¹æ•°ç»„ä¸€ä¸ªå­˜å‚¨ç©ºé—´ã€‚<br><br>å¾ªç¯é˜Ÿåˆ—æœ€å…³é”®æ˜¯éœ€è¦ç¡®å®šå¥½é˜Ÿåˆ—ä¸ºç©ºä»¥åŠé˜Ÿåˆ—æ»¡çš„åˆ¤å®šæ¡ä»¶ <br>é˜Ÿæ»¡ï¼š(tail+1)%n==head <br>é˜Ÿç©ºï¼štail==head<br><br>é˜Ÿåˆ—çš„åº”ç”¨åœºæ™¯ï¼šé˜»å¡é˜Ÿåˆ—(ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹)ï¼Œå¹¶å‘é˜Ÿåˆ—(åŸºäºæ•°ç»„çš„å¾ªç¯é˜Ÿåˆ—ï¼Œåˆ©ç”¨CASåŸå­æ“ä½œå¯ä»¥å®ç°é«˜æ•ˆçš„å¹¶å‘é˜Ÿåˆ—)<br><br>å¯¹äºå¤§éƒ¨åˆ†èµ„æºæœ‰é™çš„åœºæ™¯ï¼Œå½“æ²¡æœ‰ç©ºé—²èµ„æºæ—¶ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥é€šè¿‡&quot;é˜Ÿåˆ—&quot;è¿™ç§æ•°æ®ç»“æ„æ¥å®ç°è¯·æ±‚æ’é˜Ÿã€‚","like_count":0},{"had_liked":false,"id":138085,"user_name":"-W.LI-","can_delete":false,"product_type":"c1","uid":1210699,"ip_address":"","ucode":"3556786538664F","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","comment_is_top":false,"comment_ctime":1570016757,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570016757","product_id":100017301,"comment_content":"æ— é”é˜Ÿåˆ—ï¼Œåœ¨å¹¶å‘å†²çªå¤§çš„æƒ…å†µä¸‹ã€‚æ˜¯ä¸æ˜¯ä¸å¤ªå¥½æ•ˆæœã€‚caséœ€è¦é‡è¯•å¾ˆå¤šæ¬¡","like_count":0},{"had_liked":false,"id":137906,"user_name":"å§œå·","can_delete":false,"product_type":"c1","uid":1684311,"ip_address":"","ucode":"0F8A349623EAB5","user_header":"https://static001.geekbang.org/account/avatar/00/19/b3/57/2d92cf9a.jpg","comment_is_top":false,"comment_ctime":1569913420,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569913420","product_id":100017301,"comment_content":"çœ‹äº†é˜Ÿåˆ—åï¼Œç¿»é˜…Javaä¸­Queueï¼Œå‘ç°å…¶å«æœ‰LinkedQueueã€ArrayQueueï¼Œåˆ†åˆ«ç”¨é“¾è¡¨å’Œæ•°ç»„å®ç°çš„","like_count":0},{"had_liked":false,"id":137067,"user_name":"Yayu","can_delete":false,"product_type":"c1","uid":1058015,"ip_address":"","ucode":"5E7842458D8229","user_header":"https://static001.geekbang.org/account/avatar/00/10/24/df/645f8087.jpg","comment_is_top":false,"comment_ctime":1569588940,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569588940","product_id":100017301,"comment_content":"ã€åœ¨æ•°ç»„å®ç°é˜Ÿåˆ—çš„æ—¶å€™ï¼Œä¼šæœ‰æ•°æ®æ¬ç§»æ“ä½œï¼Œè¦æƒ³è§£å†³æ•°æ®æ¬ç§»çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦åƒç¯ä¸€æ ·çš„å¾ªç¯é˜Ÿåˆ—ã€‚ã€è¿™ä¸ªæ•°æ®æ¬ç§»çš„é—®é¢˜åªå­˜åœ¨äºé¡ºåºé˜Ÿåˆ—å§ï¼Œå¦‚æœæ˜¯é“¾å¼é˜Ÿåˆ—ï¼Œä¸å­˜åœ¨æ•°æ®æ¬ç§»é—®é¢˜å‘€ã€‚å³ä¾¿ä¸æ˜¯å¾ªç¯é˜Ÿåˆ—ã€‚","like_count":0},{"had_liked":false,"id":135223,"user_name":"Tom.G","can_delete":false,"product_type":"c1","uid":1206034,"ip_address":"","ucode":"7929B45C1A51F8","user_header":"https://static001.geekbang.org/account/avatar/00/12/67/12/5c6eb568.jpg","comment_is_top":false,"comment_ctime":1569070385,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569070385","product_id":100017301,"comment_content":"ç¯å½¢é˜Ÿåˆ—ï¼Œæœ€åä¸€ä¸ªé¿å…æµªè´¹å­˜å‚¨ç©ºé—´<br>public class MyCircularQueue {<br><br>\tprivate int[] circularQueue;<br>\tprivate int head = 0;<br>\tprivate int tail = 0;<br><br>\tprivate int size = 0;<br><br>\t&#47;** Initialize your data structure here. Set the size of the queue to be k. *&#47;<br>\tpublic MyCircularQueue(int k) {<br>\t\tcircularQueue = new int[k];<br><br>\t\tfor (int i = 0; i &lt; k; i++) {<br>\t\t\tcircularQueue[i] = -1;<br>\t\t}<br>\t}<br><br>\t&#47;**<br>\t * Insert an element into the circular queue. Return true if the operation is<br>\t * successful.<br>\t *&#47;<br>\tpublic boolean enQueue(int value) {<br>\t\tif (size == circularQueue.length) {<br>\t\t\treturn false;<br>\t\t}<br><br>\t\tcircularQueue[tail] = value;<br>\t\ttail = (tail + 1) % circularQueue.length;<br>\t\tsize++;<br><br>\t\treturn true;<br>\t}<br><br>\t&#47;**<br>\t * Delete an element from the circular queue. Return true if the operation is<br>\t * successful.<br>\t *&#47;<br>\tpublic boolean deQueue() {<br>\t\tif (size == 0) {<br>\t\t\treturn false;<br>\t\t}<br><br>\t\tcircularQueue[head] = -1;<br>\t\thead = (head + 1) % circularQueue.length;<br>\t\tsize--;<br><br>\t\treturn true;<br>\t}<br><br>\t&#47;** Get the front item from the queue. *&#47;<br>\tpublic int Front() {<br>\t\treturn circularQueue[head];<br>\t}<br><br>\t&#47;** Get the last item from the queue. *&#47;<br>\tpublic int Rear() {<br>\t\treturn circularQueue[(tail - 1 + circularQueue.length) % circularQueue.length];<br>\t}<br><br>\t&#47;** Checks whether the circular queue is empty or not. *&#47;<br>\tpublic boolean isEmpty() {<br>\t\treturn size == 0;<br>\t}<br><br>\t&#47;** Checks whether the circular queue is full or not. *&#47;<br>\tpublic boolean isFull() {<br>\t\treturn size == circularQueue.length;<br>\t}<br>}<br>","like_count":0},{"had_liked":false,"id":134205,"user_name":"David","can_delete":false,"product_type":"c1","uid":1023472,"ip_address":"","ucode":"1C76747719CD3B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9d/f0/6c34b90f.jpg","comment_is_top":false,"comment_ctime":1568774820,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568774820","product_id":100017301,"comment_content":"1.æ•°æ®åº“è¿æ¥æ± ã€‚æ¶ˆè´¹è€…å¤„ç†èƒ½åŠ›æœ‰é™çš„æƒ…å†µä¸‹éœ€è¦æ’é˜Ÿå¤„ç†çš„åœºæ™¯ï¼Œæ¶ˆè´¹å¤„ç†éœ€è¦ä¿è¯é¡ºåºçš„å¤„ç†åœºæ™¯ã€‚<br>2.æ— é”é€šè¿‡CASå®ç°","like_count":0},{"had_liked":false,"id":132520,"user_name":"èƒ¡æ°¸","can_delete":false,"product_type":"c1","uid":1200543,"ip_address":"","ucode":"6C8BA1E0BED9C0","user_header":"https://static001.geekbang.org/account/avatar/00/12/51/9f/1840385e.jpg","comment_is_top":false,"comment_ctime":1568160832,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568160832","product_id":100017301,"comment_content":"ä»Šå¤©å­¦åˆ°çš„æ˜¯é˜Ÿåˆ—çš„æ¦‚å¿µï¼šå…ˆè¿›å…ˆå‡ºï¼Œæ•°ç»„å®ç°æ˜¯é¡ºåºé˜Ÿåˆ—ï¼Œé“¾è¡¨å®ç°çš„æ˜¯é“¾å¼é˜Ÿåˆ—ï¼Œè¿˜æœ‰å¾ªç¯é˜Ÿåˆ—ï¼Œé˜»å¡é˜Ÿåˆ—ç­‰ï¼Œçœ‹å¤§å®¶çš„å›å¤æˆ‘å°±æ”¾å¿ƒäº†ï¼Œå°ç™½è¿˜æ˜¯è¦å¤šçœ‹å‡ éï¼Œå¤šå¤šç»ƒä¹ äº†ï¼Œå›é¡¾äº†ä¸‹å¿˜è®°äº†å¹¶å‘é˜Ÿåˆ—ï¼Œç¬¬ä¸€éå°±å…ˆæŠŠæ•´ä½“æ¦‚å¿µè¿‡ä¸€éï¼Œæ€»ç»“å‡ºæ¦‚å¿µä½“ç³»ï¼Œç„¶åç¬¬äºŒéå†è‡ªå·±æ‰‹åŠ¨å†™ä»£ç ï¼Œä¸çŸ¥é“æˆ‘è¿™ç§æ–¹æ³•å¥½è¿˜æ˜¯æ”¾æ…¢çœ‹çš„é€Ÿåº¦ï¼Œæ¯æ¬¡è¯¾ç¨‹çš„ä»£ç éƒ½å®ç°ä¸€éå¥½ã€‚","like_count":0},{"had_liked":false,"id":132067,"user_name":"å»–æˆæ—","can_delete":false,"product_type":"c1","uid":1358798,"ip_address":"","ucode":"CCBC3DED9EBF2A","user_header":"https://static001.geekbang.org/account/avatar/00/14/bb/ce/951a0751.jpg","comment_is_top":false,"comment_ctime":1568018108,"is_pvip":false,"replies":[{"id":"50975","content":"ipad paper","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1568410998,"ip_address":"","comment_id":132067,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1568018108","product_id":100017301,"comment_content":"è€å¸ˆ ä½ å¥½ï¼Œæƒ³é—®ä¸‹ç”»å›¾å·¥å…·æ˜¯ä»€ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466744,"discussion_content":"ipad paper","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568410998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1358798,"avatar":"https://static001.geekbang.org/account/avatar/00/14/bb/ce/951a0751.jpg","nickname":"å»–æˆæ—","note":"","ucode":"CCBC3DED9EBF2A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":109820,"discussion_content":"å¤šè°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577712386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130231,"user_name":"æµ·è´¼ç‹","can_delete":false,"product_type":"c1","uid":1239233,"ip_address":"","ucode":"9F35793FAA3F5E","user_header":"https://static001.geekbang.org/account/avatar/00/12/e8/c1/e2cc1d04.jpg","comment_is_top":false,"comment_ctime":1567409663,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567409663","product_id":100017301,"comment_content":"æ–‡ä¸­æå‡ºå‡ºé˜Ÿçš„æ“ä½œæ—¶é—´å¤æ‚åº¦ä»ä¸ºO(1)ï¼Œåˆ†æå‰‹é‡‡ç”¨é“¾è¡¨ä¸€èŠ‚ä¸­çš„æ‘Šè¿˜åˆ†ææ³•ï¼Œé’ˆå¯¹æŸä¸€æ¬¡å¤æ‚çš„æ“ä½œå¹³å‡åˆ†æ‘Šåˆ°å…¶ä»–æ­£å¸¸çš„æ“ä½œä¸­ï¼Œç›¸å½“äºæ¯æ¬¡å…¥é˜Ÿä¸€ä¸ªæ•°æ®ï¼Œéƒ½è¦ç§»åŠ¨ä¸€ä¸ªæ•°æ®ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¾æ—§æ˜¯O(1)","like_count":0},{"had_liked":false,"id":124434,"user_name":"å…­ä¸€","can_delete":false,"product_type":"c1","uid":1302721,"ip_address":"","ucode":"3EA05EABBA9138","user_header":"https://static001.geekbang.org/account/avatar/00/13/e0/c1/50acf7f5.jpg","comment_is_top":false,"comment_ctime":1565882603,"is_pvip":false,"replies":[{"id":"47252","content":"ä½ å¯ä»¥å…ˆå¯¹tailè¿›è¡Œcasï¼Œç„¶åæ‹¿åˆ°è¿™æ ·ç©ºä½ç¥¨ï¼Œå‡è®¾ä¸‹æ ‡æ˜¯xï¼Œç„¶åå†addåˆ°xä½ç½®ï¼Œè¿™æ ·å°±æ²¡äººè·Ÿä½ å¼ºäº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1566775198,"ip_address":"","comment_id":124434,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565882603","product_id":100017301,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜æ±‚è§£ç­”ä¸€ä¸‹ï¼Œæœ€åä¸€ä¸ªæ€è€ƒé¢˜ï¼Œåˆ©ç”¨CASå’Œæ•°ç»„å®ç°å¹¶å‘é˜Ÿåˆ—ï¼Œæ¯”æ–¹æ˜¯å…¥é˜Ÿæ“ä½œï¼Œè™½ç„¶å¯ä»¥åˆ©ç”¨CASæ›´æ–°tailï¼Œä½†æ˜¯åœ¨è¿™ä¹‹å‰æœ‰ä¸€ä¸ªæ•°ç»„çš„addæ“ä½œï¼Œæ›´æ–°tailæ˜¯åŸå­æ“ä½œï¼Œä½†æ˜¯addæ“ä½œ+tailæ›´æ–°å¹¶ä¸æ˜¯åŸå­æ“ä½œå•Šï¼Œæˆ‘è§‰å¾—å§‹ç»ˆä¼šæœ‰å¤šçº¿ç¨‹é—®é¢˜ï¼Œæ±‚è§£ğŸ˜Š","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463173,"discussion_content":"ä½ å¯ä»¥å…ˆå¯¹tailè¿›è¡Œcasï¼Œç„¶åæ‹¿åˆ°è¿™æ ·ç©ºä½ç¥¨ï¼Œå‡è®¾ä¸‹æ ‡æ˜¯xï¼Œç„¶åå†addåˆ°xä½ç½®ï¼Œè¿™æ ·å°±æ²¡äººè·Ÿä½ å¼ºäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566775198,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123425,"user_name":"auko","can_delete":false,"product_type":"c1","uid":1516010,"ip_address":"","ucode":"7E3AA25B2D250F","user_header":"https://static001.geekbang.org/account/avatar/00/17/21/ea/2cfb9144.jpg","comment_is_top":false,"comment_ctime":1565674218,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565674218","product_id":100017301,"comment_content":"if(tail = head &amp;&amp; item[head+1]ï¼= null)<br>ä½œä¸ºå¾ªç¯é˜Ÿåˆ—é˜Ÿæ»¡çš„åˆ¤æ–­å¯è¡Œå—<br><br>æ­£å¸¸çš„å…¥é˜Ÿå‡ºé˜Ÿä¹Ÿä¸ä¼šå¤šåé¢é‚£ä¸€æ¬¡è¿ç®—","like_count":0},{"had_liked":false,"id":123370,"user_name":"èµ°é©¬","can_delete":false,"product_type":"c1","uid":1251016,"ip_address":"","ucode":"EEFE8F7590FFA4","user_header":"https://static001.geekbang.org/account/avatar/00/13/16/c8/980776fc.jpg","comment_is_top":false,"comment_ctime":1565662749,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565662749","product_id":100017301,"comment_content":"public static class CircleQueue<br>    {<br>        private int head;<br>        private int tail;<br>        private int[] dt;<br><br>        public CircleQueue(int len)<br>        {<br>            dt=new int[len];<br>            tail=head=0;<br>        }<br><br>        public boolean enqueue(int value)<br>        {<br>            if(tail==dt.length)<br>                tail=0;<br>            if(tail==head)<br>                return false;<br>            dt[tail++]=value;<br>            return true;<br>        }<br><br>        public int dequeue()<br>        {<br>            if(head==dt.length)<br>                head=0;<br>            if(head==tail)<br>                return -1;<br>            return dt[head++];<br>        }<br>    }","like_count":0},{"had_liked":false,"id":122078,"user_name":"é»‘è‰²æ¯›è¡£","can_delete":false,"product_type":"c1","uid":1135912,"ip_address":"","ucode":"FF7E235F91BA5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/28/31b0cf2f.jpg","comment_is_top":false,"comment_ctime":1565280269,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565280269","product_id":100017301,"comment_content":"1ã€Android çš„æ¶ˆæ¯é˜Ÿåˆ—æœ‰ç”¨åˆ°é˜Ÿåˆ—ï¼›<br>2ã€ä½¿ç”¨ CAS åŠ å¤±è´¥é‡è¯•ï¼ŒCAS ä¼šä¼ å…¥ä¸‰ä¸ªå€¼ã€‚ç¬¬ä¸€ä¸ªå€¼æ˜¯è¦ä¿®æ”¹çš„å˜é‡ï¼Œç¬¬äºŒä¸ªå€¼æ˜¯æœŸæœ›çš„å€¼ï¼Œç¬¬ä¸‰ä¸ªå€¼æ˜¯è¦ä¿®æ”¹çš„å€¼ã€‚<br>    å…¥é˜Ÿçš„æ—¶å€™ï¼Œåˆ¤æ–­ä¸‹ hail æ˜¯å¦æ˜¯æœŸæœ›çš„å€¼ï¼Œä¸æ˜¯çš„è¯ï¼ŒCAS å¤±è´¥ï¼Œé‚£ä¹ˆé‡æ–°è¯»å– hailï¼Œå†æ¬¡åˆ¤æ–­ï¼›<br>    å‡ºé˜Ÿä¹Ÿæ˜¯ä¸€æ ·çš„æ“ä½œï¼›","like_count":0},{"had_liked":false,"id":121442,"user_name":"åŸå—èŠ±æœªå¼€","can_delete":false,"product_type":"c1","uid":1192121,"ip_address":"","ucode":"B66F354F41D095","user_header":"https://static001.geekbang.org/account/avatar/00/12/30/b9/0002529a.jpg","comment_is_top":false,"comment_ctime":1565140455,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565140455","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—çš„ä»£ç ã€‚æ¯”å¦‚ï¼Œåˆå§‹åŒ–å¤§å°ä¸º5ï¼Œå®é™…è¾“å‡ºçš„ç»“æœåªæœ‰4ï¼š<br>  CircularQueue circularQueue = new CircularQueue(5);<br><br>        circularQueue.enqueue(&quot;1&quot;);<br>        circularQueue.enqueue(&quot;2&quot;);<br>        circularQueue.enqueue(&quot;3&quot;);<br>        circularQueue.enqueue(&quot;4&quot;);<br>        circularQueue.enqueue(&quot;5&quot;);<br>circularQueue.printAll();<br>è§£å†³çš„æ–¹å¼æ˜¯ï¼š<br> public CircularQueue(int capacity) {<br>        items = new String[capacity];<br>        n = capacity + 1;<br>    }","like_count":0},{"had_liked":false,"id":121233,"user_name":"Ares","can_delete":false,"product_type":"c1","uid":1323178,"ip_address":"","ucode":"290D252FABCB1D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEL2wE4k0RxhvTOFu179WngoHIOQvIyoltqZlA1MHMlv7ALDWKyx4dOOLc9zcMuzdRbIAiahvcSQ0aA/132","comment_is_top":false,"comment_ctime":1565081919,"is_pvip":false,"replies":[{"id":"44737","content":"ä½ å¯ä»¥å†çœ‹ä¸‹æ–‡ç« ï¼Œå°±æ˜¯è¦æµªè´¹ä¸€ä¸ªå­˜å‚¨ä½ç½®çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1565219899,"ip_address":"","comment_id":121233,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1565081919","product_id":100017301,"comment_content":"Circlequeueçš„å…¥é˜Ÿæ–¹æ³•ä¼¼ä¹æœ‰é—®é¢˜ï¼Œå‡å¦‚åˆ›å»ºä¸€ä¸ª5ä½å®¹é‡çš„é˜Ÿåˆ—ï¼Œæ”¾tailè®¡ç®—åˆ°4çš„æ—¶å€™ï¼Œå…¶å®åˆšå¥½æ˜¯æœ€åé˜Ÿåˆ—æœ€åä¸€ä¸ªç›´ï¼Œä½†æ˜¯åˆ¤æ–­é‡Œç”¨(tail+1ï¼‰%næå‰å°±æŠŠèƒ½å…¥é˜Ÿçš„return false å¯¼è‡´æœ€æœ«çš„ç›´å…¥é˜Ÿä¸äº†äº†","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461693,"discussion_content":"ä½ å¯ä»¥å†çœ‹ä¸‹æ–‡ç« ï¼Œå°±æ˜¯è¦æµªè´¹ä¸€ä¸ªå­˜å‚¨ä½ç½®çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565219899,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1323178,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEL2wE4k0RxhvTOFu179WngoHIOQvIyoltqZlA1MHMlv7ALDWKyx4dOOLc9zcMuzdRbIAiahvcSQ0aA/132","nickname":"Ares","note":"","ucode":"290D252FABCB1D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4147,"discussion_content":"ä¿®æ”¹å¦‚ä¸‹\nclass CircularQueue {\n\tprivate String[] items;\n\tprivate int n;\n\tprivate int tail = 0;\n\tprivate int head = 0;\n\n\tpublic CircularQueue(int capacity) {\n\t\titems = new String[capacity];\n\t\tn = capacity;\n\t}\n\n\tpublic boolean enqueue(String item) {\n\t\tif ( (tail + 1) % n == head ) { \n\t\t\tif (items[tail] == null) {\n\t\t\t\titems[tail] = item;\n\t\t\t}\n\t\t\tif ((tail+1) == n)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn false; \n\t\t}\n\n\t\tif (items[tail] != null) {\n\t\t\ttail = (tail + 1) % n;\n\t\t}\n\n\t\titems[tail] = item;\n\t\ttail = (tail + 1) % n;\n\t\treturn true;\n\t}\n\n\tpublic String dequeue() {\n\t\tif (head == tail) return null;\n\t\tString ret = items[head];\n\t\titems[head] = null;\n\t\thead = (head + 1) % n;\n\t\tif ((tail + 1) == n)\n\t\t{\n\t\t\ttail = (tail + 1) % n;\n\t\t}\n\t\treturn ret;\n\t}\n\n\tpublic String getItem(int i) {\n\t\treturn items[(head + i) % n];\t\n\t}\n\n\tpublic void getItems() {\n\t\tfor(String i : items) {\n\t\t\tSystem.out.println(i);\n\t\t}\n\t}\n\n\n}","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565167038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116878,"user_name":"RuiClear","can_delete":false,"product_type":"c1","uid":1513951,"ip_address":"","ucode":"D67461C5053A03","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er5GnyD0t2QibS8P4flibTY49Zj5ww9vngGeicvqscc3Fsf8ibrvGMPZfCgjiaYH15Iib1xibNVia039clg3A/132","comment_is_top":false,"comment_ctime":1563933627,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563933627","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—ä¸æµªè´¹ä¸€ä¸ªç©ºé—´çš„å®ç°ï¼Œä¸çŸ¥é“å¯¹ä¸å¯¹ï¼Œæœ›å„ä½å¤§ä½¬å’Œè€å¸ˆæŒ‡æ­£<br><br>public class CircularQueue {<br>    private int head=0;<br>    private int tail=0;<br>    &#47;&#47;æ€»å¤§å°<br>    private int size =10;<br>    &#47;&#47;å½“å‰é˜Ÿåˆ—æ€»å…ƒç´ <br>    private int count = 0;<br>    private String[] queue = new String[size];<br><br><br><br>    public void put(String s){<br>        if(count == size){<br>            System.out.println(&quot;queueå·²æ»¡&quot;);<br>            return;<br>        }<br>        System.out.println(s);<br>        queue[tail] = s;<br>        tail = (tail+1)%size;<br>        count++;<br>    }<br><br>    public String pop(){<br>        if(count == 0){<br>            System.out.println(&quot;queueä¸ºç©º&quot;);<br>            return null;<br>        }<br>        String s = queue[head];<br>        head = (head+1)%size;<br>        count--;<br>        return s;<br>    }<br>}","like_count":0},{"had_liked":false,"id":115549,"user_name":"æ‹¾æŸ’","can_delete":false,"product_type":"c1","uid":1601018,"ip_address":"","ucode":"A9C4A076943D36","user_header":"https://static001.geekbang.org/account/avatar/00/18/6d/fa/1ada7ac2.jpg","comment_is_top":false,"comment_ctime":1563618805,"is_pvip":false,"replies":[{"id":"42292","content":"ä¸æ˜¯çš„ï¼Œä½ å¯ä»¥çœ‹çœ‹ç•™è¨€é‡Œçš„å…¶ä»–è®¨è®ºï¼Œæœ‰æåˆ°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1563746278,"ip_address":"","comment_id":115549,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563618805","product_id":100017301,"comment_content":"è€å¸ˆï¼Œæˆ‘ä¸ªé—®é¢˜è¯·æ•™ä¸€ä¸‹ï¼Œtailå¿…é¡»æŒ‡å‘ä¸€ä¸ªå…ƒç´ ä¸ºç©ºçš„ä½ç½®å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459155,"discussion_content":"ä¸æ˜¯çš„ï¼Œä½ å¯ä»¥çœ‹çœ‹ç•™è¨€é‡Œçš„å…¶ä»–è®¨è®ºï¼Œæœ‰æåˆ°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563746278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115383,"user_name":"ä¸€ç¬”ä¸€ç”»","can_delete":false,"product_type":"c1","uid":1495254,"ip_address":"","ucode":"2B9BC8ADF97106","user_header":"https://static001.geekbang.org/account/avatar/00/16/d0/d6/f335954b.jpg","comment_is_top":false,"comment_ctime":1563548735,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563548735","product_id":100017301,"comment_content":"æ’é˜Ÿå°±æ˜¯ä¸ºäº†ä¿åº","like_count":0},{"had_liked":false,"id":115243,"user_name":"ğŸ’ğŸ±ğŸ­ğŸ®ğŸ¯ğŸ°ğŸ¶","can_delete":false,"product_type":"c1","uid":1189080,"ip_address":"","ucode":"52426AE36A9A39","user_header":"https://static001.geekbang.org/account/avatar/00/12/24/d8/aa41d743.jpg","comment_is_top":false,"comment_ctime":1563517164,"is_pvip":false,"replies":[{"id":"42204","content":"ä½ å…·ä½“æŒ‡æ–‡ç« é‡Œçš„å“ªä¸€æ­¥åˆ†å†…å®¹å‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1563575379,"ip_address":"","comment_id":115243,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563517164","product_id":100017301,"comment_content":"è€å¸ˆ ä¸ºä»€ä¹ˆtail æŒ‡å‘ç©º ä¸ºä»€ä¹ˆä¸æ˜¯æœ€åä¸€ä¸ªæ•°æ®ï¼ˆå¦‚æœæ•°ç»„ä¸­æœ‰æ•°æ®ï¼‰ï¼Œ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459024,"discussion_content":"ä½ å…·ä½“æŒ‡æ–‡ç« é‡Œçš„å“ªä¸€æ­¥åˆ†å†…å®¹å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563575379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115023,"user_name":"tong467","can_delete":false,"product_type":"c1","uid":1560667,"ip_address":"","ucode":"544F6FB2C5A936","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJjw7KXibCGnibOm3O73xCGyCzdmgKuc017X8IQZCdNvAWxoWxHSgMTLgd7rGs1LCBPaU5oHbO16F0A/132","comment_is_top":false,"comment_ctime":1563456097,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563456097","product_id":100017301,"comment_content":"class ArrayQueue {<br><br>    private int length;<br>    private Object[] array;<br><br>    private int head;<br>    private int size;<br><br><br>    public ArrayQueue(int length) {<br>        this.length = length;<br>        array = new Object[length];<br>    }<br><br>    public synchronized boolean enqueue(Object obj) {<br>        if (size == length) {<br>            System.out.println(&quot;é˜Ÿåˆ—å·²æ»¡&quot;);<br>            return false;<br>        }<br>        System.out.println(obj + &quot;è¢«å†™å…¥é˜Ÿåˆ—&quot;);<br>        int current = head + size &gt; length - 1 ? head + size - length : head + size;<br>        array[current] = obj;<br>        size++;<br>        return true;<br>    }<br><br>    public synchronized Object dequeue() {<br>        Object result = null;<br>        if (size != 0) {<br>            size--;<br>            if (head == length - 1) {<br>                head = 0;<br>                result = array[length - 1];<br>            } else {<br>                result = array[head++];<br>            }<br>        }<br>        System.out.println(result + &quot;è¢«å–å‡ºé˜Ÿåˆ—&quot;);<br>        return result;<br>    }<br>}<br>æˆ‘æ˜¯é‡‡ç”¨è®°å½•å¤´èŠ‚ç‚¹å’Œé˜Ÿåˆ—é‡Œé¢æ•°æ®é•¿åº¦æ¥ä½¿ç”¨å¾ªç¯é˜Ÿåˆ—çš„ï¼Œä¸éœ€è¦å¤šä½™çš„ç©ºé—´ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“å¯¹ä¸ï¼Œéº»çƒ¦è€å¸ˆæŒ‡ç‚¹ä¸‹ã€‚","like_count":0},{"had_liked":false,"id":114606,"user_name":"ä¹‹åŸ","can_delete":false,"product_type":"c1","uid":1252519,"ip_address":"","ucode":"12451253E366A2","user_header":"https://static001.geekbang.org/account/avatar/00/13/1c/a7/6a837523.jpg","comment_is_top":false,"comment_ctime":1563348617,"is_pvip":false,"replies":[{"id":"42197","content":"æ˜¯çš„ï¼Œæˆ‘æ–‡ç« ä¸­çš„åˆ¤å®šæ–¹å¼æ˜¯è¿™æ ·å­çš„ã€‚ ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1563573852,"ip_address":"","comment_id":114606,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563348617","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—çš„å¤§å°ä¸º 8ï¼ŒæŒ‰ç…§è€å¸ˆçš„è¯´æ³•ï¼š(tail+1)%n=headæ—¶é˜Ÿæ»¡ã€‚ä¹Ÿå°±æ˜¯æ»¡çš„æ—¶å€™åªèƒ½æ”¾7ä¸ªå’¯ï¼Ÿå¿…é¡»æœ‰ä¸€ä¸ªæ—¶ç©ºç€çš„å¯¹å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458745,"discussion_content":"æ˜¯çš„ï¼Œæˆ‘æ–‡ç« ä¸­çš„åˆ¤å®šæ–¹å¼æ˜¯è¿™æ ·å­çš„ã€‚ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563573852,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114534,"user_name":"å°ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1359701,"ip_address":"","ucode":"124953423491E2","user_header":"https://static001.geekbang.org/account/avatar/00/14/bf/55/198c6104.jpg","comment_is_top":false,"comment_ctime":1563330324,"is_pvip":false,"replies":[{"id":"42196","content":"å¥½åƒä¸è¡Œã€‚å› ä¸ºå³ä¾¿æ˜¯ç©ºäº†ï¼Œå†…å­˜ä¸­å­˜å‚¨çš„ä¹Ÿä¸ä¸€å®šæ˜¯null","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1563573827,"ip_address":"","comment_id":114534,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563330324","product_id":100017301,"comment_content":"å¯¹äºå¾ªç¯é˜Ÿåˆ—ä¼šæµªè´¹ä¸€ä¸ªå­˜å‚¨ç‚¹çš„é—®é¢˜ï¼Œå‡ºäº†å¢åŠ flagè®°å½•å½“å‰æ•°æ®ä¸ªæ•°ï¼Œæˆ‘è¿˜æƒ³åˆ°å¯å¦ç”¨tail==head &amp;&amp; queue[(tail+1)%n]==nullæ¥åˆ¤ç©ºï¼Ÿå³é¦–ä½ç¢°å¤´æ—¶é˜Ÿåˆ—ä¸­tailçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦è¿˜æœ‰æ•°æ®ï¼Œå¦‚æœæœ‰ï¼Œè¯´æ˜é˜Ÿæ»¡ï¼Œå¦‚æœæ²¡æœ‰è¯´æ˜é˜Ÿç©ºã€‚æ€è·¯å’Œflagé‚£ä¸ªä¸€æ ·ï¼Œåªä¸è¿‡æŠŠäº‹å…ˆå­˜å‚¨å˜æˆäº†å®æ—¶è®¡ç®—ã€‚äººåœ¨åœ°é“ä¸Šï¼Œåˆ°å…¬å¸éªŒè¯ä¸‹å†æ¥å›å¤ã€‚","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458709,"discussion_content":"å¥½åƒä¸è¡Œã€‚å› ä¸ºå³ä¾¿æ˜¯ç©ºäº†ï¼Œå†…å­˜ä¸­å­˜å‚¨çš„ä¹Ÿä¸ä¸€å®šæ˜¯null","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563573827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113408,"user_name":"æå°å››","can_delete":false,"product_type":"c1","uid":1112747,"ip_address":"","ucode":"2A766BE16B276B","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/ab/0d39e745.jpg","comment_is_top":false,"comment_ctime":1562999439,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562999439","product_id":100017301,"comment_content":"ç®—æ³•_009# ä½œä¸š<br>1. æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ¨é€é˜Ÿåˆ—ç­‰ã€‚<br>2. ä¹‹å‰ä»äº‹ç§»åŠ¨ç«¯çš„å¼€å‘ï¼Œæ²¡æœ‰å®æˆ˜è¿‡é«˜å¹¶å‘çš„å¤„ç†ï¼Œå¯¹äºæ— é”å¹¶å‘çš„æ€è€ƒæ˜¯ï¼Œè¿™ä¸ªæ“ä½œä¸€å®šæ˜¯CPUæ‰§è¡Œçš„æœ€å°å•ä½ï¼Œä¸èƒ½è¢«å†æ¬¡åˆ†å‰²ã€‚äº†è§£äº†CASåŸå­æ“ä½œï¼Œæœç„¶æ˜¯ç±»ä¼¼çš„åŸç†ã€‚<br><br>éšæ€§ä½œä¸šï¼šéå¾ªç¯æ•°ç»„é˜Ÿåˆ—ä¸­ï¼Œå­˜åœ¨æ•°æ®æ¬ç§»çš„æƒ…å†µï¼Œæ‘Šè¿˜åˆ†ææ³•ï¼Œå¹³å‡æ˜¯æ—¶é—´å¤æ‚åº¦æ˜¯O(1)<br><br># å†…å®¹<br>é˜Ÿåˆ—ï¼šå…ˆè¿›å…ˆå‡ºã€‚<br>åº”ç”¨åœºæ™¯ï¼šèµ„æºæœ‰é™æ—¶çš„è§£å†³æ–¹æ¡ˆã€‚<br>åŸºäºæ•°ç»„çš„å¾ªç¯é˜Ÿåˆ—ï¼Œæ€è·¯å¾ˆæ£’ï¼Œè¦æŒæ¡å®ç°ã€‚<br><br># æ„Ÿæƒ³<br>çœ‹åˆ°ç¯å½¢é˜Ÿåˆ—è¿™é‡Œå¾ˆæœ‰æ„Ÿè§¦ï¼šäººç±»æŠ½è±¡æ€è€ƒèƒ½åŠ›è®©äººæ•¬ä½©ã€‚<br>å…¶å®ç¯å½¢é˜Ÿåˆ—æ˜¯æˆ‘ä»¬é€»è¾‘ä¸Šçš„æ¦‚å¿µï¼Œç‰©ç†ä¸Šå¹¶ä¸æ˜¯ç¯å½¢çš„ï¼Œæ˜¾ç¤ºä¸€ä¸ªçº¿æ€§æ’åˆ—ï¼Œa[length-1]å¹¶æ²¡æœ‰æŒ¨ç€a[0]ï¼Œä½†æˆ‘ä»¬å¯ä»¥ç”¨ç®—æ³•æ¥å®ç°ç›¸åº”çš„æ•ˆæœï¼Œè¾¾åˆ°ç›®çš„ã€‚å½“ç„¶ï¼Œè®¡ç®—æœºå¹¶ä¸çŸ¥é“æˆ‘ä»¬æŠŠå®ƒå½“åšäº†ç¯æ¥å¤„ç†ã€‚","like_count":0},{"had_liked":false,"id":113240,"user_name":"æ³¢æ‹‰æ‹‰","can_delete":false,"product_type":"c1","uid":1122121,"ip_address":"","ucode":"586F66351219E8","user_header":"https://static001.geekbang.org/account/avatar/00/11/1f/49/e4ab004b.jpg","comment_is_top":false,"comment_ctime":1562922929,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562922929","product_id":100017301,"comment_content":"Androidä¸­çš„Handleræ•´ä¸ªæœºåˆ¶éƒ½æ¶‰åŠåˆ°é˜Ÿåˆ—","like_count":0},{"had_liked":false,"id":112690,"user_name":"ã€€ã€€","can_delete":false,"product_type":"c1","uid":1560563,"ip_address":"","ucode":"0D736D44A24C56","user_header":"https://static001.geekbang.org/account/avatar/00/17/cf/f3/48fc6781.jpg","comment_is_top":false,"comment_ctime":1562807135,"is_pvip":false,"replies":[{"id":"41568","content":"listç¼“å­˜åº”è¯¥ä¸æ˜¯å¹¶å‘é˜Ÿåˆ—ï¼Œå› ä¸ºredisæ“ä½œæ˜¯å•çº¿ç¨‹çš„ï¼Œä¸éœ€è¦å¹¶å‘ã€‚å¦ä¸€ä¸ªé—®é¢˜ï¼Œç­”æ¡ˆåº”è¯¥æ˜¯yesã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1563232899,"ip_address":"","comment_id":112690,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562807135","product_id":100017301,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæˆ‘æƒ³è¯¢é—®æ‚¨ä¸€ä¸ªé—®é¢˜ï¼Œå…³äºæœ€åæåˆ°çš„å¹¶å‘é˜Ÿåˆ—ï¼Œåœ¨redisæœåŠ¡çš„listç±»å‹ç¼“å­˜ä¸­ï¼Œæ˜¯ä¸æ˜¯ç”¨åˆ°çš„å°±æ˜¯å¹¶å‘é˜Ÿåˆ—ï¼Ÿè¿˜æ˜¯è¯´ ç°åœ¨å¤§éƒ¨åˆ†å­˜åœ¨çš„é˜Ÿåˆ—æœåŠ¡éƒ½æœ‰å¹¶å‘é˜Ÿåˆ—è¿™ç§æ¨¡å¼ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457859,"discussion_content":"listç¼“å­˜åº”è¯¥ä¸æ˜¯å¹¶å‘é˜Ÿåˆ—ï¼Œå› ä¸ºredisæ“ä½œæ˜¯å•çº¿ç¨‹çš„ï¼Œä¸éœ€è¦å¹¶å‘ã€‚å¦ä¸€ä¸ªé—®é¢˜ï¼Œç­”æ¡ˆåº”è¯¥æ˜¯yesã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563232899,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112135,"user_name":"é€é¥","can_delete":false,"product_type":"c1","uid":1070213,"ip_address":"","ucode":"95C583EF780159","user_header":"https://static001.geekbang.org/account/avatar/00/10/54/85/081804f7.jpg","comment_is_top":false,"comment_ctime":1562673170,"is_pvip":false,"replies":[{"id":"40808","content":"å®ç°æ€è·¯å¾ˆå¤šï¼Œå¯ä»¥è½®è®­ã€æˆ–è€…ä½¿ç”¨ä¿¡å·é‡ç­‰ç­‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1562712097,"ip_address":"","comment_id":112135,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562673170","product_id":100017301,"comment_content":"æˆ‘æƒ³é—®ä¸€ä¸‹é˜»å¡é˜Ÿåˆ—å°±æ˜¯æ·»åŠ é˜»å¡åŠ¨ä½œï¼Œé‚£åˆ°åº•æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457594,"discussion_content":"å®ç°æ€è·¯å¾ˆå¤šï¼Œå¯ä»¥è½®è®­ã€æˆ–è€…ä½¿ç”¨ä¿¡å·é‡ç­‰ç­‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562712097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111049,"user_name":"Mr.Durden","can_delete":false,"product_type":"c1","uid":1194054,"ip_address":"","ucode":"C8469D8A3F1FD1","user_header":"https://static001.geekbang.org/account/avatar/00/12/38/46/b6159f7c.jpg","comment_is_top":false,"comment_ctime":1562432639,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562432639","product_id":100017301,"comment_content":"åŸºç¡€ä¸æ˜¯å¾ˆæ‰å®ï¼Œä½†æ˜¯ä¹Ÿè¯•ç€é€šè¿‡è€å¸ˆè¯¾ç¨‹æ‰€å­¦çš„çŸ¥è¯†åˆ†æä¸€ä¸‹ï¼Œä»¥åŠæå‡ºä¸€ä¸‹æˆ‘çš„è§‚ç‚¹ã€‚é˜Ÿåˆ—é•¿åº¦ä¸ºn,å½“tailåˆ°è¾¾é˜Ÿå°¾çš„æ—¶å€™ä¼šè¿›è¡Œæ•°æ®æ¬ç§»ï¼Œå³tail == n,headå¯èƒ½çš„æƒ…å†µä¸º0ï½tailç§ï¼Œæ‰€ä»¥è¿ç§»æ•°æ®æ‰€éœ€çš„æ¬¡æ•°ä¸º0~n,næ—¶é˜Ÿåˆ—æ²¡æœ‰è¿›è¡Œè¿‡dequeueçš„æƒ…å†µï¼Œ0æ˜¯dequeueæ¬¡æ•°ç­‰äºenqueueçš„æƒ…å†µï¼Œå³é˜Ÿåˆ—å‡ºé˜Ÿå…¥é˜Ÿæ¬¡æ•°ç›¸åŒéƒ½ç­‰äºn,æ•°æ®å·²ç»å†™åˆ°é˜Ÿåˆ—å°¾éƒ¨ï¼Œä½†æ˜¯headå’Œtailéœ€è¦é‡ç½®ï¼Œé˜Ÿåˆ—ä¸­æ²¡æœ‰æ•°æ®ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯O(0) ,O(1),O(2)...O(n-1),O(n)&#47;n,O((0+n)*n&#47;2n) = O(n&#47;2),å°±æ˜¯O(n),è€Œå‘ç”Ÿçš„é¢‘ç‡æ˜¯næ¬¡å…¥é˜Ÿåè¿›è¡Œä¸€æ¬¡ï¼Œå‡æ‘Šä»¥åæ˜¯O(1)çš„æ—¶é—´å¤æ‚åº¦ï¼Œæœ€ä¼˜çš„æƒ…å†µæ˜¯O(1)å³è¿›è¡Œäº†næ¬¡å…¥é˜Ÿå’Œnæ¬¡å‡ºé˜Ÿåªé‡ç½®tailå’Œheadæœ€åæƒ…å†µæ˜¯O(n),å…¥é˜Ÿnæ¬¡æ²¡æœ‰å‡ºé˜Ÿ","like_count":0},{"had_liked":false,"id":110831,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1562370076,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562370076","product_id":100017301,"comment_content":"é˜Ÿåˆ—çš„æœ¬è´¨æ˜¯æä¾›ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„å®¹å™¨ï¼Œåœ¨æ ‘å’Œå›¾çš„å¹¿åº¦ä¼˜å…ˆæœç´¢æœ‰ç›´æ¥çš„åº”ç”¨ã€‚å…ˆæ¥çš„å…ˆå¤„ç†å°±å½¢æˆäº†ç”±è¿‘åŠè¿œçš„ç»“æ„ã€‚<br>è¥¿å‘¨çš„åˆ†å°åˆ¶åº¦åº”è¯¥æ˜¯æŒ‰ç…§è¡€ç¼˜å’ŒåŠŸåŠ³ä¸¤ä¸ªå› ç´ æ’ä¸ªé˜Ÿåˆ—ï¼Œç„¶åç»™å°åœ°åŠ å…¬ä¾¯ä¼¯å­ç”·æ ‡ç­¾çš„ç®—æ³•å§ã€‚","like_count":0},{"had_liked":false,"id":110828,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1562368446,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562368446","product_id":100017301,"comment_content":"ä¸å¾ªç¯é˜Ÿåˆ—åœ¨å…¥é˜Ÿçš„æ—¶å€™åšæ¬ç§»åšä¸åˆ°å‡æ‘Šå¤æ‚åº¦O(1),å…·ä½“çš„æƒ…å†µå¦‚ä¸‹ï¼Œé˜Ÿåˆ—ä»å¼€å§‹ä¸æ–­æ’å…¥åˆ°å…¨æ»¡ï¼Œç„¶åå†åˆ é™¤ä¸€ä¸ªï¼Œæ’å…¥ä¸€ä¸ªï¼Œä¸æ–­åœ°é‡å¤ä¸€æ¬¡åˆ é™¤ä¸€æ¬¡æ’å…¥ï¼Œè¿™ä¸ªæ—¶å€™æ¯æ¬¡æ’å…¥éƒ½è¦O(nï¼‰ã€‚","like_count":0},{"had_liked":false,"id":110214,"user_name":"cellphoneå³°","can_delete":false,"product_type":"c1","uid":1477273,"ip_address":"","ucode":"F09214B4F37161","user_header":"https://static001.geekbang.org/account/avatar/00/16/8a/99/f50df019.jpg","comment_is_top":false,"comment_ctime":1562208864,"is_pvip":false,"replies":[{"id":"40130","content":"åº”è¯¥æ˜¯ä½ ç†è§£é”™äº†ï¼Œè‡ªå·±å†çœ‹ä¸‹å§","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1562281566,"ip_address":"","comment_id":110214,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562208864","product_id":100017301,"comment_content":"ä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘ç†è§£é”™äº†ï¼Œé‚£ä¸ªæ•°æ®æ¬ç§»åº”è¯¥æ˜¯æ¬åˆ°0åˆ°tail-head-1æŠŠï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456778,"discussion_content":"åº”è¯¥æ˜¯ä½ ç†è§£é”™äº†ï¼Œè‡ªå·±å†çœ‹ä¸‹å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562281566,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110074,"user_name":"ä½ åœ¨ä¸è¿œçš„æœªæ¥","can_delete":false,"product_type":"c1","uid":1318404,"ip_address":"","ucode":"5B34C8BD03B71A","user_header":"https://static001.geekbang.org/account/avatar/00/14/1e/04/f902047e.jpg","comment_is_top":false,"comment_ctime":1562166973,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562166973","product_id":100017301,"comment_content":"kafkaé˜Ÿåˆ—ï¼Œåœ¨å•ä¸ªèŠ‚ç‚¹ä¸Šä¹Ÿç®—æ˜¯é¡ºåºé˜Ÿåˆ—ï¼Œæ¶ˆè´¹çš„æ—¶å€™é€šè¿‡offsetæŒ‡é’ˆæ¥ç®¡ç†ã€‚","like_count":0},{"had_liked":false,"id":108545,"user_name":"è”¡å¤§å°‘","can_delete":false,"product_type":"c1","uid":1014103,"ip_address":"","ucode":"46FB0BF4BFB75F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/79/57/59e6747a.jpg","comment_is_top":false,"comment_ctime":1561797624,"is_pvip":false,"replies":[{"id":"39394","content":"å¯ä»¥çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1561937359,"ip_address":"","comment_id":108545,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561797624","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—ä¹Ÿå¯ä»¥ç”¨é“¾è¡¨ç»“æ„å§ï¼Œé˜Ÿåˆ—æ»¡ç›´æ¥å°±æ˜¯tail-&gt;next==headerå§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456035,"discussion_content":"å¯ä»¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561937359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108154,"user_name":"ææ–‡æ­¦","can_delete":false,"product_type":"c1","uid":1490660,"ip_address":"","ucode":"71BEE4083ECD0F","user_header":"https://static001.geekbang.org/account/avatar/00/16/be/e4/4fe3caa0.jpg","comment_is_top":false,"comment_ctime":1561687455,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561687455","product_id":100017301,"comment_content":"å“ˆå“ˆï¼Œåº”è¯¥æ˜¯çœ‹æ¯æ’çš„æ’å·è€Œä¸æ˜¯ç”µå½±ç¥¨ä¸Šçš„ä¸œè¥¿","like_count":0},{"had_liked":false,"id":107607,"user_name":"å°k","can_delete":false,"product_type":"c1","uid":1304236,"ip_address":"","ucode":"AE0C5ADEB489F5","user_header":"https://static001.geekbang.org/account/avatar/00/13/e6/ac/5b99aa18.jpg","comment_is_top":false,"comment_ctime":1561563557,"is_pvip":false,"replies":[{"id":"38959","content":"å—¯å—¯ ä¹Ÿå¯ä»¥çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1561599112,"ip_address":"","comment_id":107607,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561563557","product_id":100017301,"comment_content":"è€å¸ˆï¼Œç¯å‹é˜Ÿåˆ—å¤–åŠ ä¸€ä¸ªå·²ç”¨usedå­—æ®µ<br>å…¥é˜Ÿæ—¶åŠ 1ï¼Œå‡ºé˜Ÿæ—¶å‡1<br>åˆ¤æ–­é˜Ÿç©ºé˜Ÿæ»¡åªéœ€è¦æ¯”è¾ƒusedå’Œæ€»é•¿åº¦å¤§å°å³å¯ï¼Œè€Œä¸”ä¹Ÿä¸ç”¨ç©ºä¸€ä¸ªé˜Ÿäº†å§<br>è¿™æ ·ä¼šä¸ä¼šç®€ä¾¿è€Œä¸”æ˜“ç†è§£äº›å‘¢","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455586,"discussion_content":"å—¯å—¯ ä¹Ÿå¯ä»¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561599112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105511,"user_name":"æ‹¯æ•‘åœ°çƒå¥½ç´¯","can_delete":false,"product_type":"c1","uid":1339022,"ip_address":"","ucode":"7643439601EF4C","user_header":"https://static001.geekbang.org/account/avatar/00/14/6e/8e/5d309a85.jpg","comment_is_top":false,"comment_ctime":1561018999,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561018999","product_id":100017301,"comment_content":"é˜Ÿåˆ—æŒ‰å®ç°æ–¹å¼åˆ†ç±»ï¼šé¡ºåºé˜Ÿåˆ—ï¼›é“¾å¼é˜Ÿåˆ—<br>é˜Ÿåˆ—æŒ‰ç‰¹æ€§åˆ†ç±»ï¼šå¾ªç¯é˜Ÿåˆ—ï¼›é˜»å¡é˜Ÿåˆ—ï¼›å¹¶å‘é˜Ÿåˆ—<br>çº¿ç¨‹æ± æ²¡æœ‰ç©ºé—²çº¿ç¨‹æ—¶ï¼Œæ–°çš„ä»»åŠ¡è¯·æ±‚çº¿ç¨‹èµ„æºæ—¶ï¼Œçº¿ç¨‹æ± è¯¥å¦‚ä½•å¤„ç†ï¼Ÿå„ç§å¤„ç†ç­–ç•¥åˆæ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ<br>ç¬¬ä¸€ç§ï¼Œéé˜»å¡åœ°ç›´æ¥æ‹’ç»ä»»åŠ¡è¯·æ±‚<br>ç¬¬äºŒç§ï¼Œæ˜¯é˜»å¡çš„å¤„ç†æ–¹å¼ï¼Œå°†è¯·æ±‚æ’é˜Ÿï¼Œç­‰åˆ°æœ‰ç©ºé—²çº¿ç¨‹æ—¶ï¼Œå–å‡ºæ’é˜Ÿçš„è¯·æ±‚ç»§ç»­å¤„ç†ï¼Œå¯ä»¥è€ƒè™‘ç”¨é˜Ÿåˆ—åŠå…¶å˜ç§<br>å¯¹äºå¤§éƒ¨åˆ†èµ„æºæœ‰é™çš„åœºæ™¯ï¼Œå½“æ²¡æœ‰ç©ºé—²èµ„æºæ—¶ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥é€šè¿‡â€œé˜Ÿåˆ—â€è¿™ç§æ•°æ®ç»“æ„æ¥å®ç°è¯·æ±‚æ’é˜Ÿ<br>é˜Ÿåˆ—çš„åº”ç”¨ï¼šèµ„æºæ± ä¸­ç­‰å¾…æ’é˜Ÿï¼ˆå¦‚çº¿ç¨‹æ± ã€è¿æ¥æ± ã€ç½‘ç»œè¯·æ±‚é˜Ÿåˆ—ã€æ¶ˆæ¯é˜Ÿåˆ—ï¼‰","like_count":0},{"had_liked":false,"id":104953,"user_name":"å°ç™½èœ","can_delete":false,"product_type":"c1","uid":1568340,"ip_address":"","ucode":"ACD1267D329B96","user_header":"https://static001.geekbang.org/account/avatar/00/17/ee/54/dac0a6b6.jpg","comment_is_top":false,"comment_ctime":1560881976,"is_pvip":false,"replies":[{"id":"38002","content":"è‡ªå·±å»æ‰¾æ‰¾å§ï¼Œleetcodeä¸Šéƒ½æœ‰æ ‡ç­¾çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1560899868,"ip_address":"","comment_id":104953,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560881976","product_id":100017301,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®è¿™ä¸€è®²å¯¹åº”çš„LeetCodeé¢˜ç›®æœ‰æ²¡æœ‰å•Šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454500,"discussion_content":"è‡ªå·±å»æ‰¾æ‰¾å§ï¼Œleetcodeä¸Šéƒ½æœ‰æ ‡ç­¾çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560899868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104544,"user_name":"æ—¶å…‰å‰ªå½±","can_delete":false,"product_type":"c1","uid":1093159,"ip_address":"","ucode":"CC6F24C30AE3E6","user_header":"https://static001.geekbang.org/account/avatar/00/10/ae/27/3dfcc699.jpg","comment_is_top":false,"comment_ctime":1560774904,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560774904","product_id":100017301,"comment_content":"é˜Ÿåˆ—æ˜¯å…ˆè¿›å…ˆå‡ºçš„çº¿æ€§è¡¨ã€‚<br><br>åŸºæœ¬æ“ä½œï¼šå…¥é˜Ÿï¼Œå‡ºé˜Ÿ<br><br>å®ç°æ–¹å¼ï¼šåŸºäºæ•°ç»„ï¼Œç§°ä¸ºé¡ºåºé˜Ÿåˆ—ã€‚æ¯”å¦‚arrayblockingqueue <br> åŸºäºé“¾è¡¨ï¼Œç§°ä¸ºé“¾å¼é˜Ÿåˆ— å¦‚linkedblockingqueue <br><br>åŸºäºé“¾è¡¨çš„å®ç°æ–¹å¼æœ‰ï¼š<br>å¾ªç¯é˜Ÿåˆ—ï¼šé¦–å°¾ç›¸è¿ï¼Œé˜Ÿæ»¡æ—¶ä¼šæµªè´¹ä¸€ä¸ªå…ƒç´ çš„å­˜å‚¨ç©ºé—´tailæŒ‡å‘çš„æ˜¯ç©º<br>é˜Ÿç©ºåˆ¤æ–­ï¼šhead==tail<br>é˜Ÿæ»¡åˆ¤æ–­ï¼š(tail +1)%len ==head<br>headæ‰€åœ¨ä½ç½®ï¼šï¼ˆhead +1)%len<br>Tailæ‰€åœ¨ä½ç½®ï¼šï¼ˆtail +1)%len<br><br>é˜»å¡é˜Ÿåˆ—ï¼šé˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œé˜»å¡å‡ºé˜Ÿæ“ä½œï¼›é˜Ÿåˆ—ä¸ºæ»¡æ—¶ï¼Œé˜»å¡å…¥é˜Ÿæ“ä½œï¼›<br><br>å¹¶å‘é˜Ÿåˆ—ï¼šåŸºäºæ•°ç»„çš„å¾ªç¯é˜Ÿåˆ—+casæ“ä½œ<br><br>çº¿ç¨‹æ± çš„çº¿ç¨‹éƒ½å¤„äºå¿™ç¢ŒçŠ¶æ€ï¼Œå¯¹äºæ–°è¯·æ±‚çš„å¤„ç†å§¿åŠ¿<br>é˜»å¡ï¼šå°†è¯·æ±‚æ’é˜Ÿï¼Œä»¥æŸç§è§„åˆ™è¢«åé¢ç©ºé—²å‡ºæ¥çš„çº¿ç¨‹å¤„ç†ã€‚<br>ç›´æ¥æ‹’ç»ã€‚<br><br>åŸºäºé“¾è¡¨çš„æ— ç•Œé˜Ÿåˆ—ï¼šæ— é™æ’é˜Ÿ<br>åŸºäºæ•°ç»„çš„æœ‰ç•Œé˜Ÿåˆ—ï¼šèƒ½æ¥æ”¶çš„è¯·æ±‚ä¸ªæ•°æœ‰é™<br>","like_count":0},{"had_liked":false,"id":104283,"user_name":"Bufan","can_delete":false,"product_type":"c1","uid":1387704,"ip_address":"","ucode":"A5EC0391C412DE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eriaIgoPa8abNTaUm7o6oa6mvL9iagRTdD1vhovWPyfiaS82f409Sz3kMFzYLNa4ibnHagA7M33l8XnIQ/132","comment_is_top":false,"comment_ctime":1560725569,"is_pvip":false,"replies":[{"id":"38007","content":"javascriptä¸­çš„æ•°ç»„ç±»å‹åº•å±‚å°±ä¸æ˜¯æˆ‘ä»¬è¿™é‡Œè¯´çš„æ•°æ®ç»“æ„ä¸­çš„æ•°ç»„çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1560900194,"ip_address":"","comment_id":104283,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560725569","product_id":100017301,"comment_content":"Javascriptçš„æ•°ç»„æ„Ÿè§‰å¤©ç„¶æ”¯æŒé˜Ÿåˆ—ï¼Œä¸ç”¨å†è‡ªå·±å®ç°äº†å§","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454203,"discussion_content":"javascriptä¸­çš„æ•°ç»„ç±»å‹åº•å±‚å°±ä¸æ˜¯æˆ‘ä»¬è¿™é‡Œè¯´çš„æ•°æ®ç»“æ„ä¸­çš„æ•°ç»„çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560900194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":100358,"user_name":"â˜†æ˜Ÿæœˆå¤œ","can_delete":false,"product_type":"c1","uid":1215506,"ip_address":"","ucode":"22BCA9807D0BD4","user_header":"https://static001.geekbang.org/account/avatar/00/12/8c/12/ccf8d2ca.jpg","comment_is_top":false,"comment_ctime":1559534727,"is_pvip":false,"replies":[{"id":"36277","content":"ä¹Ÿå¯ä»¥ä¸æµªè´¹çš„ï¼Œæœ‰å¾ˆå¤šå®ç°æ–¹æ³•ï¼Œæˆ‘åªæ˜¯è®²äº†å…¶ä¸­çš„ä¸€ç§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1559613080,"ip_address":"","comment_id":100358,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559534727","product_id":100017301,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæƒ³é—®æ‚¨ä¸€ä¸‹ï¼Œæ‚¨è¯´ç¯å½¢æ•°ç»„ä¼šæµªè´¹ä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œæ®æˆ‘æ‰€çŸ¥ï¼Œdisruptorçš„ç¯å½¢æ•°ç»„æ˜¯ä¸éœ€è¦æµªè´¹ä¸€ä¸ªå­˜å‚¨ç©ºé—´çš„å•Šï¼Œä»–ä¿è¯å¤šæ¶ˆè´¹è€…çš„æœ€å¤§æ¶ˆè´¹åºå·å°äºå¤šç”Ÿäº§è€…çš„æœ€å°åºå·ï¼Œæ¥é¿å…è¦†ç›–é—®é¢˜ï¼Œä¸éœ€è¦æµªè´¹ä¸€ä¸ªå­˜å‚¨ç©ºé—´å•Š","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452515,"discussion_content":"ä¹Ÿå¯ä»¥ä¸æµªè´¹çš„ï¼Œæœ‰å¾ˆå¤šå®ç°æ–¹æ³•ï¼Œæˆ‘åªæ˜¯è®²äº†å…¶ä¸­çš„ä¸€ç§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559613080,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99164,"user_name":"å¤œç©ºä¸­æœ€äº®çš„æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1546967,"ip_address":"","ucode":"64FE6FF3BAF061","user_header":"https://static001.geekbang.org/account/avatar/00/17/9a/d7/c49875d5.jpg","comment_is_top":false,"comment_ctime":1559173637,"is_pvip":false,"replies":[{"id":"35629","content":"æ˜¯çš„ï¼Œæœ‰åˆ©æœ‰å¼Šï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1559176876,"ip_address":"","comment_id":99164,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559173637","product_id":100017301,"comment_content":"è€å¸ˆï¼Œç”¨é“¾è¡¨å®ç°å¾ªç¯é˜Ÿåˆ—æ€ä¹ˆæ ·ï¼Œå°±ä¸å­˜åœ¨æœ‰ä¸€ä¸ªå…ƒç´ ä¸ºç©ºçš„æƒ…å†µå§ï¼Œä¸è¿‡é“¾è¡¨æœ¬èº«éœ€è¦é¢å¤–å¼€é”€å­˜å‚¨é“¾è¡¨æŒ‡é’ˆ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451998,"discussion_content":"æ˜¯çš„ï¼Œæœ‰åˆ©æœ‰å¼Šï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559176876,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98300,"user_name":"å±±é·¹Â·China","can_delete":false,"product_type":"c1","uid":1146178,"ip_address":"","ucode":"1A13AAC813C1C8","user_header":"https://static001.geekbang.org/account/avatar/00/11/7d/42/c324a7de.jpg","comment_is_top":false,"comment_ctime":1558951329,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558951329","product_id":100017301,"comment_content":"åˆæ­¥å®ç°äº†ä¸€ä¸ªcè¯­è¨€çš„æ— é”ç¯å½¢é˜Ÿåˆ—ï¼Œè¿˜æ²¡æœ‰è¯¦ç»†çš„æµ‹è¯•ã€‚è€å¸ˆæ‚¨çœ‹çœ‹å¯¹ä¸å¯¹ã€æœ‰æ²¡æœ‰bug<br><br><br>typedef struct circular_queue_s {<br>    void **data;<br>    int32_t head;<br>    int32_t tail;<br>    size_t size;<br>} circular_queue_t;<br><br>circular_queue_t *queue_create(size_t size);<br>void queue_destroy(circular_queue_t *queue);<br>int queue_enqueue(circular_queue_t *queue, void *data);<br>void *queue_dequeue(circular_queue_t *queue);<br>int queue_full(circular_queue_t *queue);<br><br>circular_queue_t *queue_create(size_t size) {<br>    circular_queue_t *queue;<br>    void *p;<br><br>    p = NULL;<br>    queue = NULL;<br><br>    p = malloc(size * sizeof(void*));<br>    if (p == NULL) <br>        goto clean;<br><br>    queue = (circular_queue_t *)malloc(sizeof(circular_queue_t));<br>    if (queue == NULL) <br>        goto clean;<br><br>    queue-&gt;size = size;<br>    queue-&gt;head = 0;<br>    queue-&gt;tail = 0;<br>    queue-&gt;data = (void **)p;<br><br>    return queue;<br><br>clean:<br>    if (p) {<br>        free(p);<br>        p = NULL;<br>    }<br>    if (queue) {<br>        free(queue);<br>        queue = NULL;<br>    }<br>    return queue;<br>}<br><br>int queue_enqueue(circular_queue_t *queue, void *data) {<br>    if (queue_full(queue)) <br>        return 1;<br><br>    while (1) { <br>        queue-&gt;data[queue-&gt;tail] = data;<br>        if (__sync_bool_compare_and_swap(&amp;queue-&gt;data[queue-&gt;tail], queue-&gt;data[queue-&gt;tail], data)) { &#47;&#47; CAS<br>            break;<br>        }<br>    }<br>    <br>    queue-&gt;tail = (queue-&gt;tail + 1) % queue-&gt;size;<br><br>    return 0;<br>}<br><br>void *queue_dequeue(circular_queue_t *queue) {<br>    void *ret;<br><br>    ret = NULL;<br><br>    if (queue-&gt;head == queue-&gt;tail) <br>        return NULL;<br><br>    ret = queue-&gt;data[queue-&gt;head];<br>    queue-&gt;head = (queue-&gt;head + 1) % queue-&gt;size;<br>    return ret;<br>}<br><br>int queue_full(circular_queue_t *queue) {<br><br>    if ((queue-&gt;tail + 1) % queue-&gt;size == queue-&gt;head) <br>        return 1;<br><br>    return 0;<br>}<br><br>void queue_destroy(circular_queue_t *queue) {<br>    if (queue == NULL)<br>        return;<br>    if (queue-&gt;data) {<br>        free(queue-&gt;data);<br>        queue-&gt;data = NULL;<br>    }<br>    free(queue);<br>    queue = NULL;<br>}","like_count":0},{"had_liked":false,"id":98021,"user_name":"Geek_213736","can_delete":false,"product_type":"c1","uid":1539153,"ip_address":"","ucode":"1B130CB52D9088","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL5cyRVutbpBbjfk3vgGTSuiar5cDJibo1uz7jrDmJCiaNf2uwnoibrhwYX9nmaQzaomF4cKiavWskX3MA/132","comment_is_top":false,"comment_ctime":1558875647,"is_pvip":false,"replies":[{"id":"35216","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1559007232,"ip_address":"","comment_id":98021,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558875647","product_id":100017301,"comment_content":"åœ¨è€å¸ˆæä¾›çš„å¾ªç¯é˜Ÿé‡Œä»£ç é‡Œé¢ï¼Œ    <br>def dequeue(self) -&gt; Optional[str]:<br>        if self._head != self._tail:<br>            item = self._items[self._head]<br>            self._head = (self._head + 1) % self._capacity<br>å¦‚æœè¦å¼¹å‡ºä¸€ä¸ªå€¼ï¼Œä½†æ˜¯å¼¹å‡ºçš„å€¼å¹¶æ²¡æœ‰ä»self._items[]é‡Œé¢åˆ é™¤å§ï¼Ÿåªæ˜¯è¿™ä¸ªself._headçš„å€¼+1äº†","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451521,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559007232,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97730,"user_name":"ç³–","can_delete":false,"product_type":"c1","uid":1542834,"ip_address":"","ucode":"784DDA19104392","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJzP9yB6eIRRyVNe3iab0gXB6yOeaNRHGx6raTQz2grfE5N2LWl6uIj1mrSU7nxiaEzeSLp6xAkE3iaQ/132","comment_is_top":false,"comment_ctime":1558757321,"is_pvip":true,"replies":[{"id":"35211","content":"1. æ€è·¯ä¸é”™<br>2. è‡ªå·±ç ”ç©¶ä¸‹å§","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1559006778,"ip_address":"","comment_id":97730,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558757321","product_id":100017301,"comment_content":"è€å¸ˆæˆ‘æœ‰å‡ ç‚¹ç–‘é—®è¯·æ•™ï¼š<br>1. ç”¨æ•°ç»„å®ç°çš„å¾ªç¯é˜Ÿåˆ—æ˜¯å¦ä¹Ÿå¯ä»¥å®šä¹‰æˆåŠ¨æ€é•¿åº¦çš„é˜Ÿåˆ—ï¼Œå¤§ä½“æ€è·¯æ˜¯ï¼šå½“é˜Ÿåˆ—æ»¡æ—¶å°†é˜Ÿåˆ—ä¸­çš„å…ƒç´ é‡æ–°æ‹·è´åˆ°æ–°çš„å†…å­˜ï¼Œä¸æ»¡æ—¶ç»§ç»­ä½¿ç”¨å¾ªç¯é˜Ÿåˆ—ï¼Œè¿™æ ·æ—¢æ»¡è¶³äº†ä¸æµªè´¹ä¹‹å‰popæ‰çš„æ•°ç»„å†…å­˜ï¼Œè€Œä¸”popå’Œpushçš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸ºO(1)ï¼Œä¸çŸ¥é“è¿™ç§æ€è·¯å¯¹ä¸å¯¹ï¼Ÿè¯·è€å¸ˆå’Œå„ä½å¤§ä½¬æŒ‡ç‚¹ã€‚<br>2.ç„¶åæˆ‘æƒ³äº†è§£ä¸€ä¸‹åƒc++ queueä¸­æ˜¯å¦‚ä½•å®ç°è¿™ç§åŠ¨æ€é˜Ÿåˆ—çš„å‘¢ï¼Ÿä½¿ç”¨é“¾è¡¨å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451388,"discussion_content":"1. æ€è·¯ä¸é”™\n2. è‡ªå·±ç ”ç©¶ä¸‹å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559006778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94501,"user_name":"10^100ä¸ªé‚±æ€¡éœ–","can_delete":false,"product_type":"c1","uid":1517246,"ip_address":"","ucode":"414414618FA93A","user_header":"https://static001.geekbang.org/account/avatar/00/17/26/be/c7249aea.jpg","comment_is_top":false,"comment_ctime":1557827149,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557827149","product_id":100017301,"comment_content":"æˆ‘ä¸æ˜¯å¾ˆç†è§£ï¼Œå¾ªç¯é˜Ÿåˆ—å‡è®¾æ•°ç»„å¤§å°ä¸º3ï¼Œé‚£å­˜å…¥ç¬¬äºŒæ¬¡åï¼Œtail=2, head=0, å­˜å…¥ç¬¬ä¸‰æ¬¡ä¹‹å‰å°±ä¼šåˆ¤å®šæ»¡äº†å•Šã€‚","like_count":0},{"had_liked":false,"id":94166,"user_name":"èŠ±èŠ±å¤§è„¸çŒ«","can_delete":false,"product_type":"c1","uid":1117318,"ip_address":"","ucode":"8ABDB3F7F4FB0F","user_header":"https://static001.geekbang.org/account/avatar/00/11/0c/86/8e52afb8.jpg","comment_is_top":false,"comment_ctime":1557736103,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1557736103","product_id":100017301,"comment_content":"1.æ•°æ®åº“è¿æ¥æ± ï¼Œè¿˜æœ‰åŒ11æˆ–è€…åˆ«çš„æ´»åŠ¨åœºæ™¯ä¸‹å¯¹åº”ä¸€æ¬¾çˆ†æ¬¾å•†å“çš„ä¸‹å•ï¼Œåœ¨åšå¤„ç†çš„æ—¶å€™ä¹Ÿå¯ä»¥å°†ç”¨æˆ·çš„è¯·æ±‚ä½œä¸ºæ’é˜Ÿé˜Ÿåˆ—è¯·æ±‚è¿›è¡Œå¤„ç†<br>2.æ— é”å¹¶å‘é˜Ÿåˆ—  å¯ä»¥é€šè¿‡cas + æ•°ç»„å®ç°","like_count":0},{"had_liked":false,"id":91328,"user_name":"W.P","can_delete":false,"product_type":"c1","uid":1498861,"ip_address":"","ucode":"E4CC3AD5F8DB7F","user_header":"https://static001.geekbang.org/account/avatar/00/16/de/ed/9c968078.jpg","comment_is_top":false,"comment_ctime":1556981073,"is_pvip":false,"replies":[{"id":"33067","content":"å¦‚æœé˜Ÿåˆ—å¤§å°æ˜¯2ï¼Œä½ å¯ä»¥è¯•ç€å¾€é‡Œæ·»åŠ äº›æ•°æ®ï¼Œçœ‹ä¸‹ä½ çš„ä¸¤ä¸ªåˆ¤å®šæ¡ä»¶æ˜¯å¦å¯¹å‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1557279748,"ip_address":"","comment_id":91328,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556981073","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—ä¸­ tail ä¸ºä»€ä¹ˆä¸èƒ½æŒ‡å‘æœ€å1ä¸ªæœ‰å€¼å…ƒç´ ï¼Œå¦‚æœæŒ‡å‘æœ€å1ä¸ªæœ‰å€¼å…ƒç´ æ—¶ï¼Œ<br>head == tail æ—¶è¡¨ç¤ºä¸ºç©º<br>tail.next == head æ—¶ï¼Œè¡¨ç¤ºä¸ºæ»¡<br>å¯ä»¥å—ï¼Ÿè¿˜æ˜¯æ²¡æ˜ç™½ä¸ºä»€ä¹ˆéå¾—è¦tailè¦å ç”¨1ä¸ªç©ºä½... ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448888,"discussion_content":"å¦‚æœé˜Ÿåˆ—å¤§å°æ˜¯2ï¼Œä½ å¯ä»¥è¯•ç€å¾€é‡Œæ·»åŠ äº›æ•°æ®ï¼Œçœ‹ä¸‹ä½ çš„ä¸¤ä¸ªåˆ¤å®šæ¡ä»¶æ˜¯å¦å¯¹å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557279748,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90917,"user_name":"æ®µæ–Œ","can_delete":false,"product_type":"c1","uid":1173578,"ip_address":"","ucode":"B5A85C6AF139B4","user_header":"https://static001.geekbang.org/account/avatar/00/11/e8/4a/c2a539a0.jpg","comment_is_top":false,"comment_ctime":1556722637,"is_pvip":false,"replies":[{"id":"32882","content":"ä¸€è‡´æ€§hashç®—æ³•","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1557186254,"ip_address":"","comment_id":90917,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556722637","product_id":100017301,"comment_content":"å¤§è§„æ¨¡æ•°æ®åˆ†å¸ƒä¸­çš„åˆ†ç‰‡å‡½æ•°ç”¨çš„consistent hashæ˜¯ç¯é˜Ÿåˆ—å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448720,"discussion_content":"ä¸€è‡´æ€§hashç®—æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557186254,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90386,"user_name":"æˆ‘å«æˆ‘è‡ªå·±","can_delete":false,"product_type":"c1","uid":1506507,"ip_address":"","ucode":"7075B12170BDBB","user_header":"https://static001.geekbang.org/account/avatar/00/16/fc/cb/9e2f5110.jpg","comment_is_top":false,"comment_ctime":1556506348,"is_pvip":false,"replies":[{"id":"33064","content":"å…ˆè¦tail-&gt;next=new nodeï¼›ç„¶åtail=new node;æˆ–è€…tail=tail-&gt;next;ä¸¤è€…æ˜¯ç­‰ä»·çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1557279443,"ip_address":"","comment_id":90386,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556506348","product_id":100017301,"comment_content":"è€å¸ˆï¼Œé“¾å¼é˜Ÿåˆ—å…¥é˜Ÿæ—¶ï¼Œtailï¼new nodeä¸å°±è¡Œäº†å—ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦å¯¹tail-ï¼nextè¿›è¡Œæ“ä½œå‘¢","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448502,"discussion_content":"å…ˆè¦tail-&amp;gt;next=new nodeï¼›ç„¶åtail=new node;æˆ–è€…tail=tail-&amp;gt;next;ä¸¤è€…æ˜¯ç­‰ä»·çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557279443,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89804,"user_name":"å¼ æ™Ÿ","can_delete":false,"product_type":"c1","uid":1332192,"ip_address":"","ucode":"77EBEAB9DD9ED6","user_header":"https://static001.geekbang.org/account/avatar/00/14/53/e0/2b8fd02d.jpg","comment_is_top":false,"comment_ctime":1556268609,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556268609","product_id":100017301,"comment_content":"å¹¶å‘é˜Ÿé‡Œå’Œé˜»å¡é˜Ÿåˆ—ä¸golangä¸­çš„æœ‰ç¼“å†²é€šé“å’Œæ— ç¼“å†²é€šé“å¾ˆåƒå‘€ï¼Œéƒ½æ˜¯FIFOï¼Œ è€Œä¸”é€šé“ç©ºæˆ–æ»¡çš„æ—¶å€™å¯ä»¥é˜»å¡æ¥æ”¶æ–¹æˆ–å‘é€å‘ï¼Œåº•å±‚æ€æƒ³éƒ½å¾ˆç›¸è¿‘","like_count":0},{"had_liked":false,"id":89694,"user_name":"TimberTang","can_delete":false,"product_type":"c1","uid":1079131,"ip_address":"","ucode":"FE9804F49F7FC0","user_header":"https://static001.geekbang.org/account/avatar/00/10/77/5b/5d4606ec.jpg","comment_is_top":false,"comment_ctime":1556245164,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556245164","product_id":100017301,"comment_content":"mark-åšæŒ","like_count":0},{"had_liked":false,"id":89689,"user_name":"Geek_44ea90","can_delete":false,"product_type":"c1","uid":1466062,"ip_address":"","ucode":"72722FC2F089A9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/I2V15qJ6m2Av80vrgbqKPZ3dNragW2sYBTMj0YCjh05ic5IIumUpNibSHEOD8vz5CSNib3kRd6bbmDFGb9oB2X5Mw/132","comment_is_top":false,"comment_ctime":1556244482,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556244482","product_id":100017301,"comment_content":"@è®¡ç§‘ä¸€ç­ å½“å¾ªç¯æ•°ç»„å†…æœªå­˜å‚¨æ•°æ®ï¼ŒtailæŒ‡é’ˆæœªæŒ‡å‘å¾ªç¯æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯åˆ é™¤ç¬¬ä¸€ä¸ªæ•°æ®æ—¶ï¼Œéœ€è¦åŒæ—¶åˆ é™¤æ•´ä¸ªå¾ªç¯é˜Ÿåˆ—ï¼Œå°ç™½å‹¿å–·ã€‚","like_count":0},{"had_liked":false,"id":89457,"user_name":"é™›ä¸‹","can_delete":false,"product_type":"c1","uid":1502609,"ip_address":"","ucode":"0EE22B4A1904F6","user_header":"https://static001.geekbang.org/account/avatar/00/16/ed/91/5dece756.jpg","comment_is_top":false,"comment_ctime":1556178524,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556178524","product_id":100017301,"comment_content":"ç°åœ¨åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯åŸºäºé˜Ÿåˆ—ç»“æ„çš„ï¼›<br>æ— é”å¹¶å‘é˜Ÿåˆ—ï¼Œå¯ä»¥åœ¨ headå’Œtail å€¼ä¸Šåšåˆ¤æ–­","like_count":0},{"had_liked":false,"id":87369,"user_name":"å«æˆ‘å®«åŸå¤§äºº","can_delete":false,"product_type":"c1","uid":1500930,"ip_address":"","ucode":"B12019AE4EBC5F","user_header":"https://static001.geekbang.org/account/avatar/00/16/e7/02/5b1fc277.jpg","comment_is_top":false,"comment_ctime":1555578243,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555578243","product_id":100017301,"comment_content":"AbstractQueuedSynchronizer å†…éƒ¨ç»´æŠ¤çš„å°±æ˜¯ä¸€ä¸ª åŸºäºé“¾è¡¨çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—ã€‚ArrayBlockingQueue ä¹Ÿæ˜¯ç”¨äº† ReentrantLock æ¥å®ç°é˜»å¡æ“ä½œã€‚<br><br>å…³äºâ€œè®¡ç§‘ä¸€ç­â€é‚£ä¸ªå°† tail æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡è€Œä¸æ˜¯æœ€åä¸€ä¸ªç©ºå…ƒç´ ã€‚æˆ‘è§‰å¾—è¿™ç§å®ç°åœ¨å¹¶å‘ä¸Š CAS å¤„ç†å¹¶ä¸å®¹æ˜“ï¼ˆæ’é™¤ä½¿ç”¨ synchronized å’Œ lock æ–¹æ¡ˆï¼‰ï¼Œå› ä¸ºå¤šå‡ºæ¥çš„ size ä¸ headã€tail å…·æœ‰ä¸€è‡´æ€§å…³ç³»ï¼ˆåˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼‰ï¼Œä¸å¤ªå¥½ç”¨ CAS ä¸€è‡´æ€§å¤„ç†ã€‚<br><br>ä¸ªäººæ‹™è§ï¼Œè¿˜æœ›è€å¸ˆç‚¹è¯„ã€‚","like_count":0},{"had_liked":false,"id":82909,"user_name":"æœ¨æœ¨","can_delete":false,"product_type":"c1","uid":1411645,"ip_address":"","ucode":"BF590964828F8C","user_header":"https://static001.geekbang.org/account/avatar/00/15/8a/3d/5f29e927.jpg","comment_is_top":false,"comment_ctime":1554347099,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554347099","product_id":100017301,"comment_content":"4.4ç¬”è®°<br>4.4<br>é˜Ÿåˆ—ï¼Œä¸€ç§æ“ä½œå—é™çš„çº¿æ€§è¡¨ç»“æ„ï¼Œå°¾éƒ¨å…¥é˜Ÿï¼Œå¤´éƒ¨å‡ºé˜Ÿï¼Œç‰¹ç‚¹æ˜¯å…ˆè¿›å…ˆå‡º(é¡ºåºçº¿æ€§è¡¨)<br>1.é˜Ÿåˆ—å®ç°<br>é¡ºåºé˜Ÿåˆ—ï¼Œé“¾å¼é˜Ÿåˆ—<br>2.å…¥é˜Ÿå‡ºé˜Ÿæ“ä½œ<br>åˆå§‹åŒ–head=tail=0ï¼Œç”¨headå‡ºé˜Ÿï¼Œtailå…¥é˜Ÿï¼Œä½†æ˜¯å½“tailåˆ°è¾¾å†…å­˜æœ«å°¾ï¼Œä½†æ˜¯headå¹¶ä¸åœ¨åŸç‚¹(å†…å­˜ä¸­è¿˜æœ‰ç©ºé—²ä½ç½®ï¼Œä½†æ˜¯æ²¡æ³•æ’å…¥äº†)<br>æ³¨:<br>æ–¹æ³•ä¸€ï¼Œç±»ä¼¼æ•°ç»„åˆ é™¤æ“ä½œï¼Œæœ‰ç©ºéš™ä¸è¿ç»­ï¼Œè¿™ç§æƒ…å†µéƒ½ç”¨æ•°æ®æ¬ç§»å³åˆ»è§£å†³ï¼Œè€Œä¸”ä¸ç”¨æ¯æ¬¡å…¥é˜Ÿéƒ½ä¿è¯è¿ç»­ï¼Œåªéœ€è¦åˆ°è¾¾å†…å­˜å°¾éƒ¨æ‰è§¦å‘ä¸€æ¬¡æ•°æ®æ¬ç§»æ“ä½œ(æ•´ä½“å¹³ç§»åˆ°åŸç‚¹)<br>æ–¹æ³•äºŒï¼Œå¾ªç¯é˜Ÿåˆ—ç›´æ¥é¿å…æ•°æ®æ¬ç§»ï¼Œå¾ªç¯é˜Ÿåˆ—é•¿åº¦è®¾å®šéœ€è¦å¯¹å¹¶å‘æ•°æ®æœ‰ä¸€å®šçš„é¢„æµ‹(å¦åˆ™ä¸¢å¤±å¤ªå¤šè¯·æ±‚)ï¼Œä½†æœ€å…³é”®çš„æ˜¯ï¼Œåˆ¤æ–­é˜Ÿç©ºé˜Ÿæ»¡çš„åˆ¤å®šæƒ…å†µ(ä¸“é—¨ç‰ºç‰²ä¸€ä¸ªå†…å­˜åŒºåˆ«ç©ºæ»¡)<br>head==tail;(ç©ºå°±æ˜¯æ”¶å°¾åªå·®ä¸º0)<br>tail==n;(æ»¡åˆ°è¾¾å†…å­˜å°¾éƒ¨)<br>head==tail;(ç©ºå°±æ˜¯æ”¶å°¾åªå·®ä¸º0)<br>(tail+1)%n=head;(æ»¡ç‰ºç‰²ä¸€ä¸ªï¼Œä¸“é—¨åŒºåˆ†ç©ºæ»¡çŠ¶æ€ï¼Œé¡ºä¾¿å¯ç”¨å­˜å¤§å°)<br>3.é˜»å¡é˜Ÿåˆ—å’Œå¹¶å‘é˜Ÿåˆ—<br>é˜»å¡é˜Ÿåˆ—:åœ¨é˜Ÿåˆ—åŸºç¡€ä¸Šï¼Œå¢åŠ äº†é˜»å¡åŠŸèƒ½ï¼Œç©ºåˆ™é˜»å¡å‡ºé˜Ÿï¼Œæ»¡åˆ™é˜»å¡å…¥é˜Ÿï¼Œè½»æ¾å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹(ä¸€å¯åè°ƒç”Ÿäº§æ¶ˆè´¹é€Ÿåº¦ï¼ŒäºŒå¯åè°ƒæ¶ˆè´¹ç”Ÿäº§è€…ä¸ªæ•°ï¼Œå¦‚ä¸€ç”Ÿäº§å¤šæ¶ˆè´¹)ï¼Œä¹Ÿå¼•å‡ºå¤šçº¿ç¨‹é—®é¢˜ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå¯ç”¨å¹¶å‘é˜Ÿåˆ—å®ç°<br>å¹¶å‘é˜Ÿåˆ—:a.ç›´æ¥åœ¨ enqueue()ã€dequeue() æ–¹æ³•ä¸ŠåŠ é”ï¼Œä½†æ˜¯é”ç²’åº¦å¤§å¹¶å‘åº¦ä¼šæ¯”è¾ƒä½ï¼ŒåŒä¸€æ—¶åˆ»ä»…å…è®¸ä¸€ä¸ªå­˜æˆ–è€…å–æ“ä½œ;b.åŸºäºæ•°ç»„çš„å¾ªç¯é˜Ÿåˆ—ï¼Œåˆ©ç”¨ CAS åŸå­æ“ä½œï¼Œå¯ä»¥å®ç°éå¸¸é«˜æ•ˆçš„å¹¶å‘é˜Ÿåˆ—ã€‚è¿™ä¹Ÿæ˜¯å¾ªç¯é˜Ÿåˆ—æ¯”é“¾è¡¨é˜Ÿåˆ—åº”ç”¨æ›´å¹¿çš„åŸå› ã€‚<br>4.ç»å…¸é—®é¢˜çº¿ç¨‹æ± <br>çº¿ç¨‹æ± æ²¡æœ‰ç©ºé—²çº¿ç¨‹æ—¶ï¼Œæ–°çš„ä»»åŠ¡è¯·æ±‚çº¿ç¨‹èµ„æºæ—¶ï¼Œçº¿ç¨‹æ± è¯¥å¦‚ä½•å¤„ç†ï¼Œæœ‰å“ªäº›ç­–ç•¥ï¼Ÿå„ç§å¤„ç†ç­–ç•¥åˆæ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ<br>ç­”:ä¸€èˆ¬æœ‰ä¸¤ç§å¤„ç†ç­–ç•¥ã€‚<br>ç¬¬ä¸€ç§æ˜¯éé˜»å¡çš„å¤„ç†æ–¹å¼ï¼Œç›´æ¥æ‹’ç»ä»»åŠ¡è¯·æ±‚ï¼›å¦ä¸€ç§æ˜¯é˜»å¡çš„å¤„ç†æ–¹å¼ï¼Œå°†è¯·æ±‚æ’é˜Ÿï¼Œç­‰åˆ°æœ‰ç©ºé—²çº¿ç¨‹æ—¶ï¼Œå–å‡ºæ’é˜Ÿçš„è¯·æ±‚ç»§ç»­å¤„ç†ã€‚<br>è‹¥ç”¨éé˜»å¡å¤„ç†ï¼Œé‚£å¦‚ä½•å­˜å‚¨æ’é˜Ÿçš„è¯·æ±‚å‘¢ï¼Ÿ<br>ç­”:å¸Œæœ›å…¬å¹³åœ°å¤„ç†æ¯ä¸ªæ’é˜Ÿçš„è¯·æ±‚ï¼Œå…ˆè¿›è€…å…ˆæœåŠ¡ï¼Œæ‰€ä»¥é˜Ÿåˆ—è¿™ç§æ•°æ®ç»“æ„å¾ˆé€‚åˆæ¥å­˜å‚¨æ’é˜Ÿè¯·æ±‚ï¼Œé˜Ÿåˆ—æœ‰åŸºäºé“¾è¡¨å’ŒåŸºäºæ•°ç»„è¿™ä¸¤ç§å®ç°æ–¹å¼ã€‚<br>é“¾è¡¨æ•°ç»„é˜Ÿåˆ—åº”ç”¨åŒºåˆ«ï¼Ÿ<br>ç­”:å…³é”®çœ‹å¯¹å“åº”æ—¶é—´è¦æ±‚<br>åŸºäºé“¾è¡¨å®ç°çš„æ— ç•Œé˜Ÿåˆ—ï¼ˆunbounded queueï¼‰ï¼Œä½†æ˜¯è¿‡å¤šçš„è¯·æ±‚æ’é˜Ÿç­‰å¾…ï¼Œè¯·æ±‚å¤„ç†çš„å“åº”æ—¶é—´è¿‡é•¿ã€‚<br>åŸºäºæ•°ç»„å®ç°çš„æœ‰ç•Œé˜Ÿåˆ—ï¼ˆbounded queueï¼‰ï¼Œçº¿ç¨‹æ± ä¸­æ’é˜Ÿçš„è¯·æ±‚è¶…è¿‡é˜Ÿåˆ—å¤§å°æ—¶ï¼Œæ¥ä¸‹æ¥çš„è¯·æ±‚å°±ä¼šè¢«æ‹’ç»ï¼Œè¿™ç§æ–¹å¼å¯¹å“åº”æ—¶é—´æ•æ„Ÿçš„ç³»ç»Ÿæ¥è¯´ï¼Œå°±ç›¸å¯¹æ›´åŠ åˆç†ã€‚è¿™æ—¶å€™è®¾ç½®ä¸€ä¸ªåˆç†çš„é˜Ÿåˆ—é•¿åº¦éå¸¸é‡è¦ï¼Œå¤ªå¤§ç­‰å¾…é•¿ï¼Œå¤ªå°æµªè´¹èµ„æº<br>æ³¨:å¤§éƒ¨åˆ†èµ„æºæœ‰é™çš„åœºæ™¯ï¼Œåœ¨æ²¡æœ‰ç©ºé—²èµ„æºæ—¶ï¼ŒåŸºæœ¬éƒ½ä½¿ç”¨é˜Ÿåˆ—å®ç°è¯·æ±‚æ’é˜Ÿ<br>5.å…¶ä»–åº”ç”¨<br>æ•°æ®åº“è¿æ¥æ± ï¼Œæ¶ˆæ¯é˜Ÿåˆ—<br>5.ç”Ÿæ´»å°ç§˜æ‹›åŒºåˆ«æ ˆå’Œé˜Ÿåˆ—<br>åƒå¤šäº†æ‹‰å°±æ˜¯é˜Ÿåˆ—ï¼Œåƒå¤šäº†åå°±æ˜¯æ ˆï¼Œtalk is cheap,show me the code(å±è¯å°‘è¯´ï¼Œæ”¾é©¬è¿‡æ¥)","like_count":0},{"had_liked":false,"id":81795,"user_name":"å¤©ä¸‹è¡Œèµ°","can_delete":false,"product_type":"c1","uid":1462449,"ip_address":"","ucode":"73A4CD8BB91235","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLfrbMvhKQYhxP6ziaHaj4KUNRzst8u7BZsWUsazK8oTLXcNH6sDGITl6icy3IiaGFe9Iiae12LuTrF1g/132","comment_is_top":false,"comment_ctime":1554037486,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554037486","product_id":100017301,"comment_content":"å¤§å®¶æ²¡æœ‰å‘ç°ç²¾é«“éƒ½æ˜¯åœ¨tailæŒ‡å‘ä¸‹ä¸€ä½å—ï¼Œä¸ç®¡æ˜¯å•å‘çš„è¿˜æ˜¯å¾ªç¯é˜Ÿåˆ—ï¼›å¼€å§‹æ€»æƒ³è®¾ç½®tailæŒ‡å‘å½“å‰æœ€åä¸€ä¸ªå…ƒç´ ï¼Œåˆå§‹å€¼tail=head=-1ï¼Œè¡¨ç¤ºå¼€å§‹éƒ½æ²¡æœ‰å…ƒç´ åŠ å…¥ï¼Œç„¶åå‘ç°å®ç°èµ·æ¥è¿˜å¥‡æ€ªï¼Œæœ‰æ²¡æœ‰ç±»ä¼¼æƒ³æ³•çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":79741,"user_name":"___","can_delete":false,"product_type":"c1","uid":1229519,"ip_address":"","ucode":"B0BA5A1413798C","user_header":"https://static001.geekbang.org/account/avatar/00/12/c2/cf/573a0fdc.jpg","comment_is_top":false,"comment_ctime":1553529302,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553529302","product_id":100017301,"comment_content":"æ¶ˆæ¯é˜Ÿåˆ—<br><br>é˜Ÿåˆ—é‡‡å–æ•°æ®è¿ç§»çš„æƒ…å†µï¼Œæœ€å¥½æ—¶é—´å¤æ‚åº¦O(1),æœ€åO(n),å‡æ‘ŠO(1)ï¼Œå¯¹å—ğŸ˜ƒ<br><br>å¸Œæœ›èƒ½å°½å¿«çœ‹åˆ°casé‚£ç« ","like_count":0},{"had_liked":false,"id":79548,"user_name":"æ¨Šå¤§é™","can_delete":false,"product_type":"c1","uid":1104272,"ip_address":"","ucode":"EE899C8794FBD0","user_header":"https://static001.geekbang.org/account/avatar/00/10/d9/90/10eefa97.jpg","comment_is_top":false,"comment_ctime":1553506431,"is_pvip":false,"replies":[{"id":"29095","content":"ä¸ æ˜¯å°äºå·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1553562800,"ip_address":"","comment_id":79548,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553506431","product_id":100017301,"comment_content":"ç”¨æ•°æ®æ¬ç§»é‚£é‡Œåº”è¯¥æ˜¯i&lt;=tailå§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444537,"discussion_content":"ä¸ æ˜¯å°äºå·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553562800,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79403,"user_name":"é«˜å¥å®‡","can_delete":false,"product_type":"c1","uid":1396745,"ip_address":"","ucode":"6A7E90CEE248AD","user_header":"https://static001.geekbang.org/account/avatar/00/15/50/09/57be9ecf.jpg","comment_is_top":false,"comment_ctime":1553476397,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553476397","product_id":100017301,"comment_content":"CircularQueue.printAll æ‰“å°æ—¶ä¼šæŠ¥ æ•°ç»„ä¸‹æ ‡è¶Šç•Œ<br>System.out.print(items[i] + &quot; &quot;);<br>&#47;&#47;è°ƒæ•´å<br>System.out.print(items[i%n] + &quot; &quot;);","like_count":0},{"had_liked":false,"id":79152,"user_name":"éº¦èŠ’å°èš±èœ¢","can_delete":false,"product_type":"c1","uid":1270410,"ip_address":"","ucode":"5EC406B13B798E","user_header":"https://static001.geekbang.org/account/avatar/00/13/62/8a/28abe548.jpg","comment_is_top":false,"comment_ctime":1553388929,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553388929","product_id":100017301,"comment_content":"1ã€åœ¨ä¸€äº›é«˜å¹¶å‘ç³»ç»Ÿè®¾è®¡ä¸­ï¼Œå¯ä»¥é€šè¿‡é˜Ÿåˆ—è¿™ç§æ•°æ®ç»“æ„æ¥è¿›è¡Œæµé‡å‰Šå³°ï¼Œä¿æŠ¤ç³»ç»Ÿä¸è¢«å‹å®<br>2ã€è¯¾å ‚ä¸­çš„æ€è€ƒé—®é¢˜ï¼šä½¿ç”¨æ•°ç»„å®ç°çš„é¡ºåºé˜Ÿåˆ—ï¼Œå½“é˜Ÿåˆ—çš„ tail æŒ‡é’ˆç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³è¾¹åï¼Œå¦‚æœæœ‰æ–°çš„æ•°æ®å…¥é˜Ÿï¼Œè¿™æ—¶å€™éœ€è¦è¿›è¡Œæ•°æ®æ¬ç§»ã€‚ä»…è€ƒè™‘å…¥é˜Ÿæ—¶ï¼Œæ²¡æœ‰å‡ºé˜Ÿçš„æƒ…å†µã€‚å‡è®¾é˜Ÿåˆ—ä¸­æœ‰nä¸ªå…ƒç´ ï¼Œé‚£æœ€åæƒ…å†µä¸‹ï¼ŒheadæŒ‡é’ˆåœ¨ä¸‹æ ‡ä¸º1çš„ä½ç½®ï¼ŒtailæŒ‡é’ˆåœ¨n-1çš„ä½ç½®ï¼Œä¸€æ¬¡å…¥é˜Ÿæ€»å…±éœ€è¦è¿›è¡Œï¼ˆn-1ï¼‰æ¬¡æ¬ç§»æ“ä½œï¼Œæ‰€ä»¥æœ€åæƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œæœ€å¥½æƒ…å†µæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆ1ï¼‰ã€‚ä¸çŸ¥é“æˆ‘åˆ†æçš„æ˜¯å¦æ­£ç¡®","like_count":0},{"had_liked":false,"id":79023,"user_name":"qqq","can_delete":false,"product_type":"c1","uid":1006786,"ip_address":"","ucode":"91B0ACF8CBE7BD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/c2/8ffd2ad0.jpg","comment_is_top":false,"comment_ctime":1553326031,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1553326031","product_id":100017301,"comment_content":"1. åŸºäºé“¾è¡¨çš„å¾ªç¯é˜Ÿåˆ—ï¼šè¿çº¿ã€ç§»åŠ¨æŒ‡é’ˆï¼›<br>2. åŸºäºæ•°ç»„çš„å¾ªç¯åˆ—è¡¨ï¼šé˜Ÿç©ºå’Œé˜Ÿæ»¡çš„åˆ¤æ–­æ¡ä»¶","like_count":0},{"had_liked":false,"id":78694,"user_name":"è«é—®æµå¹´","can_delete":false,"product_type":"c1","uid":1249663,"ip_address":"","ucode":"23140E031AED4B","user_header":"https://static001.geekbang.org/account/avatar/00/13/11/7f/80d56c1c.jpg","comment_is_top":false,"comment_ctime":1553219634,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553219634","product_id":100017301,"comment_content":"1.è¿ç”¨åˆ°é˜Ÿåˆ—çš„åœ°æ–¹<br>Kafkaã€RocketMQç­‰æ¶ˆæ¯ä¸­é—´ä»¶<br>æ•°æ®åº“è¿æ¥æ± <br>http serverè¯·æ±‚å¤„ç†<br>2.CASæ— é”å¹¶å‘é˜Ÿåˆ—<br>å…¥é˜Ÿ(æˆ–å‡ºé˜Ÿ)æ—¶ï¼Œåˆ†åˆ«æ£€æŸ¥tail(æˆ–head)æŒ‡å‘çš„ä½ç½®æ˜¯å¦å˜åŒ–ã€‚å¦‚æœä½ç½®ä¸å˜ï¼Œåˆ™æ­£å¸¸å…¥é˜Ÿï¼›å¦‚æœä½ç½®å˜åŒ–ï¼Œè¯´æ˜æ“ä½œäº†è„æ•°æ®ï¼Œæœ¬æ¬¡å°è¯•å¤±è´¥ã€‚","like_count":0},{"had_liked":false,"id":78517,"user_name":"Geek_32772e","can_delete":false,"product_type":"c1","uid":1446158,"ip_address":"","ucode":"2850EF64F4775F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoribOUgcicu1sOqZZVtPqpSDSS43vicxW0GesxQeBRjUC47CzulKSzYNj2aMg9YOZDdjPdAZxS3jNcQ/132","comment_is_top":false,"comment_ctime":1553164279,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553164279","product_id":100017301,"comment_content":"yarnçš„å…¬å¹³è°ƒåº¦æ–¹å¼å¯ä»¥å‚è€ƒä¸‹","like_count":0},{"had_liked":false,"id":76774,"user_name":"tuyu","can_delete":false,"product_type":"c1","uid":1448863,"ip_address":"","ucode":"B235325B541408","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/BIRpwViaN51yynIeFonD7QRlwDCVtKibrG956NTxzEqibOZZVjhMMgibOPmd3VicfYxpknZsic1oJq8KicZvXkmmiajuQg/132","comment_is_top":false,"comment_ctime":1552706114,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552706114","product_id":100017301,"comment_content":"å“ˆå“ˆ,çœ‹ä½œè€…çš„æ€è·¯å°±åƒçœ‹ä¸€æœ¬æ­¦æ—ç§˜ç±,çªç„¶çœ‹åˆ°ä¸€ä¸ªè®©æˆ‘æç„¶å¤§æ‚Ÿçš„ä¸€è¡Œ,å°±åƒç»™æˆ‘ä¸€å‰‘,åƒç”µè§†å‰§ä¸€æ ·,é¢†æ‚Ÿå¤§æ²³å‰‘æ³•,é¢†æ‚Ÿé¢†æ‚Ÿå°±åè¡€äº†ã€‚","like_count":0},{"had_liked":false,"id":73851,"user_name":"nullz","can_delete":false,"product_type":"c1","uid":1156066,"ip_address":"","ucode":"A9D997C41D6DE3","user_header":"https://static001.geekbang.org/account/avatar/00/11/a3/e2/d2cf7a81.jpg","comment_is_top":false,"comment_ctime":1552015931,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552015931","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—è¿™æ ·å®ç°å¯ä»¥å—ï¼šå½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œtail-head==sizeï¼Œé˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œhead==tail<br>public class CyclicQueue {<br>    private int size;<br>    private int head;<br>    private int tail;<br>    private int[] array;<br>    public CyclicQueue(int size) {<br>        this.size = size;<br>        this.head = 0;<br>        this.tail = 0;<br>        this.array = new int[size];<br>    }<br><br>    public boolean enqueue(int val) {<br>        if(tail - head == size) {<br>            return false;<br>        }<br>        array[tail % size] = val;<br>        tail++;<br>        return true;<br>    }<br><br>    public boolean dequeue() {<br>        if (tail == head) {<br>            return false;<br>        }<br>        array[head % size] = 0;<br>        head++;<br>        return true;<br>    }<br>}","like_count":0},{"had_liked":false,"id":72411,"user_name":"æµ©","can_delete":false,"product_type":"c1","uid":1394346,"ip_address":"","ucode":"BD7FE280C83152","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKoGnC6068nQia1bOiaPxMRmkOQsaDsw5ib2drXic4gKOLzIFyZnnFm4uJ6KniboKG1nQD3J15y4d3QxLA/132","comment_is_top":false,"comment_ctime":1551615463,"is_pvip":false,"replies":[{"id":"26270","content":"è¯´çš„æ²¡é”™ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1551666249,"ip_address":"","comment_id":72411,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551615463","product_id":100017301,"comment_content":"è€å¸ˆï¼Œå¯¹äºé“¾å¼é˜Ÿåˆ—ï¼Œå¦‚æœåŸºäºå¸¦å¤´èŠ‚ç‚¹çš„é“¾è¡¨å®ç°çš„è¯ï¼Œå¯ä»¥è®°å½•ç›®å‰çš„é“¾è¡¨èŠ‚ç‚¹æ•°ï¼Œç„¶åï¼Œåœ¨å…¥é˜Ÿä¹‹å‰åˆ¤æ–­ç›®å‰çš„é˜Ÿåˆ—èŠ‚ç‚¹æ•°æ˜¯å¦å·²ç»è¾¾åˆ°å¤´èŠ‚ç‚¹ä¸­è®°å½•çš„é™åˆ¶ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å®ç°å¯¹é˜Ÿåˆ—é•¿åº¦çš„æ§åˆ¶ï¼Œå¯¹å§ï¼Ÿæ‰€ä»¥ï¼Œå¯¹æ–‡ä¸­è®²åˆ°é“¾å¼é˜Ÿåˆ—","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441578,"discussion_content":"è¯´çš„æ²¡é”™ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551666249,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71827,"user_name":"QQæ€ª","can_delete":false,"product_type":"c1","uid":1211223,"ip_address":"","ucode":"1A39B8433D9208","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/57/a9b04544.jpg","comment_is_top":false,"comment_ctime":1551445568,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551445568","product_id":100017301,"comment_content":"æ—¥å¸¸å­¦ä¹ ã€‚ã€‚åšæŒä¸‹å»","like_count":0},{"had_liked":false,"id":71275,"user_name":"qdnjqfch","can_delete":false,"product_type":"c1","uid":1435144,"ip_address":"","ucode":"DD3E5FD94CFDE9","user_header":"https://static001.geekbang.org/account/avatar/00/15/e6/08/87a6f32b.jpg","comment_is_top":false,"comment_ctime":1551315422,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551315422","product_id":100017301,"comment_content":"androidä¸­çš„å¹¿æ’­å‘é€æœºåˆ¶ï¼Œä¹Ÿæ˜¯é€šè¿‡é˜Ÿåˆ—å®ç°çš„","like_count":0},{"had_liked":false,"id":69416,"user_name":"cnhjq","can_delete":false,"product_type":"c1","uid":1285923,"ip_address":"","ucode":"C9913D5F069EF4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoMlOBZg2HYWh4Fu5dCXlmHmQ67YG9H3hbjBwuicltia18flYHiaYZ2c1aqNsPVp8Ttqo5Qc8NiaEvFZg/132","comment_is_top":false,"comment_ctime":1550738351,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550738351","product_id":100017301,"comment_content":"æ»‘åŠ¨æ—¶é—´çª—å£ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§å¾ªç¯é˜Ÿåˆ—ç»“æ„","like_count":0},{"had_liked":false,"id":67712,"user_name":"è‹¦è¡Œåƒ§","can_delete":false,"product_type":"c1","uid":1055334,"ip_address":"","ucode":"726024A9A9CF44","user_header":"https://static001.geekbang.org/account/avatar/00/10/1a/66/2d9db9ed.jpg","comment_is_top":false,"comment_ctime":1550227681,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550227681","product_id":100017301,"comment_content":"å›å¤´çœ‹çœ‹javaçš„é˜»å¡é˜Ÿåˆ—å®ç°","like_count":0},{"had_liked":false,"id":66045,"user_name":"æ¯é¸¡å•Š","can_delete":false,"product_type":"c1","uid":1368194,"ip_address":"","ucode":"7C7F0C8C59F0B0","user_header":"https://static001.geekbang.org/account/avatar/00/14/e0/82/5eb76481.jpg","comment_is_top":false,"comment_ctime":1549859475,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1549859475","product_id":100017301,"comment_content":"æœ‰ä¸ªåœ°æ–¹ä¸å¤ªæ‡‚ï¼Œä¸ºä»€ä¹ˆé˜Ÿåˆ—çš„å°¾æŒ‡é’ˆæŒ‡å‘çš„ä¸æ˜¯é˜Ÿåˆ—abcdçš„æœ€åä¸€ä¸ªå…ƒç´ dï¼Œè€Œæ˜¯æœ€åä¸€ä¸ªå…ƒç´ dçš„ä¸‹ä¸€ä¸ªå…ƒç´ å‘¢?","like_count":0},{"had_liked":false,"id":65648,"user_name":"Pre-Y","can_delete":false,"product_type":"c1","uid":1396900,"ip_address":"","ucode":"A13D13A37F3ABC","user_header":"https://static001.geekbang.org/account/avatar/00/15/50/a4/8d2e454b.jpg","comment_is_top":false,"comment_ctime":1549535030,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1549535030","product_id":100017301,"comment_content":"ä»Šæ—¥ä»½çš„æ‰“å¡ã€‚<br>è¿˜æ˜¯å¾—å¤šå†™å†™ä»£ç å•ŠğŸ˜‚ä¸ŠåŠå­¦æœŸæ‰åˆšå­¦çš„ï¼Œç èµ·æ¥å°±ä¸é¡ºæºœäº†ëˆˆ_ëˆˆ","like_count":0},{"had_liked":false,"id":65447,"user_name":"JavaçŸ¥å…¶æ‰€ä»¥ç„¶","can_delete":false,"product_type":"c1","uid":1085200,"ip_address":"","ucode":"DC17FC7A7E42D1","user_header":"https://static001.geekbang.org/account/avatar/00/10/8f/10/f9151d58.jpg","comment_is_top":false,"comment_ctime":1549363848,"is_pvip":false,"replies":[{"id":"24298","content":"ğŸ˜„ ä½ è¯´çš„æ²¡é”™. abaé—®é¢˜å®é™…ä¸Šä¹Ÿæœ‰ç›¸åº”çš„è§£å†³æ–¹æ¡ˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1550542786,"ip_address":"","comment_id":65447,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1549363848","product_id":100017301,"comment_content":"CAS å­˜åœ¨ ABA  é—®é¢˜ï¼Œæ‰€ä»¥æ“ä½œé“¾è¡¨çš„è¯ä¼šæœ‰é—®é¢˜ã€‚","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438454,"discussion_content":"ğŸ˜„ ä½ è¯´çš„æ²¡é”™. abaé—®é¢˜å®é™…ä¸Šä¹Ÿæœ‰ç›¸åº”çš„è§£å†³æ–¹æ¡ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550542786,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63375,"user_name":"Grug","can_delete":false,"product_type":"c1","uid":1219953,"ip_address":"","ucode":"12E52DAE381CBC","user_header":"https://static001.geekbang.org/account/avatar/00/12/9d/71/ecb50958.jpg","comment_is_top":false,"comment_ctime":1548335726,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548335726","product_id":100017301,"comment_content":"è¯·æ•™ä¸‹--ç¯å½¢é˜Ÿåˆ—æœ‰ä¸ªç–‘é—®ï¼šåˆ¤æ–­é˜Ÿåˆ—æ»¡çš„æ—¶å€™ï¼Œtail.next==headï¼Œè¿™æ ·åˆ¤æ–­OKå—ï¼Ÿ å½“è¿™æ ·çš„æ—¶å€™ï¼Œé˜Ÿåˆ—æ»¡ï¼Œblockä½ä¸å…è®¸æ·»åŠ ï¼ˆé˜²æ­¢è¦†ç›–æ•°æ®ï¼‰ã€‚è¿™æ ·åˆ¤æ–­é˜Ÿåˆ—æ»¡å¯ä»¥å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":61378,"user_name":"Aaaaaaaaaaayou","can_delete":false,"product_type":"c1","uid":1073601,"ip_address":"","ucode":"67BA315B87587D","user_header":"https://static001.geekbang.org/account/avatar/00/10/61/c1/93031a2a.jpg","comment_is_top":false,"comment_ctime":1547687770,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547687770","product_id":100017301,"comment_content":"æœ‰ä¸ªé—®é¢˜ï¼Œå…¥é˜Ÿæ—¶ï¼Œé€šè¿‡ cas æ¥åˆ¤æ–­é˜Ÿå°¾å†³å®šæ˜¯å¦å…¥é˜Ÿï¼Œä½†æ˜¯ cas å’Œå…¥é˜Ÿè¿˜æ˜¯ä¸¤ä¸ªæ“ä½œå•Šã€‚","like_count":0},{"had_liked":false,"id":59537,"user_name":"hiyanxu","can_delete":false,"product_type":"c1","uid":1221750,"ip_address":"","ucode":"FA46A318154812","user_header":"https://static001.geekbang.org/account/avatar/00/12/a4/76/585dc6b3.jpg","comment_is_top":false,"comment_ctime":1547384009,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547384009","product_id":100017301,"comment_content":"è€å¸ˆï¼Œä¸çŸ¥é“å¯ä¸å¯ä»¥è¿™æ ·ï¼š<br>å‡å¦‚æˆ‘é»˜è®¤å½“æ¯ä¸ªç»“ç‚¹çš„æ•°æ®ä¸º0æ—¶ï¼Œè¡¨ç¤ºè¯¥ç»“ç‚¹ä¸ºç©ºï¼Œè¿™æ ·ï¼š<br>é˜Ÿåˆ—å·²æ»¡ï¼štail == head &amp;&amp; q-&gt;arr[q-&gt;tail] != 0ï¼ˆå³ä¸¤ä¸ªæŒ‡é’ˆé‡åˆï¼Œä¸”ä¸ä¸ºç©ºï¼‰ æ—¶ï¼Œè¡¨ç¤ºé˜Ÿåˆ—å·²æ»¡ï¼›<br>é˜Ÿåˆ—ä¸ºç©ºï¼štail == head &amp;&amp; q-&gt;arr[q-&gt;tail] != 0ï¼ˆå³ä¸¤ä¸ªæŒ‡é’ˆé‡åˆï¼Œä¸”ä¸ºç©ºï¼‰æ—¶ï¼Œè¡¨ç¤ºé˜Ÿåˆ—ä¸ºç©ºã€‚<br>è¯·æ•™å¸ˆæ‰¹è¯„æŒ‡æ­£å“ˆï¼Œè°¢è°¢ã€‚","like_count":0},{"had_liked":false,"id":58793,"user_name":"danvid","can_delete":false,"product_type":"c1","uid":1270415,"ip_address":"","ucode":"84C50611B1DEA5","user_header":"https://static001.geekbang.org/account/avatar/00/13/62/8f/c0f40d98.jpg","comment_is_top":false,"comment_ctime":1547194490,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1547194490","product_id":100017301,"comment_content":"å¤šç”¨ä¸€ä¸ªflagç©ºé—´æ¯æ¬¡å‡ºå…¥é˜Ÿéƒ½å‡å°‘äº†ä¸€æ¬¡åˆ¤æ–­ï¼Œä¸ç•™flagçš„å¯ä»¥è¿™æ ·<br>public class CircularQueue&lt;E&gt; {<br>    &#47;**<br>     * é˜Ÿåˆ—å¤§å°<br>     *&#47;<br>    private int size=0;<br>    &#47;**<br>     * é˜Ÿå°¾<br>     *&#47;<br>    private int tail=0;<br>    &#47;**<br>     * é˜Ÿå¤´<br>     *&#47;<br>    private int head=0;<br>    &#47;**<br>     * æ•°æ®<br>     *&#47;<br>    private Object[] elementData;<br><br>    public CircularQueue(int capacity) {<br>        this.elementData = new Object[capacity];<br>    }<br><br>    &#47;**<br>     * å‡ºé˜Ÿ<br>     * @return<br>     *&#47;<br>    public E dequeue(){<br>        if(size==0){<br>            return null;<br>        }<br>        Object element=elementData[head];<br>        elementData[head]=null;<br>        if (head==this.elementData.length-1){<br>            head=0;<br>        }else {<br>            head++;<br>        }<br>        size--;<br>        return (E)element;<br>    }<br><br>    &#47;**<br>     * å…¥é˜Ÿ<br>     * @param element<br>     * @return<br>     *&#47;<br>    public boolean enqueue(E element){<br>        if(size==elementData.length){<br>            return false;<br>        }<br>        this.elementData[tail]=element;<br>        if (tail==this.elementData.length-1){<br>            tail=0;<br>        }else {<br>            tail++;<br>        }<br>        size++;<br>        return true;<br>    }<br><br>    @Override<br>    public String toString() {<br>        return &quot;CircularQueue{&quot; +<br>                &quot;size=&quot; + size +<br>                &quot;, tail=&quot; + tail +<br>                &quot;, head=&quot; + head +<br>                &quot;, elementData=&quot; + Arrays.toString(elementData) +<br>                &#39;}&#39;;<br>    }<br>}<br>","like_count":0},{"had_liked":false,"id":57607,"user_name":"å›ä¸å¾—é—²","can_delete":false,"product_type":"c1","uid":1101581,"ip_address":"","ucode":"718AA2C9B410BB","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/0d/f4150547.jpg","comment_is_top":false,"comment_ctime":1546847112,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1546847112","product_id":100017301,"comment_content":"æœ‰ä¸ªé—®é¢˜å‘è¯·æ•™è€å¸ˆå°±æ˜¯tailæ‰€ä»£è¡¨çš„é˜Ÿå°¾ä¸‹æ ‡ï¼Œè¿™é‡Œçš„é˜Ÿå°¾æŒ‡çš„æ˜¯é˜Ÿå°¾ä¸€ä¸ªç©ºçš„å¾…æ”¾æ•°æ®çš„ä½ç½®ï¼Œè¿˜æ˜¯é˜Ÿåˆ—çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œæˆ‘çœ‹ä»£ç è¡¨ç¤ºçš„åº”è¯¥æ˜¯å‰è€…","like_count":0},{"had_liked":false,"id":57516,"user_name":"é»„æ·®æ±Ÿå®¢.","can_delete":false,"product_type":"c1","uid":1247553,"ip_address":"","ucode":"4D40181BA767DC","user_header":"https://static001.geekbang.org/account/avatar/00/13/09/41/d1928f5c.jpg","comment_is_top":false,"comment_ctime":1546826613,"is_pvip":false,"replies":[{"id":"21853","content":"å—¯å—¯æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1547708932,"ip_address":"","comment_id":57516,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546826613","product_id":100017301,"comment_content":"è¯´åˆ°å¯åŠ¨æ€æ‰©å®¹é˜Ÿåˆ—ï¼Œé‚£ä¸æ˜¯è¿˜æœ‰æ¶‰åŠå†…å­˜ç”³è¯·å’Œé‡Šæ”¾çš„é—®é¢˜å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435620,"discussion_content":"å—¯å—¯æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547708932,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56329,"user_name":"æ³‰","can_delete":false,"product_type":"c1","uid":1099760,"ip_address":"","ucode":"914709BE802A8D","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/f0/aa2e0749.jpg","comment_is_top":false,"comment_ctime":1546422728,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1546422728","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—ï¼Œæ»¡çš„åˆ¤æ–­æ¡ä»¶ï¼Œ(tail+1)% n=headã€‚<br>é˜»å¡é˜Ÿåˆ—ï¼Œå¹¶å‘é˜Ÿåˆ—ã€‚","like_count":0},{"had_liked":false,"id":55500,"user_name":"å°¼å¤æ‹‰æ–¯Â·DÂ·å…”å­","can_delete":false,"product_type":"c1","uid":1027869,"ip_address":"","ucode":"8293C64A97ADED","user_header":"https://static001.geekbang.org/account/avatar/00/0f/af/1d/408b641f.jpg","comment_is_top":false,"comment_ctime":1546220483,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546220483","product_id":100017301,"comment_content":"æŠ¢ç«è½¦ç¥¨å°±æ˜¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œè‡³äºç¬¬ä¸‰æ–¹çš„ä»€ä¹ˆåŠ é€ŸåŒ…ï¼Œæˆ‘ç†è§£åº”è¯¥ä¹Ÿæ˜¯å®ç°äº†ä¸€ä¸ªä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ŒåŠ é€ŸåŒ…è¶Šå¤šï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¿›è€Œä¼˜å…ˆåŒ¹é…æœåŠ¡å™¨èµ„æºï¼Œä¸”å‘12306å‘é€è¯·æ±‚çš„é—´éš”æ›´çŸ­ï¼Œä»è€Œå®ç°æ›´å¤§å¯èƒ½æŠ¢ç¥¨ã€‚","like_count":0},{"had_liked":false,"id":53396,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1545638384,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545638384","product_id":100017301,"comment_content":"è€å¸ˆï¼Œé˜»å¡é˜Ÿåˆ—C++ä»£ç <br>void put(const value_type&amp; item) {<br>        std::unqiue_lock&lt;std::mutex&gt; lock(mutex_);                                                                                                                                 while (full()) {<br>            not_full_.wait(lock);                                                                                                                                                  }<br>        container_.push(item);                                                                                                                                                     not_empty_.notify_one();<br>    }        <br>è¿™ä¸ªlocké”ä¸ç”¨unlockè§£é”å—ï¼Œçœ‹å®˜æ–¹æ–‡æ¡£è¿˜æ˜¯è¦unlockçš„                                                                                                                                                                  ","like_count":0},{"had_liked":false,"id":53090,"user_name":"CathyLin","can_delete":false,"product_type":"c1","uid":1240546,"ip_address":"","ucode":"F7CDFF5E1A235F","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/e2/0e1c6c5a.jpg","comment_is_top":false,"comment_ctime":1545582073,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545582073","product_id":100017301,"comment_content":"é¦–å…ˆå›ç­”ä¸€ä¸‹è¯¾ä¸­çš„é¡ºåºé˜Ÿåˆ—çš„æ•°æ®æ¬ç§»çš„å¤æ‚åº¦ã€‚<br>æˆ‘è§‰å¾—å’Œä¸Šä¸€èŠ‚æ ˆçš„æ•°æ®æ¬ç§»çš„å¤æ‚åº¦åˆ†æå·®ä¸å¤šã€‚å…¥é˜Ÿçš„å¤æ‚åº¦æˆ‘è§‰å¾—å¯ä»¥é€šè¿‡ä¹‹å‰é‚£ä¸€å¼ è®²çš„æ‘Šè¿˜åˆ†ææ³•ï¼Œå¾—åˆ°æ¬ç§»è™½ç„¶è¦ O(n)ï¼Œä½†æ˜¯å¯ä»¥å‡æ‘Šåˆ°åé¢çš„æ’å…¥æ“ä½œä¸­å»ï¼Œæ‰€ä»¥å¤æ‚åº¦æˆ‘è§‰å¾—æ˜¯ O(1)ã€‚[å¦‚æœæœ‰é”™è¯¯çš„è¯ï¼Œè¿˜è¯·è€å¸ˆæŒ‡æ•™ï¼Œè°¢è°¢ï½]<br><br>æœ€åä¸¤ä¸ªæ€è€ƒé¢˜éƒ½ä¸å¤ªä¼šï¼Œåªèƒ½çœ‹çœ‹è¯„è®ºåŒºé‡Œé¢å¤§ç¥ä»¬çš„å›å¤äº†= =<br><br>ç¬”è®°ï¼š<br>å…ˆè¿›å…ˆå‡ºï¼ŒFIFOã€‚<br>ä¹Ÿæ˜¯åªæœ‰ä¸¤ä¸ªæ“ä½œï¼Œå…¥é˜Ÿå’Œå‡ºé˜Ÿã€‚<br><br>é¡ºåºé˜Ÿåˆ— &amp; é“¾å¼é˜Ÿåˆ—<br>ç”¨æ•°ç»„å®ç°çš„å«é¡ºåºé˜Ÿåˆ—ï¼Œç”¨é“¾è¡¨å®ç°çš„å«é“¾å¼é˜Ÿåˆ—ã€‚<br><br>é¡ºåºé˜Ÿåˆ—<br>æ ˆï¼šåªéœ€è¦ä¸€ä¸ªæ ˆé¡¶æŒ‡é’ˆå°±å¯ä»¥äº†ã€‚<br>é˜Ÿåˆ—ï¼šéœ€è¦ä¸€ä¸ªå¤´æŒ‡é’ˆ headï¼ŒæŒ‡å‘é˜Ÿå¤´ï¼Œä¸€ä¸ªå°¾æŒ‡é’ˆ tailï¼ŒæŒ‡å‘é˜Ÿå°¾ã€‚<br>å…¥é˜Ÿï¼štail ++<br>å‡ºé˜Ÿï¼šhead ++<br>å…¥é˜Ÿçš„æ—¶å€™å¯èƒ½ä¼šå‡ºç°åé¢å¡ä¸ä¸‹ï¼Œç„¶åå‰é¢è¿˜æœ‰ç©ºä½™çš„æƒ…å†µã€‚<br>How to deal with this?<br>\t- æ•°æ®æ¬ç§»<br><br>å°† head - tail ä¹‹é—´çš„æ•°æ®æ¬ç§»åˆ° 0 - (tail-head+1)ï¼Œç„¶åæ›´æ–° head å’Œ tail çš„ä½ç½®ã€‚ç„¶åå†åˆ©ç”¨ tail++ å°±å¯ä»¥å¡å…¥æ–°çš„æ•°æ®äº†ã€‚<br><br>åœ¨è¿™ç§å®ç°æ€è·¯ä¸­ï¼Œå‡ºé˜Ÿçš„å¤æ‚åº¦ä¾æ—§æ˜¯ O(1)ï¼Œå…¥é˜Ÿçš„å¤æ‚åº¦æˆ‘è§‰å¾—å¯ä»¥é€šè¿‡ä¹‹å‰é‚£ä¸€å¼ è®²çš„æ‘Šè¿˜åˆ†ææ³•ï¼Œå¾—åˆ°æ¬ç§»è™½ç„¶è¦ O(n)ï¼Œä½†æ˜¯å¯ä»¥å‡æ‘Šåˆ°åé¢çš„æ’å…¥æ“ä½œä¸­å»ï¼Œæ‰€ä»¥å¤æ‚åº¦æˆ‘è§‰å¾—æ˜¯ O(1)ã€‚<br><br>é“¾å¼é˜Ÿåˆ—<br>å…¥é˜Ÿï¼štail-&gt;next = newNode;  tail = tail-&gt;next<br>å‡ºé˜Ÿï¼šhead = head-&gt;next<br><br>å¾ªç¯é˜Ÿåˆ—<br>åˆšåˆšé‚£ç§æ•°æ®æ¬ç§»ä¼šæœ‰ç‚¹ä½æ•ˆã€‚æ‰€ä»¥å¯ä»¥ç”¨å¾ªç¯é˜Ÿåˆ—çš„æ–¹æ³•æ¥è§£å†³é—®é¢˜ã€‚<br>è¦æ³¨æ„çš„æ˜¯åˆ¤æ–­é˜Ÿç©ºå’Œé˜Ÿæ»¡çš„æƒ…å†µã€‚<br>é˜Ÿç©ºçš„è¯ï¼šhead==tail<br>é˜Ÿæ»¡ï¼š(tail+1) % n == head<br>å½“é˜Ÿæ»¡çš„æ—¶å€™ï¼Œä¼šç©ºå‡ºæ¥ä¸€ä¸ªä½ç½®ï¼Œå›¾ä¸­ tail æ‰€æŒ‡å‘çš„ä½ç½®å®é™…ä¸Šæ˜¯ä¸å­˜å‚¨æ•°æ®çš„ã€‚æ‰€ä»¥å¾ªç¯é˜Ÿåˆ—ä¼šæµªè´¹ä¸€ä¸ªå­˜å‚¨ç©ºé—´ã€‚<br><br>é˜»å¡é˜Ÿåˆ— &amp; å¹¶å‘é˜Ÿåˆ—<br>é˜»å¡é˜Ÿåˆ—å…¶å®å°±æ˜¯åœ¨é˜Ÿåˆ—çš„æ“ä½œä¸­åŠ ä¸Šäº†é˜»å¡çš„æ“ä½œã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œåœ¨é˜Ÿé¦–å–æ•°æ®ä¼šè¢«é˜»å¡ï¼›åœ¨é˜Ÿåˆ—æ»¡äº†åï¼Œåœ¨é˜Ÿå°¾åŠ æ•°æ®ä¹Ÿä¼šè¢«é˜»å¡ã€‚<br><br>å…¶å®å°±æ˜¯ä¸€ä¸ªâ€œç”Ÿäº§è€…-æ¶ˆè´¹è€…â€æ¨¡å‹ã€‚å®ƒå¯ä»¥æœ‰æ•ˆçš„åè°ƒæ¶ˆè´¹å’Œç”Ÿäº§çš„é€Ÿåº¦ã€‚<br><br>è¿˜å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œé˜Ÿåˆ—ã€‚è¿™æ—¶å€™ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œçº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—æˆ‘ä»¬å«å¹¶å‘é˜Ÿåˆ—ã€‚<br><br>å¼€ç¯‡é—®é¢˜<br>å½“çº¿ç¨‹æ± ä¸­æ²¡æœ‰ç©ºé—²çº¿ç¨‹ï¼Œä½†æ˜¯æœ‰æ–°ä»»åŠ¡è¯·æ±‚çº¿ç¨‹èµ„æºæ—¶ï¼Œçº¿ç¨‹æ± åº”è¯¥æ€æ ·å¤„ç†ï¼Ÿ<br>1ï¼‰éé˜»å¡ï¼Œç›´æ¥æ‹’ç»âŒ<br>2ï¼‰é˜»å¡ï¼Œå°†è¯·æ±‚æ’é˜Ÿå¤„ç†ã€‚<br>     a. é“¾å¼é˜Ÿåˆ—ï¼Œå®ƒæ˜¯æ— è¾¹ç•Œçš„é˜Ÿåˆ—ï¼Œå¯ä»¥æ”¯æŒæ— é™æ’é˜Ÿã€‚(unbounded queue) ä½†æ˜¯ä¼šå¯¼è‡´ç­‰å¾…æ—¶é—´è¿‡é•¿ï¼Œè¯·æ±‚å¤„ç†çš„å“åº”æ—¶é—´è¿‡é•¿ã€‚<br>     b. åŸºäºæ•°ç»„çš„æœ‰ç•Œé˜Ÿåˆ—ã€‚(bounded queue) å¤§å°æœ‰é™ï¼Œä½†æ˜¯å“åº”æ—¶é—´å¿«ã€‚<br><br>å¯¹äºå¤§éƒ¨åˆ†èµ„æºæœ‰é™çš„è¯·æ±‚åœºæ™¯ï¼Œéƒ½å¯ä»¥ç”¨é˜Ÿåˆ—æ¥å®ç°ã€‚","like_count":0},{"had_liked":false,"id":53050,"user_name":"å‘å‘","can_delete":false,"product_type":"c1","uid":1221707,"ip_address":"","ucode":"CC5A357B21393C","user_header":"https://static001.geekbang.org/account/avatar/00/12/a4/4b/a522594f.jpg","comment_is_top":false,"comment_ctime":1545575961,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545575961","product_id":100017301,"comment_content":"ç‹è€å¸ˆ,æƒ³å‘æ‚¨è¯·æ•™ä¸€ä¸‹: æ—¢ç„¶æ˜¯å…ˆè¿›å…ˆå‡º,é‚£ä¹ˆå¯¹äºnon-dynamicçš„é¡ºåºé˜Ÿåˆ—ç”¨ä¸€ä¸ªå˜é‡æ¥è®°å½•å½“å‰å­˜å‚¨çš„ä½ç½®(å¦‚ä¸‹é¢çš„ä»£ç ),ä¸éœ€è¦åŒæ—¶è®°å½•headå’Œtailå§?ä¸€ç›´æ²¡æœ‰æƒ³é€šè¿™é‡Œ,æ³è¯·è€å¸ˆä¸åèµæ•™~<br>public class ArrayQueue&lt;T&gt; {<br>\tprivate T[] items;<br>        &#47;&#47; è®°å½•å½“å‰ä¸‹æ ‡,åˆå§‹åŒ–ä¸º0<br>\tprivate int count = 0;<br>\tprivate int capacity;<br><br>\tpublic ArrayQueue(int capacity) {<br>\t\tthis.items = (T[]) new Object[capacity];<br>\t\tthis.capacity = capacity;<br>\t}<br><br>\tpublic boolean push(T item) {<br>\t\tif (capacity == count) {<br>\t\t\treturn false;<br>\t\t}<br>\t\titems[count] = item;<br>\t\tcount++;<br>\t\treturn true;<br>\t}<br><br>\tpublic T pop() {<br>               &#47;&#47; å½“count=0 è¡¨ç¤ºé˜Ÿåˆ—å·²ç©º<br>\t\tif (0 == count) {<br>\t\t\treturn null;<br>\t\t}<br>\t\tT item = this.items[count - 1];<br>\t\tcount--;<br>\t\treturn item;<br>\t}<br><br>\tpublic void printAll() {<br>\t\tfor (int i = 0; i &lt; count; i++) {<br>\t\t\tSystem.out.print(this.items[i]);<br>\t\t}<br>\t\tSystem.out.println(&quot;---&quot;);<br>\t}<br>}","like_count":0},{"had_liked":false,"id":52833,"user_name":"å­‘","can_delete":false,"product_type":"c1","uid":1321396,"ip_address":"","ucode":"C83AC0ECFE0B5C","user_header":"https://static001.geekbang.org/account/avatar/00/14/29/b4/f95e8e9e.jpg","comment_is_top":false,"comment_ctime":1545537183,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545537183","product_id":100017301,"comment_content":"1æƒ³åˆ°äº†æ•°æ®åº“è¿æ¥æ± ï¼Œæ¶ˆæ¯é˜Ÿåˆ—MQ<br>2æ²¡æƒ³åˆ°","like_count":0},{"had_liked":false,"id":51799,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1545264105,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545264105","product_id":100017301,"comment_content":"golangçš„channelçš„åº•å±‚å®ç°ä¹Ÿæ˜¯ä¸ªç¯å½¢é“¾è¡¨ï¼Œæˆ‘ä»¥å‰è¿˜å¥‡æ€ªä¸ºæ¯›æ˜¯ç¯å½¢é“¾è¡¨ï¼Œç°åœ¨ç•¥æ‡‚äº†ï¼Œè°¢è°¢è€å¸ˆè®©æˆ‘ä»¥åå‡ºå»å¤šäº†ä¸€ä¸ªå¹ç‰›é€¼çš„æŠ€èƒ½","like_count":0},{"had_liked":false,"id":51577,"user_name":"é€¾æ¸…é£","can_delete":false,"product_type":"c1","uid":1275452,"ip_address":"","ucode":"B23D93E57C916D","user_header":"https://static001.geekbang.org/account/avatar/00/13/76/3c/c65912b7.jpg","comment_is_top":false,"comment_ctime":1545202729,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545202729","product_id":100017301,"comment_content":"ç‹è€å¸ˆï¼Œé˜Ÿåˆ—è¿™èŠ‚è¯¾GitHubä¸Šçš„pythonä»£ç æœ‰é”™è¯¯ï¼ˆ09_queue&#47;circular_queue.pyï¼‰ã€‚åœ¨æ¯æ¬¡enqueueçš„æ—¶å€™ä½¿ç”¨äº†appendç”¨æ³•ï¼Œè¿™ä¸ªç”¨æ³•æ˜¯æ¯æ¬¡åœ¨listæœ€åæ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œlist çš„é•¿åº¦ä¸€ç›´åœ¨å¢é•¿ï¼Œå› æ­¤ä¸èƒ½æ„æˆå¾ªç¯é“¾è¡¨ã€‚<br>æˆ‘çš„æ€è·¯ï¼šå®šä¹‰é˜Ÿåˆ—é•¿åº¦ï¼Œåˆå§‹åŒ–self._items=[None]*self._capacityï¼Œ ç„¶åæ¯æ¬¡enqueueçš„æ“ä½œå˜ä¸ºï¼šself._items[self._tail] = item,   self._tail = (self._tail+1) % self.capacityï¼Œæ¥å®ç°å¾ªç¯é˜Ÿåˆ—ã€‚My GitHubï¼šhttps:&#47;&#47;github.com&#47;xuguangshu&#47;Myalgorithm&#47;tree&#47;master&#47;09_queue<br>è°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":51142,"user_name":"keshawn","can_delete":false,"product_type":"c1","uid":1319270,"ip_address":"","ucode":"CFCC24F58D1651","user_header":"https://static001.geekbang.org/account/avatar/00/14/21/66/f9125286.jpg","comment_is_top":false,"comment_ctime":1545120463,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545120463","product_id":100017301,"comment_content":"è´´ä¸€ä¸ªè‡ªå·±å®ç°çš„å¾ªç¯æ•°ç»„é˜Ÿåˆ—ï¼š<br>public class CycleArrayQueue&lt;T&gt; implements Queue&lt;T&gt; {<br><br>    private static final int DEFAULT_SIZE = 16;<br><br>    private Object[] items;<br><br>    private int header;<br><br>    private int tail;<br><br>    public CycleArrayQueue() {<br>        items = new Object[DEFAULT_SIZE];<br>    }<br><br>    public CycleArrayQueue(int size) {<br>        items = new Object[size];<br>    }<br><br>    @Override<br>    public Boolean enqueue(T t) {<br>        if (isFull()) return Boolean.FALSE;<br>        items[tail++] = t;<br>        tail = tail % items.length;<br>        return Boolean.TRUE;<br>    }<br><br>    private boolean isFull() {<br>        &#47;&#47; tailçš„ä¸‹ä¸€ä½åº”è¯¥æ˜¯headerï¼Œå› ä¸ºé˜Ÿåˆ—æ˜¯å¾ªç¯çš„ï¼Œæ‰€ä»¥å–ä½™<br>        return (tail + 1) % items.length == header;<br>    }<br><br>    @Override<br>    @SuppressWarnings(&quot;unchecked&quot;)<br>    public T dequeue() {<br>        if (header == tail) return null;<br>        T date = (T) items[header];<br>        items[header] = null;<br>        header = ++header % items.length;<br>        return date;<br>    }<br>}","like_count":0},{"had_liked":false,"id":50684,"user_name":"æµ·å†›é™†æˆ˜é˜Ÿ","can_delete":false,"product_type":"c1","uid":1134101,"ip_address":"","ucode":"EEB5336AE4E980","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/15/189686da.jpg","comment_is_top":false,"comment_ctime":1545029530,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545029530","product_id":100017301,"comment_content":"Java ä¸­çš„ ExecutorService å†…éƒ¨ä¹Ÿä½¿ç”¨äº†é˜Ÿåˆ—ï¼Œå½“æ²¡æœ‰å¯ç”¨çº¿ç¨‹ç”¨äºå¤„ç†æäº¤çš„ä»»åŠ¡æ—¶ï¼Œå°†ä»»åŠ¡æ”¾åˆ°é˜Ÿåˆ—ä¸­ç­‰å¾…","like_count":0},{"had_liked":false,"id":49082,"user_name":"è¢«å¹è½çš„é£","can_delete":false,"product_type":"c1","uid":1242309,"ip_address":"","ucode":"AF62645E386A7B","user_header":"https://static001.geekbang.org/account/avatar/00/12/f4/c5/39f2acfd.jpg","comment_is_top":false,"comment_ctime":1544600548,"is_pvip":false,"replies":[{"id":"17731","content":"æ•ˆç‡å°±ä½äº†","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1544666364,"ip_address":"","comment_id":49082,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544600548","product_id":100017301,"comment_content":"é¡ºåºé˜Ÿåˆ—åœ¨å‡ºåˆ—çš„æ—¶å€™ä¸ºä»€ä¹ˆä¸èƒ½å¤Ÿç›´æ¥åˆ é™¤è¯¥æ¡æ•°æ®ï¼ˆæ•°ç»„æ°¸è¿œåˆ é™¤ç¬¬ä¸€æ¡ï¼Œåé¢è‡ªåŠ¨å¾€å‰ç§»ï¼‰ï¼Ÿå…¥é˜Ÿçš„æ—¶å€™å†å¾€å›ç»§ç»­è¿½åŠ ï¼Œè¿™æ ·ä¹Ÿèƒ½é¿å…å¾ªç¯é˜Ÿåˆ—çš„å¤æ‚é€»è¾‘è®¡ç®—äº†ï¼Œå½“ç„¶ï¼Œè¿™æ ·ä¼šæœ‰ä¸€å®šçš„æ•°æ®è¿ç§»çš„é—®é¢˜ã€‚","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432478,"discussion_content":"æ•ˆç‡å°±ä½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544666364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48462,"user_name":"eason","can_delete":false,"product_type":"c1","uid":1340823,"ip_address":"","ucode":"0B4D5627AAE4CF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIlSe5wRWM6EnVpVOkmJ9HoBpBaqgQK7ZYlAsVl40CVs0picrma5Aq90ffiaAUBHra1Idag4KyBSCXA/132","comment_is_top":false,"comment_ctime":1544448514,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544448514","product_id":100017301,"comment_content":"activeMqä¸­çš„æ¶ˆæ¯é˜Ÿåˆ—ä¹Ÿç®—ä¸€ç§é˜Ÿåˆ—ã€‚ä¸æ¸…æ¥šæ•°æ®åº“è¿æ¥æ± æ˜¯å¦ä¹Ÿç®—ä¸€ç§é˜Ÿåˆ—ã€‚<br><br>CASå®ç°æ— é”é˜Ÿåˆ—ï¼Œå…¥é˜Ÿæ˜¯åˆ¤æ–­tailèŠ‚ç‚¹æ˜¯å¦å˜åŒ–ï¼Œæ˜¯çš„è¯å…¥é˜Ÿã€‚å‡ºé˜Ÿæ—¶è·å–headèŠ‚ç‚¹","like_count":0},{"had_liked":false,"id":48270,"user_name":"è‰²å³æ˜¯ç©º","can_delete":false,"product_type":"c1","uid":1189638,"ip_address":"","ucode":"46B8975ED087B8","user_header":"https://static001.geekbang.org/account/avatar/00/12/27/06/7ab75a5b.jpg","comment_is_top":false,"comment_ctime":1544408252,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544408252","product_id":100017301,"comment_content":"æ²¡æœ‰å¬è¿‡çš„åè¯<br>CAS,compare and swapçš„ç¼©å†™ï¼Œä¸­æ–‡ç¿»è¯‘æˆæ¯”è¾ƒå¹¶äº¤æ¢ã€‚<br><br>æ¥å†ï¼šé˜Ÿåˆ—å˜›ï¼Œæ’é˜Ÿå˜›ï¼Œå…ˆè¿›å…ˆå‡ºï¼ˆæ˜¯ä¸€ç§å—é™çš„çº¿æ€§æ•°æ®ç»“æ„ï¼‰<br>ç‰¹ç‚¹ï¼šæ•°ç»„é˜Ÿåˆ—ï¼Œé“¾å¼é˜Ÿåˆ—------ä¸¤ä¸ªçš„ä¸»è¦åŒºåˆ«æ˜¯å¦æœ‰ä¸€ä¸ªé•¿åº¦é™åˆ¶<br>é€‚åˆè§£å†³çš„é—®é¢˜ï¼šå¾ªç¯ï¼ˆå¾ªç¯å¹¶å‘é˜Ÿåˆ—ï¼‰-----æˆåŠŸé¿å¼€æ•°ç»„é˜Ÿåˆ—ä¸­çš„æ•°æ®æ¬ç§»å·¥ä½œ;é˜»å¡ã€å¹¶å‘<br>å®é™…åº”ç”¨ï¼šçº¿ç¨‹æ± é˜Ÿåˆ—<br><br>é—®ç­”ï¼š1ã€androidä¸­ handler messageé˜Ÿåˆ—<br>2ã€çœ‹è¯„è®ºä¸­å¾ˆå¤šäººä½¿ç”¨CAS,ç¬¬ä¸€æ¬¡å¬è¯´CAS;","like_count":0},{"had_liked":false,"id":46401,"user_name":"å’•å’•","can_delete":false,"product_type":"c1","uid":1153140,"ip_address":"","ucode":"D0A4CCE145A4F2","user_header":"https://static001.geekbang.org/account/avatar/00/11/98/74/2460c70a.jpg","comment_is_top":false,"comment_ctime":1543916069,"is_pvip":false,"replies":[{"id":"16584","content":"iPad Paper","user_name":"ç¼–è¾‘å›å¤","user_name_real":"éƒ­è•¾","uid":"1000473","ctime":1543916096,"ip_address":"","comment_id":46401,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1543916069","product_id":100017301,"comment_content":"ä½ å¥½,è¯·é—®ä¸‹,æ–‡ç« ä¸­çš„æ’å›¾æ˜¯ç”¨ä»€ä¹ˆè½¯ä»¶ç”»çš„å‘¢","like_count":0,"discussions":[{"author":{"id":1000473,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/44/19/17fadc62.jpg","nickname":"éƒ­è•¾","note":"","ucode":"34F4C07D1C5FE8","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431446,"discussion_content":"iPad Paper","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543916096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46189,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1543882461,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543882461","product_id":100017301,"comment_content":"20181204æ€è€ƒé¢˜: <br>1. æ¶ˆæ¯é˜Ÿåˆ—å°±æ˜¯ä¸€ç§æ’é˜Ÿè¯·æ±‚.","like_count":0},{"had_liked":false,"id":46108,"user_name":"åŒ†åŒ†","can_delete":false,"product_type":"c1","uid":1333414,"ip_address":"","ucode":"4DB39C6CD5743B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/H8NxrljQXliccaT5fjdXJQYS3ou3Z9ykAuKw6EgicicEA9L4jQLz3h85P0odgDSaK0cA9oTyUKibbiagdNvnHuuV5mQ/132","comment_is_top":false,"comment_ctime":1543848270,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543848270","product_id":100017301,"comment_content":"å…³äºé˜Ÿåˆ—<br><br>é˜Ÿåˆ—ç‰¹ç‚¹ï¼šå…ˆè¿›å…ˆå‡ºã€åªèƒ½ä¸€å¤´è¿›ä¸€å¤´å‡ºï¼›ï¼ˆåŒæ ˆä¸€æ ·ä¹Ÿæ˜¯ä¸€ç§å—é™åˆ¶çš„çº¿æ€§æ•°æ®ç»“æ„ï¼‰<br><br>ç”¨æ•°ç»„å®ç°çš„é˜Ÿåˆ—å«åšé¡ºåºé˜Ÿåˆ—ï¼Œç”¨é“¾è¡¨å®ç°çš„é˜Ÿåˆ—å«åšé“¾å¼é˜Ÿåˆ—ã€‚é‡ç‚¹æŒæ¡é“¾å¼é˜Ÿåˆ—ä¸­çš„å¾ªç¯é˜Ÿåˆ—ã€‚<br><br>ç‰¹æ®Šåº”ç”¨é˜Ÿåˆ—æœ‰ï¼šé˜»å¡é˜Ÿåˆ—å’Œå¹¶å‘é˜Ÿåˆ—ã€‚ é˜»å¡é˜Ÿåˆ—å³å½“é˜Ÿåˆ—æ»¡äº†åå°±æ— æ³•è¿›å»æ–°çš„æ•°æ®ï¼Œéœ€è¦æœ‰å‡ºæ‰èƒ½æœ‰è¿›ã€‚å¹¶å‘é˜Ÿåˆ—å³å¤šçº¿ç¨‹æ—¶éœ€è¦è€ƒè™‘å¯¹ä¸€ä¸ªé˜Ÿåˆ—çš„ä¸Šé”é—®é¢˜ã€‚<br><br>å½“çº¿ç¨‹æ± å·²æ»¡ï¼Œåˆæœ‰æ–°çš„èµ„æºè¯·æ±‚çº¿ç¨‹æ—¶å¦‚ä½•å¤„ç†ï¼Ÿä¸€èˆ¬ä¸¤ç§ï¼Œä¸€ç§ç›´æ¥æ‹’ç»è¯·æ±‚ã€‚ä¸€ç§æ˜¯è¯·æ±‚æ’é˜Ÿï¼Œå½“æœ‰ç©ºé—²çº¿ç¨‹åæŒ‰ç…§æ’é˜Ÿä¾æ¬¡å¤„ç†ï¼Œæ­¤æ—¶å°±è¦ç”¨åˆ°é˜Ÿåˆ—ï¼Œæ­¤æ—¶åˆæœ‰ä¸¤ç§é˜Ÿåˆ—å¯é€‰ï¼Œä¸€ç§åŸºäºé“¾è¡¨ï¼Œä¸€ç§åŸºäºæ•°ç»„ï¼Œä¸¤ç§å„æœ‰åˆ©å¼Šï¼Œéœ€é€‰æ‹©åˆé€‚çš„ã€‚å…¶å®ï¼Œå¯¹äºå¤§éƒ¨åˆ†èµ„æºæœ‰é™çš„åœºæ™¯ï¼Œå½“æ²¡æœ‰ç©ºé—²èµ„æºæ—¶ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥é€šè¿‡é˜Ÿåˆ—æ¥å®ç°æ’é˜Ÿè¯·æ±‚ã€‚","like_count":0},{"had_liked":false,"id":44619,"user_name":"dongdong","can_delete":false,"product_type":"c1","uid":1305580,"ip_address":"","ucode":"25CB9FC6AE7737","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/UqxY58hlwdaypDeLwsjSBfBe2Q7YhZyJniaPEf7Ws7tneSzgQ6js6Uh0KT5FjCBIRUCGyVZ0zsvBUPVz2bK2YWQ/132","comment_is_top":false,"comment_ctime":1543464642,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543464642","product_id":100017301,"comment_content":"PHPæ•°ç»„å®ç°é˜Ÿåˆ—<br>&lt;?php<br>&#47;**<br> * Created by PhpStorm.<br> * User: Administrator<br> * Date: 2018&#47;11&#47;28<br> * Time: 16:16<br> *&#47;<br><br>class arrayQue<br>{<br>    private $array = [];  &#47;&#47;é˜Ÿåˆ—æ•°ç»„<br>    private $largeNum = 0; &#47;&#47;é˜Ÿåˆ—å®¹é‡<br>    private $head = 0;  &#47;&#47;é˜Ÿåˆ—å¤´æ ‡<br>    private $tail = 0;  &#47;&#47;é˜Ÿåˆ—å°¾æ ‡<br>    &#47;**<br>     * åˆå§‹åŒ–å˜é‡<br>     *&#47;<br>    public function __construct($array,$largeNum,$head,$tail)<br>    {<br>        $this-&gt;array = $array;<br>        $this-&gt;num   = $largeNum;<br>        $this-&gt;head  = $head;<br>        $this-&gt;tail  = $tail;<br>    }<br>    <br>    public function enqueue($item){<br>        &#47;&#47;tail = num é˜Ÿåˆ—æœ«å°¾æ²¡æœ‰ç©ºé—´<br>        if($this-&gt;tail == $this-&gt;num){<br>            &#47;&#47;if tail=num &amp;&amp; head=0 è¡¨ç¤ºé˜Ÿåˆ—éƒ½å æ»¡äº†<br>            if($this-&gt;head == 0) return false;<br>            &#47;&#47;æ•°æ®æ¬ç§»<br>            for ($i=$this-&gt;head;$i&lt;$this-&gt;tail;++$i){<br>                $this-&gt;array[$i-$this-&gt;head] = $this-&gt;array[$i];<br>            }<br>            &#47;&#47;var_dump($this-&gt;array);<br>        }<br>        $this-&gt;array[$this-&gt;tail] = $item;<br>        ++$this-&gt;tail;<br>        var_dump($this-&gt;array);<br>        return true;<br>    }<br><br>    &#47;&#47;å‡ºé˜Ÿåˆ—<br>    public function dequeue(){<br>        &#47;&#47;å¤´å’Œå°¾ç›¸ç­‰ï¼Œé˜Ÿåˆ—ä¸­ä¸ºç©º<br>        if($this-&gt;head == $this-&gt;tail) return null;<br>        $ret = $this-&gt;array[&quot;$this-&gt;head&quot;];<br>        ++$this-&gt;head;<br>        return $ret;<br>    }<br>}","like_count":0},{"had_liked":false,"id":44224,"user_name":"æ¢ç´¢æ— æ­¢å¢ƒ","can_delete":false,"product_type":"c1","uid":1044178,"ip_address":"","ucode":"91D2A9907DFA79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/d2/7024431c.jpg","comment_is_top":false,"comment_ctime":1543388985,"is_pvip":false,"replies":[{"id":"15770","content":"çœ‹çœ‹ç•™è¨€å§","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1543403510,"ip_address":"","comment_id":44224,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543388985","product_id":100017301,"comment_content":"ç‹è€å¸ˆä½ å¥½ï¼Œä¸ºä»€ä¹ˆå¾ªç¯é˜Ÿåˆ—çš„å®ç°ä¸­ï¼Œè¦æµªè´¹ä¸€ä¸ªç©ºé—´ï¼Œè¿™ä¸ªåœ°æ–¹ä¸å¤ªæ˜ç™½ï¼Œæœ›æŒ‡æ•™ï¼","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430685,"discussion_content":"çœ‹çœ‹ç•™è¨€å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543403510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43240,"user_name":"Flash","can_delete":false,"product_type":"c1","uid":1236163,"ip_address":"","ucode":"E285075C9E0B02","user_header":"https://static001.geekbang.org/account/avatar/00/12/dc/c3/e4ba51d5.jpg","comment_is_top":false,"comment_ctime":1543198610,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543198610","product_id":100017301,"comment_content":"æœ‰äººè¯´â€œé˜Ÿåˆ—æ˜¯åƒå¤šäº†æ‹‰ï¼Œæ ˆæ˜¯åƒå¤šäº†åï¼Œä¹Ÿä¸æ˜¯é‚£ä¹ˆå¥½è®°å˜›ï¼ä¸å¦‚æ¢ä¸ªè¯´æ³•å¥½è®°ç‚¹ï¼Œé˜Ÿåˆ—æœ‰è‚›ï¼Œè¿™å£è¿›å¦ä¸€å£å‡ºï¼Œæ ˆæ— è‚›ï¼Œè¿™å£è¿›è¿™å£å‡ºã€‚","like_count":0},{"had_liked":false,"id":42453,"user_name":"Jay_he","can_delete":false,"product_type":"c1","uid":1132216,"ip_address":"","ucode":"F9D2F64544CDF2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKtg22VEsXWcGCQoK2rAd12JZPqG0sgkqk1osQmxZsjHYPI5Ezsiaic7FM3tgyXwuMmtKmt2LZoZ7bQ/132","comment_is_top":false,"comment_ctime":1542956773,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542956773","product_id":100017301,"comment_content":"ç”¨æ•°ç»„å®ç°é˜Ÿåˆ—æ—¶ï¼Œå½“é˜Ÿåˆ—æ»¡çš„æ—¶å€™ä¸ºä»€ä¹ˆä¸åšæ‰©å®¹å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":41981,"user_name":"Jeff","can_delete":false,"product_type":"c1","uid":1316265,"ip_address":"","ucode":"B5C07DA4877388","user_header":"https://static001.geekbang.org/account/avatar/00/14/15/a9/800757d8.jpg","comment_is_top":false,"comment_ctime":1542885844,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542885844","product_id":100017301,"comment_content":"è‡ªå·±å®ç°äº†ä¸‹æ— é”å¾ªç¯é˜Ÿåˆ—ï¼š<br>public class MyQueue {<br>    private int capacity;<br>    private String[] queue;<br>    private AtomicInteger head = new AtomicInteger(0);<br>    private AtomicInteger tail = new AtomicInteger(0);<br><br>    public MyQueue(int n){<br>        queue = new String[n];<br>        capacity = n;<br>    }<br>    public boolean intoQueue(String str){<br>        int oldTail;<br>        int newTail;<br>        &#47;&#47;åŸå­æ“ä½œ<br>        do {<br>            oldTail = tail.intValue();<br>            &#47;&#47;é˜Ÿåˆ—æ»¡<br>            if ((oldTail + 1) % capacity == head.intValue()) {<br>                return false;<br>            }<br>            newTail = (oldTail + 1) % capacity;<br>        }while (!tail.compareAndSet(oldTail,newTail));<br>        queue[oldTail] = str;<br>        System.out.println(&quot;into target=&quot; + oldTail);<br>        return true;<br>    }<br><br>    public String outQueue(){<br>        int oldHead;<br>        int newHead;<br>        &#47;&#47;åŸå­æ“ä½œ<br>        do{<br>            oldHead = head.intValue();<br>            &#47;&#47;é˜Ÿåˆ—ç©º<br>            if (tail.intValue()==oldHead){<br>                return null;<br>            }<br>            newHead = (oldHead+1)%capacity;<br>        }while (!head.compareAndSet(oldHead,newHead));<br>        System.out.println(&quot;head=&quot;+oldHead);<br>        String tmp = queue[oldHead];<br>        return tmp;<br>    }<br>}","like_count":0},{"had_liked":false,"id":40972,"user_name":"Martin îŒ‡î€ˆîîŒŒî„¶","can_delete":false,"product_type":"c1","uid":1186025,"ip_address":"","ucode":"6BF9FE945D396A","user_header":"https://static001.geekbang.org/account/avatar/00/12/18/e9/4242ee4a.jpg","comment_is_top":false,"comment_ctime":1542706773,"is_pvip":false,"replies":[{"id":"14802","content":"å¤šåŠ ä¸€ä¸ªæ•°æ® æ‰€ä»¥tailè¦åŠ ä¸€<br>åˆ¤æ–­æ»¡ä¸æ»¡çš„æ¡ä»¶æ˜¯æ‹¿tailä¸headæ¯”è¾ƒ ä½ å†çœ‹ä¸‹æ–‡ç« ","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1542765934,"ip_address":"","comment_id":40972,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542706773","product_id":100017301,"comment_content":"ç‹è€å¸ˆæœ‰å‡ ä¸ªé—®é¢˜ï¼š<br> 1.åœ¨å¾ªç¯é˜Ÿåˆ—çš„æ—¶å€™,åœ¨tail = (tail+1)%n , è¿™ä¸ªæ€ä¹ˆç†è§£å‘¢ï¼Ÿ<br>   * +1æ˜¯å› ä¸ºä¼šå§‹ç»ˆå¤šä¸€ä¸ªç©ºé—´çš„æ„æ€å—ï¼Ÿ<br>   *  æ¨¡N==0æ„æ€å°±æ˜¯ä»–å°±æ˜¯ä»£è¡¨ä»–å·²ç»å­˜æ»¡ä¸€åœˆäº†å—ï¼Ÿ<br><br> 2.é˜»å¡é˜Ÿåˆ—å’Œå¹¶å‘é˜Ÿåˆ—ä»€ä¹ˆæ—¶å€™è¯´å‘¢?æ„Ÿè§‰å¾ˆé‡è¦ï¼Œå¾ˆå¤šæ¡†æ¶éƒ½åœ¨ä½¿ç”¨ã€‚","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429664,"discussion_content":"å¤šåŠ ä¸€ä¸ªæ•°æ® æ‰€ä»¥tailè¦åŠ ä¸€\nåˆ¤æ–­æ»¡ä¸æ»¡çš„æ¡ä»¶æ˜¯æ‹¿tailä¸headæ¯”è¾ƒ ä½ å†çœ‹ä¸‹æ–‡ç« ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542765934,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40823,"user_name":"ã€‚ã€‚ã€‚","can_delete":false,"product_type":"c1","uid":1267092,"ip_address":"","ucode":"F4D90A500B66D3","user_header":"https://static001.geekbang.org/account/avatar/00/13/55/94/cefb8a05.jpg","comment_is_top":false,"comment_ctime":1542679635,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542679635","product_id":100017301,"comment_content":"æ— é”é˜Ÿåˆ— å…ˆè·å– head æˆ– tail Node temp = head; ç„¶å casHead(temp, temp.next); æˆåŠŸå°±å°† temp è¿”å› å¤±è´¥å°±while å†å–; tail åŒç†","like_count":0},{"had_liked":false,"id":40090,"user_name":"zhStark","can_delete":false,"product_type":"c1","uid":1238043,"ip_address":"","ucode":"25E97E74A37AF0","user_header":"https://static001.geekbang.org/account/avatar/00/12/e4/1b/73e0f5f1.jpg","comment_is_top":false,"comment_ctime":1542472881,"is_pvip":false,"replies":[{"id":"14493","content":"ä¼šçš„","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1542589408,"ip_address":"","comment_id":40090,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542472881","product_id":100017301,"comment_content":"ä¹‹åä¼šä¸ä¼šè®²ä¼˜å…ˆé˜Ÿåˆ—å‘¢","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429367,"discussion_content":"ä¼šçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542589408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":39518,"user_name":"æ´»çš„ç²¾å½©","can_delete":false,"product_type":"c1","uid":1200661,"ip_address":"","ucode":"A076FBCC9C7AD8","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/15/268a4a6f.jpg","comment_is_top":false,"comment_ctime":1542294254,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542294254","product_id":100017301,"comment_content":"è¿™ç§å®ç°æ€è·¯ä¸­ï¼Œå‡ºé˜Ÿæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä»ç„¶æ˜¯ O(1)ï¼Œä½†å…¥é˜Ÿæ“ä½œçš„æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯ O(1) å—ï¼Ÿ<br>æ—¶é—´å¤æ‚åº¦æ˜¯o(n)å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":39185,"user_name":"è“è‰²ç†æƒ³","can_delete":false,"product_type":"c1","uid":1015043,"ip_address":"","ucode":"43C8D83DC19A17","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/03/4e71c307.jpg","comment_is_top":false,"comment_ctime":1542205536,"is_pvip":false,"replies":[{"id":"14044","content":"å¯ä»¥å¿½ç•¥ å› ä¸ºä¸“æ é¢å¯¹çš„æ˜¯ä¸åŒå±‚æ¬¡çš„åŒå­¦ å¯èƒ½ä¼šæœ‰äº›å¤–å»¶çš„çŸ¥è¯† è·Ÿæ•°æ®ç»“æ„å’Œç®—æ³•æ²¡å¤ªå¤šç›´æ¥çš„å…³ç³»ã€‚å¯ä»¥å¿½ç•¥","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1542247185,"ip_address":"","comment_id":39185,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1542205536","product_id":100017301,"comment_content":"Casä»€ä¹ˆæ„æ€å•Šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":428957,"discussion_content":"å¯ä»¥å¿½ç•¥ å› ä¸ºä¸“æ é¢å¯¹çš„æ˜¯ä¸åŒå±‚æ¬¡çš„åŒå­¦ å¯èƒ½ä¼šæœ‰äº›å¤–å»¶çš„çŸ¥è¯† è·Ÿæ•°æ®ç»“æ„å’Œç®—æ³•æ²¡å¤ªå¤šç›´æ¥çš„å…³ç³»ã€‚å¯ä»¥å¿½ç•¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542247185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":38173,"user_name":"Lee","can_delete":false,"product_type":"c1","uid":1153239,"ip_address":"","ucode":"459D3303717703","user_header":"https://static001.geekbang.org/account/avatar/00/11/98/d7/7f7a0e6f.jpg","comment_is_top":false,"comment_ctime":1541983315,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1541983315","product_id":100017301,"comment_content":"jdkè‡ªå¸¦çš„åŸºäºä¼˜å…ˆçº§é˜Ÿåˆ—çš„çº¿ç¨‹æ± åœ¨å®è·µè¿‡ç¨‹ä¸­ä¼šå‡ºç°ä½ä¼˜å…ˆçº§ä»»åŠ¡ä¸€ç›´å¾—ä¸åˆ°å¤„ç†ï¼Œå‡ºç°æ‰€è°“çš„é¥¿æ­»æƒ…å†µï¼Œä¸çŸ¥é“ç‹è€å¸ˆå’Œå„ä½åŒå­¦èƒ½å¦æä¾›äº›æ”¹è¿›çš„æ€è·¯","like_count":0},{"had_liked":false,"id":38068,"user_name":"lcp","can_delete":false,"product_type":"c1","uid":1147461,"ip_address":"","ucode":"3C9975BFF7654E","user_header":"https://static001.geekbang.org/account/avatar/00/11/82/45/981ac8ab.jpg","comment_is_top":false,"comment_ctime":1541916632,"is_pvip":false,"replies":[{"id":"13709","content":"å¦‚æœtail=n-1 head=0å‘¢ï¼Ÿè€Œä¸”åˆ¤æ–­æ¡ä»¶æ˜¯tail+1==headå§","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1541986755,"ip_address":"","comment_id":38068,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1541916632","product_id":100017301,"comment_content":"ç¯å½¢é˜Ÿåˆ—ï¼Œå¦‚æœç”¨æ•°ç»„å®ç°ï¼Œä¸ºä»€ä¹ˆéœ€è¦å¯¹næ±‚ä½™ï¼Ÿtail-1 == headåˆ¤æ–­æ˜¯å¦é˜Ÿåˆ—æ»¡çš„è¯ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":428589,"discussion_content":"å¦‚æœtail=n-1 head=0å‘¢ï¼Ÿè€Œä¸”åˆ¤æ–­æ¡ä»¶æ˜¯tail+1==headå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541986755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":37757,"user_name":"inNovation","can_delete":false,"product_type":"c1","uid":1026063,"ip_address":"","ucode":"C150C5C9186D2A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a8/0f/9f657edc.jpg","comment_is_top":false,"comment_ctime":1541724849,"is_pvip":false,"replies":[{"id":"13594","content":"å¾ˆå¤šè¯­è¨€é»˜è®¤ä¸æ”¯æŒçš„ è€Œä¸”ä¹Ÿæ— æ³•å®Œå…¨é¿å…å †æ ˆæº¢å‡º","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1541728700,"ip_address":"","comment_id":37757,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1541724849","product_id":100017301,"comment_content":"é˜²æ­¢æ ˆæº¢å‡ºä¸Š.æœ‰äº›è¯­è¨€ä¼šå¯¹å°¾é€’å½’åšä¼˜åŒ–ï¼Œæ‰€ä»¥ å¦‚æœå¯ä»¥å†™å°¾é€’å½’æœ€å¥½äº†","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":428478,"discussion_content":"å¾ˆå¤šè¯­è¨€é»˜è®¤ä¸æ”¯æŒçš„ è€Œä¸”ä¹Ÿæ— æ³•å®Œå…¨é¿å…å †æ ˆæº¢å‡º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541728700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":37676,"user_name":"Quasimodo","can_delete":false,"product_type":"c1","uid":1232165,"ip_address":"","ucode":"38408011C5517D","user_header":"https://static001.geekbang.org/account/avatar/00/12/cd/25/5684bf48.jpg","comment_is_top":false,"comment_ctime":1541673750,"is_pvip":false,"replies":[{"id":"13591","content":"ğŸ˜„ å°±å½“æ²¡çœ‹è§ åˆ«çº ç»“è¿™ç‚¹ä¸é‡è¦çš„ä¸œè¥¿  ä¸“æ çš„è¯»è€…åˆ†å„ä¸ªå±‚æ¬¡ ä½œä¸ºå°ç™½ å°±é€‰æ‹©çœ‹æ‡‚åŸºç¡€çš„å°±å¥½ æ—¥åéšç€å¼€å‘ç»éªŒçš„å¢å¤š å†å›è¿‡å¤´æ¥çœ‹","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1541728275,"ip_address":"","comment_id":37676,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1541673750","product_id":100017301,"comment_content":"è°èƒ½å‘Šè¯‰æˆ‘è¿™ä¸ªå°ç™½ï¼Œä½ ä»¬è¯´çš„CASæ˜¯å•¥å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":428444,"discussion_content":"ğŸ˜„ å°±å½“æ²¡çœ‹è§ åˆ«çº ç»“è¿™ç‚¹ä¸é‡è¦çš„ä¸œè¥¿  ä¸“æ çš„è¯»è€…åˆ†å„ä¸ªå±‚æ¬¡ ä½œä¸ºå°ç™½ å°±é€‰æ‹©çœ‹æ‡‚åŸºç¡€çš„å°±å¥½ æ—¥åéšç€å¼€å‘ç»éªŒçš„å¢å¤š å†å›è¿‡å¤´æ¥çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541728275,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":37424,"user_name":"èŠ±ä»™å­","can_delete":false,"product_type":"c1","uid":1249216,"ip_address":"","ucode":"9840BF416F1F0F","user_header":"https://static001.geekbang.org/account/avatar/00/13/0f/c0/e6151cce.jpg","comment_is_top":false,"comment_ctime":1541581636,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1541581636","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—ç”¨æ•°ç»„å®ç°æ—¶ï¼Œåˆ¤æ–­é˜Ÿåˆ—å·²æ»¡çš„æ¡ä»¶å¯ä¸å¯ä»¥æ˜¯ï¼Œtail &lt; headä¸”tail + 1 == head, å¹¶ä¸Šhead == 0ä¸”tail == n,ä¸¤ç§æƒ…å†µï¼Œå› ä¸ºæ˜¯ç¯å½¢ï¼Œå½“head &lt; tailæ—¶ï¼Œå½“å°¾å·´è¿½ä¸Šå¤´éƒ¨æ—¶å°±è¯´æ˜æ»¡äº†ã€‚","like_count":0},{"had_liked":false,"id":37030,"user_name":"è½å¶é£é€çš„æ‹","can_delete":false,"product_type":"c1","uid":1046429,"ip_address":"","ucode":"F9A95DB28BCF1E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/9d/be04b331.jpg","comment_is_top":false,"comment_ctime":1541426428,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1541426428","product_id":100017301,"comment_content":"é’ˆå¯¹ä¸Šé¢@ç‹å¨äººåŒå­¦çš„æ€è·¯ï¼Œå®ç°ä¸‹é¢çš„ä»£ç ï¼š<br>public class SimpleLoopQueue&lt;E&gt; implements Queue&lt;E&gt; {<br><br>    private E[] data;<br><br>    &#47;**<br>     * æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•<br>     *&#47;<br>    private int head;<br><br>    &#47;**<br>     * æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•<br>     *&#47;<br>    private int tail;<br><br>    &#47;**<br>     * å…ƒç´ ä¸ªæ•°<br>     *&#47;<br>    private int size;<br><br>    public SimpleLoopQueue(int capacity) {<br>        this.data = (E[]) new Object[capacity];<br>        this.head = 0;<br>        this.tail = 0;<br>    }<br><br>    public SimpleLoopQueue() {<br>        this(8);<br>    }<br><br><br>    &#47;**<br>     * å…¥é˜Ÿ<br>     *<br>     * @param e<br>     *&#47;<br>    @Override<br>    public void enqueue(E e) {<br>        if (size == data.length - 1) {<br>            throw new IllegalArgumentException(&quot;å¾ªç¯é˜Ÿåˆ—å·²æ»¡&quot;);<br>        }<br>        if (tail == data.length - 1) {<br>            tail = 0;<br>        } else {<br>            tail++;<br>        }<br>        data[tail] = e;<br>        size++;<br>    }<br><br>    &#47;**<br>     * å‡ºé˜Ÿ<br>     *<br>     * @return<br>     *&#47;<br>    @Override<br>    public E dequeue() {<br>        if (isEmpty()) {<br>            throw new IllegalArgumentException(&quot;å¾ªç¯é˜Ÿåˆ—ä¸ºç©º&quot;);<br>        }<br>        E ret = data[head];<br>        size--;<br>        head++;<br>        return ret;<br>    }<br><br>    &#47;**<br>     * è·å–é˜Ÿé¦–å…ƒç´ <br>     *<br>     * @return<br>     *&#47;<br>    @Override<br>    public E getFront() {<br>        if (isEmpty()) {<br>            throw new IllegalArgumentException(&quot;å¾ªç¯é˜Ÿåˆ—ä¸ºç©º&quot;);<br>        }<br>        return data[head];<br>    }<br><br>    &#47;**<br>     * è·å–é˜Ÿåˆ—å…ƒç´ ä¸ªæ•°<br>     *<br>     * @return<br>     *&#47;<br>    @Override<br>    public int getSize() {<br>        return size;<br>    }<br><br>    &#47;**<br>     * åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º<br>     *<br>     * @return<br>     *&#47;<br>    @Override<br>    public boolean isEmpty() {<br>        return head == tail;<br>    }<br>}<br>","like_count":0},{"had_liked":false,"id":36999,"user_name":"è½å¶é£é€çš„æ‹","can_delete":false,"product_type":"c1","uid":1046429,"ip_address":"","ucode":"F9A95DB28BCF1E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/9d/be04b331.jpg","comment_is_top":false,"comment_ctime":1541415961,"is_pvip":false,"replies":[{"id":"13250","content":"åŠ æ²¹ğŸ’ª","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1541467968,"ip_address":"","comment_id":36999,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1541415961","product_id":100017301,"comment_content":"æœ€è¿‘åœ¨ä»”ç»†çš„ç†è§£è€å¸ˆçš„è¯¾ç¨‹ï¼Œå¯èƒ½è¿›åº¦è·Ÿä¸ä¸Šæœ€æ–°çš„ï¼Œæˆ‘ä¼šåŠ æ²¹ï¼Œä¸ä¼šå›«å›µåæ£çš„å­¦ä¹ ã€‚","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":428117,"discussion_content":"åŠ æ²¹ğŸ’ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541467968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":36997,"user_name":"è½å¶é£é€çš„æ‹","can_delete":false,"product_type":"c1","uid":1046429,"ip_address":"","ucode":"F9A95DB28BCF1E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/9d/be04b331.jpg","comment_is_top":false,"comment_ctime":1541415838,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1541415838","product_id":100017301,"comment_content":"æ•°ç»„å®ç°çš„é˜Ÿåˆ—ä¹Ÿå¯ä»¥æ— é™æ‰©å®¹ï¼Œæ€è·¯å°±æ˜¯ç±»ä¼¼äºJavaçš„ArrayListï¼Œå½“æ•°ç»„ç©ºé—´ä¸å¤Ÿï¼Œç›´æ¥ç”³è¯·ä¸€ä¸ªåŸå…ˆæ•°ç»„2å€æˆ–è€…å…¶ä»–å€æ•°çš„æ–°çš„æ•°ç»„ã€‚","like_count":0},{"had_liked":false,"id":36914,"user_name":"ä¸ƒä»”","can_delete":false,"product_type":"c1","uid":1220226,"ip_address":"","ucode":"BD3F5943383E56","user_header":"https://static001.geekbang.org/account/avatar/00/12/9e/82/4ca45468.jpg","comment_is_top":false,"comment_ctime":1541386302,"is_pvip":false,"replies":[{"id":"13267","content":"æ²¡æ„Ÿè§‰è‰ç‡ ä¸å¥½æ„æ€ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1541468475,"ip_address":"","comment_id":36914,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1541386302","product_id":100017301,"comment_content":"ç¯å½¢å¯¹åˆ—åˆ¤æ–­é˜Ÿåˆ—æ»¡ç»™å‡ºçš„ç»“æœçœŸæ˜¯è‰ç‡ï¼Œæ²¡æœ‰ä¸€ç‚¹è¿‡ç¨‹ï¼Œç›´æ¥å°±æ˜¯å‘ç°è¿™æ ·ï¼Œæ‰€ä»¥è¿™æ ·ï¼Œè¿™æ ·è®²ç®—æ³•çœŸçš„æ²¡æ„æ€ï¼Œç®—æ³•ä¸æ˜¯ç›´æ¥ä»å¤©ä¸Šæ‰ä¸‹æ¥çš„ï¼Œå¸Œæœ›ä½œè€…èƒ½è™šå¿ƒæ¥å—ã€‚","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":428084,"discussion_content":"æ²¡æ„Ÿè§‰è‰ç‡ ä¸å¥½æ„æ€ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541468475,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":35828,"user_name":"å°è€é¼ ","can_delete":false,"product_type":"c1","uid":1257460,"ip_address":"","ucode":"C663A0C863A515","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/f4/2dede51a.jpg","comment_is_top":false,"comment_ctime":1540817218,"is_pvip":false,"replies":[{"id":"12835","content":"æ˜¯çš„å‘¢","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1540951097,"ip_address":"","comment_id":35828,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1540817218","product_id":100017301,"comment_content":"LoadRunner çš„åŸºäºWebå¹¶å‘æµ‹è¯•ï¼Œè‹¥å½“ä¸€ä¸ªäº‹åŠ¡ç³»ç»Ÿæœ€å¤šå¯ä»¥å¤„ç†çš„å¹¶å‘æ•°ä¸º10000ä¸ªï¼Œå½“å†ä¸Šæ¥äº†åä¸ªå¹¶å‘æ•°ï¼ŒWebæœåŠ¡å™¨æ˜¯ä¸æ˜¯é€šè¿‡é˜Ÿä¾‹æ¥æ’é˜Ÿçš„ï¼Ÿå¦å¤–é˜Ÿä¼çš„é•¿åº¦æ˜¯ä¸æ˜¯ç”±web serverå†³å®šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427680,"discussion_content":"æ˜¯çš„å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1540951097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":35629,"user_name":"æˆ‘å°±æ˜¯æˆ‘","can_delete":false,"product_type":"c1","uid":1117184,"ip_address":"","ucode":"F3B36692941FC9","user_header":"https://static001.geekbang.org/account/avatar/00/11/0c/00/b0b95590.jpg","comment_is_top":false,"comment_ctime":1540717697,"is_pvip":false,"replies":[{"id":"12674","content":"ä¸å¯ä»¥çš„ ä½ è‡ªå·±å‡ ä¸ªä¾‹å­ç”»ç”»çœ‹çœ‹","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1540740113,"ip_address":"","comment_id":35629,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1540717697","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—ï¼šé˜Ÿåˆ—æ»¡äº†<br>if ((tail + 1) % n == headï¼‰ return false;<br>è¿™ä¸ªç›´æ¥åˆ¤æ–­  (tail + 1ï¼‰== head æ˜¯ä¸æ˜¯å°±å¯ä»¥äº†?","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427605,"discussion_content":"ä¸å¯ä»¥çš„ ä½ è‡ªå·±å‡ ä¸ªä¾‹å­ç”»ç”»çœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1540740113,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":35231,"user_name":"feifei","can_delete":false,"product_type":"c1","uid":1105431,"ip_address":"","ucode":"B1F8AE3AD82C51","user_header":"https://static001.geekbang.org/account/avatar/00/10/de/17/75e2b624.jpg","comment_is_top":false,"comment_ctime":1540470246,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1540470246","product_id":100017301,"comment_content":"æ‚¨å¥½ï¼Œçœ‹äº†è¿™ç« èŠ‚çš„è¯¾ç¨‹ï¼Œå¯¹äºè¿™ä¸ªå¾ªç¯é˜Ÿåˆ—æˆ‘è§‰å¾—éå¸¸çš„å®ç”¨ï¼Œæ‰€ä»¥ï¼Œæˆ‘è‡ªå·±åŠ¨æ‰‹å®è·µäº†ä¸€ä¸ªç¯å½¢æ— é”çš„å¹¶å‘é˜Ÿåˆ—ï¼Œå¸Œæœ›å¾—åˆ°è€å¸ˆæ‚¨çš„æŒ‡æ­£ï¼Œè°¢è°¢ï¼<br><br>ä»£ç æˆ‘ä¹Ÿä¸Šä¼ äº†git<br>https:&#47;&#47;github.com&#47;kkzfl22&#47;datastruct.git<br>æ¬¢è¿å¤§å®¶ä¸€èµ·è®¨è®ºï¼<br><br>&#47;**<br> * å¹¶å‘å¾ªç¯é˜Ÿåˆ—ï¼Œä½¿ç”¨æ•°ç»„æ¥å®ç°<br> *<br> * @author kkzfl<br> * @version 0.0.1<br> * @date 2018&#47;10&#47;24<br> *&#47;<br>public class ArrayBlockCircleQueue {<br><br>  &#47;** æ•°æ®ç±»å‹ *&#47;<br>  private int[] data;<br><br>  &#47;** å½“å‰å†™å…¥çš„ä½ç½® *&#47;<br>  private final AtomicInteger tail;<br><br>  &#47;** å¤´ä½ç½® *&#47;<br>  private final AtomicInteger head;<br><br>  &#47;** å®¹é‡ *&#47;<br>  private int capacity;<br><br>  public ArrayBlockCircleQueue(int capacity) {<br>    this.data = new int[capacity];<br>    this.tail = new AtomicInteger(0);<br>    this.head = new AtomicInteger(0);<br>    this.capacity = capacity;<br>  }<br><br>  public void print() {<br>    System.out.print(Arrays.toString(data));<br>  }<br><br>  &#47;**<br>   * æ”¾å…¥æ•°æ®<br>   *<br>   * @param value å€¼ä¿¡æ¯<br>   *&#47;<br>  public boolean push(int value) {<br>    &#47;&#47; æ£€æŸ¥æ˜¯å¦é˜Ÿåˆ—å·²ç»æ»¡,å³å½“ä¸‹ä¸€ä¸ªå­˜å‚¨çš„å€¼ä¸ºé“èŠ‚ç‚¹ï¼Œå³ä¸ºé˜Ÿåˆ—å·²ç»æ»¡äº†<br>    if ((tail.get() + 1) % capacity == head.get()) {<br>      return false;<br>    }<br><br>    int tailValue = tail.get();<br>    int updValue = (tailValue + 1) % capacity;<br><br>    if (tail.compareAndSet(tailValue, updValue)) {<br>      this.data[tailValue] = value;<br>      return true;<br>    }<br><br>    return false;<br>  }<br><br>  &#47;**<br>   * ä»å¾ªç¯é˜Ÿåˆ—ä¸­è·å–æ•°æ®<br>   *<br>   * @return ç»“æœå€¼<br>   *&#47;<br>  public int pop() {<br>    &#47;&#47; é¦–å…ˆæ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º<br>    if (tail.get() == head.get()) {<br>      return -1;<br>    }<br><br>    int popBefore = head.get();<br>    int popAfter = (popBefore + 1) % capacity;<br><br>    if (head.compareAndSet(popBefore, popAfter)) {<br>      int value = this.data[popBefore];<br>      return value;<br>    }<br><br>    return -1;<br>  }<br>}<br><br>","like_count":0},{"had_liked":false,"id":35212,"user_name":"Grit","can_delete":false,"product_type":"c1","uid":1026524,"ip_address":"","ucode":"509CB733D6DA56","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a9/dc/e02990c3.jpg","comment_is_top":false,"comment_ctime":1540461556,"is_pvip":false,"replies":[{"id":"12571","content":"ä¸¤ç§å†™æ³•ä¸€æ ·<br>ç¬¬äºŒä¸ªé—®é¢˜æ²¡çœ‹å‡ºæœ‰å•¥æ¯›ç—…å•Š","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1540516013,"ip_address":"","comment_id":35212,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1540461556","product_id":100017301,"comment_content":" ä¸ºå•¥æ˜¯++tail;ä¸æ˜¯tail++,<br>æ•°æ®æ¬ç§»é‚£å—ä»£ç å’Œå›¾ä¸­çš„æ•°æ®ä»£å…¥å¯¹ä¸ä¸Šå•Ši=head=3;i&lt;8;++i;items[i-head]=items[1] æŠŠä¸‹æ ‡ä¸º4çš„å…ƒç´ æ”¾åˆ°äº†ä¸‹æ ‡ä¸º1çš„ä½ç½®ï¼Ÿ<br>æ±‚è§£","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427479,"discussion_content":"ä¸¤ç§å†™æ³•ä¸€æ ·\nç¬¬äºŒä¸ªé—®é¢˜æ²¡çœ‹å‡ºæœ‰å•¥æ¯›ç—…å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1540516013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":35201,"user_name":"ForzaJuve","can_delete":false,"product_type":"c1","uid":1047302,"ip_address":"","ucode":"E090D83AE78EE6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fb/06/0e6b6365.jpg","comment_is_top":false,"comment_ctime":1540458254,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1540458254","product_id":100017301,"comment_content":"é˜Ÿåˆ—å°±åƒæˆ‘ä»¬å®é™…ç”Ÿæ´»ä¸­çš„æ’é˜Ÿä¹°ç¥¨çš„é˜Ÿåˆ—åœºæ™¯ä¸€æ ·ï¼Œæœ€é‡è¦çš„ç‰¹ç‚¹å°±æ˜¯å…ˆè¿›å…ˆå‡º<br>è·Ÿæ ˆä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ç§æ“ä½œå—é™çš„çº¿æ€§è¡¨æ•°æ®ç»“æ„ã€‚<br><br>é˜Ÿåˆ—ç”¨æ•°ç»„å’Œé“¾è¡¨çš„ä¸¤ç§å®ç°æ–¹å¼<br>å¾ªç¯é˜Ÿåˆ—çš„ä»‹ç»ä»¥åŠå®ç°ï¼Œå¾ªç¯é˜Ÿåˆ—å¯é¿å…æ•°æ®æ¬ç§»ï¼Œå½“é˜Ÿæ»¡æ—¶ï¼Œ(tail+1)%n=head<br>é˜»å¡é˜Ÿåˆ—å¯ä»¥è½»æ¾å®ç°ä¸€ä¸ªç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹<br>å¤§éƒ¨åˆ†èµ„æºæœ‰é™çš„åœºæ™¯ï¼Œå½“æ²¡æœ‰ç©ºé—²èµ„æºçš„æ—¶å€™ï¼ŒåŸºæœ¬éƒ½å¯ä»¥ç”¨é˜Ÿåˆ—æ¥å®ç°ï¼Œæ¯”å¦‚çº¿ç¨‹æ± è¯·æ±‚æ’é˜Ÿ<br>åœ¨ç›´æ’­è½¯ä»¶ä¸­é€ç¤¼ç‰©çš„åœºæ™¯å°±æ˜¯ä¸€ä¸ªé˜Ÿåˆ—çš„åœºæ™¯ï¼Œå…ˆé€çš„ç¤¼ç‰©å…ˆæ’­æ”¾ï¼Œåªæœ‰ä¸¤ä¸ªç¤¼ç‰©è½¨é“ï¼Œåé€çš„æ’é˜Ÿç­‰å¾…ã€‚","like_count":0},{"had_liked":false,"id":34634,"user_name":"ç‹ä¼Ÿzzz","can_delete":false,"product_type":"c1","uid":1023443,"ip_address":"","ucode":"F2BADC0EA6CD6A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9d/d3/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1540226964,"is_pvip":false,"replies":[{"id":"12314","content":"ä¸æ‡‚php å‘¼å”¤å…¶ä»–å°ä¼™ä¼´å›ç­”","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1540255361,"ip_address":"","comment_id":34634,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1540226964","product_id":100017301,"comment_content":"è¯·æ•™ phpçš„function æ–¹æ³•å¯ä»¥åŠ æ–¹æ³•é”å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427277,"discussion_content":"ä¸æ‡‚php å‘¼å”¤å…¶ä»–å°ä¼™ä¼´å›ç­”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1540255361,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":34255,"user_name":"æé–å³°","can_delete":false,"product_type":"c1","uid":1139247,"ip_address":"","ucode":"AA4DE3E91A1FFA","user_header":"https://static001.geekbang.org/account/avatar/00/11/62/2f/6fe8ee9e.jpg","comment_is_top":false,"comment_ctime":1540048772,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1540048772","product_id":100017301,"comment_content":"golangçš„channelå°±æ˜¯é˜»å¡+å¹¶å‘é˜Ÿåˆ—","like_count":0},{"had_liked":false,"id":34040,"user_name":"kakasi","can_delete":false,"product_type":"c1","uid":1237297,"ip_address":"","ucode":"64F357E6A08CA5","user_header":"https://static001.geekbang.org/account/avatar/00/12/e1/31/eb103bdc.jpg","comment_is_top":false,"comment_ctime":1539961726,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539961726","product_id":100017301,"comment_content":"é˜Ÿåˆ—: å®ç°æ–¹å¼æœ‰æ•°ç»„ï¼ˆé¡ºåºé˜Ÿåˆ—ï¼‰ã€é“¾è¡¨ï¼ˆé“¾å¼é˜Ÿåˆ—ï¼‰ã€‚<br><br>é¡ºåºé˜Ÿåˆ—æ¶‰åŠåˆ°æ•°æ®ç§»ä½æ“ä½œï¼Œå½“å…¥é˜Ÿåˆ°æœ€åä¸€ä½æ—¶å†è¿›è¡Œç§»æ•°æ®ï¼Œæ—¶é—´å¤æ‚åº¦å‡æ‘Šååªæœ‰o1äº†ã€‚å¾ªç¯é˜Ÿåˆ—æ›´å¥½ï¼Œæ ¹æœ¬ä¸ç”¨ç§»ä½ã€‚<br>é“¾å¼é˜Ÿåˆ—æ˜¯æ— é™é˜Ÿåˆ—ï¼Œä½†å…¶å®ä¸é€‚åˆå“åº”æ—¶é—´è¾ƒä½çš„ç¨‹åºã€‚<br><br>é™¤æ­¤ä¹‹å¤–è¿˜æœ‰é˜»å¡é˜Ÿåˆ—ï¼Œçº¿ç¨‹æ± å°±æ˜¯å½“çº¿ç¨‹æ²¡æœ‰ç©ºé—²æ—¶ï¼Œåˆ©ç”¨é˜»å¡é˜Ÿåˆ—æ’é˜Ÿç­‰å¾…çš„è¯·æ±‚ã€‚è¿™ä¸ªåœ¨è¯·æ±‚æ¡†æ¶ä¸­çœŸçš„ç”¨çš„å¾ˆå¤šã€‚è¿˜æœ‰å°±æ˜¯å¹¶å‘é˜Ÿåˆ—ï¼Œè¿™ä¸ªä¼šæ¶‰åŠåˆ° ç”Ÿäº§-æ¶ˆè´¹ æ¨¡å‹ï¼Œå¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹å»å–é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œä½†æ˜¯éœ€è¦é”æ¥æ§åˆ¶ï¼Œè¿™ä¸ªåˆæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æŠ€æœ¯æ–¹å‘ã€‚<br><br>ç»†ç»†æƒ³æ¥ï¼Œé˜Ÿåˆ—åœ¨åº•å±‚ç”¨çš„çœŸä¸å°‘ï¼ŒHandleré‡Œå°±æœ‰ç”¨æ¶ˆæ¯é˜Ÿåˆ—ã€‚","like_count":0},{"had_liked":false,"id":33774,"user_name":"qinggeouye","can_delete":false,"product_type":"c1","uid":1251536,"ip_address":"","ucode":"5B53EEDD7BEC9C","user_header":"https://static001.geekbang.org/account/avatar/00/13/18/d0/49b06424.jpg","comment_is_top":false,"comment_ctime":1539878508,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539878508","product_id":100017301,"comment_content":"Mark ä¸€ä¸‹ï¼Œå­¦ä¹ å®Œæ¯•ã€‚å…³äºæœ€åçš„ä¸¤ä¸ªæ€è€ƒé¢˜ï¼Œçœ‹äº†åŒå­¦ä»¬çš„å‘è¨€ï¼ŒçŸ¥é“äº†é˜Ÿåˆ—åº”ç”¨åœºæ™¯è¿˜æœ‰å¦‚ åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ã€Redisæ¶ˆæ¯é˜Ÿåˆ—ç­‰ï¼Œæ— é”å¹¶å‘é˜Ÿåˆ—è¿˜å¯ä»¥åˆ©ç”¨ CAS åŸå­æ“ä½œæ¥å®ç°ã€‚ã€‚","like_count":0},{"had_liked":false,"id":33562,"user_name":"weineel","can_delete":false,"product_type":"c1","uid":1049741,"ip_address":"","ucode":"6DC6EF4F256A53","user_header":"https://static001.geekbang.org/account/avatar/00/10/04/8d/005c2ff3.jpg","comment_is_top":false,"comment_ctime":1539825858,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"1539825858","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—çš„é˜Ÿæ»¡çš„åˆ¤æ–­å¯ä»¥ç†è§£ä¸ºï¼Œtailçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯ä¸æ˜¯headã€‚tailçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯(tail + 1) % nã€‚","like_count":0},{"had_liked":false,"id":33468,"user_name":"å¤§åè›‹","can_delete":false,"product_type":"c1","uid":1240376,"ip_address":"","ucode":"E5728F85273D14","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/38/217ecccb.jpg","comment_is_top":false,"comment_ctime":1539789437,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539789437","product_id":100017301,"comment_content":"å…¥é˜Ÿæ“ä½œæœ€å¥½æ—¶é—´å¤æ‚åº¦O(1)ï¼Œæœ€åæ—¶é—´å¤æ‚åº¦O(n)ï¼Œæœ€åæƒ…å†µï¼Œç´§æ¥ç€æœ‰kæ¬¡O(1)æ—¶é—´å¤æ‚åº¦çš„æ•°æ®æ¬ç§»æ“ä½œï¼Œå‡æ‘Šæ—¶é—´å¤æ‚åº¦O(1).<br>å¸Œæœ›è€å¸ˆç­”ç–‘ï¼Œè°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":32780,"user_name":"è¯ºæœ¨äºº","can_delete":false,"product_type":"c1","uid":1057640,"ip_address":"","ucode":"3962DDB413B644","user_header":"https://static001.geekbang.org/account/avatar/00/10/23/68/6099a0f1.jpg","comment_is_top":false,"comment_ctime":1539696483,"is_pvip":false,"replies":[{"id":"11937","content":"é‚£åº”è¯¥æ˜¯å‡ ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539701371,"ip_address":"","comment_id":32780,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539696483","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—ä¸­  ï¼ˆ3+1ï¼‰% 8 = 4 è¿™ä¸ªè®¡ç®—æ˜¯æ±‚ä½™å§ï¼Ÿåº”è¯¥ä¸æ˜¯4å“ˆ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426891,"discussion_content":"é‚£åº”è¯¥æ˜¯å‡ ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539701371,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":32681,"user_name":"æ—","can_delete":false,"product_type":"c1","uid":1079783,"ip_address":"","ucode":"BFB14F03283C70","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKY0SBAOch2S7wadCRFKTT5fBtXCvsa46svoTj2MWoQ9YRrujZuq4wEHjS9dCEzPcrWHNSYgUkNVw/0","comment_is_top":false,"comment_ctime":1539662153,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539662153","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—çš„ä»£ç å†™çš„å¤ªå¸…äº†","like_count":0},{"had_liked":false,"id":32640,"user_name":"è¡Œèµ°ç€çš„å®‹å…¬å­","can_delete":false,"product_type":"c1","uid":1002416,"ip_address":"","ucode":"3FA47B1580A327","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4b/b0/2ae78627.jpg","comment_is_top":false,"comment_ctime":1539655455,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539655455","product_id":100017301,"comment_content":"React ä¸­setStateæ˜¯é˜Ÿåˆ—","like_count":0},{"had_liked":false,"id":32629,"user_name":"å¼ ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1155275,"ip_address":"","ucode":"3A6215A40B3B21","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","comment_is_top":false,"comment_ctime":1539652170,"is_pvip":false,"replies":[{"id":"11948","content":"ç§»åŠ¨æŒ‡é’ˆå°±å¤Ÿäº† æ²¡å¿…è¦æ˜¾ç¤ºçš„åˆ é™¤å•Š","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539703259,"ip_address":"","comment_id":32629,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539652170","product_id":100017301,"comment_content":"a,b,c,då…¥é˜Ÿï¼Œç„¶åaï¼Œbå‡ºé˜Ÿï¼Œå®é™…ä¸Ša,bä»ç„¶åœ¨æ•°ç»„ä¸­å§ï¼Ÿ  åªæ˜¯æŒ‡é’ˆå³ç§»äº†ï¼Œç¬¬äºŒå¼ å›¾æ˜¯ä¸æ˜¯ä¸æ°å½“ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426843,"discussion_content":"ç§»åŠ¨æŒ‡é’ˆå°±å¤Ÿäº† æ²¡å¿…è¦æ˜¾ç¤ºçš„åˆ é™¤å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539703259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":32609,"user_name":"å¤§é±¼","can_delete":false,"product_type":"c1","uid":1063966,"ip_address":"","ucode":"56DFE1B066A32C","user_header":"https://static001.geekbang.org/account/avatar/00/10/3c/1e/f0434e80.jpg","comment_is_top":false,"comment_ctime":1539642446,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539642446","product_id":100017301,"comment_content":"ç¯å½¢é˜Ÿåˆ—å¦‚æœå…ƒç´ çš„ä¸ªæ•°æ˜¯2çš„å€æ•°,è®¡ç®—å¯ç”¨é•¿åº¦çš„é«˜æ•ˆç®—æ³•æ˜¯ ((cb-&gt;iWrite - cb-&gt;iRead) &amp; (cb-&gt;iSize - 1));<br>ä¸‹é¢æ˜¯æˆ‘åŸºäºcçš„å®ç°<br>ringb.h<br>```c<br>#ifndef _RINGB_H  <br>#define _RINGB_H  <br>#include &quot;project.h&quot;<br><br> typedef struct {<br>     uint8_t  *buf;<br>     uint8_t  iSize;<br>     uint8_t  iRead;<br>     uint8_t  iWrite;<br> } ringbf_t;<br> <br> uint8_t bfLength(ringbf_t *cb);<br> uint8_t bfRead(ringbf_t *cb, uint8_t *ch);<br> uint8_t bfWrite(ringbf_t *cb, uint8_t c);<br> void bfInit(ringbf_t *cb, uint8_t *pool, uint8_t iSize);<br>#endif &#47;* _RINGB_H *&#47; <br>```<br>``` c<br>#include &quot;ringb.h&quot;<br>#include &quot;assert.h&quot;<br><br>uint8_t bfLength(ringbf_t* cb)<br>{<br>    return ((cb-&gt;iWrite - cb-&gt;iRead) &amp; (cb-&gt;iSize - 1));<br>}<br><br>uint8_t bfWrite(ringbf_t* cb, uint8_t c)<br>{<br>    if (bfLength(cb) == (cb-&gt;iSize - 1)) {<br>        return false;<br>    }<br><br>    cb-&gt;buf[cb-&gt;iWrite] = c;<br>    cb-&gt;iWrite = (cb-&gt;iWrite + 1) &amp; (cb-&gt;iSize - 1);<br>    return true;<br>}<br><br>uint8_t bfRead(ringbf_t* cb, uint8_t* ch)<br>{<br>    if (bfLength(cb) == 0) {<br>        return false;<br>    }<br>    * ch = cb-&gt;buf[cb-&gt;iRead];<br>    cb-&gt;iRead = (cb-&gt;iRead + 1) &amp; (cb-&gt;iSize - 1);<br>    <br>    return true;<br>}<br><br>void bfInit(ringbf_t* cb, uint8_t* pool, uint8_t iSize)<br>{<br>    assert((iSize &gt; 1) &amp;&amp; (0 == (iSize &amp; (iSize - 1))));<br>    cb-&gt;buf = pool;<br>    cb-&gt;iSize = iSize;<br><br>}<br><br>```","like_count":0},{"had_liked":false,"id":32504,"user_name":"é™è§…","can_delete":false,"product_type":"c1","uid":1237102,"ip_address":"","ucode":"1B44469E63DDFD","user_header":"https://static001.geekbang.org/account/avatar/00/12/e0/6e/62719b08.jpg","comment_is_top":false,"comment_ctime":1539593835,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539593835","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—æ»¡çš„åˆ¤æ–­æ¡ä»¶head=(tail+1)%capacityï¼Œåœ¨è¿™ä¸ªifé‡Œé¢å®Œæˆtailè¿™ä¸ªæµªè´¹çš„ç©ºé—´çš„å…¥é˜Ÿæ“ä½œï¼ŒåŒæ—¶è®¾ç½®ä¸€ä¸ªflagè¡¨ç¤ºé˜Ÿæ»¡ï¼Œå†æ¬¡è°ƒç”¨enqueueå…ˆåˆ¤æ–­flagå¦‚æœé˜Ÿåˆ—æ»¡ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œåœ¨dequeueä¸­å‡ºé˜Ÿåä¿®æ”¹flagï¼Œæ„Ÿè§‰è¿™æ ·å¯ä»¥é¿å…ä¸€ä¸ªç©ºé—´çš„æµªè´¹","like_count":0},{"had_liked":false,"id":32378,"user_name":"å’–å•¡çŒ«å£é‡Œçš„å’–å•¡çŒ«ğŸ±","can_delete":false,"product_type":"c1","uid":1036565,"ip_address":"","ucode":"FE2441B3A40375","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d1/15/7d47de48.jpg","comment_is_top":false,"comment_ctime":1539563239,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539563239","product_id":100017301,"comment_content":"ä¸ºä»€ä¹ˆæ•°ç»„å®ç°çš„é˜Ÿåˆ—ä¸èƒ½å¾ªç¯åªè¦æŠŠä¸‹æ ‡indexå¤„ç†å¥½ä¸å°±è¡Œäº†å—ï¼Œä¸ºä»€ä¹ˆarraylistè¿™ç§æ•°ç»„å®ç°æ‰ç”¨systemcopy,ä¸ç†è§£ï¼Œæ„Ÿè§‰æ§åˆ¶å¥½indexå°±è¡Œäº†","like_count":0},{"had_liked":false,"id":32288,"user_name":"liu","can_delete":false,"product_type":"c1","uid":1129567,"ip_address":"","ucode":"DA9F9FBD96A9A0","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/5f/cc30c10c.jpg","comment_is_top":false,"comment_ctime":1539512302,"is_pvip":false,"replies":[{"id":"11742","content":"è‡ªå·±ç™¾åº¦ä¸‹å§ ","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539528016,"ip_address":"","comment_id":32288,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539512302","product_id":100017301,"comment_content":"è€å¸ˆï¼ŒCASæ˜¯ä»€ä¹ˆï¼Ÿä¸å¤ªæ˜ç™½","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426714,"discussion_content":"è‡ªå·±ç™¾åº¦ä¸‹å§ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539528016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":32266,"user_name":"kaoker","can_delete":false,"product_type":"c1","uid":1115225,"ip_address":"","ucode":"499060AE9A4B2C","user_header":"","comment_is_top":false,"comment_ctime":1539506012,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539506012","product_id":100017301,"comment_content":"1.rabbitmq æ¶ˆæ¯é˜Ÿåˆ—<br>2.compare and swap...ä¹è§‚é”ç­–ç•¥,é˜Ÿåˆ—è¿˜è¦å¥½å¥½æƒ³æƒ³","like_count":0},{"had_liked":false,"id":32253,"user_name":"æˆ‘èƒ½èµ°å¤šè¿œ","can_delete":false,"product_type":"c1","uid":1240465,"ip_address":"","ucode":"07DF5D5DADFA3C","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/91/1d332031.jpg","comment_is_top":false,"comment_ctime":1539499759,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539499759","product_id":100017301,"comment_content":"é¡ºåºå¾ªç¯é˜Ÿåˆ—ï¼Œå½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œå›¾ä¸­çš„ tail æŒ‡å‘çš„ä½ç½®å®é™…ä¸Šä¸ä¼šå­˜å‚¨ç©ºé—²...<br>å¯ä»¥å¢åŠ ä¸€ä¸ªå˜é‡numã€‚æŠ¥æ–‡å½“å‰å¾ªç¯é˜Ÿåˆ—å­˜å‚¨çš„æ•°æ®å¤§å°ï¼›å¯ä»¥é€šè¿‡num = 0ï¼›é˜Ÿåˆ—ä¸º0ï¼Œnum= sizeï¼ˆé˜Ÿåˆ—å¤§å°ï¼‰æ—¶ï¼Œé˜Ÿåˆ—æ»¡ï¼›è¿™æ ·å°±ä¸ä¼šæµªè´¹ä¸€ä¸ªç©ºé—´ã€‚å˜é‡numå¯èƒ½å°±å¢åŠ äº†ä¸€ä¸ªç©ºé—´ã€‚","like_count":0},{"had_liked":false,"id":32198,"user_name":"Mr.é’§ğŸ‘»","can_delete":false,"product_type":"c1","uid":1249939,"ip_address":"","ucode":"D781E030E79245","user_header":"https://static001.geekbang.org/account/avatar/00/13/12/93/3470fc43.jpg","comment_is_top":false,"comment_ctime":1539482290,"is_pvip":false,"replies":[{"id":"11749","content":"ä½ è§‰å¾—åº”è¯¥æŒ‡å‘å“ªé‡Œå‘¢ï¼Ÿ3å—ï¼Ÿä¹Ÿå¯ä»¥çš„ï¼Œçœ‹ä½ æ€ä¹ˆå®ç°çš„äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539528461,"ip_address":"","comment_id":32198,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539482290","product_id":100017301,"comment_content":"è¯·é—®ï¼Œä¸ºä»€ä¹ˆå½“æ•°ç»„å®ç°çš„é˜Ÿåˆ—ä¸­æœ‰a b c då››ä¸ªå€¼çš„æ—¶å€™ï¼Œtailæ˜¯æŒ‡å‘ç´¢å¼•ä¸º4çš„ç©ºé—´å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426678,"discussion_content":"ä½ è§‰å¾—åº”è¯¥æŒ‡å‘å“ªé‡Œå‘¢ï¼Ÿ3å—ï¼Ÿä¹Ÿå¯ä»¥çš„ï¼Œçœ‹ä½ æ€ä¹ˆå®ç°çš„äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539528461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":32160,"user_name":"sarahsnow","can_delete":false,"product_type":"c1","uid":1249446,"ip_address":"","ucode":"63D0832C4F75CA","user_header":"https://static001.geekbang.org/account/avatar/00/13/10/a6/564f9143.jpg","comment_is_top":false,"comment_ctime":1539446655,"is_pvip":false,"replies":[{"id":"11758","content":"åæ­£æ˜¯å…¥ä¸äº†é˜Ÿäº† è‡³äºæ˜¯å¦æŠ¥é”™ çœ‹ä½ è‡ªå·±çš„éœ€æ±‚å§","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539528896,"ip_address":"","comment_id":32160,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539446655","product_id":100017301,"comment_content":"ç”¨æ•°ç»„å®ç°é˜Ÿåˆ—æ—¶ï¼Œå¦‚æœé˜Ÿåˆ—æ»¡æ—¶ï¼Œé˜Ÿåˆ—æ€»é•¿ç­‰äºæ•°ç»„é•¿åº¦ï¼Œæ˜¯å¦å…¥é˜Ÿæ“ä½œå°±ä¼šæŠ¥é”™?","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426659,"discussion_content":"åæ­£æ˜¯å…¥ä¸äº†é˜Ÿäº† è‡³äºæ˜¯å¦æŠ¥é”™ çœ‹ä½ è‡ªå·±çš„éœ€æ±‚å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539528896,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":32127,"user_name":"å­¦æ¸£ï¼ï¼ï¼","can_delete":false,"product_type":"c1","uid":1224654,"ip_address":"","ucode":"A224265D9E7CCC","user_header":"https://static001.geekbang.org/account/avatar/00/12/af/ce/d7ae8da9.jpg","comment_is_top":false,"comment_ctime":1539424532,"is_pvip":false,"replies":[{"id":"11763","content":"ä½ è¿™æ ·å­çš„è¯ï¼Œé˜Ÿåˆ—ç©ºå’Œæ»¡çš„åˆ¤æ–­æ¡ä»¶å°±ä¸€æ ·çš„ï¼Œä¸ä¿¡ä½ è‡ªå·±å†™å†™çœ‹","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539529259,"ip_address":"","comment_id":32127,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539424532","product_id":100017301,"comment_content":"public boolean enqueue(String item){<br>    &#47;&#47;é˜Ÿåˆ—æ»¡äº†<br>   if((tail+1)%n == head) return false;<br>   items[tail] = item;<br>   tail = (tail+1)%n;<br>   return true;<br>}<br>è€å¸ˆï¼Œæœ‰ä¸€ç‚¹ä¸å¤ªæ˜ç™½ï¼Œä¸ºä»€ä¹ˆå¾ªç¯é˜Ÿåˆ—çš„æœ€åä¸€ä¸ªç»“ç‚¹ä¸èƒ½å­˜å€¼å‘¢ï¼Ÿ<br>æˆ‘å¯ä»¥å…ˆç»™å®ƒèµ‹å€¼ï¼š items[tail] = item;<br>ç„¶åå†è¿›è¡Œåˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦æ»¡ï¼Œè¿™æ ·æœ€åä¸€ä¸ªç»“ç‚¹æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ä¿å­˜å€¼äº†","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426645,"discussion_content":"ä½ è¿™æ ·å­çš„è¯ï¼Œé˜Ÿåˆ—ç©ºå’Œæ»¡çš„åˆ¤æ–­æ¡ä»¶å°±ä¸€æ ·çš„ï¼Œä¸ä¿¡ä½ è‡ªå·±å†™å†™çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539529259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":32103,"user_name":"ä¹Œé¾™","can_delete":false,"product_type":"c1","uid":1169924,"ip_address":"","ucode":"FD73990DEBA862","user_header":"https://static001.geekbang.org/account/avatar/00/11/da/04/3a83e840.jpg","comment_is_top":false,"comment_ctime":1539416379,"is_pvip":false,"replies":[{"id":"11767","content":"leetcodeä¸Šç»ƒä¹ å§","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539529428,"ip_address":"","comment_id":32103,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539416379","product_id":100017301,"comment_content":"è¯·é—®ï¼Œæ¯èŠ‚è¯¾åï¼Œæ²¡æœ‰ä¹ é¢˜åŠ ä»¥å·©å›ºå—ï¼Ÿè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426635,"discussion_content":"leetcodeä¸Šç»ƒä¹ å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539529428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":32070,"user_name":"Smallfly","can_delete":false,"product_type":"c1","uid":1013841,"ip_address":"","ucode":"D388D5E0249A69","user_header":"https://static001.geekbang.org/account/avatar/00/0f/78/51/4790e13e.jpg","comment_is_top":false,"comment_ctime":1539402019,"is_pvip":false,"replies":[{"id":"11771","content":"ä½ èƒ½å…·ä½“è®²è®²å¦‚ä½•åšåˆ°çš„head = tail = -1å—ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539529884,"ip_address":"","comment_id":32070,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539402019","product_id":100017301,"comment_content":"è€å¸ˆä½ å¥½ï¼ŒLeetCode ä¸Šå¾ªç¯é˜Ÿåˆ—çš„æ•°ç»„å®ç° head = tail = -1 ä»£è¡¨ä¸ºç©ºï¼Œé˜Ÿåˆ—æ»¡çš„æ—¶æœ€åä¸€ä¸ªä¹Ÿå¯ä»¥å­˜æ•°æ®ã€‚ä½†æ˜¯æ–‡ä¸­çš„å¾ªç¯é˜Ÿåˆ—æœ€åä¸€ä¸ªä½ç½®ä¸èƒ½å­˜æ•°æ®ï¼Œå“ªç§å®ç°æ›´åŠ â€œå®˜æ–¹â€å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426625,"discussion_content":"ä½ èƒ½å…·ä½“è®²è®²å¦‚ä½•åšåˆ°çš„head = tail = -1å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539529884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":32062,"user_name":"é»‘boy","can_delete":false,"product_type":"c1","uid":1109144,"ip_address":"","ucode":"9CD3C498A6E1D0","user_header":"https://static001.geekbang.org/account/avatar/00/10/ec/98/e8ebdec7.jpg","comment_is_top":false,"comment_ctime":1539399765,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539399765","product_id":100017301,"comment_content":"1. æœ€è¿‘åœ¨å†™ä¸€ä¸ªä»»åŠ¡è°ƒåº¦moduleï¼Œmain submit åˆ°message queueï¼Œå„ä¸ªworkerä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ¶ˆè´¹æ•°æ®ã€‚<br>2. casï¼Œå…¥é˜Ÿåˆ—æ—¶casåˆ¤æ–­ tail æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœæ²¡æœ‰å‘ç”Ÿå˜åŒ–åˆ™å…¥é˜Ÿåˆ—ï¼Œå‡ºé˜Ÿåˆ—æ—¶ï¼Œåˆ¤æ–­å¯¹è±¡æ¢æˆheadã€‚","like_count":0},{"had_liked":false,"id":32051,"user_name":"è‚–å°å¼º","can_delete":false,"product_type":"c1","uid":1245065,"ip_address":"","ucode":"A929A8D1DAD3C4","user_header":"https://static001.geekbang.org/account/avatar/00/12/ff/89/32e3f682.jpg","comment_is_top":false,"comment_ctime":1539395819,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539395819","product_id":100017301,"comment_content":"è€å¸ˆï¼Œæ”¹é€ çš„å…¥é˜Ÿå‡½æ•°enqueue()ï¼Œåªçœ‹é‚£ä¸ªforå¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦ä¸åº”è¯¥ä¹Ÿæ˜¯O(n)å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":32030,"user_name":"A_é˜¿æµ·","can_delete":false,"product_type":"c1","uid":1239200,"ip_address":"","ucode":"5594C992D7E6E9","user_header":"https://static001.geekbang.org/account/avatar/00/12/e8/a0/c2daafdb.jpg","comment_is_top":false,"comment_ctime":1539393680,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539393680","product_id":100017301,"comment_content":"è€å¸ˆåœ¨è®²è§£æ¯ä¸ªæ•°æ®ç»“æ„çš„æ—¶å€™ç”¨å®é™…æƒ…å†µæ‰©å±•å»¶ä¼¸çš„æ–¹å¼å¾ˆå¥½ï¼Œå¯¹é˜Ÿåˆ—ï¼Œçº¿ç¨‹æ± çš„ç†è§£åˆåŠ å¼ºäº†ä¸€åˆ†ï¼Œè€Œä¸åªæ˜¯çº¯ç²¹è®²é˜Ÿåˆ—è¿™ä¸ªæ¦‚å¿µã€‚","like_count":0},{"had_liked":false,"id":31938,"user_name":"å‹¤åŠ³çš„å°èƒ–å­-libo","can_delete":false,"product_type":"c1","uid":1158344,"ip_address":"","ucode":"5BB20CD5A56568","user_header":"https://static001.geekbang.org/account/avatar/00/11/ac/c8/4b1c0d40.jpg","comment_is_top":false,"comment_ctime":1539334637,"is_pvip":false,"replies":[{"id":"11610","content":"å¹¶å‘é˜Ÿåˆ—çš„å®ç°æ–¹å¼å¾ˆå¤šï¼Œä½ è¯´çš„ä¿¡å·é‡ç®—æ˜¯ä¸€ç§","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539403477,"ip_address":"","comment_id":31938,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539334637","product_id":100017301,"comment_content":"åœ¨è®¡ç®—æœºæ˜¾å¡é©±åŠ¨ä¸­ä¹Ÿä½¿ç”¨åˆ°äº†é˜Ÿåˆ—ï¼Œæ˜¯å¾ªç¯é˜Ÿåˆ—ï¼Œä¸Šå±‚æŠŠGPU cmdä¼ å…¥åˆ°ring buffer,æ˜¾å¡ä¼šä»è¿™æ®µåœ°å€è¯»å–å¹¶è¿è¡Œçš„ã€‚<br>è‡³äºå¹¶å‘é˜Ÿåˆ—ï¼Œå®ƒçš„å®ç°æ˜¯åŸºäºåº•å±‚çš„mutex semaphore å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426572,"discussion_content":"å¹¶å‘é˜Ÿåˆ—çš„å®ç°æ–¹å¼å¾ˆå¤šï¼Œä½ è¯´çš„ä¿¡å·é‡ç®—æ˜¯ä¸€ç§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539403477,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31907,"user_name":"æ¨æ™ºæ™“ âœŸ","can_delete":false,"product_type":"c1","uid":1024263,"ip_address":"","ucode":"E3B56F4A38F63D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a1/07/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1539327275,"is_pvip":false,"replies":[{"id":"11602","content":"çœ‹èµ·æ¥æ²¡é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539402459,"ip_address":"","comment_id":31907,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539327275","product_id":100017301,"comment_content":"è¿™æ ·å†™å¾ªç¯é˜Ÿåˆ—æœ‰é—®é¢˜å—ï¼Ÿä¸çŸ¥é“ä¼šä¸ä¼šæœ‰ä¸¥é‡bug<br>public class MyQueue {<br><br>    private String[] items;<br><br>    private int head = 0;<br>    private int tail = 0;<br>    private int size = 0;<br>    private int n = 8;<br><br>    public MyQueue(int capacity) {<br>        n = capacity;<br>        items = new String[n];<br>    }<br><br>    public boolean enqueue(String item) {<br>        &#47;&#47; é˜Ÿæ»¡<br>        if (size == n) {<br>            return false;<br>        }<br>        items[tail] = item;<br>        tail = (tail + 1) % n;<br>        size++;<br>        return true;<br>    }<br><br>    public String dequeue() {<br>        &#47;&#47; é˜Ÿç©º<br>        if (size == 0) {<br>            return null;<br>        }<br>        String item = items[head];<br>        items[head] = null;<br>        head = (head + 1) % n;<br>        size--;<br>        return item;<br>    }<br>}<br>","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426558,"discussion_content":"çœ‹èµ·æ¥æ²¡é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539402459,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31901,"user_name":"å±±é‡åˆæ°‘","can_delete":false,"product_type":"c1","uid":1191795,"ip_address":"","ucode":"3371E25F6AEFBC","user_header":"https://static001.geekbang.org/account/avatar/00/12/2f/73/00a56a7d.jpg","comment_is_top":false,"comment_ctime":1539325780,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539325780","product_id":100017301,"comment_content":"è®°å½•ä¸‹ï¼Œæ•°ç»„ç±»å‹çš„å¾ªç¯é˜Ÿåˆ—ï¼š<br>æ•°ç»„é•¿åº¦ï¼šnï¼Œ<br>å‡ºé˜Ÿæ“ä½œï¼ˆè®°å½•æ¬¡æ•°ï¼‰ï¼šiHeadï¼Œ<br>å…¥é˜Ÿæ“ä½œï¼ˆåŒä¸Šï¼‰ï¼šiTailï¼Œ<br>å‡ºé˜Ÿä½ç½®ï¼šhead=iHead%nï¼Œ<br>å…¥é˜Ÿä½ç½®ï¼štail=iTail%nï¼Œ<br>å¯¹ç©ºï¼šiHead==iTailï¼Œ<br>é˜Ÿæ»¡ï¼šiTail-iHead==nï¼Œ<br>å…¥é˜Ÿæ—¶ï¼Œå…ˆè¦åˆ¤æ–­æ˜¯å¦é˜Ÿæ»¡ï¼Œ0&lt;iTail-iHead&lt;næ˜¯æ­£å¸¸ï¼Œtailä½ç½®èµ‹å€¼ï¼ŒiTail++ï¼Œ<br>å‡ºé˜Ÿæ—¶ï¼Œå…ˆè¦åˆ¤æ–­æ˜¯å¦é˜Ÿç©ºï¼ŒiHead&lt;iTailæ˜¯æ­£å¸¸ï¼Œheadä½ç½®å‡ºé˜Ÿï¼ŒiHead++ï¼Œ<br>å¦‚æœiHead,iTailè¿‡å¤§ï¼Œå¯ä»¥åœ¨æ¯æ¬¡iHead==næ—¶é‡æ–°é‡ç½®ä¸‹ï¼Œå°†tailèµ‹å€¼ç»™iTailï¼Œheadèµ‹å€¼ç»™iHeadï¼Œä¹Ÿå¯ä»¥éƒ½å‡né“ç†ä¸€æ ·ï¼Œæ²¡æœ‰å˜é‡å­˜headå’Œtailç”¨å‡æ›´å¥½<br>è¿™æ ·çš„æ€è·¯è¯åº”è¯¥å¯ä»¥ä¸ç”¨æµªè´¹ä¸€ä¸ªä½ç½®å§","like_count":0},{"had_liked":false,"id":31900,"user_name":"æ¨æ™ºæ™“ âœŸ","can_delete":false,"product_type":"c1","uid":1024263,"ip_address":"","ucode":"E3B56F4A38F63D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a1/07/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1539325655,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539325655","product_id":100017301,"comment_content":"æˆ‘åœ¨æƒ³ï¼Œå¯ä¸å¯ä»¥è¿™æ ·ï¼Œnæ˜¯æ€»æ•°ï¼Œsizeæ˜¯å½“å‰æ•°é‡ï¼Œæ¯æ¬¡enqueueå°±size+1ï¼Œdequeueå°±size--ï¼Œç”¨size==0æ¥åˆ¤æ–­é˜Ÿç©ºï¼Œsize==næ¥åˆ¤æ–­é˜Ÿæ»¡ï¼Œå…¶ä»–ä¸å˜ï¼Œè¿™æ ·å¯è¡Œå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":31869,"user_name":"hâ€¦","can_delete":false,"product_type":"c1","uid":1052539,"ip_address":"","ucode":"E713F11CBA6AB0","user_header":"https://static001.geekbang.org/account/avatar/00/10/0f/7b/7c043069.jpg","comment_is_top":false,"comment_ctime":1539315978,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539315978","product_id":100017301,"comment_content":"å‘ç°è¯„è®ºåŒºå¾ˆå¤šå¤§ç¥ï¼Œçœ‹çœ‹å¾ˆæœ‰ä»·å€¼ï¼Œå“ˆå“ˆ","like_count":0},{"had_liked":false,"id":31843,"user_name":"Mollmy","can_delete":false,"product_type":"c1","uid":1240282,"ip_address":"","ucode":"8FB950A8B2C804","user_header":"https://static001.geekbang.org/account/avatar/00/12/ec/da/903dc59d.jpg","comment_is_top":false,"comment_ctime":1539310249,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539310249","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—åˆå§‹headå’Œtailè®¾ä¸º-1ï¼Œåœ¨å‡ºé˜Ÿçš„æ—¶å€™ä¼šå¯¼è‡´ç©ºï¼Œæ‰€ä»¥å‡ºé˜Ÿååˆ¤æ–­ä¸€ä¸‹ï¼Œç©ºåˆ™å°†headå’Œtailéƒ½è®¾ä¸º-1ï¼Œå…¥é˜Ÿçš„æ—¶å€™åˆ¤æ–­ä¸‹headä¸º-1çš„è¯å°±è®¾ä¸º0ï¼Œè¿™æ ·å¾ªç¯é˜Ÿåˆ—å°±æ”¾æ»¡äº†","like_count":0},{"had_liked":false,"id":31720,"user_name":"SunshlnW","can_delete":false,"product_type":"c1","uid":1211252,"ip_address":"","ucode":"7B82BBC5F30633","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/74/63563202.jpg","comment_is_top":false,"comment_ctime":1539270248,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539270248","product_id":100017301,"comment_content":"å…³äºå¹¶å‘é˜Ÿåˆ—çš„æ— ç•Œéé˜»å¡é˜Ÿåˆ—ã€‚","like_count":0},{"had_liked":false,"id":31692,"user_name":"ç½—çˆ±å†›","can_delete":false,"product_type":"c1","uid":1114611,"ip_address":"","ucode":"62D5529DDDA8DC","user_header":"https://static001.geekbang.org/account/avatar/00/11/01/f3/233f1287.jpg","comment_is_top":false,"comment_ctime":1539266155,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539266155","product_id":100017301,"comment_content":"å¯¹äºè€å¸ˆè¯´çš„æ•°ç»„é˜Ÿåˆ—æ»¡çš„æ—¶å€™å…¥é˜Ÿæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ï¼Œæˆ‘è®¤ä¸ºæ˜¯Oï¼ˆnï¼‰ï¼Œæ¯”å¦‚é˜Ÿåˆ—é•¿åº¦å®šä¹‰ä¸ºnï¼Œå¦‚æœæ¯æ¬¡å‡ºé˜Ÿmä¸ªå•ä½ï¼Œé‚£ä¹ˆæ²¡mä¸ªæ’å…¥å°±éœ€è¦è¿›è¡Œä¸€æ¬¡æ•°æ®çš„æ¬ç§»ï¼Œmçš„å–å€¼èŒƒå›´ä¸ºï¼ˆ1ï½nï¼‰ï¼ŒæŒ‰ç…§æ¦‚ç‡æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆn&#47;2ï¼‰ï¼Œä¹Ÿå°±æ˜¯Oï¼ˆnï¼‰","like_count":0},{"had_liked":false,"id":31689,"user_name":"å¼ é£online","can_delete":false,"product_type":"c1","uid":1249136,"ip_address":"","ucode":"C9787E4B35888C","user_header":"https://static001.geekbang.org/account/avatar/00/13/0f/70/759b1567.jpg","comment_is_top":false,"comment_ctime":1539265256,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539265256","product_id":100017301,"comment_content":"å¯¹äºç¯å½¢é˜Ÿåˆ—ï¼ŒåŠ 1åç›¸ç­‰æˆ‘ä»¬è®¤ä¸ºé˜Ÿåˆ—ä¸ºæ…¢ï¼Œé‚£æ˜¯å¦å¯ä»¥æˆ‘ä»¬ç”¨ä¿©ä¸ªçº¿ç¨‹å»æ“ä½œè¿™ä¸ªé˜Ÿåˆ—ï¼Œä¸€ä¸ªå…¥é˜Ÿï¼Œä¸€ä¸ªå‡ºé˜Ÿï¼Œæ˜¯å¦æ˜¯çº¿ç¨‹å®‰å…¨çš„","like_count":0},{"had_liked":false,"id":31688,"user_name":"Liam","can_delete":false,"product_type":"c1","uid":1241346,"ip_address":"","ucode":"B8E39F3E61A36E","user_header":"https://static001.geekbang.org/account/avatar/00/12/f1/02/862b6faa.jpg","comment_is_top":false,"comment_ctime":1539265009,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539265009","product_id":100017301,"comment_content":"ä»£ç å»ºè®®ç›´æ¥åˆ° GitHub ä¸Šäº¤æµã€‚ç•™è¨€åŒºæ²¡æœ‰ä»£ç é«˜äº®å’Œç¼©è¿›ï¼Œçœ‹ä»£ç ççœ¼â€¦â€¦","like_count":0},{"had_liked":false,"id":31654,"user_name":"ç‰µæ‰‹çº¦å®š","can_delete":false,"product_type":"c1","uid":1249461,"ip_address":"","ucode":"01AF328FDDD38C","user_header":"https://static001.geekbang.org/account/avatar/00/13/10/b5/0813608c.jpg","comment_is_top":false,"comment_ctime":1539254650,"is_pvip":false,"replies":[{"id":"11405","content":"Androidæˆ‘ä¸æ€ä¹ˆäº†è§£ ä¸å¥½æ„æ€ å¯èƒ½å¸®ä¸åˆ°ä½ ","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539268651,"ip_address":"","comment_id":31654,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539254650","product_id":100017301,"comment_content":"Androidçš„handleræœºåˆ¶æ˜¯å—","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426451,"discussion_content":"Androidæˆ‘ä¸æ€ä¹ˆäº†è§£ ä¸å¥½æ„æ€ å¯èƒ½å¸®ä¸åˆ°ä½ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539268651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31618,"user_name":"å®‰é™çš„boy","can_delete":false,"product_type":"c1","uid":1196475,"ip_address":"","ucode":"F5F44B75228A85","user_header":"https://static001.geekbang.org/account/avatar/00/12/41/bb/21ce60d2.jpg","comment_is_top":false,"comment_ctime":1539246658,"is_pvip":false,"replies":[{"id":"11377","content":"åˆ¤æ–­æ¡ä»¶ä¸ä¸€æ ·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539255823,"ip_address":"","comment_id":31618,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539246658","product_id":100017301,"comment_content":"å…³äºå¾ªç¯é˜Ÿåˆ—æˆ‘æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå½“é˜Ÿæ»¡çš„æ—¶å€™ï¼ŒtailæŒ‡å‘çš„ä½ç½®å…¶å®æ˜¯æ²¡æœ‰å…ƒç´ çš„ï¼Œè¿˜å¯ä»¥å†æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚ä¸ºä»€ä¹ˆæ­¤æ—¶å°±æ˜¯é˜Ÿæ»¡äº†å‘¢ï¼Ÿåœ¨é¡ºåºé˜Ÿåˆ—ä¸­ï¼Œæˆ‘çœ‹æ‚¨åˆ¤æ–­é˜Ÿæ»¡çš„æ¡ä»¶å°±æ˜¯tail == nï¼Œæ­¤æ—¶æ•°ç»„ä¸­å·²ç»è¢«å¡«æ»¡äº†å…ƒç´ ã€‚","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426431,"discussion_content":"åˆ¤æ–­æ¡ä»¶ä¸ä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539255823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31572,"user_name":"ä¸¨è½ç¬å°è«","can_delete":false,"product_type":"c1","uid":1180850,"ip_address":"","ucode":"0BF6AC6DF24F6B","user_header":"https://static001.geekbang.org/account/avatar/00/12/04/b2/002398d6.jpg","comment_is_top":false,"comment_ctime":1539234095,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539234095","product_id":100017301,"comment_content":"RE:å‡­å®åŠ›å†™bug<br><br>æ—¶é—´å¤æ‚åº¦ä¸èƒ½ç®€å•çš„çœ‹ï¼Œä½†æ˜¯å‡æ‘Šå¤æ‚åº¦æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œç®€å•çš„ç”¨ ArrayList ä¸¾ä¾‹å­å§<br>ArrayList çš„ add() æ–¹æ³•ï¼Œæœ€åæƒ…å†µä¸‹æ˜¯ O(n),ä¸€èˆ¬æƒ…å†µä¸‹ æ˜¯ O(1),ä½ å³ä¸èƒ½ç®€å•çš„è¯´ä»–æ˜¯ O(n),ä¹Ÿä¸èƒ½ç®€å•çš„è¯´ä»–æ˜¯ O(1), è¿™ä¸ªæ—¶å€™å¼•å…¥å‡æ‘Šå¤æ‚åº¦å°±å¾ˆæœ‰å¿…è¦äº† <br>å‡å¦‚ä½ çš„ list çš„size æ˜¯ 100ï¼Œå½“ä½ æ‰§è¡Œ 49 æ¬¡ add()ï¼Œæ¯æ¬¡æ“ä½œéƒ½æ˜¯ O(1), ç¬¬50æ¬¡éœ€è¦æ‰©å®¹ï¼Œæ‰€ä»¥ç¬¬50æ¬¡çš„æ“ä½œæ˜¯O(n),å‡è®¾ O(1) çš„æ‰§è¡Œæ—¶é—´ä¸º1ç§’ï¼Œé‚£ä½ æ“ä½œ50æ¬¡çš„æ€»æ—¶é—´æ˜¯ 100s, å¹³å‡ä¸€ä¸‹ æ¯æ¬¡æ“ä½œæ˜¯2s,<br>2s æ„å‘³ç€ä½ ç¬¬50æ¬¡æ“ä½œçš„æ—¶é—´å‡æ‘Šç»™æ¯æ¬¡ add() æ–¹æ³•1sï¼Œæ‰€ä»¥å‡æ‘Šä¸‹æ¥è¿˜æ˜¯ä¸€ä¸ªå¸¸æ•°çº§çš„æ“ä½œï¼Œè€Œä¸èƒ½è¯´ add() æ–¹æ³•æ˜¯ O(n) çº§åˆ«çš„","like_count":0},{"had_liked":false,"id":31562,"user_name":"Dwyane","can_delete":false,"product_type":"c1","uid":1110081,"ip_address":"","ucode":"FD5B9DF96A5BDB","user_header":"https://static001.geekbang.org/account/avatar/00/10/f0/41/f6153c7a.jpg","comment_is_top":false,"comment_ctime":1539229427,"is_pvip":false,"replies":[{"id":"11385","content":"æˆ‘è§‰å¾—è¦åè¿‡æ¥ è¯´æœ€å¥½ æœ€åæƒ…å†µä¸‹çš„å¤æ‚åº¦å°±å¥½äº† å‡æ‘Šå¤æ‚åº¦å¾ˆéš¾åˆ†æ","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539256668,"ip_address":"","comment_id":31562,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539229427","product_id":100017301,"comment_content":"åŸæ–‡ä¸­â€œæˆ‘ä»¬å¯ä»¥å°† head åˆ° tail ä¹‹é—´çš„æ•°æ®ï¼Œæ•´ä½“æ¬ç§»åˆ°æ•°ç»„ä¸­ 0 åˆ° tail-head çš„ä½ç½®ã€‚è¿™ç§å®ç°æ€è·¯ä¸­ï¼Œå‡ºé˜Ÿæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä»ç„¶æ˜¯ O(1)ï¼Œä½†å…¥é˜Ÿæ“ä½œçš„æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯ O(1) å—ï¼Ÿâ€<br>ç­”ï¼šä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šè¯´å®ƒçš„æ—¶é—´å¤æ‚åº¦ä¸º0(n)ï¼Œæ¯•ç«Ÿè¿è¡Œäº†næ¡æ•°ç»„èµ‹å€¼è¯­å¥ï¼Œä½†é‡‡ç”¨æ‘Šè¿˜åˆ†ææ³•ï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œå¹¶ä¸éœ€è¦è®¡ç®—æœ€å¥½ã€æœ€åæ—¶é—´å¤æ‚åº¦ã€‚   <br><br>è€å¸ˆä½ è§‰å¾—å¯¹å—ï¼Ÿ<br><br>","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426403,"discussion_content":"æˆ‘è§‰å¾—è¦åè¿‡æ¥ è¯´æœ€å¥½ æœ€åæƒ…å†µä¸‹çš„å¤æ‚åº¦å°±å¥½äº† å‡æ‘Šå¤æ‚åº¦å¾ˆéš¾åˆ†æ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539256668,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31542,"user_name":"å‡­å®åŠ›å†™bug","can_delete":false,"product_type":"c1","uid":1235611,"ip_address":"","ucode":"6F772551F18935","user_header":"https://static001.geekbang.org/account/avatar/00/12/da/9b/e0ef47df.jpg","comment_is_top":false,"comment_ctime":1539224455,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539224455","product_id":100017301,"comment_content":"ä¸ªäººè®¤ä¸ºæ—¶é—´å¤æ‚åº¦ä¸èƒ½ä½¿ç”¨å‡æ‘Šå¤æ‚åº¦ï¼Œè€Œæ˜¯è¦ä½¿ç”¨æœ€åå¤æ‚åº¦ï¼Œå‡è®¾æœ€å¥½æƒ…å†µä¸‹æ‰§è¡Œé€Ÿåº¦æ˜¯0.5sï¼Œæ²¡ä¸€ç™¾æ¬¡ä¼šæœ‰ä¸€æ¬¡æœ€åæƒ…å†µæ‰§è¡Œé€Ÿåº¦æ˜¯1åˆ†é’Ÿï¼Œå¹³å‡ä¸‹æ¥å·®ä¸å¤šæ˜¯1sï¼Œå½“æ—¶åœ¨æœ€åå¤æ‚åº¦çš„æ—¶å€™ç”¨æˆ·å°±ä¼šè§‰å¾—ä½ è¿™ä¸ªå¾ˆå¡ï¼Œä¸èƒ½é‚£å¹³å‡å¤æ‚åº¦æ¥éº»ç—¹è‡ªå·±ï¼Œè€Œæ˜¯è¦çœ‹æœ€åå¤æ‚åº¦ï¼Œå¦‚æœæœ€åå¤æ‚åº¦è¿‡é«˜è¦å†³è§£","like_count":0},{"had_liked":false,"id":31540,"user_name":"äº‘","can_delete":false,"product_type":"c1","uid":1066629,"ip_address":"","ucode":"138F855329C281","user_header":"https://static001.geekbang.org/account/avatar/00/10/46/85/6090b202.jpg","comment_is_top":false,"comment_ctime":1539224399,"is_pvip":false,"replies":[{"id":"11417","content":"å“ˆå“ˆ æ²¡äº‹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539268944,"ip_address":"","comment_id":31540,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539224399","product_id":100017301,"comment_content":"è°¢è°¢è€å¸ˆï¼Œå·²ç»çœ‹åˆ°githubä¸Šçš„ä»£ç äº†ï¼Œå…¶å®è€å¸ˆåœ¨å‘¨æœ«ç¦åˆ©çš„æ—¶å€™å·²ç»æŠŠgithubçš„åœ°å€å‘Šè¯‰æˆ‘ä»¬äº†ï¼Œä¸€çœ‹åˆ°0822çªç„¶å°±æƒ³èµ·æ¥äº†ï¼Œæ˜¯æˆ‘å¤ªä¸è®¤çœŸäº†ã€‚","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426391,"discussion_content":"å“ˆå“ˆ æ²¡äº‹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539268944,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31537,"user_name":"QLing","can_delete":false,"product_type":"c1","uid":1245000,"ip_address":"","ucode":"9D3DDA939B72AC","user_header":"https://static001.geekbang.org/account/avatar/00/12/ff/48/67342109.jpg","comment_is_top":false,"comment_ctime":1539223966,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539223966","product_id":100017301,"comment_content":"åŸºæœ¬ä¸Šæ¯ç¯‡éƒ½æœ‰åœ¨è¯´è¾¹ç•Œå€¼çš„å¤„ç†ï¼ŒåŸç†æˆ‘ä»¬æ‡‚äº†ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä»£ç é€»è¾‘æ¯”è¾ƒå¥½ç†æ¸…ï¼Œä½†è¾¹ç•Œå€¼æ€»æœ‰å¿½ç•¥ï¼Œæ²¡æœ‰è€ƒè™‘åˆ°ä½çš„åœ°æ–¹ï¼Œéœ€è¦è®¤çœŸçš„æ€è€ƒå¤„ç†æ‰èƒ½çœŸæ­£ä½¿ä»£ç å¥å£®ã€‚","like_count":0},{"had_liked":false,"id":31526,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1539222433,"is_pvip":false,"replies":[{"id":"11387","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539256842,"ip_address":"","comment_id":31526,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539222433","product_id":100017301,"comment_content":"å“¦ï¼Œå…¥é˜Ÿçš„æ—¶å€™åªæœ‰ä»headå¼€å§‹éå†åˆ°æŸä¸ªnextæŒ‡é’ˆä¸ºç©ºçš„æƒ…å†µï¼Œå¢åŠ äº†å¤æ‚åº¦ï¼Œå¢åŠ ä¸€ä¸ªtailæ˜¯å‡å°‘å¤æ‚åº¦","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426385,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539256842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31518,"user_name":"çŒ«å¤´é¹°çˆ±æ‹¿é“","can_delete":false,"product_type":"c1","uid":1105958,"ip_address":"","ucode":"24266B58968428","user_header":"https://static001.geekbang.org/account/avatar/00/10/e0/26/4942a09e.jpg","comment_is_top":false,"comment_ctime":1539221735,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1539221735","product_id":100017301,"comment_content":"å‡æ‘Šåˆ†æä¸‹æ¥å…¥é˜Ÿæ˜¯O(1),å‰é¢n-1æ¬¡å…¥é˜Ÿæ“ä½œéƒ½æ˜¯O(1)ï¼Œæœ€åä¸€æ¬¡æ•°æ®æ¬ç§»æ“ä½œæ˜¯O(n),å¹³å‡ä¸‹æ¥æ˜¯O(1)","like_count":0},{"had_liked":false,"id":31509,"user_name":"western","can_delete":false,"product_type":"c1","uid":1215550,"ip_address":"","ucode":"21BCB130722780","user_header":"https://static001.geekbang.org/account/avatar/00/12/8c/3e/e767c15f.jpg","comment_is_top":false,"comment_ctime":1539220975,"is_pvip":false,"replies":[{"id":"11391","content":"disruptorï¼Ÿå®æˆ˜ç¯‡ä¼šè®²","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539256994,"ip_address":"","comment_id":31509,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539220975","product_id":100017301,"comment_content":"ä¸ºä»€ä¹ˆdisrupterçš„é•¿åº¦åªèƒ½æ˜¯2çš„næ¬¡æ–¹","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426379,"discussion_content":"disruptorï¼Ÿå®æˆ˜ç¯‡ä¼šè®²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539256994,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31508,"user_name":"Geek_41d472","can_delete":false,"product_type":"c1","uid":1247965,"ip_address":"","ucode":"DEC2B6329460CF","user_header":"https://static001.geekbang.org/account/avatar/00/13/0a/dd/88fa7b52.jpg","comment_is_top":false,"comment_ctime":1539220801,"is_pvip":false,"replies":[{"id":"11389","content":"æ˜¯çš„ æˆ‘ä»¬å®æˆ˜ç¯‡ä¼šè®²","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539256966,"ip_address":"","comment_id":31508,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539220801","product_id":100017301,"comment_content":"Disruptor æˆ‘åœ¨å­¦ä¹ stormçš„æ—¶å€™ï¼Œè®°å¾—åº•å±‚æœ‰ä¸ªè¿™ä¸ªdisruptiræ˜¯ä¸€ä¸ªéå¸¸é«˜æ•ˆçš„æ— é”ç¯å½¢é˜Ÿåˆ—,å·ç§°å¯ä»¥æ¯ç§’å¤„ç†600ä¸‡æ¡æ•°æ®","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426378,"discussion_content":"æ˜¯çš„ æˆ‘ä»¬å®æˆ˜ç¯‡ä¼šè®²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539256966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31499,"user_name":"Rain","can_delete":false,"product_type":"c1","uid":1238221,"ip_address":"","ucode":"6A270D922A3B9D","user_header":"https://static001.geekbang.org/account/avatar/00/12/e4/cd/5363c8fa.jpg","comment_is_top":false,"comment_ctime":1539218908,"is_pvip":false,"replies":[{"id":"11419","content":"å¦‚æœè¿™æ®µä»£ç éƒ½çœ‹èµ·æ¥è´¹åŠ² é‚£æ˜¯è¦æé«˜ä¸€ä¸‹ä»£ç èƒ½åŠ›äº†å“¦","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539269126,"ip_address":"","comment_id":31499,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539218908","product_id":100017301,"comment_content":"Re ç²‘ç²‘éº»éº»<br>----<br>æ•°ç»„æ‰©å®¹é˜Ÿåˆ—ï¼Œå¾ªç¯æ“ä½œï¼Œæˆ‘çœŸæ˜¯çœ‹äº†åŠå¤©ï¼Œè¦æ˜¯å†™æˆitem[i] =item[i+header]æ˜¯ä¸æ˜¯æ›´å®¹æ˜“ç†è§£ï¼Œå‰ææ˜¯forå¾ªç¯ä»0å¼€å§‹ï¼Œå°äºtailå‡å»header<br>----<br>è¯´çš„æ˜¯æ•°æ®æ¬ç§»é‚£ä¸ªå¾ªç¯å§ï¼Ÿè¿™ä¸ªåœ°æ–¹æˆ‘ä¹Ÿçœ‹äº†åŠå¤©ï¼Œæˆ‘ä¹Ÿè§‰å¾—ä½ è¿™ç§å¥½ç†è§£ã€‚<br><br>int len = tail - head;<br>for ( int i = 0; i &lt; len; i++) {<br>  item[ i] = item[ head+ i];<br>}<br><br>","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426375,"discussion_content":"å¦‚æœè¿™æ®µä»£ç éƒ½çœ‹èµ·æ¥è´¹åŠ² é‚£æ˜¯è¦æé«˜ä¸€ä¸‹ä»£ç èƒ½åŠ›äº†å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539269126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31491,"user_name":"Rain","can_delete":false,"product_type":"c1","uid":1238221,"ip_address":"","ucode":"6A270D922A3B9D","user_header":"https://static001.geekbang.org/account/avatar/00/12/e4/cd/5363c8fa.jpg","comment_is_top":false,"comment_ctime":1539218484,"is_pvip":false,"replies":[{"id":"11420","content":"ç®—æ˜¯ ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539269188,"ip_address":"","comment_id":31491,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539218484","product_id":100017301,"comment_content":"æ€è€ƒé¢˜1ï¼Œå¯¹è±¡æ± ç®—å—ï¼Ÿåˆå§‹åŒ–çš„æ—¶å€™åˆ›å»ºNä¸ªå¯¹è±¡ï¼Œå¸¸é©»å†…å­˜ã€‚å½“éœ€è¦çš„æ—¶å€™ä»å¯¹è±¡æ± é‡Œé¢å–ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨å®Œä¹‹åæ”¾å›æ¥.å¦‚æœå–çš„æ—¶å€™æ²¡æœ‰å¯¹è±¡å¯ç”¨ï¼Œé‚£å°±è®©ä»–å…¥é˜Ÿ-enqueue, å–åˆ°ä¹‹åè®©ä»–å‡ºé˜Ÿ-dequeue. åº”ç”¨å¯¹è±¡æ± çš„å¥½å¤„æ˜¯ï¼Œä¸€æ¬¡åˆ›å»ºå¤šæ¬¡é‡ç”¨ï¼Œé¿å…è¿™ç±»å¯¹è±¡å› é¢‘ç¹åˆ›å»ºå›æ”¶è€Œå¯¼è‡´å†…å­˜æŠ–åŠ¨ã€‚<br><br>è·‘é¢˜äº†ï¼Œå¤§ç‰›å“¥è¯·æ¥æŒ‡æ­£ï¼Œè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426370,"discussion_content":"ç®—æ˜¯ ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539269188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31485,"user_name":"Rain","can_delete":false,"product_type":"c1","uid":1238221,"ip_address":"","ucode":"6A270D922A3B9D","user_header":"https://static001.geekbang.org/account/avatar/00/12/e4/cd/5363c8fa.jpg","comment_is_top":false,"comment_ctime":1539217569,"is_pvip":false,"replies":[{"id":"11422","content":"ä¸å“¦ï¼Œæˆ‘çš„æ„æ€æ˜¯ï¼Œå¦‚æœtail==näº†ï¼Œé‚£å°±æ— æ³•å¾€é‡Œæ”¾æ•°æ®äº†ï¼Œå³ä¾¿head==nã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539269539,"ip_address":"","comment_id":31485,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539217569","product_id":100017301,"comment_content":"è¿™ä¸ªåœ°æ–¹æœ‰ç‚¹é—®é¢˜å§ï¼Ÿå¦‚æœtail == n == head å‘¢ï¼Ÿé˜Ÿåˆ—ä¸ºç©ºå§ï¼Ÿ<br>----<br>åœ¨ç”¨æ•°ç»„å®ç°çš„éå¾ªç¯é˜Ÿåˆ—ä¸­ï¼Œé˜Ÿæ»¡çš„åˆ¤æ–­æ¡ä»¶æ˜¯ tail == nï¼Œé˜Ÿç©ºçš„åˆ¤æ–­æ¡ä»¶æ˜¯ head == tailã€‚<br>----<br>åº”è¯¥æ˜¯:<br>é˜Ÿæ»¡çš„åˆ¤æ–­æ¡ä»¶æ˜¯ tail == nï¼Œ&lt; head = 0 &gt;.<br><br>è€å¸ˆï¼Œæˆ‘è¯´çš„å¯¹å—ï¼Ÿ<br><br>ç±»ä¼¼è¿™æ ·çš„é—®é¢˜æˆ‘æ€»æ˜¯å¾ˆçº ç»“ï¼Œæƒ³äº†åŠå¤©æ‰è¿‡æ¥è¯„è®ºã€‚","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426365,"discussion_content":"ä¸å“¦ï¼Œæˆ‘çš„æ„æ€æ˜¯ï¼Œå¦‚æœtail==näº†ï¼Œé‚£å°±æ— æ³•å¾€é‡Œæ”¾æ•°æ®äº†ï¼Œå³ä¾¿head==nã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539269539,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31465,"user_name":"éƒ‘é‡‘é”‹","can_delete":false,"product_type":"c1","uid":1119335,"ip_address":"","ucode":"BC940BF8FCC81F","user_header":"https://static001.geekbang.org/account/avatar/00/11/14/67/5d375419.jpg","comment_is_top":false,"comment_ctime":1539188988,"is_pvip":false,"replies":[{"id":"11305","content":"å¯ä»¥çš„ ç†è§£çš„å¾ˆå¯¹","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539222192,"ip_address":"","comment_id":31465,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539188988","product_id":100017301,"comment_content":"å¾ªç¯é˜Ÿåˆ—ä¼šæµªè´¹ä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œå¦‚æ–‡ä¸­ä¾‹å­ï¼Œåˆå§‹åŒ–é•¿åº¦8ï¼Œè€Œå®é™…ä¸Šåªèƒ½å­˜7ä¸ªå€¼ï¼Œç°å®åº”ç”¨çš„æ—¶å€™æ˜¯ä¸æ˜¯ä¼šæœ‰è¯¯è§£ï¼Ÿæ˜¯ä¸æ˜¯å¯ä»¥åœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œé»˜è®¤æŠŠé•¿åº¦åŠ 1","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426354,"discussion_content":"å¯ä»¥çš„ ç†è§£çš„å¾ˆå¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539222192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31455,"user_name":"å‡Œ","can_delete":false,"product_type":"c1","uid":1257995,"ip_address":"","ucode":"41369B360C794F","user_header":"https://static001.geekbang.org/account/avatar/00/13/32/0b/81ae214b.jpg","comment_is_top":false,"comment_ctime":1539183932,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539183932","product_id":100017301,"comment_content":"å…¥é˜Ÿæ“ä½œçš„æ—¶é—´å¤æ‚åº¦æœ€å·®æƒ…å†µä¸‹æ¯æ¬¡éƒ½è¦ç§»åŠ¨n-1æ¬¡ï¼Œæ‰€ä»¥æ˜¯O(n-1)ï¼Ÿ<br>çœ‹äº†dpdkçš„æ— é”å¾ªç¯é˜Ÿåˆ—ï¼Œé˜Ÿåˆ—é•¿åº¦æ˜¯2çš„å¹‚æ¬¡æ–¹ï¼Œå› ä¸ºç´¢å¼•æ˜¯unsigned 32bitsçš„æ‰€ä»¥æº¢å‡ºäº†ä¹Ÿä¸ä¼šå‡ºé”™ï¼Œå¦‚ï¼ˆuint32_tï¼‰5-65535 = 6ã€‚<br><br>","like_count":0},{"had_liked":false,"id":31443,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1539180553,"is_pvip":false,"replies":[{"id":"11306","content":"å…¥é˜Ÿå’‹åŠå‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539222269,"ip_address":"","comment_id":31443,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539180553","product_id":100017301,"comment_content":"åˆšåˆšæˆ‘åœ¨å®è·µç”¨é“¾è¡¨å®ç°é˜Ÿåˆ—çš„æ—¶å€™ï¼Œå…¶å®æƒ³æƒ³æˆ‘ä»¬åº”è¯¥ä¸å¿…éœ€è¦tailæŒ‡é’ˆï¼Œå› ä¸ºå½“é“¾è¡¨ä¸­çš„æŸä¸€ä¸ªèŠ‚ç‚¹çš„nextæŒ‡é’ˆä¸ºç©ºæ—¶ï¼Œå°±è¡¨ç¤ºæ˜¯å°¾èŠ‚ç‚¹äº†ï¼Œæˆ‘ä»¬å‡ºé˜Ÿåˆ—æ“ä½œåªéœ€è¦ç§»åŠ¨headå³å¯ï¼","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426340,"discussion_content":"å…¥é˜Ÿå’‹åŠå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539222269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31417,"user_name":"æˆ‘çš„å¿ƒé‡Œåªæœ‰å·¥ä½œ","can_delete":false,"product_type":"c1","uid":1238185,"ip_address":"","ucode":"488DD6F9590EB8","user_header":"https://static001.geekbang.org/account/avatar/00/12/e4/a9/117fe480.jpg","comment_is_top":false,"comment_ctime":1539175174,"is_pvip":false,"replies":[{"id":"11307","content":"ä¸æ˜¯ä¸€æ ·çš„å˜›ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539222359,"ip_address":"","comment_id":31417,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539175174","product_id":100017301,"comment_content":"æ•°ç»„æ‰©å®¹é˜Ÿåˆ—ï¼Œå¾ªç¯æ“ä½œï¼Œæˆ‘çœŸæ˜¯çœ‹äº†åŠå¤©ï¼Œè¦æ˜¯å†™æˆitem[i] =item[i+header]æ˜¯ä¸æ˜¯æ›´å®¹æ˜“ç†è§£ï¼Œå‰ææ˜¯forå¾ªç¯ä»0å¼€å§‹ï¼Œå°äºtailå‡å»header","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426328,"discussion_content":"ä¸æ˜¯ä¸€æ ·çš„å˜›ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539222359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31356,"user_name":"äº‘","can_delete":false,"product_type":"c1","uid":1066629,"ip_address":"","ucode":"138F855329C281","user_header":"https://static001.geekbang.org/account/avatar/00/10/46/85/6090b202.jpg","comment_is_top":false,"comment_ctime":1539157463,"is_pvip":false,"replies":[{"id":"11313","content":"ä½ githubä¸Šæœwangzheng0822","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539222599,"ip_address":"","comment_id":31356,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539157463","product_id":100017301,"comment_content":"è€å¸ˆè®²çš„å¹²è´§æ»¡æ»¡ï¼Œè€å¸ˆçš„githubåœ°å€æ˜¯å•¥å•Šï¼Ÿæƒ³å»çœ‹çœ‹è€å¸ˆå†™çš„ä»£ç ã€‚","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426304,"discussion_content":"ä½ githubä¸Šæœwangzheng0822","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539222599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31330,"user_name":"åæ—","can_delete":false,"product_type":"c1","uid":1020238,"ip_address":"","ucode":"70A82E86FD78D5","user_header":"","comment_is_top":false,"comment_ctime":1539152041,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539152041","product_id":100017301,"comment_content":"å…³äºæ•°ç»„å®ç°å¾ªç¯é˜Ÿåˆ—ä¼šå¯¼è‡´ç©ºä¸€ä¸ªç©ºé—´çš„é—®é¢˜ï¼Œé‚£æˆ‘ä»¬æ˜¯å¦èƒ½ç›´æ¥ç”¨ä¸€ä¸ªå‚æ•°æ¥æ ‡è®°é˜Ÿåˆ—æ˜¯å¦æ»¡äº†ï¼Œå…¥é˜ŸåŠ ä¸€ï¼Œå‡ºé˜Ÿå‡ä¸€ï¼Œå¦‚æœç­‰äº items çš„é•¿åº¦ nï¼Œå°±è¯´æ˜æ»¡äº†","like_count":0},{"had_liked":false,"id":31309,"user_name":"asdf100","can_delete":false,"product_type":"c1","uid":1043738,"ip_address":"","ucode":"39D8D71453E575","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/ce7f7d54.jpg","comment_is_top":false,"comment_ctime":1539146362,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539146362","product_id":100017301,"comment_content":"æ•°ç»„é˜Ÿåˆ—è¿›è¡Œæ•°æ®æ¬ç§»çš„æ—¶å€™ï¼Œçœ‹ç€æ˜¯å°†åŸæ¥ä½ç½®å€¼å¤åˆ¶åˆ°æ–°ä½ç½®äº†ï¼ŒåŸæ¥å†…å­˜åœ°å€ä¸­è¿˜æ˜¯æœ‰æ•°æ®çš„ï¼Œåªæ˜¯ä¸‹æ¬¡å­˜å‚¨çš„æ—¶å€™å°†æŒ‡å®šå†…å­˜åœ°å€çš„å€¼è¦†ç›–äº†ï¼Œæ˜¯è¿™æ ·ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":31278,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1539141850,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539141850","product_id":100017301,"comment_content":"è¿˜æœ‰å°±æ˜¯æ¬ç§»æ•°æ®çš„å…¥é˜Ÿæ“ä½œ æŒ‰ç…§æ‘Šè¿˜æ³•ç®—ä¸‹æ¥å¤æ‚åº¦åº”è¯¥æ˜¯O(1)å§","like_count":0},{"had_liked":false,"id":31261,"user_name":"èš‚èšå†…æ¨+v","can_delete":false,"product_type":"c1","uid":1050508,"ip_address":"","ucode":"24B10AEE54B3FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/8c/0d886dcc.jpg","comment_is_top":false,"comment_ctime":1539138373,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539138373","product_id":100017301,"comment_content":"é˜»å¡é˜Ÿåˆ—  å†…éƒ¨å·²ç»ç”¨äº† wait  è‚¯å®šåŠ äº†é”  æœ¬è´¨å°±æ˜¯å¹¶å‘é˜Ÿåˆ— ä¸çŸ¥é“æˆ‘ç†è§£æœ‰é”™å—","like_count":0},{"had_liked":false,"id":31257,"user_name":"Jason","can_delete":false,"product_type":"c1","uid":1238703,"ip_address":"","ucode":"C5EB025A9D1301","user_header":"https://static001.geekbang.org/account/avatar/00/12/e6/af/e94ef6d8.jpg","comment_is_top":false,"comment_ctime":1539137764,"is_pvip":false,"replies":[{"id":"11260","content":"ä¸éœ€è¦çš„ å¯ä»¥ä¸Šgithubä¸Šçœ‹çœ‹ä»£ç å°±æ¸…æ¥šäº†","user_name":"ä½œè€…å›å¤","user_name_real":"gg","uid":"1190123","ctime":1539146587,"ip_address":"","comment_id":31257,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1539137764","product_id":100017301,"comment_content":"è€å¸ˆï¼Œè¯·é—®é“¾å¼é˜Ÿåˆ—å‡ºé˜Ÿçš„æ—¶å€™è¦è¿›è¡Œæ•°æ®æ¬ç§»å—ï¼Œå¦‚æœæ¬ç§»åˆæ˜¯æ€æ ·å¤„ç†å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426267,"discussion_content":"ä¸éœ€è¦çš„ å¯ä»¥ä¸Šgithubä¸Šçœ‹çœ‹ä»£ç å°±æ¸…æ¥šäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539146587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
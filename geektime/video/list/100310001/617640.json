{"id":617640,"title":"69 | 第三方模块的使用：如何使用其他人编写的代码？","content":"<p><strong>本讲相关链接</strong><br>\n第三方模块：<a href=\"https://pypi.org/project/requests/\">https://pypi.org/project/requests/</a></p><p><strong>课后习题</strong><br>\n请安装第三方模块 Matplotlib, 安装后运行下方代码并显示执行结果。</p><p>代码如下：</p><pre><code>import matplotlib.pyplot as plot\nx = [ 1, 2, 3 ]\ny = [ 4, 5, 6 ]\nplot.plot(x, y, marker = 'o' )\nplot.plot(y, x, marker = 'x' )\nplot.show()\n</code></pre><p><strong>课程代码、课件及其他相关资料地址</strong><br>\n<a href=\"https://gitee.com/wilsonyin/zero-basics-python\">https://gitee.com/wilsonyin/zero-basics-python</a></p>","comments":[{"had_liked":false,"id":368998,"user_name":"yanyu-xin","can_delete":false,"product_type":"c3","uid":1899757,"ip_address":"广东","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1676985042,"is_pvip":false,"replies":[{"id":134605,"content":"提供一个windows linux 常用命令对照表，看这样是否对你掌握命令行有帮助\n\nhttps:&#47;&#47;blog.csdn.net&#47;Dust_Evc&#47;article&#47;details&#47;125110742","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1677481529,"ip_address":"广东","comment_id":368998,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"作为window用户的初学者对本节有些发懵。讲座上的命令都不是win版本的。\n建议在字幕或在课程摘要补充win系统对应说明","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":606899,"discussion_content":"提供一个windows linux 常用命令对照表，看这样是否对你掌握命令行有帮助\n\nhttps://blog.csdn.net/Dust_Evc/article/details/125110742","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1677481529,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1009793,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM417c39k9NcWsBvmNv4CrJFSbMxRniccZbeHhNkfgLldyEKBiazjDl6ojVYH2LFicgwDticicoC8M0bTLQ/132","nickname":"大包子","note":"","ucode":"58D273AEBAE48A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":623288,"discussion_content":"可以参考这个设置https://blog.csdn.net/m0_61155226/article/details/131670779","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1689260211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":381349,"user_name":"William","can_delete":false,"product_type":"c3","uid":1346215,"ip_address":"吉林","ucode":"55F5D9DEE485B1","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/a7/674c1864.jpg","comment_is_top":false,"comment_ctime":1695090441,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"使用的mac 笔记本, 导入默认的包 ,无法直接打开因为是无终端界面,\n\n需要加入 “matplotlib.use(&#39;TkAgg&#39;)” 这条命令. \nimport matplotlib\nmatplotlib.use(&#39;TkAgg&#39;)\nimport matplotlib.pyplot as plot\n\nx = [1, 2, 3]\ny = [4, 5, 6]\nplot.plot(x, y, marker=&#39;o&#39;)\nplot.plot(y, x, marker=&#39;x&#39;)\n#plot.savefig(&quot;&#47;tmp&#47;image.png&quot;)\nplot.show()","like_count":2},{"had_liked":false,"id":367545,"user_name":"繁星不灭","can_delete":false,"product_type":"c3","uid":3042945,"ip_address":"广东","ucode":"7610E71D8FF224","user_header":"https://static001.geekbang.org/account/avatar/00/2e/6e/81/a52fe3f6.jpg","comment_is_top":false,"comment_ctime":1675314438,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"一.习题练习(Linux版)\n(1)环境准备\n#操作系统:centos7.9\n#python版本:3.9(编译安装+配置环境变量)\n#该练习使用普通用户操作\n\n(2)安装虚拟环境\npip3 install virtualenv\n\n(3)创建虚拟环境\ncd &#47;home&#47;worker\nvirtualenv Test_Python_Project01\n\n(4)启用虚拟环境\ncd Test_Python_Project01\nsource .&#47;bin&#47;activate\n\n(5)安装指定库\npip3 install matplotlib -i https:&#47;&#47;pypi.tuna.tsinghua.edu.cn&#47;simple\n\n(6)检查库是否安装成功\npip3 list\n\n(7)退出虚拟环境\ndeactivate\n\n(8)创建.py脚本\n#假设创建在&#47;home&#47;worker&#47;Test_Python_Project01下面\ntouch test.py\n#写入语句，注意Linux没装图形化界面，显示不了图片，调整为输出一个.png文件\nimport matplotlib.pyplot as plot\nx = [ 1, 2, 3 ]\ny = [ 4, 5, 6 ]\nplot.plot(x, y, marker = &#39;o&#39; )\nplot.plot(y, x, marker = &#39;x&#39; )\nplot.savefig(&quot;&#47;tmp&#47;image.png&quot;)\n\n(9)执行.py文件\n#使用虚拟环境里的python执行才能用到刚才下载的库，否则找不到\n&#47;home&#47;worker&#47;Test_Python_Project01&#47;bin&#47;python3 &#47;home&#47;worker&#47;Test_Python_Project01&#47;test.py\n\n(10)检查图片\n#此时在&#47;tmp下有生成图片\n#用winscp工具把图片拉到windows桌面上打开，确认为习题要求的图片","like_count":2},{"had_liked":false,"id":366212,"user_name":"繁星不灭","can_delete":false,"product_type":"c3","uid":3042945,"ip_address":"广东","ucode":"7610E71D8FF224","user_header":"https://static001.geekbang.org/account/avatar/00/2e/6e/81/a52fe3f6.jpg","comment_is_top":false,"comment_ctime":1673488763,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"一.习题练习(windows版)\n1.了解背景\nvenv——Python标准库内置的虚拟环境管理工具，Python 3.3加入，Python 3.5开始作为管理虚拟环境的推荐工具，用法类似virtualenv。\nvirtualenv——Python虚拟环境管理工具\n\n个人理解：可以使用课程中的venv直接创建虚拟环境，然后用pycharm打开该环境；也可以使用pycharm新建项目默认用virtualenv创建虚拟环境。\n\n2.结合 pip+pycharm+虚拟环境+加速下载软件包 进行实操\n\n(1)首先使用pycharm新建新的项目&quot;create project&quot;，上面的Location选择目的地址例如&quot;D:\\编程存储路径\\test&quot;，新环境使用&quot;Virtualenv&quot;，新环境路径位置为目的地址&#47;venv例如&quot;D:\\编程存储路径\\test\\venv&quot;，解释器选择python3.10.7。由于从零使用软件包，所以不勾选&quot;Inherit global site-packages&quot;，也不勾选&quot;make available to all projects&quot;，允许自动生成main.py\n\n(2)使用cmd窗口，cd进入目的地址目录例如&quot;cd &#47;d D:\\编程存储路径\\&quot;，首先激活虚拟环境，例如.\\test\\venv\\Scripts\\activate.bat，然后cd到pip3.10.exe的目录例如&quot;cd &#47;d D:\\编程存储路径\\test\\venv\\Scripts\\&quot;，执行&quot;pip3.10 install matplotlib -i https:&#47;&#47;pypi.tuna.tsinghua.edu.cn&#47;simple&quot;安装matplotlib，同时使用临时加速。安装后即可在pycharm导入该软件包写代码了。\n\n(3)最后在deactivate.bat的执行目录执行deactivate离开虚拟环境\n\n个人注释:如果上面只在例如D:\\编程存储路径\\下面执行pip install的命令，会发现调用的是系统环境的pip，而不是虚拟环境的pip，会导致用该虚拟环境写代码时找不到matplotlib模块。另外在虚拟环境不加-i临时加速下载软件包，明显觉得很慢。最后是不去deactivate.bat的目录执行退出，可能会提示找不到deactivate这个命令退不出来。","like_count":2},{"had_liked":false,"id":394116,"user_name":"刘立嘉","can_delete":false,"product_type":"c3","uid":2414637,"ip_address":"上海","ucode":"1241140EBE7FE3","user_header":"https://static001.geekbang.org/account/avatar/00/24/d8/2d/4b0355f3.jpg","comment_is_top":false,"comment_ctime":1725872325,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import matplotlib.pyplot as plot\n\nx = [ 1, 2, 3 ]\ny = [ 4, 5, 6 ]\nplot.plot(x, y, marker = &#39;o&#39; )\nplot.plot(y, x, marker = &#39;x&#39; )\nplot.savefig(&#39;myplot.png&#39;)","like_count":0},{"had_liked":false,"id":393126,"user_name":"8000tank","can_delete":false,"product_type":"c3","uid":3838010,"ip_address":"北京","ucode":"C5DC98A0EB57CE","user_header":"","comment_is_top":false,"comment_ctime":1722933466,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"觉得虚拟环境通过IDE来解决的话，更方便和快捷。老师课程更贴近“更本质”的解决方式","like_count":0},{"had_liked":false,"id":385074,"user_name":"Geek_631607","can_delete":false,"product_type":"c3","uid":3789991,"ip_address":"广东","ucode":"EAF874838F0BE4","user_header":"","comment_is_top":false,"comment_ctime":1702020477,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"pip3 install Matplotlib","like_count":0},{"had_liked":false,"id":384559,"user_name":"依托答辩","can_delete":false,"product_type":"c3","uid":2383299,"ip_address":"上海","ucode":"4BE79E8A030813","user_header":"https://static001.geekbang.org/account/avatar/00/24/5d/c3/b8bb888c.jpg","comment_is_top":false,"comment_ctime":1701162094,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"pip3.10 里烦人3.10是python的版本是吗，为啥我执行后啥也没返回","like_count":0},{"had_liked":false,"id":384557,"user_name":"依托答辩","can_delete":false,"product_type":"c3","uid":2383299,"ip_address":"上海","ucode":"4BE79E8A030813","user_header":"https://static001.geekbang.org/account/avatar/00/24/5d/c3/b8bb888c.jpg","comment_is_top":false,"comment_ctime":1701160580,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"有点没懂装了虚拟环境之后呢，代码写在哪里？命令行吗？如果是写在编辑器上，那怎么使用这个虚拟环境？","like_count":0},{"had_liked":false,"id":384458,"user_name":"L","can_delete":false,"product_type":"c3","uid":1228268,"ip_address":"上海","ucode":"26BB686671F7D4","user_header":"https://static001.geekbang.org/account/avatar/00/12/bd/ec/cc7abf0b.jpg","comment_is_top":false,"comment_ctime":1700974243,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"虚拟环境\nhttps:&#47;&#47;docs.python.org&#47;zh-cn&#47;3&#47;tutorial&#47;venv.html\n创建虚拟环境\npython3 -m venv env     \n进入虚拟环境\nsource .&#47;env&#47;bin&#47;activate\n查看依赖\npip freeze\n安装依赖\npip install -r requirements.txt\nrequirements.txtt\ntinydb==4.7.0\nmatplotlib==3.5.3\n退出环境\ndeactivate\n需要执行的时候也是在虚拟环境里面去执行代码\n这样可以有效控制版本","like_count":0},{"had_liked":false,"id":366668,"user_name":"Cy23","can_delete":false,"product_type":"c3","uid":1591293,"ip_address":"辽宁","ucode":"8DC561C5151758","user_header":"https://static001.geekbang.org/account/avatar/00/18/47/fd/895f0c27.jpg","comment_is_top":false,"comment_ctime":1674029993,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"conda activate py3110\npip3 install Matplotlib","like_count":0},{"had_liked":false,"id":365489,"user_name":"张自远","can_delete":false,"product_type":"c3","uid":1142827,"ip_address":"北京","ucode":"C8AF9F37442987","user_header":"https://static001.geekbang.org/account/avatar/00/11/70/2b/55c29825.jpg","comment_is_top":false,"comment_ctime":1672667654,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"pip3 install  Matplotlib","like_count":0}]}
{"id":81730,"title":"浏览器：一个浏览器是如何工作的？（阶段四）","content":"<p>你好，我是winter。</p><p>我们书接上文。浏览器进行到这一步，我们已经给DOM元素添加了用于展现的CSS属性，接下来，浏览器的工作就是确定每一个元素的位置了。我们的基本原则仍然不变，就是尽可能流式地处理上一步骤的输出。</p><p>在构建DOM树和计算CSS属性这两个步骤，我们的产出都是一个一个的元素，但是在排版这个步骤中，有些情况下，我们就没法做到这样了。</p><p>尤其是表格相关排版、Flex排版和Grid排版，它们有一个显著的特点，那就是子元素之间具有关联性。</p><h2>基本概念</h2><p>首先我们先来介绍一些基本概念，使你可以感性地认识一下我们平常说的各种术语。</p><p><strong>“排版”</strong>这个概念最初来自活字印刷，是指我们把一个一个的铅字根据文章顺序，放入板框当中的步骤，排版的意思是确定每一个字的位置。</p><p>在现代浏览器中，仍然借用了这个概念，但是排版的内容更加复杂，包括文字、图片、图形、表格等等，我们把浏览器确定它们位置的过程，叫作排版。</p><p>浏览器最基本的排版方案是<strong>正常流排版</strong>，它包含了顺次排布和折行等规则，这是一个跟我们提到的印刷排版类似的排版方案，也跟我们平时书写文字的方式一致，所以我们把它叫做正常流。</p><p>浏览器的文字排版遵循公认的文字排版规范，文字排版是一个复杂的系统，它规定了行模型和文字在行模型中的排布。行模型规定了行顶、行底、文字区域、基线等对齐方式。（你还记得小时候写英语的英语本吗？英语本上的四条线就是一个简单的行模型。）</p><!-- [[[read_end]]] --><p>此外，浏览器支持不同语言，因为不同语言的书写顺序不一致，所以浏览器的文本排版还支持双向文字系统。</p><p>浏览器又可以支持元素和文字的混排，元素被定义为占据长方形的区域，还允许边框、边距和留白，这个就是所谓的<strong>盒模型</strong>。</p><p>在正常流的基础上，浏览器还支持两类元素：绝对定位元素和浮动元素。</p><ul>\n<li>\n<p>绝对定位元素把自身从正常流抽出，直接由top和left等属性确定自身的位置，不参加排版计算，也不影响其它元素。绝对定位元素由position属性控制。</p>\n</li>\n<li>\n<p>浮动元素则是使得自己在正常流的位置向左或者向右移动到边界，并且占据一块排版空间。浮动元素由float属性控制。</p>\n</li>\n</ul><p>除了正常流，浏览器还支持其它排版方式，比如现在非常常用的Flex排版，这些排版方式由外部元素的display属性来控制（注意，display同时还控制元素在正常流中属于inline等级还是block等级）。</p><h2>正常流文字排版</h2><p>我们会在CSS部分详细介绍正常流排版的行为，我们这里主要介绍浏览器中的正常流。正常流是唯一一个文字和盒混排的排版方式，我们先从文字来讲起。</p><p>要想理解正常流，我们首先要回忆一下自己如何在纸上写文章。</p><p>首先，纸是有固定宽度的，虽然纸有固定高度，但是我们可以通过下一页纸的方式来接续，因此我们不存在写不下的场景。</p><p>我们书写文字的时候，是从左到右依次书写，每一个字跟上一个字都不重叠，文字之间有一定间距，当写满一行时，我们换到下一行去继续写。</p><p>书写中文时，文字的上、下、中轴线都对齐，书写英文时，不同字母的高度不同，但是有一条基线对齐。</p><p>实际上浏览器环境也很类似。但是因为浏览器支持改变排版方向，不一定是从左到右从上到下，所以我们把文字依次书写的延伸方向称为主轴或者主方向，换行延伸的方向，跟主轴垂直交叉，称为交叉轴或者交叉方向。</p><p>我们一般会从某个字体文件中获取某个特定文字的相关信息。我们获取到的信息大概类似下面：</p><p><img src=\"https://static001.geekbang.org/resource/image/06/01/0619d38f00d539f7b6773e541ce6fa01.png?wh=388*253\" alt=\"\"></p><p>纵向版本：</p><p><img src=\"https://static001.geekbang.org/resource/image/c3/96/c361c7ff3a11216c139ed462b9d5f196.png?wh=294*278\" alt=\"\"></p><p>这两张图片来自著名开源字体解析库freetype，实际上，各个库对字体的理解大同小异，我们注意一下，advance代表每一个文字排布后在主轴上的前进距离，它跟文字的宽/高不相等，是字体中最重要的属性。</p><p>除了字体提供的字形本身包含的信息，文字排版还受到一些CSS属性影响，如line-height、letter-spacing、word-spacing等。</p><p>在正常流的文字排版中，多数元素被当作长方形盒来排版，而只有display为inline的元素，是被拆成文本来排版的（还有一种run-in元素，它有时作为盒，有时作为文字，不太常用，这里不详细讲了）。</p><p>display值为inline的元素中的文字排版时会被直接排入文字流中，inline元素主轴方向的margin属性和border属性（例如主轴为横向时的margin-left和margin-right）也会被计算进排版前进距离当中。</p><p>注意，当没有强制指定文字书写方向时，在左到右文字中插入右到左向文字，会形成一个双向文字盒，反之亦然。</p><p>这样，即使没有元素包裹，混合书写方向的文字也可以形成一个盒结构，我们在排版时，遇到这样的双向文字盒，会先排完盒内再排盒外。</p><h2>正常流中的盒</h2><p>在正常流中，display不为inline的元素或者伪元素，会以盒的形式跟文字一起排版。多数display属性都可以分成两部分：内部的排版和是否inline，带有inline-前缀的盒，被称作行内级盒。</p><p>根据盒模型，一个盒具有margin、border、padding、width/height等属性，它在主轴方向占据的空间是由对应方向的这几个属性之和决定的，而vertical-align属性决定了盒在交叉轴方向的位置，同时也会影响实际行高。</p><p>所以，浏览器对行的排版，一般是先行内布局，再确定行的位置，根据行的位置计算出行内盒和文字的排版位置。</p><p>块级盒比较简单，它总是单独占据一整行，计算出交叉轴方向的高度即可。</p><h2>绝对定位元素</h2><p>position属性为absolute的元素，我们需要根据它的包含块来确定位置，这是完全跟正常流无关的一种独立排版模式，逐层找到其父级的position非static元素即可。</p><h2>浮动元素排版</h2><p>float元素非常特别，浏览器对float的处理是先排入正常流，再移动到排版宽度的最左/最右（这里实际上是主轴的最前和最后）。</p><p>移动之后，float元素占据了一块排版的空间，因此，在数行之内，主轴方向的排版距离发生了变化，直到交叉轴方向的尺寸超过了浮动元素的交叉轴尺寸范围，主轴排版尺寸才会恢复。float元素排布完成后，float元素所在的行需要重新确定位置。</p><h2>其它的排版</h2><p>CSS的每一种排版都有一个很复杂的规定，实际实现形式也各不相同。比如如Flex排版，支持了flex属性，flex属性将每一行排版后的剩余空间平均分配给主轴方向的width/height属性。浏览器支持的每一种排版方式，都是按照对应的标准来实现的。</p><h2>结语</h2><p>这一部分，我们以正常流为主，介绍了浏览器的排版基本概念及一些算法。这里，我主要介绍了正常流中的文字排版、正常流中的盒、绝对定位元素、浮动元素排版这几种情况。最后，我还简单介绍了一下Flex排版。这属于进阶版的排版方式了，你可以了解一下。</p><p>你平时喜欢使用方式排版呢，欢迎留言告诉我。</p><p></p>","comments":[{"had_liked":false,"id":68014,"user_name":"花儿与少年","can_delete":false,"product_type":"c1","uid":1046304,"ip_address":"","ucode":"E2D685737E4F1B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/20/e2dfa9c2.jpg","comment_is_top":false,"comment_ctime":1550387087,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"473996789647","product_id":100023201,"comment_content":"不如讲讲 一个完整的html+css实例 构建dom树，渲染树的全过程 来的实在。(从里往外计算的过程)","like_count":111},{"had_liked":false,"id":67878,"user_name":"Scorpio","can_delete":false,"product_type":"c1","uid":1374652,"ip_address":"","ucode":"2DF4DEC831D4C0","user_header":"https://static001.geekbang.org/account/avatar/00/14/f9/bc/cbc0207b.jpg","comment_is_top":false,"comment_ctime":1550307886,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"276428214830","product_id":100023201,"comment_content":"flex自从用过后，就不想用其他的了。。能用flex就用flex","like_count":65,"discussions":[{"author":{"id":1446810,"avatar":"https://static001.geekbang.org/account/avatar/00/16/13/9a/842a9dc6.jpg","nickname":"求求你，别卷了！","note":"","ucode":"8F7DE1DF8A0B29","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382448,"discussion_content":"麻烦兼容下ie","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625575940,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1658526,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/5uNoPwLiciaySEH7FeWTnticKlojsqiaY31yNke5b0TFgYzWmwcBHNnXl85WziagvGOhwpKBSCKQ3etzZv6BD41Nqgw/132","nickname":"zzy","note":"","ucode":"D3C758438FDB10","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329560,"discussion_content":"同感","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606402744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1751727,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/ba/af/fa76c168.jpg","nickname":"ryan","note":"","ucode":"17DBC13EEFB107","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221722,"discussion_content":"不能再赞同","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586051063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1240490,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ed/aa/67fbccda.jpg","nickname":"soulful","note":"","ucode":"93105631E8106A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221039,"discussion_content":"握手","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585967295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68318,"user_name":"大漠","can_delete":false,"product_type":"c1","uid":1373198,"ip_address":"","ucode":"E70C0D0D5EDB82","user_header":"https://static001.geekbang.org/account/avatar/00/14/f4/0e/d8896bae.jpg","comment_is_top":false,"comment_ctime":1550482311,"is_pvip":false,"replies":[{"id":"24347","content":"对大漠老师来说小菜一碟 哈哈哈","user_name":"作者回复","user_name_real":"winter","uid":"1268524","ctime":1550553102,"ip_address":"","comment_id":68318,"utype":1}],"discussion_count":4,"race_medal":0,"score":"203413945223","product_id":100023201,"comment_content":"文档流和排版是最难的部分！","like_count":48,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439626,"discussion_content":"对大漠老师来说小菜一碟 哈哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550553102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1942102,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/a2/56/b81e3f11.jpg","nickname":"泉","note":"","ucode":"45759F78E41B53","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375731,"discussion_content":"假的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621834092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1266698,"avatar":"https://static001.geekbang.org/account/avatar/00/13/54/0a/9a002ad5.jpg","nickname":"Adam Lau","note":"","ucode":"7E542D6E789500","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342896,"discussion_content":"大漠老师，哪位大神？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610871032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2093945,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/f3/79/a2bedc1e.jpg","nickname":"J6","note":"","ucode":"3F097CE1FFCA05","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1266698,"avatar":"https://static001.geekbang.org/account/avatar/00/13/54/0a/9a002ad5.jpg","nickname":"Adam Lau","note":"","ucode":"7E542D6E789500","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346671,"discussion_content":"没听过大漠，是不是刚入行的啊！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612017988,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":342896,"ip_address":""},"score":346671,"extra":""}]}]},{"had_liked":false,"id":67836,"user_name":"yummy","can_delete":false,"product_type":"c1","uid":1380189,"ip_address":"","ucode":"01794C1095A508","user_header":"https://static001.geekbang.org/account/avatar/00/15/0f/5d/34bd979f.jpg","comment_is_top":false,"comment_ctime":1550293079,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"44499966039","product_id":100023201,"comment_content":"写代码之前认真思考整体的布局真的太有必要了。。。","like_count":11,"discussions":[{"author":{"id":1042089,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e6/a9/b459efb7.jpg","nickname":"如故","note":"","ucode":"F6895792309942","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348617,"discussion_content":"奈何需求总是会变","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612667222,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72382,"user_name":"大粒仔","can_delete":false,"product_type":"c1","uid":1383448,"ip_address":"","ucode":"8AF47367EC9F67","user_header":"https://static001.geekbang.org/account/avatar/00/15/1c/18/9b6a1f85.jpg","comment_is_top":false,"comment_ctime":1551604350,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"35911342718","product_id":100023201,"comment_content":"请问老师，domContentLoaded事件是不是在完整的DOM构建完成后才触发，如果这样的话，按照流式的处理上一步输出思想，domContentLoaded事件触发前浏览器是不是可能已经开始进行排版，渲染，绘制的工作了。但是按developers.google上的说法，只有domContentLoaded事件触发后，浏览器才会开始生成渲染树，排版等一系列操作。我对这块很困惑","like_count":8},{"had_liked":false,"id":73791,"user_name":"刘圣伟","can_delete":false,"product_type":"c1","uid":1385901,"ip_address":"","ucode":"7D6F84F5411243","user_header":"https://static001.geekbang.org/account/avatar/00/15/25/ad/258623ea.jpg","comment_is_top":false,"comment_ctime":1552003192,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31616774264","product_id":100023201,"comment_content":"flex目前能避免就避免，用多了，对文档流就难理解了","like_count":8},{"had_liked":false,"id":72125,"user_name":"ytd","can_delete":false,"product_type":"c1","uid":1038790,"ip_address":"","ucode":"C6AEA2D19E447A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d9/c6/8be8664d.jpg","comment_is_top":false,"comment_ctime":1551526590,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27321330366","product_id":100023201,"comment_content":"平常用flex和position:absolute比较多，float用的比较少，我会尽量避免用它。","like_count":6},{"had_liked":false,"id":68217,"user_name":"soulful","can_delete":false,"product_type":"c1","uid":1240490,"ip_address":"","ucode":"93105631E8106A","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/aa/67fbccda.jpg","comment_is_top":false,"comment_ctime":1550458999,"is_pvip":false,"replies":[{"id":"24342","content":"我想把这部分留给你们 我写没用啊","user_name":"作者回复","user_name_real":"winter","uid":"1268524","ctime":1550552781,"ip_address":"","comment_id":68217,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23025295479","product_id":100023201,"comment_content":"希望讲完这部分浏览器工作原理后，能给一个简单的demo实例一节课，把前面的贯通一下，加深理解。","like_count":5,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439570,"discussion_content":"我想把这部分留给你们 我写没用啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550552781,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68090,"user_name":"捉迷藏的铁人","can_delete":false,"product_type":"c1","uid":1374289,"ip_address":"","ucode":"AB20CE54B9BDB8","user_header":"https://static001.geekbang.org/account/avatar/00/14/f8/51/6fa88399.jpg","comment_is_top":false,"comment_ctime":1550411116,"is_pvip":false,"replies":[{"id":"24337","content":"淘宝用weex开发，就只有flex布局。","user_name":"作者回复","user_name_real":"winter","uid":"1268524","ctime":1550552581,"ip_address":"","comment_id":68090,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23025247596","product_id":100023201,"comment_content":"最喜欢flex布局，感觉几乎都可以用它来实战！","like_count":6,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439507,"discussion_content":"淘宝用weex开发，就只有flex布局。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550552581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90135,"user_name":"温木","can_delete":false,"product_type":"c1","uid":1507210,"ip_address":"","ucode":"EAB6EDD6EDFE96","user_header":"","comment_is_top":false,"comment_ctime":1556423650,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14441325538","product_id":100023201,"comment_content":"老师，“当没有强制指定文字书写方向时，在左到右文字中插入右到左向文字，会形成一个双向文字盒，反之亦然。”<br>这个嫩不能给个例子，不明白什么意思。<br><br>","like_count":4},{"had_liked":false,"id":67781,"user_name":"费马","can_delete":false,"product_type":"c1","uid":1190201,"ip_address":"","ucode":"BCAAF9C16F0CC5","user_header":"https://static001.geekbang.org/account/avatar/00/12/29/39/0aec7827.jpg","comment_is_top":false,"comment_ctime":1550273913,"is_pvip":false,"replies":[{"id":"24327","content":"使用定位和浮动没有问题。<br><br>不同排版间的关系这个就复杂了，我觉得遵守可以内外嵌套、但是不混用的规则即可。","user_name":"作者回复","user_name_real":"winter","uid":"1268524","ctime":1550551894,"ip_address":"","comment_id":67781,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14435175801","product_id":100023201,"comment_content":"最喜欢使用flex布局，但是工作中页免不了要使用定位和浮动来实现特殊定位，所以对不同排版之间的关系及相互作用不太清楚，老师可不可以讲讲","like_count":3,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439371,"discussion_content":"使用定位和浮动没有问题。\n\n不同排版间的关系这个就复杂了，我觉得遵守可以内外嵌套、但是不混用的规则即可。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550551894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67770,"user_name":"CC","can_delete":false,"product_type":"c1","uid":1021014,"ip_address":"","ucode":"2B732860C4231B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/94/56/4b8395f6.jpg","comment_is_top":false,"comment_ctime":1550248758,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"14435150646","product_id":100023201,"comment_content":"想起最早 CSS 的排版方案是 table，到 float、position，再到现在的 flex 和 grid。CSS 排版系统还在不断进化，包括 sub grid 有可能让 CSS 更加优美的达到排版目的。<br><br>回到 winter 老师的提问，我平时最喜欢使用 grid，在不同场景下辅助使用 float 和 flex。<br><br>一开始抱有「grid 才是最牛的方案」的想法，但后来发现是自己的误解。在使用中发现，它们几个方案并不冲突，各有所长。<br><br>不知道这样的理解是否准确？<br><br>感谢 winter 老师在上一讲指出我对 CSSOM 的理解问题，通过重新阅读，修正了理解。<br>","like_count":4},{"had_liked":false,"id":83240,"user_name":"小明 张","can_delete":false,"product_type":"c1","uid":1388183,"ip_address":"","ucode":"5C47582DB41528","user_header":"https://static001.geekbang.org/account/avatar/00/15/2e/97/d29edebd.jpg","comment_is_top":false,"comment_ctime":1554476807,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10144411399","product_id":100023201,"comment_content":"移动端布局就上flex。太好用了。","like_count":2},{"had_liked":false,"id":76803,"user_name":"田野的嘴好冰","can_delete":false,"product_type":"c1","uid":1446718,"ip_address":"","ucode":"7B5CEC3CD89C5D","user_header":"https://static001.geekbang.org/account/avatar/00/16/13/3e/f350a41b.jpg","comment_is_top":false,"comment_ctime":1552714656,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10142649248","product_id":100023201,"comment_content":"毫无疑问就是flex布局，但是一旦混用，就无法清楚布局","like_count":2},{"had_liked":false,"id":67778,"user_name":"胡永","can_delete":false,"product_type":"c1","uid":1200543,"ip_address":"","ucode":"6C8BA1E0BED9C0","user_header":"https://static001.geekbang.org/account/avatar/00/12/51/9f/1840385e.jpg","comment_is_top":false,"comment_ctime":1550270312,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10140204904","product_id":100023201,"comment_content":"平常都是写企业中后台，有nz-zerro，基本上都是表格，都是很简单的布局，小程序写过都是用display：flex，老师讲的这些大部分没用过，请问老师 css方面有没有好的自己练习的网站呢？","like_count":2},{"had_liked":false,"id":83369,"user_name":"Fred 、","can_delete":false,"product_type":"c1","uid":1373721,"ip_address":"","ucode":"3D79D4A616EE1D","user_header":"https://static001.geekbang.org/account/avatar/00/14/f6/19/30b63f6d.jpg","comment_is_top":false,"comment_ctime":1554546171,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5849513467","product_id":100023201,"comment_content":"flex自从用过后，就不想用其他的了。。能用flex就用flex","like_count":1},{"had_liked":false,"id":70522,"user_name":"Teng","can_delete":false,"product_type":"c1","uid":1263838,"ip_address":"","ucode":"9175FB20EFCA46","user_header":"https://static001.geekbang.org/account/avatar/00/13/48/de/40f56fdc.jpg","comment_is_top":false,"comment_ctime":1551112616,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5846079912","product_id":100023201,"comment_content":"大框架布局用grid layout 因为方便支持不同device和dynamic responsive. 具体的内部用 flex 排版","like_count":2},{"had_liked":false,"id":67895,"user_name":"William","can_delete":false,"product_type":"c1","uid":1241365,"ip_address":"","ucode":"4499F99B180102","user_header":"https://static001.geekbang.org/account/avatar/00/12/f1/15/8fcf8038.jpg","comment_is_top":false,"comment_ctime":1550316432,"is_pvip":true,"replies":[{"id":"24332","content":"行内级盒会详细介绍，双向文字这个不会，毕竟用到太少啦。","user_name":"作者回复","user_name_real":"winter","uid":"1268524","ctime":1550552249,"ip_address":"","comment_id":67895,"utype":1}],"discussion_count":1,"race_medal":2,"score":"5845283728","product_id":100023201,"comment_content":"双向文字盒，行内级盒两个概念，老师会在css部分详细讲一下吗？","like_count":1,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439416,"discussion_content":"行内级盒会详细介绍，双向文字这个不会，毕竟用到太少啦。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550552249,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":270558,"user_name":"你好，阳光","can_delete":false,"product_type":"c1","uid":2145095,"ip_address":"","ucode":"1A2F487C57F7D9","user_header":"https://static001.geekbang.org/account/avatar/00/20/bb/47/b60ae3eb.jpg","comment_is_top":false,"comment_ctime":1609159384,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1609159384","product_id":100023201,"comment_content":"浮动元素排版中的这段话“在数行之内，主轴方向的排版距离发生了变化，直到交叉轴方向的尺寸超过了浮动元素的交叉轴尺寸范围，主轴排版尺寸才会恢复。float 元素排布完成后，float 元素所在的行需要重新确定位置。”读了3遍，还是没读懂😭","like_count":1,"discussions":[{"author":{"id":1375945,"avatar":"https://static001.geekbang.org/account/avatar/00/14/fe/c9/ef49fbba.jpg","nickname":"啃猪蹄的小朋友","note":"","ucode":"25FA78AEC88D51","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388816,"discussion_content":"同样没有看懂  太抽象了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628996383,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228925,"user_name":"fakefish","can_delete":false,"product_type":"c1","uid":1040310,"ip_address":"","ucode":"C82B549F1837DB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEJsAzWfG8S3R53U8b2MJtLm5RxVnOjaUoLplicXp2KK7OicOf0GMV8MqPW7AfcqWzicZgficZ14Elcumw/132","comment_is_top":false,"comment_ctime":1592839800,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592839800","product_id":100023201,"comment_content":"这里我之前一直困惑两个问题：<br>1、为啥块级包含了浮动元素就能让这个块的主轴方向计算会带上内部浮动的元素。<br>2、既然浮动元素在计算完主轴上的定位浮动元素的后面的文字会围绕前面浮动的图片，而超长的单词会直接到图片下方。<br><br>仔细想了想<br>块级盒比较简单，它总是单独占据一整行，计算出交叉轴方向的高度即可。解决了第一个问题。<br>直到交叉轴方向的尺寸超过了浮动元素的交叉轴尺寸范围，主轴排版尺寸才会恢复。解释了第二个问题。<br>终于得以解脱。<br>","like_count":0},{"had_liked":false,"id":135581,"user_name":"王天狗","can_delete":false,"product_type":"c1","uid":1376470,"ip_address":"","ucode":"C0832F5785F44D","user_header":"https://static001.geekbang.org/account/avatar/00/15/00/d6/3eff7492.jpg","comment_is_top":false,"comment_ctime":1569219881,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1569219881","product_id":100023201,"comment_content":"我看到很多人都喜欢用 flex 布局，但是flex 的兼容性不是很好，","like_count":0,"discussions":[{"author":{"id":2033513,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/07/69/43cf2251.jpg","nickname":"Alan He","note":"","ucode":"A0780F4619D388","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":364890,"discussion_content":"IE死去，基本上没什么大的兼容性问题了吧。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617636096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118489,"user_name":"国先生👀","can_delete":false,"product_type":"c1","uid":1564304,"ip_address":"","ucode":"F5B556BDF92AAB","user_header":"https://static001.geekbang.org/account/avatar/00/17/de/90/361df8af.jpg","comment_is_top":false,"comment_ctime":1564374173,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564374173","product_id":100023201,"comment_content":"flex","like_count":0},{"had_liked":false,"id":117691,"user_name":"霍光传不可不读","can_delete":false,"product_type":"c1","uid":1470825,"ip_address":"","ucode":"EA184C467399A6","user_header":"https://static001.geekbang.org/account/avatar/00/16/71/69/f7ae97c8.jpg","comment_is_top":false,"comment_ctime":1564112005,"is_pvip":false,"replies":[{"id":"54072","content":"这个flex实现不了，只能自己用margin做","user_name":"作者回复","user_name_real":"winter","uid":"1268524","ctime":1570775189,"ip_address":"","comment_id":117691,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1564112005","product_id":100023201,"comment_content":"flex怎么实现如下布局呢？<br>盒子1    间隙1    盒子1    间隙1   盒子1<br>盒子1    间隙1    盒子2<br>（其中，盒子2的宽度等于两个盒子1加上间隙1的宽度和）","like_count":0,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460086,"discussion_content":"这个flex实现不了，只能自己用margin做","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570775189,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1462991,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL4FR8xnGRBTWichMfNpoYHtRQuYbUnH3ZrYWzvK5HSgKAPEPM2Iia98pnHjsfB8C1jJOQIGpUNTp5Q/132","nickname":"Bella","note":"","ucode":"E47153F7397884","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":354969,"discussion_content":"最后一个盒子的 margin-right 设置 auto","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615369734,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1907357,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/1a/9d/dd62f12a.jpg","nickname":"Gochan Tao","note":"","ucode":"28DA949C854469","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301673,"discussion_content":"这种如果非要用flex布局，可以判断盒子个数，合适情况在末尾补个同宽的透明盒子占位就可以了，还可以使用gird布局","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598604440,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1445936,"avatar":"https://static001.geekbang.org/account/avatar/00/16/10/30/c07d419c.jpg","nickname":"卡尔","note":"","ucode":"BD6F76BC18FF8F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":265892,"discussion_content":"flex比例为1比2，justity-content: space-between。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589452363,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112549,"user_name":"张娟娟","can_delete":false,"product_type":"c1","uid":1469056,"ip_address":"","ucode":"9B858CB8D6104D","user_header":"https://static001.geekbang.org/account/avatar/00/16/6a/80/5823d998.jpg","comment_is_top":false,"comment_ctime":1562755835,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562755835","product_id":100023201,"comment_content":"flex","like_count":0},{"had_liked":false,"id":98461,"user_name":"cylim","can_delete":false,"product_type":"c1","uid":1005082,"ip_address":"","ucode":"941310C208BDC1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/1a/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1559006755,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559006755","product_id":100023201,"comment_content":"基本上都在用flex排版，简单应付web跟mobile端。grid要写的css代码会比较多。","like_count":0},{"had_liked":false,"id":96172,"user_name":"馨迤","can_delete":false,"product_type":"c1","uid":1385378,"ip_address":"","ucode":"7A39911575461C","user_header":"https://static001.geekbang.org/account/avatar/00/15/23/a2/733fd073.jpg","comment_is_top":false,"comment_ctime":1558348751,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558348751","product_id":100023201,"comment_content":"老师，想问一下用float排版的时候margin值在不同的浏览器中会显示不同，是什么原因导致的呢？","like_count":0},{"had_liked":false,"id":86916,"user_name":"favorlm","can_delete":false,"product_type":"c1","uid":1120997,"ip_address":"","ucode":"CFD52127AA6E1D","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/e5/6899701e.jpg","comment_is_top":false,"comment_ctime":1555477491,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555477491","product_id":100023201,"comment_content":"平常还是float硬上","like_count":0},{"had_liked":false,"id":86092,"user_name":"务雨","can_delete":false,"product_type":"c1","uid":1188953,"ip_address":"","ucode":"7DD5991E1FD92E","user_header":"https://static001.geekbang.org/account/avatar/00/12/24/59/1fad9cdc.jpg","comment_is_top":false,"comment_ctime":1555310187,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555310187","product_id":100023201,"comment_content":"flex + 定位混用","like_count":0},{"had_liked":false,"id":82313,"user_name":"Geek_3b19ef","can_delete":false,"product_type":"c1","uid":1450201,"ip_address":"","ucode":"CD7C3C91DD90EA","user_header":"","comment_is_top":false,"comment_ctime":1554183459,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554183459","product_id":100023201,"comment_content":"目前开发小程序，用flex比较多一些；网页版就会用float多","like_count":0},{"had_liked":false,"id":80344,"user_name":"Tinker Bell","can_delete":false,"product_type":"c1","uid":1383297,"ip_address":"","ucode":"B43BFC0D45168E","user_header":"https://static001.geekbang.org/account/avatar/00/15/1b/81/51d4e5aa.jpg","comment_is_top":false,"comment_ctime":1553650957,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553650957","product_id":100023201,"comment_content":"应该到哪里找文档流和排版的相关内容？","like_count":0},{"had_liked":false,"id":77156,"user_name":"爱学习的大叔","can_delete":false,"product_type":"c1","uid":1085152,"ip_address":"","ucode":"91F9ABF1EC98D0","user_header":"https://static001.geekbang.org/account/avatar/00/10/8e/e0/847348b1.jpg","comment_is_top":false,"comment_ctime":1552872945,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552872945","product_id":100023201,"comment_content":"最近做了个页面，用的flex，感觉太好用了。还支持响应式","like_count":0},{"had_liked":false,"id":73999,"user_name":"我在时光机里找回忆","can_delete":false,"product_type":"c1","uid":1391450,"ip_address":"","ucode":"747081EF8AE506","user_header":"https://static001.geekbang.org/account/avatar/00/15/3b/5a/4e3743e1.jpg","comment_is_top":false,"comment_ctime":1552056527,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552056527","product_id":100023201,"comment_content":"最喜欢flex布局，因为经常要用到多个块级元素并排的效果，又不想清除浮动，而且flex还可以居中对齐，浮动只能顶对齐","like_count":0},{"had_liked":false,"id":73494,"user_name":"独角兽","can_delete":false,"product_type":"c1","uid":1379052,"ip_address":"","ucode":"177D67D17BC84B","user_header":"https://static001.geekbang.org/account/avatar/00/15/0a/ec/bea93d97.jpg","comment_is_top":false,"comment_ctime":1551917828,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551917828","product_id":100023201,"comment_content":"满满的干货。<br>发现自己对知识点理解是多么的表面，学习了好多，谢谢winter老师","like_count":0},{"had_liked":false,"id":71547,"user_name":"scaler","can_delete":false,"product_type":"c1","uid":1323358,"ip_address":"","ucode":"406B139B6801FF","user_header":"https://static001.geekbang.org/account/avatar/00/14/31/5e/bfe33acd.jpg","comment_is_top":false,"comment_ctime":1551366634,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551366634","product_id":100023201,"comment_content":"flex布局，和绝对定位是用的比较多，以flex为主","like_count":0},{"had_liked":false,"id":71048,"user_name":"靠人品去赢","can_delete":false,"product_type":"c1","uid":1301286,"ip_address":"","ucode":"7A20F9EBE847E1","user_header":"https://static001.geekbang.org/account/avatar/00/13/db/26/54f2c164.jpg","comment_is_top":false,"comment_ctime":1551254138,"is_pvip":false,"replies":[{"id":"25927","content":"你理解的是对的，除了flex，还有table、grid等很多排版方式，我们这里就不一一讲啦。","user_name":"作者回复","user_name_real":"winter","uid":"1268524","ctime":1551432711,"ip_address":"","comment_id":71048,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551254138","product_id":100023201,"comment_content":"这节我可以理解为正常流的排版方式，里面的文字元素的排版，盒元素的排版，以及定义为绝对元素，浮动元素的排版。<br>顺便提了一嘴flex排版方式（我的理解是针对浏览器，是和正常流一样级别的，一个是按照我们常见的印刷排版，还有一种是直接针对这个浏览器做一个大大的flex的排版方式。）<br>希望大家能给出相关意见，我的理解是不是对的有没有不准确的。","like_count":0,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440959,"discussion_content":"你理解的是对的，除了flex，还有table、grid等很多排版方式，我们这里就不一一讲啦。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551432711,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70148,"user_name":"Geek_b98fa9","can_delete":false,"product_type":"c1","uid":1381794,"ip_address":"","ucode":"3248D17C83CB12","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqcydTiau1micxiaGrtFlicT3vbpgH3yibS2ibJcDjQ4450gKjJL0ZWpPkNLltZU9ChOv4kws9FsDpVlHSQ/132","comment_is_top":false,"comment_ctime":1551013533,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551013533","product_id":100023201,"comment_content":"大家有谁大概实现了“玩具浏览器”的？或者有大概的思路，希望可以发出来探讨一番，学习学习","like_count":0},{"had_liked":false,"id":69464,"user_name":"Yangfan","can_delete":false,"product_type":"c1","uid":1385230,"ip_address":"","ucode":"A296F4982AE240","user_header":"https://static001.geekbang.org/account/avatar/00/15/23/0e/3b5a0265.jpg","comment_is_top":false,"comment_ctime":1550751324,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550751324","product_id":100023201,"comment_content":"浮动元素到底有木有脱离正常文档理解流，<br>父元素高度塌陷了，但是浮动元素还占据原来的位置，后面的普通元素也没有向左排版","like_count":0},{"had_liked":false,"id":68274,"user_name":"レイン小雨","can_delete":false,"product_type":"c1","uid":1219933,"ip_address":"","ucode":"45BED977EFE852","user_header":"https://static001.geekbang.org/account/avatar/00/12/9d/5d/3fdead91.jpg","comment_is_top":false,"comment_ctime":1550475032,"is_pvip":false,"replies":[{"id":"24345","content":"流式处理嘛，是水流的意思，所以并行程度取决于零件的粒度，零件越小，并行度就越高。","user_name":"作者回复","user_name_real":"winter","uid":"1268524","ctime":1550553027,"ip_address":"","comment_id":68274,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550475032","product_id":100023201,"comment_content":"想问一下老师说的‘流式处理’ 是怎样的一种模型？我脑海中浮现的样子就像是车间流水线式的工作方式，但这不就是同步阻塞的工作方式吗，一个零件的加工步骤是一步一步来的啊，上一个步骤不加工完，流程就到不了你这里来，你就不能进行第二部加工啊。","like_count":0,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439602,"discussion_content":"流式处理嘛，是水流的意思，所以并行程度取决于零件的粒度，零件越小，并行度就越高。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550553027,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68123,"user_name":"文刀帅","can_delete":false,"product_type":"c1","uid":1326050,"ip_address":"","ucode":"216745A4052F4F","user_header":"https://static001.geekbang.org/account/avatar/00/14/3b/e2/e19ec3ca.jpg","comment_is_top":false,"comment_ctime":1550420339,"is_pvip":false,"replies":[{"id":"24340","content":"后面有讲","user_name":"作者回复","user_name_real":"winter","uid":"1268524","ctime":1550552704,"ip_address":"","comment_id":68123,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550420339","product_id":100023201,"comment_content":"希望老师多讲讲闭包的问题","like_count":0,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439526,"discussion_content":"后面有讲","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550552704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67869,"user_name":"rhodamine","can_delete":false,"product_type":"c1","uid":1392473,"ip_address":"","ucode":"476592BD3CB1B4","user_header":"","comment_is_top":false,"comment_ctime":1550303932,"is_pvip":false,"replies":[{"id":"24331","content":"听上去grid布局可以解决。","user_name":"作者回复","user_name_real":"winter","uid":"1268524","ctime":1550552190,"ip_address":"","comment_id":67869,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550303932","product_id":100023201,"comment_content":"以前做的项目里涉及过文章复杂嵌套表格的展示问题，至今似乎都没有发现web上有更好的解决方案，大部分是table实现的简单表格或是图片形式。当时也只是采用了图片的形式，后面改成svg的形式。不知道未来在web出版上会不会有改进。","like_count":0,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439406,"discussion_content":"听上去grid布局可以解决。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550552190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":258361,"title":"29 | 应用：使用RetinaNet检测货架商品","content":"<h1>课件和 Demo 地址</h1><p><a href=\"https://gitee.com/geektime-geekbang/tensorflow-101/tree/master/experts\">https://gitee.com/geektime-geekbang/tensorflow-101/tree/master/experts</a></p>","comments":[{"had_liked":false,"id":293121,"user_name":"老A","can_delete":false,"product_type":"c3","uid":1806678,"ip_address":"","ucode":"6B3BB0851583BD","user_header":"https://static001.geekbang.org/account/avatar/00/1b/91/56/f714ad14.jpg","comment_is_top":false,"comment_ctime":1621228615,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100053201,"comment_content":"老师，我把课程中的使用的案例用在其他场景，但是训练每个epoch的mAP都是0,这是怎么回事？","like_count":1},{"had_liked":false,"id":253454,"user_name":"Meteorite","can_delete":false,"product_type":"c3","uid":1579488,"ip_address":"","ucode":"3634C3C56EAF7E","user_header":"https://static001.geekbang.org/account/avatar/00/18/19/e0/dddf807b.jpg","comment_is_top":false,"comment_ctime":1602743646,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100053201,"comment_content":"如果执行“使用GPU推理”出现：AttributeError: &#39;int&#39; object has no attribute &#39;split&#39;错误。\n可尝试把 gpu=0 改为 gpu=str(0)解决。\n\n","like_count":1},{"had_liked":false,"id":250647,"user_name":"杰洛特","can_delete":false,"product_type":"c3","uid":1098146,"ip_address":"","ucode":"46D0574654F8AC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqEacia8yO1dR5Tal9B7w8PzTRrViajlAvDph96OqcuBGe29icbXOibhibGmaBcO7BfpVia0Y8ksZwsuAYQ/132","comment_is_top":false,"comment_ctime":1601185326,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100053201,"comment_content":"加载 keras_retinanet 的时候，注意需要添加 import 路径，否则会报 no module named keras_retinanet\nsys.path.append(os.path.join(os.getcwd(), &#39;keras-retinanet&#39;))","like_count":1},{"had_liked":false,"id":256838,"user_name":"杨晓民","can_delete":false,"product_type":"c3","uid":2262386,"ip_address":"","ucode":"38F35C05C1D7B5","user_header":"","comment_is_top":false,"comment_ctime":1603763296,"is_pvip":false,"replies":null,"discussion_count":3,"race_medal":0,"score":2,"product_id":100053201,"comment_content":"这一节的代码应该有问题吧？我看keras-retinanet中每个epoch的steps默认为10000，实际白酒的样本只有90张，是不是应该设置steps为90，但是我设置了steps不起作用，感觉像是keras-retinanet代码处理的有问题。retinanet检测代码模型训练连第一个epoch都跑不完。一直报错","like_count":0,"discussions":[{"author":{"id":1739638,"avatar":"","nickname":"datascience","note":"","ucode":"0087B7F1C966E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325844,"discussion_content":"我也遇到这个问题, retinaNet跑不通","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605443190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2262386,"avatar":"","nickname":"杨晓民","note":"","ucode":"38F35C05C1D7B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1739638,"avatar":"","nickname":"datascience","note":"","ucode":"0087B7F1C966E1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329209,"discussion_content":"修改retinanet 源码step值，就可以了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606349302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":325844,"ip_address":"","group_id":0},"score":329209,"extra":""},{"author":{"id":1140596,"avatar":"https://static001.geekbang.org/account/avatar/00/11/67/74/b4f78eb9.jpg","nickname":"周宇","note":"","ucode":"8ECE0057DA2610","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2262386,"avatar":"","nickname":"杨晓民","note":"","ucode":"38F35C05C1D7B5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332149,"discussion_content":"不用修改源码，在参数上加上--steps 90，就可以训练。不过这个--steps的参数要加在靠前的位置，不能放到最后面。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1607075743,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":329209,"ip_address":"","group_id":0},"score":332149,"extra":""}]}]}]}
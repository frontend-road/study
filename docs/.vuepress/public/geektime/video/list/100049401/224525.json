{"id":224525,"title":"17 | Ingressï¼šæ§åˆ¶è¿›å…¥ç½‘æ ¼çš„è¯·æ±‚","content":"<p><strong>è¯¾ä»¶å’ŒDemoåœ°å€</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-servicemesh\">https://gitee.com/geektime-geekbang/geektime-servicemesh</a></p>","comments":[{"had_liked":false,"id":213247,"user_name":"hhhh","can_delete":false,"product_type":"c3","uid":1256101,"ip_address":"","ucode":"9E87017424B382","user_header":"https://static001.geekbang.org/account/avatar/00/13/2a/a5/625c0a2e.jpg","comment_is_top":false,"comment_ctime":1588340123,"is_pvip":false,"replies":[{"id":79151,"content":"ç†è§£çš„å¾ˆå¥½ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1588424209,"ip_address":"","comment_id":213247,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"ingressæ˜¯ä¸æ˜¯åªæ˜¯ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œå¯ä»¥é€šè¿‡gatewayè¿™ä¸ªå®é™…apiå®ç°ï¼Œä¸çŸ¥é“æˆ‘è¿™æ ·ç†è§£å¯¹ä¸å¯¹ï¼Ÿ\nk8sé‡Œé¢æ²¡æœ‰virtualServiceçš„æ¦‚å¿µï¼Œå…¶åç«¯çš„realserverå°±æ˜¯K8sçš„service.\nistioä¸ä»…æŠ½è±¡å‡ºäº†virtualServiceï¼Œ è¿˜æä¾›äº†subSet, æ§åˆ¶å¹³é¢ä¿®æ”¹è¿™ä¿©æŠ½è±¡ï¼Œä»è€Œèƒ½å¤Ÿå®ç°å‰é¢å‡ è®²ä¸­çš„åŠŸèƒ½\næˆ‘æ˜¯è¿™æ ·ç†è§£çš„è¿™ä¸ªè®¾è®¡å·®å¼‚çš„ï¼šistioæ˜¯ä¸“æ³¨äºæœåŠ¡ç½‘æ ¼çš„ï¼Œå¿…ç„¶ä¸ºäº†æä¾›servicemeshç›¸å…³çš„çµæ´»åŠŸèƒ½è¦å¤šè¿›è¡ŒæŠ½è±¡ã€‚\nè€Œk8sä¸“æ³¨äºå®¹å™¨ç¼–æ’ï¼Œåªæä¾›äº†æœåŠ¡æ–¹é¢åŸºæœ¬çš„åŠŸèƒ½ï¼Œé«˜çº§åŠŸèƒ½ä¾æ‰˜äºmasterä»£ç ä¹‹å¤–çš„æ’ä»¶å®ç°ã€‚ç°åœ¨æ˜¯servcie meshæ´»ï¼Œè¿‡å‡ å¹´ä¸çŸ¥é“åˆæ˜¯ä»€ä¹ˆäº†ï¼Œæ‰€ä»¥k8sçš„è®¾è®¡æˆ‘è§‰å¾—è¿˜æ˜¯ç¬¦åˆè®¾è®¡åŸåˆ™ï¼ŒèŒè´£å•ä¸€ï¼Œå¯¹æ‰©å±•å¼€æ”¾ã€‚","like_count":5,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493720,"discussion_content":"ç†è§£çš„å¾ˆå¥½ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588424209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226456,"user_name":"piboye","can_delete":false,"product_type":"c3","uid":1066752,"ip_address":"","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1592108907,"is_pvip":true,"replies":[{"id":83411,"content":"æ§åˆ¶é¢ä¸ä¼šå½±å“ä½ çš„åº”ç”¨ï¼Œæ•°æ®é¢çš„envoyæœ¬èº«çš„æ€§èƒ½æ˜¯å¾ˆå¥½çš„ï¼Œå®˜æ–¹çš„benchmarkå¤§çº¦æ˜¯2mså»¶è¿Ÿï¼Œä»æˆ‘ä»¬è‡ªå·±åšçš„æµ‹è¯•æ¥çœ‹ä¹Ÿæ˜¯æ¯”è¾ƒå¯ä¿¡çš„","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1592143192,"ip_address":"","comment_id":226456,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"istio å¯¹æ€§èƒ½å½±å“å¾ˆå¤§å§ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498246,"discussion_content":"æ§åˆ¶é¢ä¸ä¼šå½±å“ä½ çš„åº”ç”¨ï¼Œæ•°æ®é¢çš„envoyæœ¬èº«çš„æ€§èƒ½æ˜¯å¾ˆå¥½çš„ï¼Œå®˜æ–¹çš„benchmarkå¤§çº¦æ˜¯2mså»¶è¿Ÿï¼Œä»æˆ‘ä»¬è‡ªå·±åšçš„æµ‹è¯•æ¥çœ‹ä¹Ÿæ˜¯æ¯”è¾ƒå¯ä¿¡çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592143192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1066752,"avatar":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","nickname":"piboye","note":"","ucode":"7CFD8712857A85","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283504,"discussion_content":"qpså¯ä»¥è¾¾åˆ°å¤šå°‘ï¼Œå¯ä»¥åˆ°10wä¸ï¼Ÿ\nistioå¯ä»¥ä½¿ç”¨éé€æ˜ä»£ç†çš„æ–¹å¼ä¸ï¼Œä¾µå…¥å¼çš„åº“æˆ–è€…æ¡†æ¶æ˜¯ä¸æ˜¯ä¼šæ›´å¿«ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592284734,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298332,"user_name":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","can_delete":false,"product_type":"c3","uid":1000015,"ip_address":"","ucode":"E067320E537DEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","comment_is_top":false,"comment_ctime":1624019197,"is_pvip":false,"replies":[{"id":108519,"content":"Ingressä¸€èˆ¬æ˜¯å…¥å£ï¼Œåé¢æŒ‚ä¸€ä¸ªvsï¼Œè´Ÿè´£è¯·æ±‚åˆ†å‘","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1624534699,"ip_address":"","comment_id":298332,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è¯·æ•™ä¸‹: éœ€è¦ä¸º æ¯ä¸ª Ingress gateway åé¢è·¯ç”±çš„å¾®æœåŠ¡ éƒ½ åˆ›å»ºä¸€ä¸ª VirtualService å’Œ DestinationRule è¿›è¡Œè·¯ç”±è½¬å‘? è¿™å—ä¸€èˆ¬æ€ä¹ˆç©ï¼Ÿ ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522102,"discussion_content":"Ingressä¸€èˆ¬æ˜¯å…¥å£ï¼Œåé¢æŒ‚ä¸€ä¸ªvsï¼Œè´Ÿè´£è¯·æ±‚åˆ†å‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624534699,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286284,"user_name":"é£ç¿”","can_delete":false,"product_type":"c3","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1617239935,"is_pvip":false,"replies":[{"id":104296,"content":"ä¸€ä¸ªæ˜¯åº”ç”¨å†…éƒ¨çš„å…¥å£ç½‘å…³ï¼Œä¸€ä¸ªæ˜¯å¤–éƒ¨çš„apiç½‘å…³","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1617870266,"ip_address":"","comment_id":286284,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"17 è®²çš„ingress å’Œ14è®²çš„gateway æœ‰å•¥åŒºåˆ«å‘€","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517934,"discussion_content":"ä¸€ä¸ªæ˜¯åº”ç”¨å†…éƒ¨çš„å…¥å£ç½‘å…³ï¼Œä¸€ä¸ªæ˜¯å¤–éƒ¨çš„apiç½‘å…³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617870266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1112676,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fa/64/457325e6.jpg","nickname":"Sam Fu","note":"","ucode":"EA285A4943271F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":560535,"discussion_content":"è¿™ä¸¤ä¸ªå…·ä½“åŒºåˆ«æ˜¯ä»€ä¹ˆå‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649384038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":517934,"ip_address":"","group_id":0},"score":560535,"extra":""}]},{"author":{"id":1000015,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/4f/ff1ac464.jpg","nickname":"åˆåŒå’å•æ˜¯ä¸€å¹´å•Š","note":"","ucode":"E067320E537DEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379622,"discussion_content":"åº”ç”¨å†…éƒ¨ç½‘å…³æ˜¯åš mesh å†…éƒ¨æœåŠ¡ çš„æµæ§å’Œè·¯ç”±è½¬å‘çš„æ˜¯å§? æ˜¯å¿…é¡»çš„ï¼Ÿè¿™ä¸ªå…³ç³»æ˜¯ä»€ä¹ˆæ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624019643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":277624,"user_name":"æ¨","can_delete":false,"product_type":"c3","uid":1971269,"ip_address":"","ucode":"7EFEFE285975C6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/oltLEqTrmHm2aJP99BK6tHu5h7hp4aj08wR5Wt6H31iadFduDAVvjYKmhQ2nvGbLV3lkVdiat2GRasgWXoJeTibUg/132","comment_is_top":false,"comment_ctime":1612495112,"is_pvip":false,"replies":[{"id":101054,"content":"æˆ‘å‡å®šä½ æŒ‡çš„æ˜¯é€šè¿‡Istioå®ç°ï¼Œå¯ä»¥é€šè¿‡æˆæƒç›¸å…³åŠŸèƒ½å®ç°ï¼Œè¿™ä¸ªåœ¨ç¬¬34è®²æœ‰ä¾‹å­ã€‚\nä¸é€šè¿‡istioçš„ä¹Ÿå¾ˆå¤šï¼Œæ¯”è¾ƒå¸¸è§çš„åšæ³•å°±æ˜¯åœ¨apiç½‘å…³è¿™ä¸€å±‚åšï¼ˆå¤§éƒ¨åˆ†å…¬æœ‰äº‘éƒ½æä¾›è¿™æ ·çš„èƒ½åŠ›ï¼‰ï¼›ä¹Ÿå¯ä»¥ä¸“é—¨åšä¸€ä¸ªé‰´æƒçš„sidecarï¼Œé‡Œé¢å°±æ˜¯ä½ å®ç°çš„é‰´æƒæœåŠ¡ï¼Œè®©è¯·æ±‚å…ˆç»è¿‡è¿™ä¸ªsidecarï¼ŒéªŒè¯é€šè¿‡åå†redirectå»åº”ç”¨çš„å®¹å™¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1612861975,"ip_address":"","comment_id":277624,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸€ä¸‹  æˆ‘å¦‚æœæƒ³åœ¨å‰ç«¯å’Œåç«¯ä¸­é—´åŠ ä¸€ä¸ªé‰´æƒæœåŠ¡å’‹åš  æˆ‘å¯ä»¥åœ¨é‰´æƒæœåŠ¡ä¸­è®¾ç½®ä¸€äº›è¯·æ±‚å¤´  åšä¸€äº›ä¹Ÿè®¸é€»è¾‘ ç„¶åå†å»å…¶å®ƒæœåŠ¡","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515120,"discussion_content":"æˆ‘å‡å®šä½ æŒ‡çš„æ˜¯é€šè¿‡Istioå®ç°ï¼Œå¯ä»¥é€šè¿‡æˆæƒç›¸å…³åŠŸèƒ½å®ç°ï¼Œè¿™ä¸ªåœ¨ç¬¬34è®²æœ‰ä¾‹å­ã€‚\nä¸é€šè¿‡istioçš„ä¹Ÿå¾ˆå¤šï¼Œæ¯”è¾ƒå¸¸è§çš„åšæ³•å°±æ˜¯åœ¨apiç½‘å…³è¿™ä¸€å±‚åšï¼ˆå¤§éƒ¨åˆ†å…¬æœ‰äº‘éƒ½æä¾›è¿™æ ·çš„èƒ½åŠ›ï¼‰ï¼›ä¹Ÿå¯ä»¥ä¸“é—¨åšä¸€ä¸ªé‰´æƒçš„sidecarï¼Œé‡Œé¢å°±æ˜¯ä½ å®ç°çš„é‰´æƒæœåŠ¡ï¼Œè®©è¯·æ±‚å…ˆç»è¿‡è¿™ä¸ªsidecarï¼ŒéªŒè¯é€šè¿‡åå†redirectå»åº”ç”¨çš„å®¹å™¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612861975,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233125,"user_name":"Ò‰","can_delete":false,"product_type":"c3","uid":1130004,"ip_address":"","ucode":"97EFF35344F754","user_header":"https://static001.geekbang.org/account/avatar/00/11/3e/14/f844ecca.jpg","comment_is_top":false,"comment_ctime":1594222689,"is_pvip":false,"replies":[{"id":86045,"content":"å¯ä»¥å®šä¹‰å¤šä¸ªï¼ŒæŒ‚æ¥å„è‡ªçš„virtualserviceå³å¯","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1594271386,"ip_address":"","comment_id":233125,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"å¦‚ä½•é…ç½®å¤šä¸ª istio-gatewayingress ç½‘å…³æœåŠ¡ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500903,"discussion_content":"å¯ä»¥å®šä¹‰å¤šä¸ªï¼ŒæŒ‚æ¥å„è‡ªçš„virtualserviceå³å¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594271386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1130004,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3e/14/f844ecca.jpg","nickname":"Ò‰","note":"","ucode":"97EFF35344F754","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289939,"discussion_content":"ä¸æ˜¯å®šä¹‰å¤šä¸ªgateway èµ„æºï¼Œæ˜¯å®šä¹‰å¤šä¸ªistio-ingressgateway æœåŠ¡ã€‚\n\næˆ‘æƒ³åŒºåˆ†ä¸‹ç½‘å…³æœåŠ¡ã€‚ è€å¸ˆæœ‰ç ”ç©¶è¿‡æ€ä¹ˆé…å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594276055,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1336951,"avatar":"https://static001.geekbang.org/account/avatar/00/14/66/77/194ba21d.jpg","nickname":"ileruza","note":"","ucode":"C3D83DF4230109","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1130004,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3e/14/f844ecca.jpg","nickname":"Ò‰","note":"","ucode":"97EFF35344F754","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576504,"discussion_content":"è¿™å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„serviceå•Šï¼Œå¼„ä¸ªyamlï¼Œapply -få°±è¡Œäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655611911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":289939,"ip_address":"","group_id":0},"score":576504,"extra":""}]}]},{"had_liked":false,"id":216645,"user_name":"è’‹å°æ³¢","can_delete":false,"product_type":"c3","uid":1582588,"ip_address":"","ucode":"DF3AB36741D1DA","user_header":"https://static001.geekbang.org/account/avatar/00/18/25/fc/a128f2e2.jpg","comment_is_top":false,"comment_ctime":1589300606,"is_pvip":false,"replies":[{"id":80354,"content":"ä»€ä¹ˆç‰ˆæœ¬ï¼Ÿæœ‰æ²¡æœ‰å…·ä½“åˆ†æä¸‹å†…å­˜é«˜çš„åŸå› ï¼Ÿä½ ä»¬æ˜¯ä»€ä¹ˆå¤æ‚çš„åº”ç”¨éœ€è¦æ‹†åˆ†è¿™ä¹ˆå¤šæœåŠ¡ï¼Ÿå³ä¾¿å¦‚æ­¤ï¼Œå¯¹å¤–æš´éœ²ç»™ingressçš„ä¹Ÿä¸å¤šå§ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"é©¬è‹¥é£","uid":1046394,"ctime":1589470470,"ip_address":"","comment_id":216645,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è€å¸ˆå¥½ï¼Œistio-ingressgatewayåœ¨å…·æœ‰8000ä¸ªsvcçš„ç¯å¢ƒä¸­ï¼Œä½¿ç”¨å†…å­˜é«˜ï¼Œè¿™ç§ä¸€èˆ¬åœ¨éƒ¨ç½²çº¿ä¸Šç¯å¢ƒæœ‰ä»€ä¹ˆå»ºè®®å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1046394,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","nickname":"é©¬è‹¥é£","note":"","ucode":"3D0327329A10AE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494893,"discussion_content":"ä»€ä¹ˆç‰ˆæœ¬ï¼Ÿæœ‰æ²¡æœ‰å…·ä½“åˆ†æä¸‹å†…å­˜é«˜çš„åŸå› ï¼Ÿä½ ä»¬æ˜¯ä»€ä¹ˆå¤æ‚çš„åº”ç”¨éœ€è¦æ‹†åˆ†è¿™ä¹ˆå¤šæœåŠ¡ï¼Ÿå³ä¾¿å¦‚æ­¤ï¼Œå¯¹å¤–æš´éœ²ç»™ingressçš„ä¹Ÿä¸å¤šå§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589470470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212935,"user_name":"Charles","can_delete":false,"product_type":"c3","uid":1201560,"ip_address":"","ucode":"C8C8A4F2B6C20F","user_header":"https://static001.geekbang.org/account/avatar/00/12/55/98/a49061ab.jpg","comment_is_top":false,"comment_ctime":1588240315,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"apiVersion: networking.istio.io&#47;v1beta1\nkind: Gateway\nmetadata:\n  name: httpbin-gateway\nspec:\n  selector:\n    istio: ingressgateway\n  servers:\n  - port:\n      name: http\n      number: 80\n      protocol: HTTP\n    hosts:\n    - &#39;*&#39;\n\napiVersion: networking.istio.io&#47;v1alpha3\nkind: VirtualService\nmetadata:\n  name: httpbin \nspec:\n  gateways:\n  - httpbin-gateway\n  hosts:\n  - &#39;*&#39;\n  http:\n  - match:\n    - uri:\n        prefix: &#47;status\n    - uri:\n        prefix: &#47;delay\n    route:\n    - destination:\n        host: httpbin \n        port:\n          number: 8000 ","like_count":3},{"had_liked":false,"id":348970,"user_name":"ileruza","can_delete":false,"product_type":"c3","uid":1336951,"ip_address":"","ucode":"C3D83DF4230109","user_header":"https://static001.geekbang.org/account/avatar/00/14/66/77/194ba21d.jpg","comment_is_top":false,"comment_ctime":1655611849,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"curl -x 127.0.0.1:32162 -I -HHost.httpbin.example.com http:&#47;&#47;httpbin.example.com&#47;status&#47;200\n\n32162æ¢æˆä½ è‡ªå·±çš„istio-ingressgatewayè¿™ä¸ªserviceä¸­æŒ‡å‘80çš„port","like_count":1},{"had_liked":false,"id":369996,"user_name":"Geek_1c5814","can_delete":false,"product_type":"c3","uid":3541501,"ip_address":"å¹¿ä¸œ","ucode":"A1FD683A3217AE","user_header":"","comment_is_top":false,"comment_ctime":1678238465,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100049401,"comment_content":"è¯·é—®ä¸ºä»€ä¹ˆè®¿é—®çš„ä¸æ˜¯gatewayçš„svc ip, è€Œæ˜¯localhost?","like_count":0},{"had_liked":false,"id":359754,"user_name":"ï½","can_delete":false,"product_type":"c3","uid":1494270,"ip_address":"å¹¿ä¸œ","ucode":"BF9A5925C978C4","user_header":"https://static001.geekbang.org/account/avatar/00/16/cc/fe/702cf7bf.jpg","comment_is_top":false,"comment_ctime":1665839045,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"è€å¸ˆè¯·æ•™ä¸ªé—®é¢˜ï¼Œæˆ‘åå¤çœ‹äº†å‡ éè¯¾ç¨‹éƒ½æ²¡æœ‰ç†è§£ã€‚gwã€vsã€drã€‚è¿™ä¸ª3ä¸ªé…ç½®å…·ä½“æ˜¯åˆ†å‘åˆ°istio-ingressgatewayï¼ˆè¾¹ç¼˜ç½‘å…³ï¼‰ã€è¿˜æ˜¯å®¢æˆ·ç«¯AæœåŠ¡è¿˜æ˜¯è¢«è¯·æ±‚çš„BæœåŠ¡ã€‚è¯´è¯´æˆ‘çš„ç†è§£ã€‚gwåˆ†å‘ç»™ingressgatewayè¾¹è½¦ï¼Œvså’Œdråˆ†å‘ç»™å®¢æˆ·ç«¯AæœåŠ¡çš„è¾¹è½¦ï¼ŒBæœåŠ¡æ˜¯è¾¹è½¦ä¸éœ€è¦è¿™äº›é…ç½®ï¼Ÿä¸çŸ¥é“ç†è§£çš„æ€ä¹ˆæ ·ï¼Œè¯·è€å¸ˆæˆ–è€…å„ä½å¤§ç¥è§£ç­”ä¸‹ï¼Œè°¢è°¢äº†ã€‚","like_count":0},{"had_liked":false,"id":348042,"user_name":"å·¦æ°§ä½›æ²™æ˜Ÿäºº","can_delete":false,"product_type":"c3","uid":1195278,"ip_address":"","ucode":"0D8295E1DABA8C","user_header":"https://static001.geekbang.org/account/avatar/00/12/3d/0e/92176eaa.jpg","comment_is_top":false,"comment_ctime":1654685128,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"è€å¸ˆèƒ½ä¸èƒ½æŠŠè¯¾ä»¶æå®Œæ•´å•Šï¼Œé…ç½®å°‘äº†vså‘¢","like_count":0},{"had_liked":false,"id":348041,"user_name":"å·¦æ°§ä½›æ²™æ˜Ÿäºº","can_delete":false,"product_type":"c3","uid":1195278,"ip_address":"","ucode":"0D8295E1DABA8C","user_header":"https://static001.geekbang.org/account/avatar/00/12/3d/0e/92176eaa.jpg","comment_is_top":false,"comment_ctime":1654684966,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"curl -HHost:httpbin.example.com --resolve httpbin.example.com:443:127.0.0.1 --cacert example.com.crt &quot;http:&#47;&#47;httpbin.example.com&#47;status&#47;418&quot;\ncurl: (6) Could not resolve host: httpbin.example.com\næŒ‰ç…§è¯¾ä»¶ï¼Œåštlsé…ç½®ï¼Œè®¿é—®å¤±è´¥ï¼Œæˆ‘çš„æ˜¯éƒ¨ç½²åœ¨é›†ç¾¤é‡Œçš„ï¼Œæ€ä¹ˆæµ‹è¯•å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":341061,"user_name":"å¾å°‘æ–‡","can_delete":false,"product_type":"c3","uid":1670331,"ip_address":"","ucode":"8E35B10DA44EE3","user_header":"https://static001.geekbang.org/account/avatar/00/19/7c/bb/635a2710.jpg","comment_is_top":false,"comment_ctime":1649319510,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"è€å¸ˆï¼Œæˆ‘æŒ‰ç…§æ‚¨è¯¾ä¸Šçš„æ­¥éª¤è¿›è¡Œä¹‹ååœ¨è¿›è¡Œcurlçš„æ—¶å€™å‘ç°è¿”å›502 Bad Gatewayï¼Œä¸çŸ¥é“æ˜¯ä»€ä¹ˆåŸå› ","like_count":0,"discussions":[{"author":{"id":1195278,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3d/0e/92176eaa.jpg","nickname":"å·¦æ°§ä½›æ²™æ˜Ÿäºº","note":"","ucode":"0D8295E1DABA8C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575841,"discussion_content":"åç«¯ä¸å¯è¾¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655134151,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295584,"user_name":"Geek_397bc1","can_delete":false,"product_type":"c3","uid":2574736,"ip_address":"","ucode":"B400595AB958DA","user_header":"","comment_is_top":false,"comment_ctime":1622496301,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100049401,"comment_content":"14å’Œ17 æœ¬è´¨éƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·çš„å§ï¼Ÿåªæ˜¯åœ¨ç”¨SNIåœ¨ingressgatewayåœ°æ–¹é€‰æ‹©åŒºåˆ†äº†ä¸€ä¸‹ä»€ä¹ˆæœåŠ¡","like_count":0}]}
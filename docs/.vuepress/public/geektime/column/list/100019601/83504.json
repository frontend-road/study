{"id":83504,"title":"24 | é»‘ç™½ç°ï¼Œç†è§£å»¶è¿Ÿåˆ†é…çš„ä¸¤é¢æ€§","content":"<p>ä¸Šä¸€æ¬¡ï¼Œæˆ‘ä»¬è®¨è®ºäº†å‡å°‘å†…å­˜ä½¿ç”¨çš„ä¸¤ä¸ªå¤§æ–¹å‘ï¼Œå‡å°‘å®ä¾‹æ•°é‡å’Œå‡å°‘å®ä¾‹çš„å°ºå¯¸ã€‚å¦‚æœæˆ‘ä»¬æŠŠæ—¶é—´çš„å› ç´ è€ƒè™‘åœ¨å†…ï¼Œè¿˜æœ‰ä¸€äº›é‡è¦çš„æŠ€æœ¯ï¼Œå¯ä»¥ç”¨æ¥å‡å°‘è¿è¡Œæ—¶çš„å®ä¾‹æ•°é‡ã€‚å…¶ä¸­ï¼Œå»¶è¿Ÿåˆ†é…æ˜¯ä¸€ä¸ªé‡è¦çš„æ€è·¯ã€‚</p><h2>å»¶è¿Ÿåˆ†é…</h2><p>åœ¨å‰é¢è®¨è®ºæ€ä¹ˆå†™å£°æ˜çš„æ—¶å€™ï¼Œä¸ºäº†é¿å…åˆå§‹åŒ–çš„é—æ¼æˆ–è€…ä¸å¿…è¦çš„ä»£ç é‡å¤ï¼Œæˆ‘ä»¬ä¸€èˆ¬å»ºè®®â€œå£°æ˜æ—¶å°±åˆå§‹åŒ–â€ã€‚ä½†æ˜¯ï¼Œå¦‚æœåˆå§‹åŒ–æ¶‰åŠçš„è®¡ç®—é‡æ¯”è¾ƒå¤§ï¼Œå ç”¨çš„èµ„æºæ¯”è¾ƒå¤šæˆ–è€…å ç”¨çš„æ—¶é—´æ¯”è¾ƒé•¿ï¼Œå£°æ˜æ—¶å°±åˆå§‹åŒ–çš„æ–¹æ¡ˆå¯èƒ½ä¼šå ç”¨ä¸å¿…è¦çš„èµ„æºï¼Œç”šè‡³æˆä¸ºè½¯ä»¶çš„ä¸€ä¸ªæ½œåœ¨å®‰å…¨é—®é¢˜ã€‚</p><p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦è€ƒè™‘å»¶è¿Ÿåˆ†é…çš„æ–¹æ¡ˆäº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸åˆ°éœ€è¦æ—¶å€™ï¼Œä¸å ç”¨ä¸å¿…è¦çš„èµ„æºã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥äº†è§£ä¸‹ä»€ä¹ˆæ˜¯å»¶è¿Ÿåˆ†é…ï¼Œä»¥åŠå»¶è¿Ÿåˆ†é…çš„å¥½å¤„ã€‚</p><p>åœ¨Javaæ ¸å¿ƒç±»ä¸­ï¼ŒArrayListæ˜¯ä¸€ä¸ªå¯è°ƒæ•´å¤§å°çš„åˆ—è¡¨ï¼Œå†…éƒ¨å®ç°ä½¿ç”¨æ•°ç»„å­˜å‚¨æ•°æ®ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯åˆ—è¡¨å¤§å°å¯è°ƒæ•´ï¼Œæ•°ç»„ç»“æ„ç´§å‡‘ã€‚åˆ—è¡¨å¤§å°å¯ä»¥é¢„å…ˆç¡®å®šï¼Œå¹¶ä¸”åœ¨å¤§å°ä¸ç»å¸¸å˜åŒ–çš„æƒ…å†µä¸‹ï¼ŒArrayListè¦æ¯”LinkedListèŠ‚çœç©ºé—´ï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªä¼˜å…ˆé€‰é¡¹ã€‚</p><p>ä½†æ˜¯ï¼Œä¸€æ—¦åˆ—è¡¨å¤§å°ä¸èƒ½ç¡®å®šï¼Œæˆ–è€…åˆ—è¡¨å¤§å°ç»å¸¸å˜åŒ–ï¼ŒArrayListçš„å†…éƒ¨æ•°ç»„å°±éœ€è¦è°ƒæ•´å¤§å°ï¼Œè¿™å°±éœ€è¦å†…éƒ¨åˆ†é…æ–°æ•°ç»„ï¼ŒåºŸå¼ƒæ—§æ•°ç»„ï¼Œå¹¶ä¸”æŠŠæ—§æ•°ç»„çš„æ•°æ®æ‹·è´åˆ°æ–°æ•°ç»„ã€‚è¿™æ—¶å€™ï¼ŒArrayListå°±ä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©äº†ã€‚</p><!-- [[[read_end]]] --><p>åœ¨JDK 7ä¸­ï¼ŒArrayListçš„å®ç°å¯ä»¥ç”¨ä¸‹é¢çš„ä¸€å°æ®µä¼ªä»£ç ä½“ç°ã€‚ä½ å¯ä»¥ä»ä»£ç ä¸­ä½“ä¼šä¸‹å†…éƒ¨æ•°ç»„è°ƒæ•´å¸¦æ¥çš„â€œé…¸è¾£â€ã€‚</p><pre><code>package java.util;\n\npublic class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;\n        implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable {\n\n    private transient Object[] elementData;\n    private int size;\n\n    public ArrayList() {\n        this.elementData = new Object[10];\n    }\n\n    @Override\n    public boolean add(E e) {\n        ensureCapacity(size + 1);\n        elementData[size++] = e;\n\n        return true;\n    }\n\n    private void ensureCapacity(int minCapacity) {\n        int oldCapacity = elementData.length;\n\n        if (minCapacity &gt; oldCapacity) {\n            Object oldData[] = elementData;\n            int newCapacity = (oldCapacity * 3) / 2 + 1;\n            if (newCapacity &lt; minCapacity) {\n                newCapacity = minCapacity;\n            }\n\n            elementData = Arrays.copyOf(elementData, newCapacity);\n        }\n    }\n}\n</code></pre><p>è¿™æ®µä»£ç é‡Œçš„ç¼ºçœæ„é€ æ–¹æ³•ï¼Œåˆ†é…äº†ä¸€ä¸ªå¯ä»¥å®¹çº³10ä¸ªå¯¹è±¡çš„æ•°ç»„ï¼Œä¸ç®¡è¿™ä¸ªå¤§å°åˆä¸åˆé€‚ï¼Œæ•°ç»„éœ€ä¸éœ€è¦ã€‚è¿™çœ‹ä¼¼ä¸èµ·çœ¼çš„å¤§å°ä¸º10çš„æ•°ç»„ï¼Œåœ¨é«˜é¢‘ç‡çš„ä½¿ç”¨ç¯å¢ƒä¸‹ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªä¸å°çš„è´Ÿæ‹…ã€‚</p><p>åœ¨JDK 8ä¸­ï¼ŒArrayListçš„å®ç°åšäº†ä¸€ä¸ªå°å˜åŠ¨ã€‚è¿™ä¸ªå°å˜åŠ¨ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä¸€å°æ®µä¼ªä»£ç ä½“ç°ã€‚</p><pre><code>package java.util;\n\npublic class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;\n        implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable {\n\n    private static final Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = {};\n\n    private transient Object[] elementData;\n    private int size;\n\n    public ArrayList() {\n        this.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;\n    }\n\n    // snipped\n}\n</code></pre><p>æ”¹åŠ¨åçš„ç¼ºçœæ„é€ æ–¹æ³•ï¼Œä¸å†åˆ†é…å†…éƒ¨æ•°ç»„ï¼Œè€Œæ˜¯ä½¿ç”¨äº†ä¸€ä¸ªç©ºæ•°ç»„ã€‚è¦ç­‰åˆ°çœŸæ­£éœ€è¦å­˜å‚¨æ•°æ®çš„æ—¶å€™ï¼Œæ‰ä¸ºè¿™ä¸ªæ•°ç»„åˆ†é…ç©ºé—´ã€‚è¿™å°±æ˜¯æ‰€è°“çš„å»¶è¿Ÿåˆå§‹åŒ–ã€‚</p><p>è¿™ä¹ˆå°çš„å˜åŠ¨å¸¦æ¥çš„å¥½å¤„åˆ°åº•æœ‰å¤šå¤§å‘¢ï¼Ÿè¿™ä¸ªæ”¹åŠ¨çš„æŠ¥å‘Šè®°å½•äº†ä¸€ä¸ªæ€§èƒ½æµ‹è¯•ç»“æœï¼Œæ”¹åŠ¨åçš„å†…å­˜çš„ä½¿ç”¨å‡å°‘äº†13%ï¼Œå¹³å‡å“åº”æ—¶é—´æé«˜äº†16%ã€‚</p><p>ä½ æ˜¯ä¸æ˜¯å¾ˆåƒæƒŠè¿™æ ·çš„ç»“æœï¼Ÿè¿™ä¸ªå°æ”¹åŠ¨ï¼Œçœ‹èµ·æ¥çœŸçš„ä¸èµ·çœ¼ã€‚ä»£ç çš„ä¼˜åŒ–å¯¹äºæ€§èƒ½çš„å½±å“ï¼Œæœ‰æ—¶å€™çœŸçš„æ˜¯ä»˜å‡ºå°‘ã€æ”¶ç›Šå¤§ã€‚</p><p>ä»ArrayListçš„ä¸Šé¢çš„æ”¹åŠ¨ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå­¦ä¹ åˆ°ä»€ä¹ˆä¸œè¥¿å‘¢ï¼Ÿæˆ‘å­¦åˆ°çš„æœ€é‡è¦çš„ä¸œè¥¿æ˜¯ï¼Œå¯¹äºä½¿ç”¨é¢‘ç‡é«˜çš„ç±»çš„å®ç°ï¼Œå¾®å°çš„æ€§èƒ½æ”¹è¿›ï¼Œéƒ½å¯ä»¥å¸¦æ¥å·¨å¤§çš„å®ç”¨ä»·å€¼ã€‚</p><p>åœ¨å‰é¢è®¨è®º<a href=\"https://time.geekbang.org/column/article/78288\">æ€ä¹ˆå†™å£°æ˜</a>çš„æ—¶å€™ï¼Œæˆ‘ä»¬è®¨è®ºåˆ°äº†â€œ<strong>å±€éƒ¨å˜é‡éœ€è¦æ—¶å†å£°æ˜</strong>â€è¿™æ¡åŸåˆ™ã€‚å±€éƒ¨å˜é‡æ ‡è¯†ç¬¦çš„å£°æ˜åº”è¯¥å’Œå®ƒçš„ä½¿ç”¨å°½å¯èƒ½åœ°é è¿‘ã€‚è¿™æ ·çš„è§„èŒƒï¼Œé™¤äº†é˜…è¯»æ–¹é¢çš„ä¾¿åˆ©ä¹‹å¤–ï¼Œè¿˜æœ‰æ•ˆç‡æ–¹é¢çš„è€ƒè™‘ã€‚å±€éƒ¨å˜é‡å ç”¨çš„èµ„æºï¼Œä¹Ÿåº”è¯¥éœ€è¦æ—¶å†åˆ†é…ï¼Œèµ„æºçš„åˆ†é…å’Œå®ƒçš„ä½¿ç”¨ä¹Ÿè¦å°½å¯èƒ½åœ°é è¿‘ã€‚</p><h2>å»¶è¿Ÿåˆå§‹åŒ–</h2><p>å»¶è¿Ÿåˆ†é…çš„æ€è·¯ï¼Œå°±æ˜¯ç”¨åˆ°å£°æ˜æ—¶å†åˆå§‹åŒ–ï¼Œè¿™å°±æ˜¯å»¶è¿Ÿåˆå§‹åŒ–ã€‚æ¢å¥è¯è¯´ï¼Œä¸åˆ°éœ€è¦çš„æ—¶å€™ï¼Œå°±ä¸è¿›è¡Œåˆå§‹åŒ–ã€‚</p><p>ä¸‹é¢çš„è¿™ä¸ªä¾‹å­ï¼Œæ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„åˆå§‹åŒ–æ–¹æ¡ˆï¼Œå£°æ˜æ—¶å°±åˆå§‹åŒ–ã€‚</p><pre><code>public class CodingExample {\n    private final Map&lt;String, String&gt; helloWordsMap = new HashMap&lt;&gt;();\n    \n    private void setHelloWords(String language, String greeting) {\n        helloWordsMap.put(language, greeting);\n    }\n    // snipped\n}\n</code></pre><p>å£°æ˜æ—¶å°±åˆå§‹åŒ–çš„å¥½å¤„æ˜¯ç®€å•ã€ç›´æ¥ã€ä»£ç æ¸…æ™°ã€å®¹æ˜“ç»´æŠ¤ã€‚ä½†æ˜¯ï¼Œå¦‚æœåˆå§‹åŒ–å ç”¨çš„èµ„æºæ¯”è¾ƒå¤šæˆ–è€…å ç”¨çš„æ—¶é—´æ¯”è¾ƒé•¿ï¼Œè¿™ä¸ªæ–¹æ¡ˆå°±æœ‰å¯èƒ½å¸¦æ¥ä¸€äº›è´Ÿé¢å½±å“ã€‚æˆ‘ä»¬å°±è¦æ…é‡è€ƒè™‘äº†ã€‚</p><p>åœ¨JDK 11ä¹‹å‰çš„Javaç‰ˆæœ¬ä¸­ï¼ŒæŒ‰ç…§HashMapç±»æ„é€ æ–¹æ³•çš„å†…éƒ¨å®ç°ï¼Œåˆå§‹åŒ–çš„å®ä¾‹å˜é‡helloWordsMapï¼Œè¦ç¼ºçœåœ°åˆ†é…ä¸€ä¸ªå¯ä»¥å®¹çº³16ä¸ªå¯¹è±¡çš„æ•°ç»„ã€‚è¿™ä¸ªç¼ºçœçš„æ•°ç»„å°ºå¯¸ï¼Œæ¯”JDK 7ä¸­çš„ArrayListç¼ºçœæ•°ç»„è¿˜è¦å¤§ã€‚å¦‚æœåæ¥çš„æ–¹æ³•ä½¿ç”¨ä¸åˆ°è¿™ä¸ªå®ä¾‹å˜é‡ï¼Œè¿™ä¸ªèµ„æºåˆ†é…å°±å®Œå…¨æµªè´¹äº†ï¼›å¦‚æœè¿™ä¸ªå®ä¾‹å˜é‡æ²¡æœ‰åŠæ—¶ä½¿ç”¨ï¼Œè¿™ä¸ªèµ„æºçš„å ç”¨æ—¶é—´å°±æ‹‰é•¿äº†ã€‚</p><p>è¿™ä¸ªæ—¶å€™æ˜¯ä¸æ˜¯å¯ä»¥è€ƒè™‘å»¶è¿Ÿåˆå§‹åŒ–ï¼Ÿä¸‹é¢çš„ä¾‹å­ï¼Œå°±æ˜¯ä¸€ç§å»¶è¿Ÿåˆå§‹åŒ–çš„å®ç°æ–¹æ³•ã€‚</p><pre><code>public class CodingExample {\n    private Map&lt;String, String&gt; helloWordsMap;\n\n    private void setHelloWords(String language, String greeting) {\n        if (helloWordsMap == null) {\n            helloWordsMap = new HashMap&lt;&gt;();\n        }\n        \n        helloWordsMap.put(language, greeting);\n    }\n\n    // snipped\n}\n</code></pre><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå®ä¾‹å˜é‡helloWordsMapåªæœ‰éœ€è¦æ—¶æ‰åˆå§‹åŒ–ã€‚è¿™çš„ç¡®å¯ä»¥é¿å…å†…å­˜èµ„æºçš„æµªè´¹ï¼Œä½†ä»£ä»·æ˜¯è¦ä½¿ç”¨æ›´å¤šçš„CPUã€‚æ£€æŸ¥å®ä¾‹å˜é‡æ˜¯å¦å·²ç»èƒ½åˆå§‹åŒ–ï¼Œéœ€è¦CPUçš„é¢å¤–å¼€é”€ã€‚è¿™æ˜¯ä¸€ä¸ªå†…å­˜å’ŒCPUæ•ˆç‡çš„å¦¥åä¸ç«äº‰ã€‚</p><p>è€Œä¸”ï¼Œé™¤éæ˜¯é™æ€å˜é‡ï¼Œå¦åˆ™ä½¿ç”¨å»¶è¿Ÿåˆå§‹åŒ–ï¼Œä¸€èˆ¬ä¹Ÿæ„å‘³ç€æ”¾å¼ƒäº†ä½¿ç”¨ä¸å¯å˜çš„ç±»å¯èƒ½æ€§ã€‚è¿™å°±éœ€è¦è€ƒè™‘å¤šçº¿ç¨‹å®‰å…¨çš„é—®é¢˜ã€‚ä¸Šé¢ä¾‹å­çš„å®ç°ï¼Œå°±ä¸æ˜¯å¤šçº¿ç¨‹å®‰å…¨çš„ã€‚å¯¹äºå¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„è®¡ç®—ï¼Œåˆå§‹åŒ–æ—¶éœ€è¦çš„çº¿ç¨‹åŒæ­¥ä¹Ÿæ˜¯ä¸€ä¸ªä¸å°çš„å¼€é”€ã€‚</p><p>æ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼Œå°±æ˜¯ä¸€ä¸ªå¸¸è§çš„è§£å†³å»¶è¿Ÿåˆå§‹åŒ–çš„çº¿ç¨‹åŒæ­¥é—®é¢˜çš„æ¨¡å¼ã€‚è¿™ä¸ªæ¨¡å¼çš„æ•ˆç‡ï¼Œè¿˜ç®—ä¸é”™ã€‚ä½†æ˜¯é‡Œé¢çš„å¾ˆå¤šå°ç»†èŠ‚éƒ½å¿½è§†ä¸å¾—ï¼Œçœ‹èµ·æ¥éƒ½å¾ˆå¤´ç–¼ã€‚æˆ‘æ¯æ¬¡çœ‹åˆ°è¿™æ ·çš„æ¨¡å¼ï¼Œå³ä¾¿æ˜ç™½è¿™æ ·åšçš„å¿…è¦æ€§ï¼Œä¹Ÿæ¨ä¸å¾—å…ˆä¼‘æ¯åŠå¤©ï¼Œå†æ¥å•ƒè¿™å—ç¡¬éª¨å¤´ã€‚</p><pre><code>public class CodingExample {\n    private volatile Map&lt;String, String&gt; helloWordsMap;\n\n    private void setHelloWords(String language, String greeting) {\n        Map&lt;String, String&gt; temporaryMap = helloWordsMap;\n        if (temporaryMap == null) {    // 1st check (no locking)\n            synchronized (this) {\n                temporaryMap = helloWordsMap;\n                if (temporaryMap == null) {    // 2nd check (locking)\n                    temporaryMap = new ConcurrentHashMap&lt;&gt;();\n                    helloWordsMap = temporaryMap;\n                }\n            }\n        }\n        \n        temporaryMap.put(language, greeting);\n    }\n\n    // snipped\n}\n</code></pre><p>å»¶è¿Ÿåˆå§‹åŒ–åˆ°åº•å¥½ä¸å¥½ï¼Œè¦å–å†³äºå…·ä½“çš„ä½¿ç”¨åœºæ™¯ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç”±äºè§„èŒƒæ€§å¸¦æ¥çš„æ˜æ˜¾ä¼˜åŠ¿ï¼Œæˆ‘ä»¬ä¼˜å…ˆä½¿ç”¨â€œå£°æ˜æ—¶å°±åˆå§‹åŒ–â€è¿™ä¸ªæ–¹æ¡ˆã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å†ä¸€æ¬¡å¼ºè°ƒï¼Œåªæœ‰åˆå§‹åŒ–å ç”¨çš„èµ„æºæ¯”è¾ƒå¤šæˆ–è€…å ç”¨çš„æ—¶é—´æ¯”è¾ƒé•¿çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰å¼€å§‹è€ƒè™‘å…¶ä»–çš„æ–¹æ¡ˆã€‚<strong>å¤æ‚çš„æ–¹æ³•ï¼Œåªæœ‰å¿…è¦æ—¶æ‰ä½¿ç”¨</strong>ã€‚</p><p>â€»æ³¨ï¼šä»JDK 11å¼€å§‹ï¼ŒHashMapçš„å®ç°åšäº†æ”¹è¿›ï¼Œç¼ºçœçš„æ„é€ ä¸å†åˆ†é…å®è´¨æ€§çš„æ•°ç»„ã€‚ä»¥åæˆ‘ä»¬å†™ä»£ç æ—¶ï¼Œå¯ä»¥çœç‚¹å¿ƒäº†ã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©ï¼Œæˆ‘ä»¬ä¸»è¦è®¨è®ºäº†æ€ä¹ˆé€šè¿‡å»¶è¿Ÿåˆ†é…å‡å°‘å®ä¾‹æ•°é‡ï¼Œä»è€Œé™ä½å†…å­˜ä½¿ç”¨ã€‚</p><p>å¯¹äºå±€éƒ¨å˜é‡ï¼Œæˆ‘ä»¬åº”è¯¥åšæŒâ€œ<strong>éœ€è¦æ—¶å†å£°æ˜ï¼Œéœ€è¦æ—¶å†åˆ†é…</strong>â€çš„åŸåˆ™ã€‚</p><p>å¯¹äºç±»çš„å˜é‡ï¼Œæˆ‘ä»¬ä¾ç„¶åº”è¯¥ä¼˜å…ˆè€ƒè™‘â€œå£°æ˜æ—¶å°±åˆå§‹åŒ–â€çš„æ–¹æ¡ˆã€‚å¦‚æœåˆå§‹åŒ–æ¶‰åŠçš„è®¡ç®—é‡æ¯”è¾ƒå¤§ï¼Œå ç”¨çš„èµ„æºæ¯”è¾ƒå¤šæˆ–è€…å ç”¨çš„æ—¶é—´æ¯”è¾ƒé•¿ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µï¼Œå…·ä½“åˆ†æï¼Œé‡‡ç”¨å»¶è¿Ÿåˆå§‹åŒ–æ˜¯å¦å¯ä»¥æé«˜æ•ˆç‡ï¼Œç„¶åå†å†³å®šä½¿ç”¨è¿™ç§æ–¹æ¡ˆæ˜¯å¦åˆ’ç®—ã€‚</p><h2>ä¸€èµ·æ¥åŠ¨æ‰‹</h2><p>æˆ‘ä¸Šé¢å†™çš„å»¶è¿Ÿåˆå§‹åŒ–çš„åŒæ­¥çš„ä»£ç ï¼Œå…¶å®æ˜¯ä¸€ä¸ªå¾ˆå›ºå®šçš„æ¨¡å¼ã€‚å¯¹äºJavaåˆå­¦è€…æ¥è¯´ï¼Œç†è§£è¿™æ®µä»£ç å¯èƒ½éœ€è¦è´¹ç‚¹åŠŸå¤«ã€‚è¯„å®¡ä»£ç çš„æ—¶å€™ï¼Œæ¯æ¬¡é‡åˆ°è¿™ä¸ªæ¨¡å¼ï¼Œæˆ‘éƒ½è¦å°å¿ƒå†å°å¿ƒï¼Œè°¨æ…å†è°¨æ…ï¼Œç”Ÿæ€•æ¼æ‰äº†æŸä¸ªç»†èŠ‚ã€‚</p><p>å€Ÿç€è¿™ä¸ªæœºä¼šï¼Œæˆ‘ä»¬ä¸€èµ·æ¥æŠŠè¿™ä¸ªæ¨¡å¼ç†è§£é€ï¼Œææ¸…æ¥šè¿™æ®µä»£ç é‡Œæ¯ä¸€ä¸ªå˜é‡ã€æ¯ä¸€ä¸ªå…³é”®è¯æ‰®æ¼”çš„è§’è‰²ã€‚ä»¥åé‡åˆ°å®ƒï¼Œæˆ‘ä»¬ä¹Ÿè®¸å¯ä»¥å’Œå®ƒæŠŠæ‰‹è¨€æ¬¢ã€‚</p><p>æˆ‘æŠŠè¿™æ®µä»£ç é‡æ–°æŠ„å†™åœ¨äº†ä¸‹é¢ï¼Œå…³é”®çš„åœ°æ–¹åŠ äº†é¢œè‰²ã€‚æˆ‘ä»¬åœ¨è®¨è®ºåŒºè®¨è®ºä¸‹é¢è¿™äº›é—®é¢˜ï¼š</p><ol>\n<li>\n<p>helloWordsMapå˜é‡ä¸ºä»€ä¹ˆä½¿ç”¨volatileé™å®šè¯ï¼Ÿ</p>\n</li>\n<li>\n<p>ä¸ºä»€ä¹ˆè¦temporaryMapå˜é‡ï¼Ÿ</p>\n</li>\n<li>\n<p>temporaryMapå˜é‡ä¸ºä»€ä¹ˆè¦ä¸¤æ¬¡è®¾ç½®ä¸ºhelloWordsMapï¼Ÿ</p>\n</li>\n<li>\n<p>ä¸ºä»€ä¹ˆè¦æ£€æŸ¥ä¸¤æ¬¡temporaryMapçš„å€¼ä¸ç­‰äºç©ºï¼Ÿ</p>\n</li>\n<li>\n<p>synchronizedä¸ºä»€ä¹ˆç”¨åœ¨ç¬¬ä¸€æ¬¡æ£€æŸ¥ä¹‹åï¼Ÿ</p>\n</li>\n<li>\n<p>ä¸ºä»€ä¹ˆä½¿ç”¨ConcurrentHashMapè€Œä¸æ˜¯HashMapï¼Ÿ</p>\n</li>\n<li>\n<p>ä¸ºä»€ä¹ˆä½¿ç”¨temporaryMap.put()è€Œä¸æ˜¯helloWordsMap.put()ï¼Ÿ</p>\n</li>\n</ol><p>å¦‚æœä½ æœ‰æ›´å¤šçš„é—®é¢˜ï¼Œè¯·å…¬å¸ƒåœ¨è®¨è®ºåŒºï¼Œä¹Ÿå¯ä»¥å’Œä½ çš„æœ‹å‹ä¸€èµ·è®¨è®ºã€‚å¼„æ¸…æ¥šäº†è¿™äº›é—®é¢˜ï¼Œæˆ‘ç›¸ä¿¡æˆ‘ä»¬å¯ä»¥å¯¹Javaè¯­è¨€çš„ç†è§£æ›´æ·±å…¥ä¸€æ­¥ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b9/1b/b9f09ce12aea369f0e4959a74d9e4b1b.png?wh=908*604\" alt=\"\"></p><p></p>","neighbors":{"left":{"article_title":"23 | æ€ä¹ˆå‡å°‘å†…å­˜ä½¿ç”¨ï¼Œå‡è½»å†…å­˜ç®¡ç†è´Ÿæ‹…ï¼Ÿ","id":83045},"right":{"article_title":"25 | ä½¿ç”¨æœ‰åºçš„ä»£ç ï¼Œè°ƒåŠ¨å¼‚æ­¥çš„äº‹ä»¶","id":83897}},"comments":[{"had_liked":false,"id":71164,"user_name":"yang","can_delete":false,"product_type":"c1","uid":1226705,"ip_address":"","ucode":"9FE1D02DF0F103","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJupkAwlMPemsyBhOT2BWJPnyicAqQhH731C7uV5fXjz9DicxO0eySia1JLqeMXAkQlFZZ41uXsw1I7g/132","comment_is_top":false,"comment_ctime":1551275728,"is_pvip":false,"replies":[{"id":"25489","content":"volatileçš„ä½¿ç”¨ï¼Œéœ€è¦ä¸€å®šç¨‹åº¦çš„åŒæ­¥ï¼Œä¹Ÿå°±æ˜¯ä½ è¯´çš„æ‹·è´å¼€é”€ã€‚å‡å°‘volatileå˜é‡çš„å¼•ç”¨ï¼Œå¯ä»¥æé«˜æ•ˆç‡ã€‚<br><br>æ­å–œä½ ï¼Œè¿™äº›Javaçš„éš¾ç‚¹ä½ æŒæ¡çš„å¾ˆæ‰å®ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"èŒƒå­¦é›·","uid":"1111315","ctime":1551289004,"ip_address":"","comment_id":71164,"utype":1}],"discussion_count":3,"race_medal":0,"score":"181939902160","product_id":100019601,"comment_content":"1 é€šè¿‡é‡‡ç”¨javaå†…å­˜æ¨¡å‹ï¼Œä¿è¯å¤šçº¿ç¨‹åœºæ™¯ä¸‹å…±äº«èµ„æºçš„å¯è§æ€§<br>2ä½¿ç”¨å±€éƒ¨å˜é‡ï¼Œå¯ä»¥å‡å°‘ä¸»å­˜ä¸çº¿ç¨‹å†…å­˜çš„æ‹·è´æ¬¡æ•°<br>3ç¬¬ä¸€æ¬¡æ˜¯åˆå§‹åŒ–ï¼Œç¬¬äºŒæ¬¡æ˜¯åŒæ­¥å±€éƒ¨å˜é‡ä¸å±æ€§å˜é‡çš„å€¼ï¼Œä¿æŒä¸€è‡´<br>4ç¬¬ä¸€æ¬¡æ£€æŸ¥æ˜¯ä¸ºäº†å¿«é€Ÿè·å–å¯¹è±¡ï¼Œç¬¬äºŒæ¬¡æ£€æŸ¥æ˜¯ä¸ºäº†é˜²æ­¢å¯¹è±¡æœªåˆå§‹åŒ–ï¼Œå°±æ˜¯æ ‡å‡†çš„double check<br>5æ˜¯ä¸ºäº†çº¿ç¨‹å®‰å…¨ï¼ŒåŒæ—¶é«˜æ€§èƒ½ï¼Œé”èŒƒå›´æ›´å°åŒ–<br>6å‰è€…æ˜¯çº¿ç¨‹å®‰å…¨ï¼Œåè€…æ˜¯éçº¿ç¨‹å®‰å…¨<br>7è¿˜æ˜¯å‡å°‘ä¸»å­˜ä¸çº¿ç¨‹å†…å­˜å€¼æ‹·è´çš„å¼€é”€<br>ä¸ªäººç†è§£ï¼Œå¦‚æœ‰è¯¯ï¼Œæ•¬è¯·æŒ‡æ­£","like_count":43,"discussions":[{"author":{"id":1111315,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f5/13/78741b7b.jpg","nickname":"èŒƒå­¦é›·","note":"","ucode":"D7CBE4A33427BD","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441019,"discussion_content":"volatileçš„ä½¿ç”¨ï¼Œéœ€è¦ä¸€å®šç¨‹åº¦çš„åŒæ­¥ï¼Œä¹Ÿå°±æ˜¯ä½ è¯´çš„æ‹·è´å¼€é”€ã€‚å‡å°‘volatileå˜é‡çš„å¼•ç”¨ï¼Œå¯ä»¥æé«˜æ•ˆç‡ã€‚\n\næ­å–œä½ ï¼Œè¿™äº›Javaçš„éš¾ç‚¹ä½ æŒæ¡çš„å¾ˆæ‰å®ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551289004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2550743,"avatar":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","nickname":"if...else...","note":"","ucode":"D0565908C99695","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581324,"discussion_content":"å‰å®³äº†wordå“¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658723977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1510761,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/NP6xd0gtGwNWnzrk2hn1zgscu7ZuLRibDCrbJzHBRk1Bicb8X7uXlrfTH1Bh4epCNxts4ok4z1sGPHpWjtSaUqnQ/132","nickname":"ä½•éœ–","note":"","ucode":"8BBE3BFD0691B8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349604,"discussion_content":"åŸºæœ¬å·¥æ‰å®ï¼Œå¼ºå¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613368880,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70967,"user_name":"æ¢¦é†’æ—¶åˆ†","can_delete":false,"product_type":"c1","uid":1008228,"ip_address":"","ucode":"3C8B9E9EA487EB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/62/64/40e9805d.jpg","comment_is_top":false,"comment_ctime":1551235559,"is_pvip":false,"replies":[{"id":"25488","content":"å…³äºtemporaryMapçš„ä½¿ç”¨ï¼Œè¯·å‚è€ƒ@yangçš„ç•™è¨€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èŒƒå­¦é›·","uid":"1111315","ctime":1551288422,"ip_address":"","comment_id":70967,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27321039335","product_id":100019601,"comment_content":"æˆ‘çš„æ€è€ƒï¼š<br>1.volatileæ˜¯ç”¨æ¥ä¿è¯å˜é‡çš„å¯è§æ€§çš„ï¼Œè¿™æ ·å…¶ä»–çº¿ç¨‹æ‰èƒ½åŠæ—¶çœ‹åˆ°å˜é‡çš„ä¿®æ”¹<br>2.ä¸ºå•¥è¦ä½¿ç”¨temporaryMapå˜é‡ï¼Œè¿™é‡Œæ²¡æœ‰æƒ³æ˜ç™½<br>3.ä¸¤æ¬¡è®¾ç½®temporaryMapå˜é‡ï¼Œç›®çš„æ˜¯åŒé‡æ£€æŸ¥ï¼Œé˜²æ­¢è¿›å…¥åŒæ­¥ä»£ç å—ä¸­ï¼Œå˜é‡å·²è¢«èµ‹å€¼äº†<br>4.åŒä¸Š<br>5.synchronizedçš„ä½¿ç”¨æ˜¯å½±å“æ€§èƒ½çš„ï¼Œæ‰€æœ‰åœ¨ä½¿ç”¨å®ƒä¹‹å‰ï¼Œå…ˆæ ¡éªŒä¸‹æ˜¯å¦éœ€è¦è¿›å…¥åŒæ­¥å—ä¸­<br>6.ConcurrentHashMapæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè€ŒHashMapä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„<br>7.ä¸ºå•¥ä½¿ç”¨temporaryMap.putä¸å¤ªæ¸…æ¥š","like_count":6,"discussions":[{"author":{"id":1111315,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f5/13/78741b7b.jpg","nickname":"èŒƒå­¦é›·","note":"","ucode":"D7CBE4A33427BD","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440924,"discussion_content":"å…³äºtemporaryMapçš„ä½¿ç”¨ï¼Œè¯·å‚è€ƒ@yangçš„ç•™è¨€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551288422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83468,"user_name":"æ‹‰å¯é‡Œå•¦","can_delete":false,"product_type":"c1","uid":1230293,"ip_address":"","ucode":"26E20DF096BDAF","user_header":"https://static001.geekbang.org/account/avatar/00/12/c5/d5/90ca8efe.jpg","comment_is_top":false,"comment_ctime":1554611348,"is_pvip":false,"replies":[{"id":"30335","content":"æ˜¯çš„ï¼Œæ˜¯ä»¥å¯¹è±¡ä¸ºå•ä½çš„ã€‚ æ‰€ä»¥ï¼Œä½ çœ‹Javaçš„ä»£ç é‡Œï¼Œsynchronized(this), thisæŒ‡çš„å°±æ˜¯ä¸€ä¸ªå…·ä½“çš„å¯¹è±¡ã€‚åŒä¸€ä¸ªç±»ï¼Œå®ä¾‹åŒ–çš„å¯¹è±¡ä¸åŒï¼Œä¹Ÿä¸éœ€è¦åŒæ­¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èŒƒå­¦é›·","uid":"1111315","ctime":1554782235,"ip_address":"","comment_id":83468,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18734480532","product_id":100019601,"comment_content":"ä½œä¸ºç±»çš„å…¨å±€å˜é‡è€Œéé™æ€å˜é‡ï¼Œåªèƒ½è¢«ç±»çš„å®ä¾‹æ‰€æ‹¥æœ‰ï¼Œé‚£ä¹ˆåªæœ‰ä¸€ä¸ªå¯¹è±¡å†æ“ä½œè¿™ä¸ªå…¨å±€å˜é‡ï¼Œå•çº¿ç¨‹æ“ä½œè¿™ä¸ªå˜é‡ä¸ä¼šæœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œè¿™ä¸ªå˜é‡æœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œæ˜¯ä»¥å¯¹è±¡ä¸ºå•ä½çš„ã€‚ä¸çŸ¥é“æˆ‘è¿™æ ·ç†è§£å¯¹ä¸å¯¹ï¼Œè¿˜è¯·è€å¸ˆæŒ‡ç‚¹æŒ‡ç‚¹ã€‚","like_count":4,"discussions":[{"author":{"id":1111315,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f5/13/78741b7b.jpg","nickname":"èŒƒå­¦é›·","note":"","ucode":"D7CBE4A33427BD","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446035,"discussion_content":"æ˜¯çš„ï¼Œæ˜¯ä»¥å¯¹è±¡ä¸ºå•ä½çš„ã€‚ æ‰€ä»¥ï¼Œä½ çœ‹Javaçš„ä»£ç é‡Œï¼Œsynchronized(this), thisæŒ‡çš„å°±æ˜¯ä¸€ä¸ªå…·ä½“çš„å¯¹è±¡ã€‚åŒä¸€ä¸ªç±»ï¼Œå®ä¾‹åŒ–çš„å¯¹è±¡ä¸åŒï¼Œä¹Ÿä¸éœ€è¦åŒæ­¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554782235,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71769,"user_name":"å”åä¹‹","can_delete":false,"product_type":"c1","uid":1004394,"ip_address":"","ucode":"F472C71E043E03","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/JKKWS6TzhncvAA0p0NDiaATPIvMicSM76vNAg9IG1ibibcJYPAiaicYjZfq4gAV8GRtcTpOibfRD8vzqHBtL0ibmhwQsbg/132","comment_is_top":false,"comment_ctime":1551428667,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14436330555","product_id":100019601,"comment_content":"@yangå›åˆ°ç¬¬äºŒç‚¹ ä½¿ç”¨å±€éƒ¨å˜é‡ï¼Œå¯ä»¥å‡å°‘ä¸»å­˜ä¸çº¿ç¨‹å†…å­˜çš„æ‹·è´æ¬¡æ•° è¿™ä¸ªç‚¹è¿˜æ˜¯æœ‰ç‚¹ä¸æ˜ç™½èƒ½è§£é‡Šä¸‹å˜›ï¼Ÿ","like_count":3},{"had_liked":false,"id":71257,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1551314271,"is_pvip":false,"replies":[{"id":"25542","content":"volatileä¿®é¥°ç¬¦å’Œä½¿ç”¨concurrent hash mapå…³ç³»ä¸å¤§ã€‚volatileä¿®é¥°çš„æ˜¯æ ‡å¿—ç¬¦ï¼Œä¸æ˜¯æ ‡å¿—ç¬¦æŒ‡å‘çš„å†…å®¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èŒƒå­¦é›·","uid":"1111315","ctime":1551331872,"ip_address":"","comment_id":71257,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14436216159","product_id":100019601,"comment_content":"è¯·é—®å„ä½æ€è€ƒé¢˜ä¸­çš„volatileä¿®é¥°åæ˜¯ä¸æ˜¯å°±åªèƒ½ç”¨concurrenthashmap?è¦ä¸èµ‹å€¼ç»™å±€éƒ¨å˜é‡åä¸»å­˜å’Œçº¿ç¨‹å†…å­˜è¿˜æ˜¯ä¸åŒæ­¥","like_count":3,"discussions":[{"author":{"id":1111315,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f5/13/78741b7b.jpg","nickname":"èŒƒå­¦é›·","note":"","ucode":"D7CBE4A33427BD","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441072,"discussion_content":"volatileä¿®é¥°ç¬¦å’Œä½¿ç”¨concurrent hash mapå…³ç³»ä¸å¤§ã€‚volatileä¿®é¥°çš„æ˜¯æ ‡å¿—ç¬¦ï¼Œä¸æ˜¯æ ‡å¿—ç¬¦æŒ‡å‘çš„å†…å®¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551331872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98652,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1559050471,"is_pvip":false,"replies":[{"id":"35320","content":"ğŸ‘éƒ½æ˜¯å¾ˆå¥½çš„å®è·µç»éªŒï¼ äº†è§£é€‚ç”¨åœºæ™¯ï¼Œæ˜¯é«˜æ•ˆä»£ç çš„å…³é”®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èŒƒå­¦é›·","uid":"1111315","ctime":1559060955,"ip_address":"","comment_id":98652,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10148985063","product_id":100019601,"comment_content":"1.ç±»å±æ€§çš„è°ƒç”¨å’Œèµ‹å€¼å…¨éƒ¨èµ°setå’Œgetæ–¹æ³•ã€‚è¿™ç§éé™æ€ä¸”å¤šæ¬¡èµ‹å€¼çš„å±€éƒ¨å˜é‡åº”è¯¥å°½é‡é¿å…ã€‚<br>2.å¸¦é”åˆå§‹åŒ–æ“ä½œåº”è¯¥ä¸Šç§»åˆ°getæ–¹æ³•ã€‚è‡³å°‘ä»å‡½æ•°åŠŸèƒ½æ¥çœ‹ï¼Œæˆ‘è®¤ä¸ºåˆå§‹åŒ–åº”è¯¥æ˜¯å±äºgetçš„ã€‚<br>3.æˆ‘çœŸä¸å–œæ¬¢åŠ é”å’Œæ¯æ¬¡getéƒ½åšåˆ¤æ–­ï¼Œæ‰€ä»¥äº†è§£ä¸šåŠ¡ä¸Šä¸‹æ–‡ï¼Œå¦‚æœå¯ä»¥ï¼Œæˆ‘ä¼šç›´æ¥ç»™è¯¥å±æ€§åšåˆå§‹åŒ–ã€‚<br>3.å¦‚æœäº†è§£å®Œä¸Šä¸‹æ–‡æˆ‘å¯¹è¿™ä¸ªé›†åˆæˆ–åˆ™æ•£åˆ—è¡¨çš„å¤§å°èƒ½æœ‰ä¸€å®šæŠŠæˆ‘ï¼Œæˆ‘ä¼šå°è¯•ç»™å®šä¸€ä¸ªåˆé€‚çš„åˆå§‹åŒ–å¤§å°ã€‚","like_count":2,"discussions":[{"author":{"id":1111315,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f5/13/78741b7b.jpg","nickname":"èŒƒå­¦é›·","note":"","ucode":"D7CBE4A33427BD","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451770,"discussion_content":"ğŸ‘éƒ½æ˜¯å¾ˆå¥½çš„å®è·µç»éªŒï¼ äº†è§£é€‚ç”¨åœºæ™¯ï¼Œæ˜¯é«˜æ•ˆä»£ç çš„å…³é”®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559060955,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129099,"user_name":"é±¼ç­±é›¨","can_delete":false,"product_type":"c1","uid":1597257,"ip_address":"","ucode":"17B11B3CF81153","user_header":"https://static001.geekbang.org/account/avatar/00/18/5f/49/115a8f4c.jpg","comment_is_top":false,"comment_ctime":1567042397,"is_pvip":false,"replies":[{"id":"50615","content":"ç°åœ¨æ¨èä½¿ç”¨çš„æ¨¡å¼æ˜¯å£°æ˜æ—¶æŒ‡å®šç±»å‹ï¼Œä½¿ç”¨æ—¶è®©ç¼–è¯‘å™¨æ¥è‡ªåŠ¨åŒ¹é…ã€‚å¯¹äºä¸Šé¢çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯å·¦è¾¹å£°æ˜å…·ä½“ç±»å‹ï¼Œè€Œå³è¾¹ä½¿ç”¨ç©ºæŒ‡ç¤ºç¬¦ã€‚è¿™æ ·åšçš„ä¸»è¦ç›®çš„æ˜¯ç®€åŒ–ç¼–ç ï¼Œé¿å…ä¸å¿…è¦çš„å¤±è¯¯å’Œæ£€éªŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èŒƒå­¦é›·","uid":"1111315","ctime":1568090881,"ip_address":"","comment_id":129099,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5862009693","product_id":100019601,"comment_content":"èŒƒè€å¸ˆï¼Œæˆ‘æ€»æ˜¯æœ‰ä¸ªç–‘æƒ‘ï¼Œä¸¾ä¸ªä¾‹å­<br>Map&lt;String,String&gt; m = new HashMap&lt;&gt;();<br>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå·¦è¾¹çš„æ³›å‹ä¸­ä¼šå£°æ˜å…·ä½“ç±»å‹ï¼Œè€Œå³è¾¹çš„æ³›å‹ä¸­å¾€å¾€æ˜¯ç©ºçš„ï¼Œè€Œæˆ‘åœ¨ä»£ç å¼€å‘ä¸­å³è¾¹çš„æ³›å‹éƒ½ä¼šå’Œå·¦è¾¹ä¿æŒä¸€è‡´ï¼Œè¿™æ ·åšæœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿå“ªç§æ›´å¥½ä¸€ç‚¹ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1111315,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f5/13/78741b7b.jpg","nickname":"èŒƒå­¦é›·","note":"","ucode":"D7CBE4A33427BD","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465276,"discussion_content":"ç°åœ¨æ¨èä½¿ç”¨çš„æ¨¡å¼æ˜¯å£°æ˜æ—¶æŒ‡å®šç±»å‹ï¼Œä½¿ç”¨æ—¶è®©ç¼–è¯‘å™¨æ¥è‡ªåŠ¨åŒ¹é…ã€‚å¯¹äºä¸Šé¢çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯å·¦è¾¹å£°æ˜å…·ä½“ç±»å‹ï¼Œè€Œå³è¾¹ä½¿ç”¨ç©ºæŒ‡ç¤ºç¬¦ã€‚è¿™æ ·åšçš„ä¸»è¦ç›®çš„æ˜¯ç®€åŒ–ç¼–ç ï¼Œé¿å…ä¸å¿…è¦çš„å¤±è¯¯å’Œæ£€éªŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568090881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102007,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1560096264,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5855063560","product_id":100019601,"comment_content":"é‡‡ç”¨äº†ä¸´æ—¶å˜é‡ï¼Œå¯¹è±¡æ˜¯å¦å°±å¤±å»äº†å¯è§†æ€§å’Œæœ‰åºæ€§çš„ç‰¹æ€§ï¼Ÿè¿™æ ·åœ¨newæ“ä½œæ—¶ï¼Œç”±äºè™šæ‹Ÿæœºçš„ç¼–è¯‘ä¼˜åŒ–ï¼Œcpuæ—¶é—´ç‰‡åˆ‡æ¢æ—¶ä¸æ˜¯å¯èƒ½ä¼šå‡ºç°ç©ºæŒ‡é’ˆæŠ¥é”™å—ï¼Ÿ","like_count":1},{"had_liked":false,"id":73501,"user_name":"aguan(^ï½¥ï½ªï½¥^)","can_delete":false,"product_type":"c1","uid":1107177,"ip_address":"","ucode":"04833EF2D18E1A","user_header":"https://static001.geekbang.org/account/avatar/00/10/e4/e9/0dd3829f.jpg","comment_is_top":false,"comment_ctime":1551918311,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5846885607","product_id":100019601,"comment_content":"æç„¶å¤§æ‚Ÿï¼Œæ‰€ä»¥å±€éƒ¨å˜é‡æ˜¯è§£å†³åŒé‡æ£€æŸ¥é‡æ’åºç©ºæŒ‡é’ˆé—®é¢˜çš„å®‰å…¨æ–¹æ³•ğŸ‘","like_count":1},{"had_liked":false,"id":73398,"user_name":"aguan(^ï½¥ï½ªï½¥^)","can_delete":false,"product_type":"c1","uid":1107177,"ip_address":"","ucode":"04833EF2D18E1A","user_header":"https://static001.geekbang.org/account/avatar/00/10/e4/e9/0dd3829f.jpg","comment_is_top":false,"comment_ctime":1551878110,"is_pvip":false,"replies":[{"id":"26775","content":"tempHashmapæ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œä¸è·¨è¶Šçº¿ç¨‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èŒƒå­¦é›·","uid":"1111315","ctime":1551899190,"ip_address":"","comment_id":73398,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5846845406","product_id":100019601,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸€ä¸ªç–‘é—®ï¼Œæ€è€ƒé¢˜çš„ä»£ç ï¼Œåœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œå¦‚æœç¬¬16è¡Œç”¨tempHashmap.putï¼Œæ˜¯ä¼šå‡ºç°ç©ºæŒ‡é’ˆçš„ã€‚å› ä¸ºcpuæŒ‡ä»¤é‡æ’åºï¼Œå½“çº¿ç¨‹1åœ¨æ‰§è¡Œnew mapçš„æ—¶å€™ï¼Œå¯èƒ½cpuå…ˆç»™tempåˆ†é…å†…å­˜ç©ºé—´ï¼Œå¯¹è±¡è¿˜æ²¡å®ä¾‹åŒ–ï¼Œè¿™æ—¶å€™å¦å¤–ä¸€ä¸ªçº¿ç¨‹åœ¨ç¬¬ä¸€ä¸ªifçš„æ—¶å€™å‘ç°tempä¸ä¸ºç©ºï¼ˆå› ä¸ºæœ‰åœ°å€ï¼Œä½†åœ°å€é‡Œå¹¶æ²¡æœ‰å®ä¾‹åŒ–å¯¹è±¡ï¼‰ï¼Œæ¥ç€å»æ‰§è¡Œ16è¡Œçš„ä»£ç ï¼Œä¼šå‡ºç°ç©ºæŒ‡é’ˆé—®é¢˜å§","like_count":1,"discussions":[{"author":{"id":1111315,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f5/13/78741b7b.jpg","nickname":"èŒƒå­¦é›·","note":"","ucode":"D7CBE4A33427BD","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442066,"discussion_content":"tempHashmapæ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œä¸è·¨è¶Šçº¿ç¨‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551899190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352486,"user_name":"if...else...","can_delete":false,"product_type":"c1","uid":2550743,"ip_address":"","ucode":"D0565908C99695","user_header":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","comment_is_top":false,"comment_ctime":1658724017,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1658724017","product_id":100019601,"comment_content":"ä»£ç çš„ä¼˜åŒ–å¯¹äºæ€§èƒ½çš„å½±å“ï¼Œæœ‰æ—¶å€™çœŸçš„æ˜¯ä»˜å‡ºå°‘ã€æ”¶ç›Šå¤§ã€‚--è®°ä¸‹æ¥","like_count":0},{"had_liked":false,"id":327191,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1639972498,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639972498","product_id":100019601,"comment_content":"ä½¿ç”¨æ–°ç‰ˆçš„JDKå¯ä»¥å…è´¹æå‡æ€§èƒ½ï¼ŒçœŸå¥½","like_count":0},{"had_liked":false,"id":71991,"user_name":"è½»æ­Œèµ‹","can_delete":false,"product_type":"c1","uid":1251574,"ip_address":"","ucode":"22F62446208805","user_header":"https://static001.geekbang.org/account/avatar/00/13/18/f6/2ff7bc7a.jpg","comment_is_top":false,"comment_ctime":1551495526,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551495526","product_id":100019601,"comment_content":"1.åŒæ£€é”åœ¨å¤šCPUæƒ…å†µä¸‹å­˜åœ¨å†…å­˜è¯­ä¹‰bugï¼Œé€šè¿‡volatileå®ç°å…¶å†…å­˜è¯­ä¹‰<br>2.å•çº¿ç¨‹å†…å­˜ä¸€è‡´æ€§è¯­ä¹‰<br>3.å¤šçº¿ç¨‹å¹¶å‘ï¼Œå­˜åœ¨ä¸€ä¸ªçº¿ç¨‹å…ˆäºå…¶ä»–çº¿ç¨‹è®¾ç½®å€¼çš„æƒ…å†µ<br>4.å¤šçº¿ç¨‹å¹¶å‘ï¼Œæ£€æŸ¥helloworldsmapæ˜¯å¦è¢«å…¶ä»–çº¿ç¨‹èµ‹å€¼<br>5.æé«˜å¹¶å‘åº¦<br>6.ä»£ç ä½“ç°è¿™æ˜¯ä¸€ä¸ªå¤šCPUå¤šçº¿ç¨‹çš„ç¯å¢ƒï¼Œå­˜åœ¨mapè¢«å¹¶å‘ä¿®æ”¹çš„æƒ…å†µï¼Œconcurrenthashmapæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè€Œhashmapæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„æ‰€ä»¥ä½¿ç”¨å‰è€…<br>7.ä¸çŸ¥é“ï¼Œæ„Ÿè§‰åƒæ˜¯é€»è¾‘ä¸Šæ¯”è¾ƒé¡º","like_count":0},{"had_liked":false,"id":70907,"user_name":"å¤šæ‹‰æ ¼Â·five","can_delete":false,"product_type":"c1","uid":1207914,"ip_address":"","ucode":"07023F43811EE3","user_header":"https://static001.geekbang.org/account/avatar/00/12/6e/6a/38a3fa8d.jpg","comment_is_top":false,"comment_ctime":1551227114,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551227114","product_id":100019601,"comment_content":"è¿™ä¸ªå°±æ˜¯ç±»ä¼¼äºå•ä¾‹é‡Œè¾¹çš„åŒé‡æ£€æŸ¥å†™æ³•å§","like_count":0}]}
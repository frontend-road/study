{"id":209434,"title":"20 | Embeddingç®€ä»‹ï¼šä¸ºä»€ä¹ˆEmbeddingæ›´é€‚åˆç¼–ç æ–‡æœ¬ç‰¹å¾ï¼Ÿ","content":"<p><strong>è¯¾ä»¶å’ŒDemoåœ°å€</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/NLP\">https://gitee.com/geektime-geekbang/NLP</a></p>","comments":[{"had_liked":false,"id":189800,"user_name":". SWAgsWAGSwAGSWaGğŸ‘","can_delete":false,"product_type":"c3","uid":1887020,"ip_address":"","ucode":"AF2A3AE7D1052E","user_header":"https://static001.geekbang.org/account/avatar/00/1c/cb/2c/02d98987.jpg","comment_is_top":false,"comment_ctime":1584552426,"is_pvip":false,"replies":[{"id":73124,"content":"ä¸€èˆ¬æ¥è¯´æ˜¯ç”¨å·²ç»è®­ç»ƒå¥½çš„embeddingã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹ç„¶","uid":1813673,"ctime":1584597203,"ip_address":"","comment_id":189800,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"è€å¸ˆï¼Œæˆ‘å¯¹embeddingçš„ç†è§£è¿˜æ˜¯æœ‰äº›æ··æ·†ã€‚\nembeddingå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªé¢„è®­ç»ƒçš„è¯­è¨€æ¨¡å‹å¯¹å—ï¼Ÿé‚£æˆ‘ä»¬å…·ä½“åº”è¯¥æ€ä¹ˆä½¿ç”¨ï¼Ÿ\næŒ‰ç…§ä¹‹å‰è‡ªå·±åœ¨ç½‘ä¸Šçœ‹çš„åšå®¢ï¼Œæˆ‘ä»¬çš„è®­ç»ƒæ•°æ®æ˜¯ä¸æ˜¯éƒ½åº”è¯¥è½¬æ¢æˆembeddingï¼Œæ‰èƒ½è¾“å…¥æ¨¡å‹è¿›è¡Œè®­ç»ƒå‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1813673,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/ac/a9/fbcddd1f.jpg","nickname":"ç‹ç„¶","note":"","ucode":"45A7F34120DF47","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487798,"discussion_content":"ä¸€èˆ¬æ¥è¯´æ˜¯ç”¨å·²ç»è®­ç»ƒå¥½çš„embeddingã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584597203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1914504,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/36/88/20b6a6ee.jpg","nickname":"Simon","note":"","ucode":"A8A2E3E57BD029","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":229526,"discussion_content":"word embeddingï¼Œè¯åµŒå…¥ï¼Œæ˜¯è¯çš„ä¸€ç§å‘é‡åŒ–è¡¨ç¤ºã€‚å¥½çš„è¯å‘é‡å¯ä»¥åæ˜ è¯ä¹‰ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586661194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":322161,"user_name":"EiLenğŸ–","can_delete":false,"product_type":"c3","uid":2760384,"ip_address":"","ucode":"998AADC238AACC","user_header":"https://static001.geekbang.org/account/avatar/00/2a/1e/c0/fa6afd6a.jpg","comment_is_top":false,"comment_ctime":1637211840,"is_pvip":false,"replies":[{"id":117741,"content":"æˆ‘è¿™é‡Œè¯´çš„æ˜¯æ•°å­¦æœ¬è´¨ã€‚å¦‚æœç›´æ¥ç”¨one-hotåé¢æ¥å…¨è¿æ¥æ•°å­¦ä¸€æ ·ã€‚ä½†æ˜¯å®ç°ä¸Šå°±å¤ªå·®äº†ï½æ¯”å¦‚è¯´ä½ å¯ä»¥çœ‹çœ‹TF TPUå½“ä¸­çš„å®ç°å°±æ˜¯ç›´æ¥one-hotä¹˜ã€‚å»ºè®®GPUè¿˜æ˜¯Embeddingã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1813673,"ctime":1638448687,"ip_address":"","comment_id":322161,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"è€å¸ˆè¯´çš„(ç›´æ¥åœ¨æ¨¡å‹é‡Œè®­ç»ƒembeddingï¼Œå¯¹æ¯”ç›´æ¥one-hotæ²¡æœ‰ä»»ä½•ä¼˜åŠ¿)ä¸ªäººä¸æ˜¯å¾ˆè®¤åŒï¼Œä¼˜åŠ¿ä¸å°±åœ¨äºæŠŠone-hotçš„ç»´åº¦æ”¹å˜äº†æ–¹ä¾¿åé¢çš„è®¡ç®—å—ï¼ŸğŸ˜‚","like_count":0,"discussions":[{"author":{"id":1813673,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/ac/a9/fbcddd1f.jpg","nickname":"ç‹ç„¶","note":"","ucode":"45A7F34120DF47","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535469,"discussion_content":"æˆ‘è¿™é‡Œè¯´çš„æ˜¯æ•°å­¦æœ¬è´¨ã€‚å¦‚æœç›´æ¥ç”¨one-hotåé¢æ¥å…¨è¿æ¥æ•°å­¦ä¸€æ ·ã€‚ä½†æ˜¯å®ç°ä¸Šå°±å¤ªå·®äº†ï½æ¯”å¦‚è¯´ä½ å¯ä»¥çœ‹çœ‹TF TPUå½“ä¸­çš„å®ç°å°±æ˜¯ç›´æ¥one-hotä¹˜ã€‚å»ºè®®GPUè¿˜æ˜¯Embeddingã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638448687,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":258416,"user_name":"æ¸¬è©¦ä¸­â€¦â€¦","can_delete":false,"product_type":"c3","uid":1187359,"ip_address":"","ucode":"E7E1B46CB6D8B1","user_header":"https://static001.geekbang.org/account/avatar/00/12/1e/1f/41e35a24.jpg","comment_is_top":false,"comment_ctime":1604418291,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"å…³äºã€Œè¯å‘é‡ã€è¡¥å……ä¸€ä¸ªè§†é¢‘ï¼ˆæ˜¯åŒä¸€ä¸ªè§†é¢‘ï¼‰ï¼š\n- bilibiliï¼šhttps:&#47;&#47;www.bilibili.com&#47;video&#47;BV19541157pe?from=search&amp;seid=13143938887158668822\n- YouTubeï¼šhttps:&#47;&#47;www.youtube.com&#47;watch?v=2fhChTLQDfY","like_count":7},{"had_liked":false,"id":258417,"user_name":"æ¸¬è©¦ä¸­â€¦â€¦","can_delete":false,"product_type":"c3","uid":1187359,"ip_address":"","ucode":"E7E1B46CB6D8B1","user_header":"https://static001.geekbang.org/account/avatar/00/12/1e/1f/41e35a24.jpg","comment_is_top":false,"comment_ctime":1604418591,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"æŠŠã€Œè¯ã€è½¬åŒ–ä¸ºã€Œè¯å‘é‡ã€ä¹‹åæŠ•åˆ°ä¸€ä¸ªç©ºé—´å½“ä¸­ï¼Œè¿™æ ·è®¡ç®—æœºå¯¹äºã€Œè¯ã€çš„ç†è§£ï¼Œå°±è½¬å˜ä¸ºè®¡ç®—æœºå¯¹äºç©ºé—´ä»¥åŠè·ç¦»çš„ç†è§£ã€‚","like_count":3},{"had_liked":false,"id":186899,"user_name":"å®‹ä¸è‚¥","can_delete":false,"product_type":"c3","uid":1240126,"ip_address":"","ucode":"32B34AF579C91C","user_header":"https://static001.geekbang.org/account/avatar/00/12/ec/3e/885ec1d2.jpg","comment_is_top":false,"comment_ctime":1583949137,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"è€å¸ˆï¼Œè¿™èŠ‚è¯¾å¬çš„æœ‰ç‚¹è¿·ç³Šã€‚å¯¹äºâ€œæ˜ å°„æˆæ•°ç»„æ˜¯è¿ç»­çš„â€å’Œâ€œæ ¹æ®å‘¨å›´çš„è¯æ¥æ¨æ–­å®ƒâ€è¿™ä¸¤å¥è¯æ„Ÿè§‰ç†è§£èµ·æ¥ä¼šæœ‰ä¸€ç‚¹æ¨¡ç³Šã€‚ä¸Šå­¦æœŸä¹‹å‰æˆ‘åœ¨å®éªŒå®¤çš„ä»»åŠ¡æ˜¯åšé¥æ„Ÿé«˜å…‰è°±å›¾åƒçš„é™ç»´ï¼Œä¸»è¦æ˜¯ç”¨åˆ°äº†æµå½¢å­¦ä¹ å’Œå›¾åµŒå…¥æ€æƒ³ï¼Œæ„Ÿè§‰å’Œnlpé‡Œé¢çš„åµŒå…¥æœ‰ç‚¹ç±»ä¼¼ã€‚æ‰€ä»¥çŒœæµ‹ä¸€ä¸‹è¿™ä¸¤å¥è¯çš„æ„æ€ï¼Œé€šè¿‡ç¼–ç æŠŠè¯è½¬åŒ–ä¸ºæ•°å­—æˆ–æ˜ å°„ä¸ºæ•°ç»„ï¼Œä¹Ÿå¯è§†ä¸ºé«˜ç»´ç©ºé—´ä¸­çš„ä¸€ä¸ªä¸ªç‚¹ï¼Œæ‰€ä»¥è¯´æ˜¯è¿ç»­çš„ã€‚è€Œé€šè¿‡å‘¨å›´çš„è¯æ¥æ¨æ–­ï¼Œå³å°±æ˜¯ä¸€ä¸ªå¥å­å½“é«˜ç»´ä¸­å¤šä¸ªåæ ‡å€¼ç›¸åŒçš„æ—¶å€™ï¼Œä»–ä»¬æœ¬èº«å¤§æ¦‚ç‡ä¹Ÿæ˜¯éå¸¸é è¿‘çš„ç‚¹ã€‚åŒæ ·é«˜ç»´ç©ºé—´ä¸­ç‚¹çš„è·ç¦»ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥åº¦é‡è¯ä¹‹é—´çš„å…³ç³»ï¼ˆç›¸å…³åº¦ï¼‰ã€‚ä¹‹å‰ä¸€ç›´ç”¨çš„ä¼ ç»Ÿæ–¹æ³•ï¼Œåˆšè½¬æ·±åº¦å­¦ä¹ ï¼Œnlpä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦ã€‚ä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹ï¼Œå¸Œæœ›è€å¸ˆèƒ½æŒ‡ç‚¹ä¸€ä¸‹ã€‚","like_count":2,"discussions":[{"author":{"id":1224793,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b0/59/e46bc734.jpg","nickname":"æ°´é‡Œæé±¼","note":"","ucode":"01AA841F3187BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":604598,"discussion_content":"è¿™é—¨è¯¾å…¶å®ä¸å¤ªé€‚åˆä½œä¸ºâ€œå…¨éƒ¨çŸ¥è¯†â€å»çœ‹çš„ï¼Œå¯ä»¥æ ¹æ®ä¸»é¢˜å†å»æ‰¾ç›¸å…³èµ„æ–™åšè¡¥å……ï¼Œä½ ç¨å¾®æœä¸€ä¸‹word embeddingçš„è§£è¯»æ–‡ç« ï¼Œå°¤å…¶æ˜¯å†å²æ²¿è¢­å…³ç³»å°±å¾ˆæ¸…æ¥šäº†ï¼Œæ¯”å¦‚å…³é”®è¯ã€Œdistributed representationã€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676374981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186870,"user_name":"äººå·¥æ™ºèƒ½æ··é¥­äºº","can_delete":false,"product_type":"c3","uid":1104354,"ip_address":"","ucode":"71CF953311BD81","user_header":"https://static001.geekbang.org/account/avatar/00/10/d9/e2/d75009ef.jpg","comment_is_top":false,"comment_ctime":1583941778,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"embeddingè®©ä¸åŒçš„è¯ä¹‹é—´å¯ä»¥è®¡ç®—ç›¸ä¼¼åº¦","like_count":1},{"had_liked":false,"id":313417,"user_name":"sky","can_delete":false,"product_type":"c3","uid":2325199,"ip_address":"","ucode":"C7BA135845E1FF","user_header":"https://static001.geekbang.org/account/avatar/00/23/7a/cf/c42dd74e.jpg","comment_is_top":false,"comment_ctime":1632413433,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹æ”¹å˜nlp æ¸¸æˆè§„åˆ™ï¼Œåœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œç¡®å®å¦‚æ­¤ã€‚ä¸ªäººæ„Ÿè§‰ï¼Œé¢„è®­ç»ƒæ¨¡å‹çš„æå‡ºï¼Œä¸ä»…æ˜¯é‡‡ç”¨äº†embedding çš„æ€æƒ³ï¼Œæ›´é‡è¦çš„æ˜¯å¤ç”¨äº†è®­ç»ƒæ¨¡å‹çš„æ¶æ„","like_count":0},{"had_liked":false,"id":282891,"user_name":"å¤§ä»™","can_delete":false,"product_type":"c3","uid":2439083,"ip_address":"","ucode":"A0AAA34D72D6BF","user_header":"https://static001.geekbang.org/account/avatar/00/25/37/ab/49e2d798.jpg","comment_is_top":false,"comment_ctime":1615452721,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100046401,"comment_content":"        # class torch.nn.Embedding(\n        # num_embeddings, embedding_dim, padding_idx=None, max_norm=None, norm_type=2, scale_grad_by_freq=False, sparse=False)\n        # ä¸€ä¸ªä¿å­˜äº†å›ºå®šå­—å…¸å’Œå¤§å°çš„ç®€å•æŸ¥æ‰¾è¡¨ã€‚\n        # num_embeddings (int) - åµŒå…¥å­—å…¸çš„å¤§å°\n        # embedding_dim (int) - æ¯ä¸ªåµŒå…¥å‘é‡çš„å¤§å°\n        # padding_idx (int, optional) - å¦‚æœæä¾›çš„è¯ï¼Œè¾“å‡ºé‡åˆ°æ­¤ä¸‹æ ‡æ—¶ç”¨é›¶å¡«å……\n        # max_norm (float, optional) - å¦‚æœæä¾›çš„è¯ï¼Œä¼šé‡æ–°å½’ä¸€åŒ–è¯åµŒå…¥ï¼Œä½¿å®ƒä»¬çš„èŒƒæ•°å°äºæä¾›çš„å€¼\n        # norm_type (float, optional) - å¯¹äºmax_normé€‰é¡¹è®¡ç®—pèŒƒæ•°æ—¶çš„p\n        # scale_grad_by_freq (boolean, optional) - å¦‚æœæä¾›çš„è¯ï¼Œä¼šæ ¹æ®å­—å…¸ä¸­å•è¯é¢‘ç‡ç¼©æ”¾æ¢¯åº¦\n\n# ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸‰ã€‚æ„å‘³ç€å°±åªèƒ½æœ‰ä¸‰ç§æ•°å­—ã€‚è€Œæˆ‘ä»¬tensorä¸­åŒ…å«çš„æ•°å­—è¶…è¿‡ä¸‰ä¸ªä¼šæŠ¥é”™ã€‚è‡ªè¡Œä¿®æ”¹ç¬¬ä¸€ä¸ªå‚æ•°è§‚å¯Ÿembedding1 è¾“å‡ºã€‚ä½ ä¼šå‘ç°å¯¹äºtensorä¸­ç›¸åŒçš„æ•°å­—ä¼šè¢«åŒä¸€ç»„å€¼æ¥è¡¨ç¤º\nembedding = torch.nn.Embedding(3, 3, padding_idx=0)\ntensor = torch.LongTensor([[2, 3, 5, 6, 7], [7, 5, 3, 8, 3]])\nembedding1 = embedding(tensor)\nprint(embedding1)\n","like_count":0}]}
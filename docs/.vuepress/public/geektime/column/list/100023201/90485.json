{"id":90485,"title":"浏览器事件：为什么会有捕获过程和冒泡过程？","content":"<p>你好，我是winter。这一节课，我们进入了浏览器的部分，一起来学习一下事件。</p><h2>事件概述</h2><p>在开始接触具体的API之前，我们要先了解一下事件。一般来说，事件来自输入设备，我们平时的个人设备上，输入设备有三种：</p><ul>\n<li>键盘；</li>\n<li>鼠标；</li>\n<li>触摸屏。</li>\n</ul><p><strong>这其中，触摸屏和鼠标又有一定的共性，它们被称作pointer设备，所谓pointer设备，是指它的输入最终会被抽象成屏幕上面的一个点。</strong>但是触摸屏和鼠标又有一定区别，它们的精度、反应时间和支持的点的数量都不一样。</p><p>我们现代的UI系统，都源自WIMP系统。WIMP即Window Icon Menu Pointer四个要素，它最初由施乐公司研发，后来被微软和苹果两家公司应用在了自己的操作系统上（关于这个还有一段有趣的故事，我附在文末了）。</p><p>WIMP是如此成功，以至于今天很多的前端工程师会有一个观点，认为我们能够“点击一个按钮”，实际上并非如此，我们只能够点击鼠标上的按钮或者触摸屏，是操作系统和浏览器把这个信息对应到了一个逻辑上的按钮，再使得它的视图对点击事件有反应。这就引出了我们第一个要讲解的机制：捕获与冒泡。</p><h2>捕获与冒泡</h2><p>很多文章会讲到捕获过程是从外向内，冒泡过程是从内向外，但是这里我希望讲清楚，为什么会有捕获过程和冒泡过程。</p><!-- [[[read_end]]] --><p>我们刚提到，实际上点击事件来自触摸屏或者鼠标，鼠标点击并没有位置信息，但是一般操作系统会根据位移的累积计算出来，跟触摸屏一样，提供一个坐标给浏览器。</p><p>那么，把这个坐标转换为具体的元素上事件的过程，就是捕获过程了。而冒泡过程，则是符合人类理解逻辑的：当你按电视机开关时，你也按到了电视机。</p><p>所以我们可以认为，捕获是计算机处理事件的逻辑，而冒泡是人类处理事件的逻辑。</p><p>以下代码展示了事件传播顺序：</p><pre><code class=\"language-HTML\">&lt;body&gt;\n  &lt;input id=\"i\"/&gt;\n&lt;/body&gt;\n</code></pre><pre><code class=\"language-JavaScript\">document.body.addEventListener(\"mousedown\", () =&gt; {\n  console.log(\"key1\")\n}, true)\n\ndocument.getElementById(\"i\").addEventListener(\"mousedown\", () =&gt; {\n  console.log(\"key2\")\n}, true)\n\ndocument.body.addEventListener(\"mousedown\", () =&gt; {\n  console.log(\"key11\")\n}, false)\n\ndocument.getElementById(\"i\").addEventListener(\"mousedown\", () =&gt; {\n  console.log(\"key22\")\n}, false)\n</code></pre><p>我们监听了body和一个body的子元素上的鼠标按下事件，捕获和冒泡分别监听，可以看到，最终产生的顺序是：</p><ul>\n<li>“key1”</li>\n<li>“key2”</li>\n<li>“key22”</li>\n<li>“key11”</li>\n</ul><p>这是捕获和冒泡发生的完整顺序。</p><p>在一个事件发生时，捕获过程跟冒泡过程总是先后发生，跟你是否监听毫无关联。</p><p>在我们实际监听事件时，我建议这样使用冒泡和捕获机制：默认使用冒泡模式，当开发组件时，遇到需要父元素控制子元素的行为，可以使用捕获机制。</p><p>理解了冒泡和捕获的过程，我们再看监听事件的API，就非常容易理解了。</p><p>addEventListener有三个参数：</p><ul>\n<li>事件名称；</li>\n<li>事件处理函数；</li>\n<li>捕获还是冒泡。</li>\n</ul><p>事件处理函数不一定是函数，也可以是个JavaScript具有handleEvent方法的对象，看下例子：</p><pre><code class=\"language-JavaScript\">var o = {\n  handleEvent: event =&gt; console.log(event)\n}\ndocument.body.addEventListener(\"keydown\", o, false);\n</code></pre><p>第三个参数不一定是bool值，也可以是个对象，它提供了更多选项。</p><ul>\n<li>once：只执行一次。</li>\n<li>passive：承诺此事件监听不会调用preventDefault，这有助于性能。</li>\n<li>useCapture：是否捕获（否则冒泡）。</li>\n</ul><p>实际使用，在现代浏览器中，还可以不传第三个参数，我建议默认不传第三个参数，因为我认为冒泡是符合正常的人类心智模型的，大部分业务开发者不需要关心捕获过程。除非你是组件或者库的使用者，那就总是需要关心冒泡和捕获了。</p><h2>焦点</h2><p>我们讲完了pointer事件是由坐标控制，而我们还没有讲到键盘事件。</p><p>键盘事件是由焦点系统控制的，一般来说，操作系统也会提供一套焦点系统，但是现代浏览器一般都选择在自己的系统内覆盖原本的焦点系统。</p><p>焦点系统也是视障用户访问的重要入口，所以设计合理的焦点系统是非常重要的产品需求，尤其是不少国家对可访问性有明确的法律要求。</p><p>在旧时代，有一个经典的问题是如何去掉输入框上的虚线框，这个虚线框就是Windows焦点系统附带的UI表现。</p><p>现在Windows的焦点已经不是用虚线框表示了，但是焦点系统的设计几十年间没有太大变化。</p><p>焦点系统认为整个UI系统中，有且仅有一个“聚焦”的元素，所有的键盘事件的目标元素都是这个聚焦元素。</p><p>Tab键被用来切换到下一个可聚焦的元素，焦点系统占用了Tab键，但是可以用JavaScript来阻止这个行为。</p><p>浏览器API还提供了API来操作焦点，如：</p><pre><code class=\"language-JavaScript\">document.body.focus();\n\ndocument.body.blur();\n</code></pre><p>其实原本键盘事件不需要捕获过程，但是为了跟pointer设备保持一致，也规定了从外向内传播的捕获过程。</p><h2>自定义事件</h2><p>除了来自输入设备的事件，还可以自定义事件，实际上事件也是一种非常好的代码架构，但是DOM API中的事件并不能用于普通对象，所以很遗憾，我们只能在DOM元素上使用自定义事件。</p><p>自定义事件的代码示例如下（来自MDN）：</p><pre><code class=\"language-JavaScript\">var evt = new Event(\"look\", {\"bubbles\":true, \"cancelable\":false});\ndocument.dispatchEvent(evt);\n</code></pre><p>这里使用Event构造器来创造了一个新的事件，然后调用dispatchEvent来在特定元素上触发。<br>\n我们可以给这个Event添加自定义属性、方法。</p><p>注意，这里旧的自定义事件方法（使用document.createEvent和initEvent）已经被废弃。</p><h2>总结</h2><p>今天这一节课，我们讲了浏览器中的事件。</p><p>我们分别介绍了事件的捕获与冒泡机制、焦点机制和自定义事件。</p><p>捕获与冒泡机制来自pointer设备输入的处理，捕获是计算机处理输入的逻辑，冒泡是人类理解事件的思维，捕获总是在冒泡之前发生。</p><p>焦点机制则来自操作系统的思路，用于处理键盘事件。除了我们讲到的这些，随着输入设备的不断丰富，还有很多新的事件加入，如Geolocation和陀螺仪等。</p><p>最后给你留个小问题。请你找出你所知道的所有事件类型，和它们的目标元素类型。</p><h2>WIMP的小故事</h2><p>WIMP是由Alan Kay主导设计的，这位巨匠，同时也是面向对象之父和Smalltalk语言之父。</p><p>乔布斯曾经受邀参观施乐，他见到当时的WIMP界面，认为非常惊艳，不久后就领导苹果研究了新一代麦金塔系统。</p><p>后来，在某次当面对话中，乔布斯指责比尔盖茨抄袭了WIMP的设计，盖茨淡定地回答：“史蒂夫，我觉得应该用另一种方式看待这个问题。这就像我们有个叫施乐的有钱邻居，当我闯进去想偷走电视时，却发现你已经这么干了。”</p><p>但是不论如何，苹果和微软的数十代操作系统，极大地发展了这个体系，才有了我们今天的UI界面。</p><p></p>","comments":[{"had_liked":false,"id":86471,"user_name":"阿成","can_delete":false,"product_type":"c1","uid":1390032,"ip_address":"","ucode":"CEC3CD65FB9333","user_header":"https://static001.geekbang.org/account/avatar/00/15/35/d0/f2ac6d91.jpg","comment_is_top":false,"comment_ctime":1555379979,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"53094987531","product_id":100023201,"comment_content":"事件的种类对应了浏览器的能力，我们并不需要记住所有的事件及其细节，我们只需要在用到某种能力的时候去查找相应的事件类型下的某一事件即可。<br><br>补充一下楼下仁兄的答案：移动端设备上的touch系列，以及新标准(好像也挺多年了，不过兼容性让人望而却步...)的pointer系列","like_count":12},{"had_liked":false,"id":124661,"user_name":"🔅fighting🔅","can_delete":false,"product_type":"c1","uid":1392692,"ip_address":"","ucode":"5BFE5528B9E9A1","user_header":"https://static001.geekbang.org/account/avatar/00/15/40/34/6b524aee.jpg","comment_is_top":false,"comment_ctime":1565939247,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"44515612207","product_id":100023201,"comment_content":"01：UI事件，load，unload判断页面是都加载完成；<br>02：焦点事件，focus，blur<br>03：鼠标事件，click，dbclick，mousedown，mouseup，scroll<br>04：键盘事件  keydown，keyup，keypress，textInput，","like_count":10},{"had_liked":false,"id":99409,"user_name":"injser","can_delete":false,"product_type":"c1","uid":1106616,"ip_address":"","ucode":"E9D678C196C764","user_header":"https://static001.geekbang.org/account/avatar/00/10/e2/b8/41844d97.jpg","comment_is_top":false,"comment_ctime":1559209426,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"35918947794","product_id":100023201,"comment_content":"评论越来越少...果然贵在坚持","like_count":9,"discussions":[{"author":{"id":1100750,"avatar":"https://static001.geekbang.org/account/avatar/00/10/cb/ce/d9e00eb5.jpg","nickname":"undefined","note":"","ucode":"768098DBDBE333","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":363407,"discussion_content":"时隔一年回复你","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617190064,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1376128,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ff/80/0be1e15b.jpg","nickname":"智妍*","note":"","ucode":"319294562B0205","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1100750,"avatar":"https://static001.geekbang.org/account/avatar/00/10/cb/ce/d9e00eb5.jpg","nickname":"undefined","note":"","ucode":"768098DBDBE333","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374658,"discussion_content":"时隔两个月回复你","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621304834,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":363407,"ip_address":""},"score":374658,"extra":""}]},{"author":{"id":1373842,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f6/92/3d75c5e5.jpg","nickname":"effort期待。","note":"","ucode":"2D4317FF447709","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6775,"discussion_content":"如果只响应捕获，不响应冒泡怎么实现嘞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567093456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97137,"user_name":"bestRktnZnnn","can_delete":false,"product_type":"c1","uid":1469462,"ip_address":"","ucode":"7B9C7C6D08B450","user_header":"https://static001.geekbang.org/account/avatar/00/16/6c/16/3495dfc8.jpg","comment_is_top":false,"comment_ctime":1558595272,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"23033431752","product_id":100023201,"comment_content":"请问自定义事件主要应用场景是什么呢","like_count":6,"discussions":[{"author":{"id":1382579,"avatar":"https://static001.geekbang.org/account/avatar/00/15/18/b3/9759281f.jpg","nickname":"Mason","note":"","ucode":"3CBC4E31BF895E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":244843,"discussion_content":"道友  自定义事件的目的在于解耦。\n对于业务开发层面用的比较少，要是你自己封装底层的东西用的会比较多。\n举个例子，一个业务的按钮，click事件3个开发都要在里加逻辑。这就一团糟。\n如果各自封装个ABC事件，是不是就互不影响了呢","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1587635237,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1376654,"avatar":"https://static001.geekbang.org/account/avatar/00/15/01/8e/48e7c474.jpg","nickname":"一路向北","note":"","ucode":"54D8F1687AE1ED","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":127147,"discussion_content":"我觉得与函数调用本质上是一样的，没有太大的区别。因为自定义事件的触发也是要你手动触发，不会自动感知","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578568543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1359476,"avatar":"https://static001.geekbang.org/account/avatar/00/14/be/74/0d900ed9.jpg","nickname":"Tristan","note":"","ucode":"DC454E16AAA66A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344026,"discussion_content":"事件驱动","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611239058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89792,"user_name":"Even","can_delete":false,"product_type":"c1","uid":1147948,"ip_address":"","ucode":"C3555903EE9525","user_header":"https://static001.geekbang.org/account/avatar/00/11/84/2c/1b0926b4.jpg","comment_is_top":false,"comment_ctime":1556266186,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"23031102666","product_id":100023201,"comment_content":"https:&#47;&#47;developer.mozilla.org&#47;zh-CN&#47;docs&#47;Web&#47;Events 直接看MDN","like_count":5},{"had_liked":false,"id":295645,"user_name":"zgy","can_delete":false,"product_type":"c1","uid":1387798,"ip_address":"","ucode":"05EA6845199250","user_header":"https://static001.geekbang.org/account/avatar/00/15/2d/16/b525a71d.jpg","comment_is_top":false,"comment_ctime":1622529538,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18802398722","product_id":100023201,"comment_content":"冒泡和捕获就好比蛛网和昆虫，蜘蛛通过蛛网晃动捕获昆虫位置，昆虫挣扎晃动蛛网将位置传给蜘蛛。","like_count":5,"discussions":[{"author":{"id":1514529,"avatar":"https://static001.geekbang.org/account/avatar/00/17/1c/21/ebc95592.jpg","nickname":"橙橙马","note":"","ucode":"E544A8B69ED0F0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378063,"discussion_content":"哈哈这个观点很新颖~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623039774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139290,"user_name":"junjun","can_delete":false,"product_type":"c1","uid":1547322,"ip_address":"","ucode":"1F7EE146B9BE04","user_header":"https://static001.geekbang.org/account/avatar/00/17/9c/3a/bfd73920.jpg","comment_is_top":false,"comment_ctime":1570603757,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18750472941","product_id":100023201,"comment_content":"感觉讲的最好和实际应用联系起来，不然完全看不出有什么意义，毕竟最后还是为了应用。","like_count":4,"discussions":[{"author":{"id":1088230,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9a/e6/dbff91c4.jpg","nickname":"右耳·朋","note":"","ucode":"340E4A3371B40C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351039,"discussion_content":"对，很快就会忘记","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614131688,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228301,"user_name":"james","can_delete":false,"product_type":"c1","uid":1232771,"ip_address":"","ucode":"AC42035106E5B9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/yyibGRYCArsUNBfCAEAibua09Yb9D5AdO8TkCmXymhAepibqmlz0hzg06ggBLxyvXicnjqFVGr7zYF0rQoZ0aXCBAg/132","comment_is_top":false,"comment_ctime":1592637766,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"5887605062","product_id":100023201,"comment_content":"事件触发的顺序总是 先从外向内捕获，然后再从内向外冒泡<br><br>我们的心智模型是习惯于从内向外冒泡<br><br>01：UI事件：load，unload判断页面是都加载完成；<br>02：焦点事件：focus，blur<br>03：鼠标事件：click，dbclick，mousedown，mousemove，mouseup，scroll<br>04：键盘事件：keydown，keyup，keypress，textInput","like_count":1},{"had_liked":false,"id":131263,"user_name":"马成","can_delete":false,"product_type":"c1","uid":1486895,"ip_address":"","ucode":"664F2BAA2E0F0B","user_header":"https://static001.geekbang.org/account/avatar/00/16/b0/2f/e2096905.jpg","comment_is_top":false,"comment_ctime":1567684685,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5862651981","product_id":100023201,"comment_content":"事件触发的顺序总是 先从外向内捕获，然后再从内向外冒泡","like_count":1},{"had_liked":false,"id":124302,"user_name":"令狐洋葱","can_delete":false,"product_type":"c1","uid":1549519,"ip_address":"","ucode":"8AFD005B62E020","user_header":"https://static001.geekbang.org/account/avatar/00/17/a4/cf/a082eae7.jpg","comment_is_top":false,"comment_ctime":1565856270,"is_pvip":false,"replies":[{"id":"54058","content":"前面有讲学习方法","user_name":"作者回复","user_name_real":"winter","uid":"1268524","ctime":1570773732,"ip_address":"","comment_id":124302,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5860823566","product_id":100023201,"comment_content":"老师对于这类历史还是有一些了解的哈，不知道这类知识哪里获取的，是想了解就去搜索的么？","like_count":1,"discussions":[{"author":{"id":1268524,"avatar":"https://static001.geekbang.org/account/avatar/00/13/5b/2c/12bfd3cd.jpg","nickname":"winter","note":"","ucode":"2B068EDEAFEB56","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463107,"discussion_content":"前面有讲学习方法","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570773732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336688,"user_name":"Dark I","can_delete":false,"product_type":"c1","uid":1398772,"ip_address":"","ucode":"B19417BA2ED7A1","user_header":"https://static001.geekbang.org/account/avatar/00/15/57/f4/63c3c5ae.jpg","comment_is_top":false,"comment_ctime":1646291377,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1646291377","product_id":100023201,"comment_content":"那我是不是要留一句到此一游?","like_count":0},{"had_liked":false,"id":333404,"user_name":"pasico","can_delete":false,"product_type":"c1","uid":2595067,"ip_address":"","ucode":"FAC45A23621F2D","user_header":"https://static001.geekbang.org/account/avatar/00/27/98/fb/aa63be6f.jpg","comment_is_top":false,"comment_ctime":1644328106,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1644328106","product_id":100023201,"comment_content":"对应从来没写过基础组件的我来说，现在才知道捕获过程的重要性","like_count":0},{"had_liked":false,"id":295765,"user_name":"菊子","can_delete":false,"product_type":"c1","uid":2637476,"ip_address":"","ucode":"D9AB9C043C6593","user_header":"","comment_is_top":false,"comment_ctime":1622595018,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622595018","product_id":100023201,"comment_content":"老师，为什么我最终的事件顺序为key2; key22; key1; key11？","like_count":0},{"had_liked":false,"id":246903,"user_name":"NEVER GIVE UPจุ๊บ","can_delete":false,"product_type":"c1","uid":2064107,"ip_address":"","ucode":"D984F7F62867B2","user_header":"https://static001.geekbang.org/account/avatar/00/1f/7e/eb/db3686f8.jpg","comment_is_top":false,"comment_ctime":1599527971,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599527971","product_id":100023201,"comment_content":"醍醐灌顶","like_count":0},{"had_liked":false,"id":246256,"user_name":"Geek_e55e90","can_delete":false,"product_type":"c1","uid":2165671,"ip_address":"","ucode":"180A30064BED00","user_header":"","comment_is_top":false,"comment_ctime":1599228418,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1599228418","product_id":100023201,"comment_content":"”那么，把这个坐标转换为具体的元素上事件的过程，就是捕获过程了。“<br>老师 ，这句话能解释一下吗  看不懂。","like_count":0,"discussions":[{"author":{"id":2344569,"avatar":"","nickname":"Geek_6d01f5","note":"","ucode":"C030C8AF8CF6CF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331805,"discussion_content":"其实可以感性地去理解。想象一下，你现在触摸了一下手机，产生了一个触摸信号。\n一方面，系统通过“捕获”触摸信号感知你的行为，并作出相应的反应\n另一方面，触摸信号通过“冒泡”传递给你，使得你得出“我触摸了它”的认知，从而可以相应的反应。\n我们一般只关注后者就够了。","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1606983005,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2636593,"avatar":"","nickname":"Geek_0c8aff","note":"","ucode":"64089C32DB4CA9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2344569,"avatar":"","nickname":"Geek_6d01f5","note":"","ucode":"C030C8AF8CF6CF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414446,"discussion_content":"很形象","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636767716,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":331805,"ip_address":""},"score":414446,"extra":""}]},{"author":{"id":1663578,"avatar":"https://static001.geekbang.org/account/avatar/00/19/62/5a/d84ad4f7.jpg","nickname":"缘缘","note":"","ucode":"F8FAAEAE188A08","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":347292,"discussion_content":"点击的过程是先在最外层的元素，通过坐标定位到具体的元素位置，当某个元素位置相等时，就确定时该元素触发的事件，然后调用事件方法（捕捉到）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612189280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":246254,"user_name":"Geek_e55e90","can_delete":false,"product_type":"c1","uid":2165671,"ip_address":"","ucode":"180A30064BED00","user_header":"","comment_is_top":false,"comment_ctime":1599228296,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599228296","product_id":100023201,"comment_content":"老师 我还是不太懂 为什么要有捕获这个过程呢？","like_count":0},{"had_liked":false,"id":211441,"user_name":"sugar","can_delete":false,"product_type":"c1","uid":1167046,"ip_address":"","ucode":"454538FF253B5F","user_header":"https://static001.geekbang.org/account/avatar/00/11/ce/c6/958212b5.jpg","comment_is_top":false,"comment_ctime":1587963162,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587963162","product_id":100023201,"comment_content":"补充一下：最后一关wimp小故事 我在乔布斯传上也看到过～ 想看完整版的可以去了解^^","like_count":0},{"had_liked":false,"id":169809,"user_name":"稚鸿同学","can_delete":false,"product_type":"c1","uid":1212581,"ip_address":"","ucode":"989804DB990385","user_header":"https://static001.geekbang.org/account/avatar/00/12/80/a5/83b424bc.jpg","comment_is_top":false,"comment_ctime":1578449997,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1578449997","product_id":100023201,"comment_content":"其实我也要看书去补充具体的详情","like_count":0},{"had_liked":false,"id":102726,"user_name":"ethan","can_delete":false,"product_type":"c1","uid":1150011,"ip_address":"","ucode":"CE7007B18912EC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLt51Sq1c4aicPJoD8cZ1w5LibHj1fK0CaBJDG9HroeKpSy4gKrZnmv7ZibCDeXnuphCHZ45V349fjAA/132","comment_is_top":false,"comment_ctime":1560300135,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560300135","product_id":100023201,"comment_content":"解惑了，赞","like_count":0},{"had_liked":false,"id":100775,"user_name":"张驰","can_delete":false,"product_type":"c1","uid":1004106,"ip_address":"","ucode":"3181D1DF5216C2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/52/4a/56c7591e.jpg","comment_is_top":false,"comment_ctime":1559636220,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559636220","product_id":100023201,"comment_content":"讲得真好","like_count":0},{"had_liked":false,"id":97017,"user_name":"桃翁","can_delete":false,"product_type":"c1","uid":1044036,"ip_address":"","ucode":"CB438AF450DC00","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/44/26ac883e.jpg","comment_is_top":false,"comment_ctime":1558573168,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1558573168","product_id":100023201,"comment_content":"我其实没有明白为什么写组件就要用到捕获事件呢？","like_count":0,"discussions":[{"author":{"id":1446237,"avatar":"https://static001.geekbang.org/account/avatar/00/16/11/5d/0d955f19.jpg","nickname":"安思科","note":"","ucode":"15FBE79CEDA0FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296566,"discussion_content":"对，讲了半天这个问题好像没讲","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596590306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1376654,"avatar":"https://static001.geekbang.org/account/avatar/00/15/01/8e/48e7c474.jpg","nickname":"一路向北","note":"","ucode":"54D8F1687AE1ED","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":127148,"discussion_content":"同问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578568563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89262,"user_name":"疾风吹云走","can_delete":false,"product_type":"c1","uid":1422281,"ip_address":"","ucode":"C87EEAA56B730B","user_header":"https://static001.geekbang.org/account/avatar/00/15/b3/c9/bc444cdb.jpg","comment_is_top":false,"comment_ctime":1556121188,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1556121188","product_id":100023201,"comment_content":"那子元素的事件委托给父元素时，添加事件监听的第三个参数直接设置为true，在捕获过程就判断父元素上的事件目标会比冒泡好些嘛？","like_count":0},{"had_liked":false,"id":87465,"user_name":"花狗是我","can_delete":false,"product_type":"c1","uid":1437871,"ip_address":"","ucode":"558167377DF5AB","user_header":"https://static001.geekbang.org/account/avatar/00/15/f0/af/bef1017f.jpg","comment_is_top":false,"comment_ctime":1555600015,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555600015","product_id":100023201,"comment_content":"这钱花的值","like_count":0},{"had_liked":false,"id":86639,"user_name":"レイン小雨","can_delete":false,"product_type":"c1","uid":1219933,"ip_address":"","ucode":"45BED977EFE852","user_header":"https://static001.geekbang.org/account/avatar/00/12/9d/5d/3fdead91.jpg","comment_is_top":false,"comment_ctime":1555416641,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555416641","product_id":100023201,"comment_content":"有意思","like_count":0}]}
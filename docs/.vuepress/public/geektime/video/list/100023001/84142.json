{"id":84142,"title":"47 | 输入与输出数据处理","content":"<h2>课件及源码下载地址：</h2><p><a href=\"https://gitee.com/geektime-geekbang/tensorflow-101/tree/master/beginners\">https://gitee.com/geektime-geekbang/tensorflow-101/tree/master/beginners</a></p>","comments":[{"had_liked":false,"id":114862,"user_name":"Claude Chen","can_delete":false,"product_type":"c3","uid":1524562,"ip_address":"","ucode":"D9C34DC707482F","user_header":"https://static001.geekbang.org/account/avatar/00/17/43/52/f3da994a.jpg","comment_is_top":false,"comment_ctime":1563419683,"is_pvip":false,"replies":[{"id":59102,"content":"我猜测你应该是在 Windows 环境上运行的，Windows 文件路径是 `\\` 连接的，跟 转义字符 有冲突。","user_name":"作者回复","user_name_real":"彭靖田","uid":1067283,"ctime":1574311180,"ip_address":"","comment_id":114862,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"在one-hot编码这个步骤报错：\nfor i in range(len(vec)):\n    vec[i] = text2vec(text[i])\nError: length of captcha should be 4, but got 5\n然后回去检查了一下glob.glob(TRAIN_DATA_DIR + &#39;*.png&#39;)读出来的东西：\n[&#39;.&#47;train-data\\\\0003.png&#39;,\n &#39;.&#47;train-data\\\\0005.png&#39;,\n &#39;.&#47;train-data\\\\0007.png&#39;,\n &#39;.&#47;train-data\\\\0009.png&#39;,\n &#39;.&#47;train-data\\\\0012.png&#39;,\n &#39;.&#47;train-data\\\\0015.png&#39;,\n &#39;.&#47;train-data\\\\0016.png&#39;,\n &#39;.&#47;train-data\\\\0018.png&#39;,\n &#39;.&#47;train-data\\\\0023.png&#39;,\n &#39;.&#47;train-data\\\\0025.png&#39;,\n &#39;.&#47;train-data\\\\0026.png&#39;,\n &#39;.&#47;train-data\\\\0033.png&#39;,\n &#39;.&#47;train-data\\\\0035.png&#39;,\n &#39;.&#47;train-data\\\\0040.png&#39;,\n &#39;.&#47;train-data\\\\0042.png&#39;,\n &#39;.&#47;train-data\\\\0043.png&#39;,\n &#39;.&#47;train-data\\\\0045.png&#39;,\n...]\n这就导致我的label其实是五位：\\0003, \\0005...请问这个要怎么解决呢？\n\n","like_count":0,"discussions":[{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"彭靖田","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458850,"discussion_content":"我猜测你应该是在 Windows 环境上运行的，Windows 文件路径是 `\\` 连接的，跟 转义字符 有冲突。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574311180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1032631,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c1/b7/57f153f6.jpg","nickname":"Sun Fei","note":"","ucode":"092EC0992050BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6538,"discussion_content":"TRAIN_DATA_DIR =&#39; .\\\\train-data\\\\&#39;","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566961071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1435900,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e8/fc/c26b6207.jpg","nickname":"MarDino","note":"","ucode":"4A70C1B476F7E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6420,"discussion_content":"我在画子图的时候也遇到这个问题\n我自己修改代码如下\n子图能正常显示对应的label\ntext.append(filename.lstrip(TRAIN_DATA_DIR + &#39;\\\\&#39;).rstrip(&#39;.png&#39;)) ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566893129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":3168900,"avatar":"https://static001.geekbang.org/account/avatar/00/30/5a/84/2d9a6785.jpg","nickname":"ACHL","note":"","ucode":"5ACE8F786BD5D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1435900,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e8/fc/c26b6207.jpg","nickname":"MarDino","note":"","ucode":"4A70C1B476F7E2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589615,"discussion_content":"thankyou","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665200274,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6420,"ip_address":"广西","group_id":0},"score":589615,"extra":""}]}]},{"had_liked":false,"id":199834,"user_name":"Geek_5d9192","can_delete":false,"product_type":"c3","uid":1896663,"ip_address":"","ucode":"6A773BBE8AF667","user_header":"","comment_is_top":false,"comment_ctime":1585496698,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"解决Windows环境，读取训练集图片，文件路径与转移字符冲突问题：TRAIN_DATA_DIR = &#39;.&#47;train-data\\&#47;&#39;","like_count":1},{"had_liked":false,"id":85218,"user_name":"Kirito","can_delete":false,"product_type":"c3","uid":1230181,"ip_address":"","ucode":"511243C83798A8","user_header":"https://static001.geekbang.org/account/avatar/00/12/c5/65/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1555018244,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"回答楼上，这里没有区别，三个点表示前面所有的dimension","like_count":0},{"had_liked":false,"id":73429,"user_name":"姜昆","can_delete":false,"product_type":"c3","uid":1369770,"ip_address":"","ucode":"2B14C5503DFC63","user_header":"https://static001.geekbang.org/account/avatar/00/14/e6/aa/7c0fc559.jpg","comment_is_top":false,"comment_ctime":1551882649,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100023001,"comment_content":"np.dot(image[..., :3], [0.299, 0.587, 0.114]) 和np.dot(image, [0.299, 0.587, 0.114])有区别吗？我认为没有区别，我建议你解释一下image[..., :3]，因为三个省略号比较少见，对初学者也较难理解，还请解释一下哈！！\n","like_count":0}]}
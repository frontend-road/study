{"id":89251,"title":"05 | 学会几个系统调用：咱们公司能接哪些类型的项目？","content":"<p>上一节我们讲了几个重要的Linux命令行，只有通过这些命令，用户才能把Linux系统用起来，不知道你掌握得如何了？其实Linux命令也是一个程序，只不过代码是别人写好的，你直接用就可以了。你可以自己试着写写代码，通过代码把Linux系统用起来，这样印象会更深刻。</p><p>不过，无论是别人写的程序，还是你写的程序，运行起来都是进程。如果你是一家外包公司，一个项目的运行要使用公司的服务，那就应该去办事大厅，也就是说，你写的程序应该使用系统调用。</p><p>你看，系统调用决定了这个操作系统好用不好用、功能全不全。对应到咱们这个公司中，作为一个老板，你应该好好规划一下，你的办事大厅能够提供哪些服务，这决定了你这个公司会被打五星还是打差评。</p><h2>立项服务与进程管理</h2><p>首先，我们得有个项目，那就要有立项服务。对应到Linux操作系统中就是<strong>创建进程</strong>。</p><p>创建进程的系统调用叫<span class=\"orange\">fork</span>。这个名字很奇怪，中文叫“分支”。为啥启动一个新进程叫“分支”呢？</p><p>在Linux里，要创建一个新的进程，需要一个老的进程调用fork来实现，其中老的进程叫作<strong>父进程</strong>（Parent Process），新的进程叫作<strong>子进程</strong>（Child Process）。</p><p>前面我们说过，一个进程的运行是要有一个程序的，就像一个项目的执行，要有一个项目执行计划书。本来老的项目，按照项目计划书按部就班地来，项目执行到一半，突然接到命令，说是要新启动一个项目，这个时候应该怎么办呢？</p><!-- [[[read_end]]] --><p>一个项目的执行是很复杂的，需要涉及公司各个部门的工作，比如说，项目管理部门需要给这个项目组开好Jira和Wiki，会议室管理部要为这个项目分配会议室等等。</p><p>所以，我们现在有两种方式，一种是列一个清单，清单里面写明每个新项目组都要开哪些账号。但是，这样每次有项目，都要重新配置一遍新的Jira、Wiki，复杂得很。另一种方式就是咱们程序员常用的方式，CTRL/C + CTRL/V。也就是说，如果想为新项目建立一套Jira，但又觉得一个个填Jira里面的选项太麻烦，那就可以拷贝一个别人的，然后根据新项目的实际情况，将相应的配置改改。</p><p><img src=\"https://static001.geekbang.org/resource/image/f4/78/f433f5d14e79612032ea625b44ac6178.jpeg?wh=2231*1994\" alt=\"\"></p><p>Linux就是这样想的。当父进程调用fork创建进程的时候，子进程将各个子系统为父进程创建的数据结构也全部拷贝了一份，甚至连程序代码也是拷贝过来的。按理说，如果不进行特殊的处理，父进程和子进程都按相同的程序代码进行下去，这样就没有意义了。</p><p>所以，我们往往会这样处理：对于fork系统调用的返回值，如果当前进程是子进程，就返回0；如果当前进程是父进程，就返回子进程的进程号。这样首先在返回值这里就有了一个区分，然后通过if-else语句判断，如果是父进程，还接着做原来应该做的事情；如果是子进程，需要请求另一个系统调用<span class=\"orange\">execve</span>来执行另一个程序，这个时候，子进程和父进程就彻底分道扬镳了，也就产生了一个分支（fork）了。</p><p><img src=\"https://static001.geekbang.org/resource/image/e8/7f/e8ee83d78538bd43d3835662ded92e7f.jpeg?wh=1970*1322\" alt=\"\"></p><p>同样是“先拷贝，再修改”的策略，你可能会问，新进程都是父进程fork出来的，那到底谁是第一个呢？</p><p>作为一个外包公司老板，有了新项目当然会分给手下做，但是当公司刚起步的时候呢？没有下属，只好自己上了。先建立<strong>项目运行体系</strong>，等后面再做项目的时候，就都按这个来。</p><p>对于操作系统也一样，启动的时候先创建一个所有用户进程的“祖宗进程”。这个在讲系统启动的时候还会详细讲，我这里先不多说。</p><p>有时候，父进程要关心子进程的运行情况，这毕竟是自己身上掉下来的肉。有个系统调用<span class=\"orange\">waitpid</span>，父进程可以调用它，将子进程的进程号作为参数传给它，这样父进程就知道子进程运行完了没有，成功与否。</p><p>所以说，所有子项目最终都是老板，也就是祖宗进程fork过来的，因而它要对整个公司的项目执行负最终的责任。</p><h2>会议室管理与内存管理</h2><p>项目启动之后，每个项目组有独立的会议室，存放自己项目相关的数据。每个项目组都感觉自己有独立的办公空间。</p><p>在操作系统中，每个进程都有自己的内存，互相之间不干扰，有独立的<strong>进程内存空间</strong>。</p><p>那独立的办公空间里面，都放些什么呢？</p><p>项目执行计划书肯定是要放进去的，因为执行过程中肯定要不断地看。对于进程的内存空间来讲，放程序代码的这部分，我们称为<strong>代码段</strong>（Code Segment）。</p><p>项目执行的过程中，会产生一些架构图、流程图，这些也放在会议室里面。有的画在白板上，讨论完了，进入下个主题就会擦了；有的画在纸和本子上，讨论的时候翻出来，不讨论的时候堆在那里，会保留比较长的一段时间，除非指明的确不需要了才会去销毁。</p><p>对于进程的内存空间来讲，放进程运行中产生数据的这部分，我们称为<strong>数据段</strong>（Data Segment）。其中局部变量的部分，在当前函数执行的时候起作用，当进入另一个函数时，这个变量就释放了；也有动态分配的，会较长时间保存，指明才销毁的，这部分称为<strong>堆</strong>（Heap）。</p><p>一个进程的内存空间是很大的，32位的是4G，64位的就更大了，我们不可能有这么多物理内存。就像一个公司的会议室是有限的，作为老板，你不可能事先都给项目组分配好。哪有这么多会议室啊，一定是需要的时候再分配。</p><p>所以，进程自己不用的部分就不用管，只有进程要去使用部分内存的时候，才会使用内存管理的系统调用来登记，说自己马上就要用了，希望分配一部分内存给它，但是这还不代表真的就对应到了物理内存。只有真的写入数据的时候，发现没有对应物理内存，才会触发一个中断，现分配物理内存。</p><p><img src=\"https://static001.geekbang.org/resource/image/e9/0b/e9bcfb17a7ac8c21bcc6b0828641850b.jpeg?wh=2656*2932\" alt=\"\"></p><p>这里我们介绍两个在堆里面分配内存的系统调用，<span class=\"orange\">brk</span>和<span class=\"orange\">mmap</span>。</p><p>当分配的内存数量比较小的时候，使用brk，会和原来的堆的数据连在一起，这就像多分配两三个工位，在原来的区域旁边搬两把椅子就行了。当分配的内存数量比较大的时候，使用mmap，会重新划分一块区域，也就是说，当办公空间需要太多的时候，索性来个一整块。</p><h2>档案库管理与文件管理</h2><p>项目执行计划书要保存在档案库里，有一些需要长时间保存，这样哪怕公司暂时停业，再次经营的时候还可以继续使用。同样，程序、文档、照片等，哪怕关机再开机也能不丢的，就需要放在文件系统里面。</p><p>文件之所以能做到这一点，一方面是因为<strong>介质</strong>，另一方面是因为<strong>格式</strong>。公司之所以强调资料库，也是希望将一些知识固化为标准格式，放在一起进行管理，无论多少人来人走，都不影响公司业务。</p><p>文件管理其实花样不多，拍着脑袋都能想出来，无非是创建、打开、读、写等。</p><p>对于文件的操作，下面这六个系统调用是最重要的：</p><ul>\n<li>\n<p>对于已经有的文件，可以使用<span class=\"orange\">open</span>打开这个文件，<span class=\"orange\">close</span>关闭这个文件；</p>\n</li>\n<li>\n<p>对于没有的文件，可以使用<span class=\"orange\">creat</span>创建文件；</p>\n</li>\n<li>\n<p>打开文件以后，可以使用<span class=\"orange\">lseek</span>跳到文件的某个位置；</p>\n</li>\n<li>\n<p>可以对文件的内容进行读写，读的系统调用是<span class=\"orange\">read</span>，写是<span class=\"orange\">write</span>。</p>\n</li>\n</ul><p>但是别忘了，Linux里有一个特点，那就是<strong>一切皆文件</strong>。</p><ul>\n<li>\n<p>启动一个进程，需要一个程序文件，这是一个<strong>二进制文件</strong>。</p>\n</li>\n<li>\n<p>启动的时候，要加载一些配置文件，例如yml、properties等，这是文本文件；启动之后会打印一些日志，如果写到硬盘上，也是<strong>文本文件</strong>。</p>\n</li>\n<li>\n<p>但是如果我想把日志打印到交互控制台上，在命令行上唰唰地打印出来，这其实也是一个文件，是标准输出<strong>stdout文件</strong>。</p>\n</li>\n<li>\n<p>这个进程的输出可以作为另一个进程的输入，这种方式称为<strong>管道</strong>，管道也是一个文件。</p>\n</li>\n<li>\n<p>进程可以通过网络和其他进程进行通信，建立的<strong>Socket</strong>，也是一个文件。</p>\n</li>\n<li>\n<p>进程需要访问外部设备，<strong>设备</strong>也是一个文件。</p>\n</li>\n<li>\n<p>文件都被存储在文件夹里面，其实<strong>文件夹</strong>也是一个文件。</p>\n</li>\n<li>\n<p>进程运行起来，要想看到进程运行的情况，会在/proc下面有对应的<strong>进程号</strong>，还是一系列文件。</p>\n</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/e4/df/e49b5c2a78ac09903d697126bfe6c5df.jpeg?wh=2059*2662\" alt=\"\"></p><p>每个文件，Linux都会分配一个<strong>文件描述符</strong>（File Descriptor），这是一个整数。有了这个文件描述符，我们就可以使用系统调用，查看或者干预进程运行的方方面面。</p><p>所以说，文件操作是贯穿始终的，这也是“一切皆文件”的优势，就是统一了操作的入口，提供了极大的便利。</p><h2>项目异常处理与信号处理</h2><p>在项目运行过程中，不一定都是一帆风顺的，很可能遇到各种异常情况。作为老板，处理异常情况的能力是非常重要的，所以办事大厅也一定要包含这部分服务。</p><p>当项目遇到异常情况，例如项目中断，做到一半不做了。这时候就需要发送一个<strong>信号</strong>（Signal）给项目组。经常遇到的信号有以下几种：</p><ul>\n<li>\n<p>在执行一个程序的时候，在键盘输入“CTRL+C”，这就是中断的信号，正在执行的命令就会中止退出；</p>\n</li>\n<li>\n<p>如果非法访问内存，例如你跑到别人的会议室，可能会看到不该看的东西；</p>\n</li>\n<li>\n<p>硬件故障，设备出了问题，当然要通知项目组；</p>\n</li>\n<li>\n<p>用户进程通过<span class=\"orange\">kill</span>函数，将一个用户信号发送给另一个进程。</p>\n</li>\n</ul><p>当项目组收到信号的时候，项目组需要决定如何处理这些异常情况。</p><p>对于一些不严重的信号，可以忽略，该干啥干啥，但是像SIGKILL（用于终止一个进程的信号）和SIGSTOP（用于中止一个进程的信号）是不能忽略的，可以执行对于该信号的默认动作。每种信号都定义了默认的动作，例如硬件故障，默认终止；也可以提供信号处理函数，可以通过<span class=\"orange\">sigaction</span>系统调用，注册一个信号处理函数。</p><p>提供了信号处理服务，项目执行过程中一旦有变动，就可以及时处理了。</p><h2>项目组间沟通与进程间通信</h2><p>当某个项目比较大的时候，可能分成多个项目组，不同的项目组需要相互交流、相互配合才能完成，这就需要一个项目组之间的沟通机制。项目组之间的沟通方式有很多种，我们来一一规划。</p><p>首先就是发个消息，不需要一段很长的数据，这种方式称为<strong>消息队列</strong>（Message Queue）。由于一个公司内的多个项目组沟通时，这个消息队列是在内核里的，我们可以通过<span class=\"orange\">msgget</span>创建一个新的队列，<span class=\"orange\">msgsnd</span>将消息发送到消息队列，而消息接收方可以使用<span class=\"orange\">msgrcv</span>从队列中取消息。</p><p>当两个项目组需要交互的信息比较大的时候，可以使用<strong>共享内存</strong>的方式，也即两个项目组共享一个会议室（这样数据就不需要拷贝来拷贝去）。大家都到这个会议室来，就可以完成沟通了。这时候，我们可以通过<span class=\"orange\">shmget</span>创建一个共享内存块，通过<span class=\"orange\">shmat</span>将共享内存映射到自己的内存空间，然后就可以读写了。</p><p>但是，两个项目组共同访问一个会议室里的数据，就会存在“竞争”的问题。如果大家同时修改同一块数据咋办？这就需要有一种方式，让不同的人能够排他地访问，这就是信号量的机制<strong>Semaphore</strong>。</p><p>这个机制比较复杂，我这里说一种简单的场景。</p><p>对于只允许一个人访问的需求，我们可以将信号量设为1。当一个人要访问的时候，先调用<span class=\"orange\">sem_wait</span>。如果这时候没有人访问，则占用这个信号量，他就可以开始访问了。如果这个时候另一个人要访问，也会调用sem_wait。由于前一个人已经在访问了，所以后面这个人就必须等待上一个人访问完之后才能访问。当上一个人访问完毕后，会调用<span class=\"orange\">sem_post</span>将信号量释放，于是下一个人等待结束，可以访问这个资源了。</p><h2>公司间沟通与网络通信</h2><p>同一个公司不同项目组之间的合作搞定了，如果是不同公司之间呢？也就是说，这台Linux要和另一台Linux交流，这时候，我们就需要用到网络服务。</p><p>不同机器的通过网络相互通信，要遵循相同的网络协议，也即<strong>TCP/IP网络协议栈</strong>。Linux内核里有对于网络协议栈的实现。如何暴露出服务给项目组使用呢？</p><p>网络服务是通过套接字Socket来提供服务的。Socket这个名字很有意思，可以作“插口”或者“插槽”讲。虽然我们是写软件程序，但是你可以想象成弄一根网线，一头插在客户端，一头插在服务端，然后进行通信。因此，在通信之前，双方都要建立一个Socket。</p><p>我们可以通过Socket系统调用建立一个Socket。Socket也是一个文件，也有一个文件描述符，也可以通过读写函数进行通信。</p><p>好了，我们分门别类地规划了这么多办事大厅的服务，如果这些都有了，足够我们成长为一个大型跨国公司了。</p><h2>查看源代码中的系统调用</h2><p>你如果问，这里的系统调用列举全了吗？其实没有，系统调用非常多。我建议你访问<a href=\"https://www.kernel.org/\">https://www.kernel.org</a>下载一份Linux内核源代码。因为在接下来的整个课程里，我讲述的逻辑都是这些内核代码的逻辑。</p><p>对于64位操作系统，找到unistd_64.h文件，里面对于系统调用的定义，就是下面这样。</p><pre><code>#define __NR_restart_syscall\t  0\n#define __NR_exit\t\t  1\n#define __NR_fork\t\t  2\n#define __NR_read\t\t  3\n#define __NR_write\t\t  4\n#define __NR_open\t\t  5\n#define __NR_close\t\t  6\n#define __NR_waitpid\t\t  7\n#define __NR_creat\t\t  8\n......\n</code></pre><h2>中介与Glibc</h2><p>如果你做过开发，你会觉得刚才讲的和平时咱们调用的函数不太一样。这是因为，平时你并没有直接使用系统调用。虽然咱们的办事大厅已经很方便了，但是为了对用户更友好，我们还可以使用中介<strong>Glibc</strong>，有事情找它就行，它会转换成为系统调用，帮你调用。</p><p>Glibc是Linux下使用的开源的标准C库，它是GNU发布的libc库。<strong>Glibc为程序员提供丰富的 API，除了例如字符串处理、数学运算等用户态服务之外，最重要的是封装了操作系统提供的系统服务，即系统调用的封装</strong>。</p><p>每个特定的系统调用对应了至少一个Glibc封装的库函数，比如说，系统提供的打开文件系统调用sys_open对应的是Glibc中的open函数。</p><p>有时候，Glibc一个单独的API可能调用多个系统调用，比如说，Glibc提供的printf函数就会调用如sys_open、sys_mmap、sys_write、sys_close等等系统调用。</p><p>也有时候，多个API也可能只对应同一个系统调用，如Glibc下实现的malloc、calloc、free等函数用来分配和释放内存，都利用了内核的sys_brk的系统调用。</p><h2>总结时刻</h2><p>学了这么多系统调用，我们还是用一个图来总结一下。</p><p><img src=\"https://static001.geekbang.org/resource/image/ff/f0/ffb6847b94cb0fd086095ac263ac4ff0.jpg?wh=2491*1221\" alt=\"\"></p><h2>课堂练习</h2><p>有个命令strace，常用来跟踪进程执行时系统调用和所接收的信号。你可以试一下咱们学过的命令行，看看都执行了哪些系统调用。</p><p>欢迎留言和我分享你的疑惑和见解，也欢迎你收藏本节内容，反复研读。你也可以把今天的内容分享给你的朋友，和他一起学习、进步。</p><p><img src=\"https://static001.geekbang.org/resource/image/8c/37/8c0a95fa07a8b9a1abfd394479bdd637.jpg?wh=1110*659\" alt=\"\"></p>","comments":[{"had_liked":false,"id":83154,"user_name":"青石","can_delete":false,"product_type":"c1","uid":1215531,"ip_address":"","ucode":"B0056AD6453322","user_header":"https://static001.geekbang.org/account/avatar/00/12/8c/2b/3ab96998.jpg","comment_is_top":false,"comment_ctime":1554441908,"is_pvip":false,"replies":[{"id":"30053","content":"赞","user_name":"作者回复","comment_id":83154,"uid":"1001590","ip_address":"","utype":1,"ctime":1554475275,"user_name_real":"刘超@网易云"}],"discussion_count":4,"race_medal":0,"score":"972217050804","product_id":100024701,"comment_content":"用strace跟踪&quot;ls -al&quot;的系统调用，大体流程如下：<br>1. 先执行execve，调用ls命令;<br>2. 调用open、read、fstat、mmap、mprotect、mmap、close读取动态链库和系统配置文件；<br>3. 读取passwd、group文件，获取用户信息，lstat、lgetxattr、getxattr获取文件属性，同时判断权限；<br>4. 调用write输出内容；<br>5. munmap释放内存，close关闭。","like_count":227,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445889,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554475275,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1013097,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/75/69/791d0f5e.jpg","nickname":"rocedu","note":"","ucode":"E46E29CBBB94A9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306762,"discussion_content":"还可以配合ldd\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1600380573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1705788,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/07/3c/b4c5897b.jpg","nickname":"😊","note":"","ucode":"CA31516547B07C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555120,"discussion_content":"细","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646753559,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2524346,"avatar":"https://static001.geekbang.org/account/avatar/00/26/84/ba/8e163e8d.jpg","nickname":"iffhh","note":"","ucode":"5C06E11B944EAF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359380,"discussion_content":"微信读书有","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616168046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83108,"user_name":"TinnyFlames","can_delete":false,"product_type":"c1","uid":1234723,"ip_address":"","ucode":"0067EFC4210104","user_header":"https://static001.geekbang.org/account/avatar/00/12/d7/23/14b98ea5.jpg","comment_is_top":false,"comment_ctime":1554426955,"is_pvip":false,"replies":[{"id":"30057","content":"推荐给大家","user_name":"作者回复","comment_id":83108,"uid":"1001590","ip_address":"","utype":1,"ctime":1554475409,"user_name_real":"刘超@网易云"}],"discussion_count":9,"race_medal":0,"score":"924972395595","product_id":100024701,"comment_content":"关于操作系统，有一本国外的教材叫做OSTEP(Operating System Three Easy Picies) 虽然貌似没有中文版的，但里面的内容讲的相当通俗易懂，强烈推荐给大家作为理论层面的补充","like_count":216,"discussions":[{"author":{"id":1221991,"avatar":"https://static001.geekbang.org/account/avatar/00/12/a5/67/bf286335.jpg","nickname":"AllenGFLiu","note":"","ucode":"90FA8A619A2629","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":279456,"discussion_content":"http://pages.cs.wisc.edu/~remzi/OSTEP/Chinese/17.pdf\n这是wisc的中国学生翻译过来的中文版网址，总共有50个pdf，自行变更数字下载即可。","likes_number":15,"is_delete":false,"is_hidden":false,"ctime":1591347792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1468006,"avatar":"https://static001.geekbang.org/account/avatar/00/16/66/66/2204a2eb.jpg","nickname":"Geek_60f4a1","note":"","ucode":"1CB782EBC30DE5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1082,"discussion_content":"最近出了中文版！叫《操作系统导论》异步社区出版","likes_number":16,"is_delete":false,"is_hidden":false,"ctime":1562313665,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1235940,"avatar":"https://static001.geekbang.org/account/avatar/00/12/db/e4/a1b45d79.jpg","nickname":"柳志焕","note":"","ucode":"42375930DC2AA0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":73122,"discussion_content":"http://pages.cs.wisc.edu/~remzi/OSTEP/ 附上英文版地址","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1575553424,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1013097,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/75/69/791d0f5e.jpg","nickname":"rocedu","note":"","ucode":"E46E29CBBB94A9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306761,"discussion_content":"https://weread.qq.com/web/reader/db8329d071cc7f70db8a479kc81322c012c81e728d9d180  微信读书上的电子版。如https://www.cnblogs.com/rocedu/p/6528920.html所说，如果每天读书半小时，微信读书可以让我们免费学好计算机了。","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1600380503,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1047043,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fa/03/619e3e48.jpg","nickname":"风清扬","note":"","ucode":"651F1390B64953","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4571,"discussion_content":"已经有中文版了，买来对照英文版正在学习","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1565570723,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2576960,"avatar":"https://static001.geekbang.org/account/avatar/00/27/52/40/db9b0eb2.jpg","nickname":"自由","note":"","ucode":"4E3B53D29D86CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393566,"discussion_content":"该书的中文版，《操作系统导论》，在微信图书可以免费阅读。","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1631497999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445864,"discussion_content":"推荐给大家","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1554475409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1988589,"avatar":"","nickname":"Geek_d9dc19","note":"","ucode":"7611B7E8E175DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285584,"discussion_content":"记录下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592884371,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1248326,"avatar":"https://static001.geekbang.org/account/avatar/00/13/0c/46/dfe32cf4.jpg","nickname":"多选参数","note":"","ucode":"B2294D80AB075F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":270840,"discussion_content":"这本书确实不错\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590063121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84313,"user_name":"sotey","can_delete":false,"product_type":"c1","uid":1221689,"ip_address":"","ucode":"7D3B7E45FC18BA","user_header":"https://static001.geekbang.org/account/avatar/00/12/a4/39/6a5cd1d8.jpg","comment_is_top":false,"comment_ctime":1554825253,"is_pvip":false,"replies":[{"id":"49764","content":"哪有这么多寄存器","user_name":"作者回复","comment_id":84313,"uid":"1001590","ip_address":"","utype":1,"ctime":1567700302,"user_name_real":"刘超@网易云"}],"discussion_count":12,"race_medal":0,"score":"577080442917","product_id":100024701,"comment_content":"学习笔记+作业+提问，知识点真多啊，老师这文章货太干了。<br>一、 创建进程<br>#### 创建进程的总结：<br>1、Linux中父进程调用fork创建子进程。<br>2、父进程调用fork时，子进程拷贝所有父进程的数据接口和代码过来。<br>3、当前进程是子进程，fork返回0；当前进程是父进程，fork返回子进程进程号<br>4、如果返回0，说明当前进程是子进程，子进程请求execve系统调用，执行另一个程序。<br>5、如果返回子进程号，说明当前进程是父进程，按照原父进程原计划执行。<br>6、父进程要对子进程负责，调用waitpid将子进程进程号作为参数，父进程就能知道子进程运行完了没有，成功与否。<br>7、操作系统启动的时候先创建了一个所有用户进程的“祖宗进程”，课时1，第3题A选项：0号进程是所有用户态进程的祖先<br>##### 创建进程的系统调用：fork<br>##### 执行另一个程序的系统调用：execve<br>##### 将子进程的进程号作为参数传给它，父进程就能知道子进程运行完了没有，成功与否：waitpid<br><br>二、 内存管理<br>##### 内存管理总结<br>1、每个进程都有独立的进程内存空间，互相之间不干扰。（隔离性）<br>2、进程内存空间，存放程序代码的部分，称为代码段（Code Segment）。<br>3、存放进程运行中产生数据的部分，称为数据段（Data Segment）。<br>4、进程写入数据的时候，现用现分物理内存给进程使用。<br>5、分配内存数量比较小时，使用brk调用，会和原来的堆数据连在一起。<br>6、需要分配的内存数据量比较大的时候，使用mmap，重新划分一块内存区域。<br>##### 分配较小内存数量，和原来堆内数据连在一起：brk<br>##### 分配较大内存数量，重新划分一块内存区域：mmap<br><br>三、 文件管理<br>##### 文件的操作六个最重要系统调用：<br>##### 打开文件：open<br>##### 关闭文件：close<br>##### 创建文件：creat<br>##### 打开文件后跳到文件某个位置：lseek<br>##### 读文件：read<br>##### 写文件：write<br>##### Linux一切皆文件<br>##### 一切皆文件的优势即使统一了操作的入口，提供了极大的便利。<br><br>四、 信号处理（异常处理）<br>进程执行过程中一旦有变动，就可以通过信号处理服务及时处理。<br><br>五、 进程间通信<br>#### 有两种方式实现进程间通信<br>#### 消息队列方式<br>##### 创建一个新的队列：msgget<br>##### 发送消息到消息队列：msgsnd<br>##### 取出队列中的消息：msgrcv<br><br>六、 共享内存方式<br>##### 创建共享内存块：shmget<br>##### 将共享内存映射到自己的内存空间：shmat<br><br>#### 利用信号量实现隔离性<br>##### 占用信号量：sem_wait<br>##### 释放信号量：sem_post<br>伪代码：<br>假设信号量为1<br>signal = 1<br>sem_wait伪代码<br>while True {<br>if sem_wait == 1；<br>    signal -=1;<br>    break;<br>}<br>code.code;<br>sem_post伪代码<br>signal +=1;<br><br>七、 网络通信<br>##### 网络插口：socket<br>##### 网络通信遵循TCP&#47;IP网络协议栈<br>##### <br><br>八、 glibc<br>##### glibc是Linux下开源标准C库<br>##### glibc把系统调用进一步封<br><br>##### sys_open对应glibc的open函数<br>##### 一个单独的glibcAPI可能调用多个系统调用<br>##### printf函数调用sys_open、sys_mmap、sys_write、sys_close等等系统调用<br><br>### 课后作业<br>strace ls -la<br>查看有如下系统调用<br>execve<br>brk<br>mmap<br>access<br>open<br>fstat<br>mmap<br>close<br>read<br>stat<br>write<br>lseek<br>lstat<br>getxattr<br>socket<br>connect<br>mprotect<br><br>##### 疑问：局部变量，在当前函数执行的时候起作用，就是说当前函数执行中产生的局部变量是存放在内存中的。为什么不是暂存在CPU缓存或者寄存器，进入另一个函数时，丢掉局部变量，而不写入内存，提升效率。","like_count":134,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446312,"discussion_content":"哪有这么多寄存器","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567700302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1484191,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a5/9f/8b39334e.jpg","nickname":"yhh","note":"","ucode":"2BC4591A7F8E47","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":13849,"discussion_content":"CPU的寄存器是非常少的，一般都用在硬件设备驱动中，应用程序数据放到寄存器中的很少。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568708795,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1660330,"avatar":"https://static001.geekbang.org/account/avatar/00/19/55/aa/c79c292c.jpg","nickname":"Erebus","note":"","ucode":"81CC93A6D7A4BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":404207,"discussion_content":"可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634260744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2340542,"avatar":"https://static001.geekbang.org/account/avatar/00/23/b6/be/3c4d0e9e.jpg","nickname":"猫肥人懒","note":"","ucode":"A075C3EF6B0CEA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329250,"discussion_content":"局部变量一般压在栈里，在调用的时会放入寄存器里进行运算。ax，bx等，为了解决你说的访问内存慢的问题，cpu有多级缓存，尽量提高命中。要了解这些建议看看汇编代码","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606353681,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2285946,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e1/7a/b206cded.jpg","nickname":"人在江湖龙在江湖","note":"","ucode":"20850038573DAE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":322385,"discussion_content":"编译器优化很大部分内容就是把一些能够放到寄存器的局部变量，从内存栈空间直接放到寄存器里，这是c语言编译成汇编做的比较重要的一部分","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604736491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1241705,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f2/69/a925db7a.jpg","nickname":"犇","note":"","ucode":"CCA66C9BF3EBAB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":280543,"discussion_content":"之前在vc6里面，编译器是通过ecx传递this指针的，反汇编可以看一下。在linux下还没看过反汇编，你可以自己用gcc编译出汇编文件看一下是不是也用的ecx传递。至于用什么方式传递参数都是编译器说的算的，你自己写个编译器想怎么传参怎么传参。你可以百度一下函数调用约定相关的知识，__fastcall这种调用约定就是前两个参数用ecx,edx传，多余的用堆栈传参，意义不大。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591548733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2419502,"avatar":"https://static001.geekbang.org/account/avatar/00/24/eb/2e/90fea784.jpg","nickname":"柒","note":"","ucode":"D41241629321A1","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":1241705,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f2/69/a925db7a.jpg","nickname":"犇","note":"","ucode":"CCA66C9BF3EBAB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541478,"discussion_content":"兄弟，你这就是谬误了，自己写个编译器想怎么传参就怎么传参；编译器和CPU是遵循共同的ABI接口标准的，不是想怎么弄就怎么弄的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640400640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":280543,"ip_address":""},"score":541478,"extra":""}]},{"author":{"id":1049017,"avatar":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","nickname":"学习学个屁","note":"","ucode":"DF2D61E6FB2FCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":128853,"discussion_content":"那么多的函数，cpu缓存 内存严重不足","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578666034,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1339022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/6e/8e/5d309a85.jpg","nickname":"拯救地球好累","note":"","ucode":"7643439601EF4C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41469,"discussion_content":"函数的多层调用，比如说递归调用中，局部变量如果不保存在内存中的栈中，需要保留的局部变量的数量是很多的，寄存器数量则少得可怜，而且不能简单丢弃，丢了之后调用返回了之后怎么办？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572434593,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1201350,"avatar":"https://static001.geekbang.org/account/avatar/00/12/54/c6/c2481790.jpg","nickname":"lisiur","note":"","ucode":"CEB2DBCE29CAA7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4048,"discussion_content":"闭包？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565081102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1002120,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4a/88/93b31e00.jpg","nickname":"木有昵称","note":"","ucode":"AE358BD65DC33A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1248,"discussion_content":"堆stack","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562468047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1263561,"avatar":"https://static001.geekbang.org/account/avatar/00/13/47/c9/0ff8bc5f.jpg","nickname":"程运来","note":"","ucode":"8A09A42770C31D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1037,"discussion_content":"可能是CPU的寄存器是非常少的，就十几个，而且存储的数据十分有限，如果一个局部变量是一个对象或者是一个很大的数组，寄存器又怎么存储呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562287783,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83092,"user_name":"rocedu","can_delete":false,"product_type":"c1","uid":1013097,"ip_address":"","ucode":"E46E29CBBB94A9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/69/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1554410036,"is_pvip":true,"replies":[{"id":"49939","content":"赞","user_name":"作者回复","comment_id":83092,"uid":"1001590","ip_address":"","utype":1,"ctime":1567785031,"user_name_real":"刘超@网易云"}],"discussion_count":2,"race_medal":0,"score":"319381989940","product_id":100024701,"comment_content":"文件，虚存，进程三大核心概念都谈到了。学习系统调用，专栏可以作为学习地图进行之路，下面还有下极大的功夫。给大家推荐一本非常棒的入门图书Unix&#47;Linux编程实践教程(Understanding UNIX&#47;LINUX Programming)，绝版了，但是网上能搜到电子版，看到这本书真是相见恨晚。我的博客https:&#47;&#47;www.cnblogs.com&#47;rocedu&#47;p&#47;6016880.html就是对这本书的核心方法的总结，供大家参考。","like_count":75,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445855,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567785031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1705788,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/07/3c/b4c5897b.jpg","nickname":"😊","note":"","ucode":"CA31516547B07C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555122,"discussion_content":"谢谢分享","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646753637,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83136,"user_name":"刘強","can_delete":false,"product_type":"c1","uid":1035612,"ip_address":"","ucode":"B2E41BB894A727","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/5c/e09eac13.jpg","comment_is_top":false,"comment_ctime":1554434366,"is_pvip":false,"replies":[{"id":"30054","content":"谢谢啦","user_name":"作者回复","comment_id":83136,"uid":"1001590","ip_address":"","utype":1,"ctime":1554475327,"user_name_real":"刘超@网易云"}],"discussion_count":3,"race_medal":0,"score":"272137374014","product_id":100024701,"comment_content":"所有把socket翻译成套接字的文章，我一律不看。原因是socket的本意已经很清楚的说明了它的作用，我们翻译成套接字，平白无故的给读者增加了理解的难度。我觉得这个词除了能装逼，别于他用。作者是明白人，是现在读者的角度考虑的。这是真大牛！","like_count":63,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445880,"discussion_content":"谢谢啦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554475327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1802455,"avatar":"","nickname":"Geek_jimao6","note":"","ucode":"5A441018042F2A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":219165,"discussion_content":"同学你这种说法就一点肝，说成套接字本身没什么问题，它的意思是通信端点，这是从通信角度去认识，即“ip：端口”，好好去看看网络通信发展史，再回来看看你这条评论吧。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585740992,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1035612,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/cd/5c/e09eac13.jpg","nickname":"刘強","note":"","ucode":"B2E41BB894A727","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1802455,"avatar":"","nickname":"Geek_jimao6","note":"","ucode":"5A441018042F2A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":219182,"discussion_content":"你完全没明白我什么意思。","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1585742092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":219165,"ip_address":""},"score":219182,"extra":""}]}]},{"had_liked":false,"id":127061,"user_name":"美美","can_delete":false,"product_type":"c1","uid":1148422,"ip_address":"","ucode":"44CC95C45AF345","user_header":"https://static001.geekbang.org/account/avatar/00/11/86/06/72b01bb7.jpg","comment_is_top":false,"comment_ctime":1566547260,"is_pvip":false,"replies":[{"id":"48783","content":"好书","user_name":"作者回复","comment_id":127061,"uid":"1001590","ip_address":"","utype":1,"ctime":1567496111,"user_name_real":"刘超@网易云"}],"discussion_count":2,"race_medal":0,"score":"212019944764","product_id":100024701,"comment_content":"上面推荐的国外的教材叫OSTEP(Operating System Three Easy Picies) 已经有中文版了，顶上去让大家知道：https:&#47;&#47;book.douban.com&#47;subject&#47;33463930&#47;","like_count":49,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464300,"discussion_content":"好书","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567496111,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303025,"discussion_content":"作者原版免费 http://pages.cs.wisc.edu/~remzi/OSTEP/","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1599116899,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123650,"user_name":"不专注的linuxer","can_delete":false,"product_type":"c1","uid":1050191,"ip_address":"","ucode":"28ED11C1E2942C","user_header":"https://static001.geekbang.org/account/avatar/00/10/06/4f/14cc4b53.jpg","comment_is_top":false,"comment_ctime":1565740754,"is_pvip":false,"replies":[{"id":"46297","content":"既然fork是复制，就说明父进程和子进程在用户态的代码段是一模一样的，如果fork这个系统调用后面的语句都是A，则无论是父进程，还是子进程都是接下来要执行A的。好在fork是一个系统调用，刚从内核返回的时候，由于内核是能够区分父进程和子进程的，因而用户态的程序代码里面，往往通过这个返回值来判断自己是父进程还是子进程，因为子进程如果不判断一下，是不知道自己是子进程的。这和CPU执行权也没有关系。就是代码执行完fork以后，由于父子进程的代码是一模一样的，父进程和子进程都不知道自己是哪一个，但是判断返回值就知道了。","user_name":"作者回复","comment_id":123650,"uid":"1001590","ip_address":"","utype":1,"ctime":1566282899,"user_name_real":"刘超@网易云"}],"discussion_count":5,"race_medal":0,"score":"164774498002","product_id":100024701,"comment_content":"老师、各位同学，大家好！<br>“fork 系统调用的返回值，如果当前进程是子进程，就返回 0；如果当前进程是父进程，就返回子进程的进程号” 这句话到意思是不是说，父进程调用fork创建子进程之后，得到CPU执行权的可能是父进程叶可能是子进程，所以要从返回值区分一下？<br>不是很理解这个具体的过程，有谁可以解释一下吗？","like_count":37,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462758,"discussion_content":"既然fork是复制，就说明父进程和子进程在用户态的代码段是一模一样的，如果fork这个系统调用后面的语句都是A，则无论是父进程，还是子进程都是接下来要执行A的。好在fork是一个系统调用，刚从内核返回的时候，由于内核是能够区分父进程和子进程的，因而用户态的程序代码里面，往往通过这个返回值来判断自己是父进程还是子进程，因为子进程如果不判断一下，是不知道自己是子进程的。这和CPU执行权也没有关系。就是代码执行完fork以后，由于父子进程的代码是一模一样的，父进程和子进程都不知道自己是哪一个，但是判断返回值就知道了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566282899,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1336475,"avatar":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","nickname":"J.Smile","note":"","ucode":"C4D98DFDBF7584","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290967,"discussion_content":"原来这个意思","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594651498,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1270780,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er8AdNibZHbZriaqLQZrNPcX8hVOpY91o0ELl7eOq7qy3aTibjia10ymIsKUKW6Ucs9SuXBDWlg6sjahw/132","nickname":"逆舟","note":"","ucode":"B303B4B8E10E0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":279422,"discussion_content":"老师的意思应该是这个复制是完全彻底的，不仅包括代码，还包括执行进度，所以子进程也是马上要执行 fork 之后的语句，不加判断的话父子进程就会彻底重复了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591343422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1783608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Ryl35QN5UMAtDW4akGRyMzXEOzjXzTaXD9Tvf0M8mEvf7Kds5u8b9RvFul8oItBib8icrhyOy1xWXVDqDbicWu3nQ/132","nickname":"Geek_d142f6","note":"","ucode":"DFC61440374E79","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":254258,"discussion_content":"fork之后产生了两个进程，两个进程同时运行，操作系统根据fork的返回值来区分父进程和子进程，但是cpu在进行进程切换的时候，是怎么区分出来的呢？\n比如，父进程是qq，然后从qq上fork出淘宝进程，cpu是怎么区分qq和淘宝的？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588305594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1270780,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er8AdNibZHbZriaqLQZrNPcX8hVOpY91o0ELl7eOq7qy3aTibjia10ymIsKUKW6Ucs9SuXBDWlg6sjahw/132","nickname":"逆舟","note":"","ucode":"B303B4B8E10E0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1783608,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Ryl35QN5UMAtDW4akGRyMzXEOzjXzTaXD9Tvf0M8mEvf7Kds5u8b9RvFul8oItBib8icrhyOy1xWXVDqDbicWu3nQ/132","nickname":"Geek_d142f6","note":"","ucode":"DFC61440374E79","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":279421,"discussion_content":"cpu只管执行指令，他根本不需要关心这个指令来自哪个进程吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591343341,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":254258,"ip_address":""},"score":279421,"extra":""}]}]},{"had_liked":false,"id":83084,"user_name":"gwwwwt","can_delete":false,"product_type":"c1","uid":1461057,"ip_address":"","ucode":"CC6CFC0B7E37AD","user_header":"https://static001.geekbang.org/account/avatar/00/16/4b/41/af607865.jpg","comment_is_top":false,"comment_ctime":1554397253,"is_pvip":false,"replies":[{"id":"30059","content":"看源码不用编译，但是改代码需要，后面实验环节有这部分","user_name":"作者回复","comment_id":83084,"uid":"1001590","ip_address":"","utype":1,"ctime":1554475516,"user_name_real":"刘超@网易云"}],"discussion_count":3,"race_medal":0,"score":"117518514245","product_id":100024701,"comment_content":"刘老师，您好，我想问一下，Linux内核源代码下载后需要编译么？ 另外，您能推荐一个Mac上读kernel源码的软件么？\b感谢。。","like_count":27,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445851,"discussion_content":"看源码不用编译，但是改代码需要，后面实验环节有这部分","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554475516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1583792,"avatar":"https://static001.geekbang.org/account/avatar/00/18/2a/b0/0494447e.jpg","nickname":"墙东扶西","note":"","ucode":"8D6803FCDBF8AB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295604,"discussion_content":"我一般用这个网站来查elixir.bootlin.com","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1596260352,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1234591,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d6/9f/0213e8a0.jpg","nickname":"🤪HappyJoo","note":"","ucode":"96E1858F06BABA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285387,"discussion_content":"vscode？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592823295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91436,"user_name":"爷爷刘大","can_delete":false,"product_type":"c1","uid":1027494,"ip_address":"","ucode":"40755250FD459D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ad/a6/afb4acaa.jpg","comment_is_top":false,"comment_ctime":1557038535,"is_pvip":false,"replies":[{"id":"32854","content":"是的","user_name":"作者回复","comment_id":91436,"uid":"1001590","ip_address":"","utype":1,"ctime":1557154891,"user_name_real":"刘超@网易云"}],"discussion_count":3,"race_medal":0,"score":"113226188231","product_id":100024701,"comment_content":"另外还有一点，文件描述符不是面向操作系统的，而是针对进程的，所以同一个文件在不同的进程里可能会有不同的fd。其实换个理解方式就好懂了：因为操作系统里有太多的文件，一个进程大概率不需要知道所有的文件，所以每当进程用到文件的时候，就像系统要来这个文件，对进程来说，一个类似于数组的东西就可以管理到所有系统分配给他的文件，所以fd就是按照自然数顺序依次排列的，0表示标准输入，1是标准输出，2是标准错误，这三个是固定的，后面的用到就依次往后加。相当于是个下标index的概念。","like_count":27,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448918,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557154891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2062612,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/79/14/dc3e49d1.jpg","nickname":"Geek_29c23f","note":"","ucode":"921FD498B55D50","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":324625,"discussion_content":"假如不同的进程打开同一个文件，怎么处理竞争的问题，确保文件一致性呢","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1605145247,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2285946,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e1/7a/b206cded.jpg","nickname":"人在江湖龙在江湖","note":"","ucode":"20850038573DAE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":322303,"discussion_content":"总结的很好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604722048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83484,"user_name":"Loner","can_delete":false,"product_type":"c1","uid":1363936,"ip_address":"","ucode":"2A1798E219CE3E","user_header":"https://static001.geekbang.org/account/avatar/00/14/cf/e0/4e3d107d.jpg","comment_is_top":false,"comment_ctime":1554622139,"is_pvip":false,"replies":[{"id":"49893","content":"赞","user_name":"作者回复","comment_id":83484,"uid":"1001590","ip_address":"","utype":1,"ctime":1567781103,"user_name_real":"刘超@网易云"}],"discussion_count":1,"race_medal":0,"score":"108928804539","product_id":100024701,"comment_content":"可以自己搭个opengork服务器，教程百度有，很方便的看linux 源代码","like_count":25,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446043,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567781103,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83193,"user_name":"fy","can_delete":false,"product_type":"c1","uid":1152186,"ip_address":"","ucode":"EDB661C3A05910","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/jsMMDDzhbsTzhicsGZiaeV0PWSnAS0fBlb1r6CsuB32vr3hRwV9UubmfHQx45v7jtaXajPlQ8kQ17b3zpQzHmqVw/132","comment_is_top":false,"comment_ctime":1554455971,"is_pvip":false,"replies":[{"id":"49927","content":"是的，很感谢他们","user_name":"作者回复","comment_id":83193,"uid":"1001590","ip_address":"","utype":1,"ctime":1567782153,"user_name_real":"刘超@网易云"}],"discussion_count":1,"race_medal":0,"score":"65978965411","product_id":100024701,"comment_content":"在留言区能够看到分享好书的人，多谢！","like_count":15,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445911,"discussion_content":"是的，很感谢他们","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567782153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85829,"user_name":"Untitled","can_delete":false,"product_type":"c1","uid":1039464,"ip_address":"","ucode":"8DD6ABA3E81A2E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dc/68/006ba72c.jpg","comment_is_top":false,"comment_ctime":1555250219,"is_pvip":false,"discussion_count":0,"race_medal":2,"score":"61684792363","product_id":100024701,"comment_content":"用strace跟踪”whoami&quot;命令，执行的系统调用有：<br>（1）execve执行&#47;usr&#47;bin&#47;whoami程序<br>（2）brk、mmap 内存映射，mprotect内存权限更改<br>（3）access、openat、fstat、read、lseek、close 文件权限、属性查看、打开、跳到文件某个位置，关闭等操作<br>（4）geteuid 获取用户id<br>（5）socket、connect网络通信<br>（6）write 文件写入<br>（7）arch_pctcl、exit_group 设计架构的进程或线程状态和退出进程中的所有线程<br>","like_count":14},{"had_liked":false,"id":117411,"user_name":"Adam","can_delete":false,"product_type":"c1","uid":1305633,"ip_address":"","ucode":"338BA720880E4F","user_header":"https://static001.geekbang.org/account/avatar/00/13/ec/21/b0fe1bfd.jpg","comment_is_top":false,"comment_ctime":1564042849,"is_pvip":false,"replies":[{"id":"46416","content":"哈哈哈","user_name":"作者回复","comment_id":117411,"uid":"1001590","ip_address":"","utype":1,"ctime":1566299386,"user_name_real":"刘超@网易云"}],"discussion_count":1,"race_medal":0,"score":"48808683105","product_id":100024701,"comment_content":"文中老师提到：程序员常用的方式，CTRL&#47;C + CTRL&#47;V。 老师这是暗示程序员要多复制粘贴网上的代码吗？","like_count":11,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459955,"discussion_content":"哈哈哈","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566299386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83104,"user_name":"小文同学","can_delete":false,"product_type":"c1","uid":1001893,"ip_address":"","ucode":"48F2AEB989C12A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","comment_is_top":false,"comment_ctime":1554425671,"is_pvip":false,"replies":[{"id":"49937","content":"是的，一通百通","user_name":"作者回复","comment_id":83104,"uid":"1001590","ip_address":"","utype":1,"ctime":1567784831,"user_name_real":"刘超@网易云"}],"discussion_count":1,"race_medal":0,"score":"48799065927","product_id":100024701,"comment_content":"我自己比较擅长Java并发编程，对于系统调用其实不是特别熟悉。不过今天老师讲解的内容非常容易能听懂，很多的通用数据结构像消息队列，信号量，共享内存在其他领域的编程里面都有涉及，计算机的设计果然是一通百通的。这样我有信心更好的学习这个课程","like_count":11,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445861,"discussion_content":"是的，一通百通","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567784831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":209279,"user_name":"益军","can_delete":false,"product_type":"c1","uid":1002317,"ip_address":"","ucode":"5629FA62A01F25","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4b/4d/0239bc19.jpg","comment_is_top":false,"comment_ctime":1587528412,"is_pvip":false,"replies":[{"id":"83788","content":"厉害，活学活用","user_name":"作者回复","comment_id":209279,"uid":"1001590","ip_address":"","utype":1,"ctime":1592359663,"user_name_real":"刘超@网易云"}],"discussion_count":1,"race_medal":0,"score":"40242234076","product_id":100024701,"comment_content":"关于进程调用fork操作理解，看着Redis-rdb持久化代码更好理解了。<br>if ((childpid = fork()) == 0) {<br>        int retval;<br><br>        &#47;* Child *&#47;<br>        closeListeningSockets(0);<br>        redisSetProcTitle(&quot;redis-rdb-bgsave&quot;);<br>        retval = rdbSave(filename,rsi);<br>        if (retval == C_OK) {<br>            size_t private_dirty = zmalloc_get_private_dirty(-1);<br><br>            if (private_dirty) {<br>                serverLog(LL_NOTICE,<br>                    &quot;RDB: %zu MB of memory used by copy-on-write&quot;,<br>                    private_dirty&#47;(1024*1024));<br>            }<br><br>            server.child_info_data.cow_size = private_dirty;<br>            sendChildInfo(CHILD_INFO_TYPE_RDB);<br>        }<br>        exitFromChild((retval == C_OK) ? 0 : 1);<br>    } else {<br>        &#47;* Parent *&#47;<br>        server.stat_fork_time = ustime()-start;<br>        server.stat_fork_rate = (double) zmalloc_used_memory() * 1000000 &#47; server.stat_fork_time &#47; (1024*1024*1024); &#47;* GB per second. *&#47;<br>        latencyAddSampleIfNeeded(&quot;fork&quot;,server.stat_fork_time&#47;1000);<br>        if (childpid == -1) {<br>            closeChildInfoPipe();<br>            server.lastbgsave_status = C_ERR;<br>            serverLog(LL_WARNING,&quot;Can&#39;t save in background: fork: %s&quot;,<br>                strerror(errno));<br>            return C_ERR;<br>        }<br>        serverLog(LL_NOTICE,&quot;Background saving started by pid %d&quot;,childpid);<br>        server.rdb_save_time_start = time(NULL);<br>        server.rdb_child_pid = childpid;<br>        server.rdb_child_type = RDB_CHILD_TYPE_DISK;<br>        updateDictResizePolicy();<br>        return C_OK;<br>    }","like_count":9,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492756,"discussion_content":"厉害，活学活用","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592359663,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85157,"user_name":"cronusqiu","can_delete":false,"product_type":"c1","uid":1473237,"ip_address":"","ucode":"0B5EB56F5B8AD8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIpb7LbMtLNqTYdB04tx47liaZicib9Fy0P1iatp5BEayaiahJUrm6JZaVxSQZIicufrY568GpcuGmOTcVg/132","comment_is_top":false,"comment_ctime":1554991686,"is_pvip":true,"replies":[{"id":"49729","content":"不会返回两次呀","user_name":"作者回复","comment_id":85157,"uid":"1001590","ip_address":"","utype":1,"ctime":1567698720,"user_name_real":"刘超@网易云"}],"discussion_count":3,"race_medal":0,"score":"35914730054","product_id":100024701,"comment_content":"一直有一个疑问，fork一个进城，会返回两次，这个是怎么做到的，原理是什么？","like_count":8,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446576,"discussion_content":"不会返回两次呀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567698720,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1802455,"avatar":"","nickname":"Geek_jimao6","note":"","ucode":"5A441018042F2A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":219170,"discussion_content":"不是返回两次，而是\n在父进程执行完返回一次，返回的是子进程ID\n和 \n在子进程执行完返回一次，返回值是0。\n这两次在不同进程上下文中","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1585741445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2456433,"avatar":"https://static001.geekbang.org/account/avatar/00/25/7b/71/6acafcab.jpg","nickname":"Gaoy9303","note":"","ucode":"D73C7611568613","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352182,"discussion_content":"是在两个进程内各返回一次","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1614642886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83128,"user_name":"williamcai","can_delete":false,"product_type":"c1","uid":1158294,"ip_address":"","ucode":"B158F52C2D39BC","user_header":"https://static001.geekbang.org/account/avatar/00/11/ac/96/46b13896.jpg","comment_is_top":false,"comment_ctime":1554431079,"is_pvip":false,"replies":[{"id":"30055","content":"子团队","user_name":"作者回复","comment_id":83128,"uid":"1001590","ip_address":"","utype":1,"ctime":1554475368,"user_name_real":"刘超@网易云"}],"discussion_count":1,"race_medal":0,"score":"35914169447","product_id":100024701,"comment_content":"项目大了，会被拆分成项目组，项目理解为进程，那么项目组可以理解为进程下的线程么","like_count":8,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445876,"discussion_content":"子团队","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554475368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84027,"user_name":"Jamin","can_delete":false,"product_type":"c1","uid":1236792,"ip_address":"","ucode":"0449B773FE4D21","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJhyK1QiaqyNox3wr3GmBibziau9pPDxN5HjYBpYCd7ytDmLNtJ1cKKaq2WYFF3jpRSg6638M8NFDf2w/132","comment_is_top":false,"comment_ctime":1554771121,"is_pvip":false,"replies":[{"id":"49786","content":"对啊，如果当前进程是父进程，返回的是子进程的进程号。","user_name":"作者回复","comment_id":84027,"uid":"1001590","ip_address":"","utype":1,"ctime":1567701502,"user_name_real":"刘超@网易云"}],"discussion_count":1,"race_medal":0,"score":"31619542193","product_id":100024701,"comment_content":"如果当前进程是子进程，就返回 0；如果当前进程是父进程，就返回子进程的进程号？父进程返回了子进程号？","like_count":7,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446222,"discussion_content":"对啊，如果当前进程是父进程，返回的是子进程的进程号。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567701502,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83548,"user_name":"Liam","can_delete":false,"product_type":"c1","uid":1094597,"ip_address":"","ucode":"1D15D3B64F2606","user_header":"https://static001.geekbang.org/account/avatar/00/10/b3/c5/7fc124e2.jpg","comment_is_top":false,"comment_ctime":1554646401,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31619417473","product_id":100024701,"comment_content":"1 execve 执行二进制文件 ls -al<br>2 brk, mmap, mprotect, munmap 内存分配，访问和释放<br>3 access，open, openat, close, read, write 文件操作<br>4 lstat, fstat, stat 获取文件相关信息<br>5 getxattr, lgetxattr 获取文件属性<br>6  socket, connect 网络相关<br>7 futex 同步机制","like_count":7},{"had_liked":false,"id":94896,"user_name":"Ape-man","can_delete":false,"product_type":"c1","uid":1422928,"ip_address":"","ucode":"7691C1B87F8CE5","user_header":"https://static001.geekbang.org/account/avatar/00/15/b6/50/41502e7f.jpg","comment_is_top":false,"comment_ctime":1557917713,"is_pvip":false,"replies":[{"id":"49348","content":"对的，课代表”的总结太好了","user_name":"作者回复","comment_id":94896,"uid":"1001590","ip_address":"","utype":1,"ctime":1567650573,"user_name_real":"刘超@网易云"}],"discussion_count":1,"race_medal":0,"score":"27327721489","product_id":100024701,"comment_content":"每次读完都会看看“课代表”的总结，收获颇多！谢谢可爱的同学们","like_count":6,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450250,"discussion_content":"对的，课代表”的总结太好了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567650573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83991,"user_name":"路遥","can_delete":false,"product_type":"c1","uid":1135025,"ip_address":"","ucode":"2BB52B8CA82829","user_header":"https://static001.geekbang.org/account/avatar/00/11/51/b1/4eab324e.jpg","comment_is_top":false,"comment_ctime":1554767279,"is_pvip":false,"replies":[{"id":"30313","content":"哦，读的时候紧张了","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1554773504,"ip_address":"","comment_id":83991,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27324571055","product_id":100024701,"comment_content":"对于进程的内存空间来讲，放进程运行中产生数据的这部分，我们称为数据段（Data Segment）。<br><br>语音里面这句好像读错了，数据段说成代码段了。","like_count":6,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446205,"discussion_content":"哦，读的时候紧张了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554773504,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":281217,"user_name":"Gaoy9303","can_delete":false,"product_type":"c1","uid":2456433,"ip_address":"","ucode":"D73C7611568613","user_header":"https://static001.geekbang.org/account/avatar/00/25/7b/71/6acafcab.jpg","comment_is_top":false,"comment_ctime":1614648553,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23089485033","product_id":100024701,"comment_content":"execve:执行&#47;usr&#47;bin&#47;ls [&quot;ls&quot;,&quot;-la&quot;]<br>brk():分配内存<br>access:确定&#47;etc&#47;ld.so.preload是否有可读权限<br><br>加载库:<br>    openat:打开&#47;etc&#47;ld.so.cache<br>    fstat:获取文件信息<br>    mmap:将&#47;etc&#47;ld.so.cache的内容换个映射到14545内存地址<br>    close:关闭&#47;etc&#47;ld.so.cache<br><br>mprotect(0x7fa9a9525000, 4096, PROT_READ):修改内存的保护属性<br>munmap:将由mmap所映射的内存,解除映射<br><br>set_tid_address:设置线程属性clear_child_tid<br>set_robust_list:请求内核记录此线程对应的rubust futex列表头<br>rt_sigaction:设置不同的信号处理<br>statfs:查询文件系统相关信息 &#47;sys&#47;fs&#47;selinux  &#47;selinux<br><br>&#47;proc&#47;filesystems<br>判断&#47;etc&#47;selinux&#47;config是否存在<br>&#47;usr&#47;lib&#47;locale&#47;locale-archive:<br><br><br><br>ioctl:TIOCGWINSZ: 获取终端窗口的大小<br>getdents64:获取目录结构<br>write:写入到标准输出","like_count":6},{"had_liked":false,"id":83261,"user_name":"dancer","can_delete":false,"product_type":"c1","uid":1019036,"ip_address":"","ucode":"B8D5641A3AC490","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/9c/d48473ab.jpg","comment_is_top":false,"comment_ctime":1554488122,"is_pvip":false,"replies":[{"id":"49922","content":"谢谢","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567782084,"ip_address":"","comment_id":83261,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23029324602","product_id":100024701,"comment_content":"day5打卡！这种类比日常概念的讲解非常有助于记忆，并且一下就把几大重要部分串起来了！赞！","like_count":5,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445944,"discussion_content":"谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567782084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83242,"user_name":"innovationmech","can_delete":false,"product_type":"c1","uid":1232321,"ip_address":"","ucode":"9377EAD5C6373E","user_header":"https://static001.geekbang.org/account/avatar/00/12/cd/c1/19531313.jpg","comment_is_top":false,"comment_ctime":1554478057,"is_pvip":false,"replies":[{"id":"49923","content":"加油，后面有难的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567782108,"ip_address":"","comment_id":83242,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23029314537","product_id":100024701,"comment_content":"作者厉害了，能把这么复杂的问题讲的这么易懂，真的厉害","like_count":5,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445935,"discussion_content":"加油，后面有难的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567782108,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84290,"user_name":"逆流的鱼","can_delete":false,"product_type":"c1","uid":1258399,"ip_address":"","ucode":"AA3DDE44A83C40","user_header":"https://static001.geekbang.org/account/avatar/00/13/33/9f/8dbd9558.jpg","comment_is_top":false,"comment_ctime":1554820646,"is_pvip":false,"replies":[{"id":"49765","content":"是的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567700310,"ip_address":"","comment_id":84290,"utype":1}],"discussion_count":3,"race_medal":0,"score":"18734689830","product_id":100024701,"comment_content":"发送信号是kill😂，这和kill -9是一个吧？","like_count":4,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446304,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567700310,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1435733,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e8/55/92f82281.jpg","nickname":"MClink","note":"","ucode":"F479190923355C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277459,"discussion_content":"默认参数下，kill 发送SIGTERM（15）信号给进程，告诉进程，你需要被关闭，请自行停止运行并退出。\nkill -9 发送SIGKILL信号给进程，告诉进程，你被终结了，请立刻退出。还是有所区别的","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1591059743,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2806043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBFkSq1oiaEMRjtyyv4ZpCI0OuaSsqs04ODm0OkZF6QhsAh3SvqhxibS2n7PLAVZE3QRSn5Hic0DyXg/132","nickname":"ddh","note":"","ucode":"8E852375365F16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531466,"discussion_content":"kill -9 是强行杀死进程， 程序捕获不到，kill程序捕获的到， 可以做优雅退出","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637317451,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84018,"user_name":"Panda","can_delete":false,"product_type":"c1","uid":1095740,"ip_address":"","ucode":"911A200C7B18BE","user_header":"https://static001.geekbang.org/account/avatar/00/10/b8/3c/1a294619.jpg","comment_is_top":false,"comment_ctime":1554770058,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18734639242","product_id":100024701,"comment_content":"系统调用 很有意思","like_count":4},{"had_liked":false,"id":175121,"user_name":"忆水寒","can_delete":false,"product_type":"c1","uid":1147453,"ip_address":"","ucode":"E3F86BD8AA8903","user_header":"https://static001.geekbang.org/account/avatar/00/11/82/3d/356fc3d6.jpg","comment_is_top":false,"comment_ctime":1580564050,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14465465938","product_id":100024701,"comment_content":"strace这个让我想到了《趣谈网络协议》里面的ICMP协议，用来测试路由的。原理就是TTL减一，为0会产生一条ICMP协议……<br>哈哈哈....","like_count":3},{"had_liked":false,"id":83163,"user_name":"姜戈","can_delete":false,"product_type":"c1","uid":1058972,"ip_address":"","ucode":"45C4BE93C8E4CC","user_header":"https://static001.geekbang.org/account/avatar/00/10/28/9c/73e76b19.jpg","comment_is_top":false,"comment_ctime":1554446595,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14439348483","product_id":100024701,"comment_content":"打卡打卡，进入佳境","like_count":3},{"had_liked":false,"id":212177,"user_name":"、落叶为你舞","can_delete":false,"product_type":"c1","uid":1756562,"ip_address":"","ucode":"A196460774A33F","user_header":"https://static001.geekbang.org/account/avatar/00/1a/cd/92/f75a00dd.jpg","comment_is_top":false,"comment_ctime":1588071150,"is_pvip":false,"replies":[{"id":"83781","content":"项目组的进程，项目是进程运行的那个程序","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1592359430,"ip_address":"","comment_id":212177,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10178005742","product_id":100024701,"comment_content":"项目异常处理中的项目给项目组发送一个信号，项目和项目组分别指什么？","like_count":2,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493447,"discussion_content":"项目组的进程，项目是进程运行的那个程序","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592359430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202346,"user_name":"亚","can_delete":false,"product_type":"c1","uid":1445123,"ip_address":"","ucode":"CDF4DFC3F3619A","user_header":"https://static001.geekbang.org/account/avatar/00/16/0d/03/e59341b4.jpg","comment_is_top":false,"comment_ctime":1585972177,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10175906769","product_id":100024701,"comment_content":"fork返回两次一次是在父进程中 另一次是在子进程中？","like_count":2},{"had_liked":false,"id":189700,"user_name":"迟强","can_delete":false,"product_type":"c1","uid":1809239,"ip_address":"","ucode":"423405DD9E420E","user_header":"https://static001.geekbang.org/account/avatar/00/1b/9b/57/9b58b541.jpg","comment_is_top":false,"comment_ctime":1584541340,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10174475932","product_id":100024701,"comment_content":"一个操作系统所能完成的一切。。","like_count":2},{"had_liked":false,"id":155663,"user_name":"阿卡牛","can_delete":false,"product_type":"c1","uid":1022247,"ip_address":"","ucode":"0BC43A904C3199","user_header":"https://static001.geekbang.org/account/avatar/00/0f/99/27/47aa9dea.jpg","comment_is_top":false,"comment_ctime":1574734146,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10164668738","product_id":100024701,"comment_content":"七牛云的许式伟老师说fork是一种明显的用力过猛的设计，属于过度设计了。我深表同意","like_count":2},{"had_liked":false,"id":108900,"user_name":"雪糕猴","can_delete":false,"product_type":"c1","uid":1177461,"ip_address":"","ucode":"C93227ECCB952E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ac4GEMZUn79pxXibtnHQficCKOFuHN9LYeDI7uXcAb9XcBTibcVf99oSVia3AQyCX3hXPCWpHr0PibAxcM4XaWMkHbw/132","comment_is_top":false,"comment_ctime":1561913791,"is_pvip":false,"replies":[{"id":"39608","content":"对的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1562031613,"ip_address":"","comment_id":108900,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10151848383","product_id":100024701,"comment_content":"数据段里存放的应该是全局变量或是静态局部变量吧？局部变量是存放在栈上的","like_count":2,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456160,"discussion_content":"对的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562031613,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91433,"user_name":"爷爷刘大","can_delete":false,"product_type":"c1","uid":1027494,"ip_address":"","ucode":"40755250FD459D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ad/a6/afb4acaa.jpg","comment_is_top":false,"comment_ctime":1557037671,"is_pvip":false,"replies":[{"id":"49481","content":"是的。glibc编译好了是一个so呀，当然是调用到so里面，然后再调用系统调用了。","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567674881,"ip_address":"","comment_id":91433,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10146972263","product_id":100024701,"comment_content":"我要补充一个知识点：关于fork那一段，其实刚刚fork出来的时候两个进程有可能公用某些东西，只有在两个进程发生变化的时候才会重新拷贝一份并且发生改变，这个就是COW（copy-on-write）。<br>另外提个问题，关于glibc把源代码编写调用到系统调用的这一部分是在什么时候发生的？编译的时候吗？那是不是说编译器做了这件替换的事情，使得程序用上了系统接口？这个感觉好像java的解释之后的字节码的感觉，虽然不知道这个比喻恰不恰当。","like_count":2,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448917,"discussion_content":"是的。glibc编译好了是一个so呀，当然是调用到so里面，然后再调用系统调用了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567674881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2401422,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/NyFOEueITjaGLpakMEuWAqVQjo1uDIXlpDdpCxXGfaWiaXzibLQ3WgOFCe8D9FvCmyjsGT7jDsLUbkt8jt2aVs9g/132","nickname":"geek","note":"","ucode":"FF0845140D72A9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359512,"discussion_content":"glibc相当于中间的一层接口。在操作系统和应用之间。其内部大部分功能不会调用系统调用，但也有一部分是和系统调用对应的，封装了系统调用。java中用jar包我不知道会不会把jar包中的内容拷贝到生成的文件中，.so文件是不会被拷贝的，在程序运行时动态链接，解引用，确定对象地址的。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1616212508,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":88509,"user_name":"厚厚","can_delete":false,"product_type":"c1","uid":1008534,"ip_address":"","ucode":"C95341F5E3E776","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/96/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1555933275,"is_pvip":false,"replies":[{"id":"32044","content":"是内核包含进程管理，内存管理，文件管理，输入管理，输出管理这几个服务。一个进程是项目组，通过办事大厅调用这些服务","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1556196160,"ip_address":"","comment_id":88509,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10145867867","product_id":100024701,"comment_content":"一个进程包含:进程管理，内存管理，文件管理，输入管理，输出管理这几个服务。对吗？这些服务通过办事大厅调用内核的对应的服务，对吗？","like_count":2,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447817,"discussion_content":"是内核包含进程管理，内存管理，文件管理，输入管理，输出管理这几个服务。一个进程是项目组，通过办事大厅调用这些服务","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556196160,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84951,"user_name":"蓝色理想","can_delete":false,"product_type":"c1","uid":1015043,"ip_address":"","ucode":"43C8D83DC19A17","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/03/4e71c307.jpg","comment_is_top":false,"comment_ctime":1554949108,"is_pvip":false,"replies":[{"id":"30525","content":"没安装","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1554989919,"ip_address":"","comment_id":84951,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10144883700","product_id":100024701,"comment_content":"strace ls -la<br>-bash: strace: command not found<br>why？？？","like_count":2,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446505,"discussion_content":"没安装","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554989919,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83454,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1554607591,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"10144542183","product_id":100024701,"comment_content":"github 这个仓库地址是不是也是最新的内核代码：<br>https:&#47;&#47;github.com&#47;torvalds&#47;linux","like_count":2},{"had_liked":false,"id":299904,"user_name":"奋斗","can_delete":false,"product_type":"c1","uid":2047392,"ip_address":"","ucode":"C84C2D030ACA51","user_header":"https://static001.geekbang.org/account/avatar/00/1f/3d/a0/acf6b165.jpg","comment_is_top":false,"comment_ctime":1624897496,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5919864792","product_id":100024701,"comment_content":"fork出来的进程应该是copy on write  写时复制。","like_count":1},{"had_liked":false,"id":282262,"user_name":"笑笑霸","can_delete":false,"product_type":"c1","uid":2447934,"ip_address":"","ucode":"B58511878335EF","user_header":"https://static001.geekbang.org/account/avatar/00/25/5a/3e/59364818.jpg","comment_is_top":false,"comment_ctime":1615176813,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5910144109","product_id":100024701,"comment_content":"疑问：1.为什么说32位的是4g内存，如果程序运行超出了4g怎么办 2. 进程间通信到底用消息队列、共享内存还是打某个信号量？","like_count":1,"discussions":[{"author":{"id":2401422,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/NyFOEueITjaGLpakMEuWAqVQjo1uDIXlpDdpCxXGfaWiaXzibLQ3WgOFCe8D9FvCmyjsGT7jDsLUbkt8jt2aVs9g/132","nickname":"geek","note":"","ucode":"FF0845140D72A9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359515,"discussion_content":"2的32次方，就是4G;如果超出4g，进程会被杀死(oom)；进程间通信可以用共享内存或消息队列；如果用共享内存，就要用信号量这种同步机制保护共享内存。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1616213054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":274078,"user_name":"大土豆","can_delete":false,"product_type":"c1","uid":1121636,"ip_address":"","ucode":"67445DC3EC9DB0","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/64/52a5863b.jpg","comment_is_top":false,"comment_ctime":1610812369,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5905779665","product_id":100024701,"comment_content":"老师问下，是要执行系统调用，比如sys_open这种，才进入系统内核？write，open这种调用，还没进入内核吧？","like_count":1,"discussions":[{"author":{"id":2401422,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/NyFOEueITjaGLpakMEuWAqVQjo1uDIXlpDdpCxXGfaWiaXzibLQ3WgOFCe8D9FvCmyjsGT7jDsLUbkt8jt2aVs9g/132","nickname":"geek","note":"","ucode":"FF0845140D72A9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359513,"discussion_content":"会的，sys_open是内核中写好的对应系统调用的处理程序，open是linux/windwos提供的使用sys_open的对应接口。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1616212841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176335,"user_name":"hinzer","can_delete":false,"product_type":"c1","uid":1708157,"ip_address":"","ucode":"021A687DF49F02","user_header":"https://static001.geekbang.org/account/avatar/00/1a/10/7d/e2e9d222.jpg","comment_is_top":false,"comment_ctime":1581038306,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5876005602","product_id":100024701,"comment_content":"进程要想进行功能实现，需要通过API或系统调用，这些API的背后是linux的几个子系统(文件、进程、内存、设备、网络)提供支持的，这样理解有毛病么！？","like_count":1},{"had_liked":false,"id":170022,"user_name":"Michael翔","can_delete":false,"product_type":"c1","uid":1139738,"ip_address":"","ucode":"1229ACC823DA02","user_header":"https://static001.geekbang.org/account/avatar/00/11/64/1a/bb797b99.jpg","comment_is_top":false,"comment_ctime":1578493924,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5873461220","product_id":100024701,"comment_content":"Mac 下貌似没有自带 strace 命令，可以使用 dtruss 命令，例如 sudo dtruss whoami","like_count":1},{"had_liked":false,"id":165914,"user_name":"李小四","can_delete":false,"product_type":"c1","uid":1112747,"ip_address":"","ucode":"2A766BE16B276B","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/ab/0d39e745.jpg","comment_is_top":false,"comment_ctime":1577344122,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5872311418","product_id":100024701,"comment_content":"Linux_05<br><br>用strace跟踪了最简单的&quot;pwd&quot;命令，发现了几十次的系统调用，大致可以分为<br>- 执行对应命令<br>- 文件的打开读取写入关闭<br>- 开辟和释放内存","like_count":1},{"had_liked":false,"id":118928,"user_name":"客厅的电视📻","can_delete":false,"product_type":"c1","uid":1593071,"ip_address":"","ucode":"A0AEBC38617E97","user_header":"https://static001.geekbang.org/account/avatar/00/18/4e/ef/b1bffaaf.jpg","comment_is_top":false,"comment_ctime":1564470447,"is_pvip":false,"replies":[{"id":"46389","content":"零基础，的确比较痛苦","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1566298053,"ip_address":"","comment_id":118928,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5859437743","product_id":100024701,"comment_content":"认为刘老师的课程 需要有基础再过来听 比较合适","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460668,"discussion_content":"零基础，的确比较痛苦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566298053,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98575,"user_name":"36度道","can_delete":false,"product_type":"c1","uid":1487798,"ip_address":"","ucode":"992F5D162FB4D0","user_header":"https://static001.geekbang.org/account/avatar/00/16/b3/b6/ac302d89.jpg","comment_is_top":false,"comment_ctime":1559033961,"is_pvip":false,"replies":[{"id":"35373","content":"是的，需要自己安装","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1559100217,"ip_address":"","comment_id":98575,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5854001257","product_id":100024701,"comment_content":"为什么执行strace 显示的是 未找到命令，是需要自己安装的吗？我用的是deepin","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451741,"discussion_content":"是的，需要自己安装","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559100217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":93684,"user_name":"山埠沟人","can_delete":false,"product_type":"c1","uid":1452055,"ip_address":"","ucode":"C6287FC165D338","user_header":"https://static001.geekbang.org/account/avatar/00/16/28/17/3af70327.jpg","comment_is_top":false,"comment_ctime":1557559018,"is_pvip":false,"replies":[{"id":"49392","content":"https:&#47;&#47;elixir.bootlin.com&#47;linux&#47;v4.13.16","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567654259,"ip_address":"","comment_id":93684,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5852526314","product_id":100024701,"comment_content":"第一，真心不会下载内核源码。点击官网进去之后，看了大半天，看见一个大大的下载图标，直接就点击下载了，也不知道这样做对不对，下载下来之后，我要怎么看里面的源代码呢》求各位指教，谢谢！","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449731,"discussion_content":"https://elixir.bootlin.com/linux/v4.13.16","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567654259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83232,"user_name":"Geek_20519a","can_delete":false,"product_type":"c1","uid":1229631,"ip_address":"","ucode":"3D9EF44B9CACF7","user_header":"","comment_is_top":false,"comment_ctime":1554474662,"is_pvip":false,"replies":[{"id":"49924","content":"https:&#47;&#47;elixir.bootlin.com&#47;linux&#47;v4.13.16","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567782118,"ip_address":"","comment_id":83232,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5849441958","product_id":100024701,"comment_content":"在 Mac下阅读内核源码哪些软件好用？","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445930,"discussion_content":"https://elixir.bootlin.com/linux/v4.13.16","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567782118,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83132,"user_name":"coderzou","can_delete":false,"product_type":"c1","uid":1124256,"ip_address":"","ucode":"3A1AD1E06B2786","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/d4MHbXBwovYHW7xA18j88wqZApEOoQzylPsbXBDSokoTvBPPEPnxrKKtSTPCEuA3sia2yktyyNqRAgHTvJ0IbvQ/132","comment_is_top":false,"comment_ctime":1554432560,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5849399856","product_id":100024701,"comment_content":"学习打卡！","like_count":1},{"had_liked":false,"id":83102,"user_name":"每天晒白牙","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1554424462,"is_pvip":false,"discussion_count":2,"race_medal":1,"score":"5849391758","product_id":100024701,"comment_content":"深入内核了","like_count":1,"discussions":[{"author":{"id":1050191,"avatar":"https://static001.geekbang.org/account/avatar/00/10/06/4f/14cc4b53.jpg","nickname":"不专注的linuxer","note":"","ucode":"28ED11C1E2942C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4785,"discussion_content":"白牙老哥，没想到专栏你都看呀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565741097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1004698,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","nickname":"每天晒白牙","note":"","ucode":"A1B102CD933DEA","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":1050191,"avatar":"https://static001.geekbang.org/account/avatar/00/10/06/4f/14cc4b53.jpg","nickname":"不专注的linuxer","note":"","ucode":"28ED11C1E2942C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4789,"discussion_content":"必须的啊，买专栏就是来学习的，嘻嘻","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565743611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4785,"ip_address":""},"score":4789,"extra":""}]}]},{"had_liked":false,"id":83094,"user_name":"Egos","can_delete":false,"product_type":"c1","uid":1071143,"ip_address":"","ucode":"9F0055B140E935","user_header":"https://static001.geekbang.org/account/avatar/00/10/58/27/1188e017.jpg","comment_is_top":false,"comment_ctime":1554415423,"is_pvip":false,"replies":[{"id":"30058","content":"内存管理那一节会讲的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1554475441,"ip_address":"","comment_id":83094,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5849382719","product_id":100024701,"comment_content":"64位进程的内存空间是多大呢","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445856,"discussion_content":"内存管理那一节会讲的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554475441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1755674,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/ca/1a/53229822.jpg","nickname":"exec","note":"","ucode":"31AA6E7BF7B13A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":137302,"discussion_content":"2的64次方嘛","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579183769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1466447,"avatar":"https://static001.geekbang.org/account/avatar/00/16/60/4f/db0e62b3.jpg","nickname":"Daiver","note":"","ucode":"9B1A03AFBC79BC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41980,"discussion_content":"4^32 GB，算是无穷大了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572564820,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83075,"user_name":"风声是棵树","can_delete":false,"product_type":"c1","uid":1230289,"ip_address":"","ucode":"7C39C02E5C49D2","user_header":"https://static001.geekbang.org/account/avatar/00/12/c5/d1/ebb0b033.jpg","comment_is_top":false,"comment_ctime":1554393886,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5849361182","product_id":100024701,"comment_content":"更新的好快","like_count":1},{"had_liked":false,"id":356622,"user_name":"张申傲","can_delete":false,"product_type":"c1","uid":1182372,"ip_address":"北京","ucode":"22D46BC529BA8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/0a/a4/828a431f.jpg","comment_is_top":false,"comment_ctime":1662452141,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"1662452141","product_id":100024701,"comment_content":"老师用一篇文章几个系统调用，就能把操作系统整体串起来，功力深厚可见一斑~","like_count":0},{"had_liked":false,"id":348899,"user_name":"加奶油的泡芙","can_delete":false,"product_type":"c1","uid":2252455,"ip_address":"","ucode":"2158A94A8E0D35","user_header":"https://static001.geekbang.org/account/avatar/00/22/5e/a7/98815ba7.jpg","comment_is_top":false,"comment_ctime":1655522756,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655522756","product_id":100024701,"comment_content":"老师，看完这里有个疑问：既然进程运行实质上也对应着文件，在&#47;proc&#47;下，那为什么03篇中操作系统内核体系结构图里的文件子系统与进程管理子系统之间没有连线呢？","like_count":0},{"had_liked":false,"id":346876,"user_name":"三生","can_delete":false,"product_type":"c1","uid":1606669,"ip_address":"","ucode":"1DE1A2693A5E33","user_header":"https://static001.geekbang.org/account/avatar/00/18/84/0d/4e289b94.jpg","comment_is_top":false,"comment_ctime":1653485499,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653485499","product_id":100024701,"comment_content":"主要复习了cow以及进程通信，还有内存组织形式","like_count":0},{"had_liked":false,"id":342027,"user_name":"Geek_011473","can_delete":false,"product_type":"c1","uid":2762168,"ip_address":"","ucode":"83397845D8B4AA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epOc1kx9ZTqP3icMzLnpbibJtaKfpZwmiab3asNGvOCpjU6Vrr3RRzyt3HAkH5ia3j4ZHAcZiakpq81FSw/132","comment_is_top":false,"comment_ctime":1649983860,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649983860","product_id":100024701,"comment_content":"&quot;但是，这样每次有项目，都要重新配置一遍新的 Jira、Wiki，复杂得很。另一种方式就是咱们程序员常用的方式，CTRL&#47;C + CTRL&#47;V。&quot;程序员的精髓，get！","like_count":0},{"had_liked":false,"id":327220,"user_name":"。。。","can_delete":false,"product_type":"c1","uid":1035567,"ip_address":"","ucode":"6882BABE9C3D6B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/2f/f4adcb41.jpg","comment_is_top":false,"comment_ctime":1639988522,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639988522","product_id":100024701,"comment_content":"1. 文件描述符什么作用，是描述什么信息？<br>2. 信号量可不可以粗暴的理解成命令行的命令？","like_count":0},{"had_liked":false,"id":324218,"user_name":"小小","can_delete":false,"product_type":"c1","uid":1325647,"ip_address":"","ucode":"8662F061F50923","user_header":"https://static001.geekbang.org/account/avatar/00/14/3a/4f/92df5916.jpg","comment_is_top":false,"comment_ctime":1638340897,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638340897","product_id":100024701,"comment_content":"这两天的东西，就够我消化一阵了，下周开始新章节，本周知识点，先理理，感谢分享书的小伙伴们","like_count":0},{"had_liked":false,"id":320933,"user_name":"Sch0ng","can_delete":false,"product_type":"c1","uid":1145554,"ip_address":"","ucode":"73F6113931B1AC","user_header":"https://static001.geekbang.org/account/avatar/00/11/7a/d2/4ba67c0c.jpg","comment_is_top":false,"comment_ctime":1636565048,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636565048","product_id":100024701,"comment_content":"操作系统把硬件的功能抽象成了系统调用，glibc把系统调用封装成了用起来更加方便的函数。<br>本文简要介绍了进程管理、内存管理、文件管理、ipc､ socket的工作机制。<br>对于这些工作机制，理解不了，可以先记下来，以后接触多了，自然就能理解了。","like_count":0},{"had_liked":false,"id":319803,"user_name":"Geek_5b2ab1","can_delete":false,"product_type":"c1","uid":2628460,"ip_address":"","ucode":"C1AF841A9F0B6C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK9Yvy5STDw874VEEuPehIcONR9kEq7knIicUNuINU0ovf2ViabhFqiabZiaoXC5FqL89YDCxp3tBnFzA/132","comment_is_top":false,"comment_ctime":1635949181,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1635949181","product_id":100024701,"comment_content":"疑问：删除文件 命令行的话直接 rm -rf fileName 就可以了， 这个有没有对应的系统调用？","like_count":0},{"had_liked":false,"id":318973,"user_name":"Geek_5b2ab1","can_delete":false,"product_type":"c1","uid":2628460,"ip_address":"","ucode":"C1AF841A9F0B6C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK9Yvy5STDw874VEEuPehIcONR9kEq7knIicUNuINU0ovf2ViabhFqiabZiaoXC5FqL89YDCxp3tBnFzA/132","comment_is_top":false,"comment_ctime":1635494128,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1635494128","product_id":100024701,"comment_content":"堆内存为什么叫 堆内存， 里面有 堆 这个数据结构吗， 有的话，具体是用哪个指标 进行 堆元素的 比较的呢？","like_count":0},{"had_liked":false,"id":300649,"user_name":"Yongtao","can_delete":false,"product_type":"c1","uid":2324603,"ip_address":"","ucode":"248BE5661D6532","user_header":"https://static001.geekbang.org/account/avatar/00/23/78/7b/09defb8d.jpg","comment_is_top":false,"comment_ctime":1625286046,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625286046","product_id":100024701,"comment_content":"$ strace ls<br>execve(&quot;&#47;bin&#47;ls&quot;, [&quot;ls&quot;], 0x7ffe765baaf0 &#47;* 42 vars *&#47;) = 0<br>brk(NULL)                               = 0x5604c9a56000<br>openat(AT_FDCWD, &quot;&#47;lib&#47;x86_64-linux-gnu&#47;libselinux.so.1&quot;, O_RDONLY|O_CLOEXEC) = 3<br>read(3, &quot;\\177ELF\\2\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0&gt;\\0\\1\\0\\0\\0\\20b\\0\\0\\0\\0\\0\\0&quot;..., 832) = 832<br>fstat(3, {st_mode=S_IFREG|0644, st_size=154832, ...}) = 0<br>mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f8881a9a000<br>mmap(NULL, 2259152, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7f8881668000<br>mprotect(0x7f888168d000, 2093056, PROT_NONE) = 0<br>mmap(0x7f888188c000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x24000) = 0x7f888188c000<br>mmap(0x7f888188e000, 6352, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7f888188e000<br>close(3)                                = 0                               = 0<br>fstat(1, {st_mode=S_IFCHR|0620, st_rdev=makedev(136, 4), ...}) = 0<br>write(1, &quot;log\\n&quot;, 4log<br>)                    = 4<br>close(1)                                = 0<br>close(2)                                = 0<br>exit_group(0)                           = ?<br>+++ exited with 0 +++<br><br>## 注释：输出内容太长了，有删减。","like_count":0},{"had_liked":false,"id":289658,"user_name":"范明柯🦂","can_delete":false,"product_type":"c1","uid":1460185,"ip_address":"","ucode":"4214187CD99874","user_header":"https://static001.geekbang.org/account/avatar/00/16/47/d9/2368793b.jpg","comment_is_top":false,"comment_ctime":1619135861,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619135861","product_id":100024701,"comment_content":"系统调用子系统<br>进程管理子系统<br>内存管理子系统<br>文件管理子系统<br>","like_count":0},{"had_liked":false,"id":288217,"user_name":"胡小涵","can_delete":false,"product_type":"c1","uid":2004538,"ip_address":"","ucode":"2E750C65EC282C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/96/3a/e06f8367.jpg","comment_is_top":false,"comment_ctime":1618367877,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618367877","product_id":100024701,"comment_content":"为何golang程序能做到纯静态，不用glibc也能调用系统调用？","like_count":0},{"had_liked":false,"id":287795,"user_name":"最摇摆的鱼","can_delete":false,"product_type":"c1","uid":1255574,"ip_address":"","ucode":"DA19F4C4224719","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqgVXa8DyW0YsrdYtPNMOdGH6hfdwfjwyBPRyoc9yuS4Ml18l0kApOoOKwYkF6NlDPYpX1bVEWomw/132","comment_is_top":false,"comment_ctime":1618152143,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1618152143","product_id":100024701,"comment_content":"那些和外包公司的类比完全是浪费时间，干扰阅读。","like_count":0},{"had_liked":false,"id":287338,"user_name":"姜海天","can_delete":false,"product_type":"c1","uid":1897988,"ip_address":"","ucode":"2EAFDCCE9648AE","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f6/04/def49489.jpg","comment_is_top":false,"comment_ctime":1617889365,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617889365","product_id":100024701,"comment_content":"这些系统调用分门别类，但是对于初学者来说，不必掌握，只需要了解框架，然后之后找到应用场景去应用才能更好掌握，《操作系统导论》这门书大量使用了相关的系统调用，就很好。","like_count":0},{"had_liked":false,"id":284345,"user_name":"型火🔥","can_delete":false,"product_type":"c1","uid":1003205,"ip_address":"","ucode":"C2322918B31E60","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4e/c5/78626367.jpg","comment_is_top":false,"comment_ctime":1616204333,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1616204333","product_id":100024701,"comment_content":"感觉分布式里的很多内容都是借鉴操作系统里的思想","like_count":0},{"had_liked":false,"id":278875,"user_name":"Dovelol","can_delete":false,"product_type":"c1","uid":1253384,"ip_address":"","ucode":"9B5DDF7720F307","user_header":"https://static001.geekbang.org/account/avatar/00/13/20/08/bc06bc69.jpg","comment_is_top":false,"comment_ctime":1613405307,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613405307","product_id":100024701,"comment_content":"老师好，想问下为啥的下载的源码linux-5.11，unistd_64.h文件只有几个命令的定义，例如__NR_futex，没有你文章中说的那些。","like_count":0},{"had_liked":false,"id":256177,"user_name":"蚝不鱿鱼","can_delete":false,"product_type":"c1","uid":1428043,"ip_address":"","ucode":"5DB98E406F1D3E","user_header":"https://static001.geekbang.org/account/avatar/00/15/ca/4b/c1ace3aa.jpg","comment_is_top":false,"comment_ctime":1603547031,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603547031","product_id":100024701,"comment_content":"留言区都是大佬，我要好好学习，膜拜超哥","like_count":0},{"had_liked":false,"id":254618,"user_name":"王石磊","can_delete":false,"product_type":"c1","uid":1905809,"ip_address":"","ucode":"CD8E0C5CF120E1","user_header":"https://static001.geekbang.org/account/avatar/00/1d/14/91/794687ef.jpg","comment_is_top":false,"comment_ctime":1603158617,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603158617","product_id":100024701,"comment_content":"我在自己系统上上没有发现:  unistd_64.h <br>以&quot;__NR_exit&quot; 为关键字检索发现: &#47;usr&#47;include&#47;asm&#47;unistd.h    &#47;usr&#47;include&#47;asm-generic&#47;unistd.h    &#47;usr&#47;include&#47;bits&#47;syscall.h  均包含该关键字。<br><br>其中syscall.h 中的定义形式如下: #define SYS_exit  __NR_exit<br>而unistd.h 中的定义形如: #define __NR_exit  Integer(整数)","like_count":0},{"had_liked":false,"id":244876,"user_name":"Geek_e22985","can_delete":false,"product_type":"c1","uid":2152030,"ip_address":"","ucode":"6FAA159EC4E822","user_header":"","comment_is_top":false,"comment_ctime":1598712880,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1598712880","product_id":100024701,"comment_content":"我们自己执行自己写的一个应用程序，如.&#47;test  这是他有父进程吗？他的父进程是谁呢？老师帮忙解答一下，谢谢了","like_count":0,"discussions":[{"author":{"id":2456433,"avatar":"https://static001.geekbang.org/account/avatar/00/25/7b/71/6acafcab.jpg","nickname":"Gaoy9303","note":"","ucode":"D73C7611568613","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352183,"discussion_content":"有的当前调用这个进程的shell就是他的父进程","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614643089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":237769,"user_name":"banana","can_delete":false,"product_type":"c1","uid":1356721,"ip_address":"","ucode":"81378DF8002609","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/3fgqmf5ocmgTHTHnWrN2Yq26dl6jWXiaBzm0P1Arpz4YDHX3EOEe2iaCWCX60icZJGEnjXicGbWArQyN5fGj1Cf3Sw/132","comment_is_top":false,"comment_ctime":1595948705,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595948705","product_id":100024701,"comment_content":"老师，有一个问题很纠结，想请教一下，是不是所有操作系统做的事情都是在内核态中执行的？比如说一个访问寄存器、和内存，那是不是大多数指令都需要系统调用进入内核态呢？比如说访问一个虚拟地址，需要进行虚拟地址转换为物理地址，这是操作系统做的事情，需要系统调用进入内核态？但是这样上下文切换不是很频繁？","like_count":0},{"had_liked":false,"id":228555,"user_name":"学文化的流氓","can_delete":false,"product_type":"c1","uid":1336275,"ip_address":"","ucode":"6D9412976EE8B0","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/KibvgwBjrsVOiayuViaoQfyNts8xMsztwe0Fg24icicFW7YeJaPQhAGhdNZjWWhyxOian0SCdibhiaerLbhuefkiaP1EooQ/132","comment_is_top":false,"comment_ctime":1592733691,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592733691","product_id":100024701,"comment_content":"项目组是指的单个进程吗？里面比喻太多了，也不说实际对应，有时候都不知道比喻实际对应了什么","like_count":0},{"had_liked":false,"id":214149,"user_name":"Calios","can_delete":false,"product_type":"c1","uid":1004758,"ip_address":"","ucode":"B1AA60164DC42A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/d6/124e2e93.jpg","comment_is_top":false,"comment_ctime":1588667591,"is_pvip":false,"replies":[{"id":"83480","content":"是的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1592186843,"ip_address":"","comment_id":214149,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1588667591","product_id":100024701,"comment_content":"有种釜底抽薪的感觉。。虽然写了一段时间的后端，但在网络编程和进程间通信的部分还是有点儿朦朦胧胧。看老师的讲解，忽然意识到，学这个专栏的目的不仅是熟悉Linux操作系统，如果能把其中的概念和思想用在各种语言学习中，那就事半功倍了。","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493968,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592186843,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212848,"user_name":"莫名","can_delete":false,"product_type":"c1","uid":1007254,"ip_address":"","ucode":"E28F2602BA25DD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/96/a03175bc.jpg","comment_is_top":false,"comment_ctime":1588224174,"is_pvip":false,"replies":[{"id":"83780","content":"从内核角度是另起炉灶，从应用角度认为就两种，堆和栈","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1592359314,"ip_address":"","comment_id":212848,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1588224174","product_id":100024701,"comment_content":"【这里我们介绍两个在堆里面分配内存的系统调用，brk和mmap】此处表达不太准确，mmap不是在堆里面分配内存，而是另起炉灶。","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493625,"discussion_content":"从内核角度是另起炉灶，从应用角度认为就两种，堆和栈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592359314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176092,"user_name":"hinzer","can_delete":false,"product_type":"c1","uid":1708157,"ip_address":"","ucode":"021A687DF49F02","user_header":"https://static001.geekbang.org/account/avatar/00/1a/10/7d/e2e9d222.jpg","comment_is_top":false,"comment_ctime":1580955666,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580955666","product_id":100024701,"comment_content":"打卡，算是全面复习了。对各个子系统有了初步认知~","like_count":0},{"had_liked":false,"id":175482,"user_name":"起而行","can_delete":false,"product_type":"c1","uid":1131399,"ip_address":"","ucode":"4F116B0B740776","user_header":"https://static001.geekbang.org/account/avatar/00/11/43/87/7604d7a4.jpg","comment_is_top":false,"comment_ctime":1580732340,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1580732340","product_id":100024701,"comment_content":"每天打卡，day5，系统调用就是OS提供的一系列封装好的函数，在我的理解里，好像系统调用和库函数本质是一样的，都是打包封装好的代码，但是应用场景不一样?<br><br>比如系统调用可以在命令行(比如命令ls)，c语言IDE里(比如命令open)使用<br><br>而IDE里的库函数，比如printf就只能在IDE比如VScode里运行。<br><br>请问老师是这样吗?","like_count":0},{"had_liked":false,"id":170887,"user_name":"木易杨","can_delete":false,"product_type":"c1","uid":1353456,"ip_address":"","ucode":"3C6EFF05AFFACA","user_header":"https://static001.geekbang.org/account/avatar/00/14/a6/f0/50d0931d.jpg","comment_is_top":false,"comment_ctime":1578750772,"is_pvip":false,"replies":[{"id":"66265","content":"每个打开的文件都有个文件描述符，所有要读取和写入的文件都有一个文件描述符，是一个数字。","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1578823197,"ip_address":"","comment_id":170887,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578750772","product_id":100024701,"comment_content":"文件描述符这种文件要怎么理解了？是不是可以理解成：比如键盘输入到这个文件描述符，然后程序再去这个文件描述符里面读取输入的内容了，这么理解对嘛？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481153,"discussion_content":"每个打开的文件都有个文件描述符，所有要读取和写入的文件都有一个文件描述符，是一个数字。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578823197,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169871,"user_name":"anginiit","can_delete":false,"product_type":"c1","uid":1105763,"ip_address":"","ucode":"C3FA0CFEADB3BC","user_header":"https://static001.geekbang.org/account/avatar/00/10/df/63/b7296340.jpg","comment_is_top":false,"comment_ctime":1578466049,"is_pvip":false,"replies":[{"id":"66291","content":"哈哈，谢谢夸奖","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1578824699,"ip_address":"","comment_id":169871,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578466049","product_id":100024701,"comment_content":"这个系统调用图 太完美了 正是我所需啊 看到我都激动了。","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480755,"discussion_content":"哈哈，谢谢夸奖","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578824699,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161067,"user_name":"BD","can_delete":false,"product_type":"c1","uid":1228560,"ip_address":"","ucode":"A95CF8C3EDC228","user_header":"https://static001.geekbang.org/account/avatar/00/12/bf/10/b7974690.jpg","comment_is_top":false,"comment_ctime":1576112592,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576112592","product_id":100024701,"comment_content":"所有的进程都是由父进程创建的，这里的父进程指的都是系统启动内核创建的祖宗进程吗","like_count":0},{"had_liked":false,"id":155246,"user_name":"czh","can_delete":false,"product_type":"c1","uid":1159078,"ip_address":"","ucode":"649FE5C9269D69","user_header":"https://static001.geekbang.org/account/avatar/00/11/af/a6/3f15ba2f.jpg","comment_is_top":false,"comment_ctime":1574671320,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574671320","product_id":100024701,"comment_content":"linux一切皆文件","like_count":0},{"had_liked":false,"id":154402,"user_name":"夏目","can_delete":false,"product_type":"c1","uid":1212750,"ip_address":"","ucode":"67C075A01CF4D2","user_header":"https://static001.geekbang.org/account/avatar/00/12/81/4e/d71092f4.jpg","comment_is_top":false,"comment_ctime":1574423561,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574423561","product_id":100024701,"comment_content":"看到这里感觉linux没有我之前想象的那么可怕了 老师讲的真好 都是干货","like_count":0},{"had_liked":false,"id":151942,"user_name":"连边","can_delete":false,"product_type":"c1","uid":1391748,"ip_address":"","ucode":"54B5DA38449728","user_header":"https://static001.geekbang.org/account/avatar/00/15/3c/84/608f679b.jpg","comment_is_top":false,"comment_ctime":1573818427,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573818427","product_id":100024701,"comment_content":"最后这张图，一百分。<br>","like_count":0},{"had_liked":false,"id":147561,"user_name":"黑色毛衣","can_delete":false,"product_type":"c1","uid":1135912,"ip_address":"","ucode":"FF7E235F91BA5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/28/31b0cf2f.jpg","comment_is_top":false,"comment_ctime":1572869891,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572869891","product_id":100024701,"comment_content":"局部变量是放在栈里面的嘛？","like_count":0},{"had_liked":false,"id":117183,"user_name":"vic","can_delete":false,"product_type":"c1","uid":1258236,"ip_address":"","ucode":"6C59A40DF9310A","user_header":"https://static001.geekbang.org/account/avatar/00/13/32/fc/5d901185.jpg","comment_is_top":false,"comment_ctime":1563983008,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563983008","product_id":100024701,"comment_content":"厉害","like_count":0},{"had_liked":false,"id":107206,"user_name":"Zhang_xb💥","can_delete":false,"product_type":"c1","uid":1487369,"ip_address":"","ucode":"0A7B6FBBE56FA0","user_header":"https://static001.geekbang.org/account/avatar/00/16/b2/09/1e20f19d.jpg","comment_is_top":false,"comment_ctime":1561479956,"is_pvip":false,"replies":[{"id":"48859","content":"往下看，会解析这部分了","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567501375,"ip_address":"","comment_id":107206,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1561479956","product_id":100024701,"comment_content":"系统调用还涉及到了由用户态向内核态的转化","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455417,"discussion_content":"往下看，会解析这部分了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567501375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104396,"user_name":"skye","can_delete":false,"product_type":"c1","uid":1027840,"ip_address":"","ucode":"C55C9F52C78A00","user_header":"https://static001.geekbang.org/account/avatar/00/0f/af/00/9b49f42b.jpg","comment_is_top":false,"comment_ctime":1560743311,"is_pvip":false,"replies":[{"id":"49030","content":"如果不用glibc，就都是syscall了","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567581440,"ip_address":"","comment_id":104396,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1560743311","product_id":100024701,"comment_content":"open函数不是GLIBC的，fopen函数才是吧？！","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454256,"discussion_content":"如果不用glibc，就都是syscall了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567581440,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":100411,"user_name":"小胖","can_delete":false,"product_type":"c1","uid":1022958,"ip_address":"","ucode":"1B8D884D254070","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9b/ee/8950c240.jpg","comment_is_top":false,"comment_ctime":1559551782,"is_pvip":false,"replies":[{"id":"49199","content":"赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567602876,"ip_address":"","comment_id":100411,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559551782","product_id":100024701,"comment_content":"socket，文中的解释太赞了，很形象。","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452532,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567602876,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98339,"user_name":"不记年","can_delete":false,"product_type":"c1","uid":1045945,"ip_address":"","ucode":"287E40C68356DC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f5/b9/888fe350.jpg","comment_is_top":false,"comment_ctime":1558962601,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558962601","product_id":100024701,"comment_content":"fork 创建进程 从老进程里创建 <br>创建策略是拷贝，然后根据fork的返回值来判断接下来怎么处理<br>waitpid 用来判断子进程是否成功 父进程调用<br><br>内存管理 <br>为每个进程分配内存空间 内存空间分为代码段，数据段 <br>栈内存存放局部变量，堆内存存放 动态分配的变量，<br>brk 需要分配的内存数量较少时使用，和之前的数据紧挨着<br>mmap用于分配较大的内存，会在内存中重新划分一块区域<br><br>文件管理<br>文件系统 数据持久化的必要条件 介质与格式<br>open close 开&#47;关<br>creat 创建<br>lseek 跳到已经打开的文件的某个位置<br>read&#47;write 读写<br><br>linux文件是核心 一切皆文件<br>关于计算机的一切信息，都存储在文件里<br>对计算机的任何操作，本质都是对文件的操作<br><br><br>信号处理 <br>终止 kill  ctrl+c<br>对于异常信号 可以采用默认和注册信号处理函数两种方式，编程的时候也是这么办的啊 <br><br>进程间通信 <br>消息队列 msgget创建队列 msgsnd发送消息 msgrcv 读取消息<br>semaphore 锁<br><br>网络通信<br><br><br><br><br><br><br><br><br><br><br> <br><br><br>","like_count":0},{"had_liked":false,"id":93766,"user_name":"lfn","can_delete":false,"product_type":"c1","uid":1026593,"ip_address":"","ucode":"2E1558C6A12A89","user_header":"https://static001.geekbang.org/account/avatar/00/0f/aa/21/6c3ba9af.jpg","comment_is_top":false,"comment_ctime":1557584941,"is_pvip":false,"replies":[{"id":"33890","content":"算系统调用","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1557899907,"ip_address":"","comment_id":93766,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557584941","product_id":100024701,"comment_content":"看了刘老师的介绍非常疑惑。因为之前一直理解像open, read, write这些都是系统调用，man page上也是这么写的。照老师的意思，这些都不算系统调用？费解","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449766,"discussion_content":"算系统调用","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557899907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":90061,"user_name":"陈光","can_delete":false,"product_type":"c1","uid":1007685,"ip_address":"","ucode":"48FD5FBD0F6319","user_header":"https://static001.geekbang.org/account/avatar/00/0f/60/45/c6302327.jpg","comment_is_top":false,"comment_ctime":1556382955,"is_pvip":false,"replies":[{"id":"49552","content":"cat 要跟参数，里面只能打印命令，不能知道具体做什么的，要知道还需要查文档","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567688238,"ip_address":"","comment_id":90061,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1556382955","product_id":100024701,"comment_content":"老师，您好。为什么我在ubuntu命令行中输入“strace cat”就会出来一堆信息，并且没办法退出这条命令了。只有换成“strace cat -a column”才能自动退出命令。而且我也看不出来调用的系统命令具体是做什么的。","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448374,"discussion_content":"cat 要跟参数，里面只能打印命令，不能知道具体做什么的，要知道还需要查文档","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567688238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1780794,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2c/3a/919f1eb7.jpg","nickname":"苏英杰jack","note":"","ucode":"A71C80B96D2EEE","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":80778,"discussion_content":"cat 命令后面要跟具体的文件，不加参数会默认从标准输入读取数据。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576196217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":88024,"user_name":"kevenxi","can_delete":false,"product_type":"c1","uid":1020652,"ip_address":"","ucode":"9328F574E6A333","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/ec/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1555816744,"is_pvip":false,"replies":[{"id":"32065","content":"没有安装吧","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1556198236,"ip_address":"","comment_id":88024,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1555816744","product_id":100024701,"comment_content":"strace history 提示找不到命令，这是为啥","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447685,"discussion_content":"没有安装吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556198236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85757,"user_name":"Untitled","can_delete":false,"product_type":"c1","uid":1039464,"ip_address":"","ucode":"8DD6ABA3E81A2E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dc/68/006ba72c.jpg","comment_is_top":false,"comment_ctime":1555224460,"is_pvip":false,"replies":[{"id":"49691","content":"项目是进程，多线程的概念","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567697550,"ip_address":"","comment_id":85757,"utype":1}],"discussion_count":1,"race_medal":2,"score":"1555224460","product_id":100024701,"comment_content":"老师，有两点疑惑，望答疑：<br>（1）文章提到的项目指的是进程吗，项目和项目组的区别又是什？<br>（2）文章提到项目某个项目比较大时，需要分为多个项目执行，对应为多进程还是多线程概念？之前看资料提到的信号量概念是从多线程引出的，而且进程内的每个线程是共享内存的，猜测老师讲的共享内存方式是多线程。<br>","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446795,"discussion_content":"项目是进程，多线程的概念","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567697550,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84255,"user_name":"管清麟","can_delete":false,"product_type":"c1","uid":1198013,"ip_address":"","ucode":"7CA1651D0DE257","user_header":"https://static001.geekbang.org/account/avatar/00/12/47/bd/5c34df95.jpg","comment_is_top":false,"comment_ctime":1554813547,"is_pvip":false,"replies":[{"id":"49768","content":"都是父进程fork的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567700461,"ip_address":"","comment_id":84255,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554813547","product_id":100024701,"comment_content":"进程fork子进程？在系统里父进程是一个还是多个？这个和其他资料读者有点不理解。系统那么多进程都是负进程？还是都是父进程fork的子进程，好晕啊","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446296,"discussion_content":"都是父进程fork的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567700461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":84196,"user_name":"devil","can_delete":false,"product_type":"c1","uid":1135605,"ip_address":"","ucode":"88B4ED883FA0EB","user_header":"https://static001.geekbang.org/account/avatar/00/11/53/f5/b4dac7b9.jpg","comment_is_top":false,"comment_ctime":1554801314,"is_pvip":false,"replies":[{"id":"49774","content":"不是命令，是系统调用，要写代码的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567700831,"ip_address":"","comment_id":84196,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554801314","product_id":100024701,"comment_content":"刘老师 你好 文章中提到的 msgget 、close 等命令 ，是怎么使用的 ？ 我在命令行中练习 提示没有这个命令 ，我linux版本是 CentOS 7.1  百度云上面的，不知是不是系统的问题 ？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446276,"discussion_content":"不是命令，是系统调用，要写代码的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567700831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83894,"user_name":"涤生","can_delete":false,"product_type":"c1","uid":1025437,"ip_address":"","ucode":"8281BB7345D4FA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a5/9d/a2f555ba.jpg","comment_is_top":false,"comment_ctime":1554730482,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554730482","product_id":100024701,"comment_content":"打一下卡， 不能落下","like_count":0},{"had_liked":false,"id":83883,"user_name":"xfan","can_delete":false,"product_type":"c1","uid":1315147,"ip_address":"","ucode":"48ED8D498D7F56","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/4b/fa64f061.jpg","comment_is_top":false,"comment_ctime":1554728783,"is_pvip":false,"replies":[{"id":"30318","content":"后面有，每一部分的第一节，都会有代码实例，拷贝即可运行","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1554773961,"ip_address":"","comment_id":83883,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1554728783","product_id":100024701,"comment_content":"还不错，干货很多，如果能写上一些例子，给我们动手实践一下就更完美了","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446169,"discussion_content":"后面有，每一部分的第一节，都会有代码实例，拷贝即可运行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554773961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2401422,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/NyFOEueITjaGLpakMEuWAqVQjo1uDIXlpDdpCxXGfaWiaXzibLQ3WgOFCe8D9FvCmyjsGT7jDsLUbkt8jt2aVs9g/132","nickname":"geek","note":"","ucode":"FF0845140D72A9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359509,"discussion_content":"copy as runnig ,CAR.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616211853,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83858,"user_name":"小武","can_delete":false,"product_type":"c1","uid":1031888,"ip_address":"","ucode":"F47B5D220161E7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/be/d0/7f37f35f.jpg","comment_is_top":false,"comment_ctime":1554725290,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554725290","product_id":100024701,"comment_content":"先读一遍，只能理解少部分，还是要多读几遍才能理解更多","like_count":0},{"had_liked":false,"id":83646,"user_name":"灯盖","can_delete":false,"product_type":"c1","uid":1482839,"ip_address":"","ucode":"0F8455A593D60C","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/57/3a729755.jpg","comment_is_top":false,"comment_ctime":1554689836,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1554689836","product_id":100024701,"comment_content":"写的好，linux一直在工作中有一点点应用，但始终不深入。感谢","like_count":0},{"had_liked":false,"id":83596,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1554682533,"is_pvip":false,"replies":[{"id":"30248","content":"其他语言的，看c应该没有啥问题吧，如果需要编译的，我会讲整个文件原样放在正文中，拷贝一下就能编译运行了","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1554688554,"ip_address":"","comment_id":83596,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554682533","product_id":100024701,"comment_content":"打卡day6对于非c程序员，一些源码的东西，还是比较晦涩的","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446087,"discussion_content":"其他语言的，看c应该没有啥问题吧，如果需要编译的，我会讲整个文件原样放在正文中，拷贝一下就能编译运行了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554688554,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83557,"user_name":"tux","can_delete":false,"product_type":"c1","uid":1477811,"ip_address":"","ucode":"BB7202009FC885","user_header":"https://static001.geekbang.org/account/avatar/00/16/8c/b3/a74a7125.jpg","comment_is_top":false,"comment_ctime":1554649884,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554649884","product_id":100024701,"comment_content":"文章和留言，记进笔记","like_count":0},{"had_liked":false,"id":83519,"user_name":"吴小智","can_delete":false,"product_type":"c1","uid":1310798,"ip_address":"","ucode":"C7C9F58B5C9F7B","user_header":"https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg","comment_is_top":false,"comment_ctime":1554636907,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554636907","product_id":100024701,"comment_content":"清明小长假回来补上","like_count":0},{"had_liked":false,"id":83471,"user_name":"期末考试","can_delete":false,"product_type":"c1","uid":1467431,"ip_address":"","ucode":"FBC7F60C716529","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erQBm44KAplv98jRk7I3GtKsNfDvPBgDOhR6LzXfH1xmnHUYhzkVIq94fG3UbWRVkqeMljIiaqn0pQ/132","comment_is_top":false,"comment_ctime":1554614424,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554614424","product_id":100024701,"comment_content":"strace java -version<br><br>execve<br>brk mmap readlink access<br>open stat <br>open fstat<br>mmap close <br>open read mprotect <br>太多了<br>","like_count":0},{"had_liked":false,"id":83459,"user_name":"星光","can_delete":false,"product_type":"c1","uid":1272719,"ip_address":"","ucode":"A62AB938CA622A","user_header":"https://static001.geekbang.org/account/avatar/00/13/6b/8f/eba34b86.jpg","comment_is_top":false,"comment_ctime":1554608984,"is_pvip":false,"replies":[{"id":"49897","content":"最后会交给大家怎么编译","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567781210,"ip_address":"","comment_id":83459,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554608984","product_id":100024701,"comment_content":"之前看网络编程一直不理解套接字，今天看老师解释为“插槽”，我可以理解为Socket就是一根网线，一头连client，另一头连server吗？<br>另外想咨询下老师后期能否讲解下linux内核该如何编译，目前应该只是下载下来熟悉流程对吗？谢谢！","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446033,"discussion_content":"最后会交给大家怎么编译","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567781210,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83458,"user_name":"蜉蝣","can_delete":false,"product_type":"c1","uid":1229070,"ip_address":"","ucode":"77CF92496855D4","user_header":"https://static001.geekbang.org/account/avatar/00/12/c1/0e/2b987d54.jpg","comment_is_top":false,"comment_ctime":1554608569,"is_pvip":false,"replies":[{"id":"49898","content":"跟着原理看，而不是逐行看，https:&#47;&#47;elixir.bootlin.com&#47;linux","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567781253,"ip_address":"","comment_id":83458,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554608569","product_id":100024701,"comment_content":"我觉得老师讲得很好，将我之前散乱的知识拉通了一遍。不知道后面难度如何了，我也学编程没多久。另外老师后面讲源码的时候可以说一下怎么看吗？刚刚下了源码，但是很多，不知道应该从哪个点开始","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446032,"discussion_content":"跟着原理看，而不是逐行看，https://elixir.bootlin.com/linux","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567781253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83422,"user_name":"Hpbbs","can_delete":false,"product_type":"c1","uid":1484103,"ip_address":"","ucode":"70FAEEF3D624F0","user_header":"https://static001.geekbang.org/account/avatar/00/16/a5/47/850fa048.jpg","comment_is_top":false,"comment_ctime":1554576111,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1554576111","product_id":100024701,"comment_content":"感觉老师的讲的内容可以当做知识地图 和 思维理解指导，细化的知识点，还是得自己拓展，希望老师多加一点自己应该下的功夫的指导，期待老师带我们打开这个黑盒","like_count":0,"discussions":[{"author":{"id":2401422,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/NyFOEueITjaGLpakMEuWAqVQjo1uDIXlpDdpCxXGfaWiaXzibLQ3WgOFCe8D9FvCmyjsGT7jDsLUbkt8jt2aVs9g/132","nickname":"geek","note":"","ucode":"FF0845140D72A9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359507,"discussion_content":"水到渠成，积累够了，会逐渐明白的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616211742,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83356,"user_name":"Vilochen.","can_delete":false,"product_type":"c1","uid":1101556,"ip_address":"","ucode":"19D9BF8534B480","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/f4/5bfc786a.jpg","comment_is_top":false,"comment_ctime":1554543868,"is_pvip":false,"replies":[{"id":"49908","content":"一通百通","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567781698,"ip_address":"","comment_id":83356,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554543868","product_id":100024701,"comment_content":"看到了很多平时java关于内存方面的相通的地方，之前一直对于这方面有恐惧心理，这篇文章让我对学习下去更加有信心，感谢老师","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445989,"discussion_content":"一通百通","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567781698,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83330,"user_name":"王洪亮","can_delete":false,"product_type":"c1","uid":1478632,"ip_address":"","ucode":"979381A00B2B27","user_header":"https://static001.geekbang.org/account/avatar/00/16/8f/e8/49a51312.jpg","comment_is_top":false,"comment_ctime":1554534688,"is_pvip":false,"replies":[{"id":"49910","content":"是的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567781754,"ip_address":"","comment_id":83330,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1554534688","product_id":100024701,"comment_content":"brk和mmap映射的虚拟内存空间区域，在使用前不会真正分配物理内存页，所以，可以把‘’映射‘’理解为在虚拟地址空间‘’规划‘’出一段区域来。对于32位系统，每个进程最大有3G用户空间（3:1划分）可以用来‘’规划‘’","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445980,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567781754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2401422,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/NyFOEueITjaGLpakMEuWAqVQjo1uDIXlpDdpCxXGfaWiaXzibLQ3WgOFCe8D9FvCmyjsGT7jDsLUbkt8jt2aVs9g/132","nickname":"geek","note":"","ucode":"FF0845140D72A9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359506,"discussion_content":"有两种page fault,minor是指页表中无对应映射，此时不会有实际io；major是指之前映射的页未分配内存，此时需要分配内存，还要从磁盘加载数据到内存，有io，","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1616211571,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83324,"user_name":"andylaumas","can_delete":false,"product_type":"c1","uid":1477390,"ip_address":"","ucode":"F6420FE10C84A3","user_header":"https://static001.geekbang.org/account/avatar/00/16/8b/0e/4522fe43.jpg","comment_is_top":false,"comment_ctime":1554533363,"is_pvip":false,"replies":[{"id":"49911","content":"加油，后面更深了","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567781766,"ip_address":"","comment_id":83324,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554533363","product_id":100024701,"comment_content":"这课的内容能看懂，但是理解起来还有有点费劲，看来还要下功夫了，后面不知道能否跟上？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445978,"discussion_content":"加油，后面更深了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567781766,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83320,"user_name":"Amark","can_delete":false,"product_type":"c1","uid":1121326,"ip_address":"","ucode":"E5F48633654002","user_header":"https://static001.geekbang.org/account/avatar/00/11/1c/2e/93812642.jpg","comment_is_top":false,"comment_ctime":1554532260,"is_pvip":false,"replies":[{"id":"49912","content":"是的，可以ps看进程树","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567781785,"ip_address":"","comment_id":83320,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554532260","product_id":100024701,"comment_content":"刘老师，是不是装完操作系统，第一次启动电脑的时候，这时候会创建这个祖宗进程，接下来的一切进程，不论是安装的什么软件比如MySQL，web服务，redis，QQ……，这些都是，祖宗进程的子进程?这样理解对吗","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445975,"discussion_content":"是的，可以ps看进程树","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567781785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83298,"user_name":"zixuan","can_delete":false,"product_type":"c1","uid":1131300,"ip_address":"","ucode":"C72920DD05B074","user_header":"https://static001.geekbang.org/account/avatar/00/11/43/24/3f9f7c70.jpg","comment_is_top":false,"comment_ctime":1554524629,"is_pvip":false,"replies":[{"id":"49917","content":"是的，后面会讲这个","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567781901,"ip_address":"","comment_id":83298,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1554524629","product_id":100024701,"comment_content":"亲缘进程间还常用管道通信，任意进程间可用命名管道","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445964,"discussion_content":"是的，后面会讲这个","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567781901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2401422,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/NyFOEueITjaGLpakMEuWAqVQjo1uDIXlpDdpCxXGfaWiaXzibLQ3WgOFCe8D9FvCmyjsGT7jDsLUbkt8jt2aVs9g/132","nickname":"geek","note":"","ucode":"FF0845140D72A9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359503,"discussion_content":"pipe和fifo","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1616211154,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83249,"user_name":"Frank_51","can_delete":false,"product_type":"c1","uid":1135841,"ip_address":"","ucode":"3976DEC3EF25B5","user_header":"https://static001.geekbang.org/account/avatar/00/11/54/e1/bdbe3e29.jpg","comment_is_top":false,"comment_ctime":1554480015,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554480015","product_id":100024701,"comment_content":"通俗易懂，希望能逐步跟上节奏","like_count":0},{"had_liked":false,"id":83176,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1554451502,"is_pvip":false,"replies":[{"id":"30050","content":"一个呀","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1554475168,"ip_address":"","comment_id":83176,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1554451502","product_id":100024701,"comment_content":"一个文件有多个索引节点(inode)?","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445902,"discussion_content":"一个呀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554475168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2401422,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/NyFOEueITjaGLpakMEuWAqVQjo1uDIXlpDdpCxXGfaWiaXzibLQ3WgOFCe8D9FvCmyjsGT7jDsLUbkt8jt2aVs9g/132","nickname":"geek","note":"","ucode":"FF0845140D72A9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359505,"discussion_content":"文中的图一个inode有多条线指向磁盘的多个地方，我理解是一个文件的内容会被保存在多个sector吧，磁盘的基本保存或者索引单位就是sector。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1616211271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83115,"user_name":"登高","can_delete":false,"product_type":"c1","uid":1068600,"ip_address":"","ucode":"CD40046238BA18","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/38/3faa8377.jpg","comment_is_top":false,"comment_ctime":1554429355,"is_pvip":true,"replies":[{"id":"30056","content":"加油","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1554475385,"ip_address":"","comment_id":83115,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554429355","product_id":100024701,"comment_content":"这篇文章把系统调用从我的恐惧区拉向学习区了，老师文章写的很棒，期待下篇","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445867,"discussion_content":"加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554475385,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83100,"user_name":"SMTCode","can_delete":false,"product_type":"c1","uid":1109038,"ip_address":"","ucode":"0D837A753E4FAB","user_header":"https://static001.geekbang.org/account/avatar/00/10/ec/2e/49d13bd2.jpg","comment_is_top":false,"comment_ctime":1554421517,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1554421517","product_id":100024701,"comment_content":"很全面，但细节却又那么的复杂～<br>","like_count":0},{"had_liked":false,"id":83099,"user_name":"zeroxus","can_delete":false,"product_type":"c1","uid":1058002,"ip_address":"","ucode":"9DBB3A81F01792","user_header":"https://static001.geekbang.org/account/avatar/00/10/24/d2/40353046.jpg","comment_is_top":false,"comment_ctime":1554420779,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554420779","product_id":100024701,"comment_content":"早起打卡","like_count":0},{"had_liked":false,"id":83080,"user_name":"Marlowe","can_delete":false,"product_type":"c1","uid":1030001,"ip_address":"","ucode":"43D0355982255A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b7/71/f7bb660f.jpg","comment_is_top":false,"comment_ctime":1554395056,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554395056","product_id":100024701,"comment_content":"快准狠","like_count":0},{"had_liked":false,"id":83079,"user_name":"昨夜星辰","can_delete":false,"product_type":"c1","uid":1137735,"ip_address":"","ucode":"A0F58588D24CEB","user_header":"https://static001.geekbang.org/account/avatar/00/11/5c/47/33d22a11.jpg","comment_is_top":false,"comment_ctime":1554394640,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1554394640","product_id":100024701,"comment_content":"我是第三个","like_count":0},{"had_liked":false,"id":83074,"user_name":"孙庆良","can_delete":false,"product_type":"c1","uid":1135990,"ip_address":"","ucode":"CA05C4CFEFB0F9","user_header":"https://static001.geekbang.org/account/avatar/00/11/55/76/a55871ab.jpg","comment_is_top":false,"comment_ctime":1554393763,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554393763","product_id":100024701,"comment_content":"第一","like_count":0}]}
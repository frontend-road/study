{"id":145878,"title":"15 | é‡å‰‘æ— é”‹ï¼Œå¤§å·§ä¸å·¥ï¼šJavaScripté¢å‘å¯¹è±¡","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å››ç«ã€‚</p><p>JavaScript çš„è®¾è®¡å’Œç¼–ç¨‹èƒ½åŠ›å¯ä»¥è¯´æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆçš„ä¿®å…»ä¹‹ä¸€ï¼Œè€Œ JavaScript é¢å‘å¯¹è±¡å°±æ˜¯å…¶ä¸­çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ã€‚</p><p>æˆ‘ç›¸ä¿¡å¯¹äºåç«¯å¼€å‘æ¥è¯´ï¼Œé¢å‘å¯¹è±¡çš„ç¼–ç¨‹èƒ½åŠ›æ˜¯ä¸€ä¸ªç¨‹åºå‘˜å¿…é¡»è¦ç†Ÿç»ƒæŒæ¡çš„åŸºæœ¬æŠ€èƒ½ï¼›è€Œå¯¹äºå‰ç«¯å¼€å‘ï¼Œå¾ˆå¤šé¡¹ç›®ï¼Œç”šè‡³åœ¨å¾ˆå¤šçŸ¥åäº’è”ç½‘å…¬å¸çš„é¡¹ç›®ä¸­ï¼Œå¾ˆé—æ†¾ï¼Œè¿™éƒ¨åˆ†éƒ½æ˜¯ç¼ºå¤±çš„ï¼Œäºæ˜¯æˆ‘ä»¬çœ‹åˆ°å¤§é‡çš„ä¸€ä¸ªä¸€ä¸ªæ•£è½çš„æ–¹æ³•ï¼Œä»¥åŠä¸€å †ä¸€å †éš¾ä»¥ç†è§£çš„å…¨å±€å˜é‡ï¼Œè¿™å¯¹ç³»ç»Ÿçš„æ‰©å±•å’Œç»´æŠ¤ç®€ç›´æ˜¯å™©æ¢¦ã€‚</p><p>â€œå¥½çš„è½¯ä»¶è´¨é‡æ˜¯è®¾è®¡å‡ºæ¥çš„â€ï¼Œè¿™ä¸ªè®¾è®¡æ—¢åŒ…æ‹¬å®è§‚çš„æ¶æ„å’Œç»„ä»¶è®¾è®¡ï¼Œä¹ŸåŒ…æ‹¬å¾®è§‚çš„ä»£ç å±‚é¢çš„è®¾è®¡ã€‚åœ¨è¿™ä¸€è®²ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹  JavaScript é¢å‘å¯¹è±¡çš„åŸºæœ¬çŸ¥è¯†å’ŒæŠ€å·§ï¼Œæå‡ä»£ç å±‚é¢çš„é¢å‘å¯¹è±¡è®¾è®¡å’Œç¼–ç èƒ½åŠ›ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†é€šè¿‡é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾ï¼Œç»“åˆå®ä¾‹ï¼Œä»‹ç» JavaScript é¢å‘å¯¹è±¡çš„çŸ¥è¯†ï¼šå°è£…ã€ç»§æ‰¿ä»¥åŠå¤šæ€ã€‚</p><h2>1. å°è£…</h2><p>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œå°è£…ï¼ˆEncapsulationï¼‰è¯´çš„æ˜¯ä¸€ç§é€šè¿‡æ¥å£æŠ½è±¡å°†å…·ä½“å®ç°åŒ…è£…å¹¶éšè—èµ·æ¥çš„æ–¹æ³•ã€‚å…·ä½“æ¥è¯´ï¼Œå°è£…çš„æœºåˆ¶åŒ…æ‹¬ä¸¤å¤§éƒ¨åˆ†ï¼š</p><ul>\n<li><strong>é™åˆ¶å¯¹å¯¹è±¡å†…éƒ¨ç»„ä»¶ç›´æ¥è®¿é—®çš„æœºåˆ¶ï¼›</strong></li>\n<li><strong>å°†æ•°æ®å’Œæ–¹æ³•ç»‘å®šèµ·æ¥ï¼Œå¯¹å¤–æä¾›æ–¹æ³•ï¼Œä»è€Œæ”¹å˜å¯¹è±¡çŠ¶æ€çš„æœºåˆ¶ã€‚</strong></li>\n</ul><p>åœ¨ Java ä¸­ï¼Œåœ¨ç±»ä¸­é€šè¿‡ private æˆ– public è¿™æ ·çš„ä¿®é¥°ç¬¦ï¼Œèƒ½å¤Ÿå®ç°å¯¹å¯¹è±¡å±æ€§æˆ–æ–¹æ³•ä¸åŒçº§åˆ«çš„è®¿é—®æƒé™æ§åˆ¶ã€‚ä½†æ˜¯ï¼Œåœ¨ JavaScript ä¸­å¹¶æ²¡æœ‰è¿™æ ·çš„å…³é”®å­—ï¼Œä½†æ˜¯ï¼Œé€šè¿‡ä¸€ç‚¹å°çš„æŠ€å·§ï¼Œå°±èƒ½è®© JavaScript ä»£ç æ”¯æŒå°è£…ã€‚</p><!-- [[[read_end]]] --><p>ç›´åˆ° ES6ï¼ˆ<a href=\"http://es6-features.org\">ECMAScript 6</a>ï¼‰ä»¥å‰ï¼Œç±»ï¼ˆclassï¼‰è¿™ä¸ªæ¦‚å¿µåœ¨ JavaScript ä¸­å…¶å®ä¸å­˜åœ¨ï¼Œä½†æ˜¯ JavaScript å¯¹å‡½æ•°ï¼ˆfunctionï¼‰æœ‰ç€æ¯”ä¸€èˆ¬é™æ€è¯­è¨€å¼ºå¤§å¾—å¤šçš„æ”¯æŒï¼Œæˆ‘ä»¬ç»å¸¸åˆ©ç”¨å®ƒæ¥æ¨¡æ‹Ÿç±»çš„æ¦‚å¿µã€‚ç°åœ¨ï¼Œè¯·ä½ æ‰“å¼€ Chrome çš„å¼€å‘è€…å·¥å…·ï¼Œåœ¨æ§åˆ¶å°ä¸Šè´´ä¸Šå¦‚ä¸‹ä»£ç ï¼š</p><pre><code>function Book(name) {\n    this.name = name;\n}\nconsole.log(new Book(&quot;Life&quot;).name);\n</code></pre><p>ä½ å°†çœ‹åˆ°æ§åˆ¶å°è¾“å‡ºäº† â€œLifeâ€ã€‚ä»ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œname ä½œä¸ºäº† Book è¿™ä¸ªç±»çš„æ„é€ å‡½æ•°ä¼ å…¥ï¼Œå¹¶èµ‹å€¼ç»™äº†è‡ªå·±çš„ name å±æ€§ï¼ˆå®ƒå’Œå…¥å‚ name é‡åï¼Œä½†å´ä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼‰ã€‚è¿™æ ·ï¼Œåœ¨ä½¿ç”¨â€œLifeâ€ä½œä¸ºå…¥å‚æ¥å®ä¾‹åŒ– Book å¯¹è±¡çš„æ—¶å€™ï¼Œå°±èƒ½è®¿é—®å¯¹è±¡çš„ name å±æ€§å¹¶è¾“å‡ºäº†ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™æ ·çš„ name å±æ€§ï¼Œå…¶å®ç›¸å½“äºå…¬æœ‰å±æ€§ï¼Œå› ä¸ºå¤–éƒ¨å¯ä»¥è®¿é—®åˆ°ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬èƒ½å¤Ÿå®ç°ç§æœ‰å±æ€§å—ï¼Ÿå½“ç„¶ï¼Œè¯·çœ‹è¿™æ®µä»£ç  ï¼š</p><pre><code>function Book(name) {\n    this.getName = () =&gt; {\n        return name;\n    };\n    this.setName = (newName) =&gt; {\n        name = newName;\n    };\n}\nlet book = new Book(&quot;Life&quot;);\nbook.setName(&quot;Time&quot;);\nconsole.log(book.getName()); // Time\nconsole.log(book.name); // æ— æ³•è®¿é—®ç§æœ‰å±æ€§ name çš„å€¼\n</code></pre><p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæœ‰ä¸¤å¤„å˜åŒ–ï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨äº† () =&gt; {} è¿™æ ·çš„è¯­æ³•ä»£æ›¿äº† function å…³é”®å­—ï¼Œä½¿å¾—å…¶å®šä¹‰çœ‹èµ·æ¥æ›´åŠ ç®€æ´ï¼Œä½†æ˜¯è¡¨è¾¾çš„å«ä¹‰ä¾ç„¶æ˜¯å‡½æ•°å®šä¹‰ï¼Œæ²¡æœ‰åŒºåˆ«ï¼›ç¬¬äºŒä¸ªæ˜¯å¢åŠ äº† getName() å’Œ setName() è¿™æ ·çš„å­˜å–æ–¹æ³•ï¼Œå¹¶ä¸”åˆ©ç”¨é—­åŒ…çš„ç‰¹æ€§ï¼Œå°† name å°è£…åœ¨ Book ç±»çš„å¯¹è±¡ä¸­ï¼Œä½ æ— æ³•é€šè¿‡ä»»ä½•å…¶å®ƒæ–¹æ³•è®¿é—®åˆ°ç§æœ‰å±æ€§ name çš„å€¼ã€‚</p><p>è¿™é‡Œä»‹ç»é—­åŒ…ï¼ˆClosureï¼‰ï¼Œæˆ‘æƒ³ä½ åº”è¯¥å¬è¯´è¿‡è¿™ä¸ªæ¦‚å¿µã€‚<strong>é—­åŒ…ç®€å•è¯´ï¼Œå°±æ˜¯å¼•ç”¨äº†è‡ªç”±å˜é‡çš„å‡½æ•°ã€‚è¿™é‡Œçš„å…³é”®æ˜¯â€œè‡ªç”±å˜é‡â€ï¼Œå…¶å®è¿™ä¸ªè‡ªç”±å˜é‡ï¼Œæ‰®æ¼”çš„ä½œç”¨æ˜¯ä¸ºè¿™ä¸ªå‡½æ•°è°ƒç”¨æä¾›äº†ä¸€ä¸ªâ€œä¸Šä¸‹æ–‡â€</strong>ï¼Œè€Œä¸Šä¸‹æ–‡çš„ä¸åŒï¼Œå°†å¯¹å…¥å‚ç›¸åŒçš„å‡½æ•°è°ƒç”¨é€ æˆä¸åŒçš„å½±å“ï¼Œå®ƒåŒ…æ‹¬ï¼š</p><ul>\n<li>å‡½æ•°çš„è¡Œä¸ºä¸åŒï¼Œå³å‡½æ•°è°ƒç”¨æ”¹å˜å…¶ä¸Šä¸‹æ–‡ä¸­çš„å…¶å®ƒå˜é‡ï¼Œå¦‚ä¾‹å­ä¸­çš„ setName()ï¼›</li>\n<li>å‡½æ•°çš„è¿”å›å€¼ä¸åŒï¼Œå¦‚ä¾‹å­ä¸­çš„ getName()ã€‚</li>\n</ul><p><strong>å’Œé—­åŒ…ç›¸å¯¹çš„ï¼Œæ˜¯ä¸€ç§ç§°ä¸ºâ€œçº¯å‡½æ•°â€ï¼ˆPure Functionï¼‰çš„ä¸œè¥¿ï¼Œå³å‡½æ•°ä¸å…è®¸å¼•ç”¨ä»»ä½•è‡ªç”±å˜é‡ã€‚</strong>å› æ­¤ï¼Œå’Œä¸Šé¢ä¸¤æ¡â€œå½±å“â€å¯¹åº”ï¼Œçº¯å‡½æ•°çš„è°ƒç”¨å¿…é¡»æ»¡è¶³å¦‚ä¸‹ç‰¹æ€§ï¼š</p><ul>\n<li>å‡½æ•°çš„è°ƒç”¨ä¸å…è®¸æ”¹å˜å…¶æ‰€å±çš„ä¸Šä¸‹æ–‡ï¼›</li>\n<li>ç›¸åŒå…¥å‚çš„å‡½æ•°è°ƒç”¨ä¸€å®šèƒ½å¾—åˆ°ç›¸åŒçš„è¿”å›å€¼ã€‚</li>\n</ul><p>è¯»åˆ°è¿™é‡Œï¼Œä½ æ˜¯å¦æƒ³åˆ°äº† <a href=\"https://time.geekbang.org/column/article/136795\">[ç¬¬ 04 è®²]</a> ä¸­æˆ‘ä»¬å°† HTTP çš„è¯·æ±‚ä»ä¸¤ä¸ªç»´åº¦è¿›è¡Œåˆ’åˆ†ï¼Œå³æ˜¯å¦å¹‚ç­‰ï¼Œæ˜¯å¦å®‰å…¨ï¼›åœ¨ <a href=\"https://time.geekbang.org/column/article/141679\">[ç¬¬ 08 è®²]</a> ä¸­æˆ‘ä»¬å¯¹ CQRS ä¾ç„¶ä»è¿™æ ·ä¸¤ä¸ªç»´åº¦è¿›è¡Œåˆ’åˆ†ï¼Œå¹¶ä½œäº†åˆ†æã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬è¿˜åšç›¸åŒçš„åˆ’åˆ†ã€‚</p><ul>\n<li>é—­åŒ…çš„è°ƒç”¨æ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºå®ƒå¯èƒ½æ”¹å˜å¯¹è±¡çš„å†…éƒ¨å±æ€§ï¼ˆé—­åŒ…çš„ä¸Šä¸‹æ–‡ï¼‰ï¼›åŒæ—¶å®ƒä¹Ÿä¸æ˜¯å¹‚ç­‰çš„ï¼Œå› ä¸ºä¸€æ¬¡è°ƒç”¨å’Œå¤šæ¬¡è°ƒç”¨å¯èƒ½äº§ç”Ÿä¸åŒçš„ç»“æœã€‚</li>\n<li>çº¯å‡½æ•°çš„è°ƒç”¨æ˜¯å®‰å…¨çš„ï¼Œä¹Ÿæ˜¯å¹‚ç­‰çš„ã€‚</li>\n</ul><p>äºæ˜¯ï¼Œæˆ‘ä»¬åˆä¸€æ¬¡å‘ç°ï¼ŒæŠ€æœ¯æ˜¯ç›¸é€šï¼Œæ˜¯å¯ä»¥è”æƒ³å’Œç±»æ¯”çš„ã€‚<strong>æœ¬è´¨ä¸Šï¼Œå®ƒä»¬å›´ç»•çš„éƒ½æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼ˆå‡½æ•°ï¼‰æ˜¯å¦å¼•ç”¨å’Œæ”¹å˜å¤–éƒ¨çŠ¶æ€çš„é—®é¢˜ã€‚</strong>é—­åŒ…æœ¬èº«æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„æœºåˆ¶ï¼Œä½†æ˜¯ï¼Œå®ƒå¯ä»¥å¸¦æ¥ä¸°å¯Œçš„è¯­è¨€é«˜çº§åŠŸèƒ½ç‰¹æ€§ï¼Œæ¯”å¦‚<a href=\"https://zh.wikipedia.org/wiki/%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0\">é«˜é˜¶å‡½æ•°</a>ã€‚</p><h2>2. ç»§æ‰¿</h2><p>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œç»§æ‰¿ï¼ˆInheritanceï¼‰æŒ‡çš„æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–è€…ç±»èƒ½å¤Ÿè‡ªåŠ¨ä¿æŒå¦ä¸€ä¸ªå¯¹è±¡æˆ–è€…ç±»çš„å®ç°çš„ä¸€ç§æœºåˆ¶ã€‚æˆ‘ä»¬ç»å¸¸è®²çš„å­ç±»å…·å¤‡çˆ¶ç±»çš„æ‰€æœ‰ç‰¹æ€§ï¼Œåªæ˜¯ç»§æ‰¿ä¸­çš„ä¸€ç§ï¼Œå«åšç±»ç»§æ‰¿ï¼›å…¶å®è¿˜æœ‰å¦ä¸€ç§ï¼Œå¯¹è±¡ç»§æ‰¿ï¼Œè¿™ç§ç»§æ‰¿åªéœ€è¦å¯¹è±¡ï¼Œä¸éœ€è¦ç±»ã€‚</p><p>åœ¨ ES6 ä»¥å‰ï¼Œæ²¡æœ‰ç»§æ‰¿ï¼ˆextendsï¼‰å…³é”®å­—ï¼ŒJavaScript æœ€å¸¸è§çš„ç»§æ‰¿æ–¹å¼å«åš<strong>åŸå‹é“¾ç»§æ‰¿</strong>ã€‚åŸå‹ï¼ˆprototypeï¼‰æ˜¯ JavaScript å‡½æ•°çš„ä¸€ä¸ªå†…ç½®å±æ€§ï¼ŒæŒ‡å‘å¦å¤–çš„ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œé‚£ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œéƒ½ä¼šè¢«è¿™ä¸ªå‡½æ•°çš„æ‰€æœ‰å®ä¾‹è‡ªåŠ¨ç»§æ‰¿ã€‚</p><p>å› æ­¤ï¼Œå½“æˆ‘ä»¬å¯¹é‚£ä¸ªåŸå‹æŒ‡å‘çš„å¯¹è±¡åšå‡ºä»»ä½•æ”¹å˜ï¼Œè¿™ä¸ªå‡½æ•°çš„æ‰€æœ‰å®ä¾‹ä¹Ÿå°†å‘ç”Ÿç›¸åŒçš„æ”¹å˜ã€‚è¿™æ ·åŸå‹çš„è®¾è®¡åœ¨å¸¸è§çš„é™æ€è¯­è¨€ä¸­å¹¶ä¸å¸¸è§ã€‚å½“ç„¶ï¼Œå®ƒåœ¨å®ç°çš„æ•ˆæœä¸Šå’Œé™æ€è¯­è¨€ä¸­çš„â€œç±»å±æ€§/ç±»æ–¹æ³•â€æœ‰ä¸€ç‚¹å„¿ç›¸ä¼¼ã€‚</p><pre><code>function Base(name) {\n    this.name = name;\n}\nfunction Child(name) {\n    this.name = name;\n}\nChild.prototype = new Base();\n\nvar c = new Child(&quot;Life&quot;);\nconsole.log(c.name); // &quot;Life&quot;\nconsole.log(c instanceof Base); // true\nconsole.log(c instanceof Child); // true\n</code></pre><p>è¯·çœ‹ä¸Šé¢çš„ä¾‹å­ï¼Œé€šè¿‡å°†å­ç±» Child çš„åŸå‹ prototype è®¾ç½®ä¸ºçˆ¶ç±»çš„å¯¹è±¡ï¼Œå°±å®Œæˆäº† Child ç»§æ‰¿ Base çš„å…³è”ï¼Œä¹‹åæˆ‘ä»¬å†åˆ¤æ–­ Child çš„å¯¹è±¡ cï¼Œå°±å‘ç°å®ƒä¹Ÿæ˜¯ Base çš„å¯¹è±¡ã€‚è¯·æ³¨æ„è¿™æ ·ä¸¤ä¸ªè¦ç‚¹ï¼š</p><ul>\n<li>è®¾ç½® prototype çš„è¯­å¥ä¸€å®šè¦æ”¾åˆ° Base å’Œ Child ä¸¤ä¸ªæ„é€ å™¨ä¹‹å¤–ï¼›</li>\n<li>å¹¶ä¸”è¦æ”¾åœ¨å®ä¾‹åŒ–ä»»ä½•å­ç±»ä¹‹å‰ã€‚</li>\n</ul><p>ä¸Šé¢è¿™ä¸¤æ¡åŸåˆ™éå¸¸é‡è¦ï¼Œç¼ºä¸€ä¸å¯ã€‚å¦‚æœè¿èƒŒç¬¬ä¸€ä¸ªè¦ç‚¹ï¼Œå³æŠŠ prototype çš„è®¾ç½®æ”¾åˆ°å­ç±»çš„é‡Œé¢ï¼Œå˜æˆè¿™æ ·ï¼š</p><pre><code>function Child(name) {\n    Child.prototype = new Base();\n    this.name = name;\n}\n</code></pre><p>è¿™æ˜¯å®Œå…¨é”™è¯¯çš„ï¼Œæ¯æ¬¡ Child åœ¨æ„å»ºçš„è¿‡ç¨‹ä¸­ï¼ŒåŸå‹è¢«ç ´åå¹¶é‡å»ºä¸€æ¬¡ï¼Œè¿™å¯ä¸åªæ˜¯ä¸€ä¸ªèµ„æºæµªè´¹ã€çŠ¶æ€ä¸¢å¤±çš„é—®é¢˜ã€‚ç”±äºåŸå‹æ˜¯å®ä¾‹è¾¨è¯†è¿ç®— instanceof çš„ä¾æ®ï¼Œå› æ­¤å®ƒè¿˜ä¼šå½±å“ JavaScript å¼•æ“å¯¹ instanceof çš„åˆ¤æ–­ï¼š</p><pre><code>var c = new Child(&quot;Life&quot;);\nconsole.log(c instanceof Base); // false\nconsole.log(c instanceof Child); // false\n</code></pre><p>ä½ çœ‹ï¼Œc ç°åœ¨ä¸ä½†ä¸æ˜¯ Base çš„å®ä¾‹ï¼Œç”šè‡³ä¹Ÿä¸æ˜¯ Child çš„äº†ã€‚</p><p>è¿˜æœ‰äº›ç¨‹åºå‘˜è¿åäº†ä¸Šé¢è¯´çš„ç¬¬äºŒä¸ªè¦ç‚¹ï¼Œå³æé”™äº†é¡ºåºï¼š</p><pre><code>var c = new Child(&quot;Life&quot;);\nChild.prototype = new Base();\n</code></pre><p>åé¢çš„åˆ¤æ–­ä¹Ÿå‡ºç°äº†é”™è¯¯ï¼š</p><pre><code>console.log(c instanceof Base); // false\nconsole.log(c instanceof Child); // false\n</code></pre><p>å› ä¸º Child çš„åŸå‹åœ¨ c ç”Ÿæˆä¹‹åå‘ç”Ÿäº†ç ´åå¹¶é‡å»ºï¼Œå› æ­¤æ— è®º Base è¿˜æ˜¯ Childï¼Œéƒ½å·²ç»å’Œ c æ²¡æœ‰å…³è”äº†ã€‚</p><p>ä½ å†ä»”ç»†æƒ³æƒ³çš„è¯ï¼Œä½ è¿˜ä¼šå‘ç°åŸå‹é“¾ç»§æ‰¿æœ‰ä¸€ä¸ªè§£å†³ä¸äº†çš„é—®é¢˜ï¼Œå³çˆ¶ç±»çš„æ„é€ æ–¹æ³•å¦‚æœåŒ…å«å‚æ•°ï¼Œå°±æ— æ³•è¢«å®Œç¾åœ°ç»§æ‰¿ä¸‹æ¥ã€‚æ¯”å¦‚ä¸Šä¾‹ä¸­çš„ name æ„é€ å‚æ•°ï¼Œä¼ å…¥åèµ‹å€¼ç»™å¯¹è±¡çš„æ“ä½œä¸å¾—ä¸åœ¨å­ç±»ä¸­é‡åšäº†ä¸€éã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¼•å‡ºå¦ä¸€ç§å¸¸è§çš„ JavaScript å®ç°ç»§æ‰¿çš„æ–¹å¼â€”â€”<strong>æ„é€ ç»§æ‰¿</strong>ã€‚</p><pre><code>function Base1(name) {\n    this.name = name;\n}\nfunction Base2(type) {\n    this.type = type;\n}\nfunction Child(name, type) {\n    Base1.call(this, name); // è®© this å»è°ƒç”¨ Base1ï¼Œå¹¶ä¼ å…¥å‚æ•° name\n    Base2.call(this, type);\n}\n\nvar c = new Child(&quot;Life&quot;, &quot;book&quot;);\nconsole.log(c.name); // &quot;Life&quot;\nconsole.log(c instanceof Base1); // false\nconsole.log(c instanceof Child); // true\n</code></pre><p>ä½ çœ‹ï¼Œè¿™ç§æ–¹æ³•å°±èƒ½å¤Ÿä¿ç•™çˆ¶ç±»å¯¹äºæ„é€ å™¨å‚æ•°çš„å¤„ç†é€»è¾‘ï¼Œå¹¶ä¸”ï¼Œæˆ‘ä»¬å±…ç„¶è¿˜ä¸çŸ¥ä¸è§‰åœ°å®ç°äº†<strong>å¤šé‡ç»§æ‰¿</strong>ï¼ä½†æ˜¯ï¼Œç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œä½¿ç”¨ instanceof æ–¹æ³•åˆ¤æ–­çš„æ—¶å€™ï¼Œå‘ç°å­ç±»å¯¹è±¡ c å¹¶éçˆ¶ç±»å®ä¾‹ï¼Œå¹¶ä¸”ï¼Œå½“çˆ¶ç±»çš„ prototype è¿˜æœ‰é¢å¤–å±æ€§å’Œæ–¹æ³•çš„æ—¶å€™ï¼Œå®ƒä»¬ä¹Ÿæ— æ³•é€šè¿‡æ„é€ ç»§æ‰¿è¢«è‡ªåŠ¨æ¬åˆ°å­ç±»é‡Œæ¥ã€‚</p><h2>3. å¤šæ€</h2><p>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œå¤šæ€ï¼ˆPolymorphismï¼‰æŒ‡çš„æ˜¯åŒæ ·çš„æ¥å£ï¼Œæœ‰ç€ä¸åŒçš„å®ç°ã€‚åœ¨ JavaScript ä¸­æ²¡æœ‰ç”¨æ¥è¡¨ç¤ºæ¥å£çš„å…³é”®å­—ï¼Œä½†æ˜¯é€šè¿‡åœ¨ä¸åŒå®ç°ç±»ä¸­å®šä¹‰åŒåçš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ˜“åšåˆ°å¤šæ€çš„æ•ˆæœï¼Œå³åŒåæ–¹æ³•åœ¨ä¸åŒçš„ç±»ä¸­æœ‰ä¸åŒçš„å®ç°ã€‚è€Œç”±äºæ²¡æœ‰ç±»å‹å’Œå‚æ•°çš„å¼ºçº¦æŸï¼Œå®ƒçš„çµæ´»æ€§è¿œå¤§äº Java ç­‰é™æ€è¯­è¨€ã€‚</p><h2>ç†è§£å¯¹è±¡åˆ›å»º</h2><p>åœ¨å¯¹é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾æœ‰äº†ä¸€å®šçš„ç†è§£ä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹å®é™…çš„å¯¹è±¡åˆ›å»ºã€‚ä½ å¯èƒ½ä¼šè¯´ï¼Œå¯¹è±¡åˆ›å»ºä¸æ˜¯ä¸€ä»¶å¾ˆç®€å•çš„äº‹å„¿å—ï¼Œæœ‰ä»€ä¹ˆå¯è®²çš„ï¼Ÿ</p><p>åˆ«æ€¥ï¼ŒJavaScript å’Œä¸€èˆ¬çš„é™æ€è¯­è¨€åœ¨å¯¹è±¡åˆ›å»ºä¸Šæœ‰ç€æ˜æ˜¾çš„ä¸åŒï¼ŒJavaScript å¥‡æ€ªçš„è¡Œä¸ºç‰¹åˆ«å¤šï¼Œè¿˜æ˜¯è®©æˆ‘ä»¬æ¥çœ‹çœ‹å§ã€‚</p><p>åœ¨ Java ç­‰å¤šæ•°é™æ€è¯­è¨€ä¸­ï¼Œæ˜¯ä½¿ç”¨ new å…³é”®å­—åŠ åŸºäºç±»åçš„æ–¹æ³•è°ƒç”¨æ¥åˆ›å»ºå¯¹è±¡ï¼Œä½†æ˜¯å¦‚æœä¸ä½¿ç”¨ new å…³é”®å­—ï¼Œåªä½¿ç”¨åŸºäºç±»åçš„æ–¹æ³•è°ƒç”¨ï¼Œåˆ™ä»€ä¹ˆéƒ½ä¸æ˜¯ï¼Œç¼–è¯‘å™¨ç›´æ¥æŠ¥é”™ã€‚ä½†æ˜¯ JavaScript ä¸åŒï¼Œæˆ‘ä»¬å¯¹äºç±»çš„æ¦‚å¿µå®Œå…¨æ˜¯é€šè¿‡å¼ºå¤§çš„å‡½æ•°ç‰¹æ€§æ¥å®ç°çš„ï¼Œå…ˆçœ‹ä¸‹é¢è¿™ä¸ªå®¹æ˜“æ··æ·†å‡½æ•°è°ƒç”¨å’Œå¯¹è±¡åˆ›å»ºçš„ä¾‹å­ï¼š</p><pre><code>function Book(name) {\n    this.name = name;\n    return this;\n}\nconsole.log(new Book(&quot;Life&quot;).name); // è¾“å‡º Life\nconsole.log(Book(&quot;Life&quot;).name); // ä¹Ÿè¾“å‡º Life\n</code></pre><p>ä½ çœ‹ï¼Œåœ¨ Book() ä¸­ï¼Œæˆ‘ä»¬æœ€ç»ˆè¿”å›äº† thisï¼Œè¿™å°±è®©å®ƒå˜å¾—æ¨¡ç³Šï¼Œè¿™ä¸ª Book() åˆ°åº•æ˜¯ç±»çš„å®šä¹‰ï¼Œè¿˜æ˜¯æ™®é€šå‡½æ•°ï¼ˆæ–¹æ³•ï¼‰å®šä¹‰ï¼Ÿ</p><ul>\n<li>ä»£ç ä¸­ä½¿ç”¨ this å…³é”®å­—æ¥ç»™å¯¹è±¡è‡ªå·±èµ‹å€¼ï¼Œçœ‹èµ·æ¥ Book åº”è¯¥æ˜¯ç±»ï¼Œé‚£ä¹ˆ Book() å…¶å®å°±æ˜¯ç±»çš„æ„é€ å™¨ï¼Œè€Œè¿™ä¸ªèµ‹å€¼æ˜¯å®Œæˆå¯¹è±¡åˆ›å»ºçš„ä¸€éƒ¨åˆ†ï¼›</li>\n<li>å¯æ˜¯å®ƒå±…ç„¶åˆæœ‰è¿”å›ï¼ˆreturn è¯­å¥ï¼‰ï¼Œé‚£ä¹ˆä»è¿™ä¸ªè§’åº¦çœ‹ï¼ŒBook åº”è¯¥æ˜¯æ™®é€šå‡½æ•°å®šä¹‰ï¼Œå‡½æ•°è°ƒç”¨æ˜¾å¼è¿”å›äº†ä¸€ä¸ªå¯¹è±¡ã€‚</li>\n</ul><p>äºæ˜¯ï¼Œæˆ‘ä»¬ä»ä¸Šè¿°æœ€ä¸‹é¢çš„ä¸¤è¡Œä»£ç ä¸­çœ‹åˆ°ï¼Œæ— è®ºä½¿ç”¨ new æ¥åˆ›å»ºå¯¹è±¡ï¼Œè¿˜æ˜¯ä¸ä½¿ç”¨ newï¼ŒæŠŠå®ƒå½“æˆæ™®é€šæ–¹æ³•è°ƒç”¨ï¼Œéƒ½èƒ½å¤Ÿè·å¾—å¯¹è±¡ name å±æ€§çš„å€¼â€œLifeâ€ï¼Œå› æ­¤çœ‹èµ·æ¥ç”¨ä¸ç”¨ new ä¼¼ä¹æ²¡æœ‰åŒºåˆ«å˜›ï¼Ÿ</p><p>å…¶å®ä¸ç„¶ï¼Œæ²¡æœ‰åŒºåˆ«åªæ˜¯ä¸€ä¸ªå‡è±¡ã€‚JavaScript æ˜¯ä¸€ä¸ªç‰¹åˆ«å–„äºåˆ›é€ é”™è§‰çš„ç¼–ç¨‹è¯­è¨€ï¼Œæœ‰è®¸å¤šå¤æ€ªæ— æ¯”â€œå‘â€ç­‰ç€ä½ å»è¸©ï¼Œè€Œè¿™åªæ˜¯å…¶ä¸­ä¸€ä¸ªã€‚æˆ‘ä»¬è¦æ¥è¿›ä¸€æ­¥ç†è§£å®ƒï¼Œå°±å¿…é¡»å»ç†è§£ä»£ç ä¸­çš„ thisï¼Œä¼—æ‰€å‘¨çŸ¥ this å¯ä»¥çœ‹åšæ˜¯å¯¹è±¡å¯¹äºå®ƒè‡ªå·±çš„å¼•ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨æ‰§è¡Œä¸Šè¿°ä¸¤æ­¥æ“ä½œæ—¶ï¼Œthis åˆ†åˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><pre><code>function Book(name) {\n    console.log(this);\n    this.name = name;\n    return this;\n}\nnew Book(&quot;Life&quot;); // æ‰“å° Book {}\nBook(&quot;Life&quot;); // æ‰“å° Window { ... }\nwindow.Book(&quot;Life&quot;) // æ‰“å° Window { ... }\n</code></pre><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘åœ¨ Book() å†…éƒ¨æŠŠ this æ‰“å°å‡ºæ¥äº†ã€‚åŸæ¥ï¼Œåœ¨ä½¿ç”¨ new çš„æ—¶å€™ï¼Œthis æ˜¯åˆ›å»ºçš„å¯¹è±¡è‡ªå·±ï¼›è€Œåœ¨ä¸ä½¿ç”¨ new çš„æ—¶å€™ï¼Œthis æ˜¯æµè§ˆå™¨çš„å†…ç½®å¯¹è±¡ windowï¼Œå¹¶ä¸”ï¼Œè¿™ä¸ªæ•ˆæœå’Œä½¿ç”¨ window è°ƒç”¨ Book() æ˜¯ä¸€æ ·çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>å½“æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªâ€œæ²¡æœ‰å½’å±â€çš„å…¨å±€å‡½æ•°çš„æ—¶å€™ï¼Œè¿™ä¸ªå‡½æ•°çš„é»˜è®¤å®¿ä¸»å°±æ˜¯ window</strong>ã€‚</p><p>å®é™…ä¸Šï¼Œä¸Šè¿°ä¾‹å­åœ¨ä½¿ç”¨ new è¿™ä¸ªå…³é”®å­—çš„æ—¶å€™ï¼ŒJavaScript å¼•æ“å°±å¸®æˆ‘ä»¬åšäº†è¿™æ ·å‡ ä»¶äº‹æƒ…ã€‚</p><p>ç¬¬ä¸€ä»¶ï¼Œåˆ›å»ºä¸€ä¸ª Book çš„å¯¹è±¡ï¼Œæˆ‘ä»¬æŠŠå®ƒå«åš x å§ã€‚<br>\nç¬¬äºŒä»¶ï¼Œç»‘å®šåŸå‹ï¼šx.<strong>proto</strong> = Book.prototypeã€‚<br>\nç¬¬ä¸‰ä»¶ï¼ŒæŒ‡å®šå¯¹è±¡è‡ªå·±ï¼šthis = xï¼Œå¹¶è°ƒç”¨æ„é€ æ–¹æ³•ï¼Œç›¸å½“äºæ‰§è¡Œäº† x.Book()ã€‚<br>\nç¬¬å››ä»¶ï¼Œå¯¹äºæ„é€ å™¨ä¸­çš„ return è¯­å¥ï¼Œæ ¹æ® typeof x === â€˜objectâ€™ çš„ç»“æœæ¥å†³å®šå®ƒå®é™…çš„è¿”å›ï¼š</p><ul>\n<li>å¦‚æœ return è¯­å¥è¿”å›åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå¦‚ stringã€boolean ç­‰ï¼‰ï¼Œè¿™ç§æƒ…å†µ typeof x å°±ä¸æ˜¯â€œobjectâ€ï¼Œé‚£ä¹ˆ new çš„æ—¶å€™æ„é€ å™¨çš„è¿”å›ä¼šè¢«å¼ºåˆ¶æŒ‡å®šä¸º xï¼›</li>\n<li>å¦‚æœ return è¯­å¥è¿”å›å…¶å®ƒç±»å‹ï¼Œå³å¯¹è±¡ç±»å‹ï¼Œè¿™ç§æƒ…å†µ typeof x å°±æ˜¯â€œobjectâ€ï¼Œé‚£ä¹ˆ new çš„æ—¶å€™ä¼šéµå¾ªæ„é€ å™¨çš„å®é™… return è¯­å¥æ¥è¿”å›ã€‚</li>\n</ul><p>å‰é¢ä¸‰ä»¶å…¶å®å¾ˆå¥½ç†è§£ï¼Œæˆ‘ä»¬çš„è¯•éªŒä»£ç ä¹ŸéªŒè¯äº†ï¼›ä½†æ˜¯ç¬¬å››ä»¶ï¼Œç®€ç›´ä»¤äººå´©æºƒå¯¹ä¸å¯¹ï¼Ÿè¿™æ˜¯ä»€ä¹ˆé¬¼è®¾è®¡ï¼Œ<strong>éš¾é“åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ï¼Œè¿˜è¦æ ¹æ®è¿™ä¸ª return å€¼çš„ç±»å‹æ¥å†³å®š new çš„è¡Œä¸ºï¼Ÿ</strong></p><p>å¾ˆé—æ†¾ï¼Œè¯´å¯¹äº†â€¦â€¦æˆ‘ä»¬æ¥æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼š</p><pre><code>function Book1(name) {\n    this.name = name;\n    return 1;\n}\nconsole.log(new Book1(&quot;Life&quot;)); // æ‰“å° Book1 {name: &quot;Life&quot;}\n\nfunction Book2(name) {\n    this.name = name;\n    return [];\n}\nconsole.log(new Book2(&quot;Life&quot;)); // æ‰“å° []\n</code></pre><p>ä½ çœ‹ï¼ŒBook1 çš„æ„é€ å™¨è¿”å›ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„æ•°å€¼ 1ï¼Œnew è¿”å›çš„å°±æ˜¯ Book1 çš„å®ä¾‹å¯¹è±¡æœ¬èº«ï¼›è€Œ Book2 çš„æ„é€ å™¨è¿”å›ä¸€ä¸ªéåŸºæœ¬æ•°å€¼ç±»å‹ []ï¼ˆæ•°ç»„ï¼‰ï¼Œnew è¿”å›çš„å°±æ˜¯è¿™ä¸ªæ•°ç»„äº†ã€‚</p><p>æ­£æ˜¯å› ä¸ºè¿™æ ·é‚£æ ·çš„é—®é¢˜ï¼ŒES5 å¼€å§‹æä¾›äº†ä¸¥æ ¼æ¨¡å¼ï¼ˆStrict Modeï¼‰ï¼Œå¯ä»¥è®©ä»£ç å¯¹ä¸€äº›å¯èƒ½é€ æˆä¸è‰¯åæœçš„ä¸ä¸¥è°¨ã€æœ‰æ­§ä¹‰çš„ç”¨æ³•æŠ¥é”™ã€‚</p><p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬åº”å½“å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œæˆ–æ˜¯ä½¿ç”¨ <a href=\"https://www.typescriptlang.org/\">TypeScript</a> è¿™æ ·çš„ JavaScript è¶…é›†ç­‰ç­‰æ›¿ä»£æ–¹æ¡ˆã€‚å†™ JavaScript ä»£ç çš„æ—¶å€™ï¼Œå¿ƒä¸­è¦éå¸¸æ˜ç¡®è‡ªå·±ä½¿ç”¨ function çš„ç›®çš„ï¼Œæ˜¯åˆ›å»ºä¸€ä¸ªç±»ï¼Œæ˜¯åˆ›å»ºæŸä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œè¿˜æ˜¯åˆ›å»ºä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œå¹¶ä¸”åœ¨å‘½åçš„æ—¶å€™ï¼Œæ ¹æ®é¡¹ç›®çš„çº¦å®šç»™äºˆæ¸…æ™°æ˜ç¡®çš„åå­—ï¼Œçœ‹åˆ°åå­—å°±ç«‹å³å¯ä»¥çŸ¥é“å®ƒæ˜¯ä»€ä¹ˆï¼Œè€Œä¸éœ€è¦è”ç³»ä¸Šä¸‹æ–‡å»æ¨å¯¼ï¼Œç”šè‡³çŒœæµ‹ã€‚</p><p>æ­£ç¡®çš„ä»£ç æ˜¯å†™ç»™æœºå™¨çœ‹çš„ï¼Œä½†æ˜¯ä¼˜ç§€çš„ä»£ç æ˜¯å†™ç»™åˆ«çš„ç¨‹åºå‘˜çœ‹çš„ã€‚</p><h2>æ€»ç»“æ€è€ƒ</h2><p>ä»Šå¤©æˆ‘ä»¬å­¦ä¹ äº† JavaScript é¢å‘å¯¹è±¡çš„å®ç°æ–¹å¼å’Œç›¸å…³çš„é‡è¦ç‰¹æ€§ï¼Œå¸Œæœ›ä½ èƒ½å¤ŸæŒæ¡ä»‹ç»åˆ°çš„çŸ¥è¯†ç‚¹ï¼Œé€šè¿‡æ€è€ƒå’Œå¸æ”¶ï¼Œæœ€ç»ˆå¯ä»¥åœ¨é¡¹ç›®ä¸­å†™å‡ºæ˜“äºç»´æŠ¤çš„é«˜è´¨é‡ä»£ç ã€‚ç°åœ¨ï¼Œæˆ‘æƒ³æä¸¤ä¸ªé—®é¢˜ï¼Œè¯·ä½ æŒ‘æˆ˜ä¸€ä¸‹ï¼š</p><ul>\n<li>åœ¨ä½ ç»å†çš„é¡¹ç›®ä¸­ï¼Œæ˜¯å¦ä½¿ç”¨è¿‡é¢å‘å¯¹è±¡æ¥è¿›è¡Œ JavaScript ç¼–ç ï¼Œé¡¹ç›®çš„ä»£ç è´¨é‡æ˜¯æ€æ ·çš„ï¼Ÿ</li>\n<li>å’Œé™æ€è¯­è¨€ä¸åŒçš„æ˜¯ï¼ŒJavaScript æœ‰å¥½å¤šç§ä¸åŒçš„æ–¹å¼æ¥å®ç°ç»§æ‰¿æ•ˆæœï¼Œé™¤äº†æ–‡ä¸­ä»‹ç»çš„åŸå‹é“¾ç»§æ‰¿å’Œæ„é€ ç»§æ‰¿ä»¥å¤–ï¼Œä½ æ˜¯å¦è¿˜çŸ¥é“å…¶å®ƒçš„ JavaScript ç»§æ‰¿å®ç°æ–¹å¼ï¼Ÿ</li>\n</ul><p>å¥½ï¼Œä»Šå¤©çš„å†…å®¹å°±åˆ°è¿™é‡Œã€‚æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºå’Œæˆ‘è®¨è®ºï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠæ–‡ç« åˆ†äº«å‡ºå»ï¼Œå’Œæœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><h2>é€‰ä¿®è¯¾å ‚ï¼šå½“å‡½æ•°æˆä¸ºä¸€ç­‰å…¬æ°‘</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œæœ‰ä¸€ç§ç»å…¸çš„å­¦ä¹ ä¸€é—¨æ–°è¯­è¨€çš„æ–¹æ³•æ˜¯ç±»æ¯”æ³•ï¼Œæ¯”å¦‚ä» C è¿å…¥ JavaScript çš„ç¨‹åºå‘˜ï¼Œå°±ä¼šä¸ç”±è‡ªä¸»åœ°æ¯”è¾ƒè¿™ä¸¤é—¨è¯­è¨€çš„è¯­æ³•æ˜ å°„ï¼Œä»è€Œå¿«é€ŸæŒæ¡æ–°è¯­è¨€çš„å†™æ³•ã€‚</p><p>ä½†æ˜¯ï¼Œ<strong>ä»…ä»…é€šè¿‡è¯­æ³•æ˜ å°„çš„å­¦ä¹ è€Œè®­ç»ƒå‡ºæ¥çš„ç¨‹åºå‘˜ï¼Œåªæ˜¯èƒ½å†™å‡ºç¬¦åˆ JavaScript è¯­æ³•çš„ C è¯­è¨€è€Œå·²ï¼Œæœ¬è´¨ä¸Šå†™çš„ä»£ç ä¾ç„¶æ˜¯ C</strong>ã€‚å› æ­¤ï¼Œåœ¨ç±»æ¯”ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜è¦æ€è€ƒå’Œä½¿ç”¨ JavaScript ä¸ä¸€æ ·çš„æ ¸å¿ƒç‰¹æ€§ï¼Œæ¯”å¦‚æ¥ä¸‹å»è¦ä»‹ç»çš„å‡½æ•°â€œä¸€ç­‰å…¬æ°‘â€åœ°ä½ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç†è§£ï¼Œä½•ä¸ºâ€œå‡½æ•°æˆä¸ºä¸€ç­‰å…¬æ°‘â€ã€‚è¿™æŒ‡çš„æ˜¯ï¼Œ<strong>å‡½æ•°å¯ä»¥ä¸ä¾é™„äºä»»ä½•ç±»æˆ–å¯¹è±¡ç­‰å®ä½“è€Œç‹¬ç«‹å­˜åœ¨ï¼Œå®ƒå¯ä»¥å•ç‹¬ä½œä¸ºå‚æ•°ã€å˜é‡æˆ–è¿”å›å€¼åœ¨ç¨‹åºä¸­ä¼ é€’ã€‚</strong></p><p>å›æƒ³ Java è¯­è¨€ï¼Œå¦‚æœ Book è¿™ä¸ªç±»ï¼Œæœ‰ä¸€ä¸ªæ–¹æ³• getName()ï¼Œè¿™ä¸ªæ–¹æ³•å¿…é¡»ä¾é™„äº Book è€Œå­˜åœ¨ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å¿…é¡»ä½¿ç”¨ Book æˆ–å®ƒçš„å¯¹è±¡æ‰èƒ½è°ƒç”¨ã€‚è¿™å°±æ˜¯è¯´ï¼ŒJava ä¸­çš„å‡½æ•°æˆ–æ–¹æ³•ï¼Œæ— æ³•æˆä¸ºä¸€ç­‰å…¬æ°‘ã€‚å¯ JavaScript å®Œå…¨ä¸åŒäº†ï¼Œä½ å¯èƒ½è¿˜è®°å¾—ä¸Šæ–‡ä¸­å‡ºç°äº†è¿™æ ·çš„è°ƒç”¨ï¼š</p><pre><code>Base1.call(this, name);\n</code></pre><p>Base1 å®é™…æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè€Œå‡½æ•°çš„å®¿ä¸»å¯¹è±¡ this è¢«å½“ä½œå‚æ•°ä¼ è¿›å»äº†ï¼Œåé¢çš„ name åˆ™æ˜¯è°ƒç”¨å‚æ•°ï¼Œè¿™ç§ä»¥å‡½æ•°ä¸ºæ ¸å¿ƒçš„æ–¹æ³•è°ƒç”¨ï¼Œåœ¨è®¸å¤šä¼ ç»Ÿçš„é™æ€è¯­è¨€ä¸­æ˜¯å¾ˆéš¾è§åˆ°çš„ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ›´å®Œæ•´çš„ä¾‹å­ï¼š</p><pre><code>function getName() {\n    return this.name;\n}\nfunction Book(name) {\n    this.name = name;\n}\n\nlet book = new Book(&quot;Life&quot;);\nconsole.log(getName.call(book, getName)); // &quot;Life&quot;\n</code></pre><p>ä½ çœ‹ï¼ŒåŒæ ·ä½¿ç”¨ function å…³é”®å­—ï¼ŒgetName æ˜¯å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰ï¼ŒBook æ˜¯ä¹¦è¿™ä¸ªç±»ï¼Œå®ä¾‹åŒ–å¾—åˆ° book ä»¥åï¼Œé€šè¿‡ call å…³é”®å­—è°ƒç”¨ï¼ŒæŠŠ book ä½œä¸º getName() çš„å®¿ä¸»ï¼Œå³å…¶ä¸­çš„ this ä¼ å…¥ï¼Œå¾—åˆ°äº†æˆ‘ä»¬æœŸæœ›çš„å€¼â€œLifeâ€ã€‚</p><p>ä¸Šé¢å°±æ˜¯å¯¹äºå‡½æ•°æˆä¸ºä¸€ç­‰å…¬æ°‘çš„ä¸€ä¸ªç®€å•è¯ é‡Šï¼šä»¥å¾€æˆ‘ä»¬åªèƒ½å…ˆæŒ‡å®šå®¿ä¸»å¯¹è±¡ï¼Œå†æ¥è°ƒç”¨å‡½æ•°ï¼›ç°åœ¨å¯ä»¥åè¿‡æ¥ï¼Œå…ˆæŒ‡å®šå‡½æ•°ï¼Œå†æ¥é€‰æ‹©å®¿ä¸»å¯¹è±¡ï¼Œå®Œæˆè°ƒç”¨ã€‚è¯·æ³¨æ„ï¼Œå‡½æ•°çš„è°ƒç”¨å¿…é¡»è¦æœ‰å®¿ä¸»å¯¹è±¡ï¼Œå¦‚æœä½ ä½¿ç”¨ null æˆ–è€… undefined è¿™æ ·ä¸å­˜åœ¨çš„å¯¹è±¡ï¼Œwindow ä¼šå–è€Œä»£ä¹‹ï¼Œè¢«æŒ‡å®šä¸ºé»˜è®¤çš„å®¿ä¸»å¯¹è±¡ã€‚</p><h2>æ‰©å±•é˜…è¯»</h2><ul>\n<li>å¯¹äºç³»ç»Ÿåœ°å­¦ä¹  ES 6ï¼Œæ¨èé˜…è¯»é˜®ä¸€å³°çš„ç¿»è¯‘ä½œå“ <a href=\"http://es6.ruanyifeng.com/\">ECMAScript 6 å…¥é—¨</a>ã€‚</li>\n<li>æ–‡ä¸­ä»‹ç»äº†ä¸¥æ ¼æ¨¡å¼ï¼ˆStrict Modeï¼‰ï¼Œæ„Ÿå…´è¶£çš„è¯å¯ä»¥çœ‹çœ‹ <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode\">MDN çš„ä»‹ç»</a>ã€‚</li>\n<li>æ–‡ç« å¤šæ¬¡æåˆ°äº†é™æ€è¯­è¨€å’ŒåŠ¨æ€è¯­è¨€ï¼Œæˆ‘æ›¾ç»å†™è¿‡ä¸€ç¯‡æ–‡ç« <a href=\"https://www.raychase.net/2310\">ç¼–ç¨‹èŒƒå‹ï¼šå·¥å…·çš„é€‰æ‹©</a>ï¼Œå¯¹å®ƒä»¬åšäº†ä»‹ç»ï¼Œä¾›ä½ å‚è€ƒã€‚</li>\n<li>å¯¹äºæ–‡ä¸­æåˆ°çš„ instanceof è¿ç®—ç¬¦ï¼Œå¦‚æœä½ æƒ³äº†è§£å®ƒæ˜¯æ€æ ·å®ç°çš„ï¼Œå®ƒå’Œå¯¹è±¡åŸå‹æœ‰ä½•å…³ç³»ï¼Œè¯·å‚é˜… <a href=\"https://www.ibm.com/developerworks/cn/web/1306_jiangjj_jsinstanceof/index.html\">JavaScript instanceof è¿ç®—ç¬¦æ·±å…¥å‰–æ</a>ã€‚</li>\n</ul><p></p>","comments":[{"had_liked":false,"id":248017,"user_name":"Geek_74d3ac","can_delete":false,"product_type":"c1","uid":2068139,"ip_address":"","ucode":"2C8B10614BC910","user_header":"","comment_is_top":false,"comment_ctime":1599982691,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18779851875","product_id":100035501,"comment_content":"è¯´å®è¯å½“ es6 æ”¯æŒ class å…³é”®å­—ä¹‹åï¼Œæˆ‘è§‰å¾—æ²¡æœ‰å¿…è¦è¦æ±‚æ¯ä¸ªäººéƒ½å»ç†è§£ä»¥å‰é‚£äº›å¥‡å¥‡æ€ªæ€ªçš„å®ç°ã€‚<br>è¿™æœ‰ç§èŒ´å­—æœ‰å¤šå°‘å†™æ³•çš„æ„æ€ã€‚<br>æ­£å¦‚è€å¸ˆåœ¨å…¶ä»–ç« èŠ‚æ‰€è¯´ï¼Œæˆ‘ä»¬åº”è¯¥ç†è§£é¢å‘å¯¹è±¡è®¾è®¡å’Œæ€æƒ³çš„æœ¬è´¨ï¼Œè€Œä¸æ˜¯ä»¥çŸ¥é“ï¼Œç”¨åŸæœ¬æ®‹ç¼ºçš„jsè¯­æ³•æœ‰å¤šå°‘ç§æ–¹å¼æ¨¡æ‹Ÿç»§æ‰¿å®ç°è€Œæ²¾æ²¾è‡ªå–œã€‚","like_count":5},{"had_liked":false,"id":144371,"user_name":"å’•å½å’•å½","can_delete":false,"product_type":"c1","uid":1023333,"ip_address":"","ucode":"628DE6B1008D3A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9d/65/ef4fc8e1.jpg","comment_is_top":false,"comment_ctime":1571905520,"is_pvip":false,"replies":[{"id":"55715","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å››ç«","uid":"1580075","ctime":1571972828,"ip_address":"","comment_id":144371,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5866872816","product_id":100035501,"comment_content":"1ï¼Œç»´æŠ¤è¿‡åŸºäºbackboneæ¡†æ¶çš„é¡¹ç›®ï¼Œè¯¥æ¡†æ¶æä¾›äº†å¾ˆå¤šç±»ï¼Œæ¯”å¦‚Backbone.Modelï¼ŒBackbone.Controllerï¼ŒBackbone.View -ï¼ˆMVCï¼‰ã€‚åŸºäºè¿™äº›ç±»åˆ›å»ºå¯¹è±¡ï¼Œé‡‡ç”¨é¢å‘å¯¹è±¡çš„å¼€å‘æ–¹å¼ã€‚å¥½å¤„æ˜¯ï¼šaï¼Œå¤ç”¨ã€‚ bï¼ŒæŠŠçŠ¶æ€å°è£…èµ·æ¥ï¼Œç”±æ–¹æ³•è¿›è¡Œä¿®æ”¹ï¼Œé¿å…å¤šå¤„ä¿®æ”¹ï¼Œå¯¼è‡´æ•°æ®çŠ¶æ€å’ŒUIä¸ä¸€è‡´ã€‚<br>2ï¼Œè¿˜å¯ä»¥æŠŠ åŸå‹é“¾ç»§æ‰¿ å’Œ æ„é€ ç»§æ‰¿ç»„åˆ èµ·æ¥ã€‚<br>function Base(name) {<br>\tthis.name = name;<br>}<br>function Child(name) {<br>\tBase.call(this, name); &#47;&#47; ç¬¬ä¸€æ¬¡è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°<br>}<br><br>Child.prototype = new Base(); &#47;&#47; ç¬¬äºŒæ¬¡è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°<br><br>var c = new Child(&#39;Life&#39;);<br>console.log(c.name); &#47;&#47; &quot;Life&quot;<br>console.log(c instanceof Base); &#47;&#47; true<br><br>å¥½å¤„æ˜¯ç»“åˆäº† åŸå‹é“¾ç»§æ‰¿ å’Œ æ„é€ ç»§æ‰¿ çš„ä¼˜ç‚¹ã€‚<br>åå¤„æ˜¯éœ€è¦è°ƒç”¨ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ã€‚å¦‚æœç»§æ‰¿é“¾å¾ˆé•¿ï¼Œåˆ™å¼€é”€å¾ˆå¤§ï¼Œä»¥2çš„næ¬¡æ–¹å¢é•¿ï¼ˆnæ˜¯ç»§æ‰¿é“¾çš„æ·±åº¦ï¼‰","like_count":2,"discussions":[{"author":{"id":1580075,"avatar":"https://static001.geekbang.org/account/avatar/00/18/1c/2b/2069abe6.jpg","nickname":"å››ç«","note":"","ucode":"E4BED7DCAADD99","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471907,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571972828,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":141475,"user_name":"pyhhou","can_delete":false,"product_type":"c1","uid":1256496,"ip_address":"","ucode":"31EF8D50CF91A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibZVAmmdAibBeVpUjzwId8ibgRzNk7fkuR5pgVicB5mFSjjmt2eNadlykVLKCyGA0GxGffbhqLsHnhDRgyzxcKUhjg/132","comment_is_top":false,"comment_ctime":1571179478,"is_pvip":false,"replies":[{"id":"54765","content":"å› ä¸ºè¿™ä¸ª name æ˜¯ Book çš„å…¥å‚ï¼šfunction Book(name)ï¼Œå®ƒçš„ä¼˜å…ˆçº§æ›´é«˜ã€‚å¦‚æœä½ åœ¨ setName é‡Œé¢èµ‹å€¼ç»™ä¸€ä¸ª Book å…¥å‚ä¸­æ²¡æœ‰å®šä¹‰çš„å˜é‡ï¼Œæ¯”å¦‚ name2ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šæˆä¸ºwindow.name2ï¼Œä¹Ÿå°±æ˜¯ä½ è¯´çš„â€œå…¨å±€å˜é‡â€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å››ç«","uid":"1580075","ctime":1571240250,"ip_address":"","comment_id":141475,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5866146774","product_id":100035501,"comment_content":"1. ES6 ä»¥å JavaScript æä¾›äº† classï¼Œå› æ­¤å‰ç«¯é¢å‘å¯¹è±¡å®ç°çš„ä¸€äº›åŠŸèƒ½éƒ½æ˜¯åŸºäº class äº†ï¼Œæœ‰ class çš„ä»£ç ç›¸æ¯”äºæ²¡æœ‰ class çš„ä»£ç ä¼šæ›´åŠ ç›´è§‚ã€æ˜“æ‡‚<br><br>2. æ›´ä¸ºå¸¸ç”¨çš„ç»§æ‰¿æ–¹å¼æ˜¯ç»„åˆç»§æ‰¿ï¼ˆåŸå‹é“¾+æ„é€ å‡½æ•°ï¼‰ä»¥åŠ å¯„ç”Ÿç»„åˆç»§æ‰¿<br><br>ä¹‹æ‰€ä»¥æœ‰ç»„åˆç»§æ‰¿ï¼Œæ˜¯å› ä¸ºåŸå‹é“¾ç»§æ‰¿çš„æ–¹å¼å’Œæ„é€ å‡½æ•°ç»§æ‰¿çš„æ–¹å¼éƒ½ä¼šå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œè¿™é‡Œæä¸€ä¸ªæ–‡ç« å½“ä¸­æ²¡è¯¦ç»†è®²çš„å†…å®¹ï¼Œå°±æ˜¯å¯¹è±¡å¯»æ‰¾æŸä¸ªæˆå‘˜çš„è¿‡ç¨‹ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦åœ¨ä¸€ä¸ª Book å¯¹è±¡ä¸­å¯»æ‰¾ name è¿™ä¸ªå±æ€§ï¼Œé¦–å…ˆä¼šåœ¨å½“å‰ Book å¯¹è±¡ä¸­å¯»æ‰¾ nameï¼Œæ²¡æ‰¾åˆ°å°±ä¼šå»åˆ° Book çš„ prototypeï¼Œä¹Ÿå°±æ˜¯åŸå‹ä¸­å¯»æ‰¾ nameï¼Œå¦‚æœè¿˜æ²¡æœ‰ï¼Œä¼šç»§ç»­åœ¨ Book çš„åŸºç±»å¯¹è±¡ä¸­å¯»æ‰¾ nameï¼Œç„¶åæ²¡æœ‰çš„è¯ä¼šå»åˆ° Book çš„åŸºç±»å¯¹è±¡çš„åŸå‹ä¸­å¯»æ‰¾ï¼Œä»¥æ­¤ç±»æ¨ã€‚åŸå‹å…¶å®ä¹Ÿæ˜¯å¯¹è±¡ï¼Œä¸€èˆ¬å¤šä¸ªåŒç±»å¯¹è±¡ä¼šæŒ‡å‘åŒä¸€ä¸ªåŸå‹ï¼Œåœ¨åŸå‹é“¾ç»§æ‰¿çš„æ¨¡å¼ä¸­ï¼ŒåŸºç±»åŸå‹é‡Œé¢çš„å±æ€§éƒ½æ˜¯è¢«æ‰€æœ‰å¯¹è±¡å…±åŒ shared çš„ï¼Œè¿™é‡Œï¼Œä½ å¯ä»¥æŠŠåŸå‹é‡Œçš„æˆå‘˜å¯¹æ¯”ç†è§£æˆæ˜¯ Java ç±»ä¸­çš„ static æˆå‘˜ï¼šï¼‰ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸æƒ³è¿™æ ·ï¼Œæˆ‘ä»¬å¸Œæœ›æ¯ä¸ªå¯¹è±¡èƒ½æœ‰è‡ªå·±å”¯ä¸€çš„æˆå‘˜ï¼Œäºæ˜¯æœ‰äº†æ„é€ å‡½æ•°ç»§æ‰¿çš„æ–¹å¼ï¼Œè¿™é‡Œç­‰åŒäºï¼Œå¯¹äºä»»æ„æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œéƒ½å®Œå®Œæ•´æ•´ copy ä¸€ä»½åŸºç±»å¯¹è±¡ï¼Œå®Œå…¨ä¸ç”¨åŸå‹æ¥ç»§æ‰¿ï¼Œä½†æ˜¯ä½ åˆä¼šå‘ç°è¿™é‡Œå…¶å®æ˜¯æœ‰èµ„æºæµªè´¹çš„ï¼Œå¯¹äºä¸€äº› getName() è¿™æ ·çš„å‡½æ•°æˆå‘˜ï¼Œæ²¡æœ‰å¿…è¦ copy å¤šä»½ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†åŸå‹é“¾ç»§æ‰¿çš„æ–¹å¼å’Œæ„é€ å‡½æ•°çš„æ–¹å¼ç»“åˆèµ·æ¥ï¼Œå°†éœ€è¦ share çš„éƒ¨åˆ†ç”¨åŸå‹é“¾çš„æ–¹å¼ç»§æ‰¿ï¼Œéœ€è¦ç‹¬æœ‰çš„éƒ¨åˆ†ç”¨æ„é€ å‡½æ•°çš„æ–¹å¼ç»§æ‰¿ï¼Œè¿™ä¹Ÿå°±æ˜¯ç»„åˆç»§æ‰¿çš„æ–¹å¼ï¼Œå¦å¤–å¯„ç”Ÿç»„åˆç»§æ‰¿ä¹Ÿæ˜¯åŸºäºç»„åˆç»§æ‰¿è¿›è¡Œä¸€ä¸ªå°å°çš„ä¼˜åŒ–ï¼Œæœ¬è´¨è¿˜æ˜¯ä¸€æ ·çš„<br><br><br>æœ€åæä¸€ä¸ªç»†èŠ‚çš„é—®é¢˜ï¼Œæ–‡ç« ä¸­ç¬¬äºŒä¸ªä»£ç å—ä¸­çš„ setName å‡½æ•°ä¸­çš„ name å®šä¹‰å‰å¹¶æ²¡æœ‰åŠ  var æˆ–è€…æ˜¯å…¶ä»–å˜é‡å®šä¹‰ç¬¦ä¿®é¥°ï¼Œåœ¨æ­£å¸¸çš„å‡½æ•°ä¸­ï¼Œname ä¼šæˆä¸ºå…¨å±€å˜é‡ï¼Œä¸ºä»€ä¹ˆåœ¨è¿™å´ä¸æ˜¯è¿™æ ·çš„?<br><br>è°¢è°¢è€å¸ˆ","like_count":1,"discussions":[{"author":{"id":1580075,"avatar":"https://static001.geekbang.org/account/avatar/00/18/1c/2b/2069abe6.jpg","nickname":"å››ç«","note":"","ucode":"E4BED7DCAADD99","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470762,"discussion_content":"å› ä¸ºè¿™ä¸ª name æ˜¯ Book çš„å…¥å‚ï¼šfunction Book(name)ï¼Œå®ƒçš„ä¼˜å…ˆçº§æ›´é«˜ã€‚å¦‚æœä½ åœ¨ setName é‡Œé¢èµ‹å€¼ç»™ä¸€ä¸ª Book å…¥å‚ä¸­æ²¡æœ‰å®šä¹‰çš„å˜é‡ï¼Œæ¯”å¦‚ name2ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šæˆä¸ºwindow.name2ï¼Œä¹Ÿå°±æ˜¯ä½ è¯´çš„â€œå…¨å±€å˜é‡â€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571240250,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1256496,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibZVAmmdAibBeVpUjzwId8ibgRzNk7fkuR5pgVicB5mFSjjmt2eNadlykVLKCyGA0GxGffbhqLsHnhDRgyzxcKUhjg/132","nickname":"pyhhou","note":"","ucode":"31EF8D50CF91A5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":35233,"discussion_content":"æ˜ç™½äº†ï¼Œæ„Ÿè°¢è€å¸ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571244007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140692,"user_name":"Paradiseä¸¶æœ½æœ¨","can_delete":false,"product_type":"c1","uid":1242819,"ip_address":"","ucode":"4E4B8DCC216FAA","user_header":"https://static001.geekbang.org/account/avatar/00/12/f6/c3/926f2da9.jpg","comment_is_top":false,"comment_ctime":1571031608,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5865998904","product_id":100035501,"comment_content":"JavascriptçœŸæ˜¯ä¸€é—¨ç¥å¥‡çš„è¯­è¨€ï¼ŒğŸ¤<br>https:&#47;&#47;stackoverflow.com&#47;questions&#47;7202157&#47;why-does-return-the-string-10 ","like_count":1},{"had_liked":false,"id":249917,"user_name":"å†è§é™›ä¸‹","can_delete":false,"product_type":"c1","uid":1025762,"ip_address":"","ucode":"42170293151A24","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a6/e2/5ce22802.jpg","comment_is_top":false,"comment_ctime":1600851821,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600851821","product_id":100035501,"comment_content":"é‚£ä¹ˆextendså…³é”®å­—å®ç°çš„æ˜¯ä»€ä¹ˆç»§æ‰¿æ–¹å¼å‘¢ï¼ŸåŸå‹é“¾ç»§æ‰¿è¿˜æ˜¯æ„é€ ç»§æ‰¿","like_count":0},{"had_liked":false,"id":141690,"user_name":"æ¨è¶Š","can_delete":false,"product_type":"c1","uid":1651132,"ip_address":"","ucode":"88B933F2096E11","user_header":"https://static001.geekbang.org/account/avatar/00/19/31/bc/4e679d81.jpg","comment_is_top":false,"comment_ctime":1571211508,"is_pvip":false,"replies":[{"id":"54766","content":"ä½ å¯ä»¥å‚è§ https:&#47;&#47;en.wikipedia.org&#47;wiki&#47;First-class_function#Language_support ï¼Œå¦å¤–ï¼Œå³ä¾¿æ˜¯åŒæ ·å·ç§°â€œæ”¯æŒâ€ï¼Œå¯¹äºç¨‹åºå‘˜æ¥è¯´çš„æ˜“ç”¨ç¨‹åº¦ä¹Ÿå¤§ä¸ç›¸åŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å››ç«","uid":"1580075","ctime":1571240426,"ip_address":"","comment_id":141690,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571211508","product_id":100035501,"comment_content":"cè¯­è¨€ä¸å°±æ˜¯å‡½æ•°ä¹Ÿèƒ½æˆä¸ºä¸€ç­‰å…¬æ°‘å˜›ï¼Œä¸ºå•¥è¯´è¿™ç§ç°è±¡åœ¨é™æ€è¯­è¨€ä¸­å¾ˆéš¾è§åˆ°","like_count":0,"discussions":[{"author":{"id":1580075,"avatar":"https://static001.geekbang.org/account/avatar/00/18/1c/2b/2069abe6.jpg","nickname":"å››ç«","note":"","ucode":"E4BED7DCAADD99","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470847,"discussion_content":"ä½ å¯ä»¥å‚è§ https://en.wikipedia.org/wiki/First-class_function#Language_support ï¼Œå¦å¤–ï¼Œå³ä¾¿æ˜¯åŒæ ·å·ç§°â€œæ”¯æŒâ€ï¼Œå¯¹äºç¨‹åºå‘˜æ¥è¯´çš„æ˜“ç”¨ç¨‹åº¦ä¹Ÿå¤§ä¸ç›¸åŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571240426,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140716,"user_name":"é äººå“å»èµ¢","can_delete":false,"product_type":"c1","uid":1301286,"ip_address":"","ucode":"7A20F9EBE847E1","user_header":"https://static001.geekbang.org/account/avatar/00/13/db/26/54f2c164.jpg","comment_is_top":false,"comment_ctime":1571037279,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571037279","product_id":100035501,"comment_content":"è¿™ä¸ªå…³äºå°è£…çš„ä¾‹å­ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥è®¤ä¸ºæ˜¯é¡ºåºæ‰§è¡Œçš„é”…ï¼Œéƒ½å®ä¾‹åŒ–ç»“æœä½ ä¿®æ”¹prototypeï¼Œç ´åäº†åŸå‹é“¾ï¼Œç»“æœå¼„å¾—è°éƒ½ä¸è®¤è¯†ï¼Ÿ","like_count":0},{"had_liked":false,"id":140695,"user_name":"tt","can_delete":false,"product_type":"c1","uid":1489957,"ip_address":"","ucode":"7753B79AD5A9AC","user_header":"https://static001.geekbang.org/account/avatar/00/16/bc/25/1c92a90c.jpg","comment_is_top":false,"comment_ctime":1571032414,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571032414","product_id":100035501,"comment_content":"â€œå› ä¸º Child çš„åŸå‹åœ¨ c ç”Ÿæˆä¹‹åå‘ç”Ÿäº†ç ´åå¹¶é‡å»ºï¼Œå› æ­¤æ— è®º Base è¿˜æ˜¯ Childï¼Œéƒ½å·²ç»å’Œ c æ²¡æœ‰å…³è”äº†ã€‚â€<br><br>æˆ‘å¯¹è¿™å¥è¯çš„ç†è§£æ˜¯:å› ä¸ºJavaScriptçš„ç»§æ‰¿æ˜¯ç»§ç»­å¯¹è±¡çš„ï¼Œé‚£ä¹ˆå½“åŸå‹å¼•ç”¨çš„å¯¹è±¡æˆ–è€…è¯´åŸå‹å¯¹è±¡é‡å»ºåï¼ŒBaseæˆ–Childå¼•ç”¨çš„å¯¹è±¡å·²ç»æ— æ•ˆäº†ï¼Œå½¢æˆäº†ä¸€ä¸ªç±»ä¼¼äºdanglingæŒ‡é’ˆçš„ä¸œè¥¿ã€‚","like_count":0},{"had_liked":false,"id":140638,"user_name":"tt","can_delete":false,"product_type":"c1","uid":1489957,"ip_address":"","ucode":"7753B79AD5A9AC","user_header":"https://static001.geekbang.org/account/avatar/00/16/bc/25/1c92a90c.jpg","comment_is_top":false,"comment_ctime":1571019775,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571019775","product_id":100035501,"comment_content":"è®°ç¬”è®°ã€‚<br><br>ä¸ºä»€ä¹ˆç¬¬ä¸€ä¸ªå®ç°äº†ç§æœ‰å˜é‡çš„ä»£ç è¯´æ˜¯åˆ©ç”¨äº†é—­åŒ…å‘¢ï¼Ÿ<br>è¯·æ³¨æ„ï¼Œè¿™é‡Œçš„ä»£ç å¹¶æ²¡æœ‰ä½¿ç”¨classå…³é”®å­—ï¼Œè€Œæ˜¯ä½¿ç”¨æœ€åŸå§‹çš„functionå®ç°äº†ç±»ã€‚<br><br>1ã€getNameå’ŒsetNameä»»ç„¶æ˜¯å‡½æ•°ä¸­çš„å‡½æ•°ã€‚<br>è™½ç„¶è¿™é‡Œå®ƒä»¬æ²¡æœ‰è¢«æ˜¾å¼åœ°è¿”å›ï¼Œä½†è¢«æŒ‚åœ¨äº†thisä¸Šï¼Œå¯ä»¥é€šè¿‡å¯¹è±¡è°ƒç”¨å®ƒä»¬ï¼Œå’Œæ™®é€šå‡½æ•°ä¸­ç›´æ¥è¿”å›å‡½æ•°æ˜¯ä¸€æ ·çš„ã€‚<br><br>2ã€æŒ‚åœ¨thisä¸Šå°±æ˜¯æˆå‘˜å‡½æ•°äº†ã€‚å®ƒä»¬è®°ä½äº†å¤–å›´å‡½æ•°çš„å˜é‡nameçš„å€¼ã€‚<br><br>ä»¥ä¸Šä¸¤ç‚¹è¯æ˜äº†å®ƒä»¬å°±æ˜¯é—­åŒ…ã€‚","like_count":0},{"had_liked":false,"id":140618,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1571017438,"is_pvip":false,"replies":[{"id":"54763","content":"å…¶å® JavaScript æœ¬èº«ä¸€ç›´ä»¥æ¥å°±æ˜¯åŸºäºå¯¹è±¡çš„ç»§æ‰¿çš„ï¼Œæ‰€è°“çš„ class å…³é”®å­—åªæ˜¯åæ¥æ·»åŠ çš„è¯­æ³•ç³–è€Œå·²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å››ç«","uid":"1580075","ctime":1571239604,"ip_address":"","comment_id":140618,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1571017438","product_id":100035501,"comment_content":"è€å¸ˆä½ å¥½ï¼Œé—®ä¸ªé—®é¢˜ï¼Œå¯¹è±¡ç»§æ‰¿æ˜¯ä»€ä¹ˆï¼Œæœ‰ç›¸å…³çš„èµ„æ–™å¯ä»¥çœ‹ä¸€ä¸‹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1580075,"avatar":"https://static001.geekbang.org/account/avatar/00/18/1c/2b/2069abe6.jpg","nickname":"å››ç«","note":"","ucode":"E4BED7DCAADD99","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470473,"discussion_content":"å…¶å® JavaScript æœ¬èº«ä¸€ç›´ä»¥æ¥å°±æ˜¯åŸºäºå¯¹è±¡çš„ç»§æ‰¿çš„ï¼Œæ‰€è°“çš„ class å…³é”®å­—åªæ˜¯åæ¥æ·»åŠ çš„è¯­æ³•ç³–è€Œå·²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571239604,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1583321,"avatar":"https://static001.geekbang.org/account/avatar/00/18/28/d9/78dfd983.jpg","nickname":"sky","note":"","ucode":"29692959077496","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37559,"discussion_content":"æ—¢ç„¶æ˜¯è¯­æ³•ç³–ï¼Œé‚£ä¹ˆæœ€ç»ˆè¿˜æ˜¯è½¬æˆä¼ ç»Ÿçš„ä»£ç äº†ï¼Ÿ\nè€å¸ˆè¦å¯¹æ¯”è®²ä¸€ä¸‹ES6åœ¨å®è·µä¸­çš„åº”ç”¨å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571634596,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140614,"user_name":"joker","can_delete":false,"product_type":"c1","uid":1501088,"ip_address":"","ucode":"4305206A1FE5EC","user_header":"https://static001.geekbang.org/account/avatar/00/16/e7/a0/9a962a74.jpg","comment_is_top":false,"comment_ctime":1571016276,"is_pvip":true,"replies":[{"id":"54761","content":"å¯ä»¥å‚é˜… MDN æ•™ç¨‹ https:&#47;&#47;developer.mozilla.org&#47;zh-CN&#47;docs&#47;Web&#47;JavaScript&#47;Inheritance_and_the_prototype_chain","user_name":"ä½œè€…å›å¤","user_name_real":"å››ç«","uid":"1580075","ctime":1571238861,"ip_address":"","comment_id":140614,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571016276","product_id":100035501,"comment_content":"é¢è¯•æœ‰é—®åŸå‹é“¾çš„ï¼Œè€å¸ˆæ‚¨èƒ½ç»™è®²ä¸€ä¸‹ä¸","like_count":0,"discussions":[{"author":{"id":1580075,"avatar":"https://static001.geekbang.org/account/avatar/00/18/1c/2b/2069abe6.jpg","nickname":"å››ç«","note":"","ucode":"E4BED7DCAADD99","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470469,"discussion_content":"å¯ä»¥å‚é˜… MDN æ•™ç¨‹ https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571238861,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
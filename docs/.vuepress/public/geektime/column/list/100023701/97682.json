{"id":97682,"title":"38 | æ—¥å¿—ç®¡ç†ï¼šå¦‚ä½•å€ŸåŠ©å·¥å…·å¿«é€Ÿå‘ç°å’Œå®šä½äº§å“é—®é¢˜ ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å®ç‰ã€‚åœ¨å¼€å§‹å­¦ä¹ ä¹‹å‰æˆ‘æƒ³å…ˆé—®ä½ å‡ ä¸ªé—®é¢˜ï¼š</p><ul>\n<li>å¦‚æœä½ çš„ç½‘ç«™æˆ–è€…æœåŠ¡å‡ºç°æ•…éšœï¼Œæ˜¯è°ç¬¬ä¸€æ—¶é—´å‘ç°é—®é¢˜çš„ï¼Ÿç”¨æˆ·è¿˜æ˜¯è¿ç»´äººå‘˜ï¼Ÿ</li>\n<li>å‡è®¾ä½ çš„æœåŠ¡æ¶æ„æ˜¯ç”±è‹¥å¹²å¾®æœåŠ¡ç»„æˆçš„ï¼Œå…¶ä¸­ä¸€ä¸ªå¾®æœåŠ¡çš„å¼‚å¸¸å¯¼è‡´äº†ä½ çš„æŸä¸ªAPIè¯·æ±‚å¼‚å¸¸ï¼Œä½ æ˜¯å¦èƒ½å¿«é€Ÿå®šä½åˆ°æ˜¯å“ªä¸ªå¾®æœåŠ¡å‡ºäº†é—®é¢˜ï¼Ÿ</li>\n<li>åœ¨éƒ¨ç½²ç³»ç»Ÿåï¼Œä½ æ˜¯å¦èƒ½è§‚å¯Ÿå‡ºæ¥ç³»ç»Ÿçš„æ€§èƒ½æ˜¯ä¸Šå‡äº†è¿˜æ˜¯ä¸‹é™äº†ï¼Ÿ</li>\n</ul><p>å¦‚æœä½ è‡ªå·±å¯¹è¿™äº›é—®é¢˜çš„ç­”æ¡ˆä¸æ˜¯å¾ˆæ»¡æ„ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ¥çœ‹çœ‹ï¼Œå¦‚ä½•å€ŸåŠ©ç›‘æ§å’Œæ—¥å¿—åˆ†æå·¥å…·ï¼Œæˆ–è€…è¯´æ—¥å¿—ç®¡ç†å·¥å…·ï¼Œç¬¬ä¸€æ—¶é—´å‘ç°çº¿ä¸Šé—®é¢˜ï¼Œä»¥åŠå¿«é€Ÿå®šä½äº§å“é—®é¢˜ã€‚</p><h2>ä»€ä¹ˆæ˜¯æ—¥å¿—ç®¡ç†ï¼Ÿ</h2><p>è¦ç†è§£ä¸Šé¢æåˆ°çš„è¿™äº›é—®é¢˜ï¼Œé¦–å…ˆä½ è¦æ¸…æ¥šï¼Œä»€ä¹ˆæ˜¯æ—¥å¿—ç®¡ç†ã€‚</p><p>æ—¥å¿—å°±æ˜¯æ“ä½œç³»ç»Ÿå’Œåº”ç”¨è½¯ä»¶è‡ªåŠ¨ç”Ÿæˆçš„äº‹ä»¶è¯´æ˜æˆ–è€…æ¶ˆæ¯è®°å½•ï¼ŒåŒ…å«äº†æ—¶é—´ã€æ—¥å¿—ä¿¡æ¯ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œä¸‹é¢å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„Webè¯·æ±‚æ—¥å¿—ï¼š</p><blockquote>\n<p>10.0.1.22 â€“ â€“ [15/Oct/2018:13:46:46 -0700] â€œGET /favicon.ico HTTP/1.1â€ 404<br>\n10.0.1.22 â€“ â€“ [15/Oct/2018:13:46:58 -0700] â€œGET / HTTP/1.1â€ 200</p>\n</blockquote><p>ä»ä¸Šé¢çš„æ—¥å¿—ä¸­ï¼Œå¯ä»¥çœ‹å‡ºæ¥ï¼Œæ—¥å¿—åŒ…å«ä¸¤æ¬¡httpè¯·æ±‚ï¼Œå®ƒä»¬å‘ç”Ÿçš„æ—¶é—´ã€è¯·æ±‚çš„URLã€è¯·æ±‚çš„IPåœ°å€ã€æœ€åè¿”å›çš„çŠ¶æ€ç ç­‰ä¿¡æ¯ã€‚</p><!-- [[[read_end]]] --><p>åœ¨æ—¥å¿—æ•°é‡ä¸å¤šçš„æ—¶å€™ï¼Œå‡­å€Ÿè‚‰çœ¼æˆ–è€…å€ŸåŠ©æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œè¿˜èƒ½å¤§æ¦‚çœ‹å‡ºæ—¥å¿—çš„å†…å®¹ï¼Œä½†æ˜¯å½“æ—¥å¿—æ•°é‡ä¸€å¤šï¼Œä»æ—¥å¿—é‡Œé¢æŸ¥æ‰¾éœ€è¦çš„ä¿¡æ¯å°±å˜å¾—å¾ˆå›°éš¾äº†ã€‚</p><p>ç°åœ¨çš„åº”ç”¨ç¨‹åºè¶Šæ¥è¶Šå¤æ‚äº†ï¼Œå°¤å…¶æ˜¯åƒå¾®æœåŠ¡è¿™æ ·çš„æ¶æ„ï¼Œä¸€ä¸ªç³»ç»Ÿéœ€è¦ç”±è‹¥å¹²å¾®æœåŠ¡ç»„æˆï¼Œæ¯ä¸ªå¾®æœåŠ¡å¯èƒ½è¿˜ä¼šéƒ¨ç½²åœ¨è‹¥å¹²å®¹å™¨ä¸Šï¼Œé‚£ä¹ˆæ„å‘³ç€å¦‚æœä½ è¦æ ¹æ®æ—¥å¿—å»æ’æŸ¥æ•…éšœçš„è¯ï¼Œéœ€è¦ä»å‡ åã€ä¸Šç™¾ä¸ªåœ°æ–¹å»æ”¶é›†æ—¥å¿—ï¼Œå†é€ä¸ªå»åˆ†æã€‚</p><p>è¦è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œå°±éœ€è¦å¯¹æ—¥å¿—è¿›è¡Œç»Ÿä¸€ç®¡ç†ã€‚æ—¥å¿—ç®¡ç†å°±æ˜¯æŒ‡å¯¹ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºäº§ç”Ÿçš„æ—¥å¿—è¿›è¡Œå¤„ç†çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬å¯¹æ—¥å¿—è¿›è¡Œç»Ÿä¸€æ”¶é›†ï¼Œå¯¹æ—¥å¿—æ•°æ®è¿›è¡Œç­›é€‰å’Œè§£æï¼Œç»Ÿä¸€å­˜å‚¨ï¼Œè¿˜è¦è®©å®ƒä»¬å¯ä»¥æ–¹ä¾¿è¢«æ£€ç´¢ã€‚</p><p>å½“ç„¶ä½ ä¸éœ€è¦è‡ªå·±å»ä»å¤´å®ç°è¿™æ ·çš„æ—¥å¿—ç®¡ç†ç³»ç»Ÿï¼Œç°åœ¨å·²ç»æœ‰å¾ˆå¤šæˆç†Ÿçš„æ—¥å¿—ç®¡ç†å·¥å…·å¯ä»¥å¸®åŠ©ä½ å¯¹æ—¥å¿—è¿›è¡Œç®¡ç†ï¼Œä½ åªè¦å»äº†è§£è¿™äº›å·¥å…·å¯ä»¥å¸®åŠ©ä½ åšä»€ä¹ˆï¼Œä»¥åŠå¦‚ä½•åŸºäºå®ƒä»¬æ¥æ­å»ºé€‚åˆä½ é¡¹ç›®çš„æ—¥å¿—ç®¡ç†ç³»ç»Ÿå³å¯ã€‚</p><h2>å¦‚ä½•å¿«é€Ÿå‘ç°å’Œå®šä½é—®é¢˜ï¼Ÿ</h2><p>ä¹Ÿè®¸ä½ ä¼šé—®ï¼Œä¸ºä»€ä¹ˆè¯´æ­å»ºäº†æ—¥å¿—ç®¡ç†ç³»ç»Ÿï¼Œå°±å¯ä»¥å¸®åŠ©å¿«é€Ÿå‘ç°å’Œå®šä½é—®é¢˜å‘¢ï¼Ÿ</p><p><strong>é¦–å…ˆï¼Œæ—¥å¿—é›†ä¸­å¼ç®¡ç†åï¼Œå°±å¯ä»¥æ–¹ä¾¿åœ°å¯¹æ‰€æœ‰æ—¥å¿—è¿›è¡Œç»Ÿä¸€çš„æ£€ç´¢ã€‚</strong>å½“æ‰€æœ‰æ—¥å¿—éƒ½å¯ä»¥æ”¾åœ¨ä¸€èµ·æ£€ç´¢äº†ï¼Œè‡ªç„¶å°±èƒ½é«˜æ•ˆåœ°å®šä½åˆ°é—®é¢˜ï¼Œè€Œä¸å†éœ€è¦åˆ°å„ä¸ªåº”ç”¨ç¨‹åºçš„æ—¥å¿—é‡Œé¢å»åˆ†åˆ«æ£€ç´¢ã€‚</p><p>åŒæ—¶åœ¨æ£€ç´¢çš„æ–¹å¼ä¸Šï¼Œå¯ä»¥ç”¨ç±»ä¼¼äºSQLè¯­å¥çš„æ–¹å¼æ¥æ£€ç´¢ï¼Œé«˜æ•ˆåœ°å¯¹ç»“æœè¿›è¡ŒæŸ¥è¯¢å’Œå½’ç±»ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/fb/3b/fbde7467c94ecb5cc2eea0091e487b3b.png?wh=1920*1035\" alt=\"\" title=\"å›¾ç‰‡æ¥æºï¼šSplunk\"></p><p><strong>ç„¶åï¼Œå¯¹æ—¥å¿—è¿›è¡Œé›†ä¸­å¼ç®¡ç†åï¼Œå¯ä»¥é€šè¿‡å›¾è¡¨ç›´è§‚çš„çœ‹åˆ°åº”ç”¨è¿è¡Œæƒ…å†µã€‚</strong>å½“æ‰€æœ‰çš„åº”ç”¨å®æ—¶å°†æ—¥å¿—ä¼ è¾“åˆ°ä¸€èµ·ï¼Œæ—¥å¿—ç®¡ç†ç³»ç»Ÿå°±å¯ä»¥æ ¹æ®åº”ç”¨æ—¥å¿—ä¸­è®°å½•çš„ä¿¡æ¯ï¼ŒåŠ¨æ€åœ°ç”Ÿæˆå›¾è¡¨ï¼Œå®æ—¶çœ‹åˆ°åº”ç”¨è¿è¡Œçš„æƒ…å†µã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼ŒæŸä¸€ä¸ªAPIæœåŠ¡ï¼Œæ—¥å¿—ä¿¡æ¯è®°å½•äº†æ¯ä¸€æ¬¡Httpè¯·æ±‚çš„çŠ¶æ€ã€è€—è´¹æ—¶é—´ç­‰ä¿¡æ¯ã€‚</p><blockquote>\n<p>127.0.0.1 [10/Oct/2018:13:55:36 -0700] \"GET /api HTTP/1.1â€ 200 2326 0.038</p>\n</blockquote><p>é‚£ä¹ˆæŠŠè¿™äº›ä¿¡æ¯ç»Ÿä¸€æ”¶é›†ã€å®æ—¶ç»Ÿè®¡çš„è¯ï¼Œå°±å¯ä»¥éšæ—¶çœ‹åˆ°å•ä½æ—¶é—´å†…ï¼Œè¿™ä¸ªAPIé”™è¯¯ç‡æœ‰å¤šå°‘ï¼Œå¹³å‡è€—æ—¶å¤šä¹…ï¼Œä»è€Œå¯ä»¥æ ¹æ®è¿™æ ·çš„ä¿¡æ¯ç”Ÿæˆå®æ—¶çš„å›¾è¡¨ï¼Œæ–¹ä¾¿æŸ¥çœ‹å½“å‰APIæœåŠ¡çš„è¿è¡Œæƒ…å†µã€‚</p><p><a href=\"http://docs.wavefront.com/nginx.html#nginx-integration\"><img src=\"https://static001.geekbang.org/resource/image/7a/48/7a84fb0c28aa75b47f87b4a1b8fe0948.png?wh=1913*1592\" alt=\"\" title=\"å›¾ç‰‡æ¥æºï¼šWaveFront\"></a></p><p><strong>æœ€åï¼Œå¯ä»¥æ ¹æ®æ—¥å¿—çš„æ•°å€¼è®¾ç½®è§„åˆ™è‡ªåŠ¨æŠ¥è­¦ã€‚</strong>å¯¹äºè¿™äº›ä»æ—¥å¿—ä¸­å®æ—¶åˆ†æå‡ºæ¥çš„æ•°æ®ç»“æœï¼Œå¦‚æœè®¾ç½®å¥½ç›¸åº”çš„é˜ˆå€¼ï¼Œåœ¨è¶…è¿‡é˜ˆå€¼åï¼Œæ¯”å¦‚è¯´APIé”™è¯¯ç‡è¶…è¿‡10%ï¼Œæˆ–è€…90%çš„APIè¯·æ±‚æ—¶é—´è¶…è¿‡1ç§’ï¼Œå°±ä¼šè‡ªåŠ¨è§¦å‘æŠ¥è­¦ï¼Œé€šçŸ¥ç›¸å…³çš„å¼€å‘äººå‘˜è¿›è¡Œç»´æŠ¤ã€‚</p><p>æ‰€ä»¥ä½ çœ‹ï¼Œå½“ä½ æ­å»ºå¥½ä¸€æ•´å¥—æ—¥å¿—ç®¡ç†ç³»ç»Ÿåï¼Œä¸ä»…å¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿåœ°å¯¹æ—¥å¿—è¿›è¡Œæ£€ç´¢ï¼Œä½ ä¹Ÿå¯ä»¥æ ¹æ®å›¾è¡¨çœ‹æ•°æ®èµ°åŠ¿ï¼Œè¿˜å¯ä»¥é€šè¿‡å¯¹æ—¥å¿—åˆ†æç»“æœçš„ç›‘æ§ï¼Œè®¾ç½®è‡ªåŠ¨æŠ¥è­¦çš„è§„åˆ™ï¼Œç¬¬ä¸€æ—¶é—´äº†è§£ç³»ç»Ÿæ•…éšœã€‚</p><h2>å¤§å‚çš„æ—¥å¿—ç®¡ç†ç³»ç»Ÿçš„æ¶æ„æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ</h2><p>ç°åœ¨å¯¹äºåƒé˜¿é‡Œã€æ–°æµªè¿™æ ·çš„å¤§å‚æ¥è¯´ï¼Œå¯¹æ—¥å¿—ç®¡ç†ç³»ç»Ÿçš„åº”ç”¨å·²ç»æ˜¯æ ‡é…äº†ï¼Œæ¯”å¦‚è¯´é˜¿é‡Œäº‘ï¼šã€Š<a href=\"http://yq.aliyun.com/articles/590431\">åŸºäºELKå®æ—¶æ—¥å¿—åˆ†æçš„æœ€ä½³å®è·µ</a>ã€‹ã€æ–°æµªï¼šã€Š<a href=\"http://chuansongme.com/n/1979684\">ELK Stackåœ¨æ–°æµªå¾®åšçš„æœ€ä½³å®è·µ</a>ã€‹ã€ã€Š<a href=\"http://www.open-open.com/lib/view/open1437018728240.html\">æ–°æµªæ˜¯å¦‚ä½•åˆ†æå¤„ç†32äº¿æ¡å®æ—¶æ—¥å¿—çš„ï¼Ÿ</a>ã€‹ï¼Œä¸ƒç‰›ï¼šã€Š<a href=\"http://juejin.im/post/5b63e859e51d4517c564d1a9\">å¦‚ä½•å¿«é€Ÿæ­å»ºæ™ºèƒ½åŒ–çš„ç»Ÿä¸€æ—¥å¿—ç®¡ç†ç³»ç»Ÿ</a>ã€‹ã€‚</p><p>å¯ä»¥çœ‹å¾—å‡ºï¼Œå¾ˆå¤šå¤§å‚æ˜¯åŸºäºELKæ­å»ºçš„è‡ªå·±çš„æ—¥å¿—ç®¡ç†ç³»ç»Ÿï¼Œè€ŒELKçš„æ¶æ„ä¹Ÿæ˜¯ä¸€å¥—ç»å…¸çš„æ—¥å¿—ç®¡ç†çš„æ¶æ„ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘å°±ä»¥ELKä¸ºä¾‹æ¥è¯´æ˜æ—¥å¿—ç®¡ç†ç³»ç»Ÿçš„åŸºæœ¬æ¶æ„ã€‚</p><p>å…ˆè§£é‡Šä¸€ä¸‹ELKï¼š</p><blockquote>\n<p>ELK æ˜¯Elasticsearch+Logstash+Kibanaçš„ç¼©å†™ã€‚<br>\nElasticSearchæ˜¯ä¸€å¥—æœç´¢æ¡†æ¶ï¼Œæä¾›äº†æ–¹ä¾¿çš„æ¥å£ï¼Œå¯ä»¥æ–¹ä¾¿åœ°åšå…¨æ–‡æ£€ç´¢ï¼Œå¯ä»¥ç”¨æ¥å¯¹æ—¥å¿—è¿›è¡Œæ£€ç´¢ã€‚<br>\nLogstashæ˜¯ä¸€ä¸ªæ•°æ®æ”¶é›†å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æ”¶é›†æ—¥å¿—æ•°æ®ã€‚<br>\nKibanaæ˜¯ä¸€å¥—å¯ä»¥å’ŒElasticSearchäº¤äº’çš„ç•Œé¢ï¼Œé€šè¿‡Kibanaå¯ä»¥æ–¹ä¾¿çš„æ£€ç´¢ElasticSearchå†…çš„æ‰€æœ‰æ•°æ®ï¼Œè¿˜å¯ä»¥ç”¨å›¾å½¢åŒ–çš„æ–¹å¼å±•ç¤ºæ•°æ®ç»“æœã€‚</p>\n</blockquote><p>åŸºäºELKæ­å»ºçš„æ—¥å¿—ç®¡ç†ç³»ç»ŸåŸºæœ¬æ¶æ„æ˜¯è¿™æ ·çš„ï¼š</p><p><a href=\"http://bingoarun.github.io/openstack-log-analysis-elk.html\"><img src=\"https://static001.geekbang.org/resource/image/b9/f8/b9b53220894009769f5bcb031b7c0cf8.png?wh=1221*606\" alt=\"\"> â€œå›¾ç‰‡æ¥æºï¼šOpenstack log analysis using ELKâ€</a></p><p>è¿™å¥—æ¶æ„æœ‰å‡ ä¸ªé‡è¦çš„æ¨¡å—ï¼šæ—¥å¿—é‡‡é›†å’Œè§£æã€å­˜å‚¨å’Œæœç´¢ã€ç»“æœå¯è§†åŒ–ã€ç›‘æ§å’ŒæŠ¥è­¦ã€‚</p><ul>\n<li>æ—¥å¿—é‡‡é›†å’Œè§£æ</li>\n</ul><p>è¦æƒ³å¯¹æ—¥å¿—è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œå°±å¿…é¡»è¦ä»å„ä¸ªåº”ç”¨ç³»ç»Ÿæ”¶é›†æ—¥å¿—ã€‚Logstashå°±å¯ä»¥å¸®åŠ©å®ç°å¯¹æ—¥å¿—çš„é‡‡é›†ã€‚</p><p>å¦‚æœæ—¥å¿—æ–‡ä»¶åªæ˜¯ä¸€è¡Œè¡Œå¸¦æ—¶é—´æˆ³çš„æ–‡æœ¬ï¼Œé‚£å…¶å®æ˜¯æ— æ³•æœ‰æ•ˆæ£€ç´¢çš„ï¼Œå¿…é¡»å°†å…¶è§£ææˆç»“æ„åŒ–çš„æ•°æ®ï¼Œæ‰èƒ½æ–¹ä¾¿åœ°æ£€ç´¢ã€‚</p><p>å¦å¤–ï¼Œä¸€å¥—ç³»ç»Ÿå¯èƒ½ç”±ä¸åŒçš„åº”ç”¨ç±»å‹ç»„æˆï¼Œæœ‰çš„æ˜¯Javaå†™çš„ï¼Œæœ‰çš„æ˜¯Goå†™çš„ï¼Œæ—¥å¿—æ ¼å¼å¯èƒ½å®Œå…¨æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¿˜æœ‰å¿…è¦åœ¨å¯¹æ—¥å¿—è§£æåï¼Œæå–å…¬å…±å…ƒç´ ï¼Œæ¯”å¦‚æ—¶é—´ã€IPåœ°å€ã€ä¸»æœºåã€åº”ç”¨åç§°ç­‰ã€‚</p><p>Logstashä¸ä»…å¯ä»¥å¯¹æ—¥å¿—æ•°æ®è¿›è¡Œæ”¶é›†ï¼Œè¿˜èƒ½å¯¹æ—¥å¿—æ•°æ®è¿›è¡Œè¿‡æ»¤å’Œè§£æï¼Œè§£æå®Œæˆåå†å°†è§£æå¥½çš„æ•°æ®å‘é€ç»™ElasticSearchã€‚</p><ul>\n<li>å­˜å‚¨å’Œæœç´¢</li>\n</ul><p>å½“æ‰€æœ‰çš„æ—¥å¿—æ•°æ®éƒ½è¢«é›†ä¸­å­˜å‚¨åï¼Œå¯ä»¥æƒ³è±¡è¿™ä¸ªæ—¥å¿—æ•°æ®åº“æ˜¯ç›¸å½“åºå¤§çš„ï¼Œç›´æ¥æŸ¥è¯¢æ•ˆç‡æ˜¯æ¯”è¾ƒä½ä¸‹çš„ï¼Œè¿™å°±æ„å‘³ç€è¿˜éœ€è¦å¯¹æ—¥å¿—æ•°æ®è¿›è¡Œç´¢å¼•å’Œåˆ†æï¼Œä»è€Œè®©ä½ å¯ä»¥å¿«é€Ÿåœ°æ£€ç´¢å‡ºæ¥ç»“æœã€‚</p><p>ElasticSearchå°±æ˜¯ä¸€å¥—ä¸“ä¸šçš„å…¨æ–‡æ£€ç´¢å’Œæ•°æ®å­˜å‚¨ç³»ç»Ÿï¼ŒåŒæ—¶è¿˜æœ‰ä¸€å¥—ç±»ä¼¼äºSQLçš„æŸ¥è¯¢è¯­å¥ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åŸºäºå®ƒï¼Œæ–¹ä¾¿å¯¹æ”¶é›†å¥½çš„æ—¥å¿—æ•°æ®è¿›è¡Œæ£€ç´¢äº†ã€‚</p><p>ä½†ElasticSearchæœ¬èº«ç±»ä¼¼äºæ•°æ®åº“ï¼Œæ²¡æœ‰å›¾å½¢åŒ–ç•Œé¢ã€‚</p><ul>\n<li>ç»“æœå¯è§†åŒ–</li>\n</ul><p>å¯è§†åŒ–æ˜¯æ—¥å¿—ç®¡ç†çš„å¦ä¸€é¡¹é‡è¦åŠŸèƒ½ã€‚é€šè¿‡å¯è§†åŒ–çš„å›¾è¡¨ï¼Œå¯ä»¥ç›´è§‚åœ°çœ‹åˆ°æ•°æ®çš„èµ°åŠ¿ï¼Œä»¥åŠæ–¹ä¾¿åœ°å’Œå†å²æ•°æ®è¿›è¡Œå¯¹æ¯”ã€‚</p><p>æ¯”å¦‚è¯´é€šè¿‡è§‚å¯Ÿäº¤æ˜“æ•°æ®çš„èµ°åŠ¿æ›²çº¿ï¼Œå°±èƒ½çœ‹å‡ºæ¥è¿™å‘¨çš„äº¤æ˜“æ•°æ®æ¯”ä¸Šå‘¨æ˜¯å¢é•¿è¿˜æ˜¯ä¸‹é™ï¼›æ ¹æ®APIå“åº”é€Ÿåº¦çš„èµ°åŠ¿ï¼Œå¯ä»¥çœ‹å¾—å‡ºæ–°ç‰ˆæœ¬éƒ¨ç½²åï¼Œæ€§èƒ½æ˜¯æå‡äº†è¿˜æ˜¯ä¸‹é™äº†ã€‚</p><p>åƒKibanaå°±æ˜¯ä¸€å¥—ä¸“é—¨é’ˆå¯¹ElasticSearchçš„å›¾å½¢åŒ–æ“ä½œå·¥å…·ï¼Œå¯ä»¥æ–¹ä¾¿å¯¹ElasticSearchæ•°æ®è¿›è¡Œæ£€ç´¢ï¼Œä¹Ÿå¯ä»¥å¯¹ç»“æœç”¨å›¾è¡¨çš„æ–¹å¼å±•ç°ã€‚</p><ul>\n<li>ç›‘æ§å’ŒæŠ¥è­¦</li>\n</ul><p>ELKæœ¬èº«åªæ˜¯æä¾›äº†ä¸€å¥—åŸºç¡€çš„æ—¥å¿—ç®¡ç†æ¡†æ¶ï¼Œä½†æ˜¯åŸºäºå®ƒä¹‹ä¸Šè¿˜å¯ä»¥æœ‰å¾ˆå¤šæ‰©å±•ï¼Œæ¯”å¦‚è¯´è‡ªåŠ¨æŠ¥è­¦å°±æ˜¯ä¸€ä¸ªéå¸¸å…¸å‹çš„åœºæ™¯ï¼Œå¯ä»¥åŸºäºå·²ç»å­˜å‚¨å’Œç´¢å¼•å¥½çš„æ—¥å¿—æ•°æ®ï¼Œåˆ¶å®šç›¸åº”çš„è‡ªåŠ¨æŠ¥è­¦è§„åˆ™ï¼Œå½“çº¿ä¸ŠæœåŠ¡å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œå¯ä»¥è‡ªåŠ¨åœ°è§¦å‘æŠ¥è­¦ï¼Œé€šçŸ¥ç›¸å…³å€¼ç­äººå‘˜åŠæ—¶å¤„ç†ã€‚</p><p>ELKå¯ä»¥é€šè¿‡æ’ä»¶çš„æ–¹å¼ï¼Œå®‰è£…åƒ <a href=\"http://github.com/Yelp/elastalert\">ElastAlert </a>æˆ–<a href=\"http://www.elastic.co/guide/en/watcher/current/introduction.html\">Watcher</a>è¿™æ ·çš„è‡ªåŠ¨æŠ¥è­¦æ’ä»¶ï¼Œå®ç°è‡ªåŠ¨æŠ¥è­¦åŠŸèƒ½ã€‚</p><p><a href=\"http://espeo.eu/blog/build-error-monitoring-tool/\"><img src=\"https://static001.geekbang.org/resource/image/8d/6f/8d59a0962b445900d7668b266e0adf6f.png?wh=703*444\" alt=\"\" title=\"å›¾ç‰‡æ¥æºï¼šBuild your own error monitoring tool\"></a></p><h2>æ€æ ·æ­å»ºä¸€å¥—æ—¥å¿—ç®¡ç†ç³»ç»Ÿï¼Ÿ</h2><p>åœ¨äº†è§£äº†æ•´ä¸ªæ—¥å¿—ç®¡ç†ç³»ç»Ÿçš„åŸºç¡€æ¶æ„åï¼Œå†è¦å»æ­å»ºè¿™æ ·ä¸€å¥—æ—¥å¿—ç®¡ç†ç³»ç»Ÿï¼Œå°±å¯ä»¥åšåˆ°å¿ƒä¸­æœ‰æ•°äº†ã€‚ä½ å¯ä»¥åŸºäºè¿™å¥—æ¶æ„å»å¯»æ‰¾åˆé€‚çš„å·¥å…·ï¼Œæˆ–è€…ç›´æ¥åŸºäºELKå»æ­å»ºä¸€å¥—æ—¥å¿—ç®¡ç†ç³»ç»Ÿã€‚</p><p>å…³äºELKç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šå®‰è£…ä½¿ç”¨æ•™ç¨‹ï¼Œæ¯”å¦‚è¿™ä¸€æœ¬ç”µå­æ•™ç¨‹ã€Š<a href=\"http://docs.flycloud.me/docs/ELKStack/\">ELK æ•™ç¨‹</a>ã€‹å°±å†™çš„å¾ˆè¯¦ç»†ã€‚</p><p>ELKæœ¬èº«æ˜¯ä¸€å¥—å¼€æºå…è´¹çš„å·¥å…·ï¼Œé™¤äº†ELKï¼Œè¿˜æœ‰ä¸€äº›ç±»ä¼¼çš„å·¥å…·å¯ä»¥é€‰æ‹©ï¼Œå¯ä»¥å’ŒELKé…åˆä½¿ç”¨ã€‚</p><ul>\n<li><a href=\"https://www.splunk.com/\">Splunk</a></li>\n</ul><p>Splunkæ˜¯ä¸€å¥—å•†ä¸šçš„æ—¥å¿—ç®¡ç†ç³»ç»Ÿï¼Œæœç´¢åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œæ“ä½œæ–¹ä¾¿ï¼Œå°±ç›®å‰æ¥è¯´ï¼Œè¦æ¯”ELKå¥½ç”¨ï¼Œä½†ä»·é’±å¾ˆé«˜ã€‚</p><ul>\n<li><a href=\"http://grafana.com\">Grafana</a></li>\n</ul><p>Grafanaæ˜¯ä¸€å¥—å¼€æºçš„æ•°æ®ç›‘æµ‹å’Œå¯è§†åŒ–å·¥å…·ï¼Œå¯ä»¥å’ŒELKæˆ–Splunké…åˆä½¿ç”¨ï¼Œå±•ç¤ºæ•ˆæœæ¯”Kibanaè¦æ›´å¥½ã€‚åŒæ—¶å¯ä»¥æ”¯æŒè‡ªåŠ¨æŠ¥è­¦åŠŸèƒ½ã€‚</p><ul>\n<li><a href=\"http://www.wavefront.com\">Wavefront</a></li>\n</ul><p>Wavefront æ˜¯ VMware æ——ä¸‹çš„ä¸€æ¬¾å•†ä¸šçš„å›¾å½¢åŒ–ç›‘æ§å’Œåˆ†æå·¥å…·ï¼Œå¯ä»¥ä»ELK æˆ– Splunkç­‰æ•°æ®æºæ”¶é›†æ•°æ®ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šåˆ†æåº”ç”¨çš„æ€§èƒ½ç“¶é¢ˆæ‰€åœ¨ï¼Œæ’é™¤æ•…éšœã€‚ä¹Ÿæ”¯æŒè‡ªåŠ¨æŠ¥è­¦ã€‚</p><ul>\n<li><a href=\"http://www.pagerduty.com\">PagerDuty</a></li>\n</ul><p>PagerDutyæ˜¯ä¸€å¥—æŠ¥è­¦æœåŠ¡ï¼Œä¸ä»…å¯ä»¥å’Œæ‰‹æœºã€é‚®ä»¶ã€Slackç­‰æ–¹ä¾¿åœ°é›†æˆï¼Œè¿˜å¯ä»¥å’Œä¼ä¸šçš„è½®å€¼å®‰æ’ç»“åˆï¼ŒæŒ‰ç…§æ’ç­é¡ºåºå‘¼å«å½“å€¼äººå‘˜ã€‚</p><p>ä»¥ä¸Šå°±æ˜¯ä¸€äº›å¸¸ç”¨æ—¥å¿—ç®¡ç†ç³»ç»Ÿä»¥åŠé…å¥—ç³»ç»Ÿå·¥å…·ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥å¾ˆå¥½åœ°æ»¡è¶³ä½ å¯¹æ—¥å¿—ç®¡ç†çš„éœ€æ±‚ï¼Œé€šè¿‡æœç´¢å¼•æ“ä½ ä¹Ÿå¯ä»¥æ‰¾åˆ°æ›´å¤šç±»ä¼¼çš„æœåŠ¡ã€‚</p><h2>æ€»ç»“</h2><p>ä»Šå¤©æˆ‘å¸¦ä½ ä¸€èµ·å­¦ä¹ äº†æ—¥å¿—ç®¡ç†å·¥å…·ç›¸å…³çš„å†…å®¹ã€‚é€šè¿‡æ—¥å¿—ç®¡ç†å·¥å…·ï¼Œå¯ä»¥é›†ä¸­çš„ç®¡ç†æ‰€æœ‰ç³»ç»Ÿçš„æ—¥å¿—ï¼Œæ–¹ä¾¿å¯¹æ—¥å¿—è¿›è¡Œæ£€ç´¢ï¼Œå›¾å½¢åŒ–çš„å±•ç¤ºç»“æœï¼Œè¿˜å¯ä»¥åšåˆ°æ ¹æ®è®¾ç½®çš„è§„åˆ™è¿›è¡Œè‡ªåŠ¨æŠ¥è­¦ã€‚</p><p>å¦‚æœä½ æƒ³æ­å»ºå±äºè‡ªå·±çš„æ—¥å¿—ç®¡ç†ç³»ç»Ÿï¼Œå¯ä»¥åŸºäºELKæˆ–è€…Splunkè¿™æ ·çš„æ—¥å¿—ç®¡ç†å·¥å…·ï¼Œé…åˆä¸€äº›æ’ä»¶ï¼Œå®ç°ä½ è‡ªå·±çš„æ—¥å¿—ç›‘æ§å’Œåˆ†æå·¥å…·ã€‚</p><p>åœ¨æ­å»ºå¥½æ—¥å¿—ç®¡ç†ç³»ç»Ÿåï¼Œå¦‚æœæˆ‘ä»¬å†å›å¤´çœ‹æ–‡ç« å¼€å¤´é‚£å‡ ä¸ªé—®é¢˜ï¼Œä½ ä¼šå‘ç°ï¼š</p><ul>\n<li>å¦‚æœä½ çš„ç½‘ç«™æˆ–è€…æœåŠ¡å‡ºç°æ•…éšœï¼Œå¯ä»¥é€šè¿‡ä½ è®¾ç½®å¥½çš„è‡ªåŠ¨æŠ¥è­¦è§„åˆ™ç¬¬ä¸€æ—¶é—´é€šçŸ¥å€¼ç­äººå‘˜ï¼ŒåŠæ—¶è§£å†³ï¼›</li>\n<li>å‡å¦‚ä½ çš„æŸä¸€ä¸ªå¾®æœåŠ¡å‡ºç°å¼‚å¸¸ï¼Œä½ å¯ä»¥ä»ä½ çš„æ—¥å¿—ç®¡ç†ç³»ç»Ÿä¸­ç›´æ¥å¯¹æ‰€æœ‰å¾®æœåŠ¡çš„æ—¥å¿—è¿›è¡ŒæŸ¥è¯¢ï¼Œå¿«é€Ÿå®šä½åˆ°é—®é¢˜æ‰€åœ¨ï¼›</li>\n<li>åœ¨éƒ¨ç½²ç³»ç»Ÿåï¼Œé€šè¿‡å¯¹APIå“åº”æ—¶é—´ç­‰æ•°æ®æŒ‡æ ‡çš„å›¾å½¢åŒ–æ˜¾ç¤ºï¼Œä½ å¯ä»¥ç›´è§‚çš„çœ‹åˆ°æ€§èƒ½æ˜¯ä¸Šå‡äº†è¿˜æ˜¯ä¸‹é™äº†ã€‚</li>\n</ul><p>æ€»çš„æ¥è¯´ï¼Œå€ŸåŠ©æ—¥å¿—ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿå‘ç°å’Œå®šä½äº§å“é—®é¢˜ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>ä½ çš„é¡¹ç›®ä¸­æ˜¯å¦æœ‰åº”ç”¨æ—¥å¿—ç®¡ç†å·¥å…·ï¼Ÿä½ è§‰å¾—è¿™æ ·çš„å·¥å…·çš„åº”ç”¨ï¼Œå¯¹ä½ çš„æ—¥å¸¸é¡¹ç›®å¯ä»¥å¸¦æ¥å“ªäº›å¥½å¤„ï¼Ÿå¦‚æœè¿˜æ²¡æœ‰åº”ç”¨ï¼Œä¸»è¦é˜»åŠ›æ˜¯ä»€ä¹ˆï¼Ÿæ¬¢è¿åœ¨ç•™è¨€åŒºä¸æˆ‘åˆ†äº«è®¨è®ºã€‚</p><p>æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰ä¸€äº›å¯å‘ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"37 | é‡åˆ°çº¿ä¸Šæ•…éšœï¼Œä½ å’Œé«˜æ‰‹çš„å·®è·åœ¨å“ªé‡Œï¼Ÿ","id":97219},"right":{"article_title":"39 | é¡¹ç›®æ€»ç»“ï¼šåšå¥½é¡¹ç›®å¤ç›˜ï¼ŒæŠŠç»éªŒå˜æˆèƒ½åŠ›","id":98141}},"comments":[{"had_liked":false,"id":98456,"user_name":"yellowcloud","can_delete":false,"product_type":"c1","uid":1397597,"ip_address":"","ucode":"508967ED4BBEFC","user_header":"https://static001.geekbang.org/account/avatar/00/15/53/5d/46d369e5.jpg","comment_is_top":false,"comment_ctime":1559006092,"is_pvip":false,"replies":[{"id":"35252","content":"æŠ±æ­‰æˆ‘æ²¡æœ‰ææ–™æ¥è¯´æ˜åº”è¯¥è®°å½•å“ªäº›æ—¥å¿—ã€‚<br><br>ä¸è¿‡æˆ‘è§‰å¾—ä½ è¯´çš„è¿™äº›æ—¥å¿—ä¿¡æ¯åŸºæœ¬ä¸Šæ¶µç›–äº†ï¼Œå¦‚æœè¦è¡¥å……çš„è¯ï¼Œæˆ‘å»ºè®®å¯¹äºæ¯ä¸€æ¬¡ç”¨æˆ·çš„è¯·æ±‚ï¼Œåœ¨å…¥å£å¤„ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„è¯·æ±‚ç¼–å·ï¼Œå¯¹äºè¿™æ¬¡è¯·æ±‚ç»è¿‡çš„æ‰€æœ‰æœåŠ¡ï¼Œéƒ½ç»Ÿä¸€å¸¦ä¸Šè¿™ä¸ªå”¯ä¸€è¯·æ±‚ç¼–å·ï¼Œä»¥åå®šä½é—®é¢˜æ˜¯ï¼Œæ ¹æ®è¯·æ±‚ç¼–å·ï¼Œå°±å¯ä»¥å¿«é€Ÿçš„å‘ç°æ˜¯åœ¨å“ªä¸€ä¸ªæœåŠ¡å‡ºç°é—®é¢˜ã€‚è¿™æ˜¯æˆ‘åœ¨å®è·µä¸­è§‰å¾—ç‰¹åˆ«æœ‰æ•ˆçš„ä¸€ä¸ªå­—æ®µã€‚<br><br>å¦å¤–å¼‚å¸¸ä¿¡æ¯ã€é”™è¯¯å †æ ˆéå¸¸æœ‰ç”¨ï¼Œå¿…é¡»ç¡®ä¿è®°å½•ä¸‹æ¥äº†ã€‚<br><br>å…¶å®å…·ä½“è¦å“ªäº›ä¿¡æ¯ï¼Œä½ å¯ä»¥ç«™åœ¨æ•…éšœæ’æŸ¥å’Œæ•°æ®ç»Ÿè®¡çš„è§’åº¦æ€è€ƒï¼Œå“ªäº›ä¿¡æ¯æ˜¯æœ‰å¸®åŠ©çš„ï¼Œç„¶åè®°å½•ä¸‹æ¥ã€‚<br><br>æœ€é‡è¦æ˜¯å…ˆæ­å»ºèµ·æ¥ä¸€å¥—æ—¥å¿—ç®¡ç†çš„ä½“ç³»ï¼Œç„¶åå®é™…åº”ç”¨ä¸­é€æ­¥è¡¥å……å®Œå–„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®ç‰","uid":"1064938","ctime":1559027289,"ip_address":"","comment_id":98456,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27328809868","product_id":100023701,"comment_content":"å®ç‰è€å¸ˆæ‚¨å¥½ï¼Œç›®å‰æˆ‘ä»¬å…¬å¸æ˜¯åšæ•°æ®å…±äº«äº¤æ¢å¹³å°çš„ï¼Œç›®å‰å¯¹æ¥äº†å¤§é‡çš„æ±‡èšå…±äº«çš„æ•°æ®ï¼Œå¯¹æ¥è¿™äº›æ•°æ®ä¹Ÿä½¿ç”¨äº†å¤§é‡çš„æœåŠ¡ï¼Œéšç€å¯¹æ¥å·¥ä½œçš„æ—¥ç›Šåºå¤§ï¼Œç›®å‰ä¹Ÿè€ƒè™‘æ­å»ºä¸€å¥—ELKå¯¹æ—¥å¿—è¿›è¡Œç®¡ç†ã€‚ä½†æ˜¯ç›®å‰åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨æ€è€ƒæœåŠ¡å®é™…è¿è¡Œæˆ–è€…å¯¹æ¥é“¾è·¯ä¸­é‚£äº›ä¿¡æ¯éœ€è¦æŠ›ç»™æ—¥å¿—ç®¡ç†ç³»ç»Ÿï¼Œç›®å‰å·²æœ‰çš„æ—¥å¿—è®°å½•ä¿¡æ¯æ˜¯è¯·æ±‚IPã€è®¿é—®è·¯ç”±ã€è®¿é—®æ—¶é—´ã€å†…å®¹å­—èŠ‚ã€å‚æ•°ã€å“åº”æ—¶é—´ã€æŠ¥æ–‡ç­‰ç­‰ï¼Œæ€»æ˜¯æ„Ÿè§‰è‡ªå·±åœ¨æŸäº›æ–¹é¢è€ƒè™‘ä¸å‘¨å…¨ï¼Œæ— æ³•å¯¹å¯èƒ½å‘ç”Ÿé”™è¯¯çš„åŒºåŸŸè¿›è¡Œå…¨è¦†ç›–ï¼Œå®ç‰è€å¸ˆè¿™é‡Œæœ‰å…³äºæ—¥å¿—å…·ä½“è®°å½•é‚£äº›ç»†èŠ‚çš„ææ–™å—ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1064938,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/gem4tlXhUUSQwNklGwJFJ09lP4yfYwTlbNgH9vw01AJiar7z9cQeehBVgLNoZhOG9l96q12EfxpFh4SBXibmSQWw/132","nickname":"å®ç‰","note":"","ucode":"824342714F3310","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451695,"discussion_content":"æŠ±æ­‰æˆ‘æ²¡æœ‰ææ–™æ¥è¯´æ˜åº”è¯¥è®°å½•å“ªäº›æ—¥å¿—ã€‚\n\nä¸è¿‡æˆ‘è§‰å¾—ä½ è¯´çš„è¿™äº›æ—¥å¿—ä¿¡æ¯åŸºæœ¬ä¸Šæ¶µç›–äº†ï¼Œå¦‚æœè¦è¡¥å……çš„è¯ï¼Œæˆ‘å»ºè®®å¯¹äºæ¯ä¸€æ¬¡ç”¨æˆ·çš„è¯·æ±‚ï¼Œåœ¨å…¥å£å¤„ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„è¯·æ±‚ç¼–å·ï¼Œå¯¹äºè¿™æ¬¡è¯·æ±‚ç»è¿‡çš„æ‰€æœ‰æœåŠ¡ï¼Œéƒ½ç»Ÿä¸€å¸¦ä¸Šè¿™ä¸ªå”¯ä¸€è¯·æ±‚ç¼–å·ï¼Œä»¥åå®šä½é—®é¢˜æ˜¯ï¼Œæ ¹æ®è¯·æ±‚ç¼–å·ï¼Œå°±å¯ä»¥å¿«é€Ÿçš„å‘ç°æ˜¯åœ¨å“ªä¸€ä¸ªæœåŠ¡å‡ºç°é—®é¢˜ã€‚è¿™æ˜¯æˆ‘åœ¨å®è·µä¸­è§‰å¾—ç‰¹åˆ«æœ‰æ•ˆçš„ä¸€ä¸ªå­—æ®µã€‚\n\nå¦å¤–å¼‚å¸¸ä¿¡æ¯ã€é”™è¯¯å †æ ˆéå¸¸æœ‰ç”¨ï¼Œå¿…é¡»ç¡®ä¿è®°å½•ä¸‹æ¥äº†ã€‚\n\nå…¶å®å…·ä½“è¦å“ªäº›ä¿¡æ¯ï¼Œä½ å¯ä»¥ç«™åœ¨æ•…éšœæ’æŸ¥å’Œæ•°æ®ç»Ÿè®¡çš„è§’åº¦æ€è€ƒï¼Œå“ªäº›ä¿¡æ¯æ˜¯æœ‰å¸®åŠ©çš„ï¼Œç„¶åè®°å½•ä¸‹æ¥ã€‚\n\næœ€é‡è¦æ˜¯å…ˆæ­å»ºèµ·æ¥ä¸€å¥—æ—¥å¿—ç®¡ç†çš„ä½“ç³»ï¼Œç„¶åå®é™…åº”ç”¨ä¸­é€æ­¥è¡¥å……å®Œå–„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559027289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98828,"user_name":"alva_xu","can_delete":false,"product_type":"c1","uid":1003946,"ip_address":"","ucode":"1D5B592B3A780F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLPxmcBiaXpTjuyicHJJwVECstJPyHJj8ZMOEdjz5N3rQzTkR4vTF3bpNXLm4MftPNFPI6ibsVRN5FbA/132","comment_is_top":false,"comment_ctime":1559101566,"is_pvip":false,"replies":[{"id":"35591","content":"æ„Ÿè°¢åˆ†äº«ï¼Œå·²æ‹œè¯»ã€‚è¿™ä¸€ç¯‡æ˜¯å…³äºå¦‚ä½•æ­å»ºç³»ç»Ÿçš„ï¼Œåç»­æ˜¯ä¸æ˜¯è¿˜ä¼šæœ‰åŸºäºè¿™ä¸ªç³»ç»Ÿé›†æˆåº”ç”¨ç¨‹åºæ—¥å¿—ï¼Œä»¥åŠå¯¹åº”ç”¨ç¨‹åºç›‘æ§çš„æ–‡ç« ï¼ŸæœŸå¾…ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"å®ç‰","uid":"1064938","ctime":1559146120,"ip_address":"","comment_id":98828,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18738970750","product_id":100023701,"comment_content":"æˆ‘å†™è¿‡ä¸€éå…³äºELKçš„åšæ–‡ã€Šä»Filebeatåˆ°Logstashå†åˆ°Elasticsearch,å¦‚ä½•æ­å»ºELK æ—¥å¿—å¹³å°ã€‹https:&#47;&#47;blog.csdn.net&#47;alva_xu&#47;article&#47;details&#47;84578787ï¼Œæ•¬è¯·æŒ‡æ­£ã€‚","like_count":4,"discussions":[{"author":{"id":1064938,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/gem4tlXhUUSQwNklGwJFJ09lP4yfYwTlbNgH9vw01AJiar7z9cQeehBVgLNoZhOG9l96q12EfxpFh4SBXibmSQWw/132","nickname":"å®ç‰","note":"","ucode":"824342714F3310","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451855,"discussion_content":"æ„Ÿè°¢åˆ†äº«ï¼Œå·²æ‹œè¯»ã€‚è¿™ä¸€ç¯‡æ˜¯å…³äºå¦‚ä½•æ­å»ºç³»ç»Ÿçš„ï¼Œåç»­æ˜¯ä¸æ˜¯è¿˜ä¼šæœ‰åŸºäºè¿™ä¸ªç³»ç»Ÿé›†æˆåº”ç”¨ç¨‹åºæ—¥å¿—ï¼Œä»¥åŠå¯¹åº”ç”¨ç¨‹åºç›‘æ§çš„æ–‡ç« ï¼ŸæœŸå¾…ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559146120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99860,"user_name":"å³°","can_delete":false,"product_type":"c1","uid":1390326,"ip_address":"","ucode":"527BB65559F0B0","user_header":"https://static001.geekbang.org/account/avatar/00/15/36/f6/d65b7302.jpg","comment_is_top":false,"comment_ctime":1559343758,"is_pvip":false,"replies":[{"id":"35869","content":"æˆ‘è§‰å¾—ä¸å¿…éè¦å¼ºè¡Œæ•´åˆåœ¨ä¸€èµ·ï¼Œå› ä¸ºå¯¹äºç›‘æ§æ¥è¯´ï¼Œç†è®ºä¸Šæ¥è¯´å¯ä»¥æœ‰å¤šä¸ªæ•°æ®æºï¼Œæˆ‘å¯¹Grafanaä¸å¤Ÿç†Ÿæ‚‰ï¼Œä¸å¤ªç¡®è®¤ä½†æˆ‘æƒ³åº”è¯¥å¯ä»¥åŒæ—¶è·å–å±•ç¤ºæ¥è‡ªInfluxDBå’ŒESçš„æ•°æ®ã€‚<br><br>ä½ å¯ä»¥è€ƒè™‘ä»¥ä¸‹æ–¹æ¡ˆï¼ˆä»…ä¾›å‚è€ƒï¼Œæˆ‘æ²¡æœ‰éªŒè¯è¿‡å¯è¡Œæ€§ï¼‰ï¼šnlogçš„æ•°æ®è¿˜æ˜¯æ”¾åœ¨esï¼Œç³»ç»Ÿåº¦é‡ç”¨appmetrices+influxdb+grafanaï¼Œç„¶ååœ¨grafanaä¸Šé›†æˆå…¶ä½™çš„ä½ æƒ³ç›‘æ§çš„ä»esæŸ¥è¯¢çš„æ•°æ®ã€‚<br><br>æˆ‘æœ‰è§è¿‡ç±»ä¼¼çš„æ¶æ„ï¼š<br>wavefrontï¼ˆç±»ä¼¼äºgrafanaï¼‰è·å–metriceså’ŒESæŸ¥è¯¢çš„æ•°æ®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®ç‰","uid":"1064938","ctime":1559363462,"ip_address":"","comment_id":99860,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14444245646","product_id":100023701,"comment_content":"å®ç‰è€å¸ˆï¼Œæˆ‘ä»¬é¡¹ç›®æ˜¯.netåšçš„ï¼Œæœ€è¿‘æƒ³ç”¨nlog æ¥é‡†é›†æ—¥å¿—åˆ°esä¸­ï¼Œä½†ç³»ç»Ÿåº¦é‡æ˜¯å¦å¤–çš„æ–¹æ¡ˆbaidu ä¸Šéƒ½æ˜¯appmetrices+influxdb+grafana,æ‰€ä»¥æˆ‘æƒ³å®ç°æ—¥å¿—,åº”è¯¥æ”¾eså¥½äº›ï¼Œä½†å¦‚ä½•åŒæ—¶æ»¡è¶³åº¦é‡çš„éœ€æ±‚å‘¢ï¼Ÿå› ä¸ºåº¦é‡æœ¬èº«ä¹Ÿæ˜¯åŸºäºæ—¥å¿—","like_count":3,"discussions":[{"author":{"id":1064938,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/gem4tlXhUUSQwNklGwJFJ09lP4yfYwTlbNgH9vw01AJiar7z9cQeehBVgLNoZhOG9l96q12EfxpFh4SBXibmSQWw/132","nickname":"å®ç‰","note":"","ucode":"824342714F3310","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452299,"discussion_content":"æˆ‘è§‰å¾—ä¸å¿…éè¦å¼ºè¡Œæ•´åˆåœ¨ä¸€èµ·ï¼Œå› ä¸ºå¯¹äºç›‘æ§æ¥è¯´ï¼Œç†è®ºä¸Šæ¥è¯´å¯ä»¥æœ‰å¤šä¸ªæ•°æ®æºï¼Œæˆ‘å¯¹Grafanaä¸å¤Ÿç†Ÿæ‚‰ï¼Œä¸å¤ªç¡®è®¤ä½†æˆ‘æƒ³åº”è¯¥å¯ä»¥åŒæ—¶è·å–å±•ç¤ºæ¥è‡ªInfluxDBå’ŒESçš„æ•°æ®ã€‚\n\nä½ å¯ä»¥è€ƒè™‘ä»¥ä¸‹æ–¹æ¡ˆï¼ˆä»…ä¾›å‚è€ƒï¼Œæˆ‘æ²¡æœ‰éªŒè¯è¿‡å¯è¡Œæ€§ï¼‰ï¼šnlogçš„æ•°æ®è¿˜æ˜¯æ”¾åœ¨esï¼Œç³»ç»Ÿåº¦é‡ç”¨appmetrices+influxdb+grafanaï¼Œç„¶ååœ¨grafanaä¸Šé›†æˆå…¶ä½™çš„ä½ æƒ³ç›‘æ§çš„ä»esæŸ¥è¯¢çš„æ•°æ®ã€‚\n\næˆ‘æœ‰è§è¿‡ç±»ä¼¼çš„æ¶æ„ï¼š\nwavefrontï¼ˆç±»ä¼¼äºgrafanaï¼‰è·å–metriceså’ŒESæŸ¥è¯¢çš„æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559363462,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99275,"user_name":"hua168","can_delete":false,"product_type":"c1","uid":1065255,"ip_address":"","ucode":"CFF9A7E86EBA48","user_header":"https://static001.geekbang.org/account/avatar/00/10/41/27/3ff1a1d6.jpg","comment_is_top":false,"comment_ctime":1559184989,"is_pvip":false,"replies":[{"id":"35664","content":"æ˜¯çš„ï¼ŒåŸºäºæ—¥å¿—æœ‰ç›‘æ§ç³»ç»Ÿï¼Œå¯ä»¥ç›´è§‚ä»å›¾è¡¨å®æ—¶çœ‹åˆ°æ•°æ®å˜åŒ–ï¼Œä¼šæœ‰è‡ªåŠ¨æŠ¥è­¦ã€‚<br><br>æ•°æ®é‡å¤§ä¸æ˜¯é—®é¢˜ï¼Œç°åœ¨åŸºäºå¤§æ•°æ®çš„æ•°æ®æ£€ç´¢æ–¹æ¡ˆå·²ç»æ¯”è¾ƒæˆç†Ÿäº†ã€‚<br><br>è‡ªåŠ¨ä¿®å¤æˆ‘ä¸çŸ¥é“æ˜¯ä¸æ˜¯æœ‰ï¼Œç›®å‰åº”è¯¥è¿˜ä¸æˆç†Ÿï¼Œä¹Ÿå°±æ˜¯è‡ªåŠ¨é‡å¯ä¸‹æœåŠ¡ï¼Œæœªæ¥ä¹Ÿè®¸ä¼šæœ‰AIèƒ½ç›´æ¥å¤„ç†çº¿ä¸Šæ•…éšœå§ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"å®ç‰","uid":"1064938","ctime":1559194195,"ip_address":"","comment_id":99275,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14444086877","product_id":100023701,"comment_content":"å¤§å…¬å¸ç³»ç»Ÿå¤æ‚ï¼Œæ¯å¤©äº§ç”Ÿæ—¥å­å¾ˆå¤§åˆå¤šï¼Œå•é äººå·¥æ’æŸ¥è‚¯å®šä¸è¡Œã€‚<br>æ˜¯ä¸æ˜¯ä»–ä»¬æœ‰å¾ˆå¥½çš„ç›‘æ§ç³»ç»Ÿï¼Ÿå°¤å…¶æ˜¯ä¸šåŠ¡ç›‘æ§ï¼Œéƒ½åšç›‘æ§åŸ‹ç‚¹ï¼Ÿä¸€èˆ¬åƒä¸€åœºé©¬ä¸Šå°±å¯ä»¥æŠ¥è­¦ï¼Œæœ‰çš„ä¼šå…ˆè‡ªåŠ¨åŒ–ä¿®å¤ï¼Œä¸è¡Œçš„è¯å°±æŠ¥è­¦ã€‚","like_count":3,"discussions":[{"author":{"id":1064938,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/gem4tlXhUUSQwNklGwJFJ09lP4yfYwTlbNgH9vw01AJiar7z9cQeehBVgLNoZhOG9l96q12EfxpFh4SBXibmSQWw/132","nickname":"å®ç‰","note":"","ucode":"824342714F3310","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452046,"discussion_content":"æ˜¯çš„ï¼ŒåŸºäºæ—¥å¿—æœ‰ç›‘æ§ç³»ç»Ÿï¼Œå¯ä»¥ç›´è§‚ä»å›¾è¡¨å®æ—¶çœ‹åˆ°æ•°æ®å˜åŒ–ï¼Œä¼šæœ‰è‡ªåŠ¨æŠ¥è­¦ã€‚\n\næ•°æ®é‡å¤§ä¸æ˜¯é—®é¢˜ï¼Œç°åœ¨åŸºäºå¤§æ•°æ®çš„æ•°æ®æ£€ç´¢æ–¹æ¡ˆå·²ç»æ¯”è¾ƒæˆç†Ÿäº†ã€‚\n\nè‡ªåŠ¨ä¿®å¤æˆ‘ä¸çŸ¥é“æ˜¯ä¸æ˜¯æœ‰ï¼Œç›®å‰åº”è¯¥è¿˜ä¸æˆç†Ÿï¼Œä¹Ÿå°±æ˜¯è‡ªåŠ¨é‡å¯ä¸‹æœåŠ¡ï¼Œæœªæ¥ä¹Ÿè®¸ä¼šæœ‰AIèƒ½ç›´æ¥å¤„ç†çº¿ä¸Šæ•…éšœå§ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559194195,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98911,"user_name":"hua168","can_delete":false,"product_type":"c1","uid":1065255,"ip_address":"","ucode":"CFF9A7E86EBA48","user_header":"https://static001.geekbang.org/account/avatar/00/10/41/27/3ff1a1d6.jpg","comment_is_top":false,"comment_ctime":1559115312,"is_pvip":false,"replies":[{"id":"35592","content":"æ‹¿ELKæ¥è¯´ï¼Œæ˜¯åœ¨Logstashé‚£ä¸€å±‚åšè¿‡æ»¤å’Œè§£æï¼Œå¿…é¡»ç°è¿‡æ»¤å’Œè§£ææ£€ç´¢æ‰èƒ½é«˜æ•ˆã€‚<br><br>æ˜¯çš„ï¼Œå¦‚æœç³»ç»Ÿå¾ˆå¤šå¾ˆå¤æ‚ï¼Œå¿…é¡»è¦é“¾è·¯è·Ÿè¸ªæ˜¯å“ªä¸ªç¯èŠ‚å‡ºçš„é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®ç‰","uid":"1064938","ctime":1559146329,"ip_address":"","comment_id":98911,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14444017200","product_id":100023701,"comment_content":"åƒELKæ”¶é›†åˆ°æ—¥å¿—ï¼Œè¿˜è¦åšæ—¥å¿—è¿‡æ»¤çš„å§ï¼Œæ€ä¹ˆè¿‡æ»¤ï¼Œæ˜¯æ”¶é›†çš„æ—¶å€™è¿‡æ»¤ï¼Œè¿˜æ˜¯æ”¶é›†å¥½å†ç”¨å¤§æ•°æ®åˆ†ææ˜¾ç¤ºå‡ºè‡ªå·±éœ€è¦çš„ï¼Ÿ<br>ç°åœ¨æœ‰ç‚¹å¤§çš„å•æœ‰æ—¥å¿—ç›‘æ§ä¸è¡Œï¼Œéƒ½ä¼šé“¾è·¯è·Ÿè¸ªç³»ç»Ÿå»è·Ÿè¸ªå“ªä¸ªç¯èŠ‚å‡ºé—®é¢˜","like_count":4,"discussions":[{"author":{"id":1064938,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/gem4tlXhUUSQwNklGwJFJ09lP4yfYwTlbNgH9vw01AJiar7z9cQeehBVgLNoZhOG9l96q12EfxpFh4SBXibmSQWw/132","nickname":"å®ç‰","note":"","ucode":"824342714F3310","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451890,"discussion_content":"æ‹¿ELKæ¥è¯´ï¼Œæ˜¯åœ¨Logstashé‚£ä¸€å±‚åšè¿‡æ»¤å’Œè§£æï¼Œå¿…é¡»ç°è¿‡æ»¤å’Œè§£ææ£€ç´¢æ‰èƒ½é«˜æ•ˆã€‚\n\næ˜¯çš„ï¼Œå¦‚æœç³»ç»Ÿå¾ˆå¤šå¾ˆå¤æ‚ï¼Œå¿…é¡»è¦é“¾è·¯è·Ÿè¸ªæ˜¯å“ªä¸ªç¯èŠ‚å‡ºçš„é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559146329,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98790,"user_name":"å­¤æ˜Ÿå¯","can_delete":false,"product_type":"c1","uid":1057440,"ip_address":"","ucode":"1DE673A8E2253B","user_header":"https://static001.geekbang.org/account/avatar/00/10/22/a0/0e8d56df.jpg","comment_is_top":false,"comment_ctime":1559095358,"is_pvip":false,"replies":[{"id":"35405","content":"è°¢è°¢åˆ†äº«ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å®ç‰","uid":"1064938","ctime":1559108974,"ip_address":"","comment_id":98790,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14443997246","product_id":100023701,"comment_content":"graylog ä¹Ÿä¸é”™  å¼€æº","like_count":3,"discussions":[{"author":{"id":1064938,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/gem4tlXhUUSQwNklGwJFJ09lP4yfYwTlbNgH9vw01AJiar7z9cQeehBVgLNoZhOG9l96q12EfxpFh4SBXibmSQWw/132","nickname":"å®ç‰","note":"","ucode":"824342714F3310","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451838,"discussion_content":"è°¢è°¢åˆ†äº«ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559108974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98502,"user_name":"Charles","can_delete":false,"product_type":"c1","uid":1001410,"ip_address":"","ucode":"32646D78CC0389","user_header":"https://static001.geekbang.org/account/avatar/00/0f/47/c2/e9fa4cf6.jpg","comment_is_top":false,"comment_ctime":1559013490,"is_pvip":false,"replies":[{"id":"35251","content":"æˆ‘è§‰å¾—åº”ç”¨ç¨‹åºçš„æ—¥å¿—ä¹Ÿåº”è¯¥è€ƒè™‘æ”¾è¿›å»ï¼Œå¯¹æ’æŸ¥é—®é¢˜å¾ˆæœ‰å¸®åŠ©ã€‚<br><br>åº”ç”¨ç¨‹åºçš„å¼‚å¸¸ä¿¡æ¯ã€é”™è¯¯å †æ ˆéå¸¸æœ‰ç”¨ï¼Œå¿…é¡»ç¡®ä¿è®°å½•ä¸‹æ¥äº†ã€‚<br><br>ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œä½ çš„ä¸€ä¸ªæ‰‹æœºAppï¼Œä¸€äº›ç‰¹å®šåœºæ™¯ä¸‹ï¼ŒæŸä¸ªAPIè¯·æ±‚å‡ºé”™ï¼Œè€Œè¿™ä¸ªAPIå¯èƒ½èƒŒåä¼šè¿æ¥å¤šä¸ªæœåŠ¡æˆ–è€…æ•°æ®åº“ï¼Œè¿™æ ·çš„åœºæ™¯ä¸‹ï¼Œå…‰é nginxæ—¥å¿—æ˜¯ä¸å¤Ÿçš„ï¼Œå¿…é¡»è¦æœ‰åº”ç”¨ç¨‹åºçš„æ—¥å¿—é…åˆæ‰å¥½å®šä½ã€‚<br><br>ä½ å¯ä»¥å‚è€ƒä¸Šä¸€ç¯‡æˆ‘æåˆ°äº†ä¸€ä¸ªrequestIdçš„å®è·µã€‚<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"å®ç‰","uid":"1064938","ctime":1559026914,"ip_address":"","comment_id":98502,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14443915378","product_id":100023701,"comment_content":"æˆ‘ä»¬ç›®å‰ç”¨äº†äº‘å‚å•†çš„æ—¥å¿—æœåŠ¡ï¼Œå°è¯•è¿‡è‡ªå·±æ­å’Œç»´æŠ¤ï¼Œå®åœ¨å¤ªè´¹åŠ²äº†<br><br>é—®è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼Œç›®å‰åªæ”¾äº†nginxæ—¥å¿—åˆ°æ—¥å¿—æœåŠ¡åšä¸€äº›ç®€å•çš„åˆ†æï¼Œè¿˜æœ‰å…¶ä»–ä»€ä¹ˆæ—¥å¿—æ˜¯åº”è¯¥æ”¾åˆ°æ—¥å¿—æœåŠ¡é‡Œçš„ï¼Ÿæœ‰ä»€ä¹ˆæ¯”è¾ƒå¥½çš„å®è·µå—ï¼Ÿè°¢è°¢","like_count":3,"discussions":[{"author":{"id":1064938,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/gem4tlXhUUSQwNklGwJFJ09lP4yfYwTlbNgH9vw01AJiar7z9cQeehBVgLNoZhOG9l96q12EfxpFh4SBXibmSQWw/132","nickname":"å®ç‰","note":"","ucode":"824342714F3310","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451714,"discussion_content":"æˆ‘è§‰å¾—åº”ç”¨ç¨‹åºçš„æ—¥å¿—ä¹Ÿåº”è¯¥è€ƒè™‘æ”¾è¿›å»ï¼Œå¯¹æ’æŸ¥é—®é¢˜å¾ˆæœ‰å¸®åŠ©ã€‚\n\nåº”ç”¨ç¨‹åºçš„å¼‚å¸¸ä¿¡æ¯ã€é”™è¯¯å †æ ˆéå¸¸æœ‰ç”¨ï¼Œå¿…é¡»ç¡®ä¿è®°å½•ä¸‹æ¥äº†ã€‚\n\nä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œä½ çš„ä¸€ä¸ªæ‰‹æœºAppï¼Œä¸€äº›ç‰¹å®šåœºæ™¯ä¸‹ï¼ŒæŸä¸ªAPIè¯·æ±‚å‡ºé”™ï¼Œè€Œè¿™ä¸ªAPIå¯èƒ½èƒŒåä¼šè¿æ¥å¤šä¸ªæœåŠ¡æˆ–è€…æ•°æ®åº“ï¼Œè¿™æ ·çš„åœºæ™¯ä¸‹ï¼Œå…‰é nginxæ—¥å¿—æ˜¯ä¸å¤Ÿçš„ï¼Œå¿…é¡»è¦æœ‰åº”ç”¨ç¨‹åºçš„æ—¥å¿—é…åˆæ‰å¥½å®šä½ã€‚\n\nä½ å¯ä»¥å‚è€ƒä¸Šä¸€ç¯‡æˆ‘æåˆ°äº†ä¸€ä¸ªrequestIdçš„å®è·µã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559026914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98746,"user_name":"å³°","can_delete":false,"product_type":"c1","uid":1390326,"ip_address":"","ucode":"527BB65559F0B0","user_header":"https://static001.geekbang.org/account/avatar/00/15/36/f6/d65b7302.jpg","comment_is_top":false,"comment_ctime":1559090175,"is_pvip":false,"replies":[{"id":"35349","content":"ä½ å¯ä»¥æœç´¢ä¸€ä¸‹å…³é”®å­—ï¼šâ€œELK ElastAlert æŠ¥è­¦â€åº”è¯¥å¯ä»¥æ‰¾åˆ°ä¸å°‘è®°å½•ï¼Œæ¯”å¦‚è¯´ï¼š<br>https:&#47;&#47;blog.51cto.com&#47;seekerwolf&#47;2121070<br><br>https:&#47;&#47;segmentfault.com&#47;a&#47;1190000017553282","user_name":"ä½œè€…å›å¤","user_name_real":"å®ç‰","uid":"1064938","ctime":1559092574,"ip_address":"","comment_id":98746,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10149024767","product_id":100023701,"comment_content":"è¯·é—®å¯ä»¥é€šè¿‡ä»€ä¹ˆç³»ç»Ÿè®¾ç½®å“åº”é˜€å€¼æŠ¥è­¦å‘¢","like_count":2,"discussions":[{"author":{"id":1064938,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/gem4tlXhUUSQwNklGwJFJ09lP4yfYwTlbNgH9vw01AJiar7z9cQeehBVgLNoZhOG9l96q12EfxpFh4SBXibmSQWw/132","nickname":"å®ç‰","note":"","ucode":"824342714F3310","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451818,"discussion_content":"ä½ å¯ä»¥æœç´¢ä¸€ä¸‹å…³é”®å­—ï¼šâ€œELK ElastAlert æŠ¥è­¦â€åº”è¯¥å¯ä»¥æ‰¾åˆ°ä¸å°‘è®°å½•ï¼Œæ¯”å¦‚è¯´ï¼š\nhttps://blog.51cto.com/seekerwolf/2121070\n\nhttps://segmentfault.com/a/1190000017553282","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559092574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98447,"user_name":"æ‹‰æ¬§","can_delete":false,"product_type":"c1","uid":1206605,"ip_address":"","ucode":"40996A8093A95F","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/4d/81c44f45.jpg","comment_is_top":false,"comment_ctime":1559005393,"is_pvip":false,"replies":[{"id":"35253","content":"ğŸ‘ç¡®å®å¦‚æ­¤ï¼Œå› ä¸ºè¿™æ ·çš„ç³»ç»Ÿå¯¹äºå¤æ‚åº”ç”¨çš„æ•…éšœå®šä½æ¥è¯´ï¼Œå¤ªæœ‰ç”¨äº†å¤ªæœ‰å¿…è¦äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®ç‰","uid":"1064938","ctime":1559027368,"ip_address":"","comment_id":98447,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10148939985","product_id":100023701,"comment_content":"ç°åœ¨å‡ ä¹æ‰€æœ‰çš„å¤§å‚éƒ½æœ‰ä¸€æ•´å¥—æ—¥å¿—ç®¡ç†æ–¹æ¡ˆï¼Œå¤§éƒ¨åˆ†è¿˜ä¸æ­¢ä¸€å¥—","like_count":2,"discussions":[{"author":{"id":1064938,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/gem4tlXhUUSQwNklGwJFJ09lP4yfYwTlbNgH9vw01AJiar7z9cQeehBVgLNoZhOG9l96q12EfxpFh4SBXibmSQWw/132","nickname":"å®ç‰","note":"","ucode":"824342714F3310","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451691,"discussion_content":"ğŸ‘ç¡®å®å¦‚æ­¤ï¼Œå› ä¸ºè¿™æ ·çš„ç³»ç»Ÿå¯¹äºå¤æ‚åº”ç”¨çš„æ•…éšœå®šä½æ¥è¯´ï¼Œå¤ªæœ‰ç”¨äº†å¤ªæœ‰å¿…è¦äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559027368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350754,"user_name":"if...else...","can_delete":false,"product_type":"c1","uid":2550743,"ip_address":"","ucode":"D0565908C99695","user_header":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","comment_is_top":false,"comment_ctime":1657166906,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5952134202","product_id":100023701,"comment_content":"é€šè¿‡æ—¥å¿—ç®¡ç†å·¥å…·ï¼Œå¯ä»¥é›†ä¸­çš„ç®¡ç†æ‰€æœ‰ç³»ç»Ÿçš„æ—¥å¿—ï¼Œæ–¹ä¾¿å¯¹æ—¥å¿—è¿›è¡Œæ£€ç´¢ï¼Œå›¾å½¢åŒ–çš„å±•ç¤ºç»“æœï¼Œè¿˜å¯ä»¥åšåˆ°æ ¹æ®è®¾ç½®çš„è§„åˆ™è¿›è¡Œè‡ªåŠ¨æŠ¥è­¦ã€‚--è®°ä¸‹æ¥","like_count":2}]}
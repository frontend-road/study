{"id":272570,"title":"39 | ä½¿ç”¨unittesté‡æ„æµ‹è¯•ç”¨ä¾‹ï¼šæŒæ¡ä½¿ç”¨unittestæ¨¡å—çš„æ–¹æ³•å’ŒæŠ€å·§","content":"<p><strong>è¯¾ä»¶å’ŒDemoåœ°å€</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/Selenium\">https://gitee.com/geektime-geekbang/Selenium</a></p>","comments":[{"had_liked":false,"id":340751,"user_name":"å°é˜³","can_delete":false,"product_type":"c3","uid":1164246,"ip_address":"","ucode":"9533225C7D7603","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKiawnDHZkUJhnItm30JSBXfkeiaGvibJopuBLXfo8BI8sWGClLh8sOtuB4CkicfyWGMEnG9NpCXW9F3g/132","comment_is_top":false,"comment_ctime":1649118458,"is_pvip":false,"replies":[{"id":134419,"content":"åœ¨ä½¿ç”¨ unittest.TestCase ç¼–å†™æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œå¯ä»¥é€šè¿‡å°†æµ‹è¯•å‡½æ•°åä½œä¸ºå‚æ•°ä¼ é€’ç»™ `unittest.defaultTestLoader.loadTestsFromName()` æ–¹æ³•æ¥è·å–æŒ‡å®šçš„æµ‹è¯•å‡½æ•°ã€‚è€Œ `unittest.TestSuite()` åˆ™å¯ä»¥å°†å¤šä¸ªæµ‹è¯•å‡½æ•°æ‰“åŒ…æˆä¸€ä¸ªæµ‹è¯•å¥—ä»¶ã€‚\n\nå› æ­¤ï¼Œå¦‚æœéœ€è¦åœ¨ä¸€ä¸ªè„šæœ¬ä¸­æ‰§è¡Œå¤šä¸ªæµ‹è¯•å‡½æ•°ï¼Œå¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤è¿›è¡Œï¼š\n\n1. å®šä¹‰å¤šä¸ªæµ‹è¯•å‡½æ•°ï¼Œå¹¶å°†æ¯ä¸ªæµ‹è¯•å‡½æ•°éƒ½æ‰“åŒ…æˆä¸€ä¸ªæµ‹è¯•å¥—ä»¶ï¼›\n2. å°†æ‰€æœ‰æµ‹è¯•å¥—ä»¶æ·»åŠ åˆ°ä¸»æµ‹è¯•å¥—ä»¶ä¸­ï¼›\n3. ä½¿ç”¨ `unittest.TextTestRunner()` æ‰§è¡Œä¸»æµ‹è¯•å¥—ä»¶ã€‚\n\nåœ¨ä½ æä¾›çš„ä»£ç ä¸­ï¼Œ`TestAddArticle` ç±»å’Œ `TestAdminLogin` ç±»éƒ½ç»§æ‰¿è‡ª `unittest.TestCase`ï¼Œå› æ­¤å¯ä»¥å°†å®ƒä»¬åˆ†åˆ«æ‰“åŒ…æˆæµ‹è¯•å¥—ä»¶ï¼Œå¹¶æ·»åŠ åˆ°ä¸»æµ‹è¯•å¥—ä»¶ä¸­ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š\n\n```\nimport unittest\n\nclass TestAddArticle(unittest.TestCase):\n    def test_add_article_ok(self):\n        print(&quot;Test add article OK&quot;)\n\nclass TestAdminLogin(unittest.TestCase):\n    def test_login_ok(self):\n        print(&quot;Test login OK&quot;)\n\nif __name__ == &#39;__main__&#39;:\n    # å°†æµ‹è¯•å‡½æ•°æ‰“åŒ…æˆæµ‹è¯•å¥—ä»¶\n    suite_article = unittest.TestLoader().loadTestsFromTestCase(TestAddArticle)\n    suite_login = unittest.TestLoader().loadTestsFromTestCase(TestAdminLogin)\n\n    # åˆ›å»ºä¸»æµ‹è¯•å¥—ä»¶å¹¶æ·»åŠ æµ‹è¯•å¥—ä»¶\n    all_tests = unittest.TestSuite([suite_article, suite_login])\n\n    # æ‰§è¡Œä¸»æµ‹è¯•å¥—ä»¶\n    runner = unittest.TextTestRunner()\n    runner.run(all_tests)\n```\n\nåœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œé¦–å…ˆå°† `TestAddArticle` å’Œ `TestAdminLogin` ç±»ä¸­çš„æµ‹è¯•å‡½æ•°æ‰“åŒ…æˆæµ‹è¯•å¥—ä»¶ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°ä¸»æµ‹è¯•å¥—ä»¶ `all_tests` ä¸­ã€‚ç„¶åä½¿ç”¨ `unittest.TextTestRunner()` æ‰§è¡Œä¸»æµ‹è¯•å¥—ä»¶å³å¯ã€‚\n\nè‡³äº `__init__()` æ–¹æ³•ä¸­çš„ `method` å‚æ•°ï¼Œé€šå¸¸æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ `None`ï¼Œå› ä¸º `unittest.TestCase` ä¸­å·²ç»å®šä¹‰äº†æµ‹è¯•å‡½æ•°çš„æ‰§è¡Œæ–¹æ³•ã€‚å¦‚æœéœ€è¦è‡ªå®šä¹‰æµ‹è¯•å‡½æ•°çš„æ‰§è¡Œæ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡é‡å†™ `runTest()` æ–¹æ³•æ¥å®ç°ã€‚ä¾‹å¦‚ï¼š\n\n```\nclass TestAddArticle(unittest.TestCase):\n    def __init__(self, login):\n        super().__init__()\n        self.login = login\n\n    def runTest(self):\n        self.login()\n        print(&quot;Test add article OK&quot;)\n\nclass TestAdminLogin(unittest.TestCase):\n    def __init__(self):\n        super().__init__()\n\n    def runTest(self):\n        print(&quot;Test login OK&quot;)\n\nif __name__ == &#39;__main__&#39;:\n    login = TestAdminLogin()\n    test_article = TestAddArticle(login)\n    test_article.run()\n```\n\nåœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œ`TestAddArticle` ç±»çš„ `__init__()` æ–¹æ³•æ¥æ”¶ä¸€ä¸ª `login` å‚æ•°ï¼Œå¹¶å°†å…¶ä¿å­˜åœ¨å®ä¾‹å±æ€§ä¸­ã€‚ç„¶åé‡å†™äº† `runTest()` æ–¹æ³•ï¼Œå…ˆæ‰§è¡Œç™»å½•æ“ä½œï¼Œç„¶åå†æ‰§è¡Œæ·»åŠ æ–‡ç« çš„æ“ä½œã€‚`TestAdminLogin` ç±»åŒç†ï¼Œåªæ˜¯ä¸éœ€è¦æ¥æ”¶å‚æ•°ã€‚æœ€ååœ¨ `__main__` å‡½æ•°ä¸­åˆ†åˆ«åˆ›å»ºä¸¤ä¸ªæµ‹è¯•ç±»çš„å®ä¾‹ï¼Œç„¶åè°ƒç”¨ `run()` æ–¹æ³•æ‰§è¡Œæµ‹è¯•å‡½æ•°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1654315,"ctime":1677056471,"ip_address":"æ²³åŒ—","comment_id":340751,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"def __init__(self,method,login):\n        unittest.TestCase.__init__(self,method)\n        self.login = login\nif __name__ == &#39;__main__&#39;:\n    login = TestAdminLogin()\n    login.test_login_ok()\n\n    test_article = TestAddArticle()  æç¤ºå‚æ•°methodå’Œloginæœªå¡«ï¼Œè¿™é‡Œçš„methodä¼ ä»€ä¹ˆå†…å®¹ï¼Ÿ\n    test_article.test_add_article_ok()","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"éƒ­å®å¿—","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":606281,"discussion_content":"åœ¨ä½¿ç”¨ unittest.TestCase ç¼–å†™æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œå¯ä»¥é€šè¿‡å°†æµ‹è¯•å‡½æ•°åä½œä¸ºå‚æ•°ä¼ é€’ç»™ `unittest.defaultTestLoader.loadTestsFromName()` æ–¹æ³•æ¥è·å–æŒ‡å®šçš„æµ‹è¯•å‡½æ•°ã€‚è€Œ `unittest.TestSuite()` åˆ™å¯ä»¥å°†å¤šä¸ªæµ‹è¯•å‡½æ•°æ‰“åŒ…æˆä¸€ä¸ªæµ‹è¯•å¥—ä»¶ã€‚\n\nå› æ­¤ï¼Œå¦‚æœéœ€è¦åœ¨ä¸€ä¸ªè„šæœ¬ä¸­æ‰§è¡Œå¤šä¸ªæµ‹è¯•å‡½æ•°ï¼Œå¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤è¿›è¡Œï¼š\n\n1. å®šä¹‰å¤šä¸ªæµ‹è¯•å‡½æ•°ï¼Œå¹¶å°†æ¯ä¸ªæµ‹è¯•å‡½æ•°éƒ½æ‰“åŒ…æˆä¸€ä¸ªæµ‹è¯•å¥—ä»¶ï¼›\n2. å°†æ‰€æœ‰æµ‹è¯•å¥—ä»¶æ·»åŠ åˆ°ä¸»æµ‹è¯•å¥—ä»¶ä¸­ï¼›\n3. ä½¿ç”¨ `unittest.TextTestRunner()` æ‰§è¡Œä¸»æµ‹è¯•å¥—ä»¶ã€‚\n\nåœ¨ä½ æä¾›çš„ä»£ç ä¸­ï¼Œ`TestAddArticle` ç±»å’Œ `TestAdminLogin` ç±»éƒ½ç»§æ‰¿è‡ª `unittest.TestCase`ï¼Œå› æ­¤å¯ä»¥å°†å®ƒä»¬åˆ†åˆ«æ‰“åŒ…æˆæµ‹è¯•å¥—ä»¶ï¼Œå¹¶æ·»åŠ åˆ°ä¸»æµ‹è¯•å¥—ä»¶ä¸­ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š\n\n```\nimport unittest\n\nclass TestAddArticle(unittest.TestCase):\n    def test_add_article_ok(self):\n        print(&#34;Test add article OK&#34;)\n\nclass TestAdminLogin(unittest.TestCase):\n    def test_login_ok(self):\n        print(&#34;Test login OK&#34;)\n\nif __name__ == &#39;__main__&#39;:\n    # å°†æµ‹è¯•å‡½æ•°æ‰“åŒ…æˆæµ‹è¯•å¥—ä»¶\n    suite_article = unittest.TestLoader().loadTestsFromTestCase(TestAddArticle)\n    suite_login = unittest.TestLoader().loadTestsFromTestCase(TestAdminLogin)\n\n    # åˆ›å»ºä¸»æµ‹è¯•å¥—ä»¶å¹¶æ·»åŠ æµ‹è¯•å¥—ä»¶\n    all_tests = unittest.TestSuite([suite_article, suite_login])\n\n    # æ‰§è¡Œä¸»æµ‹è¯•å¥—ä»¶\n    runner = unittest.TextTestRunner()\n    runner.run(all_tests)\n```\n\nåœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œé¦–å…ˆå°† `TestAddArticle` å’Œ `TestAdminLogin` ç±»ä¸­çš„æµ‹è¯•å‡½æ•°æ‰“åŒ…æˆæµ‹è¯•å¥—ä»¶ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°ä¸»æµ‹è¯•å¥—ä»¶ `all_tests` ä¸­ã€‚ç„¶åä½¿ç”¨ `unittest.TextTestRunner()` æ‰§è¡Œä¸»æµ‹è¯•å¥—ä»¶å³å¯ã€‚\n\nè‡³äº `__init__()` æ–¹æ³•ä¸­çš„ `method` å‚æ•°ï¼Œé€šå¸¸æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ `None`ï¼Œå› ä¸º `unittest.TestCase` ä¸­å·²ç»å®šä¹‰äº†æµ‹è¯•å‡½æ•°çš„æ‰§è¡Œæ–¹æ³•ã€‚å¦‚æœéœ€è¦è‡ªå®šä¹‰æµ‹è¯•å‡½æ•°çš„æ‰§è¡Œæ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡é‡å†™ `runTest()` æ–¹æ³•æ¥å®ç°ã€‚ä¾‹å¦‚ï¼š\n\n```\nclass TestAddArticle(unittest.TestCase):\n    def __init__(self, login):\n        super().__init__()\n        self.login = login\n\n    def runTest(self):\n        self.login()\n        print(&#34;Test add article OK&#34;)\n\nclass TestAdminLogin(unittest.TestCase):\n    def __init__(self):\n        super().__init__()\n\n    def runTest(self):\n        print(&#34;Test login OK&#34;)\n\nif __name__ == &#39;__main__&#39;:\n    login = TestAdminLogin()\n    test_article = TestAddArticle(login)\n    test_article.run()\n```\n\nåœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œ`TestAddArticle` ç±»çš„ `__init__()` æ–¹æ³•æ¥æ”¶ä¸€ä¸ª `login` å‚æ•°ï¼Œå¹¶å°†å…¶ä¿å­˜åœ¨å®ä¾‹å±æ€§ä¸­ã€‚ç„¶åé‡å†™äº† `runTest()` æ–¹æ³•ï¼Œå…ˆæ‰§è¡Œç™»å½•æ“ä½œï¼Œç„¶åå†æ‰§è¡Œæ·»åŠ æ–‡ç« çš„æ“ä½œã€‚`TestAdminLogin` ç±»åŒç†ï¼Œåªæ˜¯ä¸éœ€è¦æ¥æ”¶å‚æ•°ã€‚æœ€ååœ¨ `__main__` å‡½æ•°ä¸­åˆ†åˆ«åˆ›å»ºä¸¤ä¸ªæµ‹è¯•ç±»çš„å®ä¾‹ï¼Œç„¶åè°ƒç”¨ `run()` æ–¹æ³•æ‰§è¡Œæµ‹è¯•å‡½æ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677056471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ²³åŒ—","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335156,"user_name":"yjluo","can_delete":false,"product_type":"c3","uid":2071682,"ip_address":"","ucode":"8C3AD3D2244D24","user_header":"https://static001.geekbang.org/account/avatar/00/1f/9c/82/7e9d406d.jpg","comment_is_top":false,"comment_ctime":1645364705,"is_pvip":false,"replies":[{"id":125487,"content":"å¯¹ç…§ä¸€ä¸‹æˆ‘çš„è§†é¢‘å’Œæºç ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1654315,"ctime":1651036731,"ip_address":"","comment_id":335156,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"class LoginTest(unittest.TestCase):\n    @classmethod\n    def setUpClass(cls) -&gt; None:\n        cls.driver=webdriver.Chrome()\n        cls.driver.get(&#39;*****&#39;)\n        cls.driver.maximize_window()\n     def test1(self):\n        pass\n\n    @classmethod\n    def tearDownClass(cls) -&gt; None:\n        cls.driver.qiut()\n\næƒ³é—®ä¸‹æœ€åè°ƒç”¨tearDownClass()æ–¹æ³•ï¼Œcls.è¯†åˆ«ä¸äº†driverå˜é‡ï¼Œæ²¡æ³•å…³é—­æµè§ˆå™¨ï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"éƒ­å®å¿—","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":567992,"discussion_content":"å¯¹ç…§ä¸€ä¸‹æˆ‘çš„è§†é¢‘å’Œæºç ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651036731,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311622,"user_name":"ZBQ","can_delete":false,"product_type":"c3","uid":2758074,"ip_address":"","ucode":"9E2D687E4D20FA","user_header":"https://static001.geekbang.org/account/avatar/00/2a/15/ba/433ddf57.jpg","comment_is_top":false,"comment_ctime":1631347003,"is_pvip":false,"replies":[{"id":113810,"content":"éƒ½åœ¨æºç é‡Œé¢","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­å®å¿—","uid":1654315,"ctime":1632913298,"ip_address":"","comment_id":311622,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"æœ‰æ²¡æœ‰å®Œæ•´çš„é‡æ„ä»£ç ","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"éƒ­å®å¿—","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526682,"discussion_content":"éƒ½åœ¨æºç é‡Œé¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632913298,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":265353,"user_name":"Geek_88b1a8","can_delete":false,"product_type":"c3","uid":2307175,"ip_address":"","ucode":"60F2827FC1FFAA","user_header":"https://static001.geekbang.org/account/avatar/00/23/34/67/6c0374dc.jpg","comment_is_top":false,"comment_ctime":1606876861,"is_pvip":false,"replies":[{"id":97192,"content":"åœ¨åˆå§‹åŒ–æ–¹æ³•åŠ å‚æ•°","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­å®å¿—","uid":1654315,"ctime":1607852972,"ip_address":"","comment_id":265353,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"è€å¸ˆï¼Œæˆ‘åœ¨ç”¨unittesté‡æ„è¿™ä¸ªæ·»åŠ æ–‡ç« ä½†æ˜¯æ—¶å€™æŠ¥è¿™é”™ï¼Œå°è¯• äº†å¥½ä¹…éƒ½æ²¡è§£å†³ï¼Œæ‚¨å¯ä»¥å¸®æˆ‘çœ‹ä¸€ä¸‹æ˜¯ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ\næŠ¥é”™çš„ä¿¡æ¯ï¼š    TypeError: __init__() missing 1 required positional argument: &#39;login&#39; \n\næˆ‘çš„è°ƒç”¨ï¼š\nif __name__ == &#39;__main__&#39;:\n    login = TestAdminLogin()\n    login.test_admin_login_ok()\n\n    testArticle = TestArticle(login)\n    testArticle.test_add_article_ok()","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"éƒ­å®å¿—","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510898,"discussion_content":"åœ¨åˆå§‹åŒ–æ–¹æ³•åŠ å‚æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607852972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2071682,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/9c/82/7e9d406d.jpg","nickname":"yjluo","note":"","ucode":"8C3AD3D2244D24","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552431,"discussion_content":"åŒæ ·çš„é—®é¢˜ï¼Œè§£å†³äº†å—\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645456849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2149593,"avatar":"https://static001.geekbang.org/account/avatar/00/20/cc/d9/0d0fe009.jpg","nickname":"å¤§çº¢è–¯å¤´ğŸ ","note":"","ucode":"5BCD7AC2C7FF6B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536213,"discussion_content":"è¿™ä¸ªæ–¹æ³•ä½ è§£å†³äº†å—\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638716699,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":251735,"user_name":"ç“œçš®å–µå®å®","can_delete":false,"product_type":"c3","uid":1785777,"ip_address":"","ucode":"E6CD4BBFB9BD69","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK3a1ToFjF6geqLW8IIOMyHgvLvicQciaJwx7dryiavl3OVRIH5Dc3uvhYAYhvRzQ8hxPicjC80SEP77Q/132","comment_is_top":false,"comment_ctime":1601815464,"is_pvip":false,"replies":[{"id":92132,"content":"çœ‹çœ‹æµ‹è¯•ç±» æ˜¯å¦ç»§æ‰¿äº†unittestçš„çˆ¶ç±» ","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­å®å¿—","uid":1654315,"ctime":1602157493,"ip_address":"","comment_id":251735,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"è€å¸ˆï¼Œåœ¨åšunittesté‡æ„æ—¶ï¼Œæ¯”å¦‚test_article.pyç±»ä¸­ï¼Œæ”¹å†™ä¸ºunittestæ–­è¨€æ–¹å¼ï¼Œä¼šæŠ¥é”™ï¼Œå¦‚ï¼š\nself.assertEqual(msg_text, expected)\næ‰§è¡ŒåAttributeError: &#39;TestArticle&#39; object has no attribute &#39;_type_equality_funcs&#39;\næŠ¥é”™ä½ç½®å°±åœ¨æ”¹å†™çš„æ–­è¨€ä¸Šï¼›\nè°ƒæ•´ä¸ºä¹‹å‰ï¼Œassert msg.text == expectedåˆ™æ‰§è¡ŒæˆåŠŸï¼›\næ–­ç‚¹è°ƒè¯•çš„æ—¶å€™æ¯”è¾ƒçœ‹äº†ä¸‹msg_text å’Œ expectedä¹Ÿæ˜¯ä¸€è‡´çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"éƒ­å®å¿—","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506597,"discussion_content":"çœ‹çœ‹æµ‹è¯•ç±» æ˜¯å¦ç»§æ‰¿äº†unittestçš„çˆ¶ç±» ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602157493,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":246424,"user_name":"è¥¿è¥¿","can_delete":false,"product_type":"c3","uid":2076788,"ip_address":"","ucode":"2BB5426B086336","user_header":"https://static001.geekbang.org/account/avatar/00/1f/b0/74/03b6b01a.jpg","comment_is_top":false,"comment_ctime":1599319375,"is_pvip":false,"replies":[{"id":90714,"content":"è¿™ä¸ªå°±æ˜¯Pythonè¯­æ³•è·Ÿseæ²¡å•¥å…³ç³» å¦‚æœä¸æ˜¯é»˜è®¤å‚æ•° æ˜¯å¿…é¡»è¦ä¼ å‚çš„","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­å®å¿—","uid":1654315,"ctime":1599537647,"ip_address":"","comment_id":246424,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"class TestArticle(unittest.TestCase):\n    def __init__(self, method, login):\n        unittest.TestCase.__init__(self, method)\n        self.login = login\nè€å¸ˆ  new TestArticç±»çš„å¯¹è±¡æ—¶å€™ä¸ºä»€ä¹ˆä¸éœ€è¦ä¼ methodå‚æ•°ï¼Œåªéœ€è¦ä¼ loginå‚æ•°å‘¢\n","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"éƒ­å®å¿—","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505138,"discussion_content":"è¿™ä¸ªå°±æ˜¯Pythonè¯­æ³•è·Ÿseæ²¡å•¥å…³ç³» å¦‚æœä¸æ˜¯é»˜è®¤å‚æ•° æ˜¯å¿…é¡»è¦ä¼ å‚çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599537647,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1575475,"avatar":"https://static001.geekbang.org/account/avatar/00/18/0a/33/292a3f4b.jpg","nickname":"ä»å‰ä»å‰","note":"","ucode":"73ED0B74D9DCB0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":564168,"discussion_content":"def __init__(self, login):\n\t\tsuper().__init__()\n\t\tself.login = login\n\næˆ‘è¿™æ ·ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650174978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241708,"user_name":"Geek_jf52tq","can_delete":false,"product_type":"c3","uid":1350004,"ip_address":"","ucode":"69702DFB599C49","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/V5Q9iapkWRXblWVn7fpnA5l9nAKF023UPDnS7bib8Ylrt91epNicdeJFic0fDH8W4ickO4cdylNN50kYn9pWSDCgHEg/132","comment_is_top":false,"comment_ctime":1597396077,"is_pvip":false,"replies":[{"id":89249,"content":"è®¾ç½®æ–­ç‚¹ çœ‹çœ‹driveråˆå§‹åŒ–äº†å—","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­å®å¿—","uid":1654315,"ctime":1597417833,"ip_address":"","comment_id":241708,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"if __name__ == &#39;__main__&#39;:\n    login = TestUserLogin()\n    login.test2_user_login_ok()\n\nclass TestUserLogin(unittest.TestCase):\n\n------------------------------------\n    @classmethod\n    def setUpClass(cls) -&gt; None:\n        cls.driver = webdriver.Chrome()\n        cls.driver.get(url)\n        cls.driver.maximize_window()\n\nè¿è¡Œmainçš„æ—¶å€™ä¼šæŠ¥\nAttributeError: &#39;TestUserLogin&#39; object has no attribute &#39;driver&#39;","like_count":0,"discussions":[{"author":{"id":1654315,"avatar":"https://static001.geekbang.org/account/avatar/00/19/3e/2b/93fb1b73.jpg","nickname":"éƒ­å®å¿—","note":"","ucode":"952E0F3E2AA0F8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503821,"discussion_content":"è®¾ç½®æ–­ç‚¹ çœ‹çœ‹driveråˆå§‹åŒ–äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597417833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1350004,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/V5Q9iapkWRXblWVn7fpnA5l9nAKF023UPDnS7bib8Ylrt91epNicdeJFic0fDH8W4ickO4cdylNN50kYn9pWSDCgHEg/132","nickname":"Geek_jf52tq","note":"","ucode":"69702DFB599C49","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298821,"discussion_content":"if __name__ == &#39;__main__&#39;:\n    login = TestUserLogin()\n    login.setUpClass()\n    login.test2_user_login_ok()\n\næŠŠåˆå§‹åŒ–å®ä¾‹äº†ä¸€ä¸‹åå¯ä»¥äº†ï¼Œä½†æ˜¯çœ‹è§†é¢‘ä¸ç”¨åˆå§‹åŒ–å®ä¾‹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1597411395,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1350004,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/V5Q9iapkWRXblWVn7fpnA5l9nAKF023UPDnS7bib8Ylrt91epNicdeJFic0fDH8W4ickO4cdylNN50kYn9pWSDCgHEg/132","nickname":"Geek_jf52tq","note":"","ucode":"69702DFB599C49","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298837,"discussion_content":"çŸ­ç‚¹è®¾ç½®åœ¨login = TestUserLogin()ï¼Œä¹Ÿæ˜¯æŠ¥object has no attribute &#39;driver&#39;ï¼Œæ²¡æœ‰åˆå§‹åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597418162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342291,"user_name":"ä»å‰ä»å‰","can_delete":false,"product_type":"c3","uid":1575475,"ip_address":"","ucode":"73ED0B74D9DCB0","user_header":"https://static001.geekbang.org/account/avatar/00/18/0a/33/292a3f4b.jpg","comment_is_top":false,"comment_ctime":1650173216,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100055601,"comment_content":"æ²¡æœ‰äººå‘ç°ï¼Œè€å¸ˆåé¢è·‘çš„ä¸æ˜¯é‡æ„çš„ä»£ç å—ï¼Œåº”è¯¥æ˜¯unitteståŒ…ä¸‹çš„ï¼Œå¼•å…¥åŒ…æ²¡æ”¹","like_count":0}]}
{"id":39858,"title":"18 | ifè¯­å¥ã€forè¯­å¥å’Œswitchè¯­å¥","content":"<p>åœ¨ä¸Šä¸¤ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä¸»è¦ä¸ºä½ è®²è§£äº†ä¸<code>go</code>è¯­å¥ã€goroutineå’ŒGoè¯­è¨€è°ƒåº¦å™¨æœ‰å…³çš„çŸ¥è¯†å’ŒæŠ€æ³•ã€‚</p><p>å†…å®¹å¾ˆå¤šï¼Œä½ ä¸ç”¨æ€¥äºå®Œå…¨æ¶ˆåŒ–ï¼Œå¯ä»¥åœ¨ç¼–ç¨‹å®è·µè¿‡ç¨‹ä¸­é€æ­¥ç†è§£å’Œæ„Ÿæ‚Ÿï¼Œäº‰å–å¤¯å®å®ƒä»¬ã€‚</p><hr></hr><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æš‚æ—¶èµ°ä¸‹ç¥å›ï¼Œå›å½’æ°‘é—´ã€‚æˆ‘ä»Šå¤©è¦è®²çš„<code>if</code>è¯­å¥ã€<code>for</code>è¯­å¥å’Œ<code>switch</code>è¯­å¥éƒ½å±äºGoè¯­è¨€çš„åŸºæœ¬æµç¨‹æ§åˆ¶è¯­å¥ã€‚å®ƒä»¬çš„è¯­æ³•çœ‹èµ·æ¥å¾ˆæœ´ç´ ï¼Œä½†å®é™…ä¸Šä¹Ÿä¼šæœ‰ä¸€äº›ä½¿ç”¨æŠ€å·§å’Œæ³¨æ„äº‹é¡¹ã€‚æˆ‘åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ä¼šä»¥ä¸€ç³»åˆ—é¢è¯•é¢˜ä¸ºçº¿ç´¢ï¼Œä¸ºä½ è®²è¿°å®ƒä»¬çš„ç”¨æ³•ã€‚</p><p>é‚£ä¹ˆï¼Œ<strong>ä»Šå¤©çš„é—®é¢˜æ˜¯ï¼šä½¿ç”¨æºå¸¦<code>range</code>å­å¥çš„<code>for</code>è¯­å¥æ—¶éœ€è¦æ³¨æ„å“ªäº›ç»†èŠ‚ï¼Ÿ</strong> è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒç¬¼ç»Ÿçš„é—®é¢˜ã€‚æˆ‘è¿˜æ˜¯é€šè¿‡ç¼–ç¨‹é¢˜æ¥è®²è§£å§ã€‚</p><blockquote>\n<p><span class=\"reference\">æœ¬é—®é¢˜ä¸­çš„ä»£ç éƒ½è¢«æ”¾åœ¨äº†å‘½ä»¤æºç æ–‡ä»¶demo41.goçš„<code>main</code>å‡½æ•°ä¸­çš„ã€‚ä¸ºäº†ä¸“æ³¨é—®é¢˜æœ¬èº«ï¼Œæœ¬ç¯‡æ–‡ç« ä¸­å±•ç¤ºçš„ç¼–ç¨‹é¢˜ä¼šçœç•¥æ‰ä¸€éƒ¨åˆ†ä»£ç åŒ…å£°æ˜è¯­å¥ã€ä»£ç åŒ…å¯¼å…¥è¯­å¥å’Œ<code>main</code>å‡½æ•°æœ¬èº«çš„å£°æ˜éƒ¨åˆ†ã€‚</span></p>\n</blockquote><pre><code>numbers1 := []int{1, 2, 3, 4, 5, 6}\nfor i := range numbers1 {\n\tif i == 3 {\n\t\tnumbers1[i] |= i\n\t}\n}\nfmt.Println(numbers1)\n</code></pre><p>æˆ‘å…ˆå£°æ˜äº†ä¸€ä¸ªå…ƒç´ ç±»å‹ä¸º<code>int</code>çš„åˆ‡ç‰‡ç±»å‹çš„å˜é‡<code>numbers1</code>ï¼Œåœ¨è¯¥åˆ‡ç‰‡ä¸­æœ‰6ä¸ªå…ƒç´ å€¼ï¼Œåˆ†åˆ«æ˜¯ä»<code>1</code>åˆ°<code>6</code>çš„æ•´æ•°ã€‚æˆ‘ç”¨ä¸€æ¡æºå¸¦<code>range</code>å­å¥çš„<code>for</code>è¯­å¥å»è¿­ä»£<code>numbers1</code>å˜é‡ä¸­çš„æ‰€æœ‰å…ƒç´ å€¼ã€‚</p><p>åœ¨è¿™æ¡<code>for</code>è¯­å¥ä¸­ï¼Œåªæœ‰ä¸€ä¸ªè¿­ä»£å˜é‡<code>i</code>ã€‚æˆ‘åœ¨æ¯æ¬¡è¿­ä»£æ—¶ï¼Œéƒ½ä¼šå…ˆå»åˆ¤æ–­<code>i</code>çš„å€¼æ˜¯å¦ç­‰äº<code>3</code>ï¼Œå¦‚æœç»“æœä¸º<code>true</code>ï¼Œé‚£ä¹ˆå°±è®©<code>numbers1</code>çš„ç¬¬<code>i</code>ä¸ªå…ƒç´ å€¼ä¸<code>i</code>æœ¬èº«åšæŒ‰ä½æˆ–çš„æ“ä½œï¼Œå†æŠŠæ“ä½œç»“æœä½œä¸º<code>numbers1</code>çš„æ–°çš„ç¬¬<code>i</code>ä¸ªå…ƒç´ å€¼ã€‚æœ€åæˆ‘ä¼šæ‰“å°å‡º<code>numbers1</code>çš„å€¼ã€‚</p><!-- [[[read_end]]] --><p>æ‰€ä»¥å…·ä½“çš„é—®é¢˜å°±æ˜¯ï¼Œè¿™æ®µä»£ç æ‰§è¡Œåä¼šæ‰“å°å‡ºä»€ä¹ˆå†…å®¹ï¼Ÿ</p><p>è¿™é‡Œçš„<strong>å…¸å‹å›ç­”</strong>æ˜¯ï¼šæ‰“å°çš„å†…å®¹ä¼šæ˜¯<code>[1 2 3 7 5 6]</code>ã€‚</p><h2>é—®é¢˜è§£æ</h2><p>ä½ å¿ƒç®—å¾—åˆ°çš„ç­”æ¡ˆæ˜¯è¿™æ ·å—ï¼Ÿè®©æˆ‘ä»¬ä¸€èµ·æ¥å¤ç°ä¸€ä¸‹è¿™ä¸ªè®¡ç®—è¿‡ç¨‹ã€‚</p><p>å½“<code>for</code>è¯­å¥è¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œåœ¨<code>range</code>å…³é”®å­—å³è¾¹çš„<code>numbers1</code>ä¼šå…ˆè¢«æ±‚å€¼ã€‚</p><p>è¿™ä¸ªä½ç½®ä¸Šçš„ä»£ç è¢«ç§°ä¸º<code>range</code>è¡¨è¾¾å¼ã€‚<code>range</code>è¡¨è¾¾å¼çš„ç»“æœå€¼å¯ä»¥æ˜¯æ•°ç»„ã€æ•°ç»„çš„æŒ‡é’ˆã€åˆ‡ç‰‡ã€å­—ç¬¦ä¸²ã€å­—å…¸æˆ–è€…å…è®¸æ¥æ”¶æ“ä½œçš„é€šé“ä¸­çš„æŸä¸€ä¸ªï¼Œå¹¶ä¸”ç»“æœå€¼åªèƒ½æœ‰ä¸€ä¸ªã€‚</p><p>å¯¹äºä¸åŒç§ç±»çš„<code>range</code>è¡¨è¾¾å¼ç»“æœå€¼ï¼Œ<code>for</code>è¯­å¥çš„è¿­ä»£å˜é‡çš„æ•°é‡å¯ä»¥æœ‰æ‰€ä¸åŒã€‚</p><p>å°±æ‹¿æˆ‘ä»¬è¿™é‡Œçš„<code>numbers1</code>æ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªåˆ‡ç‰‡ï¼Œé‚£ä¹ˆè¿­ä»£å˜é‡å°±å¯ä»¥æœ‰ä¸¤ä¸ªï¼Œå³è¾¹çš„è¿­ä»£å˜é‡ä»£è¡¨å½“æ¬¡è¿­ä»£å¯¹åº”çš„æŸä¸€ä¸ªå…ƒç´ å€¼ï¼Œè€Œå·¦è¾¹çš„è¿­ä»£å˜é‡åˆ™ä»£è¡¨è¯¥å…ƒç´ å€¼åœ¨åˆ‡ç‰‡ä¸­çš„ç´¢å¼•å€¼ã€‚</p><p>é‚£ä¹ˆï¼Œå¦‚æœåƒæœ¬é¢˜ä»£ç ä¸­çš„<code>for</code>è¯­å¥é‚£æ ·ï¼Œåªæœ‰ä¸€ä¸ªè¿­ä»£å˜é‡çš„æƒ…å†µæ„å‘³ç€ä»€ä¹ˆå‘¢ï¼Ÿè¿™æ„å‘³ç€ï¼Œè¯¥è¿­ä»£å˜é‡åªä¼šä»£è¡¨å½“æ¬¡è¿­ä»£å¯¹åº”çš„å…ƒç´ å€¼çš„ç´¢å¼•å€¼ã€‚</p><p>æ›´å®½æ³›åœ°è®²ï¼Œå½“åªæœ‰ä¸€ä¸ªè¿­ä»£å˜é‡çš„æ—¶å€™ï¼Œæ•°ç»„ã€æ•°ç»„çš„æŒ‡é’ˆã€åˆ‡ç‰‡å’Œå­—ç¬¦ä¸²çš„å…ƒç´ å€¼éƒ½æ˜¯æ— å¤„å®‰æ”¾çš„ï¼Œæˆ‘ä»¬åªèƒ½æ‹¿åˆ°æŒ‰ç…§ä»å°åˆ°å¤§é¡ºåºç»™å‡ºçš„ä¸€ä¸ªä¸ªç´¢å¼•å€¼ã€‚</p><p>å› æ­¤ï¼Œè¿™é‡Œçš„è¿­ä»£å˜é‡<code>i</code>çš„å€¼ä¼šä¾æ¬¡æ˜¯ä»<code>0</code>åˆ°<code>5</code>çš„æ•´æ•°ã€‚å½“<code>i</code>çš„å€¼ç­‰äº<code>3</code>çš„æ—¶å€™ï¼Œä¸ä¹‹å¯¹åº”çš„æ˜¯åˆ‡ç‰‡ä¸­çš„ç¬¬4ä¸ªå…ƒç´ å€¼<code>4</code>ã€‚å¯¹<code>4</code>å’Œ<code>3</code>è¿›è¡ŒæŒ‰ä½æˆ–æ“ä½œå¾—åˆ°çš„ç»“æœæ˜¯<code>7</code>ã€‚è¿™å°±æ˜¯ç­”æ¡ˆä¸­çš„ç¬¬4ä¸ªæ•´æ•°æ˜¯<code>7</code>çš„åŸå› äº†ã€‚</p><p><strong>ç°åœ¨ï¼Œæˆ‘ç¨ç¨ä¿®æ”¹ä¸€ä¸‹ä¸Šé¢çš„ä»£ç ã€‚æˆ‘ä»¬å†æ¥ä¼°ç®—ä¸€ä¸‹æ‰“å°å†…å®¹ã€‚</strong></p><pre><code>numbers2 := [...]int{1, 2, 3, 4, 5, 6}\nmaxIndex2 := len(numbers2) - 1\nfor i, e := range numbers2 {\n\tif i == maxIndex2 {\n\t\tnumbers2[0] += e\n\t} else {\n\t\tnumbers2[i+1] += e\n\t}\n}\nfmt.Println(numbers2)\n</code></pre><p>æ³¨æ„ï¼Œæˆ‘æŠŠè¿­ä»£çš„å¯¹è±¡æ¢æˆäº†<code>numbers2</code>ã€‚<code>numbers2</code>ä¸­çš„å…ƒç´ å€¼åŒæ ·æ˜¯ä»<code>1</code>åˆ°<code>6</code>çš„6ä¸ªæ•´æ•°ï¼Œå¹¶ä¸”å…ƒç´ ç±»å‹åŒæ ·æ˜¯<code>int</code>ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªæ•°ç»„è€Œä¸æ˜¯ä¸€ä¸ªåˆ‡ç‰‡ã€‚</p><p>åœ¨<code>for</code>è¯­å¥ä¸­ï¼Œæˆ‘æ€»æ˜¯ä¼šå¯¹ç´§æŒ¨åœ¨å½“æ¬¡è¿­ä»£å¯¹åº”çš„å…ƒç´ åè¾¹çš„é‚£ä¸ªå…ƒç´ ï¼Œè¿›è¡Œé‡æ–°èµ‹å€¼ï¼Œæ–°çš„å€¼ä¼šæ˜¯è¿™ä¸¤ä¸ªå…ƒç´ çš„å€¼ä¹‹å’Œã€‚å½“è¿­ä»£åˆ°æœ€åä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæˆ‘ä¼šæŠŠæ­¤<code>range</code>è¡¨è¾¾å¼ç»“æœå€¼ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å€¼ï¼Œæ›¿æ¢ä¸ºå®ƒçš„åŸå€¼ä¸æœ€åä¸€ä¸ªå…ƒç´ å€¼çš„å’Œï¼Œæœ€åï¼Œæˆ‘ä¼šæ‰“å°å‡º<code>numbers2</code>çš„å€¼ã€‚</p><p><strong>å¯¹äºè¿™æ®µä»£ç ï¼Œæˆ‘çš„é—®é¢˜ä¾æ—§æ˜¯ï¼šæ‰“å°çš„å†…å®¹ä¼šæ˜¯ä»€ä¹ˆï¼Ÿä½ å¯ä»¥å…ˆæ€è€ƒä¸€ä¸‹ã€‚</strong></p><p>å¥½äº†ï¼Œæˆ‘è¦å…¬å¸ƒç­”æ¡ˆäº†ã€‚æ‰“å°çš„å†…å®¹ä¼šæ˜¯<code>[7 3 5 7 9 11]</code>ã€‚æˆ‘å…ˆæ¥é‡ç°ä¸€ä¸‹è®¡ç®—è¿‡ç¨‹ã€‚å½“<code>for</code>è¯­å¥è¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œåœ¨<code>range</code>å…³é”®å­—å³è¾¹çš„<code>numbers2</code>ä¼šå…ˆè¢«æ±‚å€¼ã€‚</p><p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸¤ç‚¹ï¼š</p><ol>\n<li><code>range</code>è¡¨è¾¾å¼åªä¼šåœ¨<code>for</code>è¯­å¥å¼€å§‹æ‰§è¡Œæ—¶è¢«æ±‚å€¼ä¸€æ¬¡ï¼Œæ— è®ºåè¾¹ä¼šæœ‰å¤šå°‘æ¬¡è¿­ä»£ï¼›</li>\n<li><code>range</code>è¡¨è¾¾å¼çš„æ±‚å€¼ç»“æœä¼šè¢«å¤åˆ¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¢«è¿­ä»£çš„å¯¹è±¡æ˜¯<code>range</code>è¡¨è¾¾å¼ç»“æœå€¼çš„å‰¯æœ¬è€Œä¸æ˜¯åŸå€¼ã€‚</li>\n</ol><p>åŸºäºè¿™ä¸¤ä¸ªè§„åˆ™ï¼Œæˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ã€‚åœ¨ç¬¬ä¸€æ¬¡è¿­ä»£æ—¶ï¼Œæˆ‘æ”¹å˜çš„æ˜¯<code>numbers2</code>çš„ç¬¬äºŒä¸ªå…ƒç´ çš„å€¼ï¼Œæ–°å€¼ä¸º<code>3</code>ï¼Œä¹Ÿå°±æ˜¯<code>1</code>å’Œ<code>2</code>ä¹‹å’Œã€‚</p><p>ä½†æ˜¯ï¼Œè¢«è¿­ä»£çš„å¯¹è±¡çš„ç¬¬äºŒä¸ªå…ƒç´ å´æ²¡æœ‰ä»»ä½•æ”¹å˜ï¼Œæ¯•ç«Ÿå®ƒä¸<code>numbers2</code>å·²ç»æ˜¯æ¯«ä¸ç›¸å…³çš„ä¸¤ä¸ªæ•°ç»„äº†ã€‚å› æ­¤ï¼Œåœ¨ç¬¬äºŒæ¬¡è¿­ä»£æ—¶ï¼Œæˆ‘ä¼šæŠŠ<code>numbers2</code>çš„ç¬¬ä¸‰ä¸ªå…ƒç´ çš„å€¼ä¿®æ”¹ä¸º<code>5</code>ï¼Œå³è¢«è¿­ä»£å¯¹è±¡çš„ç¬¬äºŒä¸ªå…ƒç´ å€¼<code>2</code>å’Œç¬¬ä¸‰ä¸ªå…ƒç´ å€¼<code>3</code>çš„å’Œã€‚</p><p>ä»¥æ­¤ç±»æ¨ï¼Œä¹‹åçš„<code>numbers2</code>çš„å…ƒç´ å€¼ä¾æ¬¡ä¼šæ˜¯<code>7</code>ã€<code>9</code>å’Œ<code>11</code>ã€‚å½“è¿­ä»£åˆ°æœ€åä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæˆ‘ä¼šæŠŠ<code>numbers2</code>çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ä¿®æ”¹ä¸º<code>1</code>å’Œ<code>6</code>ä¹‹å’Œã€‚</p><p>å¥½äº†ï¼Œç°åœ¨è¯¥ä½ æ“åˆ€äº†ã€‚ä½ éœ€è¦æŠŠ<code>numbers2</code>çš„å€¼ç”±ä¸€ä¸ªæ•°ç»„æ”¹æˆä¸€ä¸ªåˆ‡ç‰‡ï¼Œå…¶ä¸­çš„å…ƒç´ å€¼éƒ½ä¸è¦å˜ã€‚ä¸ºäº†é¿å…æ··æ·†ï¼Œä½ è¿˜è¦æŠŠè¿™ä¸ªåˆ‡ç‰‡å€¼èµ‹ç»™å˜é‡<code>numbers3</code>ï¼Œå¹¶ä¸”æŠŠåè¾¹ä»£ç ä¸­æ‰€æœ‰çš„<code>numbers2</code>éƒ½æ”¹ä¸º<code>numbers3</code>ã€‚</p><p>é—®é¢˜æ˜¯ä¸å˜çš„ï¼Œæ‰§è¡Œè¿™æ®µä¿®æ”¹ç‰ˆçš„ä»£ç åæ‰“å°çš„å†…å®¹ä¼šæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå¦‚æœä½ å®åœ¨ä¼°ç®—ä¸å‡ºæ¥ï¼Œå¯ä»¥å…ˆå®é™…æ‰§è¡Œä¸€ä¸‹ï¼Œç„¶åå†å°è¯•è§£é‡Šçœ‹åˆ°çš„ç­”æ¡ˆã€‚æç¤ºä¸€ä¸‹ï¼Œåˆ‡ç‰‡ä¸æ•°ç»„æ˜¯ä¸åŒçš„ï¼Œå‰è€…æ˜¯å¼•ç”¨ç±»å‹çš„ï¼Œè€Œåè€…æ˜¯å€¼ç±»å‹çš„ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å…ˆæ¥ç€è®¨è®ºåè¾¹çš„å†…å®¹ï¼Œä½†æ˜¯æˆ‘å¼ºçƒˆå»ºè®®ä½ ä¸€å®šè¦å›æ¥ï¼Œå†çœ‹çœ‹æˆ‘ç•™ç»™ä½ çš„è¿™ä¸ªé—®é¢˜ï¼Œè®¤çœŸåœ°æ€è€ƒå’Œè®¡ç®—ä¸€ä¸‹ã€‚</p><p><strong>çŸ¥è¯†æ‰©å±•</strong></p><p><strong>é—®é¢˜1ï¼š<code>switch</code>è¯­å¥ä¸­çš„<code>switch</code>è¡¨è¾¾å¼å’Œ<code>case</code>è¡¨è¾¾å¼ä¹‹é—´æœ‰ç€æ€æ ·çš„è”ç³»ï¼Ÿ</strong></p><p>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ã€‚</p><pre><code>value1 := [...]int8{0, 1, 2, 3, 4, 5, 6}\nswitch 1 + 3 {\ncase value1[0], value1[1]:\n\tfmt.Println(&quot;0 or 1&quot;)\ncase value1[2], value1[3]:\n\tfmt.Println(&quot;2 or 3&quot;)\ncase value1[4], value1[5], value1[6]:\n\tfmt.Println(&quot;4 or 5 or 6&quot;)\n}\n</code></pre><p>æˆ‘å…ˆå£°æ˜äº†ä¸€ä¸ªæ•°ç»„ç±»å‹çš„å˜é‡<code>value1</code>ï¼Œè¯¥å˜é‡çš„å…ƒç´ ç±»å‹æ˜¯<code>int8</code>ã€‚åœ¨åè¾¹çš„<code>switch</code>è¯­å¥ä¸­ï¼Œè¢«å¤¹åœ¨<code>switch</code>å…³é”®å­—å’Œå·¦èŠ±æ‹¬å·<code>{</code>ä¹‹é—´çš„æ˜¯<code>1 + 3</code>ï¼Œè¿™ä¸ªä½ç½®ä¸Šçš„ä»£ç è¢«ç§°ä¸º<code>switch</code>è¡¨è¾¾å¼ã€‚è¿™ä¸ª<code>switch</code>è¯­å¥è¿˜åŒ…å«äº†ä¸‰ä¸ª<code>case</code>å­å¥ï¼Œè€Œæ¯ä¸ª<code>case</code>å­å¥åˆå„åŒ…å«äº†ä¸€ä¸ª<code>case</code>è¡¨è¾¾å¼å’Œä¸€æ¡æ‰“å°è¯­å¥ã€‚</p><p>æ‰€è°“çš„<code>case</code>è¡¨è¾¾å¼ä¸€èˆ¬ç”±<code>case</code>å…³é”®å­—å’Œä¸€ä¸ªè¡¨è¾¾å¼åˆ—è¡¨ç»„æˆï¼Œè¡¨è¾¾å¼åˆ—è¡¨ä¸­çš„å¤šä¸ªè¡¨è¾¾å¼ä¹‹é—´éœ€è¦æœ‰è‹±æ–‡é€—å·<code>,</code>åˆ†å‰²ï¼Œæ¯”å¦‚ï¼Œä¸Šé¢ä»£ç ä¸­çš„<code>case value1[0], value1[1]</code>å°±æ˜¯ä¸€ä¸ª<code>case</code>è¡¨è¾¾å¼ï¼Œå…¶ä¸­çš„ä¸¤ä¸ªå­è¡¨è¾¾å¼éƒ½æ˜¯ç”±ç´¢å¼•è¡¨è¾¾å¼è¡¨ç¤ºçš„ã€‚</p><p>å¦å¤–çš„ä¸¤ä¸ª<code>case</code>è¡¨è¾¾å¼åˆ†åˆ«æ˜¯<code>case value1[2], value1[3]</code>å’Œ<code>case value1[4], value1[5], value1[6]</code>ã€‚</p><p>æ­¤å¤–ï¼Œåœ¨è¿™é‡Œçš„æ¯ä¸ª<code>case</code>å­å¥ä¸­çš„é‚£äº›æ‰“å°è¯­å¥ï¼Œä¼šåˆ†åˆ«æ‰“å°å‡ºä¸åŒçš„å†…å®¹ï¼Œè¿™äº›å†…å®¹ç”¨äºè¡¨ç¤º<code>case</code>å­å¥è¢«é€‰ä¸­çš„åŸå› ï¼Œæ¯”å¦‚ï¼Œæ‰“å°å†…å®¹<code>0 or 1</code>è¡¨ç¤ºå½“å‰<code>case</code>å­å¥è¢«é€‰ä¸­æ˜¯å› ä¸º<code>switch</code>è¡¨è¾¾å¼çš„ç»“æœå€¼ç­‰äº<code>0</code>æˆ–<code>1</code>ä¸­çš„æŸä¸€ä¸ªã€‚å¦å¤–ä¸¤æ¡æ‰“å°è¯­å¥ä¼šåˆ†åˆ«æ‰“å°å‡º<code>2 or 3</code>å’Œ<code>4 or 5 or 6</code>ã€‚</p><p>ç°åœ¨é—®é¢˜æ¥äº†ï¼Œæ‹¥æœ‰è¿™æ ·ä¸‰ä¸ª<code>case</code>è¡¨è¾¾å¼çš„<code>switch</code>è¯­å¥å¯ä»¥æˆåŠŸé€šè¿‡ç¼–è¯‘å—ï¼Ÿå¦‚æœä¸å¯ä»¥ï¼ŒåŸå› æ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœå¯ä»¥ï¼Œé‚£ä¹ˆè¯¥<code>switch</code>è¯­å¥è¢«æ‰§è¡Œåä¼šæ‰“å°å‡ºä»€ä¹ˆå†…å®¹ã€‚</p><p>æˆ‘åˆšæ‰è¯´è¿‡ï¼Œåªè¦<code>switch</code>è¡¨è¾¾å¼çš„ç»“æœå€¼ä¸æŸä¸ª<code>case</code>è¡¨è¾¾å¼ä¸­çš„ä»»æ„ä¸€ä¸ªå­è¡¨è¾¾å¼çš„ç»“æœå€¼ç›¸ç­‰ï¼Œè¯¥<code>case</code>è¡¨è¾¾å¼æ‰€å±çš„<code>case</code>å­å¥å°±ä¼šè¢«é€‰ä¸­ã€‚</p><p>å¹¶ä¸”ï¼Œä¸€æ—¦æŸä¸ª<code>case</code>å­å¥è¢«é€‰ä¸­ï¼Œå…¶ä¸­çš„é™„å¸¦åœ¨<code>case</code>è¡¨è¾¾å¼åè¾¹çš„é‚£äº›è¯­å¥å°±ä¼šè¢«æ‰§è¡Œã€‚ä¸æ­¤åŒæ—¶ï¼Œå…¶ä»–çš„æ‰€æœ‰<code>case</code>å­å¥éƒ½ä¼šè¢«å¿½ç•¥ã€‚</p><p>å½“ç„¶äº†ï¼Œå¦‚æœè¢«é€‰ä¸­çš„<code>case</code>å­å¥é™„å¸¦çš„è¯­å¥åˆ—è¡¨ä¸­åŒ…å«äº†<code>fallthrough</code>è¯­å¥ï¼Œé‚£ä¹ˆç´§æŒ¨åœ¨å®ƒä¸‹è¾¹çš„é‚£ä¸ª<code>case</code>å­å¥é™„å¸¦çš„è¯­å¥ä¹Ÿä¼šè¢«æ‰§è¡Œã€‚</p><p>æ­£å› ä¸ºå­˜åœ¨ä¸Šè¿°åˆ¤æ–­ç›¸ç­‰çš„æ“ä½œï¼ˆä»¥ä¸‹ç®€ç§°åˆ¤ç­‰æ“ä½œï¼‰ï¼Œ<code>switch</code>è¯­å¥å¯¹<code>switch</code>è¡¨è¾¾å¼çš„ç»“æœç±»å‹ï¼Œä»¥åŠå„ä¸ª<code>case</code>è¡¨è¾¾å¼ä¸­å­è¡¨è¾¾å¼çš„ç»“æœç±»å‹éƒ½æ˜¯æœ‰è¦æ±‚çš„ã€‚æ¯•ç«Ÿï¼Œåœ¨Goè¯­è¨€ä¸­ï¼Œåªæœ‰ç±»å‹ç›¸åŒçš„å€¼ä¹‹é—´æ‰æœ‰å¯èƒ½è¢«å…è®¸è¿›è¡Œåˆ¤ç­‰æ“ä½œã€‚</p><p>å¦‚æœ<code>switch</code>è¡¨è¾¾å¼çš„ç»“æœå€¼æ˜¯æ— ç±»å‹çš„å¸¸é‡ï¼Œæ¯”å¦‚<code>1 + 3</code>çš„æ±‚å€¼ç»“æœå°±æ˜¯æ— ç±»å‹çš„å¸¸é‡<code>4</code>ï¼Œé‚£ä¹ˆè¿™ä¸ªå¸¸é‡ä¼šè¢«è‡ªåŠ¨åœ°è½¬æ¢ä¸ºæ­¤ç§å¸¸é‡çš„é»˜è®¤ç±»å‹çš„å€¼ï¼Œæ¯”å¦‚æ•´æ•°<code>4</code>çš„é»˜è®¤ç±»å‹æ˜¯<code>int</code>ï¼Œåˆæ¯”å¦‚æµ®ç‚¹æ•°<code>3.14</code>çš„é»˜è®¤ç±»å‹æ˜¯<code>float64</code>ã€‚</p><p>å› æ­¤ï¼Œç”±äºä¸Šè¿°ä»£ç ä¸­çš„<code>switch</code>è¡¨è¾¾å¼çš„ç»“æœç±»å‹æ˜¯<code>int</code>ï¼Œè€Œé‚£äº›<code>case</code>è¡¨è¾¾å¼ä¸­å­è¡¨è¾¾å¼çš„ç»“æœç±»å‹å´æ˜¯<code>int8</code>ï¼Œå®ƒä»¬çš„ç±»å‹å¹¶ä¸ç›¸åŒï¼Œæ‰€ä»¥è¿™æ¡<code>switch</code>è¯­å¥æ˜¯æ— æ³•é€šè¿‡ç¼–è¯‘çš„ã€‚</p><p>å†æ¥çœ‹ä¸€æ®µå¾ˆç±»ä¼¼çš„ä»£ç ï¼š</p><pre><code>value2 := [...]int8{0, 1, 2, 3, 4, 5, 6}\nswitch value2[4] {\ncase 0, 1:\n\tfmt.Println(&quot;0 or 1&quot;)\ncase 2, 3:\n\tfmt.Println(&quot;2 or 3&quot;)\ncase 4, 5, 6:\n\tfmt.Println(&quot;4 or 5 or 6&quot;)\n}\n</code></pre><p>å…¶ä¸­çš„å˜é‡<code>value2</code>ä¸<code>value1</code>çš„å€¼æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚ä½†ä¸åŒçš„æ˜¯ï¼Œæˆ‘æŠŠ<code>switch</code>è¡¨è¾¾å¼æ¢æˆäº†<code>value2[4]</code>ï¼Œå¹¶æŠŠä¸‹è¾¹é‚£ä¸‰ä¸ª<code>case</code>è¡¨è¾¾å¼åˆ†åˆ«æ¢ä¸ºäº†<code>case 0, 1</code>ã€<code>case 2, 3</code>å’Œ<code>case 4, 5, 6</code>ã€‚</p><p>å¦‚æ­¤ä¸€æ¥ï¼Œ<code>switch</code>è¡¨è¾¾å¼çš„ç»“æœå€¼æ˜¯<code>int8</code>ç±»å‹çš„ï¼Œè€Œé‚£äº›<code>case</code>è¡¨è¾¾å¼ä¸­å­è¡¨è¾¾å¼çš„ç»“æœå€¼å´æ˜¯æ— ç±»å‹çš„å¸¸é‡äº†ã€‚è¿™ä¸ä¹‹å‰çš„æƒ…å†µæ°æ°ç›¸åã€‚é‚£ä¹ˆï¼Œè¿™æ ·çš„<code>switch</code>è¯­å¥å¯ä»¥é€šè¿‡ç¼–è¯‘å—ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚å› ä¸ºï¼Œå¦‚æœ<code>case</code>è¡¨è¾¾å¼ä¸­å­è¡¨è¾¾å¼çš„ç»“æœå€¼æ˜¯æ— ç±»å‹çš„å¸¸é‡ï¼Œé‚£ä¹ˆå®ƒçš„ç±»å‹ä¼šè¢«è‡ªåŠ¨åœ°è½¬æ¢ä¸º<code>switch</code>è¡¨è¾¾å¼çš„ç»“æœç±»å‹ï¼Œåˆç”±äºä¸Šè¿°é‚£å‡ ä¸ªæ•´æ•°éƒ½å¯ä»¥è¢«è½¬æ¢ä¸º<code>int8</code>ç±»å‹çš„å€¼ï¼Œæ‰€ä»¥å¯¹è¿™äº›è¡¨è¾¾å¼çš„ç»“æœå€¼è¿›è¡Œåˆ¤ç­‰æ“ä½œæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</p><p>å½“ç„¶äº†ï¼Œå¦‚æœè¿™é‡Œè¯´çš„è‡ªåŠ¨è½¬æ¢æ²¡èƒ½æˆåŠŸï¼Œé‚£ä¹ˆ<code>switch</code>è¯­å¥ç…§æ ·é€šä¸è¿‡ç¼–è¯‘ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/91/1c/91add0a66b9956f81086285aabc20c1c.png?wh=1402*631\" alt=\"\"></p><p>ï¼ˆswitchè¯­å¥ä¸­çš„è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼‰</p><p>é€šè¿‡ä¸Šé¢è¿™ä¸¤é“é¢˜ï¼Œä½ åº”è¯¥å¯ä»¥ææ¸…æ¥š<code>switch</code>è¡¨è¾¾å¼å’Œ<code>case</code>è¡¨è¾¾å¼ä¹‹é—´çš„è”ç³»äº†ã€‚ç”±äºéœ€è¦è¿›è¡Œåˆ¤ç­‰æ“ä½œï¼Œæ‰€ä»¥å‰è€…å’Œåè€…ä¸­çš„å­è¡¨è¾¾å¼çš„ç»“æœç±»å‹éœ€è¦ç›¸åŒã€‚</p><p><code>switch</code>è¯­å¥ä¼šè¿›è¡Œæœ‰é™çš„ç±»å‹è½¬æ¢ï¼Œä½†è‚¯å®šä¸èƒ½ä¿è¯è¿™ç§è½¬æ¢å¯ä»¥ç»Ÿä¸€å®ƒä»¬çš„ç±»å‹ã€‚è¿˜è¦æ³¨æ„ï¼Œå¦‚æœè¿™äº›è¡¨è¾¾å¼çš„ç»“æœç±»å‹æœ‰æŸä¸ªæ¥å£ç±»å‹ï¼Œé‚£ä¹ˆä¸€å®šè¦å°å¿ƒæ£€æŸ¥å®ƒä»¬çš„åŠ¨æ€å€¼æ˜¯å¦éƒ½å…·æœ‰å¯æ¯”æ€§ï¼ˆæˆ–è€…è¯´æ˜¯å¦å…è®¸åˆ¤ç­‰æ“ä½œï¼‰ã€‚</p><p>å› ä¸ºï¼Œå¦‚æœç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œè™½ç„¶ä¸ä¼šé€ æˆç¼–è¯‘é”™è¯¯ï¼Œä½†æ˜¯åæœä¼šæ›´åŠ ä¸¥é‡ï¼šå¼•å‘panicï¼ˆä¹Ÿå°±æ˜¯è¿è¡Œæ—¶ææ…Œï¼‰ã€‚</p><p><strong>é—®é¢˜2ï¼š<code>switch</code>è¯­å¥å¯¹å®ƒçš„<code>case</code>è¡¨è¾¾å¼æœ‰å“ªäº›çº¦æŸï¼Ÿ</strong></p><p>æˆ‘åœ¨ä¸Šä¸€ä¸ªé—®é¢˜çš„é˜è¿°ä¸­è¿˜é‡ç‚¹è¡¨è¾¾äº†ä¸€ç‚¹ï¼Œä¸çŸ¥ä½ æ³¨æ„åˆ°äº†æ²¡æœ‰ï¼Œé‚£å°±æ˜¯ï¼š<code>switch</code>è¯­å¥åœ¨<code>case</code>å­å¥çš„é€‰æ‹©ä¸Šæ˜¯å…·æœ‰å”¯ä¸€æ€§çš„ã€‚</p><p>æ­£å› ä¸ºå¦‚æ­¤ï¼Œ<code>switch</code>è¯­å¥ä¸å…è®¸<code>case</code>è¡¨è¾¾å¼ä¸­çš„å­è¡¨è¾¾å¼ç»“æœå€¼å­˜åœ¨ç›¸ç­‰çš„æƒ…å†µï¼Œä¸è®ºè¿™äº›ç»“æœå€¼ç›¸ç­‰çš„å­è¡¨è¾¾å¼ï¼Œæ˜¯å¦å­˜åœ¨äºä¸åŒçš„<code>case</code>è¡¨è¾¾å¼ä¸­ï¼Œéƒ½ä¼šæ˜¯è¿™æ ·çš„ç»“æœã€‚å…·ä½“è¯·çœ‹è¿™æ®µä»£ç ï¼š</p><pre><code>value3 := [...]int8{0, 1, 2, 3, 4, 5, 6}\nswitch value3[4] {\ncase 0, 1, 2:\n\tfmt.Println(&quot;0 or 1 or 2&quot;)\ncase 2, 3, 4:\n\tfmt.Println(&quot;2 or 3 or 4&quot;)\ncase 4, 5, 6:\n\tfmt.Println(&quot;4 or 5 or 6&quot;)\n}\n</code></pre><p>å˜é‡<code>value3</code>çš„å€¼åŒ<code>value1</code>ï¼Œä¾ç„¶æ˜¯ç”±ä»<code>0</code>åˆ°<code>6</code>çš„7ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„ï¼Œå…ƒç´ ç±»å‹æ˜¯<code>int8</code>ã€‚<code>switch</code>è¡¨è¾¾å¼æ˜¯<code>value3[4]</code>ï¼Œä¸‰ä¸ª<code>case</code>è¡¨è¾¾å¼åˆ†åˆ«æ˜¯<code>case 0, 1, 2</code>ã€<code>case 2, 3, 4</code>å’Œ<code>case 4, 5, 6</code>ã€‚</p><p>ç”±äºåœ¨è¿™ä¸‰ä¸ª<code>case</code>è¡¨è¾¾å¼ä¸­å­˜åœ¨ç»“æœå€¼ç›¸ç­‰çš„å­è¡¨è¾¾å¼ï¼Œæ‰€ä»¥è¿™ä¸ª<code>switch</code>è¯­å¥æ— æ³•é€šè¿‡ç¼–è¯‘ã€‚ä¸è¿‡ï¼Œå¥½åœ¨è¿™ä¸ªçº¦æŸæœ¬èº«è¿˜æœ‰ä¸ªçº¦æŸï¼Œé‚£å°±æ˜¯åªé’ˆå¯¹ç»“æœå€¼ä¸ºå¸¸é‡çš„å­è¡¨è¾¾å¼ã€‚</p><p>æ¯”å¦‚ï¼Œå­è¡¨è¾¾å¼<code>1+1</code>å’Œ<code>2</code>ä¸èƒ½åŒæ—¶å‡ºç°ï¼Œ<code>1+3</code>å’Œ<code>4</code>ä¹Ÿä¸èƒ½åŒæ—¶å‡ºç°ã€‚æœ‰äº†è¿™ä¸ªçº¦æŸçš„çº¦æŸï¼Œæˆ‘ä»¬å°±å¯ä»¥æƒ³åŠæ³•ç»•è¿‡è¿™ä¸ªå¯¹å­è¡¨è¾¾å¼çš„é™åˆ¶äº†ã€‚å†çœ‹ä¸€æ®µä»£ç ï¼š</p><pre><code>value5 := [...]int8{0, 1, 2, 3, 4, 5, 6}\nswitch value5[4] {\ncase value5[0], value5[1], value5[2]:\n\tfmt.Println(&quot;0 or 1 or 2&quot;)\ncase value5[2], value5[3], value5[4]:\n\tfmt.Println(&quot;2 or 3 or 4&quot;)\ncase value5[4], value5[5], value5[6]:\n\tfmt.Println(&quot;4 or 5 or 6&quot;)\n}\n</code></pre><p>å˜é‡åæ¢æˆäº†<code>value5</code>ï¼Œä½†è¿™ä¸æ˜¯é‡ç‚¹ã€‚é‡ç‚¹æ˜¯ï¼Œæˆ‘æŠŠ<code>case</code>è¡¨è¾¾å¼ä¸­çš„å¸¸é‡éƒ½æ¢æˆäº†è¯¸å¦‚<code>value5[0]</code>è¿™æ ·çš„ç´¢å¼•è¡¨è¾¾å¼ã€‚</p><p>è™½ç„¶ç¬¬ä¸€ä¸ª<code>case</code>è¡¨è¾¾å¼å’Œç¬¬äºŒä¸ª<code>case</code>è¡¨è¾¾å¼éƒ½åŒ…å«äº†<code>value5[2]</code>ï¼Œå¹¶ä¸”ç¬¬äºŒä¸ª<code>case</code>è¡¨è¾¾å¼å’Œç¬¬ä¸‰ä¸ª<code>case</code>è¡¨è¾¾å¼éƒ½åŒ…å«äº†<code>value5[4]</code>ï¼Œä½†è¿™å·²ç»ä¸æ˜¯é—®é¢˜äº†ã€‚è¿™æ¡<code>switch</code>è¯­å¥å¯ä»¥æˆåŠŸé€šè¿‡ç¼–è¯‘ã€‚</p><p>ä¸è¿‡ï¼Œè¿™ç§ç»•è¿‡æ–¹å¼å¯¹ç”¨äºç±»å‹åˆ¤æ–­çš„<code>switch</code>è¯­å¥ï¼ˆä»¥ä¸‹ç®€ç§°ä¸ºç±»å‹<code>switch</code>è¯­å¥ï¼‰å°±æ— æ•ˆäº†ã€‚å› ä¸ºç±»å‹<code>switch</code>è¯­å¥ä¸­çš„<code>case</code>è¡¨è¾¾å¼çš„å­è¡¨è¾¾å¼ï¼Œéƒ½å¿…é¡»ç›´æ¥ç”±ç±»å‹å­—é¢é‡è¡¨ç¤ºï¼Œè€Œæ— æ³•é€šè¿‡é—´æ¥çš„æ–¹å¼è¡¨ç¤ºã€‚ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>value6 := interface{}(byte(127))\nswitch t := value6.(type) {\ncase uint8, uint16:\n\tfmt.Println(&quot;uint8 or uint16&quot;)\ncase byte:\n\tfmt.Printf(&quot;byte&quot;)\ndefault:\n\tfmt.Printf(&quot;unsupported type: %T&quot;, t)\n}\n</code></pre><p>å˜é‡<code>value6</code>çš„å€¼æ˜¯ç©ºæ¥å£ç±»å‹çš„ã€‚è¯¥å€¼åŒ…è£…äº†ä¸€ä¸ª<code>byte</code>ç±»å‹çš„å€¼<code>127</code>ã€‚æˆ‘åœ¨åé¢ä½¿ç”¨ç±»å‹<code>switch</code>è¯­å¥æ¥åˆ¤æ–­<code>value6</code>çš„å®é™…ç±»å‹ï¼Œå¹¶æ‰“å°ç›¸åº”çš„å†…å®¹ã€‚</p><p>è¿™é‡Œæœ‰ä¸¤ä¸ªæ™®é€šçš„<code>case</code>å­å¥ï¼Œè¿˜æœ‰ä¸€ä¸ª<code>default case</code>å­å¥ã€‚å‰è€…çš„<code>case</code>è¡¨è¾¾å¼åˆ†åˆ«æ˜¯<code>case uint8, uint16</code>å’Œ<code>case byte</code>ã€‚ä½ è¿˜è®°å¾—å—ï¼Ÿ<code>byte</code>ç±»å‹æ˜¯<code>uint8</code>ç±»å‹çš„åˆ«åç±»å‹ã€‚</p><p>å› æ­¤ï¼Œå®ƒä»¬ä¸¤ä¸ªæœ¬è´¨ä¸Šæ˜¯åŒä¸€ä¸ªç±»å‹ï¼Œåªæ˜¯ç±»å‹åç§°ä¸åŒç½¢äº†ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™ä¸ªç±»å‹<code>switch</code>è¯­å¥æ˜¯æ— æ³•é€šè¿‡ç¼–è¯‘çš„ï¼Œå› ä¸ºå­è¡¨è¾¾å¼<code>byte</code>å’Œ<code>uint8</code>é‡å¤äº†ã€‚å¥½äº†ï¼Œä»¥ä¸Šè¯´çš„å°±æ˜¯<code>case</code>è¡¨è¾¾å¼çš„çº¦æŸä»¥åŠç»•è¿‡æ–¹å¼ï¼Œä½ å­¦ä¼šäº†å—ã€‚</p><p><strong>æ€»ç»“</strong></p><p>æˆ‘ä»¬ä»Šå¤©ä¸»è¦è®¨è®ºäº†<code>for</code>è¯­å¥å’Œ<code>switch</code>è¯­å¥ï¼Œä¸è¿‡æˆ‘å¹¶æ²¡æœ‰è¯´æ˜é‚£äº›è¯­æ³•è§„åˆ™ï¼Œå› ä¸ºå®ƒä»¬å¤ªç®€å•äº†ã€‚æˆ‘ä»¬éœ€è¦å¤šåŠ æ³¨æ„çš„å¾€å¾€æ˜¯é‚£äº›éšè—åœ¨Goè¯­è¨€è§„èŒƒå’Œæœ€ä½³å®è·µé‡Œçš„ç»†èŠ‚ã€‚</p><p>è¿™äº›ç»†èŠ‚å…¶å®å°±æ˜¯æˆ‘ä»¬å¾ˆå¤šæŠ€æœ¯åˆå­¦è€…æ‰€è°“çš„â€œå‘â€ã€‚æ¯”å¦‚ï¼Œæˆ‘åœ¨è®²<code>for</code>è¯­å¥çš„æ—¶å€™äº¤ä»£äº†æºå¸¦<code>range</code>å­å¥æ—¶åªæœ‰ä¸€ä¸ªè¿­ä»£å˜é‡æ„å‘³ç€ä»€ä¹ˆã€‚ä½ å¿…é¡»çŸ¥é“åœ¨è¿­ä»£æ•°ç»„æˆ–åˆ‡ç‰‡æ—¶åªæœ‰ä¸€ä¸ªè¿­ä»£å˜é‡çš„è¯æ˜¯æ— æ³•è¿­ä»£å‡ºå…¶ä¸­çš„å…ƒç´ å€¼çš„ï¼Œå¦åˆ™ä½ çš„ç¨‹åºå¯èƒ½å°±ä¸ä¼šåƒä½ é¢„æœŸçš„é‚£æ ·è¿è¡Œäº†ã€‚</p><p>è¿˜æœ‰ï¼Œ<code>range</code>è¡¨è¾¾å¼çš„ç»“æœå€¼æ˜¯ä¼šè¢«å¤åˆ¶çš„ï¼Œå®é™…è¿­ä»£æ—¶å¹¶ä¸ä¼šä½¿ç”¨åŸå€¼ã€‚è‡³äºä¼šå½±å“åˆ°ä»€ä¹ˆï¼Œé‚£å°±è¦çœ‹è¿™ä¸ªç»“æœå€¼çš„ç±»å‹æ˜¯å€¼ç±»å‹è¿˜æ˜¯å¼•ç”¨ç±»å‹äº†ã€‚</p><p>è¯´åˆ°<code>switch</code>è¯­å¥ï¼Œä½ è¦æ˜ç™½å…¶ä¸­çš„<code>case</code>è¡¨è¾¾å¼çš„æ‰€æœ‰å­è¡¨è¾¾å¼çš„ç»“æœå€¼éƒ½æ˜¯è¦ä¸<code>switch</code>è¡¨è¾¾å¼çš„ç»“æœå€¼åˆ¤ç­‰çš„ï¼Œå› æ­¤å®ƒä»¬çš„ç±»å‹å¿…é¡»ç›¸åŒæˆ–è€…èƒ½å¤Ÿéƒ½ç»Ÿä¸€åˆ°<code>switch</code>è¡¨è¾¾å¼çš„ç»“æœç±»å‹ã€‚å¦‚æœæ— æ³•åšåˆ°ï¼Œé‚£ä¹ˆè¿™æ¡<code>switch</code>è¯­å¥å°±ä¸èƒ½é€šè¿‡ç¼–è¯‘ã€‚</p><p>æœ€åï¼ŒåŒä¸€æ¡<code>switch</code>è¯­å¥ä¸­çš„æ‰€æœ‰<code>case</code>è¡¨è¾¾å¼çš„å­è¡¨è¾¾å¼çš„ç»“æœå€¼ä¸èƒ½é‡å¤ï¼Œä¸è¿‡å¥½åœ¨è¿™åªæ˜¯å¯¹äºç”±å­—é¢é‡ç›´æ¥è¡¨ç¤ºçš„å­è¡¨è¾¾å¼è€Œè¨€çš„ã€‚</p><p>è¯·è®°ä½ï¼Œæ™®é€š<code>case</code>å­å¥çš„ç¼–å†™é¡ºåºå¾ˆé‡è¦ï¼Œæœ€ä¸Šè¾¹çš„<code>case</code>å­å¥ä¸­çš„å­è¡¨è¾¾å¼æ€»æ˜¯ä¼šè¢«æœ€å…ˆæ±‚å€¼ï¼Œåœ¨åˆ¤ç­‰çš„æ—¶å€™é¡ºåºä¹Ÿæ˜¯è¿™æ ·ã€‚å› æ­¤ï¼Œå¦‚æœæŸäº›å­è¡¨è¾¾å¼çš„ç»“æœå€¼æœ‰é‡å¤å¹¶ä¸”å®ƒä»¬ä¸<code>switch</code>è¡¨è¾¾å¼çš„ç»“æœå€¼ç›¸ç­‰ï¼Œé‚£ä¹ˆä½ç½®é ä¸Šçš„<code>case</code>å­å¥æ€»ä¼šè¢«é€‰ä¸­ã€‚</p><p><strong>æ€è€ƒé¢˜</strong></p><ol>\n<li>åœ¨ç±»å‹<code>switch</code>è¯­å¥ä¸­ï¼Œæˆ‘ä»¬æ€æ ·å¯¹è¢«åˆ¤æ–­ç±»å‹çš„é‚£ä¸ªå€¼åšç›¸åº”çš„ç±»å‹è½¬æ¢ï¼Ÿ</li>\n<li>åœ¨<code>if</code>è¯­å¥ä¸­ï¼Œåˆå§‹åŒ–å­å¥å£°æ˜çš„å˜é‡çš„ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆï¼Ÿ</li>\n</ol><p><a href=\"https://github.com/hyper0x/Golang_Puzzlers\">æˆ³æ­¤æŸ¥çœ‹Goè¯­è¨€ä¸“æ æ–‡ç« é…å¥—è¯¦ç»†ä»£ç ã€‚</a></p><p></p>","neighbors":{"left":{"article_title":"17 | goè¯­å¥åŠå…¶æ‰§è¡Œè§„åˆ™ï¼ˆä¸‹ï¼‰","id":39844},"right":{"article_title":"19 | é”™è¯¯å¤„ç†ï¼ˆä¸Šï¼‰","id":40311}},"comments":[{"had_liked":false,"id":25884,"user_name":"å’–å•¡è‰²çš„ç¾Šé©¼","can_delete":false,"product_type":"c1","uid":1112900,"ip_address":"","ucode":"84E288A5665A3A","user_header":"https://static001.geekbang.org/account/avatar/00/10/fb/44/8b2600fd.jpg","comment_is_top":false,"comment_ctime":1537460475,"is_pvip":false,"replies":[{"id":"9672","content":"å¥½ï¼Œç»§ç»­åŠ æ²¹å§ã€‚","user_name":"ä½œè€…å›å¤","comment_id":25884,"uid":"1026643","ip_address":"","utype":1,"ctime":1537690918,"user_name_real":"éƒæ—"}],"discussion_count":1,"race_medal":0,"score":"113206610171","product_id":100013101,"comment_content":"å¥½ä¹…æ²¡ç•™è¨€äº†ï¼Œ<br><br>1.æ–­è¨€åˆ¤æ–­value.(type)<br>2.ifçš„åˆ¤æ–­çš„åŸŸå’Œåé¢è·Ÿç€çš„èŠ±æ‹¬å·é‡Œå¤´çš„åŸŸã€‚å’Œå‡½æ•°é›·åŒï¼Œå‚æ•°å’ŒèŠ±æ‹¬å·é‡Œå¤´çš„åŸŸåŒä¸€ä¸ª","like_count":27,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424442,"discussion_content":"å¥½ï¼Œç»§ç»­åŠ æ²¹å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537690918,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94844,"user_name":"Zzz","can_delete":false,"product_type":"c1","uid":1116272,"ip_address":"","ucode":"4AA47797F48315","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIu1n1DhUGGKTjelrQaLYOSVK2rsFeia0G8ASTIftib5PTOx4pTqdnfwb0NiaEFGRgS661nINyZx9sUg/132","comment_is_top":false,"comment_ctime":1557908942,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"100342156750","product_id":100013101,"comment_content":"ä¸ªäººç†è§£ï¼š for .. range ..  å®é™…ä¸Šå¯ä»¥è®¤ä¸ºæ˜¯æ–¹æ³•è°ƒç”¨çš„è¯­æ³•ç³–ï¼Œrangeåé¢çš„å˜é‡å°±æ˜¯æ–¹æ³•å‚æ•°ï¼Œå¯¹äºæ•°ç»„ç±»å‹çš„å˜é‡ï¼Œä¼ å…¥çš„å‚æ•°æ˜¯æ•°ç»„çš„å‰¯æœ¬ï¼Œæ›´æ–°çš„æ˜¯åŸæ•°ç»„çš„å…ƒç´ ï¼Œå–çš„æ˜¯å‰¯æœ¬æ•°ç»„çš„å…ƒç´ ï¼›å¯¹äºåˆ‡ç‰‡ç±»å‹çš„å˜é‡ï¼Œä¼ å…¥çš„å‚æ•°æ˜¯åˆ‡ç‰‡çš„å‰¯æœ¬ï¼Œä½†æ˜¯å®ƒæŒ‡å‘çš„åº•å±‚æ•°ç»„ä¸åŸåˆ‡ç‰‡ç›¸åŒï¼Œæ‰€ä»¥å–çš„å…ƒç´ å’Œæ›´æ–°çš„å…ƒç´ éƒ½æ˜¯åŒä¸€ä¸ªæ•°ç»„çš„å…ƒç´ ã€‚","like_count":23},{"had_liked":false,"id":132082,"user_name":"å¤§ç‹å«æˆ‘æ¥å·¡å±±","can_delete":false,"product_type":"c1","uid":1099513,"ip_address":"","ucode":"1B8D0C701BC95E","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/f9/caf27bd3.jpg","comment_is_top":false,"comment_ctime":1568020025,"is_pvip":false,"replies":[{"id":"50623","content":"è¿™äº›è¯­æ³•ç»†èŠ‚ä½ è¦æ˜¯ä¸æ³¨æ„çš„è¯ï¼Œè¯´ä¸å®šä»€ä¹ˆæ—¶å€™å°±ä¼šâ€œè¸©å‘â€ã€‚æ–‡ç« ä¸­çš„ä»£ç æ˜¯ä¸ºäº†æ¼”ç¤ºåŸç†è€Œè®¾è®¡çš„ï¼Œå› æ­¤ä¸ä¸€å®šé€‚ç”¨äºç”Ÿäº§ã€‚<br><br>ä½ å¯ä»¥å»çœ‹çœ‹å“ªäº›çƒ­é—¨å¼€æºé¡¹ç›®çš„ä»£ç ï¼Œé‡Œé¢ä»ç„¶ä¼šæœ‰ä½“ç°è¿™äº›çŸ¥è¯†ç‚¹çš„ä»£ç ã€‚æ‰€ä»¥ä¸å……åˆ†ç†è§£è¿™äº›ï¼Œå¯èƒ½çœ‹å¤æ‚äº›çš„é¡¹ç›®æºç éƒ½è´¹åŠ²ã€‚","user_name":"ä½œè€…å›å¤","comment_id":132082,"uid":"1026643","ip_address":"","utype":1,"ctime":1568095212,"user_name_real":"éƒæ—"}],"discussion_count":2,"race_medal":0,"score":"65992529465","product_id":100013101,"comment_content":"äº†è§£è¿™äº›åªèƒ½è¯æ˜æ‚¨å¯¹è¿™ä¸ªè¯­è¨€è¶³å¤Ÿçš„äº†è§£ï¼Œä½†æ˜¯å®é™…ä¸­è°ä¼šå†™è¿™ä¹ˆè›‹ç–¼çš„ä»£ç å‘¢ï¼Œè¿™ä¸€ç¯‡é€šç¯‡å…¶å®è¯´æ˜çš„è¿˜æ˜¯goè¯­è¨€ä¸­å…³äºç±»å‹è½¬æ¢çš„å†…å®¹","like_count":15,"discussions":[{"author":{"id":1099513,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c6/f9/caf27bd3.jpg","nickname":"å¤§ç‹å«æˆ‘æ¥å·¡å±±","note":"","ucode":"1B8D0C701BC95E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8912,"discussion_content":"è°¢è°¢è€å¸ˆæŒ‡å¯¼","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1568098883,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466753,"discussion_content":"è¿™äº›è¯­æ³•ç»†èŠ‚ä½ è¦æ˜¯ä¸æ³¨æ„çš„è¯ï¼Œè¯´ä¸å®šä»€ä¹ˆæ—¶å€™å°±ä¼šâ€œè¸©å‘â€ã€‚æ–‡ç« ä¸­çš„ä»£ç æ˜¯ä¸ºäº†æ¼”ç¤ºåŸç†è€Œè®¾è®¡çš„ï¼Œå› æ­¤ä¸ä¸€å®šé€‚ç”¨äºç”Ÿäº§ã€‚\n\nä½ å¯ä»¥å»çœ‹çœ‹å“ªäº›çƒ­é—¨å¼€æºé¡¹ç›®çš„ä»£ç ï¼Œé‡Œé¢ä»ç„¶ä¼šæœ‰ä½“ç°è¿™äº›çŸ¥è¯†ç‚¹çš„ä»£ç ã€‚æ‰€ä»¥ä¸å……åˆ†ç†è§£è¿™äº›ï¼Œå¯èƒ½çœ‹å¤æ‚äº›çš„é¡¹ç›®æºç éƒ½è´¹åŠ²ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568095212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44634,"user_name":"æ¾æ¹ƒå“¥","can_delete":false,"product_type":"c1","uid":1016940,"ip_address":"","ucode":"A8D9A857AAB879","user_header":"https://static001.geekbang.org/account/avatar/00/0f/84/6c/effc3a5a.jpg","comment_is_top":false,"comment_ctime":1543467473,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"57378042321","product_id":100013101,"comment_content":"å¥½åƒè¿˜æ²¡æœ‰äººå›ç­”æ•°ç»„å˜åˆ‡ç‰‡çš„é—®é¢˜ï¼Œè´´ä¸€ä¸‹è¿è¡Œç»“æœå§ï¼š<br>i:0, e:1<br>i:1, e:3<br>i:2, e:6<br>i:3, e:10<br>i:4, e:15<br>i:5, e:21<br>[22 3 6 10 15 21]<br><br>æ¯æ¬¡å¾ªç¯æ‰“å°äº†ä¸€ä¸ªç´¢å¼•å’Œå€¼ï¼Œçœ‹èµ·æ¥ range åˆ‡ç‰‡çš„è¯ï¼Œæ˜¯ä¼šæ¯æ¬¡å– slice[i] çš„å€¼ï¼Œä½†æ˜¯åº”è¯¥è¿˜æ˜¯å‘ç”Ÿäº†æ‹·è´ï¼Œä¸èƒ½é€šè¿‡ e ç›´æ¥ä¿®æ”¹åŸå€¼ã€‚","like_count":13},{"had_liked":false,"id":160143,"user_name":"Felix","can_delete":false,"product_type":"c1","uid":1317899,"ip_address":"","ucode":"9318688F3C5419","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJAWUhO0xSjD6wbGScY5WOujAE94vNYWlWmsVdibb0IWbXzSSNXJHp0lqfWVq8ZicKBsEY1EuAWArew/132","comment_is_top":false,"comment_ctime":1575879386,"is_pvip":true,"replies":[{"id":"61211","content":"å¯¹ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰ç§°åˆ‡ç‰‡ä¸ºå¼•ç”¨ç±»å‹ã€‚å®ƒæœ¬èº«åªæ˜¯åº•å±‚æ•°ç»„åŠå…¶å­˜å‚¨çŠ¶æ€çš„ä¸€ç§æè¿°ã€‚","user_name":"ä½œè€…å›å¤","comment_id":160143,"uid":"1026643","ip_address":"","utype":1,"ctime":1575948423,"user_name_real":"éƒæ—"}],"discussion_count":1,"race_medal":0,"score":"31640650458","product_id":100013101,"comment_content":"å…³äºæ•°ç»„å˜åˆ‡ç‰‡é‚£ä¸ªåœ°æ–¹ã€‚æˆ‘ç†è§£å¦‚ä¸‹ï¼šåˆ‡ç‰‡è‡ªå·±ä¸æ‹¥æœ‰ä»»ä½•æ•°æ®ï¼Œå®ƒåªæ˜¯åº•å±‚æ•°ç»„çš„ä¸€ç§è¡¨ç¤ºï¼Œå¯¹åˆ‡ç‰‡çš„ä»»ä½•æ“ä½œéƒ½ä¼šè¢«åæ˜ åˆ°åº•å±‚æ•°ç»„ä¸­å»ã€‚ <br>package main<br><br>import &quot;fmt&quot;<br><br>func main() {<br><br>\tnumbers3 := []int{1, 2, 3, 4, 5, 6}<br>\tmaxIndex3 := len(numbers2) - 1 &#47;&#47;6-1= 5<br>\tfor i, e := range numbers3 {  &#47;&#47; 0:1 1:2 2:3 3:4 4:5 5:6<br>\t\tif i == maxIndex3 {   &#47;&#47; 5<br>\t\t\tnumbers3[0] += e  &#47;&#47; 0,7<br>\t\t} else {<br>\t\t\tnumbers3[i+1] += e  &#47;&#47; 1:3<br>\t\t}<br>\t\t&#47;&#47; 0:1 1:(1+2)3 2:3 3:4 4:5 5:6<br>\t\t&#47;&#47; 0:1 1:3 2:(3+3)6 3:4 4:5 5:6<br>\t\t&#47;&#47; 0:1 1:3 2:6 3:(6+4)10 4:5 5:6<br>\t\t&#47;&#47; 0:1 1:3 2:6 3:10 4:(10+5)15 5:6<br>\t\t&#47;&#47; 0:1 1:3 2:6 3:10 4:15 5:(15+6)21<br>\t\t&#47;&#47; 0:(21+1)22 1:3 2:6 3:10 4:15 5:21<br>\t\t&#47;&#47; 22 3 6 10 15 21<br>\t}<br>\tfmt.Println(numbers3)<br>}","like_count":7,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477269,"discussion_content":"å¯¹ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰ç§°åˆ‡ç‰‡ä¸ºå¼•ç”¨ç±»å‹ã€‚å®ƒæœ¬èº«åªæ˜¯åº•å±‚æ•°ç»„åŠå…¶å­˜å‚¨çŠ¶æ€çš„ä¸€ç§æè¿°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575948423,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":34517,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1540197695,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"31604968767","product_id":100013101,"comment_content":"val.(type)éœ€è¦æå‰å°†ç±»å‹è½¬æ¢æˆinterface{},ä¸€æ¥¼çš„ç•™è¨€æœ‰ç‚¹é—®é¢˜","like_count":8,"discussions":[{"author":{"id":1657948,"avatar":"https://static001.geekbang.org/account/avatar/00/19/4c/5c/9ea0f752.jpg","nickname":"ç¨‹åºçŒ¿ä¸åœ†","note":"","ucode":"BC8926A84A07C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370677,"discussion_content":"å¤§å“¥ï¼Œæˆ‘è‡³å°‘åœ¨4ä¸ªä¸“æ ä¸‹é¢é‡Œçš„ç•™è¨€çœ‹åˆ°ä½ ã€‚ã€‚ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1619507405,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":25881,"user_name":"Dr.Li","can_delete":false,"product_type":"c1","uid":1025671,"ip_address":"","ucode":"A26A4183504B6B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a6/87/e802a33e.jpg","comment_is_top":false,"comment_ctime":1537460348,"is_pvip":false,"replies":[{"id":"9673","content":"è¦åŒ…å®¹ï¼šï¼‰å·¥å…·è€Œå·²ã€‚","user_name":"ä½œè€…å›å¤","comment_id":25881,"uid":"1026643","ip_address":"","utype":1,"ctime":1537690966,"user_name_real":"éƒæ—"}],"discussion_count":2,"race_medal":0,"score":"27307264124","product_id":100013101,"comment_content":"æ„Ÿè§‰goçš„è¯­æ³•æœ‰ç‚¹å˜æ€å•Š","like_count":7,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424440,"discussion_content":"è¦åŒ…å®¹ï¼šï¼‰å·¥å…·è€Œå·²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537690966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2806043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBFkSq1oiaEMRjtyyv4ZpCI0OuaSsqs04ODm0OkZF6QhsAh3SvqhxibS2n7PLAVZE3QRSn5Hic0DyXg/132","nickname":"ddh","note":"","ucode":"8E852375365F16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541044,"discussion_content":"å“ªé‡Œå˜æ€äº†å‘€\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640241390,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116470,"user_name":"åšåš","can_delete":false,"product_type":"c1","uid":1490403,"ip_address":"","ucode":"79FF6249DFC047","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/GBU53SA3W8GNRAwZIicc3gTEc0nSvfPJw7iboAMicjicmP6egDcibib28DkUfTYOjMd31DIznmofdRZrpIXvmXvjV1PQ/132","comment_is_top":false,"comment_ctime":1563853793,"is_pvip":false,"replies":[{"id":"42643","content":"ä½ çœ‹çš„æ˜¯ Go çš„æºç å—ï¼Ÿæˆ‘æ²¡æ‰¾åˆ°è¿™æ®µä»£ç ã€‚ä¸è¿‡æˆ‘çœ‹äº†ä¸‹ mapiterinit å‡½æ•°çš„ä»£ç ã€‚å…¶ä¸­è¿˜æ˜¯æœ‰å¤åˆ¶çš„ã€‚åªä¸è¿‡ï¼Œå¯¹äºè¿™äº›å¼•ç”¨ç±»å‹çš„å€¼æ¥è¯´ï¼Œå³ä½¿æœ‰å¤åˆ¶ä¹Ÿåªä¼šå¤åˆ¶ä¸€äº›æŒ‡é’ˆè€Œå·²ï¼Œåº•å±‚æ•°æ®ç»“æ„æ˜¯ä¸ä¼šè¢«èµ‹å€¼çš„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":116470,"uid":"1026643","ip_address":"","utype":1,"ctime":1563890468,"user_name_real":"éƒæ—"}],"discussion_count":1,"race_medal":0,"score":"23038690273","product_id":100013101,"comment_content":"è€å¸ˆé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¸Œæœ›èƒ½å¸®å¿™è§£ç­”ä¸‹ï¼<br>æ‚¨åœ¨æ–‡ç« ä¸­è¯´rangeè¡¨è¾¾å¼çš„ç»“æœå€¼æ˜¯ä¼šè¢«å¤åˆ¶çš„ï¼Œé‚£ä¹ˆæ˜¯æ‰€æœ‰çš„éƒ½ä¼šè¢«å¤åˆ¶ä¹ˆï¼Ÿ æˆ‘çœ‹äº†èµ„æ–™ï¼Œå‘ç°å­—å…¸å’Œé€šé“ç±»å‹å¥½åƒæ²¡æœ‰å‘ç”Ÿå¤åˆ¶ï¼<br><br>&#47;&#47; Lower a for range over a map.<br>&#47;&#47; The loop we generate:<br>&#47;&#47;   var hiter map_iteration_struct<br>&#47;&#47;   for mapiterinit(type, range, &amp;hiter); hiter.key != nil; mapiternext(&amp;hiter) {<br>&#47;&#47;           index_temp = *hiter.key<br>&#47;&#47;           value_temp = *hiter.val<br>&#47;&#47;           index = index_temp<br>&#47;&#47;           value = value_temp<br>&#47;&#47;           original body<br>&#47;&#47;   }<br>å¾ˆæ˜¯ç–‘æƒ‘ï¼Œå¸Œæœ›èƒ½å¾—åˆ°æŒ‡ç‚¹ï¼è°¢è°¢","like_count":5,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459557,"discussion_content":"ä½ çœ‹çš„æ˜¯ Go çš„æºç å—ï¼Ÿæˆ‘æ²¡æ‰¾åˆ°è¿™æ®µä»£ç ã€‚ä¸è¿‡æˆ‘çœ‹äº†ä¸‹ mapiterinit å‡½æ•°çš„ä»£ç ã€‚å…¶ä¸­è¿˜æ˜¯æœ‰å¤åˆ¶çš„ã€‚åªä¸è¿‡ï¼Œå¯¹äºè¿™äº›å¼•ç”¨ç±»å‹çš„å€¼æ¥è¯´ï¼Œå³ä½¿æœ‰å¤åˆ¶ä¹Ÿåªä¼šå¤åˆ¶ä¸€äº›æŒ‡é’ˆè€Œå·²ï¼Œåº•å±‚æ•°æ®ç»“æ„æ˜¯ä¸ä¼šè¢«èµ‹å€¼çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563890468,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52998,"user_name":"hiyanxu","can_delete":false,"product_type":"c1","uid":1221750,"ip_address":"","ucode":"FA46A318154812","user_header":"https://static001.geekbang.org/account/avatar/00/12/a4/76/585dc6b3.jpg","comment_is_top":false,"comment_ctime":1545566853,"is_pvip":false,"replies":[{"id":"19216","content":"è¿­ä»£å˜é‡æ˜¯å‰¯æœ¬ã€‚å¦å¤–åœ¨Goç¨‹åºé‡Œçš„å˜é‡åœ°å€æ˜¯ä¸èƒ½å®Œå…¨è¯´æ˜é—®é¢˜çš„ï¼Œå› ä¸ºgoroutineçš„æ ˆç©ºé—´æœ‰å¯èƒ½ä¼šè¢«ä¼˜åŒ–ã€‚","user_name":"ä½œè€…å›å¤","comment_id":52998,"uid":"1026643","ip_address":"","utype":1,"ctime":1545575814,"user_name_real":"éƒæ—"}],"discussion_count":3,"race_medal":0,"score":"23020403333","product_id":100013101,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œrangeçš„å‰¯æœ¬ï¼Œæ˜¯è¯´kã€væ˜¯å‰¯æœ¬ï¼Œè¿˜æ˜¯è¢«è¿­ä»£çš„æ•°ç»„æ˜¯å‰¯æœ¬ï¼Ÿ<br>æˆ‘è‡ªå·±æµ‹è¯•åœ¨forçš„é‡Œé¢å’Œå¤–é¢æ•°ç»„åœ°å€æ˜¯ä¸€æ ·çš„","like_count":5,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434013,"discussion_content":"è¿­ä»£å˜é‡æ˜¯å‰¯æœ¬ã€‚å¦å¤–åœ¨Goç¨‹åºé‡Œçš„å˜é‡åœ°å€æ˜¯ä¸èƒ½å®Œå…¨è¯´æ˜é—®é¢˜çš„ï¼Œå› ä¸ºgoroutineçš„æ ˆç©ºé—´æœ‰å¯èƒ½ä¼šè¢«ä¼˜åŒ–ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545575814,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2621412,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ff/e4/927547a9.jpg","nickname":"æ— åæ— å§“","note":"","ucode":"487BD5AA2CD305","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":532122,"discussion_content":"ä¸‰å¹´å¤šäº†ï¼Œè€å¸ˆè¿˜åœ¨è¿›è¡Œå›å¤ï¼Œç»™è€å¸ˆç‚¹ä¸ªğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637542755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":434013,"ip_address":""},"score":532122,"extra":"{\"user_type\":1}"}]},{"author":{"id":1524242,"avatar":"https://static001.geekbang.org/account/avatar/00/17/42/12/928fa044.jpg","nickname":"æ¨é˜³","note":"","ucode":"88FA5140EEE153","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323781,"discussion_content":"è€å¸ˆçš„æ„æ€è¢«è¿­ä»£çš„æ•°ç»„æ˜¯å‰¯æœ¬ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604995483,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":30678,"user_name":"æ±Ÿå±±å¦‚ç”»","can_delete":false,"product_type":"c1","uid":1188280,"ip_address":"","ucode":"BEB6228E6135B5","user_header":"https://static001.geekbang.org/account/avatar/00/12/21/b8/aca814dd.jpg","comment_is_top":false,"comment_ctime":1538971882,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"23013808362","product_id":100013101,"comment_content":"ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨ç±»å‹switchè¯­å¥ä¸­ï¼Œå¦‚ä½•å¯¹è¢«åˆ¤æ–­ç±»å‹çš„é‚£ä¸ªå€¼åšç±»å‹è½¬æ¢ï¼Œå°è¯•åœ¨ switch è¯­å¥ä¸­é‡æ–°å®šä¹‰äº†ä¸€ä¸ª uint8 ç±»å‹çš„å˜é‡å’Œè¢«åˆ¤æ–­ç±»å‹çš„å€¼åšåŠ æ³•æ“ä½œï¼Œä¸€å…±å°è¯•äº†ä¸‰ç§æ–¹æ³•ï¼Œå‘ç°éœ€è¦ä½¿ç”¨ type assertion æ‰å¯ä»¥ï¼Œå¼ºè½¬æˆ–è€…ç›´æ¥ç›¸åŠ éƒ½ä¼šå‡ºé”™ã€‚<br><br>è½¬æ¢è¯­å¥æ˜¯ï¼šval.(uint8)<br><br>å®Œæ•´éªŒè¯ä»£ç ï¼š<br><br>val := interface{}(byte(1))<br>switch t := val.(type) {<br>case uint8:<br>\tvar c uint8 = 2<br><br>\t&#47;&#47;use type assertion<br>\tfmt.Println(c + val.(uint8))<br><br>\t&#47;&#47;invalid operation: c + val (mismatched types uint8 and interface {})<br>\t&#47;&#47;fmt.Println(c + val)<br><br>\t&#47;&#47;cannot convert val (type interface {}) to type uint8: need type assertion<br>\t&#47;&#47;fmt.Println(c + uint8(val))<br><br>default:<br>\tfmt.Printf(&quot;unsupported type: %T&quot;, t)<br>}<br><br>ç¬¬äºŒä¸ªé—®é¢˜ï¼Œåœ¨ifè¯­å¥ä¸­ï¼Œåˆå§‹åŒ–å­å¥å£°æ˜çš„å˜é‡çš„ä½œç”¨åŸŸæ˜¯åœ¨è¯¥ifè¯­å¥ä¹‹å†…ï¼Œifè¯­å¥ä¹‹å¤–ä½¿ç”¨è¯¥å˜é‡ä¼šæç¤º â€œundefinedâ€ã€‚<br><br>éªŒè¯ä»£ç ï¼š<br><br>m := make(map[int]bool)<br>if _, ok := m[1]; ok {<br>\tfmt.Printf(&quot;exist: %v\\n&quot;, ok)<br>} else {<br>\tfmt.Printf(&quot;not exist: %v\\n&quot;, ok)<br>}<br><br>&#47;&#47;fmt.Println(ok)  &#47;&#47;æŠ¥é”™ï¼Œæç¤º undefined: ok","like_count":6,"discussions":[{"author":{"id":1260026,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","nickname":"å®‰æ’","note":"","ucode":"F78CFA9624CAEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":130951,"discussion_content":"go 1.10.4æ²¡æœ‰æŠ¥é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578812099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":28312,"user_name":"yandongxiao","can_delete":false,"product_type":"c1","uid":1017700,"ip_address":"","ucode":"D397F4DB0109C8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/64/3882d90d.jpg","comment_is_top":false,"comment_ctime":1538048219,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14422950107","product_id":100013101,"comment_content":"å’–å•¡è‰²çš„ç¾Šé©¼çš„ç­”æ¡ˆè²Œä¼¼æ˜¯é”™è¯¯çš„å§ï¼Ÿ<br>1. åœ¨ç±»å‹switchè¯­å¥ä¸­ï¼Œt := value6.(type)ï¼›åŒ¹é…åˆ°å“ªä¸ªcaseè¡¨è¾¾å¼ï¼Œtå°±ä¼šæ˜¯å“ªç§å…·ä½“çš„æ•°æ®ç±»å‹ï¼›<br>2. åœ¨ifè¯­å¥ä¸­ï¼Œå­å¥å£°æ˜çš„å˜é‡çš„ä½œç”¨åŸŸ  æ¯” éšåçš„èŠ±æ‹¬å·å†…çš„å˜é‡çš„çš„ä½œç”¨åŸŸ  æ›´å¤§<br>\tif a := 10; a &gt; 0 {<br>\t\ta := 20<br>\t\tprintln(a)<br>\t}<br>åè¯æ³•ï¼šå¦‚æœå’–å•¡è‰²çš„ç¾Šé©¼è¯´çš„å¯¹ï¼Œä¸Šé¢çš„è¯­å¥ä¸åº”è¯¥ç¼–è¯‘é€šè¿‡æ‰å¯¹ã€‚<br><br>å…³äº2è¿™ä¸ªç»†å¾®çš„å·®å¼‚ï¼Œä¹Ÿé€‚ç”¨äºfor i:=0; i&lt;10; i++ è¯­å¥ã€‚<br>åœ¨forè¯­å¥ä¸­çš„ä½¿ç”¨åŒ¿åå‡½æ•°ï¼Œå¾ˆå¯èƒ½å‡ºç°â€œloop variable captureâ€é—®é¢˜ã€‚æ ¹æœ¬åŸå› ä¹Ÿæ˜¯içš„ä½œç”¨åŸŸä¸{}ä¸­çš„å˜é‡çš„ä½œç”¨åŸŸæ˜¯ä¸åŒçš„ã€‚","like_count":4,"discussions":[{"author":{"id":1217554,"avatar":"https://static001.geekbang.org/account/avatar/00/12/94/12/15558f28.jpg","nickname":"Jason","note":"","ucode":"C5A540BC5A60B9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":210186,"discussion_content":"æˆ‘ä¹ŸåŒæ„ä½ å¾—è§‚ç‚¹ï¼Œåœ¨ifè¯­å¥é‡Œåˆå§‹åŒ–çš„å˜é‡çš„ä½œç”¨åŸŸæ›´å¤§ï¼Œè€Œåœ¨å¤§æ‹¬å·é‡Œçš„aå…¶å®å’Œifæ˜¯ä¸¤ä¸ªä½œç”¨åŸŸï¼Œa:=20é€šè¿‡æ‰“å°åœ°å€å…¶å®å’Œä¸Šé¢çš„æ˜¯ä¸¤ä¸ªå˜é‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584713219,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":26540,"user_name":"èŒ¶åº•","can_delete":false,"product_type":"c1","uid":1188926,"ip_address":"","ucode":"687DD3686A84D2","user_header":"https://static001.geekbang.org/account/avatar/00/12/24/3e/692a93f7.jpg","comment_is_top":false,"comment_ctime":1537661578,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14422563466","product_id":100013101,"comment_content":"è€å¸ˆä»€ä¹ˆæ—¶å€™è®²é€ƒé€¸åˆ†æå•Š","like_count":3},{"had_liked":false,"id":291863,"user_name":"while (1)ç­‰;","can_delete":false,"product_type":"c1","uid":1061991,"ip_address":"","ucode":"BAEC7258D65B69","user_header":"https://static001.geekbang.org/account/avatar/00/10/34/67/06a7f9be.jpg","comment_is_top":false,"comment_ctime":1620554628,"is_pvip":true,"replies":[{"id":"105708","content":"ä¸æ˜¯æŒ‡é’ˆçš„å‰¯æœ¬ï¼Œæ˜¯åˆ‡ç‰‡ç»“æ„ä½“çš„å‰¯æœ¬ï¼Œåˆ‡ç‰‡ç»“æ„ä½“ä¸­æœ‰æŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆã€‚è¿™ä¸ªå‰¯æœ¬ä¸åŸæœ¬ä¼šæŒ‡å‘åŒä¸€ä¸ªåº•å±‚æ•°ç»„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":291863,"uid":"1026643","ip_address":"","utype":1,"ctime":1620624175,"user_name_real":"éƒæ—"}],"discussion_count":1,"race_medal":0,"score":"10210489220","product_id":100013101,"comment_content":"æ–‡ä¸­è¯´â€œè¢«è¿­ä»£çš„å¯¹è±¡æ˜¯rangeè¡¨è¾¾å¼ç»“æœå€¼çš„å‰¯æœ¬è€Œä¸æ˜¯åŸå€¼ã€‚â€ï¼Œé‚£è¢«è¿­ä»£çš„å¯¹è±¡æ˜¯åˆ‡ç‰‡æ—¶ï¼Œå¯ä»¥ç†è§£ä¸ºæŒ‡é’ˆçš„å‰¯æœ¬å—ï¼Ÿä¹Ÿå°±æ˜¯æŒ‡é’ˆå’ŒæŒ‡é’ˆçš„å‰¯æœ¬æŒ‡å‘åŒä¸€åœ°å€ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519586,"discussion_content":"ä¸æ˜¯æŒ‡é’ˆçš„å‰¯æœ¬ï¼Œæ˜¯åˆ‡ç‰‡ç»“æ„ä½“çš„å‰¯æœ¬ï¼Œåˆ‡ç‰‡ç»“æ„ä½“ä¸­æœ‰æŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆã€‚è¿™ä¸ªå‰¯æœ¬ä¸åŸæœ¬ä¼šæŒ‡å‘åŒä¸€ä¸ªåº•å±‚æ•°ç»„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620624175,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":282263,"user_name":"Rico","can_delete":false,"product_type":"c1","uid":2040512,"ip_address":"","ucode":"9EFA5A95F78CCB","user_header":"https://static001.geekbang.org/account/avatar/00/1f/22/c0/177d6750.jpg","comment_is_top":false,"comment_ctime":1615177692,"is_pvip":false,"replies":[{"id":"102515","content":"ç¬¬äºŒä¸ªå›ç­”ä¸å¤ªä¸¥è°¨ï¼Œåº”è¯¥æ˜¯ï¼šifè¯­å¥å—å†…ï¼Œå› ä¸º else çš„ {} ä¹Ÿæ˜¯åŒ…å«å…¶ä¸­çš„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":282263,"uid":"1026643","ip_address":"","utype":1,"ctime":1615204441,"user_name_real":"éƒæ—"}],"discussion_count":2,"race_medal":0,"score":"10205112284","product_id":100013101,"comment_content":"åœ¨ç±»å‹switchè¯­å¥ä¸­ï¼Œæˆ‘ä»¬æ€æ ·å¯¹è¢«åˆ¤æ–­ç±»å‹çš„é‚£ä¸ªå€¼åšç›¸åº”çš„ç±»å‹è½¬æ¢ï¼Ÿ<br>------val.(type)<br><br>åœ¨ifè¯­å¥ä¸­ï¼Œåˆå§‹åŒ–å­å¥å£°æ˜çš„å˜é‡çš„ä½œç”¨åŸŸæ˜¯ä»€ä¹ˆï¼Ÿ<br>-------å˜é‡ä½œç”¨åŸŸä¸ºifè¯­å¥{}å†…éƒ¨çš„èŒƒå›´<br>","like_count":2,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516682,"discussion_content":"ç¬¬äºŒä¸ªå›ç­”ä¸å¤ªä¸¥è°¨ï¼Œåº”è¯¥æ˜¯ï¼šifè¯­å¥å—å†…ï¼Œå› ä¸º else çš„ {} ä¹Ÿæ˜¯åŒ…å«å…¶ä¸­çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615204441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2040512,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/22/c0/177d6750.jpg","nickname":"Rico","note":"","ucode":"9EFA5A95F78CCB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":355288,"discussion_content":"ifè¯­å¥å—å†…\n\nè°¢è°¢è€å¸ˆçš„æŒ‡æ­£ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615393425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":26253,"user_name":"hua","can_delete":false,"product_type":"c1","uid":1109252,"ip_address":"","ucode":"5FF4D4C346EC86","user_header":"https://static001.geekbang.org/account/avatar/00/10/ed/04/a63ed1e3.jpg","comment_is_top":false,"comment_ctime":1537527838,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10127462430","product_id":100013101,"comment_content":"æŠŠæ€»ç»“ç»“è®ºæ”¾åœ¨æœ€å‰é¢å†çœ‹ä¸»ä½“å†…å®¹ä¼šå®¹æ˜“ç†è§£å¾—å¤šã€‚","like_count":2},{"had_liked":false,"id":26150,"user_name":"åç«¯è¿›é˜¶","can_delete":false,"product_type":"c1","uid":1125656,"ip_address":"","ucode":"480F48F5378307","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/18/918eaecf.jpg","comment_is_top":false,"comment_ctime":1537506282,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10127440874","product_id":100013101,"comment_content":"çœŸçš„å¾ˆå–œæ¬¢goçš„è¯­æ³•ä¸ç®€æ´çš„å“²å­¦","like_count":2},{"had_liked":false,"id":26072,"user_name":"My dream","can_delete":false,"product_type":"c1","uid":1077733,"ip_address":"","ucode":"2FEFB344230C17","user_header":"https://static001.geekbang.org/account/avatar/00/10/71/e5/bcdc382a.jpg","comment_is_top":false,"comment_ctime":1537495948,"is_pvip":false,"replies":[{"id":"9671","content":"ä¸»è¦æ˜¯å†™Webç«¯çš„æ—¶å€™æœ‰äº›ç”¨ï¼Œä¸è¿‡æˆ‘ä¸è§‰å¾—ç”¨å¤„å¾ˆå¤§ï¼Œå› ä¸ºç°åœ¨å¤§å‹ç½‘ç«™éƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„ã€‚æœ€åæˆ‘è§†æƒ…å†µè€Œå®šå§ã€‚","user_name":"ä½œè€…å›å¤","comment_id":26072,"uid":"1026643","ip_address":"","utype":1,"ctime":1537690877,"user_name_real":"éƒæ—"}],"discussion_count":1,"race_medal":0,"score":"10127430540","product_id":100013101,"comment_content":"Go1.11å·²ç»æ­£å¼å‘å¸ƒï¼Œæœ€å¤§çš„ä¸€ä¸ªäº®ç‚¹æ˜¯å¢åŠ äº†å¯¹WebAssemblyçš„å®éªŒæ€§æ”¯æŒã€‚è€å¸ˆè¦è®²ä¸€ä¸‹ä¸ï¼Ÿæˆ‘ä»¬éƒ½ä¸æ‡‚è¿™ä¸ªæœ‰ä»€ä¹ˆæ„ä¹‰","like_count":2,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424517,"discussion_content":"ä¸»è¦æ˜¯å†™Webç«¯çš„æ—¶å€™æœ‰äº›ç”¨ï¼Œä¸è¿‡æˆ‘ä¸è§‰å¾—ç”¨å¤„å¾ˆå¤§ï¼Œå› ä¸ºç°åœ¨å¤§å‹ç½‘ç«™éƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„ã€‚æœ€åæˆ‘è§†æƒ…å†µè€Œå®šå§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537690877,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352012,"user_name":"jack","can_delete":false,"product_type":"c1","uid":1254562,"ip_address":"","ucode":"040741A40A47B9","user_header":"https://static001.geekbang.org/account/avatar/00/13/24/a2/d61e4e28.jpg","comment_is_top":false,"comment_ctime":1658325747,"is_pvip":true,"replies":[{"id":"128059","content":"åŠŸèƒ½ä¸Šå¯ä»¥ï¼Œæ€§èƒ½ä¸Šè¿˜æœ‰å¾…è¿›ä¸€æ­¥æ¨æ•²ã€‚æ¯”å¦‚ï¼šä¸ç”¨é”ã€‚","user_name":"ä½œè€…å›å¤","comment_id":352012,"uid":"1026643","ip_address":"","utype":1,"ctime":1658390472,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":1,"score":"1658325747","product_id":100013101,"comment_content":"        index := 0<br>\tvar mu sync.Mutex<br>\tfp := func(i int, fn func()) {<br>\t\tfor {<br>\t\t\tmu.Lock()<br>\t\t\tif index == i {<br>\t\t\t\tfn()<br>\t\t\t\tindex++<br>\t\t\t\tmu.Unlock()<br>\t\t\t\tbreak<br>\t\t\t}<br>\t\t\tmu.Unlock()<br>\t\t\ttime.Sleep(time.Nanosecond)<br>\t\t}<br>\t}<br>\tfor i := 0; i &lt; 10; i++ {<br>\t\tgo func(i int) {<br>\t\t\tfn := func() {<br>\t\t\t\tfmt.Println(i)<br>\t\t\t}<br>\t\t\tfp(i, fn)<br>\t\t}(i)<br>\t}<br>\t&#47;&#47; è¿™é‡Œå°±ç®€å•ç‚¹äº†ï¼Œä¸ç”¨ sync.WaitGroup ç­‰é‚£äº›ç»“æŸäº†<br>\ttime.Sleep(time.Second)","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580852,"discussion_content":"åŠŸèƒ½ä¸Šå¯ä»¥ï¼Œæ€§èƒ½ä¸Šè¿˜æœ‰å¾…è¿›ä¸€æ­¥æ¨æ•²ã€‚æ¯”å¦‚ï¼šä¸ç”¨é”ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658390472,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":346697,"user_name":"Jason","can_delete":false,"product_type":"c1","uid":1217554,"ip_address":"","ucode":"C5A540BC5A60B9","user_header":"https://static001.geekbang.org/account/avatar/00/12/94/12/15558f28.jpg","comment_is_top":false,"comment_ctime":1653364950,"is_pvip":false,"replies":[{"id":"126630","content":"ä½ çš„æœ€åä¸€å¥è¯å…¶å®å·²ç»å¸¦å‡ºäº†ç­”æ¡ˆã€‚è¿™ä¹Ÿæ˜¯ä¸ºäº†å®‰å…¨è€ƒè™‘ã€‚","user_name":"ä½œè€…å›å¤","comment_id":346697,"uid":"1026643","ip_address":"","utype":1,"ctime":1653892025,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1653364950","product_id":100013101,"comment_content":"è€å¸ˆï¼Œæˆ‘åœ¨Goç¼–è¯‘å™¨æºç çš„statements.ccé‡Œæ‰¾åˆ°äº†rangeçš„åŸå‹ï¼Œå…¶å®æ˜¯å¯¹æ•°ç»„æœ¬èº«åšäº†æ•´ä½“æ‹·è´ï¼Œåé¢çš„å¾ªç¯éƒ½æ˜¯åŸºäºè¿™ä¸ªå‰¯æœ¬ã€‚æˆ‘æƒ³é—®é—®è€å¸ˆï¼Œä¸ºä»€ä¹ˆrangeè¡¨è¾¾å¼è¦å»åšæ‹·è´å‘¢ï¼Œæ˜æ˜ä»£ä»·æ›´é«˜äº†ã€‚è¿˜æ˜¯è¯´goè®¾è®¡rangeçš„åˆè¡·å°±æ˜¯è¯»å–ï¼ŒçœŸè¦ä¿®æ”¹å°±ä½¿ç”¨ä¼ ç»Ÿçš„forå¾ªç¯ï¼ŒæœŸå¾…è€å¸ˆçš„å›ç­”<br>&#47;&#47; Arrange to do a loop appropriate for the type. Â We will produce<br>&#47;&#47; Â  for INIT ; COND ; POST {<br>&#47;&#47; Â  Â  Â  Â  Â  ITER_INIT<br>&#47;&#47; Â  Â  Â  Â  Â  INDEX = INDEX_TEMP<br>&#47;&#47; Â  Â  Â  Â  Â  VALUE = VALUE_TEMP &#47;&#47; If there is a value<br>&#47;&#47; Â  Â  Â  Â  Â  original statements<br>&#47;&#47; Â  }<br>é’ˆå¯¹æ•°ç»„<br>&#47;&#47; The loop we generate:<br>&#47;&#47; Â  len_temp := len(range)<br>&#47;&#47; Â  range_temp := range<br>&#47;&#47; Â  for index_temp = 0; index_temp &lt; len_temp; index_temp++ {<br>&#47;&#47; Â  Â  Â  Â  Â  value_temp = range_temp[index_temp]<br>&#47;&#47; Â  Â  Â  Â  Â  index = index_temp<br>&#47;&#47; Â  Â  Â  Â  Â  value = value_temp<br>&#47;&#47; Â  Â  Â  Â  Â  original body<br>&#47;&#47; Â  }","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574187,"discussion_content":"ä½ çš„æœ€åä¸€å¥è¯å…¶å®å·²ç»å¸¦å‡ºäº†ç­”æ¡ˆã€‚è¿™ä¹Ÿæ˜¯ä¸ºäº†å®‰å…¨è€ƒè™‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653892025,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311888,"user_name":"æ— åæ— å§“","can_delete":false,"product_type":"c1","uid":2621412,"ip_address":"","ucode":"487BD5AA2CD305","user_header":"https://static001.geekbang.org/account/avatar/00/27/ff/e4/927547a9.jpg","comment_is_top":false,"comment_ctime":1631523103,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1631523103","product_id":100013101,"comment_content":"package main<br>import(<br>\t&quot;fmt&quot;<br>)<br>func main() {<br>\tarr:=[]int{1,2,3,4,5,6}<br>\tarrlen:=len(arr)-1<br>\tfor i,e:= range arr {<br>\t\tif i==arrlen{<br>\t\t\tarr[0]+=e<br>\t\t}else{<br>\t\t\tarr[i+1]+=e<br>\t\t}<br>\t}<br>\tfmt.Println(arr)<br>}<br>========================","like_count":0},{"had_liked":false,"id":296334,"user_name":"ç½—å³°","can_delete":false,"product_type":"c1","uid":1218501,"ip_address":"","ucode":"5F3D6AF8F28322","user_header":"https://static001.geekbang.org/account/avatar/00/12/97/c5/84491beb.jpg","comment_is_top":false,"comment_ctime":1622902912,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622902912","product_id":100013101,"comment_content":"Switchæ˜¯åŒ¹é…æ¯ä¸ªcaseï¼Œæ‰¾åˆ°ç›¸ç­‰çš„é‚£ä¸ªcaseï¼ŒåŒ…å«å¸¸é‡ç±»å‹è½¬æ¢ï¼Œå”¯ä¸€å€¼æ£€éªŒã€‚selectæ˜¯å…ˆå¯¹å¤šä¸ªcaseæ±‚å€¼ï¼Œç„¶åéšæœºé€‰ä¸€ä¸ªæ‰§è¡Œ","like_count":0},{"had_liked":false,"id":283954,"user_name":"MClink","can_delete":false,"product_type":"c1","uid":1435733,"ip_address":"","ucode":"F479190923355C","user_header":"https://static001.geekbang.org/account/avatar/00/15/e8/55/92f82281.jpg","comment_is_top":false,"comment_ctime":1615994542,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1615994542","product_id":100013101,"comment_content":"éƒ½æ˜¯å‘ç‚¹ï¼Œä¸€ä¸å°å¿ƒåœ¨ç”Ÿäº§å°±æ˜¯éšæ‚£","like_count":0},{"had_liked":false,"id":243530,"user_name":"é¸ æ‘©Â·æ™º","can_delete":false,"product_type":"c1","uid":1211909,"ip_address":"","ucode":"6CD93CD1DB6955","user_header":"https://static001.geekbang.org/account/avatar/00/12/7e/05/431d380f.jpg","comment_is_top":false,"comment_ctime":1598171853,"is_pvip":false,"discussion_count":0,"race_medal":5,"score":"1598171853","product_id":100013101,"comment_content":"æœ¬èŠ‚ç¬¬ä¸€ä¸ªnumbers1çš„ä¾‹å­ï¼Œåªæœ‰ä¸€ä¸ªè¿­ä»£å˜é‡çš„rangeï¼Œæˆ‘æœ¬æ¥ç†è§£çš„æ˜¯å˜é‡é‡Œå°±æ˜¯åˆ‡ç‰‡çš„å…ƒç´ å€¼ï¼Œè‡ªå·±å¿ƒç®—çš„å’Œè€å¸ˆçš„ç­”æ¡ˆè¿˜ä¸€æ ·çš„ï¼Œå¿ƒé‡Œæœ‰ç‚¹æ²¾æ²¾è‡ªå–œçš„ï¼Œåæ¥å‘ç°è‡ªå·±ç†è§£é”™äº†ğŸ˜‚","like_count":0},{"had_liked":false,"id":190864,"user_name":"Cyril","can_delete":false,"product_type":"c1","uid":1024693,"ip_address":"","ucode":"29FFFAC32F911B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a2/b5/4dc0c109.jpg","comment_is_top":false,"comment_ctime":1584700782,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584700782","product_id":100013101,"comment_content":"è¿™ä¸ª switch case çš„ç”¨æ³•å¾ˆçµæ´»","like_count":0},{"had_liked":false,"id":190781,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1584691911,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584691911","product_id":100013101,"comment_content":"æ€»ç»“ <br>ä»Šå¤©ä¸»è¦æ˜¯è®²äº†å¦‚ä¸‹å†…å®¹<br>1. range rangeè¡¨è¾¾ä¸»è¦æ˜¯è¿”å›äº†ä¸€ä¸ªå¯¹è±¡çš„å‰¯æœ¬  å¹¶ä¸”åªä¼šæ‰§è¡Œä¸€æ¬¡<br>2. switch ä¸»è¦æ³¨æ„çš„æ˜¯<br>   2.1 ä¸èƒ½æœ‰ç»“æœå€¼ç›¸åŒçš„caseè¡¨è¾¾å¼(å½“ç„¶å˜é‡é™¤å¤–) å¦‚æœæœ‰ åˆ™ä¼šç¼–è¯‘ä¸é€šè¿‡<br>   2.2 fallthrough å¦‚æœæŸä¸ªæ»¡è¶³æ¡ä»¶çš„caseè¯­å¥åé¢æœ‰fallthroughåˆ™ä¼šæ‰§è¡Œåé¢ä¸€ä¸ªcaseè¯­å¥<br>   2.3 ç±»å‹è‡ªåŠ¨è½¬æ¢ å¦‚æœswitchè¡¨è¾¾å¼åé¢çš„æ˜¯æ— ç±»å‹çš„å€¼,å®ƒä¸ä¼šå‘ç”Ÿè‡ªåŠ¨è½¬æ¢ç±»å‹ ä½†æ˜¯å¦‚æœcaseåé¢çš„æ˜¯æ— ç±»å‹çš„å€¼çš„è¯ ä¼šè¢«è‡ªåŠ¨è½¬æ¢æˆ switchåé¢çš„ç±»å‹<br>   2.4 å¦‚æœè¡¨è¾¾å¼ä¸­å«æœ‰æ¥å£ç±»å‹  ä¸€å®šè¦æ³¨æ„ æ¥å£ç±»å‹çš„å®é™…åŠ¨æ€ç±»å‹ æ˜¯å¦æ”¯æŒåˆ¤ç­‰æ“ä½œ å› ä¸ºä¼šç»•è¿‡ç¼–è¯‘å™¨çš„æ£€æŸ¥ ä½†æ˜¯åœ¨è¿è¡Œæ—¶å¼•èµ·ææ…Œ<br>å…³äºæ€è€ƒé¢˜<br>1. é€šè¿‡value.(type)è¡¨è¾¾å¼è·å–ç±»å‹æ“ä½œ<br>2. æ•´ä¸ªifè¯­å¥èŒƒå›´å†…","like_count":0},{"had_liked":false,"id":188221,"user_name":"Geek_0ed632","can_delete":false,"product_type":"c1","uid":1642241,"ip_address":"","ucode":"A327A81D0F5475","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/iajicahVUQORTadFz4gJvicaiciaxicUI3VcTDVrPOBOpCvXibtPLyjvMCaoHiaOcnuBJOpShj6eRtsrKaOXBianDiaWcxKg/132","comment_is_top":false,"comment_ctime":1584328716,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1584328716","product_id":100013101,"comment_content":"ä¸ªäººæ„Ÿè§‰goçš„ä½œç”¨åŸŸçš„è®¾ç½®æ¯”å…¶ä»–è¯­è¨€è¦å¥½","like_count":0},{"had_liked":false,"id":100754,"user_name":"benying","can_delete":false,"product_type":"c1","uid":1247522,"ip_address":"","ucode":"DEBAB485F381CC","user_header":"https://static001.geekbang.org/account/avatar/00/13/09/22/22c0c4fa.jpg","comment_is_top":false,"comment_ctime":1559632986,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1559632986","product_id":100013101,"comment_content":"å­¦ä¹ åˆ°ä¸€äº›å¹³æ—¶æ²¡æ³¨æ„çš„ç»†èŠ‚ï¼Œå­¦ä¹ è€å¸ˆ","like_count":0},{"had_liked":false,"id":70757,"user_name":"Geek_1ed70f","can_delete":false,"product_type":"c1","uid":1394112,"ip_address":"","ucode":"B9A1928A6967B1","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erNhKGpqicibpQO3tYvl9vwiatvBzn27ut9y5lZ8hPgofPCFC24HX3ko7LW5mNWJficgJncBCGKpGL2jw/132","comment_is_top":false,"comment_ctime":1551176129,"is_pvip":false,"replies":[{"id":"25234","content":"è¿™å°±æ˜¯æŒ‰ä½æˆ–å•Š","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1551180032,"ip_address":"","comment_id":70757,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551176129","product_id":100013101,"comment_content":"æŒ‰ä½æˆ–<br><br>æœ‰é”™åˆ«å­—  += å†™æˆäº†  |=","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440813,"discussion_content":"è¿™å°±æ˜¯æŒ‰ä½æˆ–å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551180032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62385,"user_name":"è™¢åœ‹æŠ€é†¬","can_delete":false,"product_type":"c1","uid":1056807,"ip_address":"","ucode":"5A192262AA037E","user_header":"https://static001.geekbang.org/account/avatar/00/10/20/27/a6932fbe.jpg","comment_is_top":false,"comment_ctime":1548042863,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548042863","product_id":100013101,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":34898,"user_name":"jacke","can_delete":false,"product_type":"c1","uid":1161209,"ip_address":"","ucode":"05F355E1FF88C5","user_header":"https://static001.geekbang.org/account/avatar/00/11/b7/f9/a8f26b10.jpg","comment_is_top":false,"comment_ctime":1540348682,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1540348682","product_id":100013101,"comment_content":"switchè¿›è¡Œæœ‰é™çš„è½¬åŒ–ä¸æ˜¯å¾ˆæ˜ç™½ï¼Ÿvalue1é‡Œé¢switchçš„è¯­å¥ä¸èƒ½ä»intè½¬æ¢ä¸ºint8ã€é‚£value2é‡Œé¢caseè¯­å¥åˆå¯ä»¥ä»intè½¬æ¢ä¸ºint8ï¼Ÿè¿˜æœ‰å€Ÿå£è½¬æ¢å¦‚ä½•åˆ¤å®šå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1019568,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8e/b0/ef201991.jpg","nickname":"CcczzZ","note":"","ucode":"5F46DA5053D2BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":125834,"discussion_content":"åœ¨switchè¡¨è¾¾å¼å€¼ç±»å‹å’Œcaseè¡¨è¾¾å¼å€¼ç±»å‹åˆ¤ç­‰çš„æ—¶å€™ï¼Œéœ€è¦ä¿è¯ä¸¤ä¸ªç±»å‹ä¸€è‡´ã€‚æ˜¯åˆ†ä¸¤ç§æƒ…å†µå§ï¼š\n1ã€å¦‚æœåœ¨ switch å€¼æ˜¯ä¸ç¡®å®šçš„ï¼Œä¼šè½¬ä¸ºè¯¥å€¼ç±»å‹çš„é»˜è®¤ç±»å‹ï¼Œæ¯”å¦‚ 1 è½¬ä¸º intç±»å‹ï¼Œæ­¤æ—¶ç”¨case çš„ç±»å‹å’Œ switch ç±»å‹åšå¯¹æ¯”ï¼Œç±»å‹ä¸åŒçš„è¯æ˜¯ä¸èƒ½åˆ¤ç­‰ã€‚\n2ã€è€Œå½“ switch ç±»å‹ç¡®è®¤æƒ…å†µï¼Œæ¯”å¦‚æ˜¯ int8 ç±»å‹ï¼Œcase è¡¨è¾¾å¼ç»“æœå€¼æ˜¯æ— ç±»å‹çš„1ï¼Œé‚£ä¹ˆ case ç»“æœå€¼ç±»å‹ä¼šè‡ªåŠ¨è½¬æ¢ä¸º switch çš„ç»“æœå€¼ç±»å‹ã€‚ï¼ˆè¿™ä¸ªè½¬æ¢æ„Ÿè§‰å¯ä»¥ç†è§£ä¸º Go è¯­è¨€åœ¨ switch è¿™é‡Œçš„ä¸€ä¸ªç‰¹æ®Šç‰¹æ€§å§ï¼‰","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578494133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2621412,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ff/e4/927547a9.jpg","nickname":"æ— åæ— å§“","note":"","ucode":"487BD5AA2CD305","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1019568,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8e/b0/ef201991.jpg","nickname":"CcczzZ","note":"","ucode":"5F46DA5053D2BB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532132,"discussion_content":"è¿™ä¸ªç»†èŠ‚å¾ˆä¸å®¹æ˜“æ³¨æ„åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637543521,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":125834,"ip_address":""},"score":532132,"extra":"{\"user_type\":1}"}]}]}]}
{"id":272988,"title":"10ï½œä»£ç é‡æ„å®éªŒï¼šåœ¨å®æˆ˜ä¸­æé«˜ç¼–è¾‘ç†Ÿç»ƒåº¦","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å´å’ç‚œã€‚</p><p>åœ¨å‰å‡ è®²ä¸­ï¼Œæˆ‘ä»¬å·²ç»å­¦äº†å¾ˆå¤šå…³äº Vim çš„çŸ¥è¯†ï¼Œç°åœ¨éœ€è¦å¥½å¥½æ¶ˆåŒ–ä¸€ä¸‹ã€‚ä»Šå¤©æ˜¯åŸºç¡€ç¯‡çš„æœ€åä¸€è®²ï¼Œæˆ‘ä»¬å°±åŸºæœ¬ä¸Šä¸å­¦æ–°çš„å†…å®¹äº†ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªå‡æƒ³çš„ä»£ç é‡æ„å®éªŒï¼Œæ¥å¤ä¹ ã€å·©å›ºå·²ç»å­¦åˆ°çš„ç¼–è¾‘æŠ€èƒ½ã€‚</p><h2>å¼€å§‹å‰çš„å‡†å¤‡å·¥ä½œ</h2><p>è¿™æ˜¯ä¸€å ‚å®éªŒè¯¾ï¼Œä½ éœ€è¦è·Ÿç€æˆ‘ä¸€æ­¥æ­¥åœ°æ“ä½œã€‚è·Ÿåªå­¦ä¹ æ–‡å­—å†…å®¹ç›¸æ¯”ï¼Œå®è·µæ“ä½œèƒ½è®©ä½ æ”¶è·æ›´å¤šã€‚æ‰€ä»¥ï¼Œå°±è¯·ä½ ç°åœ¨æŠŠç”µè„‘å‡†å¤‡å¥½ï¼Œè·Ÿæˆ‘æ¥å§ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬å°†è¦åšçš„æ˜¯ï¼Œç­¾å‡ºæˆ‘ä¸ºæå®¢æ—¶é—´å†™çš„ C++ ç¤ºä¾‹ç¨‹åºï¼Œå¹¶å¯¹å…¶ä¸­çš„ä»£ç è¿›è¡Œé‡æ„ã€‚åˆ«ç´§å¼ ï¼Œä½ ä¸éœ€è¦ç²¾é€š C++ï¼Œå› ä¸ºæˆ‘ä¼šåœ¨å¿…è¦çš„æ—¶å€™å¯¹ä»£ç è¿›è¡Œè§£é‡Šã€‚ä½ å­¦ä¹ çš„é‡ç‚¹åœ¨äºï¼Œæˆ‘æ˜¯å¦‚ä½•è¿›è¡Œç¼–è¾‘çš„ï¼Œè€Œä¸æ˜¯æˆ‘å†™çš„ä»£ç æ˜¯ä»€ä¹ˆæ„æ€ã€‚</p><p>é¦–å…ˆï¼Œä½ éœ€è¦å…ˆä¸ºå·¥ä½œä»£ç æ‰¾ä¸€ä¸ªåˆé€‚çš„çˆ¶ç›®å½•ï¼Œç„¶åç”¨ä¸‹é¢çš„å‘½ä»¤ç­¾å‡ºä»£ç ï¼ˆWindows ä¸‹é¢å»æ‰â€œ\\â€å…¨éƒ¨å†™ä¸€è¡Œï¼Œæˆ–è€…æŠŠâ€œ\\â€æ¢æˆâ€œ^â€ï¼‰ï¼‰ï¼š</p><pre><code class=\"language-bash\">git clone --recurse-submodules \\\n          --shallow-submodules \\\n    https://github.com/adah1972/geek_time_cpp.git\n</code></pre><p>ä¸‡ä¸€æˆ‘ä»¥åæ›´æ”¹ä»£ç çš„è¯ï¼Œå°±æœ‰å¯èƒ½é€ æˆå†…å®¹æˆ–è·¯å¾„å‘ç”Ÿå˜åŒ–ã€‚æ‰€ä»¥ï¼Œè¯·æŠŠæˆ‘ä»¬ä»Šå¤©ç¼–è¾‘çš„ commit id è®°ä¸‹æ¥ï¼š632b067ã€‚å¦‚æœä½ ç”¨ <code>git log</code> çœ‹åˆ° HEAD çš„ commit id ä¸æ˜¯å®ƒï¼Œå¯ä½¿ç”¨ <code>git checkout 632b067</code> è¿™ä¸ªå‘½ä»¤æ¥ç­¾å‡ºè·Ÿä»Šå¤©å®Œå…¨ç›¸åŒçš„ç‰ˆæœ¬ã€‚</p><!-- [[[read_end]]] --><p>ä¸‹é¢ï¼Œæˆ‘ä»¬å°±å¼€å§‹äº†ï¼</p><h2>ç±»æ¨¡æ¿ smart_ptr æ›´å</h2><p>æˆ‘ä»¬ç¬¬ä¸€æ­¥è¦åšçš„ï¼Œæ˜¯æŠŠç¤ºä¾‹çš„ <code>smart_ptr</code> ç±»æ¨¡æ¿æ›´åä¸º <code>shared_ptr</code>ã€‚åŒæ—¶ï¼Œä¸ºäº†é¿å…è·Ÿæ ‡å‡†çš„ <code>shared_ptr</code> å‘ç”Ÿå†²çªï¼Œæˆ‘ä»¬è¦æŠŠå®ƒæ”¾åˆ°åç©ºé—´ <code>gt</code>é‡Œé¢å»ï¼ˆå½“ç„¶ï¼Œä½ å¯ä»¥ç”¨å…¶ä»–åå­—ï¼›è¿™åªæ˜¯æˆ‘ä»¬çš„ç¤ºä¾‹ï¼‰ã€‚</p><p>å¤§ä½“æ€è·¯æ˜¯ï¼Œå…ˆéœ€è¦æ‰¾åˆ° <code>shared_ptr</code> å®šä¹‰æ‰€åœ¨çš„æ–‡ä»¶ï¼Œå¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼›ç„¶åæ‰¾åˆ°ä½¿ç”¨è¯¥æ–‡ä»¶çš„åœ°æ–¹ï¼Œä¹Ÿè¿›è¡Œç›¸åº”çš„ä¿®æ”¹ã€‚ä¸‹é¢æˆ‘ä»¬å°±æ¥åšä¸€ä¸‹ã€‚</p><h3>ä¿®æ”¹ç±»å®šä¹‰</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è¿›å…¥ <code>geek_time_cpp</code> æ‰€åœ¨çš„ç›®å½•ã€‚å¦‚æœä½ å‰é¢çš„å‘½ä»¤å°±æ˜¯ <code>git clone</code> çš„è¯ï¼Œé‚£ç°åœ¨ä½¿ç”¨ <code>cd geek_time_cpp</code> å°±å¯ä»¥äº†ã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬å½“ç„¶æ˜¯å¯åŠ¨ Vim äº†ã€‚å‡è®¾æˆ‘ä»¬çŸ¥é“ <code>smart_ptr</code> è¢«å®šä¹‰åœ¨ smart_ptr.h å¤´æ–‡ä»¶é‡Œï¼Œé‚£æˆ‘ä»¬æœ€å¿«çš„æ‰“å¼€æ–¹å¼å°±æ˜¯ä½¿ç”¨ <code>:Files</code> å‘½ä»¤ï¼Œç„¶åè¾“å…¥â€œsmâ€ï¼Œå³å¯çœ‹åˆ°â€œcommon/smart_ptr.hâ€æˆäº†ç¬¬ä¸€é€‰æ‹©ã€‚æˆ‘ä»¬æ­¤æ—¶æŒ‰ä¸‹å›è½¦é”®å³å¯æ‰“å¼€æ–‡ä»¶ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/da/5e/daa9009fe8f7c74a2c14fb64da06155e.gif?wh=1828*1084\" alt=\"Fig10.1\" title=\"ä½¿ç”¨ fzf.vim æ’ä»¶æ‰“å¼€æ–‡ä»¶çš„ç•Œé¢\"></p><p>è¿›å…¥æ–‡ä»¶åï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹æ–‡ä»¶çš„ç»“æ„ã€‚æ ¹æ®ç›®å‰çš„ Vim é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>&lt;F9&gt;</code> æ‰“å¼€ tagbar æ’ä»¶ã€‚æ³¨æ„ï¼Œè¿™ä¸ªæ–‡ä»¶ä½¿ç”¨äº† C++11ï¼ŒExuberant Ctags ä¼šæœ‰é”™è¯¯çš„è¯†åˆ«ã€‚ä¸‹é¢çš„æˆªå›¾æ˜¯å®‰è£…äº† Universal Ctags ä¹‹åçš„ç»“æœï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/bc/34/bc206cdd5b2094d6676a8ba283410c34.png?wh=1828*1084\" alt=\"Fig10.2\" title=\"ä½¿ç”¨ tagbar æŸ¥çœ‹æ–‡ä»¶ç»“æ„\"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ–‡ä»¶æ¯”è¾ƒç®€å•ï¼Œé‡Œé¢ä¸»è¦å°±æ˜¯ä¸¤ä¸ªç±»çš„å®šä¹‰å’Œä¸€äº›å…¨å±€å‡½æ•°ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦ç¡®è®¤ä¸€ä¸‹ï¼Œæ–‡ä»¶ä¸­æ²¡æœ‰ä»»ä½•ä¼šè¢«é”™è¯¯åŒ¹é…æ›¿æ¢çš„å†…å®¹ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å³ä¾§çª—å£é‡ŒåŒå‡»â€œsmart_ptrâ€ï¼Œè¿™æ ·å·¦ä¾§çª—å£å°±ä¼šè·³è½¬åˆ° <code>smart_ptr</code> çš„å®šä¹‰ä¸Šï¼Œå¹¶ä¸”å…‰æ ‡åœç•™åœ¨ç±»åä¸Šé¢ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬åªéœ€ä½¿ç”¨ <code>*</code> å¯åŠ¨æœç´¢å’ŒåŠ äº®å³å¯ã€‚ä½¿ç”¨ <code>n</code> ç»§ç»­æœç´¢ï¼Œæˆ‘ä»¬å¾ˆå¿«å°±èƒ½ç¡®è®¤æ–‡ä»¶ä¸­ç¡®å®æ²¡æœ‰å†²çªçš„å†…å®¹ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬è¿›è¡Œæ›¿æ¢æ“ä½œï¼Œéœ€è¦é”®å…¥çš„æ˜¯ <code>:%s/&lt;C-R&gt;//shared_ptr/g&lt;CR&gt;</code>ï¼ˆ<code>&lt;C-R&gt;</code> å’Œ <code>&lt;CR&gt;</code> éƒ½æ˜¯æŒ‰é”®ï¼Œè€Œéå°äºç¬¦å·åé¢è·Ÿå…¶ä»–å­—ç¬¦ï¼‰ã€‚æˆ‘ä»¬ä¸éœ€è¦æ‰‹å·¥è¾“å…¥ <code>\\&lt;smart_ptr\\&gt;</code>ï¼Œå› ä¸ºæœç´¢å¯„å­˜å™¨ <code>/</code> ä¸­å·²ç»æœ‰æˆ‘ä»¬è¦çš„å†…å®¹äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/fb/98/fbcc22dd7a2424afbfac32045b3e1e98.gif?wh=1828*1084\" alt=\"Fig10.3\" title=\"é”®å…¥æ›¿æ¢å‘½ä»¤\"></p><p>æœ€åï¼Œæˆ‘ä»¬åœ¨ç¬¬ä¸€ä¸ªç±»å®šä¹‰çš„å‰é¢åŠ ä¸Š <code>namespace gt {</code>ã€åœ¨æœ€åçš„ <code>#endif</code> å‰é¢åŠ ä¸Š <code>} /* namespace gt *ï¼</code>ï¼Œå°±å®Œæˆäº†å®šä¹‰çš„ä¿®æ”¹ã€‚</p><p>ä¸è¿‡ï¼Œç°åœ¨æ–‡ä»¶åè¿˜æ²¡æœ‰æ›´æ”¹ï¼Œæ–‡ä»¶é‡Œçš„åŒ…å«ä¿æŠ¤ï¼ˆå³å® <code>SMART_PTR_H</code>ï¼‰ä¹Ÿæ²¡æœ‰æ›´æ”¹ã€‚åŒ…å«ä¿æŠ¤éœ€è¦ç®€å•çš„é‡å‘½åï¼Œå°±è¯·ä½ ç”¨æˆ‘ä»¬ç›®å‰ä»‹ç»çš„ä»»ä¸€æ–¹æ³•è‡ªå·±å®Œæˆäº†ã€‚éšåï¼Œæˆ‘ä»¬ç”¨å‘½ä»¤ <code>:Rename shared_ptr.h</code> å³å¯å®Œæˆæ›´åå’Œå­˜ç›˜æ“ä½œã€‚</p><h3>ä¿®æ”¹ä½¿ç”¨ smart_ptr çš„åœ°æ–¹</h3><p>æˆ‘ä»¬å…ˆè¯•ç€ç”¨ä¸‹é¢çš„å‘½ä»¤æœç´¢ä¸€ä¸‹ï¼š</p><pre><code class=\"language-vim\">:grep -R --include=\"*.cpp\" --include=\"*.h\" \"\\&lt;smart_ptr\\&gt;\" .\n</code></pre><p>ï¼ˆå°æç¤ºï¼šåœ¨æŸ¥çœ‹æœç´¢ç»“æœçš„æ—¶å€™ï¼Œé€‚æ—¶ä½¿ç”¨ <code>zz</code>ã€<code>zt</code> å’Œ <code>zb</code> å‘½ä»¤ï¼Œå¯ä»¥æŠŠå‘¨è¾¹çš„ä»£ç çœ‹å¾—æ›´æ¸…æ¥šã€‚ï¼‰</p><p>ä½¿ç”¨ <code>:cn</code> ï¼ˆæˆ–æˆ‘ä»¬å®šä¹‰çš„å¿«æ·é”®ï¼‰ä»”ç»†æ£€æŸ¥æœç´¢å‡ºæ¥çš„ç»“æœï¼Œæˆ‘ä»¬ä¼šå‘ç°æœ‰ä¸€äº›è¯¯åŒ¹é…ï¼šæœ‰ <code>smart_ptr</code> æ˜¯ <code>unique_ptr</code> çš„æƒ…å†µï¼Œä¹Ÿæœ‰ <code>smart_ptr</code> æ˜¯ç­–ç•¥ç±»çš„æƒ…å†µã€‚</p><p>æˆ‘ä»¬ç¨å¾®æ”¹æ¢ä¸€ä¸‹æ–¹æ³•ï¼Œæœç´¢å¯¹ <code>smart_ptr.h</code> çš„ä½¿ç”¨ï¼š</p><pre><code class=\"language-vim\">:grep -R --include=\"*.cpp\" --include=\"*.h\" \"\\&lt;smart_ptr\\.h\\&gt;\" .\n</code></pre><p>è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬ä¼šå‘ç°ç»“æœåªæœ‰ä¸€ä¸ªåŒ¹é…ï¼Œé‚£å°±ç®€å•äº†ã€‚</p><p>åœ¨ä¸Šä¸€è®²é‡Œï¼Œæˆ‘ä»¬å·²ç»è®¨è®ºäº†åœ¨è¿™ç§æƒ…å†µä¸‹è¿›è¡Œä¿®æ”¹çš„ä¸‰ç§ä¸åŒæ–¹æ³•ï¼ˆå¿˜äº†ï¼Ÿè¯·å›è¿‡å»å¤ä¹ ä¸€ä¸‹ï¼‰ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬ç”¨ç¬¬å››ç§æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•çš„æ¯ä¸€æ­¥æˆ‘ä»¬å®é™…ä¸Šéƒ½è®²è¿‡ï¼Œä½†ä¸²èµ·æ¥ç”¨ï¼Œä½ å¯èƒ½å°±æ²¡æœ‰è¯•è¿‡äº†ã€‚æˆ‘ä»¬ä½¿ç”¨çš„åŸºæœ¬å‘½ä»¤æ˜¯ <code>cw</code>ã€<code>n</code> å’Œ <code>.</code>ã€‚</p><p>ç”±äºä¹‹å‰æœç´¢è¿‡ <code>smart_ptr</code>ï¼Œæˆ‘ä»¬ç°åœ¨ä»ç„¶å¯ä»¥ç»§ç»­ä½¿ç”¨ <code>n</code> æ‰¾åˆ°éœ€è¦ä¿®æ”¹çš„åœ°æ–¹ã€‚æˆ‘ä»¬éšå³éœ€è¦é”®å…¥çš„ï¼Œæ˜¯ <code>cwgt::shared_ptr&lt;Esc&gt;</code>ã€‚è¿™æ ·è¾“å…¥è™½ç„¶æœ‰ç‚¹é•¿ã€æœ‰ç‚¹å•°å—¦ï¼Œä½†å®ƒçš„å¥½å¤„æ˜¯æ•´ä¸ªä¿®æ”¹ä¼šè¢« Vim çœ‹ä½œæ˜¯ä¸€æ­¥ï¼Œå› è€Œå¯ä»¥ç”¨ <code>.</code> å‘½ä»¤æ¥é‡å¤ã€‚è¿™æ ·ï¼Œä¸‹é¢æˆ‘ä»¬åªéœ€è¦åå¤åˆ©ç”¨ <code>n</code> å’Œ <code>.</code> å‘½ä»¤ï¼ŒæŠŠé™¤äº† <code>#include</code> é‚£è¡Œä¹‹å¤–çš„æ‰€æœ‰ <code>smart_ptr</code> éƒ½æ”¹æˆ <code>gt::shared_ptr</code> å³å¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d4/20/d4bb5a96e3951b71c9ecb1c00191b020.gif?wh=1828*1084\" alt=\"Fig10.4\" title=\"ä½¿ç”¨ cwã€n å’Œ . æ¥è¿›è¡Œæ›¿æ¢\"></p><p>å¾ˆæ˜¾ç„¶ï¼Œè¿™å¹¶ä¸æ˜¯å”¯ä¸€çš„æ–¹æ³•ï¼Œä¹Ÿä¸ä¸€å®šæ˜¯æœ€å¥½çš„æ–¹æ³•ã€‚æ‰€ä»¥ï¼Œæˆ‘å»ºè®®ä½ åœ¨è¿™é‡Œæš‚åœä¸€ä¸‹ï¼Œç”¨ <code>:e!</code> é‡æ–°è½½å…¥è¿™ä¸ªæ–‡ä»¶ï¼Œè¯•è¯•ä½¿ç”¨ä¸Šä¸€è®²æåˆ°çš„å…¶ä»–æ–¹æ³•ã€‚æˆ‘è¿™é‡Œå°±ä»…ä»…å†ç»™ä½ å±•ç¤ºä¸€ä¸‹å¦‚ä½•ä½¿ç”¨æ›¿æ¢å‘½ä»¤ï¼ŒåŒæ—¶åˆä¸ä¼šè¯¯åŒ¹é…æ–‡ä»¶åï¼š</p><pre><code class=\"language-vim\">:%s/\\&lt;smart_ptr\\&gt;\\ze\\%([^.]\\|$\\)/gt::shared_ptr/g\n</code></pre><p>è¿™ä¸ªåŒ¹é…æ¨¡å¼è¯´çš„æ˜¯ï¼Œæˆ‘è¦æŸ¥æ‰¾å®Œæ•´çš„å•è¯â€œsmart_ptrâ€ï¼ˆè¿™å°±æ˜¯è¦æ›¿æ¢çš„å†…å®¹äº†ï¼‰ï¼Œä½†æ˜¯ï¼Œåœ¨åŒ¹é…ç»“æŸï¼ˆ<code>\\ze</code>ï¼‰åï¼Œæˆ‘è¿˜æœ‰ä¸¤ä¸ªé¢å¤–çš„åŒ¹é…è¦æ±‚ï¼ˆç”¨ <code>\\%(</code> å’Œ <code>\\)</code> æ‹¬èµ·æ¥ï¼‰ï¼Œè¦ä¹ˆä¸æ˜¯å¥ç‚¹ï¼ˆ<code>[^.]</code>ï¼‰ï¼Œè¦ä¹ˆï¼ˆ<code>\\|</code>ï¼‰æ˜¯è¡Œå°¾ï¼ˆ<code>$</code>ï¼‰ã€‚</p><p>æˆ‘ä»¬æœ€åæŠŠå”¯ä¸€æ®‹ç•™çš„ <code>smart_ptr.h</code> ä¿®æ”¹æˆ <code>shared_ptr.h</code>ï¼Œå°±å®Œæˆäº† <code>smart_ptr</code> çš„æ›´åä»»åŠ¡ã€‚</p><h2>ç¼–è¯‘æ‰§è¡Œï¼ˆå¯é€‰ï¼‰</h2><p>å¦‚æœä½ æ‡‚ C++ï¼Œå¹¶ä¸”æœ‰ geek_time_cpp çš„ <a href=\"https://github.com/adah1972/geek_time_cpp/blob/master/README.md\">README</a> æ–‡ä»¶é‡Œè¦æ±‚çš„æ‰§è¡Œç¯å¢ƒçš„è¯ï¼Œå¯ä»¥é€‰æ‹©ä½“éªŒä¸€ä¸‹ç¼–è¯‘æ‰§è¡Œã€‚</p><p>æˆ‘ä»¬éœ€è¦å…ˆåœ¨ 02 ç›®å½•ä¸‹åˆ›å»ºå¹¶è¿›å…¥ build å­ç›®å½•ï¼Œç„¶åè¿è¡Œ <code>cmake ..</code>ã€‚éšåï¼Œåœ¨ Unix ç¯å¢ƒä¸‹ï¼Œä¸€èˆ¬å¯ç«‹å³ä½¿ç”¨å¿«æ·é”® <code>&lt;F5&gt;</code> è¿›è¡Œç¼–è¯‘ï¼›æƒ³è¦åœ¨ Windows ä¸‹ä¹Ÿèƒ½æ­£å¸¸è¿›è¡Œç¼–è¯‘ï¼Œæˆ‘ä»¬åˆ™åº”å½“è®¾ç½® <code>set makeprg=cmake\\ --build\\ .\\ -j</code>ï¼ˆè€ç‰ˆæœ¬çš„ cmake å¯èƒ½ä¸æ”¯æŒ <code>-j</code> å‘½ä»¤è¡Œå‚æ•°çš„è¯ï¼Œè¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬ä¼šæ²¡æ³•ç”¨ cmake è¿›è¡Œå¹¶å‘ç¼–è¯‘ï¼›ä¸è¿‡å¯¹äºæˆ‘ä»¬çš„å°ä¾‹å­æ²¡å•¥å…³ç³»ï¼‰ã€‚</p><p>å¦å¤–ä¸€ä¸ªè¦æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼ŒVim åœ¨ç¼ºçœé…ç½®ä¸‹ä¸èƒ½è¯†åˆ« Visual C++ çš„é”™è¯¯è¾“å‡ºæ ¼å¼ ã€‚ä¸ºäº†èƒ½è¿›è¡Œè¯†åˆ«ï¼Œå¹¶åœ¨å‘ç”Ÿé”™è¯¯æ—¶è·³è½¬åˆ°æ–‡ä»¶çš„æŒ‡å®šä½ç½®ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸‹é¢çš„é€‰é¡¹ï¼š</p><pre><code class=\"language-vim\">set errorformat=\\ %#%f(%l\\\\\\,%c):\\ %m\n</code></pre><p>ç›®å‰æ¥è®²ï¼Œç¯å¢ƒæ²¡é—®é¢˜çš„è¯ï¼Œæˆ‘ä»¬å°±ä¼šâ€¦â€¦é‡åˆ°ç¼–è¯‘é”™è¯¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/23/a2/2379fd36a653d5725129d0ecaebcb3a2.png?wh=1238*1287\" alt=\"Fig10.5\" title=\"Windows ä¸‹é‡åˆ°ç¼–è¯‘é”™è¯¯çš„ç•Œé¢\"></p><p>åŸå› æ˜¯ <code>dynamic_pointer_cast</code> å‰é¢ä¹Ÿéœ€è¦åŠ ä¸Š <code>gt::</code>ã€‚åšäº†è¿™ä¸ªä¿®æ”¹ä¹‹åï¼Œæˆ‘ä»¬å°±åº”è¯¥å¯ä»¥é¡ºåˆ©ç¼–è¯‘å‡ºå¯æ‰§è¡Œæ–‡ä»¶äº†ã€‚åœ¨ Windows ä¸‹ä½¿ç”¨å‘½ä»¤ <code>:!.\\Debug\\sp_test02_shared_ptr</code>ï¼Œæˆ–åœ¨ Unix å¹³å°ä¸‹ä½¿ç”¨å‘½ä»¤ <code>:!./sp_test02_shared_ptr</code>ï¼Œæˆ‘ä»¬å³å¯åœ¨ç»ˆç«¯çœ‹åˆ°ä¸‹é¢çš„è¾“å‡ºï¼š</p><blockquote>\n<p><code>circle()</code><br>\n<code>use count of ptr1 is 1</code><br>\n<code>use count of ptr2 was 0</code><br>\n<code>use count of ptr2 is now 2</code><br>\n<code>ptr1 is not empty</code><br>\n<code>use count of ptr3 is 3</code><br>\n<code>~circle()</code></p>\n</blockquote><p>åŒæ—¶ï¼Œå¦‚æœæ„¿æ„çš„è¯ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ AsyncRun æä¾›çš„æœºåˆ¶ï¼Œåœ¨ Windows ä¸‹ä½¿ç”¨å‘½ä»¤ <code>:AsyncRun .\\Debug\\sp_test02_shared_ptr</code>ï¼Œæˆ–åœ¨ Unix å¹³å°ä¸‹ä½¿ç”¨å‘½ä»¤ <code>:AsyncRun ./sp_test02_shared_ptr</code>ï¼Œå¼‚æ­¥è¿è¡Œç¨‹åºå¹¶æŠŠè¾“å‡ºé‡å®šå‘åˆ° quickfix çª—å£é‡Œã€‚</p><h2>æ·»åŠ è·Ÿè¸ªè¯­å¥</h2><p>å‡è®¾æˆ‘ä»¬å¯¹è¿™ä¸ªä»£ç æ‰§è¡Œè¿‡ç¨‹æœ‰äº›ç–‘é—®ï¼Œæƒ³æ·»åŠ äº›è·Ÿè¸ªè¯­å¥ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬é¦–å…ˆéœ€è¦åœ¨ä¸€ä¸ªæ–°çª—å£ä¸­æ‰“å¼€ common/smart_ptr.hã€‚ç”±äºæˆ‘ä»¬ç¬¬ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶å°±æ˜¯å®ƒï¼Œæ‰€ä»¥å®ƒçš„ç¼“å†²åŒºç¼–å·ä¸º 1ï¼Œæˆ‘ä»¬å¯åœ¨ç”¨ <code>&lt;C-W&gt;n</code> æ‰“å¼€ä¸€ä¸ªæ–°çª—å£åï¼Œä½¿ç”¨ <code>1&lt;C-^&gt;</code> é£é€Ÿåœ°é‡æ–°æ‰“å¼€æ–‡ä»¶ã€‚</p><p>æˆ‘ä»¬å¸Œæœ›å¯¹å¼•ç”¨è®¡æ•°çš„å¢ã€å‡ã€åˆ é™¤ç­‰æ“ä½œè¿›è¡Œè·Ÿè¸ªã€‚æœ€ç®€å•çš„æ–¹å¼ï¼Œå½“ç„¶å°±æ˜¯æ‰§è¡Œå¯¹åº”æ“ä½œçš„æ—¶å€™ï¼ŒæŠŠæ‰§è¡Œçš„è¯­å¥ä¹Ÿè¾“å‡ºä¸€ä¸‹ã€‚åƒè¿™æ ·ç®€å•çš„æœºæ¢°åŒ–æ“ä½œï¼Œæ˜¾ç„¶å°±æ˜¯å®çš„å¤©ä¸‹äº†ã€‚æˆ‘ä»¬æ¥è¯•ä¸€ä¸‹ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥æ”¹é€ ä¸€ä¸‹ <code>smart_ptr</code> ææ„å‡½æ•°é‡Œé¢çš„ç¬¬ä¸€ä¸ª <code>delete ptr_</code>ã€‚ä¸€ä¸ªå¯èƒ½çš„æ“ä½œæ­¥éª¤æ˜¯ï¼š</p><ol>\n<li>å¤åˆ¶å½“å‰è¡Œ</li>\n<li>ç²˜è´´å½“å‰è¡Œ</li>\n<li>é€‰ä¸­è¡Œé¦–ç¼©è¿›åã€ç»“å°¾åˆ†å·å‰çš„å†…å®¹ï¼Œå¥—ä¸ŠåŒå¼•å·</li>\n<li>åœ¨è¿™ä¸ªæ–°å¯¹è±¡å‰åæ’å…¥è¾“å‡ºæ‰€å¿…é¡»çš„å‘½ä»¤</li>\n</ol><p>æˆ‘ä»¬éœ€è¦å½•åˆ¶çš„å®çš„å†…å®¹æ˜¯ <code>yyPv$hS\"gvS)iputs&lt;Esc&gt;l%a;&lt;Esc&gt;</code>ï¼Œè€Œä½ æŠŠè¿™ä¸€ä¸²ä¸œè¥¿ç”¨ <code>nmap</code> å‘½ä»¤æ˜ å°„ç»™æŸä¸ªæŒ‰é”®ä¸Šä¹Ÿå®Œå…¨å¯è¡Œï¼ˆæ³¨æ„ï¼Œæ­¤å¤„ä¸èƒ½ç”¨ <code>nnoremap</code>ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦ä½¿ç”¨ vim-surround æ’ä»¶å¸¦æ¥çš„æ–°çš„ <code>S</code> æŒ‰é”®çš„å®šä¹‰ï¼‰ã€‚å½“ç„¶ï¼Œåœ¨äº¤äº’çš„ç¯å¢ƒä¸­ï¼Œå½•åˆ¶æŒ‰é”®ä¼šæ¯”çœ¼ç›çœ‹è¿™ä¸ªå­—ç¬¦ä¸²å®¹æ˜“ç†è§£å¤šäº†ã€‚Vim çš„å®ï¼Œå°±å…¶æœ¬è´¨è€Œè¨€ï¼Œå¯ç®—æ˜¯ä¸€ç§åªå†™ä¸è¯»çš„ç®€å•è¿‡ç¨‹å¼è¯­è¨€ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b7/73/b7e972e2c310b493f31bf18d16264873.gif?wh=1828*1084\" alt=\"Fig10.6\" title=\"å½•åˆ¶æŠŠä¸€è¡Œè¯­å¥å˜æˆè°ƒè¯•è¾“å‡ºçš„å®\"></p><p>æˆ‘ä»¬ç”¨åˆ°çš„å‘½ä»¤é‡Œï¼Œåªæœ‰ <code>gv</code> æ˜¯ä¹‹å‰æ²¡æœ‰å­¦è¿‡çš„ã€‚æˆ‘ä»¬å½“ç„¶ä¹Ÿæœ‰å…¶ä»–æ–¹æ³•æ¥é€‰ä¸­è¡Œä¸­çš„å†…å®¹ï¼Œä½† <code>gv</code> çš„ä½œç”¨æ˜¯é‡æ–°é€‰ä¸­åˆšæ‰é€‰ä¸­çš„å†…å®¹ï¼Œæœ€å¿«ï¼Œä¹Ÿæœ€æ–¹ä¾¿ã€‚</p><p>åˆ©ç”¨è¿™ä¸ªå®ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ·»åŠ è°ƒè¯•è¯­å¥å˜æˆæŒ‰ä¸¤ä¸ªé”®ã€‚å“¦ï¼Œå¯¹äº†ï¼Œå®ä¸€æ—¦æ‰§è¡Œè¿‡åï¼Œç¬¬äºŒæ¬¡æ‰§è¡ŒåŒä¸€ä¸ªå®åªéœ€è¦é”®å…¥ <code>@@</code> å³å¯ï¼Œè¿™æ ·è¿˜èƒ½æ›´å¿«äº›ã€‚</p><p>åœ¨æˆ‘ä»¬æŠŠæ‰€æœ‰çš„ <code>delete</code> è¯­å¥å’Œ <code>add_count</code> å‡½æ•°è°ƒç”¨è¡Œä¸Šæ‰§è¡Œäº†è¿™ä¸ªå®ä¹‹åï¼Œæˆ‘ä»¬è¿è¡Œç¨‹åºå¯ä»¥å¾—åˆ°ä¸‹é¢çš„ç»“æœï¼š</p><blockquote>\n<p><code>circle()</code><br>\n<code>use count of ptr1 is 1</code><br>\n<code>use count of ptr2 was 0</code><br>\n<code>other.shared_count_-&gt;add_count();</code><br>\n<code>use count of ptr2 is now 2</code><br>\n<code>ptr1 is not empty</code><br>\n<code>other.shared_count_-&gt;add_count();</code><br>\n<code>use count of ptr3 is 3</code><br>\n<code>delete ptr_;</code><br>\n<code>~circle()</code><br>\n<code>delete shared_count_;</code></p>\n</blockquote><p>å¦‚æœæƒ³å¯¹è¿™ä¸ªä»£ç ä½œè¿›ä¸€æ­¥è°ƒæ•´ï¼Œç±»ä¼¼æ“ä½œå³å¯ï¼Œç›¸å½“å®¹æ˜“å§ï¼Ÿ</p><h2>è°ƒæ•´æµ‹è¯•ç”¨ä¾‹</h2><p>æˆ‘ä»¬ç°åœ¨ä½¿ç”¨é¼ æ ‡ç‚¹å‡»æˆ–è€… <code>&lt;C-W&gt;j</code> ç­‰å‘½ä»¤è·³è½¬åˆ°æµ‹è¯•ä»£ç  test02_shared_ptr.cpp ä¸­ã€‚æˆ‘ä»¬éšå³ä½¿ç”¨ <code>&lt;C-W&gt;_</code> å‘½ä»¤æ¥æœ€å¤§åŒ–çª—å£ï¼Œå› ä¸ºä¼¼ä¹æš‚æ—¶ç”¨ä¸ç€ç¼–è¾‘ smart_ptr.hï¼ˆä½†è¿˜ä¸é‚£ä¹ˆç¡®å®šï¼Œå¦åˆ™å°±å¯ä»¥ç›´æ¥å…³é—­é‚£ä¸ªçª—å£äº†ï¼‰ã€‚</p><p>æˆ‘ä»¬æ‰“ç®—åœ¨ <code>ptr1</code> ä¸ä¸ºç©ºçš„é‚£ä¸ªæ¡ä»¶åˆ¤æ–­ä¸‹é¢å†åŠ ç‚¹å†…å®¹ã€‚é‚£è¡Œè¾“å‡ºçœ‹ç€ä¹ŸæŒºæ— èŠçš„ï¼Œæˆ‘ä»¬å°±ç›´æ¥æŠŠå®ƒå¹²æ‰äº†ã€‚æˆ‘ä»¬å¯ä»¥åœ¨é‚£ç»„å¤§æ‹¬å·å†…çš„ä»»æ„åœ°æ–¹ç‚¹å‡»åï¼Œä½¿ç”¨ <code>ci{</code> å¼€å§‹ç¼–è¾‘ï¼Œç„¶åè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><pre><code class=\"language-c++\">printf(\"ptr1 %s ptr2\\n\",\n       ptr1 == ptr2 ? '==' : '!=');\n</code></pre><p>ä»£ç ç¼–è¯‘å±…ç„¶æœ‰å¥‡æ€ªçš„å‘Šè­¦å‡ºç°â€¦â€¦æˆ‘æ˜¯ Python å†™å¤šäº†ï¼Œè„‘å­æ²¡è½¬å›æ¥å—ï¼Ÿæ²¡å…³ç³»ï¼Œåœ¨ç¬¬ä¸€å¤„å•å¼•å·å†…éƒ¨é”®å…¥ <code>cs'\"</code>ï¼Œç„¶ååœ¨ç¬¬äºŒå¤„å•å¼•å·å†…éƒ¨é”®å…¥ <code>.</code> é‡å¤ä¸€ä¸‹å°±å¥½ï¼Œç°åœ¨ä»£ç åº”è¯¥æ˜¯æ­£ç¡®çš„äº†ï¼š</p><pre><code class=\"language-c++\">printf(\"ptr1 %s ptr2\\n\",\n       ptr1 == ptr2 ? \"==\" : \"!=\");\n</code></pre><p>å†æ¬¡ç¼–è¯‘ï¼Œå®Œç¾ï¼Œæ²¡æœ‰é—®é¢˜äº†ï¼è¿è¡Œç¨‹åºï¼Œæˆ‘ä»¬å¾—åˆ°ï¼š</p><blockquote>\n<p><code>circle()</code><br>\n<code>use count of ptr1 is 1</code><br>\n<code>use count of ptr2 was 0</code><br>\n<code>other.shared_count_-&gt;add_count();</code><br>\n<code>use count of ptr2 is now 2</code><br>\n<code>ptr1 == ptr2</code><br>\n<code>other.shared_count_-&gt;add_count();</code><br>\n<code>use count of ptr3 is 3</code><br>\n<code>delete ptr_;</code><br>\n<code>~circle()</code><br>\n<code>delete shared_count_;</code></p>\n</blockquote><h2>å†…å®¹å°ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬å°è¯•å¯¹ä¸€å°æ®µ C++ ä»£ç è¿›è¡Œäº†ç®€å•çš„é‡æ„ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å’Œå¤ä¹ äº†ä¸‹é¢è¿™äº›ç¼–è¾‘æŠ€å·§ï¼š</p><ul>\n<li>ä½¿ç”¨ fzf.vim æ¥æ ¹æ®éƒ¨åˆ†æ–‡ä»¶åè¿…é€Ÿæ‰“å¼€æ–‡ä»¶</li>\n<li>ä½¿ç”¨ tagbar æ¥æµè§ˆæ–‡ä»¶çš„ç»“æ„</li>\n<li>ä½¿ç”¨ vim-eunuch æ¥è¿›è¡Œæ–‡ä»¶æ›´å</li>\n<li>ä½¿ç”¨æ›¿æ¢å‘½ä»¤æ¥è¿›è¡Œæ‰¹é‡ä»£ç æ›´å</li>\n<li>ä½¿ç”¨ <code>.</code> å‘½ä»¤æŠ€å·§æ¥è¿›è¡Œæ‰¹é‡ä»£ç æ›´å</li>\n<li>ä½¿ç”¨ <code>&lt;C-R&gt;</code> åœ¨æ’å…¥æ¨¡å¼å’Œå‘½ä»¤è¡Œæ¨¡å¼ä¸­ä½¿ç”¨å¯„å­˜å™¨çš„å†…å®¹</li>\n<li>ä½¿ç”¨ <code>:grep</code> å‘½ä»¤åœ¨æ–‡ä»¶ä¸­è¿›è¡Œæ–‡æœ¬æœç´¢</li>\n<li>ä½¿ç”¨å¼‚æ­¥çš„æ„å»ºå‘½ä»¤ï¼Œå¹¶è®¾ç½®é€‰é¡¹ä½¿å¾—é”™è¯¯ä¿¡æ¯è§£æåœ¨ Visual Studio å·¥å…·é‡Œä¹Ÿèƒ½å·¥ä½œ</li>\n<li>ä½¿ç”¨æ–‡æœ¬å¯¹è±¡å‘½ä»¤å¯¹ç”¨æ‹¬å·ã€å¼•å·ç­‰ç¬¦å·åŒ…èµ·æ¥çš„æ–‡æœ¬è¿›è¡Œç»Ÿä¸€çš„ä¿®æ”¹</li>\n<li>ä½¿ç”¨å®ï¼Œåœ¨ä¸€æ¬¡æ“ä½œä¹‹åï¼Œåœ¨é‡åˆ°ç±»ä¼¼åœºæ™¯æ—¶å¯ä»¥å¿«é€Ÿä¿®æ”¹</li>\n</ul><p>è™½ç„¶ä»Šå¤©çš„ä»£ç æ˜¯ C++ çš„ï¼Œä½†è¿™äº›ç¼–è¾‘æ–¹å¼é€‚ç”¨äºä»»ä½•è¯­è¨€ã€‚è¯·ä½ ä¸€å®šè¦ç‰¢ç‰¢æŒæ¡ã€‚æˆ‘ä»¬ä¹Ÿåº”è¯¥æ…¢æ…¢çœ‹åˆ°äº†ï¼Œç¼–è¾‘çš„ä¸€ä¸ªè¦ç‚¹ï¼Œåœ¨äºæŠŠéœ€è¦é‡å¤çš„å·¥ä½œè‡ªåŠ¨åŒ–å’Œç®€å•åŒ–ã€‚Vim ä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜çš„ç¼–è¾‘å™¨ï¼Œæä¾›äº†çµæ´»è€Œå¼ºå¤§çš„ç¼–è¾‘æœºåˆ¶â€”â€”æœ€ç»ˆç”¨æˆ·ï¼Œæˆ–æ‰©å±•åŒ…çš„å¼€å‘è€…ï¼Œéƒ½å¯ä»¥åˆ©ç”¨è¿™äº›åº•å±‚æœºåˆ¶ï¼Œä½¿ç¼–è¾‘å˜å¾—æ›´åŠ é«˜æ•ˆã€‚</p><p>æœ¬è®²æˆ‘ä»¬å¯¹ Windows ä¸‹çš„ vimrc é…ç½®æ–‡ä»¶æœ‰ä¸€å¤„å°ä¿®æ”¹ï¼Œå¯¹åº”çš„æ ‡ç­¾æ˜¯â€œl10-windowsâ€ã€‚</p><h2>è¯¾åç»ƒä¹ </h2><p>å®éªŒè¯¾ä¸­çš„å†…å®¹ä½ å·²ç»ä¸€ä¸€å°è¯•äº†å§ï¼Ÿè¯·ä½ å†å‘å‰ä¸€æ­¥ï¼Œæƒ³ä¸€æƒ³æˆ‘ä»¬çš„æ¯æ¬¡ç¼–è¾‘æ˜¯å¦å¯ä»¥æœ‰ä¸åŒçš„æ‰§è¡Œæ–¹å¼ï¼ŒåŠå“ªç§æ–¹å¼å¯¹ä½ æœ€é¡ºæ‰‹ã€‚Vim çš„å‘½ä»¤ä¸€å®šæ˜¯åœ¨ä½¿ç”¨ä¸­æ‰èƒ½ç†Ÿç»ƒåº”ç”¨çš„ã€‚ä½ ä¸ä¸€å®šè¦è®°ä½æ‰€æœ‰å¯èƒ½çš„ç¼–è¾‘æ–¹å¼ï¼Œä½†æ¯ä¸€ç§æœ€å¥½éƒ½è‡³å°‘å°è¯•ä¸€æ¬¡ï¼Œç„¶åæ‰¾å‡ºæœ€é€‚åˆè‡ªå·±çš„ã€æœ€èƒ½ç‰¢ç‰¢æŒæ¡çš„ç¼–è¾‘æ–¹å¼ã€‚</p><p>æˆ‘æ˜¯å´å’ç‚œï¼Œæˆ‘ä»¬ä¸‹ä¸€è®²å†è§ï¼</p>","comments":[{"had_liked":false,"id":241609,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1597370452,"is_pvip":false,"replies":[{"id":"89261","content":"æˆ‘ä»¬å¹²çš„äº‹æƒ…æ˜¯åœ¨é‚£ä¸ªé¡¹ç›®çš„å¤–éƒ¨ï¼Œåœ¨é‚£ä¸ªé¡¹ç›®ä¸Šæ‰“æ ‡ç­¾ä¸å¥½ã€‚<br><br>CMake å¾ˆå¥½ï¼Œæ¨èã€‚åœ¨ Unix å¹³å°ä¸Šå®ƒé»˜è®¤ç”Ÿæˆ Makefileï¼Œåé¢ä½ ä»ç„¶å¯ä»¥ç”¨ make å‘½ä»¤ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":"1645639","ctime":1597452962,"ip_address":"","comment_id":241609,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18777239636","product_id":100055801,"comment_content":"è€å¸ˆçš„git submoduleç”¨çš„æºœå•Š.<br>å…‹éš†ä¸€ä¸ªä»“åº“,å‡ºæ¥äº†ä¸€å¤§æºœ.<br>è¿™ä¸ªgitå­æ¨¡å—çš„åŠŸèƒ½æˆ‘åªæ˜¯ç²—ç•¥çŸ¥é“,ä½†è¿˜æ²¡ç”¨èµ·æ¥è¿‡.<br><br>å¦å¤–,å»ºè®®ç»™commit:`632b067`æ‰“ä¸€ä¸ªæ–¹ä¾¿è®°çš„æ ‡ç­¾æˆ–åˆ†æ”¯.<br><br># å¦‚æœæ˜¯æˆ‘æ¥åšè¿™æ¬¡çš„é‡æ„,æœ‰äº›åœ°æ–¹æˆ‘ä¼šè¿™ä¹ˆåš.(ä»…ä¾›å‚è€ƒ)<br><br>1. æ‰“å¼€æ–‡ä»¶çš„æ“ä½œæˆ‘ä¼šè¿™ä¹ˆåš<br>`grep -lr smart_ptr * | xargs -o vim`<br>grepçš„`-l`å‚æ•°æ˜¯åªæ˜¾ç¤ºæ–‡ä»¶å,`-r`çš„æ“ä½œæ˜¯è¡¨ç¤ºé€’å½’çš„åœ¨å­ç›®å½•ä¸­æŸ¥æ‰¾.<br>åé¢çš„`|`è¡¨ç¤ºç®¡é“,æŠŠç¬¬ä¸€éƒ¨åˆ†çš„ç»“æœå½“åšç¬¬äºŒéƒ¨åˆ†çš„è¾“å…¥.<br>`xargs -o vim`è¡¨ç¤ºåœ¨vimä¸­æ‰“å¼€è¿™äº›æ‰¾åˆ°çš„æ–‡ä»¶.<br><br>å…¶å®è¿™å¥—ç»„åˆå‘½ä»¤æ˜¯éå¸¸å¸¸ç”¨çš„.<br>æˆ‘ç”šè‡³ç»™`xargs -o vim`å–äº†ä¸ªåˆ«å:`alias xov=&quot;xargs -o vi&quot;`<br><br>2. å¦‚æœæ˜¯å·²ç»æ‰“å¼€äº†æŸä¸ªæ–‡ä»¶,éœ€è¦åœ¨å½“å‰ç›®å½•åŠå­ç›®å½•ä¸­æŸ¥æ‰¾ç›¸å…³å†…å®¹,<br>æˆ‘ä¼šç”¨ä¹‹å‰åˆ›å»ºçš„æ˜ å°„é”®`F3`å»æœç´¢.<br>å¦‚æœæ˜¯æƒ³æ‰¹é‡æ‰“å¼€quickfixåˆ—è¡¨ä¸­çš„æ‰€æœ‰æ–‡ä»¶,å¯ä»¥å‚è€ƒè¿™ä¸ª.(https:&#47;&#47;gist.github.com&#47;larsthegeek&#47;4063239)<br><br>3. å¦‚æœæ˜¯æ‰¹é‡æ›¿æ¢`smart_ptr`ä¸º`gt::shared_ptr`,ä»¥å‰æˆ‘ä¹Ÿä¼šç”¨`.`å‘½ä»¤æˆ–è€…æ­£åˆ™æ›¿æ¢.<br>ä½†æ˜¯ç°åœ¨,æˆ‘åˆå¤šäº†ä¸€ä¸ªé€‰æ‹©,å°±æ˜¯ç”¨ä¹‹å‰ä»‹ç»çš„[vim-visual-multi](https:&#47;&#47;github.com&#47;mg979&#47;vim-visual-multi)<br>å®ƒä¸éœ€è¦å†™æ­£åˆ™(ä¸éœ€è¦è€ƒè™‘å„ç§ç‰¹æ®Šå­—ç¬¦çš„è½¬ä¹‰),ä¹Ÿä¸ç”¨é¢‘ç¹çš„ä½¿ç”¨`n`å»è·³è½¬,è€Œä¸”ä¿®æ”¹çš„è¿‡ç¨‹è¿˜å¾ˆç›´è§‚.<br>(ä¸åƒCtrl+vçš„åˆ—ç¼–è¾‘æ¨¡å¼,åªæœ‰é€€å‡ºäº†ç¼–è¾‘æ¨¡å¼æ‰èƒ½åœ¨å…¶ä»–åœ°æ–¹çœ‹åˆ°æ•ˆæœ)<br><br>å¦å¤–,æ¨èä¸€ä¸ªä»¥å‰æˆ‘ä¼šç”¨çš„éªšæ“ä½œ`gn`.<br>é…åˆæ“ä½œç¬¦`cgn`å»ç¼–è¾‘,åé¢éƒ½ä¸éœ€è¦æŒ‰`n`,è€Œç›´æ¥æŒ‰`.`å‘½ä»¤.<br>å°±å¯ä»¥å®ç°è·³è½¬åˆ°ä¸‹ä¸€å¤„åŒ¹é…,å¹¶æ‰§è¡Œåˆšæ‰çš„ä¿®æ”¹æ“ä½œ.<br>è¿™ä¸ªæ–¹æ³•çš„ç¼ºç‚¹,å°±æ˜¯æ— æ³•è·³è¿‡æŸäº›ä¸æƒ³ä¿®æ”¹çš„åŒ¹é…å¤„.<br><br>4. cmakeæˆ‘ä¸å¤ªç†Ÿ,ä½†æˆ‘ä¹ æƒ¯äºå†™Makefileæ–‡ä»¶,æŠŠå¸¸ç”¨çš„ç¼–è¯‘å’Œè¿è¡Œå‘½ä»¤æ”¾åœ¨å…¶ä¸­.<br>è¿™æ ·é…åˆ`vim-dispatch`æ’ä»¶,å¯ä»¥å¾ˆæ–¹ä¾¿çš„å¼‚æ­¥è°ƒç”¨ç¼–è¯‘å‘½ä»¤.<br><br>5. åœ¨å‘½ä»¤è¡Œçš„æ›¿æ¢æ¨¡å¼ä¸­,ä½¿ç”¨ä¸Šæ¬¡çš„æœç´¢æ¨¡å¼,å¯ä»¥å·ç‚¹æ‡’.<br>`:help &#47;&lt;CR&gt;`,å…¶å®ä¸ç”¨è¾“å…¥å…·ä½“çš„æ¨¡å¼,ä¹Ÿæ˜¯å¯ä»¥ç›´æ¥å¤ç”¨ä¸Šæ¬¡çš„æ¨¡å¼.<br>ä½†æ˜¯è¿™ä¸ªä¹Ÿå­˜åœ¨ä¸€ä¸ªé—®é¢˜,ä¸ä¾¿äºåé¢å¤ç”¨è¯¥æ›¿æ¢å‘½ä»¤.(å› ä¸ºåé¢çš„`&#47;`å¯„å­˜å™¨çš„å†…å®¹å·²ç»å‘ç”Ÿäº†å˜åŒ–)<br><br>6. åœ¨åšé‡æ„å‰,æˆ‘ä¼šä¹ æƒ¯æ€§çš„å¤‡ä»½ä¹‹å‰çš„å†…å®¹.é‡æ„å®Œæˆå,æ ¸å¯¹ä¸€éæœ¬æ¬¡çš„ä¿®æ”¹æ˜¯å¦æ­£ç¡®.<br><br>","like_count":4,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503787,"discussion_content":"æˆ‘ä»¬å¹²çš„äº‹æƒ…æ˜¯åœ¨é‚£ä¸ªé¡¹ç›®çš„å¤–éƒ¨ï¼Œåœ¨é‚£ä¸ªé¡¹ç›®ä¸Šæ‰“æ ‡ç­¾ä¸å¥½ã€‚\n\nCMake å¾ˆå¥½ï¼Œæ¨èã€‚åœ¨ Unix å¹³å°ä¸Šå®ƒé»˜è®¤ç”Ÿæˆ Makefileï¼Œåé¢ä½ ä»ç„¶å¯ä»¥ç”¨ make å‘½ä»¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597452962,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337554,"user_name":"Serenity","can_delete":false,"product_type":"c1","uid":2915166,"ip_address":"","ucode":"795B7129FC56EB","user_header":"https://static001.geekbang.org/account/avatar/00/2c/7b/5e/044e9598.jpg","comment_is_top":false,"comment_ctime":1646891532,"is_pvip":true,"replies":[{"id":"123372","content":"æ²¡å‘ç°æ± è€å¸ˆä¹Ÿç”¨ Vim ä¹ˆï¼ŸğŸ˜","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1645639","ctime":1646971142,"ip_address":"","comment_id":337554,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5941858828","product_id":100055801,"comment_content":"å­¦åˆ°è¿™ä¸€è¯¾æ‰å‘ç°ï¼Œåœ¨è¿™ä¸ªç½‘é¡µé‡Œä½¿ç”¨hjklå’Œå·¦ä¸‹ä¸Šå³æŒ‰é”®çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼","like_count":1,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555545,"discussion_content":"æ²¡å‘ç°æ± è€å¸ˆä¹Ÿç”¨ Vim ä¹ˆï¼ŸğŸ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646971142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355796,"user_name":"è¿›å‡»çš„Lancelot","can_delete":false,"product_type":"c1","uid":2620407,"ip_address":"ä¸Šæµ·","ucode":"3BCC355801DC61","user_header":"https://static001.geekbang.org/account/avatar/00/27/fb/f7/88ab6f83.jpg","comment_is_top":false,"comment_ctime":1661756339,"is_pvip":true,"replies":[{"id":"129523","content":"ç›®å½•æ­£ç¡®å—ï¼Ÿä»€ä¹ˆå¹³å°ï¼Ÿï¼ˆWindowsä¸‹é»˜è®¤ä¼¼ä¹æ˜¯ç”¨findã€‚ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1645639","ctime":1661835239,"ip_address":"ä¸Šæµ·","comment_id":355796,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1661756339","product_id":100055801,"comment_content":"å´è€å¸ˆï¼Œæ‚¨å¥½ï¼è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨é‡æ„è¿‡ç¨‹æ“ä½œä¸­ï¼Œæˆ‘åœ¨ vim ä¸­ä½¿ç”¨ <br>:grep -R --include=&quot;*.cpp&quot; --include=&quot;*.h&quot; &quot;\\&lt;smart_ptr\\&gt;&quot; . è¿›è¡ŒæŸ¥æ‰¾ï¼Œç„¶è€Œä»€ä¹ˆéƒ½æŸ¥æ‰¾ä¸åˆ°ã€‚åœ¨ Quickfix çš„çª—å£ä¸­ä»€ä¹ˆä¹Ÿæ²¡æœ‰æ˜¾ç¤ºã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘åœ¨ç½‘ä¸Šæœç´¢ï¼Œå¾ˆå¤šäººéƒ½æ˜¯è¯´é€šè¿‡ :copen æ‰“å¼€ Quickfix åå°±å¯ä»¥çœ‹åˆ°æŸ¥è¯¢ç»“æœï¼Œç„¶è€Œæˆ‘è¿™è¾¹æŸ¥è¯¢å´ä»€ä¹ˆä¹ŸæŸ¥è¯¢ä¸åˆ°","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585807,"discussion_content":"ç›®å½•æ­£ç¡®å—ï¼Ÿä»€ä¹ˆå¹³å°ï¼Ÿï¼ˆWindowsä¸‹é»˜è®¤ä¼¼ä¹æ˜¯ç”¨findã€‚ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661835240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2620407,"avatar":"https://static001.geekbang.org/account/avatar/00/27/fb/f7/88ab6f83.jpg","nickname":"è¿›å‡»çš„Lancelot","note":"","ucode":"3BCC355801DC61","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585791,"discussion_content":"æˆ‘å·²ç»æ‰¾åˆ°äº†åŸå› ï¼ŒåŸå› éå¸¸æ„šè ¢ï¼Œå› ä¸ºæˆ‘çš„å‘½ä»¤å°‘æ‰“äº†åé¢çš„é‚£ä¸ª . æ„Ÿè§‰è¦ç»ƒä¹ å°±ä¸èƒ½å…‰å¤åˆ¶ï¼Œç»“æœæ‰‹æ‰“çš„è¿‡ç¨‹ä¸­æ•²æ¼äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661828155,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":250989,"user_name":"leaf","can_delete":false,"product_type":"c1","uid":1060139,"ip_address":"","ucode":"B2CFF00AFA7494","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKdzXiawss5gGiax48CJGAJpha4pJksPia7J7HsiatYwjBA9w1bkrDicXfQz1SthaG3w1KJ2ibOxpia5wfbQ/132","comment_is_top":false,"comment_ctime":1601299469,"is_pvip":false,"replies":[{"id":"91851","content":"è¿™å¥½åƒåº”è¯¥ç®—æ˜¯ C++ é‚£è¾¹çš„é—®é¢˜ï¼Ÿ;-)<br><br>è¿™ä¸ªé—®é¢˜å¹³å°ç›¸å…³ã€‚å¦‚æœä½ ç”¨ Ubuntu çš„è¯ï¼Œä¸»è¦éœ€è¦çš„æ˜¯ï¼š<br><br>libarmadillo-dev<br>libboost-all-dev<br>libicu-dev<br>ibspdlog-dev<br>libssl-dev<br>libtbb-dev<br><br>ä¸ä¸€å®šå…¨ã€‚å¦å¤–ï¼Œcpprestsdk éœ€è¦è‡ªå·±æ„å»ºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":"1645639","ctime":1601392916,"ip_address":"","comment_id":250989,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1601299469","product_id":100055801,"comment_content":"cmakeæŠ¥é”™, å¥½åƒç³»ç»Ÿç¼ºå¾ˆå¤šåº“, è€å¸ˆèƒ½åˆ—ä¸€ä¸‹ä¾èµ–åº“å—?<br> cmake ..<br>-- Could NOT find Armadillo (missing: Armadillo_DIR)<br>-- Found the following ICU libraries:<br>--   uc (required)<br>--   io (required)<br>-- Could NOT find Armadillo (missing: Armadillo_DIR)<br>","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506356,"discussion_content":"è¿™å¥½åƒåº”è¯¥ç®—æ˜¯ C++ é‚£è¾¹çš„é—®é¢˜ï¼Ÿ;-)\n\nè¿™ä¸ªé—®é¢˜å¹³å°ç›¸å…³ã€‚å¦‚æœä½ ç”¨ Ubuntu çš„è¯ï¼Œä¸»è¦éœ€è¦çš„æ˜¯ï¼š\n\nlibarmadillo-dev\nlibboost-all-dev\nlibicu-dev\nibspdlog-dev\nlibssl-dev\nlibtbb-dev\n\nä¸ä¸€å®šå…¨ã€‚å¦å¤–ï¼Œcpprestsdk éœ€è¦è‡ªå·±æ„å»ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601392916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":246525,"user_name":"ç€šæµ·æ˜Ÿå°˜","can_delete":false,"product_type":"c1","uid":1024461,"ip_address":"","ucode":"90F418299EA3BF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a1/cd/2c513481.jpg","comment_is_top":false,"comment_ctime":1599391157,"is_pvip":false,"replies":[{"id":"90610","content":"å¯¹ï¼Œä¸å¤æ‚ï¼Œåšä¸€éå°±æ¸…æ¥šäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":"1645639","ctime":1599437379,"ip_address":"","comment_id":246525,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1599391157","product_id":100055801,"comment_content":"æ•²äº†å‡ ä¸ªå°æ—¶ï¼Œç»ˆäºæ•²å®Œäº†ã€‚çœ‹åˆ° c++ æœ¬æ¥æƒ³é€ƒè¿‡çš„ï¼Œçœ‹åˆ°åé¢æœ‰è¾“å‡ºï¼Œäºæ˜¯è€è€å®å®é…äº†ç¯å¢ƒï¼Œç¼–è¯‘æ‰§è¡Œï¼Œåšèµ·æ¥å‘ç°å…¶å®ä¹Ÿéå¸¸ç®€å•ã€‚ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505172,"discussion_content":"å¯¹ï¼Œä¸å¤æ‚ï¼Œåšä¸€éå°±æ¸…æ¥šäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599437379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":244990,"user_name":"doge","can_delete":false,"product_type":"c1","uid":1593251,"ip_address":"","ucode":"9E2D4C8F9B4CBC","user_header":"https://static001.geekbang.org/account/avatar/00/18/4f/a3/0e56b4e5.jpg","comment_is_top":false,"comment_ctime":1598774967,"is_pvip":false,"replies":[{"id":"90195","content":"å¯¹çš„ï¼Œä¸€å®šè¦å¤šç»ƒä¹ ã€‚<br><br>æˆ‘çš„&lt;F5&gt;ä¼šéœ€è¦ä½¿ç”¨ç¬¬8è®²é‡Œè®²åˆ°çš„vimrcé…ç½®ï¼Œä½ æ˜¯ä¸æ˜¯ç¼ºäº†é‚£éƒ¨åˆ†ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":"1645639","ctime":1598887367,"ip_address":"","comment_id":244990,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1598774967","product_id":100055801,"comment_content":"å‘½ä»¤å¤šæ•²æ‰æ˜¯ç‹é“äº†ï¼Œåå¤æ•²äº†ä¸€ä¸‹åˆï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ¸æ¸èƒ½çœ‹æ‡‚äº†ã€‚<br>å¦å¤–å°±æ˜¯ä¹‹å‰æŒ‰ç…§è€å¸ˆè¯´çš„é…ç½®çš„F5å¥½åƒå¯¹cmakeå’Œmakeéƒ½æ²¡æœ‰æ”¯æŒï¼Œåªèƒ½ç”¨AsyncRun makeåœ¨buildç›®å½•ä¸‹æ‰§è¡Œæ‰èƒ½å®æ–½ç¼–è¯‘ã€‚<br>å®å½•åˆ¶ç¡®å®æœ‰æ„æ€ï¼Œæƒ³èµ·ä»¥å‰è¯¥è°ƒè¯•ä¿¡æ¯è¾“å…¥ç¡®å®è´¹æ—¶é—´å•Šã€‚ã€‚","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504760,"discussion_content":"å¯¹çš„ï¼Œä¸€å®šè¦å¤šç»ƒä¹ ã€‚\n\næˆ‘çš„&amp;lt;F5&amp;gt;ä¼šéœ€è¦ä½¿ç”¨ç¬¬8è®²é‡Œè®²åˆ°çš„vimrcé…ç½®ï¼Œä½ æ˜¯ä¸æ˜¯ç¼ºäº†é‚£éƒ¨åˆ†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598887367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241646,"user_name":"YouCompleteMe","can_delete":false,"product_type":"c1","uid":1232859,"ip_address":"","ucode":"89B5A75DA85E0A","user_header":"https://static001.geekbang.org/account/avatar/00/12/cf/db/9693d08f.jpg","comment_is_top":false,"comment_ctime":1597377997,"is_pvip":false,"replies":[{"id":"89287","content":"æˆ‘åœ¨ Linux å’Œ Mac ä¸Šéƒ½æµ‹äº†ä¸€ä¸‹ï¼Œç¡®å®æ‰“å¼€æ–‡ä»¶åï¼Œ:ls å°±åªçœ‹åˆ°é‚£ä¸€ä¸ªç¼“å†²åŒºã€‚<br><br>ä½  :ls çœ‹åˆ°çš„å¦å¤–ä¸¤ä¸ªæ˜¯å•¥ï¼ŸVim ç‰ˆæœ¬å¤šå°‘ï¼Œæœ‰æ²¡æœ‰å¯èƒ½æ˜¯æŸä¸ªæ’ä»¶æçš„é¬¼ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å´å’ç‚œ","uid":"1645639","ctime":1597497461,"ip_address":"","comment_id":241646,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1597377997","product_id":100055801,"comment_content":"è€å¸ˆï¼Œæ€ä¹ˆå¯åŠ¨vimçš„ï¼Œæˆ‘:Filesåˆ°smart_ptrã€‚buffer numberæ˜¯3","like_count":0,"discussions":[{"author":{"id":1645639,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/47/53c48284.jpg","nickname":"å´å’ç‚œ","note":"","ucode":"8C24C10AEC779F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503801,"discussion_content":"æˆ‘åœ¨ Linux å’Œ Mac ä¸Šéƒ½æµ‹äº†ä¸€ä¸‹ï¼Œç¡®å®æ‰“å¼€æ–‡ä»¶åï¼Œ:ls å°±åªçœ‹åˆ°é‚£ä¸€ä¸ªç¼“å†²åŒºã€‚\n\nä½  :ls çœ‹åˆ°çš„å¦å¤–ä¸¤ä¸ªæ˜¯å•¥ï¼ŸVim ç‰ˆæœ¬å¤šå°‘ï¼Œæœ‰æ²¡æœ‰å¯èƒ½æ˜¯æŸä¸ªæ’ä»¶æçš„é¬¼ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597497461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1205253,"avatar":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","nickname":"æˆ‘æ¥ä¹Ÿ","note":"","ucode":"773D6104F56767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298720,"discussion_content":"å¯ä»¥ç”¨vim-airlineæ’ä»¶çš„è¿™ä¸ªé…ç½®æ¥ç›´è§‚çš„æ˜¾ç¤ºbuffer number.\nlet g:airline#extensions#tabline#buffer_nr_show = 1\n\nå¦‚æœé‡åˆ°å‰é¢çš„buffer numberä¸çŸ¥é“è¢«è°å ç”¨äº†,å¯ä»¥ç”¨b idåˆ‡æ¢è¿‡å»çœ‹çœ‹,æ˜¯å•¥å†…å®¹.\nå†ä¸è¡Œå°±æ˜¯äºŒåˆ†æŸ¥æ‰¾,å±è”½.vimrcé…ç½®æ–‡ä»¶,çœ‹ç©¶ç«Ÿæ˜¯å“ªä¸€è¡Œå¯¼è‡´çš„äº†.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597387812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1232859,"avatar":"https://static001.geekbang.org/account/avatar/00/12/cf/db/9693d08f.jpg","nickname":"YouCompleteMe","note":"","ucode":"89B5A75DA85E0A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298703,"discussion_content":"æŠŠvim-startifyç§»èµ°å°±å¥½äº†ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597381097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
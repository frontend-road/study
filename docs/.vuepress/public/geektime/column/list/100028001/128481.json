{"id":128481,"title":"43 | å¦‚ä½•ä½¿ç”¨ç¼“å­˜ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯åˆ˜è¶…ã€‚</p><p>ç¼“å­˜æ˜¯æˆ‘ä»¬æé«˜ç³»ç»Ÿæ€§èƒ½çš„ä¸€é¡¹å¿…ä¸å¯å°‘çš„æŠ€æœ¯ï¼Œæ— è®ºæ˜¯å‰ç«¯ã€è¿˜æ˜¯åç«¯ï¼Œéƒ½åº”ç”¨åˆ°äº†ç¼“å­˜æŠ€æœ¯ã€‚å‰ç«¯ä½¿ç”¨ç¼“å­˜ï¼Œå¯ä»¥é™ä½å¤šæ¬¡è¯·æ±‚æœåŠ¡çš„å‹åŠ›ï¼›åç«¯ä½¿ç”¨ç¼“å­˜ï¼Œå¯ä»¥é™ä½æ•°æ®åº“æ“ä½œçš„å‹åŠ›ï¼Œæå‡è¯»å–æ•°æ®çš„æ€§èƒ½ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬å°†ä»å‰ç«¯åˆ°æœåŠ¡ç«¯ï¼Œç³»ç»Ÿäº†è§£ä¸‹å„ä¸ªå±‚çº§çš„ç¼“å­˜å®ç°ï¼Œå¹¶åˆ†åˆ«äº†è§£ä¸‹å„ç±»ç¼“å­˜çš„ä¼˜ç¼ºç‚¹ä»¥åŠåº”ç”¨åœºæ™¯ã€‚</p><h2>å‰ç«¯ç¼“å­˜æŠ€æœ¯</h2><p>å¦‚æœä½ æ˜¯ä¸€ä½Javaå¼€å‘å·¥ç¨‹å¸ˆï¼Œä½ å¯èƒ½ä¼šæƒ³ï¼Œæˆ‘ä»¬æœ‰å¿…è¦å»äº†è§£å‰ç«¯çš„æŠ€æœ¯å—ï¼Ÿ</p><p>ä¸æƒ³å½“å°†å†›çš„å£«å…µä¸æ˜¯å¥½å£«å…µï¼Œä½œä¸ºä¸€ä¸ªæŠ€æœ¯äººå‘˜ï¼Œä¸æƒ³åšæ¶æ„å¸ˆçš„å¼€å‘ä¸æ˜¯å¥½å¼€å‘ã€‚ä½œä¸ºæ¶æ„å·¥ç¨‹å¸ˆçš„è¯ï¼Œæˆ‘ä»¬å°±å¾ˆæœ‰å¿…è¦å»äº†è§£å‰ç«¯çš„çŸ¥è¯†ç‚¹äº†ï¼Œè¿™æ ·æœ‰åŠ©äºæˆ‘ä»¬è®¾è®¡å’Œä¼˜åŒ–ç³»ç»Ÿã€‚å‰ç«¯åšç¼“å­˜ï¼Œå¯ä»¥ç¼“è§£æœåŠ¡ç«¯çš„å‹åŠ›ï¼Œå‡å°‘å¸¦å®½çš„å ç”¨ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æå‡å‰ç«¯çš„æŸ¥è¯¢æ€§èƒ½ã€‚</p><h3>1. æœ¬åœ°ç¼“å­˜</h3><p>å¹³æ—¶ä½¿ç”¨æ‹¦æˆªå™¨ï¼ˆä¾‹å¦‚Fiddlerï¼‰æˆ–æµè§ˆå™¨Debugæ—¶ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå‘ç°ä¸€äº›æ¥å£è¿”å›304çŠ¶æ€ç + Not Modifiedå­—ç¬¦ä¸²ï¼Œå¦‚ä¸‹å›¾ä¸­çš„æå®¢æ—¶é—´Webé¦–é¡µã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/5a/7b/5ae757f7c5b12901d4422b5722c0647b.png?wh=1093*356\" alt=\"\"></p><p>å¦‚æœæˆ‘ä»¬å¯¹å‰ç«¯ç¼“å­˜æŠ€æœ¯ä¸äº†è§£ï¼Œå°±å¾ˆå®¹æ˜“å¯¹æ­¤æ„Ÿåˆ°å›°æƒ‘ã€‚æµè§ˆå™¨å¸¸ç”¨çš„ä¸€ç§ç¼“å­˜å°±æ˜¯è¿™ç§åŸºäº304å“åº”çŠ¶æ€å®ç°çš„æœ¬åœ°ç¼“å­˜äº†ï¼Œé€šå¸¸è¿™ç§ç¼“å­˜è¢«ç§°ä¸ºåå•†ç¼“å­˜ã€‚</p><p><span class=\"orange\">åå•†ç¼“å­˜ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ä¸æœåŠ¡ç«¯åå•†ä¹‹åï¼Œé€šè¿‡åå•†ç»“æœæ¥åˆ¤æ–­æ˜¯å¦ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚</span></p><!-- [[[read_end]]] --><p>ä¸€èˆ¬åå•†ç¼“å­˜å¯ä»¥åŸºäºè¯·æ±‚å¤´éƒ¨ä¸­çš„If-Modified-Sinceå­—æ®µä¸è¿”å›å¤´éƒ¨ä¸­çš„Last-Modifiedå­—æ®µå®ç°ï¼Œä¹Ÿå¯ä»¥åŸºäºè¯·æ±‚å¤´éƒ¨ä¸­çš„If-None-Matchå­—æ®µä¸è¿”å›å¤´éƒ¨ä¸­çš„ETagå­—æ®µæ¥å®ç°ã€‚</p><p>ä¸¤ç§æ–¹å¼çš„å®ç°åŸç†æ˜¯ä¸€æ ·çš„ï¼Œå‰è€…æ˜¯åŸºäºæ—¶é—´å®ç°çš„ï¼Œåè€…æ˜¯åŸºäºä¸€ä¸ªå”¯ä¸€æ ‡è¯†å®ç°çš„ï¼Œç›¸å¯¹æ¥è¯´åè€…å¯ä»¥æ›´åŠ å‡†ç¡®åœ°åˆ¤æ–­æ–‡ä»¶å†…å®¹æ˜¯å¦è¢«ä¿®æ”¹ï¼Œé¿å…ç”±äºæ—¶é—´ç¯¡æ”¹å¯¼è‡´çš„ä¸å¯é é—®é¢˜ã€‚ä¸‹é¢æˆ‘ä»¬å†æ¥äº†è§£ä¸‹æ•´ä¸ªç¼“å­˜çš„å®ç°æµç¨‹ï¼š</p><ul>\n<li>å½“æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚è®¿é—®æœåŠ¡å™¨èµ„æºæ—¶ï¼ŒæœåŠ¡å™¨ä¼šåœ¨è¿”å›è¿™ä¸ªèµ„æºçš„åŒæ—¶ï¼Œåœ¨Responseå¤´éƒ¨åŠ ä¸ŠETagå”¯ä¸€æ ‡è¯†ï¼Œè¿™ä¸ªå”¯ä¸€æ ‡è¯†çš„å€¼æ˜¯æ ¹æ®å½“å‰è¯·æ±‚çš„èµ„æºç”Ÿæˆçš„ï¼›</li>\n<li>å½“æµè§ˆå™¨å†æ¬¡è¯·æ±‚è®¿é—®æœåŠ¡å™¨ä¸­çš„è¯¥èµ„æºæ—¶ï¼Œä¼šåœ¨Requestå¤´éƒ¨åŠ ä¸ŠIf-None-Matchå­—æ®µï¼Œè¯¥å­—æ®µçš„å€¼å°±æ˜¯Responseå¤´éƒ¨åŠ ä¸ŠETagå”¯ä¸€æ ‡è¯†ï¼›</li>\n<li>æœåŠ¡å™¨å†æ¬¡æ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ ¹æ®è¯·æ±‚ä¸­çš„If-None-Matchå€¼ä¸å½“å‰è¯·æ±‚çš„èµ„æºç”Ÿæˆçš„å”¯ä¸€æ ‡è¯†è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå€¼ç›¸ç­‰ï¼Œåˆ™è¿”å›304 Not Modifiedï¼Œå¦‚æœä¸ç›¸ç­‰ï¼Œåˆ™åœ¨Responseå¤´éƒ¨åŠ ä¸Šæ–°çš„ETagå”¯ä¸€æ ‡è¯†ï¼Œå¹¶è¿”å›èµ„æºï¼›</li>\n<li>å¦‚æœæµè§ˆå™¨æ”¶åˆ°304çš„è¯·æ±‚å“åº”çŠ¶æ€ç ï¼Œåˆ™ä¼šä»æœ¬åœ°ç¼“å­˜ä¸­åŠ è½½èµ„æºï¼Œå¦åˆ™æ›´æ–°èµ„æºã€‚</li>\n</ul><p>æœ¬åœ°ç¼“å­˜ä¸­é™¤äº†è¿™ç§åå•†ç¼“å­˜ï¼Œè¿˜æœ‰ä¸€ç§å°±æ˜¯å¼ºç¼“å­˜çš„å®ç°ã€‚</p><p><span class=\"orange\">å¼ºç¼“å­˜æŒ‡çš„æ˜¯åªè¦åˆ¤æ–­ç¼“å­˜æ²¡æœ‰è¿‡æœŸï¼Œåˆ™ç›´æ¥ä½¿ç”¨æµè§ˆå™¨çš„æœ¬åœ°ç¼“å­˜ã€‚</span>å¦‚ä¸‹å›¾ä¸­ï¼Œè¿”å›çš„æ˜¯200çŠ¶æ€ç ï¼Œä½†åœ¨sizeé¡¹ä¸­æ ‡è¯†çš„æ˜¯memory cacheã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/0a/48/0a169df1141f31326b4b6ab331ab3748.png?wh=1096*430\" alt=\"\"></p><p>å¼ºç¼“å­˜æ˜¯åˆ©ç”¨Expiresæˆ–è€…Cache-Controlè¿™ä¸¤ä¸ªHTTP  Response Headerå®ç°çš„ï¼Œå®ƒä»¬éƒ½ç”¨æ¥è¡¨ç¤ºèµ„æºåœ¨å®¢æˆ·ç«¯ç¼“å­˜çš„æœ‰æ•ˆæœŸã€‚</p><p>Expiresæ˜¯ä¸€ä¸ªç»å¯¹æ—¶é—´ï¼Œè€ŒCache-Controlæ˜¯ä¸€ä¸ªç›¸å¯¹æ—¶é—´ï¼Œå³ä¸€ä¸ªè¿‡æœŸæ—¶é—´å¤§å°ï¼Œä¸åå•†ç¼“å­˜ä¸€æ ·ï¼ŒåŸºäºExpireså®ç°çš„å¼ºç¼“å­˜ä¹Ÿä¼šå› ä¸ºæ—¶é—´é—®é¢˜å¯¼è‡´ç¼“å­˜ç®¡ç†å‡ºç°é—®é¢˜ã€‚æˆ‘å»ºè®®ä½¿ç”¨Cache-Controlæ¥å®ç°å¼ºç¼“å­˜ã€‚å…·ä½“çš„å®ç°æµç¨‹å¦‚ä¸‹ï¼š</p><ul>\n<li>å½“æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚è®¿é—®æœåŠ¡å™¨èµ„æºæ—¶ï¼ŒæœåŠ¡å™¨ä¼šåœ¨è¿”å›è¿™ä¸ªèµ„æºçš„åŒæ—¶ï¼Œåœ¨Responseå¤´éƒ¨åŠ ä¸ŠCache-Controlï¼ŒCache-Controlä¸­è®¾ç½®äº†è¿‡æœŸæ—¶é—´å¤§å°ï¼›</li>\n<li>æµè§ˆå™¨å†æ¬¡è¯·æ±‚è®¿é—®æœåŠ¡å™¨ä¸­çš„è¯¥èµ„æºæ—¶ï¼Œä¼šå…ˆé€šè¿‡è¯·æ±‚èµ„æºçš„æ—¶é—´ä¸Cache-Controlä¸­è®¾ç½®çš„è¿‡æœŸæ—¶é—´å¤§å°ï¼Œæ¥è®¡ç®—å‡ºè¯¥èµ„æºæ˜¯å¦è¿‡æœŸï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä½¿ç”¨è¯¥ç¼“å­˜ï¼Œå¦åˆ™è¯·æ±‚æœåŠ¡å™¨ï¼›</li>\n<li>æœåŠ¡å™¨å†æ¬¡æ”¶åˆ°è¯·æ±‚åï¼Œä¼šå†æ¬¡æ›´æ–°Responseå¤´éƒ¨çš„Cache-Controlã€‚</li>\n</ul><h3>2. ç½‘å…³ç¼“å­˜</h3><p>é™¤äº†ä»¥ä¸Šæœ¬åœ°ç¼“å­˜ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨ç½‘å…³ä¸­è®¾ç½®ç¼“å­˜ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„CDNã€‚</p><p>CDNç¼“å­˜æ˜¯é€šè¿‡ä¸åŒåœ°ç‚¹çš„ç¼“å­˜èŠ‚ç‚¹ç¼“å­˜èµ„æºå‰¯æœ¬ï¼Œå½“ç”¨æˆ·è®¿é—®ç›¸åº”çš„èµ„æºæ—¶ï¼Œä¼šè°ƒç”¨æœ€è¿‘çš„CDNèŠ‚ç‚¹è¿”å›è¯·æ±‚èµ„æºï¼Œè¿™ç§æ–¹å¼å¸¸ç”¨äºè§†é¢‘èµ„æºçš„ç¼“å­˜ã€‚</p><h2>æœåŠ¡å±‚ç¼“å­˜æŠ€æœ¯</h2><p>å‰ç«¯ç¼“å­˜ä¸€èˆ¬ç”¨äºç¼“å­˜ä¸€äº›ä¸å¸¸ä¿®æ”¹çš„å¸¸é‡æ•°æ®æˆ–ä¸€äº›èµ„æºæ–‡ä»¶ï¼Œå¤§éƒ¨åˆ†æ¥å£è¯·æ±‚çš„æ•°æ®éƒ½ç¼“å­˜åœ¨äº†æœåŠ¡ç«¯ï¼Œæ–¹ä¾¿ç»Ÿä¸€ç®¡ç†ç¼“å­˜æ•°æ®ã€‚</p><p>æœåŠ¡ç«¯ç¼“å­˜çš„åˆè¡·æ˜¯ä¸ºäº†æå‡ç³»ç»Ÿæ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œæ•°æ®åº“ç”±äºå¹¶å‘æŸ¥è¯¢å‹åŠ›è¿‡å¤§ï¼Œå¯ä»¥ä½¿ç”¨ç¼“å­˜å‡è½»æ•°æ®åº“å‹åŠ›ï¼›åœ¨åå°ç®¡ç†ä¸­çš„ä¸€äº›æŠ¥è¡¨è®¡ç®—ç±»æ•°æ®ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦å¤§é‡è®¡ç®—ï¼Œæ¶ˆè€—ç³»ç»ŸCPUèµ„æºï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¼“å­˜æ¥ä¿å­˜è®¡ç®—ç»“æœã€‚</p><p>æœåŠ¡ç«¯çš„ç¼“å­˜ä¹Ÿåˆ†ä¸ºè¿›ç¨‹ç¼“å­˜å’Œåˆ†å¸ƒå¼ç¼“å­˜ï¼Œåœ¨Javaä¸­è¿›ç¨‹ç¼“å­˜å°±æ˜¯JVMå®ç°çš„ç¼“å­˜ï¼Œå¸¸è§çš„æœ‰æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„å®¹å™¨ç±»ï¼ŒArrayListã€ConcurrentHashMapç­‰ï¼Œåˆ†å¸ƒå¼ç¼“å­˜åˆ™æ˜¯åŸºäºRediså®ç°çš„ç¼“å­˜ã€‚</p><h3>1. è¿›ç¨‹ç¼“å­˜</h3><p>å¯¹äºè¿›ç¨‹ç¼“å­˜ï¼Œè™½ç„¶æ•°æ®çš„å­˜å–ä¼šæ›´åŠ é«˜æ•ˆï¼Œä½†JVMçš„å †å†…å­˜æ•°é‡æ˜¯æœ‰é™çš„ï¼Œä¸”åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹å¾ˆéš¾åŒæ­¥å„ä¸ªæœåŠ¡é—´çš„ç¼“å­˜æ›´æ–°ï¼Œæ‰€ä»¥<span class=\"orange\">æˆ‘ä»¬ä¸€èˆ¬ç¼“å­˜ä¸€äº›æ•°æ®é‡ä¸å¤§ã€æ›´æ–°é¢‘ç‡è¾ƒä½çš„æ•°æ®ã€‚</span>å¸¸è§çš„å®ç°æ–¹å¼å¦‚ä¸‹ï¼š</p><pre><code>//é™æ€å¸¸é‡\npublic final staticS String url = &quot;https://time.geekbang.org&quot;;\n//listå®¹å™¨\npublic static List&lt;String&gt; cacheList = new Vector&lt;String&gt;();\n //mapå®¹å™¨   \nprivate static final Map&lt;String, Object&gt; cacheMap= new ConcurrentHashMap&lt;String, Object&gt;();\n</code></pre><p>é™¤äº†Javaè‡ªå¸¦çš„å®¹å™¨å¯ä»¥å®ç°è¿›ç¨‹ç¼“å­˜ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åŸºäºGoogleå®ç°çš„ä¸€å¥—å†…å­˜ç¼“å­˜ç»„ä»¶Guava Cacheæ¥å®ç°ã€‚</p><p>Guava Cacheé€‚ç”¨äºé«˜å¹¶å‘çš„å¤šçº¿ç¨‹ç¼“å­˜ï¼Œå®ƒå’ŒConcurrentHashMapä¸€æ ·ï¼Œéƒ½æ˜¯åŸºäºåˆ†æ®µé”å®ç°çš„å¹¶å‘ç¼“å­˜ã€‚</p><p>Guava CacheåŒæ—¶ä¹Ÿå®ç°äº†æ•°æ®æ·˜æ±°æœºåˆ¶ï¼Œå½“æˆ‘ä»¬è®¾ç½®äº†ç¼“å­˜çš„æœ€å¤§å€¼åï¼Œå½“å­˜å‚¨çš„æ•°æ®è¶…è¿‡äº†æœ€å¤§å€¼æ—¶ï¼Œå®ƒå°±ä¼šä½¿ç”¨LRUç®—æ³•æ·˜æ±°æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç äº†è§£ä¸‹Guava Cacheçš„å®ç°ï¼š</p><pre><code>public class GuavaCacheDemo {\n    public static void main(String[] args) {\n        Cache&lt;String,String&gt; cache = CacheBuilder.newBuilder()\n                .maximumSize(2)\n                .build();\n        cache.put(&quot;key1&quot;,&quot;value1&quot;);\n        cache.put(&quot;key2&quot;,&quot;value2&quot;);\n        cache.put(&quot;key3&quot;,&quot;value3&quot;);\n        System.out.println(&quot;ç¬¬ä¸€ä¸ªå€¼ï¼š&quot; + cache.getIfPresent(&quot;key1&quot;));\n        System.out.println(&quot;ç¬¬äºŒä¸ªå€¼ï¼š&quot; + cache.getIfPresent(&quot;key2&quot;));\n        System.out.println(&quot;ç¬¬ä¸‰ä¸ªå€¼ï¼š&quot; + cache.getIfPresent(&quot;key3&quot;));\n    }\n}\n</code></pre><p>è¿è¡Œç»“æœï¼š</p><pre><code>ç¬¬ä¸€ä¸ªå€¼ï¼šnull\nç¬¬äºŒä¸ªå€¼ï¼švalue2\nç¬¬ä¸‰ä¸ªå€¼ï¼švalue3\n</code></pre><p>é‚£å¦‚æœæˆ‘ä»¬çš„æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œä¸”æ•°æ®æ›´æ–°é¢‘ç¹ï¼Œåˆæ˜¯åœ¨åˆ†å¸ƒå¼éƒ¨ç½²çš„æƒ…å†µä¸‹ï¼Œæƒ³è¦ä½¿ç”¨JVMå †å†…å­˜ä½œä¸ºç¼“å­˜ï¼Œè¿™æ—¶æˆ‘ä»¬åˆè¯¥å¦‚ä½•å»å®ç°å‘¢ï¼Ÿ</p><p>Ehcacheæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼ŒEhcacheç»å¸¸åœ¨Hibernateä¸­å‡ºç°ï¼Œä¸»è¦ç”¨æ¥ç¼“å­˜æŸ¥è¯¢æ•°æ®ç»“æœã€‚Ehcacheæ˜¯Apacheå¼€æºçš„ä¸€å¥—ç¼“å­˜ç®¡ç†ç±»åº“ï¼Œæ˜¯åŸºäºJVMå †å†…å­˜å®ç°çš„ç¼“å­˜ï¼ŒåŒæ—¶å…·å¤‡å¤šç§ç¼“å­˜å¤±æ•ˆç­–ç•¥ï¼Œæ”¯æŒç£ç›˜æŒä¹…åŒ–ä»¥åŠåˆ†å¸ƒå¼ç¼“å­˜æœºåˆ¶ã€‚</p><h3>2. åˆ†å¸ƒå¼ç¼“å­˜</h3><p>ç”±äºé«˜å¹¶å‘å¯¹æ•°æ®ä¸€è‡´æ€§çš„è¦æ±‚æ¯”è¾ƒä¸¥æ ¼ï¼Œæˆ‘ä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨Ehcacheç¼“å­˜æœ‰ä¸€è‡´æ€§è¦æ±‚çš„æ•°æ®ã€‚å¯¹äºåˆ†å¸ƒå¼ç¼“å­˜ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨Redisæ¥å®ç°ï¼ŒRedisç›¸å½“äºä¸€ä¸ªå†…å­˜æ•°æ®åº“ï¼Œç”±äºæ˜¯çº¯å†…å­˜æ“ä½œï¼Œåˆæ˜¯åŸºäºå•çº¿ç¨‹ä¸²è¡Œå®ç°ï¼ŒæŸ¥è¯¢æ€§èƒ½æé«˜ï¼Œè¯»é€Ÿåº¦è¶…è¿‡äº†10Wæ¬¡/ç§’ã€‚</p><p>Redisé™¤äº†é«˜æ€§èƒ½çš„ç‰¹ç‚¹ä¹‹å¤–ï¼Œè¿˜æ”¯æŒä¸åŒç±»å‹çš„æ•°æ®ç»“æ„ï¼Œå¸¸è§çš„æœ‰stringã€listã€setã€hashç­‰ï¼Œè¿˜æ”¯æŒæ•°æ®æ·˜æ±°ç­–ç•¥ã€æ•°æ®æŒä¹…åŒ–ä»¥åŠäº‹åŠ¡ç­‰ã€‚</p><p>ä¸¤ç§ç¼“å­˜è®²å®Œäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹å…¶ä¸­å¯èƒ½å‡ºç°çš„é—®é¢˜ã€‚</p><h3>æ•°æ®åº“ä¸ç¼“å­˜æ•°æ®ä¸€è‡´æ€§é—®é¢˜</h3><p>åœ¨æŸ¥è¯¢ç¼“å­˜æ•°æ®æ—¶ï¼Œæˆ‘ä»¬ä¼šå…ˆè¯»å–ç¼“å­˜ï¼Œå¦‚æœç¼“å­˜ä¸­æ²¡æœ‰è¯¥æ•°æ®ï¼Œåˆ™ä¼šå»æ•°æ®åº“ä¸­æŸ¥è¯¢ï¼Œä¹‹åå†æ”¾å…¥åˆ°ç¼“å­˜ä¸­ã€‚</p><p>å½“æˆ‘ä»¬çš„æ•°æ®è¢«ç¼“å­˜ä¹‹åï¼Œä¸€æ—¦æ•°æ®è¢«ä¿®æ”¹ï¼ˆä¿®æ”¹æ—¶ä¹Ÿæ˜¯åˆ é™¤ç¼“å­˜ä¸­çš„æ•°æ®ï¼‰æˆ–åˆ é™¤ï¼Œæˆ‘ä»¬å°±éœ€è¦åŒæ—¶æ“ä½œç¼“å­˜å’Œæ•°æ®åº“ã€‚è¿™æ—¶ï¼Œå°±ä¼šå­˜åœ¨ä¸€ä¸ªæ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨å¹¶å‘æƒ…å†µä¸‹ï¼Œå½“Aæ“ä½œä½¿å¾—æ•°æ®å‘ç”Ÿåˆ é™¤å˜æ›´ï¼Œé‚£ä¹ˆè¯¥æ“ä½œä¼šå…ˆåˆ é™¤ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œä¹‹åå†å»åˆ é™¤æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œæ­¤æ—¶è‹¥æ˜¯è¿˜æ²¡æœ‰åˆ é™¤æˆåŠŸï¼Œå¦å¤–ä¸€ä¸ªè¯·æ±‚æŸ¥è¯¢æ“ä½œBè¿›æ¥äº†ï¼Œå‘ç°ç¼“å­˜ä¸­å·²ç»æ²¡æœ‰äº†æ•°æ®ï¼Œåˆ™ä¼šå»æ•°æ®åº“ä¸­æŸ¥è¯¢ï¼Œæ­¤æ—¶å‘ç°æœ‰æ•°æ®ï¼ŒBæ“ä½œè·å–ä¹‹ååˆå°†æ•°æ®å­˜æ”¾åœ¨äº†ç¼“å­˜ä¸­ï¼Œéšåæ•°æ®åº“çš„æ•°æ®åˆè¢«åˆ é™¤äº†ã€‚æ­¤æ—¶å°±å‡ºç°äº†æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚</p><p>é‚£å¦‚æœå…ˆåˆ é™¤æ•°æ®åº“ï¼Œå†åˆ é™¤ç¼“å­˜å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥è¯•ä¸€è¯•ã€‚åœ¨å¹¶å‘æƒ…å†µä¸‹ï¼Œå½“Aæ“ä½œä½¿å¾—æ•°æ®å‘ç”Ÿåˆ é™¤å˜æ›´ï¼Œé‚£ä¹ˆè¯¥æ“ä½œä¼šå…ˆåˆ é™¤äº†æ•°æ®åº“çš„æ“ä½œï¼Œæ¥ä¸‹æ¥åˆ é™¤ç¼“å­˜ï¼Œå¤±è´¥äº†ï¼Œé‚£ä¹ˆç¼“å­˜ä¸­çš„æ•°æ®æ²¡æœ‰è¢«åˆ é™¤ï¼Œè€Œæ•°æ®åº“çš„æ•°æ®å·²ç»è¢«åˆ é™¤äº†ï¼ŒåŒæ ·ä¼šå­˜åœ¨æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦å…ˆåšç¼“å­˜åˆ é™¤æ“ä½œï¼Œå†å»å®Œæˆæ•°æ®åº“æ“ä½œã€‚é‚£æˆ‘ä»¬åˆè¯¥å¦‚ä½•é¿å…é«˜å¹¶å‘ä¸‹ï¼Œæ•°æ®æ›´æ–°åˆ é™¤æ“ä½œæ‰€å¸¦æ¥çš„æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜å‘¢ï¼Ÿ</p><p>é€šå¸¸çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹å®‰å…¨é˜Ÿåˆ—æ¥ç¼“å­˜æ›´æ–°æˆ–åˆ é™¤çš„æ•°æ®ï¼Œå½“Aæ“ä½œå˜æ›´æ•°æ®æ—¶ï¼Œä¼šå…ˆåˆ é™¤ä¸€ä¸ªç¼“å­˜æ•°æ®ï¼Œæ­¤æ—¶é€šè¿‡çº¿ç¨‹å®‰å…¨çš„æ–¹å¼å°†ç¼“å­˜æ•°æ®æ”¾å…¥åˆ°é˜Ÿåˆ—ä¸­ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œæ•°æ®åº“çš„æ•°æ®åˆ é™¤æ“ä½œã€‚</p><p>å½“æœ‰å¦ä¸€ä¸ªæŸ¥è¯¢è¯·æ±‚Bè¿›æ¥æ—¶ï¼Œå¦‚æœå‘ç°ç¼“å­˜ä¸­æ²¡æœ‰è¯¥å€¼ï¼Œåˆ™ä¼šå…ˆå»é˜Ÿåˆ—ä¸­æŸ¥çœ‹è¯¥æ•°æ®æ˜¯å¦æ­£åœ¨è¢«æ›´æ–°æˆ–åˆ é™¤ï¼Œå¦‚æœé˜Ÿåˆ—ä¸­æœ‰è¯¥æ•°æ®ï¼Œåˆ™é˜»å¡ç­‰å¾…ï¼Œç›´åˆ°Aæ“ä½œæ•°æ®åº“æˆåŠŸä¹‹åï¼Œå”¤é†’è¯¥é˜»å¡çº¿ç¨‹ï¼Œå†å»æ•°æ®åº“ä¸­æŸ¥è¯¢è¯¥æ•°æ®ã€‚</p><p>ä½†å…¶å®è¿™ç§å®ç°ä¹Ÿå­˜åœ¨å¾ˆå¤šç¼ºé™·ï¼Œä¾‹å¦‚ï¼Œå¯èƒ½å­˜åœ¨è¯»è¯·æ±‚è¢«é•¿æ—¶é—´é˜»å¡ï¼Œé«˜å¹¶å‘æ—¶ä½ååé‡ç­‰é—®é¢˜ã€‚æ‰€ä»¥<span class=\"orange\">æˆ‘ä»¬åœ¨è€ƒè™‘ç¼“å­˜æ—¶ï¼Œå¦‚æœæ•°æ®æ›´æ–°æ¯”è¾ƒé¢‘ç¹ä¸”å¯¹æ•°æ®æœ‰ä¸€å®šçš„ä¸€è‡´æ€§è¦æ±‚ï¼Œæˆ‘é€šå¸¸ä¸å»ºè®®ä½¿ç”¨ç¼“å­˜ã€‚</span></p><h3>ç¼“å­˜ç©¿é€ã€ç¼“å­˜å‡»ç©¿ã€ç¼“å­˜é›ªå´©</h3><p>å¯¹äºåˆ†å¸ƒå¼ç¼“å­˜å®ç°å¤§æ•°æ®çš„å­˜å‚¨ï¼Œé™¤äº†æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ä»¥å¤–ï¼Œè¿˜æœ‰ç¼“å­˜ç©¿é€ã€ç¼“å­˜å‡»ç©¿ã€ç¼“å­˜é›ªå´©ç­‰é—®é¢˜ï¼Œæˆ‘ä»¬å¹³æ—¶å®ç°ç¼“å­˜ä»£ç æ—¶ï¼Œåº”è¯¥å……åˆ†ã€å…¨é¢åœ°è€ƒè™‘è¿™äº›é—®é¢˜ã€‚</p><p>ç¼“å­˜ç©¿é€æ˜¯æŒ‡å¤§é‡æŸ¥è¯¢æ²¡æœ‰å‘½ä¸­ç¼“å­˜ï¼Œç›´æ¥å»åˆ°æ•°æ®åº“ä¸­æŸ¥è¯¢ï¼Œå¦‚æœæŸ¥è¯¢é‡æ¯”è¾ƒå¤§ï¼Œä¼šå¯¼è‡´æ•°æ®åº“çš„æŸ¥è¯¢æµé‡å¤§ï¼Œå¯¹æ•°æ®åº“é€ æˆå‹åŠ›ã€‚</p><p>é€šå¸¸æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼Œä¸€ç§æ˜¯å°†ç¬¬ä¸€æ¬¡æŸ¥è¯¢çš„ç©ºå€¼ç¼“å­˜èµ·æ¥ï¼ŒåŒæ—¶è®¾ç½®ä¸€ä¸ªæ¯”è¾ƒçŸ­çš„è¿‡æœŸæ—¶é—´ã€‚ä½†è¿™ç§è§£å†³æ–¹æ¡ˆå­˜åœ¨ä¸€ä¸ªå®‰å…¨æ¼æ´ï¼Œå°±æ˜¯å½“é»‘å®¢åˆ©ç”¨å¤§é‡æ²¡æœ‰ç¼“å­˜çš„keyæ”»å‡»ç³»ç»Ÿæ—¶ï¼Œç¼“å­˜çš„å†…å­˜ä¼šè¢«å æ»¡æº¢å‡ºã€‚</p><p>å¦ä¸€ç§åˆ™æ˜¯ä½¿ç”¨å¸ƒéš†è¿‡æ»¤ç®—æ³•ï¼ˆBloomFilterï¼‰ï¼Œè¯¥ç®—æ³•å¯ä»¥ç”¨äºæ£€æŸ¥ä¸€ä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œè¿”å›ç»“æœæœ‰ä¸¤ç§ï¼šå¯èƒ½å­˜åœ¨æˆ–ä¸€å®šä¸å­˜åœ¨ã€‚è¿™ç§æƒ…å†µå¾ˆé€‚åˆç”¨æ¥è§£å†³æ•…æ„æ”»å‡»ç³»ç»Ÿçš„ç¼“å­˜ç©¿é€é—®é¢˜ï¼Œåœ¨æœ€åˆç¼“å­˜æ•°æ®æ—¶ä¹Ÿå°†keyå€¼ç¼“å­˜åœ¨å¸ƒéš†è¿‡æ»¤å™¨çš„BitArrayä¸­ï¼Œå½“æœ‰keyå€¼æŸ¥è¯¢æ—¶ï¼Œå¯¹äºä¸€å®šä¸å­˜åœ¨çš„keyå€¼ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿”å›ç©ºå€¼ï¼Œå¯¹äºå¯èƒ½å­˜åœ¨çš„keyå€¼ï¼Œæˆ‘ä»¬ä¼šå»ç¼“å­˜ä¸­æŸ¥è¯¢ï¼Œå¦‚æœæ²¡æœ‰å€¼ï¼Œå†å»æ•°æ®åº“ä¸­æŸ¥è¯¢ã€‚</p><p>BloomFilterçš„å®ç°åŸç†ä¸Redisä¸­çš„BitMapç±»ä¼¼ï¼Œé¦–å…ˆåˆå§‹åŒ–ä¸€ä¸ªmé•¿åº¦çš„æ•°ç»„ï¼Œå¹¶ä¸”æ¯ä¸ªbitåˆå§‹åŒ–å€¼éƒ½æ˜¯0ï¼Œå½“æ’å…¥ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œä¼šä½¿ç”¨nä¸ªhashå‡½æ•°æ¥è®¡ç®—å‡ºnä¸ªä¸åŒçš„å€¼ï¼Œåˆ†åˆ«ä»£è¡¨æ‰€åœ¨æ•°ç»„çš„ä½ç½®ï¼Œç„¶åå†å°†è¿™äº›ä½ç½®çš„å€¼è®¾ç½®ä¸º1ã€‚</p><p>å‡è®¾æˆ‘ä»¬æ’å…¥ä¸¤ä¸ªkeyå€¼åˆ†åˆ«ä¸º20,28çš„å…ƒç´ ï¼Œé€šè¿‡ä¸¤æ¬¡å“ˆå¸Œå‡½æ•°å–æ¨¡åçš„å€¼åˆ†åˆ«ä¸º4,9ä»¥åŠ14,19ï¼Œå› æ­¤4,9ä»¥åŠ14,19éƒ½è¢«è®¾ç½®ä¸º1ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d9/a3/d939bf92331838da581c4b500e7473a3.jpg?wh=2366*698\" alt=\"\"></p><p>é‚£ä¸ºä»€ä¹ˆè¯´BloomFilterè¿”å›çš„ç»“æœæ˜¯å¯èƒ½å­˜åœ¨å’Œä¸€å®šä¸å­˜åœ¨å‘¢ï¼Ÿ</p><p>å‡è®¾æˆ‘ä»¬æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ 25ï¼Œé€šè¿‡næ¬¡å“ˆå¸Œå‡½æ•°å–æ¨¡åçš„å€¼ä¸º1,9,14ã€‚æ­¤æ—¶åœ¨BitArrayä¸­è‚¯å®šæ˜¯ä¸å­˜åœ¨çš„ã€‚è€Œå½“æˆ‘ä»¬æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ 21çš„æ—¶å€™ï¼Œnæ¬¡å“ˆå¸Œå‡½æ•°å–æ¨¡åçš„å€¼ä¸º9,14ï¼Œæ­¤æ—¶ä¼šè¿”å›å¯èƒ½å­˜åœ¨çš„ç»“æœï¼Œä½†å®é™…ä¸Šæ˜¯ä¸å­˜åœ¨çš„ã€‚</p><p>BloomFilterä¸å…è®¸åˆ é™¤ä»»ä½•å…ƒç´ çš„ï¼Œä¸ºä»€ä¹ˆï¼Ÿå‡è®¾ä»¥ä¸Š20,25,28ä¸‰ä¸ªå…ƒç´ éƒ½å­˜åœ¨äºBitArrayä¸­ï¼Œå–æ¨¡çš„ä½ç½®å€¼åˆ†åˆ«ä¸º4,9ã€1,9,14ä»¥åŠ14,19ï¼Œå¦‚æœæˆ‘ä»¬è¦åˆ é™¤å…ƒç´ 25ï¼Œæ­¤æ—¶éœ€è¦å°†1,9,14çš„ä½ç½®éƒ½ç½®å›0ï¼Œè¿™æ ·å°±å½±å“20,28å…ƒç´ äº†ã€‚</p><p>å› æ­¤ï¼ŒBloomFilteræ˜¯ä¸å…è®¸åˆ é™¤ä»»ä½•å…ƒç´ çš„ï¼Œè¿™æ ·ä¼šå¯¼è‡´å·²ç»åˆ é™¤çš„å…ƒç´ ä¾ç„¶è¿”å›å¯èƒ½å­˜åœ¨çš„ç»“æœï¼Œä¹Ÿä¼šå½±å“BloomFilteråˆ¤æ–­çš„å‡†ç¡®ç‡ï¼Œè§£å†³çš„æ–¹æ³•åˆ™æ˜¯é‡å»ºä¸€ä¸ªBitArrayã€‚</p><p>é‚£ä»€ä¹ˆç¼“å­˜å‡»ç©¿å‘¢ï¼Ÿåœ¨é«˜å¹¶å‘æƒ…å†µä¸‹ï¼ŒåŒæ—¶æŸ¥è¯¢ä¸€ä¸ªkeyæ—¶ï¼Œkeyå€¼ç”±äºæŸç§åŸå› çªç„¶å¤±æ•ˆï¼ˆè®¾ç½®è¿‡æœŸæ—¶é—´æˆ–ç¼“å­˜æœåŠ¡å®•æœºï¼‰ï¼Œå°±ä¼šå¯¼è‡´åŒä¸€æ—¶é—´ï¼Œè¿™äº›è¯·æ±‚éƒ½å»æŸ¥è¯¢æ•°æ®åº“äº†ã€‚è¿™ç§æƒ…å†µç»å¸¸å‡ºç°åœ¨æŸ¥è¯¢çƒ­ç‚¹æ•°æ®çš„åœºæ™¯ä¸­ã€‚é€šå¸¸æˆ‘ä»¬ä¼šåœ¨æŸ¥è¯¢æ•°æ®åº“æ—¶ï¼Œä½¿ç”¨æ’æ–¥é”æ¥å®ç°æœ‰åºåœ°è¯·æ±‚æ•°æ®åº“ï¼Œå‡å°‘æ•°æ®åº“çš„å¹¶å‘å‹åŠ›ã€‚</p><p>ç¼“å­˜é›ªå´©åˆ™ä¸ç¼“å­˜å‡»ç©¿å·®ä¸å¤šï¼ŒåŒºåˆ«å°±æ˜¯å¤±æ•ˆç¼“å­˜çš„è§„æ¨¡ã€‚é›ªå´©ä¸€èˆ¬æ˜¯æŒ‡å‘ç”Ÿå¤§è§„æ¨¡çš„ç¼“å­˜å¤±æ•ˆæƒ…å†µï¼Œä¾‹å¦‚ï¼Œç¼“å­˜çš„è¿‡æœŸæ—¶é—´åŒä¸€æ—¶é—´è¿‡æœŸäº†ï¼Œç¼“å­˜æœåŠ¡å®•æœºäº†ã€‚å¯¹äºå¤§é‡ç¼“å­˜çš„è¿‡æœŸæ—¶é—´åŒä¸€æ—¶é—´è¿‡æœŸçš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨åˆ†æ•£è¿‡æœŸæ—¶é—´æ¥è§£å†³ï¼›è€Œé’ˆå¯¹ç¼“å­˜æœåŠ¡å®•æœºçš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨åˆ†å¸ƒå¼é›†ç¾¤æ¥å®ç°ç¼“å­˜æœåŠ¡ã€‚</p><h2>æ€»ç»“</h2><p>ä»å‰ç«¯åˆ°åç«¯ï¼Œå¯¹äºä¸€äº›ä¸å¸¸å˜åŒ–çš„æ•°æ®ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥å°†å…¶ç¼“å­˜èµ·æ¥ï¼Œè¿™æ ·æ—¢å¯ä»¥æé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œåˆå¯ä»¥é™ä½è¯·æ±‚åç«¯çš„å‹åŠ›ã€‚å¯¹äºå‰ç«¯æ¥è¯´ï¼Œä¸€äº›é™æ€èµ„æºæ–‡ä»¶éƒ½æ˜¯ä¼šè¢«ç¼“å­˜åœ¨æµè§ˆå™¨ç«¯ï¼Œé™¤äº†é™æ€èµ„æºæ–‡ä»¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç¼“å­˜ä¸€äº›å¸¸é‡æ•°æ®ï¼Œä¾‹å¦‚å•†å“ä¿¡æ¯ã€‚</p><p>æœåŠ¡ç«¯çš„ç¼“å­˜ï¼ŒåŒ…æ‹¬äº†JVMçš„å †å†…å­˜ä½œä¸ºç¼“å­˜ä»¥åŠRediså®ç°çš„åˆ†å¸ƒå¼ç¼“å­˜ã€‚å¦‚æœæ˜¯ä¸€äº›ä¸å¸¸ä¿®æ”¹çš„æ•°æ®ï¼Œæ•°æ®é‡å°ï¼Œä¸”å¯¹ç¼“å­˜æ•°æ®æ²¡æœ‰ä¸¥æ ¼çš„ä¸€è‡´æ€§è¦æ±‚ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å †å†…å­˜ç¼“å­˜æ•°æ®ï¼Œè¿™æ ·æ—¢å®ç°ç®€å•ï¼ŒæŸ¥è¯¢ä¹Ÿéå¸¸é«˜æ•ˆã€‚å¦‚æœæ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œä¸”æ˜¯ç»å¸¸è¢«ä¿®æ”¹çš„æ•°æ®ï¼Œæˆ–å¯¹ç¼“å­˜æ•°æ®æœ‰ä¸¥æ ¼çš„ä¸€è‡´æ€§è¦æ±‚ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨åˆ†å¸ƒå¼ç¼“å­˜æ¥å­˜å‚¨ã€‚</p><p>åœ¨ä½¿ç”¨åç«¯ç¼“å­˜æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥æ³¨æ„æ•°æ®åº“å’Œç¼“å­˜æ•°æ®çš„ä¿®æ”¹å¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´é—®é¢˜ï¼Œå¦‚æœå¯¹ç¼“å­˜ä¸æ•°æ®åº“æ•°æ®æœ‰éå¸¸ä¸¥æ ¼çš„ä¸€è‡´æ€§è¦æ±‚ï¼Œæˆ‘å°±ä¸å»ºè®®ä½¿ç”¨ç¼“å­˜äº†ã€‚</p><p>åŒæ—¶ï¼Œæˆ‘ä»¬åº”è¯¥é’ˆå¯¹å¤§é‡è¯·æ±‚ç¼“å­˜çš„æ¥å£åšå¥½é¢„é˜²å·¥ä½œï¼Œé˜²æ­¢æŸ¥è¯¢ç¼“å­˜çš„æ¥å£å‡ºç°ç¼“å­˜ç©¿é€ã€ç¼“å­˜å‡»ç©¿å’Œç¼“å­˜é›ªå´©ç­‰é—®é¢˜ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>åœ¨åŸºäºRediså®ç°çš„åˆ†å¸ƒå¼ç¼“å­˜ä¸­ï¼Œæˆ‘ä»¬æ›´æ–°æ•°æ®æ—¶ï¼Œä¸ºä»€ä¹ˆå»ºè®®ç›´æ¥å°†ç¼“å­˜ä¸­çš„æ•°æ®åˆ é™¤ï¼Œè€Œä¸æ˜¯æ›´æ–°ç¼“å­˜ä¸­çš„æ•°æ®å‘¢ï¼Ÿ</p><p>æœŸå¾…åœ¨ç•™è¨€åŒºçœ‹åˆ°ä½ çš„ç­”æ¡ˆã€‚ä¹Ÿæ¬¢è¿ä½ ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€ï¼ŒæŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™èº«è¾¹çš„æœ‹å‹ï¼Œé‚€è¯·ä»–ä¸€èµ·è®¨è®ºã€‚</p><p><span class=\"reference\"></span></p>","comments":[{"had_liked":false,"id":129330,"user_name":"QQæ€ª","can_delete":false,"product_type":"c1","uid":1211223,"ip_address":"","ucode":"1A39B8433D9208","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/57/a9b04544.jpg","comment_is_top":false,"comment_ctime":1567089367,"is_pvip":false,"replies":[{"id":"48177","content":"ğŸ‘ğŸ» å¯¹çš„ï¼Œä¸¤ä¸ªå¹¶å‘å†™å»æ›´æ–°è¿˜å­˜åœ¨ä¸€è‡´æ€§çš„é—®é¢˜ã€‚ä¸è¿‡ï¼Œåœ¨åˆ é™¤ç¼“å­˜åï¼Œè®°å¾—è¯»å–æ•°æ®éœ€è¦åŠ é”æˆ–å»¶æ—¶ç­‰å¾…ï¼Œé˜²æ­¢è¯»å–è„æ•°æ®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567128010,"ip_address":"","comment_id":129330,"utype":1}],"discussion_count":1,"race_medal":0,"score":"91761402583","product_id":100028001,"comment_content":"å­¦åˆ°äº†å¾ˆå¤šï¼ŒæŒºæ”¶ç›Šçš„ï¼Œæ€è€ƒé¢˜ï¼šæ›´æ–°æ•ˆç‡å¤ªä½ï¼Œä»£ä»·å¾ˆå¤§ï¼Œä¸”ä¸ä¸€å®šè¢«è®¿é—®çš„é¢‘ç‡é«˜ï¼Œä¸é«˜åˆ™æ²¡å¿…è¦ç¼“å­˜ï¼Œè¿˜ä¸å¦‚ç›´æ¥åˆ æ‰ï¼Œè€Œä¸”è¿˜å®¹æ˜“å‡ºç°æ•°æ®ä¸ä¸€è‡´é—®é¢˜","like_count":22,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465405,"discussion_content":"ğŸ‘ğŸ» å¯¹çš„ï¼Œä¸¤ä¸ªå¹¶å‘å†™å»æ›´æ–°è¿˜å­˜åœ¨ä¸€è‡´æ€§çš„é—®é¢˜ã€‚ä¸è¿‡ï¼Œåœ¨åˆ é™¤ç¼“å­˜åï¼Œè®°å¾—è¯»å–æ•°æ®éœ€è¦åŠ é”æˆ–å»¶æ—¶ç­‰å¾…ï¼Œé˜²æ­¢è¯»å–è„æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567128010,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129189,"user_name":"Loubobooo","can_delete":false,"product_type":"c1","uid":1108306,"ip_address":"","ucode":"7B2543A80EBDEF","user_header":"https://static001.geekbang.org/account/avatar/00/10/e9/52/aa3be800.jpg","comment_is_top":false,"comment_ctime":1567059554,"is_pvip":false,"replies":[{"id":"48184","content":"ğŸ‘ğŸ» å›ç­”å¾ˆå…¨é¢","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567129207,"ip_address":"","comment_id":129189,"utype":1}],"discussion_count":2,"race_medal":0,"score":"44516732514","product_id":100028001,"comment_content":"è¯¾åé¢˜ï¼šåŸå› å¾ˆç®€å•<br>1. å¾ˆå¤šæ—¶å€™ï¼Œåœ¨å¤æ‚ç‚¹çš„ç¼“å­˜åœºæ™¯ï¼Œç¼“å­˜ä¸å•å•æ˜¯æ•°æ®åº“ä¸­ç›´æ¥å–å‡ºæ¥çš„å€¼ã€‚æ¯”å¦‚å¯èƒ½æ›´æ–°äº†æŸä¸ªè¡¨çš„ä¸€ä¸ªå­—æ®µï¼Œç„¶åå…¶å¯¹åº”çš„ç¼“å­˜ï¼Œæ˜¯éœ€è¦æŸ¥è¯¢å¦å¤–ä¸¤ä¸ªè¡¨çš„æ•°æ®å¹¶è¿›è¡Œè¿ç®—ï¼Œæ‰èƒ½è®¡ç®—å‡ºç¼“å­˜æœ€æ–°çš„å€¼çš„ã€‚<br>å¦å¤–æ›´æ–°ç¼“å­˜çš„ä»£ä»·æœ‰æ—¶å€™æ˜¯å¾ˆé«˜çš„ã€‚æ¯æ¬¡ä¿®æ”¹æ•°æ®åº“çš„æ—¶å€™ï¼Œéƒ½ä¸€å®šè¦å°†å…¶å¯¹åº”çš„ç¼“å­˜æ›´æ–°ä¸€ä»½ï¼Œè¿™æ ·åšçš„ä»£ä»·è¾ƒé«˜ã€‚å¦‚æœé‡åˆ°å¤æ‚çš„ç¼“å­˜æ•°æ®è®¡ç®—çš„åœºæ™¯ï¼Œç¼“å­˜é¢‘ç¹æ›´æ–°ï¼Œä½†è¿™ä¸ªç¼“å­˜åˆ°åº•ä¼šä¸ä¼šè¢«é¢‘ç¹è®¿é—®åˆ°ï¼Ÿå¦‚æœæ²¡æœ‰ï¼Œè¿™ä¸ªç¼“å­˜çš„æ•ˆç‡å°±å¾ˆä½äº†","like_count":10,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465323,"discussion_content":"ğŸ‘ğŸ» å›ç­”å¾ˆå…¨é¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567129207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1181650,"avatar":"https://static001.geekbang.org/account/avatar/00/12/07/d2/0d7ee298.jpg","nickname":"æƒ˜ é—»","note":"","ucode":"C5909F034BF072","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338597,"discussion_content":"å¤æ‚çš„è®¡ç®—çš„è¯æ— è®ºæ˜¯åœ¨æ•°æ®åº“æ›´æ–°è¿˜æ˜¯ä¸¤æ–¹éƒ½æ›´æ–°,åªéœ€è¦è®¡ç®—ä¸€æ¬¡ä¸å°±å¤Ÿäº†å˜›?æ¯”å¦‚æ›´æ–°æ•°æ®åº“å­—æ®µ,è¿›è¡Œäº†è¿ç®—åæ›´æ–°å­—æ®µå€¼,ç„¶åç›´æ¥æ‹¿ç€è¿™ä¸ªå€¼æ›´æ–°åˆ°ç¼“å­˜ä¸­ä¸å°±å¯ä»¥å—,ä¸éœ€è¦å†æ¬¡è®¡ç®—å§?ä¸æ˜¯å¾ˆç†è§£è¿™ç§åœºæ™¯å•Š,å¯ä»¥è®²è§£ä¸€ä¸‹å—?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609320068,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129049,"user_name":"giserway","can_delete":false,"product_type":"c1","uid":1067304,"ip_address":"","ucode":"139D579F323383","user_header":"https://static001.geekbang.org/account/avatar/00/10/49/28/4dcfa376.jpg","comment_is_top":false,"comment_ctime":1567035151,"is_pvip":true,"replies":[{"id":"48187","content":"å¯¹çš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§æƒ…å†µ","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567130253,"ip_address":"","comment_id":129049,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31631806223","product_id":100028001,"comment_content":"è¿˜æœ‰å°±æ˜¯æ›´æ–°ç¼“å­˜ä»£ä»·å¤§ã€‚å¦‚æœç¼“å­˜é‡Œçš„æ•°æ®ä¸æ˜¯æŠŠæ•°æ®åº“é‡Œçš„æ•°æ®ç›´æ¥å­˜ä¸‹æ¥ï¼Œè€Œæ˜¯éœ€è¦ç»è¿‡æŸç§å¤æ‚çš„è¿ç®—ï¼Œé‚£ä¹ˆè¿™ç§ä¸å¿…è¦çš„æ›´æ–°ä¼šå¸¦æ¥æ›´å¤§çš„æµªè´¹ã€‚","like_count":8,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465243,"discussion_content":"å¯¹çš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567130253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":244789,"user_name":"test","can_delete":false,"product_type":"c1","uid":1065849,"ip_address":"","ucode":"9A4973E591DD12","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/79/18073134.jpg","comment_is_top":false,"comment_ctime":1598677358,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27368481134","product_id":100028001,"comment_content":"ç¼“å­˜çš„ä¸‰ç§é—®é¢˜<br>- ç¼“å­˜ç©¿é€ï¼šå¤§æ‰¹é‡è¯·æ±‚ä¸å­˜åœ¨çš„keyï¼Œå¯¼è‡´æ•°æ®åº“å‹åŠ›å¢å¤§ã€‚ã€è§£å†³æ–¹æ¡ˆã€‘ï¼šå¸ƒéš†è¿‡æ»¤å™¨ã€‚<br>- ç¼“å­˜å‡»ç©¿ï¼šåŒä¸€æ—¶é—´å¤§æ‰¹é‡è¯·æ±‚ä¸€ä¸ªè¿‡æœŸçš„keyï¼Œå¯¼è‡´è¿™äº›è¯·æ±‚åœ¨åŒä¸€æ—¶é—´è®¿é—®æ•°æ®åº“ã€‚ã€è§£å†³æ–¹æ¡ˆã€‘ï¼šè·å–æ•°æ®åº“åå›å†™è¿™ä¸ªè¿‡ç¨‹ç”³è¯·åˆ†å¸ƒå¼é”ï¼Œåªæœ‰ä¸€ä¸ªè¯·æ±‚èƒ½è·å–åå›å†™ï¼Œå…¶ä»–ä¸€ç›´é‡è¯•ç­‰å¾…ã€‚<br>- ç¼“å­˜é›ªå´©ï¼šåŒä¸€æ—¶é—´å¤§æ‰¹é‡keyè¿‡æœŸã€‚ã€è§£å†³æ–¹æ¡ˆã€‘ï¼šè®¾ç½®expire timeçš„æ—¶å€™éšæœºåŠ 1~5åˆ†é’Ÿçš„è¶…æ—¶ã€‚<br><br>æ•°æ®åº“å’Œç¼“å­˜ä¸€è‡´æ€§è§£å†³ï¼š<br>ã€Cache Aside Patternã€‘å› ä¸ºæ›´æ–°æ•°æ®åº“ååˆ é™¤ç¼“å­˜çš„è¯ï¼Œå¦‚æœç¼“å­˜åˆ é™¤å¤±è´¥ï¼Œåˆ™ä¼šå­˜åœ¨ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦å…ˆåˆ é™¤ç¼“å­˜åæ›´æ–°æ•°æ®åº“ã€‚ä½†æ˜¯è¿™é‡Œå¯èƒ½å­˜åœ¨åˆ é™¤ç¼“å­˜åæœ‰**å…¶ä»–è¯·æ±‚**åˆ¤æ–­ç¼“å­˜æ²¡æœ‰æ•°æ®åˆ™ä»æ•°æ®åº“ä¸­è¯»å–åå›å†™å¯¼è‡´çš„ä¸ä¸€è‡´é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦å†è¿›ä¸€æ­¥ï¼šåˆ é™¤ç¼“å­˜åï¼ŒæŠŠç¼“å­˜æ•°æ®æ”¾åˆ°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå…¶ä»–è¯·æ±‚åˆ°æ¥çš„æ—¶å€™åˆ¤æ–­ç¼“å­˜é‡Œé¢æ²¡æ•°æ®ï¼Œå†å»é˜Ÿåˆ—é‡Œé¢æŸ¥çœ‹ï¼Œå¦‚æœé˜Ÿåˆ—é‡Œé¢æœ‰è¿™ä¸ªç¼“å­˜æ•°æ®ï¼Œåˆ™ä¸€ç›´é˜»å¡ç­‰å¾…ï¼ŒçŸ¥é“å‰ä¸€ä¸ªè¯·æ±‚æŠŠæ•°æ®åº“æ›´æ–°å®Œæ¯•åå†å”¤é†’ã€‚","like_count":6},{"had_liked":false,"id":129046,"user_name":"yungoo","can_delete":false,"product_type":"c1","uid":1060805,"ip_address":"","ucode":"D9BB84A75047CB","user_header":"https://static001.geekbang.org/account/avatar/00/10/2f/c5/aaacb98f.jpg","comment_is_top":false,"comment_ctime":1567033093,"is_pvip":false,"replies":[{"id":"48188","content":"ğŸ‘ğŸ» å­˜åœ¨å¹¶å‘æ›´æ–°æ—¶æ•°æ®ä¸ä¸€è‡´é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567130319,"ip_address":"","comment_id":129046,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27336836869","product_id":100028001,"comment_content":"åŸºäºredisé›†ä¸­ç¼“å­˜æ›´æ–°æ•°æ®é‡‡ç”¨åˆ é™¤è€Œä¸æ˜¯ç›´æ¥æ›´æ–°ç¼“å­˜çš„åŸå› ä¹‹ä¸€ï¼šé¿å…äºŒç±»æ›´æ–°ä¸¢å¤±é—®é¢˜ã€‚<br><br>åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å½“å­˜åœ¨å¹¶å‘æ•°æ®æ›´æ–°æ—¶ï¼Œå› æ— æ³•ä¿è¯æ›´æ–°æ“ä½œé¡ºåºçš„æ—¶é—´ä¸€è‡´æ€§ï¼Œä»è€Œå¯¼è‡´æ—§å€¼è¦†ç›–æ–°å€¼ã€‚<br><br>å¦‚ï¼š<br>t1æ—¶é—´ç‚¹ï¼ŒAè¿›ç¨‹å‘èµ·æ›´æ–°key1ä¸º1çš„P1æ“ä½œã€‚<br>t1+xæ—¶é—´ç‚¹ï¼ŒBè¿›ç¨‹å‘èµ·æ›´æ–°key1ä¸º2çš„P2æ“ä½œã€‚<br>å…¶ä¸­P1 -&gt; P2ï¼Œæ•°æ®åº“ä¸­å€¼ä¸º2ã€‚<br><br>è€Œredisæ”¶åˆ°çš„æŒ‡ä»¤ï¼Œå¯èƒ½å› ç½‘ç»œæŠ–åŠ¨æˆ–è€…STWï¼Œå®é™…ä¸ºP2 -&gt; P1ï¼Œç¼“å­˜çš„å€¼ä¸º1ï¼Œé€ æˆæ•°æ®ä¸ä¸€è‡´ã€‚","like_count":6,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465241,"discussion_content":"ğŸ‘ğŸ» å­˜åœ¨å¹¶å‘æ›´æ–°æ—¶æ•°æ®ä¸ä¸€è‡´é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567130319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1094597,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b3/c5/7fc124e2.jpg","nickname":"Liam","note":"","ucode":"1D15D3B64F2606","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7703,"discussion_content":"é‚£ä¹ˆå…ˆæ›´æ–°ç¼“å­˜ï¼Œå†æ›´æ–°æ•°æ®åº“å°±å¥½äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567646226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":133005,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1568301280,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18748170464","product_id":100028001,"comment_content":"æˆ‘è§‰å¾—çœ‹åœºæ™¯ï¼Œæˆ‘ä»¬æ˜¯ç”µå•†çš„æ ¸å¿ƒç³»ç»Ÿï¼Œè®¡ç®—å…¨éƒ¨ä¾èµ–ç¼“å­˜ï¼Œæˆ‘ä»¬çš„ç¼“å­˜æ˜¯ç»è¿‡å¤æ‚è®¡ç®—çš„ç»“æ„æ•°æ®ï¼Œæ¯å¤©å®šæ—¶ä»»åŠ¡åˆ·æ–°ï¼Œæ›´æ–°æ˜¯å…¨éƒ¨æ˜¯å…ˆæ·»åŠ æœ‰æ•ˆæ•°æ®ååˆ é™¤æ— æ•ˆæ•°æ®ã€‚æ·»åŠ æœ‰æ•ˆæ•°æ®æ—¶ï¼Œå¦‚æœæ•°æ®å­˜åœ¨å°±æ˜¯æ›´æ–°æ“ä½œäº†å•¦ï¼æˆ‘è§‰å¾—æŒºOKçš„","like_count":5},{"had_liked":false,"id":129048,"user_name":"giserway","can_delete":false,"product_type":"c1","uid":1067304,"ip_address":"","ucode":"139D579F323383","user_header":"https://static001.geekbang.org/account/avatar/00/10/49/28/4dcfa376.jpg","comment_is_top":false,"comment_ctime":1567035062,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"14451936950","product_id":100028001,"comment_content":"å¦‚æœæ˜¯æ›´æ–°æ•°æ®åº“å†æ“ä½œç¼“å­˜çš„è¯ï¼Œæ­¤æ—¶æ›´æ–°ç¼“å­˜çš„æ“ä½œä¸æ˜¯å¿…é¡»çš„ã€‚å¯èƒ½ç¼“å­˜é‡Œçš„æ•°æ®å¹¶æ²¡æœ‰è¢«è¯»åˆ°ï¼Œå°±ä¼šè¢«ä¸‹ä¸€æ¬¡æ›´æ–°MySQLæ“ä½œå¸¦æ¥Redisæ›´æ–°æ“ä½œè¦†ç›–ï¼Œé‚£ä¹ˆæœ¬æ¬¡æ›´æ–°æ“ä½œå°±æ˜¯æ— æ„ä¹‰çš„ã€‚","like_count":3,"discussions":[{"author":{"id":1372119,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ef/d7/2f700986.jpg","nickname":"calvin sheng","note":"","ucode":"D992BDA50DACC7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":16964,"discussion_content":"è¯´çš„å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568938213,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129455,"user_name":"victoriest","can_delete":false,"product_type":"c1","uid":1023394,"ip_address":"","ucode":"7B4232B0FB88F6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9d/a2/d8a708cc.jpg","comment_is_top":false,"comment_ctime":1567132113,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10157066705","product_id":100028001,"comment_content":"åªçœ‹ æ¨¡å—ä¸ƒ å€¼å›ç¥¨ä»·","like_count":2,"discussions":[{"author":{"id":2238635,"avatar":"https://static001.geekbang.org/account/avatar/00/22/28/ab/b8905658.jpg","nickname":"AsYouWish99","note":"","ucode":"A5CE38DAD56115","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578329,"discussion_content":"å•Šå¯¹å¯¹å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656661079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129092,"user_name":"Maxwell","can_delete":false,"product_type":"c1","uid":1211320,"ip_address":"","ucode":"D28CC11C99F0CE","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/b8/6f47ba1b.jpg","comment_is_top":false,"comment_ctime":1567041536,"is_pvip":false,"replies":[{"id":"48185","content":"æœ€å¸¸ç”¨çš„å°±æ˜¯ä½¿ç”¨åŒæ­¥é”æˆ–Locké”å®ç°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567129820,"ip_address":"","comment_id":129092,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10156976128","product_id":100028001,"comment_content":"è€å¸ˆæ‚¨è¯´çš„ï¼šé€šå¸¸æˆ‘ä»¬ä¼šåœ¨æŸ¥è¯¢æ•°æ®åº“æ—¶ï¼Œä½¿ç”¨æ’æ–¥é”æ¥å®ç°æœ‰åºåœ°è¯·æ±‚æ•°æ®åº“ï¼Œå‡å°‘æ•°æ®åº“çš„å¹¶å‘å‹åŠ›ã€‚è¿™ä¸ªé€šå¸¸å“ªäº›æ–¹æ¡ˆï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465270,"discussion_content":"æœ€å¸¸ç”¨çš„å°±æ˜¯ä½¿ç”¨åŒæ­¥é”æˆ–Locké”å®ç°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567129820,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1542745,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8a/59/d5aec34a.jpg","nickname":"èƒœ","note":"","ucode":"3D813DC2EFE032","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37823,"discussion_content":"åœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨é”ä¼šä¸ä¼šé™ä½æŸ¥è¯¢æ€§èƒ½","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1571669672,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1024294,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","nickname":"null","note":"","ucode":"F9039EFED6B55D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":372878,"discussion_content":"è€å¸ˆå›å¤çš„ï¼Œè§£å†³ä¸äº†åˆ†å¸ƒå¼ç¯å¢ƒçš„è¯»å–ã€‚æ¯”å¦‚æœºå™¨Aå’Œæœºå™¨BåŒæ—¶æ‰§è¡Œè¯¥æµç¨‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620487358,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227511,"user_name":"è€¿å˜‰è‰º","can_delete":false,"product_type":"c1","uid":2023401,"ip_address":"","ucode":"727A22BD41E8AF","user_header":"","comment_is_top":false,"comment_ctime":1592397073,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5887364369","product_id":100028001,"comment_content":"æ›´æ–°ç¼“å­˜çš„æ—¶å€™ï¼ŒåŠ é”ä¿è¯ä¸€è‡´æ€§ï¼Œä¸è¡Œå—ï¼Ÿæ¯•ç«Ÿredisæ‰§è¡Œè¿˜æ˜¯å•çº¿ç¨‹çš„","like_count":1,"discussions":[{"author":{"id":1134861,"avatar":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","nickname":"James","note":"","ucode":"48B0F2A334D1C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350933,"discussion_content":"åˆ†å¸ƒå¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614076767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1260141,"avatar":"https://static001.geekbang.org/account/avatar/00/13/3a/6d/910b2445.jpg","nickname":"Wheat","note":"","ucode":"7D99EA149B6DE8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327249,"discussion_content":"åŠ åˆ†å¸ƒå¼é”æ€§èƒ½ä¼šä¸ä¼šæ›´ä½ï¼Œåˆå¾—æ”¹ç¼“å­˜åˆå¾—æ”¹æ•°æ®åº“è¿˜å¾—æ”¹é”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605775403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":146460,"user_name":"ty_young","can_delete":false,"product_type":"c1","uid":1284337,"ip_address":"","ucode":"EB1D5DB0AE7B33","user_header":"","comment_is_top":false,"comment_ctime":1572528336,"is_pvip":false,"replies":[{"id":"72195","content":"å¼ºåˆ¶ç¼“å­˜åªæœ‰ä¸¤ç§æƒ…å†µï¼Œè¦ä¹ˆè®¿é—®æœåŠ¡ç«¯ï¼Œè¦ä¹ˆç”¨æœ¬åœ°ç¼“å­˜ï¼Œæ‰€ä»¥åŠ ä¸Šåå•†ç¼“å­˜æ„ä¹‰ä¸å¤§","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1584017273,"ip_address":"","comment_id":146460,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5867495632","product_id":100028001,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®åå•†ç¼“å­˜å’Œå¼ºåˆ¶ç¼“å­˜æ²¡æœ‰å…³è”ä¹ˆï¼Œä¸ä¼šå…ˆèµ°å¼ºåˆ¶ç¼“å­˜ï¼Œç„¶ååœ¨å¼ºåˆ¶ç¼“å­˜çš„åŸºç¡€ä¸Šèµ°åå•†ç¼“å­˜","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472871,"discussion_content":"å¼ºåˆ¶ç¼“å­˜åªæœ‰ä¸¤ç§æƒ…å†µï¼Œè¦ä¹ˆè®¿é—®æœåŠ¡ç«¯ï¼Œè¦ä¹ˆç”¨æœ¬åœ°ç¼“å­˜ï¼Œæ‰€ä»¥åŠ ä¸Šåå•†ç¼“å­˜æ„ä¹‰ä¸å¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584017273,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129312,"user_name":"Better me","can_delete":false,"product_type":"c1","uid":1261959,"ip_address":"","ucode":"CADF08D357489A","user_header":"https://static001.geekbang.org/account/avatar/00/13/41/87/46d7e1c2.jpg","comment_is_top":false,"comment_ctime":1567085697,"is_pvip":true,"replies":[{"id":"48178","content":"è¿™æ˜¯ä¸ºäº†è®¡ç®—ä¸åŒçš„ä½ç½®ï¼Œé€šè¿‡ä¸åŒä½ç½®ç½®1ï¼Œå¾—å‡ºä¸€ä¸ªæ•°å€¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567128100,"ip_address":"","comment_id":129312,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5862052993","product_id":100028001,"comment_content":"å¸ƒéš†è¿‡æ»¤å™¨ä¸ºä»€ä¹ˆè¦ç»è¿‡nä¸ªhashå‡½æ•°æ•£åˆ—ï¼Œæœ‰ä»€ä¹ˆç‰¹åˆ«çš„è€ƒè™‘å—","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465394,"discussion_content":"è¿™æ˜¯ä¸ºäº†è®¡ç®—ä¸åŒçš„ä½ç½®ï¼Œé€šè¿‡ä¸åŒä½ç½®ç½®1ï¼Œå¾—å‡ºä¸€ä¸ªæ•°å€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567128100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1447569,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/WtHCCMoLJ2DvzqQwPYZyj2RlN7eibTLMHDMTSO4xIKjfKR1Eh9L98AMkkZY7FmegWyGLahRQJ5ibPzeeFtfpeSow/132","nickname":"è„±ç¼°çš„é‡é©¬__","note":"","ucode":"D5F993E7232C61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259223,"discussion_content":"å¤§ä½¬åº”è¯¥æ˜¯å¸®åˆ«äººé—®çš„å§ï¼Ÿå­¦ä¹ è®°å½•ä¹Ÿæ˜¯æƒŠäººï¼ç®€å•æ¥è¯´æ˜¯ä¸ºäº†æé«˜æ•°æ®å‡†ç¡®åº¦ï¼Œä¸€ä¸ªhashå‡½æ•°å®¹æ˜“å†²çªé‚£å¤šä¸ªä¸€èµ·æ¥è®¡ç®—çš„è¯å¾—å‡ºä¸åŒçš„ä½ç½®ï¼Œæ•´ä½“å†²çªçš„å¯èƒ½æ€§å°±æ›´ä½äº†ï¼Œå¦å¤–ä¸€ç§é™ä½å†²çªçš„æ–¹å¼å°±æ˜¯å¢å¤§æ•°ç»„çš„å¤§å°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588769475,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1261959,"avatar":"https://static001.geekbang.org/account/avatar/00/13/41/87/46d7e1c2.jpg","nickname":"Better me","note":"","ucode":"CADF08D357489A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1447569,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/WtHCCMoLJ2DvzqQwPYZyj2RlN7eibTLMHDMTSO4xIKjfKR1Eh9L98AMkkZY7FmegWyGLahRQJ5ibPzeeFtfpeSow/132","nickname":"è„±ç¼°çš„é‡é©¬__","note":"","ucode":"D5F993E7232C61","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":259603,"discussion_content":"é‚£ä¼šæ˜¯çœŸä¸æ‡‚ğŸ˜‚ï¼Œå¢å¤§æ•°ç»„å¤§å°æœªå¿…æ˜¯ä¸€ä¸ªå¥½æ–¹æ³•ï¼Œå“ˆå¸Œå†²çªäº§ç”Ÿçš„åŸå› æ˜¯å› ä¸ºé¸½å·¢åŸç†ã€‚ç”±äºæ•°æ®è§„æ¨¡æ˜¯ä¸æ–­å¢å¤§çš„ï¼Œæ•°ç»„å†å¤§ä¹Ÿæ˜¯å¯èƒ½è¢«å æ»¡ç©ºé—´å¹¶äº§ç”Ÿå†²çªçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588782440,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":259223,"ip_address":""},"score":259603,"extra":""}]}]},{"had_liked":false,"id":129196,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1567060834,"is_pvip":false,"replies":[{"id":"48183","content":"å¯¹çš„ï¼Œå¦‚æœä¸¤ä¸ªå¹¶å‘å†™å»æ›´æ–°è¿˜å­˜åœ¨ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œè¿˜ä¸å¦‚ç›´æ¥åˆ é™¤ï¼Œç­‰ä¸‹æ¬¡è¯»å–çš„æ—¶å€™å†æ¬¡å†™å…¥ç¼“å­˜ä¸­ã€‚ä¸è¿‡ï¼Œåœ¨åˆ é™¤ç¼“å­˜åï¼Œè®°å¾—è¯»å–æ•°æ®éœ€è¦åŠ é”æˆ–å»¶æ—¶ç­‰å¾…ï¼Œé˜²æ­¢è¯»å–è„æ•°æ®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567129093,"ip_address":"","comment_id":129196,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5862028130","product_id":100028001,"comment_content":"ç›´æ¥æ›´æ–°ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œå› ä¸ºè¯·æ±‚åˆ°è¾¾çš„é¡ºåºæ— æ³•ä¿è¯ï¼Œæœ‰å¯èƒ½åè¯·æ±‚çš„æ•°æ®è¦†ç›–å‰è¯·æ±‚çš„æ•°æ®ã€‚ç›´æ¥å°†æ•°æ®åˆ é™¤ï¼Œå°±æ˜¯ä¸€ç§å¹‚ç­‰çš„æ“ä½œï¼Œåˆ é™¤åï¼Œå†å»æ•°æ®åº“æ‹‰æ•°æ®ï¼Œå°±ä¸ä¼šæœ‰è¦†å†™çš„é—®é¢˜ã€‚","like_count":2,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465327,"discussion_content":"å¯¹çš„ï¼Œå¦‚æœä¸¤ä¸ªå¹¶å‘å†™å»æ›´æ–°è¿˜å­˜åœ¨ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œè¿˜ä¸å¦‚ç›´æ¥åˆ é™¤ï¼Œç­‰ä¸‹æ¬¡è¯»å–çš„æ—¶å€™å†æ¬¡å†™å…¥ç¼“å­˜ä¸­ã€‚ä¸è¿‡ï¼Œåœ¨åˆ é™¤ç¼“å­˜åï¼Œè®°å¾—è¯»å–æ•°æ®éœ€è¦åŠ é”æˆ–å»¶æ—¶ç­‰å¾…ï¼Œé˜²æ­¢è¯»å–è„æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567129093,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129060,"user_name":"-W.LI-","can_delete":false,"product_type":"c1","uid":1210699,"ip_address":"","ucode":"3556786538664F","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","comment_is_top":false,"comment_ctime":1567037433,"is_pvip":false,"replies":[{"id":"48186","content":"é€šå¸¸æˆ‘ä»¬æ˜¯ä¼šæŒ‡å®šä¸€äº›é™æ€èµ„æºæ–‡ä»¶ä¸Šä¼ åˆ°CDNä¸Šå»ï¼Œå¹¶ä¸”é€šè¿‡ç‰ˆæœ¬å·æ¥æ›´æ–°ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬çš„jsèµ„æºæ–‡ä»¶æ˜¯ xxx001.jsï¼Œå¦‚æœæˆ‘ä»¬æ›´æ–°äº†è¯¥èµ„æºæ–‡ä»¶ï¼Œåˆ™å°†xxx002.jsæ¨é€åˆ°CDNä¸Šï¼ŒåŒæ—¶å‰ç«¯çš„è®¿é—®è·¯å¾„ä¹Ÿæ›´æ–°è®¿é—®èµ„æºè·¯å¾„ã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567130235,"ip_address":"","comment_id":129060,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5862004729","product_id":100028001,"comment_content":" è€å¸ˆçœŸæ£’ï¼Œå…¨èƒ½ã€‚<br>CDNçš„ç¼“å­˜ç­–ç•¥æ˜¯copyæœåŠ¡ç«¯çš„ï¼Œåå•†ç¼“å­˜å’Œå¼ºç¼“å­˜?å¦‚æœæœ‰äº›é™æ€èµ„æºï¼ŒæœåŠ¡ç«¯å¼€å‘æ²¡åšç¼“å­˜ç­–ç•¥ï¼ŒCDNè¿˜ä¼šç¼“å­˜ä¹ˆ?å®é™…å¼€å‘ä¸­ç”¨è¿‡ä¸€æ¬¡CDNã€‚æ˜¯åœ¨èµ„æºè·¯å¾„å‰ï¼Œæ‹¼æ¥ä¸€æ®µCDNè·¯å¾„ã€‚å…·ä½“ä¸çŸ¥<br>è¯¾åä¹ é¢˜ï¼Œå¦‚æœå¹¶å‘æ“ä½œæ—¶ï¼Œè™½ç„¶redisæ˜¯å•çº¿ç¨‹çš„ä½†æ˜¯æ²¡æ³•ä¿è¯ç½‘ç»œå»¶æ—¶ä¸‹ï¼Œå…ˆæ›´æ–°æ•°æ®åº“ã€‚ä¹Ÿå…ˆæ›´æ–°ç¼“å­˜ã€‚ä¸ªäººæ„Ÿè§‰å¤±æ•ˆä¸€ä¸ªkeyæ¯”å†™ä¸€ä¸ªkeyå¼€é”€å°ã€‚ç½‘ç»œä¼ è¾“ä¸Šçœ‹ï¼Œupdateè¿˜å¾—ä¼ ä¸€ä¸ªvalueçš„å€¼ï¼Œredisæ›´æ–°è¿˜å¾—å†™ç¼“å­˜æ„Ÿè§‰ä¹Ÿæ˜¯å¤±æ•ˆæ…¢ã€‚å¹¶å‘æƒ…å†µå†™ä¸¤æ¬¡(é™¤å¼€æ­£ç¡®æ€§)æœ‰ä¸€æ¬¡çš„å†™å®Œå…¨æµªè´¹ã€‚","like_count":1,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465252,"discussion_content":"é€šå¸¸æˆ‘ä»¬æ˜¯ä¼šæŒ‡å®šä¸€äº›é™æ€èµ„æºæ–‡ä»¶ä¸Šä¼ åˆ°CDNä¸Šå»ï¼Œå¹¶ä¸”é€šè¿‡ç‰ˆæœ¬å·æ¥æ›´æ–°ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬çš„jsèµ„æºæ–‡ä»¶æ˜¯ xxx001.jsï¼Œå¦‚æœæˆ‘ä»¬æ›´æ–°äº†è¯¥èµ„æºæ–‡ä»¶ï¼Œåˆ™å°†xxx002.jsæ¨é€åˆ°CDNä¸Šï¼ŒåŒæ—¶å‰ç«¯çš„è®¿é—®è·¯å¾„ä¹Ÿæ›´æ–°è®¿é—®èµ„æºè·¯å¾„ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567130235,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":354046,"user_name":"é˜²è…åŸº","can_delete":false,"product_type":"c1","uid":2696605,"ip_address":"æ¹–åŒ—","ucode":"0FF3BF30631995","user_header":"https://static001.geekbang.org/account/avatar/00/29/25/9d/d612cbf8.jpg","comment_is_top":false,"comment_ctime":1660039718,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1660039718","product_id":100028001,"comment_content":"ç¼“å­˜å‡»ç©¿çš„è§£å†³æ–¹æ¡ˆä½œè€…è¯´çš„æ˜¯ä½¿ç”¨æ’æ–¥é”ï¼Œæˆ‘è¿™é‡Œæä¾›å¦ä¸€ä¸ªæ›´ç®€å•çš„æ–¹æ¡ˆã€‚<br>ç›´æ¥è®¾ç½®æˆæ°¸ä¸è¿‡æœŸå³å¯ï¼ŒåŸå› å¾ˆç®€å•ï¼Œè¾¾åˆ°ç¼“å­˜å‡»ç©¿è¿™ä¸ªé‡çº§çš„å…¬å¸å‡¤æ¯›éºŸè§’ï¼Œç»å¤§éƒ¨åˆ†ç¨‹åºå‘˜å¯èƒ½æ•´ä¸ªèŒä¸šç”Ÿæ¶¯éƒ½é‡ä¸åˆ°ã€‚<br>æ‰€ä»¥ï¼Œå¯¹äºå¯èƒ½å‡ºç°è¿™ç§æƒ…å†µçš„æå°‘æ•°çš„çƒ­ç‚¹keyï¼Œç›´æ¥è®¾ç½®æ°¸ä¸è¿‡æœŸå³å¯ï¼Œä¸€åŠ³æ°¸é€¸ï¼Œä¹Ÿçœå¾—åŠ¨è„‘äº†ã€‚","like_count":0},{"had_liked":false,"id":301928,"user_name":"å¹³æ°‘äººä¹‹åŠ©","can_delete":false,"product_type":"c1","uid":2658705,"ip_address":"","ucode":"5CCEC0BAC08AEC","user_header":"https://static001.geekbang.org/account/avatar/00/28/91/91/428a27a3.jpg","comment_is_top":false,"comment_ctime":1625977732,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625977732","product_id":100028001,"comment_content":"æ›´æ–°ä¸æ˜¯ç”¨redissonçš„getandsetæ“ä½œå—","like_count":0},{"had_liked":false,"id":291793,"user_name":"null","can_delete":false,"product_type":"c1","uid":1024294,"ip_address":"","ucode":"F9039EFED6B55D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","comment_is_top":false,"comment_ctime":1620485746,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620485746","product_id":100028001,"comment_content":"åŸæ–‡ï¼š<br>å½“ A æ“ä½œå˜æ›´æ•°æ®æ—¶ï¼Œä¼šå…ˆåˆ é™¤ä¸€ä¸ªç¼“å­˜æ•°æ®ï¼Œæ­¤æ—¶é€šè¿‡çº¿ç¨‹å®‰å…¨çš„æ–¹å¼å°†ç¼“å­˜æ•°æ®æ”¾å…¥åˆ°é˜Ÿåˆ—ä¸­ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œæ•°æ®åº“çš„æ•°æ®åˆ é™¤æ“ä½œã€‚<br>å½“æœ‰å¦ä¸€ä¸ªæŸ¥è¯¢è¯·æ±‚ B è¿›æ¥æ—¶ï¼Œâ€¦ï¼Œå¦‚æœé˜Ÿåˆ—ä¸­æœ‰è¯¥æ•°æ®ï¼Œåˆ™é˜»å¡ç­‰å¾…ï¼Œç›´åˆ° A æ“ä½œæ•°æ®åº“æˆåŠŸä¹‹åï¼Œå”¤é†’è¯¥é˜»å¡çº¿ç¨‹ï¼Œå†å»æ•°æ®åº“ä¸­æŸ¥è¯¢è¯¥æ•°æ®ã€‚<br><br>é—®é¢˜ï¼š<br>è€å¸ˆå¥½ï¼ŒåŸæ–‡çš„è¿™æ®µè¯ï¼Œæœ‰ç‚¹ä¸å¤ªæ˜ç™½ã€‚<br>1. çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—ï¼Œä¸èƒ½æ˜¯ JVM ä¸­çš„é˜Ÿåˆ—å§ã€‚åˆ†å¸ƒå¼ç¯å¢ƒï¼Œç”¨ redis é˜Ÿåˆ—ï¼Ÿ<br>2. ä¸ºä»€ä¹ˆè¦é€šè¿‡å¦ä¸€ä¸ªçº¿ç¨‹å»æ›´æ–°æ•°æ®åº“ï¼Œæ­¤æ—¶ A çº¿ç¨‹ä¸å°±ç©ºé—²äº†ä¹ˆï¼Ÿ<br>3. åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼ŒA çº¿ç¨‹å¦‚ä½•é˜»å¡å’Œå”¤é†’ B çº¿ç¨‹ï¼Ÿ<br><br>è°¢è°¢è€å¸ˆï¼","like_count":0},{"had_liked":false,"id":291769,"user_name":"null","can_delete":false,"product_type":"c1","uid":1024294,"ip_address":"","ucode":"F9039EFED6B55D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","comment_is_top":false,"comment_ctime":1620470321,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620470321","product_id":100028001,"comment_content":"Cache-Control: max-age=60å¤©<br>ä¸èƒ½ä¾èµ–æœ¬åœ°æ—¶é—´ï¼Œæµè§ˆå™¨æ€ä¹ˆå»ç»´æŠ¤æ˜¯å¦è¿‡æœŸå–ï¼Ÿ<br><br>è°¢è°¢è€å¸ˆï¼","like_count":0},{"had_liked":false,"id":280094,"user_name":"James","can_delete":false,"product_type":"c1","uid":1134861,"ip_address":"","ucode":"48B0F2A334D1C1","user_header":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","comment_is_top":false,"comment_ctime":1614078721,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614078721","product_id":100028001,"comment_content":"ä½ å¥½ã€‚é—®ç­”é¢˜ã€‚<br><br>ä¸¤ä¸ªå¹¶å‘å†™å»æ›´æ–°è¿˜å­˜åœ¨ä¸€è‡´æ€§çš„é—®é¢˜ã€‚ä¸è¿‡ï¼Œåœ¨åˆ é™¤ç¼“å­˜åï¼Œè®°å¾—è¯»å–æ•°æ®éœ€è¦åŠ é”æˆ–å»¶æ—¶ç­‰å¾…ï¼Œé˜²æ­¢è¯»å–è„æ•°æ®ã€‚<br><br>ä¸€è‡´æ€§é—®é¢˜ç†è§£äº†ï¼Œ<br>åé¢è¯»å–æ•°æ®æ˜¯å¦å¤–ä¸€ä¸ªæŸ¥è¯¢æ¥å£åŠ é”ï¼Ÿ<br>åŸå…ˆæ¥å£åˆ é™¤ç¼“å­˜ï¼Œè¯»å–æ•°æ®åº“æ›´æ–°ç¼“å­˜æ—¶å€™åŠ é”ï¼Ÿ","like_count":0},{"had_liked":false,"id":272461,"user_name":"æ”¾ä¸ä¸‹è£åå¯Œè´µ","can_delete":false,"product_type":"c1","uid":2053679,"ip_address":"","ucode":"9FE29C22B9ABE3","user_header":"https://static001.geekbang.org/account/avatar/00/1f/56/2f/4518f8e1.jpg","comment_is_top":false,"comment_ctime":1610094520,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1610094520","product_id":100028001,"comment_content":"â€œåœ¨å¹¶å‘æƒ…å†µä¸‹ï¼Œå½“ A æ“ä½œä½¿å¾—æ•°æ®å‘ç”Ÿåˆ é™¤å˜æ›´ï¼Œé‚£ä¹ˆè¯¥æ“ä½œä¼šå…ˆåˆ é™¤äº†æ•°æ®åº“çš„æ“ä½œï¼Œæ¥ä¸‹æ¥åˆ é™¤ç¼“å­˜ï¼Œå¤±è´¥äº†â€<br>===========================<br>åˆ é™¤ç¼“å­˜å¤±è´¥å‡ ç‡å¾ˆå°çš„å§ï¼Ÿå¤§æ¦‚ä»€ä¹ˆæƒ…å†µä¼šå‡ºç°å¤±è´¥å‘¢ï¼Ÿé™¤äº†ç½‘ç»œåŸå› ","like_count":0},{"had_liked":false,"id":270927,"user_name":"æƒ˜ é—»","can_delete":false,"product_type":"c1","uid":1181650,"ip_address":"","ucode":"C5909F034BF072","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/d2/0d7ee298.jpg","comment_is_top":false,"comment_ctime":1609320071,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609320071","product_id":100028001,"comment_content":"å¤æ‚çš„è®¡ç®—çš„è¯æ— è®ºæ˜¯åœ¨æ•°æ®åº“æ›´æ–°è¿˜æ˜¯ä¸¤æ–¹éƒ½æ›´æ–°,åªéœ€è¦è®¡ç®—ä¸€æ¬¡ä¸å°±å¤Ÿäº†å˜›?æ¯”å¦‚æ›´æ–°æ•°æ®åº“å­—æ®µ,è¿›è¡Œäº†è¿ç®—åæ›´æ–°å­—æ®µå€¼,ç„¶åç›´æ¥æ‹¿ç€è¿™ä¸ªå€¼æ›´æ–°åˆ°ç¼“å­˜ä¸­ä¸å°±å¯ä»¥å—,ä¸éœ€è¦å†æ¬¡è®¡ç®—å§?ä¸æ˜¯å¾ˆç†è§£è¿™ç§åœºæ™¯å•Š,å¯ä»¥è®²è§£ä¸€ä¸‹å—?","like_count":0},{"had_liked":false,"id":262593,"user_name":"Wheat","can_delete":false,"product_type":"c1","uid":1260141,"ip_address":"","ucode":"7D99EA149B6DE8","user_header":"https://static001.geekbang.org/account/avatar/00/13/3a/6d/910b2445.jpg","comment_is_top":false,"comment_ctime":1605775521,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605775521","product_id":100028001,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œåƒç¼“å­˜ç©¿é€å’Œé›ªå´©è¿™ç§ç¬æ—¶æµé‡å¤§çš„é—®é¢˜ï¼Œæ— æ³•é€šè¿‡MQè§£å†³å—","like_count":0},{"had_liked":false,"id":253223,"user_name":"Wang","can_delete":false,"product_type":"c1","uid":1052957,"ip_address":"","ucode":"9BEFA46433F86B","user_header":"https://static001.geekbang.org/account/avatar/00/10/11/1d/6ad7eb3c.jpg","comment_is_top":false,"comment_ctime":1602655734,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1602655734","product_id":100028001,"comment_content":"è€å¸ˆï¼Œåå•†ç¼“å­˜ä¸­ï¼Œæåˆ°çš„æœåŠ¡å™¨ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡ç«¯è¿”å›Etagå”¯ä¸€æ ‡è¯†ã€‚é‚£è¿™ä¸ªæœåŠ¡å™¨æ˜¯nginxæœåŠ¡å™¨ã€‚è¿˜æ˜¯åº”ç”¨ç¨‹åºæœåŠ¡å™¨ä¸­åº”ç”¨ç»™åŠ çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":166216,"user_name":"insist","can_delete":false,"product_type":"c1","uid":1054536,"ip_address":"","ucode":"1EE2800A900BA7","user_header":"https://static001.geekbang.org/account/avatar/00/10/17/48/3ab39c86.jpg","comment_is_top":false,"comment_ctime":1577417465,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577417465","product_id":100028001,"comment_content":"å·¥ä½œä¸­éƒ½æœ‰æ¶‰åŠåˆ°  ä½†æ˜¯è‡ªå·±ç¼ºä¹æ€»ç»“ï¼Œè¿™ç¯‡æ–‡ç« å¾ˆå¥½","like_count":0},{"had_liked":false,"id":142908,"user_name":"ç»¿é‡Œå¥‡è¿¹","can_delete":false,"product_type":"c1","uid":1173341,"ip_address":"","ucode":"E1E7BC3AAEC86A","user_header":"https://static001.geekbang.org/account/avatar/00/11/e7/5d/a99d32d5.jpg","comment_is_top":false,"comment_ctime":1571580001,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1571580001","product_id":100028001,"comment_content":"â€œå½“é»‘å®¢åˆ©ç”¨å¤§é‡æ²¡æœ‰ç¼“å­˜çš„ key æ”»å‡»ç³»ç»Ÿæ—¶ï¼Œç¼“å­˜çš„å†…å­˜ä¼šè¢«å æ»¡æº¢å‡ºâ€ã€‚ä½†æ˜¯å³ä½¿ä½¿ç”¨bloom filterï¼Œè¿™äº›ä¸å­˜åœ¨çš„keyä¹Ÿä¼šè¢«åˆ¤æ–­ä¸ºä¸å­˜åœ¨ï¼Œäºæ˜¯ç»§ç»­åœ¨ç¼“å­˜ä¸­åˆ›å»ºè¯¥keyï¼Œç›´åˆ°ç¼“å­˜è¢«å æ»¡è¯·é—®ä½¿ç”¨bloom filterä¸ºä»€ä¹ˆèƒ½è§£å†³è¿™ç±»æ•…æ„æ”»å‡»çš„é—®é¢˜ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1186115,"avatar":"https://static001.geekbang.org/account/avatar/00/12/19/43/226ca347.jpg","nickname":"Michael ğŸ›¡YZY","note":"","ucode":"F1D2BF8489A7D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":48163,"discussion_content":"æˆ‘æ¥è¯•ç€è§£ç­”ä¸€ä¸‹ BFilteråº”è¯¥æ˜¯åˆæ­¥è¿‡æ»¤å¯èƒ½å­˜åœ¨çš„key å¦‚æœæ²¡æœ‰å°±ç›´æ¥è¿”å›null","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573455502,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1134861,"avatar":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","nickname":"James","note":"","ucode":"48B0F2A334D1C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350934,"discussion_content":"è¿‡æ»¤å™¨æŸ¥è¯¢ä¸å­˜åœ¨ç›´æ¥è¿”å›ç©ºï¼Œä¸ä¼šåœ¨ç¼“å­˜ä¸­åŠ ç¼“å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614076929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1476000,"avatar":"https://static001.geekbang.org/account/avatar/00/16/85/a0/59213754.jpg","nickname":"å°çŒªğŸ·","note":"","ucode":"50AC5D20D81C01","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338695,"discussion_content":"å¸ƒéš†è¿‡æ»¤å™¨åˆ¤æ–­ä¸å­˜åœ¨åç›´æ¥è¿”å›é»˜è®¤å€¼æˆ–nullï¼Œä¸ä¼šå†åœ¨ç¼“å­˜ä¸­set å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609340587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137539,"user_name":"ğŸ’¢ æ˜Ÿæ˜ŸğŸ’¢","can_delete":false,"product_type":"c1","uid":1254392,"ip_address":"","ucode":"A402B765222C35","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/f8/24fcccea.jpg","comment_is_top":false,"comment_ctime":1569769207,"is_pvip":false,"replies":[{"id":"52883","content":"æ²¡æœ‰ç†è§£é”™ï¼Œé”å’Œæˆ‘æ–‡ä¸­æåˆ°çš„é˜Ÿåˆ—éƒ½æ˜¯è§£å†³redisç¼“å­˜æ•°æ®ä¸€è‡´æ€§é—®é¢˜çš„æ–¹æ¡ˆï¼Œè¿™ç§è§£å†³æ–¹æ¡ˆä¼šå¸¦æ¥ä¸€å®šçš„æ€§èƒ½æŸè€—","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1569813599,"ip_address":"","comment_id":137539,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1569769207","product_id":100028001,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜ï¼Œåˆ†å¸ƒå¼æ›´æ–°æˆ–è€…åˆ é™¤ç¼“å­˜çš„æ—¶å€™ï¼Œä¸ºå•¥ä¸å¯¹è¿™ä¸ªæ“ä½œåŠ é”å‘¢ï¼Œä¾‹å¦‚açº¿ç¨‹æ›´æ–°æˆ–è€…åˆ é™¤ç¼“å­˜ï¼Œå¹¶æ›´æ–°æ•°æ®åº“ï¼Œç„¶åè§£é”ã€‚æ­¤æ—¶bçº¿ç¨‹åœ¨äº‰å¤ºé”ã€‚å¹¶ä¸”æŒæœ‰é”ã€‚æ˜¯ä¸æ˜¯æ€§èƒ½é—®é¢˜ï¼Œæ‰€ä»¥ä¸è¿™æ ·ï¼Œè¿˜æ˜¯æˆ‘ç†è§£é”™äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469142,"discussion_content":"æ²¡æœ‰ç†è§£é”™ï¼Œé”å’Œæˆ‘æ–‡ä¸­æåˆ°çš„é˜Ÿåˆ—éƒ½æ˜¯è§£å†³redisç¼“å­˜æ•°æ®ä¸€è‡´æ€§é—®é¢˜çš„æ–¹æ¡ˆï¼Œè¿™ç§è§£å†³æ–¹æ¡ˆä¼šå¸¦æ¥ä¸€å®šçš„æ€§èƒ½æŸè€—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569813599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1542745,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8a/59/d5aec34a.jpg","nickname":"èƒœ","note":"","ucode":"3D813DC2EFE032","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37829,"discussion_content":"å¦‚æœæ˜¯é›†ç¾¤éƒ¨ç½²locké”è¿˜ç”Ÿæ•ˆå—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571669804,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1254392,"avatar":"https://static001.geekbang.org/account/avatar/00/13/23/f8/24fcccea.jpg","nickname":"ğŸ’¢ æ˜Ÿæ˜ŸğŸ’¢","note":"","ucode":"A402B765222C35","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1542745,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8a/59/d5aec34a.jpg","nickname":"èƒœ","note":"","ucode":"3D813DC2EFE032","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":51331,"discussion_content":"ä¸ç”Ÿæ•ˆï¼Œæˆ‘è¯´çš„æ˜¯åˆ†å¸ƒå¼é”çš„æƒ…å†µï¼Œä¾‹å¦‚åŸºäºzookeeperåšåˆ†å¸ƒå¼çš„æƒ…å†µï¼Œlocké”åªåœ¨åº”ç”¨çº§åˆ«æ‰æœ‰ç”¨ï¼Œè·¨åº”ç”¨ï¼Œè·å–é”èµ„æºéœ€è¦ä¸€ä¸ªåè°ƒè€…ç»´æŠ¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573833875,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":37829,"ip_address":""},"score":51331,"extra":""}]}]},{"had_liked":false,"id":131118,"user_name":"Liam","can_delete":false,"product_type":"c1","uid":1094597,"ip_address":"","ucode":"1D15D3B64F2606","user_header":"https://static001.geekbang.org/account/avatar/00/10/b3/c5/7fc124e2.jpg","comment_is_top":false,"comment_ctime":1567646392,"is_pvip":false,"replies":[{"id":"50231","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567827391,"ip_address":"","comment_id":131118,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567646392","product_id":100028001,"comment_content":"æŠŠæ•°æ®åº“çš„æ•°æ®å…¨éƒ¨åŠ è½½åˆ°bitmap?","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466294,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567827391,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131117,"user_name":"Liam","can_delete":false,"product_type":"c1","uid":1094597,"ip_address":"","ucode":"1D15D3B64F2606","user_header":"https://static001.geekbang.org/account/avatar/00/10/b3/c5/7fc124e2.jpg","comment_is_top":false,"comment_ctime":1567646362,"is_pvip":false,"replies":[{"id":"50235","content":"åˆå§‹åŒ–æ—¶å°†æ•°æ®åŠ è½½åˆ°bit arrayä¸­","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567827470,"ip_address":"","comment_id":131117,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567646362","product_id":100028001,"comment_content":"bloom filteræ€ä¹ˆåˆå§‹åŒ–å‘¢ï¼Ÿåˆšå¼€å§‹bit arrayéƒ½æ˜¯0å§ï¼Œä¸å¯èƒ½ç›´æ¥æ‹’ç»æ‰å‘€ï¼Ÿéš¾é“æ˜¯æŠŠæ•°æ®åº“çš„","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466293,"discussion_content":"åˆå§‹åŒ–æ—¶å°†æ•°æ®åŠ è½½åˆ°bit arrayä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567827470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129644,"user_name":"Maxwell","can_delete":false,"product_type":"c1","uid":1211320,"ip_address":"","ucode":"D28CC11C99F0CE","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/b8/6f47ba1b.jpg","comment_is_top":false,"comment_ctime":1567179683,"is_pvip":false,"replies":[{"id":"50264","content":"ä½¿ç”¨é˜Ÿåˆ—æ¥å¼‚æ­¥æ›´æ–°æ•°æ®ï¼Œæ²¡æœ‰å‹åŠ›","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567828517,"ip_address":"","comment_id":129644,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567179683","product_id":100028001,"comment_content":"è€å¸ˆé«˜å¹¶å‘æ—¶ä¼šä¸ä¼šå¡ï¼Ÿå½±å“ååé‡ï¼Œæ¶‰åŠåˆ°è¦æ›´æ”¹å…¬ç”¨æ•°æ®å¦‚æ¶ˆè´¹ç§¯åˆ†æ€»é‡ã€æ¯å¤©çš„æ¶ˆè´¹ç§¯åˆ†é¢åº¦ï¼Œç°åœ¨æ²¡åŠ é”ï¼Œé æ•°æ®åº“çš„äº‹åŠ¡æ›´æ–°ï¼Œæ‹…å¿ƒä»¥åqpsä¸Šæ¥äº†æ•°æ®åº“æ‰›ä¸ä½","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465581,"discussion_content":"ä½¿ç”¨é˜Ÿåˆ—æ¥å¼‚æ­¥æ›´æ–°æ•°æ®ï¼Œæ²¡æœ‰å‹åŠ›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567828517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129352,"user_name":"å°”å†¬æ©™","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1567093739,"is_pvip":false,"replies":[{"id":"48194","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567130741,"ip_address":"","comment_id":129352,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567093739","product_id":100028001,"comment_content":"æµè§ˆå™¨ç¼“å­˜å°±æ˜¯å¸¸è¯´çš„httpç¼“å­˜ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465412,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567130741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129096,"user_name":"æ’’æ—¦çš„å •è½","can_delete":false,"product_type":"c1","uid":1116864,"ip_address":"","ucode":"15F6AA41EE556F","user_header":"https://static001.geekbang.org/account/avatar/00/11/0a/c0/401c240e.jpg","comment_is_top":false,"comment_ctime":1567042224,"is_pvip":false,"replies":[{"id":"48190","content":"æš‚æ—¶æ²¡æœ‰æƒ³åˆ°æ›´å¥½çš„","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…","uid":"1228576","ctime":1567130567,"ip_address":"","comment_id":129096,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1567042224","product_id":100028001,"comment_content":"è€å¸ˆè¯´ ç¼“å­˜æ•°æ®åº“ä¸€è‡´æ€§é—®é¢˜æ—¶ å½“ä¸€ä¸ªçº¿ç¨‹ç¼“å­˜åˆ é™¤ è€Œæ•°æ®åº“ä¸­æ²¡æœ‰æ¥å¾—åŠåˆ é™¤æ—¶ å¦ä¸€ä¸ªçº¿ç¨‹æ¥è¯·æ±‚æ•°æ®  å‘ç°ç¼“å­˜ä¸­æ•°æ®ä¸å­˜åœ¨å»é˜Ÿåˆ—ä¸­åˆ¤æ–­ å¦‚æœæ•°æ®åœ¨æ›´æ–°ä¸­ åˆ™ç­‰å¾… ç„¶åå”¤é†’  ä¸è¿‡å¦‚æœæ˜¯ä¸åŒè¿›ç¨‹ä¸­çš„çº¿ç¨‹å‘¢ æ€ä¹ˆå”¤é†’ï¼Ÿæ„Ÿè§‰è¿™ç§æ–¹å¼è¦ç»´æŠ¤çš„æ•°æ®æ›´å¤šäº† è¦æŠŠåˆ é™¤çš„ç¼“å­˜å–å‡ºæ¥æ”¾åˆ°é˜Ÿåˆ—ä¸­  ç„¶åæ›´æ–°å®Œæˆå è¿˜è¦åˆ é™¤é˜Ÿåˆ—ä¸­çš„æ•°æ® ä¸ºäº†åº”å¯¹åˆ†å¸ƒå¼çš„æƒ…å†µ  è¿˜è¦ä½¿ç”¨çš„æ˜¯åˆ†å¸ƒå¼é˜Ÿåˆ—  æ•ˆç‡å˜ä½äº†  æœ‰æœ¨æœ‰æ›´å¥½çš„åŠæ³•å‘¢","like_count":0,"discussions":[{"author":{"id":1228576,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bf/20/19d42715.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"CD56F93596E818","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465274,"discussion_content":"æš‚æ—¶æ²¡æœ‰æƒ³åˆ°æ›´å¥½çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567130567,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1307497,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f3/69/7039d03f.jpg","nickname":"ä¹¦ç­–ç¨ æµŠ","note":"","ucode":"A29875CE15FDA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392624,"discussion_content":"ä¸€è‡´æ€§è¦æ±‚é«˜ï¼Œä¸”æ›´æ–°å¹¶å‘é«˜çš„åœºæ™¯ä¸é€‚ç”¨ç¼“å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631076728,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
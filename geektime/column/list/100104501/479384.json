{"id":479384,"title":"01ï½œæŠ€æœ¯æ¦‚è§ˆï¼šeBPFçš„å‘å±•å†ç¨‹åŠå·¥ä½œåŸç†","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å€ªæœ‹é£ã€‚</p><p>åœ¨æ­£å¼ä»‹ç» eBPF çš„ä½¿ç”¨æ–¹æ³•å’Œå…·ä½“åº”ç”¨ä¹‹å‰ï¼Œæˆ‘ä¼šç”¨ä¸¤è®²çš„å†…å®¹ï¼Œå¸¦ä½ äº†è§£eBPFçš„æŠ€æœ¯è„‰ç»œå’Œå­¦ä¹ è·¯çº¿ï¼Œä¸ºä½ åé¢çš„å­¦ä¹ åšå¥½å‡†å¤‡ã€‚</p><p>åœ¨å¼€ç¯‡è¯é‡Œï¼Œæˆ‘å¸¦ä½ ä¸€èµ·äº†è§£äº†è¿™é—¨è¯¾çš„è®¾è®¡æ€è·¯å’Œä¸»è¦å†…å®¹ï¼Œä¹Ÿç®€å•ä»‹ç»äº† eBPF çš„ä¸»è¦åº”ç”¨åœºæ™¯ï¼ŒåŒ…æ‹¬æ•…éšœè¯Šæ–­ã€ç½‘ç»œä¼˜åŒ–ã€å®‰å…¨æ§åˆ¶ã€æ€§èƒ½ç›‘æ§ç­‰ã€‚é‚£ä½ å¯èƒ½å°±è¦é—®äº†ï¼šä¸ºä»€ä¹ˆ eBPF å¯ä»¥åº”ç”¨åˆ°è¿™ä¹ˆå¹¿æ³›çš„é¢†åŸŸå‘¢ï¼Ÿ</p><p>eBPF å¹¿æ³›çš„åº”ç”¨åœºæ™¯å’Œå¼ºå¤§çš„åŠŸèƒ½ï¼Œè·Ÿå®ƒçš„å‘å±•å†ç¨‹ã€åŸºæœ¬åŸç†å¯†åˆ‡ç›¸å…³ã€‚é‚£ä¹ˆï¼ŒeBPF çš„å‘å±•å†ç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿå®ƒåˆæ˜¯å¦‚ä½•åœ¨ç¡®ä¿å®‰å…¨çš„å‰æä¸‹ï¼Œå…è®¸éå†…æ ¸å¼€å‘è€…å»æ‰©å±•å†…æ ¸çš„åŠŸèƒ½çš„å‘¢ï¼Ÿä»Šå¤©ï¼Œæˆ‘å°±å¸¦ä½ ä¸€èµ·æ¥çœ‹çœ‹è¿™äº›é—®é¢˜ã€‚</p><h2>eBPF çš„å‘å±•å†ç¨‹æ˜¯ä»€ä¹ˆæ ·çš„?</h2><p>åœ¨å¼€ç¯‡è¯ä¸­ï¼Œæˆ‘æ›¾ç»æåˆ°ï¼ŒeBPF æ˜¯ä» BPF (Berkeley Packet Filter) æŠ€æœ¯æ‰©å±•è€Œæ¥çš„ã€‚è€Œè¯´èµ· BPFï¼Œå®ƒçš„å†å²å°±æ›´æ‚ é•¿äº†ã€‚</p><p>æ—©åœ¨ 1992 å¹´çš„ USENIX ä¼šè®®ä¸Šï¼ŒSteven McCanne å’Œ Van Jacobson å‘å¸ƒçš„è®ºæ–‡â€œ<a href=\"https://www.tcpdump.org/papers/bpf-usenix93.pdf\">The BSD Packet Filter: A New Architecture for User-level Packet Capture</a>â€ å°±ä¸º BSD æ“ä½œç³»ç»Ÿå¸¦æ¥äº†é©å‘½æ€§çš„åŒ…è¿‡æ»¤æœºåˆ¶ BSD Packet Filterï¼ˆç®€ç§°ä¸º BPFï¼‰ï¼Œè¿™æ¯”å½“æ—¶æœ€å…ˆè¿›çš„æ•°æ®åŒ…è¿‡æ»¤æŠ€æœ¯è¿˜å¿« 20 å€ã€‚ä¸ºä»€ä¹ˆæ€§èƒ½è¿™ä¹ˆå¥½å‘¢ï¼Ÿè¿™ä¸»è¦å¾—ç›Šäº BPF çš„ä¸¤å¤§è®¾è®¡ï¼š</p><!-- [[[read_end]]] --><ul>\n<li>ç¬¬ä¸€ï¼Œå†…æ ¸æ€å¼•å…¥ä¸€ä¸ªæ–°çš„è™šæ‹Ÿæœºï¼Œæ‰€æœ‰æŒ‡ä»¤éƒ½åœ¨å†…æ ¸è™šæ‹Ÿæœºä¸­è¿è¡Œã€‚</li>\n<li>ç¬¬äºŒï¼Œç”¨æˆ·æ€ä½¿ç”¨ BPF å­—èŠ‚ç æ¥å®šä¹‰è¿‡æ»¤è¡¨è¾¾å¼ï¼Œç„¶åä¼ é€’ç»™å†…æ ¸ï¼Œç”±å†…æ ¸è™šæ‹Ÿæœºè§£é‡Šæ‰§è¡Œã€‚</li>\n</ul><p>è¿™å°±ä½¿å¾—åŒ…è¿‡æ»¤å¯ä»¥ç›´æ¥åœ¨å†…æ ¸ä¸­æ‰§è¡Œï¼Œé¿å…äº†å‘ç”¨æˆ·æ€å¤åˆ¶æ¯ä¸ªæ•°æ®åŒ…ï¼Œä»è€Œæå¤§æå‡äº†åŒ…è¿‡æ»¤çš„æ€§èƒ½ï¼Œè¿›è€Œè¢«å„å¤§æ“ä½œç³»ç»Ÿå¹¿æ³›æ¥å—ã€‚BPF æœ€åˆçš„åå­— BSD Packet Filter ï¼Œä¹Ÿè¢«ä½œè€…çš„å·¥ä½œå•ä½åæ‰€æ›¿ä»£ï¼Œå˜æˆäº† Berkeley Packet Filterï¼ˆå¾ˆå·§çš„æ˜¯ï¼Œè¿˜æ˜¯ç®€ç§° BPFï¼‰ã€‚</p><p>åœ¨ BPF è¯ç”Ÿäº”å¹´åï¼ŒLinux 2.1.75 é¦–æ¬¡å¼•å…¥äº† BPF æŠ€æœ¯ï¼Œéšå&nbsp;BPF å¼€å§‹äº†ä¸æ¸©ä¸ç«çš„å‘å±•å†ç¨‹ã€‚å…¶ä¸­ï¼ŒLinux 3.0 ä¸­å¢åŠ çš„ BPF å³æ—¶ç¼–è¯‘å™¨å¯ä»¥ç®—æ˜¯ä¸€ä¸ªæœ€é‡å¤§çš„æ›´æ–°äº†ã€‚å®ƒæ›¿æ¢æ‰äº†åŸæœ¬æ€§èƒ½æ›´å·®çš„è§£é‡Šå™¨ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–äº† BPF æŒ‡ä»¤è¿è¡Œçš„æ•ˆç‡ã€‚ä½†ç›´åˆ°æ­¤æ—¶ï¼ŒBPF çš„åº”ç”¨è¿˜æ˜¯ä»…é™äºç½‘ç»œåŒ…è¿‡æ»¤è¿™ä¸ªä¼ ç»Ÿçš„é¢†åŸŸä¸­ã€‚</p><p>æ—¶é—´åˆ°äº† 2014 å¹´ã€‚ä¸ºäº†ç ”ç©¶æ–°çš„è½¯ä»¶å®šä¹‰ç½‘ç»œæ–¹æ¡ˆï¼ŒAlexei Starovoitov ä¸º BPF å¸¦æ¥äº†ç¬¬ä¸€æ¬¡é©å‘½æ€§çš„æ›´æ–°ï¼Œå°† BPF æ‰©å±•ä¸ºä¸€ä¸ªé€šç”¨çš„è™šæ‹Ÿæœºï¼Œä¹Ÿå°±æ˜¯ eBPFã€‚eBPF ä¸ä»…æ‰©å±•äº†å¯„å­˜å™¨çš„æ•°é‡ï¼Œå¼•å…¥äº†å…¨æ–°çš„ BPF æ˜ å°„å­˜å‚¨ï¼Œè¿˜åœ¨ 4.x å†…æ ¸ä¸­å°†åŸæœ¬å•ä¸€çš„æ•°æ®åŒ…è¿‡æ»¤äº‹ä»¶é€æ­¥æ‰©å±•åˆ°äº†å†…æ ¸æ€å‡½æ•°ã€ç”¨æˆ·æ€å‡½æ•°ã€è·Ÿè¸ªç‚¹ã€æ€§èƒ½äº‹ä»¶ï¼ˆperf_eventsï¼‰ä»¥åŠå®‰å…¨æ§åˆ¶ç­‰ã€‚</p><p><strong>eBPF çš„è¯ç”Ÿæ˜¯ BPF æŠ€æœ¯çš„ä¸€ä¸ªè½¬æŠ˜ç‚¹ï¼Œä½¿å¾— BPF ä¸å†ä»…é™äºç½‘ç»œæ ˆï¼Œè€Œæ˜¯æˆä¸ºå†…æ ¸çš„ä¸€ä¸ªé¡¶çº§å­ç³»ç»Ÿã€‚</strong></p><p>åœ¨å†…æ ¸å‘å±•çš„åŒæ—¶ï¼ŒeBPF ç¹è£çš„ç”Ÿæ€ä¹Ÿè¿›ä¸€æ­¥ä¿ƒè¿›äº† eBPF çš„è“¬å‹ƒå‘å±•ã€‚è¿™å…¶ä¸­ï¼Œæœ€å…¸å‹çš„å°±æ˜¯ iovisor å¸¦æ¥çš„ BCCã€bpftrace ç­‰å·¥å…·ï¼Œæˆä¸º eBPF åœ¨è·Ÿè¸ªå’Œæ’é”™é¢†åŸŸçš„æœ€ä½³å®è·µã€‚ç”±äº eBPF æ— éœ€ä¿®æ”¹å†…æ ¸æºç å’Œé‡æ–°ç¼–è¯‘å†…æ ¸å°±å¯ä»¥æ‰©å±•å†…æ ¸çš„åŠŸèƒ½ï¼ŒCiliumã€Katranã€Falco ç­‰ä¸€ç³»åˆ—åŸºäº eBPF ä¼˜åŒ–ç½‘ç»œå’Œå®‰å…¨çš„å¼€æºé¡¹ç›®ä¹Ÿé€æ­¥è¯ç”Ÿã€‚å¹¶ä¸”ï¼Œè¶Šæ¥è¶Šå¤šçš„å¼€æºå’Œå•†ä¸šè§£å†³æ–¹æ¡ˆå¼€å§‹å€ŸåŠ© eBPFï¼Œä¼˜åŒ–å…¶ç½‘ç»œã€å®‰å…¨ä»¥åŠè§‚æµ‹çš„æ€§èƒ½ã€‚æ¯”å¦‚ï¼Œæœ€æµè¡Œçš„ç½‘ç»œè§£å†³æ–¹æ¡ˆä¹‹ä¸€ Calicoï¼Œå°±åœ¨æœ€è¿‘çš„ç‰ˆæœ¬ä¸­å¼•å…¥äº† <a href=\"https://www.tigera.io/blog/introducing-the-calico-ebpf-dataplane/\">eBPF æ•°æ®é¢ç½‘ç»œ</a>ï¼Œå¤§å¤§æå‡äº†ç½‘ç»œçš„æ€§èƒ½ã€‚</p><p>ä¸ºäº†å¸®ä½ æ›´å¥½åœ°ç†è§£ eBPF çš„å‘å±•å†ç¨‹ï¼Œæˆ‘æŠŠ eBPF è¯ç”Ÿä»¥æ¥çš„å‘å±•è¿‡ç¨‹æ•´ç†æˆäº†ä¸€å¼ å›¾ç‰‡ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/b4/ff/b44562381748de369b50403219c0d1ff.jpg?wh=2284x7454\" alt=\"\" title=\"eBPF å‘å±•å†ç¨‹\"></p><p>ç›´åˆ°ä»Šå¤©ï¼ŒeBPF ä¾ç„¶æ˜¯å†…æ ¸ç¤¾åŒºæœ€æ´»è·ƒçš„å­æ¨¡å—ä¹‹ä¸€ï¼Œè¿˜å¤„åœ¨ä¸€ä¸ªå¿«é€Ÿå‘å±•çš„è¿‡ç¨‹ä¸­ã€‚å¯ä»¥è¯´ï¼Œ<strong>eBPF å¼€å¯çš„åˆ›æ–°æ‰åˆšåˆšå¼€å§‹</strong>ï¼Œåœ¨æœªæ¥æˆ‘ä»¬ä¼šçœ‹åˆ°æ›´å¤šçš„åˆ›æ–°æ¡ˆä¾‹ã€‚æ­£æ˜¯ä¸ºäº†ç¡®ä¿æ¯ä¸ª eBPF å­¦ä¹ è€…ä¸æ‰é˜Ÿï¼Œæˆ‘ä»¬æŠŠè¿™é—¨è¯¾è®¾è®¡æˆäº†åŠ¨æ€å‘å¸ƒçš„å½¢å¼ï¼Œå¸¦ä½ éšæ—¶è·Ÿè¸ªè¿™äº›æœ€æ–°çš„å‘å±•å’Œæ¡ˆä¾‹ã€‚</p><p>äº†è§£äº† eBPF çš„è¯ç”Ÿè¿‡ç¨‹åï¼Œè¿˜æœ‰ä¸€ç‚¹éœ€è¦ä½ ç•™æ„ï¼šåœ¨å†…æ ¸ç¤¾åŒºçš„å¼€å‘è®¨è®ºä¸­ï¼Œé€šå¸¸è¿˜æ˜¯ä½¿ç”¨ BPF è¿™ä¸ªç¼©ç•¥è¯ï¼Œè€Œåœ¨å¾ˆå¤šåº”ç”¨çš„æ–‡æ¡£ä¸­å¯èƒ½ä¼šå€¾å‘ä½¿ç”¨ eBPFã€‚å…¶å®å®ƒä»¬çš„å«ä¹‰æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯æŒ‡æ‰©å±•ç‰ˆçš„ BPFã€‚</p><h2>eBPF æ˜¯æ€ä¹ˆå·¥ä½œçš„?</h2><p>eBPF ç¨‹åºå¹¶ä¸åƒå¸¸è§„çš„çº¿ç¨‹é‚£æ ·ï¼Œå¯åŠ¨åå°±ä¸€ç›´è¿è¡Œåœ¨é‚£é‡Œï¼Œå®ƒéœ€è¦äº‹ä»¶è§¦å‘åæ‰ä¼šæ‰§è¡Œã€‚è¿™äº›äº‹ä»¶åŒ…æ‹¬ç³»ç»Ÿè°ƒç”¨ã€å†…æ ¸è·Ÿè¸ªç‚¹ã€å†…æ ¸å‡½æ•°å’Œç”¨æˆ·æ€å‡½æ•°çš„è°ƒç”¨é€€å‡ºã€ç½‘ç»œäº‹ä»¶ï¼Œç­‰ç­‰ã€‚å€ŸåŠ©äºå¼ºå¤§çš„å†…æ ¸æ€æ’æ¡©ï¼ˆkprobeï¼‰å’Œç”¨æˆ·æ€æ’æ¡©ï¼ˆuprobeï¼‰ï¼ŒeBPF ç¨‹åºå‡ ä¹å¯ä»¥åœ¨å†…æ ¸å’Œåº”ç”¨çš„ä»»æ„ä½ç½®è¿›è¡Œæ’æ¡©ã€‚</p><p>çœ‹åˆ°è¿™ä¸ªä»¤äººæƒŠå¹çš„èƒ½åŠ›ï¼Œä½ ä¸€å®šæœ‰ç–‘é—®ï¼šè¿™ä¼šä¸ä¼šåƒå†…æ ¸æ¨¡å—ä¸€æ ·ï¼Œä¸€ä¸ªå¼‚å¸¸çš„ eBPF ç¨‹åºå°±ä¼šæŸåæ•´ä¸ªå†…æ ¸çš„ç¨³å®šæ€§å‘¢ï¼Ÿå…¶å®ï¼Œ<strong>ç¡®ä¿å®‰å…¨å’Œç¨³å®šä¸€ç›´éƒ½æ˜¯ eBPF çš„é¦–è¦ä»»åŠ¡</strong>ï¼Œä¸å®‰å…¨çš„ eBPF ç¨‹åºæ ¹æœ¬å°±ä¸ä¼šæäº¤åˆ°å†…æ ¸è™šæ‹Ÿæœºä¸­æ‰§è¡Œã€‚</p><p>Linux å†…æ ¸æ˜¯å¦‚ä½•å®ç° eBPF ç¨‹åºçš„å®‰å…¨å’Œç¨³å®šçš„å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œæˆ‘å¸¦ä½ çœ‹ä¸ª eBPF ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ï¼Œä½ å°±æ˜ç™½äº†ã€‚</p><p>å¦‚ä¸‹å›¾ï¼ˆå›¾ç‰‡æ¥è‡ª<a href=\"https://www.brendangregg.com/ebpf.html\">brendangregg.com</a>ï¼‰æ‰€ç¤ºï¼Œé€šå¸¸æˆ‘ä»¬å€ŸåŠ© <a href=\"https://llvm.org/\">LLVM</a> æŠŠç¼–å†™çš„ eBPF ç¨‹åºè½¬æ¢ä¸º BPF å­—èŠ‚ç ï¼Œç„¶åå†é€šè¿‡ bpf ç³»ç»Ÿè°ƒç”¨æäº¤ç»™å†…æ ¸æ‰§è¡Œã€‚å†…æ ¸åœ¨æ¥å— BPF å­—èŠ‚ç ä¹‹å‰ï¼Œä¼šé¦–å…ˆé€šè¿‡éªŒè¯å™¨å¯¹å­—èŠ‚ç è¿›è¡Œæ ¡éªŒï¼Œåªæœ‰æ ¡éªŒé€šè¿‡çš„ BPF å­—èŠ‚ç æ‰ä¼šæäº¤åˆ°å³æ—¶ç¼–è¯‘å™¨æ‰§è¡Œã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a7/6a/a7165eea1fd9fc24090a3a1e8987986a.png?wh=1500x550\" alt=\"å›¾ç‰‡\" title=\"eBPF ç¨‹åºæ‰§è¡Œè¿‡ç¨‹\"></p><p>å¦‚æœ BPF å­—èŠ‚ç ä¸­åŒ…å«äº†ä¸å®‰å…¨çš„æ“ä½œï¼ŒéªŒè¯å™¨ä¼šç›´æ¥æ‹’ç» BPF ç¨‹åºçš„æ‰§è¡Œã€‚æ¯”å¦‚ï¼Œä¸‹é¢å°±æ˜¯ä¸€äº›å…¸å‹çš„éªŒè¯è¿‡ç¨‹ï¼š</p><ul>\n<li>åªæœ‰ç‰¹æƒè¿›ç¨‹æ‰å¯ä»¥æ‰§è¡Œ bpf ç³»ç»Ÿè°ƒç”¨ï¼›</li>\n<li>BPF ç¨‹åºä¸èƒ½åŒ…å«æ— é™å¾ªç¯ï¼›</li>\n<li>BPF ç¨‹åºä¸èƒ½å¯¼è‡´å†…æ ¸å´©æºƒï¼›</li>\n<li>BPF ç¨‹åºå¿…é¡»åœ¨æœ‰é™æ—¶é—´å†…å®Œæˆã€‚</li>\n</ul><p>BPF ç¨‹åºå¯ä»¥åˆ©ç”¨ BPF æ˜ å°„ï¼ˆmapï¼‰è¿›è¡Œå­˜å‚¨ï¼Œè€Œç”¨æˆ·ç¨‹åºé€šå¸¸ä¹Ÿéœ€è¦é€šè¿‡ BPF æ˜ å°„åŒè¿è¡Œåœ¨å†…æ ¸ä¸­çš„ BPF ç¨‹åºè¿›è¡Œäº¤äº’ã€‚å¦‚ä¸‹å›¾ï¼ˆå›¾ç‰‡æ¥è‡ª<a href=\"https://ebpf.io/what-is-ebpf\">ebpf.io</a>ï¼‰æ‰€ç¤ºï¼Œåœ¨æ€§èƒ½è§‚æµ‹ä¸­ï¼ŒBPF ç¨‹åºæ”¶é›†å†…æ ¸è¿è¡ŒçŠ¶æ€å­˜å‚¨åœ¨æ˜ å°„ä¸­ï¼Œç”¨æˆ·ç¨‹åºå†ä»æ˜ å°„ä¸­è¯»å‡ºè¿™äº›çŠ¶æ€ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/53/dd/53af7f7db99c3ca57f981f00303949dd.png?wh=1401x733\" alt=\"å›¾ç‰‡\" title=\"BPF æ˜ å°„\"></p><p>å¯ä»¥çœ‹åˆ°ï¼ŒeBPF ç¨‹åºçš„è¿è¡Œéœ€è¦å†ç»ç¼–è¯‘ã€åŠ è½½ã€éªŒè¯å’Œå†…æ ¸æ€æ‰§è¡Œç­‰è¿‡ç¨‹ï¼Œè€Œç”¨æˆ·æ€ç¨‹åºåˆ™éœ€è¦å€ŸåŠ© BPF æ˜ å°„æ¥è·å–å†…æ ¸æ€ eBPF ç¨‹åºçš„è¿è¡ŒçŠ¶æ€ã€‚</p><h2>eBPF æ˜¯ä¸‡èƒ½çš„å—?</h2><p>çœ‹åˆ°è¿™é‡Œï¼Œä½ æ˜¯ä¸æ˜¯å› ä¸º eBPF åœ¨æ‰©å±•å†…æ ¸åŠŸèƒ½ä¸Šçš„å¼ºå¤§èƒ½åŠ›è€Œå…´å¥‹ä¸å·²ï¼Ÿæˆ‘çŒœä½ å·²ç»è¿«ä¸åŠå¾…æƒ³è¦ä½“éªŒä¸€ä¸‹äº†ã€‚ä¸è¿‡ï¼Œåœ¨ä½ ä½“éªŒä¹‹å‰ï¼Œæˆ‘è¿˜è¦æé†’ä½ ä¸€ç‚¹ï¼šeBPF å¹¶ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå®ƒä¹Ÿæœ‰å¾ˆå¤šçš„å±€é™æ€§ã€‚ä¸‹é¢æ˜¯ä¸€äº›æœ€å¸¸è§çš„&nbsp;eBPF é™åˆ¶ï¼š</p><ul>\n<li>eBPF ç¨‹åºå¿…é¡»è¢«éªŒè¯å™¨æ ¡éªŒé€šè¿‡åæ‰èƒ½æ‰§è¡Œï¼Œä¸”ä¸èƒ½åŒ…å«æ— æ³•åˆ°è¾¾çš„æŒ‡ä»¤ï¼›</li>\n<li>eBPF ç¨‹åºä¸èƒ½éšæ„è°ƒç”¨å†…æ ¸å‡½æ•°ï¼Œåªèƒ½è°ƒç”¨åœ¨ API ä¸­å®šä¹‰çš„è¾…åŠ©å‡½æ•°ï¼›</li>\n<li>eBPF ç¨‹åºæ ˆç©ºé—´æœ€å¤šåªæœ‰ 512 å­—èŠ‚ï¼Œæƒ³è¦æ›´å¤§çš„å­˜å‚¨ï¼Œå°±å¿…é¡»è¦å€ŸåŠ©æ˜ å°„å­˜å‚¨ï¼›</li>\n<li>åœ¨å†…æ ¸ 5.2 ä¹‹å‰ï¼ŒeBPF å­—èŠ‚ç æœ€å¤šåªæ”¯æŒ 4096 æ¡æŒ‡ä»¤ï¼Œè€Œ 5.2 å†…æ ¸æŠŠè¿™ä¸ªé™åˆ¶æé«˜åˆ°äº† 100 ä¸‡æ¡ï¼›</li>\n<li>ç”±äºå†…æ ¸çš„å¿«é€Ÿå˜åŒ–ï¼Œåœ¨ä¸åŒç‰ˆæœ¬å†…æ ¸ä¸­è¿è¡Œæ—¶ï¼Œéœ€è¦è®¿é—®å†…æ ¸æ•°æ®ç»“æ„çš„ eBPF ç¨‹åºå¾ˆå¯èƒ½éœ€è¦è°ƒæ•´æºç ï¼Œå¹¶é‡æ–°ç¼–è¯‘ã€‚</li>\n</ul><p>æ­¤å¤–ï¼Œè™½ç„¶ Linux å†…æ ¸å¾ˆæ—©å°±å·²ç»æ”¯æŒäº† eBPFï¼Œä½†å¾ˆå¤šæ–°ç‰¹æ€§éƒ½æ˜¯åœ¨ 4.x ç‰ˆæœ¬ä¸­é€æ­¥å¢åŠ çš„ï¼Œå…·ä½“ä½ å¯ä»¥çœ‹ä¸‹<a href=\"https://github.com/iovisor/bcc/blob/master/docs/kernel-versions.md#main-features\">è¿™ä¸ªé“¾æ¥</a>ã€‚æ‰€ä»¥ï¼Œæƒ³è¦ç¨³å®šè¿è¡Œ eBPF ç¨‹åºï¼Œ<strong>å†…æ ¸ç‰ˆæœ¬è‡³å°‘éœ€è¦ 4.9 æˆ–è€…æ›´æ–°</strong>ã€‚è€Œåœ¨å¼€å‘å’Œå­¦ä¹  eBPF æ—¶ï¼Œ<strong>ä¸ºäº†ä½“éªŒæœ€æ–°çš„ eBPF ç‰¹æ€§ï¼Œæˆ‘æ¨èä½¿ç”¨æ›´æ–°çš„ 5.x å†…æ ¸</strong>ã€‚åœ¨è¿™é—¨è¯¾åé¢çš„å†…å®¹ä¸­ï¼Œæˆ‘è¿˜ä¼šç»™ä½ è¯¦ç»†è®²è§£å¼€å‘ç¯å¢ƒçš„æ­å»ºæ­¥éª¤ï¼Œä»¥åŠæ¨èçš„ Linux&nbsp;å‘è¡Œç‰ˆã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©ï¼Œæˆ‘å¸¦ä½ ä¸€èµ·æ¢ç´¢äº† eBPF æŠ€æœ¯çš„å‘å±•å†ç¨‹ï¼Œå¹¶æ¢³ç†äº† eBPF çš„å·¥ä½œåŸç†ã€‚</p><p>eBPF æ˜¯ä» BPF æŠ€æœ¯æ‰©å±•è€Œæ¥çš„ã€‚BPF å‡ºç°åï¼Œä¸€ç›´éƒ½æ˜¯ç½‘ç»œæ•°æ®åŒ…è¿‡æ»¤çš„æ ¸å¿ƒï¼Œä½†ç›´åˆ° eBPF è¯ç”Ÿå‰ï¼ŒBPF éƒ½ä»…ç”¨äºåŒ…è¿‡æ»¤è¿™ä¸ªåœºæ™¯ä¸­ã€‚eBPF çš„è¯ç”Ÿæ˜¯ BPF æŠ€æœ¯çš„ä¸€ä¸ªè½¬æŠ˜ç‚¹ï¼Œä½¿å®ƒçš„åº”ç”¨èŒƒå›´é€æ­¥ä»åŒ…è¿‡æ»¤æ‰©å±•åˆ°å†…æ ¸å‡½æ•°ã€ç”¨æˆ·å‡½æ•°ã€è·Ÿè¸ªç‚¹ã€æ€§èƒ½äº‹ä»¶ã€å®‰å…¨æ§åˆ¶ç­‰å…¨æ–°çš„é¢†åŸŸä¸­ã€‚è€Œè¿™ä¹Ÿè¿›ä¸€æ­¥å‚¬ç”Ÿäº†Ciliumã€Katranã€Falco ç­‰ä¸€å¤§æ‰¹åŸºäº eBPF æ„å»ºçš„ç½‘ç»œå’Œå®‰å…¨è§£å†³æ–¹æ¡ˆï¼Œå½¢æˆäº†ç¹è£çš„ eBPF ç”Ÿæ€ã€‚</p><p>eBPF ç¨‹åºä»¥å†…æ ¸äº‹ä»¶è§¦å‘çš„æ–¹å¼è¿è¡Œï¼Œå¹¶ä¸”å…¶è¿è¡Œè¿‡ç¨‹åŒ…æ‹¬ç¼–è¯‘ã€åŠ è½½ã€éªŒè¯å’Œå†…æ ¸æ€æ‰§è¡Œç­‰ã€‚ä¸ºäº†ä¿æŠ¤å†…æ ¸çš„å®‰å…¨å’Œç¨³å®šï¼Œå¦‚æœç¼–è¯‘å BPF å­—èŠ‚ç ä¸­åŒ…å«äº†ä¸å®‰å…¨çš„æ“ä½œï¼ŒéªŒè¯é˜¶æ®µä¼šç›´æ¥æ‹’ç» BPF ç¨‹åºçš„æ‰§è¡Œã€‚</p><p>ä¸è¿‡ï¼Œéœ€è¦æé†’ä½ çš„æ˜¯ï¼šä¸ºäº†ç¡®ä¿å®‰å…¨å’Œç¨³å®šï¼ŒeBPF ç¨‹åºä¹Ÿæœ‰å¾ˆå¤šçš„é™åˆ¶ï¼Œè¿™æ˜¯ä½ åœ¨åç»­çš„å­¦ä¹ è¿‡ç¨‹ä¸­éœ€è¦ç‰¹åˆ«ç•™å¿ƒçš„ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>åœ¨è¿™ä¸€è®²çš„æœ€åï¼Œæƒ³å’Œä½ äº¤æµçš„é—®é¢˜æ˜¯ï¼šåœ¨ä¹‹å‰çš„å­¦ä¹ å’Œå·¥ä½œä¸­ï¼Œä½ æœ‰æ²¡æœ‰ä½¿ç”¨è¿‡ eBPF å‘¢ï¼Ÿå¦‚æœä½¿ç”¨è¿‡ï¼Œä½ åˆç”¨ eBPF è§£å†³è¿‡å“ªäº›å®é™…çš„é—®é¢˜å‘¢ï¼ŸæœŸå¾…ä½ åœ¨ç•™è¨€åŒºåˆ†äº«ï¼Œå¹¶å’Œæˆ‘äº¤æµè®¨è®ºã€‚</p><p>ä»Šå¤©çš„å†…å®¹åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™ä½ çš„åŒäº‹å’Œæœ‹å‹ï¼Œæˆ‘ä»¬ä¸‹ä¸€è®²è§ã€‚</p>","comments":[{"had_liked":false,"id":331099,"user_name":"å¤§å«æ","can_delete":false,"product_type":"c1","uid":1012163,"ip_address":"","ucode":"CFEB849481BCB3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/71/c3/09e22c1d.jpg","comment_is_top":false,"comment_ctime":1642420835,"is_pvip":false,"replies":[{"id":120924,"content":"æ¬¢è¿åœ¨ç•™è¨€åŒºè·ŸåŒå­¦ä»¬åˆ†äº«å­¦ä¹ ä¸­çš„é—®é¢˜å’Œç»éªŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001282,"ctime":1642425835,"ip_address":"","comment_id":331099,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"éå¸¸é«˜å…´çœ‹åˆ°eBPFæŠ€æœ¯èƒ½åœ¨æå®¢æ—¶é—´å¼€å­¦ä¹ ä¸“æ äº†ï¼Œç®—æ˜¯ä¸­æ–‡åœˆçš„ä¸€ä¸ªé‡Œç¨‹ç¢‘ï¼æœ¬äººä¹Ÿåœ¨ä¸€ç›´å­¦ä¹ bpfæŠ€æœ¯ï¼ˆä¹Ÿç®€å•å†™äº†å‘å±•å²ï¼šhttps:&#47;&#47;davidlovezoe.club&#47;bpf ï¼‰ï¼Œå¸Œæœ›è·Ÿå€ªè€å¸ˆåŠå¤§å®¶å…±å‹‰ã€‚","like_count":24,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546791,"discussion_content":"æ¬¢è¿åœ¨ç•™è¨€åŒºè·ŸåŒå­¦ä»¬åˆ†äº«å­¦ä¹ ä¸­çš„é—®é¢˜å’Œç»éªŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642425835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1012735,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/73/ff/e5423989.jpg","nickname":"ç½—è¿›","note":"","ucode":"2E14721531A07C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546981,"discussion_content":"@å¤§å«æ å‚¬æ›´BPF MAP 2 ğŸ˜„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1642487720,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254489,"avatar":"https://static001.geekbang.org/account/avatar/00/13/24/59/e9867100.jpg","nickname":"Unknown","note":"","ucode":"5FBF3D1044CA20","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546822,"discussion_content":"è°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642432752,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331204,"user_name":"ä½™ç”Ÿ","can_delete":false,"product_type":"c1","uid":2421369,"ip_address":"","ucode":"AEF6C96738F03B","user_header":"https://static001.geekbang.org/account/avatar/00/24/f2/79/b2012f53.jpg","comment_is_top":false,"comment_ctime":1642483891,"is_pvip":false,"replies":[{"id":121071,"content":"è°¢è°¢å¯¹ä¸“æ çš„æ”¯æŒï¼Œæˆ‘ä»¬ä¸€èµ·åŠ æ²¹ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001282,"ctime":1642594016,"ip_address":"","comment_id":331204,"utype":1}],"discussion_count":1,"race_medal":1,"score":2,"product_id":100104501,"comment_content":"æå®¢ä¸Šç‰¹åˆ«å–œæ¬¢çš„å‡ ä½å¤§å’–è€å¸ˆï¼Œå€ªæœ‹é£ã€é™¶è¾‰ã€åˆ˜è¶…ã€å½­ä¸œï¼","like_count":10,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547241,"discussion_content":"è°¢è°¢å¯¹ä¸“æ çš„æ”¯æŒï¼Œæˆ‘ä»¬ä¸€èµ·åŠ æ²¹ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642594016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333432,"user_name":"Unknown element","can_delete":false,"product_type":"c1","uid":2028277,"ip_address":"","ucode":"34A129800D0238","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f2/f5/b82f410d.jpg","comment_is_top":false,"comment_ctime":1644367010,"is_pvip":false,"replies":[{"id":122028,"content":"è¿™å„¿å¯èƒ½æœ‰ä¸€ç‚¹è¯´çš„ä¸æ˜¯ç‰¹åˆ«æ¸…æ¥šï¼Œâ€œåŠ è½½â€å¯èƒ½å¯¹åº”ä¸¤ä¸ªæ“ä½œï¼š\n1ï¼‰ç¬¬ä¸€ä¸ªæ˜¯ç”¨æˆ·æ€ç¨‹åºé€šè¿‡BPFç³»ç»Ÿè°ƒç”¨åŠ è½½å­—èŠ‚ç ï¼›\n2ï¼‰ç¬¬äºŒä¸ªæ˜¯å†…æ ¸æ€æ”¶åˆ°è¿™ä¸ªç³»ç»Ÿè°ƒç”¨åï¼Œå†æ‰§è¡ŒéªŒè¯+åŠ è½½çš„è¿‡ç¨‹ã€‚\n\næ‰€ä»¥ï¼Œå¯¹å†…æ ¸æ¥è¯´ï¼Œâ€œéªŒè¯+åŠ è½½â€æ˜¯åœ¨ç”¨æˆ·æ€ç¨‹åºè°ƒç”¨â€œåŠ è½½â€æ“ä½œä¹‹åçš„æ‰§è¡Œæ­¥éª¤ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001282,"ctime":1644730523,"ip_address":"","comment_id":333432,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"è€å¸ˆæˆ‘çœ‹æ‚¨åœ¨è¯„è®ºåŒºè¯´ebpfç¨‹åºæ˜¯åœ¨åŠ è½½åˆ°å†…æ ¸ä¹‹å‰éªŒè¯ï¼Œé‚£æ–‡ä¸­çš„æ‰§è¡Œé¡ºåºæ˜¯ä¸æ˜¯ä¸å¤ªå‡†ç¡®ï¼Ÿåº”è¯¥æ˜¯ ç¼–è¯‘ éªŒè¯ åŠ è½½ å†…æ ¸æ‰§è¡Œï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550778,"discussion_content":"è¿™å„¿å¯èƒ½æœ‰ä¸€ç‚¹è¯´çš„ä¸æ˜¯ç‰¹åˆ«æ¸…æ¥šï¼Œâ€œåŠ è½½â€å¯èƒ½å¯¹åº”ä¸¤ä¸ªæ“ä½œï¼š\n1ï¼‰ç¬¬ä¸€ä¸ªæ˜¯ç”¨æˆ·æ€ç¨‹åºé€šè¿‡BPFç³»ç»Ÿè°ƒç”¨åŠ è½½å­—èŠ‚ç ï¼›\n2ï¼‰ç¬¬äºŒä¸ªæ˜¯å†…æ ¸æ€æ”¶åˆ°è¿™ä¸ªç³»ç»Ÿè°ƒç”¨åï¼Œå†æ‰§è¡ŒéªŒè¯+åŠ è½½çš„è¿‡ç¨‹ã€‚\n\næ‰€ä»¥ï¼Œå¯¹å†…æ ¸æ¥è¯´ï¼Œâ€œéªŒè¯+åŠ è½½â€æ˜¯åœ¨ç”¨æˆ·æ€ç¨‹åºè°ƒç”¨â€œåŠ è½½â€æ“ä½œä¹‹åçš„æ‰§è¡Œæ­¥éª¤ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1644730523,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331732,"user_name":"æˆ‘è¦æ”¶è´­è…¾è®¯","can_delete":false,"product_type":"c1","uid":1220604,"ip_address":"","ucode":"58575658350537","user_header":"https://static001.geekbang.org/account/avatar/00/12/9f/fc/0232f005.jpg","comment_is_top":false,"comment_ctime":1642742139,"is_pvip":false,"replies":[{"id":121185,"content":"è°¢è°¢åˆ†äº«ï¼æ¬¢è¿åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­åˆ†äº«æ›´å¤šçš„å­¦ä¹ å’Œå®è·µç»éªŒï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001282,"ctime":1642766616,"ip_address":"","comment_id":331732,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"ç”¨è¿‡ bcc profile + crd çš„æ–¹å¼ç»™å…¬å¸å†…éƒ¨çš„k8sæ§åˆ¶å°å¼€å‘è¿‡ä¸€é”®ç”Ÿæˆç«ç„°å›¾çš„åŠŸèƒ½, ï¼ˆå…¨å¥—çš„å¯è§‚æµ‹æ€§éƒ¨ç½²ä¸å¤ªé€‚åˆå¼€å‘æµ‹è¯•ç”¨é›†ç¾¤ï¼‰","like_count":7,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547607,"discussion_content":"è°¢è°¢åˆ†äº«ï¼æ¬¢è¿åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­åˆ†äº«æ›´å¤šçš„å­¦ä¹ å’Œå®è·µç»éªŒï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642766616,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331124,"user_name":"Unknown","can_delete":false,"product_type":"c1","uid":1254489,"ip_address":"","ucode":"5FBF3D1044CA20","user_header":"https://static001.geekbang.org/account/avatar/00/13/24/59/e9867100.jpg","comment_is_top":false,"comment_ctime":1642433063,"is_pvip":false,"replies":[{"id":121081,"content":"å—¯å—¯ï¼Œæ˜¯çš„ï¼Œè°¢è°¢åˆ†äº«ã€‚æ¬¢è¿åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­åˆ†äº«æ›´å¤šçš„å®è·µç»éªŒï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001282,"ctime":1642594925,"ip_address":"","comment_id":331124,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"bcc tools å·¥å…·éƒ½å¾ˆå¥½ç”¨ï¼Œæ¯”å¦‚Diffie-Hellmanå¯†é’¥äº¤æ¢ç®—æ³•ä½¿å¾—å°±ç®—æœ‰keyéƒ½æ— æ³•è§£å¯†ï¼Œä¸è¿‡å¦‚æœé€šè¿‡bcc toolsä¸­çš„sslsniffèƒ½ç›´æ¥æŸ¥çœ‹äº†ï¼Œå¯¹è°ƒè¯•æ¥è¯´æŒºæ–¹ä¾¿çš„","like_count":7,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547252,"discussion_content":"å—¯å—¯ï¼Œæ˜¯çš„ï¼Œè°¢è°¢åˆ†äº«ã€‚æ¬¢è¿åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­åˆ†äº«æ›´å¤šçš„å®è·µç»éªŒï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642594925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2621412,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ff/e4/927547a9.jpg","nickname":"æ— åæ— å§“","note":"","ucode":"487BD5AA2CD305","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609890,"discussion_content":"è¿™äº›å·¥å…·æ€ä¹ˆæŸ¥æ‰¾å’Œä½¿ç”¨å‘¢?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679282556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331277,"user_name":"Damoncui","can_delete":false,"product_type":"c1","uid":1566446,"ip_address":"","ucode":"5F09EB267F0572","user_header":"https://static001.geekbang.org/account/avatar/00/17/e6/ee/8fdbd5db.jpg","comment_is_top":false,"comment_ctime":1642514487,"is_pvip":false,"replies":[{"id":121082,"content":"å—¯å—¯ï¼Œè¿™æœ¬ä¹¦ä¹Ÿä¸é”™ï¼Œæˆ‘ä»¬ä¸€èµ·åŠ æ²¹ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001282,"ctime":1642595065,"ip_address":"","comment_id":331277,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"å¥½æ¿€åŠ¨ï¼ç›®å‰æ­£åœ¨çœ‹ç¿»è¯‘ç‰ˆçš„ã€Šbpfä¹‹å·…ã€‹ï¼Œé…åˆé£Ÿç”¨ç®€ç›´å¿«ä¹åˆ°ä¸è¡Œï½è‹±æ–‡ç‰ˆåƒèµ·æ¥å¤ªç—›è‹¦â€¦â€¦\n\né€‰å¯¹è¯¾ç¨‹ã€æ•™ç¨‹åŸºæœ¬èŠ‚çº¦äº†ä¸€åŠæ—¶é—´ï¼\n\nå¸Œæœ›å’Œå„ç±»ç‰›äººä¸€èµ·åŠ æ²¹è¿›æ­¥ï¼\n\nebpfä¸€å®šä¼šè¶Šæ¥è¶Šç«ğŸ”¥ï½","like_count":6,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547253,"discussion_content":"å—¯å—¯ï¼Œè¿™æœ¬ä¹¦ä¹Ÿä¸é”™ï¼Œæˆ‘ä»¬ä¸€èµ·åŠ æ²¹ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642595065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331353,"user_name":"Sports","can_delete":false,"product_type":"c1","uid":1757265,"ip_address":"","ucode":"1AC6035DFA4ECB","user_header":"https://static001.geekbang.org/account/avatar/00/1a/d0/51/f1c9ae2d.jpg","comment_is_top":false,"comment_ctime":1642559800,"is_pvip":false,"replies":[{"id":121069,"content":"æ„Ÿè°¢å¯¹ä¸“æ çš„æ”¯æŒï¼Œæˆ‘ä»¬ä¸€èµ·åŠ æ²¹ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001282,"ctime":1642593895,"ip_address":"","comment_id":331353,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"åˆšæ¥åˆ°æå®¢æ—¶é—´ä¹°çš„æ—©æœŸè¯¾ç¨‹å°±æœ‰å€ªè€å¸ˆçš„Linuxä¼˜åŒ–å®æˆ˜ï¼Œçœ‹è¿‡å¤šéï¼Œå¤§ç¥å¿…å‡ºç²¾å“ï¼","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547239,"discussion_content":"æ„Ÿè°¢å¯¹ä¸“æ çš„æ”¯æŒï¼Œæˆ‘ä»¬ä¸€èµ·åŠ æ²¹ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642593896,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":332596,"user_name":"dovefi","can_delete":false,"product_type":"c1","uid":1007670,"ip_address":"","ucode":"9F8C59F095B187","user_header":"https://static001.geekbang.org/account/avatar/00/0f/60/36/1848c2b7.jpg","comment_is_top":false,"comment_ctime":1643358889,"is_pvip":false,"replies":[{"id":121563,"content":"è°¢è°¢åˆ†äº«å®è·µç»éªŒğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001282,"ctime":1643460862,"ip_address":"","comment_id":332596,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"ä½¿ç”¨è¿‡bcc-tools ä¸­çš„filetop cachetopç­‰å·¥å…·åˆ†æè¿‡ç¼“å­˜å ç”¨çš„é—®é¢˜ï¼Œç¬¬ä¸€æ¬¡æ¥è§¦åˆ°ebpfå·¥å…·ï¼ŒåŒäº‹çš„å¤§ä½¬ä¹Ÿæœ‰ä½¿ç”¨systemtapè§£å†³è¿‡å¾ˆå¤šé—®é¢˜","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548960,"discussion_content":"è°¢è°¢åˆ†äº«å®è·µç»éªŒğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643460862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331153,"user_name":"åš","can_delete":false,"product_type":"c1","uid":2019536,"ip_address":"","ucode":"C02AB1CDE39D1A","user_header":"https://static001.geekbang.org/account/avatar/00/1e/d0/d0/a6c6069d.jpg","comment_is_top":false,"comment_ctime":1642466521,"is_pvip":false,"replies":[{"id":121072,"content":"å—¯å—¯ï¼Œæˆ‘ä»¬ç¬¬03è®²ä¼šè¯¦ç»†ä»‹ç»å¼€å‘ç¯å¢ƒçš„æ­å»ºçš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001282,"ctime":1642594109,"ip_address":"","comment_id":331153,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"å€ªè€å¸ˆå¥½ï¼Œæˆ‘æ˜¯åšåµŒå…¥å¼å¼€å‘ï¼Œéœ€è¦è‡ªå·±é…ç½®å†…æ ¸ï¼Œåœ¨æ­å»ºbpfçš„ä½¿ç”¨ç¯å¢ƒçš„æ—¶å€™å¯ä»¥ä¹Ÿæä¸€ä¸‹éœ€è¦å¼€å¯å†…æ ¸å“ªäº›é…ç½®å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547242,"discussion_content":"å—¯å—¯ï¼Œæˆ‘ä»¬ç¬¬03è®²ä¼šè¯¦ç»†ä»‹ç»å¼€å‘ç¯å¢ƒçš„æ­å»ºçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642594109,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1007254,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/96/a03175bc.jpg","nickname":"è«å","note":"","ucode":"E28F2602BA25DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547224,"discussion_content":"åµŒå…¥å¼ç¯å¢ƒå»ºè®®ä½¿ç”¨ iovisor/plyï¼Œç›¸æ¯” bccã€bpftrace è¾ƒè½»é‡ï¼Œä¸éœ€è¦ä¾èµ– llvmã€clangã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1642588591,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367074,"user_name":"Geek_07f1e3","can_delete":false,"product_type":"c1","uid":3297575,"ip_address":"æ±Ÿè‹","ucode":"1A344451F30651","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqKmVMIqxRO00L8J1iatIzeMHwzYb0s762j9B2dicy4P8tciat26cNDgoyMREjtluZEBXGvwz9nUSO2g/132","comment_is_top":false,"comment_ctime":1674894237,"is_pvip":false,"replies":[{"id":134631,"content":"è°¢è°¢åˆ†äº«ï¼Œæ¬¢è¿åœ¨åç»­çš„å­¦ä¹ è¿‡ç¨‹ä¸­åˆ†äº«æ›´å¤šçš„ç»éªŒï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001282,"ctime":1677499968,"ip_address":"ä¸Šæµ·","comment_id":367074,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100104501,"comment_content":"æ›¾åˆ©ç”¨bccè§£å†³è¿‡å®¹å™¨DNSè¯·æ±‚ç›‘æ§çš„é—®é¢˜åœºæ™¯ï¼Œä½†æ˜¯æ­£å¦‚å€ªè€å¸ˆæ–‡æœ«æ‰€æåŠçš„eBPFä¸å†…æ ¸ç‰ˆæœ¬ä¹‹é—´çš„é™åˆ¶å…³ç³»ï¼Œå¯¼è‡´æ–¹æ¡ˆæœ€åæ²¡è¢«é€šè¿‡ï¼Œä½†ä¹Ÿç®—æ˜¯ä¸€æ¬¡ä¸é”™çš„å®è·µä½“éªŒã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":606942,"discussion_content":"è°¢è°¢åˆ†äº«ï¼Œæ¬¢è¿åœ¨åç»­çš„å­¦ä¹ è¿‡ç¨‹ä¸­åˆ†äº«æ›´å¤šçš„ç»éªŒï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1677499968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336759,"user_name":"åä¸ƒ","can_delete":false,"product_type":"c1","uid":2298813,"ip_address":"","ucode":"B2341AF0E7AD47","user_header":"https://static001.geekbang.org/account/avatar/00/23/13/bd/3e86e791.jpg","comment_is_top":false,"comment_ctime":1646356997,"is_pvip":false,"replies":[{"id":123073,"content":"è¦çœ‹ç³»ç»Ÿçš„ï¼Œå¦‚æœæ˜¯Linuxå¹¶ä¸”å†…æ ¸ç‰ˆæœ¬æ¯”è¾ƒæ–°ï¼Œé‚£åº”è¯¥æ˜¯æ²¡é—®é¢˜çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001282,"ctime":1646394123,"ip_address":"","comment_id":336759,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100104501,"comment_content":"åµŒå…¥å¼ç³»ç»Ÿebpfæ˜¯å¦é€‚åˆä½¿ç”¨?","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554475,"discussion_content":"è¦çœ‹ç³»ç»Ÿçš„ï¼Œå¦‚æœæ˜¯Linuxå¹¶ä¸”å†…æ ¸ç‰ˆæœ¬æ¯”è¾ƒæ–°ï¼Œé‚£åº”è¯¥æ˜¯æ²¡é—®é¢˜çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646394123,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334776,"user_name":"åš","can_delete":false,"product_type":"c1","uid":2019536,"ip_address":"","ucode":"C02AB1CDE39D1A","user_header":"https://static001.geekbang.org/account/avatar/00/1e/d0/d0/a6c6069d.jpg","comment_is_top":false,"comment_ctime":1645108661,"is_pvip":false,"replies":[{"id":122618,"content":"ä»–ä»¬éƒ½å¯ä»¥ç”¨æ¥è·Ÿè¸ªå’Œæ’æŸ¥å†…æ ¸é—®é¢˜ï¼Œä½†ebpfåŠŸèƒ½æ›´å®Œå–„ï¼Œè¿˜å¯ä»¥è‡ªå·±å†™ç¨‹åºè‡ªå®šä¹‰å¤„ç†é€»è¾‘ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001282,"ctime":1645611283,"ip_address":"","comment_id":334776,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100104501,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹eBPFå’Œperfæœ‰å…³ç³»å—ï¼Ÿè¿˜æ˜¯è¯´è¿™æ˜¯ä¸¤ä¸ªä¸œè¥¿","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552844,"discussion_content":"ä»–ä»¬éƒ½å¯ä»¥ç”¨æ¥è·Ÿè¸ªå’Œæ’æŸ¥å†…æ ¸é—®é¢˜ï¼Œä½†ebpfåŠŸèƒ½æ›´å®Œå–„ï¼Œè¿˜å¯ä»¥è‡ªå·±å†™ç¨‹åºè‡ªå®šä¹‰å¤„ç†é€»è¾‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645611283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334310,"user_name":"helloworld","can_delete":false,"product_type":"c1","uid":1584653,"ip_address":"","ucode":"66F6A106E11B69","user_header":"https://static001.geekbang.org/account/avatar/00/18/2e/0d/72a65e1c.jpg","comment_is_top":false,"comment_ctime":1644883067,"is_pvip":false,"replies":[{"id":122217,"content":"å¾ˆå¤šebpfç‰¹æ€§åœ¨è€ç‰ˆæœ¬çš„å†…æ ¸éƒ½æ˜¯ä¸æ”¯æŒçš„ï¼Œæ‰€ä»¥åŸºäºæ–°ç‰¹æ€§å¼€å‘çš„ç¨‹åºæœ‰å¯èƒ½æ˜¯æ²¡æ³•ç›´æ¥é€‚é…çš„ï¼ˆä¸€èˆ¬é‡æ–°å¼€å‘ä¸€ä¸ªæˆ–è€…æ¢æˆsystemtapç­‰å·¥å…·å¯èƒ½æ›´å®¹æ˜“ï¼‰ã€‚å…·ä½“å†…æ ¸ç‰ˆæœ¬ä¸­æ”¯æŒçš„ç‰¹æ€§åˆ—è¡¨å¯ä»¥å‚è€ƒhttps:&#47;&#47;github.com&#47;iovisor&#47;bcc&#47;blob&#47;master&#47;docs&#47;kernel-versions.md","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001282,"ctime":1645019012,"ip_address":"","comment_id":334310,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100104501,"comment_content":"éå¸¸é«˜å…´çœ‹åˆ°è¿™æ ·çš„è¯¾ç¨‹ã€‚æˆ‘è¿™é‡Œå·¥ä½œå®è·µä¸­ç”¨ä¸ªç–‘é—®ï¼Œæˆ‘ä»¬ä¸€èˆ¬é‡åˆ°çš„æ“ä½œç³»ç»Ÿä½ç‰ˆæœ¬çš„æ¯”è¾ƒå¤šï¼Œæ¯”å¦‚centoså†…æ ¸3.1xçš„ï¼Œæ€ä¹ˆèƒ½åšåˆ°åœ¨ä½ç‰ˆæœ¬é€‚é…å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551457,"discussion_content":"å¾ˆå¤šebpfç‰¹æ€§åœ¨è€ç‰ˆæœ¬çš„å†…æ ¸éƒ½æ˜¯ä¸æ”¯æŒçš„ï¼Œæ‰€ä»¥åŸºäºæ–°ç‰¹æ€§å¼€å‘çš„ç¨‹åºæœ‰å¯èƒ½æ˜¯æ²¡æ³•ç›´æ¥é€‚é…çš„ï¼ˆä¸€èˆ¬é‡æ–°å¼€å‘ä¸€ä¸ªæˆ–è€…æ¢æˆsystemtapç­‰å·¥å…·å¯èƒ½æ›´å®¹æ˜“ï¼‰ã€‚å…·ä½“å†…æ ¸ç‰ˆæœ¬ä¸­æ”¯æŒçš„ç‰¹æ€§åˆ—è¡¨å¯ä»¥å‚è€ƒhttps://github.com/iovisor/bcc/blob/master/docs/kernel-versions.md","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645019012,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331641,"user_name":"Ethan Liu","can_delete":false,"product_type":"c1","uid":1070043,"ip_address":"","ucode":"231F944F7CD56A","user_header":"https://static001.geekbang.org/account/avatar/00/10/53/db/858337e3.jpg","comment_is_top":false,"comment_ctime":1642682104,"is_pvip":false,"replies":[{"id":121173,"content":"åªæ˜¯åœ¨åŠ è½½åˆ°å†…æ ¸ä¹‹å‰è¿›è¡ŒéªŒè¯ï¼ŒåŠ è½½ä¹‹åå°±ä¸éœ€è¦äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001282,"ctime":1642749673,"ip_address":"","comment_id":331641,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100104501,"comment_content":"eBPFç¨‹åºæ‰§è¡Œéœ€è¦è¿›è¡ŒéªŒè¯ï¼Œä¸å½±å“æ€§èƒ½å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547566,"discussion_content":"åªæ˜¯åœ¨åŠ è½½åˆ°å†…æ ¸ä¹‹å‰è¿›è¡ŒéªŒè¯ï¼ŒåŠ è½½ä¹‹åå°±ä¸éœ€è¦äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642749674,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1120024,"avatar":"https://static001.geekbang.org/account/avatar/00/11/17/18/e4382a8e.jpg","nickname":"æœ‰è¯†ä¹‹å£«","note":"","ucode":"23F5594193D200","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581052,"discussion_content":"æœºå™¨å¼€å¯äº†ebpfåï¼Œè¿›è¡Œç³»ç»Ÿçš„æ’æ¡©ï¼Œæ„Ÿè§‰ä¼šå½±å“æœºå™¨çš„æ€§èƒ½å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658474624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331638,"user_name":"å¨Ÿ","can_delete":false,"product_type":"c1","uid":1082078,"ip_address":"","ucode":"0B6D2558344F31","user_header":"https://static001.geekbang.org/account/avatar/00/10/82/de/7f6cae1f.jpg","comment_is_top":false,"comment_ctime":1642681141,"is_pvip":false,"replies":[{"id":121170,"content":"åŠ æ²¹ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001282,"ctime":1642749494,"ip_address":"","comment_id":331638,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100104501,"comment_content":"bpfå¾ˆæ—©å°±æœ‰ä¸€äº›äº†è§£ï¼Œè§‰å¾—é‚£äº›è¯­æ³•æŒºå¥½ç©ï¼Œè·Ÿç€å¤§ç‰›ä¸€èµ·è¿›æ­¥ï¼Œç³»ç»ŸåŒ–äº†è§£äº†è§£ebpfã€‚å¸Œæœ›ç»“æŸçš„æ—¶å€™èƒ½å¾ˆæœ‰æ”¶è·ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547563,"discussion_content":"åŠ æ²¹ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642749494,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2727658,"avatar":"https://static001.geekbang.org/account/avatar/00/29/9e/ea/f9e0726a.jpg","nickname":"é©¬è¶…","note":"","ucode":"EA3E38E2D97F38","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591751,"discussion_content":"è¿™ä¸ªåªæœ‰éŸ³é¢‘å—ï¼Ÿæ„Ÿè§‰å…¥ä¸äº†é—¨å•Šï¼ï¼ï¼è¿™ä¸ªè¯¾ç¨‹ä¸è¦è¿™ä¹ˆæ•·è¡å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666793019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":396337,"user_name":"Geek_cc0645","can_delete":false,"product_type":"c1","uid":1971407,"ip_address":"é™•è¥¿","ucode":"13B59F82095602","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/UWDBUEsDLIKpeIujPLsrRG9l0cFhWlXB9CcaOpNKrOdhDAia6PialmJZ4MQgYtBpDdu58leIDDlsOxaZsRvknZZA/132","comment_is_top":false,"comment_ctime":1734011413,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100104501,"comment_content":"åŸæ¥çš„ç‰ˆæœ¬æ˜¯ 3.10ï¼Œcentos7, è¯·é—®ä¸‹è‡ªå·±ç¼–è¯‘ 5.4.286ç‰ˆæœ¬çš„å†…æ ¸ï¼Œsudo modprobe bpf\nmodprobe: FATAL: Module bpf not found. æŠ¥é”™æ˜¯å› ä¸ºä»€ä¹ˆï¼Œ\nä½¿ç”¨çš„é…ç½®å‚æ•°\nCONFIG_BPF=y\nCONFIG_BPF_SYSCALL=y\nCONFIG_BPF_EVENTS=y\nCONFIG_BPF_JIT=y\nCONFIG_HAVE_EBPF_JIT=y","like_count":0},{"had_liked":false,"id":394717,"user_name":"æ„šäºº","can_delete":false,"product_type":"c1","uid":1428998,"ip_address":"åŒ—äº¬","ucode":"4BD4E097983FA3","user_header":"https://static001.geekbang.org/account/avatar/00/15/ce/06/273dcc0d.jpg","comment_is_top":false,"comment_ctime":1727874969,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100104501,"comment_content":"â€œä½†ç›´åˆ° eBPF è¯ç”Ÿå‰ï¼ŒBPF éƒ½ä»…ç”¨äºåŒ…è¿‡æ»¤è¿™ä¸ªåœºæ™¯ä¸­â€è¿™é‡Œä¼¼ä¹ä¸å¯¹å“¦ï¼Œä»Šå¤©çœ‹åˆ° Linux çš„ seccomp ä½¿ç”¨äº† bpf æ¥æ›´çµæ´»åœ°æ§åˆ¶è¿›ç¨‹èƒ½ä½¿ç”¨å“ªäº›ç³»ç»Ÿè°ƒç”¨ï¼Œè¿™ä¸ªæœºåˆ¶åœ¨ 2012 å¹´çš„ 3.5 ç‰ˆæœ¬å†…æ ¸å¼•å…¥ï¼Œä½†ä»æ–‡ç« çœ‹èµ·æ¥ ebpf çš„å‡ºç°æ—¶é—´åº”è¯¥åœ¨ 2014 å¹´ğŸ¤”","like_count":0},{"had_liked":false,"id":393735,"user_name":"é˜´æ™¦","can_delete":false,"product_type":"c1","uid":3219777,"ip_address":"æµ™æ±Ÿ","ucode":"9B1DA9947FAB45","user_header":"https://static001.geekbang.org/account/avatar/00/31/21/41/d8f2fe6d.jpg","comment_is_top":false,"comment_ctime":1724744738,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100104501,"comment_content":"æœ€è¿‘æ‰“ç®—è„±ç¦»äº‘åšä¼ ç»Ÿè½¯ä»¶çš„æ—¶å€™ï¼Œçªç„¶æƒ³èµ·æ¥ebpfå¯ä»¥åœ¨ä¸€äº›æ³¨å…¥ç½‘å…³ä¹‹ç±»çš„éœ€è¦åšä»£ç†è½¬å‘çš„åœ°æ–¹ä½¿ç”¨ã€‚\nä¸è¿‡ç›®å‰è¿˜æ²¡æœ‰æ˜¯æ·±å…¥å­¦ä¹ ï¼Œè¿˜ä¸çŸ¥é“æƒ³æ³•ç°å®ä¸å¦","like_count":0},{"had_liked":false,"id":386852,"user_name":"å± æ­¥ç©ºæ¯","can_delete":false,"product_type":"c1","uid":1810877,"ip_address":"æµ™æ±Ÿ","ucode":"40F513E3F57505","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKf9jqppL0WenjNzGAykMcWZuec94gvGYlb5LwhROXD8Ym0SkhnN3H1oObsqmoIoU95zqz8FGNIOA/132","comment_is_top":false,"comment_ctime":1705709123,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100104501,"comment_content":"å€ªè€å¸ˆï¼Œæ‚¨æåˆ°çš„å†…æ ¸ç¤¾åŒºï¼Œå…·ä½“ä½ç½®åœ¨å“ªï¼Œèƒ½å‘ä¸€ä¸‹å—ï¼Ÿè°¢è°¢","like_count":0},{"had_liked":false,"id":377501,"user_name":"Geek_5674cf","can_delete":false,"product_type":"c1","uid":3666762,"ip_address":"ä¸­å›½é¦™æ¸¯","ucode":"FD63BBEE719797","user_header":"","comment_is_top":false,"comment_ctime":1688611476,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100104501,"comment_content":"è€å¸ˆï¼Œåœ¨androidsç³»ç»Ÿä¸­ï¼Œé€šè¿‡ebpfæ˜¯å¦å¯ä»¥å®ç°è½¬å‘æŒ‡å®šappä¸­æŒ‡å®šæ¥å£çš„æ˜æ–‡æ•°æ®","like_count":0},{"had_liked":false,"id":357395,"user_name":"Slience-0Â°C","can_delete":false,"product_type":"c1","uid":1151612,"ip_address":"å±±ä¸œ","ucode":"B50665EC6A80F5","user_header":"https://static001.geekbang.org/account/avatar/00/11/92/7c/12c571b6.jpg","comment_is_top":false,"comment_ctime":1663223252,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100104501,"comment_content":"è€å¸ˆï¼ŒeBPFå¯ä»¥åšæ§åˆ¶æ“ä½œçš„åŠŸèƒ½ï¼Ÿ","like_count":0},{"had_liked":false,"id":352325,"user_name":"magina","can_delete":false,"product_type":"c1","uid":1138499,"ip_address":"","ucode":"9546701896A09F","user_header":"https://static001.geekbang.org/account/avatar/00/11/5f/43/3799a0f3.jpg","comment_is_top":false,"comment_ctime":1658559402,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100104501,"comment_content":"çœ‹å®Œæ²¡æ‡‚â€œå†…æ ¸æ€å¼•å…¥ä¸€ä¸ªæ–°çš„è™šæ‹Ÿæœºï¼Œæ‰€æœ‰æŒ‡ä»¤éƒ½åœ¨å†…æ ¸è™šæ‹Ÿæœºä¸­è¿è¡Œâ€ï¼Œæ€ä¹ˆä½“ç°åœ¨æ–‡ä¸­çš„å›¾ä¸Šï¼Ÿ","like_count":0},{"had_liked":false,"id":352239,"user_name":"æœ‰è¯†ä¹‹å£«","can_delete":false,"product_type":"c1","uid":1120024,"ip_address":"","ucode":"23F5594193D200","user_header":"https://static001.geekbang.org/account/avatar/00/11/17/18/e4382a8e.jpg","comment_is_top":false,"comment_ctime":1658474510,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100104501,"comment_content":"å¼€å‘ eBPF ç¨‹åºï¼Œå¦‚ä½•è¿›è¡Œè°ƒè¯•ï¼Ÿç±»ä¼¼ goã€java è¿™ç§é«˜çº§è¯­è¨€å¯ä»¥æ–¹ä¾¿ debug ä¸€æ ·çš„ï¼Ÿ ","like_count":0}]}
{"id":380507,"title":"11 | è®¾ç½®å·¥ä½œæ¨¡å¼ä¸ç¯å¢ƒï¼ˆä¸­ï¼‰ï¼šå»ºé€ äºŒçº§å¼•å¯¼å™¨","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯LMOSã€‚</p><p>ä¸ŠèŠ‚è¯¾ï¼Œæˆ‘ä»¬å»ºé€ äº†å±äºæˆ‘ä»¬çš„â€œè®¡ç®—æœºâ€ï¼Œå¹¶ä¸”åœ¨ä¸Šé¢å®‰è£…å¥½äº†GRUBã€‚è¿™èŠ‚è¯¾æˆ‘ä¼šå¸¦ä½ ä¸€èµ·å®ç°äºŒçº§å¼•å¯¼å™¨è¿™ä¸ªå…³é”®ç»„ä»¶ã€‚</p><p>çœ‹åˆ°è¿™å„¿ä½ å¯èƒ½ä¼šé—®ï¼ŒGRUBä¸æ˜¯å·²ç»æŠŠæˆ‘ä»¬çš„æ“ä½œç³»ç»ŸåŠ è½½åˆ°å†…å­˜ä¸­äº†å—ï¼Ÿæˆ‘ä»¬æœ‰äº†GRUBï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜è¦å®ç°äºŒçº§å¼•å¯¼å™¨å‘¢ï¼Ÿ</p><p>è¿™é‡Œæˆ‘è¦ç»™ä½ è¯´è¯´æˆ‘çš„è§‚ç‚¹ï¼ŒäºŒçº§å¼•å¯¼å™¨ä½œä¸ºæ“ä½œç³»ç»Ÿçš„å…ˆé©±ï¼Œå®ƒéœ€è¦<strong>æ”¶é›†æœºå™¨ä¿¡æ¯</strong>ï¼Œç¡®å®šè¿™ä¸ªè®¡ç®—æœºèƒ½ä¸èƒ½è¿è¡Œæˆ‘ä»¬çš„æ“ä½œç³»ç»Ÿï¼Œå¯¹CPUã€å†…å­˜ã€æ˜¾å¡è¿›è¡Œä¸€äº›åˆçº§çš„é…ç½®ï¼Œæ”¾ç½®å¥½å†…æ ¸ç›¸å…³çš„æ–‡ä»¶ã€‚</p><p>å› ä¸ºæˆ‘ä»¬äºŒçº§å¼•å¯¼å™¨ä¸æ˜¯æ‰§è¡Œå…·ä½“çš„åŠ è½½ä»»åŠ¡çš„ï¼Œè€Œæ˜¯è§£æå†…æ ¸æ–‡ä»¶ã€æ”¶é›†æœºå™¨ç¯å¢ƒä¿¡æ¯ï¼Œå®ƒå…·ä½“æ”¶é›†å“ªäº›ä¿¡æ¯ï¼Œæˆ‘ä¼šåœ¨ä¸‹èŠ‚è¯¾è¯¦ç»†å±•å¼€ã€‚</p><h2>è®¾è®¡æœºå™¨ä¿¡æ¯ç»“æ„</h2><p>äºŒçº§å¼•å¯¼å™¨æ”¶é›†çš„ä¿¡æ¯ï¼Œéœ€è¦åœ°ç‚¹å­˜æ”¾ï¼Œæˆ‘ä»¬éœ€è¦è®¾è®¡ä¸€ä¸ªæ•°æ®ç»“æ„ã€‚ä¿¡æ¯æ”¾åœ¨è¿™ä¸ªæ•°æ®ç»“æ„ä¸­ï¼Œè¿™ä¸ªç»“æ„æ”¾åœ¨å†…å­˜1MBçš„åœ°æ–¹ï¼Œæ–¹ä¾¿ä»¥åä¼ ç»™æˆ‘ä»¬çš„æ“ä½œç³»ç»Ÿã€‚</p><p>ä¸ºäº†è®©ä½ æŠ“ä½é‡ç‚¹ï¼Œæˆ‘é€‰å–äº†è¿™ä¸ªæ•°æ®ç»“æ„çš„<strong>å…³é”®ä»£ç </strong>ï¼Œè¿™é‡Œå¹¶æ²¡æœ‰åˆ—å‡ºè¯¥ç»“æ„çš„æ‰€æœ‰å­—æ®µï¼ˆCosmos/initldr/include/ldrtype.hï¼‰ï¼Œè¿™ä¸ªç»“æ„å¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre><code>typedef struct s_MACHBSTART\n{\n    u64_t   mb_krlinitstack;//å†…æ ¸æ ˆåœ°å€\n    u64_t   mb_krlitstacksz;//å†…æ ¸æ ˆå¤§å°\n    u64_t   mb_imgpadr;//æ“ä½œç³»ç»Ÿæ˜ åƒ\n    u64_t   mb_imgsz;//æ“ä½œç³»ç»Ÿæ˜ åƒå¤§å°\n    u64_t   mb_bfontpadr;//æ“ä½œç³»ç»Ÿå­—ä½“åœ°å€\n    u64_t   mb_bfontsz;//æ“ä½œç³»ç»Ÿå­—ä½“å¤§å°\n    u64_t   mb_fvrmphyadr;//æœºå™¨æ˜¾å­˜åœ°å€\n    u64_t   mb_fvrmsz;//æœºå™¨æ˜¾å­˜å¤§å°\n    u64_t   mb_cpumode;//æœºå™¨CPUå·¥ä½œæ¨¡å¼\n    u64_t   mb_memsz;//æœºå™¨å†…å­˜å¤§å°\n    u64_t   mb_e820padr;//æœºå™¨e820æ•°ç»„åœ°å€\n    u64_t   mb_e820nr;//æœºå™¨e820æ•°ç»„å…ƒç´ ä¸ªæ•°\n    u64_t   mb_e820sz;//æœºå™¨e820æ•°ç»„å¤§å°\n    //â€¦â€¦\n    u64_t   mb_pml4padr;//æœºå™¨é¡µè¡¨æ•°æ®åœ°å€\n    u64_t   mb_subpageslen;//æœºå™¨é¡µè¡¨ä¸ªæ•°\n    u64_t   mb_kpmapphymemsz;//æ“ä½œç³»ç»Ÿæ˜ å°„ç©ºé—´å¤§å°\n    //â€¦â€¦\n    graph_t mb_ghparm;//å›¾å½¢ä¿¡æ¯\n}__attribute__((packed)) machbstart_t;\n</code></pre><h2>è§„åˆ’äºŒçº§å¼•å¯¼å™¨</h2><p>åœ¨å¼€å§‹å†™ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥ä»æ•´ä½“åˆ’åˆ†ä¸€ä¸‹äºŒçº§å¼•å¯¼å™¨çš„åŠŸèƒ½æ¨¡å—ï¼Œä»å…¨å±€äº†è§£ä¸‹åŠŸèƒ½åº”è¯¥æ€ä¹ˆåˆ’åˆ†ï¼Œè¿™é‡Œæˆ‘ç‰¹æ„ä¸ºä½ æ¢³ç†äº†ä¸€ä¸ªè¡¨æ ¼ã€‚</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/31/1e/3169e9db4549ab036c2de269788a281e.jpg?wh=1636*846\" alt=\"\" title=\"äºŒçº§å¼•å¯¼å™¨åŠŸèƒ½åˆ’åˆ†è¡¨\"></p><p>å‰é¢è¡¨æ ¼é‡Œçš„è¿™äº›æ–‡ä»¶ï¼Œæˆ‘éƒ½æ”¾åœ¨äº†è¯¾ç¨‹é…å¥—æºç ä¸­äº†ï¼Œä½ å¯ä»¥ä»<a href=\"https://gitee.com/lmos/cosmos/tree/master/lesson10~11\">è¿™é‡Œ</a>ä¸‹è½½ã€‚</p><p>ä¸Šè¿°è¿™äº›æ–‡ä»¶éƒ½åœ¨lesson10ï½11/Cosmos/initldr/ldrkrlç›®å½•ä¸­ï¼Œå®ƒä»¬åœ¨ç¼–è¯‘ä¹‹åä¼šå½¢æˆä¸‰ä¸ªæ–‡ä»¶ï¼Œç¼–è¯‘è„šæœ¬æˆ‘å·²ç»å†™å¥½äº†ï¼Œä¸‹é¢æˆ‘ä»¬ç”¨ä¸€å¹…å›¾æ¥å±•ç¤ºè¿™ä¸ªç¼–è¯‘è¿‡ç¨‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/bd/40/bd55f67d02edff4415f06c914403bc40.jpg?wh=5005*3110\" alt=\"\" title=\"äºŒçº§å¼•å¯¼å™¨ç¼–è¯‘è¿‡ç¨‹ç¤ºæ„å›¾\"></p><p>è¿™æœ€åä¸‰ä¸ªæ–‡ä»¶ç”¨æˆ‘ä»¬å‰é¢è¯´çš„æ˜ åƒå·¥å…·æ‰“åŒ…æˆæ˜ åƒæ–‡ä»¶ï¼Œå…¶æŒ‡ä»¤å¦‚ä¸‹ã€‚</p><pre><code>lmoskrlimg -m k -lhf initldrimh.bin -o Cosmos.eki -f initldrkrl.bin initldrsve.bin\n</code></pre><h2>å®ç°GRUBå¤´</h2><p>æˆ‘ä»¬çš„GRUBå¤´æœ‰ä¸¤ä¸ªæ–‡ä»¶ç»„æˆï¼Œ<strong>ä¸€ä¸ªimginithead.asmæ±‡ç¼–æ–‡ä»¶</strong>ï¼Œå®ƒæœ‰ä¸¤ä¸ªåŠŸèƒ½ï¼Œæ—¢èƒ½è®©GRUBè¯†åˆ«ï¼Œåˆèƒ½è®¾ç½®Cè¯­è¨€è¿è¡Œç¯å¢ƒï¼Œç”¨äºè°ƒç”¨Cå‡½æ•°ï¼›<strong>ç¬¬äºŒå°±æ˜¯inithead.cæ–‡ä»¶</strong>ï¼Œå®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯æŸ¥æ‰¾äºŒçº§å¼•å¯¼å™¨çš„æ ¸å¿ƒæ–‡ä»¶â€”â€”initldrkrl.binï¼Œç„¶åæŠŠå®ƒæ”¾ç½®åˆ°ç‰¹å®šçš„å†…å­˜åœ°å€ä¸Šã€‚</p><p>æˆ‘ä»¬å…ˆæ¥å®ç°imginithead.asmï¼Œå®ƒä¸»è¦å·¥ä½œæ˜¯åˆå§‹åŒ–CPUçš„å¯„å­˜å™¨ï¼ŒåŠ è½½GDTï¼Œåˆ‡æ¢åˆ°CPUçš„ä¿æŠ¤æ¨¡å¼ï¼Œæˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ¥å®ç°ã€‚</p><p>é¦–å…ˆæ˜¯GRUB1å’ŒGRUB2éœ€è¦çš„ä¸¤ä¸ªå¤´ç»“æ„ï¼Œä»£ç å¦‚ä¸‹ã€‚</p><pre><code>MBT_HDR_FLAGS\tEQU 0x00010003\nMBT_HDR_MAGIC\tEQU 0x1BADB002\nMBT2_MAGIC\tEQU 0xe85250d6\nglobal _start\nextern inithead_entry\n[section .text]\n[bits 32]\n_start:\n\tjmp _entry\nalign 4\nmbt_hdr:\n\tdd MBT_HDR_MAGIC\n\tdd MBT_HDR_FLAGS\n\tdd -(MBT_HDR_MAGIC+MBT_HDR_FLAGS)\n\tdd mbt_hdr\n\tdd _start\n\tdd 0\n\tdd 0\n\tdd _entry\nALIGN 8\nmbhdr:\n\tDD\t0xE85250D6\n\tDD\t0\n\tDD\tmhdrend - mbhdr\n\tDD\t-(0xE85250D6 + 0 + (mhdrend - mbhdr))\n\tDW\t2, 0\n\tDD\t24\n\tDD\tmbhdr\n\tDD\t_start\n\tDD\t0\n\tDD\t0\n\tDW\t3, 0\n\tDD\t12\n\tDD\t_entry \n\tDD  0  \n\tDW\t0, 0\n\tDD\t8\nmhdrend:\n</code></pre><p>ç„¶åæ˜¯å…³ä¸­æ–­å¹¶åŠ è½½GDTï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre><code>_entry:\n\tcli           ï¼›å…³ä¸­æ–­\n\tin al, 0x70 \n\tor al, 0x80\t\n\tout 0x70,al  ï¼›å…³æ‰ä¸å¯å±è”½ä¸­æ–­   \n\tlgdt [GDT_PTR] ï¼›åŠ è½½GDTåœ°å€åˆ°GDTRå¯„å­˜å™¨\n\tjmp dword 0x8 :_32bits_mode ï¼›é•¿è·³è½¬åˆ·æ–°CSå½±å­å¯„å­˜å™¨\n  ;â€¦â€¦â€¦â€¦â€¦â€¦\n;GDTå…¨å±€æ®µæè¿°ç¬¦è¡¨\nGDT_START:\nknull_dsc: dq 0\nkcode_dsc: dq 0x00cf9e000000ffff\nkdata_dsc: dq 0x00cf92000000ffff\nk16cd_dsc: dq 0x00009e000000ffff ï¼›16ä½ä»£ç æ®µæè¿°ç¬¦\nk16da_dsc: dq 0x000092000000ffff ï¼›16ä½æ•°æ®æ®µæè¿°ç¬¦\nGDT_END:\nGDT_PTR:\nGDTLEN\tdw GDT_END-GDT_START-1\t;GDTç•Œé™\nGDTBASE\tdd GDT_START\n</code></pre><p>æœ€åæ˜¯åˆå§‹åŒ–æ®µå¯„å­˜å™¨å’Œé€šç”¨å¯„å­˜å™¨ã€æ ˆå¯„å­˜å™¨ï¼Œè¿™æ˜¯ä¸ºäº†ç»™è°ƒç”¨inithead_entryè¿™ä¸ªCå‡½æ•°åšå‡†å¤‡ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre><code>_32bits_modeï¼š\n\tmov ax, 0x10\n\tmov ds, ax\n\tmov ss, ax\n\tmov es, ax\n\tmov fs, ax\n\tmov gs, ax\n\txor eax,eax\n\txor ebx,ebx\n\txor ecx,ecx\n\txor edx,edx\n\txor edi,edi\n\txor esi,esi\n\txor ebp,ebp\n\txor esp,esp\n\tmov esp,0x7c00 ï¼›è®¾ç½®æ ˆé¡¶ä¸º0x7c00\n\tcall inithead_entry ï¼›è°ƒç”¨inithead_entryå‡½æ•°åœ¨inithead.cä¸­å®ç°\n\tjmp 0x200000  ï¼›è·³è½¬åˆ°0x200000åœ°å€\n</code></pre><p>ä¸Šè¿°ä»£ç çš„æœ€åè°ƒç”¨äº†inithead_entryå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æˆ‘ä»¬éœ€è¦å¦å¤–åœ¨inithead.cä¸­å®ç°ï¼Œæˆ‘ä»¬è¿™å°±æ¥å®ç°å®ƒï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre><code>#define MDC_ENDGIC 0xaaffaaffaaffaaff\n#define MDC_RVGIC 0xffaaffaaffaaffaa\n#define REALDRV_PHYADR 0x1000\n#define IMGFILE_PHYADR 0x4000000\n#define IMGKRNL_PHYADR 0x2000000\n#define LDRFILEADR IMGFILE_PHYADR\n#define MLOSDSC_OFF (0x1000)\n#define MRDDSC_ADR (mlosrddsc_t*)(LDRFILEADR+0x1000)\n\nvoid inithead_entry()\n{\n    write_realintsvefile();\n    write_ldrkrlfile();\n    return;\n}\n//å†™initldrsve.binæ–‡ä»¶åˆ°ç‰¹å®šçš„å†…å­˜ä¸­\nvoid write_realintsvefile()\n{\n    fhdsc_t *fhdscstart = find_file(&quot;initldrsve.bin&quot;);\n    if (fhdscstart == NULL)\n    {\n        error(&quot;not file initldrsve.bin&quot;);\n    }\n    m2mcopy((void *)((u32_t)(fhdscstart-&gt;fhd_intsfsoff) + LDRFILEADR),\n            (void *)REALDRV_PHYADR, (sint_t)fhdscstart-&gt;fhd_frealsz);\n    return;\n}\n//å†™initldrkrl.binæ–‡ä»¶åˆ°ç‰¹å®šçš„å†…å­˜ä¸­\nvoid write_ldrkrlfile()\n{\n    fhdsc_t *fhdscstart = find_file(&quot;initldrkrl.bin&quot;);\n    if (fhdscstart == NULL)\n    {\n        error(&quot;not file initldrkrl.bin&quot;);\n    }\n    m2mcopy((void *)((u32_t)(fhdscstart-&gt;fhd_intsfsoff) + LDRFILEADR),\n            (void *)ILDRKRL_PHYADR, (sint_t)fhdscstart-&gt;fhd_frealsz);\n    return;\n}\n//åœ¨æ˜ åƒæ–‡ä»¶ä¸­æŸ¥æ‰¾å¯¹åº”çš„æ–‡ä»¶\nfhdsc_t *find_file(char_t *fname)\n{\n    mlosrddsc_t *mrddadrs = MRDDSC_ADR;\n    if (mrddadrs-&gt;mdc_endgic != MDC_ENDGIC ||\n        mrddadrs-&gt;mdc_rv != MDC_RVGIC ||\n        mrddadrs-&gt;mdc_fhdnr &lt; 2 ||\n        mrddadrs-&gt;mdc_filnr &lt; 2)\n    {\n        error(&quot;no mrddsc&quot;);\n    }\n    s64_t rethn = -1;\n    fhdsc_t *fhdscstart = (fhdsc_t *)((u32_t)(mrddadrs-&gt;mdc_fhdbk_s) + LDRFILEADR);\n    for (u64_t i = 0; i &lt; mrddadrs-&gt;mdc_fhdnr; i++)\n    {\n        if (strcmpl(fname, fhdscstart[i].fhd_name) == 0)\n        {\n            rethn = (s64_t)i;\n            goto ok_l;\n        }\n    }\n    rethn = -1;\nok_l:\n    if (rethn &lt; 0)\n    {\n        error(&quot;not find file&quot;);\n    }\n    return &amp;fhdscstart[rethn];\n}\n</code></pre><p>æˆ‘ä»¬å®ç°äº†inithead_entryå‡½æ•°ï¼Œå®ƒä¸»è¦å¹²äº†ä¸¤ä»¶äº‹ï¼Œå³åˆ†åˆ«è°ƒç”¨write_realintsvefile();ã€write_ldrkrlfile()å‡½æ•°ï¼ŒæŠŠæ˜ åƒæ–‡ä»¶ä¸­çš„initldrsve.binæ–‡ä»¶å’Œinitldrkrl.binæ–‡ä»¶å†™å…¥åˆ°ç‰¹å®šçš„å†…å­˜åœ°å€ç©ºé—´ä¸­ï¼Œå…·ä½“åœ°å€åœ¨ä¸Šé¢ä»£ç ä¸­çš„å®æœ‰è¯¦ç»†å®šä¹‰ã€‚</p><p>è¿™ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«ä¾èµ–äºfind_fileå’Œm2mcopyå‡½æ•°ã€‚</p><p>æ­£å¦‚å…¶åï¼Œfind_fileå‡½æ•°è´Ÿè´£æ‰«ææ˜ åƒæ–‡ä»¶ä¸­çš„æ–‡ä»¶å¤´æè¿°ç¬¦ï¼Œå¯¹æ¯”å…¶ä¸­çš„æ–‡ä»¶åï¼Œç„¶åè¿”å›å¯¹åº”çš„æ–‡ä»¶å¤´æè¿°ç¬¦çš„åœ°å€ï¼Œè¿™æ ·å°±å¯ä»¥å¾—åˆ°æ–‡ä»¶åœ¨æ˜ åƒæ–‡ä»¶ä¸­çš„ä½ç½®å’Œå¤§å°äº†ã€‚</p><p>find_fileå‡½æ•°çš„æ¥åŠ›é˜Ÿå‹å°±æ˜¯m2mcopyå‡½æ•°ï¼Œå› ä¸ºæŸ¥æ‰¾å¯¹æ¯”ä¹‹åï¼Œæœ€åå°±æ˜¯m2mcopyå‡½æ•°è´Ÿè´£æŠŠæ˜ åƒæ–‡ä»¶å¤åˆ¶åˆ°å…·ä½“çš„å†…å­˜ç©ºé—´é‡Œã€‚</p><p>ä»£ç ä¸­çš„å…¶å®ƒå‡½æ•°æˆ‘å°±ä¸å±•å¼€äº†ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦è¯·è‡ªè¡Œç ”ç©¶ï¼Œæˆ–è€…è‡ªå·±æ”¹å†™ã€‚</p><h2>è¿›å…¥äºŒçº§å¼•å¯¼å™¨</h2><p>ä½ åº”è¯¥è¿˜æœ‰å°è±¡ï¼Œåˆšæ‰è¯´çš„å®ç°GRUBå¤´è¿™ä¸ªéƒ¨åˆ†ï¼Œåœ¨imghead.asmæ±‡ç¼–æ–‡ä»¶ä»£ç ä¸­ï¼Œæˆ‘ä»¬çš„æœ€åä¸€æ¡æŒ‡ä»¤æ˜¯â€œ<strong>jmp 0x200000</strong>â€ï¼Œå³è·³è½¬åˆ°ç‰©ç†å†…å­˜çš„0x200000åœ°å€å¤„ã€‚</p><p>è¯·ä½ æ³¨æ„ï¼Œè¿™æ—¶åœ°å€è¿˜æ˜¯ç‰©ç†åœ°å€ï¼Œè¿™ä¸ªåœ°å€æ­£æ˜¯åœ¨inithead.cä¸­ç”±write_ldrkrlfile()å‡½æ•°æ”¾ç½®çš„initldrkrl.binæ–‡ä»¶ï¼Œè¿™ä¸€è·³å°±è¿›å…¥äº†äºŒçº§å¼•å¯¼å™¨çš„ä¸»æ¨¡å—äº†ã€‚</p><p>ç”±äºæ¨¡å—çš„æ”¹å˜ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å†™ä¸€å°æ®µæ±‡ç¼–ä»£ç ï¼Œå»ºç«‹ä¸‹é¢è¿™ä¸ªinitldr32.asmï¼ˆé…å¥—ä»£ç åº“ä¸­å¯¹åº”ldrkrl32.asmï¼‰æ–‡ä»¶ï¼Œå¹¶å†™ä¸Šå¦‚ä¸‹ä»£ç ã€‚</p><pre><code>_entry:\n\tcli\n\tlgdt [GDT_PTR]ï¼›åŠ è½½GDTåœ°å€åˆ°GDTRå¯„å­˜å™¨\n\tlidt [IDT_PTR]ï¼›åŠ è½½IDTåœ°å€åˆ°IDTRå¯„å­˜å™¨\n\tjmp dword 0x8 :_32bits_modeï¼›é•¿è·³è½¬åˆ·æ–°CSå½±å­å¯„å­˜å™¨\n_32bits_mode:\n\tmov ax, 0x10\t; æ•°æ®æ®µé€‰æ‹©å­(ç›®çš„)\n\tmov ds, ax\n\tmov ss, ax\n\tmov es, ax\n\tmov fs, ax\n\tmov gs, ax\n\txor eax,eax\n\txor ebx,ebx\n\txor ecx,ecx\n\txor edx,edx\n\txor edi,edi\n\txor esi,esi\n\txor ebp,ebp\n\txor esp,esp\n\tmov esp,0x90000 ï¼›ä½¿å¾—æ ˆåº•æŒ‡å‘äº†0x90000\n\tcall ldrkrl_entry ï¼›è°ƒç”¨ldrkrl_entryå‡½æ•°\n\txor ebx,ebx\n\tjmp 0x2000000 ï¼›è·³è½¬åˆ°0x2000000çš„å†…å­˜åœ°å€\n\tjmp $\nGDT_START:\nknull_dsc: dq 0\nkcode_dsc: dq 0x00cf9a000000ffff ;a-e\nkdata_dsc: dq 0x00cf92000000ffff\nk16cd_dsc: dq 0x00009a000000ffff ï¼›16ä½ä»£ç æ®µæè¿°ç¬¦\nk16da_dsc: dq 0x000092000000ffff ï¼›16ä½æ•°æ®æ®µæè¿°ç¬¦\nGDT_END:\nGDT_PTR:\nGDTLEN\tdw GDT_END-GDT_START-1\t;GDTç•Œé™\nGDTBASE\tdd GDT_START\n\nIDT_PTR:\nIDTLEN\tdw 0x3ff\nIDTBAS\tdd 0  ï¼›è¿™æ˜¯BIOSä¸­æ–­è¡¨çš„åœ°å€å’Œé•¿åº¦\n</code></pre><p>æˆ‘æ¥ç»™ä½ åšä¸ªè§£è¯»ï¼Œä»£ç çš„1ï½4è¡Œæ˜¯åœ¨åŠ è½½GDTRå’ŒIDTRå¯„å­˜å™¨ï¼Œç„¶ååˆå§‹åŒ–CPUç›¸å…³çš„å¯„å­˜å™¨ã€‚</p><p>å’Œå…ˆå‰ä¸€æ ·ï¼Œå› ä¸ºä»£ç æ¨¡å—çš„æ”¹å˜ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æŠŠGDTã€IDTï¼Œå¯„å­˜å™¨è¿™äº›ä¸œè¥¿é‡æ–°åˆå§‹åŒ–ï¼Œæœ€åå†å»è°ƒç”¨äºŒçº§å¼•å¯¼å™¨çš„ä¸»å‡½æ•°ldrkrl_entryã€‚</p><h2>å·§å¦™è°ƒç”¨BIOSä¸­æ–­</h2><p>æˆ‘ä»¬ä¸è¦æ€¥ç€å»å†™ldrkrl_entryå‡½æ•°ï¼Œå› ä¸ºåœ¨åé¢æˆ‘ä»¬è¦è·å¾—å†…å­˜å¸ƒå±€ä¿¡æ¯ï¼Œè¦è®¾ç½®æ˜¾å¡å›¾å½¢æ¨¡å¼ï¼Œè€Œè¿™äº›åŠŸèƒ½ä¾èµ–äºBIOSæä¾›ä¸­æ–­æœåŠ¡ã€‚</p><p>å¯æ˜¯ï¼Œè¦åœ¨Cå‡½æ•°ä¸­è°ƒç”¨BIOSä¸­æ–­æ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºCè¯­è¨€ä»£ç å·¥ä½œåœ¨32ä½ä¿æŠ¤æ¨¡å¼ä¸‹ï¼ŒBIOSä¸­æ–­å·¥ä½œåœ¨16ä½çš„å®æ¨¡å¼ã€‚</p><p>æ‰€ä»¥ï¼ŒCè¯­è¨€ç¯å¢ƒä¸‹è°ƒç”¨BIOSä¸­æ–­ï¼Œéœ€è¦å¤„ç†çš„é—®é¢˜å¦‚ä¸‹ï¼š</p><p>1.ä¿å­˜Cè¯­è¨€ç¯å¢ƒä¸‹çš„CPUä¸Šä¸‹æ–‡ ï¼Œå³ä¿æŠ¤æ¨¡å¼ä¸‹çš„æ‰€æœ‰é€šç”¨å¯„å­˜å™¨ã€æ®µå¯„å­˜å™¨ã€ç¨‹åºæŒ‡é’ˆå¯„å­˜å™¨ï¼Œæ ˆå¯„å­˜å™¨ï¼ŒæŠŠå®ƒä»¬éƒ½ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚<br>\n2.åˆ‡æ¢å›å®æ¨¡å¼ï¼Œè°ƒç”¨BIOSä¸­æ–­ï¼ŒæŠŠBIOSä¸­æ–­è¿”å›çš„ç›¸å…³ç»“æœï¼Œä¿å­˜åœ¨å†…å­˜ä¸­ã€‚<br>\n3.åˆ‡æ¢å›ä¿æŠ¤æ¨¡å¼ï¼Œé‡æ–°åŠ è½½ç¬¬1æ­¥ä¸­ä¿å­˜çš„å¯„å­˜å™¨ã€‚è¿™æ ·Cè¯­è¨€ä»£ç æ‰èƒ½é‡æ–°æ¢å¤æ‰§è¡Œã€‚</p><p>è¦å®Œæˆä¸Šé¢çš„åŠŸèƒ½ï¼Œå¿…é¡»è¦å†™ä¸€ä¸ªæ±‡ç¼–å‡½æ•°æ‰èƒ½å®Œæˆï¼Œæˆ‘ä»¬å°±æŠŠå®ƒå†™åœ¨ldrkrl32.asmæ–‡ä»¶ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤º ã€‚</p><pre><code>realadr_call_entry:\n\tpushad     ;ä¿å­˜é€šç”¨å¯„å­˜å™¨\n\tpush    ds\n\tpush    es\n\tpush    fs ;ä¿å­˜4ä¸ªæ®µå¯„å­˜å™¨\n\tpush    gs\n\tcall save_eip_jmp ï¼›è°ƒç”¨save_eip_jmp \n\tpop\tgs\n\tpop\tfs\n\tpop\tes      ;æ¢å¤4ä¸ªæ®µå¯„å­˜å™¨\n\tpop\tds\n\tpopad       ;æ¢å¤é€šç”¨å¯„å­˜å™¨\n\tret\nsave_eip_jmp:\n\tpop esi  ï¼›å¼¹å‡ºcall save_eip_jmpæ—¶ä¿å­˜çš„eipåˆ°esiå¯„å­˜å™¨ä¸­ï¼Œ \n\tmov [PM32_EIP_OFF],esi ï¼›æŠŠeipä¿å­˜åˆ°ç‰¹å®šçš„å†…å­˜ç©ºé—´ä¸­\n\tmov [PM32_ESP_OFF],esp ï¼›æŠŠespä¿å­˜åˆ°ç‰¹å®šçš„å†…å­˜ç©ºé—´ä¸­\n\tjmp dword far [cpmty_mode]ï¼›é•¿è·³è½¬è¿™é‡Œè¡¨ç¤ºæŠŠcpmty_modeå¤„çš„ç¬¬ä¸€ä¸ª4å­—èŠ‚è£…å…¥eipï¼ŒæŠŠå…¶åçš„2å­—èŠ‚è£…å…¥cs\ncpmty_mode:\n\tdd 0x1000\n\tdw 0x18\n\tjmp $\n</code></pre><p>ä¸Šé¢çš„ä»£ç æˆ‘åˆ—äº†è¯¦ç»†æ³¨é‡Šï¼Œä½ ä¸€çœ‹å°±èƒ½æ˜ç™½ã€‚ä¸è¿‡è¿™é‡Œå”¯ä¸€ä¸å¥½æ‡‚çš„æ˜¯<strong>jmp dword far [cpmty_mode]æŒ‡ä»¤</strong>ï¼Œåˆ«æ‹…å¿ƒï¼Œå¬æˆ‘ç»™ä½ è§£è¯»ä¸€ä¸‹ã€‚</p><p>å…¶å®è¿™ä¸ªæŒ‡ä»¤æ˜¯ä¸€ä¸ª<strong>é•¿è·³è½¬</strong>ï¼Œè¡¨ç¤ºæŠŠ[cpmty_mode]å¤„çš„æ•°æ®è£…å…¥CSï¼šEIPï¼Œä¹Ÿå°±æ˜¯æŠŠ0x18ï¼š0x1000è£…å…¥åˆ°CSï¼šEIPä¸­ã€‚</p><p>è¿™ä¸ª0x18å°±æ˜¯æ®µæè¿°ç´¢å¼•ï¼ˆè¿™ä¸ªçŸ¥è¯†ç‚¹ä¸ç†Ÿæ‚‰çš„è¯ï¼Œä½ å¯ä»¥å›çœ‹æˆ‘ä»¬<a href=\"https://time.geekbang.org/column/article/375278\">ç¬¬äº”èŠ‚è¯¾</a>ï¼‰ï¼Œå®ƒæ­£æ˜¯æŒ‡å‘GDTä¸­çš„16ä½ä»£ç æ®µæè¿°ç¬¦ï¼›0x1000ä»£è¡¨æ®µå†…çš„åç§»åœ°å€ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªåœ°å€ä¸Šï¼Œæˆ‘ä»¬å¿…é¡»æ”¾ä¸€æ®µä»£ç æŒ‡ä»¤ï¼Œä¸ç„¶CPUè·³è½¬åˆ°è¿™é‡Œå°†æ²¡æŒ‡ä»¤å¯ä»¥æ‰§è¡Œï¼Œé‚£æ ·å°±ä¼šå‘ç”Ÿé”™è¯¯ã€‚</p><p>å› ä¸ºè¿™æ˜¯ä¸€ä¸ª16ä½ä»£ç ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ–°å»ºç«‹ä¸€ä¸ªæ–‡ä»¶realintsve.asmï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre><code>[bits 16]\n_start:\n_16_mode:\n\tmov\tbp,0x20 ;0x20æ˜¯æŒ‡å‘GDTä¸­çš„16ä½æ•°æ®æ®µæè¿°ç¬¦ \n\tmov\tds, bp\n\tmov\tes, bp\n\tmov\tss, bp\n\tmov\tebp, cr0\n\tand\tebp, 0xfffffffe\n\tmov\tcr0, ebp ï¼›CR0.P=0 å…³é—­ä¿æŠ¤æ¨¡å¼\n\tjmp\t0:real_entry ï¼›åˆ·æ–°CSå½±å­å¯„å­˜å™¨ï¼ŒçœŸæ­£è¿›å…¥å®æ¨¡å¼\nreal_entry:\n\tmov bp, cs\n\tmov ds, bp\n\tmov es, bp\n\tmov ss, bp ï¼›é‡æ–°è®¾ç½®å®æ¨¡å¼ä¸‹çš„æ®µå¯„å­˜å™¨ éƒ½æ˜¯CSä¸­å€¼ï¼Œå³ä¸º0 \n\tmov sp, 08000h ï¼›è®¾ç½®æ ˆ\n\tmov bp,func_table\n\tadd bp,ax\n\tcall [bp] ï¼›è°ƒç”¨å‡½æ•°è¡¨ä¸­çš„æ±‡ç¼–å‡½æ•°ï¼Œaxæ˜¯Cå‡½æ•°ä¸­ä¼ é€’è¿›æ¥çš„\n\tcli\n\tcall disable_nmi\n\tmov\tebp, cr0\n\tor\tebp, 1\n\tmov\tcr0, ebp ï¼›CR0.P=1 å¼€å¯ä¿æŠ¤æ¨¡å¼\n\tjmp dword 0x8 :_32bits_mode\n[BITS 32]\n_32bits_mode:\n\tmov bp, 0x10\n\tmov ds, bp\n\tmov ss, bpï¼›é‡æ–°è®¾ç½®ä¿æŠ¤æ¨¡å¼ä¸‹çš„æ®µå¯„å­˜å™¨0x10æ˜¯32ä½æ•°æ®æ®µæè¿°ç¬¦çš„ç´¢å¼•\n\tmov esi,[PM32_EIP_OFF]ï¼›åŠ è½½å…ˆå‰ä¿å­˜çš„EIP\n\tmov esp,[PM32_ESP_OFF]ï¼›åŠ è½½å…ˆå‰ä¿å­˜çš„ESP\n\tjmp esi ï¼›eip=esi å›åˆ°äº†realadr_call_entryå‡½æ•°ä¸­\n\nfunc_table:  ;å‡½æ•°è¡¨\n\tdw _getmmap ï¼›è·å–å†…å­˜å¸ƒå±€è§†å›¾çš„å‡½æ•°\n\tdw _read ï¼›è¯»å–ç¡¬ç›˜çš„å‡½æ•°\n    dw _getvbemode ï¼›è·å–æ˜¾å¡VBEæ¨¡å¼ \n    dw _getvbeonemodeinfo ï¼›è·å–æ˜¾å¡VBEæ¨¡å¼çš„æ•°æ®\n    dw _setvbemode ï¼›è®¾ç½®æ˜¾å¡VBEæ¨¡å¼\n</code></pre><p>ä¸Šé¢çš„ä»£ç æˆ‘ä»¬åªè¦å°†å®ƒç¼–è¯‘æˆ16ä½çš„äºŒè¿›åˆ¶çš„æ–‡ä»¶ï¼Œå¹¶æŠŠå®ƒæ”¾åœ¨0x1000å¼€å§‹çš„å†…å­˜ç©ºé—´ä¸­å°±å¯ä»¥äº†ã€‚è¿™æ ·åœ¨realadr_call_entryå‡½æ•°çš„æœ€åï¼Œå°±è¿è¡Œåˆ°è¿™æ®µä»£ç ä¸­æ¥äº†ã€‚</p><p>ä¸Šè¿°çš„ä»£ç çš„æµç¨‹æ˜¯è¿™æ ·çš„ï¼šé¦–å…ˆä» _16_mode:æ ‡å·å¤„è¿›å…¥å®æ¨¡å¼ï¼Œç„¶åæ ¹æ®ä¼ é€’è¿›æ¥ï¼ˆç”±axå¯„å­˜å™¨ä¼ å…¥ï¼‰çš„å‡½æ•°å·ï¼Œåˆ°å‡½æ•°è¡¨ä¸­è°ƒç”¨å¯¹åº”çš„å‡½æ•°ï¼Œé‡Œé¢çš„å‡½æ•°æ‰§è¡Œå®Œæˆåï¼Œå†æ¬¡è¿›å…¥ä¿æŠ¤æ¨¡å¼ï¼ŒåŠ è½½EIPå’ŒESPå¯„å­˜å™¨ä»è€Œå›åˆ°realadr_call_entryå‡½æ•°ä¸­ã€‚GDTè¿˜æ˜¯imghead.asmæ±‡ç¼–ä»£ç æ–‡ä»¶ä¸­çš„GDTï¼Œè¿™æ²¡æœ‰å˜ï¼Œå› ä¸ºå®ƒæ˜¯ç”±GDTRå¯„å­˜å™¨æŒ‡å‘çš„ã€‚</p><p>è¯´åˆ°è¿™é‡Œï¼Œç›¸ä¿¡ä½ ä¼šç«‹åˆ»æ˜ç™½ï¼Œä¹‹å‰write_realintsvefile()å‡½æ•°çš„åŠŸèƒ½ä¸æ„ä¹‰äº†ã€‚å®ƒä¼šæŠŠ<strong>æ˜ åƒæ–‡ä»¶ä¸­çš„initldrsve.binæ–‡ä»¶å†™å…¥åˆ°ç‰¹å®šçš„å†…å­˜åœ°å€ç©ºé—´ä¸­</strong>ï¼Œè€Œinitldrsve.binæ­£æ˜¯ç”±ä¸Šé¢çš„realintsve.asmæ–‡ä»¶ç¼–è¯‘è€Œæˆçš„ã€‚</p><h2>äºŒçº§å¼•å¯¼å™¨ä¸»å‡½æ•°</h2><p>å¥½ï¼Œç°åœ¨æˆ‘ä»¬å‡†å¤‡å¾—å·®ä¸å¤šäº†ï¼Œä»äºŒçº§å¼•å¯¼å™¨çš„ä¸»å‡½æ•°å¼€å§‹ï¼Œè¿™ä¸ªå‡½æ•°æˆ‘ä»¬è¦ç”¨Cæ¥å†™ï¼Œä¼°è®¡ä½ ä¹Ÿæ„Ÿå—åˆ°äº†å†™æ±‡ç¼–è¯­è¨€çš„å‹åŠ›ï¼Œæ‰€ä»¥ä¸èƒ½è€æ˜¯å†™æ±‡ç¼–ã€‚</p><p>æˆ‘ä»¬å…ˆå»ºç«‹ä¸€ä¸ªCæ–‡ä»¶ldrkrlentry.cï¼Œåœ¨å…¶ä¸­å†™ä¸Šä¸€ä¸ªä¸»å‡½æ•°ï¼Œä»£ç å¦‚ä¸‹ã€‚</p><pre><code>void ldrkrl_entry()\n{\n    init_bstartparm();\n    return;\n}\n</code></pre><p>ä¸Šè¿°ä»£ç ä¸­çš„ ldrkrl_entry()å‡½æ•°åœ¨initldr32.asmæ–‡ä»¶ï¼ˆé…å¥—ä»£ç åº“ä¸­å¯¹åº”ldrkrl32.asmï¼‰ä¸­è¢«è°ƒç”¨ï¼Œä»é‚£æ¡call ldrkrl_entry æŒ‡ä»¤å¼€å§‹è¿›å…¥äº†ldrkrl_entry()å‡½æ•°ï¼Œåœ¨å…¶ä¸­è°ƒç”¨äº†<strong>init_bstartparm()å‡½æ•°</strong>ï¼Œè¿™ä¸ªå‡½æ•°æˆ‘ä»¬è¿˜æ²¡æœ‰å®ç°ï¼Œä½†é€šè¿‡åå­—æˆ‘ä»¬ä¸éš¾æ¨æµ‹ï¼Œå®ƒæ˜¯è´Ÿè´£å¤„ç†å¼€å§‹å‚æ•°çš„ã€‚</p><p>ä½ è¿˜è®°ä¸è®°å¾—ï¼Œæˆ‘ä»¬å»ºé€ äºŒçº§å¼•å¯¼å™¨çš„ç›®çš„ï¼Œå°±æ˜¯è¦æ”¶é›†æœºå™¨ç¯å¢ƒä¿¡æ¯ã€‚æˆ‘ä»¬è¦æŠŠè¿™äº›ä¿¡æ¯å½¢æˆä¸€ä¸ªæœ‰ç»“æ„çš„å‚æ•°ï¼Œä¼ é€’ç»™æˆ‘ä»¬çš„æ“ä½œç³»ç»Ÿå†…æ ¸ä»¥å¤‡åç»­ä½¿ç”¨ã€‚</p><p>ç”±æ­¤ï¼Œæˆ‘ä»¬èƒ½å¤Ÿç¡®å®šï¼Œ<strong>init_bstartparm()å‡½æ•°æˆäº†æ”¶é›†æœºå™¨ç¯å¢ƒä¿¡æ¯çš„ä¸»å‡½æ•°</strong>ï¼Œä¸‹èŠ‚è¯¾æˆ‘ä»¬å°±ä¼šå»å®ç°å®ƒã€‚</p><h2>é‡ç‚¹å›é¡¾</h2><p>ä»Šå¤©æˆ‘ä»¬å¼€å§‹å®ç°äºŒçº§å¼•å¯¼å™¨äº†ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ²¡æœ‰å®Œå…¨å®ç°ï¼Œæˆ‘ä»¬ä¸‹ä¸€èŠ‚è¯¾å†æ¥ç€ç»§ç»­è¿™é¡¹å·¥ä½œã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥æ¢³ç†ä¸€ä¸‹è¿™èŠ‚è¯¾çš„å†…å®¹ï¼Œå›é¡¾ä¸€ä¸‹æˆ‘ä»¬ä»Šå¤©çš„æˆæœã€‚</p><p>1.æˆ‘ä»¬è®¾è®¡äº†æœºå™¨ä¿¡æ¯ç»“æ„ï¼Œç”¨äºå­˜æ”¾åé¢äºŒçº§å¼•å¯¼å™¨æ”¶é›†åˆ°çš„æœºå™¨ä¿¡æ¯ã€‚<br>\n2.å¯¹äºŒçº§å¼•å¯¼å™¨ä»£ç æ¨¡å—è¿›è¡Œäº†è§„åˆ’ï¼Œç¡®å®šå„æ¨¡å—çš„ä¸»è¦åŠŸèƒ½ã€‚<br>\n3.å®ç°äº†GRUBè§„å®šçš„GRUBå¤´ï¼Œä»¥ä¾¿è¢«GRUBè¯†åˆ«ï¼Œåœ¨GRUBå¤´ä¸­åˆå§‹åŒ–äº†CPUå¯„å­˜å™¨ï¼Œå¹¶ä¸”è·³è½¬åˆ°ç‰©ç†å†…å­˜çš„0x200000åœ°å€å¤„ï¼ŒçœŸæ­£è¿›å…¥åˆ°äºŒçº§å¼•å¯¼å™¨ä¸­å¼€å§‹è¿è¡Œã€‚<br>\n4.ä¸ºäº†äºŒçº§å¼•å¯¼å™¨èƒ½å¤Ÿè°ƒç”¨BIOSä¸­æ–­æœåŠ¡ç¨‹åºï¼Œæˆ‘ä»¬å®ç°äº†ä¸“é—¨ç”¨æ¥å®Œæˆè°ƒç”¨BIOSä¸­æ–­æœåŠ¡ç¨‹åºçš„realintsve.asmæ¨¡å—ã€‚<br>\n5.æœ€åï¼Œæˆ‘ä»¬å®ç°äº†äºŒçº§å¼•å¯¼å™¨çš„ä¸»å‡½æ•°ï¼Œç”±å®ƒè°ƒç”¨å®Œæˆå…¶å®ƒåŠŸèƒ½çš„å‡½æ•°ã€‚</p><p>è¿™é‡Œæˆ‘è¿˜æƒ³èŠèŠï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¦èŠ±è¿™ä¹ˆå¤šåŠŸå¤«ï¼Œå»è®¾è®¡äºŒçº§å¼•å¯¼å™¨è¿™ä¸ªç»„ä»¶å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬æŠŠè¿™äº›å¤„ç†æ“ä½œç³»ç»Ÿè¿è¡Œç¯å¢ƒçš„å·¥ä½œç‹¬ç«‹å‡ºæ¥ï¼Œäº¤ç»™äºŒçº§å¼•å¯¼å™¨æ¥åšï¼Œè¿™ä¼š<strong>å¤§å¤§é™ä½åé¢å¼€å‘æ“ä½œç³»ç»Ÿçš„éš¾åº¦ï¼Œä¹Ÿèƒ½å¢åŠ æ“ä½œç³»ç»Ÿçš„é€šç”¨æ€§ã€‚</strong>è€Œä¸”ï¼Œé’ˆå¯¹ä¸åŒçš„ç¡¬ä»¶å¹³å°ï¼Œæˆ‘ä»¬åªè¦å¼€å‘ä¸åŒçš„äºŒçº§å¼•å¯¼å™¨å°±å¥½äº†ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>è¯·é—®GRUBå¤´ä¸­ä¸ºä»€ä¹ˆéœ€è¦_entryæ ‡å·å’Œ_startæ ‡å·çš„åœ°å€ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè·Ÿæˆ‘äº¤æµæ´»åŠ¨ã€‚å¦‚æœä½ èº«è¾¹çš„åŒäº‹ã€æœ‹å‹ï¼Œå¯¹äºŒçº§å¼•å¯¼å™¨çš„å»ºç«‹æœ‰å…´è¶£ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™ä»–ã€‚</p><p>å¥½ï¼Œæˆ‘æ˜¯LMOSï¼Œæˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ï¼</p>","comments":[{"had_liked":false,"id":295830,"user_name":"neohope","can_delete":false,"product_type":"c1","uid":1043475,"ip_address":"","ucode":"C0268F6E7E2B6E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/13/49e98289.jpg","comment_is_top":true,"comment_ctime":1622614437,"is_pvip":false,"replies":[{"id":"107605","content":"å‰å®³äº†ï¼Œæ€»ç»“ çš„å¥½","user_name":"ä½œè€…å›å¤","comment_id":295830,"uid":"1345199","ip_address":"","utype":1,"ctime":1622989598,"user_name_real":"LMOS"}],"discussion_count":14,"race_medal":0,"score":"9.2233723563050004e+18","product_id":100078401,"comment_content":"å¤§ä½“ä¸Šæ•´ç†äº†ä¸€ä¸‹ï¼š<br><br>1ã€grubå¯åŠ¨åï¼Œé€‰æ‹©å¯¹åº”çš„å¯åŠ¨èœå•é¡¹ï¼Œgrubä¼šé€šè¿‡è‡ªå¸¦æ–‡ä»¶ç³»ç»Ÿé©±åŠ¨ï¼Œå®šä½åˆ°å¯¹åº”çš„ekiæ–‡ä»¶<br><br>2ã€grubä¼šå°è¯•åŠ è½½ekiæ–‡ä»¶ã€ekiæ–‡ä»¶éœ€è¦æ»¡è¶³grubå¤šåè®®å¼•å¯¼å¤´çš„æ ¼å¼è¦æ±‚ã€‘<br>è¿™äº›æ˜¯åœ¨imginithead.asmä¸­å®ç°çš„ï¼Œæ‰€ä»¥è¦åŒ…æ‹¬ï¼š<br>Aã€grubæ–‡ä»¶å¤´ï¼ŒåŒ…æ‹¬é­”æ•°ã€grub1å’Œgrub2æ”¯æŒç­‰<br>Bã€å®šä½çš„_startç¬¦å·ç­‰<br><br>3ã€grubæ ¡éªŒæˆåŠŸåï¼Œä¼šè°ƒç”¨_startï¼Œç„¶è·³è½¬åˆ°_entry<br>Aã€_entryä¸­:å…³é—­ä¸­æ–­<br>Bã€åŠ è½½GDT<br>Cã€ç„¶åè¿›å…¥_32bits_modeï¼Œæ¸…ç†å¯„å­˜å™¨ï¼Œè®¾ç½®æ ˆé¡¶<br>Dã€è°ƒç”¨inithead_entryã€Cã€‘<br><br>4ã€inithead_entry.c<br>Aã€ä»imginithead.asmè¿›å…¥åï¼Œé¦–å…ˆè¿›å…¥å‡½æ•°è°ƒç”¨inithead_entry<br>Bã€åˆå§‹åŒ–å…‰æ ‡ï¼Œæ¸…å±<br>Cã€ä»ekiæ–‡ä»¶å†…éƒ¨ï¼Œæ‰¾åˆ°initldrsve.binæ–‡ä»¶ï¼Œå¹¶åˆ†åˆ«æ‹·è´åˆ°å†…å­˜çš„æŒ‡å®šç‰©ç†åœ°å€<br>Dã€ä»ekiæ–‡ä»¶å†…éƒ¨ï¼Œæ‰¾åˆ°initldrkrl.binæ–‡ä»¶ï¼Œå¹¶åˆ†åˆ«æ‹·è´åˆ°å†…å­˜çš„æŒ‡å®šç‰©ç†åœ°å€<br>Eã€è¿”å›imginithead.asm<br><br>5ã€imginithead.asmä¸­ç»§ç»­æ‰§è¡Œ<br>jmp 0x200000<br>è€Œè¿™ä¸ªä½ç½®ï¼Œå°±æ˜¯initldrkrl.binåœ¨å†…å­˜çš„ä½ç½®ILDRKRL_PHYADR<br>æ‰€ä»¥åé¢è¦æ‰§è¡Œinitldrkrl.binçš„å†…å®¹<br><br>6ã€è¿™æ ·å°±åˆ°äº†ldrkrl32.asmçš„_entry<br>Aã€å°†GDTåŠ è½½åˆ°GDTRå¯„å­˜å™¨ã€å†…å­˜ã€‘<br>Bã€å°†IDTåŠ è½½åˆ°IDTRå¯„å­˜å™¨ã€ä¸­æ–­ã€‘<br>Cã€è·³è½¬åˆ°_32bits_mode<br>åˆå§‹å¯„å­˜å™¨<br>åˆå§‹åŒ–æ ˆ<br>è°ƒç”¨ldrkrl_entryã€Cã€‘<br><br>7ã€ldrkrlentry.c<br>Aã€åˆå§‹åŒ–å…‰æ ‡ï¼Œæ¸…å±<br>Bã€æ”¶é›†æœºå™¨å‚æ•°init_bstartparmã€Cã€‘<br><br>8ã€bstartparm.c<br>Aã€åˆå§‹åŒ–machbstart_t<br>Bã€å„ç±»åˆå§‹åŒ–å‡½æ•°ï¼Œå¡«å……machbstart_tçš„å†…å®¹<br>Cã€è¿”å›<br><br>9ã€ldrkrlentry.c<br>Aã€è¿”å›<br><br>10ã€ldrkrl32.asm<br>Aã€è·³è½¬åˆ°0x2000000åœ°å€ç»§ç»­æ‰§è¡Œ","like_count":74,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521230,"discussion_content":"å‰å®³äº†ï¼Œæ€»ç»“ çš„å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622989598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1474356,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI3F4IdQuDZrhN8ThibP85eCiaSWTYpTrcC6QB9EoAkw3IIj6otMibb1CgrS1uzITAnJmGLXQ2tgIkAQ/132","nickname":"cugphoenix","note":"","ucode":"80101AF04C00D3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377442,"discussion_content":"è¡¥å……ä¸€ä¸‹ï¼šgrubä¼šæŠŠæ˜ åƒæ–‡ä»¶ekiåŠ è½½åˆ°å†…å­˜0x4000000ï¼ˆ64MBï¼‰çš„ä½ç½®ä¸Šï¼Œæ˜ åƒæ–‡ä»¶å¤´æè¿°ç¬¦çš„ä½ç½®åœ¨0x4000000+0x1000 (64MB + 4KBï¼‰ï¼Œä»å¤´ä¿¡æ¯è§£æåˆ°\ninitldrsve.binå’Œinitldrkrl.binè¿™ä¸¤ä¸ªæ–‡ä»¶åœ¨å†…å­˜ä¸­çš„ä½ç½®ï¼Œç„¶åå†åˆ†åˆ«æ‹·è´åˆ°0x1000ï¼ˆ4KBï¼Œè°ƒç”¨BIOSä¸­æ–­çš„ä»£ç ï¼‰å’Œ0x200000ï¼ˆ2MBï¼ŒäºŒçº§å¼•å¯¼å™¨çš„ä»£ç ï¼‰çš„ä½ç½®ä¸Šã€‚","likes_number":13,"is_delete":false,"is_hidden":false,"ctime":1622644354,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2617338,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ef/fa/5e9f3dc9.jpg","nickname":"é©°å¾€","note":"","ucode":"859DAB36735F00","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1474356,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI3F4IdQuDZrhN8ThibP85eCiaSWTYpTrcC6QB9EoAkw3IIj6otMibb1CgrS1uzITAnJmGLXQ2tgIkAQ/132","nickname":"cugphoenix","note":"","ucode":"80101AF04C00D3","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382335,"discussion_content":"å¤§ä½¬ï¼Œè¯·é—®grubæ˜¯å¦‚ä½•åŠ è½½ekiæ–‡ä»¶åˆ°0x4000000çš„å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625535953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":377442,"ip_address":""},"score":382335,"extra":""}]},{"author":{"id":2674472,"avatar":"https://static001.geekbang.org/account/avatar/00/28/cf/28/6e45b5b2.jpg","nickname":"å‚…æ˜¥å•¸","note":"","ucode":"144DE575D6321D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381277,"discussion_content":"ç¬¬åæ­¥åˆè·³å›0x2000000æ˜¯è¦åšä»€ä¹ˆè¦ï¼Œä»ç¬¬å…­æ­¥å†æ¥ä¸€éå—ï¼Œè¿˜æœ‰initldrsveä»€ä¹ˆæ—¶å€™è°ƒç”¨çš„å‘¢ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1624978207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2619032,"avatar":"https://static001.geekbang.org/account/avatar/00/27/f6/98/e9708792.jpg","nickname":"åŒ—æ","note":"","ucode":"3FDF3F2A8DD2F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2674472,"avatar":"https://static001.geekbang.org/account/avatar/00/28/cf/28/6e45b5b2.jpg","nickname":"å‚…æ˜¥å•¸","note":"","ucode":"144DE575D6321D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382552,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625631242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":381277,"ip_address":""},"score":382552,"extra":""},{"author":{"id":2616028,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ea/dc/aa699264.jpg","nickname":"å®å…¸","note":"","ucode":"63953F36596C28","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2674472,"avatar":"https://static001.geekbang.org/account/avatar/00/28/cf/28/6e45b5b2.jpg","nickname":"å‚…æ˜¥å•¸","note":"","ucode":"144DE575D6321D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386694,"discussion_content":"initldrsveä»€ä¹ˆæ—¶å€™è°ƒç”¨çš„å‘¢:\n\n1.äºŒçº§å¼•å¯¼å™¨ä¼šè°ƒç”¨realadr_call_entryï¼Œrealadr_call_entryæœ€ç»ˆä¼šè·³è½¬åˆ°initldrsveä¸­æ‰§è¡Œã€‚initldrsveï¼ˆrealintsve.asm æ¨¡å—ï¼‰ä¸­å®ç°äº†ä¸€äº›å‡½æ•°ï¼Œå‡½æ•°çš„é€šè¿‡è°ƒç”¨BIOSä¸­æ–­æ¥ä½¿ç”¨BIOSæä¾›çš„æœåŠ¡ï¼Œå¦‚_getmmapã€_readã€_getvbemodeã€_getvbeonemodeinfoã€_setvbemodeç­‰ã€‚\næ‰§è¡Œå®Œå¯¹åº”çš„å‡½æ•°ä¼šè¿”å›realadr_call_entryã€‚\n\n2.äºŒçº§å¼•å¯¼å™¨åŸºäºrealadr_call_entryå°è£…äº†ä¸€ç³»åˆ—å‡½æ•°ï¼Œå¦‚mmapã€get_vbemodeã€get_vbemodeinfoã€set_vbemodeinfoç­‰ã€‚\n\n\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1627731525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":381277,"ip_address":""},"score":386694,"extra":""}]},{"author":{"id":1182103,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/97/a13db556.jpg","nickname":"å¾æ—­","note":"","ucode":"0B00D3C3070A43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579257,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657269414,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1623117,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c4/4d/85014aab.jpg","nickname":"ä¸€å‰æ ‘","note":"","ucode":"BFC984403ACD1F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558320,"discussion_content":"éå¸¸å¥½çš„æ€»ç»“ï¼Œæ„Ÿè°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648203922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1465629,"avatar":"","nickname":"enson","note":"","ucode":"646EEC7F63B5B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537405,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639053579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2677530,"avatar":"https://static001.geekbang.org/account/avatar/00/28/db/1a/52d1501f.jpg","nickname":"rain","note":"","ucode":"A2E81AB7C4274C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382620,"discussion_content":"å¤§ç¥ä½ å¥½ğŸ‘‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625647379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2619032,"avatar":"https://static001.geekbang.org/account/avatar/00/27/f6/98/e9708792.jpg","nickname":"åŒ—æ","note":"","ucode":"3FDF3F2A8DD2F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382551,"discussion_content":"å¤ªæ„Ÿè°¢äº†ï¼Œå¤§ä½¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625631078,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2646145,"avatar":"https://static001.geekbang.org/account/avatar/00/28/60/81/38b00111.jpg","nickname":"Feen","note":"","ucode":"E6CDC442B7213F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381761,"discussion_content":"çº æ­£ä¸€ä¸‹ï¼Œç¬¬4æ­¥ æ–‡ä»¶åæ˜¯inithead.cï¼Œä¸æ˜¯initheadentry.c","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625204128,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501316,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/dXf9e0gmVVV1ozqBIiaWiaxz1qgPZrYHT9x3ytnjfZ6quCH7gNtibXhsg66kH1E4FeTVHMB9J3PibNaMN2GthvceqA/132","nickname":"Geek_032c4a","note":"","ucode":"8CF7A8D681F15D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379614,"discussion_content":"çœ‹äº†ä½ çš„æ€»ç»“ æœ‰äº›ä¸æ˜ç™½çš„åœ°æ–¹éƒ½æ¸…æ¥šäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624012749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1115232,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","nickname":"Fan","note":"","ucode":"3BF28670FD9407","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378116,"discussion_content":"æ€»ç»“å¾—å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623058169,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295741,"user_name":"springXu","can_delete":false,"product_type":"c1","uid":2064750,"ip_address":"","ucode":"F5DB0B963C894F","user_header":"","comment_is_top":true,"comment_ctime":1622584992,"is_pvip":true,"replies":[{"id":"107611","content":"æ­£ç¡®çš„ ","user_name":"ä½œè€…å›å¤","comment_id":295741,"uid":"1345199","ip_address":"","utype":1,"ctime":1622989945,"user_name_real":"LMOS"}],"discussion_count":3,"race_medal":0,"score":"9.223372111491799e+18","product_id":100078401,"comment_content":"çœŸå®è¿›å…¥å®é™…å†™ä»£ç çš„è¯¾ç¨‹äº†ã€‚<br>å¯¹äºgrubçš„å¤´æ ¼å¼åœ¨çš„ç¬¬äºŒèŠ‚å†™ä¸ªHelloOS.binå°±å·²ç»æœ‰äº†ï¼Œè¿™æ¬¡å¤´æ ¼å¼è¿˜æ˜¯ä¼šæœ‰ã€‚ç†ç”±æ˜¯grubæ˜¯ä¸€çº§å¼•å¯¼å™¨ã€‚<br>è¿™èŠ‚è¯¾çš„å†…å®¹å°±æ˜¯å›´ç»•ç€ç”±ä¸€çº§è½¬åˆ°äºŒçº§å¼•å¯¼å™¨çš„è¿‡ç¨‹å±•å¼€äº†ã€‚<br>å…³äºäºŒçº§å¼•å¯¼å™¨çš„åŠ è½½è¿‡ç¨‹ï¼Œç®€å•ç‚¹è¯´å°±æ˜¯æŠŠæˆ‘ä»¬å†…æ ¸åŠ è½½åˆ°æŒ‡å®šå†…å­˜çš„ä½ç½®å¹¶æ‰§è¡Œï¼Œè¿™ä¸ªåŠ è½½å‡½æ•°æ ¸å¿ƒæ˜¯m2mcopyå‡½æ•°ï¼Œä¸œå“¥ç•™ç»™æˆ‘ä»¬è‡ªå·±åˆ†æäº†ï¼Œä½†ä¸œå“¥å¼ºè°ƒåˆ†æäº†ä¸‹ä¸ºä»€ä¹ˆä¼šæœ‰32ä½ä¸‹çš„ä»£ç å’Œ16ä½æ±‡ç¼–ä»£ç å…±å­˜çš„ç°è±¡ã€‚ å…¶å®æ˜¯ä¸ºäº†è®©BIOSæä¾›çš„è·å–ç¡¬ä»¶ä¿¡æ¯çš„æ“ä½œå‡½æ•°ï¼ˆä¹Ÿå°±æ˜¯å®æ¨¡å¼ä¸‹çš„BIOSä¸­æ–­å·æ¥è·å–çš„ï¼‰åšæˆäº†cè¯­è¨€ç¯å¢ƒä¸‹ä¹Ÿå¯ä»¥è°ƒç”¨çš„åŠŸèƒ½ã€‚è¿™å°±åƒè·¨è¯­è¨€äº’ç›¸è°ƒç”¨çš„æŠ€æœ¯ã€‚æ±‡ç¼–è°ƒç”¨cè¯­è¨€çš„æ–¹æ³•ï¼Œåè¿‡æ¥cè¯­è¨€è°ƒç”¨æ±‡ç¼–æ–¹æ³•ã€‚ä½†æ›´ä¸ºå¤æ‚äº›ï¼ŒåŸå› æ˜¯ä¿æŠ¤æ¨¡å¼åˆ°å®æ¨¡å¼å†å›åˆ°ä¿æŠ¤æ¨¡å¼çš„åˆ‡æ¢è¿‡ç¨‹ã€‚å†…æ ¸å¯ä»¥è·å–ç¡¬ä»¶ä¿¡æ¯å°±å¯ä»¥æ ¹æ®ç¡¬ä»¶ç¯å¢ƒå‚æ•°ï¼Œé…ç½®è‡ªèº«å‚æ•°å¼€å§‹å·¥ä½œäº†ã€‚å¦‚ä½•é…ç½®å‚æ•°ï¼Œé‚£åˆæ˜¯ä¸‹èŠ‚ç»§ç»­æ’­è®²ã€‚å‘¨äº”è§ã€‚<br>å…³äºæ€è€ƒé¢˜ï¼Œè¿™ä¸ªæ˜¯grubä¹Ÿæ˜¯è¦æŠŠæ§åˆ¶æƒäº¤ç»™æˆ‘ä»¬äºŒçº§å¼•å¯¼å™¨çš„å…¥å£åœ°å€ã€‚ è‡³äºä¸ºä»€ä¹ˆä¸å…‰æœ‰ä¸€ä¸ª_startå°±å¯ä»¥äº†ï¼Œæˆ‘çŒœæµ‹æ˜¯ä¸ºäº†åšéªŒè¯å§ã€‚_startçš„æ“ä½œæ˜¯jmp åœ°å€ã€‚è¿™ä¸ªåœ°å€æ­£å¥½æ˜¯_entryã€‚æœ‰é”™è¯¯è¿˜è¯·ä¸œå“¥æŒ‡æ­£ã€‚å“ˆå“ˆ","like_count":17,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521200,"discussion_content":"æ­£ç¡®çš„ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622989945,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":2722260,"avatar":"https://static001.geekbang.org/account/avatar/00/29/89/d4/c6f47fb9.jpg","nickname":"xiaolverå¸Œæœ›è‡ªå·±å˜å¼º","note":"","ucode":"9771CC097E8273","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":583789,"discussion_content":"â€œå› ä¸ºæˆ‘ä»¬äºŒçº§å¼•å¯¼å™¨ä¸æ˜¯æ‰§è¡Œå…·ä½“çš„åŠ è½½ä»»åŠ¡çš„ï¼Œè€Œæ˜¯è§£æå†…æ ¸æ–‡ä»¶ã€æ”¶é›†æœºå™¨ç¯å¢ƒä¿¡æ¯ï¼Œå®ƒå…·ä½“æ”¶é›†å“ªäº›ä¿¡æ¯ï¼Œæˆ‘ä¼šåœ¨ä¸‹èŠ‚è¯¾è¯¦ç»†å±•å¼€ã€‚â€è¶Šæ¥è¶Šç–‘æƒ‘äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660382950,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":521200,"ip_address":"å¹¿ä¸œ"},"score":583789,"extra":""},{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"å¬æ°´çš„æ¹–","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":2722260,"avatar":"https://static001.geekbang.org/account/avatar/00/29/89/d4/c6f47fb9.jpg","nickname":"xiaolverå¸Œæœ›è‡ªå·±å˜å¼º","note":"","ucode":"9771CC097E8273","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585382,"discussion_content":"å…·ä½“æ˜¯å•¥ç–‘æƒ‘å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661503622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":583789,"ip_address":""},"score":585382,"extra":""}]}]},{"had_liked":false,"id":296039,"user_name":"å—£æ ‘","can_delete":false,"product_type":"c1","uid":1019334,"ip_address":"","ucode":"C6196E30F867D0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c6/e648d118.jpg","comment_is_top":true,"comment_ctime":1622713817,"is_pvip":false,"replies":[{"id":"107593","content":"å—¯å—¯ æ˜¯çš„ ","user_name":"ä½œè€…å›å¤","comment_id":296039,"uid":"1345199","ip_address":"","utype":1,"ctime":1622989034,"user_name_real":"LMOS"}],"discussion_count":2,"race_medal":0,"score":"9.2233720513624003e+18","product_id":100078401,"comment_content":"å›ç­”ä¸€ä¸‹é—®é¢˜ï¼ŒGRUB å¤´ä¸­ä¸ºä»€ä¹ˆéœ€è¦ _entry æ ‡å·å’Œ _start æ ‡å·çš„åœ°å€ï¼Ÿ<br><br>æˆ‘ä»¬å®šä¹‰çš„ flags å€¼ä¸ºï¼š<br>MBT_HDR_FLAGS EQU 0x00010003<br><br>æ ¹æ® Multiboot Specification å®šä¹‰çš„å¤´ç»“æ„<br>Offset\tType\tField Name\t\tNote<br>0\t\tu32\t\tmagic\t\t\trequired<br>4\t\tu32\t\tflags\t\t\trequired<br>8\t\tu32\t\tchecksum\t\trequired<br>12\t\tu32\t\theader_addr\t\tif flags[16] is set<br>16\t\tu32\t\tload_addr\t\t        if flags[16] is set<br>20\t\tu32\t\tload_end_addr\t        if flags[16] is set<br>24\t\tu32\t\tbss_end_addr\t        if flags[16] is set<br>28\t\tu32\t\tentry_addr\t\tif flags[16] is set<br>32\t\tu32\t\tmode_type\t\tif flags[2] is set<br>36\t\tu32\t\twidth\t\t\tif flags[2] is set<br>40\t\tu32\t\theight\t\t\tif flags[2] is set<br>44\t\tu32\t\tdepth\t\t\tif flags[2] is set<br><br>flags[16] è§£é‡Šå¦‚ä¸‹ï¼š<br>If bit 16 in the â€˜flagsâ€™ word is set, then the fields at offsets 12-28 in the Multiboot header are valid, and the boot loader should use them instead of the fields in the actual executable header to calculate where to load the OS image. This information does not need to be provided if the kernel image is in ELF format, but it must be provided if the images is in a.out format or in some other format. Compliant boot loaders must be able to load images that either are in ELF format or contain the load address information embedded in the Multiboot header; they may also directly support other executable formats, such as particular a.out variants, but are not required to.<br><br>ä¹Ÿå°±æ˜¯å¦‚æœæˆ‘ä»¬ç”¨çš„æ˜¯æ ‡å‡†çš„ ELF æ–‡ä»¶å°±ä¸éœ€è¦æä¾›é¢å¤–çš„åœ°å€ä¿¡æ¯ï¼Œè€Œæˆ‘ä»¬ç”¨çš„æ˜¯è‡ªå·±å®šä¹‰çš„æ ¼å¼å°±éœ€è¦äººå®¶ä»å“ªé‡ŒåŠ è½½å“ªé‡Œè¿è¡Œï¼Œæ‰€ä»¥éœ€è¦å°† bit 16 ä½¿èƒ½ï¼Œå¡«å……ç›¸åº”çš„å­—æ®µã€‚<br><br>å†è§£é‡Šä¸‹ä¸¤ä¸ªå­—æ®µçš„å«ä¹‰ï¼š<br>load_addr<br>Contains the physical address of the beginning of the text segment. The offset in the OS image file at which to start loading is defined by the offset at which the header was found, minus (header_addr - load_addr). load_addr must be less than or equal to header_addr.<br><br>entry_addr<br>The physical address to which the boot loader should jump in order to start running the operating system.","like_count":3,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521302,"discussion_content":"å—¯å—¯ æ˜¯çš„ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622989034,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2617112,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ef/18/6a620733.jpg","nickname":"kocgockohgohç‹è£’","note":"","ucode":"35EFABDE0D713D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535979,"discussion_content":"æ„Ÿè§‰entry_addræ²¡ä»€ä¹ˆç”¨å•Š  ä¸è®¾æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥å•Š  å› ä¸ºåæ­£ä»£ç é‡Œæœ‰jmp  _entry","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638625327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295747,"user_name":"pedro","can_delete":false,"product_type":"c1","uid":1200704,"ip_address":"","ucode":"F40C839DDFD599","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","comment_is_top":false,"comment_ctime":1622589932,"is_pvip":false,"replies":[{"id":"107610","content":"å¯¹å•Š <br>å“ˆå“ˆ é“æ±å¥½","user_name":"ä½œè€…å›å¤","comment_id":295747,"uid":"1345199","ip_address":"","utype":1,"ctime":1622989853,"user_name_real":"LMOS"}],"discussion_count":5,"race_medal":0,"score":"57457164780","product_id":100078401,"comment_content":"æ—©èµ·çœ‹ä¸“æ ï¼<br>å…ˆå›ç­”æ€è€ƒé¢˜ï¼Œgrubæ˜¯multibootè§„èŒƒï¼Œå› æ­¤å¼•å¯¼å™¨å¤´éƒ¨æ•°æ®å¿…é¡»å¾—æ»¡è¶³ä¸€å®šçš„è§„åˆ™æ‰èƒ½è¢«grubæ‰€åŠ è½½ï¼Œæœ¬æ–‡ä¸­çš„MBT_HDR_FLAGSä¸º0x001003ï¼Œç¬¬16ä½è¢«ç½®ä¸º1ï¼Œå› æ­¤load_addrå’Œentry_addréƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œè€Œå®ƒä»¬æ­£å¥½åˆ†åˆ«å¯¹åº”_startå’Œ_entryã€‚<br>å…¶ä¸­load_addræ˜¯å¼•å¯¼å™¨äºŒè¿›åˆ¶æ–‡ä»¶textæ®µçš„èµ·å§‹åœ°å€ï¼Œå³_startï¼Œgrubè§£æå¤´éƒ¨æ•°æ®åï¼Œæ‹¿åˆ°_startåœ°å€ï¼Œå¹¶ä»è¯¥åœ°å€å¤„å¼€å§‹æ‰§è¡ŒäºŒçº§å¼•å¯¼å™¨ä»£ç ã€‚<br>è€Œentry_addrå¯¹åº”çš„æ˜¯æ“ä½œç³»ç»Ÿçš„å…¥å£ç‚¹ï¼Œä¹Ÿå°±æ˜¯_entryã€‚å¼•å¯¼ç¨‹åºæœ€åå°†è·³è½¬åˆ°è¿™é‡Œï¼Œä¸è¿‡æœ¬æ–‡çš„å®ç°å¹¶æ²¡æœ‰å®Œå…¨æŒ‰ç…§è¿™ç§æ€è·¯æ¥ï¼Œ_startç›´æ¥è·³åˆ°_entryï¼Œç„¶åç”±_entryè´Ÿè´£äºŒçº§å¼•å¯¼å·¥ä½œã€‚","like_count":13,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521204,"discussion_content":"å¯¹å•Š \nå“ˆå“ˆ é“æ±å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622989853,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1200704,"avatar":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","nickname":"pedro","note":"","ucode":"F40C839DDFD599","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377347,"discussion_content":"é˜¿è¥¿ï¼Œè¿™ä¸ªå°èŠ‚å¯æ˜¯åˆ·æ–°äº†æˆ‘çš„è®¤çŸ¥ï¼ŒåŸæ¥æˆ‘ä¸€ç›´è®¤ä¸º bios å°†æ“ä½œæƒäº¤ç»™ bootloader åï¼Œbootloader ç›´æ¥åŠ è½½æ“ä½œç³»ç»Ÿï¼Œç°åœ¨ç¡¬ç”Ÿç”Ÿæ•´å‡ºä¸€ä¸ªäºŒçº§å¼•å¯¼å™¨ï¼Œä¸ä»… GDTR åŠ è½½äº†ä¸¤æ¬¡ï¼Œè¿˜åœ¨ä¿æŠ¤æ¨¡å¼ä¸‹åˆ‡å›å®æ¨¡å¼ï¼Œé€šè¿‡ bios è·å–ç¡¬ä»¶ä¿¡æ¯ï¼ŒçŸ¥è¯†ç‚¹ç›´æ¥çˆ†ç‚¸å•Š~æˆ‘å¾—ç¼“ç¼“","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1622608766,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2617112,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ef/18/6a620733.jpg","nickname":"kocgockohgohç‹è£’","note":"","ucode":"35EFABDE0D713D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535976,"discussion_content":"è¯·é—®start  å’Œ  entryè¿™ä¸¤ä¸ªåå­—æ˜¯å›ºå®šçš„ä¹ˆ æ¢æˆåˆ«çš„åå­—è¡Œä¹ˆ  grubä¼šæŠ¥é”™ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638624402,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2677530,"avatar":"https://static001.geekbang.org/account/avatar/00/28/db/1a/52d1501f.jpg","nickname":"rain","note":"","ucode":"A2E81AB7C4274C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382619,"discussion_content":"é“å­ï¼Œä½ å’‹çŸ¥é“å¾—é‚£ä¹ˆå¤šï¼Œå•Šå“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625647295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2624931,"avatar":"https://static001.geekbang.org/account/avatar/00/28/0d/a3/9757c66c.jpg","nickname":"ç£Š","note":"","ucode":"5C047DFEAF7F2E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381566,"discussion_content":"æ›´æ­£ä¸‹MBT_HDR_FLAGSä¸º0x00010003","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625126926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312633,"user_name":"Amerny","can_delete":false,"product_type":"c1","uid":1757125,"ip_address":"","ucode":"8877A0B953A85F","user_header":"https://static001.geekbang.org/account/avatar/00/1a/cf/c5/8691f309.jpg","comment_is_top":false,"comment_ctime":1631902495,"is_pvip":false,"replies":[{"id":"113258","content":"éœ€è¦å¤šçœ‹å‡ é","user_name":"ä½œè€…å›å¤","comment_id":312633,"uid":"1345199","ip_address":"","utype":1,"ctime":1631926424,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"31696673567","product_id":100078401,"comment_content":"æ„Ÿè§‰ä»£ç ä¹Ÿçœ‹ä¸æ‡‚ï¼Œç¨€é‡Œç³Šæ¶‚çš„ï¼Œæ˜¯ä¸æ˜¯å¾—éœ€è¦æŠŠä»£ç çœ‹æ‡‚äº†æ‰èƒ½è¿›è¡Œä¸‹ä¸€æ­¥å‘€ï¼Œè„‘å­ä¸å¤Ÿç”¨äº†","like_count":7,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527056,"discussion_content":"éœ€è¦å¤šçœ‹å‡ é","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631926424,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308725,"user_name":"æ™¶","can_delete":false,"product_type":"c1","uid":2687211,"ip_address":"","ucode":"14D1FB23EF16E8","user_header":"https://static001.geekbang.org/account/avatar/00/29/00/eb/5cec6300.jpg","comment_is_top":false,"comment_ctime":1629772366,"is_pvip":false,"replies":[{"id":"111903","content":"æ˜¯çš„ ","user_name":"ä½œè€…å›å¤","comment_id":308725,"uid":"1345199","ip_address":"","utype":1,"ctime":1629940841,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"18809641550","product_id":100078401,"comment_content":"å¯¹åº”grub2çš„ä»£ç å®šä¹‰ç»“æ„ï¼š<br>struct multiboot_header<br>{<br>  multiboot_uint32_t magic; &#47;&#47; é­”æ•° 0xE85250D6\t  <br>  multiboot_uint32_t architecture; &#47;&#47; æ¶æ„ 0è¡¨ç¤ºx86<br>  multiboot_uint32_t header_length; &#47;&#47; è¡¨ç¤ºmb header é•¿åº¦<br>  multiboot_uint32_t checksum; &#47;&#47; æ ¡éªŒå’Œ<br>};<br><br>åœ¨ ä¹‹åæ˜¯multiboot_header_tagï¼Œ<br>struct multiboot_header_tag_address<br>{<br>    multiboot_uint16_t type;    &#47;&#47; 2 è¡¨ç¤º  multiboot_header_tag_address<br>    multiboot_uint16_t flags;   &#47;&#47; 0 <br>    multiboot_uint32_t size;    &#47;&#47; 24<br>    multiboot_uint32_t header_addr;  &#47;&#47; mbhdr<br>    multiboot_uint32_t load_addr;    &#47;&#47; _start<br>    multiboot_uint32_t load_end_addr; &#47;&#47; 0 è¡¨ç¤ºæ•°æ®æ®µ å’Œ ä»£ç æ®µä¸€æ · å ç”¨æ•´ä¸ªç©ºé—´<br>    multiboot_uint32_t bss_end_addr;  &#47;&#47; 0 <br>};<br><br>å†ä¹‹åæ˜¯ multiboot_header_tag_entry_address<br>struct multiboot_header_tag_entry_address<br>{<br>  multiboot_uint16_t type;  &#47;&#47; type = 3 è¡¨ç¤º multiboot_header_tag_entry_address<br>  multiboot_uint16_t flags; <br>  multiboot_uint32_t size;<br>  multiboot_uint32_t entry_addr;<br>};<br><br>mbhdr:<br>    DD  0xE85250D6\t  magic<br>    DD  0  architecture<br>    DD  mhdrend - mbhdr    header_length<br>    DD  -(0xE85250D6 + 0 + (mhdrend - mbhdr))     checksum<br>   <br>  ï¼›multiboot_header_tag<br>    DW  2, 0    ; type = 2 ;flag  = 0;<br>    DD  24      ; size =24<br>    DD  mbhdr<br>    DD  _start<br>    DD  0<br>    DD  0<br><br>  ;multiboot_header_tag_entry_address<br>    DW  3, 0    ;;type = 3 flag = 0<br>    DD  12<br>    DD  _entry  ; entry_addr = _entry  <br>    <br>  ;<br>    DD      0  <br>    DW  0, 0<br>    DD  8","like_count":4,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525603,"discussion_content":"æ˜¯çš„ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629940841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":307348,"user_name":"æ²ˆç•…","can_delete":false,"product_type":"c1","uid":1077953,"ip_address":"","ucode":"7404E41356B36B","user_header":"https://static001.geekbang.org/account/avatar/00/10/72/c1/59509397.jpg","comment_is_top":false,"comment_ctime":1629038405,"is_pvip":true,"replies":[{"id":"111301","content":"æ˜¯çš„ æ˜¯çš„ ","user_name":"ä½œè€…å›å¤","comment_id":307348,"uid":"1345199","ip_address":"","utype":1,"ctime":1629085432,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"14513940293","product_id":100078401,"comment_content":"å¦‚æœæˆ‘ä»¬ä¸ç”¨grubä½œä¸ºå¼•å¯¼ç¨‹åºï¼Œè‡ªå·±å†™ä¸€ä¸ªå¼•å¯¼ç¨‹åºï¼Œåœ¨å®æ¨¡å¼ä¸‹ï¼Œæ˜¯ä¸æ˜¯å°±å¯ä»¥ç›´æ¥è°ƒç”¨boisä¸­æ–­æ”¶é›†ç¡¬ä»¶ä¿¡æ¯ï¼Œè€Œä¸éœ€è¦åé¢åœ¨ä¿æŠ¤æ¨¡å¼ä¸‹åˆ‡æ¢å›å®æ¨¡å¼ï¼Œå†æ”¶é›†ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525121,"discussion_content":"æ˜¯çš„ æ˜¯çš„ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629085432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295944,"user_name":"ç†Šå…‰çº¢","can_delete":false,"product_type":"c1","uid":2617636,"ip_address":"","ucode":"2216C008FAD248","user_header":"https://static001.geekbang.org/account/avatar/00/27/f1/24/07ce02a0.jpg","comment_is_top":false,"comment_ctime":1622679204,"is_pvip":false,"replies":[{"id":"107600","content":"printf èµ°å¤©ä¸‹ ","user_name":"ä½œè€…å›å¤","comment_id":295944,"uid":"1345199","ip_address":"","utype":1,"ctime":1622989349,"user_name_real":"LMOS"}],"discussion_count":3,"race_medal":0,"score":"14507581092","product_id":100078401,"comment_content":"è¯·é—®è€å¸ˆï¼Œå¦‚ä½•è°ƒè¯•å†…æ ¸ï¼Ÿæ€ä¹ˆæ­å»ºè°ƒè¯•ç¯å¢ƒ","like_count":3,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521275,"discussion_content":"printf èµ°å¤©ä¸‹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622989349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1738119,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/85/87/727142bc.jpg","nickname":"MacBao","note":"","ucode":"8CF51C3688C8F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377521,"discussion_content":"qemu+gdb\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622693270,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1531189,"avatar":"https://static001.geekbang.org/account/avatar/00/17/5d/35/b1eb964a.jpg","nickname":"ğŸŸğŸ™ğŸ¬ğŸ†ğŸ¦ŒğŸ¦ğŸ‘ğŸ¦ƒ","note":"","ucode":"2F954654BCE13B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575609,"discussion_content":"ç”¨ bochs ï¼Œqemu","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654950075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304334,"user_name":"ğŸ‹ ğŸ‹ ğŸ‹","can_delete":false,"product_type":"c1","uid":2637450,"ip_address":"","ucode":"388A6089DBD7EE","user_header":"https://static001.geekbang.org/account/avatar/00/28/3e/8a/204165cc.jpg","comment_is_top":false,"comment_ctime":1627356671,"is_pvip":false,"replies":[{"id":"110128","content":"æ²¡åˆ°æ—¶å€™  ç»§ç»­å¾€åçœ‹ ","user_name":"ä½œè€…å›å¤","comment_id":304334,"uid":"1345199","ip_address":"","utype":1,"ctime":1627358813,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"10217291263","product_id":100078401,"comment_content":"è€å¸ˆ lmoskrlimgï¼šæœªæ‰¾åˆ°å‘½ä»¤   æ˜¯ä¸ºä»€ä¹ˆå‘€","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524017,"discussion_content":"æ²¡åˆ°æ—¶å€™  ç»§ç»­å¾€åçœ‹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627358813,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298095,"user_name":"Geek_032c4a","can_delete":false,"product_type":"c1","uid":1501316,"ip_address":"","ucode":"8CF7A8D681F15D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/dXf9e0gmVVV1ozqBIiaWiaxz1qgPZrYHT9x3ytnjfZ6quCH7gNtibXhsg66kH1E4FeTVHMB9J3PibNaMN2GthvceqA/132","comment_is_top":false,"comment_ctime":1623910737,"is_pvip":false,"replies":[{"id":"108210","content":"ä»£ç ä»“åº“ä¸­æœ‰çš„ pullä¸€ä¸‹","user_name":"ä½œè€…å›å¤","comment_id":298095,"uid":"1345199","ip_address":"","utype":1,"ctime":1623981073,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"10213845329","product_id":100078401,"comment_content":"è¯·é—®ä¸‹lmoskrlimgæºä»£ç æ˜¯å“ªä¸ªï¼Œæˆ‘æœäº†ä¸€åœˆæ²¡çœ‹åˆ°å·¥å…·çš„æºä»£ç ï¼Œæ˜¯åªç»™äº†ä¸ªäºŒè¿›åˆ¶å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522013,"discussion_content":"ä»£ç ä»“åº“ä¸­æœ‰çš„ pullä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623981073,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295766,"user_name":"blentle","can_delete":false,"product_type":"c1","uid":1064679,"ip_address":"","ucode":"AC092609A4942A","user_header":"https://static001.geekbang.org/account/avatar/00/10/3e/e7/261711a5.jpg","comment_is_top":false,"comment_ctime":1622595025,"is_pvip":false,"replies":[{"id":"107609","content":"åé¢è¿˜æœ‰å‘¢","user_name":"ä½œè€…å›å¤","comment_id":295766,"uid":"1345199","ip_address":"","utype":1,"ctime":1622989782,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"10212529617","product_id":100078401,"comment_content":"è¶Šæ¥è¶Šæœ‰æ„æ€äº†","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521208,"discussion_content":"åé¢è¿˜æœ‰å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622989782,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325289,"user_name":"Geek_e42826","can_delete":false,"product_type":"c1","uid":2855670,"ip_address":"","ucode":"38A1AF645B28FF","user_header":"","comment_is_top":false,"comment_ctime":1638890988,"is_pvip":false,"replies":[{"id":"118095","content":"æ­å–œ","user_name":"ä½œè€…å›å¤","comment_id":325289,"uid":"1345199","ip_address":"","utype":1,"ctime":1639012983,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"5933858284","product_id":100078401,"comment_content":"make æŠ¥é”™æŒ‡å—<br>1, éœ€è¦å…ˆå®‰è£…nasmã€‚sudo apt install nasm <br>```c<br>hello@hello-VirtualBox:~&#47;01OS&#47;01HelloOS&#47;cosmos&#47;lesson10~11&#47;Cosmos$ make all <br>æ¸…ç†å…¨éƒ¨å·²æ„å»ºæ–‡ä»¶... ^_^<br>*********æ­£åœ¨å¼€å§‹ç¼–è¯‘æ„å»ºç³»ç»Ÿ*************<br>make[3]: nasm: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•<br>make[3]: *** [krnlbuidrule.mh:10ï¼šimginithead.o] é”™è¯¯ 127<br>make[2]: *** [Makefile:27ï¼šall] é”™è¯¯ 2<br>make[1]: *** [Makefile.x86:22ï¼šall] é”™è¯¯ 2<br>make: *** [Makefile:58ï¼šall] é”™è¯¯ 2<br>```<br>2ï¼Œéœ€è¦å®‰è£…gccã€‚sudo apt install gcc<br>```c<br>hello@hello-VirtualBox:~&#47;01OS&#47;01HelloOS&#47;cosmos&#47;lesson10~11&#47;Cosmos$ make all <br>æ¸…ç†å…¨éƒ¨å·²æ„å»ºæ–‡ä»¶... ^_^<br>*********æ­£åœ¨å¼€å§‹ç¼–è¯‘æ„å»ºç³»ç»Ÿ*************<br>AS -[M] æ­£åœ¨æ„å»º... ..&#47;ldrkrl&#47;imginithead.asm<br>make[3]: gcc: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•<br>make[3]: *** [krnlbuidrule.mh:13ï¼šinithead.o] é”™è¯¯ 127<br>make[2]: *** [Makefile:27ï¼šall] é”™è¯¯ 2<br>make[1]: *** [Makefile.x86:22ï¼šall] é”™è¯¯ 2<br>make: *** [Makefile:58ï¼šall] é”™è¯¯ 2<br>```<br><br>3ã€makeæˆåŠŸæ˜¾ç¤ºå¦‚ä¸‹<br>```c<br>hello@hello-VirtualBox:~&#47;01OS&#47;01HelloOS&#47;cosmos&#47;lesson10~11&#47;Cosmos$ make all <br>æ¸…ç†å…¨éƒ¨å·²æ„å»ºæ–‡ä»¶... ^_^<br>*********æ­£åœ¨å¼€å§‹ç¼–è¯‘æ„å»ºç³»ç»Ÿ*************<br>AS -[M] æ­£åœ¨æ„å»º... ..&#47;ldrkrl&#47;imginithead.asm<br>CC -[M] æ­£åœ¨æ„å»º... ..&#47;ldrkrl&#47;inithead.c<br>CC -[M] æ­£åœ¨æ„å»º... ..&#47;ldrkrl&#47;vgastr.c<br>AS -[M] æ­£åœ¨æ„å»º... ..&#47;ldrkrl&#47;ldrkrl32.asm<br>CC -[M] æ­£åœ¨æ„å»º... ..&#47;ldrkrl&#47;ldrkrlentry.c<br>CC -[M] æ­£åœ¨æ„å»º... ..&#47;ldrkrl&#47;fs.c<br>CC -[M] æ­£åœ¨æ„å»º... ..&#47;ldrkrl&#47;chkcpmm.c<br>CC -[M] æ­£åœ¨æ„å»º... ..&#47;ldrkrl&#47;graph.c<br>CC -[M] æ­£åœ¨æ„å»º... ..&#47;ldrkrl&#47;bstartparm.c<br>AS -[M] æ­£åœ¨æ„å»º... ..&#47;ldrkrl&#47;realintsve.asm<br>OBJCOPY -[M] æ­£åœ¨æ„å»º... initldrimh.bin<br>OBJCOPY -[M] æ­£åœ¨æ„å»º... initldrkrl.bin<br>OBJCOPY -[M] æ­£åœ¨æ„å»º... initldrsve.bin<br>æ–‡ä»¶æ•°ï¼š2<br>æ˜ åƒæ–‡ä»¶å¤§å°ï¼š20480<br>æ­å–œæˆ‘ï¼Œç³»ç»Ÿç¼–è¯‘æ„å»ºå®Œæˆï¼ ^_^<br>æ­å–œæˆ‘ï¼Œç³»ç»Ÿç¼–è¯‘æ„å»ºå®Œæˆï¼ ^_^<br>æ­å–œæˆ‘ï¼Œç³»ç»Ÿç¼–è¯‘æ„å»ºå®Œæˆï¼ ^_^<br>hello@hello-VirtualBox:~&#47;01OS&#47;01HelloOS&#47;cosmos&#47;less<br>```<br>","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537251,"discussion_content":"æ­å–œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639012983,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304945,"user_name":"Jayying","can_delete":false,"product_type":"c1","uid":2072250,"ip_address":"","ucode":"997F9E233E24CF","user_header":"https://static001.geekbang.org/account/avatar/00/1f/9e/ba/4b60c587.jpg","comment_is_top":false,"comment_ctime":1627714933,"is_pvip":false,"replies":[{"id":"110314","content":"åˆ°åä¸‰èŠ‚è¯¾ä»¥åä¸»è¦å°±æ˜¯Cå•¦ï¼ŒåŠ æ²¹ï½","user_name":"ç¼–è¾‘å›å¤","comment_id":304945,"uid":"1501385","ip_address":"","utype":2,"ctime":1627717163,"user_name_real":"èµµå®‡æ–°"}],"discussion_count":1,"race_medal":0,"score":"5922682229","product_id":100078401,"comment_content":"ä¸å¤§ä¼šæ±‡ç¼–è¯­è¨€ï¼Œæ„Ÿè§‰çœ‹æ±‡ç¼–è¿˜æœ‰äº›éš¾åº¦","like_count":1,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"å¬æ°´çš„æ¹–","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524223,"discussion_content":"åˆ°åä¸‰èŠ‚è¯¾ä»¥åä¸»è¦å°±æ˜¯Cå•¦ï¼ŒåŠ æ²¹ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627717163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298295,"user_name":"Geek_032c4a","can_delete":false,"product_type":"c1","uid":1501316,"ip_address":"","ucode":"8CF7A8D681F15D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/dXf9e0gmVVV1ozqBIiaWiaxz1qgPZrYHT9x3ytnjfZ6quCH7gNtibXhsg66kH1E4FeTVHMB9J3PibNaMN2GthvceqA/132","comment_is_top":false,"comment_ctime":1624005069,"is_pvip":false,"replies":[{"id":"108302","content":"GRUBåŠ è½½æ—¶å°±æ˜¯ä¿æŠ¤æ¨¡å¼ äº† ","user_name":"ä½œè€…å›å¤","comment_id":298295,"uid":"1345199","ip_address":"","utype":1,"ctime":1624181783,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"5918972365","product_id":100078401,"comment_content":"imginithead.asmè¿™ä¸ªæ–‡ä»¶çš„ç¨‹åºåº”è¯¥è¿è¡Œåœ¨å®æ¨¡å¼ä¸‹çš„ã€‚<br>1ï¼Œä¸ºå•¥åœ¨è¿˜æ²¡æœ‰è¿›å…¥ä¿æŠ¤æ¨¡å¼çš„æ—¶å€™å°±å¯ä»¥æ“ä½œespã€eaxã€ebxè¿™ç§å¯„å­˜å™¨ï¼Ÿ<br>2ï¼Œå®æ¨¡å¼ä¸‹å¯ä»¥ç›´æ¥è°ƒç”¨äº†inithead_entryè¿™ç§Cè¯­è¨€å‡½æ•°ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522086,"discussion_content":"GRUBåŠ è½½æ—¶å°±æ˜¯ä¿æŠ¤æ¨¡å¼ äº† ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624181783,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295881,"user_name":"äºŒä¸‰å­ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1245787,"ip_address":"","ucode":"69C7D86583277D","user_header":"https://static001.geekbang.org/account/avatar/00/13/02/5b/ce326cfc.jpg","comment_is_top":false,"comment_ctime":1622628482,"is_pvip":false,"replies":[{"id":"107602","content":"æ˜¯æˆ‘æŒ‡å®šçš„ åœ¨å¼•å¯¼å¤´ä¸­ ","user_name":"ä½œè€…å›å¤","comment_id":295881,"uid":"1345199","ip_address":"","utype":1,"ctime":1622989447,"user_name_real":"LMOS"}],"discussion_count":1,"race_medal":0,"score":"5917595778","product_id":100078401,"comment_content":"è€å¸ˆæœ‰ä¸ªé—®é¢˜ï¼š0x200000ã€‚åœ¨x86-64å¹³å°ä¸‹ï¼Œè¿™ä¸ªå€¼æ˜¯grubé»˜è®¤å°†multiboot2å®šä¹‰çš„æ–‡ä»¶åŠ è½½åˆ°çš„ä½ç½®å—ï¼Ÿå¦‚æœæ˜¯çš„è¯ï¼Œè¿™ä¸ªå€¼æ˜¯æ‰‹å†Œæä¾›çš„ï¼Ÿè¿˜æ˜¯è°ƒè¯•å‡ºæ¥çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521251,"discussion_content":"æ˜¯æˆ‘æŒ‡å®šçš„ åœ¨å¼•å¯¼å¤´ä¸­ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622989447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295842,"user_name":"é£ç¿”","can_delete":false,"product_type":"c1","uid":1349270,"ip_address":"","ucode":"72252157268A12","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/J3dqALgicfVklewMjVkpyLbTk9YiamnBf5QQZ3NPHGlMeVSdLDB5yHLicEZHKBbUets76KOFwbl9ju0xJw1VeGa1A/132","comment_is_top":false,"comment_ctime":1622617358,"is_pvip":false,"replies":[{"id":"107604","content":"æˆ‘åœ¨ä»£ç ç›®å½•ä¸­æä¾›äº†","user_name":"ä½œè€…å›å¤","comment_id":295842,"uid":"1345199","ip_address":"","utype":1,"ctime":1622989541,"user_name_real":"LMOS"}],"discussion_count":4,"race_medal":0,"score":"5917584654","product_id":100078401,"comment_content":"lmoskrlimgè¿™ä¸ªå·¥å…·ä»å“ªé‡Œæ‰¾ï¼Œåœ¨centosä¸Šæ²¡æœ‰æ‰¾åˆ°ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521234,"discussion_content":"æˆ‘åœ¨ä»£ç ç›®å½•ä¸­æä¾›äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622989541,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1115232,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","nickname":"Fan","note":"","ucode":"3BF28670FD9407","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377407,"discussion_content":"build ç›®å½•ä¸­\nhttps://gitee.com/lmos/cosmos/tree/master/lesson10~11/Cosmos/initldr/build","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622630167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1245787,"avatar":"https://static001.geekbang.org/account/avatar/00/13/02/5b/ce326cfc.jpg","nickname":"äºŒä¸‰å­ä¹Ÿ","note":"","ucode":"69C7D86583277D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377395,"discussion_content":"è¿™ä¸ªåº”è¯¥æ˜¯è€å¸ˆè‡ªå·±å†™çš„ã€‚ä¸æ˜¯Linuxçš„è‡ªå¸¦å·¥å…·ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622626974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2532163,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKc2mia43C3uvJzsgXrsYrh96QichITEWCEu1dvGgNhiaIcaa92UM2nGArV0d8tic3PGGTjiagsvVqTe9w/132","nickname":"Geek_41ac17","note":"","ucode":"C5E4C8A2BC1D1F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1245787,"avatar":"https://static001.geekbang.org/account/avatar/00/13/02/5b/ce326cfc.jpg","nickname":"äºŒä¸‰å­ä¹Ÿ","note":"","ucode":"69C7D86583277D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389935,"discussion_content":"è¿™ä¸ªå·¥å…·æˆ‘åœ¨æºç ç›®å½•ä¸‹makeäº†ä¹‹åå¦‚ä½•ä½¿ç”¨å•Šï¼Ÿ å¤§ä½¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629524457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":377395,"ip_address":""},"score":389935,"extra":""}]}]},{"had_liked":false,"id":360239,"user_name":"æ¿æ —","can_delete":false,"product_type":"c1","uid":2325384,"ip_address":"æ¹–åŒ—","ucode":"DA7A1506D7E7BA","user_header":"https://static001.geekbang.org/account/avatar/00/23/7b/88/7bae8fe0.jpg","comment_is_top":false,"comment_ctime":1666332126,"is_pvip":false,"replies":[{"id":"131037","content":"è¿™æ˜¯ä¸€ç§å®‰å…¨ç¼–ç¨‹çš„éœ€è¦","user_name":"ä½œè€…å›å¤","comment_id":360239,"uid":"1345199","ip_address":"æ¹–åŒ—","utype":1,"ctime":1666420558,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1666332126","product_id":100078401,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹ï¼Œä¸ºä»€ä¹ˆï¼šåœ¨grubå¤´çš„imginithead.asmçš„_entryä¸­è°ƒç”¨äº†cliå…³ä¸­æ–­ï¼Œè€Œéšååœ¨äºŒçº§å¼•å¯¼å™¨çš„ldrkrl32.asmçš„_entryä¸­åˆè°ƒç”¨cliå…³ä¸­æ–­å‘¢ï¼Ÿæ˜¯ä¸æ˜¯å› ä¸ºè¿™ä¸¤æ®µä»£ç å¯èƒ½è¿è¡Œåœ¨ä¸åŒcpuï¼ˆæˆ–æ ¸ï¼‰ä¸Šï¼Œæ‰€ä»¥è¦è°ƒç”¨cliå…³æœ¬åœ°ä¸­æ–­ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591233,"discussion_content":"è¿™æ˜¯ä¸€ç§å®‰å…¨ç¼–ç¨‹çš„éœ€è¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666420558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¹–åŒ—"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352877,"user_name":"X","can_delete":false,"product_type":"c1","uid":1581509,"ip_address":"é™•è¥¿","ucode":"BE05C1D25CE313","user_header":"https://static001.geekbang.org/account/avatar/00/18/21/c5/024e1ef1.jpg","comment_is_top":false,"comment_ctime":1658992096,"is_pvip":false,"replies":[{"id":"128365","content":"ä½ è¦ç¼–è¯‘lmoskrlimg å·¥å…·","user_name":"ä½œè€…å›å¤","comment_id":352877,"uid":"1345199","ip_address":"é™•è¥¿","utype":1,"ctime":1659091213,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1658992096","product_id":100078401,"comment_content":"make è€å¸ˆç»™çš„å·¥å…·çš„æ—¶å€™å„ç§é—®é¢˜å•Šã€‚<br><br>ç¬¬ä¸€ä¸ªé—®é¢˜ï¼š<br>&#47;usr&#47;include&#47;features.h:367:25: fatal error: sys&#47;cdefs.h: No such file or directory<br>è§£å†³æ–¹æ³•ï¼š<br>ç¬¬ä¸€æ­¥ï¼šsudo apt-get â€“fix-broken installï¼›<br>ç¬¬äºŒæ­¥ï¼šsudo apt-get install libc6-dev-i386ï¼›<br><br>é—®é¢˜å‡ºç°åŸå› æ˜¯è€å¸ˆè¿™ä¸ªå·¥å…·ä¾èµ–çš„åº“æ–‡ä»¶æ˜¯32ä½åº“ï¼Œè‡ªå·±çš„è™šæ‹Ÿæœºæ˜¯64ä½åº“ã€‚<br><br>ç¬¬äºŒä¸ªé—®é¢˜ï¼š<br>&#47;usr&#47;bin&#47;ld: i386:x86-64 architecture of input file `lmoskrlimg.o&#39; is incompatible with i386 output<br>&#47;usr&#47;bin&#47;ld: i386:x86-64 architecture of input file `imgcore.o&#39; is incompatible with i386 output<br>&#47;usr&#47;bin&#47;ld: i386:x86-64 architecture of input file `imgmgrhead.o&#39; is incompatible with i386 output<br>&#47;usr&#47;bin&#47;ld: i386:x86-64 architecture of input file `param.o&#39; is incompatible with i386 output<br>&#47;usr&#47;bin&#47;ld: i386:x86-64 architecture of input file `file.o&#39; is incompatible with i386 output<br>&#47;usr&#47;bin&#47;ld: i386:x86-64 architecture of input file `imgundo.o&#39; is incompatible with i386 output<br>&#47;usr&#47;bin&#47;ld: i386:x86-64 architecture of input file `memdisk.o&#39; is incompatible with i386 output<br>&#47;usr&#47;bin&#47;ld: i386:x86-64 architecture of input file `mem.o&#39; is incompatible with i386 output<br>&#47;usr&#47;bin&#47;ld: i386:x86-64 architecture of input file `limgerror.o&#39; is incompatible with i386 output<br>è€å¸ˆå·¥å…·ç¼–è¯‘ä¹‹åè¾“å‡ºçš„ç¼–è¯‘æ–‡ä»¶ *.o æ˜¯32ä½çš„ï¼Œå¯æ˜¯æˆ‘è‡ªå·±è™šæ‹Ÿæœºæ˜¯64ä½çš„æ¶æ„ï¼Œldè¿æ¥å™¨è¿æ¥ä¸ä¸Šã€‚<br>æœ‰ç‚¹æ— è¯­ï¼Œä¸€é€šç™¾åº¦æ˜¯gccçš„æ—¶å€™è¦åŠ ä¸Š -m32ï¼Œå¯æ˜¯æ‰¾ä¸åˆ°è€å¸ˆæ˜¯åœ¨å“ªé‡Œgccçš„â€¦â€¦<br><br><br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581970,"discussion_content":"ä½ è¦ç¼–è¯‘lmoskrlimg å·¥å…·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659091213,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é™•è¥¿"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352848,"user_name":"Raina","can_delete":false,"product_type":"c1","uid":2617080,"ip_address":"é™•è¥¿","ucode":"CDAE2402F64096","user_header":"https://static001.geekbang.org/account/avatar/00/27/ee/f8/6f69be1e.jpg","comment_is_top":false,"comment_ctime":1658979952,"is_pvip":false,"replies":[{"id":"128366","content":"ä¸æ˜¯å–”","user_name":"ä½œè€…å›å¤","comment_id":352848,"uid":"1345199","ip_address":"é™•è¥¿","utype":1,"ctime":1659091264,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1658979952","product_id":100078401,"comment_content":"multiboot2 çš„ tag end ä¸æ˜¯ type = 0ï¼Œflag = 0ï¼Œ size = 8 å—ï¼Œé‚£ DD _entry åé¢çš„ DD 0 æ˜¯ä¸æ˜¯å¤šä½™çš„","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581971,"discussion_content":"ä¸æ˜¯å–”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659091264,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é™•è¥¿"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":348702,"user_name":"Geek_d26e63","can_delete":false,"product_type":"c1","uid":1809676,"ip_address":"","ucode":"24125CED20B6DF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/fBOybgVTWXYXxaicaVEysXCjkKT13dX7icAj96KibJ815mia1FvYro9KcbA3xtwnIxmPJ38Vt6rmg6vp0auGKel93A/132","comment_is_top":false,"comment_ctime":1655313049,"is_pvip":false,"replies":[{"id":"128080","content":"æ£€æŸ¥ä¸€ä¸‹æ–‡ä»¶","user_name":"ä½œè€…å›å¤","comment_id":348702,"uid":"1345199","ip_address":"","utype":1,"ctime":1658391245,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1655313049","product_id":100078401,"comment_content":"è¿è¡Œï¼šlmoskrlimg -m k -lhf initldrimh.bin -o Cosmos.eki -f initldrkrl.bin initldrsve.bin<br>æŠ¥é”™ï¼šLKRLIMG ERR:write ldrheadfile C file:..&#47;core&#47;imgcore.c C line:35 C function:limg_krnl_mode_run","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580875,"discussion_content":"æ£€æŸ¥ä¸€ä¸‹æ–‡ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658391245,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345713,"user_name":"â”‚ï¼Sk","can_delete":false,"product_type":"c1","uid":2453415,"ip_address":"","ucode":"A2EEB2E9585A77","user_header":"https://static001.geekbang.org/account/avatar/00/25/6f/a7/565214bc.jpg","comment_is_top":false,"comment_ctime":1652521203,"is_pvip":false,"replies":[{"id":"126506","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1653618131,"ip_address":"","comment_id":345713,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1652521203","product_id":100078401,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·æ•™ä¸€ä¸‹è€å¸ˆ grub åŠ è½½ eki æ–‡ä»¶åç©¶ç«Ÿæ˜¯ä» _entry å¼€å§‹æ‰§è¡Œçš„ï¼Œè¿˜æ˜¯ä» _start å¼€å§‹æ‰§è¡Œçš„ï¼Ÿ <br><br>ä»æ–‡æ¡£ä¸Šçœ‹æ„Ÿè§‰ load_addr(_start) åªæ˜¯ä¸ºäº†å†³å®šä»å“ªé‡Œå¼€å§‹åŠ è½½ï¼›çœŸæ­£çš„å…¥å£åº”è¯¥æ˜¯ entry_addr(_entry) ï¼Œå¦‚æœæ˜¯è¿™æ ·çš„ _start åé¢çš„ jmp _entry æ˜¯ä¸æ˜¯ä¸è¦ä¹Ÿå¯ä»¥ï¼Ÿ <br><br>è°¢è°¢è€å¸ˆï¼<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573717,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653618131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345551,"user_name":"â”‚ï¼Sk","can_delete":false,"product_type":"c1","uid":2453415,"ip_address":"","ucode":"A2EEB2E9585A77","user_header":"https://static001.geekbang.org/account/avatar/00/25/6f/a7/565214bc.jpg","comment_is_top":false,"comment_ctime":1652375850,"is_pvip":false,"replies":[{"id":"126511","content":"GRUBå¤´","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1653618281,"ip_address":"","comment_id":345551,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1652375850","product_id":100078401,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·æ•™è€å¸ˆ grub æ˜¯æ€ä¹ˆçŸ¥é“è¦æŠŠæ˜ åƒæ–‡ä»¶ Cosmos.eki åŠ è½½åˆ°å“ªä¸ªç‰©ç†åœ°å€çš„å‘¢ï¼Ÿ<br><br>è²Œä¼¼ç¼–è¯‘çš„æ—¶å€™å·²ç»ç”¨ objcopy æŠŠ binary çš„ elf ä¿¡æ¯éƒ½å»æ‰äº†ï¼Œä½†æ˜¯ Cosmos.eki ä¸­çš„æŒ‡ä»¤éƒ½æ˜¯æ ¹æ® ld é“¾æ¥è„šæœ¬ç¡®å®šçš„åœ°å€ï¼Œè¿™å°±è¦æ±‚ Cosmos.eki åŠ è½½åˆ°æ­£ç¡®çš„ç‰©ç†åœ°å€æ‰èƒ½æ­£ç¡®æ‰§è¡Œï¼Œä½†æ˜¯ä¸å¤ªäº†è§£ grub æ˜¯æ€ä¹ˆçŸ¥é“è¦æŠŠæ˜ åƒæ–‡ä»¶ Cosmos.eki åŠ è½½åˆ°å“ªä¸ªç‰©ç†åœ°å€çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573722,"discussion_content":"GRUBå¤´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653618281,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345076,"user_name":"Qfeng","can_delete":false,"product_type":"c1","uid":1466121,"ip_address":"","ucode":"1248E70012BBA2","user_header":"https://static001.geekbang.org/account/avatar/00/16/5f/09/2ec44412.jpg","comment_is_top":false,"comment_ctime":1652004049,"is_pvip":false,"replies":[{"id":"125956","content":"æ­£ç¡®çš„ ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1652064659,"ip_address":"","comment_id":345076,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1652004049","product_id":100078401,"comment_content":"è¿™ç¯‡æ–‡ç« å¼€å§‹çƒ§è„‘äº†ï¼Œå…¨æ–‡æ±‡ç¼–ï¼Œç¬¬ä¸€æ¬¡çœ‹è¿™ç¯‡äº‘é‡Œé›¾é‡Œä¸çŸ¥æ‰€äº‘ï¼Œæ±‡ç¼–åŸºç¡€å·®å†³å¿ƒå›å¤´èŠ±äº†3ä¸ªç¤¼æ‹œå•ƒå®Œäº†ã€Šæ±‡ç¼–åŸç†ã€‹ï¼Œè¿™å‘¨å†æ¬¡çœ‹è¿™ç¯‡åˆç†è§£äº†äº›ã€‚<br>å’Œã€Šæ±‡ç¼–åŸç†ã€‹ä¹¦ä¸Šä»‹ç»çš„8086ä¸åŒï¼Œè¿™ç¯‡é‡Œé¢æ˜¯32ä½çš„x86ï¼Œä¸è¿‡åº•å±‚åŸç†å·®ä¸å¤šã€‚<br><br>å¯¹ç€è¿™ç¯‡æ–‡ç« ç»“åˆæºç ï¼Œç”»äº†ä¸€ä»½visioæµç¨‹å›¾ï¼Œæµç¨‹ä¸Šæ¸…æ™°äº†äº›ï¼Œæ€»ç»“å¦‚ä¸‹ï¼š<br>1. å®ç°äº†è¢«GRUBè¯†åˆ«çš„GRUB Headï¼ŒGRUB Headé‡Œé¢åšäº†2ä»¶äº‹ï¼š<br>1ï¼‰inithead.cï¼Œä»å†…å­˜ä¸­æŸ¥æ‰¾å’Œæ‹·è´2ä¸ªbinæ–‡ä»¶ï¼ˆäºŒçº§å¼•å¯¼å™¨å’ŒBIOSä¸­æ–­æœåŠ¡ç¨‹åºçš„binæ–‡ä»¶ï¼‰åˆ°æŒ‡å®šä½ç½®ï¼›<br>2ï¼‰è·³è½¬åˆ°ç‰©ç†åœ°å€0x200000æ‰§è¡ŒäºŒçº§å¼•å¯¼å™¨ä»£ç ï¼ˆç¬¬ä¸€æ­¥å·²ç»å°†æœºå™¨ç æ‹·è´åˆ°è¿™é‡Œï¼‰ã€‚<br><br>2. äºŒçº§å¼•å¯¼å™¨ ldrkrl32.asm (0x200000)<br>1ï¼‰å¼•å¯¼ä¸»å‡½æ•°ldrkrl_entry()   ï¼ˆæš‚æœªå®ç°ï¼‰ï¼›<br>2ï¼‰å‡†å¤‡BIOSä¸­æ–­æœåŠ¡ç¨‹åºè°ƒç”¨æ¡†æ¶ï¼Œæ ¸å¿ƒæ˜¯é€šè¿‡ jmp 0x18:0x1000 è·³è½¬åˆ° BIOSä¸­æ–­æœåŠ¡ç¨‹åºï¼ˆreadintsve.asmï¼‰æ‰€åœ¨ä½ç½®æ‰§è¡Œã€‚<br><br>3. BIOSç»ˆç«¯æœåŠ¡ç¨‹åº readintsve.asm (0x18:0x1000)<br>1ï¼‰é¦–å…ˆè¿›å…¥16ä½å®æ¨¡å¼ï¼›<br>2ï¼‰å®æ¨¡å¼ä¸‹ï¼Œæœ‰ä¸€ä¸ªfunc_tableï¼Œé€šè¿‡è¿™äº›å‡½æ•°å¯ä»¥è·å–å†…å­˜ã€ç¡¬ç›˜å’Œæ˜¾å¡ç­‰ç¡¬ä»¶ä¿¡æ¯ï¼›<br>3ï¼‰æœ€åè¿”å›32ä½ä¿æŠ¤æ¨¡å¼ï¼Œæ¢å¤è¿›å…¥å‰ä¿å­˜çš„EIS+EIPè¿”å›è°ƒç”¨å‰çš„32ä½ä¿æŠ¤æ¨¡å¼çŠ¶æ€ã€‚<br><br>æ€è€ƒé¢˜ï¼š_startå’Œ_entryçš„ç”¨é€”æ˜¯GRUBç”¨æ¥è¯†åˆ«ç¡¬ä»¶å‚å•†å®¢åˆ¶åŒ–çš„GRUBå¤´çš„ï¼Œä½œä¸ºå‚å•†äºŒçº§å¼•å¯¼å™¨çš„å…¥å£ï¼Œè¯¦ç»†ä¿¡æ¯ä¸Šé¢å·²ç»æœ‰å¾ˆå¤šå¤§ä½¬è§£é‡Šçš„å¾ˆè¯¦ç»†å°±ä¸å†™äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571060,"discussion_content":"æ­£ç¡®çš„ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652064659,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344349,"user_name":"ï½ï½","can_delete":false,"product_type":"c1","uid":1463768,"ip_address":"","ucode":"52797D415A538D","user_header":"https://static001.geekbang.org/account/avatar/00/16/55/d8/610fae56.jpg","comment_is_top":false,"comment_ctime":1651484960,"is_pvip":false,"replies":[{"id":"125969","content":"å¯¹çš„ï¼Œä¿æŠ¤æ¨¡å¼åœ¨GRUBè¿è¡Œæ—¶å°±è®¾ç½®äº†ï¼Œæˆ‘åªæ˜¯é‡æ–°åŠ è½½äº†GDT","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1652065859,"ip_address":"","comment_id":344349,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1651484960","product_id":100078401,"comment_content":"è¯·é—®åœ¨è¿›å…¥realintsve.asmä¹‹å‰æ˜¯å®æ¨¡å¼è¿˜æ˜¯ä¿æŠ¤æ¨¡å¼ï¼Ÿå› ä¸ºåœ¨realintsve.asmä¸€å¼€å§‹è®¾ç½®äº†å®æ¨¡å¼ï¼Œé‚£å°±æ„å‘³ç€ä¹‹å‰ä¸€ç›´æ˜¯ä¿æŠ¤æ¨¡å¼ï¼Ÿä½†æ˜¯æˆ‘åœ¨ä¹‹å‰çš„ä»£ç ä¸­æ²¡æœ‰æ‰¾åˆ°realintsve.asmä»¥å¤–æ²¡æœ‰æ‰¾åˆ°è®¾ç½®ä¿æŠ¤æ¨¡å¼çš„ä»£ç ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571075,"discussion_content":"å¯¹çš„ï¼Œä¿æŠ¤æ¨¡å¼åœ¨GRUBè¿è¡Œæ—¶å°±è®¾ç½®äº†ï¼Œæˆ‘åªæ˜¯é‡æ–°åŠ è½½äº†GDT","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652065859,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342743,"user_name":"å•¦å•¦å•¦","can_delete":false,"product_type":"c1","uid":2968553,"ip_address":"","ucode":"D4D57C89F3F8D5","user_header":"https://static001.geekbang.org/account/avatar/00/2d/4b/e9/6d4908fa.jpg","comment_is_top":false,"comment_ctime":1650441965,"is_pvip":false,"replies":[{"id":"125987","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1652067338,"ip_address":"","comment_id":342743,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1650441965","product_id":100078401,"comment_content":"ç®€è¦è¯´æ˜ä¸€ä¸‹Makefileçš„æ‰§è¡Œæ¡†æ¶ï¼Œæ‰§è¡Œmake vboxtestæ—¶ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š<br>1ã€release ä¾èµ–äº allï¼›æ‰§è¡Œallä¸‹çš„å‘½ä»¤ï¼Œè½¬ç§»åˆ°Makefile.x86ä¸­<br>2ã€Makefile.x86è½¬ç§»åˆ°buildç›®å½•ä¸‹çš„Makefile<br>3ã€åœ¨buildç›®å½•ä¸‹çš„Makefileï¼Œåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œé¦–å…ˆæ˜¯ç¼–è¯‘ï¼Œå³$(MAKE) $(INITLDRMFLGS)ï¼›ç„¶åæ˜¯é“¾æ¥ï¼Œå³$(MAKE) $(INITLDRLINKMFLGS)ã€‚<br>4ã€ç¼–è¯‘éƒ¨åˆ†ç”±initldr.mkå®Œæˆï¼Œå…¶è°ƒç”¨krnlbuidrule.mhæ–‡ä»¶å®Œæˆç¼–è¯‘è¿‡ç¨‹ï¼Œç”Ÿæˆç›®æ ‡æ–‡ä»¶ã€‚<br>5ã€é“¾æ¥éƒ¨åˆ†ç”±ldrlink.mkå®Œæˆï¼Œæœ€ç»ˆç”Ÿæˆinitldrimh.binã€initldrkrl.binã€initldrsve.binä¸‰ä¸ªæ–‡ä»¶ã€‚<br><br>ä¸‰ä¸ª.ldsæ–‡ä»¶æ˜¯é“¾æ¥è¿‡ç¨‹çš„è„šæœ¬æ–‡ä»¶<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571095,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652067338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341545,"user_name":"MONKEYG","can_delete":false,"product_type":"c1","uid":2519235,"ip_address":"","ucode":"81C780AA899A9E","user_header":"https://static001.geekbang.org/account/avatar/00/26/70/c3/cc46c55a.jpg","comment_is_top":false,"comment_ctime":1649685882,"is_pvip":false,"replies":[{"id":"124810","content":"é—®è¿‡è€å¸ˆäº†ï¼Œä½ è¿™ä¸ªæ²¡æœ‰lmoskrlimgè½¯ä»¶ï¼Œè¯·Giteeæ‹‰å–æœ€æ–°ä»£ç ï¼Œä»£ç ä»“åº“é‡Œæœ‰æºä»£ç ã€‚è¿™ä¸ªæ˜¯ä¸œå“¥è‡ªå·±å†™çš„ç”Ÿæˆcosmos.efiçš„å·¥å…·ã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ç¼–è¾‘","uid":"1501385","ctime":1649728450,"ip_address":"","comment_id":341545,"utype":2}],"discussion_count":2,"race_medal":0,"score":"1649685882","product_id":100078401,"comment_content":"sudo .&#47;lmoskrlimg -m k -lhf initldrimh.bin -o Cosmos.eki -f initldrkrl.bin initldrsve.bin<br>.&#47;lmoskrlimg: 1: .&#47;lmoskrlimg: ELF\u0002\u0001\u0001\u0003\u0002: not found<br>.&#47;lmoskrlimg: 1: .&#47;lmoskrlimg: Jï¿½: not found<br>.&#47;lmoskrlimg: 2: .&#47;lmoskrlimg: ï¿½Jï¿½Q: not found<br>.&#47;lmoskrlimg: 1: .&#47;lmoskrlimg: Syntax error: word unexpected (expecting &quot;)&quot;)<br><br>è€å¸ˆèƒ½å¸®å¿™çœ‹çœ‹ä¹ˆï¼Œä¸æ¸…æ¥šä¸ºä»€ä¹ˆä¼šæŠ¥è¿™ä¸ªæ–‡ä»¶æ‰¾ä¸åˆ°","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"å¬æ°´çš„æ¹–","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561824,"discussion_content":"é—®è¿‡è€å¸ˆäº†ï¼Œä½ è¿™ä¸ªæ²¡æœ‰lmoskrlimgè½¯ä»¶ï¼Œè¯·Giteeæ‹‰å–æœ€æ–°ä»£ç ï¼Œä»£ç ä»“åº“é‡Œæœ‰æºä»£ç ã€‚è¿™ä¸ªæ˜¯ä¸œå“¥è‡ªå·±å†™çš„ç”Ÿæˆcosmos.efiçš„å·¥å…·ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649728450,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":8}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"å¬æ°´çš„æ¹–","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561837,"discussion_content":"\nå’Œè¯¾ç¨‹ä»£ç å¹¶åˆ—çš„ï¼Œä½ æ‰¾tools/lmoskrlimgè¿™ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649729763,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341255,"user_name":"singularity of space time","can_delete":false,"product_type":"c1","uid":2816371,"ip_address":"","ucode":"14502507C9F2D7","user_header":"https://static001.geekbang.org/account/avatar/00/2a/f9/73/01eafd3c.jpg","comment_is_top":false,"comment_ctime":1649485596,"is_pvip":true,"replies":[{"id":"125081","content":"GRUBå¤´ä¸­","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1650249768,"ip_address":"","comment_id":341255,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1649485596","product_id":100078401,"comment_content":"è¯·é—®GRUBå°†æ˜ åƒæ–‡ä»¶åŠ è½½åˆ°æŒ‡å®šåœ°å€0x4000000 ä¹Ÿå³#define IMGFILE_PHYADR 0x4000000 è¿™ä¸ªæ˜¯åœ¨å“ªé‡ŒæŒ‡å®šGRUBå¯¹äºæ˜ åƒæ–‡ä»¶çš„åŠ è½½åœ°å€çš„å‘€ æ‰¾ä¸åˆ°","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":564456,"discussion_content":"GRUBå¤´ä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650249768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2128971,"avatar":"","nickname":"å°ç‰§ç«¥","note":"","ucode":"C8C70F7C341CAA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":587430,"discussion_content":"æ‚¨å¥½ï¼Œgrubå¤´ç›¸å…³æ–‡ä»¶ä¸­å¹¶æ²¡æœ‰æ‰¾åˆ°ç±»ä¼¼å†³å®šæ”¾ç½®ekiæ–‡ä»¶åˆ°å†…å­˜ä¸­ç‰¹å®šä½ç½®çš„ä»£ç æˆ–é…ç½®ï¼Œå¯å¦å†æ˜ç¤ºä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663054275,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":564456,"ip_address":"åŒ—äº¬"},"score":587430,"extra":""}]}]},{"had_liked":false,"id":340887,"user_name":"å–è–ªæ²½é…’","can_delete":false,"product_type":"c1","uid":2465726,"ip_address":"","ucode":"7F04A84EDBA856","user_header":"https://static001.geekbang.org/account/avatar/00/25/9f/be/14b2ad2e.jpg","comment_is_top":false,"comment_ctime":1649216286,"is_pvip":false,"replies":[{"id":"125082","content":"çœ‹cpu é‚£èŠ‚è¯¾","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1650249837,"ip_address":"","comment_id":340887,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1649216286","product_id":100078401,"comment_content":"è¿™ä¸ª 0x18 å°±æ˜¯æ®µæè¿°ç´¢å¼•, è¿™é‡Œä¸ºå•¥æ˜¯ 0x18 , ç´¢å¼•çš„å¼€å¤´å’Œç²’åº¦æ˜¯æ€ä¹ˆç®—çš„","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":564458,"discussion_content":"çœ‹cpu é‚£èŠ‚è¯¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650249837,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340426,"user_name":"no-one","can_delete":false,"product_type":"c1","uid":1476425,"ip_address":"","ucode":"43D4C5450AAC83","user_header":"https://static001.geekbang.org/account/avatar/00/16/87/49/1796143f.jpg","comment_is_top":false,"comment_ctime":1648807940,"is_pvip":false,"replies":[{"id":"124638","content":"æœ‰å¸®åŠ©å°±å¥½","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1649228593,"ip_address":"","comment_id":340426,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1648807940","product_id":100078401,"comment_content":"è€å¸ˆå†™çš„å¤ªå¥½äº†ï¼Œå­¦ä¹ æ°›å›´ä¹Ÿå¾ˆå¥½ï¼Œè¿™é’±èŠ±çš„å¤ªå€¼äº†","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560202,"discussion_content":"æœ‰å¸®åŠ©å°±å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649228593,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339300,"user_name":"BruceLi","can_delete":false,"product_type":"c1","uid":2441083,"ip_address":"","ucode":"ABBE2033DF9790","user_header":"https://static001.geekbang.org/account/avatar/00/25/3f/7b/ba507e92.jpg","comment_is_top":false,"comment_ctime":1648027430,"is_pvip":false,"replies":[{"id":"124072","content":"chkcpmm.c graph.c","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1648089693,"ip_address":"","comment_id":339300,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1648027430","product_id":100078401,"comment_content":"è¯·æ•™ä¸€ä¸‹realadr_call_entryéƒ¨åˆ†çš„ä»£ç æ˜¯åœ¨å“ªä¸€ä¸ªæ¨¡å—è°ƒç”¨çš„ï¼Œæ­£æ–‡ä¸­æ²¡æœ‰æŸ¥åˆ°ã€‚è°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558088,"discussion_content":"chkcpmm.c graph.c","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648089693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334718,"user_name":"è‚‰ä¸ç‚’é’æ¤’","can_delete":false,"product_type":"c1","uid":1183783,"ip_address":"","ucode":"E67203E5B23D5D","user_header":"https://static001.geekbang.org/account/avatar/00/12/10/27/97afaf66.jpg","comment_is_top":false,"comment_ctime":1645089144,"is_pvip":false,"replies":[{"id":"122314","content":"ä¸ä¼šè§£æelf","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1645158168,"ip_address":"","comment_id":334718,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1645089144","product_id":100078401,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œgrubè¯»å–Cosmos.ekiæ–‡ä»¶æ—¶ï¼Œæ˜¯ä¼šæ ¹æ®elfæ–‡ä»¶æ ¼å¼è§£æï¼ŒæŠŠæ–‡ä»¶åŠ è½½åˆ°0x4000000å¼€å§‹çš„å†…å­˜ä½ç½®å—","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551865,"discussion_content":"ä¸ä¼šè§£æelf","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645158168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1183783,"avatar":"https://static001.geekbang.org/account/avatar/00/12/10/27/97afaf66.jpg","nickname":"è‚‰ä¸ç‚’é’æ¤’","note":"","ucode":"E67203E5B23D5D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552144,"discussion_content":"å†è¯·æ•™ä¸‹è€å¸ˆï¼Œé‚£grubæ˜¯å¦‚ä½•çŸ¥é“åº”è¯¥æŠŠè¿™ä¸ªæ–‡ä»¶åŠ è½½åˆ°æˆ‘ä»¬å®šä¹‰çš„0x4000000åœ°å€ä¸Šçš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1645324463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2726911,"avatar":"https://static001.geekbang.org/account/avatar/00/29/9b/ff/6d735175.jpg","nickname":"ç¬‘ç‚¹","note":"","ucode":"6AF80A979B2386","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1183783,"avatar":"https://static001.geekbang.org/account/avatar/00/12/10/27/97afaf66.jpg","nickname":"è‚‰ä¸ç‚’é’æ¤’","note":"","ucode":"E67203E5B23D5D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569676,"discussion_content":"å…„å¼Ÿæœ‰ç­”æ¡ˆäº†å—ï¼Ÿæˆ‘ä¹Ÿæœ‰è¿™ä¸ªç–‘é—®ï¼Œç½‘ä¸Šä¹Ÿæœä¸åˆ°ç­”æ¡ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651507967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":552144,"ip_address":""},"score":569676,"extra":""}]}]},{"had_liked":false,"id":333948,"user_name":"ä¸€å‰æ ‘","can_delete":false,"product_type":"c1","uid":1623117,"ip_address":"","ucode":"BFC984403ACD1F","user_header":"https://static001.geekbang.org/account/avatar/00/18/c4/4d/85014aab.jpg","comment_is_top":false,"comment_ctime":1644633870,"is_pvip":true,"replies":[{"id":"122016","content":"å¥½çš„  è°¢è°¢ æˆ‘çœ‹çœ‹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1644729524,"ip_address":"","comment_id":333948,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1644633870","product_id":100078401,"comment_content":"æœ¬æ–‡ä¸­ initldr32.asmï¼Œå¯¹åº”ä»“åº“ä»£ç ä¸­çš„ ldrkrl32.asmï¼Œæ³¨æ„æ–‡ä»¶åã€‚åº”è¯¥æ˜¯ä»“åº“ä»£ç æ›´æ–°äº†ï¼Œæ–‡æ¡ˆæ²¡æœ‰æ›´æ–°ã€‚éº»çƒ¦åŠ©æ•™çœ‹çœ‹~","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550766,"discussion_content":"å¥½çš„  è°¢è°¢ æˆ‘çœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644729524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333665,"user_name":"peuei","can_delete":false,"product_type":"c1","uid":1024661,"ip_address":"","ucode":"044AB69B04F624","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a2/95/16d1f895.jpg","comment_is_top":false,"comment_ctime":1644463899,"is_pvip":true,"replies":[{"id":"121983","content":"è‡ªå·±å®šä¹‰çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1644639122,"ip_address":"","comment_id":333665,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1644463899","product_id":100078401,"comment_content":"è¯·é—®è€å¸ˆï¼ŒMDC_ENDGICå’ŒMDC_RVGICè¿™ä¸¤ä¸ªæ ¡éªŒæ•°æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿæ˜¯ekiè§„èŒƒè¿˜æ˜¯è‡ªå®šä¹‰çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550616,"discussion_content":"è‡ªå·±å®šä¹‰çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644639122,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333318,"user_name":"leven87","can_delete":false,"product_type":"c1","uid":1129272,"ip_address":"","ucode":"1486154E5FA4DE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/I807iciatNXWV1FNp2lkfKn9a0xHCYwVYibZv46GFprxibeg72icMZ5gLicP3XicnVsNv4Eo1hs1SmlDLMnU3XT5xHhQA/132","comment_is_top":false,"comment_ctime":1644286850,"is_pvip":false,"replies":[{"id":"121859","content":"åº”è¯¥æ˜¯æ²¡æœ‰lmkfbuildç¨‹åº","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1644378799,"ip_address":"","comment_id":333318,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1644286850","product_id":100078401,"comment_content":"ä½ å¥½ï¼Œä½œè€…ï¼Œæˆ‘åœ¨è¿›å…¥ä»£ç ç›®å½•ï¼Œä½¿ç”¨ sudo make all å‘½ä»¤åï¼Œå‡ºç°å¦‚ä¸‹é”™è¯¯ã€‚<br>.&#47;lmkfbuild: 1: .&#47;lmkfbuild: ELF: not found<br>.&#47;lmkfbuild: 2: .&#47;lmkfbuild: ot found<br>.&#47;lmkfbuild: 2: .&#47;lmkfbuild: Syntax error: Unterminated quoted string<br><br>ç³»ç»Ÿæ˜¯windowsä¸‹çš„ubuntu18.04è™šæ‹Ÿæœºã€‚","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550086,"discussion_content":"åº”è¯¥æ˜¯æ²¡æœ‰lmkfbuildç¨‹åº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644378799,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2519235,"avatar":"https://static001.geekbang.org/account/avatar/00/26/70/c3/cc46c55a.jpg","nickname":"MONKEYG","note":"","ucode":"81C780AA899A9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561033,"discussion_content":"æ‚¨å¥½ï¼Œè¯·é—®ä½ è§£å†³äº†ä¹ˆ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649516881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333132,"user_name":"Geek_fad810","can_delete":false,"product_type":"c1","uid":2864155,"ip_address":"","ucode":"6ADA4BEB3E4349","user_header":"","comment_is_top":false,"comment_ctime":1644120749,"is_pvip":false,"replies":[{"id":"121781","content":"æ˜¯å¯ä»¥çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1644284513,"ip_address":"","comment_id":333132,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1644120749","product_id":100078401,"comment_content":"è€å¸ˆé—®ä¸ªé—®é¢˜ï¼Œå¦‚æœä½¿ç”¨Multibootæ ‡å‡†æä¾›çš„Memory Mapæ˜¯ä¸æ˜¯å°±ä¸éœ€è¦è¿›å…¥å®æ¨¡å¼ä½¿ç”¨ä¸­æ–­è·å–äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549863,"discussion_content":"æ˜¯å¯ä»¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644284513,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328106,"user_name":"ç”³é¾™é’","can_delete":false,"product_type":"c1","uid":2615938,"ip_address":"","ucode":"688098EA258849","user_header":"https://static001.geekbang.org/account/avatar/00/27/ea/82/f44cbd20.jpg","comment_is_top":false,"comment_ctime":1640532290,"is_pvip":false,"replies":[{"id":"119661","content":"ç¬¬ä¸€çº§å¼•å¯¼å™¨æ˜¯GRUB","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1640768520,"ip_address":"","comment_id":328106,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640532290","product_id":100078401,"comment_content":"è¯·é—®ä¸‹å¼•å¯¼å™¨è¿™ä¸ªâ€œäºŒçº§â€æ˜¯æ€ä¹ˆç†è§£çš„","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542499,"discussion_content":"ç¬¬ä¸€çº§å¼•å¯¼å™¨æ˜¯GRUB","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640768520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324851,"user_name":"kocgockohgohç‹è£’","can_delete":false,"product_type":"c1","uid":2617112,"ip_address":"","ucode":"35EFABDE0D713D","user_header":"https://static001.geekbang.org/account/avatar/00/27/ef/18/6a620733.jpg","comment_is_top":false,"comment_ctime":1638687683,"is_pvip":false,"replies":[{"id":"117875","content":"ä¸æ˜¯","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1638753269,"ip_address":"","comment_id":324851,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1638687683","product_id":100078401,"comment_content":"define IMGFILE_PHYADR 0x4000000  è¯·é—®è¿™ä¸ªæ˜¯grubé»˜è®¤çš„åŠ è½½æ˜ åƒçš„åœ°å€ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536283,"discussion_content":"ä¸æ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638753269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1058856,"avatar":"https://static001.geekbang.org/account/avatar/00/10/28/28/5ffdd123.jpg","nickname":"æ¼«æ¸¸è€…","note":"","ucode":"7402D9068413D5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543525,"discussion_content":"åœ¨é“¾æ¥çš„æ—¶å€™æŒ‡å®šçš„ä½ç½®ï¼Œæœä¸€ä¸‹ä»£ç å°±çŸ¥é“äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641194414,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324809,"user_name":"kocgockohgohç‹è£’","can_delete":false,"product_type":"c1","uid":2617112,"ip_address":"","ucode":"35EFABDE0D713D","user_header":"https://static001.geekbang.org/account/avatar/00/27/ef/18/6a620733.jpg","comment_is_top":false,"comment_ctime":1638634265,"is_pvip":false,"replies":[{"id":"117877","content":"ä¸ä¸€æ ·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1638753338,"ip_address":"","comment_id":324809,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638634265","product_id":100078401,"comment_content":"è¯·é—®   å‡½æ•°çš„gdtåº”è¯¥æ˜¯ldrkrl.asmé‡Œé¢çš„ ä¸æ˜¯imginithead.asmé‡Œé¢çš„å§ realadr_call_entryè¿™ä¸ªå‡½æ•°ä¸æ˜¯åœ¨ldrkrl.asmå®šä¹‰çš„ä¹ˆ  å¦å¤–  ä¸ºä»€ä¹ˆè¦ç”¨ä¸¤ä¸ªç‰ˆæœ¬çš„gdtå•Š","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536285,"discussion_content":"ä¸ä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638753338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":322433,"user_name":"ä»»å›½å®","can_delete":false,"product_type":"c1","uid":1960963,"ip_address":"","ucode":"FE47D8DB5FA4C7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoXoqDLvF3l8OzIwDBVlbgZ2FtbPFoncicFjQPqMFkKqdG5BnRVIxxrN40zUhTkynsd6yLhqqYiblAQ/132","comment_is_top":false,"comment_ctime":1637383272,"is_pvip":false,"replies":[{"id":"117115","content":"å¯ä»¥æŒ‡å®šçš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1345199","ctime":1637543607,"ip_address":"","comment_id":322433,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1637383272","product_id":100078401,"comment_content":"Cè¯­è¨€mmapå‡½æ•°è°ƒç”¨äº†æ±‡ç¼–æ–¹æ³•realadr_call_entryï¼Œå¹¶ä¼ å…¥äº†3ä¸ªå‚æ•°ï¼›<br>realadr_call_entry(RLINTNR(0), 0, 0);<br><br>å…¶ä¸­æ±‡ç¼–æ–¹æ³•real_entryä¸­è¯´axå¯„å­˜å™¨æ˜¯Cå‡½æ•°ä¼ é€’è¿‡æ¥çš„ï¼Œä½†æ˜¯cè¯­è¨€å‡½æ•°è°ƒç”¨å‚æ•°ä¼ é€’ä¸æ˜¯ä½¿ç”¨diã€siã€dxä¸‰ä¸ªå¯„å­˜å™¨å—ï¼ˆæœ¬åœ°ç”¨gccéªŒè¯çš„å‚æ•°ä¼ é€’ï¼‰ï¼Œaxå¯„å­˜å™¨ä¸­çš„æ•°æ®æ˜¯æ€ä¹ˆä¼ é€’çš„å‘ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532133,"discussion_content":"å¯ä»¥æŒ‡å®šçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637543607,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321367,"user_name":"å®‰ä¹‹è‹¥ç´ ","can_delete":false,"product_type":"c1","uid":2805095,"ip_address":"","ucode":"3B407E50680740","user_header":"https://static001.geekbang.org/account/avatar/00/2a/cd/67/8e8e65ce.jpg","comment_is_top":false,"comment_ctime":1636814601,"is_pvip":false,"replies":[{"id":"116765","content":"ä¸åŒçš„ä»£ç æ¨¡å—è‡ªç„¶è¦æ¢GDT ä¿è¯ä¸å‡ºé—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1636940793,"ip_address":"","comment_id":321367,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1636814601","product_id":100078401,"comment_content":"ä»£ç æ¨¡å—çš„æ”¹å˜é‚£ä¸€å—ä¸æ˜¯å¾ˆç†è§£ï¼Œä¸ºä»€ä¹ˆéœ€è¦é‡æ–°è¯»å–GDTç­‰ä¿¡æ¯","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530281,"discussion_content":"ä¸åŒçš„ä»£ç æ¨¡å—è‡ªç„¶è¦æ¢GDT ä¿è¯ä¸å‡ºé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636940793,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1556769,"avatar":"https://static001.geekbang.org/account/avatar/00/17/c1/21/f17cfee2.jpg","nickname":"__jiel__","note":"","ucode":"88CB168893A726","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":583371,"discussion_content":"è€å¸ˆï¼Œè¿™é‡Œè¿˜æ˜¯ä¸èƒ½ç†è§£ä¸ºä»€ä¹ˆè¦é‡æ–°åŠ è½½GDTã€‚\nç¬¬ä¸€æ¬¡åŠ è½½ä¸å°±æŠŠæè¿°ç¬¦çš„åœ°å€æ”¾åˆ°GDTRå¯„å­˜å™¨äº†å—ï¼Œåé¢åˆæ²¡æœ‰åŠ¨è¿‡GDTRã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660057895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":530281,"ip_address":"å¹¿ä¸œ"},"score":583371,"extra":""}]}]},{"had_liked":false,"id":320634,"user_name":"ä¸å†™å‡ºæ“ä½œç³»ç»Ÿä¸æ”¹å","can_delete":false,"product_type":"c1","uid":2834444,"ip_address":"","ucode":"DD40D98250B688","user_header":"https://static001.geekbang.org/account/avatar/00/2b/40/0c/19b4224a.jpg","comment_is_top":false,"comment_ctime":1636428960,"is_pvip":false,"replies":[{"id":"116317","content":"objcopy","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1636506151,"ip_address":"","comment_id":320634,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1636428960","product_id":100078401,"comment_content":"æƒ³é—®ä¸€ä¸‹ï¼Œå†…æ ¸é•œåƒæ–‡ä»¶ä¸­çš„4Kå¤§å°çš„GRUBå¤´é‡Œé¢çš„æ•°æ®æ˜¯åœ¨å“ªé‡Œäº§ç”Ÿçš„ï¼Ÿ<br>å†…æ ¸é•œåƒæ–‡ä»¶æ˜¯ä¸€ä¸ªbinæ–‡ä»¶ã€‚æ˜¯ä½¿ç”¨lmoskrlimgè¿™ä¸ªå‘½ä»¤æŠŠgrubå¤´æ–‡ä»¶åˆå¹¶åˆ°æœ€ç»ˆçš„biné‡Œé¢å»çš„ã€‚<br>lmoskrlimg -m k -lhf GRUBå¤´æ–‡ä»¶ -o æ˜ åƒæ–‡ä»¶ -f è¾“å…¥çš„æ–‡ä»¶åˆ—è¡¨<br>è€Œgrubå¤´æ–‡ä»¶æ˜¯ç”±imginithead.asmå’Œinithead.cè¿™ä¸¤ä¸ªæºæ–‡ä»¶ç¼–è¯‘åç”Ÿæˆçš„ã€‚åªåœ¨imginithead.asmä¸­çœ‹åˆ°äº†æœ‰å®šä¹‰grubå’Œgrub2çš„ç»“æ„ä½“ï¼Œä½†æ˜¯è¿™ä¸ªç»“æ„ä½“æ˜¯ä½¿ç”¨ä¼ªæŒ‡ä»¤ddå®šä¹‰åœ¨å†…å­˜é‡Œçš„ã€‚æˆ‘çš„ç–‘é—®æ˜¯å¦‚ä½•æŠŠå†…å­˜ä¸­çš„grubå’Œgrub2ç»“æ„æ•°æ®è½¬æ¢ä¸ºbinçš„æ–‡ä»¶å†…å®¹çš„å‘¢ï¼Ÿæˆ–è€…æ˜¯è¯´ï¼Œinitldrimh.binè¿™ä¸ªæ–‡ä»¶æœ¬èº«æ²¡æœ‰ç›´æ¥ä¿å­˜grubå’Œgrub2çš„æ•°æ®ç»“æ„ï¼Œè€Œæ˜¯ä¿ç•™äº†åœ¨å†…å­˜ä¸­åˆ›å»ºgrubå’Œgrub2çš„æ–¹æ³•?","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530071,"discussion_content":"objcopy","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636506151,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2834444,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/40/0c/19b4224a.jpg","nickname":"ä¸å†™å‡ºæ“ä½œç³»ç»Ÿä¸æ”¹å","note":"","ucode":"DD40D98250B688","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413956,"discussion_content":"åæ¥ä»”ç»†çœ‹äº†ä¸€ä¸‹ã€‚åŸæ¥å®šä¹‰grubå’Œgrub2çš„é‚£äº›å¤´ç»“æ„çš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯section .textï¼Œå°±æ˜¯è¯´æŠŠgrubå’Œgrub2çš„å¤´ç»“æ„å®šä¹‰åœ¨äº†ä»£ç ã€‚ä¹‹å‰æƒ³å½“ç„¶çš„è®¤ä¸ºä½¿ç”¨dbå°±æ˜¯å®šä¹‰åœ¨äº†æ•°æ®æ®µé‡Œé¢äº†ã€‚åæ±‡ç¼–initldrimh.binåå¯ä»¥çœ‹åˆ°ä»0x4000004å¼€å§‹å°±ä¾æ¬¡æ˜¯grubå’Œgrub2çš„æ•°æ®ç»“æ„äº†ã€‚é™¤äº†0x4000000çš„åœ°æ–¹å¤–ï¼Œåªçœ‹å·¦è¾¹çš„æœºå™¨ç ï¼Œå³è¾¹æ ¹æ®æœºå™¨ç è¯†åˆ«çš„æ±‡ç¼–è¯­å¥æ˜¯ä¸å¯¹çš„ã€‚\n  2 initldrimh.elf:     file format elf32-i386\n  3 \n  4 \n  5 Disassembly of section .text:\n  6 \n  7 04000000 <.text>:\n  8  4000000: eb 66                 jmp    0x4000068\n  9  4000002: 90                    nop\n 10  4000003: 90                    nop\n 11  4000004: 02 b0 ad 1b 03 00     add    0x31bad(%eax),%dh\n 12  400000a: 01 00                 add    %eax,(%eax)\n 13  400000c: fb                    sti\n 14  400000d: 4f                    dec    %edi\n 15  400000e: 51                    push   %ecx\n 16  400000f: e4 04                 in     $0x4,%al\n 17  4000011: 00 00                 add    %al,(%eax)\n 18  4000013: 04 00                 add    $0x0,%al\n 19  4000015: 00 00                 add    %al,(%eax)\n 20  4000017: 04 00                 add    $0x0,%al\n 21  4000019: 00 00                 add    %al,(%eax)\n 22  400001b: 00 00                 add    %al,(%eax)\n 23  400001d: 00 00                 add    %al,(%eax)\n 24  400001f: 00 68 00              add    %ch,0x0(%eax)\n 25  4000022: 00 04 90              add    %al,(%eax,%edx,4)\n...\n=========================\nç°åœ¨æ¯”è¾ƒå¥½å¥‡ï¼Œgrubæ˜¯æ€ä¹ˆä»binæ–‡ä»¶é‡Œé¢è¯†åˆ«å‡ºè¿™ä¸ªå¤´ç»“æ„çš„ï¼Œgrubå¹¶ä¸çŸ¥é“è¿™ä¸ªå¤´ç»“æ„æ˜¯ä»å¤šå°‘åç§»åœ°å€å¼€å§‹ï¼Œè«éæ˜¯æŒ¨ä¸ªå­—èŠ‚åˆ¤æ–­çš„ï¼Ÿ\nhttps://www.gnu.org/software/grub/manual/multiboot/multiboot.html#Boot-sourcesä»è¿™ä¸ªgrubçš„å®˜æ–¹é“¾æ¥å¯ä»¥çœ‹åˆ°ï¼Œä»–ä»¬ä¹Ÿæ˜¯è¿™ä¹ˆç”¨çš„ï¼Œå…ˆæ”¾ä¸€ä¸ªè·³è½¬ï¼Œç„¶åæ˜¯Multiboot headerã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636618981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319392,"user_name":"178","can_delete":false,"product_type":"c1","uid":1090075,"ip_address":"","ucode":"3B0266F6BD06AE","user_header":"https://static001.geekbang.org/account/avatar/00/10/a2/1b/7426e629.jpg","comment_is_top":false,"comment_ctime":1635773956,"is_pvip":false,"replies":[{"id":"115781","content":"å“ˆå“ˆ éœ€è¦ç¡¬ä»¶ä½“ç³»çš„çŸ¥è¯†","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1635813036,"ip_address":"","comment_id":319392,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635773956","product_id":100078401,"comment_content":"è¿™ä¸€èŠ‚å¤§æ¦‚æ„æ€æ‡‚ï¼Œå°±æ˜¯ä¸çŸ¥é“è¯¥æ€ä¹ˆä¸Šæ‰‹æ“ä½œã€‚psï¼šæ„Ÿè°¢ã€Šæ±‡ç¼–è¯­è¨€ã€‹ï¼Œè¦ä¸ç„¶ä¸­æ–­è¿™ä¸€å—æ ¹æœ¬ä¸çŸ¥é“åœ¨è¯´ä»€ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529619,"discussion_content":"å“ˆå“ˆ éœ€è¦ç¡¬ä»¶ä½“ç³»çš„çŸ¥è¯†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635813036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317742,"user_name":"TheOne","can_delete":false,"product_type":"c1","uid":1067830,"ip_address":"","ucode":"474CD3FFECF7B2","user_header":"https://static001.geekbang.org/account/avatar/00/10/4b/36/7c44be55.jpg","comment_is_top":false,"comment_ctime":1634915676,"is_pvip":false,"replies":[{"id":"115361","content":"æ˜¯ è‡ªå®šä¹‰çš„","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1635211408,"ip_address":"","comment_id":317742,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1634915676","product_id":100078401,"comment_content":"IMGFILE_PHYADR 0x4000000 è¿™ä¸ªå€¼æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528953,"discussion_content":"æ˜¯ è‡ªå®šä¹‰çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635211408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2617112,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ef/18/6a620733.jpg","nickname":"kocgockohgohç‹è£’","note":"","ucode":"35EFABDE0D713D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536100,"discussion_content":"æˆ‘çŒœåº”è¯¥æ˜¯multiboot header  mbt_hbr ä¸‹é¢æŒ‡å®šäº†load_addressæ˜¯_start, ç„¶ååˆåœ¨initldrimh.ldsä¸­æŒ‡å®šäº†ç¼–è¯‘å™¨å°†_startåœ°å€è®¾ä¸º0x4000000, å³     .=0x4000000   _start_ldr.......","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1638689102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317172,"user_name":"Dingo","can_delete":false,"product_type":"c1","uid":2585973,"ip_address":"","ucode":"6C6B1571069963","user_header":"https://static001.geekbang.org/account/avatar/00/27/75/75/d08ee5b1.jpg","comment_is_top":false,"comment_ctime":1634699710,"is_pvip":false,"replies":[{"id":"115372","content":"ä¸åœ¨è¿™é‡Œå¼€ä¸­æ–­çš„ æŠŠç³»ç»Ÿåˆå§‹åŒ–å®Œæˆäº† æ‰ä¼šå¼€","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1635212033,"ip_address":"","comment_id":317172,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634699710","product_id":100078401,"comment_content":"ä¸å¤ªæ‡‚æ±‡ç¼–è¯­è¨€ï¼Œä¸ºå•¥cliæŒ‡ä»¤å±è”½ä¸­æ–­åï¼ŒåŠ è½½äº†GDTï¼Œä½†åé¢åˆæ²¡æœ‰stiæŒ‡ä»¤å¼€å¯ä¸­æ–­å‘¢?","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528698,"discussion_content":"ä¸åœ¨è¿™é‡Œå¼€ä¸­æ–­çš„ æŠŠç³»ç»Ÿåˆå§‹åŒ–å®Œæˆäº† æ‰ä¼šå¼€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635212033,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316728,"user_name":"æˆ‘ä¸ºä»€ä¹ˆè¿™ä¹ˆèœ","can_delete":false,"product_type":"c1","uid":2379061,"ip_address":"","ucode":"554C3F3300F1D5","user_header":"","comment_is_top":false,"comment_ctime":1634527548,"is_pvip":false,"replies":[{"id":"114793","content":"æ˜¯çš„ æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1634689279,"ip_address":"","comment_id":316728,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634527548","product_id":100078401,"comment_content":"å…³é”®æµç¨‹ï¼š<br>    1ã€è¿›å…¥GRUBåä»æ˜ åƒæ–‡ä»¶æ‰¾åˆ°äºŒçº§å¼•å¯¼å™¨çš„æ ¸å¿ƒæ–‡ä»¶ - initldrkrl.binï¼Œå¹¶æŠŠå®ƒæ”¾åˆ°ç‰¹å®šçš„å†…å­˜åœ°å€ä¸Š<br>    2ã€è·³è½¬åˆ°äºŒçº§å¼•å¯¼å™¨æ ¸å¿ƒæ–‡ä»¶æ‰€åœ¨çš„ç‰©ç†å†…å­˜ä¸Šï¼Œå¼€å§‹æ‰§è¡ŒäºŒçº§å¼•å¯¼å™¨çš„ä¸»å‡½æ•°<br>æ­¥éª¤ä¾èµ–ï¼š<br>    ç”±äºåœ¨äºŒçº§å¼•å¯¼å™¨çš„ä¸»å‡½æ•°ä¸­ï¼Œæ˜¯å¤„äº32ä½ä¿æŠ¤æ¨¡å¼ã€‚è€Œåœ¨æ­¤æ‰§è¡Œä¸€äº›æ­¥éª¤éœ€è¦ç”¨åˆ° BIOS ä¸­æ–­ï¼Œè€ŒBIOSä¸­æ–­åˆ™éœ€è¦è¿è¡Œåœ¨16ä½å®æ¨¡å¼ã€‚æ­¤æ—¶å°±éœ€è¦ä¸€ä¸ªèƒ½å°†ä¿æŠ¤æ¨¡å¼åˆ‡æ¢å›å®æ¨¡å¼ï¼Œå¹¶ä¸”è°ƒç”¨ä¸­æ–­å¤„ç†å‡½æ•°çš„æ­¥éª¤ã€‚è¿™ä¸ªæ­¥éª¤å°±æ”¾åœ¨ ldrkrl32.asm ä¸­çš„realadr_call_entry å’Œ realintsve.asm ä¸­å»å®Œæˆ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528477,"discussion_content":"æ˜¯çš„ æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634689279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313247,"user_name":"SinKitwah","can_delete":false,"product_type":"c1","uid":1478242,"ip_address":"","ucode":"BC39A39E17C95E","user_header":"https://static001.geekbang.org/account/avatar/00/16/8e/62/435148c1.jpg","comment_is_top":false,"comment_ctime":1632324323,"is_pvip":false,"replies":[{"id":"113462","content":"ekiåŠ è½½åˆ°äº†0x200000çš„åœ°æ–¹ï¼Œè¿™ä¸ªæ–‡ä»¶å‰4kbçš„ç©ºé—´æ˜¯å¼•å¯¼ç¨‹åº æ‰€ä»¥ekiæ–‡ä»¶çš„ç®¡ç†å¤´çš„æ•°æ®å°±åœ¨0x201000çš„åœ°å€ä¸Šå¼€å§‹ ","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1632357301,"ip_address":"","comment_id":313247,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1632324323","product_id":100078401,"comment_content":"åˆä¸€ä¸ªåœ°æ–¹æ¯”è¾ƒç–‘æƒ‘çš„æ˜¯MRDDSC_ADR=0x201000,ä¸ºä»€ä¹ˆä¼šæœ‰æ•°æ®å‘¢ï¼Ÿä»€ä¹ˆæ—¶å€™åŠ è½½è¿›å»çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527291,"discussion_content":"ekiåŠ è½½åˆ°äº†0x200000çš„åœ°æ–¹ï¼Œè¿™ä¸ªæ–‡ä»¶å‰4kbçš„ç©ºé—´æ˜¯å¼•å¯¼ç¨‹åº æ‰€ä»¥ekiæ–‡ä»¶çš„ç®¡ç†å¤´çš„æ•°æ®å°±åœ¨0x201000çš„åœ°å€ä¸Šå¼€å§‹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632357301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1024661,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a2/95/16d1f895.jpg","nickname":"peuei","note":"","ucode":"044AB69B04F624","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550282,"discussion_content":"MRDDSC_ADRä¸æ˜¯ç­‰äº0x4001000å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644466048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2746132,"avatar":"https://static001.geekbang.org/account/avatar/00/29/e7/14/7042884d.jpg","nickname":"é›ªç‹¼","note":"","ucode":"E266EF62040634","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":400294,"discussion_content":"MRDDSC_ADRä¸æ˜¯ç­‰äº0x4001000å—ï¼Ÿå“ªé‡Œå†³å®šäº†ekiè¢«åŠ è½½åˆ°äº†è¿™ä¸ªåœ°å€ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633226678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313058,"user_name":"å—åŸå¿†æ½‡æ¹˜","can_delete":false,"product_type":"c1","uid":2738376,"ip_address":"","ucode":"95E0584C71BD7C","user_header":"https://static001.geekbang.org/account/avatar/00/29/c8/c8/d23a126b.jpg","comment_is_top":false,"comment_ctime":1632236773,"is_pvip":false,"replies":[{"id":"113421","content":"ä¸æ˜¯åŒä¸€ä¸ª é“¾æ¥æ¨¡å—","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1632272231,"ip_address":"","comment_id":313058,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632236773","product_id":100078401,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜:ä¸ºä»€ä¹ˆfs.cæ–‡ä»¶å’Œinithead.cæ–‡ä»¶é‡Œé¢éƒ½å®šä¹‰äº† strcmplå‡½æ•°ï¼Œä¼¼ä¹ä¸è¿™æ ·ç¼–è¯‘ä¼šæœ‰é—®é¢˜ï¼Œå¤´æ–‡ä»¶éƒ½åŒ…å«åœ¨äº†cmctlé‡Œé¢äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦é‡å¤å®ç°å‘¢ï¼Œä¸€ç›´æ²¡ææ˜ç™½","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527214,"discussion_content":"ä¸æ˜¯åŒä¸€ä¸ª é“¾æ¥æ¨¡å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632272231,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313048,"user_name":"æ¬é“å°‘å¹´ai","can_delete":false,"product_type":"c1","uid":1031045,"ip_address":"","ucode":"01D4A830A088D7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bb/85/191eea69.jpg","comment_is_top":false,"comment_ctime":1632228930,"is_pvip":false,"replies":[{"id":"113422","content":"ä¸æ˜¯ ä¸æ˜¯ ","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1632272240,"ip_address":"","comment_id":313048,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632228930","product_id":100078401,"comment_content":"è¯·é—®ä¸ºä»€ä¹ˆinitldr32.asmä¸­ä¹Ÿè¦ jmp 0x200000 å‘¢ï¼Œè¿™ä¸æ˜¯å®ƒæœ¬èº«æ¨¡å—çš„åœ°å€å—","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527210,"discussion_content":"ä¸æ˜¯ ä¸æ˜¯ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632272240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311894,"user_name":"ACfun","can_delete":false,"product_type":"c1","uid":2730917,"ip_address":"","ucode":"A33A15F3182869","user_header":"https://static001.geekbang.org/account/avatar/00/29/ab/a5/3c09e213.jpg","comment_is_top":false,"comment_ctime":1631524585,"is_pvip":false,"replies":[{"id":"113153","content":"ä¸æ˜¯å·²ç»å†™ä»£ç äº†å—","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1631753192,"ip_address":"","comment_id":311894,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631524585","product_id":100078401,"comment_content":"æˆ‘æœ‰ä¸ªç–‘æƒ‘ï¼Œç†è§£è¿™äº›è¿‡ç¨‹å°±å¯ä»¥äº†è¿˜æ˜¯è¦æŠŠè¿™äº›ä»£ç ä¿å­˜åœ¨ä»€ä¹ˆè™šæ‹Ÿå™¨ç”¨äºè‡ªå·±çš„æ“ä½œç³»ç»Ÿï¼Œå¦‚æœè¦çœŸçš„å®ç°è‡ªå·±çš„äºŒçº§å¼•å¯¼å™¨ï¼Œå…·ä½“æ€ä¹ˆæ“ä½œå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526783,"discussion_content":"ä¸æ˜¯å·²ç»å†™ä»£ç äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631753192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311156,"user_name":"æ²ˆç•…","can_delete":false,"product_type":"c1","uid":1077953,"ip_address":"","ucode":"7404E41356B36B","user_header":"https://static001.geekbang.org/account/avatar/00/10/72/c1/59509397.jpg","comment_is_top":false,"comment_ctime":1631089418,"is_pvip":true,"replies":[{"id":"112792","content":"ä¸æ˜¯","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1631150946,"ip_address":"","comment_id":311156,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631089418","product_id":100078401,"comment_content":"_16_modeæ ‡å·çš„ä¸‹å¼€å§‹çš„ä»£ç è™½ç„¶æ˜¯16ä½çš„ä½†æ˜¯è¿˜æ˜¯è¿è¡Œåœ¨ä¿æŠ¤æ¨¡å¼ä¸‹å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526498,"discussion_content":"ä¸æ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631150946,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310310,"user_name":"ljy","can_delete":false,"product_type":"c1","uid":2750435,"ip_address":"","ucode":"367C19D8F0FE87","user_header":"https://static001.geekbang.org/account/avatar/00/29/f7/e3/322425f4.jpg","comment_is_top":false,"comment_ctime":1630587850,"is_pvip":false,"replies":[{"id":"112428","content":"è‡ªå·±å®šä¹‰çš„","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1630631610,"ip_address":"","comment_id":310310,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630587850","product_id":100078401,"comment_content":"è¯·é—®ï¼ŒMRDDSC_ADRè¿™ä¸ªå®çš„å€¼æ˜¯æ€ä¹ˆç¡®å®šçš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526193,"discussion_content":"è‡ªå·±å®šä¹‰çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630631610,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308285,"user_name":"Geek_41ac17","can_delete":false,"product_type":"c1","uid":2532163,"ip_address":"","ucode":"C5E4C8A2BC1D1F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKc2mia43C3uvJzsgXrsYrh96QichITEWCEu1dvGgNhiaIcaa92UM2nGArV0d8tic3PGGTjiagsvVqTe9w/132","comment_is_top":false,"comment_ctime":1629517019,"is_pvip":false,"replies":[{"id":"111666","content":"ç¼–è¯‘å•Š ","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1629604444,"ip_address":"","comment_id":308285,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1629517019","product_id":100078401,"comment_content":"lmoskrlimg è¿™ä¸ªå‘½ä»¤ä½¿ç”¨ä¸äº†ï¼Œè™½ç„¶åœ¨ç•™è¨€åŒºçœ‹åˆ°äº†è¿™ä¸ªçš„æºç åœ¨è¯¾ç¨‹çš„é…å¥—ä»£ç ä¸­ï¼Œä½†æ˜¯è¿˜æ˜¯ä¸çŸ¥é“å¦‚ä½•å®‰è£…ä½¿ç”¨ã€‚ ç›®å‰å·²ç»ç”Ÿæˆäº†ç¬¬ä¸€æ­¥éª¤çš„ä¸‰ä¸ªæ–‡ä»¶ï¼Œä¸çŸ¥é“å¦‚ä½•æ‰“åŒ…","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525451,"discussion_content":"ç¼–è¯‘å•Š ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629604444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"å¬æ°´çš„æ¹–","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390967,"discussion_content":"lmoskrlingæ˜¯è€å¸ˆè‡ªå·±å®ç°çš„å·¥å…·ï¼Œåœ¨Giteeeæ–‡ä»¶å¤¹toolsæ‰¾ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630203586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":306620,"user_name":"Solitude","can_delete":false,"product_type":"c1","uid":2165463,"ip_address":"","ucode":"32A7244D08F72A","user_header":"https://static001.geekbang.org/account/avatar/00/21/0a/d7/65d5f8a5.jpg","comment_is_top":false,"comment_ctime":1628647947,"is_pvip":false,"replies":[{"id":"111164","content":"å›å¤´å»çœ‹çœ‹ CPU å·¥ä½œæ¨¡å¼ ","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1628824579,"ip_address":"","comment_id":306620,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1628647947","product_id":100078401,"comment_content":"jmp dword 0x8 :_32bits_mode ï¼›é•¿è·³è½¬åˆ·æ–°CSå½±å­å¯„å­˜å™¨ è¿™ä¸ªæ€ä¹ˆç†è§£ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524843,"discussion_content":"å›å¤´å»çœ‹çœ‹ CPU å·¥ä½œæ¨¡å¼ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628824579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2064750,"avatar":"","nickname":"springXu","note":"","ucode":"F5DB0B963C894F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388244,"discussion_content":"csç¨‹åºå¯è§çš„çš„åªæœ‰16ä½ä¸¤ä¸ªå­—èŠ‚çš„ç©ºé—´çš„å¯„å­˜å™¨ã€‚ è¿™å¥æ˜¯csçš„å€¼èµ‹å€¼æˆ8ã€‚è¿™ä¸ªå¯»å€è¿‡ç¨‹æ˜¯ä»GDTå…¨å±€æè¿°ç¬¦è¡¨é‡ŒåŠ è½½ç¬¬8ä¸ªå­—èŠ‚é•¿åº¦ä¸º8ä¸ªå­—èŠ‚64ä½çš„æè¿°ç¬¦ã€‚ ä»ç¨‹åºçš„gdtä¸­å¯ä»¥å‘ç°å€¼æ˜¯00cf000000ffffï¼Œè¿™ä¸ªå€¼è¢«cpuå†™åˆ°äº†ä¸csé™„è¿‘çš„ç¨‹åºä¸å¯è§çš„64ä½8å­—èŠ‚çš„å½±å­å¯„å­˜å™¨ä¸­ï¼Œè¿™æ˜¯ä¸ºäº†åŠ é€Ÿå¯¹å†…å­˜çš„è®¿é—®ï¼Œä¸ç”¨æ¯æ¬¡éƒ½ä»å…¨å±€æè¿°ç¬¦è¡¨æ¥æŸ¥è¯¢äº†ã€‚  æœ‰äº†è¿™ä¸ªæè¿°ç¬¦00cf000000ffffå¯ä»¥å¾—åˆ°æ˜¯ä»å†…å­˜0åœ°å€å¼€å§‹åˆ°ffffffff-1ç»“æŸçš„å†…å­˜æ®µã€‚ _32bits_modeè¿™ä¸ªå€¼è¢«èµ‹å€¼åˆ°eipå¯„å­˜å™¨ä¸Šã€‚   è¿™ä¸ªè¿‡ç¨‹æ˜¯ä¿æŠ¤ä¸‹çš„ï¼Œé•¿æ¨¡å¼æè¿°ç¬¦ä¸­çš„æ®µä¸èµ·ä½œç”¨äº†ï¼Œç›´æ¥æ˜¯ä¸€ä¸ªå¤§æ®µæ¨¡å¼ä¸ripï¼Œå…¶ä»–è¿‡ç¨‹ç›¸åŒçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628666049,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304739,"user_name":"yf","can_delete":false,"product_type":"c1","uid":2636690,"ip_address":"","ucode":"4D81F5FD54C7FC","user_header":"https://static001.geekbang.org/account/avatar/00/28/3b/92/d018ecbb.jpg","comment_is_top":false,"comment_ctime":1627571573,"is_pvip":false,"replies":[{"id":"110241","content":"GDTæ˜¯ä¸€ä¸ªè¡¨ï¼Œä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œç¬¬ä¸€æ¬¡GDTæ˜¯GRUBçš„ï¼Œä½ ä¸çŸ¥é“å®ƒåœ¨å“ªé‡Œ ï¼Œæ“ä½œå†…å­˜å®¹æ˜“è¦†ç›–æ‰ ï¼Œç¬¬äºŒæ¬¡æ˜¯æˆ‘ä»¬è‡ªå·±çš„GDTï¼Œæˆ‘ä»¬çŸ¥é“ å®ƒåœ¨å“ªé‡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1627607787,"ip_address":"","comment_id":304739,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1627571573","product_id":100078401,"comment_content":"è€å¸ˆï¼Œæœ‰å‡ ä¸ªé—®é¢˜æƒ³è¯·æ•™ä¸€ä¸‹ï¼š<br>1. åœ¨initldr32.asm entryä¹‹åï¼Œä¼šè¦é‡æ–°åŠ è½½GDTã€IDTï¼Œå› ä¸ºæ¨¡å—å‘ç”Ÿäº†å˜åŒ–ï¼Œæ˜¯æŒ‡ç¨‹åºçš„æ®µå‘ç”Ÿäº†å˜åŒ–å—ï¼Ÿè¿˜æ˜¯ä»€ä¹ˆæ„æ€ï¼ŸGDTåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‘ç”Ÿæ”¹å˜å‘¢ï¼Ÿï¼Œä¸ºä»€ä¹ˆè¦åˆ‡ä¸¤æ¬¡ä¿æŠ¤æ¨¡å¼å‘¢ï¼Ÿ<br>2.æ‚¨åœ¨åé¢çš„realintsve.asmä¸­è¯´åˆ°ï¼ŒGDT è¿˜æ˜¯ imghead.asm æ±‡ç¼–ä»£ç æ–‡ä»¶ä¸­çš„ GDTï¼Œé‚£ä¹ˆè¿™ä¸ªGDTå’Œinitldr32.asmçš„GDTæœ‰ä»€ä¹ˆä¸ä¸€æ ·å‘¢ï¼Ÿæ•´ä¸ªè¿‡ç¨‹æœ€ç»ˆä¼šé‡æ–°æ‰§è¡Œåˆ°jmp 0x200000ä¹‹åç»§ç»­æ‰§è¡Œçš„GDTåˆæ˜¯å“ªä¸ªGDTå‘¢ï¼Ÿæ˜¯initldr32.asmçš„GDTå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524140,"discussion_content":"GDTæ˜¯ä¸€ä¸ªè¡¨ï¼Œä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œç¬¬ä¸€æ¬¡GDTæ˜¯GRUBçš„ï¼Œä½ ä¸çŸ¥é“å®ƒåœ¨å“ªé‡Œ ï¼Œæ“ä½œå†…å­˜å®¹æ˜“è¦†ç›–æ‰ ï¼Œç¬¬äºŒæ¬¡æ˜¯æˆ‘ä»¬è‡ªå·±çš„GDTï¼Œæˆ‘ä»¬çŸ¥é“ å®ƒåœ¨å“ªé‡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627607787,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304595,"user_name":"TSæƒ³æˆä¸ºåµŒå…¥å¼å¤§å¸ˆ","can_delete":false,"product_type":"c1","uid":2679665,"ip_address":"","ucode":"CFB2E30348F573","user_header":"https://static001.geekbang.org/account/avatar/00/28/e3/71/642edc63.jpg","comment_is_top":false,"comment_ctime":1627515498,"is_pvip":false,"replies":[{"id":"110188","content":"ä½ è¦çœ‹çœ‹GDT é‚£ä¸ªè¡¨ 0ã€8ã€16ã€ 24ï¼ˆ0x18ï¼‰ã€32  åˆ†åˆ«æŒ‡å‘è¡¨ä¸­çš„é¡¹<br>","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1627521060,"ip_address":"","comment_id":304595,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1627515498","product_id":100078401,"comment_content":"è¿™ä¸ª 0x18 å°±æ˜¯æ®µæè¿°ç´¢å¼•ï¼ˆè¿™ä¸ªçŸ¥è¯†ç‚¹ä¸ç†Ÿæ‚‰çš„è¯ï¼Œä½ å¯ä»¥å›çœ‹æˆ‘ä»¬ç¬¬äº”èŠ‚è¯¾ï¼‰ï¼Œå®ƒæ­£æ˜¯æŒ‡å‘ GDT ä¸­çš„ 16 ä½ä»£ç æ®µæè¿°ç¬¦ã€‚ã€‚ã€‚ã€‚è€å¸ˆèƒ½ç»™æˆ‘å†è¯¦ç»†è®²è®²è¿™ä¸ª0x18æ˜¯å’‹æŒ‡å‘åé¢çš„16ä½æè¿°ç¬¦çš„ã€‚ã€‚ã€‚æˆ‘çœ‹äº†å¥½å¤šéç¬¬äº”è¯¾è¿˜æ˜¯æ™•å¤´è½¬å‘çš„","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524093,"discussion_content":"ä½ è¦çœ‹çœ‹GDT é‚£ä¸ªè¡¨ 0ã€8ã€16ã€ 24ï¼ˆ0x18ï¼‰ã€32  åˆ†åˆ«æŒ‡å‘è¡¨ä¸­çš„é¡¹\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627521060,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2679665,"avatar":"https://static001.geekbang.org/account/avatar/00/28/e3/71/642edc63.jpg","nickname":"TSæƒ³æˆä¸ºåµŒå…¥å¼å¤§å¸ˆ","note":"","ucode":"CFB2E30348F573","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386458,"discussion_content":"å…·ä½“æ˜¯GDTå“ªä¸ªè¡¨ï¼Ÿæˆ‘æ‰¾äº†å¥½ä¹…ä¹Ÿæ²¡çœ‹åˆ°æœ‰è€å¸ˆæè¿°çš„è¿™ä¸ªå†…å®¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627603123,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304322,"user_name":"Zhendicai","can_delete":false,"product_type":"c1","uid":2536364,"ip_address":"","ucode":"6E1A8AE4C33CBE","user_header":"https://static001.geekbang.org/account/avatar/00/26/b3/ac/2c8baa5e.jpg","comment_is_top":false,"comment_ctime":1627354147,"is_pvip":false,"replies":[{"id":"110137","content":"è¿™æ˜¯ä¸€ä¸ªå«lmoskrlimgå·¥å…·å†™å…¥çš„","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1627373092,"ip_address":"","comment_id":304322,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1627354147","product_id":100078401,"comment_content":"ä¸œå“¥å¯ä»¥ç»™ç®€å•çš„è¯´ä¸€ä¸‹mlosrddsc_tè¿™ä¸ªç»“æ„ä½“æ˜¯åœ¨å“ªé‡Œå†™å…¥çš„ä¹ˆï¼Ÿ å¤§æ¦‚è´Ÿè´£ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524014,"discussion_content":"è¿™æ˜¯ä¸€ä¸ªå«lmoskrlimgå·¥å…·å†™å…¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627373092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303704,"user_name":"LargeOrange","can_delete":false,"product_type":"c1","uid":1226255,"ip_address":"","ucode":"CDDB0E6E4F09C8","user_header":"https://static001.geekbang.org/account/avatar/00/12/b6/0f/e3550f48.jpg","comment_is_top":false,"comment_ctime":1626937746,"is_pvip":true,"replies":[{"id":"109929","content":"åŠ æ²¹åŠ æ²¹ï¼Œåº•å±‚æ‰å®äº†ï¼Œç†è§£å„ç§æŠ€æœ¯éƒ½æœ‰åŠ æˆã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"èµµå®‡æ–°","uid":"1501385","ctime":1626945190,"ip_address":"","comment_id":303704,"utype":2}],"discussion_count":2,"race_medal":0,"score":"1626937746","product_id":100078401,"comment_content":"ä¸ä¼šCä¹Ÿä¸ä¼šæ±‡ç¼–ï¼Œä¸è¿‡è·Ÿç€ä¸œå“¥ä»åº•å±‚å¼€å§‹ç†è§£æ“ä½œç³»ç»ŸæŒºæœ‰æ„æ€çš„<br>","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"å¬æ°´çš„æ¹–","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523788,"discussion_content":"åŠ æ²¹åŠ æ²¹ï¼Œåº•å±‚æ‰å®äº†ï¼Œç†è§£å„ç§æŠ€æœ¯éƒ½æœ‰åŠ æˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626945190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2750435,"avatar":"https://static001.geekbang.org/account/avatar/00/29/f7/e3/322425f4.jpg","nickname":"ljy","note":"","ucode":"367C19D8F0FE87","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391365,"discussion_content":"å¶é‡å¤§æ©™å­å­¦é•¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630419341,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":302655,"user_name":"feihui","can_delete":false,"product_type":"c1","uid":1007294,"ip_address":"","ucode":"13F1D4A82BC650","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/be/9ea55f46.jpg","comment_is_top":false,"comment_ctime":1626318472,"is_pvip":true,"replies":[{"id":"109570","content":"ç”¨æˆ·ä»£ç  çš„æƒé™ æ˜¯ä¸èƒ½æ‰§è¡Œ ä¿®æ”¹æ¨¡å¼çš„æŒ‡ä»¤çš„","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1626399209,"ip_address":"","comment_id":302655,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1626318472","product_id":100078401,"comment_content":"è€å¸ˆï¼Œæƒ³è¯·æ•™ä¸‹ï¼Œæ–‡ç« æåˆ°é€šè¿‡æ±‡ç¼–åˆ‡æ¢å·¥ä½œæ¨¡å¼ï¼Œé‚£å¦‚ä½•ç¦æ­¢ç”¨æˆ·ä»£ç å¯¹å·¥ä½œæ¨¡å¼çš„ä¿®æ”¹ï¼Ÿæœ‰ä»€ä¹ˆä¿æŠ¤æœºåˆ¶å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523375,"discussion_content":"ç”¨æˆ·ä»£ç  çš„æƒé™ æ˜¯ä¸èƒ½æ‰§è¡Œ ä¿®æ”¹æ¨¡å¼çš„æŒ‡ä»¤çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626399209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300572,"user_name":"å†œå¤«é¾™æ³‰","can_delete":false,"product_type":"c1","uid":1329912,"ip_address":"","ucode":"705A8E32C985EA","user_header":"https://static001.geekbang.org/account/avatar/00/14/4a/f8/ad6e804b.jpg","comment_is_top":false,"comment_ctime":1625220236,"is_pvip":false,"replies":[{"id":"108906","content":"å“ˆå“ˆ ","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1625221972,"ip_address":"","comment_id":300572,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1625220236","product_id":100078401,"comment_content":"å¤§è„‘å·²ç»å®•æœºã€‚ã€‚ã€‚","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522766,"discussion_content":"å“ˆå“ˆ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625221972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":299880,"user_name":"å‚…æ˜¥å•¸","can_delete":false,"product_type":"c1","uid":2674472,"ip_address":"","ucode":"144DE575D6321D","user_header":"https://static001.geekbang.org/account/avatar/00/28/cf/28/6e45b5b2.jpg","comment_is_top":false,"comment_ctime":1624891851,"is_pvip":false,"replies":[{"id":"108759","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1624930188,"ip_address":"","comment_id":299880,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1624891851","product_id":100078401,"comment_content":"initldr32.asmçš„åœ°å€æ˜¯0x20000å—ï¼Ÿè¿™ä¸ªç¨‹åºçš„æ‰§è¡Œé¡ºåºæ„Ÿè§‰æœ‰ç‚¹çœ‹ä¸æ‡‚å“ˆå“ˆ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522571,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624930188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2729645,"avatar":"https://static001.geekbang.org/account/avatar/00/29/a6/ad/e65aec4c.jpg","nickname":"è‹æµéƒå®“","note":"","ucode":"AD07BD9CE03047","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408178,"discussion_content":"0x20000=2xï¼ˆ16çš„4æ¬¡æ–¹ï¼‰ï¼Œç­‰äº4ä¸ª4kbã€‚è€ç£ç›˜æ˜¯512båˆ†æ‰‡åŒºï¼Œæ–°ç£ç›˜æœ‰çš„å¥½åƒ4kbåˆ†æ‰‡åŒºã€‚è¿™æ ·å†…å­˜åœ°å€å¥½æ‰¾ç£ç›˜ä¿¡æ¯çš„å­˜å‚¨ä½ç½®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635186523,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298315,"user_name":"bon","can_delete":false,"product_type":"c1","uid":2631565,"ip_address":"","ucode":"3A65AC6BFA191B","user_header":"https://static001.geekbang.org/account/avatar/00/28/27/8d/3b98880c.jpg","comment_is_top":false,"comment_ctime":1624010590,"is_pvip":false,"replies":[{"id":"108300","content":"å®‰è£…äº†nasmå—","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1624181703,"ip_address":"","comment_id":298315,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1624010590","product_id":100078401,"comment_content":"è¯·é—®è€å¸ˆï¼Œåœ¨initldrç›®å½•ä¸‹æ‰§è¡Œmakeï¼Œå‡ºç°æŠ¥é”™ï¼š<br><br>Initldr:æ¸…ç†å…¨éƒ¨å·²æ„å»ºæ–‡ä»¶... ^_^<br>*********æ­£åœ¨å¼€å§‹ç¼–è¯‘æ„å»ºç³»ç»Ÿ*************<br>make[1]: nasm: No such file or directory<br>make[1]: *** [krnlbuidrule.mh:10: imginithead.o] Error 127<br>make: *** [Makefile:26: all] Error 2<br><br>è¯·é—®æ˜¯ç¯å¢ƒç¼ºä»€ä¹ˆåŒ…å—ï¼Ÿä¸€ç›´æ²¡æœ‰æ’æŸ¥å‡ºé—®é¢˜","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522093,"discussion_content":"å®‰è£…äº†nasmå—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624181703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298306,"user_name":"Geek_032c4a","can_delete":false,"product_type":"c1","uid":1501316,"ip_address":"","ucode":"8CF7A8D681F15D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/dXf9e0gmVVV1ozqBIiaWiaxz1qgPZrYHT9x3ytnjfZ6quCH7gNtibXhsg66kH1E4FeTVHMB9J3PibNaMN2GthvceqA/132","comment_is_top":false,"comment_ctime":1624008547,"is_pvip":false,"replies":[{"id":"108301","content":"é‚£ä¸ªè¦åºŸé™¤çš„","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1624181736,"ip_address":"","comment_id":298306,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1624008547","product_id":100078401,"comment_content":"è€å¸ˆæœ‰ä¸ªåœ°æ–¹ä¸å¤ªç†è§£ï¼Œè¿›äºŒçº§å¼•å¯¼å™¨çš„ä¸»æ¨¡å—é‚£ä¸ªåœ°æ–¹ä¸ºä»€ä¹ˆè¦é‡æ–°è£…è½½ä¸‹GDTï¼Œå› ä¸ºä¹‹å‰åœ¨imginithead.asmé‡Œé¢ä¸æ˜¯å·²ç»ldgtè¿‡äº†å—","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522090,"discussion_content":"é‚£ä¸ªè¦åºŸé™¤çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624181736,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297566,"user_name":"ç†Šä¸‰","can_delete":false,"product_type":"c1","uid":2048769,"ip_address":"","ucode":"9F35F5FDB70717","user_header":"https://static001.geekbang.org/account/avatar/00/1f/43/01/a8a65eea.jpg","comment_is_top":false,"comment_ctime":1623638785,"is_pvip":false,"replies":[{"id":"108058","content":"#define IMGKRNL_PHYADR 0x2000000  æ˜¯å†…æ ¸æ˜ åƒçš„åœ°å€ ","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1623722880,"ip_address":"","comment_id":297566,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623638785","product_id":100078401,"comment_content":"ä¸ºä»€ä¹ˆæ–‡ç« inithead.cé‡Œçš„å®å®šä¹‰æ˜¯#define IMGKRNL_PHYADR 0x2000000ï¼Œåœ¨ imghead.asm æ±‡ç¼–æ–‡ä»¶ä»£ç ä¸­ï¼Œæœ€åä¸€æ¡æŒ‡ä»¤æ˜¯â€œjmp 0x200000â€ã€‚","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521857,"discussion_content":"#define IMGKRNL_PHYADR 0x2000000  æ˜¯å†…æ ¸æ˜ åƒçš„åœ°å€ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623722880,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296918,"user_name":"simon","can_delete":false,"product_type":"c1","uid":1829980,"ip_address":"","ucode":"81A1A1CD299C7A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo7020l7kLf1JNSbNMkvpPaIsrkQ5op6qgWQEDdtZu3QyUc5zvC7yicVAJRUeI9fUgVc1ghliaGpRhQ/132","comment_is_top":false,"comment_ctime":1623224604,"is_pvip":false,"replies":[{"id":"107851","content":"ä¸æ˜¯çš„ï¼Œä»£ç æ˜¯å®è·µè¿‡ç¨‹ ","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1623244969,"ip_address":"","comment_id":296918,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1623224604","product_id":100078401,"comment_content":"ä»è¿™èŠ‚å¼€å§‹æ˜¯ä¸æ˜¯è¦æŠŠæ‰€æœ‰ä»£ç éƒ½çœ‹æ‡‚æ‰èƒ½è¿›è¡Œä¸‹ä¸€èŠ‚ï¼Œè¿˜æ˜¯è¯´å…ˆé¢†æ‚Ÿè¿‡ç¨‹ï¼Œå³ä½¿çœ‹ä¸æ‡‚æ±‡ç¼–ä¹Ÿè¡Œ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521647,"discussion_content":"ä¸æ˜¯çš„ï¼Œä»£ç æ˜¯å®è·µè¿‡ç¨‹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623244969,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1829980,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo7020l7kLf1JNSbNMkvpPaIsrkQ5op6qgWQEDdtZu3QyUc5zvC7yicVAJRUeI9fUgVc1ghliaGpRhQ/132","nickname":"simon","note":"","ucode":"81A1A1CD299C7A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378486,"discussion_content":"å“¦å“¦ï¼Œå°±æ˜¯ç†è§£æ•´ä¸ªå¼•å¯¼è¿‡ç¨‹æ˜¯å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623245270,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296732,"user_name":"Panda","can_delete":false,"product_type":"c1","uid":1095740,"ip_address":"","ucode":"911A200C7B18BE","user_header":"https://static001.geekbang.org/account/avatar/00/10/b8/3c/1a294619.jpg","comment_is_top":false,"comment_ctime":1623136005,"is_pvip":false,"replies":[{"id":"107797","content":"ç”ŸåŠ¨å½¢è±¡ï¼Œå“ˆå“ˆï½","user_name":"ç¼–è¾‘å›å¤","user_name_real":"èµµå®‡æ–°","uid":"1501385","ctime":1623147108,"ip_address":"","comment_id":296732,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1623136005","product_id":100078401,"comment_content":"åƒæ¥åŠ›èµ›ä¸€æ ·  ä¸€æ£’ä¸€æ£’ä¼ ä¸‹å»","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"å¬æ°´çš„æ¹–","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521566,"discussion_content":"ç”ŸåŠ¨å½¢è±¡ï¼Œå“ˆå“ˆï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623147108,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296145,"user_name":"Freddy","can_delete":false,"product_type":"c1","uid":1708412,"ip_address":"","ucode":"5822B746265DB4","user_header":"https://static001.geekbang.org/account/avatar/00/1a/11/7c/bf5049b3.jpg","comment_is_top":false,"comment_ctime":1622775995,"is_pvip":false,"replies":[{"id":"107589","content":"æˆ‘è‡ªå¸¦çš„æœ‰ ç›´æ¥ä½¿ç”¨å°±å¥½ï¼Œä¸ç”¨å®‰è£… çš„ ","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1622988768,"ip_address":"","comment_id":296145,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1622775995","product_id":100078401,"comment_content":"lmoskrlimg è¿™ä¸ªå‘½ä»¤æ€ä¹ˆå®‰è£…ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521337,"discussion_content":"æˆ‘è‡ªå¸¦çš„æœ‰ ç›´æ¥ä½¿ç”¨å°±å¥½ï¼Œä¸ç”¨å®‰è£… çš„ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622988768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295952,"user_name":"blentle","can_delete":false,"product_type":"c1","uid":1064679,"ip_address":"","ucode":"AC092609A4942A","user_header":"https://static001.geekbang.org/account/avatar/00/10/3e/e7/261711a5.jpg","comment_is_top":false,"comment_ctime":1622682039,"is_pvip":false,"replies":[{"id":"107599","content":"æˆ‘ä¸æ˜¯æœ‰ä»£ç å— ","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1622989301,"ip_address":"","comment_id":295952,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1622682039","product_id":100078401,"comment_content":"è€å¸ˆï¼Œæœ‰æ²¡æœ‰å¼€æºçš„äºŒçº§å¼•å¯¼å™¨å‚è€ƒ","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521276,"discussion_content":"æˆ‘ä¸æ˜¯æœ‰ä»£ç å— ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622989301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295880,"user_name":"å°¼æ¬§","can_delete":false,"product_type":"c1","uid":1260883,"ip_address":"","ucode":"39D4D1F5F51764","user_header":"https://static001.geekbang.org/account/avatar/00/13/3d/53/9d8a1207.jpg","comment_is_top":false,"comment_ctime":1622628312,"is_pvip":false,"replies":[{"id":"107406","content":"åŠ æ²¹ï¼Œè¿™å‘¨å°±è¦æ˜¾ç¤ºlogoäº†ï¼ŒæœŸå¾…ä½ ä¹Ÿå¯ä»¥åŠ¨æ‰‹å®ç°ã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"èµµå®‡æ–°","uid":"1501385","ctime":1622644588,"ip_address":"","comment_id":295880,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1622628312","product_id":100078401,"comment_content":"æ‰“å¡","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"å¬æ°´çš„æ¹–","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521250,"discussion_content":"åŠ æ²¹ï¼Œè¿™å‘¨å°±è¦æ˜¾ç¤ºlogoäº†ï¼ŒæœŸå¾…ä½ ä¹Ÿå¯ä»¥åŠ¨æ‰‹å®ç°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622644588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295859,"user_name":"äºŒä¸‰å­ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1245787,"ip_address":"","ucode":"69C7D86583277D","user_header":"https://static001.geekbang.org/account/avatar/00/13/02/5b/ce326cfc.jpg","comment_is_top":false,"comment_ctime":1622621819,"is_pvip":false,"replies":[{"id":"107603","content":"å“ˆå“ˆ<br>","user_name":"ä½œè€…å›å¤","user_name_real":"LMOS","uid":"1345199","ctime":1622989519,"ip_address":"","comment_id":295859,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1622621819","product_id":100078401,"comment_content":"m2mcopyçš„ä»£ç å‰åæ‹·è´çš„æ–¹å¼ç›´æ¥çœç•¥æ‰äº†è¾¹ç•Œæ£€æŸ¥ã€‚Good Taste.","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521243,"discussion_content":"å“ˆå“ˆ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622989519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":13124,"title":"第40讲 | 搭建一个网络实验环境：授人以鱼不如授人以渔","content":"<p>因为这门课是基础课程，而且配合音频的形式发布，所以我多以理论为主来进行讲解。在专栏更新的过程中，不断有同学让我推荐一些网络方面的书籍，还有同学说能不能配合一些实验来说明理论。</p>\n<p>的确，网络是一门实验性很强的学科，就像我在开篇词里面说的一样：<strong>一看觉得懂，一问就打鼓，一用就糊涂。</strong> 在写专栏的过程中，我自己也深深体会到了。这个时候，我常常会拿一个现实的环境，上手操作一下，抓个包看看，这样心里就会有定论。</p>\n<h2>《TCP/IP详解》实验环境搭建</h2>\n<p>对于网络方面的书籍，我当然首推Rechard Stevens的《<a href=\"https://book.douban.com/subject/1741925/\">TCP/IP illustrated</a>》（《TCP/IP详解》）。这本书把理论讲得深入浅出，还配有大量的上手实践和抓包，看到这些抓包，原来不理解的很多理论，一下子就能懂了。</p>\n<p>这本书里有个拓扑图，书上的很多实验都是基于这个图的，但是这个拓扑图还是挺复杂的。我这里先不说，一会儿详细讲。</p>\n<p>Rechard Stevens，因为工作中有这么一个环境，很方便做实验，最终才写出了这样一本书，而我们一般人学习网络，没有这个环境应该怎么办呢？</p>\n<p>时代不同了，咱们现在有更加强大的工具了。例如，这里这么多的机器，我们可以用Docker来实现，多个网络可以用Open  vSwitch来实现。你甚至不需要一台物理机，只要一台1核2G的虚拟机，就能将这个环境搭建起来。</p><!-- [[[read_end]]] -->\n<p>搭建这个环境的时候，需要一些脚本。我把脚本都放在了<a href=\"https://github.com/popsuper1982/tcpipillustrated\">Github</a>里面，你可以自己取用。</p>\n<h3>1.创建一个Ubuntu虚拟机</h3>\n<p>在你的笔记本电脑上，用VirtualBox创建就行。1核2G，随便一台电脑都能搭建起来。</p>\n<p>首先，我们先下载一个Ubuntu的镜像。我是从<a href=\"https://www.ubuntu.com/download/alternative-downloads\">Ubuntu官方网站</a>下载的。</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/39/87/390a5bfb153fc95bdac0939194bc7387.jpg?wh=920*445\" alt=\"\" /></p>\n<p>然后，在VirtualBox里面安装Ubuntu。安装过程网上一大堆教程，你可以自己去看，我这里就不详细说了。</p>\n<p>这里我需要说明的是网络的配置。</p>\n<p>对于这个虚拟机，我们创建两个网卡，一个是Host-only，只有你的笔记本电脑上能够登录进去。这个网卡上的IP地址也只有在你的笔记本电脑上管用。这个网卡的配置比较稳定，用于在SSH上做操作。这样你的笔记本电脑就可以搬来搬去，在公司里安装一半，回家接着安装另一半都没问题。</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/ab/ce/ab1974fc25fe902ff8eeda598eb9c3ce.jpg?wh=710*437\" alt=\"\" /></p>\n<p>这里有一个虚拟的网桥，这个网络可以在管理&gt;主机网络管理里面进行配置。</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/49/13/49eea1f000c9a538271d46c25c0a7b13.jpg?wh=684*539\" alt=\"\" /></p>\n<p></p>\n<p>在这里可以虚拟网桥的的IP地址，同时启用一个DHCP服务器，为新创建的虚拟机配置IP地址。</p>\n<p>另一个网卡配置为NAT网络，用于访问互联网。配置了NAT网络之后，只要你的笔记本电脑能上网，虚拟机就能上网。由于咱们在Ubuntu里面要安装一些东西，因而需要联网。</p>\n<p>你可能会问了，这个配置复杂吗？一点儿都不复杂。咱们讲<a href=\"https://time.geekbang.org/column/article/10742\">虚拟机网络</a>的时候，讲过这个。</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/2d/c4/2dd447992fbf4901f92a3dfdf8086bc4.jpg?wh=752*572\" alt=\"\" /></p>\n<p>安装完了Ubuntu之后，需要对Ubuntu里面的网卡进行配置。对于Ubuntu来讲，网卡的配置在/etc/network/interfaces这个文件里面。在我的环境里，NAT的网卡名称为enp0s3，Host-only的网卡的名称为enp0s8，都可以配置为自动配置。</p>\n<pre><code>auto lo\niface lo inet loopback\n\nauto enp0s3\niface enp0s3 inet dhcp\n\nauto enp0s8\niface enp0s8 inet dhcp\n</code></pre>\n<p>这样，重启之后，IP就配置好了。</p>\n<h3>2.安装Docker和Open  vSwitch</h3>\n<p>接下来，在Ubuntu里面，以root用户，安装Docker和Open  vSwitch。</p>\n<p>你可以按照Docker的<a href=\"https://docs.docker.com/install/linux/docker-ce/ubuntu/\">官方安装</a><a href=\"https://docs.docker.com/install/linux/docker-ce/ubuntu/\">文档</a>来做。我这里也贴一下我的安装过程。</p>\n<pre><code>apt-get remove docker docker-engine docker.io\napt-get -y update\napt-get -y install apt-transport-https ca-certificates curl software-properties-common\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg &gt; gpg\napt-key add gpg\napt-key fingerprint 0EBFCD88\nadd-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot;\napt-get -y update\napt-cache madison docker-ce\napt-get -y install docker-ce=18.06.0~ce~3-0~ubuntu\n</code></pre>\n<p>之后，还需要安装Open  vSwitch和Bridge。</p>\n<pre><code>apt-get -y install openvswitch-common openvswitch-dbg openvswitch-switch python-openvswitch openvswitch-ipsec openvswitch-pki openvswitch-vtep\n\napt-get -y install bridge-utils\n\napt-get -y install arping\n</code></pre>\n<h3>3.准备一个Docker的镜像</h3>\n<p><img src=\"https://static001.geekbang.org/resource/image/4c/1e/4c0e633ddc53f3feb98946518c0cf21e.jpg?wh=851*600\" alt=\"\" /></p>\n<p>每个节点都是一个Docker，对应要有一个Docker镜像。这个镜像我已经打好了，你可以直接使用。</p>\n<pre><code>docker pull hub.c.163.com/liuchao110119163/ubuntu:tcpip\n</code></pre>\n<p>当然你也可以自己打这个镜像。Dockerfile就像这样：</p>\n<pre><code>FROM hub.c.163.com/public/ubuntu:14.04\nRUN apt-get -y update &amp;&amp; apt-get install -y iproute2 iputils-arping net-tools tcpdump curl telnet iputils-tracepath traceroute\nRUN mv /usr/sbin/tcpdump /usr/bin/tcpdump\nENTRYPOINT /usr/sbin/sshd -D\n</code></pre>\n<h3>4.启动整个环境</h3>\n<p>启动这个环境还是比较复杂的，我写成了一个脚本。在Git仓库里面，有一个文件 <a href=\"http://setupenv.sh\">setupenv.sh</a> ，可以执行这个脚本，里面有两个参数，一个参数是NAT网卡的名字，一个是镜像的名称。</p>\n<pre><code>git clone https://github.com/popsuper1982/tcpipillustrated.git\ncd tcpipillustrated\ndocker pull hub.c.163.com/liuchao110119163/ubuntu:tcpip\nchmod +x setupenv.sh \n./setupenv.sh enp0s3 hub.c.163.com/liuchao110119163/ubuntu:tcpip\n</code></pre>\n<p>这样，整个环境就搭建起来了，所有的容器之间都可以ping通，而且都可以上网。</p>\n<p>不过，我写的这个脚本对一些人来说可能会有点儿复杂，我这里也解释一下。</p>\n<p>首先<strong>每一个节点，都启动一个容器</strong>。使用–privileged=true方式，网络先不配置–net none。有两个二层网络，使用ovs-vsctl的add-br命令，创建两个网桥。</p>\n<p>pipework是一个很好的命令行工具，可以将容器连接到两个二层网络上。</p>\n<p>但是我们上面那个图里有两个比较特殊的网络，一个是从slip到bsdi的P2P网络，需要创建一个peer的两个网卡，然后两个Docker的网络namespace里面各塞进去一个。</p>\n<p>有关操作Docker的网络namespace的方式，咱们在<a href=\"https://time.geekbang.org/column/article/11465\">容器网络</a>那一节讲过ip netns命令。</p>\n<p>这里需要注意的是，P2P网络和下面的二层网络不是同一个网络。P2P网络的CIDR是140.252.13.64/27，而下面的二层网络的CIDR是140.252.13.32/27。如果按照/24，看起来是一个网络，但是/27就不是了。至于<a href=\"https://time.geekbang.org/column/article/7772\">CIDR的计算方法</a>，你可以回去复习一下。</p>\n<p>另外需要<strong>配置从sun到netb的点对点网络</strong>，方法还是通过peer网卡和ip netns的方式。</p>\n<p>这里有个特殊的地方，对于netb来讲，不是一个普通的路由器，因为netb两边是同一个二层网络，所以需要配置arp proxy。</p>\n<p>为了所有的节点之间互通，要配置一下路由策略，这里需要通过ip route命令。</p>\n<ul>\n<li>\n<p>对于slip来讲，bsdi左面13.66这个网口是网关。</p>\n</li>\n<li>\n<p>对于bsdi和svr4来讲，如果去外网，sun下面的网口13.33是网关。</p>\n</li>\n<li>\n<p>对于sun来讲，上面的网口1.29属于上面的二层网络了，它如果去外网，gateway下面的网口1.4就是外网网关。</p>\n</li>\n<li>\n<p>对于aix，solaris，gemini来讲，如果去外网，网关也是gateway下面的网口1.4。如果去下面的二层网口，网关是sun上面的网口1.29。</p>\n</li>\n</ul>\n<p>配置完了这些，图中的所有的节点都能相互访问了，最后还要解决<strong>如何访问外网</strong>的问题。</p>\n<p>我们还是需要创建一个peer网卡对。一个放在gateway里面，一个放在gateway外面。外面的网卡去外网的网关。</p>\n<p>在虚拟机上面，还需要配置一个iptables的地址伪装规则MASQUERADE，其实就是一个SNAT。因为容器里面要访问外网，因为外网是不认的，所以源地址不能用容器的地址，需要SNAT成为虚拟机的地址出去，回来的时候再NAT回来。</p>\n<p>配置这个环境还是挺复杂的，要用到咱们学到的很多知识。如果没有学习前面那些知识，直接就做这个实验，你肯定会很晕。但是只学理论也不行，要把理论都学过一遍，再做一遍实验，这才是一个不断迭代、更新知识库的过程。</p>\n<p>有了这个环境，《TCP/IP详解》里面的所有实验都能做了，而且我打的这个Docker镜像里面，tcpdump等网络工具都安装了，你可以“为所欲为”了。</p>\n<h2>Open  vSwitch的实验</h2>\n<p>做了TCP/IP详解的实验之后，网络程序设计这部分，你就有了坚实的基础。但是涉及到数据中心内部的一些网络技术，什么VLAN、VXLAN、STP等偏运维方向的，学习还是会比较困难。好在我们有Open  vSwitch，也可以做大量的实验。</p>\n<p>Open  vSwitch门槛比较高，里面的概念也非常多，可谓千头万绪。不过，通过我这么多年研究的经验，可以告诉你，这里面有一个很好的线索，那就是Open  vSwitch会将自己对于网络的配置保存在一个本地库里面。这个库的表结构之间的关系就像这样：</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/43/d9/439a996b7f8de9477cb00876f13a28d9.jpg?wh=971*533\" alt=\"\" /></p>\n<p>这个库其实是一个JSON，如果把这个JSON打印出来，能够看到更加详细的特性。按照这些特性一一实验，可以逐渐把Open  vSwitch各个特性都掌握。</p>\n<p><img src=\"https://static001.geekbang.org/resource/image/f0/a0/f00657f044e5afb07332f7236054b8a0.jpg?wh=3962*2946\" alt=\"\" /></p>\n<p>这里面最重要的概念就是<strong>网桥</strong>。一个网桥会有流表控制网络包的处理过程，会有控制器下发流表，一个网桥上会有多个端口，可以对端口进行流控，一个端口可以设置VLAN，一个端口可以包含多个网卡，可以做绑定，网卡可以设置成为GRE和VXLAN。</p>\n<p>我写过一个Open  vSwitch的实验教程，也放在了Github里面。这里面有这么几个比较重要的实验，你可以看一看。</p>\n<ul>\n<li>\n<p>实验一：查看Open  vSwitch的架构。我们在讲Open  vSwitch的时候，提过Open  vSwitch的架构，在这个实验中，我们可以查看Open  vSwitch的各个模块以及启动的参数。</p>\n</li>\n<li>\n<p>实验五：配置使用OpenFlow Controller，体验一把作为小区物业在监控室里面管控整个小区道路的样子。</p>\n</li>\n<li>\n<p>实验八：测试Port的VLAN功能。看一下VLAN隔离究竟是什么样的。</p>\n</li>\n<li>\n<p>实验十：QoS功能。体验一把如果使用HTB进行网卡限流。</p>\n</li>\n<li>\n<p>实验十一：GRE和VXLAN隧道功能，看虚拟网络如何进行租户隔离。</p>\n</li>\n<li>\n<p>实验十五：对Flow Table的操作，体验流表对网络包随心所欲的处理。</p>\n</li>\n</ul>\n<p>好了，关于整个环境的搭建我就讲到这里了。</p>\n<p>其实到这里，对于网络世界的探索才刚刚开始，只有经过你自己动手和思考产生的内容，才是真正属于你的知识！打开你的电脑，上手去实验吧！</p>\n<p>欢迎你留言和我讨论。趣谈网络协议，我们下期见！</p>\n<p></p>\n","neighbors":{"left":{"article_title":"第39讲 | 知识串讲：用双十一的故事串起碎片的网络协议（下）","id":13099},"right":{"article_title":"协议专栏特别福利 | 答疑解惑第一期","id":13520}},"comments":[{"had_liked":false,"id":20467,"user_name":"qpzm7903","can_delete":false,"product_type":"c1","uid":1138683,"ip_address":"","ucode":"C7C14962D34BE7","user_header":"https://static001.geekbang.org/account/avatar/00/11/5f/fb/af061ca7.jpg","comment_is_top":false,"comment_ctime":1534466075,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"160448256027","product_id":100007101,"comment_content":"不说了，回去装机开始为所欲为！","like_count":37,"discussions":[{"author":{"id":1614875,"avatar":"https://static001.geekbang.org/account/avatar/00/18/a4/1b/0d7b9ee1.jpg","nickname":"了凡","note":"","ucode":"E0D53803C5702B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352639,"discussion_content":"cool","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614784787,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77095,"user_name":"江湖小虾","can_delete":false,"product_type":"c1","uid":1014406,"ip_address":"","ucode":"5C28656D763ECF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7a/86/655307b3.jpg","comment_is_top":false,"comment_ctime":1552832037,"is_pvip":false,"replies":[{"id":"50242","content":"赞","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567827671,"ip_address":"","comment_id":77095,"utype":1}],"discussion_count":1,"race_medal":0,"score":"91747145253","product_id":100007101,"comment_content":"第二次启动的时候，需要删除已经存在docker docker rm $(docker ps -a -q),<br>还需要删除已经存在网卡 ovs-vsctl del-br net1 ,ovs-vsctl del-br net2,<br>重新运行脚本<br>","like_count":21,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443576,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567827671,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":21592,"user_name":"初学者","can_delete":false,"product_type":"c1","uid":1042833,"ip_address":"","ucode":"9471A905D07CE1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e9/91/4219d305.jpg","comment_is_top":false,"comment_ctime":1535183416,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"53074790968","product_id":100007101,"comment_content":"老师，要不要出个操作系统原理的课程","like_count":12},{"had_liked":false,"id":33267,"user_name":"麟豸鸿","can_delete":false,"product_type":"c1","uid":1135337,"ip_address":"","ucode":"A4C0BBA4A56CB8","user_header":"https://static001.geekbang.org/account/avatar/00/11/52/e9/6a1273bb.jpg","comment_is_top":false,"comment_ctime":1539768825,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"35899507193","product_id":100007101,"comment_content":"老师，这个会报错啊，是否更新一下安装方式。谢谢。ubuntu unable to locate package openvswitch-ipsec","like_count":8,"discussions":[{"author":{"id":1160923,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJPia3iaO2cjY2vkHYP3vLLW5TjlhBrqc2anCJ2WUeAu3ia9zVu6VFvJClpD3qUrRZ3dvwXicbw4BH6xw/132","nickname":"施天助","note":"","ucode":"5C4A4593324A4A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383075,"discussion_content":"网址也打不开","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625881822,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1228202,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bd/aa/f53a6800.jpg","nickname":"Dong","note":"","ucode":"B467D06C2CD7E5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284826,"discussion_content":"你的版本估计不对，文中是16.04，不过可以用debian的源。\nhttps://packages.debian.org/sid/amd64/openvswitch-ipsec/download","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592654226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1076899,"avatar":"https://static001.geekbang.org/account/avatar/00/10/6e/a3/bec136c0.jpg","nickname":"cxzm","note":"","ucode":"E94ACEF9D507A6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1218,"discussion_content":"请问解决了吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562407825,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":20633,"user_name":"咸鱼","can_delete":false,"product_type":"c1","uid":1151904,"ip_address":"","ucode":"764AE607217625","user_header":"https://static001.geekbang.org/account/avatar/00/11/93/a0/e53be7b7.jpg","comment_is_top":false,"comment_ctime":1534611281,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"27304415057","product_id":100007101,"comment_content":"为什么一直显示pipeeork 68有问题呢","like_count":6,"discussions":[{"author":{"id":2290992,"avatar":"https://static001.geekbang.org/account/avatar/00/22/f5/30/761c875a.jpg","nickname":"Adrian","note":"","ucode":"2B8BE968905289","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577760,"discussion_content":"找到问题了 少了个参数 需要加网卡名到脚本后面 哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656321842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2290992,"avatar":"https://static001.geekbang.org/account/avatar/00/22/f5/30/761c875a.jpg","nickname":"Adrian","note":"","ucode":"2B8BE968905289","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577756,"discussion_content":"我也是 解决了吗 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656321057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2458289,"avatar":"https://static001.geekbang.org/account/avatar/00/25/82/b1/8d09c88c.jpg","nickname":"平平榴","note":"","ucode":"E0EF3DF585E1D4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351861,"discussion_content":"加个sudo试试","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614500708,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":285709,"user_name":"Wangyf","can_delete":false,"product_type":"c1","uid":2226219,"ip_address":"","ucode":"349068A07CB1D4","user_header":"https://static001.geekbang.org/account/avatar/00/21/f8/2b/339660f1.jpg","comment_is_top":false,"comment_ctime":1616987229,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"23091823709","product_id":100007101,"comment_content":"老师文章里使用的是 Ubuntu，我把使用 CentOS 配置网卡的方法写一写吧，具体用什么虚拟机的软件应该是没关系，我用的是 CentOS 7 的系统<br><br>使用 virtual box 的步骤就按照老师的步骤即可，只是配置 IP 的时候有点儿差异。老师的代码：<br><br>auto lo<br>iface lo inet loopback<br><br>auto enp0s3<br>iface enp0s3 inet dhcp<br><br>auto enp0s8<br>iface enp0s8 inet dhcp<br><br>第一段是默认的，我以为是老师自己加的，搜了好一会儿。。。但其实是只添加了下面的两段。下面两段儿的意思是，让这两个网卡都使用 DHCP 自动配置 IP 地址。回到 CentOS 中，cd 到 &#47;etc&#47;sysconfig&#47;network-scripts 目录下，前两个文件就是两张网卡的配置文件。这两个文件 &quot;ifcfg-enp0s3&quot; 除了名字不一样，其他应该都一样。然后把最后一项 ONBOOT 改为 yes 即可<br><br>然后保存修改，执行 service network restart 命令重启一下服务即可。两个配置文件都执行一下，然后 ping 百度看看，应该问题不大","like_count":5,"discussions":[{"author":{"id":1731543,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/6b/d7/8872624a.jpg","nickname":"xmeng","note":"","ucode":"C0CA2182BA3B4B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":404529,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634314074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60407,"user_name":"liao89","can_delete":false,"product_type":"c1","uid":1158818,"ip_address":"","ucode":"F72A8F9EEB0F2C","user_header":"https://static001.geekbang.org/account/avatar/00/11/ae/a2/e4b59443.jpg","comment_is_top":false,"comment_ctime":1547469244,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23022305724","product_id":100007101,"comment_content":"老师您好，我准备写下相关学习的博客，能否使用你的相关图片","like_count":5},{"had_liked":false,"id":20780,"user_name":"咸鱼","can_delete":false,"product_type":"c1","uid":1151904,"ip_address":"","ucode":"764AE607217625","user_header":"https://static001.geekbang.org/account/avatar/00/11/93/a0/e53be7b7.jpg","comment_is_top":false,"comment_ctime":1534749000,"is_pvip":false,"replies":[{"id":"7317","content":"哈哈，没事儿","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1534754382,"ip_address":"","comment_id":20780,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23009585480","product_id":100007101,"comment_content":"不好意思大大，是因为我vim进去看源码的时候，不小心在68行添加个引号，然后我一直没看出来，所以，后来在运行时一直显示68行有问题，打扰了😊","like_count":5,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422405,"discussion_content":"哈哈，没事儿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1534754382,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":20498,"user_name":"upstream","can_delete":false,"product_type":"c1","uid":1074908,"ip_address":"","ucode":"2FDF5608B13D52","user_header":"https://static001.geekbang.org/account/avatar/00/10/66/dc/0397b628.jpg","comment_is_top":false,"comment_ctime":1534485338,"is_pvip":false,"replies":[{"id":"7273","content":"<br>没试过","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1534730696,"ip_address":"","comment_id":20498,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23009321818","product_id":100007101,"comment_content":"用gns3 模拟器可以吗？","like_count":6,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422275,"discussion_content":"\n没试过","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1534730696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":20491,"user_name":"logic","can_delete":false,"product_type":"c1","uid":1018357,"ip_address":"","ucode":"ECCD036742A245","user_header":"https://static001.geekbang.org/account/avatar/00/0f/89/f5/6ca81802.jpg","comment_is_top":false,"comment_ctime":1534479788,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18714348972","product_id":100007101,"comment_content":"很棒，回去实践一下","like_count":4},{"had_liked":false,"id":36911,"user_name":"Billylin","can_delete":false,"product_type":"c1","uid":1004016,"ip_address":"","ucode":"BEA692CEEAC6CF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/51/f0/d1142758.jpg","comment_is_top":false,"comment_ctime":1541385928,"is_pvip":false,"replies":[{"id":"13147","content":"那就把映射关系写到hosts里面吧","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1541404569,"ip_address":"","comment_id":36911,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14426287816","product_id":100007101,"comment_content":"Re:<br>环境搭建起来之后，容器之间不能相互ping通，例如我输入命令进入sun之后（docker exec -it sun &#47;bin&#47;bash）,执行ping svr4会直接报unknown host，这是啥原因呢？<br>执行启动脚本并无报错。<br>----------<br>直接ping ip呢？<br>----------<br>刘老师，容器之间直接ping ip是没有问题的。","like_count":3,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":428083,"discussion_content":"那就把映射关系写到hosts里面吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541404569,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81271,"user_name":"三件事","can_delete":false,"product_type":"c1","uid":1055819,"ip_address":"","ucode":"BCC867C8961A24","user_header":"https://static001.geekbang.org/account/avatar/00/10/1c/4b/2e5df06f.jpg","comment_is_top":false,"comment_ctime":1553846013,"is_pvip":false,"replies":[{"id":"50098","content":"virtualbox里面没有嘛","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567792554,"ip_address":"","comment_id":81271,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10143780605","product_id":100007101,"comment_content":"如何对 Ubuntu 的网卡配置呢？我按照老师的配置了，但是在 interfaces 里没看到有 Host-Only 的 adapter","like_count":2,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445136,"discussion_content":"virtualbox里面没有嘛","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567792554,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":302153,"user_name":"施天助","can_delete":false,"product_type":"c1","uid":1160923,"ip_address":"","ucode":"5C4A4593324A4A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJPia3iaO2cjY2vkHYP3vLLW5TjlhBrqc2anCJ2WUeAu3ia9zVu6VFvJClpD3qUrRZ3dvwXicbw4BH6xw/132","comment_is_top":false,"comment_ctime":1626099825,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5921067121","product_id":100007101,"comment_content":"老师，我只找到了个ubuntu-14.04.6-server-amd64.iso安装在vitualbox里。然后也有好多包都装不上。。。。","like_count":1,"discussions":[{"author":{"id":1082978,"avatar":"https://static001.geekbang.org/account/avatar/00/10/86/62/22e9aeb0.jpg","nickname":"杨涛","note":"","ucode":"2B6B6AEFFB54A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554697,"discussion_content":"http://old-releases.ubuntu.com/releases/xenial/","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1646556262,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243776,"user_name":"郑祖煌","can_delete":false,"product_type":"c1","uid":1469608,"ip_address":"","ucode":"49A0D2E3279826","user_header":"https://static001.geekbang.org/account/avatar/00/16/6c/a8/1922a0f5.jpg","comment_is_top":false,"comment_ctime":1598272532,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"5893239828","product_id":100007101,"comment_content":"可以用vware workstation代替virtual box。用redhat代替ubutun吗？","like_count":1,"discussions":[{"author":{"id":1156601,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a5/f9/13fc76bc.jpg","nickname":"二明","note":"","ucode":"9F3F0C51BE41DE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413716,"discussion_content":"建议还是按老师的版本搭建一遍，熟悉以后再用其他的版本来，不然由于版本差异，命令工具不一致，带来的各种报错会令人崩溃的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636547425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1469608,"avatar":"https://static001.geekbang.org/account/avatar/00/16/6c/a8/1922a0f5.jpg","nickname":"郑祖煌","note":"","ucode":"49A0D2E3279826","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300975,"discussion_content":"用了很多方式和方法 环境没搭建起来 用了整整两天周末。还是先放弃下 后面再回头看。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598349736,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1469608,"avatar":"https://static001.geekbang.org/account/avatar/00/16/6c/a8/1922a0f5.jpg","nickname":"郑祖煌","note":"","ucode":"49A0D2E3279826","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300903,"discussion_content":"有人能回答我下不？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598317291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":211706,"user_name":"阳光梦","can_delete":false,"product_type":"c1","uid":1283965,"ip_address":"","ucode":"55BDA128D39931","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/TTPicMEZ5s1zKiaKYecIljicRV9dibITPM0958W3VuNHXlTQic2Dj6XYGibF7dqrG3JWr0LMx7hY9zXGzuvTDNGw8KAA/132","comment_is_top":false,"comment_ctime":1587997849,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5882965145","product_id":100007101,"comment_content":"开搞openvswitch，感谢超哥入门ppt！还有什么对我这新手指点的？多多益善，多谢！","like_count":1},{"had_liked":false,"id":161473,"user_name":"lyonger","can_delete":false,"product_type":"c1","uid":1313840,"ip_address":"","ucode":"E89A75DADEA2A1","user_header":"https://static001.geekbang.org/account/avatar/00/14/0c/30/bb4bfe9d.jpg","comment_is_top":false,"comment_ctime":1576213325,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5871180621","product_id":100007101,"comment_content":"请问有哪位大佬用Mac+virtulbox成功搭建了环境的吗？表示没有windows笔记本电脑，一直用的Mac。","like_count":1,"discussions":[{"author":{"id":1285612,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKy9XSxDLRibViazIs1wzhEmIQqMlhcoKhTXNvxXkaPGIveib8B9ibvpdkZxABKFIc4iaSMrkTh7EfWjtg/132","nickname":"likejjj","note":"","ucode":"005BF873B32EA1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":164999,"discussion_content":"可以成功搭建","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581247792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149424,"user_name":"潜水","can_delete":false,"product_type":"c1","uid":1439118,"ip_address":"","ucode":"5FA3F6687E2104","user_header":"https://static001.geekbang.org/account/avatar/00/15/f5/8e/f2a5539a.jpg","comment_is_top":false,"comment_ctime":1573215335,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5868182631","product_id":100007101,"comment_content":"这是终于把正餐看完了。","like_count":1},{"had_liked":false,"id":43433,"user_name":"likun","can_delete":false,"product_type":"c1","uid":1030816,"ip_address":"","ucode":"9145ED059CCC6D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ba/a0/f03d20cd.jpg","comment_is_top":false,"comment_ctime":1543226543,"is_pvip":false,"replies":[{"id":"15510","content":"有时候添加完之后处于down的状态","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1543232718,"ip_address":"","comment_id":43433,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5838193839","product_id":100007101,"comment_content":"超哥 看了下安装环境的shell脚本 有点疑惑， 创建网桥的时候ovs-vsctl add-br net1<br>ip link set net1 up<br>ovs-vsctl add-br net2<br>ip link set net1 up 这里net1启动了两次 是手误吗？","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430382,"discussion_content":"有时候添加完之后处于down的状态","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543232718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1285612,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKy9XSxDLRibViazIs1wzhEmIQqMlhcoKhTXNvxXkaPGIveib8B9ibvpdkZxABKFIc4iaSMrkTh7EfWjtg/132","nickname":"likejjj","note":"","ucode":"005BF873B32EA1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":165002,"discussion_content":"确实应该是ip link set net2 up","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581247948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1219666,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM7lTQQeIDIXrU4u1wsydv5tWaaz4JDwVmHeibOWpw05QDSk57rBJFEQRPiavywZjiafSdYTjk0hFWUGw/132","nickname":"可可","note":"","ucode":"FD9516F133E134","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":34590,"discussion_content":"ovs-vsctl add-br net1\nip link set net1 up\novs-vsctl add-br net2\nip link set net1 up\n\n最后那个应该是\nip link set net2 up\nnet1 up 两次，没有必要的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571208744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":20518,"user_name":"linas","can_delete":false,"product_type":"c1","uid":1129971,"ip_address":"","ucode":"54797A031AE154","user_header":"https://static001.geekbang.org/account/avatar/00/11/3d/f3/a6075776.jpg","comment_is_top":false,"comment_ctime":1534502885,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5829470181","product_id":100007101,"comment_content":"老师讲的太好了 既系统又有实操，棒棒哒！","like_count":1},{"had_liked":false,"id":20475,"user_name":"youth","can_delete":false,"product_type":"c1","uid":1062845,"ip_address":"","ucode":"13050D255F15F5","user_header":"https://static001.geekbang.org/account/avatar/00/10/37/bd/2b7ffd02.jpg","comment_is_top":false,"comment_ctime":1534468350,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5829435646","product_id":100007101,"comment_content":"很棒，就喜欢这种操作性比较强的文章。","like_count":1},{"had_liked":false,"id":352922,"user_name":"伯逢","can_delete":false,"product_type":"c1","uid":1528703,"ip_address":"陕西","ucode":"79883B83DEF0B3","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIiahUoerpp5WG8OIVc648ibosDHHVKDl8Qcm1MhMgJAuYC4KnmX4M98r6YdNREuMNKLlg6lK5xEVgQ/132","comment_is_top":false,"comment_ctime":1659012042,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1659012042","product_id":100007101,"comment_content":"EVE-NG跟这个比如何","like_count":0},{"had_liked":false,"id":351781,"user_name":"while (1)等;","can_delete":false,"product_type":"c1","uid":1061991,"ip_address":"","ucode":"BAEC7258D65B69","user_header":"https://static001.geekbang.org/account/avatar/00/10/34/67/06a7f9be.jpg","comment_is_top":false,"comment_ctime":1658193661,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1658193661","product_id":100007101,"comment_content":"从入门到弃坑，硬着头皮看完了一遍，不想再看第二遍","like_count":0},{"had_liked":false,"id":350643,"user_name":"William Ning","can_delete":false,"product_type":"c1","uid":1592279,"ip_address":"","ucode":"4DB8D05E69E5F3","user_header":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","comment_is_top":false,"comment_ctime":1657072481,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1657072481","product_id":100007101,"comment_content":"懵了，这个实验是真的要花时间认真学习，实践，思考才行了～～","like_count":0},{"had_liked":false,"id":349777,"user_name":"Adrian","can_delete":false,"product_type":"c1","uid":2290992,"ip_address":"","ucode":"2B8BE968905289","user_header":"https://static001.geekbang.org/account/avatar/00/22/f5/30/761c875a.jpg","comment_is_top":false,"comment_ctime":1656321160,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1656321160","product_id":100007101,"comment_content":"跑setup脚本 报错 Error: No such object: aix，pipework:68 [: =: unexpected operator, 这是什么问题？","like_count":0},{"had_liked":false,"id":301783,"user_name":"施天助","can_delete":false,"product_type":"c1","uid":1160923,"ip_address":"","ucode":"5C4A4593324A4A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJPia3iaO2cjY2vkHYP3vLLW5TjlhBrqc2anCJ2WUeAu3ia9zVu6VFvJClpD3qUrRZ3dvwXicbw4BH6xw/132","comment_is_top":false,"comment_ctime":1625881632,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1625881632","product_id":100007101,"comment_content":"老师，我找不到16.04.5 server 版本，安装的20.04.2 LTS 64位的，然后apt一直装不了这两个包：<br>apt-get -y install python-openvswitch<br>apt-get -y install openvswitch-ipsec<br>注： 我每次都先运行 apt-get update 了","like_count":0},{"had_liked":false,"id":198604,"user_name":"以梦为马","can_delete":false,"product_type":"c1","uid":1907129,"ip_address":"","ucode":"529373FF61034B","user_header":"https://static001.geekbang.org/account/avatar/00/1d/19/b9/c3700576.jpg","comment_is_top":false,"comment_ctime":1585459141,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1585459141","product_id":100007101,"comment_content":"坚持打卡","like_count":0},{"had_liked":false,"id":176814,"user_name":"likejjj","can_delete":false,"product_type":"c1","uid":1285612,"ip_address":"","ucode":"005BF873B32EA1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKy9XSxDLRibViazIs1wzhEmIQqMlhcoKhTXNvxXkaPGIveib8B9ibvpdkZxABKFIc4iaSMrkTh7EfWjtg/132","comment_is_top":false,"comment_ctime":1581173189,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581173189","product_id":100007101,"comment_content":"文章里面，网络拓扑图中sun主机的sunside地址是：140.252.1.29&#47;32，CIDR是32，但是脚本setupenv.sh里面执行的是：<br>#给sun里面的网卡添加地址<br>docker exec -it sun ip addr add 140.252.1.29&#47;24 dev sunside<br>docker exec -it sun ip link set sunside up<br>CIDR是24，请问是笔误，还是确实要这样设置？","like_count":0},{"had_liked":false,"id":159896,"user_name":"饭粒","can_delete":false,"product_type":"c1","uid":1153455,"ip_address":"","ucode":"4C3220B0D43997","user_header":"https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg","comment_is_top":false,"comment_ctime":1575820215,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575820215","product_id":100007101,"comment_content":"专栏太值了。","like_count":0},{"had_liked":false,"id":140331,"user_name":"彦","can_delete":false,"product_type":"c1","uid":1320909,"ip_address":"","ucode":"E5882A4AA131E5","user_header":"https://static001.geekbang.org/account/avatar/00/14/27/cd/c5f3448f.jpg","comment_is_top":false,"comment_ctime":1570879606,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570879606","product_id":100007101,"comment_content":"老师，我这几天按步骤搭好测试环境，一切都很顺利，唯独有一个问题不知道如何解决，就是在docker中无法解析域名，无论ping啥网站域名都是报错unknown host，直接ping ip没问题。请问这问题要怎么解决。还有就是我的虚拟机是CentOS7.1的，docker按老师的步骤安装的，openvswitch是2.5.4版的","like_count":0},{"had_liked":false,"id":131638,"user_name":"程序员大天地","can_delete":false,"product_type":"c1","uid":1249001,"ip_address":"","ucode":"7A21F15FEE2D5B","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/e9/98b6ea61.jpg","comment_is_top":false,"comment_ctime":1567829901,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1567829901","product_id":100007101,"comment_content":"老师，在mac上安装一个virtualBox 可以搭建环境吗？","like_count":0,"discussions":[{"author":{"id":1285612,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKy9XSxDLRibViazIs1wzhEmIQqMlhcoKhTXNvxXkaPGIveib8B9ibvpdkZxABKFIc4iaSMrkTh7EfWjtg/132","nickname":"likejjj","note":"","ucode":"005BF873B32EA1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":165000,"discussion_content":"我就是这样的，能成功搭建","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581247828,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":108119,"user_name":"灯盖","can_delete":false,"product_type":"c1","uid":1482839,"ip_address":"","ucode":"0F8455A593D60C","user_header":"https://static001.geekbang.org/account/avatar/00/16/a0/57/3a729755.jpg","comment_is_top":false,"comment_ctime":1561683990,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1561683990","product_id":100007101,"comment_content":"强大的无法言语","like_count":0},{"had_liked":false,"id":82955,"user_name":"影子-dxb","can_delete":false,"product_type":"c1","uid":1151028,"ip_address":"","ucode":"13434C85D27EF1","user_header":"https://static001.geekbang.org/account/avatar/00/11/90/34/68ae31ae.jpg","comment_is_top":false,"comment_ctime":1554358867,"is_pvip":true,"replies":[{"id":"49975","content":"可以的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567788520,"ip_address":"","comment_id":82955,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554358867","product_id":100007101,"comment_content":"开个云主机应该也能搞定这些实验","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445793,"discussion_content":"可以的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567788520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80661,"user_name":"恒","can_delete":false,"product_type":"c1","uid":1319490,"ip_address":"","ucode":"9D5451DBE2A2B7","user_header":"https://static001.geekbang.org/account/avatar/00/14/22/42/fefcffb8.jpg","comment_is_top":false,"comment_ctime":1553695823,"is_pvip":false,"replies":[{"id":"50144","content":"可以的","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567824243,"ip_address":"","comment_id":80661,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553695823","product_id":100007101,"comment_content":"刘超老师，这个Ubuntu的可以用desktop版的吗？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444937,"discussion_content":"可以的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567824243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69433,"user_name":"PengL","can_delete":false,"product_type":"c1","uid":1011320,"ip_address":"","ucode":"F96F3EBCE77620","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6e/78/ac519e27.jpg","comment_is_top":false,"comment_ctime":1550742487,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550742487","product_id":100007101,"comment_content":"刘老师，你好，按照教程已经搭建好环境，第一次运行环境配置脚本没问题，之后也能ping通各个结点IP，但是重启虚拟机后，不管有没有再次运行那个环境配置脚本，只能ping通 140.252.1.11，其他的结点都没ping通，请问下是怎么回事呢？重启后需要再执行其他什么配置吗？","like_count":0},{"had_liked":false,"id":68644,"user_name":"xpxdx","can_delete":false,"product_type":"c1","uid":1010976,"ip_address":"","ucode":"66F649862E6129","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqy7GudyFZicjyYw9LuPAK3IUH6zzzUpJTpAjVkkbpmNcZ5GkvW8ibPsqVsgpP8iajXtxUvVTIjxibkAQ/132","comment_is_top":false,"comment_ctime":1550564638,"is_pvip":false,"replies":[{"id":"50303","content":"是不是我把镜像删了？可以自己制作一个哈","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1567840472,"ip_address":"","comment_id":68644,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550564638","product_id":100007101,"comment_content":"报错了，到第3步时候<br>docker pull hub.c.163.com&#47;liuchao110119163&#47;ubuntu:tcpip<br>Error response from daemon: Get https:&#47;&#47;hub.c.163.com&#47;v2&#47;: net&#47;http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)<br><br>如何解决呢？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439774,"discussion_content":"是不是我把镜像删了？可以自己制作一个哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567840472,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67692,"user_name":"牙小木","can_delete":false,"product_type":"c1","uid":1172050,"ip_address":"","ucode":"E5C12D37A62949","user_header":"https://static001.geekbang.org/account/avatar/00/11/e2/52/56dbb738.jpg","comment_is_top":false,"comment_ctime":1550223469,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1550223469","product_id":100007101,"comment_content":"看完后好激动，好激动！","like_count":0},{"had_liked":false,"id":64104,"user_name":"西海","can_delete":false,"product_type":"c1","uid":1256240,"ip_address":"","ucode":"6415444E993D0D","user_header":"https://static001.geekbang.org/account/avatar/00/13/2b/30/f4bae723.jpg","comment_is_top":false,"comment_ctime":1548667587,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548667587","product_id":100007101,"comment_content":"老师 学完课程能不能自己科学上网？能不能福利一波科学上网的知识","like_count":0},{"had_liked":false,"id":54331,"user_name":"徐文杰","can_delete":false,"product_type":"c1","uid":1144571,"ip_address":"","ucode":"3C31DB9E90AA6C","user_header":"https://static001.geekbang.org/account/avatar/00/11/76/fb/2bd1bb8f.jpg","comment_is_top":false,"comment_ctime":1545829726,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545829726","product_id":100007101,"comment_content":"老师bsdi ping svr4，sun运行tcpdump看不到ICMP报文，但是ping gateway可以正常看到报文","like_count":0},{"had_liked":false,"id":50169,"user_name":"细雨","can_delete":false,"product_type":"c1","uid":1267059,"ip_address":"","ucode":"8A42F39D9388E8","user_header":"https://static001.geekbang.org/account/avatar/00/13/55/73/0b6351b8.jpg","comment_is_top":false,"comment_ctime":1544884319,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544884319","product_id":100007101,"comment_content":"如果我只准备把《TCP&#47;IP详解》书上的实验做一下，没有时间通读，《详解》三本书我都应该买吗？还是只买其中某一本？<br>读老师回复一下。<br>","like_count":0},{"had_liked":false,"id":49342,"user_name":"静静聆听","can_delete":false,"product_type":"c1","uid":1263932,"ip_address":"","ucode":"0A8600CB928EFE","user_header":"https://static001.geekbang.org/account/avatar/00/13/49/3c/5d54c510.jpg","comment_is_top":false,"comment_ctime":1544668281,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544668281","product_id":100007101,"comment_content":"nat加host-only并不能实现。。。。。。。。。。。","like_count":0},{"had_liked":false,"id":45404,"user_name":"陈阿票","can_delete":false,"product_type":"c1","uid":1239984,"ip_address":"","ucode":"4781AE97748533","user_header":"https://static001.geekbang.org/account/avatar/00/12/eb/b0/2af13c30.jpg","comment_is_top":false,"comment_ctime":1543632266,"is_pvip":false,"replies":[{"id":"16174","content":"没试过，建议完全按我的这个配置来，有的读者用了不同的操作系统，或者不同的版本，脚本就不成功了","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1543648346,"ip_address":"","comment_id":45404,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1543632266","product_id":100007101,"comment_content":"老师，mac系统上也能装上这些么","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431021,"discussion_content":"没试过，建议完全按我的这个配置来，有的读者用了不同的操作系统，或者不同的版本，脚本就不成功了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543648346,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1219666,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM7lTQQeIDIXrU4u1wsydv5tWaaz4JDwVmHeibOWpw05QDSk57rBJFEQRPiavywZjiafSdYTjk0hFWUGw/132","nickname":"可可","note":"","ucode":"FD9516F133E134","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":34589,"discussion_content":"mac上装个vitualbox，然后按照ubuntu，完全没有问题。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1571208637,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1313840,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0c/30/bb4bfe9d.jpg","nickname":"lyonger","note":"","ucode":"E89A75DADEA2A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1219666,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM7lTQQeIDIXrU4u1wsydv5tWaaz4JDwVmHeibOWpw05QDSk57rBJFEQRPiavywZjiafSdYTjk0hFWUGw/132","nickname":"可可","note":"","ucode":"FD9516F133E134","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":81021,"discussion_content":"你测试过是没有问题吗？打算用Mac是一波","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576213181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":34589,"ip_address":""},"score":81021,"extra":""}]},{"author":{"id":1285612,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKy9XSxDLRibViazIs1wzhEmIQqMlhcoKhTXNvxXkaPGIveib8B9ibvpdkZxABKFIc4iaSMrkTh7EfWjtg/132","nickname":"likejjj","note":"","ucode":"005BF873B32EA1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":165001,"discussion_content":"试过mac上装个vitualbox，里面安装ubuntu，可以正常","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581247903,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":43828,"user_name":"likun","can_delete":false,"product_type":"c1","uid":1030816,"ip_address":"","ucode":"9145ED059CCC6D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ba/a0/f03d20cd.jpg","comment_is_top":false,"comment_ctime":1543305043,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543305043","product_id":100007101,"comment_content":"超哥 网络图里面的sun上的sunside的cidr应该是24吧？","like_count":0},{"had_liked":false,"id":36496,"user_name":"Billylin","can_delete":false,"product_type":"c1","uid":1004016,"ip_address":"","ucode":"BEA692CEEAC6CF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/51/f0/d1142758.jpg","comment_is_top":false,"comment_ctime":1541130034,"is_pvip":false,"replies":[{"id":"12987","content":"直接ping ip呢？","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1541159207,"ip_address":"","comment_id":36496,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1541130034","product_id":100007101,"comment_content":"环境搭建起来之后，容器之间不能相互ping通，例如我输入命令进入sun之后（docker exec -it sun &#47;bin&#47;bash）,执行ping svr4会直接报unknown host，这是啥原因呢？<br>执行启动脚本并无报错。","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427890,"discussion_content":"直接ping ip呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541159207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":34252,"user_name":"zouz","can_delete":false,"product_type":"c1","uid":1172368,"ip_address":"","ucode":"EBC8E9DD8EB0B0","user_header":"https://static001.geekbang.org/account/avatar/00/11/e3/90/84eb5682.jpg","comment_is_top":false,"comment_ctime":1540048138,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1540048138","product_id":100007101,"comment_content":"老师，未发现软件包 openvswitch-vtep，更新了源还是不行。","like_count":0},{"had_liked":false,"id":34250,"user_name":"zouz","can_delete":false,"product_type":"c1","uid":1172368,"ip_address":"","ucode":"EBC8E9DD8EB0B0","user_header":"https://static001.geekbang.org/account/avatar/00/11/e3/90/84eb5682.jpg","comment_is_top":false,"comment_ctime":1540047904,"is_pvip":false,"replies":[{"id":"12379","content":"用的是一个版本的ubuntu吗？","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1540290366,"ip_address":"","comment_id":34250,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1540047904","product_id":100007101,"comment_content":"老师，未发现软件包 openvswitch-vtep，是否更新一下安装方式。","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427157,"discussion_content":"用的是一个版本的ubuntu吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1540290366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":33271,"user_name":"麟豸鸿","can_delete":false,"product_type":"c1","uid":1135337,"ip_address":"","ucode":"A4C0BBA4A56CB8","user_header":"https://static001.geekbang.org/account/avatar/00/11/52/e9/6a1273bb.jpg","comment_is_top":false,"comment_ctime":1539769463,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539769463","product_id":100007101,"comment_content":"$ sudo apt-get install qemu-kvm libvirt-bin ubuntu-vm-builder bridge-utils <br>$ sudo apt-get install openvswitch-switch<br>用这两个命令可以安装成功","like_count":0},{"had_liked":false,"id":24564,"user_name":"kissingers","can_delete":false,"product_type":"c1","uid":1135299,"ip_address":"","ucode":"615151808CF628","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKzqiaZnBw2myRWY802u48Rw3W2zDtKoFQ6vN63m4FdyjibM21FfaOYe8MbMpemUdxXJeQH6fRdVbZA/132","comment_is_top":false,"comment_ctime":1537144903,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1537144903","product_id":100007101,"comment_content":"良心作者 大赞","like_count":0},{"had_liked":false,"id":23781,"user_name":"chon","can_delete":false,"product_type":"c1","uid":1068925,"ip_address":"","ucode":"1C32170972F726","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/7d/dd852b04.jpg","comment_is_top":false,"comment_ctime":1536650713,"is_pvip":true,"replies":[{"id":"8689","content":"cat","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1536656595,"ip_address":"","comment_id":23781,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1536650713","product_id":100007101,"comment_content":"这个库其实是一个 JSON，如果把这个 JSON 打印出来，能够看到更加详细的特性。----请问，如何打印json？","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423723,"discussion_content":"cat","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1536656595,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22420,"user_name":"Linux云计算网络","can_delete":false,"product_type":"c1","uid":1114062,"ip_address":"","ucode":"8E1F8B049D3C95","user_header":"https://static001.geekbang.org/account/avatar/00/10/ff/ce/73ee54bf.jpg","comment_is_top":false,"comment_ctime":1535674740,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1535674740","product_id":100007101,"comment_content":"这个实验真是太棒了","like_count":0},{"had_liked":false,"id":21222,"user_name":"L","can_delete":false,"product_type":"c1","uid":1132688,"ip_address":"","ucode":"C75CC056B91A46","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/K39Mzv3yXrvgFicK3tjVSn46SFvqmia4IlMAtCfrRzUibE09tPGcJOhic1djKlPPicp7zeWMIlicyH6FMEsyn9XnTJlg/132","comment_is_top":false,"comment_ctime":1534983559,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1534983559","product_id":100007101,"comment_content":"有实验这个很棒，赞一个","like_count":0},{"had_liked":false,"id":20905,"user_name":"灰灰","can_delete":false,"product_type":"c1","uid":1122397,"ip_address":"","ucode":"907A2FD339E158","user_header":"https://static001.geekbang.org/account/avatar/00/11/20/5d/69170b96.jpg","comment_is_top":false,"comment_ctime":1534812911,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1534812911","product_id":100007101,"comment_content":"偶像级人物，什么时候来深圳搞个粉丝见面会？","like_count":0},{"had_liked":false,"id":20819,"user_name":"Jobs","can_delete":false,"product_type":"c1","uid":1014824,"ip_address":"","ucode":"7745742129EDFC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/28/cb6d8768.jpg","comment_is_top":false,"comment_ctime":1534764106,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1534764106","product_id":100007101,"comment_content":"公司打算开展相关业务了，超哥的openswitch ppt 很及时，已开始学习","like_count":0},{"had_liked":false,"id":20679,"user_name":"favorlm","can_delete":false,"product_type":"c1","uid":1120997,"ip_address":"","ucode":"CFD52127AA6E1D","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/e5/6899701e.jpg","comment_is_top":false,"comment_ctime":1534664379,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1534664379","product_id":100007101,"comment_content":"还是挺复杂的，以为自己懂了。","like_count":0},{"had_liked":false,"id":20634,"user_name":"咸鱼","can_delete":false,"product_type":"c1","uid":1151904,"ip_address":"","ucode":"764AE607217625","user_header":"https://static001.geekbang.org/account/avatar/00/11/93/a0/e53be7b7.jpg","comment_is_top":false,"comment_ctime":1534611376,"is_pvip":false,"replies":[{"id":"7260","content":"能具体说一下错误信息吗？","user_name":"作者回复","user_name_real":"刘超@网易云","uid":"1001590","ctime":1534726262,"ip_address":"","comment_id":20634,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1534611376","product_id":100007101,"comment_content":"显示pipework 68有问题","like_count":0,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"刘超","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422340,"discussion_content":"能具体说一下错误信息吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1534726262,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":20553,"user_name":"Eric","can_delete":false,"product_type":"c1","uid":1196906,"ip_address":"","ucode":"C4DA5340DA6165","user_header":"https://static001.geekbang.org/account/avatar/00/12/43/6a/3ea0c553.jpg","comment_is_top":false,"comment_ctime":1534520413,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1534520413","product_id":100007101,"comment_content":"马上实践","like_count":0}]}
{"id":464098,"title":"20｜组件库：如何设计你自己的通用组件库？","content":"<p>你好，我是大圣。上一讲TypeScript加餐学完，你是不是想赶紧巩固一下TypeScript在Vue中的使用呢？那么从今天开始，我们就重点攻克Vue中组件库的实现难点，我会用7讲的篇幅带你进入组件库的世界。</p><p>学习路径大致是这样的，首先我会给你拆解一下Element3组件库的代码，其次带你剖析组件库中一些经典的组件，比如表单、表格、弹窗等组件的实现细节，整体使用Vite+TypeScript+Sass的技术栈来实现。而业务中繁多的页面也是由一个个组件拼接而成的，所以我们可以先学习一下不同类型的组件是如何去设计的，借此举一反三。</p><h2>环境搭建</h2><p>下面我们直奔主题，开始搭建环境。这个章节的代码我已经推送到了<a href=\"https://github.com/shengxinjing/ailemente\">Github</a> 上，由于组件库是模仿Element实现的，所以我为其取名为ailemente。</p><p>接下来我们就一步步实现这个组件库吧。首先和开发项目一样，我们要在命令行里使用下面的命令创建Vite项目，模板选择vue-ts，这样我们就拥有了一个Vite+TypeScript的开发环境。</p><pre><code class=\"language-bash\">npm init vite@latest\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/3a/9f/3a7862fc756674a61c2ed85965208b9f.png?wh=1106x444\" alt=\"图片\"></p><p>关于ESLint和Sass的相关配置，全家桶实战篇我们已经详细配置了，这里只补充一下husky的内容。husky这个库可以很方便地帮助我们设置Git的钩子函数，可以允许我们在代码提交之前进行代码质量的监测。</p><!-- [[[read_end]]] --><p>下面的代码中，我们首先安装和初始化了husky，然后我们使用 npx husky add\b命令新增了commit-msg钩子，husky会在我们执行git commit提交代码的时候执行 node scripts/verifyCommit命令来校验commit信息格式。</p><pre><code class=\"language-bash\">npm install -D husky # 安装husky\nnpx husky install    # 初始化husky\n# 新增commit msg钩子\nnpx husky add .husky/commit-msg \"node scripts/verifyCommit.js\" \n</code></pre><p>然后我们来到项目目录下的verifyCommit文件。在下面的代码中，我们先去 .git/COMMIT_EDITMSG文件中读取了commit提交的信息，然后使用了正则去校验提交信息的格式。如果commit的信息不符合要求，会直接报错并且终止代码的提交。</p><pre><code class=\"language-typescript\">\n\nconst msg = require('fs')\n  .readFileSync('.git/COMMIT_EDITMSG', 'utf-8')\n  .trim()\n  \nconst commitRE = /^(revert: )?(feat|fix|docs|dx|style|refactor|perf|test|workflow|build|ci|chore|types|wip|release)(\\(.+\\))?: .{1,50}/\nconst mergeRe = /^(Merge pull request|Merge branch)/\nif (!commitRE.test(msg)) {\n  if(!mergeRe.test(msg)){\n    console.log('git commit信息校验不通过')\n\n    console.error(`git commit的信息格式不对, 需要使用 title(scope): desc的格式\n      比如 fix: xxbug\n      feat(test): add new \n      具体校验逻辑看 scripts/verifyCommit.js\n    `)\n    process.exit(1)\n  }\n\n}else{\n  console.log('git commit信息校验通过')\n}\n\n</code></pre><p>这样就确保在GitHub中的提交日志都符合\btype(scope): message 的格式。你可以看下Vue 3的<a href=\"https://github.com/vuejs/vue-next/commits/master\">代码提交记录</a>，每个提交涉及的模块，类型和信息都清晰可见，能够很好地帮助我们管理版本日志，校验正则的逻辑。如下图，feat代表新功能，docs代表文档，perf代表性能。下面的提交日志就能告诉我们这次提交的是组件相关的新功能，代码中新增了Button.vue。</p><pre><code class=\"language-typescript\">feat(component): \badd Button.vue\n</code></pre><h2><img src=\"https://static001.geekbang.org/resource/image/04/f4/04f18eaf3be849e31cd3629a91d4e3f4.png?wh=1920x1020\" alt=\"图片\"></h2><p>commit-msg是代码执行提交的时候执行的，我们还可以使用代码执行之前的钩子pre-commit去执行ESLint代码格式。这样我们在执行git commit的同时，就会首先进行ESLint校验，然后执行commit的log信息格式检查，全部通过后代码才能提交至Git，这也是现在业界通用的解决方案，学完你就快去优化一下手里的项目吧！</p><pre><code class=\"language-typescript\">npx husky add .husky/pre-commit \"npm run lint\"\n</code></pre><h2>布局组件</h2><p>好，现在环境我们就搭建好了，接着看看怎么布局组件。</p><p>我们可以参考<a href=\"https://e3.shengxinjing.cn/#/component/installation\">Element3组件列表页面</a>，这里的组件分成了基础组件、表单组件、数据组件、通知组件、导航组件和其他组件几个类型，这些类型基本覆盖了组件库的适用场景，项目中的业务组件也是由这些类型组件拼接而来的。</p><p>我们还可以参考项目模块的规范搭建组件库的模板，包括Sass、ESLint等，组件库会在这些规范之上加入单元测试来进一步确保代码的可维护性。</p><p><strong>接下来我们逐一讲解下各个组件的负责范围。</strong></p><p>首先我们需要设计基础的组件，也就是整个项目中都会用到的组件规范，包括布局、色彩，字体、图标等等。这些组件基本没有JavaScript的参与，实现起来也很简单，负责的就是项目整体的布局和色彩设计。</p><p>而表单组件则负责用户的输入数据管理，包括我们常见的输入框、滑块、评分等等，总结来说，<strong>需要用户输入的地方就是表单组件的应用场景</strong>，其中对用户的输入校验是比较重要的功能点。</p><p>数据组件负责显示后台的数据，最重要的就是表格和树形组件。</p><p>通知组件负责通知用户操作的状态，包括警告和弹窗，如何用函数动态渲染组件是警告组件的重要功能点。</p><p>接下来我们就动手设计一个基础的布局组件，这个组件相对是比较简单的。你可以访问<a href=\"https://e3.shengxinjing.cn/#/component/container\">Element3布局容器页面</a>，这里一共有container、header、footer、aside、main五个组件，这个组合可以很方便地实现常见的页面布局。</p><ul>\n<li>el-container组件负责外层容器，当子元素中包含&nbsp;&lt;el-header&gt;&nbsp;或&nbsp;&lt;el-footer&gt;&nbsp;时，全部子元素会垂直上下排列，否则会水平左右排列。</li>\n<li>el-header、el-aside、el-main、el-footer 组件分别负责顶部和侧边栏，页面主体和底部容器组件。这个功能比较简单，只是渲染页面的布局。我们可以在src/components目录下新建文件夹container，新建Container.vue，布局组件没有交互逻辑，只需要通过flex布局就可以实现。</li>\n</ul><p>这几个组件只是提供了不同的class，这里就涉及到CSS的设计内容。在Element3中所有的样式前缀都是el开头，每次都重复书写维护太困难，所以我们设计之初就需要涉及Sass的Mixin来提高书写CSS的代码效率。</p><p>接着，我们在src/styles下面新建mixin.scss。在下面的代码中，我们定义了namespace变量为el，使用Mixin注册一个可以重复使用的模块b，\b可以通过传进来的block生成新的变量$B，并且变量会渲染在class上，并且注册了when可以新增class选择器，实现多个class的样式。</p><pre><code class=\"language-scss\">// bem\n\n$namespace: 'el';\n@mixin b($block) {\n  $B: $namespace + '-' + $block !global;\n  .#{$B} {\n    @content;\n  }\n}\n\n// 添加ben后缀啥的\n@mixin when($state) {\n  @at-root {\n    &amp;.#{$state-prefix + $state} {\n      @content;\n    }\n  }\n}\n</code></pre><p>代码看着有些抽象，不要急，我们再在 container.vue\b中写上下面的代码。使用@import导入mixin.scss后，就可以用include语法去使用Mixin注册的代码块。</p><pre><code class=\"language-xml\">\b&lt;style lang=\"scss\"&gt;\n@import '../styles/mixin';\n@include b(container) {\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  flex-basis: auto;\n  box-sizing: border-box;\n  min-width: 0;\n  @include when(vertical) {\n    flex-direction: column;\n  }\n}\n\n&lt;/style&gt;\n</code></pre><p>在上面的代码中，我们使用b(container)生成.el-container样式类，在内部使用when(vertical)\b\b生成.el-container.is-vertical样式类，去修改flex的布局方向。</p><pre><code class=\"language-scss\">.el-container {\n&nbsp; display: flex;\n&nbsp; flex-direction: row;\n&nbsp; flex: 1;\n&nbsp; flex-basis: auto;\n&nbsp; box-sizing: border-box;\n&nbsp; min-width: 0;\n}\n.el-container.is-vertical {\n&nbsp; flex-direction: column;\n}\n</code></pre><p>container组件如果内部没有header或者footer组件，就是横向布局，否则就是垂直布局。根据上面的CSS代码，我们可以知道，只需要新增is-vertical这个class，就可以实现垂直布局。</p><p>我们在Container.vue中写下下面的代码，template中使用el-container容器包裹，通过:class\b来实现样式控制即可。然后你肯定会疑惑，为什么会有两个script标签？</p><p>因为开发组件库的时候，我们要确保每个组件都有自己的名字，script setup中没法返回组件的名字，所以我们需要一个单独的标签，使用options的语法设置组件的name属性。</p><p>然后在&lt;script setup&gt;标签中，添加lang=\"ts\"来声明语言是TypeScript。Typescript实现组件的时候，我们只需要使用interface去定义传递的属性类型即可。使用defineProps<props>\b()\b实现参数类型校验后，我们再使用computed去判断container的方向是否为垂直，手动指定direction和子元素中有el-header或者el-footer的时候是垂直布局，其他情况是水平布局。</props></p><pre><code class=\"language-xml\">&lt;template&gt;\n  &lt;section\n    class=\"el-container\"\n    :class=\"{ 'is-vertical': isVertical }\"\n  &gt;\n    &lt;slot /&gt;\n  &lt;/section&gt; \n&lt;/template&gt;\n&lt;script lang=\"ts\"&gt;\nexport default{\n  name:'ElContainer'\n}\n&lt;/script&gt;\n&lt;script setup lang=\"ts\"&gt;\n\nimport {useSlots,computed,VNode,Component} from 'vue'\n\ninterface Props {\n  direction?:string\n}\nconst props = defineProps&lt;Props&gt;()\n\nconst slots = useSlots()\n\nconst isVertical = computed(() =&gt; {\n  if (slots &amp;&amp; slots.default) {\n    return slots.default().some((vn:VNode) =&gt; {\n      const tag = (vn.type as Component).name\n      return tag === 'ElHeader' || tag === 'ElFooter'\n    })\n  } else {\n    return props.direction === 'vertical'\n  }\n})\n&lt;/script&gt;\n</code></pre><p>这样我们的container组件就实现了，其他四个组件实现起来大同小异。我们以header组件举例，在container目录下新建Header.vue。</p><p>在下面的代码中，template中渲染el-header样式类，通过defineProps定义传入的属性height，并且通过withDefaults设置height的默认值为60px，通过b(header)的方式实现样式，用到的变量都在style/mixin中注册，方便多个组件之间的变量共享。</p><pre><code class=\"language-xml\">&lt;template&gt;\n  &lt;header\n    class=\"el-header\"\n    :style=\"{ height }\"\n  &gt;\n    &lt;slot /&gt;\n  &lt;/header&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts\"&gt;\nexport default{\n  name:'ElHeader'\n}\n&lt;/script&gt;\n&lt;script setup lang=\"ts\"&gt;\nimport {withDefaults} from 'vue'\n\ninterface Props {\n  height?:string\n}\nwithDefaults(defineProps&lt;Props&gt;(),{\n  height:\"60px\"\n})\n\n&lt;/script&gt;\n\n&lt;style lang=\"scss\"&gt;\n@import '../styles/mixin';\n@include b(header) {\n  padding: $--header-padding;\n  box-sizing: border-box;\n  flex-shrink: 0;\n}\n\n&lt;/style&gt;\n</code></pre><h2>组件注册</h2><p>aside、footer和main组件代码和header组件基本一致，你可以在<a href=\"https://github.com/shengxinjing/ailemente/commit/8902877cf3e7361da0c9aa78d6b6f4b0b344d431\">这次提交中</a>看到组件的变更。</p><p>组件注册完毕之后，我们在src/App.vue中使用import语法导入后就可以直接使用了。但是这里有一个小问题，我们的组件库最后会有很多组件对外暴露，用户每次都import的话确实太辛苦了，所以我们还需要使用插件机制对外暴露安装的接口，我们在container目录下新建index.ts\b。在下面的代码中，我们对外暴露了一个对象，对象的install方法中，我们使用app.component注册这五个组件。</p><pre><code class=\"language-typescript\">import {App} from 'vue'\nimport ElContainer from './Container.vue'\nimport ElHeader from './Header.vue'\nimport ElFooter from './Footer.vue'\nimport ElAside from './Aside.vue'\nimport ElMain from './Main.vue'\n\nexport default {\n  install(app:App){\n    app.component(ElContainer.name,ElContainer)\n    app.component(ElHeader.name,ElHeader)\n    app.component(ElFooter.name,ElFooter)\n    app.component(ElAside.name,ElAside)\n    app.component(ElMain.name,ElMain)\n  }\n}\n</code></pre><p>然后我们来到src/main.ts文件中，下面的代码中我们使用app.use(ElContainer)的方式注册全部布局组件，这样在项目内部就可以全局使用contain、header等五个组件。实际的组件库开发过程中，<a href=\"https://github.com/hug-sun/element3/blob/master/packages/element3/packages/container/index.js\">每个组件都会提供一个install方法</a>，可以很方便地根据项目的需求按需加载。</p><pre><code class=\"language-typescript\">import { createApp } from 'vue'\nimport App from './App.vue'\nimport ElContainer from './components/container'\n\nconst app = createApp(App)\napp.use(ElContainer)\n  .use(ElButton)\n  .mount('#app')\n\n</code></pre><h2>组件使用</h2><p>后面我会教你设计组件库的文档系统，这里我们就先用App.vue来演示一下组件效果。</p><p>在src/App.vue的代码中，我们使用组件嵌套的方式就可以实现下面的页面布局。</p><pre><code class=\"language-xml\">&lt;template&gt;\n &lt;el-container&gt;\n  &lt;el-header&gt;Header&lt;/el-header&gt;\n  &lt;el-main&gt;Main&lt;/el-main&gt;\n  &lt;el-footer&gt;Footer&lt;/el-footer&gt;\n&lt;/el-container&gt;\n  &lt;hr&gt;\n\n&lt;el-container&gt;\n  &lt;el-header&gt;Header&lt;/el-header&gt;\n  &lt;el-container&gt;\n    &lt;el-aside width=\"200px\"&gt;Aside&lt;/el-aside&gt;\n    &lt;el-main&gt;Main&lt;/el-main&gt;\n  &lt;/el-container&gt;\n&lt;/el-container&gt;\n  &lt;hr&gt;\n&lt;el-container&gt;\n  &lt;el-aside width=\"200px\"&gt;Aside&lt;/el-aside&gt;\n  &lt;el-container&gt;\n    &lt;el-header&gt;Header&lt;/el-header&gt;\n    &lt;el-main&gt;Main&lt;/el-main&gt;\n    &lt;el-footer&gt;Footer&lt;/el-footer&gt;\n  &lt;/el-container&gt;\n&lt;/el-container&gt;\n&lt;/template&gt;\n&lt;script setup lang=\"ts\"&gt;\n&lt;/script&gt;\n&lt;style&gt;\n\nbody{\n  width:1000px;\n  margin:10px auto;\n}\n.el-header,\n.el-footer {\n  ..设置额外的css样式\n}\n&lt;/style&gt;\n</code></pre><h2><img src=\"https://static001.geekbang.org/resource/image/50/8d/50fc754a942ae92f0362e1e9d62fb28d.png?wh=1920x1527\" alt=\"图片\"></h2><h2>总结</h2><p>今天的课程到这里就结束了，我们来总结一下今天学到的内容吧。</p><p>首先我们介绍了组件库中的组件分类，基础组件、表单组件、数据组件和通知组件，这些组件类型组合拼接，就可以开发出功能繁多的项目。其中，基础组件负责整体布局和色彩的显示，表单组件负责用户的输入，数据组件负责数据的显示，通知组件用于数据的反馈。</p><p>然后我们基于Vite和TypeScript搭建了组件库的代码环境，使用husky实现了代码提交之前的commit信息和ESLint格式校验，确保只有合格的代码能够提交成功。</p><p>最后我们使用TypeScript+Sass开发了布局相关的组件，container负责容器，header、footer、aside和main负责渲染不同模块。</p><p>这节课我们学会了如何使用Sass来提高管理CSS代码的效率，以及如何使用TypeScript来开发组件，现在相信你对Vue 3中如何使用TypeScript已经有了更进一步的认识。</p><h2>思考题</h2><p>最后我们留个思考题：你负责的业务里有什么组件适合放在组件库里维护呢？</p><p>欢迎在评论区分享你的答案，也欢迎你把这一讲分享给你的同事和朋友们，我们下一讲再见！</p>","comments":[{"had_liked":false,"id":325461,"user_name":"关关君","can_delete":false,"product_type":"c1","uid":1562774,"ip_address":"","ucode":"98EAD61438860A","user_header":"https://static001.geekbang.org/account/avatar/00/17/d8/96/dcf52430.jpg","comment_is_top":false,"comment_ctime":1638964230,"is_pvip":false,"replies":[{"id":"118300","content":"感谢感谢","user_name":"作者回复","comment_id":325461,"uid":"1003715","ip_address":"","utype":1,"ctime":1639395059,"user_name_real":"编辑"}],"discussion_count":5,"race_medal":0,"score":"61768506374","product_id":100094401,"comment_content":"mixin.scss 里少一个变量 <br>$state-prefix: &#39;is-&#39;;","like_count":15,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538280,"discussion_content":"感谢感谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639395059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1078607,"avatar":"https://static001.geekbang.org/account/avatar/00/10/75/4f/e22e91b2.jpg","nickname":"雪狼","note":"","ucode":"13C697D0B694B2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539027,"discussion_content":"老师改一下吧，我看了半天，我说哪里来的is-，😂","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1639578668,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1235460,"avatar":"https://static001.geekbang.org/account/avatar/00/12/da/04/26fbd46a.jpg","nickname":"不会写诗的翩翩少年","note":"","ucode":"A2DB54A73080BE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583591,"discussion_content":"老师，文章不改一下么","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1660219978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"福建"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2983501,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/86/4d/0c256171.jpg","nickname":"xiao.pao","note":"","ucode":"03326858915EA8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572152,"discussion_content":"卧槽，我说那一块看的迷糊","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1652622391,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2050342,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/49/26/6cb8675a.jpg","nickname":"卍 美美菇凉  卐","note":"","ucode":"9E461AA8F0FA32","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552885,"discussion_content":"我也在那纠结了好久","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645625202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326335,"user_name":"一块小砖头","can_delete":false,"product_type":"c1","uid":1848314,"ip_address":"","ucode":"4FA84F57FDEC18","user_header":"","comment_is_top":false,"comment_ctime":1639474171,"is_pvip":false,"replies":[{"id":"120874","content":"感谢建议，清单应用和实战篇有哪部分是不太清楚吗？","user_name":"作者回复","comment_id":326335,"uid":"1003715","ip_address":"","utype":1,"ctime":1642342835,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"35999212539","product_id":100094401,"comment_content":"感觉组件篇的可能学起来很吃力，甚至都看不懂，是不是要先搞一个vue3的项目学学，既然vue3都没学过就开始写组件封装是不是有点扯了","like_count":8,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546585,"discussion_content":"感谢建议，清单应用和实战篇有哪部分是不太清楚吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642342835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325606,"user_name":"仝","can_delete":false,"product_type":"c1","uid":2300647,"ip_address":"","ucode":"5761BE94F99345","user_header":"https://static001.geekbang.org/account/avatar/00/23/1a/e7/60725c7f.jpg","comment_is_top":false,"comment_ctime":1639039919,"is_pvip":false,"replies":[{"id":"118317","content":"这里我忘了解释了，其实就是单词的大致字面意思, git的提交规范大部分都是参考angular的，链接在这里 ，团队可以根据自己特点随意扩展,https:&#47;&#47;github.com&#47;angular&#47;angular&#47;blob&#47;master&#47;CONTRIBUTING.md#commit<br><br>feat: 新功能<br>fix: 修改 bug<br>docs: 文档<br>perf: 性能相关<br>refactor: 代码重构（就是不影响使用，内部结构的调整）<br>test: 测试用例<br>style: 样式修改<br>workflow: 工作流<br>build: 项目打包构建相关的配置修改<br>ci: 持续集成相关<br>revert: 恢复上一次提交（回滚）<br>wip: work in progress 工作中 还没完成<br>chore: 其他修改（不在上述类型中的修改）<br>release: 发版<br>deps: 依赖相关的修改","user_name":"作者回复","comment_id":325606,"uid":"1003715","ip_address":"","utype":1,"ctime":1639397650,"user_name_real":"编辑"}],"discussion_count":3,"race_medal":0,"score":"31703810991","product_id":100094401,"comment_content":"feat 代表新功能，docs 代表文档，perf 代表性能    那剩下的表示什么，哪里有注释吗","like_count":7,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538304,"discussion_content":"这里我忘了解释了，其实就是单词的大致字面意思, git的提交规范大部分都是参考angular的，链接在这里 ，团队可以根据自己特点随意扩展,https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\n\nfeat: 新功能\nfix: 修改 bug\ndocs: 文档\nperf: 性能相关\nrefactor: 代码重构（就是不影响使用，内部结构的调整）\ntest: 测试用例\nstyle: 样式修改\nworkflow: 工作流\nbuild: 项目打包构建相关的配置修改\nci: 持续集成相关\nrevert: 恢复上一次提交（回滚）\nwip: work in progress 工作中 还没完成\nchore: 其他修改（不在上述类型中的修改）\nrelease: 发版\ndeps: 依赖相关的修改","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1639397650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1153387,"avatar":"https://static001.geekbang.org/account/avatar/00/11/99/6b/77bb8501.jpg","nickname":"丫头","note":"","ucode":"435D2E19E291C8","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":555163,"discussion_content":"style是代码格式有变动，比如空格、缩进、逗号之类的，不改变代码逻辑。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646790768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":538304,"ip_address":""},"score":555163,"extra":""}]},{"author":{"id":1296882,"avatar":"https://static001.geekbang.org/account/avatar/00/13/c9/f2/548a7ba7.jpg","nickname":"小毛","note":"","ucode":"E033183A46528C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538265,"discussion_content":"fix 代表bug修复","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639388127,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329588,"user_name":"ll","can_delete":false,"product_type":"c1","uid":1296458,"ip_address":"","ucode":"57C5DAC5B51036","user_header":"https://static001.geekbang.org/account/avatar/00/13/c8/4a/3a322856.jpg","comment_is_top":false,"comment_ctime":1641436494,"is_pvip":true,"replies":[{"id":"120223","content":"加油加油","user_name":"作者回复","comment_id":329588,"uid":"1003715","ip_address":"","utype":1,"ctime":1641774276,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"18821305678","product_id":100094401,"comment_content":"年底事有点多，一个不留神落后好几节课，现在从进阶开始追。代码照着写了一边，对比着 gtihub 的代码库，然后再自己实现一边，这节课就用了两天。<br>说实话技术这种东西，了解是一回事，会用是另外一回事。<br>就这么个过程，既然选择了这条路，好好走就是了。<br>感慨下，打个时间戳，继续赶路","like_count":4,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544897,"discussion_content":"加油加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641774276,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337038,"user_name":"木子初秋","can_delete":false,"product_type":"c1","uid":2893706,"ip_address":"","ucode":"6DDCB55232E1B3","user_header":"https://static001.geekbang.org/account/avatar/00/2c/27/8a/d65e34c4.jpg","comment_is_top":false,"comment_ctime":1646562318,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10236496910","product_id":100094401,"comment_content":"大圣老师 那封装好的组件库如何在其它项目中进行使用呢 比如npm包的形式去导入这个组件这样的方式是如何实现的呢","like_count":2,"discussions":[{"author":{"id":2368903,"avatar":"https://static001.geekbang.org/account/avatar/00/24/25/87/b1ab2ea3.jpg","nickname":"魏先森","note":"","ucode":"9053D8BA8FFD13","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578069,"discussion_content":"这个你要么放在npm上，要么放在公司内网上，都行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656495559,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334912,"user_name":"天择","can_delete":false,"product_type":"c1","uid":2166878,"ip_address":"","ucode":"ED2B08DB2F2B38","user_header":"https://static001.geekbang.org/account/avatar/00/21/10/5e/42f4faf7.jpg","comment_is_top":false,"comment_ctime":1645178502,"is_pvip":true,"discussion_count":0,"race_medal":4,"score":"10235113094","product_id":100094401,"comment_content":"踩了一个坑。关于自定义组件的名字，比如ElHeader，推荐采用驼峰命名，这样在使用组件时，可以写成el-header的形式。我开始命名为ELHeader了，L大写了，那么el-header就不会被识别为组件，而只是自定义的html标签。供参考。","like_count":2},{"had_liked":false,"id":331948,"user_name":"resolve(false)","can_delete":false,"product_type":"c1","uid":2456159,"ip_address":"","ucode":"EB1B0C6599B5F3","user_header":"https://static001.geekbang.org/account/avatar/00/25/7a/5f/d0f95bfe.jpg","comment_is_top":false,"comment_ctime":1642917216,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10232851808","product_id":100094401,"comment_content":"这里表述有问题,应该是src&#47;components&#47;style 而不是 src&#47;style","like_count":2},{"had_liked":false,"id":327513,"user_name":"Geek_95cc7a","can_delete":false,"product_type":"c1","uid":2157027,"ip_address":"","ucode":"2FC46BAEFB2A32","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/qvsSlvpPksAoAtVNNibg3yBIt6QoyW7ceTSqIXBCDy3EmcwgScuuEsiaB2yqnRiaaDSNmG1mlxbTxyAloSARZpycQ/132","comment_is_top":false,"comment_ctime":1640158110,"is_pvip":false,"replies":[{"id":"119275","content":"感谢提醒，已经改成return props.direction === &#39;vertical&#39; 了","user_name":"作者回复","comment_id":327513,"uid":"1003715","ip_address":"","utype":1,"ctime":1640229109,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"10230092702","product_id":100094401,"comment_content":"啊圣，你在认真写吗？<br>if (props.direction === &#39;vertical&#39;) { return true } else { return false } }","like_count":2,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540998,"discussion_content":"感谢提醒，已经改成return props.direction === &#39;vertical&#39; 了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640229109,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343319,"user_name":"Geek_8cf3f6","can_delete":false,"product_type":"c1","uid":2066460,"ip_address":"","ucode":"3562C617AB569D","user_header":"","comment_is_top":false,"comment_ctime":1650779577,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5945746873","product_id":100094401,"comment_content":"npx husky install 必须在git init后再使用吧，那么怎么和自定义的脚手架yeoman结合起来呢？用yeoman生成的项目没有.git文件，怎么搭配才能做到yoeman生成的项目一开始就有husky检测呢","like_count":2},{"had_liked":false,"id":343229,"user_name":"Reven","can_delete":false,"product_type":"c1","uid":1161105,"ip_address":"","ucode":"487E00D144701B","user_header":"https://static001.geekbang.org/account/avatar/00/11/b7/91/257b895a.jpg","comment_is_top":false,"comment_ctime":1650720956,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5945688252","product_id":100094401,"comment_content":"开发组件和使用组件是两个应用吧，开发的组件库是要打包成 npm 包发布的吧？是不是打包发布这块逻辑没讲没串起来就到使用了","like_count":1,"discussions":[{"author":{"id":2368903,"avatar":"https://static001.geekbang.org/account/avatar/00/24/25/87/b1ab2ea3.jpg","nickname":"魏先森","note":"","ucode":"9053D8BA8FFD13","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578074,"discussion_content":"是啊，这块是两个应用，开发的组件库要打包后挂到Npm上发布，才能让其他项目使用，大圣这里没讲","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656495709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326074,"user_name":"白泗小林","can_delete":false,"product_type":"c1","uid":1228471,"ip_address":"","ucode":"CEF6A23B70947D","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/b7/638b5d30.jpg","comment_is_top":false,"comment_ctime":1639365393,"is_pvip":false,"replies":[{"id":"118306","content":"commit-msg改成pre-commit更好些，文章里我也更新了一下","user_name":"作者回复","comment_id":326074,"uid":"1003715","ip_address":"","utype":1,"ctime":1639396570,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"5934332689","product_id":100094401,"comment_content":"windows10 环境下用 npx husky add .husky&#47;commit-msg &quot;node-scripts&#47;verifyCommit.js&quot;。再将生成的commit-msg 文件中改回 node scripts&#47;verifyCommit.js ","like_count":2,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538290,"discussion_content":"commit-msg改成pre-commit更好些，文章里我也更新了一下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639396570,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359317,"user_name":"庄周梦蝶","can_delete":false,"product_type":"c1","uid":1693576,"ip_address":"浙江","ucode":"7878ED3EB11E97","user_header":"https://static001.geekbang.org/account/avatar/00/19/d7/88/7dcde249.jpg","comment_is_top":false,"comment_ctime":1665410649,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1665410649","product_id":100094401,"comment_content":"老师，能加个餐讲下对element plus的二次封装吗。看一些低代码自动生成代码的，都是二次封装了element plus组件，然后生成的代码都是定义数据结构就行。 感觉这种模式会极大提高开发效率","like_count":0},{"had_liked":false,"id":356576,"user_name":"方剑鹏","can_delete":false,"product_type":"c1","uid":2647147,"ip_address":"北京","ucode":"4F3C9227BA2681","user_header":"https://static001.geekbang.org/account/avatar/00/28/64/6b/d8ca3b18.jpg","comment_is_top":false,"comment_ctime":1662432860,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1662432860","product_id":100094401,"comment_content":"verifyCommit文件在哪里呀，大圣的git上也找不到","like_count":0,"discussions":[{"author":{"id":1292348,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83er4LTSsQjSDsYCOia4RBz1DI1uiaKMibib7ys9ckgeVxz827VribjeT961Jr6l4dq71MRlibTFmQgAuYoDg/132","nickname":"Geek_8d2579","note":"","ucode":"C729869D999666","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587712,"discussion_content":"是不是需要我们自己新建、、","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663234019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353793,"user_name":"张明","can_delete":false,"product_type":"c1","uid":1494910,"ip_address":"陕西","ucode":"DC8ECE4593B060","user_header":"https://static001.geekbang.org/account/avatar/00/16/cf/7e/04b7cbac.jpg","comment_is_top":false,"comment_ctime":1659787821,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1659787821","product_id":100094401,"comment_content":"报了下列错误 怎么解决呢 ，初学VUE，请多指教<br><br>&gt; vue-element@0.0.0 lint<br>&gt; eslint --fix --ext .js,vue src&#47;<br><br>npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.<br><br>&gt; vue-element@0.0.0 lint<br>&gt; eslint --fix --ext .js,vue src&#47;<br><br>node:internal&#47;modules&#47;cjs&#47;loader:936<br>  throw err;<br>  ^<br><br>Error: Cannot find module &#39;D:\\xamc\\web\\vue-element\\scripts\\verifyCommit.js&#39;<br>    at Function.Module._resolveFilename (node:internal&#47;modules&#47;cjs&#47;loader:933:15)<br>    at Function.Module._load (node:internal&#47;modules&#47;cjs&#47;loader:778:27)<br>    at Function.executeUserEntryPoint [as runMain] (node:internal&#47;modules&#47;run_main:77:12)<br>    at node:internal&#47;main&#47;run_main_module:17:47 {<br>  code: &#39;MODULE_NOT_FOUND&#39;,<br>  requireStack: []<br>}<br>husky - commit-msg hook exited with code 1 (error)","like_count":0},{"had_liked":false,"id":338401,"user_name":"沉默的话唠","can_delete":false,"product_type":"c1","uid":1231254,"ip_address":"","ucode":"90212EF174C6E3","user_header":"https://static001.geekbang.org/account/avatar/00/12/c9/96/4577c1ef.jpg","comment_is_top":false,"comment_ctime":1647485874,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1647485874","product_id":100094401,"comment_content":"想查看vue的源码提交commit，学习一下，发现是404了","like_count":0},{"had_liked":false,"id":337314,"user_name":"Leslie","can_delete":false,"product_type":"c1","uid":2818652,"ip_address":"","ucode":"D45669F2201F77","user_header":"https://static001.geekbang.org/account/avatar/00/2b/02/5c/c1570c32.jpg","comment_is_top":false,"comment_ctime":1646749157,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646749157","product_id":100094401,"comment_content":"commit 后会提示at Function.Module._resolveFilename (internal&#47;modules&#47;cjs&#47;loader.js:889:15)<br>发现是因为生成的commit-msg上的路径问题 改成 node src&#47;scripts&#47;verifyCommit.js 就可以了","like_count":0},{"had_liked":false,"id":336563,"user_name":"Geek_39d55b","can_delete":false,"product_type":"c1","uid":2919156,"ip_address":"","ucode":"C73CB7279D4FE8","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/FQQA0icGXUvJZicd7jX1r85HeAUkZshQMV3urNa2qqWYW1x91EsuPyicWRiakjuPGjn5svUFk6Dmib7oDmW8xxWibtNg/132","comment_is_top":false,"comment_ctime":1646215684,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646215684","product_id":100094401,"comment_content":"const isVertical = computed(() =&gt; {  if (slots &amp;&amp; slots.default) {    return slots.default().some((vn:VNode) =&gt; {      const tag = (vn.type as Component).name      return tag === &#39;ElHeader&#39; || tag === &#39;ElFooter&#39;    })  } else {    return props.direction === &#39;vertical&#39;  }})<br><br><br>这个看不懂，能详细讲一下吗<br>","like_count":0},{"had_liked":false,"id":332994,"user_name":"任小西","can_delete":false,"product_type":"c1","uid":1624909,"ip_address":"","ucode":"45987E1A96DE2E","user_header":"https://static001.geekbang.org/account/avatar/00/18/cb/4d/b9bb17ab.jpg","comment_is_top":false,"comment_ctime":1643947100,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1643947100","product_id":100094401,"comment_content":"@mixin when($state) {  @at-root {    &amp;.#{$state-prefix + $state} {<br>这里是不是有遗漏","like_count":0,"discussions":[{"author":{"id":2634770,"avatar":"","nickname":"Geek_7448ad","note":"","ucode":"C9674BB4E2B6FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549874,"discussion_content":"$state-prefix 这个变量在哪里定义的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644286179,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2893706,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/27/8a/d65e34c4.jpg","nickname":"木子初秋","note":"","ucode":"6DDCB55232E1B3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2634770,"avatar":"","nickname":"Geek_7448ad","note":"","ucode":"C9674BB4E2B6FA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553558,"discussion_content":"最好跟着github完整代码看吧 $state-prefix变量大圣老师忘写在上面了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645966599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":549874,"ip_address":""},"score":553558,"extra":""}]}]},{"had_liked":false,"id":331601,"user_name":"SjmBreadrain","can_delete":false,"product_type":"c1","uid":2709219,"ip_address":"","ucode":"6C2F29CF146F50","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ruxj2Ko6lpWdmf4ePtUCjZU0LpicbVUuTicWaSDRkGHGMB78b3vQNNbfhlqMWlibxCLX6V0IfueFxUyxs5BlryzVQ/132","comment_is_top":false,"comment_ctime":1642668589,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1642668589","product_id":100094401,"comment_content":"我代码里写的是这样&lt;script setup lang=&quot;ts&quot;&gt;<br>import {useSlots,computed,VNode,Component, defineProps,withDefaluts } from &#39;vue&#39;里面报的Module &#39;&quot;..&#47;..&#47;..&#47;node_modules&#47;vue&#47;dist&#47;vue&quot;&#39; has no exported member &#39;useSlots&#39;，和 ..&#47;..&#47;..&#47;node_modules&#47;vue&#47;dist&#47;vue&quot;&#39; has no exported member &#39;VNode&#39;. 和 ..&#47;..&#47;..&#47;node_modules&#47;vue&#47;dist&#47;vue&quot;&#39; has no exported member &#39;withDefaluts 所以我没明白 这是为什么因为都是vite这样构建，这些也是从vue里import过来的","like_count":0,"discussions":[{"author":{"id":2174436,"avatar":"https://static001.geekbang.org/account/avatar/00/21/2d/e4/728b3f4a.jpg","nickname":"聪聪","note":"","ucode":"F0013FA4F45626","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561259,"discussion_content":"我遇到了这个问题 ，当同时打开两个项目时两个node_modules里的 vue ts类库声明重复导致错误，在引用 UseSlots 和 VNode 会报出这样的错误，我选择只打开一个项目就好了\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649587944,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331526,"user_name":"SjmBreadrain","can_delete":false,"product_type":"c1","uid":2709219,"ip_address":"","ucode":"6C2F29CF146F50","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ruxj2Ko6lpWdmf4ePtUCjZU0LpicbVUuTicWaSDRkGHGMB78b3vQNNbfhlqMWlibxCLX6V0IfueFxUyxs5BlryzVQ/132","comment_is_top":false,"comment_ctime":1642641352,"is_pvip":false,"replies":[{"id":"121129","content":"VNode是一个类型声明，需要在ts环境下才能使用，你看下是不是script setup没有标记lang=&quot;ts&quot;","user_name":"作者回复","comment_id":331526,"uid":"1003715","ip_address":"","utype":1,"ctime":1642650810,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"1642641352","product_id":100094401,"comment_content":"还有代码里引进的VNode也报模块“&quot;..&#47;..&#47;runtime-core&#47;dist&#47;runtime-core&quot;”没有导出的成员“VNode”。 这些都是从vue里引进的，没明白是哪里错了","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547374,"discussion_content":"VNode是一个类型声明，需要在ts环境下才能使用，你看下是不是script setup没有标记lang=&#34;ts&#34;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642650810,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331525,"user_name":"SjmBreadrain","can_delete":false,"product_type":"c1","uid":2709219,"ip_address":"","ucode":"6C2F29CF146F50","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ruxj2Ko6lpWdmf4ePtUCjZU0LpicbVUuTicWaSDRkGHGMB78b3vQNNbfhlqMWlibxCLX6V0IfueFxUyxs5BlryzVQ/132","comment_is_top":false,"comment_ctime":1642641087,"is_pvip":false,"replies":[{"id":"121126","content":"你好，我看了下报错信息，应该是withDefaluts, 你写的是widthDefaluts","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1642650511,"ip_address":"","comment_id":331525,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642641087","product_id":100094401,"comment_content":"我也是照着上面的步骤做的，后面弹出Uncaught SyntaxError: The requested module &#39;&#47;node_modules&#47;.vite&#47;vue.js?v=4c6e32ec&#39; does not provide an export named &#39;widthDefaluts&#39; 这是什么错，按理我是从vue里引进的不应该报这个错 ","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547370,"discussion_content":"你好，我看了下报错信息，应该是withDefaluts, 你写的是widthDefaluts","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642650511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330358,"user_name":"JC.彦","can_delete":false,"product_type":"c1","uid":1698735,"ip_address":"","ucode":"E87C1420B140F4","user_header":"https://static001.geekbang.org/account/avatar/00/19/eb/af/e49af9a8.jpg","comment_is_top":false,"comment_ctime":1641950462,"is_pvip":false,"replies":[{"id":"120649","content":"这个是Typescript的类型语法， 帮助在类型判断的时候报错，实际运行的时候没有影响","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1642212842,"ip_address":"","comment_id":330358,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1641950462","product_id":100094401,"comment_content":"我对Vue3还不是很了解，现在有个疑问。<br><br>(vn.type as Component).name，这应该是获取组件名的操作吧？<br><br>为什么要加上「as Component」？我试了一下，不加as Component也能获取组件名。<br><br>","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546179,"discussion_content":"这个是Typescript的类型语法， 帮助在类型判断的时候报错，实际运行的时候没有影响","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642212842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2338500,"avatar":"https://static001.geekbang.org/account/avatar/00/23/ae/c4/eafb9ba1.jpg","nickname":"长寿","note":"","ucode":"5FBDF9E65D2F3F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582070,"discussion_content":"as T是ts语法，类型断言","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659176407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"陕西"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328638,"user_name":"风一样","can_delete":false,"product_type":"c1","uid":2818001,"ip_address":"","ucode":"5EA5129D487E43","user_header":"https://static001.geekbang.org/account/avatar/00/2a/ff/d1/7a4a6f4f.jpg","comment_is_top":false,"comment_ctime":1640824677,"is_pvip":false,"replies":[{"id":"120860","content":"在styles下面定义，可以看这里的代码<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;ailemente&#47;blob&#47;main&#47;src&#47;components&#47;styles&#47;mixin.scss","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1642340160,"ip_address":"","comment_id":328638,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640824677","product_id":100094401,"comment_content":"$--header-padding  这个变量在哪里呢？","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546565,"discussion_content":"在styles下面定义，可以看这里的代码\nhttps://github.com/shengxinjing/ailemente/blob/main/src/components/styles/mixin.scss","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642340160,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328192,"user_name":"Humiking","can_delete":false,"product_type":"c1","uid":1618677,"ip_address":"","ucode":"B8AE345D585698","user_header":"https://static001.geekbang.org/account/avatar/00/18/b2/f5/6ca54407.jpg","comment_is_top":false,"comment_ctime":1640598112,"is_pvip":false,"replies":[{"id":"120869","content":"sass需要执行一下npm install sass -D","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1642342675,"ip_address":"","comment_id":328192,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640598112","product_id":100094401,"comment_content":"Internal server error: Preprocessor dependency &quot;sass&quot; not found. Did you install it? 如何安装，环境设置能介绍一下么","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546580,"discussion_content":"sass需要执行一下npm install sass -D","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642342675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326785,"user_name":"Kevin","can_delete":false,"product_type":"c1","uid":1129186,"ip_address":"","ucode":"8FE9CE88EA0C57","user_header":"https://static001.geekbang.org/account/avatar/00/11/3a/e2/c48bd3b7.jpg","comment_is_top":false,"comment_ctime":1639698299,"is_pvip":false,"replies":[{"id":"118728","content":"vue中定义组件的时候使用驼峰命名，template里面使用的试用横杠分开，也可以是用驼峰，这都是vue支持的写法，关于风格可以看这里<br>https:&#47;&#47;v3.cn.vuejs.org&#47;style-guide&#47;#%E6%A8%A1%E6%9D%BF%E4%B8%AD%E7%9A%84%E7%BB%84%E4%BB%B6%E5%90%8D%E7%A7%B0%E5%A4%A7%E5%B0%8F%E5%86%99%E5%BC%BA%E7%83%88%E6%8E%A8%E8%8D%90","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1639707391,"ip_address":"","comment_id":326785,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1639698299","product_id":100094401,"comment_content":"定义的组件是  ElContainer 而在template使用的是 el-container 是我错过了啥么？ ","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539398,"discussion_content":"vue中定义组件的时候使用驼峰命名，template里面使用的试用横杠分开，也可以是用驼峰，这都是vue支持的写法，关于风格可以看这里\nhttps://v3.cn.vuejs.org/style-guide/#%E6%A8%A1%E6%9D%BF%E4%B8%AD%E7%9A%84%E7%BB%84%E4%BB%B6%E5%90%8D%E7%A7%B0%E5%A4%A7%E5%B0%8F%E5%86%99%E5%BC%BA%E7%83%88%E6%8E%A8%E8%8D%90","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639707391,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325732,"user_name":"cwang","can_delete":false,"product_type":"c1","uid":1465246,"ip_address":"","ucode":"04CB9F4CA2CEAD","user_header":"https://static001.geekbang.org/account/avatar/00/16/5b/9e/a8dec12d.jpg","comment_is_top":false,"comment_ctime":1639108785,"is_pvip":false,"replies":[{"id":"118313","content":"是这样的，npm是把包安装到本地的本地的node_modules里，比如我们安装了husky，但是并没有全局安装，直接执行husky会提示找不到，npx就是可以直接试用node_modules内部安装命令的工具","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1639396970,"ip_address":"","comment_id":325732,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1639108785","product_id":100094401,"comment_content":"大圣老师好，尽管如此文档资源丰富的今天，还是想问你这个问题：<br><br>我们安装eslint，还是husky，都是使用npm。 但是到了初始化这些安装包的时候，我们却用了npx来做这些，请问这是为什么呢？谢谢。","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538299,"discussion_content":"是这样的，npm是把包安装到本地的本地的node_modules里，比如我们安装了husky，但是并没有全局安装，直接执行husky会提示找不到，npx就是可以直接试用node_modules内部安装命令的工具","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639396970,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325131,"user_name":"bb","can_delete":false,"product_type":"c1","uid":1770466,"ip_address":"","ucode":"9E480BA11D4D89","user_header":"","comment_is_top":false,"comment_ctime":1638839953,"is_pvip":false,"replies":[{"id":"118029","content":"建议直接&lt;script setup&gt;  如果用option api 就用&lt;script&gt;","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1638881921,"ip_address":"","comment_id":325131,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638839953","product_id":100094401,"comment_content":"有没有一个标准的语法模型，我现在都不知道用那种方式了，一下有&lt;script&gt;，&lt;script setup&gt;，setup()。不知道用那种","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536838,"discussion_content":"建议直接&lt;script setup&gt;  如果用option api 就用&lt;script&gt;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638881921,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325122,"user_name":"Geek_c7acd2","can_delete":false,"product_type":"c1","uid":2691321,"ip_address":"","ucode":"782A18A115A0A2","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83errj9iaMOHaUFTkpKeA2LPQicH7Rag0JxxmIa8CUFCb8Nt4xEQST8jQUrUxficpQjdgPG5pfQr2E6Z0w/132","comment_is_top":false,"comment_ctime":1638836682,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638836682","product_id":100094401,"comment_content":"终于看到了想看到的 哈哈","like_count":0},{"had_liked":false,"id":325028,"user_name":"szpg","can_delete":false,"product_type":"c1","uid":2827587,"ip_address":"","ucode":"CAA33E5609F178","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erYxdZiaviaS6wtoOA0NJHmAGLzZTyxKnWdicD17q6HARtJeaD4sS4mGQZu5WuDOicBEeGl3dX0TWZQcQ/132","comment_is_top":false,"comment_ctime":1638782596,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1638782596","product_id":100094401,"comment_content":"npx husky add .husky&#47;commit-msg &quot;node scripts&#47;verifyCommit.js&quot;  <br>不行的，可把 npx 改为 yarn","like_count":0,"discussions":[{"author":{"id":1471968,"avatar":"https://static001.geekbang.org/account/avatar/00/16/75/e0/86ac6c91.jpg","nickname":"西伯利亚卷毛大棕熊","note":"","ucode":"5B699774D3616E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554015,"discussion_content":"我试了一下npx husky add .husky/commit-msg &#34;node-scripts/verifyCommit.js&#34; 这样是可以的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646187675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2827322,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/24/3a/1b948c94.jpg","nickname":"惜时","note":"","ucode":"30AF12BC8191D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537274,"discussion_content":"请问您按着课程一步一步走，git提交限制起作用了吗？我试了两次都不行，请教一下是为什么","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639017598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324957,"user_name":"南山","can_delete":false,"product_type":"c1","uid":1239362,"ip_address":"","ucode":"1B5EF54A2A56F8","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/42/1de79e71.jpg","comment_is_top":false,"comment_ctime":1638755123,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638755123","product_id":100094401,"comment_content":"干货满满","like_count":0},{"had_liked":false,"id":324949,"user_name":"Danny1","can_delete":false,"product_type":"c1","uid":1196402,"ip_address":"","ucode":"BBD581B38D8470","user_header":"https://static001.geekbang.org/account/avatar/00/12/41/72/ecc49429.jpg","comment_is_top":false,"comment_ctime":1638753195,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638753195","product_id":100094401,"comment_content":"🛋️","like_count":0},{"had_liked":false,"id":324935,"user_name":"海阔天空","can_delete":false,"product_type":"c1","uid":1327016,"ip_address":"","ucode":"16C87A0052A08B","user_header":"https://static001.geekbang.org/account/avatar/00/14/3f/a8/8da58e53.jpg","comment_is_top":false,"comment_ctime":1638747422,"is_pvip":false,"replies":[{"id":"118031","content":"这个其实就是公用组件库的分类","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1638881994,"ip_address":"","comment_id":324935,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638747422","product_id":100094401,"comment_content":"老师的这个分类很详细，组件库中的组件分类，基础组件、表单组件、数据组件和通知组件。一般基础组件，表单组件，和通知组件都做成公共组件来进行维护","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536841,"discussion_content":"这个其实就是公用组件库的分类","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638881994,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
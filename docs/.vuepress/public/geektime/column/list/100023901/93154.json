{"id":93154,"title":"29 | Copy-on-Writeæ¨¡å¼ï¼šä¸æ˜¯å»¶æ—¶ç­–ç•¥çš„COW","content":"<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬è®²åˆ°Javaé‡ŒStringè¿™ä¸ªç±»åœ¨å®ç°replace()æ–¹æ³•çš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰æ›´æ”¹åŸå­—ç¬¦ä¸²é‡Œé¢value[]æ•°ç»„çš„å†…å®¹ï¼Œè€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¿™ç§æ–¹æ³•åœ¨è§£å†³ä¸å¯å˜å¯¹è±¡çš„ä¿®æ”¹é—®é¢˜æ—¶ç»å¸¸ç”¨åˆ°ã€‚å¦‚æœä½ æ·±å…¥åœ°æ€è€ƒè¿™ä¸ªæ–¹æ³•ï¼Œä½ ä¼šå‘ç°å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ç§<strong>Copy-on-Writeæ–¹æ³•</strong>ã€‚æ‰€è°“Copy-on-Writeï¼Œç»å¸¸è¢«ç¼©å†™ä¸ºCOWæˆ–è€…CoWï¼Œé¡¾åæ€ä¹‰å°±æ˜¯<strong>å†™æ—¶å¤åˆ¶</strong>ã€‚</p><p>ä¸å¯å˜å¯¹è±¡çš„å†™æ“ä½œå¾€å¾€éƒ½æ˜¯ä½¿ç”¨Copy-on-Writeæ–¹æ³•è§£å†³çš„ï¼Œå½“ç„¶Copy-on-Writeçš„åº”ç”¨é¢†åŸŸå¹¶ä¸å±€é™äºImmutabilityæ¨¡å¼ã€‚ä¸‹é¢æˆ‘ä»¬å…ˆç®€å•ä»‹ç»ä¸€ä¸‹Copy-on-Writeçš„åº”ç”¨é¢†åŸŸï¼Œè®©ä½ å¯¹å®ƒæœ‰ä¸ªæ›´å…¨é¢çš„è®¤è¯†ã€‚</p><h2>Copy-on-Writeæ¨¡å¼çš„åº”ç”¨é¢†åŸŸ</h2><p>æˆ‘ä»¬å‰é¢åœ¨<a href=\"https://time.geekbang.org/column/article/90201\">ã€Š20 | å¹¶å‘å®¹å™¨ï¼šéƒ½æœ‰å“ªäº›â€œå‘â€éœ€è¦æˆ‘ä»¬å¡«ï¼Ÿã€‹</a>ä¸­ä»‹ç»è¿‡CopyOnWriteArrayListå’ŒCopyOnWriteArraySetè¿™ä¸¤ä¸ªCopy-on-Writeå®¹å™¨ï¼Œå®ƒä»¬èƒŒåçš„è®¾è®¡æ€æƒ³å°±æ˜¯Copy-on-Writeï¼›é€šè¿‡Copy-on-Writeè¿™ä¸¤ä¸ªå®¹å™¨å®ç°çš„è¯»æ“ä½œæ˜¯æ— é”çš„ï¼Œç”±äºæ— é”ï¼Œæ‰€ä»¥å°†è¯»æ“ä½œçš„æ€§èƒ½å‘æŒ¥åˆ°äº†æè‡´ã€‚</p><p>é™¤äº†Javaè¿™ä¸ªé¢†åŸŸï¼ŒCopy-on-Writeåœ¨æ“ä½œç³»ç»Ÿé¢†åŸŸä¹Ÿæœ‰å¹¿æ³›çš„åº”ç”¨ã€‚</p><!-- [[[read_end]]] --><p>æˆ‘ç¬¬ä¸€æ¬¡æ¥è§¦Copy-on-Writeå…¶å®å°±æ˜¯åœ¨æ“ä½œç³»ç»Ÿé¢†åŸŸã€‚ç±»Unixçš„æ“ä½œç³»ç»Ÿä¸­åˆ›å»ºè¿›ç¨‹çš„APIæ˜¯fork()ï¼Œä¼ ç»Ÿçš„fork()å‡½æ•°ä¼šåˆ›å»ºçˆ¶è¿›ç¨‹çš„ä¸€ä¸ªå®Œæ•´å‰¯æœ¬ï¼Œä¾‹å¦‚çˆ¶è¿›ç¨‹çš„åœ°å€ç©ºé—´ç°åœ¨ç”¨åˆ°äº†1Gçš„å†…å­˜ï¼Œé‚£ä¹ˆfork()å­è¿›ç¨‹çš„æ—¶å€™è¦å¤åˆ¶çˆ¶è¿›ç¨‹æ•´ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼ˆå æœ‰1Gå†…å­˜ï¼‰ç»™å­è¿›ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ˆè€—æ—¶çš„ã€‚è€ŒLinuxä¸­çš„fork()å‡½æ•°å°±èªæ˜å¾—å¤šäº†ï¼Œfork()å­è¿›ç¨‹çš„æ—¶å€™ï¼Œå¹¶ä¸å¤åˆ¶æ•´ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œè€Œæ˜¯è®©çˆ¶å­è¿›ç¨‹å…±äº«åŒä¸€ä¸ªåœ°å€ç©ºé—´ï¼›åªç”¨åœ¨çˆ¶è¿›ç¨‹æˆ–è€…å­è¿›ç¨‹éœ€è¦å†™å…¥çš„æ—¶å€™æ‰ä¼šå¤åˆ¶åœ°å€ç©ºé—´ï¼Œä»è€Œä½¿çˆ¶å­è¿›ç¨‹æ‹¥æœ‰å„è‡ªçš„åœ°å€ç©ºé—´ã€‚</p><p>æœ¬è´¨ä¸Šæ¥è®²ï¼Œçˆ¶å­è¿›ç¨‹çš„åœ°å€ç©ºé—´ä»¥åŠæ•°æ®éƒ½æ˜¯è¦éš”ç¦»çš„ï¼Œä½¿ç”¨Copy-on-Writeæ›´å¤šåœ°ä½“ç°çš„æ˜¯ä¸€ç§<strong>å»¶æ—¶ç­–ç•¥ï¼Œåªæœ‰åœ¨çœŸæ­£éœ€è¦å¤åˆ¶çš„æ—¶å€™æ‰å¤åˆ¶ï¼Œè€Œä¸æ˜¯æå‰å¤åˆ¶å¥½</strong>ï¼ŒåŒæ—¶Copy-on-Writeè¿˜æ”¯æŒæŒ‰éœ€å¤åˆ¶ï¼Œæ‰€ä»¥Copy-on-Writeåœ¨æ“ä½œç³»ç»Ÿé¢†åŸŸæ˜¯èƒ½å¤Ÿæå‡æ€§èƒ½çš„ã€‚ç›¸æ¯”è¾ƒè€Œè¨€ï¼ŒJavaæä¾›çš„Copy-on-Writeå®¹å™¨ï¼Œç”±äºåœ¨ä¿®æ”¹çš„åŒæ—¶ä¼šå¤åˆ¶æ•´ä¸ªå®¹å™¨ï¼Œæ‰€ä»¥åœ¨æå‡è¯»æ“ä½œæ€§èƒ½çš„åŒæ—¶ï¼Œæ˜¯ä»¥å†…å­˜å¤åˆ¶ä¸ºä»£ä»·çš„ã€‚è¿™é‡Œä½ ä¼šå‘ç°ï¼ŒåŒæ ·æ˜¯åº”ç”¨Copy-on-Writeï¼Œä¸åŒçš„åœºæ™¯ï¼Œå¯¹æ€§èƒ½çš„å½±å“æ˜¯ä¸åŒçš„ã€‚</p><p>åœ¨æ“ä½œç³»ç»Ÿé¢†åŸŸï¼Œé™¤äº†åˆ›å»ºè¿›ç¨‹ç”¨åˆ°äº†Copy-on-Writeï¼Œå¾ˆå¤šæ–‡ä»¶ç³»ç»Ÿä¹ŸåŒæ ·ç”¨åˆ°äº†ï¼Œä¾‹å¦‚Btrfs (B-Tree File System)ã€aufsï¼ˆadvanced multi-layered unification filesystemï¼‰ç­‰ã€‚</p><p>é™¤äº†ä¸Šé¢æˆ‘ä»¬è¯´çš„Javaé¢†åŸŸã€æ“ä½œç³»ç»Ÿé¢†åŸŸï¼Œå¾ˆå¤šå…¶ä»–é¢†åŸŸä¹Ÿéƒ½èƒ½çœ‹åˆ°Copy-on-Writeçš„èº«å½±ï¼šDockerå®¹å™¨é•œåƒçš„è®¾è®¡æ˜¯Copy-on-Writeï¼Œç”šè‡³åˆ†å¸ƒå¼æºç ç®¡ç†ç³»ç»ŸGitèƒŒåçš„è®¾è®¡æ€æƒ³éƒ½æœ‰Copy-on-Writeâ€¦â€¦</p><p>ä¸è¿‡ï¼Œ<strong>Copy-on-Writeæœ€å¤§çš„åº”ç”¨é¢†åŸŸè¿˜æ˜¯åœ¨å‡½æ•°å¼ç¼–ç¨‹é¢†åŸŸ</strong>ã€‚å‡½æ•°å¼ç¼–ç¨‹çš„åŸºç¡€æ˜¯ä¸å¯å˜æ€§ï¼ˆImmutabilityï¼‰ï¼Œæ‰€ä»¥å‡½æ•°å¼ç¼–ç¨‹é‡Œé¢æ‰€æœ‰çš„ä¿®æ”¹æ“ä½œéƒ½éœ€è¦Copy-on-Writeæ¥è§£å†³ã€‚ä½ æˆ–è®¸ä¼šæœ‰ç–‘é—®ï¼Œâ€œæ‰€æœ‰æ•°æ®çš„ä¿®æ”¹éƒ½éœ€è¦å¤åˆ¶ä¸€ä»½ï¼Œæ€§èƒ½æ˜¯ä¸æ˜¯ä¼šæˆä¸ºç“¶é¢ˆå‘¢ï¼Ÿâ€ä½ çš„æ‹…å¿§æ˜¯æœ‰é“ç†çš„ï¼Œä¹‹æ‰€ä»¥å‡½æ•°å¼ç¼–ç¨‹æ—©å¹´é—´æ²¡æœ‰å…´èµ·ï¼Œæ€§èƒ½ç»å¯¹æ‹–äº†åè…¿ã€‚ä½†æ˜¯éšç€ç¡¬ä»¶æ€§èƒ½çš„æå‡ï¼Œæ€§èƒ½é—®é¢˜å·²ç»æ…¢æ…¢å˜å¾—å¯ä»¥æ¥å—äº†ã€‚è€Œä¸”ï¼ŒCopy-on-Writeä¹Ÿè¿œä¸åƒJavaé‡Œçš„CopyOnWriteArrayListé‚£æ ·ç¬¨ï¼šæ•´ä¸ªæ•°ç»„éƒ½å¤åˆ¶ä¸€éã€‚Copy-on-Writeä¹Ÿæ˜¯å¯ä»¥æŒ‰éœ€å¤åˆ¶çš„ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£å¯ä»¥å‚è€ƒ<span class=\"orange\">Purely Functional Data Structures</span>è¿™æœ¬ä¹¦ï¼Œé‡Œé¢æè¿°äº†å„ç§å…·å¤‡ä¸å˜æ€§çš„æ•°æ®ç»“æ„çš„å®ç°ã€‚</p><p>CopyOnWriteArrayListå’ŒCopyOnWriteArraySetè¿™ä¸¤ä¸ªCopy-on-Writeå®¹å™¨åœ¨ä¿®æ”¹çš„æ—¶å€™ä¼šå¤åˆ¶æ•´ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥å¦‚æœå®¹å™¨ç»å¸¸è¢«ä¿®æ”¹æˆ–è€…è¿™ä¸ªæ•°ç»„æœ¬èº«å°±éå¸¸å¤§çš„æ—¶å€™ï¼Œæ˜¯ä¸å»ºè®®ä½¿ç”¨çš„ã€‚åä¹‹ï¼Œå¦‚æœæ˜¯ä¿®æ”¹éå¸¸å°‘ã€æ•°ç»„æ•°é‡ä¹Ÿä¸å¤§ï¼Œå¹¶ä¸”å¯¹è¯»æ€§èƒ½è¦æ±‚è‹›åˆ»çš„åœºæ™¯ï¼Œä½¿ç”¨Copy-on-Writeå®¹å™¨æ•ˆæœå°±éå¸¸å¥½äº†ã€‚ä¸‹é¢æˆ‘ä»¬ç»“åˆä¸€ä¸ªçœŸå®çš„æ¡ˆä¾‹æ¥è®²è§£ä¸€ä¸‹ã€‚</p><h2>ä¸€ä¸ªçœŸå®æ¡ˆä¾‹</h2><p>æˆ‘æ›¾ç»å†™è¿‡ä¸€ä¸ªRPCæ¡†æ¶ï¼Œæœ‰ç‚¹ç±»ä¼¼Dubboï¼ŒæœåŠ¡æä¾›æ–¹æ˜¯å¤šå®ä¾‹åˆ†å¸ƒå¼éƒ¨ç½²çš„ï¼Œæ‰€ä»¥æœåŠ¡çš„å®¢æˆ·ç«¯åœ¨è°ƒç”¨RPCçš„æ—¶å€™ï¼Œä¼šé€‰å®šä¸€ä¸ªæœåŠ¡å®ä¾‹æ¥è°ƒç”¨ï¼Œè¿™ä¸ªé€‰å®šçš„è¿‡ç¨‹æœ¬è´¨ä¸Šå°±æ˜¯åœ¨åšè´Ÿè½½å‡è¡¡ï¼Œè€Œåšè´Ÿè½½å‡è¡¡çš„å‰ææ˜¯å®¢æˆ·ç«¯è¦æœ‰å…¨éƒ¨çš„è·¯ç”±ä¿¡æ¯ã€‚ä¾‹å¦‚åœ¨ä¸‹å›¾ä¸­ï¼ŒAæœåŠ¡çš„æä¾›æ–¹æœ‰3ä¸ªå®ä¾‹ï¼Œåˆ†åˆ«æ˜¯192.168.1.1ã€192.168.1.2å’Œ192.168.1.3ï¼Œå®¢æˆ·ç«¯åœ¨è°ƒç”¨ç›®æ ‡æœåŠ¡Aå‰ï¼Œé¦–å…ˆéœ€è¦åšçš„æ˜¯è´Ÿè½½å‡è¡¡ï¼Œä¹Ÿå°±æ˜¯ä»è¿™3ä¸ªå®ä¾‹ä¸­é€‰å‡º1ä¸ªæ¥ï¼Œç„¶åå†é€šè¿‡RPCæŠŠè¯·æ±‚å‘é€é€‰ä¸­çš„ç›®æ ‡å®ä¾‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/71/1e/713c0fb87154ee6fbb58f71b274b661e.png?wh=1142*510\" alt=\"\"></p><center><span class=\"reference\">RPCè·¯ç”±å…³ç³»å›¾</span></center><p>RPCæ¡†æ¶çš„ä¸€ä¸ªæ ¸å¿ƒä»»åŠ¡å°±æ˜¯ç»´æŠ¤æœåŠ¡çš„è·¯ç”±å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæœåŠ¡çš„è·¯ç”±å…³ç³»ç®€åŒ–æˆä¸‹å›¾æ‰€ç¤ºçš„è·¯ç”±è¡¨ã€‚å½“æœåŠ¡æä¾›æ–¹ä¸Šçº¿æˆ–è€…ä¸‹çº¿çš„æ—¶å€™ï¼Œå°±éœ€è¦æ›´æ–°å®¢æˆ·ç«¯çš„è¿™å¼ è·¯ç”±è¡¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/dc/60/dca6c365d689f2316ca34de613b3fd60.png?wh=1142*493\" alt=\"\"></p><p>æˆ‘ä»¬é¦–å…ˆæ¥åˆ†æä¸€ä¸‹å¦‚ä½•ç”¨ç¨‹åºæ¥å®ç°ã€‚æ¯æ¬¡RPCè°ƒç”¨éƒ½éœ€è¦é€šè¿‡è´Ÿè½½å‡è¡¡å™¨æ¥è®¡ç®—ç›®æ ‡æœåŠ¡çš„IPå’Œç«¯å£å·ï¼Œè€Œè´Ÿè½½å‡è¡¡å™¨éœ€è¦é€šè¿‡è·¯ç”±è¡¨è·å–æ¥å£çš„æ‰€æœ‰è·¯ç”±ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯æ¬¡RPCè°ƒç”¨éƒ½éœ€è¦è®¿é—®è·¯ç”±è¡¨ï¼Œæ‰€ä»¥è®¿é—®è·¯ç”±è¡¨è¿™ä¸ªæ“ä½œçš„æ€§èƒ½è¦æ±‚æ˜¯å¾ˆé«˜çš„ã€‚ä¸è¿‡è·¯ç”±è¡¨å¯¹æ•°æ®çš„ä¸€è‡´æ€§è¦æ±‚å¹¶ä¸é«˜ï¼Œä¸€ä¸ªæœåŠ¡æä¾›æ–¹ä»ä¸Šçº¿åˆ°åé¦ˆåˆ°å®¢æˆ·ç«¯çš„è·¯ç”±è¡¨é‡Œï¼Œå³ä¾¿æœ‰5ç§’é’Ÿï¼Œå¾ˆå¤šæ—¶å€™ä¹Ÿéƒ½æ˜¯èƒ½æ¥å—çš„ï¼ˆ5ç§’é’Ÿï¼Œå¯¹äºä»¥çº³ç§’ä½œä¸ºæ—¶é’Ÿå‘¨æœŸçš„CPUæ¥è¯´ï¼Œé‚£ä½•æ­¢æ˜¯ä¸€ä¸‡å¹´ï¼Œæ‰€ä»¥è·¯ç”±è¡¨å¯¹ä¸€è‡´æ€§çš„è¦æ±‚å¹¶ä¸é«˜ï¼‰ã€‚è€Œä¸”è·¯ç”±è¡¨æ˜¯å…¸å‹çš„è¯»å¤šå†™å°‘ç±»é—®é¢˜ï¼Œå†™æ“ä½œçš„é‡ç›¸æ¯”äºè¯»æ“ä½œï¼Œå¯è°“æ˜¯æ²§æµ·ä¸€ç²Ÿï¼Œå°‘å¾—å¯æ€œã€‚</p><p>é€šè¿‡ä»¥ä¸Šåˆ†æï¼Œä½ ä¼šå‘ç°ä¸€äº›å…³é”®è¯ï¼šå¯¹è¯»çš„æ€§èƒ½è¦æ±‚å¾ˆé«˜ï¼Œè¯»å¤šå†™å°‘ï¼Œå¼±ä¸€è‡´æ€§ã€‚å®ƒä»¬ç»¼åˆåœ¨ä¸€èµ·ï¼Œä½ ä¼šæƒ³åˆ°ä»€ä¹ˆå‘¢ï¼ŸCopyOnWriteArrayListå’ŒCopyOnWriteArraySetå¤©ç”Ÿå°±é€‚ç”¨è¿™ç§åœºæ™¯å•Šã€‚æ‰€ä»¥ä¸‹é¢çš„ç¤ºä¾‹ä»£ç ä¸­ï¼ŒRouteTableè¿™ä¸ªç±»å†…éƒ¨æˆ‘ä»¬é€šè¿‡<code>ConcurrentHashMap&lt;String, CopyOnWriteArraySet&lt;Router&gt;&gt;</code>è¿™ä¸ªæ•°æ®ç»“æ„æ¥æè¿°è·¯ç”±è¡¨ï¼ŒConcurrentHashMapçš„Keyæ˜¯æ¥å£åï¼ŒValueæ˜¯è·¯ç”±é›†åˆï¼Œè¿™ä¸ªè·¯ç”±é›†åˆæˆ‘ä»¬ç”¨æ˜¯CopyOnWriteArraySetã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å†æ¥æ€è€ƒRouterè¯¥å¦‚ä½•è®¾è®¡ï¼ŒæœåŠ¡æä¾›æ–¹çš„æ¯ä¸€æ¬¡ä¸Šçº¿ã€ä¸‹çº¿éƒ½ä¼šæ›´æ–°è·¯ç”±ä¿¡æ¯ï¼Œè¿™æ—¶å€™ä½ æœ‰ä¸¤ç§é€‰æ‹©ã€‚ä¸€ç§æ˜¯é€šè¿‡æ›´æ–°Routerçš„ä¸€ä¸ªçŠ¶æ€ä½æ¥æ ‡è¯†ï¼Œå¦‚æœè¿™æ ·åšï¼Œé‚£ä¹ˆæ‰€æœ‰è®¿é—®è¯¥çŠ¶æ€ä½çš„åœ°æ–¹éƒ½éœ€è¦åŒæ­¥è®¿é—®ï¼Œè¿™æ ·å¾ˆå½±å“æ€§èƒ½ã€‚å¦å¤–ä¸€ç§å°±æ˜¯é‡‡ç”¨Immutabilityæ¨¡å¼ï¼Œæ¯æ¬¡ä¸Šçº¿ã€ä¸‹çº¿éƒ½åˆ›å»ºæ–°çš„Routerå¯¹è±¡æˆ–è€…åˆ é™¤å¯¹åº”çš„Routerå¯¹è±¡ã€‚ç”±äºä¸Šçº¿ã€ä¸‹çº¿çš„é¢‘ç‡å¾ˆä½ï¼Œæ‰€ä»¥åè€…æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚</p><p>Routerçš„å®ç°ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼Œæ˜¯ä¸€ç§å…¸å‹Immutabilityæ¨¡å¼çš„å®ç°ï¼Œéœ€è¦ä½ æ³¨æ„çš„æ˜¯æˆ‘ä»¬é‡å†™äº†equalsæ–¹æ³•ï¼Œè¿™æ ·CopyOnWriteArraySetçš„add()å’Œremove()æ–¹æ³•æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚</p><pre><code>//è·¯ç”±ä¿¡æ¯\npublic final class Router{\n  private final String  ip;\n  private final Integer port;\n  private final String  iface;\n  //æ„é€ å‡½æ•°\n  public Router(String ip, \n      Integer port, String iface){\n    this.ip = ip;\n    this.port = port;\n    this.iface = iface;\n  }\n  //é‡å†™equalsæ–¹æ³•\n  public boolean equals(Object obj){\n    if (obj instanceof Router) {\n      Router r = (Router)obj;\n      return iface.equals(r.iface) &amp;&amp;\n             ip.equals(r.ip) &amp;&amp;\n             port.equals(r.port);\n    }\n    return false;\n  }\n  public int hashCode() {\n    //çœç•¥hashCodeç›¸å…³ä»£ç \n  }\n}\n//è·¯ç”±è¡¨ä¿¡æ¯\npublic class RouterTable {\n  //Key:æ¥å£å\n  //Value:è·¯ç”±é›†åˆ\n  ConcurrentHashMap&lt;String, CopyOnWriteArraySet&lt;Router&gt;&gt; \n    rt = new ConcurrentHashMap&lt;&gt;();\n  //æ ¹æ®æ¥å£åè·å–è·¯ç”±è¡¨\n  public Set&lt;Router&gt; get(String iface){\n    return rt.get(iface);\n  }\n  //åˆ é™¤è·¯ç”±\n  public void remove(Router router) {\n    Set&lt;Router&gt; set=rt.get(router.iface);\n    if (set != null) {\n      set.remove(router);\n    }\n  }\n  //å¢åŠ è·¯ç”±\n  public void add(Router router) {\n    Set&lt;Router&gt; set = rt.computeIfAbsent(\n      route.iface, r -&gt; \n        new CopyOnWriteArraySet&lt;&gt;());\n    set.add(router);\n  }\n}\n</code></pre><h2>æ€»ç»“</h2><p>ç›®å‰Copy-on-Writeåœ¨Javaå¹¶å‘ç¼–ç¨‹é¢†åŸŸçŸ¥ååº¦ä¸æ˜¯å¾ˆé«˜ï¼Œå¾ˆå¤šäººéƒ½åœ¨æ— æ„ä¸­æŠŠå®ƒå¿½è§†äº†ï¼Œä½†å…¶å®Copy-on-Writeæ‰æ˜¯æœ€ç®€å•çš„å¹¶å‘è§£å†³æ–¹æ¡ˆã€‚å®ƒæ˜¯å¦‚æ­¤ç®€å•ï¼Œä»¥è‡³äºJavaä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹Stringã€Integerã€Longç­‰éƒ½æ˜¯åŸºäºCopy-on-Writeæ–¹æ¡ˆå®ç°çš„ã€‚</p><p>Copy-on-Writeæ˜¯ä¸€é¡¹éå¸¸é€šç”¨çš„æŠ€æœ¯æ–¹æ¡ˆï¼Œåœ¨å¾ˆå¤šé¢†åŸŸéƒ½æœ‰ç€å¹¿æ³›çš„åº”ç”¨ã€‚ä¸è¿‡ï¼Œå®ƒä¹Ÿæœ‰ç¼ºç‚¹çš„ï¼Œé‚£å°±æ˜¯æ¶ˆè€—å†…å­˜ï¼Œæ¯æ¬¡ä¿®æ”¹éƒ½éœ€è¦å¤åˆ¶ä¸€ä¸ªæ–°çš„å¯¹è±¡å‡ºæ¥ï¼Œå¥½åœ¨éšç€è‡ªåŠ¨åƒåœ¾å›æ”¶ï¼ˆGCï¼‰ç®—æ³•çš„æˆç†Ÿä»¥åŠç¡¬ä»¶çš„å‘å±•ï¼Œè¿™ç§å†…å­˜æ¶ˆè€—å·²ç»æ¸æ¸å¯ä»¥æ¥å—äº†ã€‚æ‰€ä»¥åœ¨å®é™…å·¥ä½œä¸­ï¼Œå¦‚æœå†™æ“ä½œéå¸¸å°‘ï¼Œé‚£ä½ å°±å¯ä»¥å°è¯•ç”¨ä¸€ä¸‹Copy-on-Writeï¼Œæ•ˆæœè¿˜æ˜¯ä¸é”™çš„ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>Javaæä¾›äº†CopyOnWriteArrayListï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰æä¾›CopyOnWriteLinkedListå‘¢ï¼Ÿ</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºä¸æˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè®°å½•ä½ çš„æ€è€ƒè¿‡ç¨‹ã€‚æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p><p></p>","neighbors":{"left":{"article_title":"28 | Immutabilityæ¨¡å¼ï¼šå¦‚ä½•åˆ©ç”¨ä¸å˜æ€§è§£å†³å¹¶å‘é—®é¢˜ï¼Ÿ","id":92856},"right":{"article_title":"30 | çº¿ç¨‹æœ¬åœ°å­˜å‚¨æ¨¡å¼ï¼šæ²¡æœ‰å…±äº«ï¼Œå°±æ²¡æœ‰ä¼¤å®³","id":93745}},"comments":[{"had_liked":false,"id":91215,"user_name":"GeekAmI","can_delete":false,"product_type":"c1","uid":1005030,"ip_address":"","ucode":"232C0B6DFB9F56","user_header":"https://static001.geekbang.org/account/avatar/00/0f/55/e6/87197b10.jpg","comment_is_top":false,"comment_ctime":1556932908,"is_pvip":false,"discussion_count":8,"race_medal":0,"score":"607147321644","product_id":100023901,"comment_content":"CopyOnWriteLinkedListçš„é“¾è¡¨ç»“æ„è¯»å–æ•ˆç‡æ¯”è¾ƒä½ï¼Œå°±è¿èƒŒäº†è¯»å¤šå†™å°‘çš„è®¾è®¡åˆè¡·ã€‚","like_count":142,"discussions":[{"author":{"id":1135604,"avatar":"https://static001.geekbang.org/account/avatar/00/11/53/f4/e277325d.jpg","nickname":"bin.chen","note":"","ucode":"5BA49358AB8A1A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":280656,"discussion_content":"è¯»å–æ“ä½œæ•ˆç‡æ˜¯ç›¸å¯¹çš„ï¼›é“¾è¡¨è¯»å–ä¸ä¸€å®šæ…¢","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1591587193,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1655940,"avatar":"https://static001.geekbang.org/account/avatar/00/19/44/84/4da14994.jpg","nickname":"å‘†ç“œ","note":"","ucode":"C98C7B224D0640","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1135604,"avatar":"https://static001.geekbang.org/account/avatar/00/11/53/f4/e277325d.jpg","nickname":"bin.chen","note":"","ucode":"5BA49358AB8A1A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343444,"discussion_content":"æ•°ç»„å­˜å‚¨åœ¨è¿ç»­å†…å­˜,è¿ç»­å†…å­˜æ›´æœ‰åˆ©äºCPUåŠ è½½å’Œç¼“å­˜,ç‰¹ç‚¹æ˜¯å¢åˆ æ…¢,è¯»å–å¿«;\né“¾è¡¨æ•°æ®ç»“æ„å­˜å‚¨åœ¨åˆ†æ•£å†…å­˜,ç‰¹ç‚¹æ˜¯å¢åˆ å¿«,è¯»å–æ…¢;\né“¾è¡¨ç»“æ„çš„è®¾è®¡åˆè¡·å°±æ˜¯ç”¨äºå¢åˆ é¢‘ç¹,è¯»å–å°‘çš„åœºæ™¯;\nCopyOnWriteä½¿ç”¨åœºæ™¯:è¦æ±‚è¯»å–æ€§èƒ½é«˜,è¯»å–å¤š,ä¿®æ”¹å°‘;\näºŒè€…è®¾è®¡ç†å¿µç›¸è¿èƒŒ,æ‰€ä»¥å­˜åœ¨CopyOnWriteArrayList,è€Œä¸å­˜åœ¨CopyOnWriteLinkedList","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1611046992,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":280656,"ip_address":""},"score":343444,"extra":""},{"author":{"id":1920896,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/4f/80/19f946ba.jpg","nickname":"Zain","note":"","ucode":"03EDF7B1BE9CF8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1135604,"avatar":"https://static001.geekbang.org/account/avatar/00/11/53/f4/e277325d.jpg","nickname":"bin.chen","note":"","ucode":"5BA49358AB8A1A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377315,"discussion_content":"é“¾è¡¨å¦‚æœéƒ½è¯»å­˜å‚¨çš„å¤´ç»“ç‚¹æˆ–è€…å°¾ç»“ç‚¹ä¹Ÿæ˜¯ç›´æ¥è®¿é—®ï¼Œæ‰€ä»¥ä¸èƒ½ä¸€åˆ€åˆ‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622601694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":280656,"ip_address":""},"score":377315,"extra":""}]},{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8654,"discussion_content":"å¯¹äºCopyOnWriteLinkedListçš„å¤åˆ¶æ“ä½œæ¯”è¾ƒè€—æ—¶ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1568032972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1698557,"avatar":"https://static001.geekbang.org/account/avatar/00/19/ea/fd/89d3d0b5.jpg","nickname":"ç‹æ˜Šå“²","note":"","ucode":"AA2F4499BF6865","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":63946,"discussion_content":"æœ‰ç‚¹é—®é¢˜å§ï¼Œé“¾è¡¨æ˜¯éšæœºè¯»å–æ•ˆç‡æ¯”ä¸ä¸Šæ•°ç»„ï¼Œå•ç‹¬çš„è¯»å–ï¼Œä¸¤è¾¹éƒ½æ˜¯o(n),ä¸æ˜¯è¿™ä¸ªåŸå› å§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1574924621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1370932,"avatar":"https://static001.geekbang.org/account/avatar/00/14/eb/34/9756d116.jpg","nickname":"ä¸€è·¯å‘åŒ—","note":"","ucode":"B688B1C748D019","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370111,"discussion_content":"å‰å®³äº†æˆ‘çš„å“¥..>,<","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619279632,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1111870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK2Az5uTh9ZGVA7yQCj1BXtXuicPRkvJicA97AoN9xX3bnPcUYglTMXJeZeoVbPQeJA7ICvQhR3KQ0w/132","nickname":"æ—¥ä¸è½å¸å›½","note":"","ucode":"6A11ABBD8AC438","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":13428,"discussion_content":"æœ‰è§è§£ï¼Œå­¦ä¹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568653063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1388546,"avatar":"https://static001.geekbang.org/account/avatar/00/15/30/02/fd0d4849.jpg","nickname":"è¥¿  æµ","note":"","ucode":"0E9BB51AEC2515","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":136,"discussion_content":"æœ‰è§è§£å“ˆå“ˆğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561157747,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91474,"user_name":"å‡è¡Œåƒ§","can_delete":false,"product_type":"c1","uid":1107161,"ip_address":"","ucode":"5D87225B067A20","user_header":"https://static001.geekbang.org/account/avatar/00/10/e4/d9/d74e4c61.jpg","comment_is_top":false,"comment_ctime":1557042217,"is_pvip":false,"replies":[{"id":"34447","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":91474,"uid":"1269969","ip_address":"","utype":1,"ctime":1558359603,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":14,"race_medal":0,"score":"525543052329","product_id":100023901,"comment_content":"æ²¡æœ‰æä¾›CopyOnWriteLinkedListæ˜¯å› ä¸ºlinkedlistçš„æ•°æ®ç»“æ„å…³ç³»åˆ†æ•£åˆ°æ¯ä¸€ä¸ªèŠ‚ç‚¹é‡Œé¢ï¼Œå¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„ä¿®æ”¹éƒ½å­˜åœ¨ç«Ÿæ€æ¡ä»¶ï¼Œéœ€è¦åŒæ­¥æ‰èƒ½ä¿è¯ä¸€è‡´æ€§ã€‚arraylistå°±ä¸ä¸€æ ·ï¼Œæ•°ç»„å¤©ç„¶çš„æ‹¥æœ‰å‰é©±åç»§çš„ç»“æ„å…³ç³»ï¼Œå¯¹åˆ—è¡¨çš„å¢åˆ ï¼Œå› ä¸ºæ˜¯copy on wirteï¼Œæ‰€ä»¥åªéœ€è¦casæ“ä½œæ•°ç»„å¯¹è±¡å°±èƒ½å¤Ÿä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡ä¸Šä¹Ÿèƒ½æ¥å—ï¼Œæ›´é‡è¦çš„æ˜¯é¿å…é”ç«äº‰å¸¦æ¥çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¶ˆè€—ã€‚æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯CopyOnWriteArrayListåœ¨ä½¿ç”¨ä¸Šæœ‰æ•°æ®ä¸å®Œæ•´çš„æ—¶é—´çª—å£ï¼Œè¦ä¸è¦è€ƒè™‘éœ€è¦æ ¹æ®å…·ä½“åœºæ™¯å®šå¤º","like_count":123,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448925,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558359603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1512642,"avatar":"https://static001.geekbang.org/account/avatar/00/17/14/c2/46ebe3a0.jpg","nickname":"ä¾§è€³å€¾å¬","note":"","ucode":"5BF2A2440B54F0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":243170,"discussion_content":"ä»–æ‰€è¯´çš„é™æ€æ¡ä»¶åº”è¯¥æ˜¯æ•°ç»„è‡ªèº«å…·æœ‰ä¸å¯å˜æ€§ï¼Œä¸€æ—¦åˆ›å»ºä¸å¯ä¿®æ”¹ã€‚æ‰€ä»¥åªéœ€è¦ä¿è¯å¯¹æŸä¸€ç´¢å¼•çš„å€¼å˜æ›´æ—¶äº’æ–¥å°±å¯ä»¥äº†ã€‚ä½†æ˜¯é“¾è¡¨è‡ªèº«ç»“æ„å¯å˜ï¼Œlistæä¾›äº†addallå’Œclearç­‰æ–¹æ³•ï¼Œå¦‚æœå¯¹æŸä¸€èŠ‚ç‚¹çš„å€¼è¿›è¡Œå˜æ›´æ—¶ï¼Œä½ é¦–å…ˆéœ€è¦ä¿è¯é“¾è¡¨çš„ä¸å¯å˜ï¼Œå°±éœ€è¦åŠ äº’æ–¥é”","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1587526271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264431,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4b/2f/2f73fd52.jpg","nickname":"æ°´æ»´s","note":"","ucode":"1C684514B54B6F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":81208,"discussion_content":"æ—¢ç„¶æ˜¯copeonwriteï¼Œä¸ºä»€ä¹ˆä¼šå­˜åœ¨ä¿®æ”¹é“¾è¡¨èŠ‚ç‚¹è€Œå¯¼è‡´ç«æ€æ¡ä»¶è¿™ç§æƒ…å†µå‘¢ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1576232211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1369447,"avatar":"https://static001.geekbang.org/account/avatar/00/14/e5/67/16322a5d.jpg","nickname":"cky.å®‡","note":"","ucode":"93A3EAD9D50A5F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264431,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4b/2f/2f73fd52.jpg","nickname":"æ°´æ»´s","note":"","ucode":"1C684514B54B6F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":82019,"discussion_content":"æ˜¯çš„ï¼Œæˆ‘ä¹Ÿæ²¡æ˜ç™½ï¼ŒCOWçš„æºæ•°æ®ç›¸å½“äºæ˜¯åªè¯»çš„ï¼Œcopyæ—¶ä¸ä¼šå‡ºç°æºæ•°æ®è¢«ä¿®æ”¹çš„æƒ…å†µï¼ŒæŒ‰ç†è¯´æ˜¯ä¸ä¼šå‡ºç°ç«æ€æ¡ä»¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576310674,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":81208,"ip_address":""},"score":82019,"extra":""}]},{"author":{"id":1111870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK2Az5uTh9ZGVA7yQCj1BXtXuicPRkvJicA97AoN9xX3bnPcUYglTMXJeZeoVbPQeJA7ICvQhR3KQ0w/132","nickname":"æ—¥ä¸è½å¸å›½","note":"","ucode":"6A11ABBD8AC438","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":13430,"discussion_content":"æœ‰è§è§£ï¼Œå­¦ä¹ å­¦ä¹ ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568653196,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1339724,"avatar":"https://static001.geekbang.org/account/avatar/00/14/71/4c/2cefec07.jpg","nickname":"é™æ°´æµæ·±","note":"","ucode":"644F05EFBD2E7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1111870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK2Az5uTh9ZGVA7yQCj1BXtXuicPRkvJicA97AoN9xX3bnPcUYglTMXJeZeoVbPQeJA7ICvQhR3KQ0w/132","nickname":"æ—¥ä¸è½å¸å›½","note":"","ucode":"6A11ABBD8AC438","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":21219,"discussion_content":"é‚£é‡Œéƒ½æœ‰ä½ ï¼Œå“ˆå“ˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1569455048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":13430,"ip_address":""},"score":21219,"extra":""},{"author":{"id":1018620,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8a/fc/d1dd57dd.jpg","nickname":"ipofss","note":"","ucode":"DE3061C9259F9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1339724,"avatar":"https://static001.geekbang.org/account/avatar/00/14/71/4c/2cefec07.jpg","nickname":"é™æ°´æµæ·±","note":"","ucode":"644F05EFBD2E7B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":40538,"discussion_content":"è¿˜çœŸæ˜¯ï¼Œå“ªé‡Œéƒ½æœ‰æ—¥ä¸è½å¸å›½ï¼ŒğŸ˜†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1572231775,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":21219,"ip_address":""},"score":40538,"extra":""}]},{"author":{"id":1116063,"avatar":"https://static001.geekbang.org/account/avatar/00/11/07/9f/31a32631.jpg","nickname":"å‹¿é—»è½©å¤–é¦™","note":"","ucode":"D31BF163B7DFC0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411772,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636000999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1565085,"avatar":"https://static001.geekbang.org/account/avatar/00/17/e1/9d/3ec0adec.jpg","nickname":"å–ƒå¯»","note":"","ucode":"E31B3660726671","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344864,"discussion_content":"å‰å®³ï¼Œå­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611591142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2029485,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/f7/ad/4fd4d867.jpg","nickname":"æ•°å­¦æ±¤å®¶å‡¤","note":"","ucode":"DE84E777C384AD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289846,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594225814,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1818343,"avatar":"","nickname":"åˆ˜åŒé’","note":"","ucode":"84B62DF8BC61FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281615,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591777383,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1331828,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/IZKGetBZDuMEa2VwwtesTELvLORIyV749ItgfAqNPv30n4zEv71wuGNr1aNVIVltG0icvH53DHDuqPuzNpiauWAg/132","nickname":"Geek_bb89c3","note":"","ucode":"0F97B5B0F2DDD6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":186603,"discussion_content":"cowä¸­åœ¨ä¿®æ”¹çš„æ—¶å€™éƒ½æ˜¯åŠ é”çš„ï¼ŒåŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿä¿®æ”¹ã€‚è¿™é‡Œçš„ç«æ€æ¡ä»¶æ˜¯æ€ä¹ˆå‡ºç°çš„å‘¢ï¼Ÿ@å‡è¡Œåƒ§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582697651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1008582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/c6/d6ea3df3.jpg","nickname":"æ—è‚¯","note":"","ucode":"D2C97220230DE5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":35095,"discussion_content":"è¯·æ•™ä¸‹ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰æ•°æ®ä¸å®Œæ•´çš„æ—¶é—´çª—å£ï¼Ÿéš¾é“æ˜¯å¼‚æ­¥æ‹·è´çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571235565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1554995,"avatar":"https://static001.geekbang.org/account/avatar/00/17/ba/33/2d83d174.jpg","nickname":"æ—¶å…‰å®ˆæŠ¤è€…-åŸºå…°","note":"","ucode":"F0B0887B1979D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1008582,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/c6/d6ea3df3.jpg","nickname":"æ—è‚¯","note":"","ucode":"D2C97220230DE5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369368,"discussion_content":"è¯»å’Œå†™ä¸æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œå†™å®Œåè¦æŠŠåŸæ¥çš„å¼•ç”¨æŒ‡å‘å†™åçš„å†…å­˜åœ°å€ï¼Œåœ¨è¿™æœŸé—´è¯»çš„éƒ½æ˜¯æ²¡æœ‰ä¿®æ”¹åçš„å€¼ï¼Œå°±æ˜¯è¿™æ®µæ—¶é—´çª—å£","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1619013147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":35095,"ip_address":""},"score":369368,"extra":""}]}]},{"had_liked":false,"id":137430,"user_name":"Sharry","can_delete":false,"product_type":"c1","uid":1239293,"ip_address":"","ucode":"045DDB864659F6","user_header":"https://static001.geekbang.org/account/avatar/00/12/e8/fd/035f4c94.jpg","comment_is_top":false,"comment_ctime":1569739575,"is_pvip":false,"replies":[{"id":"52826","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":137430,"uid":"1269969","ip_address":"","utype":1,"ctime":1569756976,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":1,"race_medal":0,"score":"246382875447","product_id":100023901,"comment_content":"æˆ‘å¯¹è¯¾åçš„æ€è€ƒæ˜¯è¿™æ ·çš„, ArrayList æ˜¯ç”¨æ˜¯æ•°ç»„å®ç°çš„, åœ¨å†…å­˜ä¸Šæ—¶ä¸€å—è¿ç»­çš„åŒºåŸŸ, æ‹·è´æ—¶æ•ˆç‡æ¯”è¾ƒé«˜, æ—¶é—´å¤æ‚åº¦ä¸º O(1)<br><br>LinkedList æ˜¯é“¾è¡¨å®ç°, å…¶æ•°æ®æ˜¯é€šè¿‡æŒ‡é’ˆä¸²è”èµ·æ¥çš„, å¹¶éä¸€å—è¿ç»­çš„åŒºåŸŸ, æ‹·è´æ—¶å¿…é¡»è¦è¿›è¡Œéå†æ“ä½œ, æ•ˆç‡æ¯”è¾ƒä½, æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)","like_count":58,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469088,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569756976,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91978,"user_name":"KnightÂ²ÂºÂ¹â¸","can_delete":false,"product_type":"c1","uid":1089754,"ip_address":"","ucode":"BDCB830B6A730F","user_header":"https://static001.geekbang.org/account/avatar/00/10/a0/da/4f50f1b2.jpg","comment_is_top":false,"comment_ctime":1557147424,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"203420610336","product_id":100023901,"comment_content":"å¾ˆå¤šç«¥é‹æåˆ°äº†é“¾è¡¨copyçš„ä»£ä»·ï¼Œä¸ªäººè§‰å¾—è¿™å¹¶ä¸æ˜¯æœ€æ ¹æœ¬çš„åŸå› ã€‚é¦–å…ˆæ•°ç»„æ— è®ºçš„æ–°å¢è¿˜æ˜¯åˆ é™¤copyæ˜¯é¿å…ä¸äº†çš„ï¼Œå› æ­¤æˆ‘ä»¬é‡‡ç”¨copy on writeçš„æ–¹å¼åœ¨ä¿è¯ä»£ä»·ç›¸å½“çš„å‰æä¸‹ä¿è¯äº†å¹¶å‘çš„å®‰å…¨é—®é¢˜ï¼Œä½•ä¹è€Œä¸ä¸ºå‘¢ã€‚å…¶æ¬¡æ˜¯é“¾è¡¨çš„æ–°å¢åˆ é™¤å‹æ ¹å°±ä¸éœ€è¦å¤åˆ¶ï¼Œå°±ç®—æ˜¯åœ¨å¹¶å‘åœºæ™¯ä¸‹é‡‡ç”¨é”çš„æ–¹å¼æ€§èƒ½æŸè€—éƒ½ä¸å¤§ï¼Œå› æ­¤ä¹Ÿå°±æ²¡å¿…è¦é‡‡ç”¨copyçš„æ–¹å¼äº†ï¼Œæ›´ä½•å†µé“¾è¡¨çš„æ“ä½œå¯ä»¥é‡‡ç”¨åˆ†æ®µé”ã€èŠ‚ç‚¹é”ã€‚æ‰€ä»¥æ²¡æœ‰CopyOnWriteLinkedListçš„ä¸»è¦åŸå› æ˜¯æ²¡æœ‰è¿™ä¸ªå¿…è¦ã€‚","like_count":48,"discussions":[{"author":{"id":1655940,"avatar":"https://static001.geekbang.org/account/avatar/00/19/44/84/4da14994.jpg","nickname":"å‘†ç“œ","note":"","ucode":"C98C7B224D0640","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343445,"discussion_content":"æ•°ç»„å­˜å‚¨åœ¨è¿ç»­å†…å­˜,è¿ç»­å†…å­˜æ›´æœ‰åˆ©äºCPUåŠ è½½å’Œç¼“å­˜,ç‰¹ç‚¹æ˜¯å¢åˆ æ…¢,è¯»å–å¿«;\né“¾è¡¨æ•°æ®ç»“æ„å­˜å‚¨åœ¨åˆ†æ•£å†…å­˜,ç‰¹ç‚¹æ˜¯å¢åˆ å¿«,è¯»å–æ…¢;\né“¾è¡¨ç»“æ„çš„è®¾è®¡åˆè¡·å°±æ˜¯ç”¨äºå¢åˆ é¢‘ç¹,è¯»å–å°‘çš„åœºæ™¯;\nCopyOnWriteä½¿ç”¨åœºæ™¯:è¦æ±‚è¯»å–æ€§èƒ½é«˜,è¯»å–å¤š,ä¿®æ”¹å°‘;\näºŒè€…è®¾è®¡ç†å¿µç›¸è¿èƒŒ,æ‰€ä»¥å­˜åœ¨CopyOnWriteArrayList,è€Œä¸å­˜åœ¨CopyOnWriteLinkedList","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1611047149,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1937062,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/8e/a6/c3286b61.jpg","nickname":"Javaå’å¢™å·¥ç¨‹å¸ˆ","note":"","ucode":"E76AE44A9C76AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299961,"discussion_content":"è¯»å¤šå†™å°‘æ‰è€ƒè™‘ä½¿ç”¨cowï¼Œè¯»å¤šå†™å°‘å°±ä¸è¯¥é€‰linkedlist","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1597889347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1660321,"avatar":"","nickname":"Geek_57ffb6","note":"","ucode":"EAD6E6148BE65D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1937062,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/8e/a6/c3286b61.jpg","nickname":"Javaå’å¢™å·¥ç¨‹å¸ˆ","note":"","ucode":"E76AE44A9C76AE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334804,"discussion_content":"æ­£è§£ï¼Œæˆ‘è§‰å¾—æ²¡å¤§å®¶è¯´çš„é‚£ä¹ˆå¤æ‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607995153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":299961,"ip_address":""},"score":334804,"extra":""}]},{"author":{"id":1179028,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/94/0247f945.jpg","nickname":"å’¸é±¼","note":"","ucode":"5E79636DE48155","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277994,"discussion_content":"è¯»æ€§èƒ½è¦æ±‚é«˜æ—¶ï¼ŒLinkedListä¸å¦‚åŸºäºæ•°ç»„å®ç°çš„ArrayListï¼Œæ‰€ä»¥å³ä½¿å®ç°äº†Copy-On-Writeæ„ä¹‰ä¹Ÿä¸å¤§ï¼Œæ²¡æœ‰é€‚ç”¨åœºæ™¯","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1591142313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1554995,"avatar":"https://static001.geekbang.org/account/avatar/00/17/ba/33/2d83d174.jpg","nickname":"æ—¶å…‰å®ˆæŠ¤è€…-åŸºå…°","note":"","ucode":"F0B0887B1979D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1179028,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/94/0247f945.jpg","nickname":"å’¸é±¼","note":"","ucode":"5E79636DE48155","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369372,"discussion_content":"å¦‚æœä»åå¾€å‰å…¨é‡è¯»éƒ½æ˜¯o(n)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619013446,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":277994,"ip_address":""},"score":369372,"extra":""}]}]},{"had_liked":false,"id":92430,"user_name":"å¥½ç‰™","can_delete":false,"product_type":"c1","uid":1117320,"ip_address":"","ucode":"F36A824C1AB19A","user_header":"","comment_is_top":false,"comment_ctime":1557273682,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"78866685010","product_id":100023901,"comment_content":"1.é“¾è¡¨æœ¬èº«é€‚åˆäºé¡ºåºè¯»å’Œå†™å¤šçš„åœºæ™¯ï¼Œå’Œcopè¯»å¤šå†™å°‘æ˜¯è¿èƒŒçš„ã€‚<br>2.é“¾è¡¨å¯ä»¥é”èŠ‚ç‚¹ï¼ŒåŠ›åº¦å·²ç»å¾ˆå°äº†ã€‚<br>3.é“¾è¡¨æ•´ä½“å¤åˆ¶çš„æ€§èƒ½æ¯”æ•°ç»„å·®å¤ªå¤šã€‚","like_count":19},{"had_liked":false,"id":91219,"user_name":"Corner","can_delete":false,"product_type":"c1","uid":1446316,"ip_address":"","ucode":"7862D593172536","user_header":"https://static001.geekbang.org/account/avatar/00/16/11/ac/9cc5e692.jpg","comment_is_top":false,"comment_ctime":1556935085,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"65981444525","product_id":100023901,"comment_content":"æ•°ç»„çš„æ‹·è´æ•ˆç‡åº”è¯¥æ¯”é“¾è¡¨é«˜ï¼Œä¸€ç»´æ•°ç»„æ˜¯è¿ç»­åˆ†é…å†…å­˜çš„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥å¤åˆ¶å†…å­˜å—å°±èƒ½å®Œæˆæ‹·è´ã€‚ä½†æ˜¯é“¾è¡¨å…ƒç´ ä¹‹é—´æ˜¯é€šè¿‡å¼•ç”¨å»ºç«‹è¿æ¥çš„ï¼Œæ‰€ä»¥è¦éå†æ•´ä¸ªé“¾è¡¨æ‰èƒ½å®Œæˆæ‹·è´ã€‚","like_count":15},{"had_liked":false,"id":91806,"user_name":"å¤å¤©","can_delete":false,"product_type":"c1","uid":1285986,"ip_address":"","ucode":"F29D56F9265751","user_header":"https://static001.geekbang.org/account/avatar/00/13/9f/62/960eecc3.jpg","comment_is_top":false,"comment_ctime":1557112569,"is_pvip":false,"replies":[{"id":"34452","content":"å¿…é¡»åŠ ï¼Œè¿˜æœ‰æŒ‡ä»¤é‡æ’é—®é¢˜","user_name":"ä½œè€…å›å¤","comment_id":91806,"uid":"1269969","ip_address":"","utype":1,"ctime":1558361934,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":6,"race_medal":0,"score":"57391687417","product_id":100023901,"comment_content":"ç‹è€å¸ˆï¼Œé—®ä¸€ä¸ªå•ä¾‹æ¨¡å¼çš„é—®é¢˜ï¼š åœ¨åŒé‡æ£€æŸ¥åŠ é”çš„å•ä¾‹æ¨¡å¼ä¸­ éœ€ä¸éœ€è¦åŠ  volatile å…³é”®å­—ä¿®é¥°ï¼Ÿ è‡ªå·±çš„ç†è§£ï¼šæ˜¯éœ€è¦ã€‚ä½†æ˜¯æˆ‘åœ¨è€ƒè™‘å…¶ä¸­çš„é”æ˜¯ä¸æ˜¯å­˜åœ¨happen beforeè§„åˆ™ï¼Œä¸ç”¨åŠ volatileä¹Ÿèƒ½ä¿è¯å¯è§æ€§ï¼Ÿ","like_count":13,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449038,"discussion_content":"å¿…é¡»åŠ ï¼Œè¿˜æœ‰æŒ‡ä»¤é‡æ’é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558361934,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1730576,"avatar":"","nickname":"27","note":"","ucode":"B5D7A54EA47206","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304387,"discussion_content":"ä¸»è¦æ˜¯new()æ“ä½œä¼šå‘ç”ŸæŒ‡ä»¤é‡æ’ï¼Œä¸èƒ½ä¿è¯æœ‰åºæ€§ï¼Œ ä¼šå‡ºç°æ“ä½œnullåœ°å€","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1599558059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1547667,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","nickname":"æœ´ç´ æŸ æª¬c","note":"","ucode":"2D4CBB70D801B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1730576,"avatar":"","nickname":"27","note":"","ucode":"B5D7A54EA47206","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326458,"discussion_content":"å…¶å®å°±æ˜¯äº†è§£å¯¹è±¡new()çš„ä¸‰ä¸ªè¿‡ç¨‹ï¼Œä¸æ˜¯åŸå­æ€§çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605598560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":304387,"ip_address":""},"score":326458,"extra":""}]},{"author":{"id":1818343,"avatar":"","nickname":"åˆ˜åŒé’","note":"","ucode":"84B62DF8BC61FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281617,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591777571,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1013160,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/75/a8/dfe4cade.jpg","nickname":"ç”µå…‰ç«çŸ³","note":"","ucode":"3AD33BB4AA940F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":172146,"discussion_content":"æ˜¯ä¸æ˜¯jdk5ä¹‹åå°±ä¸è¦äº†ï¼Œjvmå·²ç»åšäº†ä¼˜åŒ–ï¼Œä¸ä¼šå‘ç”Ÿé€ƒé€¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581771441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1351066,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/9a/7f064a9f.jpg","nickname":"é¾™è¡Œç§€","note":"","ucode":"2DA088D199EA9D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521,"discussion_content":"å¾—çœ‹synçš„é”å¯¹è±¡ï¼Œæœ‰ä¸€ç§å†™æ³•æ˜¯é”æ•´ä¸ªç±»æ„Ÿè§‰å°±ä¸ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561638690,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":93430,"user_name":"åˆ˜é¹","can_delete":false,"product_type":"c1","uid":1524765,"ip_address":"","ucode":"48A831C5D2031C","user_header":"https://static001.geekbang.org/account/avatar/00/17/44/1d/833b3890.jpg","comment_is_top":false,"comment_ctime":1557469469,"is_pvip":false,"replies":[{"id":"33503","content":"rpcçš„å®¢æˆ·ç«¯å’ŒæœåŠ¡æä¾›ç«¯ä¼šå»ºç«‹ä¸€ä¸ªé•¿è¿æ¥ï¼Œå®šæ—¶å‘å¿ƒè·³ï¼Œå¹¶ä¸å®Œå…¨ä¾èµ–æ³¨å†Œä¸­å¿ƒçš„æ•°æ®ã€‚å¾ˆå¤šrpcçš„æœåŠ¡ç«¯æä¾›äº†æ‰‹åŠ¨ä¸‹çº¿åŠŸèƒ½ï¼Œèƒ½è§£å†³ä½ è¯´çš„è¿™ä¸ªé—®é¢˜","user_name":"ä½œè€…å›å¤","comment_id":93430,"uid":"1269969","ip_address":"","utype":1,"ctime":1557643492,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":2,"race_medal":0,"score":"27327273245","product_id":100023901,"comment_content":"æœåŠ¡ä¸‹çº¿äº†ï¼Œå¦‚æœæ•°æ®ä¸ä¸€è‡´ï¼Œä¼šä¸ä¼šæœ‰è¯·æ±‚å‘åˆ°ä¸‹çº¿äº†çš„æœåŠ¡å™¨","like_count":6,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449629,"discussion_content":"rpcçš„å®¢æˆ·ç«¯å’ŒæœåŠ¡æä¾›ç«¯ä¼šå»ºç«‹ä¸€ä¸ªé•¿è¿æ¥ï¼Œå®šæ—¶å‘å¿ƒè·³ï¼Œå¹¶ä¸å®Œå…¨ä¾èµ–æ³¨å†Œä¸­å¿ƒçš„æ•°æ®ã€‚å¾ˆå¤šrpcçš„æœåŠ¡ç«¯æä¾›äº†æ‰‹åŠ¨ä¸‹çº¿åŠŸèƒ½ï¼Œèƒ½è§£å†³ä½ è¯´çš„è¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557643492,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1580185,"avatar":"https://static001.geekbang.org/account/avatar/00/18/1c/99/5e1a2118.jpg","nickname":"mylife","note":"","ucode":"D802160BFB29FC","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591690,"discussion_content":"ä¸ªäººç†è§£ï¼šå®¢æˆ·ç«¯æœ‰é‡è¯•åŠŸèƒ½ï¼Œå°±ç®—åˆ†é…çš„å·²ç»ä¸‹çº¿ï¼Œä¼šé‡è¯•é€‰æ‹©å¦å¤–çš„èŠ‚ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666768319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137143,"user_name":"DFighting","can_delete":false,"product_type":"c1","uid":1233193,"ip_address":"","ucode":"F3BA2426FF8582","user_header":"https://static001.geekbang.org/account/avatar/00/12/d1/29/1b1234ed.jpg","comment_is_top":false,"comment_ctime":1569635219,"is_pvip":true,"replies":[{"id":"52705","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":137143,"uid":"1269969","ip_address":"","utype":1,"ctime":1569666993,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":1,"race_medal":0,"score":"23044471699","product_id":100023901,"comment_content":"ä¸»è¦æ˜¯ArrayListçš„æ•°æ®å­˜å‚¨æ˜¯æ•°ç»„ï¼Œå¤åˆ¶å¯èƒ½åªéœ€è¦ç§»åŠ¨ä¸€ä¸ªå†…å­˜é¡µæˆ–è€…å¤šä¸ªè¿ç»­çš„å†…å­˜ç©ºé—´å°±å¯ä»¥ï¼Œè€Œä¸”æ•°ç»„åœ¨å¤åˆ¶çš„æ—¶å€™æ˜¯çŸ¥é“æ•°æ®é›†çš„å¤§å°çš„(åŠ¨æ€æ‰©å®¹åä¹Ÿè¿˜æ˜¯æ•°ç»„ï¼Œåªæ˜¯é¢„å…ˆç”³è¯·äº†ä¸€äº›æœªæ¥ä½¿ç”¨çš„ç©ºé—´)ï¼Œè€ŒLinkdListåº•å±‚å®ç°ä¸ºä½¿ç”¨Node&lt;?&gt;é“¾è¡¨ï¼Œå­˜å‚¨ä½ç½®åˆ†æ•£ä¸”å¤§å°ä¸å¯æ§ï¼Œå¦‚æœä½¿ç”¨COWå¯èƒ½ä¼šé€‚å¾—å…¶åã€‚è¿™åº”è¯¥ä¹Ÿæ˜¯ä¸€ç§ç”¨ç©ºé—´æ¢æ—¶é—´çš„ç­–ç•¥å§ã€‚è¿™ä¹ˆæ¥çœ‹ï¼Œé™¤éäº‹å…ˆé™å®šäº†æ•°æ®çš„å­˜å‚¨åŒºåŸŸï¼Œä¸ç„¶ç”¨COWè¿˜æ˜¯æ•°ç»„æ–¹ä¾¿äº›å§ã€‚","like_count":5,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468956,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569666993,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241612,"user_name":"ä¸è·¯åŒé£","can_delete":false,"product_type":"c1","uid":1138821,"ip_address":"","ucode":"2985F1440A1962","user_header":"https://static001.geekbang.org/account/avatar/00/11/60/85/f72f1d94.jpg","comment_is_top":false,"comment_ctime":1597370836,"is_pvip":true,"replies":[{"id":"89238","content":"ğŸ‘ğŸ»","user_name":"ä½œè€…å›å¤","comment_id":241612,"uid":"1269969","ip_address":"","utype":1,"ctime":1597413552,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":1,"race_medal":0,"score":"18777240020","product_id":100023901,"comment_content":"redisä¸­çš„å¿«ç…§rdbå¤åˆ¶ä¹Ÿæ˜¯åŸºäºCOWçš„","like_count":4,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503789,"discussion_content":"ğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597413552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91284,"user_name":"ban","can_delete":false,"product_type":"c1","uid":1034204,"ip_address":"","ucode":"E523CE97E48266","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c7/dc/9408c8c2.jpg","comment_is_top":false,"comment_ctime":1556964157,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18736833341","product_id":100023901,"comment_content":"ä¸€ç§æ˜¯é€šè¿‡æ›´æ–° Router çš„ä¸€ä¸ªçŠ¶æ€ä½æ¥æ ‡è¯†ï¼Œå¦‚æœè¿™æ ·åšï¼Œé‚£ä¹ˆæ‰€æœ‰è®¿é—®è¯¥çŠ¶æ€ä½çš„åœ°æ–¹éƒ½éœ€è¦åŒæ­¥è®¿é—®ï¼Œè¿™æ ·å¾ˆå½±å“æ€§èƒ½ã€‚<br><br>è€å¸ˆå¥½ï¼Œè¿™å¥è¯çš„æ„æ€æ²¡æ€ä¹ˆçœ‹æ‡‚ï¼Œæˆ‘ç†è§£çš„æ˜¯routeå¦‚æœä¸‹çº¿åæ›´æ–°çŠ¶æ€æ ‡è¯†ï¼Œæ‰€ä»¥æ¯æ¬¡è°ƒç”¨çš„æ—¶å€™éƒ½éœ€è¦éå†æ‰€ä»¥routeèŠ‚ç‚¹ï¼Œåˆ¤æ–­æ¯ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€æ¥åˆ¤æ–­æ˜¯å¦ä¸‹çº¿ï¼Œæ‰€ä»¥æ¯”è¾ƒæ¶ˆè€—æ€§èƒ½çš„æ„æ€å—ï¼Ÿæ‰€ä»¥æ”¹æˆæ–¹æ³•äºŒåªè¦ä¸‹çº¿å³åˆ é™¤æ”¹routeèŠ‚ç‚¹ï¼Œè°ƒç”¨çš„æ—¶å€™ä¸éœ€è¦åˆ¤æ–­ï¼Œåªè¦è·¯ç”±è¡¨æŸ¥åˆ°å³ç®—éƒ½æ˜¯ä¸Šçº¿çŠ¶æ€ã€‚<br><br>","like_count":4},{"had_liked":false,"id":136515,"user_name":"é™æ°´æµæ·±","can_delete":false,"product_type":"c1","uid":1339724,"ip_address":"","ucode":"644F05EFBD2E7B","user_header":"https://static001.geekbang.org/account/avatar/00/14/71/4c/2cefec07.jpg","comment_is_top":false,"comment_ctime":1569462306,"is_pvip":false,"replies":[{"id":"52325","content":"ğŸ˜‚","user_name":"ä½œè€…å›å¤","comment_id":136515,"uid":"1269969","ip_address":"","utype":1,"ctime":1569464226,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":1,"race_medal":0,"score":"10159396898","product_id":100023901,"comment_content":"å¤§å¸ˆå¥½ä¸å®¹æ˜“å†™äº†ä¸ªCopyOnWriteArrayListï¼Œå†å†™ä¸€ä¸ªCopyOnWriteLinkedList ä»–è§‰å¾—æ²¡å¿…è¦ã€‚ä»–ä¹Ÿç´¯ï¼šï¼‰<br><br>","like_count":3,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468678,"discussion_content":"ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569464226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91967,"user_name":"å¼ ä¸‰","can_delete":false,"product_type":"c1","uid":1004092,"ip_address":"","ucode":"1155528FAE1546","user_header":"https://static001.geekbang.org/account/avatar/00/0f/52/3c/d6fcb93a.jpg","comment_is_top":false,"comment_ctime":1557145971,"is_pvip":false,"replies":[{"id":"34439","content":"éƒ½æœ‰","user_name":"ä½œè€…å›å¤","comment_id":91967,"uid":"1269969","ip_address":"","utype":1,"ctime":1558358974,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":1,"race_medal":0,"score":"10147080563","product_id":100023901,"comment_content":"ä¸Šä¸€ç¯‡è¯´åŒ…è£…ç±»å‹ã€String æ˜¯äº«å…ƒæ¨¡å¼ï¼Œè¿™ç¯‡è¯´æ˜¯Copy-on-Writeï¼Œæ˜¯ä¸¤ç§æ¨¡å¼éƒ½æœ‰å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449098,"discussion_content":"éƒ½æœ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558358974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91213,"user_name":"Darren","can_delete":false,"product_type":"c1","uid":1254968,"ip_address":"","ucode":"CCD2B2C492BE9A","user_header":"https://static001.geekbang.org/account/avatar/00/13/26/38/ef063dc2.jpg","comment_is_top":false,"comment_ctime":1556931400,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10146865992","product_id":100023901,"comment_content":"LinkedList åœ¨å¤åˆ¶æ—¶ï¼Œå› ä¸ºå…¶åŒ…å«å‰åèŠ‚ç‚¹åœ°å€ï¼Œæ¯ä¸ªèŠ‚ç‚¹éœ€è¦å»åˆ›å»ºï¼Œæˆæœ¬æ¯”è¾ƒé«˜ï¼Œæ‰€ä»¥å¾ˆå°‘æˆ–è€…æ²¡æœ‰å†™æ—¶å¤åˆ¶çš„Linked ç»“æ„å§","like_count":2},{"had_liked":false,"id":274524,"user_name":"å‘†ç“œ","can_delete":false,"product_type":"c1","uid":1655940,"ip_address":"","ucode":"C98C7B224D0640","user_header":"https://static001.geekbang.org/account/avatar/00/19/44/84/4da14994.jpg","comment_is_top":false,"comment_ctime":1611047004,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5906014300","product_id":100023901,"comment_content":"æ•°ç»„å­˜å‚¨åœ¨è¿ç»­å†…å­˜,è¿ç»­å†…å­˜æ›´æœ‰åˆ©äºCPUåŠ è½½å’Œç¼“å­˜,ç‰¹ç‚¹æ˜¯å¢åˆ æ…¢,è¯»å–å¿«;<br>é“¾è¡¨æ•°æ®ç»“æ„å­˜å‚¨åœ¨åˆ†æ•£å†…å­˜,ç‰¹ç‚¹æ˜¯å¢åˆ å¿«,è¯»å–æ…¢;<br>é“¾è¡¨ç»“æ„çš„è®¾è®¡åˆè¡·å°±æ˜¯ç”¨äºå¢åˆ é¢‘ç¹,è¯»å–å°‘çš„åœºæ™¯;<br>CopyOnWriteä½¿ç”¨åœºæ™¯:è¦æ±‚è¯»å–æ€§èƒ½é«˜,è¯»å–å¤š,ä¿®æ”¹å°‘;<br>äºŒè€…è®¾è®¡ç†å¿µç›¸è¿èƒŒ,æ‰€ä»¥å­˜åœ¨CopyOnWriteArrayList,è€Œä¸å­˜åœ¨CopyOnWriteLinkedList","like_count":1},{"had_liked":false,"id":195518,"user_name":"Mr.wang","can_delete":false,"product_type":"c1","uid":1224805,"ip_address":"","ucode":"86F341A5316BBC","user_header":"https://static001.geekbang.org/account/avatar/00/12/b0/65/90387745.jpg","comment_is_top":false,"comment_ctime":1585193203,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"5880160499","product_id":100023901,"comment_content":"ArrayListå’ŒLinkedListçš„åŒºåˆ«å°±æ˜¯ArrayListåº•å±‚çš„æ•°æ®ç»“æ„æ˜¯æ•°ç»„å®ç°ï¼Œè€ŒLinkedListçš„åº•å±‚æ˜¯åŒç«¯é“¾è¡¨å®ç°ã€‚ä¸¤è€…é€‚å®œä½¿ç”¨çš„åœºæ™¯æ˜¯ï¼ŒArrayListå¤šç”¨äºæŸ¥è¯¢ï¼Œè€ŒLinkedListå¤šç”¨äºå¢åŠ å’Œåˆ é™¤çš„åœºæ™¯ä¸­ï¼ŒCopyAndWriteçš„ä½¿ç”¨åœºæ™¯ä¸»è¦æ˜¯æŸ¥è¯¢å¤§äºæ–°å¢å’Œåˆ é™¤çš„åœºæ™¯ã€‚","like_count":1},{"had_liked":false,"id":166082,"user_name":"Monday","can_delete":false,"product_type":"c1","uid":1250907,"ip_address":"","ucode":"77B9BACC783598","user_header":"https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg","comment_is_top":false,"comment_ctime":1577378197,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5872345493","product_id":100023901,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®ï¼šå¦‚æ¡ˆä¾‹ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä¸€ä¸ªæœåŠ¡æä¾›æ–¹åº”è¯¥æä¾›å¤šä¸ªæ¥å£ï¼Œæ˜¯å¯¹åº”å¤šä¸ªRouterå¯¹è±¡ï¼Ÿæ‰€ä»¥ä¸€ä¸ªæœåŠ¡æä¾›æ–¹ä¸Š&#47;ä¸‹çº¿ï¼Œåº”è¯¥ä¼šå¾ªç¯è°ƒç”¨å¤šæ¬¡add&#47;removeæ–¹æ³•ï¼Ÿ","like_count":1},{"had_liked":false,"id":141000,"user_name":"1620","can_delete":false,"product_type":"c1","uid":1104310,"ip_address":"","ucode":"C9222A5CE4723C","user_header":"https://static001.geekbang.org/account/avatar/00/10/d9/b6/4c498c17.jpg","comment_is_top":false,"comment_ctime":1571102080,"is_pvip":false,"replies":[{"id":"54568","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":141000,"uid":"1269969","ip_address":"","utype":1,"ctime":1571113155,"user_name_real":"ç‹å®ä»¤"}],"discussion_count":1,"race_medal":0,"score":"5866069376","product_id":100023901,"comment_content":"æ•°ç»„åœ¨å†…å­˜åœ°å€æ˜¯è¿ç»­çš„ï¼Œå¤©ç„¶é€‚åˆcopyï¼Œé“¾è¡¨æ˜¯åˆ†æ•£çš„ã€‚","like_count":1,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470647,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571113155,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101035,"user_name":"å…­ç»´","can_delete":false,"product_type":"c1","uid":1022887,"ip_address":"","ucode":"EB1C15AC06A8DF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9b/a7/440aff07.jpg","comment_is_top":false,"comment_ctime":1559703800,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5854671096","product_id":100023901,"comment_content":"Copy-on-Writeæ–¹æ¡ˆæ˜¯é€‚åˆè¯»å¤šå†™å°‘çš„åœºæ™¯ï¼Œè€ŒLinkedListè¯»å–çš„æ€§èƒ½ä¸é«˜ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯æ²¡æœ‰æä¾›CopyOnWriteLinkedListçš„ä¸»è¦åŸå› ã€‚<br>","like_count":1},{"had_liked":false,"id":95421,"user_name":"æ±¡åä¾¦æ¢","can_delete":false,"product_type":"c1","uid":1049154,"ip_address":"","ucode":"D9C4D175E5EF7B","user_header":"https://static001.geekbang.org/account/avatar/00/10/02/42/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1558055021,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5853022317","product_id":100023901,"comment_content":" é¦–å…ˆCopyOnWriteLinkedList å¯ä»¥åšåˆ†æ®µé”ï¼Œå¹¶ä¸”æ€§èƒ½å¾ˆé«˜ã€‚å…¶æ¬¡ï¼Œå¤åˆ¶æ€§èƒ½æ²¡æœ‰æ•°ç»„æ¥çš„å¿«ã€‚","like_count":1},{"had_liked":false,"id":95199,"user_name":"Vincent","can_delete":false,"product_type":"c1","uid":1135159,"ip_address":"","ucode":"CD8B84A57A6A0C","user_header":"https://static001.geekbang.org/account/avatar/00/11/52/37/13b4c8aa.jpg","comment_is_top":false,"comment_ctime":1557983097,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5852950393","product_id":100023901,"comment_content":"æ—¢ç„¶è¯»å¤šå†™å°‘ï¼Œè¯´æ˜æ•°æ®ç»“æ„å˜æ›´é¢‘ç‡å¾ˆå°‘ã€‚é‚£ä¹ˆæ•°ç»„ç»“æ„é€‚åˆè¿™ä¸ªåœºæ™¯ï¼Œé“¾è¡¨æ˜¯é€‚åˆå†™å¤šçš„åœºæ™¯","like_count":1},{"had_liked":false,"id":93966,"user_name":"å¤šè¥„ä¸¸","can_delete":false,"product_type":"c1","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1557678948,"is_pvip":false,"replies":[{"id":"33664","content":"æ„Ÿè°¢æ§åœºğŸ˜‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1557756338,"ip_address":"","comment_id":93966,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5852646244","product_id":100023901,"comment_content":"Sting Long â€¦ å±…ç„¶å¯ä»¥å’ŒCoWã€Lockè”ç³»èµ·æ¥!<br><br>è·Ÿç€è€å¸ˆé»˜é»˜ä¿®è¡Œ!<br><br>å¸Œæœ›è¿™ä¸ªä¸“æ æ°¸è¿œä¸è¦åœ!<br>èƒ½å¸Œæœ›èƒ½ä¸€ç›´çœ‹åˆ°è€å¸ˆå†™çš„ä¸“æ !","like_count":1,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449848,"discussion_content":"æ„Ÿè°¢æ§åœºğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557756338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91380,"user_name":"å‘¨æ²»æ…§","can_delete":false,"product_type":"c1","uid":1335293,"ip_address":"","ucode":"7D56C4E66BEE17","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKR3ibELhjgVicCNShZCBwvaDxibnzibggG4wUzVkS2mkDxUBZyIs87nDEdJ7PiahJBVoZcuhQ84RxAziag/132","comment_is_top":false,"comment_ctime":1557019783,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5851987079","product_id":100023901,"comment_content":"æœ¬è´¨å°±æ˜¯æ•°ç»„æŸ¥è¯¢å—å¢åˆ æ…¢ï¼Œé“¾è¡¨å¢åˆ å—æŸ¥è¯¢æ…¢ã€‚copyandwriteæœ¬è´¨å°±æ˜¯è¯»å¤šå†™å°‘å³æŸ¥è¯¢å¤šå¢åˆ å°‘çš„ä¸€ä¸ªè¿‡ç¨‹æ‰€ä»¥æ•°ç»„æ›´åŠ åˆé€‚","like_count":1},{"had_liked":false,"id":344397,"user_name":"å®¢èˆŸå¬é›¨æ¥coding","can_delete":false,"product_type":"c1","uid":1026219,"ip_address":"","ucode":"753F4B779CC416","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a8/ab/5d25cd32.jpg","comment_is_top":false,"comment_ctime":1651506945,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1651506945","product_id":100023901,"comment_content":"1ã€é“¾è¡¨å›æ”¶å®¹æ˜“å‡ºç°å†…å­˜ç¢ç‰‡ï¼Œæ•°ç»„ä¸é‚£ä¹ˆå®¹æ˜“ï¼›cowä¼šå¯¼è‡´é¢‘ç¹å›æ”¶é“¾è¡¨å æœ‰çš„å†…å­˜ç©ºé—´ï¼Œå®¹æ˜“å‡ºç°å¾ˆå¤šå†…å­˜ç¢ç‰‡ã€‚<br><br>2ã€é“¾è¡¨è¯»æ€§èƒ½å·®ï¼Œæ•°ç»„è¯»æ€§èƒ½é«˜ï¼›cowæ¨¡å¼æ˜¯ç”¨äºå¯¹è¯»æ€§èƒ½è¦æ±‚é«˜çš„åœºæ™¯ï¼Œä¸é€‚åˆã€‚","like_count":0},{"had_liked":false,"id":312607,"user_name":"cake","can_delete":false,"product_type":"c1","uid":1966533,"ip_address":"","ucode":"55A7FC6CC1204C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/01/c5/b48d25da.jpg","comment_is_top":false,"comment_ctime":1631889544,"is_pvip":false,"replies":[{"id":"113649","content":"è¿™é‡ŒçœŸä¸æ˜¯å› ä¸ºå»¶è¿ŸåŸå› è€Œé‡‡ç”¨çš„ï¼Œæ›´å¤šå¤„äºä¸€è‡´æ€§åŸå› ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1632745299,"ip_address":"","comment_id":312607,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631889544","product_id":100023901,"comment_content":"ä¸æ˜¯å»¶æ—¶ç­–ç•¥çš„COW è€å¸ˆè¯·é—®ä¸‹è¿™ä¸ªæ ‡é¢˜æ€ä¹ˆ ç†è§£å‘¢ï¼Œ cowä¸å°±æ˜¯å»¶æ—¶ç­–ç•¥ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527045,"discussion_content":"è¿™é‡ŒçœŸä¸æ˜¯å› ä¸ºå»¶è¿ŸåŸå› è€Œé‡‡ç”¨çš„ï¼Œæ›´å¤šå¤„äºä¸€è‡´æ€§åŸå› ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632745299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300625,"user_name":"ç‹æˆî”“","can_delete":false,"product_type":"c1","uid":1441460,"ip_address":"","ucode":"29765BBCD3B8B2","user_header":"https://static001.geekbang.org/account/avatar/00/15/fe/b4/6902ac00.jpg","comment_is_top":false,"comment_ctime":1625278015,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625278015","product_id":100023901,"comment_content":"çœ‹åˆ°å¤§å®¶çš„è¯„è®ºï¼Œçªç„¶æƒ³èµ·æœ€è¿‘å·¥ä½œä¸­çš„ä¸€ä¸ªé—®é¢˜ï¼Œéœ€è¦ä¸€ä¸ªå®¹å™¨ï¼Œæ”¯æŒå¹¶å‘ï¼Œå†™å¤šï¼Œæœ‰ä¸€ä¸ªæ¸…ç©ºæ“ä½œå¹¶è¿”å›æ‰€æœ‰å€¼<br>å‘ç°å¥½åƒå¯ä»¥å®Œç¾çš„ä½¿ç”¨åŸºäºé“¾è¡¨è®¾è®¡çš„å®¹å™¨","like_count":0},{"had_liked":false,"id":291575,"user_name":"M","can_delete":false,"product_type":"c1","uid":1810576,"ip_address":"","ucode":"06F26E1D62E9C9","user_header":"https://wx.qlogo.cn/mmopen/vi_32/eLNeJNaEkwGSK7xvtamMibVLMy2MpbIqX3iaEhT7JtSnTRMRTwZ2j4HX7WAapiashbiaBDVriaXKSP0Oeic6ZAEVEXag/132","comment_is_top":false,"comment_ctime":1620371561,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620371561","product_id":100023901,"comment_content":"CopyOnWriteLinkedListæ˜¯é“¾è¡¨ç»“æ„çš„ï¼Œé“¾è¡¨çš„ç‰¹æ€§ï¼Œå¢åˆ å¿«æŸ¥è¯¢æ…¢ã€‚<br>è€ŒCopy-on-Writeçš„åœºæ™¯æ˜¯è¯»å¤šå†™å°‘ï¼Œä¹Ÿå°±æ˜¯æŸ¥è¯¢å¿«çš„ï¼Œæ‰€ä»¥arrayListæ•°ç»„ç»“æ„æ¯”è¾ƒé€‚åˆ","like_count":0},{"had_liked":false,"id":284215,"user_name":"å¼ ç”³å‚²","can_delete":false,"product_type":"c1","uid":1182372,"ip_address":"","ucode":"22D46BC529BA8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/0a/a4/828a431f.jpg","comment_is_top":false,"comment_ctime":1616124046,"is_pvip":true,"replies":[{"id":"103114","content":"ğŸ‘ğŸ»","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1616156587,"ip_address":"","comment_id":284215,"utype":1}],"discussion_count":1,"race_medal":2,"score":"1616124046","product_id":100023901,"comment_content":"Redis çš„ bgsave è¿‡ç¨‹ä¹Ÿé‡‡ç”¨äº† COW æ¨¡å¼ï¼šå­è¿›ç¨‹ç”Ÿæˆ rdb å¿«ç…§çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä¸»è¿›ç¨‹ä¿®æ”¹äº†æŸä»½æ•°æ®ï¼Œé‚£ä¹ˆè¿™ä»½æ•°æ®ä¼šç”Ÿæˆä¸€ä»½å‰¯æœ¬ï¼Œå­è¿›ç¨‹ä¼šæŠŠè¿™ä¸ªå‰¯æœ¬å†™å…¥ rdb å¿«ç…§ä¸­ã€‚è¿™æ ·åŸºäº COW æ¨¡å¼ï¼Œä¿è¯äº†Redis åœ¨ç”Ÿæˆ rdb å¿«ç…§çš„è¿‡ç¨‹ä¸­ä»ç„¶èƒ½å¤Ÿæä¾›å†™æœåŠ¡ã€‚","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517271,"discussion_content":"ğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616156587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283160,"user_name":"ä¿ºèƒ½å­¦ä¸ªå•¥","can_delete":false,"product_type":"c1","uid":1026742,"ip_address":"","ucode":"30740C5B58774C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/aa/b6/46a5bbf3.jpg","comment_is_top":false,"comment_ctime":1615601252,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615601252","product_id":100023901,"comment_content":"é€‰ç”¨é“¾è¡¨çš„å‰æå°±æ˜¯è€ƒè™‘è¯»å°‘å†™å¤šçš„åœºæ™¯ï¼Œè€ŒCOWæ˜¯ä¸ºäº†åº”å¯¹è¯»å¤šå†™å°‘ï¼ŒäºŒè€…ç†å¿µç›¸è¿èƒŒ","like_count":0},{"had_liked":false,"id":272242,"user_name":"prepared","can_delete":false,"product_type":"c1","uid":1194853,"ip_address":"","ucode":"00E54A5C7CDCBE","user_header":"https://static001.geekbang.org/account/avatar/00/12/3b/65/3a4fc8cf.jpg","comment_is_top":false,"comment_ctime":1610003011,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610003011","product_id":100023901,"comment_content":"ä¸ºä»€ä¹ˆæ²¡æœ‰æä¾› CopyOnWriteLinkedList ï¼Ÿ<br>å› ä¸ºè¦é€‚ç”¨ è¯»å¤šå†™å°‘çš„ åœºæ™¯ï¼Œè¯»å–æ€§èƒ½è¦æ±‚é«˜ã€‚<br>è€Œé“¾è¡¨è¯»å–çš„æ€§èƒ½ä¸é«˜ï¼Œæ— æ³•éšæœºè¯»å–","like_count":0},{"had_liked":false,"id":269427,"user_name":"worm","can_delete":false,"product_type":"c1","uid":1504178,"ip_address":"","ucode":"9B4F745BC44740","user_header":"https://static001.geekbang.org/account/avatar/00/16/f3/b2/1ce2ae4d.jpg","comment_is_top":false,"comment_ctime":1608642544,"is_pvip":false,"replies":[{"id":"98587","content":" CopyOnWriteArraySetåœ¨ä¿®æ”¹çš„æ—¶å€™ä¼šè‡ªåŠ¨å¤åˆ¶","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1609844716,"ip_address":"","comment_id":269427,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1608642544","product_id":100023901,"comment_content":"å¢åŠ è·¯ç”±çš„é‚£ä¸ªæ–¹æ³•æ„Ÿè§‰å¥½åƒæœ‰é—®é¢˜ï¼Œæ¯æ¬¡éƒ½ä¼šnew CopyOnWriteArraySet,ä½†æ˜¯æ²¡æœ‰æŠŠåŸæ¥CopyOnWriteArraySeté‡Œçš„å€¼å¤åˆ¶è¿›å»ï¼Œåªæ˜¯å•ç‹¬å¢åŠ äº†ä¸€ä¸ªæ–°routerå•Šï¼Œè¿˜æ˜¯æˆ‘ç†è§£æœ‰è¯¯","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512269,"discussion_content":" CopyOnWriteArraySetåœ¨ä¿®æ”¹çš„æ—¶å€™ä¼šè‡ªåŠ¨å¤åˆ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609844716,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":253751,"user_name":"å¤œæ¶›","can_delete":false,"product_type":"c1","uid":1507783,"ip_address":"","ucode":"672CC53663710B","user_header":"https://static001.geekbang.org/account/avatar/00/17/01/c7/549b5616.jpg","comment_is_top":false,"comment_ctime":1602853192,"is_pvip":true,"replies":[{"id":"92724","content":"ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1602910916,"ip_address":"","comment_id":253751,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1602853192","product_id":100023901,"comment_content":"LinkedListåˆ†é…çš„å†…å­˜ä¸è¿ç»­ï¼Œè¯»å†™æ“ä½œæ€§èƒ½ä¸é«˜ï¼ŒArrayListå¤åˆ¶ä¸€æ¬¡å¤åˆ¶ä¸€ä¸ªåœ°å€å—ï¼Œé‚£ä¹ˆLinkedListå°±è¦å¤åˆ¶Nä¸ªï¼Œè¿˜è¦ä¸€ä¸ªä¸ªå»æ‰¾ï¼Œä¸é€‚åˆå¹¶å‘åœºæ™¯","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507166,"discussion_content":"ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602910916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":250338,"user_name":"ä¸è·¯åŒé£","can_delete":false,"product_type":"c1","uid":1138821,"ip_address":"","ucode":"2985F1440A1962","user_header":"https://static001.geekbang.org/account/avatar/00/11/60/85/f72f1d94.jpg","comment_is_top":false,"comment_ctime":1601030004,"is_pvip":true,"replies":[{"id":"92658","content":"å› ä¸ºè¯»æ›´å¿«å§","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1602845844,"ip_address":"","comment_id":250338,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1601030004","product_id":100023901,"comment_content":"è€å¸ˆå¥½ã€‚å¥½å¤šå¼€æºé¡¹ç›®è¿™æ ·å†™ã€‚æˆ‘çŸ¥é“æ˜¯åŸºäºCOWï¼ŒMap&lt;String, Object&gt; newMap = new HashMap&lt;&gt;(oldMap.size() + 1);<br>newMap.putAll(oldMap);<br>oldMap = newMapã€‚ä½†æ˜¯ä¸ºå•¥ä¸ç”¨concurrentHashMapå‘¢","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506190,"discussion_content":"å› ä¸ºè¯»æ›´å¿«å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602845844,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":234804,"user_name":"THROW","can_delete":false,"product_type":"c1","uid":1112141,"ip_address":"","ucode":"A3C089A8F5F941","user_header":"https://static001.geekbang.org/account/avatar/00/10/f8/4d/4b748ff1.jpg","comment_is_top":false,"comment_ctime":1594799837,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594799837","product_id":100023901,"comment_content":"Routerçš„ä¾‹å­ï¼Œå¦‚æœçº¿ç¨‹Aå…ˆè¯»å–äº†Set&lt;Router&gt;çš„å¤§å°å¹¶è¿›è¡Œéå†ï¼Œè¿™æ—¶çº¿ç¨‹B removeäº†ä¸€ä¸ªå…ƒç´ ï¼Œé‚£çº¿ç¨‹Aä¸æ˜¯å°±æŠ¥æ•°ç»„ä¸‹æ ‡è¶Šç•Œå¼‚å¸¸äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":224252,"user_name":"sky","can_delete":false,"product_type":"c1","uid":1008071,"ip_address":"","ucode":"9FE5F43055D3AB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/61/c7/b64ac05e.jpg","comment_is_top":false,"comment_ctime":1591323843,"is_pvip":false,"replies":[{"id":"82610","content":"è·¯ç”±è¡¨æœ‰éå†æ“ä½œï¼Œä¸ä»…ä»…æ˜¯è¯»æœŸä¸­ä¸€ä¸ªå…ƒç´ ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1591414444,"ip_address":"","comment_id":224252,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1591323843","product_id":100023901,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œå¯¹äºè·¯ç”±è¡¨åœºæ™¯ï¼Œå®æ—¶æ€§è¦æ±‚ä¸é«˜ï¼Œé‚£ä¹ˆç”¨æ™®é€šçš„hashset æ˜¯ä¼šæœ‰å¹¶å‘å†™çš„é—®é¢˜ä¹ˆï¼Ÿå¦‚æœæ˜¯åªå¯¹å†™åŠ ä¸ªé”æ˜¯ä¸æ˜¯å°±å¯ä»¥äº†ï¼Œä¹Ÿä¸ç”¨å¤åˆ¶å…ƒç´ ï¼Œè¯»ä¸åŠ é”ï¼Œæ€§èƒ½ä¼šå·®ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497413,"discussion_content":"è·¯ç”±è¡¨æœ‰éå†æ“ä½œï¼Œä¸ä»…ä»…æ˜¯è¯»æœŸä¸­ä¸€ä¸ªå…ƒç´ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591414444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214446,"user_name":"man1s","can_delete":false,"product_type":"c1","uid":1466953,"ip_address":"","ucode":"FFDB6B52F65A1B","user_header":"https://static001.geekbang.org/account/avatar/00/16/62/49/6332c99b.jpg","comment_is_top":false,"comment_ctime":1588750991,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588750991","product_id":100023901,"comment_content":"å¥½å¤šçš„èµ„æ–™ä¸Šè¯´cowéƒ½åªè¯´å‰¯æœ¬æ€ä¹ˆå‡ºæ¥çš„ï¼Œå¯æ˜¯è¿™ä¸ªå‰¯æœ¬ä¿®æ”¹åä¼šä¸ä¼šmergeåˆ°åŸæ•°æ®ä¸Šï¼Œæ¯”å¦‚å½“å­è¿›ç¨‹killä¹‹å","like_count":0},{"had_liked":false,"id":204292,"user_name":"å¥³å·«åœ¨å¯’æ±Ÿ","can_delete":false,"product_type":"c1","uid":1013180,"ip_address":"","ucode":"B3707072224C1C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/bc/664bbdf7.jpg","comment_is_top":false,"comment_ctime":1586360634,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1586360634","product_id":100023901,"comment_content":"CopyOnWriteå¤§å¤šæ˜¯ç”¨äºè¯»å¤šå†™å°‘ï¼Œå¯¹è¯»æ€§èƒ½è¦æ±‚æ¯”è¾ƒé«˜çš„åœºæ™¯ï¼›CopyOnWriteArrayListå¯ä»¥æ»¡è¶³éšæœºè¯»å–ï¼Œæœ€å¥½çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œ  CopyOnWriteLinkedListåˆ™éœ€éå†æ‰èƒ½è¯»å–ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)","like_count":0},{"had_liked":false,"id":200651,"user_name":"å‰å®³äº†æˆ‘çš„å›½","can_delete":false,"product_type":"c1","uid":1052191,"ip_address":"","ucode":"CD0A54A1B998AA","user_header":"https://static001.geekbang.org/account/avatar/00/10/0e/1f/d0472177.jpg","comment_is_top":false,"comment_ctime":1585629322,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585629322","product_id":100023901,"comment_content":"é“¾è¡¨ä¸è¿ç»­ï¼Œåº•å±‚æ‹·è´æ…¢","like_count":0},{"had_liked":false,"id":176434,"user_name":"ä¸‰å¹´è¿‡å","can_delete":false,"product_type":"c1","uid":1283157,"ip_address":"","ucode":"5E9106C5F11BED","user_header":"https://static001.geekbang.org/account/avatar/00/13/94/55/afc64956.jpg","comment_is_top":false,"comment_ctime":1581060252,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581060252","product_id":100023901,"comment_content":"CopyOnWriteLinkedList æ˜¾ç„¶åº•å±‚æ˜¯é€šè¿‡é“¾è¡¨å®ç°ã€‚é“¾è¡¨å­˜å‚¨çš„æ•°æ®ç»“æ„æ˜¯é›¶æ•£çš„ï¼Œå¯¹äºcpuç¼“å­˜æ˜¯ä¸å‹å¥½çš„ï¼Œåœ¨è¯»å¤šå†™å°‘çš„åœºæ™¯ä¸‹ï¼Œå½±å“è¯»æ€§èƒ½çš„å®¹å™¨é›†åˆï¼Œä¹Ÿå°±æ²¡æœ‰å¼€æ”¾çš„æ„ä¹‰ã€‚","like_count":0},{"had_liked":false,"id":163809,"user_name":"LoveDlei","can_delete":false,"product_type":"c1","uid":1102916,"ip_address":"","ucode":"68065848DF518B","user_header":"https://static001.geekbang.org/account/avatar/00/10/d4/44/ec084136.jpg","comment_is_top":false,"comment_ctime":1576805521,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576805521","product_id":100023901,"comment_content":"COWæ€æƒ³æ˜¯å¦å¯ä»¥åœ¨å¤šçº¿ç¨‹ä¸‹ä¸ä½¿ç”¨é”ä¿è¯hashmapçº¿ç¨‹å®‰å…¨ï¼Ÿ","like_count":0},{"had_liked":false,"id":159453,"user_name":"äº®","can_delete":false,"product_type":"c1","uid":1031695,"ip_address":"","ucode":"4F8B9F5ABA2D52","user_header":"https://static001.geekbang.org/account/avatar/00/0f/be/0f/82db5e65.jpg","comment_is_top":false,"comment_ctime":1575626641,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1575626641","product_id":100023901,"comment_content":"è¯·é—®ä¸‹ï¼ŒRouterTableè¿™ä¸ªç±»ï¼Œçº¿ç¨‹å®‰å…¨å—ï¼Ÿæ„Ÿè§‰removeæ–¹æ³•ä¸å®‰å…¨","like_count":0,"discussions":[{"author":{"id":1335293,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKR3ibELhjgVicCNShZCBwvaDxibnzibggG4wUzVkS2mkDxUBZyIs87nDEdJ7PiahJBVoZcuhQ84RxAziag/132","nickname":"å‘¨æ²»æ…§","note":"","ucode":"7D56C4E66BEE17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161011,"discussion_content":"è¿™ä¸ªåœ°æ–¹å†™çš„æ˜¯æœ‰é—®é¢˜çš„,addå’Œremoveéƒ½æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„,removeå¹¶å‘ä¸‹å°±ç©ºæŒ‡é’ˆå¼‚å¸¸äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580862848,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149106,"user_name":"Joker","can_delete":false,"product_type":"c1","uid":1156592,"ip_address":"","ucode":"126AF848001A1E","user_header":"https://static001.geekbang.org/account/avatar/00/11/a5/f0/8648c464.jpg","comment_is_top":false,"comment_ctime":1573142010,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573142010","product_id":100023901,"comment_content":"ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦è¿›è¡Œä¸€æ¬¡å¢åŠ ï¼Œæ¯”å¦‚åœ¨æŸä¸ªä½ç½®å¢åŠ æŸç»™å€¼ã€‚<br>å¦‚æœæ˜¯æ•°ç»„çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œæ•°æ®æ¬ç§»æ“ä½œï¼Œè¿™æ— ç–‘éœ€è¦æ¶‰åŠåˆ°æ•´ä¸ªæ•°ç»„åˆ«çš„ä½ç½®çš„æ“ä½œï¼Œå¦‚æœä½ æ˜¯åœ¨ç¬¬ä¸€ä¸ªä½ç½®æ’å…¥ï¼Œé‚£ä¹ˆå°±è¦æ¬ç§»æ•´ä¸ªæ•°ç»„äº†ã€‚<br>è¿™æ ·ä¸€æ¥ä½†å‡¡æœ‰æ’å…¥æ“ä½œï¼Œè¦ä¹ˆé”ä½æ•´ä¸ªæ•°ç»„ï¼›è¦ä¹ˆç”¨COWç­–ç•¥ã€‚æ˜¾ç„¶ï¼Œé”ä½æ•´ä¸ªæ•°ç»„ï¼Œæ•ˆç‡å°±å¾ˆä½äº†ï¼Œå› ä¸ºè¿è¯»éƒ½éœ€è¦è·å–é”æ‰è¡Œã€‚é‚£ä¹ˆå°±è¦ç»§ç»­ç”¨COWäº†ï¼Œèµ·ç è¯»çš„æ—¶å€™ä¸ç”¨é”ã€‚<br>é‚£ä¹ˆå¦‚æœæ˜¯é“¾è¡¨çš„è¯ï¼Œåªéœ€è¦çŸ¥é“å‰åèŠ‚ç‚¹å°±è¡Œäº†ï¼Œä¸ä¼šæ¶‰åŠé“¾è¡¨åˆ«çš„ä½ç½®çš„èŠ‚ç‚¹æ¬ç§»ç­‰æ“ä½œã€‚æ‰€ä»¥å¯ä»¥ç”¨èŠ‚ç‚¹é”ï¼Œæˆ–è€…åˆ†æ®µé”å°±è¡Œäº†ã€‚ç”¨ä¸ç€COWæ¥æå®šã€‚","like_count":0},{"had_liked":false,"id":104036,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1560597522,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560597522","product_id":100023901,"comment_content":"å‰è€…ä¸€å—å¤§å†…å­˜ï¼Œåè€…ä¸€å †å°å†…å­˜ã€‚å¤åˆ¶æ—¶ç”³è¯·å†…å­˜çš„æ¬¡æ•°å·®è·æ‚¬æ®Šã€‚å¦å¤–åè€…å…ƒç´ çš„å‰”é™¤é€šå¸¸ä¼´éšå†…å­˜çš„å›æ”¶ã€‚è€é“¾è¡¨å®ä¾‹çš„å›æ”¶ä¼šä¼´éšå¤§é‡å†…å­˜å—çš„å›æ”¶æ“ä½œã€‚ä¸€å¥è¯ï¼Œæˆæœ¬å¤ªé«˜ï¼Œå¹²è„†ä¸è¦ã€‚","like_count":0},{"had_liked":false,"id":95042,"user_name":"Geek_bbbda3","can_delete":false,"product_type":"c1","uid":1504651,"ip_address":"","ucode":"737394CE472C21","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKNDKOCoZvCqoYVM1t97Q77QPLmRBGvOLYzFsh8073RicycoIuwGrIsCXpAFEyVBOxcyE3Ih1mr6Vw/132","comment_is_top":false,"comment_ctime":1557963756,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557963756","product_id":100023901,"comment_content":"é“¾è¡¨è¯»æ“ä½œæ—¶é—´å¤æ‚åº¦é«˜ï¼Œç”¨copy on write ä¹Ÿè§£å†³ä¸äº†è¿™ä¸ªé—®é¢˜ï¼Œå¤©ç”Ÿä¸é€‚åˆè¯»å¤šåœºæ™¯ã€‚","like_count":0},{"had_liked":false,"id":93967,"user_name":"å¤šè¥„ä¸¸","can_delete":false,"product_type":"c1","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1557679029,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557679029","product_id":100023901,"comment_content":"COWLibkedList è¿èƒŒäº† è¯»å¤šå†™å°‘ è¯»é«˜æ•ˆçš„åˆè¡·äº†å“‡","like_count":0},{"had_liked":false,"id":93429,"user_name":"åˆ˜é¹","can_delete":false,"product_type":"c1","uid":1524765,"ip_address":"","ucode":"48A831C5D2031C","user_header":"https://static001.geekbang.org/account/avatar/00/17/44/1d/833b3890.jpg","comment_is_top":false,"comment_ctime":1557469355,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557469355","product_id":100023901,"comment_content":"ä¸€ç§ç­–ç•¥","like_count":0},{"had_liked":false,"id":92528,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1557292385,"is_pvip":false,"replies":[{"id":"34440","content":"å¥½åƒæ²¡è¿™ä¹ˆç®€å•","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1558359001,"ip_address":"","comment_id":92528,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557292385","product_id":100023901,"comment_content":"è¯·é—®ä¸€ä¸‹è€å¸ˆcopyonwriteå¦‚æœä¸volatileç»“åˆä½¿ç”¨æ˜¯ä¸æ˜¯å°±å¯ä»¥å®ç°å¼ºä¸€è‡´æ€§äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449302,"discussion_content":"å¥½åƒæ²¡è¿™ä¹ˆç®€å•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558359001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91601,"user_name":"å¼ å¤©å±¹","can_delete":false,"product_type":"c1","uid":1477612,"ip_address":"","ucode":"8BD6BD6DCF0F4F","user_header":"https://static001.geekbang.org/account/avatar/00/16/8b/ec/dc03f5ad.jpg","comment_is_top":false,"comment_ctime":1557058903,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557058903","product_id":100023901,"comment_content":"å†™æ—¶å¤åˆ¶ç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œå¦‚æœé¢‘ç¹å†™åˆ™ä¼šæ–°å»ºå¾ˆå¤šæ•°ç»„å¯¹è±¡ã€‚æ•°ç»„ç»“æ„å†™æ…¢è¯»å¿«ï¼Œé“¾è¡¨ç»“å†™å¿«è¯»æ…¢ã€‚é€‚ç”¨äºCopyOnWriteçš„è¯»å¤šå†™å°‘åœºæ™¯è‚¯å®šå°±ä¸é€‚åˆé“¾è¡¨ç»“æ„äº†ã€‚","like_count":0},{"had_liked":false,"id":91398,"user_name":"Mr.Wood","can_delete":false,"product_type":"c1","uid":1482206,"ip_address":"","ucode":"348E13CFCEDC3D","user_header":"https://static001.geekbang.org/account/avatar/00/16/9d/de/1b946a63.jpg","comment_is_top":false,"comment_ctime":1557025254,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557025254","product_id":100023901,"comment_content":"æ•°ç»„ç»“æ„åœ¨å†…å­˜ä¸­æ˜¯è¿ç»­çš„ï¼Œè€Œé“¾è¡¨ç»“æ„æ˜¯éè¿ç»­çš„ã€‚å†™æ“ä½œçš„é€Ÿåº¦ä¸å¯åŒæ—¥è€Œè¯­","like_count":0},{"had_liked":false,"id":91385,"user_name":"æœ¨å«å…­","can_delete":false,"product_type":"c1","uid":1199495,"ip_address":"","ucode":"D113DF578C5BF5","user_header":"https://static001.geekbang.org/account/avatar/00/12/4d/87/57236a2d.jpg","comment_is_top":false,"comment_ctime":1557021069,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1557021069","product_id":100023901,"comment_content":"linkedliståº”ç”¨åœºæ™¯æ˜¯å†™å¤šè¯»å°‘çš„ï¼Œcopyonwritelinkedlistä¼šæœ‰å¾ˆå¤šé—®é¢˜ï¼š<br>éœ€è¦å…¨éƒ¨ä¸€ä¸ªä¸ªéå†ï¼Œè€Œä¸æ˜¯å¤åˆ¶ä¸€æ•´å—å†…å­˜ï¼Œå¤åˆ¶æ€§èƒ½ä½ä¸‹ï¼›<br>å¤´èŠ‚ç‚¹ä»¥åçš„èŠ‚ç‚¹åœ¨æ›¿æ¢å¤´èŠ‚ç‚¹æŒ‡é’ˆæ—¶ä¸å¯æ§ï¼Œå‡ºç°æ•°æ®ä¸æ›´æ–°çš„æƒ…å†µï¼Œå¯èƒ½å°±éœ€è¦é”æœºåˆ¶æ¥è§£å†³<br>","like_count":0},{"had_liked":false,"id":91311,"user_name":"ban","can_delete":false,"product_type":"c1","uid":1034204,"ip_address":"","ucode":"E523CE97E48266","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c7/dc/9408c8c2.jpg","comment_is_top":false,"comment_ctime":1556975720,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556975720","product_id":100023901,"comment_content":"è€å¸ˆï¼Œè¿™æ˜¯è·¯ç”±è¡¨ï¼Œä¸Šä¸‹çº¿ç”±è¯¥routeèŠ‚ç‚¹è‡ªå·±å¤„ç†çš„å—ï¼Œæ¯”å¦‚è¯´routeAèŠ‚ç‚¹ä¸Šçº¿ï¼Œè‡ªå·±è°ƒç”¨RouteTable.add(routeA)æ·»åŠ ï¼ŒrouteAä¸‹çº¿è‡ªå·±è°ƒç”¨RouteTable.remove(routeA)ï¼Œè¿™æ ·å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":91253,"user_name":"æ™“æ°","can_delete":false,"product_type":"c1","uid":1441546,"ip_address":"","ucode":"1174C88EEBF8A6","user_header":"https://static001.geekbang.org/account/avatar/00/15/ff/0a/12faa44e.jpg","comment_is_top":false,"comment_ctime":1556954269,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556954269","product_id":100023901,"comment_content":"LinkedListæœ¬èº«é€‚ç”¨äºå†™å¤šè¯»å°‘çš„åœºæ™¯ï¼Œè€Œcopy-on-writeæ¨¡å¼é€‚ç”¨äºè¯»å¤šå†™å°‘çš„åœºæ™¯ï¼Œä¸¤è€…é€‚ç”¨åœºæ™¯ç›¸åã€‚","like_count":0},{"had_liked":false,"id":91252,"user_name":"å›å“¥èŠæŠ€æœ¯","can_delete":false,"product_type":"c1","uid":1325816,"ip_address":"","ucode":"2C9A22BCE4C79E","user_header":"https://static001.geekbang.org/account/avatar/00/14/3a/f8/c1a939e7.jpg","comment_is_top":false,"comment_ctime":1556953269,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556953269","product_id":100023901,"comment_content":"    æ•°ç»„åœ¨æ“ä½œç³»ç»Ÿå ç”¨ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œæ‹·è´æ—¶åªè¦å¯»æ‰¾ä¸€å—ç›¸åŒå¤§å°çš„å†…å­˜ç©ºé—´è¿›è¡Œå¤åˆ¶ï¼Œç¨‹åºä¸­ç”¨system.arraycopyå°±å¯ä»¥<br>     é“¾è¡¨çš„å­˜å‚¨ç©ºé—´æ˜¯ä¸è¿ç»­çš„ï¼Œéœ€è¦ä¾æ¬¡éå†é“¾è¡¨ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿›è¡Œæ‹·è´ï¼Œæ•ˆç‡ä½ä¸‹","like_count":0},{"had_liked":false,"id":91206,"user_name":"è¢é˜³","can_delete":false,"product_type":"c1","uid":1329594,"ip_address":"","ucode":"B397F760CDC53A","user_header":"https://static001.geekbang.org/account/avatar/00/14/49/ba/02742d56.jpg","comment_is_top":false,"comment_ctime":1556928647,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556928647","product_id":100023901,"comment_content":"æ€è€ƒé¢˜:<br>å¦‚æœåˆ—è¡¨æ•°æ®å¾ˆå¤šï¼ŒCopyonwritelinkedList ç›¸å¯¹äºCopyonwriteArrayListæ¥è¯´ï¼Œåœ¨å¤åˆ¶çš„æ—¶å€™éœ€è¦å¤šæ¬¡çš„new é“¾è¡¨èŠ‚ç‚¹ï¼Œå†…å­˜çš„åˆ†é…æ¬¡æ•°æ¯”åè€…å¤šå¾ˆå¤šã€‚<br>ä¸€æ˜¯åˆ†é…å†…å­˜éœ€è¦æ—¶é—´ï¼ŒäºŒæ˜¯å¤§é‡åˆ†é…å†…å­˜å®¹æ˜“è®©jvmäº§ç”Ÿgcï¼Œå¯¼è‡´stop the worldã€‚<br>æ€»çš„æ¥è¯´ï¼Œå°±æ˜¯æ•°æ®é‡æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œå‰è€…æ€§èƒ½æ¯”è¾ƒå·®","like_count":0}]}
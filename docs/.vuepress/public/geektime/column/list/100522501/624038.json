{"id":624038,"title":"07ï½œå¦‚ä½•è§£å†³Prometheusçš„å­˜å‚¨å®¹é‡é—®é¢˜ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ç§¦æ™“è¾‰ã€‚</p><p>å‰å‡ è®²æˆ‘ä»¬ä»‹ç»äº†Prometheusçš„å…³é”®è®¾è®¡ï¼Œè¿™äº›è®¾è®¡éƒ½éå¸¸ä¼˜ç§€ã€‚åœ¨äº‘åŸç”Ÿç›‘æ§é¢†åŸŸï¼Œæœ‰ä¸å¯æ’¼åŠ¨çš„æ±Ÿæ¹–åœ°ä½ï¼Œé‚£è¿™æ ·è¯´æ¥ Prometheus æ˜¯ä¸æ˜¯å°±æ²¡æœ‰ç¼ºç‚¹äº†å‘¢ï¼Ÿæ˜¯å¦å¯ä»¥æ»¡è¶³æ‰€æœ‰ä½¿ç”¨åœºæ™¯å‘¢ï¼Ÿæ˜¾ç„¶ä¹Ÿä¸æ˜¯ã€‚</p><p>ä¸€ä¸ªè½¯ä»¶å¦‚æœä»€ä¹ˆé—®é¢˜éƒ½æƒ³è§£å†³ï¼Œå°±ä¼šå¯¼è‡´ä»€ä¹ˆé—®é¢˜éƒ½è§£å†³ä¸å¥½ã€‚æ‰€ä»¥Prometheus ä¹Ÿå­˜åœ¨ä¸€äº›ä¸è¶³ä¹‹å¤„ï¼Œå…¶ä¸­ä¸€ä¸ªå¹¿å—è¯Ÿç—…çš„é—®é¢˜å°±æ˜¯<strong>å•æœºå­˜å‚¨ä¸å¥½æ‰©å±•</strong>ã€‚æ‰€ä»¥è¿™ä¸€è®²æˆ‘ä»¬å°±é’ˆå¯¹è¿™ä¸ªé—®é¢˜æ¥èŠèŠå¦‚ä½•æ‰©å±• Prometheus çš„å­˜å‚¨ã€‚</p><h2>æ‰€æœ‰åœºæ™¯éƒ½éœ€è¦æ‰©å±•å®¹é‡å—ï¼Ÿ</h2><p>è™½ç„¶æˆ‘ä»¬èŠçš„æ˜¯ Prometheus å®¹é‡æ‰©å±•é—®é¢˜ï¼Œä¸è¿‡æˆ‘å¿…é¡»å…ˆè¯´æ˜ä¸€ç‚¹ï¼Œå¤§éƒ¨åˆ†åœºæ™¯å…¶å®ä¸éœ€è¦æ‰©å±•ï¼Œå› ä¸ºä¸€èˆ¬çš„æ•°æ®é‡å‹æ ¹è¾¾ä¸åˆ° Prometheus çš„å®¹é‡ä¸Šé™ã€‚å¾ˆå¤šä¸­å°å‹å…¬å¸ä½¿ç”¨å•æœºç‰ˆæœ¬çš„ Prometheus å°±è¶³å¤Ÿäº†ï¼Œè¿™ä¸ªæ—¶å€™ä¸è¦æƒ³ç€å»æ‰©å±•ï¼Œå®¹æ˜“è¿‡åº¦è®¾è®¡ï¼Œå¼•å…¥æ¶æ„ä¸Šçš„å¤æ‚åº¦é—®é¢˜ã€‚</p><p>Prometheus å•æœºå®¹é‡ä¸Šé™æ˜¯å¤šå°‘ï¼Ÿæ ¹æ®æˆ‘çš„ç»éªŒï¼Œæ¯ç§’æ¥æ”¶ 80 ä¸‡ä¸ªæ•°æ®ç‚¹ï¼Œç®—æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥åº·çš„ä¸Šé™ï¼Œä¸€å¼€å§‹ä¹Ÿæ— éœ€ç”¨ä¸€å°é…ç½®ç‰¹åˆ«é«˜çš„æœºå™¨ï¼Œéšç€æ•°æ®é‡çš„å¢é•¿ï¼Œå¯ä»¥å†å‡çº§ç¡¬ä»¶çš„é…ç½®ã€‚å½“ç„¶ï¼Œå¦‚æœæƒ³è¦ç¡¬ä»¶æ–¹ä¾¿å‡é…ï¼Œå°±éœ€è¦å€ŸåŠ©è™šæ‹Ÿæœºæˆ–å®¹å™¨ï¼ŒåŒæ—¶éœ€è¦ä½¿ç”¨åˆ†å¸ƒå¼å—å­˜å‚¨ã€‚</p><p>æ¯ç§’æ¥æ”¶ 80 ä¸‡ä¸ªæ•°æ®ç‚¹æ˜¯ä¸ªä»€ä¹ˆæ¦‚å¿µå‘¢ï¼Ÿæ¯å°æœºå™¨æ¯ä¸ªå‘¨æœŸå¤§æ¦‚é‡‡é›† 200 ä¸ªç³»ç»Ÿçº§æŒ‡æ ‡ï¼Œæ¯”å¦‚CPUã€å†…å­˜ã€ç£ç›˜ç­‰ç›¸å…³çš„æŒ‡æ ‡ã€‚å‡è®¾é‡‡é›†é¢‘ç‡æ˜¯ 10 ç§’ï¼Œå¹³å‡æ¯ç§’ä¸ŠæŠ¥ 20 ä¸ªæ•°æ®ç‚¹ï¼Œå¯ä»¥æ”¯æŒåŒæ—¶ç›‘æ§çš„æœºå™¨é‡æ˜¯ 4 ä¸‡å°ã€‚</p><!-- [[[read_end]]] --><p>$$800000\\div20=40000$$</p><p>å¯ä»¥çœ‹å‡ºï¼Œæ¯ç§’æ¥æ”¶ 80 ä¸‡æ•°æ®ç‚¹ï¼Œå…¶å®æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å®¹é‡äº†ã€‚å½“ç„¶ï¼Œå¦‚æœä½¿ç”¨ node-exporterï¼ŒæŒ‡æ ‡æ•°é‡è¦å¤šäº 200ï¼Œ800 å·¦å³ï¼Œé‚£ä¹Ÿèƒ½æ”¯æŒ 1 ä¸‡å°æœºå™¨çš„ç›‘æ§ã€‚</p><p>ä¸è¿‡åˆšåˆšæˆ‘ä»¬åªè®¡ç®—äº†æœºå™¨ç›‘æ§æ•°æ®ï¼Œå¦‚æœè¿˜è¦ç”¨è¿™ä¸ª Prometheus ç›‘æ§å„ç±»ä¸­é—´ä»¶ï¼Œé‚£å°±å¾—å†åšé¢„ä¼°è®¡ç®—äº†ã€‚æœ‰äº›ä¸­é—´ä»¶ä¼šåå‡ºæ¯”è¾ƒå¤šçš„æŒ‡æ ‡ï¼Œæœ‰äº›æŒ‡æ ‡å…¶å®ç”¨å¤„ä¸å¤§ï¼Œå¯ä»¥ä¸¢æ‰ï¼ˆdropï¼‰ï¼Œå½“ç„¶è¿™å°±æ˜¯å¦ä¸€ä¸ªè¯é¢˜äº†ï¼Œåé¢ç›‘æ§å®æˆ˜éƒ¨åˆ†æˆ‘ä»¬ä¼šè¯¦ç»†è®²è§£ï¼Œè¿™é‡Œæš‚ä¸å±•å¼€ã€‚</p><p>å¦‚æœå•ä¸ª Prometheus å®åœ¨æ˜¯æ‰›ä¸ä½ï¼Œä¹Ÿå¯ä»¥æ‹†æˆå¤šä¸ª Prometheusï¼Œæ ¹æ®ä¸šåŠ¡æˆ–è€…åœ°åŸŸæ¥æ‹†éƒ½æ˜¯å¯ä»¥çš„ï¼Œè¿™å°±æ˜¯ä¸‹é¢è¦ä»‹ç»çš„ Prometheus è”é‚¦æœºåˆ¶ã€‚</p><h2>Prometheus è”é‚¦æœºåˆ¶</h2><p>è”é‚¦æœºåˆ¶å¯ä»¥ç†è§£ä¸ºæ˜¯ Prometheus å†…ç½®æ”¯æŒçš„ä¸€ç§é›†ç¾¤æ–¹å¼ï¼Œæ ¸å¿ƒå°±æ˜¯Prometheusæ•°æ®çš„çº§è”æŠ“å–ã€‚æ¯”å¦‚æŸå…¬å¸æœ‰8å¥—Kubernetesï¼Œæ¯å¥—Kubernetesé›†ç¾¤éƒ½éƒ¨ç½²äº†ä¸€ä¸ªPrometheusï¼Œè¿™8ä¸ªPrometheuså°±å½¢æˆäº†8ä¸ªæ•°æ®å­¤å²›ï¼Œæ²¡æ³•åœ¨ä¸€ä¸ªåœ°æ–¹çœ‹åˆ°8ä¸ªPrometheusçš„æ•°æ®ã€‚</p><p>å½“ç„¶ï¼Œæˆ‘ä»¬ç”¨Grafanaæˆ–Nightingaleï¼ŒæŠŠè¿™8ä¸ªPrometheusä½œä¸ºæ•°æ®æºæ¥å…¥ï¼Œç„¶åå°±å¯ä»¥åœ¨ä¸€ä¸ªWebä¸Šé€šè¿‡åˆ‡æ¢æ•°æ®æºçš„æ–¹å¼æŸ¥çœ‹ä¸åŒçš„æ•°æ®äº†ï¼Œä½†æœ¬è´¨è¿˜æ˜¯åˆ†åˆ«æŸ¥çœ‹ï¼Œæ²¡æ³•åšå¤šä¸ªPrometheusæ•°æ®çš„è”åˆè¿ç®—ã€‚</p><p>è€Œè”é‚¦æœºåˆ¶ï¼Œä¸€å®šç¨‹åº¦ä¸Šå°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒæŠŠä¸åŒçš„Prometheusæ•°æ®èšæ‹¢åˆ°ä¸€ä¸ªä¸­å¿ƒçš„Prometheusä¸­ï¼Œä½ ç»“åˆç€è¿™ä¸ªæ¶æ„å›¾æ¥ç†è§£ä¸€ä¸‹æˆ‘è¯´çš„è¿™ç§æ–¹æ³•ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/f4/53/f40db5919edc384c17fc2e148c2ayy53.png?wh=1788x870\" alt=\"å›¾ç‰‡\"></p><p>åŸæœ¬ä¸€ä¸ª Prometheus è§£å†³ä¸äº†çš„é—®é¢˜ï¼Œæ‹†æˆäº†å¤šä¸ªï¼Œç„¶ååˆæŠŠå¤šä¸ªPrometheusçš„æ•°æ®èšæ‹¢åˆ°ä¸­å¿ƒçš„Prometheusä¸­ã€‚ä½†æ˜¯ï¼Œä¸­å¿ƒçš„Prometheusä»ç„¶æ˜¯ä¸ªç“¶é¢ˆã€‚æ‰€ä»¥åœ¨è”é‚¦æœºåˆ¶ä¸­ï¼Œä¸­å¿ƒç«¯çš„Prometheuså»æŠ“å–è¾¹ç¼˜Prometheusæ•°æ®æ—¶ï¼Œä¸åº”è¯¥æŠŠæ‰€æœ‰æ•°æ®éƒ½æŠ“å–åˆ°ä¸­å¿ƒï¼Œè€Œæ˜¯åº”è¯¥<strong>åªæŠ“å–é‚£äº›éœ€è¦åšèšåˆè®¡ç®—æˆ–å…¶ä»–å›¢é˜Ÿä¹Ÿå…³æ³¨çš„æŒ‡æ ‡</strong>ï¼Œå¤§éƒ¨åˆ†æ•°æ®è¿˜æ˜¯åº”è¯¥ä¸‹æ²‰åœ¨å„ä¸ªè¾¹ç¼˜Prometheuså†…éƒ¨æ¶ˆåŒ–æ‰ã€‚</p><p>æ€ä¹ˆåšåˆ°åªæŠ“å–ç‰¹å®šçš„æŒ‡æ ‡åˆ°ä¸­å¿ƒç«¯å‘¢ï¼Ÿé€šè¿‡ <code>match[]</code> å‚æ•°ï¼ŒæŒ‡å®šè¿‡æ»¤æ¡ä»¶å°±å¯ä»¥å®ç°ï¼Œä¸‹é¢æ˜¯ä¸­å¿ƒ Prometheus çš„æŠ“å–è§„åˆ™ã€‚</p><pre><code class=\"language-yaml\">scrape_configs:\n&nbsp; - job_name: 'federate'\n&nbsp; &nbsp; scrape_interval: 30s\n&nbsp; &nbsp; honor_labels: true\n&nbsp; &nbsp; metrics_path: '/federate'\n&nbsp; &nbsp; params:\n&nbsp; &nbsp; &nbsp; 'match[]':\n&nbsp; &nbsp; &nbsp; &nbsp; - '{__name__=~\"aggr:.*\"}'\n&nbsp; &nbsp; static_configs:\n&nbsp; &nbsp; &nbsp; - targets:\n&nbsp; &nbsp; &nbsp; &nbsp; - '10.1.2.3:9090'\n&nbsp; &nbsp; &nbsp; &nbsp; - '10.1.2.4:9090'\n</code></pre><p>è¾¹ç¼˜ Prometheus ä¼šåœ¨ <code>/federate</code> æ¥å£æš´éœ²ç›‘æ§æ•°æ®ï¼Œæ‰€ä»¥è®¾ç½®äº†metrics_pathï¼Œhonor_labels è®¾ç½®ä¸º trueï¼Œæ„æ€æ˜¯åœ¨æ ‡ç­¾é‡å¤æ—¶ï¼Œä»¥æºæ•°æ®çš„æ ‡ç­¾ä¸ºå‡†ã€‚è¿‡æ»¤æ¡ä»¶ä¸­é€šè¿‡æ­£åˆ™åŒ¹é…è¿‡æ»¤å‡ºæ‰€æœ‰ <code>aggr:</code> æ‰“å¤´çš„æŒ‡æ ‡ï¼Œè¿™ç±»æŒ‡æ ‡éƒ½æ˜¯é€šè¿‡ Recoding Rules èšåˆå‡ºæ¥çš„å…³é”®æŒ‡æ ‡ã€‚å½“ç„¶ï¼Œè¿™æ˜¯æˆ‘å‡è®¾çš„ä¸€ä¸ªè§„èŒƒã€‚</p><p>è”é‚¦è¿™ç§æœºåˆ¶ï¼Œå¯ä»¥è½åœ°çš„æ ¸å¿ƒè¦æ±‚æ˜¯ï¼Œ<strong>è¾¹ç¼˜ Prometheus åŸºæœ¬æ¶ˆåŒ–äº†ç»å¤§éƒ¨åˆ†æŒ‡æ ‡æ•°æ®</strong>ï¼Œæ¯”å¦‚å‘Šè­¦ã€çœ‹å›¾ç­‰ï¼Œéƒ½åœ¨è¾¹ç¼˜çš„Prometheusä¸Šæå®šäº†ã€‚åªæœ‰å°‘é‡æ•°æ®ï¼Œæ¯”å¦‚éœ€è¦åšèšåˆè®¡ç®—æˆ–å…¶ä»–å›¢é˜Ÿä¹Ÿå…³æ³¨çš„æŒ‡æ ‡ï¼Œè¢«æ‹‰åˆ°ä¸­å¿ƒï¼Œè¿™æ ·å°±ä¸ä¼šè§¦è¾¾ä¸­å¿ƒç«¯ Prometheus çš„å®¹é‡ä¸Šé™ã€‚è¿™å°±è¦æ±‚å…¬å¸åœ¨ä½¿ç”¨ Prometheus ä¹‹å‰å…ˆåšå¥½è§„åˆ’ï¼Œå»ºç«‹è§„èŒƒã€‚è¯´å®è¯å¯èƒ½å®æ–½èµ·æ¥ä¼šæœ‰ç‚¹å„¿éš¾ï¼Œæ‰€ä»¥æˆ‘æ›´æ¨èä¸‹é¢çš„è¿œç¨‹å­˜å‚¨æ–¹æ¡ˆã€‚</p><h2>è¿œç¨‹å­˜å‚¨æ–¹æ¡ˆ</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒPrometheus æ”¶é›†åˆ°ç›‘æ§æ•°æ®ä¹‹åæ˜¯å­˜å‚¨åœ¨æœ¬åœ°ï¼Œåœ¨æœ¬åœ°æŸ¥è¯¢è®¡ç®—ã€‚ç”±äºå•æœºå®¹é‡æœ‰é™ï¼Œå¯¹äºæµ·é‡æ•°æ®åœºæ™¯ï¼Œéœ€è¦æœ‰å…¶ä»–è§£å†³æ–¹æ¡ˆã€‚æœ€ç›´è§‚çš„æƒ³æ³•å°±æ˜¯ï¼šæ—¢ç„¶æœ¬åœ°æä¸å®šï¼Œé‚£å°±åœ¨è¿œç«¯åšä¸€ä¸ªé›†ç¾¤ï¼Œåˆ†æ²»å¤„ç†ã€‚</p><p>Prometheus æœ¬èº«ä¸æä¾›é›†ç¾¤å­˜å‚¨èƒ½åŠ›ï¼Œå¯ä»¥å¤ç”¨å…¶ä»–æ—¶åºåº“æ–¹æ¡ˆã€‚æ—¶åºåº“æŒºå¤šçš„ï¼Œå¦‚æœæŒ¨ä¸ªå„¿å»å¯¹æ¥æ¯”è¾ƒè´¹åŠ²ï¼Œäºæ˜¯ Prometheus å»ºç«‹äº†ç»Ÿä¸€çš„ Remote Readã€Remote Write æ¥å£åè®®ï¼Œåªè¦æ»¡è¶³è¿™ä¸ªæ¥å£åè®®çš„æ—¶åºåº“éƒ½å¯ä»¥å¯¹æ¥è¿›æ¥ï¼Œä½œä¸º Prometheus remote storage ä½¿ç”¨ã€‚</p><p>ç›®å‰å›½å†…ä½¿ç”¨æœ€å¹¿æ³›çš„è¿œç¨‹å­˜å‚¨ä¸»è¦æ˜¯ VictoriaMetrics å’Œ Thanosã€‚ä¸‹é¢æˆ‘ä»¬ç®€å•ä»‹ç»ä¸€ä¸‹ã€‚</p><h3>VictoriaMetrics</h3><p>VM è™½ç„¶å¯ä»¥ä½œä¸º Prometheus çš„è¿œç¨‹å­˜å‚¨ï¼Œä½†å®ƒå¿—ä¸åœ¨æ­¤ã€‚VM æ˜¯å¸Œæœ›æˆä¸ºä¸€ä¸ªæ›´å¥½çš„ Prometheusï¼Œæ‰€ä»¥å®ƒä¸åªæ˜¯æ—¶åºåº“ï¼Œå®ƒè¿˜æœ‰æŠ“å–å™¨ã€å‘Šè­¦ç­‰å„ä¸ªç»„ä»¶ï¼Œä½“ç³»éå¸¸å®Œå¤‡ï¼Œä¸è¿‡ç°åœ¨å›½å†…åŸºæœ¬ä¸Šè¿˜åªæ˜¯æŠŠå®ƒå½“åšæ—¶åºåº“åœ¨ç”¨ã€‚</p><p>VM ä½œä¸ºæ—¶åºåº“ï¼Œæ ¸å¿ƒç»„ä»¶åªæœ‰ 3 ä¸ªï¼Œvmstorageã€vminsertå’Œvmselectã€‚å…¶ä¸­vmstorage ç”¨äºå­˜å‚¨æ—¶åºæ•°æ®ï¼Œvminsert ç”¨äºæ¥æ”¶æ—¶åºæ•°æ®å¹¶å†™å…¥åˆ°åç«¯çš„vmstorageï¼ŒPrometheusä½¿ç”¨ Remote Write å¯¹æ¥çš„å°±æ˜¯ vminsert çš„åœ°å€ï¼Œvmselect ç”¨äºæŸ¥è¯¢æ—¶åºæ•°æ®ï¼Œå®ƒæ²¡æœ‰å®ç° Remote Readæ¥å£ï¼Œåå€’å®ç°äº† Prometheus çš„ Querier æ¥å£ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å› ä¸ºVM è§‰å¾— Remote Read è®¾è®¡å¤ªâ€œæŒ«â€äº†ï¼Œæ€§èƒ½ä¸å¥½ï¼Œè¿˜ä¸å¦‚ç›´æ¥å®ç° Querier æ¥å£ã€‚è¿™æ ·è®¾è®¡çš„è¯ï¼ŒGrafanaè¿™ç±»å‰ç«¯åº”ç”¨ç›´æ¥å¯ä»¥å’Œvmselectå¯¹æ¥ï¼Œè€Œä¸ç”¨åœ¨ä¸­é—´åŠ ä¸€å±‚Prometheus ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹VMçš„æ¶æ„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/00/e8/0056079fe57dde7d00e03355b35765e8.png?wh=1570x994\" alt=\"å›¾ç‰‡\" title=\"å›¾ç‰‡æ¥è‡ªç½‘ç»œ\"></p><p>n9e-webapi å’Œ n9e-server æ˜¯ Nightingale çš„ä¸¤ä¸ªæ¨¡å—ï¼Œéƒ½å¯ä»¥çœ‹åš VM çš„ä¸Šå±‚åº”ç”¨ã€‚é€šè¿‡è¿™å¼ å›¾ç‰‡ï¼Œæˆ‘ä»¬å¯ä»¥æ¯”è¾ƒæ¸…æ¥šåœ°çœ‹å‡º VM çš„æ¶æ„ä»¥åŠä¸ä¸Šå±‚åº”ç”¨çš„äº¤äº’æ–¹å¼ã€‚</p><p>n9e-webapi é€šè¿‡ vmselect æŸ¥è¯¢æ—¶åºæ•°æ®ï¼Œvmselect æ˜¯æ— çŠ¶æ€æ¨¡å—ï¼Œå¯ä»¥æ°´å¹³æ‰©å±•ï¼Œé€šå¸¸éƒ¨ç½²å¤šä¸ªå®ä¾‹ï¼Œå‰é¢æ¶è®¾è´Ÿè½½å‡è¡¡ï¼Œæ‰€ä»¥ n9e-webapi é€šå¸¸æ˜¯å¯¹æ¥ vmselect çš„è´Ÿè½½å‡è¡¡ã€‚n9e-server ä¹Ÿæœ‰ä¸€äº›æŸ¥è¯¢VMçš„éœ€æ±‚ï¼Œå…ˆä¸ç”¨å…³æ³¨ï¼Œé‡ç‚¹å…³æ³¨ Remote Write é‚£æ¡çº¿ï¼Œn9e-server é€šè¿‡ Remote Write åè®®ï¼ŒæŠŠæ•°æ®è½¬å‘ç»™ vminsert çš„è´Ÿè½½å‡è¡¡ï¼Œvminsert ä¹Ÿæ˜¯æ— çŠ¶æ€çš„ï¼Œå¯ä»¥æ°´å¹³æ‰©å±•ã€‚</p><p>vmstorage æ˜¯å­˜å‚¨æ¨¡å—ï¼Œå¯ä»¥éƒ¨ç½²å¤šä¸ªç»„æˆé›†ç¾¤ï¼Œåªè¦æŠŠæ‰€æœ‰ vmstorage çš„åœ°å€å‘Šè¯‰ vmselect å’Œ vminsertï¼Œæ•´ä¸ªé›†ç¾¤å°±è·‘èµ·æ¥äº†ï¼Œéå¸¸ç®€å•ã€‚</p><p>é—®é¢˜æ˜¯æ•°æ®é€šè¿‡ vminsert è¿›æ¥ä¹‹åï¼Œå¦‚ä½•åˆ†ç‰‡ï¼Ÿvmselect å’Œ vminsert ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œvmselect åœ¨æŸ¥è¯¢å…·ä½“æŸä¸ªæŒ‡æ ‡æ•°æ®çš„æ—¶å€™ï¼Œæ€ä¹ˆçŸ¥é“æ•°æ®ä½äºå“ªä¸ª vmstorage å‘¢ï¼Ÿè¿™ä¸ªæ¶æ„è™½ç„¶çœ‹èµ·æ¥ç®€å•ï¼Œä½†æ€»æ„Ÿè§‰è·Ÿå¸¸è§çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸å¤ªä¸€æ ·å‘¢ã€‚</p><p>ä¸»è¦æ˜¯å› ä¸º VM é‡‡ç”¨äº†ä¸€ç§å«åš merge read çš„æ–¹æ¡ˆï¼Œä¸€ä¸ªæŸ¥è¯¢è¯·æ±‚å‘ç»™ vmselect ä¹‹åï¼Œvmselect ä¼šå‘æ‰€æœ‰çš„ vmstorage å‘èµ·æŸ¥è¯¢è¯·æ±‚ã€‚æ³¨æ„ï¼Œæ˜¯æ‰€æœ‰çš„ vmstorageï¼Œç„¶åæŠŠç»“æœåˆå¹¶åœ¨ä¸€èµ·ï¼Œè¿”å›ç»™å‰ç«¯ã€‚æ‰€ä»¥ï¼Œvmselect å‹æ ¹å°±ä¸ç”¨å…³å¿ƒæ•°æ®ä½äºå“ªä¸ª vmstorageã€‚æ­¤æ—¶ vminsert ç”¨ä»€ä¹ˆåˆ†ç‰‡ç®—æ³•éƒ½æ— æ‰€è°“äº†ï¼Œæ•°æ®å†™åˆ°å“ªä¸ª vmstorage éƒ½è¡Œï¼Œåæ­£æœ€åéƒ½ä¼š merge readã€‚</p><p>è¿™ä¸ªå¥‡è‘©è®¾è®¡ï¼Œçœ‹èµ·æ¥è¿˜æŒºæœ‰æ•ˆçš„ã€‚æœ‰æ²¡æœ‰é—®é¢˜å‘¢ï¼Ÿæ˜¾ç„¶æ˜¯æœ‰çš„ï¼Œå°±æ˜¯ vmstorage é›†ç¾¤ä¸èƒ½å¤ªå¤§ã€‚å¦‚æœæœ‰å‡ åƒä¸ªèŠ‚ç‚¹ï¼Œéšä¾¿ä¸€ä¸ªæŸ¥è¯¢è¿‡æ¥ï¼Œvmselect éƒ½ä¼šå‘æ‰€æœ‰ vmstorage å‘èµ·æŸ¥è¯¢ï¼Œä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹æ…¢äº†éƒ½ä¼šæ‹–æ…¢æ•´ä½“é€Ÿåº¦ï¼Œè¿™å°±è®©äººæ— æ³•æ¥å—äº†ã€‚ä¸€èˆ¬æ¥è®²ï¼Œä¸€ä¸ª vmstorage é›†ç¾¤ï¼Œæœ‰ä¸€äºŒåä¸ªèŠ‚ç‚¹è¿˜æ˜¯æ¯”è¾ƒå¥åº·çš„ï¼Œè¿™ä¸ªå®¹é‡å°±å·²ç»éå¸¸å¤§äº†ï¼Œèƒ½æ»¡è¶³å¤§éƒ¨åˆ†å…¬å¸çš„éœ€æ±‚ï¼Œæ‰€ä»¥è¿™ä¸æ˜¯ä¸ªå¤§é—®é¢˜ã€‚</p><p>æˆ‘ä¸ªäººæ¯”è¾ƒå»ºè®®ä½ åœ¨é€‰å‹è¿œç¨‹å­˜å‚¨çš„æ—¶å€™ä½¿ç”¨ VictoriaMetricsï¼Œæ¶æ„ç®€å•ï¼Œæ›´æœ‰æŒæ§åŠ›ã€‚åƒM3è™½ç„¶å®¹é‡æ¯”VMå¤§å¾—å¤šï¼Œä½†æ˜¯æ¶æ„å¤æ‚ï¼Œå‡ºäº†é—®é¢˜åè€Œæ— ä»ç€æ‰‹ï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚</p><p>åœ¨Prometheuså­˜å‚¨é—®é¢˜çš„è§£å†³æ–¹æ¡ˆä¸­ï¼Œé™¤äº†VMï¼Œè¿˜æœ‰ä¸€ä¸ªå½±å“åŠ›æ¯”è¾ƒå¤§çš„å°±æ˜¯Thanosï¼Œä¹Ÿå°±æ˜¯ä¼ è¯´ä¸­çš„ç­éœ¸ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹ç­éœ¸æ˜¯ä¸ªä»€ä¹ˆæ‹›å¼ã€‚</p><h3>Thanos</h3><p>Thanosçš„åšæ³•å’ŒVMä¸åŒï¼ŒThanoså®Œå…¨æ‹¥æŠ±Prometheusï¼Œå¯¹Prometheusåšäº†ä¸€ä¸ªå¢å¼ºï¼Œæ ¸å¿ƒç‰¹ç‚¹æ˜¯ä½¿ç”¨<strong>å¯¹è±¡å­˜å‚¨</strong>åšæµ·é‡æ—¶åºå­˜å‚¨ã€‚ä½ çœ‹ä¸‹å®ƒçš„æ¶æ„å›¾ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/cf/4d/cfbc6d548944f7b169bc469255e1ea4d.png?wh=960x720\" alt=\"å›¾ç‰‡\" title=\"å›¾ç‰‡æ¥è‡ª Thanos å®˜ç½‘\"></p><p>è¿™ä¸ªæ¶æ„å›¾åˆçœ‹èµ·æ¥æ¯”è¾ƒå¤æ‚ï¼Œé»„è‰²éƒ¨åˆ†æ˜¯ Prometheus è‡ªèº«ï¼Œè“è‰²éƒ¨åˆ†æ˜¯Thanosï¼Œé»‘è‰²éƒ¨åˆ†æ˜¯å­˜å‚¨ã€‚è¿™é‡Œè¾¹æœ‰å‡ ä¸ªæ ¸å¿ƒç‚¹ã€‚</p><ol>\n<li>æ¯ä¸ª Prometheus éƒ½è¦ä¼´ç”Ÿä¸€ä¸ª Thanos Sidecar ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶æœ‰ä¸¤ä¸ªä½œç”¨ï¼Œä¸€æ˜¯å“åº”Thanos Queryçš„æŸ¥è¯¢è¯·æ±‚ï¼ŒäºŒæ˜¯æŠŠPrometheusäº§ç”Ÿçš„å—æ•°æ®ä¸Šä¼ åˆ°å¯¹è±¡å­˜å‚¨ã€‚</li>\n<li>Thanos Sidecar è°ƒç”¨ Prometheus çš„æ¥å£æŸ¥è¯¢æ•°æ®ï¼Œæš´éœ²ä¸º StoreAPIï¼ŒThanos Store Gateway è°ƒç”¨å¯¹è±¡å­˜å‚¨çš„æ¥å£æŸ¥è¯¢æ•°æ®ï¼Œä¹Ÿæš´éœ²ä¸º StoreAPIã€‚Thanos Queryå°±å¯ä»¥ä»è¿™ä¸¤ä¸ªåœ°æ–¹æŸ¥è¯¢æ•°æ®äº†ï¼Œç›¸å½“äºè¿‘æœŸæ•°æ®ä»Prometheusè·å–ï¼Œæ¯”è¾ƒä¹…è¿œçš„æ•°æ®ä»å¯¹è±¡å­˜å‚¨è·å–ã€‚</li>\n</ol><p>è™½ç„¶å¯¹è±¡å­˜å‚¨æ¯”è¾ƒå»‰ä»·ï¼Œä½†è¿™ä¸ªæ¶æ„çœ‹èµ·æ¥è¿˜æ˜¯è¿‡äºå¤æ‚äº†ï¼Œæ²¡æœ‰ VM çœ‹èµ·æ¥å¹²å‡€ã€‚å¦å¤–è¿™ä¸ªæ¶æ„æ˜¯å’Œ Prometheus å¼ºç»‘å®šçš„ï¼Œæ²¡æ³•ç”¨ä½œå•ç‹¬çš„æ—¶åºå­˜å‚¨ï¼Œæ¯”è¾ƒé—æ†¾ã€‚ä¸è¿‡å¥½åœ¨ Thanos è¿˜æœ‰å¦ä¸€ç§æ–¹æ¡ˆï¼Œä¸ç”¨ Sidecarï¼Œä½¿ç”¨ Receive æ¨¡å—ï¼Œæ¥æ¥æ”¶ Remote Write åè®®çš„æ•°æ®ï¼Œå†™å…¥æœ¬åœ°ï¼ŒåŒæ—¶ä¸Šä¼ å¯¹è±¡å­˜å‚¨ï¼Œä½ çœ‹ä¸€ä¸‹è¿™ä¸ªæ¶æ„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/25/28/25a79b6dfeeaf07e41810f283057d128.png?wh=960x720\" alt=\"å›¾ç‰‡\" title=\"å›¾ç‰‡æ¥è‡ª Thanos å®˜ç½‘\"></p><p>ä»å­˜å‚¨è§’åº¦æ¥çœ‹ï¼Œè¿™ä¸ªæ¶æ„å’Œ Prometheus å°±æ²¡æœ‰é‚£ä¹ˆå¼ºçš„ç»‘å®šå…³ç³»äº†ï¼Œå¯ä»¥å•ç‹¬ç”¨ä½œæ—¶åºåº“ã€‚å…³é”®ç‚¹è¿˜æ˜¯å¯¹è±¡å­˜å‚¨ï¼Œè™½ç„¶å¯¹è±¡å­˜å‚¨æ˜¯æµ·é‡ã€å»‰ä»·çš„ï¼Œä½†æ˜¯å»¶è¿Ÿè¾ƒé«˜ï¼Œè€Œä¸”ä¸€ä¸ªè¯·æ±‚æ‹†æˆä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æŸ¥æœ¬åœ°ï¼Œä¸€éƒ¨åˆ†æŸ¥å¯¹è±¡å­˜å‚¨ï¼Œä¹Ÿæ²¡æœ‰é‚£ä¹ˆå¯é ã€‚</p><p>ç›¸æ¯”æ—¥å¿—ä¹‹ç±»çš„æ•°æ®ï¼ŒæŒ‡æ ‡æ•°æ®çš„ä½“é‡è¾ƒå°ï¼Œä¸€èˆ¬å­˜å‚¨3ä¸ªæœˆå°±å¤Ÿäº†ï¼Œæ‰€ä»¥å¯¹è±¡å­˜å‚¨çš„ä¼˜åŠ¿å°±æ˜¾å¾—æ²¡é‚£ä¹ˆå¤§äº†ã€‚å¦‚æœæ˜¯æˆ‘æ¥é€‰å‹ï¼ŒVictoriaMetrics å’Œ Thanos ä¹‹é—´ï¼Œæˆ‘ä¼šé€‰æ‹©å‰è€…ã€‚</p><p>æ‰€è°“çš„è¿œç¨‹å­˜å‚¨æ–¹æ¡ˆï¼Œæ ¸å¿ƒå°±æ˜¯ Remote Read/Writeï¼Œå…¶å® Prometheus è‡ªèº«ä¹Ÿå¯ä»¥è¢«åˆ«çš„ Prometheus å½“åš Remote storageï¼Œåªè¦å¼€å¯ <code>--enable-feature=remote-write-receiver</code> è¿™ä¸ªå‚æ•°å³å¯ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ Prometheus è‡ªèº«æ€ä¹ˆæ¥æ­å»ºé›†ç¾¤ã€‚</p><h2>Prometheusè‡ªèº«æ­å»ºé›†ç¾¤</h2><p>åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šæ¶æ„å›¾ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/71/a0/71d8011b147069ac5e477086bd954da0.jpg?wh=1920x764\" alt=\"å›¾ç‰‡\"></p><p>å›¾ä¸Šæœ‰ä¸‰ä¸ª Prometheus è¿›ç¨‹ï¼Œæœ‰ä¸¤ä¸ªç”¨ä½œå­˜å‚¨ï¼Œæœ‰ä¸€ä¸ªç”¨ä½œæŸ¥è¯¢å™¨ï¼Œç”¨ä½œæŸ¥è¯¢å™¨çš„ Prometheus é€šè¿‡ Remote Read çš„æ–¹å¼è¯»å–åç«¯å¤šä¸ª Prometheus çš„æ•°æ®ï¼Œé€šè¿‡å‡ è¡Œ remote_read çš„é…ç½®å°±èƒ½å®ç°ã€‚</p><pre><code class=\"language-yaml\">remote_read:\n&nbsp; - url: \"http://prometheus01:9090/api/v1/read\"\n&nbsp; &nbsp; read_recent: true\n&nbsp; - url: \"http://prometheus02:9090/api/v1/read\"\n&nbsp; &nbsp; read_recent: true\n</code></pre><p>Prometheus çš„ remote_read ä¹Ÿæ˜¯ merge readï¼Œè·Ÿ vmselect é€»è¾‘ç±»ä¼¼ã€‚ä¸è¿‡VMé›†ç¾¤æ˜¯æœ‰å‰¯æœ¬æœºåˆ¶çš„ï¼Œä½¿ç”¨Prometheusæ¥åšé›†ç¾¤ï¼Œä¸å¤ªå¥½åšå‰¯æœ¬ã€‚å½“ç„¶ï¼Œå¯ä»¥ç²—æš´åœ°ä¸ºæ¯ä¸ªåˆ†ç‰‡æ•°æ®éƒ¨ç½²å¤šä»½é‡‡é›†å™¨å’ŒPromTSDBï¼Œä¹ŸåŸºæœ¬å¯ä»¥è§£å†³é«˜å¯ç”¨çš„é—®é¢˜ã€‚</p><p>åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¦‚æœæ‰€æœ‰æ•°æ®éƒ½æ˜¯é€šè¿‡æ‹‰çš„æ–¹å¼æ¥æ”¶é›†ï¼Œè¿™ç§æ¶æ„ä¹Ÿæ˜¯å¯ä»¥å°è¯•çš„ï¼Œä¸è¿‡æˆ‘çœ‹åˆ°å¤§éƒ¨åˆ†ä¼ä¸šéƒ½æ˜¯æ¨æ‹‰ç»“åˆï¼Œç”šè‡³æ¨æ˜¯ä¸»æµï¼ŒRemote Write åˆ°ä¸€ä¸ªç»Ÿä¸€çš„æ—¶åºåº“é›†ç¾¤ï¼Œæ˜¯ä¸€ä¸ªæ›´åŠ é¡ºç•…çš„æ–¹æ¡ˆã€‚</p><h2>å°ç»“</h2><p>è¿™ä¸€è®²æˆ‘ä»¬é‡ç‚¹å…³æ³¨äº†Prometheusç”Ÿæ€å¸¸è§çš„å­˜å‚¨æ‰©å±•é—®é¢˜ï¼Œå¹¶ç»™å‡ºäº†3ç§é›†ç¾¤è§£å†³æ–¹æ¡ˆã€‚</p><ul>\n<li>Prometheusè”é‚¦é›†ç¾¤ï¼šæŒ‰ç…§ä¸šåŠ¡æˆ–è€…åœ°åŸŸï¼Œæ‹†æˆå¤šä¸ªè¾¹ç¼˜Prometheusï¼Œç„¶ååœ¨ä¸­å¿ƒæ­å»ºä¸€ä¸ªPrometheusï¼ŒæŠŠä¸€äº›é‡è¦çš„å¤šå›¢é˜Ÿå…³æ³¨çš„æŒ‡æ ‡æˆ–éœ€è¦äºŒæ¬¡è®¡ç®—çš„æŒ‡æ ‡æ‹‰åˆ°ä¸­å¿ƒã€‚</li>\n<li>è¿œç¨‹å­˜å‚¨æ–¹æ¡ˆï¼šé€šè¿‡ Remote Read/Write åè®®ï¼ŒPrometheus å¯ä»¥å’Œç¬¬ä¸‰æ–¹å­˜å‚¨å¯¹æ¥ï¼ŒæŠŠå­˜å‚¨çš„éš¾é¢˜æŠ›ç»™äº†ç¬¬ä¸‰æ–¹æ¥è§£å†³ï¼Œå¸¸ç”¨æ–¹æ¡ˆæ˜¯ M3DBã€VictoriaMetricsã€Thanosã€‚æˆ‘æœ€æ¨èçš„æ˜¯ VictoriaMetricsï¼Œæ¶æ„ç®€å•ï¼Œæ›´å¯æ§ä¸€äº›ã€‚</li>\n<li>Prometheusè‡ªèº«æ­å»ºé›†ç¾¤ï¼šä¹Ÿæ˜¯åˆ©ç”¨äº† Remote Read/Write æœºåˆ¶ï¼Œåªæ˜¯æŠŠå­˜å‚¨æ¢æˆäº†å¤šä¸ª Prometheusï¼Œå¯¹äºå…¨éƒ¨é‡‡ç”¨æ‹‰æ¨¡å‹æŠ“å–æ•°æ®çš„å…¬å¸ï¼Œæ˜¯å¯ä»¥è€ƒè™‘çš„æ–¹æ¡ˆã€‚</li>\n</ul><p>è¿™ä¸‰ç§æ–¹æ¡ˆå¾ˆå¥½åœ°è§£å†³äº†Prometheusçš„å­˜å‚¨é—®é¢˜ï¼Œä½ å¯ä»¥æ ¹æ®å®é™…æƒ…å†µæ¥é€‰ç”¨ã€‚ä½†è¿˜æ˜¯è¦æ³¨æ„ä¸€ç‚¹ï¼Œä¸è¦åšè¿‡åº¦è®¾è®¡ã€‚å¦‚æœæ•°æ®é‡ä¸å¤§ï¼Œå°±æ— éœ€æ­å»ºæ—¶åºé›†ç¾¤ï¼Œå¾’å¢ç»´æŠ¤æˆæœ¬ã€‚</p><p>è¿™ä¸€è®²çš„å†…å®¹æˆ‘ä¹Ÿæ•´ç†äº†ä¸€ä¸ªè„‘å›¾ï¼Œå¸®ä½ ç†è§£å’Œè®°å¿†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/5a/94/5ae33622ee24e67036ffe9dae1e92594.jpg?wh=2158x1372\" alt=\"\"></p><h2>äº’åŠ¨æ—¶åˆ»</h2><p>ä¸šç•Œæ—¶åºå­˜å‚¨å…¶å®è¿œä¸æ­¢ VictoriaMetrics å’Œ Thanosï¼Œä½ ä»¬å…¬å¸é€‰æ‹©çš„æ˜¯å“ªä¸€æ¬¾ï¼Ÿä½¿ç”¨ä½“éªŒå¦‚ä½•ï¼Ÿæ¬¢è¿ä½ åœ¨è¯„è®ºåŒºèŠä¸€èŠï¼Œæˆ‘ä»¬åœ¨æ€æƒ³ä¸Šç¢°æ’ä¸€ä¸‹ï¼Œå¯¹ä½ åç»­é€‰å‹ä¼šæœ‰å¾ˆå¤§å¸®åŠ©ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™èº«è¾¹çš„æœ‹å‹ï¼Œé‚€ä»–ä¸€èµ·å­¦ä¹ ã€‚æˆ‘ä»¬ä¸‹ä¸€è®²å†è§ï¼</p>","neighbors":{"left":{"article_title":"06ï½œPromQLæœ‰å“ªäº›å¸¸è§çš„ä½¿ç”¨åœºæ™¯ï¼Ÿ","id":623851},"right":{"article_title":"08ï½œå¦‚ä½•ç”¨ Nightingale è§£å†³ Prometheus çš„å‘Šè­¦ç®¡ç†é—®é¢˜ï¼Ÿ","id":624049}},"comments":[{"had_liked":false,"id":367926,"user_name":"lei","can_delete":false,"product_type":"c1","uid":1855112,"ip_address":"æµ™æ±Ÿ","ucode":"4FFB8B984269FB","user_header":"https://static001.geekbang.org/account/avatar/00/1c/4e/88/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1675752759,"is_pvip":false,"replies":[{"id":133981,"content":"32C64Gï¼ŒSSDï¼Œä¸€å¼€å§‹ä¹Ÿæ— éœ€ç”¨ä¸€å°é…ç½®ç‰¹åˆ«é«˜çš„æœºå™¨ï¼Œéšç€æ•°æ®é‡çš„å¢é•¿ï¼Œå¯ä»¥å†å‡çº§ç¡¬ä»¶çš„é…ç½®ã€‚å½“ç„¶ï¼Œå¦‚æœæƒ³è¦ç¡¬ä»¶æ–¹ä¾¿å‡é…ï¼Œå°±éœ€è¦å€ŸåŠ©è™šæ‹Ÿæœºæˆ–å®¹å™¨ï¼ŒåŒæ—¶éœ€è¦ä½¿ç”¨åˆ†å¸ƒå¼å—å­˜å‚¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1675760661,"ip_address":"åŒ—äº¬","comment_id":367926,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"80wçš„æ•°æ®ç‚¹æ˜¯åœ¨æ€ä¹ˆæ ·çš„æœºå™¨ä¸Šæµ‹å‡ºæ¥çš„ï¼Œå†…å­˜å’Œæ ¸æ•°èƒ½å‘ŠçŸ¥ä¸‹å˜›ï¼Ÿå¦å¤–æ­£å¼ç‰ˆæ­å»ºæ—¶ï¼Œæ¨èçš„é…ç½®æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œå®˜ç½‘ä¹Ÿæ²¡æ‰¾åˆ°åˆé€‚çš„å»ºè®®ï¼","like_count":3,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":602462,"discussion_content":"32C64Gï¼ŒSSDï¼Œä¸€å¼€å§‹ä¹Ÿæ— éœ€ç”¨ä¸€å°é…ç½®ç‰¹åˆ«é«˜çš„æœºå™¨ï¼Œéšç€æ•°æ®é‡çš„å¢é•¿ï¼Œå¯ä»¥å†å‡çº§ç¡¬ä»¶çš„é…ç½®ã€‚å½“ç„¶ï¼Œå¦‚æœæƒ³è¦ç¡¬ä»¶æ–¹ä¾¿å‡é…ï¼Œå°±éœ€è¦å€ŸåŠ©è™šæ‹Ÿæœºæˆ–å®¹å™¨ï¼ŒåŒæ—¶éœ€è¦ä½¿ç”¨åˆ†å¸ƒå¼å—å­˜å‚¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675760661,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2251657,"avatar":"https://static001.geekbang.org/account/avatar/00/22/5b/89/8e0924c4.jpg","nickname":"init 3","note":"","ucode":"681FA943D99672","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":637319,"discussion_content":"GPTè¯´ ç”¨irate(prometheus_tsdb_head_samples_appended_total[1m])  å·²æ·»åŠ åˆ° head å—çš„æ ·æœ¬æ€»æ•° å‚è€ƒå€¼å¤§è‡´è¯„ä¼°  ä¸çŸ¥é“å®ƒæœ‰æ²¡æœ‰åœ¨å¿½æ‚ æˆ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1708338698,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1117738,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0e/2a/e6b443f0.jpg","nickname":"å­™è£è¾›.py","note":"","ucode":"70A9DCE005E7C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609918,"discussion_content":"32C64G  è¿™é…ç½®å·²ç»ä¸ä½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679298652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":382043,"user_name":"åŒ—æ–¹çš„çŒ«îŸîŸîŸ","can_delete":false,"product_type":"c1","uid":3727835,"ip_address":"å‰æ—","ucode":"CB34A6FF6BC654","user_header":"https://static001.geekbang.org/account/avatar/00/38/e1/db/8a30424d.jpg","comment_is_top":false,"comment_ctime":1696587719,"is_pvip":false,"replies":[{"id":139211,"content":"influxdb å‰å‡ å¹´çƒ­åº¦é«˜ï¼Œç°åœ¨è¿œæ²¡æœ‰ Thanosã€VictoriaMetrics çš„ä½¿ç”¨å¹¿æ³›ï¼Œä¸æ¨èæŠŠ influxdb ä½œä¸º Prometheus åç«¯å­˜å‚¨","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1696896337,"ip_address":"åŒ—äº¬","comment_id":382043,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œç”¨influxdbä½œä¸ºprometheusçš„è¿œç¨‹å­˜å‚¨æ–¹æ¡ˆæ€ä¹ˆæ ·ï¼Œç„¶åinfluxdbç›´æ¥å¯¹æ¥åˆ°grafanaåšæŸ¥è¯¢å±•ç¤ºï¼Œæˆ‘çœ‹influxdbçƒ­åº¦å¾ˆé«˜å•Š","like_count":2,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":629256,"discussion_content":"influxdb å‰å‡ å¹´çƒ­åº¦é«˜ï¼Œç°åœ¨è¿œæ²¡æœ‰ Thanosã€VictoriaMetrics çš„ä½¿ç”¨å¹¿æ³›ï¼Œä¸æ¨èæŠŠ influxdb ä½œä¸º Prometheus åç«¯å­˜å‚¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1696896337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":368481,"user_name":"lei","can_delete":false,"product_type":"c1","uid":1855112,"ip_address":"æµ™æ±Ÿ","ucode":"4FFB8B984269FB","user_header":"https://static001.geekbang.org/account/avatar/00/1c/4e/88/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1676376181,"is_pvip":false,"replies":[{"id":134221,"content":"æ–°ç‰ˆæœ¬ä¸çŸ¥é“å¦‚ä½•ï¼Œä¹‹å‰æˆ‘çœ‹çš„æ—¶å€™æ˜¯å…¨å±€çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1676439099,"ip_address":"åŒ—äº¬","comment_id":368481,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"VictoriaMetricsçš„æ•°æ®ä¿ç•™æ—¶é•¿å¯ä»¥é’ˆå¯¹ä¸åŒçš„ä¸šåŠ¡å•ç‹¬å»é…ç½®å—ï¼Œå¦‚æœæ˜¯å…¨å±€çš„å°±ä¸å¤ªå‹å¥½","like_count":2,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":604803,"discussion_content":"æ–°ç‰ˆæœ¬ä¸çŸ¥é“å¦‚ä½•ï¼Œä¹‹å‰æˆ‘çœ‹çš„æ—¶å€™æ˜¯å…¨å±€çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676439099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366866,"user_name":"hshopeful","can_delete":false,"product_type":"c1","uid":1200048,"ip_address":"ä¸Šæµ·","ucode":"EE8D6E0A40607E","user_header":"https://static001.geekbang.org/account/avatar/00/12/4f/b0/ab179368.jpg","comment_is_top":false,"comment_ctime":1674478818,"is_pvip":false,"replies":[{"id":133696,"content":"è¿™æ˜¯ä¸ªå¤§å‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674516412,"ip_address":"å±±ä¸œ","comment_id":366866,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"å‡ å¹´å‰åœ¨çš„å…¬å¸æ˜¯å‚è€ƒopentsdbï¼Œåº•å±‚ä½¿ç”¨hbase è‡ªç ”çš„","like_count":2,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600552,"discussion_content":"è¿™æ˜¯ä¸ªå¤§å‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674516412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å±±ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1583258,"avatar":"https://static001.geekbang.org/account/avatar/00/18/28/9a/a95d1a7e.jpg","nickname":"Eiger","note":"","ucode":"B0DA749FE53784","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630658,"discussion_content":"æ€€ç–‘æ˜¯æˆ‘å¸ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698764665,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":379416,"user_name":"javaworker","can_delete":false,"product_type":"c1","uid":1056209,"ip_address":"åŒ—äº¬","ucode":"ABF9DDDBD3BDBF","user_header":"https://static001.geekbang.org/account/avatar/00/10/1d/d1/f427b83e.jpg","comment_is_top":false,"comment_ctime":1691919830,"is_pvip":false,"replies":[{"id":138236,"content":"Prometheusæ˜¯goå†™çš„ï¼Œä¸æ˜¯javaï¼Œåªè¦æ²¡æœ‰ä½¿ç”¨cgroupé™åˆ¶ï¼Œå°±åŸºæœ¬å¯ä»¥ä½¿ç”¨åˆ°æ“ä½œç³»ç»Ÿçš„å‰©ä½™æ‰€æœ‰å†…å­˜","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1691998460,"ip_address":"åŒ—äº¬","comment_id":379416,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"è€å¸ˆï¼Œæˆ‘çš„prometheus server è¿è¡Œsqlï¼Œè¿è¡Œå‡ æ¬¡å°±å†…å­˜æº¢å‡ºäº†ï¼ŒsqlæŸ¥è¯¢ç»“æœä¹Ÿå°±4ä¸‡å¤šæ¡ï¼Œå“ªé‡Œå¯ä»¥é…ç½®serverçš„å †å†…å­˜å‘ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":625628,"discussion_content":"Prometheusæ˜¯goå†™çš„ï¼Œä¸æ˜¯javaï¼Œåªè¦æ²¡æœ‰ä½¿ç”¨cgroupé™åˆ¶ï¼Œå°±åŸºæœ¬å¯ä»¥ä½¿ç”¨åˆ°æ“ä½œç³»ç»Ÿçš„å‰©ä½™æ‰€æœ‰å†…å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1691998460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371513,"user_name":"Geek_51809f","can_delete":false,"product_type":"c1","uid":3297455,"ip_address":"åŒ—äº¬","ucode":"BF144DCBF52AD2","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJkGGBK46EQppJydxheC43vBzLqC0t0bpn08cNWW6XsLoRZsLvsR0zBgXAYcAcWDZyicHXOy4ffHsw/132","comment_is_top":false,"comment_ctime":1680001386,"is_pvip":false,"replies":[{"id":135604,"content":"esæ²¡æœ‰æä¾›remote readæ¥å£ï¼Œå¤§æ¦‚ç‡æ˜¯esè‡ªèº«è®¾è®¡ä¸é€‚åˆåšremote readè¿™ä¸ªæ”¯æŒã€‚å…¶å®å­˜å‚¨æ—¶åºæ•°æ®ä¸šç•Œç”¨esçš„å¾ˆå°‘ï¼Œeså­˜metricsæ•°æ®æ€§èƒ½ä¸€èˆ¬","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1680176209,"ip_address":"åŒ—äº¬","comment_id":371513,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"è€å¸ˆ æœ‰äº†è§£è¿œç«¯å­˜å‚¨ä½¿ç”¨esçš„æ–¹æ¡ˆå—  æˆ‘ç°åœ¨äº†è§£åˆ°ä½¿ç”¨esåªèƒ½å†™ï¼Œ ä¸æ”¯æŒè¯»ï¼Œè¿™ç§æ˜¯ä»€ä¹ˆåŸå› ä¸æ”¯æŒè¯»å‘¢","like_count":1,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611573,"discussion_content":"esæ²¡æœ‰æä¾›remote readæ¥å£ï¼Œå¤§æ¦‚ç‡æ˜¯esè‡ªèº«è®¾è®¡ä¸é€‚åˆåšremote readè¿™ä¸ªæ”¯æŒã€‚å…¶å®å­˜å‚¨æ—¶åºæ•°æ®ä¸šç•Œç”¨esçš„å¾ˆå°‘ï¼Œeså­˜metricsæ•°æ®æ€§èƒ½ä¸€èˆ¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680176209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367451,"user_name":"å…‰","can_delete":false,"product_type":"c1","uid":1284618,"ip_address":"æ±Ÿè‹","ucode":"BDA7F41566E4FE","user_header":"https://static001.geekbang.org/account/avatar/00/13/9a/0a/6c74e932.jpg","comment_is_top":false,"comment_ctime":1675239170,"is_pvip":false,"replies":[{"id":133853,"content":"Mimiræ˜¯forkè‡ªCortexï¼Œåé¢é€‰å‹å¯ä»¥ä¸ç”¨è€ƒè™‘Cortexäº†ï¼ŒMimirå’ŒThanosæ¶æ„ç±»ä¼¼ï¼Œæ ¸å¿ƒçš„é€‰å‹è€ƒè™‘æ˜¯licenseï¼Œä¸€ä¸ªæ˜¯agplv3ï¼Œä¸€ä¸ªæ˜¯apache2ã€‚VMå’ŒMimir&#47;Thanosç›¸æ¯”ï¼Œå¦‚æœæ˜¯ç¡¬ç›˜å­˜å‚¨ï¼Œå°±ç”¨VMï¼Œå¦‚æœæ˜¯å¯¹è±¡å­˜å‚¨ï¼Œå°±ç”¨Mimir&#47;Thanos","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1675331680,"ip_address":"åŒ—äº¬","comment_id":367451,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"grafana å…¬å¸å‡ºå“çš„mimiræ˜¯å¦å¯ä»¥è¯„ä»·ä¸‹è®¾è®¡ä¼˜åŠ¿å’Œåœºæ™¯ã€‚","like_count":1,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601652,"discussion_content":"Mimiræ˜¯forkè‡ªCortexï¼Œåé¢é€‰å‹å¯ä»¥ä¸ç”¨è€ƒè™‘Cortexäº†ï¼ŒMimirå’ŒThanosæ¶æ„ç±»ä¼¼ï¼Œæ ¸å¿ƒçš„é€‰å‹è€ƒè™‘æ˜¯licenseï¼Œä¸€ä¸ªæ˜¯agplv3ï¼Œä¸€ä¸ªæ˜¯apache2ã€‚VMå’ŒMimir/Thanosç›¸æ¯”ï¼Œå¦‚æœæ˜¯ç¡¬ç›˜å­˜å‚¨ï¼Œå°±ç”¨VMï¼Œå¦‚æœæ˜¯å¯¹è±¡å­˜å‚¨ï¼Œå°±ç”¨Mimir/Thanos","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675331680,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375088,"user_name":"Geek_51809f","can_delete":false,"product_type":"c1","uid":3297455,"ip_address":"åŒ—äº¬","ucode":"BF144DCBF52AD2","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJkGGBK46EQppJydxheC43vBzLqC0t0bpn08cNWW6XsLoRZsLvsR0zBgXAYcAcWDZyicHXOy4ffHsw/132","comment_is_top":false,"comment_ctime":1684896965,"is_pvip":false,"replies":[{"id":137091,"content":"æ²¡è§è¿‡è¿™ä¹ˆå¹²çš„ï¼Œæ•°æ®åº”è¯¥ä¼šæ··ä¹±","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1685698133,"ip_address":"åŒ—äº¬","comment_id":375088,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"è€å¸ˆ å¦‚æœä½¿ç”¨2å°prometheusï¼ˆé‡‡é›†ä¸€æ ·çš„æ•°æ®ï¼‰ï¼ŒåŒæ—¶å»å†™åˆ°ä¸€ä¸ªå…±äº«ç›®å½•data, è¿™æ ·å¯ä»¥è§£å†³æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚è¿™ç§æ–¹æ¡ˆåŒæ—¶å†™åˆ°ä¸€ä¸ªç›®å½•å¯ä»¥å®ç°å—","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":620006,"discussion_content":"æ²¡è§è¿‡è¿™ä¹ˆå¹²çš„ï¼Œæ•°æ®åº”è¯¥ä¼šæ··ä¹±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685698133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371749,"user_name":"è¿½é£å°‘å¹´","can_delete":false,"product_type":"c1","uid":1318664,"ip_address":"åŒ—äº¬","ucode":"C172E9CFA3FB3E","user_header":"https://static001.geekbang.org/account/avatar/00/14/1f/08/bc66fc56.jpg","comment_is_top":false,"comment_ctime":1680256580,"is_pvip":false,"replies":[{"id":135631,"content":"å¦‚æœæœ‰éœ€æ±‚ä¸€æ¬¡æ€§æŸ¥ä¸€å¹´çš„æ•°æ®è¶‹åŠ¿ï¼Œå°±å¾ˆéš¾æå®šäº†ã€‚åªæ˜¯åšæ•…éšœå®šä½ï¼Œæ²¡é—®é¢˜çš„ï¼Œä¸€èˆ¬å­˜3ä¸ªæœˆå°±æŒºå¤šäº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1680269495,"ip_address":"åŒ—äº¬","comment_id":371749,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"è€å¸ˆï¼ŒVictoriaMetrics å¼€æºç‰ˆæœ¬ç¼ºå°‘é™é‡‡æ ·åŠŸèƒ½å¯¹å­˜å‚¨å®¹é‡ã€æŸ¥è¯¢æ€§èƒ½æœ‰æ•´ä½“å½±å“å—ã€‚","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611734,"discussion_content":"å¦‚æœæœ‰éœ€æ±‚ä¸€æ¬¡æ€§æŸ¥ä¸€å¹´çš„æ•°æ®è¶‹åŠ¿ï¼Œå°±å¾ˆéš¾æå®šäº†ã€‚åªæ˜¯åšæ•…éšœå®šä½ï¼Œæ²¡é—®é¢˜çš„ï¼Œä¸€èˆ¬å­˜3ä¸ªæœˆå°±æŒºå¤šäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680269495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367937,"user_name":"è«é—®å¤©æœº","can_delete":false,"product_type":"c1","uid":1174760,"ip_address":"åŒ—äº¬","ucode":"9E7E8D87B99D8F","user_header":"https://static001.geekbang.org/account/avatar/00/11/ec/e8/79293a29.jpg","comment_is_top":false,"comment_ctime":1675756806,"is_pvip":false,"replies":[{"id":134014,"content":"ä¸€èˆ¬è½¯ä»¶éƒ½çœ‹ --help å°±å¯ä»¥äº†ã€‚.&#47;prometheus --help","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1675848601,"ip_address":"åŒ—äº¬","comment_id":367937,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"è¯·æ•™ä¸ªé—®é¢˜ï¼Œprometheus windows ç‰ˆæœ¬ï¼Œé»˜è®¤å­˜å‚¨æ—¶é—´15å¤©ï¼Œè¿™ä¸ªå¦‚ä½•æ”¹å‘¢","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":602947,"discussion_content":"ä¸€èˆ¬è½¯ä»¶éƒ½çœ‹ --help å°±å¯ä»¥äº†ã€‚./prometheus --help","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675848601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367652,"user_name":"lei","can_delete":false,"product_type":"c1","uid":1855112,"ip_address":"æµ™æ±Ÿ","ucode":"4FFB8B984269FB","user_header":"https://static001.geekbang.org/account/avatar/00/1c/4e/88/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1675406392,"is_pvip":false,"replies":[{"id":133881,"content":"å¯¹ï¼Œæ•°æ®æ˜¯åœ¨vmä¸Š","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1675412462,"ip_address":"åŒ—äº¬","comment_id":367652,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"å¤§ä½¬å’¨è¯¢ä¸‹ï¼ŒPrometheusçš„è¿œç¨‹å­˜å‚¨æ–¹æ¡ˆæ˜¯ä¸æ˜¯åªåˆ©ç”¨äº†Prometheusçš„pullåŠŸèƒ½ï¼Œå­˜å‚¨å®Œå…¨æ”¾åœ¨VMä¸Šã€‚n9eåœ¨writeçš„æ—¶å€™ä¹Ÿæ˜¯ç›´æ¥å¯¹æ¥VMï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601779,"discussion_content":"å¯¹ï¼Œæ•°æ®æ˜¯åœ¨vmä¸Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675412462,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367603,"user_name":"April","can_delete":false,"product_type":"c1","uid":1106706,"ip_address":"åŒ—äº¬","ucode":"FEB779C5D2946C","user_header":"https://static001.geekbang.org/account/avatar/00/10/e3/12/fd02db2e.jpg","comment_is_top":false,"comment_ctime":1675346909,"is_pvip":false,"replies":[{"id":133890,"content":"é«˜å¯ç”¨è¿™å—ï¼Œæ— éå°±æ˜¯å­˜å‚¨å’Œå‘Šè­¦å¼•æ“ã€‚å­˜å‚¨å°±æ˜¯æœ¬æ–‡ä»‹ç»çš„å†…å®¹ï¼Œå‘Šè­¦çš„è¯å»ºè®®ç”¨ Nightingaleï¼ŒNightingaleçš„å‘Šè­¦å¼•æ“å¯ä»¥éƒ¨ç½²å¤šä¸ªèŠ‚ç‚¹åšæˆé«˜å¯ç”¨é›†ç¾¤","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1675413115,"ip_address":"åŒ—äº¬","comment_id":367603,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"PrometheusğŸˆ¶ï¸æ¨èçš„é«˜å¯ç”¨æ–¹æ¡ˆå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601789,"discussion_content":"é«˜å¯ç”¨è¿™å—ï¼Œæ— éå°±æ˜¯å­˜å‚¨å’Œå‘Šè­¦å¼•æ“ã€‚å­˜å‚¨å°±æ˜¯æœ¬æ–‡ä»‹ç»çš„å†…å®¹ï¼Œå‘Šè­¦çš„è¯å»ºè®®ç”¨ Nightingaleï¼ŒNightingaleçš„å‘Šè­¦å¼•æ“å¯ä»¥éƒ¨ç½²å¤šä¸ªèŠ‚ç‚¹åšæˆé«˜å¯ç”¨é›†ç¾¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675413115,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1106706,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e3/12/fd02db2e.jpg","nickname":"April","note":"","ucode":"FEB779C5D2946C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":601848,"discussion_content":"é‡‡é›†è¿™å—å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675420737,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":601789,"ip_address":"åŒ—äº¬","group_id":0},"score":601848,"extra":""}]}]},{"had_liked":false,"id":367195,"user_name":"leeeo","can_delete":false,"product_type":"c1","uid":2233191,"ip_address":"å››å·","ucode":"03188467CA0E16","user_header":"https://static001.geekbang.org/account/avatar/00/22/13/67/910fb1dc.jpg","comment_is_top":false,"comment_ctime":1675005283,"is_pvip":false,"replies":[{"id":133785,"content":"ä¸ä¼šï¼Œvmæ˜¯merge readï¼Œæ•°æ®åœ¨å“ªä¸ªnodeéƒ½æ— æ‰€è°“ï¼Œæ‰€ä»¥å°±æ— éœ€æŒªåŠ¨æ•°æ®äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1675045686,"ip_address":"åŒ—äº¬","comment_id":367195,"utype":1}],"discussion_count":3,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"VMä½œåç«¯ï¼Œå½“æ‰©å±•å­˜å‚¨èŠ‚ç‚¹çš„æ—¶å€™ï¼Œæ˜¯å¦ä¼šå¯¼è‡´åŸæœ‰èŠ‚ç‚¹çš„æ•°æ®é‡æ–°åˆ†å¸ƒå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601073,"discussion_content":"ä¸ä¼šï¼Œvmæ˜¯merge readï¼Œæ•°æ®åœ¨å“ªä¸ªnodeéƒ½æ— æ‰€è°“ï¼Œæ‰€ä»¥å°±æ— éœ€æŒªåŠ¨æ•°æ®äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675045686,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1829111,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/e8/f7/1b45fa46.jpg","nickname":"wcf","note":"","ucode":"6E3B0A47B963E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":611150,"discussion_content":"è¿™æ ·è€èŠ‚ç‚¹çš„æ•°æ®å²‚ä¸æ˜¯ä¸€ç›´æ¯”æ–°èŠ‚ç‚¹å¤šï¼Œåˆ°å®¹é‡ä¸Šé™äº†æ€ä¹ˆåŠï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679967642,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":601073,"ip_address":"åŒ—äº¬","group_id":0},"score":611150,"extra":""}]},{"author":{"id":2233191,"avatar":"https://static001.geekbang.org/account/avatar/00/22/13/67/910fb1dc.jpg","nickname":"leeeo","note":"","ucode":"03188467CA0E16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601550,"discussion_content":"insertå’Œselectæ˜¯æ ¹æ®ç®€å•çš„hashæ¥æ‰¾èŠ‚ç‚¹ä½ç½®çš„ï¼Œå¦‚æœèŠ‚ç‚¹å¢å¤šï¼Œé‚£ä¹ˆåŒä¸€ä¸ªæ•°æ®hashä¼šå˜åŒ–å§ğŸ¤”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675295471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367180,"user_name":"èƒ¡é£","can_delete":false,"product_type":"c1","uid":3211245,"ip_address":"ä¸Šæµ·","ucode":"D8B4E504C7C9BF","user_header":"https://static001.geekbang.org/account/avatar/00/30/ff/ed/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1674986712,"is_pvip":false,"replies":[{"id":133782,"content":"å•æœºçš„è¯ï¼ŒPrometheusé»˜è®¤æŠŠæ•°æ®å­˜åˆ°dataç›®å½•ï¼Œdataç›®å½•å¦‚æœæ˜¯äº‘å­˜å‚¨ï¼Œæ•°æ®è‡ªç„¶å°±æ˜¯å†™åˆ°äº‘å­˜å‚¨äº†å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674990505,"ip_address":"åŒ—äº¬","comment_id":367180,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå¦‚æœæ˜¯å•æœºæ–¹æ¡ˆï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨äº‘å­˜å‚¨å§ï¼Œä¸ä¸€å®šéè¦ä½¿ç”¨ç¬¬ä¸‰æ–¹æ—¶è®¸æ•°æ®åº“æ­é…äº‘å­˜å‚¨å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601017,"discussion_content":"å•æœºçš„è¯ï¼ŒPrometheusé»˜è®¤æŠŠæ•°æ®å­˜åˆ°dataç›®å½•ï¼Œdataç›®å½•å¦‚æœæ˜¯äº‘å­˜å‚¨ï¼Œæ•°æ®è‡ªç„¶å°±æ˜¯å†™åˆ°äº‘å­˜å‚¨äº†å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674990506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366861,"user_name":"peter","can_delete":false,"product_type":"c1","uid":1058183,"ip_address":"åŒ—äº¬","ucode":"261C3FC001DE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","comment_is_top":false,"comment_ctime":1674469720,"is_pvip":false,"replies":[{"id":133688,"content":"1ï¼Œä¸€èˆ¬ç”¨lvsä¹‹ç±»çš„\n2ï¼Œæ˜¯\n3ï¼Œä¸€èˆ¬ä¼šåˆ†æˆå¤šä¸ªé›†ç¾¤ï¼Œæœ‰äº›é›†ç¾¤ä¹Ÿæ˜¯å•æœºprometheuså°±ä¸Šäº†ï¼Œæœ‰äº›æ˜¯vm thanosä¹‹ç±»åšå­˜å‚¨ï¼Œè¿˜æœ‰äº›è‡ªç ”æ—¶åºåº“\n4ï¼Œä¸€èˆ¬æ²¡é‚£ä¹ˆå¤§ï¼Œå­˜15å¤©ï¼Œä¸€èˆ¬ä¹Ÿå°±æ˜¯å‡ ç™¾G","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674481118,"ip_address":"å±±ä¸œ","comment_id":366861,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜ï¼š\nQ1ï¼švmselectçš„è´Ÿè½½å‡è¡¡ï¼Œä¸€èˆ¬ç”¨ä»€ä¹ˆï¼Ÿ\nQ2ï¼šthanosçš„å¯¹è±¡å­˜å‚¨ï¼Œæ˜¯äº‘å­˜å‚¨å—ï¼Ÿæ¯”å¦‚é˜¿é‡Œäº‘ä¸€ç±»çš„ã€‚å¦‚æœæ˜¯çš„è¯ï¼Œç›¸å½“äºthanoséœ€è¦å€ŸåŠ©äºç¬¬ä¸‰æ–¹äº†ã€‚\nQ3ï¼šå¤§å…¬å¸æ˜¯æ€ä¹ˆä½¿ç”¨prometheusçš„ï¼Ÿ\nå¯¹äºä¸­å°å…¬å¸ï¼Œä¸€ä¸ªprometheuså•æœºå°±å¤Ÿäº†ï¼Œä½†æ˜¯ï¼Œå¯¹äºå¤§å‚ï¼Œæ¯”å¦‚é˜¿é‡Œã€äº¬ä¸œä¸€ç±»çš„å…¬å¸ï¼Œä¼šæ€ä¹ˆä½¿ç”¨prometheusï¼Ÿ\nQ4ï¼šå•æœºprometheusçš„æœ¬åœ°ç¡¬ç›˜ä¸€èˆ¬å¤šå¤§ï¼Ÿ10Tå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600537,"discussion_content":"1ï¼Œä¸€èˆ¬ç”¨lvsä¹‹ç±»çš„\n2ï¼Œæ˜¯\n3ï¼Œä¸€èˆ¬ä¼šåˆ†æˆå¤šä¸ªé›†ç¾¤ï¼Œæœ‰äº›é›†ç¾¤ä¹Ÿæ˜¯å•æœºprometheuså°±ä¸Šäº†ï¼Œæœ‰äº›æ˜¯vm thanosä¹‹ç±»åšå­˜å‚¨ï¼Œè¿˜æœ‰äº›è‡ªç ”æ—¶åºåº“\n4ï¼Œä¸€èˆ¬æ²¡é‚£ä¹ˆå¤§ï¼Œå­˜15å¤©ï¼Œä¸€èˆ¬ä¹Ÿå°±æ˜¯å‡ ç™¾G","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674481118,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å±±ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":368055,"user_name":"å°ç‹¼","can_delete":false,"product_type":"c1","uid":1012488,"ip_address":"åŠ æ‹¿å¤§","ucode":"A342DAD414CE10","user_header":"https://static001.geekbang.org/account/avatar/00/0f/73/08/dd9a4a38.jpg","comment_is_top":false,"comment_ctime":1675848745,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"ä½¿ç”¨äº†influxdbä½œä¸ºè¿œç¨‹å­˜å‚¨","like_count":1},{"had_liked":false,"id":367352,"user_name":"ATony","can_delete":false,"product_type":"c1","uid":1622203,"ip_address":"ä¸Šæµ·","ucode":"5DDF340B9127F6","user_header":"https://static001.geekbang.org/account/avatar/00/18/c0/bb/3b48ea2c.jpg","comment_is_top":false,"comment_ctime":1675156126,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"æµ‹è¯•äº†VictoriaMetricså’Œthanos çš„æ•°æ®æŸ¥è¯¢ï¼ŒVictoriaMetricsæ˜¯å¿«ç‚¹ï¼ŒåŒä¸€æ¡promql åœ¨VictoriaMetricså’Œthanosä¸ŠæŸ¥è¯¢ï¼ŒæŸä¸€ä¸ªæ—¶é—´ç‚¹æ•°æ®ç»“æœä¸ä¸€æ ·ï¼Œå¯¹æ¯”äº†prometheusçš„ç›‘æ§æ•°æ®ï¼Œthanosåè€Œæ›´ä¸ºå‡†ç¡®ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆ?\n","like_count":1},{"had_liked":false,"id":388636,"user_name":"Rebby","can_delete":false,"product_type":"c1","uid":1071771,"ip_address":"ä¿„ç½—æ–¯","ucode":"C2723F5FF14483","user_header":"https://static001.geekbang.org/account/avatar/00/10/5a/9b/215cd2e0.jpg","comment_is_top":false,"comment_ctime":1710562865,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"æˆ‘ä»¬æ˜¯ç”¨druid","like_count":0},{"had_liked":false,"id":385452,"user_name":"æµæ˜Ÿæ³ª","can_delete":false,"product_type":"c1","uid":1307439,"ip_address":"ç¦å»º","ucode":"AA15B14A7B3C37","user_header":"https://static001.geekbang.org/account/avatar/00/13/f3/2f/fe5f0daf.jpg","comment_is_top":false,"comment_ctime":1702633640,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"æƒ³é—®ä¸‹ è¿™ä¸ªé‡‡é›† å¤špro server æ•°æ®æ˜¯æ€ä¹ˆmergeçš„.  è¿™ç§ä¸¤ä»½æ•°æ® æ˜¯æ€ä¹ˆå¤„ç†çš„","like_count":0},{"had_liked":false,"id":378989,"user_name":"IvanYu","can_delete":false,"product_type":"c1","uid":1056236,"ip_address":"æµ™æ±Ÿ","ucode":"C6C6E412E36CB7","user_header":"https://static001.geekbang.org/account/avatar/00/10/1d/ec/62fb1270.jpg","comment_is_top":false,"comment_ctime":1691110950,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"ç­éœ¸ä¼šæ‰“å“æŒ‡","like_count":0},{"had_liked":false,"id":366853,"user_name":"æ— åæ— å§“","can_delete":false,"product_type":"c1","uid":2621412,"ip_address":"åŒ—äº¬","ucode":"487BD5AA2CD305","user_header":"https://static001.geekbang.org/account/avatar/00/27/ff/e4/927547a9.jpg","comment_is_top":false,"comment_ctime":1674453642,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100522501,"comment_content":"çœ‹æ¥å¯ä»¥é›†ç¾¤æ¨¡å¼","like_count":0}]}
{"id":642179,"title":"02ï½œæ— éœ€ä»»ä½•æœºå™¨å­¦ä¹ ï¼Œå¦‚ä½•åˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹åšæƒ…æ„Ÿåˆ†æï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å¾æ–‡æµ©ã€‚</p><p>ä¸Šä¸€è®²æˆ‘ä»¬çœ‹åˆ°äº†ï¼Œå¤§å‹è¯­è¨€æ¨¡å‹çš„æ¥å£å…¶å®éå¸¸ç®€å•ã€‚åƒOpenAIå°±åªæä¾›äº†Completeå’ŒEmbeddingä¸¤ä¸ªæ¥å£ï¼Œå…¶ä¸­ï¼ŒCompleteå¯ä»¥è®©æ¨¡å‹æ ¹æ®ä½ çš„è¾“å…¥è¿›è¡Œè‡ªåŠ¨ç»­å†™ï¼ŒEmbeddingå¯ä»¥å°†ä½ è¾“å…¥çš„æ–‡æœ¬è½¬åŒ–æˆå‘é‡ã€‚</p><p>ä¸è¿‡åˆ°è¿™é‡Œï¼Œä½ çš„ç–‘é—®å¯èƒ½å°±æ¥äº†ã€‚ä¸æ˜¯è¯´ç°åœ¨çš„å¤§è¯­è¨€æ¨¡å‹å¾ˆå‰å®³å—ï¼Ÿä¼ ç»Ÿçš„è‡ªç„¶è¯­è¨€å¤„ç†é—®é¢˜éƒ½å¯ä»¥é€šè¿‡å¤§æ¨¡å‹è§£å†³ã€‚å¯æ˜¯ç”¨è¿™ä¹ˆç®€å•çš„ä¸¤ä¸ªAPIï¼Œèƒ½å¤Ÿå®ŒæˆåŸæ¥éœ€è¦é€šè¿‡å„ç§NLPæŠ€æœ¯è§£å†³çš„é—®é¢˜å—ï¼Ÿæ¯”å¦‚æƒ…æ„Ÿåˆ†æã€æ–‡æœ¬åˆ†ç±»ã€æ–‡ç« èšç±»ã€æ‘˜è¦æ’°å†™ã€æœç´¢ï¼Œè¿™ä¸€ç³»åˆ—é—®é¢˜æ€ä¹ˆé€šè¿‡è¿™ä¸¤ä¸ªæ¥å£è§£å†³å‘¢ï¼Ÿ</p><p>åˆ«æ€¥ï¼Œåœ¨æ¥ä¸‹æ¥çš„å‡ è®²é‡Œï¼Œæˆ‘ä¼šå‘Šè¯‰ä½ ï¼Œæ€ä¹ˆåˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹æä¾›çš„è¿™ä¸¤ä¸ªç®€å•çš„APIæ¥è§£å†³ä¼ ç»Ÿçš„è‡ªç„¶è¯­è¨€å¤„ç†é—®é¢˜ã€‚è¿™ä¸€è®²æˆ‘ä»¬å°±å…ˆä»ä¸€ä¸ªæœ€å¸¸è§çš„è‡ªç„¶è¯­è¨€å¤„ç†é—®é¢˜â€”â€”â€œæƒ…æ„Ÿåˆ†æâ€å¼€å§‹ï¼Œæ¥çœ‹çœ‹æˆ‘ä»¬æ€ä¹ˆæŠŠå¤§è¯­è¨€æ¨¡å‹ç”¨èµ·æ¥ã€‚</p><h2>ä¼ ç»Ÿçš„äºŒåˆ†ç±»æ–¹æ³•ï¼šæœ´ç´ è´å¶æ–¯ä¸é€»è¾‘å›å½’</h2><p>â€œæƒ…æ„Ÿåˆ†æâ€é—®é¢˜ï¼Œæ˜¯æŒ‡æˆ‘ä»¬æ ¹æ®ä¸€æ®µæ–‡å­—ï¼Œå»åˆ¤æ–­å®ƒçš„æ€åº¦æ˜¯æ­£é¢çš„è¿˜æ˜¯è´Ÿé¢çš„ã€‚åœ¨ä¼ ç»Ÿçš„äº’è”ç½‘äº§å“é‡Œï¼Œç»å¸¸ä¼šè¢«ç”¨æ¥åˆ†æç”¨æˆ·å¯¹äº§å“ã€æœåŠ¡çš„è¯„ä»·ã€‚æ¯”å¦‚å¤§ä¼—ç‚¹è¯„é‡Œé¢ï¼Œä½ å¯¹é¤é¦†çš„è¯„è®ºï¼Œåœ¨äº¬ä¸œä¹°ä¸ªä¸œè¥¿ï¼Œä½ å¯¹å•†å“çš„è¯„è®ºï¼Œéƒ½ä¼šè¢«å¹³å°æ‹¿å»åˆ†æï¼Œç»™å•†å®¶æˆ–è€…é¤é¦†çš„è¯„åˆ†åšå‚è€ƒã€‚ä¹Ÿæœ‰äº›å“ç‰Œï¼Œä¼šä¸“é—¨æŠ“å–ç¤¾äº¤ç½‘ç»œé‡Œç”¨æˆ·å¯¹è‡ªå·±äº§å“çš„è¯„ä»·ï¼Œæ¥è¿›è¡Œæƒ…æ„Ÿåˆ†æï¼Œåˆ¤æ–­æ¶ˆè´¹è€…å¯¹è‡ªå·±çš„äº§å“è¯„ä»·æ˜¯æ­£é¢è¿˜æ˜¯è´Ÿé¢çš„ï¼Œå¹¶ä¸”ä¼šæ ¹æ®è¿™äº›è¯„ä»·æ¥æ”¹è¿›è‡ªå·±çš„äº§å“ã€‚</p><!-- [[[read_end]]] --><p>å¯¹äºâ€œæƒ…æ„Ÿåˆ†æâ€ç±»å‹çš„é—®é¢˜ï¼Œä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆå°±æ˜¯<strong>æŠŠå®ƒå½“æˆæ˜¯ä¸€ä¸ªåˆ†ç±»é—®é¢˜</strong>ï¼Œä¹Ÿå°±æ˜¯å…ˆæ‹¿ä¸€éƒ¨åˆ†è¯„è®ºæ•°æ®ï¼Œäººå·¥æ ‡æ³¨ä¸€ä¸‹è¿™äº›è¯„è®ºæ˜¯æ­£é¢è¿˜æ˜¯è´Ÿé¢çš„ã€‚å¦‚æœæœ‰ä¸ªç”¨æˆ·è¯´â€œè¿™å®¶é¤é¦†çœŸå¥½åƒâ€ï¼Œé‚£ä¹ˆå°±æ ‡æ³¨æˆâ€œæ­£é¢æƒ…æ„Ÿâ€ã€‚å¦‚æœæœ‰ä¸ªç”¨æˆ·è¯´â€œè¿™ä¸ªæ‰‹æœºè´¨é‡ä¸å¥½â€ï¼Œé‚£ä¹ˆå°±æŠŠå¯¹åº”çš„è¯„è®ºæ ‡æ³¨æˆè´Ÿé¢çš„ã€‚</p><p>æˆ‘ä»¬æŠŠæ ‡æ³¨å¥½çš„æ•°æ®ï¼Œå–‚ç»™ä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œè®­ç»ƒå‡ºä¸€ç»„å‚æ•°ã€‚ç„¶åæŠŠå‰©ä¸‹çš„æ²¡æœ‰äººå·¥æ ‡æ³¨è¿‡çš„æ•°æ®ä¹Ÿæ‹¿ç»™è®­ç»ƒå¥½çš„æ¨¡å‹è®¡ç®—ä¸€ä¸‹ã€‚æ¨¡å‹å°±ä¼šç»™ä½ ä¸€ä¸ªåˆ†æ•°æˆ–è€…æ¦‚ç‡ï¼Œå‘Šè¯‰ä½ è¿™ä¸€æ®µè¯„è®ºçš„æ„Ÿæƒ…æ˜¯æ­£é¢çš„ï¼Œè¿˜æ˜¯è´Ÿé¢çš„ã€‚</p><p>å¯ä»¥ç”¨æ¥åšæƒ…æ„Ÿåˆ†æçš„æ¨¡å‹æœ‰å¾ˆå¤šï¼Œè¿™äº›ç®—æ³•èƒŒåéƒ½æ˜¯åŸºäºæŸä¸€ä¸ªæ•°å­¦æ¨¡å‹ã€‚æ¯”å¦‚ï¼Œå¾ˆå¤šæ•™ç§‘ä¹¦é‡Œï¼Œå°±ä¼šæ•™ä½ ç”¨<strong>æœ´ç´ è´å¶æ–¯ç®—æ³•</strong>æ¥è¿›è¡Œåƒåœ¾é‚®ä»¶åˆ†ç±»ã€‚æœ´ç´ è´å¶æ–¯çš„æ¨¡å‹ï¼Œå°±æ˜¯ç®€å•åœ°ç»Ÿè®¡æ¯ä¸ªå•è¯å’Œå¥½è¯„å·®è¯„ä¹‹é—´çš„æ¡ä»¶æ¦‚ç‡ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœä¸€ä¸ªè¯è¯­åœ¨å·®è¯„é‡Œå‡ºç°çš„æ¦‚ç‡æ¯”å¥½è¯„é‡Œé«˜å¾—å¤šï¼Œé‚£è¿™ä¸ªè¯è¯­æ‰€åœ¨çš„è¯„è®ºï¼Œå°±æ›´æœ‰å¯èƒ½æ˜¯ä¸€ä¸ªå·®è¯„ã€‚</p><p>$$      P(c|x)=\\frac{P(x|c)PÂ©}{P(x)}$$</p><p>$$P(c|X) \\propto P(x_{1}|c)\\times P(x_{2}|c)\\times Â·Â·Â·\\times P(x_{n}|c)\\times PÂ©$$</p><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè®­ç»ƒé›†åŒ…å«4å°é‚®ä»¶ï¼Œå…¶ä¸­2å°æ˜¯åƒåœ¾é‚®ä»¶ï¼Œ2å°æ˜¯éåƒåœ¾é‚®ä»¶ã€‚è®­ç»ƒé›†é‡Œçš„é‚®ä»¶åŒ…å«è¿™äº›å•è¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d0/c5/d0d33ccd0c43603bb127fcb868b79ec5.png?wh=2123x840\" alt=\"å›¾ç‰‡\"></p><p>ç„¶åæ¥äº†ä¸€å°æ–°é‚®ä»¶ï¼Œé‡Œé¢çš„å•è¯æ˜¯ï¼šbuyã€moneyã€sellã€‚</p><p>é€šè¿‡è¿™äº›å•è¯å‡ºç°çš„æ¦‚ç‡ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±å¯ä»¥é¢„å…ˆç®—å‡ºè¿™å°é‚®ä»¶æ˜¯åƒåœ¾é‚®ä»¶è¿˜æ˜¯æ™®é€šé‚®ä»¶ã€‚</p><ul>\n<li>$P(buy|åƒåœ¾) = 2 \\div 2 = 1$</li>\n<li>$P(money|åƒåœ¾) = 2 \\div 2 = 1$</li>\n<li>$P(sell|åƒåœ¾) = 1 \\div 2 = 0.5$</li>\n<li>$P(buy|æ™®é€š) = 0 \\div 2 =0$</li>\n<li>$P(money|æ™®é€š) = 0 \\div 2 =0$</li>\n<li>$P(sell|æ™®é€š) = 1 div 2 =0.5$</li>\n</ul><p>ç„¶åæˆ‘ä»¬æŠŠè¿™å°é‚®ä»¶é‡Œæ‰€æœ‰è¯è¯­çš„æ¡ä»¶æ¦‚ç‡ç”¨å…¨æ¦‚ç‡å…¬å¼ä¹˜èµ·æ¥ï¼Œå°±å¾—åˆ°äº†è¿™å°é‚®ä»¶æ˜¯åƒåœ¾é‚®ä»¶è¿˜æœ‰æ™®é€šé‚®ä»¶çš„æ¦‚ç‡ã€‚</p><p>$$P(åƒåœ¾|X) \\propto P(buy|åƒåœ¾) \\times P(money|åƒåœ¾) \\times P(sell|åƒåœ¾) \\times P(åƒåœ¾) = 1 \\times 1 \\times 0.5  \\times 0.5 = 0.25$$</p><p>$$P(æ™®é€š|X) \\propto P(buy|æ™®é€š) \\times P(money|æ™®é€š) \\times P(sell|æ™®é€š) \\times P(æ™®é€š) =  0 \\times 0 \\times 0.5 \\times 0.5 = 0$$</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å‘ç° $P(åƒåœ¾|X) &gt; P(æ™®é€š|X)$ï¼Œè€Œä¸” $P(æ™®é€š|X)$ å…¶å®ç­‰äº0ã€‚é‚£å¦‚æœç”¨æœ´ç´ è´å¶æ–¯ç®—æ³•ï¼Œæˆ‘ä»¬å°±ä¼šè®¤ä¸ºè¿™å°é‚®ä»¶100%æ˜¯åƒåœ¾é‚®ä»¶ã€‚å¦‚æœä½ è§‰å¾—è‡ªå·±æ•°å­¦ä¸å¤ªå¥½ï¼Œè¿™ä¸ªä¾‹å­æ²¡æœ‰çœ‹æ˜ç™½ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œå› ä¸ºæˆ‘ä»¬æ¥ä¸‹æ¥çš„AIåº”ç”¨å¼€å‘éƒ½ä¸éœ€è¦é¢„å…ˆæŒæ¡è¿™äº›æ•°å­¦çŸ¥è¯†ï¼Œæ‰€ä»¥ä¸è¦æœ‰å¿ƒç†è´Ÿæ‹…ã€‚</p><p>ç±»ä¼¼çš„ï¼Œåƒé€»è¾‘å›å½’ã€éšæœºæ£®æ—ç­‰æœºå™¨å­¦ä¹ ç®—æ³•éƒ½å¯ä»¥æ‹¿æ¥åšåˆ†ç±»ã€‚ä½ åœ¨ç½‘ä¸Šï¼Œç‰¹åˆ«æ˜¯ Kaggle è¿™ä¸ªæœºå™¨å­¦ä¹ æ¯”èµ›çš„ç½‘ç«™é‡Œï¼Œå¯ä»¥æœç´¢åˆ°å¾ˆå¤šå…¶ä»–äººä½¿ç”¨è¿™äº›ä¼ ç»Ÿæ–¹æ³•æ¥è®¾è®¡æƒ…æ„Ÿåˆ†æçš„è§£å†³æ–¹æ¡ˆã€‚è¿™äº›æ–¹æ¡ˆéƒ½ä»¥Jupyter Notebookçš„å½¢å¼å‡ºç°ï¼Œæˆ‘åœ¨è¿™é‡Œæ”¾ä¸ª<a href=\"https://www.kaggle.com/code/ankumagawa/sentimental-analysis-using-naive-bayes-classifier\">é“¾æ¥</a>ï¼Œä½ æœ‰å…´è¶£çš„è¯ä¹Ÿå¯ä»¥å»ç ”ç©¶ä¸€ä¸‹ã€‚</p><h2>ä¼ ç»Ÿæ–¹æ³•çš„æŒ‘æˆ˜ï¼šç‰¹å¾å·¥ç¨‹ä¸æ¨¡å‹è°ƒå‚</h2><p>ä½†è¿™äº›ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œæƒ³è¦å–å¾—å¥½çš„æ•ˆæœï¼Œè¿˜æ˜¯é¢‡æœ‰é—¨æ§›çš„ã€‚é™¤äº†è¦çŸ¥é“æœ‰å“ªäº›ç®—æ³•å¯ä»¥ç”¨ï¼Œè¿˜æœ‰ä¸¤æ–¹é¢çš„å·¥ä½œéå¸¸ä¾èµ–ç»éªŒã€‚</p><h3>ç‰¹å¾å·¥ç¨‹</h3><p>ç¬¬ä¸€ä¸ªæ˜¯ç‰¹å¾å·¥ç¨‹ã€‚å¯¹äºå¾ˆå¤šè‡ªç„¶è¯­è¨€é—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬åªæ˜¯æ‹¿ä¸€æ®µè¯é‡Œé¢æ˜¯å¦å‡ºç°äº†ç‰¹å®šçš„è¯è¯­æ¥è®¡ç®—æ¦‚ç‡ï¼Œä¸ä¸€å®šæ˜¯æœ€åˆé€‚çš„ã€‚æ¯”å¦‚â€œè¿™å®¶é¤é¦†å¤ªç³Ÿç³•äº†ï¼Œä¸€ç‚¹éƒ½ä¸å¥½åƒâ€å’Œ â€œè¿™å®¶é¤é¦†å¤ªå¥½åƒäº†ï¼Œä¸€ç‚¹éƒ½ä¸ç³Ÿç³•â€è¿™æ ·ä¸¤å¥è¯ï¼Œä»æ„æ€ä¸Šæ˜¯å®Œå…¨ç›¸åçš„ã€‚ä½†æ˜¯é‡Œé¢å‡ºç°çš„è¯è¯­å…¶å®æ˜¯ç›¸åŒçš„ã€‚åœ¨ä¼ ç»Ÿçš„è‡ªç„¶è¯­è¨€å¤„ç†ä¸­ï¼Œæˆ‘ä»¬ä¼šé€šè¿‡ä¸€äº›ç‰¹å¾å·¥ç¨‹çš„æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬ä¸åªæ˜¯é‡‡ç”¨å•ä¸ªè¯è¯­å‡ºç°çš„æ¦‚ç‡ï¼Œè¿˜å¢åŠ å‰åä¸¤ä¸ªæˆ–è€…ä¸‰ä¸ªç›¸è¿è¯è¯­çš„ç»„åˆï¼Œä¹Ÿå°±æ˜¯é€šè¿‡æ‰€è°“çš„2-Gramï¼ˆBigramåŒå­—èŠ‚è¯ç»„ï¼‰å’Œ3-Gramï¼ˆTrigramä¸‰å­—èŠ‚è¯ç»„ï¼‰ä¹Ÿæ¥è®¡ç®—æ¦‚ç‡ã€‚åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­é‡Œï¼Œç¬¬ä¸€å¥å·®è¯„ï¼Œå°±ä¼šæœ‰â€œå¤ªâ€å’Œâ€œç³Ÿç³•â€ç»„åˆåœ¨ä¸€èµ·çš„â€œå¤ªç³Ÿç³•â€ï¼Œä»¥åŠâ€œä¸â€å’Œâ€œå¥½åƒâ€ç»„åˆåœ¨ä¸€èµ·çš„â€œä¸å¥½åƒâ€ã€‚è€Œåé¢ä¸€å¥é‡Œå°±æœ‰â€œå¤ªå¥½åƒâ€å’Œâ€œä¸ç³Ÿç³•â€ä¸¤ä¸ªç»„åˆã€‚æœ‰äº†è¿™æ ·çš„2-Gramçš„ç»„åˆï¼Œæˆ‘ä»¬åˆ¤æ–­ç”¨æˆ·å¥½è¯„å·®è¯„çš„åˆ¤æ–­èƒ½åŠ›å°±æ¯”å…‰ç”¨å•ä¸ªè¯è¯­æ˜¯å¦å‡ºç°è¦å¥½å¤šäº†ã€‚</p><p>è¿™æ ·çš„ç‰¹å¾å·¥ç¨‹çš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚<strong>å»é™¤åœç”¨è¯</strong>ï¼Œä¹Ÿå°±æ˜¯â€œçš„åœ°å¾—â€è¿™æ ·çš„è¯è¯­ï¼Œ<strong>å»æ‰è¿‡äºä½é¢‘çš„è¯è¯­</strong>ï¼Œæ¯”å¦‚ä¸€äº›å¶å°”å‡ºç°çš„ä¸“æœ‰åè¯ã€‚æˆ–è€…å¯¹äºæœ‰äº›è¯è¯­ç‰¹å¾é‡‡ç”¨ <strong>TF-IDF</strong>ï¼ˆè¯é¢‘-é€†æ–‡æ¡£é¢‘ç‡ï¼‰è¿™æ ·çš„ç»Ÿè®¡ç‰¹å¾ï¼Œè¿˜æœ‰åœ¨è‹±è¯­é‡Œé¢å¯¹ä¸åŒæ—¶æ€çš„å•è¯ç»Ÿä¸€æ¢æˆç°åœ¨æ—¶ã€‚</p><p>ä¸åŒçš„ç‰¹å¾å·¥ç¨‹æ–¹å¼ï¼Œåœ¨ä¸åŒçš„é—®é¢˜ä¸Šæ•ˆæœä¸ä¸€æ ·ï¼Œæ¯”å¦‚æˆ‘ä»¬åšæƒ…æ„Ÿåˆ†æï¼Œå¯èƒ½å°±éœ€è¦ä¿ç•™æ ‡ç‚¹ç¬¦å·ï¼Œå› ä¸ºåƒâ€œï¼â€è¿™æ ·çš„ç¬¦å·å¾€å¾€è•´å«ç€å¼ºçƒˆçš„æƒ…æ„Ÿç‰¹å¾ã€‚ä½†æ˜¯ï¼Œè¿™äº›ç§ç§ç»†å¾®çš„æŠ€å·§ï¼Œè®©æˆ‘ä»¬åœ¨æƒ³è¦è§£å†³ä¸€ä¸ªç®€å•çš„æƒ…æ„Ÿåˆ†æé—®é¢˜æ—¶ï¼Œä¹Ÿéœ€è¦æ’°å†™å¤§é‡æ–‡æœ¬å¤„ç†çš„ä»£ç ï¼Œè¿˜è¦äº†è§£é’ˆå¯¹å½“å‰ç‰¹å®šåœºæ™¯çš„æŠ€å·§ï¼Œè¿™éå¸¸ä¾èµ–å·¥ç¨‹å¸ˆçš„ç»éªŒã€‚</p><h3>æœºå™¨å­¦ä¹ ç›¸å…³ç»éªŒ</h3><p>ç¬¬äºŒä¸ªå°±æ˜¯ä½ éœ€è¦æœ‰ç›¸å¯¹ä¸°å¯Œçš„æœºå™¨å­¦ä¹ ç»éªŒã€‚é™¤äº†é€šè¿‡ç‰¹å¾å·¥ç¨‹è®¾è®¡æ›´å¤šçš„ç‰¹å¾ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦äº†è§£å¾ˆå¤šæœºå™¨å­¦ä¹ é¢†åŸŸé‡Œå¸¸ç”¨çš„çŸ¥è¯†å’ŒæŠ€å·§ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦å°†æ•°æ®é›†åˆ‡åˆ†æˆè®­ç»ƒï¼ˆTrainingï¼‰ã€éªŒè¯ï¼ˆValidationï¼‰ã€æµ‹è¯•ï¼ˆTestï¼‰ä¸‰ç»„æ•°æ®ï¼Œç„¶åé€šè¿‡AUCæˆ–è€…æ··æ·†çŸ©é˜µï¼ˆConfusion Matrixï¼‰æ¥è¡¡é‡æ•ˆæœã€‚å¦‚æœæ•°æ®é‡ä¸å¤Ÿå¤šï¼Œä¸ºäº†è®­ç»ƒæ•ˆæœçš„ç¨³å®šæ€§ï¼Œå¯èƒ½éœ€è¦é‡‡ç”¨ K-Fold çš„æ–¹å¼æ¥è¿›è¡Œè®­ç»ƒã€‚</p><p>å¦‚æœä½ æ²¡æœ‰æ¥è§¦è¿‡æœºå™¨å­¦ä¹ ï¼Œçœ‹åˆ°è¿™é‡Œï¼Œå¯èƒ½å·²ç»çœ‹æ‡µäº†ã€‚æ²¡å…³ç³»ï¼Œä¸Šé¢çš„å¤§éƒ¨åˆ†çŸ¥è¯†ä½ æœªæ¥å¯èƒ½éƒ½ä¸éœ€è¦äº†è§£äº†ï¼Œå› ä¸ºæˆ‘ä»¬æœ‰äº†å¤§è¯­è¨€æ¨¡å‹ï¼Œå¯ä»¥é€šè¿‡å®ƒæä¾›çš„Completionå’ŒEmbeddingè¿™ä¸¤ä¸ªAPIï¼Œç”¨ä¸åˆ°10è¡Œä»£ç å°±èƒ½å®Œæˆæƒ…æ„Ÿåˆ†æï¼Œå¹¶ä¸”èƒ½è·å¾—éå¸¸å¥½çš„æ•ˆæœã€‚</p><h2>å¤§è¯­è¨€æ¨¡å‹ï¼š20è¡Œä»£ç çš„æƒ…æ„Ÿåˆ†æè§£å†³æ–¹æ¡ˆ</h2><p>é€šè¿‡å¤§è¯­è¨€æ¨¡å‹æ¥è¿›è¡Œæƒ…æ„Ÿåˆ†æï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯åˆ©ç”¨å®ƒæä¾›çš„Embeddingè¿™ä¸ªAPIã€‚è¿™ä¸ªAPIå¯ä»¥æŠŠä»»ä½•ä½ æŒ‡å®šçš„ä¸€æ®µæ–‡æœ¬ï¼Œå˜æˆä¸€ä¸ªå¤§è¯­è¨€æ¨¡å‹ä¸‹çš„å‘é‡ï¼Œä¹Ÿå°±æ˜¯ç”¨ä¸€ç»„å›ºå®šé•¿åº¦çš„å‚æ•°æ¥ä»£è¡¨ä»»ä½•ä¸€æ®µæ–‡æœ¬ã€‚</p><p>æˆ‘ä»¬éœ€è¦æå‰è®¡ç®—â€œå¥½è¯„â€å’Œâ€œå·®è¯„â€è¿™ä¸¤ä¸ªå­—çš„Embeddingã€‚è€Œå¯¹äºä»»ä½•ä¸€æ®µæ–‡æœ¬è¯„è®ºï¼Œæˆ‘ä»¬ä¹Ÿéƒ½å¯ä»¥é€šè¿‡APIæ‹¿åˆ°å®ƒçš„Embeddingã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬æŠŠè¿™æ®µæ–‡æœ¬çš„Embeddingå’Œâ€œå¥½è¯„â€ä»¥åŠâ€œå·®è¯„â€é€šè¿‡ä½™å¼¦è·ç¦»ï¼ˆCosine Similarityï¼‰è®¡ç®—å‡ºå®ƒçš„ç›¸ä¼¼åº¦ã€‚ç„¶åæˆ‘ä»¬æ‹¿è¿™ä¸ªEmbeddingå’Œâ€œå¥½è¯„â€ä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼Œå»å‡å»å’Œâ€œå·®è¯„â€ä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªåˆ†æ•°ã€‚å¦‚æœè¿™ä¸ªåˆ†æ•°å¤§äº0ï¼Œé‚£ä¹ˆè¯´æ˜æˆ‘ä»¬çš„è¯„è®ºå’Œâ€œå¥½è¯„â€çš„è·ç¦»æ›´è¿‘ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ¤æ–­å®ƒä¸ºå¥½è¯„ã€‚å¦‚æœè¿™ä¸ªåˆ†æ•°å°äº0ï¼Œé‚£ä¹ˆå°±æ˜¯ç¦»å·®è¯„æ›´è¿‘ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ¤æ–­å®ƒä¸ºå·®è¯„ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å°±ç”¨è¿™ä¸ªæ–¹æ³•åˆ†æä¸€ä¸‹ä¸¤æ¡åœ¨äº¬ä¸œä¸Šè´­ä¹°äº†iPhoneç”¨æˆ·çš„è¯„è®ºã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ff/7d/ff7a7da002113b2fd345dc598e1aeb7d.png?wh=1920x642\" alt=\"å›¾ç‰‡\"></p><p>è¿™ä¸ªä½¿ç”¨å¤§æ¨¡å‹çš„æ–¹æ³•ä¸€å…±ä¸åˆ°40è¡Œä»£ç ï¼Œæˆ‘ä»¬çœ‹çœ‹å®ƒèƒ½å¦å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå¯¹è¿™ä¸¤æ¡è¯„è®ºè¿›è¡Œæƒ…æ„Ÿåˆ†æã€‚</p><pre><code class=\"language-python\">from openai import OpenAI\nimport numpy as np\nimport os\n\nclient = OpenAI(api_key=os.environ['OPENAI_API_KEY'])\n\nEMBEDDING_MODEL = \"text-embedding-ada-002\"\n\ndef get_embedding(text, model=EMBEDDING_MODEL):\n   text = text.replace(\"\\n\", \" \")\n   return client.embeddings.create(input = [text], model=model).data[0].embedding\n\ndef cosine_similarity(vector_a, vector_b):\n  dot_product = np.dot(vector_a, vector_b)\n  norm_a = np.linalg.norm(vector_a)\n  norm_b = np.linalg.norm(vector_b)\n  epsilon = 1e-10\n  cosine_similarity = dot_product / (norm_a * norm_b + epsilon)\n  return cosine_similarity\n\npositive_review = get_embedding(\"å¥½è¯„\")\nnegative_review = get_embedding(\"å·®è¯„\")\n\npositive_example = get_embedding(\"ä¹°çš„é“¶è‰²ç‰ˆçœŸçš„å¾ˆå¥½çœ‹ï¼Œä¸€å¤©å°±åˆ°äº†ï¼Œæ™šä¸Šå°±å¼€å§‹æ‹¿èµ·æ¥å®Œç³»ç»Ÿå¾ˆä¸æ»‘æµç•…ï¼Œåšå·¥æ‰å®ï¼Œæ‰‹æ„Ÿç»†è…»ï¼Œå¾ˆç²¾è‡´å“¦è‹¹æœä¸€å¦‚æ—¢å¾€çš„å¥½å“è´¨\")\nnegative_example = get_embedding(\"éšæ„é™ä»·ï¼Œä¸äºˆä»·ä¿ï¼ŒæœåŠ¡æ€åº¦å·®\")\n\ndef get_score(sample_embedding):\n  return cosine_similarity(sample_embedding, positive_review) - cosine_similarity(sample_embedding, negative_review)\n\npositive_score = get_score(positive_example)\nnegative_score = get_score(negative_example)\n\nprint(\"å¥½è¯„ä¾‹å­çš„è¯„åˆ† : %f\" % (positive_score))\nprint(\"å·®è¯„ä¾‹å­çš„è¯„åˆ† : %f\" % (negative_score))\n\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-python\">å¥½è¯„ä¾‹å­çš„è¯„åˆ† : 0.070963\nå·®è¯„ä¾‹å­çš„è¯„åˆ† : -0.081472\n</code></pre><p>æ­£å¦‚æˆ‘ä»¬æ‰€æ–™ï¼Œäº¬ä¸œä¸Šçš„å¥½è¯„é€šè¿‡Embeddingç›¸ä¼¼åº¦è®¡ç®—å¾—åˆ°çš„åˆ†æ•°æ˜¯å¤§äº0çš„ï¼Œäº¬ä¸œä¸Šé¢çš„å·®è¯„ï¼Œè¿™ä¸ªåˆ†æ•°æ˜¯å°äº0çš„ã€‚</p><p>è¿™æ ·çš„æ–¹æ³•ï¼Œæ˜¯ä¸æ˜¯ç‰¹åˆ«ç®€å•ï¼Ÿæˆ‘ä»¬å†æ‹¿åˆšæ‰çš„ä¾‹å­è¯•ä¸€ä¸‹ï¼Œçœ‹çœ‹è¿™ä¸ªæ–¹æ³•æ˜¯ä¸æ˜¯å¯¹æ‰€æœ‰è¯è¯­éƒ½ç®¡ç”¨ï¼Œåªæ˜¯å‡ºç°çš„ä½ç½®ä¸åŒä½†å«ä¹‰æˆªç„¶ç›¸åçš„è¯„è®ºï¼Œèƒ½å¾—åˆ°ä»€ä¹ˆæ ·çš„ç»“æœã€‚</p><pre><code class=\"language-python\">good_restraurant = get_embedding(\"è¿™å®¶é¤é¦†å¤ªå¥½åƒäº†ï¼Œä¸€ç‚¹éƒ½ä¸ç³Ÿç³•\")\nbad_restraurant = get_embedding(\"è¿™å®¶é¤é¦†å¤ªç³Ÿç³•äº†ï¼Œä¸€ç‚¹éƒ½ä¸å¥½åƒ\")\n\ngood_score = get_score(good_restraurant)\nbad_score = get_score(bad_restraurant)\nprint(\"å¥½è¯„é¤é¦†çš„è¯„åˆ† : %f\" % (good_score))\nprint(\"å·®è¯„é¤é¦†çš„è¯„åˆ† : %f\" % (bad_score))\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-python\">å¥½è¯„é¤é¦†çš„è¯„åˆ† : 0.062719\nå·®è¯„é¤é¦†çš„è¯„åˆ† : -0.074591\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶ä¸¤å¥è¯åˆ†åˆ«æ˜¯â€œå¤ªå¥½åƒâ€â€œä¸ç³Ÿç³•â€å’Œâ€œå¤ªç³Ÿç³•â€â€œä¸å¥½åƒâ€ï¼Œå…¶å®è¯è¯­éƒ½ä¸€æ ·ï¼Œä½†æ˜¯å¤§è¯­è¨€æ¨¡å‹ä¸€æ ·èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åˆ¤æ–­å‡ºæ¥ä»–ä»¬çš„å«ä¹‰æ˜¯ä¸åŒçš„ï¼Œä¸€ä¸ªæ›´æ¥è¿‘å¥½è¯„ï¼Œä¸€ä¸ªæ›´æ¥è¿‘å·®è¯„ã€‚</p><h2>æ›´å¤§çš„æ•°æ®é›†ä¸Šçš„çœŸå®æ¡ˆä¾‹</h2><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªä¸¾äº†å‡ ä¸ªä¾‹å­ï¼Œçœ‹èµ·æ¥æ•ˆæœè¿˜ä¸é”™ã€‚è¿™ä¼šä¸ä¼šåªæ˜¯æˆ‘ä»¬è¿æ°”å¥½å‘¢ï¼Ÿæˆ‘ä»¬å†æ¥æ‹¿ä¸€ä¸ªçœŸå®çš„æ•°æ®é›†éªŒè¯ä¸€ä¸‹ï¼Œåˆ©ç”¨è¿™ç§æ–¹æ³•è¿›è¡Œæƒ…æ„Ÿåˆ†æçš„å‡†ç¡®ç‡èƒ½å¤Ÿåˆ°å¤šå°‘ã€‚</p><p>ä¸‹é¢è¿™æ®µä»£ç ï¼Œæ˜¯æ¥è‡ªOpenAI Cookbooké‡Œé¢çš„ä¸€ä¸ªä¾‹å­ã€‚å®ƒæ˜¯ç”¨åŒæ ·çš„æ–¹æ³•ï¼Œæ¥åˆ¤æ–­äºšé©¬é€Šæä¾›çš„ç”¨æˆ·å¯¹ä¸€äº›é£Ÿç‰©çš„è¯„ä»·ï¼Œè¿™ä¸ªè¯„ä»·æ•°æ®é‡Œé¢ï¼Œä¸åªæœ‰ç”¨æˆ·ç»™å‡ºçš„è¯„è®ºå†…å®¹ï¼Œè¿˜æœ‰ç”¨æˆ·ç»™è¿™äº›é£Ÿç‰©æ‰“äº†å‡ é¢—æ˜Ÿã€‚è¿™äº›å‡ é¢—æ˜Ÿçš„ä¿¡æ¯ï¼Œæ­£å¥½å¯ä»¥æ‹¿æ¥éªŒè¯æˆ‘ä»¬è¿™ä¸ªæ–¹æ³•æœ‰å¤šå‡†ã€‚å¯¹äºç”¨æˆ·æ‰“å‡º1ï½2æ˜Ÿçš„ï¼Œæˆ‘ä»¬è®¤ä¸ºæ˜¯å·®è¯„ï¼Œå¯¹äº4ï½5æ˜Ÿçš„ï¼Œæˆ‘ä»¬è®¤ä¸ºæ˜¯å¥½è¯„ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡Pandasï¼Œå°†è¿™ä¸ªCSVæ•°æ®è¯»å–åˆ°å†…å­˜é‡Œé¢ã€‚ä¸ºäº†é¿å…é‡æ–°è°ƒç”¨OpenAIçš„APIæµªè´¹é’±ï¼Œè¿™ä¸ªæ•°æ®é›†é‡Œï¼Œå·²ç»å°†è·å–åˆ°çš„Embeddingä¿¡æ¯ä¿å­˜ä¸‹æ¥äº†ï¼Œä¸éœ€è¦å†é‡æ–°è®¡ç®—ã€‚</p><pre><code class=\"language-python\">import pandas as pd\nimport numpy as np\n\nfrom sklearn.metrics import classification_report\n\ndatafile_path = \"data/fine_food_reviews_with_embeddings_1k.csv\"\n\ndf = pd.read_csv(datafile_path)\ndf[\"embedding\"] = df.embedding.apply(eval).apply(np.array)\n\n# convert 5-star rating to binary sentiment\ndf = df[df.Score != 3]\ndf[\"sentiment\"] = df.Score.replace({1: \"negative\", 2: \"negative\", 4: \"positive\", 5: \"positive\"})\n</code></pre><p>æ¯ä¸€æ¡è¯„è®ºéƒ½ç”¨æˆ‘ä»¬ä¸Šé¢çš„æ–¹æ³•ï¼Œå’Œä¸€ä¸ªé¢„å…ˆè®¾å®šå¥½çš„å¥½è¯„å’Œå·®è¯„çš„æ–‡æœ¬å»åšå¯¹æ¯”ï¼Œç„¶åçœ‹å®ƒç¦»å“ªä¸ªè¿‘ä¸€äº›ã€‚è¿™é‡Œçš„å¥½è¯„å’Œå·®è¯„ï¼Œæˆ‘ä»¬å†™å¾—ç¨å¾®é•¿äº†ä¸€ç‚¹ï¼Œåˆ†åˆ«æ˜¯ â€œAn Amazon review with a negative sentiment.â€ å’Œ â€œAn Amazon review with a positive sentiment.â€ã€‚</p><p>åœ¨è®¡ç®—å®Œç»“æœä¹‹åï¼Œæˆ‘ä»¬åˆ©ç”¨Scikit-learnè¿™ä¸ªæœºå™¨å­¦ä¹ çš„åº“ï¼Œå°†æˆ‘ä»¬çš„é¢„æµ‹å€¼å’Œå®é™…ç”¨æˆ·æ‰“å‡ºçš„æ˜Ÿæ•°åšä¸ªå¯¹æ¯”ï¼Œç„¶åè¾“å‡ºå¯¹æ¯”ç»“æœã€‚éœ€è¦çš„ä»£ç ï¼Œä¹Ÿå°±ä¸åˆ°20è¡Œã€‚</p><pre><code class=\"language-python\">from sklearn.metrics import PrecisionRecallDisplay\n\ndef evaluate_embeddings_approach(\n    labels = ['negative', 'positive'], \n    model = EMBEDDING_MODEL,\n):\n    label_embeddings = [get_embedding(label, engine=model) for label in labels]\n\n    def label_score(review_embedding, label_embeddings):\n        return cosine_similarity(review_embedding, label_embeddings[1]) - cosine_similarity(review_embedding, label_embeddings[0])\n\n    probas = df[\"embedding\"].apply(lambda x: label_score(x, label_embeddings))\n    preds = probas.apply(lambda x: 'positive' if x&gt;0 else 'negative')\n\n    report = classification_report(df.sentiment, preds)\n    print(report)\n\n    display = PrecisionRecallDisplay.from_predictions(df.sentiment, probas, pos_label='positive')\n    _ = display.ax_.set_title(\"2-class Precision-Recall curve\")\n\nevaluate_embeddings_approach(labels=['An Amazon review with a negative sentiment.', 'An Amazon review with a positive sentiment.'])\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-python\">              precision    recall  f1-score   support\n    negative       0.98      0.73      0.84       136\n    positive       0.96      1.00      0.98       789\n    accuracy                           0.96       925\n   macro avg       0.97      0.86      0.91       925\nweighted avg       0.96      0.96      0.96       925\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/0f/3b/0ffa4e45899cd50bc5ac7e5ea0f89c3b.png?wh=392x278\" alt=\"å›¾ç‰‡\"></p><p>åœ¨ç»“æœé‡Œé¢å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬è¿™ä¸ªç®€å•æ–¹æ³•åˆ¤å®šçš„å¥½è¯„å·®è¯„çš„ç²¾åº¦ï¼Œä¹Ÿå°±æ˜¯ precision åœ¨ negative å’Œ positiveé‡Œï¼Œåˆ†åˆ«æ˜¯0.98å’Œ0.96ï¼Œä¹Ÿå°±æ˜¯åœ¨95%ä»¥ä¸Šã€‚</p><p>è€Œå¬å›ç‡ï¼Œä¹Ÿå°±æ˜¯å›¾é‡Œçš„ recallï¼Œåœ¨å·®è¯„é‡Œç¨å¾®æ¬ ç¼ºä¸€ç‚¹ï¼Œåªæœ‰73%ï¼Œè¿™è¯´æ˜è¿˜æ˜¯æœ‰ä¸å°‘å·®è¯„è¢«è¯¯åˆ¤ä¸ºäº†å¥½è¯„ã€‚ä¸è¿‡åœ¨å¥½è¯„é‡Œï¼Œå¬å›ç‡åˆ™æ˜¯100%ï¼Œä¹Ÿå°±æ˜¯100%çš„å¥½è¯„éƒ½è¢«æ¨¡å‹æ‰¾åˆ°äº†ã€‚è¿™æ ·ç»¼åˆè€ƒè™‘ä¸‹æ¥çš„æ•´ä½“å‡†ç¡®ç‡ï¼Œé«˜è¾¾96%ã€‚è€Œè¦è¾¾åˆ°è¿™ä¹ˆå¥½çš„æ•ˆæœï¼Œæˆ‘ä»¬ä¸éœ€è¦è¿›è¡Œä»»ä½•æœºå™¨å­¦ä¹ è®­ç»ƒï¼Œåªéœ€è¦å‡ è¡Œä»£ç è°ƒç”¨ä¸€ä¸‹å¤§æ¨¡å‹çš„æ¥å£ï¼Œè®¡ç®—ä¸€ä¸‹å‡ ä¸ªå‘é‡çš„ç›¸ä¼¼åº¦å°±å¥½äº†ã€‚</p><h2>å°ç»“</h2><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬åˆ©ç”¨ä¸åŒæ–‡æœ¬åœ¨å¤§è¯­è¨€æ¨¡å‹é‡ŒEmbeddingä¹‹é—´çš„è·ç¦»ï¼Œæ¥è¿›è¡Œæƒ…æ„Ÿåˆ†æã€‚è¿™ç§ä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹çš„æŠ€å·§ï¼Œä¸€èˆ¬è¢«ç§°åšé›¶æ ·æœ¬åˆ†ç±»ï¼ˆZero-Shot Classificationï¼‰ã€‚</p><p>æ‰€è°“é›¶æ ·æœ¬åˆ†ç±»ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸éœ€è¦ä»»ä½•æ–°çš„æ ·æœ¬æ¥è®­ç»ƒæœºå™¨å­¦ä¹ çš„æ¨¡å‹ï¼Œå°±èƒ½è¿›è¡Œåˆ†ç±»ã€‚æˆ‘ä»¬è®¤ä¸ºï¼Œä¹‹å‰ç»è¿‡é¢„è®­ç»ƒçš„å¤§è¯­è¨€æ¨¡å‹é‡Œé¢ï¼Œå·²ç»è•´å«äº†æƒ…æ„Ÿåˆ†æçš„çŸ¥è¯†ã€‚æˆ‘ä»¬åªéœ€è¦ç®€å•åˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹é‡Œé¢çŸ¥é“çš„â€œå¥½è¯„â€å’Œâ€œå·®è¯„â€çš„æ¦‚å¿µä¿¡æ¯ï¼Œå°±èƒ½åˆ¤æ–­å‡ºå®ƒä»æœªè§è¿‡çš„è¯„è®ºåˆ°åº•æ˜¯å¥½è¯„è¿˜æ˜¯å·®è¯„ã€‚</p><p>è¿™ä¸ªæ–¹æ³•ï¼Œåœ¨ä¸€äº›ç»å…¸çš„æ•°æ®é›†ä¸Šï¼Œè½»æ˜“å°±è¾¾åˆ°äº†95%ä»¥ä¸Šçš„å‡†ç¡®åº¦ã€‚åŒæ—¶ï¼Œä¹Ÿè®©ä¸€äº›åŸæœ¬éœ€è¦æœºå™¨å­¦ä¹ ç ”å‘ç»éªŒæ‰èƒ½å®Œæˆçš„ä»»åŠ¡å˜å¾—æ›´åŠ å®¹æ˜“ï¼Œä»è€Œå¤§å¤§é™ä½äº†é—¨æ§›ã€‚</p><p>å¦‚æœä½ æ‰€åœ¨çš„å…¬å¸ä»Šå¤©æƒ³è¦åšä¸€ä¸ªæ–‡æœ¬åˆ†ç±»çš„åº”ç”¨ï¼Œé€šè¿‡OpenAIçš„APIç”¨å‡ åˆ†é’Ÿæ—¶é—´å°±èƒ½å¾—åˆ°æƒ³è¦çš„ç»“æœã€‚</p><h2>è¯¾åç»ƒä¹ </h2><p>åˆ©ç”¨å¤§æ¨¡å‹æ¥è§£å†³é—®é¢˜ï¼Œä¸æ˜¯ä¸€ä¸ªç†è®ºé—®é¢˜ï¼Œè€Œæ˜¯ä¸€ä¸ªå®æˆ˜é—®é¢˜ã€‚è¯·ä½ å°è¯•å°†è¿™ä¸ªæ–¹æ³•è¿ç”¨åœ¨åˆ«çš„æ•°æ®é›†ä¸Šï¼Œçœ‹çœ‹æ˜¯å¦ä¹Ÿä¼šæœ‰å¾ˆå¥½çš„æ•ˆæœï¼Ÿæ¯”å¦‚ï¼Œä½ å¯ä»¥è¯•ç€ç”¨Kaggleæä¾›çš„äºšé©¬é€Šè€³æœºç±»å•†å“çš„è¯„è®ºæ•°æ®ï¼Œçœ‹çœ‹ç»“æœæ˜¯æ€æ ·çš„ï¼Ÿè¿™ä¸ªæ•°æ®é›†æ¯”è¾ƒå¤§ï¼Œä½ å¯ä»¥æŒ‘å‡ æ¡æ•°æ®è¯•ä¸€ä¸‹ã€‚å› ä¸ºOpenIAä¼šå¯¹ä½ çš„è°ƒç”¨é™é€Ÿï¼Œå…è´¹çš„Tokenæ•°é‡ä¹Ÿæ¯”è¾ƒæœ‰é™ã€‚å¯¹äºé™é€Ÿæƒ…å†µä¸‹çš„å¤§æ‰¹é‡æ•°æ®çš„å¤„ç†ï¼Œæˆ‘ä»¬ä¼šåœ¨ç¬¬04è®²è®²è§£ã€‚</p><p>æ•°æ®é›†é“¾æ¥ï¼š<a href=\"https://www.kaggle.com/datasets/shitalkat/amazonearphonesreviews\">https://www.kaggle.com/datasets/shitalkat/amazonearphonesreviews</a></p><p>æ¬¢è¿ä½ æŠŠä½ çš„ç»“æœåˆ†äº«åˆ°è¯„è®ºåŒºï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™æ„Ÿå…´è¶£çš„æœ‹å‹ï¼Œæˆ‘ä»¬ä¸‹èŠ‚è¯¾å†è§ï¼</p>","neighbors":{"left":{"article_title":"01ï½œé‡æ–°å‡ºå‘ï¼Œè®©æˆ‘ä»¬å­¦ä¼šå’ŒAIè¯´è¯","id":641742},"right":{"article_title":"03ï½œå·§ç”¨æç¤ºè¯­ï¼Œè¯´è¯´è¯å°±èƒ½åšä¸ªèŠå¤©æœºå™¨äºº","id":642197}},"comments":[{"had_liked":false,"id":372748,"user_name":"Dev.lu","can_delete":false,"product_type":"c1","uid":1266108,"ip_address":"æ–°åŠ å¡","ucode":"A1F727C92A1E5F","user_header":"https://static001.geekbang.org/account/avatar/00/13/51/bc/c7514a30.jpg","comment_is_top":false,"comment_ctime":1681548260,"is_pvip":false,"replies":[{"id":136092,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681613291,"ip_address":"ä¸Šæµ·","comment_id":372748,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"conda install -c conda-forge matplotlib\nconda install -c conda-forge plotly   \nconda install -c anaconda scikit-learn\nè·‘æƒ…æ„Ÿåˆ†æçš„éƒ¨åˆ†ï¼Œå¯èƒ½éœ€è¦é¢å¤–å®‰è£…è¿™äº›åŒ…","like_count":21,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613933,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681613291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1108464,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e9/f0/b9796dee.jpg","nickname":"Leo","note":"","ucode":"1B4777E8A895DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":620134,"discussion_content":"è¿è¡Œçš„æ—¶å€™æŠ¥é”™äº†ï¼Œç»™å‡ºæ¥çœŸæ£’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685854468,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ¹–åŒ—","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1085399,"avatar":"https://static001.geekbang.org/account/avatar/00/10/8f/d7/f790d3f5.jpg","nickname":"Geek_cf1681","note":"","ucode":"B30AE4E23BE88C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617680,"discussion_content":"åŒå‘ç°ï¼Œæ›´æ–°åˆ°æ•™ç¨‹é‡Œæœ€å¥½äº†ã€‚æ•™ç¨‹ä¸é”™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683773589,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371019,"user_name":"humor","can_delete":false,"product_type":"c1","uid":1181867,"ip_address":"æµ™æ±Ÿ","ucode":"9B48C4C7BEC92C","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/ab/caec7bca.jpg","comment_is_top":false,"comment_ctime":1679462943,"is_pvip":false,"replies":[{"id":135381,"content":"å®ƒæ˜¯æ ¹æ®æµ·é‡çš„é¢„è®­ç»ƒæ•°æ®åœ¨é«˜ç»´ç©ºé—´é‡Œç»™ä»–ä»¬ä¸¤ä¸ªæ‰¾äº†ä¸ªä½ç½®ï¼Œæˆ‘ä»¬åªæ˜¯æˆ‘ä»¬æ‹¿åˆ°çš„è¯„è®ºç¦»å“ªä¸ªä½ç½®è¿‘ã€‚\n\nå¤§æ¨¡å‹çš„è¯­ä¹‰ç†è§£èƒ½åŠ›ï¼Œå°±æ²¡æ³•ç”¨ä¸€ä¸¤å¥è¯è¯´æ¸…äº†ã€‚å¦‚æœçœŸçš„æƒ³è¦çŸ¥é“ï¼Œè¿˜æ˜¯è¦æ·±å…¥ç†è§£æ·±åº¦å­¦ä¹ ï¼Œå¯ä»¥å»çœ‹çœ‹ææ²è€å¸ˆçš„è®ºæ–‡è§£è¯»ç³»åˆ—ã€‚https:&#47;&#47;www.bilibili.com&#47;video&#47;BV1AF411b7xQ&#47;","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679543446,"ip_address":"ç¾å›½","comment_id":371019,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"å¤§æ¨¡å‹æ˜¯æ€ä¹ˆçŸ¥é“å¥½è¯„å’Œå·®è¯„æ˜¯ä»£è¡¨ä»€ä¹ˆæ„æ€çš„å‘¢","like_count":21,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610391,"discussion_content":"å®ƒæ˜¯æ ¹æ®æµ·é‡çš„é¢„è®­ç»ƒæ•°æ®åœ¨é«˜ç»´ç©ºé—´é‡Œç»™ä»–ä»¬ä¸¤ä¸ªæ‰¾äº†ä¸ªä½ç½®ï¼Œæˆ‘ä»¬åªæ˜¯æˆ‘ä»¬æ‹¿åˆ°çš„è¯„è®ºç¦»å“ªä¸ªä½ç½®è¿‘ã€‚\n\nå¤§æ¨¡å‹çš„è¯­ä¹‰ç†è§£èƒ½åŠ›ï¼Œå°±æ²¡æ³•ç”¨ä¸€ä¸¤å¥è¯è¯´æ¸…äº†ã€‚å¦‚æœçœŸçš„æƒ³è¦çŸ¥é“ï¼Œè¿˜æ˜¯è¦æ·±å…¥ç†è§£æ·±åº¦å­¦ä¹ ï¼Œå¯ä»¥å»çœ‹çœ‹ææ²è€å¸ˆçš„è®ºæ–‡è§£è¯»ç³»åˆ—ã€‚https://www.bilibili.com/video/BV1AF411b7xQ/","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1679543446,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ç¾å›½","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2399111,"avatar":"https://static001.geekbang.org/account/avatar/00/24/9b/87/35639b9a.jpg","nickname":"åŒ—ææœ‰é›ª","note":"","ucode":"E9BFB1B20390D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":626842,"discussion_content":"æˆ‘çš„ç†è§£:éœ€è¦äººå·¥ç»™æ•°æ®é›†ï¼Œäººå·¥ä¼šæŠŠå¥½å¸…ï¼Œå¸…ï¼ŒçœŸçš„å¸…æ ‡æ³¨ä¸ºè¤’ä¹‰è¯ï¼ŒæŠŠå¥½ä¸‘ï¼Œä¸‘ï¼ŒçœŸçš„ä¸‘æ ‡æ³¨ä¸ºè´¬ä¹‰è¯ï¼Œå½¢æˆæµ·é‡çš„é›†ï¼Œç„¶åå¤§æ¨¡å‹ç”Ÿæˆå¯¹åº”çš„è¯çš„ä¸€ä¸ªå€¼ï¼ˆå½¢æˆé›†åˆï¼‰ï¼Œç”¨æˆ·è¾“çš„è¯å»åŒ¹é…é›†åˆï¼Œå¹¶è¿”å›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1693442816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2526351,"avatar":"https://static001.geekbang.org/account/avatar/00/26/8c/8f/bdf9df82.jpg","nickname":"å¤©è¡Œ","note":"","ucode":"628E7BCE3D6D7E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":625900,"discussion_content":"å°±å½“è¿™æ˜¯é­”æ³•ï¼Œå¿µå¯¹å’’è¯­å°±èƒ½ç”Ÿæ•ˆå°±è¡Œäº†ï¼Œä¸ç”¨çŸ¥é“ä¸ºä»€ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1692318289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1452167,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJcwXucibksEYRSYg6icjibzGa7efcMrCsGec2UwibjTd57icqDz0zzkEEOM2pXVju60dibzcnQKPfRkN9g/132","nickname":"Geek_93970d","note":"","ucode":"52AC308BEC7737","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617526,"discussion_content":"å“Ÿè¥¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683631185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":374034,"user_name":"Geek_035566","can_delete":false,"product_type":"c1","uid":2047648,"ip_address":"å¹¿ä¸œ","ucode":"2BE5D4551F46AF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLLqPl9wGGaKWD8sXcB6oicibvUzBZ3zaPyicTVwZQnUQEYyhaGTf4YmVIWMX0oEcfKibZ0JlZsMZYvjw/132","comment_is_top":false,"comment_ctime":1683523721,"is_pvip":false,"replies":[{"id":136831,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1684741891,"ip_address":"ä¸Šæµ·","comment_id":374034,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"çŸ¥ä¹ä¸Šå¼ ä¿Šæ—å¯¹GPTå¯¹NLPçš„å½±å“åšäº†å¾ˆå¥½è§£è¯»ï¼Œæˆ‘è¿™ä¸ªå°ç™½å¬äº†ä¹Ÿèƒ½æœ‰å¾ˆæ·±çš„ç†è§£ã€‚\n\nä»–æŠŠNLPè§£å†³çš„é—®é¢˜åˆ†ä¸ºä¸­é—´ä»»åŠ¡å’Œæœ€ç»ˆä»»åŠ¡ï¼Œå…ˆé˜è¿°ä¸­é—´ä»»åŠ¡å…¶å®æ˜¯äººç±»æ²¡æœ‰æ‰¾åˆ°æ›´å¥½åŠæ³•å¤„ç†è‡ªç„¶è¯­è¨€æ—¶æƒ³å‡ºæ¥çš„è¾…åŠ©å·¥å…·ï¼ŒGPTçš„å‡ºç°ä¸€ç¬é—´è®©è¿™äº›è„šæ‰‹æ¶éƒ½æ²¡äº†ç”¨å¤„ã€‚\n\nå†è¿›ä¸€æ­¥ï¼Œä»–åˆæŠŠæœ€ç»ˆä»»åŠ¡åˆ†ä¸ºè‡ªç„¶è¯­è¨€ç†è§£å’Œè‡ªç„¶è¯­è¨€ç”Ÿæˆä»»åŠ¡ï¼Œè¿›ä¸€æ­¥åˆ†æGPTå¯¹è¿™ä¸¤ç±»ä»»åŠ¡çš„å½±å“ã€‚\n\nå¾ˆç®€æ´ä¼˜ç¾çš„è®²æ¸…æ¥šäº†GPTå¯¹NLPçš„å†²å‡»ï¼ŒçŸ¥ä¹åœ°å€æˆ‘æ”¾ä¸‹é¢ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªå·±çœ‹ã€‚\nhttps:&#47;&#47;zhuanlan.zhihu.com&#47;p&#47;597586623","like_count":19,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":618998,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684741891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2011138,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/b0/02/98f8b0ee.jpg","nickname":"æ–¹åElton","note":"","ucode":"180D03AADB5D2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":618583,"discussion_content":"æ„Ÿè°¢åˆ†äº«ï¼Œç¡®å®ä¸­é—´ä»»åŠ¡åœ¨GPTå‡ºæ¥ä¹‹åï¼Œå®Œå…¨è¢«æ›¿ä»£äº†ï¼Œæœ€ç»ˆä»»åŠ¡çš„èƒ½åŠ›å¯¹åº”ç€openaiæä¾›çš„æ¥å£compeletion(è‡ªç„¶è¯­è¨€ç”Ÿæˆ)å’Œembeddingï¼ˆè‡ªç„¶è¯­è¨€ç†è§£ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684342123,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372188,"user_name":"jo","can_delete":false,"product_type":"c1","uid":1622897,"ip_address":"ä¸Šæµ·","ucode":"A9D507236F8CBC","user_header":"https://static001.geekbang.org/account/avatar/00/18/c3/71/e7990e80.jpg","comment_is_top":false,"comment_ctime":1680832300,"is_pvip":false,"replies":[{"id":135898,"content":"ä¸ç†è§£ä»€ä¹ˆæ˜¯å‘é‡çš„ä½™å¼¦è·ç¦»ï¼Œå¯ä»¥é—®é—®ChatGPTï¼š\n\nä»€ä¹ˆæ˜¯å‘é‡çš„ä½™å¼¦è·ç¦»ï¼Ÿ\n\nå‘é‡çš„ä½™å¼¦è·ç¦»æ˜¯ç”¨äºåº¦é‡ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„ç›¸ä¼¼æ€§çš„ä¸€ç§æ–¹æ³•ã€‚å®ƒè¡¡é‡çš„æ˜¯ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„å¤¹è§’çš„ä½™å¼¦å€¼ã€‚\n\nå…·ä½“æ¥è¯´ï¼Œå‡è®¾æœ‰ä¸¤ä¸ªnç»´å‘é‡aå’Œbï¼Œå…¶ä½™å¼¦è·ç¦»ä¸ºcos(Î¸)ï¼Œå…¶ä¸­Î¸æ˜¯aå’Œbä¹‹é—´çš„å¤¹è§’ï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š\n\ncos(Î¸) = (aÂ·b) &#47; (||a|| ||b||)\n\nå…¶ä¸­ï¼ŒaÂ·bè¡¨ç¤ºå‘é‡aå’Œå‘é‡bçš„ç‚¹ç§¯ï¼Œ||a||å’Œ||b||åˆ†åˆ«è¡¨ç¤ºå‘é‡aå’Œå‘é‡bçš„èŒƒæ•°ã€‚\n\nä½™å¼¦è·ç¦»çš„å–å€¼èŒƒå›´åœ¨[-1, 1]ä¹‹é—´ï¼Œå½“ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„å¤¹è§’è¶Šå°æ—¶ï¼Œä½™å¼¦è·ç¦»è¶Šæ¥è¿‘1ï¼Œè¡¨ç¤ºä¸¤ä¸ªå‘é‡è¶Šç›¸ä¼¼ï¼›å½“ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„å¤¹è§’è¶Šå¤§æ—¶ï¼Œä½™å¼¦è·ç¦»è¶Šæ¥è¿‘-1ï¼Œè¡¨ç¤ºä¸¤ä¸ªå‘é‡è¶Šä¸ç›¸ä¼¼ã€‚å½“å¤¹è§’ä¸º90åº¦æ—¶ï¼Œä½™å¼¦è·ç¦»ä¸º0ï¼Œè¡¨ç¤ºä¸¤ä¸ªå‘é‡å®Œå…¨ä¸ç›¸å…³ã€‚\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680974980,"ip_address":"æ—¥æœ¬","comment_id":372188,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"â€œæˆ‘ä»¬æŠŠè¿™æ®µæ–‡æœ¬çš„ Embedding å’Œâ€œå¥½è¯„â€ä»¥åŠâ€œå·®è¯„â€é€šè¿‡ä½™å¼¦è·ç¦»ï¼ˆCosine Similarityï¼‰è®¡ç®—å‡ºå®ƒçš„ç›¸ä¼¼åº¦â€ï¼Œä¸å¤ªæ‡‚","like_count":15,"discussions":[{"author":{"id":1547207,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9b/c7/0f3b699f.jpg","nickname":"æœ‹å…‹æ˜¯å¤å¤©çš„å†°é•‡é›ªç¢§","note":"","ucode":"C035E91B744331","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":614335,"discussion_content":"ç”»ä¸ªå›¾æ¯”è¾ƒå¥½ç†è§£ï¼Œä¸è¿‡æå®¢æ—¶é—´è¯„è®ºæ²¡æ³•å¸¦å›¾ï¼Œæˆ‘åœ¨è€å¸ˆè¯¾ç¨‹çš„ github ä»“åº“æäº†ä¸ª issueï¼Œè¿™æ˜¯é“¾æ¥ https://github.com/xuwenhao/geektime-ai-course/issues/3","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1681745366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612894,"discussion_content":"ä¸ç†è§£ä»€ä¹ˆæ˜¯å‘é‡çš„ä½™å¼¦è·ç¦»ï¼Œå¯ä»¥é—®é—®ChatGPTï¼š\n\nä»€ä¹ˆæ˜¯å‘é‡çš„ä½™å¼¦è·ç¦»ï¼Ÿ\n\nå‘é‡çš„ä½™å¼¦è·ç¦»æ˜¯ç”¨äºåº¦é‡ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„ç›¸ä¼¼æ€§çš„ä¸€ç§æ–¹æ³•ã€‚å®ƒè¡¡é‡çš„æ˜¯ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„å¤¹è§’çš„ä½™å¼¦å€¼ã€‚\n\nå…·ä½“æ¥è¯´ï¼Œå‡è®¾æœ‰ä¸¤ä¸ªnç»´å‘é‡aå’Œbï¼Œå…¶ä½™å¼¦è·ç¦»ä¸ºcos(Î¸)ï¼Œå…¶ä¸­Î¸æ˜¯aå’Œbä¹‹é—´çš„å¤¹è§’ï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š\n\ncos(Î¸) = (aÂ·b) / (||a|| ||b||)\n\nå…¶ä¸­ï¼ŒaÂ·bè¡¨ç¤ºå‘é‡aå’Œå‘é‡bçš„ç‚¹ç§¯ï¼Œ||a||å’Œ||b||åˆ†åˆ«è¡¨ç¤ºå‘é‡aå’Œå‘é‡bçš„èŒƒæ•°ã€‚\n\nä½™å¼¦è·ç¦»çš„å–å€¼èŒƒå›´åœ¨[-1, 1]ä¹‹é—´ï¼Œå½“ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„å¤¹è§’è¶Šå°æ—¶ï¼Œä½™å¼¦è·ç¦»è¶Šæ¥è¿‘1ï¼Œè¡¨ç¤ºä¸¤ä¸ªå‘é‡è¶Šç›¸ä¼¼ï¼›å½“ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„å¤¹è§’è¶Šå¤§æ—¶ï¼Œä½™å¼¦è·ç¦»è¶Šæ¥è¿‘-1ï¼Œè¡¨ç¤ºä¸¤ä¸ªå‘é‡è¶Šä¸ç›¸ä¼¼ã€‚å½“å¤¹è§’ä¸º90åº¦æ—¶ï¼Œä½™å¼¦è·ç¦»ä¸º0ï¼Œè¡¨ç¤ºä¸¤ä¸ªå‘é‡å®Œå…¨ä¸ç›¸å…³ã€‚\n\n","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1680974980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ—¥æœ¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371011,"user_name":"Roy Liang","can_delete":false,"product_type":"c1","uid":1098898,"ip_address":"æµ™æ±Ÿ","ucode":"1DF5FC831A35DA","user_header":"https://static001.geekbang.org/account/avatar/00/10/c4/92/338b5609.jpg","comment_is_top":false,"comment_ctime":1679459815,"is_pvip":false,"replies":[{"id":135358,"content":"è¿™ä¸ªæ˜¯APIé™é€Ÿå¯¼è‡´çš„ï¼Œæˆ‘ä»¬åœ¨ç¬¬4è®²é‡Œä¼šè®²è§£åº”è¯¥æ€ä¹ˆå¤„ç†ã€‚\nè¿™ä¸ªæ€è€ƒé¢˜çœ‹æ¥æ˜¯æˆ‘è€ƒè™‘ä¸å‘¨äº†ï¼Œæˆ‘å»ºè®®æ‹¿ä¸ª100æ¡è¯•ä¸€ä¸‹å§ï¼Œå…¨é‡æ•°æ®å¯ä»¥çœ‹å®Œç¬¬å››è®²ä¹‹åå†æ¥ï¼Œè€Œä¸”éœ€è¦æ³¨æ„Tokenè´¹ç”¨é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679540184,"ip_address":"ä¸Šæµ·","comment_id":371011,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"è¯¾åä½œä¸šï¼Œå…¨éƒ¨æ•°æ®é›†æ˜¯ä¸æ˜¯å¤ªå¤šï¼Œå‡ºä¸äº†ç»“æœï¼Œå‰33æ¡è®°å½•æ²¡é—®é¢˜ï¼Œæˆ‘æ˜¯ä¸æ˜¯è¯¥ç»™OpenAIå……å€¼ï¼Ÿ\n\n              precision    recall  f1-score   support\n\n    negative       0.81      0.93      0.87        14\n    positive       0.92      0.79      0.85        14\n\n    accuracy                           0.86        28\n   macro avg       0.86      0.86      0.86        28\nweighted avg       0.86      0.86      0.86        28\n\nä»£ç \nimport pandas as pd\nimport numpy as np\n\nfrom sklearn.metrics import classification_report,PrecisionRecallDisplay\nfrom openai.embeddings_utils import cosine_similarity, get_embedding\n\nEMBEDDING_MODEL = &quot;text-embedding-ada-002&quot;\n\n#datafile_path = &quot;data&#47;AllProductReviews.csv&quot;\ndatafile_path = &quot;data&#47;test.csv&quot;\ndf = pd.read_csv(datafile_path)\ndf[&quot;embedding&quot;] = df.ReviewBody.apply(lambda x: get_embedding(x, engine=EMBEDDING_MODEL))\n\n# convert 5-star rating to binary sentiment\ndf = df[df.ReviewStar != 3]\ndf[&quot;sentiment&quot;] = df.ReviewStar.replace({1: &quot;negative&quot;, 2: &quot;negative&quot;, 4: &quot;positive&quot;, 5: &quot;positive&quot;})\n\ndef evaluate_embeddings_approach(\n    labels = [&#39;negative&#39;, &#39;positive&#39;],\n    model = EMBEDDING_MODEL,\n):\n    label_embeddings = [get_embedding(label, engine=model) for label in labels]\n\n    def label_score(review_embedding, label_embeddings):\n        return cosine_similarity(review_embedding, label_embeddings[1]) - cosine_similarity(review_embedding, label_embeddings[0])\n\n    probas = df[&quot;embedding&quot;].apply(lambda x: label_score(x, label_embeddings))\n    preds = probas.apply(lambda x: &#39;positive&#39; if x&gt;0 else &#39;negative&#39;)\n\n    report = classification_report(df.sentiment, preds)\n    print(report)\n\n    display = PrecisionRecallDisplay.from_predictions(df.sentiment, probas, pos_label=&#39;positive&#39;)\n    _ = display.ax_.set_title(&quot;2-class Precision-Recall curve&quot;)\n\nevaluate_embeddings_approach()","like_count":8,"discussions":[{"author":{"id":2859906,"avatar":"","nickname":"Geek_654366","note":"","ucode":"96A16DD36154BC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616115,"discussion_content":"å»ºè®®å¾è€å¸ˆå¯ä»¥åŠ ä¸€äº›ä»£ç æ³¨é‡Šï¼Œè®©æˆ‘ä»¬è¿™äº›ä¸æ‡‚ä»£ç çš„å°ç™½å¯ä»¥ç†è§£è¿™äº›å†…å®¹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1682591758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610356,"discussion_content":"è¿™ä¸ªæ˜¯APIé™é€Ÿå¯¼è‡´çš„ï¼Œæˆ‘ä»¬åœ¨ç¬¬4è®²é‡Œä¼šè®²è§£åº”è¯¥æ€ä¹ˆå¤„ç†ã€‚\nè¿™ä¸ªæ€è€ƒé¢˜çœ‹æ¥æ˜¯æˆ‘è€ƒè™‘ä¸å‘¨äº†ï¼Œæˆ‘å»ºè®®æ‹¿ä¸ª100æ¡è¯•ä¸€ä¸‹å§ï¼Œå…¨é‡æ•°æ®å¯ä»¥çœ‹å®Œç¬¬å››è®²ä¹‹åå†æ¥ï¼Œè€Œä¸”éœ€è¦æ³¨æ„Tokenè´¹ç”¨é—®é¢˜ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1679540184,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2859906,"avatar":"","nickname":"Geek_654366","note":"","ucode":"96A16DD36154BC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616114,"discussion_content":"df = pd.read_csv(datafile_path,nrows=100,encoding=&#39;ANSI&#39;)ï¼ŒåŠ ä¸Šäº†è¿™ä¸ªé™åˆ¶ï¼Œ\n              precision    recall  f1-score   support\n\n    negative       0.93      0.74      0.82        38\n    positive        0.83       0.96       0.89        50\n\n    accuracy                                 0.86         88\n   macro avg        0.88      0.85      0.86        88\nweighted avg       0.87      0.86      0.86        88","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682591660,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1796939,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/6b/4b/4a622bdf.jpg","nickname":"å››æœˆ.  ğŸ•Š","note":"","ucode":"C8B8C3605AB67A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611484,"discussion_content":"df[&#34;embedding&#34;]=df.ReviewBody.apply(lambda x: get_embedding(x, engine=EMBEDDING_MODEL)) è¿™å¥ä»£ç å¾ˆåŠæ—¶ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680104555,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ—¥æœ¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371046,"user_name":"é™ˆæ•ä¿Š","can_delete":false,"product_type":"c1","uid":3572272,"ip_address":"ä¸Šæµ·","ucode":"4FBB6A20288FE2","user_header":"https://static001.geekbang.org/account/avatar/00/36/82/30/d48e8135.jpg","comment_is_top":false,"comment_ctime":1679478937,"is_pvip":false,"replies":[{"id":135362,"content":"è¿™ä¸æ˜¯é¢„å…ˆè®­ç»ƒå¥½çš„æ ‡ç­¾ã€‚è€Œæ˜¯æ¨¡å‹æ ¹æ®æ–‡æœ¬ï¼Œè®¡ç®—å‡ºæ¥çš„å‘é‡ï¼Œæˆ‘ä»¬åªæ˜¯åˆ©ç”¨äº†å‘é‡çš„ç›¸ä¼¼åº¦è€Œå·²ã€‚\n\nä½ å¯ä»¥ç”¨ä»»æ„çš„å•è¯ï¼Œæˆ–è€…å¥å­æ¥åšè¿™æ ·çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ beautiful å’Œ uglyï¼Œpolite å’Œ rude éƒ½å¯ä»¥è¯•ä¸€è¯•","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679540496,"ip_address":"ä¸Šæµ·","comment_id":371046,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"æ–‡æœ¬å‘é‡positiveå’Œnegativeæ ‡ç­¾æ˜¯openaiè®­ç»ƒæ ‡æ³¨å¥½çš„ï¼Œé‚£è¿˜æœ‰å…¶ä»–ä»€ä¹ˆæ ‡ç­¾å—ï¼Ÿåªæœ‰è¿™ä¸¤ç§å—ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610363,"discussion_content":"è¿™ä¸æ˜¯é¢„å…ˆè®­ç»ƒå¥½çš„æ ‡ç­¾ã€‚è€Œæ˜¯æ¨¡å‹æ ¹æ®æ–‡æœ¬ï¼Œè®¡ç®—å‡ºæ¥çš„å‘é‡ï¼Œæˆ‘ä»¬åªæ˜¯åˆ©ç”¨äº†å‘é‡çš„ç›¸ä¼¼åº¦è€Œå·²ã€‚\n\nä½ å¯ä»¥ç”¨ä»»æ„çš„å•è¯ï¼Œæˆ–è€…å¥å­æ¥åšè¿™æ ·çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ beautiful å’Œ uglyï¼Œpolite å’Œ rude éƒ½å¯ä»¥è¯•ä¸€è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679540496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2911084,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/6b/6c/3e80afaf.jpg","nickname":"HappyHasson","note":"","ucode":"B84CC43E349CFA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":618476,"discussion_content":"è€å¸ˆï¼Œè¿™ä¸ªåŸç†æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆOpenAPIå¯ä»¥æ¥å—ä»»æ„çš„è¾“å…¥ï¼Œç„¶åè¾“å‡ºæ­£ç¡®çš„æ¨¡å‹æ•°æ®ï¼Ÿå®ƒæ˜¯æ€ä¹ˆè®¡ç®—å‡ºæ¥çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684282425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":610363,"ip_address":"å¹¿ä¸œ","group_id":0},"score":618476,"extra":""}]},{"author":{"id":1452167,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJcwXucibksEYRSYg6icjibzGa7efcMrCsGec2UwibjTd57icqDz0zzkEEOM2pXVju60dibzcnQKPfRkN9g/132","nickname":"Geek_93970d","note":"","ucode":"52AC308BEC7737","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617543,"discussion_content":"å°†å•è¯ç”Ÿæˆ embedding å‘é‡çš„ç®—æ³•åŸç†æ˜¯å•¥ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683638433,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370978,"user_name":"xbc","can_delete":false,"product_type":"c1","uid":2187437,"ip_address":"æµ·å—","ucode":"03F1FD7B8CA32F","user_header":"https://static001.geekbang.org/account/avatar/00/21/60/ad/03351e6e.jpg","comment_is_top":false,"comment_ctime":1679417484,"is_pvip":false,"replies":[{"id":135385,"content":"ä¸“æ çš„ç¬¬äºŒéƒ¨åˆ†ï¼Œå®æˆ˜åº”ç”¨éƒ¨åˆ†é‡Œï¼Œä¼šå¤§é‡æ¶µç›–è¿™éƒ¨åˆ†å†…å®¹ã€‚\nä¹Ÿä¼šé€šè¿‡ä¸€äº›å¼€æºæ¨¡å‹æ¥é™ä½ä½¿ç”¨çš„æˆæœ¬ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679543908,"ip_address":"ç¾å›½","comment_id":370978,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"åç»­æ˜¯å¦ä¼šè®²è®²å¦‚ä½•ä½¿ç”¨openai apiå®ç°chatpdfè¿™æ ·çš„åŠŸèƒ½ã€‚ä»¥åŠä½¿ç”¨å…¬å¼€çš„å¼±ä¸€äº›çš„æ¨¡å‹ï¼Œæ¥å°½é‡å®ç°chatpdfçš„åŠŸèƒ½ã€‚","like_count":4,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610396,"discussion_content":"ä¸“æ çš„ç¬¬äºŒéƒ¨åˆ†ï¼Œå®æˆ˜åº”ç”¨éƒ¨åˆ†é‡Œï¼Œä¼šå¤§é‡æ¶µç›–è¿™éƒ¨åˆ†å†…å®¹ã€‚\nä¹Ÿä¼šé€šè¿‡ä¸€äº›å¼€æºæ¨¡å‹æ¥é™ä½ä½¿ç”¨çš„æˆæœ¬ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679543908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ç¾å›½","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1583806,"avatar":"https://static001.geekbang.org/account/avatar/00/18/2a/be/17c0f8ca.jpg","nickname":"Dan","note":"","ucode":"1BECA80FA3E670","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610479,"discussion_content":"chatpdfåªè¦æŠŠæ–‡ç« åˆ†æ®µæ€»ç»“ å†æŠŠæ€»ç»“çš„å†…å®¹åˆ†æ®µæ€»ç»“ ä¸å°±å‡ºæ¥äº† ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679574837,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2187437,"avatar":"https://static001.geekbang.org/account/avatar/00/21/60/ad/03351e6e.jpg","nickname":"xbc","note":"","ucode":"03F1FD7B8CA32F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1583806,"avatar":"https://static001.geekbang.org/account/avatar/00/18/2a/be/17c0f8ca.jpg","nickname":"Dan","note":"","ucode":"1BECA80FA3E670","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610688,"discussion_content":"åº”è¯¥æ˜¯åŒ¹é…é—®é¢˜å’Œå°æ®µè½çš„embeddingè¿‘ä¼¼åº¦ï¼Œå†åšä¸ªåˆé€‚promptæŠŠç›¸å…³çš„èµ„æ–™éƒ½ç»™ chatgpt ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679681217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":610479,"ip_address":"æµ·å—","group_id":0},"score":610688,"extra":""}]}]},{"had_liked":false,"id":373899,"user_name":"Geek_b7449f","can_delete":false,"product_type":"c1","uid":2957535,"ip_address":"ç¾å›½","ucode":"07E7023A3ECD5A","user_header":"https://static001.geekbang.org/account/avatar/00/2d/20/df/55bacf31.jpg","comment_is_top":false,"comment_ctime":1683305263,"is_pvip":false,"replies":[{"id":136871,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1684753144,"ip_address":"ä¸Šæµ·","comment_id":373899,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"import pandas as pd \nimport numpy as np \n\nfrom sklearn.metrics import classification_report , PrecisionRecallDisplay\nfrom openai.embeddings_utils import cosine_similarity , get_embedding\n\n# é€‰æ‹©ç”¨äºæƒ…æ„Ÿåˆ†æçš„æ¨¡å‹\nEMBEDDING_MODEL = &quot;text-embedding-ada-002&quot;\n# è®¾ç½®æ•°æ®é›†æ–‡ä»¶è·¯å¾„\ndatafile_path = &quot;data&#47;AllProductReviews.csv&quot;\n# è¯»å– csv æ–‡ä»¶ åªå–å‰60è¡Œ\ndf = pd.read_csv(datafile_path,nrows=60)\n# æ–°å¢ä¸€åˆ— embedding ç”¨äºè¡¨ç¤ºè·å–æ¯è¡Œçš„ReviewBodyå‘é‡å€¼\ndf[&quot;embedding&quot;] = df.ReviewBody.apply(lambda x:get_embedding(x,engine=EMBEDDING_MODEL))\n\n# é™¤å»æ˜Ÿçº§ä¸º3çš„è¯„è®ºæ¥è¿›è¡Œåˆ’åˆ†å¥½è¯„è¿˜æ˜¯å·®è¯„ä¸¤ä¸ªæ ‡ç­¾\ndf = df[df.ReviewStar != 3]\ndf[&quot;sentiment&quot;] = df.ReviewStar.replace({1: &quot;negative&quot;, 2: &quot;negative&quot;, 4: &quot;positive&quot;, 5: &quot;positive&quot;})\n# å‡½æ•° evaluate_embeddings_approach é»˜è®¤ä¼šæœ‰ä¸¤ä¸ªå‚æ•° label å’Œ model éƒ½æœ‰å¯¹åº”çš„é»˜è®¤å€¼\ndef evaluate_embeddings_approach(\n    labels = [&#39;negative&#39;, &#39;positive&#39;],\n    model = EMBEDDING_MODEL,\n):\n    # è®¡ç®—æ¯ä¸ª label çš„å‘é‡å€¼\n    label_embeddings = [get_embedding(label, engine=model) for label in labels]\n    # è¾…åŠ©å‡½æ•° ç”¨äºè®¡ç®—å¥½è¯„å’Œreview_embeddingä¸å·®è¯„å’Œreview_embeddingå‘é‡ä½™å¼¦å€¼å·®å€¼\n    def label_score(review_embedding, label_embeddings):\n        return cosine_similarity(review_embedding, label_embeddings[1]) - cosine_similarity(review_embedding, label_embeddings[0])\n    # è¿™é‡Œæ›´æ–°ä¸‹ embedding åˆ— æ›´æ–°æˆå¯¹åº”çš„ åˆ†æ•°\n    probas = df[&quot;embedding&quot;].apply(lambda x: label_score(x, label_embeddings))\n    # é¢„æµ‹å€¼\n    preds = probas.apply(lambda x: &#39;positive&#39; if x&gt;0 else &#39;negative&#39;)\n    # ç”Ÿæˆä¸€ä¸ªåˆ†ç±»æŠ¥å‘Š\n    report = classification_report(df.sentiment, preds)\n    print(report)\n    # è¿™ä¸ªå°±æ˜¯ç»˜åˆ¶äºŒåˆ†ç±»çš„å‡†ç¡®ç‡-å¬å›ç‡æ›²çº¿\n    display = PrecisionRecallDisplay.from_predictions(df.sentiment, probas, pos_label=&#39;positive&#39;)\n    _ = display.ax_.set_title(&quot;2-class Precision-Recall curve&quot;)\n# æ— å‚æ•°é»˜è®¤å€¼è°ƒç”¨å‡½æ•°\nevaluate_embeddings_approach()","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619060,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684753145,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373843,"user_name":"æ¼«æ¸¸è€…","can_delete":false,"product_type":"c1","uid":2161554,"ip_address":"åŒ—äº¬","ucode":"23DD0146F43C7D","user_header":"https://static001.geekbang.org/account/avatar/00/20/fb/92/0537ea08.jpg","comment_is_top":false,"comment_ctime":1683257054,"is_pvip":false,"replies":[{"id":136866,"content":"ä¸èƒ½ç®€å•æ ¹æ®å†…å®¹æ’åœ¨å‰é¢åé¢æ¥åˆ¤å®šã€‚\n\nè¿™æ ·çš„ä¾‹å­æœ¬èº«çš„ç¡®äººæ¥åˆ¤æ–­ä¹Ÿå¾ˆéš¾æ˜ç¡®å®šä¹‰ç®—å¥½è¿˜ç®—åï¼Œä»åˆ†æ•°æ¥çœ‹ä¹Ÿæ¯”å¦å¤–ä¸¤ä¸ªæ›´æ¥è¿‘0.","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1684752991,"ip_address":"ä¸Šæµ·","comment_id":373843,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"negative_example = get_embedding(&quot;éšæ„é™ä»·ï¼Œä¸äºˆä»·ä¿ï¼ŒæœåŠ¡æ€åº¦å·®&quot;)\nå·®è¯„ä¾‹å­çš„è¯„åˆ† : -0.081472\nnegative_example = get_embedding(&quot;éšæ„é™ä»·ï¼Œä¸äºˆä»·ä¿ï¼ŒæœåŠ¡æ€åº¦å·®ï¼Œä½†æ˜¯åç»­æ¢äº†ä¸ªå®¢æœï¼ŒæœåŠ¡æ€åº¦å¥½å¤šäº†&quot;)\nå·®è¯„ä¾‹å­çš„è¯„åˆ† : -0.048267\nnegative_example = get_embedding(&quot;éšæ„é™ä»·ï¼Œä¸äºˆä»·ä¿ï¼ŒæœåŠ¡æ€åº¦å·®ï¼Œä½†æ˜¯åç»­æ¢äº†ä¸ªå®¢æœï¼ŒæœåŠ¡æ€åº¦å¥½å¤šäº†ã€‚ç»è¿‡æ²Ÿé€šè§£å†³äº†æ‰€æœ‰é—®é¢˜ï¼Œå¥½è¯„ï¼&quot;)\nå·®è¯„ä¾‹å­çš„è¯„åˆ† : -0.009858\n\né€šè¿‡ä¾‹å­çœ‹åˆ°ï¼Œç¬¬ä¸‰å¥è¯å¾ˆæ˜æ˜¾æˆ‘å·²ç»æ˜¯å¥½è¯„äº†ï¼Œä½†æ˜¯æ¨¡å‹è¿˜æ˜¯ç»™äº†å·®è¯„çš„ç»“è®ºã€‚æ˜¯ä¸æ˜¯æ’åœ¨å‰é¢çš„å¥å­æƒé‡æ›´å¤§å•Šï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619052,"discussion_content":"ä¸èƒ½ç®€å•æ ¹æ®å†…å®¹æ’åœ¨å‰é¢åé¢æ¥åˆ¤å®šã€‚\n\nè¿™æ ·çš„ä¾‹å­æœ¬èº«çš„ç¡®äººæ¥åˆ¤æ–­ä¹Ÿå¾ˆéš¾æ˜ç¡®å®šä¹‰ç®—å¥½è¿˜ç®—åï¼Œä»åˆ†æ•°æ¥çœ‹ä¹Ÿæ¯”å¦å¤–ä¸¤ä¸ªæ›´æ¥è¿‘0.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684752991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371955,"user_name":"é’±é›¨","can_delete":false,"product_type":"c1","uid":3580940,"ip_address":"æ²³åŒ—","ucode":"E9BFF20CA8FE6E","user_header":"https://static001.geekbang.org/account/avatar/00/36/a4/0c/796de5b6.jpg","comment_is_top":false,"comment_ctime":1680542333,"is_pvip":false,"replies":[{"id":135741,"content":"pythonçš„ç¯å¢ƒçš„ç¡®æ˜¯ä¸ªé—®é¢˜ï¼Œæˆ‘çœ‹ä¸€ä¸‹æ˜¯å¦æ™šç‚¹èƒ½æä¸ªDockerçš„Imageæ¥è§£å†³é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680585891,"ip_address":"ä¸Šæµ·","comment_id":371955,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"ç»å†äº†æ— æ•°æ¬¡ä¸‹é¢çš„å¤±è´¥ï¼Œä¸åœé‡æ–°å®‰è£…pillowå’Œmatplotlibä¹‹åï¼Œç»ˆäºæˆåŠŸäº†ã€‚\nè§£å†³æ–¹æ¡ˆæ˜¯ç‹ å¿ƒæŠŠminicondaã€pythonå…¨å¸è½½ï¼Œé‡æ–°å®‰è£…ã€‚\næ³¨æ„install openaiä»¥åï¼Œé»˜è®¤çš„pillowç‰ˆæœ¬æ˜¯9.4ï¼Œå¤ªé«˜äº†ï¼ŒæŠŠpillowå¸è½½ï¼Œå®‰è£…8.4ã€‚\nè¿™ä¹ˆæ“ä½œä»¥åï¼Œæ–°çš„é—®é¢˜æ˜¯openaiåˆæ²¡äº†ï¼Œå°±æŠŠopenaié‡æ–°è£…å›æ¥ã€‚\nå¾ˆå¼€å¿ƒçš„æ˜¯ï¼Œpillowå±…ç„¶è¿˜æ˜¯8.4.ç»“æœæ­£å¸¸äº†ã€‚\n\nFile ~\\miniconda3\\envs\\py310\\lib\\site-packages\\PIL\\Image.py:103\n     94 MAX_IMAGE_PIXELS = int(1024 * 1024 * 1024 &#47;&#47; 4 &#47;&#47; 3)\n     97 try:\n     98     # If the _imaging C module is not present, Pillow will not load.\n     99     # Note that other modules should not refer to _imaging directly;\n    100     # import Image and use the Image.core variable instead.\n    101     # Also note that Image.core is not a publicly documented interface,\n    102     # and should be considered private and subject to change.\n--&gt; 103     from . import _imaging as core\n    105     if __version__ != getattr(core, &quot;PILLOW_VERSION&quot;, None):\n    106         msg = (\n    107             &quot;The _imaging extension was built for another version of Pillow or PIL:\\n&quot;\n    108             f&quot;Core version: {getattr(core, &#39;PILLOW_VERSION&#39;, None)}\\n&quot;\n    109             f&quot;Pillow version: {__version__}&quot;\n    110         )\n\nImportError: DLL load failed while importing _imaging: The specified module could not be found.","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612247,"discussion_content":"pythonçš„ç¯å¢ƒçš„ç¡®æ˜¯ä¸ªé—®é¢˜ï¼Œæˆ‘çœ‹ä¸€ä¸‹æ˜¯å¦æ™šç‚¹èƒ½æä¸ªDockerçš„Imageæ¥è§£å†³é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680585891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3585208,"avatar":"https://static001.geekbang.org/account/avatar/00/36/b4/b8/791d0f5e.jpg","nickname":"å¼€å¿ƒ","note":"","ucode":"FA430422C96C18","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616465,"discussion_content":"ä½ å¤ªç§€äº†ï¼Œæˆ‘è¯•äº†ä¸€ä¼šè¯•ä¸ä¸‹å»äº†ï¼Œæ¥æ‰¾ç­”æ¡ˆæ¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682847800,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371824,"user_name":"æ¸£æ¸£è¾‰","can_delete":false,"product_type":"c1","uid":1911235,"ip_address":"æ—¥æœ¬","ucode":"730838D9161579","user_header":"https://static001.geekbang.org/account/avatar/00/1d/29/c3/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1680398326,"is_pvip":false,"replies":[{"id":135715,"content":"æœ‰ä¸¤ä¸ªåŸå› \n1. chatgptçš„æ¨¡å‹åœ¨å®æ—¶æ›´æ–°ï¼Œæˆ‘é€‰ç”¨çš„ä¸€èˆ¬éƒ½ä¸æ˜¯å¿«ç…§çš„æ¨¡å‹ï¼Œè€Œæ˜¯æ¨¡å‹æœ€æ–°ç‰ˆæœ¬ã€‚\n2. æœ¬èº« GPT è¾“å‡ºç»“æœæ˜¯æ¦‚ç‡é‡‡æ ·ï¼Œæœ‰ä¸€å®šçš„éšæœºæ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680581506,"ip_address":"ä¸Šæµ·","comment_id":371824,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"ä¸ºä»€ä¹ˆåŒæ ·æ˜¯ç”¨chatgptçš„å‡ºæ¥çš„ç»“æœè·Ÿè€å¸ˆçš„äº‹ä¾‹ç¨æœ‰ä¸åŒï¼Œæ˜¯å› ä¸ºchatgptè¿™ä¸ªæ¨¡å‹æ˜¯åœ¨å®æ—¶æ›´æ–°çš„å—","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612214,"discussion_content":"æœ‰ä¸¤ä¸ªåŸå› \n1. chatgptçš„æ¨¡å‹åœ¨å®æ—¶æ›´æ–°ï¼Œæˆ‘é€‰ç”¨çš„ä¸€èˆ¬éƒ½ä¸æ˜¯å¿«ç…§çš„æ¨¡å‹ï¼Œè€Œæ˜¯æ¨¡å‹æœ€æ–°ç‰ˆæœ¬ã€‚\n2. æœ¬èº« GPT è¾“å‡ºç»“æœæ˜¯æ¦‚ç‡é‡‡æ ·ï¼Œæœ‰ä¸€å®šçš„éšæœºæ€§ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1680581506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371026,"user_name":"piboye","can_delete":false,"product_type":"c1","uid":1066752,"ip_address":"å¹¿ä¸œ","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1679470439,"is_pvip":true,"replies":[{"id":135360,"content":"Chat Completeæ˜¯é’ˆå¯¹å¯¹è¯å¾®è°ƒè¿‡çš„æ¨¡å‹ã€‚æˆ‘è‡ªå·±çš„ä½“éªŒæ˜¯å¾ˆå¤šæ—¶å€™ç»™å®ƒæ˜ç¡®çš„æŒ‡ä»¤ï¼Œå®ƒä¹Ÿä¼šæœ‰ç‚¹è¯å” ï¼ŒåºŸè¯æœ‰ç‚¹å¤šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679540335,"ip_address":"ä¸Šæµ·","comment_id":371026,"utype":1}],"discussion_count":3,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"è€å¸ˆ, text complete å’Œ chat complete æ¥å£æœ‰ä»€ä¹ˆåŒºåˆ«å•Š, æˆ‘çœ‹èƒ½åŠ›æ²¡çœ‹å‡ºå¤§çš„å·®åˆ«","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610360,"discussion_content":"Chat Completeæ˜¯é’ˆå¯¹å¯¹è¯å¾®è°ƒè¿‡çš„æ¨¡å‹ã€‚æˆ‘è‡ªå·±çš„ä½“éªŒæ˜¯å¾ˆå¤šæ—¶å€™ç»™å®ƒæ˜ç¡®çš„æŒ‡ä»¤ï¼Œå®ƒä¹Ÿä¼šæœ‰ç‚¹è¯å” ï¼ŒåºŸè¯æœ‰ç‚¹å¤šã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1679540335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1066752,"avatar":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","nickname":"piboye","note":"","ucode":"7CFD8712857A85","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":610405,"discussion_content":"è°¢è°¢è€å¸ˆæŒ‡ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679548401,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":610360,"ip_address":"å¹¿ä¸œ","group_id":0},"score":610405,"extra":""}]},{"author":{"id":1742144,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJPXN6tO1ka2YhSEnzFLocuXCY9ibrTP8yczqymEGXKwJsDE276MaVBXHSibYiaOl8Z6XOoRTpAbyUnA/132","nickname":"Geek_97af74","note":"","ucode":"73D8823A964877","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":615829,"discussion_content":"chat åºŸè¯é‚£æ˜¯ç›¸å½“å¤šã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682441175,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370987,"user_name":"peter","can_delete":false,"product_type":"c1","uid":1058183,"ip_address":"å±±è¥¿","ucode":"261C3FC001DE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","comment_is_top":false,"comment_ctime":1679435155,"is_pvip":false,"replies":[{"id":135364,"content":"Q1: æ˜¯çš„ï¼Œä¸€ä¸ªäº¤äº’å¼å¯ä»¥çœ‹åˆ°è¾“å‡ºç»“æœï¼Œå›¾ç‰‡ç­‰å„ç§åŠŸèƒ½çš„å¼€å‘ç¯å¢ƒ\nQ2: å¯ä»¥ç›´æ¥ä½¿ç”¨åœ¨çº¿çš„Colabï¼Œå°±ä¸éœ€è¦è‡ªå·±æ­å»ºäº†ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ç¬¬ä¸€è®²ã€‚æ­å»ºçš„å¤æ‚ç¨‹åº¦æ¯ä¸ªäººæ„Ÿè§‰ä¸ä¸€æ ·ã€‚\nQ3ï¼šå¹¶ä¸æ˜¯æ‰€æœ‰çš„é—®é¢˜éƒ½é€‚åˆç”¨OpenAIçš„APIæ¥å®Œæˆã€‚æˆ‘ä»¬éœ€è¦è€ƒè™‘æˆæœ¬ï¼ŒOpenAIçš„Embeddingæ¥å£å¾ˆä¾¿å®œï¼Œä½†æ˜¯Completionæ¥å£å°±ä¼šè´µä¸€äº›ï¼ˆå³ä½¿æ˜¯gpt-3.5-turboï¼‰ï¼Œä¹Ÿè¦è€ƒè™‘æ•ˆæœï¼Œæœ‰æ ‡æ³¨æ•°æ®çš„æƒ…å†µä¸‹ï¼Œåˆ©ç”¨æ ‡æ³¨ä¼šæ¯”åªç”¨å¤§æ¨¡å‹æ•ˆæœæ›´å¥½\nQ4ï¼šåˆ¶ä½œPPTï¼Œæˆ‘ä»¬å¯ä»¥æœŸå¾…ä¸€ä¸‹å¾®è½¯æœ€æ–°çš„å‘å¸ƒä¼šé‡Œä»‹ç»çš„ Office Copilotï¼Œä½ åªè¦ç»™å®ƒåˆé€‚çš„èµ„æ–™ï¼Œå¯ä»¥è‡ªåŠ¨ç”ŸæˆPPTã€‚ä½ å¯ä»¥è¯•ä¸€ä¸‹ beta.tome.app æ˜¯ä¸€ä¸ªåˆ›ä¸šå·¥ä½œåšçš„é€šè¿‡AIåˆ›å»ºPPTçš„äº§å“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679540936,"ip_address":"ä¸Šæµ·","comment_id":370987,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜ï¼š\nQ1ï¼š01è¯¾ä¸­çš„Jupyter Labs å¼€å‘ç¯å¢ƒæ˜¯pythonçš„å¼€å‘ç¯å¢ƒå—ï¼Ÿï¼ˆå¯¹pythonä¸äº†è§£ï¼Œ0åŸºç¡€ï¼Œå°ç™½ï¼‰\nQ2ï¼š01è¯¾ä¸­çš„Jupyter Labs å¼€å‘ç¯å¢ƒæ­å»ºï¼Œå¤æ‚å—ï¼Ÿå¦‚æœå¤æ‚çš„è¯ï¼Œèƒ½å¦éº»çƒ¦è€å¸ˆå†™ä¸€ä¸ªæ‰‹å†Œä¸€ç±»çš„æ–‡æ¡£ï¼Ÿæœ€å¥½è¯¦ç»†ä¸€ç‚¹ã€‚ï¼ˆä¸€ç›´è§‰å¾—æ­ç¯å¢ƒå¾ˆéº»çƒ¦ï¼›å°¤å…¶å¯¹ä¸ç†Ÿæ‚‰çš„pythonï¼Œå®¹æ˜“å‡ºé”™ï¼Œå®¹æ˜“æœ‰æŒ«æŠ˜æ„Ÿã€‚ï¼‰ã€‚ ç¯å¢ƒæ­ä¸å¥½ï¼Œåé¢çš„ä¾‹å­æ— æ³•å®è·µã€‚\nQ3ï¼šCookbookä¾‹å­ï¼Œä¸ºä»€ä¹ˆç”¨Scikitä¼°è®¡ç»“æœï¼Œåº”è¯¥éƒ½ç”¨openaiæ¥å®Œæˆå•Šã€‚ä¾‹å­ä¸­ç”¨Scikitï¼Œé‚£ç›¸å½“äºâ€œopenai + Scikitâ€ç»“åˆæ¥åˆ¤æ–­å‡ºæœ€åçš„æ˜Ÿæ ‡äº†ï¼Œopenaiè¿™ä¹ˆå¼ºå¤§ï¼Œè¿˜éœ€è¦ç”¨Scikitå—ï¼Ÿ\nQ4ï¼šchatGPTæœç´¢æˆ–ç”Ÿæˆpptçš„èƒ½åŠ›å¦‚ä½•ï¼Ÿ\næ¯”å¦‚æˆ‘è¦åšä¸€ä¸ªè½¯ä»¶çš„äº§å“ä»‹ç»æ€§è´¨çš„pptï¼Œç”¨æ¥ç»™å®¢æˆ·ä»‹ç»è¯¥è½¯ä»¶ã€‚ä»¥matlabä¸ºä¾‹ï¼Œæˆ‘æ‰˜å›½å¤–åŒäº‹è¿™æ ·æœâ€œmatlab äº§å“ä»‹ç» pptâ€ï¼Œå¹¶æ²¡æœ‰æœåˆ°åˆé€‚çš„pptï¼Œåæ¥åªå¥½åœ¨ç™¾åº¦ä¸Šæœç´¢äº†ã€‚è¯·é—®ï¼Œæ˜¯æˆ‘ä»¬çš„ä½¿ç”¨æ–¹æ³•ä¸å¯¹ï¼Ÿè¿˜æ˜¯è¯´chatGPTæ²¡æœ‰è¿™æ–¹é¢çš„èƒ½åŠ›ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610366,"discussion_content":"Q1: æ˜¯çš„ï¼Œä¸€ä¸ªäº¤äº’å¼å¯ä»¥çœ‹åˆ°è¾“å‡ºç»“æœï¼Œå›¾ç‰‡ç­‰å„ç§åŠŸèƒ½çš„å¼€å‘ç¯å¢ƒ\nQ2: å¯ä»¥ç›´æ¥ä½¿ç”¨åœ¨çº¿çš„Colabï¼Œå°±ä¸éœ€è¦è‡ªå·±æ­å»ºäº†ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ç¬¬ä¸€è®²ã€‚æ­å»ºçš„å¤æ‚ç¨‹åº¦æ¯ä¸ªäººæ„Ÿè§‰ä¸ä¸€æ ·ã€‚\nQ3ï¼šå¹¶ä¸æ˜¯æ‰€æœ‰çš„é—®é¢˜éƒ½é€‚åˆç”¨OpenAIçš„APIæ¥å®Œæˆã€‚æˆ‘ä»¬éœ€è¦è€ƒè™‘æˆæœ¬ï¼ŒOpenAIçš„Embeddingæ¥å£å¾ˆä¾¿å®œï¼Œä½†æ˜¯Completionæ¥å£å°±ä¼šè´µä¸€äº›ï¼ˆå³ä½¿æ˜¯gpt-3.5-turboï¼‰ï¼Œä¹Ÿè¦è€ƒè™‘æ•ˆæœï¼Œæœ‰æ ‡æ³¨æ•°æ®çš„æƒ…å†µä¸‹ï¼Œåˆ©ç”¨æ ‡æ³¨ä¼šæ¯”åªç”¨å¤§æ¨¡å‹æ•ˆæœæ›´å¥½\nQ4ï¼šåˆ¶ä½œPPTï¼Œæˆ‘ä»¬å¯ä»¥æœŸå¾…ä¸€ä¸‹å¾®è½¯æœ€æ–°çš„å‘å¸ƒä¼šé‡Œä»‹ç»çš„ Office Copilotï¼Œä½ åªè¦ç»™å®ƒåˆé€‚çš„èµ„æ–™ï¼Œå¯ä»¥è‡ªåŠ¨ç”ŸæˆPPTã€‚ä½ å¯ä»¥è¯•ä¸€ä¸‹ beta.tome.app æ˜¯ä¸€ä¸ªåˆ›ä¸šå·¥ä½œåšçš„é€šè¿‡AIåˆ›å»ºPPTçš„äº§å“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679540937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1105780,"avatar":"https://static001.geekbang.org/account/avatar/00/10/df/74/134f3a7a.jpg","nickname":"memora","note":"","ucode":"8BCF66C2C8D607","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610228,"discussion_content":"Q1å’ŒQ2å¯ä»¥ä½¿ç”¨æœç´¢å¼•æ“æœä¸€ä¸‹ç›¸å…³çš„å†…å®¹ï¼›Q3ä½¿ç”¨Scikitæ˜¯ä¸ºäº†æ£€éªŒå¤§æ¨¡å‹çš„ç”Ÿæˆæ•ˆæœï¼›Q4å¯ä»¥è®©chatgptç”Ÿæˆä»‹ç»çš„æ–‡å­—å¹¶æä¾›å‚è€ƒ(ppt)é“¾æ¥ï¼Œç„¶åæ‰‹åŠ¨åˆå¹¶æˆPPT, å¾®è½¯æ–°æ¨çš„Copilotæœ‰ç›´æ¥ç”ŸæˆPPTçš„èƒ½åŠ›, åŸºäºå¤§æ¨¡å‹åšçš„ä½†è¿˜æœªå¯¹å¤§ä¼—å¼€æ”¾","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1679468180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":374163,"user_name":"Geek_a54b66","can_delete":false,"product_type":"c1","uid":3619778,"ip_address":"ç¾å›½","ucode":"C8790CDBBA6CFE","user_header":"","comment_is_top":false,"comment_ctime":1683648039,"is_pvip":false,"replies":[{"id":136836,"content":"è€³æœºè¯„ä»·æ˜¯ä½œä¸š\n\né£Ÿç‰©è¯„ä»·çš„æ•°æ®ï¼Œå¯ä»¥å‚çœ‹notebookæ‰€åœ¨ä»£ç åº“çš„README\nhttps:&#47;&#47;github.com&#47;xuwenhao&#47;geektime-ai-course\n\né“¾æ¥: https:&#47;&#47;pan.baidu.com&#47;s&#47;1Cl0eFNLOkQqquf9ls0trEw æå–ç : jvr4","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1684746542,"ip_address":"ä¸Šæµ·","comment_id":374163,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"æ²¡æœ‰æä¾› äºšé©¬é€Šé£Ÿç‰©è¯„ä»·çš„è¿æ¥ç½¢ï¼Œæœ€åé¢æä¾›çš„æ˜¯ è€³æœºçš„è¯„ä»·","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619010,"discussion_content":"è€³æœºè¯„ä»·æ˜¯ä½œä¸š\n\né£Ÿç‰©è¯„ä»·çš„æ•°æ®ï¼Œå¯ä»¥å‚çœ‹notebookæ‰€åœ¨ä»£ç åº“çš„README\nhttps://github.com/xuwenhao/geektime-ai-course\n\né“¾æ¥: https://pan.baidu.com/s/1Cl0eFNLOkQqquf9ls0trEw æå–ç : jvr4","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684746542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373131,"user_name":"EnzoîŒ°","can_delete":false,"product_type":"c1","uid":3579054,"ip_address":"ç¾å›½","ucode":"15F820957F4FF5","user_header":"https://static001.geekbang.org/account/avatar/00/36/9c/ae/40e5b76d.jpg","comment_is_top":false,"comment_ctime":1682070908,"is_pvip":false,"replies":[{"id":136488,"content":"rawåœ°å€é‡Œï¼Œç•Œé¢å³ä¸Šè§’é‡Œæœ‰åœ°æ–¹å¯ä»¥ç‚¹å‡»ä¸‹è½½","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683086974,"ip_address":"ä¸Šæµ·","comment_id":373131,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"ä¸çŸ¥é“æ€ä¹ˆä¸‹è½½æ•°æ®é›†ï¼Œåœ¨githubä¸Šç‚¹ä¸‹è½½åå´è¿”å›çš„æ˜¯æµè§ˆå™¨é‡Œä¸€ä¸ªrawåœ°å€ï¼Œå¥½å¥‡æ€ª","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616724,"discussion_content":"rawåœ°å€é‡Œï¼Œç•Œé¢å³ä¸Šè§’é‡Œæœ‰åœ°æ–¹å¯ä»¥ç‚¹å‡»ä¸‹è½½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683086974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1742144,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJPXN6tO1ka2YhSEnzFLocuXCY9ibrTP8yczqymEGXKwJsDE276MaVBXHSibYiaOl8Z6XOoRTpAbyUnA/132","nickname":"Geek_97af74","note":"","ucode":"73D8823A964877","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":615831,"discussion_content":"rawç½‘å€ä¸‹å³é”®å¦å­˜ä¸ºå³å¯ä¸‹è½½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682441834,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373036,"user_name":"ShawnWu","can_delete":false,"product_type":"c1","uid":1253140,"ip_address":"åŒ—äº¬","ucode":"A3E8397FDD20D6","user_header":"https://static001.geekbang.org/account/avatar/00/13/1f/14/57cb7926.jpg","comment_is_top":false,"comment_ctime":1681956651,"is_pvip":true,"replies":[{"id":136501,"content":"æ”¾åˆ° data ç›®å½•é‡Œä¹‹åï¼Œé€šè¿‡ &quot;.&#47;data&#47;fine_food_reviews_with_embeddings_1k.csv&quot; åº”è¯¥èƒ½å¤Ÿè¯»åˆ°å‘€\n\næˆ–è€…ä½ ç”¨ç»å¯¹è·¯å¾„\n&quot;&#47;content&#47;data&#47;fine_food_reviews_with_embeddings_1k.csv&quot; è¯•è¯•çœ‹ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683088413,"ip_address":"ä¸Šæµ·","comment_id":373036,"utype":1}],"discussion_count":4,"race_medal":1,"score":3,"product_id":100541001,"comment_content":"è¿™ä¸ªæ–‡ä»¶ï¼šfine_food_reviews_with_embeddings_1k.csv\næˆ‘ä¸Šä¼ åˆ°colabäº‘ç›˜çš„åŒçº§ç›®å½•ä¸‹ï¼Œä¿®æ”¹pathè·¯å¾„ä¹Ÿè¯»å–ä¸åˆ°ï¼Œå•ç‹¬å»ºäº†ä¸€ä¸ªdataç›®å½•æ”¾è¿›å»ä¹Ÿè¯»ä¸åˆ°ã€‚","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616738,"discussion_content":"æ”¾åˆ° data ç›®å½•é‡Œä¹‹åï¼Œé€šè¿‡ &#34;./data/fine_food_reviews_with_embeddings_1k.csv&#34; åº”è¯¥èƒ½å¤Ÿè¯»åˆ°å‘€\n\næˆ–è€…ä½ ç”¨ç»å¯¹è·¯å¾„\n&#34;/content/data/fine_food_reviews_with_embeddings_1k.csv&#34; è¯•è¯•çœ‹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683088413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1543018,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqw0R25Bt0iahFhEHfnxmzr9iaZf0eLsDQtFUJzgGkYwHTqicU9TydMngrJ4yL7D50awD2VibHBAdqplQ/132","nickname":"Geek_18dfaf","note":"","ucode":"CFC27E78220E2D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":646578,"discussion_content":"ä½ è¿™æ–‡ä»¶å“ªé‡Œä¸‹è½½åˆ°çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1718244388,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3206957,"avatar":"https://static001.geekbang.org/account/avatar/00/30/ef/2d/757bb0d3.jpg","nickname":"Toni","note":"","ucode":"E6B2FACCC1E000","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":615954,"discussion_content":"# ç”¨ä¸‹é¢çš„æ–¹æ³•æ£€æŸ¥å½“å‰çš„ä½ç½®\nimport os\ncwd = os.getcwd()  # Get the current working directory (cwd)\nprint(cwd)\n\nè¾“å‡ºçš„ç»“æœ\n/content\n\nå¦‚æœå°†æ–‡ä»¶æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œå°±æ˜¯\nfile = &#34;/content/fine_food_reviews_with_embeddings_1k.csv&#34;\nè¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682514465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ç‘å£«","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3579054,"avatar":"https://static001.geekbang.org/account/avatar/00/36/9c/ae/40e5b76d.jpg","nickname":"EnzoîŒ°","note":"","ucode":"15F820957F4FF5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":615236,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682129864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373034,"user_name":"ShawnWu","can_delete":false,"product_type":"c1","uid":1253140,"ip_address":"åŒ—äº¬","ucode":"A3E8397FDD20D6","user_header":"https://static001.geekbang.org/account/avatar/00/13/1f/14/57cb7926.jpg","comment_is_top":false,"comment_ctime":1681955763,"is_pvip":true,"replies":[{"id":136502,"content":"åœ¨colabçš„é»˜è®¤è·¯å¾„ä¸‹åˆ›å»ºä¸€ä¸ª data ç›®å½•æŠŠæ–‡ä»¶ä¸Šä¼ \nç„¶åé€šè¿‡ &quot;.&#47;data&#47;fine_food_reviews_with_embeddings_1k.csv&quot; è¯»å–","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683088464,"ip_address":"ä¸Šæµ·","comment_id":373034,"utype":1}],"discussion_count":3,"race_medal":1,"score":3,"product_id":100541001,"comment_content":"æˆ‘ç”¨çš„æ˜¯åœ¨çº¿çš„colabè·‘çš„è¿™ä¸€è¯¾ç¤ºä¾‹ä»£ç ï¼Œæœ€åé‚£ä¸ªäºšé©¬é€Šçš„ç¤ºä¾‹è·‘ä¸é€šï¼Œä¸æ˜ç™½é‚£ä¸ªcsvåº”è¯¥æ”¾åˆ°åœ¨çº¿colabçš„ä»€ä¹ˆä½ç½®ä¸Šæ‰èƒ½è¯»åˆ°ï¼Œdatafile_pathè¿™ä¸ªåº”è¯¥åœ¨colabä¸Šå¦‚ä½•å¤„ç†ï¼š\ndatafile_path = &quot;data&#47;fine_food_reviews_with_embeddings_1k.csv&quot;\ndf = pd.read_csv(datafile_path)","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616739,"discussion_content":"åœ¨colabçš„é»˜è®¤è·¯å¾„ä¸‹åˆ›å»ºä¸€ä¸ª data ç›®å½•æŠŠæ–‡ä»¶ä¸Šä¼ \nç„¶åé€šè¿‡ &#34;./data/fine_food_reviews_with_embeddings_1k.csv&#34; è¯»å–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683088464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1143029,"avatar":"https://static001.geekbang.org/account/avatar/00/11/70/f5/afdf4a68.jpg","nickname":"ä¸œä¸´æ²§æµ·","note":"","ucode":"300AA289093E06","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":615145,"discussion_content":"from google.colab import drive\ndrive.mount(&#39;/content/gdrive&#39;)\næ‰§è¡Œä¸Šé¢ä»£ç mount Google drive\nç„¶ååœ¨ä»£ç ä¸­å¼•ç”¨ï¼š\ndatafile_path=&#34;/content/gdrive/My Drive/Colab Notebooks/fine_food_reviews_with_embeddings_1k.csv&#34;\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1682064986,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1452167,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJcwXucibksEYRSYg6icjibzGa7efcMrCsGec2UwibjTd57icqDz0zzkEEOM2pXVju60dibzcnQKPfRkN9g/132","nickname":"Geek_93970d","note":"","ucode":"52AC308BEC7737","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617549,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683642778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372854,"user_name":"RecordLiu","can_delete":false,"product_type":"c1","uid":1252206,"ip_address":"ç¦å»º","ucode":"41178CC21337FB","user_header":"https://static001.geekbang.org/account/avatar/00/13/1b/6e/cd8fea9f.jpg","comment_is_top":false,"comment_ctime":1681725716,"is_pvip":false,"replies":[{"id":136256,"content":"åˆè§„å°±å¥½äº†ï¼ŒOpenAIåè®®å†™æ˜äº†ä¸ä¼šä½¿ç”¨APIæäº¤çš„æ•°æ®ç”¨äºæ¨¡å‹è®­ç»ƒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681794265,"ip_address":"ä¸Šæµ·","comment_id":372854,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"è¿™ä¸ªè°ƒopenapiæä¾›çš„apiè¿›è¡Œè®­ç»ƒæ•°æ®ï¼Œåº”è¯¥è¦è€ƒè™‘æ•°æ®å®‰å…¨é—®é¢˜å§?æ¯”å¦‚ç”¨å…¬å¸çœŸå®çš„ä¸šåŠ¡æ•°æ®è¿›è¡Œè®­ç»ƒï¼Œå¯èƒ½ä¼šå‘ç”Ÿæ•°æ®æ³„éœ²é—®é¢˜","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":614458,"discussion_content":"åˆè§„å°±å¥½äº†ï¼ŒOpenAIåè®®å†™æ˜äº†ä¸ä¼šä½¿ç”¨APIæäº¤çš„æ•°æ®ç”¨äºæ¨¡å‹è®­ç»ƒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681794265,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371764,"user_name":"Geek_9c83fd","can_delete":false,"product_type":"c1","uid":3577055,"ip_address":"ä¸­å›½é¦™æ¸¯","ucode":"1D494AEC593D8A","user_header":"","comment_is_top":false,"comment_ctime":1680290095,"is_pvip":false,"replies":[{"id":135717,"content":"çš„ç¡®æ²¡æœ‰ç”¨åˆ°ï¼Œé‚£ä¸ªæ˜¯åœ¨æœ€ä¸‹é¢æ‰¹é‡å¤„ç†æ•°æ®çš„æ—¶å€™ç”¨åˆ°çš„ã€‚\ntext-similarity-davinci-001 æ¨¡å‹æ›´å¤§ï¼Œç»´åº¦æ›´é«˜ï¼Œæ•ˆæœæ›´å¥½ï¼ˆ12288ç»´ï¼‰\n\ntext-embedding-ada-002 æˆæœ¬æ¯”è¾ƒä½ï¼Œåœ¨æ•´ä½“çš„æ•°æ®é›†ä¸Šè¿è¡Œï¼Œæ•ˆæœå·²ç»è¶³å¤Ÿäº†ã€‚\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680581614,"ip_address":"ä¸Šæµ·","comment_id":371764,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"```\n\nimport openai\nimport os\nfrom openai.embeddings_utils import cosine_similarity, get_embedding\n\n# è·å–è®¿é—®open aiçš„å¯†é’¥\nopenai.api_key = os.getenv(&quot;OPENAI_API_KEY&quot;)\n# é€‰æ‹©ä½¿ç”¨æœ€å°çš„adaæ¨¡å‹\nEMBEDDING_MODEL = &quot;text-embedding-ada-002&quot;\n\n# è·å–&quot;å¥½è¯„&quot;å’Œ&quot;å·®è¯„&quot;çš„\npositive_review = get_embedding(&quot;å¥½è¯„&quot;)\nnegative_review = get_embedding(&quot;å·®è¯„&quot;)\n\npositive_example = get_embedding(&quot;ä¹°çš„é“¶è‰²ç‰ˆçœŸçš„å¾ˆå¥½çœ‹ï¼Œä¸€å¤©å°±åˆ°äº†ï¼Œæ™šä¸Šå°±å¼€å§‹æ‹¿èµ·æ¥å®Œç³»ç»Ÿå¾ˆä¸æ»‘æµç•…ï¼Œåšå·¥æ‰å®ï¼Œæ‰‹æ„Ÿç»†è…»ï¼Œå¾ˆç²¾è‡´å“¦è‹¹æœä¸€å¦‚æ—¢å¾€çš„å¥½å“è´¨&quot;)\nnegative_example = get_embedding(&quot;é™ä»·å‰å®³ï¼Œä¿ä»·ä¸åˆç†ï¼Œä¸æ¨è&quot;)\n\ndef get_score(sample_embedding):\n  return cosine_similarity(sample_embedding, positive_review) - cosine_similarity(sample_embedding, negative_review)\n\npositive_score = get_score(positive_example)\nnegative_score = get_score(negative_example)\n\nprint(&quot;å¥½è¯„ä¾‹å­çš„è¯„åˆ† : %f&quot; % (positive_score))\nprint(&quot;å·®è¯„ä¾‹å­çš„è¯„åˆ† : %f&quot; % (negative_score))\n```\nè¯¥æ®µä»£ç ä¸­ï¼Œå¹¶æ²¡æœ‰ç”¨åˆ° `text-embedding-ada-002`,æˆ‘çœ‹äº†åº“ï¼Œç”¨çš„æ˜¯`text-similarity-davinci-001`,è€Œä¸”æˆ‘å‘ç°æˆ‘å¦‚æœç”¨`text-embedding-ada-002`,é‚£ä¹ˆè¯„åˆ†éƒ½å¤§äº1ï¼Œè¿™æ˜¯ä¸ºä½•ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612216,"discussion_content":"çš„ç¡®æ²¡æœ‰ç”¨åˆ°ï¼Œé‚£ä¸ªæ˜¯åœ¨æœ€ä¸‹é¢æ‰¹é‡å¤„ç†æ•°æ®çš„æ—¶å€™ç”¨åˆ°çš„ã€‚\ntext-similarity-davinci-001 æ¨¡å‹æ›´å¤§ï¼Œç»´åº¦æ›´é«˜ï¼Œæ•ˆæœæ›´å¥½ï¼ˆ12288ç»´ï¼‰\n\ntext-embedding-ada-002 æˆæœ¬æ¯”è¾ƒä½ï¼Œåœ¨æ•´ä½“çš„æ•°æ®é›†ä¸Šè¿è¡Œï¼Œæ•ˆæœå·²ç»è¶³å¤Ÿäº†ã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680581614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371054,"user_name":"Oliå¼ å¸†","can_delete":false,"product_type":"c1","uid":1338098,"ip_address":"åŒ—äº¬","ucode":"6E60A370C3C14A","user_header":"https://static001.geekbang.org/account/avatar/00/14/6a/f2/db90fa96.jpg","comment_is_top":false,"comment_ctime":1679489121,"is_pvip":false,"replies":[{"id":135355,"content":"æ˜¯çš„ï¼Œgpt-3.5-turboä¼šä½å¾ˆå¤šã€‚ä¸è¿‡åœ¨ä¸€äº›é—®é¢˜çš„æ•ˆæœä¸Šï¼Œå…¶å®ä¸å¦‚åŸå§‹çš„ code-davinci-002 æˆ–è€… text-davinci-003ã€‚\nä¸“æ çš„ç¬¬äºŒéƒ¨åˆ†ä¸»è¦å°±æ˜¯è®²å¦‚ä½•æ­å»ºè‡ªæœ‰çš„çŸ¥è¯†åº“çš„æ–¹æ³•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679539975,"ip_address":"ä¸Šæµ·","comment_id":371054,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"è¯·æ•™è€å¸ˆï¼Œä¼¼ä¹chat completionçš„æˆæœ¬è¦ä½å¾ˆå¤šï¼Œåé¢ä¼šè®²åˆ°å¦‚ä½•åˆ©ç”¨OpenAIçš„æ¥å£æ¥æ­å»ºèƒ½ä½¿ç”¨è‡ªæœ‰çŸ¥è¯†åº“çš„æ–¹æ³•å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610351,"discussion_content":"æ˜¯çš„ï¼Œgpt-3.5-turboä¼šä½å¾ˆå¤šã€‚ä¸è¿‡åœ¨ä¸€äº›é—®é¢˜çš„æ•ˆæœä¸Šï¼Œå…¶å®ä¸å¦‚åŸå§‹çš„ code-davinci-002 æˆ–è€… text-davinci-003ã€‚\nä¸“æ çš„ç¬¬äºŒéƒ¨åˆ†ä¸»è¦å°±æ˜¯è®²å¦‚ä½•æ­å»ºè‡ªæœ‰çš„çŸ¥è¯†åº“çš„æ–¹æ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679539975,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1338098,"avatar":"https://static001.geekbang.org/account/avatar/00/14/6a/f2/db90fa96.jpg","nickname":"Oliå¼ å¸†","note":"","ucode":"6E60A370C3C14A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":610359,"discussion_content":"æ„Ÿè°¢ğŸ™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679540295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":610351,"ip_address":"æ–°åŠ å¡","group_id":0},"score":610359,"extra":""}]}]},{"had_liked":false,"id":371006,"user_name":"ç ä¹ä¸»ä¹‰","can_delete":false,"product_type":"c1","uid":1016695,"ip_address":"ä¸Šæµ·","ucode":"91EC070FD04A22","user_header":"https://static001.geekbang.org/account/avatar/00/0f/83/77/e51624a1.jpg","comment_is_top":false,"comment_ctime":1679457109,"is_pvip":false,"replies":[{"id":135363,"content":"å¦‚æœåªæ˜¯å…‰å…‰çœ‹Embeddingçš„è¯ï¼Œå…¶å®æœ‰å¾ˆå¤šå¼€æºæ¨¡å‹å¯ä»¥é€‰æ‹©ã€‚\nåœ¨ç¬¬4è®²ï¼Œç¬¬12è®²ï¼Œæˆ‘ä»¬éƒ½ä¼šæ¥å°è¯•ä¸€äº›å¼€æºæ¨¡å‹ã€‚\n\nä½ å¯ä»¥è¯•è¯•çœ‹ flan-t5 è¿™ä¸ªå¼€æºæ¨¡å‹æ¥åšembeddingï¼Œå…¶å®æ•ˆæœè¿˜æ˜¯ä¸é”™çš„ã€‚\nåªæ˜¯å¤æ‚ä¸€ç‚¹çš„æ¨ç†ï¼Œå’Œæ–‡æœ¬ç”Ÿæˆï¼Œå¼€æºçš„æ¨¡å‹å’ŒOpenAIçš„å·®è·è¿˜æ˜¯å¾ˆå¤§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679540633,"ip_address":"ä¸Šæµ·","comment_id":371006,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"ä¹‹å‰æ‹…å¿ƒembeddingæ˜¯å¦ä¸­æ–‡æ”¯æŒçš„ä¸å¥½ã€‚çœ‹èµ·æ¥æ”¯æŒçš„è¿˜å¯ä»¥ï¼Œå›ç­”äº†æˆ‘çš„ä¸€ä¸ªç–‘é—®ã€‚ä¸çŸ¥é“embeddingå·¥å…·å›½å†…æ˜¯å¦æœ‰ç±»ä¼¼çš„ï¼Ÿæˆ‘ç›®å‰æ²¡èµ°åˆ°ã€‚è…¾è®¯å¥½åƒåšè¿‡ï¼Œä½†æ˜¯ç°åœ¨æ²¡æœ‰å¼€æ”¾ã€‚","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610365,"discussion_content":"å¦‚æœåªæ˜¯å…‰å…‰çœ‹Embeddingçš„è¯ï¼Œå…¶å®æœ‰å¾ˆå¤šå¼€æºæ¨¡å‹å¯ä»¥é€‰æ‹©ã€‚\nåœ¨ç¬¬4è®²ï¼Œç¬¬12è®²ï¼Œæˆ‘ä»¬éƒ½ä¼šæ¥å°è¯•ä¸€äº›å¼€æºæ¨¡å‹ã€‚\n\nä½ å¯ä»¥è¯•è¯•çœ‹ flan-t5 è¿™ä¸ªå¼€æºæ¨¡å‹æ¥åšembeddingï¼Œå…¶å®æ•ˆæœè¿˜æ˜¯ä¸é”™çš„ã€‚\nåªæ˜¯å¤æ‚ä¸€ç‚¹çš„æ¨ç†ï¼Œå’Œæ–‡æœ¬ç”Ÿæˆï¼Œå¼€æºçš„æ¨¡å‹å’ŒOpenAIçš„å·®è·è¿˜æ˜¯å¾ˆå¤§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679540634,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370993,"user_name":"Viktor","can_delete":false,"product_type":"c1","uid":1520703,"ip_address":"å››å·","ucode":"DCAFD1DD5C6A0C","user_header":"https://static001.geekbang.org/account/avatar/00/17/34/3f/4b6cd370.jpg","comment_is_top":false,"comment_ctime":1679448049,"is_pvip":false,"replies":[{"id":135373,"content":"æˆ‘ä»¬å°±æ˜¯æ‹¿äº†Amazonçš„Food reviewçš„ä¸€åƒæ¡æ•°æ®å‘€ï¼ŒåŸå§‹æ•°æ®åœ¨ https:&#47;&#47;www.kaggle.com&#47;snap&#47;amazon-fine-food-reviews å¯ä»¥æ‰¾åˆ°\n\nå¯¹åº”çš„ä¸€åƒæ¡æ•°æ®ï¼Œå¯ä»¥åœ¨ https:&#47;&#47;github.com&#47;xuwenhao&#47;geektime-ai-course&#47;tree&#47;main&#47;dataï¼Œä½ å¯ä»¥ä¸‹è½½ä¸‹æ¥ç›´æ¥çœ‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679542591,"ip_address":"ç¾å›½","comment_id":370993,"utype":1}],"discussion_count":5,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸€ä¸‹â€œæ›´å¤§çš„æ•°æ®é›†ä¸Šçš„çœŸå®æ¡ˆä¾‹â€è¿™ä¸ªæ¡ˆä¾‹çš„æ•°æ®é›†åœ¨å“ªé‡Œï¼Ÿè¯»æ–‡ç« ä¸çŸ¥é“æ•°æ®é›†é•¿ä»€ä¹ˆæ ·å­ï¼Œçœ‹ä»£ç æœ‰ç‚¹æ²¡æœ‰ç†è§£åˆ°ã€‚","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610382,"discussion_content":"æˆ‘ä»¬å°±æ˜¯æ‹¿äº†Amazonçš„Food reviewçš„ä¸€åƒæ¡æ•°æ®å‘€ï¼ŒåŸå§‹æ•°æ®åœ¨ https://www.kaggle.com/snap/amazon-fine-food-reviews å¯ä»¥æ‰¾åˆ°\n\nå¯¹åº”çš„ä¸€åƒæ¡æ•°æ®ï¼Œå¯ä»¥åœ¨ https://github.com/xuwenhao/geektime-ai-course/tree/main/dataï¼Œä½ å¯ä»¥ä¸‹è½½ä¸‹æ¥ç›´æ¥çœ‹ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1679542591,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ç¾å›½","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1302179,"avatar":"https://static001.geekbang.org/account/avatar/00/13/de/a3/6bcf1273.jpg","nickname":"ç¡å‰ä¸ç©æ‰‹æœº","note":"","ucode":"0118550455F214","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610235,"discussion_content":"åœ¨è¿™ä¸‹è½½ CSV:\nhttps://github.com/openai/openai-cookbook/blob/main/examples/data/fine_food_reviews_with_embeddings_1k.csv","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1679472713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2356397,"avatar":"https://static001.geekbang.org/account/avatar/00/23/f4/ad/612e926c.jpg","nickname":"Pinkæ³¡èŠ™_xue","note":"","ucode":"F34576FA0CC0CE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1302179,"avatar":"https://static001.geekbang.org/account/avatar/00/13/de/a3/6bcf1273.jpg","nickname":"ç¡å‰ä¸ç©æ‰‹æœº","note":"","ucode":"0118550455F214","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613481,"discussion_content":"æ˜¯ç‚¹downloadå—ï¼Œæˆ‘ç‚¹å®Œæ˜¯å‡ºæ¥äº†ä¸€ç½‘é¡µçš„åŸæ•°æ®ï¼Œæ€ä¹ˆä¸‹è½½æ•°æ®åˆ°csvå•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681351474,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":610235,"ip_address":"åŒ—äº¬","group_id":0},"score":613481,"extra":""}]},{"author":{"id":1133945,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4d/79/803537db.jpg","nickname":"æ…¢åŠ¨ä½œ","note":"","ucode":"62C944F4A4D8AC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610229,"discussion_content":"https://github.com/openai/openai-cookbook","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1679470116,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1452167,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJcwXucibksEYRSYg6icjibzGa7efcMrCsGec2UwibjTd57icqDz0zzkEEOM2pXVju60dibzcnQKPfRkN9g/132","nickname":"Geek_93970d","note":"","ucode":"52AC308BEC7737","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617551,"discussion_content":"å¼€æºçš„åº“é‡Œï¼Œæ¯”å¦‚ pyToch é‡Œï¼Œembedding æ˜¯å­˜åˆ°å“ªçš„å•Šï¼Ÿæƒ³çŸ¥é“é•¿å•¥æ ·ï¼Ÿè¿™äº›æ•°æ®å’Œåº“æ”¾åˆ°ä¸€èµ·ä¼šä¸ä¼šéå¸¸å¤§ï¼Œä¸æ–¹ä¾¿ä¸‹è½½ä¹‹ç±»çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683643215,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":374905,"user_name":"Geek_378f83","can_delete":false,"product_type":"c1","uid":3196784,"ip_address":"ç¾å›½","ucode":"AD2B400EED436A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/z3nIITkhzRj9WApibhic524lQSJmqUCerpuqpntEe06LE3lRGKr6rGwPpPJtZ5Xj0NBPyvTatKtIk0hfyAnl9Hsg/132","comment_is_top":false,"comment_ctime":1684635699,"is_pvip":false,"replies":[{"id":136790,"content":"çœ‹ä¸€ä¸‹å¯¹åº”çš„csvæ–‡ä»¶é‡Œæœ‰æ²¡æœ‰ embedding è¿™ä¸ªå±æ€§ï¼Ÿ\n\ndf[&quot;embedding&quot;] = df[&quot;embedding&quot;].apply(eval).apply(np.array) è¯•è¯•ï¼Ÿ\n\nçœ‹èµ·æ¥æ˜¯pandasç‰ˆæœ¬çš„å·®å¼‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1684720602,"ip_address":"æ–°åŠ å¡","comment_id":374905,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"colabä¸Šæ‰§è¡ŒæŠ¥é”™ï¼Œåˆé‡åˆ°çš„å—ï¼Ÿæ€ä¹ˆè§£å†³çš„ï¼Ÿ\n\ndf = pd.read_csv(datafile_path)\ndf[&quot;embedding&quot;] = df.embedding.apply(eval).apply(np.array)\n\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n&lt;ipython-input-33-6c8271aa31f7&gt; in &lt;cell line: 10&gt;()\n      8 \n      9 df = pd.read_csv(datafile_path)\n---&gt; 10 df[&quot;embedding&quot;] = df.embedding.apply(eval).apply(np.array)\n     11 \n     12 # convert 5-star rating to binary sentiment\n\n&#47;usr&#47;local&#47;lib&#47;python3.10&#47;dist-packages&#47;pandas&#47;core&#47;generic.py in __getattr__(self, name)\n   5900         ):\n   5901             return self[name]\n-&gt; 5902         return object.__getattribute__(self, name)\n   5903 \n   5904     def __setattr__(self, name: str, value) -&gt; None:\n\nAttributeError: &#39;DataFrame&#39; object has no attribute &#39;embedding&#39;","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":618922,"discussion_content":"çœ‹ä¸€ä¸‹å¯¹åº”çš„csvæ–‡ä»¶é‡Œæœ‰æ²¡æœ‰ embedding è¿™ä¸ªå±æ€§ï¼Ÿ\n\ndf[&#34;embedding&#34;] = df[&#34;embedding&#34;].apply(eval).apply(np.array) è¯•è¯•ï¼Ÿ\n\nçœ‹èµ·æ¥æ˜¯pandasç‰ˆæœ¬çš„å·®å¼‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684720603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ–°åŠ å¡","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":374904,"user_name":"Geek_378f83","can_delete":false,"product_type":"c1","uid":3196784,"ip_address":"ç¾å›½","ucode":"AD2B400EED436A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/z3nIITkhzRj9WApibhic524lQSJmqUCerpuqpntEe06LE3lRGKr6rGwPpPJtZ5Xj0NBPyvTatKtIk0hfyAnl9Hsg/132","comment_is_top":false,"comment_ctime":1684635600,"is_pvip":false,"replies":[{"id":136789,"content":"çœ‹ä¸€ä¸‹å¯¹åº”çš„csvæ–‡ä»¶é‡Œæœ‰æ²¡æœ‰ embedding è¿™ä¸ªå±æ€§ï¼Ÿ\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1684720545,"ip_address":"æ–°åŠ å¡","comment_id":374904,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"df = pd.read_csv(datafile_path)\ndf[&quot;embedding&quot;] = df.embedding.apply(eval).apply(np.array)---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n&lt;ipython-input-33-6c8271aa31f7&gt; in &lt;cell line: 10&gt;()\n      8 \n      9 df = pd.read_csv(datafile_path)\n---&gt; 10 df[&quot;embedding&quot;] = df.embedding.apply(eval).apply(np.array)\n     11 \n     12 # convert 5-star rating to binary sentiment\n\n&#47;usr&#47;local&#47;lib&#47;python3.10&#47;dist-packages&#47;pandas&#47;core&#47;generic.py in __getattr__(self, name)\n   5900         ):\n   5901             return self[name]\n-&gt; 5902         return object.__getattribute__(self, name)\n   5903 \n   5904     def __setattr__(self, name: str, value) -&gt; None:\n\nAttributeError: &#39;DataFrame&#39; object has no attribute &#39;embedding&#39;","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":618921,"discussion_content":"çœ‹ä¸€ä¸‹å¯¹åº”çš„csvæ–‡ä»¶é‡Œæœ‰æ²¡æœ‰ embedding è¿™ä¸ªå±æ€§ï¼Ÿ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684720545,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ–°åŠ å¡","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":374657,"user_name":"åºšå°åºš","can_delete":false,"product_type":"c1","uid":2058308,"ip_address":"æµ™æ±Ÿ","ucode":"DE88271BA527DD","user_header":"https://static001.geekbang.org/account/avatar/00/1f/68/44/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1684287616,"is_pvip":false,"replies":[{"id":136796,"content":"ç¡®è®¤ openai.api_key = &quot;è¿™é‡Œå¡«ä½ çš„Key&quot; ç„¶åè¿è¡Œæ‰§è¡Œä¸€ä¸‹ä¹Ÿä¸è¡Œä¹ˆï¼Ÿ\nçœ‹çœ‹æ˜¯å¦æ˜¯æ²¡æœ‰æ‰§è¡Œï¼Œæˆ–è€…å“ªé‡Œè¿è¡Œäº†åˆ«çš„è¦†ç›–äº†è®¾ç½®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1684722959,"ip_address":"æ–°åŠ å¡","comment_id":374657,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100541001,"comment_content":" No API key provided. You can set your API key in code using &#39;openai.api_key = &lt;API-KEY&gt;&#39;, or you can set the environment variable OPENAI_API_KEY=&lt;API-KEY&gt;). If your API key is stored in a file, you can point the openai module at it with &#39;openai.api_key_path = &lt;PATH&gt;&#39;. You can generate API keys in the OpenAI web interface. See https:&#47;&#47;platform.openai.com&#47;account&#47;api-keys for details\n\nç”Ÿæˆäº†æ–°çš„å¯†é’¥ï¼Œæ”¾è¿›å»ï¼Œè¿˜æ˜¯æŠ¥è¿™ä¸ªé”™","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":618932,"discussion_content":"ç¡®è®¤ openai.api_key = &#34;è¿™é‡Œå¡«ä½ çš„Key&#34; ç„¶åè¿è¡Œæ‰§è¡Œä¸€ä¸‹ä¹Ÿä¸è¡Œä¹ˆï¼Ÿ\nçœ‹çœ‹æ˜¯å¦æ˜¯æ²¡æœ‰æ‰§è¡Œï¼Œæˆ–è€…å“ªé‡Œè¿è¡Œäº†åˆ«çš„è¦†ç›–äº†è®¾ç½®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684722959,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ–°åŠ å¡","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373691,"user_name":"stg609","can_delete":false,"product_type":"c1","uid":1073025,"ip_address":"æµ™æ±Ÿ","ucode":"FB70A75A891BB8","user_header":"https://static001.geekbang.org/account/avatar/00/10/5f/81/1c614f4a.jpg","comment_is_top":false,"comment_ctime":1683018078,"is_pvip":false,"replies":[{"id":136445,"content":"ä¸æ˜¯ï¼Œå› ä¸ºæ•´ä¸ªå‘é‡ç©ºé—´å¹¶ä¸æ˜¯æŒ‰ç…§å¥½è¯„å’Œå·®è¯„æ¥å¹³åˆ†çš„ã€‚å¥½è¯„å’Œå·®è¯„ä¹Ÿåªæ˜¯æ•´ä¸ªå‘é‡ç©ºé—´ä¸­çš„ä¸¤ä¸ªç‚¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683082515,"ip_address":"ä¸Šæµ·","comment_id":373691,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"å¦‚æœä¸æ˜¯å¥½è¯„ï¼Œå°±æ˜¯å·®è¯„çš„å‰ææˆç«‹çš„è¯ï¼Œé‚£ä¹ˆæ˜¯å¦åªéœ€è¦è®¡ç®—ä¸ â€œå¥½è¯„â€ è¿™ä¸ªå‘é‡çš„ç›¸ä¼¼åº¦å°±å¥½äº†ï¼Ÿå¦‚æœå¤§äº 0 å°±è®¤ä¸ºæ˜¯å¥½è¯„ï¼Œåä¹‹åˆ™æ˜¯å·®è¯„ã€‚","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616667,"discussion_content":"ä¸æ˜¯ï¼Œå› ä¸ºæ•´ä¸ªå‘é‡ç©ºé—´å¹¶ä¸æ˜¯æŒ‰ç…§å¥½è¯„å’Œå·®è¯„æ¥å¹³åˆ†çš„ã€‚å¥½è¯„å’Œå·®è¯„ä¹Ÿåªæ˜¯æ•´ä¸ªå‘é‡ç©ºé—´ä¸­çš„ä¸¤ä¸ªç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683082515,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373157,"user_name":"å–»é¡ºæ­¦ æ—…æ¢¦å¼€å‘å›¢","can_delete":false,"product_type":"c1","uid":1080635,"ip_address":"æ±Ÿè¥¿","ucode":"9E401F0D96930C","user_header":"https://static001.geekbang.org/account/avatar/00/10/7d/3b/b7f9281e.jpg","comment_is_top":false,"comment_ctime":1682153623,"is_pvip":false,"replies":[{"id":136508,"content":"pip install matplotlib","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683091386,"ip_address":"ä¸Šæµ·","comment_id":373157,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"ModuleNotFoundError: No module named &#39;matplotlib&#39;   æ€ä¹ˆæ","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616748,"discussion_content":"pip install matplotlib","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683091386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373144,"user_name":"EnzoîŒ°","can_delete":false,"product_type":"c1","uid":3579054,"ip_address":"åŒ—äº¬","ucode":"15F820957F4FF5","user_header":"https://static001.geekbang.org/account/avatar/00/36/9c/ae/40e5b76d.jpg","comment_is_top":false,"comment_ctime":1682132118,"is_pvip":false,"replies":[{"id":136490,"content":"ä¸åº”è¯¥æ˜¯ read_excel è€Œæ˜¯åº”è¯¥ read_csv å•Šï¼Œä½ çš„æ–‡ä»¶åçœ‹èµ·æ¥æ˜¯ csv æ ¼å¼çš„æ–‡ä»¶å•Š","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683087038,"ip_address":"ä¸Šæµ·","comment_id":373144,"utype":1}],"discussion_count":3,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"ä¸€ç›´æŠ¥é”™ï¼Œæ— å¥ˆäº†ï¼šimport pandas as pd\nimport numpy as np\n\nfrom sklearn.metrics import classification_report\n\ndatafile_path = &quot;&#47;content&#47;reviews_30.csv&quot;\n\ndf = pd.read_excel(datafile_path)\ndf[&quot;embedding&quot;] = df.embedding.apply(eval).apply(np.array)\n\n# convert 5-star rating to binary sentiment\ndf = df[df.Score != 3]\ndf[&quot;sentiment&quot;] = df.Score.replace({1: &quot;negative&quot;, 2: &quot;negative&quot;, 4: &quot;positive&quot;, 5: &quot;positive&quot;})ValueError                                Traceback (most recent call last)\n&lt;ipython-input-4-46968d0107d4&gt; in &lt;cell line: 8&gt;()\n      6 datafile_path = &quot;&#47;content&#47;reviews_30.csv&quot;\n      7 \n----&gt; 8 df = pd.read_excel(datafile_path)\n      9 df[&quot;embedding&quot;] = df.embedding.apply(eval).apply(np.array)\n     10 \n\n3 frames\n&#47;usr&#47;local&#47;lib&#47;python3.9&#47;dist-packages&#47;pandas&#47;io&#47;excel&#47;_base.py in __init__(self, path_or_buffer, engine, storage_options)\n   1654                 )\n   1655                 if ext is None:\n-&gt; 1656                     raise ValueError(\n   1657                         &quot;Excel file format cannot be determined, you must specify &quot;\n   1658                         &quot;an engine manually.&quot;\n\nValueError: Excel file format cannot be determined, you must specify an engine manually.","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616726,"discussion_content":"ä¸åº”è¯¥æ˜¯ read_excel è€Œæ˜¯åº”è¯¥ read_csv å•Šï¼Œä½ çš„æ–‡ä»¶åçœ‹èµ·æ¥æ˜¯ csv æ ¼å¼çš„æ–‡ä»¶å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683087039,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1452167,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJcwXucibksEYRSYg6icjibzGa7efcMrCsGec2UwibjTd57icqDz0zzkEEOM2pXVju60dibzcnQKPfRkN9g/132","nickname":"Geek_93970d","note":"","ucode":"52AC308BEC7737","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617548,"discussion_content":"mac ä¸ŠæŒ‰ç…§è€å¸ˆçš„æ–¹æ³•æ­ç¯å¢ƒæ²¡å‡ºè¿‡é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683642734,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3206957,"avatar":"https://static001.geekbang.org/account/avatar/00/30/ef/2d/757bb0d3.jpg","nickname":"Toni","note":"","ucode":"E6B2FACCC1E000","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":615949,"discussion_content":"è¯•è¯•å°†\ndf = pd.read_excel(datafile_path)\næ¢æˆ\ndf = pd.read_csv(datafile_path)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682513241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ç‘å£«","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373032,"user_name":"å¤šå¤š","can_delete":false,"product_type":"c1","uid":1255931,"ip_address":"æµ™æ±Ÿ","ucode":"F0FC2F1DF1FC3E","user_header":"https://static001.geekbang.org/account/avatar/00/13/29/fb/7d9d37ae.jpg","comment_is_top":false,"comment_ctime":1681954244,"is_pvip":false,"replies":[{"id":136517,"content":"æŠ±æ­‰ï¼Œæ²¡æœ‰çœ‹æ‡‚ä½ çš„é—®é¢˜æ˜¯å•¥ã€‚è¿™ä¸€è®²å’Œ â€œæ­å·åœ¨å“ªé‡Œï¼Ÿâ€ è¿™ä¸ªé—®é¢˜æœ‰ä»€ä¹ˆå…³ç³»ä¹ˆï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683091913,"ip_address":"ä¸Šæµ·","comment_id":373032,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"æ­å·åœ¨å“ªé‡Œï¼Ÿè¿™ä¸ªé—®é¢˜çš„å›ç­”ï¼Œæ˜¯æ€ä¹ˆä¸ªè¿è¡Œè¿‡ç¨‹ï¼Œè€å¸ˆæ–¹ä¾¿è§£é‡Šä¸‹ä¸ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616758,"discussion_content":"æŠ±æ­‰ï¼Œæ²¡æœ‰çœ‹æ‡‚ä½ çš„é—®é¢˜æ˜¯å•¥ã€‚è¿™ä¸€è®²å’Œ â€œæ­å·åœ¨å“ªé‡Œï¼Ÿâ€ è¿™ä¸ªé—®é¢˜æœ‰ä»€ä¹ˆå…³ç³»ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683091913,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373015,"user_name":"Pochacco","can_delete":false,"product_type":"c1","uid":1601423,"ip_address":"å¹¿ä¸œ","ucode":"DAD18D7C42C263","user_header":"https://static001.geekbang.org/account/avatar/00/18/6f/8f/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1681918089,"is_pvip":false,"replies":[{"id":136500,"content":"https:&#47;&#47;github.com&#47;openai&#47;openai-cookbook&#47;blob&#47;main&#47;examples&#47;Classification_using_embeddings.ipynb\n\nä»¥åŠ\n\nhttps:&#47;&#47;github.com&#47;openai&#47;openai-cookbook&#47;blob&#47;main&#47;examples&#47;Zero-shot_classification_with_embeddings.ipynb","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683088353,"ip_address":"ä¸Šæµ·","comment_id":373015,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"æ¥è‡ª OpenAI Cookbook é‡Œé¢çš„ä¸€ä¸ªä¾‹å­ã€‚å®ƒæ˜¯ç”¨åŒæ ·çš„æ–¹æ³•ï¼Œæ¥åˆ¤æ–­äºšé©¬é€Šæä¾›çš„ç”¨æˆ·å¯¹ä¸€äº›é£Ÿç‰©çš„è¯„ä»· -- è¿™é‡Œçš„ä»£ç æ˜¯ä¸æ˜¯ä¸å®Œå…¨å•Šï¼Ÿ æˆ‘åœ¨OpenAI Cookbookæ‰¾ä¸åˆ°è¿™ä¸ªä¾‹å­ï¼Œæ˜¯å¦å¯ä»¥æŠŠOpenAI Cookbookè¿™ä¸ªä¾‹å­çš„é“¾æ¥å‘ç»™æˆ‘ï¼Œè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616737,"discussion_content":"https://github.com/openai/openai-cookbook/blob/main/examples/Classification_using_embeddings.ipynb\n\nä»¥åŠ\n\nhttps://github.com/openai/openai-cookbook/blob/main/examples/Zero-shot_classification_with_embeddings.ipynb","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683088353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372968,"user_name":"è¶…è¶…è¶…è¶…äºº","can_delete":false,"product_type":"c1","uid":1166883,"ip_address":"ä¸Šæµ·","ucode":"7696CACF0DF35F","user_header":"","comment_is_top":false,"comment_ctime":1681877490,"is_pvip":false,"replies":[{"id":136522,"content":"å‡†ç¡®æè¿°åº”è¯¥æ˜¯ è´å¶æ–¯å…¬å¼\næˆ‘åä¹ æƒ¯éƒ½ç”¨ å…¨æ¦‚ç‡å…¬å¼ æè¿° æ¡ä»¶æ¦‚ç‡å…¬å¼ + è´å¶æ–¯å…¬å¼ + å…¨æ¦‚ç‡å…¬å¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683093868,"ip_address":"ä¸Šæµ·","comment_id":372968,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"å…¨æ¦‚ç‡å…¬å¼ä¸åº”è¯¥æ˜¯åŠ æ³•ä¹ˆï¼Œä¸ºä»€ä¹ˆæ–‡ä¸­çš„è®¡ç®—æ˜¯ä¹˜æ³•ï¼Œå¯ä»¥è§£é‡Šä¸‹å—","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616763,"discussion_content":"å‡†ç¡®æè¿°åº”è¯¥æ˜¯ è´å¶æ–¯å…¬å¼\næˆ‘åä¹ æƒ¯éƒ½ç”¨ å…¨æ¦‚ç‡å…¬å¼ æè¿° æ¡ä»¶æ¦‚ç‡å…¬å¼ + è´å¶æ–¯å…¬å¼ + å…¨æ¦‚ç‡å…¬å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683093868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372800,"user_name":"Z12","can_delete":false,"product_type":"c1","uid":1118159,"ip_address":"å¹¿ä¸œ","ucode":"59F5E62F67FFDC","user_header":"https://static001.geekbang.org/account/avatar/00/11/0f/cf/bfa0dc80.jpg","comment_is_top":false,"comment_ctime":1681638144,"is_pvip":false,"replies":[{"id":136253,"content":"ä½ éœ€è¦æŠŠæœ¬åœ°æ–‡ä»¶ä¸Šä¼ ä¸Šå»ï¼Œæˆ–è€…Mountä¸€ä¸ªGoogle Driveä¸Šå»","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681794102,"ip_address":"ä¸Šæµ·","comment_id":372800,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"å¾è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸ªé—®é¢˜ï¼Œä½ åœ¨ä¸Šé¢çš„ä»£ç ä¸­datafile_path = &quot;data&#47;fine_food_reviews_with_embeddings_1k.csv&quot;ï¼Œå¼•ç”¨è¿™ä¸ªæ•°æ®æ–‡ä»¶ï¼Œæˆ‘ç°åœ¨ä½¿ç”¨çš„æ˜¯colabçš„çº¿ä¸Šç¯å¢ƒï¼Œåœ¨è¿™ä¸ªçº¿ä¸Šç¯å¢ƒä¸­ï¼Œæˆ‘æ€ä¹ˆèƒ½å¤Ÿè®©colabä½¿ç”¨åˆ°è¿™ä¸ªæœ¬åœ°çš„æ•°æ®æ–‡ä»¶å‘¢? ","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":614455,"discussion_content":"ä½ éœ€è¦æŠŠæœ¬åœ°æ–‡ä»¶ä¸Šä¼ ä¸Šå»ï¼Œæˆ–è€…Mountä¸€ä¸ªGoogle Driveä¸Šå»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681794102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372743,"user_name":"ä»»é£","can_delete":false,"product_type":"c1","uid":1890638,"ip_address":"é™•è¥¿","ucode":"719063D3A8F25B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoHXbWPZuBKJHnXNJafz3BGrLRBQI8hSDnkXnFUhYKmn8QaJS6xdjRR5WCicyQHEfprbydpV4jIBVg/132","comment_is_top":false,"comment_ctime":1681540100,"is_pvip":false,"replies":[{"id":136126,"content":"python3.9 ä¹Ÿæ˜¯èƒ½è·‘openaiçš„ï¼Œæ‰€ä»¥é—®é¢˜ä¸æ˜¯è¿™ä¸ªï¼Œä½ éœ€è¦çœ‹ä¸€ä¸‹æ›´å…·ä½“çš„é”™è¯¯ä¿¡æ¯æ˜¯ä»€ä¹ˆï¼Œä½ è¿™é‡Œè´´çš„ä¿¡æ¯æ„Ÿè§‰ä¸å…¨å•Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681615957,"ip_address":"ä¸Šæµ·","comment_id":372743,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"from openai.embeddings_utils import cosine_similarity, get_embedding\nè¿™ä¸ªä»£ç æŠ¥é”™ï¼šPlease note and check the following:\n\n  * The Python version is: Python3.9 from &quot;C:\\Users\\YMB\\anaconda3\\python.exe&quot;\n  * The NumPy version is: &quot;1.20.3&quot;\n\nè€Œæˆ‘ä»¬è£…çš„ç¯å¢ƒæ˜¯py310,è¿™ä¸ªæ€ä¹ˆè§£å†³","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613978,"discussion_content":"python3.9 ä¹Ÿæ˜¯èƒ½è·‘openaiçš„ï¼Œæ‰€ä»¥é—®é¢˜ä¸æ˜¯è¿™ä¸ªï¼Œä½ éœ€è¦çœ‹ä¸€ä¸‹æ›´å…·ä½“çš„é”™è¯¯ä¿¡æ¯æ˜¯ä»€ä¹ˆï¼Œä½ è¿™é‡Œè´´çš„ä¿¡æ¯æ„Ÿè§‰ä¸å…¨å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681615957,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372701,"user_name":"Qingshuo","can_delete":false,"product_type":"c1","uid":1200365,"ip_address":"æ–°åŠ å¡","ucode":"683C1C2F15E4EE","user_header":"https://static001.geekbang.org/account/avatar/00/12/50/ed/f3867992.jpg","comment_is_top":false,"comment_ctime":1681451256,"is_pvip":false,"replies":[{"id":136103,"content":"åé¢å‡ è®²é‡Œä¼šæœ‰åŸºäºembeddingå†ä½¿ç”¨ä¸€ä¸ªçº¿æ€§çš„æœºå™¨å­¦ä¹ ç®—æ³•çš„ç¤ºä¾‹ï¼Œæ•ˆæœä¼šæ¯”è¿™ä¸ªæ›´å¥½ä¸€äº›ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681613918,"ip_address":"ä¸Šæµ·","comment_id":372701,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"è¯·é—®è€å¸ˆï¼Œå¯¹äºæ–‡ç« ä¸­çš„ä¾‹å­ï¼Œå¦‚æœæƒ³ç»§ç»­ä¼˜åŒ–recallå’Œprecisionï¼Œè¯¥æ€ä¹ˆä¼˜åŒ–å‘¢ï¼Ÿæˆ‘èƒ½æƒ³åˆ°çš„æ–¹æ³•åªèƒ½å°è¯•ä¸åŒçš„label stringäº†ï¼Œå…ˆå¯»æ‰¾bad caseï¼Œç„¶åæŠŠbad caseé‡Œçš„æƒ…æ„Ÿå€¾å‘æ€§çš„è¯åŠ åˆ°label stringé‡Œã€‚é™¤äº†è¿™æ ·è¿˜æœ‰ä»€ä¹ˆæ›´å¥½çš„æ–¹æ³•å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613945,"discussion_content":"åé¢å‡ è®²é‡Œä¼šæœ‰åŸºäºembeddingå†ä½¿ç”¨ä¸€ä¸ªçº¿æ€§çš„æœºå™¨å­¦ä¹ ç®—æ³•çš„ç¤ºä¾‹ï¼Œæ•ˆæœä¼šæ¯”è¿™ä¸ªæ›´å¥½ä¸€äº›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681613919,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372243,"user_name":"ã„Ÿå¿˜å·.","can_delete":false,"product_type":"c1","uid":1450394,"ip_address":"æµ™æ±Ÿ","ucode":"16A7EB297D70A6","user_header":"https://static001.geekbang.org/account/avatar/00/16/21/9a/58f6aa3b.jpg","comment_is_top":false,"comment_ctime":1680874347,"is_pvip":false,"replies":[{"id":135897,"content":"è¿™æ ·åšå½“ç„¶ä¹Ÿå¯ä»¥å‘€ï¼Œå¯ä»¥ç»§ç»­å¾€åçœ‹ï¼Œè¿™æ˜¯åé¢çš„ä¸€é“ç»ƒä¹ é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680974914,"ip_address":"æ—¥æœ¬","comment_id":372243,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"è¯·é—®ä¸ºä»€ä¹ˆä¸ç›´æ¥è¯¢é—®æ¨¡å‹è¿™å¥è¯„è®ºæ˜¯å¥½è¯„è¿˜æ˜¯å·®è¯„å‘€ï¼Ÿè€Œæ˜¯å°†è¯„è®ºembeddingåå’Œâ€œå¥½è¯„ã€å·®è¯„â€è®¡ç®—ä½™å¼¦è·ç¦»å‘¢ã€‚","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612893,"discussion_content":"è¿™æ ·åšå½“ç„¶ä¹Ÿå¯ä»¥å‘€ï¼Œå¯ä»¥ç»§ç»­å¾€åçœ‹ï¼Œè¿™æ˜¯åé¢çš„ä¸€é“ç»ƒä¹ é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680974914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ—¥æœ¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371766,"user_name":"é‡‘î„","can_delete":false,"product_type":"c1","uid":1559128,"ip_address":"æ–°åŠ å¡","ucode":"48D0B5CB8E5F9E","user_header":"https://static001.geekbang.org/account/avatar/00/17/ca/58/6fe1854c.jpg","comment_is_top":false,"comment_ctime":1680306682,"is_pvip":false,"replies":[{"id":135718,"content":"https:&#47;&#47;github.com&#47;xuwenhao&#47;geektime-ai-course&#47;tree&#47;main&#47;data","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680581634,"ip_address":"ä¸Šæµ·","comment_id":371766,"utype":1}],"discussion_count":3,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"fine_food_reviews_with_embeddings_1k.csvåœ¨å“ªä¸‹è½½ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612217,"discussion_content":"https://github.com/xuwenhao/geektime-ai-course/tree/main/data","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680581634,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1559128,"avatar":"https://static001.geekbang.org/account/avatar/00/17/ca/58/6fe1854c.jpg","nickname":"é‡‘î„","note":"","ucode":"48D0B5CB8E5F9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611896,"discussion_content":"æˆ‘åœ¨è¿™ä¸ªè¯¾ç¨‹çš„githubä¸Šæ‰¾åˆ°äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680404594,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ¹–å—","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1911235,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/29/c3/791d0f5e.jpg","nickname":"æ¸£æ¸£è¾‰","note":"","ucode":"730838D9161579","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611887,"discussion_content":"æ–‡ç« çš„æœ€ä¸‹æ–¹æœ‰ä¸‹è½½é“¾æ¥ï¼Œæˆ–è€…ç›´æ¥æœç´¢æ•°æ®é›†åå­—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680400114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ—¥æœ¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371728,"user_name":"yanyu-xin","can_delete":false,"product_type":"c1","uid":1899757,"ip_address":"å¹¿ä¸œ","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1680235231,"is_pvip":false,"replies":[{"id":135737,"content":"å¯ä»¥å®Œæ•´è¿è¡Œçš„ä»£ç ï¼Œå¯ä»¥å» https:&#47;&#47;github.com&#47;xuwenhao&#47;geektime-ai-course\n\næˆ‘åº”è¯¥åœ¨å¯¼è¯»é‡Œé¢ä¹Ÿæ”¾äº†é“¾æ¥äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680583393,"ip_address":"ä¸Šæµ·","comment_id":371728,"utype":1}],"discussion_count":3,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"è¿è¡ŒæˆåŠŸã€‚è¿è¡Œæ–¹æ³•å¦‚ä¸‹ï¼š\nä¸€ã€åœ¨fromè¯­å¥åï¼Œå¢åŠ ä¸€è¡Œï¼š\nEMBEDDING_MODEL = &quot;text-embedding-ada-002&quot;\näºŒã€å°†fine_food_reviews_with_embeddings_1k.csv çš„æ•°æ®åˆ é™¤éƒ¨åˆ†ï¼Œåªç•™ä¸‹100ä¸ªæ•°æ®é‡\nä¸‰ã€å…ˆè¿è¡Œä¸€æ¬¡01è¯¾çš„ç¨‹åºï¼Œè°ƒå…¥openai\nå››ã€è¿è¡Œæœ¬è¯¾ç¨‹åº","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612237,"discussion_content":"å¯ä»¥å®Œæ•´è¿è¡Œçš„ä»£ç ï¼Œå¯ä»¥å» https://github.com/xuwenhao/geektime-ai-course\n\næˆ‘åº”è¯¥åœ¨å¯¼è¯»é‡Œé¢ä¹Ÿæ”¾äº†é“¾æ¥äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680583394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3579054,"avatar":"https://static001.geekbang.org/account/avatar/00/36/9c/ae/40e5b76d.jpg","nickname":"EnzoîŒ°","note":"","ucode":"15F820957F4FF5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":615238,"discussion_content":"æ±‚é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682130071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3579054,"avatar":"https://static001.geekbang.org/account/avatar/00/36/9c/ae/40e5b76d.jpg","nickname":"EnzoîŒ°","note":"","ucode":"15F820957F4FF5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":615237,"discussion_content":"æ•°æ®é›†åº”è¯¥ä¸Šä¼ åˆ°å“ªé‡Œï¼Œè·¯å¾„æ˜¯ä»€ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682130067,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371634,"user_name":"yanyu-xin","can_delete":false,"product_type":"c1","uid":1899757,"ip_address":"å¹¿ä¸œ","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1680138866,"is_pvip":false,"replies":[{"id":135762,"content":"å¾€ä¸Šçœ‹ï¼Œåº”è¯¥æ˜¯ä½ å‰é¢çš„ä»£ç æ²¡æœ‰æ‰§è¡Œï¼Œä½ åœ¨è¿™æ®µä»£ç ä¹‹å‰åŠ ä¸Š\n\nEMBEDDING_MODEL = &quot;text-embedding-ada-002&quot;\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680587160,"ip_address":"ä¸Šæµ·","comment_id":371634,"utype":1}],"discussion_count":2,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"å‡ºç°è¿™ä¸ªé”™è¯¯ï¼Œå¦‚ä½•å¤„ç†ï¼š\n\n---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\nCell In[6], line 5\n      1 from sklearn.metrics import PrecisionRecallDisplay\n      3 def evaluate_embeddings_approach(\n      4     labels = [&#39;negative&#39;, &#39;positive&#39;], \n----&gt; 5     model = EMBEDDING_MODEL,\n      6 ):\n      7     label_embeddings = [get_embedding(label, engine=model) for label in labels]\n      9     def label_score(review_embedding, label_embeddings):\n\nNameError: name &#39;EMBEDDING_MODEL&#39; is not defined","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612268,"discussion_content":"å¾€ä¸Šçœ‹ï¼Œåº”è¯¥æ˜¯ä½ å‰é¢çš„ä»£ç æ²¡æœ‰æ‰§è¡Œï¼Œä½ åœ¨è¿™æ®µä»£ç ä¹‹å‰åŠ ä¸Š\n\nEMBEDDING_MODEL = &#34;text-embedding-ada-002&#34;\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680587160,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1144765,"avatar":"https://static001.geekbang.org/account/avatar/00/11/77/bd/e7ff842c.jpg","nickname":"èµ¤è‰²é—ªç”µ","note":"","ucode":"B5FAA29E62132C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611748,"discussion_content":"è¿™ä¸ªé”™è¯¯äº§ç”Ÿçš„åŸå› æ˜¯ `EMBEDDING_MODEL` æ²¡æœ‰è¢«å®šä¹‰ã€‚éœ€è¦åœ¨ä»£ç ä¹‹å‰å°† `EMBEDDING_MODEL`å®šä¹‰ï¼Œä»è€Œå¯ä»¥è¢« `evaluate_embeddings_approach`å‡½æ•°è°ƒç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680276367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371578,"user_name":"ColinğŸ”¥ğŸŒ²","can_delete":false,"product_type":"c1","uid":3579146,"ip_address":"ä¸­å›½é¦™æ¸¯","ucode":"5DC517BE0B547D","user_header":"https://static001.geekbang.org/account/avatar/00/36/9d/0a/943961fb.jpg","comment_is_top":false,"comment_ctime":1680076932,"is_pvip":false,"replies":[{"id":135763,"content":"å» https:&#47;&#47;github.com&#47;xuwenhao&#47;geektime-ai-course\n\nä¸‹è½½ data&#47;fine_food_reviews_with_embeddings_1k.csv æ”¾åˆ°æ­£ç¡®çš„è·¯å¾„ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680587200,"ip_address":"ä¸Šæµ·","comment_id":371578,"utype":1}],"discussion_count":9,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"åœ¨colabè¿è¡Œ\n\n\nimport pandas as pd\nimport numpy as np\n\nfrom sklearn.metrics import classification_report\n\ndatafile_path = &quot;data&#47;fine_food_reviews_with_embeddings_1k.csv&quot;\n\ndf = pd.read_csv(datafile_path)\ndf[&quot;embedding&quot;] = df.embedding.apply(eval).apply(np.array)\n\n# convert 5-star rating to binary sentiment\ndf = df[df.Score != 3]\ndf[&quot;sentiment&quot;] = df.Score.replace({1: &quot;negative&quot;, 2: &quot;negative&quot;, 4: &quot;positive&quot;, 5: &quot;positive&quot;})\n\nFileNotFoundError: [Errno 2] No such file or directory: &#39;data&#47;fine_food_reviews_with_embeddings_1k.csv&#39;","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612269,"discussion_content":"å» https://github.com/xuwenhao/geektime-ai-course\n\nä¸‹è½½ data/fine_food_reviews_with_embeddings_1k.csv æ”¾åˆ°æ­£ç¡®çš„è·¯å¾„ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680587200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":3,"child_discussions":[{"author":{"id":2356397,"avatar":"https://static001.geekbang.org/account/avatar/00/23/f4/ad/612e926c.jpg","nickname":"Pinkæ³¡èŠ™_xue","note":"","ucode":"F34576FA0CC0CE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":613482,"discussion_content":"è€å¸ˆï¼Œç”¨Colabç¯å¢ƒçš„è¯ï¼Œè¿™ä¸ªè·¯å¾„æœ‰è¦æ±‚å—ï¼Œè¿˜æ˜¯å’Œè¯»å–osçš„è·¯å¾„ä¸€æ ·å°±å¯ä»¥å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681351595,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":612269,"ip_address":"åŒ—äº¬","group_id":0},"score":613482,"extra":""},{"author":{"id":2356397,"avatar":"https://static001.geekbang.org/account/avatar/00/23/f4/ad/612e926c.jpg","nickname":"Pinkæ³¡èŠ™_xue","note":"","ucode":"F34576FA0CC0CE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":613639,"discussion_content":"æˆ‘æ”¾åˆ°äº†æ¡Œé¢ï¼Œè·¯å¾„ä¹Ÿæ”¹åˆ°äº†æ¡Œé¢ï¼Œè¿˜æ˜¯è¯´æ‰¾ä¸åˆ°å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681437735,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":612269,"ip_address":"åŒ—äº¬","group_id":0},"score":613639,"extra":""},{"author":{"id":1253140,"avatar":"https://static001.geekbang.org/account/avatar/00/13/1f/14/57cb7926.jpg","nickname":"ShawnWu","note":"","ucode":"A3E8397FDD20D6","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":2356397,"avatar":"https://static001.geekbang.org/account/avatar/00/23/f4/ad/612e926c.jpg","nickname":"Pinkæ³¡èŠ™_xue","note":"","ucode":"F34576FA0CC0CE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":614889,"discussion_content":"ä½ è§£å†³äº†å—ï¼Œæˆ‘ä¸Šä¼ åˆ°colabåŒçº§ç›®å½•ä¸‹ï¼Œä¿®æ”¹pathä¹Ÿè¯»å–ä¸åˆ°ï¼Œå•ç‹¬å»ºäº†ä¸€ä¸ªdataç›®å½•æ”¾è¿›å»ä¹Ÿè¯»ä¸åˆ°ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681956598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":613482,"ip_address":"åŒ—äº¬","group_id":0},"score":614889,"extra":""}]},{"author":{"id":2447160,"avatar":"https://static001.geekbang.org/account/avatar/00/25/57/38/db157edd.jpg","nickname":"ç‹å°ç¥","note":"","ucode":"9EC241B125175D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":614898,"discussion_content":"åˆšæ¥è§¦colabï¼Œè¿˜æ²¡ç ”ç©¶æ–‡ä»¶pathæ€ä¹ˆè¯»ï¼Œç»™ä¸€ä¸ªç®€å•ç²—æš´çš„æ–¹æ³•ï¼š\nä¸ç”¨ä¸‹è½½csvæ–‡ä»¶ï¼Œç›´æ¥åœ¨codeé‡Œæ”¹datafile_path\n\ndatafile_path = &#34;https://raw.githubusercontent.com/xuwenhao/geektime-ai-course/main/data/fine_food_reviews_with_embeddings_1k.csv&#34;","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1681960175,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2238528,"avatar":"https://static001.geekbang.org/account/avatar/00/22/28/40/82d748e6.jpg","nickname":"å°ç†æƒ³ã€‚","note":"","ucode":"EDC35A907570DB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2447160,"avatar":"https://static001.geekbang.org/account/avatar/00/25/57/38/db157edd.jpg","nickname":"ç‹å°ç¥","note":"","ucode":"9EC241B125175D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":622097,"discussion_content":"å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1687920741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":614898,"ip_address":"åŒ—äº¬","group_id":0},"score":622097,"extra":""},{"author":{"id":2238528,"avatar":"https://static001.geekbang.org/account/avatar/00/22/28/40/82d748e6.jpg","nickname":"å°ç†æƒ³ã€‚","note":"","ucode":"EDC35A907570DB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2447160,"avatar":"https://static001.geekbang.org/account/avatar/00/25/57/38/db157edd.jpg","nickname":"ç‹å°ç¥","note":"","ucode":"9EC241B125175D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":622098,"discussion_content":"ä¹Ÿå¯ä»¥è‡ªå·±æœ¬åœ°å¯åŠ¨ä¸ªnginxè¿›è¡Œä»£ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1687920769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":614898,"ip_address":"åŒ—äº¬","group_id":0},"score":622098,"extra":""}]},{"author":{"id":1144765,"avatar":"https://static001.geekbang.org/account/avatar/00/11/77/bd/e7ff842c.jpg","nickname":"èµ¤è‰²é—ªç”µ","note":"","ucode":"B5FAA29E62132C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611756,"discussion_content":"è¿™ä¸ªé”™è¯¯æç¤ºæ˜¾ç¤ºæ‰¾ä¸åˆ°æ–‡ä»¶ &#34;data/fine_food_reviews_with_embeddings_1k.csv&#34;ã€‚å¯èƒ½æ˜¯è¿™ä¸ªæ–‡ä»¶åœ¨Colabç¯å¢ƒä¸­ä¸å­˜åœ¨ï¼Œæˆ–è€…è·¯å¾„é”™è¯¯ã€‚csvæ–‡ä»¶çš„ä¸‹è½½åœ°å€åº”è¯¥æ˜¯åœ¨è¿™é‡Œï¼šhttps://github.com/openai/openai-cookbook/blob/main/examples/data/fine_food_reviews_with_embeddings_1k.csv","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680277348,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3014658,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ6a62xdMTZ3jibIoWGRj3trQIB3LAXNA6CNHRWszMdJpkGfXdANm7TLD4d8StZRw90OQ43sIEMx1A/132","nickname":"Rocky_zd","note":"","ucode":"2C0629236B1884","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611743,"discussion_content":"æˆ‘ä¹Ÿé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œä¸çŸ¥é“è¿™ä¸ªcsvæ–‡ä»¶é‡Œçš„è·ç¦»å†…å®¹æ˜¯ä»€ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680274064,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371564,"user_name":"æ¸¸æ¥æ¸¸å»çš„W","can_delete":false,"product_type":"c1","uid":1471174,"ip_address":"åŒ—äº¬","ucode":"E3BDDE22F091FE","user_header":"https://static001.geekbang.org/account/avatar/00/16/72/c6/c010006d.jpg","comment_is_top":false,"comment_ctime":1680070567,"is_pvip":false,"replies":[{"id":135725,"content":"pip install scikit-learn\næˆ–è€…\nconda install -c conda-forge scikit-learn\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680582131,"ip_address":"ä¸Šæµ·","comment_id":371564,"utype":1}],"discussion_count":2,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"ä¸‹é¢çš„é—®é¢˜å¦‚ä½•è§£å†³ï¼Œå§‹ç»ˆæ‰¾ä¸åˆ°åˆé€‚çš„å®‰è£…åŒ…\nModuleNotFoundError                       Traceback (most recent call last)\nCell In[10], line 2\n      1 import openai\n----&gt; 2 from openai.embeddings_utils import cosine_similarity, get_embedding\n      4 # è·å–è®¿é—®open aiçš„å¯†é’¥\n      5 openai.api_key = &#39;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&#39;\n\nFile &#47;Library&#47;Frameworks&#47;Python.framework&#47;Versions&#47;3.11&#47;lib&#47;python3.11&#47;site-packages&#47;openai&#47;embeddings_utils.py:7\n      5 import plotly.express as px\n      6 from scipy import spatial\n----&gt; 7 from sklearn.decomposition import PCA\n      8 from sklearn.manifold import TSNE\n      9 from sklearn.metrics import average_precision_score, precision_recall_curve\n\nModuleNotFoundError: No module named &#39;sklearn&#39;","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612224,"discussion_content":"pip install scikit-learn\næˆ–è€…\nconda install -c conda-forge scikit-learn\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680582131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3579410,"avatar":"https://static001.geekbang.org/account/avatar/00/36/9e/12/969cce3b.jpg","nickname":"æ²¡äº‹æºœè¾¾","note":"","ucode":"367F2C51B40EF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611430,"discussion_content":"pip install scikit-learn","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680085013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸­å›½é¦™æ¸¯","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371522,"user_name":"Toni","can_delete":false,"product_type":"c1","uid":3206957,"ip_address":"ç‘å£«","ucode":"E6B2FACCC1E000","user_header":"https://static001.geekbang.org/account/avatar/00/30/ef/2d/757bb0d3.jpg","comment_is_top":false,"comment_ctime":1680011629,"is_pvip":false,"replies":[{"id":135747,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680586154,"ip_address":"ä¸Šæµ·","comment_id":371522,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100541001,"comment_content":"File ~\\miniconda3\\envs\\py310\\lib\\site-packages\\PIL\\Image.py:103\n     94 MAX_IMAGE_PIXELS = int(1024 * 1024 * 1024 &#47;&#47; 4 &#47;&#47; 3)\n     97 try:\n     98     # If the _imaging C module is not present, Pillow will not load.\n     99     # Note that other modules should not refer to _imaging directly;\n    100     # import Image and use the Image.core variable instead.\n    101     # Also note that Image.core is not a publicly documented interface,\n    102     # and should be considered private and subject to change.\n--&gt; 103     from . import _imaging as core\n    105     if __version__ != getattr(core, &quot;PILLOW_VERSION&quot;, None):\n    106         msg = (\n    107             &quot;The _imaging extension was built for another version of Pillow or PIL:\\n&quot;\n    108             f&quot;Core version: {getattr(core, &#39;PILLOW_VERSION&#39;, None)}\\n&quot;\n    109             f&quot;Pillow version: {__version__}&quot;\n    110         )\n\nImportError: DLL load failed while importing _imaging: The specified module could not be found.\n\nè§£å†³æ–¹æ¡ˆ: å…ˆå¸è½½PILLOWï¼Œå†é‡è£…\nå‚è€ƒè®¨è®º: https:&#47;&#47;github.com&#47;amueller&#47;word_cloud&#47;issues&#47;225","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612253,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680586154,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371521,"user_name":"Toni","can_delete":false,"product_type":"c1","uid":3206957,"ip_address":"ç‘å£«","ucode":"E6B2FACCC1E000","user_header":"https://static001.geekbang.org/account/avatar/00/30/ef/2d/757bb0d3.jpg","comment_is_top":false,"comment_ctime":1680011589,"is_pvip":false,"replies":[{"id":135764,"content":"é‡æ–°å®‰è£…ä¸€ä¸‹ Pillowçš„åº“è¯•è¯•\n\né‡åˆ°é—®é¢˜å¯ä»¥å°è¯•æŠŠæŠ¥é”™æ‰”åˆ° ChatGPT é‡Œé¢è¯•è¯•","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680587245,"ip_address":"ä¸Šæµ·","comment_id":371521,"utype":1}],"discussion_count":3,"race_medal":0,"score":6,"product_id":100541001,"comment_content":"åœ¨è¿è¡Œä¸‹æ®µä»£ç æ—¶æŠ¥é”™\nfrom openai.embeddings_utils import cosine_similarity, get_embedding\n\nImportError                               Traceback (most recent call last)\nCell In[2], line 1\n----&gt; 1 from openai.embeddings_utils import cosine_similarity, get_embedding\n\nFile ~\\miniconda3\\envs\\py310\\lib\\site-packages\\openai\\embeddings_utils.py:4\n      1 import textwrap as tr\n      2 from typing import List, Optional\n----&gt; 4 import matplotlib.pyplot as plt\n      5 import plotly.express as px\n      6 from scipy import spatial\n\nFile ~\\miniconda3\\envs\\py310\\lib\\site-packages\\matplotlib\\__init__.py:131\n    127 from packaging.version import parse as parse_version\n    129 # cbook must import matplotlib only within function\n    130 # definitions, so it is safe to import from it here.\n--&gt; 131 from . import _api, _version, cbook, _docstring, rcsetup\n    132 from matplotlib.cbook import sanitize_sequence\n    133 from matplotlib._api import MatplotlibDeprecationWarning\n\nFile ~\\miniconda3\\envs\\py310\\lib\\site-packages\\matplotlib\\rcsetup.py:27\n     25 from matplotlib import _api, cbook\n     26 from matplotlib.cbook import ls_mapper\n---&gt; 27 from matplotlib.colors import Colormap, is_color_like\n     28 from matplotlib._fontconfig_pattern import parse_fontconfig_pattern\n     29 from matplotlib._enums import JoinStyle, CapStyle\n\nFile ~\\miniconda3\\envs\\py310\\lib\\site-packages\\matplotlib\\colors.py:51\n     49 from numbers import Number\n     50 import re\n---&gt; 51 from PIL import Image\n     52 from PIL.PngImagePlugin import PngInfo\n     54 import matplotlib as mpl\n","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612270,"discussion_content":"é‡æ–°å®‰è£…ä¸€ä¸‹ Pillowçš„åº“è¯•è¯•\n\né‡åˆ°é—®é¢˜å¯ä»¥å°è¯•æŠŠæŠ¥é”™æ‰”åˆ° ChatGPT é‡Œé¢è¯•è¯•","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1680587245,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1144765,"avatar":"https://static001.geekbang.org/account/avatar/00/11/77/bd/e7ff842c.jpg","nickname":"èµ¤è‰²é—ªç”µ","note":"","ucode":"B5FAA29E62132C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611757,"discussion_content":"pip install  openai matplotlib pillow","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1680277925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3206957,"avatar":"https://static001.geekbang.org/account/avatar/00/30/ef/2d/757bb0d3.jpg","nickname":"Toni","note":"","ucode":"E6B2FACCC1E000","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611967,"discussion_content":"@èµ¤è‰²é—ªç”µ: æ˜¯çš„ï¼Œéœ€è¦é‡æ–°è£… pillow","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680442513,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ç‘å£«","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371479,"user_name":"è¹","can_delete":false,"product_type":"c1","uid":1020356,"ip_address":"ç¾å›½","ucode":"395C6C4191B091","user_header":"https://static001.geekbang.org/account/avatar/00/0f/91/c4/40609b81.jpg","comment_is_top":false,"comment_ctime":1679981862,"is_pvip":false,"replies":[{"id":135779,"content":"æ¯æ¬¡é—®ç­”è¿˜æ˜¯è¦è°ƒç”¨APIçš„ã€‚Embeddingåªæ˜¯æå‰æŠŠæ•°æ®å¤„ç†æˆå‘é‡å­˜èµ·æ¥ï¼Œå°±æ˜¯å¯¹åº”çš„å†…å®¹ä¸‹æ¬¡æŸ¥æ‰¾çš„æ—¶å€™ä¸ç”¨å†è°ƒç”¨OpenAIçš„APIäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680588969,"ip_address":"ä¸Šæµ·","comment_id":371479,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100541001,"comment_content":"è¯·é—®è€å¸ˆï¼Œå°†æ•°æ®é›†embedåˆ°å†…å­˜å°±ä¸éœ€è¦é‡å¤è°ƒç”¨APIäº†å—ï¼Ÿå¦‚æœéœ€è¦å¤šæ¬¡ä½¿ç”¨æ•°æ®é›†ä¸­çš„ä¸åŒæ•°æ®ï¼Œæ¯”å¦‚Open AIçš„Q&amp;Aé‚£ä¸ªç¤ºä¾‹ï¼Œåº”è¯¥æ¯æ¬¡è¿˜éœ€è¦è°ƒç”¨APIå§ã€‚æˆ‘æ˜¯çœ‹åˆ°ChatPDFè¿™ç§èƒ½å¤Ÿå°†æ•°æ®ä¸Šä¼ å¹¶ä¸”åœ¨çº¿é—®ç­”çš„appæƒ³åˆ°è¿™ä¸ªé—®é¢˜çš„","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612290,"discussion_content":"æ¯æ¬¡é—®ç­”è¿˜æ˜¯è¦è°ƒç”¨APIçš„ã€‚Embeddingåªæ˜¯æå‰æŠŠæ•°æ®å¤„ç†æˆå‘é‡å­˜èµ·æ¥ï¼Œå°±æ˜¯å¯¹åº”çš„å†…å®¹ä¸‹æ¬¡æŸ¥æ‰¾çš„æ—¶å€™ä¸ç”¨å†è°ƒç”¨OpenAIçš„APIäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680588969,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371348,"user_name":"åˆ˜è•¾","can_delete":false,"product_type":"c1","uid":1899996,"ip_address":"æ–¯æ´›ä¼å…‹","ucode":"984D2C7E286DA1","user_header":"https://static001.geekbang.org/account/avatar/00/1c/fd/dc/8c394a51.jpg","comment_is_top":false,"comment_ctime":1679825100,"is_pvip":false,"replies":[{"id":135536,"content":"ä»Šå¤©ä¸Šçº¿çš„ç¬¬5è®²é‡Œï¼Œæœ‰å¯¹åº”è¿™ä¸ªæŒ‡æ ‡è¡¨æ ¼çš„è®²è§£","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679969373,"ip_address":"ä¸Šæµ·","comment_id":371348,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100541001,"comment_content":"æœ€åçš„è¯„æµ‹æ•ˆæœçš„éƒ¨åˆ†æ²¡çœ‹æ‡‚ï¼Œè€å¸ˆä¼šä¸ä¼šè®²precision, recall, f1score?","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611159,"discussion_content":"ä»Šå¤©ä¸Šçº¿çš„ç¬¬5è®²é‡Œï¼Œæœ‰å¯¹åº”è¿™ä¸ªæŒ‡æ ‡è¡¨æ ¼çš„è®²è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679969373,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371148,"user_name":"Viktor","can_delete":false,"product_type":"c1","uid":1520703,"ip_address":"å››å·","ucode":"DCAFD1DD5C6A0C","user_header":"https://static001.geekbang.org/account/avatar/00/17/34/3f/4b6cd370.jpg","comment_is_top":false,"comment_ctime":1679579856,"is_pvip":false,"replies":[{"id":135554,"content":"ä½ å¯ä»¥æ‹¿è‡ªå·±çš„æ•°æ®é›†è¯•ä¸€ä¸‹å‘€ï¼Œæƒ…æ„Ÿåˆ†ææ€»ä½“è¿˜æ˜¯ä¸€ä¸ªç›¸å¯¹ç®€å•çš„é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679971051,"ip_address":"ä¸Šæµ·","comment_id":371148,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100541001,"comment_content":"è€å¸ˆï¼Œé€šè¿‡è¿™ç§æ–¹å¼åšçš„æƒ…æ„Ÿåˆ†æï¼Œåœ¨ä¸€äº›ç‰¹å®šçš„é¢†åŸŸæ•ˆæœæ˜¯ä¸æ˜¯è¿˜èƒ½æœ‰è¿™ä¹ˆå¥½ï¼Ÿæ¯”å¦‚ï¼šå©šæ‹ï¼Œæ”¿åºœèˆ†æƒ…","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611185,"discussion_content":"ä½ å¯ä»¥æ‹¿è‡ªå·±çš„æ•°æ®é›†è¯•ä¸€ä¸‹å‘€ï¼Œæƒ…æ„Ÿåˆ†ææ€»ä½“è¿˜æ˜¯ä¸€ä¸ªç›¸å¯¹ç®€å•çš„é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679971051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371125,"user_name":"ä¸å¦‚ä¸è§","can_delete":false,"product_type":"c1","uid":1084890,"ip_address":"ç¦å»º","ucode":"D8A04B288D7B46","user_header":"https://static001.geekbang.org/account/avatar/00/10/8d/da/b6e05e3c.jpg","comment_is_top":false,"comment_ctime":1679561286,"is_pvip":false,"replies":[{"id":135547,"content":"å¯ä»¥è¯•ä¸€ä¸‹å…ˆç”¨Colabçš„ç¯å¢ƒï¼Œæˆ–è€…WSLçš„ç¯å¢ƒã€‚\n\næˆ‘é—®äº†ä¸€ä¸‹GPT-4ï¼Œå®ƒæ˜¯è¿™æ ·å›ç­”çš„ï¼š\n\nè¿™ä¸ªé”™è¯¯ä¿¡æ¯æ˜¯å› ä¸ºåœ¨å°è¯•å¯¼å…¥Pythonçš„PILï¼ˆPillowï¼‰åº“æ—¶ï¼ŒDLLåŠ è½½å¤±è´¥ã€‚è¿™å¯èƒ½æ˜¯å› ä¸ºæŸäº›ä¾èµ–æ–‡ä»¶ç¼ºå¤±æˆ–æŸåã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¯·å°è¯•ä»¥ä¸‹æ­¥éª¤ï¼š\n\né¦–å…ˆï¼Œç¡®ä¿å·²ç»å®‰è£…äº†æœ€æ–°ç‰ˆæœ¬çš„Pillowåº“ã€‚ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›´æ–°Pillowåº“ï¼š\ncss\nCopy code\npip install --upgrade pillow\nå¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œå°è¯•å¸è½½Pillowåº“ï¼Œç„¶åé‡æ–°å®‰è£…ï¼š\nCopy code\npip uninstall pillow\npip install pillow\nç¡®ä¿ä½ çš„Pythonç¯å¢ƒå’ŒPillowåº“æ˜¯ç›¸åŒæ¶æ„çš„ï¼ˆä¾‹å¦‚ï¼Œ64ä½Pythonéœ€è¦64ä½Pillowåº“ï¼‰ã€‚å¦‚æœä½ çš„Pythonæ˜¯64ä½çš„ï¼Œè¯·ç¡®ä¿ä½ å·²å®‰è£…64ä½çš„Pillowåº“ã€‚\n\nå®‰è£…Visual C++ Redistributableã€‚æœ‰äº›æƒ…å†µä¸‹ï¼Œç¼ºå°‘Visual C++è¿è¡Œåº“å¯èƒ½å¯¼è‡´è¿™ä¸ªé—®é¢˜ã€‚ä½ å¯ä»¥ä»å¾®è½¯å®˜æ–¹ç½‘ç«™ä¸‹è½½å¹¶å®‰è£…é€‚ç”¨äºä½ çš„ç³»ç»Ÿç‰ˆæœ¬çš„Visual C++ Redistributableã€‚\n\nå¦‚æœé—®é¢˜ä»æœªè§£å†³ï¼Œæ£€æŸ¥ç³»ç»Ÿç¯å¢ƒå˜é‡","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679970605,"ip_address":"ä¸Šæµ·","comment_id":371125,"utype":1}],"discussion_count":1,"race_medal":0,"score":6,"product_id":100541001,"comment_content":"æŠ¥äº†è¿™ä¸ªé”™\nImportError: DLL load failed while importing _imaging: æ‰¾ä¸åˆ°æŒ‡å®šçš„æ¨¡å—ã€‚\n","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611178,"discussion_content":"å¯ä»¥è¯•ä¸€ä¸‹å…ˆç”¨Colabçš„ç¯å¢ƒï¼Œæˆ–è€…WSLçš„ç¯å¢ƒã€‚\n\næˆ‘é—®äº†ä¸€ä¸‹GPT-4ï¼Œå®ƒæ˜¯è¿™æ ·å›ç­”çš„ï¼š\n\nè¿™ä¸ªé”™è¯¯ä¿¡æ¯æ˜¯å› ä¸ºåœ¨å°è¯•å¯¼å…¥Pythonçš„PILï¼ˆPillowï¼‰åº“æ—¶ï¼ŒDLLåŠ è½½å¤±è´¥ã€‚è¿™å¯èƒ½æ˜¯å› ä¸ºæŸäº›ä¾èµ–æ–‡ä»¶ç¼ºå¤±æˆ–æŸåã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¯·å°è¯•ä»¥ä¸‹æ­¥éª¤ï¼š\n\né¦–å…ˆï¼Œç¡®ä¿å·²ç»å®‰è£…äº†æœ€æ–°ç‰ˆæœ¬çš„Pillowåº“ã€‚ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›´æ–°Pillowåº“ï¼š\ncss\nCopy code\npip install --upgrade pillow\nå¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œå°è¯•å¸è½½Pillowåº“ï¼Œç„¶åé‡æ–°å®‰è£…ï¼š\nCopy code\npip uninstall pillow\npip install pillow\nç¡®ä¿ä½ çš„Pythonç¯å¢ƒå’ŒPillowåº“æ˜¯ç›¸åŒæ¶æ„çš„ï¼ˆä¾‹å¦‚ï¼Œ64ä½Pythonéœ€è¦64ä½Pillowåº“ï¼‰ã€‚å¦‚æœä½ çš„Pythonæ˜¯64ä½çš„ï¼Œè¯·ç¡®ä¿ä½ å·²å®‰è£…64ä½çš„Pillowåº“ã€‚\n\nå®‰è£…Visual C++ Redistributableã€‚æœ‰äº›æƒ…å†µä¸‹ï¼Œç¼ºå°‘Visual C++è¿è¡Œåº“å¯èƒ½å¯¼è‡´è¿™ä¸ªé—®é¢˜ã€‚ä½ å¯ä»¥ä»å¾®è½¯å®˜æ–¹ç½‘ç«™ä¸‹è½½å¹¶å®‰è£…é€‚ç”¨äºä½ çš„ç³»ç»Ÿç‰ˆæœ¬çš„Visual C++ Redistributableã€‚\n\nå¦‚æœé—®é¢˜ä»æœªè§£å†³ï¼Œæ£€æŸ¥ç³»ç»Ÿç¯å¢ƒå˜é‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679970605,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371104,"user_name":"çŸ¥è¡Œåˆä¸€","can_delete":false,"product_type":"c1","uid":1521486,"ip_address":"åŒ—äº¬","ucode":"2B8E634FC4CFB7","user_header":"https://static001.geekbang.org/account/avatar/00/17/37/4e/5c3153b2.jpg","comment_is_top":false,"comment_ctime":1679549266,"is_pvip":false,"replies":[{"id":135540,"content":"æ²¡æœ‰ç†è§£ä½ çš„é—®é¢˜ï¼ŒGPTç³»åˆ—æ¨¡å‹ç°åœ¨æœ‰â€œå¹»è§‰â€ç±»å‹ï¼Œå®¹æ˜“çç¼–çš„é—®é¢˜\nä½†æ˜¯è¿™ä¸ªå’Œå…¶ä»–ç”¨æˆ·æ— å…³å•Š","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679969723,"ip_address":"ä¸Šæµ·","comment_id":371104,"utype":1}],"discussion_count":2,"race_medal":0,"score":6,"product_id":100541001,"comment_content":"ç”¨openaiçš„æ¥å£åšæ™ºèƒ½é—®ç­”ï¼Œä¼šå‡ºç°ç”¨æˆ·æ¶æ„æ”¹ç­”æ¡ˆä»è€Œè¯¯å¯¼å…¶ä»–ç”¨æˆ·çš„æƒ…å†µå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611165,"discussion_content":"æ²¡æœ‰ç†è§£ä½ çš„é—®é¢˜ï¼ŒGPTç³»åˆ—æ¨¡å‹ç°åœ¨æœ‰â€œå¹»è§‰â€ç±»å‹ï¼Œå®¹æ˜“çç¼–çš„é—®é¢˜\nä½†æ˜¯è¿™ä¸ªå’Œå…¶ä»–ç”¨æˆ·æ— å…³å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679969724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2927617,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/wFFLMkicZicdsG0H4oETYokjdZvg9kzhbU31KGRDBNDc1cDZPa8tnOz0D9TNAibia4wLkLObnAGhvhksKsRibZnSKXA/132","nickname":"æœ‰åŸ","note":"","ucode":"BA2B4911E66EDB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610958,"discussion_content":"ä¸ä¼šï¼Œå› ä¸ºç­”æ¡ˆæ˜¯æ¨¡å‹ç»™çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679883654,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371035,"user_name":"å¤§å¯’","can_delete":false,"product_type":"c1","uid":3016994,"ip_address":"åŒ—äº¬","ucode":"183B6448272B86","user_header":"https://static001.geekbang.org/account/avatar/00/2e/09/22/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1679474372,"is_pvip":false,"replies":[{"id":135361,"content":"æˆ‘æœäº†ä¸€ä¸‹ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯ä½ æœ¬åœ°é€šè¿‡ pip å’Œ conda éƒ½å®‰è£…äº†ä¸€ä¸ªmatplotlib\nhttps:&#47;&#47;github.com&#47;pykeen&#47;pykeen&#47;issues&#47;505\n\nå°è¯•é‡æ–°å®‰è£…ä¸€ä¸‹matplotlibçš„åŒ…è¯•è¯•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679540425,"ip_address":"ä¸Šæµ·","comment_id":371035,"utype":1}],"discussion_count":2,"race_medal":0,"score":6,"product_id":100541001,"comment_content":"import openai\nfrom openai.embeddings_utilsimport cosine_similarity, get_embedding\nè¿™é‡Œæˆ‘ä¼šæŠ¥è¿™ä¸ªé”™è¯¯ï¼š\nFile ~\\miniconda3\\envs\\py310\\lib\\site-packages\\openai\\embeddings_utils.py:4\n      1 import textwrap as tr\n      2 from typing import List, Optional\n----&gt; 4 import matplotlib.pyplot as plt\n      5 import plotly.express as px\n      6 from scipy import spatial\n\nFile ~\\miniconda3\\envs\\py310\\lib\\site-packages\\matplotlib\\__init__.py:823\n    816     return config\n    819 # When constructing the global instances, we need to perform certain updates\n    820 # by explicitly calling the superclass (dict.update, dict.items) to avoid\n    821 # triggering resolution of _auto_backend_sentinel.\n    822 rcParamsDefault = _rc_params_in_file(\n--&gt; 823     cbook._get_data_path(&quot;matplotlibrc&quot;),\n    824     # Strip leading comment.\n    825     transform=lambda line: line[1:] if line.startswith(&quot;#&quot;) else line,\n    826     fail_on_error=True)\n    827 dict.update(rcParamsDefault, rcsetup._hardcoded_defaults)\n    828 rcParams = RcParams()  # The global instance.\n\nFile ~\\miniconda3\\envs\\py310\\lib\\site-packages\\matplotlib\\cbook\\__init__.py:534, in _get_data_path(*args)\n    528 def _get_data_path(*args):\n    529     &quot;&quot;&quot;\n    530     Return the `pathlib.Path` to a resource file provided by Matplotlib.\n    531 \n    532     ``*args`` specify a path relative to the base data path.\n    533     &quot;&quot;&quot;\n--&gt; 534     return Path(matplotlib.get_data_path(), *args)\n\nAttributeError: module &#39;matplotlib&#39; has no attribute &#39;get_data_path&#39;ã€‚æœ‰äººé‡åˆ°è¿™ä¸ªé—®é¢˜å—ï¼Ÿéœ€è¦æ”¹æºç å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610362,"discussion_content":"æˆ‘æœäº†ä¸€ä¸‹ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯ä½ æœ¬åœ°é€šè¿‡ pip å’Œ conda éƒ½å®‰è£…äº†ä¸€ä¸ªmatplotlib\nhttps://github.com/pykeen/pykeen/issues/505\n\nå°è¯•é‡æ–°å®‰è£…ä¸€ä¸‹matplotlibçš„åŒ…è¯•è¯•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679540425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3016994,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/09/22/791d0f5e.jpg","nickname":"å¤§å¯’","note":"","ucode":"183B6448272B86","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610557,"discussion_content":"è€å¸ˆï¼Œæˆ‘è¯•äº†ä¸‹ï¼Œwindows condaå®‰çš„ç¯å¢ƒå‡ºçš„é—®é¢˜ï¼Œpycharmå°±é€šè¿‡äº†ï¼Œå¾ˆæ€ªã€‚æˆ‘å†å°è¯•ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679622161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371009,"user_name":"Daniel","can_delete":false,"product_type":"c1","uid":2046024,"ip_address":"åŒ—äº¬","ucode":"8AF73DE4F435B6","user_header":"https://static001.geekbang.org/account/avatar/00/1f/38/48/557629d9.jpg","comment_is_top":false,"comment_ctime":1679458967,"is_pvip":false,"replies":[{"id":135354,"content":"ä½ å¯ä»¥è®©ChatGPTä¸ºä½ è¾“å‡ºç”»å›¾å·¥å…·çš„ä»£ç ï¼Œæ¯”å¦‚ä½ å¯ä»¥ç”¨è¿™æ ·ä¸€æ®µæç¤ºè¯­è¯•ä¸€ä¸‹\n\nCould you write some PlantUML code to draw a simple UML?\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679537520,"ip_address":"ä¸Šæµ·","comment_id":371009,"utype":1}],"discussion_count":3,"race_medal":0,"score":6,"product_id":100541001,"comment_content":"è€å¸ˆï¼Œè¯·é—®æœ‰ChatGPTä½œå›¾çš„å·¥å…·å—ï¼Œç”»è®ºæ–‡ä¸­çš„é‚£ç§å›¾ï¼Œç±»ä¼¼ç»“æ„å›¾&#47;æµç¨‹å›¾&#47;æ¨¡å‹å›¾ç­‰","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610346,"discussion_content":"ä½ å¯ä»¥è®©ChatGPTä¸ºä½ è¾“å‡ºç”»å›¾å·¥å…·çš„ä»£ç ï¼Œæ¯”å¦‚ä½ å¯ä»¥ç”¨è¿™æ ·ä¸€æ®µæç¤ºè¯­è¯•ä¸€ä¸‹\n\nCould you write some PlantUML code to draw a simple UML?\n\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1679537520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":2046024,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/38/48/557629d9.jpg","nickname":"Daniel","note":"","ucode":"8AF73DE4F435B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":610378,"discussion_content":"è¿™ä¹ˆè¯´è¿˜æ˜¯ç”¨è‹±æ–‡æè¿°å¥½ä¸€ç‚¹å—ğŸ¤”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679542243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":610346,"ip_address":"åŒ—äº¬","group_id":0},"score":610378,"extra":""},{"author":{"id":1911235,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/29/c3/791d0f5e.jpg","nickname":"æ¸£æ¸£è¾‰","note":"","ucode":"730838D9161579","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2046024,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/38/48/557629d9.jpg","nickname":"Daniel","note":"","ucode":"8AF73DE4F435B6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611890,"discussion_content":"åŒé—®ï¼Œä¸è¿‡æ¯•ç«Ÿæ˜¯å›½å¤–çš„ä¸œè¥¿ï¼Œè‚¯å®šåœ¨è¯­è¨€æ–¹é¢æœ‰åå‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680400317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":610378,"ip_address":"æ—¥æœ¬","group_id":0},"score":611890,"extra":""}]}]},{"had_liked":false,"id":372197,"user_name":"Mr.x","can_delete":false,"product_type":"c1","uid":1130726,"ip_address":"åŒ—äº¬","ucode":"FDA144380DB9AE","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/e6/2cd0f52b.jpg","comment_is_top":false,"comment_ctime":1680837590,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100541001,"comment_content":"\nä»£ç ç‰‡æ®µè§£é‡Šæœ‰ChatGPTæ ‡æ³¨\nç¬¬äºŒæ®µä»£ç ï¼š\n\nfrom sklearn.metrics import PrecisionRecallDisplay\n\n# å®šä¹‰å‡½æ•°ï¼Œç”¨äºè¯„ä¼°ä½¿ç”¨åµŒå…¥å‘é‡çš„æƒ…æ„Ÿåˆ†ææ¨¡å‹\ndef evaluate_embeddings_approach(\n    labels = [&#39;negative&#39;, &#39;positive&#39;], # æ­£è´Ÿé¢æƒ…æ„Ÿæ ‡ç­¾åˆ—è¡¨ï¼Œé»˜è®¤ä¸º[&#39;negative&#39;, &#39;positive&#39;]\n    model = EMBEDDING_MODEL, # æŒ‡å®šåµŒå…¥æ¨¡å‹çš„å˜é‡ï¼Œé»˜è®¤ä¸ºEMBEDDING_MODEL\n):\n    # ä½¿ç”¨get_embeddingå‡½æ•°è·å–æ¯ä¸ªæƒ…æ„Ÿæ ‡ç­¾çš„åµŒå…¥å‘é‡ï¼Œå¹¶å­˜å‚¨åœ¨label_embeddingsåˆ—è¡¨ä¸­\n    label_embeddings = [get_embedding(label, engine=model) for label in labels]\n\n    # å®šä¹‰å‡½æ•°ï¼Œç”¨äºè®¡ç®—è¯„ä»·çš„æƒ…æ„Ÿå¾—åˆ†\n    def label_score(review_embedding, label_embeddings):\n        # è®¡ç®—è¯„ä»·åµŒå…¥å‘é‡ä¸æ­£é¢æƒ…æ„Ÿæ ‡ç­¾åµŒå…¥å‘é‡ä¹‹é—´çš„ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œå‡å»è¯„ä»·åµŒå…¥å‘é‡ä¸è´Ÿé¢æƒ…æ„Ÿæ ‡ç­¾åµŒå…¥å‘é‡ä¹‹é—´çš„ä½™å¼¦ç›¸ä¼¼åº¦\n        return cosine_similarity(review_embedding, label_embeddings[1]) - cosine_similarity(review_embedding, label_embeddings[0])\n\n    # ä½¿ç”¨applyå‡½æ•°å’Œlambdaè¡¨è¾¾å¼è®¡ç®—æ¯ä¸ªè¯„ä»·çš„æƒ…æ„Ÿå¾—åˆ†\n    probas = df[&quot;embedding&quot;].apply(lambda x: label_score(x, label_embeddings))\n    # å°†æƒ…æ„Ÿå¾—åˆ†åº”ç”¨äºé˜ˆå€¼ï¼Œä»¥ç¡®å®šæ¯ä¸ªè¯„ä»·çš„æƒ…æ„Ÿæ ‡ç­¾\n    preds = probas.apply(lambda x: &#39;positive&#39; if x&gt;0 else &#39;negative&#39;)\n\n    # ä½¿ç”¨classification_reportå‡½æ•°ç”Ÿæˆåˆ†ç±»æŠ¥å‘Šï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨å˜é‡reportä¸­\n    report = classification_report(df.sentiment, preds)\n    print(report)\n\n    # ä½¿ç”¨PrecisionRecallDisplayå‡½æ•°ç”Ÿæˆç²¾ç¡®ç‡-å¬å›ç‡æ›²çº¿ï¼Œå¹¶åœ¨å›¾è¡¨ä¸Šè®¾ç½®æ ‡é¢˜\n    display = PrecisionRecallDisplay.from_predictions(df.sentiment, probas, pos_label=&#39;positive&#39;)\n    _ = display.ax_.set_title(&quot;2-class Precision-Recall curve&quot;)\n\n# è°ƒç”¨å‡½æ•°ï¼Œè¯„ä¼°æ•°æ®é›†çš„æƒ…æ„Ÿåˆ†ææ¨¡å‹ï¼Œå¹¶ç”Ÿæˆåˆ†ç±»æŠ¥å‘Šå’Œç²¾ç¡®ç‡-å¬å›ç‡æ›²çº¿çš„å›¾è¡¨\nevaluate_embeddings_approach(labels=[&#39;An Amazon review with a negative sentiment.&#39;, &#39;An Amazon review with a positive sentiment.&#39;])\n\n","like_count":25},{"had_liked":false,"id":371809,"user_name":"æ¸£æ¸£è¾‰","can_delete":false,"product_type":"c1","uid":1911235,"ip_address":"æ—¥æœ¬","ucode":"730838D9161579","user_header":"https://static001.geekbang.org/account/avatar/00/1d/29/c3/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1680354252,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100541001,"comment_content":"ä¹‹å‰æµ…å­¦è¿‡æ·±åº¦å­¦ä¹ æŠ€æœ¯ï¼Œè€å¸ˆåœ¨è¿™ä¸€ç« é‡ŒæŠŠæˆ‘ä¸€å¹´å­¦è¿‡çš„æŠ€æœ¯éƒ½ç»™è®²äº†è¿˜å¤šè®²äº†ä¸€äº›æˆ‘ä¸æ‡‚çš„æŠ€æœ¯ï¼è¿™å°±æ˜¯å¤§ä½¬å•Šã€‚","like_count":14},{"had_liked":false,"id":372196,"user_name":"Mr.x","can_delete":false,"product_type":"c1","uid":1130726,"ip_address":"åŒ—äº¬","ucode":"FDA144380DB9AE","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/e6/2cd0f52b.jpg","comment_is_top":false,"comment_ctime":1680837580,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100541001,"comment_content":"ä»£ç ç‰‡æ®µè§£é‡Šæœ‰ChatGPTæ ‡æ³¨\nä»£ç ç‰‡æ®µä¸€ï¼š\nimport pandas as pd\nimport numpy as np\n\nfrom sklearn.metrics import classification_report\n\n# è®¾ç½®æ•°æ®é›†æ–‡ä»¶è·¯å¾„\ndatafile_path = &quot;data&#47;fine_food_reviews_with_embeddings_1k.csv&quot;\n\n# ä½¿ç”¨pandasçš„read_csvå‡½æ•°è¯»å–csvæ–‡ä»¶ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨åä¸ºdfçš„æ•°æ®æ¡†ä¸­\ndf = pd.read_csv(datafile_path)\n\n# ä½¿ç”¨applyå‡½æ•°å’Œlambdaè¡¨è¾¾å¼ï¼Œå°†embeddingåˆ—ä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºPythonå¯¹è±¡ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºNumPyæ•°ç»„\ndf[&quot;embedding&quot;] = df.embedding.apply(eval).apply(np.array)\n\n# å°†è¯„åˆ†ä¸º3çš„è¯„ä»·ä»æ•°æ®æ¡†ä¸­åˆ é™¤\ndf = df[df.Score != 3]\n\n# å°†è¯„åˆ†ä¸º1ã€2çš„è¯„ä»·æ ‡è®°ä¸ºnegativeï¼Œå°†è¯„åˆ†ä¸º4ã€5çš„è¯„ä»·æ ‡è®°ä¸ºpositiveï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„sentimentåˆ—\ndf[&quot;sentiment&quot;] = df.Score.replace({1: &quot;negative&quot;, 2: &quot;negative&quot;, 4: &quot;positive&quot;, 5: &quot;positive&quot;})\n","like_count":9},{"had_liked":false,"id":370981,"user_name":"Bing","can_delete":false,"product_type":"c1","uid":1029063,"ip_address":"åŠ æ‹¿å¤§","ucode":"9AE29B1199CE2F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b3/c7/b1ada8a3.jpg","comment_is_top":false,"comment_ctime":1679420741,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100541001,"comment_content":"å—æ•™äº†ï¼Œè°¢è°¢ï¼","like_count":4},{"had_liked":false,"id":373551,"user_name":"é™ˆé¹","can_delete":false,"product_type":"c1","uid":1574748,"ip_address":"ç«‹é™¶å®›","ucode":"777F23D9178A6A","user_header":"https://static001.geekbang.org/account/avatar/00/18/07/5c/2b75c836.jpg","comment_is_top":false,"comment_ctime":1682650611,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":7,"product_id":100541001,"comment_content":"ç”¨äº†äºšé©¬é€Šè€³æœºæ•°æ®é›†ï¼Œå–å‰30æ¡æ•°æ®ï¼Œç»“æœå¦‚ä¸‹ï¼Œå¦‚æœç”¨excelæ‰“å¼€csvæ–‡ä»¶ï¼Œå¥½åƒä¼šå¯¼è‡´æŠ¥UnicodeDecodeError é”™è¯¯\n              precision    recall  f1-score   support\n\n    negative       1.00      0.67      0.80         3\n    positive       0.80      1.00      0.89         4\n\n    accuracy                           0.86         7\n   macro avg       0.90      0.83      0.84         7\nweighted avg       0.89      0.86      0.85         7","like_count":2,"discussions":[{"author":{"id":1033956,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/QD6bf8hkS5dHrabdW7M7Oo9An1Oo3QSxqoySJMDh7GTraxFRX77VZ2HZ13x3R4EVYddIGXicRRDAc7V9z5cLDlA/132","nickname":"çˆ¬è¡Œçš„èœ—ç‰›","note":"","ucode":"6623B62DE63CE9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":621033,"discussion_content":"æ˜¯ä½ çš„æ–‡ä»¶å°±æ˜¯ excelï¼Œå°±éœ€è¦ read_excel() æ¥æ‰“å¼€å“ˆï¼Œ å¯ä»¥ç”¨ pandas:  pd.read_excel()","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1686753954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393806,"user_name":"Mamba","can_delete":false,"product_type":"c1","uid":1475049,"ip_address":"æ¹–åŒ—","ucode":"8B3EC90736B8EB","user_header":"https://static001.geekbang.org/account/avatar/00/16/81/e9/d131dd81.jpg","comment_is_top":false,"comment_ctime":1724940615,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100541001,"comment_content":"# è·å–æ–‡ä»¶å†…å®¹\ninput_datapath = &quot;data&#47;product_reviews_120.csv&quot;\ndf = pd.read_csv(input_datapath)\ndf[:5]\n# è°ƒç”¨ OpenAI Embedding API\ndef embedding_text(text, model=&quot;text-embedding-3-small&quot;):\n    text = text.replace(&quot;\\n&quot;, &quot; &quot;)\n    res = client.embeddings.create(input=text, model=model)\n    return res.data[0].embedding\n\ndf[&quot;embedding&quot;] = df.Text.apply(embedding_text)\noutput_datapath = &quot;data&#47;product_reviews_with_embeddings_120.csv&quot;\n\n# convert 5-star rating to binary sentiment\ndf = df[df.Score != 3]\ndf[&quot;sentiment&quot;] = df.Score.replace({1: &quot;negative&quot;, 2: &quot;negative&quot;, 4: &quot;positive&quot;, 5: &quot;positive&quot;})\n\nevaluate_embeddings_approach(labels=[&#39;A review with a negative sentiment.&#39;, &#39;A review with a positive sentiment.&#39;])\n\n             precision    recall  f1-score   support\n\n    negative       0.81      0.98      0.89        44\n    positive       0.98      0.83      0.90        60\n\n    accuracy                           0.89       104\n   macro avg       0.90      0.91      0.89       104\nweighted avg       0.91      0.89      0.89       104\n\nå–äº†å‰120æ¡è¯„è®ºï¼Œæ•´ä½“å‡†ç¡®ç‡æ¥è¿‘90%ï¼Œå¤§æ¨¡å‹çš„èƒ½åŠ›ç¡®å®éå¸¸ä»¤äººæƒŠè®¶å•Š\n","like_count":1},{"had_liked":false,"id":375949,"user_name":"æ˜µç§°C","can_delete":false,"product_type":"c1","uid":1234963,"ip_address":"åŒ—äº¬","ucode":"1BB2D537942DC2","user_header":"https://static001.geekbang.org/account/avatar/00/12/d8/13/082013bc.jpg","comment_is_top":false,"comment_ctime":1686145695,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100541001,"comment_content":"fine_food_reviews_with_embeddings_1k.csv è¿™ä¸ªæ–‡ä»¶å“ªé‡Œä¸‹è½½çš„ï¼Ÿ\n","like_count":1},{"had_liked":false,"id":371231,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"æµ™æ±Ÿ","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1679657629,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100541001,"comment_content":"çœ‹åˆ°è¿™èŠ‚è¯¾ï¼Œæˆ‘æ‰çŸ¥é“è€å¸ˆä¸ºä»€ä¹ˆä¸ä½¿ç”¨ Playground äº†ï¼ŒAPI èƒ½åšæ›´å¤šäº‹æƒ…","like_count":1},{"had_liked":false,"id":395662,"user_name":"é¹¿èŒ¸h","can_delete":false,"product_type":"c1","uid":3254156,"ip_address":"åŒ—äº¬","ucode":"EF491114941549","user_header":"https://static001.geekbang.org/account/avatar/00/31/a7/8c/844fb438.jpg","comment_is_top":false,"comment_ctime":1731596848,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100541001,"comment_content":"2024-11-14 æˆåŠŸè¿è¡Œ\nimport os\nimport pandas as pd\nimport numpy as np\nfrom sklearn.metrics import classification_report, PrecisionRecallDisplay\nfrom scipy.spatial import distance\nimport openai\nopenai.api_key = os.environ[&#39;OPENAI_API_KEY&#39;]\nopenai.base_url = os.environ[&#39;OPENAI_BASE_URL&#39;]\nEMBEDDING_MODEL = &quot;text-embedding-3-small&quot;\ndatafile_path = &quot;data&#47;AllProductReviews.csv&quot;\ndf = pd.read_csv(datafile_path, nrows=60)\nclient = openai.OpenAI(api_key=openai.api_key, base_url=openai.base_url)\ndef embedding_text(text, model=EMBEDDING_MODEL):\n    text = text.replace(&quot;\\n&quot;, &quot; &quot;)\n    res = client.embeddings.create(input=text, model=model)\n    return res.data[0].embedding\ndf[&quot;embedding&quot;] = df[&quot;ReviewBody&quot;].apply(embedding_text)\ndf = df[df[&quot;ReviewStar&quot;] != 3]\ndf[&quot;sentiment&quot;] = df[&quot;ReviewStar&quot;].replace({1: &quot;negative&quot;, 2: &quot;negative&quot;, 4: &quot;positive&quot;, 5: &quot;positive&quot;})\ndef cosine_similarity(vec1, vec2):\n    return 1 - distance.cosine(vec1, vec2)\ndef evaluate_embeddings_approach(labels=[&#39;negative&#39;, &#39;positive&#39;]):\n    label_embeddings = [embedding_text(label) for label in labels]\n    def label_score(review_embedding, label_embeddings):\n        return cosine_similarity(review_embedding, label_embeddings[1]) - cosine_similarity(review_embedding, label_embeddings[0])\n    probas = df[&quot;embedding&quot;].apply(lambda x: label_score(x, label_embeddings))\n    preds = probas.apply(lambda x: &#39;positive&#39; if x &gt; 0 else &#39;negative&#39;)\n    report = classification_report(df[&quot;sentiment&quot;], preds)\n    print(report)\n    display = PrecisionRecallDisplay.from_predictions(df[&quot;sentiment&quot;], probas, pos_label=&#39;positive&#39;)\n    display.ax_.set_title(&quot;2-class Precision-Recall curve&quot;)\nevaluate_embeddings_approach()","like_count":0},{"had_liked":false,"id":393756,"user_name":"Johar","can_delete":false,"product_type":"c1","uid":1101969,"ip_address":"é‡åº†","ucode":"834136A6F64CDC","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/91/89123507.jpg","comment_is_top":false,"comment_ctime":1724805589,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100541001,"comment_content":"è¯„ä»·æ˜¯æ­£å‘è¿˜æ˜¯è´Ÿå‘çš„ç¤ºä¾‹ä¸­ï¼Œå„ä½¿ç”¨ä¸€ä¸ªç¤ºä¾‹è¯„ä»·ä½œä¸ºæ­£å‘æˆ–è´Ÿå‘çš„åŸºå‡†ï¼Œè¿™ä¸ªåŸºå‡†çš„é€‰æ‹©æ˜¯å¦å½±å“æœ€ç»ˆçš„åˆ¤æ–­ï¼Ÿè‹¥å½±å“ï¼Œè¿™ä¸ªåŸºå‡†æ€ä¹ˆé€‰å–ï¼Ÿ","like_count":0},{"had_liked":false,"id":391383,"user_name":"Geek_18dfaf","can_delete":false,"product_type":"c1","uid":1543018,"ip_address":"æµ™æ±Ÿ","ucode":"CFC27E78220E2D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqw0R25Bt0iahFhEHfnxmzr9iaZf0eLsDQtFUJzgGkYwHTqicU9TydMngrJ4yL7D50awD2VibHBAdqplQ/132","comment_is_top":false,"comment_ctime":1718164433,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":7,"product_id":100541001,"comment_content":"data&#47;fine_food_reviews_with_embeddings_1k.csv   è€å¸ˆï¼Œå¯ä»¥æŠŠè¿™ä¸ªç»™æ”¾å‡ºæ¥å—","like_count":0},{"had_liked":false,"id":391090,"user_name":"å¼ ç”³å‚²","can_delete":false,"product_type":"c1","uid":1182372,"ip_address":"åŒ—äº¬","ucode":"22D46BC529BA8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/0a/a4/828a431f.jpg","comment_is_top":false,"comment_ctime":1717305568,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":2,"score":8,"product_id":100541001,"comment_content":"ç¬¬2è®²æ‰“å¡~","like_count":0},{"had_liked":false,"id":390612,"user_name":"Geek_5b53d8","can_delete":false,"product_type":"c1","uid":3833002,"ip_address":"è‹±å›½","ucode":"71267F03CAE998","user_header":"","comment_is_top":false,"comment_ctime":1715769587,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100541001,"comment_content":"è¯¾åç»ƒä¹ è¿è¡Œä¸‹é¢ä»£ç è¿”å›æŠ¥é”™ï¼Œå„ä½è€å¸ˆç»™çœ‹çœ‹ä»€ä¹ˆåŸå› ï¼Œå¡è¿™äº†\n\næŠ¥é”™ï¼š\nModuleNotFoundError                       Traceback (most recent call last)\nCell In[44], line 5\n      2 import numpy as np\n      4 from sklearn.metrics import classification_report,PrecisionRecallDisplay\n----&gt; 5 from openai.embeddings_utils import cosine_similarity, get_embedding\n      7 EMBEDDING_MODEL = &quot;text-embedding-ada-002&quot;\n      9 #datafile_path = &quot;data&#47;AllProductReviews.csv&quot;\n\nModuleNotFoundError: No module named &#39;openai.embeddings_utils&#39;\n\n\nä»£ç ï¼š\nimport pandas as pd\nimport numpy as np\n\nfrom sklearn.metrics import classification_report,PrecisionRecallDisplay\nfrom openai.embeddings_utils import cosine_similarity, get_embedding\n\nEMBEDDING_MODEL = &quot;text-embedding-ada-002&quot;\n\n#datafile_path = &quot;data&#47;AllProductReviews.csv&quot;\ndatafile_path = &quot;data&#47;AllProductReviews.csv&quot;\ndf = pd.read_csv(datafile_path)\ndf[&quot;embedding&quot;] = df.ReviewBody.apply(lambda x: get_embedding(x, engine=EMBEDDING_MODEL))\n\n# convert 5-star rating to binary sentiment\ndf = df[df.ReviewStar != 3]\ndf[&quot;sentiment&quot;] = df.ReviewStar.replace({1: &quot;negative&quot;, 2: &quot;negative&quot;, 4: &quot;positive&quot;, 5: &quot;positive&quot;})\n\ndef evaluate_embeddings_approach(\n    labels = [&#39;negative&#39;, &#39;positive&#39;],\n    model = EMBEDDING_MODEL,\n):\n    label_embeddings = [get_embedding(label, engine=model) for label in labels]\n\n    def label_score(review_embedding, label_embeddings):\n        return cosine_similarity(review_embedding, label_embeddings[1]) - cosine_similarity(review_embedding, label_embeddings[0])\n\n    probas = df[&quot;embedding&quot;].apply(lambda x: label_score(x, label_embeddings))\n    preds = probas.apply(lambda x: &#39;positive&#39; if x&gt;0 else &#39;negative&#39;)\n\n    report = classification_report(df.sentiment, preds)\n    print(report)\n\n    display = PrecisionRecallDisplay.from_predictions(df.sentiment, probas, pos_label=&#39;positive&#39;)\n    _ = display.ax_.set_title(&quot;2-class Precision-Recall curve&quot;)\n\nevaluate_embeddings_approach()","like_count":0},{"had_liked":false,"id":388994,"user_name":"Geek_140d9f","can_delete":false,"product_type":"c1","uid":3834009,"ip_address":"ç¾å›½","ucode":"358F4918023E9F","user_header":"","comment_is_top":false,"comment_ctime":1711350491,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100541001,"comment_content":"è€å¸ˆ æˆ‘åœ¨è¿™èŠ‚ä¸­åšOpenAI Cookbookçš„ä¾‹å­çš„æ—¶å€™å‡ºç°é”™è¯¯ï¼Œæˆ‘ä¸çŸ¥é“è¦å¦‚ä½•ä¿®æ”¹äº†\nNameError                                 Traceback (most recent call last)\nCell In[4], line 21\n     18     display = PrecisionRecallDisplay.from_predictions(df.sentiment, probas, pos_label=&#39;positive&#39;)\n     19     _ = display.ax_.set_title(&quot;2-class Precision-Recall curve&quot;)\n---&gt; 21 evaluate_embeddings_approach(labels=[&#39;An Amazon review with a negative sentiment.&#39;, &#39;An Amazon review with a positive sentiment.&#39;])\n\nCell In[4], line 7, in evaluate_embeddings_approach(labels, model)\n      3 def evaluate_embeddings_approach(\n      4     labels = [&#39;negative&#39;, &#39;positive&#39;], \n      5     model = EMBEDDING_MODEL,\n      6 ):\n----&gt; 7     label_embeddings = [get_embedding(label, engine=model) for label in labels]\n      9     def label_score(review_embedding, label_embeddings):\n     10         return cosine_similarity(review_embedding, label_embeddings[1]) - cosine_similarity(review_embedding, label_embeddings[0])\n\nCell In[4], line 7, in &lt;listcomp&gt;(.0)\n      3 def evaluate_embeddings_approach(\n      4     labels = [&#39;negative&#39;, &#39;positive&#39;], \n      5     model = EMBEDDING_MODEL,\n      6 ):\n----&gt; 7     label_embeddings = [get_embedding(label, engine=model) for label in labels]\n      9     def label_score(review_embedding, label_embeddings):\n     10         return cosine_similarity(review_embedding, label_embeddings[1]) - cosine_similarity(review_embedding, label_embeddings[0])\n\nNameError: name &#39;get_embedding&#39; is not defined","like_count":0},{"had_liked":false,"id":388854,"user_name":"æ–°æ˜Ÿ","can_delete":false,"product_type":"c1","uid":3814977,"ip_address":"åŒ—äº¬","ucode":"01B470B7092E91","user_header":"https://static001.geekbang.org/account/avatar/00/3a/36/41/8906e1a6.jpg","comment_is_top":false,"comment_ctime":1711008177,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100541001,"comment_content":"csvæ–‡ä»¶ä¸­ï¼Œæ¯æ¡è®°å½•é™¤äº†åé¢çš„åµŒå…¥å‘é‡å¤–è¿˜æœ‰ä¸€ä¸ªç¬¬äºŒè¡Œï¼Œæ˜¯ä»€ä¹ˆæ„æ€å‘€","like_count":0},{"had_liked":false,"id":388510,"user_name":"èŒ‚æ¾","can_delete":false,"product_type":"c1","uid":1052375,"ip_address":"å¹¿ä¸œ","ucode":"458A6FBC49C48E","user_header":"https://static001.geekbang.org/account/avatar/00/10/0e/d7/7d7579c1.jpg","comment_is_top":false,"comment_ctime":1710315043,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100541001,"comment_content":"æ°¸è¿œçƒ§è„‘çš„è´å¶æ–¯ : )","like_count":0},{"had_liked":false,"id":388023,"user_name":"æˆ‘æ¯é¸¡å•Šï¼","can_delete":false,"product_type":"c1","uid":1633705,"ip_address":"æµ™æ±Ÿ","ucode":"7BFB14BC99E978","user_header":"https://static001.geekbang.org/account/avatar/00/18/ed/a9/662318ab.jpg","comment_is_top":false,"comment_ctime":1709177624,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100541001,"comment_content":"from openai import OpenAI\nimport pandas as pd\nimport numpy as np\nfrom sklearn.metrics import PrecisionRecallDisplay\nfrom sklearn.metrics import classification_report\n\nclient = OpenAI()\n\nEMBEDDING_MODEL = &quot;text-embedding-3-small&quot;\n\ndatafile_path = &quot;data&#47;AllProductReviews.csv&quot;\ndf = pd.read_csv(datafile_path,nrows=60)\ndf[&quot;embedding&quot;] = df.ReviewBody.apply(lambda x: get_embedding(x, model=EMBEDDING_MODEL))\n\n# convert 5-star rating to binary sentiment\ndf = df[df.ReviewStar != 3]\ndf[&quot;sentiment&quot;] = df.ReviewStar.replace({1: &quot;negative&quot;, 2: &quot;negative&quot;, 4: &quot;positive&quot;, 5: &quot;positive&quot;})\n\ndef get_embedding(text, model=&quot;text-embedding-3-small&quot;):\n   text = text.replace(&quot;\\n&quot;, &quot; &quot;)\n   return client.embeddings.create(input = [text], model=model).data[0].embedding\n\ndef cosine_similarity(vector_a, vector_b): \n    dot_product = np.dot(vector_a, vector_b) \n    norm_a = np.linalg.norm(vector_a) \n    norm_b = np.linalg.norm(vector_b) \n    epsilon = 1e-10\n    cosine_similarity = dot_product &#47; (norm_a * norm_b + epsilon) \n    return cosine_similarity\n    \ndef evaluate_embeddings_approach(\n    labels = [&#39;negative&#39;, &#39;positive&#39;], \n    model = EMBEDDING_MODEL,\n):\n    label_embeddings = [get_embedding(label, model=model) for label in labels]\n\n    def label_score(review_embedding, label_embeddings):\n        return cosine_similarity(review_embedding, label_embeddings[1]) - cosine_similarity(review_embedding, label_embeddings[0])\n\n    probas = df[&quot;embedding&quot;].apply(lambda x: label_score(x, label_embeddings))\n    preds = probas.apply(lambda x: &#39;positive&#39; if x&gt;0 else &#39;negative&#39;)\n\n    report = classification_report(df.sentiment, preds)\n    print(report)\n\n    display = PrecisionRecallDisplay.from_predictions(df.sentiment, probas, pos_label=&#39;positive&#39;)\n    _ = display.ax_.set_title(&quot;2-class Precision-Recall curve&quot;)\n\nevaluate_embeddings_approach(labels=[&#39;An Amazon review with a negative sentiment.&#39;, &#39;An Amazon review with a positive sentiment.&#39;])","like_count":0},{"had_liked":false,"id":387914,"user_name":"Owen","can_delete":false,"product_type":"c1","uid":2403622,"ip_address":"å¹¿ä¸œ","ucode":"FDE0D574B8ED5A","user_header":"https://static001.geekbang.org/account/avatar/00/24/ad/26/767527f6.jpg","comment_is_top":false,"comment_ctime":1708929488,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100541001,"comment_content":"å¤§å®¶å¥½ æˆ‘æ˜¯å¹¿å·å¤§å­¦2012çº§ç”µå­å•†åŠ¡å†¯è¾¾æˆ å­¦å®Œæœ¬è¯¾åè§‰å¾—è·ç›ŠåŒªæµ…ï¼","like_count":0},{"had_liked":false,"id":387876,"user_name":"HXL","can_delete":false,"product_type":"c1","uid":2631455,"ip_address":"åŒ—äº¬","ucode":"97298EEC95BFCA","user_header":"https://static001.geekbang.org/account/avatar/00/28/27/1f/42059b0f.jpg","comment_is_top":false,"comment_ctime":1708756445,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100541001,"comment_content":"æ€»ç»“ï¼š\n1. ç®€å•ä»‹ç»äº†ä¸‹ embedingæ¥å£çš„ä½¿ç”¨\n2. ä»‹ç»äº†ä½¿ç”¨ zero-shot å®ç°æƒ…æ„Ÿåˆ†æçš„æ–¹æ³•","like_count":0},{"had_liked":false,"id":387866,"user_name":"tuxknight","can_delete":false,"product_type":"c1","uid":1000882,"ip_address":"ä¸Šæµ·","ucode":"B78FE23CB2641B","user_header":"","comment_is_top":false,"comment_ctime":1708746542,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100541001,"comment_content":"å¥½è¯„å·®è¯„æ˜¯ç”Ÿæˆäº†ä¸¤ä¸ªæ ‡å‡†å‘é‡ï¼Œç„¶åè®¡ç®—è¯„è®ºç¦»æ ‡å‡†å‘é‡çš„è·ç¦»ã€‚é‚£å¦‚æœæ ‡å‡†å‘é‡æœ‰å¤šä¸ªçš„æƒ…å†µä¸‹ï¼Œè¯¥å¦‚ä½•è®¡ç®—ä½™å¼¦è·ç¦»ï¼Ÿ\næ¯”å¦‚ç”¨ Embedding åšé¢è¯•å€™é€‰äººçš„ç®€å†è¿›è¡Œç­›é€‰çš„åœºæ™¯ï¼Œä¸ºå·²ç»é€šè¿‡ç­›é€‰çš„æ¯ä¸ªç®€å†è®¡ç®—å‘é‡ï¼Œç„¶åå†è®¡ç®—å€™é€‰äººå’Œè¿™äº›ç®€å†çš„ä½™ç„è·ç¦»ï¼Œç„¶åå†å¯¹æœ€ç»ˆçš„ç»“æœå–å¹³å‡å€¼ã€‚è¿™æ ·æ„Ÿè§‰æ˜¯æ¯”è¾ƒç²—æš´çš„åŠæ³•ã€‚æœ‰å…¶ä»–æ›´å¥½çš„åŠæ³•å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":387829,"user_name":"Jahng","can_delete":false,"product_type":"c1","uid":1325514,"ip_address":"å¹¿ä¸œ","ucode":"5D5789EAAC4739","user_header":"https://static001.geekbang.org/account/avatar/00/14/39/ca/4a07bfd8.jpg","comment_is_top":false,"comment_ctime":1708664080,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":8,"product_id":100541001,"comment_content":"èƒ½æŠŠè®¡ç®—ä½™å¼¦è·ç¦»çš„äº‹æƒ…ä¹Ÿäº¤ç»™chatgpt åšå—ï¼Œç›´æ¥è®©ä»–å‘Šè¯‰æˆ‘ä»¬æ˜¯å¥½è¯„è¿˜æ˜¯å·®è¯„","like_count":0},{"had_liked":false,"id":387816,"user_name":"å¤§é­”ç‹æ±ªæ±ª","can_delete":false,"product_type":"c1","uid":1010680,"ip_address":"åŒ—äº¬","ucode":"4B205CB52FC95F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6b/f8/b4da7936.jpg","comment_is_top":false,"comment_ctime":1708618854,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":9,"product_id":100541001,"comment_content":"â€œå·®è¯„è¢«è¯¯åˆ¤ä¸ºäº†å¥½è¯„â€ï¼Œè¿™ç§é—®é¢˜åœ¨ä¼ä¸šå·¥ç¨‹ä¸­å¯ä»¥åšå“ªäº›äº‹æƒ…ï¼Œè§£å†³å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":387809,"user_name":"å°å¼º","can_delete":false,"product_type":"c1","uid":1155961,"ip_address":"æµ™æ±Ÿ","ucode":"AFA06753068BD7","user_header":"https://static001.geekbang.org/account/avatar/00/11/a3/79/ef7e9920.jpg","comment_is_top":false,"comment_ctime":1708606104,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":9,"product_id":100541001,"comment_content":"ä½ å¥½ï¼Œè¦æ˜¯æ²¡æœ‰ChatGPTè´¦å·ï¼Œæ˜¯ä¸æ˜¯å°±æ²¡æ³•è·‘ä»£ç äº†","like_count":0},{"had_liked":false,"id":380823,"user_name":"å°ç™½","can_delete":false,"product_type":"c1","uid":2144734,"ip_address":"æ±Ÿè‹","ucode":"3D174A747CB4BC","user_header":"https://static001.geekbang.org/account/avatar/00/20/b9/de/d1bc0a08.jpg","comment_is_top":false,"comment_ctime":1694239505,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":9,"product_id":100541001,"comment_content":"æˆ‘å¯èƒ½å¤ªå°ç™½äº†ï¼Œæˆ‘æ²¡æ˜ç™½è¿™æ®µä»£ç çš„ç”¨æ„ï¼Œè€å¸ˆä½ æ˜¯è¾“å…¥äº†ä¸€æ®µè¯­è¨€æè¿°è®©apiç”Ÿæˆäº†ä¸€æ®µä»£ç ï¼Œç„¶åä»£ç å¯ä»¥å¾ˆå¥½çš„å¾—å‡ºæˆ‘ä»¬æƒ³è¦çš„ç»“æœå—ï¼Ÿä½ çš„ä¾‹å­å¥½åƒå¯¹äºéä¸“ä¸šäººå£«è¿˜æ˜¯æ¯”è¾ƒéš¾æ‡‚æ€ä¹ˆæå®šè¿™ä¸ªæƒ…æ„Ÿåˆ†æã€‚æˆ–è€…æ˜¯è¯´å¯¹äºä¸€ä¸ªäº§å“ç»ç†çš„æˆ‘ï¼Œæ²¡åŠæ³•ç†è§£å‰åè¾“å…¥è¾“å‡ºï¼Œå’Œè¿˜æ˜¯æ²¡æ³•åŠç†è§£æ€ä¹ˆç”¨ã€‚","like_count":0},{"had_liked":false,"id":380514,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"åŒ—äº¬","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1693745458,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":9,"product_id":100541001,"comment_content":"å‰ä¸ä¹…åˆšå¥½æœ‰ä¸€ä¸ªåˆ†æè¯­å¥æƒ…æ„Ÿçš„å·¥ä½œï¼Œå› ä¸ºæ¡ä»¶å’ŒæŠ€æœ¯çš„é™åˆ¶ï¼Œé‡‡ç”¨äº†æœ€ç®€å•åŸå§‹çš„å…³é”®è¯åˆ†ææ³•ã€‚\n\nå…³äºå¥½è¯„å·®è¯„çš„ä¾‹å­ï¼Œæœ‰ä¸€ä¸ªåœ°æ–¹ä¸æ˜¯å¾ˆæ˜ç™½\n\npositive_review = get_embedding(&quot;å¥½è¯„&quot;)\n\nå¦‚ä½•é€šè¿‡ get_embedding(â€œå¥½è¯„â€) å°±å¾—åˆ°äº†positive_review ï¼Ÿåªæ˜¯ä» â€œå¥½è¯„â€ äºŒå­—è€Œæ¥ä¹ˆï¼Ÿ\n\næˆ‘è¯•ç€æŠŠâ€œå¥½è¯„â€å’Œâ€œå·®è¯„â€äºŒå­—æ¢æˆâ€œå¥½ã€åâ€ï¼Œâ€œè¡¨æ‰¬ï¼Œæ‰¹è¯„â€ï¼Œç”šè‡³æ˜¯â€œgood, badâ€ï¼Œâ€œpositive, negativeâ€ï¼Œéƒ½åŸºæœ¬ä¸Šå¯ä»¥å¾—åˆ°ç±»ä¼¼çš„ç»“æœï¼Œä½†æ˜¯åŒºåˆ†åº¦ä¼¼ä¹æ˜¯ä¸å¦‚â€œå¥½è¯„ã€å·®è¯„â€ç»„åˆ\n\nåœ¨è¯¾åçš„å°ç»“éƒ¨åˆ†æåˆ°ï¼Œâ€œç»è¿‡é¢„è®­ç»ƒçš„å¤§è¯­è¨€æ¨¡å‹é‡Œé¢ï¼Œå·²ç»è•´å«äº†æƒ…æ„Ÿåˆ†æçš„çŸ¥è¯†â€\n\nå‚è€ƒ @Roy Liang çš„ç•™è¨€ï¼Œåšäº†ä¸€ä¸‹è¯¾åä½œä¸šï¼Œä½†æ˜¯æˆ‘ä¹Ÿåªèƒ½åš 100 æ¡æ•°æ®çš„ï¼Œå¦‚æœ 3000 æ¡çš„è¯ä¼šå‡ºç° RateLimitErrorã€‚\n\næ•°æ®ä¸Šç•¥æœ‰å·®å¼‚ï¼Œä½“éªŒä¸€ä¸‹å°±å¥½","like_count":0},{"had_liked":false,"id":380499,"user_name":"Aron.ç‹å®‰è‹±","can_delete":false,"product_type":"c1","uid":1367788,"ip_address":"åŒ—äº¬","ucode":"E0B42516CEC512","user_header":"https://static001.geekbang.org/account/avatar/00/14/de/ec/12293699.jpg","comment_is_top":false,"comment_ctime":1693725288,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":9,"product_id":100541001,"comment_content":"æˆ‘ä¸ç†è§£çš„åœ°æ–¹æ˜¯ï¼Œå•ç‹¬ä½¿ç”¨&quot;å¥½è¯„&quot;çš„ä½™å¼¦ç›¸ä¼¼åº¦æˆ–&quot;å·®è¯„&quot;çš„ä½™å¼¦ç›¸ä¼¼åº¦æ˜¯å¦å°±å¯ä»¥åˆ¤æ–­æ˜¯&quot;å¥½è¯„&quot;æˆ–&quot;å·®è¯„&quot;ï¼Œä¸ºä»€ä¹ˆè¦ç”¨â€œå¥½è¯„â€çš„ç›¸ä¼¼åº¦å»å‡å»å’Œâ€œå·®è¯„â€ä¹‹é—´çš„ç›¸ä¼¼åº¦","like_count":0},{"had_liked":false,"id":378998,"user_name":"ç‹‚å¥”çš„èœ—ç‰›","can_delete":false,"product_type":"c1","uid":1448704,"ip_address":"ç¾å›½","ucode":"F575D8BB177C29","user_header":"https://static001.geekbang.org/account/avatar/00/16/1b/00/cacb24f5.jpg","comment_is_top":false,"comment_ctime":1691119096,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":9,"product_id":100541001,"comment_content":"æ˜¯å¦èƒ½ç»™data&#47;fine_food_reviews_with_embeddings_1k.csvè¿™ä¸ªæ–‡ä»¶ï¼Œå‘è¿è¡Œä¸€ä¸‹æœ¬è¯¾ç¨‹ç¬¬äºŒæ®µä»£ç æ‰¾æ‰¾æ„Ÿè§‰ã€‚","like_count":0},{"had_liked":false,"id":378863,"user_name":"ç‹‚å¥”çš„èœ—ç‰›","can_delete":false,"product_type":"c1","uid":1448704,"ip_address":"åŒ—äº¬","ucode":"F575D8BB177C29","user_header":"https://static001.geekbang.org/account/avatar/00/16/1b/00/cacb24f5.jpg","comment_is_top":false,"comment_ctime":1690897003,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":9,"product_id":100541001,"comment_content":"è¯·é—®ä¸€ä¸‹è€å¸ˆâ€œå¥½è¯„â€å’Œâ€œå·®è¯„â€çš„ Embeddingå¦‚ä½•è®¡ç®—è·å¾—ï¼Ÿ","like_count":0},{"had_liked":false,"id":378437,"user_name":"AIæ‚¦åˆ›","can_delete":false,"product_type":"c1","uid":1525309,"ip_address":"ç¦å»º","ucode":"D1007711CB0A79","user_header":"https://static001.geekbang.org/account/avatar/00/17/46/3d/55653953.jpg","comment_is_top":false,"comment_ctime":1690255354,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":9,"product_id":100541001,"comment_content":"P(åƒåœ¾âˆ£X)âˆP(buyâˆ£åƒåœ¾)Ã—P(moneyâˆ£åƒåœ¾)Ã—P(sellâˆ£åƒåœ¾)Ã—P(åƒåœ¾)=1Ã—1Ã—0.5Ã—0.5=0.25P(æ™®é€šâˆ£X)âˆP(buyâˆ£æ™®é€š)Ã—P(moneyâˆ£æ™®é€š)Ã—P(sellâˆ£æ™®é€š)Ã—P(æ™®é€š)=0Ã—0Ã—0.5Ã—0.5=0\nè¿™éƒ¨åˆ†èƒ½ä¸èƒ½è®²è§£ä¸€ä¸‹ï¼Ÿä¸å¤ªç†è§£","like_count":0,"discussions":[{"author":{"id":1796336,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/68/f0/7ccf8fde.jpg","nickname":"æ¢èŠ±","note":"","ucode":"3992C7371915E5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":624497,"discussion_content":"ã€[5åˆ†é’Ÿå­¦ç®—æ³•] #02 æœ´ç´ è´å¶æ–¯ å†™ä½œä¸šè¿˜å¾—çœ‹å°æ˜ã€‘ https://www.bilibili.com/video/BV1eT411V7jM/?share_source=copy_web&amp;vd_source=a39309e8af1ec3f9c139e5bfceddec58","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1690611350,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":378367,"user_name":"nikey","can_delete":false,"product_type":"c1","uid":1711042,"ip_address":"ä¸Šæµ·","ucode":"4E0E375B474C65","user_header":"https://static001.geekbang.org/account/avatar/00/1a/1b/c2/5a8fdbf2.jpg","comment_is_top":false,"comment_ctime":1690158546,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":9,"product_id":100541001,"comment_content":"å°ç™½é—®é¢˜æƒ³è¯·æ•™ä¸‹ï¼Œæˆ‘è¿™è¾¹æ˜¯åœ¨äººåŠ›èµ„æºè¡Œä¸šï¼Œéœ€è¦é’ˆå¯¹ç®€å†è‡ªåŠ¨æ‰“æ ‡ç­¾ä¹Ÿå¯ä»¥é€šè¿‡å¤§æ¨¡å‹å®ç°å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":376323,"user_name":"Geek_fe0336","can_delete":false,"product_type":"c1","uid":1422144,"ip_address":"æ—¥æœ¬","ucode":"09D070BD4EFB57","user_header":"https://static001.geekbang.org/account/avatar/00/15/b3/40/54894c8f.jpg","comment_is_top":false,"comment_ctime":1686704291,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":9,"product_id":100541001,"comment_content":"ä¸ºä»€ä¹ˆæˆ‘æŠŠæ–‡ä¸­ä»£ç copyåˆ°jupyterè¿è¡Œåå¾—åˆ°çš„åˆ†å€¼éƒ½æ˜¯è´Ÿæ•°å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":376189,"user_name":"Penguin Shi","can_delete":false,"product_type":"c1","uid":3646806,"ip_address":"å¹¿ä¸œ","ucode":"477A24D7ECE09A","user_header":"https://static001.geekbang.org/account/avatar/00/37/a5/56/b3cf71a9.jpg","comment_is_top":false,"comment_ctime":1686478661,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100541001,"comment_content":"&quot;data&#47;fine_food_reviews_with_embeddings_1k.csv&quot;è¿™ä¸ªæ–‡ä»¶æ€ä¹ˆè·å¾—ï¼Ÿ","like_count":0},{"had_liked":false,"id":376158,"user_name":"çˆ¬è¡Œçš„èœ—ç‰›","can_delete":false,"product_type":"c1","uid":1033956,"ip_address":"å››å·","ucode":"6623B62DE63CE9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/QD6bf8hkS5dHrabdW7M7Oo9An1Oo3QSxqoySJMDh7GTraxFRX77VZ2HZ13x3R4EVYddIGXicRRDAc7V9z5cLDlA/132","comment_is_top":false,"comment_ctime":1686404126,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100541001,"comment_content":"æŠŠè€å¸ˆçš„ä»£ç ç¨å¾®æ”¹äº†ä¸‹ï¼Œç”±äº 2000å­—ç¬¦ï¼Œæ›´æ”¹çš„éƒ¨åˆ†ï¼š\ndef get_score(sample_embedding):\n    # å°†æ ·æœ¬çš„åµŒå…¥å¼å‘é‡ä¸ &quot;å¥½è¯„&quot; çš„åµŒå…¥å¼å‘é‡è®¡ç®—ä½™å¼¦ç›¸ä¼¼åº¦\n    similarity_to_positive = cosine_similarity(sample_embedding, positive_review)\n    print(&quot;similarity_to_positive çš„æ•°å€¼&quot;,similarity_to_positive)\n    # å°†æ ·æœ¬çš„åµŒå…¥å¼å‘é‡ä¸ &quot;å·®è¯„&quot; çš„åµŒå…¥å¼å‘é‡è®¡ç®—ä½™å¼¦ç›¸ä¼¼åº¦\n    similarity_to_negative = cosine_similarity(sample_embedding, negative_review)\n    print(&quot;similarity_to_negative çš„æ•°å€¼&quot;,similarity_to_negative)\n    # è¿”å› &quot;å¥½è¯„&quot; ä¸æ ·æœ¬çš„ä½™å¼¦ç›¸ä¼¼åº¦å‡å» &quot;å·®è¯„&quot; ä¸æ ·æœ¬çš„ä½™å¼¦ç›¸ä¼¼åº¦\n    return similarity_to_positive - similarity_to_negative\n\n# è®¡ç®—æ­£é¢è¯„ä»·å’Œè´Ÿé¢è¯„ä»·çš„åˆ†æ•°\npositive_score = get_score(positive_example)\nnegative_score = get_score(negative_example)\n\n# æ‰“å°ç»“æœ\nprint(&quot;å¥½è¯„ä¾‹å­çš„è¯„åˆ†: %f&quot; % positive_score)\nprint(&quot;å·®è¯„ä¾‹å­çš„è¯„åˆ†: %f&quot; % negative_score)\n\n\nsimilarity_to_positive çš„æ•°å€¼ 0.6200280967994568\nsimilarity_to_negative çš„æ•°å€¼ 0.5490649555294066\nsimilarity_to_positive çš„æ•°å€¼ 0.6768967631202036\nsimilarity_to_negative çš„æ•°å€¼ 0.7497917687444026\nå¥½è¯„ä¾‹å­çš„è¯„åˆ†: 0.070963\nå·®è¯„ä¾‹å­çš„è¯„åˆ†: -0.072895\n\nsimilarity_to_positive - similarity_to_negative å¦‚æœä¸€ä¸ªæ–‡æœ¬ä¸ &quot;å¥½è¯„&quot; çš„åµŒå…¥å¼å‘é‡çš„ä½™å¼¦ç›¸ä¼¼åº¦é«˜äº\nä¸ &quot;å·®è¯„&quot; çš„åµŒå…¥å¼å‘é‡çš„ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œé‚£ä¹ˆå®ƒæ›´å¯èƒ½æ˜¯ä¸€ä¸ªæ­£é¢è¯„ä»·ï¼›åä¹‹ï¼Œå¦‚æœä¸€ä¸ªæ–‡æœ¬ä¸ &quot;å¥½è¯„&quot; çš„åµŒå…¥å¼å‘é‡çš„ä½™å¼¦ç›¸ä¼¼åº¦ä½äºä¸ &quot;å·®è¯„&quot; çš„åµŒå…¥å¼å‘é‡çš„ä½™å¼¦ã€‚","like_count":0},{"had_liked":false,"id":376001,"user_name":"Geek_60fb43","can_delete":false,"product_type":"c1","uid":2759724,"ip_address":"ç¾å›½","ucode":"AB64E518365563","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJR9BnoUwDvLCTRtCqCiaq1Cca3nQmf6doM0RyytrEJTXckNWroeomswMgR8Lx5Y7WHfIQBVjibIbLg/132","comment_is_top":false,"comment_ctime":1686213432,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":10,"product_id":100541001,"comment_content":"æˆ‘ä¸ºä»€ä¹ˆä¸€ç›´æ˜¾ç¤ºæ‰¾ä¸åˆ°æ–‡ä»¶ï¼Œæƒé™å’Œè·¯å¾„éƒ½çœ‹äº†æ²¡é—®é¢˜ã€‚ã€‚ã€‚","like_count":0,"discussions":[{"author":{"id":1130729,"avatar":"https://static001.geekbang.org/account/avatar/00/11/40/e9/29dfa621.jpg","nickname":"å°ç°","note":"","ucode":"1AB4E3AEDEE7FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":622420,"discussion_content":"[æ–‡ä»¶ä¸‹è½½åœ°å€](https://github.com/openai/openai-cookbook/blob/main/examples/data/fine_food_reviews_with_embeddings_1k.csv)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1688266202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375540,"user_name":"Geek_fdab00","can_delete":false,"product_type":"c1","uid":3599686,"ip_address":"å¤©æ´¥","ucode":"1F399A60E00158","user_header":"","comment_is_top":false,"comment_ctime":1685606536,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":10,"product_id":100541001,"comment_content":"import pandas as pd\nimport numpy as np\n\nfrom sklearn.metrics import classification_report\n\ndatafile_path = &quot;data&#47;fine_food_reviews_with_embeddings_1k.csv&quot;\n\ndf = pd.read_csv(datafile_path)\ndf[&quot;embedding&quot;] = df.embedding.apply(eval).apply(np.array)\n\n# convert 5-star rating to binary sentiment\ndf = df[df.Score != 3]\ndf[&quot;sentiment&quot;] = df.Score.replace({1: &quot;negative&quot;, 2: &quot;negative&quot;, 4: &quot;positive&quot;, 5: &quot;positive&quot;})            è¿™æ®µä»£ç æ‰¾ä¸åˆ°æ•°æ®æ–‡ä»¶ â€œfine_food_reviews_with_emddings_1k.csvâ€","like_count":0,"discussions":[{"author":{"id":1130729,"avatar":"https://static001.geekbang.org/account/avatar/00/11/40/e9/29dfa621.jpg","nickname":"å°ç°","note":"","ucode":"1AB4E3AEDEE7FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":622421,"discussion_content":"[æ–‡ä»¶ä¸‹è½½åœ°å€](https://github.com/openai/openai-cookbook/blob/main/examples/data/fine_food_reviews_with_embeddings_1k.csv)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1688266226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375538,"user_name":"Geek_fdab00","can_delete":false,"product_type":"c1","uid":3599686,"ip_address":"å¤©æ´¥","ucode":"1F399A60E00158","user_header":"","comment_is_top":false,"comment_ctime":1685606387,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100541001,"comment_content":"import pandas as pd\nimport numpy as np\n\nfrom sklearn.metrics import classification_report\n\ndatafile_path = &quot;data&#47;fine_food_reviews_with_embeddings_1k.csv&quot;\n\ndf = pd.read_csv(datafile_path)\ndf[&quot;embedding&quot;] = df.embedding.apply(eval).apply(np.array)\n  \n# convert 5-star rating to binary sentiment\ndf = df[df.Score != 3]\ndf[&quot;sentiment&quot;] = df.Score.replace({1: &quot;negative&quot;, 2: &quot;negative&quot;, 4: &quot;positive&quot;, 5: &quot;positive&quot;})","like_count":0},{"had_liked":false,"id":375537,"user_name":"Geek_fdab00","can_delete":false,"product_type":"c1","uid":3599686,"ip_address":"å¤©æ´¥","ucode":"1F399A60E00158","user_header":"","comment_is_top":false,"comment_ctime":1685606030,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":10,"product_id":100541001,"comment_content":"FileNotFoundError                         Traceback (most recent call last)\n&lt;ipython-input-19-abb072f7d536&gt; in &lt;cell line: 8&gt;()\n      6 datafile_path = &quot;data&#47;fine_food_reviews_with_embeddings_1k.csv&quot;\n      7 \n----&gt; 8 df = pd.read_csv(datafile_path)\n      9 df[&quot;embedding&quot;] = df.embedding.apply(eval).apply(np.array)\n     10 \n\n6 frames\n&#47;usr&#47;local&#47;lib&#47;python3.10&#47;dist-packages&#47;pandas&#47;io&#47;common.py in get_handle(path_or_buf, mode, encoding, compression, memory_map, is_text, errors, storage_options)\n    854         if ioargs.encoding and &quot;b&quot; not in ioargs.mode:\n    855             # Encoding\n--&gt; 856             handle = open(\n    857                 handle,\n    858                 ioargs.mode, è€å¸ˆæŠ¥äº†é”™è¯¯ï¼Œéº»çƒ¦æŒ‡å¯¼ä¸€ä¸‹ï¼Œå“ªé‡Œé”™äº†ï¼Œéœ€è¦ä¿®æ”¹ä¸€ä¸‹","like_count":0,"discussions":[{"author":{"id":1130729,"avatar":"https://static001.geekbang.org/account/avatar/00/11/40/e9/29dfa621.jpg","nickname":"å°ç°","note":"","ucode":"1AB4E3AEDEE7FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":622422,"discussion_content":"[æ–‡ä»¶ä¸‹è½½åœ°å€](https://github.com/openai/openai-cookbook/blob/main/examples/data/fine_food_reviews_with_embeddings_1k.csv)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1688266237,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375486,"user_name":"çŒ«å¤´é¹°çˆ±æ‹¿é“","can_delete":false,"product_type":"c1","uid":1105958,"ip_address":"ä¸­å›½é¦™æ¸¯","ucode":"24266B58968428","user_header":"https://static001.geekbang.org/account/avatar/00/10/e0/26/4942a09e.jpg","comment_is_top":false,"comment_ctime":1685529501,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100541001,"comment_content":"é—®ä¸€ä¸ªå°ç™½çš„é—®é¢˜ï¼Œæˆ‘æ²¡æœ‰ç”¨è¿‡pythonï¼Œåœ¨è·‘ç¬¬äºŒæ®µä»£ç çš„æ—¶å€™å‡ºç°äº†NameError: name &#39;EMBEDDING_MODEL&#39; is not definedï¼Œè¿™ä¸ªé—®é¢˜æˆ‘åº”è¯¥å¦‚ä½•è§£å†³ï¼Ÿæ˜¯éœ€è¦åœ¨æ›¿æ¢ä¸€ä¸ªæ¨¡å‹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":375139,"user_name":"firefox","can_delete":false,"product_type":"c1","uid":3631175,"ip_address":"åŒ—äº¬","ucode":"5818A9BDEA2950","user_header":"https://static001.geekbang.org/account/avatar/00/37/68/47/7a239689.jpg","comment_is_top":false,"comment_ctime":1684977345,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100541001,"comment_content":"å¯¹py ä¸æ˜¯å¾ˆç†Ÿæ‚‰ã€‚èƒ½å¸®å¿™çœ‹çœ‹ä¸ºä»€ä¹ˆæç¤º not found ã€‚matplotlib å·²ç»å®‰è£…äº†\n\n---------------------------------------------------------------------------\nModuleNotFoundError                       Traceback (most recent call last)\nCell In[1], line 3\n      1 import openai\n      2 import os\n----&gt; 3 from openai.embeddings_utils import cosine_similarity, get_embedding\n      5 # è·å–è®¿é—®open aiçš„å¯†é’¥\n      6 openai.api_key = os.getenv(&quot;OPENAI_API_KEY&quot;)\n\nFile ~&#47;opt&#47;miniconda3&#47;envs&#47;py310&#47;lib&#47;python3.10&#47;site-packages&#47;openai&#47;embeddings_utils.py:4\n      1 import textwrap as tr\n      2 from typing import List, Optional\n----&gt; 4 import matplotlib.pyplot as plt\n      5 import numpy as np\n      6 import pandas as pd\n\nModuleNotFoundError: No module named &#39;matplotlib&#39;","like_count":0},{"had_liked":false,"id":375048,"user_name":"èœå¤´","can_delete":false,"product_type":"c1","uid":1456964,"ip_address":"ä¸Šæµ·","ucode":"C5E95519F9EA21","user_header":"https://static001.geekbang.org/account/avatar/00/16/3b/44/dd534c9b.jpg","comment_is_top":false,"comment_ctime":1684837098,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100541001,"comment_content":"è€å¸ˆä½ å¥½ï¼Œåœ¨ mac ä¸‹ vscode ä¸­ debug source.py çš„æ—¶å€™ï¼Œ`2-class Precision-Recall curve`\nè¿™ä¸ªæ›²çº¿å›¾å¹¶æ²¡æœ‰å±•ç¤ºå‡ºæ¥ï¼Œè€Œæ˜¯ä¸€é—ªè€Œé€€ã€‚\nï¼ˆæˆ‘æ²¡æœ‰ Scikit-learn ç­‰åº“çš„çŸ¥è¯†åŸºç¡€ï¼Œå°ç™½ä¸€ä¸ªï¼‰","like_count":0},{"had_liked":false,"id":371140,"user_name":"çŸ¥è¡Œåˆä¸€","can_delete":false,"product_type":"c1","uid":1521486,"ip_address":"åŒ—äº¬","ucode":"2B8E634FC4CFB7","user_header":"https://static001.geekbang.org/account/avatar/00/17/37/4e/5c3153b2.jpg","comment_is_top":false,"comment_ctime":1679571456,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":10,"product_id":100541001,"comment_content":"ä¸»ç¼–èƒ½å¤šæ”¾å‡ è®²å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":371135,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"ä¸­å›½é¦™æ¸¯","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1679566600,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":11,"product_id":100541001,"comment_content":"åŠæ—¶é›¨ã€‚ ä¸€è¾¹è‡ªå·±æ‘¸ç´¢ä¸€è¾¹çœ‹è¯¾ç¨‹ã€‚ç›®å‰è¿˜æ¯”è¾ƒåŸºç¡€ï¼Œä¸çŸ¥é“è¦è¿‡åº¦å¤šä¹…ï¼Œå¸Œæœ›æ›´æ–°åŠ æ€¥ã€‚","like_count":0},{"had_liked":false,"id":371077,"user_name":"fireshort","can_delete":false,"product_type":"c1","uid":1008312,"ip_address":"å¹¿ä¸œ","ucode":"10550CA9C6C730","user_header":"https://static001.geekbang.org/account/avatar/00/0f/62/b8/0e1b655e.jpg","comment_is_top":false,"comment_ctime":1679533572,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":11,"product_id":100541001,"comment_content":"æ›´æ–°æœ‰ç‚¹æ…¢ï¼Œå¸Œæœ›èƒ½å¿«ä¸€ç‚¹ã€‚","like_count":0},{"had_liked":false,"id":371058,"user_name":"æ²§æµ·ä¸€å¿ƒ","can_delete":false,"product_type":"c1","uid":1283999,"ip_address":"æµ™æ±Ÿ","ucode":"D455E46FE7D6E0","user_header":"https://static001.geekbang.org/account/avatar/00/13/97/9f/cc0d515f.jpg","comment_is_top":false,"comment_ctime":1679492710,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":11,"product_id":100541001,"comment_content":"å¿«ç‚¹æ›´æ–°å•Šï¼Œè€å¸ˆ","like_count":0},{"had_liked":false,"id":371038,"user_name":"Geek_ccdd68","can_delete":false,"product_type":"c1","uid":3572092,"ip_address":"åŒ—äº¬","ucode":"3F8EB93697A8B9","user_header":"","comment_is_top":false,"comment_ctime":1679476310,"is_pvip":false,"replies":null,"discussion_count":3,"race_medal":0,"score":11,"product_id":100541001,"comment_content":"è¿™ä¸€è®²çš„ä¸œè¥¿è·Ÿaigcæ²¡æœ‰ä»»ä½•å…³è”ï¼Œå±äºåŸºç¡€å…¥é—¨é¡¹ç›®äº†ï¼Œä»·å€¼ä¸å¤§","like_count":0,"discussions":[{"author":{"id":1045888,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f5/80/baddf03b.jpg","nickname":"zhihai.tu","note":"","ucode":"61371EA3EF6988","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610767,"discussion_content":"æ¯ä¸ªäººçš„åŸºç¡€ä¸ä¸€æ ·ï¼Œè¯·ç…§é¡¾ä¸‹å…¶ä»–åŒå­¦ã€‚è€å¸ˆè®²å¾—å¾ˆå¥½ï¼Œä»·å€¼å¾ˆå¤§ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1679745335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1911235,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/29/c3/791d0f5e.jpg","nickname":"æ¸£æ¸£è¾‰","note":"","ucode":"730838D9161579","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611889,"discussion_content":"aigcæ˜¯å•¥ã€‚ä½ æƒ³è¯´çš„æ˜¯ä¸æ˜¯AGIã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1680400250,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ—¥æœ¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2011138,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/b0/02/98f8b0ee.jpg","nickname":"æ–¹åElton","note":"","ucode":"180D03AADB5D2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611587,"discussion_content":"è†œæ‹œå¤§ä½¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680180449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371004,"user_name":"ğŸ˜éŸ©å°‘å¸…ğŸ˜„","can_delete":false,"product_type":"c1","uid":1275844,"ip_address":"æµ™æ±Ÿ","ucode":"92D76DA3B57E24","user_header":"https://static001.geekbang.org/account/avatar/00/13/77/c4/6c3bbe8a.jpg","comment_is_top":false,"comment_ctime":1679455782,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":11,"product_id":100541001,"comment_content":"æ€»å…± 27 è®²ï¼Œæ¯å‘¨3 è®²ï¼Œ9 å‘¨è®²å®Œï¼Œæ€»å…±è¦ä¸¤ä¸ªæœˆæ‰èƒ½ç»“æŸå—ï¼Ÿ","like_count":0}]}
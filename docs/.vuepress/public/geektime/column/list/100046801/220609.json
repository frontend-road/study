{"id":220609,"title":"18 | åˆ†å¸ƒå¼å­˜å‚¨ï¼šä½ çŸ¥é“å¯¹è±¡å­˜å‚¨æ˜¯å¦‚ä½•ä¿å­˜å›¾ç‰‡æ–‡ä»¶çš„å—ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æç¥ã€‚</p><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œä¿å­˜åƒå›¾ç‰‡ã€éŸ³è§†é¢‘è¿™ç±»å¤§æ–‡ä»¶ï¼Œæœ€ä½³çš„é€‰æ‹©å°±æ˜¯å¯¹è±¡å­˜å‚¨ã€‚å¯¹è±¡å­˜å‚¨ä¸ä»…æœ‰å¾ˆå¥½çš„å¤§æ–‡ä»¶è¯»å†™æ€§èƒ½ï¼Œè¿˜å¯ä»¥é€šè¿‡æ°´å¹³æ‰©å±•å®ç°è¿‘ä¹æ— é™çš„å®¹é‡ï¼Œå¹¶ä¸”å¯ä»¥å…¼é¡¾æœåŠ¡é«˜å¯ç”¨ã€æ•°æ®é«˜å¯é è¿™äº›ç‰¹æ€§ã€‚</p><p>å¯¹è±¡å­˜å‚¨ä¹‹æ‰€ä»¥èƒ½åšåˆ°è¿™ä¹ˆâ€œå…¨èƒ½â€ï¼Œæœ€ä¸»è¦çš„åŸå› æ˜¯ï¼Œ<strong>å¯¹è±¡å­˜å‚¨æ˜¯åŸç”Ÿçš„åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿ</strong>ã€‚è¿™é‡Œæˆ‘ä»¬è®²çš„â€œåŸç”Ÿåˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿâ€ï¼Œæ˜¯ç›¸å¯¹äºMySQLã€Redisè¿™ç±»å•æœºå­˜å‚¨ç³»ç»Ÿæ¥è¯´çš„ã€‚è™½ç„¶è¿™äº›éåŸç”Ÿçš„å­˜å‚¨ç³»ç»Ÿï¼Œä¹Ÿå…·å¤‡ä¸€å®šçš„é›†ç¾¤èƒ½åŠ›ï¼Œä½†ä½ ä¹Ÿèƒ½æ„Ÿå—åˆ°ï¼Œç”¨å®ƒä»¬æ„å»ºå¤§è§„æ¨¡åˆ†å¸ƒå¼é›†ç¾¤çš„æ—¶å€™ï¼Œå…¶å®æ˜¯éå¸¸ä¸å®¹æ˜“çš„ã€‚</p><p>éšç€äº‘è®¡ç®—çš„æ™®åŠï¼Œå¾ˆå¤šæ–°ç”Ÿä»£çš„å­˜å‚¨ç³»ç»Ÿï¼Œéƒ½æ˜¯åŸç”Ÿçš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå®ƒä»¬ä¸€å¼€å§‹è®¾è®¡çš„ç›®æ ‡ä¹‹ä¸€å°±æ˜¯åˆ†å¸ƒå¼å­˜å‚¨é›†ç¾¤ï¼Œæ¯”å¦‚è¯´<a href=\"https://www.elastic.co/cn/\">Elasticsearch</a>ã€<a href=\"http://about:blank\">Ceph</a>å’Œå›½å†…å¾ˆå¤šå¤§å‚æ¨å‡ºçš„æ–°ä¸€ä»£æ•°æ®åº“ï¼Œå¤§å¤šéƒ½å¯ä»¥åšåˆ°ï¼š</p><ul>\n<li>è¿‘ä¹æ— é™çš„å­˜å‚¨å®¹é‡ï¼›</li>\n<li>è¶…é«˜çš„è¯»å†™æ€§èƒ½ï¼›</li>\n<li>æ•°æ®é«˜å¯é ï¼šèŠ‚ç‚¹ç£ç›˜æŸæ¯ä¸ä¼šä¸¢æ•°æ®ï¼›</li>\n<li>å®ç°æœåŠ¡é«˜å¯ç”¨ï¼šèŠ‚ç‚¹å®•æœºä¸ä¼šå½±å“é›†ç¾¤å¯¹å¤–æä¾›æœåŠ¡ã€‚</li>\n</ul><p>é‚£è¿™äº›åŸç”Ÿåˆ†å¸ƒå¼å­˜å‚¨æ˜¯å¦‚ä½•å®ç°è¿™äº›ç‰¹æ€§çš„å‘¢ï¼Ÿ</p><p>å®é™…ä¸Šä¸ç”¨æˆ‘è¯´ï¼Œä½ ä¹Ÿèƒ½çŒœå¾—åˆ°ï¼Œè¿™é‡Œé¢åŒæ ·å­˜åœ¨ä¸¥é‡çš„â€œäº’ç›¸æŠ„ä½œä¸šâ€çš„æƒ…å†µã€‚è¿™ä¸ªä¹Ÿå¯ä»¥ç†è§£ï¼Œé™¤äº†å­˜å‚¨çš„æ•°æ®ç»“æ„ä¸ä¸€æ ·ï¼Œæä¾›çš„æŸ¥è¯¢æœåŠ¡ä¸ä¸€æ ·ä»¥å¤–ï¼Œè¿™äº›åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼Œå®ƒä»¬é¢ä¸´çš„å¾ˆå¤šé—®é¢˜éƒ½æ˜¯ä¸€æ ·çš„ï¼Œé‚£å®ç°æ–¹æ³•å·®ä¸å¤šä¹Ÿæ˜¯å¯ä»¥ç†è§£ã€‚</p><!-- [[[read_end]]] --><p>å¯¹è±¡å­˜å‚¨å®ƒçš„æŸ¥è¯¢æœåŠ¡å’Œæ•°æ®ç»“æ„éƒ½éå¸¸ç®€å•ï¼Œæ˜¯æœ€ç®€å•çš„åŸç”Ÿåˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿã€‚è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬å°±æ¥ä¸€èµ·æ¥ç ”ç©¶ä¸€ä¸‹å¯¹è±¡å­˜å‚¨è¿™ç§æœ€ç®€å•çš„åŸç”Ÿåˆ†å¸ƒå¼å­˜å‚¨ï¼Œé€šè¿‡å¯¹è±¡å­˜å‚¨æ¥è®¤è¯†ä¸€ä¸‹åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿçš„ä¸€äº›å…±æ€§ã€‚æŒæ¡äº†è¿™äº›å…±æ€§ä¹‹åï¼Œä½ å†å»è®¤è¯†å’Œå­¦ä¹ å…¶ä»–çš„åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼Œä¹Ÿä¼šæ„Ÿè§‰ç‰¹åˆ«å®¹æ˜“ã€‚</p><h2>å¯¹è±¡å­˜å‚¨æ•°æ®æ˜¯å¦‚ä½•ä¿å­˜å¤§æ–‡ä»¶çš„ï¼Ÿ</h2><p>å¯¹è±¡å­˜å‚¨å¯¹å¤–æä¾›çš„æœåŠ¡ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªè¿‘ä¹æ— é™å®¹é‡çš„å¤§æ–‡ä»¶KVå­˜å‚¨ï¼Œæ‰€ä»¥å¯¹è±¡å­˜å‚¨å’Œåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¹‹é—´ï¼Œæ²¡æœ‰é‚£ä¹ˆæ˜ç¡®çš„ç•Œé™ã€‚å¯¹è±¡å­˜å‚¨çš„å†…éƒ¨ï¼Œè‚¯å®šæœ‰å¾ˆå¤šçš„å­˜å‚¨èŠ‚ç‚¹ï¼Œç”¨äºä¿å­˜è¿™äº›å¤§æ–‡ä»¶ï¼Œè¿™ä¸ªå°±æ˜¯æ•°æ®èŠ‚ç‚¹çš„é›†ç¾¤ã€‚</p><p>å¦å¤–ï¼Œæˆ‘ä»¬ä¸ºäº†ç®¡ç†è¿™äº›æ•°æ®èŠ‚ç‚¹å’ŒèŠ‚ç‚¹ä¸­çš„æ–‡ä»¶ï¼Œè¿˜éœ€è¦ä¸€ä¸ªå­˜å‚¨ç³»ç»Ÿä¿å­˜é›†ç¾¤çš„èŠ‚ç‚¹ä¿¡æ¯ã€æ–‡ä»¶ä¿¡æ¯å’Œå®ƒä»¬çš„æ˜ å°„å…³ç³»ã€‚è¿™äº›ä¸ºäº†ç®¡ç†é›†ç¾¤è€Œå­˜å‚¨çš„æ•°æ®ï¼Œå«åšå…ƒæ•°æ®(Metadata)ã€‚</p><p>å…ƒæ•°æ®å¯¹äºä¸€ä¸ªå­˜å‚¨é›†ç¾¤æ¥è¯´æ˜¯éå¸¸é‡è¦çš„ï¼Œæ‰€ä»¥ä¿å­˜å…ƒæ•°æ®çš„å­˜å‚¨ç³»ç»Ÿå¿…é¡»ä¹Ÿæ˜¯ä¸€ä¸ªé›†ç¾¤ã€‚ä½†æ˜¯å…ƒæ•°æ®é›†ç¾¤å­˜å‚¨çš„æ•°æ®é‡æ¯”è¾ƒå°‘ï¼Œæ•°æ®çš„å˜åŠ¨ä¸æ˜¯å¾ˆé¢‘ç¹ï¼ŒåŠ ä¹‹å®¢æˆ·ç«¯æˆ–è€…ç½‘å…³éƒ½ä¼šç¼“å­˜ä¸€éƒ¨åˆ†å…ƒæ•°æ®ï¼Œæ‰€ä»¥å…ƒæ•°æ®é›†ç¾¤å¯¹å¹¶å‘è¦æ±‚ä¹Ÿä¸é«˜ã€‚ä¸€èˆ¬ä½¿ç”¨ç±»ä¼¼<a href=\"https://zookeeper.apache.org/\">ZooKeeper</a>æˆ–è€…<a href=\"https://github.com/etcd-io/etcd\">etcd</a>è¿™ç±»åˆ†å¸ƒå¼å­˜å‚¨å°±å¯ä»¥æ»¡è¶³è¦æ±‚ã€‚</p><p>å¦å¤–ï¼Œå­˜å‚¨é›†ç¾¤ä¸ºäº†å¯¹å¤–æä¾›è®¿é—®æœåŠ¡ï¼Œè¿˜éœ€è¦ä¸€ä¸ªç½‘å…³é›†ç¾¤ï¼Œå¯¹å¤–æ¥æ”¶å¤–éƒ¨è¯·æ±‚ï¼Œå¯¹å†…è®¿é—®å…ƒæ•°æ®å’Œæ•°æ®èŠ‚ç‚¹ã€‚ç½‘å…³é›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ä¸éœ€è¦ä¿å­˜ä»»ä½•æ•°æ®ï¼Œéƒ½æ˜¯æ— çŠ¶æ€çš„èŠ‚ç‚¹ã€‚æœ‰äº›å¯¹è±¡å­˜å‚¨æ²¡æœ‰ç½‘å…³ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯å®¢æˆ·ç«¯ï¼Œå®ƒä»¬çš„åŠŸèƒ½å’Œä½œç”¨éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/92/0b/925a6309372b30f660c9b8bc198f860b.jpg?wh=805*614\" alt=\"\"></p><p>é‚£ä¹ˆï¼Œå¯¹è±¡å­˜å‚¨æ˜¯å¦‚ä½•æ¥å¤„ç†å¯¹è±¡è¯»å†™è¯·æ±‚çš„å‘¢ï¼Ÿè¿™é‡Œé¢å¤„ç†è¯»å’Œå†™è¯·æ±‚çš„æµç¨‹æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥è¯´ã€‚ç½‘å…³æ”¶åˆ°å¯¹è±¡è¯»å†™è¯·æ±‚åï¼Œé¦–å…ˆæ‹¿ç€è¯·æ±‚ä¸­çš„Keyï¼Œå»å…ƒæ•°æ®é›†ç¾¤æŸ¥æ‰¾è¿™ä¸ªKeyåœ¨å“ªä¸ªæ•°æ®èŠ‚ç‚¹ä¸Šï¼Œç„¶åå†å»è®¿é—®å¯¹åº”çš„æ•°æ®èŠ‚ç‚¹è¯»å†™æ•°æ®ï¼Œæœ€åæŠŠç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p><p>ä»¥ä¸Šæ˜¯ä¸€ä¸ªæ¯”è¾ƒç²—ç•¥çš„å¤§è‡´æµç¨‹ï¼Œå®é™…ä¸Šè¿™é‡Œé¢åŒ…å«å¾ˆå¤šçš„ç»†èŠ‚ï¼Œæˆ‘ä»¬æš‚æ—¶æ²¡æœ‰å±•å¼€è®²ã€‚ç›®çš„æ˜¯è®©ä½ åœ¨æ•´ä½“ä¸Šå¯¹å¯¹è±¡å­˜å‚¨ï¼Œä»¥è‡³äºåˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼Œæœ‰ä¸€ä¸ªæ¸…æ™°çš„è®¤çŸ¥ã€‚</p><p>ä¸Šé¢è¿™å¼ å›¾ï¼Œè™½ç„¶æˆ‘ç”»çš„æ˜¯å¯¹è±¡å­˜å‚¨é›†ç¾¤çš„ç»“æ„ï¼Œä½†æ˜¯æŠŠå›¾ä¸Šçš„åè¯æ”¹ä¸€æ”¹ï¼Œå®Œå…¨å¯ä»¥å¥—ç”¨åˆ°ç»å¤§å¤šæ•°åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿå’Œæ•°æ®åº“ä¸Šå»ï¼Œæ¯”å¦‚è¯´HDFSã€‚</p><h2>å¯¹è±¡æ˜¯å¦‚ä½•æ‹†åˆ†å’Œä¿å­˜çš„ï¼Ÿ</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬è¯´ä¸€ä¸‹å¯¹è±¡å­˜å‚¨åˆ°åº•æ˜¯å¦‚ä½•æ¥ä¿å­˜å¤§æ–‡ä»¶å¯¹è±¡çš„ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹è±¡å­˜å‚¨ä¸­ä¿å­˜çš„æ–‡ä»¶éƒ½æ˜¯å›¾ç‰‡ã€è§†é¢‘è¿™ç±»å¤§æ–‡ä»¶ã€‚åœ¨å¯¹è±¡å­˜å‚¨ä¸­ï¼Œæ¯ä¸€ä¸ªå¤§æ–‡ä»¶éƒ½ä¼šè¢«æ‹†æˆå¤šä¸ªå¤§å°ç›¸ç­‰çš„<strong>å—å„¿ï¼ˆBlockï¼‰</strong>ï¼Œæ‹†åˆ†çš„æ–¹æ³•å¾ˆç®€å•ï¼Œå°±æ˜¯æŠŠæ–‡ä»¶ä»å¤´åˆ°å°¾æŒ‰ç…§å›ºå®šçš„å—å„¿å¤§å°ï¼Œåˆ‡æˆä¸€å—å„¿ä¸€å—å„¿ï¼Œæœ€åä¸€å—å„¿é•¿åº¦æœ‰å¯èƒ½ä¸è¶³ä¸€ä¸ªå—å„¿çš„å¤§å°ï¼Œä¹ŸæŒ‰ä¸€å—å„¿æ¥å¤„ç†ã€‚å—å„¿çš„å¤§å°ä¸€èˆ¬é…ç½®ä¸ºå‡ åKBåˆ°å‡ ä¸ªMBå·¦å³ã€‚</p><p>æŠŠå¤§å¯¹è±¡æ–‡ä»¶æ‹†åˆ†æˆå—å„¿çš„ç›®çš„æœ‰ä¸¤ä¸ªï¼š</p><ol>\n<li>ç¬¬ä¸€æ˜¯ä¸ºäº†æå‡è¯»å†™æ€§èƒ½ï¼Œè¿™äº›å—å„¿å¯ä»¥åˆ†æ•£åˆ°ä¸åŒçš„æ•°æ®èŠ‚ç‚¹ä¸Šï¼Œè¿™æ ·å°±å¯ä»¥å¹¶è¡Œè¯»å†™ã€‚</li>\n<li>ç¬¬äºŒæ˜¯æŠŠæ–‡ä»¶åˆ†æˆå¤§å°ç›¸ç­‰å—å„¿ï¼Œä¾¿äºç»´æŠ¤ç®¡ç†ã€‚</li>\n</ol><p>å¯¹è±¡è¢«æ‹†æˆå—å„¿ä¹‹åï¼Œè¿˜æ˜¯å¤ªè¿‡äºç¢ç‰‡åŒ–äº†ï¼Œå¦‚æœç›´æ¥ç®¡ç†è¿™äº›å—å„¿ï¼Œä¼šå¯¼è‡´å…ƒæ•°æ®çš„æ•°æ®é‡ä¼šéå¸¸å¤§ï¼Œä¹Ÿæ²¡å¿…è¦ç®¡ç†åˆ°è¿™ä¹ˆç»†çš„ç²’åº¦ã€‚æ‰€ä»¥ä¸€èˆ¬éƒ½ä¼šå†æŠŠå—å„¿èšåˆä¸€ä¸‹ï¼Œæ”¾åˆ°å—å„¿çš„å®¹å™¨é‡Œé¢ã€‚è¿™é‡Œçš„â€œå®¹å™¨â€å°±æ˜¯å­˜æ”¾ä¸€ç»„å—å„¿çš„é€»è¾‘å•å…ƒã€‚å®¹å™¨è¿™ä¸ªåè¯ï¼Œæ²¡æœ‰ç»Ÿä¸€çš„å«æ³•ï¼Œæ¯”å¦‚åœ¨<a href=\"https://ceph.io/\">ceph</a>ä¸­ç§°ä¸ºData Placementï¼Œä½ ç†è§£è¿™ä¸ªå«ä¹‰å°±è¡Œã€‚å®¹å™¨å†…çš„å—å„¿æ•°å¤§å¤šæ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥å®¹å™¨çš„å¤§å°ä¹Ÿæ˜¯å›ºå®šçš„ã€‚</p><p>åˆ°è¿™é‡Œï¼Œè¿™ä¸ªå®¹å™¨çš„æ¦‚å¿µï¼Œå°±æ¯”è¾ƒç±»ä¼¼äºæˆ‘ä»¬ä¹‹å‰è®²MySQLå’ŒRedisæ—¶æåˆ°çš„â€œåˆ†ç‰‡â€çš„æ¦‚å¿µäº†ï¼Œéƒ½æ˜¯å¤åˆ¶ã€è¿ç§»æ•°æ®çš„åŸºæœ¬å•ä½ã€‚æ¯ä¸ªå®¹å™¨éƒ½ä¼šæœ‰Nä¸ªå‰¯æœ¬ï¼Œè¿™äº›å‰¯æœ¬çš„æ•°æ®éƒ½æ˜¯ä¸€æ ·çš„ã€‚å…¶ä¸­æœ‰ä¸€ä¸ªä¸»å‰¯æœ¬ï¼Œå…¶ä»–æ˜¯ä»å‰¯æœ¬ï¼Œä¸»å‰¯æœ¬è´Ÿè´£æ•°æ®è¯»å†™ï¼Œä»å‰¯æœ¬å»åˆ°ä¸»å‰¯æœ¬ä¸Šå»å¤åˆ¶æ•°æ®ï¼Œä¿è¯ä¸»ä»æ•°æ®ä¸€è‡´ã€‚</p><p>è¿™é‡Œé¢æœ‰ä¸€ç‚¹å„¿å’Œæˆ‘ä»¬ä¹‹å‰è®²çš„ä¸ä¸€æ ·çš„æ˜¯ï¼Œå¯¹è±¡å­˜å‚¨ä¸€èˆ¬éƒ½ä¸è®°å½•ç±»ä¼¼MySQLçš„Binlogè¿™æ ·çš„æ—¥å¿—ã€‚ä¸»ä»å¤åˆ¶çš„æ—¶å€™ï¼Œå¤åˆ¶çš„ä¸æ˜¯æ—¥å¿—ï¼Œè€Œæ˜¯æ•´å—å„¿çš„æ•°æ®ã€‚è¿™ä¹ˆåšæœ‰ä¸¤ä¸ªåŸå› ï¼š</p><ol>\n<li>ç¬¬ä¸€ä¸ªåŸå› æ˜¯åŸºäºæ€§èƒ½çš„è€ƒè™‘ã€‚æˆ‘ä»¬çŸ¥é“æ“ä½œæ—¥å¿—é‡Œé¢ï¼Œå®é™…ä¸Šå°±åŒ…å«ç€æ•°æ®ã€‚åœ¨æ›´æ–°æ•°æ®çš„æ—¶å€™ï¼Œå…ˆè®°å½•æ“ä½œæ—¥å¿—ï¼Œå†æ›´æ–°å­˜å‚¨å¼•æ“ä¸­çš„æ•°æ®ï¼Œç›¸å½“äºåœ¨ç£ç›˜ä¸Šä¸²è¡Œå†™äº†2æ¬¡æ•°æ®ã€‚å¯¹äºåƒæ•°æ®åº“è¿™ç§ï¼Œæ¯æ¬¡æ›´æ–°çš„æ•°æ®éƒ½å¾ˆå°‘çš„å­˜å‚¨ç³»ç»Ÿï¼Œè¿™ä¸ªå¼€é”€æ˜¯å¯ä»¥æ¥å—çš„ã€‚ä½†æ˜¯å¯¹äºå¯¹è±¡å­˜å‚¨æ¥è¯´ï¼Œå®ƒæ¯æ¬¡å†™å…¥çš„å—å„¿å¾ˆå¤§ï¼Œä¸¤æ¬¡ç£ç›˜IOçš„å¼€é”€å°±æœ‰äº›ä¸å¤ªå€¼å¾—äº†ã€‚</li>\n<li>ç¬¬äºŒä¸ªåŸå› æ˜¯å®ƒçš„å­˜å‚¨ç»“æ„ç®€å•ï¼Œå³ä½¿æ²¡æœ‰æ—¥å¿—ï¼Œåªè¦æŒ‰ç…§é¡ºåºï¼Œæ•´å—å„¿çš„å¤åˆ¶æ•°æ®ï¼Œä»ç„¶å¯ä»¥ä¿è¯ä¸»ä»å‰¯æœ¬çš„æ•°æ®ä¸€è‡´æ€§ã€‚</li>\n</ol><p>ä»¥ä¸Šæˆ‘ä»¬è¯´çš„å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯æ–‡ä»¶ï¼‰ã€å—å„¿å’Œå®¹å™¨ï¼Œéƒ½æ˜¯é€»è¾‘å±‚é¢çš„æ¦‚å¿µï¼Œæ•°æ®è½å®åˆ°å‰¯æœ¬ä¸Šï¼Œè¿™äº›å‰¯æœ¬å°±æ˜¯çœŸæ­£ç‰©ç†å­˜åœ¨äº†ã€‚è¿™äº›å‰¯æœ¬å†è¢«åˆ†é…åˆ°æ•°æ®èŠ‚ç‚¹ä¸Šä¿å­˜èµ·æ¥ã€‚è¿™é‡Œçš„æ•°æ®èŠ‚ç‚¹å°±æ˜¯è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šçš„æœåŠ¡è¿›ç¨‹ï¼Œè´Ÿè´£åœ¨æœ¬åœ°ç£ç›˜ä¸Šä¿å­˜å‰¯æœ¬çš„æ•°æ®ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/8d/0b/8d6616675ca90df023d1622aa1f2ef0b.jpg?wh=809*846\" alt=\"\"></p><p>äº†è§£äº†å¯¹è±¡æ˜¯å¦‚ä½•è¢«æ‹†åˆ†å¹¶å­˜å‚¨åœ¨æ•°æ®èŠ‚ç‚¹ä¸Šä¹‹åï¼Œæˆ‘ä»¬å†æ¥å›é¡¾ä¸€ä¸‹æ•°æ®è®¿é—®çš„æµç¨‹ã€‚å½“æˆ‘ä»¬è¯·æ±‚ä¸€ä¸ªKeyçš„æ—¶å€™ï¼Œç½‘å…³é¦–å…ˆå»å…ƒæ•°æ®ä¸­æŸ¥æ‰¾è¿™ä¸ªKeyçš„å…ƒæ•°æ®ã€‚ç„¶åæ ¹æ®å…ƒæ•°æ®ä¸­è®°å½•çš„å¯¹è±¡é•¿åº¦ï¼Œè®¡ç®—å‡ºå¯¹è±¡æœ‰å¤šå°‘å—å„¿ã€‚æ¥ä¸‹æ¥çš„è¿‡ç¨‹å°±å¯ä»¥åˆ†å—å„¿å¹¶è¡Œå¤„ç†äº†ã€‚å¯¹äºæ¯ä¸ªå—å„¿ï¼Œè¿˜éœ€è¦å†å»å…ƒæ•°æ®ä¸­ï¼Œæ‰¾åˆ°å®ƒè¢«æ”¾åœ¨å“ªä¸ªå®¹å™¨ä¸­ã€‚</p><p>æˆ‘åˆšåˆšè®²è¿‡ï¼Œå®¹å™¨å°±æ˜¯åˆ†ç‰‡ï¼Œæ€ä¹ˆæŠŠå—å„¿æ˜ å°„åˆ°å®¹å™¨ä¸­ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯æˆ‘ä»¬åœ¨ã€Š<a href=\"https://time.geekbang.org/column/article/217568\">15 | MySQLå­˜å‚¨æµ·é‡æ•°æ®çš„æœ€åä¸€æ‹›ï¼šåˆ†åº“åˆ†è¡¨</a>ã€‹è¿™èŠ‚è¯¾ä¸­è®²åˆ°çš„å‡ ç§åˆ†ç‰‡ç®—æ³•ã€‚ä¸åŒçš„ç³»ç»Ÿé€‰æ‹©å®ç°çš„æ–¹å¼ä¹Ÿä¸ä¸€æ ·ï¼Œæœ‰ç”¨å“ˆå¸Œåˆ†ç‰‡çš„ï¼Œä¹Ÿæœ‰ç”¨æŸ¥è¡¨æ³•æŠŠå¯¹åº”å…³ç³»ä¿å­˜åœ¨å…ƒæ•°æ®ä¸­çš„ã€‚æ‰¾åˆ°å®¹å™¨ä¹‹åï¼Œå†å»å…ƒæ•°æ®ä¸­æŸ¥æ‰¾å®¹å™¨çš„Nä¸ªå‰¯æœ¬éƒ½åˆ†å¸ƒåœ¨å“ªäº›æ•°æ®èŠ‚ç‚¹ä¸Šã€‚ç„¶åï¼Œç½‘å…³ç›´æ¥è®¿é—®å¯¹åº”çš„æ•°æ®èŠ‚ç‚¹è¯»å†™æ•°æ®å°±å¯ä»¥äº†ã€‚</p><h2>å°ç»“</h2><p>å¯¹è±¡å­˜å‚¨æ˜¯æœ€ç®€å•çš„åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼Œä¸»è¦ç”±æ•°æ®èŠ‚ç‚¹é›†ç¾¤ã€å…ƒæ•°æ®é›†ç¾¤å’Œç½‘å…³é›†ç¾¤ï¼ˆæˆ–è€…å®¢æˆ·ç«¯ï¼‰ä¸‰éƒ¨åˆ†æ„æˆã€‚æ•°æ®èŠ‚ç‚¹é›†ç¾¤è´Ÿè´£ä¿å­˜å¯¹è±¡æ•°æ®ï¼Œå…ƒæ•°æ®é›†ç¾¤è´Ÿè´£ä¿å­˜é›†ç¾¤çš„å…ƒæ•°æ®ï¼Œç½‘å…³é›†ç¾¤å’Œå®¢æˆ·ç«¯å¯¹å¤–æä¾›ç®€å•çš„è®¿é—®APIï¼Œå¯¹å†…è®¿é—®å…ƒæ•°æ®å’Œæ•°æ®èŠ‚ç‚¹è¯»å†™æ•°æ®ã€‚</p><p>ä¸ºäº†ä¾¿äºç»´æŠ¤å’Œç®¡ç†ï¼Œå¤§çš„å¯¹è±¡è¢«æ‹†åˆ†ä¸ºè‹¥å¹²å›ºå®šå¤§å°çš„å—å„¿ï¼Œå—å„¿åˆè¢«å°è£…åˆ°å®¹å™¨ï¼ˆä¹Ÿå°±åˆ†ç‰‡ï¼‰ä¸­ï¼Œæ¯ä¸ªå®¹å™¨æœ‰ä¸€ä¸»Nä»å¤šä¸ªå‰¯æœ¬ï¼Œè¿™äº›å‰¯æœ¬å†è¢«åˆ†æ•£åˆ°é›†ç¾¤çš„æ•°æ®èŠ‚ç‚¹ä¸Šä¿å­˜ã€‚</p><p>å¯¹è±¡å­˜å‚¨è™½ç„¶ç®€å•ï¼Œä½†æ˜¯å®ƒå…·å¤‡ä¸€ä¸ªåˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿçš„å…¨éƒ¨ç‰¹å¾ã€‚æ‰€æœ‰åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿå…±é€šçš„ä¸€äº›ç‰¹æ€§ï¼Œå¯¹è±¡å­˜å‚¨ä¹Ÿéƒ½å…·å¤‡ï¼Œæ¯”å¦‚è¯´æ•°æ®å¦‚ä½•åˆ†ç‰‡ï¼Œå¦‚ä½•é€šè¿‡å¤šå‰¯æœ¬ä¿è¯æ•°æ®å¯é æ€§ï¼Œå¦‚ä½•åœ¨å¤šä¸ªå‰¯æœ¬é—´å¤åˆ¶æ•°æ®ï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§ç­‰ç­‰ã€‚</p><p>å¸Œæœ›ä½ é€šè¿‡è¿™èŠ‚è¯¾çš„å­¦ä¹ ï¼Œä¸ä»…æ˜¯å­¦ä¼šå¯¹è±¡å­˜å‚¨ï¼Œè¿˜è¦å¯¹æ¯”åˆ†æä¸€ä¸‹ï¼Œå¯¹è±¡å­˜å‚¨å’Œå…¶ä»–åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼Œæ¯”å¦‚MySQLé›†ç¾¤ã€HDFSã€Elasticsearchç­‰ç­‰è¿™äº›ï¼Œå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆå…±åŒçš„åœ°æ–¹ï¼Œå·®å¼‚åœ¨å“ªå„¿ã€‚æƒ³é€šäº†è¿™äº›é—®é¢˜ï¼Œä½ å¯¹åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿçš„è®¤çŸ¥ï¼Œç»å¯¹ä¼šä¸Šå‡åˆ°ä¸€ä¸ªå…¨æ–°çš„é«˜åº¦ã€‚ç„¶åä½ å†å»çœ‹ä¸€äº›ä¹‹å‰ä¸äº†è§£çš„å­˜å‚¨ç³»ç»Ÿï¼Œå°±éå¸¸ç®€å•äº†ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æˆ‘ä»¬åˆšåˆšè¯´åˆ°è¿‡ï¼Œå¯¹è±¡å­˜å‚¨å¹¶ä¸æ˜¯åŸºäºæ—¥å¿—æ¥è¿›è¡Œä¸»ä»å¤åˆ¶çš„ã€‚å‡è®¾æˆ‘ä»¬çš„å¯¹è±¡å­˜å‚¨æ˜¯ä¸€ä¸»äºŒä»ä¸‰ä¸ªå‰¯æœ¬ï¼Œé‡‡ç”¨åŠåŒæ­¥æ–¹å¼å¤åˆ¶æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ä¸»å‰¯æœ¬å’Œä»»æ„ä¸€ä¸ªä»å‰¯æœ¬æ›´æ–°æˆåŠŸåï¼Œå°±ç»™å®¢æˆ·ç«¯è¿”å›æˆåŠŸå“åº”ã€‚ä¸»å‰¯æœ¬æ‰€åœ¨èŠ‚ç‚¹å®•æœºä¹‹åï¼Œè¿™ä¸¤ä¸ªä»å‰¯æœ¬ä¸­ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªå‰¯æœ¬ä¸Šçš„æ•°æ®æ˜¯å’Œå®•æœºçš„ä¸»å‰¯æœ¬ä¸Šä¸€æ ·çš„ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°è¿™ä¸ªå‰¯æœ¬ä½œä¸ºæ–°çš„ä¸»å‰¯æœ¬ï¼Œæ‰èƒ½ä¿è¯å®•æœºä¸ä¸¢æ•°æ®ã€‚</p><p>ä½†æ˜¯æ²¡æœ‰äº†æ—¥å¿—ï¼Œå¦‚æœè¿™ä¸¤ä¸ªä»å‰¯æœ¬ä¸Šçš„æ•°æ®ä¸ä¸€æ ·ï¼Œæˆ‘ä»¬å¦‚ä½•ç¡®å®šå“ªä¸ªä¸Šé¢çš„æ•°æ®æ˜¯å’Œä¸»å‰¯æœ¬ä¸€æ ·æ–°å‘¢ï¼Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºä¸æˆ‘äº¤æµè®¨è®ºã€‚</p><p>æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—ä»Šå¤©çš„å†…å®¹å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"17 | å¤§å‚éƒ½æ˜¯æ€ä¹ˆåšMySQL to RedisåŒæ­¥çš„?","id":217593},"right":{"article_title":"19 | è·¨ç³»ç»Ÿå®æ—¶åŒæ­¥æ•°æ®ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡æ˜¯å”¯ä¸€çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ","id":221567}},"comments":[{"had_liked":false,"id":203565,"user_name":"æç¥","can_delete":false,"product_type":"c1","uid":1501046,"ip_address":"","ucode":"B19E91EE248591","user_header":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","comment_is_top":true,"comment_ctime":1586233809,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"9.2233721715849994e+18","product_id":100046801,"comment_content":"Hiï¼Œæˆ‘æ˜¯æç¥ã€‚<br><br>è¿™é‡Œå›é¡¾ä¸€ä¸‹ä¸ŠèŠ‚è¯¾çš„æ€è€ƒé¢˜ï¼š<br><br>å¦‚æœå‡ºç°ç¼“å­˜ä¸åŒæ­¥çš„æƒ…å†µï¼Œåœ¨ä½ è´Ÿè´£çš„ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œè¯¥å¦‚ä½•é™çº§æˆ–è€…è¡¥å¿ï¼Ÿ<br><br>è¿™ä¸ªé—®é¢˜æˆ‘çœ‹åˆ°ç•™è¨€åŒºæœ‰ä¸€äº›åŒå­¦ç»™å‡ºäº†éå¸¸å¥½çš„ç­”æ¡ˆï¼Œæ¯”å¦‚è¯´ï¼Œè®¾ç½®ä¸€ä¸ªåˆç†çš„ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼Œè¿™æ ·å³ä½¿å‡ºç°ç¼“å­˜ä¸åŒæ­¥ï¼Œç­‰ç¼“å­˜è¿‡æœŸåå°±ä¼šè‡ªåŠ¨æ¢å¤ã€‚å†æ¯”å¦‚ï¼Œè¯†åˆ«ç”¨æˆ·æ‰‹åŠ¨åˆ·æ–°æ“ä½œï¼Œå¼ºåˆ¶é‡æ–°åŠ è½½ç¼“å­˜æ•°æ®ï¼ˆä½†è¦æ³¨æ„é˜²æ­¢å¤§é‡ç¼“å­˜ç©¿é€ï¼‰ã€‚è¿˜å¯ä»¥åœ¨ç®¡ç†å‘˜çš„åå°ç³»ç»Ÿä¸­ï¼Œé¢„ç•™ä¸€ä¸ªæ‰‹åŠ¨æ¸…é™¤ç¼“å­˜çš„åŠŸèƒ½ï¼Œå¿…è¦çš„æ—¶å€™äººå·¥å¹²é¢„ã€‚","like_count":32,"discussions":[{"author":{"id":2040309,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epq2AfJ26y9tHb6z7kyRyF9MoBgAJf3ia6Fu8GMpZjNY8sfyaAiaYjZ1HxaibDw0ErUS8goFuOuuHTpw/132","nickname":"å¤§ç°ç¾Šå›","note":"","ucode":"49C91668AFB2CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291287,"discussion_content":"å¯¹äºå¼ºåˆ¶åˆ·æ–°ç¼“å­˜çš„æ–¹æ³•ï¼Œå¦‚æœæ˜¯mysqlåˆ°canalåˆ°redisé“¾è·¯å‘ç”Ÿäº†æ—¶å»¶ï¼Œå¯¼è‡´äº†å‡ ä¸ªä¿®æ”¹å †ç§¯ï¼Œåˆ·æ–°ç¼“å­˜ååˆ·æ–°ä¸ºæœ€æ–°ï¼Œä½†æ˜¯åæ¥æ”¶åˆ°äº†å †ç§¯ä¿®æ”¹ï¼Œåˆä¼šæŠŠredisæ”¹å›ä¸€æ®µæ—¶é—´ä¹‹å‰çš„çŠ¶æ€ã€‚åº”è¯¥æ‹…å¿ƒè¿™ç§æƒ…å†µå—ï¼Ÿ","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1594773344,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1481979,"avatar":"https://static001.geekbang.org/account/avatar/00/16/9c/fb/7fe6df5b.jpg","nickname":"é™ˆå§è™«","note":"","ucode":"44BB84712436AB","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":2040309,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epq2AfJ26y9tHb6z7kyRyF9MoBgAJf3ia6Fu8GMpZjNY8sfyaAiaYjZ1HxaibDw0ErUS8goFuOuuHTpw/132","nickname":"å¤§ç°ç¾Šå›","note":"","ucode":"49C91668AFB2CA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590603,"discussion_content":"è¿™ä¸ªå°±æ˜¯ABAé—®é¢˜ï¼Œå¯ä»¥é€šè¿‡åœ¨æ•°æ®ä¸­å¢åŠ versionå­—æ®µï¼Œæ¯æ¬¡æ›´æ–°æ—¶åˆ¤æ–­versionæ˜¯å¦å¤§äºredisä¸­æ•°æ®çš„version","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665913901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":291287,"ip_address":"æµ™æ±Ÿ"},"score":590603,"extra":""}]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366476,"discussion_content":"å…¨é‡ç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œç¼“å­˜è¿‡æœŸ/æ‰‹åŠ¨æ¸…é™¤ç¼“å­˜å¦‚ä½•åŠ è½½æ•°æ®åº“çš„æ•°æ®è‡³ç¼“å­˜å‘¢ï¼Ÿ\nè®¾ç½®ä¸€ä¸ªå®šæ—¶ä»»åŠ¡å˜›ï¼Ÿè¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1618069166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366480,"discussion_content":"è¿™äº›è§£å†³æ–¹æ¡ˆæ„Ÿè§‰æ›´åå‘äºCache Asideç­–ç•¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618069227,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1126938,"avatar":"https://static001.geekbang.org/account/avatar/00/11/32/1a/78fce652.jpg","nickname":"é“è¡€éª‘å£«","note":"","ucode":"490EC62B9ADABF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":294242,"discussion_content":"æˆ‘è§‰å¾—é«˜å¹¶å‘ä¸‹æ˜¯æœ‰è¿™ç§æƒ…å†µå‘ç”Ÿçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595837643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205040,"user_name":"L","can_delete":false,"product_type":"c1","uid":1310518,"ip_address":"","ucode":"C18B98D3DC3387","user_header":"https://static001.geekbang.org/account/avatar/00/13/ff/36/83281758.jpg","comment_is_top":false,"comment_ctime":1586513652,"is_pvip":false,"replies":[{"id":"77036","content":"å»ºè®®ä½ ä½¿ç”¨å…¬æœ‰äº‘çš„å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œå°è§„æ¨¡çš„å…¬å¸è‡ªå»ºå¯¹è±¡å­˜å‚¨ç»´æŠ¤æˆæœ¬å¤ªé«˜ï¼Œä¸æ˜¯å¤ªåˆ’ç®—ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586833248,"ip_address":"","comment_id":205040,"utype":1}],"discussion_count":2,"race_medal":0,"score":"74600957684","product_id":100046801,"comment_content":"è€å¸ˆï¼Œæˆ‘é—®ä¸€ä¸ªå°é—®é¢˜ã€‚å…¬å¸æ˜¯åšç´ æåº“çš„ï¼Œç°åœ¨è‡ªå»ºå¯¹è±¡æœåŠ¡å™¨ï¼Œå¯¹è±¡æœåŠ¡å™¨é‡Œé¢å¤§å¤šéƒ½æ˜¯å›¾ç‰‡ç´ æï¼Œåœºæ™¯æ˜¯è¯»å¤šå†™å°‘ã€‚é€‰æ‹©Cephå¯ä»¥ç”¨äºç”Ÿæˆç¯å¢ƒå—ï¼Ÿæˆ–è€…æœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ¡ˆé€‰æ‹©ï¼Ÿè°¢è°¢è€å¸ˆ","like_count":18,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491363,"discussion_content":"å»ºè®®ä½ ä½¿ç”¨å…¬æœ‰äº‘çš„å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œå°è§„æ¨¡çš„å…¬å¸è‡ªå»ºå¯¹è±¡å­˜å‚¨ç»´æŠ¤æˆæœ¬å¤ªé«˜ï¼Œä¸æ˜¯å¤ªåˆ’ç®—ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586833248,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1003205,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4e/c5/78626367.jpg","nickname":"å‹ç«ğŸ”¥","note":"","ucode":"C2322918B31E60","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378451,"discussion_content":"ç”¨å¼€æºfastDFS\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623227574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203496,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1586221804,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"70305698540","product_id":100046801,"comment_content":"å¦‚æœæ˜¯åŸºäº Raft åè®®çš„ï¼Œä¼šæ ¹æ®ä»»æœŸçš„ç¼–å·å¤§å°å†³å®šè°æ˜¯é¢†å¯¼è€…","like_count":17},{"had_liked":false,"id":220922,"user_name":"å–†é‡Œ","can_delete":false,"product_type":"c1","uid":1125033,"ip_address":"","ucode":"0B4B38104645CA","user_header":"https://static001.geekbang.org/account/avatar/00/11/2a/a9/83684d4a.jpg","comment_is_top":false,"comment_ctime":1590337322,"is_pvip":true,"replies":[{"id":"81455","content":"ä¸€ä¸ªå®¹å™¨å°±æ˜¯ä¸€ä¸ªåˆ†ç‰‡ï¼Œæ˜¯æ•°æ®å¤åˆ¶çš„åŸºæœ¬å•ä½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªåˆ†ç‰‡éƒ½æœ‰nä¸ª å‰¯æœ¬ã€‚<br><br>åˆ†ç‰‡ä¸èƒ½åšçš„å¤ªå°çš„åŸå› æ˜¯ï¼Œåˆ†ç‰‡è¶Šå°ï¼Œæ„å‘³ç€å­˜å‚¨åŒæ ·å®¹é‡çš„æ•°æ®ï¼Œåˆ†ç‰‡çš„æ•°é‡è¶Šå¤šã€‚åˆ†ç‰‡æ•°é‡è¿‡å¤šï¼ŒæŸ¥æ‰¾åˆ†ç‰‡æ—¶ï¼Œéœ€è¦æŸ¥æ‰¾çš„å…ƒæ•°æ®å°±ä¼šå¤ªå¤šï¼Œå½±å“æŸ¥æ‰¾æ•ˆç‡ã€‚<br><br>å¦å¤–ï¼Œå¯¹äºæ•°æ®å¤åˆ¶ï¼ŒåŒæ ·è¦æœ‰ä¸€å®šçš„å¼€é”€ï¼Œæ¯”å¦‚è®°å½•æ—¥å¿—ä½ç½®ï¼Œç»´æŠ¤æ•°æ®ä¸€è‡´æ€§çš„å¼€é”€ã€‚åˆ†ç‰‡å¤ªå°ï¼Œç›¸å¯¹çš„ï¼Œè¿™äº›å¼€é”€å°±ä¼šæ¯”è¾ƒå¤§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1590367924,"ip_address":"","comment_id":220922,"utype":1}],"discussion_count":1,"race_medal":0,"score":"57424912170","product_id":100046801,"comment_content":"è¯·æ•™ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆåˆ†å—ååˆèšåˆåˆ°å®¹å™¨ä¸­ï¼Œç›´æ¥ä¸€ä¸ªå®¹å™¨ä¸€ä¸ªå—ä¸è¡Œå—ï¼Ÿè¿™å—è®¾è®¡æ€è·¯æ²¡çœ‹æ˜ç™½<br>","like_count":14,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496266,"discussion_content":"ä¸€ä¸ªå®¹å™¨å°±æ˜¯ä¸€ä¸ªåˆ†ç‰‡ï¼Œæ˜¯æ•°æ®å¤åˆ¶çš„åŸºæœ¬å•ä½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªåˆ†ç‰‡éƒ½æœ‰nä¸ª å‰¯æœ¬ã€‚\n\nåˆ†ç‰‡ä¸èƒ½åšçš„å¤ªå°çš„åŸå› æ˜¯ï¼Œåˆ†ç‰‡è¶Šå°ï¼Œæ„å‘³ç€å­˜å‚¨åŒæ ·å®¹é‡çš„æ•°æ®ï¼Œåˆ†ç‰‡çš„æ•°é‡è¶Šå¤šã€‚åˆ†ç‰‡æ•°é‡è¿‡å¤šï¼ŒæŸ¥æ‰¾åˆ†ç‰‡æ—¶ï¼Œéœ€è¦æŸ¥æ‰¾çš„å…ƒæ•°æ®å°±ä¼šå¤ªå¤šï¼Œå½±å“æŸ¥æ‰¾æ•ˆç‡ã€‚\n\nå¦å¤–ï¼Œå¯¹äºæ•°æ®å¤åˆ¶ï¼ŒåŒæ ·è¦æœ‰ä¸€å®šçš„å¼€é”€ï¼Œæ¯”å¦‚è®°å½•æ—¥å¿—ä½ç½®ï¼Œç»´æŠ¤æ•°æ®ä¸€è‡´æ€§çš„å¼€é”€ã€‚åˆ†ç‰‡å¤ªå°ï¼Œç›¸å¯¹çš„ï¼Œè¿™äº›å¼€é”€å°±ä¼šæ¯”è¾ƒå¤§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590367924,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":217649,"user_name":"äºæµ·æ¶›","can_delete":false,"product_type":"c1","uid":1986401,"ip_address":"","ucode":"5302F093E4648A","user_header":"","comment_is_top":false,"comment_ctime":1589556646,"is_pvip":false,"replies":[{"id":"80853","content":"CDNç¼“å­˜çš„æ–‡ä»¶ä¸€èˆ¬æ˜¯ä¿å­˜åœ¨CDNèŠ‚ç‚¹çš„ç£ç›˜ä¸Šï¼Œå½“ç„¶ä¸æ’é™¤æŸäº›CDNä¼šç”¨èŠ‚ç‚¹çš„å†…å­˜ç¼“å­˜æ–‡ä»¶ï¼ŒåŠ é€Ÿè®¿é—®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1589869203,"ip_address":"","comment_id":217649,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31654327718","product_id":100046801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸€ä¸ªé—®é¢˜æƒ³é—®æ‚¨ï¼Œå¯¹è±¡å­˜å‚¨çš„cdnç¼“å­˜æ˜¯æ€ä¹ˆåšçš„ï¼Ÿæ˜¯æ¯æ¬¡è¦è®¿é—®è¿™äº›å…ƒæ•°æ®ï¼Œè¿˜æ˜¯ç›´æ¥æŠŠè¿™äº›æºæ•°æ®æ‰€æœ‰éƒ½æ”¾åœ¨å†…å­˜é‡Œï¼Ÿæ•°æ®é‡è¿™ä¹ˆå¤§æ„Ÿè§‰ä¸é€‚åˆæ”¾å†…å­˜é‡Œå§ï¼Ÿæ„Ÿè°¢è€å¸ˆ","like_count":8,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495205,"discussion_content":"CDNç¼“å­˜çš„æ–‡ä»¶ä¸€èˆ¬æ˜¯ä¿å­˜åœ¨CDNèŠ‚ç‚¹çš„ç£ç›˜ä¸Šï¼Œå½“ç„¶ä¸æ’é™¤æŸäº›CDNä¼šç”¨èŠ‚ç‚¹çš„å†…å­˜ç¼“å­˜æ–‡ä»¶ï¼ŒåŠ é€Ÿè®¿é—®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589869203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986401,"avatar":"","nickname":"äºæµ·æ¶›","note":"","ucode":"5302F093E4648A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":271249,"discussion_content":"ç†è§£äº†ï¼Œæ„Ÿè°¢è€å¸ˆå›å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590109955,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":238592,"user_name":"Kevin Wang","can_delete":false,"product_type":"c1","uid":1042073,"ip_address":"","ucode":"D4BC9EFCB086EE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e6/99/276eaeaa.jpg","comment_is_top":false,"comment_ctime":1596208000,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"18776077184","product_id":100046801,"comment_content":"è€å¸ˆè®²å¾—å¾ˆå¥½ï¼Œæä¸€ç‚¹å»ºè®®ã€‚<br><br>æ•°æ®å†—ä½™æŠ€æœ¯ä¸»è¦ç”±ä¸¤ç§ï¼š<br>1. ä¼ ç»Ÿå‰¯æœ¬å¤åˆ¶<br>2. çº åˆ ç ï¼ŒåŸºäºçº åˆ ç®—æ³•ï¼Œæ—¶é—´æ¢ç©ºé—´ ï¼ˆè‘—åå¼€æºå¯¹è±¡å­˜å‚¨MinIOå°±æ˜¯åŸºäºçº åˆ ç çš„ï¼‰<br><br>å»ºè®®æ–‡ä¸­ä¹Ÿæä¸€ä¸‹ç¬¬2ç§ã€‚<br>","like_count":5,"discussions":[{"author":{"id":1016596,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/83/14/bcc58354.jpg","nickname":"li3huo","note":"","ucode":"171363C3BE3E8E","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576609,"discussion_content":"minio æ˜¯ä¸ªç»´æŠ¤ä»£ä»·æ›´å°çš„å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œæ–°æœåŠ¡é€‰å‹æ¨è","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655701558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366497,"discussion_content":"ä½†æ„Ÿè§‰ç¬¬2ç§åœºæ™¯ç”¨çš„è¾ƒå°‘ï¼Œè€Œä¸”ä¼šå•ç‚¹æ•…éšœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618071182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203523,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1586226902,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"18766096086","product_id":100046801,"comment_content":"å¯¹è±¡å­˜å‚¨ ä¸æ˜¯ä¸€èˆ¬éƒ½æœ‰ç‰ˆæœ¬æ§åˆ¶çš„å— ï¼Ÿ æœ€æ–°çš„ç‰ˆæœ¬å°±æ˜¯æœ€æ–°çš„æ•°æ®","like_count":5,"discussions":[{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538912,"discussion_content":"å¯¹çš„ ç”¨é€‰ä¸»åè®®é€‰ä¸»ç‰ˆæœ¬å·å°†å…¶ä½œä¸ºæœ€æ–°å³å¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639555983,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":256704,"user_name":"xzy","can_delete":false,"product_type":"c1","uid":1082132,"ip_address":"","ucode":"483350A630625E","user_header":"https://static001.geekbang.org/account/avatar/00/10/83/14/099742ae.jpg","comment_is_top":false,"comment_ctime":1603711987,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10193646579","product_id":100046801,"comment_content":"è¯·å‡ä¸‹è€å¸ˆï¼Œå¯¹è±¡å­˜å‚¨å’Œåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿçš„åŒºåˆ«åœ¨å“ªï¼Ÿå¦å¤–å¯¹è±¡å­˜å‚¨åº•å±‚æ˜¯å¦ä¹Ÿæ˜¯ä¾èµ–çš„æ–‡ä»¶ç³»ç»Ÿï¼Œè°¢è°¢","like_count":2,"discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366496,"discussion_content":"https://www.zhihu.com/question/21536660\nå—å­˜å‚¨çš„ç”¨æˆ·æ˜¯å¯ä»¥è¯»å†™å—è®¾å¤‡çš„è½¯ä»¶ç³»ç»Ÿï¼Œä¾‹å¦‚ä¼ ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿã€æ•°æ®åº“ï¼›\nå¯¹è±¡å­˜å‚¨çš„ç”¨æˆ·åˆ™æ˜¯å…¶å®ƒè®¡ç®—æœºè½¯ä»¶ï¼›\næ–‡ä»¶å­˜å‚¨çš„ç”¨æˆ·æ˜¯è‡ªç„¶äººï¼›\nåº•å±‚éƒ½æ˜¯å—å­˜å‚¨ï¼Œåšäº†ä¸€å®šç¨‹åº¦çš„å°è£…","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1618070993,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204176,"user_name":"ä¸–çºªçŒ›ç”·","can_delete":false,"product_type":"c1","uid":1532566,"ip_address":"","ucode":"DEF34472DEB00B","user_header":"","comment_is_top":false,"comment_ctime":1586346783,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10176281375","product_id":100046801,"comment_content":"Zookeeper transaction id","like_count":3},{"had_liked":false,"id":203445,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1586191349,"is_pvip":false,"replies":[{"id":"76069","content":"é‚£è¿™ä¸ªæ—¶é—´ä»å“ªå„¿æ¥å‘¢ï¼Ÿå¦‚æœéƒ½ä»æœ¬æœºçš„æ—¶é’Ÿè·å–ï¼Œæ€ä¹ˆä¿è¯é›†ç¾¤ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„æ—¶é’Ÿæ˜¯ä¸€è‡´çš„å‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586224486,"ip_address":"","comment_id":203445,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10176125941","product_id":100046801,"comment_content":"æ¯æ¬¡æ“ä½œéƒ½æ›´æ–°æ“ä½œæ—¶é—´ã€‚è°çš„æ“ä½œæ—¶é—´æœ€æ–°è°å°±æ˜¯æœ€æ¥è¿‘ä¸»èŠ‚ç‚¹çš„å‰¯èŠ‚ç‚¹ã€‚","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490866,"discussion_content":"é‚£è¿™ä¸ªæ—¶é—´ä»å“ªå„¿æ¥å‘¢ï¼Ÿå¦‚æœéƒ½ä»æœ¬æœºçš„æ—¶é’Ÿè·å–ï¼Œæ€ä¹ˆä¿è¯é›†ç¾¤ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„æ—¶é’Ÿæ˜¯ä¸€è‡´çš„å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586224486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1251111,"avatar":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","nickname":"Jxin","note":"","ucode":"4C03928388C413","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":223452,"discussion_content":"é¢ï¼Œè€ƒè™‘ä¸å‘¨äº†ã€‚å°†æ—¶é—´ç”¨ä¸€ä¸ªæ›´æ–°ç‰ˆæœ¬æ›¿æ¢ã€‚ç‰ˆæœ¬çš„å€¼ä¸ºç´¯åŠ å€¼ã€‚è¿™æ ·å€¼æœ€å¤§çš„æœ€é è¿‘ä¸»èŠ‚ç‚¹ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1586225055,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326537,"user_name":"å‡¯æ–‡å°çŒª","can_delete":false,"product_type":"c1","uid":1980201,"ip_address":"","ucode":"36D8AD0229547F","user_header":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","comment_is_top":false,"comment_ctime":1639555929,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5934523225","product_id":100046801,"comment_content":"æœ‰äº›åŒå­¦å¯¹äºä¸ºä»€ä¹ˆä¸é€‚ç”¨æ“ä½œæ—¥å¿—å¯èƒ½æœ‰ç–‘æƒ‘ è¿™é‡Œç®€å•è¯´ä¸€ä¸‹ï¼š<br>1.æ–‡ä»¶ç³»ç»Ÿä¸ºäº†ä¿è¯ä¸€è‡´æ€§ä¸åŸå­æ€§ éœ€è¦ä½¿ç”¨journalï¼ˆåˆè¢«ç§°ä¸ºwrite ahead logging,å³WALï¼‰æŠ€æœ¯æ¥å®ç°ã€‚<br>å†™å…¥æ—¶æˆ–è€…æ›´æ–°æ—¶ è¦å…ˆå†™index nodeæ—¥å¿— æ•°æ®æ—¥å¿—ï¼Œè€Œè¿™äº›å¯¹äºæ–‡ä»¶ç³»ç»Ÿæ¥è¯´ä¼šæœ‰ä¸¤ä¸ªé—®é¢˜ï¼š<br>  a)é€šå¸¸æ–‡ä»¶ç³»ç»Ÿä¿å­˜çš„æ–‡ä»¶éƒ½å¾ˆå¤§ æ‰€ä»¥æ— è®ºæ€ä¹ˆåˆ†å‰²å— index node å¤©ç”Ÿå°±å¤šï¼Œè¿™æ ·journalæ—¥å¿—å†™å…¥åè€Œæ˜¯ä¸ªè´Ÿæ‹…<br>  b)åˆ†å¸ƒå¼å­˜å‚¨ä¸åƒæ–‡ä»¶ç³»ç»Ÿéœ€è¦æ”¯æŒå¾ˆå¤šçš„æœç´¢åœºæ™¯ æ‰€ä»¥å†…éƒ¨å­˜å‚¨ä¸æ˜¯ç”¨Bæ ‘ è€Œæ˜¯KV ï¼Œæ•…å†™å…¥åè€Œç®€å•ï¼Œå¦‚æœåŒæ­¥å¤±è´¥ä¹Ÿå¯ä»¥å¿«é€Ÿå‘ç°é‡åšå³å¯<br>2.binlogæ–‡ä»¶çš„å¢å¤§ ä¼šå¯¼è‡´æ¯æ¬¡å†™æ“ä½œå¿…é¡»ä¿è¯åŸå­æ€§ å› ä¸ºå®¿ä¸»æœºlinuxæ–‡ä»¶ç³»ç»Ÿè¿˜æ˜¯ä»¥ä¸€é¡µ 16KBæ¥åšä¸€æ¬¡åŸå­å†™ ï¼Œè¿™å°±ä¼šè¡ç”Ÿå‡ºå…¶ä»–çš„é—®é¢˜ã€‚<br><br>æœ€åå›ç­”ä¸‹è€å¸ˆçš„é—®é¢˜<br>å¯ä»¥ä½¿ç”¨ç‰ˆæœ¬å·æ¥ç»´æŠ¤ å°†å…¶ä½œä¸ºepochï¼Œåœ¨æ ¹æ®å…¶å¤§å°ç”¨rafté€‰ä¸»å³å¯","like_count":2},{"had_liked":false,"id":207440,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1587086875,"is_pvip":false,"replies":[{"id":"77850","content":"å®¹å™¨å†…å­˜æ”¾çš„å°±æ˜¯å®é™…çš„æ•°æ®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1587353070,"ip_address":"","comment_id":207440,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5882054171","product_id":100046801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªåœ°æ–¹ä¸æ¸…æ¥šï¼Œè¿™é‡Œçš„æ¯ä¸ªå®¹å™¨ä¸€èˆ¬åªå­˜å‚¨å¯¹è±¡çš„ä¸€éƒ¨åˆ†å—ï¼Œé‚£ä¹ˆé¦–å…ˆåº”è¯¥æ˜¯ä»å…ƒæ•°æ®é›†ç¾¤ä¸­æ ¹æ®keyæ‰¾åˆ°è¿™ä¸ªå¯¹è±¡å¯¹åº”çš„æ‰€æœ‰å®¹å™¨ï¼Œç¬¬äºŒæ­¥ï¼Œå› ä¸ºå¤šä¸ªå®¹å™¨ä¸­çš„å—ç»„æˆä¸€ä¸ªå®Œæ•´å¯¹è±¡ï¼Œè€Œæ¯ä¸ªå®¹å™¨åˆè¢«å­˜åˆ°æŸä¸ªæ•°æ®èŠ‚ç‚¹ä¸­äº†ï¼Œæ‰€ä»¥æ­¤æ—¶åº”è¯¥å†å»å…ƒæ•°æ®é›†ç¾¤ä¸­æ‰¾å¤šä¸ªå®¹å™¨æ‰€å¯¹åº”çš„æ•°æ®èŠ‚ç‚¹ã€‚æ€»ä¹‹ï¼Œåªè¦æ‰¾åˆ°äº†å®¹å™¨çš„å­˜å‚¨ä½ç½®ï¼Œå®¹å™¨å†…å—å°±æ‰¾åˆ°äº†ã€‚æ–‡ç« ä¸­æåˆ°çš„å—çš„èšåˆæŒ‡çš„æ˜¯å®¹å™¨æ¥èšåˆå—å—ï¼Ÿè¿™æ ·å…ƒæ•°æ®é›†ç¾¤å°±æ˜¯ç®¡ç†å®¹å™¨äº†ã€‚å®¹å™¨å†…å­˜çš„æ˜¯å—çš„ç´¢å¼•è¿˜æ˜¯å®é™…æ•°æ®å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492127,"discussion_content":"å®¹å™¨å†…å­˜æ”¾çš„å°±æ˜¯å®é™…çš„æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587353070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366498,"discussion_content":"å®¹å™¨åº”è¯¥å­˜çš„æ˜¯æ‰€æœ‰çš„å—ï¼Œå› ä¸ºå¯¹è±¡å­˜å‚¨ç³»ç»Ÿä»¥å®¹å™¨ä¸ºå¤åˆ¶å’Œè¿ç§»æ•°æ®çš„åŸºæœ¬å•ä½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618071268,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203482,"user_name":"ç‰¹ç§æµæ°“","can_delete":false,"product_type":"c1","uid":1248825,"ip_address":"","ucode":"D9985CBA8B4AAD","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/39/174741d1.jpg","comment_is_top":false,"comment_ctime":1586219961,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5881187257","product_id":100046801,"comment_content":"å®¹å™¨é‡Œé¢çš„ä¸»å‰¯æœ¬ä¿¡æ¯å­˜æ”¾åœ¨å…ƒæ•°æ®é›†ç¾¤è¿˜æ˜¯æ•°æ®ç®¡ç†é›†ç¾¤<br>å¯¹äºå®¹å™¨çš„æ¦‚å¿µè¿˜æ˜¯æœ‰ç‚¹æ¨¡ç³Š","like_count":1},{"had_liked":false,"id":203471,"user_name":"Mq","can_delete":false,"product_type":"c1","uid":1178359,"ip_address":"","ucode":"041F572AFAB275","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/f7/91ac44c5.jpg","comment_is_top":false,"comment_ctime":1586218450,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5881185746","product_id":100046801,"comment_content":"å¯ä»¥è®¾ç½®2ä¸ªä»èŠ‚ç‚¹ç›‘å¬ä¸»èŠ‚ç‚¹çš„å¿ƒè·³æ—¶é—´ä¸åŒï¼Œå¯ä»¥æŠŠè·Ÿä¸»èŠ‚ç‚¹ä¸€è‡´çš„è®¾ç½®çš„å°äº›ï¼Œå½“ç›‘æ§åˆ°ä¸»èŠ‚ç‚¹æŒ‚äº†åå‘èµ·é€‰ä¸¾å‡çº§æˆä¸»èŠ‚ç‚¹ã€‚","like_count":1},{"had_liked":false,"id":342555,"user_name":"Geek_dc693e","can_delete":false,"product_type":"c1","uid":2955163,"ip_address":"","ucode":"A81514CE758135","user_header":"","comment_is_top":false,"comment_ctime":1650340020,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650340020","product_id":100046801,"comment_content":"æ²¡çœ‹æ‡‚å‘€ï¼Œè¿™ä¸ªå®¹å™¨æ˜¯ä¸€äº›å—çš„é›†åˆï¼Ÿç±»ä¼¼åˆ†ç‰‡ï¼Œå°±æ˜¯è¯´æ¯ä¸ªå®¹å™¨éƒ½æœ‰å…¨é‡æ•°æ®ï¼Ÿé‚£è¿™ä¸ªå®¹å™¨æœ‰å’Œä¸€ä¸ªå‰¯æœ¬æ˜¯å•¥åŒºåˆ«","like_count":0},{"had_liked":false,"id":339941,"user_name":"Jay","can_delete":false,"product_type":"c1","uid":1592078,"ip_address":"","ucode":"42669FDE25765B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIM0sj0oP7bZwm2dWHq1n1XIsJLwGr122Qb1S2EytzAp62YZKJsiaNHTQayolevlBJGiaq7eBRHCGrg/132","comment_is_top":false,"comment_ctime":1648476728,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648476728","product_id":100046801,"comment_content":"ä¸ºä½•éœ€è¦ç½‘å…³ï¼Œè¿™ä¸ªèƒ½å¦è§£é‡Šä¸€ä¸‹","like_count":0},{"had_liked":false,"id":336734,"user_name":"åƒé”¤ç™¾ç‚¼é¢†æ‚Ÿä¹‹æé™","can_delete":false,"product_type":"c1","uid":1744257,"ip_address":"","ucode":"224B5CF2101716","user_header":"https://static001.geekbang.org/account/avatar/00/1a/9d/81/d748b7eb.jpg","comment_is_top":false,"comment_ctime":1646323020,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646323020","product_id":100046801,"comment_content":"ä¸€ä¸ªå¤§æ–‡ä»¶ä¼šå…ˆæ‹†åˆ†ä¸ºå¤šä¸ªå¤§å°ç›¸ç­‰çš„å—ï¼Œæœ€åä¸€å—é•¿åº¦ä¸è¶³ï¼Œä¹Ÿå½“åšä¸€ä¸ªç›¸åŒé•¿åº¦çš„å—ã€‚<br><br>æŠŠè¿™äº›æ–‡ä»¶å—ï¼ŒæŒ‰æŒ‡å®šæ•°é‡ï¼Œæ”¾åˆ°è‹¥å¹²ä¸ªåˆ†ç‰‡ä¸­ã€‚<br><br>æ¯ä¸ªåˆ†ç‰‡ä¸ºäº†é«˜å¯ç”¨ï¼Œéƒ½ä¼šæœ‰ä¸»å‰¯æœ¬ï¼Œä»å‰¯æœ¬ï¼Œæ¯ä¸ªå‰¯æœ¬å¯¹åº”æ•°æ®èŠ‚ç‚¹ã€‚<br><br>è¯»å–æ–‡ä»¶æ—¶ï¼Œå…ˆç”¨keyæ‰¾åˆ°æ‰€æœ‰çš„åˆ†ç‰‡ï¼Œç„¶åé€šè¿‡åˆ†ç‰‡æ‰¾åˆ°åˆ†ç‰‡å‰¯æœ¬ï¼Œå†é€šè¿‡åˆ†ç‰‡å‰¯æœ¬æ‰¾åˆ°å¯¹åº”çš„æ•°æ®èŠ‚ç‚¹è·å–æ•°æ®ã€‚æœ€åæŠŠå¤šä¸ªåˆ†ç‰‡çš„æ•°æ®æ•´åˆï¼Œè¿”å›ã€‚","like_count":0},{"had_liked":false,"id":336393,"user_name":"è¯·å«æˆ‘å’Œå°š","can_delete":false,"product_type":"c1","uid":1703256,"ip_address":"","ucode":"33A8A1CDA103F9","user_header":"https://static001.geekbang.org/account/avatar/00/19/fd/58/1af629c7.jpg","comment_is_top":false,"comment_ctime":1646126637,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646126637","product_id":100046801,"comment_content":"é€šè¿‡ä¸€ä¸ªåœ°æ–¹è®°å½•ï¼šæ›´æ–°æˆåŠŸçš„æ˜¯å“ªä¸€ä¸ªä»æœºå™¨ã€‚æ¯”å¦‚ç‰ˆæœ¬å·","like_count":0},{"had_liked":false,"id":304662,"user_name":"æ—é“­é“­","can_delete":false,"product_type":"c1","uid":1068499,"ip_address":"","ucode":"AB392BEE7CD6A0","user_header":"https://static001.geekbang.org/account/avatar/00/10/4d/d3/67bdcca9.jpg","comment_is_top":false,"comment_ctime":1627543321,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627543321","product_id":100046801,"comment_content":"é€šä¿—æ˜“æ‡‚","like_count":1},{"had_liked":false,"id":267320,"user_name":"äºé€”","can_delete":false,"product_type":"c1","uid":1669343,"ip_address":"","ucode":"70300C6CCCEAF1","user_header":"https://static001.geekbang.org/account/avatar/00/19/78/df/424bdc4a.jpg","comment_is_top":false,"comment_ctime":1607679465,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1607679465","product_id":100046801,"comment_content":"ç½‘å…³é›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ä¸éœ€è¦ä¿å­˜ä»»ä½•æ•°æ®ï¼Œéƒ½æ˜¯æ— çŠ¶æ€çš„èŠ‚ç‚¹ã€‚<br><br>è€å¸ˆï¼Œè¯·é—®è¿™é‡Œçš„â€œæ— çŠ¶æ€â€åº”è¯¥æ€ä¹ˆç†è§£ï¼Ÿ","like_count":0},{"had_liked":false,"id":249187,"user_name":"djfhchdh","can_delete":false,"product_type":"c1","uid":1484184,"ip_address":"","ucode":"E71D75328CE398","user_header":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","comment_is_top":false,"comment_ctime":1600496292,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600496292","product_id":100046801,"comment_content":"æ›´æ–°å®¹å™¨é‡Œå—çš„æ—¶å€™è®°å½•ç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬å·æ˜¯é€’å¢çš„ï¼Œè¿™æ ·ç‰ˆæœ¬å·æœ€å¤§çš„é‚£ä¸ªå‰¯æœ¬è‚¯å®šæ˜¯æœ€æ–°çš„ã€‚","like_count":0},{"had_liked":false,"id":203790,"user_name":"é™¶é‡‘","can_delete":false,"product_type":"c1","uid":1647666,"ip_address":"","ucode":"14ECFE57ABC162","user_header":"https://static001.geekbang.org/account/avatar/00/19/24/32/c712d415.jpg","comment_is_top":false,"comment_ctime":1586266992,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586266992","product_id":100046801,"comment_content":"é€šè¿‡åºåˆ—å·æ¥ç¡®å®šè°æ–°è°æ—§ï¼Ÿ","like_count":0},{"had_liked":false,"id":203589,"user_name":"ä¸å°æ˜","can_delete":false,"product_type":"c1","uid":1207622,"ip_address":"","ucode":"CC23857B8D75D5","user_header":"https://static001.geekbang.org/account/avatar/00/12/6d/46/e16291f8.jpg","comment_is_top":false,"comment_ctime":1586237796,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586237796","product_id":100046801,"comment_content":"åº”è¯¥æœ‰ç±»ä¼¼kafka isrçš„æœºåˆ¶ï¼Œæ¯ä¸ªåˆ†ç‰‡éƒ½ä¼šæœ‰ä¸€ä¸ªåºå·ï¼Œé€šè¿‡åºå·å¤§å°æ¥åˆ†è¾¨å§","like_count":0},{"had_liked":false,"id":203497,"user_name":"å°ç¥º","can_delete":false,"product_type":"c1","uid":1193548,"ip_address":"","ucode":"2819BCA9E71C9F","user_header":"https://static001.geekbang.org/account/avatar/00/12/36/4c/46c43cce.jpg","comment_is_top":false,"comment_ctime":1586221847,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586221847","product_id":100046801,"comment_content":"å…ƒæ•°æ®é‡Œå­˜ä¸€ä¸‹æ ¡éªŒç ï¼Ÿ","like_count":0},{"had_liked":false,"id":203465,"user_name":"åˆ˜æ¥ ","can_delete":false,"product_type":"c1","uid":1120773,"ip_address":"","ucode":"9F19D44CBEE039","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/05/f154d134.jpg","comment_is_top":false,"comment_ctime":1586216324,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586216324","product_id":100046801,"comment_content":"æ¯”è¾ƒåŒæ­¥æ—¶é—´ï¼Ÿ","like_count":0}]}
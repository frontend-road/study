{"id":119492,"title":"05 | 开始使用ZooKeeper","content":"<p><strong>ZooKeeper下载地址</strong></p><p><a href=\"https://archive.apache.org/dist/zookeeper/stable/\">https://archive.apache.org/dist/zookeeper/stable/</a></p><p><strong>课件和Demo地址</strong></p><p><a href=\"https://gitee.com/geektime-geekbang/geekbang-zk-course\">https://gitee.com/geektime-geekbang/geekbang-zk-course</a></p>","comments":[{"had_liked":false,"id":125663,"user_name":"Geek_53fe7f","can_delete":false,"product_type":"c3","uid":1617925,"ip_address":"","ucode":"C38EE8F458E141","user_header":"","comment_is_top":false,"comment_ctime":1566223165,"is_pvip":false,"replies":[{"id":46474,"content":"谢谢","user_name":"作者回复","user_name_real":"Geek_215586","uid":1591870,"ctime":1566311683,"ip_address":"","comment_id":125663,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"讲课风格很赞，支持","like_count":6,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463651,"discussion_content":"谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566311683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126515,"user_name":"ranger2","can_delete":false,"product_type":"c3","uid":1104177,"ip_address":"","ucode":"59F15FFB511161","user_header":"https://static001.geekbang.org/account/avatar/00/10/d9/31/e58f2fb0.jpg","comment_is_top":false,"comment_ctime":1566398780,"is_pvip":false,"replies":[{"id":46890,"content":"iTerm2 + Solarized Dark主题，Oh My Zsh + agnoster主题","user_name":"作者回复","user_name_real":"Geek_215586","uid":1591870,"ctime":1566486104,"ip_address":"","comment_id":126515,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"这个终端挺漂亮 是什么软件呀","like_count":3,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464027,"discussion_content":"iTerm2 + Solarized Dark主题，Oh My Zsh + agnoster主题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566486104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138598,"user_name":"业余草","can_delete":false,"product_type":"c3","uid":1126538,"ip_address":"","ucode":"99BDC1E629049D","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/8a/b5ca7286.jpg","comment_is_top":false,"comment_ctime":1570359694,"is_pvip":false,"replies":[{"id":54796,"content":"OK","user_name":"作者回复","user_name_real":"Geek_215586","uid":1591870,"ctime":1571279328,"ip_address":"","comment_id":138598,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"总结了一些 Zookeeper 的一些常用知识点，https:&#47;&#47;www.xttblog.com&#47;?p=4509 请老师指点！","like_count":1,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469588,"discussion_content":"OK","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571279328,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":198180,"user_name":"成成","can_delete":false,"product_type":"c3","uid":1938254,"ip_address":"","ucode":"E1F81E143B94DD","user_header":"https://static001.geekbang.org/account/avatar/00/1d/93/4e/8cb6e919.jpg","comment_is_top":false,"comment_ctime":1585412782,"is_pvip":false,"replies":[{"id":75912,"content":"谢谢","user_name":"作者回复","user_name_real":"Geek_215586","uid":1591870,"ctime":1586142978,"ip_address":"","comment_id":198180,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"讲课风格很好，易懂","like_count":0,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489657,"discussion_content":"谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586142978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":178211,"user_name":"大象佩奇","can_delete":false,"product_type":"c3","uid":1070165,"ip_address":"","ucode":"EAFB4FA3B9CFEF","user_header":"https://static001.geekbang.org/account/avatar/00/10/54/55/f686c2ed.jpg","comment_is_top":false,"comment_ctime":1581609250,"is_pvip":false,"replies":[{"id":75920,"content":"谢谢","user_name":"作者回复","user_name_real":"Geek_215586","uid":1591870,"ctime":1586143338,"ip_address":"","comment_id":178211,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"干货满满","like_count":0,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483705,"discussion_content":"谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586143338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":152387,"user_name":"果","can_delete":false,"product_type":"c3","uid":1237686,"ip_address":"","ucode":"44B1ADAE39D103","user_header":"https://static001.geekbang.org/account/avatar/00/12/e2/b6/987bc822.jpg","comment_is_top":false,"comment_ctime":1573989223,"is_pvip":false,"replies":[{"id":59316,"content":"没遇到过这种问题呀。ZooKeeper唯一的依赖就是JDK，ZooKeeper的压缩包解压后就应该能用。你看一下你的classpath有没有什么特殊的设置。","user_name":"作者回复","user_name_real":"Geek_215586","uid":1591870,"ctime":1574488370,"ip_address":"","comment_id":152387,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"老师为何我zkCli.sh 运行报could not find or load main class org.apache.zookeeper\nZookeeperMain","like_count":0,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474801,"discussion_content":"没遇到过这种问题呀。ZooKeeper唯一的依赖就是JDK，ZooKeeper的压缩包解压后就应该能用。你看一下你的classpath有没有什么特殊的设置。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574488370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":141731,"user_name":"我不是矿长","can_delete":false,"product_type":"c3","uid":1232421,"ip_address":"","ucode":"6E31D775AA8D03","user_header":"https://static001.geekbang.org/account/avatar/00/12/ce/25/b9970aa8.jpg","comment_is_top":false,"comment_ctime":1571215760,"is_pvip":false,"replies":[{"id":54754,"content":"谢谢","user_name":"作者回复","user_name_real":"Geek_215586","uid":1591870,"ctime":1571232512,"ip_address":"","comment_id":141731,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"老师讲的很赞","like_count":0,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470863,"discussion_content":"谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571232512,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":141722,"user_name":"公众号-微观技术","can_delete":false,"product_type":"c3","uid":1043546,"ip_address":"","ucode":"BD0E46A9CF97E9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/5a/1c68c5a7.jpg","comment_is_top":false,"comment_ctime":1571214957,"is_pvip":false,"replies":[{"id":54759,"content":"是的，版本问题。我试了一下zookeeper-3.4.14，也是数组越界的错误。","user_name":"作者回复","user_name_real":"Geek_215586","uid":1591870,"ctime":1571233988,"ip_address":"","comment_id":141722,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"  create –e &#47;lock  命令会报数组越界，后面必须跟着 节点值，是因为zk的版本的问题吗？我用的版本是3.4.8","like_count":0,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470858,"discussion_content":"是的，版本问题。我试了一下zookeeper-3.4.14，也是数组越界的错误。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571233988,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139890,"user_name":"豆子高","can_delete":false,"product_type":"c3","uid":1326166,"ip_address":"","ucode":"C84B1081E40A08","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLxDV4VqTISMDBPgnjDAicCnWbjE3FeFv4eNWdITw6aib82iasfb63vJCU6bxRB4zN6eaGztZPmlpWdg/132","comment_is_top":false,"comment_ctime":1570761027,"is_pvip":false,"replies":[{"id":54757,"content":"应该是一样的吧，您遇到什么问题了吗？我一般使用&quot;ls -R &#47;&quot;检查ZooKeeper的整个节点目录。","user_name":"作者回复","user_name_real":"Geek_215586","uid":1591870,"ctime":1571232954,"ip_address":"","comment_id":139890,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"老师 我用的windows系统 创建节点的相关命令跟你的是不一样的  如何查看节点目录？ ","like_count":0,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470162,"discussion_content":"应该是一样的吧，您遇到什么问题了吗？我一般使用&amp;quot;ls -R /&amp;quot;检查ZooKeeper的整个节点目录。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571232954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":133729,"user_name":"maslke","can_delete":false,"product_type":"c3","uid":1144568,"ip_address":"","ucode":"16AF7647266C14","user_header":"https://static001.geekbang.org/account/avatar/00/11/76/f8/66e25be4.jpg","comment_is_top":false,"comment_ctime":1568642320,"is_pvip":false,"replies":[{"id":51404,"content":"提示信息说你没有bind到2181端口的权限。","user_name":"作者回复","user_name_real":"Geek_215586","uid":1591870,"ctime":1568733059,"ip_address":"","comment_id":133729,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034201,"comment_content":"请教老师和各位同学。\n电脑重启之后，zookeeper就无法正常启动。\n日志为：\n2019-09-16 21:57:33,553 [myid:] - INFO  [main:NIOServerCnxnFactory@686] - binding to port 0.0.0.0&#47;0.0.0.0:2181\n2019-09-16 21:57:33,555 [myid:] - ERROR [main:ZooKeeperServerMain@83] - Unexpected exception, exiting abnormally\njava.net.SocketException: 权限不够\n        at sun.nio.ch.Net.bind0(Native Method)\n        at sun.nio.ch.Net.bind(Net.java:433)\n        at sun.nio.ch.Net.bind(Net.java:425)\n        at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)\n        at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)\n        at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:67)\n        at org.apache.zookeeper.server.NIOServerCnxnFactory.configure(NIOServerCnxnFactory.java:687)\n        at org.apache.zookeeper.server.ZooKeeperServerMain.runFromConfig(ZooKeeperServerMain.java:143)\n        at org.apache.zookeeper.server.ZooKeeperServerMain.initializeAndRun(ZooKeeperServerMain.java:106)\n        at org.apache.zookeeper.server.ZooKeeperServerMain.main(ZooKeeperServerMain.java:64)\n        at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:128)\n        at org.apache.zookeeper.server.quorum.QuorumPeerMain.main(QuorumPeerMain.java:82)\n各位能否指导一下原因和解决办法。\n谢谢。","like_count":0,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467488,"discussion_content":"提示信息说你没有bind到2181端口的权限。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568733059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131690,"user_name":"ican_只会0到9","can_delete":false,"product_type":"c3","uid":1029473,"ip_address":"","ucode":"9EE33C42EE519D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b5/61/9802a552.jpg","comment_is_top":false,"comment_ctime":1567847401,"is_pvip":false,"replies":[{"id":50631,"content":"您能把您的问题描述的更详细一些吗?","user_name":"作者回复","user_name_real":"Geek_215586","uid":1591870,"ctime":1568105852,"ip_address":"","comment_id":131690,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100034201,"comment_content":"分布式加锁，是不可以在两个znode 下创建相同的znode？","like_count":0,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466574,"discussion_content":"您能把您的问题描述的更详细一些吗?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568105852,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129602,"user_name":"virvle","can_delete":false,"product_type":"c3","uid":1311243,"ip_address":"","ucode":"AD6D2C87759E1E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/djAZwFHFWrjZgM22hCOKwz0YrFl3CBxjGd7R60wNiaP5q32sCwQSx01yDPpgNwEUib1JH3ia1dLrxG0icTnQpTpaFg/132","comment_is_top":false,"comment_ctime":1567169263,"is_pvip":false,"replies":[{"id":48392,"content":"谢谢支持","user_name":"作者回复","user_name_real":"Geek_215586","uid":1591870,"ctime":1567245461,"ip_address":"","comment_id":129602,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100034201,"comment_content":"很帅","like_count":0,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465561,"discussion_content":"谢谢支持","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567245461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126844,"user_name":"飞翔","can_delete":false,"product_type":"c3","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1566489047,"is_pvip":false,"replies":[{"id":47025,"content":"绝对路径，我都是配绝对路径。","user_name":"作者回复","user_name_real":"Geek_215586","uid":1591870,"ctime":1566564403,"ip_address":"","comment_id":126844,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100034201,"comment_content":"datadir=&quot;&#47;data&#47;zookeeper&quot;\n\n这个是相对路径嘛？  是在zookeeper文件夹下建立一个data然后在建一个zookeeper文件夹？\n","like_count":0,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464198,"discussion_content":"绝对路径，我都是配绝对路径。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566564403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1226693,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b7/c5/1714e947.jpg","nickname":"SKYNET","note":"","ucode":"6770E049684420","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5913,"discussion_content":"Linux的绝对路径嗄，哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566534851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126706,"user_name":"Dovelol","can_delete":false,"product_type":"c3","uid":1253384,"ip_address":"","ucode":"9B5DDF7720F307","user_header":"https://static001.geekbang.org/account/avatar/00/13/20/08/bc06bc69.jpg","comment_is_top":false,"comment_ctime":1566454983,"is_pvip":false,"replies":[{"id":46889,"content":"我用的是3.5.5。&quot;ls -R &#47;&quot;应该可以用。错误提示是说path必须以&#47;开始。例如我输入&quot;ls -R a&quot;，错误提示就是&quot;Path must start with &#47; character&quot;。","user_name":"作者回复","user_name_real":"Geek_215586","uid":1591870,"ctime":1566485850,"ip_address":"","comment_id":126706,"utype":1}],"discussion_count":3,"race_medal":0,"score":3,"product_id":100034201,"comment_content":"老师，想问一下，为什么我这边zkCli客户端不能使用ls -R &#47; 命令， 错误提示：Command failed: java.lang.IllegalArgumentException: Path must start with &#47; character. 是因为版本不对吗还是什么原因？","like_count":0,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464129,"discussion_content":"我用的是3.5.5。&amp;quot;ls -R /&amp;quot;应该可以用。错误提示是说path必须以/开始。例如我输入&amp;quot;ls -R a&amp;quot;，错误提示就是&amp;quot;Path must start with / character&amp;quot;。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566485850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1194177,"avatar":"https://static001.geekbang.org/account/avatar/00/12/38/c1/237a2113.jpg","nickname":"wakeeee","note":"","ucode":"F1A1D051AC6509","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289012,"discussion_content":"应该是版本问题。我用的3.4.10版本，也会出现这个错误。决定也用3.5.5版本，跟老师同步。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593956834,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1532404,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIvUlicgrWtibbDzwhLw5cQrDSy2JuE1mVvmXq11KQIwpLicgDuWfpp9asE0VCN6HhibPDWn7wBc2lfmA/132","nickname":"a、","note":"","ucode":"590FE8DB111492","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7827,"discussion_content":"这个应该是版本问题。我在3.4.3版本，输入ls -R也会有这个错误提示。但是3.5.5版本就可以正常显示","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567685189,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126076,"user_name":"QQ怪","can_delete":false,"product_type":"c3","uid":1211223,"ip_address":"","ucode":"1A39B8433D9208","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/57/a9b04544.jpg","comment_is_top":false,"comment_ctime":1566307105,"is_pvip":false,"replies":[{"id":46472,"content":"谢谢","user_name":"作者回复","user_name_real":"Geek_215586","uid":1591870,"ctime":1566311190,"ip_address":"","comment_id":126076,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100034201,"comment_content":"老师讲的挺好的，简单易懂","like_count":0,"discussions":[{"author":{"id":1591870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJyDiaaDJrwRsdUia9HxA8EuWaDVLr4E1gMG5y2ZTxV7BNUhdNABCmH3GMZTzib796X5duibiaeuRmNXeg/132","nickname":"Geek_215586","note":"","ucode":"5916AC9CC5FBE2","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463816,"discussion_content":"谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566311190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329155,"user_name":"Geek_74dea9","can_delete":false,"product_type":"c3","uid":2760246,"ip_address":"","ucode":"14092EEBC08171","user_header":"","comment_is_top":false,"comment_ctime":1641185298,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100034201,"comment_content":"老师如果业务系统A申请了一个锁开始使用,使用过程中client crash了,然后业务系统A持有该锁的任务仍然在正常执行.此时业务系统B马上申请了该锁,也开始执行任务.此时不就没法保证互斥了吗?这种情况是如何解决啊?","like_count":0},{"had_liked":false,"id":311563,"user_name":"雨夜","can_delete":false,"product_type":"c3","uid":1185750,"ip_address":"","ucode":"CFD8887AA622A9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eowZVAVPiavibWyENgdoc29sGfB9Ed1qpfqAkeghV1H2aL9fmiammA4ibhK1J6fRgb2Cic3D5XT11Oqsiag/132","comment_is_top":false,"comment_ctime":1631288802,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100034201,"comment_content":"咨询老师一个问题，使用临时节点和使用临时顺序节点实现分布式锁有什么区别，为什么官方java客户端都是通过临时顺序节点实现分布式锁的，使用临时节点客户端有什么问题吗？","like_count":0,"discussions":[{"author":{"id":1194626,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3a/82/1ff83a38.jpg","nickname":"牛牛","note":"","ucode":"CFCE68B4F92209","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548304,"discussion_content":"使用临时节点实现的话，若client1持有锁、client2～n在等待锁释放、当client1释放锁时‘client2～n都会收到通知, 出现惊群效应","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643121623,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286050,"user_name":"😛","can_delete":false,"product_type":"c3","uid":1554294,"ip_address":"","ucode":"98D66B91C4E4BC","user_header":"https://static001.geekbang.org/account/avatar/00/17/b7/76/c0f7b705.jpg","comment_is_top":false,"comment_ctime":1617120881,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100034201,"comment_content":"老师讲的很清晰，收获很多","like_count":0},{"had_liked":false,"id":274822,"user_name":"惘 闻","can_delete":false,"product_type":"c3","uid":1181650,"ip_address":"","ucode":"C5909F034BF072","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/d2/0d7ee298.jpg","comment_is_top":false,"comment_ctime":1611190244,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100034201,"comment_content":"老师如果业务系统A申请了一个锁开始使用,使用过程中client crash了,然后业务系统A持有该锁的任务仍然在正常执行.此时业务系统B马上申请了该锁,也开始执行任务.此时不就没法保证互斥了吗?这种情况是如何解决啊?","like_count":0},{"had_liked":false,"id":218702,"user_name":"Lee","can_delete":false,"product_type":"c3","uid":1161717,"ip_address":"","ucode":"882AD96856648E","user_header":"https://static001.geekbang.org/account/avatar/00/11/b9/f5/07513124.jpg","comment_is_top":false,"comment_ctime":1589857054,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100034201,"comment_content":"很喜欢老师干练的讲课风格","like_count":0},{"had_liked":false,"id":215546,"user_name":"thomas","can_delete":false,"product_type":"c3","uid":1016777,"ip_address":"","ucode":"9AB945308F1B50","user_header":"https://static001.geekbang.org/account/avatar/00/0f/83/c9/5d03981a.jpg","comment_is_top":false,"comment_ctime":1589014532,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":1,"score":4,"product_id":100034201,"comment_content":"老师，请问若要向已有的ZK集群中添加新的server, 只需在配置中填写集群的任意一个节点地址就可以吗？ 若是这样的话，是不是Leader会收集所有的节点信息，然后同步给所有的跟随者节点","like_count":0},{"had_liked":false,"id":162345,"user_name":"SSS","can_delete":false,"product_type":"c3","uid":1248529,"ip_address":"","ucode":"0CDE04437E025C","user_header":"https://static001.geekbang.org/account/avatar/00/13/0d/11/8e473d27.jpg","comment_is_top":false,"comment_ctime":1576501961,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100034201,"comment_content":"老师，有两个问题；\n第一个问题是我第一次启动程序的时候端口没有绑定，第二次重启了就好使了，不知到是什么原因；\n第二个问题是您说的这两个linux指令在CentOS执行不了，请问您是用什么系统讲解的","like_count":0}]}
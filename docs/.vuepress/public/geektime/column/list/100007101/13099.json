{"id":13099,"title":"ç¬¬39è®² | çŸ¥è¯†ä¸²è®²ï¼šç”¨åŒåä¸€çš„æ•…äº‹ä¸²èµ·ç¢ç‰‡çš„ç½‘ç»œåè®®ï¼ˆä¸‹ï¼‰","content":"<p>ä¸Šä¸€èŠ‚ï¼Œæˆ‘ä»¬å°è£…äº†ä¸€ä¸ªé•¿é•¿çš„ç½‘ç»œåŒ…ï¼Œâ€œå¤§ç‚®â€å‡†å¤‡å®Œæ¯•ï¼Œå¼€å§‹å‘é€ã€‚</p><p>å‘é€çš„æ—¶å€™å¯ä»¥è¯´æ˜¯é‡é‡å…³éš˜ï¼Œä»æ‰‹æœºåˆ°ç§»åŠ¨ç½‘ç»œã€äº’è”ç½‘ï¼Œè¿˜è¦ç»è¿‡å¤šä¸ªè¿è¥å•†æ‰èƒ½åˆ°è¾¾æ•°æ®ä¸­å¿ƒï¼Œåˆ°äº†æ•°æ®ä¸­å¿ƒå°±è¿›å…¥ç¬¬äºŒä¸ªå¤æ‚çš„è¿‡ç¨‹ï¼Œä»ç½‘å…³åˆ°VXLANéš§é“ï¼Œåˆ°è´Ÿè½½å‡è¡¡ï¼Œåˆ°Controllerå±‚ã€ç»„åˆæœåŠ¡å±‚ã€åŸºç¡€æœåŠ¡å±‚ï¼Œæœ€ç»ˆæ‰ä¸‹å•å…¥åº“ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥çœ‹è¿™æœ€åä¸€æ®µè¿‡ç¨‹ã€‚</p><h2>7.ä¸€åº§åº§åŸæ± ä¸€é“é“å…³ï¼Œæµæ§æ‹¥å¡ä¸é‡ä¼ </h2><p>ç½‘ç»œåŒ…å·²ç»ç»„åˆå®Œæ¯•ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ï¼Œå¦‚ä½•ç»è¿‡ä¸€é“é“åŸå…³ï¼Œåˆ°è¾¾ç›®æ ‡å…¬ç½‘IPã€‚</p><p>å¯¹äºæ‰‹æœºæ¥è®²ï¼Œé»˜è®¤çš„ç½‘å…³åœ¨PGWä¸Šã€‚åœ¨ç§»åŠ¨ç½‘ç»œé‡Œé¢ï¼Œä»æ‰‹æœºåˆ°SGWï¼Œåˆ°PGWæ˜¯æœ‰ä¸€æ¡éš§é“çš„ã€‚åœ¨è¿™æ¡éš§é“é‡Œé¢ï¼Œä¼šå°†ä¸Šé¢çš„è¿™ä¸ªåŒ…ä½œä¸ºéš§é“çš„ä¹˜å®¢åè®®æ”¾åœ¨é‡Œé¢ï¼Œå¤–é¢SGWå’ŒPGWåœ¨æ ¸å¿ƒç½‘æœºæˆ¿çš„IPåœ°å€ã€‚ç½‘ç»œåŒ…ç›´åˆ°PGWï¼ˆPGWæ˜¯éš§é“çš„å¦ä¸€ç«¯ï¼‰æ‰å°†é‡Œé¢çš„åŒ…è§£å‡ºæ¥ï¼Œè½¬å‘åˆ°å¤–éƒ¨ç½‘ç»œã€‚</p><p>æ‰€ä»¥ï¼Œä»æ‰‹æœºå‘é€å‡ºæ¥çš„æ—¶å€™ï¼Œç½‘ç»œåŒ…çš„ç»“æ„ä¸ºï¼š</p><ul>\n<li>\n<p>æºMACï¼šæ‰‹æœºä¹Ÿå³UEçš„MACï¼›</p>\n</li>\n<li>\n<p>ç›®æ ‡MACï¼šç½‘å…³PGWä¸Šé¢çš„éš§é“ç«¯ç‚¹çš„MACï¼›</p>\n</li>\n<li>\n<p>æºIPï¼šUEçš„IPåœ°å€ï¼›</p>\n</li>\n<li>\n<p>ç›®æ ‡IPï¼šSLBçš„å…¬ç½‘IPåœ°å€ã€‚</p>\n</li>\n</ul><p>è¿›å…¥éš§é“ä¹‹åï¼Œè¦å°è£…å¤–å±‚çš„ç½‘ç»œåœ°å€ï¼Œå› è€Œç½‘ç»œåŒ…çš„æ ¼å¼ä¸ºï¼š</p><ul>\n<li>\n<p>å¤–å±‚æºMACï¼šE-NodeBçš„MACï¼›</p>\n</li>\n<li>\n<p>å¤–å±‚ç›®æ ‡MACï¼šSGWçš„MACï¼›</p>\n</li>\n<li>\n<p>å¤–å±‚æºIPï¼šE-NodeBçš„IPï¼›</p>\n</li>\n<li>\n<p>å¤–å±‚ç›®æ ‡IPï¼šSGWçš„IPï¼›</p>\n</li>\n<li>\n<p>å†…å±‚æºMACï¼šæ‰‹æœºä¹Ÿå³UEçš„MACï¼›</p>\n</li>\n<li>\n<p>å†…å±‚ç›®æ ‡MACï¼šç½‘å…³PGWä¸Šé¢çš„éš§é“ç«¯ç‚¹çš„MACï¼›</p>\n</li>\n<li>\n<p>å†…å±‚æºIPï¼šUEçš„IPåœ°å€ï¼›</p>\n</li>\n<li>\n<p>å†…å±‚ç›®æ ‡IPï¼šSLBçš„å…¬ç½‘IPåœ°å€ã€‚</p>\n</li>\n</ul><!-- [[[read_end]]] --><p>å½“éš§é“åœ¨SGWçš„æ—¶å€™ï¼Œåˆ‡æ¢äº†ä¸€ä¸ªéš§é“ï¼Œä¼šä»SGWåˆ°PGWçš„éš§é“ï¼Œå› è€Œç½‘ç»œåŒ…çš„æ ¼å¼ä¸ºï¼š</p><ul>\n<li>\n<p>å¤–å±‚æºMACï¼šSGWçš„MACï¼›</p>\n</li>\n<li>\n<p>å¤–å±‚ç›®æ ‡MACï¼šPGWçš„MACï¼›</p>\n</li>\n<li>\n<p>å¤–å±‚æºIPï¼šSGWçš„IPï¼›</p>\n</li>\n<li>\n<p>å¤–å±‚ç›®æ ‡IPï¼šPGWçš„IPï¼›</p>\n</li>\n<li>\n<p>å†…å±‚æºMACï¼šæ‰‹æœºä¹Ÿå³UEçš„MACï¼›</p>\n</li>\n<li>\n<p>å†…å±‚ç›®æ ‡MACï¼šç½‘å…³PGWä¸Šé¢çš„éš§é“ç«¯ç‚¹çš„MACï¼›</p>\n</li>\n<li>\n<p>å†…å±‚æºIPï¼šUEçš„IPåœ°å€ï¼›</p>\n</li>\n<li>\n<p>å†…å±‚ç›®æ ‡IPï¼šSLBçš„å…¬ç½‘IPåœ°å€ã€‚</p>\n</li>\n</ul><p>åœ¨PGWçš„éš§é“ç«¯ç‚¹å°†åŒ…è§£å‡ºæ¥ï¼Œè½¬å‘å‡ºå»çš„æ—¶å€™ï¼Œä¸€èˆ¬åœ¨PGWå‡ºå¤–éƒ¨ç½‘ç»œçš„è·¯ç”±å™¨ä¸Šï¼Œä¼šéƒ¨ç½²NATæœåŠ¡ï¼Œå°†æ‰‹æœºçš„IPåœ°å€è½¬æ¢ä¸ºå…¬ç½‘IPåœ°å€ï¼Œå½“è¯·æ±‚è¿”å›çš„æ—¶å€™ï¼Œå†NATå›æ¥ã€‚</p><p>å› è€Œåœ¨PGWä¹‹åï¼Œç›¸å½“äºåšäº†ä¸€æ¬¡<a href=\"https://time.geekbang.org/column/article/8590\">æ¬§æ´²åå›½æ¸¸å‹</a>çš„è½¬å‘ï¼Œç½‘ç»œåŒ…çš„æ ¼å¼ä¸ºï¼š</p><ul>\n<li>\n<p>æºMACï¼šPGWå‡ºå£çš„MACï¼›</p>\n</li>\n<li>\n<p>ç›®æ ‡MACï¼šNATç½‘å…³çš„MACï¼›</p>\n</li>\n<li>\n<p>æºIPï¼šUEçš„IPåœ°å€ï¼›</p>\n</li>\n<li>\n<p>ç›®æ ‡IPï¼šSLBçš„å…¬ç½‘IPåœ°å€ã€‚</p>\n</li>\n</ul><p>åœ¨NATç½‘å…³ï¼Œç›¸å½“äºåšäº†ä¸€æ¬¡<a href=\"https://time.geekbang.org/column/article/8590\">ç„å¥˜è¥¿æ¸¸å‹</a>çš„è½¬å‘ï¼Œç½‘ç»œåŒ…çš„æ ¼å¼å˜æˆï¼š</p><ul>\n<li>\n<p>æºMACï¼šNATç½‘å…³çš„MACï¼›</p>\n</li>\n<li>\n<p>ç›®æ ‡MACï¼šA2è·¯ç”±å™¨çš„MACï¼›</p>\n</li>\n<li>\n<p>æºIPï¼šUEçš„å…¬ç½‘IPåœ°å€ï¼›</p>\n</li>\n<li>\n<p>ç›®æ ‡IPï¼šSLBçš„å…¬ç½‘IPåœ°å€ã€‚</p>\n</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/58/a0/582c9515a877a6fde85a6180186ba8a0.jpg?wh=2091*1620\" alt=\"\"></p><p>å‡ºäº†NATç½‘å…³ï¼Œå°±ä»æ ¸å¿ƒç½‘åˆ°è¾¾äº†äº’è”ç½‘ã€‚åœ¨ç½‘ç»œä¸–ç•Œï¼Œæ¯ä¸€ä¸ªè¿è¥å•†çš„ç½‘ç»œæˆä¸ºè‡ªæ²»ç³»ç»ŸASã€‚æ¯ä¸ªè‡ªæ²»ç³»ç»Ÿéƒ½æœ‰è¾¹ç•Œè·¯ç”±å™¨ï¼Œé€šè¿‡å®ƒå’Œå¤–é¢çš„ä¸–ç•Œå»ºç«‹è”ç³»ã€‚</p><p>å¯¹äºäº‘å¹³å°æ¥è®²ï¼Œå®ƒå¯ä»¥è¢«ç§°ä¸ºMultihomed ASï¼Œæœ‰å¤šä¸ªè¿æ¥è¿åˆ°å…¶ä»–çš„ASï¼Œä½†æ˜¯å¤§å¤šæ‹’ç»å¸®å…¶ä»–çš„ASä¼ è¾“åŒ…ã€‚ä¾‹å¦‚ä¸€äº›å¤§å…¬å¸çš„ç½‘ç»œã€‚å¯¹äºè¿è¥å•†æ¥è¯´ï¼Œå®ƒå¯ä»¥è¢«ç§°ä¸ºTransit ASï¼Œæœ‰å¤šä¸ªè¿æ¥è¿åˆ°å…¶ä»–çš„ASï¼Œå¹¶ä¸”å¯ä»¥å¸®åŠ©å…¶ä»–çš„ASä¼ è¾“åŒ…ï¼Œæ¯”å¦‚ä¸»å¹²ç½‘ã€‚</p><p>å¦‚ä½•ä»å‡ºå£çš„è¿è¥å•†åˆ°è¾¾äº‘å¹³å°çš„è¾¹ç•Œè·¯ç”±å™¨ï¼Ÿåœ¨è·¯ç”±å™¨ä¹‹é—´éœ€è¦é€šè¿‡BGPåè®®å®ç°ï¼ŒBGPåˆåˆ†ä¸ºä¸¤ç±»ï¼ŒeBGPå’ŒiBGPã€‚è‡ªæ²»ç³»ç»Ÿä¹‹é—´ã€è¾¹ç•Œè·¯ç”±å™¨ä¹‹é—´ä½¿ç”¨eBGPå¹¿æ’­è·¯ç”±ã€‚å†…éƒ¨ç½‘ç»œä¹Ÿéœ€è¦è®¿é—®å…¶ä»–çš„è‡ªæ²»ç³»ç»Ÿã€‚</p><p>è¾¹ç•Œè·¯ç”±å™¨å¦‚ä½•å°†BGPå­¦ä¹ åˆ°çš„è·¯ç”±å¯¼å…¥åˆ°å†…éƒ¨ç½‘ç»œå‘¢ï¼Ÿé€šè¿‡è¿è¡ŒiBGPï¼Œä½¿å†…éƒ¨çš„è·¯ç”±å™¨èƒ½å¤Ÿæ‰¾åˆ°åˆ°è¾¾å¤–ç½‘ç›®çš„åœ°æœ€å¥½çš„è¾¹ç•Œè·¯ç”±å™¨ã€‚</p><p>ç½‘ç«™çš„SLBçš„å…¬ç½‘IPåœ°å€æ—©å·²ç»é€šè¿‡äº‘å¹³å°çš„è¾¹ç•Œè·¯ç”±å™¨ï¼Œè®©å…¨ç½‘éƒ½çŸ¥é“äº†ã€‚äºæ˜¯è¿™ä¸ªä¸‹å•çš„ç½‘ç»œåŒ…é€‰æ‹©çš„ä¸‹ä¸€è·³æ˜¯A2ï¼Œä¹Ÿå³å°†A2çš„MACåœ°å€æ”¾åœ¨ç›®æ ‡MACåœ°å€ä¸­ã€‚</p><p>åˆ°è¾¾A2ä¹‹åï¼Œä»è·¯ç”±è¡¨ä¸­æ‰¾åˆ°ä¸‹ä¸€è·³æ˜¯è·¯ç”±å™¨C1ï¼Œäºæ˜¯å°†ç›®æ ‡MACæ¢æˆC1çš„MACåœ°å€ã€‚åˆ°è¾¾C1ä¹‹åï¼Œæ‰¾åˆ°ä¸‹ä¸€è·³æ˜¯C2ï¼Œå°†ç›®æ ‡MACåœ°å€è®¾ç½®ä¸ºC2çš„MACã€‚åˆ°è¾¾C2åï¼Œæ‰¾åˆ°ä¸‹ä¸€è·³æ˜¯äº‘å¹³å°çš„è¾¹ç•Œè·¯ç”±å™¨ï¼Œäºæ˜¯å°†ç›®æ ‡MACè®¾ç½®ä¸ºè¾¹ç•Œè·¯ç”±å™¨çš„MACåœ°å€ã€‚</p><p>ä½ ä¼šå‘ç°ï¼Œè¿™ä¸€è·¯ï¼Œéƒ½æ˜¯åªæ¢MACï¼Œä¸æ¢ç›®æ ‡IPåœ°å€ã€‚è¿™å°±æ˜¯æ‰€è°“ä¸‹ä¸€è·³çš„æ¦‚å¿µã€‚</p><p>åœ¨äº‘å¹³å°çš„è¾¹ç•Œè·¯ç”±å™¨ï¼Œä¼šå°†ä¸‹å•çš„åŒ…è½¬å‘è¿›æ¥ï¼Œç»è¿‡æ ¸å¿ƒäº¤æ¢ï¼Œæ±‡èšäº¤æ¢ï¼Œåˆ°è¾¾å¤–ç½‘ç½‘å…³èŠ‚ç‚¹ä¸Šçš„SLBçš„å…¬ç½‘IPåœ°å€ã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ‰‹æœºåˆ°SLBçš„å…¬ç½‘IPï¼Œæ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„è¿æ¥ï¼Œè¿æ¥çš„è¿‡ç¨‹å‘é€äº†å¾ˆå¤šåŒ…ã€‚æ‰€æœ‰è¿™äº›åŒ…ï¼Œæ— è®ºæ˜¯TCPä¸‰æ¬¡æ¡æ‰‹ï¼Œè¿˜æ˜¯HTTPSçš„å¯†é’¥äº¤æ¢ï¼Œéƒ½æ˜¯è¦èµ°å¦‚æ­¤å¤æ‚çš„è¿‡ç¨‹åˆ°è¾¾SLBçš„ï¼Œå½“ç„¶æ¯ä¸ªåŒ…èµ°çš„è·¯å¾„ä¸ä¸€å®šä¸€è‡´ã€‚</p><p>ç½‘ç»œåŒ…èµ°åœ¨è¿™ä¸ªå¤æ‚çš„é“è·¯ä¸Šï¼Œå¾ˆå¯èƒ½ä¸€ä¸å°å¿ƒå°±ä¸¢äº†ï¼Œæ€ä¹ˆåŠï¼Ÿè¿™å°±éœ€è¦å€ŸåŠ©TCPçš„æœºåˆ¶é‡æ–°å‘é€ã€‚</p><p>æ—¢ç„¶TCPè¦å¯¹åŒ…è¿›è¡Œé‡ä¼ ï¼Œå°±éœ€è¦ç»´æŠ¤Sequence Numberï¼Œçœ‹å“ªäº›åŒ…åˆ°äº†ï¼Œå“ªäº›æ²¡åˆ°ï¼Œå“ªäº›éœ€è¦é‡ä¼ ï¼Œä¼ è¾“çš„é€Ÿåº¦åº”è¯¥æ§åˆ¶åˆ°å¤šå°‘ï¼Œè¿™å°±æ˜¯<strong>TCPçš„æ»‘åŠ¨çª—å£åè®®</strong>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/8a/3d/8af90ec349e69f2bf13a565e4179903d.jpg?wh=2199*1620\" alt=\"\"></p><p>æ•´ä¸ªTCPçš„å‘é€ï¼Œä¸€å¼€å§‹ä¼šåå•†ä¸€ä¸ªSequence Numberï¼Œä»è¿™ä¸ªSequence Numberå¼€å§‹ï¼Œæ¯ä¸ªåŒ…éƒ½æœ‰ç¼–å·ã€‚æ»‘åŠ¨çª—å£å°†æ¥æ”¶æ–¹çš„ç½‘ç»œåŒ…åˆ†æˆå››ä¸ªéƒ¨åˆ†ï¼š</p><ul>\n<li>\n<p>å·²ç»æ¥æ”¶ï¼Œå·²ç»ACKï¼Œå·²ç»äº¤ç»™åº”ç”¨å±‚çš„åŒ…ï¼›</p>\n</li>\n<li>\n<p>å·²ç»æ¥æ”¶ï¼Œå·²ç»ACKï¼Œæœªå‘é€ç»™åº”ç”¨å±‚ï¼›</p>\n</li>\n<li>\n<p>å·²ç»æ¥æ”¶ï¼Œå°šæœªå‘é€ACKï¼›</p>\n</li>\n<li>\n<p>æœªæ¥æ”¶ï¼Œå°šæœ‰ç©ºé—²çš„ç¼“å­˜åŒºåŸŸã€‚</p>\n</li>\n</ul><p>å¯¹äºTCPå±‚æ¥è®²ï¼Œæ¯ä¸€ä¸ªåŒ…éƒ½æœ‰ACKã€‚ACKéœ€è¦ä»SLBå›å¤åˆ°æ‰‹æœºç«¯ï¼Œå°†ä¸Šé¢çš„é‚£ä¸ªè¿‡ç¨‹åå‘æ¥ä¸€éï¼Œå½“ç„¶è·¯å¾„ä¸ä¸€å®šä¸€è‡´ï¼Œå¯è§ACKä¹Ÿä¸æ˜¯é‚£ä¹ˆè½»æ¾çš„äº‹æƒ…ã€‚</p><p>å¦‚æœå‘é€æ–¹è¶…è¿‡ä¸€å®šçš„æ—¶é—´æ²¡æœ‰æ”¶åˆ°ACKï¼Œå°±ä¼šé‡æ–°å‘é€ã€‚åªæœ‰TCPå±‚ACKè¿‡çš„åŒ…ï¼Œæ‰ä¼šå‘ç»™åº”ç”¨å±‚ï¼Œå¹¶ä¸”åªä¼šå‘é€ä¸€ä»½ï¼Œå¯¹äºä¸‹å•çš„åœºæ™¯ï¼Œåº”ç”¨å±‚æ˜¯HTTPå±‚ã€‚</p><p>ä½ å¯èƒ½ä¼šé—®äº†ï¼ŒTCPè€æ˜¯é‡å¤å‘é€ï¼Œä¼šä¸ä¼šå¯¼è‡´ä¸€ä¸ªå•ä¸‹äº†ä¸¤éï¼Ÿæ˜¯å¦è¦æ±‚æœåŠ¡ç«¯å®ç°å¹‚ç­‰ï¼Ÿä»TCPçš„æœºåˆ¶æ¥çœ‹ï¼Œæ˜¯ä¸ä¼šçš„ã€‚åªæœ‰æ”¶ä¸åˆ°ACKçš„åŒ…æ‰ä¼šé‡å¤å‘ï¼Œå‘åˆ°æ¥æ”¶ç«¯ï¼Œåœ¨çª—å£é‡Œé¢åªä¿å­˜ä¸€ä»½ï¼Œæ‰€ä»¥åœ¨åŒä¸€ä¸ªTCPè¿æ¥ä¸­ï¼Œä¸ç”¨æ‹…å¿ƒé‡ä¼ å¯¼è‡´äºŒæ¬¡ä¸‹å•ã€‚</p><p>ä½†æ˜¯TCPè¿æ¥ä¼šå› ä¸ºæŸç§åŸå› æ–­äº†ï¼Œä¾‹å¦‚æ‰‹æœºä¿¡å·ä¸å¥½ï¼Œè¿™ä¸ªæ—¶å€™æ‰‹æœºæŠŠæ‰€æœ‰çš„åŠ¨ä½œé‡æ–°åšä¸€éï¼Œå»ºç«‹ä¸€ä¸ªæ–°çš„TCPè¿æ¥ï¼Œåœ¨HTTPå±‚è°ƒç”¨ä¸¤æ¬¡RESTful APIã€‚è¿™ä¸ªæ—¶å€™å¯èƒ½ä¼šå¯¼è‡´ä¸¤éä¸‹å•çš„æƒ…å†µï¼Œå› è€ŒRESTful APIéœ€è¦å®ç°å¹‚ç­‰ã€‚</p><p>å½“ACKè¿‡çš„åŒ…å‘ç»™åº”ç”¨å±‚ä¹‹åï¼ŒTCPå±‚çš„ç¼“å­˜å°±ç©ºäº†å‡ºæ¥ï¼Œè¿™ä¼šå¯¼è‡´ä¸Šé¢å›¾ä¸­çš„å¤§ä¸‰è§’ï¼Œä¹Ÿå³æ¥æ”¶æ–¹èƒ½å¤Ÿå®¹çº³çš„æ€»ç¼“å­˜ï¼Œæ•´ä½“é¡ºæ—¶é’ˆæ»‘åŠ¨ã€‚å°çš„ä¸‰è§’å½¢ï¼Œä¹Ÿå³æ¥æ”¶æ–¹å‘ŠçŸ¥å‘é€æ–¹çš„çª—å£æ€»å¤§å°ï¼Œä¹Ÿå³è¿˜æ²¡æœ‰å®Œå…¨ç¡®è®¤æ”¶åˆ°çš„ç¼“å­˜å¤§å°ï¼Œå¦‚æœæŠŠè¿™äº›å¡«æ»¡äº†ï¼Œå°±ä¸èƒ½å†å‘äº†ï¼Œå› ä¸ºæ²¡ç¡®è®¤æ”¶åˆ°ï¼Œæ‰€ä»¥ä¸€ä¸ªéƒ½ä¸èƒ½æ‰”ã€‚</p><h2>8.ä»æ•°æ®ä¸­å¿ƒè¿›ç½‘å…³ï¼Œå…¬ç½‘NATæˆç§ç½‘</h2><p>åŒ…ä»æ‰‹æœºç«¯ç»å†åƒéš¾ä¸‡é™©ï¼Œç»ˆäºåˆ°äº†SLBçš„å…¬ç½‘IPæ‰€åœ¨çš„å…¬ç½‘ç½‘å£ã€‚ç”±äºåŒ¹é…ä¸Šäº†MACåœ°å€å’ŒIPåœ°å€ï¼Œå› è€Œå°†ç½‘ç»œåŒ…æ”¶äº†è¿›æ¥ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/e0/95/e070a0bcbb249c36c80ee1300003f395.jpg?wh=1920*1783\" alt=\"\"></p><p>åœ¨è™šæ‹Ÿç½‘å…³èŠ‚ç‚¹çš„å¤–ç½‘ç½‘å£ä¸Šï¼Œä¼šæœ‰ä¸€ä¸ªNATè§„åˆ™ï¼Œå°†å…¬ç½‘IPåœ°å€è½¬æ¢ä¸ºVPCé‡Œé¢çš„ç§ç½‘IPåœ°å€ï¼Œè¿™ä¸ªç§ç½‘IPåœ°å€å°±æ˜¯SLBçš„HAProxyæ‰€åœ¨çš„è™šæ‹Ÿæœºçš„ç§ç½‘IPåœ°å€ã€‚</p><p>å½“ç„¶ä¸ºäº†æ‰¿è½½æ¯”è¾ƒå¤§çš„ååé‡ï¼Œè™šæ‹Ÿç½‘å…³èŠ‚ç‚¹ä¼šæœ‰å¤šä¸ªï¼Œç‰©ç†ç½‘ç»œä¼šå°†æµé‡åˆ†å‘åˆ°ä¸åŒçš„è™šæ‹Ÿç½‘å…³èŠ‚ç‚¹ã€‚åŒæ ·HAProxyä¹Ÿä¼šæ˜¯ä¸€ä¸ªå¤§çš„é›†ç¾¤ï¼Œè™šæ‹Ÿç½‘å…³ä¼šé€‰æ‹©æŸä¸ªè´Ÿè½½å‡è¡¡èŠ‚ç‚¹ï¼Œå°†æŸä¸ªè¯·æ±‚åˆ†å‘ç»™å®ƒï¼Œè´Ÿè½½å‡è¡¡ä¹‹åæ˜¯Controllerå±‚ï¼Œä¹Ÿæ˜¯éƒ¨ç½²åœ¨è™šæ‹Ÿæœºé‡Œé¢çš„ã€‚</p><p>å½“ç½‘ç»œåŒ…é‡Œé¢çš„ç›®æ ‡IPå˜æˆç§æœ‰IPåœ°å€ä¹‹åï¼Œè™šæ‹Ÿè·¯ç”±ä¼šæŸ¥æ‰¾è·¯ç”±è§„åˆ™ï¼Œå°†ç½‘ç»œåŒ…ä»ä¸‹æ–¹çš„ç§ç½‘ç½‘å£å‘å‡ºæ¥ã€‚è¿™ä¸ªæ—¶å€™åŒ…çš„æ ¼å¼ä¸ºï¼š</p><ul>\n<li>\n<p>æºMACï¼šç½‘å…³MACï¼›</p>\n</li>\n<li>\n<p>ç›®æ ‡MACï¼šHAProxyè™šæ‹Ÿæœºçš„MACï¼›</p>\n</li>\n<li>\n<p>æºIPï¼šUEçš„å…¬ç½‘IPï¼›</p>\n</li>\n<li>\n<p>ç›®æ ‡IPï¼šHAProxyè™šæ‹Ÿæœºçš„ç§ç½‘IPã€‚</p>\n</li>\n</ul><h2>9.è¿›å…¥éš§é“æ‰“æ ‡ç­¾ï¼ŒRPCè¿œç¨‹è°ƒç”¨ä¸‹å•</h2><p>åœ¨è™šæ‹Ÿè·¯ç”±èŠ‚ç‚¹ä¸Šï¼Œä¹Ÿä¼šæœ‰OVSï¼Œå°†ç½‘ç»œåŒ…å°è£…åœ¨VXLANéš§é“é‡Œé¢ï¼ŒVXLAN IDå°±æ˜¯ç»™ä½ çš„ç§Ÿæˆ·åˆ›å»ºVPCçš„æ—¶å€™åˆ†é…çš„ã€‚åŒ…çš„æ ¼å¼ä¸ºï¼š</p><ul>\n<li>\n<p>å¤–å±‚æºMACï¼šç½‘å…³ç‰©ç†æœºMACï¼›</p>\n</li>\n<li>\n<p>å¤–å±‚ç›®æ ‡MACï¼šç‰©ç†æœºAçš„MACï¼›</p>\n</li>\n<li>\n<p>å¤–å±‚æºIPï¼šç½‘å…³ç‰©ç†æœºIPï¼›</p>\n</li>\n<li>\n<p>å¤–å±‚ç›®æ ‡IPï¼šç‰©ç†æœºAçš„IPï¼›</p>\n</li>\n<li>\n<p>å†…å±‚æºMACï¼šç½‘å…³MACï¼›</p>\n</li>\n<li>\n<p>å†…å±‚ç›®æ ‡MACï¼šHAProxyè™šæ‹Ÿæœºçš„MACï¼›</p>\n</li>\n<li>\n<p>å†…å±‚æºIPï¼šUEçš„å…¬ç½‘IPï¼›</p>\n</li>\n<li>\n<p>å†…å±‚ç›®æ ‡IPï¼šHAProxyè™šæ‹Ÿæœºçš„ç§ç½‘IPã€‚</p>\n</li>\n</ul><p>åœ¨ç‰©ç†æœºAä¸Šï¼ŒOVSä¼šå°†åŒ…ä»VXLANéš§é“é‡Œé¢è§£å‡ºæ¥ï¼Œå‘ç»™HAProxyæ‰€åœ¨çš„è™šæ‹Ÿæœºã€‚HAProxyæ‰€åœ¨çš„è™šæ‹Ÿæœºå‘ç°MACåœ°å€åŒ¹é…ï¼Œç›®æ ‡IPåœ°å€åŒ¹é…ï¼Œå°±æ ¹æ®TCPç«¯å£ï¼Œå°†åŒ…å‘ç»™HAProxyè¿›ç¨‹ï¼Œå› ä¸ºHAProxyæ˜¯åœ¨ç›‘å¬è¿™ä¸ªTCPç«¯å£çš„ã€‚å› è€ŒHAProxyå°±æ˜¯è¿™ä¸ªTCPè¿æ¥çš„æœåŠ¡ç«¯ï¼Œå®¢æˆ·ç«¯æ˜¯æ‰‹æœºã€‚å¯¹äºTCPçš„è¿æ¥çŠ¶æ€ã€æ»‘åŠ¨çª—å£ç­‰ï¼Œéƒ½æ˜¯åœ¨HAProxyä¸Šç»´æŠ¤çš„ã€‚</p><p>åœ¨è¿™é‡ŒHAProxyæ˜¯ä¸€ä¸ªå››å±‚è´Ÿè½½å‡è¡¡ï¼Œä¹Ÿå³å®ƒåªè§£æåˆ°TCPå±‚ï¼Œé‡Œé¢çš„HTTPåè®®å®ƒä¸å…³å¿ƒï¼Œå°±å°†è¯·æ±‚è½¬å‘ç»™åç«¯çš„å¤šä¸ªControllerå±‚çš„ä¸€ä¸ªã€‚</p><p>HAProxyå‘å‡ºå»çš„ç½‘ç»œåŒ…å°±è®¤ä¸ºHAProxyæ˜¯å®¢æˆ·ç«¯äº†ï¼Œçœ‹ä¸åˆ°æ‰‹æœºç«¯äº†ã€‚ç½‘ç»œåŒ…æ ¼å¼å¦‚ä¸‹ï¼š</p><ul>\n<li>\n<p>æºMACï¼šHAProxyæ‰€åœ¨è™šæ‹Ÿæœºçš„MACï¼›</p>\n</li>\n<li>\n<p>ç›®æ ‡MACï¼šControllerå±‚æ‰€åœ¨è™šæ‹Ÿæœºçš„MACï¼›</p>\n</li>\n<li>\n<p>æºIPï¼šHAProxyæ‰€åœ¨è™šæ‹Ÿæœºçš„ç§ç½‘IPï¼›</p>\n</li>\n<li>\n<p>ç›®æ ‡IPï¼šControllerå±‚æ‰€åœ¨è™šæ‹Ÿæœºçš„ç§ç½‘IPã€‚</p>\n</li>\n</ul><p>å½“ç„¶è¿™ä¸ªåŒ…å‘å‡ºå»ä¹‹åï¼Œè¿˜æ˜¯ä¼šè¢«ç‰©ç†æœºä¸Šçš„OVSæ”¾å…¥VXLANéš§é“é‡Œé¢ï¼Œç½‘ç»œåŒ…æ ¼å¼ä¸ºï¼š</p><ul>\n<li>\n<p>å¤–å±‚æºMACï¼šç‰©ç†æœºAçš„MACï¼›</p>\n</li>\n<li>\n<p>å¤–å±‚ç›®æ ‡MACï¼šç‰©ç†æœºBçš„MACï¼›</p>\n</li>\n<li>\n<p>å¤–å±‚æºIPï¼šç‰©ç†æœºAçš„IPï¼›</p>\n</li>\n<li>\n<p>å¤–å±‚ç›®æ ‡IPï¼šç‰©ç†æœºBçš„IPï¼›</p>\n</li>\n<li>\n<p>å†…å±‚æºMACï¼šHAProxyæ‰€åœ¨è™šæ‹Ÿæœºçš„MACï¼›</p>\n</li>\n<li>\n<p>å†…å±‚ç›®æ ‡MACï¼šControllerå±‚æ‰€åœ¨è™šæ‹Ÿæœºçš„MACï¼›</p>\n</li>\n<li>\n<p>å†…å±‚æºIPï¼šHAProxyæ‰€åœ¨è™šæ‹Ÿæœºçš„ç§ç½‘IPï¼›</p>\n</li>\n<li>\n<p>å†…å±‚ç›®æ ‡IPï¼šControllerå±‚æ‰€åœ¨è™šæ‹Ÿæœºçš„ç§ç½‘IPã€‚</p>\n</li>\n</ul><p>åœ¨ç‰©ç†æœºBä¸Šï¼ŒOVSä¼šå°†åŒ…ä»VXLANéš§é“é‡Œé¢è§£å‡ºæ¥ï¼Œå‘ç»™Controllerå±‚æ‰€åœ¨çš„è™šæ‹Ÿæœºã€‚Controllerå±‚æ‰€åœ¨çš„è™šæ‹Ÿæœºå‘ç°MACåœ°å€åŒ¹é…ï¼Œç›®æ ‡IPåœ°å€åŒ¹é…ï¼Œå°±æ ¹æ®TCPç«¯å£ï¼Œå°†åŒ…å‘ç»™Controllerå±‚çš„è¿›ç¨‹ï¼Œå› ä¸ºå®ƒåœ¨ç›‘å¬è¿™ä¸ªTCPç«¯å£ã€‚</p><p>åœ¨HAProxyå’ŒControllerå±‚ä¹‹é—´ï¼Œç»´æŠ¤ä¸€ä¸ªTCPçš„è¿æ¥ã€‚</p><p>Controllerå±‚æ”¶åˆ°åŒ…ä¹‹åï¼Œå®ƒæ˜¯å…³å¿ƒHTTPé‡Œé¢æ˜¯ä»€ä¹ˆçš„ï¼Œäºæ˜¯è§£å¼€HTTPçš„åŒ…ï¼Œå‘ç°æ˜¯ä¸€ä¸ªPOSTè¯·æ±‚ï¼Œå†…å®¹æ˜¯ä¸‹å•è´­ä¹°ä¸€ä¸ªè¯¾ç¨‹ã€‚</p><h2>10.ä¸‹å•æ‰£å‡åº“å­˜ä¼˜æƒ åˆ¸ï¼Œæ•°æ®å…¥åº“è¿”å›æˆåŠŸ</h2><p>ä¸‹å•æ˜¯ä¸€ä¸ªå¤æ‚çš„è¿‡ç¨‹ï¼Œå› è€Œå¾€å¾€åœ¨ç»„åˆæœåŠ¡å±‚ä¼šæœ‰ä¸€ä¸ªä¸“é—¨ç®¡ç†ä¸‹å•çš„æœåŠ¡ï¼ŒControllerå±‚ä¼šé€šè¿‡RPCè°ƒç”¨è¿™ä¸ªç»„åˆæœåŠ¡å±‚ã€‚</p><p>å‡è®¾æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯Dubboï¼Œåˆ™Controllerå±‚éœ€è¦è¯»å–æ³¨å†Œä¸­å¿ƒï¼Œå°†ä¸‹å•æœåŠ¡çš„è¿›ç¨‹åˆ—è¡¨æ‹¿å‡ºæ¥ï¼Œé€‰å‡ºä¸€ä¸ªæ¥è°ƒç”¨ã€‚</p><p>Dubboä¸­é»˜è®¤çš„RPCåè®®æ˜¯Hessian2ã€‚Hessian2å°†ä¸‹å•çš„è¿œç¨‹è°ƒç”¨åºåˆ—åŒ–ä¸ºäºŒè¿›åˆ¶è¿›è¡Œä¼ è¾“ã€‚</p><p>Nettyæ˜¯ä¸€ä¸ªéé˜»å¡çš„åŸºäºäº‹ä»¶çš„ç½‘ç»œä¼ è¾“æ¡†æ¶ã€‚Controllerå±‚å’Œä¸‹å•æœåŠ¡ä¹‹é—´ï¼Œä½¿ç”¨äº†Nettyçš„ç½‘ç»œä¼ è¾“æ¡†æ¶ã€‚æœ‰äº†Nettyï¼Œå°±ä¸ç”¨è‡ªå·±ç¼–å†™å¤æ‚çš„å¼‚æ­¥Socketç¨‹åºäº†ã€‚Nettyä½¿ç”¨çš„æ–¹å¼ï¼Œå°±æ˜¯å’±ä»¬è®²<a href=\"https://time.geekbang.org/column/article/9293\">Socketç¼–ç¨‹</a>çš„æ—¶å€™ï¼Œä¸€ä¸ªé¡¹ç›®ç»„æ”¯æ’‘å¤šä¸ªé¡¹ç›®ï¼ˆIOå¤šè·¯å¤ç”¨ï¼Œä»æ´¾äººç›¯ç€åˆ°æœ‰äº‹é€šçŸ¥ï¼‰è¿™ç§æ–¹å¼ã€‚</p><p>Nettyè¿˜æ˜¯å·¥ä½œåœ¨Socketè¿™ä¸€å±‚çš„ï¼Œå‘é€çš„ç½‘ç»œåŒ…è¿˜æ˜¯åŸºäºTCPçš„ã€‚åœ¨TCPçš„ä¸‹å±‚ï¼Œè¿˜æ˜¯éœ€è¦å°è£…ä¸ŠIPå¤´å’ŒMACå¤´ã€‚å¦‚æœè·¨ç‰©ç†æœºé€šä¿¡ï¼Œè¿˜æ˜¯éœ€è¦å°è£…çš„å¤–å±‚çš„VXLANéš§é“é‡Œé¢ã€‚å½“ç„¶åº•å±‚çš„è¿™äº›å°è£…ï¼ŒNettyéƒ½ä¸æ„ŸçŸ¥ï¼Œå®ƒåªè¦åšå¥½å®ƒçš„å¼‚æ­¥é€šä¿¡å³å¯ã€‚</p><p>åœ¨Nettyçš„æœåŠ¡ç«¯ï¼Œä¹Ÿå³ä¸‹å•æœåŠ¡ä¸­ï¼Œæ”¶åˆ°è¯·æ±‚åï¼Œå…ˆç”¨Hessian2çš„æ ¼å¼è¿›è¡Œè§£å‹ç¼©ã€‚ç„¶åå°†è¯·æ±‚åˆ†å‘åˆ°çº¿ç¨‹ä¸­è¿›è¡Œå¤„ç†ï¼Œåœ¨çº¿ç¨‹ä¸­ï¼Œä¼šè°ƒç”¨ä¸‹å•çš„ä¸šåŠ¡é€»è¾‘ã€‚</p><p>ä¸‹å•çš„ä¸šåŠ¡é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œå¾€å¾€è¦è°ƒç”¨åŸºç¡€æœåŠ¡å±‚é‡Œé¢çš„åº“å­˜æœåŠ¡ã€ä¼˜æƒ åˆ¸æœåŠ¡ç­‰ï¼Œå°†å¤šä¸ªæœåŠ¡è°ƒç”¨å®Œæ¯•ï¼Œæ‰ç®—ä¸‹å•æˆåŠŸã€‚ä¸‹å•æœåŠ¡è°ƒç”¨åº“å­˜æœåŠ¡å’Œä¼˜æƒ åˆ¸æœåŠ¡ï¼Œä¹Ÿæ˜¯é€šè¿‡Dubboçš„æ¡†æ¶ï¼Œé€šè¿‡æ³¨å†Œä¸­å¿ƒæ‹¿åˆ°åº“å­˜æœåŠ¡å’Œä¼˜æƒ åˆ¸æœåŠ¡çš„åˆ—è¡¨ï¼Œç„¶åé€‰ä¸€ä¸ªè°ƒç”¨ã€‚</p><p>è°ƒç”¨çš„æ—¶å€™ï¼Œç»Ÿä¸€ä½¿ç”¨Hessian2è¿›è¡Œåºåˆ—åŒ–ï¼Œä½¿ç”¨Nettyè¿›è¡Œä¼ è¾“ï¼Œåº•å±‚å¦‚æœè·¨ç‰©ç†æœºï¼Œä»ç„¶éœ€è¦é€šè¿‡VXLANçš„å°è£…å’Œè§£å°è£…ã€‚</p><p>å’±ä»¬ä»¥åº“å­˜ä¸ºä¾‹å­çš„æ—¶å€™ï¼Œè®²è¿°è¿‡å¹‚ç­‰çš„æ¥å£å®ç°çš„é—®é¢˜ã€‚å› ä¸ºå¦‚æœæ‰£å‡åº“å­˜ï¼Œä»…ä»…æ˜¯è°è°ƒç”¨è°å‡ä¸€ã€‚è¿™æ ·å­˜åœ¨çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœæ‰£å‡åº“å­˜å› ä¸ºä¸€æ¬¡è°ƒç”¨å¤±è´¥ï¼Œè€Œå¤šæ¬¡è°ƒç”¨ï¼Œè¿™é‡ŒæŒ‡çš„ä¸æ˜¯TCPå¤šæ¬¡é‡è¯•ï¼Œè€Œæ˜¯åº”ç”¨å±‚è°ƒç”¨çš„å¤šæ¬¡é‡è¯•ï¼Œå°±ä¼šå­˜åœ¨åº“å­˜æ‰£å‡å¤šæ¬¡çš„æƒ…å†µã€‚</p><p>è¿™é‡Œå¸¸ç”¨çš„æ–¹æ³•æ˜¯ï¼Œä½¿ç”¨ä¹è§‚é”ï¼ˆCompare and Setï¼Œç®€ç§°CASï¼‰ã€‚CASè¦è€ƒè™‘ä¸‰ä¸ªæ–¹é¢ï¼Œå½“å‰çš„åº“å­˜æ•°ã€é¢„æœŸåŸæ¥çš„åº“å­˜æ•°å’Œç‰ˆæœ¬ï¼Œä»¥åŠæ–°çš„åº“å­˜æ•°ã€‚åœ¨æ“ä½œä¹‹å‰ï¼ŒæŸ¥è¯¢å‡ºåŸæ¥çš„åº“å­˜æ•°å’Œç‰ˆæœ¬ï¼ŒçœŸæ­£æ‰£å‡åº“å­˜çš„æ—¶å€™ï¼Œåˆ¤æ–­å¦‚æœå½“å‰åº“å­˜çš„å€¼ä¸é¢„æœŸåŸå€¼å’Œç‰ˆæœ¬ç›¸åŒ¹é…ï¼Œåˆ™å°†åº“å­˜å€¼æ›´æ–°ä¸ºæ–°å€¼ï¼Œå¦åˆ™ä¸åšä»»ä½•æ“ä½œã€‚</p><p>è¿™æ˜¯ä¸€ç§åŸºäºçŠ¶æ€è€ŒéåŸºäºåŠ¨ä½œçš„è®¾è®¡ï¼Œç¬¦åˆRESTfulçš„æ¶æ„è®¾è®¡åŸåˆ™ã€‚è¿™æ ·çš„è®¾è®¡æœ‰åˆ©äºé«˜å¹¶å‘åœºæ™¯ã€‚å½“å¤šä¸ªçº¿ç¨‹å°è¯•ä½¿ç”¨CASåŒæ—¶æ›´æ–°åŒä¸€ä¸ªå˜é‡æ—¶ï¼Œåªæœ‰å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹èƒ½æ›´æ–°å˜é‡çš„å€¼ï¼Œè€Œå…¶å®ƒçº¿ç¨‹éƒ½å¤±è´¥ï¼Œå¤±è´¥çš„çº¿ç¨‹å¹¶ä¸ä¼šè¢«æŒ‚èµ·ï¼Œè€Œæ˜¯è¢«å‘ŠçŸ¥è¿™æ¬¡ç«äº‰ä¸­å¤±è´¥ï¼Œå¹¶å¯ä»¥å†æ¬¡å°è¯•ã€‚</p><p>æœ€ç»ˆï¼Œå½“ä¸‹å•æ›´æ–°åˆ°åˆ†å¸ƒå¼æ•°æ®åº“ä¸­ä¹‹åï¼Œæ•´ä¸ªä¸‹å•è¿‡ç¨‹æ‰ç®—çœŸæ­£å‘Šä¸€æ®µè½ã€‚</p><p>å¥½äº†ï¼Œç»è¿‡äº†åä¸ªè¿‡ç¨‹ï¼Œä¸‹å•ç»ˆäºæˆåŠŸäº†ï¼Œä½ æ˜¯å¦å¯¹è¿™ä¸ªè¿‡ç¨‹äº†å¦‚æŒ‡æŒäº†å‘¢ï¼Ÿå¦‚æœå‘ç°å¯¹å“ªäº›ç»†èŠ‚æ¯”è¾ƒæ¨¡ç³Šï¼Œå¯ä»¥å›å»çœ‹ä¸€ä¸‹ç›¸åº”çš„ç« èŠ‚ï¼Œç›¸ä¿¡ä¼šæœ‰æ›´åŠ æ·±å…¥çš„ç†è§£ã€‚</p><p>åˆ°æ­¤ï¼Œæˆ‘å¸¦ç€ä½ ç”¨ä¸‹å•è¿‡ç¨‹æŠŠç½‘ç»œåè®®çš„çŸ¥è¯†éƒ½å¤ä¹ äº†ä¸€éã€‚æˆäººä»¥é±¼ä¸å¦‚æˆäººä»¥æ¸”ã€‚ä¸‹ä¸€èŠ‚ï¼Œæˆ‘å°†ä¼šå¸¦ä½ æ¥æ­å»ºä¸€ä¸ªç½‘ç»œå®éªŒç¯å¢ƒï¼Œé…åˆå®éªŒæ¥è¯´æ˜ç†è®ºã€‚</p><p>æ¬¢è¿ä½ ç•™è¨€å’Œæˆ‘è®¨è®ºã€‚è¶£è°ˆç½‘ç»œåè®®ï¼Œæˆ‘ä»¬ä¸‹æœŸè§ï¼</p>","neighbors":{"left":{"article_title":"ç¬¬38è®² | çŸ¥è¯†ä¸²è®²ï¼šç”¨åŒåä¸€çš„æ•…äº‹ä¸²èµ·ç¢ç‰‡çš„ç½‘ç»œåè®®ï¼ˆä¸­ï¼‰","id":12996},"right":{"article_title":"ç¬¬40è®² | æ­å»ºä¸€ä¸ªç½‘ç»œå®éªŒç¯å¢ƒï¼šæˆäººä»¥é±¼ä¸å¦‚æˆäººä»¥æ¸”","id":13124}},"comments":[{"had_liked":false,"id":20349,"user_name":"ç½‘ç»œå·²æ–­å¼€","can_delete":false,"product_type":"c1","uid":1062138,"ip_address":"","ucode":"FBE0527E62A82B","user_header":"","comment_is_top":false,"comment_ctime":1534388794,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"57368963642","product_id":100007101,"comment_content":"è¿™ä¸ªä¸“è¾‘ä½¿æˆ‘å—ç›Šé¢‡å¤šï¼Œå€¼å¾—ä¹‹å‰è¯»ä¸‰éã€‚","like_count":14},{"had_liked":false,"id":21811,"user_name":"å°å®‡å®™","can_delete":false,"product_type":"c1","uid":1029649,"ip_address":"","ucode":"BBFFC39CB9E26F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b6/11/e8506a04.jpg","comment_is_top":false,"comment_ctime":1535357793,"is_pvip":false,"replies":[{"id":"7827","content":"æ²¡æ”¶åˆ°ç¡®è®¤æ˜¯ä¸ä¼šé‡æ–°å‘åº”ç”¨å±‚çš„ã€‚ä¸‹å•çš„å¹‚ç­‰æ˜¯ç”¨è®¢å•idï¼Œä½†æ˜¯åº“å­˜çš„å¹‚ç­‰ä¸æ˜¯","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1535375894,"ip_address":"","comment_id":21811,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31600128865","product_id":100007101,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œåœ¨åº“å­˜çš„ä¾‹å­é‡Œè¾¹ï¼Œå› ä¸ºç½‘ç»œçš„æŠ–åŠ¨ï¼Œç”¨æˆ·æ²¡æ”¶åˆ°ç¡®è®¤ä¿¡å·ï¼Œåº”ç”¨å±‚ä¼šé‡æ–°å‘èµ·æ‰£å‡åº“å­˜çš„è¯·æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å®¢æˆ·ç«¯çš„è®¢å•ID ï¼Œæ¥è¯†åˆ«è¿™æ¬¡çš„è¯·æ±‚å±äºåŒä¸€ä¸ªè®¢å•çš„è¯·æ±‚ï¼Œè€Œä¸ä¼šé‡å¤æ‰£å‡åº“å­˜ï¼Œè¿™ä¹Ÿå¯ä»¥å®ç°å¹‚ç­‰å§ï¼Œä¹è§‚é”ä¸æ˜¯åº”å¯¹å¤šä¸ªç”¨æˆ·ï¼Œå¤šä¸ªçº¿ç¨‹çš„å¹¶å‘è¯·æ±‚ çš„æ—¶å€™å®ç°å¹‚ç­‰çš„æ–¹æ³•å—ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422877,"discussion_content":"æ²¡æ”¶åˆ°ç¡®è®¤æ˜¯ä¸ä¼šé‡æ–°å‘åº”ç”¨å±‚çš„ã€‚ä¸‹å•çš„å¹‚ç­‰æ˜¯ç”¨è®¢å•idï¼Œä½†æ˜¯åº“å­˜çš„å¹‚ç­‰ä¸æ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535375894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":20170,"user_name":"ç¨‹å¯","can_delete":false,"product_type":"c1","uid":1019204,"ip_address":"","ucode":"02CDE64EDF9A3C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/44/f3d0017c.jpg","comment_is_top":false,"comment_ctime":1534296895,"is_pvip":false,"replies":[{"id":"7021","content":"dnsè¿”å›å¤šä¸ª","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1534298857,"ip_address":"","comment_id":20170,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31599067967","product_id":100007101,"comment_content":"è¶…å“¥ï¼Œèµä¸€ä¸ªï¼<br><br>æœ‰ä¸ªå°é—®é¢˜ï¼Œä¸‹å•ç³»åˆ—ä¸€å’ŒäºŒä¸­ï¼Œç³»åˆ—ä¸€é‡Œé¢è¯´æ‹¿åˆ°ä¸‰ä¸ªslbçš„å…¬ç½‘ipï¼ŒäºŒé‡Œé¢ç›´æ¥å°±å»ºè¿äº†ã€‚<br>æœ¬æ„æ˜¯è¯´å®¢æˆ·ç«¯localdnséšæœºè¿”å›ä¸€ä¸ªï¼Œè¿˜æ˜¯slbè‡ªèº«åšè´Ÿè½½å‡è¡¡æä¾›ä¸‰ä¸ªé‡Œé¢çš„ä¸€ä¸ªï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422139,"discussion_content":"dnsè¿”å›å¤šä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1534298857,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":20145,"user_name":"favorlm","can_delete":false,"product_type":"c1","uid":1120997,"ip_address":"","ucode":"CFD52127AA6E1D","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/e5/6899701e.jpg","comment_is_top":false,"comment_ctime":1534292608,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18714161792","product_id":100007101,"comment_content":"å¿˜è®°vxlanæ˜¯ä»€ä¹ˆäº†","like_count":4,"discussions":[{"author":{"id":2252043,"avatar":"https://static001.geekbang.org/account/avatar/00/22/5d/0b/446cde8e.jpg","nickname":"Andrew","note":"","ucode":"D9A7E34F637C8B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368331,"discussion_content":"å®¹å™¨äº‘äº’è”ä½¿ç”¨çš„éš§é“åè®®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618661457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52482,"user_name":"stone","can_delete":false,"product_type":"c1","uid":1174491,"ip_address":"","ucode":"336DDEC95DF202","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/YlhEhLOxBkVdWfggdGeZmibw3PRXQicuicVsN2nwdrfZhsTLye2MR0nYvmYGO9TjTjEiceIEjIkxZ9bTXdtzNDLa3Q/132","comment_is_top":false,"comment_ctime":1545391172,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14430293060","product_id":100007101,"comment_content":"æˆ‘æ˜¯è·ªç€çœ‹å®Œçš„ï¼ŒæœŸå¾…ä¸‹ä¸€ä¸ªä¸“æ ","like_count":3,"discussions":[{"author":{"id":1031970,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/bf/22/26530e66.jpg","nickname":"è¶æ—©","note":"","ucode":"949FB3AA250D80","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338802,"discussion_content":"è‡³äºä¹ˆï¼Œå…„å¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609384227,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55010,"user_name":"eason","can_delete":false,"product_type":"c1","uid":1340823,"ip_address":"","ucode":"0B4D5627AAE4CF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIlSe5wRWM6EnVpVOkmJ9HoBpBaqgQK7ZYlAsVl40CVs0picrma5Aq90ffiaAUBHra1Idag4KyBSCXA/132","comment_is_top":false,"comment_ctime":1546000411,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10135935003","product_id":100007101,"comment_content":"æ„Ÿè§‰è€å¸ˆè¿™æ ·ä¸²è®²ç‰¹åˆ«å¥½ï¼ŒæŠŠå‰é¢çš„é›¶ç¢çš„çŸ¥è¯†ç‚¹ä¸²èµ·æ¥ï¼Œè™½ç„¶ç›®å‰æˆ‘è¿˜æ˜¯æ¯”è¾ƒèœã€‚ã€‚ã€‚","like_count":2},{"had_liked":false,"id":20224,"user_name":"å¤æ´›å…‹çš„æ•‘èµ","can_delete":false,"product_type":"c1","uid":1021334,"ip_address":"","ucode":"44453DD27A3216","user_header":"https://static001.geekbang.org/account/avatar/00/0f/95/96/0020bd67.jpg","comment_is_top":false,"comment_ctime":1534320300,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10124254892","product_id":100007101,"comment_content":"æé—®ï¼šä¸ºä»€ä¹ˆæœ¬åœ°èƒ½å¤Ÿpingé€šæœåŠ¡å™¨ï¼ŒåŒæ–¹ä¹Ÿèƒ½é€šè¿‡sftpä¼ è¾“æ–‡ä»¶ï¼Œä½†æ˜¯æœåŠ¡å™¨ä¸èƒ½pingé€šæœ¬åœ°ï¼Œæœ¬åœ°æ— æ³•é€šè¿‡scpå‘½ä»¤ä»æœåŠ¡å™¨ä¸‹è½½æ–‡ä»¶ï¼Ÿ<br><br>éƒ½æ˜¯åœ¨åŒä¸€å†…ç½‘ç¯å¢ƒã€‚","like_count":2,"discussions":[{"author":{"id":1001970,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/49/f2/25cfa472.jpg","nickname":"å¯’æºª","note":"","ucode":"67B9F1A1C15A20","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381696,"discussion_content":"ä¸€ä¸ªæœˆçš„åœ°é“é€šå‹¤æ—¶é—´ï¼Œå­¦å®Œäº†è€å¸ˆçš„è¯¾ç¨‹ï¼Œæ”¶è·é¢‡ä¸°ã€é†é†çŒé¡¶ã€‚åŒäº‹ä¹Ÿæ‰“å¼€äº†ç½‘ç»œä¸–ç•Œçš„å¤§é—¨ã€‚\nä½†æ˜¯æ•´ä¸ªè¯¾ç¨‹ä¸­å¥½åƒæ²¡æœ‰æ¶‰åŠåˆ°tcpçš„æ‹†è£…åŒ…æœºåˆ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625189850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":20158,"user_name":"ç¨‹å¯","can_delete":false,"product_type":"c1","uid":1019204,"ip_address":"","ucode":"02CDE64EDF9A3C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/44/f3d0017c.jpg","comment_is_top":false,"comment_ctime":1534295312,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10124229904","product_id":100007101,"comment_content":"ğŸ®ç‰›","like_count":2},{"had_liked":false,"id":282896,"user_name":"blue mountain","can_delete":false,"product_type":"c1","uid":1132969,"ip_address":"","ucode":"4300CD0A85A7C7","user_header":"https://static001.geekbang.org/account/avatar/00/11/49/a9/903cc835.jpg","comment_is_top":false,"comment_ctime":1615454184,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5910421480","product_id":100007101,"comment_content":"çœŸä¸é”™ï¼Œåˆšå·¥ä½œå°±è®¢é˜…äº†ï¼Œé‚£æ—¶å€™çœ‹äº†æ„Ÿè§‰å¾ˆæ·±å¥¥ï¼Œæ”¾äº†åŠå¹´å†çœ‹ï¼Œä¸€åˆ‡éƒ½å¾ˆé€šé€ï¼Œéå¸¸å¥½çš„è¯¾ç¨‹ã€‚","like_count":1},{"had_liked":false,"id":244408,"user_name":"Jupiter","can_delete":false,"product_type":"c1","uid":2125382,"ip_address":"","ucode":"072E5C34CDE8AC","user_header":"https://static001.geekbang.org/account/avatar/00/20/6e/46/a612177a.jpg","comment_is_top":false,"comment_ctime":1598508968,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5893476264","product_id":100007101,"comment_content":"ç°åœ¨å‘ç°æ•´ä¸ªç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªCRUDç å†œæ˜¯ç«™åœ¨äº†å¥½å¤šä¸ªå·¨äººçš„è‚©è†€ä¸Šã€‚æƒ­æ„§çš„æ˜¯ç°åœ¨è¿˜ä¸å¤§äº†è§£è¿™äº›å·¨äººã€‚åˆ˜è€å¸ˆçš„è¯¾ç¨‹æ£’æ£’å“’ï¼Œè¶£è°ˆ - å½¢è±¡ç”ŸåŠ¨ï¼Œé€šä¿—æ˜“æ‡‚ï¼Œè€Œä¸”è¿˜æœ‰å®è·µï¼Œå·²ç»è®¢é˜…äº†æ‚¨çš„è¶£è°ˆLinux. æˆ‘è¿˜æ˜¯åŸºç¡€çŸ¥è¯†æ¬ ç¼ºï¼Œç°åœ¨ä¸¤å¤©åœ¨å®¶åˆ·å®Œæ‚¨çš„è¿™ä¸ªè¯¾ åé¢çš„éƒ¨åˆ†æœ‰äº›æ¶ˆåŒ–ä¸è‰¯ï¼Œ è¯¾ç¨‹å¾ˆæ£’ï¼Œæˆ‘è¿˜ä¼šç»§ç»­å¤šåˆ·å‡ éçš„ã€‚","like_count":1},{"had_liked":false,"id":61228,"user_name":"ååå–œæ¬¢ä½ ","can_delete":false,"product_type":"c1","uid":1101985,"ip_address":"","ucode":"76D9E22B263D6B","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/a1/07027529.jpg","comment_is_top":false,"comment_ctime":1547641671,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5842608967","product_id":100007101,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œçœ‹äº†è¿™èŠ‚ï¼Œå¯¹äºæ¥å£çš„å¹‚ç­‰æ·±æœ‰æ„Ÿè§¦ï¼Œæˆ‘ä»¬é¡¹ç›®å°±å‘ç”Ÿè¿‡è¿™ç§é—®é¢˜ï¼Œä¸‹å•ä¸€æ¬¡å› ä¸ºç½‘ç»œå¡é¡¿ï¼Œæœ€åå‘ç°ä¸‹å•ä¸¤æ¬¡äº†ï¼Œå¥½å°´å°¬ï¼Œåº“å­˜æ‰£äº†å¤šæ¬¡","like_count":1,"discussions":[{"author":{"id":1391500,"avatar":"https://static001.geekbang.org/account/avatar/00/15/3b/8c/ab7dd1fc.jpg","nickname":"LMZ-ManUtd","note":"","ucode":"D2C04481D30494","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311301,"discussion_content":"æœ€åæ€ä¹ˆè§£å†³çš„å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602301365,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":40782,"user_name":"æ‹‰æ¬§","can_delete":false,"product_type":"c1","uid":1206605,"ip_address":"","ucode":"40996A8093A95F","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/4d/81c44f45.jpg","comment_is_top":false,"comment_ctime":1542676898,"is_pvip":false,"replies":[{"id":"14729","content":"ä¸æ˜¯å•¦ï¼ŒåŠ æ²¹","user_name":"ä½œè€…å›å¤","user_name_real":"åˆ˜è¶…@ç½‘æ˜“äº‘","uid":"1001590","ctime":1542704998,"ip_address":"","comment_id":40782,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5837644194","product_id":100007101,"comment_content":"æ¯çœ‹ä¸€ééƒ½ä¼šæœ‰æ–°çš„æ”¶è·ï¼Œæ˜¯æˆ‘åŸºç¡€å¤ªå·®äº†ä¹ˆï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001590,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/48/76/0c7d4d23.jpg","nickname":"åˆ˜è¶…","note":"","ucode":"196BF3F499E8FE","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":429609,"discussion_content":"ä¸æ˜¯å•¦ï¼ŒåŠ æ²¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542704998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":348698,"user_name":"å¢¨ç™½â„¢","can_delete":false,"product_type":"c1","uid":1384844,"ip_address":"","ucode":"8D0447363A7E87","user_header":"https://static001.geekbang.org/account/avatar/00/15/21/8c/e7241683.jpg","comment_is_top":false,"comment_ctime":1655308308,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1655308308","product_id":100007101,"comment_content":"è¿™ä¸€ç« å¯ä»¥å†è¯»ä¸‰é","like_count":0},{"had_liked":false,"id":341977,"user_name":"åŠç‚¹èŒ¶å‡‰","can_delete":false,"product_type":"c1","uid":2520742,"ip_address":"","ucode":"188BB33969D2D2","user_header":"https://static001.geekbang.org/account/avatar/00/26/76/a6/aac72751.jpg","comment_is_top":false,"comment_ctime":1649937491,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1649937491","product_id":100007101,"comment_content":"å…³äºäº‘æœåŠ¡å™¨æœ‰ä¸ªç–‘é—®<br><br>ä¾‹å¦‚é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ä¸­è´­ä¹°ä¸€å°æœåŠ¡å™¨å­¦ç”Ÿä»·åªéœ€è¦ç™¾å…ƒå·¦å³ä¸€å¹´ï¼Œä¼šåˆ†é…ä¸€ä¸ªå…¬ç½‘ipï¼Œå¯ä»¥åœ¨æœåŠ¡å™¨ä¸­ç›‘å¬ä»»æ„ç«¯å£ï¼Œè®¿é—®çš„è¯éƒ½å¯ä»¥åˆ°è¾¾è¿™äº›ç«¯å£ï¼Œé—®é¢˜æ˜¯åªèŠ±äº†ä¸€ç™¾å…ƒï¼Œä¸å¤ªå¯èƒ½éƒ½åˆ†é…ä¸€ä¸ªå…¬ç½‘ipå§ï¼Ÿ<br><br>å¯èƒ½ä¸“æ ä¸­æœ‰æåˆ°ï¼Œä½†æ˜¯åˆ°æ•°æ®ä¸­å¿ƒã€äº‘è®¡ç®—ã€å®¹å™¨åŒ–è¿™éƒ¨åˆ†çš„æ—¶å€™å¤ªé«˜æ·±äº†ï¼Œè·³è¿‡äº†éƒ¨åˆ†å†…å®¹ï¼Œæœ›è§£ç­”<br>æ®æˆ‘äº†è§£å¦‚æœæ˜¯naptï¼Œåªæ˜¯ä¸€ä¸ªå…¬ç½‘ipç«¯å£æ˜ å°„åˆ°å†…ç½‘ç§æœ‰ipï¼Œä½†æ˜¯è¿™ä¸ªå’Œäº‘æœåŠ¡å™¨ä¸­æœ‰äº›ä¸ä¸€æ ·ï¼Œå®ƒæ˜¯æ‰€æœ‰ç«¯å£éƒ½å¯ä»¥ä½¿ç”¨","like_count":0},{"had_liked":false,"id":278434,"user_name":"Better me","can_delete":false,"product_type":"c1","uid":1261959,"ip_address":"","ucode":"CADF08D357489A","user_header":"https://static001.geekbang.org/account/avatar/00/13/41/87/46d7e1c2.jpg","comment_is_top":false,"comment_ctime":1612940760,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"1612940760","product_id":100007101,"comment_content":"â€œä½†æ˜¯ TCP è¿æ¥ä¼šå› ä¸ºæŸç§åŸå› æ–­äº†ï¼Œä¾‹å¦‚æ‰‹æœºä¿¡å·ä¸å¥½ï¼Œè¿™ä¸ªæ—¶å€™æ‰‹æœºæŠŠæ‰€æœ‰çš„åŠ¨ä½œé‡æ–°åšä¸€éï¼Œå»ºç«‹ä¸€ä¸ªæ–°çš„ TCP è¿æ¥ï¼Œåœ¨ HTTP å±‚è°ƒç”¨ä¸¤æ¬¡ RESTful APIã€‚è¿™ä¸ªæ—¶å€™å¯èƒ½ä¼šå¯¼è‡´ä¸¤éä¸‹å•çš„æƒ…å†µï¼Œå› è€Œ RESTful API éœ€è¦å®ç°å¹‚ç­‰ã€‚â€ä¸‹å•ä¹‹å‰è¯·æ±‚ä½“é‡Œæ²¡æœ‰è®¢å•å·ä¹‹ç±»çš„æ ‡è¯†ï¼Œå¦‚ä½•å»åšä¸‹å•æ“ä½œçš„å¹‚ç­‰","like_count":0,"discussions":[{"author":{"id":3163119,"avatar":"","nickname":"ä½™å†¬å—","note":"","ucode":"68D69FE74F2CB0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589542,"discussion_content":"éœ€è¦ä¸€ä¸ªrequest_idæ¥æ ‡è¯†è¿™ä¸€ä¸ªè¯·æ±‚ã€‚å¦‚æœæ˜¯é‡è¯•çš„è¯·æ±‚ï¼Œrequest_idè‚¯å®šæ˜¯ä¸€æ ·çš„ï¼Œåªéœ€è¦å¤„ç†å…¶ä¸­ä¸€ä¸ªå°±è¡Œäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665076082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2005513,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/9a/09/af250bf8.jpg","nickname":"ç†Š@ç†Š","note":"","ucode":"2A792BA769348E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559794,"discussion_content":"è¿™é‡Œåº”è¯¥æœ‰è®¢å•id å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648973150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275436,"user_name":"é­é¢–çª","can_delete":false,"product_type":"c1","uid":1184964,"ip_address":"","ucode":"097544C71EBDA7","user_header":"https://static001.geekbang.org/account/avatar/00/12/14/c4/e354d8ba.jpg","comment_is_top":false,"comment_ctime":1611539417,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611539417","product_id":100007101,"comment_content":"è¿™é‡Œè®²çš„ä¸å¤ªå¯¹ï¼šGTP-Uéš§é“å°è£…çš„æ˜¯L3çš„ipåŒ…ï¼Œä¸åŒ…å«ä»¥å¤ªç½‘çš„MACåœ°å€ã€‚å¦å¤–ç©ºå£ä¸æ˜¯ä»¥å¤ªç½‘ï¼Œä¹Ÿä¸ä¼šæœ‰ä»¥å¤ªç½‘çš„MACåœ°å€ã€‚","like_count":0},{"had_liked":false,"id":228765,"user_name":"Geek_wadehao","can_delete":false,"product_type":"c1","uid":1918225,"ip_address":"","ucode":"F46FFAFC4933D6","user_header":"https://static001.geekbang.org/account/avatar/00/1d/45/11/51aaa953.jpg","comment_is_top":false,"comment_ctime":1592803542,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592803542","product_id":100007101,"comment_content":"æˆ‘çŸ¥é“æ‰‹æœºçš„wifiæ˜¯æœ‰macåœ°å€çš„ï¼Œåœ¨æ‰‹æœºçš„è®¾ç½®é‡Œä¹Ÿå¯ä»¥çœ‹åˆ°wifiçš„macåœ°å€ï¼ˆæ— çº¿å±€åŸŸç½‘macåœ°å€ï¼‰ï¼Œå®ƒåº”è¯¥æ˜¯å›ºåŒ–åœ¨wifiç½‘å¡ä¸­ï¼›ä½†æ‰‹æœºUEçš„macåœ°å€æ˜¯å›ºåŒ–åœ¨æ‰‹æœºé‡Œå—ï¼Ÿï¼ˆåº”è¯¥ä¸æ˜¯simå¡é‡Œå§ï¼Ÿï¼‰ä»æ‰‹æœºçš„è®¾ç½®é‡Œå¥½åƒæ²¡æ‰¾åˆ°UEçš„macåœ°å€ã€‚","like_count":0},{"had_liked":false,"id":183558,"user_name":"benny","can_delete":false,"product_type":"c1","uid":1123043,"ip_address":"","ucode":"E2F30AF0C808D9","user_header":"https://static001.geekbang.org/account/avatar/00/11/22/e3/510b69f9.jpg","comment_is_top":false,"comment_ctime":1583066047,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583066047","product_id":100007101,"comment_content":"ä½†æ˜¯ TCP è¿æ¥ä¼šå› ä¸ºæŸç§åŸå› æ–­äº†ï¼Œä¾‹å¦‚æ‰‹æœºä¿¡å·ä¸å¥½ï¼Œè¿™ä¸ªæ—¶å€™æ‰‹æœºæŠŠæ‰€æœ‰çš„åŠ¨ä½œé‡æ–°åšä¸€éï¼Œå»ºç«‹ä¸€ä¸ªæ–°çš„ TCP è¿æ¥ï¼Œåœ¨ HTTP å±‚è°ƒç”¨ä¸¤æ¬¡ RESTful APIã€‚è¿™ä¸ªâ€œHTTP å±‚è°ƒç”¨ä¸¤æ¬¡ RESTful APâ€æ˜¯æŒ‡ä¸šåŠ¡ä»£ç é‡Œçš„é‡è¯•å—ï¼Ÿæ˜¯ç”±è°å‘å‡ºç¬¬äºŒæ¬¡httpè°ƒç”¨ï¼Ÿ","like_count":0},{"had_liked":false,"id":173795,"user_name":"Geek_d26e63","can_delete":false,"product_type":"c1","uid":1809676,"ip_address":"","ucode":"24125CED20B6DF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/fBOybgVTWXYXxaicaVEysXCjkKT13dX7icAj96KibJ815mia1FvYro9KcbA3xtwnIxmPJ38Vt6rmg6vp0auGKel93A/132","comment_is_top":false,"comment_ctime":1579692997,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1579692997","product_id":100007101,"comment_content":"ä»è¯„è®ºæ´»è·ƒåº¦å¯çŸ¥ï¼Œè¿™ä¹¦å­˜æ´»ç‡å¾ˆä½","like_count":0,"discussions":[{"author":{"id":1330065,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/N0NACGUr8dNAbN6BdiagPHBaB0EnyDsI9zWpwJteqTY38apOEnTOA7JkBAQnzYKJBgxu3Q8YMUILwLAB6camn4w/132","nickname":"Swing","note":"","ucode":"55FCA9ECEFBBEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":204390,"discussion_content":"ä¸æç½‘ç»œç›¸å…³çš„ã€‚ã€‚ã€‚åŸºç¡€ä¸æ‰å®çš„ï¼Œä¼°è®¡æ˜¯å¤ªéš¾äº†ã€‚ã€‚\næˆ‘æ˜¯androidå®¢æˆ·ç«¯å¼€å‘ï¼Œä¸»è¦æ˜¯ appå±‚å’Œframeworkå±‚ã€‚ã€‚\nçœ‹çš„è¿™ä¸ªè¯¾ç¨‹ä¸€è„¸æ‡µé€¼ã€‚ã€‚åˆ°æ•°æ®ä¸­å¿ƒ åŸºæœ¬å°±æ˜¯å¬å¤©ä¹¦äº†ã€‚ã€‚\né€¼ç€è‡ªå·±å¬å¤©ä¹¦èˆ¬è¿‡ä¸€éï¼Œæœ‰ä¸ªå°è±¡","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584168865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":159888,"user_name":"é¥­ç²’","can_delete":false,"product_type":"c1","uid":1153455,"ip_address":"","ucode":"4C3220B0D43997","user_header":"https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg","comment_is_top":false,"comment_ctime":1575817824,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575817824","product_id":100007101,"comment_content":"AS è¾¹ç•Œè·¯ç”±å™¨é—´çš„è½¬å‘ä¹Ÿç›¸å½“äºæ¬§æ´²åå›½æ¸¸ï¼Ÿåªæ¢ MAC å°±è¡Œï¼Œä¸æ¢ IP åœ°å€ã€‚","like_count":0},{"had_liked":false,"id":145532,"user_name":"å¤©ç©ºåªèƒ½ä»°æœ›ï¼Ÿ","can_delete":false,"product_type":"c1","uid":1102357,"ip_address":"","ucode":"D87BF6A57DAB42","user_header":"https://static001.geekbang.org/account/avatar/00/10/d2/15/4d43d05a.jpg","comment_is_top":false,"comment_ctime":1572311464,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572311464","product_id":100007101,"comment_content":"å¾ˆç²¾å½©ï¼Œç¬¬ä¸€æ¬¡æœ‰äººç»™æˆ‘å±•ç°ä¸€ä¸ªå®Œæ•´çš„ç½‘ç»œè¯·æ±‚æµç¨‹","like_count":0},{"had_liked":false,"id":132205,"user_name":"ç¨‹åºå‘˜å¤§å¤©åœ°","can_delete":false,"product_type":"c1","uid":1249001,"ip_address":"","ucode":"7A21F15FEE2D5B","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/e9/98b6ea61.jpg","comment_is_top":false,"comment_ctime":1568042375,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568042375","product_id":100007101,"comment_content":"æœ‰æ”¶è·ï¼Œè¿˜éœ€è¦çœ‹å¾ˆå¤šéï¼","like_count":0}]}
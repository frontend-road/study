{"id":284064,"title":"16 | Flink On Kubernetes Native实操演示","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-Flink\">https://gitee.com/geektime-geekbang/geektime-Flink</a></p>","comments":[{"had_liked":false,"id":345525,"user_name":"Geek_051aa3","can_delete":false,"product_type":"c3","uid":3002884,"ip_address":"","ucode":"7C8B8725A1FC96","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/OU9Msu38tqGzU2Tza4GtsGqVEWSFXZiciaYpDHicAoDvJDibYbGibKnXiadVk6PJd6DAWymw9EzgyHqId33PC5MWG4eQ/132","comment_is_top":false,"comment_ctime":1652356512,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"镜像的制作过程在哪里有","like_count":0},{"had_liked":false,"id":337523,"user_name":"hehetown","can_delete":false,"product_type":"c3","uid":1304685,"ip_address":"","ucode":"0432057774E17D","user_header":"https://static001.geekbang.org/account/avatar/00/13/e8/6d/b7fc6792.jpg","comment_is_top":false,"comment_ctime":1646879266,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"请教一个问题：按照教程 kubernetes-session.sh resource manager起不来，请问是什么原因：\nINFO  org.apache.flink.runtime.resourcemanager.active.ActiveResourceManager [] - Starting the resource manager.\nINFO  org.apache.flink.runtime.resourcemanager.slotmanager.DeclarativeSlotManager [] - Closing the slot manager.\nINFO  org.apache.flink.runtime.resourcemanager.slotmanager.DeclarativeSlotManager [] - Suspending the slot manager.\nERROR org.apache.flink.runtime.resourcemanager.active.ActiveResourceManager [] - Fatal error occurred in ResourceManager.\norg.apache.flink.runtime.resourcemanager.exceptions.ResourceManagerException: Could not start the ResourceManager akka.tcp:&#47;&#47;flink@my-first-flink-cluster.default:6123&#47;user&#47;rpc&#47;resourcemanager_1\n        at org.apache.flink.runtime.resourcemanager.ResourceManager.onStart(ResourceManager.java:223) ~[flink-dist_2.12-1.14.3.jar:1.14.3]\n        at org.apache.flink.runtime.rpc.RpcEndpoint.internalCallOnStart(RpcEndpoint.java:181) ~[flink-dist_2.12-1.14.3.jar:1.14.3]\n        at org.apache.flink.runtime.rpc.akka.AkkaRpcActor$StoppedState.lambda$start$0(AkkaRpcActor.java:624) ~[flink-rpc-akka_7204fcdf-6732-4f67-8a25-1d3d4b67a0c2.jar:1.14.3]\n        at org.apache.flink.runtime.concurrent.akk","like_count":0,"discussions":[{"author":{"id":3002884,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/OU9Msu38tqGzU2Tza4GtsGqVEWSFXZiciaYpDHicAoDvJDibYbGibKnXiadVk6PJd6DAWymw9EzgyHqId33PC5MWG4eQ/132","nickname":"Geek_051aa3","note":"","ucode":"7C8B8725A1FC96","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571799,"discussion_content":"我也遇到这个报错了，请问你解决了么，头很痛","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652411532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319541,"user_name":"wuyiccc","can_delete":false,"product_type":"c3","uid":2003806,"ip_address":"","ucode":"FE51673432316F","user_header":"https://static001.geekbang.org/account/avatar/00/1e/93/5e/a13f1e1a.jpg","comment_is_top":false,"comment_ctime":1635845224,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"flink on k8s native 模式如何指定数据的数据输出路径啊\n我目前执行这样的命令  .&#47;bin&#47;flink run -d -m 192.168.213.105:31226 -Dkubernetes.cluster-id=flink-k8s-native-session-cluster examples&#47;batch&#47;WordCount.jar --output &#47;tmp&#47;result 可以把执行结果存在taskmanager机器所在的&#47;tmp&#47;result目录下, 但是我想把结果存储在hdfs上, 执行这样的命令.&#47;bin&#47;flink run -d -m 192.168.213.105:31226 -Dkubernetes.cluster-id=flink-k8s-native-session-cluster examples&#47;batch&#47;WordCount.jar --output hdfs:&#47;&#47;192.168.137.146.17:8020&#47;flink-training&#47;wordcount-result.txt, 会报错\n\nCaused by: org.apache.flink.runtime.client.JobExecutionException: Cannot initialize task &#39;DataSink (CsvOutputFormat (path: hdfs:&#47;&#47;192.168.137.146.17:8020&#47;flink-training&#47;wordcount-result.txt, delimiter:  ))&#39;: Could not find a file system implementation for scheme &#39;hdfs&#39;. The scheme is not directly supported by Flink and no Hadoop file system to support this scheme could be loaded. For a full list of supported file systems, please see https:&#47;&#47;ci.apache.org&#47;projects&#47;flink&#47;flink-docs-stable&#47;ops&#47;filesystems&#47;\n\n","like_count":0},{"had_liked":false,"id":286952,"user_name":"言希","can_delete":false,"product_type":"c3","uid":1154218,"ip_address":"","ucode":"D7F80B86BCAF2E","user_header":"https://static001.geekbang.org/account/avatar/00/11/9c/aa/6f780187.jpg","comment_is_top":false,"comment_ctime":1617698898,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"老师问个问题，Flink on K8s Flink相关等日志是如何收集处理的 ？ ","like_count":0}]}
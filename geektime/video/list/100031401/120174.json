{"id":120174,"title":"67 | 将Staffjoy部署到本地Docker Compose环境(下)","content":"<ul>\n<li>\n<p>代码：<a href=\"https://gitee.com/geektime-geekbang/staffjoy\">https://gitee.com/geektime-geekbang/staffjoy</a></p>\n</li>\n<li>\n<p>课件：<a href=\"https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ\">https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ</a> 提取码: 1aeh</p>\n</li>\n</ul>","comments":[{"had_liked":false,"id":149316,"user_name":"朝如青丝暮成雪","can_delete":false,"product_type":"c3","uid":1164201,"ip_address":"","ucode":"95C98ECFBC1662","user_header":"https://static001.geekbang.org/account/avatar/00/11/c3/a9/aa5a5d8b.jpg","comment_is_top":false,"comment_ctime":1573190776,"is_pvip":false,"replies":[{"id":57428,"content":"谢谢你的建议！学习过程中碰到问题，自己主动解决，而且能把解决办法分享出来，这中学习方式收获最大。\n","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1573212808,"ip_address":"","comment_id":149316,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"docker 启动服务的时候，在Step 8&#47;13 :myaccount和app-service报错：【1、 RUN npm rebuild node-sass gyp verb `which` failed Error: not found: python2；2、Cannot download &quot;https:&#47;&#47;github.com&#47;sass&#47;node-sass&#47;releases&#47;download&#47;v4.12.0&#47;linux_musl-x64-79_binding.node&quot;:\nHTTP error 404 Not Found  】  查了半天，最后将frontend&#47;app&#47;dockerfile和frontend&#47;myaccount&#47;dockerfile的  【 RUN npm install 】 改为 【RUN npm install --unsafe-perm node-sass】 就可以了，希望可以帮到其他有错误的同学。","like_count":6,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473813,"discussion_content":"谢谢你的建议！学习过程中碰到问题，自己主动解决，而且能把解决办法分享出来，这中学习方式收获最大。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573212808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043446,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/eb/f6/ec7971f4.jpg","nickname":"固态U盘","note":"","ucode":"9C473DA25CB4C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282531,"discussion_content":"我在学习过程中也遇到这个错误了，多谢了。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1592010082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1132448,"avatar":"https://static001.geekbang.org/account/avatar/00/11/47/a0/f12115b7.jpg","nickname":"Sam.张朝","note":"","ucode":"FB20554D94B250","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589824,"discussion_content":"FROM node:14.20.1 as builder","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665327468,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"上海","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130595,"user_name":"arvilin","can_delete":false,"product_type":"c3","uid":1068914,"ip_address":"","ucode":"D40D4021226612","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/72/0c75c0bf.jpg","comment_is_top":false,"comment_ctime":1567491425,"is_pvip":false,"replies":[{"id":48923,"content":"这个错误提示一般是容器里头的应用无法连接mysql数据库造成，你需要核实应用的数据库连接字符串和密码设施是否正确(项目目录下的.env文件里头配置，可以在.env.example的基础上改)。\n\n如果配置是对的，那么另外，docker-compose启动的容器环境有一个独立网络的，它和本地的网络是不同网络，你可否尝试docker exec容器上去尝试ping本机ip，看是否通。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1567518214,"ip_address":"","comment_id":130595,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"波波老师，我这边使用centos构建的，docker-compose up出现这个问题，\n03-09-2019 06:11:45.041 [main] ERROR o.s.boot.SpringApplication.reportFailure - Application run failed\naccount-service_1    | org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org&#47;springframework&#47;boot&#47;autoconfigure&#47;orm&#47;jpa&#47;HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n是不是哪里还要设置","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466021,"discussion_content":"这个错误提示一般是容器里头的应用无法连接mysql数据库造成，你需要核实应用的数据库连接字符串和密码设施是否正确(项目目录下的.env文件里头配置，可以在.env.example的基础上改)。\n\n如果配置是对的，那么另外，docker-compose启动的容器环境有一个独立网络的，它和本地的网络是不同网络，你可否尝试docker exec容器上去尝试ping本机ip，看是否通。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567518214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1980888,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/39/d8/ea5dec9e.jpg","nickname":"涛","note":"","ucode":"88C8E5A17C65CF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":251038,"discussion_content":"ACCOUNT_DATASOURCE_URL=jdbc:mysql://host.docker.internal:3306/staffjoy_account?useUnicode=true&amp;characterEncoding=utf-8\nLinux上面不能用这个，用docker0也连不上主机数据库，这个怎么解决呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588059356,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1214223,"avatar":"https://static001.geekbang.org/account/avatar/00/12/87/0f/96f6e2e7.jpg","nickname":"冷吟閑酔","note":"","ucode":"00C535388B488F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":65397,"discussion_content":"可以重新启动Docker App 试试, 我重启后OK了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575000104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280555,"user_name":"WandaYu","can_delete":false,"product_type":"c3","uid":1600767,"ip_address":"","ucode":"17D97DF0803BF4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epvYc3REh3jaTt9hPxj4alDicbzsawNyvaxMCTKcPHtK2b8EoI0HTsicaTzsrVo2hBhl9tbGXiaUxFYA/132","comment_is_top":false,"comment_ctime":1614246339,"is_pvip":false,"replies":[{"id":102208,"content":"请看一下mail-svc中的MailSendService.java文件，其中有一小段邮件截获逻辑：\n&#47;&#47; In dev and uat - only send emails to @jskillcloud.com\n\n在dev和uat环境中，只能将邮件发送到某个配置的目标域名后缀的地址。\n\n你可以把这段逻辑注释掉，然后在dev&#47;uat环境中也可以任意发邮件了。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1614786453,"ip_address":"","comment_id":280555,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"docker-compose up 启动后，访问：http:&#47;&#47;www.staffjoy-v2.local&#47;sign-up 会报错：\n\nemail-service_1      | 25-02-2021 09:15:38.286 [AsyncThread-1] WARN  x.s.mail.service.MailSendService.log - {&quot;message&quot;:&quot;Intercepted sending due to non-production environment.&quot;,&quot;env&quot;:&quot;test&quot;,&quot;service&quot;:&quot;email-service&quot;}\n\n\nemail-service_1      | 25-02-2021 09:43:46.291 [AsyncThread-2] WARN  x.s.mail.service.MailSendService.log - {&quot;message&quot;:&quot;Intercepted sending due to non-production environment.&quot;,&quot;env&quot;:&quot;test&quot;,&quot;service&quot;:&quot;email-service&quot;}\n\n没有你提到的『新用户注册失败的话，异常日志里头有激活链接，复制到浏览器就可以激活注册。』","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516133,"discussion_content":"请看一下mail-svc中的MailSendService.java文件，其中有一小段邮件截获逻辑：\n// In dev and uat - only send emails to @jskillcloud.com\n\n在dev和uat环境中，只能将邮件发送到某个配置的目标域名后缀的地址。\n\n你可以把这段逻辑注释掉，然后在dev/uat环境中也可以任意发邮件了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614786453,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272691,"user_name":"草裡菌","can_delete":false,"product_type":"c3","uid":1241514,"ip_address":"","ucode":"E11C630ABA4370","user_header":"https://static001.geekbang.org/account/avatar/00/12/f1/aa/c29def94.jpg","comment_is_top":false,"comment_ctime":1610205894,"is_pvip":false,"replies":[{"id":98972,"content":"搞k8s+微服务开发，还是弄mac or linux环境吧。如果暂时没米，可以尝试搞个黑苹果，看B站上视频很多，或者黑果小兵博客https:&#47;&#47;blog.daliansky.net&#47;\n","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1610461376,"ip_address":"","comment_id":272691,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"实在是卡死在了docker-compos build的两个SPA项目的 npm install 步骤。无奈取巧直接把myaccount和app的dockerfile改成如下：\nFROM nginx\nEXPOSE 80\nCOPY myaccount&#47;dist &#47;usr&#47;share&#47;nginx&#47;html\n\nFROM nginx\nEXPOSE 80\nCOPY app&#47;dist &#47;usr&#47;share&#47;nginx&#47;html\n\n（因为源码里有build好的dist，所以才能这么用。)\n\n由于我本机是windows 10系统，docker和vbox的虚拟化技术好像不兼容，docker compose是在一台虚拟机中实现的。利用switchhosts工具把域名解析到这台虚拟机的ip即可，然后就可以和之前课程的手动部署一样访问了。\n\n真是有够折腾的。肝疼且低效。","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513357,"discussion_content":"搞k8s+微服务开发，还是弄mac or linux环境吧。如果暂时没米，可以尝试搞个黑苹果，看B站上视频很多，或者黑果小兵博客https://blog.daliansky.net/\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610461376,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287838,"user_name":"GodHao","can_delete":false,"product_type":"c3","uid":1461461,"ip_address":"","ucode":"811F8B19056574","user_header":"https://static001.geekbang.org/account/avatar/00/16/4c/d5/a060490a.jpg","comment_is_top":false,"comment_ctime":1618190843,"is_pvip":false,"replies":[{"id":104801,"content":"具体的异常描述是什么？可尝试写一个简单的spring boot服务，通过连接字符串访问本地mysql，将spring boot服务打成镜像，然后docker compose运行，看看能不能通。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1618669608,"ip_address":"","comment_id":287838,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"我在.env文件里配置jdbc连接，docker启动的时候还是报连接异常？","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518437,"discussion_content":"具体的异常描述是什么？可尝试写一个简单的spring boot服务，通过连接字符串访问本地mysql，将spring boot服务打成镜像，然后docker compose运行，看看能不能通。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618669608,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275280,"user_name":"浩仔是程序员","can_delete":false,"product_type":"c3","uid":1104601,"ip_address":"","ucode":"A7E5CF9E1571A2","user_header":"https://static001.geekbang.org/account/avatar/00/10/da/d9/f051962f.jpg","comment_is_top":false,"comment_ctime":1611422080,"is_pvip":false,"replies":[{"id":100286,"content":"spring boot服务的启动端口是可以配置的，参数是SERVER_PORT，可以根据不同部署环境进行调整。docker compose方式启动的话，配置在.env中(参考.env.example文件)。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1611849017,"ip_address":"","comment_id":275280,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"波波老师，网关那里映射的端口不是8081那些吗？为什么架构图说是改成了80端口呢？","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514294,"discussion_content":"spring boot服务的启动端口是可以配置的，参数是SERVER_PORT，可以根据不同部署环境进行调整。docker compose方式启动的话，配置在.env中(参考.env.example文件)。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611849017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":223812,"user_name":"猩猩","can_delete":false,"product_type":"c3","uid":1193852,"ip_address":"","ucode":"102ADA39C145CF","user_header":"https://static001.geekbang.org/account/avatar/00/12/37/7c/ffa62584.jpg","comment_is_top":false,"comment_ctime":1591185635,"is_pvip":false,"replies":[{"id":82672,"content":"请参考我在B站上的课程补充内容：\nhttps:&#47;&#47;www.bilibili.com&#47;video&#47;BV1Qi4y1b79r\n里头有一节讲Docker环境如何集成skywalking。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1591455777,"ip_address":"","comment_id":223812,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"波波老师，docker环境下如何集成skywalking呢","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497248,"discussion_content":"请参考我在B站上的课程补充内容：\nhttps://www.bilibili.com/video/BV1Qi4y1b79r\n里头有一节讲Docker环境如何集成skywalking。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591455777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219205,"user_name":"李振刚","can_delete":false,"product_type":"c3","uid":1546661,"ip_address":"","ucode":"311AF34DBCEA2B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1t2uEXMibLeDNVc3ibSeYbdKDuN2R7C3UibGYWIdCQ81p12OxrawdicOGdTMibzPNzw2aj3b489YgUlQ/132","comment_is_top":false,"comment_ctime":1589966182,"is_pvip":false,"replies":[{"id":81349,"content":"请参考这个stackoverflow上的帖子：\nhttps:&#47;&#47;stackoverflow.com&#47;questions&#47;24319662&#47;from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1590244347,"ip_address":"","comment_id":219205,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"DOCKER容器如何与WINDOWS 10 HOME  MYSQL通信","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495716,"discussion_content":"请参考这个stackoverflow上的帖子：\nhttps://stackoverflow.com/questions/24319662/from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590244347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206164,"user_name":"Jesse","can_delete":false,"product_type":"c3","uid":1932953,"ip_address":"","ucode":"626E713CE2929B","user_header":"https://static001.geekbang.org/account/avatar/00/1d/7e/99/93f3ece7.jpg","comment_is_top":false,"comment_ctime":1586800217,"is_pvip":false,"replies":[{"id":77414,"content":"从你的描述我还无法判断问题所在，需要进一步了解你的部署架构，请加我微信(bulldog2015，说明来自极客时间)。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1587038989,"ip_address":"","comment_id":206164,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"请问一下波波老师，您项目中的  account-api 项目是feign端，但是我看了spring官方教程中的例子，他是作为一个可运行的项目启动的。但是您demo里面只是个Jar包，我这边出尝试了jar包方式，它提示Load balancer does not have available server for client: (我的对外接口项目：调用了 accoutClinet)，如果将account-api作为可运行程序，我外部需要调用feign的accountClient类，就需要maven做打包处理。。。这个怎么解决，请教了","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491700,"discussion_content":"从你的描述我还无法判断问题所在，需要进一步了解你的部署架构，请加我微信(bulldog2015，说明来自极客时间)。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587038989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187147,"user_name":"Switch","can_delete":false,"product_type":"c3","uid":1049360,"ip_address":"","ucode":"D8A7F7F6A0BEA9","user_header":"https://static001.geekbang.org/account/avatar/00/10/03/10/26f9f762.jpg","comment_is_top":false,"comment_ctime":1584026012,"is_pvip":false,"replies":[{"id":72329,"content":"你好，在docker compose环境下运行staffjoy，路由映射用的是ProgrammaticMappingsProvider(参考retrieveMappings方法)，实际路由映射表是在ServiceDirectory中，也就是说路由表是程序代码预制的。\n\n可以根据需要定制自己的MappingsProvider，比如从本地文件(参考ConfigurationMappingsProvider)，或者注册中心eureka中获取路由表。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1584103208,"ip_address":"","comment_id":187147,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"波波老师， Docker 环境下， faraday 是怎么做路由的啊？没看到哪里有配置呀。","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487008,"discussion_content":"你好，在docker compose环境下运行staffjoy，路由映射用的是ProgrammaticMappingsProvider(参考retrieveMappings方法)，实际路由映射表是在ServiceDirectory中，也就是说路由表是程序代码预制的。\n\n可以根据需要定制自己的MappingsProvider，比如从本地文件(参考ConfigurationMappingsProvider)，或者注册中心eureka中获取路由表。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584103208,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186128,"user_name":"星期八","can_delete":false,"product_type":"c3","uid":1185504,"ip_address":"","ucode":"34A37F73A48E7F","user_header":"https://static001.geekbang.org/account/avatar/00/12/16/e0/7abad3cc.jpg","comment_is_top":false,"comment_ctime":1583762893,"is_pvip":false,"replies":[{"id":72010,"content":"我刚把相关项目的node-sass从^4.12.0改为了^4.13.0，并且提交到github上去了，我这边可以构建，你尝试下是否OK。\n\nlinux_musl-x64-79&#47;binding.node这个东东有3.5M，国内网络下载github较慢，建议最好有代理。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1583848260,"ip_address":"","comment_id":186128,"utype":1}],"discussion_count":3,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"老师：我的是Mac系统，在docker构建的时候报这个错，我在github上也找不到，这个路径，Cannot download &quot;https:&#47;&#47;github.com&#47;sass&#47;node-sass&#47;releases&#47;download&#47;v4.12.0&#47;linux_musl-x64-79_binding.node，\n只有https:&#47;&#47;github.com&#47;sass&#47;node-sass&#47;releases&#47;download&#47;v4.12.0&#47;linux_musl-x64-72_binding.node  这个该怎么办","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486635,"discussion_content":"我刚把相关项目的node-sass从^4.12.0改为了^4.13.0，并且提交到github上去了，我这边可以构建，你尝试下是否OK。\n\nlinux_musl-x64-79/binding.node这个东东有3.5M，国内网络下载github较慢，建议最好有代理。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583848260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1185504,"avatar":"https://static001.geekbang.org/account/avatar/00/12/16/e0/7abad3cc.jpg","nickname":"星期八","note":"","ucode":"34A37F73A48E7F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202097,"discussion_content":"我把超时时间调长了，好了👌","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583856659,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1185504,"avatar":"https://static001.geekbang.org/account/avatar/00/12/16/e0/7abad3cc.jpg","nickname":"星期八","note":"","ucode":"34A37F73A48E7F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":201895,"discussion_content":"好的 我试试","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583848491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":177290,"user_name":"Geek_7pzisy","can_delete":false,"product_type":"c3","uid":1007405,"ip_address":"","ucode":"2CAE41EDB5C910","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5f/2d/d294a2d2.jpg","comment_is_top":false,"comment_ctime":1581342527,"is_pvip":false,"replies":[{"id":69112,"content":"https:&#47;&#47;github.com&#47;Medium&#47;phantomjs&#47;releases&#47;download&#47;v2.1.1&#47;phantomjs-2.1.1-linux-x86_64.tar.bz2\n错误提示上面这个文件下载后无法正常解压，我这边尝试过phantomjs-2.1.1-linux-x86_64.tar.bz2这个文件是可以下载并正常解压的，可能你那边网络不好下载的不完整，建议在确保网络良好情况下再试。\n\n或者手动下载phantomjs-2.1.1-linux-x86_64.tar.bz2并解压，然后把bin&#47;phantomjs添加到path环境变量再尝试构建。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1581607067,"ip_address":"","comment_id":177290,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"bobo老师,docker-compose build执行后出现如下错误:\n\nhantomJS not found on PATH\nDownloading https:&#47;&#47;github.com&#47;Medium&#47;phantomjs&#47;releases&#47;download&#47;v2.1.1&#47;phantomjs-2.1.1-linux-x86_64.tar.bz2\nSaving to &#47;tmp&#47;phantomjs&#47;phantomjs-2.1.1-linux-x86_64.tar.bz2\nReceiving...\n\nReceived 730K total.\nExtracting tar contents (via spawned process)\nError extracting archive\nPhantom installation failed Error: Command failed: tar jxf &#47;tmp&#47;phantomjs&#47;phantomjs-2.1.1-linux-x86_64.tar.bz2\ntar: bunzip error -3\ntar: short read\n\n    at ChildProcess.exithandler (child_process.js:303:12)\n    at ChildProcess.emit (events.js:321:20)\n    at maybeClose (internal&#47;child_process.js:1026:16)\n    at Socket.&lt;anonymous&gt; (internal&#47;child_process.js:441:11)\n    at Socket.emit (events.js:321:20)\n    at Pipe.&lt;anonymous&gt; (net.js:668:12) {\n  killed: false,\n  code: 1,","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483377,"discussion_content":"https://github.com/Medium/phantomjs/releases/download/v2.1.1/phantomjs-2.1.1-linux-x86_64.tar.bz2\n错误提示上面这个文件下载后无法正常解压，我这边尝试过phantomjs-2.1.1-linux-x86_64.tar.bz2这个文件是可以下载并正常解压的，可能你那边网络不好下载的不完整，建议在确保网络良好情况下再试。\n\n或者手动下载phantomjs-2.1.1-linux-x86_64.tar.bz2并解压，然后把bin/phantomjs添加到path环境变量再尝试构建。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581607067,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147108,"user_name":"Joey","can_delete":false,"product_type":"c3","uid":1043225,"ip_address":"","ucode":"7ABEF57BA94051","user_header":"https://static001.geekbang.org/account/avatar/00/0f/eb/19/bf1dbcb4.jpg","comment_is_top":false,"comment_ctime":1572795634,"is_pvip":false,"replies":[{"id":56955,"content":"你好，Staffjoy的前端构建是要求Linux或者Mac环境的，Windows环境暂不支持。如果是Windows环境，有几个办法可以尝试：\n\n1. 安装Linux虚拟机(比如用Vagrant），在虚拟机里头构建。\n2. 有学员给出了一个在windows构建的修复方案(https:&#47;&#47;github.com&#47;spring2go&#47;staffjoy&#47;issues&#47;6)，可以尝试下\n3. 跳过构建，直接用波波已经打好的镜像(https:&#47;&#47;hub.docker.com&#47;u&#47;boboweike)，构建实际就是生成静态的html&#47;js文件，然后放在nginx目录下，打成镜像，这步骤理解即可，没必要完全动手操作。\n\n另外，如果在Linux或者Mac环境，也要求网络良好，github可以正常访问，因为Staffjoy的前端构建需要到github上下载东西。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1572921149,"ip_address":"","comment_id":147108,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"波波老师，我npm install 要卡很久，然后报错，该如何处理？\nStep 7&#47;13 : RUN npm install\n ---&gt; Running in 93b3e52c7521\n\nnpm ERR! Maximum call stack size exceeded\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     &#47;root&#47;.npm&#47;_logs&#47;2019-11-03T15_36_43_578Z-debug.log\nERROR: Service &#39;myaccount-service&#39; failed to build: The command &#39;&#47;bin&#47;sh -c npm install&#39; returned a non-zero code: 1","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473149,"discussion_content":"你好，Staffjoy的前端构建是要求Linux或者Mac环境的，Windows环境暂不支持。如果是Windows环境，有几个办法可以尝试：\n\n1. 安装Linux虚拟机(比如用Vagrant），在虚拟机里头构建。\n2. 有学员给出了一个在windows构建的修复方案(https://github.com/spring2go/staffjoy/issues/6)，可以尝试下\n3. 跳过构建，直接用波波已经打好的镜像(https://hub.docker.com/u/boboweike)，构建实际就是生成静态的html/js文件，然后放在nginx目录下，打成镜像，这步骤理解即可，没必要完全动手操作。\n\n另外，如果在Linux或者Mac环境，也要求网络良好，github可以正常访问，因为Staffjoy的前端构建需要到github上下载东西。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572921149,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147029,"user_name":"322","can_delete":false,"product_type":"c3","uid":1697037,"ip_address":"","ucode":"3BC0F72A0D25F5","user_header":"https://static001.geekbang.org/account/avatar/00/19/e5/0d/e4689fd8.jpg","comment_is_top":false,"comment_ctime":1572767806,"is_pvip":false,"replies":[{"id":56953,"content":"你可以只构建那个修改的服务(如果是spring boot应用，用mvn clean package把jar先构建出来)，然后在服务目录（里头有Dockerfile），用docker build命令打成镜像，然后docker push可以把镜像推到你的镜像仓库。\n\ndocker build&#47;push的具体用法，网上很多示例搜一下即可。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1572920924,"ip_address":"","comment_id":147029,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"老师您好，如果只修改了某服务的一部分代码，也不影响其他服务，也需要走一遍dock-compose吗？ 有什么简单的办法做单独的发布吗？\n","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473101,"discussion_content":"你可以只构建那个修改的服务(如果是spring boot应用，用mvn clean package把jar先构建出来)，然后在服务目录（里头有Dockerfile），用docker build命令打成镜像，然后docker push可以把镜像推到你的镜像仓库。\n\ndocker build/push的具体用法，网上很多示例搜一下即可。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572920924,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140751,"user_name":"丁乐洪","can_delete":false,"product_type":"c3","uid":1264392,"ip_address":"","ucode":"549CE57AB20B49","user_header":"https://static001.geekbang.org/account/avatar/00/13/4b/08/52954cd7.jpg","comment_is_top":false,"comment_ctime":1571042800,"is_pvip":false,"replies":[{"id":54462,"content":"switchhosts是本地域名映射，测试用的。域名配在本地机器上，通过本地浏览器访问，实际服务的ip地址可以在远程。生产环境，如果在数据中心或云环境，一般有独立的域名服务器。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1571057888,"ip_address":"","comment_id":140751,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"switchhosts配置域名，只能本地访问？","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470538,"discussion_content":"switchhosts是本地域名映射，测试用的。域名配在本地机器上，通过本地浏览器访问，实际服务的ip地址可以在远程。生产环境，如果在数据中心或云环境，一般有独立的域名服务器。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571057888,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137007,"user_name":"LSJ","can_delete":false,"product_type":"c3","uid":1299437,"ip_address":"","ucode":"3CF8A457AC6BA9","user_header":"https://static001.geekbang.org/account/avatar/00/13/d3/ed/8d5420ad.jpg","comment_is_top":false,"comment_ctime":1569574809,"is_pvip":false,"replies":[{"id":52572,"content":"staffjoy项目的原始代码设计是要求域名访问的。如果要绕开，直接用ip访问，也可以做到，不过需要修改代码。说实话staffjoy的代码不多，也不难看懂，我想学员认真学完课程，稍有编程基本功，都可以按需调整代码。\n\n学习一个软件项目，只有你根据需要修改了它的源码，才能真正理解它，这也是一种有效学习方式，建议自己尝试修改staffjoy源码。\n\n另外，应用(不限于springboot)在容器中运行，一般通过端口转发，可以在主机上直接进行访问，相关资料网上很多，例如这个讲得比较细https:&#47;&#47;www.cnblogs.com&#47;kevingrace&#47;p&#47;9453987.html。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1569589474,"ip_address":"","comment_id":137007,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"老师 不用switchhosts做映射可以吗 我就在本地通过docker-compose部署了两个springboot服务 也没有单页面应用 两个项目也都启动了 但是在浏览器上通过指定的端口无法访问 而且使用的ip是通过docker network找到在配置文件中新创建的外网访问的ip。\ndocker环境中的普通springboot项目具体怎么访问呢","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468899,"discussion_content":"staffjoy项目的原始代码设计是要求域名访问的。如果要绕开，直接用ip访问，也可以做到，不过需要修改代码。说实话staffjoy的代码不多，也不难看懂，我想学员认真学完课程，稍有编程基本功，都可以按需调整代码。\n\n学习一个软件项目，只有你根据需要修改了它的源码，才能真正理解它，这也是一种有效学习方式，建议自己尝试修改staffjoy源码。\n\n另外，应用(不限于springboot)在容器中运行，一般通过端口转发，可以在主机上直接进行访问，相关资料网上很多，例如这个讲得比较细https://www.cnblogs.com/kevingrace/p/9453987.html。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569589474,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132664,"user_name":"王杰","can_delete":false,"product_type":"c3","uid":1106506,"ip_address":"","ucode":"4E3B2A0F1C75F6","user_header":"https://static001.geekbang.org/account/avatar/00/10/e2/4a/3f07e217.jpg","comment_is_top":false,"comment_ctime":1568188065,"is_pvip":false,"replies":[{"id":50863,"content":"对，目前mail-svc用的是阿里云邮件推送服务(DirectMail)，这个做法有点复杂，不少学员反馈邮件发送不成功，我后续会考虑把mail-svc改成简单的smtp发邮件方式。另外有2点建议：\n\n1. 有一个绕过办法，mail-svc邮件发送失败的话会打异常日志，日志里头有邮件内容。新用户注册失败的话，异常日志里头有激活链接，复制到浏览器就可以激活注册。\n2. 作为课程扩展，学员可以考虑改造一下mail-svc，让其支持简单的smtp等方式发送邮件，这个工作量其实不大的。高级的做法还可以发送到微信或者bearychat等即时通信渠道，这个稍微有一些工作量，但也不是很大。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1568207433,"ip_address":"","comment_id":132664,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"老师你好，现在我在本地中docker中项目都可以正常起来，邮箱配置的地方dev test 环境 ，是不是需要阿里云企业邮箱，还是邮件推送服务呢？","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467058,"discussion_content":"对，目前mail-svc用的是阿里云邮件推送服务(DirectMail)，这个做法有点复杂，不少学员反馈邮件发送不成功，我后续会考虑把mail-svc改成简单的smtp发邮件方式。另外有2点建议：\n\n1. 有一个绕过办法，mail-svc邮件发送失败的话会打异常日志，日志里头有邮件内容。新用户注册失败的话，异常日志里头有激活链接，复制到浏览器就可以激活注册。\n2. 作为课程扩展，学员可以考虑改造一下mail-svc，让其支持简单的smtp等方式发送邮件，这个工作量其实不大的。高级的做法还可以发送到微信或者bearychat等即时通信渠道，这个稍微有一些工作量，但也不是很大。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568207433,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1980888,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/39/d8/ea5dec9e.jpg","nickname":"涛","note":"","ucode":"88C8E5A17C65CF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":249894,"discussion_content":"ERROR: for 17ef4d28a55a_staffjoy-master_faraday-service_1  Cannot start service faraday-service: driver failed programming external connectivity on endpoint staffjoy-master_faraday-service_1 (3f954e84f7b4a759767447f75007f102c153b0bda6cae55d9c4cc54f7084c6fd): Error starting userland proxy: listen tcp 0.0.0.0:80: bind: address already in use\n\nERROR: for faraday-service  Cannot start service faraday-service: driver failed programming external connectivity on endpoint staffjoy-master_faraday-service_1 (3f954e84f7b4a759767447f75007f102c153b0bda6cae55d9c4cc54f7084c6fd): Error starting userland proxy: listen tcp 0.0.0.0:80: bind: address already in use\nERROR: Encountered errors while bringing up the project.\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587972606,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":191550,"user_name":"钱","can_delete":false,"product_type":"c3","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1584780415,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"docker就是好用呀!如果有几千几万台机器，这个便利性就更加明显了。","like_count":1},{"had_liked":false,"id":364093,"user_name":"Fan","can_delete":false,"product_type":"c3","uid":1115232,"ip_address":"广东","ucode":"3BF28670FD9407","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","comment_is_top":false,"comment_ctime":1670513209,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"mac m1 打包时出现这个问题，请问下怎么解决呢？\n&#47;private&#47;var&#47;folders&#47;j8&#47;7nnqws857hnf3h4z9r11fjp40000gn&#47;T&#47;libjsass-9018099634262164671&#47;libjsass.dylib: dlopen(&#47;private&#47;var&#47;folders&#47;j8&#47;7nnqws857hnf3h4z9r11fjp40000gn&#47;T&#47;libjsass-9018099634262164671&#47;libjsass.dylib, 0x0001): tried: &#39;&#47;private&#47;var&#47;folders&#47;j8&#47;7nnqws857hnf3h4z9r11fjp40000gn&#47;T&#47;libjsass-9018099634262164671&#47;libjsass.dylib&#39; (mach-o file, but is an incompatible architecture (have &#39;x86_64&#39;, need &#39;arm64&#39;)), &#39;&#47;System&#47;Volumes&#47;Preboot&#47;Cryptexes&#47;OS&#47;private&#47;var&#47;folders&#47;j8&#47;7nnqws857hnf3h4z9r11fjp40000gn&#47;T&#47;libjsass-9018099634262164671&#47;libjsass.dylib&#39; (no such file), &#39;&#47;private&#47;var&#47;folders&#47;j8&#47;7nnqws857hnf3h4z9r11fjp40000gn&#47;T&#47;libjsass-9018099634262164671&#47;libjsass.dylib&#39; (mach-o file, but is an incompatible architecture (have &#39;x86_64&#39;, need &#39;arm64&#39;))","like_count":0},{"had_liked":false,"id":359322,"user_name":"Sam.张朝","can_delete":false,"product_type":"c3","uid":1132448,"ip_address":"上海","ucode":"FB20554D94B250","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/a0/f12115b7.jpg","comment_is_top":false,"comment_ctime":1665412727,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100031401,"comment_content":"org.springframework.web.client.ResourceAccessException: I&#47;O error on GET request for &quot;http:&#47;&#47;www-service&#47;&quot;: Host is unreachable (Host unreachable); nested exception is java.net.NoRouteToHostException: Host is unreachable (Host unreachable)","like_count":0}]}
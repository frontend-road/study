{"id":175261,"title":"åŠ é¤ | è®©JavaScriptè¿è¡Œèµ·æ¥","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å‘¨çˆ±æ°‘ã€‚æ¬¢è¿å›åˆ°æˆ‘çš„ä¸“æ ã€‚ä»Šå¤©ï¼Œæ˜¯ä¼ è¯´ä¸­çš„åŠ é¤æ—¶é—´ï¼Œæˆ‘å°†ä¸ä½ è§£è¯´å‰11è®²å†…å®¹çš„æ•´ä½“ä½“ç³»å’Œç»“è®ºã€‚</p><p>æˆ‘ä»¬ä»ä¸€ä¸ªé—®é¢˜è®²èµ·ï¼Œé‚£å°±æ˜¯ï¼š<span class=\"orange\">JavaScriptåˆ°åº•æ˜¯æ€ä¹ˆè¿è¡Œèµ·æ¥çš„å‘¢ï¼Ÿ</span></p><p>çœ‹èµ·æ¥è¿™ä¸ªé—®é¢˜æœ€ç®€å•çš„ç­”æ¡ˆæ˜¯â€œè§£æâ†’è¿è¡Œâ€ã€‚ç„¶è€Œå¯¹äºä¸€é—¨è¯­è¨€æ¥è¯´ï¼Œâ€œå¼•æ“è§£é‡Šä¸è¿è¡Œâ€éƒ½æ˜¯æœ€ç»ˆç»“æœçš„è¡¨è±¡ï¼ŒçœŸæ­£å¤„äºåŸç‚¹çš„é—®é¢˜å…¶å®æ˜¯ï¼šâ€œ<span class=\"orange\">JavaScriptè¿è¡Œçš„æ˜¯ä»€ä¹ˆï¼Ÿ</span>â€</p><p>åœ¨å‰11è®²ä¸­ï¼Œæˆ‘æ˜¯è¯•å›¾å°†JavaScriptæ•´ä¸ªçš„è¿è¡Œæœºåˆ¶æ‘Šå¼€åœ¨ä½ çš„é¢å‰ï¼Œå› æ­¤æˆ‘ä»¬æœ‰ä¸¤æ¡çº¿ç´¢å¯ä»¥æŠ“ï¼š</p><ol>\n<li>è¡¨é¢ä¸Šï¼Œå®ƒæ˜¯è®²å¼•ç”¨å’Œæ‰§è¡Œè¿‡ç¨‹ï¼›</li>\n<li>åœ¨åº•ä¸‹ï¼Œè®²çš„æ˜¯å¼•æ“å¯¹â€œJavaScriptæ˜¯ä»€ä¹ˆâ€çš„ç†è§£ã€‚</li>\n</ol><h2>ä»æ–‡æœ¬åˆ°è„šæœ¬</h2><p>æˆ‘ä»¬å…ˆä»ç¬¬äºŒæ¡çº¿ç´¢ï¼Œä¹Ÿå°±æ˜¯æ›´åŸºç¡€å±‚é¢çš„çº¿ç´¢è®²èµ·ã€‚</p><p>JavaScriptçš„æ‰€è°“â€œè„šæœ¬ä»£ç â€ï¼Œåœ¨å¼•æ“å±‚é¢çœ‹æ¥ï¼Œé¦–å…ˆå°±æ˜¯ä¸€æ®µæ–‡æœ¬ã€‚åœ¨æ€§è´¨ä¸Šï¼Œè£…è½½<code>a.js</code>æ‰§è¡Œä¸<code>eval('...')</code>æ‰§è¡Œå¹¶æ²¡æœ‰åŒºåˆ«ï¼Œå®ƒä»¬çš„æ‰§è¡Œå¯¹è±¡éƒ½è¢«ç†è§£ä¸ºä¸€ä¸ªâ€œå­—ç¬¦ä¸²â€ï¼Œä¹Ÿå°±æ˜¯å­—ç¬¦ä¸²è¿™ä¸€æ¦‚å¿µæœ¬èº«æ‰€è¡¨ç¤ºçš„ã€æ‰€è°“çš„â€œå­—ç¬¦åºåˆ—â€ã€‚</p><p>åœ¨å­—ç¬¦åºåˆ—è¿™ä¸ªå±‚é¢ä¸Šï¼Œæœ€ç®€å•å’Œæœ€ç»æµçš„å¤„ç†é€»è¾‘æ˜¯<strong>æ­£å‘éå†</strong>ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆâ€œè¯­å¥è§£æå™¨â€çš„å¼€å‘è€…æ€»æ˜¯å¸Œæœ›â€œè¯­è¨€çš„è®¾è®¡è€…â€èƒ½è®©ä»–ä»¬â€œä¸€æ¬¡æ€§åœ°ã€ä¸éœ€è¦å›å½’åœ°â€è§£æä»£ç çš„åŸå› ã€‚</p><p>å›å½’ï¼ˆä¹Ÿå°±æ˜¯æŸ¥çœ‹ä¹‹å‰â€œè¢«parserè¿‡çš„ä»£ç â€ï¼‰å°±æ„å‘³ç€è§£æå™¨éœ€è¦æš‚å­˜æ—§æ•°æ®ï¼Œæ— æ³•å°†è§£æå™¨åšå¾—è¶³å¤Ÿç®€æ´ï¼Œè¿›è€Œæ— æ³•å°†è§£æå™¨æ”¾åœ¨å°å­˜å‚¨çš„ç¯å¢ƒä¸­ã€‚æ ¹æœ¬ä¸Šæ¥è¯´ï¼ŒJavaScriptè§£æå¼•æ“æ˜¯â€œé€å­—ç¬¦â€åœ°å¤„ç†ä»£ç æ–‡æœ¬çš„ã€‚</p><!-- [[[read_end]]] --><p>JavaScriptä»â€œé€å­—ç¬¦å¤„ç†â€å¾—åˆ°çš„å¼•æ“å¯ä»¥ç†è§£çš„å¯¹è±¡ï¼Œç§°ä¸ºè®°å·ï¼ˆTokensï¼‰ã€‚è¿™ä¸ªæ¦‚å¿µï¼Œæ˜¯ä»ç¬¬ä¸€è®²å°±å¼€å§‹æçš„ï¼Œä½ å›é¡¾ç¬¬ä¸€è®²çš„å†…å®¹ï¼Œåœ¨æå‡º<code>Tokens</code>è¿™ä¸ªæ¦‚å¿µçš„æ—¶å€™ï¼Œæœ‰è¿™æ ·ä¸€å¥è¯ï¼š</p><blockquote>\n<p>ä¸€ä¸ªè®°å·æ˜¯æ²¡æœ‰è¯­ä¹‰çš„ï¼Œè®°å·æ—¢å¯ä»¥æ˜¯è¯­è¨€èƒ½è¯†åˆ«çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯è¯­è¨€ä¸èƒ½è¯†åˆ«çš„ã€‚å”¯æœ‰æŠŠè¿™äºŒè€…åŒæ—¶çº³å…¥è¯­è¨€èŒƒç•´ï¼Œé‚£ä¹ˆè¿™ä¸ªè¯­è¨€æ‰èƒ½è¯†åˆ«æ‰€è°“çš„â€œè¯­æ³•é”™è¯¯â€ã€‚</p>\n</blockquote><p>æˆ‘ä¹‹æ‰€ä»¥ç”¨<strong>â€œdeleteè¿ç®—â€</strong>ä½œä¸ºã€ŠJavaScriptæ ¸å¿ƒåŸç†è§£æã€‹çš„å¼€ç¯‡ï¼Œæ˜¯å› ä¸ºåœ¨æˆ‘çœ‹æ¥ï¼Œè¿™è®²çš„æ˜¯ä¸€ç§â€œä¸çŸ¥æ­»ï¼Œå³ä¸çŸ¥ç”Ÿâ€çš„é“ç†ã€‚å¦‚æœä½ ä¸çŸ¥é“ä¸€ä¸ªä¸œè¥¿æ˜¯å¦‚ä½•è¢«æ¯ç­çš„ï¼Œé‚£ä¹ˆä½ ä¹Ÿä¸çŸ¥é“å®ƒåˆ›ç”Ÿçš„æ„ä¹‰ã€‚</p><p>ç„¶è€Œï¼Œè¿™ä¸ªç†è§£ä¹Ÿå¯ä»¥å€’è¿‡æ¥ï¼Œæ˜¯æ‰€è°“çš„â€œä¸çŸ¥ç”Ÿï¼Œäº¦ä¸çŸ¥æ­»â€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ éƒ½ä¸çŸ¥é“å®ƒè¢«åˆ›é€ å‡ºæ¥çš„æ—¶å€™æ˜¯ä»€ä¹ˆï¼Œé‚£ä¹ˆä½ ä¹Ÿä¸çŸ¥é“ä½ æ¯ç­äº†ä»€ä¹ˆã€‚</p><p>è€Œè¿™ä¸ªè®°å·ï¼ˆTokensï¼‰ï¼Œå°±æ˜¯å¼•æ“ä»æ–‡æœ¬åˆ°è„šæœ¬ï¼ŒJavaScriptå¼•æ“ä¹Ÿå¥½ã€è¯­è¨€ä¹Ÿå¥½ï¼Œå®ƒä»¬åˆ›é€ å‡ºæ¥çš„ç¬¬ä¸€ä¸ªä¸œè¥¿â€”â€”ä¹Ÿæ˜¯åœ¨åˆ›ä¸–åŸç‚¹å”¯ä¸€çš„ä¸œè¥¿ã€‚</p><p>è®°å·ï¼Œè¦ä¹ˆæ˜¯å¯è¯†åˆ«çš„ï¼Œè¦ä¹ˆæ˜¯ä¸èƒ½è¯†åˆ«çš„ã€‚å¹¶ä¸”ï¼Œå®ƒä»¬å¿…é¡»åŒæ—¶çº³å…¥è¯­è¨€èŒƒç•´ã€‚è¿™ä¸ªâ€œå¿…é¡»åŒæ—¶çº³å…¥â€ï¼Œå†³å®šäº†äºŒè€…ä¸æ˜¯ç›¸äº’å­¤ç«‹çš„å…ƒç´ ï¼Œè€Œæ˜¯åŒä¸€ä½“ç³»ä¸‹çš„ä¸œè¥¿ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„â€œä½“ç³»çš„å®Œæ•´æ€§â€ã€‚</p><h2>å¼•ç”¨ä¸é™æ€è¯­è¨€çš„å¤„ç†</h2><p>çœ‹å®Œåº•å±‚çš„çº¿ç´¢ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹JavaScriptè¿è¡Œæœºåˆ¶çš„è¡¨é¢çº¿ç´¢ã€‚</p><p>å¼•ç”¨ï¼ˆReferencesï¼‰æ˜¯é™æ€è¯­è¨€ä¸å¼•æ“ä¹‹é—´çš„æ¡¥æ¢ï¼Œå®ƒæ˜¯ECMAScriptè§„èŒƒä¸­æœ€å¤§çš„ä¸€ä¸ªæŒ‘æˆ˜ï¼Œä½ ç†è§£äº†â€œè§„èŒƒå±‚é¢çš„å¼•ç”¨ï¼ˆReferencesï¼‰â€ï¼Œä¹Ÿå°±åŸºæœ¬ä¸Šç†è§£äº†ECMAScriptè§„èŒƒæ•´ä¸ªçš„å™è¿°æ¡†æ¶ã€‚è¿™ä¸ªæ¡†æ¶çš„æ ¸å¿ƒåœ¨äºâ€”â€”ECMAScriptçš„ç›®çš„æ˜¯æè¿°â€œå¼•æ“å¦‚ä½•å®ç°â€ï¼Œè€Œä¸æ˜¯â€œæè¿°è¯­è¨€æ˜¯ä»€ä¹ˆâ€ã€‚</p><p>è§„èŒƒå±‚é¢ä¸­çš„å¼•ç”¨ä¸å¼•æ“çš„æ ¸å¿ƒè®¾è®¡æœ‰å…³ã€‚</p><p>åœ¨JavaScriptè¯­è¨€å±‚é¢ï¼Œå®ƒå¸Œæœ›å¼•æ“æ˜¯ä¸€ä¸ªæ‰§è¡Œå™¨ï¼Œæ›´å…·ä½“çš„æè¿°æ˜¯ï¼šå¼•æ“çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼è®¡ç®—çš„ã€è¿ç»­çš„æ‰§è¡Œè¿‡ç¨‹ã€‚è¡¨è¾¾å¼è®¡ç®—æ˜¯æ•´ä¸ªJavaScriptè¯­è¨€ä¸­æœ€æ ¸å¿ƒçš„é¢„è®¾ï¼Œä¸€æ—¦è¶…å‡ºè¿™ä¸ªé¢„è®¾ï¼ŒJavaScriptè¯­è¨€çš„ç»“æ„ä½“ç³»å°±å´©æºƒäº†ã€‚</p><p>æ‰€ä»¥ï¼Œæœ¬è´¨ä¸Šæ¥è¯´ï¼ŒJavaScriptçš„æ‰€è°“â€œè¯­å¥èƒ½æ‰§è¡Œâ€ä¹Ÿæ˜¯ä¸€ä¸ªæˆ–ä¸€ç»„è¡¨è¾¾å¼è®¡ç®—è¿‡ç¨‹ï¼Œè€Œä¸”æ‰€æœ‰çš„è®¡ç®—éƒ½å¿…é¡»èƒ½æè¿°æˆä¸€ä¸ªåŸºæœ¬çš„æ¨¡å¼ï¼š<code>opCode -&gt; opData</code>ï¼Œä¹Ÿå°±æ˜¯ç”¨æ“ä½œç¬¦å»å¤„ç†æ“ä½œæ•°ã€‚</p><p>è¿™ä¸ªç›¸ä¿¡ä½ ä¹Ÿæ˜ç™½äº†ï¼Œè¿™å›åˆ°äº†æˆ‘ä»¬è®¡ç®—ç†è®ºæœ€åˆçš„åŸç‚¹ï¼Œæ˜¯æˆ‘ä»¬å­¦ä¹ è®¡ç®—æœºè¿™é—¨è¯¾ç¨‹æœ€åˆçš„é‚£ä¸ªè®¾å®šï¼š<strong>è®¡ç®—å®ç°çš„å°±æ˜¯â€œè®¡ç®—æ±‚è§£â€çš„è¿‡ç¨‹</strong>ã€‚å®ƒçš„å¦ä¸€ä¸ªå…¬å¼åŒ–çš„è¡¨è¾¾å°±æ˜¯è‘—åçš„â€œç®—æ³•+æ•°æ®ç»“æ„=ç¨‹åºâ€ã€‚</p><p>å½“ç„¶ï¼Œè¿™ä¸ªè¯´å¾—æœ‰ç‚¹è¿œäº†ï¼Œåœ¨è¿™ä¸ªæ¦‚å¿µé›†åˆä¸­ï¼Œæœ€å…³é”®çš„ç‚¹åœ¨äºâ€œ<strong>æ‰§è¡Œè¿‡ç¨‹æœ€ç»ˆæ˜¯è¡¨è¾¾å¼è®¡ç®—</strong>â€ã€‚å› æ­¤ï¼Œè¯­å¥æ‰§è¡Œä¹Ÿæ˜¯è¡¨è¾¾å¼è®¡ç®—ï¼Œå‡½æ•°è°ƒç”¨ä¹Ÿæ˜¯è¡¨è¾¾å¼è®¡ç®—ï¼Œå„ç§ç‰¹æ®Šæ‰§è¡Œç»“æœè¿˜æ˜¯è¡¨è¾¾å¼è®¡ç®—ã€‚</p><p>è¿™äº›â€œè®¡ç®—â€æ€»ä¼šæœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>ä½ å¯ä»¥å‚è€ƒæ–‡ç« é‡Œçš„è¿™å¼ å›¾ï¼Œå®ƒè¯´æ˜äº†JavaScriptä¸­æœ€æ ¸å¿ƒçš„ä¸¤ç§æ‰§è¡Œè¿‡ç¨‹ï¼ˆå®ƒä»¬éƒ½è¢«ç§°ä¸ºevaluatingï¼‰æ˜¯å¦‚ä½•æœ€ç»ˆè¢«ç»Ÿä¸€çš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b2/11/b281ed38f4894823bdb0daf771d27311.jpg?wh=2208*1474\" alt=\"\"></p><p>åœ¨è¯­å¥æ‰§è¡Œçš„å±‚é¢ï¼Œå®ƒè¿”å›ä¸€ä¸ªè¯­å¥çš„å®ŒæˆçŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€ä¸­åŒ…æ‹¬äº†ä¸€ä¸ªâ€œvalueâ€åŸŸï¼Œå®ƒå¿…é¡»ä¸”å¿…ç„¶ä¼šæ˜¯JavaScriptè¯­è¨€ç†è§£çš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯typeof()æ‰€è¯†åˆ«çš„æ‰€æœ‰çš„å€¼ã€‚è¿™æ ·ä¸€æ¥ï¼Œä»»ä½•â€œè¯­å¥â€â€œä»£ç â€æˆ–â€œä»£ç æ–‡æœ¬â€å°±éƒ½å¯ä»¥è¢«æ‰§è¡Œäº†ï¼Œå¹¶ä¸”éƒ½å¯ä»¥ä½¿ç”¨console.log()è¾“å‡ºç»“æœç»™ä½ äº†ã€‚</p><p>è¿™å…¶ä¸­æœ€é‡è¦çš„ä¸€ä»¶äº‹æ˜¯ï¼Œåœ¨ä»»ä½•è¯­å¥æ‰§è¡Œå¹¶å¾—åˆ°ç»“æœæ—¶ï¼Œå¦‚æœå®ƒâ€œå½“æ—¶â€æ˜¯ä¸€ä¸ªæ‰€è°“çš„â€œå¼•ç”¨â€ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼•ç”¨å°±å¿…é¡»å…ˆè°ƒç”¨â€œGetValue(x)â€æ¥å¾—åˆ°å€¼ï¼Œç„¶åæ”¾åˆ°è¿™ä¸ªâ€œvalueâ€åŸŸä¸­å»ã€‚å› ä¸ºâ€œå¼•ç”¨â€æ˜¯ä¸€ä¸ªè§„èŒƒå±‚é¢çš„ä¸œè¥¿ï¼Œå®ƒä¸æ˜¯JavaScriptè¯­è¨€èƒ½ç†è§£çš„ï¼Œä¹Ÿæ— æ³•å±•ç¤ºç»™å¼€å‘è€…ã€‚</p><p>æœ€åï¼ŒECMAScriptçº¦å®šï¼šå¯ä»¥åœ¨â€œvalueâ€åŸŸä¸­æ”¾ä¸Š<code>Empty</code>ï¼Œè¿™è¡¨æ˜è¯­å¥æ‰§è¡Œâ€œæ²¡æœ‰å€¼â€ã€‚å®ƒèƒ½è¡¨æ˜æœ‰å€¼ï¼Œä¹Ÿèƒ½è¡¨æ˜æ— å€¼ï¼Œä»ç„¶æ˜¯â€œæ¦‚å¿µå®Œæ•´æ€§â€ã€‚</p><p>è€Œåˆ°äº†è¡¨è¾¾å¼æ‰§è¡Œæ—¶ï¼ˆæ³¨æ„å‡½æ•°è°ƒç”¨ä¹Ÿæ˜¯è¡¨è¾¾å¼æ‰§è¡Œçš„ä¸€ç§ï¼‰ï¼Œè¿™ä¸ªè¿‡ç¨‹åˆè¢«é‡æ¥äº†ä¸€å›ã€‚ä¸è¿‡è¡¨è¾¾å¼æ‰§è¡Œä¼šè¿”å›ä¸¤ä¸ªä¸œè¥¿ï¼šå®ƒè¦ä¹ˆç›´æ¥è¿”å›ä¸€ä¸ªâ€œä¸Šé¢çš„å®Œæˆç»“æœæ‰€ç†è§£çš„å€¼â€ï¼Œè¦ä¹ˆè¿”å›ä¸€ä¸ªåŒ…å«è¿™æ ·çš„å€¼çš„â€œå¼•ç”¨â€ã€‚</p><p>ä½ å¯èƒ½ä¼šè¯´äº†ï¼Œä¸å¯¹å‘€â€”â€”ä½ åˆšæ‰è¿˜è¯´æ‰€è°“â€œæ¦‚å¿µçš„å®Œæ•´æ€§â€ï¼Œæ˜¯â€œè¦ä¹ˆè¿”å›ä¸œè¥¿ï¼Œè¦ä¹ˆè¿”å›æ²¡æœ‰ä¸œè¥¿â€å•Šã€‚</p><p>å¯¹çš„ï¼Œåœ¨è¡¨è¾¾å¼æ‰§è¡Œè¿™ä¸ªä½“ç³»é‡Œé¢ï¼Œâ€œæ²¡æœ‰ä¸œè¥¿â€æ˜¯æ‰€è°“çš„â€œä¸å¯å‘ç°çš„å¼•ç”¨ï¼ˆUnresolvableReferenceï¼‰â€ã€‚</p><p>æ‰€ä»¥ï¼Œå®Œæ•´çš„æ¦‚å¿µé›†æ˜¯ï¼šå€¼ï¼ˆvalueï¼‰ã€å¼•ç”¨ï¼ˆReferenceï¼‰å’Œä¸å¯å‘ç°çš„å¼•ç”¨ï¼ˆUnresolvableReferenceï¼‰ã€‚</p><p>ä¸€ä¸ªä¸å¯å‘ç°çš„å¼•ç”¨æ˜¯èƒ½è¢«å¤„ç†çš„ï¼Œä¾‹å¦‚<code>delete x</code>ï¼Œæˆ–è€…<code>typeof x</code>ã€‚æ‰€æœ‰â€œèƒ½å¤„ç†å¼•ç”¨çš„â€è¿ç®—ç¬¦éƒ½èƒ½å¤„ç†å®ƒã€‚å½“ç„¶ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸­ï¼Œä¼šåœ¨è¯­æ³•åˆ†æé˜¶æ®µå°±æŠ¥å¼‚å¸¸ï¼Œé‚£æ˜¯å¦ä¸€ä¸ªå±‚é¢çš„ä¸œè¥¿ï¼Œæœ‰æœºä¼šçš„æ—¶å€™æˆ‘ä»¬å†èŠã€‚è¿™é‡Œï¼Œåœ¨JavaScriptè¯­è¨€å±‚é¢ï¼Œå®ƒä»ç„¶åœ¨ç»´æŠ¤ä¸€ç§ç®€å•çš„å®Œæ•´æ€§ã€‚</p><p>é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦æœ‰â€œå¼•ç”¨â€è¿™ä¹ˆä¸ªä¸œè¥¿å‘¢ï¼Ÿ</p><p>ä½ æƒ³æƒ³ï¼Œå¦‚æœæ²¡æœ‰å¼•ç”¨ï¼Œä½ å°±å¾—å°†æ‰€æœ‰çš„ä¸œè¥¿éƒ½ç›´æ¥å½“æˆä¸€ä¸ªè¢«å¤„ç†çš„å¯¹è±¡ï¼Œä¾‹å¦‚ç”¨1Gçš„å†…å­˜æ¥å¤„ç†ä¸€ä¸ª1Gæ–‡æœ¬çš„è®°å·ã€‚è¿™æ˜¾ç„¶ä¸å¯è¡Œã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªç®€å•çš„æ³•å­æ¥è§£å†³ï¼Œå°±æ˜¯åŠ ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å®ƒï¼Œåœ¨ä¸éœ€è¦è®¿é—®å®ƒçš„â€œå†…å®¹â€æ—¶ï¼Œæˆ‘ä»¬å°±è®¿é—®è¿™ä¸ªæŒ‡é’ˆå¥½äº†ã€‚è€Œå¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰åœ¨â€œä¸è®¿é—®å†…å®¹â€çš„æƒ…å†µä¸‹ï¼Œç”¨äºæŒ‡å‘è¿™ä¸ªå†…å®¹çš„ä¸€ä¸ªç»“æ„ã€‚å®ƒå«ä»€ä¹ˆåå­—å…¶å®éƒ½å¥½ã€éƒ½è¡Œï¼Œé‡ç‚¹çš„æ˜¯ï¼š</p><ol>\n<li>å®ƒä»£è¡¨è¿™ä¸ªä¸œè¥¿ï¼Œr(x)ã€‚</li>\n<li>å®ƒåŒ…å«è¿™ä¸ªä¸œè¥¿ï¼Œæ‰€ä»¥å¯ä»¥x = GetValue(r)ã€‚</li>\n</ol><p>æ‰€ä»¥æœ¬è´¨ä¸Šï¼Œå¼•ç”¨è¿˜æ˜¯æŒ‡å‘å€¼ã€ä»£è¡¨å€¼çš„ä¸€ä¸ªæ¦‚å¿µï¼Œå®ƒåªæ˜¯â€œè·å¾—å€¼çš„è®¿é—®èƒ½åŠ›â€çš„ä¸€ä¸ªé€”å¾„ã€‚æœ€ç»ˆçš„ç»“æœä»ç„¶æŒ‡å‘åŸç‚¹ï¼šè®¡ç®—å€¼ã€æ±‚å€¼ã€‚</p><h2>ç»“æ„ä¸ä½“ç³»çš„å›é¡¾</h2><p>è®²å®ŒJavaScriptæ•´ä¸ªè¿è¡Œæœºåˆ¶çš„ä¸¤æ¡çº¿ç´¢åï¼Œå°±æ˜¯åŠ é¤çš„æœ€åä¸€éƒ¨åˆ†å†…å®¹äº†ï¼Œæˆ‘ä¼šç›´æ¥ä¸ºä½ è§£è¯´å‰11è®²çš„ä¸»é¢˜ã€‚</p><h3>æ¨¡å—ä¸€ï¼šä½“ç³»1</h3><ul>\n<li>1 | delete 0</li>\n</ul><p>è®²è¿°çš„æ˜¯â€œè§„èŒƒå¼•ç”¨â€ï¼Œå°†â€œè§„èŒƒå¼•ç”¨â€ä¸ä¼ ç»Ÿæ¦‚å¿µä¸­çš„å¼•ç”¨åŒºåˆ«å¼€æ¥ã€‚ç”¨Resultæ¥æŒ‡ä»£æ‰§è¡Œç»“æœçš„â€œå¼•ç”¨çŠ¶æ€å’Œå€¼çŠ¶æ€æœªåŒºåˆ†â€ã€‚åŒæ—¶æŒ‡æ˜ï¼Œâ€œçŠ¶æ€æœªåŒºåˆ†â€çš„åŸå› æ˜¯ï¼šåŒä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œåœ¨ä½œä¸º_lhs_å’Œ_rhs_çš„æ—¶å€™æ„ä¹‰æ˜¯ä¸åŒçš„ï¼›å¹¶ä¸”ï¼Œåœ¨è®¡ç®—æ²¡æœ‰â€œæ¨è¿›åˆ°â€ä¸‹ä¸€æ­¥ä¹‹å‰ï¼Œä¸Šä¸€æ­¥çš„Resultæ˜¯æ— æ³•ç¡®çŸ¥â€œå°†ä½œä¸ºâ€<em>lhs</em>/_rhs_çš„å“ªä¸€ç§æ“ä½œæ•°çš„ã€‚</p><p>JavaScriptç¡®å®æœ‰ä¸€éƒ¨åˆ†è¡¨è¾¾å¼ï¼ˆæˆ–æ“ä½œï¼‰æ˜¯èƒ½å¤„ç†â€œè§„èŒƒå¼•ç”¨â€çš„ï¼Œä¾‹å¦‚<code>delete x</code>å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚æœ‰å…³å“ªäº›è¿ç®—èƒ½å¤„ç†â€œè§„èŒƒå¼•ç”¨â€ï¼Œå»ºè®®ä½ è‡ªå·±ç¿»é˜…ECMAScriptï¼Œå¹¶ä»ä¸­å½’çº³ã€‚</p><ul>\n<li>2 | var x = y = 100</li>\n</ul><p>è¿™ä¸€è®²çš„æ ¸å¿ƒæ˜¯è®²å…­ç§å£°æ˜ã€‚æ‰€æœ‰å£°æ˜ï¼ˆè¯­å¥ï¼‰éƒ½æ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼ˆè¿”å›Emptyï¼‰ï¼Œå› ä¸ºå®ƒæ²¡æœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥å®ƒå¯¹å…¶ä»–æ‰§è¡Œè¿‡ç¨‹æ²¡æœ‰å½±å“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå£°æ˜è¯­å¥å¿…é¡»èƒ½è¢«ç†è§£ä¸ºâ€œé™æ€åˆ†æçš„ç»“æœâ€ï¼Œè€Œä¸æ˜¯â€œåŠ¨æ€æ‰§è¡Œçš„ç»“æœâ€ã€‚</p><p>å‰è€…ç§°ä¸ºâ€œå£°æ˜è¯­ä¹‰â€ï¼Œåè€…ç§°ä¸ºâ€œæ‰§è¡Œè¯­ä¹‰â€ã€‚å£°æ˜è¯­ä¹‰å°±æ˜¯é™æ€è¯­è¨€çš„å¤„ç†ï¼Œæ‰§è¡Œè¯­ä¹‰å°±æ˜¯åŠ¨æ€è¯­è¨€çš„å¤„ç†ã€‚è¿™æ˜¯ä¸¤ç§è¯­è¨€èŒƒå‹çš„åˆ†æ°´å²­ã€‚</p><ul>\n<li>3 | a.x = a = {n:2}</li>\n</ul><p>è¿™ä¸€è®²çš„æ ¸å¿ƒæ˜¯è®²è¡¨è¾¾å¼æ‰§è¡Œä¸ï¼ˆçœ‹èµ·æ¥è·Ÿå®ƒç›¸ä¼¼çš„ï¼‰è¯­å¥å£°æ˜ä¹‹é—´çš„åŒºåˆ«ã€‚è™½ç„¶ä¸¤ç§çœ‹èµ·æ¥éƒ½ç›¸ä¼¼ï¼Œä½†å…¶å®åªæœ‰è¿™ä¸€è®²çš„æ‰æ˜¯â€œè¡¨è¾¾å¼è¿ç­‰â€ã€‚</p><p>åœ¨è¿™ä¸€è®²ç»“å°¾çš„éƒ¨åˆ†ï¼Œæˆ‘åšäº†ä¸€ä¸ªæ€»ç»“ï¼šæœ‰å…³â€œå¼•ç”¨â€çš„ä»‹ç»ï¼Œä»¥åŠâ€œè¯­å¥â€å’Œâ€œè¡¨è¾¾å¼â€ä¹‹é—´çš„å·®å¼‚ä¸åˆ†åˆ«ï¼Œè‡ªæ­¤æš‚å‘Šæ®µè½ã€‚</p><ul>\n<li>4 | export default function() {}</li>\n</ul><p>è¿™ä¸€è®²çš„æ ¸å¿ƒæ˜¯è®²â€œåå­—â€çš„ä½¿ç”¨ã€‚â€œæœ‰åå­—/æ²¡æœ‰åå­—â€æ˜¯ä¸€å¯¹æ¦‚å¿µï¼Œè€Œâ€œæ²¡æœ‰åå­—â€å°±ç§°ä¸ºâ€œdefaultâ€ï¼Œé‚£å°±æ˜¯å°†æ¦‚å¿µæ”¶æ•›åˆ°äº†å”¯ä¸€ä¸€ä¸ªï¼šåå­—ã€‚æ‰€æœ‰æœ‰å…³export/importçš„å¤„ç†ï¼Œå°±æ˜¯åå­—ä¸å®ƒæ‰€ä»£è¡¨çš„ä¸œè¥¿ä¹‹é—´çš„å…³ç³»æ˜ å°„ã€‚</p><p>è€Œâ€œæ¨¡å—è£…è½½çš„è¿‡ç¨‹â€å¿…é¡»å‘ç”Ÿåœ¨ç”¨æˆ·ä»£ç ä¹‹å‰ï¼Œä¸€å…±åŒ…æ‹¬äº†ä¸¤ä¸ªæ„æ€ï¼š</p><ol>\n<li>å¼•æ“å¿…é¡»æœ‰ä¸€ä¸ªä¾èµ–é¡ºåºæ¥â€œåˆå§‹åŒ–â€é‚£äº›åå­—ï¼Œè¿™ä¸ªä¸exportè¯­å¥æ˜¯â€œå£°æ˜â€æœ‰å…³ï¼Œå£°æ˜æ„å‘³ç€å®ƒæ˜¯é™æ€å®Œæˆçš„ï¼ˆåå­—æ€»æ˜¯è¢«é™æ€å£°æ˜çš„ï¼‰ï¼›</li>\n<li>ç”¨æˆ·ä»£ç éœ€è¦ä¾èµ–é‚£äº›åå­—ï¼Œè¿™ä¸importè¯­å¥ä¸æ˜¯â€œå£°æ˜â€æœ‰å…³ï¼Œå®ƒä¸æ˜¯å£°æ˜ï¼Œé‚£ä¹ˆå®ƒéœ€è¦é€šè¿‡â€œæ‰§è¡Œâ€æ¥å¾—åˆ°ç»“æœçš„ï¼Œè€Œè¿™äº›â€œæ‰§è¡Œâ€å¿…é¡»åœ¨ç”¨æˆ·ä»£ç ä¹‹å‰ã€‚å…¶é¡ºåºï¼Œå°±æ˜¯æ‰€è°“æ¨¡å—è£…è½½æ ‘çš„éå†ã€‚</li>\n</ol><ul>\n<li>5 | for (let x of [1,2,3]) ...</li>\n</ul><p>è¿™ä¸€è®²çš„è¦ç‚¹ä¸æ˜¯è®²è¯­å¥æ‰§è¡Œï¼Œè€Œæ˜¯è®²<strong>å—çº§ä½œç”¨åŸŸ</strong>ï¼Œæ›´è¿›ä¸€æ­¥çš„ï¼Œå®ƒæ˜¯åœ¨è®²ä½œç”¨åŸŸçš„â€œè¯†åˆ«â€ä¸å¤„ç†ã€‚å®ƒé¢ è¦†è¯»è€…è®¤çŸ¥çš„åœ°æ–¹åœ¨äºæå‡ºï¼šç»å¤§å¤šæ•°è¯­å¥å¹¶æ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œå› ä¸º<strong>å®ƒä»¬ä¸éœ€è¦</strong>ã€‚</p><p>è€Œéœ€è¦å—çº§ä½œç”¨åŸŸçš„forè¯­å¥ï¼Œæ ¹æœ¬çš„éœ€æ±‚æ˜¯éœ€è¦å¤„ç†å¤šæ¬¡è¿­ä»£ä¸­çš„å˜é‡æš‚å­˜ã€‚è¿™ä¸ªæ˜¯æœ‰å¾ˆå¤§å¼€é”€çš„ï¼Œè¿™ä¸â€œè®¡ç®—æœºè¯­è¨€â€çš„ä¸€ä¸ªæ ¸å¿ƒåŸç†æœ‰å…³ï¼šè¿­ä»£éœ€è¦å¾ªç¯æ§åˆ¶å˜é‡ï¼Œè¿™æ˜¯å‘½ä»¤å¼è¯­è¨€æœ‰å˜é‡çš„æ ¹æºï¼ˆä¹‹ä¸€ï¼‰ï¼Œä¹Ÿæ˜¯å‡½æ•°å¼è¯­è¨€éœ€è¦å¤„ç†é€’å½’çš„æ ¹æºã€‚</p><p>â€œéœ€ä¸éœ€è¦å­˜å‚¨è®¡ç®—è¿‡ç¨‹ä¸­çš„å˜é‡â€ï¼Œä¹Ÿæ˜¯å‘½ä»¤å¼è¯­è¨€ä¸å‡½æ•°å¼è¯­è¨€çš„åˆ†æ°´å²­ã€‚</p><p>ä»¥ä¸Šæ˜¯å‰5è®²çš„å†…å®¹ã€‚ åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œåœ¨ç¬¬ä¸€æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦æå‡ºçš„æ˜¯è¯­è¨€çš„ä¸‰ä¸ªå±‚é¢çš„æ¦‚å¿µï¼š</p><ul>\n<li>ç¬¬ä¸€å±‚æ¦‚å¿µï¼šè®°å·</li>\n<li>ç¬¬äºŒå±‚æ¦‚å¿µï¼šå¼•ç”¨ã€å€¼</li>\n<li>ç¬¬ä¸‰å±‚æ¦‚å¿µï¼šè¡¨è¾¾å¼ã€è¯­å¥ã€åå­—ã€ç¯å¢ƒ/ä½œç”¨åŸŸ ã€ï¼ˆé¡ºåºæ‰§è¡Œçš„ä¸‰ç§åŸºç¡€ï¼‰é€»è¾‘</li>\n</ul><blockquote>\n<p>NOTE: è¿™ä¸»è¦æ˜¯åœ¨<a href=\"https://github.com/aimingoo/my-ebooks\">ã€Šç¨‹åºåŸæœ¬ã€‹</a>å‰ä¸‰ç« ä¸­çš„æ¦‚å¿µï¼ŒåŒ…æ‹¬â€œæ•°ã€é€»è¾‘å’ŒæŠ½è±¡â€ã€‚éƒ¨åˆ†æ¶‰åŠåˆ°ç¬¬å››ç« ï¼Œä¹Ÿå°±æ˜¯â€œè¯­è¨€â€ä¸­çš„æ¦‚å¿µã€‚</p>\n</blockquote><p>è¿™äº›æ¦‚å¿µå…¶å®åŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨â€œä»£ç çš„é™æ€ç»„ç»‡â€è¿‡ç¨‹ä¸­å°±å®Œæˆ/å®ç°äº†çš„ã€‚ä½ ä½¿ç”¨ä¸€é—¨è¯­è¨€ï¼Œå…¶å®æœ¬è´¨ä¸Šå°±æ˜¯åœ¨è·Ÿç¬¬ä¸‰å±‚æ¦‚å¿µæ‰“äº¤é“ï¼Œè€ŒECMAScriptæˆ–è€…å¼•æ“æ˜¯å·¥ä½œåœ¨ç¬¬äºŒä¸ªå±‚é¢çš„ã€‚ç¬¬ä¸€ä¸ªå±‚é¢ï¼Œåˆ™æ˜¯ç‰©ç†å±‚é¢ä¸é€»è¾‘å±‚é¢çš„ã€æœ€åˆçš„æ˜ å°„ã€‚</p><h3>æ¨¡å—äºŒï¼šä½“ç³»2</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è®¨è®ºç¬¬6~11è®²ã€‚</p><ul>\n<li>6 | x: break x;</li>\n</ul><p>è¿™ä¸€è®²æ˜¯è®²äº†çœŸæ­£çš„è¯­å¥æ‰§è¡Œã€‚ä»ç„¶æ˜¯â€œä¸çŸ¥æ­»ï¼Œå³ä¸çŸ¥ç”Ÿâ€çš„è®²æ³•ï¼Œ<code>break x</code>ä¸è¯­å¥çš„å…³ç³»ï¼ŒåŒ<code>delete x</code>ä¸å¼•ç”¨çš„å…³ç³»å…¶å®å·®ä¸å¤šã€‚</p><p>è€Œä¸”è¿™ä¸€è®²ä¹Ÿæå‡ºäº†â€œè¯­å¥ä»¥æ‰§è¡Œçš„å®ŒæˆçŠ¶æ€â€ä¸ºç»“æœï¼Œè¿™ä¸ªä¼ç¬”è¦ç•™åˆ°ç¬¬8è®²æ¥è§£å¼€ã€‚</p><ul>\n<li>7 | ${1}</li>\n</ul><p>è®²è¿°äº†ç‰¹æ®Šçš„å¯æ‰§è¡Œç»“æ„ã€‚å¦‚æœæŒ‰ç…§ç¬¬ä¸€è®²ä¸­æ‰€è¡¨è¾¾çš„â€œJavaScriptå¼•æ“çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼è®¡ç®—çš„ã€è¿ç»­çš„æ‰§è¡Œè¿‡ç¨‹â€ï¼Œé‚£ä¹ˆå°†æ‰€æœ‰æ˜¾å¼çš„ã€éšå¼çš„â€œæ‰§è¡Œè¡Œä¸ºâ€åˆèµ·æ¥çœ‹ï¼Œæ‰æ˜¯â€œæ‰§è¡Œé€»è¾‘â€çš„å…¨ä½“ã€‚æ­£å¦‚ä½ ä¸äº†è§£æ¯ä¸€ç§ç‰¹æ®Šçš„å¯æ‰§è¡Œç»“æ„ï¼Œä¹Ÿå°±ä¸äº†è§£â€œ${1}â€ä¸ºä»€ä¹ˆæ˜¯æœ€â€œæ™šâ€å‡ºç°çš„è¯­è¨€ç‰¹æ€§ä¹‹ä¸€ã€‚å› ä¸ºå®ƒæ˜¯å¯¹å…¶ä»–æ‰§è¡Œç»“æ„çš„â€œé›†å¤§æˆè€…â€ã€‚</p><p>å½“ç„¶è¿˜æœ‰ä¸€ç‚¹ç‰¹æ®Šä¹‹å¤„ä¹Ÿæ˜¯ä½ éœ€è¦äº†è§£çš„ï¼Œeval(str)æ˜¯æ‰§è¡Œè¯­å¥ï¼Œ<code>è€Œ`${str}`æ˜¯</code>æ‰§è¡Œè¡¨è¾¾å¼ã€‚æœ¬è´¨ä¸Šæ¥è¯´ï¼ŒJavaScriptä¸ºè¿™ä¸¤ç§æ‰§è¡Œéƒ½æ‰¾åˆ°äº†â€œæ‰§è¡Œä¸€ä¸ªå­—ç¬¦ä¸²â€çš„æ¨¡å¼ï¼Œè¿™ä»ç„¶æ˜¯â€œæ¦‚å¿µå®Œæ•´æ€§â€ã€‚</p><blockquote>\n<p>NOTEï¼šè¯•è¯•å¦‚ä¸‹ä»£ç ï¼š</p>\n</blockquote><pre><code>&gt; `${{}}`\n'[object Object]'\n\n&gt; eval('{}')\nundefined\n</code></pre><ul>\n<li>8 | x =&gt; x</li>\n</ul><p>è¡¨é¢ä¸Šçœ‹æ˜¯è®²ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œå®é™…ä¸Šæ˜¯åœ¨è®²å‡½æ•°å¼è¯­è¨€ã€‚å…³é”®å¤„æ˜¯è§£å¼€ç¬¬6è®²ä¼ç¬”çš„è¿™ä¸€å¥ï¼š</p><blockquote>\n<p>è¯­å¥æ‰§è¡Œæ˜¯å‘½ä»¤å¼èŒƒå‹çš„ä½“ç°ï¼Œè€Œå‡½æ•°æ‰§è¡Œä»£è¡¨äº†JavaScriptä¸­çš„å¯¹å‡½æ•°å¼èŒƒå‹çš„ç†è§£ã€‚</p>\n</blockquote><p>å¦å¤–ï¼Œè¿™ä¸€è®²æŠŠå‡½æ•°åˆ†æˆäº†ä¸‰ä¸ªè¯­æ³•ç»„ä»¶ï¼šå‚æ•°ã€æ‰§è¡Œä½“ã€ç»“æœã€‚è¿™æ˜¯éå¸¸é‡è¦çš„ä¸€ä¸ªç‚¹ï¼Œå®ƒå¼•å¯¼äº†åé¢ä¸¤è®²çš„è®¨è®ºæ–¹å¼ã€‚</p><ul>\n<li>9 | (...x)</li>\n</ul><p>è¿™ä¸€è®²è¯´çš„æ˜¯å¦‚ä½•æ”¹é€ å‡½æ•°çš„ä¸‰ä¸ªè¯­æ³•ç»„ä»¶ä¸­çš„â€œæ‰§è¡Œä½“â€ã€‚è¿™ä¸€è®²æå‡ºäº†â€œæ”¹é€ ä¸‰ä¸ªè¯­æ³•ç»„ä»¶â€çš„æ„ä¹‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå‡½æ•°å¼è¯­è¨€æ— è®ºå¦‚ä½•å˜ã€è¯­æ³•å¦‚ä½•å¤„ç†ï¼Œå…¶å®æœ¬è´¨ä¸Šï¼Œå°±æ˜¯åœ¨è¿™ä¸‰ä¸ªç‚¹ä¸Šåšæ‰‹è„šã€ç©èŠ±æ ·ã€‚</p><ul>\n<li>10 | x = yield x</li>\n</ul><p>è¿™ä¸€è®²è¯´çš„æ˜¯å¦‚ä½•æ”¹é€ å‡½æ•°çš„ä¸‰ä¸ªè¯­æ³•ç»„ä»¶ä¸­çš„â€œå‚æ•°â€å’Œâ€œç»“æœâ€ã€‚</p><blockquote>\n<p>NOTE: è¿™ä¸€è®²ä¹Ÿä¸ºå°†æ¥â€œå†è®²å¾ªç¯â€ç•™äº†ä¸€ä¸ªä¼ç¬”ï¼Œä¸è¿‡è¿™å¹¶ä¸æ˜¯å‰20è®²çš„å†…å®¹ï¼Œè¿™æ˜¯â€œæ›´è¿œçš„å°†æ¥â€ã€‚^^.</p>\n</blockquote><ul>\n<li>11 | throw 1;</li>\n</ul><p>è¿™ä¸€è®²å…¶å®è®²çš„æ˜¯æ€ä¹ˆè¯»ECMAScriptè§„èŒƒã€‚</p><p>ä¸è¿‡å®ƒæ˜¯ä»¥â€œæœ€å°åŒ–çš„â€ä¸‰ä¸ªè§„èŒƒè¯´æ˜ï¼Œæ¥è®²è¿°äº†ECMAScriptå±‚é¢æ˜¯å¦‚ä½•ä¸€æ­¥ä¸€æ­¥åœ°å°†JavaScriptæ­å»ºå‡ºæ¥çš„ã€‚è¿™ä¸€è®²é‡Œé¢æœ‰å¾ˆå¤šæ¦‚å¿µå’Œè§‚å¿µï¼Œä¸€æ—¦ä½ å¼„æ˜ç™½äº†ï¼Œå¯¹ECMAScriptä¹Ÿå¥½ï¼ŒJavaScriptä¹Ÿå¥½ï¼Œéƒ½èƒ½èµ·åˆ°â€œç‚¹åŒ–â€çš„ä½œç”¨ã€‚</p><p>å…¶å®è¿™é‡Œæœ‰å¾ˆé‡è¦çš„ä¸€ç‚¹å¼•å¯¼ï¼Œæ˜¯è¿™æ ·ä¸€å¥è¯ï¼š</p><blockquote>\n<p>å…¶ä¸­çš„â€œresult of evaluating...â€åŸºæœ¬ä¸Šç®—æ˜¯ECMAScriptä¸­ä¸€ä¸ªçº¦å®šä¿—æˆçš„å†™æ³•ï¼Œä¸ç®¡æ˜¯æ‰§è¡Œè¯­å¥è¿˜æ˜¯è¡¨è¾¾å¼ï¼Œéƒ½æ˜¯å¦‚æ­¤ã€‚</p>\n</blockquote><p>è¿™å¥è¯å¾ˆé‡è¦ï¼Œå®ƒä»ECMAScriptè§„èŒƒå±‚é¢ã€ä»è¯­å¥å™è¿°çš„å±‚é¢â€œä¸€è‡´åŒ–äº†â€è¯­å¥æ‰§è¡Œå’Œè¡¨è¾¾å¼æ‰§è¡Œã€‚æ³¨æ„ï¼šè¿™å°±æ˜¯ä¸Šé¢é‚£å¼ å›¾çš„å‡ºå¤„ï¼</p><p>è¿™æ˜¯ç¬¬äºŒæ¨¡å—çš„å†…å®¹ã€‚ æ ¹æœ¬ä¸Šæ¥è¯´ï¼Œæ‰¿æ¥æˆ‘ä»¬è¿™ä¸€æ¨¡å—çš„æ€»æ ‡é¢˜â€œJavaScriptæ˜¯å¦‚ä½•è¿è¡Œçš„â€ï¼Œæˆ‘ä¸»è¦ä¸ºä½ è®²è¿°äº†ä¸‰å±‚æ¦‚å¿µï¼š</p><ul>\n<li>ç¬¬ä¸‰å±‚æ¦‚å¿µï¼šè¡¨è¾¾å¼æ‰§è¡Œã€å‡½æ•°æ‰§è¡Œã€å‡½æ•°æ‰§è¡Œçš„æ‰©å±•ã€‚</li>\n<li>ç¬¬äºŒå±‚æ¦‚å¿µï¼šåœ¨è§„èŒƒå±‚é¢å¦‚ä½•ç»Ÿä¸€â€œè¡¨è¾¾å¼æ‰§è¡Œå’Œå‡½æ•°æ‰§è¡Œâ€ã€‚</li>\n<li>ç¬¬ä¸€å±‚æ¦‚å¿µï¼šè¯­è¨€ä½“ç³»çš„å»ºç«‹ã€‚</li>\n</ul><p>å‚è€ƒå‰é¢çš„å›¾ï¼Œæ—¢ç„¶æ‰§è¡Œç»“æœè¢«ç»Ÿä¸€ä¸ºâ€œresultâ€ï¼Œä¸”æ‰§è¡Œè¢«ç»Ÿä¸€ä¸ºâ€œevaluatingâ€ï¼Œé‚£ä¹ˆè¿ç®—å°±è¢«ç»Ÿä¸€æˆâ€œresult of evaluating...â€ï¼Œå¹¶ä¸”ç»“æœï¼ˆå¦‚æœè¿”å›ç»™è®¡ç®—ç³»ç»Ÿçš„å¤–éƒ¨çš„è¯ï¼‰å°±æ˜¯ä¸€ä¸ªèƒ½è¢«ç†è§£çš„result.valueã€‚</p><blockquote>\n<p>NOTE: è¿™ä¸ªæ¦‚å¿µå±‚æ¬¡çš„æ„å»ºï¼Œä»¥åŠæœ€ç»ˆå¯¹å®ƒè¦è¾¾åˆ°çš„æ•ˆæœçš„é¢„æœŸï¼Œä½ å¯ä»¥å‚è€ƒé˜…è¯»ã€Šç¨‹åºåŸæœ¬ã€‹ç¬¬4.6èŠ‚ï¼Œå®ƒçš„æ ‡é¢˜æ˜¯ï¼šå°†â€œè®¡ç®—æœºç¨‹åºè®¾è®¡â€æ•™æˆè¯­è¨€è¯¾ï¼Œæ˜¯æœ¬æœ«å€’ç½®çš„ã€‚</p>\n</blockquote><h3>æ¨¡å—ä¸‰ï¼šä½“ç³»3</h3><p>å›é¡¾ä¸Šé¢çš„å†…å®¹ï¼Œ</p><ul>\n<li>â€œä½“ç³»1â€è¯´çš„æ˜¯â€œç‰©ç†åˆ°é€»è¾‘â€çš„æ˜ å°„</li>\n<li>â€œä½“ç³»2â€è¯´çš„æ˜¯â€œè¯­è¨€ä½“ç³»çš„å»ºç«‹â€</li>\n</ul><p>æ€»ä½“ä¸Šæ¥çœ‹ï¼Œå®ƒä»¬æ˜¯åœ¨é™ˆè¿°ä¸€ä»¶äº‹æƒ…ï¼šâ€œæŠ½è±¡çš„è¯­è¨€â€å¦‚ä½•å¤„ç†â€œç‰©ç†çš„ä»£ç â€ã€‚</p><p>è¿™ä»ç„¶æ˜¯ä¸€ä¸ªä½“ç³»ã€‚</p><blockquote>\n<p>NOTE: å›é¡¾å‰ä¸¤å¤§æ¨¡å—çš„æ ‡é¢˜ï¼Œå…¶å®è¿™ä¸ªâ€œä½“ç³»3â€æˆ‘æ˜¯ä¸€å¼€å§‹å°±å‘Šè¯‰äº†ä½ çš„ï¼š<br>\nä»é›¶å¼€å§‹ï¼šJavaScriptè¯­è¨€æ˜¯å¦‚ä½•æ„å»ºèµ·æ¥çš„<br>\nä»è¡¨è¾¾å¼åˆ°æ‰§è¡Œå¼•æ“ï¼šJavaScriptæ˜¯å¦‚ä½•è¿è¡Œçš„</p>\n</blockquote><h2>æœ€å</h2><p>æœ¬æ¥è¯¾ç¨‹è®¾è®¡ä¸­å¹¶æ²¡æœ‰ä»Šå¤©è¿™ä¸€è®²çš„åŠ é¤ã€‚æŒ‰åŸå®šçš„è®¡åˆ’ï¼Œå°±æ˜¯ç”¨ç¬¬11è®²æœ€åçš„â€œå°ç»“â€ç®—ä½œå¼•å¯¼ä½ çš„ã€å¯¹ä¹‹å‰å†…å®¹æœ€ç»ˆå›é¡¾äº†ã€‚</p><p>ä½†æ˜¯è€ƒè™‘åˆ°è¯¾ç¨‹è¿›åº¦å’Œå®é™…ä¸Šçš„éš¾åº¦ï¼Œæ‰æœ‰äº†ä¸Šä¸€æ¬¡çš„å’Œä»Šå¤©çš„åŠ é¤ã€‚å°¤å…¶æ˜¯ä»Šå¤©çš„å†…å®¹ï¼Œå…¶å®å°±æ˜¯å¯¹ä¸Šä¸€è®²â€”â€”ç¬¬11è®²çš„å°ç»“å†…å®¹çš„å±•å¼€ï¼Œå¸Œæœ›ä½ èƒ½å¯¹ç…§ç€ï¼Œé‡æ–°æ¥ç†è§£å’Œæ¢³ç†è¿™é—¨è¯¾ç¨‹ã€‚</p><p>å¸Œæœ›è¿™ä»½åŠ é¤ä¼šè®©ä½ åç»­çš„è¯¾ç¨‹å˜å¾—è½»æ¾ä¸€äº›ã€‚ä»Šå¤©å°±åˆ°è¿™é‡Œï¼Œä¸‹ä¸€è®²æˆ‘ä»¬å¼€å§‹è®²é¢å‘å¯¹è±¡ã€‚</p>","comments":[{"had_liked":false,"id":219390,"user_name":"kkxue","can_delete":false,"product_type":"c1","uid":1159904,"ip_address":"","ucode":"0DCB861D5543D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/b2/e0/bf56878a.jpg","comment_is_top":false,"comment_ctime":1590021411,"is_pvip":true,"replies":[{"id":"81052","content":"å…³äºè¿™ä¸ªï¼Œè¿˜çœŸçš„æ˜¯æœ‰çš„ã€‚è¯·å‚è€ƒå¦‚ä¸‹ï¼š<br><br>&gt; https:&#47;&#47;github.com&#47;aimingoo&#47;my-ebooks<br><br>å…¶ä¸­çš„ã€Šç¨‹åºåŸæœ¬ã€‹ä¸€ä¹¦ï¼Œæ˜¯å¯ä»¥è‡ªç”±ä¸‹è½½åˆ†äº«çš„ç”µå­ä¹¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1590027859,"ip_address":"","comment_id":219390,"utype":1}],"discussion_count":2,"race_medal":5,"score":"14474923299","product_id":100039701,"comment_content":"ä¸ªäººè§‰å¾—è€å¸ˆè¯´æ˜ä¸‹æ‚¨ç†è§£ç¼–ç¨‹è¯­è¨€èƒŒåçš„å“²å­¦é€»è¾‘æˆ–è€…ä½“ç³»ï¼Œæˆ‘ä»¬ä¸Šé“æ‰æ›´å¿«ã€‚","like_count":3,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495793,"discussion_content":"å…³äºè¿™ä¸ªï¼Œè¿˜çœŸçš„æ˜¯æœ‰çš„ã€‚è¯·å‚è€ƒå¦‚ä¸‹ï¼š\n\n&amp;gt; https://github.com/aimingoo/my-ebooks\n\nå…¶ä¸­çš„ã€Šç¨‹åºåŸæœ¬ã€‹ä¸€ä¹¦ï¼Œæ˜¯å¯ä»¥è‡ªç”±ä¸‹è½½åˆ†äº«çš„ç”µå­ä¹¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590027859,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1159904,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b2/e0/bf56878a.jpg","nickname":"kkxue","note":"","ucode":"0DCB861D5543D6","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":270613,"discussion_content":"å¥½çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590029742,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186957,"user_name":"åˆ˜é•¿é”‹","can_delete":false,"product_type":"c1","uid":1060922,"ip_address":"","ucode":"E4ABC6E335C989","user_header":"https://static001.geekbang.org/account/avatar/00/10/30/3a/e970285b.jpg","comment_is_top":false,"comment_ctime":1583978939,"is_pvip":false,"replies":[{"id":"72127","content":"è°¢è°¢ğŸ™å·²ç»äº¤ç¨¿äº†ï¼Œåœ¨ç­‰å‡ºç‰ˆç¤¾ï½å¯è¿™ä¸è‚ºç‚ç–«æƒ…é—¹çš„å˜›ğŸ˜³","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1583983953,"ip_address":"","comment_id":186957,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10173913531","product_id":100039701,"comment_content":"D2 å¤§ä¼šä¸Šå¬è€å¸ˆè¯´ï¼Œè¦æœ‰æ–°ä¹¦å‘å¸ƒï¼Œå¾ˆæ˜¯æœŸå¾…ï¼","like_count":2,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486937,"discussion_content":"è°¢è°¢ğŸ™å·²ç»äº¤ç¨¿äº†ï¼Œåœ¨ç­‰å‡ºç‰ˆç¤¾ï½å¯è¿™ä¸è‚ºç‚ç–«æƒ…é—¹çš„å˜›ğŸ˜³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583983953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160100,"user_name":"æ½‡æ½‡é›¨æ­‡","can_delete":false,"product_type":"c1","uid":1251429,"ip_address":"","ucode":"4BD52BF0F0A084","user_header":"https://static001.geekbang.org/account/avatar/00/13/18/65/35361f02.jpg","comment_is_top":false,"comment_ctime":1575870054,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"10165804646","product_id":100039701,"comment_content":"ç»“åˆã€Šç¨‹åºåŸæœ¬ã€‹é‡æ–°å›é¡¾å‰å‡ è®²ï¼Œæœ‰è¶£","like_count":2,"discussions":[{"author":{"id":1381243,"avatar":"https://static001.geekbang.org/account/avatar/00/15/13/7b/74e90531.jpg","nickname":"Astrogladiator-åŸƒè’‚çº³åº¦æ–¯","note":"","ucode":"85015092B8E12A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":89071,"discussion_content":"ç¨‹åºåŸæœ¬è¡¨ç¤ºä¸å¤ªç†è§£ï¼Œè¯·é—®ä½ æ˜¯æ€ä¹ˆå»å°è¯•ç†è§£è€å¸ˆç¨‹åºåŸæœ¬ä¸­çš„å†…å®¹çš„å‘¢ï¼Ÿæœ‰ä»€ä¹ˆå¥½çš„æ–¹æ³•ï¼Ÿè¯·æ•™ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576748601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1251429,"avatar":"https://static001.geekbang.org/account/avatar/00/13/18/65/35361f02.jpg","nickname":"æ½‡æ½‡é›¨æ­‡","note":"","ucode":"4BD52BF0F0A084","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1381243,"avatar":"https://static001.geekbang.org/account/avatar/00/15/13/7b/74e90531.jpg","nickname":"Astrogladiator-åŸƒè’‚çº³åº¦æ–¯","note":"","ucode":"85015092B8E12A","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":89111,"discussion_content":"ä¸å¥½æ„æ€ï¼Œæˆ‘è¿˜æ²¡æ€ä¹ˆçœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576750724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":89071,"ip_address":""},"score":89111,"extra":""},{"author":{"id":1251429,"avatar":"https://static001.geekbang.org/account/avatar/00/13/18/65/35361f02.jpg","nickname":"æ½‡æ½‡é›¨æ­‡","note":"","ucode":"4BD52BF0F0A084","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1381243,"avatar":"https://static001.geekbang.org/account/avatar/00/15/13/7b/74e90531.jpg","nickname":"Astrogladiator-åŸƒè’‚çº³åº¦æ–¯","note":"","ucode":"85015092B8E12A","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":89128,"discussion_content":"ä¸è¿‡è¿™ç§ä¸œè¥¿éƒ½æ¯”è¾ƒæŠ½è±¡ï¼Œæ˜¯ä¸å¤ªå¥½ç†è§£ã€‚é¦–å…ˆæ˜¯è¦æ”¹å˜ç°æœ‰çš„æ€ç»´ï¼Œå»æŒ‰ç…§ç¨‹åºæˆ–è€…è¯­è¨€æœ¬èº«çš„è®¾è®¡å»æ€è€ƒã€‚åæ­£å°±æ˜¯å¤šçœ‹å¤šæ€è€ƒï¼Œè¦è½¬å˜æ€ç»´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576751458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":89071,"ip_address":""},"score":89128,"extra":""}]}]},{"had_liked":false,"id":227851,"user_name":"å­œå­œ","can_delete":false,"product_type":"c1","uid":1018203,"ip_address":"","ucode":"7EF4FB644357CE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/89/5b/d8f78c1e.jpg","comment_is_top":false,"comment_ctime":1592494109,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5887461405","product_id":100039701,"comment_content":"è¿™ä¸¤ç« çš„ä¸œè¥¿ï¼Œè™½è¯´æ˜¯jsçš„ï¼Œä½†æ˜¯æˆ‘æ„Ÿè§‰è¿™æ˜¯ä¸é™åˆ¶åœ¨æŸä¸ªè¯­è¨€å±‚é¢çš„ã€‚","like_count":1},{"had_liked":false,"id":225154,"user_name":"westfall","can_delete":false,"product_type":"c1","uid":1632773,"ip_address":"","ucode":"F3F5CB7DF695FC","user_header":"https://static001.geekbang.org/account/avatar/00/18/ea/05/b164dc15.jpg","comment_is_top":false,"comment_ctime":1591667995,"is_pvip":false,"replies":[{"id":"83238","content":"å¼•ç”¨æ˜¯åœ¨â€œè®¾è®¡è¯­è¨€çš„è§„èŒƒâ€ä¸­ç”¨çš„ï¼Œè€ŒæŒ‡é’ˆæ˜¯â€œç¨‹åºä»£ç â€ä¸­ç”¨çš„ã€‚<br>åœ¨jsä¸­çš„â€œå¼•ç”¨ä¸å€¼â€ï¼Œä¸åœ¨ECMAScriptè§„èŒƒä¸­çš„â€œå¼•ç”¨ä¸å€¼â€ä¸æ˜¯ç›¸åŒçš„æ¦‚å¿µã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1591906300,"ip_address":"","comment_id":225154,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5886635291","product_id":100039701,"comment_content":"â€œæ‰€ä»¥æœ¬è´¨ä¸Šï¼Œå¼•ç”¨è¿˜æ˜¯æŒ‡å‘å€¼ã€ä»£è¡¨å€¼çš„ä¸€ä¸ªæ¦‚å¿µï¼Œå®ƒåªæ˜¯â€œè·å¾—å€¼çš„è®¿é—®èƒ½åŠ›â€çš„ä¸€ä¸ªé€”å¾„ã€‚æœ€ç»ˆçš„ç»“æœä»ç„¶æŒ‡å‘åŸç‚¹ï¼šè®¡ç®—å€¼ã€æ±‚å€¼ã€‚â€<br>ä¸æ˜ç™½å¼•ç”¨ä¸æŒ‡é’ˆçš„åŒºåˆ«ã€‚","like_count":1,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497757,"discussion_content":"å¼•ç”¨æ˜¯åœ¨â€œè®¾è®¡è¯­è¨€çš„è§„èŒƒâ€ä¸­ç”¨çš„ï¼Œè€ŒæŒ‡é’ˆæ˜¯â€œç¨‹åºä»£ç â€ä¸­ç”¨çš„ã€‚\nåœ¨jsä¸­çš„â€œå¼•ç”¨ä¸å€¼â€ï¼Œä¸åœ¨ECMAScriptè§„èŒƒä¸­çš„â€œå¼•ç”¨ä¸å€¼â€ä¸æ˜¯ç›¸åŒçš„æ¦‚å¿µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591906300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":194774,"user_name":"K4SHIFZ","can_delete":false,"product_type":"c1","uid":1293057,"ip_address":"","ucode":"BFB49AAC0E4C74","user_header":"https://static001.geekbang.org/account/avatar/00/13/bb/01/568ac2d6.jpg","comment_is_top":false,"comment_ctime":1585104998,"is_pvip":false,"replies":[{"id":"74100","content":"ï¼šï¼‰<br><br>è¿™ä¸ªçœŸçš„è¦ç­‰å¾ˆä¹…å¯èƒ½ã€‚^^.","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1585114325,"ip_address":"","comment_id":194774,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5880072294","product_id":100039701,"comment_content":"è€å¸ˆï¼Œä¸‹ä¸ªè¯¾ç¨‹ä»€ä¹ˆæ—¶å€™å‡ºå•Šï¼Œè¿«ä¸åŠå¾…æƒ³å­¦äº†","like_count":1,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488894,"discussion_content":"ï¼šï¼‰\n\nè¿™ä¸ªçœŸçš„è¦ç­‰å¾ˆä¹…å¯èƒ½ã€‚^^.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585114325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1293057,"avatar":"https://static001.geekbang.org/account/avatar/00/13/bb/01/568ac2d6.jpg","nickname":"K4SHIFZ","note":"","ucode":"BFB49AAC0E4C74","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":213722,"discussion_content":"é‚£æˆ‘è¿˜æ˜¯å…ˆä¹°ä½ çš„ä¹¦å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585116064,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331053,"user_name":"Kids See Ghost","can_delete":false,"product_type":"c1","uid":1390088,"ip_address":"","ucode":"DA57BB8327BB01","user_header":"https://static001.geekbang.org/account/avatar/00/15/36/08/c77d8a5a.jpg","comment_is_top":false,"comment_ctime":1642400760,"is_pvip":false,"replies":[{"id":"120914","content":"å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œç”±äºæ˜¯obj.x,æ‰€ä»¥r.BaseæŒ‡å‘objï¼Œr.ReferencedNameæŒ‡å‘&#39;x&#39;ã€‚<br><br>ç„¶ååœ¨ç¬¬2~3æ­¥çš„åˆ¤æ–­ä¸­éƒ½æ˜¯falseï¼Œç›´åˆ°ç¬¬4æ­¥ï¼ŒIsPropertyReference(r)å°†åˆ¤æ–­ä¸ºTrueï¼Œè¿™æ ·ä¼šåœ¨4.aä¸­r.Baseä¸­å–å‡ºå¯¹è±¡objï¼Œç½®å…¥baseObjã€‚<br><br>æ¥ä¸‹æ¥åˆ°4.cï¼Œä¼šè°ƒç”¨<br>baseObj.[[Get]](V.[[ReferencedName]], GetThisValue(V))<br>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¼šè°ƒç”¨objçš„å†…éƒ¨æ–¹æ³•æ§½[[Get]]ï¼Œç„¶åä¼ å…¥nameå’Œthisã€‚<br><br>æ¥åˆ°å¯¹è±¡æ ‡å‡†çš„å†…éƒ¨æ–¹æ³•[[Get]]çš„å®šä¹‰ï¼Œåœ¨è¿™é‡Œï¼š<br>https:&#47;&#47;tc39.es&#47;ecma262&#47;#sec-ordinary-object-internal-methods-and-internal-slots-get-p-receiver<br><br>æ³¨æ„æŒ‰ç…§ä¸Šé¢çš„ä¼ å‚ï¼Œè¿™é‡Œçš„På°±æ˜¯nameï¼Œå°±æ˜¯GetReferencedName(V)ã€‚äºæ˜¯è¿›å…¥OrdinaryGet()ï¼Œåœ¨è¿™é‡Œä½ èƒ½çœ‹åˆ°ä¸€ä¸ªè¿‡ç¨‹ï¼Œå°±æ˜¯åœ°æ‰«æobjæˆ–é€’å½’å®ƒçš„parentçš„å±æ€§è¡¨ï¼Œç›´åˆ°æ‰¾åˆ°Pæ‰€ä¼ å…¥çš„è¿™ä¸ªåå­—&#39;x&#39;ï¼ˆè®°å¾—åŸå‹é“¾ä¸Šæ€ä¹ˆè¯»å±æ€§obj.xå§ï¼Ÿï¼‰ã€‚<br><br>æ‰¾åˆ°På¯¹åº”çš„åå­—&#39;x&#39;ä¹‹åï¼Œæ£€æµ‹ä¸€ä¸‹ï¼Œå¦‚æœå®ƒæ˜¯æ•°æ®å±æ€§ï¼Œå°±è¿”å›è¿™ä¸ªå¯¹è±¡çš„å±æ€§åˆ—è¡¨ä¸­çš„å€¼ï¼Œäº¦å³æ˜¯return desc.[[Value]]. å¦åˆ™å°±è°ƒç”¨å­˜å–å™¨æ–¹æ³•desc[[Get]]æ¥å–ã€‚â€”â€”è®°å¾—å±æ€§æœ‰ä¸¤ç§å£°æ˜æ–¹å¼å§ï¼Ÿ<br><br>æ‰€ä»¥ï¼Œå¯¹äºobj.xæ¥è¯´ï¼Œè°ƒç”¨GetValue(r)çš„è¿‡ç¨‹ï¼Œæœ€ç»ˆä¼šå˜æˆï¼š<br>```<br>obj = r[[Base]]<br>name = r[[ReferencedName]]   &#47;&#47; &#39;x&#39;<br>desc = obj[name] çš„å±æ€§æè¿°ç¬¦<br>```<br>å¹¶æœ€ç»ˆå–åˆ°desc.[[Value]]çš„ç»“æœï¼Œä¾‹å¦‚ä½ ä¹‹å‰ä¾‹å­ä¸­çš„&quot;abcdef&quot;ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1521669","ctime":1642418295,"ip_address":"","comment_id":331053,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642400760","product_id":100039701,"comment_content":"å…³äºGetValueæœ€åå†è¯·æ•™ä¸€ä¸‹<br>è§„èŒƒé‡Œçš„æ˜¯<br>```<br>6.2.4.5 GetValue ( V )<br>The abstract operation GetValue takes argument V. It performs the following steps when called:<br><br>1. ReturnIfAbrupt(V).<br>2. If V is not a Reference Record, return V.<br>3. If IsUnresolvableReference(V) is true, throw a ReferenceError exception.<br>4. If IsPropertyReference(V) is true, then<br>a. Let baseObj be ? ToObject(V.[[Base]]).<br>b. If IsPrivateReference(V) is true, then<br>i. Return ? PrivateGet(baseObj, V.[[ReferencedName]]).<br>c. Return ? baseObj.[[Get]](V.[[ReferencedName]], GetThisValue(V)).<br>5. Else,<br>a. Let base be V.[[Base]].<br>b. Assert: base is an Environment Record.<br>c. Return ? base.GetBindingValue(V.[[ReferencedName]], V.[[Strict]]) (see 9.1).<br>```<br>æˆ‘ä»¥ä¸ºè¿™ä¸ªè¢«getçš„valueå°±æ˜¯è·Ÿbaseæœ‰å…³ã€‚æˆ‘çœ‹äº†æ‚¨è¯´çš„prepack-coreé‡Œçš„ä»£ç ï¼Œè¿™éƒ¨åˆ†è²Œä¼¼æ˜¯å«_dereferenceã€‚ä»£ç å¤§æ¦‚æ˜¯<br>```<br>  _dereference(realm: Realm, V: Reference | Value, deferenceConditionals?: boolean = true): Value {<br>    &#47;&#47; This step is not necessary as we propagate completions with exceptions.<br>    &#47;&#47; 1. ReturnIfAbrupt(V).<br><br>    &#47;&#47; 2. If Type(V) is not Reference, return V.<br>    if (!(V instanceof Reference)) return V;<br><br>    &#47;&#47; 3. Let base be GetBase(V).<br>    let base = this.GetBase(realm, V);<br>    &#47;&#47;....<br>    if (this.HasPrimitiveBase(realm, V)) {<br>        &#47;&#47; i. Assert: In this case, base will never be null or undefined.<br>        invariant(base instanceof Value &amp;&amp; !HasSomeCompatibleType(base, UndefinedValue, NullValue));<br><br>        &#47;&#47; ii. Let base be To.ToObject(base).<br>        base = To.ToObject(realm, base);<br>      }<br>      invariant(base instanceof ObjectValue || base instanceof AbstractObjectValue);<br><br>      &#47;&#47; b. Return ? base.[[Get]](GetReferencedName(V), GetThisValue(V)).<br>      return base.$GetPartial(this.GetReferencedNamePartial(realm, V), GetThisValue(realm, V));<br>```<br>è¿™é‡Œæ€ä¹ˆçœ‹éƒ½æ˜¯è·Ÿbaseæœ‰å…³ç³»ã€‚å®åœ¨æ˜¯çœ‹ä¸æ‡‚åˆ°åº•æ€ä¹ˆæ ·æŠŠä¸€ä¸ªvalueç”¨getValueå–å‡ºæ¥ã€‚æ‚¨çš„è¯¾ä¹Ÿæˆ‘ä¹Ÿæ²¡æœ‰çœ‹åˆ°æœ‰ç›´æ¥è®²åˆ°è¿™ä¸ªã€‚æ‰€ä»¥èƒ½ä¸èƒ½éº»çƒ¦æœ€åå†æŒ‡ç‚¹ä¸€ä¸‹ï¼Œåˆ°åº•è§„èŒƒé‡Œé¢çš„å“ªä¸€æ­¥æ˜¯æŠŠåƒobj = {x: &#39;abcdef&#39;}ï¼Œå½“ã€obj.xã€‘ä½œä¸ºä¸€ä¸ªå¼•ç”¨æ—¶ï¼Œæˆ‘ä»¬æŠŠå­—ç¬¦ä¸²ç»™ç”¨getValueå–å‡ºæ¥çš„ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546763,"discussion_content":"å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œç”±äºæ˜¯obj.x,æ‰€ä»¥r.BaseæŒ‡å‘objï¼Œr.ReferencedNameæŒ‡å‘&#39;x&#39;ã€‚\n\nç„¶ååœ¨ç¬¬2~3æ­¥çš„åˆ¤æ–­ä¸­éƒ½æ˜¯falseï¼Œç›´åˆ°ç¬¬4æ­¥ï¼ŒIsPropertyReference(r)å°†åˆ¤æ–­ä¸ºTrueï¼Œè¿™æ ·ä¼šåœ¨4.aä¸­r.Baseä¸­å–å‡ºå¯¹è±¡objï¼Œç½®å…¥baseObjã€‚\n\næ¥ä¸‹æ¥åˆ°4.cï¼Œä¼šè°ƒç”¨\nbaseObj.[[Get]](V.[[ReferencedName]], GetThisValue(V))\nä¹Ÿå°±æ˜¯è¯´ï¼Œä¼šè°ƒç”¨objçš„å†…éƒ¨æ–¹æ³•æ§½[[Get]]ï¼Œç„¶åä¼ å…¥nameå’Œthisã€‚\n\næ¥åˆ°å¯¹è±¡æ ‡å‡†çš„å†…éƒ¨æ–¹æ³•[[Get]]çš„å®šä¹‰ï¼Œåœ¨è¿™é‡Œï¼š\nhttps://tc39.es/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots-get-p-receiver\n\næ³¨æ„æŒ‰ç…§ä¸Šé¢çš„ä¼ å‚ï¼Œè¿™é‡Œçš„På°±æ˜¯nameï¼Œå°±æ˜¯GetReferencedName(V)ã€‚äºæ˜¯è¿›å…¥OrdinaryGet()ï¼Œåœ¨è¿™é‡Œä½ èƒ½çœ‹åˆ°ä¸€ä¸ªè¿‡ç¨‹ï¼Œå°±æ˜¯åœ°æ‰«æobjæˆ–é€’å½’å®ƒçš„parentçš„å±æ€§è¡¨ï¼Œç›´åˆ°æ‰¾åˆ°Pæ‰€ä¼ å…¥çš„è¿™ä¸ªåå­—&#39;x&#39;ï¼ˆè®°å¾—åŸå‹é“¾ä¸Šæ€ä¹ˆè¯»å±æ€§obj.xå§ï¼Ÿï¼‰ã€‚\n\næ‰¾åˆ°På¯¹åº”çš„åå­—&#39;x&#39;ä¹‹åï¼Œæ£€æµ‹ä¸€ä¸‹ï¼Œå¦‚æœå®ƒæ˜¯æ•°æ®å±æ€§ï¼Œå°±è¿”å›è¿™ä¸ªå¯¹è±¡çš„å±æ€§åˆ—è¡¨ä¸­çš„å€¼ï¼Œäº¦å³æ˜¯return desc.[[Value]]. å¦åˆ™å°±è°ƒç”¨å­˜å–å™¨æ–¹æ³•desc[[Get]]æ¥å–ã€‚â€”â€”è®°å¾—å±æ€§æœ‰ä¸¤ç§å£°æ˜æ–¹å¼å§ï¼Ÿ\n\næ‰€ä»¥ï¼Œå¯¹äºobj.xæ¥è¯´ï¼Œè°ƒç”¨GetValue(r)çš„è¿‡ç¨‹ï¼Œæœ€ç»ˆä¼šå˜æˆï¼š\n```\nobj = r[[Base]]\nname = r[[ReferencedName]]   // &#39;x&#39;\ndesc = obj[name] çš„å±æ€§æè¿°ç¬¦\n```\nå¹¶æœ€ç»ˆå–åˆ°desc.[[Value]]çš„ç»“æœï¼Œä¾‹å¦‚ä½ ä¹‹å‰ä¾‹å­ä¸­çš„&#34;abcdef&#34;ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642418295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331008,"user_name":"Kids See Ghost","can_delete":false,"product_type":"c1","uid":1390088,"ip_address":"","ucode":"DA57BB8327BB01","user_header":"https://static001.geekbang.org/account/avatar/00/15/36/08/c77d8a5a.jpg","comment_is_top":false,"comment_ctime":1642365414,"is_pvip":false,"replies":[{"id":"120894","content":"æ¯”å€¼ã€‚æ‰€ä»¥æ˜¯getValue(x) === getValue(y) ã€‚è§„èŒƒä¸­åœ¨è¿™é‡Œï¼š<br>https:&#47;&#47;tc39.es&#47;ecma262&#47;#sec-equality-operators-runtime-semantics-evaluation<br>ä½ è‡ªå·±çœ‹ï¼Œç¡®å®å°±æ˜¯å¯¹ä¸¤ä¸ªæ“ä½œæ•°éƒ½åšäº†GetValueã€‚<br><br>å¦å¤–ï¼Œä½ å¯¹GetValueçš„ç†è§£æ˜¯é”™çš„ã€‚æˆ‘åœ¨å¦ä¸€ä¸ªå›å¤é‡Œè¯´ã€‚<br>å†å¦å¤–ï¼Œè¦è‡ªå·±æŸ¥è§„èŒƒã€‚æ…¢æ…¢çœ‹ï¼Œä½ ä¼šæ‰¾åˆ°çš„ï¼Œä¸è¦å·æ‡’ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1521669","ctime":1642388145,"ip_address":"","comment_id":331008,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642365414","product_id":100039701,"comment_content":"å†è¯·æ•™ä¸€ä¸‹ï¼šåœ¨JSé‡Œåšequality checkçš„æ—¶å€™, æ¯”å¦‚ç”¨ === - è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æ˜¯åœ¨æ¯”valueè¿˜æ˜¯æ¯”referenceï¼Ÿä¹Ÿå°±æ˜¯è¯´ x === y - ç­‰äºæ˜¯ getValue(x) === getValue(y) å—ï¼Ÿ<br>ç›¸åº”åœ°ï¼Œæ˜¯ä¸æ˜¯è¯´åœ¨JSé‡Œé¢ï¼Œèƒ½æ‹¿æ¥æ¯”è¾ƒçš„ä¸œè¥¿åªèƒ½æ˜¯ valueï¼Œä¸¤ä¸ªreferenceæ˜¯è‚¯å®šä¸ä¸€æ ·çš„ï¼Ÿ<br>è¯·é—®è§„èŒƒé‡Œé¢æœ‰ç›¸åº”çš„ç« èŠ‚å—ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546672,"discussion_content":"æ¯”å€¼ã€‚æ‰€ä»¥æ˜¯getValue(x) === getValue(y) ã€‚è§„èŒƒä¸­åœ¨è¿™é‡Œï¼š\nhttps://tc39.es/ecma262/#sec-equality-operators-runtime-semantics-evaluation\nä½ è‡ªå·±çœ‹ï¼Œç¡®å®å°±æ˜¯å¯¹ä¸¤ä¸ªæ“ä½œæ•°éƒ½åšäº†GetValueã€‚\n\nå¦å¤–ï¼Œä½ å¯¹GetValueçš„ç†è§£æ˜¯é”™çš„ã€‚æˆ‘åœ¨å¦ä¸€ä¸ªå›å¤é‡Œè¯´ã€‚\nå†å¦å¤–ï¼Œè¦è‡ªå·±æŸ¥è§„èŒƒã€‚æ…¢æ…¢çœ‹ï¼Œä½ ä¼šæ‰¾åˆ°çš„ï¼Œä¸è¦å·æ‡’ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642388145,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331007,"user_name":"Kids See Ghost","can_delete":false,"product_type":"c1","uid":1390088,"ip_address":"","ucode":"DA57BB8327BB01","user_header":"https://static001.geekbang.org/account/avatar/00/15/36/08/c77d8a5a.jpg","comment_is_top":false,"comment_ctime":1642362399,"is_pvip":false,"replies":[{"id":"120895","content":"è§„èŒƒé‡Œçš„getValue æœ€ç»ˆæ‹¿å‡ºæ¥çš„valueå°±æ˜¯baseï¼Œè¯·é—®è¿™ä¸ªç†è§£æ˜¯é”™çš„å—ï¼Ÿå¦‚æœæ˜¯é”™çš„ï¼Œé‚£getValueé‡Œæ‹¿å‡ºæ¥çš„valueåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ<br>-------<br>å½“ç„¶æ˜¯é”™çš„ã€‚â€œå¼•ç”¨ï¼ˆè§„èŒƒç±»å‹ï¼‰â€é‡Œé¢æ ¹æœ¬ä¸ä¿å­˜valueï¼Œå®ƒæ²¡æœ‰valueå­—æ®µï¼Œä¹Ÿä¸å­˜æ”¾å€¼çš„å†…å®¹ã€‚å®ƒæ˜¯ä¸€ä¸ªå€¼çš„ç´¢å¼•å™¨ï¼Œæ‰€ä»¥ä½ åº”è¯¥ä»”ç»†è¯»GetValue()è¿™ä¸ªå†…éƒ¨è¿‡ç¨‹ï¼Œæ‰èƒ½å¼„æ˜ç™½å¦‚ä½•åˆ©ç”¨è¿™ä¸ªä¸œè¥¿æ‰¾åˆ°â€œæ¯ä¸€ç§ä¸åŒç±»å‹çš„å¼•ç”¨â€æ‰€å¯¹åº”çš„å€¼ã€‚<br>åŒæ ·çš„åŸå› ï¼Œbaseè‚¯å®šä¸å¯èƒ½â€œé”™è¯¯çš„ç†è§£ä¸ºé‚£ä¸ªå­—ç¬¦ä¸²â€ã€‚é‚£ä¸ªå­—ç¬¦ä¸²æ ¹æœ¬ä¸ä¼šåœ¨â€œå¼•ç”¨ï¼ˆè§„èŒƒç±»å‹ï¼‰â€è¿™ä¸ªè®°å½•çš„ä»»ä½•åœ°æ–¹ã€‚<br><br>ä»”ç»†è¯»è§„èŒƒã€‚å¦å¤–ï¼Œå¦‚æœä½ ç¡®å®å¯¹è§„èŒƒç†è§£æœ‰ç–‘é—®ï¼Œæˆ‘å»ºè®®ä½ è‡ªå·±gitä¸€ä¸ªprepack-coreé¡¹ç›®ä¸‹æ¥ï¼Œç„¶ååœ¨IDEç¯å¢ƒï¼ˆä¾‹å¦‚vscodeï¼‰é‡Œè°ƒè¯•æ¥çœ‹ã€‚ä¹‹æ‰€ä»¥æ¨èprepack-coreï¼Œæ˜¯å› ä¸ºå®ƒæ˜¯æŒ‰ç…§è§„èŒƒé€è¡Œç¿»è¯‘æˆjsä»£ç çš„ï¼Œè¯»èµ·æ¥æ˜“æ‡‚ã€‚prepack-coreé¡¹ç›®åœ¨è¿™é‡Œï¼š<br>https:&#47;&#47;github.com&#47;aimingoo&#47;prepack-core<br><br>Environment Record~~ çœ‹è§„èŒƒå§ã€‚é‡Œé¢æœ‰ï¼Œæ˜¯éå¸¸å…³é”®çš„ç±»å‹ã€‚æˆ–è€…æˆ‘ä¹‹å‰ç»™è¿‡ä½ çš„è§†é¢‘åœ°å€é‡Œä¹Ÿæœ‰ã€‚åœ¨è¿™é‡Œï¼š<br>https:&#47;&#47;www.bilibili.com&#47;video&#47;BV1Wy4y1b7PG<br><br>å¦‚æœä½ æ‰å¼€å§‹è¯»è§„èŒƒï¼Œé‚£ä¹ˆè‡³å°‘ä¹Ÿè¦å…ˆæŠŠè§„èŒƒçš„å¤§æ¦‚ç›®å½•çœ‹å®Œï¼ŒçŸ¥é“å®ƒæ€ä¹ˆå†™ä»¥åŠæœ‰ä»€ä¹ˆå§ã€‚è¿™äº›ä¸œè¥¿åœ¨ç»“æ„ä¸Šçœ‹æ˜ç™½å¤§æ¦‚ä¹Ÿå¾—èŠ±äº›åŠŸå¤«ï¼Œå¸¦ç€é—®é¢˜å…ˆçœ‹å§ï¼Œä¸è¦ç€æ€¥æ‰¾ç­”æ¡ˆã€‚é—®é¢˜æ²¡é—®å¯¹ï¼Œç­”æ¡ˆæ˜¯æ²¡æ„ä¹‰çš„ï¼›é—®é¢˜é—®å¯¹äº†ï¼Œç­”æ¡ˆå°±å‡ ä¹è·ƒè·ƒæ¬²å‡ºäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1521669","ctime":1642388973,"ip_address":"","comment_id":331007,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642362399","product_id":100039701,"comment_content":"1. è¯·æ•™ä¸€ä¸‹ï¼Œæ‚¨è¯´â€œä¾‹å¦‚obj = {x: &#39;abcdef&#39;}ï¼Œå½“ã€obj.xã€‘ä½œä¸ºä¸€ä¸ªå¼•ç”¨æ—¶ï¼Œbaseæ˜¯objï¼Œè€Œä¸æ˜¯é‚£ä¸ªå­—ç¬¦ä¸²&#39;abcdef&#39;ã€‚åˆä¾‹å¦‚å…¨å±€çš„å˜é‡let x = &#39;abcdef&#39;ï¼Œbaseå°†æ˜¯å…¨å±€è¯æ³•ç¯å¢ƒï¼ŒæŒ‡å‘Global.lexEnvã€‚â€<br><br>å‡å¦‚æˆ‘ç°åœ¨æŠŠobj.xèµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œé‚£getValue(obj.x)æ‹¿å‡ºæ¥çš„å€¼ä¸åº”è¯¥æ˜¯å­—ç¬¦ä¸²&#39;abcdef&#39;å—ï¼Ÿhttps:&#47;&#47;tc39.es&#47;ecma262&#47;#sec-getvalue æˆ‘ç†è§£çš„è§„èŒƒé‡Œçš„getValue æœ€ç»ˆæ‹¿å‡ºæ¥çš„valueå°±æ˜¯baseï¼Œè¯·é—®è¿™ä¸ªç†è§£æ˜¯é”™çš„å—ï¼Ÿå¦‚æœæ˜¯é”™çš„ï¼Œé‚£getValueé‡Œæ‹¿å‡ºæ¥çš„valueåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ<br><br>æ¢ä¸€ä¸ªé—®æ³•ï¼Œå¦‚æœå½“ã€obj.xã€‘ä½œä¸ºä¸€ä¸ªå¼•ç”¨æ—¶ï¼Œé”™è¯¯åœ°æŠŠbaseæ˜¯å½“æˆäº†é‚£ä¸ªå­—ç¬¦ä¸²&#39;abcdef&#39;ï¼Œä¼šé€ æˆä»€ä¹ˆæ ·çš„ç†è§£é”™è¯¯å‘¢ï¼Œè¯·é—®æ‚¨èƒ½ä¸¾ä¸ªä¾‹å­å—ï¼Ÿ<br><br>2. å¦å¤–æƒ³è¯·æ•™ä¸€ä¸‹åœ¨https:&#47;&#47;tc39.es&#47;ecma262&#47;#sec-reference-record-specification-type é‡Œå®šä¹‰çš„ Reference Record Specification Typeé‡Œï¼Œ[[ReferencedName]]\tæåˆ° &quot;The name of the binding. Always a String if [[Base]] value is an Environment Record.&quot;è¿™å¥è¯çš„æ„æ€æ˜¯ä»€ä¹ˆï¼Ÿæ„æ€æ˜¯å¦‚æœbaseä¸æ˜¯ä¸€ä¸ªEnvironment Recordï¼Œé‚£ReferencedNameå¯ä»¥ä¸æ˜¯stringï¼Ÿè¯·é—®Environment Recordåˆæ˜¯å•¥ã€‚ã€‚","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546674,"discussion_content":"è§„èŒƒé‡Œçš„getValue æœ€ç»ˆæ‹¿å‡ºæ¥çš„valueå°±æ˜¯baseï¼Œè¯·é—®è¿™ä¸ªç†è§£æ˜¯é”™çš„å—ï¼Ÿå¦‚æœæ˜¯é”™çš„ï¼Œé‚£getValueé‡Œæ‹¿å‡ºæ¥çš„valueåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ\n-------\nå½“ç„¶æ˜¯é”™çš„ã€‚â€œå¼•ç”¨ï¼ˆè§„èŒƒç±»å‹ï¼‰â€é‡Œé¢æ ¹æœ¬ä¸ä¿å­˜valueï¼Œå®ƒæ²¡æœ‰valueå­—æ®µï¼Œä¹Ÿä¸å­˜æ”¾å€¼çš„å†…å®¹ã€‚å®ƒæ˜¯ä¸€ä¸ªå€¼çš„ç´¢å¼•å™¨ï¼Œæ‰€ä»¥ä½ åº”è¯¥ä»”ç»†è¯»GetValue()è¿™ä¸ªå†…éƒ¨è¿‡ç¨‹ï¼Œæ‰èƒ½å¼„æ˜ç™½å¦‚ä½•åˆ©ç”¨è¿™ä¸ªä¸œè¥¿æ‰¾åˆ°â€œæ¯ä¸€ç§ä¸åŒç±»å‹çš„å¼•ç”¨â€æ‰€å¯¹åº”çš„å€¼ã€‚\nåŒæ ·çš„åŸå› ï¼Œbaseè‚¯å®šä¸å¯èƒ½â€œé”™è¯¯çš„ç†è§£ä¸ºé‚£ä¸ªå­—ç¬¦ä¸²â€ã€‚é‚£ä¸ªå­—ç¬¦ä¸²æ ¹æœ¬ä¸ä¼šåœ¨â€œå¼•ç”¨ï¼ˆè§„èŒƒç±»å‹ï¼‰â€è¿™ä¸ªè®°å½•çš„ä»»ä½•åœ°æ–¹ã€‚\n\nä»”ç»†è¯»è§„èŒƒã€‚å¦å¤–ï¼Œå¦‚æœä½ ç¡®å®å¯¹è§„èŒƒç†è§£æœ‰ç–‘é—®ï¼Œæˆ‘å»ºè®®ä½ è‡ªå·±gitä¸€ä¸ªprepack-coreé¡¹ç›®ä¸‹æ¥ï¼Œç„¶ååœ¨IDEç¯å¢ƒï¼ˆä¾‹å¦‚vscodeï¼‰é‡Œè°ƒè¯•æ¥çœ‹ã€‚ä¹‹æ‰€ä»¥æ¨èprepack-coreï¼Œæ˜¯å› ä¸ºå®ƒæ˜¯æŒ‰ç…§è§„èŒƒé€è¡Œç¿»è¯‘æˆjsä»£ç çš„ï¼Œè¯»èµ·æ¥æ˜“æ‡‚ã€‚prepack-coreé¡¹ç›®åœ¨è¿™é‡Œï¼š\nhttps://github.com/aimingoo/prepack-core\n\nEnvironment Record~~ çœ‹è§„èŒƒå§ã€‚é‡Œé¢æœ‰ï¼Œæ˜¯éå¸¸å…³é”®çš„ç±»å‹ã€‚æˆ–è€…æˆ‘ä¹‹å‰ç»™è¿‡ä½ çš„è§†é¢‘åœ°å€é‡Œä¹Ÿæœ‰ã€‚åœ¨è¿™é‡Œï¼š\nhttps://www.bilibili.com/video/BV1Wy4y1b7PG\n\nå¦‚æœä½ æ‰å¼€å§‹è¯»è§„èŒƒï¼Œé‚£ä¹ˆè‡³å°‘ä¹Ÿè¦å…ˆæŠŠè§„èŒƒçš„å¤§æ¦‚ç›®å½•çœ‹å®Œï¼ŒçŸ¥é“å®ƒæ€ä¹ˆå†™ä»¥åŠæœ‰ä»€ä¹ˆå§ã€‚è¿™äº›ä¸œè¥¿åœ¨ç»“æ„ä¸Šçœ‹æ˜ç™½å¤§æ¦‚ä¹Ÿå¾—èŠ±äº›åŠŸå¤«ï¼Œå¸¦ç€é—®é¢˜å…ˆçœ‹å§ï¼Œä¸è¦ç€æ€¥æ‰¾ç­”æ¡ˆã€‚é—®é¢˜æ²¡é—®å¯¹ï¼Œç­”æ¡ˆæ˜¯æ²¡æ„ä¹‰çš„ï¼›é—®é¢˜é—®å¯¹äº†ï¼Œç­”æ¡ˆå°±å‡ ä¹è·ƒè·ƒæ¬²å‡ºäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642388973,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330857,"user_name":"Kids See Ghost","can_delete":false,"product_type":"c1","uid":1390088,"ip_address":"","ucode":"DA57BB8327BB01","user_header":"https://static001.geekbang.org/account/avatar/00/15/36/08/c77d8a5a.jpg","comment_is_top":false,"comment_ctime":1642228969,"is_pvip":false,"replies":[{"id":"120735","content":"1. æ˜¯ã€‚<br><br>2. ä¸æ˜¯ã€‚ä¾‹å¦‚obj = {x: &#39;abcdef&#39;}ï¼Œå½“ã€obj.xã€‘ä½œä¸ºä¸€ä¸ªå¼•ç”¨æ—¶ï¼Œbaseæ˜¯objï¼Œè€Œä¸æ˜¯é‚£ä¸ªå­—ç¬¦ä¸²&#39;abcdef&#39;ã€‚åˆä¾‹å¦‚å…¨å±€çš„å˜é‡let x = &#39;abcdef&#39;ï¼Œbaseå°†æ˜¯å…¨å±€è¯æ³•ç¯å¢ƒï¼ŒæŒ‡å‘Global.lexEnvã€‚<br><br>3. æ˜¯ä¼ å€¼ã€‚ä¾‹å¦‚f(obj.x)ï¼Œé‚£ä¹ˆå®é™…ä¼ å…¥çš„æ˜¯f(GetValue(obj.x))ã€‚åœ¨æ‰§è¡ŒCall()å†…éƒ¨è¿ç®—ä¹‹å‰ï¼Œä¼ å…¥å‚æ•°åˆ—è¡¨å°±è¢«å¤„ç†è¿‡äº†ã€‚è§„èŒƒä¸Šä¹Ÿè®²äº†ï¼Œåªæ˜¯ä¸€ä¸ªå™è¿°ã€‚å¦‚ä¸‹ï¼š<br>https:&#47;&#47;tc39.es&#47;ecma262&#47;#sec-call<br>åŸæ–‡ï¼šand argumentsList is the value passed to the corresponding argument of the internal method.<br><br>4. æ²¡è¯´åã€‚ECMAScriptå½“ç„¶ä¹Ÿæè¿°äº†è¯­è¨€æ˜¯ä»€ä¹ˆæ ·å­ï¼Œæ¯”å¦‚è¯­æ³•ã€é™æ€è¯æ³•ç­‰ç­‰ï¼Œä½†è¿™åœ¨è§„èŒƒä¸­åä¸å ä¸€ã€‚çœŸæ­£å¤šçš„å†…å®¹æ˜¯å¦‚ä½•å®ç°å®ƒã€‚ECMAScriptå½“ç„¶æ²¡è®²ä½ è¯´çš„è¿™äº›ï¼Œå› ä¸ºé‚£äº›æ˜¯é‚£äº›æ˜¯æ‰§è¡Œç¯å¢ƒã€‚â€”â€”â€œå¼•æ“å¦‚ä½•å®ç°ä¸€ä¸ªè¯­è¨€â€ä¸å•å•æ˜¯è¯´æ ˆå¦‚ä½•æ“ä½œã€å†…å­˜å¦‚ä½•åˆ†é…ï¼Œä¹ŸåŒ…æ‹¬ä¸€ä¸ªå…·ä½“çš„â€œ+â€è¿ç®—ç¬¦å¦‚ä½•å®ç°ï¼Œå¯¹å§ï¼ŸECMAScriptåªçº¦å®šäº†â€œ+â€å¦‚ä½•å®ç°ï¼Œæ²¡è¯´å®ƒçš„è¿ç®—æ•°åœ¨æ ˆä¸Šå¦‚ä½•åˆ†é…ï¼Œå¾ˆæ­£å¸¸å•Šï¼Œå…·ä½“æ‰§è¡Œç¯å¢ƒå®ç°çš„æ—¶å€™ç”¨ä¸ç”¨æ ˆéƒ½è¿˜å¦è¯´å‘¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1521669","ctime":1642306516,"ip_address":"","comment_id":330857,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642228969","product_id":100039701,"comment_content":"å‡ ä¸ªé—®é¢˜æƒ³å‘è€å¸ˆè¯·æ•™ä¸€ä¸‹ï¼š<br>1. Reference Record Specification Type ï¼ˆhttps:&#47;&#47;tc39.es&#47;ecma262&#47;#sec-reference-record-specification-typeï¼‰å°±æ˜¯æ‚¨ä¸€ç›´æåˆ°çš„â€œè§„èŒƒå±‚é¢çš„å¼•ç”¨ï¼ˆReferencesï¼‰â€å—ï¼Ÿ<br>2. å¼•ç”¨referenceé‡Œçš„Baseï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥ç†è§£ä¸ºçœŸæ­£çš„é‚£ä¸ªæ•°å­—&#47;å­—ç¬¦ä¸²&#47;object etc. å—ï¼Ÿè€Œä¸æ˜¯æŒ‡é’ˆ&#47;å¼•ç”¨ï¼ˆå†…å­˜å±‚é¢ä¸Šçš„ï¼‰æˆ–è€…äº†å¦ä¸€ä¸ªreference?<br>3. æœ€æƒ³é—®çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæƒ³çŸ¥é“åœ¨call functionçš„æ—¶å€™ï¼Œè§„èŒƒé‡Œæœ‰è§„å®šæ˜¯pass by valueè¿˜æ˜¯pass by referenceå—ï¼Ÿå‡å¦‚è¯´æˆ‘ä»¬æœ‰ <br>```<br>function fn(x) {}<br>const a = {}<br>const b = 1<br><br>fn(a)<br>fn(b)<br>```<br>è¿™é‡Œç¬¬ä¸€æ¬¡ç»™fnä¼ å…¥`a`çš„æ—¶å€™ï¼Œæ•´ä¸ªè¿‡ç¨‹æˆ‘ä»¬æœ‰`x = getValue(a)` å—è¿˜æ˜¯è¯´æˆ‘ä»¬ç›´æ¥æŠŠ`a`çš„referenceç»™äº†`x`? fn(b) ä¹Ÿä¸€æ ·å—ï¼Ÿ <br>æˆ‘åœ¨è§„èŒƒé‡Œæ‰¾äº†å¾ˆä¹…éƒ½æ‰¾ä¸åˆ°ç›¸åº”çš„ç« èŠ‚ï¼Œè¯·é—®æ‚¨èƒ½ç»™ä¸€ä¸ªé“¾æ¥åˆ°ä¸“é—¨è®²**å‡½æ•°ä¼ å‚**çš„ç« èŠ‚å—ï¼Ÿ<br>4.æœ€åï¼Œæ‚¨è¯´â€œè¿™ä¸ªæ¡†æ¶çš„æ ¸å¿ƒåœ¨äºâ€”â€”ECMAScript çš„ç›®çš„æ˜¯æè¿°â€œå¼•æ“å¦‚ä½•å®ç°â€ï¼Œè€Œä¸æ˜¯â€œæè¿°è¯­è¨€æ˜¯ä»€ä¹ˆâ€ã€‚â€è¿™å¥è¯ç¡®å®šæ²¡æœ‰è¯´åäº†å—ï¼Ÿéš¾é“ä¸æ˜¯ ECMAScriptçš„ç›®çš„æ˜¯è®¾è®¡ä¸€ä¸ªè¯­è¨€ï¼Œå…·ä½“è¯­è¨€æ€ä¹ˆå®ç°æ˜¯javascript engineçš„äº‹æƒ…ã€‚æ¯”å¦‚ECMAScripté‡Œé¢ä¸ä¼šè®²memory layoutåº”è¯¥ä¼šæ€ä¹ˆæ ·ï¼Œä»€ä¹ˆä¸œè¥¿æ”¾åˆ°stackä¸Šï¼Œä»€ä¹ˆæ”¾åˆ°heapä¸Šï¼Œå› ä¸ºè¿™ä¸ªæ˜¯implementation detailsï¼Œç”±å¼•æ“è‡ªå·±å†³å®šã€‚<br>æ„Ÿè°¢ï¼","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546371,"discussion_content":"1. æ˜¯ã€‚\n\n2. ä¸æ˜¯ã€‚ä¾‹å¦‚obj = {x: &#39;abcdef&#39;}ï¼Œå½“ã€obj.xã€‘ä½œä¸ºä¸€ä¸ªå¼•ç”¨æ—¶ï¼Œbaseæ˜¯objï¼Œè€Œä¸æ˜¯é‚£ä¸ªå­—ç¬¦ä¸²&#39;abcdef&#39;ã€‚åˆä¾‹å¦‚å…¨å±€çš„å˜é‡let x = &#39;abcdef&#39;ï¼Œbaseå°†æ˜¯å…¨å±€è¯æ³•ç¯å¢ƒï¼ŒæŒ‡å‘Global.lexEnvã€‚\n\n3. æ˜¯ä¼ å€¼ã€‚ä¾‹å¦‚f(obj.x)ï¼Œé‚£ä¹ˆå®é™…ä¼ å…¥çš„æ˜¯f(GetValue(obj.x))ã€‚åœ¨æ‰§è¡ŒCall()å†…éƒ¨è¿ç®—ä¹‹å‰ï¼Œä¼ å…¥å‚æ•°åˆ—è¡¨å°±è¢«å¤„ç†è¿‡äº†ã€‚è§„èŒƒä¸Šä¹Ÿè®²äº†ï¼Œåªæ˜¯ä¸€ä¸ªå™è¿°ã€‚å¦‚ä¸‹ï¼š\nhttps://tc39.es/ecma262/#sec-call\nåŸæ–‡ï¼šand argumentsList is the value passed to the corresponding argument of the internal method.\n\n4. æ²¡è¯´åã€‚ECMAScriptå½“ç„¶ä¹Ÿæè¿°äº†è¯­è¨€æ˜¯ä»€ä¹ˆæ ·å­ï¼Œæ¯”å¦‚è¯­æ³•ã€é™æ€è¯æ³•ç­‰ç­‰ï¼Œä½†è¿™åœ¨è§„èŒƒä¸­åä¸å ä¸€ã€‚çœŸæ­£å¤šçš„å†…å®¹æ˜¯å¦‚ä½•å®ç°å®ƒã€‚ECMAScriptå½“ç„¶æ²¡è®²ä½ è¯´çš„è¿™äº›ï¼Œå› ä¸ºé‚£äº›æ˜¯é‚£äº›æ˜¯æ‰§è¡Œç¯å¢ƒã€‚â€”â€”â€œå¼•æ“å¦‚ä½•å®ç°ä¸€ä¸ªè¯­è¨€â€ä¸å•å•æ˜¯è¯´æ ˆå¦‚ä½•æ“ä½œã€å†…å­˜å¦‚ä½•åˆ†é…ï¼Œä¹ŸåŒ…æ‹¬ä¸€ä¸ªå…·ä½“çš„â€œ+â€è¿ç®—ç¬¦å¦‚ä½•å®ç°ï¼Œå¯¹å§ï¼ŸECMAScriptåªçº¦å®šäº†â€œ+â€å¦‚ä½•å®ç°ï¼Œæ²¡è¯´å®ƒçš„è¿ç®—æ•°åœ¨æ ˆä¸Šå¦‚ä½•åˆ†é…ï¼Œå¾ˆæ­£å¸¸å•Šï¼Œå…·ä½“æ‰§è¡Œç¯å¢ƒå®ç°çš„æ—¶å€™ç”¨ä¸ç”¨æ ˆéƒ½è¿˜å¦è¯´å‘¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642306516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190815,"user_name":"Amundsen","can_delete":false,"product_type":"c1","uid":1003716,"ip_address":"","ucode":"10F828DD46E762","user_header":"https://static001.geekbang.org/account/avatar/00/0f/50/c4/c311b591.jpg","comment_is_top":false,"comment_ctime":1584695526,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584695526","product_id":100039701,"comment_content":"æ¯æ¬¡åå¤é˜…è¯»éƒ½èƒ½æ”¶è·ï¼Œæ„Ÿè§‰çœ‹åˆ°äº†ä¸ä¸€æ ·çš„è‡ªå·± :)","like_count":0},{"had_liked":false,"id":167408,"user_name":"ä¼ªè£…","can_delete":false,"product_type":"c1","uid":1614884,"ip_address":"","ucode":"F484F3ADFEB060","user_header":"https://static001.geekbang.org/account/avatar/00/18/a4/24/0f4a9157.jpg","comment_is_top":false,"comment_ctime":1577785877,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577785877","product_id":100039701,"comment_content":"æŒ‰ç…§ecmaè§„èŒƒå†™ä¸€å¥—è§£æå™¨å°±æ˜¯jsäº†","like_count":0},{"had_liked":false,"id":161716,"user_name":"é’å²æˆç°","can_delete":false,"product_type":"c1","uid":1514406,"ip_address":"","ucode":"C28AB62034B833","user_header":"https://static001.geekbang.org/account/avatar/00/17/1b/a6/6373416f.jpg","comment_is_top":false,"comment_ctime":1576306394,"is_pvip":false,"replies":[{"id":"61613","content":"è¿™æ˜¯ä¸ä¸€æ ·çš„ã€‚<br><br>åœ¨ç¬¬ä¸€è®²çš„å›å¤å†…å®¹ä¸­ï¼Œæˆ‘ç»™lesleeçš„å›å¤é‡Œé¢è®²è¿‡â€œJavaScriptä¸­çš„å¼•ç”¨â€ï¼Œä¸â€œECMAScriptä¸­çš„å¼•ç”¨â€ä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚ä½ è¿™é‡Œæ‰€è°ˆçš„æŒ‡é’ˆæ¦‚å¿µï¼Œä¸â€œJavaScriptä¸­çš„å¼•ç”¨â€ç±»ä¼¼ï¼Œå®ƒçš„ç»†èŠ‚å’Œä½œç”¨ï¼Œä½ å¯ä»¥çœ‹çœ‹ä¸Šé¢è¿™ä¸€è®²å…³äºlesleeçš„å›å¤ã€‚<br><br>å¦å¤–ï¼Œåœ¨ç»™Smallflyçš„å›å¤ä¸­ï¼Œæˆ‘è¯¦ç»†è®²äº†ECMAScriptä¸­çš„å¼•ç”¨æ˜¯æ€æ ·çš„ä¸€ä¸ªç»“æ„ã€‚ä½ ä¹Ÿå¯ä»¥é˜…è¯»ä¸€ä¸‹ã€‚<br><br>åœ¨è¿™é‡Œï¼šhttps:&#47;&#47;time.geekbang.org&#47;column&#47;article&#47;164312<br><br>ï¼ˆä¸è¿‡å› ä¸ºè¿™ä¸ªå·¥å…·çš„è®¾è®¡é—®é¢˜ï¼Œæˆ‘æ²¡åŠæ³•ç›´æ¥æŒ‡åˆ°ä»–ä»¬çš„è¯„è®ºå›å¤ï¼Œè¯·æŸ¥æ‰¾ä¸€ä¸‹ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1576341329,"ip_address":"","comment_id":161716,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1576306394","product_id":100039701,"comment_content":"è€å¸ˆï¼Œå…³äºä¸Šé¢â€œä¸ºä»€ä¹ˆè¦æœ‰â€˜å¼•ç”¨â€™è¿™ä¹ˆä¸ªä¸œè¥¿å‘¢â€çš„è§£é‡Šï¼Œè¯»ä¸‹æ¥æ„Ÿè§‰å’ŒC++çš„æŒ‡é’ˆå¾ˆåƒï¼ŒæŒ‡é’ˆæ˜¯å†…å­˜çš„åœ°å€ï¼ŒæŒ‡å‘å †å†…å­˜ä¸­çš„å¯¹è±¡ï¼Œéœ€è¦è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„æˆå‘˜æ—¶ï¼Œç›´æ¥è§£å¼•ç”¨è¿™ä¸ªæŒ‡é’ˆï¼Œv = *pï¼Œå°±å’Œæ­¤å¤„çš„x=GetValue(r)ä¸€æ ·ã€‚ ä¸çŸ¥é“è¿™æ ·ç†è§£æ˜¯å¦æ­£ç¡®ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477824,"discussion_content":"è¿™æ˜¯ä¸ä¸€æ ·çš„ã€‚\n\nåœ¨ç¬¬ä¸€è®²çš„å›å¤å†…å®¹ä¸­ï¼Œæˆ‘ç»™lesleeçš„å›å¤é‡Œé¢è®²è¿‡â€œJavaScriptä¸­çš„å¼•ç”¨â€ï¼Œä¸â€œECMAScriptä¸­çš„å¼•ç”¨â€ä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚ä½ è¿™é‡Œæ‰€è°ˆçš„æŒ‡é’ˆæ¦‚å¿µï¼Œä¸â€œJavaScriptä¸­çš„å¼•ç”¨â€ç±»ä¼¼ï¼Œå®ƒçš„ç»†èŠ‚å’Œä½œç”¨ï¼Œä½ å¯ä»¥çœ‹çœ‹ä¸Šé¢è¿™ä¸€è®²å…³äºlesleeçš„å›å¤ã€‚\n\nå¦å¤–ï¼Œåœ¨ç»™Smallflyçš„å›å¤ä¸­ï¼Œæˆ‘è¯¦ç»†è®²äº†ECMAScriptä¸­çš„å¼•ç”¨æ˜¯æ€æ ·çš„ä¸€ä¸ªç»“æ„ã€‚ä½ ä¹Ÿå¯ä»¥é˜…è¯»ä¸€ä¸‹ã€‚\n\nåœ¨è¿™é‡Œï¼šhttps://time.geekbang.org/column/article/164312\n\nï¼ˆä¸è¿‡å› ä¸ºè¿™ä¸ªå·¥å…·çš„è®¾è®¡é—®é¢˜ï¼Œæˆ‘æ²¡åŠæ³•ç›´æ¥æŒ‡åˆ°ä»–ä»¬çš„è¯„è®ºå›å¤ï¼Œè¯·æŸ¥æ‰¾ä¸€ä¸‹ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576341329,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1514406,"avatar":"https://static001.geekbang.org/account/avatar/00/17/1b/a6/6373416f.jpg","nickname":"é’å²æˆç°","note":"","ucode":"C28AB62034B833","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":82673,"discussion_content":"å¥½çš„ï¼Œæ„Ÿè°¢è€å¸ˆçš„ç­”ç–‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576342916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160288,"user_name":"weineel","can_delete":false,"product_type":"c1","uid":1049741,"ip_address":"","ucode":"6DC6EF4F256A53","user_header":"https://static001.geekbang.org/account/avatar/00/10/04/8d/005c2ff3.jpg","comment_is_top":false,"comment_ctime":1575905422,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"1575905422","product_id":100039701,"comment_content":"çŸ¥è¯†å¯†åº¦å¤ªå¤§ã€‚","like_count":0},{"had_liked":false,"id":160116,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1575873460,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575873460","product_id":100039701,"comment_content":"è€å¸ˆè¿˜æ˜¯å¾ˆè‰¯å¿ƒçš„ï¼Œæ—¶ä¸æ—¶å°±æ¥ç»™æˆ‘ä»¬ä¸€ä¸ªåŠ é¤ã€‚","like_count":0},{"had_liked":false,"id":159936,"user_name":"è¡Œé—®","can_delete":false,"product_type":"c1","uid":1039504,"ip_address":"","ucode":"F3AED699218475","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dc/90/c980113a.jpg","comment_is_top":false,"comment_ctime":1575848977,"is_pvip":false,"replies":[{"id":"61060","content":"è¿™é‡Œæ˜¯æœ‰æ’ç‰ˆé”™è¯¯ï¼Œåä¸€ä¸ªæ˜¯`${str}`ã€‚æˆ‘çš„æ„æ€æ˜¯ï¼ŒåŒä¸€ä¸ªå­—ç¬¦ä¸²(ä»…æŒ‡å®ƒçš„å­—é¢æ–‡æœ¬)ï¼Œè¿™é‡Œæ˜¯å®ƒä½œä¸ºè¯­å¥å’Œè¡¨è¾¾å¼æ‰§è¡Œçš„ä¸¤ç§æ–¹å¼ã€‚ä½†æ˜¯ï¼Œå¦‚æœstrç†è§£æˆâ€œå˜é‡â€ï¼Œè€Œä¸æ˜¯â€œå˜é‡çš„å­—é¢æ–‡æœ¬â€ï¼Œé‚£ä¹ˆå°±ä¸æ˜¯æˆ‘çš„åŸæ„äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Aiming","uid":"1521669","ctime":1575854327,"ip_address":"","comment_id":159936,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1575848977","product_id":100039701,"comment_content":"eval(str) æ˜¯æ‰§è¡Œè¯­å¥ï¼Œè€Œ{$str}æ˜¯æ‰§è¡Œè¡¨è¾¾å¼<br><br>è¿™é‡Œæ˜¯ {$str} æ­£ç¡®ï¼Œè¿˜æ˜¯ ${str} æ­£ç¡®ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477211,"discussion_content":"è¿™é‡Œæ˜¯æœ‰æ’ç‰ˆé”™è¯¯ï¼Œåä¸€ä¸ªæ˜¯`${str}`ã€‚æˆ‘çš„æ„æ€æ˜¯ï¼ŒåŒä¸€ä¸ªå­—ç¬¦ä¸²(ä»…æŒ‡å®ƒçš„å­—é¢æ–‡æœ¬)ï¼Œè¿™é‡Œæ˜¯å®ƒä½œä¸ºè¯­å¥å’Œè¡¨è¾¾å¼æ‰§è¡Œçš„ä¸¤ç§æ–¹å¼ã€‚ä½†æ˜¯ï¼Œå¦‚æœstrç†è§£æˆâ€œå˜é‡â€ï¼Œè€Œä¸æ˜¯â€œå˜é‡çš„å­—é¢æ–‡æœ¬â€ï¼Œé‚£ä¹ˆå°±ä¸æ˜¯æˆ‘çš„åŸæ„äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575854327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1039504,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/dc/90/c980113a.jpg","nickname":"è¡Œé—®","note":"","ucode":"F3AED699218475","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":76814,"discussion_content":"äº†è§£ï¼Œæ„Ÿè°¢ã€‚æˆ‘èƒ½ç†è§£æ˜¯ ES6 çš„â€œæ¨¡æ¿å­—ç¬¦ä¸²â€ï¼Œå¼€å‘ä¸­ä¹Ÿä¼šç”¨åˆ°ã€‚æˆ‘è¿™é‡Œä¹Ÿä¸æ˜¯â€œæŒ‡é”™â€çš„æ„æ€ï¼Œæ˜¯ä¸€ä¸ªâ€œå­—é¢æ›´æ­£â€ï¼Œè§è°…å“ˆã€‚æˆ‘é€šå¸¸ä¹Ÿæ˜¯åœ¨è€å¸ˆæ›´æ–°çš„ä¸€å¤§æ—©å°±æ¥é˜…è¯»äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575855854,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":580893,"title":"20ï½œå¤§å‹é¡¹ç›®ï¼šæºç è¶Šæ¥è¶Šå¤šï¼Œé¡¹ç›®è¯¥å¦‚ä½•æ‰©å±•ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å®‹ä¸€ç®ï¼Œæ¬¢è¿å›åˆ°Reactåº”ç”¨å¼€å‘çš„å­¦ä¹ ã€‚</p><p>ä¸ŠèŠ‚è¯¾æåˆ°ï¼Œä¸ºäº†åº”å¯¹å¤§ä¸­å‹Reacté¡¹ç›®çš„å¤æ‚åº”ç”¨é€»è¾‘ï¼Œæˆ‘ä»¬ä¼šåˆ†ä¸º<strong>å±€éƒ¨</strong>å’Œ<strong>æ•´ä½“</strong>ä¸¤ä¸ªéƒ¨åˆ†æ¥å­¦ä¹ ã€‚å¯¹äºä½œä¸ºå±€éƒ¨çš„ç»„ä»¶é€»è¾‘ï¼Œå¯ä»¥é€šè¿‡æŠ½è±¡æ¥ç®€åŒ–ç»„ä»¶çš„è®¾è®¡å’Œå¼€å‘ã€‚æˆ‘ä»¬å­¦ä¹ äº†Reactä¸­çš„è‡ªå®šä¹‰Hookså’Œç»„ä»¶ç»„åˆè¿™ä¸¤ç§æŠ½è±¡æ–¹å¼ï¼Œä¹Ÿå­¦ä¹ äº†åœ¨è¿™ä¸¤ç§æŠ½è±¡åŸºç¡€ä¸Šçš„ä»£ç å¤ç”¨ï¼Œå°¤å…¶æ˜¯é«˜é˜¶ç»„ä»¶çš„å†™æ³•ã€‚</p><p>ä»å±€éƒ¨åˆ°æ•´ä½“ï¼Œå¤æ‚åº¦ä¼šåœ¨ä»£ç é‡ä¸Šç›´è§‚åœ°å±•ç°å‡ºæ¥ã€‚åœ¨å‰ç«¯å·¥ç¨‹åŒ–å’Œå›¢é˜Ÿåä½œçš„åŸºç¡€ä¸Šï¼Œå¤§å‹Reacté¡¹ç›®ä»£ç é‡ä¸Š10ä¸‡å¾ˆå¸¸è§ã€‚é¡¹ç›®ä»æœ€åˆçš„å‡ è¡Œä»£ç åˆ°å¦‚ä»Šçš„æ•°åä¸‡ä»£ç ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°å¦‚ä¸‹é—®é¢˜ï¼š</p><ul>\n<li>æ–°åŠŸèƒ½çš„ç»„ä»¶ã€Hooksã€æ ·å¼è¦ä¸è¦åˆ†æ–‡ä»¶å†™ï¼Œæºæ–‡ä»¶éƒ½æ”¾åˆ°å“ªé‡Œï¼Ÿ</li>\n<li>Reduxçš„actionã€reducerã€storeéƒ½å†™åˆ°å“ªé‡Œï¼Ÿ</li>\n<li>å…¬å…±çš„ä»£ç æ”¾åˆ°å“ªé‡Œï¼Ÿ</li>\n<li>ä»£ç æ–‡ä»¶å¤šåˆ°æ‰¾ä¸åˆ°æ€ä¹ˆåŠï¼Ÿ</li>\n</ul><p>è¿™èŠ‚è¯¾æˆ‘ä»¬ä¼šç»§ç»­è®¨è®ºReactåº”ç”¨çš„æ•´ä½“é€»è¾‘ï¼Œçœ‹çœ‹å¤§ä¸­å‹Reacté¡¹ç›®åœ¨ä»£ç å¢å¤šåï¼Œæ•´ä½“æ‰©å±•ä¸Šä¼šé‡åˆ°çš„æŒ‘æˆ˜ï¼Œä»¥åŠå¦‚ä½•åº”å¯¹è¿™äº›æŒ‘æˆ˜ã€‚</p><h2>å‡ ç§å…¸å‹çš„Reacté¡¹ç›®æ–‡ä»¶ç›®å½•ç»“æ„</h2><p>é¡¹ç›®æºç çš„æ–‡ä»¶ç›®å½•ç»“æ„å¹¶ä¸ç­‰åŒäºåº”ç”¨çš„æ•´ä½“é€»è¾‘ï¼Œä½†å´å¯ä»¥<strong>ä½œä¸ºæŠŠæ¡åº”ç”¨æ•´ä½“é€»è¾‘çš„ä¸€å¼ â€œåœ°å›¾â€</strong>ã€‚ä¸€ä¸ªè‰¯å¥½çš„æ–‡ä»¶ç›®å½•ç»“æ„æ˜¯<strong>è‡ªè§£é‡Š</strong>çš„ï¼Œå¯ä»¥å¸®åŠ©æ–°æ¥è§¦é¡¹ç›®çš„å¼€å‘è€…å¿«é€Ÿç†Ÿæ‚‰ä»£ç é€»è¾‘ã€‚</p><!-- [[[read_end]]] --><p>Reactåº”ç”¨é¡¹ç›®æœ‰ä»¥ä¸‹äº”ç§å…¸å‹çš„æ–‡ä»¶ç›®å½•ç»“æ„ï¼š</p><ul>\n<li>å•æ–‡ä»¶ç»“æ„ï¼›</li>\n<li>å•ç›®å½•ç»“æ„ï¼›</li>\n<li>æŒ‰æ–‡ä»¶èŒèƒ½åˆ’åˆ†ç›®å½•ç»“æ„ï¼›</li>\n<li>æŒ‰ç»„ä»¶åˆ’åˆ†ç›®å½•ç»“æ„ï¼›</li>\n<li>æŒ‰ä¸šåŠ¡åŠŸèƒ½åˆ’åˆ†ç›®å½•ç»“æ„ã€‚</li>\n</ul><p>æ¥ä¸‹æ¥æˆ‘ä»¬åˆ†åˆ«çœ‹ä¸€ä¸‹ã€‚</p><h3>å•æ–‡ä»¶ç»“æ„</h3><p>æ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™ï¼Œå•æ–‡ä»¶ç»“æ„å°±æ˜¯æŒ‡ï¼Œåœ¨å•ä¸ªReactç»„ä»¶æ–‡ä»¶ä¸­å¼€å‘æ‰€æœ‰ä¸šåŠ¡é€»è¾‘ã€‚</p><p>ä½ è‚¯å®šäº²çœ¼è§è¿‡è¿™ç§ç»“æ„ï¼Œæ¯”å¦‚åœ¨<a href=\"https://time.geekbang.org/column/article/553817?\">ç¬¬3èŠ‚è¯¾</a>é‡ŒCRAåˆ›å»ºçš„ <code>oh-my-kanban</code> é¡¹ç›®ï¼Œä¸ç®—æ ·å¼çš„è¯ï¼Œæˆ‘ä»¬å½“æ—¶æŠŠæ‰€æœ‰ä»£ç éƒ½å†™åœ¨äº† <code>src/app.js</code> ä¸­ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§ç»“æ„åªé€‚åˆä»£ç æ¼”ç¤ºæˆ–å¾®å‹çš„Reacté¡¹ç›®ã€‚</p><h3>å•ç›®å½•ç»“æ„</h3><p>æ¯”èµ·å•æ–‡ä»¶ç»“æ„ï¼Œè¿™ç§ç»“æ„æ‹†åˆ†äº†ç»„ä»¶æ–‡ä»¶ï¼Œæ‹†åˆ†çš„æ–‡ä»¶éƒ½æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ã€‚å‰é¢<a href=\"https://time.geekbang.org/column/article/571276\">ç¬¬12èŠ‚è¯¾</a>æœ«å°¾ï¼Œ<code>oh-my-kanban</code> é¡¹ç›®å®Œæˆå¤§é‡æ„ç¬¬ä¸€æ­¥æ—¶çš„é¡¹ç›®ç»“æ„å°±æ˜¯è¿™æ ·ã€‚ç›®å½•æ ‘ç»“æ„ï¼ˆæœ‰çœç•¥ï¼‰å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">src\nâ”œâ”€â”€ App.css\nâ”œâ”€â”€ App.js\nâ”œâ”€â”€ KanbanBoard.js\nâ”œâ”€â”€ KanbanCard.js\nâ”œâ”€â”€ KanbanColumn.js\nâ”œâ”€â”€ KanbanNewCard.js\nâ”œâ”€â”€ index.css\nâ””â”€â”€ index.js\n</code></pre><p>å•ç›®å½•ç»“æ„æ¯”èµ·å•æ–‡ä»¶ç»“æ„ï¼Œèƒ½æ”¯æ’‘æ›´å¤šç»„ä»¶ä»¥åŠç›¸å…³é€»è¾‘ï¼Œé€‚åˆå¾®å‹Reacté¡¹ç›®ã€‚</p><h3>æŒ‰æ–‡ä»¶èŒèƒ½åˆ’åˆ†ç›®å½•ç»“æ„</h3><p>é¡¾åæ€ä¹‰ï¼Œåœ¨è¿™ç§ç»“æ„ä¸‹ï¼Œç»„ä»¶æ–‡ä»¶æ”¾ä¸€ä¸ªç›®å½•ï¼Œè‡ªå®šä¹‰Hooksæ–‡ä»¶æ”¾ä¸€ä¸ªç›®å½•ï¼Œcontextæ–‡ä»¶æ”¾ä¸€ä¸ªç›®å½•ï¼Œå¦‚æœä½¿ç”¨äº†Reduxçš„è¯ï¼Œactionsã€reducersã€storeå„å ä¸€ä¸ªç›®å½•ï¼ˆæˆ–è€…Redux Toolkitçš„sliceså’Œstoreç›®å½•ï¼‰ã€‚</p><p><a href=\"https://time.geekbang.org/column/article/574161\">åœ¨ç¬¬13èŠ‚è¯¾</a>ï¼Œ<code>oh-my-kanban</code> é¡¹ç›®å®Œæˆå¤§é‡æ„åï¼ŒåŠ å…¥çš„ç¬¬ä¸€ä¸ªcontextå°±æ”¾åˆ°äº†ç‹¬ç«‹çš„ <code>src/context</code> ç›®å½•ã€‚ä¸åªJSé¡¹ç›®ï¼Œåœ¨ç¬¬18èŠ‚è¯¾ï¼Œæˆ‘ä»¬å°è¯•ä¸ºTSé¡¹ç›®åŠ å…¥çš„ç±»å‹å®šä¹‰<code>src/types/KanbanCard.types.ts</code> ï¼Œä¹Ÿæ”¾åˆ°äº†ä¸“é—¨çš„ <code>types</code> ç›®å½•ä¸‹ã€‚ç›®å½•æ ‘ç»“æ„ï¼ˆæœ‰çœç•¥ï¼‰å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">src\nâ”œâ”€â”€ components\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ App.css\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ App.tsx\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ KanbanBoard.tsx\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ KanbanCard.tsx\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ KanbanColumn.tsx\nâ”‚&nbsp; &nbsp;â””â”€â”€ KanbanNewCard.tsx\nâ”œâ”€â”€ context\nâ”‚&nbsp; &nbsp;â””â”€â”€ AdminContext.ts\nâ”œâ”€â”€ hooks\nâ”‚&nbsp; &nbsp;â””â”€â”€ useFetchCards.ts\nâ”œâ”€â”€ types\nâ”‚   â””â”€â”€ KanbanCard.types.ts\nâ”œâ”€â”€ index.css\nâ””â”€â”€ index.tsx\n</code></pre><p>æŒ‰æ–‡ä»¶èŒèƒ½åˆ’åˆ†ç›®å½•ç»“æ„çš„ä¼˜ç‚¹åœ¨äºï¼Œå¯ä»¥å¿«é€Ÿå®šä½ä»»ä½•ä¸€ç§ç±»å‹çš„æºç ï¼Œåœ¨æºç ä¹‹é—´å¯¼å…¥å¯¼å‡ºä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ï¼š</p><pre><code class=\"language-typescript\">// src/components/App.tsx\nimport AdminContext from '../context/AdminContext';\n</code></pre><p>å½“å…¶ä¸­æŸä¸ªæˆ–è€…æŸå‡ ä¸ªç›®å½•ä¸­çš„æ–‡ä»¶æ•°ä¸æ–­å¢å¤šæ—¶ï¼Œè¿™ç§ç»“æ„çš„ç¼ºç‚¹å°±æš´éœ²å‡ºæ¥äº†ï¼šä¸å®¹æ˜“å®šä½åˆ°ç›´æ¥ç›¸å…³çš„æºæ–‡ä»¶ã€‚æ¯”å¦‚ <code>hooks/useFetchCards.ts</code> ç›®å‰åªæœ‰ <code>components/App.tsx</code> åœ¨ç”¨ï¼Œè¿™ä»ç›®å½•ç»“æ„ä¸Šæ˜¯çœ‹ä¸å‡ºæ¥çš„ï¼Œå¿…é¡»è¿›åˆ°æºç é‡Œå»çœ‹ï¼Œå½“ <code>components</code> ç›®å½•ä¸‹çš„æ–‡ä»¶è¶³å¤Ÿå¤šæ—¶ï¼Œè¦èŠ±äº›åŠŸå¤«æ‰èƒ½ç¡®è®¤è¿™ä¸¤ä¸ªæ–‡ä»¶çš„å…³è”å…³ç³»ã€‚</p><h3>æŒ‰ç»„ä»¶åˆ’åˆ†ç›®å½•ç»“æ„</h3><p>è¿™ç§ç›®å½•ç»“æ„ä¸ºæ¯ä¸ªç»„ä»¶éƒ½åˆ’åˆ†äº†ä¸€ä¸ªç‹¬ç«‹ã€å¹³çº§çš„ç›®å½•ï¼Œåªè¦è·Ÿè¿™ä¸ªç»„ä»¶å¼ºç›¸å…³ï¼Œéƒ½å¾€è¿™ä¸ªç›®å½•é‡Œæ‹›å‘¼ã€‚è¿™ç§è®¾è®¡å‡ºäºä¸¤ä¸ªè€ƒè™‘ï¼š</p><ul>\n<li>Reactçš„åŸºæœ¬å¼€å‘å•å…ƒæ˜¯ç»„ä»¶ï¼›</li>\n<li>åŒä¸€ç»„ä»¶çš„ç›¸å…³ä»£ç è¦å°½é‡<strong>å…±ç½®</strong>ï¼ˆ<strong>Colocation</strong>ï¼Œè¿™é‡Œç¿»è¯‘æˆâ€œæ‰˜ç®¡â€ä¸å¤ªåˆé€‚ï¼‰ã€‚<br>\nç›®å½•æ ‘ç»“æ„çš„ä¾‹å­å¦‚ä¸‹ï¼š</li>\n</ul><pre><code class=\"language-plain\">src\nâ”œâ”€â”€ components\nâ”‚   â”œâ”€â”€ App\nâ”‚   â”‚   â”œâ”€â”€ AdminContext.js\nâ”‚   â”‚   â”œâ”€â”€ App.css\nâ”‚   â”‚   â”œâ”€â”€ App.jsx\nâ”‚   â”‚   â”œâ”€â”€ App.test.jsx\nâ”‚   â”‚   â”œâ”€â”€ index.js\nâ”‚   â”‚   â””â”€â”€ useFetchCards.js\nâ”‚   â”œâ”€â”€ KanbanBoard\nâ”‚   â”‚   â”œâ”€â”€ KanbanBoard.css\nâ”‚   â”‚   â”œâ”€â”€ KanbanBoard.jsx\nâ”‚   â”‚   â””â”€â”€ index.js\nâ”‚   â”œâ”€â”€ KanbanCard\nâ”‚   â”‚   â”œâ”€â”€ KanbanCard.css\nâ”‚   â”‚   â”œâ”€â”€ KanbanCard.jsx\nâ”‚   â”‚   â”œâ”€â”€ KanbanNewCard.jsx\nâ”‚   â”‚   â””â”€â”€ index.js\nâ”‚   â””â”€â”€ KanbanColumn\nâ”‚       â”œâ”€â”€ KanbanColumn.css\nâ”‚       â”œâ”€â”€ KanbanColumn.jsx\nâ”‚       â””â”€â”€ index.js\nâ”œâ”€â”€ index.css\nâ””â”€â”€ index.jsx\n</code></pre><p>åœ¨æ¯ä¸ªç›®å½•ä¸­éƒ½æœ‰ä¸€ä¸ª <code>index.js</code> ï¼Œè´Ÿè´£æŠŠå½“å‰ç›®å½•çš„ç»„ä»¶é‡æ–°å¯¼å‡ºï¼ˆRe-exportï¼‰åˆ°ç›®å½•å¤–é¢å»ï¼Œè¿™æ ·å…¶ä»–ç»„ä»¶åœ¨å¯¼å…¥è¿™ä¸ªç»„ä»¶æ—¶ï¼Œä¸éœ€è¦å…³å¿ƒç›®å½•é‡Œéƒ½æœ‰å“ªäº›å®ç°ï¼Œåªå…³æ³¨ä½œä¸ºå…¥å£çš„ <code>index.js</code> å°±è¡Œã€‚å…¥å£æ–‡ä»¶ç¤ºæ„ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-javascript\">// src/components/KanbanCard/index.js\nexport { default as KanbanCard } from './KanbanCard.jsx';\nexport { default as KanbanNewCard } from './KanbanNewCard.jsx';\n</code></pre><p>è¿™ç§ç›®å½•ç»“æ„çš„ä¼˜åŠ¿åœ¨äºï¼Œèƒ½ä¸ºç‰¹å®šç»„ä»¶æä¾›ä¸€å®šçš„å°è£…æ€§ï¼Œåœ¨å®ƒä¸“å±çš„ç›®å½•ä¸­èƒ½æ‰¾åˆ°å®ƒå¼ºç›¸å…³çš„æ‰€æœ‰ä»£ç ã€‚ä½†å®ƒä¹Ÿæœ‰ä¸è¶³ï¼Œé¢å¯¹ä¸€äº›è·¨ç»„ä»¶å¤ç”¨çš„é€»è¾‘ï¼Œå¯èƒ½ä¼šå‡ºç°æ”¾åˆ°å“ªä¸ªç»„ä»¶ç›®å½•éƒ½ä¸å¤ªåˆé€‚çš„çª˜å¢ƒã€‚</p><h3>æŒ‰ä¸šåŠ¡åŠŸèƒ½åˆ’åˆ†ç›®å½•ç»“æ„</h3><p>æŒ‰ä¸šåŠ¡åŠŸèƒ½åˆ’åˆ†ç›®å½•ç»“æ„ï¼Œå®ƒä¸æˆ‘ä»¬åˆšåˆšè®²è¿‡çš„ç»“æ„éƒ½ä¸åŒï¼Œæ„å‘³ç€ç›®å½•åˆ’åˆ†çš„ä¸»è¦ä¾æ®ä¸å†æ˜¯å…·ä½“æ¡†æ¶ä¸­çš„æŸä¸ªå…·ä½“æŠ€æœ¯æ¦‚å¿µï¼ˆåŒ…æ‹¬Reactçš„ç»„ä»¶ã€Hooksã€contextï¼Œä¹ŸåŒ…æ‹¬Reduxçš„actionã€reducerã€storeï¼‰ã€‚è¿™ä½¿å¾—æŒ‰ä¸šåŠ¡åŠŸèƒ½åˆ’åˆ†ç›®å½•ç»“æ„æˆä¸ºä¸€ä¸ªæ¡†æ¶æ— å…³çš„æ–¹æ¡ˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶ä»–æ¡†æ¶çš„åº”ç”¨ä¹Ÿå¯ä»¥åˆ©ç”¨è¿™ç§ç›®å½•ç»“æ„ã€‚</p><p>ç›®å½•æ ‘ç»“æ„çš„ä¾‹å­å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">src\nâ”œâ”€â”€ features\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ admin\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ AdminContext.js\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ AdminDashboard.jsx\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ AdminSettings.jsx\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â””â”€â”€ index.js\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ kanban\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ KanbanBoard.jsx\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ KanbanCard.jsx\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ KanbanColumn.jsx\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ KanbanNewCard.jsx\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ index.js\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â””â”€â”€ useFetchCards.js\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ login\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ Login.css\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ Login.jsx\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â”œâ”€â”€ LoginForm.jsx\nâ”‚&nbsp; &nbsp;â”‚&nbsp; &nbsp;â””â”€â”€ index.js\nâ”‚&nbsp; &nbsp;â””â”€â”€ user\nâ”‚&nbsp; &nbsp; &nbsp; &nbsp;â”œâ”€â”€ Password.jsx\nâ”‚&nbsp; &nbsp; &nbsp; &nbsp;â”œâ”€â”€ UserProfile.jsx\nâ”‚&nbsp; &nbsp; &nbsp; &nbsp;â”œâ”€â”€ UserSettings.jsx\nâ”‚&nbsp; &nbsp; &nbsp; &nbsp;â””â”€â”€ index.js\nâ”œâ”€â”€ index.css\nâ””â”€â”€ index.jsx\n</code></pre><p>æŒ‰ä¸šåŠ¡åŠŸèƒ½åˆ’åˆ†ç›®å½•ç»“æ„å¯ä»¥è¯´ï¼Œå®ƒæ˜¯è¿™äº”ç§ç»“æ„ä¸­æœ€é€‚åˆå¤§ä¸­å‹Reacté¡¹ç›®çš„ã€‚å®ƒæ—¢å¼ºè°ƒäº†ç›¸å…³æºæ–‡ä»¶çš„å…±ç½®ï¼Œä¹Ÿåœ¨å¢åŠ ä¸šåŠ¡åŠŸèƒ½æ—¶å…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§ã€‚ä½†å®ƒä¹Ÿå…·æœ‰ä¸æŒ‰ç»„ä»¶åˆ’åˆ†ç›®å½•ç»“æ„ç±»ä¼¼çš„ç¼ºç‚¹ï¼Œé¢å¯¹ä¸€äº›è·¨ä¸šåŠ¡åŠŸèƒ½å¤ç”¨çš„é€»è¾‘ï¼Œæ”¾åœ¨å“ªä¸ªä¸šåŠ¡ç›®å½•ä¸‹éƒ½ä¸å¤ªåˆé€‚ã€‚</p><h3>å¦‚ä½•é€‰å–åˆé€‚çš„æ–‡ä»¶ç›®å½•ç»“æ„ï¼Ÿ</h3><p>å¯ä»¥å‚è€ƒä»¥ä¸‹è¡¨æ ¼ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/42/65/42ac6b3fe5ae14de728e6fda01a0d165.jpg?wh=1920x738\" alt=\"å›¾ç‰‡\"></p><h2>å‰ç«¯åº”ç”¨é€»è¾‘æ¶æ„çš„åŠŸç”¨</h2><p>å½“æåˆ°Reactåº”ç”¨çš„æ•´ä½“é€»è¾‘æ—¶ï¼Œä¸çŸ¥ä½ æ˜¯å¦è¿˜è®°å¾—<a href=\"https://time.geekbang.org/column/article/553795\">ç¬¬2èŠ‚è¯¾</a>è¿™å¼ åº”ç”¨é€»è¾‘æ¶æ„å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/e9/40/e9b6711982510ef67fb690b8ddca9f40.jpg?wh=1920x1029\" alt=\"å›¾ç‰‡\"></p><p>æˆ‘å·¥ä½œæ—©äº›å¹´é—´ï¼Œæµè¡Œçš„å¼€å‘æµç¨‹æ˜¯ç€‘å¸ƒå¼å¼€å‘ï¼ˆWaterfall Modelï¼‰ï¼Œå½“æ—¶çš„æ¦‚è¦è®¾è®¡é˜¶æ®µå’Œè¯¦ç»†è®¾è®¡é˜¶æ®µï¼Œå¯¹è®¾è®¡æ–‡æ¡£å°¤å…¶æ˜¯æ¶æ„å›¾çš„è¦æ±‚éå¸¸ä¸¥æ ¼ï¼ˆæˆ‘ç”»çš„è¿™ç§äº”é¢œå…­è‰²çš„å›¾â€¦â€¦åŸºæœ¬ä¼šè¢«é©³å›é‡ç”»ï¼‰ã€‚è¿‘äº›å¹´è½¯ä»¶è¡Œä¸šè¿½æ±‚æ•ˆç‡ï¼Œæ•æ·å¼€å‘å·²ç»æˆä¸ºä¸»æµï¼Œä½†æ•æ·å¼€å‘å¹¶æ²¡æœ‰æ‹’ç»æ–‡æ¡£åŒ–ï¼Œä¹Ÿç»ä¸åº”è¯¥è¢«å½“ä½œæ‹’ç»æ¶æ„è®¾è®¡çš„å€Ÿå£ã€‚</p><p>æ— è®ºæ˜¯å¦ç²¾ç¡®ã€ç¾è§‚ï¼Œè¿™æ ·çš„æ¶æ„å›¾<strong>æœ‰åŠ©äºæˆ‘ä»¬æŠŠæ¡é¡¹ç›®çš„æ•´ä½“èµ°å‘</strong>ï¼Œå¯¹äºå¤§ä¸­å‹Reacté¡¹ç›®è€Œè¨€æ˜¯ä¸€ä¸ªå€¼å¾—çš„å…ˆæœŸæŠ•å…¥ã€‚</p><p>ä¹Ÿè®¸ä½ ä¼šé—®ï¼šâ€œæ¶æ„å›¾åº”è¯¥æ˜¯ç”±æ¶æ„å¸ˆæ¥ç”»å§ï¼Ÿâ€</p><p>æˆ‘ä¼šè¿™æ ·ç†è§£è¿™ä¸ªäº‹æƒ…ï¼šæ¶æ„è®¾è®¡æ˜¯ä¸€é¡¹å·¥ä½œã€ä¸€é¡¹æŠ€èƒ½ï¼Œè€Œæ¶æ„å¸ˆæ˜¯ä¸€ä¸ªèŒä½ï¼Œä¸¤è€…é—´æ²¡æœ‰ç›´æ¥çš„ç­‰å·ã€‚ä»¥æˆ‘ä¸ªäººçš„ç»å†ä¸¾ä¾‹ï¼Œæˆ‘å‚åŠ å·¥ä½œåç”»çš„ç¬¬ä¸€å¼ æ¶æ„å›¾ï¼Œé‚£æ˜¯åœ¨å·¥ä½œç¬¬äºŒå¹´ã€‚åæ¥é‚£å¼ å›¾æœ‰å¹¸è¢«ç”¨åˆ°äº†å‡ åœºæŠ€æœ¯è¯„å®¡ä¸­ï¼Œåœ¨ä¸æŠ€æœ¯Leadersäº¤æµçš„è¿‡ç¨‹ä¸­èµ·äº†å¤§ä½œç”¨ï¼Œåè¿‡æ¥ä¹Ÿè®©æˆ‘å­¦åˆ°äº†å¾ˆå¤šã€‚å½“ç„¶ï¼Œè¿™çº¯ç²¹æ˜¯æˆ‘çš„ä¸ªäººç†è§£ï¼Œå…·ä½“æƒ…å†µå› äººè€Œå¼‚ã€‚</p><p>ä½ çš„ä¸‹ä¸€ä¸ªé—®é¢˜å¤§æ¦‚æ˜¯ï¼šâ€œå¥½çš„ï¼Œæˆ‘çŸ¥é“æ¶æ„å›¾æœ‰ç”¨äº†ï¼Œé‚£å…·ä½“æ¥è¯´ï¼Œç”»æ¶æ„å›¾å¯¹æ–‡ä»¶ç›®å½•ç»“æ„æœ‰ä»€ä¹ˆç”¨ï¼Ÿâ€</p><p>å› ä¸ºå‰é¢æåˆ°äº†ï¼š</p><blockquote>\n<p>é¡¹ç›®æºç çš„æ–‡ä»¶ç›®å½•ç»“æ„å¹¶ä¸ç­‰åŒäºåº”ç”¨çš„æ•´ä½“é€»è¾‘ï¼Œä½†å´å¯ä»¥ä½œä¸ºæŠŠæ¡åº”ç”¨æ•´ä½“é€»è¾‘çš„ä¸€å¼ â€œåœ°å›¾â€ã€‚</p>\n</blockquote><p>é‚£ä¹ˆåº”ç”¨é€»è¾‘æ¶æ„å›¾å°±å¯ä»¥å½“ä½œæ˜¯<strong>â€œåœ°å›¾â€çš„â€œåœ°å›¾â€</strong>ã€‚</p><p>ä¸‹é¢é©¬ä¸Šæ¥äº†è§£ä¸€ä¸‹ï¼Œæˆ‘ä»¬ä¸ºå¤§ä¸­å‹Reacté¡¹ç›®æ¨èçš„æ–‡ä»¶ç›®å½•ç»“æ„ï¼Œä¹Ÿçœ‹çœ‹è·Ÿä¸Šé¢çš„åº”ç”¨é€»è¾‘æ¶æ„å›¾æœ‰ä»€ä¹ˆæ ·çš„å¯¹åº”å…³ç³»ã€‚</p><h2>å¤§ä¸­å‹Reacté¡¹ç›®æ¨èçš„æ–‡ä»¶ç›®å½•ç»“æ„</h2><p>å½“Reacté¡¹ç›®è§„æ¨¡å±äºä¸­å‹æˆ–å¤§å‹æ—¶ï¼Œæ–‡ä»¶ç›®å½•ç»“æ„éœ€è¦æ»¡è¶³ä»¥ä¸‹å‡ ä¸ªç›®æ ‡ï¼š</p><ul>\n<li>ä¾¿äºæ¨ªå‘æ‰©å±•ï¼ˆå³å¢åŠ æ–°åŠŸèƒ½ç‚¹æˆ–è§†å›¾ï¼‰ï¼›</li>\n<li>æ˜“äºå®šä½ç›¸å…³ä»£ç ï¼›</li>\n<li>é¼“åŠ±ä»£ç å¤ç”¨ï¼›</li>\n<li>æœ‰åˆ©äºå›¢é˜Ÿåä½œã€‚</li>\n</ul><p>ä¸ºäº†æ»¡è¶³ä¸Šé¢çš„ç›®æ ‡ï¼Œæˆ‘æ¨èä½ ä»¥<strong>æŒ‰ä¸šåŠ¡åŠŸèƒ½åˆ’åˆ†ä¸ºä¸»ï¼Œç»“åˆæŒ‰ç»„ä»¶ã€æŒ‰æ–‡ä»¶èŒèƒ½çš„æ–¹å¼ï¼Œåˆ’åˆ†ç›®å½•ç»“æ„</strong>ã€‚</p><p>å‚è€ƒçš„ç›®å½•æ ‘ç»“æ„ï¼ˆæœ‰çœç•¥ï¼‰å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">src\nâ”œâ”€â”€ components\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ Button\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ Dialog\nâ”‚   â”œâ”€â”€ ErrorBoundary\nâ”‚   â”œâ”€â”€ Form\nâ”‚   â”‚   â”œâ”€â”€ Form.css\nâ”‚   â”‚   â”œâ”€â”€ FormField.jsx\nâ”‚   â”‚   â”œâ”€â”€ Form.jsx\nâ”‚   â”‚   â””â”€â”€ index.js\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ ...\nâ”‚   â””â”€â”€ Tooltip\nâ”œâ”€â”€ context\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ ...\nâ”‚&nbsp; &nbsp;â””â”€â”€ UserContext.js\nâ”œâ”€â”€ features\nâ”‚   â”œâ”€â”€ admin\nâ”‚   â”œâ”€â”€ dashboard\nâ”‚   â”‚   â”œâ”€â”€ activies\nâ”‚   â”‚   â”‚   â””â”€â”€ ActivityList.jsx\nâ”‚   â”‚   â”œâ”€â”€ charts\nâ”‚   â”‚   â”‚   â””â”€â”€ ...\nâ”‚   â”‚   â”œâ”€â”€ news\nâ”‚   â”‚   â”‚   â”œâ”€â”€ news.png\nâ”‚   â”‚   â”‚   â”œâ”€â”€ NewsDetail.jsx\nâ”‚   â”‚   â”‚   â””â”€â”€ NewsList.jsx\nâ”‚   â”‚   â”œâ”€â”€ Dashboard.css\nâ”‚   â”‚   â”œâ”€â”€ Dashboard.jsx\nâ”‚   â”‚   â””â”€â”€ index.js\nâ”‚   â”œâ”€â”€ kanban\nâ”‚   â”‚   â”œâ”€â”€ KanbanBoard.jsx\nâ”‚   â”‚   â”œâ”€â”€ index.js\nâ”‚   â”‚   â””â”€â”€ useFetchCards.js\nâ”‚   â”œâ”€â”€ home\nâ”‚   â”œâ”€â”€ login\nâ”‚   â”œâ”€â”€ ...\nâ”‚   â””â”€â”€ user\nâ”œâ”€â”€ hooks\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ ...\nâ”‚&nbsp; &nbsp;â””â”€â”€ useLocation.js\nâ”œâ”€â”€ servies\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ kanbanService.js\nâ”‚&nbsp; &nbsp;â”œâ”€â”€ ...\nâ”‚   â””â”€â”€ userService.js\nâ”œâ”€â”€ index.css\nâ””â”€â”€ index.jsx\n</code></pre><p>å¯¹åº”ä¸Šé¢çš„ä¾‹å­ï¼Œé¦–å…ˆå»ºç«‹ <code>features</code> ç›®å½•ï¼Œ <code>features</code> ä¸‹é¢çš„ä¸€çº§ç›®å½•éƒ½å¯¹åº”ä¸€ä¸ªç›¸å¯¹å®Œæ•´çš„ä¸šåŠ¡åŠŸèƒ½ï¼Œç›®å½•ä¸­æœ‰å®ç°è¿™ä¸€åŠŸèƒ½çš„å„ç±»ä»£ç ã€‚</p><p>å¯¹äºéƒ¨åˆ†ä½“é‡æ¯”è¾ƒå¤§çš„åŠŸèƒ½ï¼Œå¯ä»¥æ ¹æ®éœ€è¦åœ¨ä¸€çº§ç›®å½•ä¸‹åŠ å…¥äºŒçº§ç›®å½•ï¼Œæ¯ä¸ªäºŒçº§ç›®å½•éƒ½å¯¹åº”ä¸€ä¸ªç›¸å¯¹ç‹¬ç«‹çš„å­åŠŸèƒ½ï¼ˆä¸šåŠ¡ï¼‰ï¼Œç›®å½•å†…éƒ¨æ˜¯å®ç°å­åŠŸèƒ½çš„å„ç±»ä»£ç ã€‚å¿…è¦æ—¶è¿˜å¯ä»¥åŠ å…¥ä¸‰çº§ã€å››çº§ç›®å½•ï¼Œä½†æ€»ä½“ç›®å½•å±‚çº§ä¸åº”è¿‡æ·±ã€‚æ‰€ä»¥æˆ‘ä»¬è¯´ï¼Œåœ¨ <code>features</code> ç›®å½•ï¼Œå¯ä»¥ä»æ¨ªå‘ã€çºµå‘ä¸¤ä¸ªæ–¹å‘æ‰©å±•åŠŸèƒ½ç‚¹ã€‚</p><p>åœ¨ <code>features</code> ç›®å½•ä¹‹å¤–ï¼Œä¸ºå…¬ç”¨çš„ä»£ç å»ºç«‹ä¸€ç³»åˆ—èŒèƒ½å‹çš„ç›®å½•ï¼ŒåŒ…æ‹¬å¯é‡ç”¨ç»„ä»¶çš„ <code>components</code> ç›®å½•ã€å¯é‡ç”¨Hooksçš„ <code>hooks</code> ç›®å½•ï¼› <code>context</code> ç›®å½•çš„ä¸»è¦ç›®çš„ä¸æ˜¯é‡ç”¨ï¼Œè€Œæ˜¯è·¨ä¸šåŠ¡åŠŸèƒ½ä½¿ç”¨contextï¼› <code>services</code> ç›®å½•ä¸‹ï¼Œé›†ä¸­å®šä¹‰äº†æ•´ä¸ªåº”ç”¨ä¼šç”¨åˆ°çš„è¿œç¨‹æœåŠ¡ï¼Œé¿å…å››æ•£åˆ°å„ä¸ªä¸šåŠ¡æ¨¡å—ä¸­ï¼Œç”šè‡³ç¡¬ç¼–ç ï¼ˆHardcodeï¼‰ã€‚è¿™äº›å…¬ç”¨ä»£ç çš„ç›®å½•å±‚çº§ä¸å®œå¤ªæ·±ï¼Œä»¥ä¸€åˆ°äºŒçº§ä¸ºä¸»ã€‚</p><p>ä»ä»£ç çš„å¯¼å…¥å¯¼å‡ºå…³ç³»æ¥çœ‹ï¼Œåœ¨ <code>features</code> ç›®å½•ä¸‹ï¼ŒåŸåˆ™ä¸ŠåŒçº§ç›®å½•é—´çš„æ–‡ä»¶ä¸åº”äº’ç›¸å¯¼å…¥ï¼ŒäºŒçº§ã€ä¸‰çº§ç›®å½•åªåº”è¢«ç›´æ¥ä¸Šä¸€çº§ç›®å½•å¯¼å…¥ï¼Œä¸èƒ½åè¿‡æ¥è¢«ä¸‹ä¸€çº§ç›®å½•å¯¼å…¥ã€‚<code>features</code> ç›®å½•çš„ä»£ç å¯ä»¥å¯¼å…¥å…¬ç”¨ç›®å½•çš„ä»£ç ï¼Œåè¿‡æ¥å…¬ç”¨ç›®å½•çš„ä»£ç ä¸èƒ½å¯¼å…¥<code>features</code> ç›®å½•çš„ä»£ç ã€‚åœ¨ä»»ä½•æ—¶å€™éƒ½åº”è¯¥é¿å…å¾ªç¯å¯¼å…¥ï¼ˆCircular Importï¼‰ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/7b/f4/7b07ff63751913yyaba2c770a89295f4.jpg?wh=1920x954\" alt=\"å›¾ç‰‡\"></p><p>æ¥å¯¹åº”ä¸€ä¸‹å‰é¢çš„é€»è¾‘æ¶æ„å›¾ï¼š</p><ul>\n<li>å›¾ä¸­çš„åŠŸèƒ½æ¨¡å—1ã€åŠŸèƒ½æ¨¡å—2å†åˆ°åŠŸèƒ½æ¨¡å—mè¿™ä¸€è¡Œï¼Œå¯ä»¥å¯¹åº”åˆ°featuresç›®å½•ï¼›</li>\n<li>å›¾ä¸­çš„æœåŠ¡å™¨é€šä¿¡ã€å‰ç«¯è·¯ç”±ã€è¡¨å•å¤„ç†ã€é”™è¯¯å¤„ç†è¿™ä¸€è¡Œï¼Œå¯ä»¥åˆ†åˆ«å¯¹åº”åˆ°å…¬ç”¨çš„servicesç›®å½•ã€hooksç›®å½•ã€componentsç›®å½•ï¼›</li>\n<li>è™½ç„¶åœ¨ç›®å½•ç»“æ„ä¸­æ²¡æœ‰ä½“ç°ï¼Œä½†ç”¨æˆ·è®¤è¯ã€ç”¨æˆ·æˆæƒã€å‰ç«¯ç›‘æ§ç­‰ï¼Œä¹Ÿå¯ä»¥æ”¾åˆ°å…¬ç”¨ç›®å½•ä¸­å®ç°ã€‚</li>\n</ul><p>è¿™èŠ‚è¯¾åˆ°ç›®å‰ä¸ºæ­¢è®²åˆ°çš„ç›®å½•ç»“æ„ï¼Œéƒ½æ˜¯ä»¥å•ä¸ªReacté¡¹ç›®ä¸ºå‰æçš„ã€‚</p><p>æ ¹æ®å®é™…é¡¹ç›®éœ€è¦ï¼Œä¹Ÿæœ‰å¾ˆå¤šReacté¡¹ç›®ä½¿ç”¨äº†å¤šé¡¹ç›®æˆ–è€…monorepoçš„æ–¹å¼æ¥å¼€å‘å’Œæ‰©å±•ï¼Œè™½ç„¶ç¼–è¯‘æ„å»ºã€CI/CDæ›´åŠ å¤æ‚äº†ï¼Œä½†æ›´æœ‰åˆ©äºå¤šä¸ªå›¢é˜Ÿçš„åä½œï¼Œæé«˜æ•´ä½“å¼€å‘æ•ˆç‡ã€‚åœ¨è¿™æ ·çš„å®è·µä¸­ï¼Œå¯ä»¥æŠŠè¿½åŠ åŠŸèƒ½ç‚¹åˆ°åŒä¸€ä¸ªReacté¡¹ç›®ï¼ˆæˆ–monorepoçš„åŒ…ï¼‰çœ‹ä½œçºµå‘æ‰©å±•ï¼ŒæŠŠç‰¹å®šæ¨¡å—ã€å¯å¤ç”¨ç»„ä»¶å’Œé€»è¾‘æŠ½å–ä¸ºç‹¬ç«‹Reacté¡¹ç›®ï¼ˆæˆ–monorepoçš„åŒ…ï¼‰çœ‹ä½œæ¨ªå‘æ‰©å±•ã€‚</p><h3>æ¨¡å—å¯¼å…¥è·¯å¾„è¿‡é•¿æ€ä¹ˆåŠï¼Ÿ</h3><p>åœ¨å¤§ä¸­å‹Reacté¡¹ç›®ä¸­ï¼Œæœ‰æ—¶ä¼šé‡åˆ°è¿™æ ·çš„importè¯­å¥ï¼š</p><pre><code class=\"language-typescript\">// src/a/b/c/d/e/f/g/h/MyComponent.jsx\nimport Dialog from '../../../../../../../../components/Dialog';\n</code></pre><p>è¿™ç§æƒ…å†µï¼Œé¦–å…ˆè¦ç¡®å®šMyComponent.jsxæ˜¯å¦çœŸæœ‰å¿…è¦æ”¾åˆ°è¿™ä¹ˆæ·±çš„è·¯å¾„ä¸‹ã€‚å¦‚æœå‘ç°è¿™åœ¨é¡¹ç›®ä¸­æ˜¯ä¸ªæ™®éæƒ…å†µï¼Œé‚£å¯ä»¥åˆ©ç”¨Node.jsçš„<a href=\"https://nodejs.org/dist/latest-v16.x/docs/api/packages.html#subpath-imports\">Subpath Imports</a>åŠŸèƒ½ï¼ˆ<a href=\"https://github.com/vitejs/vite/pull/7770\">Viteä¸­å°šæœªæ”¯æŒ</a>ï¼‰ï¼Œæˆ–æ˜¯ç”±å‰ç«¯æ„å»ºå·¥å…·æä¾›çš„éæ ‡å‡†çš„moduleåˆ«åï¼ˆAliasï¼‰åŠŸèƒ½ã€‚</p><pre><code class=\"language-typescript\">// Subpath Imports\nimport Dialog from '#components/Dialog';\n\n// Alias\nimport Dialog from '@components/Dialog';\n</code></pre><h2>å°ç»“</h2><p>ä»Šå¤©è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬äº†è§£äº†å¦‚ä½•ä»æ•´ä½“å±‚é¢åº”å¯¹å¤§ä¸­å‹Reactåº”ç”¨é€»è¾‘çš„æ‰©å±•ï¼Œå­¦ä¹ äº†5ç§å…¸å‹çš„Reacté¡¹ç›®æ–‡ä»¶ç›®å½•ç»“æ„ï¼Œå¯¹æ¯”äº†å®ƒä»¬å„è‡ªçš„ä¼˜åŠ£åŠ¿å’Œé€‚ç”¨é¡¹ç›®è§„æ¨¡ã€‚</p><p>ç„¶åå­¦ä¹ äº†ä»¥æŒ‰ä¸šåŠ¡åŠŸèƒ½åˆ’åˆ†ä¸ºä¸»ï¼Œç»“åˆæŒ‰ç»„ä»¶ã€æŒ‰æ–‡ä»¶èŒèƒ½åˆ’åˆ†çš„ç›®å½•ç»“æ„çš„æ–¹å¼ï¼Œæ¥åº”å¯¹å¤§ä¸­å‹Reacté¡¹ç›®ã€‚åŒæ—¶ä¹Ÿå¼ºè°ƒäº†å‰ç«¯åº”ç”¨é€»è¾‘æ¶æ„å¯¹åº”ç”¨é€»è¾‘æ‰©å±•çš„æŒ‡å¯¼ä½œç”¨ã€‚</p><p>ä¸“æ çš„ç¬¬ä¸‰æ¨¡å—åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å­¦ä¹ äº†å¤§ä¸­å‹Reacté¡¹ç›®çš„æ•°æ®æµã€å±€éƒ¨å’Œæ•´ä½“é€»è¾‘çš„ç›¸å…³å®è·µã€‚</p><p>ä¸‹èŠ‚è¯¾æˆ‘ä»¬ä¼šæš‚æ—¶ä»åº”ç”¨ä¸šåŠ¡å¼€å‘ä¸­è·³å‡ºæ¥ï¼Œäº†è§£ä¸€ä¸‹å¸¸è§çš„Reactæ€§èƒ½é—®é¢˜å’Œä¼˜åŒ–æ–¹æ¡ˆã€‚è¿™äº›æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆå¯¹å„ç§è§„æ¨¡çš„Reactåº”ç”¨åŸºæœ¬éƒ½é€‚ç”¨ï¼Œç›®æ ‡éƒ½æ˜¯ä¿è¯ä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒã€‚</p><h2>æ€è€ƒé¢˜</h2><ol>\n<li>\n<p>å…¶å®åœ¨ä¸šç•Œï¼ŒReacté¡¹ç›®ä¸­ç»å¸¸ä¼šæœ‰ä¸€ä¸ªåå« <code>common</code> çš„ç›®å½•ã€‚å¦‚æœåœ¨è¿™èŠ‚è¯¾é‡Œè®²åˆ°çš„ï¼Œå¤§ä¸­å‹Reacté¡¹ç›®æ¨èçš„æ–‡ä»¶ç›®å½•ç»“æ„ä¸­ï¼Œè®¾ç½®ä¸€ä¸ªè¿™æ ·çš„ <code>common</code> ç›®å½•ï¼Œä½ ä¼šå¾€è¿™ä¸ªç›®å½•é‡Œæ”¾ä»€ä¹ˆæ–‡ä»¶ï¼Ÿä¸æ”¾ä»€ä¹ˆæ–‡ä»¶ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p>\n</li>\n<li>\n<p>åœ¨<a href=\"https://time.geekbang.org/column/article/561203?\">ç¬¬5èŠ‚è¯¾</a>çš„æ€è€ƒé¢˜ä¸­ï¼š</p>\n</li>\n</ol><blockquote>\n<p>é™¤äº†æµè§ˆå™¨ï¼Œä½ åœ¨ç”µè„‘ä¸Šæœ€å¸¸ç”¨çš„æ¡Œé¢åº”ç”¨æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ä¸æ˜¯macOSçš„<strong>Finder</strong>æˆ–Windowsçš„<strong>èµ„æºç®¡ç†å™¨</strong>ï¼Ÿ<br>\nå¦‚æœæ˜¯çš„è¯å°±å¥½åŠäº†ã€‚è¯·ä½ å°è¯•æŠŠFinderæˆ–èµ„æºç®¡ç†å™¨å½“ä½œè¦ç”¨Reactå¼€å‘çš„Webåº”ç”¨ï¼ŒæŒ‰è‡ªå·±çš„ç†è§£åšä¸€éç»„ä»¶æ‹†åˆ†ã€‚</p>\n</blockquote><p>ç°åœ¨å·²çŸ¥Finderæˆ–èµ„æºç®¡ç†å™¨æ˜¯å¤§å‹Reacté¡¹ç›®ï¼Œè¯·ä½ ä¸ºè¿™ä¸ªé¡¹ç›®è®¾è®¡ä¸€å¥—æ–‡ä»¶ç›®å½•ç»“æ„ï¼Œè®°å¾—æŠŠè‡ªå·±åœ¨ç¬¬5èŠ‚è¯¾è®¾è®¡çš„ç»„ä»¶æ–‡ä»¶éƒ½æ”¾è¿›å»ã€‚</p>","comments":[{"had_liked":false,"id":359949,"user_name":"èˆ¹é•¿","can_delete":false,"product_type":"c1","uid":3170712,"ip_address":"åŒ—äº¬","ucode":"EBC0CCDB341E35","user_header":"https://static001.geekbang.org/account/avatar/00/30/61/98/0d6b499d.jpg","comment_is_top":false,"comment_ctime":1666087403,"is_pvip":false,"replies":[{"id":131355,"content":"ä½ å¥½ï¼Œèˆ¹é•¿ï¼Œæˆ‘çœ‹è¿‡äº†ä½ çš„demoå’Œæºç ï¼Œéå¸¸æ£’ï¼è¿™æ˜¯åˆ°ç›®å‰ä¸ºæ­¢ä¸“æ ç•™è¨€åŒºé‡Œæœ€å®Œæ•´çš„æ€è€ƒé¢˜ç­”æ¡ˆäº†ï¼Œæ„Ÿè°¢ä½ çš„ç§¯æå’Œè®¤çœŸã€‚\n\nç¡®å®åƒä½ è¯´çš„ï¼Œç›®å‰è¿™ä¸ªé¡¹ç›®ç›¸å¯¹ç®€å•ï¼Œè¿˜ä¸éœ€è¦ä½¿ç”¨æ›´åŠ å¤æ‚çš„æ–‡ä»¶ç›®å½•ç»“æ„ã€‚ä½ è¿™æ ·çš„è®¾è®¡æ°åˆ°å¥½å¤„ï¼Œå°¤å…¶æ˜¯componentså’Œpagesç›®å½•çš„åˆ†å·¥æ˜ç¡®ï¼Œå¯¹åç»­æ‰©å±•å’Œç»´æŠ¤ä¼šæœ‰å¾ˆå¤§å¸®åŠ©ã€‚\n\nçœ‹åˆ°ä½ çš„ä»£ç ä½¿ç”¨äº†TailwindCSSï¼Œæ˜¯å¾ˆæ£’çš„æ ·å¼æŠ€æœ¯ã€‚\n\nå¦å¤–æˆ‘å¯¹Finderé¦–é¡µä»£ç æœ‰ä¸ªå°å»ºè®®ï¼š https:&#47;&#47;github.com&#47;TanGuangZhi&#47;ReactLearn&#47;blob&#47;main&#47;src&#47;pages&#47;YeahMyKanBan&#47;FinderSimulate&#47;index.tsx#L18-L25 çš„ getColumnData å‡½æ•°å¯ä»¥å£°æ˜åœ¨ useUpdateEffect å›è°ƒå‡½æ•°çš„å†…éƒ¨ï¼Œè¿™æ ·åšä»£ç é€»è¾‘ä¸Šå¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä½†å¯ä»¥é¿å…æ¯æ¬¡ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶éƒ½åˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°å‡ºæ¥ï¼Œç®—æ˜¯ä¸€ä¸ªå°ä¼˜åŒ–ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1033973,"ctime":1667282018,"ip_address":"åŒ—äº¬","comment_id":359949,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100119601,"comment_content":"æ¨¡æ‹Ÿçš„ Finder ç›®å½•ç»“æ„ï¼ŒåŸæœ¬æƒ³é‡‡ç”¨æŒ‰ã€ä¸šåŠ¡åŠŸèƒ½ã€‘æ‹†åˆ†çš„ç»“æ„çš„ï¼Œä½†åšçš„è¿‡ç¨‹ä¸­å‘ç°é¡¹ç›®æ¯”è¾ƒç®€å•ï¼Œé‡‡ç”¨è¿™ç§æ¨¡å¼åè€Œä¼šå¤æ‚ï¼Œäºæ˜¯é‡‡ç”¨äº†æŒ‰ã€æ–‡ä»¶èŒèƒ½ã€‘æ‹†åˆ†çš„ç»“æ„ï¼Œç»“æ„å¦‚ä¸‹ï¼š\n YeahMyKanBan\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ FinderSimulate\nâ”‚Â Â  â”‚Â Â          â”œâ”€â”€ components\nâ”‚Â Â  â”‚Â Â          â”‚Â Â  â”œâ”€â”€ Column.tsx\nâ”‚Â Â  â”‚Â Â          â”‚Â Â  â”œâ”€â”€ CommonCard.tsx\nâ”‚Â Â  â”‚Â Â          â”‚Â Â  â””â”€â”€ SystemOperate.tsx\nâ”‚Â Â  â”‚Â Â          â”œâ”€â”€ context\nâ”‚Â Â  â”‚Â Â          â”‚Â Â  â””â”€â”€ myContext.ts\nâ”‚Â Â  â”‚Â Â          â”œâ”€â”€ index.tsx\nâ”‚Â Â  â”‚Â Â          â””â”€â”€ pages\nâ”‚Â Â  â”‚Â Â              â”œâ”€â”€ HeaderMenu.tsx\nâ”‚Â Â  â”‚Â Â              â”œâ”€â”€ LeftMenu.tsx\nâ”‚Â Â  â”‚Â Â              â””â”€â”€ MainContent.tsx\nåé¢ç”¨äº† vercel è¿›è¡Œäº†éƒ¨ç½²ï¼ˆcodesanbox éƒ¨ç½² umi é¡¹ç›®æœ‰é—®é¢˜ï¼‰\nåœ¨çº¿é¢„è§ˆï¼šğŸ”— https:&#47;&#47;react-learn2-orpin.vercel.app&#47;YeahMyKanBan&#47;FinderSimulate\næºç åœ°å€ï¼šhttps:&#47;&#47;github.com&#47;TanGuangZhi&#47;ReactLearn&#47;tree&#47;main&#47;src&#47;pages&#47;YeahMyKanBan&#47;FinderSimulate","like_count":3,"discussions":[{"author":{"id":3170712,"avatar":"https://static001.geekbang.org/account/avatar/00/30/61/98/0d6b499d.jpg","nickname":"èˆ¹é•¿","note":"","ucode":"EBC0CCDB341E35","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":592316,"discussion_content":"å“ˆå“ˆï¼Œè°¢è°¢å®‹è€å¸ˆçš„é¼“åŠ±ï¼Œä¼˜åŒ–çš„è¿™ä¸ªé—®é¢˜æˆ‘ä»¥åå†ä¼˜åŒ–ä»£ç æ—¶ä¼šæ³¨æ„ï¼Œä½†ç°åœ¨è¿™ä¸ªé¡¹ç›®å°±ä¸ä¼˜åŒ–å•¦ï¼Œæ¯•ç«Ÿ&#34;è¿‡æ—©çš„ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æº&#34;ï¼Œåœ¨åˆæœŸå†™ä»£ç çš„æ—¶å€™è¿™äº›ä¼˜åŒ–è¿˜æ²¡å½¢æˆè‚Œè‚‰è®°å¿†ï¼Œä¼šæŒ¤å…‘å·¥ä½œè®°å¿†ï¼Œå½±å“å¿ƒæµ","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1667302667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1033973,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/f5/dae613e0.jpg","nickname":"å®‹ä¸€ç®","note":"","ucode":"55E5B710556C1E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":592278,"discussion_content":"ä½ å¥½ï¼Œèˆ¹é•¿ï¼Œæˆ‘çœ‹è¿‡äº†ä½ çš„demoå’Œæºç ï¼Œéå¸¸æ£’ï¼è¿™æ˜¯åˆ°ç›®å‰ä¸ºæ­¢ä¸“æ ç•™è¨€åŒºé‡Œæœ€å®Œæ•´çš„æ€è€ƒé¢˜ç­”æ¡ˆäº†ï¼Œæ„Ÿè°¢ä½ çš„ç§¯æå’Œè®¤çœŸã€‚\n\nç¡®å®åƒä½ è¯´çš„ï¼Œç›®å‰è¿™ä¸ªé¡¹ç›®ç›¸å¯¹ç®€å•ï¼Œè¿˜ä¸éœ€è¦ä½¿ç”¨æ›´åŠ å¤æ‚çš„æ–‡ä»¶ç›®å½•ç»“æ„ã€‚ä½ è¿™æ ·çš„è®¾è®¡æ°åˆ°å¥½å¤„ï¼Œå°¤å…¶æ˜¯componentså’Œpagesç›®å½•çš„åˆ†å·¥æ˜ç¡®ï¼Œå¯¹åç»­æ‰©å±•å’Œç»´æŠ¤ä¼šæœ‰å¾ˆå¤§å¸®åŠ©ã€‚\n\nçœ‹åˆ°ä½ çš„ä»£ç ä½¿ç”¨äº†TailwindCSSï¼Œæ˜¯å¾ˆæ£’çš„æ ·å¼æŠ€æœ¯ã€‚\n\nå¦å¤–æˆ‘å¯¹Finderé¦–é¡µä»£ç æœ‰ä¸ªå°å»ºè®®ï¼š https://github.com/TanGuangZhi/ReactLearn/blob/main/src/pages/YeahMyKanBan/FinderSimulate/index.tsx#L18-L25 çš„ getColumnData å‡½æ•°å¯ä»¥å£°æ˜åœ¨ useUpdateEffect å›è°ƒå‡½æ•°çš„å†…éƒ¨ï¼Œè¿™æ ·åšä»£ç é€»è¾‘ä¸Šå¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä½†å¯ä»¥é¿å…æ¯æ¬¡ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶éƒ½åˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°å‡ºæ¥ï¼Œç®—æ˜¯ä¸€ä¸ªå°ä¼˜åŒ–ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1667282018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359954,"user_name":"èˆ¹é•¿","can_delete":false,"product_type":"c1","uid":3170712,"ip_address":"åŒ—äº¬","ucode":"EBC0CCDB341E35","user_header":"https://static001.geekbang.org/account/avatar/00/30/61/98/0d6b499d.jpg","comment_is_top":false,"comment_ctime":1666088546,"is_pvip":false,"replies":[{"id":131356,"content":"ä½ å¥½ï¼Œèˆ¹é•¿ï¼Œå¾ˆæ£’çš„ç­”æ¡ˆï¼Œâ€œFinder é¡¹ç›®çš„ å·¦ä¸Šè§’æœ€å¤§æœ€å°åŒ–æŒ‰é’®â€ç¡®å®æ˜¯ä¸ªå¾ˆå…¸å‹çš„ä¾‹å­ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1033973,"ctime":1667282292,"ip_address":"åŒ—äº¬","comment_id":359954,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100119601,"comment_content":"common æ–‡ä»¶å¤¹é¡¾åæ€ä¹‰æ˜¯æ”¾å…¬å…±æ–‡ä»¶ã€å¯å¤ç”¨é€»è¾‘çš„åœ°æ–¹ï¼Œæ¯”å¦‚ç½‘ç«™çš„ Headerï¼ŒFooterï¼Œå…¬å…± util ç­‰ã€‚\næ¯”å¦‚æœ¬æ¬¡ Finder é¡¹ç›®çš„ å·¦ä¸Šè§’æœ€å¤§æœ€å°åŒ–æŒ‰é’®å°±åº”å±äº common ç›®å½•çš„ä¸€éƒ¨åˆ†ï¼Œåº”ä¸ºä¸æ­¢ Finder ç”¨åˆ°äº†ï¼Œmacos ä¸‹æ‰€æœ‰çš„çª—å£éƒ½æœ‰è¿™éƒ¨åˆ†","like_count":1,"discussions":[{"author":{"id":1033973,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/f5/dae613e0.jpg","nickname":"å®‹ä¸€ç®","note":"","ucode":"55E5B710556C1E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":592279,"discussion_content":"ä½ å¥½ï¼Œèˆ¹é•¿ï¼Œå¾ˆæ£’çš„ç­”æ¡ˆï¼Œâ€œFinder é¡¹ç›®çš„ å·¦ä¸Šè§’æœ€å¤§æœ€å°åŒ–æŒ‰é’®â€ç¡®å®æ˜¯ä¸ªå¾ˆå…¸å‹çš„ä¾‹å­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1667282292,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359950,"user_name":"èˆ¹é•¿","can_delete":false,"product_type":"c1","uid":3170712,"ip_address":"ç¾å›½","ucode":"EBC0CCDB341E35","user_header":"https://static001.geekbang.org/account/avatar/00/30/61/98/0d6b499d.jpg","comment_is_top":false,"comment_ctime":1666087784,"is_pvip":false,"replies":[{"id":131087,"content":"ä½ å¥½ï¼Œèˆ¹é•¿ï¼Œä½ çš„ç¬¬ä¸€ç§å†™æ³•ç›¸å½“äºåœ¨ç»„ä»¶å†…åŠ¨æ€å®šä¹‰äº†ä¸€ä¸ªç»„ä»¶ï¼Œè€Œå‡½æ•°ç»„ä»¶æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šæ‰§è¡Œæ•´ä¸ªå‡½æ•°ï¼Œæ„å‘³ç€æ¯æ¬¡éƒ½ä¼šæ–°å®šä¹‰ä¸€ä¸ªSearchFormç»„ä»¶ï¼Œç„¶ååŠ å…¥åˆ°æ¸²æŸ“ä¸­ã€‚\n\nReactåœ¨é‡æ–°æ¸²æŸ“æ—¶ä¼šæ ¹æ®ç»„ä»¶ç±»å‹ç¡®å®šæœ‰å“ªä¸ªè™šæ‹ŸDOMï¼ˆFiberNodeï¼‰æ˜¯å¯ä»¥å¤ç”¨çš„ï¼Œç„¶è€Œæ¯æ¬¡æ¸²æŸ“éƒ½å®šä¹‰æ–°ç»„ä»¶ä¼šå¯¼è‡´Reactæ¯æ¬¡éƒ½æ–°å»ºè™šæ‹ŸDOMï¼Œæœ€ç»ˆé”€æ¯å¹¶æ–°å»ºçœŸå®DOMï¼Œå¯¼è‡´å¤±å»ç„¦ç‚¹ã€‚\n\næˆ‘ä»ä½ çš„codesandbox forkäº†ä¸€ä»½ï¼ŒæŠŠSearchFormç»„ä»¶å®šä¹‰åœ¨ä¸»ç»„ä»¶å¤–é¢å°±å¥½äº†ï¼š  https:&#47;&#47;codesandbox.io&#47;s&#47;affectionate-water-jdrhfz?file=&#47;App.tsx","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1033973,"ctime":1666538891,"ip_address":"ç¾å›½","comment_id":359950,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100119601,"comment_content":"åœ¨å†™è¿™ä¸ª demo çš„æ—¶å€™æƒ³èµ·ä¹‹å‰å›°æƒ‘çš„ä¸€ä¸ªé—®é¢˜ï¼Œæƒ³è¯·æ•™ä¸‹å®‹è€å¸ˆï¼Œå³åœ¨ jsx ä¸­ &lt;childComponent&#47;&gt; ä¸ childComponent() è¿™ 2 ç§è°ƒç”¨ç»„ä»¶çš„æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\nè¿™æ˜¯ä¸€ä¸ª demoï¼Œä¸Šé¢çš„è¾“å…¥æ¡†æ˜¯ç”¨&lt;childComponent&#47;&gt;è¿™ç§æ–¹å¼è°ƒç”¨çš„ï¼Œåœ¨è¾“å…¥æ—¶ä¼šæœ‰ä¸ªè¾“å…¥æ¡†å¤±ç„¦çš„é—®é¢˜ï¼Œä¸‹é¢ç”¨childComponent() è°ƒç”¨çš„å°±æ²¡è¿™ä¸ªé—®é¢˜ã€‚\ndemo åœ°å€ï¼šhttps:&#47;&#47;codesandbox.io&#47;s&#47;fervent-ishizaka-mwusdq?file=&#47;App.tsxï¼‰ï¼Œ","like_count":1,"discussions":[{"author":{"id":1033973,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c6/f5/dae613e0.jpg","nickname":"å®‹ä¸€ç®","note":"","ucode":"55E5B710556C1E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591368,"discussion_content":"ä½ å¥½ï¼Œèˆ¹é•¿ï¼Œä½ çš„ç¬¬ä¸€ç§å†™æ³•ç›¸å½“äºåœ¨ç»„ä»¶å†…åŠ¨æ€å®šä¹‰äº†ä¸€ä¸ªç»„ä»¶ï¼Œè€Œå‡½æ•°ç»„ä»¶æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šæ‰§è¡Œæ•´ä¸ªå‡½æ•°ï¼Œæ„å‘³ç€æ¯æ¬¡éƒ½ä¼šæ–°å®šä¹‰ä¸€ä¸ªSearchFormç»„ä»¶ï¼Œç„¶ååŠ å…¥åˆ°æ¸²æŸ“ä¸­ã€‚\n\nReactåœ¨é‡æ–°æ¸²æŸ“æ—¶ä¼šæ ¹æ®ç»„ä»¶ç±»å‹ç¡®å®šæœ‰å“ªä¸ªè™šæ‹ŸDOMï¼ˆFiberNodeï¼‰æ˜¯å¯ä»¥å¤ç”¨çš„ï¼Œç„¶è€Œæ¯æ¬¡æ¸²æŸ“éƒ½å®šä¹‰æ–°ç»„ä»¶ä¼šå¯¼è‡´Reactæ¯æ¬¡éƒ½æ–°å»ºè™šæ‹ŸDOMï¼Œæœ€ç»ˆé”€æ¯å¹¶æ–°å»ºçœŸå®DOMï¼Œå¯¼è‡´å¤±å»ç„¦ç‚¹ã€‚\n\næˆ‘ä»ä½ çš„codesandbox forkäº†ä¸€ä»½ï¼ŒæŠŠSearchFormç»„ä»¶å®šä¹‰åœ¨ä¸»ç»„ä»¶å¤–é¢å°±å¥½äº†ï¼š  https://codesandbox.io/s/affectionate-water-jdrhfz?file=/App.tsx","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1666538891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ç¾å›½","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1034451,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c8/d3/3020ae46.jpg","nickname":"fatme","note":"","ucode":"75A805D2BB2AD1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591191,"discussion_content":"ä»£ç ä¸Šçš„åŸå› æ‰¾åˆ°äº†ï¼Œæ˜¯å› ä¸º SearchForm ç”¨äº†å‡½æ•°å†…éƒ¨å˜é‡å»å®ç°ã€‚å¦‚æœæŠŠ SearchForm æåˆ°å¤–é¢ï¼Œé‚£ä¹ˆå°±ä¸ä¼šå†å¤±ç„¦äº†ã€‚åŸç†ä¸Šçš„è§£é‡Šï¼Œæˆ‘çŒœæƒ³ run å¯¼è‡´äº†çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œè¿›ä¸€æ­¥å¯¼è‡´å­ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚ä½† SearchForm æ˜¯å†…éƒ¨å˜é‡ï¼Œæ¯ä¸€æ¬¡éƒ½æ˜¯ä¸€ä¸ªä¸åŒçš„å‡½æ•°å¯¹è±¡ï¼Œè¿™æ ·å¯¼è‡´ react åè°ƒçš„ Diffing Algorithm æŠŠå‰åä¸¤ä¸ª SearchForm å½“ä½œä¸åŒçš„ç»„ä»¶ç±»å‹ï¼Œæ‰€ä»¥æ¯æ¬¡ SearchForm çš„æ¸²æŸ“éƒ½ä¼šæ›´æ–° domï¼Œè¿™æ ·ç„¦ç‚¹å°±å¤±å»äº†ã€‚è€Œ {searchForm2} å°±ä¸ä¼šæœ‰è¿™æ ·çš„é—®é¢˜ã€‚ä½†æ˜¯è¿™ä¸ªè§£é‡Šå¥½åƒè§£é‡Šä¸äº†æˆ‘åšçš„å®éªŒ 1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666348565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1034451,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c8/d3/3020ae46.jpg","nickname":"fatme","note":"","ucode":"75A805D2BB2AD1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591154,"discussion_content":"ä¼¼ä¹ä¸ç»„ä»¶å’Œ hooks çš„å®ç°æœ‰å…³ã€‚åœ¨ä½ çš„ä»£ç ä¸Šåšäº†ä¸¤ä¸ªå®éªŒï¼Œ\n1. æŠŠ 56 è¡Œ searchForm2 é‡Œé¢çš„ run(...) æ³¨é‡Šæ‰ï¼Œè¿™æ ·ç¬¬ä¸€ä¸ª &lt;SearchForm /&gt; å°±ä¸ä¼šå¤±ç„¦äº†\n2. åœ¨ç¬¬ 1 ç‚¹çš„ä»£ç åŸºç¡€ä¸Šç»§ç»­ä¿®æ”¹ï¼Œåˆ æ‰ 69 è¡Œ {searchForm2} ï¼Œæ­¤æ—¶å¤±ç„¦å†æ¬¡å‡ºç°äº†\n\nå†è¡¥å……ä¸€ä¸‹ï¼Œå¤±ç„¦çš„è§¦å‘æ˜¯å› ä¸ºåœ¨è¾“å…¥è¿‡ç¨‹ä¸­ï¼Œä¸¤æ¬¡æŒ‰é”®çš„é—´éš”è¶…è¿‡äº† debounceWait: 300 çš„è®¾å®šã€‚å¯ä»¥æŠŠ debounceWait æ”¹ä¸º 3000ï¼Œè¿™æ ·ä¸¤æ¬¡æŒ‰é”®ä¹‹é—´è¦ç­‰å¾…æ›´é•¿çš„æ—¶é—´æ‰ä¼šå‡ºç°å¤±ç„¦ã€‚å¸Œæœ›ä»¥ä¸Šçº¿ç´¢å¯ä»¥å¸®åŠ©ä½ æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666328970,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":3170712,"avatar":"https://static001.geekbang.org/account/avatar/00/30/61/98/0d6b499d.jpg","nickname":"èˆ¹é•¿","note":"","ucode":"EBC0CCDB341E35","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1034451,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c8/d3/3020ae46.jpg","nickname":"fatme","note":"","ucode":"75A805D2BB2AD1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591185,"discussion_content":"è°¢è°¢ fatme çš„å›ç­”ï¼ŒæŒ‰ç…§ä½ çš„æç¤ºæˆ‘å°è¯•äº†ä¸‹ï¼Œå¤±ç„¦ç¡®å®åˆå‡ºç°äº†ï¼Œæˆ‘æ„Ÿè§‰æ˜¯å› ä¸ºå­ç»„ä»¶è°ƒç”¨çš„çˆ¶ç»„ä»¶çš„ run æ–¹æ³•ï¼Œç„¶åè§¦å‘çˆ¶å­ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå¯¼è‡´å¤±ç„¦é—®é¢˜ï¼ˆä¸çŸ¥é“æ­£ç¡®åŸå› æ˜¯ä¸æ˜¯è¿™æ ·ï¼‰ã€‚\n\nä½†æ˜¯æˆ‘ä¸èƒ½å°† debounceWait æ”¹é‚£ä¹ˆå¤§ï¼Œæˆ‘çš„æœ¬æ„æ˜¯åœ¨ç”¨æˆ·è¾“å…¥çš„è¿‡ç¨‹ï¼Œå½“ form è¡¨å•çš„å€¼æ”¹å˜ï¼ˆå³ onchangeï¼‰ï¼Œå°±è‡ªåŠ¨è§¦å‘æŸ¥è¯¢ï¼Œä¸ç”¨å†æ‰‹åŠ¨ç‚¹å‡»æŸ¥è¯¢æŒ‰é’®ã€‚\n\næœ€åï¼šä¹‹å‰çš„ä¾‹å­è¡¨è¿°å¯èƒ½ä¸å¤Ÿæ¸…æ™°ï¼Œæˆ‘å†æ¬¡æ›´æ–°äº†ä¸‹ä¾‹å­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666343497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":591154,"ip_address":"ä¸Šæµ·","group_id":0},"score":591185,"extra":""}]}]}]}
{"id":77474,"title":"14 | æ ‘çš„å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆä¸‹ï¼‰ï¼šä¸ºä»€ä¹ˆåŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ•ˆç‡æ›´é«˜ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é»„ç”³ã€‚</p><p>ä¸Šä¸€è®²ï¼Œæˆ‘ä»¬é€šè¿‡ç¤¾äº¤å¥½å‹çš„å…³ç³»ï¼Œä»‹ç»äº†ä¸ºä»€ä¹ˆéœ€è¦å¹¿åº¦ä¼˜å…ˆç­–ç•¥ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡é˜Ÿåˆ—æ¥å®ç°å®ƒã€‚æœ‰äº†å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œæˆ‘ä»¬å°±å¯ä»¥çŸ¥é“æŸä¸ªç”¨æˆ·çš„ä¸€åº¦ã€äºŒåº¦ã€ä¸‰åº¦ç­‰å¥½å‹æ˜¯è°ã€‚ä¸è¿‡ï¼Œåœ¨ç¤¾äº¤ç½‘ç»œä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªç»å¸¸ç¢°åˆ°çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯ç»™å®šä¸¤ä¸ªç”¨æˆ·ï¼Œå¦‚ä½•ç¡®å®šä»–ä»¬ä¹‹é—´çš„å…³ç³»æœ‰å¤šç´§å¯†ï¼Ÿ</p><p>æœ€ç›´æ¥çš„æ–¹æ³•æ˜¯ï¼Œä½¿ç”¨è¿™ä¸¤äººæ˜¯å‡ åº¦å¥½å‹ï¼Œæ¥è¡¡é‡ä»–ä»¬å…³ç³»çš„ç´§å¯†ç¨‹åº¦ã€‚ä»Šå¤©ï¼Œæˆ‘å°±è¿™ä¸ªé—®é¢˜ï¼Œæ¥èŠèŠå¹¿åº¦ä¼˜å…ˆç­–ç•¥çš„ä¸€ç§æ‰©å±•ï¼šåŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œä»¥åŠè¿™ç§ç­–ç•¥åœ¨å·¥ç¨‹ä¸­çš„åº”ç”¨ã€‚</p><h2>å¦‚ä½•æ›´é«˜æ•ˆåœ°æ±‚å‡ºä¸¤ä¸ªç”¨æˆ·é—´çš„æœ€çŸ­è·¯å¾„ï¼Ÿ</h2><p>åŸºæœ¬çš„åšæ³•æ˜¯ï¼Œä»å…¶ä¸­ä¸€ä¸ªäººå‡ºå‘ï¼Œè¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œçœ‹çœ‹å¦ä¸€ä¸ªäººæ˜¯å¦åœ¨å…¶ä¸­ã€‚å¦‚æœä¸å¹¸çš„è¯ï¼Œä¸¤ä¸ªäººç›¸è·å…­åº¦ï¼Œé‚£ä¹ˆå³ä½¿æ˜¯å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ŒåŒæ ·è¦è¾¾åˆ°ä¸‡äº¿çº§çš„æ•°é‡ã€‚</p><p>é‚£ç©¶ç«Ÿè¯¥å¦‚ä½•æ›´é«˜æ•ˆåœ°æ±‚å¾—ä¸¤ä¸ªç”¨æˆ·çš„æœ€çŸ­è·¯å¾„å‘¢ï¼Ÿæˆ‘ä»¬å…ˆçœ‹çœ‹ï¼Œå½±å“æ•ˆç‡çš„é—®é¢˜åœ¨å“ªé‡Œï¼Ÿå¾ˆæ˜¾ç„¶ï¼Œéšç€ç¤¾ä¼šå…³ç³»çš„åº¦æ•°å¢åŠ ï¼Œå¥½å‹æ•°é‡æ˜¯å‘ˆæŒ‡æ•°çº§å¢é•¿çš„ã€‚æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬å¯ä»¥æ§åˆ¶è¿™ç§æŒ‡æ•°çº§çš„å¢é•¿ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ§åˆ¶æ½œåœ¨å¥½å‹çš„æ•°é‡ï¼Œè¾¾åˆ°æå‡æ•ˆç‡çš„ç›®çš„ã€‚</p><p>å¦‚ä½•æ§åˆ¶è¿™ç§å¢é•¿å‘¢ï¼Ÿæˆ‘è¿™é‡Œä»‹ç»ä¸€ç§â€œ<strong>åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢</strong>â€ã€‚å®ƒå·§å¦™åœ°è¿ç”¨äº†ä¸¤ä¸ªæ–¹å‘çš„å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œå¤§å¹…é™ä½äº†æœç´¢çš„åº¦æ•°ã€‚ç°åœ¨æˆ‘å°±å¸¦ä½ çœ‹ä¸‹ï¼Œè¿™ä¸ªæ–¹æ³•çš„æ ¸å¿ƒæ€æƒ³ã€‚</p><!-- [[[read_end]]] --><p>å‡è®¾æœ‰ä¸¤ä¸ªäºº$a$ã€$b$ã€‚</p><ul>\n<li>æˆ‘ä»¬é¦–å…ˆä»$a$å‡ºå‘ï¼Œè¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œè®°å½•$a$çš„æ‰€æœ‰ä¸€åº¦å¥½å‹$a_{1}$ï¼Œç„¶åçœ‹ç‚¹$b$æ˜¯å¦å‡ºç°åœ¨é›†åˆ$a_{1}$ä¸­ã€‚</li>\n<li>å¦‚æœæ²¡æœ‰ï¼Œå°±å†ä»$b$å‡ºå‘ï¼Œè¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œè®°å½•æ‰€æœ‰ä¸€åº¦å¥½å‹$b_{1}$ï¼Œç„¶åçœ‹$a$å’Œ$a_{1}$æ˜¯å¦å‡ºç°åœ¨$b$å’Œ$b_{1}$çš„å¹¶é›†ä¸­ã€‚</li>\n<li>å¦‚æœæ²¡æœ‰ï¼Œå°±å›åˆ°$a$ï¼Œç»§ç»­ä»å®ƒå‡ºå‘çš„å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œè®°å½•æ‰€æœ‰äºŒåº¦å¥½å‹$a_{2}$ï¼Œç„¶åçœ‹$b$å’Œ$b_{1}$æ˜¯å¦å‡ºç°åœ¨$a$ã€$a_{1}$å’Œ$a_{2}$ä¸‰è€…çš„å¹¶é›†ä¸­ã€‚</li>\n<li>å¦‚æœæ²¡æœ‰ï¼Œå°±å›åˆ°$b$ï¼Œç»§ç»­ä»å®ƒå‡ºå‘çš„å¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚</li>\n<li>å¦‚æ­¤è½®æµä¸‹å»ï¼Œç›´åˆ°æ‰¾åˆ°$a$çš„å¥½å‹å’Œ$b$çš„å¥½å‹çš„äº¤é›†ã€‚</li>\n</ul><p>å¦‚æœæœ‰äº¤é›†ï¼Œå°±è¡¨æ˜è¿™ä¸ªäº¤é›†é‡Œçš„ç‚¹åˆ°$a$å’Œ$b$éƒ½æ˜¯é€šè·¯ã€‚</p><p>æˆ‘ä»¬å‡è®¾$c$åœ¨è¿™ä¸ªäº¤é›†ä¸­ï¼Œé‚£ä¹ˆæŠŠ$a$åˆ°$c$çš„é€šè·¯é•¿åº¦å’Œ$b$åˆ°$c$çš„é€šè·¯é•¿åº¦ç›¸åŠ ï¼Œå¾—åˆ°çš„å°±æ˜¯ä»$a$åˆ°$b$çš„æœ€çŸ­é€šè·¯é•¿ï¼ˆè¿™ä¸ªå‘½é¢˜å¯ä»¥ç”¨åè¯æ³•è¯æ˜ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸¤è€…ä¸ºå‡ åº¦å¥½å‹ã€‚è¿™ä¸ªè¿‡ç¨‹æœ‰ç‚¹å¤æ‚ï¼Œæˆ‘ç”»äº†ä¸€å¼ å›¾å¸®åŠ©ä½ æ¥ç†è§£ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b6/0e/b665fdbd81e7d0fb3245fbcd3b21230e.jpg?wh=1142*856\" alt=\"\"></p><p>æ€è·¯ä½ åº”è¯¥éƒ½æ¸…æ¥šäº†ï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ç”¨ä»£ç æ¥å®ç°ã€‚</p><p>è¦æƒ³å®ç°åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œé¦–å…ˆæˆ‘ä»¬è¦æŠŠç»“ç‚¹ç±»Nodeç¨ä½œä¿®æ”¹ï¼Œå¢åŠ ä¸€ä¸ªå˜é‡degreesã€‚è¿™ä¸ªå˜é‡æ˜¯HashMapç±»å‹ï¼Œç”¨äºå­˜æ”¾ä»ä¸åŒç”¨æˆ·å‡ºå‘ï¼Œåˆ°å½“å‰ç”¨æˆ·æ˜¯ç¬¬å‡ åº¦ç»“ç‚¹ã€‚æ¯”å¦‚è¯´ï¼Œå½“å‰ç»“ç‚¹æ˜¯4ï¼Œä»ç»“ç‚¹1åˆ°ç»“ç‚¹4æ˜¯3åº¦ï¼Œç»“ç‚¹2åˆ°ç»“ç‚¹4æ˜¯2åº¦ï¼Œç»“ç‚¹3åˆ°ç»“ç‚¹4æ˜¯4åº¦ï¼Œé‚£ä¹ˆç»“ç‚¹4çš„degreeså˜é‡å­˜æ”¾çš„å°±æ˜¯å¦‚ä¸‹æ˜ å°„ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/e2/47/e27d792a83dbe325ad5d0432910ffb47.png?wh=962*302\" alt=\"\"></p><p>æœ‰äº†å˜é‡degreesï¼Œæˆ‘ä»¬å°±èƒ½éšæ—¶çŸ¥é“æŸä¸ªç‚¹å’Œä¸¤ä¸ªå‡ºå‘ç‚¹å„è‡ªç›¸è·å¤šå°‘ã€‚æ‰€ä»¥ï¼Œåœ¨å‘ç°äº¤é›†ä¹‹åï¼Œæ ¹æ®äº¤é›†ä¸­çš„ç‚¹å’Œä¸¤ä¸ªå‡ºå‘ç‚¹å„è‡ªç›¸è·å¤šå°‘ï¼Œå°±èƒ½å¾ˆå¿«åœ°ç®—å‡ºæœ€çŸ­é€šè·¯çš„é•¿åº¦ã€‚ç†è§£äº†è¿™ç‚¹ä¹‹åï¼Œæˆ‘ä»¬åœ¨åŸæœ‰çš„Nodeç»“ç‚¹å†…å¢åŠ degreeså˜é‡çš„å®šä¹‰å’Œåˆå§‹åŒ–ã€‚</p><pre><code>public class Node {\n\t\t......\n\t\tpublic HashMap&lt;Integer, Integer&gt; degrees;\t\t// å­˜æ”¾ä»ä¸åŒç”¨æˆ·å‡ºå‘ï¼Œå½“å‰ç”¨æˆ·ç»“ç‚¹æ˜¯ç¬¬å‡ åº¦\n\t\t\n\t\t// åˆå§‹åŒ–ç»“ç‚¹\n\t\tpublic Node(int id) {\n\t\t\t......\n\t\t\tdegrees = new HashMap&lt;&gt;();\n\t\t\tdegrees.put(id, 0);\n\t\t}\n\t}\n\n</code></pre><p>ä¸ºäº†è®©åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢çš„ä»£ç å¯è¯»æ€§æ›´å¥½ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå®ç°ä¸¤ä¸ªæ¨¡å—åŒ–çš„å‡½æ•°ï¼šgetNextDegreeFriendå’ŒhasOverlapã€‚å‡½æ•°getNextDegreeFriendæ˜¯æ ¹æ®ç»™å®šçš„é˜Ÿåˆ—ï¼ŒæŸ¥æ‰¾å’Œèµ·å§‹ç‚¹ç›¸è·åº¦æ•°ä¸ºæŒ‡å®šå€¼çš„æ‰€æœ‰å¥½å‹ã€‚è€Œå‡½æ•°hasOverlapç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªé›†åˆæ˜¯ä¸æ˜¯æœ‰äº¤é›†ã€‚æœ‰äº†è¿™äº›æ¨¡å—åŒ–çš„å‡½æ•°ï¼ŒåŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢çš„ä»£ç å°±æ›´ç›´è§‚äº†ã€‚</p><p>åœ¨å‡½æ•°ä¸€å¼€å§‹ï¼Œæˆ‘ä»¬å…ˆè¿›è¡Œè¾¹ç•Œæ¡ä»¶åˆ¤æ–­ã€‚</p><pre><code>/**\n* @Description:\té€šè¿‡åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ŒæŸ¥æ‰¾ä¸¤äººä¹‹é—´æœ€çŸ­é€šè·¯çš„é•¿åº¦\n* @param user_nodes-ç”¨æˆ·çš„ç»“ç‚¹ï¼›user_id_a-ç”¨æˆ·açš„IDï¼›user_id_b-ç”¨æˆ·bçš„ID\n* @return void\n*/\n\tpublic static int bi_bfs(Node[] user_nodes, int user_id_a, int user_id_b) {\n\t\t\n\t\tif (user_id_a &gt; user_nodes.length || user_id_b &gt; user_nodes.length) return -1;\t// é˜²æ­¢æ•°ç»„è¶Šç•Œçš„å¼‚å¸¸\n\t\t\n\t\tif (user_id_a == user_id_b) return 0;\t\t// ä¸¤ä¸ªç”¨æˆ·æ˜¯åŒä¸€äººï¼Œç›´æ¥è¿”å›0\n</code></pre><p>ç”±äºåŒæ—¶ä»ä¸¤ä¸ªç”¨æˆ·çš„ç»“ç‚¹å‡ºå‘ï¼Œå¯¹äºæ‰€æœ‰ï¼Œæœ‰ä¸¤æ¡æœç´¢çš„è·¯å¾„ï¼Œæˆ‘ä»¬éƒ½éœ€è¦åˆå§‹åŒ–ä¸¤ä¸ªç”¨äºå¹¿åº¦ä¼˜å…ˆæœç´¢çš„é˜Ÿåˆ—ï¼Œä»¥åŠä¸¤ä¸ªç”¨äºå­˜æ”¾å·²ç»è¢«è®¿é—®ç»“ç‚¹çš„HashSetã€‚</p><pre><code>  Queue&lt;Integer&gt; queue_a = new LinkedList&lt;Integer&gt;();\t// é˜Ÿåˆ—aï¼Œç”¨äºä»ç”¨æˆ·aå‡ºå‘çš„å¹¿åº¦ä¼˜å…ˆæœç´¢\n\t\tQueue&lt;Integer&gt; queue_b = new LinkedList&lt;Integer&gt;();\t// é˜Ÿåˆ—bï¼Œç”¨äºä»ç”¨æˆ·bå‡ºå‘çš„å¹¿åº¦ä¼˜å…ˆæœç´¢\n\t\t\n\t\tqueue_a.offer(user_id_a);\t\t// æ”¾å…¥åˆå§‹ç»“ç‚¹\n\t\tHashSet&lt;Integer&gt; visited_a = new HashSet&lt;&gt;();\t// å­˜æ”¾å·²ç»è¢«è®¿é—®è¿‡çš„ç»“ç‚¹ï¼Œé˜²æ­¢å›è·¯\n\t\tvisited_a.add(user_id_a);\n\t\t\n\t\tqueue_b.offer(user_id_b);\t\t// æ”¾å…¥åˆå§‹ç»“ç‚¹\n\t\tHashSet&lt;Integer&gt; visited_b = new HashSet&lt;&gt;();\t// å­˜æ”¾å·²ç»è¢«è®¿é—®è¿‡çš„ç»“ç‚¹ï¼Œé˜²æ­¢å›è·¯\n\t\tvisited_b.add(user_id_b);\n\t\t\n</code></pre><p>æ¥ä¸‹æ¥è¦åšçš„æ˜¯ï¼Œä»ä¸¤ä¸ªç»“ç‚¹å‡ºå‘ï¼Œæ²¿ç€å„è‡ªçš„æ–¹å‘ï¼Œæ¯æ¬¡å¹¿åº¦ä¼˜å…ˆæœç´¢ä¸€åº¦ï¼Œå¹¶æŸ¥æ‰¾æ˜¯ä¸æ˜¯å­˜åœ¨é‡å çš„å¥½å‹ã€‚</p><pre><code>int degree_a = 0, degree_b = 0, max_degree = 20;\t\t// max_degreeçš„è®¾ç½®ï¼Œé˜²æ­¢ä¸¤è€…ä¹‹é—´ä¸å­˜åœ¨é€šè·¯çš„æƒ…å†µ\n\nwhile ((degree_a + degree_b) &lt; max_degree) {\n\t\t\tdegree_a ++;\n\t\t\tgetNextDegreeFriend(user_id_a, user_nodes, queue_a, visited_a, degree_a);\n\t// æ²¿ç€aå‡ºå‘çš„æ–¹å‘ï¼Œç»§ç»­å¹¿åº¦ä¼˜å…ˆæœç´¢degree + 1çš„å¥½å‹\n\t\t\tif (hasOverlap(visited_a, visited_b)) return (degree_a + degree_b);\n\t// åˆ¤æ–­åˆ°ç›®å‰ä¸ºæ­¢ï¼Œè¢«å‘ç°çš„açš„å¥½å‹ï¼Œå’Œè¢«å‘ç°çš„bçš„å¥½å‹ï¼Œä¸¤ä¸ªé›†åˆæ˜¯å¦å­˜åœ¨äº¤é›†\n\t\t\t\n\t\t\tdegree_b ++;\n\t\t\tgetNextDegreeFriend(user_id_b, user_nodes, queue_b, visited_b, degree_b);\n\t// æ²¿ç€bå‡ºå‘çš„æ–¹å‘ï¼Œç»§ç»­å¹¿åº¦ä¼˜å…ˆæœç´¢degree + 1çš„å¥½å‹\n\t\t\tif (hasOverlap(visited_a, visited_b)) return (degree_a + degree_b);\n\t// åˆ¤æ–­åˆ°ç›®å‰ä¸ºæ­¢ï¼Œè¢«å‘ç°çš„açš„å¥½å‹ï¼Œå’Œè¢«å‘ç°çš„bçš„å¥½å‹ï¼Œä¸¤ä¸ªé›†åˆæ˜¯å¦å­˜åœ¨äº¤é›†\n\t\t\t\n\t\t}\n  \n\t\treturn -1;\t\t\t\n    // å¹¿åº¦ä¼˜å…ˆæœç´¢è¶…è¿‡max_degreeä¹‹åï¼Œä»ç„¶æ²¡æœ‰å‘ç°aå’Œbçš„é‡å ï¼Œè®¤ä¸ºæ²¡æœ‰é€šè·¯\n\t\t\n\t}\n</code></pre><p>ä½ å¯ä»¥åŒæ—¶å®ç°å•å‘å¹¿åº¦ä¼˜å…ˆæœç´¢å’ŒåŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œç„¶åé€šè¿‡å®éªŒæ¥æ¯”è¾ƒä¸¤è€…çš„æ‰§è¡Œæ—¶é—´ï¼Œçœ‹çœ‹å“ªä¸ªæ›´çŸ­ã€‚å¦‚æœå®éªŒçš„æ•°æ®é‡è¶³å¤Ÿå¤§ï¼ˆæ¯”å¦‚è¯´ç»“ç‚¹åœ¨1ä¸‡ä»¥ä¸Šï¼Œè¾¹åœ¨5ä¸‡ä»¥ä¸Šï¼‰ï¼Œä½ åº”è¯¥èƒ½å‘ç°ï¼Œ<strong>åŒå‘çš„æ–¹æ³•å¯¹æ—¶é—´å’Œå†…å­˜çš„æ¶ˆè€—éƒ½æ›´å°‘</strong>ã€‚</p><p>ä¸ºä»€ä¹ˆåŒå‘æœç´¢çš„æ•ˆç‡æ›´é«˜å‘¢ï¼Ÿæˆ‘ä»¥å¹³å‡å¥½å‹åº¦æ•°ä¸º4ï¼Œç»™ä½ ä¸¾ä¾‹è®²è§£ã€‚</p><p>å·¦è¾¹çš„å›¾è¡¨ç¤ºä»ç»“ç‚¹$a$å•å‘æœç´¢èµ°2æ­¥ï¼Œå³è¾¹çš„å›¾è¡¨ç¤ºåˆ†åˆ«ä»ç»“ç‚¹$a$å’Œ$b$åŒå‘æœç´¢å„èµ°1æ­¥ã€‚å¾ˆæ˜æ˜¾ï¼Œå·¦è¾¹çš„ç»“ç‚¹æœ‰16ä¸ªï¼Œæ˜æ˜¾å¤šäºå³è¾¹çš„8ä¸ªç»“ç‚¹ã€‚è€Œä¸”ï¼Œéšç€æ¯äººè®¤è¯†çš„å¥½å‹æ•°ã€æœç´¢è·¯å¾„çš„å¢åŠ ï¼Œè¿™ç§å·®è·ä¼šæ›´åŠ æ˜æ˜¾ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/15/5b/1518aaa073b379b20ba3dca8dde08d5b.jpg?wh=1142*741\" alt=\"\"></p><p>æˆ‘ä»¬å‡è®¾æ¯ä¸ªåœ°çƒäººå¹³å‡è®¤è¯†100ä¸ªäººï¼Œå¦‚æœä¸¤ä¸ªäººç›¸è·å…­åº¦ï¼Œå•å‘å¹¿åº¦ä¼˜å…ˆæœç´¢è¦éå†100^6=1ä¸‡äº¿å·¦å³çš„äººã€‚å¦‚æœæ˜¯åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œé‚£ä¹ˆä¸¤è¾¹å„è‡ªæœç´¢çš„äººåªæœ‰100^3=100ä¸‡ã€‚</p><p>å½“ç„¶ï¼Œä½ å¯èƒ½ä¼šè¯´ï¼Œå•å‘å¹¿åº¦ä¼˜å…ˆæœç´¢ä¹‹åæŸ¥æ‰¾åŒ¹é…ç”¨æˆ·çš„å¼€é”€æ›´å°å•Šã€‚çš„ç¡®å¦‚æ­¤ï¼Œå‡è®¾æˆ‘ä»¬è¦çŸ¥é“ç»“ç‚¹$a$å’Œ$b$ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ï¼Œå•å‘æœç´¢æ„å‘³ç€è¦åœ¨$a$çš„1ä¸‡äº¿ä¸ªå¥½å‹ä¸­æŸ¥æ‰¾$b$ã€‚å¦‚æœé‡‡ç”¨åŒå‘æœç´¢çš„ç­–ç•¥ï¼Œä»ç»“ç‚¹$a$å’Œ$b$å‡ºå‘è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œæ¯ä¸ªæ–¹å‘ä¼šäº§ç”Ÿ100ä¸‡çš„å¥½å‹ï¼Œé‚£ä¹ˆéœ€è¦æ¯”è¾ƒè¿™ä¸¤ç»„100ä¸‡çš„å¥½å‹æ˜¯å¦æœ‰äº¤é›†ã€‚</p><p>å‡è®¾æˆ‘ä»¬ä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨$a$çš„1ä¸‡äº¿ä¸ªå¥½å‹ï¼Œå¹¶æŠŠæœç´¢$b$æ˜¯å¦å­˜åœ¨å…¶ä¸­çš„è€—æ—¶è®°ä½œxï¼Œè€ŒæŠŠåˆ¤æ–­ä¸¤ç»„100ä¸‡å¥½å‹æ˜¯å¦æœ‰äº¤é›†çš„è€—æ—¶è®°ä¸ºyï¼Œé‚£ä¹ˆé€šå¸¸x&lt;yã€‚</p><p>ä¸è¿‡ï¼Œç»¼åˆè€ƒè™‘å¹¿åº¦ä¼˜å…ˆæœç´¢å‡ºæ¥çš„å¥½å‹æ•°é‡ï¼ŒåŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢è¿˜æ˜¯æ›´æœ‰æ•ˆã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿç¨åä»‹ç»ç®—æ³•å¤æ‚åº¦çš„æ¦‚å¿µå’Œè¡¡é‡æ–¹æ³•æ—¶ï¼Œæˆ‘ä¼šå…·ä½“æ¥åˆ†æè¿™ä¸ªä¾‹å­ã€‚</p><p>å¹¿åº¦ä¼˜å…ˆæœç´¢çš„åº”ç”¨åœºæ™¯æœ‰å¾ˆå¤šï¼Œä¸‹é¢æˆ‘æ¥è¯´è¯´è¿™ç§ç­–ç•¥çš„ä¸€ä¸ªåº”ç”¨ã€‚</p><h2>å¦‚ä½•å®ç°æ›´æœ‰æ•ˆåœ°åµŒå¥—å‹èšåˆï¼Ÿ</h2><p>å¹¿åº¦ä¼˜å…ˆç­–ç•¥å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¤§å¹…ä¼˜åŒ–æ•°æ®åˆ†æä¸­çš„èšåˆæ“ä½œã€‚èšåˆæ˜¯æ•°æ®åˆ†æä¸­ä¸€ä¸ªå¾ˆå¸¸è§çš„æ“ä½œï¼Œå®ƒä¼šæ ¹æ®ä¸€å®šçš„æ¡ä»¶æŠŠè®°å½•èšé›†æˆä¸åŒçš„åˆ†ç»„ï¼Œä»¥ä¾¿æˆ‘ä»¬ç»Ÿè®¡æ¯ä¸ªåˆ†ç»„é‡Œçš„ä¿¡æ¯ã€‚ç›®å‰ï¼ŒSQLè¯­è¨€ä¸­çš„GROUP BYè¯­å¥ï¼ŒPythonå’ŒSparkè¯­è¨€ä¸­data frameçš„groupbyå‡½æ•°ï¼ŒSolrçš„facetæŸ¥è¯¢å’ŒElasticSearchçš„aggregationæŸ¥è¯¢ï¼Œéƒ½å¯ä»¥å®ç°èšåˆçš„åŠŸèƒ½ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åµŒå¥—ä½¿ç”¨ä¸åŒçš„èšåˆï¼Œè·å¾—å±‚çº§å‹çš„ç»Ÿè®¡ç»“æœã€‚ä½†æ˜¯ï¼Œå®é™…ä¸Šï¼Œé’ˆå¯¹ä¸€ä¸ªè§„æ¨¡è¶…å¤§çš„æ•°æ®é›†ï¼Œèšåˆçš„åµŒå¥—å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½ä¸¥é‡ä¸‹é™ã€‚è¿™é‡Œæˆ‘æ¥è°ˆè°ˆå¦‚ä½•åˆ©ç”¨å¹¿åº¦ä¼˜å…ˆçš„ç­–ç•¥ï¼Œå¯¹è¿™ä¸ªé—®é¢˜è¿›è¡Œä¼˜åŒ–ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ç”¨ä¸€ä¸ªå…·ä½“çš„ä¾‹å­æ¥ç»™ä½ è®²è®²ï¼Œä»€ä¹ˆæ˜¯å¤šçº§åµŒå¥—çš„èšåˆï¼Œä»¥åŠä¸ºä»€ä¹ˆå®ƒä¼šäº§ç”Ÿä¸¥é‡çš„æ€§èƒ½é—®é¢˜ã€‚</p><p>è¿™é‡Œæˆ‘åˆ—ä¸¾äº†ä¸€ä¸ªæ•°æ®è¡¨ï¼Œå®ƒæè¿°äº†ä¸€ä¸ªç¤¾äº¤ç½‘ç»œä¸­ï¼Œæ¯ä¸ªäººçš„èŒä¸šç»å†ã€‚å­—æ®µåŒ…æ‹¬é¡¹ç›®çš„IDã€ç”¨æˆ·IDã€å…¬å¸IDå’ŒåŒäº‹çš„IDsã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/82/02/8216d39c6bdc3925e5ea139071a41202.png?wh=1548*790\" alt=\"\"></p><p>å¯¹äºè¿™å¼ è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸‰å±‚åµŒå¥—çš„èšé›†ã€‚ç¬¬ä¸€çº§æ˜¯æ ¹æ®ç”¨æˆ·IDæ¥èšï¼Œè·å–æ¯ä½ç”¨æˆ·ä¸€å…±å‚ä¸äº†å¤šå°‘é¡¹ç›®ã€‚ç¬¬äºŒçº§æ˜¯æ ¹æ®å…¬å¸IDæ¥èšï¼Œè·å–æ¯ä½ç”¨æˆ·åœ¨æ¯å®¶å…¬å¸å‚ä¸äº†å¤šå°‘é¡¹ç›®ã€‚ç¬¬ä¸‰çº§æ ¹æ®åŒäº‹IDæ¥èšï¼Œè·å–æ¯ä½ç”¨æˆ·åœ¨æ¯å®¶å…¬å¸ï¼Œå’Œæ¯ä½åŒäº‹å…±åŒå‚ä¸äº†å¤šå°‘é¡¹ç›®ã€‚æœ€ç»ˆç»“æœåº”è¯¥æ˜¯ç±»ä¼¼ä¸‹é¢è¿™æ ·çš„ï¼š</p><pre><code>ç”¨æˆ·u88ï¼Œæ€»å…±50ä¸ªé¡¹ç›®ï¼ˆåŒ…æ‹¬åœ¨å…¬å¸c42ä¸­çš„10ä¸ªï¼Œc26ä¸­çš„8ä¸ª...ï¼‰\n\t\tåœ¨å…¬å¸c42ä¸­ï¼Œå‚ä¸10ä¸ªé¡¹ç›®ï¼ˆåŒ…æ‹¬å’Œu120å…±äº‹çš„4ä¸ªï¼Œå’Œu99å…±äº‹çš„3ä¸ª...ï¼‰\n\t\t\t\tå’Œu120å…±åŒå‚ä¸4ä¸ªé¡¹ç›®\n\t\t\t\tå’Œu99å…±åŒå‚ä¸3ä¸ªé¡¹ç›®\n\t\t\t\tå’Œu72å…±åŒå‚ä¸3ä¸ªé¡¹ç›®\n\t\tåœ¨å…¬å¸c26ä¸­ï¼Œå‚ä¸äº†8ä¸ªé¡¹ç›®\n\t\t\t\tå’Œu145å…±åŒå‚ä¸5ä¸ªé¡¹ç›®\n\t\t\t\tå’Œu128å…±åŒå‚ä¸3ä¸ªé¡¹ç›®\n\t\tï¼ˆç”¨æˆ·u88åœ¨å…¶ä»–å…¬å¸çš„é¡¹ç›®...ï¼‰\n\nç”¨æˆ·u66ï¼Œæ€»å…±47ä¸ªé¡¹ç›®\n\t\tåœ¨å…¬å¸c28ä¸­ï¼Œå‚ä¸äº†16ä¸ªé¡¹ç›®\n\t\t  å’Œu65å…±åŒå‚ä¸äº†5ä¸ªé¡¹ç›®\n(ç”¨æˆ·u66çš„å‰©ä½™æ•°æ®...ï¼‰\n...\t\t\nï¼ˆå…¶ä»–ç”¨æˆ·çš„æ•°æ®...ï¼‰\n</code></pre><p>ä¸ºäº†å®ç°è¿™ç§åµŒå¥—å¼çš„èšåˆç»Ÿè®¡ï¼Œä½ ä¼šæ€ä¹ˆæ¥è®¾è®¡å‘¢ï¼Ÿçœ‹èµ·æ¥æŒºå¤æ‚çš„ï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥ç”¨æœ€ç®€å•çš„æ’åˆ—çš„æ€æƒ³ï¼Œåˆ†åˆ«ä¸ºâ€œæ¯ä¸ªç”¨æˆ·â€â€œæ¯ä¸ªç”¨æˆ·+æ¯ä¸ªå…¬å¸â€â€œæ¯ä¸ªç”¨æˆ·+æ¯ä¸ªå…¬å¸+æ¯ä½åŒäº‹â€ï¼Œç”Ÿæˆå¾ˆå¤šå¾ˆå¤šçš„è®¡æ•°å™¨ã€‚å¯æ˜¯ï¼Œå¦‚æœç”¨æˆ·çš„æ•°é‡éå¸¸å¤§ï¼Œé‚£ä¹ˆè¿™ä¸ªâ€œå¾ˆå¤šâ€å°±ä¼šæˆä¸ºä¸€ä¸ªå¯æ€•çš„æ•°å­—ã€‚</p><p>æˆ‘ä»¬å‡è®¾è¿™ä¸ªç¤¾äº¤ç½‘æœ‰5ä¸‡ç”¨æˆ·ï¼Œæ¯ä½ç”¨æˆ·å¹³å‡åœ¨5å®¶å…¬å¸å·¥ä½œè¿‡ï¼Œè€Œç”¨æˆ·åœ¨æ¯å®¶å…¬å¸å¹³å‡æœ‰10åå…±äº‹çš„åŒäº‹ï¼Œé‚£ä¹ˆé’ˆå¯¹ç”¨æˆ·çš„è®¡æ•°å™¨æœ‰5ä¸‡ä¸ªï¼Œé’ˆå¯¹â€œæ¯ä¸ªç”¨æˆ·+æ¯ä¸ªå…¬å¸â€çš„è®¡æ•°å™¨æœ‰25ä¸‡ä¸ªï¼Œè€Œåˆ°äº†â€œæ¯ä¸ªç”¨æˆ·+æ¯ä¸ªå…¬å¸+æ¯ä½åŒäº‹â€çš„è®¡æ•°å™¨ï¼Œå°±å·²ç»è¾¾åˆ°250ä¸‡ä¸ªäº†ï¼Œä¸‰ä¸ªå±‚çº§æ€»å…±éœ€è¦280ä¸‡è®¡æ•°å™¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/61/d8/61dc9b211bf5f7e4f33bf24b1dba9cd8.jpg?wh=1142*650\" alt=\"\"></p><p>æˆ‘ä»¬å‡è®¾ä¸€ä¸ªè®¡æ•°å™¨æ˜¯4ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆ280ä¸‡ä¸ªè®¡æ•°å™¨å°±éœ€è¦æ¶ˆè€—è¶…è¿‡10Mçš„å†…å­˜ã€‚å¯¹äºé«˜å¹¶å‘ã€ä½å»¶è¿Ÿçš„å®æ—¶æ€§æœåŠ¡ï¼Œå¦‚æœæ¯ä¸ªè¯·æ±‚éƒ½è¦æ¶ˆè€—10Må†…å­˜ï¼Œå¾ˆå®¹æ˜“å°±å¯¼è‡´æœåŠ¡å™¨å´©æºƒã€‚å¦å¤–ï¼Œå®æ—¶æ€§çš„æœåŠ¡ï¼Œå¾€å¾€åªéœ€è¦å‰è‹¥å¹²ä¸ªç»“æœå°±è¶³ä»¥æ»¡è¶³éœ€æ±‚äº†ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®Œå…¨åŸºäºæ’åˆ—çš„è®¾è®¡å°±æœ‰ä¼˜åŒ–çš„ç©ºé—´äº†ã€‚</p><p>ä»åˆšæ‰é‚£å¼ å›¾ä¸­ï¼Œå…¶å®æˆ‘ä»¬å°±èƒ½æƒ³åˆ°ä¸€äº›ä¼˜åŒ–çš„æ€è·¯ã€‚</p><p>å¯¹äºåªéœ€è¦è¿”å›å‰è‹¥å¹²ç»“æœçš„åº”ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å›¾ä¸­çš„æ ‘çŠ¶ç»“æ„è¿›è¡Œå‰ªæï¼Œå»æ‰ç»å¤§éƒ¨åˆ†ä¸éœ€è¦çš„ç»“ç‚¹å’Œè¾¹ï¼Œè¿™æ ·å°±èƒ½èŠ‚çœå¤§é‡çš„å†…å­˜å’ŒCPUè®¡ç®—ã€‚</p><p>æ¯”å¦‚ï¼Œå¦‚æœæˆ‘ä»¬åªéœ€è¦è¿”å›å‰100ä¸ªå‚ä¸é¡¹ç›®æœ€å¤šçš„ç”¨æˆ·ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰å¿…è¦æŒ‰ç…§æ·±åº¦ä¼˜å…ˆçš„ç­–ç•¥ï¼Œå»æ‰©å±•æ ‘ä¸­é«˜åº¦ä¸º2å’Œ3çš„ç»“ç‚¹äº†ï¼Œè€Œæ˜¯åº”è¯¥ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆç­–ç•¥ï¼Œé¦–å…ˆæ‰¾å‡ºæ‰€æœ‰é«˜åº¦ä¸º1çš„ç»“ç‚¹ï¼Œæ ¹æ®é¡¹ç›®æ•°é‡è¿›è¡Œæ’åºï¼Œç„¶ååªå–å‡ºå‰100ä¸ªï¼ŒæŠŠè®¡æ•°å™¨çš„æ•°é‡ä»5ä¸‡ä¸ªä¸€ä¸‹å­é™åˆ°100ä¸ªã€‚</p><p>ä»¥æ­¤ç±»æ¨ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ§åˆ¶é«˜åº¦ä¸º2å’Œ3çš„ç»“ç‚¹ä¹‹æ•°é‡ã€‚å¦‚æœæˆ‘ä»¬åªè¦çœ‹å‰100ä½ç”¨æˆ·ï¼Œæ¯ä½ç”¨æˆ·åªçœ‹æ’åç¬¬ä¸€çš„å…¬å¸ï¼Œè€Œæ¯å®¶å…¬å¸åªçœ‹åˆä½œæœ€å¤šçš„3ååŒäº‹ï¼Œé‚£ä¹ˆæœ€ç»ˆè®¡æ•°å™¨æ•°é‡å°±åªæœ‰50000+100x5+100x1x10=51500ã€‚åªæœ‰æ–‡å­—è¿˜æ˜¯ä¸å¤ªå¥½æ‡‚ï¼Œæˆ‘ç”»äº†ä¸€å¼ å›¾ï¼Œå¸®ä½ ç†è§£è¿™ä¸ªè¿‡ç¨‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/81/d6/8183dff98d2f84b053ca103cb26566d6.jpg?wh=1142*856\" alt=\"\"><img src=\"https://static001.geekbang.org/resource/image/86/25/86e89d1df417e7e1d364e1416855b625.jpg?wh=1142*514\" alt=\"\"></p><p>å¦‚æœä¸€ä¸ªé¡¹ç›®ç”¨åˆ°æ’åˆ—ç»„åˆçš„æ€æƒ³ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç¨‹åºé‡Œä½¿ç”¨å¤§é‡çš„å˜é‡ï¼Œæ¥ä¿å­˜æ•°æ®æˆ–è€…è¿›è¡Œè®¡ç®—ï¼Œè¿™ä¼šå¯¼è‡´å†…å­˜å’ŒCPUä½¿ç”¨é‡çš„æ€¥å‰§å¢åŠ ã€‚åœ¨å…è®¸çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆç­–ç•¥ï¼Œå¯¹æ’åˆ—ç»„åˆæ‰€ç”Ÿæˆçš„æ ‘è¿›è¡Œä¼˜åŒ–ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥æœ‰æ•ˆåœ°ç¼©å‡æ ‘ä¸­é è¿‘æ ¹çš„ç»“ç‚¹æ•°é‡ï¼Œé¿å…ä¹‹åæ ‘çš„çˆ†ç‚¸æ€§ç”Ÿé•¿ã€‚</p><h2>å°ç»“</h2><p>å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œç›¸å¯¹äºæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œæ²¡æœ‰å‡½æ•°çš„åµŒå¥—è°ƒç”¨å’Œå›æº¯æ“ä½œï¼Œæ‰€ä»¥è¿è¡Œé€Ÿåº¦æ¯”è¾ƒå¿«ã€‚ä½†æ˜¯ï¼Œéšç€æœç´¢è¿‡ç¨‹çš„è¿›è¡Œï¼Œå¹¿åº¦ä¼˜å…ˆéœ€è¦åœ¨é˜Ÿåˆ—ä¸­å­˜æ”¾æ–°é‡åˆ°çš„æ‰€æœ‰ç»“ç‚¹ï¼Œå› æ­¤å ç”¨çš„å­˜å‚¨ç©ºé—´é€šå¸¸æ¯”æ·±åº¦ä¼˜å…ˆæœç´¢å¤šã€‚</p><p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢æ³•åªä¿ç•™ç”¨äºå›æº¯çš„ç»“ç‚¹ï¼Œè€Œæ‰©å±•å®Œçš„ç»“ç‚¹ä¼šä»æ ˆä¸­å¼¹å‡ºå¹¶è¢«åˆ é™¤ã€‚æ‰€ä»¥æ·±åº¦ä¼˜å…ˆæœç´¢å ç”¨ç©ºé—´ç›¸å¯¹è¾ƒå°‘ã€‚ä¸è¿‡ï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢çš„é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œè€Œå¹¶ä¸é€‚åˆæŸ¥æ‰¾ç»“ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„è¿™ç±»çš„åº”ç”¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d7/64/d735ed146cac3ca1f81df5acbe634664.jpg?wh=1242*1441\" alt=\"\"></p><h2>æ€è€ƒé¢˜</h2><p>ä»Šå¤©æ‰€è¯´çš„åŒå‘å¹¿åº¦ä¼˜å…ˆæ¯”å•å‘å¹¿åº¦ä¼˜å…ˆæ›´é«˜æ•ˆï¼Œå…¶å®æ˜¯è¦åŸºäºä¸€ä¸ªå‰ææ¡ä»¶çš„ã€‚ä½ èƒ½å¦è¯´å‡ºï¼Œåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œå•å‘å¹¿åº¦ä¼˜å…ˆæ›´é«˜æ•ˆå‘¢ï¼Ÿé’ˆå¯¹è¿™ç§æƒ…å†µï¼Œåˆè¯¥å¦‚ä½•ä¼˜åŒ–åŒå‘å¹¿åº¦ä¼˜å…ˆå‘¢ï¼Ÿ</p><p><span class=\"orange\">æ¬¢è¿åœ¨ç•™è¨€åŒºäº¤ä½œä¸šï¼Œå¹¶å†™ä¸‹ä½ ä»Šå¤©çš„å­¦ä¹ ç¬”è®°ã€‚ä½ å¯ä»¥ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€ï¼ŒæŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™ä½ çš„å¥½å‹ï¼Œå’Œä»–ä¸€èµ·ç²¾è¿›ã€‚</span></p>","neighbors":{"left":{"article_title":"13 | æ ‘çš„å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆä¸Šï¼‰ï¼šäººé™…å…³ç³»çš„å…­åº¦ç†è®ºæ˜¯çœŸçš„å—ï¼Ÿ","id":77129},"right":{"article_title":"15 | ä»æ ‘åˆ°å›¾ï¼šå¦‚ä½•è®©è®¡ç®—æœºå­¦ä¼šçœ‹åœ°å›¾ï¼Ÿ","id":77849}},"comments":[{"had_liked":false,"id":61927,"user_name":"elephant","can_delete":false,"product_type":"c1","uid":1123628,"ip_address":"","ucode":"99C8DF507CDB7D","user_header":"https://static001.geekbang.org/account/avatar/00/11/25/2c/2bbd84ef.jpg","comment_is_top":false,"comment_ctime":1547859834,"is_pvip":false,"replies":[{"id":"21968","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ç”³","uid":"1275061","ctime":1547927553,"ip_address":"","comment_id":61927,"utype":1}],"discussion_count":1,"race_medal":0,"score":"169051584378","product_id":100021201,"comment_content":"å¦‚æœaå’Œbå¥½å‹åˆ†å¸ƒæä¸å‡åŒ€ï¼Œæ¯”å¦‚aå’Œaçš„æ‰€æœ‰å­å¥½å‹å¹³å‡éƒ½æœ‰100ä¸ªå¥½å‹ï¼Œbå’Œbçš„æ‰€æœ‰å­å¥½å‹å¹³å‡æœ‰2ä¸ªå¥½å‹ï¼Œè¿™æ ·çš„æƒ…å†µä¸‹ï¼Œä»bå¼€å§‹çš„å•å‘æœç´¢è¦é«˜æ•ˆå¾ˆå¤šå§","like_count":40,"discussions":[{"author":{"id":1275061,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/b5/b68e3740.jpg","nickname":"é»„ç”³","note":"","ucode":"EE9AC074A322FF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437039,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547927553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61070,"user_name":"è©æ","can_delete":false,"product_type":"c1","uid":1309278,"ip_address":"","ucode":"19586AC50BEF1E","user_header":"","comment_is_top":false,"comment_ctime":1547612502,"is_pvip":false,"replies":[{"id":"21804","content":"é€»è¾‘ä¸Šæ˜¯å¯¹çš„ğŸ‘Œ","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ç”³","uid":"1275061","ctime":1547682550,"ip_address":"","comment_id":61070,"utype":1}],"discussion_count":1,"race_medal":0,"score":"48792252758","product_id":100021201,"comment_content":"å®Œå–„äº†ä¸€ä¸‹è¿™ä¸¤ä¸ªé¢„ç•™çš„æ–¹æ³•<br>private static boolean hasOverlap(HashSet&lt;Integer&gt; visited_a, HashSet&lt;Integer&gt; visited_b) {<br>\t\tif (visited_a.isEmpty() || visited_b.isEmpty())<br>\t\t\treturn false;<br>\t\tfor (int user_id_a : visited_a) {<br>\t\t\tif (visited_b.contains(user_id_a)) {<br>\t\t\t\treturn true;<br>\t\t\t}<br>\t\t}<br>\t\treturn false;<br>\t}<br><br>\tprivate static void getNextDegreeFriend(int user_id_a, Node[] user_nodes, Queue&lt;Integer&gt; queue_a,<br>\t\t\tHashSet&lt;Integer&gt; visited_a, int degree_a) {<br>\t\tif (user_nodes[user_id_a] == null)<br>\t\t\treturn;<br>\t\tNode current_node = user_nodes[user_id_a];<br>\t\tHashSet&lt;Integer&gt; friends = current_node.friends;<br>\t\tif (friends.isEmpty())<br>\t\t\treturn;<br>\t\tHashMap&lt;Integer, Integer&gt; degrees = current_node.degrees;<br>\t\tfor (int f_user_id : friends) {<br>\t\t\tqueue_a.offer(f_user_id);<br>\t\t\tvisited_a.add(f_user_id);<br>\t\t\tdegrees.put(f_user_id, degree_a + 1);<br>\t\t}<br>\t}<br>        &#47;&#47; åˆå§‹åŒ–èŠ‚ç‚¹æ•°ç»„<br>\tpublic static Node[] init(int user_num, int relation_num) {<br>\t\tRandom rand = new Random();<br>\t\tNode[] user_nodes = new Node[user_num];<br><br>\t\t&#47;&#47; ç”Ÿæˆæ‰€æœ‰è¡¨ç¤ºç”¨æˆ·çš„èŠ‚ç‚¹<br>\t\tfor (int i = 0; i &lt; user_num; i++) {<br>\t\t\tuser_nodes[i] = new Node(i);<br>\t\t}<br><br>\t\t&#47;&#47; ç”Ÿæˆæ‰€æœ‰è¡¨ç¤ºå¥½å‹å…³ç³»çš„è¾¹<br>\t\tfor (int i = 0; i &lt; relation_num; i++) {<br>\t\t\tint friend_a_id = rand.nextInt(user_num);<br>\t\t\tint friend_b_id = rand.nextInt(user_num);<br>\t\t\tif (friend_a_id == friend_b_id)<br>\t\t\t\tcontinue;<br>\t\t\tNode friend_a = user_nodes[friend_a_id];<br>\t\t\tNode friend_b = user_nodes[friend_b_id];<br>\t\t\tfriend_a.friends.add(friend_b_id);<br>\t\t\tfriend_b.friends.add(friend_a_id);<br>\t\t}<br><br>\t\treturn user_nodes;<br>\t}<br>        &#47;&#47; æµ‹è¯•<br>\tpublic static void main(String[] args) {<br>\t\tNode[] user_nodes = init(5, 8);<br>\t\tfor (Node d : user_nodes) {<br>\t\t\tSystem.out.println(d.user_id + &quot;:&quot; + d.friends + &quot;:&quot; + d.degrees);<br>\t\t}<br>\t\tSystem.out.println(&quot;-----------------&quot;);<br>\t\tint len = bi_bfs(user_nodes, 0, 1);<br>\t\tSystem.out.println(&quot;è·ç¦»ï¼š&quot; + len);<br>\t}<br>è¿è¡Œç»“æœï¼š<br>0:[2, 3, 4]:{0=0}<br>1:[2, 4]:{1=0}<br>2:[0, 1]:{2=0}<br>3:[0]:{3=0}<br>4:[0, 1]:{4=0}<br>-----------------<br>è·ç¦»ï¼š2<br><br>è€å¸ˆæ‚¨å¸®å¿™çœ‹ä¸‹ç¨‹åºé€»è¾‘æœ‰æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä»æµ‹è¯•ç»“æœæ¥çœ‹åº”è¯¥æ˜¯å¯¹çš„ã€‚","like_count":11,"discussions":[{"author":{"id":1275061,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/b5/b68e3740.jpg","nickname":"é»„ç”³","note":"","ucode":"EE9AC074A322FF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436733,"discussion_content":"é€»è¾‘ä¸Šæ˜¯å¯¹çš„ğŸ‘Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547682550,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60599,"user_name":"Being","can_delete":false,"product_type":"c1","uid":1152227,"ip_address":"","ucode":"80A8783927B650","user_header":"https://static001.geekbang.org/account/avatar/00/11/94/e3/ed118550.jpg","comment_is_top":false,"comment_ctime":1547517856,"is_pvip":false,"replies":[{"id":"21694","content":"æ˜¯çš„ï¼Œè§„æ¨¡å°ä¸èƒ½ä½“ç°åŒå‘ä¼˜åŠ¿ã€‚å¦å¤–ï¼Œå¦‚æœä¸¤ä¸ªå‡ºå‘ç‚¹aå’Œbï¼Œå¦‚æœaå‡ºå‘çš„å›¾å¹³å‡è¿æ¥åº¦æ˜æ˜¾å¤§äºbå‡ºå‘çš„å›¾ï¼Œé‚£ä¹ˆä»bå•å‘å¹¿åº¦å¯èƒ½æ•ˆç‡æ›´é«˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ç”³","uid":"1275061","ctime":1547574734,"ip_address":"","comment_id":60599,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44497190816","product_id":100021201,"comment_content":"è€å¸ˆï¼Œæˆ‘ç†è§£çš„åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œå…¶å®é‡ç‚¹å…³æ³¨çš„æ˜¯ä¸¤ä¸ªç‚¹ä¹‹é—´çš„è”ç³»ï¼ˆæœ€çŸ­è·ç¦»ï¼‰ï¼Œè€Œä¸æ˜¯ä¸­é—´æ‰€æœ‰çš„è¦†ç›–å…³ç³»ã€‚å•å‘çš„å¿…ç„¶å¯¼è‡´å¤§è§„æ¨¡çš„è¦†ç›–æœç´¢ï¼Œåƒåœ°æ¯¯å¼çš„ï¼Œè€ŒåŒå‘çš„ï¼Œä¸ä¼šæŠŠé¢ç§¯é“ºå¾—é‚£ä¹ˆå¤§ï¼Œåœ¨ä¸€å®šèŒƒå›´å†…æ‰¾åˆ°äº¤é›†å³è¾¾åˆ°ç›®çš„ã€‚æ‰€ä»¥ä¹Ÿä»ä¾§é¢å°è¯äº†ï¼Œå½“å…³ç³»ç½‘çš„è§„æ¨¡å¾ˆå¤§çš„æ—¶å€™ï¼Œä½¿ç”¨åŒå‘çš„æœç´¢è¦†ç›–é¢ç§¯å¿…ç„¶æ¯”å•å‘çš„å°å¾ˆå¤šï¼Œè€Œè§„æ¨¡å°åè€Œä¸èƒ½ä½“ç°åŒå‘BFSçš„ä¼˜åŠ¿ã€‚","like_count":10,"discussions":[{"author":{"id":1275061,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/b5/b68e3740.jpg","nickname":"é»„ç”³","note":"","ucode":"EE9AC074A322FF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436558,"discussion_content":"æ˜¯çš„ï¼Œè§„æ¨¡å°ä¸èƒ½ä½“ç°åŒå‘ä¼˜åŠ¿ã€‚å¦å¤–ï¼Œå¦‚æœä¸¤ä¸ªå‡ºå‘ç‚¹aå’Œbï¼Œå¦‚æœaå‡ºå‘çš„å›¾å¹³å‡è¿æ¥åº¦æ˜æ˜¾å¤§äºbå‡ºå‘çš„å›¾ï¼Œé‚£ä¹ˆä»bå•å‘å¹¿åº¦å¯èƒ½æ•ˆç‡æ›´é«˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547574734,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79510,"user_name":"WingÂ·ä¸‰é‡‘","can_delete":false,"product_type":"c1","uid":1341402,"ip_address":"","ucode":"6B9F5822C3717F","user_header":"https://static001.geekbang.org/account/avatar/00/14/77/da/54c663f3.jpg","comment_is_top":false,"comment_ctime":1553502047,"is_pvip":false,"replies":[{"id":"29212","content":"æ€è€ƒé¢˜çš„æ€è·¯å¾ˆå¥½ã€‚<br>degree_aå’Œdegree_bä¸»è¦æ˜¯æ§åˆ¶æ€»çš„åº¦æ•°ï¼ˆä¹Ÿå°±æ˜¯max_degreeï¼‰ï¼Œä¸è¦æœç´¢å¤ªå¤šã€‚<br><br>è‡³äºHashMapï¼Œæ˜¯è€ƒè™‘åˆ°äº†ä¸åŒèŠ‚ç‚¹åˆ°å‡ºå‘ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ç”³","uid":"1275061","ctime":1553616019,"ip_address":"","comment_id":79510,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27323305823","product_id":100021201,"comment_content":"æ€è€ƒé¢˜ï¼šèƒ½æƒ³åˆ°çš„æ˜¯å½“ a b ç»“ç‚¹çš„å¥½å‹æ•°é‡æåº¦ä¸å¯¹ç§°æ—¶ï¼Œå•å‘æ›´å¿«ï¼›ä¼˜åŒ–æ€è·¯æ˜¯ï¼Œæ¯ä¸€æ¬¡è¿­ä»£æ—¶æ¯”è¾ƒä¸‹ä¸€å±‚ç»“ç‚¹çš„æ•°é‡ï¼Œè‹¥æ˜¯ä¸¤è¾¹çš„æ•°é‡çº§æœ‰æ˜æ˜¾å·®è·ï¼ˆè®¾ç½®ä¸ªé˜ˆå€¼ï¼‰ï¼Œåˆ™ä¼˜å…ˆé€‰æ‹©æ•°é‡çº§å°çš„ä¸€è¾¹è¿›è¡Œæœç´¢ã€‚ä½†è¿™æ ·çš„åšçš„å¼Šç«¯ä¹Ÿå¾ˆæ˜æ˜¾â€”â€”å¾ˆå¯èƒ½è¿™ä¸€è¾¹ä¸æ–­å¾€ä¸‹æœç´¢ï¼Œä½†äº‹å®ä¸Šå¦ä¸€è¾¹åªè¦å¾€ä¸‹ä¸€å±‚å°±å®Œäº‹äº†ã€‚æ‰€ä»¥è¿˜éœ€è¦é™åˆ¶å•è¾¹ã€è¿ç»­ä¼˜å…ˆæœç´¢ã€‘çš„æ¬¡æ•°ã€‚<br><br>æé—®ï¼šè€å¸ˆï¼Œæ‚¨æœ‰å¼€å¤´æåˆ°éœ€è¦å¯¹ Node æ·»åŠ ä¸€ä¸ª degrees çš„ HashMap å˜é‡æ¥çºªå½•å…¶ä»–ç”¨æˆ·ç»“ç‚¹ä¸ self çš„è·ç¦»ï¼Œä½†æ˜¯åè¾¹ç”¨åˆ°çš„å¤–éƒ¨å˜é‡ degree_a äº‹å®ä¸Šå°±ä»£æ›¿äº†è¿™ä¸ªåŠŸèƒ½æ˜¯å—ï¼Ÿ<br>å¦å¤–åœ¨å®é™…åº”ç”¨ä¸­ max_degree æ˜¯è®¾ç½®ä¸ºæ ‘çš„é«˜åº¦å—ï¼Œè¿˜æ˜¯å¯ä»¥æœ‰å…¶ä»–ä¼˜åŒ–æ–¹å¼ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1275061,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/b5/b68e3740.jpg","nickname":"é»„ç”³","note":"","ucode":"EE9AC074A322FF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444522,"discussion_content":"æ€è€ƒé¢˜çš„æ€è·¯å¾ˆå¥½ã€‚\ndegree_aå’Œdegree_bä¸»è¦æ˜¯æ§åˆ¶æ€»çš„åº¦æ•°ï¼ˆä¹Ÿå°±æ˜¯max_degreeï¼‰ï¼Œä¸è¦æœç´¢å¤ªå¤šã€‚\n\nè‡³äºHashMapï¼Œæ˜¯è€ƒè™‘åˆ°äº†ä¸åŒèŠ‚ç‚¹åˆ°å‡ºå‘ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553616019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":197190,"user_name":"æ‹‰æ™®è¾¾","can_delete":false,"product_type":"c1","uid":1930686,"ip_address":"","ucode":"0E524C0D99B2A0","user_header":"https://static001.geekbang.org/account/avatar/00/1d/75/be/6f3ab95e.jpg","comment_is_top":false,"comment_ctime":1585362641,"is_pvip":false,"replies":[{"id":"75060","content":"äº¤æ›¿æ‰©å±•æ˜¯å¥½æ€è·¯","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ç”³","uid":"1275061","ctime":1585630641,"ip_address":"","comment_id":197190,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23060199121","product_id":100021201,"comment_content":"ä¸¤è¾¹å¹³å‡èŠ‚ç‚¹åº¦ä¸å‡åŒ€æ—¶ï¼Œä»èŠ‚ç‚¹åº¦å°çš„æ–¹å‘å•å‘æŸ¥æ‰¾æ•ˆç‡è¾ƒé«˜ã€‚æ­¤æ—¶å¦‚æœä¼˜åŒ–ï¼Œå¯ä»¥ç”¨ä¸¤è¾¹å‘ç°çš„å¥½å‹æ•°æ§åˆ¶ï¼Œå½“açš„å¥½å‹æ•°å¤§äºbçš„ï¼ŒæŠŠbçš„å¥½å‹å‘å¤–æ‰©å±•ä¸€åº¦ï¼Œå¦åˆ™æ‰©å±•açš„ã€‚è¿™æ ·äº¤æ›¿æ‰©å±•ï¼Œåº”è¯¥èƒ½æé«˜æ•ˆç‡","like_count":5,"discussions":[{"author":{"id":1275061,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/b5/b68e3740.jpg","nickname":"é»„ç”³","note":"","ucode":"EE9AC074A322FF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489471,"discussion_content":"äº¤æ›¿æ‰©å±•æ˜¯å¥½æ€è·¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585630641,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64618,"user_name":"é£è½¨","can_delete":false,"product_type":"c1","uid":1185844,"ip_address":"","ucode":"7B8A5233B61EB0","user_header":"https://static001.geekbang.org/account/avatar/00/12/18/34/c082419c.jpg","comment_is_top":false,"comment_ctime":1548836379,"is_pvip":false,"replies":[{"id":"22892","content":"è€ƒè™‘åˆ°äº†ç½‘ç»œçš„åŠ¨æ€æ”¹å˜ï¼Œè¿™ä¸ªæ€è·¯å¾ˆèµğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ç”³","uid":"1275061","ctime":1548868092,"ip_address":"","comment_id":64618,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18728705563","product_id":100021201,"comment_content":"&quot;åŒå‘å¹¿åº¦ä¼˜å…ˆæ¯”å•å‘å¹¿åº¦ä¼˜å…ˆæ›´é«˜æ•ˆ&quot;çš„å‰ææ¡ä»¶æ˜¯&quot;ä¸¤ä¸ªè¢«æœç´¢çš„èŠ‚ç‚¹å¿…é¡»æ˜¯è”é€šçš„&quot;å¦‚æœä¸æ˜¯è”é€šçš„ï¼Œä¸¤ä¸ªèŠ‚ç‚¹éƒ½ä¼šå°†ä»–ä»¬å„è‡ªçš„Nåº¦å¥½å‹éƒ½æ‰¾å‡ºæ¥ï¼Œä¸å¦‚åªæœç´¢å…¶ä¸­ä¸€ä¸ªï¼›<br>é’ˆå¯¹è¿™ç§æƒ…å†µå¯ä»¥ç»´æŠ¤ä¸€ä¸ªç½‘ç»œåˆ†å—ä¿¡æ¯è¡¨ï¼Œæ¯å½“æœ‰è¿æ¥åŠ å…¥è¿™ä¸ªç½‘ç»œæ—¶æ£€æŸ¥ä¸€ä¸‹å®ƒæ˜¯å¦å°†ä¸¤ä¸ªåˆ†å‰²çš„å—è¿æ¥èµ·æ¥äº†ï¼Œå¦‚æœæ˜¯å°†è¿™ä¸¤ä¸ªå—æ ‡è®°ä¸ºåŒä¸€ä¸ªå—ã€‚åœ¨æŸ¥æ‰¾çš„æ—¶å€™å°±æ–¹ä¾¿äº†ï¼Œå¦‚æœä¸¤ä¸ªèŠ‚ç‚¹æœ¬èº«å°±ä¸åœ¨ä¸€ä¸ªå—é‡Œé¢ï¼Œè·ç¦»ç›´æ¥å°±æ˜¯æ— ç©·è¿œã€‚ä½†æ˜¯å¦‚æœè¿™ä¸ªç½‘ç»œé‡Œé¢çš„è¿æ¥è¿˜èƒ½åˆ é™¤çš„è¯å°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œæ¯åˆ é™¤ä¸€æ¡è¾¹è¿˜è¦æ£€æŸ¥æ˜¯å¦å°†ä¸€ä¸ªå—åˆ†å‰²æˆäº†ä¸¤ä¸ªå—ï¼Œè®¡ç®—é‡æ¯”è¾ƒå¤§ã€‚<br><br>","like_count":4,"discussions":[{"author":{"id":1275061,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/b5/b68e3740.jpg","nickname":"é»„ç”³","note":"","ucode":"EE9AC074A322FF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438103,"discussion_content":"è€ƒè™‘åˆ°äº†ç½‘ç»œçš„åŠ¨æ€æ”¹å˜ï¼Œè¿™ä¸ªæ€è·¯å¾ˆèµğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548868092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1245596,"avatar":"https://static001.geekbang.org/account/avatar/00/13/01/9c/1a750bc7.jpg","nickname":"l c","note":"","ucode":"7D43CC471595EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288861,"discussion_content":"è¿™ä¹Ÿå°±æ˜¯å¹¶æŸ¥é›†çš„åŸºæœ¬æ€è·¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593913950,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203263,"user_name":"ç½—è€€é¾™@åå¿˜","can_delete":false,"product_type":"c1","uid":1917663,"ip_address":"","ucode":"3CEA258DE7F3C7","user_header":"https://static001.geekbang.org/account/avatar/00/1d/42/df/a034455d.jpg","comment_is_top":false,"comment_ctime":1586162716,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"10176097308","product_id":100021201,"comment_content":"èŒ¶è‰ºå¸ˆå­¦ç¼–ç¨‹<br><br>ä»Šå¤©è¯´åˆ°çš„åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œå…¶ä¸­çš„æ€æƒ³åœ¨ä¿¡æ¯è®ºä¸­ä¹Ÿæœ‰åº”ç”¨ï¼Œå°±æ˜¯æ­£äº¤ä¿¡æ¯ï¼Œå…¶å¤§ä½“æ„æ€ä¸º<br><br>ç”¨ä¸åŒçº¬åº¦çš„ä¿¡æ¯èƒ½å¾ˆå¥½åœ°æ¶ˆé™¤ä¸ç¡®å®šæ€§ï¼Œå¦‚æœä¿¡æ¯æ˜¯æ­£äº¤çš„ï¼Œæ•ˆæœæœ€å¥½ã€‚<br><br>è¿™å¥½æ¯”å¦‚ï¼Œåœ¨åŒ»é™¢çœ‹ç—…ï¼ŒåŒ»ç”Ÿä¸€èˆ¬ä¼šè¯·ä½ åšè¡€é¡¹æ£€éªŒå’ŒåŒ»å­¦å½±åƒæ‰«æï¼Œè¿™ä¸¤ç»„ä¸åŒçº¬åº¦çš„ä¿¡æ¯ï¼ˆæ£€æŸ¥ç»“æœï¼‰ç»„åˆèµ·æ¥ç”¨ï¼ŒåŒ»ç”Ÿå¯¹ä½ èº«ä½“å‡ºäº†ä»€ä¹ˆé—®é¢˜æœ‰æ•´ä½“çš„æŠŠæ¡ï¼ˆè™½ç„¶è¿™è¢«å¤§å®¶è¯Ÿç—…ä¸ºâ€œä¹±æ£€æŸ¥â€ï¼‰ã€‚ä½†å¦‚æœä¸€ä¸ªåŒ»ç”Ÿå¼€å‡ºäº†CTæ‰«æ+æ ¸ç£å…±æŒ¯ï¼Œå¤§å®¶éƒ½æ˜¯åŒä¸€çº¬åº¦çš„ï¼Œå‰é¢çš„CTæ‰«æå°±ç­‰äºç™½åšäº†ã€‚<br><br>è€Œè¿™æ ·çš„æ€æƒ³ï¼Œå…¶å®æˆ‘ä»¬è¿˜åœ¨å­¦ç”Ÿæ—¶ä»£å°±å·²ç»å®è·µè¿‡äº†ï¼Œé‚£å°±æ˜¯è€ƒè¯•å‰è€å¸ˆä¸€å†é‡å¤å¼ºè°ƒçš„ï¼Œâ€œæ£€æŸ¥é¢˜ç›®çš„æ—¶å€™ï¼Œè¦æ¢ä¸ªæ€è·¯ï¼ˆæ–¹æ³•ï¼‰æ¥ã€‚â€<br><br>è€ƒè¯•çš„é¢˜ç›®è‚¯å®šå­˜åœ¨ä¸åŒçš„è§£æ³•ã€‚ä½†æ˜¯ä»»æ„çš„é›†åˆAå’Œé›†åˆBæœ‰æ²¡æœ‰äº¤é›†ï¼Œäº¤é›†å¤§ä¸å¤§ï¼Œåœ¨ä¸€å¼€å§‹çš„æ—¶å€™æ˜¯ä¸æ¸…æ¥šçš„ï¼Œå› æ­¤åœ¨è¿™æ—¶å€™å°±ä½¿ç”¨åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œæˆ‘è§‰å¾—è¿™å¤§ç¥å¿ƒé‡Œæ˜¯æœ‰æŠŠæ¡çš„ï¼Œä»–å¯¹å°†è¦å¤„ç†æ•°æ®æœ‰å¤§ä½“çš„è®¤è¯†ã€‚","like_count":2},{"had_liked":false,"id":175555,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1580742795,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"5875710091","product_id":100021201,"comment_content":"æ·±åº¦ä¼˜å…ˆæœç´¢å ç”¨ç©ºé—´å°‘ï¼Œä½†æ˜¯é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼›å¹¿åº¦ä¼˜å…ˆæœç´¢å ç”¨ç©ºé—´å¤šï¼Œä½†æ˜¯è¿è¡Œé€Ÿåº¦å¿«ï¼Œå±äºç©ºé—´æ¢æ—¶é—´å§ã€‚è¿›ä¸€æ­¥ï¼ŒåŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œä¼¼ä¹ä¹Ÿæ˜¯ç”¨äº†æ›´å¤šçš„ç©ºé—´ï¼Œæ¥æ¢å–æœç´¢æ•ˆç‡ã€‚<br><br>å¯¹äºåæ¥é‚£ä¸ªèšç±»çš„ä¾‹å­ï¼Œæˆ‘æœ‰ç‚¹ä¸ç†è§£ï¼Œæ„Ÿè§‰æ›´å¤šçš„æ—¶é‡‡ç”¨äº†å‰ªæçš„æ€è·¯ï¼Œå’ŒåŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢å¥½åƒæ²¡ä»€ä¹ˆå…³ç³»ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è¯´æ˜¯æŠŠä¹‹å‰çš„æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œæ”¹ä¸ºäº†å¹¿åº¦ä¼˜å…ˆåŒæ—¶å‰ªæã€‚<br><br>å¯¹äºæ€è€ƒé¢˜ï¼Œåœ¨éœ€è¦åˆ—ä¸¾å…¨éƒ¨å¥½å‹å…³ç³»çš„æƒ…å†µä¸‹ï¼Œä»¥åŠåœ¨æ ‘çš„åˆ†å‰æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œä¼¼ä¹å•å‘å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ•ˆç‡æ›´é«˜ï¼Œä¸»è¦æ˜¯å› ä¸ºå‡å°‘äº†æ¯”å¯¹çš„å¤æ‚æ€§ã€‚<br><br>çœ‹äº†ä¸€ä¸‹å›å¤é‡Œé¢çš„ç­”æ¡ˆï¼Œè¯´æ˜¯åœ¨ a å’Œ b å¥½å‹åˆ†å¸ƒä¸å‡åŒ€çš„æƒ…å†µä¸‹ï¼Œä»å¥½å‹å°‘çš„ä¸€æ®µå¼€å§‹å•å‘å¹¿åº¦æœç´¢ï¼Œæ•ˆæœæ›´å¥½ã€‚<br><br>å­¦ä¹ äº† @è©æ çš„ Java ä»£ç  å’Œ @qinggeouye çš„ Python ä»£ç ","like_count":1},{"had_liked":false,"id":170035,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1578495360,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"5873462656","product_id":100021201,"comment_content":"ä¸å¥½æ„æ€ï¼ŒæŠŠ 12 è¯¾çš„ç•™è¨€è´´åˆ° 14 è¯¾è¿™é‡Œäº†ï¼Œè¯·è€å¸ˆå¿½ç•¥","like_count":1},{"had_liked":false,"id":169017,"user_name":"å»ºå¼º","can_delete":false,"product_type":"c1","uid":1397126,"ip_address":"","ucode":"62B03D0E0C64EC","user_header":"https://static001.geekbang.org/account/avatar/00/15/51/86/b5fd8dd8.jpg","comment_is_top":false,"comment_ctime":1578238174,"is_pvip":false,"replies":[{"id":"65858","content":"è¿™ä¸ªæƒ³æ³•å¾ˆå¥½ï¼Œç¡®å®å¯è¡ŒğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ç”³","uid":"1275061","ctime":1578427207,"ip_address":"","comment_id":169017,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5873205470","product_id":100021201,"comment_content":"æ€è€ƒé¢˜ï¼šä¸ªäººç†è§£ï¼Œå½“å¾…æŸ¥çš„ä¸¤ä¸ªç»“ç‚¹ç›¸è·è¾ƒè¿œï¼Œä¸”å„è‡ªéƒ½æœ‰å¤§é‡å¥½å‹æ—¶ï¼Œåˆ™æ¯å¾€å‰æœç´¢ä¸€æ­¥ï¼Œåˆ¤æ–­ä¸¤è€…å¥½å‹çš„äº¤é›†æ•ˆç‡ä¼šéå¸¸ä½ï¼Œå³hasOverlapå‡½æ•°çš„æ•ˆç‡ä¼šéå¸¸ä½ã€‚æ”¹è¿›çš„æ–¹æ³•ï¼Œæ˜¯å¦å¯è€ƒè™‘å…±ç”¨ä¸€ä¸ªvisitedè¡¨ï¼Œå¯ä»¥é‡‡ç”¨hashè¡¨å­˜è´®ï¼Œå­˜è´®å¥½å‹ç»“ç‚¹æ—¶ï¼Œè¿åŒæºèŠ‚ç‚¹çš„æ ‡è¯†ç¬¦ï¼ˆå³å¾…æŸ¥çš„ä¸¤ä¸ªç»“ç‚¹ï¼‰ä¸€èµ·å­˜å…¥ï¼Œå½“å‘ç°ç»“ç‚¹å­˜è´®æœ‰å†²çªï¼Œä¸”å†²çªçš„ä¸¤ä¸ªç»“ç‚¹çš„æºç»“ç‚¹æ ‡è¯†ç¬¦ä¸ä¸€è‡´ï¼Œåˆ™è¯´æ˜å‘ç°äº†ä¸¤ä¸ªå¾…æŸ¥ç»“ç‚¹çš„å…±åŒå¥½å‹ã€‚<br><br>ä»¥ä¸Šæ˜¯ä¸ªäººä¸€ç‚¹è‚¤æµ…ç†è§£ï¼Œè¯·è€å¸ˆæŒ‡æ­£ã€‚","like_count":1,"discussions":[{"author":{"id":1275061,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/b5/b68e3740.jpg","nickname":"é»„ç”³","note":"","ucode":"EE9AC074A322FF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480403,"discussion_content":"è¿™ä¸ªæƒ³æ³•å¾ˆå¥½ï¼Œç¡®å®å¯è¡ŒğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578427207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70499,"user_name":"qinggeouye","can_delete":false,"product_type":"c1","uid":1251536,"ip_address":"","ucode":"5B53EEDD7BEC9C","user_header":"https://static001.geekbang.org/account/avatar/00/13/18/d0/49b06424.jpg","comment_is_top":false,"comment_ctime":1551107802,"is_pvip":false,"replies":[{"id":"25371","content":"æ€è·¯æ˜¯å¯¹çš„ï¼Œä½¿ç”¨setå®ç°ä»£ç ä¹Ÿå¾ˆç®€æ´","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ç”³","uid":"1275061","ctime":1551202809,"ip_address":"","comment_id":70499,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5846075098","product_id":100021201,"comment_content":"https:&#47;&#47;github.com&#47;qinggeouye&#47;GeekTime&#47;blob&#47;master&#47;MathematicProgrammer&#47;14_breadthFirstSearch&#47;lesson14_1.py<br><br>ä¸¤ä¸ªé¢„ç•™æ–¹æ³•çš„ python å®ç°ï¼š<br><br>get_next_degree_friend(user_nodes, que, visited) å»æ‰äº† user_id_a å’Œ degree_a ä¸¤ä¸ªå‚æ•°ã€‚<br>å¦‚æœæŠŠ user_id_a çœ‹ä½œåœ†å¿ƒï¼Œå®ƒçš„ä¸€åº¦å¥½å‹çœ‹ä½œç¬¬ä¸€å±‚èŠ‚ç‚¹ï¼ŒäºŒåº¦å¥½å‹çœ‹ä½œç¬¬äºŒå±‚èŠ‚ç‚¹ .... ï¼Œque é˜Ÿåˆ—åªä¿ç•™æŸä¸€å±‚çš„èŠ‚ç‚¹å³å¯ï¼Œvisited ä»ä¿å­˜æ‰€æœ‰è®¿é—®è¿‡çš„èŠ‚ç‚¹ã€‚<br><br>def get_next_degree_friend(user_nodes, que, visited):<br>    &quot;&quot;&quot;<br>    :param user_nodes: ç”¨æˆ·èŠ‚ç‚¹ç½‘ç»œ<br>    :param que: æŸä¸€å±‚ç”¨æˆ·èŠ‚ç‚¹ å³ç¬¬å‡ åº¦å¥½å‹<br>    :param visited: å·²è®¿é—®çš„æ‰€æœ‰ç”¨æˆ·èŠ‚ç‚¹<br>    :return:<br>    &quot;&quot;&quot;<br>    que_return = queue.Queue()  # åªä¿å­˜æŸä¸ªç”¨æˆ·çš„ç¬¬å‡ åº¦å¥½å‹<br>    visited_return = set()  # ä¿å­˜ä»æŸä¸ªç”¨æˆ·å¼€å§‹åˆ°ç¬¬å‡ åº¦å¥½å‹<br>    while not que.empty():<br>        current_user_id = que.get()<br>        if user_nodes[current_user_id] is None:<br>            continue<br>        for friend_id in user_nodes[current_user_id].friends:<br>            if user_nodes[friend_id] is None:<br>                continue<br>            if friend_id in visited:<br>                continue<br>            que_return.put(friend_id)<br>            visited_return.add(friend_id)  # è®°å½•å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹<br>    return que_return, visited_return<br><br>def has_overlap(visited_a, visited_b):<br>    # ä¸¤ä¸ª set() çš„äº¤é›†<br>    return len(visited_a &amp; visited_b) &gt; 0<br><br>#æµ‹è¯•ç»“æœï¼š<br>if __name__ == &quot;__main__&quot;:<br>    user_nodes_list = set_user_relation(10, 20)<br>    for i in range(len(user_nodes_list)):<br>        print(&quot;ç”¨æˆ· %s çš„å¥½å‹: %s&quot; % (user_nodes_list[i].user_id, user_nodes_list[i].friends))<br>    print(&quot;---------åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢---------&quot;)<br>    print(&quot;ä¸¤ä¸ªç”¨æˆ·èŠ‚ç‚¹ 1å’Œ2 ä¹‹é—´çš„æœ€çŸ­è·¯å¾„é•¿åº¦ï¼š&quot;, bi_bfs(user_nodes_list, 1, 2))<br><br>ç”¨æˆ· 0 çš„å¥½å‹: {8, 2, 3, 6}<br>ç”¨æˆ· 1 çš„å¥½å‹: {8, 3, 5}<br>ç”¨æˆ· 2 çš„å¥½å‹: {0, 4}<br>ç”¨æˆ· 3 çš„å¥½å‹: {0, 1, 4, 5, 8, 9}<br>ç”¨æˆ· 4 çš„å¥½å‹: {2, 3}<br>ç”¨æˆ· 5 çš„å¥½å‹: {9, 3, 6, 1}<br>ç”¨æˆ· 6 çš„å¥½å‹: {0, 8, 5}<br>ç”¨æˆ· 7 çš„å¥½å‹: {9}<br>ç”¨æˆ· 8 çš„å¥½å‹: {0, 1, 3, 6, 9}<br>ç”¨æˆ· 9 çš„å¥½å‹: {8, 3, 5, 7}<br>---------åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢---------<br>ä¸¤ä¸ªç”¨æˆ·èŠ‚ç‚¹ 1å’Œ2 ä¹‹é—´çš„æœ€çŸ­è·¯å¾„é•¿åº¦ï¼š 3","like_count":1,"discussions":[{"author":{"id":1275061,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/b5/b68e3740.jpg","nickname":"é»„ç”³","note":"","ucode":"EE9AC074A322FF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440667,"discussion_content":"æ€è·¯æ˜¯å¯¹çš„ï¼Œä½¿ç”¨setå®ç°ä»£ç ä¹Ÿå¾ˆç®€æ´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551202809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62931,"user_name":"Joe","can_delete":false,"product_type":"c1","uid":1337998,"ip_address":"","ucode":"EC76699640B7BF","user_header":"https://static001.geekbang.org/account/avatar/00/14/6a/8e/7b6ea886.jpg","comment_is_top":false,"comment_ctime":1548209188,"is_pvip":false,"replies":[{"id":"22356","content":"è®¡ç®—â€œå…¬å¸â€é‚£ä¸€å±‚æ˜¯ï¼Œä¸€å¼€å§‹è¿˜æ˜¯éœ€è¦100 * 5ä¸ªè®¡æ•°å™¨ï¼Œä¹‹åæ‰ä¼šå–å‰1ä¸ªï¼Œä¹Ÿå°±æ˜¯100*1ã€‚å¯¹äºâ€œåŒäº‹â€é‚£ä¸€å±‚åŒç†","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ç”³","uid":"1275061","ctime":1548272536,"ip_address":"","comment_id":62931,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5843176484","product_id":100021201,"comment_content":"æœ€åä¸€ä¸ªå›¾æ²¡æœ‰çœ‹æ˜ç™½ï¼Œå›¾å’Œè®¡ç®—ç»“æœå¯¹ä¸ä¸Šå§ã€‚ä¸åº”è¯¥æ˜¯5000+100+100+300å§","like_count":1,"discussions":[{"author":{"id":1275061,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/b5/b68e3740.jpg","nickname":"é»„ç”³","note":"","ucode":"EE9AC074A322FF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437408,"discussion_content":"è®¡ç®—â€œå…¬å¸â€é‚£ä¸€å±‚æ˜¯ï¼Œä¸€å¼€å§‹è¿˜æ˜¯éœ€è¦100 * 5ä¸ªè®¡æ•°å™¨ï¼Œä¹‹åæ‰ä¼šå–å‰1ä¸ªï¼Œä¹Ÿå°±æ˜¯100*1ã€‚å¯¹äºâ€œåŒäº‹â€é‚£ä¸€å±‚åŒç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548272536,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62536,"user_name":"è’‹å®ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1088541,"ip_address":"","ucode":"02226CABD5ECE7","user_header":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","comment_is_top":false,"comment_ctime":1548084809,"is_pvip":false,"replies":[{"id":"22152","content":"åé¢ä¼šæ•´ç†ä»£ç çš„Githubï¼Œä¾›å¤§å®¶å‚è€ƒ","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ç”³","uid":"1275061","ctime":1548121881,"ip_address":"","comment_id":62536,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5843052105","product_id":100021201,"comment_content":"ä»£ç å¸ƒå±€æœ‰äº›é”™ä¹±","like_count":1,"discussions":[{"author":{"id":1275061,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/b5/b68e3740.jpg","nickname":"é»„ç”³","note":"","ucode":"EE9AC074A322FF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437251,"discussion_content":"åé¢ä¼šæ•´ç†ä»£ç çš„Githubï¼Œä¾›å¤§å®¶å‚è€ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548121881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60557,"user_name":"è‰åŸä¸Šçš„å¥”è·‘","can_delete":false,"product_type":"c1","uid":1120348,"ip_address":"","ucode":"D69C617F767736","user_header":"https://static001.geekbang.org/account/avatar/00/11/18/5c/1a58e8f6.jpg","comment_is_top":false,"comment_ctime":1547512355,"is_pvip":false,"replies":[{"id":"21693","content":"å¯¹ï¼Œå‰æè¦è¿é€šï¼Œå¦åˆ™å°±æ— è§£äº†ã€‚ç¼–ç çš„æ—¶å€™å¯ä»¥åŠ ä¸ªåˆ¤æ–­ï¼Œè·¯å¾„é•¿åº¦æ˜¯å¦å·²ç»è¶…å‡ºä¸€ä¸ªçš„é˜ˆå€¼ï¼Œæˆ–è€…æ˜¯å¦æœ‰æ–°çš„ç»“ç‚¹å‘ç°ï¼Œå¯ä»¥é˜²æ­¢ä»£ç åœ¨ä¸¤è€…ä¸è¿é€šçš„æƒ…å†µä¸‹ï¼Œé™·å…¥æ­»å¾ªç¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ç”³","uid":"1275061","ctime":1547574590,"ip_address":"","comment_id":60557,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5842479651","product_id":100021201,"comment_content":"åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢åº”è¯¥æ˜¯ä¸¤ä¸ªç‚¹è¦è”é€šå§ï¼Œæ„Ÿè§‰è¿™æ˜¯ä¸€ä¸ªå‰ææ¡ä»¶ã€‚å›¾è®ºè¿™å—å†…å®¹ï¼Œå·²ç»è§¦åŠåˆ°æˆ‘çš„ç›²åŒºäº†ï¼Œä½†æ˜¯å»ºç«‹åœ¨è¿™ä¹‹ä¸Šçš„å†…å®¹å¾ˆé‡è¦ï¼Œæ·±åº¦æœç´¢å’Œå¹¿åº¦æœç´¢éƒ½æ˜¯å‘ä¸€ä¸ªèµ„æ·±ç¨‹åºå‘˜è¿ˆè¿›è¦èµ°çš„è·¯ã€‚è™½ç„¶èµ°çš„æ—¶å€™å¾ˆç—›è‹¦ï¼Œä½†ä¾ç„¶åšæŒï¼Œæˆ‘å–œæ¬¢çœ‹åˆ°è·¯å°½å¤´çš„å½©è™¹ã€‚","like_count":1,"discussions":[{"author":{"id":1275061,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/b5/b68e3740.jpg","nickname":"é»„ç”³","note":"","ucode":"EE9AC074A322FF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436538,"discussion_content":"å¯¹ï¼Œå‰æè¦è¿é€šï¼Œå¦åˆ™å°±æ— è§£äº†ã€‚ç¼–ç çš„æ—¶å€™å¯ä»¥åŠ ä¸ªåˆ¤æ–­ï¼Œè·¯å¾„é•¿åº¦æ˜¯å¦å·²ç»è¶…å‡ºä¸€ä¸ªçš„é˜ˆå€¼ï¼Œæˆ–è€…æ˜¯å¦æœ‰æ–°çš„ç»“ç‚¹å‘ç°ï¼Œå¯ä»¥é˜²æ­¢ä»£ç åœ¨ä¸¤è€…ä¸è¿é€šçš„æƒ…å†µä¸‹ï¼Œé™·å…¥æ­»å¾ªç¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547574590,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352847,"user_name":"013923","can_delete":false,"product_type":"c1","uid":3035193,"ip_address":"é™•è¥¿","ucode":"1214DAADBCA848","user_header":"","comment_is_top":false,"comment_ctime":1658979698,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1658979698","product_id":100021201,"comment_content":"è°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":268625,"user_name":"å‡¹å‡¸é¸¿","can_delete":false,"product_type":"c1","uid":1915334,"ip_address":"","ucode":"A458BAEBF314B2","user_header":"https://static001.geekbang.org/account/avatar/00/1d/39/c6/1e12f271.jpg","comment_is_top":false,"comment_ctime":1608277490,"is_pvip":false,"replies":[{"id":"97576","content":"ä¸ªäººè§‰å¾—å“ˆå¸Œã€ç¼“å­˜ã€æ•°æ®åº“ç´¢å¼•ç­‰åŸºæœ¬æŠ€æœ¯éƒ½æ˜¯å¯ä»¥è€ƒè™‘çš„ã€‚å¦å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘åº”ç”¨å’Œæ•°æ®çš„ç‰¹æ€§ï¼Œçœ‹çœ‹å“ªç§æŠ€æœ¯æ‰æˆ–è€…å“ªäº›æŠ€æœ¯çš„ç»“åˆï¼Œæ‰æ˜¯æœ€é€‚åˆçš„","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ç”³","uid":"1275061","ctime":1608506186,"ip_address":"","comment_id":268625,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1608277490","product_id":100021201,"comment_content":"è€å¸ˆï¼Œä¸Šäº¿çº§åˆ«æ•°æ®çš„é¡¹ç›®æ•°æ®åº“è¦æ€ä¹ˆè®¾è®¡ï¼Ÿæ€ä¹ˆåšåˆ°æŸ¥è¯¢æœ€ä¼˜ï¼Œç°åœ¨ä¸€ä¸ª400ä¸‡æ•°æ®çš„è¡¨æŸ¥è¯¢èŠ±äº†30ç§’","like_count":0,"discussions":[{"author":{"id":1275061,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/b5/b68e3740.jpg","nickname":"é»„ç”³","note":"","ucode":"EE9AC074A322FF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511991,"discussion_content":"ä¸ªäººè§‰å¾—å“ˆå¸Œã€ç¼“å­˜ã€æ•°æ®åº“ç´¢å¼•ç­‰åŸºæœ¬æŠ€æœ¯éƒ½æ˜¯å¯ä»¥è€ƒè™‘çš„ã€‚å¦å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘åº”ç”¨å’Œæ•°æ®çš„ç‰¹æ€§ï¼Œçœ‹çœ‹å“ªç§æŠ€æœ¯æ‰æˆ–è€…å“ªäº›æŠ€æœ¯çš„ç»“åˆï¼Œæ‰æ˜¯æœ€é€‚åˆçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608506186,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":267372,"user_name":"å‡¹å‡¸é¸¿","can_delete":false,"product_type":"c1","uid":1915334,"ip_address":"","ucode":"A458BAEBF314B2","user_header":"https://static001.geekbang.org/account/avatar/00/1d/39/c6/1e12f271.jpg","comment_is_top":false,"comment_ctime":1607697410,"is_pvip":false,"replies":[{"id":"97155","content":"è¿™é‡Œåªæ˜¯ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå¹¶éå’Œå‰å›¾å¯¹åº”","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ç”³","uid":"1275061","ctime":1607793842,"ip_address":"","comment_id":267372,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1607697410","product_id":100021201,"comment_content":"æ¯”å¦‚è¯´ï¼Œå½“å‰ç»“ç‚¹æ˜¯ 4ï¼Œä»ç»“ç‚¹ 1 åˆ°ç»“ç‚¹ 4 æ˜¯ 3 åº¦ï¼Œç»“ç‚¹ 2 åˆ°ç»“ç‚¹ 4 æ˜¯ 2 åº¦ï¼Œç»“ç‚¹ 3 åˆ°ç»“ç‚¹ 4 æ˜¯ 4 åº¦---èŠ‚ç‚¹3åˆ°èŠ‚ç‚¹4ä¸ºä»€ä¹ˆæ˜¯4åº¦ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1275061,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/b5/b68e3740.jpg","nickname":"é»„ç”³","note":"","ucode":"EE9AC074A322FF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511619,"discussion_content":"è¿™é‡Œåªæ˜¯ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå¹¶éå’Œå‰å›¾å¯¹åº”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607793842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":267370,"user_name":"å‡¹å‡¸é¸¿","can_delete":false,"product_type":"c1","uid":1915334,"ip_address":"","ucode":"A458BAEBF314B2","user_header":"https://static001.geekbang.org/account/avatar/00/1d/39/c6/1e12f271.jpg","comment_is_top":false,"comment_ctime":1607697301,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607697301","product_id":100021201,"comment_content":"æ¯”å¦‚è¯´ï¼Œå½“å‰ç»“ç‚¹æ˜¯ 4ï¼Œä»ç»“ç‚¹ 1 åˆ°ç»“ç‚¹ 4 æ˜¯ 3 åº¦ï¼Œç»“ç‚¹ 2 åˆ°ç»“ç‚¹ 4 æ˜¯ 2 åº¦ï¼Œç»“ç‚¹ 3 åˆ°ç»“ç‚¹ 4 æ˜¯ 4 åº¦","like_count":0},{"had_liked":false,"id":188756,"user_name":"å–»èŒ‚","can_delete":false,"product_type":"c1","uid":1318661,"ip_address":"","ucode":"C8BD8086A17365","user_header":"https://static001.geekbang.org/account/avatar/00/14/1f/05/8a06692e.jpg","comment_is_top":false,"comment_ctime":1584411982,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584411982","product_id":100021201,"comment_content":"&lt;?php<br>&#47;&#47; ç”¨æˆ·èŠ‚ç‚¹ç›¸å…³ç±»<br>class Node {<br>\tpublic $user_id;&#47;&#47; ç”¨æˆ·id<br>\tpublic $friends = []; &#47;&#47; æœ‹å‹èŠ‚ç‚¹id<br>\tpublic $degree_a;&#47;&#47; ä¸aå¥½å‹åº¦æ•°<br>\tpublic $degree_b;&#47;&#47; ä¸bå¥½å‹åº¦æ•°<br>\tpublic function __construct($user_id) {<br>\t\t$this-&gt;user_id = $user_id;<br>\t\t$this-&gt;degree_a = 0;<br>\t\t$this-&gt;degree_b = 0;<br>\t}<br>}<br>&#47;**<br> * åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢<br> *&#47;<br>function bi_bfs($user_nodes,$user_id_a,$user_id_b) {<br>\tif(empty($user_nodes[$user_id_a]) || empty($user_nodes[$user_id_b])) { &#47;&#47; a b ä¸­æŸä¸€ç”¨æˆ·ä¸å­˜åœ¨<br>\t\treturn -1;<br>\t}<br>\tif ($user_id_a == $user_id_b) return 0;    &#47;&#47; ä¸¤ä¸ªç”¨æˆ·æ˜¯åŒä¸€äººï¼Œç›´æ¥è¿”å›0<br>\t$queueArr_a = [];<br>\t$queueArr_b = [];<br>\t$visited_a = [];&#47;&#47; å­˜æ”¾å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹<br>\t$visited_b = [];&#47;&#47; å­˜æ”¾å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹<br>\t$visited_a[] = $user_id_a; <br>\t$visited_b[] = $user_id_b;<br>\t$degree_a = 0;<br>\t$degree_b = 0;<br>\t$max_degree = 20;&#47;&#47; max_degreeçš„è®¾ç½®ï¼Œé˜²æ­¢ä¸¤è€…ä¹‹é—´ä¸å­˜åœ¨é€šè·¯çš„æƒ…å†µ<br>\tarray_push($queueArr_a,$user_id_a);<br>\tarray_push($queueArr_b,$user_id_b);<br>\t<br>\twhile ($degree_a + $degree_b &lt; $max_degree) {<br>\t\t$degree_a++;<br>\t\t$queueArr_a_friends = [];<br>\t\t$queueArr_b_friends = [];<br>\t\t<br>\t\t&#47;&#47; å…ˆä»aæ–¹å‘å¹¿åº¦ä¼˜å…ˆæœç´¢<br>\t\t$queueArr_a_friends = getNextDegreeFriend($user_id_a,$user_nodes,<br>\t\t\t$queueArr_a,$queueArr_a_friends,$visited_a,1);<br>\t\t<br>\t\t&#47;&#47; å¤„ç†å®Œæ‰€æœ‰å½“å‰å±‚å¥½å‹ åˆ¤æ–­ä¸bçš„æœç´¢ç»“æœä¸­æœ‰æ²¡æœ‰äº¤é›†<br>\t\tif (hasOverlap($visited_a, $visited_b)){<br>\t\t\treturn ($degree_a + $degree_b);<br>\t\t} else {<br>\t\t\t$queueArr_a = $queueArr_a_friends;<br>\t\t}<br>\t\t$degree_b++;<br>\t\t&#47;&#47; å…ˆä»bæ–¹å‘å¹¿åº¦ä¼˜å…ˆæœç´¢<br>\t\t$queueArr_b_friends = getNextDegreeFriend($user_id_b,$user_nodes,<br>\t\t\t$queueArr_b,$queueArr_b_friends,$visited_b,0);<br>\t\t<br>\t\t&#47;&#47; å¤„ç†å®Œæ‰€æœ‰å½“å‰å±‚å¥½å‹ åˆ¤æ–­ä¸bçš„æœç´¢ç»“æœä¸­æœ‰æ²¡æœ‰äº¤é›†<br>\t\tif (hasOverlap($visited_a, $visited_b)){<br>\t\t\treturn ($degree_a + $degree_b);<br>\t\t} else {<br>\t\t\t$queueArr_b = $queueArr_b_friends;<br>\t\t}<br>\t\t<br>\t}<br>}","like_count":0},{"had_liked":false,"id":170033,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1578495235,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"1578495235","product_id":100021201,"comment_content":"åœ¨æ•°å­¦è¯¾é‡Œé¢çœ‹åˆ°å…³äºç”¨æ•°æ®ç»“æ„è¡¨è¾¾æ ‘ï¼Œè¿˜æ˜¯æ„Ÿè§‰æœ‰ç‚¹å¥‡æ€ªï¼Œä¸è¿‡ä½œè€…ç»™å‡ºçš„ TreeNode åº”è¯¥ç®—æ˜¯æ¯”è¾ƒç»å…¸çš„ä¸€ç§ï¼Œå­¦ä¹ äº†ã€‚æˆ‘è§‰çš„å‰ç¼€æ ‘é‡Œé¢ prefix å’Œ label çš„è®¾è®¡ï¼Œå¾ˆæœ‰æƒ³æ³•ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„åšå‰ç¼€æ ‘çš„æœç´¢ï¼Œä»¥å‰å¯èƒ½æ˜¯å¿½ç•¥äº†è¿™ä¸€éƒ¨åˆ†ã€‚<br><br>ä½¿ç”¨ TreeNode å’Œ Stack å®ç°æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œè¿˜æ˜¯æ¯”è¾ƒå·§å¦™çš„ï¼Œè™½ç„¶ä¹Ÿè®¸é€’å½’çš„å†™æ³•çœ‹ä¸Šå»ä¼šæ›´ç®€å•ä¸€äº›ã€‚<br><br>ä½¿ç”¨ä¸´æ—¶æ ˆæ¥ä¿è¯å­èŠ‚ç‚¹çš„è®¿é—®é¡ºåºå’Œé€’å½’éå†æ—¶çš„è®¿é—®é¡ºåºä¸€è‡´ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„åœ°æ–¹ã€‚<br><br>è‡ªå·±ç”¨ä»£ç å®ç°æ¯”è¾ƒå›°éš¾ï¼Œæ‰€ä»¥è¿˜æ˜¯å­¦ä¹ äº†ç•™è¨€ä¸­çš„ä»£ç ï¼Œå…¶ä¸­ @qinggeouye çš„ Python ä»£ç æœ€ä¸ºæ¼‚äº®ï¼Œæ„Ÿè°¢ã€‚<br><br>å¦‚æœåœ¨å›¾ä¸­è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œä¸€ä¸ªæ˜¯è¦è®°å½•èµ°è¿‡çš„èŠ‚ç‚¹ï¼Œå¦å¤–ä¸€ä¸ªå°±æ˜¯å¯èƒ½æ²¡æœ‰åŠæ³•ä¿éšœç¬¬ä¸€æ¬¡å°±èµ°å®Œæœ€é•¿çš„è·¯çº¿ï¼Œå› ä¸ºæ‰€æœ‰çš„ç‚¹éƒ½æ˜¯å¹³çº§çš„ï¼Œæ²¡æœ‰çˆ¶å­å…³ç³»ã€‚æ‰€ä»¥ï¼Œå¯¹å›¾æ¥è¯´ï¼Œæ˜¯ä¸æ˜¯æ²¡æœ‰æ·±åº¦ä¼˜å…ˆå’Œå¹¿åº¦ä¼˜å…ˆçš„è¯´æ³•ï¼Œåªæœ‰éå†è€Œå·²ã€‚","like_count":0},{"had_liked":false,"id":167653,"user_name":"cwtxz","can_delete":false,"product_type":"c1","uid":1778151,"ip_address":"","ucode":"4F35AEDB8F5D5D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/BAuQlia9Dc07m3icOkibIqu2lhbnLD6cjgCNE8FSzG5Aj4cd26eRgspicTsWvA7WK1ftlQBD34PYRucZRXML5FA27A/132","comment_is_top":false,"comment_ctime":1577887271,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577887271","product_id":100021201,"comment_content":"è¯´å®è¯ï¼Œä»äº‹ç¼–ç¨‹è¿™é¡¹å·¥ä½œæœ‰äº›å¹´å¤´äº†ï¼Œç”±äºä¸šåŠ¡éœ€è¦ï¼Œè‡ªå·±ä¹Ÿæ—¶å¸¸ä¼šåˆ©ç”¨ä¸€äº›å¯ä¸æ—¶é—´æ¥å­¦ä¹ ç ”ç©¶åŸºæœ¬çš„æ•°æ®ç»“æ„ä¸ç®—æ³•ã€‚ä»æœ€å¼€å§‹çš„æ•°ç»„ã€æ ˆã€é˜Ÿåˆ—åˆ°åé¢ç¨å¾®å¤æ‚çš„é“¾è¡¨ã€å­—å…¸ã€æ•£åˆ—è¡¨ï¼Œè¿™äº›çº¿æ€§çš„æ•°æ®ç»“æ„äºæˆ‘è€Œè¨€éƒ½è¿˜ç®—å¯ä»¥å¿«é€Ÿç†è§£ã€ä¸Šæ‰‹å¹¶åŠ ä»¥å®è·µï¼Œä½†æ˜¯ä¸€æ—¦å¼€å§‹è¿›å…¥æ ‘ä¸å›¾çš„å­¦ä¹ ï¼Œå­¦ä¹ éš¾åº¦å‘ˆé›†åˆçº§æ•°ä¸Šå‡ï¼Œå­¦ä¹ èµ·è¿™äº›éçº¿æ€§çš„æ•°æ®ç»“æ„çœŸæ˜¯è®©æˆ‘ä¸€ä¸ªå¤´ä¸¤ä¸ªå¤§ï¼Œå­¦ä¹ èµ·æ¥ç‰¹åˆ«åƒåŠ›ï¼Œå¾ˆå¤šç®—æ³•å®åœ¨æ˜¯æƒ³ä¸å‡ºæ¥ï¼Œåªå¥½å›«å›µåæ£åœ°æŠŠå®ƒç»™è®°ä½ï¼Œæˆ‘çŸ¥é“è¿™æ ·ä¸å¥½ï¼Œä½†æ˜¯ï¼Œæ²¡åŠæ³•ï¼Œæˆ‘å®åœ¨æ˜¯æ— æ³•ç†è§£ã€‚å­¦ä¹ äº†è€å¸ˆçš„â€œæ ‘çš„ä¼˜å…ˆæœç´¢â€è¿™å‡ ç« çš„å†…å®¹ï¼Œä¼¼ä¹æœ‰ç§è±ç„¶å¼€æœ—çš„æ„Ÿè§‰ï¼Œå›°æ‰°æˆ‘è®¸ä¹…çš„é—®é¢˜ç°åœ¨ä¹Ÿèƒ½æƒ³é€šäº†ï¼Œè¯´æ˜è€å¸ˆè®²å¾—å®åœ¨å¾ˆæ£’!!!","like_count":0},{"had_liked":false,"id":159124,"user_name":"teddytyy","can_delete":false,"product_type":"c1","uid":1268738,"ip_address":"","ucode":"E1569D81A4154E","user_header":"https://static001.geekbang.org/account/avatar/00/13/5c/02/e7af1750.jpg","comment_is_top":false,"comment_ctime":1575542396,"is_pvip":false,"replies":[{"id":"60883","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ç”³","uid":"1275061","ctime":1575573478,"ip_address":"","comment_id":159124,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1575542396","product_id":100021201,"comment_content":"åº¦æ•°å°çš„æƒ…å†µï¼Œå•å‘å¹¿åº¦ä¼˜å…ˆæ›´æœ‰æ•ˆ","like_count":0,"discussions":[{"author":{"id":1275061,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/b5/b68e3740.jpg","nickname":"é»„ç”³","note":"","ucode":"EE9AC074A322FF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476958,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575573478,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":144384,"user_name":"å¼ æ´‹","can_delete":false,"product_type":"c1","uid":1182914,"ip_address":"","ucode":"549BE5DEEF8417","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/c2/bad34a50.jpg","comment_is_top":false,"comment_ctime":1571907999,"is_pvip":true,"replies":[{"id":"55792","content":"ä»æ•°é‡çº§æ¥çœ‹æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯å®é™…å·®åˆ«è¿˜æ˜¯å¾ˆå¤§","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ç”³","uid":"1275061","ctime":1572023591,"ip_address":"","comment_id":144384,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571907999","product_id":100021201,"comment_content":"æ„Ÿè§‰å•å‘å¯ä»¥çœ‹ä½œO(n^2)æŒ‡æ•°çº§åˆ«çš„å¢é•¿  åŒå‘çš„æ›´è¶‹è¿‘äºO(2*n)çš„å¢é•¿","like_count":0,"discussions":[{"author":{"id":1275061,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/b5/b68e3740.jpg","nickname":"é»„ç”³","note":"","ucode":"EE9AC074A322FF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471914,"discussion_content":"ä»æ•°é‡çº§æ¥çœ‹æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯å®é™…å·®åˆ«è¿˜æ˜¯å¾ˆå¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572023591,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62668,"user_name":"ğŸŒğŸ‡¨ğŸ‡³ğŸ‘¦","can_delete":false,"product_type":"c1","uid":1168085,"ip_address":"","ucode":"6BB08F05546D06","user_header":"https://static001.geekbang.org/account/avatar/00/11/d2/d5/ed93f2fa.jpg","comment_is_top":false,"comment_ctime":1548126949,"is_pvip":false,"replies":[{"id":"22219","content":"å¾ˆå¥½çš„è§‚å¯ŸğŸ‘ è¿™æ ·ç¡®å®å¯ä»¥åœ¨å®ç°çš„æ—¶å€™è¿›è¡Œä¼˜åŒ–","user_name":"ä½œè€…å›å¤","user_name_real":"é»„ç”³","uid":"1275061","ctime":1548170888,"ip_address":"","comment_id":62668,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548126949","product_id":100021201,"comment_content":"æ–‡ä¸­æè¿°äº¤æ›¿çœ‹ä¸¤è¾¹æ˜¯å¦æœ‰äº¤é›†çš„æ®µè½ï¼Œb,b{1}æ˜¯å¦å‡ºç°åœ¨a,a{1},a{2}ï¼Œæ˜¯ä¸æ˜¯æ²¡æœ‰å¿…è¦å‘¢ï¼Œå› ä¸ºå‰é¢å·²ç»åˆ¤æ–­äº†a,a{1}ä¸åœ¨b,b{1}çš„å¹¶é›†ä¸­ï¼Œæ˜¯ä¸æ˜¯åªéœ€åˆ¤æ–­b,b{1}æ˜¯å¦å‡ºç°åœ¨a{2}å³å¯","like_count":0,"discussions":[{"author":{"id":1275061,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/b5/b68e3740.jpg","nickname":"é»„ç”³","note":"","ucode":"EE9AC074A322FF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437297,"discussion_content":"å¾ˆå¥½çš„è§‚å¯ŸğŸ‘ è¿™æ ·ç¡®å®å¯ä»¥åœ¨å®ç°çš„æ—¶å€™è¿›è¡Œä¼˜åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548170888,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":301765,"title":"22 | 语法面面观：迭代器（二）","content":"<p><strong>课件及Demo下载链接</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-Rust\">https://gitee.com/geektime-geekbang/geektime-Rust</a></p>","comments":[{"had_liked":false,"id":343399,"user_name":"万正宇","can_delete":false,"product_type":"c3","uid":2985047,"ip_address":"","ucode":"B8E70029D5F131","user_header":"https://static001.geekbang.org/account/avatar/00/2d/8c/57/b7bc2b9e.jpg","comment_is_top":false,"comment_ctime":1650816898,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100060601,"comment_content":"--021\n\n&#47;&#47; trait Iterator {\n&#47;&#47;     type Item;  &#47;&#47;关联类型\n&#47;&#47;     fn next(&amp;mut self) -&gt; Option&lt;Self::Item&gt;;   &#47;&#47;Some(Item)\n&#47;&#47; }\n\n\n&#47;&#47; trait InIterator&lt;i32&gt; {\n&#47;&#47;     fn each&lt;F: Fn(i32) -&gt; i32&gt;(&amp;mut self, f: F);\n&#47;&#47; }\n\n&#47;&#47; impl InIterator&lt;i32&gt; for Vec&lt;i32&gt; {\n&#47;&#47;     fn each&lt;F: Fn(i32) -&gt; i32&gt;(&amp;mut self, f: F) {\n&#47;&#47;         let mut i = 0;\n&#47;&#47;         while i &lt; self.len() {\n&#47;&#47;             self[i] = f(self[i]);\n&#47;&#47;             i += 1;\n&#47;&#47;         }\n&#47;&#47;     }\n&#47;&#47; }\n\n&#47;&#47; #[warn(non_camel_case_types)]\n&#47;&#47; fn main() {\n&#47;&#47;     let mut v = vec![3, 4];\n&#47;&#47;     v.each(|i|{ i*i });\n&#47;&#47;     for item in &amp;v {\n&#47;&#47;         println!(&quot;{:?}&quot;, item);\n&#47;&#47;     }\n&#47;&#47; }\n\n&#47;&#47; Intolter, Iter, IterMut,  迭代，适配，消费器\n&#47;&#47; into_iter(),iter(),iter_mut()\n\n&#47;&#47; https:&#47;&#47;doc.rust-lang.org&#47;std&#47;vec&#47;struct.Vec.html#impl-IntoIterator\n\n&#47;&#47; impl&lt;&#39;a, T&gt; Iter&lt;&#39;a, T&gt; {..}\n&#47;&#47; impl&lt;&#39;a, T&gt; IterMut&lt;&#39;a, T&gt; {..}\n\n&#47;&#47; 迭代器模式\n&#47;&#47; 三方库itertools\n\n\n--022\n\n&#47;**\nlet v: Vec&lt;i32&gt; = [1, 2, 3].into_iter().map(|x| x + 1).rev().collect();\nFromIterator Trait\ncollect收集\n视图\nIntolter, Iter, IterMut,  迭代，适配(包装)，消费器\ninto_iter(),iter(),iter_mut()\n\nhttps:&#47;&#47;doc.rust-lang.org&#47;src&#47;core&#47;iter&#47;adapters&#47;map.rs.html#61-65\n\nhttps:&#47;&#47;github.com&#47;rust-itertools&#47;itertools\n*&#47;","like_count":0}]}
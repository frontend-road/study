{"id":326153,"title":"21 | å¤šä¼ æ„Ÿå™¨é›†æˆï¼šæµ‡èŠ±æ€ä¹ˆå®ç°è‡ªåŠ¨åŒ–ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯éƒ­æœæ–Œã€‚</p><p>åœ¨å‰å‡ è®²çš„å®æˆ˜ä¸­ï¼Œæˆ‘ä»¬å·²ç»å®Œæ•´åœ°å®ç°äº†ä¸€ä¸ªæ™ºèƒ½å®¶å±…çš„ç…§æ˜åœºæ™¯ã€‚ä½ ä¸ä½†å¯ä»¥ç”¨æ‰‹æœºå°ç¨‹åºæ§åˆ¶æ™ºèƒ½ç”µç¯çš„å¼€å…³ã€äº®åº¦å’Œé¢œè‰²ï¼Œä¹Ÿèƒ½è®©æ™ºèƒ½ç”µç¯æ ¹æ®å…‰ç…§å¼ºåº¦è‡ªåŠ¨åœ°æ‰“å¼€å’Œå…³é—­ï¼Œç”šè‡³ä½ è¿˜å¯ä»¥è¯­éŸ³æ¥æ“æ§å®ƒã€‚</p><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½ åº”è¯¥å·²ç»æŒæ¡äº†åŸºäºç¡¬ä»¶å¼€å‘æ¿å¿«é€Ÿåœ°å¼€å‘æ™ºèƒ½ç¡¬ä»¶çš„æ–¹æ³•ã€‚è¿™ä¸€è®²ä¸­ï¼Œæˆ‘ä»¬å°±å›´ç»•<strong>è‡ªåŠ¨æµ‡èŠ±</strong>ï¼Œåšä¸€ä¸ªæ–°çš„æ™ºèƒ½å®¶å±…åœºæ™¯è§£å†³æ–¹æ¡ˆï¼ŒåŒæ—¶ä¹Ÿå·©å›ºä¸€ä¸‹ä½ åœ¨å‰å‡ è®²å­¦ä¹ åˆ°çš„ç¡¬ä»¶å¼€å‘çŸ¥è¯†ï¼ˆå¦‚æœ‰éœ€è¦ï¼Œä½ å¯ä»¥æ ¹æ®<a href=\"https://shimo.im/sheets/D3VVPdwcYRhhQRXh/MODOC\">è¿™ä»½æ–‡æ¡£</a>è‡ªè¡Œé‡‡è´­ç›¸å…³ç¡¬ä»¶ï¼‰ã€‚</p><h2>ç ”ç©¶åœºæ™¯éœ€æ±‚</h2><p>åœ¨è®¾è®¡ç‰©è”ç½‘äº§å“çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å…ˆç ”ç©¶åœºæ™¯éœ€æ±‚ï¼Œæ˜ç¡®ç›‘æ§æŒ‡æ ‡ï¼Œå†æ ¹æ®è¿™äº›æŒ‡æ ‡å®‰æ’åˆé€‚çš„ä¼ æ„Ÿå™¨ã€‚</p><p>æ¯”å¦‚è‡ªåŠ¨æµ‡èŠ±è¿™ä¸ªåœºæ™¯ï¼Œå¾ˆæ˜æ˜¾æ˜¯ä¸ºäº†è‡ªåŠ¨æ§åˆ¶æ°´æ³µï¼ŒåŠæ—¶ç»™æ¤ç‰©è¡¥å……<strong>æ°´åˆ†</strong>ã€‚æ¯•ç«Ÿæ°´ä¸ä»…æ˜¯æ¤ç‰©ä½“çš„ä¸»è¦æˆåˆ†ï¼Œæ”¯æ’‘ç€ç»†èƒã€ç»´æŒç€æ¤ç‰©å½¢æ€ï¼Œè€Œä¸”ä¹Ÿæ˜¯ä¼ è¾“è¥å…»ç‰©è´¨çš„é‡è¦è½½ä½“ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦ç›‘æ§çš„æœ€é‡è¦çš„æŒ‡æ ‡å°±æ˜¯<strong>åœŸå£¤æ¹¿åº¦</strong>ã€‚</p><p>ä¸è¿‡ï¼Œç”¨æˆ·çš„ç›®çš„å¹¶ä¸åªæ˜¯æµ‡æ°´è€Œå·²ï¼Œä»–ä»¬çœŸæ­£æƒ³è¦çš„ï¼Œæ˜¯çœ‹åˆ°è‡ªå·±å…»çš„æ¤ç‰©å¥åº·åœ°ç”Ÿé•¿ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ€å¥½æŠŠå…¶ä»–ç›¸å…³çš„æ•°æ®ä¹Ÿæä¾›ç»™ä»–ä»¬ã€‚ç°åœ¨å¾ˆå¤šæ™ºèƒ½ä½“é‡ç§¤éƒ½ä¼šåŒæ—¶æ£€æµ‹ä½ çš„ä½“è„‚ç‡ç­‰å…¶ä»–åæ˜ èº«ä½“å¥åº·çš„æŒ‡æ ‡ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ã€‚</p><p>é‚£ä¹ˆï¼Œæ¤ç‰©ç”Ÿé•¿è¿˜éœ€è¦ä»€ä¹ˆæ¡ä»¶å‘¢ï¼Ÿ</p><p><img src=\"https://static001.geekbang.org/resource/image/12/38/125935bdc5a8f747884871d6f7fd5c38.jpg?wh=2700*1059\" alt=\"\"></p><p>é¦–å…ˆæ˜¯<strong>ç¯å¢ƒæ¸©æ¹¿åº¦æ¡ä»¶</strong>ï¼Œçƒ­å¸¦çš„æ¤ç‰©æ— æ³•å¿å—ä½æ¸©å’Œå¹²ç‡¥çš„ç¯å¢ƒæ¡ä»¶ï¼Œè€Œæ¸©å¸¦æ¤ç‰©é‡åˆ°é«˜æ¸©ï¼Œä¹Ÿå¯èƒ½å‡ºç°çƒ­è¡°ç«­çš„ç°è±¡ï¼Œæ‰€ä»¥ç¯å¢ƒçš„<strong>æ¸©åº¦</strong>å’Œ<strong>æ¹¿åº¦</strong>æœ€å¥½ä¹Ÿèƒ½ç›‘æ§ã€‚</p><!-- [[[read_end]]] --><p>å…¶æ¬¡æ˜¯<strong>å…‰ç…§æ¡ä»¶</strong>ï¼Œæ¯•ç«Ÿè¦æ¤ç‰©è¿›è¡Œå…‰åˆä½œç”¨å˜›ï¼Œæ‰€ä»¥<strong>å…‰ç…§å¼ºåº¦</strong>éœ€è¦ç›‘æ§ã€‚</p><p>æœ€åï¼Œ<strong>ç©ºæ°”è´¨é‡</strong>å¯¹æ¤ç‰©çš„ç”Ÿé•¿æ¥è¯´ä¹Ÿå¾ˆé‡è¦ï¼Œæ¯”å¦‚<strong>äºŒæ°§åŒ–ç¢³</strong>æ˜¯å¦å……è¶³ï¼Œ<strong>æœ‰å®³æ°”ä½“</strong>æ˜¯å¦è¶…æ ‡ç­‰ã€‚</p><p>ä¸è¿‡è€ƒè™‘åˆ°å®¶å±…ç¯å¢ƒï¼Œç©ºæ°”è´¨é‡åœ¨æ—¥å¸¸ç§æ¤è¿‡ç¨‹ä¸­ä¸€èˆ¬æ²¡æœ‰é—®é¢˜ï¼Œä¸éœ€è¦ç‰¹åˆ«å…³æ³¨ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä½œä¸ºæ‰©å±•ä»»åŠ¡æ¥å°è¯•ä¸€ä¸‹ã€‚</p><p>æ‰€ä»¥ç»¼åˆæ¥çœ‹ï¼Œæˆ‘ä»¬éœ€è¦ç›‘æ§çš„æŒ‡æ ‡åŒ…æ‹¬åœŸå£¤æ¹¿åº¦ã€ç¯å¢ƒæ¸©æ¹¿åº¦å’Œå…‰ç…§å¼ºåº¦ã€‚ç›¸æ¯”äºå¸‚é¢ä¸Šå…¶ä»–åªèƒ½æ§åˆ¶æµ‡æ°´çš„äº§å“ï¼Œæˆ‘ä»¬çš„äº§å“è€ƒè™‘çš„åœºæ™¯å°±æ›´åŠ å…¨é¢äº†ã€‚è¿™ä¹Ÿæ˜¯è‡ªå·±åŠ¨æ‰‹ï¼ˆDIYï¼‰çš„å¥½å¤„ã€‚</p><h2>ç¡¬ä»¶ç”µè·¯</h2><p>æ˜ç¡®äº†ç›‘æ§æŒ‡æ ‡ä¹‹åï¼Œç›¸åº”çš„ä¼ æ„Ÿå™¨ä¹Ÿå°±å¯ä»¥ç¡®å®šäº†ï¼Œåˆ†åˆ«æ˜¯åœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨ã€ç¯å¢ƒæ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨å’Œå…‰ç…§ä¼ æ„Ÿå™¨ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘æ€»ç»“ä¸€ä¸‹è‡ªåŠ¨æµ‡èŠ±å™¨éœ€è¦ç”¨åˆ°çš„ææ–™ï¼š</p><ol>\n<li>NodeMCU ESP32 å¼€å‘æ¿ã€‚ä¸è¿‡ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Wi-Fiæ¥è¿æ¥ç½‘ç»œï¼Œè€Œä¸æ˜¯ç¬¬18è®²ä¸­ç”¨åˆ°çš„è“ç‰™æŠ€æœ¯ã€‚å› ä¸ºåœ¨ç°å®ä¸­ï¼Œè€ƒè™‘åˆ°è‡ªåŠ¨æµ‡èŠ±å™¨çš„å·¥ä½œç¯å¢ƒï¼Œè¿æ¥ç”µæºè¿˜æ˜¯æ¯”è¾ƒå¸¸è§çš„ã€‚</li>\n<li>ç»§ç”µå™¨ï¼Œç”¨äºæ§åˆ¶æ°´æ³µçš„ä¾›ç”µç”µè·¯çš„é€šæ–­ã€‚</li>\n<li>æ°´æ³µï¼Œç”¨äºä»æ°´ç®±ä¸­æŠ½æ°´ï¼Œå¹¶é€åˆ°èŠ±ç›†ä¸­ã€‚</li>\n<li>ç”µæ± ç›’ï¼Œç”¨äºç»™æ°´æ³µä¾›ç”µã€‚</li>\n<li>åœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨ï¼Œå®ƒå¯ä»¥æµ‹é‡èŠ±ç›†åœŸå£¤çš„æ¹¿åº¦ï¼Œç„¶åè¾“å‡ºæ¨¡æ‹Ÿä¿¡å·ã€‚</li>\n<li>ç¯å¢ƒæ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨ï¼Œå®ƒåŸºäºDHT11ä¼ æ„Ÿå™¨ï¼Œç”¨äºæµ‹é‡æˆ¿å±‹ä¸­çš„æ¸©åº¦å’Œæ¹¿åº¦ï¼Œå¹¶ä¸”è¾“å‡ºæ•°å­—ä¿¡å·ã€‚å®ƒé‡‡ç”¨å•æ€»çº¿ï¼ˆ1-wireï¼‰æ¥å£ä¸NodeMCUè¿æ¥ã€‚</li>\n<li>å…‰ç…§ä¼ æ„Ÿå™¨ï¼Œå®ƒå¯ä»¥æµ‹é‡èŠ±ç›†ä½ç½®æ¥æ”¶åˆ°çš„å…‰ç…§æ¡ä»¶ã€‚æ¯ç§æ¤ç‰©æœ‰å–œé˜³å…‰ã€è€é˜´ç­‰ä¸åŒçš„ç‰¹æ€§ï¼Œå…‰ç…§åº¦å’Œä¸€æ®µæ—¶é—´çš„å…‰ç…§ç´¯ç§¯é‡å¯ä»¥ç»™æˆ‘ä»¬æä¾›å‚è€ƒï¼Œä»¥ä¾¿æ›´å¥½åœ°æ»¡è¶³æ¤ç‰©çš„å…‰ç…§éœ€æ±‚ã€‚</li>\n<li>é¢åŒ…æ¿å’Œæœé‚¦çº¿ã€‚</li>\n</ol><p>è¿™é‡Œï¼Œæˆ‘ç»™å‡ºäº†ä¸€ä¸ªç”µè·¯å›¾ï¼Œæ–¹ä¾¿ä½ äº†è§£æ•´ä¸ªè‡ªåŠ¨æµ‡èŠ±å™¨çš„è®¾å¤‡ç»„æˆã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/27/2d/276ff8040178c4f6ef7bdc347c27102d.png?wh=1624*1114\" alt=\"\"></p><h2>è½¯ä»¶å®ç°</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨Pythonè¯­è¨€æ¥å®Œæˆè½¯ä»¶çš„å¼€å‘å·¥ä½œã€‚</p><h3>ç»§ç”µå™¨</h3><p>é¦–å…ˆæ˜¯ç»§ç”µå™¨çš„æ§åˆ¶ã€‚å®ƒå’Œ<a href=\"https://time.geekbang.org/column/article/322528\">ç¬¬17è®²</a>ä»‹ç»çš„æ™ºèƒ½ç”µç¯çš„ç»§ç”µå™¨æ§åˆ¶æ–¹æ³•æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œä¸»è¦æ˜¯æ”¹å˜äº†è¿æ¥çš„GPIOç®¡è„šã€‚æ ¹æ®ç¡¬ä»¶ç”µè·¯çš„è¿çº¿ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯GPIO23ç®¡è„šã€‚</p><p>æˆ‘æŠŠä»£ç ç›´æ¥è´´åœ¨æ–‡ç¨¿ä¸­ï¼Œä¾›ä½ å‚è€ƒï¼ˆå®ƒè¿æ¥çš„ç®¡è„šæ˜¯<strong>GPIO23</strong>ï¼‰ï¼š</p><pre><code>## ï¼ï¼ï¼æœ¬æ–‡ä»¶é‡‡ç”¨å•†åŸçš„ç»§ç”µå™¨æ¨¡å—FL-3FF-S-Z\n## ï¼ï¼ï¼on(), off()çŠ¶æ€ç›¸åã€‚\n## ï¼ï¼ï¼åˆå§‹åŒ–ä¸­éœ€è¦è°ƒç”¨on()å…ˆå…³é—­æ°´æ³µç”µè·¯\nfrom machine import Pin\n\nclass Relay():\n    ON = 0\n    OFF = 1\n\n    def __init__(self, pin):\n        self.relaypin = Pin(pin, Pin.OUT)\n        self.relaypin.on()\n        self.last_status = self.OFF\n\n    def set_state(self, state):\n        tmp_state = self.ON if state==1 else self.OFF\n        self.relaypin.value(tmp_state)\n        self.last_status = tmp_state\n\n    def state(self):\n        return self.last_status\n    def on(self):\n        self.relaypin.value(self.ON)\n        self.last_status = self.ON\n\n    def off(self):\n        self.relaypin.value(self.OFF)\n        self.last_status = self.OFF\n</code></pre><h3>åœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨</h3><p>ç„¶åæ˜¯åœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨ï¼Œæˆ‘é‡‡ç”¨çš„æ˜¯åŸºäºæµ‹é‡ç”µé˜»å€¼çš„å˜åŒ–æ¥åˆ¤æ–­åœŸå£¤æ°´åˆ†å«é‡çš„ä¼ æ„Ÿå™¨æ¨¡å—ã€‚å®ƒä¼šæ ¹æ®ä¸åŒçš„ç”µé˜»å€¼ï¼Œè¾“å‡ºå˜åŒ–çš„æ¨¡æ‹Ÿä¿¡æ¯ï¼Œæ•°å€¼è¶Šå°ï¼Œè¯´æ˜è¶Šå¹²ç‡¥ã€‚ä½¿ç”¨çš„æ—¶å€™ï¼Œä½ éœ€è¦æŠŠå®ƒå®Œå…¨æ’å…¥èŠ±ç›†çš„åœŸå£¤ä¸­ã€‚</p><p>å¦å¤–ï¼Œè¿˜æœ‰ä¸€ç§åŸºäºåœŸå£¤æ¹¿åº¦å˜åŒ–ï¼Œå¼•èµ·ç”µå®¹å€¼å˜åŒ–çš„åŸç†è®¾è®¡çš„<a href=\"https://wiki.dfrobot.com/Capacitive_Soil_Moisture_Sensor_SKU_SEN0193\">åœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨</a>ï¼Œä½ ä¹Ÿå¯ä»¥è€ƒè™‘ä½¿ç”¨ã€‚å®ƒçš„å¥½å¤„æ˜¯é•¿æœŸä½¿ç”¨è¿‡ç¨‹ä¸­ä¸æ˜“è…èš€ï¼Œå› ä¸ºæ²¡æœ‰è£¸éœ²é‡‘å±ã€‚</p><p>æˆ‘æŠŠä»£ç ç›´æ¥è´´åœ¨æ–‡ç¨¿ä¸­ï¼Œä¾›ä½ å‚è€ƒï¼ˆå®ƒè¿æ¥çš„ç®¡è„šæ˜¯<strong>GPIO34</strong>ï¼‰ï¼š</p><pre><code>from machine import ADC\nfrom machine import Pin\n\nclass SoilSensor():\n\n    def __init__(self, pin):\n        self.sensor = ADC(Pin(pin))\n\n    def value(self):\n        value = self.sensor.read()\n        print(&quot;Sensor ADC value:&quot;,value)\n        return int(value*100/4095)\n</code></pre><h3>ç¯å¢ƒæ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨</h3><p>æˆ‘åˆšæ‰ä»‹ç»è¿‡ï¼Œç¯å¢ƒæ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨æ˜¯åŸºäºDHT11å®ç°çš„ï¼Œå¹¶ä¸”ä½¿ç”¨çš„æ˜¯å•æ€»çº¿çš„è¿æ¥æ–¹å¼ã€‚ä¸è¿‡ä»£ç çš„å¼€å‘è¿‡ç¨‹å¹¶ä¸å¤æ‚ï¼Œå› ä¸ºMicroPythonå·²ç»ä¸ºESP32ï¼ˆä¹ŸåŒ…æ‹¬ESP8266ï¼‰å®ç°äº†DHTä»£ç ç»„ä»¶ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p><p>æ³¨æ„ï¼ŒDHT11çš„å•æ€»çº¿åè®®æ˜¯å¥¥æ¾ç”µå­çš„<a href=\"https://cdn-shop.adafruit.com/datasheets/DHT11-chinese.pdf\">è‡ªå®šä¹‰åè®®</a>ï¼Œå®ƒä¸DallasåŠå¯¼ä½“å…¬å¸çš„OneWireåè®®æ˜¯ä¸åŒçš„ã€‚</p><p>ä»£ç æˆ‘è´´åœ¨ä¸‹é¢ï¼Œä¾›ä½ å‚è€ƒï¼ˆå®ƒè¿æ¥çš„ç®¡è„šæ˜¯<strong>GPIO14</strong>ï¼‰ï¼š</p><pre><code>import dht\nfrom machine import Pin\n\nclass EnvSensor():\n\n    def __init__(self, pin):\n        self.sensor = dht.DHT11(Pin(pin))\n\n    def value(self):\n        self.sensor.measure()\n        return (self.sensor.temperature(), self.sensor.humidity())\n</code></pre><h3>å…‰ç…§ä¼ æ„Ÿå™¨</h3><p>è‡³äºå…‰ç…§ä¼ æ„Ÿå™¨ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç»§ç»­ä½¿ç”¨<a href=\"https://time.geekbang.org/column/article/323428\">ç¬¬18è®²</a>çš„æ¨¡ç»„ï¼Œæ‰€ä»¥æˆ‘å°±ä¸è¿‡å¤šä»‹ç»äº†ã€‚</p><p>æˆ‘ç›´æ¥è´´å‡ºä»£ç ï¼Œä¾›ä½ å‚è€ƒï¼ˆå®ƒè¿æ¥çš„ç®¡è„šæ˜¯<strong>GPIO36</strong>ï¼‰ï¼š</p><pre><code>from machine import ADC\nfrom machine import Pin\n\nclass IllumSensor():\n\n    def __init__(self, pin):\n        self.sensor = ADC(Pin(pin))\n\n    def value(self):\n        value = self.sensor.read()\n        print(&quot;Sensor ADC value:&quot;,value)\n        return int(value/4095*600\n</code></pre><h2>å®Œæˆè”ç½‘å¼€å‘</h2><p>ä¸ºäº†å®ç°è‡ªåŠ¨æµ‡èŠ±å™¨çš„è”ç½‘æ§åˆ¶ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦å°†å®ƒæ¥å…¥è…¾è®¯äº‘ç‰©è”ç½‘å¹³å°ã€‚ä¸è¿‡ï¼Œæˆ‘å¸Œæœ›ä½ èƒ½å°è¯•ç‹¬ç«‹å®Œæˆè¿™ä¸ªå·¥ä½œã€‚å®Œæˆä¹‹åï¼Œä½ ä¸€å®šä¼šæ„Ÿå—åˆ°è‡ªå·±çš„æˆé•¿ã€‚å¦‚æœå®ç°è¿‡ç¨‹ä¸­æœ‰å›°éš¾ï¼Œå¯ä»¥å›å¤´å‚è€ƒç¬¬17è®²çš„å†…å®¹ã€‚</p><p>è¿™é‡Œï¼Œæˆ‘æä¾›ä¸€ä¸‹è‡ªåŠ¨æµ‡èŠ±å™¨çš„ç‰©æ¨¡å‹JSONæ–‡ä»¶ï¼Œä¾›ä½ å‚è€ƒã€‚</p><pre><code>{\n    &quot;version&quot;: &quot;1.0&quot;,\n    &quot;profile&quot;: {\n      &quot;ProductId&quot;: &quot;ä½ çš„ProductID&quot;,\n      &quot;CategoryId&quot;: &quot;909&quot;\n    },\n    &quot;properties&quot;: [\n      {\n        &quot;id&quot;: &quot;power_switch&quot;,\n        &quot;name&quot;: &quot;æ°´æ³µå¼€å…³&quot;,\n        &quot;desc&quot;: &quot;æ§åˆ¶æ°´æ³µå¯åŠ¨å…³é—­&quot;,\n        &quot;mode&quot;: &quot;rw&quot;,\n        &quot;define&quot;: {\n          &quot;type&quot;: &quot;bool&quot;,\n          &quot;mapping&quot;: {\n            &quot;0&quot;: &quot;å…³&quot;,\n            &quot;1&quot;: &quot;å¼€&quot;\n          }\n        }\n      },\n      {\n        &quot;id&quot;: &quot;water_shortage&quot;,\n        &quot;name&quot;: &quot;ç¼ºæ°´çŠ¶æ€&quot;,\n        &quot;desc&quot;: &quot;æ°´ç®±æ˜¯å¦ç¼ºæ°´&quot;,\n        &quot;mode&quot;: &quot;r&quot;,\n        &quot;define&quot;: {\n          &quot;type&quot;: &quot;bool&quot;,\n          &quot;mapping&quot;: {\n            &quot;0&quot;: &quot;å¦&quot;,\n            &quot;1&quot;: &quot;æ˜¯&quot;\n          }\n        }\n      },\n      {\n        &quot;id&quot;: &quot;humidity&quot;,\n        &quot;name&quot;: &quot;åœŸå£¤æ¹¿åº¦&quot;,\n        &quot;desc&quot;: &quot;å½“å‰çš„åœŸå£¤æ¹¿åº¦&quot;,\n        &quot;mode&quot;: &quot;r&quot;,\n        &quot;define&quot;: {\n          &quot;type&quot;: &quot;int&quot;,\n          &quot;min&quot;: &quot;0&quot;,\n          &quot;max&quot;: &quot;100&quot;,\n          &quot;start&quot;: &quot;0&quot;,\n          &quot;step&quot;: &quot;1&quot;,\n          &quot;unit&quot;: &quot;%&quot;\n        }\n      },\n      {\n        &quot;id&quot;: &quot;env_temp&quot;,\n        &quot;name&quot;: &quot;ç¯å¢ƒæ¸©åº¦&quot;,\n        &quot;desc&quot;: &quot;ç©ºé—´ç¯å¢ƒçš„æ¸©åº¦&quot;,\n        &quot;mode&quot;: &quot;r&quot;,\n        &quot;define&quot;: {\n          &quot;type&quot;: &quot;float&quot;,\n          &quot;min&quot;: &quot;-40&quot;,\n          &quot;max&quot;: &quot;100&quot;,\n          &quot;start&quot;: &quot;0&quot;,\n          &quot;step&quot;: &quot;0.1&quot;,\n          &quot;unit&quot;: &quot;â„ƒ&quot;\n        },\n        &quot;required&quot;: false\n      },\n      {\n        &quot;id&quot;: &quot;env_hum&quot;,\n        &quot;name&quot;: &quot;ç¯å¢ƒæ¹¿åº¦&quot;,\n        &quot;desc&quot;: &quot;å‘¨å›´ç¯å¢ƒçš„æ¹¿åº¦&quot;,\n        &quot;mode&quot;: &quot;r&quot;,\n        &quot;define&quot;: {\n          &quot;type&quot;: &quot;int&quot;,\n          &quot;min&quot;: &quot;0&quot;,\n          &quot;max&quot;: &quot;100&quot;,\n          &quot;start&quot;: &quot;0&quot;,\n          &quot;step&quot;: &quot;1&quot;,\n          &quot;unit&quot;: &quot;%&quot;\n        },\n        &quot;required&quot;: false\n      },\n      {\n        &quot;id&quot;: &quot;env_illum&quot;,\n        &quot;name&quot;: &quot;ç¯å¢ƒå…‰ç…§åº¦&quot;,\n        &quot;desc&quot;: &quot;å‘¨å›´ç¯å¢ƒçš„å…‰ç…§åº¦&quot;,\n        &quot;mode&quot;: &quot;r&quot;,\n        &quot;define&quot;: {\n          &quot;type&quot;: &quot;int&quot;,\n          &quot;min&quot;: &quot;0&quot;,\n          &quot;max&quot;: &quot;6000&quot;,\n          &quot;start&quot;: &quot;0&quot;,\n          &quot;step&quot;: &quot;1&quot;,\n          &quot;unit&quot;: &quot;lux&quot;\n        },\n        &quot;required&quot;: false\n      }\n    ],\n    &quot;events&quot;: [],\n    &quot;actions&quot;: []\n  }\n</code></pre><p>éœ€è¦è¯´æ˜çš„ä¸€ç‚¹æ˜¯ï¼Œå…¶å®DHT11çš„æµ‹æ¸©èŒƒå›´åªæœ‰0ï½50â„ƒï¼Œä½†è¿™é‡Œè®¾å®šçš„ç¯å¢ƒæ¸©åº¦èŒƒå›´æ˜¯-40â„ƒï½80â„ƒã€‚ä¹‹æ‰€ä»¥è¿™ä¹ˆè®¾å®šï¼Œæ˜¯å› ä¸ºå¦å¤–ä¸€æ¬¾æ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨DHT22å¯ä»¥è¾¾åˆ°è¿™ä¸ªèŒƒå›´ï¼Œè¿™æ ·å½“ä½ æƒ³æ ¹æ®ä¸åŒçš„ç¯å¢ƒæ¡ä»¶çµæ´»åœ°è°ƒæ•´æ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨æ¨¡å—çš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦ä¿®æ”¹ç‰©æ¨¡å‹äº†ã€‚</p><h2>å¤šä¼ æ„Ÿå™¨èåˆ</h2><p>åœ¨åˆšæ‰çš„å¼€å‘å·¥ä½œä¸­ï¼Œæˆ‘ä»¬åªä½¿ç”¨äº†ä¸€ä¸ªåœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨æ¥åˆ¤æ–­åœŸå£¤çš„æ°´åˆ†å«é‡ã€‚å…ˆä¸è€ƒè™‘ä¼ æ„Ÿå™¨æœ¬èº«çš„æµ‹é‡è¯¯å·®ï¼Œå•çº¯åªæµ‹é‡åœŸå£¤ä¸­ä¸€ä¸ªä½ç½®çš„æ¹¿åº¦æ•°å€¼ï¼Œå…¶å®æ˜¯ä¸èƒ½å‡†ç¡®åæ˜ æ•´ç‰‡åœŸå£¤çš„æ°´åˆ†æƒ…å†µçš„ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤šä¸ªåœŸå£¤ä¼ æ„Ÿå™¨è¿›è¡Œæµ‹é‡ï¼Œç„¶åæ ¹æ®å¤šä¸ªæµ‹é‡å€¼æ¥è®¡ç®—å‡ºæ›´å¯é çš„åœŸå£¤æ°´åˆ†å«é‡ã€‚</p><p>è¿™ä¸ªè®¡ç®—è¿‡ç¨‹å°±æ˜¯<strong>å¤šä¼ æ„Ÿå™¨èåˆ</strong>ï¼ˆMulti-Sensor Fusionï¼ŒMSFï¼‰ã€‚</p><p>å®ƒä¸ä»…åœ¨è‡ªåŠ¨é©¾é©¶è¿™æ ·çš„å‰æ²¿é¢†åŸŸä¸­æˆä¸ºäº†ä¿è¯å†³ç­–æ­£ç¡®çš„å…³é”®æŠ€æœ¯ï¼Œè€Œä¸”åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ä¹Ÿå·²ç»æœ‰äº†å¹¿æ³›çš„åº”ç”¨ï¼Œæ¯”å¦‚æ‰‹æœºä¸Šçš„åœ°ç†ä½ç½®å®šä½ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼ŒGPSæ˜¯é€šè¿‡å«æ˜Ÿè¿›è¡Œå®šä½çš„ï¼Œä½†æ˜¯å®ƒçš„ç²¾åº¦å—åˆ°å¾ˆå¤šå› ç´ çš„å½±å“ã€‚ä¸ºäº†æé«˜å®šä½çš„ç²¾åº¦ï¼Œç°åœ¨æˆ‘ä»¬çš„æ‰‹æœºä¸Šå°±æ™®éé‡‡ç”¨å¤šä¼ æ„Ÿå™¨èåˆçš„æ–¹æ³•ï¼Œé€šè¿‡ GPSã€èœ‚çªé€šä¿¡ç½‘åŸºç«™å’Œ Wi-Fi çƒ­ç‚¹çš„æ•°æ®æ¥ç»¼åˆè®¡ç®—ï¼Œå¾—åˆ°æ›´å‡†ç¡®çš„åœ°ç†å®šä½ä¿¡æ¯ã€‚</p><p>å¤šä¼ æ„Ÿå™¨èåˆæœ€å…³é”®çš„åœ°æ–¹ï¼Œä¸æ˜¯å¤šä¸ªä¼ æ„Ÿå™¨çš„<strong>ç¡¬ä»¶è¿æ¥</strong>æˆ–<strong>æ•°æ®æ”¶é›†</strong>ï¼Œè€Œæ˜¯<strong>èåˆç®—æ³•</strong>ï¼Œä¹Ÿå°±æ˜¯æ€ä¹ˆè¿›è¡Œå¤šä¸ªä¸åŒç»´åº¦çš„å‚æ•°çš„å¤„ç†ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªç›¸å¯¹å‡†ç¡®çš„ã€æœ‰æ„ä¹‰çš„æ•°æ®ä¿¡æ¯ã€‚</p><p>æœ€åŸºæœ¬çš„ç®—æ³•å°±æ˜¯è®¡ç®—å¤šä¸ªæ•°å€¼çš„åŠ æƒå¹³å‡å€¼ã€‚é€‚åº”æ€§æ›´å¹¿çš„ç®—æ³•æœ‰å¡å°”æ›¼æ»¤æ³¢å’Œå¤šè´å¶æ–¯ä¼°è®¡ç­‰æ–¹æ³•ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/81/c1/8170f7fa73182f618b47afaecbdb35c1.jpg?wh=2700*822\" alt=\"\"></p><p>åœ¨æ¡ä»¶å…è®¸çš„æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥å°è¯•ä¸€ä¸‹è¿™ä¸ªæ–¹æ³•ã€‚æ¯•ç«ŸNodeMCUä¸°å¯Œçš„ADCæ¥å£ä¸ºæˆ‘ä»¬æä¾›äº†ä¸é”™çš„å®éªŒæ¡ä»¶ã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥åŸºäºä¸¤ä¸ªåœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨ï¼Œä½¿ç”¨åŠ æƒå¹³å‡å€¼ç®—æ³•ä¼˜åŒ–è‡ªå·±çš„è‡ªåŠ¨æµ‡èŠ±å™¨ã€‚</p><h2>å°ç»“</h2><p>æ€»ç»“ä¸€ä¸‹ï¼Œè¿™ä¸€è®²ä¸­ï¼Œæˆ‘ä»‹ç»äº†è‡ªåŠ¨æµ‡èŠ±å™¨çš„ç¡¬ä»¶ç”µè·¯å‚è€ƒè®¾è®¡å’Œä»£ç ã€‚ä½ éœ€è¦å…³æ³¨çš„ä¸»è¦å†…å®¹æœ‰ï¼š</p><ol>\n<li>è‡ªåŠ¨æµ‡èŠ±å™¨ä¸»è¦æ˜¯é€šè¿‡æ£€æµ‹åœŸå£¤æ¹¿åº¦æ¥åˆ¤æ–­æ°´åˆ†å«é‡ï¼Œç„¶ååŸºäºæ°´åˆ†å«é‡æ¥æ§åˆ¶æ°´æ³µç”µæºé€šæ–­æ¥å®ç°è‡ªåŠ¨æµ‡èŠ±çš„ç›®çš„ã€‚</li>\n<li>ç¯å¢ƒæ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨é‡‡ç”¨çš„æ˜¯DHT11æ¨¡ç»„ï¼Œå®ƒé‡‡ç”¨å•æ€»çº¿çš„æ–¹å¼ä¸æ§åˆ¶èŠ¯ç‰‡é€šä¿¡ï¼Œè¿™æ˜¯å¥¥æ¾ç”µå­çš„<a href=\"https://cdn-shop.adafruit.com/datasheets/DHT11-chinese.pdf\">è‡ªå®šä¹‰åè®®</a>ã€‚ä¸è¿‡ï¼ŒåŸºäºMicroPythonå¼€å‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸éœ€è¦è‡ªå·±å¼€å‘é©±åŠ¨ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨MicroPythonæä¾›çš„DHTåº“ã€‚</li>\n<li>è”ç½‘çš„å¼€å‘ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­åŸºäºè…¾è®¯äº‘ç‰©è”ç½‘å¹³å°æ¥å®ç°ã€‚æˆ‘æä¾›äº†ç‰©æ¨¡å‹ï¼Œå¸Œæœ›ä½ å¯ä»¥åŸºäºæ™ºèƒ½ç”µç¯çš„å¼€å‘ç»éªŒç‹¬ç«‹å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚</li>\n<li>å¤šä¼ æ„Ÿå™¨èåˆæ˜¯æé«˜å†³ç­–æ­£ç¡®æ€§çš„é‡è¦æ–¹æ³•ï¼Œå…¶ä¸­èåˆç®—æ³•æ˜¯æœ€å…³é”®çš„ã€‚</li>\n</ol><p>åœ¨å®æˆ˜ç¯‡ï¼Œæˆ‘ä»¬ä¸»è¦åŸºäºå¼€æºçš„å¼€å‘æ¿ç¡¬ä»¶æ¥å®Œæˆæ™ºèƒ½ç¡¬ä»¶çš„å¼€å‘å·¥ä½œã€‚è¿™åœ¨å·¥ä½œä¸­æœ‰å¾ˆå¤§çš„ç”¨å¤„ï¼Œå› ä¸ºå½“æˆ‘ä»¬æœ‰æ–°çš„äº§å“æƒ³æ³•æ—¶ï¼Œå¯ä»¥å¿«é€Ÿåœ°è¿›è¡ŒæŠ€æœ¯éªŒè¯ï¼Œç”šè‡³ç”¨æˆ·åé¦ˆã€‚</p><p>è¿™ä¹Ÿå°±æ˜¯<strong>æœ€å°å¯è¡Œæ€§äº§å“</strong>ï¼ˆMinimum Viable Productï¼ŒMVPï¼‰æ–¹æ³•è®ºã€‚åœ¨è½¯ä»¶é¢†åŸŸï¼Œè¿™ç§æ–¹æ³•æ¯”è¾ƒå¸¸è§ï¼Œè€ŒåŸºäºç¡¬ä»¶å¼€å‘æ¿ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå¥½åœ°éªŒè¯æ™ºèƒ½ç¡¬ä»¶äº§å“çš„å¯è¡Œæ€§ï¼Œä¸ºä¼ä¸šèŠ‚çº¦æˆæœ¬ã€é™ä½é£é™©ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æœ€åï¼Œæˆ‘ç»™ä½ ç•™ä¸€ä¸ªæ€è€ƒé¢˜å§ã€‚</p><p>åœ¨æˆ‘æä¾›çš„ç‰©æ¨¡å‹é‡Œé¢ï¼Œä½ åº”è¯¥å¯ä»¥çœ‹åˆ°â€œç¼ºæ°´çŠ¶æ€â€çš„å±æ€§ã€‚å®ƒå¯ä»¥ç”¨äºæŒ‡ç¤ºæ°´æ³µè¿æ¥çš„æ°´ç®±æ˜¯ä¸æ˜¯å·²ç»ç¼ºæ°´äº†ï¼Œå¦‚æœæ°´ç®±æ°´ä½ä¸è¶³ï¼Œå°±ä¼šæé†’æˆ‘ä»¬åŠæ—¶ç»™æ°´ç®±è¡¥æ°´ã€‚è¯·ä½ æƒ³ä¸€æƒ³ï¼Œè¦æ€ä¹ˆå®ç°è¿™ä¸ªæ°´ä½æ£€æµ‹åŠŸèƒ½å‘¢ï¼Ÿè¯·ç”¨æ–‡å­—æè¿°ä¸€ä¸‹ä½ çš„æ€è·¯ã€‚</p><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºå’Œæˆ‘äº¤æµï¼Œä¹Ÿæ¬¢è¿ä½ å°†è¿™ä¸€è®²åˆ†äº«ç»™ä½ çš„æœ‹å‹ï¼Œå¤§å®¶ä¸€èµ·äº¤æµå­¦ä¹ ã€‚</p>","comments":[{"had_liked":false,"id":270376,"user_name":"978!6","can_delete":false,"product_type":"c1","uid":1144865,"ip_address":"","ucode":"9C95022F18C208","user_header":"https://static001.geekbang.org/account/avatar/00/11/78/21/e2b4c90c.jpg","comment_is_top":false,"comment_ctime":1609090435,"is_pvip":true,"replies":[{"id":"99266","content":"å¤§èµğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1610807625,"ip_address":"","comment_id":270376,"utype":1}],"discussion_count":1,"race_medal":0,"score":"61738632579","product_id":100063601,"comment_content":"æä¸€äº›å¯èƒ½æ€§çš„æ–¹æ¡ˆ ä¸è€ƒè™‘ä½åŠŸè€— è®¾è®¡å¯¿å‘½ å®‰è£…éš¾åº¦ç­‰å› ç´ <br>è¿é€šå™¨åŸç†ï¼Œåœ¨å¯†å£çš„ç©ºé—´ä¸­å®‰è£…ä¸€æµ®æ¼‚ <br>1. åˆ©ç”¨æµ®æ¼‚é©±åŠ¨ä¸€äº›å¾®åŠ¨å¼€å…³ ç£æ•ç­‰<br>2. é¡¶ç«¯ä½¿ç”¨è¶…å£°æ³¢ç­‰æµ‹è·ä¼ æ„Ÿå™¨ æ£€æµ‹æµ®æ¼‚è·ç¦»é¡¶ç«¯çš„è·ç¦»<br>3. æ°´ç®±é¡¶ç«¯å®‰è£…ä¸¤ä¸ªç”µæ æµ‡èŠ±çš„æ°´å¾ˆéš¾åšåˆ°ä¸å¯¼ç”µ æ‰€ä»¥åœ¨æ°´ä¸­å¯¼é€šï¼Œç©ºæ°”ä¸­çŸ­è·¯<br>4. æ¿€å…‰å’Œå…‰æ• æœ‰æ°´çš„æ—¶å€™ä¼šäº§ç”ŸæŠ˜å°„ æ— æ³•è§¦å‘ æ²¡æ°´çš„æ—¶å€™ç›´çº¿ä¼ æ’­ æˆ–è€…æ˜¯æœ‰æ°´çš„æ—¶å€™ç…§æµ®æ¼‚æœ‰é˜»ç¢ï¼Œæ— æ°´çš„æ—¶å€™ç›´æ¥å‡ºå‘åˆ°å…‰æ•<br>5. æ‘„åƒå¤´ å®šæœŸæ‹ç…§ æœºå™¨å­¦ä¹ ç®—æ³• åŒºåˆ†å‡ºæ— æ°´ ç¼ºæ°´ å’Œæ»¡æ°´çš„å›¾ç‰‡<br>6. ç®€å•ç²—æš´ï¼Œæ°´ç®±ä¸‹é¢åŠ ä¸ªå‹åŠ›ä¼ æ„Ÿå™¨ è½»äº†å°±æ˜¯æ²¡æ°´<br>7. çº¯é è½¯ä»¶ç®—æ³•ï¼ŒåŠ æµé‡è®¡ï¼Œå¯åŠ¨æ³µä¹‹åè®¡ç®—å‡ºæ’æ°´é‡ æ¯æ¬¡æ°´ç®±ä¸Šæ°´ä¹‹åæ‰‹åŠ¨å¤ä½ï¼Œå½“å‰çš„æ°´é‡=æ€»é‡-æ¶ˆè€—çš„ <br>è¦è€ƒè™‘ä¸€å®šæ—¶é—´è’¸å‘çš„ç»éªŒæ•°æ®ï¼Œæµé‡è®¡ä¸è½¬äº†å°±æ˜¯ä¸¥é‡ç¼ºæ°´äº†<br>å…ˆæƒ³è¿™ä¹ˆå¤š æŠ›ç –å¼•ç‰ä¸€ä¸‹","like_count":15,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512597,"discussion_content":"å¤§èµğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610807625,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":271027,"user_name":"å°äººç‰©","can_delete":false,"product_type":"c1","uid":1041418,"ip_address":"","ucode":"1C44CA700100C0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e4/0a/07c114ed.jpg","comment_is_top":false,"comment_ctime":1609376398,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"27379180174","product_id":100063601,"comment_content":"å¸Œæœ›è€å¸ˆèƒ½æŠŠé…å¥—ç¡¬ä»¶çš„å®˜æ–¹æŠ€æœ¯æ–‡æ¡£åœ°å€ç»™ä¸€ä¸‹ï¼Œæ¯”å¦‚æ¸©åº¦ä¼ æ„Ÿå™¨ï¼Œé…å¥—æœ‰ä¸¤ç§ï¼Œå¼•è„šçš„ä½œç”¨ä¸æ˜¯å¾ˆæ‡‚ï¼Œå°ç™½ä¸çŸ¥é“æ€ä¹ˆå»æ‰¾èµ„æ–™çœ‹","like_count":7,"discussions":[{"author":{"id":1230213,"avatar":"https://static001.geekbang.org/account/avatar/00/12/c5/85/2651f4dd.jpg","nickname":"è°¢mingmin","note":"","ucode":"563B4DB118D394","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350899,"discussion_content":"ç™¾åº¦æœç´¢ä¼ æ„Ÿå™¨å‹å·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614068180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":270946,"user_name":"Nior","can_delete":false,"product_type":"c1","uid":1089144,"ip_address":"","ucode":"FADC1F3CFA21FC","user_header":"https://static001.geekbang.org/account/avatar/00/10/9e/78/7663ed26.jpg","comment_is_top":false,"comment_ctime":1609326036,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14494227924","product_id":100063601,"comment_content":"ç›´æ¥åˆ©ç”¨ç°æœ‰çš„åœŸå£¤æ¹¿åº¦ä¼ æ„Ÿå™¨ï¼Œæ‰“å¼€æ°´æ³µåï¼ŒåœŸå£¤æ¹¿åº¦æ²¡æœ‰å‘ç”Ÿæ¯”è¾ƒæ˜æ˜¾çš„å˜åŒ–å°±æ˜¯æ²¡æ°´äº†","like_count":3},{"had_liked":false,"id":270378,"user_name":"CodeAllen","can_delete":false,"product_type":"c1","uid":1436590,"ip_address":"","ucode":"DC479F9F7845CA","user_header":"https://static001.geekbang.org/account/avatar/00/15/eb/ae/e4752b7e.jpg","comment_is_top":false,"comment_ctime":1609091302,"is_pvip":false,"replies":[{"id":"99265","content":"fritzing","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1610807518,"ip_address":"","comment_id":270378,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14493993190","product_id":100063601,"comment_content":"è¯·é—®ç¤ºæ„ç”µè·¯å›¾æ˜¯ä»€ä¹ˆè½¯ä»¶ï¼Œçœ‹ç€å¾ˆæ¼‚äº®","like_count":4,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512598,"discussion_content":"fritzing","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610807518,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1144865,"avatar":"https://static001.geekbang.org/account/avatar/00/11/78/21/e2b4c90c.jpg","nickname":"978!6","note":"","ucode":"9C95022F18C208","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337862,"discussion_content":"åº”è¯¥æ˜¯ fritzing","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609108666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272225,"user_name":"è¯„åˆ†å®¶","can_delete":false,"product_type":"c1","uid":1497684,"ip_address":"","ucode":"74854639559545","user_header":"https://static001.geekbang.org/account/avatar/00/16/da/54/835d24f3.jpg","comment_is_top":false,"comment_ctime":1609994944,"is_pvip":false,"replies":[{"id":"99233","content":"å¯ä»¥ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1610784249,"ip_address":"","comment_id":272225,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1609994944","product_id":100063601,"comment_content":"å†åŠ ä¸€ä¸ªå‹åŠ›è®¡ï¼Ÿå“ˆå“ˆ","like_count":0,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513205,"discussion_content":"å¯ä»¥ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610784249,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
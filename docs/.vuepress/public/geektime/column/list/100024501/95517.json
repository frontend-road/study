{"id":95517,"title":"29 | å¦‚ä½•åœ¨ iOS ä¸­è¿›è¡Œé¢å‘æµ‹è¯•é©±åŠ¨å¼€å‘å’Œé¢å‘è¡Œä¸ºé©±åŠ¨å¼€å‘ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æˆ´é“­ã€‚ä»Šå¤©ï¼Œæˆ‘è¦å’Œä½ åˆ†äº«çš„è¯é¢˜æ˜¯ï¼Œå¦‚ä½•åœ¨ iOS ä¸­è¿›è¡Œé¢å‘æµ‹è¯•é©±åŠ¨å¼€å‘å’Œé¢å‘è¡Œä¸ºé©±åŠ¨å¼€å‘ã€‚</p><p>æ¯å½“ä½ ç¼–å†™å®Œä»£ç åï¼Œéƒ½ä¼šç¼–è¯‘çœ‹çœ‹è¿è¡Œç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸã€‚å¦‚æœè¿™æ®µä»£ç çš„å½±å“èŒƒå›´å°ï¼Œä½ å¾ˆå®¹æ˜“å°±èƒ½çœ‹å‡ºç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œè€Œå¦‚æœéªŒè¯çš„ç»“æœæ˜¯ä¸ç¬¦åˆé¢„æœŸï¼Œé‚£ä¹ˆä½ å°±ä¼šæ£€æŸ¥åˆšæ‰ç¼–å†™çš„ä»£ç æ˜¯å¦æœ‰é—®é¢˜ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœè¿™æ®µä»£ç çš„å½±å“èŒƒå›´æ¯”è¾ƒå¤§ï¼Œè¿™æ—¶éœ€è¦æ£€æŸ¥çš„åœ°æ–¹å°±ä¼šéå¸¸å¤šï¼Œç›¸åº”åœ°ï¼Œäººå·¥æ£€æŸ¥çš„æ—¶é—´æˆæœ¬ä¹Ÿä¼šéå¸¸å¤§ã€‚ç‰¹åˆ«æ˜¯å›¢é˜Ÿæˆå‘˜å¤šã€å·¥ç¨‹ä»£ç é‡å¤§æ—¶ï¼Œåˆ¤æ–­è¿™æ®µä»£ç çš„å½±å“é¢éƒ½éœ€è¦è€—è´¹å¾ˆå¤šæ—¶é—´ã€‚é‚£ä¹ˆï¼Œæ¯æ¬¡ç¼–å†™å®Œä»£ç ï¼Œå…ˆåˆ¤æ–­å®ƒçš„å½±å“é¢ï¼Œç„¶åå†æ‰‹åŠ¨ç¼–è¯‘è¿›è¡Œæ£€æŸ¥çš„å¼€å‘æ–¹å¼ï¼Œæ•ˆç‡å°±éå¸¸ä½äº†ï¼Œä¼šæµªè´¹å¤§é‡æ—¶é—´ã€‚</p><p>è™½è¯´ä¸€èˆ¬å…¬å¸éƒ½ä¼šæœ‰ä¸“é—¨çš„æµ‹è¯•å›¢é˜Ÿå¯¹äº§å“è¿›è¡Œå¤§é‡æµ‹è¯•ï¼Œä½†æ˜¯å¦‚æœä¸èƒ½åœ¨å¼€å‘é˜¶æ®µåŠæ—¶å‘ç°é—®é¢˜ï¼Œå½“å„å›¢é˜Ÿä»£ç é›†æˆåˆ°ä¸€èµ·ï¼ŒæŠŠæ‰€æœ‰é—®é¢˜éƒ½å †ç§¯åˆ°æµ‹è¯•é˜¶æ®µå»å‘ç°ã€è§£å†³ï¼Œå°±ä¼šæµªè´¹å¤§é‡çš„æ²Ÿé€šæ—¶é—´ï¼Œä¸å…‰æ˜¯å¼€å‘åŒå­¦å’Œæµ‹è¯•åŒå­¦ä¹‹é—´çš„æ²Ÿé€šæ—¶é—´ï¼Œè¿˜æœ‰å¼€å‘å›¢é˜Ÿä¹‹é—´çš„æ²Ÿé€šæ—¶é—´ä¹Ÿä¼šå‘ˆæŒ‡æ•°çº§å¢åŠ ã€‚</p><p>é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆå¥½çš„å¼€å‘æ–¹å¼ï¼Œèƒ½å¤Ÿæé«˜åœ¨ç¼–å†™ä»£ç ååŠæ—¶æ£€éªŒç»“æœçš„æ•ˆç‡å‘¢ï¼Ÿ</p><p>æ‰€è°“å¥½çš„å¼€å‘æ–¹å¼ï¼Œå°±æ˜¯å¼€å‘ã€æµ‹è¯•åŒæ­¥è¿›è¡Œï¼Œå°½æ—©å‘ç°é—®é¢˜ã€‚ä»æµ‹è¯•èŒƒå›´å’Œå¼€å‘æ¨¡å¼çš„è§’åº¦ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŠŠè¿™ç§å¼€å‘æ¨¡å¼ç»†åˆ†å‡ºæ›´å¤šç±»å‹ã€‚</p><!-- [[[read_end]]] --><p><strong>ä»æµ‹è¯•èŒƒå›´ä¸Šæ¥åˆ’åˆ†çš„è¯</strong>ï¼Œè½¯ä»¶æµ‹è¯•å¯ä»¥åˆ†ä¸ºå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€ç³»ç»Ÿæµ‹è¯•ã€‚æµ‹è¯•å›¢é˜Ÿè´Ÿè´£çš„æ˜¯é›†æˆæµ‹è¯•ä»¥åŠç³»ç»Ÿæµ‹è¯•ï¼Œè€Œå•å…ƒæµ‹è¯•åˆ™æ˜¯æœ‰å¼€å‘è€…è´Ÿè´£çš„ã€‚å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œé€šè¿‡å•å…ƒæµ‹è¯•å°±å¯ä»¥æœ‰æ•ˆæé«˜ç¼–å†™ä»£ç åå¿«é€Ÿå‘ç°é—®é¢˜çš„æ•ˆç‡ã€‚</p><p>æ¦‚æ‹¬æ¥è¯´ï¼Œå•å…ƒæµ‹è¯•ï¼Œä¹Ÿå«ä½œæ¨¡å—æµ‹è¯•ï¼Œå°±æ˜¯å¯¹å•ä¸€çš„åŠŸèƒ½ä»£ç è¿›è¡Œæµ‹è¯•ã€‚è¿™ä¸ªåŠŸèƒ½ä»£ç ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªç±»çš„æ–¹æ³•ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªæ¨¡å—çš„æŸä¸ªå‡½æ•°ã€‚</p><p>å•å…ƒæµ‹è¯•ä¼šä½¿ç”¨ Mock æ–¹å¼æ¨¡æ‹Ÿå¤–éƒ¨ä½¿ç”¨ï¼Œé€šè¿‡ç¼–å†™çš„å„ç§æµ‹è¯•ç”¨ä¾‹å»æ£€éªŒä»£ç çš„åŠŸèƒ½æ˜¯å¦æ­£å¸¸ã€‚ä¸€ä¸ªç³»ç»Ÿéƒ½æ˜¯ç”±å„ä¸ªåŠŸèƒ½ç»„åˆè€Œæˆï¼ŒåŠŸèƒ½æ¨¡å—åˆ’åˆ†å¾—è¶Šå°ï¼ŒåŠŸèƒ½èŒè´£å°±è¶Šæ¸…æ™°ã€‚æ¸…æ™°çš„åŠŸèƒ½èŒè´£å¯ä»¥ç¡®ä¿å•ä¸ªåŠŸèƒ½çš„æµ‹è¯•ä¸ä¼šå‡ºç°é—®é¢˜ï¼Œæ˜¯å•å…ƒæµ‹è¯•çš„åŸºç¡€ã€‚</p><p><strong>ä»å¼€å‘æ¨¡å¼åˆ’åˆ†çš„è¯ï¼Œ</strong>å¼€å‘æ–¹å¼å¯ä»¥åˆ†ä¸º TDDï¼ˆTest-driven developmentï¼Œé¢å‘æµ‹è¯•é©±åŠ¨å¼€å‘ï¼‰å’Œ BDDï¼ˆBehavior-driven development ï¼Œé¢å‘è¡Œä¸ºé©±åŠ¨å¼€å‘ï¼‰ã€‚</p><ul>\n<li>TDD çš„å¼€å‘æ€è·¯æ˜¯ï¼Œå…ˆç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œç„¶ååœ¨ä¸è€ƒè™‘ä»£ç ä¼˜åŒ–çš„æƒ…å†µä¸‹å¿«é€Ÿç¼–å†™åŠŸèƒ½å®ç°ä»£ç ï¼Œç­‰åŠŸèƒ½å¼€å‘å®Œæˆåï¼Œåœ¨æµ‹è¯•ç”¨ä¾‹çš„ä¿éšœä¸‹ï¼Œå†è¿›è¡Œä»£ç é‡æ„ï¼Œä»¥æé«˜ä»£ç è´¨é‡ã€‚</li>\n<li>BDD æ˜¯ TDD çš„è¿›åŒ–ï¼ŒåŸºäºè¡Œä¸ºè¿›è¡ŒåŠŸèƒ½æµ‹è¯•ï¼Œä½¿ç”¨ DSLï¼ˆDomain Specific Languageï¼Œé¢†åŸŸç‰¹å®šè¯­è¨€ï¼‰æ¥æè¿°æµ‹è¯•ç”¨ä¾‹ï¼Œè®©æµ‹è¯•ç”¨ä¾‹çœ‹èµ·æ¥å’Œæ–‡æ¡£ä¸€æ ·ï¼Œæ›´æ˜“è¯»ã€æ›´å¥½ç»´æŠ¤ã€‚</li>\n</ul><p>TDD ç¼–å†™çš„æµ‹è¯•ç”¨ä¾‹ä¸»è¦é’ˆå¯¹çš„æ˜¯å¼€å‘ä¸­æœ€å°å•å…ƒè¿›è¡Œæµ‹è¯•ï¼Œé€‚åˆå•å…ƒæµ‹è¯•ã€‚è€Œ BDD çš„æµ‹è¯•ç”¨ä¾‹æ˜¯å¯¹è¡Œä¸ºçš„æè¿°ï¼Œæµ‹è¯•èŒƒå›´å¯ä»¥æ›´å¤§ä¸€äº›ï¼Œåœ¨é›†æˆæµ‹è¯•å’Œç³»ç»Ÿæµ‹è¯•æ—¶éƒ½å¯ä»¥ä½¿ç”¨ã€‚åŒæ—¶ï¼Œä¸ä»…å¼€å‘è€…å¯ä»¥ä½¿ç”¨BDDçš„æµ‹è¯•ç”¨ä¾‹é«˜æ•ˆåœ°å‘ç°é—®é¢˜ï¼Œæµ‹è¯•å›¢é˜Ÿä¹Ÿèƒ½å¤Ÿå¾ˆå®¹æ˜“å‚ä¸ç¼–å†™ã€‚è¿™ï¼Œéƒ½å¾—ç›Šäº BDD å¯ä»¥ä½¿ç”¨æ˜“äºç¼–å†™è¡Œä¸ºåŠŸèƒ½æµ‹è¯•çš„ DSL è¯­è¨€ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘å°±å’Œä½ è¯¦ç»†èŠèŠ TDD å’Œ BDDã€‚</p><h2>TDD</h2><p>æˆ‘åˆšåˆšä¹Ÿå·²ç»æåˆ°äº†ï¼ŒTDDåœ¨ç¡®å®šåŠŸèƒ½éœ€æ±‚åï¼Œé¦–å…ˆå°±ä¼šå¼€å§‹ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œç”¨æ¥æ£€éªŒæ¯æ¬¡çš„ä»£ç æ›´æ–°ï¼Œèƒ½å¤Ÿè®©æˆ‘ä»¬æ›´å¿«åœ°å‘ç°é—®é¢˜ï¼Œå¹¶èƒ½ä¿æ­£ä¸ä¼šæ¼æ‰é—®é¢˜ã€‚å…¶å®ï¼Œè¿™å°±æ˜¯é€šè¿‡æµ‹è¯•ç”¨ä¾‹æ¥æ¨åŠ¨å¼€å‘ã€‚</p><p>åœ¨æ€æƒ³ä¸Šï¼Œå’Œæ‹¿åˆ°åŠŸèƒ½éœ€æ±‚åç›´æ¥å¼€å‘åŠŸèƒ½çš„åŒºåˆ«æ˜¯ï¼ŒTDDä¼šå…ˆè€ƒè™‘å¦‚ä½•å¯¹åŠŸèƒ½è¿›è¡Œæµ‹è¯•ï¼Œç„¶åå†å»è€ƒè™‘å¦‚ä½•ç¼–å†™ä»£ç ï¼Œè¿™å°±ç»™ä¼˜åŒ–ä»£ç æä¾›äº†æ›´å¤šçš„æ—¶é—´å’Œç©ºé—´ï¼Œå³ä½¿å‡ ä¸ªç‰ˆæœ¬è¿‡åå†æ¥ä¼˜åŒ–ï¼Œåªè¦èƒ½å¤Ÿé€šè¿‡å…ˆå‰å†™å¥½çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå°±èƒ½å¤Ÿä¿è¯ä»£ç è´¨é‡ã€‚</p><p>æ‰€ä»¥è¯´ï¼ŒTDD éå¸¸é€‚åˆå¿«é€Ÿè¿­ä»£çš„èŠ‚å¥ï¼Œå…ˆå°½å¿«å®ç°åŠŸèƒ½ï¼Œç„¶åå†è¿›è¡Œé‡æ„å’Œä¼˜åŒ–ã€‚å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨ TDD æ¥è¿›è¡Œå¿«é€Ÿè¿­ä»£å¼€å‘ï¼Œè™½ç„¶åœ¨æœ€å¼€å§‹çš„æ—¶å€™å¼€å‘æ•ˆç‡ä¼šæ¯” TDD é«˜ï¼Œä½†æ˜¯è¿‡å‡ ä¸ªç‰ˆæœ¬å†è¿›è¡ŒåŠŸèƒ½æ›´æ–°æ—¶ï¼Œå°±éœ€è¦åœ¨åŠŸèƒ½éªŒè¯ä¸ŠèŠ±è´¹å¤§é‡çš„æ—¶é—´ï¼Œåè€Œå¾—ä¸å¿å¤±ã€‚</p><p>å…¶å®ï¼ŒTDD è¿™ç§å¼€å‘æ¨¡å¼å’Œç”»æ¼«ç”»çš„å·¥ä½œæ–¹å¼éå¸¸ç±»ä¼¼ï¼šè‰ç¨¿å°±ç±»ä¼¼ TDD ä¸­çš„æµ‹è¯•ç”¨ä¾‹ï¼Œæ¼«ç”»å®¶å…ˆç”»è‰ç¨¿ï¼Œç»†èŠ‚ç”±æ¼«ç”»å®¶å’ŒåŠ©æ‰‹ä¸€èµ·å®Œæˆï¼Œæ— è®ºåŠ©æ‰‹æ€ä¹ˆæ¢ï¼Œæœ‰äº†è‰ç¨¿çš„ä¿éšœï¼Œå†…å®¹éƒ½ä¸ä¼šæœ‰åå·®ã€‚åˆ†é•œçš„è‰ç¨¿æ²¡æœ‰ç»†èŠ‚ï¼Œäººç‰©çœ¼ç›ã€é¼»å­éƒ½å¯èƒ½æ²¡æœ‰ï¼Œåœºæ™¯ä¹Ÿåªéœ€è¦å‡ æ¡é€è§†çº¿å°±å¯ä»¥ã€‚è™½ç„¶æ²¡æœ‰ç»†èŠ‚ï¼Œä½†æ˜¯è‰ç¨¿åŸºæœ¬å°±ç¡®å®šäº†æ¼«ç”»å®Œæˆåè¦è¡¨è¾¾çš„æ‰€æœ‰å†…å®¹ã€‚</p><h2>BDD</h2><p>ç›¸æ¯” TDDï¼ŒBDDæ›´å…³æ³¨çš„æ˜¯è¡Œä¸ºæ–¹å¼çš„è®¾è®¡ï¼Œé€šè¿‡å¯¹è¡Œä¸ºçš„æè¿°æ¥éªŒè¯åŠŸèƒ½çš„å¯ç”¨æ€§ã€‚è¡Œä¸ºæè¿°ä½¿ç”¨çš„ DSLï¼Œè§„èŒƒã€æ ‡å‡†è€Œä¸”å¯è¯»æ€§é«˜ï¼Œå¯ä»¥å½“ä½œæ–‡æ¡£æ¥ä½¿ç”¨ã€‚</p><p>BDD çš„ Objective-C æ¡†æ¶æœ‰ <a href=\"https://github.com/kiwi-bdd/Kiwi\">Kiwi</a>ã€<a href=\"https://github.com/specta/specta\">Specta</a>ã€<a href=\"https://github.com/specta/expecta\">Expecta</a>ç­‰ï¼ŒSwift æ¡†æ¶æœ‰ <a href=\"https://github.com/Quick/Quick\">Quick</a>ã€‚</p><p>Kiwiæ¡†æ¶ä¸å…‰æœ‰ Specta çš„ DSL æ¨¡å¼ï¼ŒExpectaæ¡†æ¶çš„æœŸæœ›è¯­æ³•ï¼Œè¿˜æœ‰ Mocks å’Œ Stubs è¿™æ ·çš„æ¨¡æ‹Ÿå­˜æ ¹èƒ½åŠ›ã€‚æ‰€ä»¥æ¥ä¸‹æ¥ï¼Œæˆ‘å°±è·Ÿä½ è¯´è¯´è¿™ä¸ªiOSä¸­éå¸¸æœ‰åå¹¶ä¸”å¥½ç”¨çš„BDDæ¡†æ¶ï¼Œä»¥åŠæ€ä¹ˆç”¨å®ƒæ¥è¿›è¡Œ BDD å¼€å‘ã€‚</p><h2>Kiwi</h2><p>å°†Kiwié›†æˆåˆ°ä½ çš„Appé‡Œï¼Œåªéœ€è¦åœ¨ Podfile é‡Œæ·»åŠ  pod â€˜Kiwiâ€™ å³å¯ã€‚ä¸‹é¢è¿™æ®µä»£ç ï¼Œæ˜¯ Kiwi çš„ä½¿ç”¨ç¤ºä¾‹ï¼š</p><pre><code>// describe è¡¨ç¤ºè¦æµ‹è¯•çš„å¯¹è±¡\ndescribe(@&quot;RSSListViewController&quot;, ^{\n    // context è¡¨ç¤ºçš„æ˜¯ä¸åŒåœºæ™¯ä¸‹çš„è¡Œä¸º\n    context(@&quot;when get RSS data&quot;, ^{\n        // åŒä¸€ä¸ª context ä¸‹æ¯ä¸ª it è°ƒç”¨ä¹‹å‰ä¼šè°ƒç”¨ä¸€æ¬¡ beforeEach\n        beforeEach(^{\n            id dataStore = [DataStore new];\n        });\n\n\n        // it è¡¨ç¤ºæµ‹è¯•å†…å®¹ï¼Œä¸€ä¸ª context å¯ä»¥æœ‰å¤šä¸ª it\n        it(@&quot;load data&quot;, ^{\n            // Kiwi ä½¿ç”¨é“¾å¼è°ƒç”¨ï¼Œshould è¡¨ç¤ºä¸€ä¸ªæœŸå¾…ï¼Œç”¨æ¥éªŒè¯å¯¹è±¡è¡Œä¸ºæ˜¯å¦æ»¡è¶³æœŸæœ›\n            [[theValue(dataStore.count) shouldNot] beNil];\n        });\n    });\n});\n</code></pre><p>ä¸Šé¢è¿™ä»£ç æè¿°çš„æ˜¯åœ¨ RSS åˆ—è¡¨é¡µé¢ï¼Œå½“è·å– RSS æ•°æ®æ—¶å»è¯»å–æ•°æ®è¿™ä¸ªè¡Œä¸ºçš„æµ‹è¯•ç”¨ä¾‹ã€‚è¿™æ®µæµ‹è¯•ç”¨ä¾‹ä»£ç ï¼ŒåŒ…å«äº† Kiwi çš„åŸºæœ¬å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯describeã€contextã€itã€‚è¿™äº›å…ƒç´ é—´çš„å…³ç³»å¯ä»¥è¡¨è¿°ä¸ºï¼š</p><ul>\n<li>describe è¡¨ç¤ºè¦æµ‹è¯•çš„å¯¹è±¡ï¼Œcontext è¡¨ç¤ºçš„æ˜¯ä¸åŒåœºæ™¯ä¸‹çš„è¡Œä¸ºï¼Œä¸€ä¸ª describe é‡Œå¯ä»¥åŒ…å«å¤šä¸ª contextã€‚</li>\n<li>itè¡¨ç¤ºçš„æ˜¯éœ€è¦æµ‹è¯•çš„å†…å®¹ï¼ŒåŒä¸€ä¸ªåœºæ™¯ä¸‹çš„è¡Œä¸ºä¼šæœ‰å¤šä¸ªéœ€è¦æµ‹è¯•çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ª context ä¸‹å¯ä»¥æœ‰å¤šä¸ª itã€‚</li>\n</ul><p>æµ‹è¯•å†…å®¹ä½¿ç”¨çš„æ˜¯ Kiwi çš„ DSL è¯­æ³•ï¼Œé‡‡ç”¨çš„æ˜¯é“¾å¼è°ƒç”¨ã€‚ä¸Šé¢ç¤ºä¾‹ä»£ç ä¸­ shouldNot æ˜¯æœŸæœ›è¯­æ³•ï¼ŒæœŸæœ›æ˜¯ç”¨æ¥éªŒè¯å¯¹è±¡è¡Œä¸ºæ˜¯å¦æ»¡è¶³æœŸæœ›ã€‚</p><p>æœŸæœ›è¯­æ³•å¯ä»¥æ˜¯æœŸæœ›æ•°å€¼å’Œæ•°å­—ï¼Œä¹Ÿå¯ä»¥æ˜¯æœŸæœ›å­—ç¬¦ä¸²çš„åŒ¹é…ï¼Œæ¯”å¦‚ï¼š</p><pre><code>[[string should] containString:@&quot;rss&quot;];\n</code></pre><p>should containString è¯­æ³•è¡¨ç¤ºçš„æ˜¯ï¼ŒæœŸæœ› string åŒ…å«äº† rss å­—ç¬¦ä¸²ã€‚Kiwi é‡Œçš„æœŸæœ›è¯­æ³•éå¸¸ä¸°å¯Œï¼Œè¿˜æœ‰æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€æ•°é‡å˜åŒ–ã€å¯¹è±¡æµ‹è¯•ã€é›†åˆã€äº¤äº’å’Œæ¶ˆæ¯ã€é€šçŸ¥ã€å¼‚æ­¥è°ƒç”¨ã€å¼‚å¸¸ç­‰ã€‚å®Œæ•´çš„æœŸæœ›è¯­æ³•æè¿°ï¼Œä½ å¯ä»¥æŸ¥çœ‹Wikiçš„ <a href=\"https://github.com/allending/Kiwi/wiki/Expectations\">Expectations éƒ¨åˆ†</a>ã€‚</p><p>é™¤äº†æœŸæœ›è¯­æ³•å¤–ï¼ŒKiwi è¿˜æ”¯æŒæ¨¡æ‹Ÿå¯¹è±¡å’Œå­˜æ ¹è¯­æ³•ã€‚</p><p>æ¨¡æ‹Ÿå¯¹è±¡èƒ½å¤Ÿé™ä½å¯¹è±¡ä¹‹é—´çš„ä¾èµ–ï¼Œå¯ä»¥æ¨¡æ‹Ÿéš¾ä»¥å‡ºç°çš„æƒ…å†µã€‚æ¨¡æ‹Ÿå¯¹è±¡åŒ…å«äº†æ¨¡æ‹Ÿ Null å¯¹è±¡ã€æ¨¡æ‹Ÿç±»çš„å®ä¾‹ã€æ¨¡æ‹Ÿåè®®çš„å®ä¾‹ç­‰ã€‚å­˜æ ¹å¯ä»¥è¿”å›æŒ‡å®šé€‰æ‹©å™¨æˆ–æ¶ˆæ¯æ¨¡å¼çš„è¯·æ±‚ï¼Œå¯ä»¥å­˜æ ¹å¯¹è±¡å’Œæ¨¡æ‹Ÿå¯¹è±¡ã€‚</p><p>æ¨¡æ‹Ÿå¯¹è±¡å’Œå­˜æ ¹çš„è¯¦ç»†è¯­æ³•å®šä¹‰ï¼Œä½ å¯ä»¥æŸ¥çœ‹Wiki çš„ <a href=\"https://github.com/allending/Kiwi/wiki/Mocks-and-Stubs\">Mocks and Stubs éƒ¨åˆ†</a>ã€‚</p><h2>å°ç»“</h2><p>æŒ‰ç…§ TDD å’Œ BDD æ–¹å¼å¼€å‘ï¼Œæœ‰åŠ©äºæ›´å¥½åœ°è¿›è¡Œæ¨¡å—åŒ–è®¾è®¡ï¼Œåˆ’æ¸…æ¨¡å—è¾¹ç•Œï¼Œè®©ä»£ç æ›´å®¹æ˜“ç»´æŠ¤ã€‚TDD åœ¨æµ‹è¯•ç”¨ä¾‹çš„ä¿éšœä¸‹æ›´å®¹æ˜“è¿›è¡Œä»£ç é‡æ„ä¼˜åŒ–ï¼Œå‡å°‘ debug æ—¶é—´ã€‚è€Œä½¿ç”¨ BDD ç¼–å†™çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåˆ™æ›´æ˜¯å¥½çš„æ–‡æ¡£ï¼Œå¯è¯»æ€§éå¸¸å¼ºã€‚é€šè¿‡è¿™äº›æµ‹è¯•ç”¨ä¾‹ï¼Œåœ¨ä¿®æ”¹ä»£ç æ—¶ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´æ–¹ä¾¿åœ°äº†è§£å¼€å‘ App çš„å·¥ä½œçŠ¶æ€ã€‚åŒæ—¶ï¼Œä¿®æ”¹å®Œä»£ç åè¿˜èƒ½å¤Ÿå¿«é€Ÿå…¨é¢åœ°æµ‹è¯•éªŒè¯é—®é¢˜ã€‚</p><p>æ— è®ºæ˜¯ TDD è¿˜æ˜¯ BDDï¼Œå¼€å‘ä¸­å¯¹äºæ¯ä¸ªå®ç°çš„æ–¹æ³•éƒ½è¦ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œè€Œä¸”è¦æ³¨æ„å…ˆç¼–å†™æµ‹è¯•ç”¨ä¾‹ä»£ç ï¼Œå†ç¼–å†™æ–¹æ³•å®ç°ä»£ç ã€‚æµ‹è¯•ç”¨ä¾‹éœ€è¦è€ƒè™‘åˆ°å„ç§å¼‚å¸¸æ¡ä»¶ï¼Œä»¥åŠè¾“å…¥è¾“å‡ºçš„è¾¹ç•Œã€‚ç¼–å†™å®Œæµ‹è¯•ç”¨ä¾‹è¿˜éœ€è¦æ£€æŸ¥å¦‚æœè¾“å…¥ä¸ºé”™æ—¶ï¼Œæµ‹è¯•ç”¨ä¾‹æ˜¯å¦ä¼šæ˜¾ç¤ºä¸ºé”™ã€‚</p><p>æœ€åéœ€è¦å¼ºè°ƒä¸€ç‚¹ï¼Œå¥½çš„æ¨¡å—åŒ–æ¶æ„å’Œ TDD ã€BDD æ˜¯ç›¸è¾…ç›¸æˆçš„ã€‚TDD å’Œ BDD å¼€å‘æ–¹å¼ä¼šè®©ä½ çš„ä»£ç æ›´åŠ æ¨¡å—åŒ–ï¼Œè€Œæ¨¡å—åŒ–çš„æ¶æ„æ›´å®¹æ˜“ä½¿ç”¨ TDD å’Œ BDD çš„æ–¹å¼è¿›è¡Œå¼€å‘ã€‚</p><p>åœ¨å›¢é˜Ÿä¸­æ¨è¡Œ TDD å’Œ BDD çš„æœ€å¤§å›°éš¾ï¼Œå°±æ˜¯ä¸šåŠ¡è¿­ä»£å¤ªå¿«æ—¶ï¼Œæ²¡æœ‰æ—¶é—´å»å†™æµ‹è¯•ç”¨ä¾‹ã€‚æˆ‘çš„å»ºè®®æ˜¯ï¼Œä¼˜å…ˆå¯¹åŸºç¡€èƒ½åŠ›çš„åŠŸèƒ½å¼€å‘ä½¿ç”¨ TDD å’Œ BDDï¼Œä¿è¯äº†åŸºç¡€èƒ½åŠ›çš„ç¨³å®šï¼Œä¸šåŠ¡æ€ä¹ˆå˜ï¼Œåº•å­è¿˜éƒ½æ˜¯ç¨³å›ºçš„ï¼›å½“æœ‰äº†ä¸šåŠ¡è¿­ä»£ã€æœ‰äº†é—´éš™æ—¶ï¼Œå†è€ƒè™‘åœ¨æ ¸å¿ƒä¸šåŠ¡ä¸Šé‡‡ç”¨ BDDï¼Œæœ€å¤§ç¨‹åº¦çš„ä¿è¯ App æ ¸å¿ƒåŠŸèƒ½çš„ç¨³å®šã€‚</p><h2>è¯¾åä½œä¸š</h2><p>ä»Šå¤©æˆ‘è·Ÿä½ èŠäº†å¾ˆå¤š TDD å’Œ BDD çš„ä¼˜ç‚¹ï¼Œä½†æ˜¯å¾ˆå¤šå›¢é˜Ÿå¹¶æ²¡æœ‰ä½¿ç”¨è¿™æ ·çš„å¼€å‘æ–¹å¼ï¼Œä½ è§‰å¾—è¿™å…¶ä¸­çš„åŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç»™æˆ‘ç•™è¨€åˆ†äº«ä½ çš„è§‚ç‚¹ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><p></p>","neighbors":{"left":{"article_title":"28 | æ€ä¹ˆåº”å¯¹å„ç§å¯Œæ–‡æœ¬è¡¨ç°éœ€æ±‚ï¼Ÿ","id":95023},"right":{"article_title":"30 | å¦‚ä½•åˆ¶å®šä¸€å¥—é€‚åˆè‡ªå·±å›¢é˜Ÿçš„ iOS ç¼–ç è§„èŒƒï¼Ÿ","id":95854}},"comments":[{"had_liked":false,"id":98901,"user_name":"xilie","can_delete":false,"product_type":"c1","uid":1013805,"ip_address":"","ucode":"AFCC4E157F7830","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJVegfjqa0gM4hcRrBhZkIf7Uc5oeTMYsg6o5pd76IQlUoIIh2ic6P22xVEFtRnAzjyLtiaPVstkKug/132","comment_is_top":false,"comment_ctime":1559114713,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"74573558745","product_id":100024501,"comment_content":"çœ‹åˆ°è¿™ä¸ª â€œæ­£åœ¨æ‰‹æ·˜æ¨åŠ¨BDDğŸ˜„â€ å°±æ”¾å¿ƒäº†ï¼ŒåŸæ¥å¤§å®¶éƒ½ä¸åšå•å…ƒæµ‹è¯•çš„å“ˆ","like_count":17},{"had_liked":false,"id":95119,"user_name":"Trust me Ò‰Ò‰Ò‰Ò‰Ò‰Ò‰Ò‰â€","can_delete":false,"product_type":"c1","uid":1112913,"ip_address":"","ucode":"B576CBDE262A40","user_header":"https://static001.geekbang.org/account/avatar/00/10/fb/51/870a6fcb.jpg","comment_is_top":false,"comment_ctime":1557970544,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"61687512688","product_id":100024501,"comment_content":"æ­£åœ¨æ‰‹æ·˜æ¨åŠ¨BDDğŸ˜„","like_count":15,"discussions":[{"author":{"id":1156383,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/OokHAy1fSOhBwwbbzud7seB5MEk4JezcGCS4Tzia7iaLOibCKgrj6PCN2b17bVAb224ygdLgjWVMnZsH18ibNoSTVA/132","nickname":"æ¾œå¥","note":"","ucode":"8682168E18B068","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":40314,"discussion_content":"æ‰‹æ·˜çš„åŒå­¦ï¼Œæœ€è¿‘æ›´æ–°appåï¼Œå•†å“è¯¦æƒ…é¡µï¼Œç»å¸¸åˆ’ä¸åŠ¨åƒå¡æ­»ä¸€æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572160886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1454525,"avatar":"https://static001.geekbang.org/account/avatar/00/16/31/bd/62c945b4.jpg","nickname":"Link","note":"","ucode":"64849EF2B97975","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2639,"discussion_content":"éº»çƒ¦æ‰‹æ·˜çš„åŒå­¦çœ‹çœ‹å¾®æ·˜æ¨¡å—, bugå¾ˆå¤š, ç»å¸¸å›¾ç‰‡åŠ è½½ä¸å‡ºæ¥, ç‚¹å‡»æ–°å“ç›´æ¥é»‘å±, å¿…é¡»æ€app","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563809589,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1471551,"avatar":"https://static001.geekbang.org/account/avatar/00/16/74/3f/52fa1e72.jpg","nickname":"findU","note":"","ucode":"B3F26ED4E5A29D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1007,"discussion_content":"å“ˆå“ˆå“ˆï¼Œä¹Ÿå°±æ˜¯è¯´å¤§å‚ä¹Ÿæ²¡åšå•å…ƒæµ‹è¯•å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562231143,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":182669,"user_name":"æ•…èƒ¤é“é•¿","can_delete":false,"product_type":"c1","uid":1001918,"ip_address":"","ucode":"CC42C4CD543833","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/be/970590a0.jpg","comment_is_top":false,"comment_ctime":1582847410,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31647618482","product_id":100024501,"comment_content":"æˆ´è€å¸ˆè®²å¾—éå¸¸å…¨é¢ã€‚æˆ‘ä¸ªäººè®¤ä¸ºTDDæœ€å¤§çš„é—®é¢˜æ˜¯åªå…³æ³¨å•ä¸ªåŠŸèƒ½çš„æ­£ç¡®æ€§ï¼Œå´æ— æ³•ä¿è¯è®¾è®¡ä¸Šçš„æ€§èƒ½ã€‚ä»æ•´ä½“è®¾è®¡è§’åº¦æ¥çœ‹TDDå¹¶æ²¡æœ‰ä¿ƒè¿›ä½œç”¨ã€‚","like_count":7},{"had_liked":false,"id":95065,"user_name":"å°ä¸‡å”å”","can_delete":false,"product_type":"c1","uid":1448768,"ip_address":"","ucode":"41966A18867C63","user_header":"https://static001.geekbang.org/account/avatar/00/16/1b/40/68e59e53.jpg","comment_is_top":false,"comment_ctime":1557965624,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31622736696","product_id":100024501,"comment_content":"æ²¡æœ‰é‡‡ç”¨TDDæˆ–BDDçš„åŸå› ï¼š ä¸€æ¥å¾ˆå¤šä¸šåŠ¡è¿­ä»£çš„æ¯”è¾ƒå¿«ï¼Œæ²¡æœ‰æ—¶é—´æ˜¯ä¸€ä¸ªåŸå› ã€‚ äºŒæ¥ï¼Œèƒ½å¤ŸTDDæ˜¯å»ºç«‹åœ¨ç¼–å†™TDDçš„åœºæ™¯è¶³å¤Ÿï¼Œä¹Ÿå°±æ˜¯èƒ½æ¨¡æ‹Ÿç»†ç²’åº¦æ¨¡å—çš„å¤–å›´ç¯å¢ƒï¼Œå¯¹äºå°é¡¹ç›®è€Œè¨€æƒ³è¦çš„å¾€å¾€å°±æ˜¯å¿«é€Ÿå‡ºäº§å“ï¼Œä¸€å¼€å§‹å°±å…³æ³¨ç»†ç²’åº¦æ¨¡å—åŒ–çš„å¾ˆå°‘ï¼Œå¯¹äºå¤§é¡¹ç›®ï¼Œå—å†å²åŸå› ä¸šåŠ¡ä¹‹é—´çš„å¼ºè€¦åˆå¯¼è‡´å¾ˆéš¾å»æ„å»ºMockåœºæ™¯ã€‚ æŒºèµåŒä»åŸºç¡€æ¨¡å—å’Œå¯¹å¤–çš„ SDK ç»“åˆä¸šåŠ¡çš„å‘å±•å»ç¼–å†™TDDå¯èƒ½æ›´åˆé€‚ã€‚<br>","like_count":7},{"had_liked":false,"id":98480,"user_name":"èµ¶ç´§å­¦èµ·æ¥","can_delete":false,"product_type":"c1","uid":1523664,"ip_address":"","ucode":"965392C1C38638","user_header":"https://static001.geekbang.org/account/avatar/00/17/3f/d0/5bd853ea.jpg","comment_is_top":false,"comment_ctime":1559009064,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18738878248","product_id":100024501,"comment_content":"å¤§éƒ½ä¸ç”¨TDD&#47;BDDï¼Œè§‰å¾—åŸå› æœ‰ä¸‰<br>1ã€ æµç¨‹ä¸å¤Ÿè§„èŒƒ<br>2ã€è¿­ä»£å¿«æ—¶é—´ç´§<br>3ã€å¼€å‘å®Œç»™æµ‹è¯•","like_count":4},{"had_liked":false,"id":95237,"user_name":"ä¸çŸ¥åçš„iOSç½‘å‹","can_delete":false,"product_type":"c1","uid":1454387,"ip_address":"","ucode":"8E21A2FD5C9697","user_header":"","comment_is_top":false,"comment_ctime":1557994735,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18737863919","product_id":100024501,"comment_content":"è¯¾ç¨‹ä¸€äº›ç¬”è®°ï¼šhttps:&#47;&#47;github.com&#47;CrusherWu&#47;iOSRoadMap","like_count":4},{"had_liked":false,"id":95138,"user_name":"æ—¶é—´éƒ½å»å“ªäº†","can_delete":false,"product_type":"c1","uid":1002729,"ip_address":"","ucode":"F1A52A55218C0B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4c/e9/6c5191ea.jpg","comment_is_top":false,"comment_ctime":1557973529,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"14442875417","product_id":100024501,"comment_content":"TDD,OCæœ‰ä»€ä¹ˆå¥½ç”¨çš„æ¨èæ¡†æ¶å—?","like_count":3,"discussions":[{"author":{"id":2382667,"avatar":"","nickname":"æ–‡åŸ¹å®š","note":"","ucode":"A13E83C4FFDEBC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375187,"discussion_content":"TDDè¿˜ç”¨æ¡†æ¶ï¼Ÿå†™æµ‹è¯•ç”¨æ¥ä¸æ˜¯å†™ä»£ç ~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621505186,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98170,"user_name":"Geek","can_delete":false,"product_type":"c1","uid":1456901,"ip_address":"","ucode":"8C1AD026C1AC84","user_header":"https://static001.geekbang.org/account/avatar/00/16/3b/05/b2776d73.jpg","comment_is_top":false,"comment_ctime":1558924087,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5853891383","product_id":100024501,"comment_content":"æ„Ÿè§‰å†…å®¹é«˜å¤§ä¸Šï¼Œå’Œæˆ‘ä»¬å°å…¬å¸ä¸æ²¾è¾¹ï¼Œä¸è¿‡ä½œä¸ºäº†è§£å†…å®¹ï¼Œè¿˜æ˜¯ä¸é”™çš„ï¼Œæ„Ÿè°¢å¤§ç¥","like_count":1},{"had_liked":false,"id":341329,"user_name":"lucas.liao","can_delete":false,"product_type":"c1","uid":2893420,"ip_address":"","ucode":"9C6F0DB859CE37","user_header":"","comment_is_top":false,"comment_ctime":1649523425,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649523425","product_id":100024501,"comment_content":"æ— è®ºæ˜¯ TDDã€TDDï¼Œæµ‹è¯•é€»è¾‘è¿˜æ˜¯æœ‰åŠæ³•å¯ä»¥åšï¼Œä½†æ˜¯å¯èƒ½éœ€è¦åšå¥½åˆ†å±‚ï¼Œmockæ•°æ®å•¥çš„ã€‚ä½†æ˜¯æµ‹è¯•è§†å›¾ç›®å‰æ¯”è¾ƒå›°éš¾ï¼Œæ¯”è¾ƒå¥½çš„å®è·µå°±æ˜¯ FB çš„ iOSSnapshotTest","like_count":0},{"had_liked":false,"id":293720,"user_name":"æ–‡åŸ¹å®š","can_delete":false,"product_type":"c1","uid":2382667,"ip_address":"","ucode":"A13E83C4FFDEBC","user_header":"","comment_is_top":false,"comment_ctime":1621504772,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621504772","product_id":100024501,"comment_content":"ä¸€ç›´åœ¨å°å…¬å¸å¾…ï¼Œå‘ç°æˆ‘è¿™TDDéƒ½æ˜¯ç›¸åçš„ï¼Œä¸€èˆ¬éƒ½æ˜¯å…ˆå¼€å‘ï¼Œåå†™æµ‹è¯•ç”¨ä¾‹ã€‚è€Œå¯¹äºBDDï¼Œä¸€èˆ¬æ¶‰åŠåˆ°çº¯é€»è¾‘çš„ä¸œè¥¿ï¼Œä¾‹å¦‚æŸç§ç®—æ³•çš„å®ç°ï¼Œæ‰ä¼šå»å†™æµ‹è¯•codeï¼Œå› ä¸ºæœ‰æ—¶å€™ä¹Ÿä¸ç¡®å®šè‡ªå·±çš„ç®—æ³•æ˜¯å¦å†™å¯¹äº†ã€‚","like_count":0},{"had_liked":false,"id":120803,"user_name":"Tiger Nong","can_delete":false,"product_type":"c1","uid":1456962,"ip_address":"","ucode":"B79F6A54AD8FB0","user_header":"https://static001.geekbang.org/account/avatar/00/16/3b/42/2b6313ec.jpg","comment_is_top":false,"comment_ctime":1564998122,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564998122","product_id":100024501,"comment_content":"æˆ´è€å¸ˆï¼Œå¦‚æœè¿™ä¸ªUIæ˜¯åœ¨SDKä¸­çš„è¯ï¼Œå¥½åƒæ˜¯è·å–ä¸åˆ°æ§ä»¶çš„ã€‚è¿˜æœ‰å¯ä»¥å°†ä¸€äº›mockè¿™å—çš„ä¸œè¥¿å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":95050,"user_name":"yuhao0x0628","can_delete":false,"product_type":"c1","uid":1332463,"ip_address":"","ucode":"BFD472974828A5","user_header":"https://static001.geekbang.org/account/avatar/00/14/54/ef/3cdfd916.jpg","comment_is_top":false,"comment_ctime":1557964390,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1557964390","product_id":100024501,"comment_content":"å¾ˆå¤šæƒ…æ³éƒ½æ˜¯ä¸€é–‹å§‹éƒ½æƒ³èªªå…ˆå¯¦ç¾å¹¾é …åŠŸèƒ½å†è£œæ¸¬è©¦ï¼Œç„¶å¾Œå°±ä¸€ç›´è£œä¸€ç›´å¯«ï¼Œè¦é¿å…é€™æ¨£çš„æƒ…æ³æœ€å¥½ä½¿ç”¨ TDD &#47; BDD åŒæ­¥æ¸¬è©¦ä»£ç¢¼ï¼Œç¢ºä¿æ•´é«”è³ªé‡ï¼Œä¹Ÿç®¡ç†æ¸¬è©¦ç”¨ä¾‹ã€‚ä¹Ÿç‚º CI åšå¥½å……è¶³çš„æº–å‚™ã€‚","like_count":0}]}
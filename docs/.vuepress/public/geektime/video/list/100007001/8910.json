{"id":8910,"title":"47 | Apollo FAQ和开发常见问题","content":"无","comments":[{"had_liked":false,"id":202056,"user_name":"J.Smile","can_delete":false,"product_type":"c3","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/d1ab239e.jpg","comment_is_top":false,"comment_ctime":1585895088,"is_pvip":false,"replies":[{"id":75956,"content":"Apollo基本是开箱即用的，我之前公司只有两个场景需要少量定制：\n1.  Apollo对接公司内部LDAP用户系统，实现通过公司账户登录Apollo。\n2. 为了给运营提供一个可以调整业务配置的界面，在Apollo API的基础上包装了一个定制配置界面。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1586171939,"ip_address":"","comment_id":202056,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"老师，一般需要修改Apollo源码吗？如果需要都有哪些场景呢","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490495,"discussion_content":"Apollo基本是开箱即用的，我之前公司只有两个场景需要少量定制：\n1.  Apollo对接公司内部LDAP用户系统，实现通过公司账户登录Apollo。\n2. 为了给运营提供一个可以调整业务配置的界面，在Apollo API的基础上包装了一个定制配置界面。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586171939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":198059,"user_name":"Geek_6jxh2r","can_delete":false,"product_type":"c3","uid":1154091,"ip_address":"","ucode":"0E2D4D779D8DC9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erxJYxzce3mZpuZFJNyTAvCibzLUTYbZepaBPNd7ichZgkMeibkQLmNzeb63zda1iaKJ6aIewUTA517hQ/132","comment_is_top":false,"comment_ctime":1585408059,"is_pvip":false,"replies":[{"id":75270,"content":"consul主要是一个服务注册中心，但是也支持一些简单配置功能。consul和apollo没有冲突，如果改用apollo，那么配置全部存apollo就好了。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1585749943,"ip_address":"","comment_id":198059,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"想请教下，我们目前是用的consul，如果用apollo，会有冲突么","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489637,"discussion_content":"consul主要是一个服务注册中心，但是也支持一些简单配置功能。consul和apollo没有冲突，如果改用apollo，那么配置全部存apollo就好了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585749943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135613,"user_name":"亮亮","can_delete":false,"product_type":"c3","uid":1438471,"ip_address":"","ucode":"F0A735E6A5D12B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq4MOA39w9A55icXsf5Q2NSSTQP0dkEtfAG1uDlSzqu3m4YIXTcQT1Zy3cyj6CGKr3eHjbkwiberCMQ/132","comment_is_top":false,"comment_ctime":1569228094,"is_pvip":false,"replies":[{"id":52033,"content":"可以，参考Apollo官方文档：\nhttps:&#47;&#47;github.com&#47;ctripcorp&#47;apollo&#47;wiki&#47;Portal-%E5%AE%9E%E7%8E%B0%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1569242908,"ip_address":"","comment_id":135613,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"请教老师：apollo跟ldap能整合吗？","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468271,"discussion_content":"可以，参考Apollo官方文档：\nhttps://github.com/ctripcorp/apollo/wiki/Portal-%E5%AE%9E%E7%8E%B0%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569242908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129589,"user_name":"timmy21","can_delete":false,"product_type":"c3","uid":1174860,"ip_address":"","ucode":"9D6DED247B1F38","user_header":"https://static001.geekbang.org/account/avatar/00/11/ed/4c/8674b6ad.jpg","comment_is_top":false,"comment_ctime":1567160554,"is_pvip":false,"replies":[{"id":48326,"content":"据我所知道，现有应用接入apollo一般都需要改造。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1567169549,"ip_address":"","comment_id":129589,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"请教老师一个关于Apollo配置的问题：当前应用是通过读取配置文件的方式启动的，如果要改造为使用Apollo，那么一定需要改造应用程序吗？还有其他途径吗？","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465555,"discussion_content":"据我所知道，现有应用接入apollo一般都需要改造。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567169549,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50427,"user_name":"Geek_fb3db2","can_delete":false,"product_type":"c3","uid":1218254,"ip_address":"","ucode":"8089B8311B6C80","user_header":"https://static001.geekbang.org/account/avatar/00/12/96/ce/8c3bdbe5.jpg","comment_is_top":false,"comment_ctime":1544971982,"is_pvip":false,"replies":[{"id":18266,"content":"Apollo官方文档提示支持Spring 3.1.1+","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1545054449,"ip_address":"","comment_id":50427,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"请问老师 接入spring 要求的spring最低版本是多少","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432982,"discussion_content":"Apollo官方文档提示支持Spring 3.1.1+","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545054449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50067,"user_name":"王盛武","can_delete":false,"product_type":"c3","uid":1182516,"ip_address":"","ucode":"DE7EF246D3DCE8","user_header":"https://static001.geekbang.org/account/avatar/00/12/0b/34/f41d73a4.jpg","comment_is_top":false,"comment_ctime":1544858592,"is_pvip":false,"replies":[{"id":18277,"content":"一般跨机房的话，运维在物理层要做好安全访问控制，简单考虑https+ip白名单，或其它安全隧道机制","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1545055791,"ip_address":"","comment_id":50067,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"Client接入的时候，如果跟Config Service不在一个机房，   那公网的任意人都可以访问， 是否有权限控制机制？","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432862,"discussion_content":"一般跨机房的话，运维在物理层要做好安全访问控制，简单考虑https+ip白名单，或其它安全隧道机制","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545055791,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":16478,"user_name":"上进的黄同学","can_delete":false,"product_type":"c3","uid":1099207,"ip_address":"","ucode":"79BE6C0A0ADE65","user_header":"https://static001.geekbang.org/account/avatar/00/10/c5/c7/ba488cdf.jpg","comment_is_top":false,"comment_ctime":1531971993,"is_pvip":false,"replies":[{"id":5951,"content":"我目前了解市场上还没有支持多租户注册中心这种产品，一般需要企业定制，一种做法是一套物理布署，逻辑上使用namespace名字空间进行隔离。简单办法就是多套物理布署。更多细节可微信交流：bulldog2015","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1532427686,"ip_address":"","comment_id":16478,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"波波老师你好，我想请教一个问题。希望能得到你的解答。\n我们公司主要业务是面向企业的私有云部署，现在考虑在项目中使用微服务架构以达到业务服务重用，同一私有云多产品线共用部分业务，多个私有云服务相互独立。现有的服务注册中心好像都不太符合要求。我现在考虑是否可以使用多注册中心（一个部署在私有云内部，用于内部服务调用。一个部署到公有云，用于产品运维）。这种方案可行吗？有什么比较成熟的技术体系吗？\n希望能得到你的解答","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420815,"discussion_content":"我目前了解市场上还没有支持多租户注册中心这种产品，一般需要企业定制，一种做法是一套物理布署，逻辑上使用namespace名字空间进行隔离。简单办法就是多套物理布署。更多细节可微信交流：bulldog2015","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1532427686,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
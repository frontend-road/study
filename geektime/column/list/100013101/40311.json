{"id":40311,"title":"19 | é”™è¯¯å¤„ç†ï¼ˆä¸Šï¼‰","content":"<p>æåˆ°Goè¯­è¨€ä¸­çš„é”™è¯¯å¤„ç†ï¼Œæˆ‘ä»¬å…¶å®å·²ç»åœ¨å‰é¢æ¥è§¦è¿‡å‡ æ¬¡äº†ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬å£°æ˜è¿‡<code>error</code>ç±»å‹çš„å˜é‡<code>err</code>ï¼Œä¹Ÿè°ƒç”¨è¿‡<code>errors</code>åŒ…ä¸­çš„<code>New</code>å‡½æ•°ã€‚ä»Šå¤©ï¼Œæˆ‘ä¼šç”¨è¿™ç¯‡æ–‡ç« ä¸ºä½ æ¢³ç†Goè¯­è¨€é”™è¯¯å¤„ç†çš„ç›¸å…³çŸ¥è¯†ï¼ŒåŒæ—¶æå‡ºä¸€äº›å…³é”®é—®é¢˜å¹¶ä¸ä½ ä¸€èµ·æ¢è®¨ã€‚</p><p>æˆ‘ä»¬è¯´è¿‡<code>error</code>ç±»å‹å…¶å®æ˜¯ä¸€ä¸ªæ¥å£ç±»å‹ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªGoè¯­è¨€çš„å†…å»ºç±»å‹ã€‚åœ¨è¿™ä¸ªæ¥å£ç±»å‹çš„å£°æ˜ä¸­åªåŒ…å«äº†ä¸€ä¸ªæ–¹æ³•<code>Error</code>ã€‚<code>Error</code>æ–¹æ³•ä¸æ¥å—ä»»ä½•å‚æ•°ï¼Œä½†æ˜¯ä¼šè¿”å›ä¸€ä¸ª<code>string</code>ç±»å‹çš„ç»“æœã€‚å®ƒçš„ä½œç”¨æ˜¯è¿”å›é”™è¯¯ä¿¡æ¯çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨<code>error</code>ç±»å‹çš„æ–¹å¼é€šå¸¸æ˜¯ï¼Œåœ¨å‡½æ•°å£°æ˜çš„ç»“æœåˆ—è¡¨çš„æœ€åï¼Œå£°æ˜ä¸€ä¸ªè¯¥ç±»å‹çš„ç»“æœï¼ŒåŒæ—¶åœ¨è°ƒç”¨è¿™ä¸ªå‡½æ•°ä¹‹åï¼Œå…ˆåˆ¤æ–­å®ƒè¿”å›çš„æœ€åä¸€ä¸ªç»“æœå€¼æ˜¯å¦â€œä¸ä¸º<code>nil</code>â€ã€‚</p><p>å¦‚æœè¿™ä¸ªå€¼â€œä¸ä¸º<code>nil</code>â€ï¼Œé‚£ä¹ˆå°±è¿›å…¥é”™è¯¯å¤„ç†æµç¨‹ï¼Œå¦åˆ™å°±ç»§ç»­è¿›è¡Œæ­£å¸¸çš„æµç¨‹ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œä»£ç åœ¨demo44.goæ–‡ä»¶ä¸­ã€‚</p><pre><code>package main\n\nimport (\n\t&quot;errors&quot;\n\t&quot;fmt&quot;\n)\n\nfunc echo(request string) (response string, err error) {\n\tif request == &quot;&quot; {\n\t\terr = errors.New(&quot;empty request&quot;)\n\t\treturn\n\t}\n\tresponse = fmt.Sprintf(&quot;echo: %s&quot;, request)\n\treturn\n}\n\nfunc main() {\n\tfor _, req := range []string{&quot;&quot;, &quot;hello!&quot;} {\n\t\tfmt.Printf(&quot;request: %s\\n&quot;, req)\n\t\tresp, err := echo(req)\n\t\tif err != nil {\n\t\t\tfmt.Printf(&quot;error: %s\\n&quot;, err)\n\t\t\tcontinue\n\t\t}\n\t\tfmt.Printf(&quot;response: %s\\n&quot;, resp)\n\t}\n}\n</code></pre><p>æˆ‘ä»¬å…ˆçœ‹<code>echo</code>å‡½æ•°çš„å£°æ˜ã€‚<code>echo</code>å‡½æ•°æ¥å—ä¸€ä¸ª<code>string</code>ç±»å‹çš„å‚æ•°<code>request</code>ï¼Œå¹¶ä¼šè¿”å›ä¸¤ä¸ªç»“æœã€‚</p><p>è¿™ä¸¤ä¸ªç»“æœéƒ½æ˜¯æœ‰åç§°çš„ï¼Œç¬¬ä¸€ä¸ªç»“æœ<code>response</code>ä¹Ÿæ˜¯<code>string</code>ç±»å‹çš„ï¼Œå®ƒä»£è¡¨äº†è¿™ä¸ªå‡½æ•°æ­£å¸¸æ‰§è¡Œåçš„ç»“æœå€¼ã€‚</p><p>ç¬¬äºŒä¸ªç»“æœ<code>err</code>å°±æ˜¯<code>error</code>ç±»å‹çš„ï¼Œå®ƒä»£è¡¨äº†å‡½æ•°æ‰§è¡Œå‡ºé”™æ—¶çš„ç»“æœå€¼ï¼ŒåŒæ—¶ä¹ŸåŒ…å«äº†å…·ä½“çš„é”™è¯¯ä¿¡æ¯ã€‚</p><!-- [[[read_end]]] --><p>å½“<code>echo</code>å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå®ƒä¼šå…ˆæ£€æŸ¥å‚æ•°<code>request</code>çš„å€¼ã€‚å¦‚æœè¯¥å€¼ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šé€šè¿‡è°ƒç”¨<code>errors.New</code>å‡½æ•°ï¼Œä¸ºç»“æœ<code>err</code>èµ‹å€¼ï¼Œç„¶åå¿½ç•¥æ‰åè¾¹çš„æ“ä½œå¹¶ç›´æ¥è¿”å›ã€‚</p><p>æ­¤æ—¶ï¼Œç»“æœ<code>response</code>çš„å€¼ä¹Ÿä¼šæ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚å¦‚æœ<code>request</code>çš„å€¼å¹¶ä¸æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå®ƒå°±ä¸ºç»“æœ<code>response</code>èµ‹ä¸€ä¸ªé€‚å½“çš„å€¼ï¼Œç„¶åè¿”å›ï¼Œæ­¤æ—¶ç»“æœ<code>err</code>çš„å€¼ä¼šæ˜¯<code>nil</code>ã€‚</p><p>å†æ¥çœ‹<code>main</code>å‡½æ•°ä¸­çš„ä»£ç ã€‚æˆ‘åœ¨æ¯æ¬¡è°ƒç”¨<code>echo</code>å‡½æ•°ä¹‹åï¼Œéƒ½ä¼šæŠŠå®ƒè¿”å›çš„ç»“æœå€¼èµ‹ç»™å˜é‡<code>resp</code>å’Œ<code>err</code>ï¼Œå¹¶ä¸”æ€»æ˜¯å…ˆæ£€æŸ¥<code>err</code>çš„å€¼æ˜¯å¦â€œä¸ä¸º<code>nil</code>â€ï¼Œå¦‚æœæ˜¯ï¼Œå°±æ‰“å°é”™è¯¯ä¿¡æ¯ï¼Œå¦åˆ™å°±æ‰“å°å¸¸è§„çš„å“åº”ä¿¡æ¯ã€‚</p><p>è¿™é‡Œå€¼å¾—æ³¨æ„çš„åœ°æ–¹æœ‰ä¸¤ä¸ªã€‚ç¬¬ä¸€ï¼Œåœ¨<code>echo</code>å‡½æ•°å’Œ<code>main</code>å‡½æ•°ä¸­ï¼Œæˆ‘éƒ½ä½¿ç”¨åˆ°äº†å«è¿°è¯­å¥ã€‚æˆ‘åœ¨å‰é¢è®²å‡½æ•°ç”¨æ³•çš„æ—¶å€™ä¹Ÿæåˆ°è¿‡å«è¿°è¯­å¥ã€‚ç®€å•åœ°è®²ï¼Œå®ƒå°±æ˜¯è¢«ç”¨æ¥æ£€æŸ¥åç»­æ“ä½œçš„å‰ç½®æ¡ä»¶å¹¶è¿›è¡Œç›¸åº”å¤„ç†çš„è¯­å¥ã€‚</p><p>å¯¹äº<code>echo</code>å‡½æ•°æ¥è¯´ï¼Œå®ƒè¿›è¡Œå¸¸è§„æ“ä½œçš„å‰ææ˜¯ï¼šä¼ å…¥çš„å‚æ•°å€¼ä¸€å®šè¦ç¬¦åˆè¦æ±‚ã€‚è€Œå¯¹äºè°ƒç”¨<code>echo</code>å‡½æ•°çš„ç¨‹åºæ¥è¯´ï¼Œè¿›è¡Œåç»­æ“ä½œçš„å‰æå°±æ˜¯<code>echo</code>å‡½æ•°çš„æ‰§è¡Œä¸èƒ½å‡ºé”™ã€‚</p><blockquote>\n<p><span class=\"reference\">æˆ‘ä»¬åœ¨è¿›è¡Œé”™è¯¯å¤„ç†çš„æ—¶å€™ç»å¸¸ä¼šç”¨åˆ°å«è¿°è¯­å¥ï¼Œä»¥è‡³äºæœ‰äº›äººä¼šåæ§½è¯´ï¼šâ€œæˆ‘çš„ç¨‹åºæ»¡å±éƒ½æ˜¯å«è¿°è¯­å¥ï¼Œç®€ç›´æ˜¯å¤ªéš¾çœ‹äº†ï¼â€</span></p>\n<p><span class=\"reference\">ä¸è¿‡ï¼Œæˆ‘å€’è®¤ä¸ºè¿™æœ‰å¯èƒ½æ˜¯ç¨‹åºè®¾è®¡ä¸Šçš„é—®é¢˜ã€‚æ¯ä¸ªç¼–ç¨‹è¯­è¨€çš„ç†å¿µå’Œé£æ ¼å‡ ä¹éƒ½ä¼šæœ‰æ˜æ˜¾çš„ä¸åŒï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦é¡ºåº”å®ƒä»¬çš„çº¹ç†å»åšè®¾è®¡ï¼Œè€Œä¸æ˜¯ç”¨å…¶ä»–è¯­è¨€çš„ç¼–ç¨‹æ€æƒ³æ¥ç¼–å†™å½“ä¸‹è¯­è¨€çš„ç¨‹åºã€‚</span></p>\n</blockquote><p>å†æ¥è¯´ç¬¬äºŒä¸ªå€¼å¾—æ³¨æ„çš„åœ°æ–¹ã€‚æˆ‘åœ¨ç”Ÿæˆ<code>error</code>ç±»å‹å€¼çš„æ—¶å€™ï¼Œç”¨åˆ°äº†<code>errors.New</code>å‡½æ•°ã€‚</p><p>è¿™æ˜¯ä¸€ç§æœ€åŸºæœ¬çš„ç”Ÿæˆé”™è¯¯å€¼çš„æ–¹å¼ã€‚æˆ‘ä»¬è°ƒç”¨å®ƒçš„æ—¶å€™ä¼ å…¥ä¸€ä¸ªç”±å­—ç¬¦ä¸²ä»£è¡¨çš„é”™è¯¯ä¿¡æ¯ï¼Œå®ƒä¼šç»™è¿”å›ç»™æˆ‘ä»¬ä¸€ä¸ªåŒ…å«äº†è¿™ä¸ªé”™è¯¯ä¿¡æ¯çš„<code>error</code>ç±»å‹å€¼ã€‚è¯¥å€¼çš„é™æ€ç±»å‹å½“ç„¶æ˜¯<code>error</code>ï¼Œè€ŒåŠ¨æ€ç±»å‹åˆ™æ˜¯ä¸€ä¸ªåœ¨<code>errors</code>åŒ…ä¸­çš„ï¼ŒåŒ…çº§ç§æœ‰çš„ç±»å‹<code>*errorString</code>ã€‚</p><p>æ˜¾ç„¶ï¼Œ<code>errorString</code>ç±»å‹æ‹¥æœ‰çš„ä¸€ä¸ªæŒ‡é’ˆæ–¹æ³•å®ç°äº†<code>error</code>æ¥å£ä¸­çš„<code>Error</code>æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•åœ¨è¢«è°ƒç”¨åï¼Œä¼šåŸå°ä¸åŠ¨åœ°è¿”å›æˆ‘ä»¬ä¹‹å‰ä¼ å…¥çš„é”™è¯¯ä¿¡æ¯ã€‚å®é™…ä¸Šï¼Œ<code>error</code>ç±»å‹å€¼çš„<code>Error</code>æ–¹æ³•å°±ç›¸å½“äºå…¶ä»–ç±»å‹å€¼çš„<code>String</code>æ–¹æ³•ã€‚</p><p>æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œé€šè¿‡è°ƒç”¨<code>fmt.Printf</code>å‡½æ•°ï¼Œå¹¶ç»™å®šå ä½ç¬¦<code>%s</code>å°±å¯ä»¥æ‰“å°å‡ºæŸä¸ªå€¼çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚</p><p>å¯¹äºå…¶ä»–ç±»å‹çš„å€¼æ¥è¯´ï¼Œåªè¦æˆ‘ä»¬èƒ½ä¸ºè¿™ä¸ªç±»å‹ç¼–å†™ä¸€ä¸ª<code>String</code>æ–¹æ³•ï¼Œå°±å¯ä»¥è‡ªå®šä¹‰å®ƒçš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚è€Œå¯¹äº<code>error</code>ç±»å‹å€¼ï¼Œå®ƒçš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼åˆ™å–å†³äºå®ƒçš„<code>Error</code>æ–¹æ³•ã€‚</p><p>åœ¨ä¸Šè¿°æƒ…å†µä¸‹ï¼Œ<code>fmt.Printf</code>å‡½æ•°å¦‚æœå‘ç°è¢«æ‰“å°çš„å€¼æ˜¯ä¸€ä¸ª<code>error</code>ç±»å‹çš„å€¼ï¼Œé‚£ä¹ˆå°±ä¼šå»è°ƒç”¨å®ƒçš„<code>Error</code>æ–¹æ³•ã€‚<code>fmt</code>åŒ…ä¸­çš„è¿™ç±»æ‰“å°å‡½æ•°å…¶å®éƒ½æ˜¯è¿™ä¹ˆåšçš„ã€‚</p><p>é¡ºä¾¿æä¸€å¥ï¼Œå½“æˆ‘ä»¬æƒ³é€šè¿‡æ¨¡æ¿åŒ–çš„æ–¹å¼ç”Ÿæˆé”™è¯¯ä¿¡æ¯ï¼Œå¹¶å¾—åˆ°é”™è¯¯å€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>fmt.Errorf</code>å‡½æ•°ã€‚è¯¥å‡½æ•°æ‰€åšçš„å…¶å®å°±æ˜¯å…ˆè°ƒç”¨<code>fmt.Sprintf</code>å‡½æ•°ï¼Œå¾—åˆ°ç¡®åˆ‡çš„é”™è¯¯ä¿¡æ¯ï¼›å†è°ƒç”¨<code>errors.New</code>å‡½æ•°ï¼Œå¾—åˆ°åŒ…å«è¯¥é”™è¯¯ä¿¡æ¯çš„<code>error</code>ç±»å‹å€¼ï¼Œæœ€åè¿”å›è¯¥å€¼ã€‚</p><p>å¥½äº†ï¼Œæˆ‘ç°åœ¨é—®ä¸€ä¸ªå…³äºå¯¹é”™è¯¯å€¼åšåˆ¤æ–­çš„é—®é¢˜ã€‚æˆ‘ä»¬ä»Šå¤©çš„<strong>é—®é¢˜æ˜¯ï¼šå¯¹äºå…·ä½“é”™è¯¯çš„åˆ¤æ–­ï¼ŒGoè¯­è¨€ä¸­éƒ½æœ‰å“ªäº›æƒ¯ç”¨æ³•ï¼Ÿ</strong></p><p>ç”±äº<code>error</code>æ˜¯ä¸€ä¸ªæ¥å£ç±»å‹ï¼Œæ‰€ä»¥å³ä½¿åŒä¸º<code>error</code>ç±»å‹çš„é”™è¯¯å€¼ï¼Œå®ƒä»¬çš„å®é™…ç±»å‹ä¹Ÿå¯èƒ½ä¸åŒã€‚è¿™ä¸ªé—®é¢˜è¿˜å¯ä»¥æ¢ä¸€ç§é—®æ³•ï¼Œå³ï¼šæ€æ ·åˆ¤æ–­ä¸€ä¸ªé”™è¯¯å€¼å…·ä½“ä»£è¡¨çš„æ˜¯å“ªä¸€ç±»é”™è¯¯ï¼Ÿ</p><p>è¿™é“é¢˜çš„<strong>å…¸å‹å›ç­”</strong>æ˜¯è¿™æ ·çš„ï¼š</p><ol>\n<li>å¯¹äºç±»å‹åœ¨å·²çŸ¥èŒƒå›´å†…çš„ä¸€ç³»åˆ—é”™è¯¯å€¼ï¼Œä¸€èˆ¬ä½¿ç”¨ç±»å‹æ–­è¨€è¡¨è¾¾å¼æˆ–ç±»å‹<code>switch</code>è¯­å¥æ¥åˆ¤æ–­ï¼›</li>\n<li>å¯¹äºå·²æœ‰ç›¸åº”å˜é‡ä¸”ç±»å‹ç›¸åŒçš„ä¸€ç³»åˆ—é”™è¯¯å€¼ï¼Œä¸€èˆ¬ç›´æ¥ä½¿ç”¨åˆ¤ç­‰æ“ä½œæ¥åˆ¤æ–­ï¼›</li>\n<li>å¯¹äºæ²¡æœ‰ç›¸åº”å˜é‡ä¸”ç±»å‹æœªçŸ¥çš„ä¸€ç³»åˆ—é”™è¯¯å€¼ï¼Œåªèƒ½ä½¿ç”¨å…¶é”™è¯¯ä¿¡æ¯çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼æ¥åšåˆ¤æ–­ã€‚</li>\n</ol><h2>é—®é¢˜è§£æ</h2><p>å¦‚æœä½ çœ‹è¿‡ä¸€äº›Goè¯­è¨€æ ‡å‡†åº“çš„æºä»£ç ï¼Œé‚£ä¹ˆå¯¹è¿™å‡ ç§æƒ…å†µåº”è¯¥éƒ½ä¸é™Œç”Ÿã€‚æˆ‘ä¸‹é¢åˆ†åˆ«å¯¹å®ƒä»¬åšä¸ªè¯´æ˜ã€‚</p><p>ç±»å‹åœ¨å·²çŸ¥èŒƒå›´å†…çš„é”™è¯¯å€¼å…¶å®æ˜¯æœ€å®¹æ˜“åˆ†è¾¨çš„ã€‚å°±æ‹¿<code>os</code>åŒ…ä¸­çš„å‡ ä¸ªä»£è¡¨é”™è¯¯çš„ç±»å‹<code>os.PathError</code>ã€<code>os.LinkError</code>ã€<code>os.SyscallError</code>å’Œ<code>os/exec.Error</code>æ¥è¯´ï¼Œå®ƒä»¬çš„æŒ‡é’ˆç±»å‹éƒ½æ˜¯<code>error</code>æ¥å£çš„å®ç°ç±»å‹ï¼ŒåŒæ—¶å®ƒä»¬ä¹Ÿéƒ½åŒ…å«äº†ä¸€ä¸ªåå«<code>Err</code>ï¼Œç±»å‹ä¸º<code>error</code>æ¥å£ç±»å‹çš„ä»£è¡¨æ½œåœ¨é”™è¯¯çš„å­—æ®µã€‚</p><p>å¦‚æœæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ª<code>error</code>ç±»å‹å€¼ï¼Œå¹¶ä¸”çŸ¥é“è¯¥å€¼çš„å®é™…ç±»å‹è‚¯å®šæ˜¯å®ƒä»¬ä¸­çš„æŸä¸€ä¸ªï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨ç±»å‹<code>switch</code>è¯­å¥å»åšåˆ¤æ–­ã€‚ä¾‹å¦‚ï¼š</p><pre><code>func underlyingError(err error) error {\n\tswitch err := err.(type) {\n\tcase *os.PathError:\n\t\treturn err.Err\n\tcase *os.LinkError:\n\t\treturn err.Err\n\tcase *os.SyscallError:\n\t\treturn err.Err\n\tcase *exec.Error:\n\t\treturn err.Err\n\t}\n\treturn err\n}\n</code></pre><p>å‡½æ•°<code>underlyingError</code>çš„ä½œç”¨æ˜¯ï¼šè·å–å’Œè¿”å›å·²çŸ¥çš„æ“ä½œç³»ç»Ÿç›¸å…³é”™è¯¯çš„æ½œåœ¨é”™è¯¯å€¼ã€‚å…¶ä¸­çš„ç±»å‹<code>switch</code>è¯­å¥ä¸­æœ‰è‹¥å¹²ä¸ª<code>case</code>å­å¥ï¼Œåˆ†åˆ«å¯¹åº”äº†ä¸Šè¿°å‡ ä¸ªé”™è¯¯ç±»å‹ã€‚å½“å®ƒä»¬è¢«é€‰ä¸­æ—¶ï¼Œéƒ½ä¼šæŠŠå‡½æ•°å‚æ•°<code>err</code>çš„<code>Err</code>å­—æ®µä½œä¸ºç»“æœå€¼è¿”å›ã€‚å¦‚æœå®ƒä»¬éƒ½æœªè¢«é€‰ä¸­ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°å°±ä¼šç›´æ¥æŠŠå‚æ•°å€¼ä½œä¸ºç»“æœè¿”å›ï¼Œå³æ”¾å¼ƒè·å–æ½œåœ¨é”™è¯¯å€¼ã€‚</p><p>åªè¦ç±»å‹ä¸åŒï¼Œæˆ‘ä»¬å°±å¯ä»¥å¦‚æ­¤åˆ†è¾¨ã€‚ä½†æ˜¯åœ¨é”™è¯¯å€¼ç±»å‹ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œè¿™äº›æ‰‹æ®µå°±æ— èƒ½ä¸ºåŠ›äº†ã€‚åœ¨Goè¯­è¨€çš„æ ‡å‡†åº“ä¸­ä¹Ÿæœ‰ä¸å°‘ä»¥ç›¸åŒæ–¹å¼åˆ›å»ºçš„åŒç±»å‹çš„é”™è¯¯å€¼ã€‚</p><p>æˆ‘ä»¬è¿˜æ‹¿<code>os</code>åŒ…æ¥è¯´ï¼Œå…¶ä¸­ä¸å°‘çš„é”™è¯¯å€¼éƒ½æ˜¯é€šè¿‡è°ƒç”¨<code>errors.New</code>å‡½æ•°æ¥åˆå§‹åŒ–çš„ï¼Œæ¯”å¦‚ï¼š<code>os.ErrClosed</code>ã€<code>os.ErrInvalid</code>ä»¥åŠ<code>os.ErrPermission</code>ï¼Œç­‰ç­‰ã€‚</p><p>æ³¨æ„ï¼Œä¸å‰é¢è®²åˆ°çš„é‚£äº›é”™è¯¯ç±»å‹ä¸åŒï¼Œè¿™å‡ ä¸ªéƒ½æ˜¯å·²ç»å®šä¹‰å¥½çš„ã€ç¡®åˆ‡çš„é”™è¯¯å€¼ã€‚<code>os</code>åŒ…ä¸­çš„ä»£ç æœ‰æ—¶å€™ä¼šæŠŠå®ƒä»¬å½“åšæ½œåœ¨é”™è¯¯å€¼ï¼Œå°è£…è¿›å‰é¢é‚£äº›é”™è¯¯ç±»å‹çš„å€¼ä¸­ã€‚</p><p>å¦‚æœæˆ‘ä»¬åœ¨æ“ä½œæ–‡ä»¶ç³»ç»Ÿçš„æ—¶å€™å¾—åˆ°äº†ä¸€ä¸ªé”™è¯¯å€¼ï¼Œå¹¶ä¸”çŸ¥é“è¯¥å€¼çš„æ½œåœ¨é”™è¯¯å€¼è‚¯å®šæ˜¯ä¸Šè¿°å€¼ä¸­çš„æŸä¸€ä¸ªï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨æ™®é€šçš„<code>switch</code>è¯­å¥å»åšåˆ¤æ–­ï¼Œå½“ç„¶äº†ï¼Œç”¨<code>if</code>è¯­å¥å’Œåˆ¤ç­‰æ“ä½œç¬¦ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ä¾‹å¦‚ï¼š</p><pre><code>printError := func(i int, err error) {\n\tif err == nil {\n\t\tfmt.Println(&quot;nil error&quot;)\n\t\treturn\n\t}\n\terr = underlyingError(err)\n\tswitch err {\n\tcase os.ErrClosed:\n\t\tfmt.Printf(&quot;error(closed)[%d]: %s\\n&quot;, i, err)\n\tcase os.ErrInvalid:\n\t\tfmt.Printf(&quot;error(invalid)[%d]: %s\\n&quot;, i, err)\n\tcase os.ErrPermission:\n\t\tfmt.Printf(&quot;error(permission)[%d]: %s\\n&quot;, i, err)\n\t}\n}\n</code></pre><p>è¿™ä¸ªç”±<code>printError</code>å˜é‡ä»£è¡¨çš„å‡½æ•°ä¼šæ¥å—ä¸€ä¸ª<code>error</code>ç±»å‹çš„å‚æ•°å€¼ã€‚è¯¥å€¼æ€»ä¼šä»£è¡¨æŸä¸ªæ–‡ä»¶æ“ä½œç›¸å…³çš„é”™è¯¯ï¼Œè¿™æ˜¯æˆ‘æ•…æ„åœ°ä»¥ä¸æ­£ç¡®çš„æ–¹å¼æ“ä½œæ–‡ä»¶åå¾—åˆ°çš„ã€‚</p><p>è™½ç„¶æˆ‘ä¸çŸ¥é“è¿™äº›é”™è¯¯å€¼çš„ç±»å‹çš„èŒƒå›´ï¼Œä½†å´çŸ¥é“å®ƒä»¬æˆ–å®ƒä»¬çš„æ½œåœ¨é”™è¯¯å€¼ä¸€å®šæ˜¯æŸä¸ªå·²ç»åœ¨<code>os</code>åŒ…ä¸­å®šä¹‰çš„å€¼ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘å…ˆç”¨<code>underlyingError</code>å‡½æ•°å¾—åˆ°å®ƒä»¬çš„æ½œåœ¨é”™è¯¯å€¼ï¼Œå½“ç„¶ä¹Ÿå¯èƒ½åªå¾—åˆ°åŸé”™è¯¯å€¼è€Œå·²ã€‚ç„¶åï¼Œæˆ‘ç”¨<code>switch</code>è¯­å¥å¯¹é”™è¯¯å€¼è¿›è¡Œåˆ¤ç­‰æ“ä½œï¼Œä¸‰ä¸ª<code>case</code>å­å¥åˆ†åˆ«å¯¹åº”æˆ‘åˆšåˆšæåˆ°çš„é‚£ä¸‰ä¸ªå·²å­˜åœ¨äº<code>os</code>åŒ…ä¸­çš„é”™è¯¯å€¼ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘å°±èƒ½åˆ†è¾¨å‡ºå…·ä½“é”™è¯¯äº†ã€‚</p><p>å¯¹äºä¸Šé¢è¿™ä¸¤ç§æƒ…å†µï¼Œæˆ‘ä»¬éƒ½æœ‰æ˜ç¡®çš„æ–¹å¼å»è§£å†³ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å¯¹ä¸€ä¸ªé”™è¯¯å€¼å¯èƒ½ä»£è¡¨çš„å«ä¹‰çŸ¥ä¹‹ç”šå°‘ï¼Œé‚£ä¹ˆå°±åªèƒ½é€šè¿‡å®ƒæ‹¥æœ‰çš„é”™è¯¯ä¿¡æ¯å»åšåˆ¤æ–­äº†ã€‚</p><p>å¥½åœ¨æˆ‘ä»¬æ€»æ˜¯èƒ½é€šè¿‡é”™è¯¯å€¼çš„<code>Error</code>æ–¹æ³•ï¼Œæ‹¿åˆ°å®ƒçš„é”™è¯¯ä¿¡æ¯ã€‚å…¶å®<code>os</code>åŒ…ä¸­å°±æœ‰åšè¿™ç§åˆ¤æ–­çš„å‡½æ•°ï¼Œæ¯”å¦‚ï¼š<code>os.IsExist</code>ã€<code>os.IsNotExist</code>å’Œ<code>os.IsPermission</code>ã€‚å‘½ä»¤æºç æ–‡ä»¶demo45.goä¸­åŒ…å«äº†å¯¹å®ƒä»¬çš„åº”ç”¨ï¼Œè¿™å¤§è‡´è·Ÿå‰é¢å±•ç¤ºçš„ä»£ç å·®ä¸å¤ªå¤šï¼Œæˆ‘å°±ä¸åœ¨è¿™é‡Œèµ˜è¿°äº†ã€‚</p><h2>æ€»ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬ä¸€èµ·åˆæ­¥å­¦ä¹ äº†é”™è¯¯å¤„ç†çš„å†…å®¹ã€‚æˆ‘ä»¬æ€»ç»“äº†é”™è¯¯ç±»å‹ã€é”™è¯¯å€¼çš„å¤„ç†æŠ€å·§å’Œè®¾è®¡æ–¹å¼ï¼Œå¹¶ä¸€èµ·åˆ†äº«äº†Goè¯­è¨€ä¸­å¤„ç†é”™è¯¯çš„æœ€åŸºæœ¬æ–¹å¼ã€‚ç”±äºé”™è¯¯å¤„ç†çš„å†…å®¹åˆ†ä¸ºä¸Šä¸‹ä¸¤ç¯‡ï¼Œåœ¨ä¸‹ä¸€æ¬¡çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä¼šç«™åœ¨å»ºé€ è€…çš„è§’åº¦ï¼Œä¸€èµ·æ¥æ¢ç´¢ä¸€ä¸‹ï¼šæ€æ ·æ ¹æ®å®é™…æƒ…å†µç»™äºˆæ°å½“çš„é”™è¯¯å€¼ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>è¯·åˆ—ä¸¾å‡ºä½ ç»å¸¸ç”¨åˆ°æˆ–è€…çœ‹åˆ°çš„3ä¸ªé”™è¯¯ç±»å‹ï¼Œå®ƒä»¬æ‰€åœ¨çš„é”™è¯¯ç±»å‹ä½“ç³»éƒ½æ˜¯æ€æ ·çš„ï¼Ÿä½ èƒ½ç”»å‡ºä¸€æ£µæ ‘æ¥æè¿°å®ƒä»¬å—ï¼Ÿ</p><p>æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæˆ‘ä»¬ä¸‹æœŸå†è§ã€‚</p><p><a href=\"https://github.com/hyper0x/Golang_Puzzlers\">æˆ³æ­¤æŸ¥çœ‹Goè¯­è¨€ä¸“æ æ–‡ç« é…å¥—è¯¦ç»†ä»£ç ã€‚</a></p><p></p>","comments":[{"had_liked":false,"id":26828,"user_name":"zsé˜¿å¸…","can_delete":false,"product_type":"c1","uid":1141173,"ip_address":"","ucode":"07A54AE7F1CAFF","user_header":"https://static001.geekbang.org/account/avatar/00/11/69/b5/1e1731cc.jpg","comment_is_top":false,"comment_ctime":1537758613,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"83142137237","product_id":100013101,"comment_content":"go2è®¾è®¡è‰æ¡ˆé‡Œæåˆ°è¯´å¯¹äºè¿™ç§errorå¤„ç†çš„å¤šä¸ªå«æœ¯è¯­å¥çš„ç®€åŒ–ï¼Œåˆ©ç”¨checkï¼Œhandlerç®€åŒ–é”™è¯¯å¤„ç†çš„ä»£ç é‡ã€‚","like_count":20,"discussions":[{"author":{"id":1218501,"avatar":"https://static001.geekbang.org/account/avatar/00/12/97/c5/84491beb.jpg","nickname":"ç½—å³°","note":"","ucode":"5F3D6AF8F28322","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334395,"discussion_content":"è¯·é—® æœ‰ä¾‹å­å—","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1607836924,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203826,"user_name":"Felix","can_delete":false,"product_type":"c1","uid":1317899,"ip_address":"","ucode":"9318688F3C5419","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJAWUhO0xSjD6wbGScY5WOujAE94vNYWlWmsVdibb0IWbXzSSNXJHp0lqfWVq8ZicKBsEY1EuAWArew/132","comment_is_top":false,"comment_ctime":1586270714,"is_pvip":true,"replies":[{"id":"76916","content":"EOF å°±æ˜¯ End Of File çš„ç¼©å†™ã€‚æ—©åœ¨ Unix æ“ä½œç³»ç»Ÿè¯ç”Ÿä¹‹åˆå°±æœ‰ EOF è¿™ç§å½¢å¼äº†ï¼Œå®ƒæœ€æ—©è±¡å¾ç€æ–‡ä»¶ä¸­å†…å®¹çš„ç»“æŸã€‚ç”±äºä¸€äº›åŸå› ï¼Œå®ƒè¢«å¾ˆå¤šæ“ä½œç³»ç»Ÿå’Œç¼–ç¨‹è¯­è¨€æ²¿ç”¨äº†ã€‚ç°åœ¨çš„ EOF çš„ç”¨é€”å·²ç»è¿œä¸æ­¢è¡¨ç¤ºæ–‡ä»¶çš„æœ«å°¾äº†ï¼Œå®ƒåœ¨å¾ˆå¤šåœ°æ–¹éƒ½è¡¨ç¤ºæŸç§æ•°æ®æµçš„æœ«å°¾ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1586747445,"ip_address":"","comment_id":203826,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40240976378","product_id":100013101,"comment_content":"è€å¸ˆï¼Œæˆ‘ä¸€ç›´æƒ³çŸ¥é“å…³äºio.EOFæ€ä¹ˆç†è§£ï¼Œæ‹¿æ–‡ä»¶æ¥è¯´å¦‚æœæ–‡ä»¶è¯»å–ç»“æŸåï¼Œä¸ºä»€ä¹ˆæ˜¯EOFç»“æŸï¼Œæˆ–è€…è¯´åˆ°åº•ä»€ä¹ˆæ˜¯EOF.","like_count":10,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490970,"discussion_content":"EOF å°±æ˜¯ End Of File çš„ç¼©å†™ã€‚æ—©åœ¨ Unix æ“ä½œç³»ç»Ÿè¯ç”Ÿä¹‹åˆå°±æœ‰ EOF è¿™ç§å½¢å¼äº†ï¼Œå®ƒæœ€æ—©è±¡å¾ç€æ–‡ä»¶ä¸­å†…å®¹çš„ç»“æŸã€‚ç”±äºä¸€äº›åŸå› ï¼Œå®ƒè¢«å¾ˆå¤šæ“ä½œç³»ç»Ÿå’Œç¼–ç¨‹è¯­è¨€æ²¿ç”¨äº†ã€‚ç°åœ¨çš„ EOF çš„ç”¨é€”å·²ç»è¿œä¸æ­¢è¡¨ç¤ºæ–‡ä»¶çš„æœ«å°¾äº†ï¼Œå®ƒåœ¨å¾ˆå¤šåœ°æ–¹éƒ½è¡¨ç¤ºæŸç§æ•°æ®æµçš„æœ«å°¾ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586747445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170218,"user_name":"CcczzZ","can_delete":false,"product_type":"c1","uid":1019568,"ip_address":"","ucode":"5F46DA5053D2BB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8e/b0/ef201991.jpg","comment_is_top":false,"comment_ctime":1578551969,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"40233257633","product_id":100013101,"comment_content":"ä¹‹å‰è¦æ¨¡æ¿åŒ–çš„æ–¹å¼ç”Ÿæˆé”™è¯¯ä¿¡æ¯ï¼Œéƒ½ä¼šç”¨ errors.New() + fmt.Sprintf() çš„ç»„åˆå»ç”Ÿæˆé”™è¯¯ä¿¡æ¯ï¼Œ errors.New(fmt.Sprintf())ã€‚<br>çœ‹å®Œæ–‡ç« ä¹‹åå‘ç°è¿˜æœ‰ fmt.Errorfå‡½æ•° å¯ç›´æ¥æ¨¡ç‰ˆè¯æ–¹å¼ç”Ÿæˆé”™è¯¯ä¿¡æ¯ï¼Œæ–¹ä¾¿ä¸å°‘ï¼Œå¼€å¿ƒğŸ˜„ä¹‹å‰çš„æ–¹å¼çœŸæ˜¯ä¸å¤ªä¼˜é›…","like_count":10},{"had_liked":false,"id":117902,"user_name":"å…š","can_delete":false,"product_type":"c1","uid":1071974,"ip_address":"","ucode":"EE531DB3EA124D","user_header":"https://static001.geekbang.org/account/avatar/00/10/5b/66/ad35bc68.jpg","comment_is_top":false,"comment_ctime":1564186820,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31628957892","product_id":100013101,"comment_content":"æ‰“å¡ å·²ç»çœ‹äº†å¿«2&#47;5äº† å› ä¸ºä¹‹å‰å­¦è¿‡ åªæ˜¯ä¼šç”¨ æ²¡æœ‰è¿™ä¹ˆæ·±å…¥äº†è§£è¿‡ è¿™æ¬¡ å¾ˆå¤šçŸ¥è¯†ç‚¹éƒ½æœ‰æ–°çš„è®¤è¯†äº† ","like_count":7},{"had_liked":false,"id":36017,"user_name":"é‚£å¥è¯ºè¨€","can_delete":false,"product_type":"c1","uid":1005553,"ip_address":"","ucode":"7173F6FB338D57","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/f1/a6e4770a.jpg","comment_is_top":false,"comment_ctime":1540892385,"is_pvip":false,"replies":[{"id":"13302","content":"æˆ‘è®²æ¥å£çš„æ—¶å€™è®²äº†å•Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1541481164,"ip_address":"","comment_id":36017,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31605663457","product_id":100013101,"comment_content":"è€å¸ˆï¼Œâ€œè¯¥å€¼çš„é™æ€ç±»å‹å½“ç„¶æ˜¯errorï¼Œè€ŒåŠ¨æ€ç±»å‹åˆ™æ˜¯ä¸€ä¸ªåœ¨errorsåŒ…ä¸­çš„ï¼ŒåŒ…çº§ç§æœ‰çš„ç±»å‹*errorStringâ€ï¼Œé™æ€ç±»å‹å’ŒåŠ¨æ€ç±»å‹è¯¥æ€ä¹ˆç†è§£å‘¢ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427734,"discussion_content":"æˆ‘è®²æ¥å£çš„æ—¶å€™è®²äº†å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541481164,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1198125,"avatar":"https://static001.geekbang.org/account/avatar/00/12/48/2d/7a3d42fb.jpg","nickname":"Alan","note":"","ucode":"9C66CBCFB3A109","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":115951,"discussion_content":"ç»“æ„ä¸æ¥å£é‚£å—æ–‡ç« é‡Œæœ‰è®²è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578047770,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":290342,"user_name":"èƒ¡å°æ¶µ","can_delete":false,"product_type":"c1","uid":2004538,"ip_address":"","ucode":"2E750C65EC282C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/96/3a/e06f8367.jpg","comment_is_top":false,"comment_ctime":1619509868,"is_pvip":false,"replies":[{"id":"105273","content":"ç°åœ¨ç®—æ˜¯ç¨³å®šäº†ï¼Œæˆ–è€…è¯´åŸºæœ¬è¾¾åˆ°äº†å¦å¤–ä¸€ç§å¹³è¡¡çŠ¶æ€ã€‚è°¢è°¢å…³å¿ƒï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1619580268,"ip_address":"","comment_id":290342,"utype":1}],"discussion_count":3,"race_medal":0,"score":"23094346348","product_id":100013101,"comment_content":"éƒè€å¸ˆæ‚¨å¥½ï¼ŒæŠ±æ­‰æœ€è¿‘åˆšçœ‹åˆ°18å¹´å…³äºæ‚¨è¿‘å†µçš„æ–‡ç« ï¼Œæƒ³é—®ä¸€ä¸‹æ‚¨æœ€è¿‘æ€ä¹ˆæ ·äº†ï¼Ÿèº«ä½“è¿˜å¥½å˜›ï¼Ÿç¥è€å¸ˆèº«ä½“å¥åº·ï¼å¹³å®‰é¡ºé‚ï¼","like_count":6,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519179,"discussion_content":"ç°åœ¨ç®—æ˜¯ç¨³å®šäº†ï¼Œæˆ–è€…è¯´åŸºæœ¬è¾¾åˆ°äº†å¦å¤–ä¸€ç§å¹³è¡¡çŠ¶æ€ã€‚è°¢è°¢å…³å¿ƒï¼šï¼‰","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1619580268,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2695377,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erlR3yCqJtLI5B72khyjQQ8hsnVM4YKlrRVAA3rqRedMft6Ho3Xtzsxb9dE4mgibNK31qYIm11YicvA/132","nickname":"wonder","note":"","ucode":"D8E3A1469E0A5B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578930,"discussion_content":"åŒç¥è€å¸ˆèº«ä½“å¥åº·ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657096284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1447496,"avatar":"https://static001.geekbang.org/account/avatar/00/16/16/48/01567df1.jpg","nickname":"éƒ‘æ³½æ´²","note":"","ucode":"EA1B540A040875","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371896,"discussion_content":"åŒç¥è€å¸ˆèº«ä½“å¥åº·ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620046112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101129,"user_name":"benying","can_delete":false,"product_type":"c1","uid":1247522,"ip_address":"","ucode":"DEBAB485F381CC","user_header":"https://static001.geekbang.org/account/avatar/00/13/09/22/22c0c4fa.jpg","comment_is_top":false,"comment_ctime":1559722893,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"23034559373","product_id":100013101,"comment_content":"è¯„è®ºçš„äººå¾ˆå°‘äº†ï¼Œæ‰“å¡ï¼Œ20190605","like_count":5,"discussions":[{"author":{"id":1053662,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/de/1528c683.jpg","nickname":"fanjl","note":"","ucode":"AB717E5AC9E783","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373941,"discussion_content":"æ‰“å¡ï¼Œè¯´æ˜èµ°åˆ°è¿™é‡Œçš„äººä¸å¤šäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620920618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1247522,"avatar":"https://static001.geekbang.org/account/avatar/00/13/09/22/22c0c4fa.jpg","nickname":"benying","note":"","ucode":"DEBAB485F381CC","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284515,"discussion_content":"æ‰“å¡ï¼Œ20200619","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592546359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":264262,"user_name":"æµ·ç›—èˆ¹é•¿","can_delete":false,"product_type":"c1","uid":1363634,"ip_address":"","ucode":"ECB28BA21A4113","user_header":"https://static001.geekbang.org/account/avatar/00/14/ce/b2/1f914527.jpg","comment_is_top":false,"comment_ctime":1606395463,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18786264647","product_id":100013101,"comment_content":"go1.13ä¸­ï¼Œerrorsåˆæ–°å¢äº†3ä¸ªæ–¹æ³• <br>errors.Unwrap <br>errors.Is <br>errors.As","like_count":5},{"had_liked":false,"id":76604,"user_name":"æµ·ç›—èˆ¹é•¿","can_delete":false,"product_type":"c1","uid":1363634,"ip_address":"","ucode":"ECB28BA21A4113","user_header":"https://static001.geekbang.org/account/avatar/00/14/ce/b2/1f914527.jpg","comment_is_top":false,"comment_ctime":1552640866,"is_pvip":false,"replies":[{"id":"28879","content":"åŸºæœ¬ä¸Šæ˜¯è¿™æ ·ï¼Œå°±æ‹¿Webç³»ç»Ÿæ¥è¯´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¼šåœ¨ç³»ç»Ÿçš„æœ€ä¸Šå±‚ï¼ˆæ¥æ”¶requestçš„é‚£ä¸€å±‚ï¼‰ç»Ÿä¸€å¤„ç†é”™è¯¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1553399176,"ip_address":"","comment_id":76604,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18732510050","product_id":100013101,"comment_content":"è€å¸ˆä½ å¥½ï¼Œåœ¨ä»£ç ä¸­å¦‚ä½•ä¼˜é›…åœ°å¤„ç†é”™è¯¯å‘€ï¼Œæœ‰æ²¡æœ‰åŠæ³• ä¸éœ€è¦åœ¨æ¯ä¸ªæ–¹æ³•ä¸­å¤„ç†ï¼Œé›†ä¸­åˆ°ä¸€ä¸ªåœ°æ–¹å¤„ç†ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443375,"discussion_content":"åŸºæœ¬ä¸Šæ˜¯è¿™æ ·ï¼Œå°±æ‹¿Webç³»ç»Ÿæ¥è¯´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¼šåœ¨ç³»ç»Ÿçš„æœ€ä¸Šå±‚ï¼ˆæ¥æ”¶requestçš„é‚£ä¸€å±‚ï¼‰ç»Ÿä¸€å¤„ç†é”™è¯¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553399176,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":30328,"user_name":"Laughing","can_delete":false,"product_type":"c1","uid":1002134,"ip_address":"","ucode":"F68F1E000CA800","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/96/99466a06.jpg","comment_is_top":false,"comment_ctime":1538794635,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18718663819","product_id":100013101,"comment_content":"å¸¸ç”¨åˆ°çš„netå’ŒjsonåŒ…ä¸­çš„é”™è¯¯ç±»å‹æœ‰ï¼š<br>1. AddrError <br>2. SyntaxError<br>3. MarshalerError<br>","like_count":4},{"had_liked":false,"id":34929,"user_name":"A å‡¡","can_delete":false,"product_type":"c1","uid":1197361,"ip_address":"","ucode":"BDC8DB599B8284","user_header":"https://static001.geekbang.org/account/avatar/00/12/45/31/53910b61.jpg","comment_is_top":false,"comment_ctime":1540358359,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14425260247","product_id":100013101,"comment_content":"æ„Ÿè§‰ç¬¬ä¸€éçœ‹çš„æ—¶å€™ï¼Œçœ‹çš„ä¸å¤Ÿä»”ç»†ï¼Œæ‰€ä»¥ä»å¤´æœ‰çœ‹åˆ°è¿™éƒ¨åˆ†ï¼Œå‘ç°ç»†èŠ‚æ€§çš„ä¸œè¥¿è¿˜æ˜¯æœ‰å¾ˆå¤šéœ€è¦æ³¨æ„ï¼","like_count":4},{"had_liked":false,"id":284352,"user_name":"MClink","can_delete":false,"product_type":"c1","uid":1435733,"ip_address":"","ucode":"F479190923355C","user_header":"https://static001.geekbang.org/account/avatar/00/15/e8/55/92f82281.jpg","comment_is_top":false,"comment_ctime":1616208666,"is_pvip":true,"replies":[{"id":"103178","content":"å› ä¸ºé‚£ä¸ªå‡½æ•°å­˜åœ¨æœ‰åç§°çš„ç»“æœå£°æ˜ï¼Œæ‰€ä»¥åœ¨è¯¥å‡½æ•°å¼€å§‹æ‰§è¡Œçš„æ—¶å€™ï¼Œä½œä¸ºå…¶ç»“æœçš„å˜é‡ï¼ˆå¦‚ echo å‡½æ•°ä¸­çš„ response å˜é‡å’Œ err å˜é‡ï¼‰å°±å·²ç»è‡ªåŠ¨åˆ›å»ºå¥½äº†ã€‚å› æ­¤ï¼Œè¿™ç§å‡½æ•°ä¸­çš„ return å°±å¯ä»¥ä¸åŠ ä»»ä½•ä¸œè¥¿ï¼Œè¿™æ—¶è¿”å›çš„å°±æ˜¯é‚£å‡ ä¸ªç»“æœå˜é‡ï¼ˆå¦‚ response å’Œ errï¼‰çš„å€¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1616301584,"ip_address":"","comment_id":284352,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10206143258","product_id":100013101,"comment_content":"echo å‡½æ•° return åé¢çš„ä¸œè¥¿å‘¢ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517317,"discussion_content":"å› ä¸ºé‚£ä¸ªå‡½æ•°å­˜åœ¨æœ‰åç§°çš„ç»“æœå£°æ˜ï¼Œæ‰€ä»¥åœ¨è¯¥å‡½æ•°å¼€å§‹æ‰§è¡Œçš„æ—¶å€™ï¼Œä½œä¸ºå…¶ç»“æœçš„å˜é‡ï¼ˆå¦‚ echo å‡½æ•°ä¸­çš„ response å˜é‡å’Œ err å˜é‡ï¼‰å°±å·²ç»è‡ªåŠ¨åˆ›å»ºå¥½äº†ã€‚å› æ­¤ï¼Œè¿™ç§å‡½æ•°ä¸­çš„ return å°±å¯ä»¥ä¸åŠ ä»»ä½•ä¸œè¥¿ï¼Œè¿™æ—¶è¿”å›çš„å°±æ˜¯é‚£å‡ ä¸ªç»“æœå˜é‡ï¼ˆå¦‚ response å’Œ errï¼‰çš„å€¼ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1616301584,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1391338,"avatar":"https://static001.geekbang.org/account/avatar/00/15/3a/ea/57239ff2.jpg","nickname":"ç‹å®¶ä¸œ","note":"","ucode":"4EADF7B6406FCC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370676,"discussion_content":"ä½ å¯ä»¥æŠŠæ–‡ä¸­çš„å†™æ³•çœ‹æˆæ˜¯ go è¯­è¨€çš„ä¸€ç§ç®€å†™ï¼ˆä¸è¿‡è¿™ç§å†™æ³•åªæ˜¯é€‚ç”¨äºå‡½æ•°è¿”å›å€¼åç§°äº‹å…ˆå·²ç»å®šä¹‰å¥½äº†çš„ï¼‰ï¼Œæ”¹å†™çš„ç‰ˆæœ¬ä¾›ä½ å‚è€ƒä¸€ä¸‹ï¼Œæ³¨æ„æŸ¥çœ‹è¿™ä¸‹é¢ä¸¤ç§ç§å†™æ³•å’Œæ–‡ç« ä¸­çš„åŒºåˆ«\n//å½“è¿”å›å€¼æœ‰åç§°æ—¶ï¼Œå®Œæ•´å†™æ³•ï¼Œä¹Ÿå¯ä»¥å†™æˆæ–‡ä¸­çš„å†™æ³•ã€‚\nfunc echo(request string) (response string, err error) {\n\tif request == &#34;&#34; {\n\t\terr = errors.New(&#34;empty request&#34;)\n\t\treturn response, err\n\t}\n\tresponse = fmt.Sprintf(&#34;echo: %s&#34;, request)\n\treturn response, nil\n}\n//å½“è¿”å›å€¼æ— åç§°ï¼Œåªæœ‰ç±»å‹æ—¶ï¼Œåªèƒ½è¿™ä¹ˆå†™ï¼Œä½¿ç”¨ç®€å†™å½¢å¼ä¸èƒ½é€šè¿‡ç¼–è¯‘ã€‚\nfunc echo(request string) (string, error) {\n\tif request == &#34;&#34; {\n\t\terr := errors.New(&#34;empty request&#34;)\n\t\treturn &#34;&#34;, err\n\t}\n\tresponse := fmt.Sprintf(&#34;echo: %s&#34;, request)\n\treturn response, nil\n}\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1619507381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296367,"user_name":"ç½—å³°","can_delete":false,"product_type":"c1","uid":1218501,"ip_address":"","ucode":"5F3D6AF8F28322","user_header":"https://static001.geekbang.org/account/avatar/00/12/97/c5/84491beb.jpg","comment_is_top":false,"comment_ctime":1622943245,"is_pvip":false,"replies":[{"id":"107687","content":"æ˜¯çš„ã€‚ä¸è¿‡ä¿®æ­£ä¸‹ä½ è¯´çš„è¯ï¼Œæ˜¯â€œä¸¤ä¸ª error ç±»å‹å€¼çš„æ¯”è¾ƒâ€ï¼Œä¸æ˜¯â€œä¸¤ä¸ª err æ¯”è¾ƒâ€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1623053548,"ip_address":"","comment_id":296367,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5917910541","product_id":100013101,"comment_content":"ä¸¤ä¸ªerr æ¯”è¾ƒï¼Œåº”è¯¥æ˜¯æ¯”è¾ƒ ç›¸åº”çš„åŠ¨æ€ç±»å‹ä»¥åŠåŠ¨æ€å€¼æ˜¯ä¸æ˜¯ å®Œå…¨ä¸€æ ·ï¼Œæ„Ÿè§‰å°±æ˜¯åœ°å€çš„æ¯”è¾ƒæŠŠ","like_count":1,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521414,"discussion_content":"æ˜¯çš„ã€‚ä¸è¿‡ä¿®æ­£ä¸‹ä½ è¯´çš„è¯ï¼Œæ˜¯â€œä¸¤ä¸ª error ç±»å‹å€¼çš„æ¯”è¾ƒâ€ï¼Œä¸æ˜¯â€œä¸¤ä¸ª err æ¯”è¾ƒâ€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623053548,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":183446,"user_name":"ä¿®ç½—","can_delete":false,"product_type":"c1","uid":1203834,"ip_address":"","ucode":"9C25F94C40285F","user_header":"https://static001.geekbang.org/account/avatar/00/12/5e/7a/028dc1a9.jpg","comment_is_top":false,"comment_ctime":1583043815,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5878011111","product_id":100013101,"comment_content":"æ‰“å¡","like_count":1},{"had_liked":false,"id":342574,"user_name":"Geek_as","can_delete":false,"product_type":"c1","uid":1534500,"ip_address":"","ucode":"AB7B70DBC2B5F8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/qhonwcQle1RBufvLdTm4MgSNl554GBXUZtNNH65oYajbbRLxKsZX4hM9vFtrLLpDM0H93ZNWRFAZSrIZC7yAsQ/132","comment_is_top":false,"comment_ctime":1650350233,"is_pvip":true,"replies":[{"id":"125246","content":"è¿™é‡Œçš„underlyingErrorå‡½æ•°çš„æ„æ€æ˜¯ï¼Œå‚æ•°errçš„ç±»å‹åªè¦æ˜¯*os.PathErrorã€*os.LinkErrorã€*os.SyscallErroræˆ–*exec.Errorä¸­çš„ä»»æ„ä¸€ä¸ªçš„è¯ï¼Œå°±è¿”å›errå†…å«çš„ï¼ˆä¹Ÿå°±æ˜¯æ½œåœ¨çš„ï¼‰é‚£ä¸ªé”™è¯¯ï¼Œå¦åˆ™å°±æŠŠå‚æ•°erråŸå°ä¸åŠ¨åœ°è¿”å›å»ã€‚å‡½æ•°å¦‚å…¶åï¼Œå®ƒå°±æ˜¯è¦è®¾æ³•æ‹¿åˆ°åŸé”™è¯¯çš„æ½œåœ¨é”™è¯¯ã€‚<br><br>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠé‚£äº›ç”¨äºåˆ¤æ–­çš„ç±»å‹å†™åˆ°ä¸€ä¸ªcaseé‡Œã€‚æˆ‘è¿™é‡Œæ˜¯ä¸ºäº†åœ¨æ–‡ç« ä¸­æ¸…æ™°å±•ç¤ºï¼Œæ‰€ä»¥æŠŠå®ƒä»¬åˆ†å¼€å†™äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026643","ctime":1650531890,"ip_address":"","comment_id":342574,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1650350233","product_id":100013101,"comment_content":"underlyingErrorå‡½æ•°æˆ‘è¿˜æ˜¯æœ‰ç‚¹æ‡µé€¼ï¼Œå¤šä¸ªswitchå…¨éƒ¨éƒ½æ˜¯æ‰§è¡Œerr.Errï¼Œé‚£ä¸éœ€è¦switchç›´æ¥æ‰§è¡Œä¸ä¹Ÿå¯ä»¥å—","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":565737,"discussion_content":"è¿™é‡Œçš„underlyingErrorå‡½æ•°çš„æ„æ€æ˜¯ï¼Œå‚æ•°errçš„ç±»å‹åªè¦æ˜¯*os.PathErrorã€*os.LinkErrorã€*os.SyscallErroræˆ–*exec.Errorä¸­çš„ä»»æ„ä¸€ä¸ªçš„è¯ï¼Œå°±è¿”å›errå†…å«çš„ï¼ˆä¹Ÿå°±æ˜¯æ½œåœ¨çš„ï¼‰é‚£ä¸ªé”™è¯¯ï¼Œå¦åˆ™å°±æŠŠå‚æ•°erråŸå°ä¸åŠ¨åœ°è¿”å›å»ã€‚å‡½æ•°å¦‚å…¶åï¼Œå®ƒå°±æ˜¯è¦è®¾æ³•æ‹¿åˆ°åŸé”™è¯¯çš„æ½œåœ¨é”™è¯¯ã€‚\n\nå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠé‚£äº›ç”¨äºåˆ¤æ–­çš„ç±»å‹å†™åˆ°ä¸€ä¸ªcaseé‡Œã€‚æˆ‘è¿™é‡Œæ˜¯ä¸ºäº†åœ¨æ–‡ç« ä¸­æ¸…æ™°å±•ç¤ºï¼Œæ‰€ä»¥æŠŠå®ƒä»¬åˆ†å¼€å†™äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650531891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341203,"user_name":"Zå®‡é”¤é”¤","can_delete":false,"product_type":"c1","uid":2188142,"ip_address":"","ucode":"7DB36E986A7A51","user_header":"https://static001.geekbang.org/account/avatar/00/21/63/6e/6b971571.jpg","comment_is_top":false,"comment_ctime":1649418566,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1649418566","product_id":100013101,"comment_content":"boundsErrorè¶Šç•Œå¼‚å¸¸","like_count":0},{"had_liked":false,"id":336653,"user_name":"Geek_05d654","can_delete":false,"product_type":"c1","uid":2903068,"ip_address":"","ucode":"D10FB87A0A62A1","user_header":"","comment_is_top":false,"comment_ctime":1646276400,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646276400","product_id":100013101,"comment_content":"type PathError struct {<br>\tOp   string<br>\tPath string<br>\tErr  error<br>}<br><br>func (e *PathError) Error() string { return e.Op + &quot; &quot; + e.Path + &quot;: &quot; + e.Err.Error() }","like_count":0},{"had_liked":false,"id":324326,"user_name":"jxs1211","can_delete":false,"product_type":"c1","uid":1101006,"ip_address":"","ucode":"B7F1F2D84389E7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKELX1Rd1vmLRWibHib8P95NA87F4zcj8GrHKYQL2RcLDVnxNy1ia2geTWgW6L2pWn2kazrPNZMRVrIg/132","comment_is_top":false,"comment_ctime":1638371508,"is_pvip":false,"replies":[{"id":"117717","content":"ç±»å‹è½¬æ¢ä¹‹åå†æ¯”è¾ƒå•Šï¼Œä½ å¯ä»¥ç”¨ç±»å‹æ–­è¨€æˆ–è€… type switch è¯­å¥å»åˆ¤æ–­ç±»å‹ã€‚ä½†ä¸€èˆ¬éƒ½ä¼šæœ‰ otherï¼ˆæˆ–è€…è¯´ defaultï¼‰çš„æƒ…å†µï¼Œè¿™éœ€è¦å¦¥å–„å¤„ç†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026643","ctime":1638419899,"ip_address":"","comment_id":324326,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1638371508","product_id":100013101,"comment_content":"åˆ¤æ–­2ä¸ªæ¥å£ç±»å‹ï¼ˆæ¯”å¦‚è¿™é‡Œerrorç±»å‹çš„å€¼ï¼‰çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œæ˜¯å¦å°±æ˜¯åˆ¤æ–­ä»–ä»¬çš„çš„å®é™…ç±»å‹å’Œå®é™…å€¼æ˜¯å¦ç›¸ç­‰ï¼ŒéªŒè¯ä¸€ä¸‹è®¤ä¸ºä¸æ˜¯è¿™æ ·æ¯”è¾ƒçš„ï¼Œä¸æ˜¯çš„è¯ï¼Œä»€ä¹ˆæƒ…å†µä¸‹æ˜¯ç›¸ç­‰çš„å‘¢","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535365,"discussion_content":"ç±»å‹è½¬æ¢ä¹‹åå†æ¯”è¾ƒå•Šï¼Œä½ å¯ä»¥ç”¨ç±»å‹æ–­è¨€æˆ–è€… type switch è¯­å¥å»åˆ¤æ–­ç±»å‹ã€‚ä½†ä¸€èˆ¬éƒ½ä¼šæœ‰ otherï¼ˆæˆ–è€…è¯´ defaultï¼‰çš„æƒ…å†µï¼Œè¿™éœ€è¦å¦¥å–„å¤„ç†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638419899,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1101006,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKELX1Rd1vmLRWibHib8P95NA87F4zcj8GrHKYQL2RcLDVnxNy1ia2geTWgW6L2pWn2kazrPNZMRVrIg/132","nickname":"jxs1211","note":"","ucode":"B7F1F2D84389E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538546,"discussion_content":"æ€ä¹ˆåˆ¤æ–­2ä¸ªæ¥å£ç±»å‹çš„å¯¹è±¡æ˜¯å¦ç›¸ç­‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639445326,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1101006,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKELX1Rd1vmLRWibHib8P95NA87F4zcj8GrHKYQL2RcLDVnxNy1ia2geTWgW6L2pWn2kazrPNZMRVrIg/132","nickname":"jxs1211","note":"","ucode":"B7F1F2D84389E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538545,"discussion_content":"æºç ä¸­å¯¹ä¸¤ä¸ªæ¥å£è¿›è¡Œäº†åˆ¤ç­‰æ“ä½œï¼Œè¿™ä¸ªæ“ä½œæ¯”è¾ƒçš„ä¾æ®æ˜¯ä»€ä¹ˆï¼Ÿ\nfunc underlyingErrorIs(err, target error) bool {\n\t// Note that this function is not errors.Is:\n\t// underlyingError only unwraps the specific error-wrapping types\n\t// that it historically did, not all errors implementing Unwrap().\n\terr = underlyingError(err)\n\tif err == target {\n\t\treturn true\n\t}\n\t// To preserve prior behavior, only examine syscall errors.\n\te, ok := err.(syscallErrorType)\n\treturn ok &amp;&amp; e.Is(target)\n}","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639445305,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294717,"user_name":"ä»»å°é¾™","can_delete":false,"product_type":"c1","uid":1399685,"ip_address":"","ucode":"C5A5980BC9A415","user_header":"https://static001.geekbang.org/account/avatar/00/15/5b/85/1d7abd78.jpg","comment_is_top":false,"comment_ctime":1622072013,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622072013","product_id":100013101,"comment_content":"pkg&#47;errorsï¼Œå­¦ä¹ ä¸­ã€‚","like_count":0},{"had_liked":false,"id":81840,"user_name":"LH","can_delete":false,"product_type":"c1","uid":1211178,"ip_address":"","ucode":"819B9B2409E834","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/2a/7d8b5943.jpg","comment_is_top":false,"comment_ctime":1554047502,"is_pvip":false,"replies":[{"id":"29692","content":"å…¶å®åªæ˜¯ä¸å¤ªéšå¤§æµè€Œå·²ã€‚try...catch...finallyçš„æ–¹å¼ä»£ç é‡ä¹Ÿå°‘ä¸åˆ°å“ªé‡Œå»ã€‚ä¸è¿‡Go 2ä¼šæœ‰å¤§å¹…æ”¹è¿›çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1554125948,"ip_address":"","comment_id":81840,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554047502","product_id":100013101,"comment_content":"æœªçŸ¥ç±»å‹çš„é”™è¯¯çœŸçš„æ„Ÿè§‰ä¸å¤ªå‹å¥½","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445365,"discussion_content":"å…¶å®åªæ˜¯ä¸å¤ªéšå¤§æµè€Œå·²ã€‚try...catch...finallyçš„æ–¹å¼ä»£ç é‡ä¹Ÿå°‘ä¸åˆ°å“ªé‡Œå»ã€‚ä¸è¿‡Go 2ä¼šæœ‰å¤§å¹…æ”¹è¿›çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554125948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62459,"user_name":"è™¢åœ‹æŠ€é†¬","can_delete":false,"product_type":"c1","uid":1056807,"ip_address":"","ucode":"5A192262AA037E","user_header":"https://static001.geekbang.org/account/avatar/00/10/20/27/a6932fbe.jpg","comment_is_top":false,"comment_ctime":1548062645,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548062645","product_id":100013101,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":26885,"user_name":"æœ‰åŒªå›å­","can_delete":false,"product_type":"c1","uid":1204061,"ip_address":"","ucode":"72B91AFC96E285","user_header":"https://static001.geekbang.org/account/avatar/00/12/5f/5d/63010e32.jpg","comment_is_top":false,"comment_ctime":1537770089,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1537770089","product_id":100013101,"comment_content":"ä¸­ç§‹å¿«ä¹","like_count":0}]}
{"id":109973,"title":"05 | åŸæ¥æµè§ˆå™¨è¿˜èƒ½æŠ“å–æ¡Œé¢ï¼Ÿ","content":"<p>æ— è®ºæ˜¯åšéŸ³è§†é¢‘ä¼šè®®ï¼Œè¿˜æ˜¯åšè¿œç¨‹æ•™è‚²ï¼Œ<strong>å…±äº«æ¡Œé¢</strong>éƒ½æ˜¯ä¸€ä¸ªå¿…å¤‡åŠŸèƒ½ã€‚å¦‚æœè¯´åœ¨ PC æˆ– Mac ç«¯å†™ä¸ªå…±äº«æ¡Œé¢ç¨‹åºä½ ä¸ä¼šæœ‰å¤ªå¤šæ„Ÿå—ï¼Œä½†é€šè¿‡æµè§ˆå™¨ä¹Ÿå¯ä»¥å…±äº«æ¡Œé¢æ˜¯ä¸æ˜¯è§‰å¾—å°±æœ‰äº›ç¥å¥‡äº†å‘¢ï¼Ÿ</p><p>WebRTCçš„æ„¿æ™¯å°±æ˜¯è¦è®©è¿™äº›çœ‹ä¼¼ç¥å¥‡çš„äº‹æƒ…ï¼Œä¸çŸ¥ä¸è§‰åœ°å‘ç”Ÿåœ¨æˆ‘ä»¬èº«è¾¹ã€‚</p><p>ä½ å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œå‡å¦‚æµè§ˆå™¨æœ‰äº†å…±äº«æ¡Œé¢åŠŸèƒ½ï¼Œè¿™ä¼šä½¿å¾—æµè§ˆå™¨æœ‰æ›´å¹¿é˜”çš„åº”ç”¨ç©ºé—´ï¼Œä¸€ä¸ªæœ€ç›´æ¥çš„ä¾‹å­å°±æ˜¯æˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡æµè§ˆå™¨è¿›è¡Œè¿œç¨‹åŠå…¬ã€è¿œç¨‹ååŠ©ç­‰å·¥ä½œï¼Œè€Œä¸ç”¨å†ä¸‹è½½å…±äº«æ¡Œé¢çš„åº”ç”¨äº†ï¼Œè¿™å¤§å¤§æé«˜äº†æˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡ã€‚</p><h2>åœ¨WebRTC å¤„ç†è¿‡ç¨‹ä¸­çš„ä½ç½®</h2><p>åœ¨æ­£å¼è¿›è¡Œä¸»é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜æ˜¯æ¥çœ‹çœ‹æœ¬æ–‡åœ¨æ•´ä¸ª WebRTC å¤„ç†è¿‡ç¨‹ä¸­çš„ä½ç½®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/c5/a0/c536a1dd0ed50008d2ada594e052d6a0.png?wh=1142*686\" alt=\"\"></p><center><span class=\"reference\">WebRTCå¤„ç†è¿‡ç¨‹å›¾</span></center><p>æ²¡é”™ï¼Œå®ƒä»ç„¶å±äºéŸ³è§†é¢‘é‡‡é›†çš„èŒƒç•´ï¼Œä½†æ˜¯è¿™æ¬¡é‡‡é›†çš„ä¸æ˜¯éŸ³è§†é¢‘æ•°æ®è€Œæ˜¯æ¡Œé¢ã€‚ä¸è¿‡è¿™ä¹Ÿæ²¡ä»€ä¹ˆå…³ç³»ï¼Œ<strong>æ¡Œé¢ä¹Ÿå¯ä»¥å½“ä½œä¸€ç§ç‰¹æ®Šçš„è§†é¢‘æ•°æ®æ¥çœ‹å¾…</strong>ã€‚</p><h2>å…±äº«æ¡Œé¢çš„åŸºæœ¬åŸç†</h2><p>å…±äº«æ¡Œé¢çš„åŸºæœ¬åŸç†å…¶å®éå¸¸ç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†â€œä¸¤å¤´â€æ¥è¯´æ˜ï¼š</p><ul>\n<li>å¯¹äº<strong>å…±äº«è€…</strong>ï¼Œæ¯ç§’é’ŸæŠ“å–å¤šæ¬¡å±å¹•ï¼ˆå¯ä»¥æ˜¯3æ¬¡ã€5æ¬¡ç­‰ï¼‰ï¼Œæ¯æ¬¡æŠ“å–çš„å±å¹•éƒ½ä¸ä¸Šä¸€æ¬¡æŠ“å–çš„å±å¹•åšæ¯”è¾ƒï¼Œå–å®ƒä»¬çš„å·®å€¼ï¼Œç„¶åå¯¹å·®å€¼è¿›è¡Œå‹ç¼©ï¼›å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡æŠ“å±æˆ–åˆ‡å¹•çš„æƒ…å†µï¼Œå³æœ¬æ¬¡æŠ“å–çš„å±å¹•ä¸ä¸Šä¸€æ¬¡æŠ“å–å±å¹•çš„å˜åŒ–ç‡è¶…è¿‡80%æ—¶ï¼Œå°±åšå…¨å±çš„å¸§å†…å‹ç¼©ï¼Œå…¶è¿‡ç¨‹ä¸JPEGå›¾åƒå‹ç¼©ç±»ä¼¼ï¼ˆæœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œå­¦ä¹ ï¼‰ã€‚æœ€åå†å°†å‹ç¼©åçš„æ•°æ®é€šè¿‡ä¼ è¾“æ¨¡å—ä¼ é€åˆ°è§‚çœ‹ç«¯ï¼›æ•°æ®åˆ°è¾¾è§‚çœ‹ç«¯åï¼Œå†è¿›è¡Œè§£ç ï¼Œè¿™æ ·å³å¯è¿˜åŸå‡ºæ•´å¹…å›¾ç‰‡å¹¶æ˜¾ç¤ºå‡ºæ¥ã€‚</li>\n<li>å¯¹äº<strong>è¿œç¨‹æ§åˆ¶ç«¯</strong>ï¼Œå½“ç”¨æˆ·é€šè¿‡é¼ æ ‡ç‚¹å‡»å…±äº«æ¡Œé¢çš„æŸä¸ªä½ç½®æ—¶ï¼Œä¼šé¦–å…ˆè®¡ç®—å‡ºé¼ æ ‡å®é™…ç‚¹å‡»çš„ä½ç½®ï¼Œç„¶åå°†å…¶ä½œä¸ºå‚æ•°ï¼Œé€šè¿‡ä¿¡ä»¤å‘é€ç»™å…±äº«ç«¯ã€‚å…±äº«ç«¯æ”¶åˆ°ä¿¡ä»¤åï¼Œä¼šæ¨¡æ‹Ÿæœ¬åœ°é¼ æ ‡ï¼Œå³è°ƒç”¨ç›¸å…³çš„ APIï¼Œå®Œæˆæœ€ç»ˆçš„æ“ä½œã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå½“æ“ä½œå®Œæˆåï¼Œå…±äº«ç«¯æ¡Œé¢ä¹Ÿå‘ç”Ÿäº†ä¸€äº›å˜åŒ–ï¼Œæ­¤æ—¶å°±åˆå›åˆ°ä¸Šé¢å…±äº«è€…çš„æµç¨‹äº†ï¼Œæˆ‘å°±ä¸å†èµ˜è¿°äº†ã€‚</li>\n</ul><!-- [[[read_end]]] --><p>é€šè¿‡ä¸Šé¢çš„æè¿°ï¼Œå¯ä»¥æ€»ç»“å‡ºå…±äº«æ¡Œé¢çš„å¤„ç†è¿‡ç¨‹ä¸ºï¼š<strong>æŠ“å±ã€å‹ç¼©ç¼–ç ã€ä¼ è¾“ã€è§£ç ã€æ˜¾ç¤ºã€æ§åˆ¶</strong>è¿™å‡ æ­¥ï¼Œä½ åº”è¯¥å¯ä»¥çœ‹å‡ºå®ƒä¸éŸ³è§†é¢‘çš„å¤„ç†è¿‡ç¨‹å‡ ä¹æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚</p><p>å¯¹äºå…±äº«æ¡Œé¢ï¼Œå¾ˆå¤šäººæ¯”è¾ƒç†Ÿæ‚‰çš„å¯èƒ½æ˜¯<strong>RDPï¼ˆRemote Desktop Protocalï¼‰åè®®</strong>ï¼Œå®ƒæ˜¯ Windows ç³»ç»Ÿä¸‹çš„å…±äº«æ¡Œé¢åè®®ï¼›è¿˜æœ‰ä¸€ç§æ›´é€šç”¨çš„è¿œç¨‹æ¡Œé¢æ§åˆ¶åè®®â€”â€”<strong>VNCï¼ˆVirtual Network Consoleï¼‰</strong>ï¼Œå®ƒå¯ä»¥å®ç°åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šå…±äº«è¿œç¨‹æ¡Œé¢ï¼ŒåƒTeamViewerã€RealVNCéƒ½æ˜¯ä½¿ç”¨çš„è¯¥åè®®ã€‚</p><p>ä»¥ä¸Šçš„è¿œç¨‹æ¡Œé¢åè®®ä¸€èˆ¬åˆ†ä¸ºæ¡Œé¢æ•°æ®å¤„ç†ä¸ä¿¡ä»¤æ§åˆ¶ä¸¤éƒ¨åˆ†ã€‚</p><ul>\n<li><strong>æ¡Œé¢æ•°æ®</strong>ï¼šåŒ…æ‹¬äº†æ¡Œé¢çš„æŠ“å–(é‡‡é›†)ã€ç¼–ç ï¼ˆå‹ç¼©ï¼‰ã€ä¼ è¾“ã€è§£ç å’Œæ¸²æŸ“ã€‚</li>\n<li><strong>ä¿¡ä»¤æ§åˆ¶</strong>ï¼šåŒ…æ‹¬é”®ç›˜äº‹ä»¶ã€é¼ æ ‡äº‹ä»¶ä»¥åŠæ¥æ”¶åˆ°è¿™äº›äº‹ä»¶æ¶ˆæ¯åçš„ç›¸å…³å¤„ç†ç­‰ã€‚</li>\n</ul><p>å…¶å®åœ¨WebRTCä¸­ä¹Ÿå¯ä»¥å®ç°å…±äº«è¿œç¨‹æ¡Œé¢çš„åŠŸèƒ½ã€‚ä½†ç”±äºå…±äº«æ¡Œé¢ä¸éŸ³è§†é¢‘å¤„ç†çš„æµç¨‹æ˜¯ç±»ä¼¼çš„ï¼Œä¸”<strong>WebRTC çš„è¿œç¨‹æ¡Œé¢</strong>åˆä¸éœ€è¦è¿œç¨‹æ§åˆ¶ï¼Œæ‰€ä»¥å…¶<strong>å¤„ç†è¿‡ç¨‹ä½¿ç”¨äº†è§†é¢‘çš„æ–¹å¼ï¼Œè€Œéä¼ ç»Ÿæ„ä¹‰ä¸Šçš„RDP/VNCç­‰è¿œç¨‹æ¡Œé¢åè®®</strong>ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å°±æŒ‰é¡ºåºæ¥å…·ä½“åˆ†æä¸€ä¸‹ï¼Œåœ¨æ¡Œé¢æ•°æ®å¤„ç†çš„å„ä¸ªç¯èŠ‚ä¸­ï¼ŒWebRTCä½¿ç”¨çš„æ–¹å¼ä¸RDP/VNCç­‰çœŸæ­£çš„è¿œç¨‹æ¡Œé¢åè®®çš„å¼‚åŒç‚¹å§ã€‚</p><p><strong>ç¬¬ä¸€ä¸ªç¯èŠ‚ï¼Œå…±äº«ç«¯æ¡Œé¢æ•°æ®çš„é‡‡é›†</strong>ã€‚WebRTC å¯¹äºæ¡Œé¢çš„é‡‡é›†ä¸RDP/VNCä½¿ç”¨çš„æŠ€æœ¯æ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯åˆ©ç”¨å„å¹³å°æ‰€æä¾›çš„ç›¸å…³APIè¿›è¡Œæ¡Œé¢çš„æŠ“å–ã€‚ä»¥ Windows ä¸ºä¾‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ— API è¿›è¡Œæ¡Œé¢çš„æŠ“å–ã€‚</p><ul>\n<li><strong>BitBlt</strong>ï¼šXP ç³»ç»Ÿä¸‹ç»å¸¸ä½¿ç”¨ï¼Œåœ¨ vistaä¹‹åï¼Œå¼€å¯DWMæ¨¡å¼åï¼Œé€Ÿåº¦ææ…¢ã€‚</li>\n<li><strong>Hook</strong>ï¼šä¸€ç§é»‘å®¢æŠ€æœ¯ï¼Œå®ç°ç¨å¤æ‚ã€‚</li>\n<li><strong>DirectX</strong>ï¼šç”±äºDirectX 9/10/11 ä¹‹é—´å·®åˆ«æ¯”è¾ƒå¤§ï¼Œå®¹æ˜“å‡ºç°å…¼å®¹é—®é¢˜ã€‚æœ€æ–°çš„ WebRTCéƒ½æ˜¯ä½¿ç”¨çš„è¿™ç§æ–¹å¼</li>\n<li><strong>GetWindowDC</strong>ï¼šå¯ä»¥é€šè¿‡å®ƒæ¥æŠ“å–çª—å£ã€‚</li>\n</ul><p><strong>ç¬¬äºŒä¸ªç¯èŠ‚ï¼Œå…±äº«ç«¯æ¡Œé¢æ•°æ®çš„ç¼–ç </strong>ã€‚WebRTC å¯¹æ¡Œé¢çš„ç¼–ç ä½¿ç”¨çš„æ˜¯è§†é¢‘ç¼–ç æŠ€æœ¯ï¼Œå³ H264/VP8ç­‰ï¼›ä½†RDP/VNCåˆ™ä¸ä¸€æ ·ï¼Œå®ƒä»¬ä½¿ç”¨çš„æ˜¯å›¾åƒå‹ç¼©æŠ€æœ¯ã€‚ä½¿ç”¨è§†é¢‘ç¼–ç æŠ€æœ¯çš„å¥½å¤„æ˜¯å‹ç¼©ç‡é«˜ï¼Œè€Œåå¤„æ˜¯åœ¨ç½‘ç»œä¸å¥½çš„æƒ…å†µä¸‹ä¼šæœ‰æ¨¡ç³Šç­‰é—®é¢˜ã€‚</p><p><strong>ç¬¬ä¸‰ä¸ªç¯èŠ‚ï¼Œä¼ è¾“</strong>ã€‚ç¼–ç åçš„æ¡Œé¢æ•°æ®ä¼šé€šè¿‡æµåª’ä½“ä¼ è¾“åè®®å‘é€åˆ°è§‚çœ‹ç«¯ã€‚å¯¹äºWebRTCæ¥è¯´ï¼Œå½“ç½‘ç»œæœ‰é—®é¢˜æ—¶ï¼Œæ•°æ®æ˜¯å¯ä»¥ä¸¢å¤±çš„ã€‚ä½†å¯¹äº RDP/VNC æ¥è¯´ï¼Œæ¡Œé¢æ•°æ®ä¸€å®šä¸èƒ½ä¸¢å¤±ã€‚</p><p><strong>ç¬¬å››ä¸ªç¯èŠ‚ï¼Œè§‚çœ‹ç«¯è§£ç </strong>ã€‚WebRTC å¯¹æ”¶åˆ°çš„æ¡Œé¢æ•°æ®é€šè¿‡è§†é¢‘è§£ç æŠ€æœ¯è§£ç ï¼Œè€Œ RDP/VNC ä½¿ç”¨çš„æ˜¯å›¾åƒè§£ç æŠ€æœ¯ï¼ˆå¯å¯¹æ¯”ç¬¬äºŒä¸ªç¯èŠ‚ï¼‰ã€‚</p><p><strong>ç¬¬äº”ä¸ªç¯èŠ‚ï¼Œè§‚çœ‹ç«¯æ¸²æŸ“</strong>ã€‚ä¸€èˆ¬ä¼šé€šè¿‡ OpenGL/D3Dç­‰GPUè¿›è¡Œæ¸²æŸ“ï¼Œè¿™ä¸ª WebRTC ä¸ RDP/VNC éƒ½æ˜¯ç±»ä¼¼çš„ã€‚</p><p>é€šè¿‡ä»¥ä¸Šçš„è®²è§£ï¼Œç›¸ä¿¡ä½ åº”è¯¥å·²ç»å¯¹å…±äº«è¿œç¨‹æ¡Œé¢æœ‰ä¸€ä¸ªåŸºæœ¬çš„è®¤çŸ¥äº†ï¼Œå¹¶ä¸”ä¹ŸçŸ¥é“åœ¨æµè§ˆå™¨ä¸‹ä½¿ç”¨WebRTC å…±äº«è¿œç¨‹æ¡Œé¢ï¼Œä½ åªéœ€è¦ä¼šä½¿ç”¨æµè§ˆå™¨æä¾›çš„APIå³å¯ã€‚</p><p><strong>å› æ­¤æœ¬æ–‡çš„ç›®æ ‡å°±æ˜¯ï¼šä½ åªéœ€è¦å­¦ä¼šå’ŒæŒæ¡æµè§ˆå™¨æä¾›çš„æŠ“å–å±å¹•çš„APIå°±å¯ä»¥äº†</strong>ã€‚è‡³äºç¼–ç ã€ä¼ è¾“ã€è§£ç ç­‰ç›¸å…³çŸ¥è¯†ï¼Œæˆ‘ä¼šåœ¨åé¢çš„æ–‡ç« ä¸­é™†ç»­ä¸ºä½ è®²è§£ã€‚</p><h2>å¦‚ä½•å…±äº«æ¡Œé¢</h2><p>å­¦ä¹ å®Œå…±äº«æ¡Œé¢ç›¸å…³çš„ç†è®ºçŸ¥è¯†ï¼Œæ¥ä¸‹æ¥ï¼Œå°±è®©æˆ‘ä»¬å®è·µèµ·æ¥ï¼Œä¸€èµ·æ¥å­¦ä¹ å¦‚ä½•é€šè¿‡æµè§ˆå™¨æ¥æŠ“å–æ¡Œé¢å§ï¼</p><h3>1. æŠ“å–æ¡Œé¢</h3><p>é¦–å…ˆæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹åœ¨æµè§ˆå™¨ä¸‹æŠ“å–æ¡Œé¢çš„APIçš„åŸºæœ¬æ ¼å¼ï¼š</p><pre><code>var promise = navigator.mediaDevices.getDisplayMedia(constraints);\n</code></pre><p>è¿™ä¸ªAPIä½ çœ‹ç€æ˜¯ä¸æ˜¯ä¼¼æ›¾ç›¸è¯†ï¼Ÿæ²¡é”™ï¼Œå®ƒä¸å‰é¢<a href=\"https://time.geekbang.org/column/article/107948\">ã€Š01 | åŸæ¥é€šè¿‡æµè§ˆå™¨è®¿é—®æ‘„åƒå¤´è¿™ä¹ˆå®¹æ˜“ã€‹</a>ä¸€æ–‡ä¸­ä»‹ç»çš„é‡‡é›†è§†é¢‘çš„ API åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥å†çœ‹ä¸€ä¸‹é‡‡é›†è§†é¢‘çš„ API çš„æ ·å­ï¼š</p><pre><code>var promise = navigator.mediaDevices.getUserMedia(constraints);\n</code></pre><p>äºŒè€…å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯ï¼šä¸€ä¸ªæ˜¯<strong>getDisaplayMedia</strong>ï¼Œå¦ä¸€ä¸ªæ˜¯<strong>getUserMedia</strong>ã€‚</p><p>è¿™ä¸¤ä¸ªAPIéƒ½éœ€è¦ä¸€ä¸ª<strong>constraints</strong>å‚æ•°æ¥å¯¹é‡‡é›†çš„æ¡Œé¢/è§†é¢‘åšä¸€äº›é™åˆ¶ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨é‡‡é›†è§†é¢‘æ—¶ï¼Œå‚æ•°<strong>constraints</strong>ä¹Ÿæ˜¯å¯ä»¥å¯¹éŸ³é¢‘åšé™åˆ¶çš„ï¼Œè€Œåœ¨æ¡Œé¢é‡‡é›†çš„å‚æ•°é‡Œå´ä¸èƒ½å¯¹éŸ³é¢‘è¿›è¡Œé™åˆ¶äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸èƒ½åœ¨é‡‡é›†æ¡Œé¢çš„åŒæ—¶é‡‡é›†éŸ³é¢‘ã€‚<strong>è¿™ä¸€ç‚¹è¦ç‰¹åˆ«æ³¨æ„</strong>ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹ä¸€ä¸‹<strong>å¦‚ä½•é€šè¿‡ getDisplayMedia API æ¥é‡‡é›†æ¡Œé¢</strong>ï¼š</p><pre><code>...\n\n//å¾—åˆ°æ¡Œé¢æ•°æ®æµ\nfunction getDeskStream(stream){\n        localStream = stream;\n}\n\n//æŠ“å–æ¡Œé¢\nfunction shareDesktop(){\n\n        //åªæœ‰åœ¨ PC ä¸‹æ‰èƒ½æŠ“å–æ¡Œé¢\n        if(IsPC()){\n                //å¼€å§‹æ•è·æ¡Œé¢æ•°æ®\n                navigator.mediaDevices.getDisplayMedia({video: true})\n                        .then(getDeskStream)\n                        .catch(handleError);\n\n                return true;\n        } \n         \n        return false;\n         \n}  \n\n...\n</code></pre><p>é€šè¿‡ä¸Šé¢çš„æ–¹æ³•ï¼Œå°±å¯ä»¥è·å¾—æ¡Œé¢æ•°æ®äº†ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ•ˆæœå›¾å§ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ad/c2/ad24096591c33c5049fcc275491597c2.png?wh=1142*934\" alt=\"\"></p><center><span class=\"reference\">Chromeæµè§ˆå™¨å…±äº«æ¡Œé¢å›¾</span></center><h3>2. æ¡Œé¢çš„å±•ç¤º</h3><p>æ¡Œé¢é‡‡é›†åï¼Œå°±å¯ä»¥é€šè¿‡ HTML ä¸­çš„<code>&lt;video&gt;</code>æ ‡ç­¾å°†é‡‡é›†åˆ°çš„æ¡Œé¢å±•ç¤ºå‡ºæ¥ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p><p>é¦–å…ˆï¼Œåœ¨ HTML ä¸­å¢åŠ ä¸‹é¢çš„ä»£ç ï¼Œå…¶ä¸­<code>&lt;video&gt;</code>æ ‡ç­¾ç”¨äºæ’­æ”¾æŠ“å–çš„æ¡Œé¢å†…å®¹ï¼š</p><pre><code>...\n&lt;video autoplay playsinline id=&quot;deskVideo&quot;&gt;&lt;/video&gt;\n...\n</code></pre><p>ä¸‹é¢çš„ JavaScript åˆ™å°†æ¡Œé¢å†…å®¹ä¸<code>&lt;video&gt;</code>æ ‡ç­¾è”æ¥åˆ°ä¸€èµ·ï¼š</p><pre><code> ...\n var deskVideo = document.querySelect(&quot;video/deskVideo&quot;);\n ...\n function getDeskStream(stream){\n        localStream = stream;\n        deskVideo.srcObject = stream;\n }\n ...\n</code></pre><p>åœ¨ JavaScriptä¸­è°ƒç”¨<strong>getDisplayMedia</strong>æ–¹æ³•æŠ“å–æ¡Œé¢æ•°æ®ï¼Œå½“æ¡Œé¢æ•°æ®è¢«æŠ“åˆ°ä¹‹åï¼Œä¼šè§¦å‘ getDeskStream å‡½æ•°ã€‚æˆ‘ä»¬å†åœ¨è¯¥å‡½æ•°ä¸­å°†è·å–åˆ°çš„ stream ä¸video æ ‡ç­¾è”ç³»èµ·æ¥ï¼Œè¿™æ ·å½“æ•°æ®è·å–åˆ°æ—¶å°±ä»æ’­æ”¾å™¨é‡Œæ˜¾ç¤ºå‡ºæ¥äº†ã€‚</p><h3>3. å½•åˆ¶æ¡Œé¢</h3><p>å½•åˆ¶æœ¬åœ°æ¡Œé¢ä¸<a href=\"https://time.geekbang.org/column/article/109105\">ã€Š04 | å¯ä»¥æŠŠé‡‡é›†åˆ°çš„éŸ³è§†é¢‘æ•°æ®å½•åˆ¶ä¸‹æ¥å—ï¼Ÿã€‹</a>ä¸€æ–‡ä¸­æ‰€è®²çš„å½•åˆ¶æœ¬åœ°è§†é¢‘çš„è¿‡ç¨‹æ˜¯ä¸€æ ·çš„ã€‚é¦–å…ˆé€šè¿‡<strong>getDisplayMedia</strong>æ–¹æ³•è·å–åˆ°æœ¬åœ°æ¡Œé¢æ•°æ®ï¼Œç„¶åå°†è¯¥æµå½“ä½œå‚æ•°ä¼ ç»™ MediaRecorder å¯¹è±¡ï¼Œå¹¶å®ç°<strong>ondataavailable</strong>äº‹ä»¶ï¼Œæœ€ç»ˆå°†éŸ³è§†é¢‘æµå½•åˆ¶ä¸‹æ¥ã€‚</p><p>å…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹ HTML éƒ¨åˆ†ï¼š</p><pre><code>&lt;html&gt;\n...\n&lt;body&gt;\n    ...\n    &lt;button id=&quot;record&quot;&gt;Start Record&lt;/button&gt;\n    ...\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre><p>ä¸Šé¢çš„ HTML ä»£ç ç‰‡æ®µå®šä¹‰äº†ä¸€ä¸ªå¼€å¯å½•åˆ¶çš„<strong>button</strong>ï¼Œå½“ç”¨æˆ·ç‚¹å‡»è¯¥ button åï¼Œå°±è§¦å‘ä¸‹é¢çš„JavaScript ä»£ç ï¼š</p><pre><code>...\n\nvar buffer;\n\n...\n\nfunction handleDataAvailable(e){\n        if(e &amp;&amp; e.data &amp;&amp; e.data.size &gt; 0){\n                buffer.push(e.data);\n        }\n}\n\nfunction startRecord(){\n        //å®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼Œç”¨äºç¼“å­˜æ¡Œé¢æ•°æ®ï¼Œæœ€ç»ˆå°†æ•°æ®å­˜å‚¨åˆ°æ–‡ä»¶ä¸­\n        buffer = [];\n\n        var options = {\n                mimeType: 'video/webm;codecs=vp8'\n        }\n\n        if(!MediaRecorder.isTypeSupported(options.mimeType)){\n                console.error(`${options.mimeType} is not supported!`);\n                return;\n        }\n\n        try{\n                //åˆ›å»ºå½•åˆ¶å¯¹è±¡ï¼Œç”¨äºå°†æ¡Œé¢æ•°æ®å½•åˆ¶ä¸‹æ¥\n                mediaRecorder = new MediaRecorder(localStream, options);\n        }catch(e){\n                console.error('Failed to create MediaRecorder:', e);\n                return;\n        }\n\n        //å½“æ•è·åˆ°æ¡Œé¢æ•°æ®åï¼Œè¯¥äº‹ä»¶è§¦å‘\n        mediaRecorder.ondataavailable = handleDataAvailable;\n        mediaRecorder.start(10);\n}\n\n...\n</code></pre><p>å½“ç”¨æˆ·ç‚¹å‡»<strong>Record</strong>æŒ‰é’®çš„æ—¶å€™ï¼Œå°±ä¼šè°ƒç”¨<strong>startRecord</strong>å‡½æ•°ã€‚åœ¨è¯¥å‡½æ•°ä¸­é¦–å…ˆåˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒæŒ‡å®šçš„å¤šåª’ä½“æ ¼å¼ï¼Œå¦‚webmã€‚ å¦‚æœæ”¯æŒçš„è¯ï¼Œå†åˆ›å»º<strong>MediaRecorder</strong>å¯¹è±¡ï¼Œå°†æ¡Œé¢æµå½•åˆ¶æˆæŒ‡å®šçš„åª’ä½“æ ¼å¼æ–‡ä»¶ã€‚</p><p>å½“ä»localStreamè·å–åˆ°æ•°æ®åï¼Œä¼šè§¦å‘<strong>ondataavailable</strong>äº‹ä»¶ã€‚ä¹Ÿå°±æ˜¯ä¼šè°ƒç”¨ handleDataAvailable æ–¹æ³•ï¼Œæœ€ç»ˆå°†æ•°æ®å­˜æ”¾åˆ°Blobä¸­ã€‚</p><p>è‡³äºå°†Blobä¿å­˜æˆæ–‡ä»¶å°±æ¯”è¾ƒå®¹æ˜“äº†ï¼Œæˆ‘ä»¬åœ¨å‰é¢çš„æ–‡ç« <a href=\"https://time.geekbang.org/column/article/109105\">ã€Š04 | å¯ä»¥æŠŠé‡‡é›†åˆ°çš„éŸ³è§†é¢‘æ•°æ®å½•åˆ¶ä¸‹æ¥å—ï¼Ÿã€‹</a>ä¸­éƒ½æœ‰è®²è§£è¿‡ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ï¼</p><h2>å°ç»“</h2><p>æœ¬æ–‡æˆ‘å‘ä½ è®²è§£äº†å¦‚ä½•é€šè¿‡æµè§ˆå™¨æä¾›çš„ API æ¥æŠ“å–æ¡Œé¢ï¼Œå¹¶å°†å®ƒæ˜¾ç¤ºå‡ºæ¥ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡å‰é¢æ‰€è®²çš„<strong>MediaRecorder</strong>å¯¹è±¡å°†æ¡Œé¢å½•åˆ¶ä¸‹æ¥ã€‚</p><p>å…¶å®ï¼ŒçœŸæ­£çš„å•†ç”¨å®¢æˆ·ç«¯å½•åˆ¶å¹¶ä¸æ˜¯å½•åˆ¶éŸ³è§†é¢‘æµï¼Œè€Œæ˜¯å½•åˆ¶æ¡Œé¢æµã€‚è¿™æ ·å³ä½¿æ˜¯å¤šäººäº’åŠ¨çš„åœºæ™¯ï¼Œåœ¨æœ‰å¤šè·¯è§†é¢‘æµçš„æƒ…å†µä¸‹ï¼Œå½•åˆ¶æ¡Œé¢çš„åŒæ—¶å°±å°†æ¡Œé¢ä¸Šæ˜¾ç¤ºçš„æ‰€æœ‰è§†é¢‘ä¸€èµ·å½•åˆ¶ä¸‹æ¥äº†ï¼Œè¿™æ ·é—®é¢˜æ˜¯ä¸æ˜¯ä¸€ä¸‹å°±ç®€å•äº†ï¼Ÿ</p><p>æ¯”è¾ƒé—æ†¾çš„æ˜¯ï¼Œå…³äºæˆ‘ä»¬ä¸Šè¿°å½•åˆ¶æ¡Œé¢çš„APIï¼Œç›®å‰å¾ˆå¤šæµè§ˆå™¨æ”¯æŒå¾—è¿˜ä¸å¤Ÿå¥½ï¼Œåªæœ‰ Chrome æµè§ˆå™¨ç›¸å¯¹æ¯”è¾ƒå®Œå–„ã€‚ä¸è¿‡ç°åœ¨WebRTC 1.0è§„èŒƒå·²ç»å‡ºæ¥äº†ï¼Œç›¸ä¿¡åœ¨ä¸ä¹…çš„å°†æ¥ï¼Œå„æµè§ˆå™¨éƒ½ä¼šå®ç°è¿™ä¸ªAPIçš„ã€‚</p><h2>æ€è€ƒæ—¶é—´</h2><p>ä¸ºä»€ä¹ˆä½¿ç”¨è§†é¢‘çš„ç¼–ç æ–¹å¼å°±å®¹æ˜“å‡ºç°æ¡Œé¢æ¨¡ç³Šçš„ç°è±¡å‘¢ï¼Ÿæœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥è§£å†³è¯¥é—®é¢˜å—ï¼Ÿ</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºä¸æˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè®°å½•ä½ çš„æ€è€ƒè¿‡ç¨‹ã€‚æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p><p><a href=\"https://github.com/avdance/webrtc_web/tree/master/05_desktop/recorder\">æ‰€åšDemoçš„GitHubé“¾æ¥ï¼ˆæœ‰éœ€è¦å¯ä»¥ç‚¹è¿™é‡Œï¼‰</a></p><p></p>","neighbors":{"left":{"article_title":"04 | å¯ä»¥æŠŠé‡‡é›†åˆ°çš„éŸ³è§†é¢‘æ•°æ®å½•åˆ¶ä¸‹æ¥å—ï¼Ÿ","id":109105},"right":{"article_title":"06 | WebRTCä¸­çš„RTPåŠRTCPè¯¦è§£","id":109999}},"comments":[{"had_liked":false,"id":117431,"user_name":"æ‹ç€æ­Œ","can_delete":false,"product_type":"c1","uid":1001048,"ip_address":"","ucode":"CFDC00CB9965D9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/58/31205087.jpg","comment_is_top":false,"comment_ctime":1564045798,"is_pvip":false,"replies":[{"id":"43023","content":"èµï¼","user_name":"ä½œè€…å›å¤","comment_id":117431,"uid":"1507837","ip_address":"","utype":1,"ctime":1564063016,"user_name_real":"garrylee"}],"discussion_count":2,"race_medal":0,"score":"48808686054","product_id":100031801,"comment_content":"å¦‚æœæ˜¯è§£å†³ç½‘ç»œå¼•èµ·çš„æ¨¡ç³Šï¼Œé‚£ä¹ˆå¯èƒ½å°±è¦ç‰ºç‰²å®æ—¶æ€§ï¼Œæé«˜å»¶è¿Ÿï¼Œå°±åƒæˆ‘ä»¬çœ‹è§†é¢‘æ—¶å¡é¡¿è¦ç¼“å†²ä¸€ä¸‹ã€‚<br><br>å…·ä½“çš„è§£å†³æ–¹æ³•æ˜¯ï¼š<br>1ï¼Œè§£å†³ç½‘ç»œé—®é¢˜ğŸ˜‚<br>2ï¼Œå…³é—­ Web RTC çš„è‡ªé€‚åº”ç ç‡ï¼ŒframeRateï¼Œwidthï¼Œheight è®¾ç½®å›ºå®šå€¼æˆ–é«˜èŒƒå›´å€¼ã€‚","like_count":11,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459967,"discussion_content":"èµï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564063016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2176294,"avatar":"https://static001.geekbang.org/account/avatar/00/21/35/26/477839ef.jpg","nickname":"LSTğŸ˜˜ CYX","note":"","ucode":"19859F5E4542C9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545163,"discussion_content":"æŠ“å–æ¡Œé¢æ—¶å€™ï¼Œè®¾ç½®å¾ˆé«˜çš„frameRateï¼Œwidthï¼Œheight ï¼Œæ²¡æœ‰ä¸¢åŒ…æƒ…å†µä¸‹ï¼Œæ¸…æ™°åº¦ä¾ç„¶ä¸å¤Ÿï¼Œè™½ç„¶å‚æ•°ä¸Šå¾ˆé«˜ï¼Œè¯¥æ€ä¹ˆåŠ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641868625,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":154196,"user_name":"æœˆå…‰ä¼´å¥","can_delete":false,"product_type":"c1","uid":1651505,"ip_address":"","ucode":"F8CA499FEE0530","user_header":"https://static001.geekbang.org/account/avatar/00/19/33/31/8db0ff30.jpg","comment_is_top":false,"comment_ctime":1574390012,"is_pvip":false,"replies":[{"id":"59344","content":"ä¸èƒ½ç”¨åŒä¸€ä¸ª streamè¿›è¡Œé‡‡é›†","user_name":"ä½œè€…å›å¤","comment_id":154196,"uid":"1507837","ip_address":"","utype":1,"ctime":1574501029,"user_name_real":"garrylee"}],"discussion_count":2,"race_medal":0,"score":"31639161084","product_id":100031801,"comment_content":"è€å¸ˆ!æ–‡ä¸­(ä¸èƒ½åœ¨é‡‡é›†æ¡Œé¢çš„åŒæ—¶é‡‡é›†éŸ³é¢‘),å¥½åƒæ˜¯èƒ½åŒæ—¶é‡‡é›†çš„,å¼¹å‡ºäº†ä¸€ä¸ªåˆ†äº«éŸ³é¢‘çš„é€‰æ‹©æ¡†,å‹¾ä¸Šå¥½åƒå°±èƒ½é‡‡é›†éŸ³é¢‘äº†","like_count":7,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475403,"discussion_content":"ä¸èƒ½ç”¨åŒä¸€ä¸ª streamè¿›è¡Œé‡‡é›†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574501029,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1880765,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/b2/bd/d9ffe75b.jpg","nickname":"ç©º  å¿ƒ  èœ","note":"","ucode":"BA281E96F5B56C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302559,"discussion_content":"æˆ‘ä¹Ÿå‘ç°å¯ä»¥è¿›è¡Œåˆ†äº«éŸ³é¢‘ï¼Œä½†æ˜¯è€å¸ˆè¯´ä¸èƒ½ç”¨åŒä¸€ä¸ªï¼Œæ˜¯ä¸ºä»€ä¹ˆï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598954273,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":144962,"user_name":"æ˜¥é£å¹åˆç”Ÿ","can_delete":false,"product_type":"c1","uid":1282681,"ip_address":"","ucode":"F9D0CC2400E31C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJMsZRXU5AAdHHqMPMsjAMkpEHIa8hJRXdaIzoEtaicTaRGmFnh0cWzN1Y9lhaoNJz8iacyJvic8xopg/132","comment_is_top":false,"comment_ctime":1572140979,"is_pvip":false,"replies":[{"id":"56195","content":"ä½ æ˜¯æŒ‡çš„æ’­æ”¾äº†çš„å¤šåª’ä½“æ–‡ä»¶çš„å£°éŸ³å§ï¼Ÿæ˜¯å¯ä»¥çš„ï¼","user_name":"ä½œè€…å›å¤","comment_id":144962,"uid":"1507837","ip_address":"","utype":1,"ctime":1572321622,"user_name_real":"garrylee"}],"discussion_count":2,"race_medal":0,"score":"14457042867","product_id":100031801,"comment_content":"è€å¸ˆï¼Œwebrtcèƒ½å¦å½•åˆ¶ç³»ç»Ÿå†…å£°éŸ³å‘¢ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472189,"discussion_content":"ä½ æ˜¯æŒ‡çš„æ’­æ”¾äº†çš„å¤šåª’ä½“æ–‡ä»¶çš„å£°éŸ³å§ï¼Ÿæ˜¯å¯ä»¥çš„ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572321622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1282681,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJMsZRXU5AAdHHqMPMsjAMkpEHIa8hJRXdaIzoEtaicTaRGmFnh0cWzN1Y9lhaoNJz8iacyJvic8xopg/132","nickname":"æ˜¥é£å¹åˆç”Ÿ","note":"","ucode":"F9D0CC2400E31C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41527,"discussion_content":"æ˜¯çš„ï¼Œè°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572445563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":261273,"user_name":"é­ä»å‹‹","can_delete":false,"product_type":"c1","uid":2018067,"ip_address":"","ucode":"48D3CA857B5E11","user_header":"","comment_is_top":false,"comment_ctime":1605255306,"is_pvip":false,"replies":[{"id":"95276","content":"æ„Ÿè§‰ä½ åœ¨è°ƒç”¨ vueæ—¶ï¼Œæ²¡æœ‰çœŸæ­£è°ƒç”¨åˆ°ç³»ç»Ÿçš„ APIï¼Œè€Œæ˜¯è¢«å°è£…äº†ï¼Œä½ è¦è‡ªå·±æŸ¥ä¸€ä¸‹ã€‚è¿˜æœ‰ä¸€ä¸ªç§å¯èƒ½æ˜¯ä½ çš„electronç”¨çš„chomreæ ¸ç‰ˆæœ¬å¤ªä½äº†","user_name":"ä½œè€…å›å¤","comment_id":261273,"uid":"1507837","ip_address":"","utype":1,"ctime":1605768016,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"10195189898","product_id":100031801,"comment_content":"è€å¸ˆï¼Œæˆ‘ç°åœ¨åœ¨ç”¨electron-vueå†™å®¢æˆ·ç«¯ï¼Œä½†æ˜¯æˆ‘æƒ³åˆ†äº«æˆ‘çš„å±å¹•ï¼Œç»“æœæŠ¥è¿™ä¸ªé”™è¯¯navigator.mediaDevices.getDisplayMedia is not a functionï¼Œä½†æ˜¯æˆ‘æ˜¯èƒ½çœ‹åˆ°è§†é¢‘å’Œå¬åˆ°å£°éŸ³çš„ï¼Œæˆ‘ä¹‹å‰åœ¨webæ˜¯å¯ä»¥è°ƒçš„ï¼Œè¯·é—®è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢","like_count":2,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509437,"discussion_content":"æ„Ÿè§‰ä½ åœ¨è°ƒç”¨ vueæ—¶ï¼Œæ²¡æœ‰çœŸæ­£è°ƒç”¨åˆ°ç³»ç»Ÿçš„ APIï¼Œè€Œæ˜¯è¢«å°è£…äº†ï¼Œä½ è¦è‡ªå·±æŸ¥ä¸€ä¸‹ã€‚è¿˜æœ‰ä¸€ä¸ªç§å¯èƒ½æ˜¯ä½ çš„electronç”¨çš„chomreæ ¸ç‰ˆæœ¬å¤ªä½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605768016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243567,"user_name":"å®‡å®™ä¹‹ç‹","can_delete":false,"product_type":"c1","uid":1981915,"ip_address":"","ucode":"5E6C28F8CCFF6D","user_header":"","comment_is_top":false,"comment_ctime":1598187967,"is_pvip":false,"replies":[{"id":"91439","content":"chromeå¯¹webrtcå…¼å®¹çš„æœ€å¥½ï¼Œå…±äº«æ¡Œé¢æ˜¯ä¸€ä¸ªè¯•éªŒæ€§çš„åŠŸèƒ½ï¼Œæ‰€ä»¥å…¶å®ƒæµè§ˆå™¨æ”¯æŒçš„ä¸å¥½ï¼›<br>adapter-latest.jsÂ ä¸»è¦ä¸ºäº†å…¼å®¹è€ç‰ˆæœ¬chromeæµè§ˆå™¨ï¼›socket.io.jsæ˜¯ socket.ioçš„jsÂ å®¢æˆ·ç«¯ï¼›","user_name":"ä½œè€…å›å¤","comment_id":243567,"uid":"1507837","ip_address":"","utype":1,"ctime":1600529533,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":2,"race_medal":0,"score":"10188122559","product_id":100031801,"comment_content":"æ˜¯ä¸æ˜¯è¿™ä¸€è®²çš„ä»£ç åªèƒ½åœ¨Chromeä¸‹é¢è¿è¡Œï¼Œåˆ«çš„æµè§ˆå™¨ä¸æ”¯æŒï¼Œæˆ‘è¯•äº†ä¸€ä¸‹ï¼Œedgeå’Œç«ç‹è·å–ä¸åˆ°æ¡Œé¢ï¼Œå¦ï¼Œçœ‹åˆ°æ‰€æœ‰ä»£ç é‡Œé¢éƒ½æœ‰&lt;script src=&quot;https:&#47;&#47;webrtc.github.io&#47;adapter&#47;adapter-latest.js&quot;&gt;&lt;&#47;script&gt;<br>        &lt;script src=&quot;https:&#47;&#47;cdnjs.cloudflare.com&#47;ajax&#47;libs&#47;socket.io&#47;2.0.3&#47;socket.io.js&quot;&gt;&lt;&#47;script&gt;<br>ä¸ºä»€ä¹ˆè¦å¼•å…¥è¿™ä¸¤ä¸ªjsï¼Œåˆ æ‰å¥½åƒä¸€æ ·å¯ä»¥è¿è¡Œ","like_count":2,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504327,"discussion_content":"chromeå¯¹webrtcå…¼å®¹çš„æœ€å¥½ï¼Œå…±äº«æ¡Œé¢æ˜¯ä¸€ä¸ªè¯•éªŒæ€§çš„åŠŸèƒ½ï¼Œæ‰€ä»¥å…¶å®ƒæµè§ˆå™¨æ”¯æŒçš„ä¸å¥½ï¼›\nadapter-latest.jsÂ ä¸»è¦ä¸ºäº†å…¼å®¹è€ç‰ˆæœ¬chromeæµè§ˆå™¨ï¼›socket.io.jsæ˜¯ socket.ioçš„jsÂ å®¢æˆ·ç«¯ï¼›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600529533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1981915,"avatar":"","nickname":"å®‡å®™ä¹‹ç‹","note":"","ucode":"5E6C28F8CCFF6D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307234,"discussion_content":"è°¢è°¢è€å¸ˆï¼Œåä¸¤ä¸ªè„šæœ¬çš„æ„ä¹‰å·²ç»ææ‡‚äº†ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600565000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151922,"user_name":"æœˆå…‰ä¼´å¥","can_delete":false,"product_type":"c1","uid":1651505,"ip_address":"","ucode":"F8CA499FEE0530","user_header":"https://static001.geekbang.org/account/avatar/00/19/33/31/8db0ff30.jpg","comment_is_top":false,"comment_ctime":1573813584,"is_pvip":false,"replies":[{"id":"59354","content":"å¯ä»¥åˆ†åˆ«é‡‡é›†ï¼Œç„¶åå…¥åˆ°åŒä¸€ä¸ªstreamä¸­ã€‚","user_name":"ä½œè€…å›å¤","comment_id":151922,"uid":"1507837","ip_address":"","utype":1,"ctime":1574502104,"user_name_real":"garrylee"}],"discussion_count":2,"race_medal":0,"score":"10163748176","product_id":100031801,"comment_content":"è€å¸ˆ,ä¹Ÿå°±æ˜¯è¯´webrtcè¿™ä¸ªåˆ†äº«æ—¶æ²¡åŠæ³•å®ç°åˆ†äº«ç³»ç»Ÿå£°éŸ³çš„å˜›ï¼Ÿåˆ†äº«æ¸¸æˆå¬ä¸åˆ°å£°éŸ³çš„å˜›ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474655,"discussion_content":"å¯ä»¥åˆ†åˆ«é‡‡é›†ï¼Œç„¶åå…¥åˆ°åŒä¸€ä¸ªstreamä¸­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574502104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1651505,"avatar":"https://static001.geekbang.org/account/avatar/00/19/33/31/8db0ff30.jpg","nickname":"æœˆå…‰ä¼´å¥","note":"","ucode":"F8CA499FEE0530","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":58099,"discussion_content":"è€å¸ˆï¼åˆ†åˆ«é‡‡é›†æ”¾åˆ°åŒä¸€ä¸ªstreamä¼šä¸ä¼šé€ æˆéŸ³ç”»ä¸åŒæ­¥ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574652127,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":254392,"user_name":"Embrace","can_delete":false,"product_type":"c1","uid":2213620,"ip_address":"","ucode":"4BBBE68B99FCA6","user_header":"https://static001.geekbang.org/account/avatar/00/21/c6/f4/78170848.jpg","comment_is_top":false,"comment_ctime":1603110058,"is_pvip":false,"replies":[{"id":"94544","content":"webrtc1.0è§„èŒƒæ‰‹å†Œï¼Œç½‘ä¸ŠæŸ¥ä¸€ä¸‹","user_name":"ä½œè€…å›å¤","comment_id":254392,"uid":"1507837","ip_address":"","utype":1,"ctime":1605003895,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":2,"race_medal":0,"score":"5898077354","product_id":100031801,"comment_content":"è€å¸ˆï¼ŒæŒ‰ç…§demoå†™çš„ï¼Œå½•ä¸‹æ¥çš„æ¡Œé¢è§†é¢‘å¥½æ¨¡ç³Šï¼Œè°ƒæ•´äº†åˆ†è¾¨ç‡å’Œå¸§ç‡ä¹Ÿæ²¡å•¥ç”¨ï¼Œåˆ†è¾¨ç‡å¤ªå¤§äº†ï¼Œå½•ä¸‹æ¥çš„è§†é¢‘ä¼šåµŒå¥—å˜æˆå¾ˆå¤šå±‚ï¼›å¦å¤–getDisplayMediaæ¥å£çš„å…·ä½“å‚æ•°åœ¨å“ªé‡Œèƒ½æŸ¥åˆ°ï¼Ÿ MDNçš„å‚æ•°å¾ˆç®€å•ï¼Œè·Ÿå®é™…è¦ç”¨åˆ°çš„ç›¸æ¯”å°‘äº†å¾ˆå¤š","like_count":1,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507374,"discussion_content":"webrtc1.0è§„èŒƒæ‰‹å†Œï¼Œç½‘ä¸ŠæŸ¥ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605003895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1227188,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b9/b4/8b65959a.jpg","nickname":"ğŸå¾€äº‹éšé£ğŸ","note":"","ucode":"D1A19195FCEAF0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379331,"discussion_content":"æ¡Œé¢è§†é¢‘ä¸æ¸…æ™°ï¼Œnavigator.mediaDevices.getDisplayMedia()\n\t\t\t.then(gotMediaStream)\n\t\t\t.catch(handleError);\n\næŠŠgetDisplayMediaå‚æ•°å»æ‰å°±å¥½äº†ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623831535,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120393,"user_name":"ZeroIce","can_delete":false,"product_type":"c1","uid":1305369,"ip_address":"","ucode":"30133BA83CE349","user_header":"https://static001.geekbang.org/account/avatar/00/13/eb/19/0d990b03.jpg","comment_is_top":false,"comment_ctime":1564878969,"is_pvip":false,"replies":[{"id":"44196","content":"getUserMedia API ä¸­è°ƒæ•´ä¸€ä¸‹åˆ†è¾©ç‡å°±å¥½äº†ï¼","user_name":"ä½œè€…å›å¤","comment_id":120393,"uid":"1507837","ip_address":"","utype":1,"ctime":1564919183,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"5859846265","product_id":100031801,"comment_content":"è€å¸ˆï¼Œå½•åˆ¶çš„åƒç´ å¤ªä½æ€ä¹ˆåŠï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461316,"discussion_content":"getUserMedia API ä¸­è°ƒæ•´ä¸€ä¸‹åˆ†è¾©ç‡å°±å¥½äº†ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564919183,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120389,"user_name":"ZeroIce","can_delete":false,"product_type":"c1","uid":1305369,"ip_address":"","ucode":"30133BA83CE349","user_header":"https://static001.geekbang.org/account/avatar/00/13/eb/19/0d990b03.jpg","comment_is_top":false,"comment_ctime":1564876784,"is_pvip":false,"replies":[{"id":"44197","content":"èµï¼","user_name":"ä½œè€…å›å¤","comment_id":120389,"uid":"1507837","ip_address":"","utype":1,"ctime":1564919198,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"5859844080","product_id":100031801,"comment_content":"äº¤ä½œä¸šï¼šhttps:&#47;&#47;codepen.io&#47;vicksiyi&#47;pen&#47;oKGJzL <br><br>&#47;&#47; åˆ¤æ–­æ˜¯å¦ä¸ºPCç«¯çš„Chrome<br>\tlet ifMachine = (() =&gt; {<br>\t\tvar ua = navigator.userAgent,<br>\t\t\tisWindowsPhone = &#47;(?:Windows Phone)&#47;.test(ua),<br>\t\t\tisSymbian = &#47;(?:SymbianOS)&#47;.test(ua) || isWindowsPhone,<br>\t\t\tisAndroid = &#47;(?:Android)&#47;.test(ua),<br>\t\t\tisFireFox = &#47;(?:Firefox)&#47;.test(ua),<br>\t\t\tisChrome = &#47;(?:Chrome|CriOS)&#47;.test(ua),<br>\t\t\tisTablet = &#47;(?:iPad|PlayBook)&#47;.test(ua) || (isAndroid &amp;&amp; !&#47;(?:Mobile)&#47;.test(ua)) || (isFireFox &amp;&amp; &#47;(?:Tablet)&#47;.test(ua)),<br>\t\t\tisPhone = &#47;(?:iPhone)&#47;.test(ua) &amp;&amp; !isTablet,<br>\t\t\tisPc = !isPhone &amp;&amp; !isAndroid &amp;&amp; !isSymbian;<br>\t\treturn {<br>\t\t\tisChrome: isChrome,<br>\t\t\tisPc: isPc<br>\t\t};<br>\t})();<br><br><br>","like_count":1,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461313,"discussion_content":"èµï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564919198,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117491,"user_name":"K","can_delete":false,"product_type":"c1","uid":1179273,"ip_address":"","ucode":"74A783491F6E95","user_header":"https://static001.geekbang.org/account/avatar/00/11/fe/89/ef7b5fe3.jpg","comment_is_top":false,"comment_ctime":1564059434,"is_pvip":true,"replies":[{"id":"43016","content":"èµï¼","user_name":"ä½œè€…å›å¤","comment_id":117491,"uid":"1507837","ip_address":"","utype":1,"ctime":1564062345,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"5859026730","product_id":100031801,"comment_content":"&#47;&#47;ç¬¬ä¸€éƒ¨åˆ†ä»£ç <br><br>let videoTypes = &quot;video&#47;webm\\;codecs=vp8&quot;;<br>let userMediaSetting = { video: true };<br>let playVideo = document.querySelector(&#39;video#play&#39;);<br>let rePlayVideo = document.querySelector(&#39;video#replay&#39;);<br>let recordingButton = document.querySelector(&#39;button#recording&#39;);<br>let playbackButton = document.querySelector(&#39;button#playback&#39;);<br>let downloadButton = document.querySelector(&#39;button#download&#39;);<br>let buffer;<br>let mediaRecorder;<br>let blob;<br><br>function init() {<br>    if (!(mediaSupport() &amp;&amp; mediaRecorderSupport()))<br>        return;<br>    getVideo();<br>}<br><br>function mediaSupport() {<br>    if (!navigator.mediaDevices) {<br>        console.log(&#39;ä¸æ”¯æŒ mediaDevices&#39;);<br>        return false;<br>    }<br>    console.log(&#39;æ”¯æŒ mediaDevices&#39;);<br>    return true;<br>}<br><br>function mediaRecorderSupport() {<br>    if (!MediaRecorder.isTypeSupported(videoTypes)) {<br>        console.log(`ä¸æ”¯æŒ ${videoTypes}`);<br>        return false;<br>    }<br>    console.log(`æ”¯æŒ ${videoTypes}`);<br>    return true;<br>}<br><br>function getVideo() {<br>    navigator.mediaDevices.getDisplayMedia(userMediaSetting)<br>        .then(handleGetVideo)<br>        .catch(handleGetVideoError)<br>}<br><br>function handleGetVideo(mediaStream) {<br>    playVideo.srcObject = mediaStream;<br>}<br><br>function handleGetVideoError(err) {<br>    console.log(`è·å–è§†é¢‘è¾“å…¥å‡ºé”™: ${err.name} : ${err.message}`)<br>}<br><br>function recordingVideo() {<br>    if ( typeof(mediaRecorder) != &quot;undefined&quot; &amp;&amp; mediaRecorder.state === &#39;recording&#39;) {<br>        console.log(&#39;å·²å¼€å§‹å½•åˆ¶,è¯·å‹¿é‡å¤å½•åˆ¶&#39;);<br>        return;<br>    }<br>    console.log(&#39;å¼€å§‹å½•åˆ¶&#39;);<br>    buffer = [];<br>    let options = {<br>        mimeType : videoTypes<br>    };<br><br>    mediaRecorder = new MediaRecorder(playVideo.srcObject, options);<br>    mediaRecorder.ondataavailable = handleDataAvailable;<br>    mediaRecorder.start(10);<br>}<br><br>function handleDataAvailable(d) {<br>    if (d &amp;&amp; d.data &amp;&amp; d.data.size &gt; 0) {<br>        buffer.push(d.data);<br>    }<br>}","like_count":1,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459994,"discussion_content":"èµï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564062345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357509,"user_name":"| ~æµ‘è›‹~","can_delete":false,"product_type":"c1","uid":3024820,"ip_address":"æ–°åŠ å¡","ucode":"B6904B44DFA805","user_header":"https://static001.geekbang.org/account/avatar/00/2e/27/b4/df65c0f7.jpg","comment_is_top":false,"comment_ctime":1663321398,"is_pvip":true,"discussion_count":0,"race_medal":3,"score":"1663321398","product_id":100031801,"comment_content":"ä¸ºå•¥æˆ‘çš„ä¼šå‡ºç°ä¸€ä¸ªä¸€ä¸ªå›¾ç‰‡ï¼Œå±‚å±‚å¥—å¨ƒåœ°å‘ˆç°å‡ºæ¥å‘¢","like_count":0},{"had_liked":false,"id":344608,"user_name":"Geek_e46272","can_delete":false,"product_type":"c1","uid":2342925,"ip_address":"","ucode":"FCE5BD40D197FE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/YnUO6TULqJ5WKVhrlE2icRwConvzxicI4Tia5YvMpYGjnS5ay4va2KpEJrBo1jLdGjd9s6zJ5swCW5oERgTg3uVhA/132","comment_is_top":false,"comment_ctime":1651667549,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651667549","product_id":100031801,"comment_content":"å›¾ç‰‡ç¼–ç æ¯ä¸€å¸§éƒ½å¯ä»¥ç‹¬ç«‹è¿˜åŸï¼Œè§†é¢‘ç¼–ç ä¸¢å¤±å…³é”®å¸§çš„è¯å°±åªèƒ½é©¬èµ›å…‹äº†ã€‚æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":330218,"user_name":"LSTğŸ˜˜ CYX","can_delete":false,"product_type":"c1","uid":2176294,"ip_address":"","ucode":"19859F5E4542C9","user_header":"https://static001.geekbang.org/account/avatar/00/21/35/26/477839ef.jpg","comment_is_top":false,"comment_ctime":1641868477,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641868477","product_id":100031801,"comment_content":"é‡‡é›†æ¡Œé¢æ—¶ï¼Œé€šè¿‡è®¾ç½®width,height,frameRateï¼Œå‚æ•°ä¸Šå¾ˆé«˜ï¼Œä¹Ÿæ²¡ä¸¢åŒ…ï¼Œä½†æ˜¯æ¸…æ™°åº¦ä¾ç„¶ä¸å¤Ÿï¼Œå¾ˆæ¨¡ç³Šï¼Œæ€ä¹ˆåŠ<br>","like_count":0},{"had_liked":false,"id":324456,"user_name":"npersonal","can_delete":false,"product_type":"c1","uid":1337630,"ip_address":"","ucode":"060839D2BF5E33","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKOCkbWo7KTAUYkTk5sqgOSAdjS51ZH8bTxiaBNLVnIFUOMsicBHRJBoXSOX6sZp5uORE2waGyz3ysw/132","comment_is_top":false,"comment_ctime":1638441074,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638441074","product_id":100031801,"comment_content":"è€å¸ˆï¼Œæƒ³é—®ä¸‹webrtcæœ‰æä¾›apiå¯ä»¥è·å–åˆ°å±å¹•ã€çª—å£è¿™äº›å®æ—¶æµå—ï¼Œæƒ³è‡ªå·±å®ç°å…±äº«æ¡†","like_count":0},{"had_liked":false,"id":289648,"user_name":"caidy","can_delete":false,"product_type":"c1","uid":1188783,"ip_address":"","ucode":"AEFB529C32C7EE","user_header":"https://static001.geekbang.org/account/avatar/00/12/23/af/84f4714e.jpg","comment_is_top":false,"comment_ctime":1619108419,"is_pvip":false,"replies":[{"id":"105422","content":"è¿™ä¸ä½ ç›´æ’­æ—¶çš„è§†é¢‘åˆ†è¾¨ç‡æœ‰å…³ï¼Œä½ å¯ä»¥ç¡®å®šä¸€ä¸‹ä½ ç›´æ’­æ—¶çš„åˆ†è¾¨ç‡æ˜¯å¦ä¸å½•åˆ¶çš„åˆ†è¾¨ç‡ä¸€è‡´","user_name":"ä½œè€…å›å¤","comment_id":289648,"uid":"1507837","ip_address":"","utype":1,"ctime":1619870842,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"1619108419","product_id":100031801,"comment_content":"å½•åˆ¶çš„è§†é¢‘æ¸…æ™°åº¦å¾ˆå·®ï¼Œè¿™ä¸ªè¦æ€ä¹ˆè§£å†³å‘¢ï¼Ÿè¿˜æœ‰æ˜¾ç¤ºçš„æ—¶å€™æ¸…æ™°åº¦ä¹Ÿéå¸¸å·®","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518982,"discussion_content":"è¿™ä¸ä½ ç›´æ’­æ—¶çš„è§†é¢‘åˆ†è¾¨ç‡æœ‰å…³ï¼Œä½ å¯ä»¥ç¡®å®šä¸€ä¸‹ä½ ç›´æ’­æ—¶çš„åˆ†è¾¨ç‡æ˜¯å¦ä¸å½•åˆ¶çš„åˆ†è¾¨ç‡ä¸€è‡´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619870842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286334,"user_name":"CaptainJack","can_delete":false,"product_type":"c1","uid":1854952,"ip_address":"","ucode":"2630B57EE4DFCC","user_header":"https://static001.geekbang.org/account/avatar/00/1c/4d/e8/b94f7438.jpg","comment_is_top":false,"comment_ctime":1617259521,"is_pvip":false,"replies":[{"id":"104064","content":"è¦é‡æ–°åª’ä½“åå•†ä¸€ä¸‹è¯•è¯•","user_name":"ä½œè€…å›å¤","comment_id":286334,"uid":"1507837","ip_address":"","utype":1,"ctime":1617352495,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"1617259521","product_id":100031801,"comment_content":"è¯·é—®ï¼Œæˆ‘è¿™è¾¹åšäº†ä¸€å¯¹ä¸€çš„è§†é¢‘è¿æ¥ï¼Œè¿™ä¸ªæ—¶å€™è¦å…±äº«æ¡Œé¢ï¼Œæ‹¿åˆ°æµä¹‹åï¼Œè¦æ€ä¹ˆè®©å¯¹ç«¯çœ‹åˆ°è¿™ä¸ªæµå‘¢ï¼Œæˆ‘ stream.getTracks().forEach((track) =&gt; this.pc.addTrack(track, stream)) ä¹‹åï¼Œå¯¹ç«¯æ²¡æœ‰æ”¶åˆ°å…±äº«çš„æµ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517951,"discussion_content":"è¦é‡æ–°åª’ä½“åå•†ä¸€ä¸‹è¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617352495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249885,"user_name":"ç™½é©¬","can_delete":false,"product_type":"c1","uid":1103540,"ip_address":"","ucode":"FD4DA715AC5984","user_header":"https://static001.geekbang.org/account/avatar/00/10/d6/b4/0808999d.jpg","comment_is_top":false,"comment_ctime":1600842976,"is_pvip":false,"replies":[{"id":"94551","content":"è¿™ä¸ªæˆ‘æ²¡æŸ¥è¿‡ï¼Œä½ åº”è¯¥æŸ¥æŸ¥æµè§ˆå™¨çš„é…ç½®æ˜¯å¦å¯ä»¥åšåˆ°","user_name":"ä½œè€…å›å¤","comment_id":249885,"uid":"1507837","ip_address":"","utype":1,"ctime":1605004406,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"1600842976","product_id":100031801,"comment_content":"æè€å¸ˆï¼Œå¦‚ä½•å®ç°é»˜è®¤å½•åˆ¶å…¨å±å‘¢ï¼ŸæŒ‰ç…§æ‚¨æ•™çš„ï¼Œå½•åˆ¶çš„æ—¶å€™ä¼šå¼¹å‡ºæç¤ºæ¡†è®©é€‰æ‹©æ˜¯å½•åˆ¶æ¡Œé¢è¿˜æ˜¯å½•åˆ¶åº”ç”¨çš„ç•Œé¢ã€‚æˆ‘ç°åœ¨å¸Œæœ›ç›´æ¥å½•åˆ¶æ¡Œé¢ï¼Œä¸å¼¹å‡ºé€‰æ‹©æ¡†ã€‚","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506047,"discussion_content":"è¿™ä¸ªæˆ‘æ²¡æŸ¥è¿‡ï¼Œä½ åº”è¯¥æŸ¥æŸ¥æµè§ˆå™¨çš„é…ç½®æ˜¯å¦å¯ä»¥åšåˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605004406,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249149,"user_name":"Ben","can_delete":false,"product_type":"c1","uid":1281885,"ip_address":"","ucode":"BC451666C9921D","user_header":"https://static001.geekbang.org/account/avatar/00/13/8f/5d/497992e9.jpg","comment_is_top":false,"comment_ctime":1600478985,"is_pvip":false,"replies":[{"id":"91436","content":"å¯ä»¥åœ¨æœåŠ¡ç«¯è¿›è¡Œå½•åˆ¶ï¼Œé‚£æ˜¯ä¸€å—æ¯”è¾ƒå¤§çš„çŸ¥è¯†ç‚¹ï¼Œæœ¬ä¸“æ æ²¡æœ‰ä»‹ç»","user_name":"ä½œè€…å›å¤","comment_id":249149,"uid":"1507837","ip_address":"","utype":1,"ctime":1600529135,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"1600478985","product_id":100031801,"comment_content":"è€å¸ˆ æœ¬åœ°æ¡Œé¢å½•åˆ¶å¯ä»¥æ”¾åœ¨æœåŠ¡å™¨ä¸Šè‡ªåŠ¨åŒ–å—ï¼Ÿæ¯”å¦‚è¯´åœ¨çº¿æ•™è‚²çš„åœºæ™¯ä¸‹ï¼Œä¸æƒ³è®©å­¦ç”Ÿå’Œè€å¸ˆå¯¹å½•åˆ¶è¿‡ç¨‹æœ‰æ„ŸçŸ¥ï¼Œæ‰€ä»¥æŠŠè¿™ä¸ªæœ¬åœ°å½•åˆ¶æ”¾åˆ°ä¸€ä¸ªç¬¬ä¸‰ç«¯ä¸­ï¼Œåœ¨ç¬¬ä¸‰ç«¯å½•åˆ¶æœ¬åœ°æ¡Œé¢ã€‚ä½†æ˜¯chromeè·å–æ¡Œé¢è§†é¢‘æµçš„æ—¶å€™å¥½åƒå¿…é¡»è¦ç”¨æˆ·æ‰‹åŠ¨åŒæ„æ‰è¡Œã€‚","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505848,"discussion_content":"å¯ä»¥åœ¨æœåŠ¡ç«¯è¿›è¡Œå½•åˆ¶ï¼Œé‚£æ˜¯ä¸€å—æ¯”è¾ƒå¤§çš„çŸ¥è¯†ç‚¹ï¼Œæœ¬ä¸“æ æ²¡æœ‰ä»‹ç»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600529135,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242905,"user_name":"äºä½ ","can_delete":false,"product_type":"c1","uid":1626759,"ip_address":"","ucode":"6A3F8C38874410","user_header":"https://static001.geekbang.org/account/avatar/00/18/d2/87/e5f78961.jpg","comment_is_top":false,"comment_ctime":1597889041,"is_pvip":false,"replies":[{"id":"89673","content":"åˆ‡æ¢ä¸€ä¸‹çª—å£å°±å¥½äº†","user_name":"ä½œè€…å›å¤","comment_id":242905,"uid":"1507837","ip_address":"","utype":1,"ctime":1598018052,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"1597889041","product_id":100031801,"comment_content":"æŠ“å‡ºæ¥çš„å±å¹•ä¸å®Œæ•´ï¼Œè€Œä¸”å…¨å±éƒ½æ˜¯é‡å ï¼Œæ˜¯è¦å¯¹constraints åšä»€ä¹ˆé…ç½®å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504128,"discussion_content":"åˆ‡æ¢ä¸€ä¸‹çª—å£å°±å¥½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598018052,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236924,"user_name":"itgou","can_delete":false,"product_type":"c1","uid":1394159,"ip_address":"","ucode":"4F6FFA0DD1ACBA","user_header":"https://wx.qlogo.cn/mmopen/vi_32/pTZS48zWWAhI0zGXrib8s124HSenCS2FTDD0r4SKCqw2ub4adicI4x2wTeH7bHdlsl8QwxeVmzTGs1PIImURxxPg/132","comment_is_top":false,"comment_ctime":1595586615,"is_pvip":false,"replies":[{"id":"87920","content":"webrtcä¸æ”¯æŒé¼ æ ‡å’Œé”®ç›˜çš„æ§åˆ¶ï¼Œå³ä½¿ä½ ç”¨nativeä¹Ÿä¸æ”¯æŒ","user_name":"ä½œè€…å›å¤","comment_id":236924,"uid":"1507837","ip_address":"","utype":1,"ctime":1596023754,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":2,"race_medal":0,"score":"1595586615","product_id":100031801,"comment_content":"å¦‚æœæ˜¯è¿œç¨‹æ¡Œé¢æ§åˆ¶ï¼Œé‚£ä¹ˆè¢«æ§åˆ¶ç«¯å¿…é¡»æ˜¯å®¢æˆ·ç«¯ç¨‹åºï¼Œå› ä¸ºæµè§ˆå™¨æ²¡åŠæ³•æ§åˆ¶é¼ æ ‡é”®ç›˜çš„åŠ¨ä½œï¼Œæˆ‘æ²¡ç†è§£é”™å§ï¼Ÿè€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":502254,"discussion_content":"webrtcä¸æ”¯æŒé¼ æ ‡å’Œé”®ç›˜çš„æ§åˆ¶ï¼Œå³ä½¿ä½ ç”¨nativeä¹Ÿä¸æ”¯æŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596023754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1394159,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/pTZS48zWWAhI0zGXrib8s124HSenCS2FTDD0r4SKCqw2ub4adicI4x2wTeH7bHdlsl8QwxeVmzTGs1PIImURxxPg/132","nickname":"itgou","note":"","ucode":"4F6FFA0DD1ACBA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295366,"discussion_content":"å¯¹ï¼Œä½†æ˜¯nativeå¯ä»¥å¼•å…¥å…¶ä»–åº“æ¥æ”¯æŒé¼ æ ‡å’Œé”®ç›˜çš„æ§åˆ¶ï¼Œè¿™æ ·çš„è¯ï¼Œå°±å¯ä»¥å®ç°è¿œç¨‹æ§åˆ¶äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596176087,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227671,"user_name":"æˆ‘æ¯é¸¡å•Šï¼","can_delete":false,"product_type":"c1","uid":1633705,"ip_address":"","ucode":"7BFB14BC99E978","user_header":"https://static001.geekbang.org/account/avatar/00/18/ed/a9/662318ab.jpg","comment_is_top":false,"comment_ctime":1592450796,"is_pvip":false,"replies":[{"id":"84426","content":"ä½ å¿…é¡»è¦æœ‰HTTPSè¯ä¹¦æ‰è¡Œ","user_name":"ä½œè€…å›å¤","comment_id":227671,"uid":"1507837","ip_address":"","utype":1,"ctime":1592877350,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"1592450796","product_id":100031801,"comment_content":"macä¸‹çš„ chrome æŠ¥é”™DOMException: Permission denied by system æ²¡æœ‰æƒé™å¯è‚¿ä¹ˆåŠ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498742,"discussion_content":"ä½ å¿…é¡»è¦æœ‰HTTPSè¯ä¹¦æ‰è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592877350,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222410,"user_name":"Jessie","can_delete":false,"product_type":"c1","uid":1241378,"ip_address":"","ucode":"50FB29A445D371","user_header":"https://static001.geekbang.org/account/avatar/00/12/f1/22/d842d9c8.jpg","comment_is_top":false,"comment_ctime":1590799281,"is_pvip":false,"replies":[{"id":"84444","content":"è¿™ä¸ªä¸æ˜¯å½•åˆ¶ä¸€éƒ¨åˆ†çš„ï¼Œè€Œæ˜¯å¾—åˆ°æœ€ç»ˆæ¡Œé¢çš„å°ºå¯¸ã€‚ç°åœ¨æµè§ˆå™¨ä¸æ”¯æŒä½ è¯´çš„é‚£ç§ï¼Œåªè¦å±æ…•çš„ä¸€éƒ¨åˆ†è¿™å’±éœ€æ±‚ã€‚","user_name":"ä½œè€…å›å¤","comment_id":222410,"uid":"1507837","ip_address":"","utype":1,"ctime":1592879433,"user_name_real":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…"}],"discussion_count":1,"race_medal":0,"score":"1590799281","product_id":100031801,"comment_content":"è€å¸ˆï¼Œè¿™é‡Œæœ‰ä¸ªç–‘é—®ï¼š<br>var constraints = {<br>\t\t\tvideo : {<br>\t\t\t\twidth: 640,\t<br>\t\t\t\theight: 480,<br>\t\t\t\tframeRate:15<br>\t\t\t}, <br>\t\t\taudio : false <br>\t\t}<br>è¿™æ®µè®¾ç½®ï¼Œä¿®æ”¹å‚æ•°ä¹‹åï¼Œå¹¶æ²¡æœ‰æ”¹å˜ï¼Œä¾ç„¶æ˜¯å…¨å±å½•åˆ¶ï¼Œå¹¶æ²¡æœ‰æˆªå–ä¸€éƒ¨åˆ†ã€‚<br>å¦‚ä½•è®¾ç½®ï¼Œä»…å½•åˆ¶å±å¹•çš„ä¸€éƒ¨åˆ†å‘¢ï¼Ÿ ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496784,"discussion_content":"è¿™ä¸ªä¸æ˜¯å½•åˆ¶ä¸€éƒ¨åˆ†çš„ï¼Œè€Œæ˜¯å¾—åˆ°æœ€ç»ˆæ¡Œé¢çš„å°ºå¯¸ã€‚ç°åœ¨æµè§ˆå™¨ä¸æ”¯æŒä½ è¯´çš„é‚£ç§ï¼Œåªè¦å±æ…•çš„ä¸€éƒ¨åˆ†è¿™å’±éœ€æ±‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592879433,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":156959,"user_name":"test","can_delete":false,"product_type":"c1","uid":1129610,"ip_address":"","ucode":"C57A175CBC6547","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","comment_is_top":false,"comment_ctime":1575002325,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575002325","product_id":100031801,"comment_content":"å› ä¸ºå¸¦å®½ä¸å¤Ÿï¼Œè€Œè§†é¢‘æ¨¡ç³Šä¸€ç‚¹ä¹Ÿæ²¡äº‹ï¼Œä¸å½±å“ç†è§£","like_count":0},{"had_liked":false,"id":155639,"user_name":"å¼ æ—­","can_delete":false,"product_type":"c1","uid":1333441,"ip_address":"","ucode":"AAAB38225D9A83","user_header":"https://static001.geekbang.org/account/avatar/00/14/58/c1/6feb01c6.jpg","comment_is_top":false,"comment_ctime":1574731415,"is_pvip":false,"replies":[{"id":"60312","content":"çš„åˆ°ä½ çš„æ¡Œé¢çš„track, ç„¶åè°ƒç”¨close æ–¹æ³•ã€‚","user_name":"ä½œè€…å›å¤","comment_id":155639,"uid":"1507837","ip_address":"","utype":1,"ctime":1575103776,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1574731415","product_id":100031801,"comment_content":"æ˜¯å¦æœ‰åŠæ³•èƒ½ä¸»åŠ¨è§¦å‘æ¡Œé¢æµç»“æŸï¼Œç°åœ¨åšæ¡Œé¢é‡‡é›†ågpuå‡é«˜ï¼Œæœºå™¨å˜å¡ï¼Œæ‰‹åŠ¨åˆ‡æ¢æˆé‡‡é›†æ‘„åƒå¤´å†…å®¹ï¼Œé‡‡é›†æ¡Œé¢æµçš„è¿›ç¨‹ä¼¼ä¹æ²¡æœ‰ç»ˆæ­¢ï¼Œæœºå™¨ä¾ç„¶å¾ˆå¡é¡¿","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475816,"discussion_content":"çš„åˆ°ä½ çš„æ¡Œé¢çš„track, ç„¶åè°ƒç”¨close æ–¹æ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575103776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127728,"user_name":"åˆéŸ³éŸ¶æ­Œ","can_delete":false,"product_type":"c1","uid":1585331,"ip_address":"","ucode":"2EA5EDE3693CCB","user_header":"https://static001.geekbang.org/account/avatar/00/18/30/b3/527f84de.jpg","comment_is_top":false,"comment_ctime":1566785213,"is_pvip":false,"replies":[{"id":"47578","content":"ä½ åˆ‡æ¢ä¸€ä¸‹çª—å£å°±å¥½äº†ï¼Œä½ å¯ä»¥æƒ³ä¸€ä¸‹ä¸ºä»€ä¹ˆä¼šè¿™æ ·å“ˆ","user_name":"ä½œè€…å›å¤","comment_id":127728,"uid":"1507837","ip_address":"","utype":1,"ctime":1566878612,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1566785213","product_id":100031801,"comment_content":"è€å¸ˆï¼Œæˆ‘çš„æˆªå–æ¡Œé¢æ’­æ”¾çš„è§†é¢‘å†…å®¹æ˜¯åµŒå¥—çš„æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Œå°±æ˜¯ä¸€ä¸ªæ¡Œé¢å†…å®¹é‡Œåˆæœ‰nå±‚å°çš„å†…å®¹","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464625,"discussion_content":"ä½ åˆ‡æ¢ä¸€ä¸‹çª—å£å°±å¥½äº†ï¼Œä½ å¯ä»¥æƒ³ä¸€ä¸‹ä¸ºä»€ä¹ˆä¼šè¿™æ ·å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566878612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120115,"user_name":"ç›¸è§æ¨æ™š","can_delete":false,"product_type":"c1","uid":1315722,"ip_address":"","ucode":"74415CD0D727C0","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/8a/40459013.jpg","comment_is_top":false,"comment_ctime":1564794543,"is_pvip":false,"replies":[{"id":"44170","content":"ç¬¬äº”ç¯‡æ–‡ç« çš„demoè¿™ä¸¤å¤©å°±ä¼šæœ‰","user_name":"ä½œè€…å›å¤","comment_id":120115,"uid":"1507837","ip_address":"","utype":1,"ctime":1564851666,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1564794543","product_id":100031801,"comment_content":"å¤§ä½¬ï¼Œ4ç« ä»¥åçš„ä»£ç å•¥æ—¶å€™èƒ½æä¾›ï¼Œåº”è¯¥æ¯ç« éƒ½æœ‰demoå§ï¼Œå†å¤šçš„ç†è®ºéƒ½ä¸å¦‚ä»£ç æ¥å¾—å®åœ¨ã€‚","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461204,"discussion_content":"ç¬¬äº”ç¯‡æ–‡ç« çš„demoè¿™ä¸¤å¤©å°±ä¼šæœ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564851666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120074,"user_name":"ZeroIce","can_delete":false,"product_type":"c1","uid":1305369,"ip_address":"","ucode":"30133BA83CE349","user_header":"https://static001.geekbang.org/account/avatar/00/13/eb/19/0d990b03.jpg","comment_is_top":false,"comment_ctime":1564776718,"is_pvip":false,"replies":[{"id":"44090","content":"9æœˆä»½","user_name":"ä½œè€…å›å¤","comment_id":120074,"uid":"1507837","ip_address":"","utype":1,"ctime":1564796375,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1564776718","product_id":100031801,"comment_content":"è€å¸ˆï¼Œè¯¾ç¨‹å¤§æ¦‚ä»€ä¹ˆæ—¶å€™å¯ä»¥å®Œç»“ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461195,"discussion_content":"9æœˆä»½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564796375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118477,"user_name":"tommy_zhang","can_delete":false,"product_type":"c1","uid":1607132,"ip_address":"","ucode":"C995F39459467C","user_header":"","comment_is_top":false,"comment_ctime":1564372012,"is_pvip":false,"replies":[{"id":"43424","content":"ä¸èƒ½ï¼","user_name":"ä½œè€…å›å¤","comment_id":118477,"uid":"1507837","ip_address":"","utype":1,"ctime":1564388855,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1564372012","product_id":100031801,"comment_content":"è€å¸ˆï¼Œå¼¹å‡ºçš„å…±äº«å±å¹•ç•Œé¢ä¸Šå†…å®¹èƒ½è‡ªå®šä¹‰å—ï¼Ÿæ¯”å¦‚ä¸Šé¢çš„æ–‡å­—&quot;xxxæƒ³è¦å…±äº«å…±äº«æ‚¨å±å¹•ä¸Šçš„å†…å®¹&quot;","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460425,"discussion_content":"ä¸èƒ½ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564388855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117615,"user_name":"LongXiaJun","can_delete":false,"product_type":"c1","uid":1154688,"ip_address":"","ucode":"B5246BF0DAF4F7","user_header":"https://static001.geekbang.org/account/avatar/00/11/9e/80/b87f8b49.jpg","comment_is_top":false,"comment_ctime":1564102471,"is_pvip":false,"replies":[{"id":"43123","content":"æ‰“å¡ï¼æ‰“å¡ï¼","user_name":"ä½œè€…å›å¤","comment_id":117615,"uid":"1507837","ip_address":"","utype":1,"ctime":1564119082,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1564102471","product_id":100031801,"comment_content":"æ‰“å¡<br>","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460053,"discussion_content":"æ‰“å¡ï¼æ‰“å¡ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564119082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117492,"user_name":"K","can_delete":false,"product_type":"c1","uid":1179273,"ip_address":"","ucode":"74A783491F6E95","user_header":"https://static001.geekbang.org/account/avatar/00/11/fe/89/ef7b5fe3.jpg","comment_is_top":false,"comment_ctime":1564059460,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1564059460","product_id":100031801,"comment_content":"&#47;&#47;ç¬¬äºŒéƒ¨åˆ†<br><br>function playbackVideo(){<br>    blob = new Blob(buffer, {type:&#39;video&#47;webm&#39;});<br>    rePlayVideo.src = window.URL.createObjectURL(blob);<br>    rePlayVideo.srcObject = null;<br>    rePlayVideo.constructor = true;<br>    rePlayVideo.play();<br>}<br><br>function download(){<br>    blob = new Blob(buffer, {type:&#39;video&#47;webm&#39;});<br>    let a = document.createElement(&#39;a&#39;);<br>    a.href = window.URL.createObjectURL(blob);<br>    a.download = &#39;download.webm&#39;;<br>    a.click();<br>    a.remove();<br>}<br><br>recordingButton.addEventListener(&#39;click&#39;, function () {<br>    recordingVideo();<br>});<br><br>playbackButton.addEventListener(&#39;click&#39;, function () {<br>    playbackVideo();<br>});<br><br>downloadButton.addEventListener(&#39;click&#39;, function () {<br>    download();<br>});<br><br>init();","like_count":0},{"had_liked":false,"id":117400,"user_name":"Jason","can_delete":false,"product_type":"c1","uid":1053390,"ip_address":"","ucode":"ABB3F1A63E102A","user_header":"https://static001.geekbang.org/account/avatar/00/10/12/ce/a8c8b5e8.jpg","comment_is_top":false,"comment_ctime":1564040263,"is_pvip":false,"replies":[{"id":"43019","content":"å¦‚æœæ˜¯è‡ªé€‚åº”ç ç‡ï¼Œå½“å‘ç”Ÿä¸¢åŒ…æ—¶ï¼Œç¼–ç å™¨ä¼šé™ä½ç ç‡ï¼Œå½“åˆ†è¾¨ç‡ä¸å˜ï¼Œç ç‡å˜ä½æ—¶ï¼Œå°±æ˜¯æ¨¡ç³Šå“ˆï¼","user_name":"ä½œè€…å›å¤","comment_id":117400,"uid":"1507837","ip_address":"","utype":1,"ctime":1564062517,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1564040263","product_id":100031801,"comment_content":"æ€è€ƒé¢˜ï¼šæˆ‘çŒœä¸€ä¸‹ï¼Œwenrtcåº•å±‚ä¸»è¦ä½¿ç”¨udpä¼ è¾“ï¼Œç½‘ç»œä¸å¥½çš„æƒ…å†µä¸‹ï¼Œä¼šæœ‰ä¸¢åŒ…ã€‚æ‰€ä»¥ä¼šæœ‰æ¨¡ç³Šçš„ç°è±¡å‘ç”Ÿã€‚","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459949,"discussion_content":"å¦‚æœæ˜¯è‡ªé€‚åº”ç ç‡ï¼Œå½“å‘ç”Ÿä¸¢åŒ…æ—¶ï¼Œç¼–ç å™¨ä¼šé™ä½ç ç‡ï¼Œå½“åˆ†è¾¨ç‡ä¸å˜ï¼Œç ç‡å˜ä½æ—¶ï¼Œå°±æ˜¯æ¨¡ç³Šå“ˆï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564062517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117398,"user_name":"æ­£å‘æˆé•¿","can_delete":false,"product_type":"c1","uid":1197344,"ip_address":"","ucode":"AC4B5E719BA5CD","user_header":"https://static001.geekbang.org/account/avatar/00/12/45/20/24867e59.jpg","comment_is_top":false,"comment_ctime":1564040129,"is_pvip":false,"replies":[{"id":"43020","content":"æ˜¯ä½¿ç”¨çš„httpså—ï¼Ÿ","user_name":"ä½œè€…å›å¤","comment_id":117398,"uid":"1507837","ip_address":"","utype":1,"ctime":1564062540,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1564040129","product_id":100031801,"comment_content":"ä½¿ç”¨çš„chromeæç¤ºä¸æ”¯æŒnavigator.mediaDevices.getDisplayMedia APIï¼Œè¯·é—®è¯¥å¦‚ä½•è§£å†³ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459947,"discussion_content":"æ˜¯ä½¿ç”¨çš„httpså—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564062540,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117384,"user_name":"xiaoè±ª","can_delete":false,"product_type":"c1","uid":1026417,"ip_address":"","ucode":"F7969A9785E37B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a9/71/78796fd5.jpg","comment_is_top":false,"comment_ctime":1564037135,"is_pvip":false,"replies":[{"id":"43022","content":"èµï¼","user_name":"ä½œè€…å›å¤","comment_id":117384,"uid":"1507837","ip_address":"","utype":1,"ctime":1564062951,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1564037135","product_id":100031801,"comment_content":"ç®€å•demo<br><br>var deskVideo = document.querySelector(&quot;video#deskVideo&quot;);<br>function getDeskStream(stream){<br>    deskVideo.srcObject = stream;<br>}<br><br>&#47;&#47; å¯¹é‡‡é›†çš„æ•°æ®åšä¸€äº›é™åˆ¶<br>var constraints = {<br>    video : {<br>            width: 1280,<br>            height: 720,<br>            frameRate:15,<br>    },<br>    audio : false<br>}<br><br>function handleError(err){<br>    console.log(&#39;getUserMedia error:&#39;, err);<br>}<br><br>function IsPC() {<br>    var userAgentInfo = navigator.userAgent;<br>    var Agents = [&quot;Android&quot;, &quot;iPhone&quot;, &quot;SymbianOS&quot;, &quot;Windows Phone&quot;, &quot;iPod&quot;, &quot;iPad&quot;];<br>    var flag = true;<br>    for (var i = 0; i &lt; Agents.length; i++) {<br>        if (userAgentInfo.indexOf(Agents[i]) &gt; 0) {<br>            flag = false;<br>            break;<br>        }<br>    }<br>    return flag;<br>};<br>&#47;&#47; æŠ“å–æ¡Œé¢<br>function shareDesktop(){<br>    &#47;&#47; åªæœ‰åœ¨ PC ä¸‹æ‰èƒ½æŠ“å–æ¡Œé¢<br>    if(IsPC()){<br>            &#47;&#47; å¼€å§‹æ•è·æ¡Œé¢æ•°æ®<br>            navigator.mediaDevices.getDisplayMedia(constraints)<br>                    .then(getDeskStream)<br>                    .catch(handleError);<br>            return true;<br>    } <br>    return false;<br>}  <br><br>var buffer;<br>&#47;&#47; åˆ›å»ºå½•åˆ¶å¯¹è±¡<br>var mediaRecorder;<br><br>function handleDataAvailable(e){<br>        if(e &amp;&amp; e.data &amp;&amp; e.data.size &gt; 0){<br>                buffer.push(e.data);<br>        }<br>}<br><br>function startRecord(){<br>        &#47;&#47; å®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼Œç”¨äºç¼“å­˜æ¡Œé¢æ•°æ®ï¼Œæœ€ç»ˆå°†æ•°æ®å­˜å‚¨åˆ°æ–‡ä»¶ä¸­<br>        buffer = [];<br><br>        var options = {<br>                mimeType: &#39;video&#47;webm;codecs=vp8&#39;<br>        }<br><br>        if(!MediaRecorder.isTypeSupported(options.mimeType)){<br>                console.error(`${options.mimeType} is not supported!`);<br>                return;<br>        }<br><br>        try{<br>                &#47;&#47; åˆ›å»ºå½•åˆ¶å¯¹è±¡ï¼Œç”¨äºå°†æ¡Œé¢æ•°æ®å½•åˆ¶ä¸‹æ¥<br>                mediaRecorder = new MediaRecorder(deskVideo.srcObject, options);<br>        }catch(e){<br>                console.error(&#39;Failed to create MediaRecorder:&#39;, e);<br>                return;<br>        }<br>        &#47;&#47; å½“æ•è·åˆ°æ¡Œé¢æ•°æ®åï¼Œè¯¥äº‹ä»¶è§¦å‘<br>        mediaRecorder.ondataavailable = handleDataAvailable;<br>        mediaRecorder.start(10);<br>}<br>document.querySelector(&quot;button#record&quot;).onclick = function (){<br>    startRecord();<br>}<br><br>shareDesktop()","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459939,"discussion_content":"èµï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564062951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117338,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1564026026,"is_pvip":false,"replies":[{"id":"42984","content":"è¿™ä¸ªä¸»é¢˜ç»“æŸä¹‹åï¼Œä¼šæœ‰ä¸€ä¸ªå®Œæ•´çš„ demo","user_name":"ä½œè€…å›å¤","comment_id":117338,"uid":"1507837","ip_address":"","utype":1,"ctime":1564040907,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1564026026","product_id":100031801,"comment_content":"è€å¸ˆèƒ½å¦ç»™ä¸€ä¸ªèƒ½å¤Ÿå®Œæ•´è·‘èµ·æ¥çš„Demoã€‚","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459920,"discussion_content":"è¿™ä¸ªä¸»é¢˜ç»“æŸä¹‹åï¼Œä¼šæœ‰ä¸€ä¸ªå®Œæ•´çš„ demo","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564040907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117336,"user_name":"æµæµªå‰‘å®¢","can_delete":false,"product_type":"c1","uid":1201855,"ip_address":"","ucode":"0BDB4CA982446B","user_header":"https://static001.geekbang.org/account/avatar/00/12/56/bf/081631a8.jpg","comment_is_top":false,"comment_ctime":1564025313,"is_pvip":false,"replies":[{"id":"42985","content":"æ‰“å¡ï¼ æ‰“å¡ï¼","user_name":"ä½œè€…å›å¤","comment_id":117336,"uid":"1507837","ip_address":"","utype":1,"ctime":1564040945,"user_name_real":"garrylee"}],"discussion_count":1,"race_medal":0,"score":"1564025313","product_id":100031801,"comment_content":"çœ‹å®Œæ‰“å¡","like_count":0,"discussions":[{"author":{"id":1507837,"avatar":"https://static001.geekbang.org/account/avatar/00/17/01/fd/69869646.jpg","nickname":"éŸ³è§†é¢‘ä¸“å®¶-æè¶…","note":"","ucode":"5557943CF28441","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459918,"discussion_content":"æ‰“å¡ï¼ æ‰“å¡ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564040945,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":199546,"title":"08 | 测试数据：是不是可以把所有的参数都保存到Excel中？","content":"<p>你好，我是陈磊。</p><p>课程到现在，我们已经一起从接口测试思维的训练，走到了接口测试技术的训练，随着学习的不断深入，你应该也有了一个自己的测试框架，虽然这个框架可能还很简陋。但是任何事情不管多晚开始，都好于从未开始，因此学到现在，你已经迈出了接口测试以及其测试技术的第一步。</p><p>做任何事情，从零到一都需要莫大的勇气和坚定的决心，在这个过程中，你要将自己挪出舒适区，进入一个陌生的领域，这确实很难。但如果你和我一起走到了这一节课，那么我要恭喜你，你已经完成了接口测试从零到一的转变，后续从一到无穷大，你只需要随着时间去积累经验就可以了。</p><p>如果把接口测试比喻成要炒一盘菜的话，那么我在之前的全部课程中，重点都是在讲解如何完成接口测试，也就是教你如何炒菜。我也教过你如何解决接口测试的需求，为你提供了解决问题的能力和手段，这也就是在帮你建造一个设备齐全的厨房，帮你一起完成接口测试任务 。</p><p>有了精致的厨房后，我也告诉了你要怎么制作顶级的厨具，也就是接口测试的技术方法和实践方式。这些厨具既有锅碗瓢盆，也有刀勺铲叉，这里的锅碗瓢盆就是你的测试框架，刀勺铲叉就是你使用框架完成的测试脚本，这其中既包含了单接口的测试脚本，也包含了业务逻辑多接口测试脚本。</p><!-- [[[read_end]]] --><p>那么如果想炒菜你还需要准备什么呢？毫无疑问那就是菜，所谓“巧妇难为无米之炊”，即使你有高超的手艺，有世界顶级的厨具，但如果没有做菜的原材料，那也没办法把菜做出来，就算是世界顶级大厨，也无法完成这样的任务。</p><p>今天我就顺着这个思路，和你讲讲菜的准备，也就是接口测试的数据准备工作。</p><h2>测试数据的好处：打造自动化测试框架</h2><p>随着你不断封装自己的测试框架，你的框架就始终处于等米下锅这样一种的状态，而米就是测试数据。我在之前的课程中，都是将测试数据直接写在代码里，赋值给一个变量，然后通过接口测试逻辑来完成测试。</p><p>说到这，我还是把我们之前用过的”战场“这个系统拿出来，看一看它“选择武器”这个接口测试脚本（你可以回到<a href=\"https://time.geekbang.org/column/article/195483\">04</a>中查看），虽然你现在对怎么撰写、怎么封装类似的接口脚本都已经烂熟于心，但我们还是先看一下它的代码段：</p><pre><code># uri_login存储战场的选择武器\nuri_selectEq = '/selectEq'\n# 武器编号变量存储用户名参数\nequipmentid = '10003'\n# 拼凑body的参数\npayload = 'equipmentid=' + equipmentid\nresponse_selectEq = comm.post(uri_selectEq,params=payload)\nprint('Response内容：' + response_selectEq.text)\n</code></pre><p>这就是你通过自己的Common类改造后的测试框架，但是现在，它还不能是算是一个完美的框架，为什么呢？</p><p>这是因为，你现在的参数都是直接通过equipmentid变量赋值的，在做测试的时候，你还需要不断修改这个参数的赋值，才能完成接口的入参测试，这不是一种自动化的测试思路。</p><p>因此，你需要将数据封装，通过一种更好的方式，将数据存储到一种数据存储文件中，这样代码就可以自行查找对应的参数，然后调取测试框架执行测试流程，接着再通过自动比对返回预期，检验测试结果是否正确。</p><p>这样做有两个好处。</p><ol>\n<li>无人值守，节省时间和精力。我们将所有的参数都存储到外部存储文件中，测试框架就可以自行选择第一个参数进行测试，在完成第一个测试之后，它也就可以自行选择下一个参数，整个执行过程是不需要人参与的。否则的话，我们每复制一组参数，就要执行一次脚本，然后再人工替换一次参数，再执行一次脚本，这个过程耗时费力，而且又是一个纯人工控制的没什么技术含量的活动。</li>\n<li>自动检测返回值，提高测试效率。如果你用上面的代码段完成接口测试，就要每执行一次，人工去观察一次，看接口的返回是不是和预期一致，人工来做这些事情，不只非常耗费时间，效率也很低下。但是通过代码完成一些关键匹配却很容易，这可以大大提高测试效率，快速完成交付。</li>\n</ol><p>怎么样，看到这些好处，你是不是也想马上给你的框架加上数据处理的部分了呢？</p><h2>如何选取测试数据</h2><p>现在我们就马上开始动手，为你的框架加上参数类。</p><p>首先，你先要定义一种参数的存储格式。那么我想问你的是，要是让你选择把数据储存在一个文件中，你会选择什么格式的文件呢？</p><p>我相信你肯定和我的选择一样，用Excel。因为目前来看，Excel是在设计测试用例方面使用最多的一个工具，那么我们也就可以用Excel作为自己的参数存储文件。</p><p>但在动手之前，你也应该想到，你的参数文件类型不会是一成不变的Excel，未来你也有可能使用其他格式的参数文件，因此在一开始你还要考虑到参数类的扩展性，这样你就不用每多了一种参数文件存储格式，就写一个参数类，来完成参数的选取和调用了。</p><p>那么如何选取和调用参数呢？你可以看看我设计的参数类：</p><pre><code>import json\nimport xlrd\nclass Param(object):\n  def __init__(self,paramConf='{}'):\n    self.paramConf = json.loads(paramConf)\n  def paramRowsCount(self):\n    pass\n  def paramColsCount(self):\n    pass\n  def paramHeader(self):\n    pass\n  def paramAllline(self):\n    pass\n  def paramAlllineDict(self):\n    pass\n\n\nclass XLS(Param):\n  '''\n  xls基本格式(如果要把xls中存储的数字按照文本读出来的话,纯数字前要加上英文单引号:\n  \n  第一行是参数的注释,就是每一行参数是什么\n  \n  第二行是参数名,参数名和对应模块的po页面的变量名一致\n  \n  第3~N行是参数\n  \n  最后一列是预期默认头Exp\n  '''\n  def __init__(self, paramConf):\n    '''\n    :param paramConf: xls 文件位置(绝对路径)\n    '''\n    self.paramConf = paramConf\n    self.paramfile = self.paramConf['file']\n    self.data = xlrd.open_workbook(self.paramfile)\n    self.getParamSheet(self.paramConf['sheet'])\n  def getParamSheet(self,nsheets):\n    '''\n    设定参数所处的sheet\n    :param nsheets: 参数在第几个sheet中\n    :return:\n    '''\n    self.paramsheet = self.data.sheets()[nsheets]\n  def getOneline(self,nRow):\n    '''\n    返回一行数据\n    :param nRow: 行数\n    :return: 一行数据 []\n    '''\n    return self.paramsheet.row_values(nRow)\n  def getOneCol(self,nCol):\n    '''\n    返回一列\n    :param nCol: 列数\n    :return: 一列数据 []\n    '''\n    return self.paramsheet.col_values(nCol)\n  def paramRowsCount(self):\n    '''\n    获取参数文件行数\n    :return: 参数行数 int\n    '''\n    return self.paramsheet.nrows\n  def paramColsCount(self):\n    '''\n    获取参数文件列数(参数个数)\n    :return: 参数文件列数(参数个数) int\n    '''\n    return self.paramsheet.ncols\n  def paramHeader(self):\n    '''\n    获取参数名称\n    :return: 参数名称[]\n    '''\n    return self.getOneline(1)\n  def paramAlllineDict(self):\n    '''\n    获取全部参数\n    :return: {{}},其中dict的key值是header的值\n    '''\n    nCountRows = self.paramRowsCount()\n    nCountCols = self.paramColsCount()\n    ParamAllListDict = {}\n    iRowStep = 2\n    iColStep = 0\n    ParamHeader= self.paramHeader()\n    while iRowStep &lt; nCountRows:\n    ParamOneLinelist=self.getOneline(iRowStep)\n    ParamOnelineDict = {}\n    while iColStep&lt;nCountCols:\n    ParamOnelineDict[ParamHeader[iColStep]]=ParamOneLinelist[iColStep]\n    iColStep=iColStep+1\n    iColStep=0\n    ParamAllListDict[iRowStep-2]=ParamOnelineDict\n    iRowStep=iRowStep+1\n    return ParamAllListDict\n  def paramAllline(self):\n    '''\n    获取全部参数\n    :return: 全部参数[[]]\n    '''\n    nCountRows= self.paramRowsCount()\n    paramall = []\n    iRowStep =2\n    while iRowStep&lt;nCountRows:\n    paramall.append(self.getOneline(iRowStep))\n    iRowStep=iRowStep+1\n    return paramall\n  def __getParamCell(self,numberRow,numberCol):\n    return self.paramsheet.cell_value(numberRow,numberCol)\nclass ParamFactory(object):\n  def chooseParam(self,type,paramConf):\n    map_ = {\n    'xls': XLS(paramConf)\n    }\n    return map_[type\n</code></pre><p>上面这个代码看着很多，但你不需要完全看得懂，你只需要知道它解决问题的思路和方法就可以了，<strong>思路就是通过统一抽象，建立一个公共处理数据的方式。</strong>你可以设计和使用简单工厂类的设计模式，这样如果多一种参数存储类型，再添加一个对应的处理类就可以了，这很便于你做快速扩展，也可以一劳永逸地提供统一数据的处理模式。</p><p>如果你的技术栈和我不一样，那么你只需要搜索一下你自己技术栈所对应的简单工厂类设计模式，然后照猫画虎地把上面的逻辑实现一下就可以了。接下来，你就可以把这次测试的全部参数都存到Excel里面了，具体内容如下图所示：</p><p><img src=\"https://static001.geekbang.org/resource/image/93/5c/93da46d5d04c57a87f0cb6fe38583d5c.jpg?wh=1142*294\" alt=\"\"></p><p>通过上面的参数类你可以看出，在这个Excel文件中，第一行是给人读取的每一列参数的注释，而所有的Excel都是从第二行开始读取的，第二行是参数名和固定的表示预期结果的exp。现在，我们使用ParamFactory类，再配合上面的这个Excel，就可以完成”战场“系统“选择武器”接口的改造了，如下面这段代码所示：</p><pre><code>#引入Common、ParamFactory类\nfrom common import Common\nfrom param import ParamFactory\nimport os\n# uri_login存储战场的选择武器\nuri_selectEq = '/selectEq'\ncomm = Common('http://127.0.0.1:12356',api_type='http')\n# 武器编号变量存储武器编号，并且验证返回时是否有参数设计预期结果\n# 获取当前路径绝对值\ncurPath = os.path.abspath('.')\n# 定义存储参数的excel文件路径\nsearchparamfile = curPath+'/equipmentid_param.xls'\n# 调用参数类完成参数读取，返回是一个字典，包含全部的excel数据除去excel的第一行表头说明\nsearchparam_dict = ParamFactory().chooseParam('xls',{'file':searchparamfile,'sheet':0}).paramAlllineDict()\ni=0\nwhile i&lt;len(searchparam_dict):\n  # 读取通过参数类获取的第i行的参数\n  payload = 'equipmentid=' + searchparam_dict[i]['equipmentid']\n  # 读取通过参数类获取的第i行的预期\n  exp=searchparam_dict[i]['exp']\n  # 进行接口测试\n  response_selectEq = comm.post(uri_selectEq,params=payload)\n  # 打印返回结果\n  print('Response内容：' + response_selectEq.text)\n  # 读取下一行excel中的数据\n  i=i+1\n</code></pre><p>这样再执行你的测试脚本，你就可以看到数据文件中的三条数据，已经都会顺序的自动执行了。那么后续如果将它付诸于你自己的技术栈，以及自己的测试驱动框架比如Python的<a href=\"https://docs.python.org/zh-cn/3/library/unittest.html\">unittest</a>、Java的<a href=\"https://junit.org/junit5/\">Junit</a>等，你就可以通过断言完成预期结果的自动验证了。</p><h2>总结</h2><p>今天我们接口测试数据准备的内容就到这里了，在接口测试的工作中，作为“巧妇”的测试工程师，还是需要参数这个“米”来下锅的，虽然我们之前课程中的代码涉及到参数的处理，但是都很简单粗暴，一点也不适合自动化的处理方式，因此今天，我带你完成了参数类的封装。</p><p>有的时候，我们也把参数类叫做参数池，这也就是说参数是存放在一个池子中，那我们准备好的池子就是Excel。我相信未来你也会不断扩展自己参数池的种类，这有可能是由于测试接口的特殊需求，也有可能是由于团队技术栈的要求。因此，我们封装参数池是通过简单工厂设计模式来实现的，如果你的代码基础并不好，那么你可以不用搞清楚简单工厂设计模式是什么，只需要知道如何模拟上述代码，再进行扩展就可以了。</p><p>一个好用的测试框架既要有很好的可用性，也要有很好的扩展性设计，这样我们的私有接口测试武器仓库就会变成可以不断扩展的、保持统一使用方法的武器仓库，这样才能让你或者你的团队在面对各种各样的测试任务时，既可以快速适应不同接口测试的需求，又不需要增加学习的成本。</p><h2>思考题</h2><p>今天我们一起学习了参数类的设计，并且将它应用到”战场“系统的接口测试脚本中，后续我又告诉你为了能够完成代码的自动验证，你需要引入一些测试驱动框架，那么，你的技术栈是什么？你在你的框架中选取的测试驱动框架又是什么呢？你能将之前”战场“系统的全流程测试脚本通过参数类完成改造吗？我期待看到你的测试脚本。</p><p>我是陈磊，欢迎你在留言区留言分享你的观点，如果这篇文章让你有新的启发，也欢迎你把文章分享给你的朋友，我们一起沟通探讨。</p>","comments":[{"had_liked":false,"id":179583,"user_name":"孙瑜","can_delete":false,"product_type":"c1","uid":1808713,"ip_address":"","ucode":"D57C35FF311B8F","user_header":"https://static001.geekbang.org/account/avatar/00/1b/99/49/43bd37b4.jpg","comment_is_top":false,"comment_ctime":1582034597,"is_pvip":false,"replies":[{"id":"69740","content":"你的遇见了很多现实问题让我想起了我在经历京东那次技术转型。方法很多，第一，内部提升整体技术水平。第二，我看到您工时测试技术复杂度太高。确实需要降低一下，降低需要缩小你现在团队技术范围，selenium，po，api有点多。不要一起全推动；然后可以引入一下自动化写脚本的思考。这里面自动化写脚本的思路可以参考我之前再TICA⬆️的演讲内容，另一种提升内部技术水平，你可以看一下我们团队写的那本团队转型的书","user_name":"作者回复","user_name_real":"Criss@陈磊","uid":"1064280","ctime":1582040843,"ip_address":"","comment_id":179583,"utype":1}],"discussion_count":5,"race_medal":0,"score":"44531707557","product_id":100045801,"comment_content":"明天就按老师说的去实践下，过年宅家机缘开始学测试自动化，在现在公司刚一年目前测试大家都是辅以工具的纯手工测试，想提升一下团队测试效率和质量。调研后选了python进行学习，测试框架选了pytest，学了已有三周，目前根据公司业务已经把requests、selenium、ymal、db三方库做了封装组合，已开始实际进行api和web自动话测试。数据驱动目前只是用了一些pytest的参数化装饰器或者写sql去数据库随机抓一些id当参数，明天就去试试放在execl来驱动，这周在弄PO分层，本来看视频自学写的都挤一起，然后还有log输出 自动截图 邮件 allure报告等基础功能，还考虑后续把执行结果或其他一些信息持久化存到数据库，并集成到公司jenkins上，因为公司都是web项目appuim还没学，但有几个公众号的webview项目，还不知道怎么弄，先把主要几个系统自动化都覆盖，并把框架再多完善完善，后续还想学下Django把框架web化一些，让其他不懂擅长开发的同事们操作更方便，所以execl也是大家比较擅长使用的。目前其实还没想得明明白白的是，怎么能让不会开发的测试同事在不编写代码的前提下，也能按照自己的测试经验编写能被自动化框架执行的测试用例、测试数据和断言，提升整个团队的效率，还请老师给予指导（因为我目前设计 数据断言可以数据驱动&#47;自动，用例还是根据业务然后自己写py方法调用封装好的接口或者页面PO方法，不会写代码就用不起来，难道让他们写文字版，我来翻译成代码，感觉不灵活，参与感也不强）","like_count":10,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484317,"discussion_content":"你的遇见了很多现实问题让我想起了我在经历京东那次技术转型。方法很多，第一，内部提升整体技术水平。第二，我看到您工时测试技术复杂度太高。确实需要降低一下，降低需要缩小你现在团队技术范围，selenium，po，api有点多。不要一起全推动；然后可以引入一下自动化写脚本的思考。这里面自动化写脚本的思路可以参考我之前再TICA⬆️的演讲内容，另一种提升内部技术水平，你可以看一下我们团队写的那本团队转型的书","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582040843,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1349735,"avatar":"https://static001.geekbang.org/account/avatar/00/14/98/67/2310d258.jpg","nickname":"Mr.Rabbit","note":"","ucode":"78C39C9A9D032B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589856,"discussion_content":"这种需求，我理解是需要开发测试平台。测试人员在平台上维护用例和数据，其他事用程序自动化处理。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665366886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"上海"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1125662,"avatar":"https://static001.geekbang.org/account/avatar/00/11/2d/1e/4a93ebb5.jpg","nickname":"Aaron Liu","note":"","ucode":"DECCD16350C2A7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":280632,"discussion_content":"我们项目组也在开始Python+pytest实践，现阶段也是API+UI，yaml，DB也在里面，至于测试数据，不打算用Excel(尽管目前测试框架用的是soapui，payload都是用Excel的)，因为不好在git中diff，然后想法是框架跟test case隔开，框架层面的东西有专人负责，其他人只负责写case，调用公共方法。Django也考虑引入(可能后面一点)，这样一个可视化的web可以帮助管理，然后项目内部有一个web管理case和results，所以allure是可选的，希望交流一下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591580826,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1116317,"avatar":"https://static001.geekbang.org/account/avatar/00/11/08/9d/9dd3257c.jpg","nickname":"大脸猫","note":"","ucode":"B63DA3852CF9EB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":268404,"discussion_content":"技术团队写的书名叫啥？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589770437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1311452,"avatar":"https://static001.geekbang.org/account/avatar/00/14/02/dc/af8cea76.jpg","nickname":"小菠萝","note":"","ucode":"FD45ECFE573925","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":196323,"discussion_content":"可以加个微信做交流吗.目前我也是自己在做接口自动化","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583335017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179314,"user_name":"nothingc_lj","can_delete":false,"product_type":"c1","uid":1168433,"ip_address":"","ucode":"78E23CAF3F1169","user_header":"https://static001.geekbang.org/account/avatar/00/11/d4/31/adef9d3b.jpg","comment_is_top":false,"comment_ctime":1581960123,"is_pvip":false,"replies":[{"id":"69629","content":"HttpRunner manager 和HttpRunner我曾经也学习过对应的代码，没有选择的原因其实我还是喜欢将框架的主动权掌握在自己手里面，不太喜欢follow定制化或者封装太强的平台。","user_name":"作者回复","user_name_real":"Criss@陈磊","uid":"1064280","ctime":1581988728,"ip_address":"","comment_id":179314,"utype":1}],"discussion_count":1,"race_medal":0,"score":"35941698491","product_id":100045801,"comment_content":"接触了httprunner manager这个接口自动化框架平台感觉不错，是通过数据库来存储测试用例数据","like_count":8,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484198,"discussion_content":"HttpRunner manager 和HttpRunner我曾经也学习过对应的代码，没有选择的原因其实我还是喜欢将框架的主动权掌握在自己手里面，不太喜欢follow定制化或者封装太强的平台。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581988728,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179871,"user_name":"hello zero","can_delete":false,"product_type":"c1","uid":1028052,"ip_address":"","ucode":"D1F4B2A7D4635B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/af/d4/59e2bfd4.jpg","comment_is_top":false,"comment_ctime":1582114768,"is_pvip":true,"replies":[{"id":"69853","content":"今后这种很靠后的数据，还是希望可以用其他接口测试脚本搞定。<br>","user_name":"作者回复","user_name_real":"Criss@陈磊","uid":"1064280","ctime":1582122327,"ip_address":"","comment_id":179871,"utype":1}],"discussion_count":3,"race_medal":0,"score":"27351918544","product_id":100045801,"comment_content":" 老师，请教个数据准备的问题，如果需要测试的是支付，那么是不是需要提前准备好订单数据，那订单数据本身可能又需要用户和商品数据，用户数据可能又需要地址数据，商品有可能需要品类和规格数据等等。这种情况下，是先构建最基础的数据比如地址数据并同时进行测试但是不删除数据一直留给支付测试使用，等支付使用完后再进行删除；还是每次测试支付的时候都使用一组选好的一直留在那里的数据进行测试呢。也就是如何构建闭环的长流程的可以重复执行的测试数据呢？","like_count":6,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484434,"discussion_content":"今后这种很靠后的数据，还是希望可以用其他接口测试脚本搞定。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582122327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1474130,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7e/52/e444696a.jpg","nickname":"小闪电","note":"","ucode":"60A0DF6674ADCC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":180546,"discussion_content":"老师能否详细讲解下，怎么用其它接口测试脚本搞定？ 不太理解呃","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1582296645,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2005391,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/99/8f/ad6b52ef.jpg","nickname":"子默ら","note":"","ucode":"9620F7F861994A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585759,"discussion_content":"老哥跟我一样的疑问，工作就这种情况","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661791841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":180926,"user_name":"彦鋆","can_delete":false,"product_type":"c1","uid":1819500,"ip_address":"","ucode":"400A12A6ADD7C3","user_header":"https://static001.geekbang.org/account/avatar/00/1b/c3/6c/d24a23a7.jpg","comment_is_top":false,"comment_ctime":1582444871,"is_pvip":false,"replies":[{"id":"70210","content":"看了你详细的描述，已经很好了，可以将我运用的你的工作中了。架构设计上很好，继续努力，在工作中在逐渐的丰满框架的测试能力。","user_name":"作者回复","user_name_real":"接口测试专栏作者陈磊","uid":"1064280","ctime":1582450708,"ip_address":"","comment_id":180926,"utype":1}],"discussion_count":3,"race_medal":0,"score":"23057281351","product_id":100045801,"comment_content":"老师，您好，看了您的文章，感觉茅塞顿开。我之前自己有写过前端的测试框架，利用po模式+selenium+unittest完成的；看了您的前几章，<br>我也初步写了自己的第一个接口自动化测试框架。利用自己的技术栈用分层处理的方式（有点借鉴PO模式）+unittest+excel存储数据实现了自己的接口自动化。<br>我的excel设计是这样的，每个sheet页的名称是接口的名称(比如battle中的index、login)，sheet页中的数据就是当前接口的所有测试用例，第一行是参数说明，<br>主要设计有用例名称、方法、url、参数、预期结果；util层封装了操作excel的一些方法；handle层封装一条用例需要的参数；business层对handle层获取的参数作一些处理；<br>common层就是对get&#47;post&#47;put方法的封装，case层主要所有的用例（test_接口名称.py），每个用例py文件实现每个sheet页中的所有用例；<br>report层存放利用HTMLTestRunner生成的报告；最后利用jenkins完成自动化构建并发送邮件通知。 请老师指点一下我这个简单框架，目前还没有运用到工作中，谢谢。","like_count":5,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484848,"discussion_content":"看了你详细的描述，已经很好了，可以将我运用的你的工作中了。架构设计上很好，继续努力，在工作中在逐渐的丰满框架的测试能力。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582450708,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1692907,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d4/eb/46319136.jpg","nickname":"。。。","note":"","ucode":"3EF9692AAF8C12","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":199991,"discussion_content":"你好   对你这个框架很感兴趣   我目前在Jenkins集成这遇到点问题  可以跟你请教下吗   方便的话加下您微信    我发现极客时间不能私聊发消息","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583642404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1819500,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/c3/6c/d24a23a7.jpg","nickname":"彦鋆","note":"","ucode":"400A12A6ADD7C3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":185483,"discussion_content":"谢谢老师！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582630891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247585,"user_name":"梅子","can_delete":false,"product_type":"c1","uid":1586411,"ip_address":"","ucode":"63E852CCD55868","user_header":"https://static001.geekbang.org/account/avatar/00/18/34/eb/137aba7e.jpg","comment_is_top":false,"comment_ctime":1599748487,"is_pvip":false,"replies":[{"id":"94235","content":"单接口最好都要测试，入参可以通过json方式封装一下，方法可以看看是否可以引入正交试验的设计方法来满足更大的覆盖度，返回值的校验要看具体业务要求了","user_name":"作者回复","user_name_real":"陈磊@Criss","uid":"1064280","ctime":1604627480,"ip_address":"","comment_id":247585,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10189683079","product_id":100045801,"comment_content":"请问老师一个接口测试设计的问题，如果一个接口入参和出参数据值都比较多，入参的话需要每个参数都按照范围类型等进行测试吗？出参的话每个参数值都要进行校验吗？","like_count":2,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505443,"discussion_content":"单接口最好都要测试，入参可以通过json方式封装一下，方法可以看看是否可以引入正交试验的设计方法来满足更大的覆盖度，返回值的校验要看具体业务要求了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604627480,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":180180,"user_name":"null","can_delete":false,"product_type":"c1","uid":1210390,"ip_address":"","ucode":"EF60C223A54E49","user_header":"https://static001.geekbang.org/account/avatar/00/12/78/16/a26eb64b.jpg","comment_is_top":false,"comment_ctime":1582206136,"is_pvip":false,"replies":[{"id":"69980","content":"谢谢您的建议我这几天一起处理一下","user_name":"作者回复","user_name_real":"Criss Chan","uid":"1064280","ctime":1582213475,"ip_address":"","comment_id":180180,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10172140728","product_id":100045801,"comment_content":"陈老师，建议例子打包一个项目，读者debug阅读代码比较深刻。从页面复制代码到本地运行，格式错了运行不起来。<br>","like_count":2,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484555,"discussion_content":"谢谢您的建议我这几天一起处理一下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582213475,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":181970,"user_name":"钱","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1582685689,"is_pvip":false,"replies":[{"id":"70464","content":"tds也就是测试数据服务中心是未来发展出来的，是数据的最终解决办法了。","user_name":"作者回复","user_name_real":"CrissChan","uid":"1064280","ctime":1582692420,"ip_address":"","comment_id":181970,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5877652985","product_id":100045801,"comment_content":"哈哈，为什么不把数据存储数据库中？然后搞个测试数据管理系统，增删改查导入导出可视化分析不好玩嘛？<br>看完总结就是，为了加快速度，一定要善用工具，没有工具就自己造工具，怎么造就需要学习一下编程技术啦！这是耗时耗力，但收益最大的一部分。","like_count":1,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485183,"discussion_content":"tds也就是测试数据服务中心是未来发展出来的，是数据的最终解决办法了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582692420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1116317,"avatar":"https://static001.geekbang.org/account/avatar/00/11/08/9d/9dd3257c.jpg","nickname":"大脸猫","note":"","ucode":"B63DA3852CF9EB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":268406,"discussion_content":"TDS是啥？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589770797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1163974,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c2/c6/88d0c7b2.jpg","nickname":"一默","note":"","ucode":"F23A6E42DFD0C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":200618,"discussion_content":"哥们，你超前了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583690692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":181238,"user_name":"罗春南_Nancy","can_delete":false,"product_type":"c1","uid":1787562,"ip_address":"","ucode":"271E958AC9F0C2","user_header":"https://static001.geekbang.org/account/avatar/00/1b/46/aa/5e1b5a8a.jpg","comment_is_top":false,"comment_ctime":1582523913,"is_pvip":false,"replies":[{"id":"70290","content":"您方便看的battle系统有日志输出的控制台吗？","user_name":"作者回复","user_name_real":"CrissChan","uid":"1064280","ctime":1582530754,"ip_address":"","comment_id":181238,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5877491209","product_id":100045801,"comment_content":"执行获取参数并访问选择装备的接口时，脚本是一直在执行状态的，但是没有返回任何结果","like_count":1,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484971,"discussion_content":"您方便看的battle系统有日志输出的控制台吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582530754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179978,"user_name":"派森","can_delete":false,"product_type":"c1","uid":1169937,"ip_address":"","ucode":"063AC75FA77EFB","user_header":"https://static001.geekbang.org/account/avatar/00/11/da/11/bdffffa6.jpg","comment_is_top":false,"comment_ctime":1582134521,"is_pvip":true,"replies":[{"id":"69911","content":"yaml，json，xml也是各有所长。但是选择合适自己的就好了。加油","user_name":"作者回复","user_name_real":"Criss Chan","uid":"1064280","ctime":1582178303,"ip_address":"","comment_id":179978,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5877101817","product_id":100045801,"comment_content":"还是感觉yaml更加清晰，编写过程中格式问题也比较少","like_count":1,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484474,"discussion_content":"yaml，json，xml也是各有所长。但是选择合适自己的就好了。加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582178303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1436601,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erHVQYic6jiaiaqXzrkjYiclibhf315CNshiaECer8ib4B1ot1HMGEDlgqm49gfsicQibrowDdfibLhH5ecGjvg/132","nickname":"橘子🍊","note":"","ucode":"0CFA16F5BBBB8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":209499,"discussion_content":"同感","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584632891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179320,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1581961743,"is_pvip":false,"replies":[{"id":"69616","content":"谢谢您，您的想法也给我了不同的思路。","user_name":"作者回复","user_name_real":"Criss@陈磊","uid":"1064280","ctime":1581982772,"ip_address":"","comment_id":179320,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5876929039","product_id":100045801,"comment_content":"作为一个Java程序员，我希望自己的测试框架可以实现以下功能：<br>1. 发现Bug后立即报错，终止后续测试：快速失败机制，节省后续测试时间，可以立即进去修改阶段；<br>2. 跑完全部测试用例，统计出所有Bug：适合多少提交后、自身粗心大意的程序员，及时知道增加的工作量，合理分配时间","like_count":1,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484202,"discussion_content":"谢谢您，您的想法也给我了不同的思路。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581982772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179140,"user_name":"、Attention","can_delete":false,"product_type":"c1","uid":1856449,"ip_address":"","ucode":"F421C723ABD055","user_header":"https://static001.geekbang.org/account/avatar/00/1c/53/c1/a230ecd3.jpg","comment_is_top":false,"comment_ctime":1581926107,"is_pvip":false,"replies":[{"id":"69561","content":"您好我这边使用没遇见问题，您方便描述的具体一点吗。","user_name":"作者回复","user_name_real":"Criss@陈磊","uid":"1064280","ctime":1581946909,"ip_address":"","comment_id":179140,"utype":1}],"discussion_count":7,"race_medal":0,"score":"5876893403","product_id":100045801,"comment_content":"老师你好，获取全部参数的方法是不是有点问题？？ 我一直执行不出来 。","like_count":1,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484108,"discussion_content":"您好我这边使用没遇见问题，您方便描述的具体一点吗。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581946909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1177359,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f7/0f/f605dd15.jpg","nickname":"大仙","note":"","ucode":"AEA3B8DE505F22","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":176205,"discussion_content":"老师 好 ，我的也是一直在执行，我断点看是在 paramAlllineDict这个方法下面两行进入了死循环while iRowStep < nCountRows:\n            ParamOneLinelist = self.getOneline(iRowStep)，不懂为啥死循环没出来，老师能帮忙看下吗？谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582029150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1210390,"avatar":"https://static001.geekbang.org/account/avatar/00/12/78/16/a26eb64b.jpg","nickname":"null","note":"","ucode":"EF60C223A54E49","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1177359,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f7/0f/f605dd15.jpg","nickname":"大仙","note":"","ucode":"AEA3B8DE505F22","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":179042,"discussion_content":"从网页复制代码，格式错误，运行不起来。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582206706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":176205,"ip_address":""},"score":179042,"extra":""},{"author":{"id":1177359,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f7/0f/f605dd15.jpg","nickname":"大仙","note":"","ucode":"AEA3B8DE505F22","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1210390,"avatar":"https://static001.geekbang.org/account/avatar/00/12/78/16/a26eb64b.jpg","nickname":"null","note":"","ucode":"EF60C223A54E49","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":182669,"discussion_content":"是的哈，今天再仔细看了下代码，确实是那块复制出来的代码格式有问题，谢谢啦，已经也可以跑通了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582446788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":179042,"ip_address":""},"score":182669,"extra":""},{"author":{"id":1931622,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJmq0gqugicMWnSAboS3lWXsnzeMGy405ibXkwG2rO3Mmxic4Q0RHibLhibxD6Ndr9ib2LswcYqOyomIHibA/132","nickname":"周建卫","note":"","ucode":"B521F4B94B221D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1177359,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f7/0f/f605dd15.jpg","nickname":"大仙","note":"","ucode":"AEA3B8DE505F22","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":240506,"discussion_content":"能说下是哪里的问题不？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587369844,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":182669,"ip_address":""},"score":240506,"extra":""}]},{"author":{"id":1856449,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/53/c1/a230ecd3.jpg","nickname":"、Attention","note":"","ucode":"F421C723ABD055","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":175921,"discussion_content":"执行获取参数并访问选择装备的接口时，脚本是一直在执行状态的，但是没有返回任何结果","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582004621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1787562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/46/aa/5e1b5a8a.jpg","nickname":"罗春南_Nancy","note":"","ucode":"271E958AC9F0C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1856449,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/53/c1/a230ecd3.jpg","nickname":"、Attention","note":"","ucode":"F421C723ABD055","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":183875,"discussion_content":"我知道怎么回事了。用例、期望这几个中文字才是xls的第一行，不然会死循环。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582528056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":175921,"ip_address":""},"score":183875,"extra":""}]}]},{"had_liked":false,"id":179018,"user_name":"ZeroIce","can_delete":false,"product_type":"c1","uid":1305369,"ip_address":"","ucode":"30133BA83CE349","user_header":"https://static001.geekbang.org/account/avatar/00/13/eb/19/0d990b03.jpg","comment_is_top":false,"comment_ctime":1581874473,"is_pvip":false,"replies":[{"id":"69475","content":"不错不错，谢谢，是一个很好的组合。就是postman的脚步后期维护稍微有点吃力，不过也并不是说不可取。","user_name":"作者回复","user_name_real":"Criss@陈磊","uid":"1064280","ctime":1581896914,"ip_address":"","comment_id":179018,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5876841769","product_id":100045801,"comment_content":"个人觉得：Jenkins + postman不错","like_count":1,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484065,"discussion_content":"不错不错，谢谢，是一个很好的组合。就是postman的脚步后期维护稍微有点吃力，不过也并不是说不可取。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581896914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357819,"user_name":"loomz","can_delete":false,"product_type":"c1","uid":1066146,"ip_address":"广东","ucode":"32F35D3432ED5D","user_header":"https://static001.geekbang.org/account/avatar/00/10/44/a2/8000e268.jpg","comment_is_top":false,"comment_ctime":1663665198,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663665198","product_id":100045801,"comment_content":"运行上面代码提示：<br>Traceback (most recent call last):<br>  File &quot;D:&#47;Pychram_Wordspace&#47;Battle_test&#47;equipmentid_param_excel.py&quot;, line 8, in &lt;module&gt;<br>    comm = Common(&#39;http:&#47;&#47;127.0.0.1:8088&#39;,api_type=&#39;http&#39;)<br>TypeError: __init__() got an unexpected keyword argument &#39;api_type&#39;<br>麻烦帮忙看一下","like_count":0},{"had_liked":false,"id":285743,"user_name":"Geek_219b52","can_delete":false,"product_type":"c1","uid":1524531,"ip_address":"","ucode":"955D79DEFD2DF4","user_header":"https://static001.geekbang.org/account/avatar/00/17/43/33/b9127867.jpg","comment_is_top":false,"comment_ctime":1616999045,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616999045","product_id":100045801,"comment_content":"之前都是用jmeter+ant+jenkins来跑接口测试的，看了老师的课程，觉得用代码实现也很有意思，目前是在学习python阶段<br>","like_count":0},{"had_liked":false,"id":264616,"user_name":"捷后愚生","can_delete":false,"product_type":"c1","uid":1170483,"ip_address":"","ucode":"A1F935D39C8488","user_header":"https://static001.geekbang.org/account/avatar/00/11/dc/33/a68c6b26.jpg","comment_is_top":false,"comment_ctime":1606547635,"is_pvip":false,"replies":[{"id":"97232","content":"厉害 ","user_name":"作者回复","user_name_real":"陈磊@Criss","uid":"1064280","ctime":1607906703,"ip_address":"","comment_id":264616,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1606547635","product_id":100045801,"comment_content":"本文总结<br><br>参数化的好处：<br>利用无人值守时间，节省时间和精力<br>自动校验返回值，提高效率<br><br>解决问题的思路和方法很重要，知识分为四种：你知道你知道、你知道你不知道、你不知道自己不知道、你不知道自己知道，当你意识到要做excel文件参数化时，但是不知道具体代码怎么实现，我想直接在百度搜索“python excel文件参数化”，可以找到很多答案，最怕是你没有这个思路。","like_count":0,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510624,"discussion_content":"厉害 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607906703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":225687,"user_name":"Edward","can_delete":false,"product_type":"c1","uid":1166503,"ip_address":"","ucode":"456588B100E95B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/LpOCzwApjeD0b88GEHaEupBbOCMPibiaU9KZuUDBXybiaTgVgFo2Iq7zeD8Qd1Lp6Kz6A0V8ocnVYviau60auZibPFA/132","comment_is_top":false,"comment_ctime":1591834618,"is_pvip":false,"replies":[{"id":"83209","content":"入参没这太好办法，出参可以用一下模糊类的方式","user_name":"作者回复","user_name_real":"CrissChan","uid":"1064280","ctime":1591884088,"ip_address":"","comment_id":225687,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1591834618","product_id":100045801,"comment_content":"每个参数的类型比较难处理","like_count":0,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497946,"discussion_content":"入参没这太好办法，出参可以用一下模糊类的方式","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591884088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":216907,"user_name":"liya","can_delete":false,"product_type":"c1","uid":1748691,"ip_address":"","ucode":"74AB28C1761EEF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/icz3onG9IHvBjWN9rzxqEicOwpY83VdqFF5LZKkg16E8Ve7u8LBV8sCZUIKKb6cL19to6bRd99UZicABIhf0sTTCw/132","comment_is_top":false,"comment_ctime":1589366178,"is_pvip":false,"replies":[{"id":"81836","content":"您好，我们就您举例子来说，我们会直接查询数库检测数据已经写入数据库来判断正确与否","user_name":"作者回复","user_name_real":"CrissChan","uid":"1064280","ctime":1590659399,"ip_address":"","comment_id":216907,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1589366178","product_id":100045801,"comment_content":"现在我们的自动化项目遇到一个尴尬问题，因为有些接口验证服务 比较复杂， 接口返回太简单， 所以 需要用另外一个接口来辅助校验， 比如 注册接口 注册一个用户成功后， 会用登录接口来辅助校验，大部分的接口都会有 其它接口来辅助验证， 这样项目做大后，  很不好维护， 老师有没有什么建议？或者你们平时都是怎么验证接口逻辑正常的？","like_count":0,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494984,"discussion_content":"您好，我们就您举例子来说，我们会直接查询数库检测数据已经写入数据库来判断正确与否","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590659399,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1153185,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLDeGrMY3icloJ5hKK49NaHfZTeEJJicBh5GNEibRjw2PsYpvUylEmxxXh475ANZicwDtBvRXl3yv1Z9Og/132","nickname":"小小光芒","note":"","ucode":"6C5499046BD29D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":268490,"discussion_content":"将每个测试用例的目的，扩展为端到端的场景测试。测试用例本身要负责环境的准备，彼此相互独立。用例过程中先调用注册接口，再用登录接口验证。注册接口返回成功，并且登录接口也成功，才能认为测试用例通过","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589789574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210410,"user_name":"夜歌","can_delete":false,"product_type":"c1","uid":1562121,"ip_address":"","ucode":"724CF22FC99AA7","user_header":"https://static001.geekbang.org/account/avatar/00/17/d6/09/e9bfe86f.jpg","comment_is_top":false,"comment_ctime":1587740416,"is_pvip":false,"replies":[{"id":"78588","content":"多接口呢测试数据excel也是可以的，你也可以使用数据库，最后可以打造自己的测试数据服务。不过最开始我建议您找一个最简单的方式先开始。","user_name":"作者回复","user_name_real":"CrissChan","uid":"1064280","ctime":1587963611,"ip_address":"","comment_id":210410,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1587740416","product_id":100045801,"comment_content":"您好，请问对于一个业务逻辑的多个接口（如先登录获取token再编辑用户信息）如何用excel管理数据进行接口测试呢？看代码示例，觉得excel只适合单接口的数据测试，那多接口时，excel管理数据适用吗？怎么写合适？求教","like_count":0,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493016,"discussion_content":"多接口呢测试数据excel也是可以的，你也可以使用数据库，最后可以打造自己的测试数据服务。不过最开始我建议您找一个最简单的方式先开始。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587963611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1850263,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/7Wy6icweIwxhBXan84w7b1pB1GDd6aKxVgSPKLwBLSZNa0ReMibkRfB68ZUG3jLEKMiafFib7Ug3UFDLgznaaDPZZQ/132","nickname":"Geek_f6adf7","note":"","ucode":"50E4A07A35D5AB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350964,"discussion_content":"一个测试用例中多个步骤间的数据传递。前一个步骤执行完之后，使用Jsonpath等取到要传递的数据，后一个步骤中使用变量名占位符声明依赖的数据应该怎么使用，在实际执行后一个步骤的接口调用前完成占位符的替换。步骤之间用变量名占位符声明对应关系","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614083802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1562121,"avatar":"https://static001.geekbang.org/account/avatar/00/17/d6/09/e9bfe86f.jpg","nickname":"夜歌","note":"","ucode":"724CF22FC99AA7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":249821,"discussion_content":"有点所答非所问，不是说想越级挑战，单接口的我做过了，但尝试多接口的总设计的有问题，感觉不够通用，不利于维护，所以才想问问思路的……","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587965325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208986,"user_name":"小老鼠","can_delete":false,"product_type":"c1","uid":1257460,"ip_address":"","ucode":"C663A0C863A515","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/f4/2dede51a.jpg","comment_is_top":false,"comment_ctime":1587478039,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1587478039","product_id":100045801,"comment_content":"1，测试参数用文件(比如：excel)与用DB(比如mysql)，测试速度DB会不会比文件慢？<br>2，如何考虑垃圾数据？<br>3，如果在测试过程中发生异常，测试程序中途中断，没有执行teardown函数，从而影响下一个测试用例执行，如何应付这类问题？","like_count":0,"discussions":[{"author":{"id":2100983,"avatar":"","nickname":"琴素","note":"","ucode":"B634D2AE4D3BF0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549137,"discussion_content":"\n第3点，一开始设计测试用例的时候，就要考虑测试用例逻辑之间是要相互独立的，不能有关联","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643616102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207185,"user_name":"sunflower","can_delete":false,"product_type":"c1","uid":1417243,"ip_address":"","ucode":"8654F4CCDEAE75","user_header":"https://static001.geekbang.org/account/avatar/00/15/a0/1b/9a05e821.jpg","comment_is_top":false,"comment_ctime":1587021503,"is_pvip":false,"replies":[{"id":"77452","content":"我理解你的被测系统都分析计算类，你不知道这些数据分析后德结果是什么，我之前做过基于大数据领域的应用测试，也是这样的，原始分析数据也是假的，是最好的是在已知结果的数据上做的测试。有其他问题也可以加我微信crissch","user_name":"作者回复","user_name_real":"CrissChan","uid":"1064280","ctime":1587082721,"ip_address":"","comment_id":207185,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587021503","product_id":100045801,"comment_content":"老师您好，已经用您讲的方法进行了参数化的实践，但是目前我测试的接口是偏预测类的，期望值都是不固定的，类似这样的接口，我可能只能去断言有没有返回结果，感觉测了也没有意义，类似这样的接口，我应该怎么测呢，老师有什么建议吗？","like_count":0,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492034,"discussion_content":"我理解你的被测系统都分析计算类，你不知道这些数据分析后德结果是什么，我之前做过基于大数据领域的应用测试，也是这样的，原始分析数据也是假的，是最好的是在已知结果的数据上做的测试。有其他问题也可以加我微信crissch","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587082721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203628,"user_name":"sunflower","can_delete":false,"product_type":"c1","uid":1417243,"ip_address":"","ucode":"8654F4CCDEAE75","user_header":"https://static001.geekbang.org/account/avatar/00/15/a0/1b/9a05e821.jpg","comment_is_top":false,"comment_ctime":1586243720,"is_pvip":false,"replies":[{"id":"76119","content":"是的，断言也最好放的参数存储介质中方便修改和设计数据","user_name":"作者回复","user_name_real":"CrissChan","uid":"1064280","ctime":1586259777,"ip_address":"","comment_id":203628,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586243720","product_id":100045801,"comment_content":"老师，我现在的做法是每个测试数据写一个用例，用例里面包含传参、请求、断言，断言基本都不是通用的，如果用参数化的方法，断言部分是不是也需要提取一个公共的方法呢？","like_count":0,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490914,"discussion_content":"是的，断言也最好放的参数存储介质中方便修改和设计数据","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586259777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202151,"user_name":"lynnking","can_delete":false,"product_type":"c1","uid":1819451,"ip_address":"","ucode":"F5E0467109F0F7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/86oSia4b8CE4FuJ0cYrK0icR6VQibavnfnXN2qgTlyreDJGknSooKQYDqzbt94Nve0Ue0rc7UWvib0fjDj5viaEDUpQ/132","comment_is_top":false,"comment_ctime":1585911078,"is_pvip":false,"replies":[{"id":"75655","content":"目前有几种你说的这类问题的解决办法，第一类是自己创建参数，第二类是从前序接口中拿到参数。这种方法对其他api依赖太强。第三类，线上截获一些数据做好线下测试数据清洗；最后一种就是建立自己的数据服务","user_name":"作者回复","user_name_real":"CrissChan","uid":"1064280","ctime":1586003115,"ip_address":"","comment_id":202151,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585911078","product_id":100045801,"comment_content":"陈老师你好，请问对于上层接口的多个参数依赖，有什么好的解决方案吗？","like_count":0,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490519,"discussion_content":"目前有几种你说的这类问题的解决办法，第一类是自己创建参数，第二类是从前序接口中拿到参数。这种方法对其他api依赖太强。第三类，线上截获一些数据做好线下测试数据清洗；最后一种就是建立自己的数据服务","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586003115,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":189220,"user_name":"不将就","can_delete":false,"product_type":"c1","uid":1168579,"ip_address":"","ucode":"9BEC01AEE1D885","user_header":"https://static001.geekbang.org/account/avatar/00/11/d4/c3/d41e8c79.jpg","comment_is_top":false,"comment_ctime":1584490082,"is_pvip":false,"replies":[{"id":"73131","content":"有些是需要的，例如写数据、修改数据、删除数据。有些可以不用例如查询等，但是具体还是要看被测接口的功能来确定。","user_name":"作者回复","user_name_real":"CrissChan","uid":"1064280","ctime":1584598160,"ip_address":"","comment_id":189220,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584490082","product_id":100045801,"comment_content":"陈老师，跟您请教个问题，接口测试脚本需要做调用接口后的数据库校验吗？","like_count":0,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487635,"discussion_content":"有些是需要的，例如写数据、修改数据、删除数据。有些可以不用例如查询等，但是具体还是要看被测接口的功能来确定。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584598160,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":182198,"user_name":"技术修行者","can_delete":false,"product_type":"c1","uid":1013147,"ip_address":"","ucode":"28CA41A1214D6B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/9b/611e74ab.jpg","comment_is_top":false,"comment_ctime":1582727771,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1582727771","product_id":100045801,"comment_content":"这样做下来，感觉更像是针对API接口的单元测试，不过这种测试是黑盒测试，传统的单元测试是白盒测试。","like_count":0},{"had_liked":false,"id":180440,"user_name":"hancel","can_delete":false,"product_type":"c1","uid":1637755,"ip_address":"","ucode":"AED6B6336410AD","user_header":"https://static001.geekbang.org/account/avatar/00/18/fd/7b/9b64e1ed.jpg","comment_is_top":false,"comment_ctime":1582281491,"is_pvip":false,"replies":[{"id":"70044","content":"谢谢，这个代码是我引用错了，应该是paramRowsCount()","user_name":"作者回复","user_name_real":"Criss Chan","uid":"1064280","ctime":1582285392,"ip_address":"","comment_id":180440,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1582281491","product_id":100045801,"comment_content":"def paramAllline(self):    <br> nCountRows= self.getCountRows()  # 上面没有getCountRows()这个方法，看代码意思应该是paramRowsCount()","like_count":0,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484666,"discussion_content":"谢谢，这个代码是我引用错了，应该是paramRowsCount()","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582285392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1637755,"avatar":"https://static001.geekbang.org/account/avatar/00/18/fd/7b/9b64e1ed.jpg","nickname":"hancel","note":"","ucode":"AED6B6336410AD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":180253,"discussion_content":"还有一处代码错误payload = &#39;equipmentid=&#39; + searchparam_dict[i][&#39;equipmentid&#39;]，参数在进行拼接时，会提示类型错误，而且使用xlrd读取数据时整数会自动变成浮点数，这点也需要做类型判断，或者有一个比较简单的解决办法就是在数字单元格内容前加上一个英文的引号即可","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582288048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179905,"user_name":"ZYG","can_delete":false,"product_type":"c1","uid":1436223,"ip_address":"","ucode":"B37D3CB531D560","user_header":"https://static001.geekbang.org/account/avatar/00/15/ea/3f/ace4bd91.jpg","comment_is_top":false,"comment_ctime":1582120262,"is_pvip":false,"replies":[{"id":"69855","content":"建议一个api一个excel","user_name":"作者回复","user_name_real":"Criss Chan","uid":"1064280","ctime":1582123475,"ip_address":"","comment_id":179905,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1582120262","product_id":100045801,"comment_content":"老师，请问把测试数放在excel，是一个接口一个excel，还是放在同一个excel?","like_count":0,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484444,"discussion_content":"建议一个api一个excel","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582123475,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1941937,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/a1/b1/75faceea.jpg","nickname":"E.in","note":"","ucode":"BC5D19121A2FE7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":245498,"discussion_content":"一个接口一个excel。。那一个系统不得有几百个Excel？不是很懂诶。这么多excel按什么顺序执行呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587680029,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179579,"user_name":"宁江孤影","can_delete":false,"product_type":"c1","uid":1309850,"ip_address":"","ucode":"70C34A0F56336B","user_header":"https://static001.geekbang.org/account/avatar/00/13/fc/9a/124b986d.jpg","comment_is_top":false,"comment_ctime":1582034144,"is_pvip":false,"replies":[{"id":"69739","content":"测试报告部分大概我们都不会自己写了，java会有maven的plugin完成，python也有很多，最简单的htmltestrumner，其实在测试过程中你会更加关注失败的case，因此是不是按照顺序执行我倒是觉得不是十几重要。如果你有这个需求可以尝试修改一下report部分代码。","user_name":"作者回复","user_name_real":"Criss@陈磊","uid":"1064280","ctime":1582040481,"ip_address":"","comment_id":179579,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1582034144","product_id":100045801,"comment_content":"老师，在执行读取Excel测试用例的时候用的是循环调用一个方法去实现，在生成的测试报告中确并不是按用例去呈现测试结果，是需要对测试报告的封装代码做改动处理吗？能说说具体的实现思路吗？谢谢！","like_count":0,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484315,"discussion_content":"测试报告部分大概我们都不会自己写了，java会有maven的plugin完成，python也有很多，最简单的htmltestrumner，其实在测试过程中你会更加关注失败的case，因此是不是按照顺序执行我倒是觉得不是十几重要。如果你有这个需求可以尝试修改一下report部分代码。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582040481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179369,"user_name":"小海","can_delete":false,"product_type":"c1","uid":1810935,"ip_address":"","ucode":"C6849DD05F1A7F","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a1/f7/fbc56376.jpg","comment_is_top":false,"comment_ctime":1581991707,"is_pvip":false,"replies":[{"id":"69664","content":"您好，测试报告中也可以通过数据驱动层的设计将其加入到你的测试报告中，就如同测试结果一样，但是这部分在这次课程中没有全部设计，处理方法和参数的处理方法一模一样，仅仅是使用地方不一样，因此没有特别将其讲出来。谢谢","user_name":"作者回复","user_name_real":"Criss@陈磊","uid":"1064280","ctime":1582002313,"ip_address":"","comment_id":179369,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1581991707","product_id":100045801,"comment_content":"你好！通过excel存储测试用例数据，每一行代表一个测试用例，这样循环读取测试用例使用一个测试方法取执行，测试报告中怎样区分每个用例的描述信息","like_count":0,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484228,"discussion_content":"您好，测试报告中也可以通过数据驱动层的设计将其加入到你的测试报告中，就如同测试结果一样，但是这部分在这次课程中没有全部设计，处理方法和参数的处理方法一模一样，仅仅是使用地方不一样，因此没有特别将其讲出来。谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582002313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179286,"user_name":"happychap","can_delete":false,"product_type":"c1","uid":1388033,"ip_address":"","ucode":"C872B959BF2F3D","user_header":"https://static001.geekbang.org/account/avatar/00/15/2e/01/14a478bb.jpg","comment_is_top":false,"comment_ctime":1581952190,"is_pvip":true,"replies":[{"id":"69630","content":"您说的确实是一个很难解决的问题，我曾经也遇见过，当初处理的方法就构建了一个数据生成服务，后续逐渐变成了我们team的测试数据服务也就是TDS，不知道你是不是可以借鉴一下。","user_name":"作者回复","user_name_real":"Criss@陈磊","uid":"1064280","ctime":1581988840,"ip_address":"","comment_id":179286,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1581952190","product_id":100045801,"comment_content":"数据驱动最扎手的还是不幸遇到异构数据的情况，二维的Excel表和或关系数据库都没办法较好解决这种场景。数据项多的时候，维护测试数据也比较麻烦。可惜一直没能找到突破的法子，~（╯&#39; - &#39;)╯︵ ┻━┻ <br>老师有什么独门绝技分享一下嗄😊","like_count":0,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484183,"discussion_content":"您说的确实是一个很难解决的问题，我曾经也遇见过，当初处理的方法就构建了一个数据生成服务，后续逐渐变成了我们team的测试数据服务也就是TDS，不知道你是不是可以借鉴一下。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581988840,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1111658,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f6/6a/28c7572f.jpg","nickname":"吴晓辉","note":"","ucode":"A22FBC5EB1FE8E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":180753,"discussion_content":"可以问下什么是异构数据的情况吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582299496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1388033,"avatar":"https://static001.geekbang.org/account/avatar/00/15/2e/01/14a478bb.jpg","nickname":"happychap","note":"","ucode":"C872B959BF2F3D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1111658,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f6/6a/28c7572f.jpg","nickname":"吴晓辉","note":"","ucode":"A22FBC5EB1FE8E","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":180982,"discussion_content":"返回json报文中业务数据层层相嵌的情况，这会导致测试数据不好用二维表格展现出来。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582330719,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":180753,"ip_address":""},"score":180982,"extra":""}]}]},{"had_liked":false,"id":179263,"user_name":"VeryYoung","can_delete":false,"product_type":"c1","uid":1198965,"ip_address":"","ucode":"50E129987FE4E5","user_header":"https://static001.geekbang.org/account/avatar/00/12/4b/75/71845744.jpg","comment_is_top":false,"comment_ctime":1581947020,"is_pvip":false,"replies":[{"id":"69596","content":"什么都没有可以不在excel中写数据😀数据库校验不在参数部分，在代码逻辑的队数据库校验做封装。就是最原始的数据库查询封装😀可以找到您技术栈对应的类。","user_name":"作者回复","user_name_real":"Criss@陈磊","uid":"1064280","ctime":1581958241,"ip_address":"","comment_id":179263,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1581947020","product_id":100045801,"comment_content":"在提取数据到excel过程中，像对数据库的检验数据应该怎么写比较合适？还有就是接口参数为空时的用例，这个用例有两种情况，一种是不传值另一种是什么都不传（name都不传）这个时候代码怎么根据excel来写？","like_count":0,"discussions":[{"author":{"id":1064280,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3d/58/377289a8.jpg","nickname":"陈磊@Criss","note":"","ucode":"AF0A1CEA749698","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484171,"discussion_content":"什么都没有可以不在excel中写数据😀数据库校验不在参数部分，在代码逻辑的队数据库校验做封装。就是最原始的数据库查询封装😀可以找到您技术栈对应的类。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581958241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
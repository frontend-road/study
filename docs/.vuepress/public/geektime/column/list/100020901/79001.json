{"id":79001,"title":"30 | å¥—è·¯ç¯‡ï¼šå¦‚ä½•è¿…é€Ÿåˆ†æå‡ºç³»ç»ŸI/Oçš„ç“¶é¢ˆåœ¨å“ªé‡Œï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å€ªæœ‹é£ã€‚</p><p>å‰å‡ èŠ‚å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å‡ ä¸ªæ¡ˆä¾‹ï¼Œåˆ†æäº†å„ç§å¸¸è§çš„ I/O æ€§èƒ½é—®é¢˜ã€‚é€šè¿‡è¿™äº›å®æˆ˜æ“ä½œï¼Œä½ åº”è¯¥å·²ç»ç†Ÿæ‚‰äº† I/O æ€§èƒ½é—®é¢˜çš„åˆ†æå’Œå®šä½æ€è·¯ï¼Œä¹ŸæŒæ¡äº†å¾ˆå¤š I/O æ€§èƒ½åˆ†æçš„å·¥å…·ã€‚</p><p>ä¸è¿‡ï¼Œæˆ‘æƒ³ä½ å¯èƒ½è¿˜æ˜¯ä¼šå›°æƒ‘ï¼Œå¦‚æœç¦»å¼€ä¸“æ ï¼Œæ¢æˆå…¶ä»–çš„å®é™…å·¥ä½œåœºæ™¯ï¼Œæ¡ˆä¾‹ä¸­æåˆ°çš„å„ç§æ€§èƒ½æŒ‡æ ‡å’Œå·¥å…·ï¼Œåˆè¯¥å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿ</p><p>ä¸Šä¸€èŠ‚æœ€åï¼Œæˆ‘ç•™ä¸‹äº†ä½œä¸šï¼Œè®©ä½ è‡ªå·±æ•´ç†æ€è·¯ã€‚ä»Šå¤©ï¼Œæˆ‘å°±å¸¦ä½ ä¸€èµ·å¤ä¹ ï¼Œæ€»ç»“ä¸€ä¸‹ï¼Œå¦‚ä½•â€œå¿«å‡†ç‹ â€å®šä½ç³»ç»Ÿçš„ I/O ç“¶é¢ˆï¼›å¹¶ä¸”æ¢³ç†æ¸…æ¥šï¼Œåœ¨ä¸åŒåœºæ™¯ä¸‹ï¼ŒæŒ‡æ ‡å·¥å…·æ€ä¹ˆé€‰ï¼Œæ€§èƒ½ç“¶é¢ˆåˆè¯¥å¦‚ä½•å®šä½ã€‚</p><h2>æ€§èƒ½æŒ‡æ ‡</h2><p>è€è§„çŸ©ï¼Œæˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹ï¼Œæè¿° I/O çš„æ€§èƒ½æŒ‡æ ‡æœ‰å“ªäº›ï¼Ÿä½ å¯ä»¥å…ˆå›æƒ³ä¸€ä¸‹æ–‡ä»¶ç³»ç»Ÿå’Œç£ç›˜ I/O çš„åŸç†ï¼Œç»“åˆä¸‹é¢è¿™å¼  Linux ç³»ç»Ÿçš„ I/O æ ˆå›¾ï¼Œå‡­ç€è®°å¿†å’Œç†è§£è‡ªå·±å†™ä¸€å†™ã€‚æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥æ‰“å¼€å‰é¢çš„æ–‡ç« ï¼ŒæŒ¨ä¸ªå¤ä¹ æ€»ç»“ä¸€ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/9e/38/9e42aaf53ff4a544b9a7b03b6ce63f38.png?wh=530*590\" alt=\"\"></p><p>å­¦äº†è¿™ä¹ˆä¹…çš„ I/O æ€§èƒ½çŸ¥è¯†ï¼Œä¸€è¯´èµ· I/O æŒ‡æ ‡ï¼Œä½ åº”è¯¥é¦–å…ˆä¼šæƒ³åˆ°åˆ†ç±»æè¿°ã€‚æˆ‘ä»¬è¦åŒºåˆ†å¼€æ–‡ä»¶ç³»ç»Ÿå’Œç£ç›˜ï¼Œåˆ†åˆ«ç”¨ä¸åŒæŒ‡æ ‡æ¥æè¿°å®ƒä»¬çš„æ€§èƒ½ã€‚</p><h3>æ–‡ä»¶ç³»ç»ŸI/Oæ€§èƒ½æŒ‡æ ‡</h3><p>æˆ‘ä»¬å…ˆæ¥çœ‹æ–‡ä»¶ç³»ç»Ÿçš„æƒ…å†µã€‚</p><p><strong>é¦–å…ˆï¼Œæœ€å®¹æ˜“æƒ³åˆ°çš„æ˜¯å­˜å‚¨ç©ºé—´çš„ä½¿ç”¨æƒ…å†µï¼ŒåŒ…æ‹¬å®¹é‡ã€ä½¿ç”¨é‡ä»¥åŠå‰©ä½™ç©ºé—´ç­‰</strong>ã€‚æˆ‘ä»¬é€šå¸¸ä¹Ÿç§°è¿™äº›ä¸ºç£ç›˜ç©ºé—´çš„ä½¿ç”¨é‡ï¼Œå› ä¸ºæ–‡ä»¶ç³»ç»Ÿçš„æ•°æ®æœ€ç»ˆè¿˜æ˜¯å­˜å‚¨åœ¨ç£ç›˜ä¸Šã€‚</p><!-- [[[read_end]]] --><p>ä¸è¿‡è¦æ³¨æ„ï¼Œè¿™äº›åªæ˜¯æ–‡ä»¶ç³»ç»Ÿå‘å¤–å±•ç¤ºçš„ç©ºé—´ä½¿ç”¨ï¼Œè€Œéåœ¨ç£ç›˜ç©ºé—´çš„çœŸå®ç”¨é‡ï¼Œå› ä¸ºæ–‡ä»¶ç³»ç»Ÿçš„å…ƒæ•°æ®ä¹Ÿä¼šå ç”¨ç£ç›˜ç©ºé—´ã€‚</p><p>è€Œä¸”ï¼Œå¦‚æœä½ é…ç½®äº† RAIDï¼Œä»æ–‡ä»¶ç³»ç»Ÿçœ‹åˆ°çš„ä½¿ç”¨é‡è·Ÿå®é™…ç£ç›˜çš„å ç”¨ç©ºé—´ï¼Œä¹Ÿä¼šå› ä¸º RAID çº§åˆ«çš„ä¸åŒè€Œä¸ä¸€æ ·ã€‚æ¯”æ–¹è¯´ï¼Œé…ç½® RAID10 åï¼Œä½ ä»æ–‡ä»¶ç³»ç»Ÿæœ€å¤šä¹Ÿåªèƒ½çœ‹åˆ°æ‰€æœ‰ç£ç›˜å®¹é‡çš„ä¸€åŠã€‚</p><p>é™¤äº†æ•°æ®æœ¬èº«çš„å­˜å‚¨ç©ºé—´ï¼Œè¿˜æœ‰ä¸€ä¸ª<strong>å®¹æ˜“å¿½ç•¥çš„æ˜¯ç´¢å¼•èŠ‚ç‚¹çš„ä½¿ç”¨æƒ…å†µï¼Œå®ƒä¹ŸåŒ…æ‹¬å®¹é‡ã€ä½¿ç”¨é‡ä»¥åŠå‰©ä½™é‡ç­‰ä¸‰ä¸ªæŒ‡æ ‡</strong>ã€‚å¦‚æœæ–‡ä»¶ç³»ç»Ÿä¸­å­˜å‚¨è¿‡å¤šçš„å°æ–‡ä»¶ï¼Œå°±å¯èƒ½ç¢°åˆ°ç´¢å¼•èŠ‚ç‚¹å®¹é‡å·²æ»¡çš„é—®é¢˜ã€‚</p><p><strong>å…¶æ¬¡ï¼Œä½ åº”è¯¥æƒ³åˆ°çš„æ˜¯å‰é¢å¤šæ¬¡æåˆ°è¿‡çš„ç¼“å­˜ä½¿ç”¨æƒ…å†µï¼ŒåŒ…æ‹¬é¡µç¼“å­˜ã€ç›®å½•é¡¹ç¼“å­˜ã€ç´¢å¼•èŠ‚ç‚¹ç¼“å­˜ä»¥åŠå„ä¸ªå…·ä½“æ–‡ä»¶ç³»ç»Ÿï¼ˆå¦‚ ext4ã€XFS ç­‰ï¼‰çš„ç¼“å­˜</strong>ã€‚è¿™äº›ç¼“å­˜ä¼šä½¿ç”¨é€Ÿåº¦æ›´å¿«çš„å†…å­˜ï¼Œç”¨æ¥ä¸´æ—¶å­˜å‚¨æ–‡ä»¶æ•°æ®æˆ–è€…æ–‡ä»¶ç³»ç»Ÿçš„å…ƒæ•°æ®ï¼Œä»è€Œå¯ä»¥å‡å°‘è®¿é—®æ…¢é€Ÿç£ç›˜çš„æ¬¡æ•°ã€‚</p><p>é™¤äº†ä»¥ä¸Šè¿™ä¸¤ç‚¹ï¼Œæ–‡ä»¶ I/O ä¹Ÿæ˜¯å¾ˆé‡è¦çš„æ€§èƒ½æŒ‡æ ‡ï¼ŒåŒ…æ‹¬ IOPSï¼ˆåŒ…æ‹¬ r/s å’Œ w/sï¼‰ã€å“åº”æ—¶é—´ï¼ˆå»¶è¿Ÿï¼‰ä»¥åŠååé‡ï¼ˆB/sï¼‰ç­‰ã€‚åœ¨è€ƒå¯Ÿè¿™ç±»æŒ‡æ ‡æ—¶ï¼Œé€šå¸¸è¿˜è¦è€ƒè™‘å®é™…æ–‡ä»¶çš„è¯»å†™æƒ…å†µã€‚æ¯”å¦‚ï¼Œç»“åˆæ–‡ä»¶å¤§å°ã€æ–‡ä»¶æ•°é‡ã€I/O ç±»å‹ç­‰ï¼Œç»¼åˆåˆ†ææ–‡ä»¶ I/O çš„æ€§èƒ½ã€‚</p><p>è¯šç„¶ï¼Œè¿™äº›æ€§èƒ½æŒ‡æ ‡éå¸¸é‡è¦ï¼Œä½†ä¸å¹¸çš„æ˜¯ï¼ŒLinux æ–‡ä»¶ç³»ç»Ÿå¹¶æ²¡æä¾›ï¼Œç›´æ¥æŸ¥çœ‹è¿™äº›æŒ‡æ ‡çš„æ–¹æ³•ã€‚æˆ‘ä»¬åªèƒ½é€šè¿‡ç³»ç»Ÿè°ƒç”¨ã€åŠ¨æ€è·Ÿè¸ªæˆ–è€…åŸºå‡†æµ‹è¯•ç­‰æ–¹æ³•ï¼Œé—´æ¥è¿›è¡Œè§‚å¯Ÿã€è¯„ä¼°ã€‚</p><p>ä¸è¿‡ï¼Œå®é™…ä¸Šï¼Œè¿™äº›æŒ‡æ ‡åœ¨æˆ‘ä»¬è€ƒå¯Ÿç£ç›˜æ€§èƒ½æ—¶æ›´å®¹æ˜“è§åˆ°ï¼Œå› ä¸º Linux ä¸ºç£ç›˜æ€§èƒ½æä¾›äº†æ›´è¯¦ç»†çš„æ•°æ®ã€‚</p><h3>ç£ç›˜I/Oæ€§èƒ½æŒ‡æ ‡</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥å…·ä½“çœ‹çœ‹ï¼Œå“ªäº›æ€§èƒ½æŒ‡æ ‡å¯ä»¥è¡¡é‡ç£ç›˜ I/O çš„æ€§èƒ½ã€‚</p><p>åœ¨ç£ç›˜ I/O åŸç†çš„æ–‡ç« ä¸­ï¼Œæˆ‘æ›¾æåˆ°è¿‡å››ä¸ªæ ¸å¿ƒçš„ç£ç›˜ I/O æŒ‡æ ‡ã€‚</p><ul>\n<li>\n<p><strong>ä½¿ç”¨ç‡</strong>ï¼Œæ˜¯æŒ‡ç£ç›˜å¿™å¤„ç†I/Oè¯·æ±‚çš„ç™¾åˆ†æ¯”ã€‚è¿‡é«˜çš„ä½¿ç”¨ç‡ï¼ˆæ¯”å¦‚è¶…è¿‡60%ï¼‰é€šå¸¸æ„å‘³ç€ç£ç›˜I/Oå­˜åœ¨æ€§èƒ½ç“¶é¢ˆã€‚</p>\n</li>\n<li>\n<p><strong>IOPS</strong>ï¼ˆInput/Output Per Secondï¼‰ï¼Œæ˜¯æŒ‡æ¯ç§’çš„ I/O è¯·æ±‚æ•°ã€‚</p>\n</li>\n<li>\n<p><strong>ååé‡</strong>ï¼Œæ˜¯æŒ‡æ¯ç§’çš„ I/O è¯·æ±‚å¤§å°ã€‚</p>\n</li>\n<li>\n<p><strong>å“åº”æ—¶é—´</strong>ï¼Œæ˜¯æŒ‡ä»å‘å‡º I/O è¯·æ±‚åˆ°æ”¶åˆ°å“åº”çš„é—´éš”æ—¶é—´ã€‚</p>\n</li>\n</ul><p>è€ƒå¯Ÿè¿™äº›æŒ‡æ ‡æ—¶ï¼Œä¸€å®šè¦æ³¨æ„ç»¼åˆ I/O çš„å…·ä½“åœºæ™¯æ¥åˆ†æï¼Œæ¯”å¦‚è¯»å†™ç±»å‹ï¼ˆé¡ºåºè¿˜æ˜¯éšæœºï¼‰ã€è¯»å†™æ¯”ä¾‹ã€è¯»å†™å¤§å°ã€å­˜å‚¨ç±»å‹ï¼ˆæœ‰æ— RAIDä»¥åŠRAIDçº§åˆ«ã€æœ¬åœ°å­˜å‚¨è¿˜æ˜¯ç½‘ç»œå­˜å‚¨ï¼‰ç­‰ã€‚</p><p>ä¸è¿‡ï¼Œè¿™é‡Œæœ‰ä¸ªå¤§å¿Œï¼Œå°±æ˜¯æŠŠä¸åŒåœºæ™¯çš„ I/O æ€§èƒ½æŒ‡æ ‡ï¼Œç›´æ¥è¿›è¡Œåˆ†æå¯¹æ¯”ã€‚è¿™æ˜¯å¾ˆå¸¸è§çš„ä¸€ä¸ªè¯¯åŒºï¼Œä½ ä¸€å®šè¦é¿å…ã€‚</p><p>é™¤äº†è¿™äº›æŒ‡æ ‡å¤–ï¼Œåœ¨å‰é¢ Cache å’Œ Buffer åŸç†çš„æ–‡ç« ä¸­ï¼Œæˆ‘æ›¾å¤šæ¬¡æåˆ°ï¼Œ<strong>ç¼“å†²åŒºï¼ˆBufferï¼‰</strong>ä¹Ÿæ˜¯è¦é‡ç‚¹æŒæ¡çš„æŒ‡æ ‡ï¼Œå®ƒç»å¸¸å‡ºç°åœ¨å†…å­˜å’Œç£ç›˜é—®é¢˜çš„åˆ†æä¸­ã€‚</p><p>æ–‡ä»¶ç³»ç»Ÿå’Œç£ç›˜ I/O çš„è¿™äº›æŒ‡æ ‡éƒ½å¾ˆæœ‰ç”¨ï¼Œéœ€è¦æˆ‘ä»¬ç†Ÿç»ƒæŒæ¡ï¼Œæ‰€ä»¥æˆ‘æ€»ç»“æˆäº†ä¸€å¼ å›¾ï¼Œå¸®ä½ åˆ†ç±»å’Œè®°å¿†ã€‚ä½ å¯ä»¥ä¿å­˜å¹¶æ‰“å°å‡ºæ¥ï¼Œæ–¹ä¾¿éšæ—¶æŸ¥çœ‹å¤ä¹ ï¼Œä¹Ÿå¯ä»¥æŠŠå®ƒå½“æˆ I/O æ€§èƒ½åˆ†æçš„â€œæŒ‡æ ‡ç­›é€‰â€æ¸…å•ä½¿ç”¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b6/20/b6d67150e471e1340a6f3c3dc3ba0120.png?wh=2650*808\" alt=\"\"></p><h2>æ€§èƒ½å·¥å…·</h2><p>æŒæ¡æ–‡ä»¶ç³»ç»Ÿå’Œç£ç›˜ I/O çš„æ€§èƒ½æŒ‡æ ‡åï¼Œæˆ‘ä»¬è¿˜è¦çŸ¥é“ï¼Œæ€æ ·å»è·å–è¿™äº›æŒ‡æ ‡ï¼Œä¹Ÿå°±æ˜¯ææ˜ç™½å·¥å…·çš„ä½¿ç”¨é—®é¢˜ã€‚</p><p>ä½ è¿˜è®°å¾—å‰é¢çš„åŸºç¡€ç¯‡å’Œæ¡ˆä¾‹ç¯‡ä¸­ï¼Œéƒ½åˆ†åˆ«ç”¨äº†å“ªäº›å·¥å…·å—ï¼Ÿæˆ‘ä»¬ä¸€èµ·å›é¡¾ä¸‹è¿™äº›å†…å®¹ã€‚</p><p>ç¬¬ä¸€ï¼Œåœ¨æ–‡ä»¶ç³»ç»Ÿçš„åŸç†ä¸­ï¼Œæˆ‘ä»‹ç»äº†æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿå®¹é‡çš„å·¥å…· dfã€‚å®ƒæ—¢å¯ä»¥æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿæ•°æ®çš„ç©ºé—´å®¹é‡ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹ç´¢å¼•èŠ‚ç‚¹çš„å®¹é‡ã€‚è‡³äºæ–‡ä»¶ç³»ç»Ÿç¼“å­˜ï¼Œæˆ‘ä»¬é€šè¿‡/proc/meminfoã€/proc/slabinfo ä»¥åŠ slabtop ç­‰å„ç§æ¥æºï¼Œè§‚å¯Ÿé¡µç¼“å­˜ã€ç›®å½•é¡¹ç¼“å­˜ã€ç´¢å¼•èŠ‚ç‚¹ç¼“å­˜ä»¥åŠå…·ä½“æ–‡ä»¶ç³»ç»Ÿçš„ç¼“å­˜æƒ…å†µã€‚</p><p>ç¬¬äºŒï¼Œåœ¨ç£ç›˜ I/O çš„åŸç†ä¸­ï¼Œæˆ‘ä»¬åˆ†åˆ«ç”¨ iostat å’Œ pidstat è§‚å¯Ÿäº†ç£ç›˜å’Œè¿›ç¨‹çš„ I/O æƒ…å†µã€‚å®ƒä»¬éƒ½æ˜¯æœ€å¸¸ç”¨çš„ I/O æ€§èƒ½åˆ†æå·¥å…·ã€‚é€šè¿‡ iostat ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ç£ç›˜çš„ I/O ä½¿ç”¨ç‡ã€ååé‡ã€å“åº”æ—¶é—´ä»¥åŠ IOPS ç­‰æ€§èƒ½æŒ‡æ ‡ï¼›è€Œé€šè¿‡ pidstat ï¼Œåˆ™å¯ä»¥è§‚å¯Ÿåˆ°è¿›ç¨‹çš„ I/O ååé‡ä»¥åŠå—è®¾å¤‡ I/O çš„å»¶è¿Ÿç­‰ã€‚</p><p>ç¬¬ä¸‰ï¼Œåœ¨ç‹‚æ‰“æ—¥å¿—çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å…ˆç”¨ top æŸ¥çœ‹ç³»ç»Ÿçš„ CPU ä½¿ç”¨æƒ…å†µï¼Œå‘ç° iowait æ¯”è¾ƒé«˜ï¼›ç„¶åï¼Œåˆç”¨ iostat å‘ç°äº†ç£ç›˜çš„ I/O ä½¿ç”¨ç‡ç“¶é¢ˆï¼Œå¹¶ç”¨ pidstat æ‰¾å‡ºäº†å¤§é‡ I/O çš„è¿›ç¨‹ï¼›æœ€åï¼Œé€šè¿‡ strace å’Œ lsofï¼Œæˆ‘ä»¬æ‰¾å‡ºäº†é—®é¢˜è¿›ç¨‹æ­£åœ¨è¯»å†™çš„æ–‡ä»¶ï¼Œå¹¶æœ€ç»ˆé”å®šæ€§èƒ½é—®é¢˜çš„æ¥æºâ€”â€”åŸæ¥æ˜¯è¿›ç¨‹åœ¨ç‹‚æ‰“æ—¥å¿—ã€‚</p><p>ç¬¬å››ï¼Œåœ¨ç£ç›˜ I/O å»¶è¿Ÿçš„å•è¯çƒ­åº¦æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬åŒæ ·å…ˆç”¨ topã€iostat ï¼Œå‘ç°ç£ç›˜æœ‰ I/O ç“¶é¢ˆï¼Œå¹¶ç”¨ pidstat æ‰¾å‡ºäº†å¤§é‡ I/O çš„è¿›ç¨‹ã€‚å¯æ¥ä¸‹æ¥ï¼Œæƒ³è¦ç…§æ¬ä¸Šæ¬¡æ“ä½œçš„æˆ‘ä»¬å¤±è´¥äº†ã€‚åœ¨éšåçš„ strace å‘½ä»¤ä¸­ï¼Œæˆ‘ä»¬å±…ç„¶æ²¡çœ‹åˆ° write ç³»ç»Ÿè°ƒç”¨ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬æ¢äº†ä¸€ä¸ªæ€è·¯ï¼Œç”¨æ–°å·¥å…· filetop å’Œ opensnoop ï¼Œä»å†…æ ¸ä¸­è·Ÿè¸ªç³»ç»Ÿè°ƒç”¨ï¼Œæœ€ç»ˆæ‰¾å‡ºç“¶é¢ˆçš„æ¥æºã€‚</p><p>æœ€åï¼Œåœ¨ MySQL å’Œ Redis çš„æ¡ˆä¾‹ä¸­ï¼ŒåŒæ ·çš„æ€è·¯ï¼Œæˆ‘ä»¬å…ˆç”¨ topã€iostat ä»¥åŠ pidstat ï¼Œç¡®å®šå¹¶æ‰¾å‡º I/O æ€§èƒ½é—®é¢˜çš„ç“¶é¢ˆæ¥æºï¼Œå®ƒä»¬æ­£æ˜¯ mysqld å’Œ redis-serverã€‚éšåï¼Œæˆ‘ä»¬åˆç”¨ strace+lsof æ‰¾å‡ºäº†å®ƒä»¬æ­£åœ¨è¯»å†™çš„æ–‡ä»¶ã€‚</p><p>å…³äº MySQL æ¡ˆä¾‹ï¼Œæ ¹æ® mysqld æ­£åœ¨è¯»å†™çš„æ–‡ä»¶è·¯å¾„ï¼Œå†ç»“åˆ MySQL æ•°æ®åº“å¼•æ“çš„åŸç†ï¼Œæˆ‘ä»¬ä¸ä»…æ‰¾å‡ºäº†æ•°æ®åº“å’Œæ•°æ®è¡¨çš„åç§°ï¼Œè¿˜è¿›ä¸€æ­¥å‘ç°äº†æ…¢æŸ¥è¯¢çš„é—®é¢˜ï¼Œæœ€ç»ˆé€šè¿‡ä¼˜åŒ–ç´¢å¼•è§£å†³äº†æ€§èƒ½ç“¶é¢ˆã€‚</p><p>è‡³äº Redis æ¡ˆä¾‹ï¼Œæ ¹æ® redis-server è¯»å†™çš„æ–‡ä»¶ï¼Œä»¥åŠæ­£åœ¨è¿›è¡Œç½‘ç»œé€šä¿¡çš„ TCP Socketï¼Œå†ç»“åˆ Redis çš„å·¥ä½œåŸç†ï¼Œæˆ‘ä»¬å‘ç° Redis æŒä¹…åŒ–é€‰é¡¹é…ç½®æœ‰é—®é¢˜ï¼›ä» TCP Socket é€šä¿¡çš„æ•°æ®ä¸­ï¼Œæˆ‘ä»¬è¿˜å‘ç°äº†å®¢æˆ·ç«¯çš„ä¸åˆç†è¡Œä¸ºã€‚äºæ˜¯ï¼Œæˆ‘ä»¬ä¿®æ”¹ Redis é…ç½®é€‰é¡¹ï¼Œå¹¶ä¼˜åŒ–äº†å®¢æˆ·ç«¯ä½¿ç”¨Redisçš„æ–¹å¼ï¼Œä»è€Œå‡å°‘ç½‘ç»œé€šä¿¡æ¬¡æ•°ï¼Œè§£å†³æ€§èƒ½é—®é¢˜ã€‚</p><p>ä¸€ä¸‹å­å¤ä¹ äº†è¿™ä¹ˆå¤šï¼Œä½ æ˜¯ä¸æ˜¯è§‰å¾—å¤´æ˜è„‘èƒ€ï¼Œå†æ¬¡æƒ³æ„Ÿå¹æ€§èƒ½å·¥å…·çš„ç¹æ‚å‘€ï¼å…¶å®ï¼Œåªè¦æŠŠç›¸åº”çš„ç³»ç»Ÿå·¥ä½œåŸç†æ‹æ˜ç™½ï¼Œå·¥å…·ä½¿ç”¨å¹¶ä¸éš¾</p><h2>æ€§èƒ½æŒ‡æ ‡å’Œå·¥å…·çš„è”ç³»</h2><p>åŒå‰é¢CPUå’Œå†…å­˜æ¿å—çš„å­¦ä¹ ä¸€æ ·ï¼Œæˆ‘å»ºè®®ä»æŒ‡æ ‡å’Œå·¥å…·ä¸¤ä¸ªä¸åŒç»´åº¦å‡ºå‘ï¼Œæ•´ç†è®°å¿†ã€‚</p><ul>\n<li>\n<p>ä»I/OæŒ‡æ ‡å‡ºå‘ï¼Œä½ æ›´å®¹æ˜“æŠŠæ€§èƒ½å·¥å…·åŒç³»ç»Ÿå·¥ä½œåŸç†å…³è”èµ·æ¥ï¼Œå¯¹æ€§èƒ½é—®é¢˜æœ‰å®è§‚çš„è®¤è¯†å’ŒæŠŠæ¡ã€‚</p>\n</li>\n<li>\n<p>è€Œä»æ€§èƒ½å·¥å…·å‡ºå‘ï¼Œå¯ä»¥è®©ä½ æ›´å¿«ä¸Šæ‰‹ä½¿ç”¨å·¥å…·ï¼Œè¿…é€Ÿæ‰¾å‡ºæˆ‘ä»¬æƒ³è§‚å¯Ÿçš„æ€§èƒ½æŒ‡æ ‡ã€‚ç‰¹åˆ«æ˜¯åœ¨å·¥å…·æœ‰é™çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ›´è¦å……åˆ†åˆ©ç”¨å¥½æ‰‹å¤´çš„æ¯ä¸€ä¸ªå·¥å…·ï¼Œå°‘é‡å·¥å…·ä¹Ÿè¦å°½åŠ›æŒ–æ˜å‡ºå¤§é‡ä¿¡æ¯ã€‚</p>\n</li>\n</ul><p><strong>ç¬¬ä¸€ä¸ªç»´åº¦ï¼Œä»æ–‡ä»¶ç³»ç»Ÿå’Œç£ç›˜ I/O çš„æ€§èƒ½æŒ‡æ ‡å‡ºå‘ã€‚æ¢å¥è¯è¯´ï¼Œå½“ä½ æƒ³æŸ¥çœ‹æŸä¸ªæ€§èƒ½æŒ‡æ ‡æ—¶ï¼Œè¦æ¸…æ¥šçŸ¥é“ï¼Œå“ªäº›å·¥å…·å¯ä»¥åšåˆ°ã€‚</strong></p><p>æ ¹æ®ä¸åŒçš„æ€§èƒ½æŒ‡æ ‡ï¼Œå¯¹æä¾›æŒ‡æ ‡çš„æ€§èƒ½å·¥å…·è¿›è¡Œåˆ†ç±»å’Œç†è§£ã€‚è¿™æ ·ï¼Œåœ¨å®é™…æ’æŸ¥æ€§èƒ½é—®é¢˜æ—¶ï¼Œä½ å°±å¯ä»¥æ¸…æ¥šçŸ¥é“ï¼Œä»€ä¹ˆå·¥å…·å¯ä»¥æä¾›ä½ æƒ³è¦çš„æŒ‡æ ‡ï¼Œè€Œä¸æ˜¯æ¯«æ— æ ¹æ®åœ°æŒ¨ä¸ªå°è¯•ï¼Œæ’è¿æ°”ã€‚</p><p>è™½ç„¶ä½ ä¸éœ€è¦æŠŠæ‰€æœ‰ç›¸å…³çš„å·¥å…·èƒŒä¸‹æ¥ï¼Œä½†å¦‚æœèƒ½è®°æ¸…æ¥šæ¯ä¸ªæŒ‡æ ‡å¯¹åº”çš„å·¥å…·ç‰¹æ€§ï¼Œå®é™…æ“ä½œèµ·æ¥ï¼Œä¸€å®šèƒ½æ›´é«˜æ•ˆã€çµæ´»ã€‚</p><p>è¿™é‡Œï¼Œæˆ‘æŠŠæä¾› I/O æ€§èƒ½æŒ‡æ ‡çš„å·¥å…·åšæˆäº†ä¸€ä¸ªè¡¨æ ¼ï¼Œæ–¹ä¾¿ä½ æ¢³ç†å…³ç³»å’Œç†è§£è®°å¿†ã€‚ä½ å¯ä»¥æŠŠå®ƒä¿å­˜å¹¶æ‰“å°å‡ºæ¥ï¼Œéšæ—¶è®°å¿†ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠå®ƒå½“æˆä¸€ä¸ªâ€œæŒ‡æ ‡å·¥å…·â€æŒ‡å—æ¥ä½¿ç”¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/6f/98/6f26fa18a73458764fcda00212006698.png?wh=1705*1901\" alt=\"\"></p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬å†æ¥çœ‹ç¬¬äºŒä¸ªç»´åº¦ã€‚</p><p><strong>ç¬¬äºŒä¸ªç»´åº¦ï¼Œä»å·¥å…·å‡ºå‘ã€‚ä¹Ÿå°±æ˜¯å½“ä½ å·²ç»å®‰è£…äº†æŸä¸ªå·¥å…·åï¼Œè¦çŸ¥é“è¿™ä¸ªå·¥å…·èƒ½æä¾›å“ªäº›æŒ‡æ ‡ã€‚</strong></p><p>è¿™åœ¨å®é™…ç¯å¢ƒä¸­ï¼Œç‰¹åˆ«æ˜¯ç”Ÿäº§ç¯å¢ƒä¸­ä¹Ÿæ˜¯éå¸¸é‡è¦çš„ã€‚å› ä¸ºå¾ˆå¤šæƒ…å†µä¸‹ï¼Œä½ å¹¶æ²¡æœ‰æƒé™å®‰è£…æ–°çš„å·¥å…·åŒ…ï¼Œåªèƒ½æœ€å¤§åŒ–åœ°åˆ©ç”¨å¥½ç³»ç»Ÿå·²æœ‰çš„å·¥å…·ï¼Œè€Œè¿™å°±éœ€è¦ä½ å¯¹å®ƒä»¬æœ‰è¶³å¤Ÿçš„äº†è§£ã€‚</p><p>å…·ä½“åˆ°æ¯ä¸ªå·¥å…·çš„ä½¿ç”¨æ–¹æ³•ï¼Œä¸€èˆ¬éƒ½æ”¯æŒä¸°å¯Œçš„é…ç½®é€‰é¡¹ã€‚ä¸è¿‡ä¸ç”¨æ‹…å¿ƒï¼Œè¿™äº›é…ç½®é€‰é¡¹å¹¶ä¸ç”¨èƒŒä¸‹æ¥ã€‚ä½ åªè¦çŸ¥é“æœ‰å“ªäº›å·¥å…·ï¼Œä»¥åŠè¿™äº›å·¥å…·çš„åŸºæœ¬åŠŸèƒ½æ˜¯ä»€ä¹ˆå°±å¤Ÿäº†ã€‚çœŸæ­£è¦ç”¨åˆ°çš„æ—¶å€™ï¼Œ é€šè¿‡ man å‘½ä»¤ï¼ŒæŸ¥å®ƒä»¬çš„ä½¿ç”¨æ‰‹å†Œå°±å¯ä»¥äº†ã€‚</p><p>åŒæ ·çš„ï¼Œæˆ‘ä¹Ÿå°†è¿™äº›å¸¸ç”¨å·¥å…·æ±‡æ€»æˆäº†ä¸€ä¸ªè¡¨æ ¼ï¼Œæ–¹ä¾¿ä½ åŒºåˆ†å’Œç†è§£ã€‚è‡ªç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å½“æˆä¸€ä¸ªâ€œå·¥å…·æŒ‡æ ‡â€æŒ‡å—ä½¿ç”¨ï¼Œéœ€è¦æ—¶æŸ¥è¡¨å³å¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ee/f3/ee11664d015f034e4042b9fa4fyycff3.jpg?wh=910*1336\" alt=\"\"></p><h2>å¦‚ä½•è¿…é€Ÿåˆ†æI/Oçš„æ€§èƒ½ç“¶é¢ˆ</h2><p>åˆ°è¿™é‡Œï¼Œç›¸ä¿¡ä½ å¯¹å†…å­˜çš„æ€§èƒ½æŒ‡æ ‡å·²ç»éå¸¸ç†Ÿæ‚‰ï¼Œä¹Ÿæ¸…æ¥šæ¯ç§æ€§èƒ½æŒ‡æ ‡åˆ†åˆ«èƒ½ç”¨ä»€ä¹ˆå·¥å…·æ¥è·å–ã€‚</p><p>ä½ åº”è¯¥å‘ç°äº†ï¼Œæ¯”èµ·å‰ä¸¤ä¸ªæ¿å—ï¼Œè™½ç„¶æ–‡ä»¶ç³»ç»Ÿå’Œç£ç›˜çš„ I/O æ€§èƒ½æŒ‡æ ‡ä»æ¯”è¾ƒå¤šï¼Œä½†æ ¸å¿ƒçš„æ€§èƒ½å·¥å…·ï¼Œå…¶å®å°±æ˜¯é‚£ä¹ˆå‡ ä¸ªã€‚ç†Ÿç»ƒæŒæ¡å®ƒä»¬ï¼Œå†æ ¹æ®å®é™…ç³»ç»Ÿçš„ç°è±¡ï¼Œå¹¶é…åˆç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºçš„åŸç†ï¼Œ I/O æ€§èƒ½åˆ†æå°±å¾ˆæ¸…æ™°äº†ã€‚</p><p>ä¸è¿‡ï¼Œä¸ç®¡æ€ä¹ˆè¯´ï¼Œå¦‚æœæ¯æ¬¡ä¸€ç¢°åˆ° I/O çš„æ€§èƒ½é—®é¢˜ï¼Œå°±æŠŠä¸Šé¢æåˆ°çš„æ‰€æœ‰å·¥å…·è·‘ä¸€éï¼Œè‚¯å®šæ˜¯ä¸ç°å®çš„ã€‚</p><p>åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›çš„æ˜¯ï¼Œå°½å¯èƒ½<strong>å¿«</strong>åœ°å®šä½ç³»ç»Ÿçš„ç“¶é¢ˆï¼Œç„¶åå°½å¯èƒ½<strong>å¿«</strong>åœ°ä¼˜åŒ–æ€§èƒ½ï¼Œä¹Ÿå°±æ˜¯è¦åˆå¿«åˆå‡†åœ°è§£å†³æ€§èƒ½é—®é¢˜ã€‚</p><p>é‚£æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•ï¼Œå¯ä»¥åˆå¿«åˆå‡†åœ°æ‰¾å‡ºç³»ç»Ÿçš„I/O ç“¶é¢ˆå‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚</p><p>è¿˜æ˜¯é‚£å¥è¯ï¼Œæ‰¾å…³è”ã€‚å¤šç§æ€§èƒ½æŒ‡æ ‡é—´éƒ½æœ‰ä¸€å®šçš„å…³è”æ€§ï¼Œä¸è¦å®Œå…¨å­¤ç«‹çš„çœ‹å¾…ä»–ä»¬ã€‚<strong>æƒ³å¼„æ¸…æ¥šæ€§èƒ½æŒ‡æ ‡çš„å…³è”æ€§ï¼Œå°±è¦é€šæ™“æ¯ç§æ€§èƒ½æŒ‡æ ‡çš„å·¥ä½œåŸç†</strong>ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘åœ¨ä»‹ç»æ¯ä¸ªæ€§èƒ½æŒ‡æ ‡æ—¶ï¼Œéƒ½è¦ç©¿æ’è®²è§£ç›¸å…³çš„ç³»ç»ŸåŸç†ï¼Œå†æ¬¡å¸Œæœ›ä½ èƒ½è®°ä½è¿™ä¸€ç‚¹ã€‚</p><p>ä»¥æˆ‘ä»¬å‰é¢å‡ æœŸçš„æ¡ˆä¾‹ä¸ºä¾‹ï¼Œå¦‚æœä½ ä»”ç»†å¯¹æ¯”å‰é¢çš„å‡ ä¸ªæ¡ˆä¾‹ï¼Œä» I/Oå»¶è¿Ÿçš„æ¡ˆä¾‹åˆ° MySQL å’Œ Redis çš„æ¡ˆä¾‹ï¼Œå°±ä¼šå‘ç°ï¼Œè™½ç„¶è¿™äº›é—®é¢˜åƒå·®ä¸‡åˆ«ï¼Œä½†ä» I/O è§’åº¦æ¥åˆ†æï¼Œæœ€å¼€å§‹çš„åˆ†ææ€è·¯åŸºæœ¬ä¸Šç±»ä¼¼ï¼Œéƒ½æ˜¯ï¼š</p><ol>\n<li>\n<p>å…ˆç”¨ iostat å‘ç°ç£ç›˜ I/O æ€§èƒ½ç“¶é¢ˆï¼›</p>\n</li>\n<li>\n<p>å†å€ŸåŠ© pidstat ï¼Œå®šä½å‡ºå¯¼è‡´ç“¶é¢ˆçš„è¿›ç¨‹ï¼›</p>\n</li>\n<li>\n<p>éšååˆ†æè¿›ç¨‹çš„ I/O è¡Œä¸ºï¼›</p>\n</li>\n<li>\n<p>æœ€åï¼Œç»“åˆåº”ç”¨ç¨‹åºçš„åŸç†ï¼Œåˆ†æè¿™äº› I/O çš„æ¥æºã€‚</p>\n</li>\n</ol><p><strong>æ‰€ä»¥ï¼Œä¸ºäº†ç¼©å°æ’æŸ¥èŒƒå›´ï¼Œæˆ‘é€šå¸¸ä¼šå…ˆè¿è¡Œé‚£å‡ ä¸ªæ”¯æŒæŒ‡æ ‡è¾ƒå¤šçš„å·¥å…·ï¼Œå¦‚ iostatã€vmstatã€pidstat ç­‰ã€‚</strong>ç„¶åå†æ ¹æ®è§‚å¯Ÿåˆ°çš„ç°è±¡ï¼Œç»“åˆç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºçš„åŸç†ï¼Œå¯»æ‰¾ä¸‹ä¸€æ­¥çš„åˆ†ææ–¹å‘ã€‚æˆ‘æŠŠè¿™ä¸ªè¿‡ç¨‹ç”»æˆäº†ä¸€å¼ å›¾ï¼Œä½ å¯ä»¥ä¿å­˜ä¸‹æ¥å‚è€ƒä½¿ç”¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/18/8a/1802a35475ee2755fb45aec55ed2d98a.png?wh=3732*1886\" alt=\"\"></p><p>å›¾ä¸­åˆ—å‡ºäº†æœ€å¸¸ç”¨çš„å‡ ä¸ªæ–‡ä»¶ç³»ç»Ÿå’Œç£ç›˜ I/O æ€§èƒ½åˆ†æå·¥å…·ï¼Œä»¥åŠç›¸åº”çš„åˆ†ææµç¨‹ï¼Œç®­å¤´åˆ™è¡¨ç¤ºåˆ†ææ–¹å‘ã€‚è¿™å…¶ä¸­ï¼Œiostatã€vmstatã€pidstat æ˜¯æœ€æ ¸å¿ƒçš„å‡ ä¸ªæ€§èƒ½å·¥å…·ï¼Œå®ƒä»¬ä¹Ÿæä¾›äº†æœ€é‡è¦çš„ I/O æ€§èƒ½æŒ‡æ ‡ã€‚ä¸¾å‡ ä¸ªä¾‹å­ä½ å¯èƒ½æ›´å®¹æ˜“ç†è§£ã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨å‰é¢è®²è¿‡çš„ MySQL å’Œ Redis æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å°±æ˜¯é€šè¿‡ iostat ç¡®è®¤ç£ç›˜å‡ºç° I/O æ€§èƒ½ç“¶é¢ˆï¼Œç„¶åç”¨ pidstat æ‰¾å‡º I/O æœ€å¤§çš„è¿›ç¨‹ï¼Œæ¥ç€å€ŸåŠ© strace æ‰¾å‡ºè¯¥è¿›ç¨‹æ­£åœ¨è¯»å†™çš„æ–‡ä»¶ï¼Œæœ€åç»“åˆåº”ç”¨ç¨‹åºçš„åŸç†ï¼Œæ‰¾å‡ºå¤§é‡ I/O çš„åŸå› ã€‚</p><p>å†å¦‚ï¼Œå½“ä½ ç”¨ iostat å‘ç°ç£ç›˜æœ‰ I/O æ€§èƒ½ç“¶é¢ˆåï¼Œå†ç”¨ pidstat å’Œ vmstat æ£€æŸ¥ï¼Œå¯èƒ½ä¼šå‘ç° I/O æ¥è‡ªå†…æ ¸çº¿ç¨‹ï¼Œå¦‚ Swap ä½¿ç”¨å¤§é‡å‡é«˜ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å°±å¾—è¿›è¡Œå†…å­˜åˆ†æäº†ï¼Œå…ˆæ‰¾å‡ºå ç”¨å¤§é‡å†…å­˜çš„è¿›ç¨‹ï¼Œå†è®¾æ³•å‡å°‘å†…å­˜çš„ä½¿ç”¨ã€‚</p><p>å¦å¤–æ³¨æ„ï¼Œæˆ‘åœ¨è¿™ä¸ªå›¾ä¸­åªåˆ—å‡ºäº†æœ€æ ¸å¿ƒçš„å‡ ä¸ªæ€§èƒ½å·¥å…·ï¼Œå¹¶æ²¡æœ‰åˆ—å‡ºå‰é¢è¡¨æ ¼ä¸­çš„æ‰€æœ‰å·¥å…·ã€‚è¿™ä¹ˆåšï¼Œä¸€æ–¹é¢æ˜¯ä¸æƒ³ç”¨å¤§é‡çš„å·¥å…·åˆ—è¡¨å“åˆ°ä½ ã€‚åœ¨å­¦ä¹ ä¹‹åˆå°±æ¥è§¦æ‰€æœ‰æ ¸å¿ƒæˆ–å°ä¼—çš„å·¥å…·ï¼Œä¸è§å¾—æ˜¯å¥½äº‹ã€‚å¦ä¸€æ–¹é¢ï¼Œä¹Ÿæ˜¯å¸Œæœ›ä½ èƒ½å…ˆæŠŠé‡å¿ƒæ”¾åœ¨æ ¸å¿ƒå·¥å…·ä¸Šï¼Œæ¯•ç«Ÿç†Ÿç»ƒæŒæ¡å®ƒä»¬ï¼Œå°±å¯ä»¥è§£å†³å¤§å¤šæ•°é—®é¢˜ã€‚</p><p>æ‰€ä»¥ï¼Œä½ å¯ä»¥ä¿å­˜ä¸‹è¿™å¼ å›¾ï¼Œä½œä¸ºæ–‡ä»¶ç³»ç»Ÿå’Œç£ç›˜I/Oæ€§èƒ½åˆ†æçš„æ€è·¯å›¾è°±ã€‚ä»æœ€æ ¸å¿ƒçš„è¿™å‡ ä¸ªå·¥å…·å¼€å§‹ï¼Œé€šè¿‡æˆ‘æä¾›çš„é‚£äº›æ¡ˆä¾‹ï¼Œè‡ªå·±åœ¨çœŸå®ç¯å¢ƒé‡Œå®è·µï¼Œæ‹¿ä¸‹å®ƒä»¬ã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©ï¼Œæˆ‘ä»¬ä¸€èµ·å¤ä¹ äº†å¸¸è§çš„æ–‡ä»¶ç³»ç»Ÿå’Œç£ç›˜ I/O æ€§èƒ½æŒ‡æ ‡ï¼Œæ¢³ç†äº†å¸¸è§çš„ I/O æ€§èƒ½è§‚æµ‹å·¥å…·ï¼Œå¹¶å»ºç«‹äº†æ€§èƒ½æŒ‡æ ‡å’Œå·¥å…·çš„å…³è”ã€‚æœ€åï¼Œæˆ‘ä»¬è¿˜æ€»ç»“äº†å¿«é€Ÿåˆ†æ I/O æ€§èƒ½é—®é¢˜çš„æ€è·¯ã€‚</p><p>è¿˜æ˜¯é‚£å¥è¯ï¼Œè™½ç„¶ I/O çš„æ€§èƒ½æŒ‡æ ‡å¾ˆå¤šï¼Œç›¸åº”çš„æ€§èƒ½åˆ†æå·¥å…·ä¹Ÿæœ‰ä¸å°‘ï¼Œä½†ç†Ÿæ‚‰äº†å„æŒ‡æ ‡å«ä¹‰åï¼Œä½ å°±ä¼šè‡ªç„¶æ‰¾åˆ°å®ƒä»¬çš„å…³è”ã€‚é¡ºç€è¿™ä¸ªæ€è·¯å¾€ä¸‹èµ°ï¼ŒæŒæ¡å¸¸ç”¨çš„åˆ†æå¥—è·¯ä¹Ÿå¹¶ä¸éš¾ã€‚</p><h2>æ€è€ƒ</h2><p>ä¸“æ å­¦ä¹ ä¸­ï¼Œæˆ‘åªåˆ—ä¸¾äº†å‡ ä¸ªæœ€å¸¸è§çš„æ¡ˆä¾‹ï¼Œå¸®ä½ ç†è§£æ–‡ä»¶ç³»ç»Ÿå’Œç£ç›˜ I/O æ€§èƒ½çš„åŸç†å’Œåˆ†ææ–¹æ³•ã€‚ä½ è‚¯å®šä¹Ÿç¢°åˆ°è¿‡ä¸å°‘å…¶ä»– I/O æ€§èƒ½é—®é¢˜å§ã€‚æˆ‘æƒ³è¯·ä½ ä¸€èµ·èŠèŠï¼Œä½ ç¢°åˆ°è¿‡å“ªäº› I/O æ€§èƒ½é—®é¢˜å‘¢ï¼Ÿä½ åˆæ˜¯æ€ä¹ˆåˆ†æå‡ºå®ƒçš„ç“¶é¢ˆå‘¢ï¼Ÿ</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºå’Œæˆ‘è®¨è®ºï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„åŒäº‹ã€æœ‹å‹ã€‚æˆ‘ä»¬ä¸€èµ·åœ¨å®æˆ˜ä¸­æ¼”ç»ƒï¼Œåœ¨äº¤æµä¸­è¿›æ­¥ã€‚</p>","neighbors":{"left":{"article_title":"29 | æ¡ˆä¾‹ç¯‡ï¼šRediså“åº”ä¸¥é‡å»¶è¿Ÿï¼Œå¦‚ä½•è§£å†³ï¼Ÿ","id":78984},"right":{"article_title":"31 | å¥—è·¯ç¯‡ï¼šç£ç›˜ I/O æ€§èƒ½ä¼˜åŒ–çš„å‡ ä¸ªæ€è·¯","id":79368}},"comments":[{"had_liked":false,"id":64199,"user_name":"é»„æ™ºè£","can_delete":false,"product_type":"c1","uid":1027823,"ip_address":"","ucode":"3C84C8654CCB11","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ae/ef/cbb8d881.jpg","comment_is_top":false,"comment_ctime":1548693749,"is_pvip":false,"replies":[{"id":"22966","content":"ğŸ‘ æ€è·¯æ¸…æ™°ã€‚å¤§å®¶ä¹Ÿå¯ä»¥å‚è€ƒåˆ†æ es æˆ–è€…å…¶ä»–ç±»ä¼¼çš„é—®é¢˜","user_name":"ä½œè€…å›å¤","comment_id":64199,"uid":"1001282","ip_address":"","utype":1,"ctime":1548941743,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":4,"race_medal":0,"score":"332261175541","product_id":100020901,"comment_content":"ä¸€æ¬¡ioæ€§èƒ½é—®é¢˜<br>æ•°æ®å†™esï¼Œè¿è¡Œä¸€æ®µæ—¶é—´åï¼Œå‘ç°å†™å…¥å¾ˆæ…¢ï¼ŒæŸ¥ioæ—¶å‘ç°ï¼Œè¯»çš„ioå¾ˆé«˜ï¼Œå†™çš„ioå¾ˆå°‘ï¼Œå¾ˆå¥‡æ€ªåªå†™æ•°æ®è¿˜æ²¡æŸ¥è¯¢ï¼Œè¯»çš„ioä½¿ç”¨ç‡åŸºæœ¬æ¥è¿‘100%ã€‚<br>ç”¨iotopå®šä½åˆ°esä¸€äº›å†™çš„çº¿ç¨‹ï¼Œå°†çº¿ç¨‹idè½¬æˆ16è¿›åˆ¶ï¼Œç”¨jstackæ‰“å°å‡ºesçš„å †æ ˆä¿¡æ¯ï¼ŒæŸ¥å‡º16è¿›åˆ¶çš„çº¿ç¨‹å·çš„å †æ ˆã€‚å‘ç°åŸæ¥æ˜¯esä¼šè·Ÿæ®doc idæŸ¥æ•°æ®ï¼Œç„¶åé€‰æ‹©æ›´æ–°æˆ–æ–°æ’å…¥ã€‚esæ•°æ®é‡å¤§æ—¶ï¼Œä¼šå ç”¨äº†å¾ˆå¤šè¯»çš„io.<br>åé¢å†™eså°±ä¸ä¼ idï¼Œè®©esè‡ªåŠ¨ç”Ÿæˆã€‚è§£å†³äº†é—®é¢˜ã€‚","like_count":78,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437903,"discussion_content":"ğŸ‘ æ€è·¯æ¸…æ™°ã€‚å¤§å®¶ä¹Ÿå¯ä»¥å‚è€ƒåˆ†æ es æˆ–è€…å…¶ä»–ç±»ä¼¼çš„é—®é¢˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1548941743,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1479120,"avatar":"https://static001.geekbang.org/account/avatar/00/16/91/d0/35bc62b1.jpg","nickname":"æ— å’","note":"","ucode":"B9759B5646F3AB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587725,"discussion_content":"esæ˜¯ä»€ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663242582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1049208,"avatar":"https://static001.geekbang.org/account/avatar/00/10/02/78/23c56bce.jpg","nickname":"james","note":"","ucode":"5701899403917C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323426,"discussion_content":"è‡ªåŠ¨ç”Ÿæˆid ä½ å’‹é€šè¿‡idå¾—åˆ°è¿™æ¡è®°å½•å‘¢ éš¾é“å†™ä¸€ä¸ªåŸºäºterm filter çš„dsl","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604933653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1220702,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erfbtibbPk4VI9pInKXOhhH0349bic9XiaI4lrUDr8ByXOKoEicrOHeicEyfbrGjJ0RvACN7Bb0GcBPzyA/132","nickname":"keka","note":"","ucode":"687E53AF4B0F3A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":23511,"discussion_content":"es è‡ªåŠ¨ç”Ÿæˆï¼Œæœ‰æ—¶å€™æ²¡æ³•å»é‡~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569829032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64610,"user_name":"éº‹é¹¿åœ¨æ³›èˆŸ","can_delete":false,"product_type":"c1","uid":1121975,"ip_address":"","ucode":"1379CADA08688E","user_header":"https://static001.geekbang.org/account/avatar/00/11/1e/b7/b20ab184.jpg","comment_is_top":false,"comment_ctime":1548835327,"is_pvip":true,"replies":[{"id":"22982","content":"æ˜¯çš„ï¼Œæˆ–è€…ä½¿ç”¨ blktrace è§‚å¯Ÿ","user_name":"ä½œè€…å›å¤","comment_id":64610,"uid":"1001282","ip_address":"","utype":1,"ctime":1548943568,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"108923017727","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå¦‚ä½•åˆ¤æ–­ç£ç›˜æ˜¯åœ¨ é¡ºåºè¯» è¿˜æ˜¯ éšæœºè¯»ï¼Ÿ<br>---<br>å¯ä»¥ä½¿ç”¨straceæŠŠç³»ç»Ÿè°ƒç”¨éƒ½æ‰¾å‡ºæ¥ï¼Œwriteæ˜¯å¦è¿ç»­å°±å¯ä»¥çœ‹åˆ°äº†.","like_count":26,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438098,"discussion_content":"æ˜¯çš„ï¼Œæˆ–è€…ä½¿ç”¨ blktrace è§‚å¯Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1548943568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127295,"user_name":"Geek_b04b12","can_delete":false,"product_type":"c1","uid":1112139,"ip_address":"","ucode":"F8705A21FCDF09","user_header":"https://static001.geekbang.org/account/avatar/00/10/f8/4b/5ae62b10.jpg","comment_is_top":false,"comment_ctime":1566638003,"is_pvip":false,"replies":[{"id":"47210","content":"è°¢è°¢æ”¯æŒï¼Œå¾ˆé«˜å…´ä¸“æ å¯ä»¥å¸®åˆ°æ›´å¤šçš„äºº","user_name":"ä½œè€…å›å¤","comment_id":127295,"uid":"1001282","ip_address":"","utype":1,"ctime":1566743455,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"83171016627","product_id":100020901,"comment_content":"æˆ‘æ˜¯ä¸€åå¼€å‘è€…ï¼Œå½“åˆå…¬å¸åˆšåˆšæˆç«‹ï¼Œé¡¹ç›®ä¸Šçº¿ï¼Œé‚£ä¸€æ¬¡ç‰ˆæœ¬ä¸Šçº¿è®°å¾—ä½¿ç”¨æ˜¯æ›´æ”¹äº†è¡¨çš„ç»“æ„ï¼Œç„¶åç³»ç»Ÿåœ¨è¯·æ±‚ä¸€ä¸ªapiä»¥åï¼Œç³»ç»Ÿçš„topå„ç§æŒ‡æ ‡éƒ½è¾¾åˆ°äº†å³°å€¼ï¼Œå¯¼è‡´äº†æœºå™¨ç›´æ¥æ­»æ‰ï¼Œé‡å¯ä»¥åï¼Œå†è¯·æ±‚ï¼Œä»æ—§ä¼šå®•æœºï¼Œå½“åˆæ²¡æœ‰çœ‹å­¦ä¹ è¿™ä¸ªè¯¾ç¨‹ï¼Œç„¶åï¼Œå°±å„ç§ç™¾åº¦ï¼Œgoogleï¼Œæ•´ä½“çš„æ€è·¯æƒ³æƒ³å’Œç°åœ¨å·®ä¸å¤šï¼Œapiè¯·æ±‚ä»¥åï¼Œå»ºç«‹çš„é‚£ä¸ªè¿›ç¨‹çš„å ç”¨çš„å†…å­˜ï¼Œioéƒ½ä¼šå¾ˆé«˜ï¼Œæ ¹æ®é‚£ä¸ªid ï¼Œè®°å¾—ä½¿ç”¨lsof ï¼Œçœ‹åˆ°ç³»ç»Ÿå°±ä¸€ç›´åœ¨é¢‘ç¹çš„è°ƒç”¨ä¸€ä¸ªcè¯­è¨€å‡½æ•°ï¼Œå’¨è¯¢äº† ç›¸å…³çš„c&#47;c++å·¥ç¨‹å¸ˆï¼Œç„¶åç»“åˆphpçš„è¯­è¨€ï¼ˆä¸šåŠ¡æ˜¯ç”¨phpå†™çš„ï¼‰å‡½æ•°çš„å°è£…ï¼Œæœ€åæ‰¾åˆ°äº†é‚£ä¸ªphpå‡½æ•°ï¼Œå†æ‰¾åˆ°ä¸Šå±‚è‡ªå®šä¹‰å‡½æ•°ï¼Œç„¶åå‘ç°æ˜¯ç”±äºæ•°æ®åº“çš„ä¸€ä¸ªè¡¨çš„åˆ—çš„é»˜è®¤å­—æ®µè®¾ç½®ä¸ºäº†nullï¼Œå¯¼è‡´ä¸€ä¸ªæ­»å¾ªç¯ï¼Œæœ€ç»ˆï¼Œå°†è¿™ä¸ªmysqlçš„è¡¨çš„å­—æ®µçš„é»˜è®¤å€¼ä¿®æ”¹åï¼Œå‘ç°é—®é¢˜å°±è¿åˆƒè€Œè§£äº†ã€‚ã€‚å°è±¡ç‰¹åˆ«çš„æ·±åˆ»ï¼Œè™½ç„¶æ˜¯å¼€å‘ï¼Œä½†æ˜¯å–œæ¬¢linuxã€‚ã€‚ã€‚å„ç§ç¼–ç¨‹è¯­è¨€ç¦»ä¸å¼€æœåŠ¡å™¨çš„åº•å±‚ï¼ˆlinuxæœåŠ¡å™¨ï¼‰ ç°åœ¨ç³»ç»Ÿçš„å­¦ä¹ linuxä»¥åï¼Œé‡åˆ°é—®é¢˜å°±ä¸ä¼šé‚£ä¹ˆæ…Œä¹±æ— åŠ©ï¼Œç°åœ¨æƒ³æƒ³ï¼ŒçŸ¥å…¶ç„¶ä¸çŸ¥å…¶æ‰€ä»¥ç„¶ï¼ˆä»¥å‰å‚åŠ è¿‡ä¸€ä¸ªæ¯”è¾ƒåŸºç¡€çš„linuxåŸ¹è®­ï¼Œé‡ç‚¹æ˜¯æ“ä½œï¼‰ï¼Œå¯¹ä»¥åçš„èŒä¸šå‘å±•çœŸçš„ä¸åˆ©ï¼  æ”¶ç›Šæ–ç„¶ï¼Œå¤šè°¢ï¼","like_count":20,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464421,"discussion_content":"è°¢è°¢æ”¯æŒï¼Œå¾ˆé«˜å…´ä¸“æ å¯ä»¥å¸®åˆ°æ›´å¤šçš„äºº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566743455,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2653715,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKib3vNM6TPT1umvR3TictnLurJPKuQq4iblH5upgBB3kHL9hoN3Pgh3MaR2rjz6fWgMiaDpicd8R5wsAQ/132","nickname":"é™ˆé˜³","note":"","ucode":"C8E676C967D23A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":404243,"discussion_content":"æ²¡æ˜ç™½ï¼Œ é»˜è®¤å­—æ®µç½®ä¸ºnull ä¸ºä»€ä¹ˆä¼šå¯¼è‡´æ­»å¾ªç¯\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1634265565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64073,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1548660127,"is_pvip":false,"replies":[{"id":"22964","content":"æ˜¯çš„ï¼Œéƒ½æ˜¯ä¸€æ ·çš„å¥—è·¯ï¼Œå…³é”®æ˜¯è¦çŸ¥é“æ¯ä¸€æ­¥è¯¥æ€ä¹ˆåšï¼Œåˆä¸ºä»€ä¹ˆè¿™ä¹ˆåšã€‚å®é™…ä¸Šæœ€ç»ˆçš„ä¼˜åŒ–è¿˜è¦ç»¼åˆè€ƒè™‘æˆæœ¬å’Œæ”¶æ•ˆã€‚","user_name":"ä½œè€…å›å¤","comment_id":64073,"uid":"1001282","ip_address":"","utype":1,"ctime":1548941640,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"27318463903","product_id":100020901,"comment_content":"[D30æ‰“å¡]<br>å¥—è·¯äº†è§£äº†.<br>å…¶å®æŸ¥æ‰¾å…¶ä»–æ–¹é¢çš„é—®é¢˜ä¹Ÿéƒ½æ˜¯è¿™æ ·å•Š.ä¸€æ­¥ä¸€æ­¥ç¼©å°èŒƒå›´.<br>é¦–å…ˆ,ç¡®å®šæœ‰æ²¡æœ‰ç“¶é¢ˆäº§ç”Ÿ,æˆ–è€…æœ‰å“ªæ–¹é¢çš„ç“¶é¢ˆ.<br>å…¶æ¬¡,çœ‹æ˜¯è°å¯¼è‡´çš„.<br>å†æ¬¡,æ˜¯è°æ“ä½œä»€ä¹ˆå¯¼è‡´çš„.<br>æœ€å,ç»“åˆå®é™…,ç»™å‡ºè§£å†³æ–¹æ¡ˆ.<br>","like_count":7,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437843,"discussion_content":"æ˜¯çš„ï¼Œéƒ½æ˜¯ä¸€æ ·çš„å¥—è·¯ï¼Œå…³é”®æ˜¯è¦çŸ¥é“æ¯ä¸€æ­¥è¯¥æ€ä¹ˆåšï¼Œåˆä¸ºä»€ä¹ˆè¿™ä¹ˆåšã€‚å®é™…ä¸Šæœ€ç»ˆçš„ä¼˜åŒ–è¿˜è¦ç»¼åˆè€ƒè™‘æˆæœ¬å’Œæ”¶æ•ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548941640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64029,"user_name":"vvccoe","can_delete":false,"product_type":"c1","uid":1099892,"ip_address":"","ucode":"1BE9FDE72175BE","user_header":"https://static001.geekbang.org/account/avatar/00/10/c8/74/a1bd2307.jpg","comment_is_top":false,"comment_ctime":1548643606,"is_pvip":false,"replies":[{"id":"22962","content":"1. IOPSå°±æ˜¯ I&#47;O per second çš„ç¼©å†™ï¼ŒæŒ‡çš„æ˜¯å‘é€ç»™ç£ç›˜çš„è¯»å†™è¯·æ±‚æ•°ï¼ˆæ³¨æ„è¿™é‡Œæ˜¯ç³»ç»Ÿåˆå¹¶åå‘ç»™ç£ç›˜çš„ï¼‰<br>2. æ¯æ¬¡è¯·æ±‚çš„å¤§å°ä¸æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥æ‰ä¼šæœ‰ IOPS å’Œååè¿™äº›ä¸åŒçš„æŒ‡æ ‡","user_name":"ä½œè€…å›å¤","comment_id":64029,"uid":"1001282","ip_address":"","utype":1,"ctime":1548941490,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"27318447382","product_id":100020901,"comment_content":"å€ªè€å¸ˆï¼Œä½ å¥½ã€‚<br>èƒ½è¯¦ç»†è¯´æ˜ä¸€ä¸‹IOPSå—ï¼Ÿ<br>1.100 IOPS æ˜¯æŒ‡çš„ä¸€ç§’å†…ï¼Œèƒ½å¤„ç†100æ¬¡IOè¯·æ±‚ï¼Œè¿™ä¸ªè¯·æ±‚åŒ…å«äº†å¯»é“å®šä½æ•°æ®å—ï¼Ÿ<br>2.ä¸€æ¬¡è¯·æ±‚æ˜¯ä¸æ˜¯åªåŒ…å«äº†4Kçš„æ•°æ®é‡ï¼Œå¦‚æœä¸€æ¬¡æ“ä½œæ˜¯9K ä¼šæ‹†æˆ3æ¬¡IOè¯·æ±‚ã€‚","like_count":6,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437818,"discussion_content":"1. IOPSå°±æ˜¯ I/O per second çš„ç¼©å†™ï¼ŒæŒ‡çš„æ˜¯å‘é€ç»™ç£ç›˜çš„è¯»å†™è¯·æ±‚æ•°ï¼ˆæ³¨æ„è¿™é‡Œæ˜¯ç³»ç»Ÿåˆå¹¶åå‘ç»™ç£ç›˜çš„ï¼‰\n2. æ¯æ¬¡è¯·æ±‚çš„å¤§å°ä¸æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥æ‰ä¼šæœ‰ IOPS å’Œååè¿™äº›ä¸åŒçš„æŒ‡æ ‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548941490,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63970,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1548633817,"is_pvip":false,"replies":[{"id":"22957","content":"è¶ç€æœ‰æ—¶é—´æ­£å¥½å­¦ä¹ ğŸ˜Š","user_name":"ä½œè€…å›å¤","comment_id":63970,"uid":"1001282","ip_address":"","utype":1,"ctime":1548941028,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"23023470297","product_id":100020901,"comment_content":"æ‰“å¡day31<br>æ»¡æ»¡çš„å¥—è·¯ï¼Œä¸€å¿ƒåªæƒ³æ”¾å‡ï¼Œæ— å¿ƒä¸Šç­ï¼Œè¿˜å¾—ç†¬ä¸€å‘¨ğŸ˜‚","like_count":5,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437787,"discussion_content":"è¶ç€æœ‰æ—¶é—´æ­£å¥½å­¦ä¹ ğŸ˜Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548941028,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64286,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1548734539,"is_pvip":false,"replies":[{"id":"22969","content":"è°¢è°¢æ”¯æŒ","user_name":"ä½œè€…å›å¤","comment_id":64286,"uid":"1001282","ip_address":"","utype":1,"ctime":1548942394,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":1,"score":"14433636427","product_id":100020901,"comment_content":"ã€day31æ‰“å¡ã€‘<br>è€å¸ˆçš„è¯¾ç¨‹å¥½ç”¨å¿ƒï¼Œå‡†å¤‡è¿™äº›æ¡ˆä¾‹éƒ½ä¼šå¾ˆè´¹æ—¶ï¼Œè®²äº†å¿ƒæ³•ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æˆ‘ä»¬è‡ªå·±åœ¨å·¥ä½œä¸­çš„å®æˆ˜äº†ï¼Œæ€»ä¹‹è¿™ä¸ªè¯¾å¾ˆå€¼ã€‚è°¢è°¢è€å¸ˆ","like_count":3,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437940,"discussion_content":"è°¢è°¢æ”¯æŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548942394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":225829,"user_name":"ä¼šé£çš„é±¼","can_delete":false,"product_type":"c1","uid":1116125,"ip_address":"","ucode":"7320CD88982F3B","user_header":"https://static001.geekbang.org/account/avatar/00/11/07/dd/0aab635a.jpg","comment_is_top":false,"comment_ctime":1591868421,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10181803013","product_id":100020901,"comment_content":"curl è°ƒç”¨oozieæœåŠ¡ï¼Œå‘ç°hadoopé›†ç¾¤å†…éƒ¨èŠ‚ç‚¹è°ƒç”¨é€Ÿåº¦å¾ˆå¿«æ¯«ç§’çº§ï¼Œè€Œä»éé›†ç¾¤èŠ‚ç‚¹çš„æœºå™¨è°ƒç”¨å´å¾ˆæ…¢ï¼Œé•¿è¾¾18ç§’ï¼Œåæ¥å®šä½åˆ°waitingï¼ˆTTFBï¼‰18ç§’ï¼Œä¸çŸ¥é“è¯¥å¦‚ä½•æ’æŸ¥é—®é¢˜äº†ï¼Ÿè¡¥å……ï¼Œæ— è®ºä»å“ªé‡Œè°ƒç”¨pingéƒ½å¾ˆå¿«çš„ã€‚","like_count":1},{"had_liked":false,"id":69988,"user_name":"hola","can_delete":false,"product_type":"c1","uid":1068559,"ip_address":"","ucode":"1872B1B3FCEAFC","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/0f/c43745e7.jpg","comment_is_top":false,"comment_ctime":1550928190,"is_pvip":false,"replies":[{"id":"25343","content":"ğŸ˜Š è°¢è°¢","user_name":"ä½œè€…å›å¤","comment_id":69988,"uid":"1001282","ip_address":"","utype":1,"ctime":1551194488,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"10140862782","product_id":100020901,"comment_content":"å¥—è·¯ç¯‡æ€»æ˜¯ä»·å€¼1ä¸ªäº¿","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440388,"discussion_content":"ğŸ˜Š è°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551194488,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64161,"user_name":"xfan","can_delete":false,"product_type":"c1","uid":1315147,"ip_address":"","ucode":"48ED8D498D7F56","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/4b/fa64f061.jpg","comment_is_top":false,"comment_ctime":1548682412,"is_pvip":false,"replies":[{"id":"22965","content":"å¿«äº† ğŸ˜Š","user_name":"ä½œè€…å›å¤","comment_id":64161,"uid":"1001282","ip_address":"","utype":1,"ctime":1548941648,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"10138617004","product_id":100020901,"comment_content":"æƒ³å¬è€å¸ˆçš„ç½‘ç»œéƒ¨åˆ†äº†ï¼Œ","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437891,"discussion_content":"å¿«äº† ğŸ˜Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548941648,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64012,"user_name":"åˆ’æ—¶ä»£","can_delete":false,"product_type":"c1","uid":1061454,"ip_address":"","ucode":"9554CE2F83B77F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/2o1Izf2YyJSnnI0ErZ51pYRlnrmibqUTaia3tCU1PjMxuwyXSKOLUYiac2TQ5pd5gNGvS81fVqKWGvDsZLTM8zhWg/132","comment_is_top":false,"comment_ctime":1548641264,"is_pvip":false,"replies":[{"id":"22961","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":64012,"uid":"1001282","ip_address":"","utype":1,"ctime":1548941314,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"10138575856","product_id":100020901,"comment_content":"æ‰“å¡æ€»ç»“ï¼Œå¿«æ”¾å‡äº†ï¼Œä¾ç„¶ä¸èƒ½åœä¸‹å‰è¿›çš„è„šæ­¥ã€‚","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437810,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548941314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63949,"user_name":"DJH","can_delete":false,"product_type":"c1","uid":1256740,"ip_address":"","ucode":"2BDEF123B3DB6A","user_header":"https://static001.geekbang.org/account/avatar/00/13/2d/24/28acca15.jpg","comment_is_top":false,"comment_ctime":1548608975,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10138543567","product_id":100020901,"comment_content":"æ²™å‘ã€‚ã€‚ã€‚","like_count":2},{"had_liked":false,"id":199532,"user_name":"å—å±±","can_delete":false,"product_type":"c1","uid":1119593,"ip_address":"","ucode":"94656FE4A6C378","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","comment_is_top":false,"comment_ctime":1585491017,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5880458313","product_id":100020901,"comment_content":"ç†è§£èƒŒåçš„åŸç†ï¼Œé”»ç‚¼é€è¿‡ç°è±¡çœ‹æœ¬è´¨çš„èƒ½åŠ›ï¼Œç”¨å·¥å…·å°è¯çŒœæƒ³ä»¥åŠä¼˜åŒ–ç»“æœï¼Œåç»­å°è¯•åº”ç”¨ä¸å·¥ä½œä¸­è§£å†³å®é™…é—®é¢˜ï½","like_count":1},{"had_liked":false,"id":106928,"user_name":"lyonger","can_delete":false,"product_type":"c1","uid":1313840,"ip_address":"","ucode":"E89A75DADEA2A1","user_header":"https://static001.geekbang.org/account/avatar/00/14/0c/30/bb4bfe9d.jpg","comment_is_top":false,"comment_ctime":1561425780,"is_pvip":false,"replies":[{"id":"40098","content":"å—¯ï¼Œæ˜¯çš„ï¼Œæ‰€ä»¥éœ€è¦æ­å»ºç›‘æ§ç³»ç»Ÿï¼ŒæŠŠè¿™äº›å†å²æ•°æ®è®°å½•ä¸‹æ¥ï¼ˆå‚è€ƒ53ã€54ç¯‡ï¼‰ã€‚","user_name":"ä½œè€…å›å¤","comment_id":106928,"uid":"1001282","ip_address":"","utype":1,"ctime":1562249807,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5856393076","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘æƒ³è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼š<br>   å¾ˆå¤šå¼‚å¸¸äº§ç”Ÿæ—¶æ˜¯çŸ­æ—¶ï¼Œé‚£ä¹ˆè¿‡äº†ä»¥åæ²¡æœ‰ç°åœºå¯ä»¥åˆ†æäº†ã€‚æ¯”å¦‚io utilsæŠ¥è­¦100%ï¼Œä½†ç™»é™†æœºå™¨ä¸ŠæŸ¥çœ‹ä½†æ—¶å€™å¯èƒ½å·²ç»æ²¡æœ‰ç°åœºï¼Œæ²¡æ³•æŸ¥åˆ°æ˜¯å“ªä¸ªè¿›ç¨‹å¯¼è‡´çš„ã€‚è€Œæˆ‘äº†è§£åˆ°sarå‘½ä»¤å¯ä»¥æŸ¥å†å²ä¿¡æ¯ï¼Œä½†æ˜¯å¥½åƒsar -d æŸ¥ç£ç›˜çš„æ—¶å€™æ‰¾ä¸åˆ°æ˜¯å“ªä¸ªè¿›ç¨‹ã€‚é‚£ä¹ˆæœ‰æ›´å¥½çš„åŠæ³•æŸ¥è¯¢å†å²ä¿¡æ¯ï¼Œæˆ–è€…ä¿ç•™ç°åœºçš„æ–¹å¼å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455285,"discussion_content":"å—¯ï¼Œæ˜¯çš„ï¼Œæ‰€ä»¥éœ€è¦æ­å»ºç›‘æ§ç³»ç»Ÿï¼ŒæŠŠè¿™äº›å†å²æ•°æ®è®°å½•ä¸‹æ¥ï¼ˆå‚è€ƒ53ã€54ç¯‡ï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562249807,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68264,"user_name":"walker","can_delete":false,"product_type":"c1","uid":1324219,"ip_address":"","ucode":"FA5B2400A53730","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/bb/0b971fca.jpg","comment_is_top":false,"comment_ctime":1550471780,"is_pvip":false,"replies":[{"id":"24375","content":"ä¸­é—´å¤šäº†ä¸€å±‚æ–‡ä»¶ç³»ç»Ÿï¼Œæ–‡ä»¶ç³»ç»Ÿä¹Ÿè¿˜æœ‰ä¸€å±‚ç¼“å­˜","user_name":"ä½œè€…å›å¤","comment_id":68264,"uid":"1001282","ip_address":"","utype":1,"ctime":1550570278,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5845439076","product_id":100020901,"comment_content":"æ–‡ä»¶ç³»ç»Ÿå’Œç£ç›˜çš„IOPSï¼Œå“åº”æ—¶é—´ï¼Œååé‡æœ‰ä»€ä¹ˆåŒºåˆ«å—","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439597,"discussion_content":"ä¸­é—´å¤šäº†ä¸€å±‚æ–‡ä»¶ç³»ç»Ÿï¼Œæ–‡ä»¶ç³»ç»Ÿä¹Ÿè¿˜æœ‰ä¸€å±‚ç¼“å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550570278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64534,"user_name":"holen","can_delete":false,"product_type":"c1","uid":1104199,"ip_address":"","ucode":"2C7D342AFE4DF0","user_header":"https://static001.geekbang.org/account/avatar/00/10/d9/47/247fd305.jpg","comment_is_top":false,"comment_ctime":1548816299,"is_pvip":false,"replies":[{"id":"22983","content":"strace æˆ–è€… blktrace è§‚å¯Ÿ I&#47;O æ˜¯å¦è¿ç»­","user_name":"ä½œè€…å›å¤","comment_id":64534,"uid":"1001282","ip_address":"","utype":1,"ctime":1548943593,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5843783595","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå¦‚ä½•åˆ¤æ–­ç£ç›˜æ˜¯åœ¨ é¡ºåºè¯» è¿˜æ˜¯ éšæœºè¯»ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438054,"discussion_content":"strace æˆ–è€… blktrace è§‚å¯Ÿ I/O æ˜¯å¦è¿ç»­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548943593,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350012,"user_name":"é™Œå…®","can_delete":false,"product_type":"c1","uid":1415619,"ip_address":"","ucode":"00CE47CAECD5CD","user_header":"https://static001.geekbang.org/account/avatar/00/15/99/c3/e4f408d4.jpg","comment_is_top":false,"comment_ctime":1656504239,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1656504239","product_id":100020901,"comment_content":"çœŸä»·å€¼ä¸€ä¸ªäº¿ï¼Œè¿™äº›å®è·µè¯¾å®åœ¨æ˜¯å¤ªç¾ä¸½äº†","like_count":0},{"had_liked":false,"id":339280,"user_name":"Geek_aa159a","can_delete":false,"product_type":"c1","uid":2836926,"ip_address":"","ucode":"4F0A79937839AE","user_header":"","comment_is_top":false,"comment_ctime":1648020970,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648020970","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæƒ³è¯·é—®ä¸€ä¸‹æ–‡ä»¶ioçš„å“åº”æ—¶é—´ï¼ˆå»¶è¿Ÿï¼‰å…·ä½“æ˜¯å“ªä¸€éƒ¨åˆ†æ—¶é—´ï¼Œå¦‚ä½•é€šè¿‡ç³»ç»Ÿè°ƒç”¨ã€åŠ¨æ€è·Ÿè¸ªæˆ–è€…åŸºå‡†æµ‹è¯•ç­‰æ–¹æ³•å»é—´æ¥è§‚å¯Ÿã€è¯„ä¼°å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":242535,"user_name":"Geek_04e22a","can_delete":false,"product_type":"c1","uid":1184505,"ip_address":"","ucode":"B64FF12EA28BA6","user_header":"https://static001.geekbang.org/account/avatar/00/12/12/f9/7e6e3ac6.jpg","comment_is_top":false,"comment_ctime":1597753137,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597753137","product_id":100020901,"comment_content":"ä»¥å‰åˆ†æI&#47;Oæ€§èƒ½é—®é¢˜ä»…å±€é™åˆ°iostatï¼Œç„¶åä¸çŸ¥é“å¦‚ä½•å¾€ä¸‹æŸ¥äº†ã€‚å­¦å†å¥—è·¯ç¯‡ä¹‹åï¼Œæ„Ÿè§‰æ”¶è·é¢‡ä¸°","like_count":0},{"had_liked":false,"id":233326,"user_name":"Geek_06b836","can_delete":false,"product_type":"c1","uid":1987606,"ip_address":"","ucode":"F258DC15B0FD4C","user_header":"","comment_is_top":false,"comment_ctime":1594288245,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594288245","product_id":100020901,"comment_content":"å€ªè€å¸ˆæ‚¨å¥½ï¼Œæœ€è¿‘é¡¹ç›®ä¸­é‡åˆ°ä¸€ä¸ªæ€§èƒ½é—®é¢˜ï¼š<br>ç¯å¢ƒï¼šåµŒå…¥å¼ï¼Œlinux4.14.98 soc  imx8qm<br>ç°è±¡ï¼šåœ¨å¼‚æ­¥å†™æ–‡ä»¶æ—¶ï¼ˆæ¯”å¦‚dd ä¸€ä¸ªæ–‡ä»¶ï¼Œåˆ°æŒ‡å®šè·¯å¾„ä¸‹ï¼‰ï¼Œæ‰§è¡Œlsæˆ–pidofæˆ–è€…è¯»å†™kernelçš„å±æ€§æ–‡ä»¶æ—¶ï¼Œä¼šæœ‰é˜»å¡çš„æƒ…å†µå‘ç”Ÿï¼Œå‘½ä»¤æ‰§è¡Œæ—¶é—´é•¿è¾¾å‡ ç§’é’Ÿã€‚å¦‚æœä½¿ç”¨åŒæ­¥å†™æ–‡ä»¶ï¼Œddæ—¶åŠ ä¸Šoflag s=syncï¼Œå°±ä¸ä¼šå‡ºç°ä¸Šè¿°å‘½ä»¤å¡é¡¿çš„ç°è±¡ã€‚<br>åˆæ­¥ç¡®è®¤åº”è¯¥å’Œæ–‡ä»¶ç³»ç»Ÿæˆ–è€…å†…å­˜æœ‰å…³ï¼Œä½†ä¸çŸ¥é“å…·ä½“ä¸‹ä¸€æ­¥åº”è¯¥å¦‚ä½•ç¡®è®¤ï¼Œè¯·é—®æœ‰æ²¡æœ‰ä»€ä¹ˆæ€è·¯èƒ½ç¡®è®¤ä¸‹é—®é¢˜çš„æ ¹æœ¬åŸå› ï¼Ÿ","like_count":0},{"had_liked":false,"id":225570,"user_name":"æ³¨æ„åŠ›$","can_delete":false,"product_type":"c1","uid":1142316,"ip_address":"","ucode":"7FB3399A1EAB72","user_header":"https://static001.geekbang.org/account/avatar/00/11/6e/2c/e2f3cfc0.jpg","comment_is_top":false,"comment_ctime":1591791346,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1591791346","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå¯¹äºä¸€ä½“æœºæ¥è®²çš„è¯ï¼Œå­˜å‚¨èŠ‚ç‚¹æœ‰å¤šä¸ªï¼Œè¿˜æœ‰è®¡ç®—èŠ‚ç‚¹ï¼Œå½“ioå‡ºç°é—®é¢˜æ—¶ï¼Œæ€ä¹ˆå‡ºå¿«é€Ÿåˆ¤è¯»æ˜¯é‚£å—å‡ºäº†é—®é¢˜","like_count":0},{"had_liked":false,"id":155952,"user_name":"Geek_Frank","can_delete":false,"product_type":"c1","uid":1747257,"ip_address":"","ucode":"163667E63D22D1","user_header":"https://static001.geekbang.org/account/avatar/00/1a/a9/39/fc22b18c.jpg","comment_is_top":false,"comment_ctime":1574781633,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574781633","product_id":100020901,"comment_content":"å¤´ç»ªå¤ªå¤šï¼Œä¸è¿‡è€å¸ˆçœŸçš„å¾ˆç”¨å¿ƒï¼Œæ„Ÿè°¢","like_count":0},{"had_liked":false,"id":131611,"user_name":"é¥­ç²’","can_delete":false,"product_type":"c1","uid":1153455,"ip_address":"","ucode":"4C3220B0D43997","user_header":"https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg","comment_is_top":false,"comment_ctime":1567824812,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567824812","product_id":100020901,"comment_content":"ä»·å€¼æ»¡æ»¡å¥—è·¯ç¯‡ã€‚","like_count":0},{"had_liked":false,"id":76564,"user_name":"å¦‚æœ","can_delete":false,"product_type":"c1","uid":1320638,"ip_address":"","ucode":"138A3EEEE50850","user_header":"","comment_is_top":false,"comment_ctime":1552633113,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552633113","product_id":100020901,"comment_content":"DAY30ï¼Œæ‰“å¡<br>","like_count":0},{"had_liked":false,"id":64728,"user_name":"äºŒä¸‰å­ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1245787,"ip_address":"","ucode":"69C7D86583277D","user_header":"https://static001.geekbang.org/account/avatar/00/13/02/5b/ce326cfc.jpg","comment_is_top":false,"comment_ctime":1548893538,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548893538","product_id":100020901,"comment_content":"Flag<br>2019&#47;01&#47;31","like_count":0},{"had_liked":false,"id":64561,"user_name":"å°è€é¼ ","can_delete":false,"product_type":"c1","uid":1257460,"ip_address":"","ucode":"C663A0C863A515","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/f4/2dede51a.jpg","comment_is_top":false,"comment_ctime":1548822124,"is_pvip":false,"replies":[{"id":"22980","content":"æ˜¯è¯´ blkparse å‘½ä»¤å®‰è£…åæ‰¾ä¸åˆ°å—ï¼Ÿè¿™æ˜¯å®‰è£… blktrace æ—¶è‡ªåŠ¨å°±ä¼šå¸¦çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548943321,"ip_address":"","comment_id":64561,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548822124","product_id":100020901,"comment_content":"ç¬¬ä¸€è¡¨å€’æ•°ç¬¬ä¸‰è¡Œæ²¡æ‰¾åˆ°blkparseå‘½ä»¤","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438073,"discussion_content":"æ˜¯è¯´ blkparse å‘½ä»¤å®‰è£…åæ‰¾ä¸åˆ°å—ï¼Ÿè¿™æ˜¯å®‰è£… blktrace æ—¶è‡ªåŠ¨å°±ä¼šå¸¦çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548943321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64289,"user_name":"æŒºç›´è…°æ¿","can_delete":false,"product_type":"c1","uid":1178397,"ip_address":"","ucode":"B7DD679A3A4EEB","user_header":"https://static001.geekbang.org/account/avatar/00/11/fb/1d/12c7c021.jpg","comment_is_top":false,"comment_ctime":1548734879,"is_pvip":false,"replies":[{"id":"22971","content":"å‘ƒï¼Œä¸èƒ½å­¦åˆ°I&#47;Oå°±å¿˜è®°äº†å†…å­˜å‘€ğŸ˜“ã€‚æ˜¯æ—¶å€™å›å»å¤ä¹ ä¸‹äº†","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548942494,"ip_address":"","comment_id":64289,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1548734879","product_id":100020901,"comment_content":"è€å¸ˆå¥½å…³é—­äº†swapåˆ†åŒºï¼Œè¿˜ä¼šæœ‰è™šæ‹Ÿå†…å­˜å¤§å°","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437943,"discussion_content":"å‘ƒï¼Œä¸èƒ½å­¦åˆ°I/Oå°±å¿˜è®°äº†å†…å­˜å‘€ğŸ˜“ã€‚æ˜¯æ—¶å€™å›å»å¤ä¹ ä¸‹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548942494,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1284474,"avatar":"https://static001.geekbang.org/account/avatar/00/13/99/7a/558666a5.jpg","nickname":"AceslupK","note":"","ucode":"048F84D019CBBB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392409,"discussion_content":"è™šæ‹Ÿå†…å­˜å’Œswapä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ :D","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1630998655,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64288,"user_name":"æŒºç›´è…°æ¿","can_delete":false,"product_type":"c1","uid":1178397,"ip_address":"","ucode":"B7DD679A3A4EEB","user_header":"https://static001.geekbang.org/account/avatar/00/11/fb/1d/12c7c021.jpg","comment_is_top":false,"comment_ctime":1548734696,"is_pvip":false,"replies":[{"id":"22970","content":"å‘ƒï¼Œä¸èƒ½å­¦åˆ°I&#47;Oå°±å¿˜è®°äº†å†…å­˜å‘€ğŸ˜“ã€‚æ˜¯æ—¶å€™å›å»å¤ä¹ ä¸‹äº†","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548942475,"ip_address":"","comment_id":64288,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548734696","product_id":100020901,"comment_content":"è€å¸ˆå…³é—­swapåˆ†åŒºï¼Œä¸ºä»€ä¹ˆpså‘½ä»¤è¿˜æœ‰è™šæ‹Ÿå†…å­˜å¤§å°","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437942,"discussion_content":"å‘ƒï¼Œä¸èƒ½å­¦åˆ°I/Oå°±å¿˜è®°äº†å†…å­˜å‘€ğŸ˜“ã€‚æ˜¯æ—¶å€™å›å»å¤ä¹ ä¸‹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548942475,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64055,"user_name":"æ‰æ‰","can_delete":false,"product_type":"c1","uid":1242373,"ip_address":"","ucode":"94D76106261987","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/05/d6547381.jpg","comment_is_top":false,"comment_ctime":1548651373,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548651373","product_id":100020901,"comment_content":"æ‰“å¡å­¦ä¹ ã€‚","like_count":0},{"had_liked":false,"id":64001,"user_name":"å°è±¹å­","can_delete":false,"product_type":"c1","uid":1346267,"ip_address":"","ucode":"972F3E6BF0FDEA","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/db/76ab84c6.jpg","comment_is_top":false,"comment_ctime":1548639887,"is_pvip":false,"replies":[{"id":"22960","content":"ä¸ä¸€å®šï¼Œå¹¶ä¸æ˜¯è¯´ç£ç›˜æ¯æ¬¡åªèƒ½ä¸€ä¸ªè¯»å†™çš„ï¼Œä¹Ÿæ˜¯å¯ä»¥å¹¶å‘çš„ã€‚ä¸è¿‡å…·ä½“å¹¶å‘çš„æ”¯æŒæƒ…å†µå–å†³äºä½¿ç”¨çš„ç£ç›˜","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548941297,"ip_address":"","comment_id":64001,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1548639887","product_id":100020901,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå¦‚æœæ˜¯oracle racæ¶æ„ï¼Œå¤šä¸ªèŠ‚ç‚¹ä½¿ç”¨ä¸€ä¸ªå…±äº«å­˜å‚¨ï¼Œå¦‚æœä¸¤ä¸ªèŠ‚ç‚¹åŒæ—¶éœ€è¦è®¿é—®å…±äº«ç£ç›˜ï¼Œæ˜¯ä¸æ˜¯å°±æœ‰ä¸€ä¸ªå¿…éœ€ç­‰å¾…ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437802,"discussion_content":"ä¸ä¸€å®šï¼Œå¹¶ä¸æ˜¯è¯´ç£ç›˜æ¯æ¬¡åªèƒ½ä¸€ä¸ªè¯»å†™çš„ï¼Œä¹Ÿæ˜¯å¯ä»¥å¹¶å‘çš„ã€‚ä¸è¿‡å…·ä½“å¹¶å‘çš„æ”¯æŒæƒ…å†µå–å†³äºä½¿ç”¨çš„ç£ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548941297,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1013424,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/76/b0/14fec62f.jpg","nickname":"ä¸äº†å³°","note":"","ucode":"E23B96D6A3D4EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551676,"discussion_content":"ä¼šäº§ç”ŸOracle ä¸­çš„ gcå¼€å¤´çš„ç­‰å¾…äº‹ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645081216,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1443039,"avatar":"","nickname":"åŒ¿åç”¨æˆ·","note":"","ucode":"B2C96C05CFAE1D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1884,"discussion_content":"æˆ‘è§‰å¾—è¿˜æ˜¯è¦è€ƒè™‘åˆ°ç£ç›˜æœ¬èº«çš„æ€§èƒ½å§ å¦‚æœç£ç›˜æœ¬èº«æ€§èƒ½å¾ˆå¥½çš„è¯è¿˜æ˜¯å¯ä»¥holdä½åŒæ—¶è®¿é—®çš„æƒ…å†µçš„ å›åˆ°ä½ è¯´çš„oracle racçš„æ¶æ„ racçš„ç›®çš„å°±æ˜¯é›†ç¾¤æå‡æ€§èƒ½ä¹Ÿå¢å¤§äº†æ‰©å±•æ€§ å¦‚æœåƒä½ è¯´çš„é‚£æ ·åªèƒ½æœ‰ä¸€ä¸ªå¿…é¡»ç­‰å¾…çš„è¯ é‚£ä¹ˆä¹Ÿå°±æ˜¯è¿èƒŒäº†racè®¾ç½®çš„åˆè¡·äº†ï¼ ä¸ªäººè§è§£ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563032203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
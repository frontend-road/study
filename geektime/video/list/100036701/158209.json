{"id":158209,"title":"22 | æºç å‰–æï¼šå¯åŠ¨æœåŠ¡","content":"<p><strong>è¯¾ä»¶å’ŒDemoåœ°å€</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geek_netty\">https://gitee.com/geektime-geekbang/geek_netty</a></p>","comments":[{"had_liked":false,"id":149428,"user_name":"fanhang116","can_delete":false,"product_type":"c3","uid":1069555,"ip_address":"","ucode":"BD59FABFEF5DC6","user_header":"https://static001.geekbang.org/account/avatar/00/10/51/f3/96ae1b38.jpg","comment_is_top":false,"comment_ctime":1573216333,"is_pvip":false,"replies":[{"id":57923,"content":"ä¸‰ç§å¢ƒç•Œå§ï¼Œä¸€æ˜¯èƒ½è§£å†³é—®é¢˜ï¼ŒäºŒæ˜¯è§£å†³é—®é¢˜ä¹‹å¤–è¿˜çŸ¥é“åŸç†ï¼Œä¸‰æ˜¯ä¸ä»…çŸ¥é“åŸç†è¿˜èƒ½è¯´å‡ºæ¥ä¸”è®©åˆ«äººå®¹æ˜“ç†è§£ï¼Œç¬¬ä¸‰ç§å€¼å¾—åŠªåŠ›ç ”ç©¶ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573569009,"ip_address":"","comment_id":149428,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"è®²çš„ä¸æ˜¯å¾ˆå¥½ï¼Œè€å¸ˆè‡ªå·±å¯èƒ½å¾ˆæ¸…æ¥šï¼Œä½†æ˜¯ä¸èƒ½æ·±å…¥æµ…å‡ºçš„è®²å‡ºæ¥ï¼Œä¸ºè®²ä»£ç è€Œè®²ä»£ç ï¼å¦‚ä½•æ·±å…¥æµ…å‡ºçš„è®²å‡ºæ¥éœ€è¦æŠ€å·§ï¼\nè‡ªå·±æ‚Ÿå§","like_count":33,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473860,"discussion_content":"ä¸‰ç§å¢ƒç•Œå§ï¼Œä¸€æ˜¯èƒ½è§£å†³é—®é¢˜ï¼ŒäºŒæ˜¯è§£å†³é—®é¢˜ä¹‹å¤–è¿˜çŸ¥é“åŸç†ï¼Œä¸‰æ˜¯ä¸ä»…çŸ¥é“åŸç†è¿˜èƒ½è¯´å‡ºæ¥ä¸”è®©åˆ«äººå®¹æ˜“ç†è§£ï¼Œç¬¬ä¸‰ç§å€¼å¾—åŠªåŠ›ç ”ç©¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573569009,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2063962,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7e/5a/da39f489.jpg","nickname":"Ethan New","note":"","ucode":"9CA2EF39E58030","race_medal":4,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410457,"discussion_content":"æ˜æ˜¾è‡ªå·±æ°´å¹³æœ‰é™ï¼Œè¿˜æ€ªè€å¸ˆè®²çš„ä¸å¥½ï¼Œå“ˆå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635692636,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":158370,"user_name":"å†ç»­å•¸å‚²","can_delete":false,"product_type":"c3","uid":1360184,"ip_address":"","ucode":"912987A17DCA92","user_header":"https://static001.geekbang.org/account/avatar/00/14/c1/38/e45bbb6b.jpg","comment_is_top":false,"comment_ctime":1575360981,"is_pvip":false,"replies":[{"id":61403,"content":"å› ä¸ºé»˜è®¤æœ‰ä¸€ç‚¹äº†è§£çš„ï¼Œæ‰€ä»¥å¾ˆå¤šç»†èŠ‚ä¸€å¸¦è€Œè¿‡äº†ã€‚è¿™é‡Œè¡¥å……è¯´æ˜ä¸‹ï¼š\nchannel: ä¹Ÿå°±æ˜¯è¿æ¥ï¼›\neventloopï¼šä¸ºè¿æ¥æœåŠ¡çš„æ‰§è¡Œå™¨ï¼Œè¯´ç™½äº†ï¼Œå°±æ˜¯ä¸€ä¸ªæ­»å¾ªç¯ï¼ˆloopï¼‰è½®è®­ã€å¤„ç†channelä¸Šå‘ç”Ÿçš„äº‹ä»¶ï¼ˆeventï¼‰ã€‚ä¸€ä¸ªchannelåªä¼šç»‘å®šåˆ°ä¸€ä¸ªeventloop,ä½†æ˜¯ä¸€ä¸ªeventloopä¸€èˆ¬æœåŠ¡äºå¤šä¸ªchannel.\neventloopgroup: å‡è®¾å°±ä¸€ä¸ªeventloopæœåŠ¡äºæ‰€æœ‰channelï¼Œè‚¯å®šä¼šæœ‰ç“¶é¢ˆï¼Œæ‰€ä»¥æä¸€ä¸ªç»„ï¼Œç›¸å½“äºå¤šçº¿ç¨‹äº†ã€‚\n","user_name":"ä½œè€…å›å¤","user_name_real":"stroller","uid":1638649,"ctime":1576116492,"ip_address":"","comment_id":158370,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"å¬åˆ°è¿™ï¼Œå¯¹äºnettyçš„ä¸€äº›ç»„ä»¶ä¸æ˜¯å¾ˆäº†è§£ï¼Œå°±å¾ˆéš¾è·Ÿä¸Šè¯¾ç¨‹è¿›åº¦ã€‚æ¯”å¦‚channelã€eventloopä¸eventloopgroupçš„å…³ç³»ï¼Œåˆæ¥ä¸ªselectorï¼Œæ„Ÿè§‰å¾ˆæ··ä¹±ã€‚","like_count":28,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476693,"discussion_content":"å› ä¸ºé»˜è®¤æœ‰ä¸€ç‚¹äº†è§£çš„ï¼Œæ‰€ä»¥å¾ˆå¤šç»†èŠ‚ä¸€å¸¦è€Œè¿‡äº†ã€‚è¿™é‡Œè¡¥å……è¯´æ˜ä¸‹ï¼š\nchannel: ä¹Ÿå°±æ˜¯è¿æ¥ï¼›\neventloopï¼šä¸ºè¿æ¥æœåŠ¡çš„æ‰§è¡Œå™¨ï¼Œè¯´ç™½äº†ï¼Œå°±æ˜¯ä¸€ä¸ªæ­»å¾ªç¯ï¼ˆloopï¼‰è½®è®­ã€å¤„ç†channelä¸Šå‘ç”Ÿçš„äº‹ä»¶ï¼ˆeventï¼‰ã€‚ä¸€ä¸ªchannelåªä¼šç»‘å®šåˆ°ä¸€ä¸ªeventloop,ä½†æ˜¯ä¸€ä¸ªeventloopä¸€èˆ¬æœåŠ¡äºå¤šä¸ªchannel.\neventloopgroup: å‡è®¾å°±ä¸€ä¸ªeventloopæœåŠ¡äºæ‰€æœ‰channelï¼Œè‚¯å®šä¼šæœ‰ç“¶é¢ˆï¼Œæ‰€ä»¥æä¸€ä¸ªç»„ï¼Œç›¸å½“äºå¤šçº¿ç¨‹äº†ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576116492,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149833,"user_name":"nsn_huang","can_delete":false,"product_type":"c3","uid":1041796,"ip_address":"","ucode":"D8C6DA6530F3B6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e5/84/4a01e18d.jpg","comment_is_top":false,"comment_ctime":1573397156,"is_pvip":false,"replies":[{"id":57934,"content":"æ˜¯çš„ï¼Œè¦æœ‰è€å¿ƒï¼Œæˆ‘æ‰“ç®—è¯¾ç¨‹ç»“æŸï¼Œæˆ‘ä¹Ÿå†ä»å¤´åˆ°å°¾çœ‹ä¸€éã€‚å“ˆå“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573570368,"ip_address":"","comment_id":149833,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"ä¸€å®šè¦è‡ªå·±æ‰‹åŠ¨debugï¼Œdebugä¹‹åçœ‹è§†é¢‘å°±æ„Ÿè§‰å¾ˆç†Ÿæ‚‰ï¼Œèƒ½å¸æ”¶å¾ˆå¤šå†…å®¹ã€‚çœ‹äº†å¥½å‡ éæ‰ç†è§£ï¼Œè¦æœ‰è€å¿ƒå•Šã€‚","like_count":9,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473992,"discussion_content":"æ˜¯çš„ï¼Œè¦æœ‰è€å¿ƒï¼Œæˆ‘æ‰“ç®—è¯¾ç¨‹ç»“æŸï¼Œæˆ‘ä¹Ÿå†ä»å¤´åˆ°å°¾çœ‹ä¸€éã€‚å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573570368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1655725,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/pTD8nS0SsORKiaRD3wB0NK9Bpd0wFnPWtYLPfBRBhvZ68iaJErMlM2NNSeEibwQfY7GReILSIYZXfT9o8iaicibcyw3g/132","nickname":"é›·åˆš","note":"","ucode":"115FE2BE1AAB61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218897,"discussion_content":"çœ‹æºç  debug ä¸æ˜¯å¾ˆå¥½çš„åŠæ³•ï¼Œå®¹æ˜“è¿·å¤±ã€‚ç‰¹åˆ«æ˜¯ netty ä¸­çš„è°ƒç”¨è¿‡ç¨‹ç¡®å®æœ‰ç‚¹ç»• Channel -> ChannelPipeline -> Channel#Unsafeã€‚è€å¸ˆæ˜¯å¯¹ä»£ç å¾ˆç†Ÿæ‚‰ï¼Œä¸€èˆ¬äººåˆšæ¥è§¦çš„è¯ï¼Œå¾€å¾€ä¸€ debug å°±é™·å…¥ç»†èŠ‚ï¼Œçœ‹æºç è¿˜æ˜¯æŠ“ä½ä¸»çº¿çœ‹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585711902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1041796,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/e5/84/4a01e18d.jpg","nickname":"nsn_huang","note":"","ucode":"D8C6DA6530F3B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1655725,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/pTD8nS0SsORKiaRD3wB0NK9Bpd0wFnPWtYLPfBRBhvZ68iaJErMlM2NNSeEibwQfY7GReILSIYZXfT9o8iaicibcyw3g/132","nickname":"é›·åˆš","note":"","ucode":"115FE2BE1AAB61","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":219519,"discussion_content":"å¤šè°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585757316,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":218897,"ip_address":"","group_id":0},"score":219519,"extra":""}]}]},{"had_liked":false,"id":155523,"user_name":"13761642169","can_delete":false,"product_type":"c3","uid":1232334,"ip_address":"","ucode":"68137695FC2120","user_header":"","comment_is_top":false,"comment_ctime":1574695422,"is_pvip":false,"replies":[{"id":59709,"content":"ä½ è¯´çš„å¤ªå¯¹äº†ï¼hadoopçš„web hdfs httpæœåŠ¡å™¨å°±ç»‘å®šäº†ä¸¤ä¸ªç«¯å£ã€‚ä¸è®°å¾—åé¢çš„è¯¾ç¨‹æœ‰æ²¡æœ‰æï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ç›´æ¥å‘Šè¯‰ä½ è¿™æ ·çš„æ¡ˆä¾‹ï¼Œè°¢è°¢","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1574736881,"ip_address":"","comment_id":155523,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"å¿½ç„¶æƒ³åˆ°ï¼Œserver ç»‘å®šå¤šä¸ªç«¯å£çš„æƒ…å†µï¼Œæ˜¯ä¸æ˜¯å°±ç”¨åˆ° bossGroup å¤šä¸ªçº¿ç¨‹äº†ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475783,"discussion_content":"ä½ è¯´çš„å¤ªå¯¹äº†ï¼hadoopçš„web hdfs httpæœåŠ¡å™¨å°±ç»‘å®šäº†ä¸¤ä¸ªç«¯å£ã€‚ä¸è®°å¾—åé¢çš„è¯¾ç¨‹æœ‰æ²¡æœ‰æï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ç›´æ¥å‘Šè¯‰ä½ è¿™æ ·çš„æ¡ˆä¾‹ï¼Œè°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574736881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":153419,"user_name":"å¤éœ²","can_delete":false,"product_type":"c3","uid":1387796,"ip_address":"","ucode":"6B923C3543BE3E","user_header":"https://static001.geekbang.org/account/avatar/00/15/2d/14/7c050e45.jpg","comment_is_top":false,"comment_ctime":1574233319,"is_pvip":false,"replies":[{"id":59045,"content":"æ˜¯çš„ï¼Œæ²¡æœ‰ç”¨ï¼Œåˆ¤æ–­æœ‰æ²¡æœ‰ç”¨çš„æ ‡å‡†ï¼Œå°±æ˜¯çœ‹ç»‘å®šçš„ç«¯å£å¤šå°‘ï¼ŒåƒæœåŠ¡å™¨ï¼Œä¸€èˆ¬éƒ½ç»‘å®šä¸€ä¸ªåœ°å€å¯åŠ¨ï¼Œæ¯”å¦‚8080ï¼Œæ‰€ä»¥å…¶ä»–çš„çš„ç”¨ä¸åˆ°ï¼Œä½†æ˜¯ä½ ç»‘å®š2ä¸ªç«¯å£èµ·å¯åŠ¨å°±ä¼šç”¨åˆ°äº†ï¼Œæ¯”å¦‚ä¸€ä¸ªç»‘å®š8080ï¼Œä¸€ä¸ªç»‘å®š443.","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1574300279,"ip_address":"","comment_id":153419,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"è€å¸ˆå¸®æˆ‘å›ç­”ä¸€ä¸ªé—®é¢˜ï¼Œ æ¯”å¦‚è¯´æˆ‘ä¸€ä¸ªbossgroupæœ‰8ä¸ªçº¿ç¨‹ï¼Œ åœ¨å¯åŠ¨è¿‡ç¨‹ä¸­ï¼Œ åˆå§‹åŒ–äº†8ä¸ªNioEventGroupä½œä¸ºexecutorï¼Œ æ³¨å†Œserversocketchannelçš„æ—¶å€™é‡‡ç”¨power(2)æ–¹å¼é€‰æ‹©äº†å…¶ä¸­1ä¸ª, ç„¶åç»‘å®šäº†serversocketchannelï¼Œ é—®é¢˜æ˜¯å…¶ä»–7ä¸ªNioEventGroupæ˜¯ä¸æ˜¯æ²¡æœ‰ç”¨ï¼Ÿå¦‚æœæœ‰ç”¨ï¼Œç”¨æ¥å¹²å˜›ï¼Ÿ ","like_count":5,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475157,"discussion_content":"æ˜¯çš„ï¼Œæ²¡æœ‰ç”¨ï¼Œåˆ¤æ–­æœ‰æ²¡æœ‰ç”¨çš„æ ‡å‡†ï¼Œå°±æ˜¯çœ‹ç»‘å®šçš„ç«¯å£å¤šå°‘ï¼ŒåƒæœåŠ¡å™¨ï¼Œä¸€èˆ¬éƒ½ç»‘å®šä¸€ä¸ªåœ°å€å¯åŠ¨ï¼Œæ¯”å¦‚8080ï¼Œæ‰€ä»¥å…¶ä»–çš„çš„ç”¨ä¸åˆ°ï¼Œä½†æ˜¯ä½ ç»‘å®š2ä¸ªç«¯å£èµ·å¯åŠ¨å°±ä¼šç”¨åˆ°äº†ï¼Œæ¯”å¦‚ä¸€ä¸ªç»‘å®š8080ï¼Œä¸€ä¸ªç»‘å®š443.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574300279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147874,"user_name":"äº¤å‰è·¯å£","can_delete":false,"product_type":"c3","uid":1125680,"ip_address":"","ucode":"D1A636F0F4E147","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/30/b840bd9e.jpg","comment_is_top":false,"comment_ctime":1572916397,"is_pvip":false,"replies":[{"id":57235,"content":"å…¶å®åº”è¯¥ä¸€å£æ°”æŠŠä¸ƒä¸ªå·¥åºéƒ½è¯»äº†ï¼Œå¯èƒ½å°±æ¸…æ™°å¤šäº†ï¼Œå›å¤´æˆ‘ä¹Ÿç”»å¼ å›¾ï¼Œå†ç»™å¤§å®¶ä¸²ä¸²ï¼Œç„¶ååˆ°æ—¶å€™(æ›´æ–°å®Œåæˆ‘é›†ä¸­æŠŠæ‰€æœ‰é—®é¢˜éƒ½å¤„ç†)åšä¸ªå¸¸è§é—®é¢˜å°å†Œå­ç»™ä½ ä»¬ã€‚æœ€è¿‘åœ¨åšè¯¾ç¨‹ï¼Œå¾ˆå¤šé—®é¢˜æ²¡æ¥å¾—åŠå›å¤ï¼Œä¸å¥½æ„æ€","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573047162,"ip_address":"","comment_id":147874,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"è€å¸ˆï¼Œçœ‹å®Œè§†é¢‘åæ„Ÿè§‰ç†è§£ä¸æ˜¯å¾ˆå¥½ï¼Œèƒ½ä¸èƒ½ç”»ä¸ªå›¾è®²è§£ä¸€ä¸‹ï¼Ÿæ¯”å¦‚ä¸€ä¸ªè¯·æ±‚è¿‡æ¥ç»è¿‡å„ä¸ªç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶æ‰€åšçš„äº‹æƒ…éƒ½ç”»å‡ºæ¥ï¼Œè¿™æ ·å†ç»“åˆæºç å»çœ‹ä¼šæ•ˆæœæ¯”è¾ƒå¥½ï¼Œä¸ç„¶å¬å®Œæºç è§£æï¼Œæ„Ÿè§‰å¹¶æ²¡æœ‰ç†è§£é€å•Š","like_count":5,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473327,"discussion_content":"å…¶å®åº”è¯¥ä¸€å£æ°”æŠŠä¸ƒä¸ªå·¥åºéƒ½è¯»äº†ï¼Œå¯èƒ½å°±æ¸…æ™°å¤šäº†ï¼Œå›å¤´æˆ‘ä¹Ÿç”»å¼ å›¾ï¼Œå†ç»™å¤§å®¶ä¸²ä¸²ï¼Œç„¶ååˆ°æ—¶å€™(æ›´æ–°å®Œåæˆ‘é›†ä¸­æŠŠæ‰€æœ‰é—®é¢˜éƒ½å¤„ç†)åšä¸ªå¸¸è§é—®é¢˜å°å†Œå­ç»™ä½ ä»¬ã€‚æœ€è¿‘åœ¨åšè¯¾ç¨‹ï¼Œå¾ˆå¤šé—®é¢˜æ²¡æ¥å¾—åŠå›å¤ï¼Œä¸å¥½æ„æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573047162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":146275,"user_name":"é±¼å‘åŒ—æ¸¸","can_delete":false,"product_type":"c3","uid":1439908,"ip_address":"","ucode":"580EC7DCE57E9A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/IPdZZXuHVMibwfZWmm7NiawzeEFGsaRoWjhuN99iaoj5amcRkiaOePo6rH1KJ3jictmNlic4OibkF4I20vOGfwDqcBxfA/132","comment_is_top":false,"comment_ctime":1572487646,"is_pvip":false,"replies":[{"id":57863,"content":"åé¢æœ‰ï¼Œåœ¨ä¸šåŠ¡å¤„ç†é‚£å—ï¼Œå¦‚æœåˆ°æ—¶å€™å“ªé‡Œä¸æ¸…æ¥šï¼Œå¯ä»¥ç•™è¨€ï¼Œè°¢è°¢ã€‚\n\nè¿™é‡Œå¯ä»¥ç®€å•è¯´è¯´ï¼špipelineå…¶å®å°±åƒå·¥å‚çš„ç”Ÿäº§çº¿ï¼Œä¸Šé¢æœ‰å¾ˆå¤šé“å·¥åºï¼ˆchannel handlerï¼‰ï¼Œç„¶åè¿™ä¸ªäº§çº¿çš„å¼€å§‹å°±æ˜¯æ¥å—åˆ°çš„åŸå§‹æ•°æ®ï¼Œæœ€ç»ˆæŠŠäº§å“åŠ å·¥ï¼Œå¤„ç†å®Œï¼Œæ‰“åŒ…å‡ºå»å°±ç»“æŸäº†ï¼Œæœ¬èº«è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œæ‰©å±•æ€§å°±åœ¨äºè¿™äº›å·¥åºå¯ä»¥éšæ„å®šåˆ¶ï¼Œæˆ‘ä»¬åŸºäºnettyå¼€å‘å®é™…ä¸Šå°±æ˜¯å†™è¿™äº›å·¥åºï¼Œç„¶åæœ‰åºç»„ç»‡èµ·æ¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573549239,"ip_address":"","comment_id":146275,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"è¯·é—®è€å¸ˆ ä»¥åä¼šè®²pipelineè¿™å—å— ","like_count":4,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472777,"discussion_content":"åé¢æœ‰ï¼Œåœ¨ä¸šåŠ¡å¤„ç†é‚£å—ï¼Œå¦‚æœåˆ°æ—¶å€™å“ªé‡Œä¸æ¸…æ¥šï¼Œå¯ä»¥ç•™è¨€ï¼Œè°¢è°¢ã€‚\n\nè¿™é‡Œå¯ä»¥ç®€å•è¯´è¯´ï¼špipelineå…¶å®å°±åƒå·¥å‚çš„ç”Ÿäº§çº¿ï¼Œä¸Šé¢æœ‰å¾ˆå¤šé“å·¥åºï¼ˆchannel handlerï¼‰ï¼Œç„¶åè¿™ä¸ªäº§çº¿çš„å¼€å§‹å°±æ˜¯æ¥å—åˆ°çš„åŸå§‹æ•°æ®ï¼Œæœ€ç»ˆæŠŠäº§å“åŠ å·¥ï¼Œå¤„ç†å®Œï¼Œæ‰“åŒ…å‡ºå»å°±ç»“æŸäº†ï¼Œæœ¬èº«è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œæ‰©å±•æ€§å°±åœ¨äºè¿™äº›å·¥åºå¯ä»¥éšæ„å®šåˆ¶ï¼Œæˆ‘ä»¬åŸºäºnettyå¼€å‘å®é™…ä¸Šå°±æ˜¯å†™è¿™äº›å·¥åºï¼Œç„¶åæœ‰åºç»„ç»‡èµ·æ¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573549239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":171690,"user_name":"yihang","can_delete":false,"product_type":"c3","uid":1012361,"ip_address":"","ucode":"A5506F085D1793","user_header":"https://static001.geekbang.org/account/avatar/00/0f/72/89/1a83120a.jpg","comment_is_top":false,"comment_ctime":1578992101,"is_pvip":false,"replies":[{"id":66657,"content":"io.netty.channel.ChannelInitializerï¼šé‡Œé¢åœ¨æ‰§è¡Œå®Œåï¼Œæœ‰è¿™æ ·ä¸€å¥ï¼š\npipeline.remove(this);\nå°±æ˜¯è¿™å¥ç§»é™¤æ‰è‡ªå·±çš„ã€‚\n\nprivate boolean initChannel(ChannelHandlerContext ctx) throws Exception {\n        if (initMap.add(ctx)) { &#47;&#47; Guard against re-entrance.\n            try {\n                initChannel((C) ctx.channel());\n            } catch (Throwable cause) {\n                &#47;&#47; Explicitly call exceptionCaught(...) as we removed the handler before calling initChannel(...).\n                &#47;&#47; We do so to prevent multiple calls to initChannel(...).\n                exceptionCaught(ctx, cause);\n            } finally {\n                ChannelPipeline pipeline = ctx.pipeline();\n                if (pipeline.context(this) != null) {\n                    pipeline.remove(this);\n                }\n            }\n            return true;\n        }\n        return false;\n    }","user_name":"ä½œè€…å›å¤","user_name_real":"stroller","uid":1638649,"ctime":1579053684,"ip_address":"","comment_id":171690,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"åŸºæœ¬æ¸…æ¥šäº†ï¼Œéœ€è¦å¯¹nioæœ‰ä¸€å®šæŒæ¡ã€‚ä¸€äº›ç»†èŠ‚è‡ªå·±ä¸‹å»å†çœ‹ã€‚å¦å¤–ï¼Œchannelnitializer åœ¨å“ªé‡Œèƒ½çœ‹åˆ°æ˜¯ä¸€æ¬¡æ€§çš„ï¼Ÿæ²¡çœ‹åˆ°åœ¨å“ªé‡Œç§»é™¤çš„ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481472,"discussion_content":"io.netty.channel.ChannelInitializerï¼šé‡Œé¢åœ¨æ‰§è¡Œå®Œåï¼Œæœ‰è¿™æ ·ä¸€å¥ï¼š\npipeline.remove(this);\nå°±æ˜¯è¿™å¥ç§»é™¤æ‰è‡ªå·±çš„ã€‚\n\nprivate boolean initChannel(ChannelHandlerContext ctx) throws Exception {\n        if (initMap.add(ctx)) { // Guard against re-entrance.\n            try {\n                initChannel((C) ctx.channel());\n            } catch (Throwable cause) {\n                // Explicitly call exceptionCaught(...) as we removed the handler before calling initChannel(...).\n                // We do so to prevent multiple calls to initChannel(...).\n                exceptionCaught(ctx, cause);\n            } finally {\n                ChannelPipeline pipeline = ctx.pipeline();\n                if (pipeline.context(this) != null) {\n                    pipeline.remove(this);\n                }\n            }\n            return true;\n        }\n        return false;\n    }","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579053684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1151978,"avatar":"https://static001.geekbang.org/account/avatar/00/11/93/ea/071fa8bf.jpg","nickname":"lisong","note":"","ucode":"B8018C53FD091C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300932,"discussion_content":"æˆ‘ç–‘é—®çš„ä¹Ÿæ˜¯è¿™ç‚¹,æ²¡æƒ³åˆ°æœ‰äººå¸®é—®äº† å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598326221,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1012361,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/72/89/1a83120a.jpg","nickname":"yihang","note":"","ucode":"A5506F085D1793","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":134889,"discussion_content":"æ„Ÿè°¢ğŸ™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579053823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147083,"user_name":"å¤§è±¡ä½©å¥‡","can_delete":false,"product_type":"c3","uid":1070165,"ip_address":"","ucode":"EAFB4FA3B9CFEF","user_header":"https://static001.geekbang.org/account/avatar/00/10/54/55/f686c2ed.jpg","comment_is_top":false,"comment_ctime":1572790070,"is_pvip":false,"replies":[{"id":57927,"content":"ä¸æ‡‚ä¹Ÿæ²¡æœ‰å…³ç³»ï¼ŒæŠ“ä½ä¸»çº¿å’Œæœ¬è´¨å°±è¡Œäº†ï¼Œå› ä¸ºç»†èŠ‚å°±ç®—æ‡‚äº†ï¼Œè¿‡æ®µæ—¶é—´ä¹Ÿå¿˜è®°äº†ï¼Œç„¶åå¦å¤–ï¼Œå¦‚æœpptä¸Šçš„ä¸»çº¿å’Œæœ¬è´¨ä¸æ‡‚çš„è¯ï¼Œé‚£å¯èƒ½è¦è¡¥ä¸‹ç›¸å…³çš„çŸ¥è¯†ã€‚åŠ æ²¹ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573569462,"ip_address":"","comment_id":147083,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"æ¯æ¬¡å¬è€å¸ˆè§£è¯»æºç éƒ½æ™•æ™•çš„ï¼Œæ˜¯æˆ‘å¤ªèœè¿˜æ˜¯å¤§å®¶éƒ½è¿™æ ·","like_count":3,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473135,"discussion_content":"ä¸æ‡‚ä¹Ÿæ²¡æœ‰å…³ç³»ï¼ŒæŠ“ä½ä¸»çº¿å’Œæœ¬è´¨å°±è¡Œäº†ï¼Œå› ä¸ºç»†èŠ‚å°±ç®—æ‡‚äº†ï¼Œè¿‡æ®µæ—¶é—´ä¹Ÿå¿˜è®°äº†ï¼Œç„¶åå¦å¤–ï¼Œå¦‚æœpptä¸Šçš„ä¸»çº¿å’Œæœ¬è´¨ä¸æ‡‚çš„è¯ï¼Œé‚£å¯èƒ½è¦è¡¥ä¸‹ç›¸å…³çš„çŸ¥è¯†ã€‚åŠ æ²¹ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573569462,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":146161,"user_name":"å°å°å¾","can_delete":false,"product_type":"c3","uid":1358930,"ip_address":"","ucode":"335380EFE0FC61","user_header":"https://static001.geekbang.org/account/avatar/00/14/bc/52/52745d32.jpg","comment_is_top":false,"comment_ctime":1572443646,"is_pvip":false,"replies":[{"id":59086,"content":"1 å› ä¸ºæ‰€æœ‰çš„pipelineéƒ½æ˜¯ä»¥headå¼€å§‹ï¼Œä»¥tailç»“æŸã€‚æ‰€ä»¥æ¼”ç¤ºçš„æ—¶å€™ï¼Œæˆ‘çŸ¥é“æ ¸å¿ƒé€»è¾‘åœ¨headä¸­ï¼Œæ‰€ä»¥ä¸ºäº†èŠ‚çœè·³è½¬æ—¶é—´ï¼Œç›´æ¥å®šä½åˆ°æœ€åäº†ã€‚\n2 æ˜¯çš„ï¼Œå¯åŠ¨åï¼Œå°±activeäº†ã€‚\n3 æ²¡æœ‰OP_ACTIVE,æ³¨å†Œçš„æ˜¯readInterestOpï¼Œå¦‚æœæ˜¯ServerSocketChannelï¼Œå°±æ˜¯æŒ‡OP_ACCEPT,ä¹Ÿå°±æ˜¯16.\n4 16ä»£è¡¨acceptï¼Œè¡¨ç¤ºå¼€å§‹ç›‘å¬è¿æ¥è¯·æ±‚çš„äº‹ä»¶äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1574306551,"ip_address":"","comment_id":146161,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"è€å¸ˆæƒ³è¯·æ•™å‡ ä¸ªé—®é¢˜ï¼š\n1.pipelineè¿™å—æœ‰ç‚¹ä¸å¤ªæ˜ç™½ï¼Ÿä¸ºä»€ä¹ˆç›´æ¥å®šä½åˆ°headï¼Ÿ\n2.active çŠ¶æ€æ˜¯ä¸æ˜¯åšä¸ºchannel bindåœ°å€å’Œç«¯å£å®Œæˆçš„ä¸€ç§çŠ¶æ€ï¼Ÿ\n3.selectionKey.interestOps(interestOps | readInterestOp); è¿™æ®µä»£ç ä»£è¡¨äº† æ³¨å†ŒOP_ACTIVEå—ï¼Ÿå¹¶æ²¡æœ‰çœ‹åˆ°æ ‡è¯†åˆ«å•Š\n4.readInterestOp è¿™ä¸ªå­—æ®µä¸º16æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472731,"discussion_content":"1 å› ä¸ºæ‰€æœ‰çš„pipelineéƒ½æ˜¯ä»¥headå¼€å§‹ï¼Œä»¥tailç»“æŸã€‚æ‰€ä»¥æ¼”ç¤ºçš„æ—¶å€™ï¼Œæˆ‘çŸ¥é“æ ¸å¿ƒé€»è¾‘åœ¨headä¸­ï¼Œæ‰€ä»¥ä¸ºäº†èŠ‚çœè·³è½¬æ—¶é—´ï¼Œç›´æ¥å®šä½åˆ°æœ€åäº†ã€‚\n2 æ˜¯çš„ï¼Œå¯åŠ¨åï¼Œå°±activeäº†ã€‚\n3 æ²¡æœ‰OP_ACTIVE,æ³¨å†Œçš„æ˜¯readInterestOpï¼Œå¦‚æœæ˜¯ServerSocketChannelï¼Œå°±æ˜¯æŒ‡OP_ACCEPT,ä¹Ÿå°±æ˜¯16.\n4 16ä»£è¡¨acceptï¼Œè¡¨ç¤ºå¼€å§‹ç›‘å¬è¿æ¥è¯·æ±‚çš„äº‹ä»¶äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574306551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1259280,"avatar":"https://static001.geekbang.org/account/avatar/00/13/37/10/a8aa9acb.jpg","nickname":"jzdayz","note":"","ucode":"E84C0DFC53BE8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":42030,"discussion_content":"1:   é»˜è®¤çš„ DefaultChannelPipeline ä¼šè®¾ç½®headä¸ºHeadContext\n2:   æ˜¯çš„\n3: readInterestOpæ˜¯åœ¨NioServerSocketChannelæ„é€ å‡½æ•°å›ºå®šè®¾ç½®ä¸ºSelectionKey.OP_ACTIVEçš„å€¼\n4: 16å°±æ˜¯SelectionKey.OP_ACTIVE","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572574152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":182726,"user_name":"ä¸€æ¡è‚¥é±¼","can_delete":false,"product_type":"c3","uid":1161009,"ip_address":"","ucode":"660FCC0FDD057E","user_header":"https://static001.geekbang.org/account/avatar/00/11/b7/31/4e7d7807.jpg","comment_is_top":false,"comment_ctime":1582856440,"is_pvip":false,"replies":[{"id":78835,"content":"æ˜¯çš„ï¼Œè§†é¢‘èŠ‚å¥å¾ˆå¿«ï¼Œä¸€èˆ¬æˆ‘ä»¬è¿˜åŠ é€Ÿ1.25å€çš„è¯ï¼Œçœ‹èµ·æ¥æ›´å¿«ï¼Œä½†æ˜¯çœŸè¦æ·±å…¥ç†è§£ï¼Œè¿˜æ˜¯è‡ªå·±åšä¸€éæ¯”è¾ƒå¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"stroller","uid":1638649,"ctime":1588056867,"ip_address":"","comment_id":182726,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"è§†é¢‘èŠ‚å¥ç¡®å®å¾ˆå¿«ï¼Œä¸€å®šè¦è‡ªå·±èµ°ä¸€éä»£ç ï¼Œå¹¶ä¸”è·Ÿä¸€äº›ä½œè€…è·³è¿‡å»çš„ä»£ç ï¼Œç„¶åå†ç»“åˆè§†é¢‘çœ‹ï¼Œä¼šæ›´æœ‰ä½“ä¼šä¸€äº›ã€‚","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485430,"discussion_content":"æ˜¯çš„ï¼Œè§†é¢‘èŠ‚å¥å¾ˆå¿«ï¼Œä¸€èˆ¬æˆ‘ä»¬è¿˜åŠ é€Ÿ1.25å€çš„è¯ï¼Œçœ‹èµ·æ¥æ›´å¿«ï¼Œä½†æ˜¯çœŸè¦æ·±å…¥ç†è§£ï¼Œè¿˜æ˜¯è‡ªå·±åšä¸€éæ¯”è¾ƒå¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588056867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":148753,"user_name":"é£ç¿”","can_delete":false,"product_type":"c3","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1573074824,"is_pvip":false,"replies":[{"id":57925,"content":"æ˜¯çš„ï¼Œå¯åŠ¨çš„æ—¶å€™æ˜¯è¿™ä¸ªï¼Œå»ºç«‹è¿æ¥çš„æ—¶å€™ï¼Œå°±æ˜¯nio socket channeläº†ï¼Œæ³¨æ„åŒºåˆ†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1573569113,"ip_address":"","comment_id":148753,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100036701,"comment_content":" selectionKey = javaChannel().register(eventLoop().unwrappedSelector(), 0, this);\n\nè€å¸ˆ è¿™é‡Œçš„this æ˜¯nioserversocketchannel æ˜¯å§","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473596,"discussion_content":"æ˜¯çš„ï¼Œå¯åŠ¨çš„æ—¶å€™æ˜¯è¿™ä¸ªï¼Œå»ºç«‹è¿æ¥çš„æ—¶å€™ï¼Œå°±æ˜¯nio socket channeläº†ï¼Œæ³¨æ„åŒºåˆ†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573569113,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":148750,"user_name":"é£ç¿”","can_delete":false,"product_type":"c3","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1573074171,"is_pvip":false,"replies":[{"id":59057,"content":"å¯ä»¥æ˜¯NioEventLoopGroupï¼Œä¹Ÿå¯ä»¥æ˜¯åˆ«çš„ï¼ˆä¾‹å¦‚EpollEventLoopGroupï¼‰ï¼Œè¯¾ç¨‹é‡Œé¢è¯´çš„éƒ½æ˜¯å‰è€…ï¼Œå®ç°executeåœ¨io.netty.util.concurrent.AbstractEventExecutorGroup#execute","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_9bc307","uid":1638649,"ctime":1574301535,"ip_address":"","comment_id":148750,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"è€å¸ˆ åœ¨abstractChannelé‡Œè¾¹ registeræ–¹æ³•é‡Œè¾¹æœ‰\neventLoop.execute(new Runnable() {\n                        @Override\n                        public void run() {\n                            register0(promise);\n                        }\n                    });\n\neventloop æ˜¯å“ªä¸ªç±»å‘€ï¼Œè¿˜æœ‰åœ¨å“ªé‡Œå†™äº†executeæ–¹æ³•","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473594,"discussion_content":"å¯ä»¥æ˜¯NioEventLoopGroupï¼Œä¹Ÿå¯ä»¥æ˜¯åˆ«çš„ï¼ˆä¾‹å¦‚EpollEventLoopGroupï¼‰ï¼Œè¯¾ç¨‹é‡Œé¢è¯´çš„éƒ½æ˜¯å‰è€…ï¼Œå®ç°executeåœ¨io.netty.util.concurrent.AbstractEventExecutorGroup#execute","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574301535,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":246943,"user_name":"æ— äº‰å°±æ˜¯yk","can_delete":false,"product_type":"c3","uid":1019128,"ip_address":"","ucode":"8739E996ACD746","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/f8/d378c121.jpg","comment_is_top":false,"comment_ctime":1599535672,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"p.addLast(new ChannelInitializer&lt;Channel&gt;() { ä¸­å¯¹ pipeline æ·»åŠ ServerBootstrapAcceptor ä¸ºä»€ä¹ˆè¦é€šè¿‡ch.eventLoop().execute æ¥æ“ä½œï¼Œè€Œä¸æ˜¯è·Ÿä¸Šä¸€æ­¥ä¸€æ ·åŒæ­¥è°ƒç”¨pipeline.addLast(handler) ã€‚","like_count":4},{"had_liked":false,"id":308253,"user_name":"äººæœˆèŠIT","can_delete":false,"product_type":"c3","uid":1358609,"ip_address":"","ucode":"FDC7A0C6E08B02","user_header":"https://static001.geekbang.org/account/avatar/00/14/bb/11/28d86278.jpg","comment_is_top":false,"comment_ctime":1629473808,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"çœ‹ä¸æ‡‚çš„åŒå­¦ä»¬ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹å°å¼Ÿçš„æ–‡ç«  ã€‚ æ¬¢è¿æ‹ç –     https:&#47;&#47;blog.csdn.net&#47;dgutliangxuan&#47;article&#47;details&#47;119605060","like_count":3},{"had_liked":false,"id":175975,"user_name":"fomy","can_delete":false,"product_type":"c3","uid":1125834,"ip_address":"","ucode":"CD87EA03B1F327","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/ca/02b0e397.jpg","comment_is_top":false,"comment_ctime":1580897009,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"è€å¸ˆï¼Œé¼ æ ‡ç‚¹è¿›å»å°±debugåˆ°é‚£ä¸ªåœ°æ–¹ï¼Œæ€ä¹ˆåšåˆ°çš„ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1024294,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","nickname":"null","note":"","ucode":"F9039EFED6B55D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":320634,"discussion_content":"Run to Cursor ï¼ˆ è¿è¡Œåˆ°å½“å‰å…‰æ ‡æŒ‡å®šå¤„ï¼Œ ä¸ç”¨æ‰“æ–­ç‚¹å°±è¡Œï¼‰ä¸¤ç§æ–¹å¼ï¼š\n1. å¯ä»¥ä½¿ç”¨å¿«æ·é”®ï¼ˆwindowsï¼šAlt + F9ï¼Œmacï¼šoption + F9ã€‚\n2. ç‚¹å‡»è¡Œå·ã€‚ï¼ˆæŸ¥æ‰¾ Actionï¼šèœå•æ  - Help - Find Actionï¼Œè¾“å…¥â€œclick line number to perform run to cursorâ€ï¼Œå›è½¦ï¼Œå‹¾é€‰è¯¥é¡¹ï¼‰","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1604417242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308260,"user_name":"äººæœˆèŠIT","can_delete":false,"product_type":"c3","uid":1358609,"ip_address":"","ucode":"FDC7A0C6E08B02","user_header":"https://static001.geekbang.org/account/avatar/00/14/bb/11/28d86278.jpg","comment_is_top":false,"comment_ctime":1629478358,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"æœ‰ä¸€å®šåŸºç¡€çš„äººæ¥çœ‹ä¼šæ¯”è¾ƒå¥½","like_count":1},{"had_liked":false,"id":228566,"user_name":"å¾æ™“èµ«","can_delete":false,"product_type":"c3","uid":1564573,"ip_address":"","ucode":"0E89DAE571D9AB","user_header":"https://static001.geekbang.org/account/avatar/00/17/df/9d/ec6f6f93.jpg","comment_is_top":false,"comment_ctime":1592737221,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"è¿™ç¯‡æ–‡ç« å¯¹ç†è§£è¿™ä¸ªè¯¾å¾ˆæœ‰ç”¨ï¼šhttp:&#47;&#47;ifeve.com&#47;selectors&#47;","like_count":1},{"had_liked":false,"id":212768,"user_name":"å¿ƒæµ®å¤©ç©º","can_delete":false,"product_type":"c3","uid":1051609,"ip_address":"","ucode":"3B2D0E6CC51EE6","user_header":"https://static001.geekbang.org/account/avatar/00/10/0b/d9/3328dd12.jpg","comment_is_top":false,"comment_ctime":1588208795,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"æŒ‰ç…§è€å¸ˆçš„æ€è·¯DEBUGå¯åŠ¨æºç æ—¶å‘ç°, åœ¨ bind è¿‡ç¨‹ä¸­è°ƒç”¨äº† pipeline.bind å‡½æ•°, è€Œ pipeline.bind è°ƒç”¨äº† tail.bind å‡½æ•°, åœ¨ DefaultChannelPipeline å…·ä½“å®ç°\n@Override\npublic final ChannelFuture bind(SocketAddress localAddress, ChannelPromise promise) {\n    return tail.bind(localAddress, promise);\n}\n\nåŒ…æ‹¬åé¢å®Œæˆç»‘å®šååœ¨ channelActive äº‹ä»¶ä¸­è§¦å‘ read å®Œæˆ OP_ACCEPT æ³¨å†Œ, ä¹Ÿæ˜¯è°ƒç”¨çš„ tail.read å‡½æ•°ï¼Œä¸æ˜ç™½ä¸ºä»€ä¹ˆä¸æ˜¯è°ƒç”¨ head.bind å’Œ head.read å‡½æ•°, å¸Œæœ›è€å¸ˆè§£ç­”ã€‚","like_count":1},{"had_liked":false,"id":180101,"user_name":"è¾‰ç…Œç å†œ","can_delete":false,"product_type":"c3","uid":1332799,"ip_address":"","ucode":"09779C2E06EA52","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIy5ULaodUwsLoPuk1wd22hqXsaBbibNEqXM0kgrCTYDGKYQkZICYEyH9wMj4hyUicuQwHdDuOKRj0g/132","comment_is_top":false,"comment_ctime":1582186992,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100036701,"comment_content":"è€å¸ˆï¼Œä¸ºä»€ä¹ˆä¸è·å–åˆ°selectionKeyå°±ç«‹å³æ³¨å†ŒOP_ACCEPTäº‹ä»¶å•Šï¼Œå¹²å˜›è¦ç»•ä¸€å¤§åœˆï¼Œè¿˜æå¼‚æ­¥çš„æ–¹å¼æ¥æ³¨å†Œå‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":2817744,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/fe/d0/5d32abf3.jpg","nickname":"0xEFBFBD","note":"","ucode":"61F87C0537D064","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609648,"discussion_content":"æˆ‘ä¹Ÿæœ‰è¿™æ ·çš„ç–‘é—®ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥æ³¨å†ŒACCEPTå‘¢ï¼Œæ—©æ™šéƒ½è¦æ³¨å†Œã€‚å…ˆæ³¨å†Œä¸€ä¸ª0åç»­å†å¾€ä¸ŠåŠ æ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679066689,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145978,"user_name":"å°ä¸ç‚¹","can_delete":false,"product_type":"c3","uid":1351860,"ip_address":"","ucode":"C307D44A185C34","user_header":"https://static001.geekbang.org/account/avatar/00/14/a0/b4/5173f1af.jpg","comment_is_top":false,"comment_ctime":1572411166,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"å›ºå®šå‘¨ä¸‰æ‰“å¡ï¼Œè€å¸ˆè®²çš„å¾ˆå¥½","like_count":1},{"had_liked":false,"id":393207,"user_name":"Geek_309db4","can_delete":false,"product_type":"c3","uid":3790984,"ip_address":"å¹¿ä¸œ","ucode":"0D220E06C36644","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/TiaI6dH29uPzxNYjLpQELvoQnuHVibLTE27MibTf8QMSbb7C4rmKqZKlv2YrabNUsHvxY3H2W9vPsZIibUtsU9magw/132","comment_is_top":false,"comment_ctime":1723127944,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"EventLoopGroup worker = new NioEventLoopGroup()ä¹‹åï¼Œé»˜è®¤ä¼šåˆ›å»º2 * CPU Coresä¸ªNioEventLoopï¼Œé‚£ä¹ˆåœ¨ServerBootstrapå¯åŠ¨ä¹‹åï¼Œåœ¨WorkerEventLoopGroupä¸­çš„æ¯ä¸ªNioEventLoopï¼ˆå•çº¿ç¨‹ï¼‰æ˜¯ä»€ä¹ˆæ—¶å€™æäº¤åˆ°Executeä¸­æ‰§è¡Œçš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":356985,"user_name":"Geek_d22c9b","can_delete":false,"product_type":"c3","uid":3069069,"ip_address":"ä¸Šæµ·","ucode":"5DFA2396F10EF3","user_header":"","comment_is_top":false,"comment_ctime":1662794615,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"æˆ‘æ„Ÿè§‰è®²çš„å¾ˆå¥½ï¼Œè€å¸ˆè‡³å°‘å¾ˆæ¸…æ¥š","like_count":0},{"had_liked":false,"id":349793,"user_name":"ç•™å¾—æ®‹è·å¬é›¨å£°","can_delete":false,"product_type":"c3","uid":1194192,"ip_address":"","ucode":"EFA3190EFC1B69","user_header":"https://static001.geekbang.org/account/avatar/00/12/38/d0/958685e8.jpg","comment_is_top":false,"comment_ctime":1656329356,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"è¯»æºç éƒ¨åˆ†ï¼Œæˆ‘æ˜¯å…ˆè‡ªå·±è¯»äº†ä¸€éå¤§æ¦‚ï¼Œæœ‰äº†å¤§æ¦‚ç†è§£ä¹‹åï¼Œå†çœ‹è€å¸ˆçš„è®²è§£ï¼Œæ‰èƒ½çŸ¥é“æ¯æ¬¡è®²åˆ°å•¥åœ°æ–¹äº†ï¼Œç„¶åå‘ç°è‡ªå·±çœ‹çš„æ—¶å€™æ¼æ‰äº†ä»€ä¹ˆï¼Œæé”™äº†ä»€ä¹ˆï¼Œå¦‚æœå•¥ä¹Ÿä¸çŸ¥é“ç›´æ¥çœ‹ï¼Œæ„Ÿè§‰ä¼šçœ‹ä¸æ‡‚","like_count":0},{"had_liked":false,"id":327394,"user_name":"å¼€å¿ƒ","can_delete":false,"product_type":"c3","uid":1517457,"ip_address":"","ucode":"C8E08E8724C7CE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKkzrezV2dOBAgickt9DLzabz3dNFYyDEVXENMQ5ibrWhFbFqXIOia3ZaR21pozvB7UfoxJx4Ar688sA/132","comment_is_top":false,"comment_ctime":1640097403,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"è¿™æ ·è®²æºç ï¼Œå‰ææ˜¯å¯¹nettyå„ä¸ªç±»çš„ä½œç”¨å’Œå…³è”å…³ç³»å·²ç»æ¯”è¾ƒç†Ÿæ‚‰äº†æ‰å¯ä»¥ã€‚ å¦‚æœæˆ‘éƒ½ç†Ÿæ‚‰äº†ï¼Œæˆ‘å·²ç»å…·å¤‡è‡ªå·±çœ‹çš„èƒ½åŠ›äº†å•Šã€‚","like_count":0},{"had_liked":false,"id":316561,"user_name":"å—è¶…å‡¡","can_delete":false,"product_type":"c3","uid":2678558,"ip_address":"","ucode":"A2A160D483BBB0","user_header":"","comment_is_top":false,"comment_ctime":1634393807,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"pipelineåº”è¯¥æå‰è®²ä¸€ä¸‹æ²¡æœ‰åŸºç¡€è¿˜å¾—å»å­¦ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":296682,"user_name":"ä½•å¦¨","can_delete":false,"product_type":"c3","uid":1385377,"ip_address":"","ucode":"EC3983BFF7992A","user_header":"https://static001.geekbang.org/account/avatar/00/15/23/a1/b08f3ee7.jpg","comment_is_top":false,"comment_ctime":1623116123,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"debug çœ‹æºç æ˜¯æœ€å·®çš„æ–¹å¼","like_count":0},{"had_liked":false,"id":290901,"user_name":"å¼ æ»”","can_delete":false,"product_type":"c3","uid":1322636,"ip_address":"","ucode":"87ABAFF0E861E0","user_header":"https://static001.geekbang.org/account/avatar/00/14/2e/8c/b261e15a.jpg","comment_is_top":false,"comment_ctime":1619843573,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"æ€ä¹ˆå¯ä»¥åœ¨githubä¸Šæ‰¾åˆ°æŸä¸ªç‰ˆæœ¬çš„nettyæºç ï¼Ÿæ¯”å¦‚è¦æ‰¾4.1.63.Finalçš„æºç ","like_count":0},{"had_liked":false,"id":280000,"user_name":"Alpha ğŸ‘€","can_delete":false,"product_type":"c3","uid":1200971,"ip_address":"","ucode":"3C0BAD36550718","user_header":"https://static001.geekbang.org/account/avatar/00/12/53/4b/28991f30.jpg","comment_is_top":false,"comment_ctime":1614050194,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"è€å¸ˆå¥½ï¼Œfinal SelectorTuple selectorTuple = openSelector();è¿™è¾¹åˆ›å»ºSelectorçš„æ—¶å€™ï¼Œå¦‚æœæ˜¯ä¼˜åŒ–çš„äº†ä¼šå¼„ä¸€ä¸ªåŒ…è£…äº†çš„Selectorï¼Œè¿™ä¸ªæœ‰ä»€ä¹ˆç‰¹æ®Šç”¨æ³•å—ï¼Œæˆ‘çœ‹SelectedSelectionKeySetSelectoré‡Œé¢æ¥å£é™¤äº†å¢åŠ selectionKeys.reset();ï¼Œéƒ½æ˜¯ä½¿ç”¨ç»„åˆçš„Selectoræ¥æ“ä½œã€‚","like_count":0},{"had_liked":false,"id":268285,"user_name":"tongmin_tsai","can_delete":false,"product_type":"c3","uid":1045090,"ip_address":"","ucode":"D9423E770D5846","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f2/62/f873cd8f.jpg","comment_is_top":false,"comment_ctime":1608124830,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100036701,"comment_content":"è€å¸ˆï¼Œæˆ‘çœ‹addListeneréƒ½æ˜¯åé¢è°ƒç”¨çš„ï¼Œnettyæ˜¯å¦‚ä½•ä¿éšœåœ¨addListenerä¹‹å‰å¦‚æœå·²ç»isDoneçš„è¯ï¼Œå¿…å®šèƒ½è§¦å‘åé¢æ·»åŠ çš„addListenerçš„å›è°ƒçš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":267073,"user_name":"tongmin_tsai","can_delete":false,"product_type":"c3","uid":1045090,"ip_address":"","ucode":"D9423E770D5846","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f2/62/f873cd8f.jpg","comment_is_top":false,"comment_ctime":1607589311,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100036701,"comment_content":"è€å¸ˆï¼Œæˆ‘åœ¨SingleThreadEventExecutorçš„æºç ä¸­çœ‹åˆ°SingleThreadEventExecutor.this.run()ï¼ŒSingleThreadEventExecutor.thisè¿™ç§å†™æ³•ï¼Œä¸ºä»€ä¹ˆå¯ä»¥æ‹¿åˆ°NioEventLoopï¼Ÿå¯¹è¿™ç§å†™æ³•æœ‰äº›ç–‘æƒ‘ï¼Œåº”è¯¥æ˜¯javaåŸºç¡€å§ï¼Ÿä½†å¹³æ—¶åŸºæœ¬æ²¡å†™è¿‡ã€‚ã€‚ã€‚æœ›è€å¸ˆèƒ½å¸®å¿™è§£ç­”ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":225331,"user_name":"ä¸€ä¸–ç¹åéƒ½æ˜¯çƒŸ à¸ˆà¸¸à¹Šà¸š","can_delete":false,"product_type":"c3","uid":1132415,"ip_address":"","ucode":"15ADE2EE5FA5B6","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/7f/90ea5e69.jpg","comment_is_top":false,"comment_ctime":1591716142,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100036701,"comment_content":"æ²¡çœ‹åˆ°provider.openServerSocketChannel()æ–¹æ³•ï¼Œè¿™ä¸ªæ˜¯åœ¨å“ªå„¿è°ƒç”¨çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":212728,"user_name":"å¿ƒæµ®å¤©ç©º","can_delete":false,"product_type":"c3","uid":1051609,"ip_address":"","ucode":"3B2D0E6CC51EE6","user_header":"https://static001.geekbang.org/account/avatar/00/10/0b/d9/3328dd12.jpg","comment_is_top":false,"comment_ctime":1588203953,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100036701,"comment_content":"ä¸€ç›´æœ‰ä¸ªç–‘é—®, å¸Œæœ›è€å¸ˆè§£ç­”:\nåœ¨æºç ä¸­å¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šå¤„ä»£ç éƒ½ä½¿ç”¨äº† eventLoop.inEventLoop() å‡½æ•°åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦ä¸º EventLoop çº¿ç¨‹, å¦‚æœä¸æ˜¯åˆ™é€šè¿‡ eventLoop.execute(command) æäº¤ä»»åŠ¡çš„æ–¹å¼æ‰§è¡Œ, æˆ‘èƒ½æƒ³åˆ°çš„åŸå› æ˜¯ä¸ºäº†ä¸é˜»å¡å½“å‰çº¿ç¨‹, å°†commandæ“ä½œå¼‚æ­¥æ‰§è¡Œ, ä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹ï¼Œè¯·è€å¸ˆè§£ç­”ã€‚","like_count":0},{"had_liked":false,"id":187846,"user_name":"çŸ³å»º","can_delete":false,"product_type":"c3","uid":1041013,"ip_address":"","ucode":"72339F0F3463E8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e2/75/94039076.jpg","comment_is_top":false,"comment_ctime":1584258820,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100036701,"comment_content":"è€å¸ˆï¼Œåº”è¯¥è¦ç»™å¤§å®¶è¯´ä¸‹ï¼ševentloop run å¾ªç¯ä¸­ï¼Œé™¤è¿‡å¤„ç† selecteï¼Œè¿˜è¦å¤„ç†taskã€‚ä¸ç„¶executeæ·»åŠ taskæ€ä¹ˆæ‰§è¡Œï¼Ÿ","like_count":0},{"had_liked":false,"id":178875,"user_name":"ç“œç“œ","can_delete":false,"product_type":"c3","uid":1108505,"ip_address":"","ucode":"F90A5135A9BB4B","user_header":"https://static001.geekbang.org/account/avatar/00/10/ea/19/14018371.jpg","comment_is_top":false,"comment_ctime":1581844103,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":5,"product_id":100036701,"comment_content":"eventLoop.execute(new Runnable() {\n                        @Override\n                        public void run() {\n                            register0(promise);\n                        }\n                    });\nè€å¸ˆåœ¨è®²è·Ÿè¿›executeçš„æ—¶å€™ï¼Œæ€ä¹ˆä¸€æ­¥è·³è½¬åˆ°\n private void execute(Runnable task, boolean immediate) {\n        boolean inEventLoop = inEventLoop();\n        addTask(task); \nè¿™ä¸ªé‡Œé¢çš„ï¼Ÿç»å¸¸è·Ÿä»£ç ï¼Œè·Ÿç€è·Ÿç€å°±è·Ÿä¹±äº†","like_count":0,"discussions":[{"author":{"id":1161009,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b7/31/4e7d7807.jpg","nickname":"ä¸€æ¡è‚¥é±¼","note":"","ucode":"660FCC0FDD057E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":189189,"discussion_content":"debugåˆ°eventLoop.execute()çš„æ—¶å€™æŒ‰F7åº”è¯¥å¯ä»¥å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582856947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":175331,"user_name":"punchline","can_delete":false,"product_type":"c3","uid":1314136,"ip_address":"","ucode":"32391B470CCD18","user_header":"https://static001.geekbang.org/account/avatar/00/14/0d/58/008173ad.jpg","comment_is_top":false,"comment_ctime":1580655773,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100036701,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæƒ³é—®ä¸‹nettyå¯åŠ¨æœåŠ¡ åœ¨open selectoræ—¶ï¼Œæ˜¯æ¯ä¸€ä¸ªnioeventloopéƒ½ä¼šå¯¹åº”ä¸€ä¸ªselectorå—ï¼Ÿ ä¹Ÿå°±æ˜¯è¯´æœåŠ¡ç«¯å¼€å¯çš„æ—¶å€™ï¼Œä¼šåˆ›å»ºå¤šä¸ªselectorå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":157922,"user_name":"å†¬æ¸æš–","can_delete":false,"product_type":"c3","uid":1586800,"ip_address":"","ucode":"907E41AAE9A36C","user_header":"https://static001.geekbang.org/account/avatar/00/18/36/70/00122b24.jpg","comment_is_top":false,"comment_ctime":1575283536,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100036701,"comment_content":"åˆ›å»ºä¸€ä¸ªNioEventLoopGroupä¸»çº¿æµç¨‹:\n              1.å…ˆåˆ›å»ºSelectoré€‰æ‹©å™¨å»æ£€æŸ¥ä¸€ä¸ªæˆ–å¤šä¸ªNIO Channelï¼ˆé€šé“ï¼‰çš„çŠ¶æ€æ˜¯å¦å¤„äºå¯è¯»ã€å¯å†™ï¼Œå’Œè¿™ä¸ªNioEventLoopGroupç»‘å®šä¸‹\n 2.å¼‚æ­¥åˆ›å»ºå¹¶åˆå§‹åŒ–ï¼ˆä¸»è¦æ˜¯åˆå§‹åŒ–SocketChannel---ã€‹å°±æ˜¯ä»¥å‰è¯´çš„è®¾ç½®keepAliveçš„é‚£äº›childï¼‰jianå¬å™¨ServerSocketChannel ï¼Œjianå¬æ–°è¿›æ¥çš„TCPè¿æ¥é€šé“\n 3.é€šè¿‡jianå¬å™¨ æŠŠworkGroupå’ŒbossGroupæ‹¿å‡ºæ¥\n 4.å°†è¿™ä¸ªjianå¬å™¨é€šè¿‡taskæ³¨å†Œåˆ°ä¸€å¼€å§‹åˆ›å»ºçš„selectorä¸Š\n 5.ç»‘å®šåœ°å€å¼‚æ­¥é˜»å¡å¯åŠ¨\n 6.æ­»å¾ªç¯æ³¨å†Œæ¥å—è¿æ¥äº‹ä»¶åˆ°é€‰æ‹©å™¨ä¸Šå»(ç±»ä¼¼äºdubboçš„åˆå§‹åŒ–æ¶ˆè´¹è€…)\n\n\n\næ³¨å†Œçš„æ—¶å€™ next() æ˜¯è·å–ä¸€ä¸ªå¯ç”¨çš„ EventLoop.   inEventLoopæ˜¯åˆ¤æ–­è¿™ä¸ªEventLoopæ˜¯ä¸æ˜¯å½“å‰çº¿ç¨‹çš„\n\nä½ çš„io.netty.bootstrap.ChannelFactoryæ³›å‹åå°„+å·¥å‚åˆ›å»ºNioServerSocketå·²ç»è¢«io.netty.channel.ChannelFactoryæ›¿ä»£äº†ï¼Œæä¸æ‡‚ä¸ºä»€ä¹ˆåå­—éƒ½å¼„ä¸€æ ·çš„ã€‚ã€‚è€Œä¸”è¿˜æœ‰ç»§æ‰¿å…³ç³»ã€‚\n\nå‘ç°\neventLoop.execute(new Runnable() {\n    @Override\n    public void run() {\n        register0(promise);\n    }\n});\nè¿™æ®µä»£ç æœ‰ç‚¹æƒ³javaå®ä½“ç±»çš„æ„é€ å™¨ï¼Œå…ˆæ‰§è¡Œæ„é€ æ–¹æ³•(è¿™é‡Œæ˜¯executeï¼ˆï¼‰)ï¼Œç„¶åæ‰§è¡Œé™æ€æ–¹æ³•(è¿™é‡Œæ˜¯run() )\n","like_count":0}]}
{"id":455487,"title":"18 | å®æˆ˜ç—›ç‚¹4ï¼šVue 3é¡¹ç›®ä¸­çš„æ€§èƒ½ä¼˜åŒ–","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å¤§åœ£ï¼Œæ¬¢è¿è¿›å…¥è¯¾ç¨‹çš„ç¬¬18è®²ã€‚</p><p>åœ¨ä¸Šä¸€è®²ä¸­ï¼Œæˆ‘ä»¬èŠäº†é¡¹ç›®ä¸­çš„æƒé™è®¾è®¡ï¼Œç›¸ä¿¡ä½ å¯¹Vueé¡¹ç›®ä¸­å¦‚ä½•è®¾è®¡ï¼Œä»¥åŠå¦‚ä½•å®ç°æƒé™éƒ½æœ‰äº†è‡ªå·±çš„å¿ƒå¾—ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬æ¥èŠä¸€ä¸‹Vueé¡¹ç›®ä¸­çš„å¦å¤–ä¸€ä¸ªéš¾ç‚¹ï¼šæ€§èƒ½ä¼˜åŒ–ã€‚æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªè€ç”Ÿå¸¸è°ˆçš„è¯é¢˜ï¼Œå¦‚æœä½ æ˜¯å‰ç«¯ä»ä¸šè€…ï¼Œé‚£ä¹ˆæ— è®ºæ˜¯æ±‚èŒçš„ç®€å†ï¼Œè¿˜æ˜¯æ™‹å‡çš„PPTï¼Œæ€§èƒ½ä¼˜åŒ–ç›¸å…³çš„å†…å®¹éƒ½æ˜¯ä¸å¯æˆ–ç¼ºçš„ã€‚</p><p>é‚£ä¹ˆåœ¨Vueé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•åšæ€§èƒ½ä¼˜åŒ–å‘¢ï¼Ÿä¸‹é¢ï¼Œæˆ‘ä»¬ä¼šå…ˆä»Vueé¡¹ç›®åœ¨æ•´ä½“ä¸Šçš„æ‰§è¡Œæµç¨‹è°ˆèµ·ï¼Œç„¶åè¯¦ç»†ä»‹ç»æ€§èƒ½ä¼˜åŒ–çš„ä¸¤ä¸ªé‡è¦æ–¹é¢ï¼š<strong>ç½‘ç»œè¯·æ±‚ä¼˜åŒ–å’Œä»£ç æ•ˆç‡ä¼˜åŒ–</strong>ã€‚ä¸è¿‡ï¼Œåœ¨æ€§èƒ½ä¼˜åŒ–ä¹‹å¤–ï¼Œç”¨æˆ·ä½“éªŒæ‰æ˜¯æ€§èƒ½ä¼˜åŒ–çš„ç›®çš„ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿä¼šç®€å•è°ˆä¸€ä¸‹ç”¨æˆ·ä½“éªŒæ–¹é¢çš„ä¼˜åŒ–é¡¹ã€‚æœ€åï¼Œæˆ‘è¿˜ä¼šé€šè¿‡æ€§èƒ½ç›‘æµ‹æŠ¥å‘Šï¼Œä¸ºä½ æŒ‡å¼•å‡ºæ€§èƒ½ä¼˜åŒ–çš„æ–¹å‘ã€‚</p><h2>ç”¨æˆ·è¾“å…¥URLåˆ°é¡µé¢æ˜¾ç¤ºçš„è¿‡ç¨‹</h2><p>æˆ‘ä»¬å…ˆæ¥èŠä¸€ä¸ªå¸¸è§çš„é¢è¯•é¢˜ï¼Œé‚£å°±æ˜¯ç”¨æˆ·ä»è¾“å…¥URLï¼Œç„¶åç‚¹å‡»å›è½¦ï¼Œåˆ°é¡µé¢å®Œå…¨æ˜¾ç¤ºå‡ºæ¥ï¼Œè¿™ä¸€è¿‡ç¨‹ä¸­åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p><p>é€šè¿‡ä¸‹å›¾ï¼Œæˆ‘ä»¬å¯ä»¥ä»å‰ç«¯çš„è§†è§’çœ‹åˆ°ä»è¾“å…¥URLåˆ°é¡µé¢æ˜¾ç¤ºçš„å¤§è‡´è¿‡ç¨‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/95/5b/9550f050235a9bc0a91dc6e33f7e9e5b.jpg?wh=1920x923\" alt=\"å›¾ç‰‡\"></p><p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ç”¨æˆ·åœ¨è¾“å…¥URLå¹¶ä¸”æ•²å‡»å›è½¦ä¹‹åï¼Œæµè§ˆå™¨ä¼šå»æŸ¥è¯¢å½“å‰åŸŸåå¯¹åº”çš„IPåœ°å€ã€‚å¯¹äºIPåœ°å€æ¥è¯´ï¼Œå®ƒå°±ç›¸å½“äºåŸŸååé¢çš„æœåŠ¡å™¨åœ¨äº’è”ç½‘ä¸–ç•Œçš„é—¨ç‰Œå·ã€‚ç„¶åï¼Œæµè§ˆå™¨ä¼šå‘æœåŠ¡å™¨å‘èµ·ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼ŒæœåŠ¡å™¨ä¼šæŠŠæµè§ˆå™¨è¯·æ±‚çš„HTMLä»£ç è¿”å›ç»™æµè§ˆå™¨ã€‚</p><!-- [[[read_end]]] --><p>ä¹‹åï¼Œæµè§ˆå™¨ä¼šè§£æè¿™æ®µHTMLä»£ç ï¼Œå¹¶ä¸”åŠ è½½HTMLä»£ç ä¸­éœ€è¦åŠ è½½çš„CSSå’ŒJavaScriptï¼Œç„¶åå¼€å§‹æ‰§è¡ŒJavaScriptä»£ç ã€‚è¿›å…¥åˆ°é¡¹ç›®çš„ä»£ç é€»è¾‘ä¸­ï¼Œå¯ä»¥çœ‹åˆ°Vueä¸­é€šè¿‡vue-routerè®¡ç®—å‡ºå½“å‰è·¯ç”±åŒ¹é…çš„ç»„ä»¶ï¼Œå¹¶ä¸”æŠŠè¿™äº›ç»„ä»¶æ˜¾ç¤ºåˆ°é¡µé¢ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬çš„é¡µé¢å°±å®Œå…¨æ˜¾ç¤ºå‡ºæ¥äº†ã€‚è€Œæˆ‘ä»¬æ€§èƒ½ä¼˜åŒ–çš„ä¸»è¦ç›®çš„ï¼Œå°±æ˜¯è®©é¡µé¢æ˜¾ç¤ºè¿‡ç¨‹çš„æ—¶é—´å†ç¼©çŸ­ä¸€äº›ã€‚</p><h2>æ€§èƒ½ä¼˜åŒ–</h2><p>ä»ç”¨æˆ·è¾“å…¥URLåˆ°é¡µé¢æ˜¾ç¤ºçš„è¿‡ç¨‹è¿™ä¸ªé—®é¢˜ï¼ŒåŒ…å«ç€é¡¹ç›®é¡µé¢çš„æ‰§è¡Œæµç¨‹ã€‚è¿™ä¸ªé—®é¢˜ä¹‹æ‰€ä»¥é‡è¦ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬åªæœ‰çŸ¥é“äº†åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€æ­¥éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Œä¹‹åæ‰èƒ½é’ˆå¯¹æ¯ä¸€æ­¥å»åšç½‘ç»œè¯·æ±‚çš„ä¼˜åŒ–ï¼Œè¿™ä¹Ÿæ˜¯æ€§èƒ½ä¼˜åŒ–å¿…å¤‡çš„åŸºç¡€çŸ¥è¯†ã€‚</p><h3>ç½‘ç»œè¯·æ±‚ä¼˜åŒ–</h3><p>å¯¹äºå‰ç«¯æ¥è¯´ï¼Œå¯ä»¥ä¼˜åŒ–çš„ç‚¹ï¼Œé¦–å…ˆå°±æ˜¯åœ¨é¦–é¡µçš„æ ‡ç­¾ä¸­ï¼Œä½¿ç”¨<link rel=\"dns-prefetch\">æ ‡ç­¾å»é€šçŸ¥æµè§ˆå™¨å¯¹é¡µé¢ä¸­å‡ºç°çš„å…¶ä»–åŸŸåå»åšDNSçš„é¢„è§£æï¼Œæ¯”å¦‚é¡µé¢ä¸­çš„å›¾ç‰‡é€šå¸¸éƒ½æ˜¯æ”¾ç½®åœ¨ç‹¬ç«‹çš„CDNåŸŸåä¸‹ï¼Œè¿™æ ·é¡µé¢åŠ è½½é¦–é¡µçš„æ—¶å€™å°±èƒ½é¢„å…ˆè§£æåŸŸåå¹¶æŠŠç»“æœç¼“å­˜èµ·æ¥ ã€‚</p><p>å› ä¸ºæå®¢æ—¶é—´é¦–é¡µæ²¡åšè¿™ä¸ªä¼˜åŒ–ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»¥æ·˜å®ç½‘çš„é¦–é¡µä¸ºä¾‹è¿›è¡Œåˆ†æã€‚ä½ å¯ä»¥åœ¨<a href=\"view-source:https://www.taobao.com\">æ·˜å®çš„é¦–é¡µæºç </a>ä¸­çœ‹åˆ°ä¸‹å›¾æ‰€ç¤ºçš„ä¸€åˆ—dns-prefetchæ ‡ç­¾ï¼Œè¿™æ ·é¦–é¡µå†å‡ºç°img.alicdn.comè¿™ä¸ªåŸŸåè¯·æ±‚çš„æ—¶å€™ï¼Œæµè§ˆå™¨å°±å¯ä»¥ä»ç¼“å­˜ä¸­ç›´æ¥è·å–å¯¹åº”çš„IPåœ°å€ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/23/e6/23163cccae366e93afbe0125c77838e6.png?wh=1330x524\" alt=\"å›¾ç‰‡\"></p><p>é¡¹ç›®åœ¨æ•´ä½“æµç¨‹ä¸­ï¼Œä¼šé€šè¿‡HTTPè¯·æ±‚åŠ è½½å¾ˆå¤šçš„CSSã€JavaScriptï¼Œä»¥åŠå›¾ç‰‡ç­‰é™æ€èµ„æºã€‚ä¸ºäº†è®©è¿™äº›æ–‡ä»¶åœ¨ç½‘ç»œåŠ è½½ä¸­æ›´å¿«ï¼Œæˆ‘ä»¬å¯ä»¥ä»åé¢è¿™å‡ æ–¹é¢å…¥æ‰‹è¿›è¡Œä¼˜åŒ–ã€‚</p><p>é¦–å…ˆï¼Œæµè§ˆå™¨åœ¨è·å–ç½‘ç»œæ–‡ä»¶æ—¶ï¼Œéœ€è¦é€šè¿‡HTTPè¯·æ±‚ï¼ŒHTTPåè®®åº•å±‚çš„TCPåè®®æ¯æ¬¡åˆ›å»ºé“¾æ¥çš„æ—¶å€™ï¼Œéƒ½éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œä¸‰æ¬¡æ¡æ‰‹ä¼šé€ æˆé¢å¤–çš„ç½‘ç»œæŸè€—ã€‚å¦‚æœæµè§ˆå™¨éœ€è¦è·å–çš„æ–‡ä»¶è¾ƒå¤šï¼Œé‚£å°±ä¼šå› ä¸ºä¸‰æ¬¡æ¡æ‰‹æ¬¡æ•°è¿‡å¤šï¼Œè€Œå¸¦æ¥è¿‡å¤šç½‘ç»œæŸè€—çš„é—®é¢˜ã€‚</p><p>æ‰€ä»¥ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦çš„æ˜¯è®©æ–‡ä»¶å°½å¯èƒ½åœ°å°‘ï¼Œè¿™å°±è¯ç”Ÿå‡ºä¸€äº›å¸¸è§çš„ä¼˜åŒ–ç­–ç•¥ï¼Œæ¯”å¦‚å…ˆç»™æ–‡ä»¶æ‰“åŒ…ï¼Œä¹‹åå†ä¸Šçº¿ï¼›ä½¿ç”¨CSSé›ªç¢§å›¾æ¥è¿›è¡Œå›¾ç‰‡æ‰“åŒ…ç­‰ç­‰ã€‚æ–‡ä»¶æ‰“åŒ…è¿™æ¡ç­–ç•¥åœ¨HTTP2å…¨é¢æ™®åŠä¹‹å‰è¿˜æ˜¯æœ‰æ•ˆçš„ï¼Œä½†æ˜¯åœ¨HTTP2æ™®åŠä¹‹åï¼Œå¤šè·¯å¤ç”¨å¯ä»¥ä¼˜åŒ–ä¸‰æ¬¡æ¡æ‰‹å¸¦æ¥çš„ç½‘ç»œæŸè€—ã€‚å…³äºHTTP2çš„æ›´å¤šå†…å®¹ï¼Œä½ å¯ä»¥å»æœç´¢ç›¸å…³æ–‡ç« è‡ªè¡Œå­¦ä¹ ã€‚</p><p>å…¶æ¬¡ï¼Œ<strong>é™¤äº†è®©æ–‡ä»¶å°½å¯èƒ½å°‘ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æƒ³åŠæ³•è®©è¿™äº›æ–‡ä»¶å°½å¯èƒ½åœ°å°ä¸€äº›</strong>ï¼Œå› ä¸ºå¦‚æœèƒ½å‡å°‘æ–‡ä»¶çš„ä½“ç§¯ï¼Œé‚£æ–‡ä»¶çš„åŠ è½½é€Ÿåº¦è‡ªç„¶ä¹Ÿå°±ä¼šå˜å¿«ã€‚è¿™ä¸€ç¯èŠ‚ä¹Ÿè¯ç”Ÿå‡ºä¸€äº›æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼Œæ¯”å¦‚CSSå’ŒJavaScriptä»£ç ä¼šåœ¨ä¸Šçº¿ä¹‹å‰è¿›è¡Œå‹ç¼©ï¼›åœ¨å›¾ç‰‡æ ¼å¼çš„é€‰æ‹©ä¸Šï¼Œå¯¹äºå¤§éƒ¨åˆ†å›¾ç‰‡æ¥è¯´ï¼Œéœ€è¦ä½¿ç”¨JPGæ ¼å¼ï¼Œç²¾ç»†åº¦è¦æ±‚é«˜çš„å›¾ç‰‡æ‰ä½¿ç”¨PNGæ ¼å¼ï¼›ä¼˜å…ˆä½¿ç”¨WebPç­‰ç­‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå°½å¯èƒ½åœ¨åŒç­‰åƒç´ ä¸‹ï¼Œé€‰æ‹©ä½“ç§¯æ›´å°çš„å›¾ç‰‡æ ¼å¼ã€‚</p><p>åœ¨æ€§èƒ½ä¼˜åŒ–ä¸­ï¼Œæ‡’åŠ è½½çš„æ–¹å¼ä¹Ÿè¢«å¹¿æ³›ä½¿ç”¨ã€‚å›¾ç‰‡æ‡’åŠ è½½çš„æ„æ€æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥åŠ¨æ€è®¡ç®—å›¾ç‰‡çš„ä½ç½®ï¼Œåªéœ€è¦æ­£å¸¸åŠ è½½é¦–å±å‡ºç°çš„å›¾ç‰‡ï¼Œå…¶ä»–æš‚æ—¶æ²¡å‡ºç°çš„å›¾ç‰‡åªæ˜¾ç¤ºä¸€ä¸ªå ä½ç¬¦ï¼Œç­‰åˆ°é¡µé¢æ»šåŠ¨åˆ°å¯¹åº”å›¾ç‰‡ä½ç½®çš„æ—¶å€™ï¼Œå†å»åŠ è½½å®Œæ•´å›¾ç‰‡ã€‚</p><p>é™¤äº†å›¾ç‰‡ï¼Œé¡¹ç›®ä¸­ä¹Ÿä¼šåšè·¯ç”±æ‡’åŠ è½½ï¼Œç°åœ¨é¡¹ç›®æ‰“åŒ…åï¼Œæ‰€æœ‰è·¯ç”±çš„ä»£ç éƒ½åœ¨é¦–é¡µä¸€èµ·åŠ è½½ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠä¸å¸¸ç”¨çš„è·¯ç”±å•ç‹¬æ‰“åŒ…ï¼Œåœ¨ç”¨æˆ·è®¿é—®åˆ°è¿™ä¸ªè·¯ç”±çš„æ—¶å€™å†å»åŠ è½½ä»£ç ã€‚ä¸‹é¢çš„ä»£ç ä¸­ï¼Œvue-routerä¹Ÿæä¾›äº†æ‡’åŠ è½½çš„ä½¿ç”¨æ–¹å¼ï¼Œåªæœ‰ç”¨æˆ·è®¿é—®äº†/course/:idè¿™ä¸ªé¡µé¢åï¼Œå¯¹åº”é¡µé¢çš„ä»£ç æ‰ä¼šåŠ è½½æ‰§è¡Œã€‚</p><pre><code class=\"language-javascript\">  {\n    path: '/course/:id',\n    component: () =&gt; import('../pages/courseInfo'),\n  },\n</code></pre><p>åœ¨æ–‡ä»¶å¤§å°çš„é—®é¢˜ä¸Šï¼ŒLighthouseå·²ç»ç»™äº†æˆ‘ä»¬æ¯”è¾ƒè¯¦ç»†çš„ä¼˜åŒ–æ–¹æ³•ï¼Œæ¯”å¦‚æ§åˆ¶å›¾ç‰‡å¤§å°ã€å‡å°‘å†—ä½™ä»£ç ç­‰ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®æ‰“åŒ…çš„æ—¶å€™ï¼Œä½¿ç”¨å¯è§†åŒ–çš„æ’ä»¶æ¥æŸ¥çœ‹åŒ…å¤§å°çš„åˆ†å¸ƒã€‚</p><p>æˆ‘ä»¬æ¥åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œé€šè¿‡æ‰§è¡Œnpm installæ“ä½œæ¥å®‰è£…æ’ä»¶rollup-plugin-visualizerã€‚ä½¿ç”¨è¿™ä¸ªæ’ä»¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥è·å–åˆ°ä»£ç æ–‡ä»¶å¤§å°çš„æŠ¥å‘Šäº†ã€‚ä¹‹åï¼Œè¿›å…¥åˆ°vite.config.jsè¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œæ–°å¢ä¸‹åˆ—ä»£ç ï¼Œå°±å¯ä»¥åœ¨Viteä¸­åŠ è½½å¯è§†åŒ–åˆ†ææ’ä»¶ã€‚</p><pre><code class=\"language-javascript\">import { visualizer } from 'rollup-plugin-visualizer'\nexport default defineConfig({\n  plugins: [vue(),vueJsx(), visualizer()],\n})\n</code></pre><p>ç„¶åï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œ npm run buildå‘½ä»¤åï¼Œé¡¹ç›®å°±æŠŠé¡¹ç›®ä»£ç æ‰“åŒ…åœ¨æ ¹ç›®å½•çš„distç›®å½•ä¸‹ï¼Œå¹¶ä¸”æ ¹ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ªæ–‡ä»¶stat.htmlã€‚</p><p>æˆ‘ä»¬ç”¨æµè§ˆå™¨æ‰“å¼€è¿™ä¸ªstatæ–‡ä»¶ï¼Œå°±èƒ½çœ‹åˆ°ä¸‹é¢çš„ç¤ºæ„å›¾ã€‚é¡¹ç›®ä¸­çš„EChartså’ŒElement3çš„ä½“ç§¯è¿œè¿œå¤§äºé¡¹ç›®ä»£ç çš„ä½“ç§¯ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ç”¨æ‡’åŠ è½½å’ŒæŒ‰éœ€åŠ è½½çš„æ–¹å¼ï¼Œå»ä¼˜åŒ–é¡¹ç›®æ•´ä½“çš„ä½“ç§¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/de/89/de38f42fb62c74yy9eb964fd399f7d89.png?wh=1920x1109\" alt=\"å›¾ç‰‡\"></p><p>é‚£ä¹ˆè¿™äº›æ–‡ä»¶å¦‚ä½•æ‰èƒ½é«˜æ•ˆå¤ç”¨å‘¢ï¼Ÿ<strong>æˆ‘ä»¬éœ€è¦<strong><strong>åšçš„ï¼Œå°±æ˜¯</strong></strong>å°½å¯èƒ½é«˜æ•ˆ<strong><strong>åœ°</strong></strong>åˆ©ç”¨æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶ï¼Œåœ¨æ–‡ä»¶å†…å®¹æ²¡æœ‰å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œåšåˆ°ä¸€æ¬¡åŠ è½½å¤šæ¬¡ä½¿ç”¨</strong>ï¼Œé¡¹ç›®ä¸­å¦‚æœæˆåŠŸå¤ç”¨ä¸€ä¸ªå‡ ç™¾KBçš„æ–‡ä»¶ï¼Œå¯¹äºæ€§èƒ½ä¼˜åŒ–æ¥è¯´æ˜¯ä¸€ä¸ªå·¨å¤§çš„æå‡ã€‚</p><p>æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶æœ‰å¥½å‡ ä¸ªHeaderså¯ä»¥å®ç°ï¼ŒExpiresã€Cache-controlï¼Œlast-modifyã€etagè¿™äº›ç¼“å­˜ç›¸å…³çš„Headerå¯ä»¥è®©æµè§ˆå™¨é«˜æ•ˆåœ°åˆ©ç”¨æ–‡ä»¶ç¼“å­˜ã€‚æˆ‘ä»¬éœ€è¦åšçš„æ˜¯ï¼Œåªæœ‰å½“æ–‡ä»¶çš„å†…å®¹ä¿®æ”¹äº†ï¼Œæˆ‘ä»¬æ‰ä¼šé‡æ–°åŠ è½½æ–‡ä»¶ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬çš„é¡¹ç›®æ‰§è¡Œnpm run buildå‘½ä»¤ä¹‹åï¼Œé™æ€èµ„æºéƒ½ä¼šå¸¦ä¸Šä¸€ä¸²Hashå€¼ï¼Œå› ä¸ºè¿™æ ·ç¡®ä¿äº†åªæœ‰æ–‡ä»¶å†…å®¹å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ–‡ä»¶åæ‰ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå…¶ä»–æƒ…å†µéƒ½ä¼šå¤ç”¨ç¼“å­˜ã€‚</p><h3>ä»£ç æ•ˆç‡ä¼˜åŒ–</h3><p>åœ¨æµè§ˆå™¨åŠ è½½ç½‘ç»œè¯·æ±‚ç»“æŸåï¼Œé¡µé¢å¼€å§‹æ‰§è¡ŒJavaScriptï¼Œå› ä¸ºVueå·²ç»å¯¹é¡¹ç›®åšäº†å¾ˆå¤šå†…éƒ¨çš„ä¼˜åŒ–ï¼Œæ‰€ä»¥åœ¨ä»£ç å±‚é¢ï¼Œæˆ‘ä»¬éœ€è¦åšçš„ä¼˜åŒ–å¹¶ä¸å¤šã€‚å¾ˆå¤šVue 2ä¸­çš„æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼Œåœ¨Vue 3æ—¶ä»£å·²ç»ä¸éœ€è¦äº†ï¼Œæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯<strong>éµå¾ªVueå®˜æ–¹çš„æœ€ä½³å®è·µ</strong>ï¼Œå…¶ä½™çš„äº¤ç»™Vueè‡ªèº«æ¥ä¼˜åŒ–å°±å¯ä»¥äº†ã€‚</p><p>æ¯”å¦‚computedå†…ç½®æœ‰ç¼“å­˜æœºåˆ¶ï¼Œæ¯”ä½¿ç”¨watchå‡½æ•°å¥½ä¸€äº›ï¼›ç»„ä»¶é‡Œä¹Ÿä¼˜å…ˆä½¿ç”¨templateå»æ¿€æ´»Vueå†…ç½®çš„é™æ€æ ‡è®°ï¼Œä¹Ÿå°±æ˜¯èƒ½å¤Ÿå¯¹ä»£ç æ‰§è¡Œæ•ˆç‡è¿›è¡Œä¼˜åŒ–ï¼›v-forå¾ªç¯æ¸²æŸ“ä¸€å®šè¦æœ‰keyï¼Œä»è€Œèƒ½å¤Ÿåœ¨è™šæ‹ŸDOMè®¡ç®—Diffçš„æ—¶å€™æ›´é«˜æ•ˆå¤ç”¨æ ‡ç­¾ç­‰ç­‰ã€‚ç„¶åå°±æ˜¯JavaScriptæœ¬èº«çš„æ€§èƒ½ä¼˜åŒ–ï¼Œæˆ–è€…è¯´æŸäº›å®ç°åœºæ™¯ç®—æ³•çš„é€‰æ‹©äº†ï¼Œè¿™é‡Œéœ€è¦å…·ä½“é—®é¢˜å…·ä½“åˆ†æï¼Œåœ¨é€šè¿‡æ€§èƒ½ç›‘æµ‹å·¥å…·å‘ç°ä»£ç è¿è¡Œçš„ç“¶é¢ˆåï¼Œæˆ‘ä»¬ä¾æ¬¡å¯¹è€—æ—¶è¿‡é•¿çš„å‡½æ•°è¿›è¡Œä¼˜åŒ–å³å¯ã€‚</p><p>æˆ‘ä»¬æ¥åˆ°src/App.vueæ–‡ä»¶ä¸­ï¼Œçœ‹ä¸‹é¢çš„ä»£ç ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æˆ‘ä»¬å®ç°çš„è¿™ä¸ªæ•°åˆ—ä¸­ï¼Œæ¯ä¸€ä¸ªæ•°çš„å€¼æ˜¯å‰é¢ä¸¤ä¸ªæ•°çš„å€¼ä¹‹å’Œã€‚æˆ‘ä»¬ä½¿ç”¨ç®€å•çš„é€’å½’ç®—æ³•å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—åï¼Œåœ¨é¡µé¢æ˜¾ç¤ºè®¡ç®—ç»“æœã€‚</p><pre><code class=\"language-javascript\">function fib(n){\n  if(n&lt;=1) return 1\n  return fib(n-1)+fib(n-2)\n}\nlet count = ref(fib(38))\n</code></pre><p>ä¸Šé¢çš„ä»£ç åœ¨åŠŸèƒ½ä¸Šï¼Œè™½ç„¶å®ç°äº†æ–æ³¢é‚£å¥‘æ•°åˆ—çš„è¦æ±‚ï¼Œä½†æ˜¯æˆ‘ä»¬èƒ½å¤Ÿæ„Ÿè§‰åˆ°é¡µé¢æœ‰äº›å¡é¡¿ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥å¯¹é¡µé¢çš„æ€§èƒ½åšä¸€ä¸‹æ£€æµ‹ã€‚</p><p>æˆ‘ä»¬æ‰“å¼€è°ƒè¯•çª—å£ä¸­çš„Performanceé¢æ¿ï¼Œä½¿ç”¨å½•åˆ¶åŠŸèƒ½åï¼Œä¾¿å¯å¾—åˆ°ä¸‹é¢çš„ç«ç„°å›¾ã€‚é€šè¿‡è¿™ä¸ªç«ç„°å›¾ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°å®šä½å‡ºè¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæ•´ä½“è€Œè¨€è€—æ—¶æœ€é•¿çš„fibå‡½æ•°ï¼Œå¹¶ä¸”æˆ‘ä»¬èƒ½çœ‹åˆ°è¿™ä¸ªå‡½æ•°è¢«é€’å½’æ‰§è¡Œäº†æ— æ•°æ¬¡ã€‚åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬ä¸éš¾æ„è¯†åˆ°è¿™æ®µä»£ç æœ‰æ€§èƒ½é—®é¢˜ã€‚ä¸è¿‡ï¼Œå®šä½åˆ°é—®é¢˜å‡ºç°çš„åœ°æ–¹ä¹‹åï¼Œä»£ç æ€§èƒ½çš„ä¼˜åŒ–å°±å˜å¾—æ–¹å‘æ˜ç¡®äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/12/b9/12d7d30ea1f7bae6435fb6d5a21a80b9.png?wh=1920x1120\" alt=\"å›¾ç‰‡\"></p><p>ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨é€’æ¨çš„æ–¹å¼ä¼˜åŒ–äº†æ–æ³¢é‚£å¥‘æ•°åˆ—çš„è®¡ç®—è¿‡ç¨‹ï¼Œé¡µé¢ä¹Ÿå˜å¾—æµç•…èµ·æ¥ï¼Œè¿™æ ·ä¼˜åŒ–å°±ç®—å®Œæˆäº†ã€‚å…¶å®å¯¹äºæ–æ³¢é‚£å¥‘æ•°åˆ—çš„è®¡ç®—è€Œè¨€ï¼Œå¾—åˆ°æœ€å¥½æ€§èƒ½çš„æ–¹å¼æ˜¯ä½¿ç”¨æ•°å­¦å…¬å¼+çŸ©é˜µæ¥è®¡ç®—ã€‚ä¸è¿‡åœ¨é¡¹ç›®ç“¶é¢ˆåˆ°æ¥ä¹‹å‰ï¼Œæˆ‘ä»¬é‡‡ç”¨ä¸‹é¢çš„ç®—æ³•å·²ç»è¶³å¤Ÿäº†ï¼Œ<strong>è¿™ä¹Ÿæ˜¯æ€§èƒ½ä¼˜åŒ–å¦å¤–ä¸€ä¸ªé‡è¦åŸåˆ™ï¼Œé‚£å°±æ˜¯ä¸è¦è¿‡åº¦ä¼˜åŒ–</strong><strong>ã€‚</strong></p><pre><code class=\"language-javascript\">function fib(n){\n  let arr = [1,1]\n  let i = 2\n  while(i&lt;=n){\n    arr[i] = arr[i-1]+arr[i-2]\n    i++\n  }\n  return arr[n]\n}\n</code></pre><h2>ç”¨æˆ·ä½“éªŒä¼˜åŒ–</h2><p>æ€§èƒ½ä¼˜åŒ–çš„ä¸»è¦ç›®çš„ï¼Œè¿˜æ˜¯ä¸ºäº†èƒ½è®©ç”¨æˆ·åœ¨æµè§ˆç½‘é¡µçš„æ—¶å€™æ„Ÿè§‰æ›´èˆ’æœï¼Œæ‰€æœ‰æœ‰äº›åœºæ™¯æˆ‘ä»¬ä¸èƒ½åªè€ƒè™‘å•çº¯çš„æ€§èƒ½æŒ‡æ ‡ï¼Œè¿˜è¦ç»“åˆç”¨æˆ·çš„äº¤äº’ä½“éªŒè¿›è¡Œè®¾è®¡ï¼Œ<strong>å¿…è¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŸå¤±ä¸€äº›æ€§èƒ½å»æ¢å–äº¤äº’ä½“éªŒçš„æå‡ã€‚</strong></p><p>æ¯”å¦‚ç”¨æˆ·åŠ è½½å¤§é‡å›¾ç‰‡çš„åŒæ—¶ï¼Œå¦‚æœæœ¬èº«å›¾ç‰‡æ¸…æ™°åº¦è¾ƒé«˜ï¼Œé‚£ç›´æ¥åŠ è½½çš„è¯ï¼Œé¡µé¢ä¼šæœ‰å¾ˆå¤šå›¾ä¸€ç›´æ˜¯ç™½æ¡†ã€‚æ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥é¢„å…ˆè§£æå‡ºå›¾ç‰‡çš„ä¸€ä¸ªæ¨¡ç³Šç‰ˆæœ¬ï¼ŒåŠ è½½å›¾ç‰‡çš„æ—¶å€™ï¼Œå…ˆåŠ è½½è¿™ä¸ªæ¨¡ç³Šçš„å›¾ä½œä¸ºå ä½ç¬¦ï¼Œç„¶åå†å»åŠ è½½æ¸…æ™°çš„ç‰ˆæœ¬ã€‚è™½ç„¶é¢å¤–åŠ è½½äº†å›¾ç‰‡æ–‡ä»¶ï¼Œä½†æ˜¯ç”¨æˆ·åœ¨ä½“éªŒä¸Šå¾—åˆ°äº†æå‡ã€‚</p><p>ç±»ä¼¼çš„åœºæ™¯è¿˜æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶çš„æ—¶å€™ï¼Œå¦‚æœæ–‡ä»¶è¿‡å¤§ï¼Œé‚£ä¹ˆä¸Šä¼ å¯èƒ½å°±ä¼šå¾ˆè€—æ—¶ã€‚è€Œä¸”ä¸€æ—¦ä¸Šä¼ çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†ç½‘ç»œä¸­æ–­ï¼Œé‚£ä¸Šä¼ å°±å‰åŠŸå°½å¼ƒäº†ã€‚</p><p>ä¸ºäº†æé«˜ç”¨æˆ·çš„ä½“éªŒï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ–­ç‚¹ç»­ä¼ ï¼Œä¹Ÿå°±æ˜¯æŠŠæ–‡ä»¶åˆ‡åˆ†æˆå°å—åï¼ŒæŒ¨ä¸ªä¸Šä¼ ã€‚è¿™æ ·å³ä½¿ä¸­é—´ä¸Šä¼ ä¸­æ–­ï¼Œä½†ä¸‹æ¬¡å†ä¸Šä¼ æ—¶ï¼Œåªä¸Šä¼ ç¼ºå¤±çš„é‚£äº›éƒ¨åˆ†å°±å¯ä»¥äº†ã€‚å¯ä»¥çœ‹åˆ°ï¼Œæ–­ç‚¹ä¸Šä¼ è™½ç„¶åœ¨æ€§èƒ½ä¸Šï¼Œä¼šé€ æˆç½‘ç»œè¯·æ±‚å˜å¤šçš„é—®é¢˜ï¼Œä½†ä¹Ÿæå¤§åœ°æé«˜äº†ç”¨æˆ·ä¸Šä¼ çš„ä½“éªŒã€‚</p><p>è¿˜æœ‰å¾ˆå¤šç»„ä»¶åº“ä¹Ÿä¼šæä¾›éª¨æ¶å›¾çš„ç»„ä»¶ï¼Œèƒ½å¤Ÿåœ¨é¡µé¢è¿˜æ²¡æœ‰è§£æå®Œæˆä¹‹å‰ï¼Œå…ˆæ¸²æŸ“ä¸€ä¸ªé¡µé¢çš„éª¨æ¶å’Œloadingçš„çŠ¶æ€ï¼Œè¿™æ ·ç”¨æˆ·åœ¨é¡µé¢åŠ è½½çš„ç­‰å¾…æœŸå°±ä¸è‡³äºä¸€ç›´ç™½å±ï¼Œä¸‹å›¾æ‰€ç¤ºå°±æ˜¯antd-vueç»„ä»¶åº“éª¨æ¶å›¾æ¸²æŸ“çš„ç»“æœã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/26/dc/26b97a7c7ba894d18ac6311a7fd966dc.gif?wh=872x472\" alt=\"å›¾ç‰‡\"></p><h2>æ€§èƒ½ç›‘æµ‹æŠ¥å‘Š</h2><p>åœ¨<a href=\"https://time.geekbang.org/column/article/442479\">ç¬¬12è®²</a>å­¦ä¹ Vue Devtoolsçš„æ—¶å€™ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨Chromeçš„æ€§èƒ½ç›‘æµ‹å·¥å…·Lighthouseå¯¹æå®¢æ—¶é—´çš„å®˜ç½‘åšäº†ä¸€æ¬¡æ€§èƒ½çš„è¯„ä¼°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°<a href=\"https://pandafe.gitee.io/clock/time.geekbang.org.html\">è¯„æµ‹æŠ¥å‘Š</a>ã€‚å¹¶ä¸”ï¼Œæˆ‘ä»¬ä¹Ÿå¯¹å¦‚ä½•åœ¨è°ƒè¯•çª—å£çš„Performanceé¡µé¢ä¸­è¿›è¡Œæ€§èƒ½ç›‘æ§ï¼Œç»™å‡ºäº†æ¼”ç¤ºã€‚ä¸ºäº†æ–¹ä¾¿ä½ ç†è§£ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä¹Ÿè§£é‡Šä¸€ä¸‹FCPã€TTIå’ŒLCPè¿™å‡ ä¸ªå…³é”®æŒ‡æ ‡çš„å«ä¹‰ã€‚</p><p>é¦–å…ˆæ˜¯First Contentful Paintï¼Œé€šå¸¸ç®€å†™ä¸ºFCPï¼Œå®ƒè¡¨ç¤ºçš„æ˜¯é¡µé¢ä¸Šå‘ˆç°ç¬¬ä¸€ä¸ªDOMå…ƒç´ çš„æ—¶é—´ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œé¡µé¢éƒ½æ˜¯ç™½å±çš„çŠ¶æ€ï¼›ç„¶åæ˜¯Time to interactiveï¼Œé€šå¸¸ç®€å†™ä¸ºTTIï¼Œä¹Ÿå°±æ˜¯é¡µé¢å¯ä»¥å¼€å§‹äº¤äº’çš„æ—¶é—´ï¼›è¿˜æœ‰å’Œç”¨æˆ·ä½“éªŒç›¸å…³çš„Largest Contentful Paintï¼Œé€šå¸¸ç®€å†™ä¸ºLCPï¼Œè¿™æ˜¯é¡µé¢è§†å£ä¸Šæœ€å¤§çš„å›¾ç‰‡æˆ–è€…æ–‡æœ¬å—æ¸²æŸ“çš„æ—¶é—´ï¼Œåœ¨è¿™ä¸ªæ—¶é—´ï¼Œç”¨æˆ·èƒ½çœ‹åˆ°æ¸²æŸ“åŸºæœ¬å®Œæˆåçš„é¦–é¡µï¼Œè¿™ä¹Ÿæ˜¯ç”¨æˆ·ä½“éªŒé‡Œéå¸¸é‡è¦çš„ä¸€ä¸ªæŒ‡æ ‡ã€‚</p><p>æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ä»£ç ä¸­çš„performanceå¯¹è±¡å»åŠ¨æ€è·å–æ€§èƒ½æŒ‡æ ‡æ•°æ®ï¼Œå¹¶ä¸”ç»Ÿä¸€å‘é€ç»™åç«¯ï¼Œå®ç°ç½‘é¡µæ€§èƒ½çš„ç›‘æ§ã€‚æ€§èƒ½ç›‘æ§ä¹Ÿæ˜¯å¤§å‹é¡¹ç›®å¿…å¤‡çš„ç›‘æ§ç³»ç»Ÿä¹‹ä¸€ï¼Œå¯ä»¥è·å–åˆ°ç”¨æˆ·ç”µè„‘ä¸Šé¡¹ç›®è¿è¡Œçš„çŠ¶æ€ã€‚</p><p>ä¸‹å›¾å±•ç¤ºäº†performanceä¸­æ‰€æœ‰çš„æ€§èƒ½æŒ‡æ ‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™äº›æŒ‡æ ‡è®¡ç®—å‡ºéœ€è¦ç»Ÿè®¡çš„æ€§èƒ½ç»“æœã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/71/f1/71a25ac4634b288911f17beb97b429f1.png?wh=912x555\" alt=\"å›¾ç‰‡\"></p><pre><code class=\"language-plain\">let timing = window.performance &amp;&amp; window.performance.timing\nlet navigation = window.performance &amp;&amp; window.performance.navigation\n\nDNS è§£æï¼š\nlet dns = timing.domainLookupEnd - timing.domainLookupStart\n\næ€»ä½“ç½‘ç»œäº¤äº’è€—æ—¶ï¼š\nlet network = timing.responseEnd - timing.navigationStart\n\næ¸²æŸ“å¤„ç†ï¼š\nlet processing = (timing.domComplete || timing.domLoading) - timing.domLoading\n\nå¯äº¤äº’ï¼š\nlet active = timing.domInteractive - timing.navigationStart\n</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡Performance APIè·å–äº†DNSè§£æã€ç½‘ç»œã€æ¸²æŸ“å’Œå¯äº¤äº’çš„æ—¶é—´æ¶ˆè€—ã€‚æœ‰äº†è¿™äº›æŒ‡æ ‡åï¼Œæˆ‘ä»¬å¯ä»¥éšæ—¶å¯¹ç”¨æˆ·ç«¯çš„æ€§èƒ½è¿›è¡Œæ£€æµ‹ï¼Œåšåˆ°æå‰å‘ç°é—®é¢˜ï¼Œæé«˜é¡¹ç›®çš„ç¨³å®šæ€§ã€‚</p><h2>æ€»ç»“</h2><p>ä»Šå¤©çš„ä¸»è¦å†…å®¹å°±èŠå®Œå•¦ï¼Œæˆ‘ä»¬æ¥å¤ä¹ ä¸€ä¸‹ä»Šå¤©å­¦åˆ°çš„å†…å®¹å§ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬äº†è§£äº†ç”¨æˆ·ä»è¾“å…¥URLåˆ°é¡µé¢æ˜¾ç¤ºçš„è¿™ä¸€è¿‡ç¨‹å‘ç”Ÿäº†ä»€ä¹ˆï¼Œè¿™é‡Œé¢çš„æ¯ä¸ªæµç¨‹éƒ½æœ‰å€¼å¾—ä¼˜åŒ–çš„åœ°æ–¹ï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚ã€é¡µé¢æ¸²æŸ“ç­‰ã€‚åœ¨å¯¹è¿™äº›æµç¨‹ä¼˜åŒ–åï¼Œç½‘é¡µè¿è¡Œæ—¶æ•´ä½“çš„æ€§èƒ½éƒ½ä¼šå¾—åˆ°æå‡ã€‚</p><p>ä¹‹åï¼Œåœ¨ç½‘ç»œè¯·æ±‚ä¼˜åŒ–è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬é¦–å…ˆè°ˆåˆ°ï¼Œå¯¹äºDNSï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡dns-prefetché¢„å…ˆè·å–ï¼Œè¿™å¯¹æ€§èƒ½ä¼˜åŒ–æ¥è¯´ï¼Œä¼šå‡å°‘é¡µé¢ä¸­å…¶ä»–åŸŸåè¯·æ±‚çš„DNSè§£ææ—¶é—´ï¼›å› ä¸ºTCPåè®®æ¯æ¬¡é“¾æ¥æ—¶ï¼Œéƒ½éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œè¿™ä¼šå¸¦æ¥é¢å¤–çš„ç½‘ç»œæ¶ˆè€—çš„é—®é¢˜ï¼Œä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬çš„ä¼˜åŒ–ç­–ç•¥æ˜¯è®©æ–‡ä»¶å°½å¯èƒ½å°‘ä¸€äº›ï¼Œå¹¶ä¸”ä¹Ÿå°ä¸€äº›ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ–‡ä»¶æ‰“åŒ…çš„å½¢å¼å‡å°‘HTTPè¯·æ±‚æ•°é‡ï¼Œè¿™æ ·å¯¹äºæ–‡ä»¶çš„å¤§å°æ¥è¯´ï¼Œå¯ä»¥å‡å°æ–‡ä»¶ä½“ç§¯ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥å‹ç¼©ä»£ç ï¼Œä»¥åŠé€‰æ‹©æ›´åˆé€‚çš„å›¾ç‰‡æ ¼å¼ï¼Œè¿™äº›éƒ½å¯ä»¥è®©æˆ‘ä»¬åŠ è½½æ›´å°çš„æ–‡ä»¶ã€‚å›¾ç‰‡çš„æ‡’åŠ è½½å’Œè·¯ç”±çš„æ‡’åŠ è½½å¯ä»¥è®©é¦–é¡µåŠ è½½æ›´å°‘çš„æ–‡ä»¶ï¼Œä»è€Œå®ç°é¡µé¢æ•´ä½“æ€§èƒ½çš„ä¼˜åŒ–ã€‚</p><p>åœ¨è®²å®Œç½‘ç»œè¯·æ±‚ä¼˜åŒ–åï¼Œæˆ‘ä»¬åˆç ”ç©¶äº†ä»£ç æ•ˆç‡ä¼˜åŒ–è¿™ä¸ªé—®é¢˜ï¼Œå…¶å®ä»£ç å±‚é¢è¦åšçš„ä¼˜åŒ–å¹¶ä¸å¤šï¼Œä¸»è¦è¿˜æ˜¯éµå®ˆVue 3æœ€ä½³å®è·µã€‚æˆ‘ä»¬è¿˜ä»¥æ–æ³¢é‚£å¥‘æ•°åˆ—çš„è®¡ç®—ä¸ºä¾‹ï¼Œé€šè¿‡åœ¨Performanceé¢æ¿ä¸­è¿›è¡Œæ€§èƒ½ç›‘æ§ï¼Œæ˜ç¡®äº†ä»£ç ä¼˜åŒ–çš„æ–¹å‘ã€‚åœ¨é€šè¿‡é€’å½’çš„æ–¹å¼ä¼˜åŒ–æ–æ³¢é‚£å¥‘æ•°åˆ—ä¹‹åï¼Œæˆ‘ä»¬èƒ½æ˜ç™½è¿™æ ·ä¸€ç‚¹ï¼š<strong>æ€§èƒ½ä¼˜åŒ–çš„ä¸€ä¸ªé‡è¦åŸåˆ™ï¼Œæ˜¯ä¸è¦<strong><strong>è¿‡åº¦</strong></strong>ä¼˜åŒ–</strong>ã€‚</p><p>ä¹‹åï¼Œåœ¨ç”¨æˆ·ä½“éªŒä¼˜åŒ–è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬çš„å…³æ³¨ç‚¹æ˜¯åœ¨äº¤äº’ä½“éªŒçš„ä¼˜åŒ–ä¸Šã€‚æœ‰äº›åœºæ™¯æˆ‘ä»¬å¯ä»¥æŸå¤±éƒ¨åˆ†æ€§èƒ½å»æ¢å–ä½“éªŒçš„æå‡ï¼Œæ¯”å¦‚é€šè¿‡éª¨æ¶å›¾ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡µé¢åŠ è½½ä¹‹å‰ï¼Œé€šè¿‡å¯¹å›¾ç‰‡é¢„å…ˆåŠ è½½å‡ºæ¨¡ç³Šç‰ˆæœ¬ï¼Œå¯ä»¥è®©ç”¨æˆ·è·å¾—æ›´å¥½çš„ä½“éªŒã€‚</p><p>æœ€åï¼Œåœ¨æ€§èƒ½ç›‘æµ‹æŠ¥å‘Šè¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘è®²åˆ°é€‰æ‹©åˆé€‚çš„å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®æ—¶åœ°ç›‘æµ‹é¡¹ç›®çš„æ€§èƒ½ã€‚æˆ‘ä»¬é€šè¿‡Lighthouseæ€§èƒ½æŠ¥å‘Šå’ŒPerformaceç›‘æµ‹å·¥å…·ï¼Œå¯ä»¥ç²¾ç¡®åœ°å®šä½åˆ°é¡¹ç›®ç“¶é¢ˆæ‰€åœ¨ï¼Œæœ‰é’ˆå¯¹åœ°å»è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æœ€åï¼Œç»™ä½ ç•™ä¸€ä¸ªæ€è€ƒé¢˜ï¼šé€šè¿‡ä»Šå¤©çš„å­¦ä¹ ï¼Œæƒ³ä¸€æƒ³ä½ è´Ÿè´£çš„é¡¹ç›®éƒ½æœ‰å“ªäº›å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹å‘¢ï¼Ÿ</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºç•™è¨€åˆ†äº«ä½ çš„æƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ä¸€è®²çš„å†…å®¹æ¨èç»™ä½ çš„æœ‹å‹ã€åŒäº‹ä»¬ï¼Œæˆ‘ä»¬ä¸‹ä¸€è®²è§ã€‚</p>","neighbors":{"left":{"article_title":"17 | å®æˆ˜ç—›ç‚¹3ï¼šVue 3ä¸­å¦‚ä½•é›†æˆç¬¬ä¸‰æ–¹æ¡†æ¶","id":450611},"right":{"article_title":"åŠ é¤01ï½œä»€ä¹ˆæ˜¯å¥½çš„é¡¹ç›®ï¼Ÿ","id":460565}},"comments":[{"had_liked":false,"id":323449,"user_name":"ll","can_delete":false,"product_type":"c1","uid":1296458,"ip_address":"","ucode":"57C5DAC5B51036","user_header":"https://static001.geekbang.org/account/avatar/00/13/c8/4a/3a322856.jpg","comment_is_top":false,"comment_ctime":1637909116,"is_pvip":true,"replies":[{"id":"117367","content":"coolï¼Œæµè§ˆå™¨åŸç†çš„è¯¾ä¹Ÿè´¼æ£’ å¼ºæ¨","user_name":"ä½œè€…å›å¤","comment_id":323449,"uid":"1003715","ip_address":"","utype":1,"ctime":1637932556,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"53177516668","product_id":100094401,"comment_content":"æ€§èƒ½ä¼˜åŒ–è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆè¦çŸ¥é“é—®é¢˜æ˜¯æ€ä¹ˆæ˜¯æ€ä¹ˆäº§ç”Ÿçš„ï¼Ÿè€Œè¿™ä¸€åˆ‡çš„æ ¹æºå…¶å®åŒ…å«åœ¨â€œä»è¾“å…¥URLåˆ°é¡µé¢ç”Ÿæˆå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿâ€è¿™ä¸ªé—®é¢˜ä¸­ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å‚è€ƒã€Šæµè§ˆå™¨å·¥ä½œåŸç†ä¸å®è·µã€‹ï¼Œå¯¼èˆªã€æ¸²æŸ“ã€é¡µé¢ç­‰ç« èŠ‚ã€‚<br>è¦æƒ³æ€§èƒ½ä¼˜åŒ–å¥½ï¼Œåº•å±‚åŸç†å°‘ä¸äº†ã€‚","like_count":13,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"èŠ±æœå±±å¤§åœ£","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533675,"discussion_content":"coolï¼Œæµè§ˆå™¨åŸç†çš„è¯¾ä¹Ÿè´¼æ£’ å¼ºæ¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637932556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323379,"user_name":"æµ·é˜”å¤©ç©º","can_delete":false,"product_type":"c1","uid":1327016,"ip_address":"","ucode":"16C87A0052A08B","user_header":"https://static001.geekbang.org/account/avatar/00/14/3f/a8/8da58e53.jpg","comment_is_top":false,"comment_ctime":1637883297,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31702654369","product_id":100094401,"comment_content":"æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªè®²ä¸å®Œçš„è¯é¢˜ã€‚ä»¥å‰é¡¹ç›®åšæ€§èƒ½ä¼˜åŒ–å°±æ˜¯ æŒ‰éœ€ä¼˜åŒ–ã€‚å½“ç„¶è€å¸ˆè®²çš„ï¼Œæ€§èƒ½ä¼˜åŒ–çš„ä¸€ä¸ªé‡è¦åŸåˆ™ï¼Œæ˜¯ä¸è¦è¿‡åº¦ä¼˜åŒ–ã€‚éå¸¸å¥½ï¼Œç»™äº†ä¸€ä¸ªå‚è€ƒçš„æ–¹å‘ã€‚","like_count":7},{"had_liked":false,"id":323439,"user_name":"æ¶¦åŸ¹","can_delete":false,"product_type":"c1","uid":1334652,"ip_address":"","ucode":"1CC2CD568CECC5","user_header":"https://static001.geekbang.org/account/avatar/00/14/5d/7c/3cfece5e.jpg","comment_is_top":false,"comment_ctime":1637904102,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14522805990","product_id":100094401,"comment_content":"è™½è¯´Vue3åº•å±‚åšäº†å¾ˆå¤šä¼˜åŒ–ï¼Œä½†å¾ˆå¤šä¸šåŠ¡é€»è¾‘è¿˜æ˜¯æˆ‘ä»¬è‡ªå·±å®ç°çš„ï¼Œä¾‹å¦‚æ–‡ä¸­æåˆ°çš„æ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚<br>è¿™éƒ¨åˆ†çš„ä¼˜åŒ–æ›´ä¾èµ–äºæˆ‘ä»¬çš„ç®—æ³•èƒ½åŠ›ã€‚","like_count":3},{"had_liked":false,"id":323648,"user_name":"Geek_d47f78","can_delete":false,"product_type":"c1","uid":2839286,"ip_address":"","ucode":"97445B933473DA","user_header":"","comment_is_top":false,"comment_ctime":1638067598,"is_pvip":false,"replies":[{"id":"118036","content":"åå‡ ä¸ªGçš„è¯ï¼Œå°±å»ºè®®ç”¨ä¸“é—¨çš„è½¯ä»¶ä¸Šä¼ äº†ï¼Œç”šè‡³èµ°httpéƒ½ä¸å¤ªåˆé€‚","user_name":"ä½œè€…å›å¤","comment_id":323648,"uid":"1003715","ip_address":"","utype":1,"ctime":1638882285,"user_name_real":"ç¼–è¾‘"}],"discussion_count":2,"race_medal":0,"score":"10228002190","product_id":100094401,"comment_content":"æ”¯æŒåå‡ ä¸ªGçš„æ–‡ä»¶ä¸Šä¼ ï¼Œæ–­ç‚¹ç»­ä¼ ï¼Œåˆ†ç‰‡ä¹Ÿè¡Œå—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"èŠ±æœå±±å¤§åœ£","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536848,"discussion_content":"åå‡ ä¸ªGçš„è¯ï¼Œå°±å»ºè®®ç”¨ä¸“é—¨çš„è½¯ä»¶ä¸Šä¼ äº†ï¼Œç”šè‡³èµ°httpéƒ½ä¸å¤ªåˆé€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638882286,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2832259,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epmBmNzSU9po7PX7NapoPlIPoRWOUUAiaQ1RvOnqmMZkFLnVTKiafHEMzwiamEqWyDCYWcvpYunAJ5Kg/132","nickname":"aehyok","note":"","ucode":"5170D8FC3143D6","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535211,"discussion_content":"è‚¯å®šå¯ä»¥çš„ï¼Œå½“ç„¶è¿˜éœ€è¦åç«¯æ”¯æŒï¼Œä»¥åŠæœåŠ¡å™¨å¸¦å®½ç­‰çš„æ”¯æŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638367775,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323820,"user_name":"å¥‡å¥‡","can_delete":false,"product_type":"c1","uid":1031906,"ip_address":"","ucode":"1AED63F069C040","user_header":"https://static001.geekbang.org/account/avatar/00/0f/be/e2/57d62270.jpg","comment_is_top":false,"comment_ctime":1638174427,"is_pvip":false,"replies":[{"id":"118368","content":"æˆ‘å†™çš„å°±æ˜¯æ ¹ç›®å½•çš„stat.htmlå“ˆ","user_name":"ä½œè€…å›å¤","comment_id":323820,"uid":"1003715","ip_address":"","utype":1,"ctime":1639401245,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"5933141723","product_id":100094401,"comment_content":"ä¸ºä»€ä¹ˆæˆ‘çš„æ˜¯åœ¨é¡¹ç›®çš„è·Ÿç›®å½•å¤šäº†ä¸€ä¸ª stats.html ï¼Œå¹¶ä¸æ˜¯åœ¨ build å dist ä¸­ç”Ÿæˆå‘¢","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"èŠ±æœå±±å¤§åœ£","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538367,"discussion_content":"æˆ‘å†™çš„å°±æ˜¯æ ¹ç›®å½•çš„stat.htmlå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639401245,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323569,"user_name":"Danny1","can_delete":false,"product_type":"c1","uid":1196402,"ip_address":"","ucode":"BBD581B38D8470","user_header":"https://static001.geekbang.org/account/avatar/00/12/41/72/ecc49429.jpg","comment_is_top":false,"comment_ctime":1637995951,"is_pvip":false,"replies":[{"id":"118376","content":"ä»£ç ä¸­çš„index.htmlä¸­åŠ ä¸Šå³å¯","user_name":"ä½œè€…å›å¤","comment_id":323569,"uid":"1003715","ip_address":"","utype":1,"ctime":1639401501,"user_name_real":"ç¼–è¾‘"}],"discussion_count":2,"race_medal":0,"score":"5932963247","product_id":100094401,"comment_content":" dns-prefetch æ€ä¹ˆè®©æ‰“åŒ…åçš„ä»£ç ä¸­æ·»åŠ è¿™ä¸ªå‘¢","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"èŠ±æœå±±å¤§åœ£","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538375,"discussion_content":"ä»£ç ä¸­çš„index.htmlä¸­åŠ ä¸Šå³å¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639401502,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2541528,"avatar":"https://static001.geekbang.org/account/avatar/00/26/c7/d8/438128f3.jpg","nickname":"ä½˜ä½˜ä½˜ä½˜ä½˜","note":"","ucode":"4F363CCE06B12F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543282,"discussion_content":"metaä¸­è®¾ç½®ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641045980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323460,"user_name":"å—å±±","can_delete":false,"product_type":"c1","uid":1239362,"ip_address":"","ucode":"1B5EF54A2A56F8","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/42/1de79e71.jpg","comment_is_top":false,"comment_ctime":1637914427,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5932881723","product_id":100094401,"comment_content":"ç”¨æˆ·ä½“éªŒçš„ä¼˜åŒ–ï¼šæ¯”å¦‚å¢åŠ éª¨æ¶å±<br>æ‰“åŒ…ä¼˜åŒ–ï¼šæŒ‰éœ€åŠ è½½å’Œæ‡’åŠ è½½","like_count":1},{"had_liked":false,"id":323425,"user_name":"@","can_delete":false,"product_type":"c1","uid":1985141,"ip_address":"","ucode":"B308157E3FA393","user_header":"https://static001.geekbang.org/account/avatar/00/1e/4a/75/51435f4b.jpg","comment_is_top":false,"comment_ctime":1637896525,"is_pvip":false,"replies":[{"id":"118380","content":"æŠŠimport Button from &#39;.&#47;Button&#39;æ¢æˆ import(&#39;.&#47;Button.vue&#39;)ï¼Œè¿™é‡Œå¯ä»¥å»vue-routerå®˜ç½‘çœ‹ä¾‹å­<br>https:&#47;&#47;next.router.vuejs.org&#47;zh&#47;guide&#47;advanced&#47;lazy-loading.html#%E6%8A%8A%E7%BB%84%E4%BB%B6%E6%8C%89%E7%BB%84%E5%88%86%E5%9D%97","user_name":"ä½œè€…å›å¤","comment_id":323425,"uid":"1003715","ip_address":"","utype":1,"ctime":1639401721,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"5932863821","product_id":100094401,"comment_content":"è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ç”¨æ‡’åŠ è½½å’ŒæŒ‰éœ€åŠ è½½çš„æ–¹å¼ï¼Œå»ä¼˜åŒ–é¡¹ç›®æ•´ä½“çš„ä½“ç§¯ã€‚<br>å…·ä½“å®æ“å‘¢ï¼Œæƒ³çŸ¥é“è§£å†³åŠæ³•","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"èŠ±æœå±±å¤§åœ£","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538383,"discussion_content":"æŠŠimport Button from &#39;./Button&#39;æ¢æˆ import(&#39;./Button.vue&#39;)ï¼Œè¿™é‡Œå¯ä»¥å»vue-routerå®˜ç½‘çœ‹ä¾‹å­\nhttps://next.router.vuejs.org/zh/guide/advanced/lazy-loading.html#%E6%8A%8A%E7%BB%84%E4%BB%B6%E6%8C%89%E7%BB%84%E5%88%86%E5%9D%97","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639401721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356779,"user_name":"ğŸ¾ ğŸ¾  ğŸ¾   ğŸ¾    ğŸ¾","can_delete":false,"product_type":"c1","uid":1653713,"ip_address":"æ–°ç–†","ucode":"09D283FEC24A23","user_header":"https://static001.geekbang.org/account/avatar/00/19/3b/d1/89f1b3c8.jpg","comment_is_top":false,"comment_ctime":1662581069,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662581069","product_id":100094401,"comment_content":"è€å¸ˆçŸ¥è¯†é¢çœŸå¹¿å‘€ï¼è®©æˆ‘å¤ä¹ åˆ°äº†è®¡ç®—æ–æ³¢æ‹‰å¥‘æ•°åˆ—lgnæ—¶é—´å¤æ‚åº¦çš„çŸ©é˜µè¿ç®—æ–¹æ³•ã€‚","like_count":0},{"had_liked":false,"id":324747,"user_name":"Geek_24e4e0","can_delete":false,"product_type":"c1","uid":2846099,"ip_address":"","ucode":"A33B06A982D204","user_header":"","comment_is_top":false,"comment_ctime":1638601656,"is_pvip":false,"replies":[{"id":"118333","content":"propsè§£æ„ä¹‹åå°±æ²¡æœ‰å“åº”å¼äº†ï¼Œå¦‚æœæƒ³ç»§ç»­ä¿æŒçš„è¯ï¼Œå¯ä»¥ç”¨toRefåŒ…è£¹ï¼Œæˆ–è€…ä¸å®ç”¨è§£æ„ï¼Œä½¿ç”¨props.product","user_name":"ä½œè€…å›å¤","comment_id":324747,"uid":"1003715","ip_address":"","utype":1,"ctime":1639398680,"user_name_real":"ç¼–è¾‘"}],"discussion_count":2,"race_medal":0,"score":"1638601656","product_id":100094401,"comment_content":"Composition API + &lt;script setup&gt; <br> const { product } = defineProps&lt;{<br>    product: Product;<br>  }&gt;();<br><br>æ€ä¹ˆç›‘å¬ product çš„æ”¹å˜å‘¢","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"èŠ±æœå±±å¤§åœ£","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538323,"discussion_content":"propsè§£æ„ä¹‹åå°±æ²¡æœ‰å“åº”å¼äº†ï¼Œå¦‚æœæƒ³ç»§ç»­ä¿æŒçš„è¯ï¼Œå¯ä»¥ç”¨toRefåŒ…è£¹ï¼Œæˆ–è€…ä¸å®ç”¨è§£æ„ï¼Œä½¿ç”¨props.product","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639398680,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1294301,"avatar":"https://static001.geekbang.org/account/avatar/00/13/bf/dd/6a62490e.jpg","nickname":"è¯¸è‘›æ ¼","note":"","ucode":"5F1AF65F145A71","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537106,"discussion_content":"&lt;script setup&gt;\nimport { defineProps, toRefs} from &#39;vue&#39;;\nconst props = defineProps({\n     active:{\n           type:Array,\n          default:[]\n    }\n});\nconst { active } = toRefs(props)\n&lt;/script&gt;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638957380,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324614,"user_name":"Geek_a2f5d8","can_delete":false,"product_type":"c1","uid":2090182,"ip_address":"","ucode":"A26DFB5285DD5D","user_header":"","comment_is_top":false,"comment_ctime":1638518934,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638518934","product_id":100094401,"comment_content":"u1s1ï¼Œé…å›¾è¿˜æ˜¯å¾ˆæœ‰å“å‘³çš„","like_count":0},{"had_liked":false,"id":323697,"user_name":"ihhuai","can_delete":false,"product_type":"c1","uid":1379127,"ip_address":"","ucode":"A796AF20437B8A","user_header":"https://static001.geekbang.org/account/avatar/00/15/0b/37/fd8355c4.jpg","comment_is_top":false,"comment_ctime":1638105213,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638105213","product_id":100094401,"comment_content":"router-view v-slot åšè½¬åœºåŠ¨ç”»ï¼Œæç¤º template é¡»æ˜¯ä¸€ä¸ªæ ¹å…ƒç´ ï¼Œç”¨ div åŒ…è£¹åï¼ŒåŠ¨ç”»æ­£å¸¸ï¼Œä½†æ˜¯è·å–ä¸åˆ° body çš„é«˜åº¦äº† getBoundClientRect åªè¿”å›äº† width right çš„å€¼ï¼Œå…¶ä»–å€¼éƒ½æ˜¯ 0ã€‚è®¾ç½® template æ˜¯å¤šèŠ‚ç‚¹ï¼Œå°±å¯ä»¥è·å–åˆ° heightã€‚ä¸€ç›´æ‰¾ä¸åˆ°åŸå› ....","like_count":0}]}
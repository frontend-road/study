{"id":272104,"title":"02ï½œå¼ºä¸€è‡´æ€§ï¼šé‚£ä¹ˆå¤šæ•°æ®ä¸€è‡´æ€§æ¨¡å‹ï¼Œç©¶ç«Ÿæœ‰å•¥ä¸ä¸€æ ·ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ç‹ç£Šï¼Œä½ ä¹Ÿå¯ä»¥å«æˆ‘Ivanã€‚</p><p>æˆ‘ä»¬ç»å¸¸ä¼šå¬åˆ°è¯´ï¼Œåˆ†å¸ƒå¼æ•°æ®åº“çš„ä¸€ä¸ªä¼˜åŠ¿åœ¨äºï¼Œå®ƒèƒ½å¤Ÿæ”¯æŒNoSQLåšä¸åˆ°çš„å¼ºä¸€è‡´æ€§ã€‚ä½ æ€ä¹ˆçœ‹å¾…è¿™ä»¶äº‹å„¿å‘¢ï¼Ÿ</p><p>æ˜¾ç„¶ï¼Œè¦æ¥åˆ†æè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é¦–å…ˆå¾—æ˜ç™½â€œå¼ºä¸€è‡´æ€§â€æ„å‘³ç€ä»€ä¹ˆã€‚</p><p>æˆ‘ä¹Ÿé—®è¿‡å¾ˆå¤šèº«è¾¹çš„æœ‹å‹ï¼Œä»–ä»¬çš„ç­”æ¡ˆéƒ½ä¸å¤ªä¸€æ ·ã€‚æœ‰äººè¯´ï¼Œåªè¦ä½¿ç”¨äº†Paxosæˆ–è€…Raftç®—æ³•ï¼Œå°±å¯ä»¥å®ç°å¼ºä¸€è‡´æ€§ï¼›ä¹Ÿæœ‰äººè¯´ï¼Œæ ¹æ®CAPåŸç†åªèƒ½ä¸‰é€‰äºŒï¼Œåˆ†åŒºå®¹å¿æ€§å’Œé«˜å¯ç”¨æ€§åˆæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œæ‰€ä»¥åˆ†å¸ƒå¼æ•°æ®åº“æ˜¯åšä¸åˆ°å¼ºä¸€è‡´æ€§çš„ã€‚å¯æ˜¯ï¼Œè¿™äº›è§‚ç‚¹æˆ–å¤šæˆ–å°‘éƒ½æ˜¯æœ‰é—®é¢˜çš„ã€‚</p><p>é‚£ä¹ˆï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥è®²è®²ä»€ä¹ˆæ˜¯â€œå¼ºä¸€è‡´æ€§â€ã€‚</p><p>ä¸€ç›´ä»¥æ¥ï¼Œåœ¨â€œåˆ†å¸ƒå¼ç³»ç»Ÿâ€å’Œâ€œæ•°æ®åº“â€è¿™ä¸¤ä¸ªå­¦ç§‘ä¸­ï¼Œä¸€è‡´æ€§ï¼ˆConsistencyï¼‰éƒ½æ˜¯é‡è¦æ¦‚å¿µï¼Œä½†å®ƒè¡¨è¾¾çš„å†…å®¹å´å¹¶ä¸ç›¸åŒã€‚</p><p>å¯¹äºåˆ†å¸ƒå¼ç³»ç»Ÿè€Œè¨€ï¼Œä¸€è‡´æ€§æ˜¯åœ¨æ¢è®¨å½“ç³»ç»Ÿå†…çš„ä¸€ä»½é€»è¾‘æ•°æ®å­˜åœ¨å¤šä¸ªç‰©ç†çš„æ•°æ®å‰¯æœ¬æ—¶ï¼Œå¯¹å…¶æ‰§è¡Œè¯»å†™æ“ä½œä¼šäº§ç”Ÿä»€ä¹ˆæ ·çš„ç»“æœï¼Œè¿™ä¹Ÿç¬¦åˆCAPç†è®ºå¯¹ä¸€è‡´æ€§çš„è¡¨è¿°ã€‚</p><p>è€Œåœ¨æ•°æ®åº“é¢†åŸŸï¼Œâ€œä¸€è‡´æ€§â€ä¸äº‹åŠ¡å¯†åˆ‡ç›¸å…³ï¼Œåˆè¿›ä¸€æ­¥ç»†åŒ–åˆ°ACIDå››ä¸ªæ–¹é¢ã€‚å…¶ä¸­ï¼ŒIæ‰€ä»£è¡¨çš„éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼Œæ˜¯â€œä¸€è‡´æ€§â€çš„æ ¸å¿ƒå†…å®¹ï¼Œç ”ç©¶çš„å°±æ˜¯å¦‚ä½•åè°ƒäº‹åŠ¡ä¹‹é—´çš„å†²çªã€‚</p><p>å› æ­¤ï¼Œå½“æˆ‘ä»¬è°ˆè®ºåˆ†å¸ƒå¼æ•°æ®åº“çš„ä¸€è‡´æ€§æ—¶ï¼Œå®è´¨ä¸Šæ˜¯åœ¨è°ˆè®º<strong>æ•°æ®ä¸€è‡´æ€§</strong>å’Œ<strong>äº‹åŠ¡ä¸€è‡´æ€§</strong>ä¸¤ä¸ªæ–¹é¢ã€‚è¿™ä¸€ç‚¹ï¼Œä»Google Spannerå¯¹å…¶å¤–éƒ¨ä¸€è‡´æ€§ï¼ˆExternal Consistencyï¼‰çš„<a href=\"https://cloudplatform.googleblog.com/2018/01/why-you-should-pick-strong-consistency-whenever-possible.html\">è®ºè¿°</a>ä¸­ä¹Ÿå¯ä»¥å¾—åˆ°ä½è¯ã€‚</p><!-- [[[read_end]]] --><h2>æ•°æ®ä¸€è‡´æ€§</h2><p>ä»Šå¤©ï¼Œæˆ‘ä¼šå…ˆä»‹ç»æ•°æ®ä¸€è‡´æ€§ï¼Œä¸‹ä¸€è®²ä¸­ï¼Œæˆ‘å†ä¸ºä½ è®²è§£äº‹åŠ¡ä¸€è‡´æ€§ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚</p><p>åŒ…æ‹¬åˆ†å¸ƒå¼æ•°æ®åº“åœ¨å†…çš„åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼Œä¸ºäº†é¿å…è®¾å¤‡ä¸ç½‘ç»œçš„ä¸å¯é å¸¦æ¥çš„å½±å“ï¼Œé€šå¸¸ä¼šå­˜å‚¨å¤šä¸ªæ•°æ®å‰¯æœ¬ã€‚é€»è¾‘ä¸Šçš„ä¸€ä»½æ•°æ®åŒæ—¶å­˜å‚¨åœ¨å¤šä¸ªç‰©ç†å‰¯æœ¬ä¸Šï¼Œè‡ªç„¶å¸¦æ¥äº†æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚</p><p>è®¨è®ºæ•°æ®ä¸€è‡´æ€§è¿˜æœ‰ä¸€ä¸ªå‰æï¼Œå°±æ˜¯åŒæ—¶å­˜åœ¨è¯»æ“ä½œå’Œå†™æ“ä½œï¼Œå¦åˆ™ä¹Ÿæ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚æŠŠä¸¤ä¸ªå› ç´ åŠ åœ¨ä¸€èµ·ï¼Œå°±æ˜¯å¤šå‰¯æœ¬æ•°æ®ä¸Šçš„ä¸€ç»„è¯»å†™ç­–ç•¥ï¼Œè¢«ç§°ä¸ºâ€œä¸€è‡´æ€§æ¨¡å‹â€ï¼ˆConsistency Modelï¼‰ã€‚ä¸€è‡´æ€§æ¨¡å‹æ•°é‡å¾ˆå¤šï¼Œè®©äººéš¾ä»¥åˆ†è¾¨ã€‚ä¸ºäº†ä¾¿äºä½ ç†è§£ï¼Œæˆ‘å…ˆå»ºç«‹ä¸€ä¸ªç®€å•çš„åˆ†ææ¡†æ¶ã€‚</p><p>è¿™é‡Œï¼Œæˆ‘è¦å€Ÿç”¨è®ºæ–‡â€œThe many faces of consistencyâ€ä¸­çš„ä¸¤ä¸ªæ¦‚å¿µï¼ŒçŠ¶æ€ä¸€è‡´æ€§ï¼ˆState Consistencyï¼‰å’Œæ“ä½œä¸€è‡´æ€§ï¼ˆOperation Consistencyï¼‰ã€‚ä¸è¦æ…Œï¼Œè¿™ä¸æ˜¯æ–°çš„ä¸€è‡´æ€§æ¨¡å‹ï¼Œå®ƒä»¬åªæ˜¯è§‚å¯Ÿæ•°æ®ä¸€è‡´æ€§çš„ä¸¤ä¸ªè§†è§’ã€‚</p><ul>\n<li>çŠ¶æ€ä¸€è‡´æ€§æ˜¯æŒ‡ï¼Œæ•°æ®æ‰€å¤„çš„å®¢è§‚ã€å®é™…çŠ¶æ€æ‰€ä½“ç°çš„ä¸€è‡´æ€§ï¼›</li>\n<li>æ“ä½œä¸€è‡´æ€§æ˜¯æŒ‡ï¼Œå¤–éƒ¨ç”¨æˆ·é€šè¿‡åè®®çº¦å®šçš„æ“ä½œï¼Œèƒ½å¤Ÿè¯»å–åˆ°çš„æ•°æ®ä¸€è‡´æ€§ã€‚</li>\n</ul><h2>çŠ¶æ€è§†è§’</h2><p>ä»çŠ¶æ€çš„è§†è§’æ¥çœ‹ï¼Œä»»ä½•å˜æ›´æ“ä½œåï¼Œæ•°æ®åªæœ‰ä¸¤ç§çŠ¶æ€ï¼Œæ‰€æœ‰å‰¯æœ¬ä¸€è‡´æˆ–è€…ä¸ä¸€è‡´ã€‚åœ¨æŸäº›æ¡ä»¶ä¸‹ï¼Œä¸ä¸€è‡´çš„çŠ¶æ€æ˜¯æš‚æ—¶ï¼Œè¿˜ä¼šè½¬æ¢åˆ°ä¸€è‡´çš„çŠ¶æ€ï¼Œè€Œé‚£äº›æ°¸è¿œä¸ä¸€è‡´çš„æƒ…å†µå‡ ä¹ä¸ä¼šå»è®¨è®ºï¼Œæ‰€ä»¥ä¹ æƒ¯ä¸Šå¤§å®¶ä¼šæŠŠä¸ä¸€è‡´ç§°ä¸ºâ€œå¼±ä¸€è‡´â€ã€‚ç›¸å¯¹çš„ï¼Œä¸€è‡´å°±å«åšâ€œå¼ºä¸€è‡´â€äº†ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¥MySQLä¸ºä¾‹æ¥è¯´æ˜çŠ¶æ€è§†è§’çš„â€œå¼ºä¸€è‡´â€ã€‚</p><h3>å¼ºä¸€è‡´æ€§ï¼šMySQLå…¨åŒæ­¥å¤åˆ¶</h3><p>ç°åœ¨æœ‰ä¸€ä¸ªMySQLé›†ç¾¤ï¼Œç”±ä¸€ä¸»ä¸¤å¤‡ä¸‰ä¸ªèŠ‚ç‚¹æ„æˆï¼Œé‚£ä¹ˆåœ¨å…¨åŒæ­¥å¤åˆ¶ï¼ˆFully Synchronous Replicationï¼‰æ¨¡å¼ä¸‹ï¼Œç”¨æˆ·ä¸MySQLäº¤äº’çš„è¿‡ç¨‹æ˜¯è¿™æ ·çš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/eb/1d/eb572abd30b3f77cb001c339ba37851d.jpg?wh=2700*1068\" alt=\"\"></p><p>åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œä¸»åº“ä¸å¤‡åº“åŒæ­¥binlogæ—¶ï¼Œä¸»åº“åªæœ‰åœ¨æ”¶åˆ°ä¸¤ä¸ªå¤‡åº“çš„æˆåŠŸå“åº”åï¼Œæ‰èƒ½å¤Ÿå‘å®¢æˆ·ç«¯åé¦ˆæäº¤æˆåŠŸã€‚</p><p>æ˜¾ç„¶ï¼Œç”¨æˆ·è·å¾—å“åº”æ—¶ï¼Œä¸»åº“å’Œå¤‡åº“çš„æ•°æ®å‰¯æœ¬å·²ç»è¾¾æˆä¸€è‡´ï¼Œæ‰€ä»¥åç»­çš„è¯»æ“ä½œè‚¯å®šæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†è¿™ç§æ¨¡å¼çš„å‰¯ä½œç”¨éå¸¸å¤§ï¼Œä½“ç°åœ¨ä»¥ä¸‹ä¸¤ç‚¹ã€‚</p><p>ç¬¬ä¸€ï¼Œ<strong>æ€§èƒ½å·®</strong>ã€‚ä¸»åº“å¿…é¡»ç­‰åˆ°ä¸¤ä¸ªå¤‡åº“å‡è¿”å›æˆåŠŸåï¼Œæ‰èƒ½å‘ç”¨æˆ·åé¦ˆæäº¤æˆåŠŸã€‚å›¾ä¸­ç”±äºç½‘ç»œé˜»å¡ï¼Œâ€œå¤‡åº“2â€ç¨æ™šäºâ€œå¤‡åº“1â€è¿”å›å“åº”ï¼Œå¢åŠ äº†æ•°æ®åº“æ•´ä½“çš„å»¶æ—¶ã€‚è€Œä¸‹ä¸€æ¬¡ï¼Œæ‹–åè…¿çš„å¯èƒ½å˜æˆâ€œå¤‡åº“1â€ã€‚æ€»ä¹‹ï¼Œä¸»åº“çš„å“åº”æ—¶é—´å–å†³äºä¸¤ä¸ªå¤‡åº“ä¸­å»¶æ—¶æœ€é•¿çš„é‚£ä¸ªã€‚</p><p>ç¬¬äºŒï¼Œ<strong>å¯ç”¨æ€§é—®é¢˜</strong>ã€‚æˆ‘ä»¬åœ¨ç¬¬1è®²æåˆ°è¿‡å¯ç”¨æ€§æ¦‚å¿µï¼Œä»»ä½•è®¾å¤‡éƒ½æœ‰å¯èƒ½å‡ºç°æ•…éšœï¼Œå°¤å…¶æ˜¯x86è¿™æ ·çš„é€šç”¨å•†ä¸šè®¾å¤‡ï¼Œæ•…éšœç‡ä¼šæ›´é«˜ã€‚ä½†åœ¨å…¨åŒæ­¥å¤åˆ¶æ¨¡å¼ä¸‹ï¼Œé›†ç¾¤ä¸­çš„ä¸‰ä¸ªèŠ‚ç‚¹è¢«ä¸²è”èµ·æ¥ï¼Œå¦‚æœå•æœºå¯ç”¨æ€§æ˜¯95%ï¼Œé‚£ä¹ˆé›†ç¾¤æ•´ä½“çš„å¯ç”¨æ€§å°±æ˜¯85.7%ï¼ˆ95%*95%*95%=85.7%ï¼‰ï¼Œè·Ÿå•æœºç›¸æ¯”åè€Œé™ä½äº†ã€‚</p><p>é›†ç¾¤è§„æ¨¡è¶Šå¤§ï¼Œè¿™äº›é—®é¢˜å°±è¶Šä¸¥é‡ï¼Œæ‰€ä»¥å…¨åŒæ­¥å¤åˆ¶æ¨¡å¼åœ¨ç”Ÿäº§ç³»ç»Ÿä¸­ä¹Ÿå¾ˆå°‘ä½¿ç”¨ã€‚æ›´è¿›ä¸€æ­¥è¯´ï¼Œåœ¨å·¥ç¨‹å®è·µä¸­ï¼Œå®ç°çŠ¶æ€è§†è§’çš„å¼ºä¸€è‡´æ€§éœ€è¦ä»˜å‡ºçš„ä»£ä»·å¤ªå¤§ï¼Œå°¤å…¶æ˜¯ä¸å¯ç”¨æ€§æœ‰æ— æ³•å›é¿çš„å†²çªï¼Œæ‰€ä»¥å¾ˆå¤šäº§å“é€‰æ‹©äº†çŠ¶æ€è§†è§’çš„å¼±ä¸€è‡´æ€§ã€‚</p><h3>å¼±ä¸€è‡´æ€§ï¼šNoSQLæœ€ç»ˆä¸€è‡´æ€§</h3><p>NoSQLäº§å“æ˜¯åº”ç”¨å¼±ä¸€è‡´æ€§çš„å…¸å‹ä»£è¡¨ï¼Œä½†å¯¹å¼±ä¸€è‡´æ€§çš„æ¥å—ä»ç„¶æ˜¯æœ‰é™åº¦çš„ï¼Œè¿™å°±æ˜¯BASEç†è®ºä¸­çš„Eæ‰€ä»£è¡¨çš„æœ€ç»ˆä¸€è‡´æ€§ï¼ˆEventually Consistencyï¼‰ï¼Œå¼±äºæœ€ç»ˆä¸€è‡´æ€§çš„äº§å“å°±å‡ ä¹æ²¡æœ‰äº†ã€‚</p><p>å¯¹äºæœ€ç»ˆä¸€è‡´æ€§ï¼Œä½ å¯ä»¥è¿™æ ·ç†è§£ï¼šåœ¨ä¸»å‰¯æœ¬æ‰§è¡Œå†™æ“ä½œå¹¶åé¦ˆæˆåŠŸæ—¶ï¼Œä¸è¦æ±‚å…¶ä»–å‰¯æœ¬ä¸ä¸»å‰¯æœ¬ä¿æŒä¸€è‡´ï¼Œä½†åœ¨ç»è¿‡ä¸€æ®µæ—¶é—´åè¿™äº›å‰¯æœ¬æœ€ç»ˆä¼šè¿½ä¸Šä¸»å‰¯æœ¬çš„è¿›åº¦ï¼Œé‡æ–°è¾¾åˆ°æ•°æ®çŠ¶æ€çš„ä¸€è‡´ã€‚</p><p>ä½ å†ä»”ç»†æ¨æ•²ä¸€ä¸‹ï¼Œæ˜¯ä¸æ˜¯è§‰å¾—è¿™ä¸ªå®šä¹‰è¿˜æœ‰ç‚¹å«ç³Šï¼Ÿâ€œç»è¿‡ä¸€æ®µæ—¶é—´â€åˆ°åº•æ˜¯å¤šä¹…å‘¢ï¼Ÿå‡ ç§’è¿˜æ˜¯å‡ åˆ†é’Ÿï¼Ÿå¦‚æœæ˜¯ä¸€ä¸ªä¸ç¡®å®šçš„æ•°å€¼ï¼Œæ€ä¹ˆåœ¨å·¥ç¨‹ä¸­ä½¿ç”¨å‘¢ï¼Ÿ</p><p>è¿™å°±éœ€è¦æˆ‘ä»¬ä»æ“ä½œè§†è§’æ¥åˆ†æäº†ã€‚</p><h2>æ“ä½œè§†è§’</h2><p>æœ€ç»ˆä¸€è‡´æ€§ï¼Œåœ¨è¯­ä¹‰ä¸ŠåŒ…å«äº†å¾ˆå¤§çš„ä¸ç¡®å®šæ€§ï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™å¹¶ä¸æ˜¯ç›´æ¥ä½¿ç”¨ï¼Œè€Œæ˜¯åŠ å…¥ä¸€äº›é™å®šæ¡ä»¶ï¼Œä¹Ÿå°±è¡ç”Ÿå‡ºäº†è‹¥å¹²ç§ä¸€è‡´æ€§æ¨¡å‹ã€‚å› ä¸ºå®ƒä»¬æ˜¯åœ¨å‰¯æœ¬ä¸ä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œè¿›è¡Œæ“ä½œå±‚é¢çš„å°è£…æ¥å¯¹å¤–è¡¨ç°æ•°æ®çš„çŠ¶æ€ï¼Œæ‰€ä»¥éƒ½å¯ä»¥çº³å…¥æ“ä½œè§†è§’ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä¼šæŒ‘é€‰5ä¸ªå¸¸è§çš„ä¸€è‡´æ€§æ¨¡å‹é€ä¸€è®²è§£ã€‚</p><h3>å†™åè¯»ä¸€è‡´æ€§</h3><p>é¦–å…ˆæ¥è¯´<strong>â€œå†™åè¯»ä¸€è‡´æ€§â€</strong>ï¼ˆRead after Write Consistencyï¼‰ï¼Œå®ƒä¹Ÿç§°ä¸ºâ€œè¯»å†™ä¸€è‡´æ€§â€ï¼Œæˆ–â€œè¯»è‡ªå·±å†™ä¸€è‡´æ€§â€ï¼ˆRead My Writes Consistencyï¼‰ã€‚ä½ å¯èƒ½è§‰å¾—æœ€åä¸€ä¸ªåå­—å¬ä¸Šå»æœ‰äº›å¥‡æ€ªï¼Œä½†å®ƒå´æœ€å‡†ç¡®åœ°æè¿°äº†è¿™ç§ä¸€è‡´æ€§æ¨¡å‹çš„ä½¿ç”¨æ•ˆæœã€‚</p><p>æˆ‘è¿˜æ˜¯ç”¨ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ã€‚</p><p>å°æ˜å¾ˆå–œæ¬¢åœ¨æœ‹å‹åœˆåˆ†äº«è‡ªå·±çš„ç”Ÿæ´»ã€‚è¿™å¤©æ˜¯å°æ˜å’Œå¥³å‹å°çº¢çš„ç›¸è¯†çºªå¿µæ—¥ï¼Œå°æ˜ç‰¹æ„åœ¨æœ‹å‹åœˆåˆ†äº«äº†ä¸€å¼ ä¸¤äººçš„æƒ…ä¾£ç…§ã€‚å°æ˜çŸ¥é“å°çº¢ä¼šå¾ˆåœ¨æ„ï¼Œç‰¹æ„åˆåˆ·æ–°äº†ä¸€ä¸‹æœ‹å‹åœˆï¼Œç¡®è®¤ç…§ç‰‡åˆ†äº«æˆåŠŸã€‚</p><p>ä½ æ˜¯å¦æ„è¯†åˆ°è¿™ä¸ªè¿‡ç¨‹ä¸­ç³»ç»Ÿå·²ç»å®ç°äº†â€œå†™åè¯»ä¸€è‡´æ€§â€ï¼Ÿæˆ‘ç”»äº†å¼ æµç¨‹å›¾æ¥è¡¨ç¤ºè¿™ä¸ªè¿‡ç¨‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/7d/dc/7df116a9b10b1d9ce0b5a8400c00eedc.jpg?wh=2700*881\" alt=\"\"></p><p>å°æ˜å‘å¸ƒç…§ç‰‡çš„å»¶æ—¶æçŸ­ï¼Œç”¨æˆ·ä½“éªŒå¾ˆå¥½ã€‚è¿™æ˜¯å› ä¸ºæ•°æ®ä»…è¢«ä¿å­˜åœ¨ä¸»å‰¯æœ¬R1ä¸Šï¼Œå°±ç«‹å³åé¦ˆä¿å­˜æˆåŠŸã€‚è€Œå…¶ä»–å‰¯æœ¬åœ¨åå°å¼‚æ­¥æ›´æ–°ï¼Œç”±äºç½‘ç»œçš„å…³ç³»æ¯ä¸ªå‰¯æœ¬æ›´æ–°é€Ÿåº¦ä¸åŒï¼Œåœ¨T2æ—¶åˆ»ä¸Šæµ·çš„ä¸¤ä¸ªå‰¯æœ¬è¾¾æˆä¸€è‡´ã€‚ä»è¿‡ç¨‹æ¥çœ‹ï¼Œè¿™ä¸å‰é¢æ‰€è¯´çš„â€œæœ€ç»ˆä¸€è‡´æ€§â€å®Œå…¨ç›¸ç¬¦ã€‚</p><p>è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå°æ˜æœ‰ä¸€ä¸ªå†æ¬¡åˆ·æ–°æœ‹å‹åœˆçš„åŠ¨ä½œï¼Œè¿™æ—¶å¦‚æœè®¿é—®å‰¯æœ¬R2ï¼Œç”±äºå…¶å°šæœªå®ŒæˆåŒæ­¥ï¼Œæƒ…ä¾£ç…§å°†ä¼šæ¶ˆå¤±ï¼Œå°æ˜å°±ä¼šè§‰å¾—è‡ªå·±çš„ç…§ç‰‡è¢«å¼„ä¸¢äº†ã€‚æ­¤å¤„ï¼Œæˆ‘ä»¬å‡å®šç³»ç»Ÿå¯ä»¥é€šè¿‡æŸç§ç­–ç•¥ç”±å†™å…¥èŠ‚ç‚¹çš„ä¸»å‰¯æœ¬R1è´Ÿè´£åç»­çš„è¯»å–æ“ä½œï¼Œè¿™æ ·å°±å®ç°äº†å†™åè¯»ä¸€è‡´æ€§ï¼Œå¯ä»¥ä¿è¯å°æ˜å†æ¬¡è¯»å–åˆ°ç…§ç‰‡ã€‚</p><p>è‡ªå·±å†™å…¥æˆåŠŸçš„ä»»ä½•æ•°æ®ï¼Œä¸‹ä¸€åˆ»ä¸€å®šèƒ½è¯»å–åˆ°ï¼Œå…¶å†…å®¹ä¿è¯ä¸è‡ªå·±æœ€åä¸€æ¬¡å†™å…¥å®Œå…¨ä¸€è‡´ï¼Œè¿™å°±æ˜¯â€œè¯»è‡ªå·±å†™ä¸€è‡´æ€§â€åå­—çš„ç”±æ¥ã€‚å½“ç„¶ï¼Œä»æ—è§‚è€…è§’åº¦çœ‹ï¼Œå¯ä»¥ç§°ä¸ºâ€œè¯»ä½ å†™ä¸€è‡´æ€§â€ï¼ˆRead Your Writes Consistencyï¼‰ï¼Œæœ‰äº›è®ºæ–‡ç¡®å®é‡‡ç”¨äº†è¿™ä¸ªåç§°ã€‚</p><h3>å•è°ƒè¯»ä¸€è‡´æ€§</h3><p>ä½†æ˜¯ï¼Œå°æ˜å‘å®Œæœ‹å‹åœˆä¹‹åï¼Œå°çº¢ä¸€å®šèƒ½çœ‹åˆ°ç…§ç‰‡å—ï¼Ÿä¼šä¸ä¼šå‘ç”Ÿå¼‚å¸¸å‘¢ï¼Ÿ</p><p>è¿™æ¬¡ç¡®å®å‡ºé—®é¢˜äº†ã€‚</p><p>æ­¤æ—¶ï¼Œå°çº¢ä¹Ÿåœ¨åˆ·æœ‹å‹åœˆï¼Œçœ‹åˆ°äº†å°æ˜åˆšåˆšåˆ†äº«çš„ç…§ç‰‡ï¼Œéå¸¸å¼€å¿ƒã€‚ç„¶åï¼Œå°çº¢æ”¶åˆ°ä¸€æ¡ä¿¡æ¯ï¼Œç®€å•å›å¤äº†ä¸€ä¸‹ï¼Œåˆå›åˆ°æœ‹å‹åœˆå†æ¬¡åˆ·æ–°ï¼Œå‘ç°ç…§ç‰‡ç«Ÿç„¶ä¸è§äº†ï¼å°çº¢å¾ˆç”Ÿæ°”ï¼Œæ‰“ç”µè¯è´¨é—®å°æ˜ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«å°±æŠŠç…§ç‰‡åˆ æ‰ï¼Ÿå°æ˜å¬äº†ä¸€è„¸è’™ï¼Œå¿ƒæƒ³æˆ‘æ²¡æœ‰åˆ é™¤å‘€ã€‚</p><p>ä½ çŒœè¿™ä¸­é—´å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ç”¨å¦ä¸€å¼ æµç¨‹å›¾æ¥æ¼”ç¤ºè¿™ç§å¼‚å¸¸ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b1/a8/b138fa2ebe6c6cc60bd7dcbf4fa06da8.jpg?wh=2700*1196\" alt=\"\"></p><p>åœ¨å°æ˜å‘å¸ƒç…§ç‰‡åçš„ç¬é—´ï¼Œå°çº¢ä¹Ÿåˆ·æ–°äº†æœ‹å‹åœˆï¼Œæ­¤æ—¶è¯»å–åˆ°å‰¯æœ¬R1ï¼Œæ‰€ä»¥å°çº¢çœ‹åˆ°äº†ç…§ç‰‡ï¼›ç‰‡åˆ»ä¹‹åï¼Œå°çº¢å†æ¬¡åˆ·æ–°ï¼Œæ­¤æ—¶è¯»å–åˆ°çš„å‰¯æœ¬æ˜¯R2ï¼Œäºæ˜¯ç…§ç‰‡æ¶ˆå¤±äº†ã€‚å°çº¢ä»¥ä¸ºå°æ˜åˆ é™¤äº†ç…§ç‰‡ï¼Œä½†å®é™…ä¸Šè¿™å®Œå…¨æ˜¯ç¨‹åºé”™è¯¯é€ æˆçš„ï¼Œæ•°æ®å‘åå›æ»šï¼Œå‡ºç°äº†â€œæ—¶å…‰å€’æµâ€ã€‚</p><p>æƒ³è¦æ’é™¤è¿™ç§å¼‚å¸¸ï¼Œç³»ç»Ÿå¿…é¡»å®ç°<strong>å•è°ƒè¯»ä¸€è‡´æ€§</strong>ï¼ˆMonotonic Read Consistencyï¼‰ã€‚å…³äºå•è°ƒè¯»ä¸€è‡´æ€§çš„å®šä¹‰ï¼Œå¸¸è§çš„è§£é‡Šæ˜¯è¿™æ ·çš„ï¼šä¸€ä¸ªç”¨æˆ·ä¸€æ—¦è¯»åˆ°æŸä¸ªå€¼ï¼Œä¸ä¼šè¯»åˆ°æ¯”è¿™ä¸ªå€¼æ›´æ—§çš„å€¼ã€‚</p><p>æ˜¯ä¸æ˜¯æ„Ÿè§‰æœ‰ç‚¹è’™ï¼Ÿè®©æˆ‘æ¥è§£é‡Šä¸€ä¸‹ã€‚</p><p>å‡å¦‚ï¼Œå˜é‡Xè¢«èµ‹å€¼ä¸‰æ¬¡ï¼Œä¾æ¬¡æ˜¯10ã€20ã€30ï¼›ä¹‹åè¯»å–å˜é‡Xï¼Œå¦‚æœç¬¬ä¸€æ¬¡è¯»åˆ°äº†20ï¼Œé‚£ä¸‹ä¸€æ¬¡åªæœ‰è¯»åˆ°20æˆ–30æ‰æ˜¯åˆç†çš„ã€‚å› ä¸ºåœ¨ç¬¬ä¸€æ¬¡è¯»åˆ°20çš„ä¸€åˆ»ï¼Œæ„å‘³ç€10å·²ç»æ˜¯è¿‡æœŸæ•°æ®ï¼Œæ²¡æœ‰æ„ä¹‰äº†ã€‚</p><p>å®ç°å•è°ƒè¯»ä¸€è‡´æ€§çš„æ–¹å¼ï¼Œå¯ä»¥æ˜¯å°†ç”¨æˆ·ä¸å‰¯æœ¬å»ºç«‹å›ºå®šçš„æ˜ å°„å…³ç³»ï¼Œæ¯”å¦‚ä½¿ç”¨å“ˆå¸Œç®—æ³•å°†ç”¨æˆ·IDæ˜ å°„åˆ°å›ºå®šå‰¯æœ¬ä¸Šï¼Œè¿™æ ·é¿å…äº†åœ¨å¤šä¸ªå‰¯æœ¬ä¸­åˆ‡æ¢ï¼Œä¹Ÿå°±ä¸ä¼šå‡ºç°ä¸Šé¢çš„å¼‚å¸¸äº†ã€‚</p><h3>å‰ç¼€ä¸€è‡´æ€§</h3><p>ä½†æ˜¯ï¼Œåœ¨ä¸€äº›æ›´å¤æ‚çš„åœºæ™¯ä¸‹è¿˜æ˜¯ä¼šå‡ºç°æ—¶é—´çš„æ‰­æ›²ã€‚æˆ‘å†ç”¨ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ã€‚</p><p>è¿™å¤©å°æ˜å»çœ‹CBAæ€»å†³èµ›ï¼Œåˆšå¼€çƒå°æ˜å°±æ‹äº†ä¸€å¼ ç°åœºç…§ç‰‡å‘åˆ°æœ‹å‹åœˆï¼Œæƒ³è¦ç‚«è€€ä¸€ä¸‹ã€‚å°çº¢ä¹Ÿå¾ˆå–œæ¬¢ç¯®çƒï¼Œä½†ä¸´æ—¶æœ‰äº‹æ²¡æœ‰å»ç°åœºï¼Œå°±åœ¨è¯„è®ºåŒºé—®å°æ˜ï¼šâ€œç°åœ¨æ¯”åˆ†æ˜¯å¤šå°‘ï¼Ÿâ€å°æ˜å›å¤ï¼šâ€œ4:2ã€‚â€</p><p>å°æ˜çš„åŒå­¦ï¼Œè¿œåœ¨åŠ æ‹¿å¤§çš„å°åˆšï¼Œå´çœ‹åˆ°äº†ä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡ï¼Œè¯„è®ºåŒºå…ˆå‡ºç°äº†å°æ˜çš„å›å¤â€œ4:2ã€‚â€ï¼Œè€Œåæ‰åˆ·åˆ°å°çº¢çš„è¯„è®ºâ€œç°åœ¨æ¯”åˆ†æ˜¯å¤šå°‘ï¼Ÿâ€ã€‚éš¾é“å°æ˜èƒ½å¤Ÿé¢„çŸ¥æœªæ¥å—ï¼Ÿ</p><p>è¿™æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿæˆ‘ä»¬è¿˜æ˜¯çœ‹å›¾è¯´è¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/26/23/2635951c5260b0b97de5fed08f368a23.jpg?wh=2700*1725\" alt=\"\"></p><p>å°æ˜å’Œå°çº¢çš„è¯„è®ºåˆ†åˆ«å†™å…¥äº†èŠ‚ç‚¹N1å’ŒN2ï¼Œä½†æ˜¯å®ƒä»¬ä¸N3åŒæ­¥æ•°æ®æ—¶ï¼Œç”±äºç½‘ç»œä¼ è¾“çš„é—®é¢˜ï¼ŒN3èŠ‚ç‚¹æ¥æ”¶æ•°æ®çš„é¡ºåºä¸æ•°æ®å†™å…¥çš„é¡ºåºå¹¶ä¸ä¸€è‡´ï¼Œæ‰€ä»¥å°åˆšæ˜¯å…ˆçœ‹åˆ°ç­”æ¡ˆåçœ‹åˆ°é—®é¢˜ã€‚</p><p>æ˜¾ç„¶ï¼Œé—®é¢˜ä¸ç­”æ¡ˆä¹‹é—´æ˜¯æœ‰å› æœå…³ç³»çš„ï¼Œä½†è¿™ç§å…³ç³»åœ¨å¤åˆ¶çš„è¿‡ç¨‹ä¸­è¢«å¿½ç•¥äº†ï¼Œäºæ˜¯å‡ºç°äº†å¼‚å¸¸ã€‚</p><p>ä¿æŒè¿™ç§å› æœå…³ç³»çš„ä¸€è‡´æ€§ï¼Œè¢«ç§°ä¸º<strong>å‰ç¼€è¯»</strong>æˆ–<strong>å‰ç¼€ä¸€è‡´æ€§</strong>ï¼ˆConsistent Prefixï¼‰ã€‚è¦å®ç°è¿™ç§ä¸€è‡´æ€§ï¼Œå¯ä»¥è€ƒè™‘åœ¨åŸæœ‰çš„è¯„è®ºæ•°æ®ä¸Šå¢åŠ ä¸€ç§æ˜¾å¼çš„å› æœå…³ç³»ï¼Œè¿™æ ·ç³»ç»Ÿå¯ä»¥æ®æ­¤æ§åˆ¶åœ¨å…¶ä»–è¿›ç¨‹çš„è¯»å–é¡ºåºã€‚</p><h3>çº¿æ€§ä¸€è‡´æ€§</h3><p>åœ¨â€œå‰ç¼€ä¸€è‡´æ€§â€çš„æ¡ˆä¾‹ä¸­ï¼Œé—®é¢˜ä¸ç­”æ¡ˆä¹‹é—´å­˜åœ¨ä¸€ç§æ˜¾å¼å£°æ˜ï¼Œä½†åœ¨ç°å®ä¸­ï¼Œå¤šæ•°åœºæ™¯çš„å› æœå…³ç³»æ›´åŠ å¤æ‚ï¼Œä¹Ÿä¸å¯èƒ½è¦æ±‚å…¨éƒ¨åšæ˜¾å¼å£°æ˜ã€‚</p><p>æ¯”å¦‚å¯¹äºåˆ†å¸ƒå¼æ•°æ®åº“æ¥è¯´ï¼Œå®ƒæ— æ³•è¦æ±‚åº”ç”¨ç³»ç»Ÿåœ¨æ¯æ¬¡å˜æ›´æ“ä½œæ—¶é™„å¸¦å£°æ˜ä¸€ä¸‹ï¼Œè¿™æ¬¡å˜æ›´æ˜¯å› ä¸ºè¯»å–äº†å“ªäº›æ•°æ®è€Œå¯¼è‡´çš„ã€‚</p><p>é‚£ä¹ˆï¼Œåœ¨æ˜¾å¼å£°æ˜æ— æ³•å¥æ•ˆçš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•å¯»æ‰¾å› æœå…³ç³»å‘¢ï¼Ÿ</p><p>ä¸çŸ¥é“ä½ æœ‰æ²¡æœ‰å¬è¿‡è¿™å¥è¯ï¼Œâ€œä½ æ‰€ç»å†çš„ä¸€åˆ‡ï¼Œé€ å°±äº†ç°åœ¨çš„ä½ ã€‚â€æ˜¯ä¸æ˜¯æœ‰ä¸€ç‚¹å“²å­¦çš„å‘³é“ï¼Ÿä¸€åˆ‡å¯¹åŸå› çš„æ¨æµ‹éƒ½æ˜¯ä¸»è§‚çš„ï¼Œä¹‹å‰å‘ç”Ÿçš„ä¸€åˆ‡éƒ½å¯èƒ½æ˜¯åŸå› ã€‚</p><p>æ‰€ä»¥ï¼Œæ›´å¯é çš„æ–¹å¼æ˜¯å°†è‡ªç„¶è¯­æ„çš„å› æœå…³ç³»è½¬å˜ä¸ºäº‹ä»¶å‘ç”Ÿçš„å…ˆåé¡ºåºã€‚</p><p>çº¿æ€§ä¸€è‡´æ€§ï¼ˆLinearizabilityï¼‰å°±æ˜¯å»ºç«‹åœ¨äº‹ä»¶çš„å…ˆåé¡ºåºä¹‹ä¸Šçš„ã€‚åœ¨çº¿æ€§ä¸€è‡´æ€§ä¸‹ï¼Œæ•´ä¸ªç³»ç»Ÿè¡¨ç°å¾—å¥½åƒåªæœ‰ä¸€ä¸ªå‰¯æœ¬ï¼Œæ‰€æœ‰æ“ä½œè¢«è®°å½•åœ¨ä¸€æ¡æ—¶é—´çº¿ä¸Šï¼Œå¹¶ä¸”è¢«åŸå­åŒ–ï¼Œè¿™æ ·ä»»æ„ä¸¤ä¸ªäº‹ä»¶éƒ½å¯ä»¥æ¯”è¾ƒå…ˆåé¡ºåºã€‚</p><p>è¿™äº›äº‹ä»¶ä¸€èµ·æ„æˆçš„é›†åˆï¼Œåœ¨æ•°å­¦ä¸Šç§°ä¸ºå…·æœ‰â€œå…¨åºå…³ç³»â€çš„é›†åˆï¼Œè€Œâ€œå…¨åºâ€ä¹Ÿç§°ä¸ºâ€œçº¿æ€§åºâ€ã€‚æˆ‘æƒ³ï¼Œçº¿æ€§ä¸€è‡´æ€§å¤§æ¦‚å°±æ˜¯å› æ­¤å¾—åã€‚</p><p>ä½†æ˜¯ï¼Œé›†ç¾¤ä¸­çš„å„ä¸ªèŠ‚ç‚¹ä¸èƒ½åšåˆ°çœŸæ­£çš„æ—¶é’ŸåŒæ­¥ï¼Œè¿™æ ·èŠ‚ç‚¹æœ‰å„è‡ªçš„æ—¶é—´çº¿ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•å°†æ“ä½œè®°å½•åœ¨ä¸€æ¡æ—¶é—´çº¿ä¸Šå‘¢ï¼Ÿè¿™å°±éœ€è¦ä¸€ä¸ªç»å¯¹æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯<strong>å…¨å±€æ—¶é’Ÿ</strong>ã€‚</p><p>ä»äº§å“å±‚é¢çœ‹ï¼Œä¸»æµåˆ†å¸ƒå¼æ•°æ®åº“å¤§å¤šä»¥å®ç°çº¿æ€§ä¸€è‡´æ€§ä¸ºç›®æ ‡ï¼Œåœ¨è®¾è®¡ä¹‹åˆæˆ–æ¼”è¿›è¿‡ç¨‹ä¸­çº·çº·å¼•å…¥äº†å…¨å±€æ—¶é’Ÿï¼Œæ¯”å¦‚Spannerã€TiDBã€OceanBaseã€GoldenDBå’Œå·¨æ‰ç­‰ç­‰ã€‚</p><p>å·¥ç¨‹å®ç°ä¸Šï¼Œå¤šæ•°äº§å“é‡‡ç”¨å•ç‚¹æˆæ—¶ï¼ˆTSOï¼‰ï¼Œä¹Ÿå°±æ˜¯ä»ä¸€å°æ—¶é—´æœåŠ¡å™¨è·å–æ—¶é—´ï¼ŒåŒæ—¶é…æœ‰é«˜å¯é è®¾è®¡ï¼› è€ŒSpannerä»¥å…¨çƒåŒ–éƒ¨ç½²ä¸ºç›®æ ‡ï¼Œå› ä¸ºTSOæœ‰éƒ¨ç½²èŒƒå›´ä¸Šçš„é™åˆ¶ï¼Œæ‰€ä»¥Spannerçš„å®ç°æ–¹å¼æ˜¯é€šè¿‡GPSå’ŒåŸå­é’Ÿå®ç°çš„å…¨å±€æ—¶é’Ÿï¼Œä¹Ÿå°±æ˜¯TrueTimeï¼Œå®ƒå¯ä»¥ä¿è¯åœ¨å…¨çƒèŒƒå›´å†…ä»»æ„èŠ‚ç‚¹èƒ½åŒæ—¶è·å¾—çš„ä¸€ä¸ªç»å¯¹æ—¶é—´ï¼Œè¯¯å·®åœ¨7æ¯«ç§’ä»¥å†…ã€‚</p><p>ä½†æ˜¯ï¼Œå¯¹äºçº¿æ€§ä¸€è‡´æ€§ï¼Œå­¦æœ¯ç•Œå…¶å®æ˜¯æœ‰äº‰è®®çš„ã€‚åå¯¹è€…çš„è®ºæ®æ¥è‡ªçˆ±å› æ–¯å¦çš„ç›¸å¯¹è®ºçš„ä¸€ä¸ªé‡è¦ç»“è®ºï¼Œâ€œæ—¶é—´æ˜¯ç›¸å¯¹çš„â€ã€‚æ²¡æœ‰ç»å¯¹æ—¶é—´ï¼Œä¹Ÿå°±ä¸å­˜åœ¨å…¨åºçš„äº‹ä»¶é¡ºåºï¼Œä¸åŒçš„è§‚å¯Ÿè€…å¯èƒ½å¯¹äºå“ªä¸ªäº‹ä»¶å…ˆå‘ç”Ÿæ˜¯æ— æ³•è¾¾æˆä¸€è‡´çš„ã€‚å› æ­¤ï¼Œçº¿æ€§ä¸€è‡´æ€§æ˜¯æœ‰å±€é™æ€§çš„ã€‚</p><p>å½“ç„¶ï¼Œä»å·¥ç¨‹è§’åº¦çœ‹ï¼Œå› ä¸ºæˆ‘ä»¬çš„åº”ç”¨åœºæ™¯éƒ½åœ¨ç»å…¸ç‰©ç†å­¦é€‚ç”¨èŒƒå›´å†…ï¼Œæ‰€ä»¥çº¿æ€§ä¸€è‡´æ€§ä¹Ÿæ˜¯é€‚ç”¨çš„ã€‚</p><h3>å› æœä¸€è‡´æ€§</h3><p>æ—¢ç„¶çº¿æ€§ä¸€è‡´æ€§ä¸å¤Ÿå®Œç¾ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä¸ä¾èµ–ç»å¯¹æ—¶é—´çš„æ–¹æ³•å‘¢ï¼Ÿ</p><p>å½“ç„¶æ˜¯æœ‰çš„ï¼Œè¿™å°±æ˜¯<strong>å› æœä¸€è‡´æ€§</strong>ï¼ˆCausal Consistencyï¼‰ã€‚</p><p>å› æœä¸€è‡´æ€§çš„åŸºç¡€æ˜¯<strong>ååºå…³ç³»</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œéƒ¨åˆ†äº‹ä»¶é¡ºåºæ˜¯å¯ä»¥æ¯”è¾ƒçš„ã€‚è‡³å°‘ä¸€ä¸ªèŠ‚ç‚¹å†…éƒ¨çš„äº‹ä»¶æ˜¯å¯ä»¥æ’åºçš„ï¼Œä¾é èŠ‚ç‚¹çš„æœ¬åœ°æ—¶é’Ÿå°±è¡Œäº†ï¼›èŠ‚ç‚¹é—´å¦‚æœå‘ç”Ÿé€šè®¯ï¼Œåˆ™å‚ä¸é€šè®¯çš„ä¸¤ä¸ªäº‹ä»¶ä¹Ÿæ˜¯å¯ä»¥æ’åºçš„ï¼Œæ¥æ”¶æ–¹çš„äº‹ä»¶ä¸€å®šæ™šäºè°ƒç”¨æ–¹çš„äº‹ä»¶ã€‚</p><p>åŸºäºè¿™ç§ååºå…³ç³»ï¼ŒLeslie Lamportåœ¨è®ºæ–‡â€œTime, Clocks, and the Ordering of Events in a Distributed Systemâ€ä¸­æå‡ºäº†<strong>é€»è¾‘æ—¶é’Ÿ</strong>çš„æ¦‚å¿µã€‚</p><p>å€ŸåŠ©é€»è¾‘æ—¶é’Ÿä»ç„¶å¯ä»¥å»ºç«‹å…¨åºå…³ç³»ï¼Œå½“ç„¶è¿™ä¸ªå…¨åºå…³ç³»æ˜¯ä¸å¤Ÿç²¾ç¡®çš„ã€‚å› ä¸ºå¦‚æœä¸¤ä¸ªäº‹ä»¶å¹¶ä¸ç›¸å…³ï¼Œé‚£ä¹ˆé€»è¾‘æ—¶é’Ÿç»™å‡ºçš„å¤§å°å…³ç³»æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</p><p>å¤šæ•°è§‚ç‚¹è®¤ä¸ºï¼Œå› æœä¸€è‡´æ€§å¼±äºçº¿æ€§ä¸€è‡´æ€§ï¼Œä½†åœ¨å¹¶å‘æ€§èƒ½ä¸Šå…·æœ‰ä¼˜åŠ¿ï¼Œä¹Ÿè¶³ä»¥å¤„ç†å¤šæ•°çš„å¼‚å¸¸ç°è±¡ï¼Œæ‰€ä»¥å› æœä¸€è‡´æ€§ä¹Ÿåœ¨å·¥ä¸šç•Œå¾—åˆ°äº†åº”ç”¨ã€‚</p><p>å…·ä½“åˆ°åˆ†å¸ƒå¼æ•°æ®åº“é¢†åŸŸï¼ŒCockroachDBå’ŒYugabyteDBéƒ½åœ¨è®¾è®¡ä¸­é‡‡ç”¨äº†<strong>é€»è¾‘æ··åˆæ—¶é’Ÿ</strong>ï¼ˆHybrid Logical Clocksï¼‰ï¼Œè¿™ä¸ªæ–¹æ¡ˆæºè‡ªLamportçš„é€»è¾‘æ—¶é’Ÿï¼Œä¹Ÿå–å¾—äº†ä¸é”™çš„æ•ˆæœã€‚å› æ­¤ï¼Œè¿™ä¸¤ä¸ªäº§å“éƒ½æ²¡æœ‰å®ç°çº¿æ€§ä¸€è‡´æ€§ï¼Œè€Œæ˜¯æ¥è¿‘äºå› æœä¸€è‡´æ€§ï¼Œå…¶ä¸­CockroachDBå°†è‡ªå·±çš„ä¸€è‡´æ€§æ¨¡å‹ç§°ä¸ºâ€œNo Stale Readsâ€ã€‚</p><p>æ—¶é—´å¯¹äºä»»ä½•ä¸€ç§åˆ†å¸ƒå¼ç³»ç»Ÿæ¥è¯´éƒ½æ˜¯éå¸¸é‡è¦çš„ï¼Œåœ¨åˆ†å¸ƒå¼æ•°æ®åº“ä¸­è¿˜ä¼šç‰µæ‰¯åˆ°æ•°æ®ä¸€è‡´æ€§ä»¥å¤–çš„å¾ˆå¤šè¯é¢˜ï¼Œæ‰€ä»¥æœ‰å…³æ—¶é—´ã€å…¨å±€æ—¶é’Ÿå’Œé€»è¾‘æ—¶é’Ÿçš„å†…å®¹ï¼Œæˆ‘è¿˜ä¼šåœ¨åç»­è¯¾ç¨‹ä¸­æåˆ°å¹¶ä½œè¯¦ç»†è®¨è®ºã€‚</p><h2>å°ç»“</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„å†…å®¹å°±åˆ°è¿™é‡Œã€‚æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†æ•°æ®ä¸€è‡´æ€§ï¼Œå¸Œæœ›ä½ èƒ½å¤Ÿè®°ä½ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ol>\n<li>ä¸€è‡´æ€§æ¨¡å‹æ—æ—æ€»æ€»ï¼Œæ•°é‡ç¹å¤šï¼Œä½†æˆ‘ä»¬æ€»å¯ä»¥ä»çŠ¶æ€å’Œæ“ä½œè¿™ä¸¤ä¸ªè§†è§’æ¥è§‚å¯Ÿï¼Œè¿›è€Œæ¢³ç†å‡ºå…¶è¯»å†™æ“ä½œçš„ä¸åŒç­–ç•¥ã€‚</li>\n<li>ä»çŠ¶æ€è§†è§’çœ‹ï¼Œæ•°æ®ä¸€è‡´æ€§åªæœ‰ä¸¤ç§çŠ¶æ€ï¼Œå¼ºä¸€è‡´æˆ–å¼±ä¸€è‡´ï¼Œè€Œåœ¨å®é™…ç³»ç»Ÿä¸­å¼ºä¸€è‡´æ˜¯éå¸¸å°‘è§çš„ï¼Œæœ€ç»ˆä¸€è‡´æ€§æ˜¯å¼±ä¸€è‡´æ€§çš„ç‰¹æ®Šå½¢å¼ï¼›</li>\n<li>ä»æ“ä½œè§†è§’çœ‹ï¼Œæœ€ç»ˆä¸€è‡´æ€§å¯ä»¥è¢«å°è£…æˆå¤šç§ä¸€è‡´æ€§æ¨¡å‹ï¼Œç”šè‡³æ˜¯æœ€å¼ºçš„çº¿æ€§ä¸€è‡´æ€§ã€‚</li>\n<li>åˆ†å¸ƒå¼æ•°æ®åº“ä¸»è¦åº”ç”¨äº†çº¿æ€§ä¸€è‡´æ€§æˆ–å› æœä¸€è‡´æ€§ã€‚çº¿æ€§ä¸€è‡´æ€§å¿…é¡»è¦æœ‰å…¨å±€æ—¶é’Ÿï¼Œå…¨å±€æ—¶é’Ÿå¯èƒ½æ¥è‡ªæˆæ—¶æœåŠ¡å™¨æˆ–è€…ç‰¹æ®Šç‰©ç†è®¾å¤‡ï¼ˆå¦‚åŸå­é’Ÿï¼‰ï¼Œå…¨å±€æ—¶é’Ÿçš„å®ç°æ–¹å¼ä¼šå½±å“åˆ°é›†ç¾¤çš„éƒ¨ç½²èŒƒå›´ï¼›å› æœä¸€è‡´æ€§å¯ä»¥é€šè¿‡é€»è¾‘æ—¶é’Ÿå®ç°ï¼Œä¸ä¾èµ–äºç¡¬ä»¶ï¼Œä¸ä¼šé™åˆ¶é›†ç¾¤çš„éƒ¨ç½²èŒƒå›´ã€‚</li>\n</ol><p>ä»Šå¤©ä»‹ç»çš„å‡ ç§ä¸€è‡´æ€§æ¨¡å‹ï¼Œç”¨ä¸€è‡´æ€§å¼ºåº¦æ¥è¡¡é‡çš„è¯ï¼šçº¿æ€§ä¸€è‡´æ€§å¼ºäºå› æœä¸€è‡´æ€§ï¼›è€Œå†™åè¯»ä¸€è‡´æ€§ã€å•è°ƒè¯»ä¸€è‡´æ€§ã€å‰ç¼€ä¸€è‡´æ€§å¼±äºå‰ä¸¤è€…ï¼Œä½†è¿™ä¸‰è€…ä¹‹é—´æ— æ³•æ¯”è¾ƒå¼ºå¼±ã€‚è¿˜æœ‰ä¸€ç§å¸¸è¢«æåŠçš„é¡ºåºä¸€è‡´æ€§ï¼ˆSequentially Consistentï¼‰ï¼Œå…¶å¼ºåº¦ä»‹äºçº¿æ€§ä¸€è‡´æ€§ä¸å› æœä¸€è‡´æ€§ä¹‹é—´ï¼Œç”±äºè¾ƒå°‘åœ¨åˆ†å¸ƒå¼æ•°æ®åº“ä¸­ä½¿ç”¨ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰ä»‹ç»ã€‚</p><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬æåˆ°çš„ä¸€è‡´æ€§æ¨¡å‹å¼ºåº¦æ’åºå¦‚ä¸‹ï¼š</p><p>çº¿æ€§ä¸€è‡´æ€§ &gt; é¡ºåºä¸€è‡´æ€§ &gt; å› æœä¸€è‡´æ€§ &gt; { å†™åè¯»ä¸€è‡´æ€§ï¼Œå•è°ƒä¸€è‡´æ€§ï¼Œå‰ç¼€ä¸€è‡´æ€§ }</p><p>æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€äº›å¸¸è§çš„å¼±ä¸€è‡´æ€§æ¨¡å‹ä»Šå¤©å¹¶æ²¡æœ‰æåˆ°ï¼ŒåŒ…æ‹¬æœ‰é™æ—§ä¸€è‡´æ€§ï¼ˆBounded Stalenessï¼‰ã€ä¼šè¯ä¸€è‡´æ€§ï¼ˆSession Consistencyï¼‰ã€å•è°ƒå†™ä¸€è‡´æ€§ï¼ˆMonotonic Write Consistencyï¼‰å’Œè¯»åå†™ä¸€è‡´æ€§ï¼ˆWrite Follows Read Consistencyï¼‰ç­‰ã€‚å¦‚æœä½ æ„Ÿå…´è¶£ï¼Œå¯ä»¥åœ¨Azure Cosmos DBçš„<a href=\"https://docs.microsoft.com/en-us/azure/cosmos-db/consistency-levels\">å®˜æ–¹æ–‡æ¡£</a>æ‰¾åˆ°éå¸¸è¯¦ç»†çš„è¯´æ˜ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/27/af/27155b05c028b261yyc2d3c3469a3faf.jpg?wh=2700*2008\" alt=\"\"></p><h2>æ€è€ƒé¢˜</h2><p>è¯¾ç¨‹çš„æœ€åï¼Œæˆ‘è¦ç»™ä½ ç•™ä¸€é“æ€è€ƒé¢˜ã€‚æˆ‘ä»¬ä»Šå¤©é›†ä¸­è®¨è®ºäº†æ•°æ®ä¸€è‡´æ€§ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ç‰¹åˆ«å¼ºè°ƒPaxosçš„ä½œç”¨ã€‚è¿™ç­‰äºæ˜¯è¯´ï¼ŒPaxosä¸æ˜¯å®ç°å¼ºä¸€è‡´æ€§çš„å¿…è¦æ¡ä»¶ã€‚å¯æ˜¯ï¼Œæœ‰äº›æ—¶å€™å¤§å®¶åˆä¼šå°†Paxosç§°ä¸ºä¸€è‡´æ€§åè®®ã€‚ä½ è§‰å¾—è¿™ä¸ªâ€œä¸€è‡´æ€§åè®®â€å’Œæ•°æ®ä¸€è‡´æ€§åˆæ˜¯ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç•™è¨€å’Œæˆ‘ä¸€èµ·è®¨è®ºï¼Œæˆ‘ä¼šåœ¨ç­”ç–‘ç¯‡å›å¤è¿™ä¸ªé—®é¢˜ã€‚æœ€åï¼Œè°¢è°¢ä½ çš„æ”¶å¬ï¼Œå¦‚æœä½ èº«è¾¹çš„æœ‹å‹ä¹Ÿå¯¹å¼ºä¸€è‡´æ€§æˆ–è€…æ•°æ®ä¸€è‡´æ€§è¿™ä¸ªè¯é¢˜æ„Ÿå…´è¶£ï¼Œæ¬¢è¿ä½ æŠŠä»Šå¤©è¿™ä¸€è®²åˆ†äº«ç»™ä»–ï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºã€‚</p>","neighbors":{"left":{"article_title":"01ï½œä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼æ•°æ®åº“ï¼Ÿ","id":271373},"right":{"article_title":"03ï½œå¼ºä¸€è‡´æ€§ï¼šåˆ«å†ç”¨BASEåšå€Ÿå£ï¼Œæ¥çœ‹çœ‹ä»€ä¹ˆæ˜¯çœŸæ­£çš„äº‹åŠ¡ä¸€è‡´æ€§","id":272999}},"comments":[{"had_liked":false,"id":241356,"user_name":"chenchukun","can_delete":false,"product_type":"c1","uid":1298833,"ip_address":"","ucode":"C9F9D51F2EC7A0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibtic993snK2Drdwypz6SJajPk7g3JuEP1puDhomplXSGl9YobOp5uJZVGLRalHwNwS7cdHr3iasFbmz38GicNibknA/132","comment_is_top":false,"comment_ctime":1597277707,"is_pvip":false,"replies":[{"id":"89211","content":"ä½ å¥½ï¼Œä½ çš„ç†è§£éå¸¸å‡†ç¡®ï¼Œç‚¹èµ","user_name":"ä½œè€…å›å¤","comment_id":241356,"uid":"1602401","ip_address":"","utype":1,"ctime":1597408699,"user_name_real":"ç‹ç£Š(Ivan)"}],"discussion_count":1,"race_medal":0,"score":"276475184651","product_id":100057401,"comment_content":"ä»çŠ¶æ€å’Œæ“ä½œä¸¤ä¸ªè§†è§’çœ‹å¾…å‰¯æœ¬çš„ä¸€è‡´æ€§è¿™ç‚¹è®²çš„å¾ˆé€å½»ï¼Œä¹‹å‰éƒ½æ²¡æœ‰è€ƒè™‘è¿‡è¿™ç‚¹ã€‚<br>ä»çŠ¶æ€è§†è§’çœ‹ï¼Œæ˜¯ä¸æ˜¯åªæœ‰å…¨åŒæ­¥è¿™ç§æ–¹å¼å®ç°äº†å¼ºä¸€è‡´æ€§ï¼Œå³ä½¿åƒpaxosã€raftè¿™äº›å®ç°äº†æ“ä½œä¸Šçº¿æ€§ä¸€è‡´æ€§çš„ç®—æ³•ï¼Œä»çŠ¶æ€è§†è§’çœ‹ä¹Ÿä¸æ˜¯å¼ºä¸€è‡´çš„ã€‚<br>ç„¶è€Œå…¨åŒæ­¥é™ä½äº†ç³»ç»Ÿçš„å¯ç”¨æ€§ï¼Œpaxosã€raftä¸ä¿è¯æ‰€æœ‰èŠ‚ç‚¹çŠ¶æ€çš„ä¸€è‡´ï¼Œè€Œæ˜¯é€šè¿‡é¢å¤–çš„ç®—æ³•æ¥ä¿è¯æ“ä½œè§†è§’çš„ä¸€è‡´æ€§ï¼ŒåŒæ—¶æé«˜äº†ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚","like_count":64,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503723,"discussion_content":"ä½ å¥½ï¼Œä½ çš„ç†è§£éå¸¸å‡†ç¡®ï¼Œç‚¹èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597408699,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241172,"user_name":"å³°","can_delete":false,"product_type":"c1","uid":1056019,"ip_address":"","ucode":"C53CB64E8E7D19","user_header":"https://static001.geekbang.org/account/avatar/00/10/1d/13/31ea1b0b.jpg","comment_is_top":false,"comment_ctime":1597207724,"is_pvip":true,"replies":[{"id":"89210","content":"ä½ å¥½ï¼Œå…¶å®CAPçš„Cä¹Ÿæ˜¯Consistencyï¼Œæ˜¯å¤šå‰¯æœ¬ã€å•æ“ä½œçš„æ•°æ®ä¸€è‡´æ€§ï¼›è€ŒACIDé‡Œçš„Cæ˜¯æŒ‡å•å‰¯æœ¬ã€å¤šæ“ä½œçš„äº‹åŠ¡ä¸€è‡´æ€§ã€‚Paxosè¿™ç±»å…±è¯†ç®—æ³•ï¼Œå¯ä»¥çœ‹ä½œæ˜¯å¤åˆ¶åè®®çš„ä¸€ç§ï¼Œè™½ç„¶æœ‰æ—¶ä¹Ÿå«åšä¸€è‡´æ€§åè®®ï¼Œä½†è¿™ä¸ªä¸€è‡´æ€§æ˜¯æŒ‡Consensusã€‚Consensusæ˜¯å®ç°æ•°æ®ä¸€è‡´æ€§ç›®æ ‡ä¸‹çš„å…·ä½“æŠ€æœ¯ï¼Œä½†å¹¶ä¸æ˜¯å”¯ä¸€çš„é€‰æ‹©ã€‚é‡‡ç”¨ä¸»ä»å¤åˆ¶ä¹Ÿå¯ä»¥è¾¾åˆ°åŒæ ·æ•ˆæœï¼Œæ¯”å¦‚04è®²ä¼šæåˆ°çš„PGXCé£æ ¼çš„åˆ†å¸ƒå¼æ•°æ®åº“å°±æ˜¯é‡‡ç”¨ä¸»ä»å¤åˆ¶çš„æ–¹å¼ã€‚","user_name":"ä½œè€…å›å¤","comment_id":241172,"uid":"1602401","ip_address":"","utype":1,"ctime":1597408639,"user_name_real":"ç‹ç£Š(Ivan)"}],"discussion_count":5,"race_medal":0,"score":"181985834156","product_id":100057401,"comment_content":"æ„Ÿè§‰å¾ˆé•¿ä¸€æ®µæ—¶é—´éƒ½è¢«ç¿»è¯‘ç»™è€½è¯¯äº†ï¼ŒACIDçš„Cæ˜¯ä¸€è‡´æ€§ï¼Œå¼ºè°ƒçš„æ˜¯æ•°æ®çš„çŠ¶æ€å˜è¿çš„ç‰¹æ€§ï¼ŒCAPé‡Œçš„Cå…±è¯†ï¼Œå¼ºè°ƒçš„æ˜¯å¤šå‰¯æœ¬æ¡ä»¶ä¸‹ï¼Œå¤šä¸ªèŠ‚ç‚¹æ€ä¹ˆå°±æ•°æ®çš„å˜åŠ¨ï¼Œè¾¾æˆå…±è¯†ï¼Œç»Ÿä¸€ä¿®æ”¹ã€‚<br>è€Œpaxosï¼Œraftæ˜¯åœ¨ç‰ºç‰²ä¸€å®šAçš„æ¡ä»¶ä¸‹ï¼ˆå¤šæ•°èŠ‚ç‚¹å­˜æ´»æ‰okï¼‰ï¼Œå®ç°Cçš„ä¸€ç§å¤šèŠ‚ç‚¹çš„é€šä¿¡åè®®ï¼ŒPaxosè²Œä¼¼ä¸éœ€è¦ä¸»èŠ‚ç‚¹è¿™ä¸ªè§’è‰²å»ç»Ÿä¸€æ—¶åºï¼ŒRaftï¼Œzabéœ€è¦ä¸»èŠ‚ç‚¹ï¼Œå®ƒä»¬éƒ½æ˜¯å®ç°çº¿æ€§ä¸€è‡´æ€§çš„æ–¹å¼ã€‚","like_count":42,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503665,"discussion_content":"ä½ å¥½ï¼Œå…¶å®CAPçš„Cä¹Ÿæ˜¯Consistencyï¼Œæ˜¯å¤šå‰¯æœ¬ã€å•æ“ä½œçš„æ•°æ®ä¸€è‡´æ€§ï¼›è€ŒACIDé‡Œçš„Cæ˜¯æŒ‡å•å‰¯æœ¬ã€å¤šæ“ä½œçš„äº‹åŠ¡ä¸€è‡´æ€§ã€‚Paxosè¿™ç±»å…±è¯†ç®—æ³•ï¼Œå¯ä»¥çœ‹ä½œæ˜¯å¤åˆ¶åè®®çš„ä¸€ç§ï¼Œè™½ç„¶æœ‰æ—¶ä¹Ÿå«åšä¸€è‡´æ€§åè®®ï¼Œä½†è¿™ä¸ªä¸€è‡´æ€§æ˜¯æŒ‡Consensusã€‚Consensusæ˜¯å®ç°æ•°æ®ä¸€è‡´æ€§ç›®æ ‡ä¸‹çš„å…·ä½“æŠ€æœ¯ï¼Œä½†å¹¶ä¸æ˜¯å”¯ä¸€çš„é€‰æ‹©ã€‚é‡‡ç”¨ä¸»ä»å¤åˆ¶ä¹Ÿå¯ä»¥è¾¾åˆ°åŒæ ·æ•ˆæœï¼Œæ¯”å¦‚04è®²ä¼šæåˆ°çš„PGXCé£æ ¼çš„åˆ†å¸ƒå¼æ•°æ®åº“å°±æ˜¯é‡‡ç”¨ä¸»ä»å¤åˆ¶çš„æ–¹å¼ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1597408639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1249656,"avatar":"https://static001.geekbang.org/account/avatar/00/13/11/78/4f0cd172.jpg","nickname":"å¦¥å","note":"","ucode":"7201DFE9C12669","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561476,"discussion_content":"å…¶å®CAPçš„Cä¹Ÿæ˜¯Consistencyï¼Œæ˜¯å¤šå‰¯æœ¬ã€å•æ“ä½œçš„æ•°æ®ä¸€è‡´æ€§ï¼›è€ŒACIDé‡Œçš„Cæ˜¯æŒ‡å•å‰¯æœ¬ã€å¤šæ“ä½œçš„äº‹åŠ¡ä¸€è‡´æ€§ã€‚Paxosè¿™ç±»å…±è¯†ç®—æ³•ï¼Œå¯ä»¥çœ‹ä½œæ˜¯å¤åˆ¶åè®®çš„ä¸€ç§\nè¯´å¾—å¥½","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1649644908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1897062,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f2/66/b16f9ca9.jpg","nickname":"å—å›½","note":"","ucode":"0D8D3C5F4EB8AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298738,"discussion_content":"ç¬¬ä¸€æ¬¡çš„ç•™è¨€ç¡®å®æœ‰äº›é—®é¢˜ï¼Œæ²¡è¡¨è¾¾æ¸…æ¥šè§‚ç‚¹ï¼Œä¸å¥½æ„æ€å‘€ã€‚æˆ‘çš„æƒ³æ³•æ˜¯è¿™æ ·çš„ï¼Œä¸ªäººè®¤ä¸ºCAPç†è®ºåº”è¯¥è¡¨è¾¾çš„æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸èƒ½åŒæ—¶æ»¡è¶³ä¸‰ç‚¹ï¼Œå¯ä»¥è¯´ä½¿ç”¨ä¸€ä¸ªRaftçš„ç³»ç»Ÿä¸ºäº†Cè€Œç‰ºç‰²Aï¼Œå…¶æ¬¡æ²¡æœ‰åˆ†å¸ƒå¼ç®—æ³•æ˜¯ä¸ºäº†Aè€Œæ”¾å¼ƒCå§ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘è¯´æœ‰ç‚¹æ€ªæ€ªçš„ç†ç”±ã€‚å½“ç„¶æˆ‘å¥½åƒæœ‰ç‚¹é’»è¡¨è¾¾æ–¹å¼çš„ç‰›è§’å°–äº†ï¼Œè§è°…å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597391300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1897062,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f2/66/b16f9ca9.jpg","nickname":"å—å›½","note":"","ucode":"0D8D3C5F4EB8AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298569,"discussion_content":"æˆ‘è§‰å¾—CAPç†è®ºä¸è¯¥ç”¨åœ¨å…±è¯†ç®—æ³•ä¸Šå§ã€‚ã€‚æ¯•ç«Ÿç®—æ³•å°±æ˜¯ä¸ºäº†ä¿è¯ä¸€è‡´æ€§çš„ï¼Œè¯´ç‰ºç‰²Aæ€»è§‰å¾—æ€ªæ€ªçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597329240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1056019,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/13/31ea1b0b.jpg","nickname":"å³°","note":"","ucode":"C53CB64E8E7D19","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1897062,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f2/66/b16f9ca9.jpg","nickname":"å—å›½","note":"","ucode":"0D8D3C5F4EB8AE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298707,"discussion_content":"æˆ‘æ²¡çœ‹åˆ°ä½ è¯´ä¸ºä»€ä¹ˆä¸èƒ½çš„ç†ç”±å‘¢ï¼Ÿ è¯´ä¸€ä¸ªç®—æ³•ä¿è¯äº†æ—¶é—´çš„é«˜æ•ˆï¼Œç‰ºç‰²äº†å¤§é‡çš„ç©ºé—´è¿™æ ·æœ‰é”™å—ï¼Ÿè¿˜æ˜¯è¯´ä½ æ›´ä¹ æƒ¯å¬tradeoffè¿™ä¸ªè¯ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597383931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":298569,"ip_address":""},"score":298707,"extra":""}]}]},{"had_liked":false,"id":246795,"user_name":"å¾®æ€","can_delete":false,"product_type":"c1","uid":1004349,"ip_address":"","ucode":"853C48AA183A7B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/53/3d/1189e48a.jpg","comment_is_top":false,"comment_ctime":1599478787,"is_pvip":true,"replies":[{"id":"90686","content":"æ­£ç¡®ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","user_name":"ä½œè€…å›å¤","comment_id":246795,"uid":"1602401","ip_address":"","utype":1,"ctime":1599485356,"user_name_real":"ç‹ç£Š(Ivan)"}],"discussion_count":1,"race_medal":1,"score":"104678693891","product_id":100057401,"comment_content":"CAPçš„Cæ˜¯å¤šå‰¯æœ¬ã€å•æ“ä½œçš„æ•°æ®ä¸€è‡´æ€§ï¼›è€ŒACIDçš„Cæ˜¯å•å‰¯æœ¬ã€å¤šæ“ä½œçš„äº‹ç‰©ä¸€è‡´æ€§ï¼›","like_count":24,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505230,"discussion_content":"æ­£ç¡®ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599485356,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242232,"user_name":"å­Ÿç£Š","can_delete":false,"product_type":"c1","uid":1060845,"ip_address":"","ucode":"D8258AB742EC73","user_header":"https://static001.geekbang.org/account/avatar/00/10/2f/ed/102647a1.jpg","comment_is_top":false,"comment_ctime":1597644044,"is_pvip":false,"replies":[{"id":"89448","content":"ä½ å¥½ï¼Œå­Ÿç£Šï¼Œè°¢è°¢ä½ çš„é¼“åŠ±ã€‚æˆ‘åœ¨æ„æ€è¿™ä¸ªä¸“æ çš„æ—¶å€™ï¼Œå°±è®¢ä¸‹ä¸€ä¸ªç›®æ ‡ï¼Œå°±æ˜¯æŠŠå­¦æœ¯çš„ä¸œè¥¿å’Œç›®å‰å·¥ä¸šç•Œçš„å®è·µè”ç³»èµ·æ¥ï¼Œå†è½åˆ°å…·ä½“çš„å·¥ä½œä¸­ï¼Œæ¯”å¦‚æŠ€æœ¯é€‰å‹ã€‚æ‰€ä»¥ï¼Œèƒ½å¾—åˆ°ä½ çš„è‚¯å®šï¼Œæˆ‘å¾ˆé«˜å…´ã€‚å½“ç„¶ï¼Œå¯¹äº§å“çš„å…³æ³¨æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œä»04å¼€å§‹çš„æ¯ä¸€è®²æˆ‘éƒ½ä¼šå¯¹é¢†å¤´ç¾Šäº§å“åšå±€éƒ¨è®¾è®¡ä¸Šçš„æ‹†è§£ï¼Œå¹¶ä¸”æ¯”å¯¹ä¸åŒæ–¹æ¡ˆçš„ä¼˜åŠ£ï¼Œä¸è¿‡è¿™ä¸ªé¢†å¤´ç¾Šå¹¶ä¸å›ºå®šï¼Œå› ä¸ºæˆ‘æƒ³å‘ä½ ä»‹ç»æœ€æœ‰ç‰¹ç‚¹çš„è®¾è®¡ã€‚å¸Œæœ›ä½ èƒ½å–œæ¬¢è¿™ç§ç»„ç»‡æ–¹å¼ï¼Œåé¢çš„è¯¾ç¨‹ä¸­ï¼ŒæœŸå¾…è¿˜èƒ½æ”¶åˆ°ä½ çš„åé¦ˆï¼Œæˆ‘ä»¬ç»“åˆé—®é¢˜ä¸€èµ·è®¨è®ºã€‚","user_name":"ä½œè€…å›å¤","comment_id":242232,"uid":"1602401","ip_address":"","utype":1,"ctime":1597679484,"user_name_real":"ç‹ç£Š(Ivan)"}],"discussion_count":1,"race_medal":0,"score":"78907055372","product_id":100057401,"comment_content":"å’Œé‚£äº›åç†è®ºçš„è¯¾ç¨‹ä¸åŒï¼Œèƒ½æ„Ÿè§‰åˆ°ä½œè€…å¯¹äºåˆ†å¸ƒå¼æ•°æ®åº“çš„ç†è§£éå¸¸æ·±åˆ»ï¼Œä¸”ç»“åˆäº†å®é™…çš„é‡‘èä¸šåŠ¡ï¼Œæœ‰ç‚¹è¿½å‰§çš„æ„Ÿè§‰äº†ã€‚ èƒ½ä¸èƒ½æ‹¿å‡ºOceanBase goldendbè¿™ç±»é¢†å¤´ç¾Šäº§å“ç»™å¤§å®¶è®²è®²é€‰å‹è¦æ³¨æ„çš„ï¼Ÿ","like_count":18,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503956,"discussion_content":"ä½ å¥½ï¼Œå­Ÿç£Šï¼Œè°¢è°¢ä½ çš„é¼“åŠ±ã€‚æˆ‘åœ¨æ„æ€è¿™ä¸ªä¸“æ çš„æ—¶å€™ï¼Œå°±è®¢ä¸‹ä¸€ä¸ªç›®æ ‡ï¼Œå°±æ˜¯æŠŠå­¦æœ¯çš„ä¸œè¥¿å’Œç›®å‰å·¥ä¸šç•Œçš„å®è·µè”ç³»èµ·æ¥ï¼Œå†è½åˆ°å…·ä½“çš„å·¥ä½œä¸­ï¼Œæ¯”å¦‚æŠ€æœ¯é€‰å‹ã€‚æ‰€ä»¥ï¼Œèƒ½å¾—åˆ°ä½ çš„è‚¯å®šï¼Œæˆ‘å¾ˆé«˜å…´ã€‚å½“ç„¶ï¼Œå¯¹äº§å“çš„å…³æ³¨æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œä»04å¼€å§‹çš„æ¯ä¸€è®²æˆ‘éƒ½ä¼šå¯¹é¢†å¤´ç¾Šäº§å“åšå±€éƒ¨è®¾è®¡ä¸Šçš„æ‹†è§£ï¼Œå¹¶ä¸”æ¯”å¯¹ä¸åŒæ–¹æ¡ˆçš„ä¼˜åŠ£ï¼Œä¸è¿‡è¿™ä¸ªé¢†å¤´ç¾Šå¹¶ä¸å›ºå®šï¼Œå› ä¸ºæˆ‘æƒ³å‘ä½ ä»‹ç»æœ€æœ‰ç‰¹ç‚¹çš„è®¾è®¡ã€‚å¸Œæœ›ä½ èƒ½å–œæ¬¢è¿™ç§ç»„ç»‡æ–¹å¼ï¼Œåé¢çš„è¯¾ç¨‹ä¸­ï¼ŒæœŸå¾…è¿˜èƒ½æ”¶åˆ°ä½ çš„åé¦ˆï¼Œæˆ‘ä»¬ç»“åˆé—®é¢˜ä¸€èµ·è®¨è®ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597679484,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241804,"user_name":"å—å›½","can_delete":false,"product_type":"c1","uid":1897062,"ip_address":"","ucode":"0D8D3C5F4EB8AE","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f2/66/b16f9ca9.jpg","comment_is_top":false,"comment_ctime":1597450779,"is_pvip":false,"replies":[{"id":"89258","content":"ä½ å¥½ï¼Œç®€å•çš„è¯´ï¼Œå› æœä¸€è‡´æ€§æ˜¯é é€»è¾‘æ—¶é’Ÿç¡®å®šååºå…³ç³»ï¼Œä¸éœ€è¦åº”ç”¨ä»‹å…¥ï¼›è€Œå‰ç¼€ä¸€è‡´æ€§é äº‹ä»¶ä¹‹é—´æ˜¾å¼å£°æ˜çš„ä¾èµ–å…³ç³»ï¼Œå¯ä»¥åœ¨åº”ç”¨å±‚å¤„ç†","user_name":"ä½œè€…å›å¤","comment_id":241804,"uid":"1602401","ip_address":"","utype":1,"ctime":1597451846,"user_name_real":"ç‹ç£Š(Ivan)"}],"discussion_count":1,"race_medal":0,"score":"70316927515","product_id":100057401,"comment_content":"è€å¸ˆï¼Œå…¶å®æˆ‘è¿˜æ˜¯æ²¡å¤ªæ‡‚å‰ç¼€ä¸€è‡´æ€§å’Œå› æœä¸€è‡´æ€§çš„åŒºåˆ«ï¼Œå‰ç¼€ä¸€è‡´æ€§æ˜¯æŸäº›å…³ç³»å¯æ¯”ï¼Œå¹¶å‘çš„ä¸å¯æ¯”ï¼Œä¸ä¹Ÿæ˜¯ä¸€ä¸ªååºå…³ç³»å˜›ï¼Ÿæˆ‘è¿˜ä¸€ç›´è§‰å¾—è¿™ä¸¤ä¸ªæ˜¯ä¸€å›äº‹å‘¢ã€‚","like_count":16,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503850,"discussion_content":"ä½ å¥½ï¼Œç®€å•çš„è¯´ï¼Œå› æœä¸€è‡´æ€§æ˜¯é é€»è¾‘æ—¶é’Ÿç¡®å®šååºå…³ç³»ï¼Œä¸éœ€è¦åº”ç”¨ä»‹å…¥ï¼›è€Œå‰ç¼€ä¸€è‡´æ€§é äº‹ä»¶ä¹‹é—´æ˜¾å¼å£°æ˜çš„ä¾èµ–å…³ç³»ï¼Œå¯ä»¥åœ¨åº”ç”¨å±‚å¤„ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597451846,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241343,"user_name":"tt","can_delete":false,"product_type":"c1","uid":1489957,"ip_address":"","ucode":"7753B79AD5A9AC","user_header":"https://static001.geekbang.org/account/avatar/00/16/bc/25/1c92a90c.jpg","comment_is_top":false,"comment_ctime":1597274451,"is_pvip":false,"replies":[{"id":"89185","content":"è¯´çš„å¾ˆå¥½","user_name":"ä½œè€…å›å¤","comment_id":241343,"uid":"1602401","ip_address":"","utype":1,"ctime":1597329383,"user_name_real":"ç‹ç£Š(Ivan)"}],"discussion_count":1,"race_medal":0,"score":"53136882003","product_id":100057401,"comment_content":"æˆ‘è§‰å¾—æ•°æ®ä¸€è‡´æ€§æ˜¯ä»æ•°æ®çš„ç”¨æˆ·è§†è§’å‡ºå‘å¯¹æ•°æ®å±æ€§çš„æè¿°ï¼Œè€Œpaxosåè®®æ˜¯è¾¾æˆå…±è¯†çš„è¿‡ç¨‹çš„ä¸€ç§å®ç°æ–¹å¼ï¼Œæ˜¯ä»æ•°æ®çš„ç”Ÿäº§è€…æˆ–è€…ç»´æŠ¤è€…è§’åº¦å‡ºå‘çš„","like_count":12,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503716,"discussion_content":"è¯´çš„å¾ˆå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597329383,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241168,"user_name":"æ‰©æ•£æ€§ç™¾ä¸‡å’¸é¢åŒ…","can_delete":false,"product_type":"c1","uid":1905171,"ip_address":"","ucode":"6D703D51553B42","user_header":"https://static001.geekbang.org/account/avatar/00/1d/12/13/e103a6e3.jpg","comment_is_top":false,"comment_ctime":1597207188,"is_pvip":false,"replies":[{"id":"89182","content":"ä½ å¥½ï¼Œå…³äºç¬¬ä¸€ç‚¹ï¼Œæˆ‘å†è¡¥å……ä¸€ä¸‹ã€‚<br>Raftæ˜¯å¤šæ•°æ´¾åè®®ï¼Œä»å†™å…¥æˆåŠŸé‚£ä¸€åˆ»çš„æ•°æ®çŠ¶æ€æ¥è¯´ï¼Œè‚¯å®šä¸æ˜¯ä¸€è‡´çš„ã€‚ä¸è¿‡ï¼Œé€šè¿‡æ“ä½œæ–¹é¢çš„å°è£…ï¼Œçº¦å®šç”±ä¸»å‰¯æœ¬å¯¹å¤–æä¾›æœåŠ¡ï¼Œæ‰€ä»¥ä¸ä¼šä½“ç°å‡ºå‰¯æœ¬é—´çš„å·®å¼‚ã€‚ä¸€è‡´æ€§æ¨¡å‹ï¼Œé™¤äº†å‰¯æœ¬çš„çŠ¶æ€ï¼Œè¿˜è¦çœ‹è¯»å†™æ“ä½œã€‚æœ€ç»ˆä¸€è‡´æ€§çš„å®šä¹‰ï¼Œå…¶å®åªæ˜¯æè¿°äº†å‰¯æœ¬çš„çŠ¶æ€è€Œå·²ã€‚æˆ‘è®¤ä¸ºï¼Œä¸€è‡´æ€§æ¨¡å‹ï¼Œä¸»è¦è¿˜æ˜¯ä»è¯»å†™æ“ä½œçš„æ•ˆæœæ¥åˆ†æï¼Œä¹Ÿæ•°æ®å‰¯æœ¬çš„ä¸€è‡´æ€§æœ‰å…³ä½†ä¸æ˜¯å¼ºä¾èµ–ã€‚æ¯”å¦‚ï¼Œå¦‚æœä¸ä½¿ç”¨Raftï¼Œç”¨åŠåŒæ­¥ï¼Œä¹Ÿå¯ä»¥åšåˆ°çº¿æ€§ä¸€è‡´æ€§ã€‚<br>ç¬¬äºŒç‚¹ï¼Œæˆ‘æ²¡æœ‰å®Œå…¨ç†è§£ï¼Œå’±ä»¬å¯ä»¥ç»§ç»­æ¢è®¨","user_name":"ä½œè€…å›å¤","comment_id":241168,"uid":"1602401","ip_address":"","utype":1,"ctime":1597328895,"user_name_real":"ç‹ç£Š(Ivan)"}],"discussion_count":3,"race_medal":0,"score":"23072043668","product_id":100057401,"comment_content":"å¼ºä¸€è‡´æ€§å’Œå¼±ä¸€è‡´æ€§çš„å®šä¹‰æ„Ÿè§‰è¿˜æ˜¯ä¸å¤Ÿå‡†ç¡®ã€‚<br>1. MySQLè¿™ä¸ªä¾‹å­æ˜¯å…¨åŒæ­¥å¤åˆ¶ï¼Œå®é™…ä¸ŠRaftä¹Ÿæ˜¯å¼ºä¸€è‡´æ€§ç®—æ³•ï¼Œä½†å®ƒåœ¨åº”ç­”å®¢æˆ·ç«¯çš„è¯·æ±‚æˆåŠŸåå¹¶ä¸ä¿è¯å¤šå‰¯æœ¬ä¹‹é—´æš‚æ—¶çš„æ•°æ®ä¸€è‡´æ€§ï¼Œæœ‰å¯èƒ½æ•°æ®å­˜åœ¨ä¸åŒã€‚åªä¸è¿‡åœ¨æ”¶åˆ°è¯»è¯·æ±‚çš„æ—¶å€™ä¼šè½¬å‘ç»™Masterï¼Œä¿è¯å¼ºä¸€è‡´æ€§ã€‚<br><br>2. å¼±ä¸€è‡´æ€§æ˜¯è¯´æœ‰å¯èƒ½ä¸åŒç”¨æˆ·çœ‹åˆ°çš„stateä¸ä¸€æ ·ï¼Œè€Œä¸ä»…ä»…æ˜¯å‰¯æœ¬ä¹‹é—´æ•°æ®ä¸ä¸€è‡´ã€‚å¯èƒ½Aå…ˆæ¯”Bå‘èµ·è¯·æ±‚ï¼Œä½†æ˜¯æ˜¯Bçš„ä¿®æ”¹å´è¢«Aè¦†ç›–äº†<br>å¦‚æœæŒ‰ä½œè€…çš„","like_count":5,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503664,"discussion_content":"ä½ å¥½ï¼Œå…³äºç¬¬ä¸€ç‚¹ï¼Œæˆ‘å†è¡¥å……ä¸€ä¸‹ã€‚\nRaftæ˜¯å¤šæ•°æ´¾åè®®ï¼Œä»å†™å…¥æˆåŠŸé‚£ä¸€åˆ»çš„æ•°æ®çŠ¶æ€æ¥è¯´ï¼Œè‚¯å®šä¸æ˜¯ä¸€è‡´çš„ã€‚ä¸è¿‡ï¼Œé€šè¿‡æ“ä½œæ–¹é¢çš„å°è£…ï¼Œçº¦å®šç”±ä¸»å‰¯æœ¬å¯¹å¤–æä¾›æœåŠ¡ï¼Œæ‰€ä»¥ä¸ä¼šä½“ç°å‡ºå‰¯æœ¬é—´çš„å·®å¼‚ã€‚ä¸€è‡´æ€§æ¨¡å‹ï¼Œé™¤äº†å‰¯æœ¬çš„çŠ¶æ€ï¼Œè¿˜è¦çœ‹è¯»å†™æ“ä½œã€‚æœ€ç»ˆä¸€è‡´æ€§çš„å®šä¹‰ï¼Œå…¶å®åªæ˜¯æè¿°äº†å‰¯æœ¬çš„çŠ¶æ€è€Œå·²ã€‚æˆ‘è®¤ä¸ºï¼Œä¸€è‡´æ€§æ¨¡å‹ï¼Œä¸»è¦è¿˜æ˜¯ä»è¯»å†™æ“ä½œçš„æ•ˆæœæ¥åˆ†æï¼Œä¹Ÿæ•°æ®å‰¯æœ¬çš„ä¸€è‡´æ€§æœ‰å…³ä½†ä¸æ˜¯å¼ºä¾èµ–ã€‚æ¯”å¦‚ï¼Œå¦‚æœä¸ä½¿ç”¨Raftï¼Œç”¨åŠåŒæ­¥ï¼Œä¹Ÿå¯ä»¥åšåˆ°çº¿æ€§ä¸€è‡´æ€§ã€‚\nç¬¬äºŒç‚¹ï¼Œæˆ‘æ²¡æœ‰å®Œå…¨ç†è§£ï¼Œå’±ä»¬å¯ä»¥ç»§ç»­æ¢è®¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597328895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1905171,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/12/13/e103a6e3.jpg","nickname":"æ‰©æ•£æ€§ç™¾ä¸‡å’¸é¢åŒ…","note":"","ucode":"6D703D51553B42","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298785,"discussion_content":"è€å¸ˆåé¢è®²çš„è¿™ä¸ªæ˜¯å¯¹çš„ã€‚åªæ˜¯æ–‡ç« ä¸­åœ¨å¯¹å¼ºä¸€è‡´æ€§è¿›è¡Œè§£é‡Šçš„æ—¶å€™ï¼Œåªè®²äº†Synchronous Replicationã€‚æ‰€ä»¥æˆ‘è¡¥å……ä¸€ä¸‹ã€‚\nç¬¬äºŒç‚¹æˆ‘å…¶å®æƒ³è¯´çš„æ˜¯å¼±ä¸€è‡´æ€§ï¼Œä¸ä»…ä»…æ˜¯å‰¯æœ¬ä¹‹é—´æ•°æ®æš‚æ—¶ä¸ä¸€è‡´ï¼Œè€Œæ˜¯è¯»å†™å±‚é¢çš„ä¸ä¸€è‡´ã€‚æ¯”å¦‚å¼±ä¸€è‡´æ€§ç³»ç»Ÿï¼Œæœ‰å¯èƒ½Aå†™å…¥äº†æŸä¸ªå€¼ï¼ŒBå»è¯»è¿™ä¸ªå€¼å¹¶ä¸èƒ½è¯»åˆ°æœ€æ–°çš„å€¼ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1597398824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1066752,"avatar":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","nickname":"piboye","note":"","ucode":"7CFD8712857A85","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553776,"discussion_content":"çº¿æ€§ä¸€è‡´æ€§ï¼Œæ²¡æœ‰casè¿™ç§åŸè¯­ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿä¼šå­˜åœ¨å†™è¦†ç›–å•Šï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646063156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242520,"user_name":"æé‘«ç£Š","can_delete":false,"product_type":"c1","uid":1101615,"ip_address":"","ucode":"D06517CFCEEE00","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/2f/4f89f22a.jpg","comment_is_top":false,"comment_ctime":1597749048,"is_pvip":false,"replies":[{"id":"89482","content":"ä½ å¥½ï¼Œæé‘«ç£Šï¼Œä½ æŠŠå¤šæ•°æ®å‰¯æœ¬çš„åŒæ­¥è¿‡ç¨‹è¯´çš„å¾ˆå½¢è±¡ã€‚ä¸è¿‡ACIDé‡Œçš„Cæ˜¯è¯´äº‹åŠ¡ä¸€è‡´æ€§ï¼Œå’Œæ•°æ®ä¸€è‡´æ€§è¿˜æ˜¯ä¸åŒçš„ï¼Œ03è®²æœ‰å…·ä½“çš„ä»‹ç»ï¼Œæˆ‘æ¨èä½ è¯»ä¸€ä¸‹ã€‚æ•°æ®ä¸€è‡´æ€§ä¸­è¿˜æœ‰ä¸€ç‚¹å¾ˆé‡è¦ï¼Œå°±æ˜¯æ“ä½œä¹‹é—´çš„å…ˆåæ¬¡åºåˆ¤æ–­ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¯´ï¼Œçº¿æ€§ä¸€è‡´æ€§å¿…é¡»è¦æœ‰å…¨å±€æ—¶é’Ÿæ”¯æŒã€‚ä¹Ÿè®¸02ä¸­çš„è¡¨è¿°è¿˜ä¸å¤Ÿç›´è§‚ï¼Œæˆ‘å»ºè®®å…³æ³¨ä¸€ä¸‹ç¬¬12è®²ï¼Œè¯´ä¸å®šä¼šæœ‰æ”¶è·","user_name":"ä½œè€…å›å¤","comment_id":242520,"uid":"1602401","ip_address":"","utype":1,"ctime":1597754488,"user_name_real":"ç‹ç£Š(Ivan)"}],"discussion_count":1,"race_medal":0,"score":"18777618232","product_id":100057401,"comment_content":"çº¿æ€§ä¸€è‡´æ€§å’ŒçŠ¶æ€ä¸€è‡´æ€§ï¼ˆACID ä¸­çš„ Cï¼‰ï¼Œåˆ°åº•æœ‰å•¥ä¸ä¸€æ ·ï¼Ÿæˆ‘ç†è§£çš„çº¿æ€§ä¸€è‡´æ€§æ˜¯æœ€ç»ˆä¸€è‡´æ€§é‡Œé¢æœ€å¼ºçš„ä¸€è‡´æ€§æ¨¡å‹ã€‚çº¿æ€§ä¸€è‡´æ€§å’ŒçŠ¶æ€ä¸€è‡´æ€§çš„åŒºåˆ«åœ¨äºï¼šè¯»çš„é‚£ä¸€ç¬é—´ï¼Œæ•°æ®åœ¨å¤šä¸ªå‰¯æœ¬ä¹‹é—´æ˜¯ä¸æ˜¯ä¸€æ ·çš„ï¼›ä¸€æ ·çš„å°±æ˜¯çŠ¶æ€ä¸€è‡´æ€§ã€‚çº¿æ€§ä¸€è‡´æ€§ï¼Œæˆ‘çš„ç†è§£ï¼šå¯ä»¥åœ¨å¤šä¸ªæ•°æ®å‰¯æœ¬ä¹‹ä¸ŠæŠ½è±¡å‡ºä¸€æ¡é€»è¾‘ä¸Šçš„æ—¶é—´è½´ï¼Œæ•°æ®æŒ‰æäº¤åˆ°ç³»ç»Ÿæ—¶çš„æ—¶é—´ï¼Œä»å·¦åˆ°å³ä¾æ¬¡æ’å¼€ï¼›æ•°æ®åˆšæ’åœ¨æ—¶é—´è½´ä¸Šæ—¶æ˜¯ç°è‰²çš„ï¼Œåªæœ‰æ•°æ®åœ¨å¤šä¸ªå‰¯æœ¬ä¹‹é—´åŒæ­¥å®Œæˆï¼Œæ•°æ®åœ¨æ—¶é—´è½´ä¸Šçš„ç‚¹æ‰å›è¢«â€œç‚¹äº®â€ï¼›è¯»çš„æ—¶å€™ï¼Œåªèƒ½è¯»åˆ°è¿™æ ·çš„æ•°æ®ï¼šå…¶åœ¨æ—¶é—´è½´ä¸Šå·²ç»è¢«â€œç‚¹äº®â€äº†ï¼Œä¸”å…¶å·¦è¾¹çš„æ‰€æœ‰æ•°æ®éƒ½å·²è¢«â€œç‚¹äº®â€äº†ã€‚Ivanï¼Œä½ è¯´æ˜¯ä¸æ˜¯è¿™æ ·æ»´ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504028,"discussion_content":"ä½ å¥½ï¼Œæé‘«ç£Šï¼Œä½ æŠŠå¤šæ•°æ®å‰¯æœ¬çš„åŒæ­¥è¿‡ç¨‹è¯´çš„å¾ˆå½¢è±¡ã€‚ä¸è¿‡ACIDé‡Œçš„Cæ˜¯è¯´äº‹åŠ¡ä¸€è‡´æ€§ï¼Œå’Œæ•°æ®ä¸€è‡´æ€§è¿˜æ˜¯ä¸åŒçš„ï¼Œ03è®²æœ‰å…·ä½“çš„ä»‹ç»ï¼Œæˆ‘æ¨èä½ è¯»ä¸€ä¸‹ã€‚æ•°æ®ä¸€è‡´æ€§ä¸­è¿˜æœ‰ä¸€ç‚¹å¾ˆé‡è¦ï¼Œå°±æ˜¯æ“ä½œä¹‹é—´çš„å…ˆåæ¬¡åºåˆ¤æ–­ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¯´ï¼Œçº¿æ€§ä¸€è‡´æ€§å¿…é¡»è¦æœ‰å…¨å±€æ—¶é’Ÿæ”¯æŒã€‚ä¹Ÿè®¸02ä¸­çš„è¡¨è¿°è¿˜ä¸å¤Ÿç›´è§‚ï¼Œæˆ‘å»ºè®®å…³æ³¨ä¸€ä¸‹ç¬¬12è®²ï¼Œè¯´ä¸å®šä¼šæœ‰æ”¶è·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597754488,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241165,"user_name":"æ‰©æ•£æ€§ç™¾ä¸‡å’¸é¢åŒ…","can_delete":false,"product_type":"c1","uid":1905171,"ip_address":"","ucode":"6D703D51553B42","user_header":"https://static001.geekbang.org/account/avatar/00/1d/12/13/e103a6e3.jpg","comment_is_top":false,"comment_ctime":1597206264,"is_pvip":false,"replies":[{"id":"89183","content":"é«˜çº§åˆ«çš„ä¸€è‡´æ€§æ¨¡å‹ï¼Œå¯ä»¥åŸºäºRaftç®—æ³•å¤åˆ¶ï¼Œä½†ä½¿ç”¨ä¸»ä»å¤åˆ¶ä¹Ÿæ˜¯å¯ä»¥çš„ğŸ˜Š","user_name":"ä½œè€…å›å¤","comment_id":241165,"uid":"1602401","ip_address":"","utype":1,"ctime":1597328994,"user_name_real":"ç‹ç£Š(Ivan)"}],"discussion_count":1,"race_medal":0,"score":"18777075448","product_id":100057401,"comment_content":"Paxosæœ¬è´¨ä¸Šæ˜¯å…±è¯†ç®—æ³•ï¼Œä¸»è¦æ˜¯ç”¨æ¥ç»´æŠ¤æ•°æ®åº“å‰¯æœ¬çš„ä¸€è‡´æ€§&#47;æƒå¨æ€§ã€‚è€Œä»Šå¤©è®²çš„ä¸€è‡´æ€§æ˜¯ä»ç”¨æˆ·è§’åº¦æ¥è°ˆï¼Œè€Œä¸å±€é™äºæ˜¯æ•°æ®å‰¯æœ¬ã€‚<br>åŒæ—¶ï¼Œä»Šå¤©è®²çš„ä¸€è‡´æ€§ä¹Ÿéœ€è¦å…±è¯†ç®—æ³•Paxosï¼ŒRaftæ¥ä¿è¯ã€‚æ¯”å¦‚é€‰ä¸¾ï¼Œå¦‚ä½•æ‰èƒ½é€‰å‡ºæ­£ç¡®çš„Leaderç­‰ç­‰ã€‚","like_count":4,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503662,"discussion_content":"é«˜çº§åˆ«çš„ä¸€è‡´æ€§æ¨¡å‹ï¼Œå¯ä»¥åŸºäºRaftç®—æ³•å¤åˆ¶ï¼Œä½†ä½¿ç”¨ä¸»ä»å¤åˆ¶ä¹Ÿæ˜¯å¯ä»¥çš„ğŸ˜Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597328994,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":271726,"user_name":"èŠ±å„¿å°‘å¹´","can_delete":false,"product_type":"c1","uid":1318540,"ip_address":"","ucode":"CFE4F64243673B","user_header":"https://static001.geekbang.org/account/avatar/00/14/1e/8c/450fe5cb.jpg","comment_is_top":false,"comment_ctime":1609769889,"is_pvip":false,"replies":[{"id":"98668","content":"å—¯ï¼ŒDDIAéå¸¸å€¼å¾—å¤§å®¶å»è¯»ä¸€è¯»","user_name":"ä½œè€…å›å¤","comment_id":271726,"uid":"1602401","ip_address":"","utype":1,"ctime":1609975948,"user_name_real":"ç‹ç£Š(Ivan)"}],"discussion_count":1,"race_medal":0,"score":"14494671777","product_id":100057401,"comment_content":"paxos æ˜¯å…±è¯†ç®—æ³•ï¼Œæ˜¯åè°ƒè¾¾æˆä¸€è‡´çš„è¿‡ç¨‹ï¼Œå¯¹æŸä¸ªçŠ¶æ€è¾¾æˆä¸€è‡´çš„è¿‡ç¨‹<br>æ•°æ®ä¸€è‡´æ€§æ˜¯æŒ‡å¯¹ç»è¿‡ä¸€ç³»åˆ—çš„æ“ä½œï¼Œæ•°æ®å¤–å‘ˆç°çš„çŠ¶æ€æ˜¯ä¸€è‡´çš„<br><br>è€å¸ˆæŠŠæ•°æ®ä¸€è‡´æ€§åˆ†è§£çš„æ›´ç»†äº†ï¼Œè¿™å—åœ¨ã€Šè®¾è®¡æ•°æ®å¯†é›†å‹åº”ç”¨ã€‹é‡Œé¢ä¹Ÿæœ‰ç»†è‡´è®²åˆ°","like_count":3,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513024,"discussion_content":"å—¯ï¼ŒDDIAéå¸¸å€¼å¾—å¤§å®¶å»è¯»ä¸€è¯»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609975948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241540,"user_name":"å—å›½","can_delete":false,"product_type":"c1","uid":1897062,"ip_address":"","ucode":"0D8D3C5F4EB8AE","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f2/66/b16f9ca9.jpg","comment_is_top":false,"comment_ctime":1597329778,"is_pvip":false,"replies":[{"id":"89218","content":"ä½ å¥½ï¼ŒCAPä¸­çš„Cå°±æ˜¯Consistencyï¼Œæ˜¯æ•°æ®ä¸€è‡´æ€§ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æ‰€è¯´çš„æ“ä½œè§†è§’çš„ä¸€è‡´æ€§ï¼Œè¿™é‡ŒåŒ…å«çš„å¤šå‰¯æœ¬å’Œè¯»å†™ç­–ç•¥ä¸¤å±‚å«ä¹‰ã€‚å…±è¯†ç®—æ³•æ˜¯å¤åˆ¶åè®®å±‚é¢çš„å†…å®¹ï¼Œå¹¶ä¸ä¸€å®šå¯¹æ“ä½œåšä¸¥æ ¼å®šä¹‰ã€‚æ¯”å¦‚ï¼Œå°±ç®—æˆ‘ä»¬ä½¿ç”¨Raftç®—æ³•ï¼Œä½†æ˜¯å¦‚æœå¼€æ”¾äº†Followerè¯»ï¼Œä¹Ÿæœ‰å¯èƒ½è¾¾ä¸åˆ°çº¿æ€§ä¸€è‡´æ€§æˆ–å› æœä¸€è‡´æ€§çš„ã€‚äº‹å®ä¸Šï¼ŒCockroachDBçš„Followerè¯»å°±æ˜¯è¿™æ ·çš„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":241540,"uid":"1602401","ip_address":"","utype":1,"ctime":1597410925,"user_name_real":"ç‹ç£Š(Ivan)"}],"discussion_count":1,"race_medal":0,"score":"14482231666","product_id":100057401,"comment_content":"å…ˆå›ç­”é—®é¢˜ï¼Œâ€œä¸€è‡´æ€§åè®®â€å’Œæ•°æ®ä¸€è‡´æ€§çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿå¾ˆå¤šç•™è¨€çš„æœ‹å‹éƒ½æåˆ°äº†ä¸€ä¸ªé‡è¦çš„é—®é¢˜ï¼Œå³Paxosæ˜¯ä¸€ä¸ªå…±è¯†ç®—æ³•ï¼Œå…±è¯†ç®—æ³•å°±æ˜¯å…¨å±€èŠ‚ç‚¹å°±æŸä¸€äº‹å®è¾¾æˆä¸€è‡´ï¼Œè€Œæ•°æ®ä¸€è‡´ä¸­çš„æ•°æ®æˆ‘è§‰å¾—å¯ä»¥ç†è§£ä¸ºå…±è¯†ç®—æ³•çš„æ—¥å¿—ï¼Œä»æ­¤çœ‹æ¥æ•°æ®ä¸€è‡´å°±æ˜¯ä¸€è‡´æ€§åè®®çš„ä¸€ä¸ªå­é›†ï¼›è€Œå…±è¯†ç®—æ³•è¿˜åŒ…æ‹¬å¾ˆå¤šå…¶ä»–éƒ¨åˆ†ï¼Œæ¯”å¦‚å®¹é”™ï¼Œæ—¥å¿—å‹ç¼©ï¼Œé›†ç¾¤å˜æ›´ç­‰ã€‚<br>è¿˜æœ‰å°±æ˜¯è¿™äº›å…±è¯†ç®—æ³•åŸºæœ¬éƒ½éµä»quorumçš„ï¼Œæ‰€ä»¥éƒ½å¯ä»¥çœ‹æˆæ“ä½œä¸€è‡´æ€§ï¼Œè¿™ä¹Ÿæ˜¯ç”¨æˆ·æ‰€çœ‹åˆ°çš„ä¸œè¥¿æ˜¯ä¸€è‡´çš„ï¼Œè¿™ä¸ä¹Ÿæ˜¯æˆ‘ä»¬å¸Œæœ›çš„å—ï¼Ÿæ¯•ç«Ÿæ•°æ®åˆ°åº•åˆ°æ²¡åˆ°å…¨éƒ¨èŠ‚ç‚¹ä¸é‡è¦ï¼Œç”¨æˆ·çœ‹åˆ°æ‰æ˜¯ç‹é“ï¼Œæ­¤ç±»ä¾‹å­å¾ˆå¤šï¼Œæ¯”å¦‚zkï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥ç†è§£ä¸ºæ“ä½œä¸€è‡´æ€§ï¼ˆå³ç‰©ç†ä¸Šçš„å¼ºä¸€è‡´æ€§ï¼‰æ²¡ä»€ä¹ˆå‘æŒ¥ç©ºé—´å‘¢ï¼Ÿ<br>è¿˜æœ‰CAPä¸­Cåˆ°åº•æ˜¯æŒ‡æ“ä½œä¸€è‡´æ€§è¿˜æ˜¯çŠ¶æ€ä¸€è‡´æ€§å‘¢ï¼Ÿ<br>éº»çƒ¦è€å¸ˆå•¦","like_count":3,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503768,"discussion_content":"ä½ å¥½ï¼ŒCAPä¸­çš„Cå°±æ˜¯Consistencyï¼Œæ˜¯æ•°æ®ä¸€è‡´æ€§ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æ‰€è¯´çš„æ“ä½œè§†è§’çš„ä¸€è‡´æ€§ï¼Œè¿™é‡ŒåŒ…å«çš„å¤šå‰¯æœ¬å’Œè¯»å†™ç­–ç•¥ä¸¤å±‚å«ä¹‰ã€‚å…±è¯†ç®—æ³•æ˜¯å¤åˆ¶åè®®å±‚é¢çš„å†…å®¹ï¼Œå¹¶ä¸ä¸€å®šå¯¹æ“ä½œåšä¸¥æ ¼å®šä¹‰ã€‚æ¯”å¦‚ï¼Œå°±ç®—æˆ‘ä»¬ä½¿ç”¨Raftç®—æ³•ï¼Œä½†æ˜¯å¦‚æœå¼€æ”¾äº†Followerè¯»ï¼Œä¹Ÿæœ‰å¯èƒ½è¾¾ä¸åˆ°çº¿æ€§ä¸€è‡´æ€§æˆ–å› æœä¸€è‡´æ€§çš„ã€‚äº‹å®ä¸Šï¼ŒCockroachDBçš„Followerè¯»å°±æ˜¯è¿™æ ·çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597410925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241071,"user_name":"å«æˆ‘çš®å¡ä¸˜","can_delete":false,"product_type":"c1","uid":1112916,"ip_address":"","ucode":"619C7E19532CFE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/cy7THOLNqgY6bibXapV9sdqOLyU2PWu9mgDFrtenYwjZYIDMzonmyLSu5mehCd3kR8zxU0UCssxnFDcbVZSQkpA/132","comment_is_top":false,"comment_ctime":1597166583,"is_pvip":false,"replies":[{"id":"89186","content":"ä½ å¥½ï¼Œå³ä½¿æ˜¯Raftåè®®ï¼Œå¦‚æœå¼€æ”¾followerè¯»ï¼Œä¹Ÿä¼šå‡ºç°ä¸ä¸€è‡´çš„æƒ…å†µï¼Œæ‰€ä»¥è¯»å†™ç­–ç•¥è¿˜æ˜¯å¾ˆé‡è¦çš„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":241071,"uid":"1602401","ip_address":"","utype":1,"ctime":1597329488,"user_name_real":"ç‹ç£Š(Ivan)"}],"discussion_count":1,"race_medal":0,"score":"14482068471","product_id":100057401,"comment_content":"æˆ‘è®¤ä¸ºæ˜¯æ•°æ®çš„ä¸€è‡´æ€§ä¾é paxos,raftç­‰ä¸€è‡´æ€§ç®—æ³•æ¥ä¿è¯","like_count":3,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503634,"discussion_content":"ä½ å¥½ï¼Œå³ä½¿æ˜¯Raftåè®®ï¼Œå¦‚æœå¼€æ”¾followerè¯»ï¼Œä¹Ÿä¼šå‡ºç°ä¸ä¸€è‡´çš„æƒ…å†µï¼Œæ‰€ä»¥è¯»å†™ç­–ç•¥è¿˜æ˜¯å¾ˆé‡è¦çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597329488,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":332101,"user_name":"å²æœˆå¦‚å“¥","can_delete":false,"product_type":"c1","uid":1102926,"ip_address":"","ucode":"B7B870F6FFD6F0","user_header":"https://static001.geekbang.org/account/avatar/00/10/d4/4e/586b7bc6.jpg","comment_is_top":false,"comment_ctime":1643016542,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5937983838","product_id":100057401,"comment_content":"ä»ç³»ç»Ÿå†…éƒ¨çœ‹ï¼Œç»å¯¹æ„ä¹‰ä¸Šçš„å¤šå‰¯æœ¬æ•°æ®çŠ¶æ€ä¸€è‡´ï¼Œåº”è¯¥æ˜¯ä¸å­˜åœ¨çš„ï¼Œ<br>æ‰€æœ‰ä¸€è‡´æ€§éƒ½æ˜¯åŸºäºå¤–éƒ¨è§‚å¯Ÿè€…è§†è§’çš„æ•°æ®çŠ¶æ€ä¸€è‡´ï¼Œæ¯”å¦‚MySQLå¼ºåŒæ­¥ä¹Ÿæ˜¯ä»å®¢æˆ·ç«¯æ“ä½œè§’åº¦å»çœ‹çš„","like_count":1},{"had_liked":false,"id":328072,"user_name":"éƒ‘æ³½æ´²","can_delete":false,"product_type":"c1","uid":1447496,"ip_address":"","ucode":"EA1B540A040875","user_header":"https://static001.geekbang.org/account/avatar/00/16/16/48/01567df1.jpg","comment_is_top":false,"comment_ctime":1640516964,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5935484260","product_id":100057401,"comment_content":"åœ¨æå®¢ä¸Šå‡ å¹´ä¸‹æ¥å­¦äº†20å¤šé—¨äº†ï¼Œè¿™è¯¾ç®—æ˜¯å¤ä¹ ï¼Œä¸€å¹´å‰å­¦ä¹ çš„ä»»æ°è€å¸ˆçš„ã€Šåˆ†å¸ƒå¼é‡‘èæ¶æ„è¯¾ã€‹æœ‰è¯¾ä¹Ÿæ˜¯è®²åŒæ ·çš„çŸ¥è¯†ç‚¹ã€‚ä¸å¾—ä¸è¯´ï¼Œè¿˜æ˜¯ç‹ç£Šè€å¸ˆè¯´çš„æ¯”è¾ƒæ¸…æ¥šï¼š<br>1. ä¸¾äº†å°æ˜å’Œå°çº¢å‘æœ‹å‹åœˆè¿™æ ·ç”ŸåŠ¨çš„ä¾‹å­ï¼Œæ¯”å¹²å•ƒç†è®ºæ•ˆæœè¦å¥½ç‚¹ã€‚<br>2. äº”ä¸ªä¸€è‡´æ€§è®²è§£æ’åˆ—åœ°å¥½ï¼Œæ˜¯å±‚å±‚é€’è¿›çš„å…³ç³»ï¼Œæ˜¯è·¯çº¿å›¾ã€‚<br>3. æå®¢æ—¶é—´çš„å…¸å‹å­¦ä¹ åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯996çš„èŒåœºäººå£«åˆ©ç”¨æœ‰é™ä¸šåŠ¡æ—¶é—´çš„å­¦ä¹ ã€‚å»ºç«‹ä»–ä»¬å¤´è„‘ä¸­å¤§åœºæ™¯å’Œè·¯çº¿å›¾ï¼Œæ¯”æ·±æŒ–æŸä¸ªçŸ¥è¯†ç‚¹è¦æ›´é‡è¦ï¼Œé€šä¿—åœ°è¯´ï¼Œå°±æ˜¯ç»™å¼ åœ°å›¾ï¼Œæ‰«æ¸…è¿·é›¾ï¼Œå¼•èµ·å…´è¶£ï¼Œè‡³äºæŸä¸ªç‚¹ä¸Šæœ‰æ²¡æœ‰æ·±æŒ–ä¸‰å°ºï¼Œæ˜¾ç¤ºè€å¸ˆæ·±åšåŠŸåŠ›ï¼Œæˆ‘è§‰å¾—åªèƒ½æ˜¯ç¬¬äºŒé‡è¦ï¼Œæ„Ÿå…´è¶£çš„å­¦ç”Ÿè‡ªå·±ä¼šå»æ·±æŒ–çš„ã€‚<br>å°±äº‹è®ºäº‹ã€‚ä»»æ°è€å¸ˆé‚£è¯¾çš„é¢†åŸŸé©±åŠ¨è®¾è®¡å’Œæ—¶åºæ•°æ®åº“ç­‰è¿˜æ˜¯éå¸¸å€¼å¾—ä¸€è¯»çš„ã€‚ä¹Ÿå¸Œæœ›ç‹ç£Šè€å¸ˆèƒ½ä¿æŒè¿™æ ·çš„æ•™å­¦é£æ ¼ï¼Œè®©å­¦ç”Ÿèƒ½å¤Ÿå­¦ä¹ å¾—æ›´è½»æ¾æœ‰æ•ˆã€‚","like_count":1},{"had_liked":false,"id":284454,"user_name":"Geek_fd8c4b","can_delete":false,"product_type":"c1","uid":1563494,"ip_address":"","ucode":"8C49058F81A5ED","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/3kRFh2oibA8ytkKAPpj7QCtYjQWU9nqaQyLV4mjZg7mJf9xzQjsuodlMIpFkusUUgmJthUj7hDaKicYicia2m8ibyyA/132","comment_is_top":false,"comment_ctime":1616252883,"is_pvip":false,"replies":[{"id":"105500","content":"å—¯ï¼Œè¿™é‡Œå¹¶ä¸æ˜¯è¯´ä¸€å®šè¦åº”ç”¨æ—¥å¿—ï¼Œç­‰å¾…å¤‡åº“æ—¥å¿—è½ç›˜çš„å¼€é”€åŒæ ·æ˜¯ä¸€è‡´æ€§çš„æˆæœ¬ã€‚","user_name":"ä½œè€…å›å¤","comment_id":284454,"uid":"1602401","ip_address":"","utype":1,"ctime":1620168809,"user_name_real":"ç‹ç£Š(Ivan)"}],"discussion_count":1,"race_medal":0,"score":"5911220179","product_id":100057401,"comment_content":"è€å¸ˆ ä½ å¥½ï¼Œæˆ‘è®°å¾—MySQLæ˜¯æ²¡æœ‰å…¨åŒæ­¥å¤åˆ¶ å§ï¼ŒMySQLçš„åŠåŒæ­¥å¤åˆ¶æœ€å¤šæ˜¯ä»åº“å°†æ¥å—åˆ°çš„binlogå†™å…¥relay log,å¹¶ä¸éœ€è¦ä»åº“åº”ç”¨å®Œæˆrelay logï¼Œä¸»åº“æ‰èƒ½æäº¤è¿™ä¸ªäº‹åŠ¡ï¼Œæ‰€ä»¥ä¸¥æ ¼æ„ä¹‰æ¥è®²ï¼ŒMySQL ä¸»åº“å’Œä»åº“å¾ˆéš¾åœ¨ä¸€ä¸ªæ—¶é—´ç‚¹è¾¾åˆ°å®Œå…¨çš„æ•°æ®ä¸€è‡´","like_count":1,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517352,"discussion_content":"å—¯ï¼Œè¿™é‡Œå¹¶ä¸æ˜¯è¯´ä¸€å®šè¦åº”ç”¨æ—¥å¿—ï¼Œç­‰å¾…å¤‡åº“æ—¥å¿—è½ç›˜çš„å¼€é”€åŒæ ·æ˜¯ä¸€è‡´æ€§çš„æˆæœ¬ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620168809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242943,"user_name":"çœŸåä¸å«é»„é‡‘","can_delete":false,"product_type":"c1","uid":1174066,"ip_address":"","ucode":"FB611FC98F5BA7","user_header":"https://static001.geekbang.org/account/avatar/00/11/ea/32/1fd102ec.jpg","comment_is_top":false,"comment_ctime":1597899156,"is_pvip":false,"replies":[{"id":"89611","content":"TiDBåŸºäºTSOä¹Ÿèƒ½åšåˆ°çº¿æ€§ä¸€è‡´æ€§ï¼Œä½†æ˜¯éš”ç¦»çº§åˆ«åªæ”¯æŒåˆ°SIï¼Œæ¯”Spannerçš„å¤–éƒ¨ä¸€è‡´æ€§è¿˜æ˜¯è¦ä½ä¸€äº›","user_name":"ä½œè€…å›å¤","comment_id":242943,"uid":"1602401","ip_address":"","utype":1,"ctime":1597975148,"user_name_real":"ç‹ç£Š(Ivan)"}],"discussion_count":2,"race_medal":0,"score":"5892866452","product_id":100057401,"comment_content":"è€å¸ˆè®²å¾—å¾ˆå¥½ï¼Œæ„Ÿè°¢åˆ†äº«ï¼<br>ä¸è¿‡è€å¸ˆè¯´åªæœ‰Spannerå®ç°äº†çœŸæ­£çš„å¼ºä¸€è‡´æ€§ï¼Œè€Œå‰ä¸€ç¯‡è®²åˆ°ä¸€è‡´æ€§å…¶å®åˆ†ä¸ºçŠ¶æ€ä¸€è‡´æ€§ä¸æ“ä½œä¸€è‡´æ€§ï¼Œæˆ‘å¾—ç†è§£æ˜¯çŠ¶æ€ä¸€è‡´æ€§æ˜¯å†…éƒ¨çš„ï¼Œè€Œæ“ä½œä¸€è‡´æ€§æ˜¯å¯¹clientçš„ï¼Œè€å¸ˆè¯´Spannerå®ç°çš„å¼ºä¸€è‡´æ€§ï¼Œæ˜¯æŒ‡æ“ä½œä¸€è‡´æ€§å§ï¼Ÿå› ä¸ºæ®æˆ‘äº†è§£Spannerä¹Ÿæ˜¯é‡‡ç”¨å¤§å¤šæ•°æˆåŠŸï¼Œæ¯”å¦‚2 of 3æˆåŠŸåå³è¿”å›å†™å…¥æˆåŠŸï¼Œé‚£ä¹ˆæœ‰ä¸€ä¸ªå‰¯æœ¬å…¶å®å¯èƒ½å¤„äºä¸åŒæ­¥çŠ¶æ€ï¼Œé‚£ä¹ˆSpannerå…¶å®æ˜¯ä¸æ»¡è¶³çŠ¶æ€å±‚é¢çš„å¼ºä¸€è‡´æ€§çš„ï¼Ÿ<br>ä¸è¿‡Spannerçš„æ¯æ¬¡è¯»å–ä¼šæ‹¿æœ€æ–°çš„æ•°æ®ï¼Œä¸”æœ‰True Timeä¿è¯æ•°æ®æ˜¯çº¿æ€§çš„ï¼Œæ‰€ä»¥è€å¸ˆæ‰€è¯´çš„Spanneråº”è¯¥æ˜¯æ»¡è¶³æ“ä½œçš„å¼ºä¸€è‡´æ€§æ˜¯å—ï¼Ÿ<br><br>å¯æ˜¯æ„Ÿè§‰TiDBä¹Ÿæ»¡è¶³äº†æ“ä½œçš„å¼ºä¸€è‡´æ€§ï¼Œæ˜¯å› ä¸ºæˆ‘å¯¹TiDBäº†è§£ä¸è¶³ï¼Œè¿˜æ˜¯æˆ‘ç†è§£é”™äº†Spannerçš„å¼ºä¸€è‡´æ€§å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504136,"discussion_content":"TiDBåŸºäºTSOä¹Ÿèƒ½åšåˆ°çº¿æ€§ä¸€è‡´æ€§ï¼Œä½†æ˜¯éš”ç¦»çº§åˆ«åªæ”¯æŒåˆ°SIï¼Œæ¯”Spannerçš„å¤–éƒ¨ä¸€è‡´æ€§è¿˜æ˜¯è¦ä½ä¸€äº›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597975148,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1729060,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/62/24/07e2507c.jpg","nickname":"æ‰˜å°¼æ–¯å¨ç‰¹","note":"","ucode":"98A1035527292E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563845,"discussion_content":"è¿™ç¯‡æ–‡ç« ç§°ä¹‹ä¸º external consistency https://static.googleusercontent.com/media/research.google.com/zh-CN//pubs/archive/45855.pdf","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650093494,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241756,"user_name":"å—å›½","can_delete":false,"product_type":"c1","uid":1897062,"ip_address":"","ucode":"0D8D3C5F4EB8AE","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f2/66/b16f9ca9.jpg","comment_is_top":false,"comment_ctime":1597412587,"is_pvip":false,"replies":[{"id":"89310","content":"ä½ å¥½ï¼Œä¼šè¯ä¸€ç§è‡´æ€§çš„ä¼šè¯å°±æ˜¯é€šå¸¸æ‰€æŒ‡çš„ç”¨æˆ·Sessionï¼Œå®ƒæ˜¯å¤šç§ä¸€è‡´æ€§æ¨¡å‹çš„ç»„åˆï¼Œå¯ä»¥å‚è€ƒè¯¾ç¨‹ä¸­Cosmos DBçš„å®˜æ–¹æ–‡æ¡£å­¦ä¹ ã€‚","user_name":"ä½œè€…å›å¤","comment_id":241756,"uid":"1602401","ip_address":"","utype":1,"ctime":1597562096,"user_name_real":"ç‹ç£Š(Ivan)"}],"discussion_count":1,"race_medal":0,"score":"5892379883","product_id":100057401,"comment_content":"è€å¸ˆï¼Œæƒ³é—®é—®ä¼šè¯ä¸€è‡´æ€§ä¸­ä¼šè¯æ€ä¹ˆç†è§£å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503834,"discussion_content":"ä½ å¥½ï¼Œä¼šè¯ä¸€ç§è‡´æ€§çš„ä¼šè¯å°±æ˜¯é€šå¸¸æ‰€æŒ‡çš„ç”¨æˆ·Sessionï¼Œå®ƒæ˜¯å¤šç§ä¸€è‡´æ€§æ¨¡å‹çš„ç»„åˆï¼Œå¯ä»¥å‚è€ƒè¯¾ç¨‹ä¸­Cosmos DBçš„å®˜æ–¹æ–‡æ¡£å­¦ä¹ ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597562096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360601,"user_name":"Geek_70d9b8","can_delete":false,"product_type":"c1","uid":1556428,"ip_address":"ä¸Šæµ·","ucode":"BEC3B03CE34ECB","user_header":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoldJpdUkfAhpW8zs1b2wUzkk6icosXNHyXpg7ZgsukLjiaQUSN59JnLjibZ5TeeJkfhtEvZgqJnkicYA/132","comment_is_top":false,"comment_ctime":1666683439,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1666683439","product_id":100057401,"comment_content":"Raft&#47;Paxos æ˜¯consensus, å…±è¯†ç®—æ³•ã€‚paxos æ˜¯ä¸€ç§å…±è¯†ç†è®ºï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯ä»–çš„åœºæ™¯ï¼Œä¸€è‡´æ€§æ˜¯ä»–çš„ç›®æ ‡ã€‚<br>ä¸€äº›å¸¸è§çš„è¯¯è§£ï¼šä½¿ç”¨äº† Raftæˆ–è€… paxos çš„ç³»ç»Ÿéƒ½æ˜¯çº¿æ€§ä¸€è‡´çš„ï¼ˆLinearizability å³å¼ºä¸€è‡´ï¼‰ï¼Œå…¶å®ä¸ç„¶ï¼Œå…±è¯†ç®—æ³•åªèƒ½æä¾›åŸºç¡€ï¼Œè¦å®ç°çº¿æ€§ä¸€è‡´è¿˜éœ€è¦åœ¨ç®—æ³•ä¹‹ä¸Šåšå‡ºæ›´å¤šçš„åŠªåŠ›ã€‚ ","like_count":0},{"had_liked":false,"id":343445,"user_name":"wangshanhe","can_delete":false,"product_type":"c1","uid":1204846,"ip_address":"","ucode":"1457998F100A89","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKmyjUJe2FxeyL5VMuJlpCFeJKy4SYpicbpCgyPSqbiafPlhibQT2fLWJzqV1ANSDiaSMDVTJVGyAnIow/132","comment_is_top":false,"comment_ctime":1650856080,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1650856080","product_id":100057401,"comment_content":"MySQL é™¤äº†å…¨åŒæ­¥å¤åˆ¶ï¼Œè¿˜æœ‰åˆ«çš„å¤åˆ¶æ–¹å¼å—<br>","like_count":0},{"had_liked":false,"id":336218,"user_name":"piboye","can_delete":false,"product_type":"c1","uid":1066752,"ip_address":"","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1646013137,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1646013137","product_id":100057401,"comment_content":"ä¹‹å‰è®¨è®ºå¤åˆ¶çš„ä¸€è‡´æ€§éƒ½æ˜¯å•ä¸ªå¯¹è±¡ï¼Œåˆ°å‰ç¼€ä¸€è‡´æ€§çš„æ—¶å€™åˆæ˜¯ä¸¤ä¸ªä¸åŒçš„è¯„è®ºï¼Œè¿™ä¸ªæ—¶å€™æ˜¯æŠŠè¯„è®ºåˆ—è¡¨å½“æˆä¸€ä¸ªæŠ½è±¡çš„å¯¹è±¡å§ï¼Œæˆ–è€…æŠŠæ•´ä¸ªè¯„è®ºç³»ç»Ÿå½“æˆä¸ªå•å¯¹è±¡æ¥çœ‹è¦å®ç°ååºå§ï¼Ÿæ‰€ä»¥è®²ä¸€è‡´æ€§çš„æ—¶å€™ä¹Ÿè¦åŒºåˆ†æ•°æ®çš„ç²’åº¦æ˜¯å§ï¼Ÿ æ¯”å¦‚æœ‰äº›å°±è¯´æ˜¯åªæ”¯æŒå•è®°å½•çš„ï¼Œæœ‰äº›è¯´æ˜¯å•åˆ†ç‰‡çš„ï¼Œnewsqlä¸€èˆ¬è¯´çš„æ˜¯æ•´ä¸ªåº“å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":336216,"user_name":"piboye","can_delete":false,"product_type":"c1","uid":1066752,"ip_address":"","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1646012818,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1646012818","product_id":100057401,"comment_content":"åŸºäºæ—¶é—´æ’åºçš„çº¿æ€§ä¸€è‡´æ€§ï¼Œæ˜¯å› ä¸ºæ•°æ®æœ‰åˆ†ç‰‡çš„åŸå› ï¼Ÿè‹¥æœæ•°æ®æ²¡æœ‰åˆ†ç‰‡ï¼Œåƒetcdé‚£ç§å°±ä¸éœ€è¦å†æŒ‰æ—¶é—´æ’åºå»å®ç°çº¿æ€§ä¸€è‡´æ€§äº†ï¼Œå› ä¸ºæœ‰ä¸ªå•ä¸€çš„masterï¼Ÿ","like_count":0},{"had_liked":false,"id":324225,"user_name":"å–è—¥éƒ","can_delete":false,"product_type":"c1","uid":1231829,"ip_address":"","ucode":"0539EF1D335918","user_header":"https://static001.geekbang.org/account/avatar/00/12/cb/d5/fab32cf7.jpg","comment_is_top":false,"comment_ctime":1638344078,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638344078","product_id":100057401,"comment_content":"CAPç ”ç©¶çš„æ˜¯ä¸€ä¸ªæ“ä½œå¯¹åˆ†å¸ƒå¼ç³»ç»Ÿå¤šåˆ†å‰¯æœ¬çš„å½±å“ã€‚<br>ACIDç ”ç©¶çš„æ˜¯å¤šä¸ªæ“ä½œå¯¹æŸæ¡ï¼ˆäº›ï¼‰æ•°æ®çš„å½±å“ï¼Œæ—¢ç„¶æœ‰ä¸ªå¤šä¸ªæ“ä½œå°±éœ€è¦éš”ç¦»æ€§æ¥ä¿è¯å¹¶è¡Œæ—¶å€™ï¼Œæ“ä½œä¹‹é—´æ˜¯å¦ä¼šç›¸äº’å½±å“ã€‚","like_count":0},{"had_liked":false,"id":322496,"user_name":"å°æè®²æºç ","can_delete":false,"product_type":"c1","uid":1107484,"ip_address":"","ucode":"2573037D7C82C8","user_header":"https://static001.geekbang.org/account/avatar/00/10/e6/1c/9d3744ee.jpg","comment_is_top":false,"comment_ctime":1637421408,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1637421408","product_id":100057401,"comment_content":"æ•°æ®ä¸€è‡´æ€§åŒ…å«ç€çŠ¶æ€ä¸€è‡´æ€§å’Œæ“ä½œä¸€è‡´æ€§ï¼ŒPaxosæ˜¯ä¿è¯æ“ä½œä¸€è‡´æ€§ï¼Œè€Œå¯¹äºçŠ¶æ€è§†è§’æ¥è¯´Paxosæ˜¯æœ€ç»ˆä¸€è‡´æ€§çš„ï¼Œä¹Ÿå°±æ˜¯å¼±ä¸€è‡´æ€§ã€‚å…¶å®æ¢ä¸€ä¸ªè§’åº¦è®²ï¼Œå¦‚æœæ˜¯å¼ºä¸€è‡´æ€§ï¼Œä¹Ÿå°±ä¸éœ€è¦æœ‰æ“ä½œè§†è§’è¿™ä¸ªæ¦‚å¿µäº†ï¼Œä½†æ˜¯å¼ºä¸€è‡´æ€§çš„ç¼ºé™·å¯¼è‡´å¿…é¡»æœ‰ä¸ªå¯ä»¥æ›¿ä»£å®ƒçš„äº§ç‰©ï¼Œæ‰€ä»¥æ‰ä¼šå‡ºç°Paxosã€Raftç®—æ³•ã€‚","like_count":0},{"had_liked":false,"id":319832,"user_name":"Helios","can_delete":false,"product_type":"c1","uid":1380758,"ip_address":"","ucode":"BE6B98EE8F0D09","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJrOl63enWXCRxN0SoucliclBme0qrRb19ATrWIOIvibKIz8UAuVgicBMibIVUznerHnjotI4dm6ibODA/132","comment_is_top":false,"comment_ctime":1635955700,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635955700","product_id":100057401,"comment_content":"è¯·æ•™è€å¸ˆï¼Œå‰ç¼€ä¸€è‡´æ€§ä¸­æ˜¾ç¤ºæ·»åŠ å› æœå…³ç³»æ—¶ä»€ä¹ˆæ„æ€ï¼Œæ€ä¹ˆæ·»åŠ ï¼Œæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿä¸ºä»€ä¹ˆä¸èƒ½æ™®ä¸–åˆ°çº¿æ€§ä¸€è‡´æ€§å‘¢","like_count":0},{"had_liked":false,"id":319827,"user_name":"Helios","can_delete":false,"product_type":"c1","uid":1380758,"ip_address":"","ucode":"BE6B98EE8F0D09","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJrOl63enWXCRxN0SoucliclBme0qrRb19ATrWIOIvibKIz8UAuVgicBMibIVUznerHnjotI4dm6ibODA/132","comment_is_top":false,"comment_ctime":1635955396,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635955396","product_id":100057401,"comment_content":"å‰ç¼€ä¸€è‡´æ€§å’Œçº¿æ€§ä¸€è‡´æ€§æ„Ÿè§‰å‰è½¦ä¸å¤§å‘¢","like_count":0},{"had_liked":false,"id":291152,"user_name":"Jackson","can_delete":false,"product_type":"c1","uid":1061404,"ip_address":"","ucode":"FD22D39510CF8C","user_header":"https://static001.geekbang.org/account/avatar/00/10/32/1c/3e3cdad2.jpg","comment_is_top":false,"comment_ctime":1620054031,"is_pvip":false,"replies":[{"id":"105491","content":"æœ‰å…³ä½†æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Ÿå¯èƒ½è§ä»è§æ™ºå§ã€‚å®ç°RPOä¸ºé›¶ï¼ŒMySQL&#47;Oracleéƒ½æ˜¯ä»å‰¯æœ¬ä¸€è‡´æ€§çš„å…¥æ‰‹ï¼Œåˆ†å¸ƒå¼ä¹Ÿä¸€æ ·ã€‚æˆ–è€…è¯´ï¼Œæˆ‘ä»¬æ— æ³•è„±ç¦»ä¸€è‡´æ€§è°ˆRPOï¼Œè¿™æ ·ç®—ä¸ç®—ç›´æ¥å‘¢ï¼Ÿä¾›å‚è€ƒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹ç£Š(Ivan)","uid":"1602401","ctime":1620135294,"ip_address":"","comment_id":291152,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1620054031","product_id":100057401,"comment_content":"è®²mysqlå¤åˆ¶éƒ¨åˆ†æœ‰å¤±æ°´å‡†äº†ï¼Œé¦–å…ˆmysqlæ— è®ºå®˜æ–¹è¿˜æ˜¯ç¤¾åŒºï¼Œåº”è¯¥æ²¡æœ‰å…¨åŒæ­¥çš„è¯´æ³•ã€‚è€Œä¸”æŒ‰æ–‡ä¸­æè¿°ï¼Œæ¯”è¾ƒå®¹æ˜“è¯¯å¯¼äººï¼Œbinlogè¿‡å»åªèƒ½ä¿è¯rpo=0ï¼Œå’Œä¸€è‡´æ€§ï¼Œæ— è®ºçŠ¶æ€è¿˜æ˜¯è¡Œä¸ºè§†è§’ï¼Œæœ‰å…³ä½†æ²¡æœ‰ç›´æ¥å…³ç³»","like_count":0,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519388,"discussion_content":"æœ‰å…³ä½†æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Ÿå¯èƒ½è§ä»è§æ™ºå§ã€‚å®ç°RPOä¸ºé›¶ï¼ŒMySQL/Oracleéƒ½æ˜¯ä»å‰¯æœ¬ä¸€è‡´æ€§çš„å…¥æ‰‹ï¼Œåˆ†å¸ƒå¼ä¹Ÿä¸€æ ·ã€‚æˆ–è€…è¯´ï¼Œæˆ‘ä»¬æ— æ³•è„±ç¦»ä¸€è‡´æ€§è°ˆRPOï¼Œè¿™æ ·ç®—ä¸ç®—ç›´æ¥å‘¢ï¼Ÿä¾›å‚è€ƒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620135294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1061404,"avatar":"https://static001.geekbang.org/account/avatar/00/10/32/1c/3e3cdad2.jpg","nickname":"Jackson","note":"","ucode":"FD22D39510CF8C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":575271,"discussion_content":"å¤šå‰¯æœ¬ï¼Œä¸ªäººç†è§£æ˜¯è§£å†³ log/data æŒä¹…æ€§çš„é—®é¢˜ï¼Œä¸€è‡´æ€§æ˜¯ä»ç”¨æˆ·æ¶ˆè´¹æ•°æ®çš„è§’åº¦çœ‹çš„ï¼ŒåŒæ„æŒä¹…æ€§æ˜¯ä¸€è‡´æ€§çš„åŸºç¡€ä¹‹ä¸€ï¼Œæœ‰äº†æŒä¹…æ€§ï¼Œä¸åŒä¸€è‡´æ€§æ›´å¤šæ˜¯åœ¨ ordering å’Œ data freshness ä¹‹é—´å–èˆã€‚ä¾›äº¤æµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654696079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":519388,"ip_address":""},"score":575271,"extra":""}]}]},{"had_liked":false,"id":290914,"user_name":"å†¯ç£Š","can_delete":false,"product_type":"c1","uid":1855112,"ip_address":"","ucode":"4FFB8B984269FB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIYj6Zv3ibicLebxo7lsPMEwpBynHkYp8pLc3FcltUfmOBSRxpmicEwIAgP9OvSKnGGdaxwsZ7yiciaSsQ/132","comment_is_top":false,"comment_ctime":1619857292,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619857292","product_id":100057401,"comment_content":"ååˆ†å¸Œæœ›å¯ä»¥æœ‰æœºä¼šè¿›è¡Œæ›´å¹¿æ³›çš„è®¨è®ºï¼Œæ•°æ®åº“çš„å½¢æ€å¤šæ ·ï¼Œä»…ä»…NoSQLå°±å¯ä»¥åˆ†å‡ºDocumentã€KVã€å›¾ã€æ—¶åºã€å¯¹è±¡ç­‰ä¸€ä¼—åºåˆ—ï¼Œæœªæ¥æ•°æ®åº“ç”Ÿæ€çš„å‘å±•ä¼šååˆ†ä¸°å¯Œã€‚VXï¼šaacc66886521","like_count":0},{"had_liked":false,"id":289433,"user_name":"åŸ","can_delete":false,"product_type":"c1","uid":1035315,"ip_address":"","ucode":"32C4FCE1944000","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cc/33/19f150d9.jpg","comment_is_top":false,"comment_ctime":1619009712,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619009712","product_id":100057401,"comment_content":"å¯¹å†™åè¯»ä¸€è‡´æ€§ä¸æ˜¯å¾ˆæ˜ç™½ï¼Œ<br>å³Aå†™ä¹‹åã€‚åªéœ€è¦ä¿è¯Aè¯»åˆ°çš„æ˜¯å¯¹çš„å°±è¡Œå—ï¼Ÿ<br>ä¸çŸ¥é“è¿™é‡Œçš„Aï¼Œæ˜¯æŒ‡å½“æ—¶å†™å…¥çš„ç¨‹åºå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":287753,"user_name":"fomy","can_delete":false,"product_type":"c1","uid":1125834,"ip_address":"","ucode":"CD87EA03B1F327","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/ca/02b0e397.jpg","comment_is_top":false,"comment_ctime":1618133785,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618133785","product_id":100057401,"comment_content":"åˆ†å¸ƒå¼æ•°æ®åº“çš„ä¸€è‡´æ€§å’Œå•ç‚¹æ•°æ®ä¸€è‡´æ€§è¿˜æ˜¯ä¸åŒçš„å–”ã€‚<br><br>å•ç‚¹æ•°æ®ä¸€è‡´æ€§å¼ºè°ƒæ•°æ®çš„å¼ºä¸€è‡´æ€§å’Œæœ€ç»ˆä¸€è‡´æ€§ã€‚<br><br>åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§åˆ†çŠ¶æ€ä¸€è‡´æ€§å’Œæ“ä½œä¸€è‡´æ€§ã€‚<br>çŠ¶æ€ä¸€è‡´æ€§ç±»ä¼¼å•ç‚¹çš„ä¸€è‡´æ€§ã€‚<br>æ“ä½œä¸€è‡´æ€§åˆ™åŒ…æ‹¬å†™åè¯»ä¸€è‡´æ€§ï¼Œå•è°ƒä¸€è‡´æ€§ï¼Œå‰ç¼€ä¸€è‡´æ€§ï¼Œå› æœä¸€è‡´æ€§ï¼Œçº¿æ€§ä¸€è‡´æ€§ï¼Œé¡ºåºä¸€è‡´æ€§ç­‰ã€‚","like_count":0},{"had_liked":false,"id":281576,"user_name":"daka","can_delete":false,"product_type":"c1","uid":1307998,"ip_address":"","ucode":"A23D82FF956793","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ8ibLXicovSNwEJhP4BOIPxEMle1ZUq1He58xztgBXTQFicdp5m5ibRHwUSoUVk5xQMWFwFXhp56ibm1Q/132","comment_is_top":false,"comment_ctime":1614816935,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614816935","product_id":100057401,"comment_content":"è€å¸ˆè®²çš„å¾ˆå¥½","like_count":0},{"had_liked":false,"id":276663,"user_name":"amixyue","can_delete":false,"product_type":"c1","uid":1055034,"ip_address":"","ucode":"97822C9E1F6A72","user_header":"https://static001.geekbang.org/account/avatar/00/10/19/3a/c1dbffb7.jpg","comment_is_top":false,"comment_ctime":1612070814,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612070814","product_id":100057401,"comment_content":"æ•°æ®åº“çš„ACIDï¼ŒCè¾ƒAIDä¸æ•°æ®åº“å…³ç³»ä¸å¤§ï¼Œæ˜¯åº”ç”¨ç»“åˆä¸šåŠ¡ç†è§£ä½¿ç”¨æ•°æ®åº“èƒ½åŠ›è¾¾æˆã€‚åˆ†å¸ƒå¼çš„CAPæ˜¯å…±è¯†&#47;å¯ç”¨&#47;ç½‘ç»œåˆ†åŒºï¼ˆnetsplitï¼‰ï¼Œè¿™æ—¶è¦ä¹ˆå®Œå…¨ä¸¢æ‰åˆ†åŒºè¾¾åˆ°CAï¼Œè¦ä¹ˆå–å…¶ä¸€ã€‚Paxos&#47;raft&#47;ç­‰æ˜¯å…±è¯†åè®®åŠå®ç°","like_count":0},{"had_liked":false,"id":261486,"user_name":"hal","can_delete":false,"product_type":"c1","uid":1359844,"ip_address":"","ucode":"98E625F7327FD9","user_header":"https://static001.geekbang.org/account/avatar/00/14/bf/e4/45758517.jpg","comment_is_top":false,"comment_ctime":1605356683,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605356683","product_id":100057401,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œæƒ³è¯·é—®ä¸‹å½“å‰æœ‰å¯¹è¿™äº›ä¸€è‡´æ€§æ¨¡å‹è¿›è¡Œæ¯”è¾ƒä¸¥è°¨å®šä¹‰çš„è®ºæ–‡æˆ–æ–‡ç« å˜›ï¼Ÿ","like_count":0},{"had_liked":false,"id":259184,"user_name":"å’±æ˜¯å“å¤§çš„","can_delete":false,"product_type":"c1","uid":1292324,"ip_address":"","ucode":"A47C6DA5C00C6F","user_header":"https://static001.geekbang.org/account/avatar/00/13/b8/24/039f84a2.jpg","comment_is_top":false,"comment_ctime":1604647407,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1604647407","product_id":100057401,"comment_content":"çº¿æ€§ä¸€è‡´æ€§æ˜¯å®šä¸€ä¸ªå…¨é›†çš„æ ‡å‡†ï¼Œå› æœä¸€è‡´æ€§æ˜¯å®šä¸€ä¸ªåœºæ™¯çš„æ ‡å‡†","like_count":0},{"had_liked":false,"id":255230,"user_name":"test","can_delete":false,"product_type":"c1","uid":1129610,"ip_address":"","ucode":"C57A175CBC6547","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","comment_is_top":false,"comment_ctime":1603286867,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603286867","product_id":100057401,"comment_content":"å…±è¯†æ˜¯ä¸æ˜¯æ„å‘³ç€ä¸¢æ•°æ®å‘¢ï¼Œå°±æ˜¯å¤§å®¶äº’ç›¸å¦¥åä¸‹ï¼Œå› ä¸ºçœ‹åˆ°åŒºå—é“¾é‡Œçš„å…±è¯†æ˜¯è¿™ä¸ªæ„æ€çš„ã€‚","like_count":0},{"had_liked":false,"id":255214,"user_name":"test","can_delete":false,"product_type":"c1","uid":1129610,"ip_address":"","ucode":"C57A175CBC6547","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","comment_is_top":false,"comment_ctime":1603283662,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603283662","product_id":100057401,"comment_content":"æœ‰ä»£ç æ¼”ç¤ºå°±å®¹æ˜“ç†è§£ï¼Œæœ‰äº›æ™•äº†","like_count":0},{"had_liked":false,"id":255031,"user_name":"test","can_delete":false,"product_type":"c1","uid":1129610,"ip_address":"","ucode":"C57A175CBC6547","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","comment_is_top":false,"comment_ctime":1603254341,"is_pvip":false,"replies":[{"id":"93677","content":"é‡å­çº ç¼ è¿˜è¿œæ²¡åˆ°æŠ€æœ¯åº”ç”¨é˜¶æ®µï¼Œæˆ‘ä»¬ä¸€èµ·ç­‰å¾…ç†è®ºç ”ç©¶æˆæœå§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹ç£Š(Ivan)","uid":"1602401","ctime":1603949313,"ip_address":"","comment_id":255031,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1603254341","product_id":100057401,"comment_content":"ä¸»è¦é—®é¢˜å°±æ˜¯åŒæ­¥æ—¶å·®ï¼Œé‡å­çº ç¼ ä¼šå¼•å…¥åˆ°æ•°æ®åº“å—ï¼Ÿè¿™æ ·å°±å¯ä»¥ç‰©ç†åŒæ­¥äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507591,"discussion_content":"é‡å­çº ç¼ è¿˜è¿œæ²¡åˆ°æŠ€æœ¯åº”ç”¨é˜¶æ®µï¼Œæˆ‘ä»¬ä¸€èµ·ç­‰å¾…ç†è®ºç ”ç©¶æˆæœå§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603949313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252975,"user_name":"HackMSF","can_delete":false,"product_type":"c1","uid":1697626,"ip_address":"","ucode":"BA021D3CDBCBF8","user_header":"https://static001.geekbang.org/account/avatar/00/19/e7/5a/0010f3f7.jpg","comment_is_top":false,"comment_ctime":1602552025,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1602552025","product_id":100057401,"comment_content":"çœ‹äº†å¥½å‡ ç¯‡å…³äºâ€œä¸€è‡´æ€§æ¦‚å¿µâ€æè¿°çš„æ–‡ç« ï¼Œæ€»ç®—å‘ç°ä¸€ç¯‡â€œç†è§£æ€§â€å¼ºçš„æ–‡ç« ã€‚","like_count":0},{"had_liked":false,"id":249973,"user_name":"wy","can_delete":false,"product_type":"c1","uid":1064681,"ip_address":"","ucode":"41C1B304E7F032","user_header":"https://static001.geekbang.org/account/avatar/00/10/3e/e9/116f1dee.jpg","comment_is_top":false,"comment_ctime":1600871772,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600871772","product_id":100057401,"comment_content":"Paxos è¿™ç±»å…±è¯†ç®—æ³•åªä¿è¯å‰¯æœ¬ä¹‹é—´æ•°æ®æœ€ç»ˆè¾¾åˆ°ä¸€è‡´ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä¿è¯äº‹åŠ¡æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨å¤åˆ¶è¿‡ç¨‹ä¸­ä¼šå‡ºç°ä¸­é—´çŠ¶æ€ï¼Œç”¨æˆ·è§’åº¦æ¥çœ‹å°±ä¼šçœ‹åˆ°æ•°æ®ä¸ä¸€è‡´äº†ã€‚æ‰€ä»¥éœ€è¦æ“ä½œå±‚é¢æ¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚","like_count":0},{"had_liked":false,"id":246224,"user_name":"è·¯äºº","can_delete":false,"product_type":"c1","uid":1084291,"ip_address":"","ucode":"55FF703DE772D7","user_header":"https://static001.geekbang.org/account/avatar/00/10/8b/83/d2afc837.jpg","comment_is_top":false,"comment_ctime":1599213104,"is_pvip":false,"replies":[{"id":"90504","content":"è¿™æ—¶å€™ä¸»èŠ‚ç‚¹ä¹Ÿæ²¡æœ‰æäº¤æˆåŠŸï¼Œè€Œä¸”åªæ˜¯å¤åˆ¶äº†æ—¥å¿—ï¼Œè¿˜æ²¡æœ‰applyåˆ°å¤‡èŠ‚ç‚¹ä¸Šã€‚æœ€é‡è¦çš„æ˜¯è¿™ä¸ªå¤åˆ¶æœºåˆ¶åªæ‰¿è¯ºäº†ä¸»èŠ‚ç‚¹å¯¹å¤–æä¾›æœåŠ¡ï¼ŒRPOä¸º0ï¼Œæ²¡æœ‰æ‰¿è¯ºå¤‡èŠ‚ç‚¹çš„ä¸€è‡´æ€§è¯»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹ç£Š(Ivan)","uid":"1602401","ctime":1599227675,"ip_address":"","comment_id":246224,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1599213104","product_id":100057401,"comment_content":"æ–‡ä¸­æœ‰ä¸‹é¢è¿™æ®µè¯ï¼š<br>å¼ºä¸€è‡´æ€§ï¼šMySQL å…¨åŒæ­¥å¤åˆ¶ç°åœ¨æœ‰ä¸€ä¸ª MySQL é›†ç¾¤ï¼Œç”±ä¸€ä¸»ä¸¤å¤‡ä¸‰ä¸ªèŠ‚ç‚¹æ„æˆï¼Œé‚£ä¹ˆåœ¨å…¨åŒæ­¥å¤åˆ¶ï¼ˆFully Synchronous Replicationï¼‰æ¨¡å¼ä¸‹ï¼Œç”¨æˆ·ä¸ MySQL äº¤äº’çš„è¿‡ç¨‹æ˜¯è¿™æ ·çš„ã€‚<br>æœ‰ä¸ªé—®é¢˜ï¼š<br>å¦‚æœåŒæ­¥å¤åˆ¶çš„è¿‡ç¨‹è¿‡ç¨‹ä¸­ï¼Œæ¯”å¦‚Aæ˜¯ä¸»èŠ‚ç‚¹ï¼Œæœ‰2ä¸ªå¤‡èŠ‚ç‚¹BCï¼Œå¯¹Aæ‰§è¡Œæ“ä½œçš„æ—¶å€™ï¼ŒAå…ˆå°†binlogå¤åˆ¶ç»™Bï¼Œç„¶åå†å¤åˆ¶ç»™Cï¼Œå‡å¦‚å¤åˆ¶ç»™BæˆåŠŸäº†ï¼Œæ­¤æ—¶å¤åˆ¶ç»™Cå¤±è´¥äº†ï¼Œé‚£ä¹ˆåˆšå¥½æ­¤æ—¶å¦‚æœæœ‰ç”¨æˆ·åˆ†åˆ«å»Bã€Cä¸­æŸ¥è¯¢ï¼Œæ­¤æ—¶çœ‹åˆ°çš„æ•°æ®æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ­¤æ—¶å°±ä¸æ»¡è¶³å¼ºä¸€è‡´ï¼Œè¿™ç§æƒ…å†µæ˜¯æ€ä¹ˆè§£å†³çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505092,"discussion_content":"è¿™æ—¶å€™ä¸»èŠ‚ç‚¹ä¹Ÿæ²¡æœ‰æäº¤æˆåŠŸï¼Œè€Œä¸”åªæ˜¯å¤åˆ¶äº†æ—¥å¿—ï¼Œè¿˜æ²¡æœ‰applyåˆ°å¤‡èŠ‚ç‚¹ä¸Šã€‚æœ€é‡è¦çš„æ˜¯è¿™ä¸ªå¤åˆ¶æœºåˆ¶åªæ‰¿è¯ºäº†ä¸»èŠ‚ç‚¹å¯¹å¤–æä¾›æœåŠ¡ï¼ŒRPOä¸º0ï¼Œæ²¡æœ‰æ‰¿è¯ºå¤‡èŠ‚ç‚¹çš„ä¸€è‡´æ€§è¯»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599227675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":244517,"user_name":"piboye","can_delete":false,"product_type":"c1","uid":1066752,"ip_address":"","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1598545967,"is_pvip":true,"replies":[{"id":"90007","content":"å…¶å®æ˜¯å¾ˆç®€å•çš„åŸå› ï¼Œå°±æ˜¯è¦ä¿è¯å†™å…¥çš„æ•°æ®åœ¨ä¸‹ä¸€åˆ»ä¸€å®šèƒ½è¢«è¯»å–åˆ°ã€‚åœ¨ç¬¬13è®²æœ‰æ›´å…·ä½“çš„ä»‹ç»","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹ç£Š(Ivan)","uid":"1602401","ctime":1598583747,"ip_address":"","comment_id":244517,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1598545967","product_id":100057401,"comment_content":"çº¿æ€§ä¸€è‡´æ€§å’Œå› æœä¸€è‡´æ€§å°±æ˜¯æ—¶é’Ÿä¸Šå·®åˆ«ï¼Œä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåŒºåˆ«ï¼Œæ˜¯å› ä¸ºå¯¹ç”¨æˆ·æœ‰ä»€ä¹ˆç‰¹åˆ«çš„å½±å“å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504614,"discussion_content":"å…¶å®æ˜¯å¾ˆç®€å•çš„åŸå› ï¼Œå°±æ˜¯è¦ä¿è¯å†™å…¥çš„æ•°æ®åœ¨ä¸‹ä¸€åˆ»ä¸€å®šèƒ½è¢«è¯»å–åˆ°ã€‚åœ¨ç¬¬13è®²æœ‰æ›´å…·ä½“çš„ä»‹ç»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598583747,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1066752,"avatar":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","nickname":"piboye","note":"","ucode":"7CFD8712857A85","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301635,"discussion_content":"å°±æ˜¯æˆ‘å†™å…¥ï¼Œä»–äººå¯èƒ½æ˜¯é€šè¿‡æ¶ˆæ¯é€šçŸ¥åå»è¯»èƒ½ç«‹åˆ»è¯»åˆ°æ˜¯å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598594163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":242991,"user_name":"Tim Zhang","can_delete":false,"product_type":"c1","uid":1214499,"ip_address":"","ucode":"4956AC5FE45EE1","user_header":"https://static001.geekbang.org/account/avatar/00/12/88/23/a0966b4d.jpg","comment_is_top":false,"comment_ctime":1597912844,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597912844","product_id":100057401,"comment_content":"zkå¬è¯´åˆæ˜¯é¡ºåºä¸€è‡´æ€§å’Œä»€ä¹ˆå› æœä¸€è‡´æ€§ï¼Œè€å¸ˆèƒ½è®²è®²ä¹ˆ","like_count":0},{"had_liked":false,"id":241713,"user_name":"å—å›½","can_delete":false,"product_type":"c1","uid":1897062,"ip_address":"","ucode":"0D8D3C5F4EB8AE","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f2/66/b16f9ca9.jpg","comment_is_top":false,"comment_ctime":1597398426,"is_pvip":false,"replies":[{"id":"89220","content":"ä½ å¥½ï¼Œè¦å®ç°å‰ç¼€ä¸€è‡´æ€§ï¼Œåªè¦æ˜¾ç¤ºå£°æ˜ä¾èµ–å…³ç³»å°±å¯ä»¥ï¼Œè¿™ä¸ªæœ‰å¾ˆå¤šçµæ´»çš„åšæ³•ã€‚è€Œå› æœä¸€è‡´æ€§ï¼Œå»ºç«‹åœ¨ååºå…³ç³»çš„åŸºç¡€ä¸Šï¼Œå¾ˆéš¾åœ¨åº”ç”¨å±‚é¢å®ç°ï¼Œè¦æœ‰åº•å±‚çš„æ”¯æŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹ç£Š(Ivan)","uid":"1602401","ctime":1597411058,"ip_address":"","comment_id":241713,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597398426","product_id":100057401,"comment_content":"å‰ç¼€ä¸€è‡´æ€§å’Œå› æœä¸€è‡´æ€§æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿçœ‹èµ·æ¥éƒ½æ˜¯åœ¨æè¿°ä¸€ä¸ªå› æœçš„å…³ç³»å•Š","like_count":0,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503823,"discussion_content":"ä½ å¥½ï¼Œè¦å®ç°å‰ç¼€ä¸€è‡´æ€§ï¼Œåªè¦æ˜¾ç¤ºå£°æ˜ä¾èµ–å…³ç³»å°±å¯ä»¥ï¼Œè¿™ä¸ªæœ‰å¾ˆå¤šçµæ´»çš„åšæ³•ã€‚è€Œå› æœä¸€è‡´æ€§ï¼Œå»ºç«‹åœ¨ååºå…³ç³»çš„åŸºç¡€ä¸Šï¼Œå¾ˆéš¾åœ¨åº”ç”¨å±‚é¢å®ç°ï¼Œè¦æœ‰åº•å±‚çš„æ”¯æŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597411058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":241300,"user_name":"hql","can_delete":false,"product_type":"c1","uid":1041109,"ip_address":"","ucode":"25DA4ABE876406","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e2/d5/a0fe91ef.jpg","comment_is_top":false,"comment_ctime":1597241434,"is_pvip":false,"replies":[{"id":"89187","content":"æ˜¯çš„ï¼Œä¸€è‡´æ€§æ¨¡å‹é‡Œæœ‰ä¸¤ä¸ªè¦ç‚¹ï¼Œè¯»å†™ç­–ç•¥å’Œå¤šå‰¯æœ¬çŠ¶æ€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹ç£Š(Ivan)","uid":"1602401","ctime":1597329597,"ip_address":"","comment_id":241300,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597241434","product_id":100057401,"comment_content":"paxosåè®®å®šä¹‰çš„æ˜¯ä¸€ç§å†³ç­–è¿‡ç¨‹ã€‚è¯¾ç¨‹é‡Œçš„ä¸€è‡´æ€§æ˜¯å®¢è§‚å®šä¹‰ã€‚","like_count":0,"discussions":[{"author":{"id":1602401,"avatar":"https://static001.geekbang.org/account/avatar/00/18/73/61/3059679f.jpg","nickname":"ç‹ç£Š(Ivan)","note":"","ucode":"CF0B955A06FE2A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503706,"discussion_content":"æ˜¯çš„ï¼Œä¸€è‡´æ€§æ¨¡å‹é‡Œæœ‰ä¸¤ä¸ªè¦ç‚¹ï¼Œè¯»å†™ç­–ç•¥å’Œå¤šå‰¯æœ¬çŠ¶æ€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597329597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
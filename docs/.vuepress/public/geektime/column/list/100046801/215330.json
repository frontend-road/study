{"id":215330,"title":"12 | MySQLå¦‚ä½•åº”å¯¹é«˜å¹¶å‘ï¼ˆäºŒï¼‰ï¼šè¯»å†™åˆ†ç¦»","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æç¥ã€‚</p><p>ä¸ŠèŠ‚è¯¾æˆ‘å’Œä½ è®²äº†ï¼Œä½¿ç”¨Redisä½œä¸ºMySQLçš„å‰ç½®ç¼“å­˜ï¼Œå¯ä»¥å¸®åŠ©MySQLæŒ¡ä½ç»å¤§éƒ¨åˆ†çš„æŸ¥è¯¢è¯·æ±‚ã€‚è¿™ç§æ–¹æ³•å¯¹äºåƒç”µå•†ä¸­çš„å•†å“ç³»ç»Ÿã€æœç´¢ç³»ç»Ÿè¿™ç±»ä¸ç”¨æˆ·å…³è”ä¸å¤§çš„ç³»ç»Ÿï¼Œæ•ˆæœç‰¹åˆ«çš„å¥½ã€‚å› ä¸ºåœ¨è¿™äº›ç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªäººçœ‹åˆ°çš„å†…å®¹éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹åç«¯æœåŠ¡æ¥è¯´ï¼Œæ¯ä¸ªäººçš„æŸ¥è¯¢è¯·æ±‚å’Œè¿”å›çš„æ•°æ®éƒ½æ˜¯ä¸€æ ·çš„ã€‚è¿™ç§æƒ…å†µä¸‹ï¼ŒRedisç¼“å­˜çš„å‘½ä¸­ç‡éå¸¸é«˜ï¼Œè¿‘ä¹äºå…¨éƒ¨çš„è¯·æ±‚éƒ½å¯ä»¥å‘½ä¸­ç¼“å­˜ï¼Œç›¸å¯¹çš„ï¼Œå‡ ä¹æ²¡æœ‰å¤šå°‘è¯·æ±‚èƒ½ç©¿é€åˆ°MySQLã€‚</p><p>ä½†æ˜¯ï¼Œå’Œç”¨æˆ·ç›¸å…³çš„ç³»ç»Ÿï¼Œä½¿ç”¨ç¼“å­˜çš„æ•ˆæœå°±æ²¡é‚£ä¹ˆå¥½äº†ï¼Œæ¯”å¦‚è¯´ï¼Œè®¢å•ç³»ç»Ÿã€è´¦æˆ·ç³»ç»Ÿã€è´­ç‰©è½¦ç³»ç»Ÿç­‰ç­‰ã€‚åœ¨è¿™äº›ç³»ç»Ÿé‡Œé¢ï¼Œæ¯ä¸ªç”¨æˆ·éœ€è¦æŸ¥è¯¢çš„ä¿¡æ¯éƒ½æ˜¯å’Œç”¨æˆ·ç›¸å…³çš„ï¼Œå³ä½¿æ˜¯åŒä¸€ä¸ªåŠŸèƒ½ç•Œé¢ï¼Œé‚£æ¯ä¸ªäººçœ‹åˆ°çš„æ•°æ®éƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚</p><p>æ¯”å¦‚è¯´ï¼Œâ€œæˆ‘çš„è®¢å•â€è¿™ä¸ªåŠŸèƒ½ï¼Œç”¨æˆ·åœ¨è¿™é‡Œçœ‹åˆ°çš„éƒ½æ˜¯è‡ªå·±çš„è®¢å•æ•°æ®ï¼Œæˆ‘æ‰“å¼€æˆ‘çš„è®¢å•ç¼“å­˜çš„æ•°æ®ï¼Œæ˜¯ä¸èƒ½ç»™ä½ æ‰“å¼€ä½ çš„è®¢å•æ¥ä½¿ç”¨çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¸¤ä¸ªäººçš„è®¢å•æ˜¯ä¸ä¸€æ ·çš„ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œç¼“å­˜çš„å‘½ä¸­ç‡å°±æ²¡æœ‰é‚£ä¹ˆé«˜ï¼Œè¿˜æ˜¯æœ‰ç›¸å½“ä¸€éƒ¨åˆ†æŸ¥è¯¢è¯·æ±‚å› ä¸ºå‘½ä¸­ä¸äº†ç¼“å­˜ï¼Œæ‰“åˆ°MySQLä¸Šã€‚</p><p>é‚£éšç€ç³»ç»Ÿç”¨æˆ·æ•°é‡è¶Šæ¥è¶Šå¤šï¼Œæ‰“åˆ°MySQLä¸Šçš„è¯»å†™è¯·æ±‚ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œå½“å•å°MySQLæ”¯æ’‘ä¸äº†è¿™ä¹ˆå¤šçš„å¹¶å‘è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåŠï¼Ÿ</p><!-- [[[read_end]]] --><h2>è¯»å†™åˆ†ç¦»æ˜¯æå‡MySQLå¹¶å‘çš„é¦–é€‰æ–¹æ¡ˆ</h2><p>å½“å•å°MySQLæ— æ³•æ»¡è¶³è¦æ±‚çš„æ—¶å€™ï¼Œåªèƒ½ç”¨å¤šä¸ªMySQLå®ä¾‹æ¥æ‰¿æ‹…å¤§é‡çš„è¯»å†™è¯·æ±‚ã€‚MySQLå’Œå¤§éƒ¨åˆ†å¸¸ç”¨çš„å…³ç³»å‹æ•°æ®åº“ä¸€æ ·ï¼Œéƒ½æ˜¯å…¸å‹çš„å•æœºæ•°æ®åº“ï¼Œä¸æ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²ã€‚ç”¨ä¸€ä¸ªå•æœºæ•°æ®åº“çš„å¤šä¸ªå®ä¾‹æ¥ç»„æˆä¸€ä¸ªé›†ç¾¤ï¼Œæä¾›åˆ†å¸ƒå¼æ•°æ®åº“æœåŠ¡ï¼Œæ˜¯ä¸€ä¸ªéå¸¸å›°éš¾çš„äº‹å„¿ã€‚</p><p>åœ¨éƒ¨ç½²é›†ç¾¤çš„æ—¶å€™ï¼Œéœ€è¦åšå¾ˆå¤šé¢å¤–çš„å·¥ä½œï¼Œè€Œä¸”å¾ˆéš¾åšåˆ°å¯¹åº”ç”¨é€æ˜ï¼Œé‚£ä½ çš„åº”ç”¨ç¨‹åºä¹Ÿè¦ä¸ºæ­¤åšè¾ƒå¤§çš„æ¶æ„è°ƒæ•´ã€‚æ‰€ä»¥ï¼Œé™¤éç³»ç»Ÿè§„æ¨¡çœŸçš„å¤§åˆ°åªæœ‰è¿™ä¸€æ¡è·¯å¯ä»¥èµ°ï¼Œä¸å»ºè®®ä½ å¯¹æ•°æ®è¿›è¡Œåˆ†ç‰‡ï¼Œè‡ªè¡Œæ„å»ºMySQLé›†ç¾¤ï¼Œä»£ä»·éå¸¸å¤§ã€‚</p><p>ä¸€ä¸ªç®€å•è€Œä¸”éå¸¸æœ‰æ•ˆçš„æ–¹æ¡ˆæ˜¯ï¼Œæˆ‘ä»¬ä¸å¯¹æ•°æ®åˆ†ç‰‡ï¼Œè€Œæ˜¯ä½¿ç”¨å¤šä¸ªå…·æœ‰ç›¸åŒæ•°æ®çš„MySQLå®ä¾‹æ¥åˆ†æ‹…å¤§é‡çš„æŸ¥è¯¢è¯·æ±‚ï¼Œè¿™ç§æ–¹æ³•é€šå¸¸ç§°ä¸ºâ€œè¯»å†™åˆ†ç¦»â€ã€‚è¯»å†™åˆ†ç¦»ä¹‹æ‰€ä»¥èƒ½å¤Ÿè§£å†³é—®é¢˜ï¼Œå®ƒå®é™…ä¸Šæ˜¯åŸºäºä¸€ä¸ªå¯¹æˆ‘ä»¬éå¸¸æœ‰åˆ©çš„å®¢è§‚æƒ…å†µï¼Œé‚£å°±æ˜¯ï¼Œå¾ˆå¤šç³»ç»Ÿï¼Œç‰¹åˆ«æ˜¯é¢å¯¹å…¬ä¼—ç”¨æˆ·çš„äº’è”ç½‘ç³»ç»Ÿï¼Œå¯¹æ•°æ®çš„è¯»å†™æ¯”ä¾‹æ˜¯ä¸¥é‡ä¸å‡è¡¡çš„ã€‚è¯»å†™æ¯”ä¸€èˆ¬éƒ½åœ¨å‡ åå·¦å³ï¼Œå¹³å‡æ¯å‘ç”Ÿå‡ åæ¬¡æŸ¥è¯¢è¯·æ±‚ï¼Œæ‰æœ‰ä¸€æ¬¡æ›´æ–°è¯·æ±‚ã€‚æ¢å¥è¯æ¥è¯´ï¼Œæ•°æ®åº“éœ€è¦åº”å¯¹çš„ç»å¤§éƒ¨åˆ†è¯·æ±‚éƒ½æ˜¯åªè¯»æŸ¥è¯¢è¯·æ±‚ã€‚</p><p>ä¸€ä¸ªåˆ†å¸ƒå¼çš„å­˜å‚¨ç³»ç»Ÿï¼Œæƒ³è¦åšåˆ†å¸ƒå¼å†™æ˜¯éå¸¸éå¸¸å›°éš¾çš„ï¼Œå› ä¸ºå¾ˆéš¾è§£å†³å¥½æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚ä½†å®ç°åˆ†å¸ƒå¼è¯»å°±ç›¸å¯¹ç®€å•å¾ˆå¤šï¼Œæˆ‘åªéœ€è¦å¢åŠ ä¸€äº›åªè¯»çš„å®ä¾‹ï¼Œåªè¦èƒ½å¤ŸæŠŠæ•°æ®å®æ—¶çš„åŒæ­¥åˆ°è¿™äº›åªè¯»å®ä¾‹ä¸Šï¼Œä¿è¯è¿™è¿™äº›åªè¯»å®ä¾‹ä¸Šçš„æ•°æ®éƒ½éšæ—¶ä¸€æ ·ï¼Œè¿™äº›åªè¯»çš„å®ä¾‹å°±å¯ä»¥åˆ†æ‹…å¤§é‡çš„æŸ¥è¯¢è¯·æ±‚ã€‚</p><p>è¯»å†™åˆ†ç¦»çš„å¦å¤–ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå®ƒå®æ–½èµ·æ¥ç›¸å¯¹æ¯”è¾ƒç®€å•ã€‚æŠŠä½¿ç”¨å•æœºMySQLçš„ç³»ç»Ÿå‡çº§ä¸ºè¯»å†™åˆ†ç¦»çš„å¤šå®ä¾‹æ¶æ„éå¸¸å®¹æ˜“ï¼Œä¸€èˆ¬ä¸éœ€è¦ä¿®æ”¹ç³»ç»Ÿçš„ä¸šåŠ¡é€»è¾‘ï¼Œåªéœ€è¦ç®€å•ä¿®æ”¹DAOä»£ç ï¼ŒæŠŠå¯¹æ•°æ®åº“çš„è¯»å†™è¯·æ±‚åˆ†å¼€ï¼Œè¯·æ±‚ä¸åŒçš„MySQLå®ä¾‹å°±å¯ä»¥äº†ã€‚</p><p>é€šè¿‡è¯»å†™åˆ†ç¦»è¿™æ ·ä¸€ä¸ªç®€å•çš„å­˜å‚¨æ¶æ„å‡çº§ï¼Œå°±å¯ä»¥è®©æ•°æ®åº“æ”¯æŒçš„å¹¶å‘æ•°é‡å¢åŠ å‡ å€åˆ°åå‡ å€ã€‚æ‰€ä»¥ï¼Œå½“ä½ çš„ç³»ç»Ÿç”¨æˆ·æ•°è¶Šæ¥è¶Šå¤šï¼Œè¯»å†™åˆ†ç¦»åº”è¯¥æ˜¯ä½ é¦–å…ˆè¦è€ƒè™‘çš„æ‰©å®¹æ–¹æ¡ˆã€‚</p><p>ä¸‹å›¾æ˜¯ä¸€ä¸ªå…¸å‹çš„è¯»å†™åˆ†ç¦»æ¶æ„ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/40/db/40e195c130d45dcdf25a273cb8835ddb.jpg?wh=1142*799\" alt=\"\"></p><p>ä¸»åº“è´Ÿè´£æ‰§è¡Œåº”ç”¨ç¨‹åºå‘æ¥çš„æ‰€æœ‰æ•°æ®æ›´æ–°è¯·æ±‚ï¼Œç„¶åå¼‚æ­¥å°†æ•°æ®å˜æ›´å®æ—¶åŒæ­¥åˆ°æ‰€æœ‰çš„ä»åº“ä¸­å»ï¼Œè¿™æ ·ï¼Œä¸»åº“å’Œæ‰€æœ‰ä»åº“ä¸­çš„æ•°æ®æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚å¤šä¸ªä»åº“å…±åŒåˆ†æ‹…åº”ç”¨çš„æŸ¥è¯¢è¯·æ±‚ã€‚</p><p>ç„¶åæˆ‘ä»¬ç®€å•è¯´ä¸€ä¸‹ï¼Œå¦‚ä½•æ¥å®æ–½MySQLçš„è¯»å†™åˆ†ç¦»æ–¹æ¡ˆã€‚ä½ éœ€è¦åšä¸¤ä»¶äº‹å„¿ï¼š</p><ol>\n<li>éƒ¨ç½²ä¸€ä¸»å¤šä»å¤šä¸ªMySQLå®ä¾‹ï¼Œå¹¶è®©å®ƒä»¬ä¹‹é—´ä¿æŒæ•°æ®å®æ—¶åŒæ­¥ã€‚</li>\n<li>åˆ†ç¦»åº”ç”¨ç¨‹åºå¯¹æ•°æ®åº“çš„è¯»å†™è¯·æ±‚ï¼Œåˆ†åˆ«å‘é€ç»™ä»åº“å’Œä¸»åº“ã€‚</li>\n</ol><p>MySQLè‡ªå¸¦ä¸»ä»åŒæ­¥çš„åŠŸèƒ½ï¼Œç»è¿‡ç®€å•çš„é…ç½®å°±å¯ä»¥å®ç°ä¸€ä¸ªä¸»åº“å’Œå‡ ä¸ªä»åº“ä¹‹é—´çš„æ•°æ®åŒæ­¥ï¼Œéƒ¨ç½²å’Œé…ç½®çš„æ–¹æ³•ï¼Œä½ çœ‹<a href=\"https://dev.mysql.com/doc/refman/8.0/en/replication.html\">MySQLçš„å®˜æ–¹æ–‡æ¡£</a>ç…§ç€åšå°±å¯ä»¥ã€‚åˆ†ç¦»åº”ç”¨ç¨‹åºçš„è¯»å†™è¯·æ±‚æ–¹æ³•æœ‰ä¸‹é¢è¿™ä¸‰ç§ï¼š</p><ol>\n<li>çº¯æ‰‹å·¥æ–¹å¼ï¼šä¿®æ”¹åº”ç”¨ç¨‹åºçš„DAOå±‚ä»£ç ï¼Œå®šä¹‰è¯»å†™ä¸¤ä¸ªæ•°æ®æºï¼ŒæŒ‡å®šæ¯ä¸€ä¸ªæ•°æ®åº“è¯·æ±‚çš„æ•°æ®æºã€‚</li>\n<li>ç»„ä»¶æ–¹å¼ï¼šä¹Ÿå¯ä»¥ä½¿ç”¨åƒSharding-JDBCè¿™ç§é›†æˆåœ¨åº”ç”¨ä¸­çš„ç¬¬ä¸‰æ–¹ç»„ä»¶æ¥å®ç°ï¼Œè¿™äº›ç»„ä»¶é›†æˆåœ¨ä½ çš„åº”ç”¨ç¨‹åºå†…ï¼Œä»£ç†åº”ç”¨ç¨‹åºçš„æ‰€æœ‰æ•°æ®åº“è¯·æ±‚ï¼Œè‡ªåŠ¨æŠŠè¯·æ±‚è·¯ç”±åˆ°å¯¹åº”æ•°æ®åº“å®ä¾‹ä¸Šã€‚</li>\n<li>ä»£ç†æ–¹å¼ï¼šåœ¨åº”ç”¨ç¨‹åºå’Œæ•°æ®åº“å®ä¾‹ä¹‹é—´éƒ¨ç½²ä¸€ç»„æ•°æ®åº“ä»£ç†å®ä¾‹ï¼Œæ¯”å¦‚è¯´Atlasæˆ–è€…MaxScaleã€‚å¯¹åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œæ•°æ®åº“ä»£ç†æŠŠè‡ªå·±ä¼ªè£…æˆä¸€ä¸ªå•èŠ‚ç‚¹çš„MySQLå®ä¾‹ï¼Œåº”ç”¨ç¨‹åºçš„æ‰€æœ‰æ•°æ®åº“è¯·æ±‚è¢«å‘é€ç»™ä»£ç†ï¼Œä»£ç†åˆ†ç¦»è¯»å†™è¯·æ±‚ï¼Œç„¶åè½¬å‘ç»™å¯¹åº”çš„æ•°æ®åº“å®ä¾‹ã€‚</li>\n</ol><p>è¿™ä¸‰ç§æ–¹å¼ï¼Œæˆ‘æœ€æ¨èçš„æ˜¯ç¬¬äºŒç§ï¼Œä½¿ç”¨è¯»å†™åˆ†ç¦»ç»„ä»¶ã€‚è¿™ç§æ–¹å¼ä»£ç ä¾µå…¥éå¸¸å°‘ï¼Œå¹¶ä¸”å…¼é¡¾äº†æ€§èƒ½å’Œç¨³å®šæ€§ã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºæ˜¯ä¸€ä¸ªé€»è¾‘éå¸¸ç®€å•çš„å¾®æœåŠ¡ï¼Œç®€å•åˆ°åªæœ‰å‡ ä¸ªSQLï¼Œæˆ–è€…æ˜¯ï¼Œä½ çš„åº”ç”¨ç¨‹åºä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€æ²¡æœ‰åˆé€‚çš„è¯»å†™åˆ†ç¦»ç»„ä»¶ï¼Œé‚£ä½ ä¹Ÿå¯ä»¥è€ƒè™‘ä½¿ç”¨ç¬¬ä¸€ç§çº¯æ‰‹å·¥çš„æ–¹å¼æ¥å®ç°è¯»å†™åˆ†ç¦»ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸æ¨èä½¿ç”¨ç¬¬ä¸‰ç§ä»£ç†çš„æ–¹å¼ï¼ŒåŸå› æ˜¯ï¼Œä½¿ç”¨ä»£ç†åŠ é•¿äº†ä½ çš„ç³»ç»Ÿè¿è¡Œæ—¶æ•°æ®åº“è¯·æ±‚çš„è°ƒç”¨é“¾è·¯ï¼Œæœ‰ä¸€å®šçš„æ€§èƒ½æŸå¤±ï¼Œå¹¶ä¸”ä»£ç†æœåŠ¡æœ¬èº«ä¹Ÿå¯èƒ½å‡ºç°æ•…éšœå’Œæ€§èƒ½ç“¶é¢ˆç­‰é—®é¢˜ã€‚ä½†æ˜¯ï¼Œä»£ç†æ–¹å¼æœ‰ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå®ƒå¯¹åº”ç”¨ç¨‹åºæ˜¯å®Œå…¨é€æ˜çš„ã€‚<strong>æ‰€ä»¥ï¼Œåªæœ‰åœ¨ä¸æ–¹ä¾¿ä¿®æ”¹åº”ç”¨ç¨‹åºä»£ç è¿™ä¸€ç§æƒ…å†µä¸‹ï¼Œä½ æ‰éœ€è¦é‡‡ç”¨ä»£ç†æ–¹å¼ã€‚</strong></p><p>å¦å¤–ï¼Œå¦‚æœä½ é…ç½®äº†å¤šä¸ªä»åº“ï¼Œæ¨èä½ ä½¿ç”¨â€œHAProxy+Keepalivedâ€è¿™å¯¹å„¿ç»å…¸çš„ç»„åˆï¼Œæ¥ç»™æ‰€æœ‰çš„ä»èŠ‚ç‚¹åšä¸€ä¸ªé«˜å¯ç”¨è´Ÿè½½å‡è¡¡æ–¹æ¡ˆï¼Œæ—¢å¯ä»¥é¿å…æŸä¸ªä»èŠ‚ç‚¹å®•æœºå¯¼è‡´ä¸šåŠ¡å¯ç”¨ç‡é™ä½ï¼Œä¹Ÿæ–¹ä¾¿ä½ åç»­éšæ—¶æ‰©å®¹ä»åº“çš„å®ä¾‹æ•°é‡ã€‚å› ä¸ºHAProxyå¯ä»¥åšL4å±‚ä»£ç†ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒè½¬å‘çš„æ˜¯TCPè¯·æ±‚ï¼Œæ‰€ä»¥ç”¨â€œHAProxy+Keepalivedâ€ä»£ç†MySQLè¯·æ±‚ï¼Œåœ¨éƒ¨ç½²å’Œé…ç½®ä¸Šä¹Ÿæ²¡ä»€ä¹ˆç‰¹æ®Šçš„åœ°æ–¹ï¼Œæ­£å¸¸é…ç½®å’Œéƒ¨ç½²å°±å¯ä»¥äº†ã€‚</p><h2>æ³¨æ„è¯»å†™åˆ†ç¦»å¸¦æ¥çš„æ•°æ®ä¸ä¸€è‡´é—®é¢˜</h2><p>è¯»å†™åˆ†ç¦»çš„ä¸€ä¸ªå‰¯ä½œç”¨æ˜¯ï¼Œå¯èƒ½ä¼šå­˜åœ¨æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚åŸå› æ˜¯ï¼Œæ•°æ®åº“ä¸­çš„æ•°æ®åœ¨ä¸»åº“å®Œæˆæ›´æ–°åï¼Œæ˜¯å¼‚æ­¥åŒæ­¥åˆ°æ¯ä¸ªä»åº“ä¸Šçš„ï¼Œè¿™ä¸ªè¿‡ç¨‹æœ‰ä¸€ä¸ªå¾®å°çš„æ—¶é—´å·®ï¼Œè¿™ä¸ªæ—¶é—´å·®å«<strong>ä¸»ä»åŒæ­¥å»¶è¿Ÿ</strong>ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸»ä»å»¶è¿Ÿéå¸¸å°ï¼Œä¸è¶…è¿‡1msã€‚ä½†å³ä½¿è¿™ä¸ªéå¸¸å°çš„å»¶è¿Ÿï¼Œä¹Ÿä¼šå¯¼è‡´åœ¨æŸä¸€ä¸ªæ—¶åˆ»ï¼Œä¸»åº“å’Œä»åº“ä¸Šçš„æ•°æ®æ˜¯ä¸ä¸€è‡´çš„ã€‚åº”ç”¨ç¨‹åºéœ€è¦èƒ½æ¥å—å¹¶å…‹æœè¿™ç§ä¸»ä»ä¸ä¸€è‡´çš„æƒ…å†µï¼Œå¦åˆ™å°±ä¼šå¼•å‘ä¸€äº›ç”±äºä¸»ä»å»¶è¿Ÿå¯¼è‡´çš„æ•°æ®é”™è¯¯ã€‚</p><p>è¿˜æ˜¯æ‹¿è®¢å•ç³»ç»Ÿæ¥ä¸¾ä¾‹ï¼Œæˆ‘ä»¬è‡ªç„¶çš„è®¾è®¡æ€è·¯æ˜¯ï¼Œç”¨æˆ·ä»è´­ç‰©è½¦é‡Œå‘èµ·ç»“ç®—åˆ›å»ºè®¢å•ï¼Œè¿›å…¥è®¢å•é¡µï¼Œæ‰“å¼€æ”¯ä»˜é¡µé¢è¿›è¡Œæ”¯ä»˜ï¼Œæ”¯ä»˜å®Œæˆåï¼ŒæŒ‰é“ç†åº”è¯¥å†è¿”å›æ”¯ä»˜ä¹‹å‰çš„è®¢å•é¡µã€‚ä½†å¦‚æœè¿™ä¸ªæ—¶å€™é©¬ä¸Šè‡ªåŠ¨è¿”å›è®¢å•é¡µï¼Œå°±å¾ˆå¯èƒ½ä¼šå‡ºç°è®¢å•çŠ¶æ€è¿˜æ˜¯æ˜¾ç¤ºâ€œæœªæ”¯ä»˜â€ã€‚å› ä¸ºï¼Œæ”¯ä»˜å®Œæˆåï¼Œè®¢å•åº“çš„ä¸»åº“ä¸­ï¼Œè®¢å•çŠ¶æ€å·²ç»è¢«æ›´æ–°äº†ï¼Œè€Œè®¢å•é¡µæŸ¥è¯¢çš„ä»åº“ä¸­ï¼Œè¿™æ¡è®¢å•è®°å½•çš„çŠ¶æ€æœ‰å¯èƒ½è¿˜æ²¡æ›´æ–°ã€‚æ€ä¹ˆè§£å†³ï¼Ÿ</p><p>è¿™ç§é—®é¢˜å…¶å®æ²¡ä»€ä¹ˆå¥½çš„æŠ€æœ¯æ‰‹æ®µæ¥è§£å†³ï¼Œæ‰€ä»¥ä½ çœ‹å¤§çš„ç”µå•†ï¼Œå®ƒæ”¯ä»˜å®Œæˆåæ˜¯ä¸ä¼šè‡ªåŠ¨è·³å›åˆ°è®¢å•é¡µçš„ï¼Œå®ƒå¢åŠ äº†ä¸€ä¸ªæ— å…³ç´§è¦çš„â€œæ”¯ä»˜å®Œæˆâ€é¡µé¢ï¼Œå…¶å®è¿™ä¸ªé¡µé¢æ²¡æœ‰ä»»ä½•æœ‰æ•ˆçš„ä¿¡æ¯ï¼Œå°±æ˜¯å‘Šè¯‰ä½ æ”¯ä»˜æˆåŠŸï¼Œç„¶åå†æ”¾ä¸€äº›å¹¿å‘Šä»€ä¹ˆçš„ã€‚ä½ å¦‚æœæƒ³å†çœ‹åˆšåˆšæ”¯ä»˜å®Œæˆçš„è®¢å•ï¼Œéœ€è¦æ‰‹åŠ¨ç‚¹ä¸€ä¸‹ï¼Œè¿™æ ·å°±å¾ˆå¥½åœ°è§„é¿äº†ä¸»ä»åŒæ­¥å»¶è¿Ÿçš„é—®é¢˜ã€‚</p><p>ä¸Šé¢è¿™ä¸ªä¾‹å­è¿˜åªæ˜¯è®¢å•çŠ¶æ€æ˜¾ç¤ºé”™è¯¯ï¼Œåˆ·æ–°ä¸€ä¸‹å°±å¥½äº†ã€‚æˆ‘ä»¬éœ€è¦ç‰¹åˆ«æ³¨æ„çš„ï¼Œæ˜¯é‚£äº›æ•°æ®æ›´æ–°åï¼Œç«‹åˆ»éœ€è¦æŸ¥è¯¢æ›´æ–°åçš„æ•°æ®ï¼Œç„¶åå†æ›´æ–°å…¶ä»–æ•°æ®è¿™ç§æƒ…å†µã€‚æ¯”å¦‚è¯´åœ¨è´­ç‰©è½¦é¡µé¢ï¼Œå¦‚æœç”¨æˆ·ä¿®æ”¹äº†æŸä¸ªå•†å“çš„æ•°é‡ï¼Œéœ€è¦é‡æ–°è®¡ç®—ä¼˜æƒ å’Œæ€»ä»·ã€‚æ›´æ–°äº†è´­ç‰©è½¦çš„æ•°æ®åï¼Œéœ€è¦ç«‹å³è°ƒç”¨è®¡ä»·æœåŠ¡ï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœè®¡ä»·æœåŠ¡å»è¯»è´­ç‰©è½¦çš„ä»åº“ï¼Œéå¸¸å¯èƒ½è¯»åˆ°æ—§æ•°æ®è€Œå¯¼è‡´è®¡ç®—çš„æ€»ä»·é”™è¯¯ã€‚</p><p>å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œä½ å¯ä»¥æŠŠâ€œæ›´æ–°è´­ç‰©è½¦ã€é‡æ–°è®¡ç®—æ€»ä»·â€è¿™ä¸¤ä¸ªæ­¥éª¤åˆå¹¶æˆä¸€ä¸ªå¾®æœåŠ¡ï¼Œç„¶åæ”¾åœ¨ä¸€ä¸ªæ•°æ®åº“äº‹åŠ¡ä¸­å»ï¼ŒåŒä¸€ä¸ªäº‹åŠ¡ä¸­çš„æŸ¥è¯¢æ“ä½œä¹Ÿä¼šè¢«è·¯ç”±åˆ°ä¸»åº“ï¼Œè¿™æ ·æ¥è§„é¿ä¸»ä»ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</p><p>å¯¹äºè¿™ç§ä¸»ä»å»¶è¿Ÿå¸¦æ¥çš„æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œæ²¡æœ‰ä»€ä¹ˆç®€å•æ–¹ä¾¿è€Œä¸”é€šç”¨çš„æŠ€æœ¯æ–¹æ¡ˆå¯ä»¥è§£å†³ï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°è®¾è®¡ä¸šåŠ¡é€»è¾‘ï¼Œå°½é‡è§„é¿æ›´æ–°æ•°æ®åç«‹å³å»ä»åº“æŸ¥è¯¢åˆšåˆšæ›´æ–°çš„æ•°æ®ã€‚</p><h2>å°ç»“</h2><p>éšç€ç³»ç»Ÿçš„ç”¨æˆ·å¢é•¿ï¼Œå½“å•ä¸ªMySQLå®ä¾‹å¿«è¦æ‰›ä¸ä½å¤§é‡å¹¶å‘çš„æ—¶å€™ï¼Œè¯»å†™åˆ†ç¦»æ˜¯é¦–é€‰çš„æ•°æ®åº“æ‰©å®¹æ–¹æ¡ˆã€‚è¯»å†™åˆ†ç¦»çš„æ–¹æ¡ˆä¸éœ€è¦å¯¹ç³»ç»Ÿåšå¤ªå¤§çš„æ”¹åŠ¨ï¼Œå°±å¯ä»¥è®©ç³»ç»Ÿæ”¯æ’‘çš„å¹¶å‘æå‡å‡ å€åˆ°åå‡ å€ã€‚</p><p>æ¨èä½ ä½¿ç”¨é›†æˆåœ¨åº”ç”¨å†…çš„è¯»å†™åˆ†ç¦»ç»„ä»¶æ–¹å¼æ¥åˆ†ç¦»æ•°æ®åº“è¯»å†™è¯·æ±‚ï¼Œå¦‚æœå¾ˆéš¾ä¿®æ”¹åº”ç”¨ç¨‹åºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä»£ç†çš„æ–¹å¼æ¥åˆ†ç¦»æ•°æ®åº“è¯»å†™è¯·æ±‚ã€‚å¦‚æœä½ çš„æ–¹æ¡ˆä¸­éƒ¨ç½²äº†å¤šä¸ªä»åº“ï¼Œæ¨èä½ ç”¨â€œHAProxy+Keepalivedâ€æ¥åšè¿™äº›ä»åº“çš„è´Ÿè½½å‡è¡¡å’Œé«˜å¯ç”¨ï¼Œè¿™ä¸ªæ–¹æ¡ˆçš„å¥½å¤„æ˜¯ç®€å•ç¨³å®šè€Œä¸”è¶³å¤Ÿçµæ´»ï¼Œä¸éœ€è¦å¢åŠ é¢å¤–çš„æœåŠ¡å™¨éƒ¨ç½²ï¼Œä¾¿äºç»´æŠ¤å¹¶ä¸”ä¸å¢åŠ æ•…éšœç‚¹ã€‚</p><p>ä¸»ä»åŒæ­¥å»¶è¿Ÿä¼šå¯¼è‡´ä¸»åº“å’Œä»åº“ä¹‹é—´å‡ºç°æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåº”è¯¥èƒ½å…¼å®¹ä¸»ä»å»¶è¿Ÿï¼Œé¿å…å› ä¸ºä¸»ä»å»¶è¿Ÿè€Œå¯¼è‡´çš„æ•°æ®é”™è¯¯ã€‚è§„é¿è¿™ä¸ªé—®é¢˜æœ€å…³é”®çš„ä¸€ç‚¹æ˜¯ï¼Œæˆ‘ä»¬åœ¨è®¾è®¡ç³»ç»Ÿçš„ä¸šåŠ¡æµç¨‹æ—¶ï¼Œå°½é‡ä¸è¦åœ¨æ›´æ–°æ•°æ®ä¹‹åç«‹å³å»æŸ¥è¯¢æ›´æ–°åçš„æ•°æ®ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>è¯¾åè¯·ä½ å¯¹ç…§ä½ ç°åœ¨è´Ÿè´£å¼€å‘æˆ–è€…ç»´æŠ¤çš„ç³»ç»Ÿæ¥åˆ†äº«ä¸€ä¸‹ï¼Œä½ çš„ç³»ç»Ÿå®æ–½è¯»å†™åˆ†ç¦»çš„å…·ä½“æ–¹æ¡ˆæ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿæ¯”å¦‚ï¼Œå¦‚ä½•åˆ†ç¦»è¯»å†™æ•°æ®åº“è¯·æ±‚ï¼Ÿå¦‚ä½•è§£å†³ä¸»ä»å»¶è¿Ÿå¸¦æ¥çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºä¸æˆ‘è®¨è®ºã€‚</p><p>å¦‚æœä½ è§‰å¾—ä»Šå¤©çš„å†…å®¹å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"11 | MySQLå¦‚ä½•åº”å¯¹é«˜å¹¶å‘ï¼ˆä¸€ï¼‰ï¼šä½¿ç”¨ç¼“å­˜ä¿æŠ¤MySQL","id":213230},"right":{"article_title":"13 | MySQLä¸»ä»æ•°æ®åº“åŒæ­¥æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ","id":215383}},"comments":[{"had_liked":false,"id":194080,"user_name":"æç¥","can_delete":false,"product_type":"c1","uid":1501046,"ip_address":"","ucode":"B19E91EE248591","user_header":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","comment_is_top":true,"comment_ctime":1585022846,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"9.2233721501088993e+18","product_id":100046801,"comment_content":"Hiï¼Œæˆ‘æ˜¯æç¥ã€‚<br><br>è¿™é‡Œå›é¡¾ä¸€ä¸‹ä¸ŠèŠ‚è¯¾çš„æ€è€ƒé¢˜ï¼š<br><br>è¯¾åè¯·ä½ æƒ³ä¸€ä¸‹ï¼Œå…·ä½“ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œä½¿ç”¨Cache Asideæ¨¡å¼æ›´æ–°ç¼“å­˜ä¼šäº§ç”Ÿè„æ•°æ®ï¼Ÿæ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œé€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜æƒ…å†µã€‚<br><br>è¯´ä¸€ç§å¯èƒ½äº§ç”Ÿè„æ•°æ®çš„æƒ…å†µï¼š<br><br>ä½¿ç”¨Cache Asideæ¨¡å¼æ¥æ›´æ–°ç¼“å­˜ï¼Œæ˜¯ä¸æ˜¯å°±å®Œå…¨å¯ä»¥é¿å…äº§ç”Ÿè„æ•°æ®å‘¢ï¼Ÿä¹Ÿä¸æ˜¯ï¼Œå¦‚æœä¸€ä¸ªå†™çº¿ç¨‹åœ¨æ›´æ–°è®¢å•æ•°æ®çš„æ—¶å€™ï¼Œæ°å¥½èµ¶ä¸Šè¿™æ¡è®¢å•æ•°æ®ç¼“å­˜è¿‡æœŸï¼Œåˆæ°å¥½èµ¶ä¸Šä¸€ä¸ªè¯»çº¿ç¨‹æ­£åœ¨è¯»è¿™æ¡è®¢å•æ•°æ®ï¼Œè¿˜æ˜¯æœ‰å¯èƒ½ä¼šäº§ç”Ÿè¯»çº¿ç¨‹å°†ç¼“å­˜æ›´æ–°æˆè„æ•°æ®ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªå¯èƒ½æ€§ç›¸æ¯”Read&#47;Write Throughæ¨¡å¼è¦ä½å¾ˆå¤šï¼Œå¹¶ä¸”å‘ç”Ÿçš„æ¦‚ç‡å¹¶ä¸ä¼šéšç€å¹¶å‘æ•°é‡å¢å¤šè€Œæ˜¾è‘—å¢åŠ ï¼Œæ‰€ä»¥å³ä½¿æ˜¯é«˜å¹¶å‘çš„åœºæ™¯ï¼Œè¿™ç§æƒ…å†µå®é™…å‘ç”Ÿçš„æ¦‚ç‡ä»ç„¶éå¸¸ä½ã€‚<br><br>æ—¢ç„¶ä¸èƒ½ç™¾åˆ†ä¹‹ç™¾çš„é¿å…ç¼“å­˜çš„è„æ•°æ®ï¼Œé‚£æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›æ–¹å¼æ¥è¿›è¡Œè¡¥å¿ã€‚æ¯”å¦‚è¯´ï¼ŒæŠŠç¼“å­˜çš„è¿‡æœŸæ—¶é—´è®¾ç½®çš„ç›¸å¯¹çŸ­ä¸€äº›ï¼Œä¸€èˆ¬åœ¨å‡ åç§’å·¦å³ï¼Œè¿™æ ·å³ä½¿äº§ç”Ÿäº†è„æ•°æ®ï¼Œå‡ åç§’ä¹‹åå°±ä¼šè‡ªåŠ¨æ¢å¤äº†ã€‚æ›´å¤æ‚ä¸€ç‚¹å„¿çš„ï¼Œå¯ä»¥åœ¨è¯·æ±‚ä¸­å¸¦ä¸Šä¸€ä¸ªåˆ·æ–°æ ‡å¿—ä½ï¼Œå¦‚æœç”¨æˆ·åœ¨æŸ¥çœ‹è®¢å•çš„æ—¶å€™ï¼Œæ‰‹åŠ¨ç‚¹å‡»åˆ·æ–°ï¼Œé‚£å°±ä¸èµ°ç¼“å­˜ç›´æ¥å»è¯»æ•°æ®åº“ï¼Œä¹Ÿå¯ä»¥è§£å†³ä¸€éƒ¨åˆ†é—®é¢˜ã€‚","like_count":26,"discussions":[{"author":{"id":1209170,"avatar":"https://static001.geekbang.org/account/avatar/00/12/73/52/a5a0c0c6.jpg","nickname":"animabear","note":"","ucode":"60E27F9F57DD06","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224340,"discussion_content":"è¿˜å¯ä»¥é‡‡ç”¨å»¶è¿Ÿåˆ é™¤ éš”å‡ ç§’åå†æ‰§è¡Œä¸€æ¬¡åˆ é™¤ å¯ä»¥ç”±ä¸šåŠ¡æˆ–è€… redis proxy å®ç°","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1586279844,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1094478,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b3/4e/5f22b09d.jpg","nickname":"marker","note":"","ucode":"DDBF1CD83665C4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295990,"discussion_content":"å¯ä»¥åšä¸€ä¸ªå†…éƒ¨é˜Ÿåˆ—ä¿æŒä¿®æ”¹æ•°æ®åº“å’Œåˆ·æ–°ç¼“å­˜ä¸²è¡ŒåŒ–ï¼ŒæŸ¥è¯¢è¯·æ±‚çš„æ—¶å€™å¤„ç†ä¸€ä¸‹å³å¯ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1596422225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1247124,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIUicDf5vnWPib22sugRBcES8lR3LibI3LfZrKqiabiczqeBVOhlCan8VNpVjK57gibmb58lYL68FY7nvFQ/132","nickname":"zhsoft","note":"","ucode":"573BF7C3676531","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":226913,"discussion_content":"è€å¸ˆè¯·é—®ä¸‹\n1.å¦‚æœcache asideæ¨¡å¼ä¸‹ï¼Œç¼“å­˜ä¸­çš„æ•°æ®ä¸è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè¿˜ä¼šæœ‰è„æ•°æ®å—\n2.è¿˜æœ‰æ“ä½œç¼“å­˜çš„æ—¶å€™ä¼šå­˜åœ¨å¤±è´¥çš„æƒ…å†µï¼Œè¿™ä¸ªæƒ…å†µæ˜¯è¦é‡è¯•ï¼Œè¿˜æ˜¯å¼•ç”¨mqï¼Œå¤±è´¥å°±æ”¾åˆ°mq","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586444624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1319264,"avatar":"https://static001.geekbang.org/account/avatar/00/14/21/60/b21da12a.jpg","nickname":"æ¸æ¸è¿·å¤±","note":"","ucode":"9CEB5D11B4B5CC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":219970,"discussion_content":"æ²¡äº‹è¯´çš„æ˜¯ å’Œcache aside æƒ…å†µä¸€æ ·ä¸æ˜¯æ²¡æœ‰è„æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585829013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1319264,"avatar":"https://static001.geekbang.org/account/avatar/00/14/21/60/b21da12a.jpg","nickname":"æ¸æ¸è¿·å¤±","note":"","ucode":"9CEB5D11B4B5CC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":219968,"discussion_content":"é—®ä¸€å¥ read write through è„æ•°æ® æ˜¯å› ä¸ºä¿®æ”¹æ•°æ®ç”¨çš„ä¹è§‚é”å— å¦‚æœå¼€å¯æ‚²è§‚é”åœ¨äº‹åŠ¡é‡Œæ˜¯ä¸æ˜¯å°±æ²¡äº‹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585828911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":194019,"user_name":"Aliliin","can_delete":false,"product_type":"c1","uid":1025239,"ip_address":"","ucode":"61F9A09BB6650F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a4/d7/5d2bfaa7.jpg","comment_is_top":false,"comment_ctime":1585015370,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"121844099658","product_id":100046801,"comment_content":"åœ¨ä¸Šå®¶å…¬å¸ï¼Œæˆ‘è®°å¾—æˆ‘å†™è®¢å•æ”¯ä»˜æˆåŠŸä¹‹åéœ€è¦é€ä¼˜æƒ åˆ¸çš„ä¸šåŠ¡ï¼Œä¹Ÿå¯¼è‡´èµ é€ä¼˜æƒ åˆ¸ä¸æˆåŠŸã€‚<br>æµ‹è¯•ç¯å¢ƒæ€ä¹ˆéƒ½ä¸å‡ºé—®é¢˜ï¼Œåæ¥æ‰æƒ³åˆ°çš„æ˜¯ä¸»ä»çš„é—®é¢˜ï¼Œä¹‹åå°±ä¿®æ”¹æˆåŠŸäº†ï¼Œä»ä¸»åº“æŸ¥è¯¢å¹¶å¢åŠ ä¼˜æƒ åˆ¸ã€‚å¿™åˆ°åŠå¤œã€‚è¿™ä¸ªè¯¾ç¨‹çœŸæ˜¯å¤ªå¥½äº†ã€‚","like_count":29,"discussions":[{"author":{"id":1074897,"avatar":"https://static001.geekbang.org/account/avatar/00/10/66/d1/8664c464.jpg","nickname":"flyCoder","note":"","ucode":"82FB7B60775978","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349157,"discussion_content":"æ²¡ç†è§£ä½ çš„é—®é¢˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1612939279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366311,"discussion_content":"å¦‚ä½•åŒºåˆ†åˆ°ä¸»åº“å’Œä»åº“æŸ¥è¯¢ä¼˜æƒ åˆ¸çš„æ—¶æœºï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618025642,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2791739,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/99/3b/acbc0986.jpg","nickname":"è®°å¿†ä¸å¯’å‡‰","note":"","ucode":"AC1D0AA0740803","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402028,"discussion_content":"ä¸€èˆ¬è¿™ç§ä¸»æµç¨‹çš„æŸ¥è¯¢å¯ä»¥å¼ºåˆ¶èµ°ä¸»åº“","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1633785360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":366311,"ip_address":""},"score":402028,"extra":""}]}]},{"had_liked":false,"id":226653,"user_name":"ç‹ä½³å±±","can_delete":false,"product_type":"c1","uid":1786944,"ip_address":"","ucode":"771D318F150F8C","user_header":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoxUFAanq6rz2MqHXtn7vAvyIe0ljoqCtX3gnqZujLk7x90llHedHqCpHCnbYJeZmPX06Y6OFlibpQ/132","comment_is_top":false,"comment_ctime":1592180123,"is_pvip":false,"replies":[{"id":"84541","content":"æ¯”å¦‚å…ˆåæ‰§è¡Œä¸€æ¡æ›´æ–°è¯­å¥ï¼Œå’Œä¸€æ¡æŸ¥è¯¢è¯­å¥ã€‚<br><br>é»˜è®¤è¯»å†™åˆ†ç¦»çš„æƒ…å†µä¸‹ï¼Œæ›´æ–°è¯­å¥ä¼šèµ°ä¸»åº“ï¼ŒæŸ¥è¯¢è¯­å¥ä¼šèµ°ä»åº“ã€‚<br><br>å¦‚æœæŠŠè¿™ä¸¤æ¡è¯­å¥æ”¾åˆ°åŒä¸€ä¸ªäº‹åŠ¡é‡Œé¢ï¼Œå› ä¸ºäº‹åŠ¡çš„åŸå­æ€§ï¼Œé‚£æŸ¥è¯¢è¯­å¥ä¹Ÿä¼šèµ°ä¸»åº“ã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1592918562,"ip_address":"","comment_id":226653,"utype":1}],"discussion_count":2,"race_medal":0,"score":"83196558747","product_id":100046801,"comment_content":"è¿™ç¯‡æ–‡ç« ä¸­æåˆ°çš„åŒä¸€ä¸ªäº‹åŠ¡ä¼šè·¯ç”±åˆ°ä¸»åº“æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ","like_count":20,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498318,"discussion_content":"æ¯”å¦‚å…ˆåæ‰§è¡Œä¸€æ¡æ›´æ–°è¯­å¥ï¼Œå’Œä¸€æ¡æŸ¥è¯¢è¯­å¥ã€‚\n\né»˜è®¤è¯»å†™åˆ†ç¦»çš„æƒ…å†µä¸‹ï¼Œæ›´æ–°è¯­å¥ä¼šèµ°ä¸»åº“ï¼ŒæŸ¥è¯¢è¯­å¥ä¼šèµ°ä»åº“ã€‚\n\nå¦‚æœæŠŠè¿™ä¸¤æ¡è¯­å¥æ”¾åˆ°åŒä¸€ä¸ªäº‹åŠ¡é‡Œé¢ï¼Œå› ä¸ºäº‹åŠ¡çš„åŸå­æ€§ï¼Œé‚£æŸ¥è¯¢è¯­å¥ä¹Ÿä¼šèµ°ä¸»åº“ã€‚\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1592918562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1856445,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/53/bd/c394ecb7.jpg","nickname":"Jack-bai","note":"","ucode":"CF223B05C01610","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555840,"discussion_content":"å¦‚æœé€šè¿‡ç»„ä»¶æ–¹å¼å®ç°è¯»å†™åˆ†ç¦»ï¼Œæˆ‘ç†è§£èµ°ä¸»åº“æˆ–æ˜¯ä»åº“æ˜¯ä¸è¯­å¥çš„å…³é”®å­—æœ‰å…³çš„å§ã€‚éš¾é“å’Œäº‹åŠ¡æ˜¯ç›¸å…³çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647078667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":196408,"user_name":"Mongo","can_delete":false,"product_type":"c1","uid":1012100,"ip_address":"","ucode":"3EED4257A8F8C3","user_header":"","comment_is_top":false,"comment_ctime":1585278821,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"70304755557","product_id":100046801,"comment_content":"- Redisä½œä¸º MySQLå‰ç½®<br>  é’ˆå¯¹ç±»ä¼¼ç”µå•†ç±»çœ‹åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„æ•ˆæœå¾ˆå¥½<br>  é’ˆå¯¹çœ‹åˆ°çš„å†…å®¹å„ä¸ç›¸åŒçš„æ—¶å€™ï¼Œæ•ˆæœä¸€èˆ¬<br>- MySQL é’ˆå¯¹é«˜å¹¶å‘æ–¹æ¡ˆ<br>  - åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿéš¾ç‚¹<br>      å†™éš¾ä»¥ä¿è¯æ•°æ®ä¸€è‡´æ€§<br>      åˆ†å¸ƒå¼è¯»ç›¸å¯¹ç®€å•<br>  - æ„å»ºåˆ†å¸ƒå¼é›†ç¾¤<br>    ä¸å»ºè®®æ„å»ºåˆ†å¸ƒå¼é›†ç¾¤ï¼Œä»£ä»·å¤§<br>  - è¯»å†™åˆ†ç¦»æ–¹æ¡ˆ<br>    è¯»å†™åˆ†ç¦»ï¼Œå¯æœ‰æ•ˆåˆ†æ‹…å¤§é‡çš„æŸ¥è¯¢è¯·æ±‚<br>    è¯»å†™åˆ†ç¦»ï¼Œå®æ–½æ¯”è¾ƒæ–¹ä¾¿<br>    - è¯»å†™åˆ†ç¦»æ–¹æ¡ˆ<br>      éƒ¨ç½²ä¸€ä¸»å¤šä»å¤šä¸ª MySQL å®ä¾‹ï¼Œå¹¶è®©ä»–ä»¬ä¹‹é—´ä¿æŒæ•°æ®å®æ—¶åŒæ­¥<br>      åˆ†ç¦»åº”ç”¨ç¨‹åºå¯¹æ•°æ®åº“çš„è¯»å†™è¯·æ±‚ï¼Œåˆ†åˆ«å‘é€åˆ°ä»åº“å’Œä¸»åº“<br>      - åˆ†ç¦»è¯»å†™çš„æ–¹æ³•(æ¨èç¬¬äºŒç§)<br>        1.çº¯æ‰‹å·¥æ–¹å¼ï¼šä¿®æ”¹åº”ç”¨ç¨‹åº DAO å±‚ä»£ç ï¼Œå®šä¹‰è¯»å†™ä¸¤ä¸ªæ•°æ®æºï¼ŒæŒ‡å®šæ¯ä¸€ä¸ªæ•°æ®åº“è¯·æ±‚çš„æ•°æ®æº<br>        2.ç»„ä»¶æ–¹å¼ï¼šä¹Ÿå¯ä»¥ä½¿ç”¨åƒ Sharding-JDBCè¿™ç§é›†æˆåœ¨åº”ç”¨ä¸­çš„ç¬¬ä¸‰æ–¹ç»„ä»¶æ¥å®ç°ï¼Œè¿™äº›ç»„ä»¶é›†æˆåœ¨ä½ çš„åº”ç”¨ç¨‹åºå†…ï¼Œä»£ç†åº”ç”¨ç¨‹åºçš„æ‰€æœ‰æ•°æ®åº“è¯·æ±‚ï¼Œè‡ªåŠ¨æŠŠè¯·æ±‚è·¯ç”±åˆ°å¯¹åº”æ•°æ®åº“å®ä¾‹ä¸Š<br>        3.ä»£ç†æ–¹å¼ï¼šåœ¨åº”ç”¨ç¨‹åºå’Œæ•°æ®åº“å®ä¾‹ä¹‹é—´éƒ¨ç½²ä¸€ç»„æ•°æ®åº“ä»£ç†å®ä¾‹ï¼Œ æ¯”å¦‚ Atlas æˆ–è€… MaxScaleã€‚å¯¹åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œæ•°æ®åº“ä»£ç†æŠŠè‡ªå·±ä¼ªè£…æˆä¸€ä¸ªå•èŠ‚ç‚¹çš„ MySQL å®ä¾‹ï¼Œåº”ç”¨ç¨‹åºçš„è¯‰è®¼æœ‰æ•°æ®åº“è¯·æ±‚è¢«å‘é€åˆ°ç»™ä»£ç†ï¼Œä»£ç†åˆ†ç¦»è¯»å†™è¯·æ±‚ï¼Œç„¶åè½¬å‘ç»™å¯¹åº”çš„æ•°æ®åº“å®ä¾‹ã€‚<br>      - é…ç½®å¤šä¸ªä»åº“<br>        æ¨èä½¿ç”¨&quot;HAProxy + Keeplived&quot;ç»„åˆ<br>    - è¯»å†™åˆ†ç¦»å¼Šç«¯<br>      å¯èƒ½å¯¼è‡´æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œæ­£å¸¸ä¸è¶…è¿‡1ms<br>      - è§£å†³æ–¹æ³•<br>        å°†åŒæ­¥çš„ä¸€äº›æ“ä½œæ”¾åˆ°ä¸€ä¸ªæ•°æ®åº“äº‹åŠ¡ä¸­æ¥åšï¼Œå†™ä¸è¯»åœ¨ä¸€ä¸ªåº“<br>        å¢åŠ ä¸€äº›æ­¥éª¤æ“ä½œï¼Œè®© 1ms çš„åŒæ­¥è‡ªç„¶çš„æ¶ˆè€—æ‰","like_count":17},{"had_liked":false,"id":194547,"user_name":"kyll","can_delete":false,"product_type":"c1","uid":1103329,"ip_address":"","ucode":"2425DCF5753786","user_header":"https://static001.geekbang.org/account/avatar/00/10/d5/e1/a05a9e22.jpg","comment_is_top":false,"comment_ctime":1585065893,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"53124673445","product_id":100046801,"comment_content":"åŸæ¥ç”¨mycatï¼Œç°åœ¨æˆ‘ä»¬ä½¿ç”¨sharding-jdbcï¼Œé…ç½®ç®€å•ï¼Œå¯¹å¼€å‘é€æ˜ã€‚è€Œä¸”çœ‹å®˜ç½‘ä¸Šæœªæ¥å‘å±•å‰æ™¯ä¸é”™ã€‚shardingå¯ä»¥åšåˆ°åŒä¸€ä¸ªçº¿ç¨‹å†…æ›´æ–°åçš„æŸ¥è¯¢åœ¨ä¸»åº“è¿›è¡Œï¼Œå…¶ä»–çš„æƒ…å†µä¹Ÿæ˜¯åœ¨äº¤äº’ä¸Šåšæ”¹è¿›äº†","like_count":12},{"had_liked":false,"id":193982,"user_name":"å¤œç©ºä¸­æœ€äº®çš„æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1585010292,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"40239715956","product_id":100046801,"comment_content":"ç”µå•†ç›´æ¥æç¤ºï¼Œè®¢å•ç¨åæŸ¥è¯¢ğŸ˜„","like_count":9},{"had_liked":false,"id":193959,"user_name":"å®‰æ’","can_delete":false,"product_type":"c1","uid":1260026,"ip_address":"","ucode":"F78CFA9624CAEF","user_header":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","comment_is_top":false,"comment_ctime":1585007632,"is_pvip":false,"replies":[{"id":"73924","content":"éƒ¨ç½²åœ¨ä¸€èµ·ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1585025790,"ip_address":"","comment_id":193959,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27354811408","product_id":100046801,"comment_content":"HAproxy keepalivedæ˜¯å’Œmysqléƒ¨ç½²åœ¨åŒä¸€å°æœºå™¨ä¸Šçš„å—ï¼Ÿè¿˜æ˜¯éƒ¨ç½²åœ¨å•ç‹¬çš„æœºå™¨ä¸Šçš„ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488714,"discussion_content":"éƒ¨ç½²åœ¨ä¸€èµ·ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585025790,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":202629,"user_name":"ä¸Šå±±ç æŸ´","can_delete":false,"product_type":"c1","uid":1059766,"ip_address":"","ucode":"F85D250C11ED70","user_header":"https://wx.qlogo.cn/mmopen/vi_32/4pFDynicvRnrTTRavia64UAknQjyX3KFfm67W4AZG52wm2TgwL1FWNX1zhIlIVgicPw2jzPqKASAib5nI1QfY6pc2Q/132","comment_is_top":false,"comment_ctime":1586018530,"is_pvip":false,"replies":[{"id":"76054","content":"å³ä½¿åšäº†è¯»å†™åˆ†ç¦»ï¼Œä¸€èˆ¬ä¹Ÿä¸ä¼šç”¨MySQLç›´æ¥æŠ—ç§’æ€è¯·æ±‚ï¼Œè¿˜æ˜¯éœ€è¦å‰ç½®ä¿æŠ¤æœºåˆ¶ï¼Œé¿å…å¤§é‡çš„è¯·æ±‚æ‰“åˆ°MySQLä¸Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586223258,"ip_address":"","comment_id":202629,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23060855010","product_id":100046801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼è¯»å†™åˆ†ç¦»åï¼Œæ˜¯å¦å¯ä»¥æ»¡è¶³é«˜å¹¶å‘å†™å‘¢ï¼Œæ¯”å¦‚ç§’æ€ç³»ç»Ÿï¼Œèƒ½å¤Ÿæ»¡è¶³ç¬é—´å¤§é‡è®¢å•åˆ›å»ºå†™æ•°æ®åº“å—ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490637,"discussion_content":"å³ä½¿åšäº†è¯»å†™åˆ†ç¦»ï¼Œä¸€èˆ¬ä¹Ÿä¸ä¼šç”¨MySQLç›´æ¥æŠ—ç§’æ€è¯·æ±‚ï¼Œè¿˜æ˜¯éœ€è¦å‰ç½®ä¿æŠ¤æœºåˆ¶ï¼Œé¿å…å¤§é‡çš„è¯·æ±‚æ‰“åˆ°MySQLä¸Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586223258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":194907,"user_name":"leslie","can_delete":false,"product_type":"c1","uid":1324255,"ip_address":"","ucode":"798E7C1CC98CC2","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg","comment_is_top":false,"comment_ctime":1585119264,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"23059955744","product_id":100046801,"comment_content":"HAProxy+Keepalivedè¿™å¥—æ¶æ„ï¼šæŒºå¥½æŒºç¨³å®šï¼Œä¸šç•Œä½¿ç”¨ç‡å¾ˆé«˜ã€‚<br>å·æ‡’ç‚¹å¯ä»¥ç›´æ¥ç”¨äº‘å‚å•†ï¼Œä¸è¿‡è¯»å†™åˆ†ç¦»çš„èƒ½åŠ›ç¡®å®ä¸æ•¢æ­ç»´ã€‚","like_count":5,"discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366313,"discussion_content":"è¯»å†™åˆ†ç¦»ï¼Œä¸æ˜¯å»ºè®®ä½¿ç”¨ç»„ä»¶æ–¹å¼ï¼šSharding-JDBCå˜›ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618026655,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1794060,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/60/0c/e1f012cb.jpg","nickname":"frankie","note":"","ucode":"813D1352B68A21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287507,"discussion_content":"åªèƒ½åšåˆ°è´Ÿè½½å‡è¡¡å’Œé«˜å¯ç”¨å§ï¼ŸçœŸçš„è¯»å†™åˆ†ç¦»éœ€è¦å…¶ä»–ä¸­é—´ä»¶äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593459850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":194041,"user_name":"æ€€æœ”","can_delete":false,"product_type":"c1","uid":1006865,"ip_address":"","ucode":"52FAC1C2FD37B6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5d/11/e1f36640.jpg","comment_is_top":false,"comment_ctime":1585017701,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18764886885","product_id":100046801,"comment_content":"ç°åœ¨ä¸»æµçš„éƒ½æ˜¯ç”¨proxyçš„<br><br>ä¸»å¤‡å»¶è¿Ÿæ€ä¹ˆè§£å†³å‘¢ï¼Ÿ <br>1ã€å¼€å¯åŠåŒæ­¥æ–¹æ¡ˆ<br>2ã€å°½é‡åœ¨ä¸»åº“é‡Œé¢å‡å°‘å¤§äº‹åŠ¡ã€ä½¿ç”¨ä¸å‡åŒ€çš„è¯å¼€å¯å†™åè€ƒè™‘ä¸»åº“è¯»<br>3ã€æœ‰èƒ½åŠ›çš„è¯ åˆ†åº“åˆ†è¡¨<br>4ã€å¢åŠ ä»åº“æ€§èƒ½<br>5ã€å¦‚æœå®åœ¨æ— æ³•è¿½å¹³ ä»æ–°åšä»åº“å§","like_count":4},{"had_liked":false,"id":193962,"user_name":"Mq","can_delete":false,"product_type":"c1","uid":1178359,"ip_address":"","ucode":"041F572AFAB275","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/f7/91ac44c5.jpg","comment_is_top":false,"comment_ctime":1585008401,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18764877585","product_id":100046801,"comment_content":"        æˆ‘ä»¬ç³»ç»Ÿç°åœ¨ä»åº“æ²¡æœ‰haçš„é…ç½®ï¼Œåœ¨æ£€æµ‹åˆ°ä¸»ä»å»¶è¿Ÿå¤§äºå‡ ç§’åæˆ–æ•…éšœåï¼ŒæŠŠæ•°æ®æºè‡ªåŠ¨åˆ‡æ¢åˆ‡æ¢åˆ°ä¸»åº“ï¼Œå¦‚æœæ£€æµ‹ä¸€æ®µæ—¶é—´å»¶é•¿å‡å°‘åˆæŠŠæ•°æ®æºåˆ‡æ¢åˆ°ä»åº“ï¼Œè¿™ç§æ–¹å¼ç›®å‰è¿˜è¡Œï¼Œå¦‚æœå¹¶å‘çœŸä¸Šæ¥äº†ï¼Œç„¶åä¸»ä»åŒæ­¥å»¶è¿ŸåŠ å¤§å¯¼è‡´åˆ‡æ¢åˆ°ä¸»åº“ï¼Œå¯èƒ½æŠŠä¸»åº“ä¹ŸææŒ‚ã€‚<br>         ç¼“å­˜æœ‰2å±‚ï¼Œä¸€å±‚æ˜¯æ¸ é“ç«¯ï¼Œç­–ç•¥æ˜¯æˆ‘ä»¬æœ‰æ›´æ–°äº†å‘mqæ¶ˆæ¯é€šçŸ¥ä»–ä»¬åˆ é™¤ï¼Œä¸€å±‚æ˜¯æˆ‘ä»¬ç³»ç»Ÿåœ¨æœ‰å¯¼è‡´æ•°æ®å˜æ›´çš„æ¥å£è°ƒç”¨åä¼šåˆ·ç¼“å­˜ï¼Œç­–ç•¥æ˜¯æŸ¥ä¸»åº“æŠŠæ•°æ®å¼„åˆ°ç¼“å­˜ï¼Œå¦å¤–å°±æ˜¯è®¾ç½®ç¼“å­˜å¤±æ•ˆæ—¶é—´ï¼Œåœ¨å›åˆ°çœ‹æ•°æ®çš„é¡µé¢ä¹Ÿè¦å‡ ç§’ï¼Œè¿™ç§é’ˆå¯¹æ´»è·ƒçš„æ•°æ®æœ‰è¾ƒå¥½çš„æ•ˆæœï¼Œä¸æ´»è·ƒçš„æ•°æ®ä¹Ÿæ²¡æœ‰æ•°æ®å»¶è¿Ÿçš„é—®é¢˜","like_count":4},{"had_liked":false,"id":243853,"user_name":"ç¿çƒ‚æ˜å¤©","can_delete":false,"product_type":"c1","uid":1322455,"ip_address":"","ucode":"07DA56B0680D0C","user_header":"https://static001.geekbang.org/account/avatar/00/14/2d/d7/74fc8f38.jpg","comment_is_top":false,"comment_ctime":1598312643,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5893279939","product_id":100046801,"comment_content":"è€å¸ˆï¼ŒHAProxy+Keepalivedè¿™ä¸ªæ–¹æ¡ˆå…·ä½“æ˜¯æ€ä¹ˆåšçš„ï¼Œè°¢è°¢","like_count":1},{"had_liked":false,"id":206660,"user_name":"é—«å†¬","can_delete":false,"product_type":"c1","uid":1109691,"ip_address":"","ucode":"1725E869D5A3D3","user_header":"https://static001.geekbang.org/account/avatar/00/10/ee/bb/7afd6824.jpg","comment_is_top":false,"comment_ctime":1586914473,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5881881769","product_id":100046801,"comment_content":"æè€å¸ˆ ä¸»ä»å»¶è¿Ÿæ—¶é—´æ¯”è¾ƒçŸ­çš„æƒ…å†µ å¯ä»¥åœ¨è®¾è®¡ä¸Šè§£å†³ å¦‚æœå»¶è¿Ÿæ—¶é—´æ¯”è¾ƒé•¿å‘¢","like_count":1},{"had_liked":false,"id":198605,"user_name":"æœ¨å¤´å‘èŠ½","can_delete":false,"product_type":"c1","uid":1419723,"ip_address":"","ucode":"657B381C5DA963","user_header":"https://static001.geekbang.org/account/avatar/00/15/a9/cb/a431bde5.jpg","comment_is_top":false,"comment_ctime":1585459198,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5880426494","product_id":100046801,"comment_content":"é˜¿é‡Œäº‘çš„rdsè‡ªå¸¦è¯»å†™åˆ†ç¦»åŠŸèƒ½ï¼Œè¿æ¥æ•°æ®åº“æ˜¯ä¸€ä¸ªurlï¼Œå®ƒé€šè¿‡åˆ†æsqlè¯­å¥æ¥å†³å®šï¼Œæ›´æ–°å’Œäº‹åŠ¡è·¯ç”±åˆ°ä¸»åº“ï¼Œè¯»å†™åˆ°åªè¯»ä»åº“ï¼Œå¯¹å¼€å‘æ¥è¯´æ— æ„ŸçŸ¥ï¼Œè¿ç»´åªè¦æ ¹æ®å‹åŠ›æƒ…å†µå¢åŠ æˆ–å‡å°‘ä¸»ä»èŠ‚ç‚¹å°±å¥½ã€‚<br>ä½†è€å¸ˆæ˜¯ä¸æ˜¯æ²¡æœ‰è¯´å½“å•è¡¨é‡å¤ªå¤§çš„æ—¶å€™ï¼Œè¯»å†™åˆ†ç¦»å¹¶ä¸èƒ½è§£å†³å‹åŠ›é—®é¢˜ï¼Œè¿˜å¾—åˆ†åº“","like_count":1,"discussions":[{"author":{"id":2297346,"avatar":"https://static001.geekbang.org/account/avatar/00/23/0e/02/41099234.jpg","nickname":"Django...","note":"","ucode":"56693F8A886FF0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379853,"discussion_content":"å•è¡¨é‡å¤§æ—¶ï¼Œç¡®å®éœ€è¦è€ƒè™‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624192152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":195556,"user_name":"Regis","can_delete":false,"product_type":"c1","uid":1435632,"ip_address":"","ucode":"3911E4EDE27F4E","user_header":"https://static001.geekbang.org/account/avatar/00/15/e7/f0/d0bf3a5f.jpg","comment_is_top":false,"comment_ctime":1585196935,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5880164231","product_id":100046801,"comment_content":"æˆ‘ä»¬å…¬å¸webå¼€å‘æ‰åˆšåˆšèµ·æ­¥ï¼Œä¸»è¦å…¬å¸å†…éƒ¨ä½¿ç”¨ï¼Œè¿˜ç”¨ä¸åˆ°è¯»å†™åˆ†ç¦»ï¼Œä¸è¿‡è€å¸ˆè®²çš„å¾ˆé€å½»ï¼Œç»ˆäºçŸ¥é“ä¸ºä»€ä¹ˆæœ‰äº›ç½‘ç«™æ”¯ä»˜åä¼šæœ‰å‡ ç§’ç­‰å¾…æ‰ä¼šè¿”å›ç»“æœäº†","like_count":2},{"had_liked":false,"id":194139,"user_name":"è‚¥low","can_delete":false,"product_type":"c1","uid":1043480,"ip_address":"","ucode":"A158AFAAB8C742","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/18/bf7254d3.jpg","comment_is_top":false,"comment_ctime":1585029918,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879997214","product_id":100046801,"comment_content":"ä¸»ä»åŒæ­¥çš„é—®é¢˜ç»å¸¸é‡åˆ°,è™½ç„¶é‡‡ç”¨å…¬æœ‰äº‘,ä½†æ˜¯å¾ˆå¤šæ—¶å€™éƒ½ä¸èƒ½ä¿è¯æ¯«ç§’çº§å“åº”,æˆ‘è¿™é‡Œçš„æ–¹æ¡ˆæ˜¯,å¦‚æœå­˜åœ¨DML,å¹¶ä¸”ä¸šåŠ¡æ–¹å¯¹å®æ—¶æ€§è¦æ±‚å¾ˆé«˜çš„è¯,é‚£ä¸šåŠ¡ä¸ŠæŠŠæ•°æ®æ”¾åˆ°Redisè¿™ç§é«˜æ€§èƒ½çš„Cacheä¸­å»,å¦‚æœè¦æ±‚ä¸é«˜å°±ç›´æ¥è¯»ä»åº“,è‡³äºå•¥æ—¶å€™ç”¨è¯»åº“ã€å•¥æ—¶å€™ç”¨ä¸»åº“,è¿™ä¸ªè·Ÿè€å¸ˆè¯´çš„ä¸€æ ·,æˆ‘ä»¬åœ¨æ¡†æ¶å±‚é¢å°±ç»™ä¿è¯äº†,å”¯ä¸€ç¼ºæ†¾å°±æ˜¯,å¦‚ä½•é™ä½å»¶è¿Ÿ,ä¸€ç›´åœ¨æ‘¸ç´¢ä¸­...","like_count":1},{"had_liked":false,"id":194113,"user_name":"è§‚å¼ˆé“äºº","can_delete":false,"product_type":"c1","uid":1016905,"ip_address":"","ucode":"F3BB619A33C605","user_header":"https://static001.geekbang.org/account/avatar/00/0f/84/49/47d48fd0.jpg","comment_is_top":false,"comment_ctime":1585026450,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879993746","product_id":100046801,"comment_content":"äº¬ä¸œé‚£ä¹ˆå¤§æ•°æ®é‡ï¼Œæ•°æ®åº”è¯¥è¿˜æ˜¯è¦åˆ†ç‰‡çš„ï¼Œæ²¡æ³•é¿å…","like_count":1},{"had_liked":false,"id":193991,"user_name":"èš‚èšå†…æ¨+v","can_delete":false,"product_type":"c1","uid":1050508,"ip_address":"","ucode":"24B10AEE54B3FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/8c/0d886dcc.jpg","comment_is_top":false,"comment_ctime":1585011235,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879978531","product_id":100046801,"comment_content":"å¯¹äºå¯èƒ½å­˜åœ¨ä¸»ä»å»¶è¿Ÿçš„åœ°æ–¹å¯ä»¥é‡‡å–å¼ºåˆ¶è¯»ä¸»åº“çš„æªæ–½ã€‚","like_count":1},{"had_liked":false,"id":193968,"user_name":"å³°","can_delete":false,"product_type":"c1","uid":1056019,"ip_address":"","ucode":"C53CB64E8E7D19","user_header":"https://static001.geekbang.org/account/avatar/00/10/1d/13/31ea1b0b.jpg","comment_is_top":false,"comment_ctime":1585008832,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5879976128","product_id":100046801,"comment_content":"å†™åè¯»ï¼Œèµ°ä¸»åº“","like_count":1},{"had_liked":false,"id":193941,"user_name":"åˆ˜æ¥ ","can_delete":false,"product_type":"c1","uid":1120773,"ip_address":"","ucode":"9F19D44CBEE039","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/05/f154d134.jpg","comment_is_top":false,"comment_ctime":1585002892,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879970188","product_id":100046801,"comment_content":"æˆ‘ä»¬å…¬å¸ç”¨çš„ä»£ç†çš„æ–¹å¼ï¼Œä¸»ä»å»¶è¿Ÿï¼Œæ›´æ–°å®Œå³è¯»çš„åœºæ™¯ä¸å¤šï¼Œå¼ºåˆ¶è¯»ä¸»åº“è§£å†³çš„ï¼Œ","like_count":1},{"had_liked":false,"id":351656,"user_name":"å¤šå­¦å¤šçœ‹å¤šè®°","can_delete":false,"product_type":"c1","uid":2276155,"ip_address":"","ucode":"0670C833007510","user_header":"https://static001.geekbang.org/account/avatar/00/22/bb/3b/6e020a32.jpg","comment_is_top":false,"comment_ctime":1658055924,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1658055924","product_id":100046801,"comment_content":"goåç«¯ï¼Œä»ç»„ä»¶å±‚é¢ï¼Œgormè€æ¡†æ¶éœ€è¦æ‰‹åŠ¨åŒºåˆ†readerå’Œwriterï¼Œæ–°æ¡†æ¶å°±ä¸éœ€è¦åŒºåˆ†äº†ï¼Œåœ¨æ¡†æ¶å†…ä¸åšäº†åˆ†ç¦»ï¼Œä¸šåŠ¡ä¸æ„ŸçŸ¥ã€‚åœ¨ç³»ç»Ÿå±‚é¢ï¼Œmysqlåˆåšäº†ä¸€å±‚ä»£ç†ï¼Œå†™è¯·æ±‚è·¯ç”±åˆ°ä»£ç†çš„3306ç«¯å£ï¼Œè¯»è¯·æ±‚è·¯ç”±åˆ°3307ç«¯å£ã€‚è™½ç„¶å¢åŠ äº†ä¸€å±‚ä»£ç†ï¼Œä½†æ˜¯åˆ†åº“åˆ†è¡¨æ˜¯æ— æ„ŸçŸ¥çš„ï¼Œä¸”å¯ä»¥æ›´å¥½åœ°æ¥å…¥k8sé›†ç¾¤","like_count":0},{"had_liked":false,"id":299256,"user_name":"å°å·","can_delete":false,"product_type":"c1","uid":1242573,"ip_address":"","ucode":"D462222DDBB978","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/cd/3890be04.jpg","comment_is_top":false,"comment_ctime":1624536131,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624536131","product_id":100046801,"comment_content":"æ•°æ®åº“çš„æŸ¥è¯¢ï¼Œæ˜¯ä¸æ˜¯é»˜è®¤ä¸å¸¦äº‹ç‰©çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":279512,"user_name":"ezekiel","can_delete":false,"product_type":"c1","uid":1158795,"ip_address":"","ucode":"AB4AB6FA8612D8","user_header":"https://static001.geekbang.org/account/avatar/00/11/ae/8b/43ce01ca.jpg","comment_is_top":false,"comment_ctime":1613810356,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1613810356","product_id":100046801,"comment_content":"Cache Asideæ¨¡å¼ï¼Œå¦‚æœåœ¨ç¼“å­˜å’Œæ•°æ®åº“é‡Œéƒ½åŠ ä¸Šæ•°æ®çš„ç‰ˆæœ¬å·ï¼Œæ˜¯å¦å¯ä»¥é¿å…æ›´æ–°çš„æ—¶å€™äº§ç”Ÿè„æ•°æ®çš„é—®é¢˜ï¼Ÿæˆ–è€…è¿™æ ·çš„æ¨¡å¼ä¼šä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2040025,"avatar":"","nickname":"æ²ˆç’","note":"","ucode":"923B574059D77F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376502,"discussion_content":"å¹¶å‘æƒ…å†µä¸‹ç”¨ç‰ˆæœ¬å·åˆ¤æ–­ä¹Ÿä¼šæœ‰é—®é¢˜ï¼Œè¦ä¸å¾—å¼•å…¥åˆ†å¸ƒå¼é”ï¼Œå¤æ‚äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622166851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":217116,"user_name":"seg-ä¸Šæµ·","can_delete":false,"product_type":"c1","uid":1760320,"ip_address":"","ucode":"46BA8DCB06ED5E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBllicLBj61g1ibmCeWzLYpQYEteTOtAAAypoIg6CD19ibXQBbM09VsME9Ta1G8ubwk0ibjiacItavibaeg/132","comment_is_top":false,"comment_ctime":1589422132,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589422132","product_id":100046801,"comment_content":"ä¸šåŠ¡qpsä¸€èˆ¬åˆ°ä»€ä¹ˆæ°´å¹³å°±è¦è¯»å†™åˆ†ç¦»äº†ï¼Œä¸Šæ¥å°±è®¾è®¡æˆè¯»å†™åˆ†ç¦»å¯ä»¥å—","like_count":0},{"had_liked":false,"id":211005,"user_name":"è¢«è¿‡å»æ¨å¼€","can_delete":false,"product_type":"c1","uid":1276690,"ip_address":"","ucode":"8B4F34FE93FD5B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Cib5umA0W17N9pichI08pnrXAExdbyh7AVzH4nEhD6KN3FXuELk4LJJuqUPPD7xmIy9nq5Hjbgnzic7sVZG5BKiaUQ/132","comment_is_top":false,"comment_ctime":1587880246,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587880246","product_id":100046801,"comment_content":"å…¬å¸çš„ä¸šåŠ¡é‡ä¸æ˜¯å¾ˆå¤§ï¼Œé‡‡ç”¨äº†ä¸¤ä¸ªæ•°æ®æºï¼Œç”¨aopçš„æ–¹å¼åŠ¨æ€åˆ‡æ¢æ•°æ®æº","like_count":0},{"had_liked":false,"id":207824,"user_name":"ç‹æ°","can_delete":false,"product_type":"c1","uid":1944186,"ip_address":"","ucode":"53CC01032E4A25","user_header":"","comment_is_top":false,"comment_ctime":1587191151,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587191151","product_id":100046801,"comment_content":"ä¸€èˆ¬æ˜¯æ•°æ®åˆ†ç‰‡ï¼ŒåŠ è¯»å†™åˆ†ç¦»ï¼Œå¯¹äºé‚£äº›å®æ—¶è¦ç”¨çš„æ”¾åˆ°åŒä¸€ä¸ªæ•°æ®åº“äº‹åŠ¡ä¸­å»ï¼Œç›¸å½“äºéƒ¨åˆ†çš„è¯»ä¹Ÿæ˜¯ç”¨çš„ä¸»åº“","like_count":0},{"had_liked":false,"id":194074,"user_name":"hello","can_delete":false,"product_type":"c1","uid":1464199,"ip_address":"","ucode":"854500026E2187","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKhuGLVRYZibOTfMumk53Wn8Q0Rkg0o6DzTicbibCq42lWQoZ8lFeQvicaXuZa7dYsr9URMrtpXMVDDww/132","comment_is_top":false,"comment_ctime":1585021244,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1585021244","product_id":100046801,"comment_content":"é€šè¿‡ä¸­é—´ä»¶å®ç°è¯»å†™åˆ†ç¦»ï¼Œäº‹åŠ¡å†…çš„å¼ºè‡´èµ°ä¸»åº“ï¼ˆä¸­é—´ä»¶æ–¹å¼é‡åˆ°çš„é—®é¢˜æœ‰ï¼šå¢åŠ è¿ç»´æˆæœ¬ï¼Œå¤šäº†ä¸€æ¬¡ç½‘ç»œè¯·æ±‚ï¼ŒåŒæ—¶åœ¨è€ƒè™‘æ•…éšœéš”ç¦»æ—¶æ²¡æƒ³åˆ°å¥½çš„æ–¹æ¡ˆï¼‰ã€‚ç›®å‰å› ç³»ç»Ÿåœ¨é‡æ„ï¼Œæƒ³å°†ä¸­é—´ä»¶çš„å®ç°æ–¹å¼æ”¹æˆç»„ä»¶æ–¹å¼ï¼ŒåŒæ—¶æƒ³å°†å…³ç³»åº“çš„æ•°æ®å®æ—¶åŒæ­¥è‡³MongoDBä¸­ï¼ˆåŒæ­¥æ—¶ä¼šè°ƒæ•´æ•°æ®æ¨¡å‹ä¾¿äºæŸ¥è¯¢ï¼‰ï¼Œå½“åšä»åº“ä¾›æŸ¥è¯¢ä½¿ç”¨ã€‚","like_count":0,"discussions":[{"author":{"id":1006865,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5d/11/e1f36640.jpg","nickname":"æ€€æœ”","note":"","ucode":"52FAC1C2FD37B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":212872,"discussion_content":"å¯ä»¥è€ƒè™‘ es æˆ–è€… äº‘åŒ–æœç´¢å†…å­˜å‹æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585026631,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1464199,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKhuGLVRYZibOTfMumk53Wn8Q0Rkg0o6DzTicbibCq42lWQoZ8lFeQvicaXuZa7dYsr9URMrtpXMVDDww/132","nickname":"hello","note":"","ucode":"854500026E2187","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1006865,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5d/11/e1f36640.jpg","nickname":"æ€€æœ”","note":"","ucode":"52FAC1C2FD37B6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":213486,"discussion_content":"å¤šè°¢å»ºè®®ï¼Œæˆ‘ä»¬ä¸šåŠ¡æ•°æ®éœ€è¦å¤æ‚sqlå’Œå­˜å‚¨çš„æ¨ªå‘æ‰©å±•èƒ½åŠ›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585098758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":212872,"ip_address":""},"score":213486,"extra":""},{"author":{"id":1006865,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5d/11/e1f36640.jpg","nickname":"æ€€æœ”","note":"","ucode":"52FAC1C2FD37B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1464199,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKhuGLVRYZibOTfMumk53Wn8Q0Rkg0o6DzTicbibCq42lWQoZ8lFeQvicaXuZa7dYsr9URMrtpXMVDDww/132","nickname":"hello","note":"","ucode":"854500026E2187","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":213540,"discussion_content":"ç¬¬äºŒä¸ªäº§å“å¯ä»¥è§£å†³å¤æ‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585103401,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":213486,"ip_address":""},"score":213540,"extra":""}]}]},{"had_liked":false,"id":194016,"user_name":"å—å±±","can_delete":false,"product_type":"c1","uid":1119593,"ip_address":"","ucode":"94656FE4A6C378","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","comment_is_top":false,"comment_ctime":1585015118,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1585015118","product_id":100046801,"comment_content":"æ ¹æºè§£å†³ä¸äº†å°±ç»•è¿‡å»ã€‚æˆ–è€…æ˜¯æƒ³åŠæ³•è§„é¿ï¼Œç›®æ ‡å°±æ˜¯ä¸šåŠ¡æ— å½±å“ã€‚<br>å¯¹ä¸»ä»å»¶è¿Ÿæ•æ„Ÿçš„åœºæ™¯å¼ºåˆ¶èµ°ä¸»åº“ï¼Œç”¨ç»„ä»¶çš„æ–¹å¼+hintå¾ˆå®¹æ˜“åˆ‡æ¢æ˜¯ä»ä¸»è¿˜æ˜¯ä»è¯»æ•°æ®<br>è¿˜æœ‰æ¯”è¾ƒå…³é”®çš„æ˜¯è§„é¿å¯¼è‡´ä¸»ä»å»¶è¿Ÿå¢å¤§","like_count":0},{"had_liked":false,"id":193950,"user_name":"webmin","can_delete":false,"product_type":"c1","uid":1047014,"ip_address":"","ucode":"98B0CA882454E8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f9/e6/47742988.jpg","comment_is_top":false,"comment_ctime":1585006399,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"1585006399","product_id":100046801,"comment_content":"å¯¹äºæ•°æ®é‡å¤§ï¼Œä½†æ˜¯æŸ¥è¯¢é‡å°ï¼Œæˆ–è€…æŸ¥è¯¢å†å²æ•°æ®æŸ¥è¯¢é‡å¤§çš„åœºæ™¯ï¼Œè¾¾åˆ°æœ€ç»ˆçŠ¶æ€çš„è®°å½•åŒå†™ä¸€ä»½åˆ°ESä¸­ï¼ŒæŸ¥è¯¢æ—¶è¿‘æœŸæ•°æ®æŸ¥DBï¼Œè¿œæœŸæ•°æ®æŸ¥è¯¢ES","like_count":0,"discussions":[{"author":{"id":1975581,"avatar":"http://thirdwx.qlogo.cn/mmopen/2kpMNDYsSfCnhAYmvAsNcYKyNLUJG5iax9BKgXAJzxypEJGRVwhibjZ53S5icgEDibn8uqrqwsKcxzEXfRRUXTdqjA/132","nickname":"å²³å®œæ³¢","note":"","ucode":"5043CA250FDCB1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":250522,"discussion_content":"åŒå†™å¦‚ä½•ä¿è¯æ•°æ®ä¸€è‡´å‘¢ï¼ŸESå’ŒDBæ•°æ®ä¸ä¸€è‡´æ€ä¹ˆåŠ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588006328,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1433535,"avatar":"https://static001.geekbang.org/account/avatar/00/15/df/bf/96b50d1e.jpg","nickname":"ğŸ˜š 46","note":"","ucode":"EED0EBBBF80A43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1975581,"avatar":"http://thirdwx.qlogo.cn/mmopen/2kpMNDYsSfCnhAYmvAsNcYKyNLUJG5iax9BKgXAJzxypEJGRVwhibjZ53S5icgEDibn8uqrqwsKcxzEXfRRUXTdqjA/132","nickname":"å²³å®œæ³¢","note":"","ucode":"5043CA250FDCB1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":268246,"discussion_content":"æœ€ç»ˆçŠ¶æ€çš„æ•°æ®è¢«å†æ¬¡ä¿®æ”¹çš„å¯èƒ½æ€§ä¸å¤§ï¼Œå¹¶ä¸”é€‚åˆå½’æ¡£å­˜å‚¨ã€‚å®ç°æ•°æ®çš„å†·çƒ­åˆ†ç¦»ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡å’Œå­˜å‚¨æ€§èƒ½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589736873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":250522,"ip_address":""},"score":268246,"extra":""}]}]}]}
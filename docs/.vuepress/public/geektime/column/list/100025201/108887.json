{"id":108887,"title":"26 | å®æˆ˜ï¼ˆä¸€ï¼‰ï¼šæ€ä¹ˆè®¾è®¡ä¸€ä¸ªâ€œç”»å›¾â€ç¨‹åºï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ä¸ƒç‰›äº‘è®¸å¼ä¼Ÿã€‚</p><p>åˆ°ä¸Šä¸€è®²ä¸ºæ­¢ï¼Œæ¡Œé¢ç¨‹åºæ¶æ„è®¾è®¡çš„åŸºæœ¬ç»“æ„å°±è®²å®Œäº†ã€‚ç›´åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬æ²¡æœ‰è®¨è®ºä»»ä½•ä¸å…·ä½“çš„åº”ç”¨ä¸šåŠ¡é€»è¾‘æœ¬èº«ç›¸å…³çš„å†…å®¹ã€‚è¿™æ˜¯å› ä¸ºæ¢è®¨çš„å†…å®¹æ˜¯æ™®é€‚æœ‰æ•ˆçš„è®¾è®¡ç†å¿µï¼Œæ•´ä¸ªè®¨è®ºä¼šæ˜¾å¾—å¾ˆæŠ½è±¡ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬ç»“åˆä¸€ä¸ªå®é™…çš„åº”ç”¨æ¡ˆä¾‹ï¼Œæ¥å›é¡¾ä¸€ä¸‹å‰é¢æˆ‘ä»¬ä»‹ç»çš„å†…å®¹ã€‚</p><p>æˆ‘ä»¬é€‰æ‹©äº†åšä¸€ä¸ª â€œç”»å›¾â€ ç¨‹åºã€‚é€‰å®ƒä¸»è¦çš„åŸå› æ˜¯ç”»å›¾ç¨‹åºæ¯”è¾ƒå¸¸è§ï¼Œéœ€æ±‚ä¸Šä¸éœ€è¦èŠ±è´¹è¿‡å¤šçš„æ—¶é—´æ¥é™ˆè¿°ã€‚</p><p>æˆ‘ä»¬å‰é¢è¯´è¿‡ï¼Œä¸€ä¸ª B/S ç»“æ„çš„ Web ç¨‹åºï¼ŒåŸºæœ¬ä¸Šåˆ†ä¸‹é¢å‡ å—å†…å®¹ã€‚</p><ul>\n<li>Model å±‚ï¼šä¸€ä¸ªå¤šç”¨æˆ·ï¼ˆMulti-Userï¼‰çš„ Model å±‚ï¼Œå’Œå•ç§Ÿæˆ·çš„ Session-based Modelã€‚ä»æœåŠ¡ç«¯æ¥è¯´ï¼ŒSession-based Model æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„è½¬è¯‘å±‚ã€‚ä½†æ˜¯ä»æµè§ˆå™¨ç«¯æ¥è¯´ï¼ŒSession-based Model æ˜¯ä¸€ä¸ªå®Œæ•´çš„å•ç§Ÿæˆ· DOM æ¨¡å‹ã€‚</li>\n<li>View å±‚ï¼šå®é™…æ˜¯ ViewModel å±‚ï¼ŒçœŸæ­£çš„ View å±‚è¢«æµè§ˆå™¨å®ç°äº†ã€‚ViewModel åªæœ‰ View å±‚çš„æ•°æ®å’Œå¯è¢«å§”æ‰˜çš„äº‹ä»¶ã€‚</li>\n<li>Controller å±‚ï¼šç”±å¤šä¸ªç›¸äº’è§£è€¦çš„ Controller æ„æˆã€‚åˆ‡è®°ä¸è¦è®© Controller ä¹‹é—´ç›¸äº’çŸ¥é“å¯¹æ–¹ï¼Œæ›´ä¸è¦è®© View çŸ¥é“æŸä¸ªå…·ä½“çš„ Controller å­˜åœ¨ã€‚</li>\n</ul><p>ç”»å›¾ç¨‹åºçš„æºä»£ç å¯ä»¥åœ¨ Github ä¸Šä¸‹è½½ï¼Œåœ°å€å¦‚ä¸‹ï¼š</p><!-- [[[read_end]]] --><ul>\n<li><a href=\"https://github.com/qiniu/qpaint\">https://github.com/qiniu/qpaint</a></li>\n</ul><p>ä»Šå¤©æˆ‘ä»¬è®¨è®ºæµè§ˆå™¨ç«¯çš„ Modelï¼ŒView å’Œ Controllerã€‚</p><h2>Model å±‚</h2><p>æˆ‘ä»¬å…ˆçœ‹ Model å±‚ã€‚æµè§ˆå™¨ç«¯çš„ Model å±‚ï¼Œä»£ç å°±æ˜¯ä¸€ä¸ª <a href=\"https://github.com/qiniu/qpaint/blob/v26/paintweb/www/dom.js\">dom.js</a> æ–‡ä»¶ã€‚å®ƒæ˜¯ä¸€æ£µ DOM æ ‘ï¼Œæ ¹èŠ‚ç‚¹ä¸º QPaintDoc ç±»ã€‚æ•´ä¸ª DOM æ ‘çš„è§„æ ¼å¦‚ä¸‹ï¼š</p><pre><code>class QLineStyle {\nproperties:\n  width: number\n  color: string\nmethods:\n  constructor(width: number, color: string)\n}\n\nclass QLine {\nproperties:\n  pt1, pt2: Points\n  lineStyle: QLineStyle\nmethods:\n  constructor(pt1, pt2: Point, lineStyle: QLineStyle)\n  onpaint(ctx: CanvasRenderingContext2D): void\n}\n\nclass QRect {\nproperties:\n  x, y, width, height: number\n  lineStyle: QLineStyle\nmethods:\n   constructor(r: Rect, lineStyle: QLineStyle)\n   onpaint(ctx: CanvasRenderingContext2D): void\n}\n\nclass QEllipse {\nproperties:\n  x, y, radiusX, radiusY: number\n  lineStyle: QLineStyle\nmethods:\n   constructor(x, y, radiusX, radiusY: number, lineStyle: QLineStyle)\n   onpaint(ctx: CanvasRenderingContext2D): void\n}\n\nclass QPath {\nproperties:\n  points: []Point\n  close: bool\n  lineStyle: QLineStyle\nmethods:\n   constructor(points: []Point, close: bool, lineStyle: QLineStyle)\n   onpaint(ctx: CanvasRenderingContext2D): void\n}\n\ninterface Shape {\n  onpaint(ctx: CanvasRenderingContext2D): void\n}\n\nclass QPaintDoc {\nmethods:\n  addShape(shape: Shape): void\n  onpaint(ctx: CanvasRenderingContext2D): void\n}\n</code></pre><p>ç›®å‰è¿™ä¸ª DOM è¿˜æ˜¯å•æœºç‰ˆæœ¬çš„ï¼Œæ²¡æœ‰å’ŒæœåŠ¡ç«¯çš„ Session-based Model è¿èµ·æ¥ã€‚å…³äºæ€ä¹ˆè¿ï¼Œæˆ‘ä»¬ä¸‹ä¸€è®²å†è®¨è®ºã€‚</p><p>è¿™ä¸ª Model å±‚çš„ä½¿ç”¨æ˜¯éå¸¸å®¹æ˜“ç†è§£çš„ï¼Œä¹Ÿéå¸¸ç›´è§‚ä½“ç°äº†ä¸šåŠ¡ã€‚ä¸»è¦æ”¯æŒçš„èƒ½åŠ›æœ‰ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢ã€‚</p><p>å…¶ä¸€ï¼Œæ·»åŠ å›¾å½¢ï¼ˆShapeï¼‰ï¼Œå¯ä»¥æ˜¯ QLineï¼ŒQRectï¼ŒQEllipseï¼ŒQPath ç­‰ç­‰ã€‚</p><p>å…¶äºŒï¼Œç»˜åˆ¶ï¼ˆonpaintï¼‰ã€‚å‰é¢æˆ‘ä»¬ä»‹ç» MVC çš„æ—¶å€™ï¼Œæˆ‘æ›¾æåˆ°ä¸ºäº† View å±‚èƒ½å¤Ÿç»˜åˆ¶ï¼Œéœ€è¦è®© DOM å±‚æŠŠè‡ªå·±çš„æ•°æ®æš´éœ²ç»™ View å±‚ã€‚</p><p>ä½†æ˜¯ä»ç®€æ´çš„æ–¹å¼æ¥è¯´ï¼Œæ˜¯è®© Model å±‚è‡ªå·±æ¥ç»˜åˆ¶ï¼Œè¿™æ ·å°±é¿å…æš´éœ² DOM å±‚çš„å®ç°ç»†èŠ‚ã€‚è™½ç„¶è¿™æ ·è®© Model å±‚å˜å¾—æœ‰é‚£ä¹ˆä¸€ç‚¹ç‚¹ä¸çº¯ç²¹ï¼Œå› ä¸ºå’Œ GDI è€¦åˆäº†ã€‚ä½†æ˜¯æˆ‘ä¸ªäººè®¤ä¸ºè€¦åˆ GDI æ¯”æš´éœ² DOM çš„æ•°æ®ç»†èŠ‚è¦å¥½ï¼Œå› ä¸º GDI çš„æ¥å£é€šå¸¸æ¥è¯´æ›´ç¨³å®šã€‚</p><p>ä¾èµ–é€‰æ‹©æ˜¯è€ƒè™‘è€¦åˆçš„ä¸€ä¸ªå…³é”®å› ç´ ã€‚åœ¨ä¾èµ–é€‰æ‹©ä¸Šï¼Œæˆ‘ä»¬ä¼šæ›´å€¾å‘äºä¾èµ–æ¥å£æ›´ä¸ºç¨³å®šçš„ç»„ä»¶ï¼Œå› ä¸ºè¿™æ„å‘³ç€æˆ‘ä»¬çš„æ¥å£ä¹Ÿæ›´ç¨³å®šã€‚</p><h2>ViewModel å±‚</h2><p>æˆ‘ä»¬å†çœ‹ ViewModel å±‚ã€‚å®ƒçš„ä»£ç ä¸»è¦æ˜¯ä¸€ä¸ª <a href=\"https://github.com/qiniu/qpaint/blob/v26/paintweb/www/index.htm\">index.htm</a> æ–‡ä»¶å’Œä¸€ä¸ª <a href=\"https://github.com/qiniu/qpaint/blob/v26/paintweb/www/view.js\">view.js</a> æ–‡ä»¶ã€‚index.htm æ˜¯æ€»æ§æ–‡ä»¶ï¼Œä¸»è¦åŒ…å«ä¸¤ä¸ªä¸œè¥¿ï¼š</p><ul>\n<li>ç•Œé¢å¸ƒå±€ï¼ˆLayoutï¼‰ï¼›</li>\n<li>åº”ç”¨åˆå§‹åŒ–ï¼ˆInitApplicationï¼‰ï¼Œæ¯”å¦‚åŠ è½½å“ªäº› Controllersã€‚</li>\n</ul><p>è€Œ <a href=\"https://github.com/qiniu/qpaint/blob/v26/paintweb/www/view.js\">view.js</a> æ˜¯æˆ‘ä»¬ ViewModel å±‚çš„æ ¸å¿ƒï¼Œå®ç°äº† QPaintView ç±»ã€‚å®ƒçš„è§„æ ¼å¦‚ä¸‹ï¼š</p><pre><code>interface Controller {\n  stop(): void\n  onpaint(ctx: CanvasRenderingContext2D): void\n}\n\nclass QPaintView {\nproperties:\n  doc: QPaintDoc\n  properties: {\n    lineWidth: number\n    lineColor: string\n  }\n  drawing: DOMElement\n  controllers: map[string]Controller\nmethods:\n  get currentKey: string\n  get lineStyle: QLineStyle\n  onpaint(ctx: CanvasRenderingContext2D): void\n  invalidateRect(rect: Rect): void\n  registerController(name: string, controller: Controller): void\n  invokeController(name: string): void\n  stopController(): void\n  getMousePos(event: DOMEvent): Point\nevents:\n  onmousedown: (event: DOMEvent):void\n  onmousemove: (event: DOMEvent):void\n  onmouseup: (event: DOMEvent):void\n  ondblclick: (event: DOMEvent):void\n  onkeydown: (event: DOMEvent):void\n}\n\nvar qview = new QPaintView()\n</code></pre><p>çœ‹èµ·æ¥ QPaintView çš„å†…å®¹æœ‰ç‚¹å¤šï¼Œæˆ‘ä»¬å½’ç±»ä¸€ä¸‹ï¼š</p><p><strong>å’Œ Model å±‚ç›¸å…³çš„ï¼Œå°±åªæœ‰ doc: QPaintDoc è¿™ä¸ªæˆå‘˜ã€‚æœ‰äº†å®ƒå°±å¯ä»¥æ“ä½œ Model å±‚äº†ã€‚</strong></p><p><strong>å±äº ViewModel å±‚è‡ªèº«çš„ï¼Œæ•°æ®ä¸Šåªæœ‰ properties å’Œ drawingã€‚</strong>å…¶ä¸­ properties æ˜¯å…¸å‹çš„ ViewModel æ•°æ®ï¼Œç”¨æ¥è¡¨ç¤ºå½“å‰ç”¨æˆ·é€‰æ‹©çš„ lineWidth å’Œ lineColor ç­‰ã€‚drawing åˆ™æ˜¯æµè§ˆå™¨å¯¹ HTML å…ƒç´ çš„æŠ½è±¡ï¼Œé€šè¿‡å®ƒä»¥åŠ JavaScript å…¨å±€çš„ document å¯¹è±¡å°±å¯ä»¥æ“ä½œ HTML DOM äº†ã€‚</p><p>å½“ç„¶ ViewModel å±‚ä¸€ä¸ªå¾ˆé‡è¦çš„è´£ä»»æ˜¯ç»˜åˆ¶ã€‚onpaint å’Œ invalidRect éƒ½æ˜¯ç»˜åˆ¶ç›¸å…³ã€‚invalidRect æ˜¯è®©ç•Œé¢çš„æŸä¸ªåŒºåŸŸé‡æ–°ç»˜åˆ¶ã€‚å½“å‰ä¸ºäº†å®ç°ç®€å•ï¼Œæˆ‘ä»¬æ€»æ˜¯æ•´ä¸ª View å…¨éƒ¨é‡æ–°ç»˜åˆ¶ã€‚</p><p>å‰é¢æˆ‘è¯´è¿‡ï¼Œ Web å¼€å‘ä¸€ä¸ªå¾ˆé‡è¦çš„ä¼˜åŠ¿æ˜¯ä¸ç”¨è‡ªå·±å¤„ç†å±€éƒ¨æ›´æ–°é—®é¢˜ï¼Œä¸ºä»€ä¹ˆè¿™é‡Œæˆ‘ä»¬å´åˆè¦è‡ªå·±å¤„ç†å‘¢ï¼ŸåŸå› æ˜¯æˆ‘ä»¬æ²¡æœ‰ç”¨æµè§ˆå™¨çš„ Virtual Viewï¼Œæ•´ä¸ª DOM çš„æ•°æ®ç»„ç»‡å®Œå…¨è‡ªå·±ç®¡ç†ï¼Œè¿™æ ·æˆ‘ä»¬é¢ä¸´çš„é—®é¢˜å°±å’Œä¼ ç»Ÿæ¡Œé¢å¼€å‘å®Œå…¨ä¸€è‡´ã€‚</p><p>å‰©ä¸‹æ¥çš„å°±æ˜¯ Controller ç›¸å…³çš„äº†ã€‚ä¸»è¦åŠŸèƒ½æœ‰ï¼š</p><ul>\n<li>registerControllerï¼ˆç™»è®°ä¸€ä¸ª Controllerï¼‰ï¼ŒinvokeControllerï¼ˆæ¿€æ´»ä¸€ä¸ª Controller æˆä¸ºå½“å‰ Controllerï¼‰ï¼ŒstopControllerï¼ˆåœæ­¢å½“å‰ Controllerï¼‰ï¼ŒView å±‚å¹¶ä¸å…³å¿ƒå…·ä½“çš„ Controller éƒ½æœ‰äº›ä»€ä¹ˆï¼Œä½†æ˜¯ä¼šå¯¹å®ƒä»¬çš„è¡Œä¸ºè§„åˆ™è¿›è¡Œå®šä¹‰ï¼›</li>\n<li>äº‹ä»¶å§”æ‰˜ï¼ˆdelegateï¼‰ï¼Œå…è®¸ Controller é€‰æ‹©è‡ªå·±æ„Ÿå…´è¶£çš„äº‹ä»¶è¿›è¡Œå“åº”ï¼›</li>\n<li>getMousePos åªæ˜¯ä¸€ä¸ªè¾…åŠ©æ–¹æ³•ï¼Œç”¨æ¥è·å–é¼ æ ‡äº‹ä»¶ä¸­çš„é¼ æ ‡ä½ç½®ã€‚</li>\n</ul><p>View å±‚åœ¨ MVC é‡Œé¢æ˜¯æ‰¿ä¸Šå¯ä¸‹çš„æ¡¥æ¢ä½œç”¨ã€‚æ‰€ä»¥ View å±‚çš„è¾¹ç•Œè®¾å®šéå¸¸å…³é”®ã€‚</p><p>å¦‚æœæˆ‘ä»¬æŠŠå®é™…ç»˜åˆ¶ï¼ˆonpaintï¼‰çš„å·¥ä½œäº¤ç»™ Model å±‚ï¼Œé‚£ä¹ˆ View åŸºæœ¬ä¸Šå°±åªæ˜¯èƒ¶æ°´å±‚äº†ã€‚ä½†æ˜¯å°±ç®—å¦‚æ­¤ï¼ŒView å±‚ä»ç„¶æ‰¿æ‹…äº†ä¸€äº›æå…¶é‡è¦çš„è´£ä»»ã€‚</p><ul>\n<li>å±è”½å¹³å°çš„å·®å¼‚ã€‚Model å±‚å¾ˆå®¹æ˜“åšåˆ°å¹³å°æ— å…³ï¼Œé™¤äº† GDI ä¼šç•¥å¾®è´¹åŠ²ä¸€ç‚¹ï¼›Controller å±‚é™¤äº†æœ‰å°‘é‡çš„ç•Œé¢éœ€è¦å¤„ç†å¹³å°å·®å¼‚å¤–ï¼Œå¤§éƒ¨åˆ†ä»£ç éƒ½æ˜¯å“åº”äº‹ä»¶å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œåªè¦ View å¯¹äº‹ä»¶çš„æŠ½è±¡å¾—å½“ï¼Œä¹Ÿæ˜¯è·¨å¹³å°çš„ã€‚</li>\n<li>å®šä¹‰ç•Œé¢å¸ƒå±€ã€‚ä¸åŒå°ºå¯¸çš„è®¾å¤‡ï¼Œç•Œé¢äº¤äº’ä¹Ÿä¼šä¸å¤ªä¸€æ ·ï¼Œåœ¨ View å±‚æ¥æ§åˆ¶ä¸åŒè®¾å¤‡çš„æ•´ä½“ç•Œé¢å¸ƒå±€æ¯”è¾ƒå¦¥å½“ã€‚</li>\n</ul><h2>Controller å±‚</h2><p>æœ€åæˆ‘ä»¬çœ‹ä¸‹ Controller å±‚ã€‚Controller å±‚çš„æ–‡ä»¶æœ‰å¾ˆå¤šï¼Œè¿™è¿˜æ˜¯ä¸€äº› Controller å› ä¸ºå®ç°ç›¸è¿‘è¢«åˆå¹¶åˆ°ä¸€ä¸ªæ–‡ä»¶ã€‚è¯¦ç»†ä¿¡æ¯å¦‚ä¸‹ã€‚</p><ul>\n<li>Menu, PropSelectors, MousePosTrackerï¼š <a href=\"https://github.com/qiniu/qpaint/blob/v26/paintweb/www/accel/menu.js\">accel/menu.js</a></li>\n<li>Create Pathï¼š<a href=\"https://github.com/qiniu/qpaint/blob/v26/paintweb/www/creator/path.js\">creator/path.js</a></li>\n<li>Create FreePathï¼š<a href=\"https://github.com/qiniu/qpaint/blob/v26/paintweb/www/creator/freepath.js\">creator/freepath.js</a></li>\n<li>Create Line, Rect, Ellipse, Circleï¼š <a href=\"https://github.com/qiniu/qpaint/blob/v26/paintweb/www/creator/rect.js\">creator/rect.js</a></li>\n</ul><p>å…¶ä¸­ï¼Œ<a href=\"https://github.com/qiniu/qpaint/blob/v26/paintweb/www/accel/menu.js\">menu.js</a> ä¸»è¦æ¶‰åŠå„ç§å‘½ä»¤èœå•å’ŒçŠ¶æ€æ˜¾ç¤ºç”¨é€”çš„ç•Œé¢å…ƒç´ ã€‚ç”¨äºåˆ›å»ºå„ç±»å›¾å½¢ï¼ˆShapeï¼‰ï¼Œé€‰æ‹©å½“å‰ lineWidthã€lineColorï¼Œä»¥åŠæ˜¾ç¤ºé¼ æ ‡å½“å‰ä½ç½®ã€‚</p><p>åœ¨åˆ›å»ºå›¾å½¢è¿™äº›èœå•é¡¹ä¸Šï¼Œæœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ã€‚</p><p>å…¶ä¸€ï¼Œèœå•å¹¶ä¸ç›´æ¥å’Œå„ç±»åˆ›å»ºå›¾å½¢çš„ Controller æ‰“äº¤é“ï¼Œè€Œæ˜¯è°ƒç”¨ qview.invokeController æ¥æ¿€æ´»å¯¹åº”çš„ Controllerï¼Œè¿™å°±é¿å…äº†ä¸¤ç±» Controller ç›¸äº’è€¦åˆã€‚</p><p>å…¶äºŒï¼Œè™½ç„¶å‰é¢ Model å±‚æ”¯æŒçš„å›¾å½¢åªæœ‰ QLineã€QRectã€QEllipseã€QPath ç­‰å››ç§ï¼Œä½†æ˜¯ç•Œé¢è¡¨ç°æœ‰å…­ç§ï¼šLineã€Rectã€Ellipseã€Circleã€Pathã€FreePath ç­‰ç­‰ã€‚è¿™æ˜¯éå¸¸æ­£å¸¸çš„ç°è±¡ã€‚åŒä¸€ä¸ª DOM API åœ¨ Controller å±‚å¾€å¾€ä¼šæœ‰å¤šæ¡å®ç°è·¯å¾„ã€‚</p><p>é€‰æ‹©å½“å‰ lineWidthã€lineColor æ“ä½œçš„å¯¹è±¡æ˜¯ ViewModel çš„æ•°æ®ï¼Œä¸æ˜¯ Modelã€‚è¿™ä¸€ç‚¹å‰é¢å‡ è®²æˆ‘ä»¬ä¹Ÿæœ‰è¿‡äº¤ä»£ã€‚æˆ‘ä»¬å½“æ—¶ä¸¾çš„ä¾‹å­æ˜¯ Selectionã€‚å…¶å®ä½ æŠŠå½“å‰ lineWithã€lineColor çœ‹ä½œæ˜¯æŸç§æ„ä¹‰ä¸Šçš„ Selection ï¼Œä¹Ÿæ˜¯å®Œå…¨æ­£ç¡®çš„è®¤çŸ¥ã€‚</p><p>é¼ æ ‡ä½ç½®è·Ÿè¸ªï¼ˆMousePosTrackerï¼‰æ˜¯ä¸€ä¸ªæå…¶ç®€å•ï¼Œä½†ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆç‰¹æ®Šçš„ Controllerï¼Œå®ƒå¹¶ä¸æ“ä½œä»»ä½•æ­£ç»Ÿæ„ä¹‰çš„æ•°æ®ï¼ˆModel æˆ– ViewModelï¼‰ï¼Œè€Œæ˜¯æ“ä½œè¾“å…¥çš„äº‹ä»¶ã€‚</p><p>å‰©ä¸‹æ¥çš„å‡ ä¸ª JavaScript æ–‡ä»¶éƒ½æ˜¯åˆ›å»ºæŸç§å›¾å½¢ã€‚å®ƒä»¬çš„å·¥ä½œæœºç†éå¸¸ç›¸ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥éšæ„é€‰ä¸€ä¸ªçœ‹ä¸€ä¸‹ã€‚æ¯”å¦‚ QRectCreator ç±»ï¼Œå®ƒçš„è§„æ ¼å¦‚ä¸‹ï¼š</p><pre><code>class QRectCreator {\nmethods:\n  constructor(shapeType: string)\n  stop(): void\n  onpaint(ctx: CanvasRenderingContext2D): void\n  onmousedown: (event: DOMEvent):void\n  onmousemove: (event: DOMEvent):void\n  onmouseup: (event: DOMEvent):void\n  onkeydown: (event: DOMEvent):void\n}\n</code></pre><p>åœ¨åˆå§‹åŒ–ï¼ˆæ„é€ ï¼‰æ—¶ï¼ŒQRectCreator è¦æ±‚ä¼ å…¥ä¸€ä¸ª shapeTypeã€‚è¿™æ˜¯å› ä¸º QRectCreator å®é™…ä¸Šå¹¶ä¸åªæ˜¯ç”¨äºåˆ›å»º Rect å›¾å½¢ï¼Œè¿˜æ”¯æŒ Lineã€Ellipseã€Circleã€‚åªè¦é€šè¿‡é€‰æ‹©ä¸¤ä¸ª points æ¥æ„å»ºçš„å›¾å½¢ï¼Œéƒ½å¯ä»¥ç”¨ QRectCreator è¿™ä¸ª Controlller æ¥åšã€‚</p><p>QRectCreator æ¥ç®¡äº† View å§”æ‰˜çš„ mousedownã€mousemoveã€mouseupã€keydown äº‹ä»¶ã€‚</p><p>å…¶ä¸­ï¼Œmousedown äº‹ä»¶è®°å½•ä¸‹ç¬¬ä¸€ä¸ª pointï¼Œå¹¶ç”±æ­¤å¼€å¯äº†å›¾å½¢æ‰€éœ€æ•°æ®çš„æ”¶é›†è¿‡ç¨‹ï¼Œmouseup æ”¶é›†ç¬¬äºŒä¸ª pointï¼Œéšåååˆ›å»ºç›¸åº”çš„ Shape å¹¶åŠ å…¥åˆ° DOM ä¸­ã€‚keydown åšä»€ä¹ˆï¼Ÿå®ƒç”¨æ¥æ”¯æŒæŒ‰ ESC æ”¾å¼ƒåˆ›å»ºå›¾å½¢çš„è¿‡ç¨‹ã€‚</p><h2>æ¶æ„æ€ç»´ä¸Šæˆ‘ä»¬å­¦ä¹ åˆ°ä»€ä¹ˆï¼Ÿ</h2><p>é€šè¿‡åˆ†æè¿™ä¸ª â€œç”»å›¾â€ ç¨‹åºï¼Œä½ å¯¹æ­¤æœ€å¤§çš„æ”¶è·æ˜¯ä»€ä¹ˆï¼Ÿæ¬¢è¿ç•™è¨€å°±æ­¤é—®é¢˜è¿›è¡Œäº¤æµã€‚è¿™é‡Œæˆ‘ä¹Ÿè¯´è¯´æˆ‘è‡ªå·±æƒ³å¼ºè°ƒçš„ç‚¹ã€‚</p><p>é¦–å…ˆï¼Œè¿™ä¸ªç¨‹åºæ²¡æœ‰ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹åº“ï¼Œæ˜¯è£¸å†™çš„ JavaScript ä»£ç ã€‚å…³äºè¿™ä¸€ç‚¹ï¼Œæˆ‘æƒ³å¼ºè°ƒçš„æ˜¯ï¼š</p><p>ç¬¬ä¸€ï¼Œè¿™å¹¶ä¸æ˜¯å»é¼“åŠ±è£¸å†™ JavaScript ä»£ç ï¼Œè¿™åªæ˜¯ä¸ºäº†æ¶ˆé™¤ä¸åŒäººçš„å–œå¥½å·®å¼‚ï¼Œé¿å…å› ä¸ºä¸ç†Ÿæ‚‰æŸä¸ªåº“è€Œå¯¼è‡´éš¾ä»¥ç†è§£ä»£ç çš„é€»è¾‘ï¼›</p><p>ç¬¬äºŒï¼Œå¤§å®¶å†™ä»£ç çš„æ—¶å€™ï¼Œä¸è¦è¢«æ¡†æ¶ç»‘æ¶ï¼Œæ¡†æ¶ä¸åº”è¯¥å¢åŠ ä»£ç çš„è€¦åˆï¼Œå¦åˆ™è¿™æ ·çš„æ¡†æ¶å°±åº”è¯¥ä¸¢äº†ï¼›æ›´çœŸå®çš„æƒ…å†µæ˜¯ï¼Œä½ å¾ˆå¯èƒ½æ˜¯åœ¨ç”¨ä¸€ä¸ªå¥½æ¡†æ¶ï¼Œä½†æ˜¯æ˜¯ä¸æ˜¯çœŸç”¨å¥½äº†ï¼Œè¿˜æ˜¯å–å†³äºä½ è‡ªå·±çš„æ€ç»´ã€‚</p><p>ä»æ¶æ„è®¾è®¡è§’åº¦æ¥è¯´ï¼Œåœ¨å®Œæˆéœ€æ±‚åˆ†æä¹‹åï¼Œæˆ‘ä»¬å°±è¿›å…¥äº†æ¶æ„çš„ç¬¬äºŒæ­¥ï¼šæ¦‚è¦è®¾è®¡ï¼ˆæˆ–è€…ä¹Ÿå¯ä»¥å«ç³»ç»Ÿè®¾è®¡ï¼‰ã€‚è¿™ä¸ªé˜¶æ®µçš„æ ¸å¿ƒè¯é¢˜æ˜¯åˆ†è§£å­ç³»ç»Ÿï¼Œæˆ‘ä»¬å…³å¿ƒçš„é—®é¢˜æ˜¯ä¸‹é¢è¿™äº›ã€‚</p><ul>\n<li>æ¯ä¸ªå­ç³»ç»Ÿè´Ÿè´£ä»€ä¹ˆäº‹æƒ…ï¼Ÿ</li>\n<li>å®ƒä¾èµ–å“ªäº›å­ç³»ç»Ÿï¼Ÿå®ƒèƒ½å¤Ÿå°‘çŸ¥é“ä¸€äº›å­ç³»ç»Ÿçš„å­˜åœ¨ä¹ˆï¼Ÿ</li>\n<li>å®ƒä»¬æ˜¯é€šè¿‡ä»€ä¹ˆæ¥å£è€¦åˆçš„ï¼Ÿè¿™ä¸ªæ¥å£æ˜¯å¦è‡ªç„¶ä½“ç°äº†ä¸¤è€…çš„ä¸šåŠ¡å…³ç³»ï¼Ÿå®ƒä»¬ä¹‹é—´çš„æ¥å£æ˜¯å¦è¶³å¤Ÿç¨³å®šï¼Ÿ</li>\n</ul><p>MVC æ˜¯ä¸€ä¸ªåˆ†è§£å­ç³»ç»Ÿçš„åŸºæœ¬æ¡†æ¶ï¼Œå®ƒå¯¹äºæ¡Œé¢ç¨‹åºå°¤ä¸ºé€‚ç”¨ã€‚é€šè¿‡ä»Šå¤©å¯¹ â€œç”»å›¾â€ ç¨‹åºçš„è§£å‰–ï¼Œæˆ‘ä»¬åŸºæœ¬èƒ½å¤Ÿå»ºç«‹æ¡Œé¢ç¨‹åºæ¡†æ¶ä¸Šéå¸¸ä¸€è‡´çš„å¥—è·¯ï¼š</p><ul>\n<li>Model å±‚æ¥å£è¦è‡ªç„¶ä½“ç°ä¸šåŠ¡é€»è¾‘ï¼›</li>\n<li>View å±‚è¿æ¥ Model ä¸ Controllerï¼Œå®ƒæä¾›äº‹ä»¶å§”æ‰˜ï¼ˆdelegateï¼‰æ–¹ä¾¿ Controller æ¥æ”¶æ„Ÿå…´è¶£çš„äº‹ä»¶ï¼Œä½†å®ƒä¸åº”è¯¥çŸ¥é“ä»»ä½•å…·ä½“çš„ Controllerï¼›</li>\n<li>Controller å±‚ä¸­ï¼Œæ¯ä¸ª Controller éƒ½å½¼æ­¤ç‹¬ç«‹ï¼Œä¸€ä¸ª Controller çš„èŒè´£åŸºæœ¬ä¸Šå°±æ˜¯å“åº”äº‹ä»¶ï¼Œç„¶åè°ƒç”¨ Model æˆ– ViewModel çš„æ¥å£ä¿®æ”¹æ•°æ®ã€‚</li>\n</ul><p>å½“ç„¶ï¼Œè¿™é‡Œæ²¡æœ‰è®¨è®ºç‰¹å®šåº”ç”¨é¢†åŸŸæœ¬èº«ç›¸å…³çš„æ¶æ„é—®é¢˜ã€‚å¯¹äºæ¡Œé¢ç¨‹åºè€Œè¨€ï¼Œè¿™ä»¶äº‹é€šå¸¸å‘ç”Ÿåœ¨ Model å±‚ã€‚ä½†å¯¹äºæˆ‘ä»¬ä»Šå¤©çš„ä¾‹å­ â€œç”»å›¾â€ ç¨‹åºè€Œè¨€ï¼ŒModel å±‚æ¯”è¾ƒç®€å•ï¼ŒåŸºæœ¬ä¸Šè¿˜ä¸å¤ªéœ€è¦è®¨è®ºã€‚åœ¨åé¢ï¼Œæˆ‘ä»¬ä¹Ÿå¯èƒ½ä¼šå°è¯•æŠŠè¿™ä¸ª â€œç”»å›¾â€ ç¨‹åºéœ€æ±‚å˜å¤æ‚ï¼Œçœ‹æ¶æ„ä¸Šåº”è¯¥æ€ä¹ˆè¿›è¡Œåº”å¯¹ã€‚</p><h2>ç»“è¯­</h2><p>ä»Šå¤©æˆ‘ä»¬ç»“åˆä¸€ä¸ªå¤§å®¶éå¸¸ç†Ÿæ‚‰çš„ä¾‹å­ â€œç”»å›¾â€ ç¨‹åºæ¥ä»‹ç» MVC æ¶æ„ã€‚è™½ç„¶æˆ‘ä»¬åŸºäº Web å¼€å‘ï¼Œä½†æ˜¯æˆ‘ä»¬å½“å‰ç»™å‡ºçš„ç”»å›¾ç¨‹åºæœ¬è´¨ä¸Šè¿˜æ˜¯å•æœºç‰ˆçš„ã€‚</p><p>å¦‚æœä½ å¯¹ä»Šå¤©çš„å†…å®¹æœ‰ä»€ä¹ˆæ€è€ƒä¸è§£è¯»ï¼Œæ¬¢è¿ç»™æˆ‘ç•™è¨€ï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºã€‚ä¸‹ä¸€è®²æˆ‘ä»¬å°†ç»§ç»­å®æˆ˜ä¸€ä¸ªè”ç½‘ç‰ˆæœ¬çš„ç”»å›¾ç¨‹åºã€‚</p><p>å¦‚æœä½ è§‰å¾—æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿æŠŠæ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæˆ‘ä»¬ä¸‹æœŸå†è§ã€‚</p>","comments":[{"had_liked":false,"id":116359,"user_name":"ç”°å¸¸å‘","can_delete":false,"product_type":"c1","uid":1501265,"ip_address":"","ucode":"909C82B9C36380","user_header":"https://static001.geekbang.org/account/avatar/00/16/e8/51/a5f2f8d6.jpg","comment_is_top":false,"comment_ctime":1563843960,"is_pvip":false,"replies":[{"id":"42527","content":"å­¦ä»€ä¹ˆè¯­è¨€éƒ½è¦è®¾è®¡æ¨¡å¼ã€‚ä¸è¿‡è®¾è®¡æœ€é‡è¦çš„ä¸æ˜¯æ¨¡å¼ï¼Œè€Œæ˜¯å…³äºè§£è€¦çš„æ€è€ƒ","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1563844497,"ip_address":"","comment_id":116359,"utype":1}],"discussion_count":4,"race_medal":0,"score":"173362535800","product_id":100025201,"comment_content":"è®¸è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œå­¦goçš„è¯è¦ä¸è¦å»å­¦ä¸€ä¸‹ï¼Œè®¾è®¡æ¨¡å¼ï¼Œæœ‰çš„è¯ï¼Œæ‚¨æœ‰æ²¡æœ‰ä»€ä¹ˆèµ„æ–™å¯ä»¥æ¨èä¸€ä¸‹ï¼Ÿ","like_count":41,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459504,"discussion_content":"å­¦ä»€ä¹ˆè¯­è¨€éƒ½è¦è®¾è®¡æ¨¡å¼ã€‚ä¸è¿‡è®¾è®¡æœ€é‡è¦çš„ä¸æ˜¯æ¨¡å¼ï¼Œè€Œæ˜¯å…³äºè§£è€¦çš„æ€è€ƒ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1563844497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1247684,"avatar":"https://static001.geekbang.org/account/avatar/00/13/09/c4/0907878e.jpg","nickname":"å‘¨æ³¢","note":"","ucode":"DB78B7C1A85482","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370430,"discussion_content":"æ˜¯çš„è¶Šæ¥è¶Šè§‰å¾—è§£è€¦åˆ†å±‚çš„é‡è¦æ€§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1619409394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1110039,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f0/17/796a3d20.jpg","nickname":"è¨€åå¹´","note":"","ucode":"67B8B49C3A3B17","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349446,"discussion_content":"å–œæ¬¢ä½œè€…çš„å›ç­”ï¼šè®¾è®¡æœ€é‡è¦çš„ä¸æ˜¯æ¨¡å¼ï¼Œè€Œæ˜¯å…³äºè§£è€¦çš„æ€è€ƒã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1613213287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1543599,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8d/af/01deb987.jpg","nickname":"xtepCool","note":"","ucode":"6181687E98524E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349418,"discussion_content":"å­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613187740,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116770,"user_name":"xiaobang","can_delete":false,"product_type":"c1","uid":1157508,"ip_address":"","ucode":"1735BDCFD61655","user_header":"https://static001.geekbang.org/account/avatar/00/11/a9/84/c87b51ce.jpg","comment_is_top":false,"comment_ctime":1563925137,"is_pvip":false,"replies":[{"id":"42725","content":"å¤šè°¢å»ºè®®","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1563933707,"ip_address":"","comment_id":116770,"utype":1}],"discussion_count":1,"race_medal":0,"score":"87463271057","product_id":100025201,"comment_content":"è¿™ä¸€ç« çœ‹çš„æœ‰ç‚¹å¡ï¼Œä¸»è¦æ˜¯å› ä¸ºå¯¹å‰ç«¯çŸ¥è¯†ä¸ç†Ÿæ‚‰ã€‚æˆ‘çœ‹åˆ°jsä»£ç é‡Œé¢å‡ºç°classå…³é”®å­—ä¸€åº¦æ€€ç–‘ç”¨çš„æ˜¯ä»€ä¹ˆè¯­è¨€ã€‚å¦å¤–æä¸€ä¸ªå»ºè®®ï¼Œè€å¸ˆè®²çš„æ—¶å€™èƒ½ä¸èƒ½æŒ‰ç…§è½¯ä»¶è®¾è®¡çš„è¿‡ç¨‹æ¥å±•å¼€ã€‚æ¯”å¦‚å¼€å§‹åšéœ€æ±‚åˆ†æï¼Œè¿™ä¸ªç”»å›¾ç¨‹åºè¦æä¾›å“ªäº›åŠŸèƒ½ï¼Œæ”¯æŒå“ªäº›å›¾å½¢ç­‰ã€‚ç„¶ååˆ—å‡ºå¹³å°å¯¹ç”»å›¾çš„æ”¯æŒï¼Œå†æè¿°åœ¨å¹³å°ä¸Šç›´æ¥ç¡¬å†™ä¼šå†™æˆä»€ä¹ˆæ ·çš„ç¨‹åºï¼Œæœ€åæŒ‰mvcæ¨¡å¼é‡æ„ã€‚æˆ‘æ„Ÿè§‰è¿™æ ·èƒ½æ›´å¥½çš„è¡¨ç°è®¾è®¡çš„æ€è·¯ã€‚","like_count":20,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459678,"discussion_content":"å¤šè°¢å»ºè®®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563933707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":125067,"user_name":"Smallfly","can_delete":false,"product_type":"c1","uid":1013841,"ip_address":"","ucode":"D388D5E0249A69","user_header":"https://static001.geekbang.org/account/avatar/00/0f/78/51/4790e13e.jpg","comment_is_top":false,"comment_ctime":1566053984,"is_pvip":false,"replies":[{"id":"45869","content":"react.js =&gt; rect.js","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1566060100,"ip_address":"","comment_id":125067,"utype":1}],"discussion_count":3,"race_medal":0,"score":"61695596128","product_id":100025201,"comment_content":"ä¸‹è½½æºç å¹¶åˆ‡æ¢åˆ° v26 åˆ†æ”¯ï¼Œç”¨æµè§ˆå™¨æ‰“å¼€ index.html æ–‡ä»¶ï¼Œå¯ä½¿ç”¨å¼€å‘è€…å·¥å…·è¿›è¡Œæ–­ç‚¹è°ƒè¯•ã€‚<br><br>ç»˜åˆ¶çŸ©å½¢çš„è¿‡ç¨‹ï¼š<br><br>â€‚1.\tç‚¹å‡» `Creat Rect` æŒ‰é’®ï¼Œæ¿€æ´» react.js(Controller);<br>â€‚2.\tview.js(View) æ¥æ”¶åˆ° drawing çš„ onmousedown äº‹ä»¶ï¼Œä¼ é€’ç»™äº‹ä»¶çš„å®ç°è€… react.jsï¼›<br>â€‚3.\treact.js æ¥æ”¶åˆ° onmousedown äº‹ä»¶ï¼Œè®°å½•èµ·å§‹ç‚¹ p1ï¼›<br>â€‚4.\tåŒç†ï¼Œreact.js æ¥æ”¶åˆ° onmousemove äº‹ä»¶ï¼Œè®°å½• p2, å¹¶è°ƒç”¨å…¨å±€å‡½æ•° invalidate ç»˜åˆ¶ï¼›<br>â€‚5.\tinvalidate äº¤ç»™ qview.invalidateRect å¤„ç†ï¼ˆä¸ºä»€ä¹ˆä¸ç›´æ¥è°ƒç”¨ qview.invalidateRectï¼Ÿ)ï¼›<br>â€‚6.\tqview.invalidateRect è°ƒç”¨ qview.onpaintï¼Œåœ¨ onpaint ä¸­è°ƒç”¨å½“å‰æ¿€æ´»çš„ rect.js çš„ onpaint æ–¹æ³•ï¼›<br>â€‚7.\trect.js ä¸­ onpaint è°ƒç”¨ buildShape() åˆ›å»º QRect(Model) å®ä¾‹ï¼Œç„¶åè°ƒç”¨è¯¥å®ä¾‹çš„ onpaint æ–¹æ³•ç»˜åˆ¶ï¼›<br>â€‚8.\tç»˜åˆ¶ç»“æŸæ—¶ react.js æ¥æ”¶åˆ° onmouseup äº‹ä»¶ï¼ŒæŠŠå½“å‰ model å®ä¾‹å­˜å…¥ docï¼ˆModel)ï¼Œä¿è¯é‡ç»˜æ—¶èƒ½å¤Ÿå†æ¬¡ç»˜åˆ¶åŸæ¥çš„å›¾å½¢ï¼›<br><br>MVC è§’è‰²çš„é€šä¿¡è¿‡ç¨‹ï¼š<br><br>V -&gt; C -&gt; V -&gt; C -&gt; M","like_count":13,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463421,"discussion_content":"react.js =&amp;gt; rect.js","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566060100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1108505,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ea/19/14018371.jpg","nickname":"ç“œç“œ","note":"","ucode":"F90A5135A9BB4B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":136738,"discussion_content":"æ²¡æœ‰ä½ è¿™ç¯‡è®²è§£ï¼Œä¼°è®¡æˆ‘æ˜¯çœ‹ä¸æ‡‚è¿™ç¯‡äº†ï¼Œæ„Ÿè°¢ï¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1579160428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1110039,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f0/17/796a3d20.jpg","nickname":"è¨€åå¹´","note":"","ucode":"67B8B49C3A3B17","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349447,"discussion_content":"ä»£ç ä¸‹è½½äº†ã€‚æ„Ÿè°¢æŒ‡å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613214209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115139,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1563499344,"is_pvip":false,"replies":[{"id":"42076","content":"controlleræœ¬æ¥å°±ä¼šè€¦åˆmodelå’Œviewã€‚é‡ç‚¹æ˜¯controllerä¹‹é—´ä¸è¦è€¦åˆ","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1563513130,"ip_address":"","comment_id":115139,"utype":1}],"discussion_count":1,"race_medal":0,"score":"53103106896","product_id":100025201,"comment_content":"ç”±Controlleræ¥åˆ›å»ºå…·ä½“Shapeè¿™æ ·ä¼šä¸ä¼šï¼Œmodelå’Œcontrolleråˆè€¦åˆäº†å‘¢","like_count":12,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458984,"discussion_content":"controlleræœ¬æ¥å°±ä¼šè€¦åˆmodelå’Œviewã€‚é‡ç‚¹æ˜¯controllerä¹‹é—´ä¸è¦è€¦åˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563513130,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":125075,"user_name":"Smallfly","can_delete":false,"product_type":"c1","uid":1013841,"ip_address":"","ucode":"D388D5E0249A69","user_header":"https://static001.geekbang.org/account/avatar/00/0f/78/51/4790e13e.jpg","comment_is_top":false,"comment_ctime":1566055314,"is_pvip":false,"replies":[{"id":"45868","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1566059957,"ip_address":"","comment_id":125075,"utype":1}],"discussion_count":1,"race_medal":0,"score":"35925793682","product_id":100025201,"comment_content":"äº”è®²ç”»å›¾ç¨‹åºå·²ç»è®²å®Œäº†ï¼Œç¬¬ä¸€æ¬¡åªæ˜¯æ³›æ³›è€Œè¯»ï¼Œè¿™æ¬¡æ‰“ç®—ç²¾è¯»ï¼Œå¹¶æ•´ç†ä¸€ä¸‹è‡ªå·±çš„ç†è§£ã€‚<br><br>ç¬¬ä¸€è®²çš„é‡ç‚¹æ¶æ„æ€æƒ³åŒ…æ‹¬ï¼š<br><br>â€‚1.\tä¸ºäº†é¿å… Model çŸ¥é“ View çš„å®ç°ç»†èŠ‚ï¼Œå¯ä»¥è®© Model è€¦åˆ GDI æ¥å£ã€‚æ¨¡å—é—´é€šä¿¡å¦‚æœé¿å…ä¸äº†è€¦åˆï¼Œå°±è€¦åˆç¨³å®šçš„æ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—æœ€å¥½æ˜¯ç³»ç»Ÿçš„ï¼Œå› ä¸ºç³»ç»Ÿæ¨¡å—ç›¸å¯¹äºä¸šåŠ¡æ¨¡å—é€šå¸¸æ›´åŠ ç¨³å®šï¼›<br><br>â€‚2.\tViewModel æŒæœ‰ Modelï¼Œå¹¶ç”± Controller æ¥æ›´æ–° Model&#47;ViewModelï¼›<br><br>â€‚3.\tViewModel å®šä¹‰ Controller çš„è¡Œä¸ºè§„åˆ™ï¼Œä½†å¹¶ä¸å…³å¿ƒ Controller çš„å…·ä½“è¡Œä¸ºã€‚Controller å¯ä»¥é€‰æ‹©æ€§çš„æ¥ç®¡ ViewModel çš„äº‹ä»¶ï¼›<br><br>â€‚4.\tViewModel åè°ƒ Model å’Œ Controllerï¼Œå¯åˆ°æ‰¿ä¸Šå¯ä¸‹çš„ä½œç”¨ï¼Œæ‰€ä»¥ ViewModel èŒè´£çš„åˆ’åˆ†å¯¹ç¨‹åºçš„ç»“æ„æœ‰æ¯”è¾ƒå¤§çš„å½±å“ï¼›<br><br>â€‚5.\tModel çš„ç»“æ„ç¨³å®šï¼Œå®¹æ˜“åšåˆ°å¹³å°æ— å…³ï¼ŒViewModel ä¼šè·Ÿå¹³å°å¼ºå…³è”ï¼›<br><br>â€‚6.\té¿å… Controller ä¹‹é—´çš„è€¦åˆï¼Œå¯ä»¥ä½¿ç”¨ ViewModel ä½œä¸ºé€šä¿¡ä¸­ä»‹è€…ï¼›<br><br>â€‚7.\tç›¸åŒçš„ Model å¯èƒ½åœ¨ Controller å±‚æœ‰ä¸åŒçš„å±•ç°æ–¹æ³•ï¼›<br><br>æœ¬è®²ä¸­ View åº”è¯¥ç†è§£ä¸º ViewModelï¼ŒView æ˜¯ä¸åº”è¯¥æŒæœ‰ Model æ•°æ®çš„ï¼Œæ–‡ä¸­è€å¸ˆä¹Ÿè¯´äº†ç½‘é¡µçš„ View æ˜¯ç”±æµè§ˆå™¨å®ç°çš„ï¼Œä¸ªäººè§‰å¾—ä»ä¸¥æ ¼æ„ä¹‰ä¸Šå°†ï¼Œè¿™ä¸ç®—æ˜¯ MVC æ¨¡å¼ï¼Œä¹Ÿä¸åƒ MVVMï¼Œåº”è¯¥å« MVMCï¼Ÿ<br><br>ä¸‹è½½æºç å¹¶åˆ‡æ¢åˆ° v26 åˆ†æ”¯ï¼Œç”¨æµè§ˆå™¨æ‰“å¼€ index.html æ–‡ä»¶ï¼Œå¯ä½¿ç”¨å¼€å‘è€…å·¥å…·è¿›è¡Œæ–­ç‚¹è°ƒè¯•ã€‚","like_count":9,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463423,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566059957,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115380,"user_name":"å…«å“¥","can_delete":false,"product_type":"c1","uid":1012205,"ip_address":"","ucode":"ED2E09CBBFC060","user_header":"https://static001.geekbang.org/account/avatar/00/0f/71/ed/45ab9f03.jpg","comment_is_top":false,"comment_ctime":1563547922,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"35923286290","product_id":100025201,"comment_content":"CEOï¼Œjså†™çš„è¿˜è¿™ä¹ˆå¥½ã€‚å‰å®³","like_count":8},{"had_liked":false,"id":122520,"user_name":"Geek_88604f","can_delete":false,"product_type":"c1","uid":1501234,"ip_address":"","ucode":"33DD1318E53814","user_header":"","comment_is_top":false,"comment_ctime":1565414203,"is_pvip":false,"replies":[{"id":"44960","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1565415966,"ip_address":"","comment_id":122520,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18745283387","product_id":100025201,"comment_content":"        æµè§ˆå™¨æ‰“å¼€index.htmï¼Œé¦–å…ˆåˆ›å»ºcanvasç”»å¸ƒå¯¹è±¡ï¼Œåé¢çš„ç”»å›¾æ“ä½œéƒ½æ˜¯åœ¨ç”»å¸ƒå¯¹è±¡ä¸Šè¿›è¡Œçš„ã€‚<br>        æ¥ç€åŠ è½½domå¯¹è±¡ï¼Œæ³¨æ„è¿™é‡Œå¹¶æ²¡æœ‰å®ä¾‹åŒ–domå¯¹è±¡ã€‚<br>        ç„¶ååŠ è½½viewå¯¹è±¡ï¼Œå¹¶ä¸”å®ä¾‹åŒ–viewå¯¹è±¡å’Œdomå¯¹è±¡ã€‚viewå¯¹è±¡ä¸­å®šä¹‰äº†äº‹ä»¶å¤„ç†è§„åˆ™ï¼Œæ¥ç®¡ç”»å¸ƒçš„äº‹ä»¶å¤„ç†ï¼Œå°†onpaintå§”æ‰˜ç»™äº†docå’Œcontrallerï¼Œæ³¨æ„docçš„onpaintå’Œcontrallerçš„onpaintç»˜åˆ¶çš„æ˜¯ä¸åŒçš„å†…å®¹ï¼Œè¿˜æœ‰å°±æ˜¯å®šä¹‰äº†contrallerçš„æ“ä½œè§„åˆ™ã€‚<br>        æ¥ä¸‹æ¥å°±æ˜¯åŠ è½½contrallerï¼Œè°ƒç”¨viewçš„æ–¹æ³•æ³¨å†Œè‡ªå·±ï¼Œå¹¶å°†äº‹ä»¶å¤„ç†å§”æ‰˜ç»™contrallerã€‚<br>        æœ€ååŠ è½½å’Œæ˜¾ç¤ºèœå•ï¼Œå®šä¹‰contrallerçš„é¼ æ ‡ç‚¹å‡»äº‹ä»¶ï¼Œåœ¨ç‚¹å‡»äº‹ä»¶ä¸­æŒ‡å®šå½“å‰contrallerã€‚è¿™æ ·å½“é¼ æ ‡åœ¨ç”»å¸ƒä¸Šç§»åŠ¨æ—¶ï¼Œé€šè¿‡å±‚å±‚å§”æ‰˜ï¼ˆç”»å¸ƒâ€”â€”viewâ€”â€”contrallerï¼‰æœ€ç»ˆè§¦å‘contrallerçš„invalidateï¼Œinvalidateè§¦å‘onpaintï¼Œonpaintè§¦å‘doc.onpaintã€‚<br>","like_count":4,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462286,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565415966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1543599,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8d/af/01deb987.jpg","nickname":"xtepCool","note":"","ucode":"6181687E98524E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349416,"discussion_content":"å­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613187182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121158,"user_name":"Geek_88604f","can_delete":false,"product_type":"c1","uid":1501234,"ip_address":"","ucode":"33DD1318E53814","user_header":"","comment_is_top":false,"comment_ctime":1565067854,"is_pvip":false,"replies":[{"id":"44577","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1565096290,"ip_address":"","comment_id":121158,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18744937038","product_id":100025201,"comment_content":"çœ‹äº†å‡ éæ‹ä¸€ä¸‹æ€è·¯:viewæ¥æ”¶åˆ°ç”¨æˆ·äº‹ä»¶ï¼ŒæŠŠäº‹ä»¶å¤„ç†å§”æ‰˜ç»™controllerï¼Œç”±controlleræ¥æ“ä½œmodelã€‚æ˜¯è¿™æ ·çš„å—ï¼Œè€å¸ˆï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461655,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565096290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124625,"user_name":"Halohoop","can_delete":false,"product_type":"c1","uid":1108517,"ip_address":"","ucode":"623C5E6AF7BCE0","user_header":"https://static001.geekbang.org/account/avatar/00/10/ea/25/75be8cdf.jpg","comment_is_top":false,"comment_ctime":1565930264,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10155864856","product_id":100025201,"comment_content":"åˆ’é‡ç‚¹ï¼šâ€œä¾èµ–é€‰æ‹©æ˜¯è€ƒè™‘è€¦åˆçš„ä¸€ä¸ªå…³é”®å› ç´ ã€‚åœ¨ä¾èµ–é€‰æ‹©ä¸Šï¼Œæˆ‘ä»¬ä¼šæ›´å€¾å‘äºä¾èµ–æ¥å£æ›´ä¸ºç¨³å®šçš„ç»„ä»¶ï¼Œå› ä¸ºè¿™æ„å‘³ç€æˆ‘ä»¬çš„æ¥å£ä¹Ÿæ›´ç¨³å®šã€‚â€","like_count":2},{"had_liked":false,"id":115095,"user_name":"kyle","can_delete":false,"product_type":"c1","uid":1179158,"ip_address":"","ucode":"DB05C0F7D2C472","user_header":"https://static001.geekbang.org/account/avatar/00/11/fe/16/0f096793.jpg","comment_is_top":false,"comment_ctime":1563494381,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10153428973","product_id":100025201,"comment_content":"æ‰é˜Ÿäº†","like_count":2},{"had_liked":false,"id":312212,"user_name":"æœç²’æ©™","can_delete":false,"product_type":"c1","uid":1272730,"ip_address":"","ucode":"000B15E28C68B6","user_header":"https://static001.geekbang.org/account/avatar/00/13/6b/9a/786b1ed8.jpg","comment_is_top":false,"comment_ctime":1631685581,"is_pvip":false,"replies":[{"id":"113146","content":"è¿™ä¸ªæ²¡æœ‰ç”¨ï¼Œåªæ˜¯ç”¨æ¥é˜²æ²»æµè§ˆå™¨ä¸æ­£ç¡®çš„ç¼“å­˜ï¼Œåœ¨urlå˜åŒ–åå®ƒå°±ä¼šé‡æ–°è¯·æ±‚æœåŠ¡å™¨","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1631749617,"ip_address":"","comment_id":312212,"utype":1}],"discussion_count":1,"race_medal":4,"score":"5926652877","product_id":100025201,"comment_content":"index.htmlä¸­çš„&lt;script src=&quot;creator&#47;path.js?v=7&quot;&gt;ï¼Œv=7æ˜¯æ€ä¹ˆä¼ ç»™path.jsçš„ï¼Œèµ·ä»€ä¹ˆä½œç”¨ï¼Ÿæ²¡å­¦è¿‡jsä¸å¤ªæ‡‚","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526897,"discussion_content":"è¿™ä¸ªæ²¡æœ‰ç”¨ï¼Œåªæ˜¯ç”¨æ¥é˜²æ²»æµè§ˆå™¨ä¸æ­£ç¡®çš„ç¼“å­˜ï¼Œåœ¨urlå˜åŒ–åå®ƒå°±ä¼šé‡æ–°è¯·æ±‚æœåŠ¡å™¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631749617,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249920,"user_name":"æµ©ç„¶","can_delete":false,"product_type":"c1","uid":1378201,"ip_address":"","ucode":"FC771E92869796","user_header":"https://static001.geekbang.org/account/avatar/00/15/07/99/2c12c56c.jpg","comment_is_top":false,"comment_ctime":1600852971,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5895820267","product_id":100025201,"comment_content":"ç”¨æˆ·ç‚¹å‡»çš„æ—¶å€™(invokeController)æ¿€æ´»æŸä¸ªController -&gt; Controlleræ¥ç®¡äº‹ä»¶ -&gt; é€šçŸ¥Viewè§¦å‘ç»˜åˆ¶ ç»˜åˆ¶å®Œè°ƒç”¨onmouseupäº‹ä»¶ -&gt; ç„¶åviewé€šçŸ¥Mï¼ˆqview.doc.addShapeï¼‰<br>V-C-VM-M<br><br>Må±‚åšåš<br>V&#47;VMæ‰¿ä¸Šå¯ä¸‹<br>Cç›¸äº’ç‹¬ç«‹<br>ä¾›äºŒæ¬¡å¼€å‘APIæ”¾åœ¨VMå±‚<br><br>ä¸ºäº†ç†è§£è€å¸ˆè®²çš„æ‰‹åŠ¨æŒªäº†ä¸€ä¸‹ä»£ç  https:&#47;&#47;github.com&#47;jianghaoran116&#47;study-code&#47;tree&#47;mvc-26&#47;mvc ","like_count":1},{"had_liked":false,"id":172007,"user_name":"Geek_gooy","can_delete":false,"product_type":"c1","uid":1504570,"ip_address":"","ucode":"FC168C31530040","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLluwfFjxlCmg9p2rJVicBdBo6OYpN0EAotUguias8wc78WtAEPHsWic0880CqGwyNypy2KZqVpYhGiag/132","comment_is_top":false,"comment_ctime":1579069770,"is_pvip":false,"replies":[{"id":"66693","content":"å¤šè°¢åé¦ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1579078615,"ip_address":"","comment_id":172007,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5874037066","product_id":100025201,"comment_content":"å¬å®Œç”»å›¾çš„è¯¾ï¼Œé—®é¢˜çœŸçš„æ˜¯ä¸€å¤§å †ã€‚<br>ä¸æ¸…æ¥šè¿™ä¸ªç”»å›¾ç¨‹åºæœ€ç»ˆæ˜¯é•¿ä»€ä¹ˆæ ·çš„ï¼Œæ²¡æœ‰æå‰ç»™å‡ºuiè®¾è®¡ã€‚<br><br>ä¸çŸ¥é“ç¨‹åºçš„æµç¨‹å›¾ã€‚<br><br>ä¸çŸ¥é“ç¨‹åºæœ€ç»ˆæ€ä¹ˆå‘å¸ƒï¼Œç”¨æˆ·æ€ä¹ˆä½¿ç”¨ã€‚<br><br>çŸ¥é“ç”¨HTML.js.goè¯­è¨€ï¼Œä½†ä¸çŸ¥é“goè¯­è¨€æ‰®æ¼”çš„æ˜¯ä»€ä¹ˆè§’è‰²ï¼Œå¯¹äºä¸€ä¸ªæ²¡æ¥è§¦è¿‡goè¯­è¨€çš„äººæ¥è¯´ã€‚<br><br>ä¸ç†è§£æ‰€è°“ç¦»çº¿ç”»å›¾è¿˜è¦ç”¨åœ°å€åŠ ç«¯å£è®¿é—®ï¼Œè¿™ä¸æ˜¯è¿œç¨‹äº†å—ã€‚<br><br>â€¦â€¦","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481579,"discussion_content":"å¤šè°¢åé¦ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579078615,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120554,"user_name":"Geek_88604f","can_delete":false,"product_type":"c1","uid":1501234,"ip_address":"","ucode":"33DD1318E53814","user_header":"","comment_is_top":false,"comment_ctime":1564928306,"is_pvip":false,"replies":[{"id":"44219","content":"å–å¾—äºŒç»´ï¼ˆ2Dï¼‰çš„ Canvas ä¸Šä¸‹æ–‡ï¼Œç”¨äºç»˜åˆ¶ã€‚è¯¦ç»†å‚é˜…ï¼š https:&#47;&#47;developer.mozilla.org&#47;zh-CN&#47;docs&#47;Web&#47;API&#47;HTMLCanvasElement&#47;getContext","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1564943991,"ip_address":"","comment_id":120554,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5859895602","product_id":100025201,"comment_content":"view.jsä¸­&quot;let ctx = this.drawing.getContext(&quot;2d&quot;)&quot;ï¼Œè¿™æ®µä»£ç æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461382,"discussion_content":"å–å¾—äºŒç»´ï¼ˆ2Dï¼‰çš„ Canvas ä¸Šä¸‹æ–‡ï¼Œç”¨äºç»˜åˆ¶ã€‚è¯¦ç»†å‚é˜…ï¼š https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/getContext","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564943991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119607,"user_name":"Jian","can_delete":false,"product_type":"c1","uid":1023040,"ip_address":"","ucode":"358133EC2AFEB0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9c/40/6323850e.jpg","comment_is_top":false,"comment_ctime":1564635955,"is_pvip":false,"replies":[{"id":"43889","content":"å¤šè°¢å»ºè®®","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1564646839,"ip_address":"","comment_id":119607,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5859603251","product_id":100025201,"comment_content":"æœ€å¤§çš„æ”¶è·è¿˜æ˜¯è§£è€¦ã€‚é¦–å…ˆå°†åº”ç”¨ç¨‹åºè¿›è¡ŒæŠ½è±¡&#47;åˆ†å±‚ï¼Œç„¶åé€šè¿‡ä¸­é—´çš„viewå±‚å°†modelå±‚å’Œcontrollerå±‚ä¸²è”åœ¨ä¸€èµ·ã€‚<br>controllerçš„ä½¿ç”¨ï¼Œå°±åƒjavaä¸­çš„interfaceï¼Œå…¶æœ‰å¤šé‡å®ç°æ–¹å¼ã€‚<br>è¿™æ˜¯ç¬¬äºŒæ¬¡è¯»è¿™ç¯‡æ–‡ç« äº†ï¼Œå› ä¸ºæ²¡æœ‰æ¥è§¦è¿‡å‰ç«¯ï¼Œä¸çŸ¥é“å‰ç«¯çš„å®ä¹ æ–¹å¼ã€‚åé¢çœ‹æ‡‚äº†ä»£ç ï¼Œä½†æ˜¯å¦‚æœèƒ½æœ‰ä¸ªæµç¨‹å›¾æ ·çš„ç²—ç•¥è§£é‡Šå¯èƒ½ä¼šæ›´æœ‰åˆ©äºç†è§£å§ã€‚","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460975,"discussion_content":"å¤šè°¢å»ºè®®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564646839,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115189,"user_name":"Luke","can_delete":false,"product_type":"c1","uid":1216016,"ip_address":"","ucode":"C34D4C44DBCE03","user_header":"https://static001.geekbang.org/account/avatar/00/12/8e/10/10092bb1.jpg","comment_is_top":false,"comment_ctime":1563504509,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5858471805","product_id":100025201,"comment_content":"ä¿æŒè·Ÿè¿›ï¼Œç›®å‰åªèƒ½è¯´å¥½åƒæœ‰ç‚¹æ‡‚äº†ï¼Œè¿˜æ˜¯å¾—åœ¨è‡ªå·±é¡¹ç›®ä¸Šå¤šæ€è€ƒä¸‹ï¼Œä¸æ˜¯çœŸçš„æ‡‚äº†","like_count":1},{"had_liked":false,"id":115088,"user_name":"Aaron Cheung","can_delete":false,"product_type":"c1","uid":1079816,"ip_address":"","ucode":"03972759C53667","user_header":"https://static001.geekbang.org/account/avatar/00/10/7a/08/4d3e47dd.jpg","comment_is_top":false,"comment_ctime":1563492970,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5858460266","product_id":100025201,"comment_content":"å¤§å‰ç«¯ è¿˜æ˜¯éå¸¸æœ‰ä»·å€¼ æ‰“å¡","like_count":1},{"had_liked":false,"id":331857,"user_name":"FOCUS","can_delete":false,"product_type":"c1","uid":1140080,"ip_address":"","ucode":"DFE3078B632026","user_header":"https://static001.geekbang.org/account/avatar/00/11/65/70/7e137498.jpg","comment_is_top":false,"comment_ctime":1642836321,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642836321","product_id":100025201,"comment_content":"å…ˆæ˜¯å±‚ä¹‹é—´çš„åˆ‡åˆ†ï¼Œç®—ä½œä¸ºå±‚çº§çš„å­ç³»ç»Ÿï¼›<br>å±‚ï¼Œå…¶ä¸­çš„æ„æˆï¼Œå±‚é‡Œé¢çš„å­ç³»ç»Ÿï¼›<br>å±‚ä¸å±‚ä¹‹é—´çš„å…³ç³»ï¼›<br><br>æ¶æ„æŒ‡å¯¼åŸåˆ™ï¼š<br>1&gt; ç³»ç»Ÿçš„ç¨³å®šç‚¹ä¸å˜åŒ–ç‚¹;<br>2&gt; å‡å°‘è€¦åˆï¼Œå¦‚ï¼šcontroller ä¹‹é—´çš„ç­‰ï¼Œmodels çš„æ„æˆä¹‹é—´ï¼›<br>é—®é¢˜ï¼š<br>å¦‚ä½•æ€è€ƒï¼Œä»¥å‡å°‘è€¦åˆï¼Ÿ<br>å¦‚ä½•åŒºåˆ†ç¨³å®šç‚¹å’Œå˜åŒ–ç‚¹ï¼Ÿ","like_count":0},{"had_liked":false,"id":327689,"user_name":"é™å¿ƒ","can_delete":false,"product_type":"c1","uid":1335457,"ip_address":"","ucode":"EB264FA6519FDA","user_header":"https://static001.geekbang.org/account/avatar/00/14/60/a1/8f003697.jpg","comment_is_top":false,"comment_ctime":1640239128,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1640239128","product_id":100025201,"comment_content":"æ„Ÿè§‰è¦æƒ³çœŸæ­£ç†è§£è¿™ç¯‡æ–‡ç« éœ€è¦å…ˆäº†è§£MVCã€MVVMã€MVPå‡ ç§æ¶æ„æ¨¡å‹çš„åŒºåˆ«ã€‚å»ºè®®å‚è€ƒä¸€ä¸‹ä»¥ä¸‹æ–‡ç« ï¼šhttps:&#47;&#47;draveness.me&#47;mvx&#47;","like_count":0},{"had_liked":false,"id":313044,"user_name":"mÃ©ng","can_delete":false,"product_type":"c1","uid":1338665,"ip_address":"","ucode":"44DAD63C738E9F","user_header":"https://static001.geekbang.org/account/avatar/00/14/6d/29/ae69a30f.jpg","comment_is_top":false,"comment_ctime":1632226416,"is_pvip":false,"replies":[{"id":"113417","content":"vä¸ä¼šä¸»åŠ¨æ„ŸçŸ¥cã€‚m+væ„æˆåªè¯»çš„è½¯ä»¶ï¼Œç„¶åvåªæ˜¯æ— è„‘å§”æ‰˜äº‹ä»¶äº¤ç»™cï¼Œcæ¥å®ç°çœŸæ­£æ„ä¹‰ä¸Šçš„ç”¨æˆ·äº¤äº’","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1632266223,"ip_address":"","comment_id":313044,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1632226416","product_id":100025201,"comment_content":"çœ‹äº†ä¸€äº›è¯„è®ºï¼Œå¾—åˆ°ä¸€ä¸ªç†è§£ï¼Œä¸çŸ¥é“å¯¹ä¸å¯¹ï¼šè¿™é‡Œçš„mvcåªè®¨è®ºåˆ†å·¥ï¼Œç›¸å½“äºæ˜¯æŠŠé¢†åŸŸçš„åŠŸèƒ½æŒ‰èŒè´£åˆ†å·¥ã€‚modelæ˜¯ä¸šåŠ¡çš„æ ¸å¿ƒï¼Œå®ƒä¸å¹³å°æ— å…³ã€‚controlleræ˜¯é¢†åŸŸæœåŠ¡ï¼Œå³æ ¹æ®å…·ä½“çš„ä¹Ÿè®¸è¡Œä¸ºæä¾›è°ƒåº¦æœåŠ¡ã€‚viewå±‚åˆ™æ˜¯é’ˆå¯¹å…·ä½“çš„å¯è§†åŒ–å¹³å°å“åº”æ“ä½œã€‚<br><br>vè°ƒç”¨cè°ƒç”¨m","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527208,"discussion_content":"vä¸ä¼šä¸»åŠ¨æ„ŸçŸ¥cã€‚m+væ„æˆåªè¯»çš„è½¯ä»¶ï¼Œç„¶åvåªæ˜¯æ— è„‘å§”æ‰˜äº‹ä»¶äº¤ç»™cï¼Œcæ¥å®ç°çœŸæ­£æ„ä¹‰ä¸Šçš„ç”¨æˆ·äº¤äº’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632266223,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1338665,"avatar":"https://static001.geekbang.org/account/avatar/00/14/6d/29/ae69a30f.jpg","nickname":"mÃ©ng","note":"","ucode":"44DAD63C738E9F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":395797,"discussion_content":"æœ‰ç‚¹ç†è§£äº†ï¼Œvæ˜¯ä¸çŸ¥é“cçš„å­˜åœ¨çš„ï¼Œè€Œcè®¢é˜…vçš„äº‹ä»¶è¿›è¡Œå¤„ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632357114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313042,"user_name":"mÃ©ng","can_delete":false,"product_type":"c1","uid":1338665,"ip_address":"","ucode":"44DAD63C738E9F","user_header":"https://static001.geekbang.org/account/avatar/00/14/6d/29/ae69a30f.jpg","comment_is_top":false,"comment_ctime":1632225817,"is_pvip":false,"replies":[{"id":"113418","content":"åœ¨webä¸­ï¼Œä»æ¶æ„è§†è§’æ¥è¯´apiæœåŠ¡å±‚æ˜¯modelå±‚ï¼ˆå½“ç„¶æœ‰å¾ˆå¤šå…¬å¸ä¸æä¾›apiæœåŠ¡å±‚ï¼Œè¿™ä¸ªæ—¶å€™åº”è¯¥è®¤ä¸ºmodelå±‚ç”±æ•°æ®åº“å®ç°ï¼Œå’Œå•æœºè½¯ä»¶controllerç›´æ¥è®¿é—®å˜é‡çš„getter&#47;setteræ¥è¯´ï¼Œå±äºè´«è¡€çš„modelå±‚ã€‚viewå±‚ä¸»è¦æ˜¯æ¨¡æ¿å¼•æ“ï¼Œå®ƒå…³æ³¨çš„æ˜¯dataï¼ˆdomï¼‰å¦‚ä½•æ¸²æŸ“æˆhtml+jsï¼Œå¹¶ä¸”è®©ç•Œé¢æ“ä½œçš„äº‹ä»¶å…³è”ä¸Šå¯¹åº”çš„controllerã€‚å‰©ä¸‹æ¥çš„ä¸œè¥¿åŸºæœ¬ä¸Šéƒ½åº”è¯¥å½’ç±»ä¸ºconrollerå±‚ã€‚å¯¹äºèƒ–å‰ç«¯ï¼ˆç”¨jså®ç°ä¸šåŠ¡ï¼‰ï¼Œjså°±æ˜¯controllerã€‚å¯¹äºèƒ–åç«¯ï¼ˆæ¯”å¦‚ç”¨phpå®ç°ä¸šåŠ¡ï¼‰ï¼Œphpå°±æ˜¯controllerã€‚è¿™ä¸€å±‚æœ€é‡è¦çš„æ˜¯è§£è€¦ï¼Œå¦‚ä½•è®©ä¸åŒcontrollerå®ç°æ— å…³ï¼Œä¸ä¼šå½¼æ­¤è€¦åˆå¾—å¾ˆæ­»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1632266998,"ip_address":"","comment_id":313042,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632225817","product_id":100025201,"comment_content":"è€å¸ˆï¼Œå¯èƒ½æˆ‘ä¹ æƒ¯äº†webå¼€å‘é‚£å¥—mvcï¼Œå¯¹äºæ–‡ç« é‡Œæçš„mvcæ€»æ„Ÿè§‰å¯¹ä¸ä¸Šå·ã€‚è¿™é‡Œè¾¹è¯´çš„mvcæ˜¯æŒ‡ä¸€ä¸ªç±»é‡Œè¾¹åˆ†åˆ«å¯¹åº”è§†å›¾æ§åˆ¶å™¨æ¨¡å‹çš„å½’ç±»å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527207,"discussion_content":"åœ¨webä¸­ï¼Œä»æ¶æ„è§†è§’æ¥è¯´apiæœåŠ¡å±‚æ˜¯modelå±‚ï¼ˆå½“ç„¶æœ‰å¾ˆå¤šå…¬å¸ä¸æä¾›apiæœåŠ¡å±‚ï¼Œè¿™ä¸ªæ—¶å€™åº”è¯¥è®¤ä¸ºmodelå±‚ç”±æ•°æ®åº“å®ç°ï¼Œå’Œå•æœºè½¯ä»¶controllerç›´æ¥è®¿é—®å˜é‡çš„getter/setteræ¥è¯´ï¼Œå±äºè´«è¡€çš„modelå±‚ã€‚viewå±‚ä¸»è¦æ˜¯æ¨¡æ¿å¼•æ“ï¼Œå®ƒå…³æ³¨çš„æ˜¯dataï¼ˆdomï¼‰å¦‚ä½•æ¸²æŸ“æˆhtml+jsï¼Œå¹¶ä¸”è®©ç•Œé¢æ“ä½œçš„äº‹ä»¶å…³è”ä¸Šå¯¹åº”çš„controllerã€‚å‰©ä¸‹æ¥çš„ä¸œè¥¿åŸºæœ¬ä¸Šéƒ½åº”è¯¥å½’ç±»ä¸ºconrollerå±‚ã€‚å¯¹äºèƒ–å‰ç«¯ï¼ˆç”¨jså®ç°ä¸šåŠ¡ï¼‰ï¼Œjså°±æ˜¯controllerã€‚å¯¹äºèƒ–åç«¯ï¼ˆæ¯”å¦‚ç”¨phpå®ç°ä¸šåŠ¡ï¼‰ï¼Œphpå°±æ˜¯controllerã€‚è¿™ä¸€å±‚æœ€é‡è¦çš„æ˜¯è§£è€¦ï¼Œå¦‚ä½•è®©ä¸åŒcontrollerå®ç°æ— å…³ï¼Œä¸ä¼šå½¼æ­¤è€¦åˆå¾—å¾ˆæ­»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632266998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293959,"user_name":"æ¨æ¶›","can_delete":false,"product_type":"c1","uid":1082978,"ip_address":"","ucode":"2B6B6AEFFB54A3","user_header":"https://static001.geekbang.org/account/avatar/00/10/86/62/22e9aeb0.jpg","comment_is_top":false,"comment_ctime":1621650173,"is_pvip":false,"replies":[{"id":"106599","content":"å¤§ä½“çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š<br><br>type Todolist interface {<br>    Add(...) *Todo<br>    ...<br>}<br><br>type Todo interface {<br>    ...<br>}<br>","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1621678838,"ip_address":"","comment_id":293959,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1621650173","product_id":100025201,"comment_content":"ä¸ºä»€ä¹ˆmodelå±‚æ˜¯ä¸€ä¸ªdomæ ‘å‘¢ï¼Ÿå¦‚æœæ˜¯ä¸€ä¸ªtodolisté‚£å®ƒçš„modelåº”è¯¥æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520447,"discussion_content":"å¤§ä½“çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š\n\ntype Todolist interface {\n    Add(...) *Todo\n    ...\n}\n\ntype Todo interface {\n    ...\n}\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621678838,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1140080,"avatar":"https://static001.geekbang.org/account/avatar/00/11/65/70/7e137498.jpg","nickname":"FOCUS","note":"","ucode":"DFE3078B632026","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":547718,"discussion_content":"model æ˜¯ä¸€ä¸ª dom æ ‘ï¼Œæ˜¯ä¸€ä¸ªæ•´ä½“å±‚é¢çš„æŠ½è±¡ã€‚ç±»ä¼¼ä¸€ä¸ªå¥‘çº¦ã€‚ç„¶åå†å®ç°å…¶ä¸­çš„æ–¹æ³•ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642837622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":520447,"ip_address":""},"score":547718,"extra":""}]}]},{"had_liked":false,"id":287881,"user_name":"Simon","can_delete":false,"product_type":"c1","uid":1914504,"ip_address":"","ucode":"A8A2E3E57BD029","user_header":"https://static001.geekbang.org/account/avatar/00/1d/36/88/20b6a6ee.jpg","comment_is_top":false,"comment_ctime":1618206152,"is_pvip":true,"replies":[{"id":"104566","content":"æ‰€æœ‰controllerå¯¹ä»–æ¥è¯´éƒ½æ˜¯ä¸€è§†åŒä»ï¼Œæ— å·®å¼‚çš„æŠ½è±¡æ¥å£è¡¨è¾¾çš„å®ä¾‹","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1618234668,"ip_address":"","comment_id":287881,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1618206152","product_id":100025201,"comment_content":"â€œView å±‚è¿æ¥ Model ä¸ Controllerï¼Œå®ƒæä¾›äº‹ä»¶å§”æ‰˜ï¼ˆdelegateï¼‰æ–¹ä¾¿ Controller æ¥æ”¶æ„Ÿå…´è¶£çš„äº‹ä»¶ï¼Œä½†å®ƒä¸åº”è¯¥çŸ¥é“ä»»ä½•å…·ä½“çš„ Controllerâ€  æœ€åä¸€å¥â€œä¸åº”è¯¥çŸ¥é“ä»»ä½•å…·ä½“çš„ Controllerâ€ï¼Œâ€œä¸åº”è¯¥çŸ¥é“â€å…·ä½“æŒ‡ä»€ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518453,"discussion_content":"æ‰€æœ‰controllerå¯¹ä»–æ¥è¯´éƒ½æ˜¯ä¸€è§†åŒä»ï¼Œæ— å·®å¼‚çš„æŠ½è±¡æ¥å£è¡¨è¾¾çš„å®ä¾‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618234668,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287808,"user_name":"ä¸æ¸©æš–å•Šä¸çº¯è‰¯","can_delete":false,"product_type":"c1","uid":2079117,"ip_address":"","ucode":"204474A214E00C","user_header":"https://static001.geekbang.org/account/avatar/00/1f/b9/8d/00bded19.jpg","comment_is_top":false,"comment_ctime":1618154793,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618154793","product_id":100025201,"comment_content":"Modelå±‚æ˜¯ä¸šåŠ¡çš„ä½“ç°ï¼Œä»è¿™ä¸€å±‚ä»£ç å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ªç”»å›¾ç¨‹åºéƒ½æœ‰å“ªäº›ä¸šåŠ¡ï¼Ÿvmå±‚è´Ÿè´£å›¾å½¢çš„ç»˜åˆ¶ï¼Œcå±‚è´Ÿè´£æ§åˆ¶å¯åŠ¨ã€åœæ­¢ã€‚","like_count":0},{"had_liked":false,"id":279000,"user_name":"é’é“œ5 å‘¨ç¾¤åŠ›","can_delete":false,"product_type":"c1","uid":1111965,"ip_address":"","ucode":"EA80B442EC8A68","user_header":"https://static001.geekbang.org/account/avatar/00/10/f7/9d/c7295d17.jpg","comment_is_top":false,"comment_ctime":1613533266,"is_pvip":false,"replies":[{"id":"101404","content":"è¿™è¦çœ‹controlleræœ‰æ²¡æœ‰ä¸´æ—¶çŠ¶æ€ã€‚ä¸´æ—¶çŠ¶æ€æ˜¯æŒ‡domå’Œviewä¸æ„ŸçŸ¥çš„ä¸­é—´æ€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1613565016,"ip_address":"","comment_id":279000,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1613533266","product_id":100025201,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜ï¼š<br>1. ä¸ºå•¥controllerå±‚è®¾è®¡æˆæœ‰çŠ¶æ€çš„ï¼ˆæ¯”å¦‚QRectCreatorã€QPathCreatorç­‰å¯¹è±¡å†…éƒ¨å­˜äº†ç‚¹çš„åæ ‡ï¼‰ï¼Œå› ä¸ºç›´è§‰ä¸Šæˆ‘ä¼šè§‰å¾—è¿™äº›çŠ¶æ€æ•°æ®åº”è¯¥å±äºviewmodelå±‚æˆ–è€…modelå±‚ï¼Œè€Œæœ¬æ–‡åœ¨controllerå±‚ä¹Ÿæ”¾çŠ¶æ€ï¼Œå°±å¯¼è‡´viewmodel&#47;model&#47;controller ä¸‰å±‚éƒ½ç»´æŠ¤çŠ¶æ€ï¼Œæ„Ÿè§‰è¾¹ç•Œæ¨¡ç³Šã€‚æˆ‘æœ¬æ¥å¯¹mvcçš„ç†è§£æ˜¯viewå’Œmodelç»´æŠ¤çŠ¶æ€ï¼Œcontrollerä½œä¸ºä¸€ä¸ªè¡”æ¥å±‚ã€å¸®åŠ©viewå’Œmodelé€šä¿¡&#47;æ•°æ®åŒæ­¥ï¼Œä½†çœ‹äº†è¿™ä¸ªæ¡ˆä¾‹åå˜çš„åˆ†ä¸æ¸…å“ªäº›æ•°æ®è¯¥æ”¾å“ªä¸€å±‚äº†ï¼›<br>2. æ—¢ç„¶modelå±‚è€¦åˆäº†GDIã€ç”±modelå±‚ç›´æ¥ç”»ç•Œé¢ï¼Œé‚£ä¹ˆæ¸²æŸ“çš„æ—¶å€™æ˜¯ä¸æ˜¯å°±æ²¡å¿…è¦modelè°ƒviewå±‚çš„invalidateã€viewå±‚åˆè°ƒå›modelå±‚çš„onpaintã€modelå±‚å†æ“ä½œGDIï¼Œè¿™æ ·å¾ªç¯è°ƒç”¨æˆ‘ä»¬ç›´è§‰ä¸Šå°±ä¼šè§‰å¾—ä¸å¥½ï¼ˆæ¯”å¦‚ç³»ç»Ÿè®¾è®¡çš„æ—¶å€™ä¼šé¿å…å¾ªç¯ä¾èµ–ï¼‰ï¼Œæ˜¯ä¸æ˜¯å½“æ•°æ®å˜æ›´æ—¶ï¼Œç›´æ¥modelå±‚è‡ªå·±è°ƒGDIå°±å¥½äº†ï¼Œæ²¡å¿…è¦ç»•ä¸€åœˆé€šçŸ¥viewäº†<br>3. æ“ä½œGDIçš„é€»è¾‘ï¼Œæ˜¯å¦ä»modelå±‚å‰¥ç¦»å‡ºæ¥ã€æ”¾åˆ°viewmodelå±‚æˆ–è€…presenterå±‚æ›´å¥½ï¼Ÿæ„Ÿè§‰è¿™æ ·çœ‹ç€æ›´èˆ’æœâ€¦â€¦","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515591,"discussion_content":"è¿™è¦çœ‹controlleræœ‰æ²¡æœ‰ä¸´æ—¶çŠ¶æ€ã€‚ä¸´æ—¶çŠ¶æ€æ˜¯æŒ‡domå’Œviewä¸æ„ŸçŸ¥çš„ä¸­é—´æ€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613565016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222261,"user_name":"è¢«è®¨åŒçš„å‹‡æ°”","can_delete":false,"product_type":"c1","uid":1547913,"ip_address":"","ucode":"AE3B3CA27D91A2","user_header":"https://static001.geekbang.org/account/avatar/00/17/9e/89/6e9c05d6.jpg","comment_is_top":false,"comment_ctime":1590729504,"is_pvip":false,"replies":[{"id":"81940","content":"å‰é¢ä»‹ç»mvcçš„æ—¶å€™æè¿‡controllerå±‚ä¼šæœ‰è¾…åŠ©viewã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1590735470,"ip_address":"","comment_id":222261,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590729504","product_id":100025201,"comment_content":"å‰é¢æåˆ°è¿‡ï¼Œåœ¨Controlleråœ¨åšæŸäº›é€»è¾‘çš„è¿‡ç¨‹ä¸­ç”Ÿæˆçš„Viewå±äºControllerå±‚ã€‚<br>å®æˆ˜ä¸­å°†å‘½ä»¤èœå•å’ŒçŠ¶æ€æ˜¾ç¤ºç”¨é€”çš„ç•Œé¢å…ƒç´ ä¹Ÿåˆ’åˆ†åœ¨Controllerå±‚ï¼Œä¸ºä»€ä¹ˆï¼Ÿè¿™ä¸ªä¸å±äºControlleré€»è¾‘ä¸­ç”Ÿæˆçš„ï¼Œè¿™ç±»æŒ‰é’®ä¸åº”è¯¥å±äºViewå—ï¼Ÿæ˜¯ä¸ºäº†å°†ä¸åŒçš„ç•Œé¢ä»£ç å°è£…æˆå‡ ä¸ªæ–‡ä»¶å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496732,"discussion_content":"å‰é¢ä»‹ç»mvcçš„æ—¶å€™æè¿‡controllerå±‚ä¼šæœ‰è¾…åŠ©viewã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590735470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134350,"user_name":"Lukia","can_delete":false,"product_type":"c1","uid":1028698,"ip_address":"","ucode":"C19472337BCCC6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b2/5a/574f5bb0.jpg","comment_is_top":false,"comment_ctime":1568811693,"is_pvip":false,"replies":[{"id":"51524","content":"selection æœ€ç›´ç™½çš„ç†è§£æ˜¯è¢«é€‰ä¸­çš„å¯¹è±¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1568824103,"ip_address":"","comment_id":134350,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1568811693","product_id":100025201,"comment_content":"è®¸è€å¸ˆå¥½ï¼Œæ–‡ä¸­æœ‰å¾ˆå¤šåœ°æ–¹éƒ½ç”¨Selectionæ¦‚å¿µç”¨æ¥åšç±»æ¯”ã€‚é‚£ä¹ˆå…·ä½“åº”è¯¥æ€ä¹ˆå»ç†è§£Selectionè¿™ä¸ªæ¦‚å¿µå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467712,"discussion_content":"selection æœ€ç›´ç™½çš„ç†è§£æ˜¯è¢«é€‰ä¸­çš„å¯¹è±¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568824103,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122913,"user_name":"Tesla","can_delete":false,"product_type":"c1","uid":1500742,"ip_address":"","ucode":"98629AFD9861EE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKUcSLVV6ia3dibe7qvTu8Vic1PVs2EibxoUdx930MC7j2Q9A6s4eibMDZlcicMFY0D0icd3RrDorMChu0zw/132","comment_is_top":false,"comment_ctime":1565573069,"is_pvip":false,"replies":[{"id":"45191","content":"èƒ½å¤Ÿä¸¾ä¸€ä¸ªå®é™…çš„ä¾‹å­å—","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1565582894,"ip_address":"","comment_id":122913,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1565573069","product_id":100025201,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®ä¸€ä¸‹Controllerä¹‹é—´ä¸è¦çŸ¥é“å½¼æ­¤çš„æ„æ€ï¼Œæ˜¯ä¸è¦çŸ¥é“å½¼æ­¤å®ç°çš„ç»†èŠ‚å—ï¼Ÿæœ‰å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä¼šåœ¨ä¸€ä¸ªcontrolleræ–¹æ³•é‡Œè°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ï¼Œå°†åŠŸèƒ½ç»„åˆå†ä¼ åˆ°å®¢æˆ·ç«¯ï¼Œè¿™æ ·çš„åšæ³•å¥½ä¸å¥½å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462452,"discussion_content":"èƒ½å¤Ÿä¸¾ä¸€ä¸ªå®é™…çš„ä¾‹å­å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565582894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1500742,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKUcSLVV6ia3dibe7qvTu8Vic1PVs2EibxoUdx930MC7j2Q9A6s4eibMDZlcicMFY0D0icd3RrDorMChu0zw/132","nickname":"Tesla","note":"","ucode":"98629AFD9861EE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4597,"discussion_content":"æ¯”å¦‚è¯´ï¼Œæˆ‘æœ‰ä¸€ä¸ªå…‘æ¢ç å…‘æ¢åŠŸèƒ½ã€‚å¯ä»¥åœ¨å•†å“åˆ—è¡¨ï¼Œé€‰æ‹©ä½¿ç”¨å…‘æ¢ç æ¢è´­å•†å“ï¼ˆæ¥å£Aï¼‰ã€‚ä¹Ÿå¯ä»¥åœ¨å…‘æ¢ç åˆ—è¡¨ï¼Œç›´æ¥ä½¿ç”¨å…‘æ¢ç ï¼ˆæ¥å£Bï¼‰ã€‚ç”±äºå…‘æ¢ç çš„ç§ç±»å¾ˆå¤šï¼Œåœ¨è°ƒç”¨æ¥å£Båœ¨åˆ¤æ–­å…‘æ¢ç æ˜¯å¦å¯ç”¨ä»¥åï¼Œå¢åŠ äº†ä¸€ä¸ªå›è°ƒæ–¹æ³•é€šè¿‡åå°„æ‰§è¡Œä¸åŒçš„æ–¹æ³•ã€‚å¦‚æœæ˜¯æ¢è´­å•†å“çš„å…‘æ¢ç ï¼Œéœ€è¦ä¸‹è®¢å•ï¼Œæ˜¯å†å»è°ƒç”¨æ¥å£Açš„ã€‚ç®€è¨€ä¹‹ï¼Œæ˜¯ç³»ç»Ÿçš„å¤šä¸ªcontrolleråŠŸèƒ½æ•´åˆåˆ°äº†ä¸€ä¸ªæŒ‰é’®  ä¸€ä¸ªcontrollerä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565584734,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121644,"user_name":"YourSweetHeart","can_delete":false,"product_type":"c1","uid":1242122,"ip_address":"","ucode":"38843F447B03F2","user_header":"https://static001.geekbang.org/account/avatar/00/12/f4/0a/cf728857.jpg","comment_is_top":false,"comment_ctime":1565175750,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565175750","product_id":100025201,"comment_content":"åé¾™ç‚¹ç›","like_count":0},{"had_liked":false,"id":121633,"user_name":"humor","can_delete":false,"product_type":"c1","uid":1181867,"ip_address":"","ucode":"9B48C4C7BEC92C","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/ab/caec7bca.jpg","comment_is_top":false,"comment_ctime":1565171579,"is_pvip":false,"replies":[{"id":"44698","content":"ä¸ä¸€æ ·ï¼Œç”»çš„ä¸œè¥¿æ˜¯ä¸åŒçš„ä¸œè¥¿ã€‚ä½ å¯ä»¥æ³¨é‡Šæ‰è¿™å—çš„onpaintä»£ç çœ‹ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1565183070,"ip_address":"","comment_id":121633,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565171579","product_id":100025201,"comment_content":"ä¸ºä»€ä¹ˆcontrollerå±‚å’Œmodelå±‚éƒ½æœ‰onpaintæ–¹æ³•ï¼Œè¿™æ ·controllerå±‚çš„onpaintæ–¹æ³•ä¸å°±å¤šä½™äº†ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461885,"discussion_content":"ä¸ä¸€æ ·ï¼Œç”»çš„ä¸œè¥¿æ˜¯ä¸åŒçš„ä¸œè¥¿ã€‚ä½ å¯ä»¥æ³¨é‡Šæ‰è¿™å—çš„onpaintä»£ç çœ‹ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565183070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120957,"user_name":"Geek_88604f","can_delete":false,"product_type":"c1","uid":1501234,"ip_address":"","ucode":"33DD1318E53814","user_header":"","comment_is_top":false,"comment_ctime":1565018381,"is_pvip":false,"replies":[{"id":"44446","content":"controller","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1565019696,"ip_address":"","comment_id":120957,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565018381","product_id":100025201,"comment_content":"ä¸å¤ªæ˜ç™½æ˜¯è°æ¥è§¦å‘invalidateRectçš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461546,"discussion_content":"controller","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565019696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117658,"user_name":"lu","can_delete":false,"product_type":"c1","uid":1504513,"ip_address":"","ucode":"73DDE01840B42B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eps0D5NibFfFrQLJAtEJxJ9VQbUe7CLdDViavPYKMKvOCqwvqSDTOpXqsuicTQ1f2k47KAjfqEW99XwQ/132","comment_is_top":false,"comment_ctime":1564106514,"is_pvip":false,"replies":[{"id":"43139","content":"è¿™ä¸ªåœ¨27è®²","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1564135282,"ip_address":"","comment_id":117658,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1564106514","product_id":100025201,"comment_content":"å›¾å½¢æ‹–åŠ¨æˆ–ç‚¹å‡»çš„æ—¶å€™ï¼Œå¤–é¢çš„è™šçº¿çŸ©å½¢æ¡†ç»˜åˆ¶æ˜¯åœ¨å“ªé‡Œå®ç°çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460074,"discussion_content":"è¿™ä¸ªåœ¨27è®²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564135282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1504513,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eps0D5NibFfFrQLJAtEJxJ9VQbUe7CLdDViavPYKMKvOCqwvqSDTOpXqsuicTQ1f2k47KAjfqEW99XwQ/132","nickname":"lu","note":"","ucode":"73DDE01840B42B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3009,"discussion_content":"åˆšåœ¨QShapeSelectorçš„onpainté‡Œé¢çœ‹åˆ°äº†è™šçº¿çŸ©å½¢å¤–æ¡†çš„å®ç°ï¼Œè®¾è®¡çš„å¾ˆç²¾è‡´ï¼Œå‰å®³ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564110030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117182,"user_name":"Longerian","can_delete":false,"product_type":"c1","uid":1032464,"ip_address":"","ucode":"0B74EE70D09A2A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c1/10/28d5a686.jpg","comment_is_top":false,"comment_ctime":1563982988,"is_pvip":false,"replies":[{"id":"42969","content":"æ–‡ç« ä¸­çš„ç±»è§„æ ¼æ˜¯ä¼ªä»£ç ï¼Œé“¾æ¥ä¸­çš„ç¨‹åºæ˜¯jsä»£ç ","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1564029804,"ip_address":"","comment_id":117182,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563982988","product_id":100025201,"comment_content":"çœŸçš„æ˜¯jsä»£ç å—ğŸ˜‚ğŸ˜‚æˆ‘è¿˜ä»¥ä¸ºæ˜¯ä¼ªä»£ç ","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459850,"discussion_content":"æ–‡ç« ä¸­çš„ç±»è§„æ ¼æ˜¯ä¼ªä»£ç ï¼Œé“¾æ¥ä¸­çš„ç¨‹åºæ˜¯jsä»£ç ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564029804,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116496,"user_name":"Geek_88604f","can_delete":false,"product_type":"c1","uid":1501234,"ip_address":"","ucode":"33DD1318E53814","user_header":"","comment_is_top":false,"comment_ctime":1563858305,"is_pvip":false,"replies":[{"id":"42607","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1563860749,"ip_address":"","comment_id":116496,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563858305","product_id":100025201,"comment_content":"controllerå±‚çš„onpaintæœ€ç»ˆè°ƒç”¨çš„æ˜¯modelçš„onpaintå§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459567,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563860749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116210,"user_name":"æœ‰åªéª†é©¼","can_delete":false,"product_type":"c1","uid":1500694,"ip_address":"","ucode":"5575A4CDB409DF","user_header":"https://static001.geekbang.org/account/avatar/00/16/e6/16/7c8ab10c.jpg","comment_is_top":false,"comment_ctime":1563802212,"is_pvip":false,"replies":[{"id":"42510","content":"çœ‹ä¸‹ä»Šå¤©å‘çš„æ˜¯å¦ç¬¦åˆä½ çš„éœ€è¦","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1563807997,"ip_address":"","comment_id":116210,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563802212","product_id":100025201,"comment_content":"è¦çœ‹å¤šéå¹¶åŠ¨æ‰‹æ“ä½œæ‰èƒ½æ›´å¥½æ¶ˆåŒ–ã€‚è€å¸ˆèƒ½å¦æŠŠè„‘å›¾ä¹Ÿæ”¾å‡ºæ¥ä¸‹æ’’","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459435,"discussion_content":"çœ‹ä¸‹ä»Šå¤©å‘çš„æ˜¯å¦ç¬¦åˆä½ çš„éœ€è¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563807997,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115649,"user_name":"honnkyou","can_delete":false,"product_type":"c1","uid":1026608,"ip_address":"","ucode":"FD5EC4120EE803","user_header":"https://static001.geekbang.org/account/avatar/00/0f/aa/30/acc91f01.jpg","comment_is_top":false,"comment_ctime":1563682501,"is_pvip":false,"replies":[{"id":"42256","content":"æˆ‘æ–‡ç« ä¸­æœ‰è¯´ã€‚viewå±‚ä¸æƒ³çŸ¥é“modelå±‚æ•°æ®ç»“æ„ç»†èŠ‚çš„è¯ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æŠŠonpaintäº‹ä»¶å§”æ‰˜ç»™modelå±‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1563697271,"ip_address":"","comment_id":115649,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563682501","product_id":100025201,"comment_content":"è€å¸ˆï¼ŒModelå±‚è·Ÿviewå±‚ä¸­éƒ½åˆonpaintï¼Œä¸¤ä¸ªåŒºåˆ«æˆ–è€…ä¾§é‡æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459209,"discussion_content":"æˆ‘æ–‡ç« ä¸­æœ‰è¯´ã€‚viewå±‚ä¸æƒ³çŸ¥é“modelå±‚æ•°æ®ç»“æ„ç»†èŠ‚çš„è¯ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æŠŠonpaintäº‹ä»¶å§”æ‰˜ç»™modelå±‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563697271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":115114,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1563497509,"is_pvip":false,"replies":[{"id":"42080","content":"å®ç°äº†","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1563514150,"ip_address":"","comment_id":115114,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1563497509","product_id":100025201,"comment_content":"QPath è¿™äº›æ˜¯ä¸æ˜¯è¦å®ç°interface Shape ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458973,"discussion_content":"å®ç°äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563514150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
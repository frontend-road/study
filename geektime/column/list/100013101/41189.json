{"id":41189,"title":"24 | æµ‹è¯•çš„åŸºæœ¬è§„åˆ™å’Œæµç¨‹ï¼ˆä¸‹ï¼‰","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯éƒæ—ã€‚ä»Šå¤©æˆ‘åˆ†äº«çš„ä¸»é¢˜æ˜¯æµ‹è¯•çš„åŸºæœ¬è§„åˆ™å’Œæµç¨‹çš„ï¼ˆä¸‹ï¼‰ç¯‡ã€‚</p><p>Goè¯­è¨€æ˜¯ä¸€é—¨å¾ˆé‡è§†ç¨‹åºæµ‹è¯•çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ‰€ä»¥åœ¨ä¸Šä¸€ç¯‡ä¸­ï¼Œæˆ‘ä¸ä½ å†ä¸‰å¼ºè°ƒäº†ç¨‹åºæµ‹è¯•çš„é‡è¦æ€§ï¼ŒåŒæ—¶ï¼Œä¹Ÿä»‹ç»äº†å…³äº<code>go test</code>å‘½ä»¤çš„åŸºæœ¬è§„åˆ™å’Œä¸»è¦æµç¨‹çš„å†…å®¹ã€‚ä»Šå¤©æˆ‘ä»¬ç»§ç»­åˆ†äº«æµ‹è¯•çš„åŸºæœ¬è§„åˆ™å’Œæµç¨‹ã€‚æœ¬ç¯‡ä»£ç å’ŒæŒ‡ä»¤è¾ƒå¤šï¼Œä½ å¯ä»¥ç‚¹å‡»æ–‡ç« æŸ¥çœ‹åŸæ–‡ã€‚</p><h2>çŸ¥è¯†æ‰©å±•</h2><h3>é—®é¢˜ 1ï¼šæ€æ ·è§£é‡ŠåŠŸèƒ½æµ‹è¯•çš„æµ‹è¯•ç»“æœï¼Ÿ</h3><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹é¢çš„æµ‹è¯•å‘½ä»¤å’Œç»“æœï¼š</p><pre><code>$ go test puzzlers/article20/q2\nok   puzzlers/article20/q2 0.008s\n</code></pre><p>ä»¥<code>$</code>ç¬¦å·å¼€å¤´è¡¨æ˜æ­¤è¡Œå±•ç°çš„æ˜¯æˆ‘è¾“å…¥çš„å‘½ä»¤ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘è¾“å…¥äº†<code>go test puzzlers/article20/q2</code>ï¼Œè¿™è¡¨ç¤ºæˆ‘æƒ³å¯¹å¯¼å…¥è·¯å¾„ä¸º<code>puzzlers/article20/q2</code>çš„ä»£ç åŒ…è¿›è¡Œæµ‹è¯•ã€‚ä»£ç ä¸‹é¢ä¸€è¡Œå°±æ˜¯æ­¤æ¬¡æµ‹è¯•çš„ç®€è¦ç»“æœã€‚</p><p>è¿™ä¸ªç®€è¦ç»“æœæœ‰ä¸‰å—å†…å®¹ã€‚æœ€å·¦è¾¹çš„<code>ok</code>è¡¨ç¤ºæ­¤æ¬¡æµ‹è¯•æˆåŠŸï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰å‘ç°æµ‹è¯•ç»“æœä¸å¦‚é¢„æœŸçš„æƒ…å†µã€‚</p><p>å½“ç„¶äº†ï¼Œè¿™é‡Œå…¨ç”±æˆ‘ä»¬ç¼–å†™çš„æµ‹è¯•ä»£ç å†³å®šï¼Œæˆ‘ä»¬æ€»æ˜¯è®¤å®šæµ‹è¯•ä»£ç æœ¬èº«æ²¡æœ‰Bugï¼Œå¹¶ä¸”å¿ è¯šåœ°è½å®äº†æˆ‘ä»¬çš„æµ‹è¯•æ„å›¾ã€‚åœ¨æµ‹è¯•ç»“æœçš„ä¸­é—´ï¼Œæ˜¾ç¤ºçš„æ˜¯è¢«æµ‹ä»£ç åŒ…çš„å¯¼å…¥è·¯å¾„ã€‚</p><p>è€Œåœ¨æœ€å³è¾¹ï¼Œå±•ç°çš„æ˜¯æ­¤æ¬¡å¯¹è¯¥ä»£ç åŒ…çš„æµ‹è¯•æ‰€è€—è´¹çš„æ—¶é—´ï¼Œè¿™é‡Œæ˜¾ç¤ºçš„<code>0.008s</code>ï¼Œå³8æ¯«ç§’ã€‚ä¸è¿‡ï¼Œå½“æˆ‘ä»¬ç´§æ¥ç€ç¬¬äºŒæ¬¡è¿è¡Œè¿™ä¸ªå‘½ä»¤çš„æ—¶å€™ï¼Œè¾“å‡ºçš„æµ‹è¯•ç»“æœä¼šç•¥æœ‰ä¸åŒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><!-- [[[read_end]]] --><pre><code>$ go test puzzlers/article20/q2\nok   puzzlers/article20/q2 (cached)\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œç»“æœæœ€å³è¾¹çš„ä¸å†æ˜¯æµ‹è¯•è€—æ—¶ï¼Œè€Œæ˜¯<code>(cached)</code>ã€‚è¿™è¡¨æ˜ï¼Œç”±äºæµ‹è¯•ä»£ç ä¸è¢«æµ‹ä»£ç éƒ½æ²¡æœ‰ä»»ä½•å˜åŠ¨ï¼Œæ‰€ä»¥<code>go test</code>å‘½ä»¤ç›´æ¥æŠŠä¹‹å‰ç¼“å­˜æµ‹è¯•æˆåŠŸçš„ç»“æœæ‰“å°å‡ºæ¥äº†ã€‚</p><p>goå‘½ä»¤é€šå¸¸ä¼šç¼“å­˜ç¨‹åºæ„å»ºçš„ç»“æœï¼Œä»¥ä¾¿åœ¨å°†æ¥çš„æ„å»ºä¸­é‡ç”¨ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿è¡Œ<code>go env GOCACHE</code>å‘½ä»¤æ¥æŸ¥çœ‹ç¼“å­˜ç›®å½•çš„è·¯å¾„ã€‚ç¼“å­˜çš„æ•°æ®æ€»æ˜¯èƒ½å¤Ÿæ­£ç¡®åœ°åæ˜ å‡ºå½“æ—¶çš„å„ç§æºç æ–‡ä»¶ã€æ„å»ºç¯å¢ƒã€ç¼–è¯‘å™¨é€‰é¡¹ç­‰ç­‰çš„çœŸå®æƒ…å†µã€‚</p><p>ä¸€æ—¦æœ‰ä»»ä½•å˜åŠ¨ï¼Œç¼“å­˜æ•°æ®å°±ä¼šå¤±æ•ˆï¼Œgoå‘½ä»¤å°±ä¼šå†æ¬¡çœŸæ­£åœ°æ‰§è¡Œæ“ä½œã€‚æ‰€ä»¥æˆ‘ä»¬å¹¶ä¸ç”¨æ‹…å¿ƒæ‰“å°å‡ºçš„ç¼“å­˜æ•°æ®ä¸æ˜¯å®æ—¶çš„ç»“æœã€‚goå‘½ä»¤ä¼šå®šæœŸåœ°åˆ é™¤æœ€è¿‘æœªä½¿ç”¨çš„ç¼“å­˜æ•°æ®ï¼Œä½†æ˜¯ï¼Œå¦‚æœä½ æƒ³æ‰‹åŠ¨åˆ é™¤æ‰€æœ‰çš„ç¼“å­˜æ•°æ®ï¼Œè¿è¡Œä¸€ä¸‹<code>go clean -cache</code>å‘½ä»¤å°±å¥½äº†ã€‚</p><p>å¯¹äºæµ‹è¯•æˆåŠŸçš„ç»“æœï¼Œgoå‘½ä»¤ä¹Ÿæ˜¯ä¼šç¼“å­˜çš„ã€‚è¿è¡Œ<code>go clean -testcache</code>å°†ä¼šåˆ é™¤æ‰€æœ‰çš„æµ‹è¯•ç»“æœç¼“å­˜ã€‚ä¸è¿‡ï¼Œè¿™æ ·åšè‚¯å®šä¸ä¼šåˆ é™¤ä»»ä½•æ„å»ºç»“æœç¼“å­˜ã€‚</p><blockquote>\n<p>æ­¤å¤–ï¼Œè®¾ç½®ç¯å¢ƒå˜é‡<code>GODEBUG</code>çš„å€¼ä¹Ÿå¯ä»¥ç¨ç¨åœ°æ”¹å˜goå‘½ä»¤çš„ç¼“å­˜è¡Œä¸ºã€‚æ¯”å¦‚ï¼Œè®¾ç½®å€¼ä¸º<code>gocacheverify=1</code>å°†ä¼šå¯¼è‡´goå‘½ä»¤ç»•è¿‡ä»»ä½•çš„ç¼“å­˜æ•°æ®ï¼Œè€ŒçœŸæ­£åœ°æ‰§è¡Œæ“ä½œå¹¶é‡æ–°ç”Ÿæˆæ‰€æœ‰ç»“æœï¼Œç„¶åå†å»æ£€æŸ¥æ–°çš„ç»“æœä¸ç°æœ‰çš„ç¼“å­˜æ•°æ®æ˜¯å¦ä¸€è‡´ã€‚</p>\n</blockquote><p>æ€»ä¹‹ï¼Œæˆ‘ä»¬å¹¶ä¸ç”¨åœ¨æ„ç¼“å­˜æ•°æ®çš„å­˜åœ¨ï¼Œå› ä¸ºå®ƒä»¬è‚¯å®šä¸ä¼šå¦¨ç¢<code>go test</code>å‘½ä»¤æ‰“å°æ­£ç¡®çš„æµ‹è¯•ç»“æœã€‚</p><p>ä½ å¯èƒ½ä¼šé—®ï¼Œå¦‚æœæµ‹è¯•å¤±è´¥ï¼Œå‘½ä»¤æ‰“å°çš„ç»“æœå°†ä¼šæ˜¯æ€æ ·çš„ï¼Ÿå¦‚æœåŠŸèƒ½æµ‹è¯•å‡½æ•°çš„é‚£ä¸ªå”¯ä¸€å‚æ•°è¢«å‘½åä¸º<code>t</code>ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬åœ¨å…¶ä¸­è°ƒç”¨<code>t.Fail</code>æ–¹æ³•æ—¶ï¼Œè™½ç„¶å½“å‰çš„æµ‹è¯•å‡½æ•°ä¼šç»§ç»­æ‰§è¡Œä¸‹å»ï¼Œä½†æ˜¯ç»“æœä¼šæ˜¾ç¤ºè¯¥æµ‹è¯•å¤±è´¥ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>$ go test puzzlers/article20/q2\n--- FAIL: TestFail (0.00s)\n demo53_test.go:49: Failed.\nFAIL\nFAIL puzzlers/article20/q2 0.007s\n</code></pre><p>æˆ‘ä»¬è¿è¡Œçš„å‘½ä»¤ä¸ä¹‹å‰æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯æˆ‘æ–°å¢äº†ä¸€ä¸ªåŠŸèƒ½æµ‹è¯•å‡½æ•°<code>TestFail</code>ï¼Œå¹¶åœ¨å…¶ä¸­è°ƒç”¨äº†<code>t.Fail</code>æ–¹æ³•ã€‚æµ‹è¯•ç»“æœæ˜¾ç¤ºï¼Œå¯¹è¢«æµ‹ä»£ç åŒ…çš„æµ‹è¯•ï¼Œç”±äº<code>TestFail</code>å‡½æ•°çš„æµ‹è¯•å¤±è´¥è€Œå®£å‘Šå¤±è´¥ã€‚</p><p>æ³¨æ„ï¼Œå¯¹äºå¤±è´¥æµ‹è¯•çš„ç»“æœï¼Œ<code>go test</code>å‘½ä»¤å¹¶ä¸ä¼šè¿›è¡Œç¼“å­˜ï¼Œæ‰€ä»¥ï¼Œè¿™ç§æƒ…å†µä¸‹çš„æ¯æ¬¡æµ‹è¯•éƒ½ä¼šäº§ç”Ÿå…¨æ–°çš„ç»“æœã€‚å¦å¤–ï¼Œå¦‚æœæµ‹è¯•å¤±è´¥äº†ï¼Œé‚£ä¹ˆ<code>go test</code>å‘½ä»¤å°†ä¼šå¯¼è‡´ï¼šå¤±è´¥çš„æµ‹è¯•å‡½æ•°ä¸­çš„å¸¸è§„æµ‹è¯•æ—¥å¿—ä¸€å¹¶è¢«æ‰“å°å‡ºæ¥ã€‚</p><p>åœ¨è¿™é‡Œçš„æµ‹è¯•ç»“æœä¸­ï¼Œä¹‹æ‰€ä»¥æ˜¾ç¤ºäº†â€œdemo53_test.go:49: Failed.â€è¿™ä¸€è¡Œï¼Œæ˜¯å› ä¸ºæˆ‘åœ¨<code>TestFail</code>å‡½æ•°ä¸­çš„è°ƒç”¨è¡¨è¾¾å¼<code>t.Fail()</code>çš„ä¸‹è¾¹ç¼–å†™äº†ä»£ç <code>t.Log(\"Failed.\")</code>ã€‚</p><p><code>t.Log</code>æ–¹æ³•ä»¥åŠ<code>t.Logf</code>æ–¹æ³•çš„ä½œç”¨ï¼Œå°±æ˜¯æ‰“å°å¸¸è§„çš„æµ‹è¯•æ—¥å¿—ï¼Œåªä¸è¿‡å½“æµ‹è¯•æˆåŠŸçš„æ—¶å€™ï¼Œ<code>go test</code>å‘½ä»¤å°±ä¸ä¼šæ‰“å°è¿™ç±»æ—¥å¿—äº†ã€‚å¦‚æœä½ æƒ³åœ¨æµ‹è¯•ç»“æœä¸­çœ‹åˆ°æ‰€æœ‰çš„å¸¸è§„æµ‹è¯•æ—¥å¿—ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨è¿è¡Œ<code>go test</code>å‘½ä»¤çš„æ—¶å€™åŠ å…¥æ ‡è®°<code>-v</code>ã€‚</p><blockquote>\n<p>è‹¥æˆ‘ä»¬æƒ³è®©æŸä¸ªæµ‹è¯•å‡½æ•°åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ç«‹å³å¤±è´¥ï¼Œåˆ™å¯ä»¥åœ¨è¯¥å‡½æ•°ä¸­è°ƒç”¨<code>t.FailNow</code>æ–¹æ³•ã€‚</p>\n<p>æˆ‘åœ¨ä¸‹é¢æŠŠ<code>TestFail</code>å‡½æ•°ä¸­çš„<code>t.Fail()</code>æ”¹ä¸º<code>t.FailNow()</code>ã€‚</p>\n<p>ä¸<code>t.Fail()</code>ä¸åŒï¼Œåœ¨<code>t.FailNow()</code>æ‰§è¡Œä¹‹åï¼Œå½“å‰å‡½æ•°ä¼šç«‹å³ç»ˆæ­¢æ‰§è¡Œã€‚æ¢å¥è¯è¯´ï¼Œè¯¥è¡Œä»£ç ä¹‹åçš„æ‰€æœ‰ä»£ç éƒ½ä¼šå¤±å»æ‰§è¡Œæœºä¼šã€‚åœ¨è¿™æ ·ä¿®æ”¹ä¹‹åï¼Œæˆ‘å†æ¬¡è¿è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œå¾—åˆ°çš„ç»“æœå¦‚ä¸‹ï¼š</p>\n</blockquote><pre><code>--- FAIL: TestFail (0.00s)\nFAIL\nFAIL puzzlers/article20/q2 0.008s\n</code></pre><blockquote>\n<p>æ˜¾ç„¶ï¼Œä¹‹å‰æ˜¾ç¤ºåœ¨ç»“æœä¸­çš„å¸¸è§„æµ‹è¯•æ—¥å¿—å¹¶æ²¡æœ‰å‡ºç°åœ¨è¿™é‡Œã€‚</p>\n</blockquote><p>é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œå¦‚æœä½ æƒ³åœ¨æµ‹è¯•å¤±è´¥çš„åŒæ—¶æ‰“å°å¤±è´¥æµ‹è¯•æ—¥å¿—ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥è°ƒç”¨<code>t.Error</code>æ–¹æ³•æˆ–è€…<code>t.Errorf</code>æ–¹æ³•ã€‚</p><p>å‰è€…ç›¸å½“äº<code>t.Log</code>æ–¹æ³•å’Œ<code>t.Fail</code>æ–¹æ³•çš„è¿ç»­è°ƒç”¨ï¼Œè€Œåè€…ä¹Ÿä¸ä¹‹ç±»ä¼¼ï¼Œåªä¸è¿‡å®ƒç›¸å½“äºå…ˆè°ƒç”¨äº†<code>t.Logf</code>æ–¹æ³•ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰<code>t.Fatal</code>æ–¹æ³•å’Œ<code>t.Fatalf</code>æ–¹æ³•ï¼Œå®ƒä»¬çš„ä½œç”¨æ˜¯åœ¨æ‰“å°å¤±è´¥é”™è¯¯æ—¥å¿—ä¹‹åç«‹å³ç»ˆæ­¢å½“å‰æµ‹è¯•å‡½æ•°çš„æ‰§è¡Œå¹¶å®£å‘Šæµ‹è¯•å¤±è´¥ã€‚æ›´å…·ä½“åœ°è¯´ï¼Œè¿™ç›¸å½“äºå®ƒä»¬åœ¨æœ€åéƒ½è°ƒç”¨äº†<code>t.FailNow</code>æ–¹æ³•ã€‚</p><p>å¥½äº†ï¼Œåˆ°æ­¤ä¸ºæ­¢ï¼Œä½ æ˜¯ä¸æ˜¯å·²ç»ä¼šè§£è¯»åŠŸèƒ½æµ‹è¯•çš„æµ‹è¯•ç»“æœäº†å‘¢ï¼Ÿ</p><h3>é—®é¢˜ 2ï¼šæ€æ ·è§£é‡Šæ€§èƒ½æµ‹è¯•çš„æµ‹è¯•ç»“æœï¼Ÿ</h3><p>æ€§èƒ½æµ‹è¯•ä¸åŠŸèƒ½æµ‹è¯•çš„ç»“æœæ ¼å¼æœ‰å¾ˆå¤šç›¸ä¼¼çš„åœ°æ–¹ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œä»…å…³æ³¨å‰è€…çš„ç‰¹æ®Šä¹‹å¤„ã€‚è¯·çœ‹ä¸‹é¢çš„æ‰“å°ç»“æœã€‚</p><pre><code>$ go test -bench=. -run=^$ puzzlers/article20/q3\ngoos: darwin\ngoarch: amd64\npkg: puzzlers/article20/q3\nBenchmarkGetPrimes-8      500000       2314 ns/op\nPASS\nok   puzzlers/article20/q3 1.192s\n</code></pre><p>æˆ‘åœ¨è¿è¡Œ<code>go test</code>å‘½ä»¤çš„æ—¶å€™åŠ äº†ä¸¤ä¸ªæ ‡è®°ã€‚ç¬¬ä¸€ä¸ªæ ‡è®°åŠå…¶å€¼ä¸º<code>-bench=.</code>ï¼Œåªæœ‰æœ‰äº†è¿™ä¸ªæ ‡è®°ï¼Œå‘½ä»¤æ‰ä¼šè¿›è¡Œæ€§èƒ½æµ‹è¯•ã€‚è¯¥æ ‡è®°çš„å€¼<code>.</code>è¡¨æ˜éœ€è¦æ‰§è¡Œä»»æ„åç§°çš„æ€§èƒ½æµ‹è¯•å‡½æ•°ï¼Œå½“ç„¶äº†ï¼Œå‡½æ•°åç§°è¿˜æ˜¯è¦ç¬¦åˆGoç¨‹åºæµ‹è¯•çš„åŸºæœ¬è§„åˆ™çš„ã€‚</p><p>ç¬¬äºŒä¸ªæ ‡è®°åŠå…¶å€¼æ˜¯<code>-run=^$</code>ï¼Œè¿™ä¸ªæ ‡è®°ç”¨äºè¡¨æ˜éœ€è¦æ‰§è¡Œå“ªäº›åŠŸèƒ½æµ‹è¯•å‡½æ•°ï¼Œè¿™åŒæ ·ä¹Ÿæ˜¯ä»¥å‡½æ•°åç§°ä¸ºä¾æ®çš„ã€‚è¯¥æ ‡è®°çš„å€¼<code>^$</code>æ„å‘³ç€ï¼šåªæ‰§è¡Œåç§°ä¸ºç©ºçš„åŠŸèƒ½æµ‹è¯•å‡½æ•°ï¼Œæ¢å¥è¯è¯´ï¼Œä¸æ‰§è¡Œä»»ä½•åŠŸèƒ½æµ‹è¯•å‡½æ•°ã€‚</p><p>ä½ å¯èƒ½å·²ç»çœ‹å‡ºæ¥äº†ï¼Œè¿™ä¸¤ä¸ªæ ‡è®°çš„å€¼éƒ½æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚å®é™…ä¸Šï¼Œå®ƒä»¬åªèƒ½ä»¥æ­£åˆ™è¡¨è¾¾å¼ä¸ºå€¼ã€‚æ­¤å¤–ï¼Œå¦‚æœè¿è¡Œ<code>go test</code>å‘½ä»¤çš„æ—¶å€™ä¸åŠ <code>-run</code>æ ‡è®°ï¼Œé‚£ä¹ˆå°±ä¼šä½¿å®ƒæ‰§è¡Œè¢«æµ‹ä»£ç åŒ…ä¸­çš„æ‰€æœ‰åŠŸèƒ½æµ‹è¯•å‡½æ•°ã€‚</p><p>å†æ¥çœ‹æµ‹è¯•ç»“æœï¼Œé‡ç‚¹è¯´ä¸€ä¸‹å€’æ•°ç¬¬ä¸‰è¡Œçš„å†…å®¹ã€‚<code>BenchmarkGetPrimes-8</code>è¢«ç§°ä¸ºå•ä¸ªæ€§èƒ½æµ‹è¯•çš„åç§°ï¼Œå®ƒè¡¨ç¤ºå‘½ä»¤æ‰§è¡Œäº†æ€§èƒ½æµ‹è¯•å‡½æ•°<code>BenchmarkGetPrimes</code>ï¼Œå¹¶ä¸”å½“æ—¶æ‰€ç”¨çš„æœ€å¤§Pæ•°é‡ä¸º<code>8</code>ã€‚</p><p>æœ€å¤§Pæ•°é‡ç›¸å½“äºå¯ä»¥åŒæ—¶è¿è¡Œgoroutineçš„é€»è¾‘CPUçš„æœ€å¤§ä¸ªæ•°ã€‚è¿™é‡Œçš„é€»è¾‘CPUï¼Œä¹Ÿå¯ä»¥è¢«ç§°ä¸ºCPUæ ¸å¿ƒï¼Œä½†å®ƒå¹¶ä¸ç­‰åŒäºè®¡ç®—æœºä¸­çœŸæ­£çš„CPUæ ¸å¿ƒï¼Œåªæ˜¯Goè¯­è¨€è¿è¡Œæ—¶ç³»ç»Ÿå†…éƒ¨çš„ä¸€ä¸ªæ¦‚å¿µï¼Œä»£è¡¨ç€å®ƒåŒæ—¶è¿è¡Œgoroutineçš„èƒ½åŠ›ã€‚</p><p>é¡ºä¾¿è¯´ä¸€å¥ï¼Œä¸€å°è®¡ç®—æœºçš„CPUæ ¸å¿ƒçš„ä¸ªæ•°ï¼Œæ„å‘³ç€å®ƒèƒ½åœ¨åŒä¸€æ—¶åˆ»æ‰§è¡Œå¤šå°‘æ¡ç¨‹åºæŒ‡ä»¤ï¼Œä»£è¡¨ç€å®ƒå¹¶è¡Œå¤„ç†ç¨‹åºæŒ‡ä»¤çš„èƒ½åŠ›ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨ <code>runtime.GOMAXPROCS</code>å‡½æ•°æ”¹å˜æœ€å¤§Pæ•°é‡ï¼Œä¹Ÿå¯ä»¥åœ¨è¿è¡Œ<code>go test</code>å‘½ä»¤æ—¶ï¼ŒåŠ å…¥æ ‡è®°<code>-cpu</code>æ¥è®¾ç½®ä¸€ä¸ªæœ€å¤§Pæ•°é‡çš„åˆ—è¡¨ï¼Œä»¥ä¾›å‘½ä»¤åœ¨å¤šæ¬¡æµ‹è¯•æ—¶ä½¿ç”¨ã€‚</p><p>è‡³äºæ€æ ·ä½¿ç”¨è¿™ä¸ªæ ‡è®°ï¼Œä»¥åŠ<code>go test</code>å‘½ä»¤æ‰§è¡Œçš„æµ‹è¯•æµç¨‹ï¼Œä¼šå› æ­¤åšå‡ºæ€æ ·çš„æ”¹å˜ï¼Œæˆ‘ä»¬åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­å†è®¨è®ºã€‚</p><p>åœ¨æ€§èƒ½æµ‹è¯•åç§°å³è¾¹çš„æ˜¯ï¼Œ<code>go test</code>å‘½ä»¤æœ€åä¸€æ¬¡æ‰§è¡Œæ€§èƒ½æµ‹è¯•å‡½æ•°ï¼ˆå³<code>BenchmarkGetPrimes</code>å‡½æ•°ï¼‰çš„æ—¶å€™ï¼Œè¢«æµ‹å‡½æ•°ï¼ˆå³<code>GetPrimes</code>å‡½æ•°ï¼‰è¢«æ‰§è¡Œçš„å®é™…æ¬¡æ•°ã€‚è¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</p><p><code>go test</code>å‘½ä»¤åœ¨æ‰§è¡Œæ€§èƒ½æµ‹è¯•å‡½æ•°çš„æ—¶å€™ä¼šç»™å®ƒä¸€ä¸ªæ­£æ•´æ•°ï¼Œè‹¥è¯¥æµ‹è¯•å‡½æ•°çš„å”¯ä¸€å‚æ•°çš„åç§°ä¸º<code>b</code>ï¼Œåˆ™è¯¥æ­£æ•´æ•°å°±ç”±<code>b.N</code>ä»£è¡¨ã€‚æˆ‘ä»¬åº”è¯¥åœ¨æµ‹è¯•å‡½æ•°ä¸­é…åˆç€ç¼–å†™ä»£ç ï¼Œæ¯”å¦‚ï¼š</p><pre><code>for i := 0; i &lt; b.N; i++ {\n GetPrimes(1000)\n}\n</code></pre><p>æˆ‘åœ¨ä¸€ä¸ªä¼šè¿­ä»£<code>b.N</code>æ¬¡çš„å¾ªç¯ä¸­è°ƒç”¨äº†<code>GetPrimes</code>å‡½æ•°ï¼Œå¹¶ç»™äºˆå®ƒå‚æ•°å€¼<code>1000</code>ã€‚<code>go test</code>å‘½ä»¤ä¼šå…ˆå°è¯•æŠŠ<code>b.N</code>è®¾ç½®ä¸º<code>1</code>ï¼Œç„¶åæ‰§è¡Œæµ‹è¯•å‡½æ•°ã€‚</p><p>å¦‚æœæµ‹è¯•å‡½æ•°çš„æ‰§è¡Œæ—¶é—´æ²¡æœ‰è¶…è¿‡ä¸Šé™ï¼Œæ­¤ä¸Šé™é»˜è®¤ä¸º1ç§’ï¼Œé‚£ä¹ˆå‘½ä»¤å°±ä¼šæ”¹å¤§<code>b.N</code>çš„å€¼ï¼Œç„¶åå†æ¬¡æ‰§è¡Œæµ‹è¯•å‡½æ•°ï¼Œå¦‚æ­¤å¾€å¤ï¼Œç›´åˆ°è¿™ä¸ªæ—¶é—´å¤§äºæˆ–ç­‰äºä¸Šé™ä¸ºæ­¢ã€‚</p><p>å½“æŸæ¬¡æ‰§è¡Œçš„æ—¶é—´å¤§äºæˆ–ç­‰äºä¸Šé™æ—¶ï¼Œæˆ‘ä»¬å°±è¯´è¿™æ˜¯å‘½ä»¤æ­¤æ¬¡å¯¹è¯¥æµ‹è¯•å‡½æ•°çš„æœ€åä¸€æ¬¡æ‰§è¡Œã€‚è¿™æ—¶çš„<code>b.N</code>çš„å€¼å°±ä¼šè¢«åŒ…å«åœ¨æµ‹è¯•ç»“æœä¸­ï¼Œä¹Ÿå°±æ˜¯ä¸Šè¿°æµ‹è¯•ç»“æœä¸­çš„<code>500000</code>ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç®€ç§°è¯¥å€¼ä¸ºæ‰§è¡Œæ¬¡æ•°ï¼Œä½†è¦æ³¨æ„ï¼Œå®ƒæŒ‡çš„æ˜¯è¢«æµ‹å‡½æ•°çš„æ‰§è¡Œæ¬¡æ•°ï¼Œè€Œä¸æ˜¯æ€§èƒ½æµ‹è¯•å‡½æ•°çš„æ‰§è¡Œæ¬¡æ•°ã€‚</p><p>æœ€åå†çœ‹è¿™ä¸ªæ‰§è¡Œæ¬¡æ•°çš„å³è¾¹ï¼Œ<code>2314 ns/op</code>è¡¨æ˜å•æ¬¡æ‰§è¡Œ<code>GetPrimes</code>å‡½æ•°çš„å¹³å‡è€—æ—¶ä¸º<code>2314</code>çº³ç§’ã€‚è¿™å…¶å®å°±æ˜¯é€šè¿‡å°†æœ€åä¸€æ¬¡æ‰§è¡Œæµ‹è¯•å‡½æ•°æ—¶çš„æ‰§è¡Œæ—¶é—´ï¼Œé™¤ä»¥ï¼ˆè¢«æµ‹å‡½æ•°çš„ï¼‰æ‰§è¡Œæ¬¡æ•°è€Œå¾—å‡ºçš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/78/69/78d4c73a9aa9d48b59d3fd304d4b2069.png?wh=1558*708\" alt=\"\"></p><p>ï¼ˆæ€§èƒ½æµ‹è¯•ç»“æœçš„åŸºæœ¬è§£è¯»ï¼‰</p><p>ä»¥ä¸Šè¿™äº›ï¼Œå°±æ˜¯å¯¹é»˜è®¤æƒ…å†µä¸‹çš„æ€§èƒ½æµ‹è¯•ç»“æœçš„åŸºæœ¬è§£è¯»ã€‚ä½ çœ‹æ˜ç™½äº†å—ï¼Ÿ</p><h2>æ€»ç»“</h2><p>æ³¨æ„ï¼Œå¯¹äºåŠŸèƒ½æµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•ï¼Œå‘½ä»¤æ‰§è¡Œæµ‹è¯•æµç¨‹çš„æ–¹å¼ä¼šæœ‰äº›ä¸åŒã€‚å¦å¤–ä¸€ä¸ªé‡è¦çš„é—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬åœ¨ä¸<code>go test</code>å‘½ä»¤äº¤äº’æ—¶ï¼Œæ€æ ·è§£è¯»å®ƒæä¾›ç»™æˆ‘ä»¬çš„ä¿¡æ¯ã€‚åªæœ‰è§£è¯»æ­£ç¡®ï¼Œä½ æ‰èƒ½çŸ¥é“æµ‹è¯•çš„æˆåŠŸä¸å¦ï¼Œå¤±è´¥çš„å…·ä½“åŸå› ä»¥åŠä¸¥é‡ç¨‹åº¦ç­‰ç­‰ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œå¯¹äºæ€§èƒ½æµ‹è¯•ï¼Œä½ è¿˜éœ€è¦å…³æ³¨å‘½ä»¤è¾“å‡ºçš„è®¡ç®—èµ„æºä½¿ç”¨æç¤ºï¼Œä»¥åŠå„ç§æ€§èƒ½åº¦é‡ã€‚</p><p>è¿™ä¸¤ç¯‡çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†ä¸å°‘ä¸œè¥¿ï¼Œä½†æ˜¯å…¶å®è¿˜ä¸å¤Ÿã€‚æˆ‘ä»¬åªæ˜¯æ¢è®¨äº†<code>go test</code>å‘½ä»¤ä»¥åŠ<code>testing</code>åŒ…çš„åŸºæœ¬ä½¿ç”¨æ–¹å¼ã€‚</p><p>åœ¨ä¸‹ä¸€ç¯‡ï¼Œæˆ‘ä»¬è¿˜ä¼šè®¨è®ºæ›´é«˜çº§çš„å†…å®¹ã€‚è¿™å°†æ¶‰åŠ<code>go test</code>å‘½ä»¤çš„å„ç§æ ‡è®°ã€<code>testing</code>åŒ…çš„æ›´å¤šAPIï¼Œä»¥åŠæ›´å¤æ‚çš„æµ‹è¯•ç»“æœã€‚</p><h2>æ€è€ƒé¢˜</h2><p>åœ¨ç¼–å†™ç¤ºä¾‹æµ‹è¯•å‡½æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ€æ ·æŒ‡å®šé¢„æœŸçš„æ‰“å°å†…å®¹ï¼Ÿ</p><p><a href=\"https://github.com/hyper0x/Golang_Puzzlers\">æˆ³æ­¤æŸ¥çœ‹Goè¯­è¨€ä¸“æ æ–‡ç« é…å¥—è¯¦ç»†ä»£ç ã€‚</a></p><p></p>","comments":[{"had_liked":false,"id":215872,"user_name":"HF","can_delete":false,"product_type":"c1","uid":1060150,"ip_address":"","ucode":"EA504931C0B932","user_header":"https://static001.geekbang.org/account/avatar/00/10/2d/36/d3c8d272.jpg","comment_is_top":false,"comment_ctime":1589122830,"is_pvip":false,"replies":[{"id":"79967","content":"ç½‘ä¸Šæœ‰ä¸å°‘ç›¸å…³çš„æ–‡ç« ã€‚æˆ‘è¯´3ç‚¹åŸºæœ¬çš„å§ï¼š<br><br>1. éšè—ä¸è¯¥æš´éœ²çš„ã€‚æµ‹è¯•ä»£ç ç›¸å½“äºä½¿ç”¨ä½ ç¨‹åºçš„ä¸€æ–¹ï¼Œä¸è¦è®©å®ƒèƒ½å¤Ÿå½±å“ç”šè‡³ç ´åä½ çš„ç¨‹åºã€‚<br>2. æš´éœ²å‡ºæ¥çš„APIåº”è¯¥å¯¹ä½¿ç”¨è€…å‹å¥½ã€‚æ¢å¥è¯ä¼šæ‰€ï¼Œå¦‚æœåœ¨å†™æµ‹è¯•ä»£ç çš„æ—¶å€™ï¼Œä½ å‘ç°APIè°ƒç”¨èµ·æ¥ä¸é‚£ä¹ˆé¡ºç•…ï¼Œé‚£ä¹ˆå°±éœ€è¦è€ƒè™‘ç¨‹åºçš„APIæ˜¯å¦å¾—å½“äº†ã€‚<br>3. ä¿æŒAPIåœ¨é£æ ¼ä¸Šçš„ä¸€è‡´æ€§ã€‚é£æ ¼ä¸€è‡´çš„ç¨‹åºæœ‰åŠ©äºä½¿ç”¨æ–¹å¿«é€Ÿè¿ç”¨å’Œç†è§£ç¨‹åºã€‚<br><br>è¿™3ç‚¹æ˜¯åŸºæœ¬çš„åŸåˆ™äº†ï¼Œå…¶ä»–çš„ç»†èŠ‚ä¸Šçš„ä¸œè¥¿è¯´åˆ°åº•éƒ½æ˜¯ä¸ºäº†åšåˆ°è¿™3ç‚¹çš„ã€‚æµ‹è¯•ä»£ç å°±æ˜¯å¯¹ç”Ÿäº§ä»£ç çš„å‰æœŸéªŒè¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1589185637,"ip_address":"","comment_id":215872,"utype":1}],"discussion_count":1,"race_medal":0,"score":"61718664974","product_id":100013101,"comment_content":"è€å¸ˆï¼Œgoå¦‚ä½•å†™å‡ºå¯æµ‹è¯•çš„ä»£ç ï¼Œæœ‰ä»€ä¹ˆè§„èŒƒå—ï¼Ÿ","like_count":15,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494590,"discussion_content":"ç½‘ä¸Šæœ‰ä¸å°‘ç›¸å…³çš„æ–‡ç« ã€‚æˆ‘è¯´3ç‚¹åŸºæœ¬çš„å§ï¼š\n\n1. éšè—ä¸è¯¥æš´éœ²çš„ã€‚æµ‹è¯•ä»£ç ç›¸å½“äºä½¿ç”¨ä½ ç¨‹åºçš„ä¸€æ–¹ï¼Œä¸è¦è®©å®ƒèƒ½å¤Ÿå½±å“ç”šè‡³ç ´åä½ çš„ç¨‹åºã€‚\n2. æš´éœ²å‡ºæ¥çš„APIåº”è¯¥å¯¹ä½¿ç”¨è€…å‹å¥½ã€‚æ¢å¥è¯ä¼šæ‰€ï¼Œå¦‚æœåœ¨å†™æµ‹è¯•ä»£ç çš„æ—¶å€™ï¼Œä½ å‘ç°APIè°ƒç”¨èµ·æ¥ä¸é‚£ä¹ˆé¡ºç•…ï¼Œé‚£ä¹ˆå°±éœ€è¦è€ƒè™‘ç¨‹åºçš„APIæ˜¯å¦å¾—å½“äº†ã€‚\n3. ä¿æŒAPIåœ¨é£æ ¼ä¸Šçš„ä¸€è‡´æ€§ã€‚é£æ ¼ä¸€è‡´çš„ç¨‹åºæœ‰åŠ©äºä½¿ç”¨æ–¹å¿«é€Ÿè¿ç”¨å’Œç†è§£ç¨‹åºã€‚\n\nè¿™3ç‚¹æ˜¯åŸºæœ¬çš„åŸåˆ™äº†ï¼Œå…¶ä»–çš„ç»†èŠ‚ä¸Šçš„ä¸œè¥¿è¯´åˆ°åº•éƒ½æ˜¯ä¸ºäº†åšåˆ°è¿™3ç‚¹çš„ã€‚æµ‹è¯•ä»£ç å°±æ˜¯å¯¹ç”Ÿäº§ä»£ç çš„å‰æœŸéªŒè¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589185637,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":42627,"user_name":"Louis","can_delete":false,"product_type":"c1","uid":1057942,"ip_address":"","ucode":"2505A2F946B1DB","user_header":"https://static001.geekbang.org/account/avatar/00/10/24/96/5e1b1dad.jpg","comment_is_top":false,"comment_ctime":1542982416,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"44492655376","product_id":100013101,"comment_content":"è€å¸ˆè®²çš„å¾ˆæ£’ï¼ ç»ˆäºè¡¥åˆ°è¿™é‡Œäº†ï¼ å¾ˆå¤šä¸œè¥¿éƒ½æ˜¯ä»ç¼–ç¨‹è¯­è¨€æœ¬è´¨çš„è§’åº¦å»è§£æã€‚å¾ˆæ£’ï¼","like_count":11},{"had_liked":false,"id":85694,"user_name":"willmeng","can_delete":false,"product_type":"c1","uid":1157065,"ip_address":"","ucode":"37367A728ABF88","user_header":"https://static001.geekbang.org/account/avatar/00/11/a7/c9/67bd5906.jpg","comment_is_top":false,"comment_ctime":1555202763,"is_pvip":false,"replies":[{"id":"30818","content":"æˆ‘ä¸å¤ªæ¸…æ¥šä½ è¯´çš„â€œé»˜è®¤æµ‹è¯•æ—¶é—´â€æ˜¯æŒ‡ä»€ä¹ˆã€‚<br><br>å¦‚æœæ˜¯æ€§èƒ½æµ‹è¯•çš„è¯ï¼Œå¯ä»¥åœ¨æ‰§è¡Œ go test å‘½ä»¤æ—¶è¿½åŠ  -benchtime æ ‡è®°ã€‚è¿™å®é™…ä¸Šæ˜¯ä¸‹ä¸€ç¯‡æ–‡ç« çš„æ€è€ƒé¢˜ã€‚<br><br>å¦å¤–ï¼Œ-timeout æ ‡è®°å¯ç”¨äºè®¾å®šå½“æ¬¡æµ‹è¯•è¿è¡Œçš„æ€»æ—¶é•¿ï¼Œä¸€æ—¦è¶…è¿‡è¿™ä¸ªæ—¶é•¿å°±panicã€‚<br><br>å…·ä½“ç”¨æ³•å¯ä»¥å‚è€ƒï¼šhttps:&#47;&#47;golang.org&#47;cmd&#47;go&#47;#hdr-Testing_flags ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1555215001,"ip_address":"","comment_id":85694,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27325006539","product_id":100013101,"comment_content":"è¯·é—®ï¼Œå¦‚ä½•ä¿®æ”¹é»˜è®¤æµ‹è¯•æ—¶é—´ä¸Šé™å‘¢ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446769,"discussion_content":"æˆ‘ä¸å¤ªæ¸…æ¥šä½ è¯´çš„â€œé»˜è®¤æµ‹è¯•æ—¶é—´â€æ˜¯æŒ‡ä»€ä¹ˆã€‚\n\nå¦‚æœæ˜¯æ€§èƒ½æµ‹è¯•çš„è¯ï¼Œå¯ä»¥åœ¨æ‰§è¡Œ go test å‘½ä»¤æ—¶è¿½åŠ  -benchtime æ ‡è®°ã€‚è¿™å®é™…ä¸Šæ˜¯ä¸‹ä¸€ç¯‡æ–‡ç« çš„æ€è€ƒé¢˜ã€‚\n\nå¦å¤–ï¼Œ-timeout æ ‡è®°å¯ç”¨äºè®¾å®šå½“æ¬¡æµ‹è¯•è¿è¡Œçš„æ€»æ—¶é•¿ï¼Œä¸€æ—¦è¶…è¿‡è¿™ä¸ªæ—¶é•¿å°±panicã€‚\n\nå…·ä½“ç”¨æ³•å¯ä»¥å‚è€ƒï¼šhttps://golang.org/cmd/go/#hdr-Testing_flags ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555215001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31634,"user_name":"è±¡ç‰™å¡”ä¸‹çš„æ¸£æ¸£","can_delete":false,"product_type":"c1","uid":1248575,"ip_address":"","ucode":"B87FC8A56D29CB","user_header":"https://static001.geekbang.org/account/avatar/00/13/0d/3f/d2accda7.jpg","comment_is_top":false,"comment_ctime":1539250189,"is_pvip":false,"replies":[{"id":"11817","content":"è¿™ä¸ªä¸“æ æ˜¯å®Œå…¨é‡å†™çš„ï¼Œå‡ ä¹è·Ÿä¹¦ä¸Šçš„ä¸œè¥¿æ²¡æœ‰é‡å ã€‚ç­”æ¡ˆçš„è¯æˆ‘èµ¶å®Œç¨¿å­åé¢å†è¡¥å§ã€‚ç°åœ¨è¡¥ç²¾åŠ›è·Ÿä¸ä¸Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1539577206,"ip_address":"","comment_id":31634,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27309053965","product_id":100013101,"comment_content":"è€å¸ˆï¼Œèƒ½ä¸èƒ½æŠŠæ¯èŠ‚è¯¾åé¢çš„æ€è€ƒé¢˜ç»™å‡ºç­”æ¡ˆå•Šï¼Ÿå¦å¤–ï¼Œä½ è¿™ä¸ªä¸“æ ä¸Šçš„å†…å®¹åœ¨æ‚¨çš„é‚£æœ¬ã€ŠGoå¹¶å‘ç¼–ç¨‹ã€‹ä¸Šæœ‰å˜›ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426439,"discussion_content":"è¿™ä¸ªä¸“æ æ˜¯å®Œå…¨é‡å†™çš„ï¼Œå‡ ä¹è·Ÿä¹¦ä¸Šçš„ä¸œè¥¿æ²¡æœ‰é‡å ã€‚ç­”æ¡ˆçš„è¯æˆ‘èµ¶å®Œç¨¿å­åé¢å†è¡¥å§ã€‚ç°åœ¨è¡¥ç²¾åŠ›è·Ÿä¸ä¸Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539577206,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":194037,"user_name":"ç»™åŠ›","can_delete":false,"product_type":"c1","uid":1113645,"ip_address":"","ucode":"646EE4AFC17224","user_header":"https://static001.geekbang.org/account/avatar/00/10/fe/2d/2c9177ca.jpg","comment_is_top":false,"comment_ctime":1585017220,"is_pvip":false,"replies":[{"id":"73917","content":"ä½ æ•² go help test å¹¶å›è½¦ä¹‹åä¼šå‘ç°æœ€åæœ‰ä¸¤æ®µè¯ï¼š<br><br>The test binary also accepts flags that control execution of the test; these<br>flags are also accessible by &#39;go test&#39;. See &#39;go help testflag&#39; for details.<br><br>For more about build flags, see &#39;go help build&#39;.<br>For more about specifying packages, see &#39;go help packages&#39;.<br><br>ç¬¬ä¸€æ®µçš„æ„æ€æ˜¯ï¼Œä¸€äº›æ›´è¯¦ç»†çš„å‚æ•°è¯´æ˜éœ€è¦æ•² go help testflag æŸ¥çœ‹ã€‚ç¬¬äºŒæ®µçš„æ„æ€æ˜¯ï¼Œgo test ä¹Ÿæ”¯æŒ go build çš„ä¸€äº›å‚æ•°ï¼Œé‚£äº›å‚æ•°éœ€è¦æ•² go help build æŸ¥çœ‹ï¼Œå¦å¤–æ€ä¹ˆæŒ‡å®šä»£ç åŒ…éœ€è¦æ•² go help packages æŸ¥çœ‹è¯´æ˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1585023149,"ip_address":"","comment_id":194037,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18764886404","product_id":100013101,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼š<br>go test çš„ç›¸å…³å‚æ•° å¯ä»¥ç”¨go help testå»çœ‹ã€‚<br>ä½†æ˜¯è¿™é‡Œé¢å¹¶æ²¡æœ‰å…¶ä»–å‚æ•°æ¯”å¦‚ï¼ˆ-cpu æ˜¯æœ€å¤§ç”¨å‡ æ ¸  -bench æ˜¯åŸºå‡†æµ‹è¯•å‚æ•° -runåŠŸèƒ½æµ‹è¯•å‚æ•°ï¼‰ï¼Œæœ‰æ²¡æœ‰helpå‘½ä»¤æ‰¾å‡ºå¯¹åº”æ¯ä¸ªå‚æ•°çš„å«ä¹‰ï¼Œæˆ‘ç”¨çš„æ—¶å€™åªéœ€è¦helpä¸€ä¸‹å°±èƒ½æ‰¾åˆ°å¯¹åº”çš„å‚æ•°ä½¿ç”¨ã€‚","like_count":5,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488741,"discussion_content":"ä½ æ•² go help test å¹¶å›è½¦ä¹‹åä¼šå‘ç°æœ€åæœ‰ä¸¤æ®µè¯ï¼š\n\nThe test binary also accepts flags that control execution of the test; these\nflags are also accessible by &amp;#39;go test&amp;#39;. See &amp;#39;go help testflag&amp;#39; for details.\n\nFor more about build flags, see &amp;#39;go help build&amp;#39;.\nFor more about specifying packages, see &amp;#39;go help packages&amp;#39;.\n\nç¬¬ä¸€æ®µçš„æ„æ€æ˜¯ï¼Œä¸€äº›æ›´è¯¦ç»†çš„å‚æ•°è¯´æ˜éœ€è¦æ•² go help testflag æŸ¥çœ‹ã€‚ç¬¬äºŒæ®µçš„æ„æ€æ˜¯ï¼Œgo test ä¹Ÿæ”¯æŒ go build çš„ä¸€äº›å‚æ•°ï¼Œé‚£äº›å‚æ•°éœ€è¦æ•² go help build æŸ¥çœ‹ï¼Œå¦å¤–æ€ä¹ˆæŒ‡å®šä»£ç åŒ…éœ€è¦æ•² go help packages æŸ¥çœ‹è¯´æ˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585023149,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1113645,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fe/2d/2c9177ca.jpg","nickname":"ç»™åŠ›","note":"","ucode":"646EE4AFC17224","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":213974,"discussion_content":"é—®é¢˜ç†è§£å’Œå›ç­”éƒ½å¾ˆåˆ°ä½ï¼Œå®Œç¾è§£å†³äº†æˆ‘çš„ç–‘é—®ï¼Œæ„Ÿè°¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585139234,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85635,"user_name":"å·¦æ°§ä½›æ²™æ˜Ÿäºº","can_delete":false,"product_type":"c1","uid":1195278,"ip_address":"","ucode":"0D8295E1DABA8C","user_header":"https://static001.geekbang.org/account/avatar/00/12/3d/0e/92176eaa.jpg","comment_is_top":false,"comment_ctime":1555150790,"is_pvip":true,"replies":[{"id":"30819","content":"åˆå­¦çš„æ—¶å€™æœ€å¥½ç”¨å‘½ä»¤è¡Œè¿è¡Œã€‚<br><br>ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š<br><br>1. åœ¨å½“å‰ä»£ç åŒ…ä¸‹è¿è¡Œ go test å‘½ä»¤ã€‚è¿™æ ·å¯ä»¥æ‰§è¡Œå½“å‰ä»£ç åŒ…ä¸‹çš„æ‰€æœ‰åŠŸèƒ½æµ‹è¯•å‡½æ•°ã€‚<br><br>2. åœ¨å½“å‰ä»£ç åŒ…ä¸‹è¿è¡Œ go test demo52_test.go demo52.go å‘½ä»¤ã€‚è¿™æ ·åªä¼šæ‰§è¡Œ demo52_test.go æ–‡ä»¶ä¸­çš„åŠŸèƒ½æµ‹è¯•å‡½æ•°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1555216035,"ip_address":"","comment_id":85635,"utype":1}],"discussion_count":3,"race_medal":0,"score":"18735019974","product_id":100013101,"comment_content":"æˆ‘ç”¨ç¼–è¾‘å™¨è¿è¡Œçš„æ—¶å€™ï¼ŒæŠ¥é”™ï¼š<br># command-line-arguments [command-line-arguments.test]<br>.&#47;demo52_test.go:10:19: undefined: hello<br>.&#47;demo52_test.go:20:18: undefined: hello<br>.&#47;demo52_test.go:38:11: undefined: introduce<br><br>è€å¸ˆèƒ½å¸®å¿™è§£ç­”ä¸€ä¸‹å—ï¼Ÿ<br>","like_count":4,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446744,"discussion_content":"åˆå­¦çš„æ—¶å€™æœ€å¥½ç”¨å‘½ä»¤è¡Œè¿è¡Œã€‚\n\nä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š\n\n1. åœ¨å½“å‰ä»£ç åŒ…ä¸‹è¿è¡Œ go test å‘½ä»¤ã€‚è¿™æ ·å¯ä»¥æ‰§è¡Œå½“å‰ä»£ç åŒ…ä¸‹çš„æ‰€æœ‰åŠŸèƒ½æµ‹è¯•å‡½æ•°ã€‚\n\n2. åœ¨å½“å‰ä»£ç åŒ…ä¸‹è¿è¡Œ go test demo52_test.go demo52.go å‘½ä»¤ã€‚è¿™æ ·åªä¼šæ‰§è¡Œ demo52_test.go æ–‡ä»¶ä¸­çš„åŠŸèƒ½æµ‹è¯•å‡½æ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555216035,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1099513,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c6/f9/caf27bd3.jpg","nickname":"å¤§ç‹å«æˆ‘æ¥å·¡å±±","note":"","ucode":"1B8D0C701BC95E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":10207,"discussion_content":"ä½ ç”¨çš„golandï¼Œå¯ä»¥åŒæ—¶é€‰ä¸­ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå³é”®é€‰æ‹©ä½ è¦è¿è¡Œçš„ç§ç±»ï¼Œç›´æ¥ç‚¹é»˜è®¤åªç¼–è¯‘äº†ä¸€ä¸ªæ–‡ä»¶","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568275016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1195278,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3d/0e/92176eaa.jpg","nickname":"å·¦æ°§ä½›æ²™æ˜Ÿäºº","note":"","ucode":"0D8295E1DABA8C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1099513,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c6/f9/caf27bd3.jpg","nickname":"å¤§ç‹å«æˆ‘æ¥å·¡å±±","note":"","ucode":"1B8D0C701BC95E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":51519,"discussion_content":"è°¢è°¢å¤§ä½¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573891652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":10207,"ip_address":""},"score":51519,"extra":""}]}]},{"had_liked":false,"id":172150,"user_name":"ç–¯ç´","can_delete":false,"product_type":"c1","uid":1099379,"ip_address":"","ucode":"82ACAA4A27753D","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/73/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1579096246,"is_pvip":false,"replies":[{"id":"66825","content":"è‚¯å®šæ˜¯éƒ½èƒ½è·‘çš„ã€‚è¿™ä¸ªå‚æ•°ä¸»è¦æ˜¯ä¸ºäº†æ¨¡æ‹Ÿå¤šæ ¸CPUæ‰§è¡Œç¨‹åºã€‚è¿™æ ·å¯ä»¥æµ‹è¯•å¹¶å‘ç¨‹åºåœ¨å„ç§è®¡ç®—ç¯å¢ƒä¸­çš„æ‰§è¡Œæƒ…å†µï¼ŒåŒ…æ‹¬åŠŸèƒ½æ­£ç¡®æ€§å’Œæ€§èƒ½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1579148728,"ip_address":"","comment_id":172150,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14463998134","product_id":100013101,"comment_content":"ç»“æœè®²è§£å¾ˆæ¸…æ¥šğŸ‘ cpué‚£é‡Œè¿˜ä¸æ˜ç™½ï¼Œæˆ‘çš„ç¬”è®°æœ¬2æ ¸è¶…çº¿ç¨‹ï¼Œæ˜¾ç¤º-4ï¼Œæˆ‘è®¾ç½®-cpuå‚æ•°ä¸º20ã€100ã€1000éƒ½èƒ½è·‘ï¼Œä¹Ÿæ›´å¿«ï¼Œå¯æ˜¯è¿™æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿé€šå¸¸æ˜¯ä¸æ˜¯ä¸è®¾ç½®è¿™ä¸ªå‚æ•°å°±å¥½ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481640,"discussion_content":"è‚¯å®šæ˜¯éƒ½èƒ½è·‘çš„ã€‚è¿™ä¸ªå‚æ•°ä¸»è¦æ˜¯ä¸ºäº†æ¨¡æ‹Ÿå¤šæ ¸CPUæ‰§è¡Œç¨‹åºã€‚è¿™æ ·å¯ä»¥æµ‹è¯•å¹¶å‘ç¨‹åºåœ¨å„ç§è®¡ç®—ç¯å¢ƒä¸­çš„æ‰§è¡Œæƒ…å†µï¼ŒåŒ…æ‹¬åŠŸèƒ½æ­£ç¡®æ€§å’Œæ€§èƒ½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579148728,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172005,"user_name":"æµ·ç›—èˆ¹é•¿","can_delete":false,"product_type":"c1","uid":1363634,"ip_address":"","ucode":"ECB28BA21A4113","user_header":"https://static001.geekbang.org/account/avatar/00/14/ce/b2/1f914527.jpg","comment_is_top":false,"comment_ctime":1579069543,"is_pvip":false,"replies":[{"id":"66823","content":"æˆ‘çš„æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š<br><br>q2 git:(master) âœ— go test puzzlers&#47;article20&#47;q2<br>ok  \tpuzzlers&#47;article20&#47;q2\t1.369s<br>âœ  q2 git:(master) âœ— go test puzzlers&#47;article20&#47;q2<br>ok  \tpuzzlers&#47;article20&#47;q2\t(cached)<br>âœ  q2 git:(master) âœ— go test puzzlers&#47;article20&#47;q2<br>ok  \tpuzzlers&#47;article20&#47;q2\t(cached)<br>","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1579148341,"ip_address":"","comment_id":172005,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5874036839","product_id":100013101,"comment_content":"go1.12.5 ä½¿ç”¨go testï¼Œå¤šæ¬¡æµ‹è¯•ç›¸åŒçš„æˆåŠŸæµ‹è¯•ä»£ç ï¼Œå¹¶æ²¡æœ‰cached","like_count":2,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481578,"discussion_content":"æˆ‘çš„æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š\n\nq2 git:(master) âœ— go test puzzlers/article20/q2\nok  \tpuzzlers/article20/q2\t1.369s\nâœ  q2 git:(master) âœ— go test puzzlers/article20/q2\nok  \tpuzzlers/article20/q2\t(cached)\nâœ  q2 git:(master) âœ— go test puzzlers/article20/q2\nok  \tpuzzlers/article20/q2\t(cached)\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579148341,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101433,"user_name":"benying","can_delete":false,"product_type":"c1","uid":1247522,"ip_address":"","ucode":"DEBAB485F381CC","user_header":"https://static001.geekbang.org/account/avatar/00/13/09/22/22c0c4fa.jpg","comment_is_top":false,"comment_ctime":1559807925,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5854775221","product_id":100013101,"comment_content":"æ‰“å¡ï¼Œ201900606","like_count":1},{"had_liked":false,"id":327096,"user_name":"jxs1211","can_delete":false,"product_type":"c1","uid":1101006,"ip_address":"","ucode":"B7F1F2D84389E7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKELX1Rd1vmLRWibHib8P95NA87F4zcj8GrHKYQL2RcLDVnxNy1ia2geTWgW6L2pWn2kazrPNZMRVrIg/132","comment_is_top":false,"comment_ctime":1639914401,"is_pvip":false,"replies":[{"id":"119015","content":"è®¾ç½®b.Næ˜¯ä¸ºäº†å¤šæ¬¡ï¼ˆNæ¬¡ï¼‰æ‰§è¡ŒåŒä¸€ä¸ªè¢«æµ‹å‡½æ•°ï¼Œä»¥ä¾¿è·å¾—å®ƒçš„æ€§èƒ½é‡åŒ–æŒ‡æ ‡ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä¸å»æ‰‹åŠ¨è®¾ç½®ï¼Œä½†æ˜¯åº”è¯¥çŸ¥é“å®ƒæ˜¯åšä»€ä¹ˆçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026643","ctime":1639985002,"ip_address":"","comment_id":327096,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1639914401","product_id":100013101,"comment_content":"ä¿®æ”¹b.Nçš„å€¼æ˜¯ç”±goè¿è¡Œæ—¶æ§åˆ¶çš„å—ï¼Œå¹¶ä¸éœ€è¦æˆ‘ä»¬å…³æ³¨å§","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540190,"discussion_content":"è®¾ç½®b.Næ˜¯ä¸ºäº†å¤šæ¬¡ï¼ˆNæ¬¡ï¼‰æ‰§è¡ŒåŒä¸€ä¸ªè¢«æµ‹å‡½æ•°ï¼Œä»¥ä¾¿è·å¾—å®ƒçš„æ€§èƒ½é‡åŒ–æŒ‡æ ‡ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä¸å»æ‰‹åŠ¨è®¾ç½®ï¼Œä½†æ˜¯åº”è¯¥çŸ¥é“å®ƒæ˜¯åšä»€ä¹ˆçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639985002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301759,"user_name":"moonfox","can_delete":false,"product_type":"c1","uid":1526355,"ip_address":"","ucode":"902BFF40EFA9FA","user_header":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","comment_is_top":false,"comment_ctime":1625844465,"is_pvip":false,"replies":[{"id":"109301","content":"å½“ä½ ç”¨ b.N åšå¾ªç¯çš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶é—´ä¸€èˆ¬éƒ½ä¼šå¤§äº 1 ç§’çš„ã€‚ä½†æ³¨æ„ï¼Œè¿™æ˜¯å¯¹äºå•ä¸ªæµ‹è¯•å‡½æ•°è€Œè¨€çš„ï¼Œä¸æ˜¯æµ‹è¯•æ€»æ—¶é—´ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1626070745,"ip_address":"","comment_id":301759,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1625844465","product_id":100013101,"comment_content":"é—®é¢˜ï¼šæ˜¯å¦æµ‹è¯•æ€»æ—¶é—´ä¸€å®šä¼šè¶…è¿‡1ç§’ï¼Ÿ<br>ç­”ï¼š   å› ä¸ºè¦æ‰¾åˆ°1ç§’å†…æœ€å¤§å¯æ‰§è¡Œæ¬¡æ•°ï¼Œè€Œåœ¨è¿™ä¹‹å‰è‚¯å®šè¦è¿›è¡Œå¤šæ¬¡å°è¯•ï¼Œæ‰€ä»¥æµ‹è¯•æ€»æ—¶é—´åº”è¯¥æ€»æ˜¯ä¼šè¶…è¿‡1ç§’çš„ã€‚<br><br>ä¸çŸ¥é“è¿™æ ·ç†è§£æ˜¯å¦æ­£ç¡®å‘€","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523084,"discussion_content":"å½“ä½ ç”¨ b.N åšå¾ªç¯çš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶é—´ä¸€èˆ¬éƒ½ä¼šå¤§äº 1 ç§’çš„ã€‚ä½†æ³¨æ„ï¼Œè¿™æ˜¯å¯¹äºå•ä¸ªæµ‹è¯•å‡½æ•°è€Œè¨€çš„ï¼Œä¸æ˜¯æµ‹è¯•æ€»æ—¶é—´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626070745,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301758,"user_name":"moonfox","can_delete":false,"product_type":"c1","uid":1526355,"ip_address":"","ucode":"902BFF40EFA9FA","user_header":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","comment_is_top":false,"comment_ctime":1625844260,"is_pvip":false,"replies":[{"id":"109302","content":"æ–‡ä¸­è¿˜æœ‰ä¸€å¥è¯ï¼šâ€œå½“æŸæ¬¡æ‰§è¡Œçš„æ—¶é—´å¤§äºæˆ–ç­‰äºä¸Šé™æ—¶ï¼Œæˆ‘ä»¬å°±è¯´è¿™æ˜¯å‘½ä»¤æ­¤æ¬¡å¯¹è¯¥æµ‹è¯•å‡½æ•°çš„æœ€åä¸€æ¬¡æ‰§è¡Œã€‚â€","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1626070876,"ip_address":"","comment_id":301758,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1625844260","product_id":100013101,"comment_content":"â€œæœ€åå†çœ‹è¿™ä¸ªæ‰§è¡Œæ¬¡æ•°çš„å³è¾¹ï¼Œ2314 ns&#47;opè¡¨æ˜å•æ¬¡æ‰§è¡ŒGetPrimeså‡½æ•°çš„å¹³å‡è€—æ—¶ä¸º2314çº³ç§’ã€‚è¿™å…¶å®å°±æ˜¯é€šè¿‡å°†æœ€åä¸€æ¬¡æ‰§è¡Œæµ‹è¯•å‡½æ•°æ—¶çš„æ‰§è¡Œæ—¶é—´ï¼Œé™¤ä»¥ï¼ˆè¢«æµ‹å‡½æ•°çš„ï¼‰æ‰§è¡Œæ¬¡æ•°è€Œå¾—å‡ºçš„ã€‚â€<br><br>æ ¹æ®æ–‡ç« æ‰€è¯´ï¼Œ 500000æ˜¯æœ€åä¸€æ¬¡è¿è¡Œæ—¶çš„æ‰§è¡Œçš„æ¬¡æ•°ï¼Œé‚£å¯ä»¥å€’æ¨æœ€åä¸€æ¬¡çš„è¿è¡Œæ—¶é—´ ä¸º  (2314 * 500000.0 ) &#47; 1000 ^ 3 = 1.157ç§’ï¼Œè¿™ä¸ªæ—¶é—´å·²ç»è¶…è¿‡äº†é»˜è®¤æ—¶é—´ä¸Šé™1ç§’ï¼Œä¸æ–‡ç« ä¸­è¯´æ‰§è¡Œçš„æ¬¡æ•°æ˜¯å–æœ€åä¸€æ¬¡ä¸è¶…è¿‡1ç§’çš„æ‰§è¡Œæ¬¡æ•° ç›¸çŸ›ç›¾ï¼Œå¯¹è¿™ç‚¹ä¸æ˜¯å¾ˆç†è§£","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523083,"discussion_content":"æ–‡ä¸­è¿˜æœ‰ä¸€å¥è¯ï¼šâ€œå½“æŸæ¬¡æ‰§è¡Œçš„æ—¶é—´å¤§äºæˆ–ç­‰äºä¸Šé™æ—¶ï¼Œæˆ‘ä»¬å°±è¯´è¿™æ˜¯å‘½ä»¤æ­¤æ¬¡å¯¹è¯¥æµ‹è¯•å‡½æ•°çš„æœ€åä¸€æ¬¡æ‰§è¡Œã€‚â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626070876,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1071172,"avatar":"https://static001.geekbang.org/account/avatar/00/10/58/44/e318a684.jpg","nickname":"Lisanaaa","note":"","ucode":"C907EED05A543D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557380,"discussion_content":"æ²¡æ˜ç™½ï¼Œé‚£æŒ‰ç…§é“ç†åº”è¯¥40å¤šä¸‡æ¬¡çš„æ—¶å€™å°±å·²ç»è¶…è¿‡1ç§’é’Ÿè¯¥åœæ­¢äº†å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647783199,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":196386,"user_name":"ä¼ è¯´ä¸­çš„æˆå¤§å¤§","can_delete":false,"product_type":"c1","uid":1236766,"ip_address":"","ucode":"103543D6E706BF","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/1e/cea897e8.jpg","comment_is_top":false,"comment_ctime":1585277720,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585277720","product_id":100013101,"comment_content":"è¿™ä¸¤èŠ‚çš„è¯¾ç¨‹å†…å®¹ æˆ‘éƒ½ä¸å¥½æ€»ç»“<br>æˆ‘å”¯ä¸€çš„æ„Ÿå—å°±æ˜¯  èŠ±äº†ä¸‰ç¯‡æ–‡ç« æ¥è®²æµ‹è¯• è¯´æ˜ goè¯­è¨€çš„æµ‹è¯•ç¡®å®å¾ˆé‡è¦","like_count":0},{"had_liked":false,"id":183157,"user_name":"å¼ sir","can_delete":false,"product_type":"c1","uid":1209431,"ip_address":"","ucode":"52958DF6705208","user_header":"https://static001.geekbang.org/account/avatar/00/12/74/57/7b828263.jpg","comment_is_top":false,"comment_ctime":1582963516,"is_pvip":false,"replies":[{"id":"70895","content":"è¿è¡Œå‘½ä»¤ go test -v","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1582986029,"ip_address":"","comment_id":183157,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1582963516","product_id":100013101,"comment_content":"æˆ‘æ€ä¹ˆæŠŠt.Logçš„å†…å®¹æ‰“å°å‡ºæ¥å‘¢","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485578,"discussion_content":"è¿è¡Œå‘½ä»¤ go test -v","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582986029,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":138918,"user_name":"æ‰‹æŒ‡é¥¼å¹²","can_delete":false,"product_type":"c1","uid":1048607,"ip_address":"","ucode":"1AC502D2B782F0","user_header":"","comment_is_top":false,"comment_ctime":1570505637,"is_pvip":false,"replies":[{"id":"53565","content":"æ–‡ç« é‡Œå†™äº†ï¼š<br><br>å½“æŸæ¬¡æ‰§è¡Œçš„æ—¶é—´å¤§äºæˆ–ç­‰äºä¸Šé™æ—¶ï¼Œæˆ‘ä»¬å°±è¯´è¿™æ˜¯å‘½ä»¤æ­¤æ¬¡å¯¹è¯¥æµ‹è¯•å‡½æ•°çš„æœ€åä¸€æ¬¡æ‰§è¡Œã€‚è¿™æ—¶çš„b.Nçš„å€¼å°±ä¼šè¢«åŒ…å«åœ¨æµ‹è¯•ç»“æœä¸­ï¼Œä¹Ÿå°±æ˜¯ä¸Šè¿°æµ‹è¯•ç»“æœä¸­çš„500000ã€‚<br><br>æå®¢æ—¶é—´ç‰ˆæƒæ‰€æœ‰: https:&#47;&#47;time.geekbang.org&#47;column&#47;article&#47;41189","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1570537632,"ip_address":"","comment_id":138918,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1570505637","product_id":100013101,"comment_content":"è¯·é—®è¿™é‡Œçš„500000ï¼Œæ˜¯æœ€åä¸€æ¬¡æ‰§è¡Œæµ‹è¯•å‡½æ•°æ—¶ï¼Œè¢«æµ‹å‡½æ•°çš„æ‰§è¡Œæ¬¡æ•°ï¼Ÿè¿˜æ˜¯æ•´ä¸ªæµ‹è¯•å‘¨æœŸï¼Œè¢«æµ‹å‡½æ•°çš„æ‰§è¡Œæ¬¡æ•°ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469699,"discussion_content":"æ–‡ç« é‡Œå†™äº†ï¼š\n\nå½“æŸæ¬¡æ‰§è¡Œçš„æ—¶é—´å¤§äºæˆ–ç­‰äºä¸Šé™æ—¶ï¼Œæˆ‘ä»¬å°±è¯´è¿™æ˜¯å‘½ä»¤æ­¤æ¬¡å¯¹è¯¥æµ‹è¯•å‡½æ•°çš„æœ€åä¸€æ¬¡æ‰§è¡Œã€‚è¿™æ—¶çš„b.Nçš„å€¼å°±ä¼šè¢«åŒ…å«åœ¨æµ‹è¯•ç»“æœä¸­ï¼Œä¹Ÿå°±æ˜¯ä¸Šè¿°æµ‹è¯•ç»“æœä¸­çš„500000ã€‚\n\næå®¢æ—¶é—´ç‰ˆæƒæ‰€æœ‰: https://time.geekbang.org/column/article/41189","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570537632,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73607,"user_name":"xumc","can_delete":false,"product_type":"c1","uid":1033274,"ip_address":"","ucode":"22D24AF9D52B65","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c4/3a/77bbc665.jpg","comment_is_top":false,"comment_ctime":1551939215,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551939215","product_id":100013101,"comment_content":"è€å¸ˆå’¨è¯¢ä¸ªé—®é¢˜ï¼Œ1.æœ¬åœ°go testçš„ç¼“å­˜èƒ½pushåˆ°Git çš„è¿œç¨‹ç”¨æ¥è·‘CI&#47;CDå—<br>2.æœ¬åœ°æ— æ”¹åŠ¨æ–‡ä»¶çš„è·‘äº†å‡ ééƒ½æ˜¯æ˜¾ç¤ºæ—¶é—´çš„ï¼Œæ²¡æœ‰é‚£ç§æ˜¾ç¤ºcacheçš„go testç»“æœ","like_count":0},{"had_liked":false,"id":73605,"user_name":"xumc","can_delete":false,"product_type":"c1","uid":1033274,"ip_address":"","ucode":"22D24AF9D52B65","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c4/3a/77bbc665.jpg","comment_is_top":false,"comment_ctime":1551938898,"is_pvip":false,"replies":[{"id":"26850","content":"ä¸èƒ½ï¼Œå³ä½¿èƒ½ä¹Ÿä¸åº”è¯¥è¿™ä¹ˆåšå•Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1551953560,"ip_address":"","comment_id":73605,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551938898","product_id":100013101,"comment_content":"è€å¸ˆå’¨è¯¢ä¸ªé—®é¢˜ï¼Œæœ¬åœ°go testçš„ç¼“å­˜èƒ½pushåˆ°Git çš„è¿œç¨‹ç”¨æ¥è·‘CI&#47;CDå—","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442181,"discussion_content":"ä¸èƒ½ï¼Œå³ä½¿èƒ½ä¹Ÿä¸åº”è¯¥è¿™ä¹ˆåšå•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551953560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62934,"user_name":"Caesar","can_delete":false,"product_type":"c1","uid":1253220,"ip_address":"","ucode":"0319C9E19387CD","user_header":"https://static001.geekbang.org/account/avatar/00/13/1f/64/54458855.jpg","comment_is_top":false,"comment_ctime":1548209555,"is_pvip":true,"replies":[{"id":"25244","content":"è·³è¿‡æµ‹è¯•å‡½æ•°çš„è¯ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹ -run è¿™ä¸ªæ ‡è®°ã€‚å¦‚æœè¦è·³è¿‡æŸä¸ªåŒ…ä¸æŒ‡å®šé‚£ä¸ªåŒ…ä¸å°±å¾—äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒæ—","uid":"1026643","ctime":1551181080,"ip_address":"","comment_id":62934,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548209555","product_id":100013101,"comment_content":"è¯·é—®è€å¸ˆï¼Œå‡å¦‚æˆ‘æµ‹è¯•çš„æ—¶å€™è¦è·³è¿‡æŸäº›åŒ…ä¸­çš„æºç æ–‡ä»¶ï¼Œè¯¥æ€ä¹ˆå†™go testå‘½ä»¤ã€‚ç½‘ä¸Šæœäº†ä¸€åœˆä¹Ÿæ²¡æ‰¾åˆ°ã€‚","like_count":0,"discussions":[{"author":{"id":1026643,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/53/768aec0a.jpg","nickname":"éƒæ—","note":"","ucode":"F66BA62BA56FFA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437410,"discussion_content":"è·³è¿‡æµ‹è¯•å‡½æ•°çš„è¯ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹ -run è¿™ä¸ªæ ‡è®°ã€‚å¦‚æœè¦è·³è¿‡æŸä¸ªåŒ…ä¸æŒ‡å®šé‚£ä¸ªåŒ…ä¸å°±å¾—äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551181080,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62735,"user_name":"è™¢åœ‹æŠ€é†¬","can_delete":false,"product_type":"c1","uid":1056807,"ip_address":"","ucode":"5A192262AA037E","user_header":"https://static001.geekbang.org/account/avatar/00/10/20/27/a6932fbe.jpg","comment_is_top":false,"comment_ctime":1548145679,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548145679","product_id":100013101,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":35074,"user_name":"A å‡¡","can_delete":false,"product_type":"c1","uid":1197361,"ip_address":"","ucode":"BDC8DB599B8284","user_header":"https://static001.geekbang.org/account/avatar/00/12/45/31/53910b61.jpg","comment_is_top":false,"comment_ctime":1540395171,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1540395171","product_id":100013101,"comment_content":"ä¹‹å‰ä¸€ç›´å°±æ²¡æœ‰ç”¨å¿ƒå»äº†è§£æµ‹è¯•å‘½ä»¤ä¸­å„ä¸ªå‚æ•°çš„å«ä¹‰ï¼Œéƒ½æ˜¯é€šè¿‡ideç›´æ¥è¿è¡Œäº†ï¼Œè¿™é‡Œå­¦åˆ°äº†","like_count":0}]}
{"id":194064,"title":"20ä¸¨Java & C ++ï¼šä»£ç çº§ç›‘æ§åŠå¸¸ç”¨è®¡æ•°å™¨è§£æï¼ˆä¸‹ï¼‰","content":"<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æè¿°äº†åœ¨Javaå¼€å‘è¯­è¨€ä¸­å¦‚ä½•æŠ“å–æ–¹æ³•çš„æ‰§è¡Œæ—¶é—´ï¼Œå…¶ä¸­æè¿°çš„æ“ä½œä¹Ÿæ˜¯æˆ‘ä»¬åœ¨åˆ†ææ—¶ç»å¸¸ä½¿ç”¨çš„ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬å°†æ¥ç€æè¿°å¦‚ä¸‹å‡ ç‚¹å†…å®¹ï¼š</p><ol>\n<li>Javaè¯­è¨€ä¸­å¦‚ä½•æŸ¥æ‰¾æœ‰é—®é¢˜çš„å†…å­˜å¯¹è±¡ã€‚</li>\n<li>ç®€å•ä»‹ç»ä¸€ä¸‹åœ¨C/C++è¯­è¨€ä¸­å¦‚ä½•æŸ¥æ‰¾æ–¹æ³•æ‰§è¡Œæ—¶é—´å’Œå¯¹è±¡çš„å†…å­˜æ¶ˆè€—ã€‚</li>\n</ol><p>ä¹‹æ‰€ä»¥è¦æè¿°C/C++è¯­è¨€çš„ç›¸å…³å†…å®¹ï¼Œå°±æ˜¯ä¸ºäº†å‘Šè¯‰ä½ ï¼Œå‡ ä¹åœ¨ä»»ä½•ä¸€è¯­è¨€ä¸­éƒ½æœ‰ç›¸åº”çš„å·¥å…·ï¼Œéƒ½æœ‰åŠæ³•æ•è·åˆ°ç›¸åº”çš„å†…å®¹ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•æŠ“å–Javaåº”ç”¨ä¸­å¯¹è±¡å ç”¨å¤šå¤§å†…å­˜ï¼Œä»¥åŠå¦‚ä½•åˆ†è¾¨å ç”¨æ˜¯åˆç†çš„å’Œä¸åˆç†çš„ã€‚</p><h2>Javaç±»åº”ç”¨æŸ¥æ‰¾å¯¹è±¡å†…å­˜æ¶ˆè€—</h2><p>å¯¹Javaçš„å†…å­˜åˆ†æé€šå¸¸éƒ½è½åœ¨å¯¹JVMçš„ä½¿ç”¨ä¸Šï¼ˆä¸è¦è®¤ä¸ºæˆ‘è¿™å¥è¯è¯´å¾—ç‰‡é¢ï¼‰ï¼Œå†å…·ä½“ä¸€ç‚¹ï¼Œè¯´çš„å°±æ˜¯å†…å­˜æ³„éœ²å’Œå†…å­˜æº¢å‡ºã€‚ç”±äºç°åœ¨å¯¹è±¡éƒ½æ˜¯å¯å˜é•¿çš„ï¼Œå†…å­˜æº¢å‡ºå°±ä¸å¸¸è§äº†ï¼›è€Œç”±äºåº•å±‚æ¡†æ¶çš„æ…¢æ…¢æˆç†Ÿï¼Œå†…å­˜æ³„éœ²ç°åœ¨ä¹Ÿä¸å¸¸è§äº†ã€‚</p><p>æœ‰äººè¯´äº†ï¼Œé‚£ä½ è¿˜å•°å—¦ä¸ªä»€ä¹ˆåŠ²å‘¢ï¼Ÿåˆ«æ‰æ€¥å‘€ï¼Œä¸å¸¸è§ä¸ç­‰äºæ²¡æœ‰ã€‚åªæ˜¯è¯´å®ƒä¸å†æ˜¯No.1çº§çš„é—®é¢˜ï¼Œä½†æ˜¯æ’åœ¨No.2çº§è¿˜æ˜¯æ²¡é—®é¢˜çš„ã€‚</p><p>å¦‚æœä½ çš„åº”ç”¨æœ‰äº†é—®é¢˜ï¼Œçœ‹åˆ°äº†åƒè¿™æ ·çš„å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/c1/19/c12c874e2048b88e71510ad5fb3af319.png?wh=376*96\" alt=\"\"><br>\nè¿™æ˜¯æˆ‘åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œå›¾ç‰‡ä¸å¤Ÿæ¸…æ™°ï¼Œæˆ‘ä»¬åªè¦å…³æ³¨é»„çº¿çš„è¶‹åŠ¿å°±å¥½ã€‚</p><p>ä¹‹æ‰€ä»¥æŠŠå®ƒæ‹¿å‡ºæ¥è¯´äº‹ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªé—®é¢˜å¤ªæç«¯äº†ã€‚ä¸Šå›¾æ˜¯è¿‘20å¤©çš„JVMä½¿ç”¨ç‡ï¼Œä»æ›²çº¿çš„è¶‹åŠ¿ä¸Šå°±å¯ä»¥çœ‹å‡ºæ¥ï¼Œå®ƒå­˜åœ¨æ˜æ˜¾çš„å†…å­˜æ³„éœ²ï¼Œä½†æ˜¯åˆæ³„éœ²å¾—éå¸¸éå¸¸æ…¢ã€‚è¿™ä¸ªç³»ç»Ÿè¦æ±‚24x365è¿è¡Œã€‚</p><!-- [[[read_end]]] --><p>åšè¿‡è¿ç»´çš„äººä¼šçŸ¥é“ï¼Œå¦‚æ­¤é•¿æ—¶é—´çš„è¿è¡Œï¼Œè¿ç»´æ—¶é—´é•¿äº†ä¹‹åï¼Œåªä¼šå¯¹è¿™æ ·çš„ç³»ç»Ÿåšå¸¸è§„çš„å¥åº·æ£€æŸ¥ï¼Œå› ä¸ºå‰æœŸå¤©å¤©å…³æ³¨å®ƒï¼Œåˆä¸å‡ºé—®é¢˜ï¼Œçœ¼ç›éƒ½çœ‹çäº†ï¼Œä¹Ÿä¸å€¼å¾—ï¼Œäºæ˜¯åæœŸå°±æ”¾æ¾äº†è­¦æƒ•ï¼Œæ…¢æ…¢æ‡ˆæ€ ã€‚</p><p>è€Œè¿™ä¸ªç³»ç»Ÿåœ¨ç”Ÿäº§ä¸Šå‡ºç°äº‹æ•…æ˜¯åœ¨æ­£å¸¸è¿è¡Œå¿«åˆ°ä¸€å¹´çš„æ—¶å€™ï¼Œè¿™ä¸ªç³»ç»Ÿçš„ä¸šåŠ¡é‡ä¸å¤§ï¼Œåå‡ ä¸ªTPSçš„ä¸šåŠ¡é‡çº§ã€‚è¿™æ˜¯ä¸€ä¸ªå¤–è´¸çš„ç³»ç»Ÿï¼Œä¸šåŠ¡é‡è™½ç„¶ä¸å¤§ï¼Œä½†æ¯ä¸ªä¸šåŠ¡æ¶‰åŠçš„é‡‘é¢å¾ˆå¤§ã€‚å…¶å®å‡ºæ•…éšœæ—¶é—´å€’ä¹Ÿä¸é•¿ï¼Œæ‰å‡ ä¸ªå°æ—¶ï¼Œä½†æ˜¯ä¹Ÿå¹²æ‰äº†å‡ ä¸ªæ€»ç›‘çº§èŒä½åŠç›¸å…³äººå‘˜ã€‚</p><p>å¦‚ä½•å¯¹å†…å­˜è¿›è¡Œåˆ†æï¼Œä»ç„¶æ˜¯æ€§èƒ½æµ‹è¯•åˆ†æçš„ä»ä¸šäººå‘˜åº”è¯¥çŸ¥é“çš„çŸ¥è¯†ç‚¹ã€‚</p><p>æˆ‘ä»¬ä»æŠ€æœ¯çš„è§’åº¦æ¥è¯´ä¸€ä¸‹å†…å­˜é—®é¢˜çš„æ’æŸ¥æ€è·¯ã€‚</p><p>è¿™ä¸‹æˆ‘æ¢ä¸ªå®ä¾‹ç¨‹åºã€‚æˆ‘ä»¬ç…§æ ·ç”¨jvisualvmï¼Œè®°ä½å“¦ï¼Œè¿™æ—¶å€™Arthasä¹‹ç±»çš„å·¥å…·å°±æ²¡å¾—ç©äº†ï¼Œå› ä¸ºArthasåªä¼šæ“ä½œæ ˆï¼Œæœ‰å¾ˆå¤šåœ¨Javaæ–¹é¢åšæ€§èƒ½åˆ†æçš„å·¥å…·éƒ½æ˜¯åªåˆ†ææ ˆçš„ã€‚åœ¨Javaä¸­åŠ¨æ€æ“ä½œå¯¹è±¡ï¼Œå…¶å®èµ„æºæ¶ˆè€—éå¸¸é«˜ã€‚æ‰“ä¸ªæ¯”æ–¹ï¼Œä½ å¯ä»¥æƒ³åƒä¸€ä¸‹ï¼Œåœ¨ä¸€ä¸ªè¯¾é—´ä¼‘æ¯çš„æ ¡å›­ï¼Œåƒå¯»æ‰¾ä¸€ä¸ªç‰¹å®šçš„å­©å­æœ‰å¤šéš¾ã€‚</p><p>å…¶å®æ“ä½œä¸€ä¸ªå¯¹è±¡è¿˜æœ‰è¿¹å¯å¾ªï¼Œä½†æ˜¯å†…å­˜ä¸­é‚£ä¹ˆå¤šå¯¹è±¡ï¼Œè¦æƒ³å…¨éƒ½æ§åˆ¶ï¼Œé‚£å‡ ä¹æ˜¯ä¸ç†æ™ºçš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬é¦–å…ˆè¦çœ‹å†…å­˜æ•´ä½“çš„å¥åº·çŠ¶æ€ã€‚</p><h3>å†…å­˜è¶‹åŠ¿åˆ¤æ–­</h3><p><strong>åœºæ™¯ä¸€ï¼šå…¸å‹çš„æ­£å¸¸å†…å­˜çš„åœºæ™¯</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/e3/38/e3b1d3c0eb74914f3f3e04d4483f4d38.png?wh=594*269\" alt=\"\"></p><p>çœ‹äº†è¿™ä¸ªå›¾åï¼Œè¦æœ‰å¦‚ä¸‹å‡ ä¸ªååº”ï¼š</p><ol>\n<li>å†…å­˜ä½¿ç”¨å¾ˆæ­£å¸¸ï¼Œå›æ”¶å¥åº·ã€‚</li>\n<li>å†…å­˜ä»ç›®å‰çš„å‹åŠ›çº§åˆ«ä¸Šæ¥çœ‹ï¼Œå¤Ÿç”¨ï¼Œæ— éœ€å†å¢åŠ ã€‚</li>\n<li>æ— å†…å­˜æ³„éœ²çš„æƒ…å†µï¼Œå› ä¸ºå›æ”¶ä¹‹ååŸºæœ¬å›åˆ°äº†åŒä¸€æ°´ä½ä¸Šã€‚</li>\n<li>åŸºæœ¬ä¹Ÿèƒ½çœ‹å¾—å‡ºæ¥GCå¤Ÿå¿«ã€‚ä¸ºä»€ä¹ˆè¯´åŸºæœ¬å‘¢ï¼Ÿå› ä¸ºæœ€å¥½è¿˜æ˜¯çœ‹ä¸€ä¸‹è¿™å¼ å›¾ã€‚</li>\n</ol><p><img src=\"https://static001.geekbang.org/resource/image/b8/4b/b8f84cf6e690b84b98ded381e8e0ba4b.png?wh=777*349\" alt=\"\"></p><p>ä»è¿™å¼ å›¾å¯ä»¥çœ‹åˆ°ï¼Œå½“åº”ç”¨åœ¨å‹åŠ›åœºæ™¯ä¹‹åï¼ŒGCå¹¶æ²¡æœ‰æ¶ˆè€—è¿‡å¤šçš„CPUã€‚</p><p><strong>åœºæ™¯äºŒï¼šå…¸å‹çš„å†…å­˜åˆ†é…è¿‡å¤šçš„åœºæ™¯</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/2d/d5/2ddbc9cf8f99e5d13c8d2b65b26dbcd5.png?wh=738*393\" alt=\"\"></p><p>ä»è¿™å¼ å›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¥ï¼š</p><ol>\n<li>å†…å­˜ä½¿ç”¨å¾ˆæ­£å¸¸ï¼Œå›æ”¶å¥åº·ã€‚</li>\n<li>ä»ç›®å‰çš„å‹åŠ›çº§åˆ«ä¸Šæ¥çœ‹ï¼Œå†…å­˜ä¸ä»…å¤Ÿç”¨ï¼Œè€Œä¸”è¿‡å¤šã€‚</li>\n<li>æ— å†…å­˜æ³„éœ²çš„æƒ…å†µã€‚</li>\n</ol><p><strong>åœºæ™¯ä¸‰ï¼šå…¸å‹çš„å†…å­˜ä¸å¤Ÿç”¨çš„åœºæ™¯</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/7f/72/7f3c24cf57f51588fdb0657ee8983572.png?wh=667*280\" alt=\"\"></p><p>ä»è¿™å¼ å›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¥ï¼š</p><ol>\n<li>å†…å­˜ä½¿ç”¨å¾ˆæ­£å¸¸ï¼Œå›æ”¶å¥åº·ã€‚</li>\n<li>ä»ç›®å‰çš„å‹åŠ›çº§åˆ«ä¸Šæ¥çœ‹ï¼Œ<strong>å†…å­˜ä¸å¤Ÿç”¨ï¼Œéœ€å†å¢åŠ ã€‚</strong></li>\n<li>CPUå¯çœ‹å¯ä¸çœ‹ï¼Œå› ä¸ºç°åœ¨çœ‹ä¼¼ä¹æ²¡å¤šå¤§æ„ä¹‰ï¼Œå…ˆåŠ äº†å†…å­˜å†è¯´ã€‚</li>\n<li>æ— å†…å­˜æ³„éœ²çš„æƒ…å†µï¼Œå› ä¸ºå›æ”¶ä¹‹ååŸºæœ¬å›åˆ°äº†åŒä¸€æ°´ä½ä¸Šã€‚</li>\n</ol><p><strong>åœºæ™¯å››ï¼šå…¸å‹çš„å†…å­˜æ³„éœ²åˆ°çˆ†çš„åœºæ™¯</strong></p><p>ä¸ºäº†æ˜¾ç¤ºæˆ‘èƒ½åŠ›çš„å¤šæ ·æ€§ï¼Œæˆ‘æ¢ä¸ªå·¥å…·çš„ç›‘æ§ç»“æœã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/0c/c6/0cd248b5d32fa7c6b2bb34f3c1332dc6.png?wh=550*487\" alt=\"\"></p><p>çœ‹åˆ°ä¸Šé¢è¿™å¼ å›¾ï¼Œä½ å¯èƒ½è§‰å¾—äººç”Ÿé¢å¯¹ç€æŒ‘æˆ˜ï¼šâ€œå•¥ç©æ„ï¼Ÿâ€</p><p>å®é™…ä¸Šï¼Œè¿™å¼ å›¾è¯´æ˜ä»¥ä¸‹å››ç‚¹ï¼š</p><ol>\n<li>å¹´è½»ä»£ï¼ˆç¬¬ä¸‰åˆ—ï¼‰ã€å¹´è€ä»£ï¼ˆç¬¬å››åˆ—ï¼‰å…¨æ»¡äº†ï¼ŒæŒä¹…ä»£åœ¨ä¸æ–­å¢åŠ ï¼Œå¹¶ä¸”ä¹Ÿæ²¡æœ‰é‡Šæ”¾è¿‡ã€‚</li>\n<li>ä¸¤ä¸ªä¿ç•™åŒºï¼ˆç¬¬ä¸€åˆ—ã€ç¬¬äºŒåˆ—ï¼‰éƒ½æ˜¯ç©ºçš„ã€‚</li>\n<li>Yonug GCï¼ˆç¬¬å…­åˆ—ï¼‰å·²ç»ä¸åšäº†ã€‚</li>\n<li>Full GCï¼ˆç¬¬å…«åˆ—ï¼‰ä¸€ç›´éƒ½åœ¨å°è¯•åšå›æ”¶çš„åŠ¨ä½œï¼Œä½†æ˜¯ä¸€ç›´ä¹Ÿæ²¡æˆåŠŸï¼Œå› ä¸ºå¹´è½»ä»£ã€å¹´è€ä»£éƒ½æ²¡å›æ”¶ä¸‹æ¥ï¼ŒæŒä¹…ä»£ä¹Ÿåœ¨ä¸åœæ¶¨ã€‚</li>\n</ol><p>å¦‚æœå‡ºç°äº†1å’Œ2çš„è¯ï¼Œä¸ç”¨çœ‹ä»€ä¹ˆå…·ä½“å¯¹è±¡å†…å­˜çš„æ¶ˆè€—ï¼Œåªè¦åƒç½‘ä¸Šé‚£äº›åªç©JVMå‚æ•°çš„äººä¸€æ ·ï¼Œè°ƒè°ƒå‚æ•°å°±è¡Œäº†ã€‚</p><p>ä½†æ˜¯å¦‚æœå‡ºç°3å’Œ4ï¼Œå¯¹äº3è¿˜è¦å†åˆ¤æ–­ä¸€ä¸‹ï¼Œä¹‹å‰çš„å†…å­˜æ˜¯ä¸æ˜¯è®¾ç½®å¾—å¤ªå°äº†ï¼Ÿå¦‚æœæ˜¯ï¼Œå°±è°ƒå¤§ï¼Œçœ‹èƒ½ä¸èƒ½åˆ°åœºæ™¯ä¸€çš„çŠ¶æ€ã€‚å¦‚æœä¸æ˜¯ï¼Œé‚£å°±å¾—åƒåœºæ™¯å››ä¸€æ ·ï¼ŒæŸ¥ä¸€ä¸‹å†…å­˜åˆ°åº•æ¶ˆè€—åœ¨å“ªä¸ªå¯¹è±¡ä¸Šäº†ã€‚</p><h3>æŸ¥æ‰¾å¢åŠ çš„å†…å­˜</h3><p><strong>é€»è¾‘ä¸€</strong></p><p>ä¸‹é¢æˆ‘ä»¬æ¥è¯´è¯´å¦‚ä½•åˆ¤æ–­æ€§èƒ½æµ‹è¯•è¿‡ç¨‹ä¸­å†…å­˜çš„å˜åŒ–ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/50/8e/502a6ed2d254820ce92ab6bd22b2928e.png?wh=659*291\" alt=\"\"></p><p>æˆ‘ä»¬åœ¨å†…å­˜ä¸­ç»å¸¸çœ‹åˆ°çš„å¯¹è±¡æ˜¯è¿™æ ·çš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ed/9e/ed0fbdbfa94a97380a86c7730b2db49e.png?wh=1339*628\" alt=\"\"></p><p>å¦‚æœä½ ç”¨jmapçš„è¯ï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/fe/2b/fec55fa1419b3e87be9e1d9adf06982b.png?wh=1366*768\" alt=\"\"></p><p>ä½ å¯èƒ½ä¼šé—®ï¼Œè¿™ä¹ˆå¤šçš„å†…å®¹ï¼Œæˆ‘åˆ°åº•è¦çœ‹ä»€ä¹ˆå‘¢ï¼Ÿè¿™ä¹Ÿæ˜¯æ€§èƒ½æµ‹è¯•äººå‘˜ç»å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œæ˜æ˜æ•°æ®éƒ½åœ¨çœ¼å‰ï¼Œå°±æ˜¯ä¸çŸ¥é“ä»å“ªä¸‹å˜´ã€‚</p><p>æˆ‘å»ºè®®ä½ ä¸è¦çœ‹è¿™äº›åº•å±‚çš„å¯¹è±¡ç±»å‹ï¼Œå› ä¸ºå®åœ¨æ˜¯æœ‰ç‚¹å¤šå“‡ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬æœ€å¥½æ˜¯çœ‹è‡ªå·±ä»£ç è°ƒç”¨çš„å¯¹è±¡çš„å†…å­˜å ç”¨å¤§å°å¢é‡ã€‚</p><ol>\n<li>å…ˆè¿‡æ»¤ä¸‹æˆ‘ä»¬è‡ªå·±çš„åŒ…ã€‚</li>\n<li>ç‚¹å‡»ä¸€ä¸‹Deltasï¼Œå°±èƒ½çœ‹åˆ°ä¸‹é¢çš„æˆªå›¾ã€‚</li>\n</ol><p><img src=\"https://static001.geekbang.org/resource/image/b1/70/b1373d88b3799c573d618545141dca70.png?wh=1337*602\" alt=\"\"></p><p>åœ¨åˆšå¼€å§‹ç‚¹å‡»Deltasä¹‹åï¼Œä¼šçœ‹åˆ°å…¨æ˜¯é›¶çš„å¯¹è±¡ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥åšä¸‹å‹åŠ›ï¼Œè§‚å¯Ÿä¸€ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ee/40/eebbb6e45916a8f3f4fb4f5c43538c40.png?wh=1339*601\" alt=\"\"></p><p>ä½ çœ‹ç°åœ¨å¯¹è±¡çš„å®ä½“éƒ½åœ¨å¾€ä¸Šå¢åŠ å¯¹å§ï¼Ÿä½†æ˜¯å½“å‹åŠ›åœæ­¢ä¹‹åï¼Œè¯¥å›æ”¶çš„éƒ½å›æ”¶äº†ï¼Œè€Œæœ‰äº›å¿…é¡»é•¿ä¹…ä½¿ç”¨çš„å¯¹è±¡ï¼Œåœ¨æ¶æ„è®¾è®¡ä¸Šä¹Ÿåº”è¯¥æ¸…æ™°åœ°åˆ¤æ–­å¢é‡ï¼Œä¸ç„¶å°±æœ‰å¯èƒ½å¯¼è‡´å†…å­˜ä¸å¤Ÿã€‚å‡ºç°è¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯æ¶æ„å¸ˆçš„å¤±èŒã€‚åƒè¿™ç±»ä¸œè¥¿åº”è¯¥å†™åˆ°å…¬å¸çš„ä»£ç è§„èŒƒé‡Œã€‚</p><p>å½“å†…å­˜æ­£å¸¸å›æ”¶ä¹‹åï¼Œå†è§‚å¯ŸDeltasï¼Œåº”è¯¥ä¼šçœ‹åˆ°å¤§éƒ¨åˆ†å¯¹è±¡éƒ½å›æ”¶äº†çš„çŠ¶æ€ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/74/cc/7438e6e9df188a85edc5906a22852fcc.png?wh=1338*605\" alt=\"\"></p><p>ä¸´æ—¶çš„å¯¹è±¡ä¹Ÿéƒ½æ¸…ç†äº†ã€‚ è¿™å°±æ˜¯æ­£å¸¸çš„ç»“æœã€‚</p><p>å¦‚æœåœæ­¢å‹åŠ›ä¹‹åï¼Œåˆåšäº†æ­£å¸¸çš„FullGCå›æ”¶äº†ä¹‹åï¼Œè¿˜æ˜¯åƒä¸‹é¢è¿™æ ·ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/73/6e/73e145ffcad24c4b72bb5c33b92e8b6e.png?wh=1340*588\" alt=\"\"></p><p>é‚£å°±æ˜¾ç„¶æœ‰é—®é¢˜äº†ã€‚å›æ”¶ä¸äº†çš„å¯¹è±¡å°±æ˜¯å…¸å‹çš„å†…å­˜æ³„éœ²äº†ã€‚</p><p><strong>é€»è¾‘äºŒ</strong></p><p>æˆ‘ä»¬çœ‹ä¸‹é¢è¿™ä¸ªå›¾ã€‚è¿™æ˜¯jmapåšå‡ºæ¥çš„heapdumpï¼Œç„¶åç”¨MATæ‰“å¼€çš„ã€‚</p><p>1.ç¬¬ä¸€ä¸ªå¯ç–‘çš„å†…å­˜æ³„éœ²ç‚¹å äº†466.4MBçš„å†…å­˜ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ac/21/ac38b7a41afa0b4eef5ea8282494a421.png?wh=720*345\" alt=\"\"></p><p>2.æ‰¾åˆ°å†…å­˜æ¶ˆè€—ç‚¹çš„å¤šçš„å†…å®¹ã€‚å¦‚ä¸‹æ‰€ç¤ºã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c7/ec/c77ccf1e96b1794987354fac146cc6ec.png?wh=1071*563\" alt=\"\"></p><p>è¿™æ˜¯ä¸€ä¸ªå®ä½“beanã€‚æ¯ä¸ªå€’æ˜¯ä¸å¤§ï¼Œä½†æ˜¯æ¶ä¸ä½æœ‰79ä¸‡ä¸ªã€‚</p><p>3.çœ‹å®ƒå¯¹åº”çš„æ ˆã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/0e/1f/0e7914173204f8609c45c24944655f1f.png?wh=1219*581\" alt=\"\"></p><p>å°±æ˜¯ä¸€ä¸ªæ•°æ®åº“æ“ä½œã€‚</p><p>4.å–å‡ºSQLï¼ŒæŸ¥çœ‹æ‰§è¡Œè®¡åˆ’å¦‚ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/fd/8d/fd1c9859d61fb9bc531b3a10449b318d.png?wh=638*483\" alt=\"\"></p><p>è¿™æ˜¯æ›²çº¿çš„SQLæŸ¥è¯¢æ•°æ®è¿‡å¤šï¼Œå¯¼è‡´å†…å­˜ä¸å¤Ÿç”¨ã€‚è¿™ä¸ªä¸å«æ³„éœ²ï¼Œè¿™æ˜¯æº¢å‡ºã€‚å› ä¸ºè¦æ˜¯ä¸€ä¸ªäººæŸ¥è¯¢ï¼Œå°±å¯èƒ½æ²¡äº‹å˜›ï¼Œä½†æ˜¯å¤šä¸ªäººä¸€èµ·æŸ¥äº†ï¼Œæ‰ä¼šå‡ºé—®é¢˜ã€‚ä»ä¸šåŠ¡çš„ä»£ç å®ç°çš„è§’åº¦ä¸Šè¯´ï¼Œè¿™ç»å¯¹æ˜¯ä¸ªæœ‰é—®é¢˜çš„è®¾è®¡é€»è¾‘ã€‚å¦‚æœçœŸæ˜¯å¿…é¡»å…¨è¡¨æ‰«æçš„ï¼Œä½ å¾—è§„å®šè¿™ä¸ªåŠŸèƒ½æ€ä¹ˆç”¨å‘€ã€‚å¦‚æœä¸ç”¨å…¨è¡¨æ‰«æï¼Œå¹²å˜›ä¸åšè¿‡æ»¤å‘¢ï¼Ÿ</p><p>å…¶å®åœ¨Javaä¸­æŸ¥æ‰¾å†…å­˜æ¶ˆè€—çš„æ‰‹æ®µè¿˜æœ‰å¾ˆå¤šã€‚ä½ å–œæ¬¢æ€ä¹ˆç©å°±æ€ä¹ˆç©ï¼Œåªè¦æ‰¾å¾—åˆ°å°±å¥½ã€‚æˆ‘åªæ˜¯ç»™ä¸¤ç§æˆ‘è§‰å¾—å¸¸ç”¨åˆæ˜“ç”¨çš„æ–¹å¼ã€‚</p><h2>C/C++ç±»åº”ç”¨æŸ¥æ‰¾æ–¹æ³•æ‰§è¡Œæ—¶é—´</h2><p>å¯¹C/C++çš„åº”ç”¨æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨google-perftoolsæŸ¥æ‰¾æ–¹æ³•æ‰§è¡Œæ—¶é—´ã€‚å½“ç„¶ï¼Œåœ¨è¿™ä¹‹æ—¶ï¼Œä½ éœ€è¦å…ˆå®‰è£…é…ç½®å¥½google-perftoolså’Œlibunwindã€‚</p><p>google-perftoolsæ˜¯é’ˆå¯¹C/C++ç¨‹åºçš„æ€§èƒ½åˆ†æå·¥å…·ã€‚ä½¿ç”¨å®ƒï¼Œå¯ä»¥å¯¹CPUæ—¶é—´ç‰‡ã€å†…å­˜ç­‰ç³»ç»Ÿèµ„æºçš„åˆ†é…å’Œä½¿ç”¨è¿›è¡Œåˆ†æã€‚</p><p>ä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol>\n<li>ç¼–è¯‘ç›®æ ‡ç¨‹åºï¼ŒåŠ å…¥å¯¹ google-perftools åº“çš„ä¾èµ–ã€‚</li>\n<li>è¿è¡Œç›®æ ‡ç¨‹åºï¼Œåœ¨ä»£ç ä¸­åŠ å…¥å¯åŠ¨/ç»ˆæ­¢å‰–æçš„å¼€å…³ã€‚</li>\n<li>å°†ç”Ÿæˆçš„ç»“æœé€šè¿‡å‰–æå·¥å…·ç”Ÿæˆç›¸åº”çš„è°ƒç”¨å›¾ã€‚</li>\n</ol><p>ä½ å¯ä»¥åœ¨ä»£ç ä¸­åŠ å…¥å›ºå®šè¾“å‡ºå‰–ææ•°æ®çš„å¼€å…³ï¼Œå½“è¿è¡Œåˆ°æŸæ®µä»£ç æ—¶å°±ä¼šæ‰§è¡Œã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨ä»£ç ä¸­åªåŠ å…¥æ¥æ”¶ä¿¡å·çš„åŠŸèƒ½ï¼Œç„¶ååœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡killå‘½ä»¤ç»™æ­£åœ¨è¿è¡Œçš„ç¨‹åºå‘é€æŒ‡ä»¤ï¼Œä»è€Œæ§åˆ¶å¼€å…³ã€‚</p><p>æˆ‘æ¥ä¸¾ä¸ªä¾‹å­ã€‚å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°fï¼Œæˆ‘æƒ³çŸ¥é“å®ƒçš„æ‰§è¡Œæ•ˆç‡ã€‚ç¡¬ç¼–ç çš„æ–¹å¼å°±æ˜¯åœ¨è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„å‰ååŠ ä¸Šå‰–æå¼€å…³ã€‚</p><pre><code>ProfilerStart(&quot;test.prof&quot;);//å¼€å¯æ€§èƒ½åˆ†æ\nf();\nProfilerStop();//åœæ­¢æ€§èƒ½åˆ†æ\n\n</code></pre><p>åœ¨ç¨‹åºç¼–è¯‘ä¹‹åï¼Œä¼šåœ¨åŒç›®å½•ç”Ÿæˆä¸€ä¸ªå«a.outçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/54/c4/54f34188238d4dad62f9fd1ed5fdf5c4.png?wh=564*157\" alt=\"\"></p><p>æ‰§è¡Œè¿™ä¸ªæ–‡ä»¶ï¼Œå°±ä¼šç”Ÿæˆtest.profæ–‡ä»¶ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/42/7d/42fa660a548ffdaf7a9f84e92a2bef7d.png?wh=568*227\" alt=\"\"></p><p>ç„¶åæ‰§è¡Œå‘½ä»¤ï¼š</p><pre><code>pprof --pdf a.out test.prof &gt;test.pdf \n</code></pre><p>æ‰“å¼€è¿™ä¸ªPDFå°±å¯ä»¥çœ‹åˆ°å¦‚ä¸‹å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/f6/58/f69e0653da960428fb4f308578508758.png?wh=753*530\" alt=\"\"></p><p>ä½ çœ‹åˆ°ä¸Šé¢æœ‰å¾ˆå¤šåªæœ‰åœ°å€è€Œæ²¡æœ‰å‡½æ•°åçš„è°ƒç”¨å—ï¼Ÿé‚£æ˜¯æ²¡æœ‰ç¬¦å·è¡¨ã€‚è¿™é‡Œæˆ‘ä»¬ä¸åˆ†æé‚£äº›ä¸æ˜¯æˆ‘ä»¬è‡ªå·±çš„å‡½æ•°ï¼Œæˆ‘ä»¬åªçœ‹è‡ªå·±çš„å‡½æ•°fã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d3/11/d3728112e6b6eb636aea729c0a5b9211.png?wh=276*153\" alt=\"\"></p><p>çœ‹è¿™ä¸€æ®µï¼Œå®ƒæœ‰ä¸‰è¡Œã€‚</p><ul>\n<li>ç¬¬ä¸€è¡Œï¼šå‡½æ•°åï¼›</li>\n<li>ç¬¬äºŒè¡Œï¼šä¸åŒ…å«å†…éƒ¨å‡½æ•°è°ƒç”¨çš„æ ·æœ¬æ•° (ç™¾åˆ†æ¯”) ï¼›</li>\n<li>ç¬¬ä¸‰è¡Œï¼šof åŒ…å«å†…éƒ¨å‡½æ•°è°ƒç”¨çš„æ ·æœ¬æ•° (ç™¾åˆ†æ¯”)ã€‚</li>\n</ul><p>æ˜¯ä¸æ˜¯å’ŒJavaä¸­self time/total timeæœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼Ÿå®ƒä¹Ÿå¯ä»¥å®ç°ä»CPUä½¿ç”¨ç‡é«˜åˆ°å…·ä½“å‡½æ•°çš„å®šä½ã€‚</p><p>ä½ ä¹Ÿè®¸ä¼šè¯´ï¼Œè¿™ä¸ªæœ‰ç‚¹å¤æ‚ï¼Œè¿˜è¦åœ¨ä»£ç é‡ŒåŠ è¿™ä¹ˆå¤šï¼Œç¼–è¯‘è¿˜è¦åŠ ä¸ŠåŠ¨æ€åº“å•¥çš„ã€‚å½“ç„¶äº†ï¼Œä½ è¿˜å¯ä»¥ç”¨perfå·¥å…·æ¥è·Ÿè¸ªCPU clockï¼Œåœ¨ä»£ç ç¼–è¯‘æ—¶åŠ ä¸Šè°ƒè¯•å‚æ•°ï¼Œå°±å¯ä»¥ç›´æ¥ç”¨perf top -gçœ‹è°ƒç”¨è¿‡ç¨‹ç”±æ¯ä¸ªå‡½æ•°æ‰€æ¶ˆè€—çš„CPUæ—¶é’Ÿã€‚ä½ è¿˜å¯ä»¥ç”¨systemtapæ¥è‡ªå·±å†™ä»£ç è¿›è¡ŒåŠ¨æ€è·Ÿè¸ªã€‚</p><h2>C/C++ç±»åº”ç”¨æŸ¥æ‰¾å¯¹è±¡å†…å­˜æ¶ˆè€—</h2><p>å…¶å®googler perftoolsä¹Ÿå¯ä»¥åˆ†æå†…å­˜ï¼Œä½†æ˜¯æˆ‘è§‰å¾—å®ƒæ²¡æœ‰Valgrindå¥½ä½¿ã€‚æ‰€ä»¥åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ç”¨valgrindæ¥å‘Šè¯‰ä½ å¦‚ä½•æŸ¥æ‰¾åˆ°C/C++çš„å†…å­˜æ¶ˆè€—ã€‚</p><p>valgrindèƒ½å®ç°è¿™äº›åŠŸèƒ½ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/60/f8/6098d8b66b331a1791cc8daaeaa186f8.png?wh=2248*1056\" alt=\"\"></p><p>è¿™é‡Œä¸¾ä¸€ä¸ªå†…å­˜æ³„éœ²çš„å°ä¾‹å­ã€‚è¿™æ˜¯ä¸€æ®µå†æ— èŠä¸è¿‡çš„ä»£ç ï¼š</p><pre><code> #include &lt;stdlib.h&gt;\n\n\n  void f(void)\n  {\n     int* x = malloc(10 * sizeof(int));\n     x[10] = 0;        // problem 1: heap block overrun\n  }                    // problem 2: memory leak -- x not freed\n\n\n  int main(void)\n  {\n     f();\n     return 0;\n</code></pre><p>æˆ‘ä»¬ä¸æ–­åˆ†é…ï¼Œè€Œä¸é‡Šæ”¾ã€‚</p><p>ç¼–è¯‘è¿è¡Œä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç»“æœã€‚</p><pre><code>[root@7dgroup Sample10]# gcc -Wall -o test5 test5.c \n[root@7dgroup Sample10]# valgrind --tool=memcheck --leak-check=full ./test5\n==318== Memcheck, a memory error detector\n==318== Copyright (C) 2002-2013, and GNU GPL'd, by Julian Seward et al.\n==318== Using Valgrind-3.10.0 and LibVEX; rerun with -h for copyright info\n==318== Command: ./test5\n==318== \n==318== Invalid write of size 4\n==318==    at 0x40054E: f (in /root/GDB/Sample10/test5)\n==318==    by 0x40055E: main (in /root/GDB/Sample10/test5)\n==318==  Address 0x51f7068 is 0 bytes after a block of size 40 alloc'd\n==318==    at 0x4C29BFD: malloc (in /usr/lib64/valgrind/vgpreload_memcheck-amd64-linux.so)\n==318==    by 0x400541: f (in /root/GDB/Sample10/test5)\n==318==    by 0x40055E: main (in /root/GDB/Sample10/test5)\n==318== \n==318== \n==318== HEAP SUMMARY:\n==318==     in use at exit: 40 bytes in 1 blocks\n==318==   total heap usage: 1 allocs, 0 frees, 40 bytes allocated\n==318== \n==318== 40 bytes in 1 blocks are definitely lost in loss record 1 of 1\n==318==    at 0x4C29BFD: malloc (in /usr/lib64/valgrind/vgpreload_memcheck-amd64-linux.so)\n==318==    by 0x400541: f (in /root/GDB/Sample10/test5)\n==318==    by 0x40055E: main (in /root/GDB/Sample10/test5)\n==318== \n==318== LEAK SUMMARY:\n==318==    definitely lost: 40 bytes in 1 blocks\n==318==    indirectly lost: 0 bytes in 0 blocks\n==318==      possibly lost: 0 bytes in 0 blocks\n==318==    still reachable: 0 bytes in 0 blocks\n==318==         suppressed: 0 bytes in 0 blocks\n==318== \n==318== For counts of detected and suppressed errors, rerun with: -v\n==318== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 1 from 1)\n[root@7dgroup Sample10]# \n</code></pre><p>ä¸»è¦çœ‹ä¸€ä¸‹è¿™è¡Œã€‚</p><pre><code>==318==   total heap usage: 1 allocs, 0 frees, 40 bytes allocated\n\n</code></pre><p>è¿™é‡Œåˆ†é…äº†40ä¸ªå­—èŠ‚çš„ä¸€å—å†…å­˜ï¼Œä½†æ˜¯0é‡Šæ”¾ï¼Œæ‰€ä»¥å°±æ³„éœ²äº†ã€‚</p><p>è¯·ä½ æ³¨æ„ï¼Œåœ¨è°ƒè¯•è‡ªå·±çš„ç¨‹åºæ—¶ï¼Œè¦åƒJavaä¸€æ ·ï¼Œåˆ†æå†…å­˜çš„æ³„éœ²ï¼Œåœ¨å‹åŠ›å‰å’Œå‹åŠ›ååšå†…å­˜çš„æ¯”å¯¹ã€‚åœ¨å‹åŠ›ä¸­åˆ™ä¸ç”¨åšã€‚</p><h2>æ€»ç»“</h2><p>ä¸ç®¡æ˜¯ä»€ä¹ˆè¯­è¨€çš„åº”ç”¨ï¼Œåœ¨æ€§èƒ½åˆ†æçš„è¿‡ç¨‹ä¸­ï¼Œéƒ½æ˜¯åˆ†æä¸¤ä¸ªæ–¹æ³•ã€‚</p><ol>\n<li>æ‰§è¡Œé€Ÿåº¦å¤Ÿä¸å¤Ÿå¿«ã€‚åªæœ‰å¤Ÿå¿«æ‰èƒ½æ»¡è¶³æ›´é«˜çš„TPSã€‚</li>\n<li>æ‰§è¡Œè¿‡ç¨‹ä¸­å†…å­˜ç”¨å¾—å¤šä¸å¤šã€‚å†…å­˜ç”¨å¾—å°‘ï¼Œæ‰å¯ä»¥åŒæ—¶æ”¯æŒæ›´å¤šçš„è¯·æ±‚ã€‚</li>\n</ol><p>æˆ‘è§‰å¾—å¯¹æ€§èƒ½æµ‹è¯•è¿‡ç¨‹ä¸­çš„åˆ†ææ¥è¯´ï¼Œè¿™ä¸¤ç‚¹è¶³å¤Ÿä½ è§£å†³ä»£ç ä¸Šçš„é—®é¢˜äº†ã€‚æœ‰äººè¯´ï¼Œä¸ºä»€ä¹ˆä¸è¯´I/Oçš„äº‹æƒ…å‘¢ã€‚å…¶å®I/Oä»ç„¶æ˜¯è¯»å†™é‡çš„å¤šå°‘ï¼Œä¹Ÿä¼šååº”ç”¨å†…å­˜ä¸­ã€‚è‡³äºç£ç›˜æœ¬èº«æ€§èƒ½è·Ÿä¸ä¸Šï¼Œé‚£æ˜¯å¦ä¸€ä¸ªè¯é¢˜ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æœ€åç»™ä½ ç•™ä¸¤ä¸ªæ€è€ƒé¢˜å§ã€‚å¯¹ä»£ç çš„æ€§èƒ½åˆ†æè¿‡ç¨‹ä¸­ï¼Œä¸»è¦æ˜¯å“ªä¸¤ç‚¹å‘¢ï¼Ÿé’ˆå¯¹ä»£ç åˆ†æçš„è¿™ä¸¤ç‚¹ï¼Œæœ‰ä»€ä¹ˆæ ·çš„åˆ†æé“¾è·¯ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºå†™ä¸‹è‡ªå·±çš„æ€è€ƒï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ï¼Œä¸€èµ·äº¤æµä¸€ä¸‹ã€‚</p>","neighbors":{"left":{"article_title":"19ä¸¨Java & C ++ï¼šä»£ç çº§ç›‘æ§åŠå¸¸ç”¨è®¡æ•°å™¨è§£æï¼ˆä¸Šï¼‰","id":193551},"right":{"article_title":"21ä¸¨Tomcatï¼šä¸­é—´ä»¶ç›‘æ§åŠå¸¸ç”¨è®¡æ•°å™¨è§£æ","id":195497}},"comments":[{"had_liked":false,"id":274491,"user_name":"kaixin","can_delete":false,"product_type":"c1","uid":2368627,"ip_address":"","ucode":"D80CE5F6963882","user_header":"https://static001.geekbang.org/account/avatar/00/24/24/73/91ef894b.jpg","comment_is_top":false,"comment_ctime":1611036833,"is_pvip":false,"replies":[{"id":"99800","content":"è¯´çš„éå¸¸å¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1611311259,"ip_address":"","comment_id":274491,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23085873313","product_id":100042501,"comment_content":"æ—¶é—´å’Œç©ºé—´ã€‚<br>æ—¶é—´æ˜¯æŒ‡æ‰§è¡Œçš„å¤Ÿä¸å¤Ÿå¿«ï¼Œå¿«æ‰èƒ½åœ¨åŒæ ·çš„æ—¶é—´å†…å¤„ç†æ›´å¤šçš„è¯·æ±‚<br>ç©ºé—´å°±æ˜¯å†…å­˜ï¼Œæ¯ä¸ªå½¢æˆçš„å¯¹è±¡å°ï¼Œæˆ–è€…ä½¿ç”¨åé‡Šæ”¾å¿«ï¼Œæ‰èƒ½åœ¨å›ºå®šå†…å­˜ä¸‹æœ‰æ›´å¤šå¯¹è±¡å¯ä»¥ä½¿ç”¨å†…å­˜","like_count":6,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514035,"discussion_content":"è¯´çš„éå¸¸å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611311259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":322772,"user_name":"ç‹é¡º","can_delete":false,"product_type":"c1","uid":2066459,"ip_address":"","ucode":"CF75898B0FD71E","user_header":"https://static001.geekbang.org/account/avatar/00/1f/88/1b/deca1dba.jpg","comment_is_top":false,"comment_ctime":1637581129,"is_pvip":false,"replies":[{"id":"117402","content":"ç²¾è¾Ÿã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1785562","ctime":1637945367,"ip_address":"","comment_id":322772,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1637581129","product_id":100042501,"comment_content":"æ—¶é—´å’Œç©ºé—´","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533772,"discussion_content":"ç²¾è¾Ÿã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637945367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":299411,"user_name":"jy","can_delete":false,"product_type":"c1","uid":1785172,"ip_address":"","ucode":"F4E179C435451B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJ6G2xZvNRmhyXBjmGbI5G8icGCCMPupr6yxZ1IcURwp7GTRHcpWGWpg9A0fLlyicmVdDwzqZqwiaOQ/132","comment_is_top":false,"comment_ctime":1624613850,"is_pvip":false,"replies":[{"id":"108654","content":"åŠ å¤§jvmå†…å­˜ã€‚ä½†ä¸èƒ½è§£å†³é—®é¢˜ã€‚åªæœ‰è§£å†³ç“¶é¢ˆæ‰å¯ä»¥è§£å†³é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1624765802,"ip_address":"","comment_id":299411,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1624613850","product_id":100042501,"comment_content":"åŸæ–‡å†…å®¹ï¼šâ€œå®é™…ä¸Šï¼Œè¿™å¼ å›¾è¯´æ˜ä»¥ä¸‹å››ç‚¹ï¼šå¹´è½»ä»£ï¼ˆç¬¬ä¸‰åˆ—ï¼‰ã€å¹´è€ä»£ï¼ˆç¬¬å››åˆ—ï¼‰å…¨æ»¡äº†ï¼ŒæŒä¹…ä»£åœ¨ä¸æ–­å¢åŠ ï¼Œå¹¶ä¸”ä¹Ÿæ²¡æœ‰é‡Šæ”¾è¿‡ã€‚ä¸¤ä¸ªä¿ç•™åŒºï¼ˆç¬¬ä¸€åˆ—ã€ç¬¬äºŒåˆ—ï¼‰éƒ½æ˜¯ç©ºçš„ã€‚Yonug GCï¼ˆç¬¬å…­åˆ—ï¼‰å·²ç»ä¸åšäº†ã€‚Full GCï¼ˆç¬¬å…«åˆ—ï¼‰ä¸€ç›´éƒ½åœ¨å°è¯•åšå›æ”¶çš„åŠ¨ä½œï¼Œä½†æ˜¯ä¸€ç›´ä¹Ÿæ²¡æˆåŠŸï¼Œå› ä¸ºå¹´è½»ä»£ã€å¹´è€ä»£éƒ½æ²¡å›æ”¶ä¸‹æ¥ï¼ŒæŒä¹…ä»£ä¹Ÿåœ¨ä¸åœæ¶¨ã€‚å¦‚æœå‡ºç°äº† 1 å’Œ 2 çš„è¯ï¼Œä¸ç”¨çœ‹ä»€ä¹ˆå…·ä½“å¯¹è±¡å†…å­˜çš„æ¶ˆè€—ï¼Œåªè¦åƒç½‘ä¸Šé‚£äº›åªç© JVM å‚æ•°çš„äººä¸€æ ·ï¼Œè°ƒè°ƒå‚æ•°å°±è¡Œäº†ã€‚â€œ<br><br>é—®é¢˜ï¼šå…·ä½“æ˜¯å¦‚ä½•è°ƒå‚æ•°å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522434,"discussion_content":"åŠ å¤§jvmå†…å­˜ã€‚ä½†ä¸èƒ½è§£å†³é—®é¢˜ã€‚åªæœ‰è§£å†³ç“¶é¢ˆæ‰å¯ä»¥è§£å†³é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624765802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295121,"user_name":"johnny","can_delete":false,"product_type":"c1","uid":1210226,"ip_address":"","ucode":"54E78B7BBC6AF0","user_header":"https://static001.geekbang.org/account/avatar/00/12/77/72/8f77ddb0.jpg","comment_is_top":false,"comment_ctime":1622255071,"is_pvip":false,"replies":[{"id":"107153","content":"æ€»ç»“çš„ä¸é”™ï¼Œå¯ä»¥å‡ºå¸ˆäº†ã€‚å“ˆå“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1622288857,"ip_address":"","comment_id":295121,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1622255071","product_id":100042501,"comment_content":"å¯¹ä»£ç çš„æ€§èƒ½åˆ†æè¿‡ç¨‹ä¸­ï¼Œä¸»è¦æ˜¯å“ªä¸¤ç‚¹ï¼Ÿ<br>1.è¿è¡Œé€Ÿåº¦<br>2.å ç”¨å†…å­˜<br>é’ˆå¯¹ä»£ç åˆ†æçš„è¿™ä¸¤ç‚¹ï¼Œæœ‰ä»€ä¹ˆæ ·çš„åˆ†æé“¾è·¯ï¼Ÿ<br>é“¾è·¯çš„åˆ†ææ€è·¯è¿˜æ˜¯å…ˆåˆ†æç³»ç»Ÿæ¶æ„ã€ç„¶ååˆ†æ®µï¼Œåˆ†å±‚ï¼Œå…ˆå…¨å±€åå®šå‘ã€‚<br>è¿è¡Œé€Ÿåº¦åˆ†æé“¾è·¯<br>å“åº”æ—¶é—´é•¿-&gt;åˆ†æ®µæ‹†åˆ†æ—¶é—´-&gt;æ“ä½œç³»ç»Ÿ-&gt;è¿›ç¨‹-&gt;çº¿ç¨‹-&gt;æ–¹æ³•æˆ–å‡½æ•°CPUæ‰§è¡Œæ—¶é—´<br>å ç”¨å†…å­˜åˆ†æé“¾è·¯<br>å“åº”æ—¶é—´é•¿-&gt;åˆ†æ®µæ‹†åˆ†æ—¶é—´-&gt;æ“ä½œç³»ç»Ÿ-&gt;è¿›ç¨‹-&gt;çº¿ç¨‹-&gt;å¯¹è±¡æˆ–å˜é‡å†…å­˜ä½¿ç”¨æƒ…å†µ","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520953,"discussion_content":"æ€»ç»“çš„ä¸é”™ï¼Œå¯ä»¥å‡ºå¸ˆäº†ã€‚å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622288857,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":271717,"user_name":"alley","can_delete":false,"product_type":"c1","uid":1129217,"ip_address":"","ucode":"C46DB6F84DB74F","user_header":"https://static001.geekbang.org/account/avatar/00/11/3b/01/7a0bfa9a.jpg","comment_is_top":false,"comment_ctime":1609766799,"is_pvip":false,"replies":[{"id":"98577","content":"stwçš„æ—¶å€™æœåŠ¡è‚¯å®šä¸å¯ç”¨å‘€ï¼Œä¸ç®¡ä»€ä¹ˆgcç­–ç•¥éƒ½ä¼šæœ‰fullgcã€‚<br>ä½†æ˜¯ä½ çš„æè¿°æœ‰ä¸å¤ªåˆç†çš„ï¼Œä½ è¯´æœ‰æ³„éœ²ã€‚æœ‰æ³„éœ²å°±æ„å‘³ç€fullgcä¹Ÿå›æ”¶ä¸äº†ï¼Œèƒ½å›æ”¶å¾—äº†å°±ä¸å«æ³„éœ²äº†ã€‚<br>æ‰€ä»¥ä½ è¦ç»™å‡ºå…·ä½“çš„æ•°æ®æ‹¿æ¥çœ‹çœ‹æ‰èƒ½çŸ¥é“ã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1609831469,"ip_address":"","comment_id":271717,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1609766799","product_id":100042501,"comment_content":"è€å¸ˆï¼Œæˆ‘åœ¨å¹³æ—¶æµ‹è¯•æ€§èƒ½åŸºçº¿ä¸­å‘ç°æœ‰ç¼“æ…¢çš„æ€§èƒ½æ³„éœ²é—®é¢˜ï¼Œå¼€å‘è¯´ä¸ç”¨ç®¡ï¼Œè§¦å‘FullGCæ¥å›æ”¶å†…å­˜ï¼›é‚£FullGCçš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯ç³»ç»Ÿä¸šåŠ¡ä¸å¯ç”¨ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513018,"discussion_content":"stwçš„æ—¶å€™æœåŠ¡è‚¯å®šä¸å¯ç”¨å‘€ï¼Œä¸ç®¡ä»€ä¹ˆgcç­–ç•¥éƒ½ä¼šæœ‰fullgcã€‚\nä½†æ˜¯ä½ çš„æè¿°æœ‰ä¸å¤ªåˆç†çš„ï¼Œä½ è¯´æœ‰æ³„éœ²ã€‚æœ‰æ³„éœ²å°±æ„å‘³ç€fullgcä¹Ÿå›æ”¶ä¸äº†ï¼Œèƒ½å›æ”¶å¾—äº†å°±ä¸å«æ³„éœ²äº†ã€‚\næ‰€ä»¥ä½ è¦ç»™å‡ºå…·ä½“çš„æ•°æ®æ‹¿æ¥çœ‹çœ‹æ‰èƒ½çŸ¥é“ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609831469,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":254235,"user_name":"chailyn","can_delete":false,"product_type":"c1","uid":2066287,"ip_address":"","ucode":"E4C7769B3AD311","user_header":"https://static001.geekbang.org/account/avatar/00/1f/87/6f/a1c56129.jpg","comment_is_top":false,"comment_ctime":1603088756,"is_pvip":false,"replies":[{"id":"93939","content":"æ‰‹æ®µæ˜¯ä¸€æ ·çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1604281454,"ip_address":"","comment_id":254235,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1603088756","product_id":100042501,"comment_content":"å¡åœ¨åˆ†æäº†ï¼Œwindowsç³»ç»Ÿå¦‚ä½•ç›‘æ§åˆ†æc&#47;c++è¯­è¨€ç¨‹åºçš„CPUï¼Œæ„Ÿè§‰è¿˜æ˜¯å¾ˆæ‡µå‘€","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507325,"discussion_content":"æ‰‹æ®µæ˜¯ä¸€æ ·çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604281454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203964,"user_name":"æœˆäº®å’Œå…­ä¾¿å£«","can_delete":false,"product_type":"c1","uid":1080894,"ip_address":"","ucode":"EFFCB9171D4B4E","user_header":"https://static001.geekbang.org/account/avatar/00/10/7e/3e/82202cc8.jpg","comment_is_top":false,"comment_ctime":1586313110,"is_pvip":false,"replies":[{"id":"76415","content":"1. æ²¡æœ‰ç¡®å®šçš„æ ‡å‡†è¯´FGCå¤šä¹…ä¸€æ¬¡æ­£å¸¸ã€‚åªè¦å¯¹æ€§èƒ½ä¸äº§ç”Ÿå¤§çš„å½±å“å°±å¯ä»¥ã€‚<br>2. è¿™ä¸ªæ²¡æœ‰æ ‡å‡†ï¼Œè¦æ ¹æ®å®ç”¨æ¶æ„æ¥åšè®¡ç®—ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1586398666,"ip_address":"","comment_id":203964,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1586313110","product_id":100042501,"comment_content":"é«˜è€å¸ˆï¼Œ1. gcï¼Œ FGC å¤šä¹…ä¸€æ¬¡ç®—æ­£å¸¸ï¼Ÿæˆ‘ç»å¸¸çœ‹åˆ°ä¹¦ç±ä¸Šè¯´ä»€ä¹ˆé¢‘ç¹çš„Fgc ï¼Œä¸çŸ¥é“æ€ä¹ˆæ ·ç®—é¢‘ç¹ï¼Œ2.  jvmè®¾ç½®å¤šå¤§ ä¸æ€»å†…å­˜æœ‰æ¯”ä¾‹å…³ç³»ä¹ˆï¼Œæ¯”å¦‚æˆ‘æœ‰120Gå†…å­˜ï¼Œæˆ‘è®¾ç½®3G xmx  è¿™ä¸ªè¦æ€ä¹ˆç¡®å®šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491020,"discussion_content":"1. æ²¡æœ‰ç¡®å®šçš„æ ‡å‡†è¯´FGCå¤šä¹…ä¸€æ¬¡æ­£å¸¸ã€‚åªè¦å¯¹æ€§èƒ½ä¸äº§ç”Ÿå¤§çš„å½±å“å°±å¯ä»¥ã€‚\n2. è¿™ä¸ªæ²¡æœ‰æ ‡å‡†ï¼Œè¦æ ¹æ®å®ç”¨æ¶æ„æ¥åšè®¡ç®—ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586398666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1517016,"avatar":"https://static001.geekbang.org/account/avatar/00/17/25/d8/72bd1adf.jpg","nickname":"ç„¶ï½åï½","note":"","ucode":"E91A58C738A608","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582718,"discussion_content":"è€å¸ˆï¼Œé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œéº»çƒ¦é—®ä¸‹æ‚¨æœ‰é‡åˆ°è¿‡å—ï¼Œæˆ‘åœ¨åå°è·‘jmeterç”¨ä¾‹çš„æ—¶å€™ï¼Œè·‘ä¸€ä¼šå°±è‡ªå·±åœäº†ï¼ŒæŠ¥é”™ Uncaught Exception java.lang.NullPointerException. See log file for details.  ---æœ‰ä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œä¸€ä¸ªbinä¸‹é¢çš„jmeter.log æŠ¥é”™ä¿¡æ¯æ˜¯  jmeter.JMeter: Uncaught exception:  java.lang.NullPointerException\n\tat com.blazemeter.jmeter.threads.AbstractDynamicThreadGroup.joinThreadFrom(AbstractDynamicThreadGroup.java:127)\n\tat com.blazemeter.jmeter.threads.AbstractDynamicThreadGroup.waitThreadsStopped(AbstractDynamicThreadGroup.java:49)\n\tat org.apache.jmeter.engine.StandardJMeterEngine.waitThreadsStopped(StandardJMeterEngine.java:508)\n\tat org.apache.jmeter.engine.StandardJMeterEngine.run(StandardJMeterEngine.java:413)\n\tat java.lang.Thread.run(Unknown Source)ï¼Œå¦ä¸€ä¸ªæ˜¯jmeterlog.jmxè¿™ä¸ªé‡Œé¢æ²¡æœ‰æŠ¥é”™ä¿¡æ¯ï¼Œå‰ä¸¤å¤©å‹æµ‹çš„æ—¶å€™ä¸€ç›´æ˜¯æ­£å¸¸çš„ï¼Œçªç„¶é—´è¿™æ ·çš„ï¼Œä¹Ÿæ²¡å•¥æ”¹åŠ¨ï¼ŒæŸ¥ä¸åˆ°åŸå› äº†ï¼Œæƒ³é—®ä¸‹è€å¸ˆé‡åˆ°è¿‡å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659604260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":200976,"user_name":"å®‰æ’","can_delete":false,"product_type":"c1","uid":1260026,"ip_address":"","ucode":"F78CFA9624CAEF","user_header":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","comment_is_top":false,"comment_ctime":1585701651,"is_pvip":false,"replies":[{"id":"75227","content":"ç²¾å‡†åˆ†æï¼Œåœ¨ä»£ç ä¸­åŠ perftoolåº”è¯¥ä¼šå¿«ä¸€äº›ã€‚æˆ–è€…æ ¹æ®ç›®æ ‡ç”¨è°ƒè¯•å·¥å…·ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1585721467,"ip_address":"","comment_id":200976,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585701651","product_id":100042501,"comment_content":"valgrindåˆ†æå¤§å‹ç¨‹åºæ¯”è¾ƒæ…¢ï¼Œæœ‰æ²¡æœ‰å…¶ä»–å¥½ç”¨çš„å¿«çš„å·¥å…·å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490198,"discussion_content":"ç²¾å‡†åˆ†æï¼Œåœ¨ä»£ç ä¸­åŠ perftoolåº”è¯¥ä¼šå¿«ä¸€äº›ã€‚æˆ–è€…æ ¹æ®ç›®æ ‡ç”¨è°ƒè¯•å·¥å…·ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585721467,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":182870,"user_name":"å´å°å–µ","can_delete":false,"product_type":"c1","uid":1392780,"ip_address":"","ucode":"A8CB5407A89593","user_header":"https://static001.geekbang.org/account/avatar/00/15/40/8c/bc76ecd3.jpg","comment_is_top":false,"comment_ctime":1582880082,"is_pvip":false,"replies":[{"id":"70727","content":"æˆªå›¾å‘æˆ‘çœ‹çœ‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1582887331,"ip_address":"","comment_id":182870,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1582880082","product_id":100042501,"comment_content":"è€å¸ˆï¼Œä¸ºä»€ä¹ˆæˆ‘çš„jvisualvmæ²¡æœ‰Deltas ","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485479,"discussion_content":"æˆªå›¾å‘æˆ‘çœ‹çœ‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582887331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":181822,"user_name":"å°è€é¼ ","can_delete":false,"product_type":"c1","uid":1257460,"ip_address":"","ucode":"C663A0C863A515","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/f4/2dede51a.jpg","comment_is_top":false,"comment_ctime":1582639941,"is_pvip":false,"replies":[{"id":"70430","content":"è¿™çœ‹ä¼¼æ˜¯ä¸€ä¸ªä¸éœ€è¦å›ç­”çš„é—®é¢˜ã€‚ğŸ˜ƒğŸ˜ƒğŸ˜ƒ<br>æˆ‘åªå…³å¿ƒé—®é¢˜æ˜¯å¦èƒ½è§£å†³ï¼Œä¸å…³å¿ƒæ˜¯è°ã€‚å¦‚æœä½ éè¦åˆ’åˆ†ä¸ºæµ‹è¯•äººå‘˜ä¸æ‡‚å¼€å‘æŠ€èƒ½æ˜¯åˆç†çš„è¯ï¼Œé‚£ä½ è¿™ä¸ªè¯´æ³•å°±æ²¡æ¯›ç—…ã€‚<br>è€Œå¯¹æˆ‘å¸¦çš„æ€§èƒ½å›¢é˜Ÿæ¥è¯´ï¼Œå¼€å‘èƒ½åŠ›æ˜¯åŸºæœ¬èƒ½åŠ›ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"é«˜æ¥¼(Zee)","uid":"1785562","ctime":1582674779,"ip_address":"","comment_id":181822,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1582639941","product_id":100042501,"comment_content":"ä»£ç çº§çš„æ€§èƒ½åˆ†æåº”è¯¥ç”±å¼€å‘äººå‘˜ä½œè¿˜æ˜¯æµ‹è¯•äººå‘˜ä½œï¼Ÿæˆ‘ä¸ªäººè§‚ç‚¹æ˜¯æµ‹è¯•äººå‘˜æµ‹è¯•æ˜¯å¦å­˜åœ¨æ€§èƒ½é—®é¢˜ï¼Œæ¯”å¦‚å†…å­˜æ³„æ¼ï¼Œå†ç”±å¼€å‘äººå‘˜å»å®šä½ï¼Œå½“ç„¶æœ‰å…¨æ ˆå·¥ç¨‹å¸ˆæ›´å¥½ã€‚","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485132,"discussion_content":"è¿™çœ‹ä¼¼æ˜¯ä¸€ä¸ªä¸éœ€è¦å›ç­”çš„é—®é¢˜ã€‚ğŸ˜ƒğŸ˜ƒğŸ˜ƒ\næˆ‘åªå…³å¿ƒé—®é¢˜æ˜¯å¦èƒ½è§£å†³ï¼Œä¸å…³å¿ƒæ˜¯è°ã€‚å¦‚æœä½ éè¦åˆ’åˆ†ä¸ºæµ‹è¯•äººå‘˜ä¸æ‡‚å¼€å‘æŠ€èƒ½æ˜¯åˆç†çš„è¯ï¼Œé‚£ä½ è¿™ä¸ªè¯´æ³•å°±æ²¡æ¯›ç—…ã€‚\nè€Œå¯¹æˆ‘å¸¦çš„æ€§èƒ½å›¢é˜Ÿæ¥è¯´ï¼Œå¼€å‘èƒ½åŠ›æ˜¯åŸºæœ¬èƒ½åŠ›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582674779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2264679,"avatar":"https://static001.geekbang.org/account/avatar/00/22/8e/67/afb412fb.jpg","nickname":"é™ˆå¨æ´‹","note":"","ucode":"DCF84B4D3A7354","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"é«˜æ¥¼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":569253,"discussion_content":"éå¸¸æ”¯æŒä½œè€…çš„çœ‹å¾…æµ‹è¯•çš„è§’åº¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651382940,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":485132,"ip_address":""},"score":569253,"extra":""}]}]}]}
{"id":248864,"title":"06 | è®¡æ•°æœåŠ¡è®¾è®¡ï¼ˆä¸‹ï¼‰","content":"<p><strong>è¯¾ä»¶å’ŒDemoåœ°å€</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-distributed\">https://gitee.com/geektime-geekbang/geektime-distributed</a></p>","comments":[{"had_liked":false,"id":227412,"user_name":"jhren","can_delete":false,"product_type":"c3","uid":1596987,"ip_address":"","ucode":"60F7CCEA1E2C88","user_header":"https://static001.geekbang.org/account/avatar/00/18/5e/3b/845fb641.jpg","comment_is_top":false,"comment_ctime":1592375701,"is_pvip":false,"replies":[{"id":83837,"content":"â›½ï¸","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1592412318,"ip_address":"","comment_id":227412,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"æ„Ÿè°¢æ¨è€å¸ˆæ ¸å¿ƒåè¯éƒ½æä¾›äº†è‹±æ–‡ç¿»è¯‘","like_count":4,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498627,"discussion_content":"â›½ï¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592412318,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":246402,"user_name":"Bill","can_delete":false,"product_type":"c3","uid":1001581,"ip_address":"","ucode":"0D9F998FC0359F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/6d/b2c56a77.jpg","comment_is_top":false,"comment_ctime":1599311328,"is_pvip":false,"replies":[{"id":90596,"content":"å½“ç„¶ï¼Œç¯èŠ‚è¶Šå°‘è¶Šç®€å•ï¼Œå‡ºæ•…éšœçš„æ¦‚ç‡å°±å°ï¼Œä½†æ˜¯è¿˜æ˜¯è¦çœ‹é‡çº§ï¼Œå› ä¸ºä½“é‡å†³å®šæ¶æ„ã€‚æ ¹æ®å…·ä½“çš„ä½“é‡å¤§å°ï¼Œå¯ä»¥é€‚å½“ç®€åŒ–ã€‚\n\n1. å¯ä»¥é€šè¿‡é‡‡é›†ç½‘å…³(æˆ–è€…åå‘ä»£ç†)çš„è®¿é—®æ—¥å¿—ï¼Œæ¥å®ç°è®¡æ•°æœåŠ¡ã€‚\n2. é€šå¸¸åŸå§‹è®¿é—®æ—¥å¿—ä¹Ÿéœ€è¦ä¿å­˜èµ·æ¥ï¼Œä¸­é—´ä¸€èˆ¬å¼•å…¥kafkaæ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸»è¦è€ƒè™‘ä¸€ä¸ªæ˜¯æµé‡æ¶ˆå³°ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å‰åè§£è€¦åˆã€‚\n","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1599402785,"ip_address":"","comment_id":246402,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"å¯ä»¥æ›´ç®€å•ä¸€äº›ï¼Œæµé‡ç›´æ¥æ‰“åˆ°ç½‘å…³ä¸Šè®°å½•æ—¥å¿—ï¼Œç„¶åèµ·ä¸ªæ™®é€šçš„ç»Ÿè®¡èšåˆæœåŠ¡ï¼Œé¢å‘å†™çš„åœºæ™¯å†™å…¥DBå°±äº†ã€‚\n\nç®€åŒ–æ‰ä¸­é—´å¾ˆå¤šç¯èŠ‚ï¼Œå¯ç”¨æ€§æå‡ã€‚","like_count":3,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505130,"discussion_content":"å½“ç„¶ï¼Œç¯èŠ‚è¶Šå°‘è¶Šç®€å•ï¼Œå‡ºæ•…éšœçš„æ¦‚ç‡å°±å°ï¼Œä½†æ˜¯è¿˜æ˜¯è¦çœ‹é‡çº§ï¼Œå› ä¸ºä½“é‡å†³å®šæ¶æ„ã€‚æ ¹æ®å…·ä½“çš„ä½“é‡å¤§å°ï¼Œå¯ä»¥é€‚å½“ç®€åŒ–ã€‚\n\n1. å¯ä»¥é€šè¿‡é‡‡é›†ç½‘å…³(æˆ–è€…åå‘ä»£ç†)çš„è®¿é—®æ—¥å¿—ï¼Œæ¥å®ç°è®¡æ•°æœåŠ¡ã€‚\n2. é€šå¸¸åŸå§‹è®¿é—®æ—¥å¿—ä¹Ÿéœ€è¦ä¿å­˜èµ·æ¥ï¼Œä¸­é—´ä¸€èˆ¬å¼•å…¥kafkaæ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸»è¦è€ƒè™‘ä¸€ä¸ªæ˜¯æµé‡æ¶ˆå³°ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å‰åè§£è€¦åˆã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599402785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227208,"user_name":"é™æ°´æµæ·±","can_delete":false,"product_type":"c3","uid":1339724,"ip_address":"","ucode":"644F05EFBD2E7B","user_header":"https://static001.geekbang.org/account/avatar/00/14/71/4c/2cefec07.jpg","comment_is_top":false,"comment_ctime":1592314120,"is_pvip":false,"replies":[{"id":83707,"content":"â›½ï¸","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1592324047,"ip_address":"","comment_id":227208,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"è¿™èŠ‚è¯¾ï¼Œè®©æˆ‘æ„Ÿå—åˆ°äº†ï¼ŒçŸ¥è¯†å‚¨å¤‡çš„é‡è¦æ€§ï¼ï¼éœ€è¦ä¸æ–­åœ°å»æ·±å…¥å­¦ä¹ ã€‚","like_count":3,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498533,"discussion_content":"â›½ï¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592324047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252902,"user_name":"æ°","can_delete":false,"product_type":"c3","uid":1109562,"ip_address":"","ucode":"036B010A45070A","user_header":"https://static001.geekbang.org/account/avatar/00/10/ee/3a/c0ad9c43.jpg","comment_is_top":false,"comment_ctime":1602511693,"is_pvip":false,"replies":[{"id":92696,"content":"æœ¬è¯¾ç¨‹ä¸»è¦é¢å‘ä¸­é«˜çº§å·¥ç¨‹å¸ˆå’Œæ¶æ„å¸ˆï¼Œå—ä¼—æœ‰ä¸€å®šé™åˆ¶","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1602864075,"ip_address":"","comment_id":252902,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"æ³¢æ³¢è€å¸ˆè®²çš„å¾ˆç²¾å½©ï¼Œå¯æƒœæŠ¥åçš„äººæ•°é‚£ä¹ˆå°‘ï¼Œå¯èƒ½å¤§éƒ¨åˆ†å­¦å‘˜çœ‹åˆ°æ ‡é¢˜å°±æ²¡å¤ªå¤§å…´è¶£äº†ã€‚","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506911,"discussion_content":"æœ¬è¯¾ç¨‹ä¸»è¦é¢å‘ä¸­é«˜çº§å·¥ç¨‹å¸ˆå’Œæ¶æ„å¸ˆï¼Œå—ä¼—æœ‰ä¸€å®šé™åˆ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602864075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229409,"user_name":"Gå°è°ƒ","can_delete":false,"product_type":"c3","uid":1145529,"ip_address":"","ucode":"8F3D50E2C1A559","user_header":"https://static001.geekbang.org/account/avatar/00/11/7a/b9/c3d3a92f.jpg","comment_is_top":false,"comment_ctime":1592987164,"is_pvip":false,"replies":[{"id":84828,"content":"ç®€å•ç”¨ä¸€ä¸ªConcurrentHashMapï¼Œkeyæ˜¯videoIdï¼Œvalueæ˜¯1åˆ†é’Ÿå†…çš„ç‚¹å‡»æ•°é‡ç´¯åŠ å€¼ã€‚\n\nå¼„ä¸ªåå°çº¿ç¨‹æ¯åˆ†é’Ÿï¼Œæ–°å»ºä¸€ä¸ªConcurrentHashMapï¼Œæ›¿æ¢é‚£ä¸ªè€çš„ï¼Œç„¶åæŠŠè€çš„å€¼æ‰“åŒ…å†™å…¥æœ¬åœ°MQã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1593188200,"ip_address":"","comment_id":229409,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œè®¡ç®—æœåŠ¡ï¼Œæ€ä¹ˆè®¡ç®—ä¸€ä¸ªçª—å£æœŸæ—¶é—´å†…çš„è¯·æ±‚èšåˆï¼Œå†æ¨é€åˆ°æ•°æ®åº“å­˜å‚¨","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499471,"discussion_content":"ç®€å•ç”¨ä¸€ä¸ªConcurrentHashMapï¼Œkeyæ˜¯videoIdï¼Œvalueæ˜¯1åˆ†é’Ÿå†…çš„ç‚¹å‡»æ•°é‡ç´¯åŠ å€¼ã€‚\n\nå¼„ä¸ªåå°çº¿ç¨‹æ¯åˆ†é’Ÿï¼Œæ–°å»ºä¸€ä¸ªConcurrentHashMapï¼Œæ›¿æ¢é‚£ä¸ªè€çš„ï¼Œç„¶åæŠŠè€çš„å€¼æ‰“åŒ…å†™å…¥æœ¬åœ°MQã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593188200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228277,"user_name":"ä½•å‡Œ","can_delete":false,"product_type":"c3","uid":1139066,"ip_address":"","ucode":"659D0EA089AFA4","user_header":"https://static001.geekbang.org/account/avatar/00/11/61/7a/ec7c1881.jpg","comment_is_top":false,"comment_ctime":1592631291,"is_pvip":false,"replies":[{"id":84216,"content":"ä¸€èˆ¬ä¸ç›´æ¥å†™mqï¼Œå‰é¢æ”¾ä¸€ä¸ªä»£ç†æœåŠ¡å»å†™mqï¼Œè¿™æ ·å®¢æˆ·ç«¯ä¸è€¦åˆå…·ä½“çš„mqæŠ€æœ¯ã€‚\n\nkafkaçš„authï¼Œå¯ä»¥æ ¹æ®éœ€è¦å…³é—­ï¼Œå³ä½¿æœ‰authä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œå®¢æˆ·ç«¯ç”¨å®˜æ–¹æ–¹æ³•åšauthå°±å¥½äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1592668874,"ip_address":"","comment_id":228277,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"æœ‰æ²¡æœ‰å¯èƒ½ç›´æ¥å†™MQï¼ŸKafkaä¼šæœ‰authçš„é—®é¢˜ï¼Œå¦‚æœæ˜¯å¸¦authçš„MQå‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498981,"discussion_content":"ä¸€èˆ¬ä¸ç›´æ¥å†™mqï¼Œå‰é¢æ”¾ä¸€ä¸ªä»£ç†æœåŠ¡å»å†™mqï¼Œè¿™æ ·å®¢æˆ·ç«¯ä¸è€¦åˆå…·ä½“çš„mqæŠ€æœ¯ã€‚\n\nkafkaçš„authï¼Œå¯ä»¥æ ¹æ®éœ€è¦å…³é—­ï¼Œå³ä½¿æœ‰authä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œå®¢æˆ·ç«¯ç”¨å®˜æ–¹æ–¹æ³•åšauthå°±å¥½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592668874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228156,"user_name":"ä¸å¿˜åˆå¿ƒ","can_delete":false,"product_type":"c3","uid":1117880,"ip_address":"","ucode":"5FE187B3F4EC39","user_header":"https://static001.geekbang.org/account/avatar/00/11/0e/b8/d91adbb3.jpg","comment_is_top":false,"comment_ctime":1592569291,"is_pvip":false,"replies":[{"id":84208,"content":"å¯ä»¥ï¼Œç”šè‡³è¿˜å¯ä»¥é€šè¿‡nginxæˆ–è€…ç½‘å…³çš„è®¿é—®æ—¥å¿—æ¥æ”¶é›†ã€‚è¯¾ç¨‹åªæ˜¯ä¸€ä¸ªæ¼”ç¤ºåœºæ™¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1592667926,"ip_address":"","comment_id":228156,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"è§‚çœ‹äº‹ä»¶çš„äº§ç”Ÿï¼Œè€è¯´è®²çš„æ˜¯æµè§ˆå™¨ä¸»åŠ¨å‘é€ï¼Œæ˜¯å¦å¯ä»¥åœ¨apiç½‘å…³é‡Œç”¨è¿‡æ»¤å™¨æ¥äº§ç”Ÿè§‚çœ‹äº‹ä»¶ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498936,"discussion_content":"å¯ä»¥ï¼Œç”šè‡³è¿˜å¯ä»¥é€šè¿‡nginxæˆ–è€…ç½‘å…³çš„è®¿é—®æ—¥å¿—æ¥æ”¶é›†ã€‚è¯¾ç¨‹åªæ˜¯ä¸€ä¸ªæ¼”ç¤ºåœºæ™¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592667926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227640,"user_name":"tt","can_delete":false,"product_type":"c3","uid":1489957,"ip_address":"","ucode":"7753B79AD5A9AC","user_header":"https://static001.geekbang.org/account/avatar/00/16/bc/25/1c92a90c.jpg","comment_is_top":false,"comment_ctime":1592447701,"is_pvip":false,"replies":[{"id":83976,"content":"â›½ï¸","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1592498370,"ip_address":"","comment_id":227640,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"çœ‹å¾—çœŸè¿‡ç˜¾","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498730,"discussion_content":"â›½ï¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592498370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":289973,"user_name":"Sky","can_delete":false,"product_type":"c3","uid":1461938,"ip_address":"","ucode":"809EC994C20BD5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er6TFrwyVZOGvwHbpYmyo0Hxnq4JlFob3UcicQiaqcaaatiaeo9Zrq1ricTAsRFHJ4LHCVCyN6XGxAibpA/132","comment_is_top":false,"comment_ctime":1619288078,"is_pvip":false,"replies":[{"id":105442,"content":"å¦‚æœé€šè¿‡å†…å­˜åšèšåˆå¹¶ä¸”è¦ä¿è¯æ•°æ®ä¸ä¸¢ï¼Œé‚£ä¹ˆä¸€èˆ¬å¿…é¡»å…ˆå†™å…¥ç£ç›˜æ–‡ä»¶ã€‚ç›¸å½“äºåœ¨æ¯å°counting serviceçš„ä¸»æœºä¸Šè¦æœ‰ç£ç›˜queue(ç›¸å½“äºwrite ahread log)ï¼Œç„¶ååœ¨ç£ç›˜queueçš„ä¸€ç«¯å†™å…¥æ•°æ®ï¼Œå¦å¤–ä¸€ç«¯åšæ¶ˆè´¹èšåˆï¼ŒåŒæ—¶åœ¨ç£ç›˜ä¸Šè®°å½•queueçš„æ¶ˆè´¹æŒ‡é’ˆã€‚åé¢å¦‚æœè®¡æ•°æœåŠ¡crashäº†ï¼Œé‡å¯æœåŠ¡åï¼Œä»ä¸Šæ¬¡çš„æ¶ˆè´¹æŒ‡é’ˆé‡æ–°æ¶ˆè´¹å³å¯ï¼Œè¿™æ ·å¯ä»¥ä¿è¯å¯é æ€§(ä½†æ˜¯å¯èƒ½é‡å¤æ¶ˆè´¹)ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1619966667,"ip_address":"","comment_id":289973,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"è®¡æ•°æœåŠ¡å¦‚æœæ˜¯ä¸€ä¸ªçª—å£æœŸæ—¶é—´å†…çš„è¯·æ±‚èšåˆï¼Œå†æ¨é€åˆ°æ•°æ®åº“å­˜å‚¨ï¼Œ åœ¨è¿˜æ²¡æ¨é€å‰ï¼Œè®¡æ•°æœåŠ¡å™¨crashï¼Œé‚£å­˜å‚¨ä¸concurren hashmapä¸­çš„è®¡æ•°å°±ä¸¢å¤±äº†ã€‚å¦‚æœä¸ºäº†æ”¾ä¸¢å¤±ï¼Œå†™å…¥ç¡¬ç›˜åˆæ…¢ï¼Œè¿™ä¸ªæœ‰ä»€ä¹ˆå¥½çš„åŠæ³•è§£å†³ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519077,"discussion_content":"å¦‚æœé€šè¿‡å†…å­˜åšèšåˆå¹¶ä¸”è¦ä¿è¯æ•°æ®ä¸ä¸¢ï¼Œé‚£ä¹ˆä¸€èˆ¬å¿…é¡»å…ˆå†™å…¥ç£ç›˜æ–‡ä»¶ã€‚ç›¸å½“äºåœ¨æ¯å°counting serviceçš„ä¸»æœºä¸Šè¦æœ‰ç£ç›˜queue(ç›¸å½“äºwrite ahread log)ï¼Œç„¶ååœ¨ç£ç›˜queueçš„ä¸€ç«¯å†™å…¥æ•°æ®ï¼Œå¦å¤–ä¸€ç«¯åšæ¶ˆè´¹èšåˆï¼ŒåŒæ—¶åœ¨ç£ç›˜ä¸Šè®°å½•queueçš„æ¶ˆè´¹æŒ‡é’ˆã€‚åé¢å¦‚æœè®¡æ•°æœåŠ¡crashäº†ï¼Œé‡å¯æœåŠ¡åï¼Œä»ä¸Šæ¬¡çš„æ¶ˆè´¹æŒ‡é’ˆé‡æ–°æ¶ˆè´¹å³å¯ï¼Œè¿™æ ·å¯ä»¥ä¿è¯å¯é æ€§(ä½†æ˜¯å¯èƒ½é‡å¤æ¶ˆè´¹)ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619966667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":289713,"user_name":"çŒç¡çš„æå…ˆç”Ÿ","can_delete":false,"product_type":"c3","uid":2264685,"ip_address":"","ucode":"88480FAFB4F879","user_header":"https://static001.geekbang.org/account/avatar/00/22/8e/6d/f2354440.jpg","comment_is_top":false,"comment_ctime":1619150243,"is_pvip":false,"replies":[{"id":105441,"content":"åŠ æ²¹ğŸ’ª","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1619965929,"ip_address":"","comment_id":289713,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"ä½œä¸ºä¸€ä¸ª0å¹´ç»éªŒçš„å®ä¹ ç”Ÿï¼Œæ„Ÿè§‰æ³¢æ³¢è€å¸ˆè®²çš„ä¸œè¥¿ä¸ºæˆ‘æ‰“å¼€äº†ä¸€æ‰‡æ–°ä¸–ç•Œçš„å¤§é—¨","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518999,"discussion_content":"åŠ æ²¹ğŸ’ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619965929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286765,"user_name":"Geek_3b1096","can_delete":false,"product_type":"c3","uid":1549364,"ip_address":"","ucode":"A6BD92B79B3632","user_header":"","comment_is_top":false,"comment_ctime":1617571451,"is_pvip":false,"replies":[{"id":104791,"content":"è°¢è°¢æ”¯æŒï¼ŒåŠ æ²¹ğŸ’ª","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1618667939,"ip_address":"","comment_id":286765,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100053601,"comment_content":"è€å¸ˆè®²çš„éå¸¸å¥½","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518083,"discussion_content":"è°¢è°¢æ”¯æŒï¼ŒåŠ æ²¹ğŸ’ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618667939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
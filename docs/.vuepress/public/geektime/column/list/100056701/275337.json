{"id":275337,"title":"08 | å“¨å…µé›†ç¾¤ï¼šå“¨å…µæŒ‚äº†ï¼Œä¸»ä»åº“è¿˜èƒ½åˆ‡æ¢å—ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯è’‹å¾·é’§ã€‚</p><p>ä¸ŠèŠ‚è¯¾ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å“¨å…µæœºåˆ¶ï¼Œå®ƒå¯ä»¥å®ç°ä¸»ä»åº“çš„è‡ªåŠ¨åˆ‡æ¢ã€‚é€šè¿‡éƒ¨ç½²å¤šä¸ªå®ä¾‹ï¼Œå°±å½¢æˆäº†ä¸€ä¸ªå“¨å…µé›†ç¾¤ã€‚å“¨å…µé›†ç¾¤ä¸­çš„å¤šä¸ªå®ä¾‹å…±åŒåˆ¤æ–­ï¼Œå¯ä»¥é™ä½å¯¹ä¸»åº“ä¸‹çº¿çš„è¯¯åˆ¤ç‡ã€‚</p><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœæœ‰å“¨å…µå®ä¾‹åœ¨è¿è¡Œæ—¶å‘ç”Ÿäº†æ•…éšœï¼Œä¸»ä»åº“è¿˜èƒ½æ­£å¸¸åˆ‡æ¢å—ï¼Ÿ</p><p>å®é™…ä¸Šï¼Œä¸€æ—¦å¤šä¸ªå®ä¾‹ç»„æˆäº†<strong>å“¨å…µé›†ç¾¤</strong>ï¼Œå³ä½¿æœ‰å“¨å…µå®ä¾‹å‡ºç°æ•…éšœæŒ‚æ‰äº†ï¼Œå…¶ä»–å“¨å…µè¿˜èƒ½ç»§ç»­åä½œå®Œæˆä¸»ä»åº“åˆ‡æ¢çš„å·¥ä½œï¼ŒåŒ…æ‹¬åˆ¤å®šä¸»åº“æ˜¯ä¸æ˜¯å¤„äºä¸‹çº¿çŠ¶æ€ï¼Œé€‰æ‹©æ–°ä¸»åº“ï¼Œä»¥åŠé€šçŸ¥ä»åº“å’Œå®¢æˆ·ç«¯ã€‚</p><p>å¦‚æœä½ éƒ¨ç½²è¿‡å“¨å…µé›†ç¾¤çš„è¯å°±ä¼šçŸ¥é“ï¼Œåœ¨é…ç½®å“¨å…µçš„ä¿¡æ¯æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦ç”¨åˆ°ä¸‹é¢çš„è¿™ä¸ªé…ç½®é¡¹ï¼Œè®¾ç½®<strong>ä¸»åº“çš„IP</strong>å’Œ<strong>ç«¯å£</strong>ï¼Œå¹¶æ²¡æœ‰é…ç½®å…¶ä»–å“¨å…µçš„è¿æ¥ä¿¡æ¯ã€‚</p><pre><code>sentinel monitor &lt;master-name&gt; &lt;ip&gt; &lt;redis-port&gt; &lt;quorum&gt; \n</code></pre><p>è¿™äº›å“¨å…µå®ä¾‹æ—¢ç„¶éƒ½ä¸çŸ¥é“å½¼æ­¤çš„åœ°å€ï¼Œåˆæ˜¯æ€ä¹ˆç»„æˆé›†ç¾¤çš„å‘¢ï¼Ÿè¦å¼„æ˜ç™½è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦å­¦ä¹ ä¸€ä¸‹å“¨å…µé›†ç¾¤çš„ç»„æˆå’Œè¿è¡Œæœºåˆ¶äº†ã€‚</p><h2>åŸºäºpub/subæœºåˆ¶çš„å“¨å…µé›†ç¾¤ç»„æˆ</h2><p>å“¨å…µå®ä¾‹ä¹‹é—´å¯ä»¥ç›¸äº’å‘ç°ï¼Œè¦å½’åŠŸäºRedisæä¾›çš„pub/subæœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯å‘å¸ƒ/è®¢é˜…æœºåˆ¶ã€‚</p><p>å“¨å…µåªè¦å’Œä¸»åº“å»ºç«‹èµ·äº†è¿æ¥ï¼Œå°±å¯ä»¥åœ¨ä¸»åº“ä¸Šå‘å¸ƒæ¶ˆæ¯äº†ï¼Œæ¯”å¦‚è¯´å‘å¸ƒå®ƒè‡ªå·±çš„è¿æ¥ä¿¡æ¯ï¼ˆIPå’Œç«¯å£ï¼‰ã€‚åŒæ—¶ï¼Œå®ƒä¹Ÿå¯ä»¥ä»ä¸»åº“ä¸Šè®¢é˜…æ¶ˆæ¯ï¼Œè·å¾—å…¶ä»–å“¨å…µå‘å¸ƒçš„è¿æ¥ä¿¡æ¯ã€‚å½“å¤šä¸ªå“¨å…µå®ä¾‹éƒ½åœ¨ä¸»åº“ä¸Šåšäº†å‘å¸ƒå’Œè®¢é˜…æ“ä½œåï¼Œå®ƒä»¬ä¹‹é—´å°±èƒ½çŸ¥é“å½¼æ­¤çš„IPåœ°å€å’Œç«¯å£ã€‚</p><!-- [[[read_end]]] --><p>é™¤äº†å“¨å…µå®ä¾‹ï¼Œæˆ‘ä»¬è‡ªå·±ç¼–å†™çš„åº”ç”¨ç¨‹åºä¹Ÿå¯ä»¥é€šè¿‡Redisè¿›è¡Œæ¶ˆæ¯çš„å‘å¸ƒå’Œè®¢é˜…ã€‚æ‰€ä»¥ï¼Œä¸ºäº†åŒºåˆ†ä¸åŒåº”ç”¨çš„æ¶ˆæ¯ï¼ŒRedisä¼šä»¥é¢‘é“çš„å½¢å¼ï¼Œå¯¹è¿™äº›æ¶ˆæ¯è¿›è¡Œåˆ†é—¨åˆ«ç±»çš„ç®¡ç†ã€‚æ‰€è°“çš„é¢‘é“ï¼Œå®é™…ä¸Šå°±æ˜¯æ¶ˆæ¯çš„ç±»åˆ«ã€‚å½“æ¶ˆæ¯ç±»åˆ«ç›¸åŒæ—¶ï¼Œå®ƒä»¬å°±å±äºåŒä¸€ä¸ªé¢‘é“ã€‚åä¹‹ï¼Œå°±å±äºä¸åŒçš„é¢‘é“ã€‚<strong>åªæœ‰è®¢é˜…äº†åŒä¸€ä¸ªé¢‘é“çš„åº”ç”¨ï¼Œæ‰èƒ½é€šè¿‡å‘å¸ƒçš„æ¶ˆæ¯è¿›è¡Œä¿¡æ¯äº¤æ¢</strong>ã€‚</p><p>åœ¨ä¸»ä»é›†ç¾¤ä¸­ï¼Œä¸»åº“ä¸Šæœ‰ä¸€ä¸ªåä¸ºâ€œ<code>__sentinel__:hello</code>â€çš„é¢‘é“ï¼Œä¸åŒå“¨å…µå°±æ˜¯é€šè¿‡å®ƒæ¥ç›¸äº’å‘ç°ï¼Œå®ç°äº’ç›¸é€šä¿¡çš„ã€‚</p><p>æˆ‘æ¥ä¸¾ä¸ªä¾‹å­ï¼Œå…·ä½“è¯´æ˜ä¸€ä¸‹ã€‚åœ¨ä¸‹å›¾ä¸­ï¼Œå“¨å…µ1æŠŠè‡ªå·±çš„IPï¼ˆ172.16.19.3ï¼‰å’Œç«¯å£ï¼ˆ26579ï¼‰å‘å¸ƒåˆ°â€œ<code>__sentinel__:hello</code>â€é¢‘é“ä¸Šï¼Œå“¨å…µ2å’Œ3è®¢é˜…äº†è¯¥é¢‘é“ã€‚é‚£ä¹ˆæ­¤æ—¶ï¼Œå“¨å…µ2å’Œ3å°±å¯ä»¥ä»è¿™ä¸ªé¢‘é“ç›´æ¥è·å–å“¨å…µ1çš„IPåœ°å€å’Œç«¯å£å·ã€‚</p><p>ç„¶åï¼Œå“¨å…µ2ã€3å¯ä»¥å’Œå“¨å…µ1å»ºç«‹ç½‘ç»œè¿æ¥ã€‚é€šè¿‡è¿™ä¸ªæ–¹å¼ï¼Œå“¨å…µ2å’Œ3ä¹Ÿå¯ä»¥å»ºç«‹ç½‘ç»œè¿æ¥ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå“¨å…µé›†ç¾¤å°±å½¢æˆäº†ã€‚å®ƒä»¬ç›¸äº’é—´å¯ä»¥é€šè¿‡ç½‘ç»œè¿æ¥è¿›è¡Œé€šä¿¡ï¼Œæ¯”å¦‚è¯´å¯¹ä¸»åº“æœ‰æ²¡æœ‰ä¸‹çº¿è¿™ä»¶äº‹å„¿è¿›è¡Œåˆ¤æ–­å’Œåå•†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ca/b1/ca42698128aa4c8a374efbc575ea22b1.jpg?wh=2822*1535\" alt=\"\"></p><p>å“¨å…µé™¤äº†å½¼æ­¤ä¹‹é—´å»ºç«‹èµ·è¿æ¥å½¢æˆé›†ç¾¤å¤–ï¼Œè¿˜éœ€è¦å’Œä»åº“å»ºç«‹è¿æ¥ã€‚è¿™æ˜¯å› ä¸ºï¼Œåœ¨å“¨å…µçš„ç›‘æ§ä»»åŠ¡ä¸­ï¼Œå®ƒéœ€è¦å¯¹ä¸»ä»åº“éƒ½è¿›è¡Œå¿ƒè·³åˆ¤æ–­ï¼Œè€Œä¸”åœ¨ä¸»ä»åº“åˆ‡æ¢å®Œæˆåï¼Œå®ƒè¿˜éœ€è¦é€šçŸ¥ä»åº“ï¼Œè®©å®ƒä»¬å’Œæ–°ä¸»åº“è¿›è¡ŒåŒæ­¥ã€‚</p><p>é‚£ä¹ˆï¼Œ<strong>å“¨å…µæ˜¯å¦‚ä½•çŸ¥é“ä»åº“çš„IPåœ°å€å’Œç«¯å£çš„å‘¢ï¼Ÿ</strong></p><p>è¿™æ˜¯ç”±å“¨å…µå‘ä¸»åº“å‘é€INFOå‘½ä»¤æ¥å®Œæˆçš„ã€‚å°±åƒä¸‹å›¾æ‰€ç¤ºï¼Œå“¨å…µ2ç»™ä¸»åº“å‘é€INFOå‘½ä»¤ï¼Œä¸»åº“æ¥å—åˆ°è¿™ä¸ªå‘½ä»¤åï¼Œå°±ä¼šæŠŠä»åº“åˆ—è¡¨è¿”å›ç»™å“¨å…µã€‚æ¥ç€ï¼Œå“¨å…µå°±å¯ä»¥æ ¹æ®ä»åº“åˆ—è¡¨ä¸­çš„è¿æ¥ä¿¡æ¯ï¼Œå’Œæ¯ä¸ªä»åº“å»ºç«‹è¿æ¥ï¼Œå¹¶åœ¨è¿™ä¸ªè¿æ¥ä¸ŠæŒç»­åœ°å¯¹ä»åº“è¿›è¡Œç›‘æ§ã€‚å“¨å…µ1å’Œ3å¯ä»¥é€šè¿‡ç›¸åŒçš„æ–¹æ³•å’Œä»åº“å»ºç«‹è¿æ¥ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/88/e0/88fdc68eb94c44efbdf7357260091de0.jpg?wh=2499*1404\" alt=\"\"></p><p>ä½ çœ‹ï¼Œé€šè¿‡pub/subæœºåˆ¶ï¼Œå“¨å…µä¹‹é—´å¯ä»¥ç»„æˆé›†ç¾¤ï¼ŒåŒæ—¶ï¼Œå“¨å…µåˆé€šè¿‡INFOå‘½ä»¤ï¼Œè·å¾—äº†ä»åº“è¿æ¥ä¿¡æ¯ï¼Œä¹Ÿèƒ½å’Œä»åº“å»ºç«‹è¿æ¥ï¼Œå¹¶è¿›è¡Œç›‘æ§äº†ã€‚</p><p>ä½†æ˜¯ï¼Œå“¨å…µä¸èƒ½åªå’Œä¸»ã€ä»åº“è¿æ¥ã€‚å› ä¸ºï¼Œä¸»ä»åº“åˆ‡æ¢åï¼Œå®¢æˆ·ç«¯ä¹Ÿéœ€è¦çŸ¥é“æ–°ä¸»åº“çš„è¿æ¥ä¿¡æ¯ï¼Œæ‰èƒ½å‘æ–°ä¸»åº“å‘é€è¯·æ±‚æ“ä½œã€‚æ‰€ä»¥ï¼Œå“¨å…µè¿˜éœ€è¦å®ŒæˆæŠŠæ–°ä¸»åº“çš„ä¿¡æ¯å‘Šè¯‰å®¢æˆ·ç«¯è¿™ä¸ªä»»åŠ¡ã€‚</p><p>è€Œä¸”ï¼Œåœ¨å®é™…ä½¿ç”¨å“¨å…µæ—¶ï¼Œæˆ‘ä»¬æœ‰æ—¶ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼šå¦‚ä½•åœ¨å®¢æˆ·ç«¯é€šè¿‡ç›‘æ§äº†è§£å“¨å…µè¿›è¡Œä¸»ä»åˆ‡æ¢çš„è¿‡ç¨‹å‘¢ï¼Ÿæ¯”å¦‚è¯´ï¼Œä¸»ä»åˆ‡æ¢è¿›è¡Œåˆ°å“ªä¸€æ­¥äº†ï¼Ÿè¿™å…¶å®å°±æ˜¯è¦æ±‚ï¼Œå®¢æˆ·ç«¯èƒ½å¤Ÿè·å–åˆ°å“¨å…µé›†ç¾¤åœ¨ç›‘æ§ã€é€‰ä¸»ã€åˆ‡æ¢è¿™ä¸ªè¿‡ç¨‹ä¸­å‘ç”Ÿçš„å„ç§äº‹ä»¶ã€‚</p><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥ä¾èµ–pub/subæœºåˆ¶ï¼Œæ¥å¸®åŠ©æˆ‘ä»¬å®Œæˆå“¨å…µå’Œå®¢æˆ·ç«¯é—´çš„ä¿¡æ¯åŒæ­¥ã€‚</p><h2>åŸºäºpub/subæœºåˆ¶çš„å®¢æˆ·ç«¯äº‹ä»¶é€šçŸ¥</h2><p>ä»æœ¬è´¨ä¸Šè¯´ï¼Œå“¨å…µå°±æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ç‰¹å®šæ¨¡å¼ä¸‹çš„Rediså®ä¾‹ï¼Œåªä¸è¿‡å®ƒå¹¶ä¸æœåŠ¡è¯·æ±‚æ“ä½œï¼Œåªæ˜¯å®Œæˆç›‘æ§ã€é€‰ä¸»å’Œé€šçŸ¥çš„ä»»åŠ¡ã€‚æ‰€ä»¥ï¼Œæ¯ä¸ªå“¨å…µå®ä¾‹ä¹Ÿæä¾›pub/subæœºåˆ¶ï¼Œå®¢æˆ·ç«¯å¯ä»¥ä»å“¨å…µè®¢é˜…æ¶ˆæ¯ã€‚å“¨å…µæä¾›çš„æ¶ˆæ¯è®¢é˜…é¢‘é“æœ‰å¾ˆå¤šï¼Œä¸åŒé¢‘é“åŒ…å«äº†ä¸»ä»åº“åˆ‡æ¢è¿‡ç¨‹ä¸­çš„ä¸åŒå…³é”®äº‹ä»¶ã€‚</p><p>é¢‘é“æœ‰è¿™ä¹ˆå¤šï¼Œä¸€ä¸‹å­å…¨éƒ¨å­¦ä¹ å®¹æ˜“ä¸¢å¤±é‡ç‚¹ã€‚ä¸ºäº†å‡è½»ä½ çš„å­¦ä¹ å‹åŠ›ï¼Œæˆ‘æŠŠé‡è¦çš„é¢‘é“æ±‡æ€»åœ¨äº†ä¸€èµ·ï¼Œæ¶‰åŠå‡ ä¸ªå…³é”®äº‹ä»¶ï¼ŒåŒ…æ‹¬ä¸»åº“ä¸‹çº¿åˆ¤æ–­ã€æ–°ä¸»åº“é€‰å®šã€ä»åº“é‡æ–°é…ç½®ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/4e/25/4e9665694a9565abbce1a63cf111f725.jpg?wh=2856*1738\" alt=\"\"></p><p>çŸ¥é“äº†è¿™äº›é¢‘é“ä¹‹åï¼Œä½ å°±å¯ä»¥<strong>è®©å®¢æˆ·ç«¯ä»å“¨å…µè¿™é‡Œè®¢é˜…æ¶ˆæ¯</strong>äº†ã€‚å…·ä½“çš„æ“ä½œæ­¥éª¤æ˜¯ï¼Œå®¢æˆ·ç«¯è¯»å–å“¨å…µçš„é…ç½®æ–‡ä»¶åï¼Œå¯ä»¥è·å¾—å“¨å…µçš„åœ°å€å’Œç«¯å£ï¼Œå’Œå“¨å…µå»ºç«‹ç½‘ç»œè¿æ¥ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®¢æˆ·ç«¯æ‰§è¡Œè®¢é˜…å‘½ä»¤ï¼Œæ¥è·å–ä¸åŒçš„äº‹ä»¶æ¶ˆæ¯ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œä½ å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œæ¥è®¢é˜…â€œæ‰€æœ‰å®ä¾‹è¿›å…¥å®¢è§‚ä¸‹çº¿çŠ¶æ€çš„äº‹ä»¶â€ï¼š</p><pre><code>SUBSCRIBE +odown\n</code></pre><p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œè®¢é˜…æ‰€æœ‰çš„äº‹ä»¶ï¼š</p><pre><code>PSUBSCRIBE  *\n</code></pre><p>å½“å“¨å…µæŠŠæ–°ä¸»åº“é€‰æ‹©å‡ºæ¥åï¼Œå®¢æˆ·ç«¯å°±ä¼šçœ‹åˆ°ä¸‹é¢çš„switch-masteräº‹ä»¶ã€‚è¿™ä¸ªäº‹ä»¶è¡¨ç¤ºä¸»åº“å·²ç»åˆ‡æ¢äº†ï¼Œæ–°ä¸»åº“çš„IPåœ°å€å’Œç«¯å£ä¿¡æ¯å·²ç»æœ‰äº†ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå®¢æˆ·ç«¯å°±å¯ä»¥ç”¨è¿™é‡Œé¢çš„æ–°ä¸»åº“åœ°å€å’Œç«¯å£è¿›è¡Œé€šä¿¡äº†ã€‚</p><pre><code>switch-master &lt;master name&gt; &lt;oldip&gt; &lt;oldport&gt; &lt;newip&gt; &lt;newport&gt;\n</code></pre><p>æœ‰äº†è¿™äº›äº‹ä»¶é€šçŸ¥ï¼Œå®¢æˆ·ç«¯ä¸ä»…å¯ä»¥åœ¨ä¸»ä»åˆ‡æ¢åå¾—åˆ°æ–°ä¸»åº“çš„è¿æ¥ä¿¡æ¯ï¼Œè¿˜å¯ä»¥ç›‘æ§åˆ°ä¸»ä»åº“åˆ‡æ¢è¿‡ç¨‹ä¸­å‘ç”Ÿçš„å„ä¸ªé‡è¦äº‹ä»¶ã€‚è¿™æ ·ï¼Œå®¢æˆ·ç«¯å°±å¯ä»¥çŸ¥é“ä¸»ä»åˆ‡æ¢è¿›è¡Œåˆ°å“ªä¸€æ­¥äº†ï¼Œæœ‰åŠ©äºäº†è§£åˆ‡æ¢è¿›åº¦ã€‚</p><p>å¥½äº†ï¼Œæœ‰äº†pub/subæœºåˆ¶ï¼Œå“¨å…µå’Œå“¨å…µä¹‹é—´ã€å“¨å…µå’Œä»åº“ä¹‹é—´ã€å“¨å…µå’Œå®¢æˆ·ç«¯ä¹‹é—´å°±éƒ½èƒ½å»ºç«‹èµ·è¿æ¥äº†ï¼Œå†åŠ ä¸Šæˆ‘ä»¬ä¸ŠèŠ‚è¯¾ä»‹ç»ä¸»åº“ä¸‹çº¿åˆ¤æ–­å’Œé€‰ä¸»ä¾æ®ï¼Œå“¨å…µé›†ç¾¤çš„ç›‘æ§ã€é€‰ä¸»å’Œé€šçŸ¥ä¸‰ä¸ªä»»åŠ¡å°±åŸºæœ¬å¯ä»¥æ­£å¸¸å·¥ä½œäº†ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼šä¸»åº“æ•…éšœä»¥åï¼Œå“¨å…µé›†ç¾¤æœ‰å¤šä¸ªå®ä¾‹ï¼Œé‚£æ€ä¹ˆç¡®å®šç”±å“ªä¸ªå“¨å…µæ¥è¿›è¡Œå®é™…çš„ä¸»ä»åˆ‡æ¢å‘¢ï¼Ÿ</p><h2>ç”±å“ªä¸ªå“¨å…µæ‰§è¡Œä¸»ä»åˆ‡æ¢ï¼Ÿ</h2><p>ç¡®å®šç”±å“ªä¸ªå“¨å…µæ‰§è¡Œä¸»ä»åˆ‡æ¢çš„è¿‡ç¨‹ï¼Œå’Œä¸»åº“â€œå®¢è§‚ä¸‹çº¿â€çš„åˆ¤æ–­è¿‡ç¨‹ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªâ€œæŠ•ç¥¨ä»²è£â€çš„è¿‡ç¨‹ã€‚åœ¨å…·ä½“äº†è§£è¿™ä¸ªè¿‡ç¨‹å‰ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹ï¼Œåˆ¤æ–­â€œå®¢è§‚ä¸‹çº¿â€çš„ä»²è£è¿‡ç¨‹ã€‚</p><p>å“¨å…µé›†ç¾¤è¦åˆ¤å®šä¸»åº“â€œå®¢è§‚ä¸‹çº¿â€ï¼Œéœ€è¦æœ‰ä¸€å®šæ•°é‡çš„å®ä¾‹éƒ½è®¤ä¸ºè¯¥ä¸»åº“å·²ç»â€œä¸»è§‚ä¸‹çº¿â€äº†ã€‚æˆ‘åœ¨ä¸ŠèŠ‚è¯¾å‘ä½ ä»‹ç»äº†åˆ¤æ–­â€œå®¢è§‚ä¸‹çº¿â€çš„åŸåˆ™ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»‹ç»ä¸‹å…·ä½“çš„åˆ¤æ–­è¿‡ç¨‹ã€‚</p><p>ä»»ä½•ä¸€ä¸ªå®ä¾‹åªè¦è‡ªèº«åˆ¤æ–­ä¸»åº“â€œä¸»è§‚ä¸‹çº¿â€åï¼Œå°±ä¼šç»™å…¶ä»–å®ä¾‹å‘é€is-master-down-by-addrå‘½ä»¤ã€‚æ¥ç€ï¼Œå…¶ä»–å®ä¾‹ä¼šæ ¹æ®è‡ªå·±å’Œä¸»åº“çš„è¿æ¥æƒ…å†µï¼Œåšå‡ºYæˆ–Nçš„å“åº”ï¼ŒYç›¸å½“äºèµæˆç¥¨ï¼ŒNç›¸å½“äºåå¯¹ç¥¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/e0/84/e0832d432c14c98066a94e0ef86af384.jpg?wh=2322*1260\" alt=\"\"></p><p>ä¸€ä¸ªå“¨å…µè·å¾—äº†ä»²è£æ‰€éœ€çš„èµæˆç¥¨æ•°åï¼Œå°±å¯ä»¥æ ‡è®°ä¸»åº“ä¸ºâ€œå®¢è§‚ä¸‹çº¿â€ã€‚è¿™ä¸ªæ‰€éœ€çš„èµæˆç¥¨æ•°æ˜¯é€šè¿‡å“¨å…µé…ç½®æ–‡ä»¶ä¸­çš„quorumé…ç½®é¡¹è®¾å®šçš„ã€‚ä¾‹å¦‚ï¼Œç°åœ¨æœ‰5ä¸ªå“¨å…µï¼Œquorumé…ç½®çš„æ˜¯3ï¼Œé‚£ä¹ˆï¼Œä¸€ä¸ªå“¨å…µéœ€è¦3å¼ èµæˆç¥¨ï¼Œå°±å¯ä»¥æ ‡è®°ä¸»åº“ä¸ºâ€œå®¢è§‚ä¸‹çº¿â€äº†ã€‚è¿™3å¼ èµæˆç¥¨åŒ…æ‹¬å“¨å…µè‡ªå·±çš„ä¸€å¼ èµæˆç¥¨å’Œå¦å¤–ä¸¤ä¸ªå“¨å…µçš„èµæˆç¥¨ã€‚</p><p>æ­¤æ—¶ï¼Œè¿™ä¸ªå“¨å…µå°±å¯ä»¥å†ç»™å…¶ä»–å“¨å…µå‘é€å‘½ä»¤ï¼Œè¡¨æ˜å¸Œæœ›ç”±è‡ªå·±æ¥æ‰§è¡Œä¸»ä»åˆ‡æ¢ï¼Œå¹¶è®©æ‰€æœ‰å…¶ä»–å“¨å…µè¿›è¡ŒæŠ•ç¥¨ã€‚è¿™ä¸ªæŠ•ç¥¨è¿‡ç¨‹ç§°ä¸ºâ€œLeaderé€‰ä¸¾â€ã€‚å› ä¸ºæœ€ç»ˆæ‰§è¡Œä¸»ä»åˆ‡æ¢çš„å“¨å…µç§°ä¸ºLeaderï¼ŒæŠ•ç¥¨è¿‡ç¨‹å°±æ˜¯ç¡®å®šLeaderã€‚</p><p>åœ¨æŠ•ç¥¨è¿‡ç¨‹ä¸­ï¼Œä»»ä½•ä¸€ä¸ªæƒ³æˆä¸ºLeaderçš„å“¨å…µï¼Œè¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼šç¬¬ä¸€ï¼Œæ‹¿åˆ°åŠæ•°ä»¥ä¸Šçš„èµæˆç¥¨ï¼›ç¬¬äºŒï¼Œæ‹¿åˆ°çš„ç¥¨æ•°åŒæ—¶è¿˜éœ€è¦å¤§äºç­‰äºå“¨å…µé…ç½®æ–‡ä»¶ä¸­çš„quorumå€¼ã€‚ä»¥3ä¸ªå“¨å…µä¸ºä¾‹ï¼Œå‡è®¾æ­¤æ—¶çš„quorumè®¾ç½®ä¸º2ï¼Œé‚£ä¹ˆï¼Œä»»ä½•ä¸€ä¸ªæƒ³æˆä¸ºLeaderçš„å“¨å…µåªè¦æ‹¿åˆ°2å¼ èµæˆç¥¨ï¼Œå°±å¯ä»¥äº†ã€‚</p><p>è¿™ä¹ˆè¯´ä½ å¯èƒ½è¿˜ä¸å¤ªå¥½ç†è§£ï¼Œæˆ‘å†ç”»ä¸€å¼ å›¾ç‰‡ï¼Œå±•ç¤ºä¸€ä¸‹3ä¸ªå“¨å…µã€quorumä¸º2çš„é€‰ä¸¾è¿‡ç¨‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/5f/d9/5f6ceeb9337e158cc759e23c0f375fd9.jpg?wh=2843*1934\" alt=\"\"></p><p>åœ¨T1æ—¶åˆ»ï¼ŒS1åˆ¤æ–­ä¸»åº“ä¸ºâ€œå®¢è§‚ä¸‹çº¿â€ï¼Œå®ƒæƒ³æˆä¸ºLeaderï¼Œå°±å…ˆç»™è‡ªå·±æŠ•ä¸€å¼ èµæˆç¥¨ï¼Œç„¶ååˆ†åˆ«å‘S2å’ŒS3å‘é€å‘½ä»¤ï¼Œè¡¨ç¤ºè¦æˆä¸ºLeaderã€‚</p><p>åœ¨T2æ—¶åˆ»ï¼ŒS3åˆ¤æ–­ä¸»åº“ä¸ºâ€œå®¢è§‚ä¸‹çº¿â€ï¼Œå®ƒä¹Ÿæƒ³æˆä¸ºLeaderï¼Œæ‰€ä»¥ä¹Ÿå…ˆç»™è‡ªå·±æŠ•ä¸€å¼ èµæˆç¥¨ï¼Œå†åˆ†åˆ«å‘S1å’ŒS2å‘é€å‘½ä»¤ï¼Œè¡¨ç¤ºè¦æˆä¸ºLeaderã€‚</p><p>åœ¨T3æ—¶åˆ»ï¼ŒS1æ”¶åˆ°äº†S3çš„LeaderæŠ•ç¥¨è¯·æ±‚ã€‚å› ä¸ºS1å·²ç»ç»™è‡ªå·±æŠ•äº†ä¸€ç¥¨Yï¼Œæ‰€ä»¥å®ƒä¸èƒ½å†ç»™å…¶ä»–å“¨å…µæŠ•èµæˆç¥¨äº†ï¼Œæ‰€ä»¥S1å›å¤Nè¡¨ç¤ºä¸åŒæ„ã€‚åŒæ—¶ï¼ŒS2æ”¶åˆ°äº†T2æ—¶S3å‘é€çš„LeaderæŠ•ç¥¨è¯·æ±‚ã€‚å› ä¸ºS2ä¹‹å‰æ²¡æœ‰æŠ•è¿‡ç¥¨ï¼Œå®ƒä¼šç»™ç¬¬ä¸€ä¸ªå‘å®ƒå‘é€æŠ•ç¥¨è¯·æ±‚çš„å“¨å…µå›å¤Yï¼Œç»™åç»­å†å‘é€æŠ•ç¥¨è¯·æ±‚çš„å“¨å…µå›å¤Nï¼Œæ‰€ä»¥ï¼Œåœ¨T3æ—¶ï¼ŒS2å›å¤S3ï¼ŒåŒæ„S3æˆä¸ºLeaderã€‚</p><p>åœ¨T4æ—¶åˆ»ï¼ŒS2æ‰æ”¶åˆ°T1æ—¶S1å‘é€çš„æŠ•ç¥¨å‘½ä»¤ã€‚å› ä¸ºS2å·²ç»åœ¨T3æ—¶åŒæ„äº†S3çš„æŠ•ç¥¨è¯·æ±‚ï¼Œæ­¤æ—¶ï¼ŒS2ç»™S1å›å¤Nï¼Œè¡¨ç¤ºä¸åŒæ„S1æˆä¸ºLeaderã€‚å‘ç”Ÿè¿™ç§æƒ…å†µï¼Œæ˜¯å› ä¸ºS3å’ŒS2ä¹‹é—´çš„ç½‘ç»œä¼ è¾“æ­£å¸¸ï¼Œè€ŒS1å’ŒS2ä¹‹é—´çš„ç½‘ç»œä¼ è¾“å¯èƒ½æ­£å¥½æ‹¥å¡äº†ï¼Œå¯¼è‡´æŠ•ç¥¨è¯·æ±‚ä¼ è¾“æ…¢äº†ã€‚</p><p>æœ€åï¼Œåœ¨T5æ—¶åˆ»ï¼ŒS1å¾—åˆ°çš„ç¥¨æ•°æ˜¯æ¥è‡ªå®ƒè‡ªå·±çš„ä¸€ç¥¨Yå’Œæ¥è‡ªS2çš„ä¸€ç¥¨Nã€‚è€ŒS3é™¤äº†è‡ªå·±çš„èµæˆç¥¨Yä»¥å¤–ï¼Œè¿˜æ”¶åˆ°äº†æ¥è‡ªS2çš„ä¸€ç¥¨Yã€‚æ­¤æ—¶ï¼ŒS3ä¸ä»…è·å¾—äº†åŠæ•°ä»¥ä¸Šçš„Leaderèµæˆç¥¨ï¼Œä¹Ÿè¾¾åˆ°é¢„è®¾çš„quorumå€¼ï¼ˆquorumä¸º2ï¼‰ï¼Œæ‰€ä»¥å®ƒæœ€ç»ˆæˆä¸ºäº†Leaderã€‚æ¥ç€ï¼ŒS3ä¼šå¼€å§‹æ‰§è¡Œé€‰ä¸»æ“ä½œï¼Œè€Œä¸”åœ¨é€‰å®šæ–°ä¸»åº“åï¼Œä¼šç»™å…¶ä»–ä»åº“å’Œå®¢æˆ·ç«¯é€šçŸ¥æ–°ä¸»åº“çš„ä¿¡æ¯ã€‚</p><p>å¦‚æœS3æ²¡æœ‰æ‹¿åˆ°2ç¥¨Yï¼Œé‚£ä¹ˆè¿™è½®æŠ•ç¥¨å°±ä¸ä¼šäº§ç”ŸLeaderã€‚å“¨å…µé›†ç¾¤ä¼šç­‰å¾…ä¸€æ®µæ—¶é—´ï¼ˆä¹Ÿå°±æ˜¯å“¨å…µæ•…éšœè½¬ç§»è¶…æ—¶æ—¶é—´çš„2å€ï¼‰ï¼Œå†é‡æ–°é€‰ä¸¾ã€‚è¿™æ˜¯å› ä¸ºï¼Œå“¨å…µé›†ç¾¤èƒ½å¤Ÿè¿›è¡ŒæˆåŠŸæŠ•ç¥¨ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºé€‰ä¸¾å‘½ä»¤çš„æ­£å¸¸ç½‘ç»œä¼ æ’­ã€‚å¦‚æœç½‘ç»œå‹åŠ›è¾ƒå¤§æˆ–æœ‰çŸ­æ—¶å µå¡ï¼Œå°±å¯èƒ½å¯¼è‡´æ²¡æœ‰ä¸€ä¸ªå“¨å…µèƒ½æ‹¿åˆ°åŠæ•°ä»¥ä¸Šçš„èµæˆç¥¨ã€‚æ‰€ä»¥ï¼Œç­‰åˆ°ç½‘ç»œæ‹¥å¡å¥½è½¬ä¹‹åï¼Œå†è¿›è¡ŒæŠ•ç¥¨é€‰ä¸¾ï¼ŒæˆåŠŸçš„æ¦‚ç‡å°±ä¼šå¢åŠ ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœå“¨å…µé›†ç¾¤åªæœ‰2ä¸ªå®ä¾‹ï¼Œæ­¤æ—¶ï¼Œä¸€ä¸ªå“¨å…µè¦æƒ³æˆä¸ºLeaderï¼Œå¿…é¡»è·å¾—2ç¥¨ï¼Œè€Œä¸æ˜¯1ç¥¨ã€‚æ‰€ä»¥ï¼Œå¦‚æœæœ‰ä¸ªå“¨å…µæŒ‚æ‰äº†ï¼Œé‚£ä¹ˆï¼Œæ­¤æ—¶çš„é›†ç¾¤æ˜¯æ— æ³•è¿›è¡Œä¸»ä»åº“åˆ‡æ¢çš„ã€‚å› æ­¤ï¼Œé€šå¸¸æˆ‘ä»¬è‡³å°‘ä¼šé…ç½®3ä¸ªå“¨å…µå®ä¾‹ã€‚è¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œä½ åœ¨å®é™…åº”ç”¨æ—¶å¯ä¸èƒ½å¿½ç•¥äº†ã€‚</p><h2>å°ç»“</h2><p>é€šå¸¸ï¼Œæˆ‘ä»¬åœ¨è§£å†³ä¸€ä¸ªç³»ç»Ÿé—®é¢˜çš„æ—¶å€™ï¼Œä¼šå¼•å…¥ä¸€ä¸ªæ–°æœºåˆ¶ï¼Œæˆ–è€…è®¾è®¡ä¸€å±‚æ–°åŠŸèƒ½ï¼Œå°±åƒæˆ‘ä»¬åœ¨è¿™ä¸¤èŠ‚è¯¾å­¦ä¹ çš„å†…å®¹ï¼šä¸ºäº†å®ç°ä¸»ä»åˆ‡æ¢ï¼Œæˆ‘ä»¬å¼•å…¥äº†å“¨å…µï¼›ä¸ºäº†é¿å…å•ä¸ªå“¨å…µæ•…éšœåæ— æ³•è¿›è¡Œä¸»ä»åˆ‡æ¢ï¼Œä»¥åŠä¸ºäº†å‡å°‘è¯¯åˆ¤ç‡ï¼Œåˆå¼•å…¥äº†å“¨å…µé›†ç¾¤ï¼›å“¨å…µé›†ç¾¤åˆéœ€è¦æœ‰ä¸€äº›æœºåˆ¶æ¥æ”¯æ’‘å®ƒçš„æ­£å¸¸è¿è¡Œã€‚</p><p>è¿™èŠ‚è¯¾ä¸Šï¼Œæˆ‘å°±å‘ä½ ä»‹ç»äº†æ”¯æŒå“¨å…µé›†ç¾¤çš„è¿™äº›å…³é”®æœºåˆ¶ï¼ŒåŒ…æ‹¬ï¼š</p><ul>\n<li>åŸºäºpub/subæœºåˆ¶çš„å“¨å…µé›†ç¾¤ç»„æˆè¿‡ç¨‹ï¼›</li>\n<li>åŸºäºINFOå‘½ä»¤çš„ä»åº“åˆ—è¡¨ï¼Œè¿™å¯ä»¥å¸®åŠ©å“¨å…µå’Œä»åº“å»ºç«‹è¿æ¥ï¼›</li>\n<li>åŸºäºå“¨å…µè‡ªèº«çš„pub/subåŠŸèƒ½ï¼Œè¿™å®ç°äº†å®¢æˆ·ç«¯å’Œå“¨å…µä¹‹é—´çš„äº‹ä»¶é€šçŸ¥ã€‚</li>\n</ul><p>å¯¹äºä¸»ä»åˆ‡æ¢ï¼Œå½“ç„¶ä¸æ˜¯å“ªä¸ªå“¨å…µæƒ³æ‰§è¡Œå°±å¯ä»¥æ‰§è¡Œçš„ï¼Œå¦åˆ™å°±ä¹±å¥—äº†ã€‚æ‰€ä»¥ï¼Œè¿™å°±éœ€è¦å“¨å…µé›†ç¾¤åœ¨åˆ¤æ–­äº†ä¸»åº“â€œå®¢è§‚ä¸‹çº¿â€åï¼Œç»è¿‡æŠ•ç¥¨ä»²è£ï¼Œé€‰ä¸¾ä¸€ä¸ªLeaderå‡ºæ¥ï¼Œç”±å®ƒè´Ÿè´£å®é™…çš„ä¸»ä»åˆ‡æ¢ï¼Œå³ç”±å®ƒæ¥å®Œæˆæ–°ä¸»åº“çš„é€‰æ‹©ä»¥åŠé€šçŸ¥ä»åº“ä¸å®¢æˆ·ç«¯ã€‚</p><p>æœ€åï¼Œæˆ‘æƒ³å†ç»™ä½ åˆ†äº«ä¸€ä¸ªç»éªŒï¼š<strong>è¦ä¿è¯æ‰€æœ‰å“¨å…µå®ä¾‹çš„é…ç½®æ˜¯ä¸€è‡´çš„ï¼Œå°¤å…¶æ˜¯ä¸»è§‚ä¸‹çº¿çš„åˆ¤æ–­å€¼down-after-milliseconds</strong>ã€‚æˆ‘ä»¬æ›¾ç»å°±è¸©è¿‡ä¸€ä¸ªâ€œå‘â€ã€‚å½“æ—¶ï¼Œåœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œå› ä¸ºè¿™ä¸ªå€¼åœ¨ä¸åŒçš„å“¨å…µå®ä¾‹ä¸Šé…ç½®ä¸ä¸€è‡´ï¼Œå¯¼è‡´å“¨å…µé›†ç¾¤ä¸€ç›´æ²¡æœ‰å¯¹æœ‰æ•…éšœçš„ä¸»åº“å½¢æˆå…±è¯†ï¼Œä¹Ÿå°±æ²¡æœ‰åŠæ—¶åˆ‡æ¢ä¸»åº“ï¼Œæœ€ç»ˆçš„ç»“æœå°±æ˜¯é›†ç¾¤æœåŠ¡ä¸ç¨³å®šã€‚æ‰€ä»¥ï¼Œä½ ä¸€å®šä¸è¦å¿½ç•¥è¿™æ¡çœ‹ä¼¼ç®€å•çš„ç»éªŒã€‚</p><h2>æ¯è¯¾ä¸€é—®</h2><p>è¿™èŠ‚è¯¾ä¸Šï¼Œæˆ‘ç»™ä½ æä¸€ä¸ªå°é—®é¢˜ã€‚</p><p>å‡è®¾æœ‰ä¸€ä¸ªRedisé›†ç¾¤ï¼Œæ˜¯â€œä¸€ä¸»å››ä»â€ï¼ŒåŒæ—¶é…ç½®äº†åŒ…å«5ä¸ªå“¨å…µå®ä¾‹çš„é›†ç¾¤ï¼Œquorumå€¼è®¾ä¸º2ã€‚åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æœæœ‰3ä¸ªå“¨å…µå®ä¾‹éƒ½å‘ç”Ÿæ•…éšœäº†ï¼Œæ­¤æ—¶ï¼ŒRedisä¸»åº“å¦‚æœæœ‰æ•…éšœï¼Œè¿˜èƒ½æ­£ç¡®åœ°åˆ¤æ–­ä¸»åº“â€œå®¢è§‚ä¸‹çº¿â€å—ï¼Ÿå¦‚æœå¯ä»¥çš„è¯ï¼Œè¿˜èƒ½è¿›è¡Œä¸»ä»åº“è‡ªåŠ¨åˆ‡æ¢å—ï¼Ÿæ­¤å¤–ï¼Œå“¨å…µå®ä¾‹æ˜¯ä¸æ˜¯è¶Šå¤šè¶Šå¥½å‘¢ï¼Œå¦‚æœåŒæ—¶è°ƒå¤§down-after-millisecondså€¼ï¼Œå¯¹å‡å°‘è¯¯åˆ¤æ˜¯ä¸æ˜¯ä¹Ÿæœ‰å¥½å¤„å‘¢ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè·Ÿæˆ‘äº¤æµè®¨è®ºã€‚å¦‚æœä½ èº«è¾¹ä¹Ÿæœ‰è¦å­¦ä¹ å“¨å…µé›†ç¾¤ç›¸å…³çŸ¥è¯†ç‚¹çš„æœ‹å‹ï¼Œä¹Ÿæ¬¢è¿ä½ èƒ½å¸®æˆ‘æŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™ä»–ä»¬ï¼Œå¸®åŠ©ä»–ä»¬ä¸€èµ·è§£å†³é—®é¢˜ã€‚æˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ã€‚</p>","neighbors":{"left":{"article_title":"07 | å“¨å…µæœºåˆ¶ï¼šä¸»åº“æŒ‚äº†ï¼Œå¦‚ä½•ä¸é—´æ–­æœåŠ¡ï¼Ÿ","id":274483},"right":{"article_title":"09 | åˆ‡ç‰‡é›†ç¾¤ï¼šæ•°æ®å¢å¤šäº†ï¼Œæ˜¯è¯¥åŠ å†…å­˜è¿˜æ˜¯åŠ å®ä¾‹ï¼Ÿ","id":276545}},"comments":[{"had_liked":false,"id":243201,"user_name":"å°å–µå–µ","can_delete":false,"product_type":"c1","uid":1062444,"ip_address":"","ucode":"FDBBB2A59DB8B6","user_header":"https://static001.geekbang.org/account/avatar/00/10/36/2c/8bd4be3a.jpg","comment_is_top":true,"comment_ctime":1597992008,"is_pvip":false,"replies":[{"id":"89695","content":"æ–‡ç« è¯»å¾—å¾ˆä»”ç»†ï¼<br><br>å…ˆå›ç­”ç¬¬ä¸€ä¸ªé—®é¢˜ï¼š<br>æ–‡ç« ä¸­çš„ä¾‹å­é‡Œï¼Œè¦å‘ç”ŸS1ã€S2å’ŒS3åŒæ—¶åŒè‡ªå·±æŠ•ç¥¨çš„æƒ…å†µï¼Œè¿™éœ€è¦è¿™ä¸‰ä¸ªå“¨å…µåŸºæœ¬åŒæ—¶åˆ¤å®šäº†ä¸»åº“å®¢è§‚ä¸‹çº¿ã€‚ä½†æ˜¯ï¼Œä¸åŒå“¨å…µçš„ç½‘ç»œè¿æ¥ã€ç³»ç»Ÿå‹åŠ›ä¸å®Œå…¨ä¸€æ ·ï¼Œæ¥æ”¶åˆ°ä¸‹çº¿åå•†æ¶ˆæ¯çš„æ—¶é—´ä¹Ÿå¯èƒ½ä¸åŒï¼Œæ‰€ä»¥ï¼Œå®ƒä»¬åŒæ—¶åšå‡ºä¸»åº“å®¢è§‚ä¸‹çº¿åˆ¤å®šçš„æ¦‚ç‡è¾ƒå°ï¼Œä¸€èˆ¬éƒ½æœ‰ä¸ªå…ˆåå…³ç³»ã€‚æ–‡ç« ä¸­çš„ä¾‹å­ï¼Œå°±æ˜¯S1ã€S3å…ˆåˆ¤å®šï¼ŒS2ä¸€ç›´æ²¡æœ‰åˆ¤å®šã€‚<br><br>å…¶æ¬¡ï¼Œå“¨å…µå¯¹ä¸»ä»åº“è¿›è¡Œçš„åœ¨çº¿çŠ¶æ€æ£€æŸ¥ç­‰æ“ä½œï¼Œæ˜¯å±äºä¸€ç§æ—¶é—´äº‹ä»¶ï¼Œç”¨ä¸€ä¸ªå®šæ—¶å™¨æ¥å®Œæˆï¼Œä¸€èˆ¬æ¥è¯´æ¯100msæ‰§è¡Œä¸€æ¬¡è¿™äº›äº‹ä»¶ã€‚æ¯ä¸ªå“¨å…µçš„å®šæ—¶å™¨æ‰§è¡Œå‘¨æœŸéƒ½ä¼šåŠ ä¸Šä¸€ä¸ªå°å°çš„éšæœºæ—¶é—´åç§»ï¼Œç›®çš„æ˜¯è®©æ¯ä¸ªå“¨å…µæ‰§è¡Œä¸Šè¿°æ“ä½œçš„æ—¶é—´èƒ½ç¨å¾®é”™å¼€äº›ï¼Œä¹Ÿæ˜¯ä¸ºäº†é¿å…å®ƒä»¬éƒ½åŒæ—¶åˆ¤å®šä¸»åº“ä¸‹çº¿ï¼ŒåŒæ—¶é€‰ä¸¾Leaderã€‚<br><br>æœ€åï¼Œå³ä½¿å‡ºç°äº†éƒ½æŠ•ç»™è‡ªå·±ä¸€ç¥¨çš„æƒ…å†µï¼Œå¯¼è‡´æ— æ³•é€‰å‡ºLeaderï¼Œå“¨å…µä¼šåœä¸€æ®µæ—¶é—´ï¼ˆä¸€èˆ¬æ˜¯æ•…éšœè½¬ç§»è¶…æ—¶æ—¶é—´failover_timeoutçš„2å€ï¼‰ï¼Œç„¶åå†å¯ä»¥è¿›è¡Œä¸‹ä¸€è½®æŠ•ç¥¨ã€‚<br><br>ç¬¬äºŒä¸ªé—®é¢˜ï¼šå“¨å…µå¦‚æœæ²¡æœ‰ç»™è‡ªå·±æŠ•ç¥¨ï¼Œå°±ä¼šæŠŠç¥¨æŠ•ç»™ç¬¬ä¸€ä¸ªç»™å®ƒå‘é€æŠ•ç¥¨è¯·æ±‚çš„å“¨å…µã€‚åç»­å†æœ‰æŠ•ç¥¨è¯·æ±‚æ¥ï¼Œå“¨å…µå°±æ‹’æ¥æŠ•ç¥¨äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è’‹å¾·é’§","uid":"1609687","ctime":1598079301,"ip_address":"","comment_id":243201,"utype":1}],"discussion_count":18,"race_medal":0,"score":"9.2233727127625994e+18","product_id":100056701,"comment_content":"è€å¸ˆè¯·æ•™ä¸‹ï¼š<br>1ã€å›¾ç¤ºå“¨å…µé€‰ä¸¾è¿‡ç¨‹ä¸­ï¼Œé€‰ä¸¾çš„ç»“æœå–å†³äºS2çš„æŠ•ç¥¨ï¼Œå¦‚æœS2ä¹ŸæŠ•ç»™è‡ªå·±ï¼Œå¹¶ä¸”æ¯è½®æŠ•ç¥¨éƒ½æ˜¯åªæŠ•ç»™è‡ªå·±ï¼Œå²‚ä¸æ˜¯æ— æ³•é€‰å‡ºâ€œLeaderâ€ï¼Œæ˜¯ä¸æ˜¯è¿™ä¸ªè¿‡ç¨‹ä»äº†æ­»å¾ªç¯å‘¢ï¼Ÿ<br>2ã€æŠ•ç¥¨æŠ•ç»™è°ï¼Œä¾æ®æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":158,"discussions":[{"author":{"id":1310798,"avatar":"https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg","nickname":"å´å°æ™º","note":"","ucode":"C7C9F58B5C9F7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325091,"discussion_content":"è·Ÿ Raft çš„æŠ•ç¥¨æœºåˆ¶å¼‚æ›²åŒå·¥å•Š","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1605234094,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2476989,"avatar":"","nickname":"Geek_a810d9","note":"","ucode":"B7525D352DF0F9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1310798,"avatar":"https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg","nickname":"å´å°æ™º","note":"","ucode":"C7C9F58B5C9F7B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548398,"discussion_content":"å°±æ˜¯ç±»ä¼¼raftæœºåˆ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643182530,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":325091,"ip_address":""},"score":548398,"extra":""}]},{"author":{"id":1609687,"avatar":"https://static001.geekbang.org/account/avatar/00/18/8f/d7/fb60129d.jpg","nickname":"è’‹å¾·é’§","note":"","ucode":"833985C2C37C0A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504217,"discussion_content":"æ–‡ç« è¯»å¾—å¾ˆä»”ç»†ï¼\n\nå…ˆå›ç­”ç¬¬ä¸€ä¸ªé—®é¢˜ï¼š\næ–‡ç« ä¸­çš„ä¾‹å­é‡Œï¼Œè¦å‘ç”ŸS1ã€S2å’ŒS3åŒæ—¶åŒè‡ªå·±æŠ•ç¥¨çš„æƒ…å†µï¼Œè¿™éœ€è¦è¿™ä¸‰ä¸ªå“¨å…µåŸºæœ¬åŒæ—¶åˆ¤å®šäº†ä¸»åº“å®¢è§‚ä¸‹çº¿ã€‚ä½†æ˜¯ï¼Œä¸åŒå“¨å…µçš„ç½‘ç»œè¿æ¥ã€ç³»ç»Ÿå‹åŠ›ä¸å®Œå…¨ä¸€æ ·ï¼Œæ¥æ”¶åˆ°ä¸‹çº¿åå•†æ¶ˆæ¯çš„æ—¶é—´ä¹Ÿå¯èƒ½ä¸åŒï¼Œæ‰€ä»¥ï¼Œå®ƒä»¬åŒæ—¶åšå‡ºä¸»åº“å®¢è§‚ä¸‹çº¿åˆ¤å®šçš„æ¦‚ç‡è¾ƒå°ï¼Œä¸€èˆ¬éƒ½æœ‰ä¸ªå…ˆåå…³ç³»ã€‚æ–‡ç« ä¸­çš„ä¾‹å­ï¼Œå°±æ˜¯S1ã€S3å…ˆåˆ¤å®šï¼ŒS2ä¸€ç›´æ²¡æœ‰åˆ¤å®šã€‚\n\nå…¶æ¬¡ï¼Œå“¨å…µå¯¹ä¸»ä»åº“è¿›è¡Œçš„åœ¨çº¿çŠ¶æ€æ£€æŸ¥ç­‰æ“ä½œï¼Œæ˜¯å±äºä¸€ç§æ—¶é—´äº‹ä»¶ï¼Œç”¨ä¸€ä¸ªå®šæ—¶å™¨æ¥å®Œæˆï¼Œä¸€èˆ¬æ¥è¯´æ¯100msæ‰§è¡Œä¸€æ¬¡è¿™äº›äº‹ä»¶ã€‚æ¯ä¸ªå“¨å…µçš„å®šæ—¶å™¨æ‰§è¡Œå‘¨æœŸéƒ½ä¼šåŠ ä¸Šä¸€ä¸ªå°å°çš„éšæœºæ—¶é—´åç§»ï¼Œç›®çš„æ˜¯è®©æ¯ä¸ªå“¨å…µæ‰§è¡Œä¸Šè¿°æ“ä½œçš„æ—¶é—´èƒ½ç¨å¾®é”™å¼€äº›ï¼Œä¹Ÿæ˜¯ä¸ºäº†é¿å…å®ƒä»¬éƒ½åŒæ—¶åˆ¤å®šä¸»åº“ä¸‹çº¿ï¼ŒåŒæ—¶é€‰ä¸¾Leaderã€‚\n\næœ€åï¼Œå³ä½¿å‡ºç°äº†éƒ½æŠ•ç»™è‡ªå·±ä¸€ç¥¨çš„æƒ…å†µï¼Œå¯¼è‡´æ— æ³•é€‰å‡ºLeaderï¼Œå“¨å…µä¼šåœä¸€æ®µæ—¶é—´ï¼ˆä¸€èˆ¬æ˜¯æ•…éšœè½¬ç§»è¶…æ—¶æ—¶é—´failover_timeoutçš„2å€ï¼‰ï¼Œç„¶åå†å¯ä»¥è¿›è¡Œä¸‹ä¸€è½®æŠ•ç¥¨ã€‚\n\nç¬¬äºŒä¸ªé—®é¢˜ï¼šå“¨å…µå¦‚æœæ²¡æœ‰ç»™è‡ªå·±æŠ•ç¥¨ï¼Œå°±ä¼šæŠŠç¥¨æŠ•ç»™ç¬¬ä¸€ä¸ªç»™å®ƒå‘é€æŠ•ç¥¨è¯·æ±‚çš„å“¨å…µã€‚åç»­å†æœ‰æŠ•ç¥¨è¯·æ±‚æ¥ï¼Œå“¨å…µå°±æ‹’æ¥æŠ•ç¥¨äº†ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1598079301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":4,"child_discussions":[{"author":{"id":3050838,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/MnNmAGFwlyPFiazHo4micPVFR4SheUk4VC5gKyoYHyHaZAWbyI16aEhm4xoxa4bNH7h5SdPajZibpC5wlyUGBzoog/132","nickname":"Geek_ad9aec","note":"","ucode":"951E86E64B4844","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1609687,"avatar":"https://static001.geekbang.org/account/avatar/00/18/8f/d7/fb60129d.jpg","nickname":"è’‹å¾·é’§","note":"","ucode":"833985C2C37C0A","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":580082,"discussion_content":"è€å¸ˆï¼Œæœ‰å‡ ç‚¹ç–‘é—®ï¼š\n1ã€é€‰ä¸¾leaderã€‚1.1ã€æ˜¯åªæœ‰åˆ¤æ–­ä¸»åº“ä¸‹çº¿çš„å“¨å…µæ‰æœ‰æœºä¼šï¼Ÿ1.2ã€è¿˜æ˜¯æ‰€æœ‰å“¨å…µéƒ½æœ‰æœºä¼šï¼Ÿ\n2ã€å¦‚æœæ˜¯1.1çš„æƒ…å†µï¼Œé‚£ä¹ˆæ˜¯æ‰€æœ‰åˆ¤æ–­ä¸»åº“ä¸‹çº¿çš„å“¨å…µéƒ½ä¼šç«äº‰leaderä¹ˆï¼Ÿè¿˜æ˜¯éƒ¨åˆ†å“¨å…µå‚ä¸leaderç«äº‰ï¼Ÿå¦‚æœæ˜¯éƒ¨åˆ†ï¼Œé‚£ä¹ˆæ˜¯é‚£äº›å“¨å…µç«äº‰leaderæ˜¯æ€ä¹ˆç¡®å®šçš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657865797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":504217,"ip_address":""},"score":580082,"extra":""},{"author":{"id":3050838,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/MnNmAGFwlyPFiazHo4micPVFR4SheUk4VC5gKyoYHyHaZAWbyI16aEhm4xoxa4bNH7h5SdPajZibpC5wlyUGBzoog/132","nickname":"Geek_ad9aec","note":"","ucode":"951E86E64B4844","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1609687,"avatar":"https://static001.geekbang.org/account/avatar/00/18/8f/d7/fb60129d.jpg","nickname":"è’‹å¾·é’§","note":"","ucode":"833985C2C37C0A","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":580083,"discussion_content":"è€å¸ˆï¼ŒåŸæ–‡ï¼šä»»ä½•ä¸€ä¸ªå®ä¾‹åªè¦è‡ªèº«åˆ¤æ–­ä¸»åº“â€œä¸»è§‚ä¸‹çº¿â€åï¼Œå°±ä¼šç»™å…¶ä»–å®ä¾‹å‘é€ is-master-down-by-addr å‘½ä»¤ã€‚\né—®é¢˜ï¼šå…¶ä»–å“¨å…µæ¥åˆ°å‘½ä»¤åˆ¤æ–­ä¸»åº“ä¹Ÿæ˜¯â€œä¸»è§‚ä¸‹çº¿â€ï¼Œé‚£ä¹ˆä»–ä¸æ˜¯åˆé‡å¤åŸæ–‡è¿‡ç¨‹ï¼Œè¿™ä¸æ˜¯å½¢æˆäº†ä¸€ä¸ªæ­»å¾ªç¯ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657866411,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":504217,"ip_address":""},"score":580083,"extra":""},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":3050838,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/MnNmAGFwlyPFiazHo4micPVFR4SheUk4VC5gKyoYHyHaZAWbyI16aEhm4xoxa4bNH7h5SdPajZibpC5wlyUGBzoog/132","nickname":"Geek_ad9aec","note":"","ucode":"951E86E64B4844","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584501,"discussion_content":"1.1 çš„æƒ…å†µï¼Œæ‰€æœ‰åˆ¤æ–­ä¸»åº“ä¸‹çº¿çš„å“¨å…µéƒ½ä¼šç«äº‰leaderï¼Œæœ‰ä¸ªå‰æï¼Œå‡ ä¹å“¨å…µåŒæ—¶åˆ¤æ–­ä¸»åº“ä¸‹çº¿ï¼Œä½†æ˜¯è¿™ä¸ªæ¦‚ç‡æ¯”è¾ƒå°ï¼Œå“¨å…µç«äº‰æˆä¸ºleaderçš„æ¡ä»¶æœ‰ä¸¤ä¸ª ---- â€œåœ¨æŠ•ç¥¨è¿‡ç¨‹ä¸­ï¼Œä»»ä½•ä¸€ä¸ªæƒ³æˆä¸º Leader çš„å“¨å…µï¼Œè¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼šç¬¬ä¸€ï¼Œæ‹¿åˆ°åŠæ•°ä»¥ä¸Šçš„èµæˆç¥¨ï¼›ç¬¬äºŒï¼Œæ‹¿åˆ°çš„ç¥¨æ•°åŒæ—¶è¿˜éœ€è¦å¤§äºç­‰äºå“¨å…µé…ç½®æ–‡ä»¶ä¸­çš„ quorum å€¼ã€‚â€\n\nè€å¸ˆçš„å›ç­”ï¼Œä½ å†é˜…è¯»ä¸¤éï½ï½ åº”è¯¥èƒ½è§£å†³ä½ çš„ç–‘æƒ‘ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1660883574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":580082,"ip_address":"æµ™æ±Ÿ"},"score":584501,"extra":""}]},{"author":{"id":1123163,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/5b/983408b9.jpg","nickname":"æ‚Ÿç©ºèŠæ¶æ„","note":"","ucode":"C2F482A0CF8AF1","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373291,"discussion_content":"æ—¶é—´åç§»å’ŒRaft é€‰ä¸¾leaderçš„è¿‡ç¨‹å¾ˆåƒ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1620692122,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1411419,"avatar":"https://static001.geekbang.org/account/avatar/00/15/89/5b/b014ce14.jpg","nickname":"å°äº”","note":"","ucode":"B7B1F121837CD9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1123163,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/5b/983408b9.jpg","nickname":"æ‚Ÿç©ºèŠæ¶æ„","note":"","ucode":"C2F482A0CF8AF1","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":378886,"discussion_content":"è¿˜æ˜¯æœ‰ç‚¹åŒºåˆ«çš„ã€‚Raft ä¸­çš„éšæœºæ—¶é—´æ˜¯è®©èŠ‚ç‚¹æˆä¸ºå€™é€‰è€…è¿›è€Œå‘èµ·æŠ•ç¥¨ï¼Œè¿™é‡Œçš„å®šæ—¶å™¨æ‰§è¡Œå‘¨æœŸæ—¶æ˜¯å»æ£€æŸ¥ä¸»ä»åº“çš„åœ¨çº¿ç¨‹çŠ¶æ€ï¼Œå‘ç°ç¬¦åˆæ–­å¼€è¶…æ—¶æ¡ä»¶æ‰ä¼šå‘èµ·ä¸‹çº¿æŠ•ç¥¨è¯·æ±‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623487900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":373291,"ip_address":""},"score":378886,"extra":""}]},{"author":{"id":1234273,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d5/61/8ad99e09.jpg","nickname":"åˆ˜ç™¾ä¸‡","note":"","ucode":"692E23D070641A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368796,"discussion_content":"æ€ä¹ˆåŒºåˆ«æ˜¯ç¬¬äºŒè½®çš„æŠ•ç¥¨å‘¢","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1618834145,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1313229,"avatar":"https://static001.geekbang.org/account/avatar/00/14/09/cd/1a1dd08a.jpg","nickname":"é»‘å±±è€å¦–æ€ª","note":"","ucode":"17A056D9E5115E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301783,"discussion_content":"æ²¡è®°é”™çš„è¯ï¼Œè¿™ç§è®¾è®¡ç†å¿µå°±æ˜¯åŸºäºåˆ†å¸ƒå¼ç®—æ³•Paxosï¼Œä¸€äº›ç»„ä»¶çš„åˆ†å¸ƒå¼é›†ç¾¤é—´æ¨ä¸¾leaderå¤§æ¦‚éƒ½æ˜¯è¿™ä¹ˆæ“ä½œçš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598632474,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3065276,"avatar":"","nickname":"Geek_b3b8da","note":"","ucode":"5461CD95B1D764","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586185,"discussion_content":"å¥½å®¶ä¼™ç»™æˆ‘éƒ½ç»•æ™•äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662023841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1234273,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d5/61/8ad99e09.jpg","nickname":"åˆ˜ç™¾ä¸‡","note":"","ucode":"692E23D070641A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368798,"discussion_content":"åº”è¯¥æ˜¯æ¯ä¸ªå“¨å…µèŠ‚ç‚¹ ä»¥è‡ªå·±å®šæ—¶æ£€æŸ¥ä¸»åº“ ä¸ºä¸€è½®ã€‚ä¹Ÿå°±æ˜¯100msåŠ åç§»çš„æ—¶é—´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618834586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1295609,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJRFRX8kNzNet7FibNvtavbVpAwK09AhIhrib9k762qWtH6mre8ickP7hM5mgZC4ytr8NnmIfmAhxMSQ/132","nickname":"è€å¤§ä¸å°","note":"","ucode":"35BCDD3CB13467","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366907,"discussion_content":"å“ï¼Œä¸€ä¸ªå¦¹å­éƒ½è¿™ä¹ˆå¥½å­¦ï¼Œæˆ‘æ— è¨€ä»¥å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618215495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1890006,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/d6/d6/5fbb6e00.jpg","nickname":"å†å¿™ä¹Ÿè¦å……å……ç”µ","note":"","ucode":"098F2D9D280D60","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1295609,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJRFRX8kNzNet7FibNvtavbVpAwK09AhIhrib9k762qWtH6mre8ickP7hM5mgZC4ytr8NnmIfmAhxMSQ/132","nickname":"è€å¤§ä¸å°","note":"","ucode":"35BCDD3CB13467","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374602,"discussion_content":"è¯´ä¸å®šæå‡ºæ¥æ¯”ä½ å¤§ï¼Œæ‰‹åŠ¨æ»‘ç¨½","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1621262072,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":366907,"ip_address":""},"score":374602,"extra":""},{"author":{"id":1389314,"avatar":"https://static001.geekbang.org/account/avatar/00/15/33/02/83f47bf9.jpg","nickname":"æµæ²™","note":"","ucode":"6153686D1C34B7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1890006,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/d6/d6/5fbb6e00.jpg","nickname":"å†å¿™ä¹Ÿè¦å……å……ç”µ","note":"","ucode":"098F2D9D280D60","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380266,"discussion_content":"æˆ‘è¦ä¸‹è½¦ï¼Œè¿™ä¸æ˜¯å»å¹¼å„¿å›­çš„è½¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624417516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":374602,"ip_address":""},"score":380266,"extra":""}]},{"author":{"id":1275690,"avatar":"https://static001.geekbang.org/account/avatar/00/13/77/2a/244d98aa.jpg","nickname":"cpâ˜…é’Šî€¢îˆ±î€²","note":"","ucode":"6B86D4D538BDF7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318135,"discussion_content":"ä¹‹å‰çœ‹è¿‡è¯´æ˜¯åŸºäºraftåšçš„é€‰ä¸»ï¼Œå¯ä»¥äº†è§£ä¸‹è¿™ä¸ªç®—æ³•çš„é€‰ä¸»å¤„ç†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603643507,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1062444,"avatar":"https://static001.geekbang.org/account/avatar/00/10/36/2c/8bd4be3a.jpg","nickname":"å°å–µå–µ","note":"","ucode":"FDBBB2A59DB8B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301296,"discussion_content":"è°¢è°¢è€å¸ˆçš„è§£æƒ‘ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598486284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243177,"user_name":"Kaito","can_delete":false,"product_type":"c1","uid":1020042,"ip_address":"","ucode":"79775FA35A95F2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","comment_is_top":false,"comment_ctime":1597982505,"is_pvip":true,"replies":[{"id":"89756","content":"KaitoåŒå­¦çš„ç­”é¢˜ä¸€å¦‚æ—¢å¾€çš„ç²¾å½©ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"è’‹å¾·é’§","uid":"1609687","ctime":1598230772,"ip_address":"","comment_id":243177,"utype":1}],"discussion_count":81,"race_medal":0,"score":"3446161753897","product_id":100056701,"comment_content":"Redis 1ä¸»4ä»ï¼Œ5ä¸ªå“¨å…µï¼Œå“¨å…µé…ç½®quorumä¸º2ï¼Œå¦‚æœ3ä¸ªå“¨å…µæ•…éšœï¼Œå½“ä¸»åº“å®•æœºæ—¶ï¼Œå“¨å…µèƒ½å¦åˆ¤æ–­ä¸»åº“â€œå®¢è§‚ä¸‹çº¿â€ï¼Ÿèƒ½å¦è‡ªåŠ¨åˆ‡æ¢ï¼Ÿ<br><br>ç»è¿‡å®é™…æµ‹è¯•ï¼Œæˆ‘çš„ç»“è®ºå¦‚ä¸‹ï¼š<br><br>1ã€å“¨å…µé›†ç¾¤å¯ä»¥åˆ¤å®šä¸»åº“â€œä¸»è§‚ä¸‹çº¿â€ã€‚ç”±äºquorum=2ï¼Œæ‰€ä»¥å½“ä¸€ä¸ªå“¨å…µåˆ¤æ–­ä¸»åº“â€œä¸»è§‚ä¸‹çº¿â€åï¼Œè¯¢é—®å¦å¤–ä¸€ä¸ªå“¨å…µåä¹Ÿä¼šå¾—åˆ°åŒæ ·çš„ç»“æœï¼Œ2ä¸ªå“¨å…µéƒ½åˆ¤å®šâ€œä¸»è§‚ä¸‹çº¿â€ï¼Œè¾¾åˆ°äº†quorumçš„å€¼ï¼Œå› æ­¤ï¼Œå“¨å…µé›†ç¾¤å¯ä»¥åˆ¤å®šä¸»åº“ä¸ºâ€œå®¢è§‚ä¸‹çº¿â€ã€‚<br><br>2ã€ä½†å“¨å…µä¸èƒ½å®Œæˆä¸»ä»åˆ‡æ¢ã€‚å“¨å…µæ ‡è®°ä¸»åº“â€œå®¢è§‚ä¸‹çº¿åâ€ï¼Œåœ¨é€‰ä¸¾â€œå“¨å…µé¢†å¯¼è€…â€æ—¶ï¼Œä¸€ä¸ªå“¨å…µå¿…é¡»æ‹¿åˆ°è¶…è¿‡å¤šæ•°çš„é€‰ç¥¨(5&#47;2+1=3ç¥¨)ã€‚ä½†ç›®å‰åªæœ‰2ä¸ªå“¨å…µæ´»ç€ï¼Œæ— è®ºæ€ä¹ˆæŠ•ç¥¨ï¼Œä¸€ä¸ªå“¨å…µæœ€å¤šåªèƒ½æ‹¿åˆ°2ç¥¨ï¼Œæ°¸è¿œæ— æ³•è¾¾åˆ°å¤šæ•°é€‰ç¥¨çš„ç»“æœã€‚<br><br>ä½†æ˜¯æŠ•ç¥¨é€‰ä¸¾è¿‡ç¨‹çš„ç»†èŠ‚å¹¶ä¸æ˜¯å¤§å®¶è®¤ä¸ºçš„ï¼šæ¯ä¸ªå“¨å…µå„è‡ª1ç¥¨ï¼Œè¿™ä¸ªæƒ…å†µæ˜¯ä¸ä¸€å®šçš„ã€‚ä¸‹é¢å…·ä½“è¯´ä¸€ä¸‹ï¼š<br><br>åœºæ™¯aï¼šå“¨å…µAå…ˆåˆ¤å®šä¸»åº“â€œä¸»è§‚ä¸‹çº¿â€ï¼Œç„¶åé©¬ä¸Šè¯¢é—®å“¨å…µBï¼ˆæ³¨æ„ï¼Œæ­¤æ—¶å“¨å…µBåªæ˜¯è¢«åŠ¨æ¥å—è¯¢é—®ï¼Œå¹¶æ²¡æœ‰å»è¯¢é—®å“¨å…µAï¼Œä¹Ÿå°±æ˜¯å®ƒè¿˜æ²¡æœ‰è¿›å…¥åˆ¤å®šâ€œå®¢è§‚ä¸‹çº¿â€çš„æµç¨‹ï¼‰ï¼Œå“¨å…µBå›å¤ä¸»åº“å·²â€œä¸»è§‚ä¸‹çº¿â€ï¼Œè¾¾åˆ°quorum=2åå“¨å…µAæ­¤æ—¶å¯ä»¥åˆ¤å®šä¸»åº“â€œå®¢è§‚ä¸‹çº¿â€ã€‚æ­¤æ—¶ï¼Œå“¨å…µAé©¬ä¸Šå¯ä»¥å‘å…¶ä»–å“¨å…µå‘èµ·æˆä¸ºâ€œå“¨å…µé¢†å¯¼è€…â€çš„æŠ•ç¥¨ï¼Œå“¨å…µBæ”¶åˆ°æŠ•ç¥¨è¯·æ±‚åï¼Œç”±äºè‡ªå·±è¿˜æ²¡æœ‰è¯¢é—®å“¨å…µAè¿›å…¥åˆ¤å®šâ€œå®¢è§‚ä¸‹çº¿â€çš„æµç¨‹ï¼Œæ‰€ä»¥å“¨å…µBæ˜¯å¯ä»¥ç»™å“¨å…µAæŠ•ç¥¨ç¡®è®¤çš„ï¼Œè¿™æ ·å“¨å…µAå°±å·²ç»æ‹¿åˆ°2ç¥¨äº†ã€‚ç­‰ç¨åå“¨å…µBä¹Ÿåˆ¤å®šâ€œä¸»è§‚ä¸‹çº¿â€åæƒ³æˆä¸ºé¢†å¯¼è€…æ—¶ï¼Œå› ä¸ºå®ƒå·²ç»ç»™åˆ«äººæŠ•è¿‡ç¥¨äº†ï¼Œæ‰€ä»¥è¿™ä¸€è½®è‡ªå·±å°±ä¸èƒ½å†æˆä¸ºé¢†å¯¼è€…äº†ã€‚<br><br>åœºæ™¯bï¼šå“¨å…µAå’Œå“¨å…µBåŒæ—¶åˆ¤å®šä¸»åº“â€œä¸»è§‚ä¸‹çº¿â€ï¼Œç„¶ååŒæ—¶è¯¢é—®å¯¹æ–¹åéƒ½å¾—åˆ°å¯ä»¥â€œå®¢è§‚ä¸‹çº¿â€çš„ç»“è®ºï¼Œæ­¤æ—¶å®ƒä»¬å„è‡ªç»™è‡ªå·±æŠ•ä¸Š1ç¥¨åï¼Œç„¶åå‘å…¶ä»–å“¨å…µå‘èµ·æŠ•ç¥¨è¯·æ±‚ï¼Œä½†æ˜¯å› ä¸ºå„è‡ªéƒ½ç»™è‡ªå·±æŠ•è¿‡ç¥¨äº†ï¼Œå› æ­¤å„è‡ªéƒ½æ‹’ç»äº†å¯¹æ–¹çš„æŠ•ç¥¨è¯·æ±‚ï¼Œè¿™æ ·2ä¸ªå“¨å…µå„è‡ªæŒæœ‰1ç¥¨ã€‚<br><br>åœºæ™¯aæ˜¯1ä¸ªå“¨å…µæ‹¿åˆ°2ç¥¨ï¼Œåœºæ™¯bæ˜¯2ä¸ªå“¨å…µå„è‡ªæœ‰1ç¥¨ï¼Œè¿™2ç§æƒ…å†µéƒ½ä¸æ»¡è¶³å¤§å¤šæ•°é€‰ç¥¨(3ç¥¨)çš„ç»“æœï¼Œå› æ­¤æ— æ³•å®Œæˆä¸»ä»åˆ‡æ¢ã€‚<br><br>ç»è¿‡æµ‹è¯•å‘ç°ï¼Œåœºæ™¯bå‘ç”Ÿçš„æ¦‚ç‡éå¸¸å°ï¼Œåªæœ‰2ä¸ªå“¨å…µåŒæ—¶è¿›å…¥åˆ¤å®šâ€œä¸»è§‚ä¸‹çº¿â€çš„æµç¨‹æ—¶æ‰å¯ä»¥å‘ç”Ÿã€‚æˆ‘æµ‹è¯•å‡ æ¬¡åå‘ç°ï¼Œéƒ½æ˜¯å¤ç°çš„åœºæ™¯aã€‚<br><br>å“¨å…µå®ä¾‹æ˜¯ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Ÿ<br><br>å¹¶ä¸æ˜¯ï¼Œæˆ‘ä»¬ä¹Ÿçœ‹åˆ°äº†ï¼Œå“¨å…µåœ¨åˆ¤å®šâ€œä¸»è§‚ä¸‹çº¿â€å’Œé€‰ä¸¾â€œå“¨å…µé¢†å¯¼è€…â€æ—¶ï¼Œéƒ½éœ€è¦å’Œå…¶ä»–èŠ‚ç‚¹è¿›è¡Œé€šä¿¡ï¼Œäº¤æ¢ä¿¡æ¯ï¼Œå“¨å…µå®ä¾‹è¶Šå¤šï¼Œé€šä¿¡çš„æ¬¡æ•°ä¹Ÿå°±è¶Šå¤šï¼Œè€Œä¸”éƒ¨ç½²å¤šä¸ªå“¨å…µæ—¶ï¼Œä¼šåˆ†å¸ƒåœ¨ä¸åŒæœºå™¨ä¸Šï¼ŒèŠ‚ç‚¹è¶Šå¤šå¸¦æ¥çš„æœºå™¨æ•…éšœé£é™©ä¹Ÿä¼šè¶Šå¤§ï¼Œè¿™äº›é—®é¢˜éƒ½ä¼šå½±å“åˆ°å“¨å…µçš„é€šä¿¡å’Œé€‰ä¸¾ï¼Œå‡ºé—®é¢˜æ—¶ä¹Ÿå°±æ„å‘³ç€é€‰ä¸¾æ—¶é—´ä¼šå˜é•¿ï¼Œåˆ‡æ¢ä¸»ä»çš„æ—¶é—´å˜ä¹…ã€‚<br><br>è°ƒå¤§down-after-millisecondså€¼ï¼Œå¯¹å‡å°‘è¯¯åˆ¤æ˜¯ä¸æ˜¯æœ‰å¥½å¤„ï¼Ÿ<br><br>æ˜¯æœ‰å¥½å¤„çš„ï¼Œé€‚å½“è°ƒå¤§down-after-millisecondså€¼ï¼Œå½“å“¨å…µä¸ä¸»åº“ä¹‹é—´ç½‘ç»œå­˜åœ¨çŸ­æ—¶æ³¢åŠ¨æ—¶ï¼Œå¯ä»¥é™ä½è¯¯åˆ¤çš„æ¦‚ç‡ã€‚ä½†æ˜¯è°ƒå¤§down-after-millisecondså€¼ä¹Ÿæ„å‘³ç€ä¸»ä»åˆ‡æ¢çš„æ—¶é—´ä¼šå˜é•¿ï¼Œå¯¹ä¸šåŠ¡çš„å½±å“æ—¶é—´è¶Šä¹…ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å®é™…åœºæ™¯è¿›è¡Œæƒè¡¡ï¼Œè®¾ç½®åˆç†çš„é˜ˆå€¼ã€‚","like_count":803,"discussions":[{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300203,"discussion_content":"é‡ç‚¹ï¼šåªæœ‰è¿›å…¥åˆ°é€‰ä¸¾æµç¨‹çš„å“¨å…µï¼Œæ‰èƒ½è‡ªå·±ç»™è‡ªå·±å…ˆæŠ•ä¸€ç¥¨ï¼Œå¦‚æœå®ƒè¿˜æ²¡æœ‰è¿›å…¥é€‰ä¸¾æµç¨‹ï¼Œåªèƒ½ç»™åˆ«äººæŠ•ç¥¨ã€‚\n\nè¯•æƒ³ï¼Œå¦‚æœ3ä¸ªå“¨å…µï¼Œæ¯ä¸ªéƒ½å…ˆç»™è‡ªå·±æŠ•1ç¥¨ï¼Œé‚£ä¹ˆå®ƒä»¬æ°¸è¿œæ— æ³•é€‰å‡ºé¢†å¯¼è€…ï¼Œæ‰€ä»¥è‚¯å®šæœ‰ä¸€ä¸ªå“¨å…µå…ˆè¿›å…¥äº†é€‰ä¸¾æµç¨‹ï¼Œåªæœ‰è¿™æ ·ï¼Œæ‰èƒ½è®©åˆ«äººç»™è‡ªå·±æŠ•ç¥¨ã€‚","likes_number":32,"is_delete":false,"is_hidden":false,"ctime":1597984080,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1799114,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/73/ca/9c5d7e55.jpg","nickname":"kingdompeak","note":"","ucode":"870C9E0726D747","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":300204,"discussion_content":"è¨€ä¹‹æœ‰ç†ï¼Œå­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597984244,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300203,"ip_address":""},"score":300204,"extra":""}]},{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300202,"discussion_content":"è¿™äº›ç»“è®ºæ˜¯æˆ‘ç»è¿‡å®é™…æ“ä½œï¼Œç„¶åè§‚å¯Ÿå“¨å…µlogåå¾—å‡ºçš„ï¼Œå¤§å®¶å¯ä»¥å®éªŒä¸€ä¸‹ï¼ŒéªŒè¯ä¸‹ç»“æœã€‚","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1597983814,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1309929,"avatar":"https://static001.geekbang.org/account/avatar/00/13/fc/e9/34437e7f.jpg","nickname":"è€ç”³å®¶çš„å“ˆå“ˆ","note":"","ucode":"CE9C851CB95DF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":308576,"discussion_content":"1ä¸»4ä»ï¼Œéœ€è¦5å°æœºå™¨ï¼Œè¯¾ä»£è¡¨æ˜¯åœ¨è‡ªå·±çš„è™šæ‹Ÿæœºä¸Šåšçš„å®éªŒå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600999882,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300202,"ip_address":""},"score":308576,"extra":""},{"author":{"id":1253652,"avatar":"https://static001.geekbang.org/account/avatar/00/13/21/14/423a821f.jpg","nickname":"Steven","note":"","ucode":"3FE64459842015","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1309929,"avatar":"https://static001.geekbang.org/account/avatar/00/13/fc/e9/34437e7f.jpg","nickname":"è€ç”³å®¶çš„å“ˆå“ˆ","note":"","ucode":"CE9C851CB95DF6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383948,"discussion_content":"docker å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626315179,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":308576,"ip_address":""},"score":383948,"extra":""},{"author":{"id":2476989,"avatar":"","nickname":"Geek_a810d9","note":"","ucode":"B7525D352DF0F9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1309929,"avatar":"https://static001.geekbang.org/account/avatar/00/13/fc/e9/34437e7f.jpg","nickname":"è€ç”³å®¶çš„å“ˆå“ˆ","note":"","ucode":"CE9C851CB95DF6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548400,"discussion_content":"åªè¦ç«¯å£ä¸åŒï¼Œä¸€å°æœºå™¨å¯ä»¥éƒ¨ç½²å¤šä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643182672,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":308576,"ip_address":""},"score":548400,"extra":""}]},{"author":{"id":1179028,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/94/0247f945.jpg","nickname":"å’¸é±¼","note":"","ucode":"5E79636DE48155","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300209,"discussion_content":"è¿™ä¹ˆç‰›é€¼è‚¯å®šçš„ç»™ä½ ğŸ‘ï¼Œå¸Œæœ›æ¯èŠ‚è¯¾åä½ éƒ½èƒ½çœ‹åˆ°ä½ çš„ç²¾å½©å›å¤","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1597987176,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1179028,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/94/0247f945.jpg","nickname":"å’¸é±¼","note":"","ucode":"5E79636DE48155","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300216,"discussion_content":"æ„Ÿè°¢ï¼Œä¸€å—è¿›æ­¥ï¼","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1597989399,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300209,"ip_address":""},"score":300216,"extra":""}]},{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344532,"discussion_content":"åŠ æˆ‘å¾®ä¿¡ black-rye å¯ä»¥è¿› Redis æŠ€æœ¯äº¤æµç¾¤ï¼Œæ¯å¤©è®¨è®ºé«˜è´¨é‡æŠ€æœ¯é—®é¢˜å“ˆï¼","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1611490882,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1503506,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f1/12/7dac30d6.jpg","nickname":"ä½ ä¸ºå•¥é‚£ä¹ˆç‰›","note":"","ucode":"1ABC604A54A8F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338807,"discussion_content":"è¿™æ¬¡å›ç­”ï¼Œæ²¡æœ‰äº†é‚£ç§çº¯çº¯çš„æŠ€æœ¯å‘³é“ï¼Œæè¿°ä¹Ÿå¾ˆæµç•…","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1609385116,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2082118,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/P1y2k6dcoAWtlXkMcKFGeAmykTKCOKEicKsN0TX4eT6icibATfqnlsDyjicfjvo1zAa9lAS4ZGkSEGjeUUUmy9Qofg/132","nickname":"xyy_Li","note":"","ucode":"81A647AB5F757A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1503506,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f1/12/7dac30d6.jpg","nickname":"ä½ ä¸ºå•¥é‚£ä¹ˆç‰›","note":"","ucode":"1ABC604A54A8F6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539235,"discussion_content":"æ˜¯å•Š æ˜¯å•Š æ„Ÿè§‰å®¹æ˜“ç†è§£å¤šäº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639646215,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":338807,"ip_address":""},"score":539235,"extra":""}]},{"author":{"id":2308831,"avatar":"https://static001.geekbang.org/account/avatar/00/23/3a/df/ea0fc831.jpg","nickname":"å‘¨å¤©èˆª","note":"","ucode":"B28D84594679A6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325318,"discussion_content":"æŒ‰ç…§è€å¸ˆè¯´çš„å“¨å…µé€‰leaderçš„ç®—æ³•ç±»ä¼¼raftï¼Œå…¶å®åº”è¯¥ä¸€æ—¦a,bå„è‡ªç»™è‡ªå·±æŠ•ç¥¨ï¼Œä»–ä»¬å°±ä¼šè¿›å…¥éšæœºç­‰å¾…æ—¶é—´ï¼Œç„¶åå†å‘èµ·é‡æ–°æŠ•ç¥¨ï¼Œç”±äºéšæœºç­‰å¾…æ—¶é—´ä¸ä¸€æ ·ï¼Œå› æ­¤ä¸‹æ¬¡å°±å¯èƒ½è‡ªå·±æ²¡å‘å‡ºæŠ•ç¥¨è¯·æ±‚çš„æ—¶å€™å°±æ”¶åˆ°äº†è¢«æŠ•ç¥¨è¯·æ±‚ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1605271031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2308831,"avatar":"https://static001.geekbang.org/account/avatar/00/23/3a/df/ea0fc831.jpg","nickname":"å‘¨å¤©èˆª","note":"","ucode":"B28D84594679A6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375601,"discussion_content":"å¯¹çš„ ä¸è¿™æ ·åšåè€Œä¼šå‘ç”Ÿæ°¸è¿œæ— æ³•é€‰å‡ºä¸»çš„é—®é¢˜ã€‚å› ä¸ºç½‘ç»œä¸ä¼šä¸€ç›´éƒ½å¾ˆå·® å¦‚æœæ˜¯åŒä¸€ä¸ªæœºæˆ¿ ä¸åŒæœºæŸœ é‚£ä¹ˆæ€ä¹ˆåŠï¼Ÿæ‰€ä»¥åº”è¯¥æ˜¯å°½å¿«é€‰ä¸» å°½å¿«è§£å†³å…±è¯†æ‰æ˜¯ç¬¬ä¸€ä½ã€‚è‡³äºé€‰é”™ å…¶å®ä¸é‡è¦ å› ä¸ºæ¯ä¸€è½®éƒ½æœ‰epoch","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621763216,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":325318,"ip_address":""},"score":375601,"extra":""}]},{"author":{"id":1609687,"avatar":"https://static001.geekbang.org/account/avatar/00/18/8f/d7/fb60129d.jpg","nickname":"è’‹å¾·é’§","note":"","ucode":"833985C2C37C0A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504210,"discussion_content":"KaitoåŒå­¦çš„ç­”é¢˜ä¸€å¦‚æ—¢å¾€çš„ç²¾å½©ï¼","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1598230772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1300285,"avatar":"https://static001.geekbang.org/account/avatar/00/13/d7/3d/a076faf1.jpg","nickname":"èœ—ç‰›","note":"","ucode":"A99C9C890F95E4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328969,"discussion_content":"ç­é•¿çš„å›ç­”ä¸€å¦‚æ—¢å¾€çš„ç²¾å½©ï¼","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1606289293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1543018,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqw0R25Bt0iahFhEHfnxmzr9iaZf0eLsDQtFUJzgGkYwHTqicU9TydMngrJ4yL7D50awD2VibHBAdqplQ/132","nickname":"Geek_18dfaf","note":"","ucode":"CFC27E78220E2D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301336,"discussion_content":"\nç»†èŠ‚çš„åœ°æ–¹æ¯”è€å¸ˆè®²çš„è¿˜ç»†ï¼Œå¥½å‰å®³å•Š","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1598492636,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1358832,"avatar":"https://static001.geekbang.org/account/avatar/00/14/bb/f0/c36cc6d5.jpg","nickname":"å“ˆå–½","note":"","ucode":"33DEB091E31970","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300219,"discussion_content":"è¯¾ä»£è¡¨å†æ¥å†å‰ï¼Œï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1597990265,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2894784,"avatar":"","nickname":"Geek_4996c9","note":"","ucode":"98F65C1722D354","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575958,"discussion_content":"5ä¸ªå“¨å…µç»„æˆçš„é›†ç¾¤ï¼Œå®•æ‰äº†3ä¸ªï¼Œé›†ç¾¤çš„å“¨å…µæ•°é‡ä¸ºä»€ä¹ˆè¿˜æ˜¯æŒ‰5ä¸ªç®—å‘€","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1655211111,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2309475,"avatar":"https://static001.geekbang.org/account/avatar/00/23/3d/63/b4466457.jpg","nickname":"tardis","note":"","ucode":"F33411288D5E27","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":567225,"discussion_content":"quorumï¼šç¡®è®¤odownçš„æœ€å°‘çš„å“¨å…µæ•°é‡\n\nmajorityï¼šæˆæƒè¿›è¡Œä¸»ä»åˆ‡æ¢çš„æœ€å°‘çš„å“¨å…µæ•°é‡\n\næ¯æ¬¡ä¸€ä¸ªå“¨å…µè¦åšä¸»å¤‡åˆ‡æ¢ï¼Œé¦–å…ˆéœ€è¦quorumæ•°é‡çš„å“¨å…µè®¤ä¸ºodownï¼Œç„¶åé€‰ä¸¾å‡ºä¸€ä¸ªå“¨å…µæ¥åšåˆ‡æ¢ï¼Œè¿™ä¸ªå“¨å…µè¿˜å¾—å¾—åˆ°majorityå“¨å…µçš„æˆæƒï¼Œæ‰èƒ½æ­£å¼æ‰§è¡Œåˆ‡æ¢\n\nå¦‚æœquorum &lt; majorityï¼Œæ¯”å¦‚5ä¸ªå“¨å…µï¼Œmajorityå°±æ˜¯3ï¼Œquorumè®¾ç½®ä¸º2ï¼Œé‚£ä¹ˆå°±3ä¸ªå“¨å…µæˆæƒå°±å¯ä»¥æ‰§è¡Œåˆ‡æ¢ï¼Œä½†æ˜¯å¦‚æœquorum &gt;= majorityï¼Œé‚£ä¹ˆå¿…é¡»quorumæ•°é‡çš„å“¨å…µéƒ½æˆæƒï¼Œæ¯”å¦‚5ä¸ªå“¨å…µï¼Œquorumæ˜¯5ï¼Œé‚£ä¹ˆå¿…é¡»5ä¸ªå“¨å…µéƒ½åŒæ„æˆæƒï¼Œæ‰èƒ½æ‰§è¡Œåˆ‡æ¢\næŸ¥äº†ä¸€ä¸‹ï¼Œä¸Šé¢çš„å°±æ˜¯å“¨å…µåˆ¤æ–­å®¢è§‚ä¸‹çº¿ï¼Œå’Œå“¨å…µé€‰ä¸»çš„ç®—æ³•æè¿°ã€‚å¯ä»¥çœ‹å‡ºä½ åšçš„å®éªŒç¬¦åˆè¿™ä¸ªç»“è®ºçš„ã€‚ æ„Ÿè§‰ä½œè€…æ–‡ä¸­æŠŠquorumå’Œmajorityè¿™ä¸¤ä¸ªå‚æ•°å½“æˆäº†ä¸€ä¸ªï¼Œæ‰€ä»¥çœ‹çš„è®©äººè¿·ç³Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1650859693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1602239,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyobcyicicCQoldZofsS36xrjA2R2hk2F89pu1hCqwjlRaRG4xKkgCicZibEVdOwpfN5rWjEchrsxicSQ/132","nickname":"Geek_e8d55e","note":"","ucode":"5F13626B0E1E45","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334936,"discussion_content":"è¿˜æ˜¯æ²¡æ˜ç™½ï¼ŒæŒ‚æ‰ä¸‰ä¸ªå“¨å…µä¹‹åï¼Œæ´»ç€çš„å“¨å…µä¹Ÿè¦æ±‚æ»¡è¶³åŸå“¨å…µæ•°çš„åŠæ•°ä»¥ä¸Šæ‰èƒ½å‘èµ·ä¸»ä»åˆ‡æ¢ï¼Ÿé‚£æˆ‘è¦ä¸ºäº†èŠ‚çœèµ„æºï¼Œæœ¬æ¥å°±æ‰“ç®—å›æ”¶ä¸‰ä¸ªå“¨å…µï¼Œå‰©ä¸‹çš„ä¸¤ä¸ªå“¨å…µè¿˜ç©ä¸è½¬äº†ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1608031915,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1602239,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyobcyicicCQoldZofsS36xrjA2R2hk2F89pu1hCqwjlRaRG4xKkgCicZibEVdOwpfN5rWjEchrsxicSQ/132","nickname":"Geek_e8d55e","note":"","ucode":"5F13626B0E1E45","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334958,"discussion_content":"å“¨å…µæŒ‚æ‰å’Œä¸»åŠ¨æŠŠå“¨å…µä»é›†ç¾¤ä¸­ä¸‹çº¿æ˜¯ä¸¤å›äº‹ã€‚\n\nä¸»åŠ¨ä¸‹çº¿å“¨å…µï¼Œé›†ç¾¤èŠ‚ç‚¹æ•°ä¼šå‡1ï¼Œå“¨å…µæŒ‚æ‰åˆ™ä¸ä¼šã€‚\n\nä½ ç†è§£ä¸€ä¸‹è¿™ä¸¤è€…çš„åŒºåˆ«ã€‚","likes_number":30,"is_delete":false,"is_hidden":false,"ctime":1608035899,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":334936,"ip_address":""},"score":334958,"extra":""}]},{"author":{"id":2105684,"avatar":"https://static001.geekbang.org/account/avatar/00/20/21/54/f172b987.jpg","nickname":"ç‚œ","note":"","ucode":"79053A57BCD77A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":320263,"discussion_content":"è¯·é—®æ•°æ®å†™åˆ°ä¸»åº“ï¼Œä½†æ˜¯è¿˜æ²¡åŒæ­¥åˆ°ä»åº“ï¼Œæ­¤æ—¶ä¸»åº“ä¸å¯ç”¨ï¼Œå“¨å…µé‡æ–°é€‰ä¸¾ä»åº“å˜æˆä¸»åº“ï¼Œè¿™äº›æ•°æ®æ˜¯ä¸¢å¤±å—è¿˜æ˜¯","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1604304063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2105684,"avatar":"https://static001.geekbang.org/account/avatar/00/20/21/54/f172b987.jpg","nickname":"ç‚œ","note":"","ucode":"79053A57BCD77A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":320283,"discussion_content":"ä¸¢å¤±ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1604308759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":320263,"ip_address":""},"score":320283,"extra":""}]},{"author":{"id":1730042,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/65/fa/4842bd0f.jpg","nickname":"Holiday","note":"","ucode":"6E7EAA0D8BEED0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303065,"discussion_content":"è¯¾ä»£è¡¨ï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜æ–‡ä¸­â€œåœ¨ä¸»ä»é›†ç¾¤ä¸­ï¼Œä¸»åº“ä¸Šæœ‰ä¸€ä¸ªåä¸ºâ€œ__sentinel__:helloâ€çš„é¢‘é“ï¼Œä¸åŒå“¨å…µå°±æ˜¯é€šè¿‡å®ƒæ¥ç›¸äº’å‘ç°ï¼Œå®ç°äº’ç›¸é€šä¿¡çš„ã€‚â€ï¼Œä½†æ˜¯å“¨å…µçš„å¯åŠ¨å¦‚æœæ˜¯ä¸€ä¸ªä¸€ä¸ªå¯åŠ¨çš„è¯ã€‚æ¯”å¦‚å“¨å…µAå¯åŠ¨ï¼Œå®ƒå‘ä¸»åº“çš„__sentinel__:helloå»å‘å¸ƒè®¢é˜…ï¼Œç„¶åå“¨å…µBå†å¯åŠ¨ï¼Œå®ƒä¹Ÿå‘ä¸»åº“çš„__sentinel__:helloå»å‘å¸ƒè®¢é˜…ï¼Œè¿™ä¸ªæ—¶å€™å“¨å…µAæ˜¯å¯ä»¥è·å¾—å“¨å…µBçš„ä¿¡æ¯çš„ï¼Œä½†æ˜¯å“¨å…µBæ€ä¹ˆè·å¾—å“¨å…µAçš„ä¿¡æ¯ï¼Œå› ä¸ºå“¨å…µAå·²ç»å‘å¸ƒè¿‡äº†è‡ªå·±çš„ä¿¡æ¯äº†ã€‚éš¾é“å“¨å…µAä¼šä¸æ–­çš„å»å‘å¸ƒè‡ªå·±çš„ä¿¡æ¯ä¹ˆï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1599127391,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1730042,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/65/fa/4842bd0f.jpg","nickname":"Holiday","note":"","ucode":"6E7EAA0D8BEED0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303077,"discussion_content":"å¯¹ï¼Œä¸æ–­çš„ï¼Œå®šæ—¶å‘å¸ƒè‡ªå·±çš„æ¶ˆæ¯ã€‚","likes_number":14,"is_delete":false,"is_hidden":false,"ctime":1599130088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":303065,"ip_address":""},"score":303077,"extra":""},{"author":{"id":1730042,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/65/fa/4842bd0f.jpg","nickname":"Holiday","note":"","ucode":"6E7EAA0D8BEED0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":303083,"discussion_content":"å¥½çš„ æ„Ÿè°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599132980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":303077,"ip_address":""},"score":303083,"extra":""},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1730042,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/65/fa/4842bd0f.jpg","nickname":"Holiday","note":"","ucode":"6E7EAA0D8BEED0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571523,"discussion_content":"ç”¨psubscribe *è§‚å¯Ÿ ä¼šä¸€ç›´å‘å¸ƒè‡ªå·±ä¿¡æ¯ã€‚ æ•ˆæœåŒgossip åŸç†ä¸ä¸€æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652257098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":303065,"ip_address":""},"score":571523,"extra":""}]},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300844,"discussion_content":"è¯¾ä»£è¡¨ï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼š åœ¨å“¨å…µèŠ‚ç‚¹é€‰å–Leader èŠ‚ç‚¹çš„æ—¶å€™ï¼ŒæŸä¸ªèŠ‚ç‚¹å·²ç»æŠ•å‡ºäº† Y ç¥¨ï¼Œä½†æ˜¯è¯¥è½®æ²¡æœ‰é€‰ä¸¾å‡ºæ¥Leader, è¿™æ—¶å€™è¿™ä¸ªèŠ‚ç‚¹æ€ä¹ˆçŸ¥é“å·²ç»åˆ°äº†ä¸‹ä¸€è½®éœ€è¦ç»§ç»­æŠ•ç¥¨äº†å‘¢ï¼Ÿ ä¹Ÿå¯ä»¥è¿™æ ·é—®ï¼šä¸€ä¸ªèŠ‚ç‚¹åœ¨ä¸€è½®åªèƒ½æŠ•å‡ºä¸€ä¸ªç¥¨ï¼Œä½†æ˜¯è¿™ä¸ªèŠ‚ç‚¹æ€ä¹ˆçŸ¥é“ä¸€è½®ä»€ä¹ˆæ—¶å€™ï¼Œä»€ä¹ˆæ—¶å€™ç»“æŸçš„å‘¢ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598281223,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":1,"user_type":1,"is_pvip":true},"discussion":{"id":300859,"discussion_content":"æ¯ä¸€è½®é€‰ä¸¾éƒ½æœ‰ä¸€ä¸ªIDæ ‡è¯†ï¼Œè¿™ä¸ªIDæ˜¯é€’å¢çš„ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1598283313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300844,"ip_address":""},"score":300859,"extra":""},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":300874,"discussion_content":"è¿™ä¸ªIDæ˜¯æ‰€æœ‰å“¨å…µèŠ‚ç‚¹å…±äº«çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598284998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300859,"ip_address":""},"score":300874,"extra":""},{"author":{"id":1020573,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/92/9d/9fe6c5a9.jpg","nickname":"é¢çˆ¸","note":"","ucode":"3AC7F192732223","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":1,"user_type":1,"is_pvip":true},"discussion":{"id":301667,"discussion_content":"è¿™ä¸ªé€‰ä¸¾å…¶å®raftç®—æ³•ï¼Œæ¯ä¸ªå“¨å…µéƒ½æœ‰è‡ªå·±çš„é€‰ä¸¾ä»»æœŸï¼Œç»è¿‡å‡ ä¸ªä»»æœŸåæ˜¯å¯ä»¥æœ€ç»ˆé€‰ä¸¾å‡ºleader","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598602957,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300874,"ip_address":""},"score":301667,"extra":""}]},{"author":{"id":1124689,"avatar":"https://static001.geekbang.org/account/avatar/00/11/29/51/ca9d27ae.jpg","nickname":"ma xiao","note":"","ucode":"34062717AC15CC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300756,"discussion_content":"å¯æ˜¯åœ¨ä¸Šä¸€ç¯‡ï¼Œæ–‡ç« é‡Œå†™çš„æ˜¯å“¨å…µé›†ç¾¤åœ¨N/2+1ä¸ªå®ä¾‹åˆ¤æ–­ä¸ºä¸»è§‚ä¸‹çº¿ï¼Œæ‰ä¼šåˆ¤å®šä¸ºå®¢è§‚ä¸‹çº¿çš„å‘€ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598257248,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1124689,"avatar":"https://static001.geekbang.org/account/avatar/00/11/29/51/ca9d27ae.jpg","nickname":"ma xiao","note":"","ucode":"34062717AC15CC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300858,"discussion_content":"è¾¾åˆ°quorumåˆ™åˆ¤å®šä¸ºå®¢è§‚ä¸‹çº¿ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1598283218,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300756,"ip_address":""},"score":300858,"extra":""},{"author":{"id":2108169,"avatar":"","nickname":"Geek_621444","note":"","ucode":"9FA6C34D24FCBD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":300990,"discussion_content":"è¿™ä¸ªä¸å¯¹å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598358453,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300858,"ip_address":""},"score":300990,"extra":""},{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2108169,"avatar":"","nickname":"Geek_621444","note":"","ucode":"9FA6C34D24FCBD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300994,"discussion_content":"å“ªé‡Œä¸å¯¹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598359291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300990,"ip_address":""},"score":300994,"extra":""}]},{"author":{"id":1047423,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fb/7f/746a6f5e.jpg","nickname":"Q","note":"","ucode":"785546C617D3DF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300225,"discussion_content":"æƒ³é—®ä¸‹ï¼Œå¦‚æœåœ¨æœºå™¨èµ„æºä¸å¤šçš„æƒ…å†µä¸‹ï¼Œå“¨å…µå’Œå®ä¾‹ä¸€èµ·éƒ¨ç½²ä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„å§ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1597992387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1047423,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fb/7f/746a6f5e.jpg","nickname":"Q","note":"","ucode":"785546C617D3DF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300227,"discussion_content":"å¯ä»¥ï¼Œä½†æ˜¯æœ‰èµ„æºå°½é‡åˆ†å¼€éƒ¨ç½²ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1597993913,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300225,"ip_address":""},"score":300227,"extra":""},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1047423,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fb/7f/746a6f5e.jpg","nickname":"Q","note":"","ucode":"785546C617D3DF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571524,"discussion_content":"å¯ä»¥ã€‚è€Œä¸”è§„é¿äº†redisè¿›ç¨‹ä¸å“¨å…µè¿›ç¨‹ç½‘ç»œé—®é¢˜  ç¼ºç‚¹æ˜¯ï¼šnä¸ªè¿›ç¨‹ä½äºåŒä¸€å°è´Ÿè½½ åœ¨ä¸ç»‘æ ¸çš„æƒ…å†µä¸‹ ä¼šèµ„æºç«äº‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652257190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300225,"ip_address":""},"score":571524,"extra":""}]},{"author":{"id":1187286,"avatar":"https://static001.geekbang.org/account/avatar/00/12/1d/d6/76fe5259.jpg","nickname":"Dream.","note":"","ucode":"49B94CE5BA0D21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584399,"discussion_content":"è¿™ä¸ªæ‰€éœ€çš„èµæˆç¥¨æ•°æ˜¯é€šè¿‡å“¨å…µé…ç½®æ–‡ä»¶ä¸­çš„ quorum é…ç½®é¡¹è®¾å®šçš„ã€‚ä¾‹å¦‚ï¼Œç°åœ¨æœ‰ 5 ä¸ªå“¨å…µï¼Œquorum é…ç½®çš„æ˜¯ 3ï¼Œé‚£ä¹ˆï¼Œä¸€ä¸ªå“¨å…µéœ€è¦ 3 å¼ èµæˆç¥¨ï¼Œå°±å¯ä»¥æ ‡è®°ä¸»åº“ä¸ºâ€œå®¢è§‚ä¸‹çº¿â€äº†ã€‚è¿™ 3 å¼ èµæˆç¥¨åŒ…æ‹¬å“¨å…µè‡ªå·±çš„ä¸€å¼ èµæˆç¥¨å’Œå¦å¤–ä¸¤ä¸ªå“¨å…µçš„èµæˆç¥¨ã€‚\n\næ—¢ç„¶quorumé…ç½®çš„æ˜¯2ï¼Œé‚£ä¸€ä¸ªä»åº“æœ€å¤šä¹Ÿèƒ½è·å¾—2ç¥¨ï¼Œéš¾é“ä¸æ˜¯å¯ä»¥å®Œæˆä¸»ä»åˆ‡æ¢å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660805125,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3013303,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/fa/b7/0342db08.jpg","nickname":"å¤§æ’æ³¡é¥­","note":"","ucode":"30B882AAB67CC5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574178,"discussion_content":"æ‰€ä»¥monitorçš„quorumå’Œleaderé€‰ä¸¾çš„quorumæ˜¯åˆ†å¼€çš„ï¼Œå‰è€…é€šè¿‡å‘½ä»¤æŒ‡å®šï¼Œåè€…å¯ä»¥é…ç½®å—ï¼Œè¿˜æ˜¯æ°¸è¿œéƒ½æ˜¯majorityã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653886686,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2866331,"avatar":"","nickname":"Geek_dc018e","note":"","ucode":"7A414A5829EF99","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561539,"discussion_content":"è¯·é—®ä¸ºä»€ä¹ˆè°ƒå¤§down-after-millisecondså€¼ä¹Ÿæ„å‘³ç€ä¸»ä»åˆ‡æ¢çš„æ—¶é—´ä¼šå˜é•¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649666136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556977,"discussion_content":"ä½ å¥½ï¼Œå…³äºå›ç­”ä¸­çš„ç¬¬äºŒç‚¹\n--------------------------------------------------\nâ€œ2ã€ä½†å“¨å…µä¸èƒ½å®Œæˆä¸»ä»åˆ‡æ¢ã€‚å“¨å…µæ ‡è®°ä¸»åº“â€œå®¢è§‚ä¸‹çº¿åâ€ï¼Œåœ¨é€‰ä¸¾â€œå“¨å…µé¢†å¯¼è€…â€æ—¶ï¼Œä¸€ä¸ªå“¨å…µå¿…é¡»æ‹¿åˆ°è¶…è¿‡å¤šæ•°çš„é€‰ç¥¨(5/2+1=3ç¥¨)ã€‚ä½†ç›®å‰åªæœ‰2ä¸ªå“¨å…µæ´»ç€ï¼Œæ— è®ºæ€ä¹ˆæŠ•ç¥¨ï¼Œä¸€ä¸ªå“¨å…µæœ€å¤šåªèƒ½æ‹¿åˆ°2ç¥¨ï¼Œæ°¸è¿œæ— æ³•è¾¾åˆ°å¤šæ•°é€‰ç¥¨çš„ç»“æœã€‚â€\n--------------------------------------------------\n\nåº”æ˜¯æ²¡æœ‰è§„å®šä¸€å®šè¦è¶…è¿‡åŠæ•°ï¼Œæ ¹æ®é…ç½®è€Œæ¥ï¼Œè¿™é‡Œçš„quorumä¸º2 \n--------------------------------------------------\n\nâ€œå‡è®¾æœ‰ä¸€ä¸ª Redis é›†ç¾¤ï¼Œæ˜¯â€œä¸€ä¸»å››ä»â€ï¼ŒåŒæ—¶é…ç½®äº†åŒ…å« 5 ä¸ªå“¨å…µå®ä¾‹çš„é›†ç¾¤ï¼Œquorum å€¼è®¾ä¸º 2â€ -- ä¹Ÿå°±æ˜¯åœºæ™¯aä¸‹ï¼Œæ˜¯èƒ½å®Œæˆä¸»ä»åˆ‡æ¢çš„ã€‚\n--------------------------------------------------\n\nç†è§£ä¸å¯¹ä¹‹å¤„ï¼Œæœ›æŒ‡å‡ºï½ \nè°¢è°¢ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647593117,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1114878,"avatar":"https://static001.geekbang.org/account/avatar/00/11/02/fe/d539b96b.jpg","nickname":"æ›¹ç¿”","note":"","ucode":"B4D8B42DFB535C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548508,"discussion_content":"å¯ä»¥æä¸ªå°å†Œå“‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643243286,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1344535,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqOn7k48KXia5rf0eXpzv2EGtqGibz3eNb8QnL8X72uia0g1rBwzXef4dV2JEdz3r4bu9GC1FLIeic4UA/132","nickname":"Lee","note":"","ucode":"6B8D59A0B1A1A9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544960,"discussion_content":"â€œæ‰€ä»¥å½“ä¸€ä¸ªå“¨å…µåˆ¤æ–­ä¸»åº“â€œä¸»è§‚ä¸‹çº¿â€åï¼Œè¯¢é—®å¦å¤–ä¸€ä¸ªå“¨å…µåä¹Ÿä¼šå¾—åˆ°åŒæ ·çš„ç»“æœâ€\nååŠå¥ä¸ºä»€ä¹ˆæ˜¯ä¹Ÿä¼šåŒæ ·ç»“æœï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641791177,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2041993,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/28/89/8d953a33.jpg","nickname":"æ˜“æ°´æµå·","note":"","ucode":"36EAC398EE580B","race_medal":2,"user_type":1,"is_pvip":true},"reply_author":{"id":1344535,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqOn7k48KXia5rf0eXpzv2EGtqGibz3eNb8QnL8X72uia0g1rBwzXef4dV2JEdz3r4bu9GC1FLIeic4UA/132","nickname":"Lee","note":"","ucode":"6B8D59A0B1A1A9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572887,"discussion_content":"å› ä¸ºæ˜¯å‡è®¾äº†ä¸»åº“æ•…éšœäº†ï¼Œæ‰€æœ‰å¦å¤–ä¸€ä¸ªå“¨å…µå»pingçš„è¯ï¼Œä¹Ÿä¼šåˆ¤å®šä¸ºä¸»è§‚ä¸‹çº¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653028823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":544960,"ip_address":""},"score":572887,"extra":""}]},{"author":{"id":2550743,"avatar":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","nickname":"if...else...","note":"","ucode":"D0565908C99695","race_medal":4,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381914,"discussion_content":"å­¦ä¹ äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625287864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1110757,"avatar":"","nickname":"é’Ÿå…ˆç”Ÿ","note":"","ucode":"A5234325DB541A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375130,"discussion_content":"æ‚¨å¥½ï¼Œæˆ‘æƒ³è¯·æ•™ä¸‹ï¼Œå“¨å…µä»¬ä¸€èµ·æŠ•ç¥¨åˆ¤æ–­ Master å®¢è§‚ä¸‹çº¿å’Œå“¨å…µé€‰ä¸¾Leaderï¼Œè¿™é‡Œæ˜¯ä¸æ˜¯ä¸¤ä¸ªåŠ¨ä½œï¼Ÿä»–çš„å…ˆåé¡ºåºæ˜¯æ€ä¹ˆçš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621492757,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1110757,"avatar":"","nickname":"é’Ÿå…ˆç”Ÿ","note":"","ucode":"A5234325DB541A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375174,"discussion_content":"å…ˆåˆ¤å®šå®¢è§‚ä¸‹çº¿ï¼Œåé€‰ä¸¾leaderã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1621501422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":375130,"ip_address":""},"score":375174,"extra":""}]},{"author":{"id":1024294,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","nickname":"null","note":"","ucode":"F9039EFED6B55D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373323,"discussion_content":"k ç¥å¥½ï¼Œæƒ³è¯·æ•™ä¸€ä¸‹ï¼Œâ€œåŸºäº pub/sub æœºåˆ¶çš„å®¢æˆ·ç«¯äº‹ä»¶é€šçŸ¥â€ä¸­æåˆ°ï¼šå®¢æˆ·ç«¯è¯»å–å“¨å…µçš„é…ç½®æ–‡ä»¶åï¼Œå¯ä»¥è·å¾—å“¨å…µçš„åœ°å€å’Œç«¯å£ï¼Œå’Œå“¨å…µå»ºç«‹ç½‘ç»œè¿æ¥ã€‚\n\nå®¢æˆ·ç«¯å¦‚ä½•è¯»å–å“¨å…µçš„é…ç½®æ–‡ä»¶å–ï¼Ÿå¦‚æ­¤ sentinel master å®•æœºé‡æ–°é€‰ä¸»åï¼Œè¯¥é…ç½®æ–‡ä»¶çš„å†…å®¹ä¸å°±å¤±æ•ˆäº†ï¼Ÿ\nè°¢è°¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620697748,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1024294,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","nickname":"null","note":"","ucode":"F9039EFED6B55D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375599,"discussion_content":"åŸºå†…éƒ¨åšäº†ä¸€ä¸ªjob ä¹Ÿå°±æ˜¯serverCron()ä¼šä¸é—´ç«¯çš„å‘å‡ºinfoæŒ‡ä»¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621763068,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":373323,"ip_address":""},"score":375599,"extra":""}]},{"author":{"id":1023101,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/9c/7d/774e07f9.jpg","nickname":"studyçš„ç¨‹åºå‘˜","note":"","ucode":"E5AE9037D24429","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371048,"discussion_content":"5è¿™ä¸ªæ•°å­—æ˜¯åœ¨å“¨å…µå¯åŠ¨åï¼Œè®¢é˜…æ¶ˆæ¯åæ”¶åˆ°4ä¸ªå“¨å…µï¼Œå†åŠ ä¸Šè‡ªå·±ç®—å‡º5ï¼Œç„¶åè®°ä¸‹æ¥çš„å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619618682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1315254,"avatar":"https://static001.geekbang.org/account/avatar/00/14/11/b6/5e1158e6.jpg","nickname":"GJ","note":"","ucode":"CE310D11706D0A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337407,"discussion_content":"ä½ å¥½ï¼quorumçš„å€¼æ˜¯æ€ä¹ˆåŠ çš„ï¼Ÿä¸æ˜¯å•ä¸ªå“¨å…µæ‹¿åˆ°çš„Yå»ç´¯åŠ çš„å—ï¼Ÿå¦‚æœå“¨å…µ1å‘å‡ºè¯·æ±‚ï¼Œå“¨å…µ2ç»™äº†Nï¼Œç»™è‡ªå·±Yï¼Œé‚£quorumä¸æ˜¯1å—ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608895903,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1355831,"avatar":"https://static001.geekbang.org/account/avatar/00/14/b0/37/d654fbac.jpg","nickname":"å‡ è¿‘è™šå¹´","note":"","ucode":"28CD6486EED8E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1315254,"avatar":"https://static001.geekbang.org/account/avatar/00/14/11/b6/5e1158e6.jpg","nickname":"GJ","note":"","ucode":"CE310D11706D0A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361325,"discussion_content":"åº”è¯¥æ˜¯å¦‚æœå“¨å…µ2çŸ¥é“äº†ä¸»åº“ä¸»è§‚ä¸‹çº¿ï¼Œå°±ä¼šç»™è‡ªå·±æŠ•ç¥¨ï¼Œå¹¶ä¸”å‘é€è¯·æ±‚ç»™å…¶ä»–å“¨å…µè®©å®ƒä»¬æŠ•ç¥¨ã€‚\næ‰€ä»¥æœ€ä¸»è¦æ˜¯å“¨å…µæ˜¯å¦çŸ¥é“äº†ä¸»åº“ä¸»è§‚ä¸‹çº¿ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1616642459,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":337407,"ip_address":""},"score":361325,"extra":""},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1355831,"avatar":"https://static001.geekbang.org/account/avatar/00/14/b0/37/d654fbac.jpg","nickname":"å‡ è¿‘è™šå¹´","note":"","ucode":"28CD6486EED8E2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375600,"discussion_content":"æ¯ä¸€è½®éƒ½ä¼šæœ‰ä¸ªopoch","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621763106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":361325,"ip_address":""},"score":375600,"extra":""}]},{"author":{"id":2212143,"avatar":"https://static001.geekbang.org/account/avatar/00/21/c1/2f/5c8167aa.jpg","nickname":"æ²¹çº¸ä¼","note":"","ucode":"C2655B9F8874E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":314479,"discussion_content":"æ–‡ä¸­è¯´çš„ï¼šå…·ä½“çš„æ“ä½œæ­¥éª¤æ˜¯ï¼Œå®¢æˆ·ç«¯è¯»å–å“¨å…µçš„é…ç½®æ–‡ä»¶åï¼Œå¯ä»¥è·å¾—å“¨å…µçš„åœ°å€å’Œç«¯å£ï¼Œå’Œå“¨å…µå»ºç«‹ç½‘ç»œè¿æ¥ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®¢æˆ·ç«¯æ‰§è¡Œè®¢é˜…å‘½ä»¤ï¼Œæ¥è·å–ä¸åŒçš„äº‹ä»¶æ¶ˆæ¯ã€‚-----------å®¢æˆ·ç«¯å¹¶ä¸çŸ¥é“å“¨å…µçš„ipå’Œç«¯å£å·ï¼Œæ€ä¹ˆè·å–åˆ°å“¨å…µçš„é…ç½®æ–‡ä»¶è¯»å–å‘¢ï¼Ÿéš¾é“æ˜¯é€šè¿‡ä¸»ä»åº“è·å–ï¼Ÿå…·ä½“çš„æµç¨‹æ˜¯æ€æ ·å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603161024,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2212143,"avatar":"https://static001.geekbang.org/account/avatar/00/21/c1/2f/5c8167aa.jpg","nickname":"æ²¹çº¸ä¼","note":"","ucode":"C2655B9F8874E2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":314489,"discussion_content":"å®¢æˆ·ç«¯è¯»æœåŠ¡çš„é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶å†™äº†å“¨å…µçš„åœ°å€å’Œç«¯å£ï¼Œç„¶åå®¢æˆ·ç«¯å»è¿å“¨å…µæ‹¿ä¿¡æ¯ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1603162112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":314479,"ip_address":""},"score":314489,"extra":""},{"author":{"id":2212143,"avatar":"https://static001.geekbang.org/account/avatar/00/21/c1/2f/5c8167aa.jpg","nickname":"æ²¹çº¸ä¼","note":"","ucode":"C2655B9F8874E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":315167,"discussion_content":"å¥½çš„ï¼Œæ„Ÿè°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603245833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":314489,"ip_address":""},"score":315167,"extra":""},{"author":{"id":1977474,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/2c/82/98e2b82a.jpg","nickname":"Reborn 2.0","note":"","ucode":"BA506E7455D91C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2212143,"avatar":"https://static001.geekbang.org/account/avatar/00/21/c1/2f/5c8167aa.jpg","nickname":"æ²¹çº¸ä¼","note":"","ucode":"C2655B9F8874E2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":315953,"discussion_content":"è°¢è°¢æé—®, è¿™ä¸ªæˆ‘ä¹Ÿçº³é—·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603339362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":314479,"ip_address":""},"score":315953,"extra":""}]},{"author":{"id":1312339,"avatar":"https://static001.geekbang.org/account/avatar/00/14/06/53/29fa4e12.jpg","nickname":"âœ¨èƒ¡å°ä¸œ","note":"","ucode":"314D40A5857C17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312266,"discussion_content":"æƒ³è¯·æ•™ä¸€ä¸‹ï¼Œå¦‚æœé€‰å‡ºleaderèŠ‚ç‚¹åï¼Œåœ¨è¿›è¡Œä¸»ä»åˆ‡æ¢çš„è¿‡ç¨‹ä¸­ï¼Œé€‰å‡ºçš„leaderèŠ‚ç‚¹æŒ‚äº†ï¼Œè¿˜èƒ½æ­£å¸¸è¿›è¡Œä¸»ä»åˆ‡æ¢å˜›ï¼Ÿæ˜¯ä¸æ˜¯å°±æ— æ³•åˆ‡æ¢æ–°çš„ä¸»èŠ‚ç‚¹äº†å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602645401,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1312339,"avatar":"https://static001.geekbang.org/account/avatar/00/14/06/53/29fa4e12.jpg","nickname":"âœ¨èƒ¡å°ä¸œ","note":"","ucode":"314D40A5857C17","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312281,"discussion_content":"æ­¤æ¬¡æ— æ³•è¿›è¡Œä¸»ä»åˆ‡æ¢äº†ã€‚\n\nä½†æ˜¯å‰©ä¸‹çš„å“¨å…µé›†ç¾¤ï¼Œå¯ä»¥é‡æ–°é€‰å‡ºleaderï¼Œå†æ¬¡åˆ‡æ¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602648558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":312266,"ip_address":""},"score":312281,"extra":""},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1312339,"avatar":"https://static001.geekbang.org/account/avatar/00/14/06/53/29fa4e12.jpg","nickname":"âœ¨èƒ¡å°ä¸œ","note":"","ucode":"314D40A5857C17","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375602,"discussion_content":"ä¸‹ä¸€æ¬¡serverCronå‘ç°åæ¥ç€å¹²ä¸€æ¬¡","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621763259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":312266,"ip_address":""},"score":375602,"extra":""}]},{"author":{"id":1179028,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/94/0247f945.jpg","nickname":"å’¸é±¼","note":"","ucode":"5E79636DE48155","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301794,"discussion_content":"å…³äºå“¨å…µçš„ç›¸äº’å‘ç°ï¼ŒååŠ å…¥å“¨å…µçš„æ€ä¹ˆçŸ¥é“å·²ç»åœ¨å“¨å…µé›†ç¾¤ä¸­å…¶ä»–å“¨å…µçš„ä¿¡æ¯å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598661987,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1179028,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/94/0247f945.jpg","nickname":"å’¸é±¼","note":"","ucode":"5E79636DE48155","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301795,"discussion_content":"æ¯ä¸ªå“¨å…µéƒ½äº’ç›¸è®¢é˜…pubsub helloé¢‘é“ï¼Œé€šè¿‡è¿™ä¸ªé¢‘é“äº’ç›¸é€šä¿¡ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598662628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301794,"ip_address":""},"score":301795,"extra":""},{"author":{"id":1179028,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/94/0247f945.jpg","nickname":"å’¸é±¼","note":"","ucode":"5E79636DE48155","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":303067,"discussion_content":"åè¿ä¸Šæ¥çš„å“¨å…µè·å–åˆ°å·²è¿æ¥çš„å“¨å…µåœ°å€ç„¶ååœ¨å‘å·²è¿æ¥çš„è¿™ä¸ªå“¨å…µhelloé¢‘é“å‘é€ä¿¡æ¯ï¼Œæ˜¯è¿™ä¸ªæ„æ€ä¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599127660,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301795,"ip_address":""},"score":303067,"extra":""},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1179028,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/94/0247f945.jpg","nickname":"å’¸é±¼","note":"","ucode":"5E79636DE48155","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375603,"discussion_content":"æ˜¯çš„ è¿™é‡Œæœ‰ä¸¤ç§æ–¹å¼ã€‚ä¸€ç§æ˜¯åƒzkè¿™æ ·é…ç½®é‡Œå†™æ­» è¿˜æœ‰ä¸€ç§å°±æ˜¯pub/sub æˆ–è€…gossip åç†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621763327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":303067,"ip_address":""},"score":375603,"extra":""}]},{"author":{"id":1020573,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/92/9d/9fe6c5a9.jpg","nickname":"é¢çˆ¸","note":"","ucode":"3AC7F192732223","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301668,"discussion_content":"å›å¤ç²¾å½©çš„ä¸è¡Œä¸è¡Œçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598603024,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1671917,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqvfH3iatrDMG3YaW1LlCtibKbPe4lSib8CvWTK78emvAu0dNCQY7OOZPZfQicdCUKUyFpTcia5exNibvIQ/132","nickname":"akka","note":"","ucode":"FCD0964E761172","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300329,"discussion_content":"è¯¾ä»£è¡¨ï¼Œè¯·æ•™å‡ ä¸ªé—®é¢˜ï¼š\n1.masterå’Œslaveä¸­çš„â€œ__sentinel__:helloâ€é¢‘é“ï¼Œåªæœ‰å“¨å…µä¼šå‘é‡Œé¢publishå‘å¸ƒæ¶ˆæ¯å—ï¼Ÿé‚£ä¹ˆå“¨å…µé‡Œçš„å„ä¸ªé¢‘é“ï¼Œéƒ½æ˜¯è°å‘é‡Œé¢publishæ¶ˆæ¯çš„ï¼Ÿé™¤äº†å®¢æˆ·ç«¯å¯ä»¥è®¢é˜…è¿™äº›é¢‘é“ï¼Œç”¨æ¥è·å–æ•…éšœè½¬ç§»åæ–°masterçš„åœ°å€ä»¥å¤–ï¼Œè¿˜æœ‰è°è®¢é˜…äº†è¿™äº›é¢‘é“ï¼Ÿè®¢é˜…è¿™äº›é¢‘é“ç”¨æ¥å®ç°ä»€ä¹ˆç›®çš„ï¼Ÿ   \n   \n 2.å¦‚è€å¸ˆæ‰€è®²ï¼Œå“¨å…µåˆšè¿ä¸Šmasteræ—¶ï¼Œæ˜¯é€šè¿‡å‘masterå‘é€info replicationå‘½ä»¤æ¥å‘ç°slavesçš„ï¼Œä½†æ˜¯å¦‚æœåœ¨ä¹‹åçš„æ—¶é—´é‡Œï¼Œæœ‰ä¸€ä¸ªslaveæŒ‚æ‰äº†æˆ–è€…æœ‰ä¸€ä¸ªæ–°çš„slaveåŠ å…¥é›†ç¾¤ï¼Œé‚£ä¹ˆå“¨å…µæ˜¯å¦‚ä½•æ„ŸçŸ¥åˆ°è¿™ä¸ªå˜åŠ¨çš„ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ\n       æˆ‘å®éªŒäº†ä¸€ä¸‹ï¼š\n       å¦‚æœåœæ‰æŸä¸ªslaveï¼Œå“¨å…µæ˜¯éš”äº†å‡ ç§’é’Ÿæ‰å‘ç°çš„ï¼Œå“¨å…µæœåŠ¡çš„æŸé¢‘é“é‡Œæ”¶åˆ°äº†ä¸€æ¡â€œä¸»è§‚ä¸‹çº¿â€æ¶ˆæ¯ï¼Œåº”è¯¥æ˜¯é€šè¿‡å¤šæ¬¡pingè¿™ä¸ªslaveï¼Œç»“æœæ˜¯åœ¨ä¸€å®šçš„æ—¶é—´å†…ä¸€ç›´pingä¸é€šï¼Œæ‰€ä»¥åˆ¤æ–­æ­¤slaveâ€œä¸»è§‚ä¸‹çº¿â€äº†ï¼›\n        è€Œå¦‚æœæœ‰ä¸€ä¸ªæ–°slaveåŠ å…¥é›†ç¾¤ï¼Œç»“æœå“¨å…µç¬é—´å°±å‘ç°äº†ï¼Œå“¨å…µæœåŠ¡çš„æŸé¢‘é“é‡Œæ”¶åˆ°äº†ä¸€æ¡â€œ+slave ip port ...â€æ¶ˆæ¯ã€‚å“¨å…µæ˜¯é€šè¿‡ä»€ä¹ˆæœºåˆ¶å‘ç°çš„ï¼Ÿ\n        æˆ‘çŸ¥é“å“¨å…µæœåŠ¡é‡Œæœ‰ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œå¥½åƒæ˜¯æ¯é—´éš”10ç§’ï¼ˆç½‘ä¸Šæ–‡ç« ä¸­è¯´çš„ï¼Œconfæ–‡ä»¶é‡Œæ²¡æ‰¾åˆ°ç›¸åº”çš„é…ç½®é¡¹ï¼‰ï¼Œéƒ½ä¼šå‘masterå’Œæ‰€æœ‰slaveå‘é€infoå‘½ä»¤ï¼›ä½†æ˜¯ä»è¿™ä¸ª10ç§’çš„æ—¶é—´é—´éš”æ¥çœ‹ï¼Œè¿™ä¸ªå®šæ—¶ä»»åŠ¡å¥½åƒä¸èƒ½ç¬é—´å‘ç°å§ï¼Ÿ\n       ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598032561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1010819,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/6c/83/48e528cb.jpg","nickname":"Luke","note":"","ucode":"8368A63185356D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1671917,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqvfH3iatrDMG3YaW1LlCtibKbPe4lSib8CvWTK78emvAu0dNCQY7OOZPZfQicdCUKUyFpTcia5exNibvIQ/132","nickname":"akka","note":"","ucode":"FCD0964E761172","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300374,"discussion_content":"è€Œå¦‚æœæœ‰ä¸€ä¸ªæ–°slaveåŠ å…¥é›†ç¾¤ï¼Œç»“æœå“¨å…µç¬é—´å°±å‘ç°äº†ï¼Œå“¨å…µæœåŠ¡çš„æŸé¢‘é“é‡Œæ”¶åˆ°äº†ä¸€æ¡â€œ+slave ip port ...â€æ¶ˆæ¯ã€‚å“¨å…µæ˜¯é€šè¿‡ä»€ä¹ˆæœºåˆ¶å‘ç°çš„ï¼Ÿ\n\næ–°slaveåŠ å…¥é›†ç¾¤ï¼Œmasterèƒ½å¤Ÿæ„ŸçŸ¥åˆ°ï¼Œå¹¶ä¸”å‘__sentinel__:helloé¢‘é“pubå‘ŠçŸ¥è®¢é˜…çš„æ‰€æœ‰å“¨å…µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598068043,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300329,"ip_address":""},"score":300374,"extra":""},{"author":{"id":1671917,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqvfH3iatrDMG3YaW1LlCtibKbPe4lSib8CvWTK78emvAu0dNCQY7OOZPZfQicdCUKUyFpTcia5exNibvIQ/132","nickname":"akka","note":"","ucode":"FCD0964E761172","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1010819,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/6c/83/48e528cb.jpg","nickname":"Luke","note":"","ucode":"8368A63185356D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300395,"discussion_content":"å¥½åƒä¸æ˜¯é€šè¿‡__sentinel__:helloè¿™ä¸ªé¢‘é“ä¼ é€’å‡ºå»çš„ï¼Œæˆ‘å®éªŒè¿‡ï¼Œå½“æ–°ä»æœºåŠ å…¥é›†ç¾¤æ—¶ï¼Œè¿™ä¸ªé¢‘é“é‡Œæ²¡æœ‰ç›¸å…³çš„æ¶ˆæ¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598080579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300374,"ip_address":""},"score":300395,"extra":""},{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1671917,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqvfH3iatrDMG3YaW1LlCtibKbPe4lSib8CvWTK78emvAu0dNCQY7OOZPZfQicdCUKUyFpTcia5exNibvIQ/132","nickname":"akka","note":"","ucode":"FCD0964E761172","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300428,"discussion_content":"ä¸æ˜¯masterä¸»åŠ¨é€šçŸ¥å“¨å…µçš„ã€‚åº”è¯¥æ˜¯å“¨å…µå®šæ—¶ä»masterè·å–slaveèŠ‚ç‚¹ä¿¡æ¯çš„ï¼Œåªä¸è¿‡ä½ æµ‹è¯•æ—¶æ­£å¥½æ˜¯å“¨å…µä»masteræ‹¿ä¿¡æ¯çš„æ—¶åˆ»ï¼Œå¤šæµ‹è¯•å‡ æ¬¡ï¼Œåº”è¯¥ä¼šå‘ç°æ˜¯æœ‰å»¶è¿Ÿçš„ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1598092786,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300395,"ip_address":""},"score":300428,"extra":""}]},{"author":{"id":1312184,"avatar":"https://static001.geekbang.org/account/avatar/00/14/05/b8/8d468842.jpg","nickname":"JulyRemember","note":"","ucode":"9E3D5D60D82999","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300256,"discussion_content":"æœ‰ä¸ªé—®é¢˜é—®ä¸‹ï¼Œè€å¸ˆåœ¨è¯¾ç¨‹ä¸­æåˆ°éƒ¨ç½²å“¨å…µé›†ç¾¤çš„æ—¶å€™ä¸€å®šè¦å¤§äº3å°æœºå™¨ï¼Œæ˜¯å› ä¸ºé€‰ä¸¾é¢†å¯¼çš„æ—¶å€™æ”¶åˆ°çš„èµæˆæ•°ä¸€å®šæ˜¯å¤§äºé›†ç¾¤æ•°ä¸€åŠåŠ ä¸€å—ï¼Ÿè¿™ä¸ªæ˜¯Rediså®˜æ–¹è§„å®šæ˜¯å—ï¼Ÿå½“ç„¶è¿˜æœ‰quorumçš„æ ‡å‡†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598000197,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":5,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1312184,"avatar":"https://static001.geekbang.org/account/avatar/00/14/05/b8/8d468842.jpg","nickname":"JulyRemember","note":"","ucode":"9E3D5D60D82999","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300271,"discussion_content":"å“¨å…µé›†ç¾¤å»ºè®®æ˜¯åŸºæ•°ä¸ªæ•°ï¼Œå¦‚æœæ˜¯å¶æ•°ä¸ªï¼Œåœ¨é€‰ä¸¾æŠ•ç¥¨æ—¶å¾ˆå¤§æ¦‚ç‡å¹³ç¥¨å¯¼è‡´é€‰ä¸¾å¤±è´¥ã€‚\n\nåŸºæ•°çš„è¯è¿™ä¸ªæ¦‚ç‡å°±å¾ˆå°äº†ï¼Œæ‰€ä»¥åŸºæ•°çš„æœ€å°ä¸ªæ•°æ˜¯3ä¸ªï¼Œå½“ç„¶éƒ¨ç½²5ä¸ªä¹Ÿæ˜¯å¯ä»¥çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598007671,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300256,"ip_address":""},"score":300271,"extra":""},{"author":{"id":1513070,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibb1HJTBX85TuIYRQv3eUxib5Zdc5paH1mULBaLFZf0N6C1WxLrw6ZUc4oiaEPQEdfrQMkIjIYtTib66l8VfgrtHRQ/132","nickname":"Geek_71d4ac","note":"","ucode":"81FBA4DA79F5E4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":300300,"discussion_content":"å¥‡æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598014657,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300271,"ip_address":""},"score":300300,"extra":""},{"author":{"id":1020042,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/90/8a/288f9f94.jpg","nickname":"Kaito","note":"","ucode":"79775FA35A95F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1513070,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibb1HJTBX85TuIYRQv3eUxib5Zdc5paH1mULBaLFZf0N6C1WxLrw6ZUc4oiaEPQEdfrQMkIjIYtTib66l8VfgrtHRQ/132","nickname":"Geek_71d4ac","note":"","ucode":"81FBA4DA79F5E4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300304,"discussion_content":"æ‰“é”™äº†ï¼Œæ„Ÿè°¢æŒ‡æ­£ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598016218,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300300,"ip_address":""},"score":300304,"extra":""}]}]},{"had_liked":false,"id":243544,"user_name":"æ³¨å®šéå‡¡","can_delete":false,"product_type":"c1","uid":1113597,"ip_address":"","ucode":"80673056E131B7","user_header":"https://static001.geekbang.org/account/avatar/00/10/fd/fd/326be9bb.jpg","comment_is_top":false,"comment_ctime":1598177552,"is_pvip":true,"discussion_count":9,"race_medal":0,"score":"392440201488","product_id":100056701,"comment_content":"ä¸€ï¼Œä½œè€…è®²äº†ä»€ä¹ˆï¼Ÿ<br>å“¨å…µé›†ç¾¤çš„å·¥ä½œæœºåˆ¶<br><br>äºŒï¼Œä½œè€…æ˜¯æ€ä¹ˆæŠŠè¿™äº‹ç»™è®²æ˜ç™½çš„ï¼Ÿ<br>    1ï¼Œå“¨å…µä¹‹é—´äº’é€šæœºåˆ¶ï¼šåŸºäºpub&#47;subæœºåˆ¶ï¼Œåœ¨ä¸»åº“ä¸­æœ‰ä¸€ä¸ª&quot;__sentinel__:hello&quot;çš„é¢‘é“ï¼Œå“¨å…µä¹‹é—´äº’ç›¸å‘ç°é€šä¿¡<br>    2ï¼Œå“¨å…µä¸ä¸»ä»åº“äº’é€šæœºåˆ¶ï¼šå“¨å…µå‘ä¸»åº“å‘é€INFOæŒ‡ä»¤ï¼Œå¯ä»¥è·å–æ‰€æœ‰ä»åº“çš„ä¿¡æ¯ï¼Œå®ç°å¯¹ä¸»åº“ï¼Œä»åº“çš„ç›‘æ§<br>    3ï¼Œå“¨å…µåˆ¤å®šä¸»åº“å¼‚å¸¸æœºåˆ¶ï¼šå“¨å…µé›†ç¾¤ä¸­ä»»æ„ä¸€ä¸ªå®ä¾‹éƒ½å¯ä»¥å‘èµ·ä¸»åº“å¼‚å¸¸â€œæŠ•ç¥¨ä»²è£â€æµç¨‹<br><br>ä¸‰ï¼Œä¸ºäº†è®²æ˜ç™½ï¼Œä½œè€…éƒ½è®²äº†å“ªäº›è¦ç‚¹ï¼Ÿæœ‰å“ªäº›äº®ç‚¹ï¼Ÿ<br>    1ï¼Œäº®ç‚¹1ï¼šå“¨å…µä¹‹é—´çš„äº’åŠ¨æ˜¯é€šè¿‡å‘å¸ƒè®¢é˜…æœºåˆ¶å®Œæˆçš„ï¼Œåˆ©ç”¨è‡ªèº«çš„ç‰¹æ€§æ¥å®ç°ã€‚è¿™è®©æˆ‘è”æƒ³åˆ°kafkaå¯¹äºæ—¥æ¯ä½ç½®åç§»é‡çš„ç®¡ç†<br>    2ï¼Œè¦ç‚¹1ï¼šå“¨å…µä¹‹é—´é€šä¿¡ä¸æ˜¯å“¨å…µä¹‹é—´ä¹‹é—´è”ç³»ï¼Œè€Œæ˜¯é€šè¿‡è®¢é˜…ä¸»åº“çš„åŒä¸€é¢‘é“æ¥è·å–å½¼æ­¤çš„ä¿¡æ¯<br>    3ï¼Œè¦ç‚¹2ï¼šå“¨å…µæ˜¯é€šè¿‡INFOæŒ‡ä»¤ï¼Œä»ä¸»åº“è·å–ä»åº“ä¿¡æ¯ï¼Œå¹¶ä¸æ¯ä¸ªä»åº“å»ºç«‹è¿æ¥ï¼Œç›‘æ§æ‰€æœ‰ä¸»ä»åº“çŠ¶æ€<br>    4ï¼Œè¦ç‚¹3ï¼šå“¨å…µæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„rediså®ä¾‹ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯å¯ä»¥è®¢é˜…å“¨å…µçš„æŒ‡å®šé¢‘é“è·å¾—redisä¸»ä»åº“çš„ä¿¡æ¯<br>    5ï¼Œè¦ç‚¹4ï¼šå“¨å…µé›†ç¾¤æ‰§è¡Œä¸»ä»åˆ‡æ¢æœºåˆ¶ï¼šè°å‘ç°ï¼Œè°å°±å‘èµ·æŠ•ç¥¨æµç¨‹ï¼Œè°è·å¾—å¤šæ•°ç¥¨ï¼Œè°å°±æ˜¯å“¨å…µLeaderï¼Œç”±Leaderè´Ÿè´£ä¸»ä»åº“åˆ‡æ¢<br>    6ï¼Œè¦ç‚¹5ï¼šå“¨å…µé›†ç¾¤Leaderé€‰ä¸¾æˆåŠŸä¸å¦ï¼Œä¾èµ–äºç½‘ç»œé€šä¿¡çŠ¶å†µï¼Œç½‘ç»œæ‹¥å¡ä¼šå¯¼è‡´é€‰ä¸¾å¤±è´¥ï¼Œé‡æ–°è¿›è¡Œæ–°ä¸€è½®é€‰ä¸¾<br><br>å››ï¼Œå¯¹äºä½œè€…æ‰€è®²ï¼Œæˆ‘æœ‰å“ªäº›å‘æ•£æ€§æ€è€ƒï¼Ÿ<br><br>äº”ï¼Œåœ¨æœªæ¥çš„å“ªäº›åœºæ™¯é‡Œï¼Œæˆ‘å¯ä»¥ä½¿ç”¨å®ƒï¼Ÿ<br><br>å…­ï¼Œç•™è¨€åŒºçš„æ”¶è·ï¼šï¼ˆæ„Ÿè°¢ @ å°å–µå–µ çš„æé—®ï¼‰<br>    1ï¼Œå“¨å…µæŠ•ç¥¨æœºåˆ¶ï¼š<br>            aï¼šå“¨å…µå®ä¾‹åªæœ‰åœ¨è‡ªå·±åˆ¤å®šä¸»åº“ä¸‹çº¿æ—¶ï¼Œæ‰ä¼šç»™è‡ªå·±æŠ•ç¥¨ï¼Œè€Œå…¶ä»–çš„å“¨å…µå®ä¾‹ä¼šæŠŠç¥¨æŠ•ç»™ç¬¬ä¸€ä¸ªæ¥è¦ç¥¨çš„è¯·æ±‚ï¼Œå…¶åçš„éƒ½æ‹’ç»<br>            bï¼šå¦‚æœå‡ºç°å¤šä¸ªå“¨å…µåŒæ—¶å‘ç°ä¸»åº“ä¸‹çº¿å¹¶ç»™è‡ªå·±æŠ•ç¥¨ï¼Œå¯¼è‡´æŠ•ç¥¨é€‰ä¸¾å¤±è´¥ï¼Œå°±ä¼šè§¦å‘æ–°ä¸€è½®æŠ•ç¥¨ï¼Œç›´è‡³æˆåŠŸ<br><br>    2ï¼Œå“¨å…µLeaderåˆ‡æ¢ä¸»ä»åº“çš„æœºåˆ¶ï¼šï¼ˆæ„Ÿè°¢ @Kaito ï¼Œ@Darren   å¤§ç¥çš„è§£ç­”ï¼‰<br>            å“¨å…µæˆä¸ºLeaderçš„å¿…è¦æ¡ä»¶ï¼šaï¼šè·å¾—åŠæ•°ä»¥ä¸Šçš„ç¥¨æ•°ï¼Œbï¼šå¾—åˆ°çš„ç¥¨æ•°è¦è¾¾åˆ°é…ç½®çš„quorumé˜€å€¼<br>            ä¸»ä»åˆ‡æ¢åªèƒ½ç”±Leaderæ‰§è¡Œï¼Œè€Œæˆä¸ºLeaderæœ‰ä¸¤ä¸ªå¿…è¦çš„æ¡ä»¶ï¼Œæ‰€ä»¥å½“å“¨å…µé›†ç¾¤ä¸­å®ä¾‹å¼‚å¸¸è¿‡å¤šæ—¶ï¼Œä¼šå¯¼è‡´ä¸»ä»åº“æ— æ³•åˆ‡æ¢<br>        ","like_count":92,"discussions":[{"author":{"id":1175246,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ee/ce/c024a857.jpg","nickname":"è—é”‹","note":"","ucode":"D5F811B16725A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368043,"discussion_content":"è€å“¥ï¼Œå…¶å®ä½ å’ŒKaitoå¤§ç¥éƒ½æ˜¯å€¼å¾—å¤§å®¶å­¦ä¹ çš„ï¼Œä¸å¿…è°¦è™šã€‚ä»Kaitoé‚£é‡Œå­¦åˆ°çš„æ˜¯å¯¹é—®é¢˜å’ŒçŸ¥è¯†æ›´æ·±å±‚æ¬¡çš„æŒæ¡ï¼Œè¿™ç§æŒæ¡æ˜¯å¤§é‡ç†è®ºç»“åˆå®è·µå‡ºæ¥çš„ä¸œè¥¿ï¼Œå¯¹äºæˆ‘ä»¬è‡ªèº«å¾ˆæœ‰å€Ÿé‰´æ„ä¹‰ã€‚è€Œä»ä½ è¿™é‡Œå­¦åˆ°çš„æ˜¯æ›´å¤šçš„æ˜¯è¯»ä¹¦å­¦ä¹ çš„ä¸€ç§æ–¹å¼å’Œæ€è·¯ï¼Œä¹Ÿå¾ˆæœ‰å€Ÿé‰´ä»·å€¼ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1618549573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2028945,"avatar":"","nickname":"Geek5198","note":"","ucode":"2BEBE6A39D9A0E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381547,"discussion_content":"ä½ å’ŒKç¥ï¼Œä¸€ä¸ªæ˜¯å­¦ä¹ å§”å‘˜æ•´ç†ç¬”è®°ï¼Œä¸€ä¸ªæ˜¯è¯¾ä»£è¡¨å¸®å¿™è§£ç­”åŒå­¦é—®é¢˜ï¼Œéƒ½æ˜¯æ£’æ£’å“’","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1625123106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2104255,"avatar":"https://static001.geekbang.org/account/avatar/00/20/1b/bf/48de2ca3.jpg","nickname":"è„šè¸å®åœ°ï¼Œç ¥ç ºå‰è¡Œ","note":"","ucode":"273EAD9741748D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349078,"discussion_content":"æˆ‘ä¼šä¸€ç›´å‘ä½ å­¦ä¹ ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1612875821,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1310798,"avatar":"https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg","nickname":"å´å°æ™º","note":"","ucode":"C7C9F58B5C9F7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325094,"discussion_content":"è€å“¥çš„æ€è·¯ï¼Œæ‰æ˜¯è¯»ä¸“æ çš„æ­£ç¡®æ‰“å¼€æ–¹å¼å•Šï¼Œèµä¸€ä¸ªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1605234364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2027258,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/ee/fa/31361552.jpg","nickname":"X","note":"","ucode":"688D816A4931CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":567929,"discussion_content":" bï¼šå¦‚æœå‡ºç°å¤šä¸ªå“¨å…µåŒæ—¶å‘ç°ä¸»åº“ä¸‹çº¿å¹¶ç»™è‡ªå·±æŠ•ç¥¨ï¼Œè¿™ä¸ªä¸»åº“ä¸‹çº¿æ˜¯æŒ‡çš„å®¢è§‚ä¸‹çº¿å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651029862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1181844,"avatar":"https://static001.geekbang.org/account/avatar/00/12/08/94/2c22bd4e.jpg","nickname":"å…‹é‡Œæ–¯","note":"","ucode":"00B755C10AC1C3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":405287,"discussion_content":"åŠ ä¸ªå¥½å‹ä¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634549283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2144915,"avatar":"https://static001.geekbang.org/account/avatar/00/20/ba/93/7d58263a.jpg","nickname":"æ¢¦ä¹‹å…‰","note":"","ucode":"2E808240409BDD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391617,"discussion_content":"è€å“¥çš„å­¦ä¹ æ–¹å¼çœŸçš„å€¼å¾—å€Ÿé‰´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630553519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1411419,"avatar":"https://static001.geekbang.org/account/avatar/00/15/89/5b/b014ce14.jpg","nickname":"å°äº”","note":"","ucode":"B7B1F121837CD9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378889,"discussion_content":"å¥½çš„å­¦ä¹ æ–¹å¼ï¼Œå‘å¤§ä½¬å­¦ä¹ ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623489885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2104255,"avatar":"https://static001.geekbang.org/account/avatar/00/20/1b/bf/48de2ca3.jpg","nickname":"è„šè¸å®åœ°ï¼Œç ¥ç ºå‰è¡Œ","note":"","ucode":"273EAD9741748D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349076,"discussion_content":"ä¸ºä»€ä¹ˆä½œè€…ä¸å›å¤ä½ å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612875797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243142,"user_name":"Darren","can_delete":false,"product_type":"c1","uid":1254968,"ip_address":"","ucode":"CCD2B2C492BE9A","user_header":"https://static001.geekbang.org/account/avatar/00/13/26/38/ef063dc2.jpg","comment_is_top":false,"comment_ctime":1597975140,"is_pvip":true,"discussion_count":4,"race_medal":0,"score":"91792288356","product_id":100056701,"comment_content":"1ã€å¯ä»¥æ­£ç¡®çš„åˆ¤æ–­ä¸»åº“â€œå®¢è§‚ä¸‹çº¿â€ï¼Œä»¥ä¸ºå…¶ä¸­ä¸€ä¸ªå“¨å…µå·²ç»è·å¾—äº†â€œå®¢è§‚ä¸‹çº¿â€æ‰€éœ€è¦çš„æŠ•ç¥¨æ•°ï¼›<br>2ã€ä¸èƒ½è¿›è¡Œè‡ªåŠ¨çš„ä¸»ä»åˆ‡æ¢ï¼Œå› ä¸ºåœ¨ä¸»ä»åˆ‡æ¢çš„æ—¶å€™ï¼Œå¿…é¡»é€‰æ‹©å‡ºä¸€ä¸ªä¸»å“¨å…µï¼Œä½†æ˜¯é€‰æ‹©ä¸»å“¨å…µæœ‰2ä¸ªæ¡ä»¶ï¼š<br>\t2.1 æ‹¿åˆ°åŠæ•°ä»¥ä¸Šçš„èµæˆç¥¨ï¼›<br>\t2.2 æ‹¿åˆ°çš„ç¥¨æ•°åŒæ—¶è¿˜éœ€è¦å¤§äºç­‰äºå“¨å…µé…ç½®æ–‡ä»¶ä¸­çš„ quorum å€¼ã€‚<br>\tæ­¤æ—¶å¯ä»¥æ»¡è¶³æŠ•ç¥¨æ•°ï¼Œä½†æ˜¯æ‹¿ä¸åˆ°åŠæ•°ä»¥ä¸Šçš„æŠ•ç¥¨ï¼Œå› æ­¤æ— æ³•é€‰å‡ºä¸»å“¨å…µï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œä¸»ä»åˆ‡æ¢ã€‚<br>3ã€å“¨å…µçš„å®ä¾‹ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œå› ä¸ºå“¨å…µçš„é€‰ä¸¾ä½¿ç”¨çš„æ˜¯Raftåè®®ï¼Œè¿™ä¸ªåè®®æ˜¯Paxosåè®®çš„å˜ç§ï¼Œè¿™ç§åè®®åœ¨é€‰ä¸»æ—¶ï¼Œéœ€è¦æ‰€æœ‰çš„èŠ‚ç‚¹å‚ä¸æŠ•ç¥¨ï¼Œæ‰€ä»¥èŠ‚ç‚¹è¶Šå¤šï¼Œé€‰ä¸¾è€—æ—¶å¯èƒ½å°±ä¼šæ›´ä¹…ï¼Œæ‰€ä»¥æ ¹æ®å¯¹æœåŠ¡SLAçš„è¦æ±‚ï¼Œè¯„ä¼°ä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½å‡ºç°é—®é¢˜çš„æ¦‚ç‡ï¼Œé€‰æ‹©åˆé€‚çš„å“¨å…µæ•°é‡ã€‚<br>4ã€down-after-millisecondsä¸æ˜¯è¶Šå¤§è¶Šå¥½çš„ï¼Œè™½ç„¶å¯ä»¥å‡å°‘è¯¯åˆ¤çš„æ¦‚ç‡ï¼Œä½†æ˜¯é—®é¢˜çœŸæ­£å‘ç”Ÿæ—¶ï¼ŒæœåŠ¡çš„ä¸å¯ç”¨çŠ¶æ€ä¹Ÿä¼šæ›´ä¹…ï¼Œæ‰€ä»¥down-after-millisecondsè¦æ ¹æ®çœŸå®çš„ä¸šåŠ¡åœºæ™¯ï¼Œè¿›è¡Œå–èˆã€‚","like_count":21,"discussions":[{"author":{"id":1602239,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyobcyicicCQoldZofsS36xrjA2R2hk2F89pu1hCqwjlRaRG4xKkgCicZibEVdOwpfN5rWjEchrsxicSQ/132","nickname":"Geek_e8d55e","note":"","ucode":"5F13626B0E1E45","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334937,"discussion_content":"ä½ å¥½ï¼Œæœ‰ä¸ªé—®é¢˜è¯·æ•™ä¸‹ï¼Œé€‰æ‹©ä¸»å“¨å…µéœ€è¦åŠæ•°ä»¥ä¸Šé€‰ç¥¨ï¼Œè¿™ä¸ªåŠæ•°æ˜¯æŒ‡å½“å‰æ´»ç€çš„å“¨å…µæ•°çš„åŠæ•°ï¼Œè¿˜æ˜¯åŸå…ˆæœ€å¤šå“¨å…µæ•°æ—¶çš„åŠæ•°ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608032089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1016575,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/82/ff/00e7614e.jpg","nickname":"robyy","note":"","ucode":"773337C9942A7F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1602239,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyobcyicicCQoldZofsS36xrjA2R2hk2F89pu1hCqwjlRaRG4xKkgCicZibEVdOwpfN5rWjEchrsxicSQ/132","nickname":"Geek_e8d55e","note":"","ucode":"5F13626B0E1E45","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346706,"discussion_content":"åŸå…ˆï¼ˆæ€»å…±ï¼‰çš„å“¨å…µæ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612041784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":334937,"ip_address":""},"score":346706,"extra":""}]},{"author":{"id":1150927,"avatar":"https://static001.geekbang.org/account/avatar/00/11/8f/cf/890f82d6.jpg","nickname":"é‚£æ—¶åˆ»","note":"","ucode":"B0D150856C3A4A","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300208,"discussion_content":"è¯·é—®ä¸€ä¸‹ï¼Œæ‚¨æåˆ°å“¨å…µä½¿ç”¨äº†raftåè®®ï¼Œä½†æ˜¯æˆ‘ç¿»äº†redisæ–‡æ¡£å’Œä»£ç ï¼Œå¹¶æ²¡æœ‰å‘ç°raftçš„å½±å­ã€‚è¯·é—®æ‚¨æ˜¯åœ¨å“ªé‡Œçœ‹åˆ°çš„å‘¢ï¼Ÿ\nå¦å¤–æˆ‘çœ‹åˆ°ä¸ªredis-raftä½†æ˜¯è²Œä¼¼å¾—ç­‰åˆ°7.0æ‰æœ‰å¯èƒ½release...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597986732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1254968,"avatar":"https://static001.geekbang.org/account/avatar/00/13/26/38/ef063dc2.jpg","nickname":"Darren","note":"","ucode":"CCD2B2C492BE9A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1150927,"avatar":"https://static001.geekbang.org/account/avatar/00/11/8f/cf/890f82d6.jpg","nickname":"é‚£æ—¶åˆ»","note":"","ucode":"B0D150856C3A4A","race_medal":1,"user_type":1,"is_pvip":false},"discussion":{"id":300215,"discussion_content":"http://redis.cn/topics/sentinel.html","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1597989347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300208,"ip_address":""},"score":300215,"extra":""}]}]},{"had_liked":false,"id":243764,"user_name":"å•","can_delete":false,"product_type":"c1","uid":1210890,"ip_address":"","ucode":"8F08E2CB81C4C3","user_header":"https://static001.geekbang.org/account/avatar/00/12/7a/0a/0ce5c232.jpg","comment_is_top":false,"comment_ctime":1598269594,"is_pvip":false,"replies":[{"id":"89803","content":"æœ‰å¸®åŠ©å°±å¥½ :D","user_name":"ä½œè€…å›å¤","user_name_real":"è’‹å¾·é’§","uid":"1609687","ctime":1598283039,"ip_address":"","comment_id":243764,"utype":1}],"discussion_count":4,"race_medal":0,"score":"74612713626","product_id":100056701,"comment_content":"è¿™ç¯‡æ–‡ç« å¤ªå¥½äº†ï¼Œç›´æ¥è§£å†³äº†ä¸€ä¸ªå›°æƒ‘æˆ‘å¾ˆä¹…çš„é—®é¢˜ï¼Œæˆ‘ä¸€ç›´æŠŠåˆ¤æ–­ä¸‹çº¿å’Œé€‰ä¸»ä¸»å½“æˆäº†åŒä¸€ä»¶äº‹ï¼ŒæŠŠquorumå½“æˆæ˜¯åˆ¤æ–­ä¸‹çº¿å’Œé€‰ä¸¾leaderçš„é˜€å€¼ï¼ŒåŸæ¥åˆ¤æ–­ä¸‹çº¿è¿˜é€‰ä¸»æ˜¯ä¸¤ä¸ªåˆ†å¼€çš„äº‹æƒ…","like_count":17,"discussions":[{"author":{"id":1609687,"avatar":"https://static001.geekbang.org/account/avatar/00/18/8f/d7/fb60129d.jpg","nickname":"è’‹å¾·é’§","note":"","ucode":"833985C2C37C0A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504388,"discussion_content":"æœ‰å¸®åŠ©å°±å¥½ :D","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598283039,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1227840,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/40/2279cfb5.jpg","nickname":"å¤§åŠ›æ°´æ‰‹Jerry","note":"","ucode":"E4A6C71E275DB5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375072,"discussion_content":"å¯ä»¥å‚è€ƒï¼šhttps://redis.io/topics/sentinel\n1. The quorum is the number of Sentinels that need to agree about the fact the master is not reachable, in order to really mark the master as failing, and eventually start a failover procedure if possible.\n2. However the quorum is only used to detect the failure. In order to actually perform a failover, one of the Sentinels need to be elected leader for the failover and be authorized to proceed. This only happens with the vote of the majority of the Sentinel processes.","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621475042,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2094925,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/f7/4d/09554c96.jpg","nickname":"iron bo","note":"","ucode":"4BFB1331637AA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369947,"discussion_content":"é˜ˆå€¼ ä¸æ˜¯fazhi","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1619228074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1415619,"avatar":"https://static001.geekbang.org/account/avatar/00/15/99/c3/e4f408d4.jpg","nickname":"é™Œå…®","note":"","ucode":"00CE47CAECD5CD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":358650,"discussion_content":"æˆ‘ä¹Ÿç†è§£å·®äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616028069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292097,"user_name":"æ‚Ÿç©ºèŠæ¶æ„","can_delete":false,"product_type":"c1","uid":1123163,"ip_address":"","ucode":"C2F482A0CF8AF1","user_header":"https://static001.geekbang.org/account/avatar/00/11/23/5b/983408b9.jpg","comment_is_top":false,"comment_ctime":1620692064,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"61750234208","product_id":100056701,"comment_content":"é€‰ä¸¾leaderçš„è¿‡ç¨‹å’Œåˆ†å¸ƒå¼Raftåè®®å¾ˆåƒã€‚ä¹‹å‰å†™è¿‡ä¸€ç¯‡ä»‹ç»Raftæœºåˆ¶çš„æ–‡ç« ï¼Œå¯ä»¥çœ‹çœ‹ï¼šã€Šç”¨åŠ¨å›¾è®²è§£åˆ†å¸ƒå¼Raftã€‹https:&#47;&#47;mp.weixin.qq.com&#47;s&#47;US12ux7osqH_L0CtQyw-9A","like_count":14},{"had_liked":false,"id":243812,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1598281203,"is_pvip":true,"discussion_count":2,"race_medal":1,"score":"35958019571","product_id":100056701,"comment_content":"åœ¨å“¨å…µèŠ‚ç‚¹é€‰å–Leader èŠ‚ç‚¹çš„æ—¶å€™ï¼ŒæŸä¸ªèŠ‚ç‚¹å·²ç»æŠ•å‡ºäº† Y ç¥¨ï¼Œä½†æ˜¯è¯¥è½®æ²¡æœ‰é€‰ä¸¾å‡ºæ¥Leader, è¿™æ—¶å€™è¿™ä¸ªèŠ‚ç‚¹æ€ä¹ˆçŸ¥é“å·²ç»åˆ°äº†ä¸‹ä¸€è½®éœ€è¦ç»§ç»­æŠ•ç¥¨äº†å‘¢ï¼Ÿ ä¹Ÿå¯ä»¥è¿™æ ·é—®ï¼šä¸€ä¸ªèŠ‚ç‚¹åœ¨ä¸€è½®åªèƒ½æŠ•å‡ºä¸€ä¸ªç¥¨ï¼Œä½†æ˜¯è¿™ä¸ªèŠ‚ç‚¹æ€ä¹ˆçŸ¥é“ä¸€è½®ä»€ä¹ˆæ—¶å€™ï¼Œä»€ä¹ˆæ—¶å€™ç»“æŸçš„å‘¢ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1046714,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f8/ba/14e05601.jpg","nickname":"çº¦ä¹¦äºš","note":"","ucode":"81EA27ADD9EC1A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346000,"discussion_content":"æœ‰epochçš„æ¦‚å¿µï¼Œä¸è¿‡å¯èƒ½æ˜¯è€ƒè™‘å¤ªå¤æ‚æ–‡ç« æ²¡æ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611836086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1618828,"avatar":"","nickname":"é¢å‘å·¥èµ„ç¼–ç¨‹","note":"","ucode":"07F797F021BDD0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306492,"discussion_content":"æ„Ÿè§‰ä¼šæœ‰äº‹ä»¶ï¼Œä¸ç„¶ä¸çŸ¥é“ä¸€è½®æŠ•ç¥¨ä»€ä¹ˆæ—¶å€™ç»“æŸï¼Œä»€ä¹ˆæ—¶å€™è¦é‡ç½®è‡ªå·±ä¸Šä¸€è½®çš„æŠ•ç¥¨ï¼Œè¿™ç¥¨å°±æ²¡æ³•æŠ•å¤šæ¬¡äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600302089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243100,"user_name":"kingdompeak","can_delete":false,"product_type":"c1","uid":1799114,"ip_address":"","ucode":"870C9E0726D747","user_header":"https://static001.geekbang.org/account/avatar/00/1b/73/ca/9c5d7e55.jpg","comment_is_top":false,"comment_ctime":1597966866,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"23072803346","product_id":100056701,"comment_content":"1.å¯ä»¥åˆ¤æ–­ä¸»åº“â€œå®¢è§‚ä¸‹çº¿â€ã€‚æ¯”å¦‚å“¨å…µå®ä¾‹1åˆ¤æ–­ä¸»åº“ä¸ºå®¢è§‚ä¸‹çº¿ï¼Œç„¶åå‘å“¨å…µå®ä¾‹2å‘é€is-master-down-by-addrå‘½ä»¤ï¼Œå¦‚æœå“¨å…µå®ä¾‹2æ­¤æ—¶ä¹Ÿåˆ¤æ–­ä¸»åº“ä¸ºå®¢è§‚ä¸‹çº¿ï¼Œå°±ä¼šè¿”å›Yï¼Œæ­¤æ—¶å“¨å…µå®ä¾‹1å°±ä¼šæœ‰ä¸¤ä¸ªYï¼ˆåŒ…æ‹¬è‡ªå·±çš„ï¼‰ï¼Œæ»¡è¶³é…ç½®é¡¹quorumï¼Œæ‰€ä»¥å°±å¯ä»¥åˆ¤æ–­ä¸»åº“å®¢è§‚ä¸‹çº¿ã€‚<br>2.ä¸èƒ½è¿›è¡Œä¸»ä»è¿›è¡Œä¸»ä»åˆ‡æ¢å‰éœ€è¦é€‰æ‰§è¡Œåˆ‡æ¢æ“ä½œçš„Leaderã€‚ç”±äºä¸¤ä¸ªå“¨å…µå®ä¾‹åœ¨é€‰Leaderçš„äº‹æƒ…ä¸Šéƒ½åªä¼šç»™è‡ªå·±æŠ•ç¥¨ï¼Œæ‰€ä»¥å„è‡ªçš„å¾—ç¥¨æ•°åªèƒ½ä¸º1ï¼Œæ»¡è¶³ä¸äº†æˆä¸ºLeaderçš„ä¸¤ä¸ªæ¡ä»¶ï¼ˆ1.å¾—ç¥¨æ•°å¤§äºå“¨å…µå®ä¾‹æ•°çš„ä¸€åŠï¼›2.æ»¡è¶³quorumé…ç½®é¡¹ï¼‰ï¼Œæ‰€ä»¥é€‰ä¸å‡ºLeaderï¼Œè‡ªç„¶æ— æ³•æ‰§è¡Œä¸»ä»åˆ‡æ¢ã€‚<br>3.è°ƒå¤§æ­¤å‚æ•°å¯¹è¯¯åˆ¤æœ‰å¥½å¤„ï¼Œç”±äºå­˜æ´»çš„å“¨å…µå®ä¾‹åªæœ‰ä¸¤ä¸ªï¼Œå¦‚æœæ°å¥½æŸæ®µæ—¶é—´ï¼Œä¸¤ä¸ªå®ä¾‹ä¸ä¸»åº“çš„ç½‘ç»œè¿æ¥ä¸å¥½ï¼Œåˆ™å¾ˆå®¹æ˜“éƒ½å°†å…¶æ ‡è®°ä¸ºä¸»è§‚ä¸‹çº¿ï¼Œè¿›è€Œå°±æ ‡è®°ä¸ºå®¢è§‚ä¸‹çº¿äº†ï¼Œè¿›è€Œå°±äº§ç”Ÿäº†è¯¯åˆ¤ï¼Œæ—¶é—´é•¿ç‚¹ï¼Œåœ¨å“¨å…µå®ä¾‹å°‘çš„æƒ…å†µä¸‹ä¼šå‡å°‘è¯¯åˆ¤æƒ…å†µçš„å‘ç”Ÿã€‚","like_count":5,"discussions":[{"author":{"id":1780797,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2c/3d/0bd58aa4.jpg","nickname":"Em","note":"","ucode":"32012A5C603C8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576147,"discussion_content":"å“¨å…µ1å°±èƒ½ç›´æ¥åˆ¤æ–­å®¢è§‚ä¸‹çº¿äº†?       å…ˆä¸»è§‚å§.........","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655302130,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1047423,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fb/7f/746a6f5e.jpg","nickname":"Q","note":"","ucode":"785546C617D3DF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300156,"discussion_content":"éš¾æ€ªæˆ‘ä¸€ç›´åˆ‡æ¢ä¸æˆåŠŸï¼Œå­¦ä¹ äº†ï¼ŒåŸæ¥è¿˜è¦è‡ªå·±ç»™è‡ªå·±æŠ•ä¸€ç¥¨çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597971524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1799114,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/73/ca/9c5d7e55.jpg","nickname":"kingdompeak","note":"","ucode":"870C9E0726D747","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1047423,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fb/7f/746a6f5e.jpg","nickname":"Q","note":"","ucode":"785546C617D3DF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300200,"discussion_content":"å“ˆå“ˆï¼Œå“¨å…µå¯¹è‡ªå·±æœ‰ä¿¡å¿ƒï¼Œæœ‰ä¸Šè¿›å¿ƒï¼Œå‹‡äºæŠ•è‡ªå·±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597983283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300156,"ip_address":""},"score":300200,"extra":""}]}]},{"had_liked":false,"id":245116,"user_name":"å¯æ€œå¤§ç°ç‹¼","can_delete":false,"product_type":"c1","uid":1928373,"ip_address":"","ucode":"6CA9D6D460B967","user_header":"https://static001.geekbang.org/account/avatar/00/1d/6c/b5/32374f93.jpg","comment_is_top":false,"comment_ctime":1598839805,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"18778708989","product_id":100056701,"comment_content":"è€å¸ˆä½ å¥½ã€‚çœ‹åˆ°â€œåŒæ—¶ï¼Œå“¨å…µåˆé€šè¿‡ INFO å‘½ä»¤ï¼Œè·å¾—äº†ä»åº“è¿æ¥ä¿¡æ¯ï¼Œä¹Ÿèƒ½å’Œä»åº“å»ºç«‹è¿æ¥ï¼Œå¹¶è¿›è¡Œç›‘æ§äº†â€è¿™å¥è¯ã€‚æˆ‘ç¿»äº†ä¸€ä¸‹ä»£ç sentinel.c&#47;sentinelSendPeriodicCommandsã€‚å‘ç°sentinelSendPeriodicCommandsé‡Œæœ‰ä¸€è¡Œä»£ç ï¼š<br>redisAsyncCommand(ri-&gt;cc, sentinelInfoReplyCallback, NULL, &quot;INFO&quot;);<br>çš„ç¡®å“¨å…µä¹Ÿæ˜¯ä¼šå¾€ä»åº“å‘é€INFOå‘½ä»¤çš„ï¼Œè€Œä»åº“çš„INFOè¿”å›å€¼ä¸­ï¼Œæˆ‘å‘ç°åŒ…å«ä»¥ä¸‹çš„å†…å®¹ï¼š<br>run_id:d7e50cc730c3851fcb9d8b4b6af425f59e5207a6<br>slave_repl_offset:140354728<br>slave_priority:100<br>07èŠ‚é‡Œè¯´çš„ä¸‰è½®æ‰“åˆ†ï¼Œæ˜¯ä¸æ˜¯æ ¹æ®ä»åº“INFOç›‘æ§ä¿¡æ¯æ¥è¿›è¡Œæ‰“åˆ†çš„ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼Œç¬¬ä¸€è½®æ ¹æ®slave_priorityï¼Œç¬¬äºŒè½®æ ¹æ®slave_repl_offsetï¼Œç¬¬ä¸‰è½®æ ¹æ®run_idã€‚æ„Ÿè§‰å’Œå‰é¢å†…å®¹ä¸²èµ·æ¥äº†ã€‚<br>ä¸å¯¹çš„åœ°æ–¹ï¼Œéº»çƒ¦è€å¸ˆçº é”™ä¸‹ã€‚","like_count":4},{"had_liked":false,"id":243111,"user_name":"å°è´¤","can_delete":false,"product_type":"c1","uid":1045642,"ip_address":"","ucode":"BF81E83E5CCEF2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f4/8a/ab9e3028.jpg","comment_is_top":false,"comment_ctime":1597971085,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18777840269","product_id":100056701,"comment_content":"down-after-milliseconds è¿™ä¸ªå‚æ•°ä¸€èˆ¬è®¾ç½®å¤šå¤§åˆé€‚å‘¢ï¼Ÿ","like_count":4},{"had_liked":false,"id":341933,"user_name":"ivhong","can_delete":false,"product_type":"c1","uid":2659871,"ip_address":"","ucode":"9947B228807AC9","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ8ic8eLTo5rnqIMJicUfpkVBrOUJAW4fANicKIbHdC54O9SOdwSoeK6o8icibaUbh7ZUXAkGF9zwHqo0Q/132","comment_is_top":false,"comment_ctime":1649923750,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10239858342","product_id":100056701,"comment_content":"æˆ‘æœ‰å¦ä¸€ä¸ªé—®é¢˜å¾ˆå›°æƒ‘ï¼Œå¦‚è¯¾åé—®é¢˜ï¼Œä¸€ä¸ª1ä¸»4ä»çš„redisé›†ç¾¤ï¼Œ5ä¸ªå“¨å…µé›†ç¾¤ï¼Œæ˜¯ä¸æ˜¯å¾—éœ€è¦10å°æœåŠ¡å™¨ï¼Ÿé‚£ä¹ˆç»´æŠ¤redisé›†ç¾¤çš„æˆæœ¬æ˜¯ä¸æ˜¯æœ‰äº›å¤ªé«˜äº†ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬å°å…¬å¸æ§åˆ¶æˆæœ¬å¾ˆä¸¥æ ¼ï¼Œredisé›†ç¾¤1ä¸»2ä»ï¼Œè‡³å°‘3ä¸ªå“¨å…µåšå“¨å…µé›†ç¾¤ï¼Œé‚£ä¹ˆå°±éœ€è¦6å°æœåŠ¡å™¨äº†ï½å…¬å¸å¯èƒ½ç”³è¯·ä¸ä¸‹æ¥è¿™ä¹ˆå¤šçš„é’±","like_count":2},{"had_liked":false,"id":243325,"user_name":"èŒƒé—²","can_delete":false,"product_type":"c1","uid":1073125,"ip_address":"","ucode":"F21FD7DF6BA53C","user_header":"https://static001.geekbang.org/account/avatar/00/10/5f/e5/54325854.jpg","comment_is_top":false,"comment_ctime":1598059607,"is_pvip":false,"replies":[{"id":"89693","content":"ç†è§£åˆ°ä½äº†ï¼<br><br>ä¸è¿‡ï¼Œä¸€èˆ¬æˆ‘ä»¬è¿˜æ˜¯å«ä¸»è§‚ä¸‹çº¿å’Œå®¢è§‚ä¸‹çº¿æ›´å¤šäº›ã€‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è’‹å¾·é’§","uid":"1609687","ctime":1598074502,"ip_address":"","comment_id":243325,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10187994199","product_id":100056701,"comment_content":"å“¨å…µåˆ¤æ–­ä¸‹çº¿åˆ†ä¸ºå¯èƒ½ä¸‹çº¿å’Œç¡®å®šä¸‹çº¿ä¸¤ç§çŠ¶æ€ã€‚<br>åœ¨è¯¾åçš„ä¾‹å­ä¸­ï¼Œ5ä¸ªå“¨å…µæ­£å¸¸2ä¸ªï¼Œå¼‚å¸¸3ä¸ªï¼Œqurumä¸º2ï¼ˆåˆ¤æ–­ç¡®å®šä¸‹çº¿çš„å“¨å…µæ•°ç›®ï¼‰<br><br>æ ¹æ®ä¸»ä»é€‰ä¸¾è¦æ±‚å¿…é¡»åŠæ•°ä»¥ä¸Šçš„èŠ‚ç‚¹åŒæ„ï¼Œå³è¦æ±‚æ•°é‡å¤§äºN&#47;2+1ã€‚æ­¤ä¾‹ä¸­æ˜¯5&#47;2+1ï¼3ï¼Œè€Œåªæœ‰2ä¸ªå“¨å…µæ´»ç€å› æ­¤ä¸å¯èƒ½å®Œæˆä¸»ä»åˆ‡æ¢ã€‚<br><br><br>è€Œç¡®å®šä¸‹çº¿çš„æ•°ç›®ä¸º2ï¼Œ2ä¸ªå“¨å…µå¯ä»¥å®Œæˆç¡®å®šä¸‹çº¿çš„åˆ¤æ–­ã€‚<br><br>","like_count":2,"discussions":[{"author":{"id":1609687,"avatar":"https://static001.geekbang.org/account/avatar/00/18/8f/d7/fb60129d.jpg","nickname":"è’‹å¾·é’§","note":"","ucode":"833985C2C37C0A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504256,"discussion_content":"ç†è§£åˆ°ä½äº†ï¼\n\nä¸è¿‡ï¼Œä¸€èˆ¬æˆ‘ä»¬è¿˜æ˜¯å«ä¸»è§‚ä¸‹çº¿å’Œå®¢è§‚ä¸‹çº¿æ›´å¤šäº›ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598074502,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1780797,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2c/3d/0bd58aa4.jpg","nickname":"Em","note":"","ucode":"32012A5C603C8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576148,"discussion_content":"å¯èƒ½å’Œç¡®å®šè¿˜é€šä¿—ä¸€ç‚¹......","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655302193,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243133,"user_name":"riryoutexi","can_delete":false,"product_type":"c1","uid":2112144,"ip_address":"","ucode":"2A3C7060F4D677","user_header":"https://static001.geekbang.org/account/avatar/00/20/3a/90/2ab62cd9.jpg","comment_is_top":false,"comment_ctime":1597974015,"is_pvip":false,"replies":[{"id":"89685","content":"å“¨å…µéƒ½æŒ‚äº†ï¼Œæ— èƒ½ä¸ºåŠ›äº†ã€‚ã€‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è’‹å¾·é’§","uid":"1609687","ctime":1598027490,"ip_address":"","comment_id":243133,"utype":1}],"discussion_count":4,"race_medal":0,"score":"10187908607","product_id":100056701,"comment_content":"æ•´ä¸ªå“¨å…µé›†ç¾¤éƒ½æŒ‚äº†ï¼Œè¿˜ä¼šä¸»ä»åˆ‡æ¢å—","like_count":2,"discussions":[{"author":{"id":1609687,"avatar":"https://static001.geekbang.org/account/avatar/00/18/8f/d7/fb60129d.jpg","nickname":"è’‹å¾·é’§","note":"","ucode":"833985C2C37C0A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504191,"discussion_content":"å“¨å…µéƒ½æŒ‚äº†ï¼Œæ— èƒ½ä¸ºåŠ›äº†ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598027490,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1402254,"avatar":"https://static001.geekbang.org/account/avatar/00/15/65/8e/d0c3bed3.jpg","nickname":"kg200704","note":"","ucode":"C58729CE07CCA9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":566441,"discussion_content":"å‘å·æ–½ä»¤çš„éƒ½æ²¡äº†ï¼Œä¸‹é¢å°±ä¸€ç›˜æ•£æ²™äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650686097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1317425,"avatar":"https://static001.geekbang.org/account/avatar/00/14/1a/31/075fa608.jpg","nickname":"ç›¸å°‘é¾™","note":"","ucode":"E5EF811D7EE8B7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548701,"discussion_content":"é‚£æ€ä¹ˆäººå·¥å¤„ç†å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643335262,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1804087,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/87/37/b071398c.jpg","nickname":"ç­‰é£æ¥ğŸ§","note":"","ucode":"B6BB8714A0B019","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300192,"discussion_content":"è‚¯å®šä¸èƒ½å•Šï¼Œå“¨å…µå°±æ˜¯ç”¨æ¥è§£å†³ä¸»ä»åˆ‡æ¢çš„ã€‚ã€‚ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597980999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243117,"user_name":"Q","can_delete":false,"product_type":"c1","uid":1047423,"ip_address":"","ucode":"785546C617D3DF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fb/7f/746a6f5e.jpg","comment_is_top":false,"comment_ctime":1597971643,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"10187906235","product_id":100056701,"comment_content":"å¹²è´§æ»¡æ»¡ã€‚ã€‚ æœ€è¿‘ä¸€ç›´åœ¨æµ‹è¯•å“¨å…µé›†ç¾¤ï¼Œget åˆ°ä¸€ä¸ªç‚¹: è‡ªå·±è¿˜è¦ç»™è‡ªå·±æŠ•ä¸€ç¥¨ï¼ä¹Ÿå°±æ˜¯æ¯ä¸ªå“¨å…µåªæœ‰ä¸€æ¬¡æŠ•ç¥¨æƒï¼ŒæŠ•è‡ªå·±æˆ–åˆ«äººï¼","like_count":2,"discussions":[{"author":{"id":1178018,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f9/a2/d1075252.jpg","nickname":"èš‚èšé—²æ¸¸","note":"","ucode":"D69831114028EF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304784,"discussion_content":"ä¸€æ¬¡æŠ•y","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599662682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1804087,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/87/37/b071398c.jpg","nickname":"ç­‰é£æ¥ğŸ§","note":"","ucode":"B6BB8714A0B019","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300190,"discussion_content":"è¿™ä¸€ç‚¹å’Œzkï¼Œä¸€æ ·ï¼Œä¸€ä¸ªé€‰ä¸¾å‘¨æœŸåªä¼šæœ‰ä¸€æ¬¡æŠ•ç¥¨æƒï¼Œå…¶å®è€å¸ˆè¯¥æä¸€ä¸‹è¿™ä¸ªç‚¹ã€‚è™½ç„¶æ‚Ÿä¹Ÿèƒ½æ‚Ÿå‡ºæ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597980929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343457,"user_name":"tardis","can_delete":false,"product_type":"c1","uid":2309475,"ip_address":"","ucode":"F33411288D5E27","user_header":"https://static001.geekbang.org/account/avatar/00/23/3d/63/b4466457.jpg","comment_is_top":false,"comment_ctime":1650860002,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5945827298","product_id":100056701,"comment_content":"quorumï¼šç¡®è®¤odownçš„æœ€å°‘çš„å“¨å…µæ•°é‡<br><br>majorityï¼šæˆæƒè¿›è¡Œä¸»ä»åˆ‡æ¢çš„æœ€å°‘çš„å“¨å…µæ•°é‡<br><br>æ¯æ¬¡ä¸€ä¸ªå“¨å…µè¦åšä¸»å¤‡åˆ‡æ¢ï¼Œé¦–å…ˆéœ€è¦quorumæ•°é‡çš„å“¨å…µè®¤ä¸ºodownï¼Œç„¶åé€‰ä¸¾å‡ºä¸€ä¸ªå“¨å…µæ¥åšåˆ‡æ¢ï¼Œè¿™ä¸ªå“¨å…µè¿˜å¾—å¾—åˆ°majorityå“¨å…µçš„æˆæƒï¼Œæ‰èƒ½æ­£å¼æ‰§è¡Œåˆ‡æ¢<br><br>å¦‚æœquorum &lt; majorityï¼Œæ¯”å¦‚5ä¸ªå“¨å…µï¼Œmajorityå°±æ˜¯3ï¼Œquorumè®¾ç½®ä¸º2ï¼Œé‚£ä¹ˆå°±3ä¸ªå“¨å…µæˆæƒå°±å¯ä»¥æ‰§è¡Œåˆ‡æ¢ï¼Œä½†æ˜¯å¦‚æœquorum &gt;= majorityï¼Œé‚£ä¹ˆå¿…é¡»quorumæ•°é‡çš„å“¨å…µéƒ½æˆæƒï¼Œæ¯”å¦‚5ä¸ªå“¨å…µï¼Œquorumæ˜¯5ï¼Œé‚£ä¹ˆå¿…é¡»5ä¸ªå“¨å…µéƒ½åŒæ„æˆæƒï¼Œæ‰èƒ½æ‰§è¡Œåˆ‡æ¢<br>æŸ¥äº†ä¸€ä¸‹ï¼Œä¸Šé¢çš„å°±æ˜¯å“¨å…µåˆ¤æ–­å®¢è§‚ä¸‹çº¿ï¼Œå’Œå“¨å…µé€‰ä¸»çš„ç®—æ³•æè¿°ã€‚æ„Ÿè§‰ä½œè€…æ–‡ä¸­æŠŠquorumå’Œmajorityè¿™ä¸¤ä¸ªå‚æ•°å½“æˆäº†ä¸€ä¸ªï¼Œçœ‹çš„è®©äººè¿·ç³Šã€‚æƒ³ä¸€ä¸‹ï¼Œæœ¬æ¥å°±æ˜¯ä¸¤ä¸ªä¸åŒçš„å«ä¹‰ï¼Œå¦‚æœåªç”¨ä¸€ä¸ªå‚æ•°æ¥è¡¨ç¤ºï¼Œä¹Ÿä¸ç¬¦åˆå¸¸ç†ã€‚ä¸è¿‡ä¹Ÿå¯èƒ½æ˜¯redisç‰ˆæœ¬ä¸åŒ","like_count":1,"discussions":[{"author":{"id":3039904,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/62/a0/e46bdbeb.jpg","nickname":"ç²½","note":"","ucode":"7BD43464776385","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582445,"discussion_content":"æˆ‘è§‰å¾—è®²çš„å¾ˆå¥½ï¼Œå› ä¸ºçœ‹å®Œäº†æˆ‘ä¸€ç›´åœ¨ç–‘æƒ‘ï¼Œä¸»ä»åˆ‡æ¢å’Œåˆ¤æ–­ä¸»åº“çš„å®¢è§‚ä¸‹çº¿ï¼Œè¿™æ˜¯ä¸¤ä¸ªä¸ªäº‹æƒ…ï¼Œä¸ºä»€ä¹ˆéƒ½ç”¨quorumã€‚çœ‹å®Œä½ è¿™ä¸ªè¯„è®ºï¼Œä¸€ä¸‹å­å¼€æœ—äº†ï¼Œæˆ‘ä»¥ä¸ºåªæœ‰æˆ‘è§‰å¾—æ–‡ç« åœ¨è¿™ä¸€å—è®²çš„æœ‰ç‚¹å¥‡æ€ªï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659433376,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":314014,"user_name":"ä¿¯ç°é£æ™¯.","can_delete":false,"product_type":"c1","uid":1044166,"ip_address":"","ucode":"A6DB68B7B84AEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/c6/bebcbcf0.jpg","comment_is_top":false,"comment_ctime":1632801400,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5927768696","product_id":100056701,"comment_content":"ä¸ºäº†è§£å†³ä¸»åº“å®•æœºé—®é¢˜ï¼Œéœ€è¦è¿›è¡Œç›‘æ§å’Œé‡æ–°é€‰ä¸»å¹¶æ‰§è¡Œåˆ‡æ¢ï¼Œæ‰€ä»¥å¼•å…¥å“¨å…µæœºåˆ¶ï¼Œè€Œä¸ºäº†å‡å°å“¨å…µè¯¯åˆ¤ä¸»åº“ä¸‹çº¿çš„æ¦‚ç‡ï¼Œå¼•å…¥äº†å“¨å…µé›†ç¾¤ã€‚<br><br>å“¨å…µé€šè¿‡redisçš„å‘å¸ƒ&#47;è®¢é˜…æ¨¡å¼å¯ä»¥é€šè¿‡â€œ**sentinel**:helloâ€é¢‘é“è·å–å…¶ä»–å“¨å…µçš„è¿æ¥ä¿¡æ¯ï¼Œä»è€Œå’Œå…¶ä»–å“¨å…µå»ºç«‹å“¨å…µé›†ç¾¤ï¼Œä¹Ÿå¯ä»¥é€šè¿‡infoå‘½ä»¤ä»ä¸»åº“è·å–ä»åº“åˆ—è¡¨ï¼Œä»è€Œå®ç°å¯¹ä»åº“çš„ç›‘æ§ï¼Œå¦å¤–ï¼Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥è®¢é˜…å“¨å…µæä¾›çš„é¢‘é“ï¼Œå®æ—¶è·å–redisé›†ç¾¤ä¸­å‘ç”Ÿçš„äº‹ä»¶ï¼Œä»¥åšå‡ºååº”ã€‚<br><br>å“¨å…µåˆ¤å®šä¸»åº“å®¢è§‚ä¸‹çº¿åï¼Œéœ€è¦é€‰ä¸¾å‡ºä¸€ä¸ªLeaderæ¥æ‰§è¡Œåˆ‡æ¢æ“ä½œã€‚æˆä¸ºLeaderçš„æ¡ä»¶æ˜¯ï¼š<br>  1ã€æ‹¿åˆ°åŠæ•°ä»¥ä¸Šçš„èµæˆç¥¨ï¼›<br>  2ã€æ‹¿åˆ°çš„ç¥¨æ•°åŒæ—¶è¿˜éœ€è¦å¤§äºç­‰äºå“¨å…µé…ç½®æ–‡ä»¶ä¸­çš„ quorum å€¼ã€‚","like_count":1},{"had_liked":false,"id":308428,"user_name":"ç§‘ç§‘","can_delete":false,"product_type":"c1","uid":1647304,"ip_address":"","ucode":"7DAE6FE781172E","user_header":"https://static001.geekbang.org/account/avatar/00/19/22/c8/f2892022.jpg","comment_is_top":false,"comment_ctime":1629618018,"is_pvip":false,"discussion_count":1,"race_medal":1,"score":"5924585314","product_id":100056701,"comment_content":"å¥½åƒç†è§£äº†ä¸ºä»€ä¹ˆredisé™¤äº†è¦æ»¡è¶³å¤§å¤šæ•°çš„åˆ¤å®šæ¡ä»¶ï¼Œè¿˜è¦åŠ ä¸€ä¸ªquoromè¿™ä¸ªæ¡ä»¶ï¼Œå› ä¸ºå¦‚æœå“¨å…µæŒ‚çš„ç‰¹åˆ«å¤šçš„è¯ï¼Œå‰©ä¸‹çš„é‚£äº›å“¨å…µï¼Œå¦‚æœå°äºç­‰äºä¸€åŠçš„æ•°é‡ï¼Œå°±æ°¸è¿œä¹Ÿæ— æ³•è®©rediså®¢è§‚ä¸‹çº¿ã€‚æ‰€ä»¥è¿˜è¦åŠ ä¸€ä¸ªquoromå€¼ã€‚<br>å› ä¸ºè¿™ä¸¤ä¸ªå“¨å…µå·²ç»éƒ½åˆ¤æ–­äº†ä¸»è§‚ä¸‹çº¿ï¼Œä¸¤ä¸ªå·²ç»åˆ°è¾¾äº†è®¾ç½®çš„quoromå€¼ï¼Œæ‰€ä»¥è¯¥æ•°æ®åº“å¯ä»¥è¢«åˆ¤å®šä¸ºä¸»è§‚ä¸‹çº¿ã€‚<br>ä½†æ˜¯ï¼Œé€‰ä¸»éœ€è¦å¤§å¤šæ•°å“¨å…µå¾—ç¥¨æ•°ï¼Œèµ·ç å¾—æ˜¯æ€»æ•°é™¤ä»¥äºŒåŠ ä¸Šä¸€è¿™ä¹ˆå¤§ï¼Œä¹Ÿå°±æ˜¯è¯´æœ€å°‘ä¹Ÿå¾—æ‹¿åˆ°ä¸‰ç¥¨æ‰å¯ä»¥ã€‚<br>ä»Šå¤©åœ¨çœ‹mongoçš„å‰¯æœ¬é›†ç›¸å…³å†…å®¹ï¼Œå‘ç°ä¸ç®¡æ˜¯mangoä¹Ÿå¥½è¿˜æ˜¯redisä¹Ÿå¥½ï¼Œåœ¨åšå†—ä½™çš„æ—¶å€™éƒ½è¦æ¶‰åŠåˆ°â€œå¤§å¤šæ•°â€çš„æ¦‚å¿µã€‚<br>mongoè¿™è¾¹çš„è§£é‡Šæ˜¯è¯´ï¼Œåœ¨ç½‘ç»œä¸å¥½çš„æƒ…å†µä¸‹ï¼Œå‰¯æœ¬1ï¼Œ2ï¼Œ3éƒ¨ç½²åœ¨Aé›†ç¾¤ï¼Œå‰¯æœ¬4ï¼Œ5éƒ¨ç½²åœ¨Bé›†ç¾¤ã€‚ ABé›†ç¾¤ç°åœ¨è¿ä¸ä¸Šï¼Œåœ¨123çš„è§’åº¦ä¸Šæ¥çœ‹æ˜¯45æŒ‚äº†ï¼Œåœ¨45çš„è§’åº¦ä¸Šæ¥çœ‹æ˜¯123æŒ‚äº†ã€‚å¦‚æœä»–ä»¬ä¸¤ä¸ªéƒ½æœ‰æœºä¼šè¿›è¡Œé€‰ä¸»çš„è¯ï¼Œå°±ä¼šäº§ç”Ÿä¸¤ä¸ªä¸»ã€‚æ‰€ä»¥åªæœ‰123æ‰æœ‰æœºä¼šé€‰ä¸»ï¼Œ45ä¸å¯èƒ½å®Œæˆé€‰ä¸»ã€‚ä¹Ÿæ˜¯é˜²æ­¢å‡ºç°å¤šä¸ªä¸»ã€‚<br>æˆ‘å°±è”æƒ³åˆ°redisçš„å“¨å…µé€‰ä¸»å¤§å¤šæ•°çš„é™åˆ¶åº”è¯¥ä¹Ÿæ˜¯ç±»ä¼¼çš„æ€è·¯ï¼Œè€Œä¸”åœ¨å®é™…çš„ç»éªŒä¸Šæ¥çœ‹ï¼ŒåŸºæœ¬ä¸Šéƒ½éƒ¨ç½²å¥‡æ•°ä¸ªå®ä¾‹ã€‚<br>ä¸çŸ¥é“æˆ‘è¿™ä¸ªç†è§£å¯¹ä¸å¯¹ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":2762186,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/25/ca/96734ade.jpg","nickname":"éšæœºæ¼«æ­¥çš„å‚»ç“œ","note":"","ucode":"FBEFB27BF45ED4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":399493,"discussion_content":"å®¢è§‚ä¸‹çº¿åªå’Œquoromæœ‰å…³ï¼Œå“¨å…µé¢†å¯¼è€…é€‰ä¸¾æ‰å’Œä¸¤è€…éƒ½æœ‰å…³ç³»ï¼Œå¿…é¡»éƒ½æ»¡è¶³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632974381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269034,"user_name":"èš‚èš","can_delete":false,"product_type":"c1","uid":2371435,"ip_address":"","ucode":"D20553722864CA","user_header":"https://static001.geekbang.org/account/avatar/00/24/2f/6b/27b50c5e.jpg","comment_is_top":false,"comment_ctime":1608478467,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"5903445763","product_id":100056701,"comment_content":"ç¬¬äºŒä¸ªé—®é¢˜ï¼šå“¨å…µå¦‚æœæ²¡æœ‰ç»™è‡ªå·±æŠ•ç¥¨ï¼Œå°±ä¼šæŠŠç¥¨æŠ•ç»™ç¬¬ä¸€ä¸ªç»™å®ƒå‘é€æŠ•ç¥¨è¯·æ±‚çš„å“¨å…µã€‚åç»­å†æœ‰æŠ•ç¥¨è¯·æ±‚æ¥ï¼Œå“¨å…µå°±æ‹’æ¥æŠ•ç¥¨äº†ã€‚<br>â€”â€”â€”â€”<br>è€å¸ˆè¯·é—®ä¸‹ï¼Œä½ è¯´çš„åç»­å†æœ‰æŠ•ç¥¨å°±æ‹’ç»æŠ•ç¥¨ï¼Œé‚£å“¨å…µæ€ä¹ˆçŸ¥é“æ˜¯åŒä¸€è½®çš„æŠ•ç¥¨å‘¢ï¼Ÿæ€ä¹ˆåˆ¤æ–­åˆæ˜¯ä¸€è½®æ–°çš„æŠ•ç¥¨ï¼Œå¯ä»¥æŠŠè¿™ä¸ªæŠ•ç¥¨çš„æŠ¥æ–‡è´´ä¸Šæ¥çœ‹çœ‹å—","like_count":1,"discussions":[{"author":{"id":1645684,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1c/74/eb472cc3.jpg","nickname":"æµ·å¼º","note":"","ucode":"EF4971CD58E4E5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349032,"discussion_content":"æˆ‘æ²¡æœ‰çœ‹è¿‡æºç ï¼Œä½†æ˜¯å¦‚æœå‚ç…§raftçš„è¯ï¼Œä¼šæœ‰ä¸ªä»»æœŸçš„æ¦‚å¿µï¼Œæ¯è½®æŠ•ç¥¨æ˜¯åŸºäºåŒä¸€ä¸ªä»»æœŸã€‚ä»»æœŸæ¯ç»è¿‡ä¸€è½®åä¼šé€’å¢ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1612855290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1410642,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJQyP4WVaRJVX6j5k8ZblWHo2BicmehWWSz571L8Lou2QWOSxPOg6ib0fuibfic6q6dS3ficLGNibIEo4uw/132","nickname":"æœé…±","note":"","ucode":"087EF822507201","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540538,"discussion_content":"æ˜¯termç»Ÿä¸€äº†ä»»æœŸï¼Œå°±é˜»æ­¢åˆ«çš„æŠ•ç¥¨äº†ï¼Œé€šè¿‡termæ¥åˆ¤æ–­ä¸‹ä¸€è½®æ˜¯å¦ç»§ç»­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640077171,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2027435,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/ef/ab/ea3488c8.jpg","nickname":"Bijiasuo","note":"","ucode":"6DB63A899D184C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406633,"discussion_content":"æ¯è½®æŠ•ç¥¨å’Œmysqlä¸­äº‹åŠ¡æ¦‚å¿µç›¸ä¼¼ï¼Œæœ‰ä¸€ä¸ªidï¼Œå•è°ƒé€’å¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634810357,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":253650,"user_name":"Hinimix","can_delete":false,"product_type":"c1","uid":1316937,"ip_address":"","ucode":"7994136C93BD89","user_header":"https://static001.geekbang.org/account/avatar/00/14/18/49/b1d864e5.jpg","comment_is_top":false,"comment_ctime":1602818894,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"5897786190","product_id":100056701,"comment_content":"è¯·é—®ï¼šå¦‚æœ3ä¸ªå“¨å…µèŠ‚ç‚¹æœ‰1ä¸ªå®•æœºäº†ï¼Œå‰©ä¸‹ä¿©æœ‰ä¸€ä¸ªåˆ¤å®šä¸»åº“å®•äº†å‘èµ·æŠ•ç¥¨ï¼Œå¦ä¸€ä¸ªæ”¶åˆ°é€‰ä¸¾leaderå›å¤äº†Yï¼Œè¿™æ—¶å€™è¿™ä¸ªèŠ‚ç‚¹æ˜¯æœ‰2ä¸ªç¥¨çš„ï¼Œä¸ºä»€ä¹ˆä¸èƒ½å½“leaderè¿›è¡Œä¸»ä»åˆ‡æ¢å‘¢","like_count":1,"discussions":[{"author":{"id":1544952,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIsnzhj3J3dmVT7bsv4kiaYStsT24g8tHu0Ynyk0kPhajU1mgbUUeib5bdibtX4TMKBEhSH4Axqrjvsw/132","nickname":"Geek_6e08ee","note":"","ucode":"F6F51303660C0D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328563,"discussion_content":"è¯´çš„æ˜¯5ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606181214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1602239,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyobcyicicCQoldZofsS36xrjA2R2hk2F89pu1hCqwjlRaRG4xKkgCicZibEVdOwpfN5rWjEchrsxicSQ/132","nickname":"Geek_e8d55e","note":"","ucode":"5F13626B0E1E45","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1544952,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIsnzhj3J3dmVT7bsv4kiaYStsT24g8tHu0Ynyk0kPhajU1mgbUUeib5bdibtX4TMKBEhSH4Axqrjvsw/132","nickname":"Geek_6e08ee","note":"","ucode":"F6F51303660C0D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334940,"discussion_content":"ä½†æ˜¯æœ‰ä¸‰ä¸ªæŒ‚äº†ï¼Œåªå‰©ä¸¤ä¸ªï¼Œéš¾é“è¿˜æ˜¯æŒ‰5ä¸ªç®—ï¼Ÿé‚£æˆ‘å¦‚æœæƒ³æŠŠ5ä¸ªå“¨å…µå‡å°‘ä¸º3ä¸ªæ€ä¹ˆåŠï¼Œé‡å¯æ‰€æœ‰å“¨å…µå—ï¼Ÿè¿™ç‚¹ä¸€ç›´æ²¡æƒ³æ˜ç™½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608032360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":328563,"ip_address":""},"score":334940,"extra":""},{"author":{"id":2361231,"avatar":"https://static001.geekbang.org/account/avatar/00/24/07/8f/b11a8cc6.jpg","nickname":"è¿·å¤±çš„å°å»–","note":"","ucode":"389C9310F242DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1602239,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyobcyicicCQoldZofsS36xrjA2R2hk2F89pu1hCqwjlRaRG4xKkgCicZibEVdOwpfN5rWjEchrsxicSQ/132","nickname":"Geek_e8d55e","note":"","ucode":"5F13626B0E1E45","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342356,"discussion_content":"èŠ‚ç‚¹è¢«åŠ¨æŒ‚æ‰å’Œä¸»åŠ¨åœæ‰æ˜¯ä¸¤å›äº‹ï¼Œå¦‚æœæ˜¯è¢«åŠ¨æŒ‚æ‰ï¼Œå½“ç„¶è¿˜æ˜¯æŒ‰5ä¸ªæ¥ç®—ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610644447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":334940,"ip_address":""},"score":342356,"extra":""},{"author":{"id":1253652,"avatar":"https://static001.geekbang.org/account/avatar/00/13/21/14/423a821f.jpg","nickname":"Steven","note":"","ucode":"3FE64459842015","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1602239,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyobcyicicCQoldZofsS36xrjA2R2hk2F89pu1hCqwjlRaRG4xKkgCicZibEVdOwpfN5rWjEchrsxicSQ/132","nickname":"Geek_e8d55e","note":"","ucode":"5F13626B0E1E45","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383949,"discussion_content":"ä¸ç”¨é‡å¯ï¼Œæœ‰è¿è¡Œæ—¶å‘½ä»¤ SENTINEL REMOVE ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626315480,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":334940,"ip_address":""},"score":383949,"extra":""}]}]},{"had_liked":false,"id":243618,"user_name":"heyman","can_delete":false,"product_type":"c1","uid":1173894,"ip_address":"","ucode":"92EF9EF1B1B1B3","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/86/d34800a4.jpg","comment_is_top":false,"comment_ctime":1598233069,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5893200365","product_id":100056701,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸‹ï¼šå“¨å…µå’Œä¸»åº“å»ºç«‹è¿æ¥åï¼Œé€šè¿‡infoæ¥è·å–ä»åº“ä¿¡æ¯ã€‚é‚£ä¹ˆï¼Œåç»­ä»åº“æœ‰æ–°å¢æˆ–æ‘˜é™¤ï¼Œå“¨å…µæ˜¯æ€æ ·çŸ¥é“çš„å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1388092,"avatar":"https://static001.geekbang.org/account/avatar/00/15/2e/3c/eae43616.jpg","nickname":"sid","note":"","ucode":"3D1F9169A19D29","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304332,"discussion_content":"äº‹ä»¶é€šçŸ¥æˆ–è€…å“¨å…µè½®è¯¢æŸ¥è¯¢å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599548159,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1173894,"avatar":"https://static001.geekbang.org/account/avatar/00/11/e9/86/d34800a4.jpg","nickname":"heyman","note":"","ucode":"92EF9EF1B1B1B3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1388092,"avatar":"https://static001.geekbang.org/account/avatar/00/15/2e/3c/eae43616.jpg","nickname":"sid","note":"","ucode":"3D1F9169A19D29","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305886,"discussion_content":"å“¨å…µä¼šå‘¨æœŸæ€§æ‰§è¡Œinfoå‘½ä»¤","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1600103260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":304332,"ip_address":""},"score":305886,"extra":""}]}]},{"had_liked":false,"id":243084,"user_name":"test","can_delete":false,"product_type":"c1","uid":1065849,"ip_address":"","ucode":"9A4973E591DD12","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/79/18073134.jpg","comment_is_top":false,"comment_ctime":1597942224,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5892909520","product_id":100056701,"comment_content":"å¯ä»¥åˆ¤æ–­å®¢è§‚ä¸‹çº¿ï¼Œä½†æ˜¯æ— æ³•è¿›è¡Œé€‰ä¸»ã€‚è°ƒå¤§å‚æ•°å¯¹è¯¯åˆ¤æœ‰å¥½å¤„ã€‚","like_count":1},{"had_liked":false,"id":359196,"user_name":"Geek_590385","can_delete":false,"product_type":"c1","uid":3190922,"ip_address":"æ±Ÿè¥¿","ucode":"BE5BDD9180FA0E","user_header":"","comment_is_top":false,"comment_ctime":1665317655,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1665317655","product_id":100056701,"comment_content":"é€šè¿‡è€å¸ˆçš„è®²è§£ï¼Œæˆ‘æ€»ç»“ä»¥ä¸‹ä¸‰ç‚¹...å±•å¼€","like_count":0},{"had_liked":false,"id":355095,"user_name":"è”¡æ¬§","can_delete":false,"product_type":"c1","uid":1317604,"ip_address":"å¹¿ä¸œ","ucode":"39470A1DCAA7A9","user_header":"https://static001.geekbang.org/account/avatar/00/14/1a/e4/5e2a8190.jpg","comment_is_top":false,"comment_ctime":1661073776,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1661073776","product_id":100056701,"comment_content":"å“¨å…µæŒ‚äº†ï¼Œä¸»ä»åº“è¿˜èƒ½åˆ‡æ¢å— ï¼šåªè¦å“¨å…µé›†ç¾¤ä¿è¯å¯ä»¥é€‰ä¸¾å‡ºLeaderå°±å¯ä»¥åˆ‡æ¢ï¼Œå¦åˆ™å°±ä¸è¡Œï¼Œä¾‹å¦‚5ä¸ªå“¨å…µèŠ‚ç‚¹ï¼Œéœ€è¦å¾—åˆ°3ç¥¨ï¼Œå¦‚æœ3ä¸ªå“¨å…µèŠ‚ç‚¹æ•…éšœï¼Œå°±ä¸èƒ½å®Œæˆåˆ‡æ¢<br>å“¨å…µé›†ç¾¤åº•å±‚ä¾èµ–çš„é€šè®¯æœºåˆ¶æ˜¯ä»€ä¹ˆï¼šä¸»Redisçš„pubsubæ¨¡å¼ï¼Œé€šè¿‡è¯¥æ¨¡å¼å“¨å…µå¯ä»¥æ„ŸçŸ¥å…¶ä»–å“¨å…µå’Œæ•´ä¸ªRedisé›†ç¾¤çš„å…¶ä»–å‡ ç‚¹<br>æ€ä¹ˆç›‘æ§å“¨å…µé›†ç¾¤çš„åˆ‡æ¢è¿‡ç¨‹ï¼šå“¨å…µé›†ç¾¤åº•å±‚ä½¿ç”¨pubsubé€šè®¯æœºåˆ¶ï¼Œéœ€è¦ç›‘æ§æŒ‡å®šçš„ä¸»é¢˜ï¼Œå³å¯çŸ¥é“å¯¹åº”çš„åˆ‡æ¢è¿‡ç¨‹çš„äº‹ä»¶<br>å“¨å…µé›†ç¾¤é…ç½®æ³¨æ„ç‚¹ï¼šæœ€å¥½ä¿è¯å“¨å…µé›†ç¾¤æ¯ä¸€ä¸ªå‡ ç‚¹é…ç½®ä¸€è‡´ï¼Œé¿å…é…ç½®ä¸ä¸€è‡´å¯¼è‡´ä¸»è§‚ä¸‹çº¿åˆ¤å®šä¸ä¸€è‡´å¯¼è‡´Redisé›†ç¾¤åˆ‡æ¢å¼‚å¸¸","like_count":0},{"had_liked":false,"id":352190,"user_name":"going","can_delete":false,"product_type":"c1","uid":2313353,"ip_address":"","ucode":"3AA83F9B07BE8B","user_header":"https://static001.geekbang.org/account/avatar/00/23/4c/89/82a3ee04.jpg","comment_is_top":false,"comment_ctime":1658451343,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1658451343","product_id":100056701,"comment_content":"è’‹è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œç”±äºå“¨å…µä¸‹çº¿å¯¼è‡´æ‰€å‰©åœ¨çº¿å“¨å…µæ•°é‡å°‘äºquorumè¿™æ—¶å€™å¦‚ä½•è¿›è¡Œé€‰ä¸¾ï¼Ÿ<br>","like_count":1},{"had_liked":false,"id":351991,"user_name":"Aî€² æ‹½ä¸«å¤´","can_delete":false,"product_type":"c1","uid":1470434,"ip_address":"","ucode":"F875D99D18DF6E","user_header":"https://static001.geekbang.org/account/avatar/00/16/6f/e2/f3b05833.jpg","comment_is_top":false,"comment_ctime":1658315656,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1658315656","product_id":100056701,"comment_content":"è€å¸ˆå‘€!  ä½ çš„æ ‡é¢˜èµ·çš„å¾ˆæœ‰å¸å¼•åŠ›ï¼Œä½†èƒ½ä¸èƒ½åœ¨ç»“å°¾åšä¸ªæ€»ç»“äº†ï¼Œé‚£åˆ°åº•æ˜¯èƒ½åˆ‡æ¢è¿˜æ˜¯ä¸èƒ½åˆ‡æ¢å‘€!  çœ‹å®Œäº†è¿™ç¯‡æ–‡ç« ï¼Œæ„Ÿè§‰å¯¹è¿™ä¸ªé—®é¢˜çš„å›ç­”è¿˜æ˜¯ä¸è‡ªä¿¡å‘€!  çœ‹äº† &quot;ç²¾å½©çš„&quot; è¯„è®ºåï¼ŒçŸ¥é“ç­”æ¡ˆäº†ã€‚","like_count":0},{"had_liked":false,"id":350887,"user_name":"burning","can_delete":false,"product_type":"c1","uid":1484231,"ip_address":"","ucode":"2D46BF59B01A46","user_header":"https://static001.geekbang.org/account/avatar/00/16/a5/c7/053a2a5c.jpg","comment_is_top":false,"comment_ctime":1657284849,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1657284849","product_id":100056701,"comment_content":"è¯·é—®â€œå®¢è§‚ä¸‹çº¿â€ï¼Œè¿™ä¸ªæ‰€éœ€çš„èµæˆç¥¨æ•°æ˜¯é€šè¿‡å“¨å…µé…ç½®æ–‡ä»¶ä¸­çš„ quorum é…ç½®é¡¹è®¾å®šçš„ï¼›è€Œç¬¬ä¸ƒè®²æåˆ°å½“æœ‰ N ä¸ªå“¨å…µå®ä¾‹æ—¶ï¼Œæœ€å¥½è¦æœ‰ N&#47;2 + 1 ä¸ªå®ä¾‹åˆ¤æ–­ä¸»åº“ä¸ºâ€œä¸»è§‚ä¸‹çº¿â€ã€‚å¦‚æœquorumä¸N&#47;2 + 1ä¸åŒæ—¶ï¼Œè¯¥å¦‚ä½•åˆ¤æ–­å‘¢","like_count":0},{"had_liked":false,"id":350089,"user_name":"Geek_9adefb","can_delete":false,"product_type":"c1","uid":2980933,"ip_address":"","ucode":"DE7D4E98F892AE","user_header":"","comment_is_top":false,"comment_ctime":1656565974,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1656565974","product_id":100056701,"comment_content":"è€å¸ˆå¥½ï¼šåœ¨setinalå‘ç°masterèŠ‚ç‚¹å®¢è§‚ä¸‹çº¿ä¹‹åï¼ŒåŒæ—¶åœ¨ä¸‹ä¸ªmasterèŠ‚ç‚¹è¢«é€‰ä¸¾å‡ºæ¥ä¹‹å‰ï¼Œredisçš„é›†ç¾¤æ˜¯æ²¡æ³•å¯¹å¤–æä¾›å†™æœåŠ¡çš„å§ï¼Ÿ<br><br>é‚£å¯ä¸å¯ä»¥è¯´ï¼Œredisæ²¡æœ‰åšåˆ°APï¼Ÿ","like_count":0},{"had_liked":false,"id":349483,"user_name":"æ ¼å±€","can_delete":false,"product_type":"c1","uid":2481167,"ip_address":"","ucode":"EDF3736A1FAA8C","user_header":"https://static001.geekbang.org/account/avatar/00/25/dc/0f/4d38b101.jpg","comment_is_top":false,"comment_ctime":1655989749,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655989749","product_id":100056701,"comment_content":"å®¢æˆ·ç«¯æ—¢ç„¶èƒ½ä»å“¨å…µè®¢é˜…æ¶ˆæ¯ï¼Œå¿…ç„¶æ˜¯ä¸å“¨å…µå»ºç«‹äº†è¿æ¥ï¼Œé‚£ä¹ˆä¸ºå•¥åœ¨å“¨å…µä¸»å¯¼ä¸»ä»åˆ‡æ¢å®Œæˆåï¼Œä¸ç›´æ¥å‘Šè¯‰å®¢æˆ·ç«¯å‘¢ï¼Ÿè¿˜è¦é€šè¿‡sub&#47;pubæœºåˆ¶æ“ä½œä¸€ä¸‹ï¼Ÿ","like_count":0},{"had_liked":false,"id":348055,"user_name":"+1","can_delete":false,"product_type":"c1","uid":2062412,"ip_address":"","ucode":"9CE97442D75966","user_header":"","comment_is_top":false,"comment_ctime":1654693711,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654693711","product_id":100056701,"comment_content":"é‚£masterè¢«æ ‡è®°æˆä¸»è§‚ä¸‹çº¿çŠ¶æ€ï¼Œè¿˜æ²¡è¢«ç»Ÿä¸€æˆå®¢è§‚ä¸‹çº¿çŠ¶æ€æ—¶ï¼Œå®¢æˆ·ç«¯æ˜¯å¦è¿˜èƒ½æ­£å¸¸ä¸masterè¿›è¡Œé€šä¿¡å‘¢","like_count":0},{"had_liked":false,"id":347792,"user_name":"xlyyy","can_delete":false,"product_type":"c1","uid":2995410,"ip_address":"","ucode":"C1962641D7168B","user_header":"https://static001.geekbang.org/account/avatar/00/2d/b4/d2/d83e8d6c.jpg","comment_is_top":false,"comment_ctime":1654434160,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654434160","product_id":100056701,"comment_content":"è¯·æ•™ä¸€ä¸‹ï¼Œè€å¸ˆè¯´å“¨å…µæ˜¯ä¾èµ–redisçš„å‘å¸ƒè®¢é˜…åŠŸèƒ½æ¥é€šä¿¡çš„ï¼Œå¦‚æœä¸»åº“æŒ‚æ‰äº†ï¼Œå‘å¸ƒè®¢é˜…åŠŸèƒ½è¿˜èƒ½ç”¨å—ï¼Œå¦‚æœä¸èƒ½ï¼Œé‚£è¿™æœŸé—´å“¨å…µé›†ç¾¤äº’ç›¸æ˜¯å¦‚ä½•é€šä¿¡çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":347713,"user_name":"æ¨±æ¡ƒæ±ã€‚","can_delete":false,"product_type":"c1","uid":2907715,"ip_address":"","ucode":"36EE9D8B9C5122","user_header":"https://static001.geekbang.org/account/avatar/00/2c/5e/43/004a52fa.jpg","comment_is_top":false,"comment_ctime":1654337827,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1654337827","product_id":100056701,"comment_content":"1ã€å¯ä»¥æ­£ç¡®åˆ¤æ–­å®¢è§‚ä¸‹çº¿ï¼Œä½†æ˜¯æ­£ç¡®ç‡ä¼šæœ‰æ‰€ä¸‹é™<br>    3ä¸ªæŒ‚äº†è¿˜æœ‰2ä¸ªï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªå‘é€äº†é€‰ä¸¾ï¼Œå‰©ä¸‹çš„ä¸€ä¸ªæŠ•èµæˆç¥¨ï¼Œå°±å¯ä»¥åˆ¤æ–­å®¢è§‚ä¸‹çº¿<br>    æ­£ç¡®ç‡ä¸‹é™æ˜¯å› ä¸ºå¯èƒ½è¯¯åˆ¤ï¼Œå‘èµ·é€‰ä¸¾çš„å“¨å…µå› ä¸ºç½‘ç»œé˜»å¡ç­‰åŸå› PINGä¸é€šä¸»åº“<br>2ã€å¯ä»¥è¿›è¡Œè‡ªåŠ¨åˆ‡æ¢<br>    2ä¸ªå“¨å…µå¯ä»¥æ»¡è¶³ç›‘æ§ã€é€‰ä¸»ã€é€šçŸ¥æµç¨‹å®Œæ•´<br>3ã€ä¸æ˜¯è¶Šå¤šè¶Šå¥½<br>    å®ä¾‹å¤šäº†äº’ç›¸é€‰ä¸¾æµç¨‹ä¼šæ¯”è¾ƒå¤æ‚ï¼Œé‡æ–°é€‰ä¸¾çš„å¯èƒ½æ€§æé«˜ã€æ¯”å¦‚9ä¸ªå“¨å…µï¼Œquorumæ˜¯5ï¼Œæœ‰5ä¸ªå“¨å…µå‘èµ·é€‰ä¸¾<br>4ã€ä¸ä¸€å®šæœ‰å¥½å¤„<br>    ä¸ªäººè®¤ä¸ºdown-after-millisecondså’Œå®ä¾‹æ•°é‡æ²¡æœ‰ç‰¹åˆ«å¤§çš„å…³ç³»<br>    ä»¥åŠdown-after-millisecondså€¼åœ¨ä¸€å®šèŒƒå›´æ‰æœ‰æ„ä¹‰ï¼Œå¦‚æœå¾ˆå¤§ï¼Œä¸»åº“å·²ç»æŒ‚äº†å¾ˆä¹…æ‰è¢«å‘ç°<br><br>æœ€åæœ‰ä¸€ä¸ªå…³äºé€‰ä¸¾çš„çœ‹æ³•ï¼Œå¸Œæœ›è€å¸ˆå¯ä»¥çœ‹è§ç»™ä¸ç»éªŒï¼Œè°¢è°¢~<br>    5ä¸ªå“¨å…µ<br>         å“¨å…µ1å’Œå“¨å…µ2å’Œå“¨å…µ3å’Œå“¨å…µ4å’Œå“¨å…µ5éƒ½å‘ç°ä¸‹çº¿äº†ï¼ˆæš‚ä¸è€ƒè™‘ä¸Šçº¿ï¼‰<br>         å“¨å…µ1å…ˆå‘èµ·é€‰ä¸¾ï¼ˆç¥¨+1ï¼‰<br>         å“¨å…µ1å‘èµ·é€‰ä¸¾è¯·æ±‚åˆ°è¾¾å“¨å…µ2çš„æ—¶æœºæ˜¯å“¨å…µ2å‘ç°ä¸‹çº¿ä¹‹åï¼Œå¹¶ä¸”å“¨å…µ2å‘èµ·é€‰ä¸¾ä¹‹å‰ï¼ˆç¥¨+1ï¼‰<br>         å“¨å…µ1å‘èµ·é€‰ä¸¾è¯·æ±‚åˆ°è¾¾å“¨å…µ3çš„æ—¶æœºæ˜¯å“¨å…µ3å‘ç°ä¸‹çº¿ä¹‹åï¼Œå¹¶ä¸”å“¨å…µ3å‘èµ·é€‰ä¸¾ä¹‹åï¼ˆç¥¨+0ï¼‰<br>         å“¨å…µ1å‘èµ·é€‰ä¸¾è¯·æ±‚åˆ°è¾¾å“¨å…µ4çš„æ—¶æœºæ˜¯å“¨å…µ4å‘ç°ä¸‹çº¿ä¹‹å‰ï¼ˆç¥¨+0ï¼‰<br>         å“¨å…µ1å‘èµ·é€‰ä¸¾è¯·æ±‚åˆ°è¾¾å“¨å…µ5çš„æ—¶æœºæ˜¯å“¨å…µ5å‘ç°ä¸‹çº¿ä¹‹åï¼Œå¹¶ä¸”å·²ç»ç»™å“¨å…µ3æŠ•ç¥¨ï¼ˆç¥¨+0ï¼‰<br>         ä»¥åŠå…¶ä»–ä¸€äº›æƒ…å†µ<br>æ€»ç»“ä¸‹æ¥å‘ç°é€‰ä¸¾æˆåŠŸæ¦‚ç‡å¤§å¤§å°äºé€‰ä¸¾å¤±è´¥ï¼Œè¿™æ ·å²‚ä¸æ˜¯å¾ˆå®¹æ˜“å¤šæ¬¡é€‰ä¸¾å¾ˆè´¹æ—¶<br>    ","like_count":0},{"had_liked":false,"id":345723,"user_name":"ç¬¬å››å•å…ƒ","can_delete":false,"product_type":"c1","uid":1747184,"ip_address":"","ucode":"3ED9D553E1DE17","user_header":"https://static001.geekbang.org/account/avatar/00/1a/a8/f0/529f15e9.jpg","comment_is_top":false,"comment_ctime":1652525745,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652525745","product_id":100056701,"comment_content":"è¯·æ•™ä¸‹å¤§å®¶ï¼Œå“¨å…µä»€ä¹ˆæƒ…å†µä¸‹ä¼šâ€œæƒ³æˆä¸ºleaderâ€ï¼Ÿå¦‚æœæ‰€æœ‰å“¨å…µéƒ½æƒ³æˆä¸ºleaderï¼Œéƒ½ç»™è‡ªå·±æŠ•ç¥¨é‚£ä¸å°±æ°¸è¿œé€‰ä¸å‡ºleaderäº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":342162,"user_name":"helloWorld","can_delete":false,"product_type":"c1","uid":2793822,"ip_address":"","ucode":"E7D28A9F456959","user_header":"https://static001.geekbang.org/account/avatar/00/2a/a1/5e/4c53cb49.jpg","comment_is_top":false,"comment_ctime":1650077358,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650077358","product_id":100056701,"comment_content":"å“¨å…µèŠ‚ç‚¹é€‰ä¸¾å®Œæ–°çš„ä¸»åº“ï¼Œè¿™æ—¶ä¸»åº“æœ‰ä»åº“æ•°æ®å—ï¼Ÿé‡‡ç”¨INFOå‘½ä»¤è·å–ä»åº“ä¿¡æ¯å†è®©ä»åº“æ‰§è¡Œsalveofå‘½ä»¤","like_count":0},{"had_liked":false,"id":341369,"user_name":"é˜¿æ˜•","can_delete":false,"product_type":"c1","uid":1012906,"ip_address":"","ucode":"F3AD093B68E074","user_header":"https://static001.geekbang.org/account/avatar/00/0f/74/aa/178a6797.jpg","comment_is_top":false,"comment_ctime":1649569753,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1649569753","product_id":100056701,"comment_content":"1.å¯ä»¥æ­£ç¡®çš„åˆ¤æ–­å®¢è§‚ä¸‹çº¿å’Œä¸»ä»åˆ‡æ¢ï¼Œä½†æ˜¯åœ¨å“¨å…µå®ä¾‹éƒ½åœ¨çº¿æ—¶ï¼Œä¼šå‘ç”Ÿè„‘è£‚é—®é¢˜ï¼›<br>2.å“¨å…µå®ä¾‹å¤ªå¤šï¼Œä¼šåŠ å¤§é€‰ä¸»ç­‰è¿‡ç¨‹çš„æŠ•ç¥¨æ—¶é—´ï¼›<br>3.down-after-millsecodnesè¿‡å¤§ä¼šå½±å“æ¢å¤çš„ç­‰å¾…æ—¶é—´ï¼›","like_count":0},{"had_liked":false,"id":340377,"user_name":"é»„å·","can_delete":false,"product_type":"c1","uid":2543966,"ip_address":"","ucode":"F1ED280179EA67","user_header":"","comment_is_top":false,"comment_ctime":1648784033,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648784033","product_id":100056701,"comment_content":"è€å¸ˆï¼Œå¦‚æœå®¢æˆ·ç«¯è¿æ¥çš„å“¨å…µæŒ‚äº†ï¼Œå¦å¤–çš„å“¨å…µè¿˜æ­£å¸¸å¯åŠ¨ï¼Œå®¢æˆ·ç«¯ä¹Ÿè¿æ¥ä¸»åº“è¿›è¡Œæ­£å¸¸è¯»å†™ï¼Œå½“ä¸»åº“å‘ç”Ÿåˆ‡æ¢çš„æ—¶å€™ï¼Œç”±äºç›´è¿çš„å“¨å…µä¹ŸæŒ‚äº†ï¼Œå®¢æˆ·ç«¯æ— æ³•é€šè¿‡è®¢é˜…äº‹ä»¶æ¥è·å–ä¸»åº“åˆ‡æ¢çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯è¿™ä¸ªæ—¶å€™æ˜¯ä¸æ˜¯ä¸å¯ç”¨æƒ…å†µå‘€ï¼Ÿ","like_count":0},{"had_liked":false,"id":339761,"user_name":"å‰‘å…«","can_delete":false,"product_type":"c1","uid":1297630,"ip_address":"","ucode":"0A09F41DB8A4E7","user_header":"https://static001.geekbang.org/account/avatar/00/13/cc/de/e28c01e1.jpg","comment_is_top":false,"comment_ctime":1648365262,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1648365262","product_id":100056701,"comment_content":"sentinalé€‰ä¸¾å¯ä»¥ç­‰å¾…éšæœºæ—¶é—´å†å‘èµ·ï¼Œ è¿™æ ·é¿å…ä¸¤ä¸ªé€‰ä¸¾è€…åŒä¸€æ—¶åˆ»é€‰ä¸¾äº‰æŠ¢å¯¼è‡´çš„è¿Ÿè¿Ÿè¾¾ä¸æˆä¸€è‡´çš„é—®é¢˜","like_count":0},{"had_liked":false,"id":338608,"user_name":"William Ning","can_delete":false,"product_type":"c1","uid":1592279,"ip_address":"","ucode":"4DB8D05E69E5F3","user_header":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","comment_is_top":false,"comment_ctime":1647593765,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1647593765","product_id":100056701,"comment_content":"è€å¸ˆåŒå­¦å¥½ï¼Œå…³äºæ–‡ä¸­ï¼Œâ€œåœ¨æŠ•ç¥¨è¿‡ç¨‹ä¸­ï¼Œä»»ä½•ä¸€ä¸ªæƒ³æˆä¸º Leader çš„å“¨å…µï¼Œè¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼šç¬¬ä¸€ï¼Œæ‹¿åˆ°åŠæ•°ä»¥ä¸Šçš„èµæˆç¥¨ï¼›ç¬¬äºŒï¼Œæ‹¿åˆ°çš„ç¥¨æ•°åŒæ—¶è¿˜éœ€è¦å¤§äºç­‰äºå“¨å…µé…ç½®æ–‡ä»¶ä¸­çš„ quorum å€¼â€<br><br>æœ‰ç–‘é—®ï¼Œ<br>æ¡ä»¶ä¸€ï¼Œè¿™ä¸ªåŠæ•°ä»¥ä¸Šï¼ŒåŒ…ä¸åŒ…å«åŠæ•°ï¼Œ<br>å¦å¤–ï¼Œè¿™ä¸ªæ€»æ•°ï¼Œæ˜¯æ€ä¹ˆè®¡ç®—çš„ï¼ŒåŸå§‹çš„å“¨å…µæ•°ï¼Œè¿˜æ˜¯å‰©ä½™å­˜æ´»çš„æ•°é‡ï¼Ÿ<br><br>è°¢è°¢ï½","like_count":0},{"had_liked":false,"id":335736,"user_name":"kls","can_delete":false,"product_type":"c1","uid":1446570,"ip_address":"","ucode":"9DC31790DD6924","user_header":"https://static001.geekbang.org/account/avatar/00/16/12/aa/83a3cd03.jpg","comment_is_top":false,"comment_ctime":1645669080,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1645669080","product_id":100056701,"comment_content":"è€å¸ˆï¼Œå“¨å…µè¿›è¡Œ å®¢è§‚ä¸‹çº¿ï¼Œé€‰ä¸¾æ–°çš„ä¸»èŠ‚ç‚¹çš„æœŸé—´ï¼Œæ•´ä¸ªé›†ç¾¤å¯¹å¤–æ˜¯ä¸å¯å†™å…¥çš„çŠ¶æ€å—ï¼Ÿ<br>ä»èŠ‚ç‚¹æ˜¯å¯ä»¥è¢« å®¢æˆ·ç«¯è¯»å–æ•°æ®çš„å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1183318,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0e/56/2c5691b2.jpg","nickname":"å¸ƒå…œå…œ","note":"","ucode":"E8B0F47D52E826","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558362,"discussion_content":"Redisåº”è¯¥æ˜¯ap æ¨¡å‹ï¼Œé€‰ä¸»æœŸé—´ä¸èƒ½å¯¹å¤–æä¾›æœåŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648256210,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335595,"user_name":"å¹³è¡¡çš„çº¢æœ","can_delete":false,"product_type":"c1","uid":1264687,"ip_address":"","ucode":"FC06861D00B9B1","user_header":"https://static001.geekbang.org/account/avatar/00/13/4c/2f/3ec98bc1.jpg","comment_is_top":false,"comment_ctime":1645599782,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1645599782","product_id":100056701,"comment_content":"è¿›è¡Œä¸»ä»åˆ‡æ¢çš„è¿‡ç¨‹ä¸­ï¼Œredisè¿˜èƒ½æ­£å¸¸æ‰§è¡Œå†™æ“ä½œä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2420294,"avatar":"https://static001.geekbang.org/account/avatar/00/24/ee/46/7d65ae37.jpg","nickname":"æœ¨å‡ ä¸¶","note":"","ucode":"FFDB958DA64F8C","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554071,"discussion_content":"ä¸èƒ½ï¼Œæ‰€ä»¥è¦åˆç†é…ç½®down-after-millisecondsçš„å€¼ï¼Œå¤ªå¤§å½±å“ä¸šåŠ¡æ—¶é—´è¿‡é•¿ï¼Œå¤ªå°å®¹æ˜“è¯¯åˆ¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646205540,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334554,"user_name":"rjkfs","can_delete":false,"product_type":"c1","uid":2174117,"ip_address":"","ucode":"082A71EDBD415A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/OOLN4OJeQSBXnc1YoVIu2uvBS7OGDeicsfMhQGsC8HddfhsH0xrf4KCjvsR31SABLy6uz88c1GOnIpjXlY3Uqvw/132","comment_is_top":false,"comment_ctime":1644999293,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1644999293","product_id":100056701,"comment_content":"è€å¸ˆè¯·æ•™ä¸€ä¸‹ï¼š<br>è€å¸ˆåœ¨æ–‡ç« ä¸­ä»‹ç»åˆ°ï¼šå®¢æˆ·ç«¯å¯ä»¥ä»å“¨å…µè®¢é˜…æ¶ˆæ¯ï¼Œé‚£ä¹ˆå­˜åœ¨å¤šä¸ªå“¨å…µçš„æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯æ˜¯æ€ä¹ˆè®¢é˜…çš„å“¨å…µå‘¢ï¼Ÿ<br>1ã€è‹¥æ˜¯å®¢æˆ·ç«¯é…ç½®äº†æ‰€æœ‰å“¨å…µä¿¡æ¯ï¼Œé‚£ä¹ˆæ€ä¹ˆåœ¨ä¼—å¤šå“¨å…µä¸­é€‰æ‹©çš„ä¸€ä¸ªå“¨å…µè®¢é˜…æ¶ˆæ¯å‘¢ï¼Ÿè´Ÿè½½å‡è¡¡å—ï¼Ÿ<br>2ã€è‹¥æ˜¯å®¢æˆ·ç«¯åªé€‰æ‹©å…¶ä¸­ä¸€ä¸ªå“¨å…µè®¢é˜…æ¶ˆæ¯ï¼Œé‚£ä¹ˆè¯¥è®¢é˜…çš„å“¨å…µæ­£å¥½ä¸‹çº¿äº†ï¼Œå®¢æˆ·ç«¯å°±ä¸æœåŠ¡å¤±è”äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2420294,"avatar":"https://static001.geekbang.org/account/avatar/00/24/ee/46/7d65ae37.jpg","nickname":"æœ¨å‡ ä¸¶","note":"","ucode":"FFDB958DA64F8C","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554080,"discussion_content":"1ã€è·Ÿå®¢æˆ·ç«¯å®ç°æœ‰å…³ï¼Œä»¥Javaçš„lettuceä¸ºä¾‹ï¼Œä¼šä¾æ¬¡è¿æ¥sentinelï¼ˆå°±æ˜¯ä»å¤´éå†è¿™ä¸ªlistï¼Œæ²¡æœ‰ç‰¹æ®Šçš„ç®—æ³•ï¼Œä¹Ÿæ²¡æœ‰è´Ÿè½½å‡è¡¡ï¼‰ï¼Œç›´åˆ°è¿æ¥æˆåŠŸï¼Œå¦‚æœéƒ½ä¸æˆåŠŸï¼Œå°±è¿æ¥å¤±è´¥è€ŒæŠ¥é”™ã€‚\n2ã€ä»»ä½•ä¸€ä¸ªåˆæ ¼çš„æ•°æ®åº“è¿æ¥æ± ï¼Œéƒ½ä¼šåšè¿æ¥ä¿æ´»ï¼Œå¦‚æœæ­£å¥½å“¨å…µä¸‹çº¿ï¼Œè¿æ¥æ± å†é‡æ–°è¿ä¸€ä¸ªå°±å¥½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646207106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331722,"user_name":"lobby","can_delete":false,"product_type":"c1","uid":1181960,"ip_address":"","ucode":"8D81722BE36AD4","user_header":"https://static001.geekbang.org/account/avatar/00/12/09/08/f3547e77.jpg","comment_is_top":false,"comment_ctime":1642736785,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1642736785","product_id":100056701,"comment_content":"quorumè¿™ä¸ªæ•°é‡å¯ä»¥ç”¨äºåˆ¤å®šä¸»åº“å®¢è§‚ä¸‹çº¿ï¼Œå´ä¸èƒ½ç”¨äºå“¨å…µé€‰ä¸»ï¼Œæ˜¯å› ä¸ºé€‰leaderçš„ç®—æ³•è‡ªèº«ç†è®ºçš„æ€§è´¨ï¼Œè¿˜æ˜¯å…¶ä»–çš„ä»€ä¹ˆåŸå› å‘¢","like_count":0,"discussions":[{"author":{"id":2420294,"avatar":"https://static001.geekbang.org/account/avatar/00/24/ee/46/7d65ae37.jpg","nickname":"æœ¨å‡ ä¸¶","note":"","ucode":"FFDB958DA64F8C","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554082,"discussion_content":"å› ä¸ºsentinelé€‰leaderæ˜¯åŸºäºraftåè®®ï¼Œraftåè®®å¿…é¡»åŠæ•°ä»¥ä¸ŠæŠ•ç¥¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646207263,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330084,"user_name":"Lee","can_delete":false,"product_type":"c1","uid":1344535,"ip_address":"","ucode":"6B8D59A0B1A1A9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqOn7k48KXia5rf0eXpzv2EGtqGibz3eNb8QnL8X72uia0g1rBwzXef4dV2JEdz3r4bu9GC1FLIeic4UA/132","comment_is_top":false,"comment_ctime":1641791478,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641791478","product_id":100056701,"comment_content":"è¯¢é—®å¦ä¸€ä¸ªå“¨å…µæ—¶ï¼Œå¦‚æœåˆšå¥½è¿™ä¸ªå“¨å…µå·²ç»å‘é€äº†å¿ƒè·³æ£€æµ‹ï¼Œè¿˜ä¼šå†å‘ä¸€æ¬¡ï¼Œæœ€åå‘Šè¯‰å‘èµ·è¯¢é—®çš„å“¨å…µï¼Œpingçš„ç»“æœï¼Ÿ","like_count":0},{"had_liked":false,"id":328153,"user_name":"å°é™¶å­","can_delete":false,"product_type":"c1","uid":2530294,"ip_address":"","ucode":"96B606717EC3FB","user_header":"https://static001.geekbang.org/account/avatar/00/26/9b/f6/f81cc835.jpg","comment_is_top":false,"comment_ctime":1640575687,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1640575687","product_id":100056701,"comment_content":"è¯·é—®ï¼Œå“¨å…µå®ä¾‹å’Œæ•°æ®åº“å®ä¾‹åœ¨æ•°é‡ä¸Šæœ‰å…³ç³»å—ï¼Œå¯ä»¥å“¨å…µå®ä¾‹å’Œæ•°æ®åº“å®ä¾‹æ•°é‡ä¸ä¸€æ ·å—","like_count":0,"discussions":[{"author":{"id":2420294,"avatar":"https://static001.geekbang.org/account/avatar/00/24/ee/46/7d65ae37.jpg","nickname":"æœ¨å‡ ä¸¶","note":"","ucode":"FFDB958DA64F8C","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554083,"discussion_content":"å¯ä»¥ï¼Œæ²¡æœ‰å¿…ç„¶è”ç³»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646207310,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325318,"user_name":"æ ‘å¿ƒ","can_delete":false,"product_type":"c1","uid":1589523,"ip_address":"","ucode":"6C329F0FF798B9","user_header":"https://static001.geekbang.org/account/avatar/00/18/41/13/ab14ad25.jpg","comment_is_top":false,"comment_ctime":1638923601,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1638923601","product_id":100056701,"comment_content":"ç¬¬6-9å°èŠ‚è®²è§£äº†å¦‚ä½•é€šè¿‡å‡å°‘æœåŠ¡ä¸­æ–­æé«˜rediså¯é æ€§ã€‚<br>é¦–å…ˆæ˜¯é€šè¿‡ä¸»ä»åº“æ¨¡å¼ï¼ˆç¬¬6èŠ‚ï¼‰ï¼Œå¢åŠ ä»åº“å†—ä½™å¤‡ä»½ï¼Œä¸»ä»ä¹‹é—´å¯ä»¥å¢é‡å¤‡ä»½ã€‚<br>ä½†æ˜¯ä¸»åº“å¯èƒ½ä¼šæŒ‚æ‰ï¼Œé‚£ä¹ˆå°±éœ€è¦ä¸»ä»åˆ‡æ¢ï¼Œè¿™æ—¶éœ€è¦å“¨å…µï¼ˆç¬¬7èŠ‚ï¼‰åˆ¤æ–­ä¸»åº“ä¸‹çº¿ã€é€‰å‡ºæ–°ä¸»åº“å¹¶é€šçŸ¥ä»åº“ã€‚<br>æ¶æ„æ¼”è¿›åˆ°è¿™ä¸€æ­¥å‘ç°å“¨å…µä¹Ÿå¯èƒ½ä¼šæŒ‚æ‰ï¼Œé‚£ä¹ˆæä¾›å“¨å…µé›†ç¾¤æœºåˆ¶ï¼ˆç¬¬8èŠ‚ï¼‰ã€‚å“¨å…µä¸å“¨å…µä¹‹é—´ã€å“¨å…µå’Œä»åº“ä¹‹é—´ã€å“¨å…µå’Œå®¢æˆ·ç«¯ä¹‹é—´é€šè¿‡pub&#47;subæœºåˆ¶å»ºç«‹è¿æ¥ã€‚ç¡®å®šå“ªä¸ªå“¨å…µæ‰§è¡Œä¸»ä»åˆ‡æ¢ä¹Ÿæ˜¯ä¸€ä¸ªâ€œæŠ•ç¥¨ä»²è£â€çš„è¿‡ç¨‹ã€‚æœ€åï¼Œè€å¸ˆåˆ†äº«äº†ä¸€ä¸ªç»éªŒï¼šè¦ä¿è¯æ‰€æœ‰å“¨å…µå®ä¾‹çš„é…ç½®æ˜¯ä¸€è‡´çš„ï¼Œå°¤å…¶æ˜¯ä¸»è§‚ä¸‹çº¿çš„åˆ¤æ–­å€¼ down-after-millisecondsã€‚","like_count":0},{"had_liked":false,"id":320802,"user_name":"InfoQ_å°æ±¤","can_delete":false,"product_type":"c1","uid":1739070,"ip_address":"","ucode":"E4C30DB7A9B54C","user_header":"https://static001.geekbang.org/account/avatar/00/1a/89/3e/0dd8e96b.jpg","comment_is_top":false,"comment_ctime":1636515133,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1636515133","product_id":100056701,"comment_content":"æƒ³é—®è€å¸ˆä¸€ä¸ªé—®é¢˜ å‡å¦‚æœ‰5ä¸ªå“¨å…µå®ä¾‹ è®¾ç½®quorumä¸º5ï¼Œå•5ä¸ªå“¨å…µéƒ½è®¤ä¸ºä¸»èŠ‚ç‚¹ä¸‹çº¿ï¼Œè¿™ä¸ªè¿™ä¸ªæ—¶å€™ä¸»å“¨å…µæŠ•ç¥¨éœ€è¦3ç¥¨ä»¥ä¸Šå°±å¯ä»¥è¿›è¡Œä¸»ä»åˆ‡æ¢è¿˜æ˜¯å¿…é¡»è¦5ç¥¨ï¼Ÿ<br><br>æŒ‰ç…§è€å¸ˆæ–‡ç« è¯´çš„æ˜¯è¿‡åŠå°±å¯ä»¥ æ„Ÿè§‰è¿™ä¸ªè¯´æ³•è·Ÿå®˜ç½‘çš„æœ‰ç‚¹å‡ºå‡ºå…¥","like_count":0,"discussions":[{"author":{"id":2420294,"avatar":"https://static001.geekbang.org/account/avatar/00/24/ee/46/7d65ae37.jpg","nickname":"æœ¨å‡ ä¸¶","note":"","ucode":"FFDB958DA64F8C","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554084,"discussion_content":"å¿…é¡»5ç¥¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646207345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316489,"user_name":"Wind","can_delete":false,"product_type":"c1","uid":1887603,"ip_address":"","ucode":"AD108636DE44C4","user_header":"https://static001.geekbang.org/account/avatar/00/1c/cd/73/f6889c2f.jpg","comment_is_top":false,"comment_ctime":1634353474,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634353474","product_id":100056701,"comment_content":"æˆ‘è¡¥å……ä¸€å¥ï¼šä¸ºä»€ä¹ˆä¸»ä»åˆ‡æ¢çš„Leaderå¼ºåˆ¶è¦æ±‚ä¸€å®šè¦ç¥¨æ•°è¿‡åŠï¼Ÿå› ä¸ºä¸»ä»åˆ‡æ¢æ˜¯æ•´ä¸ªé«˜å¯ç”¨é‡Œé¢è‡³å…³é‡è¦çš„äº‹æƒ…ï¼Œè¿™ä¸ªè®¾å®šæ˜¯é¿å…ç”¨æˆ·æŠŠquorumå€¼è®¾ç½®è¿‡ä½ï¼Œé€‰å‡ºä¸¤ä¸ªLeaderï¼Œå¯¼è‡´ä¸»ä»åˆ‡æ¢æ··ä¹±ï¼ˆç¥¨æ•°è¦æ±‚ä¸€å®šè¦è¿‡åŠï¼Œæ„å‘³ç€ä¸å¯èƒ½å‡ºç°ä¸¤ä¸ªLeaderæƒ…å†µäº†ï¼‰<br><br>æ¢å¥è¯è¯´ï¼Œå¯¹äºä¸»ä»åˆ‡æ¢é€‰Leaderï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ quorumæ¥å¢åŠ è¾¾åˆ°å…±è¯†çš„è¦æ±‚ï¼Œä½†æ˜¯ä¸èƒ½é™ä½åˆ°é›†ç¾¤æ•°é‡çš„ä¸€åŠã€‚<br><br>çŸ¥é“è¿™ä¸€ç‚¹çš„è¯ï¼Œè€å¸ˆç‰¹åˆ«æ ‡æ³¨çš„ï¼Œä¸¤ä¸ªå“¨å…µæƒ…å†µéœ€è¦è·å–ä¸¤ç¥¨å°±ä¸éš¾ç†è§£äº†ï¼Œå¦‚æœåªæœ‰ä¸€ç¥¨æƒ…å†µä¸‹ï¼Œä¸æ»¡è¶³ç¥¨æ•°è¿‡åŠï¼ˆå¹¶ä¸”ä¹Ÿä¸çŸ¥é“å¦å¤–ä¸€ç¥¨æ˜¯ä¸æ˜¯å¯¹æ–¹æŠ•ç»™è‡ªå·±äº†ï¼‰","like_count":0},{"had_liked":false,"id":308471,"user_name":"èµ´","can_delete":false,"product_type":"c1","uid":2675954,"ip_address":"","ucode":"D47B3179BE3950","user_header":"https://static001.geekbang.org/account/avatar/00/28/d4/f2/3c0bfa0e.jpg","comment_is_top":false,"comment_ctime":1629636181,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1629636181","product_id":100056701,"comment_content":"æœ‰å¤§ä½¬å›ç­”å°ç»“é—®é¢˜ï¼Œè¯´ä¸èƒ½ä¸»ä»åˆ‡æ¢ã€‚ä»æ–‡ç« é‡Œå¯ä»¥çœ‹åˆ°ï¼Œå“¨å…µæ˜¯å¯ä»¥çŸ¥é“å…¶å®ƒå“¨å…µçš„ä¿¡æ¯çš„ï¼Œå¦‚æœå…¶å®ƒæ•…éšœäº†ï¼Œä¸ºä»€ä¹ˆä¸åšç€ï¼Œä»¥ä»–ä»¬ä¸‹çº¿ä¸ºå‡†ã€‚æ€»å“¨å…µå°±æ˜¯2ä¸ªã€‚é‚£ä¸»ä»åˆ‡æ¢ä¸å°±å¯ä»¥äº†ã€‚redisä¸è¿™ä¹ˆè®¾ç½®çš„åŸå› æ˜¯ä¸ºä»€ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1123146,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/4a/c608bdf6.jpg","nickname":"ä¸‰çŸ³","note":"","ucode":"734DCECABC3BEC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":396500,"discussion_content":"è¯•ç€å›ç­”ä¸€ä¸‹ï¼Œå“¨å…µçš„é€‰leaderæ˜¯ä¸è¿›è¡Œé€šçŸ¥çš„ï¼Œéƒ½æ˜¯è‡ªè¡Œåˆ¤æ–­ç¥¨æ•°åè¾¾æ ‡æ—¢å¯ï¼Œå¦‚æœä¸ç”¨æ€»æ•°ï¼Œè€Œç”¨å“¨å…µçš„æœ‰æ•ˆèŠ‚ç‚¹æ•°ï¼ŒfailoveræœŸé—´æ•…éšœçš„èŠ‚ç‚¹å¯èƒ½åˆæ­£å¸¸äº†ï¼Œå·§åˆåˆè¿‡åŠæ•°äº†ï¼Œæœ‰å¯èƒ½åŒæ—¶è¿›è¡Œä¸¤æ¬¡çš„é€‰ä¸»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632446835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305116,"user_name":"Heaven","can_delete":false,"product_type":"c1","uid":1694207,"ip_address":"","ucode":"FA33FBCC66C911","user_header":"https://static001.geekbang.org/account/avatar/00/19/d9/ff/b23018a6.jpg","comment_is_top":false,"comment_ctime":1627826508,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627826508","product_id":100056701,"comment_content":"ä¸èƒ½åšåˆ°ä¸»ä»åˆ‡æ¢,å› ä¸ºå¿…é¡»è¦æ‹¿åˆ°ä¸€ä¸ªå¤šæ•°çš„é€‰ç¥¨<br>ç„¶åå¦‚æœè°ƒå¤§down-after-millisecondsçš„å€¼,å¯ä»¥å‡ä½è¯¯åˆ¤,ä½†æ˜¯ä¼šåŠ å¤§çœŸæ­£å‡ºç°ä¸‹çº¿æ—¶å€™çš„ä¸»ä»åˆ‡æ¢æ—¶é—´,å½±å“ä¸šåŠ¡<br>","like_count":0},{"had_liked":false,"id":303700,"user_name":"leyuan","can_delete":false,"product_type":"c1","uid":1546485,"ip_address":"","ucode":"D7D9205A9B3B2A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/AJmpR2F7VOW8z4Q5OKj4MqQMpWBcj6880QUZTv5bf7SLpLzhtUEGh1krnLyV4jiaGFp3V5S96uvzO7dGmh4mmWQ/132","comment_is_top":false,"comment_ctime":1626937076,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626937076","product_id":100056701,"comment_content":"æ˜¯ä¸æ˜¯è¿˜æœ‰ä¸€ä¸ªè¿›ç¨‹å»æ‰§è¡Œå®¢è§‚ä¸‹çº¿å’Œå“¨å…µleaderé€‰ä¸¾çš„æ‰§è¡Œï¼Œç±»ä¼¼è£åˆ¤çš„è§’è‰²ï¼Œè¿˜æ˜¯å“¨å…µè‡ªå·±æ‰¿æ‹…äº†è¿™ä¸ªè§’è‰²","like_count":0},{"had_liked":false,"id":301492,"user_name":"Inno","can_delete":false,"product_type":"c1","uid":2142543,"ip_address":"","ucode":"8CB14D9A54CC9B","user_header":"https://static001.geekbang.org/account/avatar/00/20/b1/4f/f0b9b11d.jpg","comment_is_top":false,"comment_ctime":1625714612,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1625714612","product_id":100056701,"comment_content":"æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œåˆ¤å®šä¸»åº“å®¢è§‚çº¿ä¸‹çš„quorumå€¼ä¸å“¨å…µé€‰ä¸¾leaderçš„quorumæ˜¯åŒä¸€ä¸ªå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1123146,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/4a/c608bdf6.jpg","nickname":"ä¸‰çŸ³","note":"","ucode":"734DCECABC3BEC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":396512,"discussion_content":"æ˜¯çš„ï¼Œleaderé€‰ä¸¾è¿˜æœ‰ä¸ªå€¼è¦åˆ¤æ–­ï¼Œé‚£å°±æ˜¯æ€»æ•°è¿‡åŠçš„æŠ•ç¥¨æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632447310,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300967,"user_name":"hosea","can_delete":false,"product_type":"c1","uid":1139587,"ip_address":"","ucode":"59F44F97A6288F","user_header":"https://static001.geekbang.org/account/avatar/00/11/63/83/17d246f1.jpg","comment_is_top":false,"comment_ctime":1625472262,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1625472262","product_id":100056701,"comment_content":"æœå“¨å…µä¹‹é—´æ˜¯é€šè¿‡masterèŠ‚ç‚¹æ¥é€šè®¯çš„ï¼Œå“¨å…µaå‘ç°äº†masterèŠ‚ç‚¹aæŒ‚äº† å‡è®¾æ˜¯ç½‘ç»œé—®é¢˜ï¼Œä»–æ€ä¹ˆé€šçŸ¥åˆ«çš„å“¨å…µèŠ‚ç‚¹ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿè¦è¿ç”¨ä»èŠ‚ç‚¹çš„å‘å¸ƒå’Œè®¢é˜…","like_count":0,"discussions":[{"author":{"id":1357315,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoVRER40LhyAhBK6YgPYibRzWARkc3efUquib4j9BPru4y8FfvXK2sBPbXej9314pZdfdcxb07RcjZw/132","nickname":"é…·é…·çš„åµ©","note":"","ucode":"EF249E96F42491","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386818,"discussion_content":"å“¨å…µæ˜¯é€šè¿‡pubsubæ¥æ„ŸçŸ¥å…¶ä»–å“¨å…µçš„åœ°å€ï¼Œä¹‹åå“¨å…µé—´å»ºç«‹è¿æ¥é€šä¿¡ï¼Œä¸éœ€è¦ä¾èµ–masteräº†","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1627818175,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300185,"user_name":"bigben","can_delete":false,"product_type":"c1","uid":1169313,"ip_address":"","ucode":"DBD15A6C8E2590","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJkeOAC8k7aPMfQZ4ickiavpfR9mTQs1wGhGtIicotzAoszE5qkLfFTabkDU2E39ovSgoibJ1IiaLXtGicg/132","comment_is_top":false,"comment_ctime":1625039207,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1625039207","product_id":100056701,"comment_content":"æ¯ä¸ªå“¨å…µçš„é¢‘é“å‘å¸ƒçš„æ•°æ®æ˜¯ä¸æ˜¯ä¸ä¸€æ ·ï¼Ÿé‚£ä¸åŒçš„å®¢æˆ·ç«¯è¿æ¥ä¸åŒçš„å“¨å…µï¼Œå¾—åˆ°çš„é€šçŸ¥ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„å–½ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1123146,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/4a/c608bdf6.jpg","nickname":"ä¸‰çŸ³","note":"","ucode":"734DCECABC3BEC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389175,"discussion_content":"å“¨å…µçš„é¢‘é“ä¸»è¦æ˜¯pubä¸€äº›ç›‘æ§é€‰ä¸»é€šçŸ¥è¿™äº›ä¸»ä»åˆ‡æ¢è¿‡ç¨‹ä¸­å…³é”®äº‹ä»¶çš„çŠ¶æ€ï¼Œåº”è¯¥æ˜¯ä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629166898,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297337,"user_name":"--","can_delete":false,"product_type":"c1","uid":1284574,"ip_address":"","ucode":"99ECDDCFAF477D","user_header":"https://static001.geekbang.org/account/avatar/00/13/99/de/a8b1e731.jpg","comment_is_top":false,"comment_ctime":1623467650,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1623467650","product_id":100056701,"comment_content":"ä»åº“ä¹Ÿéœ€è¦ __sentinel__:hello å§","like_count":0,"discussions":[{"author":{"id":1123146,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/4a/c608bdf6.jpg","nickname":"ä¸‰çŸ³","note":"","ucode":"734DCECABC3BEC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389172,"discussion_content":"åº”è¯¥ä¸éœ€è¦å§ã€‚æŒ‰ç†æ¥è¯´ä»åº“ä¸ä»åº“ä¹‹é—´éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä¸éœ€è¦è¿›è¡Œç›¸äº’é€šä¿¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629166585,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296304,"user_name":"â€œâ€","can_delete":false,"product_type":"c1","uid":1158276,"ip_address":"","ucode":"37C98AE6E7ABDB","user_header":"https://static001.geekbang.org/account/avatar/00/11/ac/84/0411ee6e.jpg","comment_is_top":false,"comment_ctime":1622892212,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622892212","product_id":100056701,"comment_content":"æ‚¨å¥½ è¯·æ•™ä¸‹ åˆ›å»ºå“¨å…µå®ä¾‹æ—¶å€™ å’Œæ¯ä¸ªmasteråˆ›å»ºäº†ä¸¤ä¸ªé“¾æ¥ cc å’Œ pcï¼Œ è¯·é—®åˆ›å»ºpc çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Œç”¨cc å®Œæˆhelloé¢‘é“çš„æ³¨å†Œä¸è¡Œå—ï¼Ÿ æˆ‘ç›®å‰è§‰å¾—æºä»£ç é‡Œåˆ›å»ºpcé“¾æ¥çš„ä½œç”¨ä¸º0 ä½†æ˜¯è‚¯å®šæœ‰ä»€ä¹ˆç›®çš„æˆ‘æ˜¯åœ¨ä¸å¾—è€ŒçŸ¥ ç›®å‰å”¯ä¸€çŒœæµ‹æ˜¯ å› ä¸ºå¼‚æ­¥åˆ›å»ºäº†cc å¦‚æœæƒ³ç”¨ccå®Œæˆæ³¨å†Œhelloé¢‘é“çš„è¯ è¦åœ¨ccé“¾æ¥å›è°ƒé‡Œæ¥æ³¨å†Œ è¯·èµæ•™ã€‚","like_count":0},{"had_liked":false,"id":295205,"user_name":"ldd","can_delete":false,"product_type":"c1","uid":1048068,"ip_address":"","ucode":"7045284AF9038B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fe/04/7ef0b0b8.jpg","comment_is_top":false,"comment_ctime":1622296958,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1622296958","product_id":100056701,"comment_content":"redisä¹Ÿå¤ªè´¹æœºå™¨äº†","like_count":0},{"had_liked":false,"id":291923,"user_name":"null","can_delete":false,"product_type":"c1","uid":1024294,"ip_address":"","ucode":"F9039EFED6B55D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","comment_is_top":false,"comment_ctime":1620609885,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620609885","product_id":100056701,"comment_content":"è¯¾åä¹ é¢˜<br><br>å®¢è§‚ä¸‹çº¿ï¼šå¯ä»¥ã€‚<br>s1 è¯¢é—®æ˜¯å¦ä¸»è§‚ä¸‹çº¿ï¼Œs2 è¡¨ç¤º master å·²ä¸»è§‚ä¸‹çº¿ã€‚2å° slave åˆ¤å®šä¸»è§‚ä¸‹çº¿ï¼Œå¤§äºç­‰äº quorumã€‚åˆ¤å®š master å®¢è§‚ä¸‹çº¿ã€‚<br>æ³¨æ„ï¼Œè¿™é‡Œå’Œ leader é€‰ä¸¾çš„æŠ•ç¥¨ä¸åŒï¼Œæ²¡æœ‰æŠ•å®Œäº†å°±ä¸èƒ½å†æŠ•è¿™é™åˆ¶ã€‚<br><br>ä¸»ä»è‡ªåŠ¨åˆ‡æ¢ï¼šä¸è¡Œã€‚<br>è™½ç„¶èƒ½æ»¡è¶³ quorum æ¡ä»¶ï¼Œä½†æ˜¯ä¸æ»¡è¶³è¶…è¿‡åŠæ•°ï¼š5&#47;2+1=3ã€‚","like_count":0},{"had_liked":false,"id":291612,"user_name":"BertGeek","can_delete":false,"product_type":"c1","uid":1452799,"ip_address":"","ucode":"8E1D72C9F9778C","user_header":"https://static001.geekbang.org/account/avatar/00/16/2a/ff/a9d72102.jpg","comment_is_top":false,"comment_ctime":1620383162,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620383162","product_id":100056701,"comment_content":"1. å‡è®¾æœ‰ä¸€ä¸ª Redis é›†ç¾¤ï¼Œæ˜¯â€œä¸€ä¸»å››ä»â€ï¼ŒåŒæ—¶é…ç½®äº†åŒ…å« 5 ä¸ªå“¨å…µå®ä¾‹çš„é›†ç¾¤ï¼Œquorum å€¼è®¾ä¸º 2ã€‚<br>åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æœæœ‰ 3 ä¸ªå“¨å…µå®ä¾‹éƒ½å‘ç”Ÿæ•…éšœäº†ï¼Œ<br>æ­¤æ—¶ï¼ŒRedis ä¸»åº“å¦‚æœæœ‰æ•…éšœï¼Œå¯ä»¥æ­£å¸¸è¿›è¡Œæ•…éšœåˆ‡æ¢ã€‚<br>ä»…æœ‰çš„2ä¸ªå“¨å…µåŒæ—¶åˆ¤å®šä¸»åº“å®¢è§‚ä¸‹çº¿<br><br>2. ä¸»ä»åº“è‡ªåŠ¨åˆ‡æ¢å—ä¹Ÿæ”¯æŒ<br><br>3. å“¨å…µå®ä¾‹ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œå®ä¾‹çº§æ•°å¤šï¼ŒæŒ‡ä»¤ä¿¡æ¯äº¤äº’æ›´å¤æ‚ï¼Œç­‰å¾…é€‰ä¸¾ä¿¡å·å»¶è¿Ÿã€ç½‘ç»œæ³¢åŠ¨ç­‰ç¯å¢ƒå¤æ‚<br>","like_count":0},{"had_liked":false,"id":288900,"user_name":"ç¬¬å››å•å…ƒ","can_delete":false,"product_type":"c1","uid":1747184,"ip_address":"","ucode":"3ED9D553E1DE17","user_header":"https://static001.geekbang.org/account/avatar/00/1a/a8/f0/529f15e9.jpg","comment_is_top":false,"comment_ctime":1618756203,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1618756203","product_id":100056701,"comment_content":"è¯·é—®æ¯æ¬¡åˆ¤æ–­ä¸»åº“ä¸‹çº¿åï¼Œéƒ½è¦é‡æ–°é€‰ä¸€éleaderå—ï¼Ÿè¿˜æ˜¯Leaderé€‰å‡ºä¸€æ¬¡åå°±å›ºå®šäº†ã€‚","like_count":0,"discussions":[{"author":{"id":1123146,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/4a/c608bdf6.jpg","nickname":"ä¸‰çŸ³","note":"","ucode":"734DCECABC3BEC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389170,"discussion_content":"åº”è¯¥æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œä¸æ˜¯å›ºå®šçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629166174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":288449,"user_name":"æ¨","can_delete":false,"product_type":"c1","uid":1971269,"ip_address":"","ucode":"7EFEFE285975C6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/oltLEqTrmHm2aJP99BK6tHu5h7hp4aj08wR5Wt6H31iadFduDAVvjYKmhQ2nvGbLV3lkVdiat2GRasgWXoJeTibUg/132","comment_is_top":false,"comment_ctime":1618473553,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618473553","product_id":100056701,"comment_content":"æ¯«ä¸çŠ¹è±«çš„è¸©è¿›å‘  è‡ªå·±è®¤ä¸ºåº”è¯¥æ˜¯èƒ½ä¸»ä»åˆ‡æ¢çš„   çœ‹äº†ä¸‹é¢çš„è§£é‡Šæ„å¤–ä½†åˆåˆä¹å¸¸ç† æœç„¶å®è·µæ˜¯æ£€éªŒçœŸç†çš„å”¯ä¸€æ ‡å‡†  ","like_count":0},{"had_liked":false,"id":287206,"user_name":"è€Œç«‹æ–‹","can_delete":false,"product_type":"c1","uid":1087258,"ip_address":"","ucode":"5FED6E9E148195","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/1a/389eab84.jpg","comment_is_top":false,"comment_ctime":1617839783,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617839783","product_id":100056701,"comment_content":"è¿™é‡Œçš„é¢‘é“å…¶å®ä¹Ÿåº”è¯¥æ˜¯å¯¹redisåŸºç¡€èƒ½åŠ›çš„å°è£…ã€‚ä¹Ÿæ˜¯kvè¿›è¡Œå­˜å‚¨ï¼Œæ‰€ä»¥å®ƒçš„ä¸€äº›æ‰€è°“çš„è¿‡æœŸï¼ŒæŒä¹…åŒ–ç­‰é—®é¢˜éƒ½æ˜¯redisçš„åº•å±‚èƒ½åŠ›åŒ…åœ†å„¿äº†ã€‚<br><br>è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ä¸å¤ªæ¸…æ™°ï¼Œå®¢æˆ·ç«¯çŸ¥é“ä¸»ä»åˆ‡æ¢çš„è¿›åº¦å¹²å•¥ï¼Ÿå®ƒä¸æ˜¯åªçŸ¥é“ç»“æœå°±è¡Œå•¦ï¼Ÿ","like_count":0},{"had_liked":false,"id":286602,"user_name":"ausehk","can_delete":false,"product_type":"c1","uid":2222217,"ip_address":"","ucode":"51907491F3477B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erTxyBgqxZZ5sLGJYicO2ibQURNnGynnQChpfLgq3QgV6eWhw3agYzDz5zDFQ8SNhdbb4ibKdmvTyuHw/132","comment_is_top":false,"comment_ctime":1617419589,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617419589","product_id":100056701,"comment_content":"è€å¸ˆè¯·æ•™ä¸‹ï¼š<br>rediså¯åŠ¨äº†å¤šå°‘ä¸ªå®ä¾‹å°±ä¼šé…ç½®å¤šå°‘ä¸ªå“¨å…µå—ï¼Ÿå“¨å…µè·Ÿå®ä¾‹æ˜¯å¦æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚çœ‹æ‚¨çš„ä¸¾ä¾‹å›¾ä¸Šé¢æ˜¯ä¸‰ä¸ªå“¨å…µåé¢æ˜¯ä¸€ä¸»ä¸‰ä»ï¼Œè¿™ç‚¹è®©æˆ‘æœ‰ç‚¹è¿·èŒ«ã€‚<br>","like_count":0},{"had_liked":false,"id":285990,"user_name":"Geek_c98a70","can_delete":false,"product_type":"c1","uid":2290127,"ip_address":"","ucode":"17D5ACBF7E44B7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epIdmlBLywcLF3ADKyicFoRkVocJnu0CBbv6wYMeNGDEKlXRicaok498ybaozAzZbpr8qn8fA3LCdBA/132","comment_is_top":false,"comment_ctime":1617095742,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1617095742","product_id":100056701,"comment_content":"æˆ‘ç”¨çš„clusteræ¨¡å¼3ä¸»3ä»ï¼Œä¸ç”¨å“¨å…µä¹Ÿèƒ½æ­£å¸¸åˆ‡æ¢ï¼Œè¯·æ•™ä¸‹ï¼Œæ˜¯ä¸æ˜¯å¦‚æœä¸€ä¸»å¤šä»å°±å¿…é¡»ä½¿ç”¨å“¨å…µæ¨¡å¼äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375605,"discussion_content":"ä¸æ˜¯å¿…é¡» å¦‚æœæœ‰æ›´å¥½çš„è‡ªç ”æ–¹æ¡ˆå¯ä»¥ä¸ç”¨ã€‚é›†ç¾¤æ¨¡å¼æ˜¯åŸºäºå“¨å…µåšå¼€å‘çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621765194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":285745,"user_name":"è„±ç¼°çš„é‡é©¬__","can_delete":false,"product_type":"c1","uid":1447569,"ip_address":"","ucode":"D5F993E7232C61","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/WtHCCMoLJ2DvzqQwPYZyj2RlN7eibTLMHDMTSO4xIKjfKR1Eh9L98AMkkZY7FmegWyGLahRQJ5ibPzeeFtfpeSow/132","comment_is_top":false,"comment_ctime":1616999788,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616999788","product_id":100056701,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼è¯·é—®ä¸¤ä¸ªé—®é¢˜ã€‚è¿™é‡Œæœ‰ä½ è¯´çš„ä¸€æ®µè¯ï¼šâ€œå“¨å…µå¦‚æœæ²¡æœ‰ç»™è‡ªå·±æŠ•ç¥¨ï¼Œå°±ä¼šæŠŠç¥¨æŠ•ç»™ç¬¬ä¸€ä¸ªç»™å®ƒå‘é€æŠ•ç¥¨è¯·æ±‚çš„å“¨å…µã€‚åç»­å†æœ‰æŠ•ç¥¨è¯·æ±‚æ¥ï¼Œå“¨å…µå°±æ‹’æ¥æŠ•ç¥¨äº†â€ã€‚<br>é—®é¢˜1ï¼šæŸä¸€æ¬¡æŠ•ç¥¨æ— æ³•é€‰å‡ºLeaderï¼Œåœä¸€æ®µæ—¶é—´ä¹‹åï¼ŒæŸä¸ªå“¨å…µä¹‹å‰ç»™åˆ«äººæŠ•ç¥¨çš„è®°å½•æ˜¯ä¼šæ¸…ç©ºå§ï¼Ÿä¸ç„¶æ–°çš„é€‰ä¸¾é‚£ä¸æ˜¯è¿˜æ˜¯ä¼šç»™æ‹’ç»æŠ•ç¥¨ï¼Ÿå…·ä½“æ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿ<br>é—®é¢˜2ï¼šæŸä¸ªå“¨å…µæ”¶åˆ°å…¶å®ƒå“¨å…µçš„æ‹‰ç¥¨è¯·æ±‚ï¼Œé¦–å…ˆä¸ä¼šè¿›è¡Œå®‰å…¨éªŒè¯ä»€ä¹ˆçš„å—ï¼Ÿåªè¦æœ‰æ‹‰ç¥¨è¯·æ±‚è¿›æ¥ï¼Œè¿˜æ²¡æŠ•è¿‡ç¥¨å°±ä¼šç­”åº”ç¬¬ä¸€æ¬¡æ‹‰ç¥¨çš„è¯·æ±‚ï¼Ÿé‚£å¦‚æœé»‘å®¢åˆ›å»ºçš„æ¶æ„å“¨å…µèŠ‚ç‚¹æˆ–è€…æ¶æ„è¯·æ±‚ï¼Œä¸æ˜¯ä¼šä¸¥é‡å¹²æ‰°å“¨å…µé›†ç¾¤ï¼Ÿ","like_count":0},{"had_liked":false,"id":284322,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1616167244,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"1616167244","product_id":100056701,"comment_content":"å“¨å…µæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ç‰¹å®šæ¨¡å¼ä¸‹çš„ Redis å®ä¾‹ï¼Œä¸æœåŠ¡è¯·æ±‚æ“ä½œï¼Œåªå®Œæˆç›‘æ§ã€é€‰ä¸»å’Œé€šçŸ¥çš„ä»»åŠ¡ã€‚<br><br>å¦‚æœå“¨å…µé›†ç¾¤åªæœ‰ 2 ä¸ªå®ä¾‹ï¼Œé‚£ä¹ˆä¸€ä¸ªå“¨å…µæƒ³è¦æˆä¸º Leaderï¼Œå°±å¿…é¡»è·å¾—ä¸¤ç¥¨ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œå°±å¾ˆå®¹æ˜“å¹³åˆ†ï¼ˆæ­»é”ï¼‰ã€‚<br><br>æœ‰ä¸€ä¸ªç–‘é—®ï¼Œå“¨å…µæ˜¯å•ç‹¬éƒ¨ç½²è¿˜æ˜¯å’Œ Redis çš„èŠ‚ç‚¹éƒ¨ç½²åœ¨ä¸€èµ·ï¼Ÿæˆ‘è§‰å¾—å¯èƒ½æ˜¯éƒ¨ç½²åœ¨ä¸€èµ·çš„ã€‚<br><br>å¯¹äºè¯¾åé¢˜ï¼Œå› ä¸ºæ²¡æœ‰å®æˆ˜ç»éªŒï¼Œåªèƒ½å½“åšæ€è€ƒç»ƒä¹ æ¥åšã€‚<br><br>æˆ‘è§‰çš„åœ¨â€œä¸€ä¸»å››ä»â€ + 5 ä¸ªå“¨å…µå®ä¾‹çš„é›†ç¾¤ï¼Œå¦‚æœ 3 ä¸ªå“¨å…µå®ä¾‹æ•…éšœï¼Œè€Œ quorum çš„å€¼æ˜¯ 2ï¼Œä¼¼ä¹èƒ½å¤Ÿåˆ¤æ–­å‡ºä¸»åº“â€œå®¢è§‚ä¸‹çº¿â€ï¼Œä½†æ˜¯åœ¨é€‰ä¸»çš„æ—¶å€™ï¼Œæœ‰å¯èƒ½ä¼šé‡åˆ°é—®é¢˜ã€‚<br><br>å“¨å…µä¼¼ä¹å¹¶ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œæœ€å¥½æ˜¯å•æ•°ï¼Œä½†æ˜¯å¤šäº†ä¹‹åä¹Ÿå®¹æ˜“èµ·å†²çªã€‚<br><br>å¦‚æœè°ƒå¤§ down-after-milliseconds çš„å€¼ï¼Œé‚£ä¹ˆå¯èƒ½åœ¨ä¸»åº“â€œå®¢è§‚ä¸‹çº¿â€ä¹‹åå¾ˆé•¿ä¸€æ®µæ—¶é—´æ²¡æœ‰åŠæ³•ç¡®è®¤ï¼Œå½±å“ä¸»ä»åˆ‡æ¢ï¼Œè¿›è€Œå½±å“ä¸šåŠ¡ã€‚","like_count":0},{"had_liked":false,"id":283980,"user_name":"æµ©ç€šæœ‰è¾¹","can_delete":false,"product_type":"c1","uid":1087384,"ip_address":"","ucode":"B4540E94EAFFE0","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/98/5ef15aa0.jpg","comment_is_top":false,"comment_ctime":1616028659,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1616028659","product_id":100056701,"comment_content":"å¦‚æœä¸»åº“æŒ‚äº†ï¼Œå“¨å…µé›†ç¾¤å°±è¦é€‰ä¸¾leaderæ¥æ‰§è¡Œä¸»ä»åˆ‡æ¢ï¼Œå¦‚æœç»è¿‡å‡ è½®æŠ•ç¥¨æ‰é€‰å‡ºï¼Œé‚£è¿™ä¸ªè¿‡ç¨‹redisé›†ç¾¤å¯¹å¤–å°±æ— æ³•æä¾›å†™æœåŠ¡ï¼Œæœ‰æ²¡æœ‰å¥½çš„è§£å†³åŠæ³•å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375606,"discussion_content":"æŠŠè¯·æ±‚è®°å½•ä¸‹æ¥ å†å›æ”¾ åªä¸è¿‡å›æ”¾å®Œæˆå‰å†™æ“ä½œä¸èƒ½å¯¹å¤–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621765250,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":278327,"user_name":"å…«ç™¾","can_delete":false,"product_type":"c1","uid":1253530,"ip_address":"","ucode":"79F1F79ADF5A00","user_header":"https://static001.geekbang.org/account/avatar/00/13/20/9a/3b1c65fd.jpg","comment_is_top":false,"comment_ctime":1612881355,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1612881355","product_id":100056701,"comment_content":"ç¬¬ä¸€è½®æŠ•ç¥¨æ²¡æœ‰è¾¾åˆ°å…±è¯†ï¼Œé€‰å‡ºleaderå“¨å…µï¼Œç¬¬äºŒè½®çš„æ—¶å€™æ€ä¹ˆçŸ¥é“è‡ªå·±è¿˜å¯ä»¥æŠ•ç¥¨ï¼Ÿè¶…æ—¶é‡ç½®æŠ•ç¥¨æœºä¼šï¼Ÿè¿˜æ˜¯ä¼šæœ‰ä¸€ä¸ªè½®æ•°çš„æ ‡å¿—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1123146,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/4a/c608bdf6.jpg","nickname":"ä¸‰çŸ³","note":"","ucode":"734DCECABC3BEC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389177,"discussion_content":"æ¯è½®æŠ•ç¥¨éƒ½æœ‰ä¸€ä¸ªçºªå…ƒï¼ˆepochï¼‰çš„æ¦‚å¿µï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºä¸€ä¸ªé€’å¢ç‰ˆæœ¬å·ã€‚é€‰ä¸»åè¶…è¿‡ä¸€å®šæ—¶é—´è¿˜æ²¡é€‰å‡ºæ¥ä¼šï¼Œé€’å¢ä¸€ä¸ªç‰ˆæœ¬å·é‡æ–°å¼€å§‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629167120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":278114,"user_name":"Jaime","can_delete":false,"product_type":"c1","uid":1078333,"ip_address":"","ucode":"904192CC4E916F","user_header":"https://static001.geekbang.org/account/avatar/00/10/74/3d/54bbc1df.jpg","comment_is_top":false,"comment_ctime":1612768083,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1612768083","product_id":100056701,"comment_content":"é—®é—®è€å¸ˆï¼Œå“¨å…µå¯ä»¥è·Ÿä¸»åº“ä»åº“éƒ¨ç½²åœ¨åŒä¸€å°æœºå™¨ä¸Šï¼Œè¿˜æ˜¯å¿…é¡»è¦å•ç‹¬éƒ¨ç½²å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":277504,"user_name":"ladba","can_delete":false,"product_type":"c1","uid":1232522,"ip_address":"","ucode":"78ADCE66B403A4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/K8uoNDBqLNQicA8KOecJIb6DWrt7YJuy99VsVpAqPZia2SzSGyECAaPhFU5td1cO9wqjWIqLWIzfxd5DqmUXTKibw/132","comment_is_top":false,"comment_ctime":1612435649,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612435649","product_id":100056701,"comment_content":"è¿™äº›é¢‘é“ï¼Œæˆ‘ç†è§£ä¸ºåƒkafkaä¸­çš„topicçš„æ¦‚å¿µã€‚è¿™ä¸ªå“¨å…µæœºåˆ¶æ„Ÿè§‰é›†æˆäº†raftå’Œæ¶ˆæ¯è®¢é˜…ã€‚","like_count":0},{"had_liked":false,"id":276687,"user_name":"silentyears","can_delete":false,"product_type":"c1","uid":1061748,"ip_address":"","ucode":"6E137BFEB874CA","user_header":"https://static001.geekbang.org/account/avatar/00/10/33/74/d9d143fa.jpg","comment_is_top":false,"comment_ctime":1612078291,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1612078291","product_id":100056701,"comment_content":"è¯·é—®è€å¸ˆï¼š<br>æ–‡ä¸­â€œâ€è®©å®¢æˆ·ç«¯ä»å“¨å…µè¿™é‡Œè®¢é˜…æ¶ˆæ¯äº†ã€‚å…·ä½“çš„æ“ä½œæ­¥éª¤æ˜¯ï¼Œå®¢æˆ·ç«¯è¯»å–å“¨å…µçš„é…ç½®æ–‡ä»¶åï¼Œå¯ä»¥è·å¾—å“¨å…µçš„åœ°å€å’Œç«¯å£ï¼Œå’Œå“¨å…µå»ºç«‹ç½‘ç»œè¿æ¥â€     <br>1ã€é…ç½®çš„å“¨å…µå¦‚æœæŒ‚äº†æ€ä¹ˆåŠï¼Ÿ<br>2ã€å¤šä¸ªå®¢æˆ·ç«¯ç›‘å¬åˆ°çš„æ¥è‡ªä¸åŒå“¨å…µçš„äº‹ä»¶æ˜¯å¦ä¼šä¸ä¸€è‡´ï¼Ÿ<br>3ã€å“¨å…µleaderæ˜¯åªæœ‰åœ¨æŒ‡æŒ¥ä¸»&#47;ä»åˆ‡æ¢è¿‡ç¨‹æ—¶æ‰æœ‰çš„æ¦‚å¿µå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":275553,"user_name":"æ—è‚¯","can_delete":false,"product_type":"c1","uid":1008582,"ip_address":"","ucode":"D2C97220230DE5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/c6/d6ea3df3.jpg","comment_is_top":false,"comment_ctime":1611582824,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1611582824","product_id":100056701,"comment_content":"å“¨å…µæœºåˆ¶æœ‰ç‚¹ç±»ä¼¼äºkafkaä¸­çš„zookeeperï¼Œkafkaæ˜¯å¼•å…¥å¤–éƒ¨æ³¨å†Œä¸­å¿ƒï¼Œredisæ˜¯è‡ªå·±å®ç°ä¸€å¥—","like_count":0,"discussions":[{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375607,"discussion_content":"ç”¨zkæ˜¯å› ä¸ºå½“æ—¶è‡ªå·±å†™ä¸€å¥—raftæ¯”è¾ƒç¹ç 2.8çš„ç‰ˆæœ¬å·²ç»æ‹¿æ‰äº† è‡ªå·±å†™äº†kraft","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621765324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":274528,"user_name":"hpfish","can_delete":false,"product_type":"c1","uid":1217377,"ip_address":"","ucode":"86DB066E5B6D89","user_header":"https://static001.geekbang.org/account/avatar/00/12/93/61/3e4607c7.jpg","comment_is_top":false,"comment_ctime":1611047671,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611047671","product_id":100056701,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜è¯·æ•™ä¸‹ï¼Œæˆ‘åœ¨é²²é¹ç¯å¢ƒï¼ˆarm64ï¼‰é€šè¿‡k8séƒ¨äº†3ä¸ªèŠ‚ç‚¹çš„å“¨å…µï¼Œç¢°åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå“¨å…µè€æ˜¯ä¼šä¸»åŠ¨ +reboot master mymasterï¼Œå¹¶ä¸”ä¹Ÿæ²¡æœ‰è§¦å‘æ•…éšœè½¬ç§»ï¼ŒRedisçš„ç‰ˆæœ¬æ˜¯4.0.12ï¼Œæƒ³é—®ä¸€ä¸‹æœ‰æ²¡æœ‰å¥½çš„å®šä½æ‰‹æ®µ","like_count":0},{"had_liked":false,"id":273879,"user_name":"CityAnimal","can_delete":false,"product_type":"c1","uid":1139902,"ip_address":"","ucode":"206491F70572AE","user_header":"https://static001.geekbang.org/account/avatar/00/11/64/be/12c37d15.jpg","comment_is_top":false,"comment_ctime":1610703523,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1610703523","product_id":100056701,"comment_content":"ç¬”è®°æ‰“å¡<br>    * [ ] å“¨å…µé›†ç¾¤ä¸­çš„å¤šä¸ªå®ä¾‹å…±åŒåˆ¤æ–­ï¼Œå¯ä»¥é™ä½å¯¹**ä¸»åº“ä¸‹çº¿**çš„**è¯¯åˆ¤ç‡**<br>    * [ ] é…ç½®<br>        * [ ] sentinel monitor &amp;lt;master-name&amp;gt; &amp;lt;ip&amp;gt; &amp;lt;redis-port&amp;gt; &amp;lt;quorum&amp;gt;<br>            * [ ] **quorum**: the number of Sentinels that need to agree about the fact the master is not reachable<br>            * [ ] **Sentinel never starts a failover if the majority of Sentinel processes are unable to talk**<br>    * [ ] å“¨å…µé›†ç¾¤ç»„æˆ: åŸºäº **pub&#47;sub** æœºåˆ¶<br>        * [ ] å“¨å…µå‘ç°ï¼š<br>            * [ ] ä¸»åº“é¢‘é“â€œ__sentinel__:helloâ€ï¼Œä¸åŒå“¨å…µé€šè¿‡å®ƒç›¸äº’å‘ç°ï¼Œå®ç°äº’ç›¸é€šä¿¡<br>        * [ ] å‘ç°ä»åº“<br>            * [ ] å‘ä¸»åº“å‘é€ INFO å‘½ä»¤<br>    * [ ] åŸºäº pub&#47;sub æœºåˆ¶çš„å®¢æˆ·ç«¯äº‹ä»¶é€šçŸ¥<br>        * [ ] äº‹ä»¶ï¼šä¸»åº“ä¸‹çº¿äº‹ä»¶<br>            * [ ] +sdown : å®ä¾‹è¿›å…¥â€œä¸»è§‚ä¸‹çº¿â€çŠ¶æ€<br>            * [ ] -sdown : å®ä¾‹é€€å‡ºâ€œä¸»è§‚ä¸‹çº¿â€çŠ¶æ€<br>            * [ ] +odown : å®ä¾‹è¿›å…¥â€œå®¢è§‚ä¸‹çº¿â€çŠ¶æ€<br>            * [ ] -odown : å®ä¾‹é€€å‡ºâ€œå®¢è§‚ä¸‹çº¿â€çŠ¶æ€<br>        * [ ] äº‹ä»¶ï¼šä»åº“é‡æ–°é…ç½®äº‹ä»¶<br>            * [ ] +slave-reconf-sent : å“¨å…µå‘é€ SLAVEOF å‘½ä»¤é‡æ–°é…ç½®ä»åº“<br>            * [ ] +slave-reconf-inprog : ä»åº“é…ç½®äº†æ–°ä¸»åº“ï¼Œä½†å°šæœªè¿›è¡ŒåŒæ­¥<br>            * [ ] +slave-reconf-done : ä»åº“é…ç½®äº†æ–°ä¸»åº“ï¼Œä¸”å®ŒæˆåŒæ­¥<br>        * [ ] äº‹ä»¶ï¼šæ–°ä¸»åº“åˆ‡æ¢<br>            * [ ] +switch-master : ä¸»åº“åœ°å€å‘ç”Ÿå˜åŒ–<br>    * [ ] ç”±å“ªä¸ªå“¨å…µæ‰§è¡Œä¸»ä»åˆ‡æ¢ï¼Ÿ<br>        * [ ] ä¸€ä¸ªå“¨å…µè·å¾—äº†ä»²è£**æ‰€éœ€çš„èµæˆç¥¨æ•°**åï¼Œå°±å¯ä»¥æ ‡è®°ä¸»åº“ä¸ºâ€œå®¢è§‚ä¸‹çº¿â€<br>            * [ ] æ‰€éœ€çš„èµæˆç¥¨æ•° &amp;lt;= quorum é…ç½®é¡¹<br>        * [ ] â€œLeader é€‰ä¸¾â€<br>            * [ ] ä¸¤ä¸ªæ¡ä»¶ï¼š<br>                * [ ] æ‹¿åˆ°åŠæ•°ä»¥ä¸Šçš„èµæˆç¥¨<br>                * [ ] æ‹¿åˆ°çš„ç¥¨æ•°&amp;gt;= quorum<br>            * [ ] å¦‚æœæœªé€‰å‡ºï¼Œåˆ™é›†ç¾¤ä¼šç­‰å¾…ä¸€æ®µæ—¶é—´ï¼ˆå“¨å…µæ•…éšœè½¬ç§»è¶…æ—¶æ—¶é—´çš„ 2 å€ï¼‰ï¼Œå†é‡æ–°é€‰ä¸¾<br>    * [ ] ç»éªŒï¼šè¦ä¿è¯æ‰€æœ‰å“¨å…µå®ä¾‹çš„**é…ç½®æ˜¯ä¸€è‡´**çš„<br>        * [ ] å°¤å…¶æ˜¯ä¸»è§‚ä¸‹çº¿çš„åˆ¤æ–­å€¼ down-after-milliseconds","like_count":0,"discussions":[{"author":{"id":1102245,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d1/a5/2bbedc3b.jpg","nickname":"over","note":"","ucode":"FE272AC19842D3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376168,"discussion_content":"ç”¨ä»€ä¹ˆè½¯ä»¶å¯¼å‡ºæ¥çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621999793,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272376,"user_name":"å¤§é˜¿æ‹‰ä¼¯äºº","can_delete":false,"product_type":"c1","uid":1012981,"ip_address":"","ucode":"C0FC9D58B7F7D6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Ieq85mIZlQOujShKNS1j3nJa3KXmxG9ib3CoxHibmBlbLGUs6SURZS5XuOyb9El9McLWs25NNVZo5TUazErUEGVg/132","comment_is_top":false,"comment_ctime":1610071264,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1610071264","product_id":100056701,"comment_content":"è€å¸ˆé—®ä¸‹ï¼šæœ‰ä¸¤å°æœºå™¨åˆ†åˆ«ä¸ºmaster&#47;slaveï¼Œè¿™ä¸¤å°ä¸Šæœ‰åˆ†åˆ«å„æœ‰ä¸€ä¸ªå“¨å…µå®ä¾‹ï¼Œç°åœ¨masteræœºå™¨æŒ‚äº†ï¼Œæˆ‘å¦‚æœè®¾ç½®quorumçš„å€¼ä¸º1ï¼Œèƒ½æ­£å¸¸åˆ‡æ¢å—","like_count":0,"discussions":[{"author":{"id":2420294,"avatar":"https://static001.geekbang.org/account/avatar/00/24/ee/46/7d65ae37.jpg","nickname":"æœ¨å‡ ä¸¶","note":"","ucode":"FFDB958DA64F8C","race_medal":5,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373411,"discussion_content":"èƒ½åˆ¤å®šå®¢è§‚ä¸‹çº¿ï¼Œä½†ä¸èƒ½æ­£å¸¸åˆ‡æ¢ã€‚é€‰ä¸¾çš„æ—¶å€™è¦è¶…è¿‡åŠæ•°çš„èµæˆç¥¨ï¼Œ2å°æŒ‚äº†1å°æ˜¯æ²¡åŠæ³•å®Œæˆçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620720702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1022411,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/99/cb/8964faab.jpg","nickname":"-åªæ˜¯å°å°é…è§’_","note":"","ucode":"EFC1CD54A23F39","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348402,"discussion_content":"è®¤ä¸ºquorumè®¾ç½®æˆ1å¯ä»¥å®Œæˆæ•…éšœæ¢å¤ï¼Œä½†è®¾ç½®æˆ1ä¼šå¯¼è‡´è¯¯åˆ¤çš„æƒ…å†µå¤§é‡å‘ç”Ÿï¼Œä¸»ä»åˆ‡æ¢å¢å¤šï¼Œå¯¹é›†ç¾¤å¯ç”¨æ€§æœ‰å½±å“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612535134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":270135,"user_name":"Andrew.Fang","can_delete":false,"product_type":"c1","uid":2359194,"ip_address":"","ucode":"1D754BBFC223F4","user_header":"https://static001.geekbang.org/account/avatar/00/23/ff/9a/f7d84a69.jpg","comment_is_top":false,"comment_ctime":1608948925,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608948925","product_id":100056701,"comment_content":"å…·ä½“é¡¹ç›®ä¸­å“¨å…µé›†ç¾¤åº”è¯¥æ”¾åœ¨å“ªäº›æœºå™¨ä¸Šï¼Œæ˜¯æ¯ä¸ªä¸»ä»åº“éƒ½æœ‰ä¸€ä¸ªå“¨å…µï¼Œè¿˜æ˜¯ä¸€å°æœºå™¨ä¸Šå¯ä»¥å¤šä¸ªå“¨å…µï¼Œè¿˜æ˜¯å•ç‹¬ä¸€å°æ²¡æœ‰rediså®ä¾‹çš„æœºå™¨ä¸Šè¿è¡Œå“¨å…µ?<br>è¿˜æœ‰ï¼Œä¸¤ä¸ªå¤„ç†ä¸åŒä¸šåŠ¡çš„redisä¸»ä»é›†ç¾¤å¯ä»¥ç”¨ä¸€å¥—å“¨å…µé›†ç¾¤æ¥ç›‘æ§å—?","like_count":0},{"had_liked":false,"id":261134,"user_name":"èŠ±å¼€å­£æœ«","can_delete":false,"product_type":"c1","uid":1113883,"ip_address":"","ucode":"5D44075AEB737D","user_header":"https://static001.geekbang.org/account/avatar/00/10/ff/1b/09b4d12f.jpg","comment_is_top":false,"comment_ctime":1605226063,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1605226063","product_id":100056701,"comment_content":"å°ç™½æé—®ï¼š<br>è¯·é—®è€å¸ˆï¼Œå“¨å…µé—´çš„é€šä¿¡æ˜¯é€šè¿‡å‘å¸ƒè‡ªå·±çš„IPåœ°å€åˆ°ä¸»ï¼Œå…¶ä»–å“¨å…µè®¢é˜…çš„æ–¹å¼å®ç°çš„ã€‚<br>é‚£ä¹ˆæ˜¯æ¯ä¸€ä¸ªå“¨å…µéƒ½éœ€è¦å‘å¸ƒè‡ªå·±çš„IPåˆ°ä¸»å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1232522,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/K8uoNDBqLNQicA8KOecJIb6DWrt7YJuy99VsVpAqPZia2SzSGyECAaPhFU5td1cO9wqjWIqLWIzfxd5DqmUXTKibw/132","nickname":"ladba","note":"","ucode":"78ADCE66B403A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348134,"discussion_content":"æˆ‘ç†è§£æ˜¯çš„ï¼Œä¸€ä¸ªä¸»åº“é€šä¿¡çš„æ‰€æœ‰å“¨å…µä¸ºä¸€ä¸ªé›†ç¾¤ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨åˆå§‹åŒ–å“¨å…µçš„æ—¶å€™ï¼Œå…¶å®å·²ç»ç¡®å®šäº†ä¸€ä¸ªå“¨å…µé›†ç¾¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612435841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":259811,"user_name":"æ˜æœˆå‡ æ—¶","can_delete":false,"product_type":"c1","uid":1675716,"ip_address":"","ucode":"E46C844EAB2CD0","user_header":"https://static001.geekbang.org/account/avatar/00/19/91/c4/bcdcda65.jpg","comment_is_top":false,"comment_ctime":1604845522,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1604845522","product_id":100056701,"comment_content":"å“¨å…µæœºåˆ¶ï¼Œå®ƒå¯ä»¥å®ç°ä¸»ä»åº“çš„è‡ªåŠ¨åˆ‡æ¢ã€‚é€šè¿‡éƒ¨ç½²å¤šä¸ªå®ä¾‹ï¼Œå°±å½¢æˆäº†ä¸€ä¸ªå“¨å…µé›†ç¾¤ã€‚å“¨å…µé›†ç¾¤ä¸­çš„å¤šä¸ªå®ä¾‹å…±åŒåˆ¤æ–­ï¼Œå¯ä»¥é™ä½å¯¹ä¸»åº“ä¸‹çº¿çš„è¯¯åˆ¤ç‡ã€‚<br>","like_count":0},{"had_liked":false,"id":258971,"user_name":"å¥½å¥½å­¦ä¹ ","can_delete":false,"product_type":"c1","uid":1762191,"ip_address":"","ucode":"9D44D9530D9A1D","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e3/8f/77b5a753.jpg","comment_is_top":false,"comment_ctime":1604589284,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604589284","product_id":100056701,"comment_content":"å“¨å…µé€šè¿‡æƒ³ä¸»åº“å‘é€æ¶ˆæ¯ï¼Œè·å–ä»åº“çš„ä¿¡æ¯ï¼Œä»¥æ­¤å»ºç«‹è¿æ¥ã€‚","like_count":0},{"had_liked":false,"id":258969,"user_name":"å¥½å¥½å­¦ä¹ ","can_delete":false,"product_type":"c1","uid":1762191,"ip_address":"","ucode":"9D44D9530D9A1D","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e3/8f/77b5a753.jpg","comment_is_top":false,"comment_ctime":1604589237,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604589237","product_id":100056701,"comment_content":"å“¨å…µè¿æ¥ä¸»ä»åº“ï¼Œå¯ä»¥åˆ¤æ–­æ˜¯å¦ä¸»è§‚ï¼Œå®¢è§‚ä¸‹çº¿ã€‚<br>å®¢æˆ·ç«¯è®¢é˜…é¢‘é“ï¼Œå¯ä»¥æ¥æ”¶å“¨å…µå‘å¸ƒçš„æ¶ˆæ¯ï¼Œæ¯”å¦‚ä¸»åº“åˆ‡æ¢ã€‚","like_count":0},{"had_liked":false,"id":256817,"user_name":"LennyğŸ‘£","can_delete":false,"product_type":"c1","uid":1433639,"ip_address":"","ucode":"EC3DDE27BB0138","user_header":"https://static001.geekbang.org/account/avatar/00/15/e0/27/40aa4e30.jpg","comment_is_top":false,"comment_ctime":1603759297,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1603759297","product_id":100056701,"comment_content":"è€å¸ˆå¥½ï¼Œæƒ³ç¡®è®¤ä¸€ä¸ªäº‹æƒ…ï¼Œå“¨å…µæ¨¡å¼ä¸­ï¼Œå®¢æˆ·ç«¯æ¯æ¬¡è¯·æ±‚éƒ½æ˜¯é€šè¿‡å“¨å…µè·Ÿä¸»æœåŠ¡å™¨é€šä¿¡ï¼Œè¿˜æ˜¯é€šè¿‡å“¨å…µæ‹¿åˆ°ä¸»æœåŠ¡å™¨ipç«¯å£åç›´æ¥è¿æ¥æœåŠ¡å™¨é€šä¿¡ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1123146,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/4a/c608bdf6.jpg","nickname":"ä¸‰çŸ³","note":"","ucode":"734DCECABC3BEC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389180,"discussion_content":"æ ¹æ®sentinelçš„å®šä¹‰å’Œå®šä½åº”è¯¥æ˜¯ç¬¬ä¸€ç§æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629168204,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255418,"user_name":"Reborn 2.0","can_delete":false,"product_type":"c1","uid":1977474,"ip_address":"","ucode":"BA506E7455D91C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/2c/82/98e2b82a.jpg","comment_is_top":false,"comment_ctime":1603339509,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603339509","product_id":100056701,"comment_content":"å®¢è§‚ä¸‹çº¿ å’Œ leaderé€‰ä¸¾å…¬ç”¨çš„ä¸€ä¸ªquorumå€¼, å› ä¸ºä»–ä»¬éƒ½æ˜¯sentinelsä¹‹é—´çš„æŠ•ç¥¨. ä½†æ˜¯å®¢è§‚ä¸‹çº¿å’Œleaderé€‰ä¸¾æ˜¯ä¸¤ä¸ªæ­¥éª¤?","like_count":0},{"had_liked":false,"id":255414,"user_name":"Reborn 2.0","can_delete":false,"product_type":"c1","uid":1977474,"ip_address":"","ucode":"BA506E7455D91C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/2c/82/98e2b82a.jpg","comment_is_top":false,"comment_ctime":1603339208,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1603339208","product_id":100056701,"comment_content":"è€å¸ˆä½ å¥½.  æ–‡ç« ä»‹ç» sentinelä¹‹é—´é€šè¿‡pub&#47;subçš„&quot;__sentinel:hell&quot;æ¥æ„ŸçŸ¥å¯¹æ–¹, æˆ‘æƒ³çŸ¥é“:clientæ€ä¹ˆæ„ŸçŸ¥åˆ°çš„sentinelså‘¢? è¿™ä¸ªå¥½åƒæ²¡è¯´.","like_count":0,"discussions":[{"author":{"id":1123146,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/4a/c608bdf6.jpg","nickname":"ä¸‰çŸ³","note":"","ucode":"734DCECABC3BEC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389181,"discussion_content":"å®¢æˆ·ç«¯éœ€è¦é…ç½®sentinelçš„ipå’Œç«¯å£çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629168295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":254462,"user_name":"LovePeace","can_delete":false,"product_type":"c1","uid":1010319,"ip_address":"","ucode":"5BA5B11FAF953E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6a/8f/5b224f54.jpg","comment_is_top":false,"comment_ctime":1603118505,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1603118505","product_id":100056701,"comment_content":"è¯·é—®å“¨å…µé€‰leaderæ˜¯é‡‡ç”¨raftç®—æ³•å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2326907,"avatar":"","nickname":"Geek_bbd494","note":"","ucode":"148EA9397207A8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329214,"discussion_content":"æœ‰ç‚¹ç±»ä¼¼ï¼Œå•æ¬¡é€‰ä¸¾ä¸€äººä¸€ç¥¨ï¼Œå…ˆæ¥å…ˆå¾—çš„æ–¹æ³•ç±»ä¼¼ï¼Œæ¯”raftç®€å•ï¼Œraftè¿˜è¦åˆ¤æ–­æ•°æ®å®Œæ•´åº¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606349762,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":253190,"user_name":"âœ¨èƒ¡å°ä¸œ","can_delete":false,"product_type":"c1","uid":1312339,"ip_address":"","ucode":"314D40A5857C17","user_header":"https://static001.geekbang.org/account/avatar/00/14/06/53/29fa4e12.jpg","comment_is_top":false,"comment_ctime":1602645166,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602645166","product_id":100056701,"comment_content":"å¦‚ä½•åœ¨é€‰ä¸¾å‡ºLeaderèŠ‚ç‚¹åï¼Œåœ¨è¿›è¡Œä¸»ä»åˆ‡æ¢çš„è¿‡ç¨‹ä¸­ï¼ŒleaderèŠ‚ç‚¹æŒ‚æ‰äº†ï¼Œè¿˜èƒ½æ­£å¸¸å®Œæˆä¸»ä»åˆ‡æ¢å˜›ï¼Ÿæ˜¯é‡æ–°åœ¨è¿›è¡Œleaderé€‰ä¸¾ï¼Ÿè¿˜æ˜¯å°±æ— æ³•æ­£å¸¸æ­£å¸¸é€‰ä¸¾ï¼Œé›†ç¾¤å°±ä¸å¯ç”¨äº†ï¼Œéœ€è¦äººå·¥å¹²é¢„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":250616,"user_name":"Geek_445b7f","can_delete":false,"product_type":"c1","uid":1780830,"ip_address":"","ucode":"F2207FE874A94E","user_header":"","comment_is_top":false,"comment_ctime":1601172044,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1601172044","product_id":100056701,"comment_content":"å“¨å…µLeaderé€‰ä¸¾çš„æ—¶æœºæ˜¯ä»€ä¹ˆï¼Ÿæ˜¯æ¯å½“å®¢è§‚ä¸‹çº¿ä¸»åº“çš„æ—¶å€™å°±è¿›è¡Œä¸€æ¬¡é€‰ä¸¾å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1123146,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/4a/c608bdf6.jpg","nickname":"ä¸‰çŸ³","note":"","ucode":"734DCECABC3BEC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389182,"discussion_content":"ä¸ªäººè§‰å¾—æ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629168380,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249819,"user_name":"è‹±å®","can_delete":false,"product_type":"c1","uid":1241380,"ip_address":"","ucode":"C6CB1C4FFCADC7","user_header":"https://static001.geekbang.org/account/avatar/00/12/f1/24/d15cf6af.jpg","comment_is_top":false,"comment_ctime":1600822820,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1600822820","product_id":100056701,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå…³äºå“¨å…µå’Œå®¢æˆ·ç«¯ä¹‹é—´çš„äº‹ä»¶é€šçŸ¥ï¼Œæœ‰ä¸ªåœ°æ–¹æ²¡æœ‰æ˜ç™½ï¼Œå®¢æˆ·ç«¯æ˜¯æ€ä¹ˆçŸ¥é“å“¨å…µé›†ç¾¤åœ°å€çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1316937,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/49/b1d864e5.jpg","nickname":"Hinimix","note":"","ucode":"7994136C93BD89","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312817,"discussion_content":"ç›´è¿å“¨å…µé›†ç¾¤ï¼Œè·å–ä¸»çš„åœ°å€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602825650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249694,"user_name":"è§","can_delete":false,"product_type":"c1","uid":1229143,"ip_address":"","ucode":"0C2239867AFF5F","user_header":"https://static001.geekbang.org/account/avatar/00/12/c1/57/27de274f.jpg","comment_is_top":false,"comment_ctime":1600763519,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1600763519","product_id":100056701,"comment_content":"### Redisé«˜å¯ç”¨ä¹‹å“¨å…µé›†ç¾¤<br>åŸºäºpub&#47;subæœºåˆ¶çš„å“¨å…µé›†ç¾¤ç»„æˆ<br>å“¨å…µä¸ä¸»åº“å»ºç«‹è¿æ¥ä»¥åï¼Œå¯å‘é€å’Œè®¢é˜…ä¿¡æ¯ï¼Œä»¥é¢‘é“è¿›è¡Œåˆ†ç±»ç®¡ç†ï¼ˆå’Œkafkaæœ‰ç‚¹ç›¸åƒï¼‰<br>å“¨å…µå¯ä»¥å‘é€INFOå‘½ä»¤ä»ä¸»åº“è·å–ä»åº“çš„ä¿¡æ¯<br><br>åŸºäºpub&#47;subçš„å®¢æˆ·ç«¯äº‹ä»¶é€šçŸ¥<br>- ä¸»åº“ä¸‹çº¿äº‹ä»¶ï¼š<br>    - +sdownï¼šå®ä¾‹è¿›å…¥ä¸»è§‚ä¸‹çº¿çŠ¶æ€<br>    - -sdownï¼šå®ä¾‹é€€å‡ºä¸»è§‚ä¸‹çº¿çŠ¶æ€<br>    - +odownï¼šå®ä¾‹è¿›å…¥å®¢è§‚ä¸‹çº¿çŠ¶æ€<br>    - -sdownï¼šå®ä¾‹é€€å‡ºå®¢è§‚ä¸‹çº¿çŠ¶æ€<br>- ä»åº“é‡æ–°é…ç½®äº‹ä»¶<br>    - +slave-reconf-sentï¼šå“¨å…µå‘é€SLAVEOFå‘½ä»¤é‡æ–°é…ç½®ä»åº“<br>    - +slave-reconf-inpprogï¼šä»åº“é…ç½®äº†æ–°ä¸»åº“ï¼Œä½†å°šæœªè¿›è¡ŒåŒæ­¥<br>    - +slave-reconf-doneï¼šä»åº“é…ç½®äº†æ–°ä¸»åº“ï¼Œä¸”å’Œæ–°ä¸»åº“å®ŒæˆåŒæ­¥<br>- æ–°ä¸»åº“åˆ‡æ¢ï¼š<br>    - +swith-masterï¼šä¸»åº“åœ°å€å‘é€å˜åŒ–<br><br>å“¨å…µé¢†å¯¼é€‰ä¸¾ï¼šéœ€æœ‰åŠæ•°åŠä»¥ä¸Šçš„ç¥¨æ•°å’Œå¤§äºé¢„è®¾çš„quorumå€¼<br><br>ç–‘é—®ï¼šè¿™é‡Œçš„å“¨å…µé€‰ä¸¾çš„å…·ä½“ç®—æ³•æ˜¯ï¼Ÿæœ‰æ‰€ä»¥å“¨å…µéƒ½é€‰è‡ªå·±çš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":249054,"user_name":"ä¸Šå­¦å¨é¾™007","can_delete":false,"product_type":"c1","uid":2116689,"ip_address":"","ucode":"B24D8A2E7D01F8","user_header":"https://static001.geekbang.org/account/avatar/00/20/4c/51/61003d76.jpg","comment_is_top":false,"comment_ctime":1600416073,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600416073","product_id":100056701,"comment_content":"1ã€å¤šä¸ªå“¨å…µä¹‹é—´å»ºç«‹äº’ç›¸é€šä¿¡çš„è¿‡ç¨‹ï¼Œç±»ä¼¼äºdubboä¸­æŠŠredisä½œä¸ºæ³¨å†Œä¸­å¿ƒçš„åœºæ™¯ï¼Œæ¯ä¸ªdubboçš„å®ä¾‹ï¼Œé€šè¿‡å…¶ä»–å®ä¾‹æ³¨å†Œæ˜¯å‘å¸ƒçš„æ¶ˆæ¯ï¼Œæ¥è·å–å…¶ä»–å®ä¾‹çš„é€šè®¯ä¿¡æ¯ç­‰<br>2ã€å“¨å…µèŠ‚ç‚¹æ˜¯ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œè¶Šå¤šä¼šå¢åŠ ç½‘ç»œçš„å¼€é”€ï¼Œå‡æ…¢é€‰ä¸¾çš„æ•ˆç‡ã€‚åœ¨æ­¤æ—¶ï¼Œéš”å£çš„zkæå‡ºäº†è§‚å¯Ÿè€…çš„æ¦‚å¿µï¼Œåªç”¨æ¥å®Œæˆæ•°æ®åŒæ­¥ï¼Œä½†æ˜¯ä¸å‚ä¸é€‰ä¸¾çš„è¿‡ç¨‹","like_count":0},{"had_liked":false,"id":248626,"user_name":"jason-å°åŒ—","can_delete":false,"product_type":"c1","uid":1456024,"ip_address":"","ucode":"EB59FE96D03835","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/gFE2skMqzrfiaRCmRTqCVK2ZfqUOhXXJE3BsUPvpibEEibwaFMVuiaQ41JSHZL2fhanhtVheEjlGrroiavl5Fgh7mYw/132","comment_is_top":false,"comment_ctime":1600246180,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600246180","product_id":100056701,"comment_content":"è€å¸«å¥½ï¼Œæˆ‘è«‹æ•™ä¸€ä¸‹ã€‚<br>é‚£åœ¨å¯¦å‹™ä¸ŠæŠŠå¾åº«ç•¶ä½œå“¨å…µæœƒæ¯”è¼ƒå¥½å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":248047,"user_name":"å­¦ä¹ å­¦ä¸ªå±","can_delete":false,"product_type":"c1","uid":1049017,"ip_address":"","ucode":"DF2D61E6FB2FCE","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/b9/73435279.jpg","comment_is_top":false,"comment_ctime":1599992333,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599992333","product_id":100056701,"comment_content":"1 å¯ä»¥åˆ¤æ–­ä¸»è§‚ä¸‹çº¿ <br>2 ä¸èƒ½ åˆ‡æ¢ :  åˆ‡æ¢çš„å› ç´ æ˜¯ æŠ•ç¥¨å¿…é¡»å¤§äºåŸºæ•° ,å‰©ä¸‹2ä¸ªå“¨å…µå„è‡ªç»™å¯¹æ–¹å’Œè‡ªå·±æŠ•ç¥¨ ,é‚£ä¹ˆæ˜¯ç¥¨æ•°æ˜¯2 è¿™æ ·å­ä¸èƒ½è¿›è¡Œåˆ‡æ¢, è¿˜æœ‰ä¸€ä¸ªå› ç´ æ˜¯ æŠ•ç¥¨çš„ç¥¨æ•°å¿…é¡»æ˜¯è¶…è¿‡å¤šæ•°çš„é€‰ç¥¨(è¿™ä¸ªå€¼ä¹Ÿå°±æ˜¯3), å¾ˆæ˜æ˜¾2å°äº3ç¥¨,è¿™ç›®å‰è¿™ä¸ªå“¨å…µæ¨¡å¼æ¥è¯´,ä¸€åŠçš„å“¨å…µæŒ‚äº†,é€‰ä¸¾åˆ‡æ¢ä¸»åº“è‚¯å®šæ˜¯æœ‰é—®é¢˜çš„,å“¨å…µæ¨¡å¼ä¹Ÿä¸æ˜¯å¾ˆå¥½çš„å®¹ç¾... <br>3 å“¨å…µå®ä¾‹ä¸æ˜¯è¶Šå¤šè¶Šå¥½,è¿™å°±è·Ÿé€‰ä¸¾å›½å®¶ä¸»å¸­ä¼¼çš„,100ä¸ªäººå¾ˆå®¹æ˜“å°±èƒ½é€‰æ‹©å‡ºæ¥,13äº¿äººå¾—é€‰åˆ°ä»€ä¹ˆæ—¶å€™å»... å®¢æˆ·ç«¯å¯ç­‰ä¸äº†é‚£ä¹ˆé•¿æ—¶é—´... <br>4 è¿™ä¸ªå‚æ•°ä¸æ˜¯è¶Šå¤§è¶Šå¥½,å¦‚æœè®¾ç½®å¤§äº†,ç­‰å¾…çš„è¶…æ—¶æ—¶é—´ä¹Ÿä¼šè¶Šæ¥è¶Šå¤§,å®¢æˆ·ç«¯ç­‰ä¸äº†è¿™ä¹ˆé•¿æ—¶é—´,å®¢æˆ·å°±å…³é—­é¡µé¢æˆ–è€…åº”ç”¨äº†; å®é™…æƒ…å†µä¸å…è®¸!<br>","like_count":0},{"had_liked":false,"id":247252,"user_name":"hsggj","can_delete":false,"product_type":"c1","uid":1312093,"ip_address":"","ucode":"EA36957C4ED800","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLRCxev73gpRIKKwjvuU2WgFKcZ1rKrGhDSZpUMzRsEgvAEZN00XscsTXp0ib1OrNkn9LgH2hYxX1w/132","comment_is_top":false,"comment_ctime":1599641327,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1599641327","product_id":100056701,"comment_content":"HI è€å¸ˆï¼Œä¸€å¥—å“¨å…µé›†ç¾¤å¯ä»¥ä¸ºå¤šä¸ªmaster&#47;slaveæœåŠ¡å—ï¼Ÿè¿˜æ˜¯åªèƒ½æœåŠ¡ä¸€å¥—master&#47;slave?","like_count":0,"discussions":[{"author":{"id":1123146,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/4a/c608bdf6.jpg","nickname":"ä¸‰çŸ³","note":"","ucode":"734DCECABC3BEC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389183,"discussion_content":"å¯ä»¥å¤šå¥—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629168564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":246912,"user_name":"å‡¯æ–‡1985","can_delete":false,"product_type":"c1","uid":1036921,"ip_address":"","ucode":"9A42344649072B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d2/79/0a432fde.jpg","comment_is_top":false,"comment_ctime":1599529161,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1599529161","product_id":100056701,"comment_content":"åœ¨åˆ¤æ–­ä¸»åº“ä¸‹çº¿å’Œé€‰å–å“¨å…µleaderè¿‡ç¨‹ä¸­ ä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥åˆ¤æ–­å“¨å…µåªå¯ä»¥æŠ•ä¸€å¼ ç¥¨ï¼Ÿ æ¯”å¦‚å“¨å…µaå’Œå“¨å…µbæ¥è¿åˆ¤æ–­ä¸»åº“ä¸»è§‚ä¸‹çº¿çš„æ—¶å€™ æ˜¯ä¸æ˜¯åªèƒ½æŠ•ä¸€å¼ ç¥¨ï¼Ÿ","like_count":0},{"had_liked":false,"id":246288,"user_name":"å‰æ–¹çš„ç¯æœ‰ç‚¹å¼±","can_delete":false,"product_type":"c1","uid":2058455,"ip_address":"","ucode":"5CEDBCF3DDC991","user_header":"https://static001.geekbang.org/account/avatar/00/1f/68/d7/29025f1f.jpg","comment_is_top":false,"comment_ctime":1599266325,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1599266325","product_id":100056701,"comment_content":"rediså“¨å…µé›†ç¾¤ä¸»ä»åˆ‡æ¢çš„æ—¶å€™å›é€ æˆåˆ†å¸ƒå¼é”å¤±æ•ˆå—ï¼Ÿredisé›†ç¾¤é€‰ä¸¾ç®—æ³•æ˜¯Raftå…±è¯†ç®—æ³•å—ï¼Ÿredisåœ¨ç½‘ç»œæ‹¥å¡çš„æ—¶å€™è®¤ä¸ºä¸»æœºä¸»ç®¡ä¸‹çº¿ä¼šæœ‰è„‘è£‚é—®é¢˜å—","like_count":0,"discussions":[{"author":{"id":1123146,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/4a/c608bdf6.jpg","nickname":"ä¸‰çŸ³","note":"","ucode":"734DCECABC3BEC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389184,"discussion_content":"1.åˆ†å¸ƒå¼é”å¯èƒ½å¤±æ•ˆï¼Œä¸»ä»åˆ‡æ¢æ—¶ä»åº“å¯èƒ½ä¼šä¸¢å¤±éƒ¨åˆ†æ•°æ® 2.ç±»raftç®—æ³•æˆ–è€…ç®€åŒ–ç‰ˆçš„raftç®—æ³•3.ä¼šæœ‰è„‘è£‚é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629168807,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":245996,"user_name":"Holiday","can_delete":false,"product_type":"c1","uid":1730042,"ip_address":"","ucode":"6E7EAA0D8BEED0","user_header":"https://static001.geekbang.org/account/avatar/00/1a/65/fa/4842bd0f.jpg","comment_is_top":false,"comment_ctime":1599127459,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599127459","product_id":100056701,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜ï¼Œæ–‡ä¸­â€œåœ¨ä¸»ä»é›†ç¾¤ä¸­ï¼Œä¸»åº“ä¸Šæœ‰ä¸€ä¸ªåä¸ºâ€œ__sentinel__:helloâ€çš„é¢‘é“ï¼Œä¸åŒå“¨å…µå°±æ˜¯é€šè¿‡å®ƒæ¥ç›¸äº’å‘ç°ï¼Œå®ç°äº’ç›¸é€šä¿¡çš„ã€‚â€ã€‚ä½†å¦‚æœå“¨å…µçš„å¯åŠ¨æ˜¯ä¸€ä¸ªä¸€ä¸ªå¯åŠ¨çš„è¯ï¼Œæ¯”å¦‚å“¨å…µAå…ˆå¯åŠ¨ï¼Œå®ƒå‘ä¸»åº“çš„__sentinel__:helloå»å‘å¸ƒè®¢é˜…ï¼Œç„¶åå“¨å…µBå†å¯åŠ¨ï¼Œå®ƒä¹Ÿå‘ä¸»åº“çš„__sentinel__:helloå»å‘å¸ƒè®¢é˜…ï¼Œè¿™ä¸ªæ—¶å€™å“¨å…µAæ˜¯å¯ä»¥è·å¾—å“¨å…µBçš„ä¿¡æ¯çš„ï¼Œä½†æ˜¯å“¨å…µBæ€ä¹ˆè·å¾—å“¨å…µAçš„ä¿¡æ¯ï¼Œå› ä¸ºå“¨å…µAå·²ç»å‘å¸ƒè¿‡äº†è‡ªå·±çš„ä¿¡æ¯äº†ã€‚éš¾é“å“¨å…µAä¼šä¸æ–­çš„å»å‘å¸ƒè‡ªå·±çš„ä¿¡æ¯ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":245848,"user_name":"dfuru","can_delete":false,"product_type":"c1","uid":2110772,"ip_address":"","ucode":"0222FADA093D95","user_header":"","comment_is_top":false,"comment_ctime":1599094029,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599094029","product_id":100056701,"comment_content":"1.ä¸èƒ½æ­£ç¡®åˆ¤æ–­ä¸»åº“æ•…éšœï¼Œå‰©ä½™çš„çŠ¶æ€æ­£å¸¸çš„å“¨å…µæ˜¯2ä¸ªï¼Œä¸æ»¡è¶³å¤§å¤šæ•°è¦æ±‚ã€‚<br>2.ä¸èƒ½æ‰§è¡Œä¸»ä»åˆ‡æ¢ï¼ŒåŒç†é€‰ä¸å‡ºleaderå“¨å…µï¼Œè™½ç„¶quorum=2ã€‚<br>3.å“¨å…µè¶Šå¤šï¼Œä¸ä¸€å®šå¥½ï¼Œå“¨å…µè¶Šå¤šé€šä¿¡é‡æŒ‡æ•°å¢é•¿ï¼Œç½‘ç»œå¸¦å®½å ç”¨é«˜ã€‚","like_count":0},{"had_liked":false,"id":245230,"user_name":"monkeyzi","can_delete":false,"product_type":"c1","uid":1448216,"ip_address":"","ucode":"CF415E5AF0CF67","user_header":"https://static001.geekbang.org/account/avatar/00/16/19/18/c3bc4905.jpg","comment_is_top":false,"comment_ctime":1598869640,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1598869640","product_id":100056701,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åœ¨redis  m-s æ¶æ„ä¸­ï¼Œmaster åœ¨æ²¡æœ‰æŠŠæ•°æ®åŒæ­¥ç»™slaveï¼Œè¿™ä¸ªæ—¶å€™ slaveæˆä¸ºmaster è¿™ä¸ªæ•°æ®ä¸ä¸€è‡´ï¼Œå¯¼è‡´åº“å­˜è¶…å–ï¼Œæ€ä¹ˆæƒ…å†µä¸‹æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1123146,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/4a/c608bdf6.jpg","nickname":"ä¸‰çŸ³","note":"","ucode":"734DCECABC3BEC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389185,"discussion_content":"å¼ºåˆ¶è¯»ä¸»åº“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629168849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":245208,"user_name":"Alex","can_delete":false,"product_type":"c1","uid":1122284,"ip_address":"","ucode":"92BD46245FB5B6","user_header":"https://static001.geekbang.org/account/avatar/00/11/1f/ec/d611ce6c.jpg","comment_is_top":false,"comment_ctime":1598864048,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598864048","product_id":100056701,"comment_content":"è€å¸ˆé—®ä¸‹ï¼Œå¦‚æœä¸»æœåŠ¡çš„å†™å…¥çš„æ•°æ®è¿˜æœ‰ä¸€éƒ¨åˆ†æ²¡æœ‰åŒæ­¥åˆ°ä»æœåŠ¡å™¨ï¼Œè¿™æ—¶å€™ä¸»æœåŠ¡å™¨æŒ‚äº†ï¼Œå“¨å…µè¿›è¡Œäº†ä¸»ä»åˆ‡æ¢ï¼Œæ²¡åŒæ­¥çš„è¿™éƒ¨åˆ†æ•°æ®æ˜¯ä¸æ˜¯ä¸¢äº†","like_count":0},{"had_liked":false,"id":245033,"user_name":"å¼ ä¸‰","can_delete":false,"product_type":"c1","uid":1004092,"ip_address":"","ucode":"1155528FAE1546","user_header":"https://static001.geekbang.org/account/avatar/00/0f/52/3c/d6fcb93a.jpg","comment_is_top":false,"comment_ctime":1598790487,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598790487","product_id":100056701,"comment_content":"æ€è€ƒé¢˜ï¼Œé¦–å…ˆæ­£ç¡®åˆ¤æ–­â€œå®¢è§‚ä¸‹çº¿â€çš„è¦æ±‚æ˜¯è¾¾åˆ°è®¾å®šçš„â€œå®¢è§‚ä¸‹çº¿â€çš„èµæˆç¥¨æ•°ï¼Œè¿™ä¸ªå¯ä»¥è¾¾åˆ°ï¼›è€Œä¸»ä»åˆ‡æ¢è¿˜éœ€è¦å“¨å…µé€‰ä¸¾å‡ºLeaderï¼Œè¿™ä¸ªæ— æ³•æ»¡è¶³ï¼Œå› ä¸ºä¸¤ä¸ªå“¨å…µæ˜¯æ— è®ºå¦‚ä½•ä¹Ÿæ‹¿ä¸åˆ°åŠæ•°ä»¥ä¸Šçš„é€‰ä¸¾ç¥¨çš„ã€‚","like_count":0},{"had_liked":false,"id":244984,"user_name":"æ¾æœ","can_delete":false,"product_type":"c1","uid":1274379,"ip_address":"","ucode":"22D872F0532BE6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erCXMLHlLs8TTRvw6BL13Zd0IGFeVZdicCsHnjJmM1FUC43sibcHIK0ViaIaOvOb5BVTlr3OTJNwaKzA/132","comment_is_top":false,"comment_ctime":1598773280,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598773280","product_id":100056701,"comment_content":"sentinel leader æ˜¯ raftåè®®ï¼Ÿ","like_count":0},{"had_liked":false,"id":244141,"user_name":"Geek_0cf59c","can_delete":false,"product_type":"c1","uid":2113137,"ip_address":"","ucode":"BD9E77E46B0249","user_header":"","comment_is_top":false,"comment_ctime":1598408435,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1598408435","product_id":100056701,"comment_content":"è€å¸ˆè¯·æ•™ä¸‹ï¼š<br>æœ‰1ä¸»ï¼ˆ172.168.3.1ï¼‰2ä»ï¼ˆ172.168.3.2,172.168.3.3ï¼‰ã€‚å®¢æˆ·ç«¯å½“å‰è¿æ¥ipæ˜¯172.168.3.1ï¼Œå½“å‘ç”Ÿä¸»ä»åˆ‡æ¢åï¼Œä¸»åº“å˜æˆ172.168.3.2,å¦‚ä½•åœ¨ä¸æ”¹å˜å®¢æˆ·ç«¯åŸè¿æ¥ipçš„æƒ…å†µä¸‹ï¼Œè®¿é—®æ–°ä¸»åº“ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1123146,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/4a/c608bdf6.jpg","nickname":"ä¸‰çŸ³","note":"","ucode":"734DCECABC3BEC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389186,"discussion_content":"ä¸è¦ç›´æ¥è¿ä¸»åº“ï¼Œç”¨sentinelé›†ç¾¤å‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629168923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":244115,"user_name":"æäºŒæœ¨","can_delete":false,"product_type":"c1","uid":1103091,"ip_address":"","ucode":"30E03BB84ADB27","user_header":"https://static001.geekbang.org/account/avatar/00/10/d4/f3/129d6dfe.jpg","comment_is_top":false,"comment_ctime":1598404799,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1598404799","product_id":100056701,"comment_content":"æŠ•ç¥¨é€‰ä¸¾è¿‡ç¨‹ä¸­è·ŸæŠ•ç¥¨çš„å…ˆåé¡ºåºæœ‰å…³ç³»å—?","like_count":0},{"had_liked":false,"id":243487,"user_name":"Kvicii.Y","can_delete":false,"product_type":"c1","uid":1442588,"ip_address":"","ucode":"446BFA633569EA","user_header":"https://static001.geekbang.org/account/avatar/00/16/03/1c/c9fe6738.jpg","comment_is_top":false,"comment_ctime":1598152926,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598152926","product_id":100056701,"comment_content":"åº”è¯¥æ˜¯ç±»ä¼¼äºRaftçš„Leaderé€‰ä¸¾ï¼Œä½†æ˜¯æˆ‘è®°å¾—å“¨å…µè¿™é‡Œåº”è¯¥è¿˜æœ‰ä¸€ä¸ªmajorityçš„é…ç½®å§ï¼Œä¸æ˜¯è¶…è¿‡åŠæ•°å†æ‰§è¡Œæ•…éšœè½¬ç§»å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":243397,"user_name":"yyl","can_delete":false,"product_type":"c1","uid":1170843,"ip_address":"","ucode":"1741DACDFCA9AF","user_header":"https://static001.geekbang.org/account/avatar/00/11/dd/9b/0bc44a78.jpg","comment_is_top":false,"comment_ctime":1598086793,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598086793","product_id":100056701,"comment_content":"è§£ç­”ï¼š<br>1. ä¸»è§‚ä¸‹çº¿ ç¥¨æ•°è¾¾åˆ°quorumå³å¯æ ‡è®°å®¢è§‚ä¸‹çº¿ã€‚å› æ­¤ä»å¯æ­£ç¡®åˆ¤æ–­ä¸»åº“â€œå®¢è§‚ä¸‹çº¿â€ã€‚<br>2. å“¨å…µLeaderé€‰ä¸¾ ç¥¨æ•°éœ€è¾¾åˆ°åŠæ•°ï¼Œä¸”å¤§äºç­‰äºquorumã€‚Leaderé€‰ä¸¾å¯æ­£ç¡®è¿›è¡Œï¼Œå› æ­¤ä»å¯å®Œæˆä¸»ä»è‡ªåŠ¨åˆ‡æ¢ã€‚ <br>3. å“¨å…µå®ä¾‹ï¼Œå¹¶éè¶Šå¤šè¶Šå¥½ã€‚å…¶ä¸€ï¼Œå“¨å…µéœ€è¦ä¸ä¸»ä»åº“å’Œå®¢æˆ·ç«¯å»ºç«‹è¿æ¥ï¼Œå®ä¾‹è¶Šå¤šï¼Œç›¸äº’é—´çš„ç½‘ç»œäº¤äº’æ›´åŠ å¤æ‚ã€‚å…¶äºŒï¼Œå®ä¾‹è¶Šå¤šï¼Œé€‰å®šä¸»åº“ï¼Œå“¨å…µLeaderé€‰ä¸¾è€—æ—¶åŠ¿å¿…å¢åŠ ï¼ŒåŠ ä¹‹ç½‘ç»œæŠ–åŠ¨ï¼ŒäºŒæ¬¡ç­›é€‰ä¸é€‰ä¸¾çš„å¯èƒ½æ€§å¢åŠ ã€‚<br>4. è°ƒå¤§down-after-millisecondså¯¹å‡å°‘è¯¯åˆ¤æœ‰ä¸€å®šçš„å¥½å¤„ï¼Œä½†ä¹Ÿæœ‰é£é™©ï¼šä»åº“å¯¹ä¸»åº“è¿è¡ŒçŠ¶æ€çš„æ„ŸçŸ¥å˜å¾—è¿Ÿé’ï¼Œæ— æ³•åŠæ—¶å®Œæˆä¸»ä»åˆ‡æ¢ï¼Œå¯èƒ½å¯¼è‡´ä¸¢å¤±å®¢æˆ·ç«¯å†™è¯·æ±‚ï¼Œé€ æˆæ•°æ®ä¸¢å¤±ã€‚","like_count":0},{"had_liked":false,"id":243389,"user_name":"yyl","can_delete":false,"product_type":"c1","uid":1170843,"ip_address":"","ucode":"1741DACDFCA9AF","user_header":"https://static001.geekbang.org/account/avatar/00/11/dd/9b/0bc44a78.jpg","comment_is_top":false,"comment_ctime":1598083610,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598083610","product_id":100056701,"comment_content":"â€œå®¢æˆ·ç«¯è¯»å–å“¨å…µçš„é…ç½®æ–‡ä»¶åï¼Œå¯ä»¥è·å¾—å“¨å…µçš„åœ°å€å’Œç«¯å£ï¼Œå’Œå“¨å…µå»ºç«‹ç½‘ç»œè¿æ¥ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®¢æˆ·ç«¯æ‰§è¡Œè®¢é˜…å‘½ä»¤ï¼Œæ¥è·å–ä¸åŒçš„äº‹ä»¶æ¶ˆæ¯ã€‚â€<br><br>å®¢æˆ·ç«¯éœ€è¦ä¸æ‰€æœ‰çš„å“¨å…µå®ä¾‹å»ºç«‹ç½‘ç»œè¿æ¥å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":243176,"user_name":"ç›Ÿè®¯","can_delete":false,"product_type":"c1","uid":1590262,"ip_address":"","ucode":"EE057FC9ADEF91","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ZLhicyPutHBNOfYrtwOT4K7D7MvORg3HJlm9HicVj6Zjzp9Cib0JnddrTNVoxFxiautXUgYNBXD6XEVyXK9eP87Y4g/132","comment_is_top":false,"comment_ctime":1597982457,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597982457","product_id":100056701,"comment_content":"å¯ä»¥åˆ¤æ–­å®¢è§‚ä¸‹çº¿ï¼Œä¸¤ä¸ªå“¨å…µéƒ½ä¼šåˆ¤æ–­â€œä¸»è§‚ä¸‹çº¿â€ï¼Œè¾¾åˆ°ä»²è£å€¼æ‰€éœ€è¦çš„æ•°ï¼š2ã€‚<br>    ä¸ä¼šè¿›è¡Œä¸»ä»åˆ‡æ¢ï¼Œå› ä¸ºåœ¨å“¨å…µé€‰æ‹©leaderæ—¶ï¼Œæ¯ä¸€ä¸ªå“¨å…µéƒ½ä¼šé€‰æ‹©è‡ªå·±ï¼Œç¥¨æ•°é—®é¢˜ç›¸ç­‰<br>\t<br>\tå“¨å…µå®ä¾‹ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œå®ä¾‹è¶Šå¤šé€šä¿¡è¶Šé¢‘ç¹ï¼Œä¼šé€ æˆç½‘ç»œæ‹¥å¡ã€‚<br>\tdown-after-millisecondsçš„å€¼é«˜å¤§å¯¹è¯¯åˆ¤æœ‰å¥½å¤„ï¼Œè°ƒå¤§ä¼šå¯¹ç½‘ç»œä¸ç¨³å®šçš„å¯¼è‡´é€šä¿¡ä¸ç•…æœ‰å¥½å¤„ï¼Œä½†æ˜¯å½“ä¸»åº“å‡ºç°æ•…éšœæ—¶<br>\tä¸»ä»åˆ‡æ¢æ“ä½œè¿‡ç¨‹ä¼šå¢é•¿ï¼Œè€Œä¸”ç›‘æ§ä¸è¿…é€Ÿ","like_count":0},{"had_liked":false,"id":243153,"user_name":"å€ªå¤§äºº","can_delete":false,"product_type":"c1","uid":1193052,"ip_address":"","ucode":"4798D69F3E86FB","user_header":"https://static001.geekbang.org/account/avatar/00/12/34/5c/6b4757a0.jpg","comment_is_top":false,"comment_ctime":1597977934,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597977934","product_id":100056701,"comment_content":"é—®ä¸ªé—®é¢˜ï¼Œæ–‡ç« é‡Œçš„S1ã€S2ã€S3é‚£å¼ å›¾ï¼Œä¸ºä»€ä¹ˆS2ä¸èƒ½ç»™è‡ªå·±æŠ•ç¥¨ï¼Ÿæ˜¯ä¸æ˜¯åœ¨â€œå®¢è§‚ä¸‹çº¿â€ä¸­æŠ•äº†èµæˆç¥¨çš„å“¨å…µæ‰èƒ½ç«é€‰leaderï¼Ÿ","like_count":0},{"had_liked":false,"id":243144,"user_name":"zhou","can_delete":false,"product_type":"c1","uid":1065310,"ip_address":"","ucode":"E5D21F2A3359CB","user_header":"https://static001.geekbang.org/account/avatar/00/10/41/5e/9d2953a3.jpg","comment_is_top":false,"comment_ctime":1597975519,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597975519","product_id":100056701,"comment_content":"å› ä¸ºåªæœ‰ä¸¤ä¸ªå®ä¾‹ï¼Œquorum æ˜¯ 2ï¼Œæ‰€ä»¥ä¸¤ä¸ªå®ä¾‹å¿…é¡»éƒ½åˆ¤æ–­ä¸ºä¸»è§‚ä¸‹çº¿ï¼Œæ‰ä¼šç¡®è®¤ä¸ºå®¢è§‚ä¸‹çº¿ã€‚<br><br>ä½†åªè¦å…¶ä¸­ä¸€ä¸ªå®ä¾‹ç¡®è®¤ä¸ºå®¢è§‚ä¸‹çº¿ï¼Œå¦ä¸€ä¸ªå®ä¾‹å¿…ç„¶ä¹Ÿä¼šç¡®è®¤ä¸ºå®¢è§‚ä¸‹çº¿ã€‚æ­¤æ—¶ä¸¤ä¸ªå®ä¾‹éƒ½å¸Œæœ›ç”³è¯·æˆä¸º Leaderï¼Œå…ˆç»™è‡ªå·±æŠ•ç¥¨ï¼Œç„¶åè¯·æ±‚å¯¹æ–¹æŠ•ç¥¨ã€‚ç”±äºéƒ½å·²ç»™è‡ªå·±æŠ•è¿‡ç¥¨ï¼Œæ— æ³•ç»™å…¶ä»–å®ä¾‹æŠ•ç¥¨ï¼Œæœ€ç»ˆå¯¼è‡´è¿™ä¸€è½®æ— æ³•äº§ç”Ÿ Leaderã€‚<br><br>ç­‰å¾…ä¸€æ®µæ—¶é—´åï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªå®ä¾‹å…ˆå‘å‡º Leader ç”³è¯·ï¼Œå¯èƒ½ä¼šå¾—åˆ°å¦ä¸€ä¸ªå®ä¾‹çš„æŠ•ç¥¨ï¼Œè¯¥å®ä¾‹å°±ä¼šæˆä¸º Leaderï¼Œå¯ä»¥è¿›è¡Œé€‰ä¸»ã€‚","like_count":0},{"had_liked":false,"id":243128,"user_name":"Kirito","can_delete":false,"product_type":"c1","uid":1257284,"ip_address":"","ucode":"142F85F14D18F9","user_header":"https://static001.geekbang.org/account/avatar/00/13/2f/44/65462190.jpg","comment_is_top":false,"comment_ctime":1597973304,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1597973304","product_id":100056701,"comment_content":"ä¼šæœ‰3ä¸ªå“¨å…µéƒ½æŠ•ç»™è‡ªå·±çš„æƒ…å†µå—ï¼Ÿé‚£ä¸æ˜¯å¹³ç¥¨äº†ğŸ˜‚","like_count":0,"discussions":[{"author":{"id":1388092,"avatar":"https://static001.geekbang.org/account/avatar/00/15/2e/3c/eae43616.jpg","nickname":"sid","note":"","ucode":"3D1F9169A19D29","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304338,"discussion_content":"è‚¯å®šä¼šæœ‰çš„ï¼Œä¸è¿‡æ¦‚ç‡æ¯”è¾ƒä½ã€‚æ²¡æœ‰é€‰ä¸¾å‡ºleaderçš„è¯ï¼Œä¼šç»§ç»­è¿›è¡Œä¸‹ä¸€å±Šé€‰ä¸¾ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599549199,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":239150,"title":"30 | å¦‚ä½•æ­£ç¡®ä¿å­˜å’Œä¼ è¾“æ•æ„Ÿæ•°æ®ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æœ±æ™”ã€‚</p><p>ä»Šå¤©ï¼Œæˆ‘ä»¬ä»å®‰å…¨è§’åº¦æ¥èŠèŠç”¨æˆ·åã€å¯†ç ã€èº«ä»½è¯ç­‰æ•æ„Ÿä¿¡æ¯ï¼Œåº”è¯¥æ€ä¹ˆä¿å­˜å’Œä¼ è¾“ã€‚åŒæ—¶ï¼Œä½ è¿˜å¯ä»¥è¿›ä¸€æ­¥å¤ä¹ åŠ å¯†ç®—æ³•ä¸­çš„æ•£åˆ—ã€å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œä»¥åŠHTTPSç­‰ç›¸å…³çŸ¥è¯†ã€‚</p><h2>åº”è¯¥æ€æ ·ä¿å­˜ç”¨æˆ·å¯†ç ï¼Ÿ</h2><p>æœ€æ•æ„Ÿçš„æ•°æ®ææ€•å°±æ˜¯ç”¨æˆ·çš„å¯†ç äº†ã€‚é»‘å®¢ä¸€æ—¦çªƒå–äº†ç”¨æˆ·å¯†ç ï¼Œæˆ–è®¸å°±å¯ä»¥ç™»å½•è¿›ç”¨æˆ·çš„è´¦å·ï¼Œæ¶ˆè€—å…¶èµ„äº§ã€å‘å¸ƒä¸è‰¯ä¿¡æ¯ç­‰ï¼›æ›´å¯æ€•çš„æ˜¯ï¼Œæœ‰äº›ç”¨æˆ·è‡³å§‹è‡³ç»ˆéƒ½æ˜¯ä½¿ç”¨ä¸€å¥—å¯†ç ï¼Œå¯†ç ä¸€æ—¦æ³„éœ²ï¼Œå°±å¯ä»¥è¢«é»‘å®¢ç”¨æ¥ç™»å½•å…¨ç½‘ã€‚</p><p>ä¸ºäº†é˜²æ­¢å¯†ç æ³„éœ²ï¼Œæœ€é‡è¦çš„åŸåˆ™æ˜¯ä¸è¦ä¿å­˜ç”¨æˆ·å¯†ç ã€‚ä½ å¯èƒ½ä¼šè§‰å¾—å¾ˆå¥½ç¬‘ï¼Œä¸ä¿å­˜ç”¨æˆ·å¯†ç ï¼Œä¹‹åç”¨æˆ·ç™»å½•çš„æ—¶å€™æ€ä¹ˆéªŒè¯ï¼Ÿå…¶å®ï¼Œæˆ‘æŒ‡çš„æ˜¯<strong>ä¸ä¿å­˜åŸå§‹å¯†ç ï¼Œè¿™æ ·å³ä½¿æ‹–åº“ä¹Ÿä¸ä¼šæ³„éœ²ç”¨æˆ·å¯†ç ã€‚</strong></p><p>æˆ‘ç»å¸¸ä¼šå¬åˆ°å¤§å®¶è¯´ï¼Œä¸è¦æ˜æ–‡ä¿å­˜ç”¨æˆ·å¯†ç ï¼Œåº”è¯¥æŠŠå¯†ç é€šè¿‡MD5åŠ å¯†åä¿å­˜ã€‚è¿™çš„ç¡®æ˜¯ä¸€ä¸ªæ­£ç¡®çš„æ–¹å‘ï¼Œä½†è¿™ä¸ªè¯´æ³•å¹¶ä¸å‡†ç¡®ã€‚</p><p>é¦–å…ˆï¼ŒMD5å…¶å®ä¸æ˜¯çœŸæ­£çš„åŠ å¯†ç®—æ³•ã€‚æ‰€è°“åŠ å¯†ç®—æ³•ï¼Œæ˜¯å¯ä»¥ä½¿ç”¨å¯†é’¥æŠŠæ˜æ–‡åŠ å¯†ä¸ºå¯†æ–‡ï¼Œéšåè¿˜å¯ä»¥ä½¿ç”¨å¯†é’¥è§£å¯†å‡ºæ˜æ–‡ï¼Œæ˜¯åŒå‘çš„ã€‚</p><p>è€ŒMD5æ˜¯æ•£åˆ—ã€å“ˆå¸Œç®—æ³•æˆ–è€…æ‘˜è¦ç®—æ³•ã€‚ä¸ç®¡å¤šé•¿çš„æ•°æ®ï¼Œä½¿ç”¨MD5è¿ç®—åå¾—åˆ°çš„éƒ½æ˜¯å›ºå®šé•¿åº¦çš„æ‘˜è¦ä¿¡æ¯æˆ–æŒ‡çº¹ä¿¡æ¯ï¼Œæ— æ³•å†è§£å¯†ä¸ºåŸå§‹æ•°æ®ã€‚æ‰€ä»¥ï¼ŒMD5æ˜¯å•å‘çš„ã€‚<strong>æœ€é‡è¦çš„æ˜¯ï¼Œä»…ä»…ä½¿ç”¨MD5å¯¹å¯†ç è¿›è¡Œæ‘˜è¦ï¼Œå¹¶ä¸å®‰å…¨</strong>ã€‚</p><!-- [[[read_end]]] --><p>æ¯”å¦‚ï¼Œä½¿ç”¨å¦‚ä¸‹ä»£ç åœ¨ä¿æŒç”¨æˆ·ä¿¡æ¯æ—¶ï¼Œå¯¹å¯†ç è¿›è¡Œäº†MD5è®¡ç®—ï¼š</p><pre><code>UserData userData = new UserData();\nuserData.setId(1L);\nuserData.setName(name);\n//å¯†ç å­—æ®µä½¿ç”¨MD5å“ˆå¸Œåä¿å­˜\nuserData.setPassword(DigestUtils.md5Hex(password));\nreturn userRepository.save(userData);\n</code></pre><p>é€šè¿‡è¾“å‡ºï¼Œå¯ä»¥çœ‹åˆ°å¯†ç æ˜¯32ä½çš„MD5ï¼š</p><pre><code>&quot;password&quot;: &quot;325a2cc052914ceeb8c19016c091d2ac&quot;\n</code></pre><p>åˆ°æŸMD5ç ´è§£ç½‘ç«™ä¸Šè¾“å…¥è¿™ä¸ªMD5ï¼Œä¸åˆ°1ç§’å°±å¾—åˆ°äº†åŸå§‹å¯†ç ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/e1/de/e1b3638dea64636494c3dcb0bb9b8ade.png?wh=1836*602\" alt=\"\"></p><p>å…¶å®ä½ å¯ä»¥æƒ³ä¸€ä¸‹ï¼Œè™½ç„¶MD5ä¸å¯è§£å¯†ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ„å»ºä¸€ä¸ªè¶…å¤§çš„æ•°æ®åº“ï¼ŒæŠŠæ‰€æœ‰20ä½ä»¥å†…çš„æ•°å­—å’Œå­—æ¯ç»„åˆçš„å¯†ç å…¨éƒ¨è®¡ç®—ä¸€éMD5å­˜è¿›å»ï¼Œéœ€è¦è§£å¯†çš„æ—¶å€™æœç´¢ä¸€ä¸‹MD5å°±å¯ä»¥å¾—åˆ°åŸå§‹å€¼äº†ã€‚è¿™å°±æ˜¯å­—å…¸è¡¨ã€‚</p><p>ç›®å‰ï¼Œæœ‰äº›MD5è§£å¯†ç½‘ç«™ä½¿ç”¨çš„æ˜¯å½©è™¹è¡¨ï¼Œæ˜¯ä¸€ç§ä½¿ç”¨æ—¶é—´ç©ºé—´å¹³è¡¡çš„æŠ€æœ¯ï¼Œå³å¯ä»¥ä½¿ç”¨æ›´å¤§çš„ç©ºé—´æ¥é™ä½ç ´è§£æ—¶é—´ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ›´é•¿çš„ç ´è§£æ—¶é—´æ¥æ¢å–æ›´å°çš„ç©ºé—´ã€‚</p><p><strong>æ­¤å¤–ï¼Œä½ å¯èƒ½ä¼šè§‰å¾—å¤šæ¬¡MD5æ¯”è¾ƒå®‰å…¨ï¼Œå…¶å®å¹¶ä¸æ˜¯è¿™æ ·</strong>ã€‚æ¯”å¦‚ï¼Œå¦‚ä¸‹ä»£ç ä½¿ç”¨ä¸¤æ¬¡MD5è¿›è¡Œæ‘˜è¦ï¼š</p><pre><code>userData.setPassword(DigestUtils.md5Hex(DigestUtils.md5Hex( password)));\n</code></pre><p>å¾—åˆ°ä¸‹é¢çš„MD5ï¼š</p><pre><code>&quot;password&quot;: &quot;ebbca84993fe002bac3a54e90d677d09&quot;\n</code></pre><p>ä¹Ÿå¯ä»¥ç ´è§£å‡ºå¯†ç ï¼Œå¹¶ä¸”ç ´è§£ç½‘ç«™è¿˜å‘ŠçŸ¥æˆ‘ä»¬è¿™æ˜¯ä¸¤æ¬¡MD5ç®—æ³•ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ce/b1/ce87f65a3289e50d4e29754073b7eab1.png?wh=1768*606\" alt=\"\"></p><p>æ‰€ä»¥ç›´æ¥ä¿å­˜MD5åçš„å¯†ç æ˜¯ä¸å®‰å…¨çš„ã€‚ä¸€äº›åŒå­¦å¯èƒ½ä¼šè¯´ï¼Œè¿˜éœ€è¦åŠ ç›ã€‚æ˜¯çš„ï¼Œä½†æ˜¯åŠ ç›å¦‚æœä¸å½“ï¼Œè¿˜æ˜¯éå¸¸ä¸å®‰å…¨ï¼Œæ¯”è¾ƒé‡è¦çš„æœ‰ä¸¤ç‚¹ã€‚</p><p>ç¬¬ä¸€ï¼Œ<strong>ä¸èƒ½åœ¨ä»£ç ä¸­å†™æ­»ç›ï¼Œä¸”ç›éœ€è¦æœ‰ä¸€å®šçš„é•¿åº¦</strong>ï¼Œæ¯”å¦‚è¿™æ ·ï¼š</p><pre><code>userData.setPassword(DigestUtils.md5Hex(&quot;salt&quot; + password));\n</code></pre><p>å¾—åˆ°äº†å¦‚ä¸‹MD5ï¼š</p><pre><code>&quot;password&quot;: &quot;58b1d63ed8492f609993895d6ba6b93a&quot;\n</code></pre><p>å¯¹äºè¿™æ ·ä¸€ä¸²MD5ï¼Œè™½ç„¶ç ´è§£ç½‘ç«™ä¸Šæ‰¾ä¸åˆ°åŸå§‹å¯†ç ï¼Œä½†æ˜¯é»‘å®¢å¯ä»¥è‡ªå·±æ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œä½¿ç”¨ä¸€ä¸ªç®€å•çš„å¯†ç ï¼Œæ¯”å¦‚1ï¼š</p><pre><code>&quot;password&quot;: &quot;55f312f84e7785aa1efa552acbf251db&quot;\n</code></pre><p>ç„¶åï¼Œå†å»ç ´è§£ç½‘ç«™è¯•ä¸€ä¸‹è¿™ä¸ªMD5ï¼Œå°±å¯ä»¥å¾—åˆ°åŸå§‹å¯†ç æ˜¯saltï¼Œä¹Ÿå°±çŸ¥é“äº†ç›å€¼æ˜¯saltï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/32/ca/321dfe5822da9fe186b17f283bda1fca.png?wh=1758*594\" alt=\"\"></p><p>å…¶å®ï¼ŒçŸ¥é“ç›æ˜¯ä»€ä¹ˆæ²¡ä»€ä¹ˆå…³ç³»ï¼Œå…³é”®çš„æ˜¯æˆ‘ä»¬æ˜¯åœ¨ä»£ç é‡Œå†™æ­»äº†ç›ï¼Œå¹¶ä¸”ç›å¾ˆçŸ­ã€æ‰€æœ‰ç”¨æˆ·éƒ½æ˜¯è¿™ä¸ªç›ã€‚è¿™ä¹ˆåšæœ‰ä¸‰ä¸ªé—®é¢˜ï¼š</p><ul>\n<li>å› ä¸ºç›å¤ªçŸ­ã€å¤ªç®€å•äº†ï¼Œå¦‚æœç”¨æˆ·åŸå§‹å¯†ç ä¹Ÿå¾ˆç®€å•ï¼Œé‚£ä¹ˆæ•´ä¸ªæ‹¼èµ·æ¥çš„å¯†ç ä¹Ÿå¾ˆçŸ­ï¼Œè¿™æ ·ä¸€èˆ¬çš„MD5ç ´è§£ç½‘ç«™éƒ½å¯ä»¥ç›´æ¥è§£å¯†è¿™ä¸ªMD5ï¼Œé™¤å»ç›å°±çŸ¥é“åŸå§‹å¯†ç äº†ã€‚</li>\n<li>ç›¸åŒçš„ç›ï¼Œæ„å‘³ç€ä½¿ç”¨ç›¸åŒå¯†ç çš„ç”¨æˆ·MD5å€¼æ˜¯ä¸€æ ·çš„ï¼ŒçŸ¥é“äº†ä¸€ä¸ªç”¨æˆ·çš„å¯†ç å°±å¯èƒ½çŸ¥é“äº†å¤šä¸ªã€‚</li>\n<li>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ªç›æ¥æ„å»ºä¸€å¼ å½©è™¹è¡¨ï¼Œè™½ç„¶ä¼šèŠ±ä¸å°‘ä»£ä»·ï¼Œä½†æ˜¯ä¸€æ—¦æ„å»ºå®Œæˆï¼Œæ‰€æœ‰äººçš„å¯†ç éƒ½å¯ä»¥è¢«ç ´è§£ã€‚</li>\n</ul><p><strong>æ‰€ä»¥ï¼Œæœ€å¥½æ˜¯æ¯ä¸€ä¸ªå¯†ç éƒ½æœ‰ç‹¬ç«‹çš„ç›ï¼Œå¹¶ä¸”ç›è¦é•¿ä¸€ç‚¹ï¼Œæ¯”å¦‚è¶…è¿‡20ä½</strong>ã€‚</p><p>ç¬¬äºŒï¼Œ<strong>è™½ç„¶è¯´æ¯ä¸ªäººçš„ç›æœ€å¥½ä¸åŒï¼Œä½†æˆ‘ä¹Ÿä¸å»ºè®®å°†ä¸€éƒ¨åˆ†ç”¨æˆ·æ•°æ®ä½œä¸ºç›ã€‚</strong>æ¯”å¦‚ï¼Œä½¿ç”¨ç”¨æˆ·åä½œä¸ºç›ï¼š</p><pre><code>userData.setPassword(DigestUtils.md5Hex(name + password));\n</code></pre><p>å¦‚æœä¸–ç•Œä¸Šæ‰€æœ‰çš„ç³»ç»Ÿéƒ½æ˜¯æŒ‰ç…§è¿™ä¸ªæ–¹æ¡ˆæ¥ä¿å­˜å¯†ç ï¼Œé‚£ä¹ˆrootã€adminè¿™æ ·çš„ç”¨æˆ·ä½¿ç”¨å†å¤æ‚çš„å¯†ç ä¹Ÿæ€»æœ‰ä¸€å¤©ä¼šè¢«ç ´è§£ï¼Œå› ä¸ºé»‘å®¢ä»¬å®Œå…¨å¯ä»¥é’ˆå¯¹è¿™äº›å¸¸ç”¨ç”¨æˆ·åæ¥åšå½©è™¹è¡¨ã€‚<strong>æ‰€ä»¥ï¼Œç›æœ€å¥½æ˜¯éšæœºçš„å€¼ï¼Œå¹¶ä¸”æ˜¯å…¨çƒå”¯ä¸€çš„ï¼Œæ„å‘³ç€å…¨çƒä¸å¯èƒ½æœ‰ç°æˆçš„å½©è™¹è¡¨ç»™ä½ ç”¨ã€‚</strong></p><p>æ­£ç¡®çš„åšæ³•æ˜¯ï¼Œä½¿ç”¨å…¨çƒå”¯ä¸€çš„ã€å’Œç”¨æˆ·æ— å…³çš„ã€è¶³å¤Ÿé•¿çš„éšæœºå€¼ä½œä¸ºç›ã€‚æ¯”å¦‚ï¼Œå¯ä»¥ä½¿ç”¨UUIDä½œä¸ºç›ï¼ŒæŠŠç›ä¸€èµ·ä¿å­˜åˆ°æ•°æ®åº“ä¸­ï¼š</p><pre><code>userData.setSalt(UUID.randomUUID().toString());\nuserData.setPassword(DigestUtils.md5Hex(userData.getSalt() + password));\n</code></pre><p>å¹¶ä¸”æ¯æ¬¡ç”¨æˆ·ä¿®æ”¹å¯†ç çš„æ—¶å€™éƒ½é‡æ–°è®¡ç®—ç›ï¼Œé‡æ–°ä¿å­˜æ–°çš„å¯†ç ã€‚ä½ å¯èƒ½ä¼šé—®ï¼Œç›ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œé‚£è¢«æ‹–åº“äº†ä¸æ˜¯å°±å¯ä»¥çœ‹åˆ°äº†å—ï¼Ÿéš¾é“ä¸åº”è¯¥åŠ å¯†ä¿å­˜å—ï¼Ÿ</p><p>åœ¨æˆ‘çœ‹æ¥ï¼Œç›æ²¡æœ‰å¿…è¦åŠ å¯†ä¿å­˜ã€‚ç›çš„ä½œç”¨æ˜¯ï¼Œé˜²æ­¢é€šè¿‡å½©è™¹è¡¨å¿«é€Ÿå®ç°å¯†ç â€œè§£å¯†â€ï¼Œå¦‚æœç”¨æˆ·çš„ç›éƒ½æ˜¯å”¯ä¸€çš„ï¼Œé‚£ä¹ˆç”Ÿæˆä¸€æ¬¡å½©è™¹è¡¨åªå¯èƒ½æ‹¿åˆ°ä¸€ä¸ªç”¨æˆ·çš„å¯†ç ï¼Œè¿™æ ·é»‘å®¢çš„åŠ¨åŠ›ä¼šå°å¾ˆå¤šã€‚</p><p><strong>æ›´å¥½çš„åšæ³•æ˜¯ï¼Œä¸è¦ä½¿ç”¨åƒMD5è¿™æ ·å¿«é€Ÿçš„æ‘˜è¦ç®—æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨æ…¢ä¸€ç‚¹çš„ç®—æ³•</strong>ã€‚æ¯”å¦‚Spring Securityå·²ç»åºŸå¼ƒäº†MessageDigestPasswordEncoderï¼Œæ¨èä½¿ç”¨BCryptPasswordEncoderï¼Œä¹Ÿå°±æ˜¯<a href=\"https://en.wikipedia.org/wiki/Bcrypt\">BCrypt</a>æ¥è¿›è¡Œå¯†ç å“ˆå¸Œã€‚BCryptæ˜¯ä¸ºä¿å­˜å¯†ç è®¾è®¡çš„ç®—æ³•ï¼Œç›¸æ¯”MD5è¦æ…¢å¾ˆå¤šã€‚</p><p>å†™æ®µä»£ç æ¥æµ‹è¯•ä¸€ä¸‹MD5ï¼Œä»¥åŠä½¿ç”¨ä¸åŒä»£ä»·å› å­çš„BCryptï¼Œçœ‹çœ‹å“ˆå¸Œä¸€æ¬¡å¯†ç çš„è€—æ—¶ã€‚</p><pre><code>private static BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n\n@GetMapping(&quot;performance&quot;)\npublic void performance() {\n    StopWatch stopWatch = new StopWatch();\n    String password = &quot;Abcd1234&quot;;\n    stopWatch.start(&quot;MD5&quot;);\n    //MD5\n    DigestUtils.md5Hex(password);\n    stopWatch.stop();\n    stopWatch.start(&quot;BCrypt(10)&quot;);\n    //ä»£ä»·å› å­ä¸º10çš„BCrypt\n    String hash1 = BCrypt.gensalt(10);\n    BCrypt.hashpw(password, hash1);\n    System.out.println(hash1);\n    stopWatch.stop();\n    stopWatch.start(&quot;BCrypt(12)&quot;);\n    //ä»£ä»·å› å­ä¸º12çš„BCrypt\n    String hash2 = BCrypt.gensalt(12);\n    BCrypt.hashpw(password, hash2);\n    System.out.println(hash2);\n    stopWatch.stop();\n    stopWatch.start(&quot;BCrypt(14)&quot;);\n    //ä»£ä»·å› å­ä¸º14çš„BCrypt\n    String hash3 = BCrypt.gensalt(14);\n    BCrypt.hashpw(password, hash3);\n    System.out.println(hash3);\n    stopWatch.stop();\n    log.info(&quot;{}&quot;, stopWatch.prettyPrint());\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼ŒMD5åªéœ€è¦0.8æ¯«ç§’ï¼Œè€Œä¸‰æ¬¡BCryptå“ˆå¸Œï¼ˆä»£ä»·å› å­åˆ†åˆ«è®¾ç½®ä¸º10ã€12å’Œ14ï¼‰è€—æ—¶åˆ†åˆ«æ˜¯82æ¯«ç§’ã€312æ¯«ç§’å’Œ1.2ç§’ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/13/46/13241938861dd3ca9ba984776cc90846.png?wh=988*334\" alt=\"\"></p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåˆ¶ä½œ8ä½å¯†ç é•¿åº¦çš„MD5å½©è™¹è¡¨éœ€è¦5ä¸ªæœˆï¼Œé‚£ä¹ˆå¯¹äºBCryptæ¥è¯´ï¼Œå¯èƒ½å°±éœ€è¦å‡ åå¹´ï¼Œå¤§éƒ¨åˆ†é»‘å®¢åº”è¯¥éƒ½æ²¡æœ‰è¿™ä¸ªè€å¿ƒã€‚</p><p>æˆ‘ä»¬å†™ä¸€æ®µä»£ç è§‚å¯Ÿä¸‹ï¼ŒBCryptPasswordEncoderç”Ÿæˆçš„å¯†ç å“ˆå¸Œçš„è§„å¾‹ï¼š</p><pre><code>@GetMapping(&quot;better&quot;)\npublic UserData better(@RequestParam(value = &quot;name&quot;, defaultValue = &quot;zhuye&quot;) String name, @RequestParam(value = &quot;password&quot;, defaultValue = &quot;Abcd1234&quot;) String password) {\n    UserData userData = new UserData();\n    userData.setId(1L);\n    userData.setName(name);\n    //ä¿å­˜å“ˆå¸Œåçš„å¯†ç \n    userData.setPassword(passwordEncoder.encode(password));\n    userRepository.save(userData);\n    //åˆ¤æ–­å¯†ç æ˜¯å¦åŒ¹é…\n    log.info(&quot;match ? {}&quot;, passwordEncoder.matches(password, userData.getPassword()));\n    return userData;\n}\n</code></pre><p>æˆ‘ä»¬å¯ä»¥å‘ç°ä¸‰ç‚¹è§„å¾‹ã€‚</p><p>ç¬¬ä¸€ï¼Œæˆ‘ä»¬è°ƒç”¨encodeã€matchesæ–¹æ³•è¿›è¡Œå“ˆå¸Œã€åšå¯†ç æ¯”å¯¹çš„æ—¶å€™ï¼Œä¸éœ€è¦ä¼ å…¥ç›ã€‚<strong>BCryptæŠŠç›ä½œä¸ºäº†ç®—æ³•çš„ä¸€éƒ¨åˆ†ï¼Œå¼ºåˆ¶æˆ‘ä»¬éµå¾ªå®‰å…¨ä¿å­˜å¯†ç çš„æœ€ä½³å®è·µã€‚</strong></p><p>ç¬¬äºŒï¼Œç”Ÿæˆçš„ç›å’Œå“ˆå¸Œåçš„å¯†ç æ‹¼åœ¨äº†ä¸€èµ·ï¼š<code>$</code>æ˜¯å­—æ®µåˆ†éš”ç¬¦ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ª<code>$</code>åçš„2aä»£è¡¨ç®—æ³•ç‰ˆæœ¬ï¼Œç¬¬äºŒä¸ª<code>$</code>åçš„10æ˜¯ä»£ä»·å› å­ï¼ˆé»˜è®¤æ˜¯10ï¼Œä»£è¡¨2çš„10æ¬¡æ–¹æ¬¡å“ˆå¸Œï¼‰ï¼Œç¬¬ä¸‰ä¸ª<code>$</code>åçš„22ä¸ªå­—ç¬¦æ˜¯ç›ï¼Œå†åé¢æ˜¯æ‘˜è¦ã€‚æ‰€ä»¥è¯´ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨å•ç‹¬çš„æ•°æ®åº“å­—æ®µæ¥ä¿å­˜ç›ã€‚</p><pre><code>&quot;password&quot;: &quot;$2a$10$wPWdQwfQO2lMxqSIb6iCROXv7lKnQq5XdMO96iCYCj7boK9pk6QPC&quot;\n//æ ¼å¼ä¸ºï¼š$&lt;ver&gt;$&lt;cost&gt;$&lt;salt&gt;&lt;digest&gt;\n</code></pre><p>ç¬¬ä¸‰ï¼Œä»£ä»·å› å­çš„å€¼è¶Šå¤§ï¼ŒBCryptå“ˆå¸Œçš„è€—æ—¶è¶Šä¹…ã€‚å› æ­¤ï¼Œå¯¹äºä»£ä»·å› å­çš„å€¼ï¼Œæ›´å»ºè®®çš„å®è·µæ˜¯ï¼Œæ ¹æ®ç”¨æˆ·çš„å¿è€ç¨‹åº¦å’Œç¡¬ä»¶ï¼Œè®¾ç½®ä¸€ä¸ªå°½å¯èƒ½å¤§çš„å€¼ã€‚</p><p>æœ€åï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶é»‘å®¢å·²ç»å¾ˆéš¾é€šè¿‡å½©è™¹è¡¨æ¥ç ´è§£å¯†ç äº†ï¼Œä½†æ˜¯ä»ç„¶æœ‰å¯èƒ½æš´åŠ›ç ´è§£å¯†ç ï¼Œä¹Ÿå°±æ˜¯å¯¹äºåŒä¸€ä¸ªç”¨æˆ·åä½¿ç”¨å¸¸è§çš„å¯†ç é€ä¸€å°è¯•ç™»å½•ã€‚å› æ­¤ï¼Œé™¤äº†åšå¥½å¯†ç å“ˆå¸Œä¿å­˜çš„å·¥ä½œå¤–ï¼Œæˆ‘ä»¬è¿˜è¦å»ºè®¾ä¸€å¥—å®Œå–„çš„å®‰å…¨é˜²å¾¡æœºåˆ¶ï¼Œåœ¨æ„ŸçŸ¥åˆ°æš´åŠ›ç ´è§£å±å®³çš„æ—¶å€™ï¼Œå¼€å¯çŸ­ä¿¡éªŒè¯ã€å›¾å½¢éªŒè¯ç ã€è´¦å·æš‚æ—¶é”å®šç­‰é˜²å¾¡æœºåˆ¶æ¥æŠµå¾¡æš´åŠ›ç ´è§£ã€‚</p><h2>åº”è¯¥æ€ä¹ˆä¿å­˜å§“åå’Œèº«ä»½è¯ï¼Ÿ</h2><p>æˆ‘ä»¬æŠŠå§“åå’Œèº«ä»½è¯ï¼Œå«åšäºŒè¦ç´ ã€‚</p><p>ç°åœ¨äº’è”ç½‘éå¸¸å‘è¾¾ï¼Œå¾ˆå¤šæœåŠ¡éƒ½å¯ä»¥åœ¨ç½‘ä¸ŠåŠç†ï¼Œå¾ˆå¤šç½‘ç«™ä»…ä»…ä¾é äºŒè¦ç´ æ¥ç¡®è®¤ä½ æ˜¯è°ã€‚æ‰€ä»¥ï¼ŒäºŒè¦ç´ æ˜¯æ¯”è¾ƒæ•æ„Ÿçš„æ•°æ®ï¼Œå¦‚æœåœ¨æ•°æ®åº“ä¸­æ˜æ–‡ä¿å­˜ï¼Œé‚£ä¹ˆæ•°æ®åº“è¢«æ”»ç ´åï¼Œé»‘å®¢å°±å¯èƒ½æ‹¿åˆ°å¤§é‡çš„äºŒè¦ç´ ä¿¡æ¯ã€‚å¦‚æœè¿™äº›äºŒè¦ç´ è¢«ç”¨æ¥ç”³è¯·è´·æ¬¾ç­‰ï¼Œåæœä¸å ªè®¾æƒ³ã€‚</p><p>ä¹‹å‰æˆ‘ä»¬æåˆ°çš„å•å‘æ•£åˆ—ç®—æ³•ï¼Œæ˜¾ç„¶ä¸é€‚åˆç”¨æ¥åŠ å¯†ä¿å­˜äºŒè¦ç´ ï¼Œå› ä¸ºæ•°æ®æ— æ³•è§£å¯†ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦é€‰æ‹©çœŸæ­£çš„åŠ å¯†ç®—æ³•ã€‚å¯ä¾›é€‰æ‹©çš„ç®—æ³•ï¼ŒåŒ…æ‹¬å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†ç®—æ³•ä¸¤ç±»ã€‚</p><p>å¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œæ˜¯ä½¿ç”¨ç›¸åŒçš„å¯†é’¥è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ã€‚ä½¿ç”¨å¯¹ç§°åŠ å¯†ç®—æ³•æ¥åŠ å¯†åŒæ–¹çš„é€šä¿¡çš„è¯ï¼ŒåŒæ–¹éœ€è¦å…ˆçº¦å®šä¸€ä¸ªå¯†é’¥ï¼ŒåŠ å¯†æ–¹æ‰èƒ½åŠ å¯†ï¼Œæ¥æ”¶æ–¹æ‰èƒ½è§£å¯†ã€‚å¦‚æœå¯†é’¥åœ¨å‘é€çš„æ—¶å€™è¢«çªƒå–ï¼Œé‚£ä¹ˆåŠ å¯†å°±æ˜¯ç™½å¿™ä¸€åœºã€‚å› æ­¤ï¼Œè¿™ç§åŠ å¯†æ–¹å¼çš„ç‰¹ç‚¹æ˜¯ï¼ŒåŠ å¯†é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œä½†æ˜¯å¯†é’¥ä¼ è¾“åˆ†å‘æœ‰æ³„éœ²é£é™©ã€‚</p><p>éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œæˆ–è€…å«å…¬é’¥å¯†ç ç®—æ³•ã€‚å…¬é’¥å¯†ç æ˜¯ç”±ä¸€å¯¹å¯†é’¥å¯¹æ„æˆçš„ï¼Œä½¿ç”¨å…¬é’¥æˆ–è€…è¯´åŠ å¯†å¯†é’¥æ¥åŠ å¯†ï¼Œä½¿ç”¨ç§é’¥æˆ–è€…è¯´è§£å¯†å¯†é’¥æ¥è§£å¯†ï¼Œå…¬é’¥å¯ä»¥ä»»æ„å…¬å¼€ï¼Œç§é’¥ä¸èƒ½å…¬å¼€ã€‚ä½¿ç”¨éå¯¹ç§°åŠ å¯†çš„è¯ï¼Œé€šä¿¡åŒæ–¹å¯ä»¥ä»…åˆ†äº«å…¬é’¥ç”¨äºåŠ å¯†ï¼ŒåŠ å¯†åçš„æ•°æ®æ²¡æœ‰ç§é’¥æ— æ³•è§£å¯†ã€‚å› æ­¤ï¼Œè¿™ç§åŠ å¯†æ–¹å¼çš„ç‰¹ç‚¹æ˜¯ï¼ŒåŠ å¯†é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œä½†æ˜¯è§£å†³äº†å¯†é’¥çš„é…é€åˆ†å‘å®‰å…¨é—®é¢˜ã€‚</p><p>ä½†æ˜¯ï¼Œå¯¹äºä¿å­˜æ•æ„Ÿä¿¡æ¯çš„åœºæ™¯æ¥è¯´ï¼ŒåŠ å¯†å’Œè§£å¯†éƒ½æ˜¯æˆ‘ä»¬çš„æœåŠ¡ç«¯ç¨‹åºï¼Œä¸å¤ªéœ€è¦è€ƒè™‘å¯†é’¥çš„åˆ†å‘å®‰å…¨æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ä½¿ç”¨éå¯¹ç§°åŠ å¯†ç®—æ³•æ²¡æœ‰å¤ªå¤§çš„æ„ä¹‰ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨å¯¹ç§°åŠ å¯†ç®—æ³•æ¥åŠ å¯†æ•°æ®ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘å°±é‡ç‚¹ä¸ä½ è¯´è¯´å¯¹ç§°åŠ å¯†ç®—æ³•ã€‚å¯¹ç§°åŠ å¯†å¸¸ç”¨çš„åŠ å¯†ç®—æ³•ï¼Œæœ‰DESã€3DESå’ŒAESã€‚</p><p>è™½ç„¶ï¼Œç°åœ¨ä»æœ‰è®¸å¤šè€é¡¹ç›®ä½¿ç”¨äº†DESç®—æ³•ï¼Œä½†æˆ‘ä¸æ¨èä½¿ç”¨ã€‚åœ¨1999å¹´çš„DESæŒ‘æˆ˜èµ›3ä¸­ï¼ŒDESå¯†ç ç ´è§£è€—æ—¶ä¸åˆ°ä¸€å¤©ï¼Œè€Œç°åœ¨DESå¯†ç ç ´è§£æ›´å¿«ï¼Œä½¿ç”¨DESæ¥åŠ å¯†æ•°æ®éå¸¸ä¸å®‰å…¨ã€‚å› æ­¤ï¼Œ<strong>åœ¨ä¸šåŠ¡ä»£ç ä¸­è¦é¿å…ä½¿ç”¨DESåŠ å¯†</strong>ã€‚</p><p>è€Œ3DESç®—æ³•ï¼Œæ˜¯ä½¿ç”¨ä¸åŒçš„å¯†é’¥è¿›è¡Œä¸‰æ¬¡DESä¸²è”è°ƒç”¨ï¼Œè™½ç„¶è§£å†³äº†DESä¸å¤Ÿå®‰å…¨çš„é—®é¢˜ï¼Œä½†æ˜¯æ¯”AESæ…¢ï¼Œä¹Ÿä¸å¤ªæ¨èã€‚</p><p>AESæ˜¯å½“å‰å…¬è®¤çš„æ¯”è¾ƒå®‰å…¨ï¼Œå…¼é¡¾æ€§èƒ½çš„å¯¹ç§°åŠ å¯†ç®—æ³•ã€‚ä¸è¿‡ä¸¥æ ¼æ¥è¯´ï¼ŒAESå¹¶ä¸æ˜¯å®é™…çš„ç®—æ³•åç§°ï¼Œè€Œæ˜¯ç®—æ³•æ ‡å‡†ã€‚2000å¹´ï¼ŒNISTé€‰æ‹”å‡ºRijndaelç®—æ³•ä½œä¸ºAESçš„æ ‡å‡†ã€‚</p><p>AESæœ‰ä¸€ä¸ªé‡è¦çš„ç‰¹ç‚¹å°±æ˜¯åˆ†ç»„åŠ å¯†ä½“åˆ¶ï¼Œä¸€æ¬¡åªèƒ½å¤„ç†128ä½çš„æ˜æ–‡ï¼Œç„¶åç”Ÿæˆ128ä½çš„å¯†æ–‡ã€‚å¦‚æœè¦åŠ å¯†å¾ˆé•¿çš„æ˜æ–‡ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿­ä»£å¤„ç†ï¼Œè€Œè¿­ä»£æ–¹å¼å°±å«åšæ¨¡å¼ã€‚ç½‘ä¸Šå¾ˆå¤šä½¿ç”¨AESæ¥åŠ å¯†çš„ä»£ç ï¼Œä½¿ç”¨çš„æ˜¯æœ€ç®€å•çš„ECBæ¨¡å¼ï¼ˆä¹Ÿå«ç”µå­å¯†ç æœ¬æ¨¡å¼ï¼‰ï¼Œå…¶åŸºæœ¬ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/27/8b/27c2534caeefcac4a5dd1a2814957d8b.png?wh=1714*750\" alt=\"\"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ç§ç»“æ„æœ‰ä¸¤ä¸ªé£é™©ï¼šæ˜æ–‡å’Œå¯†æ–‡æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œå¦‚æœæ˜æ–‡ä¸­æœ‰é‡å¤çš„åˆ†ç»„ï¼Œé‚£ä¹ˆå¯†æ–‡ä¸­å¯ä»¥è§‚å¯Ÿåˆ°é‡å¤ï¼ŒæŒæ¡å¯†æ–‡çš„è§„å¾‹ï¼›å› ä¸ºæ¯ä¸€ä¸ªåˆ†ç»„æ˜¯ç‹¬ç«‹åŠ å¯†å’Œè§£å¯†çš„ ï¼Œå¦‚æœå¯†æ–‡åˆ†ç»„çš„é¡ºåºï¼Œä¹Ÿå¯ä»¥åè¿‡æ¥æ“çºµæ˜æ–‡ï¼Œé‚£ä¹ˆå°±å¯ä»¥å®ç°ä¸è§£å¯†å¯†æ–‡çš„æƒ…å†µä¸‹ï¼Œæ¥ä¿®æ”¹æ˜æ–‡ã€‚</p><p>æˆ‘ä»¬å†™ä¸€æ®µä»£ç æ¥æµ‹è¯•ä¸‹ã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ECBæ¨¡å¼æµ‹è¯•ï¼š</p><ul>\n<li>åŠ å¯†ä¸€æ®µåŒ…å«16ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œå¾—åˆ°å¯†æ–‡Aï¼›ç„¶åæŠŠè¿™æ®µå­—ç¬¦ä¸²å¤åˆ¶ä¸€ä»½æˆä¸ºä¸€ä¸ª32ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œå†è¿›è¡ŒåŠ å¯†å¾—åˆ°å¯†æ–‡Bã€‚æˆ‘ä»¬éªŒè¯ä¸‹å¯†æ–‡Bæ˜¯ä¸æ˜¯é‡å¤äº†ä¸€éçš„å¯†æ–‡Aã€‚</li>\n<li>æ¨¡æ‹Ÿé“¶è¡Œè½¬è´¦çš„åœºæ™¯ï¼Œå‡è®¾æ•´ä¸ªæ•°æ®ç”±å‘é€æ–¹è´¦å·ã€æ¥æ”¶æ–¹è´¦å·ã€é‡‘é¢ä¸‰ä¸ªå­—æ®µæ„æˆã€‚æˆ‘ä»¬å°è¯•æ”¹å˜å¯†æ–‡ä¸­æ•°æ®çš„é¡ºåºæ¥æ“çºµæ˜æ–‡ã€‚</li>\n</ul><pre><code>private static final String KEY = &quot;secretkey1234567&quot;; //å¯†é’¥\n//æµ‹è¯•ECBæ¨¡å¼\n@GetMapping(&quot;ecb&quot;)\npublic void ecb() throws Exception {\n\tCipher cipher = Cipher.getInstance(&quot;AES/ECB/NoPadding&quot;);\n\ttest(cipher, null);\n}\n//è·å–åŠ å¯†ç§˜é’¥å¸®åŠ©æ–¹æ³•\nprivate static SecretKeySpec setKey(String secret) {\n    return new SecretKeySpec(secret.getBytes(), &quot;AES&quot;);\n}\n//æµ‹è¯•é€»è¾‘\nprivate static void test(Cipher cipher, AlgorithmParameterSpec parameterSpec) throws Exception {\n    //åˆå§‹åŒ–Cipher\n    cipher.init(Cipher.ENCRYPT_MODE, setKey(KEY), parameterSpec);\n    //åŠ å¯†æµ‹è¯•æ–‡æœ¬\n    System.out.println(&quot;ä¸€æ¬¡ï¼š&quot; + Hex.encodeHexString(cipher.doFinal(&quot;abcdefghijklmnop&quot;.getBytes())));\n    //åŠ å¯†é‡å¤ä¸€æ¬¡çš„æµ‹è¯•æ–‡æœ¬\n    System.out.println(&quot;ä¸¤æ¬¡ï¼š&quot; + Hex.encodeHexString(cipher.doFinal(&quot;abcdefghijklmnopabcdefghijklmnop&quot;.getBytes())));\n    //ä¸‹é¢æµ‹è¯•æ˜¯å¦å¯ä»¥é€šè¿‡æ“çºµå¯†æ–‡æ¥æ“çºµæ˜æ–‡    \n    //å‘é€æ–¹è´¦å·\n    byte[] sender = &quot;1000000000012345&quot;.getBytes();\n    //æ¥æ”¶æ–¹è´¦å·\n    byte[] receiver = &quot;1000000000034567&quot;.getBytes();\n    //è½¬è´¦é‡‘é¢\n    byte[] money = &quot;0000000010000000&quot;.getBytes();\n    //åŠ å¯†å‘é€æ–¹è´¦å·\n    System.out.println(&quot;å‘é€æ–¹è´¦å·ï¼š&quot; + Hex.encodeHexString(cipher.doFinal(sender)));\n    //åŠ å¯†æ¥æ”¶æ–¹è´¦å·\n    System.out.println(&quot;æ¥æ”¶æ–¹è´¦å·ï¼š&quot; + Hex.encodeHexString(cipher.doFinal(receiver)));\n    //åŠ å¯†é‡‘é¢\n    System.out.println(&quot;é‡‘é¢ï¼š&quot; + Hex.encodeHexString(cipher.doFinal(money)));\n    //åŠ å¯†å®Œæ•´çš„è½¬è´¦ä¿¡æ¯\n    byte[] result = cipher.doFinal(ByteUtils.concatAll(sender, receiver, money));\n    System.out.println(&quot;å®Œæ•´æ•°æ®ï¼š&quot; + Hex.encodeHexString(result));\n    //ç”¨äºæ“çºµå¯†æ–‡çš„ä¸´æ—¶å­—èŠ‚æ•°ç»„\n    byte[] hack = new byte[result.length];\n    //æŠŠå¯†æ–‡å‰ä¸¤æ®µäº¤æ¢\n    System.arraycopy(result, 16, hack, 0, 16);\n    System.arraycopy(result, 0, hack, 16, 16);\n    System.arraycopy(result, 32, hack, 32, 16);\n    cipher.init(Cipher.DECRYPT_MODE, setKey(KEY), parameterSpec);\n    //å°è¯•è§£å¯†\n    System.out.println(&quot;åŸå§‹æ˜æ–‡ï¼š&quot; + new String(ByteUtils.concatAll(sender, receiver, money)));\n    System.out.println(&quot;æ“çºµå¯†æ–‡ï¼š&quot; + new String(cipher.doFinal(hack)));\n}\n</code></pre><p>è¾“å‡ºå¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/cd/59/cd506b4cf8a020d4b6077fdfa3b34959.png?wh=2170*408\" alt=\"\"></p><p>å¯ä»¥çœ‹åˆ°ï¼š</p><ul>\n<li>ä¸¤ä¸ªç›¸åŒæ˜æ–‡åˆ†ç»„äº§ç”Ÿçš„å¯†æ–‡ï¼Œå°±æ˜¯ä¸¤ä¸ªç›¸åŒçš„å¯†æ–‡åˆ†ç»„å åœ¨ä¸€èµ·ã€‚</li>\n<li>åœ¨ä¸çŸ¥é“å¯†é’¥çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ“çºµå¯†æ–‡å®ç°äº†å¯¹æ˜æ–‡æ•°æ®çš„ä¿®æ”¹ï¼Œå¯¹è°ƒäº†å‘é€æ–¹è´¦å·å’Œæ¥æ”¶æ–¹è´¦å·ã€‚</li>\n</ul><p>æ‰€ä»¥è¯´ï¼Œ<strong>ECBæ¨¡å¼è™½ç„¶ç®€å•ï¼Œä½†æ˜¯ä¸å®‰å…¨ï¼Œä¸æ¨èä½¿ç”¨</strong>ã€‚æˆ‘ä»¬å†çœ‹ä¸€ä¸‹å¦ä¸€ç§å¸¸ç”¨çš„åŠ å¯†æ¨¡å¼ï¼ŒCBCæ¨¡å¼ã€‚</p><p>CBCæ¨¡å¼ï¼Œåœ¨è§£å¯†æˆ–è§£å¯†ä¹‹å‰å¼•å…¥äº†XORè¿ç®—ï¼Œç¬¬ä¸€ä¸ªåˆ†ç»„ä½¿ç”¨å¤–éƒ¨æä¾›çš„åˆå§‹åŒ–å‘é‡IVï¼Œä»ç¬¬äºŒä¸ªåˆ†ç»„å¼€å§‹ä½¿ç”¨å‰ä¸€ä¸ªåˆ†ç»„çš„æ•°æ®ï¼Œè¿™æ ·å³ä½¿æ˜æ–‡æ˜¯ä¸€æ ·çš„ï¼ŒåŠ å¯†åçš„å¯†æ–‡ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œå¹¶ä¸”åˆ†ç»„çš„é¡ºåºä¸èƒ½ä»»æ„è°ƒæ¢ã€‚è¿™å°±è§£å†³äº†ECBæ¨¡å¼çš„ç¼ºé™·ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/79/e8/7955a199e2400adc7ac7577b3712bae8.png?wh=1920*692\" alt=\"\"></p><p>æˆ‘ä»¬æŠŠä¹‹å‰çš„ä»£ç ä¿®æ”¹ä¸ºCBCæ¨¡å¼ï¼Œå†æ¬¡è¿›è¡Œæµ‹è¯•ï¼š</p><pre><code> private static final String initVector = &quot;abcdefghijklmnop&quot;; //åˆå§‹åŒ–å‘é‡\n\n@GetMapping(&quot;cbc&quot;)\npublic void cbc() throws Exception {\n    Cipher cipher = Cipher.getInstance(&quot;AES/CBC/NoPadding&quot;);\n    IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(&quot;UTF-8&quot;));\n    test(cipher, iv);\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œç›¸åŒçš„æ˜æ–‡å­—ç¬¦ä¸²å¤åˆ¶ä¸€éå¾—åˆ°çš„å¯†æ–‡å¹¶ä¸æ˜¯é‡å¤ä¸¤ä¸ªå¯†æ–‡åˆ†ç»„ï¼Œå¹¶ä¸”è°ƒæ¢å¯†æ–‡åˆ†ç»„çš„é¡ºåºæ— æ³•æ“çºµæ˜æ–‡ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/8b/08/8b79074d6533a84c32e48eab3daef808.png?wh=2142*378\" alt=\"\"></p><p>å…¶å®ï¼Œé™¤äº†ECBæ¨¡å¼å’ŒCBCæ¨¡å¼å¤–ï¼ŒAESç®—æ³•è¿˜æœ‰CFBã€OFBã€CTRæ¨¡å¼ï¼Œä½ å¯ä»¥å‚è€ƒ<a href=\"https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation\">è¿™é‡Œ</a>äº†è§£å®ƒä»¬çš„åŒºåˆ«ã€‚ã€Šå®ç”¨å¯†ç å­¦ã€‹ä¸€ä¹¦æ¯”è¾ƒæ¨èçš„æ˜¯CBCå’ŒCTRæ¨¡å¼ã€‚è¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒECBå’ŒCBCæ¨¡å¼è¿˜éœ€è¦è®¾ç½®åˆé€‚çš„å¡«å……æ¨¡å¼ï¼Œæ‰èƒ½å¤„ç†è¶…è¿‡ä¸€ä¸ªåˆ†ç»„çš„æ•°æ®ã€‚</p><p>å¯¹äºæ•æ„Ÿæ•°æ®ä¿å­˜ï¼Œé™¤äº†é€‰æ‹©AES+åˆé€‚æ¨¡å¼è¿›è¡ŒåŠ å¯†å¤–ï¼Œæˆ‘è¿˜æ¨èä»¥ä¸‹å‡ ä¸ªå®è·µï¼š</p><ul>\n<li>ä¸è¦åœ¨ä»£ç ä¸­å†™æ­»ä¸€ä¸ªå›ºå®šçš„å¯†é’¥å’Œåˆå§‹åŒ–å‘é‡ï¼Œæœ€å¥½å’Œä¹‹å‰æåˆ°çš„ç›ä¸€æ ·ï¼Œæ˜¯å”¯ä¸€ã€ç‹¬ç«‹å¹¶ä¸”æ¯æ¬¡éƒ½å˜åŒ–çš„ã€‚</li>\n<li>æ¨èä½¿ç”¨ç‹¬ç«‹çš„åŠ å¯†æœåŠ¡æ¥ç®¡æ§å¯†é’¥ã€åšåŠ å¯†æ“ä½œï¼Œåƒä¸‡ä¸è¦æŠŠå¯†é’¥å’Œå¯†æ–‡å­˜åœ¨ä¸€ä¸ªæ•°æ®åº“ï¼ŒåŠ å¯†æœåŠ¡éœ€è¦è®¾ç½®éå¸¸é«˜çš„ç®¡æ§æ ‡å‡†ã€‚</li>\n<li>æ•°æ®åº“ä¸­ä¸èƒ½ä¿å­˜æ˜æ–‡çš„æ•æ„Ÿä¿¡æ¯ï¼Œä½†å¯ä»¥ä¿å­˜è„±æ•çš„ä¿¡æ¯ã€‚æ™®é€šæŸ¥è¯¢çš„æ—¶å€™ï¼Œç›´æ¥æŸ¥è„±æ•ä¿¡æ¯å³å¯ã€‚</li>\n</ul><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŒ‰ç…§è¿™ä¸ªç­–ç•¥å®Œæˆç›¸å…³ä»£ç å®ç°ã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œå¯¹äºç”¨æˆ·å§“åå’Œèº«ä»½è¯ï¼Œæˆ‘ä»¬åˆ†åˆ«ä¿å­˜ä¸‰ä¸ªä¿¡æ¯ï¼Œè„±æ•åçš„æ˜æ–‡ã€å¯†æ–‡å’ŒåŠ å¯†IDã€‚åŠ å¯†æœåŠ¡åŠ å¯†åè¿”å›å¯†æ–‡å’ŒåŠ å¯†IDï¼Œéšåä½¿ç”¨åŠ å¯†IDæ¥è¯·æ±‚åŠ å¯†æœåŠ¡è¿›è¡Œè§£å¯†ï¼š</p><pre><code>@Data\n@Entity\npublic class UserData {\n    @Id\n    private Long id;\n    private String idcard;//è„±æ•çš„èº«ä»½è¯\n    private Long idcardCipherId;//èº«ä»½è¯åŠ å¯†ID\n    private String idcardCipherText;//èº«ä»½è¯å¯†æ–‡\n    private String name;//è„±æ•çš„å§“å\n    private Long nameCipherId;//å§“ååŠ å¯†ID\n    private String nameCipherText;//å§“åå¯†æ–‡\n}\n</code></pre><p>ç¬¬äºŒæ­¥ï¼ŒåŠ å¯†æœåŠ¡æ•°æ®è¡¨ä¿å­˜åŠ å¯†IDã€åˆå§‹åŒ–å‘é‡å’Œå¯†é’¥ã€‚åŠ å¯†æœåŠ¡è¡¨ä¸­æ²¡æœ‰å¯†æ–‡ï¼Œå®ç°äº†å¯†æ–‡å’Œå¯†é’¥åˆ†ç¦»ä¿å­˜ï¼š</p><pre><code>@Data\n@Entity\npublic class CipherData {\n    @Id\n    @GeneratedValue(strategy = AUTO)\n    private Long id;\n    private String iv;//åˆå§‹åŒ–å‘é‡\n    private String secureKey;//å¯†é’¥\n}\n</code></pre><p>ç¬¬ä¸‰æ­¥ï¼ŒåŠ å¯†æœåŠ¡ä½¿ç”¨GCMæ¨¡å¼ï¼ˆ Galois/Counter Modeï¼‰çš„AES-256å¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯AES-256-GCMã€‚</p><p>è¿™æ˜¯ä¸€ç§<a href=\"https://tools.ietf.org/html/rfc5116\">AEAD</a>ï¼ˆAuthenticated Encryption with Associated Dataï¼‰è®¤è¯åŠ å¯†ç®—æ³•ï¼Œé™¤äº†èƒ½å®ç°æ™®é€šåŠ å¯†ç®—æ³•æä¾›çš„ä¿å¯†æ€§ä¹‹å¤–ï¼Œè¿˜èƒ½å®ç°å¯è®¤è¯æ€§å’Œå¯†æ–‡å®Œæ•´æ€§ï¼Œæ˜¯ç›®å‰æœ€æ¨èçš„AESæ¨¡å¼ã€‚</p><p>ä½¿ç”¨ç±»ä¼¼GCMçš„AEADç®—æ³•è¿›è¡ŒåŠ è§£å¯†ï¼Œé™¤äº†éœ€è¦æä¾›åˆå§‹åŒ–å‘é‡å’Œå¯†é’¥ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æä¾›ä¸€ä¸ªAADï¼ˆé™„åŠ è®¤è¯æ•°æ®ï¼Œadditional authenticated dataï¼‰ï¼Œç”¨äºéªŒè¯æœªåŒ…å«åœ¨æ˜æ–‡ä¸­çš„é™„åŠ ä¿¡æ¯ï¼Œè§£å¯†æ—¶ä¸ä½¿ç”¨åŠ å¯†æ—¶çš„AADå°†è§£å¯†å¤±è´¥ã€‚å…¶å®ï¼ŒGCMæ¨¡å¼çš„å†…éƒ¨ä½¿ç”¨çš„å°±æ˜¯CTRæ¨¡å¼ï¼Œåªä¸è¿‡è¿˜ä½¿ç”¨äº†GMACç­¾åç®—æ³•ï¼Œå¯¹å¯†æ–‡è¿›è¡Œç­¾åå®ç°å®Œæ•´æ€§æ ¡éªŒã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®ç°åŸºäºAES-256-GCMçš„åŠ å¯†æœåŠ¡ï¼ŒåŒ…å«ä¸‹é¢çš„ä¸»è¦é€»è¾‘ï¼š</p><ul>\n<li>åŠ å¯†æ—¶å…è®¸å¤–éƒ¨ä¼ å…¥ä¸€ä¸ªAADç”¨äºè®¤è¯ï¼ŒåŠ å¯†æœåŠ¡æ¯æ¬¡éƒ½ä¼šä½¿ç”¨æ–°ç”Ÿæˆçš„éšæœºå€¼ä½œä¸ºå¯†é’¥å’Œåˆå§‹åŒ–å‘é‡ã€‚</li>\n<li>åœ¨åŠ å¯†åï¼ŒåŠ å¯†æœåŠ¡å¯†é’¥å’Œåˆå§‹åŒ–å‘é‡ä¿å­˜åˆ°æ•°æ®åº“ä¸­ï¼Œè¿”å›åŠ å¯†IDä½œä¸ºæœ¬æ¬¡åŠ å¯†çš„æ ‡è¯†ã€‚</li>\n<li>åº”ç”¨è§£å¯†æ—¶ï¼Œéœ€è¦æä¾›åŠ å¯†IDã€å¯†æ–‡å’ŒåŠ å¯†æ—¶çš„AADæ¥è§£å¯†ã€‚åŠ å¯†æœåŠ¡ä½¿ç”¨åŠ å¯†IDï¼Œä»æ•°æ®åº“æŸ¥è¯¢å‡ºå¯†é’¥å’Œåˆå§‹åŒ–å‘é‡ã€‚</li>\n</ul><p>è¿™æ®µé€»è¾‘çš„å®ç°ä»£ç æ¯”è¾ƒé•¿ï¼Œæˆ‘åŠ äº†è¯¦ç»†æ³¨é‡Šæ–¹ä¾¿ä½ ä»”ç»†é˜…è¯»ï¼š</p><pre><code>@Service\npublic class CipherService {\n    //å¯†é’¥é•¿åº¦\n    public static final int AES_KEY_SIZE = 256;\n    //åˆå§‹åŒ–å‘é‡é•¿åº¦\n    public static final int GCM_IV_LENGTH = 12;\n    //GCMèº«ä»½è®¤è¯Tagé•¿åº¦\n    public static final int GCM_TAG_LENGTH = 16;\n    @Autowired\n    private CipherRepository cipherRepository;\n\n    //å†…éƒ¨åŠ å¯†æ–¹æ³•\n    public static byte[] doEncrypt(byte[] plaintext, SecretKey key, byte[] iv, byte[] aad) throws Exception {\n        //åŠ å¯†ç®—æ³•\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n        //Keyè§„èŒƒ\n        SecretKeySpec keySpec = new SecretKeySpec(key.getEncoded(), &quot;AES&quot;);\n        //GCMå‚æ•°è§„èŒƒ\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, iv);\n        //åŠ å¯†æ¨¡å¼\n        cipher.init(Cipher.ENCRYPT_MODE, keySpec, gcmParameterSpec);\n        //è®¾ç½®aad\n        if (aad != null)\n            cipher.updateAAD(aad);\n        //åŠ å¯†\n        byte[] cipherText = cipher.doFinal(plaintext);\n        return cipherText;\n    }\n\n    //å†…éƒ¨è§£å¯†æ–¹æ³•\n    public static String doDecrypt(byte[] cipherText, SecretKey key, byte[] iv, byte[] aad) throws Exception {\n        //åŠ å¯†ç®—æ³•\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n        //Keyè§„èŒƒ\n        SecretKeySpec keySpec = new SecretKeySpec(key.getEncoded(), &quot;AES&quot;);\n        //GCMå‚æ•°è§„èŒƒ\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, iv);\n        //è§£å¯†æ¨¡å¼\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmParameterSpec);\n        //è®¾ç½®aad\n        if (aad != null)\n            cipher.updateAAD(aad);\n        //è§£å¯†\n        byte[] decryptedText = cipher.doFinal(cipherText);\n        return new String(decryptedText);\n    }\n\n    //åŠ å¯†å…¥å£\n    public CipherResult encrypt(String data, String aad) throws Exception {\n        //åŠ å¯†ç»“æœ\n        CipherResult encryptResult = new CipherResult();\n        //å¯†é’¥ç”Ÿæˆå™¨\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\n        //ç”Ÿæˆå¯†é’¥\n        keyGenerator.init(AES_KEY_SIZE);\n        SecretKey key = keyGenerator.generateKey();\n        //IVæ•°æ®\n        byte[] iv = new byte[GCM_IV_LENGTH];\n        //éšæœºç”ŸæˆIV\n        SecureRandom random = new SecureRandom();\n        random.nextBytes(iv);\n        //å¤„ç†aad\n        byte[] aaddata = null;\n        if (!StringUtils.isEmpty(aad))\n            aaddata = aad.getBytes();\n        //è·å¾—å¯†æ–‡\n        encryptResult.setCipherText(Base64.getEncoder().encodeToString(doEncrypt(data.getBytes(), key, iv, aaddata)));\n        //åŠ å¯†ä¸Šä¸‹æ–‡æ•°æ®\n        CipherData cipherData = new CipherData();\n        //ä¿å­˜IV\n        cipherData.setIv(Base64.getEncoder().encodeToString(iv));\n        //ä¿å­˜å¯†é’¥\n        cipherData.setSecureKey(Base64.getEncoder().encodeToString(key.getEncoded()));\n        cipherRepository.save(cipherData);\n        //è¿”å›æœ¬åœ°åŠ å¯†ID\n        encryptResult.setId(cipherData.getId());\n        return encryptResult;\n    }\n\n    //è§£å¯†å…¥å£\n    public String decrypt(long cipherId, String cipherText, String aad) throws Exception {\n        //ä½¿ç”¨åŠ å¯†IDæ‰¾åˆ°åŠ å¯†ä¸Šä¸‹æ–‡æ•°æ®\n        CipherData cipherData = cipherRepository.findById(cipherId).orElseThrow(() -&gt; new IllegalArgumentException(&quot;invlaid cipherId&quot;));\n        //åŠ è½½å¯†é’¥\n        byte[] decodedKey = Base64.getDecoder().decode(cipherData.getSecureKey());\n        //åˆå§‹åŒ–å¯†é’¥\n        SecretKey originalKey = new SecretKeySpec(decodedKey, 0, decodedKey.length, &quot;AES&quot;);\n        //åŠ è½½IV\n        byte[] decodedIv = Base64.getDecoder().decode(cipherData.getIv());\n        //å¤„ç†aad\n        byte[] aaddata = null;\n        if (!StringUtils.isEmpty(aad))\n            aaddata = aad.getBytes();\n        //è§£å¯†\n        return doDecrypt(Base64.getDecoder().decode(cipherText.getBytes()), originalKey, decodedIv, aaddata);\n    }\n}\n</code></pre><p>ç¬¬å››æ­¥ï¼Œåˆ†åˆ«å®ç°åŠ å¯†å’Œè§£å¯†æ¥å£ç”¨äºæµ‹è¯•ã€‚</p><p>æˆ‘ä»¬å¯ä»¥è®©ç”¨æˆ·é€‰æ‹©ï¼Œå¦‚æœéœ€è¦ä¿æŠ¤äºŒè¦ç´ çš„è¯ï¼Œå°±è‡ªå·±è¾“å…¥ä¸€ä¸ªæŸ¥è¯¢å¯†ç ä½œä¸ºAADã€‚ç³»ç»Ÿéœ€è¦è¯»å–ç”¨æˆ·æ•æ„Ÿä¿¡æ¯çš„æ—¶å€™ï¼Œè¿˜éœ€è¦ç”¨æˆ·æä¾›è¿™ä¸ªå¯†ç ï¼Œå¦åˆ™æ— æ³•è§£å¯†ã€‚è¿™æ ·ä¸€æ¥ï¼Œå³ä½¿é»‘å®¢æ‹¿åˆ°äº†ç”¨æˆ·æ•°æ®åº“çš„å¯†æ–‡ã€åŠ å¯†æœåŠ¡çš„å¯†é’¥å’ŒIVï¼Œä¹Ÿä¼šå› ä¸ºç¼ºå°‘AADæ— æ³•è§£å¯†ï¼š</p><pre><code>@Autowired\nprivate CipherService cipherService;\n\n\n//åŠ å¯†\n@GetMapping(&quot;right&quot;)\npublic UserData right(@RequestParam(value = &quot;name&quot;, defaultValue = &quot;æœ±æ™”&quot;) String name,\n                      @RequestParam(value = &quot;idcard&quot;, defaultValue = &quot;300000000000001234&quot;) String idCard,\n                      @RequestParam(value = &quot;aad&quot;, required = false)String aad) throws Exception {\n    UserData userData = new UserData();\n    userData.setId(1L);\n    //è„±æ•å§“å\n    userData.setName(chineseName(name));\n    //è„±æ•èº«ä»½è¯\n    userData.setIdcard(idCard(idCard));\n    //åŠ å¯†å§“å\n    CipherResult cipherResultName = cipherService.encrypt(name,aad);\n    userData.setNameCipherId(cipherResultName.getId());\n    userData.setNameCipherText(cipherResultName.getCipherText());\n    //åŠ å¯†èº«ä»½è¯\n    CipherResult cipherResultIdCard = cipherService.encrypt(idCard,aad);\n    userData.setIdcardCipherId(cipherResultIdCard.getId());\n    userData.setIdcardCipherText(cipherResultIdCard.getCipherText());\n    return userRepository.save(userData);\n}\n\n//è§£å¯†\n@GetMapping(&quot;read&quot;)\npublic void read(@RequestParam(value = &quot;aad&quot;, required = false)String aad) throws Exception {\n    //æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯\n    UserData userData = userRepository.findById(1L).get();\n    //ä½¿ç”¨AADæ¥è§£å¯†å§“åå’Œèº«ä»½è¯\n    log.info(&quot;name : {} idcard : {}&quot;,\n            cipherService.decrypt(userData.getNameCipherId(), userData.getNameCipherText(),aad),\n            cipherService.decrypt(userData.getIdcardCipherId(), userData.getIdcardCipherText(),aad));\n\n}\n//è„±æ•èº«ä»½è¯\nprivate static String idCard(String idCard) {\n    String num = StringUtils.right(idCard, 4);\n    return StringUtils.leftPad(num, StringUtils.length(idCard), &quot;*&quot;);\n}\n//è„±æ•å§“å\npublic static String chineseName(String chineseName) {\n    String name = StringUtils.left(chineseName, 1);\n    return StringUtils.rightPad(name, StringUtils.length(chineseName), &quot;*&quot;);\n</code></pre><p>è®¿é—®åŠ å¯†æ¥å£è·å¾—å¦‚ä¸‹ç»“æœï¼Œå¯ä»¥çœ‹åˆ°æ•°æ®åº“è¡¨ä¸­åªæœ‰è„±æ•æ•°æ®å’Œå¯†æ–‡ï¼š</p><pre><code>{&quot;id&quot;:1,&quot;name&quot;:&quot;æœ±*&quot;,&quot;idcard&quot;:&quot;**************1234&quot;,&quot;idcardCipherId&quot;:26346,&quot;idcardCipherText&quot;:&quot;t/wIh1XTj00wJP1Lt3aGzSvn9GcqQWEwthN58KKU4KZ4Tw==&quot;,&quot;nameCipherId&quot;:26347,&quot;nameCipherText&quot;:&quot;+gHrk1mWmveBMVUo+CYon8Zjj9QAtw==&quot;}\n</code></pre><p>è®¿é—®è§£å¯†æ¥å£ï¼Œå¯ä»¥çœ‹åˆ°è§£å¯†æˆåŠŸäº†ï¼š</p><pre><code>[21:46:00.079] [http-nio-45678-exec-6] [INFO ] [o.g.t.c.s.s.StoreIdCardController:102 ] - name : æœ±æ™” idcard : 300000000000001234\n</code></pre><p>å¦‚æœAADè¾“å…¥ä¸å¯¹ï¼Œä¼šå¾—åˆ°å¦‚ä¸‹å¼‚å¸¸ï¼š</p><pre><code>javax.crypto.AEADBadTagException: Tag mismatch!\n\tat com.sun.crypto.provider.GaloisCounterMode.decryptFinal(GaloisCounterMode.java:578)\n\tat com.sun.crypto.provider.CipherCore.finalNoPadding(CipherCore.java:1116)\n\tat com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:1053)\n\tat com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:853)\n\tat com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:446)\n\tat javax.crypto.Cipher.doFinal(Cipher.java:2164)\n</code></pre><p>ç»è¿‡è¿™æ ·çš„è®¾è®¡ï¼ŒäºŒè¦ç´ å°±æ¯”è¾ƒå®‰å…¨äº†ã€‚é»‘å®¢è¦æŸ¥è¯¢ç”¨æˆ·äºŒè¦ç´ çš„è¯ï¼Œéœ€è¦åŒæ—¶æ‹¿åˆ°å¯†æ–‡ã€IV+å¯†é’¥ã€AADã€‚è€Œè¿™ä¸‰è€…å¯èƒ½ç”±ä¸‰æ–¹æŒç®¡ï¼Œè¦å…¨éƒ¨æ‹¿åˆ°æ¯”è¾ƒå›°éš¾ã€‚</p><h2>ç”¨ä¸€å¼ å›¾è¯´æ¸…æ¥šHTTPS</h2><p>æˆ‘ä»¬çŸ¥é“ï¼ŒHTTPåè®®ä¼ è¾“æ•°æ®ä½¿ç”¨çš„æ˜¯æ˜æ–‡ã€‚é‚£åœ¨ä¼ è¾“æ•æ„Ÿä¿¡æ¯çš„åœºæ™¯ä¸‹ï¼Œå¦‚æœå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¸­é—´æœ‰ä¸€ä¸ªé»‘å®¢ä½œä¸ºä¸­é—´äººæ‹¦æˆªè¯·æ±‚ï¼Œå°±å¯ä»¥çªƒå¬åˆ°è¿™äº›æ•°æ®ï¼Œè¿˜å¯ä»¥ä¿®æ”¹å®¢æˆ·ç«¯ä¼ è¿‡æ¥çš„æ•°æ®ã€‚è¿™å°±æ˜¯å¾ˆå¤§çš„å®‰å…¨éšæ‚£ã€‚</p><p>ä¸ºè§£å†³è¿™ä¸ªå®‰å…¨éšæ‚£ï¼Œæœ‰äº†HTTPSåè®®ã€‚HTTPS=SSL/TLS+HTTPï¼Œé€šè¿‡ä½¿ç”¨ä¸€ç³»åˆ—åŠ å¯†ç®—æ³•æ¥ç¡®ä¿ä¿¡æ¯å®‰å…¨ä¼ è¾“ï¼Œä»¥å®ç°æ•°æ®ä¼ è¾“çš„æœºå¯†æ€§ã€å®Œæ•´æ€§å’Œæƒå¨æ€§ã€‚</p><ul>\n<li>æœºå¯†æ€§ï¼šä½¿ç”¨éå¯¹ç§°åŠ å¯†æ¥åŠ å¯†å¯†é’¥ï¼Œç„¶åä½¿ç”¨å¯†é’¥æ¥åŠ å¯†æ•°æ®ï¼Œæ—¢å®‰å…¨åˆè§£å†³äº†éå¯¹ç§°åŠ å¯†å¤§é‡æ•°æ®æ…¢çš„é—®é¢˜ã€‚ä½ å¯ä»¥åšä¸€ä¸ªå®éªŒæ¥æµ‹è¯•ä¸¤è€…çš„å·®è·ã€‚</li>\n<li>å®Œæ•´æ€§ï¼šä½¿ç”¨æ•£åˆ—ç®—æ³•å¯¹ä¿¡æ¯è¿›è¡Œæ‘˜è¦ï¼Œç¡®ä¿ä¿¡æ¯å®Œæ•´æ— æ³•è¢«ä¸­é—´äººç¯¡æ”¹ã€‚</li>\n<li>æƒå¨æ€§ï¼šä½¿ç”¨æ•°å­—è¯ä¹¦ï¼Œæ¥ç¡®ä¿æˆ‘ä»¬æ˜¯åœ¨å’Œåˆæ³•çš„æœåŠ¡ç«¯é€šä¿¡ã€‚</li>\n</ul><p>å¯ä»¥çœ‹å‡ºï¼Œç†è§£HTTPSçš„æµç¨‹ï¼Œå°†æœ‰åŠ©äºæˆ‘ä»¬ç†è§£å„ç§åŠ å¯†ç®—æ³•çš„åŒºåˆ«ï¼Œä»¥åŠè¯ä¹¦çš„æ„ä¹‰ã€‚æ­¤å¤–ï¼ŒSSL/TLSè¿˜æ˜¯æ··åˆåŠ å¯†ç³»ç»Ÿçš„ä¸€ä¸ªå…¸èŒƒï¼Œå¦‚æœä½ éœ€è¦è‡ªå·±å¼€å‘åº”ç”¨å±‚æ•°æ®åŠ å¯†ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥å‚è€ƒå®ƒçš„æµç¨‹ã€‚</p><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å°±æ¥çœ‹çœ‹HTTPS TLS 1.2è¿æ¥ï¼ˆRSAæ¡æ‰‹ï¼‰çš„æ•´ä¸ªè¿‡ç¨‹å§ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/98/7c/982510795a50e4b18808eed81dac647c.png?wh=1778*1676\" alt=\"\"></p><p>ä½œä¸ºå‡†å¤‡å·¥ä½œï¼Œç½‘ç«™ç®¡ç†å‘˜éœ€è¦ç”³è¯·å¹¶å®‰è£…CAè¯ä¹¦åˆ°æœåŠ¡ç«¯ã€‚CAè¯ä¹¦ä¸­åŒ…å«éå¯¹ç§°åŠ å¯†çš„å…¬é’¥ã€ç½‘ç«™åŸŸåç­‰ä¿¡æ¯ï¼Œå¯†é’¥æ˜¯æœåŠ¡ç«¯è‡ªå·±ä¿å­˜çš„ï¼Œä¸ä¼šåœ¨ä»»ä½•åœ°æ–¹å…¬å¼€ã€‚</p><p>å»ºç«‹HTTPSè¿æ¥çš„è¿‡ç¨‹ï¼Œé¦–å…ˆæ˜¯TCPæ¡æ‰‹ï¼Œç„¶åæ˜¯TLSæ¡æ‰‹çš„ä¸€ç³»åˆ—å·¥ä½œï¼ŒåŒ…æ‹¬ï¼š</p><ol>\n<li>å®¢æˆ·ç«¯å‘ŠçŸ¥æœåŠ¡ç«¯è‡ªå·±æ”¯æŒçš„å¯†ç å¥—ä»¶ï¼ˆæ¯”å¦‚TLS_RSA_WITH_AES_256_GCM_SHA384ï¼Œå…¶ä¸­RSAæ˜¯å¯†é’¥äº¤æ¢çš„æ–¹å¼ï¼ŒAES_256_GCMæ˜¯åŠ å¯†ç®—æ³•ï¼ŒSHA384æ˜¯æ¶ˆæ¯éªŒè¯æ‘˜è¦ç®—æ³•ï¼‰ï¼Œæä¾›å®¢æˆ·ç«¯éšæœºæ•°ã€‚</li>\n<li>æœåŠ¡ç«¯åº”ç­”é€‰æ‹©çš„å¯†ç å¥—ä»¶ï¼Œæä¾›æœåŠ¡ç«¯éšæœºæ•°ã€‚</li>\n<li>æœåŠ¡ç«¯å‘é€CAè¯ä¹¦ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯éªŒè¯CAè¯ä¹¦ï¼ˆåé¢è¯¦ç»†è¯´æ˜ï¼‰ã€‚</li>\n<li>å®¢æˆ·ç«¯ç”ŸæˆPreMasterKeyï¼Œå¹¶ä½¿ç”¨éå¯¹ç§°åŠ å¯†+å…¬é’¥åŠ å¯†PreMasterKeyã€‚</li>\n<li>å®¢æˆ·ç«¯æŠŠåŠ å¯†åçš„PreMasterKeyä¼ ç»™æœåŠ¡ç«¯ã€‚</li>\n<li>æœåŠ¡ç«¯ä½¿ç”¨éå¯¹ç§°åŠ å¯†+ç§é’¥è§£å¯†å¾—åˆ°PreMasterKeyï¼Œå¹¶ä½¿ç”¨PreMasterKey+ä¸¤ä¸ªéšæœºæ•°ï¼Œç”ŸæˆMasterKeyã€‚</li>\n<li>å®¢æˆ·ç«¯ä¹Ÿä½¿ç”¨PreMasterKey+ä¸¤ä¸ªéšæœºæ•°ç”ŸæˆMasterKeyã€‚</li>\n<li>å®¢æˆ·ç«¯å‘ŠçŸ¥æœåŠ¡ç«¯ä¹‹åå°†è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€‚</li>\n<li>å®¢æˆ·ç«¯ä½¿ç”¨MasterKeyé…åˆå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œè¿›è¡Œå¯¹ç§°åŠ å¯†æµ‹è¯•ã€‚</li>\n<li>æœåŠ¡ç«¯ä¹Ÿä½¿ç”¨MasterKeyé…åˆå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œè¿›è¡Œå¯¹ç§°åŠ å¯†æµ‹è¯•ã€‚</li>\n</ol><p>æ¥ä¸‹æ¥ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ‰€æœ‰é€šä¿¡éƒ½æ˜¯åŠ å¯†é€šä¿¡ï¼Œå¹¶ä¸”æ•°æ®é€šè¿‡ç­¾åç¡®ä¿æ— æ³•ç¯¡æ”¹ã€‚ä½ å¯èƒ½ä¼šé—®ï¼Œå®¢æˆ·ç«¯æ€ä¹ˆéªŒè¯CAè¯ä¹¦å‘¢ï¼Ÿ</p><p>å…¶å®ï¼ŒCAè¯ä¹¦æ˜¯ä¸€ä¸ªè¯ä¹¦é“¾ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹ä¸Šå›¾çš„å·¦è¾¹éƒ¨åˆ†ï¼š</p><ul>\n<li>ä»æœåŠ¡ç«¯æ‹¿åˆ°çš„CAè¯ä¹¦æ˜¯ç”¨æˆ·è¯ä¹¦ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡è¯ä¹¦ä¸­çš„ç­¾å‘äººä¿¡æ¯æ‰¾åˆ°ä¸Šçº§ä¸­é—´è¯ä¹¦ï¼Œå†ç½‘ä¸Šæ‰¾åˆ°æ ¹è¯ä¹¦ã€‚</li>\n<li>æ ¹è¯ä¹¦åªæœ‰ä¸ºæ•°ä¸å¤šçš„æƒå¨æœºæ„æ‰èƒ½ç”Ÿæˆï¼Œä¸€èˆ¬é¢„ç½®åœ¨OSä¸­ï¼Œæ ¹æœ¬æ— æ³•ä¼ªé€ ã€‚</li>\n<li>æ‰¾åˆ°æ ¹è¯ä¹¦åï¼Œæå–å…¶å…¬é’¥æ¥éªŒè¯ä¸­é—´è¯ä¹¦çš„ç­¾åï¼Œåˆ¤æ–­å…¶æƒå¨æ€§ã€‚</li>\n<li>æœ€åå†æ‹¿åˆ°ä¸­é—´è¯ä¹¦çš„å…¬é’¥ï¼ŒéªŒè¯ç”¨æˆ·è¯ä¹¦çš„ç­¾åã€‚</li>\n</ul><p>è¿™ï¼Œå°±éªŒè¯äº†ç”¨æˆ·è¯ä¹¦çš„åˆæ³•æ€§ï¼Œç„¶åå†æ ¡éªŒå…¶æœ‰æ•ˆæœŸã€åŸŸåç­‰ä¿¡æ¯è¿›ä¸€æ­¥éªŒè¯æœ‰æ•ˆæ€§ã€‚</p><p>æ€»ç»“ä¸€ä¸‹ï¼ŒTLSé€šè¿‡å·§å¦™çš„æµç¨‹å’Œç®—æ³•æ­é…è§£å†³äº†ä¼ è¾“å®‰å…¨é—®é¢˜ï¼šä½¿ç”¨å¯¹ç§°åŠ å¯†åŠ å¯†æ•°æ®ï¼Œä½¿ç”¨éå¯¹ç§°åŠ å¯†ç®—æ³•ç¡®ä¿å¯†é’¥æ— æ³•è¢«ä¸­é—´äººè§£å¯†ï¼›ä½¿ç”¨CAè¯ä¹¦é“¾è®¤è¯ï¼Œç¡®ä¿ä¸­é—´äººæ— æ³•ä¼ªé€ è‡ªå·±çš„è¯ä¹¦å’Œå…¬é’¥ã€‚</p><p>å¦‚æœç½‘ç«™æ¶‰åŠæ•æ„Ÿæ•°æ®çš„ä¼ è¾“ï¼Œå¿…é¡»ä½¿ç”¨HTTPSåè®®ã€‚ä½œä¸ºç”¨æˆ·ï¼Œå¦‚æœä½ çœ‹åˆ°ç½‘ç«™ä¸æ˜¯HTTPSçš„æˆ–è€…çœ‹åˆ°æ— æ•ˆè¯ä¹¦è­¦å‘Šï¼Œä¹Ÿä¸åº”è¯¥ç»§ç»­ä½¿ç”¨è¿™ä¸ªç½‘ç«™ï¼Œä»¥å…æ•æ„Ÿä¿¡æ¯è¢«æ³„éœ²ã€‚</p><h2>é‡ç‚¹å›é¡¾</h2><p>ä»Šå¤©ï¼Œæˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†å¦‚ä½•ä¿å­˜å’Œä¼ è¾“æ•æ„Ÿæ•°æ®ã€‚æˆ‘æ¥å¸¦ä½ å›é¡¾ä¸€ä¸‹é‡ç‚¹å†…å®¹ã€‚</p><p>å¯¹äºæ•°æ®ä¿å­˜ï¼Œä½ éœ€è¦è®°ä½ä¸¤ç‚¹ï¼š</p><ul>\n<li>ç”¨æˆ·å¯†ç ä¸èƒ½åŠ å¯†ä¿å­˜ï¼Œæ›´ä¸èƒ½æ˜æ–‡ä¿å­˜ï¼Œéœ€è¦ä½¿ç”¨å…¨çƒå”¯ä¸€çš„ã€å…·æœ‰ä¸€å®šé•¿åº¦çš„ã€éšæœºçš„ç›ï¼Œé…åˆå•å‘æ•£åˆ—ç®—æ³•ä¿å­˜ã€‚ä½¿ç”¨BCryptç®—æ³•ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„å®è·µã€‚</li>\n<li>è¯¸å¦‚å§“åå’Œèº«ä»½è¯è¿™ç§éœ€è¦å¯é€†è§£å¯†æŸ¥è¯¢çš„æ•æ„Ÿä¿¡æ¯ï¼Œéœ€è¦ä½¿ç”¨å¯¹ç§°åŠ å¯†ç®—æ³•ä¿å­˜ã€‚æˆ‘çš„å»ºè®®æ˜¯ï¼ŒæŠŠè„±æ•æ•°æ®å’Œå¯†æ–‡ä¿å­˜åœ¨ä¸šåŠ¡æ•°æ®åº“ï¼Œç‹¬ç«‹ä½¿ç”¨åŠ å¯†æœåŠ¡æ¥åšæ•°æ®åŠ è§£å¯†ï¼›å¯¹ç§°åŠ å¯†éœ€è¦ç”¨åˆ°çš„å¯†é’¥å’Œåˆå§‹åŒ–å‘é‡ï¼Œå¯ä»¥å’Œä¸šåŠ¡æ•°æ®åº“åˆ†å¼€ä¿å­˜ã€‚</li>\n</ul><p>å¯¹äºæ•°æ®ä¼ è¾“ï¼Œåˆ™åŠ¡å¿…é€šè¿‡SSL/TLSè¿›è¡Œä¼ è¾“ã€‚å¯¹äºç”¨äºå®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯ä¼ è¾“æ•°æ®çš„HTTPï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åŸºäºSSL/TLSçš„HTTPSã€‚å¯¹äºä¸€äº›èµ°TCPçš„RPCæœåŠ¡ï¼ŒåŒæ ·å¯ä»¥ä½¿ç”¨SSL/TLSæ¥ç¡®ä¿ä¼ è¾“å®‰å…¨ã€‚</p><p>æœ€åï¼Œæˆ‘è¦æé†’ä½ çš„æ˜¯ï¼Œå¦‚æœä¸ç¡®å®šåº”è¯¥å¦‚ä½•å®ç°åŠ è§£å¯†æ–¹æ¡ˆæˆ–æµç¨‹ï¼Œå¯ä»¥å’¨è¯¢å…¬å¸å†…éƒ¨çš„å®‰å…¨ä¸“å®¶ï¼Œæˆ–æ˜¯å‚è€ƒä¸šç•Œå„å¤§äº‘å‚å•†çš„æ–¹æ¡ˆï¼Œåˆ‡å‹¿è‡ªå·±æƒ³å½“ç„¶åœ°å»è®¾è®¡æµç¨‹ï¼Œç”šè‡³åˆ›é€ åŠ å¯†ç®—æ³•ã€‚</p><p>ä»Šå¤©ç”¨åˆ°çš„ä»£ç ï¼Œæˆ‘éƒ½æ”¾åœ¨äº†GitHubä¸Šï¼Œä½ å¯ä»¥ç‚¹å‡»<a href=\"https://github.com/JosephZhu1983/java-common-mistakes\">è¿™ä¸ªé“¾æ¥</a>æŸ¥çœ‹ã€‚</p><h2>æ€è€ƒä¸è®¨è®º</h2><ol>\n<li>è™½ç„¶æˆ‘ä»¬æŠŠç”¨æˆ·åå’Œå¯†ç è„±æ•åŠ å¯†ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œä½†æ—¥å¿—ä¸­å¯èƒ½è¿˜å­˜åœ¨æ˜æ–‡çš„æ•æ„Ÿæ•°æ®ã€‚ä½ æœ‰ä»€ä¹ˆæ€è·¯åœ¨æ¡†æ¶æˆ–ä¸­é—´ä»¶å±‚é¢ï¼Œå¯¹æ—¥å¿—è¿›è¡Œè„±æ•å—ï¼Ÿ</li>\n<li>ä½ çŸ¥é“HTTPSåŒå‘è®¤è¯çš„ç›®çš„æ˜¯ä»€ä¹ˆå—ï¼Ÿæµç¨‹ä¸Šåˆæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</li>\n</ol><p>å…³äºå„ç§åŠ å¯†ç®—æ³•ï¼Œä½ è¿˜é‡åˆ°è¿‡ä»€ä¹ˆå‘å—ï¼Ÿä½ åˆæ˜¯å¦‚ä½•ä¿å­˜æ•æ„Ÿæ•°æ®çš„å‘¢ï¼Ÿæˆ‘æ˜¯æœ±æ™”ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºä¸æˆ‘ç•™è¨€åˆ†äº«ä½ çš„æƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–åŒäº‹ï¼Œä¸€èµ·äº¤æµã€‚</p>","comments":[{"had_liked":false,"id":221237,"user_name":"å¤§èƒ–å­å‘€ã€","can_delete":false,"product_type":"c1","uid":1258251,"ip_address":"","ucode":"4BADF8096254BE","user_header":"https://static001.geekbang.org/account/avatar/00/13/33/0b/fd18c8ab.jpg","comment_is_top":false,"comment_ctime":1590454126,"is_pvip":false,"replies":[{"id":"81589","content":"å“ˆå“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™”","uid":"1001470","ctime":1590455239,"ip_address":"","comment_id":221237,"utype":1}],"discussion_count":3,"race_medal":0,"score":"139029407598","product_id":100047701,"comment_content":"è€å¸ˆè¯´ä¸èƒ½ç›´æ¥å¯¹å¯†ç è¿›è¡Œmd5åŠ å¯†ï¼Œé‚£æˆ‘å¿ƒæƒ³å¯ä»¥åŠ ç›ï¼Œè€å¸ˆåˆè¯´ç›ä¸è¦å†™æ­»ï¼Œæˆ‘åˆæƒ³å¯ä»¥ç”¨ç”¨æˆ·åä½œä¸ºç›ï¼Œæ¥ç€è€å¸ˆå°±åˆè¯´ä¸å»ºè®®ç”¨ç”¨æˆ·ååšç›ï¼Œåº”è¯¥uuidç”Ÿæˆï¼Œæˆ‘å°±æƒ³é‚£ä¿å­˜åˆ°æ•°æ®åº“ä¸ä¹Ÿå¯ä»¥è¢«é»‘å®¢è·å–åˆ°å—ï¼Ÿæœ€åè€å¸ˆåˆè¯´ï¼šæœ‰çš„åŒå­¦å¯èƒ½åˆè¦é—®äº†â€¦â€¦<br><br>å¯æ¶å•Šï¼Œè¿™äº›éƒ½åœ¨ä½ çš„è®¡ç®—å½“ä¸­å•Šï¼","like_count":33,"discussions":[{"author":{"id":1001470,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/fe/d0e25d57.jpg","nickname":"æœ±æ™”","note":"","ucode":"0B7F0BADE6AAB8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496393,"discussion_content":"å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590455239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2378309,"avatar":"https://static001.geekbang.org/account/avatar/00/24/4a/45/e048531a.jpg","nickname":"è¿ªç±³ä¹Œæ ¼æ–¯","note":"","ucode":"1D4393746DCBCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376217,"discussion_content":"çœ‹è¿™ç¯‡çš„æ—¶å€™, æˆ‘çš„ç¬”è®°ç®€ç›´å°±æ˜¯è€å¸ˆçš„è¡Œæ–‡è„‰ç»œ,ä¸æœä¸è¡Œå•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622020856,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015483,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7e/bb/947c329a.jpg","nickname":"ç¨‹åºå‘˜å°è·ƒ","note":"","ucode":"25BB96E0791A60","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319542,"discussion_content":"çœ‹è¿™ç¯‡çš„æ—¶å€™ï¼Œæˆ‘å’Œä½ çš„æ„Ÿè§‰æ˜¯ä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604046449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221291,"user_name":"é‚£æ—¶åˆ»","can_delete":false,"product_type":"c1","uid":1150927,"ip_address":"","ucode":"B0D150856C3A4A","user_header":"https://static001.geekbang.org/account/avatar/00/11/8f/cf/890f82d6.jpg","comment_is_top":false,"comment_ctime":1590465179,"is_pvip":false,"replies":[{"id":"81618","content":"å—¯ï¼Œå¯¹äºlogbackå¯ä»¥ç›´æ¥å®ç°ä¸€ä¸ªMessageConverteræ¥åšè„±æ•ï¼Œè„±æ•çš„æ–¹å¼å¯ä»¥æ˜¯å±è”½æ•æ„Ÿä¿¡æ¯çš„å‡ ä½ï¼Œæˆ–è€…æ˜¯å¯¹æ•æ„Ÿä¿¡æ¯è¿›è¡ŒåŠ å¯†è¾“å‡ºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™”","uid":"1001470","ctime":1590469165,"ip_address":"","comment_id":221291,"utype":1}],"discussion_count":1,"race_medal":1,"score":"44540138139","product_id":100047701,"comment_content":"1.å…³äºæ—¥å¿—è„±æ•ï¼Œå¯ä»¥åœ¨æ—¥å¿—å¤„ç†æ¨¡å—é‡Œé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼å¯¹äºæ•æ„Ÿè¯æ¯”å¦‚usernameåŒ¹é…åï¼Œåšæ¨¡ç³Šå­—ç¬¦è¾“å‡ºåˆ°æ—¥å¿—é‡Œã€‚<br>2.httpsåŒå‘è®¤è¯æŒ‡çš„æ˜¯æœåŠ¡å™¨é¢å¤–æ ¡éªŒå®¢æˆ·ç«¯è¯ä¹¦ï¼Œæ–¹ä¾¿æ§åˆ¶æŸä¸ªæ¥å£æ˜¯å¦å…è®¸å®¢æˆ·ç«¯è®¿é—®ï¼Œç”¨äºç¬¬ä¸‰æ–¹æœåŠ¡è°ƒç”¨ã€‚æµç¨‹ä¸Šå¤šäº†å®¢æˆ·ç«¯æäº¤è‡ªå·±è¯ä¹¦å’ŒæœåŠ¡å™¨æ ¡éªŒè¯ä¹¦ç­‰æ­¥éª¤ã€‚<br><br>å°ä¼™ä¼´ä»¬è®¨è®ºçš„äº‘å¹³å°ä½¿ç”¨çš„secretidå’Œsecrestkeyã€‚äº‘å¹³å°æ›´æ¨èä½¿ç”¨ä¸´æ—¶çš„IAMæ¥æ›¿ä»£å§ã€‚","like_count":10,"discussions":[{"author":{"id":1001470,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/fe/d0e25d57.jpg","nickname":"æœ±æ™”","note":"","ucode":"0B7F0BADE6AAB8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496414,"discussion_content":"å—¯ï¼Œå¯¹äºlogbackå¯ä»¥ç›´æ¥å®ç°ä¸€ä¸ªMessageConverteræ¥åšè„±æ•ï¼Œè„±æ•çš„æ–¹å¼å¯ä»¥æ˜¯å±è”½æ•æ„Ÿä¿¡æ¯çš„å‡ ä½ï¼Œæˆ–è€…æ˜¯å¯¹æ•æ„Ÿä¿¡æ¯è¿›è¡ŒåŠ å¯†è¾“å‡ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590469165,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221244,"user_name":"ğŸ‘½","can_delete":false,"product_type":"c1","uid":1274117,"ip_address":"","ucode":"D313AF941B412D","user_header":"https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg","comment_is_top":false,"comment_ctime":1590455330,"is_pvip":false,"replies":[{"id":"81592","content":"å¤§å®¶ä¹Ÿå¯ä»¥ç»§ç»­æ¢è®¨ä¸€ä¸‹ SecretIDå’ŒSecretKeyåº”è¯¥æ€ä¹ˆä¿å­˜","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™”","uid":"1001470","ctime":1590456884,"ip_address":"","comment_id":221244,"utype":1}],"discussion_count":4,"race_medal":0,"score":"23065291810","product_id":100047701,"comment_content":"æ•æ„Ÿæ•°æ®çš„è¯ï¼Œå…¶å®è¿˜æœ‰ä¸€ä¸ªï¼š<br>å°±æ˜¯ç¬¬ä¸‰æ–¹çš„ä¸€äº›éªŒè¯æ•°æ®ã€‚ç±»ä¼¼äºé˜¿é‡Œäº‘çš„Idå’Œkeyã€‚<br>æˆ‘æœªè¿›è¡ŒåŠ å¯†ä¿å­˜åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”è¿˜å°†å…¶ä¸Šä¼ åœ¨äº†GitHubä¸Šï¼ŒæŒ‰ç†è¯´ï¼Œå¦‚æœGithubæ³„éœ²äº†ï¼Œä»»ä½•äººéƒ½å¯ä»¥è°ƒç”¨æˆ‘çš„èµ„æºäº†ã€‚å› ä¸ºæ˜¯é€æ”¯é¢åº¦è®¾ç½®çš„å¾ˆä½ï¼Œè€Œä¸”ä½™é¢åªæœ‰10ï¿¥ï¼Œæ‰€ä»¥æœªä½œå®‰å…¨å¤„ç†ã€‚å› ä¸ºæœ€åçš„ç»“æœï¼Œä¹Ÿå°±æ˜¯æŠŠæˆ‘ä½™é¢å…¨ç”¨å®Œã€‚<br><br>1ï¼Œå¦‚æœéœ€è¦æ¶‰åŠåˆ°åŠ å¯†ï¼Œæˆ‘ä¼šè€ƒè™‘åˆ°åˆ†å¼€å­˜å‚¨ï¼š<br>å¯èƒ½IDå­˜æ•°æ®åº“ï¼ŒKeyå­˜æœ¬åœ°æ–‡ä»¶ã€‚ï¼ˆé¸¡è›‹åˆ†åœ¨å¤šä¸ªç¯®å­é‡Œå­˜æ”¾ï¼Œè„±åº“æˆ–è€…æœåŠ¡å™¨è¢«é»‘ï¼Œä¹Ÿåªæœ‰ä¸€éƒ¨åˆ†æ•°æ®æ³„éœ²ï¼Œä¾ç„¶æ— æ³•ä½¿ç”¨æˆ‘çš„æœåŠ¡ï¼‰<br>2ï¼Œç„¶ååŠ å¯†å­˜æ”¾ï¼Œå› ä¸ºè°ƒç”¨æœåŠ¡éœ€è¦è¯»å–ï¼Œæ‰€ä»¥å¿…é¡»æ˜¯å¯é€†çš„åŠ å¯†ç®—æ³•ã€‚å¢åŠ ç ´è¯‘çš„æˆæœ¬ã€‚<br>3ï¼Œå®šæœŸç›‘æ§ï¼Œå‡ºé—®é¢˜åŠæ—¶å‘ç°ã€‚","like_count":5,"discussions":[{"author":{"id":1001470,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/fe/d0e25d57.jpg","nickname":"æœ±æ™”","note":"","ucode":"0B7F0BADE6AAB8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496398,"discussion_content":"å¤§å®¶ä¹Ÿå¯ä»¥ç»§ç»­æ¢è®¨ä¸€ä¸‹ SecretIDå’ŒSecretKeyåº”è¯¥æ€ä¹ˆä¿å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590456884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2378309,"avatar":"https://static001.geekbang.org/account/avatar/00/24/4a/45/e048531a.jpg","nickname":"è¿ªç±³ä¹Œæ ¼æ–¯","note":"","ucode":"1D4393746DCBCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376218,"discussion_content":"ä¸ªäººæ•°æ®çš„è¯, åˆ†å¼€å­˜å‚¨åœ¨ä¸åŒçš„ç«™ç‚¹æˆ‘è§‰å¾—å°±è¶³å¤Ÿäº†, æˆ‘çš„gitä¸Šåªæœ‰Id, secretKeyæ˜¯æ”¾åœ¨ç™¾åº¦ç½‘ç›˜, é€šè¿‡è´¦å·idæ¥å…³è”, è´¦å·çš„å¯†ç å†æ”¾åœ¨googleDriveé‡Œ, æˆ‘æ„Ÿè§‰ä¸‰ä¸ªå…¨éƒ¨è¢«æ”»ç ´çš„å¯èƒ½æ€§ä¸º0","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622021040,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1213078,"avatar":"https://static001.geekbang.org/account/avatar/00/12/82/96/aa795685.jpg","nickname":"mghio","note":"","ucode":"74883EDE4FD0DC","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":357456,"discussion_content":"æ··æ·†å­˜å‚¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615809009,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1156592,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a5/f0/8648c464.jpg","nickname":"Joker","note":"","ucode":"126AF848001A1E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":274920,"discussion_content":"è…»å®³å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590632116,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224272,"user_name":"æ¡äº†ä¸ªå¤§èš‚èš±","can_delete":false,"product_type":"c1","uid":1488356,"ip_address":"","ucode":"AD34AD4FA37371","user_header":"https://static001.geekbang.org/account/avatar/00/16/b5/e4/e6faf686.jpg","comment_is_top":false,"comment_ctime":1591329601,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18771198785","product_id":100047701,"comment_content":"è§„æ¨¡å·¨å¤§çš„éšç§æ•°æ®å°¤å…¶å…¬å¸æå›½é™…åŒ–çš„ä¸šåŠ¡ï¼Œåº”è¯¥éƒ½ä¼šæœ‰ä¸€ä¸ªå…¨å±€çš„ç‚¹æ¥ç®¡ç†éšç§æ•°æ®ï¼Œä¸šåŠ¡æµè½¬çš„æ—¶å€™éƒ½ä¸éœ€è¦æµè½¬æ˜æ–‡ï¼Œç›¸å½“äºæ‹¿ä¸ªä»¤ç‰Œæµè½¬ï¼Œåˆ°éœ€è¦ç½®æ¢ï¼Œæ˜¾ç¤ºæ—¶ï¼Œå†å»å…‘æ¢ï¼Œæ ¹æ®éœ€è¦å…‘æ¢ä¸åŒç­‰çº§çš„æ˜æ–‡ï¼ˆåŒ¿åå€¼ï¼Œå®Œæ•´æ˜æ–‡ï¼‰ã€‚<br>hashçš„ç›æˆ‘ä»¬æ˜¯åˆå§‹åŒ–ä¸€ä¸ªmapé‡Œé¢æ”¾10000ä¸ªç›ï¼Œç„¶åæŠŠå­—ç¬¦ä¸²çš„charè½¬ä¸ºintå†å¯¹10000å–æ¨¡å¾—åˆ°è¿™ä¸ªå­—ç¬¦ä¸²å¯¹åº”çš„ç›ã€‚è¿™æ ·å¥½å¤„æ˜¯ç›å…·æœ‰å¤æ‚æ€§è€Œåˆä¿è¯hashç®—æ³•çš„æ ¹æœ¬ï¼šç›¸åŒé“­æ–‡hashåå¾—åˆ°ç›¸åŒhashï¼Œç¼ºç‚¹æ˜¯ç”¨åœ¨å¯†ç ä¸Šçš„è¯å¯èƒ½ä¼šè¢«çœ‹å‡ºç›¸åŒå¯†ç çš„æ•°æ®ï¼Œéœ€è¦å†åŠ ä¸€å±‚å¤„ç†<br>","like_count":4},{"had_liked":false,"id":221200,"user_name":"æ—…é€”","can_delete":false,"product_type":"c1","uid":1212902,"ip_address":"","ucode":"5022477E8E9441","user_header":"https://static001.geekbang.org/account/avatar/00/12/81/e6/6cafed37.jpg","comment_is_top":false,"comment_ctime":1590424718,"is_pvip":false,"replies":[{"id":"81566","content":"ä¸è¡Œ æºç ä¹Ÿæ³„éœ²äº†å‘¢","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™”","uid":"1001470","ctime":1590452316,"ip_address":"","comment_id":221200,"utype":1}],"discussion_count":3,"race_medal":0,"score":"18770293902","product_id":100047701,"comment_content":"è€å¸ˆ å¯†ç ä½¿ç”¨å¯¹ç§°åŠ å¯†æˆ–éå¯¹ç§°åŠ å¯†ä¸è¡Œå— ä½¿ç”¨è‡ªå·±çš„ç®—æ³•è¿›è¡ŒåŠ å¯† åˆ«äººä¹Ÿç ´è§£ä¸äº†","like_count":4,"discussions":[{"author":{"id":1001470,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/fe/d0e25d57.jpg","nickname":"æœ±æ™”","note":"","ucode":"0B7F0BADE6AAB8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496380,"discussion_content":"ä¸è¡Œ æºç ä¹Ÿæ³„éœ²äº†å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590452316,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2354664,"avatar":"https://static001.geekbang.org/account/avatar/00/23/ed/e8/b0494afd.jpg","nickname":"æ™´å¤©","note":"","ucode":"8EE38AFEDA702B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340595,"discussion_content":"è¦è€å¸ˆè¿™æ ·è¯´ å°±æ²¡æœ‰ä¸ä¼šè¢«ç ´è§£çš„å¯†ç äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610073366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"æ¨å®‡","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2354664,"avatar":"https://static001.geekbang.org/account/avatar/00/23/ed/e8/b0494afd.jpg","nickname":"æ™´å¤©","note":"","ucode":"8EE38AFEDA702B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381621,"discussion_content":"æ–‡ä¸­éšæœºç”Ÿæˆå¯†é’¥çš„æ–¹å¼ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°ç¡®ä¿å®‰å…¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625147334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":340595,"ip_address":""},"score":381621,"extra":""}]}]},{"had_liked":false,"id":221920,"user_name":"Joker","can_delete":false,"product_type":"c1","uid":1156592,"ip_address":"","ucode":"126AF848001A1E","user_header":"https://static001.geekbang.org/account/avatar/00/11/a5/f0/8648c464.jpg","comment_is_top":false,"comment_ctime":1590634274,"is_pvip":false,"replies":[{"id":"81805","content":"å·®ä¸å¤š","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™”","uid":"1001470","ctime":1590637945,"ip_address":"","comment_id":221920,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14475536162","product_id":100047701,"comment_content":"å…³äºå½©è™¹è¡¨çš„è§£é‡Šåœ¨è¿™é‡Œï¼šhttps:&#47;&#47;www.zhihu.com&#47;question&#47;19790488ï¼Œç®€å•æƒ³è±¡æˆä¸€ä¸ªé»‘ç›’å§ï¼Œä½ ä¼ è¿›åŠ å¯†åçš„å¯†ç ï¼Œå°±èƒ½å¾—åˆ°è§£å¯†åçš„å¯†ç ã€‚ä½†æ˜¯æ„é€ è¿™é»‘ç›’çš„è¿‡ç¨‹å°±æ¯”è¾ƒéº»çƒ¦äº†ã€‚ä½†æ˜¯å¦‚æœå¯†æ–‡éƒ½æ˜¯æ ¹æ®ä¸€ä¸ªå­—ç¬¦ä¸²æ ¹æ®ç‰¹å®šçš„è§„åˆ™å¾—åˆ°çš„å­—ç¬¦ä¸²ï¼Œå“ªæ€•æ˜¯æ ¹æ®ç”¨æˆ·ä¿¡æ¯æ¥æ„é€ ä¸€ä¸ªç›ï¼Œé‚£ä¹ˆå°±æœ‰å¾ˆå¤§çš„æ¦‚ç‡å‡ºç°ï¼Œæ„é€ äº†ä¸€ä¸ªå½©è™¹è¡¨å°±æŠŠæ•´ä¸ªæ•°æ®åº“çš„å¯†ç ç»™è§£å¯†äº†çš„æƒ…å†µã€‚æ„é€ å½©è™¹è¡¨çš„è¿‡ç¨‹è™½ç„¶éº»çƒ¦ï¼Œå´æ˜¯ä¸€åŠ³æ°¸é€¸çš„ï¼Œé‚£ä¹ˆå°±è¦æƒ³ä¸€ä¸ªä¸é‚£ä¹ˆä¸€åŠ³æ°¸é€¸çš„æ–¹æ³•ï¼Œæ‰€ä»¥å°±å‡ºç°äº†æ¯æ¬¡éƒ½ç”¨ä¸€ä¸ªéšæœºç›çš„æ–¹å¼ã€‚<br>å› ä¸ºå¦‚æœæ˜¯å›ºå®šçš„ç›çš„è¯ï¼Œé‚£ä¹ˆé»‘å®¢å¾—åˆ°ä¸€å¥—æ•°æ®åº“ä¹‹åï¼Œåªè¦æ„é€ ä¸€å¥—å½©è™¹è¡¨å°±èƒ½å¾—åˆ°ç»“æœäº†ã€‚å¦‚æœæ¯æ¬¡çš„ç›éƒ½ä¸åŒï¼Œé‚£ä¹ˆé»‘å®¢å°±è¦æ¯æ¬¡éƒ½æ ¹æ®å¯†æ–‡å’Œç›æ„é€ ä¸€å¥—å½©è™¹è¡¨ã€‚<br>æˆ‘å°±æ˜¯è¿™ä¹ˆç†è§£çš„ï¼Œä¸çŸ¥é“æ˜¯å¦æ­£ç¡®ã€‚å¯†ç å­¦çœŸçš„éš¾ã€‚","like_count":3,"discussions":[{"author":{"id":1001470,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/fe/d0e25d57.jpg","nickname":"æœ±æ™”","note":"","ucode":"0B7F0BADE6AAB8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496612,"discussion_content":"å·®ä¸å¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590637945,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221634,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1590553449,"is_pvip":false,"replies":[{"id":"81719","content":"è‡ªå·±ç”»ä¸€éæµç¨‹å›¾","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™”","uid":"1001470","ctime":1590553851,"ip_address":"","comment_id":221634,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14475455337","product_id":100047701,"comment_content":"è®°å¾—ä¸€æ¬¡é¢è¯•ï¼Œåˆ«äººé—®æˆ‘httpsçš„åŸç†ï¼Œå…¶å®æˆ‘æ˜¯ç†è§£çš„ï¼Œä½†æ˜¯è®°ä¸ä½è¿™ä¸ªè¿‡ç¨‹ï¼Œæ€ä¹ˆåŠï¼ŸğŸ˜‚","like_count":3,"discussions":[{"author":{"id":1001470,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/fe/d0e25d57.jpg","nickname":"æœ±æ™”","note":"","ucode":"0B7F0BADE6AAB8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496516,"discussion_content":"è‡ªå·±ç”»ä¸€éæµç¨‹å›¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590553851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226367,"user_name":"kacaric","can_delete":false,"product_type":"c1","uid":1099946,"ip_address":"","ucode":"177049FC0205DE","user_header":"https://static001.geekbang.org/account/avatar/00/10/c8/aa/445bae84.jpg","comment_is_top":false,"comment_ctime":1592050030,"is_pvip":false,"replies":[{"id":"83357","content":"httpsç¡®ä¿é˜²æ­¢ä¼ªé€ ç¯¡æ”¹ä¸­é—´äººçªƒå–<br>åŒå‘httpsè™½ç„¶é™åˆ¶äº†å®¢æˆ·ç«¯ï¼Œä½†æ˜¯ç²’åº¦è¿˜æ˜¯å¾ˆç²—<br>å¦‚æœæˆ‘ä»¬è¿˜æ˜¯é˜²æ­¢è°ƒç”¨æ–¹éšæ„è°ƒç”¨æ¥å£ï¼Œé‚£ä¹ˆè¿˜æ˜¯éœ€è¦åœ¨ä¸šåŠ¡å±‚è¿›è¡Œä¸šåŠ¡åŠ å¯†å’Œç­¾å","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™”","uid":"1001470","ctime":1592056321,"ip_address":"","comment_id":226367,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5887017326","product_id":100047701,"comment_content":"è¯·é—®è€å¸ˆæ¥å£èƒ½å¦é‡‡ç”¨httpsåŒå‘è®¤è¯ä¿è¯æ¥å£å®‰å…¨ï¼Œè¿˜éœ€è¦åœ¨æ¥å£ä¸­é¢å¤–å¢åŠ ç­¾åå­—æ®µå—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001470,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/fe/d0e25d57.jpg","nickname":"æœ±æ™”","note":"","ucode":"0B7F0BADE6AAB8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498213,"discussion_content":"httpsç¡®ä¿é˜²æ­¢ä¼ªé€ ç¯¡æ”¹ä¸­é—´äººçªƒå–\nåŒå‘httpsè™½ç„¶é™åˆ¶äº†å®¢æˆ·ç«¯ï¼Œä½†æ˜¯ç²’åº¦è¿˜æ˜¯å¾ˆç²—\nå¦‚æœæˆ‘ä»¬è¿˜æ˜¯é˜²æ­¢è°ƒç”¨æ–¹éšæ„è°ƒç”¨æ¥å£ï¼Œé‚£ä¹ˆè¿˜æ˜¯éœ€è¦åœ¨ä¸šåŠ¡å±‚è¿›è¡Œä¸šåŠ¡åŠ å¯†å’Œç­¾å","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592056321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":225473,"user_name":"é˜¿å†²","can_delete":false,"product_type":"c1","uid":1062514,"ip_address":"","ucode":"06BF66D9009659","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKg7RjNMzSrIwUnjYstbdicVv5MawrQLTHc6rdpwm0Q04b7icj7eAb0F8zSxe8gmM99QBvTECK5KvrQ/132","comment_is_top":false,"comment_ctime":1591761333,"is_pvip":false,"replies":[{"id":"83044","content":"è„±æ•ï¼ˆæ˜¯æŒ‡é®æ©éƒ¨åˆ†æ•°æ®ï¼‰åçš„æ•°æ®åªèƒ½å‘ˆç°äº†ï¼ŒåŠ å¯†åçš„æ•°æ®è¦åšæŸ¥è¯¢çš„è¯ï¼Œ2ä¸ªåŠæ³•ï¼š<br>1ã€åŠ å¯†åæŸ¥è¯¢<br>2ã€æ•°æ®åº“å­˜ä¸€ä¸ªå“ˆå¸Œå€¼ï¼ŒæŸ¥è¯¢çš„è¯å“ˆå¸ŒåæŸ¥è¯¢ï¼Œéœ€è¦å±•ç¤ºçš„æ—¶å€™å†è§£å¯†","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™”","uid":"1001470","ctime":1591766797,"ip_address":"","comment_id":225473,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5886728629","product_id":100047701,"comment_content":"è¯·é—®è€å¸ˆè„±æ•åçš„æ•°æ®å¦‚ä½•åšSQLæŸ¥è¯¢ï¼Œè¿™ä¸ªæ¡ä»¶æ€ä¹ˆå¤„ç†ã€‚æ¯”å¦‚èº«ä»½è¯å·å’Œå§“åå­—æ®µï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001470,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/fe/d0e25d57.jpg","nickname":"æœ±æ™”","note":"","ucode":"0B7F0BADE6AAB8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497858,"discussion_content":"è„±æ•ï¼ˆæ˜¯æŒ‡é®æ©éƒ¨åˆ†æ•°æ®ï¼‰åçš„æ•°æ®åªèƒ½å‘ˆç°äº†ï¼ŒåŠ å¯†åçš„æ•°æ®è¦åšæŸ¥è¯¢çš„è¯ï¼Œ2ä¸ªåŠæ³•ï¼š\n1ã€åŠ å¯†åæŸ¥è¯¢\n2ã€æ•°æ®åº“å­˜ä¸€ä¸ªå“ˆå¸Œå€¼ï¼ŒæŸ¥è¯¢çš„è¯å“ˆå¸ŒåæŸ¥è¯¢ï¼Œéœ€è¦å±•ç¤ºçš„æ—¶å€™å†è§£å¯†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591766797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1501593,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJ5Hnw1tL9EWGdzhibCw89hibKjibwcyUBCSJsQWaxxfGu5AkBibibV0anaKqw3nf3ZP0UWy5BaEYyw2Q/132","nickname":"smilekaka","note":"","ucode":"C01D8020019FDC","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1001470,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/fe/d0e25d57.jpg","nickname":"æœ±æ™”","note":"","ucode":"0B7F0BADE6AAB8","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":534158,"discussion_content":"è€å¸ˆä½ å¥½ï¼Œè¯·é—®å“ˆå¸Œåå†æŸ¥è¯¢æ€ä¹ˆç†è§£ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638110360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":497858,"ip_address":""},"score":534158,"extra":""}]},{"author":{"id":1210890,"avatar":"https://static001.geekbang.org/account/avatar/00/12/7a/0a/0ce5c232.jpg","nickname":"å•","note":"","ucode":"8F08E2CB81C4C3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384109,"discussion_content":"è¿™ä¸ªæ—¶å€™æ¨¡ç³ŠæŸ¥è¯¢åº”è¯¥åšä¸åˆ°äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626365308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222645,"user_name":"Geek","can_delete":false,"product_type":"c1","uid":2000823,"ip_address":"","ucode":"2D5BA5B169A05A","user_header":"","comment_is_top":false,"comment_ctime":1590855967,"is_pvip":false,"replies":[{"id":"82103","content":"ä¸æ˜¯æ‰¾å›å¯†ç çš„åœºæ™¯ï¼Œæ‰€è°“æ‰¾å›å¯†ç æ˜¯é‡ç½®å¯†ç ï¼Œè¿™é‡Œæ¼”ç¤ºçš„æ˜¯ä¿æŠ¤éœ€è¦ç”¨æˆ·æˆæƒæ‰èƒ½è·å–çš„é‡è¦ä¿¡æ¯","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™”","uid":"1001470","ctime":1590882729,"ip_address":"","comment_id":222645,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5885823263","product_id":100047701,"comment_content":"è€å¸ˆå¥½ï¼Œä¿æŠ¤ç”¨æˆ·äºŒè¦ç´ AADåœ¨å®é™…ä¼šç”¨åœ¨å“ªäº›åœºæ™¯ä¸­ï¼Œæ˜¯å¦ç”¨æˆ·å¿˜è®°äº†è‡ªå·±è®¾ç½®çš„AADå°±æ²¡åŠæ³•ç±»ä¼¼äºé‡ç½®å¯†ç çš„æ–¹å¼æ‰¾å›AADäº†ï¼Œä¹Ÿå°±æ²¡åŠæ³•å†è§£å¯†ä¿¡æ¯ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001470,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/fe/d0e25d57.jpg","nickname":"æœ±æ™”","note":"","ucode":"0B7F0BADE6AAB8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496873,"discussion_content":"ä¸æ˜¯æ‰¾å›å¯†ç çš„åœºæ™¯ï¼Œæ‰€è°“æ‰¾å›å¯†ç æ˜¯é‡ç½®å¯†ç ï¼Œè¿™é‡Œæ¼”ç¤ºçš„æ˜¯ä¿æŠ¤éœ€è¦ç”¨æˆ·æˆæƒæ‰èƒ½è·å–çš„é‡è¦ä¿¡æ¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590882729,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1542987,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/4b/fa52d222.jpg","nickname":"è¡Œåˆ™å°†è‡³","note":"","ucode":"DB972F2DF059C4","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":405013,"discussion_content":"æˆ‘ä¹Ÿæœ‰è¿™ä¸ªç–‘é—®ï¼Œå¦‚æœç”¨æˆ·å¿˜äº†AADæ€ä¹ˆåŠ?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634480959,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221242,"user_name":"ğŸ‘½","can_delete":false,"product_type":"c1","uid":1274117,"ip_address":"","ucode":"D313AF941B412D","user_header":"https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg","comment_is_top":false,"comment_ctime":1590454849,"is_pvip":false,"replies":[{"id":"81590","content":"å…¶å®æ·±åº¦å­¦ä¹ å°±æ˜¯é€šè¿‡å¤§é‡æ ·æœ¬å¯»æ‰¾y=f(x)ä¸­çš„å‡½æ•°fï¼Œæˆ‘ä»¬æƒ³ä¸€ä¸‹ï¼Œæ˜¯å¦æœ‰å¯èƒ½é€šè¿‡æ·±åº¦å­¦ä¹ æ¥è§£å¯†&#47;è·å¾—å¯†é’¥å‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™”","uid":"1001470","ctime":1590455547,"ip_address":"","comment_id":221242,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5885422145","product_id":100047701,"comment_content":"æˆ‘çš„ç†è§£ï¼Œæ²¡æœ‰ç»å¯¹çš„å®‰å…¨ã€‚ç°æœ‰çš„ä¸€åˆ‡åŠ å¯†å®‰å…¨æªæ–½ï¼Œå…¶å®åªæ˜¯å¢åŠ ç ´è§£çš„éš¾åº¦ç½¢äº†ã€‚çœŸæ­£çš„å®‰å…¨ï¼Œè¿˜æ˜¯éœ€è¦éªŒè¯ç ä¹‹ç±»çš„åŠ¨æ€éªŒè¯ã€‚<br><br>æˆ‘ä¸€ç›´ä»¥æ¥ï¼Œç†è§£çš„åŠ å¯†å°±åˆ†ä¸¤ç§ï¼šå¯é€†çš„ï¼Œä¸å¯é€†çš„ã€‚<br>å¯é€†çš„ï¼šè§„å®šäº†ä¸€ç§è§„å¾‹ï¼Œåªè¦åº”ç”¨è¿™ç§è§„å¾‹å°±å¯ä»¥é€†æ¨å…¶åŸå§‹å€¼ã€‚æˆ‘è®¤ä¸ºå…¶å®é›ªèŠ±ç®—æ³•å°±æ˜¯å¯é€†çš„åŠ å¯†ç®—æ³•ã€‚çŸ¥é“å…¶è¿ç®—è§„å¾‹ï¼Œä¹Ÿå¯ä»¥é€†æ¨å…¶åˆ›å»ºæ—¶é—´ã€‚è™½ç„¶æ˜æ–‡ä¸­æ— æ³•ä½“ç°å…¶åˆ›å»ºæ—¶é—´ã€‚<br>ä¸å¯é€†çš„ï¼šè‡ªå·±çš„å¯†ç æ˜¯12ï¼ŒåŠ å¯†åæ˜¯3ï¼Œå·²çŸ¥äº†ç®—æ³•æ˜¯æ‰€æœ‰æ•°ä½ä¹‹å’Œï¼Œä½†æ˜¯å¹¶æ— é€†æ¨å‡ºåŸå§‹æ•°å€¼æ˜¯111ï¼Œ003ï¼Œ03ï¼Œ102......ç­‰ã€‚<br><br>ä½†æ˜¯ï¼Œæ— è®ºå¯é€†è¿˜æ˜¯ä¸å¯é€†ï¼Œç ´è§£ä¹Ÿæ˜¯å¯»æ‰¾å…¶è§„å¾‹ç½¢äº†ã€‚åŠ å¯†å…¶å®æœ¬è´¨ä¹Ÿæ˜¯ï¼Œå¯¹ç»“æœé™„åŠ è¿ç®—è¿‡ç¨‹ã€‚<br>åŸå§‹å¯†ç  x+a-b*c?d = å¯†æ–‡x1ï¼Œåœ¨è¶³å¤Ÿå¤šçš„æ•°æ®æ ·æœ¬çš„æ—¶å€™ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å¯ä»¥é€†æ¨å‡ºåŸå§‹æ•°æ®ã€‚ï¼ˆè§£æ–¹ç¨‹å˜›ã€‚ã€‚ã€‚ï¼‰<br><br>æˆ‘è§‰å¾—ï¼Œç°åœ¨çš„å¯†ç åŠ å¯†ï¼Œç»´æŒä¸ªä¸‰äº”å¹´ä¹‹åï¼Œä¹Ÿä¼šè¢«è½»æ˜“ç ´è§£ã€‚<br><br>å…¶å®è¦æ˜¯ç®€å•ç²—æš´ä¸€ç‚¹ï¼Œå°±æ‰‹æœºéªŒè¯ç ç™»å½•ï¼Œå°±å·²ç»åŸºæœ¬OKäº†ï¼Œå¤§å¹³å°ä¼¼ä¹ä¹Ÿéƒ½æ˜¯è¿™ä¹ˆåšçš„ã€‚ç±»ä¼¼äºæŸé‡Œäº‘ã€‚åœ¨ä¸€äº›ä¸å¤ªé‡è¦çš„æ•°æ®ï¼Œå°±å¤„ç†çš„å¯ä»¥é€‚å½“æ”¾å¼€ä¸€äº›ã€‚","like_count":1,"discussions":[{"author":{"id":1001470,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/fe/d0e25d57.jpg","nickname":"æœ±æ™”","note":"","ucode":"0B7F0BADE6AAB8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496396,"discussion_content":"å…¶å®æ·±åº¦å­¦ä¹ å°±æ˜¯é€šè¿‡å¤§é‡æ ·æœ¬å¯»æ‰¾y=f(x)ä¸­çš„å‡½æ•°fï¼Œæˆ‘ä»¬æƒ³ä¸€ä¸‹ï¼Œæ˜¯å¦æœ‰å¯èƒ½é€šè¿‡æ·±åº¦å­¦ä¹ æ¥è§£å¯†/è·å¾—å¯†é’¥å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590455547,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2378309,"avatar":"https://static001.geekbang.org/account/avatar/00/24/4a/45/e048531a.jpg","nickname":"è¿ªç±³ä¹Œæ ¼æ–¯","note":"","ucode":"1D4393746DCBCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376219,"discussion_content":"æˆ‘çš„ç†è§£, åªè¦ç ´è§£çš„æˆæœ¬è¿œå¤§äºæ”¶ç›Šå°±å¯ä»¥.\næ¯•ç«Ÿå¯†ç å¤§éƒ¨åˆ†æ—¶é—´éƒ½åªä½¿ç”¨ä¸€æ®µæ—¶é—´, ä¸‰å¹´åæ›´æ–°ä¸€ä¸‹, ä½¿ç”¨æ›´å…ˆè¿›çš„åŠ å¯†ç®—æ³•å³å¯, é“é­”ç›¸é•¿å˜›","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622021242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1274117,"avatar":"https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg","nickname":"ğŸ‘½","note":"","ucode":"D313AF941B412D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":273425,"discussion_content":"æ·±åº¦å­¦ä¹ ï¼Œç›®å‰è¿˜æ²¡å­¦ã€‚ä½†æ˜¯éœ€è¦ç”¨åˆ°æ·±åº¦ç ´è§£ï¼Œé€šè¿‡å¤§é‡æ ·æœ¬ç ´è§£çš„æ—¶å€™ã€‚é‚£è¯´æ˜å·²ç»æ˜¯ç›¸å½“å€¼é’±çš„æ•°æ®äº†ã€‚\n\næˆ‘çš„æ„šè§ï¼Œä¹Ÿåªèƒ½æ˜¯è¿›ä¸€æ­¥å¢åŠ ç ´è§£éš¾åº¦ï¼Œå‡çº§åŠ å¯†æ¬¡æ•°ä»¥åŠåŠ å¯†ç®—æ³•\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590455916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":347916,"user_name":"è¡Œåˆ™å°†è‡³","can_delete":false,"product_type":"c1","uid":1542987,"ip_address":"","ucode":"DB972F2DF059C4","user_header":"https://static001.geekbang.org/account/avatar/00/17/8b/4b/fa52d222.jpg","comment_is_top":false,"comment_ctime":1654578870,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1654578870","product_id":100047701,"comment_content":"ç¬¬äºŒï¼Œç”Ÿæˆçš„ç›å’Œå“ˆå¸Œåçš„å¯†ç æ‹¼åœ¨äº†ä¸€èµ·ï¼š$æ˜¯å­—æ®µåˆ†éš”ç¬¦ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ª$åçš„ 2a ä»£è¡¨ç®—æ³•ç‰ˆæœ¬ï¼Œç¬¬äºŒä¸ª$åçš„ 10 æ˜¯ä»£ä»·å› å­ï¼ˆé»˜è®¤æ˜¯ 10ï¼Œä»£è¡¨ 2 çš„ 10 æ¬¡æ–¹æ¬¡å“ˆå¸Œï¼‰ï¼Œç¬¬ä¸‰ä¸ª$åçš„ 22 ä¸ªå­—ç¬¦æ˜¯ç›ï¼Œå†åé¢æ˜¯æ‘˜è¦ã€‚æ‰€ä»¥è¯´ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨å•ç‹¬çš„æ•°æ®åº“å­—æ®µæ¥ä¿å­˜ç›<br><br>è€å¸ˆï¼Œå…³äºè¿™ä¸€æ®µï¼Œå¦‚æœç”¨æˆ·ä¸ä¼ å…¥ç›å€¼ï¼Œé‚£ç›å€¼å°±åªèƒ½å›ºå®šäº†å§ï¼Ÿè¿™æ ·æ˜¯ä¸æ˜¯ä¸å®‰å…¨å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":320393,"user_name":"çºµä¸æœ½","can_delete":false,"product_type":"c1","uid":1877862,"ip_address":"","ucode":"DB2CA2C46B2EF1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLu3MgZBAyyiavX2CMF2KRib791j3bBGiaQDzuQwBF2k6AKHANV2uTAAss2vVaeC7xcSYYD8vjmibRpTQ/132","comment_is_top":false,"comment_ctime":1636291268,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1636291268","product_id":100047701,"comment_content":"æ³¨å†Œå’Œç™»å½•çš„æ—¶å€™ï¼Œç›´æ¥æ˜¯åŸå§‹å¯†ç æ˜æ–‡å¦‚123456ä¼ åˆ°åå°å—ï¼Ÿç„¶ååå°å†ç”¨åŠ ç›åŠ å¯†å­˜å‚¨?","like_count":0},{"had_liked":false,"id":283282,"user_name":"æ–¹èˆŸå‹‡å£«","can_delete":false,"product_type":"c1","uid":1218162,"ip_address":"","ucode":"53D3D844B08B92","user_header":"https://static001.geekbang.org/account/avatar/00/12/96/72/a517bf25.jpg","comment_is_top":false,"comment_ctime":1615689031,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1615689031","product_id":100047701,"comment_content":"è€å¸ˆï¼Œå¯†æ–‡ä¿å­˜åˆ°æ•°æ®åº“ä¸­åº”è¯¥ç”¨ä»€ä¹ˆæ•°æ®ç±»å‹å­˜å‚¨ï¼ŒæŠŠå¯†æ–‡è½¬æˆBASE64å­—ç¬¦ä¸²ç”¨varcharç±»å‹å­˜å‚¨å¯ä»¥å—ï¼ŸBASE64å¯†æ–‡é€šå¸¸æ¯”æ˜æ–‡é•¿å¾ˆå¤šï¼Œå¯†æ–‡å­—æ®µéœ€è¦å»ºç´¢å¼•å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":276191,"user_name":"æ±æ—å¤–å²","can_delete":false,"product_type":"c1","uid":1188906,"ip_address":"","ucode":"3C66C0F0537A99","user_header":"https://static001.geekbang.org/account/avatar/00/12/24/2a/33441e2b.jpg","comment_is_top":false,"comment_ctime":1611826456,"is_pvip":false,"replies":[{"id":"100307","content":"å®¢æˆ·ç«¯åšæœ‰å•¥ç”¨å‘¢ï¼Œå¯†é’¥æ”¾å“ªé‡Œï¼Œèµ° HTTPSï¼Œè¦æ±‚å†é«˜ç‚¹èµ° activex æ§ä»¶","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™”","uid":"1001470","ctime":1611912668,"ip_address":"","comment_id":276191,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1611826456","product_id":100047701,"comment_content":"è€å¸ˆï¼Œä¸€èˆ¬çš„httpè®¿é—®ç™»å½•ï¼Œæ˜¯ä¸æ˜¯å¯†ç åŠ å¯†éœ€è¦åœ¨å®¢æˆ·ç«¯åšï¼Œå¦‚æœä¸åŠ å¯†ä¼ ç»™æœåŠ¡ç«¯çš„è¯ï¼Œé‚£å¯†ç ä¸å°±æš´éœ²å‡ºæ¥ï¼Œé€šè¿‡æµè§ˆå™¨å·¥å…·æ˜¯ä¸æ˜¯å°±å¯ä»¥çœ‹åˆ°formæäº¤çš„æ•°æ®ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001470,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/fe/d0e25d57.jpg","nickname":"æœ±æ™”","note":"","ucode":"0B7F0BADE6AAB8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514624,"discussion_content":"å®¢æˆ·ç«¯åšæœ‰å•¥ç”¨å‘¢ï¼Œå¯†é’¥æ”¾å“ªé‡Œï¼Œèµ° HTTPSï¼Œè¦æ±‚å†é«˜ç‚¹èµ° activex æ§ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611912668,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":256390,"user_name":"ä¸€ä¸ªæˆç†Ÿç¨³é‡çš„ç”·äººğŸ‘¨","can_delete":false,"product_type":"c1","uid":1457662,"ip_address":"","ucode":"79E37AB91C6236","user_header":"https://static001.geekbang.org/account/avatar/00/16/3d/fe/a53a58e7.jpg","comment_is_top":false,"comment_ctime":1603616953,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603616953","product_id":100047701,"comment_content":"ä½ å¥½ å’Œå®¢æˆ·ç«¯äº¤äº’ï¼Œè¿™ä¸ªèº«ä»½è®¤è¯å’Œæ•°æ®åŠ è§£å¯†æœ‰æ²¡æœ‰å»ºè®®","like_count":0},{"had_liked":false,"id":247740,"user_name":"è‹—","can_delete":false,"product_type":"c1","uid":1088710,"ip_address":"","ucode":"5ECCC6C855E541","user_header":"https://static001.geekbang.org/account/avatar/00/10/9c/c6/05a6798f.jpg","comment_is_top":false,"comment_ctime":1599813109,"is_pvip":false,"replies":[{"id":"90997","content":"ä¸èƒ½æ”¯æŒæ¨¡ç³ŠæŸ¥è¯¢ å¯†ç è¿™ç§ä¹Ÿä¸éœ€è¦æ¨¡ç³ŠæŸ¥è¯¢ <br>ç°åœ¨çš„å“ˆå¸Œç®—æ³•æŠ—å†²çªéƒ½æ˜¯å¯ä»¥çš„ è¿™å—æ— éœ€æ‹…å¿§ ç¢°æ’å¯èƒ½å¤ªä½äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™”","uid":"1001470","ctime":1599887955,"ip_address":"","comment_id":247740,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1599813109","product_id":100047701,"comment_content":"â€æ•°æ®åº“å­˜ä¸€ä¸ªå“ˆå¸Œå€¼ï¼ŒæŸ¥è¯¢çš„è¯å“ˆå¸ŒåæŸ¥è¯¢ï¼Œéœ€è¦å±•ç¤ºçš„æ—¶å€™å†è§£å¯†â€œï¼›è€å¸ˆï¼ŒhashåæŸ¥è¯¢æ˜¯ä¸æ˜¯åªèƒ½å¤„ç†ç²¾ç¡®åŒ¹é…çš„åœºæ™¯ï¼Œè€Œä¸èƒ½åšæ¨¡ç³ŠæŸ¥è¯¢ï¼Œè€Œä¸”æœ‰å¯èƒ½hashå†²çªæŸ¥å‡ºæ¥çš„ç»“æœä¸æ˜¯æƒ³è¦çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1001470,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/fe/d0e25d57.jpg","nickname":"æœ±æ™”","note":"","ucode":"0B7F0BADE6AAB8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505482,"discussion_content":"ä¸èƒ½æ”¯æŒæ¨¡ç³ŠæŸ¥è¯¢ å¯†ç è¿™ç§ä¹Ÿä¸éœ€è¦æ¨¡ç³ŠæŸ¥è¯¢ \nç°åœ¨çš„å“ˆå¸Œç®—æ³•æŠ—å†²çªéƒ½æ˜¯å¯ä»¥çš„ è¿™å—æ— éœ€æ‹…å¿§ ç¢°æ’å¯èƒ½å¤ªä½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599887955,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247509,"user_name":"ç‰›å¹´æ¦´è²","can_delete":false,"product_type":"c1","uid":1183703,"ip_address":"","ucode":"230C076193C6C0","user_header":"https://static001.geekbang.org/account/avatar/00/12/0f/d7/31d07471.jpg","comment_is_top":false,"comment_ctime":1599728953,"is_pvip":false,"replies":[{"id":"90907","content":"å¯ä»¥å†å­˜ä¸€ä¸ª hash ç”¨æ¥åšæŸ¥è¯¢åˆ¤æ–­æˆ–è€…æœç´¢ï¼ŒæŸ¥è¯¢çš„æ—¶å€™åŠ å¯†ä¸€æ¬¡ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä¸€èˆ¬åŠ è§£å¯†éƒ½é€šè¿‡ç»Ÿä¸€åŠ è§£å¯†æœåŠ¡","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™”","uid":"1001470","ctime":1599735345,"ip_address":"","comment_id":247509,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1599728953","product_id":100047701,"comment_content":"ç”¨æˆ·èº«ä»½è¯å·åŠ å¯†å­˜å‚¨äº†ï¼Œå¦‚æœè¦æ ¹æ®èº«ä»½è¯å·æŸ¥è¯¢çš„è¯ï¼Œè¦ä½¿ç”¨å¯†æ–‡ï¼Œå°†æ˜æ–‡è½¬æ¢è‡³å¯†æ–‡éœ€è¦ç§˜é’¥ï¼Œå¯æ˜¯åœ¨æŸ¥è¯¢åˆ°è¿™ä¸ªç”¨æˆ·ä¹‹å‰ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ç§˜é’¥æ˜¯å•¥ï¼Œè¿™ä¸ªæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ<br><br>è¿˜æœ‰ä¸€ç§åœºæ™¯ï¼Œä¸€èˆ¬ç½‘ç«™ä¸­ï¼Œç”¨æˆ·çš„æ‰‹æœºå·æ˜¯å”¯ä¸€çš„ï¼Œå¦‚æœä¹ŸåŠ å¯†å­˜å‚¨èµ·æ¥çš„è¯ï¼Œæ€ä¹ˆåœ¨ç”¨æˆ·æ³¨å†Œçš„æ—¶å€™åˆ¤æ–­æ‰‹æœºå·æ˜¯å¦å·²å­˜åœ¨å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001470,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/fe/d0e25d57.jpg","nickname":"æœ±æ™”","note":"","ucode":"0B7F0BADE6AAB8","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505421,"discussion_content":"å¯ä»¥å†å­˜ä¸€ä¸ª hash ç”¨æ¥åšæŸ¥è¯¢åˆ¤æ–­æˆ–è€…æœç´¢ï¼ŒæŸ¥è¯¢çš„æ—¶å€™åŠ å¯†ä¸€æ¬¡ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä¸€èˆ¬åŠ è§£å¯†éƒ½é€šè¿‡ç»Ÿä¸€åŠ è§£å¯†æœåŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599735345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":129596,"title":"12 | æ ˆç©ºé—´å’Œå †ç©ºé—´ï¼šæ•°æ®æ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼Ÿ","content":"<p>å¯¹äºå‰ç«¯å¼€å‘è€…æ¥è¯´ï¼ŒJavaScriptçš„å†…å­˜æœºåˆ¶æ˜¯ä¸€ä¸ªä¸è¢«ç»å¸¸æåŠçš„æ¦‚å¿µ ï¼Œå› æ­¤å¾ˆå®¹æ˜“è¢«å¿½è§†ã€‚ç‰¹åˆ«æ˜¯ä¸€äº›éè®¡ç®—æœºä¸“ä¸šçš„åŒå­¦ï¼Œå¯¹å†…å­˜æœºåˆ¶å¯èƒ½æ²¡æœ‰éå¸¸æ¸…æ™°çš„è®¤è¯†ï¼Œç”šè‡³æœ‰äº›åŒå­¦æ ¹æœ¬å°±ä¸çŸ¥é“JavaScriptçš„å†…å­˜æœºåˆ¶æ˜¯ä»€ä¹ˆã€‚</p><p>ä½†æ˜¯å¦‚æœä½ æƒ³æˆä¸ºè¡Œä¸šä¸“å®¶ï¼Œå¹¶æ‰“é€ é«˜æ€§èƒ½å‰ç«¯åº”ç”¨ï¼Œé‚£ä¹ˆä½ å°±å¿…é¡»è¦ææ¸…æ¥š<strong>JavaScriptçš„å†…å­˜æœºåˆ¶</strong>äº†ã€‚</p><p>å…¶å®ï¼Œè¦ææ¸…æ¥šJavaScriptçš„å†…å­˜æœºåˆ¶å¹¶ä¸æ˜¯ä¸€ä»¶å¾ˆå›°éš¾çš„äº‹ï¼Œåœ¨æ¥ä¸‹æ¥çš„ä¸‰ç¯‡æ–‡ç« ï¼ˆæ•°æ®åœ¨å†…å­˜ä¸­çš„å­˜æ”¾ã€JavaScriptå¤„ç†åƒåœ¾å›æ”¶ä»¥åŠV8æ‰§è¡Œä»£ç ï¼‰ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡å†…å­˜æœºåˆ¶çš„ä»‹ç»ï¼Œå¾ªåºæ¸è¿›å¸¦ä½ èµ°è¿›JavaScriptå†…å­˜çš„ä¸–ç•Œã€‚</p><p>ä»Šå¤©æˆ‘ä»¬è®²è¿°ç¬¬ä¸€éƒ¨åˆ†çš„å†…å®¹â€”â€”JavaScriptä¸­çš„æ•°æ®æ˜¯å¦‚ä½•å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ã€‚è™½ç„¶JavaScriptå¹¶ä¸éœ€è¦ç›´æ¥å»ç®¡ç†å†…å­˜ï¼Œä½†æ˜¯åœ¨å®é™…é¡¹ç›®ä¸­ä¸ºäº†èƒ½é¿å¼€ä¸€äº›ä¸å¿…è¦çš„å‘ï¼Œä½ è¿˜æ˜¯éœ€è¦äº†è§£æ•°æ®åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼çš„ã€‚</p><h2>è®©äººç–‘æƒ‘çš„ä»£ç </h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸‹é¢è¿™ä¸¤æ®µä»£ç ï¼š</p><pre><code>function foo(){\n    var a = 1\n    var b = a\n    a = 2\n    console.log(a)\n    console.log(b)\n}\nfoo()\n</code></pre><pre><code>function foo(){\n    var a = {name:&quot;æå®¢æ—¶é—´&quot;}\n    var b = a\n    a.name = &quot;æå®¢é‚¦&quot; \n    console.log(a)\n    console.log(b)\n}\nfoo()\n</code></pre><p>è‹¥æ‰§è¡Œä¸Šè¿°è¿™ä¸¤æ®µä»£ç ï¼Œä½ çŸ¥é“å®ƒä»¬è¾“å‡ºçš„ç»“æœæ˜¯ä»€ä¹ˆå—ï¼Ÿä¸‹é¢æˆ‘ä»¬å°±æ¥ä¸€ä¸ªä¸€ä¸ªåˆ†æä¸‹ã€‚</p><p>æ‰§è¡Œç¬¬ä¸€æ®µä»£ç ï¼Œæ‰“å°å‡ºæ¥açš„å€¼æ˜¯2ï¼Œbçš„å€¼æ˜¯1ï¼Œè¿™æ²¡ä»€ä¹ˆéš¾ä»¥ç†è§£çš„ã€‚</p><!-- [[[read_end]]] --><p>æ¥ç€ï¼Œå†æ‰§è¡Œç¬¬äºŒæ®µä»£ç ï¼Œä½ ä¼šå‘ç°ï¼Œä»…ä»…æ”¹å˜äº†aä¸­nameçš„å±æ€§å€¼ï¼Œä½†æ˜¯æœ€ç»ˆaå’Œbæ‰“å°å‡ºæ¥çš„å€¼éƒ½æ˜¯<code>{name:\"æå®¢é‚¦\"}</code>ã€‚è¿™å°±å’Œæˆ‘ä»¬é¢„æœŸçš„ä¸ä¸€è‡´äº†ï¼Œå› ä¸ºæˆ‘ä»¬æƒ³æ”¹å˜çš„ä»…ä»…æ˜¯açš„å†…å®¹ï¼Œä½†bçš„å†…å®¹ä¹ŸåŒæ—¶è¢«æ”¹å˜äº†ã€‚</p><p>è¦å½»åº•å¼„æ¸…æ¥šè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°±å¾—å…ˆä»â€œJavaScriptæ˜¯ä»€ä¹ˆç±»å‹çš„è¯­è¨€â€è®²èµ·ã€‚</p><h2>JavaScriptæ˜¯ä»€ä¹ˆç±»å‹çš„è¯­è¨€</h2><p>æ¯ç§ç¼–ç¨‹è¯­è¨€éƒ½å…·æœ‰å†…å»ºçš„æ•°æ®ç±»å‹ï¼Œä½†å®ƒä»¬çš„æ•°æ®ç±»å‹å¸¸æœ‰ä¸åŒä¹‹å¤„ï¼Œä½¿ç”¨æ–¹å¼ä¹Ÿå¾ˆä¸ä¸€æ ·ï¼Œæ¯”å¦‚Cè¯­è¨€åœ¨å®šä¹‰å˜é‡ä¹‹å‰ï¼Œå°±éœ€è¦ç¡®å®šå˜é‡çš„ç±»å‹ï¼Œä½ å¯ä»¥çœ‹ä¸‹é¢è¿™æ®µCä»£ç ï¼š</p><pre><code>int main()\n{\n   int a = 1;\n   char* b = &quot;æå®¢æ—¶é—´&quot;;\n   bool c = true;\n   return 0;\n}\n</code></pre><p>ä¸Šè¿°ä»£ç å£°æ˜å˜é‡çš„ç‰¹ç‚¹æ˜¯ï¼šåœ¨å£°æ˜å˜é‡ä¹‹å‰éœ€è¦å…ˆå®šä¹‰å˜é‡ç±»å‹ã€‚<strong>æˆ‘ä»¬æŠŠè¿™ç§åœ¨ä½¿ç”¨ä¹‹å‰å°±éœ€è¦ç¡®è®¤å…¶å˜é‡æ•°æ®ç±»å‹çš„ç§°ä¸ºé™æ€è¯­è¨€</strong>ã€‚</p><p><strong>ç›¸ååœ°ï¼Œæˆ‘ä»¬æŠŠåœ¨è¿è¡Œè¿‡ç¨‹ä¸­éœ€è¦æ£€æŸ¥æ•°æ®ç±»å‹çš„è¯­è¨€ç§°ä¸ºåŠ¨æ€è¯­è¨€</strong>ã€‚æ¯”å¦‚æˆ‘ä»¬æ‰€è®²çš„JavaScriptå°±æ˜¯åŠ¨æ€è¯­è¨€ï¼Œå› ä¸ºåœ¨å£°æ˜å˜é‡ä¹‹å‰å¹¶ä¸éœ€è¦ç¡®è®¤å…¶æ•°æ®ç±»å‹ã€‚</p><p>è™½ç„¶Cè¯­è¨€æ˜¯é™æ€ï¼Œä½†æ˜¯åœ¨Cè¯­è¨€ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå…¶ä»–ç±»å‹æ•°æ®èµ‹äºˆç»™ä¸€ä¸ªå£°æ˜å¥½çš„å˜é‡ï¼Œå¦‚ï¼š</p><pre><code>c = a\n</code></pre><p>å‰é¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬æŠŠintå‹çš„å˜é‡aèµ‹å€¼ç»™äº†boolå‹çš„å˜é‡cï¼Œè¿™æ®µä»£ç ä¹Ÿæ˜¯å¯ä»¥ç¼–è¯‘æ‰§è¡Œçš„ï¼Œå› ä¸ºåœ¨èµ‹å€¼è¿‡ç¨‹ä¸­ï¼ŒCç¼–è¯‘å™¨ä¼šæŠŠintå‹çš„å˜é‡æ‚„æ‚„è½¬æ¢ä¸ºboolå‹çš„å˜é‡ï¼Œæˆ‘ä»¬é€šå¸¸æŠŠè¿™ç§å·å·è½¬æ¢çš„æ“ä½œç§°ä¸º<strong>éšå¼ç±»å‹è½¬æ¢</strong>ã€‚è€Œ<strong>æ”¯æŒéšå¼ç±»å‹è½¬æ¢çš„è¯­è¨€ç§°ä¸ºå¼±ç±»å‹è¯­è¨€ï¼Œä¸æ”¯æŒéšå¼ç±»å‹è½¬æ¢çš„è¯­è¨€ç§°ä¸ºå¼ºç±»å‹è¯­è¨€</strong>ã€‚åœ¨è¿™ç‚¹ä¸Šï¼ŒCå’ŒJavaScriptéƒ½æ˜¯å¼±ç±»å‹è¯­è¨€ã€‚</p><p>å¯¹äºå„ç§è¯­è¨€çš„ç±»å‹ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/36/f0/36f0f5bdce0a6d8c36cbb8a76931cff0.png?wh=1142*815\" alt=\"\"></p><center><span class=\"reference\">è¯­è¨€ç±»å‹å›¾</span></center><h2>JavaScriptçš„æ•°æ®ç±»å‹</h2><p>ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†ï¼Œ<strong>JavaScriptæ˜¯ä¸€ç§å¼±ç±»å‹çš„ã€åŠ¨æ€çš„è¯­è¨€</strong>ã€‚é‚£è¿™äº›ç‰¹ç‚¹æ„å‘³ç€ä»€ä¹ˆå‘¢ï¼Ÿ</p><ul>\n<li><strong>å¼±ç±»å‹</strong>ï¼Œæ„å‘³ç€ä½ ä¸éœ€è¦å‘Šè¯‰JavaScriptå¼•æ“è¿™ä¸ªæˆ–é‚£ä¸ªå˜é‡æ˜¯ä»€ä¹ˆæ•°æ®ç±»å‹ï¼ŒJavaScriptå¼•æ“åœ¨è¿è¡Œä»£ç çš„æ—¶å€™è‡ªå·±ä¼šè®¡ç®—å‡ºæ¥ã€‚</li>\n<li><strong>åŠ¨æ€</strong>ï¼Œæ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªå˜é‡ä¿å­˜ä¸åŒç±»å‹çš„æ•°æ®ã€‚</li>\n</ul><p>é‚£ä¹ˆæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹JavaScriptçš„æ•°æ®ç±»å‹ï¼Œä½ å¯ä»¥çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š</p><pre><code>var bar\nbar = 12 \nbar = &quot;æå®¢æ—¶é—´&quot;\nbar = true\nbar = null\nbar = {name:&quot;æå®¢æ—¶é—´&quot;}\n</code></pre><p>ä»ä¸Šè¿°ä»£ç ä¸­ä½ å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªbarå˜é‡ï¼Œç„¶åå¯ä»¥ä½¿ç”¨å„ç§ç±»å‹çš„æ•°æ®å€¼èµ‹äºˆç»™è¯¥å˜é‡ã€‚</p><p>åœ¨JavaScriptä¸­ï¼Œå¦‚æœä½ æƒ³è¦æŸ¥çœ‹ä¸€ä¸ªå˜é‡åˆ°åº•æ˜¯ä»€ä¹ˆç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨â€œtypeofâ€è¿ç®—ç¬¦ã€‚å…·ä½“ä½¿ç”¨æ–¹å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>var bar\nconsole.log(typeof bar)  //undefined\nbar = 12 \nconsole.log(typeof bar) //number\nbar = &quot;æå®¢æ—¶é—´&quot;\nconsole.log(typeof bar)//string\nbar = true\nconsole.log(typeof bar) //boolean\nbar = null\nconsole.log(typeof bar) //object\nbar = {name:&quot;æå®¢æ—¶é—´&quot;}\nconsole.log(typeof bar) //object\n</code></pre><p>æ‰§è¡Œè¿™æ®µä»£ç ï¼Œä½ å¯ä»¥çœ‹åˆ°æ‰“å°å‡ºæ¥äº†ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œæœ‰undefinedã€numberã€booleanã€objectç­‰ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥è°ˆè°ˆJavaScriptåˆ°åº•æœ‰å¤šå°‘ç§æ•°æ®ç±»å‹ã€‚</p><p>å…¶å®JavaScriptä¸­çš„æ•°æ®ç±»å‹ä¸€ç§æœ‰8ç§ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/85/15/85b87602eac65356c9171bbd023f5715.png?wh=1142*648\" alt=\"\"></p><p>äº†è§£è¿™äº›ç±»å‹ä¹‹åï¼Œè¿˜æœ‰ä¸‰ç‚¹éœ€è¦ä½ æ³¨æ„ä¸€ä¸‹ã€‚</p><p>ç¬¬ä¸€ç‚¹ï¼Œä½¿ç”¨typeofæ£€æµ‹Nullç±»å‹æ—¶ï¼Œè¿”å›çš„æ˜¯Objectã€‚è¿™æ˜¯å½“åˆJavaScriptè¯­è¨€çš„ä¸€ä¸ªBugï¼Œä¸€ç›´ä¿ç•™è‡³ä»Šï¼Œä¹‹æ‰€ä»¥ä¸€ç›´æ²¡ä¿®æ”¹è¿‡æ¥ï¼Œä¸»è¦æ˜¯ä¸ºäº†å…¼å®¹è€çš„ä»£ç ã€‚</p><p>ç¬¬äºŒç‚¹ï¼ŒObjectç±»å‹æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒæ˜¯ç”±ä¸Šè¿°7ç§ç±»å‹ç»„æˆçš„ä¸€ä¸ªåŒ…å«äº†key-valueå¯¹çš„æ•°æ®ç±»å‹ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>let myObj = {\n        name:'æå®¢æ—¶é—´',\n        update:function(){....}\n        }\n</code></pre><p>ä»ä¸­ä½ å¯ä»¥çœ‹å‡ºæ¥ï¼ŒObjectæ˜¯ç”±key-valueç»„æˆçš„ï¼Œå…¶ä¸­çš„vauleå¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼ŒåŒ…æ‹¬å‡½æ•°ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ä½ å¯ä»¥é€šè¿‡Objectæ¥å­˜å‚¨å‡½æ•°ï¼ŒObjectä¸­çš„å‡½æ•°åˆç§°ä¸ºæ–¹æ³•ï¼Œæ¯”å¦‚ä¸Šè¿°ä»£ç ä¸­çš„updateæ–¹æ³•ã€‚</p><p>ç¬¬ä¸‰ç‚¹ï¼Œæˆ‘ä»¬æŠŠå‰é¢çš„7ç§æ•°æ®ç±»å‹ç§°ä¸º<strong>åŸå§‹ç±»å‹</strong>ï¼ŒæŠŠæœ€åä¸€ä¸ªå¯¹è±¡ç±»å‹ç§°ä¸º<strong>å¼•ç”¨ç±»å‹</strong>ï¼Œä¹‹æ‰€ä»¥æŠŠå®ƒä»¬åŒºåˆ†ä¸ºä¸¤ç§ä¸åŒçš„ç±»å‹ï¼Œæ˜¯å› ä¸ºå®ƒä»¬åœ¨å†…å­˜ä¸­å­˜æ”¾çš„ä½ç½®ä¸ä¸€æ ·ã€‚åˆ°åº•æ€ä¹ˆä¸ªä¸ä¸€æ ·æ³•å‘¢ï¼Ÿæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥è®²è§£ä¸€ä¸‹JavaScriptçš„åŸå§‹ç±»å‹å’Œå¼•ç”¨ç±»å‹åˆ°åº•æ˜¯æ€ä¹ˆå‚¨å­˜çš„ã€‚</p><h2>å†…å­˜ç©ºé—´</h2><p>è¦ç†è§£JavaScriptåœ¨è¿è¡Œè¿‡ç¨‹ä¸­æ•°æ®æ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼Œä½ å°±å¾—å…ˆææ¸…æ¥šå…¶å­˜å‚¨ç©ºé—´çš„ç§ç±»ã€‚ä¸‹é¢æ˜¯æˆ‘ç”»çš„JavaScriptçš„å†…å­˜æ¨¡å‹ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/62/57/6293f5315a5bafbd3ba00ee732bfbf57.png?wh=1142*1183\" alt=\"\"></p><center><span class=\"reference\">JavaScriptå†…å­˜æ¨¡å‹</span></center><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œ åœ¨JavaScriptçš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œ ä¸»è¦æœ‰ä¸‰ç§ç±»å‹å†…å­˜ç©ºé—´ï¼Œåˆ†åˆ«æ˜¯<strong>ä»£ç ç©ºé—´ã€æ ˆç©ºé—´</strong>å’Œ<strong>å †ç©ºé—´</strong>ã€‚</p><p>å…¶ä¸­çš„ä»£ç ç©ºé—´ä¸»è¦æ˜¯å­˜å‚¨å¯æ‰§è¡Œä»£ç çš„ï¼Œè¿™ä¸ªæˆ‘ä»¬åé¢å†åšä»‹ç»ï¼Œä»Šå¤©ä¸»è¦æ¥è¯´è¯´æ ˆç©ºé—´å’Œå †ç©ºé—´ã€‚</p><h3>æ ˆç©ºé—´å’Œå †ç©ºé—´</h3><p>è¿™é‡Œçš„æ ˆç©ºé—´å°±æ˜¯æˆ‘ä»¬ä¹‹å‰åå¤æåŠçš„è°ƒç”¨æ ˆï¼Œæ˜¯ç”¨æ¥å­˜å‚¨æ‰§è¡Œä¸Šä¸‹æ–‡çš„ã€‚ä¸ºäº†ææ¸…æ¥šæ ˆç©ºé—´æ˜¯å¦‚ä½•å­˜å‚¨æ•°æ®çš„ï¼Œæˆ‘ä»¬è¿˜æ˜¯å…ˆçœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š</p><pre><code>function foo(){\n    var a = &quot;æå®¢æ—¶é—´&quot;\n    var b = a\n    var c = {name:&quot;æå®¢æ—¶é—´&quot;}\n    var d = c\n}\nfoo()\n</code></pre><p>å‰é¢æ–‡ç« æˆ‘ä»¬å·²ç»è®²è§£è¿‡äº†ï¼Œå½“æ‰§è¡Œä¸€æ®µä»£ç æ—¶ï¼Œéœ€è¦å…ˆç¼–è¯‘ï¼Œå¹¶åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œç„¶åå†æŒ‰ç…§é¡ºåºæ‰§è¡Œä»£ç ã€‚é‚£ä¹ˆä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œå½“æ‰§è¡Œåˆ°ç¬¬3è¡Œä»£ç æ—¶ï¼Œå…¶è°ƒç”¨æ ˆçš„çŠ¶æ€ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹é¢è¿™å¼ è°ƒç”¨æ ˆçŠ¶æ€å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/94/fe/9411221e463a86d043a3461d49c9f1fe.png?wh=1142*716\" alt=\"\"></p><center><span class=\"reference\">æ‰§è¡Œåˆ°ç¬¬3è¡Œæ—¶çš„è°ƒç”¨æ ˆçŠ¶æ€å›¾</span></center><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºæ¥ï¼Œå½“æ‰§è¡Œåˆ°ç¬¬3è¡Œæ—¶ï¼Œå˜é‡aå’Œå˜é‡bçš„å€¼éƒ½è¢«ä¿å­˜åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼Œè€Œæ‰§è¡Œä¸Šä¸‹æ–‡åˆè¢«å‹å…¥åˆ°æ ˆä¸­ï¼Œæ‰€ä»¥ä½ ä¹Ÿå¯ä»¥è®¤ä¸ºå˜é‡aå’Œå˜é‡bçš„å€¼éƒ½æ˜¯å­˜æ”¾åœ¨æ ˆä¸­çš„ã€‚</p><p>æ¥ä¸‹æ¥ç»§ç»­æ‰§è¡Œç¬¬4è¡Œä»£ç ï¼Œç”±äºJavaScriptå¼•æ“åˆ¤æ–­å³è¾¹çš„å€¼æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œè¿™æ—¶å€™å¤„ç†çš„æƒ…å†µå°±ä¸ä¸€æ ·äº†ï¼ŒJavaScriptå¼•æ“å¹¶ä¸æ˜¯ç›´æ¥å°†è¯¥å¯¹è±¡å­˜æ”¾åˆ°å˜é‡ç¯å¢ƒä¸­ï¼Œè€Œæ˜¯å°†å®ƒåˆ†é…åˆ°å †ç©ºé—´é‡Œé¢ï¼Œåˆ†é…åè¯¥å¯¹è±¡ä¼šæœ‰ä¸€ä¸ªåœ¨â€œå †â€ä¸­çš„åœ°å€ï¼Œç„¶åå†å°†è¯¥æ•°æ®çš„åœ°å€å†™è¿›cçš„å˜é‡å€¼ï¼Œæœ€ç»ˆåˆ†é…å¥½å†…å­˜çš„ç¤ºæ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/22/bc/22100df5c75fb51037d7a929777c57bc.png?wh=1142*551\" alt=\"\"></p><center><span class=\"reference\">å¯¹è±¡ç±»å‹æ˜¯â€œå †â€æ¥å­˜å‚¨</span></center><p>ä»ä¸Šå›¾ä½ å¯ä»¥æ¸…æ™°åœ°è§‚å¯Ÿåˆ°ï¼Œå¯¹è±¡ç±»å‹æ˜¯å­˜æ”¾åœ¨å †ç©ºé—´çš„ï¼Œåœ¨æ ˆç©ºé—´ä¸­åªæ˜¯ä¿ç•™äº†å¯¹è±¡çš„å¼•ç”¨åœ°å€ï¼Œå½“JavaScriptéœ€è¦è®¿é—®è¯¥æ•°æ®çš„æ—¶å€™ï¼Œæ˜¯é€šè¿‡æ ˆä¸­çš„å¼•ç”¨åœ°å€æ¥è®¿é—®çš„ï¼Œç›¸å½“äºå¤šäº†ä¸€é“è½¬æ‰‹æµç¨‹ã€‚</p><p>å¥½äº†ï¼Œç°åœ¨ä½ åº”è¯¥çŸ¥é“äº†<strong>åŸå§‹ç±»å‹çš„æ•°æ®å€¼éƒ½æ˜¯ç›´æ¥ä¿å­˜åœ¨â€œæ ˆâ€ä¸­çš„ï¼Œå¼•ç”¨ç±»å‹çš„å€¼æ˜¯å­˜æ”¾åœ¨â€œå †â€ä¸­çš„</strong>ã€‚ä¸è¿‡ä½ ä¹Ÿè®¸ä¼šå¥½å¥‡ï¼Œä¸ºä»€ä¹ˆä¸€å®šè¦åˆ†â€œå †â€å’Œâ€œæ ˆâ€ä¸¤ä¸ªå­˜å‚¨ç©ºé—´å‘¢ï¼Ÿæ‰€æœ‰æ•°æ®ç›´æ¥å­˜æ”¾åœ¨â€œæ ˆâ€ä¸­ä¸å°±å¯ä»¥äº†å—ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ä¸å¯ä»¥çš„ã€‚è¿™æ˜¯å› ä¸ºJavaScriptå¼•æ“éœ€è¦ç”¨æ ˆæ¥ç»´æŠ¤ç¨‹åºæ‰§è¡ŒæœŸé—´ä¸Šä¸‹æ–‡çš„çŠ¶æ€ï¼Œå¦‚æœæ ˆç©ºé—´å¤§äº†è¯ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½å­˜æ”¾åœ¨æ ˆç©ºé—´é‡Œé¢ï¼Œé‚£ä¹ˆä¼šå½±å“åˆ°ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ•ˆç‡ï¼Œè¿›è€Œåˆå½±å“åˆ°æ•´ä¸ªç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚æ¯”å¦‚æ–‡ä¸­çš„fooå‡½æ•°æ‰§è¡Œç»“æŸäº†ï¼ŒJavaScriptå¼•æ“éœ€è¦ç¦»å¼€å½“å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œåªéœ€è¦å°†æŒ‡é’ˆä¸‹ç§»åˆ°ä¸Šä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„åœ°å€å°±å¯ä»¥äº†ï¼Œfooå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆåŒºç©ºé—´å…¨éƒ¨å›æ”¶ï¼Œå…·ä½“è¿‡ç¨‹ä½ å¯ä»¥å‚è€ƒä¸‹å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/d7/7b/d7153d003a72dbd0a9ca84b59ac3857b.png?wh=1142*532\" alt=\"\"></p><center><span class=\"reference\">è°ƒç”¨æ ˆä¸­åˆ‡æ¢æ‰§è¡Œä¸Šä¸‹æ–‡çŠ¶æ€</span></center><p>æ‰€ä»¥<strong>é€šå¸¸æƒ…å†µä¸‹ï¼Œæ ˆç©ºé—´éƒ½ä¸ä¼šè®¾ç½®å¤ªå¤§ï¼Œä¸»è¦ç”¨æ¥å­˜æ”¾ä¸€äº›åŸå§‹ç±»å‹çš„å°æ•°æ®</strong>ã€‚è€Œå¼•ç”¨ç±»å‹çš„æ•°æ®å ç”¨çš„ç©ºé—´éƒ½æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥è¿™ä¸€ç±»æ•°æ®ä¼šè¢«å­˜æ”¾åˆ°å †ä¸­ï¼Œ<strong>å †ç©ºé—´å¾ˆå¤§ï¼Œèƒ½å­˜æ”¾å¾ˆå¤šå¤§çš„æ•°æ®</strong>ï¼Œä¸è¿‡ç¼ºç‚¹æ˜¯åˆ†é…å†…å­˜å’Œå›æ”¶å†…å­˜éƒ½ä¼šå ç”¨ä¸€å®šçš„æ—¶é—´ã€‚</p><p>è§£é‡Šäº†ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸ºä»€ä¹ˆéœ€è¦å †å’Œæ ˆä¸¤ç§æ•°æ®ç»“æ„åï¼Œæˆ‘ä»¬è¿˜æ˜¯å›åˆ°ç¤ºä¾‹ä»£ç é‚£é‡Œï¼Œçœ‹çœ‹å®ƒæœ€åä¸€æ­¥å°†å˜é‡cèµ‹å€¼ç»™å˜é‡dæ˜¯æ€ä¹ˆæ‰§è¡Œçš„ï¼Ÿ</p><p>åœ¨JavaScriptä¸­ï¼Œèµ‹å€¼æ“ä½œå’Œå…¶ä»–è¯­è¨€æœ‰å¾ˆå¤§çš„ä¸åŒï¼Œ<strong>åŸå§‹ç±»å‹çš„èµ‹å€¼ä¼šå®Œæ•´å¤åˆ¶å˜é‡å€¼ï¼Œè€Œå¼•ç”¨ç±»å‹çš„èµ‹å€¼æ˜¯å¤åˆ¶å¼•ç”¨åœ°å€</strong>ã€‚</p><p>æ‰€ä»¥<code>d=c</code>çš„æ“ä½œå°±æ˜¯æŠŠcçš„å¼•ç”¨åœ°å€èµ‹å€¼ç»™dï¼Œä½ å¯ä»¥å‚è€ƒä¸‹å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/51/f5/51127624a725a18a0e12e0f5a7aadbf5.png?wh=1142*560\" alt=\"\"></p><center><span class=\"reference\">å¼•ç”¨èµ‹å€¼</span></center><p>ä»å›¾ä¸­ä½ å¯ä»¥çœ‹åˆ°ï¼Œå˜é‡cå’Œå˜é‡déƒ½æŒ‡å‘äº†åŒä¸€ä¸ªå †ä¸­çš„å¯¹è±¡ï¼Œæ‰€ä»¥è¿™å°±å¾ˆå¥½åœ°è§£é‡Šäº†æ–‡ç« å¼€å¤´çš„é‚£ä¸ªé—®é¢˜ï¼Œé€šè¿‡cä¿®æ”¹nameçš„å€¼ï¼Œå˜é‡dçš„å€¼ä¹Ÿè·Ÿç€æ”¹å˜ï¼Œå½’æ ¹ç»“åº•å®ƒä»¬æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚</p><h3>å†è°ˆé—­åŒ…</h3><p>ç°åœ¨ä½ çŸ¥é“äº†ä½œç”¨åŸŸå†…çš„åŸå§‹ç±»å‹æ•°æ®ä¼šè¢«å­˜å‚¨åˆ°æ ˆç©ºé—´ï¼Œå¼•ç”¨ç±»å‹ä¼šè¢«å­˜å‚¨åˆ°å †ç©ºé—´ï¼ŒåŸºäºè¿™ä¸¤ç‚¹çš„è®¤çŸ¥ï¼Œæˆ‘ä»¬å†æ·±å…¥ä¸€æ­¥ï¼Œæ¢è®¨ä¸‹é—­åŒ…çš„å†…å­˜æ¨¡å‹ã€‚</p><p>è¿™é‡Œä»¥<a href=\"https://time.geekbang.org/column/article/127495\">ã€Š10 | ä½œç”¨åŸŸé“¾å’Œé—­åŒ… ï¼šä»£ç ä¸­å‡ºç°ç›¸åŒçš„å˜é‡ï¼ŒJavaScriptå¼•æ“æ˜¯å¦‚ä½•é€‰æ‹©çš„ï¼Ÿã€‹</a>ä¸­å…³äºé—­åŒ…çš„ä¸€æ®µä»£ç ä¸ºä¾‹ï¼š</p><pre><code>function foo() {\n    var myName = &quot;æå®¢æ—¶é—´&quot;\n    let test1 = 1\n    const test2 = 2\n    var innerBar = { \n        setName:function(newName){\n            myName = newName\n        },\n        getName:function(){\n            console.log(test1)\n            return myName\n        }\n    }\n    return innerBar\n}\nvar bar = foo()\nbar.setName(&quot;æå®¢é‚¦&quot;)\nbar.getName()\nconsole.log(bar.getName())\n</code></pre><p>å½“æ‰§è¡Œè¿™æ®µä»£ç çš„æ—¶å€™ï¼Œä½ åº”è¯¥æœ‰è¿‡è¿™æ ·çš„åˆ†æï¼šç”±äºå˜é‡myNameã€test1ã€test2éƒ½æ˜¯åŸå§‹ç±»å‹æ•°æ®ï¼Œæ‰€ä»¥åœ¨æ‰§è¡Œfooå‡½æ•°çš„æ—¶å€™ï¼Œå®ƒä»¬ä¼šè¢«å‹å…¥åˆ°è°ƒç”¨æ ˆä¸­ï¼›å½“fooå‡½æ•°æ‰§è¡Œç»“æŸä¹‹åï¼Œè°ƒç”¨æ ˆä¸­fooå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¼šè¢«é”€æ¯ï¼Œå…¶å†…éƒ¨å˜é‡myNameã€test1ã€test2ä¹Ÿåº”è¯¥ä¸€åŒè¢«é”€æ¯ã€‚</p><p>ä½†æ˜¯åœ¨<a href=\"https://time.geekbang.org/column/article/127495\">é‚£ç¯‡æ–‡ç« </a>ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å½“fooå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡é”€æ¯æ—¶ï¼Œç”±äºfooå‡½æ•°äº§ç”Ÿäº†é—­åŒ…ï¼Œæ‰€ä»¥å˜é‡myNameå’Œtest1å¹¶æ²¡æœ‰è¢«é”€æ¯ï¼Œè€Œæ˜¯ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œé‚£ä¹ˆåº”è¯¥å¦‚ä½•è§£é‡Šè¿™ä¸ªç°è±¡å‘¢ï¼Ÿ</p><p>è¦è§£é‡Šè¿™ä¸ªç°è±¡ï¼Œæˆ‘ä»¬å°±å¾—ç«™åœ¨å†…å­˜æ¨¡å‹çš„è§’åº¦æ¥åˆ†æè¿™æ®µä»£ç çš„æ‰§è¡Œæµç¨‹ã€‚</p><ol>\n<li>å½“JavaScriptå¼•æ“æ‰§è¡Œåˆ°fooå‡½æ•°æ—¶ï¼Œé¦–å…ˆä¼šç¼–è¯‘ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªç©ºæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</li>\n<li>åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°å†…éƒ¨å‡½æ•°setNameï¼ŒJavaScriptå¼•æ“è¿˜è¦å¯¹å†…éƒ¨å‡½æ•°åšä¸€æ¬¡å¿«é€Ÿçš„è¯æ³•æ‰«æï¼Œå‘ç°è¯¥å†…éƒ¨å‡½æ•°å¼•ç”¨äº†fooå‡½æ•°ä¸­çš„myNameå˜é‡ï¼Œç”±äºæ˜¯å†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œæ‰€ä»¥JavaScriptå¼•æ“åˆ¤æ–­è¿™æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œäºæ˜¯åœ¨å †ç©ºé—´åˆ›å»ºæ¢ä¸€ä¸ªâ€œclosure(foo)â€çš„å¯¹è±¡ï¼ˆè¿™æ˜¯ä¸€ä¸ªå†…éƒ¨å¯¹è±¡ï¼ŒJavaScriptæ˜¯æ— æ³•è®¿é—®çš„ï¼‰ï¼Œç”¨æ¥ä¿å­˜myNameå˜é‡ã€‚</li>\n<li>æ¥ç€ç»§ç»­æ‰«æåˆ°getNameæ–¹æ³•æ—¶ï¼Œå‘ç°è¯¥å‡½æ•°å†…éƒ¨è¿˜å¼•ç”¨å˜é‡test1ï¼Œäºæ˜¯JavaScriptå¼•æ“åˆå°†test1æ·»åŠ åˆ°â€œclosure(foo)â€å¯¹è±¡ä¸­ã€‚è¿™æ—¶å€™å †ä¸­çš„â€œclosure(foo)â€å¯¹è±¡ä¸­å°±åŒ…å«äº†myNameå’Œtest1ä¸¤ä¸ªå˜é‡äº†ã€‚</li>\n<li>ç”±äºtest2å¹¶æ²¡æœ‰è¢«å†…éƒ¨å‡½æ•°å¼•ç”¨ï¼Œæ‰€ä»¥test2ä¾ç„¶ä¿å­˜åœ¨è°ƒç”¨æ ˆä¸­ã€‚</li>\n</ol><p>é€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥ç”»å‡ºæ‰§è¡Œåˆ°fooå‡½æ•°ä¸­â€œreturn innerBarâ€è¯­å¥æ—¶çš„è°ƒç”¨æ ˆçŠ¶æ€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/f9/db/f9dd29ff5371c247e10546393c904edb.png?wh=1142*564\" alt=\"\"></p><center><span class=\"reference\">é—­åŒ…çš„äº§ç”Ÿè¿‡ç¨‹</span></center><p>ä»ä¸Šå›¾ä½ å¯ä»¥æ¸…æ™°åœ°çœ‹å‡ºï¼Œå½“æ‰§è¡Œåˆ°fooå‡½æ•°æ—¶ï¼Œé—­åŒ…å°±äº§ç”Ÿäº†ï¼›å½“fooå‡½æ•°æ‰§è¡Œç»“æŸä¹‹åï¼Œè¿”å›çš„getNameå’ŒsetNameæ–¹æ³•éƒ½å¼•ç”¨â€œclosure(foo)â€å¯¹è±¡ï¼Œæ‰€ä»¥å³ä½¿fooå‡½æ•°é€€å‡ºäº†ï¼Œâ€œ closure(foo)â€ä¾ç„¶è¢«å…¶å†…éƒ¨çš„getNameå’ŒsetNameæ–¹æ³•å¼•ç”¨ã€‚æ‰€ä»¥åœ¨ä¸‹æ¬¡è°ƒç”¨<code>bar.setName</code>æˆ–è€…<code>bar.getName</code>æ—¶ï¼Œåˆ›å»ºçš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å°±åŒ…å«äº†â€œclosure(foo)â€ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œäº§ç”Ÿé—­åŒ…çš„æ ¸å¿ƒæœ‰ä¸¤æ­¥ï¼šç¬¬ä¸€æ­¥æ˜¯éœ€è¦é¢„æ‰«æå†…éƒ¨å‡½æ•°ï¼›ç¬¬äºŒæ­¥æ˜¯æŠŠå†…éƒ¨å‡½æ•°å¼•ç”¨çš„å¤–éƒ¨å˜é‡ä¿å­˜åˆ°å †ä¸­ã€‚</p><h2>æ€»ç»“</h2><p>å¥½äº†ï¼Œä»Šå¤©å°±è®²åˆ°è¿™é‡Œï¼Œä¸‹é¢æˆ‘æ¥ç®€å•æ€»ç»“ä¸‹ä»Šå¤©çš„è¦ç‚¹ã€‚</p><p>æˆ‘ä»¬ä»‹ç»äº†JavaScriptä¸­çš„8ç§æ•°æ®ç±»å‹ï¼Œå®ƒä»¬å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»â€”â€”<strong>åŸå§‹ç±»å‹å’Œå¼•ç”¨ç±»å‹</strong>ã€‚</p><p>å…¶ä¸­ï¼ŒåŸå§‹ç±»å‹çš„æ•°æ®æ˜¯å­˜æ”¾åœ¨<strong>æ ˆ</strong>ä¸­ï¼Œå¼•ç”¨ç±»å‹çš„æ•°æ®æ˜¯å­˜æ”¾åœ¨<strong>å †</strong>ä¸­çš„ã€‚å †ä¸­çš„æ•°æ®æ˜¯é€šè¿‡å¼•ç”¨å’Œå˜é‡å…³è”èµ·æ¥çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒJavaScriptçš„å˜é‡æ˜¯æ²¡æœ‰æ•°æ®ç±»å‹çš„ï¼Œå€¼æ‰æœ‰æ•°æ®ç±»å‹ï¼Œå˜é‡å¯ä»¥éšæ—¶æŒæœ‰ä»»ä½•ç±»å‹çš„æ•°æ®ã€‚</p><p>ç„¶åæˆ‘ä»¬åˆ†æäº†ï¼Œåœ¨JavaScriptä¸­å°†ä¸€ä¸ªåŸå§‹ç±»å‹çš„å˜é‡aèµ‹å€¼ç»™bï¼Œé‚£ä¹ˆaå’Œbä¼šç›¸äº’ç‹¬ç«‹ã€äº’ä¸å½±å“ï¼›ä½†æ˜¯å°†å¼•ç”¨ç±»å‹çš„å˜é‡aèµ‹å€¼ç»™å˜é‡bï¼Œé‚£ä¼šå¯¼è‡´aã€bä¸¤ä¸ªå˜é‡éƒ½åŒæ—¶æŒ‡å‘äº†å †ä¸­çš„åŒä¸€å—æ•°æ®ã€‚</p><p>æœ€åï¼Œæˆ‘ä»¬è¿˜ç«™åœ¨å†…å­˜æ¨¡å‹çš„è§†è§’åˆ†æäº†é—­åŒ…çš„äº§ç”Ÿè¿‡ç¨‹ã€‚</p><h2>æ€è€ƒæ—¶é—´</h2><p>åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œç»å¸¸éœ€è¦å®Œæ•´åœ°æ‹·è´ä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´æ‹·è´å®Œæˆä¹‹åä¸¤ä¸ªå¯¹è±¡ä¹‹é—´å°±ä¸èƒ½äº’ç›¸å½±å“ã€‚é‚£è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ</p><p>ç»“åˆä¸‹é¢è¿™æ®µä»£ç ï¼Œä½ å¯ä»¥åˆ†æä¸‹å®ƒæ˜¯å¦‚ä½•å°†å¯¹è±¡jackæ‹·è´ç»™jack2ï¼Œç„¶ååœ¨å®Œæˆæ‹·è´æ“ä½œæ—¶ä¸¤ä¸ªjackè¿˜äº’ä¸å½±å“çš„å‘¢ã€‚</p><pre><code>let jack = {\n    name : &quot;jack.ma&quot;,\n    age:40,\n    like:{\n        dog:{\n            color:'black',\n            age:3,\n        },\n        cat:{\n            color:'white',\n            age:2\n        }\n    }\n}\nfunction copy(src){\n    let dest\n    //å®ç°æ‹·è´ä»£ç ï¼Œå°†srcçš„å€¼å®Œæ•´åœ°æ‹·è´ç»™dest\n   //åœ¨è¿™é‡Œå®ç°\n    return dest\n}\nlet jack2 = copy(jack)\n\n//æ¯”å¦‚ä¿®æ”¹jack2ä¸­çš„å†…å®¹ï¼Œä¸ä¼šå½±å“åˆ°jackä¸­çš„å€¼\njack2.like.dog.color = 'green'\nconsole.log(jack.like.dog.color) //æ‰“å°å‡ºæ¥çš„åº”è¯¥æ˜¯ &quot;black&quot;\n</code></pre><p>æ¬¢è¿åœ¨ç•™è¨€åŒºä¸æˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè®°å½•ä½ çš„æ€è€ƒè¿‡ç¨‹ã€‚æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"11 | thisï¼šä»JavaScriptæ‰§è¡Œä¸Šä¸‹æ–‡çš„è§†è§’è®²æ¸…æ¥šthis","id":128427},"right":{"article_title":"13 | åƒåœ¾å›æ”¶ï¼šåƒåœ¾æ•°æ®æ˜¯å¦‚ä½•è‡ªåŠ¨å›æ”¶çš„ï¼Ÿ","id":131233}},"comments":[{"had_liked":false,"id":130796,"user_name":"è“é…é¸¡","can_delete":false,"product_type":"c1","uid":1348738,"ip_address":"","ucode":"C79A7CA8885B7C","user_header":"https://static001.geekbang.org/account/avatar/00/14/94/82/d0a417ba.jpg","comment_is_top":false,"comment_ctime":1567554073,"is_pvip":false,"discussion_count":12,"race_medal":0,"score":"1324417481241","product_id":100033601,"comment_content":"å¸Œæœ›è€å¸ˆå†å¼€ä¸€ä¸ªä¸“æ ä¸“é—¨è®²JSï¼ŒåŒå­¦ä»¬é¡¶ä¸Šå»","like_count":309,"discussions":[{"author":{"id":1377786,"avatar":"https://static001.geekbang.org/account/avatar/00/15/05/fa/7753d8ac.jpg","nickname":"cutemurphy","note":"","ucode":"1B10EECEB9085D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":183695,"discussion_content":"ç¡®å®è®²çš„ä¸é”™ã€‚å…¶ä»–äººä¸€ç›´åœ¨è®²ä¸Šå±‚æ¦‚å¿µ è¿™ä¸ªè¯¾ç¨‹æŠ½ä¸å‰¥èŒ§â€¦","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1582508418,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1074336,"avatar":"https://static001.geekbang.org/account/avatar/00/10/64/a0/95c76200.jpg","nickname":"å¯°","note":"","ucode":"1C177E813ADA41","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":226242,"discussion_content":"æ˜¯å•Šï¼Œåœ¨æµè§ˆå™¨è¯¾ç¨‹æ•™jsï¼Œæ˜¯é¿é‡å°±è½»å—ï¼Ÿ","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1586429403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1930698,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/75/ca/4c127da3.jpg","nickname":"Emma","note":"","ucode":"C2D31142AF7288","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":216341,"discussion_content":"å¥½çš„ï¼Œè°¢è°¢ã€‚æ˜¯V8å—\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585437364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1293057,"avatar":"https://static001.geekbang.org/account/avatar/00/13/bb/01/568ac2d6.jpg","nickname":"K4SHIFZ","note":"","ucode":"BFB49AAC0E4C74","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":164691,"discussion_content":"è®²jsçš„ä¸“æ æœ‰äº†ï¼Œæ›´æ·±å…¥","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581213315,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":8,"child_discussions":[{"author":{"id":1930698,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/75/ca/4c127da3.jpg","nickname":"Emma","note":"","ucode":"C2D31142AF7288","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1293057,"avatar":"https://static001.geekbang.org/account/avatar/00/13/bb/01/568ac2d6.jpg","nickname":"K4SHIFZ","note":"","ucode":"BFB49AAC0E4C74","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":212899,"discussion_content":"åŒå­¦å“ªä¸ªä¸“æ è®²jsæ›´æ·±å…¥å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585031242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":164691,"ip_address":""},"score":212899,"extra":""},{"author":{"id":1293057,"avatar":"https://static001.geekbang.org/account/avatar/00/13/bb/01/568ac2d6.jpg","nickname":"K4SHIFZ","note":"","ucode":"BFB49AAC0E4C74","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1930698,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/75/ca/4c127da3.jpg","nickname":"Emma","note":"","ucode":"C2D31142AF7288","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":213101,"discussion_content":"å‘¨çˆ±æ°‘çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585051210,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":212899,"ip_address":""},"score":213101,"extra":""},{"author":{"id":1765894,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/f2/06/ebb5b764.jpg","nickname":"NikkiZeng","note":"","ucode":"F669C811773394","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1930698,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/75/ca/4c127da3.jpg","nickname":"Emma","note":"","ucode":"C2D31142AF7288","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215444,"discussion_content":"è€å¸ˆå·²ç»å‡ºjsçš„è¯¾ç¨‹äº†ï¼Œå¯ä»¥å»æœäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585323314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":212899,"ip_address":""},"score":215444,"extra":""}]}]},{"had_liked":true,"id":129655,"user_name":"ä»°5å§0èµ·å","can_delete":false,"product_type":"c1","uid":1378459,"ip_address":"","ucode":"897AC2F51B0D67","user_header":"https://static001.geekbang.org/account/avatar/00/15/08/9b/d52c8610.jpg","comment_is_top":false,"comment_ctime":1567206040,"is_pvip":true,"replies":[{"id":"48362","content":"å…³äºfooå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡é”€æ¯è¿‡ç¨‹ï¼šfooå‡½æ•°æ‰§è¡Œç»“æŸä¹‹åï¼Œå½“å‰æ‰§è¡ŒçŠ¶æ€çš„æŒ‡é’ˆä¸‹ç§»åˆ°æ ˆä¸­çš„å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä½ç½®ï¼Œfooå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡çš„é‚£å—æ•°æ®å°±æŒªå‡ºæ¥ï¼Œè¿™ä¹Ÿå°±æ˜¯fooå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡çš„é”€æ¯è¿‡ç¨‹ï¼Œè¿™ä¸ªæ–‡ä¸­æœ‰æåˆ°ï¼Œä½ å¯ä»¥å‚è€ƒâ€œè°ƒç”¨æ ˆä¸­åˆ‡æ¢æ‰§è¡Œä¸Šä¸‹æ–‡çŠ¶æ€â€œå›¾ã€‚<br><br>ç¬¬äºŒä¸ªé—®é¢˜ï¼šinnerBarè¿”å›åï¼Œå«æœ‰setNameå’ŒgetNameå¯¹è±¡ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡é‡Œé¢åŒ…å«äº†å †ä¸­çš„closure(foo)çš„å¼•ç”¨ã€‚è™½ç„¶fooæ‰§è¡Œä¸Šä¸‹æ–‡é”€æ¯äº†ï¼Œfooå‡½æ•°ä¸­çš„å¯¹closure(foo)çš„å¼•ç”¨ä¹Ÿæ–­å¼€äº†ï¼Œä½†æ˜¯setNameå’ŒgetNameé‡Œé¢åˆé‡æ–°å»ºç«‹èµ·æ¥äº†å¯¹closure(foo)å¼•ç”¨ã€‚<br><br>ä½ å¯ä»¥ï¼š<br>1:æ‰“å¼€â€œå¼€å‘è€…å·¥å…·â€<br>2:åœ¨æ§åˆ¶å°æ‰§è¡Œä¸Šè¿°ä»£ç <br>3:ç„¶åé€‰æ‹©â€œMemoryâ€æ ‡ç­¾ï¼Œç‚¹å‡»&quot;take snapshot&quot; è·å–V8çš„å †å†…å­˜å¿«ç…§ã€‚<br>4:ç„¶åâ€œcommand+f&quot;(mac) æˆ–è€… &quot;ctrl+f&quot;(win),æœç´¢â€œsetNameâ€ï¼Œç„¶åä½ å°±ä¼šå‘ç°setNameå¯¹è±¡ä¸‹é¢åŒ…å«äº† raw_outer_scope_info_or_feedback_metadataï¼Œå¯¹é—­åŒ…çš„å¼•ç”¨æ•°æ®å°±åœ¨è¿™é‡Œé¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æå…µ","uid":"1141464","ctime":1567214152,"ip_address":"","comment_id":129655,"utype":1}],"discussion_count":11,"race_medal":0,"score":"658697202328","product_id":100033601,"comment_content":"1ã€ä»å†…å­˜æ¨¡å‹è§’åº¦åˆ†ææ‰§è¡Œä»£ç çš„æ‰§è¡Œæµç¨‹ç¬¬äºŒæ­¥çœ‹ï¼Œåœ¨å †ç©ºé—´åˆ›å»ºclosure(foo)å¯¹è±¡ï¼Œå®ƒæ˜¯å­˜å‚¨åœ¨fooå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ã€‚<br>é‚£ä¹ˆclosure(foo)åˆ›å»ºå¼€å§‹æ—¶æ˜¯ç©ºå¯¹è±¡ï¼Œæ‰§è¡Œç¬¬ä¸‰æ­¥çš„æ—¶å€™ï¼Œæ‰ä¼šé€æ¸æŠŠå˜é‡æ·»åŠ åˆ°å…¶ä¸­ã€‚<br>2ã€å½“fooå‡½æ•°æ‰§è¡Œç»“æŸåï¼Œfooçš„æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯ä¸æ˜¯é”€æ¯äº†ï¼Ÿå¦‚æœé”€æ¯äº†ï¼Œäº§ç”Ÿä¸€ä¸‹ä¸¤ä¸ªç–‘é—®ï¼š<br>    aã€å¦‚æœfooå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡é”€æ¯äº†ï¼Œclosure(foo)å¹¶æ²¡æœ‰é”€æ¯ï¼Œé‚£fooå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯æ€ä¹ˆé”€æ¯çš„å‘¢ï¼Ÿå°±æ¯”å¦‚é”€æ¯ä¸€ä¸ªç›’å­ï¼Œç›’å­æ¯é‡Œï¼Œé‡Œé¢çš„ä¸œè¥¿åº”è¯¥ä¹Ÿæ˜¯æ¯æ‰çš„<br>    bã€æ—¢ç„¶closure(foo)æ—¢ç„¶æ²¡æœ‰é”€æ¯ï¼Œé‚£å®ƒå­˜å‚¨åœ¨å †ä¸­çš„ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿå¿…å®šå®ƒæ‰€ä¾èµ–çš„fooæ‰§è¡Œä¸Šä¸‹æ–‡å·²ç»ä¸å­˜åœ¨äº†","like_count":154,"discussions":[{"author":{"id":1624537,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c9/d9/00870178.jpg","nickname":"Slowdive","note":"","ucode":"AF3429CE47C462","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":227331,"discussion_content":"è¿™ä¸ªé—®é¢˜ä½ è¿˜æ˜¯è¦ç†è§£å †å’Œæ ˆï¼Œæ ˆé‡Œåªæ˜¯å­˜äº†æŒ‡é’ˆï¼Œ æ²¡ä»€ä¹ˆä¸èƒ½é”€æ¯çš„ï¼Œé”€æ¯çš„æ˜¯è¿™ä¸ªæŒ‡é’ˆè€Œä¸æ˜¯åœ°å€é‡Œçš„å†…å®¹","likes_number":14,"is_delete":false,"is_hidden":false,"ctime":1586484350,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"æå…µ","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465588,"discussion_content":"å…³äºfooå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡é”€æ¯è¿‡ç¨‹ï¼šfooå‡½æ•°æ‰§è¡Œç»“æŸä¹‹åï¼Œå½“å‰æ‰§è¡ŒçŠ¶æ€çš„æŒ‡é’ˆä¸‹ç§»åˆ°æ ˆä¸­çš„å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä½ç½®ï¼Œfooå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡çš„é‚£å—æ•°æ®å°±æŒªå‡ºæ¥ï¼Œè¿™ä¹Ÿå°±æ˜¯fooå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡çš„é”€æ¯è¿‡ç¨‹ï¼Œè¿™ä¸ªæ–‡ä¸­æœ‰æåˆ°ï¼Œä½ å¯ä»¥å‚è€ƒâ€œè°ƒç”¨æ ˆä¸­åˆ‡æ¢æ‰§è¡Œä¸Šä¸‹æ–‡çŠ¶æ€â€œå›¾ã€‚\n\nç¬¬äºŒä¸ªé—®é¢˜ï¼šinnerBarè¿”å›åï¼Œå«æœ‰setNameå’ŒgetNameå¯¹è±¡ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡é‡Œé¢åŒ…å«äº†å †ä¸­çš„closure(foo)çš„å¼•ç”¨ã€‚è™½ç„¶fooæ‰§è¡Œä¸Šä¸‹æ–‡é”€æ¯äº†ï¼Œfooå‡½æ•°ä¸­çš„å¯¹closure(foo)çš„å¼•ç”¨ä¹Ÿæ–­å¼€äº†ï¼Œä½†æ˜¯setNameå’ŒgetNameé‡Œé¢åˆé‡æ–°å»ºç«‹èµ·æ¥äº†å¯¹closure(foo)å¼•ç”¨ã€‚\n\nä½ å¯ä»¥ï¼š\n1:æ‰“å¼€â€œå¼€å‘è€…å·¥å…·â€\n2:åœ¨æ§åˆ¶å°æ‰§è¡Œä¸Šè¿°ä»£ç \n3:ç„¶åé€‰æ‹©â€œMemoryâ€æ ‡ç­¾ï¼Œç‚¹å‡»&amp;quot;take snapshot&amp;quot; è·å–V8çš„å †å†…å­˜å¿«ç…§ã€‚\n4:ç„¶åâ€œcommand+f&amp;quot;(mac) æˆ–è€… &amp;quot;ctrl+f&amp;quot;(win),æœç´¢â€œsetNameâ€ï¼Œç„¶åä½ å°±ä¼šå‘ç°setNameå¯¹è±¡ä¸‹é¢åŒ…å«äº† raw_outer_scope_info_or_feedback_metadataï¼Œå¯¹é—­åŒ…çš„å¼•ç”¨æ•°æ®å°±åœ¨è¿™é‡Œé¢ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1567214152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1552587,"avatar":"https://static001.geekbang.org/account/avatar/00/17/b0/cb/848f6aa0.jpg","nickname":"alessia","note":"","ucode":"9ADFC4FE3390DB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587455,"discussion_content":"raw_outer_scope_info_or_feedback_metadata è¿™ä¸ªæ²¡çœ‹åˆ°ï¼ŒsetNameæœåˆ°çš„æ˜¯SetNamedPropertyExtraWideHandler builtin è¿™æ ·çš„ä¸œè¥¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663064578,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å®‰å¾½"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2064266,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/vkqibkINia6dxVOv5zia2zbkmQbrJUsQw8vDfiauib2DfyvJQ4PDUC7M8p4vqFiaQj70yYwIO8JlHFA450KPmgpsXlsw/132","nickname":"Geek_bing","note":"","ucode":"4000A30EDAF71C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388678,"discussion_content":"æœåˆ°äº†ï¼Œä¹Ÿçœ‹åˆ°äº†raw_outer_scope_info_or_feedback_metadataï¼Œ é‡Œé¢æœ‰ä¸‰ä¸ªï¼ŒmyName test1 foo è¿™é‡Œé¢çš„å†…å®¹æ€ä¹ˆå»çœ‹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628908749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1809953,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/xwTiccFyUn9f6t7UbwicIZ6KicWzFctVf0hsUabEfGbOPMgOA1qSRn8NQaDOxdJiaWoFEH8mK1xRN5jspjUZjpIQIw/132","nickname":"Geek_29ad5d","note":"","ucode":"417E632693C633","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296827,"discussion_content":"æ²¡æ‰¾åˆ°raw_outerï¼Œä¸ºå•¥å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596677592,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1503447,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f0/d7/82a2ffd4.jpg","nickname":"bingmo","note":"","ucode":"F92171460C0EA7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283972,"discussion_content":"raw_outer_scope_info_or_feedback_metadataè¿™ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å®¹çœ‹ä¸æ‡‚ï¼Œæ±‚è€å¸ˆè¯´æ˜ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592408570,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1328142,"avatar":"https://static001.geekbang.org/account/avatar/00/14/44/0e/ce14b7d3.jpg","nickname":"-_-|||","note":"","ucode":"94B21594658BF9","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":71767,"discussion_content":"compiled code å¯ä»¥æ‰¾åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575456603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1579987,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/9zDgoFiclCic368WIk5GQskZ0mvaZauiaWJOUz6kWGMFaer2FBAWuBibof43YFTO2O5m79cjAvloNAP9aicSo3gSnDg/132","nickname":"Geek_5541c1","note":"","ucode":"627947E7BED072","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41913,"discussion_content":"åœ¨å½“å‰é¡µé¢çš„æ§åˆ¶å°è¾“å…¥ä¸Šè¿°çš„ä»£ç è¿è¡Œï¼Œå¿«ç…§ä¸­æ‰¾ä¸åˆ°setName","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572531173,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045090,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f2/62/f873cd8f.jpg","nickname":"tongmin_tsai","note":"","ucode":"D9423E770D5846","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":34354,"discussion_content":"raw_outer_scope_info_or_feedback_metadataï¼Œè¿™ä¸ªæ‰¾ä¸åˆ°ï¼Œï¼šï¼ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571195546,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1377467,"avatar":"https://static001.geekbang.org/account/avatar/00/15/04/bb/5e5c37c1.jpg","nickname":"Angus","note":"","ucode":"7CC3BA1550FB5B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7129,"discussion_content":"æˆ‘å€’æ˜¯æœç´¢åˆ°äº†è¿™ä¸ªï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆçœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567394524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1499343,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e0/cf/08b04e00.jpg","nickname":"é’Ÿé’Ÿ","note":"","ucode":"D1A11CC3EB7137","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7089,"discussion_content":"æˆ‘è¿™é‡Œæœç´¢å¥½åƒçœ‹ä¸åˆ°è¿™ä¸ªï¼Œè¿™é‡Œè¦è¿™ä¹ˆæ‰èƒ½æœç´¢åˆ°ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567348460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129654,"user_name":"Marvin","can_delete":false,"product_type":"c1","uid":1096381,"ip_address":"","ucode":"443BD8B20285A9","user_header":"https://static001.geekbang.org/account/avatar/00/10/ba/bd/6f2f078c.jpg","comment_is_top":false,"comment_ctime":1567205108,"is_pvip":false,"replies":[{"id":"48363","content":"æŒºå¥½ ç»§ç»­","user_name":"ä½œè€…å›å¤","user_name_real":"æå…µ","uid":"1141464","ctime":1567214178,"ip_address":"","comment_id":129654,"utype":1}],"discussion_count":10,"race_medal":0,"score":"160480995060","product_id":100033601,"comment_content":"function copy(dest){<br>  if(typeof dest === &#39;object&#39;){<br>    if(!dest) return dest; &#47;&#47; null<br>    var obj = dest.constructor();  &#47;&#47; Object&#47;Array<br>    for(var key in dest){<br>      obj[key] = copy(dest[key])<br>    }<br>    return obj;<br>  } else {<br>    return dest;<br>  }<br>}","like_count":38,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"æå…µ","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465587,"discussion_content":"æŒºå¥½ ç»§ç»­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567214178,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1425441,"avatar":"https://static001.geekbang.org/account/avatar/00/15/c0/21/0ab49889.jpg","nickname":"Alienover","note":"","ucode":"6DF98F5E38569E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":208416,"discussion_content":"ç®€å•ç‚¹æµ…å¤åˆ¶ğŸ˜‚ğŸ˜‚\nlet obj2 = JSON.parse(JSON.stringify(obj1))","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584543788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1020726,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/93/36/abb7bfe3.jpg","nickname":"Hhpon","note":"","ucode":"12FE37D4B67631","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1425441,"avatar":"https://static001.geekbang.org/account/avatar/00/15/c0/21/0ab49889.jpg","nickname":"Alienover","note":"","ucode":"6DF98F5E38569E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550283,"discussion_content":"è¿™ä¸ªæ–¹æ³•ä¼šæ— æ„ä¸­æ”¹å˜æ•°æ®ç±»å‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644467305,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":208416,"ip_address":""},"score":550283,"extra":""}]},{"author":{"id":2278177,"avatar":"https://static001.geekbang.org/account/avatar/00/22/c3/21/afad6560.jpg","nickname":"jonath","note":"","ucode":"F7DF0D1AACFAC4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319545,"discussion_content":"å†å¤„ç†ä¸‹å¾ªç¯å¼•ç”¨çš„é—®é¢˜å°±å®Œç¾äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604047041,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1382114,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIyiafLesAhyuicJZAhz9XGrG61455c3docOMhyLKMszjLMSBuasV3icuxmuSapjTLdHpNwiaUlAwTTCA/132","nickname":"nicola","note":"","ucode":"E60ED40AAC9D47","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2278177,"avatar":"https://static001.geekbang.org/account/avatar/00/22/c3/21/afad6560.jpg","nickname":"jonath","note":"","ucode":"F7DF0D1AACFAC4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365304,"discussion_content":"å…¶å®éœ€è¦å¤„ç†çš„è¿˜æœ‰å¾ˆå¤šï¼Œä»–è¿™ä¸ªä¾‹å­åªæ˜¯æœ€åŸºç¡€çš„ï¼Œé€ ä¸€ä¸ªå¯é çš„deepCloneï¼Œè¿˜éœ€è¦å¤„ç†ï¼š\n1ã€å¯¹è±¡çš„é€’å½’å¼•ç”¨\n2ã€ç‰¹æ®Šå¯¹è±¡çš„å¤„ç†ï¼ˆå¦‚Dateï¼‰\n3ã€Symbolå±æ€§çš„å¤„ç†\nè¿˜æœ‰ä¸Šé¢ç”¨for inå¾ªç¯éå†å±æ€§ï¼Œå¦‚æœè¯¥å¯¹è±¡æŸäº›å±æ€§çš„æè¿°ç¬¦ä¸ºä¸å¯éå†ï¼Œä¹Ÿæ˜¯è·å–ä¸åˆ°çš„","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1617767079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":319545,"ip_address":""},"score":365304,"extra":""}]},{"author":{"id":1816697,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/b8/79/a4dbe9ee.jpg","nickname":"blueBean","note":"","ucode":"6A68D2414BD904","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":192197,"discussion_content":"é€’å½’å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583068019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1377886,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/M5jrJZliboJoN9cNp0iahPqwXe3Zf6CUeiaUMYY8icRY0Hvw9wZ36USS6tP2KE16n2lf8W0IhNWiaoBHUYyrwoT0vrg/132","nickname":"love star","note":"","ucode":"11B0D208BA7C7A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":168239,"discussion_content":"ç¡®å®å¾ˆæ£’ï¼Œä½†æ˜¯constructor æœ‰å¾ˆå°å¾ˆå°çš„æ¦‚ç‡è¢«ä¿®æ”¹æ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581563886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1374608,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/90/5cd5d680.jpg","nickname":"æˆ","note":"","ucode":"1FBEFCD573A20E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37600,"discussion_content":"æƒ³é—®ä¸€ä¸‹var obj = dest.constructor(); è¿™ç§ç”¨æ³•å«å•¥ï¼Œè¿™ä¸ªconstructorä¸æ˜¯ä¸€èˆ¬åªæ˜¯ä½œä¸ºæ„é€ å‡½æ•°çš„ä¸€ä¸ªå±æ€§æŒ‡å‘è‡ªå·±å˜›ï¼Œæ±‚æŒ‡æ•™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571643580,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1096381,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ba/bd/6f2f078c.jpg","nickname":"Marvin","note":"","ucode":"443BD8B20285A9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1374608,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/90/5cd5d680.jpg","nickname":"æˆ","note":"","ucode":"1FBEFCD573A20E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":39225,"discussion_content":"è¿™é‡Œè°ƒç”¨åŸå‹é“¾æ„é€ å‡½æ•°ï¼Œé™å®šæ¡ä»¶ç›¸å½“äºåˆ¶æ‰§è¡ŒArray()æˆ–Object()æ„é€ ä¸€ä¸ªå¤æ‚ç©ºå¯¹è±¡ã€‚åŒæ—¶è¿™ä¿©æœ‰ä¸ªç‰¹ç‚¹ï¼Œæ˜¯ä¸éœ€è¦newã€‚æ•´ä¸ªå‡½æ•°å®é™…ä¸Šæœ‰ä¸ªé™å®šæ¡ä»¶ï¼Œå°±æ˜¯åªå¯¹Objectå’ŒArrayåšæ·±copyï¼Œä¹Ÿå°±æ˜¯JSONçš„æ•°æ®ç»“æ„èŒƒå›´ã€‚å…¶ä»–å¯¹è±¡ä¸é€’å½’ï¼Œä¹Ÿæ²¡å¤„ç†å¾ªç¯å¼•ç”¨ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1571907855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":37600,"ip_address":""},"score":39225,"extra":""}]},{"author":{"id":1624506,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c9/ba/f50e9ea4.jpg","nickname":"æ½˜å¯å®","note":"","ucode":"8E697C7164F2E0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7032,"discussion_content":"è¿™ä¸ªæœ€æ£’äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567299051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161776,"user_name":"å°è¯•è€…è¯´","can_delete":false,"product_type":"c1","uid":1086570,"ip_address":"","ucode":"305ABCD369E7D3","user_header":"https://static001.geekbang.org/account/avatar/00/10/94/6a/d40f64ec.jpg","comment_is_top":false,"comment_ctime":1576324955,"is_pvip":false,"replies":[{"id":"61640","content":"å¤šè°¢å“ˆï¼Œåœ¨å‡†å¤‡V8çš„è¯¾ç¨‹äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æå…µ","uid":"1141464","ctime":1576392456,"ip_address":"","comment_id":161776,"utype":1}],"discussion_count":3,"race_medal":0,"score":"156195147611","product_id":100033601,"comment_content":"è¿™é—¨è¯¾ç¨‹æ˜¯æˆ‘çœ‹è¿‡æœ€å¥½çš„è¯¾ç¨‹ï¼ŒçœŸçš„æ—¶å€™åšåˆ°äº†æ·±å…¥æµ…å‡ºã€è¡Œäº‘æµæ°´ã€æ°´é“¶æ³»åœ°èˆ¬çš„å¢ƒç•Œã€‚è€å¸ˆä½ å¤šå¤šå¼€å¼€å‰ç«¯çš„å…¶ä»–è¯¾ç¨‹å•Šï¼Œä¿è¯å¾ˆå¤šäººæ„¿æ„æ¥å¬è¯¾çš„ã€‚","like_count":37,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"æå…µ","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477854,"discussion_content":"å¤šè°¢å“ˆï¼Œåœ¨å‡†å¤‡V8çš„è¯¾ç¨‹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576392456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2795247,"avatar":"","nickname":"Geek_30dd65","note":"","ucode":"AF5BB5AAB8FBAD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":400705,"discussion_content":"æ˜¯çš„ï¼Œæ„Ÿè§‰æ˜¯çœ‹è¿‡æœ€å¥½çš„è¯¾ç¨‹ï¼Œé†é†çŒé¡¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633395865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1039904,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/de/20/03130a39.jpg","nickname":"æ²§æµ·ä¸€å£°ç¬‘","note":"","ucode":"5297F2F4736B63","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224131,"discussion_content":"V8è¯¾ç¨‹å¥½éš¾å•Šå“ˆå“ˆå“ˆ ä»€ä¹ˆæ—¶å€™æ¨å‡ºæ¡†æ¶çš„çŸ¥è¯†ç‚¹ è®¾è®¡æ¨¡å¼ä¹Ÿæ˜¯éœ€è¦çš„å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586271048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":146267,"user_name":"çƒˆæ—¥çƒ¹é›ª","can_delete":false,"product_type":"c1","uid":1666583,"ip_address":"","ucode":"6C9B8A6D79DA9C","user_header":"https://static001.geekbang.org/account/avatar/00/19/6e/17/d3d3ef14.jpg","comment_is_top":false,"comment_ctime":1572486298,"is_pvip":false,"discussion_count":10,"race_medal":0,"score":"139011439770","product_id":100033601,"comment_content":"è€å¸ˆï¼Œç¬¬äºŒéçœ‹æ—¶æœ‰äº†ä¸ªç–‘é—®  å­—ç¬¦ä¸²å­˜åœ¨æ ˆé‡Œï¼Œä½†æ˜¯å­—ç¬¦ä¸²ä¸å…¶ä»–åŸå§‹ç±»å‹ä¸åŒï¼Œä¸ä¸€å®šåªå å‡ ä¸ªå­—èŠ‚çš„é•¿åº¦ã€‚å¦‚æœå­—ç¬¦ä¸²ç‰¹åˆ«é•¿ï¼Œé•¿åˆ°å¥½å‡ Mï¼Œä¹Ÿä¼šå­˜åœ¨æ ˆé‡Œå—ï¼Ÿ","like_count":33,"discussions":[{"author":{"id":1293057,"avatar":"https://static001.geekbang.org/account/avatar/00/13/bb/01/568ac2d6.jpg","nickname":"K4SHIFZ","note":"","ucode":"BFB49AAC0E4C74","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":164695,"discussion_content":"é—®å¾—å¥½ï¼Œè¿™ä¸ªè€å¸ˆä¸ä¼š","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1581213849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2286113,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e2/21/60adf96b.jpg","nickname":"stone","note":"","ucode":"65816E57253D0F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1293057,"avatar":"https://static001.geekbang.org/account/avatar/00/13/bb/01/568ac2d6.jpg","nickname":"K4SHIFZ","note":"","ucode":"BFB49AAC0E4C74","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385943,"discussion_content":"å“ˆå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627357291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":164695,"ip_address":""},"score":385943,"extra":""}]},{"author":{"id":2311402,"avatar":"https://static001.geekbang.org/account/avatar/00/23/44/ea/8a9b868d.jpg","nickname":"ç¼æ–¯åŸºäºš","note":"","ucode":"24892258DF0CC2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541256,"discussion_content":"çœ‹V8çš„è¯¾ç¨‹å°±çŸ¥é“äº†ï¼Œå½“æ•°æ®è¶³å¤Ÿå¤§çš„æ—¶å€™æ˜¯ä¼šè¢«æå‡åˆ°å †ä¸­å­˜å‚¨çš„ï¼Œè‡³äºå¤šå¤§æ˜¯å¤§è¿™ä¸ªå’Œè‡ªå·±çš„ç¡¬ä»¶æœ‰å…³ï¼Œ32ä½å’Œ64ä½æœ‰æ‰€ä¸åŒ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1640312214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1622655,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c2/7f/7b22f12b.jpg","nickname":"ä¹”","note":"","ucode":"1286F8742B4A01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":247583,"discussion_content":"æˆ‘ç”¨å›¾ç‰‡è½¬base64ç åšäº†å®éªŒï¼Œå‘ç°ä¸¤ä¸ªå˜é‡éƒ½å¼•ç”¨åŒä¸€ä¸²base64å­—ç¬¦çš„æ—¶å€™ï¼Œå†…å­˜å ç”¨ä¸æ˜¯ä¸¤å€","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1587818124,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1553770,"avatar":"https://static001.geekbang.org/account/avatar/00/17/b5/6a/152f71a5.jpg","nickname":"å˜‰æˆ","note":"","ucode":"79612CDF23C2AF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1622655,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c2/7f/7b22f12b.jpg","nickname":"ä¹”","note":"","ucode":"1286F8742B4A01","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":267993,"discussion_content":"é—®ä¸€ä¸‹å†…å­˜å ç”¨æ˜¯æ€ä¹ˆçœ‹çš„å‘¢   node  process  memoryå—\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1589721420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":247583,"ip_address":""},"score":267993,"extra":""}]},{"author":{"id":1788356,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIMf8QPPOZePEzicZKNHWyfgTaRdnWbQwg8aO2TIwzQXBCnGjXOQY4VzLk7PV1jGAQnGSdH81qVicNg/132","nickname":"æå¹¿","note":"","ucode":"EBDF6631F03BE9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410871,"discussion_content":"https://blog.csdn.net/qianyu6200430/article/details/120426595  æ¨èè¿™ç¯‡æ–‡ç« ï¼Œä¿è¯è§£å†³ä½ çš„ç–‘æƒ‘","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635782968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2194683,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIia8vbJEhpFlu4ppkwRNJxibRBZ9rnPFL5gevWN7VmKCYdQEB64QnlMEiahLNoKt6KH7IjDXs7yXomg/132","nickname":"æä¹å‹‡","note":"","ucode":"0314C148C68B11","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366003,"discussion_content":"è€å¸ˆæ¥è§£ç­”ä¸‹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1617939014,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2007774,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/a2/de/84f2754d.jpg","nickname":"æ——é¼“ç›¸å½“çš„å¯¹æ‰‹","note":"","ucode":"D80BE6E12FF2CE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297107,"discussion_content":"è¯´æ˜ä½ è¿˜è¦çœ‹ç¬¬ä¸‰é\nåŸæ–‡\nä»å›¾ä¸­å¯ä»¥çœ‹å‡ºæ¥ï¼Œå½“æ‰§è¡Œåˆ°ç¬¬ 3 è¡Œæ—¶ï¼Œå˜é‡ a å’Œå˜é‡ b çš„å€¼éƒ½è¢«ä¿å­˜åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼Œè€Œæ‰§è¡Œä¸Šä¸‹æ–‡åˆè¢«å‹å…¥åˆ°æ ˆä¸­ï¼Œæ‰€ä»¥ä½ ä¹Ÿå¯ä»¥è®¤ä¸ºå˜é‡ a å’Œå˜é‡ b çš„å€¼éƒ½æ˜¯å­˜æ”¾åœ¨æ ˆä¸­çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596778360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1622655,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c2/7f/7b22f12b.jpg","nickname":"ä¹”","note":"","ucode":"1286F8742B4A01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":247578,"discussion_content":"æˆ‘ä¹Ÿæƒ³é—®è¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587818036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1374608,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f9/90/5cd5d680.jpg","nickname":"æˆ","note":"","ucode":"1FBEFCD573A20E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":223621,"discussion_content":"æˆ‘ä¹Ÿæƒ³é—®è¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586240640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129759,"user_name":"æŸ’æœˆ","can_delete":false,"product_type":"c1","uid":1371240,"ip_address":"","ucode":"839A8F88C376A3","user_header":"https://static001.geekbang.org/account/avatar/00/14/ec/68/06d59613.jpg","comment_is_top":false,"comment_ctime":1567241379,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"126121292963","product_id":100033601,"comment_content":"æœ€è¿‘é¢è¯•è€é—®è¿™ä¸ªé—®é¢˜ï¼Œä»€ä¹ˆæ˜¯æ·±æ‹·è´å’Œæµ…æ‹·è´ä»¥åŠå¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´ï¼Ÿ<br>1ã€JSON.parse(JSON.stringify(obj))<br>2ã€é€’å½’éå†å¯¹è±¡<br>3ã€Object.assigin() è¿™ç§æ–¹æ³•åªèƒ½æ‹·è´ä¸€å±‚ï¼Œæœ‰åµŒå¥—çš„æƒ…å†µå°±ä¸é€‚ç”¨äº†ã€‚<br>","like_count":29,"discussions":[{"author":{"id":1629364,"avatar":"","nickname":"Geek_5cb157","note":"","ucode":"1C1361DCF34763","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7688,"discussion_content":"1æœ‰é—®é¢˜ï¼Œä¸èƒ½æ‹·è´function","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1567614320,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1903203,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/0a/63/35ae2c7a.jpg","nickname":"é™ˆæ–‡æ¶›","note":"","ucode":"F2F5ACD7794D3B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1629364,"avatar":"","nickname":"Geek_5cb157","note":"","ucode":"1C1361DCF34763","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":206021,"discussion_content":"ç¬¬ä¸€ç§æ‹·è´æœ‰å››ä¸ªç¼ºç‚¹ï¼š1.Dateåºåˆ—åŒ–çš„ç»“æœæ˜¯å­—ç¬¦ä¸²ï¼Œè¿˜åŸä¹‹åè¿˜æ˜¯å­—ç¬¦ä¸² 2.Functionã€RegExpã€Errorå¯¹è±¡å’Œundefinedå€¼ä¸èƒ½åºåˆ—åŒ–å’Œè¿˜åŸ 3.NaNã€Infinityã€-Infinityåºåˆ—åŒ–çš„ç»“æœæ˜¯ç©º 4.åªèƒ½åºåˆ—åŒ–å¯¹è±¡å¯æšä¸¾å±æ€§","likes_number":15,"is_delete":false,"is_hidden":false,"ctime":1584363547,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":7688,"ip_address":""},"score":206021,"extra":""}]},{"author":{"id":1579987,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/9zDgoFiclCic368WIk5GQskZ0mvaZauiaWJOUz6kWGMFaer2FBAWuBibof43YFTO2O5m79cjAvloNAP9aicSo3gSnDg/132","nickname":"Geek_5541c1","note":"","ucode":"627947E7BED072","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41911,"discussion_content":"lodash çš„ deepClone äº†è§£ä¸‹ï¼Œé‡Œé¢åšäº†å¾ˆå¤šç±»å‹çš„åˆ¤æ–­","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1572530931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1631282,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJD6uiagY4Hic6wHVQugoMPaeiaBR0CY9ANmW4KXA220CXNN6ErOE81XqW5RPhXlubfKe3FTnCXF9spg/132","nickname":"Geek_kris","note":"","ucode":"5D5EB2C9053AA8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1579987,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/9zDgoFiclCic368WIk5GQskZ0mvaZauiaWJOUz6kWGMFaer2FBAWuBibof43YFTO2O5m79cjAvloNAP9aicSo3gSnDg/132","nickname":"Geek_5541c1","note":"","ucode":"627947E7BED072","race_medal":1,"user_type":1,"is_pvip":false},"discussion":{"id":324273,"discussion_content":"cloneDeep","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605084305,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":41911,"ip_address":""},"score":324273,"extra":""}]},{"author":{"id":1817289,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/ba/c9/37a1d853.jpg","nickname":"ç™¾æ­¥é£å‰‘","note":"","ucode":"11197E4C0EDA34","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540576,"discussion_content":"4.let newObj = { ...preObj }","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640085524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1351094,"avatar":"","nickname":"Louis","note":"","ucode":"891D9EDD6D2851","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":24786,"discussion_content":"1å¾ªç¯æ‹·è´ä¹Ÿæœ‰é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570262962,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235301,"user_name":"sellardoor","can_delete":false,"product_type":"c1","uid":2067291,"ip_address":"","ucode":"7FC1AB789E2C3D","user_header":"https://static001.geekbang.org/account/avatar/00/1f/8b/5b/51e99f88.jpg","comment_is_top":false,"comment_ctime":1594967360,"is_pvip":false,"discussion_count":8,"race_medal":0,"score":"96084247872","product_id":100033601,"comment_content":"å­—ç¬¦ä¸²ï¼Œsymbolï¼Œbigintè™½ç„¶æ˜¯åŸå§‹ç±»å‹ï¼Œä½†æ˜¯å®é™…è¿˜æ˜¯å­˜æ”¾åœ¨å †ç©ºé—´çš„ã€‚<br>æ¯”å¦‚å­—ç¬¦ä¸²çš„å¤§å°å¯èƒ½å¾ˆå¤§ï¼Œè€ƒè™‘æ€§èƒ½è¿˜æ˜¯å­˜æ”¾åœ¨å †ç©ºé—´ã€‚<br>å…·ä½“æµè§ˆå™¨æ§åˆ¶å° =&gt; memory =&gt; æ‰“å°å¿«ç…§ï¼Œåœ¨healé‡Œæœç´¢stringï¼Œå¯ä»¥å‘ç°å­—ç¬¦ä¸²åœ¨å †ç©ºé—´<br>è¿™ä¸ªé—®é¢˜ï¼Œç½‘ä¸ŠåŸºæœ¬éƒ½æ˜¯é”™çš„ï¼Œä¹Ÿå¾ˆå°‘æœ‰æ–‡æ¡£æ•°æ®ä»‹ç»ï¼Œæœ€æ–°çš„ç»¿çš®ä¹¦æœ‰æåˆ°","like_count":23,"discussions":[{"author":{"id":2086825,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL7uzzeFTnYxgeqsibzUFSxiblnv0qibkN8eCIGgfSCpfT4oygtcTrPM7Wb6YIR6RXfMhdDYcPXG7rCA/132","nickname":"lcssptz","note":"","ucode":"10A7BCC37E935D","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338148,"discussion_content":"æ„Ÿè°¢æ‚¨çš„è§£ç­”","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1609202794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2425973,"avatar":"","nickname":"Geek_20dc1d","note":"","ucode":"5CDC23AED16AA0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586034,"discussion_content":"å“ªæœ¬ç»¿çš®ä¹¦æœ‰æåˆ°å‘¢ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661942658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1098566,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c3/46/308c3958.jpg","nickname":"ä¸è’¸é¦’å¤´","note":"","ucode":"EB26EC2B9CFC6B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542845,"discussion_content":"è¯·é—®ç›¸å…³èµ„æ–™æ˜¯å“ªæœ¬ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640860140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2801818,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/c0/9a/c2217ef2.jpg","nickname":"asdfghjkl","note":"","ucode":"6941A96865949B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409713,"discussion_content":"var aaa = &#34;Aå•Š&#34;\nvar bbb = &#34;Aå•Š&#34;\nundefined\naaa === bbb\ntrue\n\nvar a = {1:1}\nvar b = {1:1}\nundefined\na === b\nfalse\n\næ€ä¹ˆè§£é‡Šå•Šï¼Ÿ?  çƒ¦æ­»äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635494168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2064184,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7f/38/28260b58.jpg","nickname":"ç‰ç’ƒæ¯ä¸­é¦™èŒ—ä»™","note":"","ucode":"46354E79BA7E4A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2801818,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/c0/9a/c2217ef2.jpg","nickname":"asdfghjkl","note":"","ucode":"6941A96865949B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577199,"discussion_content":"aå’Œbæ˜¯ä¸¤ä¸ªä¸åŒçš„åœ°å€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655968420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":409713,"ip_address":""},"score":577199,"extra":""}]},{"author":{"id":1393768,"avatar":"https://static001.geekbang.org/account/avatar/00/15/44/68/71b47fd7.jpg","nickname":"è¡Œæ— å¿Œ","note":"","ucode":"E4DAA48AA0D7F0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371955,"discussion_content":"è¯·é—®ç»¿çš®ä¹¦æŒ‡çš„æ˜¯å“ªæœ¬ï¼Œæƒ³æŸ¥é˜…ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620099510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1402786,"avatar":"https://static001.geekbang.org/account/avatar/00/15/67/a2/62cc52c7.jpg","nickname":"pending","note":"","ucode":"32686ED49B6855","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":363170,"discussion_content":"æœ‰ç›¸å…³èµ„æ–™é“¾æ¥å¯ä»¥å‘ä¸€ä¸‹å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617118516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2067291,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/8b/5b/51e99f88.jpg","nickname":"sellardoor","note":"","ucode":"7FC1AB789E2C3D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291834,"discussion_content":"heap","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594967930,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129728,"user_name":"ææ‡‚","can_delete":false,"product_type":"c1","uid":1330436,"ip_address":"","ucode":"539E6639042C88","user_header":"https://static001.geekbang.org/account/avatar/00/14/4d/04/5e0d3713.jpg","comment_is_top":false,"comment_ctime":1567232497,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"78876643825","product_id":100033601,"comment_content":"è¿™é‡Œè®²è§£çš„çœŸå¥½ï¼Œé—­åŒ…æœç„¶ä¸æ˜¯åœ¨æ ˆä¸­å­˜å‚¨çš„ï¼Œæ¶ˆé™¤äº†æˆ‘ä¸€ç›´ä»¥æ¥çš„ç–‘æƒ‘ï¼Œä¸Šä¸‹æ–‡é”€æ¯åé—­åŒ…å»å“ªäº†ï¼<br>ç°åœ¨è¿˜æœ‰ä¸ªé—®é¢˜ï¼Œsetnameæ–¹æ³•æ˜¯é€šè¿‡ä»€ä¹ˆå¼•ç”¨é—­åŒ…çš„ï¼Œæ˜¯å­˜åœ¨å†…éƒ¨å˜é‡ä¹ˆï¼Ÿ","like_count":18,"discussions":[{"author":{"id":1020746,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/93/4a/de82f373.jpg","nickname":"AICC","note":"","ucode":"C1D18B1E8B2DCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7724,"discussion_content":"é—­åŒ…æ˜¯å¤–éƒ¨å‡½æ•°çš„å˜é‡é›†åˆï¼Œå†…éƒ¨å‡½æ•°setnameä¿ç•™ç€å¯¹å¤–éƒ¨å‡½æ•°çš„å˜é‡å¼•ç”¨ï¼Œè¿™ä¸ªå˜é‡å¼•ç”¨æŒ‡å‘äº†å †å†…å­˜ä¸­çš„closeure(foo)ï¼Œå…¶å®ä½ çš„é—®é¢˜å°±å·²ç»ç»™å‡ºäº†ç»“è®º","likes_number":14,"is_delete":false,"is_hidden":false,"ctime":1567652183,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1168666,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibZO2lNDlECbEc1Ykkne3nfaXSJunnJa5ia0IWLLdcibrXdtVmjMEpdUWaUHx67ArRw35taAgfaYt9PO3aR73Sl8w/132","nickname":"zhaozigang","note":"","ucode":"4F05977DB5380A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309857,"discussion_content":"getNameçš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¸­çš„å˜é‡ç¯å¢ƒä¸­å­˜ç€æŒ‡å‘å †å†…å­˜closeure(foo)çš„å˜é‡","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1601467489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2429215,"avatar":"https://static001.geekbang.org/account/avatar/00/25/11/1f/e9e108ea.jpg","nickname":"é¾šå»ºæ°‘","note":"","ucode":"E6E12CD6E59F42","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1168666,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibZO2lNDlECbEc1Ykkne3nfaXSJunnJa5ia0IWLLdcibrXdtVmjMEpdUWaUHx67ArRw35taAgfaYt9PO3aR73Sl8w/132","nickname":"zhaozigang","note":"","ucode":"4F05977DB5380A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348907,"discussion_content":"ä½ è¿™ä¸ªè¯´æ³•æœ‰é—®é¢˜ï¼Œjsé«˜çº§ç¨‹åºè®¾è®¡ä¸­æåˆ°å†…å±‚å‡½æ•°çš„[[Scope]]å±æ€§ä¿å­˜çš„ä½œç”¨åŸŸé“¾ä¸­åŒ…å«äº†å¯¹å¤–å±‚å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡ï¼ˆæ´»åŠ¨å¯¹è±¡æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¸€éƒ¨åˆ†ï¼Œä¸thisã€ä½œç”¨åŸŸé“¾å…±åŒæ„æˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰çš„å¼•ç”¨ï¼Œæ‰€ä»¥å¤–å±‚å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡ä¸ä¼šè¢«é”€æ¯ï¼Œå†…å­˜ä¸­é—­åŒ…çš„ç´¢å¼•æ˜¯å­˜æ”¾åœ¨æ´»åŠ¨å¯¹è±¡çš„ã€‚ä¸è¿‡è¿™ä¸ªè¯´æ³•å’Œè€å¸ˆè¯´çš„ä¿å­˜clourse(foo)å¥½åƒæœ‰ä¸€äº›åŒºåˆ«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612772680,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":309857,"ip_address":""},"score":348907,"extra":""},{"author":{"id":2374581,"avatar":"https://static001.geekbang.org/account/avatar/00/24/3b/b5/c6eea696.jpg","nickname":"TyrionJ","note":"","ucode":"CBB10E57538E6D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2429215,"avatar":"https://static001.geekbang.org/account/avatar/00/25/11/1f/e9e108ea.jpg","nickname":"é¾šå»ºæ°‘","note":"","ucode":"E6E12CD6E59F42","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557142,"discussion_content":"æˆ‘åœ¨è°·æ­Œæµè§ˆå™¨ä¸­è°ƒè¯•å‘ä¸‹ï¼Œåœ¨æ‰§è¡ŒsetNameçš„æ—¶å€™ï¼Œscopeä¸­æœ‰clousre(foo)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647676261,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":348907,"ip_address":""},"score":557142,"extra":""}]},{"author":{"id":1958109,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/LLzqOoaSOZp1GeoDFWUiaU3IVniaGDk75JvGib3HVMF4M9Me6gkQB6yy81Q06LIgCooib3ibx44KZ95GeO3qOXoehrw/132","nickname":"sakura","note":"","ucode":"19853DC8C53529","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261057,"discussion_content":"setnameçš„ä½œç”¨åŸŸ[[Scopes]]ä¸­æœ‰Closure(foo)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588935414,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129746,"user_name":"ChaoZzz","can_delete":false,"product_type":"c1","uid":1007680,"ip_address":"","ucode":"E338FEF55D9BAA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/60/40/e6d4c1b4.jpg","comment_is_top":false,"comment_ctime":1567238713,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"70286715449","product_id":100033601,"comment_content":"1. JSON.parse(JSON.stringify(...))<br><br>function copy(src){<br>\tlet dest;<br>\tdest = JSON.parse(JSON.stringify(src));<br>\treturn dest;<br>}<br>ç¼ºç‚¹ï¼šæ— æ³•æ‹·è´å‡½æ•°<br><br>2. Object.assign({}, source)<br><br>function copy(src){<br>\tlet dest;<br>\tdest = Object.assign({}, src);<br>\treturn dest;<br>}<br>ç¼ºç‚¹ï¼šåªèƒ½æ‹·è´ä¸€å±‚<br><br>3. function copy(src) {<br>\tlet dest;<br>        if (typeof src !== &#39;object&#39;) return ;<br>        dest = src instanceof Array ? [] : {};<br>        for (let key of Object.keys(src)) {<br>            dest[key] = typeof src[key] === &#39;object&#39; ? deepCopy(src[key]) : src[key];<br>        }<br>        return dest;<br>}<br>","like_count":16,"discussions":[{"author":{"id":2056450,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/61/02/6ccf315c.jpg","nickname":"A.     æˆäº‹åœ¨å¤©î£","note":"","ucode":"0B069A8EAD0E9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323106,"discussion_content":"3ä¹Ÿæ²¡æœ‰deepCopyå‡½æ•°å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604886860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1634416,"avatar":"https://static001.geekbang.org/account/avatar/00/18/f0/70/a6306bbb.jpg","nickname":"wtl","note":"","ucode":"F7FE9A5A3D825D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7093,"discussion_content":"3ç¼ºç‚¹ï¼šæ²¡æœ‰è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567357396,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129659,"user_name":"Lx","can_delete":false,"product_type":"c1","uid":1632217,"ip_address":"","ucode":"90F4EEE985A9B0","user_header":"https://static001.geekbang.org/account/avatar/00/18/e7/d9/83d1346c.jpg","comment_is_top":false,"comment_ctime":1567210121,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"53106817673","product_id":100033601,"comment_content":"è€å¸ˆï¼Œåç»­æ˜¯å¦ä¼šè°…è§£ä¸‹devtoolsåšå†…å­˜åˆ†æï¼ŸåŸºæœ¬ç”¨æ³•ä¼šï¼Œä½†å…·ä½“åˆ†æé—®é¢˜ä¸çŸ¥é“æ€ä¹ˆå¼„â€¦â€¦","like_count":12},{"had_liked":false,"id":206286,"user_name":"ä¼Ÿä¼Ÿ","can_delete":false,"product_type":"c1","uid":1450367,"ip_address":"","ucode":"59BE820B03B97F","user_header":"https://static001.geekbang.org/account/avatar/00/16/21/7f/efda2a64.jpg","comment_is_top":false,"comment_ctime":1586834642,"is_pvip":true,"discussion_count":3,"race_medal":0,"score":"44536507602","product_id":100033601,"comment_content":"ç»ˆäºç†è§£é—­åŒ…äº†ï¼Œè¿™åå­—æ˜¯è°èµ·çš„ï¼Ÿå«åœˆå¤šå¥½ï¼Œæˆ–è€…å«ä»£ç åœˆ","like_count":10,"discussions":[{"author":{"id":1862271,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/nvWeOicPyIbAVkQnt4omOibkzZpG3AxSKy5CH1LicumpucX8hp4gZVSicKm1wnua6uuCRbHdXibh4FQLqLskqtoKiagg/132","nickname":"hsiang271828","note":"","ucode":"5453512A953D0A","race_medal":4,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590916,"discussion_content":"åœˆï¼Œåˆ«è¯´ï¼Œè¿˜çœŸæŒºå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666166675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2680684,"avatar":"https://static001.geekbang.org/account/avatar/00/28/e7/6c/437a37dc.jpg","nickname":"å‡ºå‘æ°´æ¯ç”°","note":"","ucode":"79EB3BEDF35EFD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550500,"discussion_content":"ä¸å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644570231,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1231317,"avatar":"https://static001.geekbang.org/account/avatar/00/12/c9/d5/b08a27ed.jpg","nickname":"çµæ„Ÿ_idea","note":"","ucode":"E0DBDDFA6040F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340477,"discussion_content":"æˆ‘ä¹Ÿè¿™ä¹ˆè®¤ä¸ºï¼Œè¿™ä¸ªæ¦‚å¿µç†è§£çš„æœ€å¤§éš¾åº¦å°±ä»åå­—å¼€å§‹çš„ï¼Œä¸‡æ¶çš„..","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610012623,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134230,"user_name":"XWL","can_delete":false,"product_type":"c1","uid":1597186,"ip_address":"","ucode":"5D3988791C60AF","user_header":"https://static001.geekbang.org/account/avatar/00/18/5f/02/f8a80843.jpg","comment_is_top":false,"comment_ctime":1568778546,"is_pvip":false,"replies":[{"id":"51506","content":"å‡½æ•°å°±æ˜¯ä¸€ç§ç‰¹åˆ«çš„å¯¹è±¡ï¼Œæ‰€ä»¥ä¼šä¿å­˜åœ¨å †ä¸Šï¼Œç¼–è¯‘å‡½æ•°æ—¶ï¼Œè¿™ä¸ªå‡½æ•°çš„å·²ç»å­˜åœ¨äºå †ä¸­äº†ï¼<br><br>ç¬¬äºŒä¸ªé—®é¢˜è¿”å›äº†cå¯¹è±¡çš„è¯ï¼Œé‚£ä¹ˆè¯´æ˜å…¨å±€ç¯å¢ƒå¯¹cå¯¹è±¡æœ‰å¼•ç”¨ï¼Œæ—¢ç„¶æœ‰å¼•ç”¨é‚£ä¹ˆå°±ä¸ä¼šè¢«åƒåœ¾å›æ”¶å™¨æ ‡è®°å‡ºæ¥ï¼Œæ‰€ä»¥cå¯¹è±¡ä¹Ÿå°±ä¸ä¼šå›æ”¶ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"æå…µ","uid":"1141464","ctime":1568809195,"ip_address":"","comment_id":134230,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44518451506","product_id":100033601,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰å‡ ä¸ªç–‘é—®ï¼š<br>1ã€Function å‡½æ•°ç±»å‹ä¹Ÿæ˜¯ç»§æ‰¿äºObjectï¼Œå£°æ˜å‡½æ•°åæ˜¯ä¸æ˜¯ä¹Ÿæ˜¯å­˜åœ¨å †ç©ºé—´ä¸­çš„ï¼Œé‚£ä¹ˆæµè§ˆå™¨ç¼–è¯‘å‡½æ•°æ—¶æ˜¯ä¸æ˜¯ä¼šåŒæ—¶åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡å’Œå‘å †ç©ºé—´ä¸­å‹å…¥ä¸€ä¸ªå€¼<br>2ã€function a(){<br>            var b = 1;<br>            var c = {<br>                    d: 2<br>            };<br>     }<br>     å½“ a çš„æ‰§è¡Œä¸Šä¸‹æ–‡é”€æ¯åï¼Œc å¯¹è±¡åœ¨å †ç©ºé—´ä¸­çš„å¼•ç”¨ä¼šè·Ÿç€é”€æ¯ä¹ˆï¼Œå°† c è¿”å›å‡ºå»æˆ–ä¸è¿”å›ï¼Œä¼šä¸ä¼šæ˜¯ä¸ä¸€æ ·çš„æƒ…å†µ","like_count":10,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"æå…µ","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467661,"discussion_content":"å‡½æ•°å°±æ˜¯ä¸€ç§ç‰¹åˆ«çš„å¯¹è±¡ï¼Œæ‰€ä»¥ä¼šä¿å­˜åœ¨å †ä¸Šï¼Œç¼–è¯‘å‡½æ•°æ—¶ï¼Œè¿™ä¸ªå‡½æ•°çš„å·²ç»å­˜åœ¨äºå †ä¸­äº†ï¼\n\nç¬¬äºŒä¸ªé—®é¢˜è¿”å›äº†cå¯¹è±¡çš„è¯ï¼Œé‚£ä¹ˆè¯´æ˜å…¨å±€ç¯å¢ƒå¯¹cå¯¹è±¡æœ‰å¼•ç”¨ï¼Œæ—¢ç„¶æœ‰å¼•ç”¨é‚£ä¹ˆå°±ä¸ä¼šè¢«åƒåœ¾å›æ”¶å™¨æ ‡è®°å‡ºæ¥ï¼Œæ‰€ä»¥cå¯¹è±¡ä¹Ÿå°±ä¸ä¼šå›æ”¶ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568809195,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240795,"user_name":"Aå›","can_delete":false,"product_type":"c1","uid":1940105,"ip_address":"","ucode":"FE96F089C2312C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/9a/89/babe8b52.jpg","comment_is_top":false,"comment_ctime":1597067820,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"23071904300","product_id":100033601,"comment_content":"å¼•æ“åœ¨ç¼–è¯‘æ—¶åšè¯æ³•åˆ†ææ—¶ï¼Œå¦‚æœå‘ç°å†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œå°±è®¤ä¸ºå®ƒæ˜¯é—­åŒ…ï¼Œä¼šåœ¨å †ä¸­åˆ›å»ºä¸€ä¸ªclosureå¯¹è±¡ï¼Œå¹¶æŠŠå…¶ä¸­è®¿é—®çš„æ‰€æœ‰å˜é‡éƒ½æ”¾è¿›è¿™ä¸ªå¯¹è±¡é‡Œï¼Œç„¶åæŠŠè¿™ä¸ªclosureå¯¹è±¡çš„åœ°å€è¿”å›ç»™ä¸Šçº§ä¸Šä¸‹æ–‡çš„å˜é‡ã€‚","like_count":5},{"had_liked":false,"id":330833,"user_name":"Kids See Ghost","can_delete":false,"product_type":"c1","uid":1390088,"ip_address":"","ucode":"DA57BB8327BB01","user_header":"https://static001.geekbang.org/account/avatar/00/15/36/08/c77d8a5a.jpg","comment_is_top":false,"comment_ctime":1642209541,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18822078725","product_id":100033601,"comment_content":"æƒ³æŒ‡å‡ºå‡ ä¸ªé—®é¢˜ã€‚è¿˜å¸Œæœ›ä½œè€…åˆ«æŠŠè¿™æ¡ç•™è¨€å±è”½æ‰ï¼š<br>1. â€œåŸå§‹ç±»å‹çš„æ•°æ®æ˜¯å­˜æ”¾åœ¨æ ˆä¸­ï¼Œå¼•ç”¨ç±»å‹çš„æ•°æ®æ˜¯å­˜æ”¾åœ¨å †ä¸­çš„â€ è¿™æ˜¯ä¸å¯¹çš„ï¼Œè‡³å°‘v8ä¸æ˜¯è¿™æ ·ã€‚é™¤äº†å°çš„æ•´æ•°ä¹‹å¤–(Smi), å…¶ä»–ç±»å‹ï¼ŒåŒ…æ‹¬stringï¼Œéƒ½æ˜¯åœ¨Heapä¸Šã€‚å¦å¤–åƒæ•°å­—ç±»å‹ï¼Œå¾ˆå¤šæ—¶å€™ä¹Ÿæ˜¯åœ¨Heapä¸Šã€‚å…·ä½“å‚è€ƒ: https:&#47;&#47;v8.dev&#47;blog&#47;react-cliff <br>&quot;For small integers in the 31-bit signed integer range, V8 uses a special representation called Smi. Anything that is not a Smi is represented as a HeapObject, which is the address of some entity in memory. &quot;<br>è¿™é‡Œv8çš„æ–‡æ¡£é‡Œé¢ä¹Ÿæœ‰è®²ï¼š https:&#47;&#47;developer.chrome.com&#47;docs&#47;devtools&#47;memory-problems&#47;memory-101&#47;#javascript_object_representation<br><br>&quot;åŸå§‹ç±»å‹çš„èµ‹å€¼ä¼šå®Œæ•´å¤åˆ¶å˜é‡å€¼ï¼Œè€Œå¼•ç”¨ç±»å‹çš„èµ‹å€¼æ˜¯å¤åˆ¶å¼•ç”¨åœ°å€ã€‚&quot; è¿™ä¹Ÿæ˜¯é”™çš„ã€‚å› ä¸ºstring interningçš„å­˜åœ¨ï¼Œstring literalséƒ½å­˜åœ¨constant poolé‡Œï¼Œ`const a = &#39;foo&#39;; const b = `foo` è¿™é‡Œå†…å­˜é‡Œé¢ä¸ä¼šæœ‰ä¸¤ä¸ªå­—ç¬¦ä¸²`foo`, è¢«å¤åˆ¶ä¸æ˜¯stringçš„å€¼ï¼Œè€Œæ˜¯constant pool pointer. <br><br>è¿™äº›åœ¨v8çš„design docé‡Œé¢æœ‰è®²ã€‚https:&#47;&#47;docs.google.com&#47;document&#47;d&#47;11T2CRex9hXxoJwbYqVQ32yIPMh0uouUZLdyrtmMoL44&#47;edit#","like_count":5,"discussions":[{"author":{"id":2346098,"avatar":"https://static001.geekbang.org/account/avatar/00/23/cc/72/8adc3d99.jpg","nickname":"åˆå…­ğŸŒŒ","note":"","ucode":"0595E5AC1A5582","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549371,"discussion_content":"å¯¹çš„ï¼Œå­—ç¬¦ä¸²ä¸æ˜¯å­˜åœ¨æ ˆä¸­ï¼Œå­—ç¬¦ä¸²æ˜¯æ ¹æ®hashå€¼åŒºåˆ†çš„ï¼Œä¾‹å¦‚@9527å’Œ@9528è¿™æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643895692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":195178,"user_name":"æ‰‹æ’•èšŠå­","can_delete":false,"product_type":"c1","uid":1703119,"ip_address":"","ucode":"86BF3E7D6F79A4","user_header":"https://static001.geekbang.org/account/avatar/00/19/fc/cf/7358d1d6.jpg","comment_is_top":false,"comment_ctime":1585144160,"is_pvip":true,"discussion_count":5,"race_medal":0,"score":"18765013344","product_id":100033601,"comment_content":"æ–‡ä¸­å›¾ï¼šã€Šé—­åŒ…çš„äº§ç”Ÿè¿‡ç¨‹ã€‹ä¸­ï¼Œclourse(foo)ä¸­çš„å˜é‡test1æ˜¯ç”±letå£°æ˜çš„<br>åœ¨æ²¡æœ‰é—­åŒ…çš„æ—¶å€™ï¼ŒæŒ‰ç…§ç¬¬ä¹ç« çš„è§£é‡Šï¼Œtest1åº”å­˜äºfooæ‰§è¡Œä¸Šä¸‹æ–‡çš„è¯æ³•ç¯å¢ƒä¸­ï¼Œ<br>é‚£åœ¨å…¶å¤„äºé—­åŒ…å¯¹è±¡çš„æ¡ä»¶ä¸‹ï¼Œæ€ä¹ˆç»´æŒè¿™ç§å—çº§ä½œç”¨åŸŸçš„ç”Ÿæ•ˆå‘¢ï¼Ÿ<br>ä»¥ä¸‹è¿™æ®µä»£ç åœ¨chromeé‡Œæ‰“æ–­ç‚¹ï¼Œscopeé‡Œé¢æ˜¯æ²¡æœ‰ç”ŸæˆClosureè€Œæ˜¯ä¸€ä¸ªBlock,è¯·é—®æ€ä¹ˆç†è§£è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ<br>function foo() {<br>      let x = 1<br>      {<br>        let x = 2<br>        function bar(params) {<br>          return x<br>        }<br>      }<br>      console.log(&#39;a&#39;, x)<br>      return bar<br>    }<br>    const fn = foo()<br>    console.log(&#39;b&#39;, fn())","like_count":4,"discussions":[{"author":{"id":1039904,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/de/20/03130a39.jpg","nickname":"æ²§æµ·ä¸€å£°ç¬‘","note":"","ucode":"5297F2F4736B63","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224166,"discussion_content":"æˆ‘æ¥è§£ç­”ä¸‹ï¼Œé¦–å…ˆå¾—æ˜ç™½è€å¸ˆæ‰€è®²çš„é—­åŒ…çš„æ¦‚å¿µï¼Œå¦å¤–ä¸Šè¿°ä»£ç function foo() {\n    let y = 1\n    {\n      let x = 2\n      function bar(params) {\n        debugger\n        return y\n      }\n    }\n    console.log(&#39;a&#39;, y)\n    return bar\n  }\n  const fn = foo()\n  console.log(&#39;b&#39;, fn())\n\næ”¹å†™æˆè¿™æ ·ä½ å°±æ˜ç™½äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586271832,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1508809,"avatar":"https://static001.geekbang.org/account/avatar/00/17/05/c9/637ca6a6.jpg","nickname":"ç©ºç©ºRyan","note":"","ucode":"37146A69CF5434","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538660,"discussion_content":"åŒé—®ï¼Œæ˜¯æ²¡æœ‰äº§ç”Ÿé—­åŒ…ï¼Œä½†ä¹Ÿä¸æ˜¯åœ¨barè‡ªå·±çš„è¯æ³•ç¯å¢ƒé‡Œæ‰¾åˆ°çš„xï¼Œçœ‹å¼€å‘è€…å·¥å…·çš„ä½œç”¨åŸŸé“¾ï¼Œæ˜¯åœ¨å…¶ä¸Šå±‚çš„blockä½œç”¨åŸŸé‡Œæ‰¾åˆ°äº†xï¼Œæ‰€ä»¥ä¸ºä»€ä¹ˆblocké‡Œçš„å˜é‡xæ²¡æœ‰è¢«é”€æ¯ï¼Œè€Œäº§ç”Ÿäº†è·Ÿé—­åŒ…å·®ä¸å¤šçš„æ•ˆæœå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639475773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2286113,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e2/21/60adf96b.jpg","nickname":"stone","note":"","ucode":"65816E57253D0F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386148,"discussion_content":"æ²¡æœ‰äº§ç”Ÿé—­åŒ…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627442808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1374421,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f8/d5/fd04fcbc.jpg","nickname":"Kite","note":"","ucode":"9DACE8E0EC84A6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":249137,"discussion_content":"æ ¹æ®é—­åŒ…çš„äº§ç”Ÿæ¡ä»¶ï¼Œè¿™é‡Œæ²¡æœ‰äº§ç”Ÿé—­åŒ…ï¼Œå› ä¸º bar åœ¨è‡ªå·±çš„è¯æ³•ç¯å¢ƒé‡Œæ‰¾åˆ°äº†å®ƒéœ€è¦çš„ xã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587910950,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1480732,"avatar":"https://static001.geekbang.org/account/avatar/00/16/98/1c/d7a1439e.jpg","nickname":"KaKaKa","note":"","ucode":"07D1980A71F321","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":219701,"discussion_content":"åŒé—®ï¼ŒçŸ¥é“äº†å›å¤æˆ‘ä¸€ä¸‹~ï¼Œå¤šè°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585796992,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134650,"user_name":"æµªé‡Œè¡ŒèˆŸ","can_delete":false,"product_type":"c1","uid":1430382,"ip_address":"","ucode":"23D7E1C4DD5221","user_header":"https://static001.geekbang.org/account/avatar/00/15/d3/6e/7b6a9d91.jpg","comment_is_top":false,"comment_ctime":1568886563,"is_pvip":false,"replies":[{"id":"51634","content":"macosçš„keynote","user_name":"ä½œè€…å›å¤","user_name_real":"æå…µ","uid":"1141464","ctime":1568888364,"ip_address":"","comment_id":134650,"utype":1}],"discussion_count":3,"race_medal":0,"score":"18748755747","product_id":100033601,"comment_content":"è€å¸ˆï¼Œä¸“æ çš„é…å›¾æ€ä¹ˆç”»å‡ºæ¥çš„","like_count":4,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"æå…µ","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467846,"discussion_content":"macosçš„keynote","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568888364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1202089,"avatar":"https://static001.geekbang.org/account/avatar/00/12/57/a9/9abbe7a4.jpg","nickname":"ç¥ä¸‰å…ƒ","note":"","ucode":"0FB2E7C0683599","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":48065,"discussion_content":"å·§äº†ã€‚åœ¨è¿™é‡åˆ°ä½ äº†","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1573445258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1910075,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/25/3b/a971fc8e.jpg","nickname":"é˜¿æ„Ÿ","note":"","ucode":"7BCB7E44A832D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":213170,"discussion_content":"çœ‹åˆ°æ˜é‡‘2ä¸ªå¤§ç¥ä½œè€…å˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585057254,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204828,"user_name":"Slowdive","can_delete":false,"product_type":"c1","uid":1624537,"ip_address":"","ucode":"AF3429CE47C462","user_header":"https://static001.geekbang.org/account/avatar/00/18/c9/d9/00870178.jpg","comment_is_top":false,"comment_ctime":1586480149,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"14471382037","product_id":100033601,"comment_content":"é—­åŒ…æ˜¯æ”¾å…¥äº†å †ç©ºé—´ï¼Œè¿™æ˜¯åœ¨fooçš„ç¼–è¯‘é˜¶æ®µã€‚åœ¨æ‰§è¡Œsetnameæ—¶ç¼–è¯‘setnameï¼Œè¿™æ—¶å€™ä¹‹å‰æ”¾å…¥å †é‡Œçš„é—­åŒ…åˆæ˜¯æ€ä¹ˆè¢«æ‰¾åˆ°çš„å‘¢ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1374421,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f8/d5/fd04fcbc.jpg","nickname":"Kite","note":"","ucode":"9DACE8E0EC84A6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":249140,"discussion_content":"å¯¹å†…éƒ¨çš„å‡½æ•°åšè¯æ³•æ‰«æçš„æ—¶å€™å°±ç»‘å®šäº†æŸä¸ªæŒ‡é’ˆæŒ‡å‘å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587911056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2510131,"avatar":"https://static001.geekbang.org/account/avatar/00/26/4d/33/b33daca6.jpg","nickname":"enne","note":"","ucode":"A4D21496F16206","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1374421,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f8/d5/fd04fcbc.jpg","nickname":"Kite","note":"","ucode":"9DACE8E0EC84A6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359123,"discussion_content":"å—¯å—¯ï¼Œæœ‰é“ç†ï¼Œä¸‹é¢æ˜¯æˆ‘çš„æƒ³æ³•ã€‚\né‡åˆ°å˜é‡ä¹‹æ‰€ä»¥æœ‰æŸ¥æ‰¾è¿‡ç¨‹ï¼Œæ˜¯å› ä¸ºè¯¥å˜é‡çš„åœ°å€è¿˜æ²¡ç¡®å®šï¼Œéœ€è¦é€šè¿‡ä½œç”¨åŸŸé“¾æ¥æŸ¥æ‰¾æ­£ç¡®çš„åœ°å€ï¼Œä½†æ˜¯é—­åŒ…ä¸­çš„å˜é‡çš„åœ°å€æ˜¯ç¡®å®šçš„ï¼Œå°±ä¸åœ¨éœ€è¦å†æŸ¥æ‰¾ä½œç”¨åŸŸäº†ï¼Œç›´æ¥å°†é—­åŒ…ä¸­åœ°å€å†™åœ¨äº†æ‰§è¡Œä»£ç ä¸­ï¼Œæ­£æ˜¯ç”±äºè¯¥åœ°å€å¼•ç”¨ï¼Œgcæ—¶æ‰ä¸ä¼šå°†é—­åŒ…é”€æ¯ã€‚æ‰€ä»¥ä»å†…å­˜æ¨¡å‹æ¥ç†è§£é—­åŒ…çš„è¯ï¼Œé—­åŒ…å°±æ˜¯å †ä¸­ä¸€å—åœ°å€ï¼Œä¸”è¯¥åœ°å€åªèƒ½è¢«å¼•ç”¨çš„å‡½æ•°æŒæœ‰ã€‚ä»è¯­è¨€è§’åº¦ç†è§£çš„è¯ï¼Œé—­åŒ…æ˜¯å †å†…å­˜+å¼•ç”¨å‡½æ•°ï¼Œä¹Ÿå°±è¯´çš„è¿‡å»äº†ã€‚æ¯•ç«Ÿé™¤äº†å¼•ç”¨å‡½æ•°ï¼Œæ²¡æœ‰è°å¯ä»¥å†è®¿é—®è¿™å—å†…å­˜äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616119430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":249140,"ip_address":""},"score":359123,"extra":""}]}]},{"had_liked":false,"id":129665,"user_name":"mfist","can_delete":false,"product_type":"c1","uid":1373624,"ip_address":"","ucode":"4F99F422C23FB4","user_header":"https://static001.geekbang.org/account/avatar/00/14/f5/b8/9f165f4b.jpg","comment_is_top":false,"comment_ctime":1567212547,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14452114435","product_id":100033601,"comment_content":"1.  dest = JSON.parse(JSON.stringify(src))<br><br>2. function copy(src){<br>  let type = typeof src<br>  if(&#39;object&#39; === type){<br>    let result = Object.create(null)<br>    for(let i in src){<br>        if(typeof src[i] === &#39;object&#39;){<br>          result[i] = copy(src[i])<br>        }else{<br>          result[i] = src[i]<br>        }<br>    }<br>    return result<br>  }<br><br>  return src<br>}<br><br>3. ä»Šæ—¥æ€»ç»“<br>javascriptçš„å†…å­˜æœºåˆ¶ä¸»è¦åŒ…æ‹¬æ•°æ®çš„å­˜æ”¾ã€åƒåœ¾å›æ”¶ã€ä»£ç çš„æ‰§è¡Œä¸‰ä¸ªéƒ¨åˆ† è¿™ä¸€èŠ‚ä¸»è¦ä»‹ç»æ•°æ®çš„å­˜æ”¾ï¼Œjavascriptä½œä¸ºä¸€ç§åŠ¨æ€å¼±ç±»å‹è¯­è¨€ï¼ˆåŠ¨æ€é™æ€æ˜¯æŒ‡ä½¿ç”¨ä¹‹å‰æ˜¯å¦ç¡®å®šæ•°æ®ç±»å‹ï¼Œå¼ºå¼±ç±»å‹æ˜¯æŒ‡æ˜¯å¦æ”¯æŒéšå¼ç±»å‹è½¬æ¢ï¼‰å…¶åœ¨å†…å­˜ç©ºé—´å­˜å‚¨æœ‰ä¸‰ä¸ªéƒ¨åˆ†ï¼šä»£ç ç©ºé—´ï¼ˆå­˜å‚¨å¯æ‰§è¡Œä»£ç ï¼‰ã€æ ˆç©ºé—´ï¼ˆå­˜å‚¨åŸºæœ¬æ•°æ®ç±»å‹ï¼‰ã€å †ç©ºé—´ï¼ˆå¯¹è±¡ï¼‰ã€‚é—­åŒ…(Closure)ä¸­çš„å˜é‡å­˜æ”¾åœ¨å“ªé‡Œå‘¢ï¼Ÿå†…éƒ¨å‡½æ•°å¼•ç”¨å¤–éƒ¨å‡½æ•°å˜é‡æ—¶å€™å¼•æ“ä¼šåœ¨å †ç©ºé—´ä¸­åˆ›å»ºä¸€ä¸ªclosureå¯¹è±¡å­˜æ”¾é—­åŒ…å˜é‡ã€‚<br>","like_count":3},{"had_liked":false,"id":229645,"user_name":"luwei","can_delete":false,"product_type":"c1","uid":1365541,"ip_address":"","ucode":"0960A09F7B8D59","user_header":"https://static001.geekbang.org/account/avatar/00/14/d6/25/a95a2064.jpg","comment_is_top":false,"comment_ctime":1593084267,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10183018859","product_id":100033601,"comment_content":"å¦‚æœå­—ç¬¦ä¸²æ˜¯å­˜å‚¨åœ¨æ ˆå†…çš„ï¼Œå¹¶ä¸”æ ¹æ®æ•°æ®ç±»å‹é‚£é‡Œçš„ä»‹ç»ï¼Œjsä¸­çš„å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œé‚£ä¹ˆvar a = &#39;aaa&#39;; a = &#39;bbb&#39; è¿™ä¸ªæ“ä½œåœ¨æ ˆå†…çš„æ“ä½œæ˜¯ä»€ä¹ˆæ ·çš„","like_count":2},{"had_liked":false,"id":218407,"user_name":"å¼ èŒ","can_delete":false,"product_type":"c1","uid":1377299,"ip_address":"","ucode":"89C08DB3239BE5","user_header":"https://static001.geekbang.org/account/avatar/00/15/04/13/84d35588.jpg","comment_is_top":false,"comment_ctime":1589798469,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10179733061","product_id":100033601,"comment_content":"&#47;&#47; æ·±æ‹·è´å‡½æ•°<br>function deepclone(obj) {<br>  if (typeof obj !== &#39;object&#39; || obj == null) {<br>    return obj; <br>  }<br>  const result = obj instanceof Array ? [] : {};<br>  for (const key in obj) {<br>    if (obj.hasOwnProperty(key)) {<br>      result[key] = deepclone(obj[key]);<br>    }<br>  }<br>  return result;<br>}","like_count":2,"discussions":[{"author":{"id":2864708,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/ibUJTHFt6ZooQnic5RpYOgk4VlbJiasIoichFkyTsTysZcUwXhFE5J7UFpFy1CibFicUgDJI7cc6T1icUlX0t4bDt8acA/132","nickname":"Geek_6c9269","note":"","ucode":"7FAFFCCAFDABEA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538726,"discussion_content":"ä¸Šè¾¹çš„è§£ç­”æ²¡çœ‹æ‡‚ï¼Œä½ è¿™ä¸ªï¼Œçœ‹æ‡‚äº†ï¼Œè°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639493513,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131794,"user_name":"Elmer","can_delete":false,"product_type":"c1","uid":1233975,"ip_address":"","ucode":"61FC9CE0BA5BC1","user_header":"https://static001.geekbang.org/account/avatar/00/12/d4/37/528a43e7.jpg","comment_is_top":false,"comment_ctime":1567909640,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10157844232","product_id":100033601,"comment_content":"è¯·é—®ä»å†…å­˜è§’åº¦å¦‚ä½•åˆ†æé—­åŒ…æ˜¯å¦‚ä½•è¿›è¡Œé“¾å¼æŸ¥æ‰¾å˜é‡çš„ã€‚<br>æ¯”å¦‚ï¼š<br>function test () {<br> var a = 1;<br>return function () {var b=2; return function(){console.log(a,b)}}<br>}<br>test()()()ä¼šç­”åº”å‡º1 2 <br>ä»å†…å­˜çš„è§’åº¦å¦‚ä½•åˆ†æ1æ˜¯æ€ä¹ˆæ‰¾åˆ°çš„ï¼Œæ‰æƒ³é—­åŒ…ä¹Ÿæœ‰é“¾çš„æœºåˆ¶ï¼Ÿ","like_count":1},{"had_liked":false,"id":217766,"user_name":"å¥½å¥½å¥½","can_delete":false,"product_type":"c1","uid":1546855,"ip_address":"","ucode":"EE1878ADC840B6","user_header":"https://static001.geekbang.org/account/avatar/00/17/9a/67/73f384f9.jpg","comment_is_top":false,"comment_ctime":1589608183,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5884575479","product_id":100033601,"comment_content":"è€å¸ˆï¼Œé—­åŒ…çš„ä¾‹å­ï¼Œç”¨letå’Œconst å£°æ˜çš„å˜é‡ä¸æ˜¯åº”è¯¥æ”¾åœ¨è¯æ³•ç¯å¢ƒä¸­å—","like_count":1},{"had_liked":false,"id":201760,"user_name":"æ²§æµ·ä¸€å£°ç¬‘","can_delete":false,"product_type":"c1","uid":1039904,"ip_address":"","ucode":"5297F2F4736B63","user_header":"https://static001.geekbang.org/account/avatar/00/0f/de/20/03130a39.jpg","comment_is_top":false,"comment_ctime":1585833964,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5880801260","product_id":100033601,"comment_content":"é†é†çŒé¡¶å•Š æ„Ÿè°¢è€å¸ˆ","like_count":1},{"had_liked":false,"id":181494,"user_name":"å­Ÿè±ª","can_delete":false,"product_type":"c1","uid":1427958,"ip_address":"","ucode":"644615E6AE7884","user_header":"https://static001.geekbang.org/account/avatar/00/15/c9/f6/bb90d35f.jpg","comment_is_top":false,"comment_ctime":1582552004,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5877519300","product_id":100033601,"comment_content":"ä¸€ä¸ªå°é—®é¢˜è¯·æ•™ä¸‹ï¼š<br>å‚è€ƒç« èŠ‚ï¼š09 | å—çº§ä½œç”¨åŸŸï¼švarç¼ºé™·ä»¥åŠä¸ºä»€ä¹ˆè¦å¼•å…¥letå’Œconstï¼Ÿ<br>å›¾ï¼šé—­åŒ…çš„äº§ç”Ÿè¿‡ç¨‹ï¼Œconst test2 å˜é‡åº”è¯¥åœ¨è¯æ³•ç¯å¢ƒä¸­ï¼Œè€Œä¸æ˜¯åœ¨å˜é‡ç¯å¢ƒä¸­","like_count":1,"discussions":[{"author":{"id":1742972,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/98/7c/07e6e7b7.jpg","nickname":"Tim","note":"","ucode":"F51593465157E4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":197254,"discussion_content":"ä»”ç»†ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583415362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":171942,"user_name":"Tim","can_delete":false,"product_type":"c1","uid":1742972,"ip_address":"","ucode":"F51593465157E4","user_header":"https://static001.geekbang.org/account/avatar/00/1a/98/7c/07e6e7b7.jpg","comment_is_top":false,"comment_ctime":1579056504,"is_pvip":false,"replies":[{"id":"66665","content":"çœ‹æ¥æˆ‘æœ‰å¿…è¦é‡æ–°è§£é‡Šä¸€ä¸‹é™æ€ç±»å‹å’ŒåŠ¨æ€ç±»å‹ï¼Œå¼ºç±»å‹å’Œå¼±ç±»å‹çš„åŒºåˆ«äº†ï¼<br><br>è¦ç†è§£ä¸€é—¨è¯­è¨€æ˜¯é™æ€ç±»å‹è¿˜æ˜¯åŠ¨æ€ç±»å‹ï¼Œæœ€æœ¬è´¨çš„åˆ¤æ–­æ–¹æ³•æ˜¯çœ‹åœ¨ä»€ä¹ˆæ—¶é—´æ®µå¯¹ç±»å‹å°±è¡Œæ£€æµ‹ï¼Œé™æ€ç±»å‹çš„è¯­è¨€ä¼šåœ¨ç¼–è¯‘é˜¶æ®µå°±è¡Œæ£€æµ‹ï¼ŒåŠ¨æ€ç±»å‹çš„è¯­è¨€ä¼šåœ¨è¿è¡Œæ—¶åšç±»å‹æ£€æµ‹ï¼<br><br>æ¯”å¦‚C&#47;C++æ˜¯é™æ€è¯­è¨€ï¼Œä¼šåœ¨ç¼–è¯‘é˜¶æ®µå¯¹ç±»å‹å°±è¡Œæ£€æµ‹ï¼Œå¦‚æœæ£€æµ‹åˆ°ä¸åˆæ³•çš„è¯­è¨€ï¼Œç¼–è¯‘é˜¶æ®µå°±ä¼šæŠ¥é”™ï¼<br><br>è€ŒJavaScriptå°±æ˜¯åŠ¨æ€è¯­è¨€ï¼Œç¼–è¯‘é˜¶æ®µä¸ä¼šåšå¤ªå¤šç±»å‹æ£€æµ‹ï¼Œè€Œæ˜¯ç­‰åˆ°è¿è¡Œæ—¶å†æ£€æµ‹å˜é‡çš„å…·ä½“ç±»å‹ï¼Œè¿™æ˜¯åŠ¨æ€è¯­è¨€æ€§èƒ½ä½äºé™æ€è¯­è¨€çš„ä¸€ä¸ªå…³é”®çš„åœ°æ–¹ã€‚V8å¯¹è¿™ç§åŠ¨æ€æ€§åšäº†å¤§é‡çš„ä¼˜åŒ–ï¼<br><br>è¦ç†è§£ä¸€é—¨è¯­è¨€æ˜¯å¼±ç±»å‹è¿˜æ˜¯å¼ºç±»å‹ï¼Œçœ‹å˜é‡åœ¨è¿è¡Œæ—¶ï¼Œæ˜¯å¦èƒ½å¤Ÿæ”¹å˜ç±»å‹ï¼Œæ¯”å¦‚C&#47;c++&#47;javaScript,éƒ½å¯ä»¥åœ¨è¿è¡Œæ—¶å°†ä¸€ç§ç±»å‹çš„å˜é‡ï¼Œæ”¹æˆå¦å¤–ä¸€ç§ç±»å‹çš„ï¼Œæ‰€ä»¥ä»–ä»¬æ˜¯å¼±ç±»å‹ï¼Œè€ŒJAVAå°±ä¸èƒ½è¿è¡Œè¿‡ç¨‹ä¸­ä¿®æ”¹å˜é‡ç±»å‹ï¼Œæ‰€ä»¥æ˜¯é™æ€è¯­è¨€ï¼<br><br>ä½ å†ç»“åˆè¿™ä¸¤ç‚¹çœ‹æ–‡ä¸­çš„å†…å®¹ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"æå…µ","uid":"1141464","ctime":1579062525,"ip_address":"","comment_id":171942,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5874023800","product_id":100033601,"comment_content":"åŸæ–‡ï¼š&quot;å¼±ç±»å‹ : æ„å‘³ç€ä½ ä¸éœ€è¦å‘Šè¯‰ JavaScript å¼•æ“è¿™ä¸ªæˆ–é‚£ä¸ªå˜é‡æ˜¯ä»€ä¹ˆæ•°æ®ç±»å‹ï¼ŒJavaScript å¼•æ“åœ¨è¿è¡Œä»£ç çš„æ—¶å€™è‡ªå·±ä¼šè®¡ç®—å‡ºæ¥ã€‚åŠ¨æ€ : æ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªå˜é‡ä¿å­˜ä¸åŒç±»å‹çš„æ•°æ®ã€‚&quot;<br><br>ä¸ä¸Šæ–‡å¯¹ã€Œå¼±ç±»å‹ã€ã€ã€ŒåŠ¨æ€ã€çš„è§£é‡Šæ­£å¥½ç›¸åäº†ï¼Œåœ¨ä¸Šæ–‡è§£é‡Šä¸­æåˆ°äº†ï¼Œä¸€ä¸ªå¸ƒå°”ç±»å‹çš„å˜é‡å¯ä»¥è¢«ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹å˜é‡èµ‹å€¼ï¼Œä¼šè¿›è¡Œã€Œéšå¼è½¬æ¢ã€ï¼Œè¿™å«åšã€Œå¼±ç±»å‹è¯­è¨€ã€ã€‚è€ŒåŠ¨æ€è¯­è¨€è€å¸ˆçš„è§£é‡Šæ˜¯ä¸éœ€è¦å®šä¹‰å˜é‡æ˜¯ä»€ä¹ˆæ•°æ®ç±»å‹ã€‚<br>æ‰€ä»¥è€å¸ˆæ–‡ä¸­å¯¹è¿™ä¸¤ç§æ¦‚å¿µçš„ã€Œæ€»ç»“ã€ï¼ˆä¹Ÿå°±æ˜¯æˆ‘è¯„è®ºå¼•ç”¨çš„åŸæ–‡ï¼‰å¼„åäº†ï¼Œä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹ã€‚<br>","like_count":1,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"æå…µ","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481556,"discussion_content":"çœ‹æ¥æˆ‘æœ‰å¿…è¦é‡æ–°è§£é‡Šä¸€ä¸‹é™æ€ç±»å‹å’ŒåŠ¨æ€ç±»å‹ï¼Œå¼ºç±»å‹å’Œå¼±ç±»å‹çš„åŒºåˆ«äº†ï¼\n\nè¦ç†è§£ä¸€é—¨è¯­è¨€æ˜¯é™æ€ç±»å‹è¿˜æ˜¯åŠ¨æ€ç±»å‹ï¼Œæœ€æœ¬è´¨çš„åˆ¤æ–­æ–¹æ³•æ˜¯çœ‹åœ¨ä»€ä¹ˆæ—¶é—´æ®µå¯¹ç±»å‹å°±è¡Œæ£€æµ‹ï¼Œé™æ€ç±»å‹çš„è¯­è¨€ä¼šåœ¨ç¼–è¯‘é˜¶æ®µå°±è¡Œæ£€æµ‹ï¼ŒåŠ¨æ€ç±»å‹çš„è¯­è¨€ä¼šåœ¨è¿è¡Œæ—¶åšç±»å‹æ£€æµ‹ï¼\n\næ¯”å¦‚C/C++æ˜¯é™æ€è¯­è¨€ï¼Œä¼šåœ¨ç¼–è¯‘é˜¶æ®µå¯¹ç±»å‹å°±è¡Œæ£€æµ‹ï¼Œå¦‚æœæ£€æµ‹åˆ°ä¸åˆæ³•çš„è¯­è¨€ï¼Œç¼–è¯‘é˜¶æ®µå°±ä¼šæŠ¥é”™ï¼\n\nè€ŒJavaScriptå°±æ˜¯åŠ¨æ€è¯­è¨€ï¼Œç¼–è¯‘é˜¶æ®µä¸ä¼šåšå¤ªå¤šç±»å‹æ£€æµ‹ï¼Œè€Œæ˜¯ç­‰åˆ°è¿è¡Œæ—¶å†æ£€æµ‹å˜é‡çš„å…·ä½“ç±»å‹ï¼Œè¿™æ˜¯åŠ¨æ€è¯­è¨€æ€§èƒ½ä½äºé™æ€è¯­è¨€çš„ä¸€ä¸ªå…³é”®çš„åœ°æ–¹ã€‚V8å¯¹è¿™ç§åŠ¨æ€æ€§åšäº†å¤§é‡çš„ä¼˜åŒ–ï¼\n\nè¦ç†è§£ä¸€é—¨è¯­è¨€æ˜¯å¼±ç±»å‹è¿˜æ˜¯å¼ºç±»å‹ï¼Œçœ‹å˜é‡åœ¨è¿è¡Œæ—¶ï¼Œæ˜¯å¦èƒ½å¤Ÿæ”¹å˜ç±»å‹ï¼Œæ¯”å¦‚C/c++/javaScript,éƒ½å¯ä»¥åœ¨è¿è¡Œæ—¶å°†ä¸€ç§ç±»å‹çš„å˜é‡ï¼Œæ”¹æˆå¦å¤–ä¸€ç§ç±»å‹çš„ï¼Œæ‰€ä»¥ä»–ä»¬æ˜¯å¼±ç±»å‹ï¼Œè€ŒJAVAå°±ä¸èƒ½è¿è¡Œè¿‡ç¨‹ä¸­ä¿®æ”¹å˜é‡ç±»å‹ï¼Œæ‰€ä»¥æ˜¯é™æ€è¯­è¨€ï¼\n\nä½ å†ç»“åˆè¿™ä¸¤ç‚¹çœ‹æ–‡ä¸­çš„å†…å®¹ï¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1579062525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1742972,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/98/7c/07e6e7b7.jpg","nickname":"Tim","note":"","ucode":"F51593465157E4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":197267,"discussion_content":"æ„Ÿè°¢è€å¸ˆçš„è€å¿ƒè§£é‡Šï¼è¿™ä¸‹å½»åº•æ¸…æ¥šäº†ï¼Œè¿˜æ˜¯æˆ‘æœ¬èº«çš„åŸºç¡€å·®ï¼Œç†è§£ä¸å¤Ÿæ·±åˆ»å®¹æ˜“å¼„æ··ã€‚è¾›è‹¦è€å¸ˆäº†ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583415549,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":165459,"user_name":"è¡Œäº‘æµæ°´","can_delete":false,"product_type":"c1","uid":1374414,"ip_address":"","ucode":"3CCE8B9902005A","user_header":"https://static001.geekbang.org/account/avatar/00/14/f8/ce/495dfc91.jpg","comment_is_top":false,"comment_ctime":1577240489,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"5872207785","product_id":100033601,"comment_content":"åœ¨çœ‹çš„æ—¶å€™æœ‰ç‚¹ç–‘æƒ‘ï¼Œå¸Œæœ›è€å¸ˆå¯ä»¥è§£ç­”ä¸‹ï¼š<br>1. å­—ç¬¦ä¸²ç±»å‹çš„å€¼ï¼Œå¦‚æœå¾ˆå¤§çš„ä¹Ÿæ˜¯å­˜åœ¨æ ˆä¸­å˜›ï¼Ÿ<br>2. ä¾‹å¦‚:  let a = {  b:1 }     a.c = {   d:44444444444444444 } <br>å®šä¹‰äº†ä¸€ä¸ªå¯¹è±¡èµ‹å€¼ç»™ a ,é‚£ä¹ˆaå°±æŒ‡å‘äº†å †å†…å­˜ä¸­ä¸€æ®µç©ºé—´ã€‚åœ¨åé¢é€šè¿‡ a.c èµ‹å€¼äº†ä¸€ä¸ªå¾ˆå¤§çš„å€¼ã€‚<br>æˆ‘çš„ç–‘æƒ‘æ˜¯:<br>1. åŸæ¥çš„ aæŒ‡å‘çš„ç©ºé—´ä¸å¤Ÿç”¨çš„è¯æ˜¯æ€ä¹ˆå¤„ç†ï¼Ÿ<br>2. å¦‚æœæ˜¯åŠ¨æ€æ·»åŠ äº†å†…å­˜çš„è¯,åŸæ¥a ä¿å­˜çš„åœ°å€æŒ‡é’ˆï¼Œè¿˜å¯ä»¥æŒ‡å‘åé¢åˆ†é…çš„å†…å­˜å˜›ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1624537,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c9/d9/00870178.jpg","nickname":"Slowdive","note":"","ucode":"AF3429CE47C462","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":227243,"discussion_content":"å­—ç¬¦ä¸²ä¸åœ¨æ ˆä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586480552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2707720,"avatar":"https://static001.geekbang.org/account/avatar/00/29/51/08/66402eab.jpg","nickname":"ndocrm","note":"","ucode":"5162FC0A1D287D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1624537,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c9/d9/00870178.jpg","nickname":"Slowdive","note":"","ucode":"AF3429CE47C462","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386454,"discussion_content":"é‚£è¯·é—®å­—ç¬¦ä¸²å€¼æ˜¯å‚¨å­˜åœ¨å“ªçš„å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627600275,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":227243,"ip_address":""},"score":386454,"extra":""},{"author":{"id":2346098,"avatar":"https://static001.geekbang.org/account/avatar/00/23/cc/72/8adc3d99.jpg","nickname":"åˆå…­ğŸŒŒ","note":"","ucode":"0595E5AC1A5582","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2707720,"avatar":"https://static001.geekbang.org/account/avatar/00/29/51/08/66402eab.jpg","nickname":"ndocrm","note":"","ucode":"5162FC0A1D287D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549370,"discussion_content":"å­—ç¬¦ä¸²æ˜¯å­˜åœ¨å †ä¸­çš„ï¼Œæ‰€æœ‰è¯­è¨€çš„å­—ç¬¦ä¸²éƒ½æ˜¯å­˜åœ¨å †ä¸­çš„ï¼Œæµ®ç‚¹æ•°å’Œå¤§æ•´æ•°ä¹Ÿæ˜¯å­˜åœ¨å †ä¸­çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643895585,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":386454,"ip_address":""},"score":549370,"extra":""}]}]},{"had_liked":false,"id":159112,"user_name":"å¤§æ ‘","can_delete":false,"product_type":"c1","uid":1390549,"ip_address":"","ucode":"0B4C9091520DFA","user_header":"https://static001.geekbang.org/account/avatar/00/15/37/d5/22299804.jpg","comment_is_top":false,"comment_ctime":1575539356,"is_pvip":false,"replies":[{"id":"60873","content":"è¿™å—æˆ‘ä¼šåœ¨ä¸‹ä¸ªv8ä¸“æ æ¥æ·±åº¦åˆ†æ","user_name":"ä½œè€…å›å¤","user_name_real":"æå…µ","uid":"1141464","ctime":1575552084,"ip_address":"","comment_id":159112,"utype":1}],"discussion_count":1,"race_medal":1,"score":"5870506652","product_id":100033601,"comment_content":"è€å¸ˆèƒ½åˆ†æä¸€ä¸‹  ç®­å¤´å‡½æ•°çš„å†…å­˜æ¨¡å‹å—  å› ä¸ºä½ åœ¨æ–‡ç« é‡Œæåˆ°è¿‡   ç®­å¤´å‡½æ•°ä¸åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡","like_count":1,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"æå…µ","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476953,"discussion_content":"è¿™å—æˆ‘ä¼šåœ¨ä¸‹ä¸ªv8ä¸“æ æ¥æ·±åº¦åˆ†æ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575552084,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130129,"user_name":"å­æ›°","can_delete":false,"product_type":"c1","uid":1161256,"ip_address":"","ucode":"34127192DD8876","user_header":"https://static001.geekbang.org/account/avatar/00/11/b8/28/8c83d109.jpg","comment_is_top":false,"comment_ctime":1567388194,"is_pvip":false,"replies":[{"id":"48589","content":"ç›´æ¥è½¬æ¢json<br>å†è½¬æ¢å›æ¥ <br>è¿™ä¸ªæ²¡é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"æå…µ","uid":"1141464","ctime":1567414743,"ip_address":"","comment_id":130129,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5862355490","product_id":100033601,"comment_content":"let jack = {<br>    name: &quot;jack.ma&quot;,<br>    age: 40,<br>    like: {<br>        dog: {<br>            color: &#39;black&#39;,<br>            age: 3,<br>        },<br>        cat: {<br>            color: &#39;white&#39;,<br>            age: 2<br>        }<br>    }<br>}<br>function copy(src) {<br>    let dest = JSON.parse(JSON.stringify(src));<br>    &#47;&#47; å®ç°æ‹·è´ä»£ç ï¼Œå°† src çš„å€¼å®Œæ•´åœ°æ‹·è´ç»™ dest<br>    &#47;&#47; åœ¨è¿™é‡Œå®ç°<br>    return dest<br>}<br>let jack2 = copy(jack)<br>&#47;&#47; æ¯”å¦‚ä¿®æ”¹ jack2 ä¸­çš„å†…å®¹ï¼Œä¸ä¼šå½±å“åˆ° jack ä¸­çš„å€¼<br>jack2.like.dog.color = &quot;green&quot;<br>console.log(jack.like.dog.color) &#47;&#47; æ‰“å°å‡ºæ¥çš„åº”è¯¥æ˜¯ &quot;black&quot;<br>","like_count":1,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"æå…µ","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465824,"discussion_content":"ç›´æ¥è½¬æ¢json\nå†è½¬æ¢å›æ¥ \nè¿™ä¸ªæ²¡é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567414743,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129933,"user_name":"æ½®æ±","can_delete":false,"product_type":"c1","uid":1042208,"ip_address":"","ucode":"F5E4F6DF9CEA9E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e7/20/70a95f94.jpg","comment_is_top":false,"comment_ctime":1567329303,"is_pvip":false,"discussion_count":0,"race_medal":4,"score":"5862296599","product_id":100033601,"comment_content":"function deepCopy (p, c){<br>            c = c || {}<br>            for (var i in p) {<br>                if (p.hasOwnProperty(i)) {<br>                    if (typeof p[i] === &#39;object&#39;) {<br>                        c[i] = Array.isArray(p[i]) ? [] : {}<br>                        deepCopy(p[i], c[i])<br>                    } else {<br>                        c[i] = p[i]<br>                    }<br>                }<br>            }<br>            return c<br>        }","like_count":1},{"had_liked":false,"id":349659,"user_name":"é’å±±ä¸æ”¹ç»¿æ°´é•¿æµ","can_delete":false,"product_type":"c1","uid":1800406,"ip_address":"","ucode":"A2F094618F569A","user_header":"https://static001.geekbang.org/account/avatar/00/1b/78/d6/c920f2a8.jpg","comment_is_top":false,"comment_ctime":1656210280,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1656210280","product_id":100033601,"comment_content":"å †ç©ºé—´çš„å†…å®¹ä¼šé”€æ¯å˜›ï¼Œä½•æ—¶é”€æ¯å‘¢ã€‚","like_count":0},{"had_liked":false,"id":346303,"user_name":"å…‰ç©¿è¿‡æ£®æ—","can_delete":false,"product_type":"c1","uid":2575992,"ip_address":"","ucode":"446ED739536427","user_header":"https://static001.geekbang.org/account/avatar/00/27/4e/78/1b1bc18e.jpg","comment_is_top":false,"comment_ctime":1653011108,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1653011108","product_id":100033601,"comment_content":"æœ‰ä¸€ä¸ªç–‘é—® è¿˜æ˜¯ä¹‹å‰å“ªä¸ªæ¡ˆä¾‹ï¼Œåœ¨15è¡Œæ·»åŠ äº† myName = &#39;æµ‹è¯•&#39;ï¼Œæœ‰ä¸ªç–‘é—®æ˜¯ï¼šè¿è¡Œåˆ°è¿™ä¸€è¡Œçš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯åˆ° å †ä¸­closure(foo)æŒ‡å‘çš„åœ°å€ä¿®æ”¹äº†myNameä¹ˆï¼Ÿ<br>function foo() {<br>  var myName = &quot;æå®¢æ—¶é—´&quot;<br>  let test1 = 1<br>  const test2 = 2<br>  var innerBar = { <br>      setName:function(newName){<br>          myName = newName<br>      },<br>      getName:function(){<br>          console.log(test1)<br>          return myName<br>      }<br>  }<br>  myName = &#39;æµ‹è¯•&#39;<br><br>  return innerBar<br>}<br>var bar = foo()<br>bar.setName(&quot;æå®¢é‚¦&quot;)<br>bar.getName()<br>console.log(bar.getName())","like_count":0},{"had_liked":false,"id":344889,"user_name":"è‹‘","can_delete":false,"product_type":"c1","uid":1378973,"ip_address":"","ucode":"01ED493593C362","user_header":"https://static001.geekbang.org/account/avatar/00/15/0a/9d/afddda4c.jpg","comment_is_top":false,"comment_ctime":1651836257,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651836257","product_id":100033601,"comment_content":"function deepCopy(obj) {<br>        let dest = typeof obj === &#39;array&#39; ? [] : {}<br>        for (const objKey in obj) {<br>            if (Object(obj[objKey]) !== obj[objKey]) {<br>                dest[objKey] = obj[objKey]<br>            } else if (typeof obj[objKey] === &#39;function&#39;) {<br>                dest[objKey] = obj[objKey]<br>            } else {<br>                dest[objKey] = deepCopy(obj[objKey])<br>            }<br>        }<br><br>        return dest<br>    }","like_count":0},{"had_liked":false,"id":343655,"user_name":"îˆ ÏƒÏ…Î½ÎµÎ¯Î´Î·ÏƒÎ·","can_delete":false,"product_type":"c1","uid":2662532,"ip_address":"","ucode":"1056E44F8290F9","user_header":"https://static001.geekbang.org/account/avatar/00/28/a0/84/ab635579.jpg","comment_is_top":false,"comment_ctime":1650969187,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1650969187","product_id":100033601,"comment_content":"çœ‹èµ·æ¥é—­åŒ…æ˜¯æœ‰äº§ç”Ÿæ¡ä»¶çš„ï¼Œä½†æ˜¯çŠ€ç‰›ä¹¦é‡Œé¢è¯´åˆ°ï¼šä»æŠ€æœ¯è§’åº¦æ¥è®²ï¼Œæ‰€æœ‰çš„Javascriptå‡½æ•°éƒ½æ˜¯é—­åŒ…ï¼šä»–ä»¬éƒ½æ˜¯å¯¹è±¡ï¼Œä»–ä»¬éƒ½å…³è”åˆ°ä½œç”¨åŸŸé“¾ã€‚   è€å¸ˆå¯¹å¾…è¿™ä¸ªæ€ä¹ˆçœ‹å‘¢","like_count":0},{"had_liked":false,"id":341287,"user_name":"å°é£ä¾ î­","can_delete":false,"product_type":"c1","uid":1233325,"ip_address":"","ucode":"55650D7AB15AAF","user_header":"https://static001.geekbang.org/account/avatar/00/12/d1/ad/1aed3dec.jpg","comment_is_top":false,"comment_ctime":1649502388,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649502388","product_id":100033601,"comment_content":"å¸Œæœ›è€å¸ˆèƒ½ç»ƒä¸€ç»ƒnullçš„å‘éŸ³ï¼Œè·¯ä¸Šå¬çš„æ—¶å€™ï¼ŒçœŸå°±è¿·èŒ«äº†ï¼Œä¸çŸ¥é“è€å¸ˆè¯´çš„nullæ˜¯ä¸ªä»€ä¹ˆ","like_count":0},{"had_liked":false,"id":332964,"user_name":"åˆå…­ğŸŒŒ","can_delete":false,"product_type":"c1","uid":2346098,"ip_address":"","ucode":"0595E5AC1A5582","user_header":"https://static001.geekbang.org/account/avatar/00/23/cc/72/8adc3d99.jpg","comment_is_top":false,"comment_ctime":1643895471,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1643895471","product_id":100033601,"comment_content":"å­—ç¬¦ä¸²çš„å€¼åº”è¯¥ä¸æ˜¯å­˜åœ¨æ ˆä¸­çš„ï¼ŒJavaScriptæ ˆä¸­å­˜ä¸€ä¸ªå˜é‡æœ€å¤§çº¦ä¸º700KBå·¦å³ï¼Œä½†æ˜¯å¾ˆå¤šbase64å­—ç¬¦ä¸²åŸºæœ¬éƒ½åœ¨å‡ MBï¼Œæ‰€ä»¥å­—ç¬¦ä¸²æ˜¯å­˜åœ¨å †ä¸­çš„ï¼Œè€Œä¸”æ‰€æœ‰è¯­è¨€çš„å­—ç¬¦ä¸²åŸºæœ¬éƒ½ä¸å¯èƒ½å­˜åœ¨æ ˆä¸­ï¼ŒåŒ…æ‹¬é•¿æ•´å½¢å’Œæµ®ç‚¹å‹ä¹Ÿåº”è¯¥æ˜¯å­˜åœ¨å †ä¸­çš„","like_count":0},{"had_liked":false,"id":323486,"user_name":"Laymanà½¼","can_delete":false,"product_type":"c1","uid":2853337,"ip_address":"","ucode":"205C247F683132","user_header":"https://static001.geekbang.org/account/avatar/00/2b/89/d9/a6f8645b.jpg","comment_is_top":false,"comment_ctime":1637925436,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637925436","product_id":100033601,"comment_content":"è€å¸ˆJavaScriptæœ‰å †å’Œæ ˆçš„è¯´æ³•å˜›ï¼Œå¼•ç”¨ç±»å‹çš„æ•°æ®ä¸æ˜¯å­˜å‚¨åœ¨window,å¦‚æœåˆ†æ ˆå’Œå †é‚£ä¹ˆwindowå‚¨å­˜åœ¨å“ªï¼Ÿ","like_count":0},{"had_liked":false,"id":314670,"user_name":"A LETTER","can_delete":false,"product_type":"c1","uid":2752142,"ip_address":"","ucode":"56C82015945CDE","user_header":"https://static001.geekbang.org/account/avatar/00/29/fe/8e/895f05a2.jpg","comment_is_top":false,"comment_ctime":1633318959,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633318959","product_id":100033601,"comment_content":"function deepClone(origin) {<br> let newObj = origin instanceOf Array ? [] : {}<br> for(i in origin){<br>   typeOf i === &#39;object&#39; ? deepClone(i) : newObj[i] = origin[i]<br> }<br>return newObj<br>}","like_count":0},{"had_liked":false,"id":313887,"user_name":"å¼ å®—æ™ºZZZ","can_delete":false,"product_type":"c1","uid":1295863,"ip_address":"","ucode":"DEC9309E266F7B","user_header":"https://static001.geekbang.org/account/avatar/00/13/c5/f7/4a0d08e9.jpg","comment_is_top":false,"comment_ctime":1632729178,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632729178","product_id":100033601,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜ï¼Œâ€œé€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥ç”»å‡ºæ‰§è¡Œåˆ° foo å‡½æ•°ä¸­â€œreturn innerBarâ€è¯­å¥æ—¶çš„è°ƒç”¨æ ˆçŠ¶æ€â€ï¼Œè¿™é‡Œæ‰§è¡Œåˆ°returnä½†è¿˜æ²¡é”€æ¯ä¸Šä¸‹æ–‡ï¼ŒmyNameå’Œtest1ä¸ºä»€ä¹ˆä¸åœ¨ä¸Šä¸‹æ–‡é‡Œï¼Ÿ","like_count":0},{"had_liked":false,"id":307147,"user_name":"Geek_bing","can_delete":false,"product_type":"c1","uid":2064266,"ip_address":"","ucode":"4000A30EDAF71C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/vkqibkINia6dxVOv5zia2zbkmQbrJUsQw8vDfiauib2DfyvJQ4PDUC7M8p4vqFiaQj70yYwIO8JlHFA450KPmgpsXlsw/132","comment_is_top":false,"comment_ctime":1628909615,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628909615","product_id":100033601,"comment_content":"è€å¸ˆï¼Œå½“fooå‡½æ•°å‡ºæ ˆï¼Œè¢«é”€æ¯åï¼Œæ–­å¼€äº†å¯¹é—­åŒ…closure(foo)çš„å¼•ç”¨ã€‚ä½†æ˜¯è¿”å›çš„å¯¹è±¡innerBarä¸­çš„ä¸¤ä¸ªå‡½æ•°ä¿ç•™ç€å¯¹å †ä¸­closure(foo)çš„å¼•ç”¨ã€‚é—®é¢˜æ˜¯å †ä¸­çš„æ•°æ®éš¾é“ä¸æ˜¯éšç€å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹Ÿè·Ÿç€é”€æ¯å—ï¼Ÿè¿˜æ˜¯åªæ˜¯æ ˆä¸­çš„æ•°æ®ä¼šè¢«é”€æ¯ï¼Ÿ","like_count":0},{"had_liked":false,"id":305444,"user_name":"nemo","can_delete":false,"product_type":"c1","uid":2548483,"ip_address":"","ucode":"AB638EE8FC7CE0","user_header":"https://static001.geekbang.org/account/avatar/00/26/e3/03/fc666777.jpg","comment_is_top":false,"comment_ctime":1627976667,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627976667","product_id":100033601,"comment_content":"è¯·é—®è€å¸ˆï¼Œè°ƒç”¨æ ˆä¸­çš„æ‰§è¡Œä¸Šä¸‹æ–‡åœ¨å†…å­˜ä¸­æ˜¯è¿ç»­å­˜å‚¨çš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":302156,"user_name":"æç‘äº‘","can_delete":false,"product_type":"c1","uid":1286542,"ip_address":"","ucode":"66ACCFEC32909E","user_header":"https://static001.geekbang.org/account/avatar/00/13/a1/8e/42aec19f.jpg","comment_is_top":false,"comment_ctime":1626100771,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626100771","product_id":100033601,"comment_content":"è€å¸ˆ æ‰§è¡Œä¸Šä¸‹æ–‡å’Œä½œç”¨åŸŸæ€»æ˜¯è§£é‡Šä¸æ¸…æ¥š","like_count":0},{"had_liked":false,"id":297880,"user_name":"èŠ±å„¿ä¸å°‘å¹´","can_delete":false,"product_type":"c1","uid":1046304,"ip_address":"","ucode":"E2D685737E4F1B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/20/e2dfa9c2.jpg","comment_is_top":false,"comment_ctime":1623829945,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623829945","product_id":100033601,"comment_content":"ï¼Œç”±äºæ˜¯å†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œæ‰€ä»¥ JavaScript å¼•æ“åˆ¤æ–­è¿™æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œäºæ˜¯åœ¨å †ç©ºé—´åˆ›å»ºæ¢ä¸€ä¸ªâ€œclosure(foo)â€çš„å¯¹è±¡<br><br>ã€Œåˆ›å»ºæ¢ã€å¤šäº†ä¸€ä¸ª&#39; æ¢ &#39;å§","like_count":0},{"had_liked":false,"id":297694,"user_name":"soon","can_delete":false,"product_type":"c1","uid":2361679,"ip_address":"","ucode":"148122663905F2","user_header":"https://static001.geekbang.org/account/avatar/00/24/09/4f/c07bc26f.jpg","comment_is_top":false,"comment_ctime":1623735589,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623735589","product_id":100033601,"comment_content":"æ–¹æ³•ä¸€ï¼šlet dest = JSON.parse(JSON.stringify(src))ï¼šä½†ä¸å¯ä»¥æ‹·è´ undefined ï¼Œ functionï¼Œ RegExp ç­‰ç­‰ç±»å‹ã€‚<br><br>æ–¹æ³•äºŒï¼šObject.assign(target, source)ï¼šä½†åªå¯æ‹·è´ä¸€å±‚ï¼Œå¤šå±‚åµŒå¥—åˆ™æ‹·è´å¤±æ•ˆã€‚<br><br>æ–¹æ³•ä¸‰ï¼šé€’å½’æ‹·è´ï¼Œnullã€undefindeã€functionã€RegExpç­‰ç‰¹æ®Šçš„å€¼ä¹Ÿå…¨éƒ¨æ‹·è´æˆåŠŸï¼š<br>&#47;&#47; å®šä¹‰ä¸€ä¸ªæ·±æ‹·è´å‡½æ•°  æ¥æ”¶ç›®æ ‡targetå‚æ•°<br>function copy(target) {<br>    &#47;&#47; å®šä¹‰ä¸€ä¸ªå˜é‡<br>    let result;<br>    &#47;&#47; å¦‚æœå½“å‰éœ€è¦æ·±æ‹·è´çš„æ˜¯ä¸€ä¸ªå¯¹è±¡çš„è¯<br>    if (typeof target === &#39;object&#39;) {<br>    &#47;&#47; å¦‚æœæ˜¯ä¸€ä¸ªæ•°ç»„çš„è¯<br>        if (Array.isArray(target)) {<br>            result = []; &#47;&#47; å°†resultèµ‹å€¼ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå¹¶ä¸”æ‰§è¡Œéå†<br>            for (let i in target) {<br>                &#47;&#47; é€’å½’å…‹éš†æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹<br>                result.push(deepClone(target[i]))<br>                }<br>         &#47;&#47; åˆ¤æ–­å¦‚æœå½“å‰çš„å€¼æ˜¯nullçš„è¯ï¼›ç›´æ¥èµ‹å€¼ä¸ºnull<br>        } else if(target===null) {<br>            result = null;<br>         &#47;&#47; åˆ¤æ–­å¦‚æœå½“å‰çš„å€¼æ˜¯ä¸€ä¸ªRegExpå¯¹è±¡çš„è¯ï¼Œç›´æ¥èµ‹å€¼    <br>        } else if(target.constructor===RegExp){<br>            result = target;<br>        }else {<br>         &#47;&#47; å¦åˆ™æ˜¯æ™®é€šå¯¹è±¡ï¼Œç›´æ¥for inå¾ªç¯ï¼Œé€’å½’èµ‹å€¼å¯¹è±¡çš„æ‰€æœ‰å€¼<br>            result = {};<br>            for (let i in target) {<br>                result[i] = deepClone(target[i]);<br>            }<br>        }<br>     &#47;&#47; å¦‚æœä¸æ˜¯å¯¹è±¡çš„è¯ï¼Œå°±æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆç›´æ¥èµ‹å€¼<br>    } else {<br>        result = target;<br>    }<br>     &#47;&#47; è¿”å›æœ€ç»ˆç»“æœ<br>    return result;<br>}","like_count":0},{"had_liked":false,"id":291703,"user_name":"Geek_0c324a","can_delete":false,"product_type":"c1","uid":2597177,"ip_address":"","ucode":"C7791F7F760046","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/MibU8Jsep36M1IicCMuf3rdRYjVMhZ1895kqNE2eV8nOlibwwbVGsf6Yqtkt8q3bhe0nLuicWVkTReg75W3HbEyFnQ/132","comment_is_top":false,"comment_ctime":1620442050,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620442050","product_id":100033601,"comment_content":"        function copy(src) {<br>            let dest={};<br>            &#47;&#47;å®ç°æ‹·è´ä»£ç ï¼Œå°†srcçš„å€¼å®Œæ•´åœ°æ‹·è´ç»™dest<br>            &#47;&#47;åœ¨è¿™é‡Œå®ç°<br><br>            for (let key in src) {<br>                if (src.hasOwnProperty(key)) {<br>                    if (typeof src[key] !== &#39;object&#39;) {<br>                        dest[key] = src[key]<br>                    } else {<br>                        dest[key] = copy(src[key])<br>                    }<br>                }<br>            }<br>            return dest<br>        }","like_count":0},{"had_liked":false,"id":288749,"user_name":"narcos","can_delete":false,"product_type":"c1","uid":1244286,"ip_address":"","ucode":"725A8944BAA993","user_header":"https://static001.geekbang.org/account/avatar/00/12/fc/7e/0cc5a187.jpg","comment_is_top":false,"comment_ctime":1618653181,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618653181","product_id":100033601,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹ï¼Œ&lt;å¯¹è±¡ç±»å‹æ˜¯â€œå †â€æ¥å­˜å‚¨&gt; è¿™å¼ ç¤ºæ„å›¾ä¸­ï¼Œå˜é‡ c çš„èµ·å§‹åœ°å€æ˜¯  1003ï¼Œç»“æŸåœ°å€æ˜¯ 1011ï¼Œæ˜¯å› ä¸º name å äº† 4 ä¸ªbyteï¼Œ&quot;æå®¢æ—¶é—´&quot; ä¹Ÿå äº† 4 ä¸ª byteï¼Œæ€»å…±æ˜¯ 8 ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥å°±æ˜¯ 1003 + 8 = 1011 å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":287602,"user_name":"ğŸ’¨","can_delete":false,"product_type":"c1","uid":2546693,"ip_address":"","ucode":"1B13692088728A","user_header":"https://static001.geekbang.org/account/avatar/00/26/dc/05/f7d14d5c.jpg","comment_is_top":false,"comment_ctime":1618046225,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618046225","product_id":100033601,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸ªé—®é¢˜ï¼Œæ‚¨ç”»çš„JSå†…å­˜æ¨¡å‹ä¸­æ²¡æœ‰æ•°æ®åŒºï¼Œé‚£æˆ‘æƒ³è¯·é—®ä¸‹æ˜¯å› ä¸ºæœ‰äº†å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡çš„å­˜åœ¨å¯¼è‡´æ²¡æœ‰è¿™éƒ¨åˆ†æ•°æ®åŒºäº†å—ï¼Œçº¿ç¨‹ä¹‹é—´ä¼šåˆ†äº«è¿›ç¨‹çš„æ•°æ®ï¼ˆå…¨å±€å˜é‡ï¼‰ï¼Œé‚£è¯·é—®å¦‚æœä¸€æ®µJSä»£ç è¢«å¤šä¸ªçº¿ç¨‹æ‰§è¡Œçš„è¯ï¼Œæ¯ä¸ªçº¿ç¨‹çš„æ ˆåŒºéƒ½ä¼šæœ‰å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å—ï¼Œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å’Œæ•°æ®åŒºåˆ°åº•æ˜¯ä»€ä¹ˆå…³ç³»ï¼Œæ˜¯å…±å­˜å…³ç³»å—ï¼Œè¿˜æ˜¯è¯´JSä¸­æ²¡æœ‰æ•°æ®åŒºè¿™ä¸€æ¦‚å¿µï¼Ÿ","like_count":0},{"had_liked":false,"id":285459,"user_name":"å°å¾","can_delete":false,"product_type":"c1","uid":1991387,"ip_address":"","ucode":"671BA40E7C7C76","user_header":"https://static001.geekbang.org/account/avatar/00/1e/62/db/740b46a0.jpg","comment_is_top":false,"comment_ctime":1616825427,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616825427","product_id":100033601,"comment_content":"function cloneLoop(x) {<br>    const root = {};<br><br>    &#47;&#47; æ ˆ<br>    const loopList = [<br>        {<br>            parent: root,<br>            key: undefined,<br>            data: x,<br>        }<br>    ];<br><br>    while(loopList.length) {<br>        &#47;&#47; æ·±åº¦ä¼˜å…ˆ<br>        const node = loopList.pop();<br>        const parent = node.parent;<br>        const key = node.key;<br>        const data = node.data;<br><br>        &#47;&#47; åˆå§‹åŒ–èµ‹å€¼ç›®æ ‡ï¼Œkeyä¸ºundefinedåˆ™æ‹·è´åˆ°çˆ¶å…ƒç´ ï¼Œå¦åˆ™æ‹·è´åˆ°å­å…ƒç´ <br>        let res = parent;<br>        if (typeof key !== &#39;undefined&#39;) {<br>            res = parent[key] = {};<br>        }<br><br>        for(let k in data) {<br>            if (data.hasOwnProperty(k)) {<br>                if (typeof data[k] === &#39;object&#39;) {<br>                    &#47;&#47; ä¸‹ä¸€æ¬¡å¾ªç¯<br>                    loopList.push({<br>                        parent: res,<br>                        key: k,<br>                        data: data[k],<br>                    });<br>                } else {<br>                    res[k] = data[k];<br>                }<br>            }<br>        }<br>    }<br><br>    return root;<br>}","like_count":0},{"had_liked":false,"id":285445,"user_name":"simei","can_delete":false,"product_type":"c1","uid":2399580,"ip_address":"","ucode":"6D1FCDCB9F295B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL4plVL65uxu4lg6KvAgVLZg92zbdbcNOFXt2QiabRGrbMbbRqicsiaxQ4NVO6icXAPLzzicexKnsq6YLQ/132","comment_is_top":false,"comment_ctime":1616815491,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616815491","product_id":100033601,"comment_content":"function copy(src){ <br>let dest<br>if(src === null || (typeof src !== &#39;object&#39;)){<br>    return src<br>}<br><br>if(typeof src === &#39;object&#39;){<br>dest = src instanceof Array ? [] : {};<br>for(let prop in src){<br>    dest[prop] = copy(src[prop])<br>}}<br>return dest<br>}","like_count":0},{"had_liked":false,"id":285437,"user_name":"å°å¾","can_delete":false,"product_type":"c1","uid":1991387,"ip_address":"","ucode":"671BA40E7C7C76","user_header":"https://static001.geekbang.org/account/avatar/00/1e/62/db/740b46a0.jpg","comment_is_top":false,"comment_ctime":1616813989,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616813989","product_id":100033601,"comment_content":"function copy(src){<br>    let dest = JSON.parse(JSON.stringify(src))<br>    &#47;&#47;å®ç°æ‹·è´ä»£ç ï¼Œå°†srcçš„å€¼å®Œæ•´åœ°æ‹·è´ç»™dest<br>   &#47;&#47;åœ¨è¿™é‡Œå®ç°<br>   console.log(dest);<br>    return dest<br>}","like_count":0},{"had_liked":false,"id":284087,"user_name":"hYector","can_delete":false,"product_type":"c1","uid":2173880,"ip_address":"","ucode":"C1DEEB8FAC0B2E","user_header":"https://static001.geekbang.org/account/avatar/00/21/2b/b8/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1616059695,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616059695","product_id":100033601,"comment_content":"function copy(src){<br>    let dest<br>    &#47;&#47;å®ç°æ‹·è´ä»£ç ï¼Œå°†srcçš„å€¼å®Œæ•´åœ°æ‹·è´ç»™dest<br>    dest = {}<br>    for(let ky in src){<br>        vl = src[ky]<br>        if(typeof vl == &#39;object&#39;){<br>            dest[ky] = copy(vl)<br>        }else{<br>            dest[ky] = vl<br>        }<br>    }<br>   &#47;&#47;åœ¨è¿™é‡Œå®ç°<br>    return dest<br>}","like_count":0},{"had_liked":false,"id":279041,"user_name":"l1shu","can_delete":false,"product_type":"c1","uid":1624297,"ip_address":"","ucode":"FCF3E36905B404","user_header":"https://static001.geekbang.org/account/avatar/00/18/c8/e9/c7c5cbf5.jpg","comment_is_top":false,"comment_ctime":1613566120,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1613566120","product_id":100033601,"comment_content":"æ–‡ä¸­æåŠåŸºæœ¬ç±»å‹å­˜å‚¨åœ¨æ ˆä¸­å¼•ç”¨ç±»å‹å­˜å‚¨åœ¨å †ä¸­çš„è¯´æ³•åœ¨v8ä¸­æ˜¯é”™è¯¯çš„  å‚è€ƒé“¾æ¥https:&#47;&#47;hashnode.com&#47;post&#47;does-javascript-use-stack-or-heap-for-memory-allocation-or-both-cj5jl90xl01nh1twuv8ug0bjk","like_count":0,"discussions":[{"author":{"id":1624297,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c8/e9/c7c5cbf5.jpg","nickname":"l1shu","note":"","ucode":"FCF3E36905B404","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349933,"discussion_content":"æ¯”å¦‚ v8::Number::New çš„å®ç°ï¼Œä»£ç åœ¨ src/api/api.ccï¼Œé‡Œé¢æœ€ç»ˆè°ƒç”¨äº† NewNumber\n\nNewNumber è¿™ä¸ªå‡½æ•°åœ¨ src/heap/factory-base-inl.h ä¸­ï¼Œé‡Œé¢æœ€ç»ˆè°ƒç”¨äº† NewHeapNumber\n\næ‰€ä»¥åŸºç¡€ç±»å‹åœ¨ c++å±‚é¢ä¾ç„¶æ˜¯å­˜å‚¨åœ¨å †ä¸­çš„ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1613633286,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272238,"user_name":"goali","can_delete":false,"product_type":"c1","uid":2224995,"ip_address":"","ucode":"0AD765488BAFC9","user_header":"https://static001.geekbang.org/account/avatar/00/21/f3/63/0a851d59.jpg","comment_is_top":false,"comment_ctime":1610001399,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610001399","product_id":100033601,"comment_content":"è€å¸ˆ æ„Ÿè§‰ä½ å®‰åˆ©çš„æµè§ˆå™¨æŸ¥çœ‹æ–¹æ³•å¾ˆå¥½ åŒ…æ‹¬è¿™ä¸ªå†…å­˜æŸ¥çœ‹ï¼Œå¸ƒå±€æŸ¥çœ‹ã€‚æœ‰æ²¡æœ‰ä»€ä¹ˆæ¯”è¾ƒå¥½çš„æ–‡æ¡£çœ‹æµè§ˆå™¨è°ƒè¯•å·¥å…·ç›¸å…³çš„","like_count":0},{"had_liked":false,"id":272080,"user_name":"å•Šå“ˆå“ˆ","can_delete":false,"product_type":"c1","uid":1243584,"ip_address":"","ucode":"A8542946C03707","user_header":"https://static001.geekbang.org/account/avatar/00/12/f9/c0/20b4a205.jpg","comment_is_top":false,"comment_ctime":1609927365,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609927365","product_id":100033601,"comment_content":"function deep(obj) {<br>  if (typeof obj === &#39;object&#39; &amp;&amp; obj !== null) {<br>    if (Array.isArray(obj)) {<br>      return obj.map(deep)<br>    }<br>    return Object.keys(obj).reduce((pre, cur) =&gt; {<br>      return {<br>        ...pre,<br>        [cur]: deep(obj[cur]),<br>      }<br>    }, {})<br>  }<br>  return obj<br>}<br><br>&#47;&#47; 2.<br>JSON.parse(JSON.stringify(jack))<br>","like_count":0},{"had_liked":false,"id":270033,"user_name":"èµ°è¿›ç§‘å­¦","can_delete":false,"product_type":"c1","uid":1809669,"ip_address":"","ucode":"33644F69A54598","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/nicib8gqImzrCGJYyJW3QEmmr1yz2fWnLIOmstENIvLpiajbJVDWDQMF0PZAZ3BictqbwBMILFPA6jckJkTunXliaRQ/132","comment_is_top":false,"comment_ctime":1608882849,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608882849","product_id":100033601,"comment_content":"è¿™æ˜¯å› ä¸º JavaScript å¼•æ“éœ€è¦ç”¨æ ˆæ¥ç»´æŠ¤ç¨‹åºæ‰§è¡ŒæœŸé—´ä¸Šä¸‹æ–‡çš„çŠ¶æ€ï¼Œå¦‚æœæ ˆç©ºé—´å¤§äº†è¯ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½å­˜æ”¾åœ¨æ ˆç©ºé—´é‡Œé¢ï¼Œé‚£ä¹ˆä¼šå½±å“åˆ°ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ•ˆç‡ï¼Œè¿›è€Œåˆå½±å“åˆ°æ•´ä¸ªç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚<br><br>ä¸çŸ¥é“ä¸ºä»€ä¹ˆä¼šæœ‰æ•ˆç‡é—®é¢˜? åªè¦çŸ¥é“ä¸Šä¸‹æ–‡å ç”¨çš„å†…å­˜å¤§å°,åˆ‡æ¢ä¸Šä¸‹æ–‡æ˜¯å¸¸æ•°æ—¶é—´çš„å•Š.","like_count":0},{"had_liked":false,"id":258143,"user_name":"ç¾²å’Œ","can_delete":false,"product_type":"c1","uid":1903752,"ip_address":"","ucode":"2B420888B5EB70","user_header":"https://static001.geekbang.org/account/avatar/00/1d/0c/88/aaf7bde9.jpg","comment_is_top":false,"comment_ctime":1604310570,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604310570","product_id":100033601,"comment_content":"function copy(src){ let dest &#47;&#47;å®ç°æ‹·è´ä»£ç ï¼Œå°†srcçš„å€¼å®Œæ•´åœ°æ‹·è´ç»™dest &#47;&#47;åœ¨è¿™é‡Œå®ç° return dest}","like_count":0},{"had_liked":false,"id":253309,"user_name":"Kido","can_delete":false,"product_type":"c1","uid":2194662,"ip_address":"","ucode":"68A8C05CCFA3F2","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJYzicZCK7z3OBQTyZS3NEukFzBr0zc0eCESkn6jssGNJdlLbulCpaGXkriaQlBFd6zpVsibpMBq2Fibg/132","comment_is_top":false,"comment_ctime":1602680651,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602680651","product_id":100033601,"comment_content":"è€å¸ˆè¿™ä¸ªtest2æ˜¯const ä¸æ˜¯åº”è¯¥å­˜æ”¾åœ¨è¯æ³•ç¯å¢ƒä¸­å—ï¼Œåœ¨å›¾é‡Œæ”¾åœ¨å˜é‡ç¯å¢ƒé‡Œäº†","like_count":0},{"had_liked":false,"id":251904,"user_name":"Geek_zy1991","can_delete":false,"product_type":"c1","uid":1640823,"ip_address":"","ucode":"3E9DBB03DE6D9A","user_header":"","comment_is_top":false,"comment_ctime":1601966671,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1601966671","product_id":100033601,"comment_content":"è¯·é—®è€å¸ˆï¼Œclosure(foo)ä¸­æ˜¯å¦å­˜æœ‰è¯æ³•ä½œç”¨åŸŸçš„ä¿¡æ¯å‘¢ï¼Ÿè‹¥æ²¡æœ‰ï¼Œå²‚ä¸æ˜¯åœ¨é—­åŒ…é‡Œï¼Œä½œç”¨åŸŸé“¾çš„æŸ¥æ‰¾è§„åˆ™å°±å¤±æ•ˆäº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2286113,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e2/21/60adf96b.jpg","nickname":"stone","note":"","ucode":"65816E57253D0F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386150,"discussion_content":"é€šè¿‡æ–­ç‚¹çœ‹ scope ä¿¡æ¯ï¼ŒClosure æ˜¯åœ¨ä½œç”¨åŸŸé“¾ä¸Šï¼ŒçŒœæµ‹å½“å‰ä½œç”¨åŸŸçš„ outer æŒ‡å‘çš„æ˜¯å°±æ˜¯ Closureï¼Œä¸ªäººçœ‹æ³•å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627444379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":251326,"user_name":"zhaozigang","can_delete":false,"product_type":"c1","uid":1168666,"ip_address":"","ucode":"4F05977DB5380A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibZO2lNDlECbEc1Ykkne3nfaXSJunnJa5ia0IWLLdcibrXdtVmjMEpdUWaUHx67ArRw35taAgfaYt9PO3aR73Sl8w/132","comment_is_top":false,"comment_ctime":1601466003,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601466003","product_id":100033601,"comment_content":"JSON stringify&#47;parse ä¹Ÿå¯ä»¥å®ç°ï¼Œä½†æ˜¯å¦‚æœå¯¹è±¡ä¸­æœ‰å¤æ‚ç»“æ„ï¼Œä¼šç ´åå¯¹è±¡çš„å†…éƒ¨ç»“æ„","like_count":0},{"had_liked":false,"id":243755,"user_name":"â€5102","can_delete":false,"product_type":"c1","uid":2116537,"ip_address":"","ucode":"476092AB890CF2","user_header":"https://static001.geekbang.org/account/avatar/00/20/4b/b9/2449c7b7.jpg","comment_is_top":false,"comment_ctime":1598267498,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598267498","product_id":100033601,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œå½“jsæ‰§è¡Œçš„æ—¶å€™ä¼šå…ˆè¿›è¡Œç¼–è¯‘ï¼Œä¼šæŠŠå‡½æ•°æå‡ï¼Œä¿å­˜åœ¨å…¨å±€å˜é‡ç¯å¢ƒä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°åœ¨å†…å­˜ä¸­çš„å­˜å‚¨å½¢å¼æ˜¯æ€æ ·çš„ï¼Ÿå½“ä»–è¢«æ‰§è¡Œçš„æ—¶å€™åˆæ˜¯æ€æ ·çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":240104,"user_name":"å¼›é£","can_delete":false,"product_type":"c1","uid":1489200,"ip_address":"","ucode":"35C07478A4F55C","user_header":"https://static001.geekbang.org/account/avatar/00/16/b9/30/c76aa6db.jpg","comment_is_top":false,"comment_ctime":1596762948,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596762948","product_id":100033601,"comment_content":"ç¬¬äºŒä¸ªé—®é¢˜ï¼šinnerBarè¿”å›åï¼Œå«æœ‰setNameå’ŒgetNameå¯¹è±¡ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡é‡Œé¢åŒ…å«äº†å †ä¸­çš„closure(foo)çš„å¼•ç”¨ã€‚è™½ç„¶fooæ‰§è¡Œä¸Šä¸‹æ–‡é”€æ¯äº†ï¼Œfooå‡½æ•°ä¸­çš„å¯¹closure(foo)çš„å¼•ç”¨ä¹Ÿæ–­å¼€äº†ï¼Œä½†æ˜¯setNameå’ŒgetNameé‡Œé¢åˆé‡æ–°å»ºç«‹èµ·æ¥äº†å¯¹closure(foo)å¼•ç”¨ã€‚<br><br>å¯¹äºè€å¸ˆä¸Šé¢çš„è¿™ä¸ªå›ç­”æœ‰ä¸ªç–‘é—®ï¼šsetNameå’ŒgetNameå¯¹è±¡ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡é‡Œé¢åŒ…å«äº†å †ä¸­çš„closure(foo)çš„å¼•ç”¨ï¼Œè¿™ä¸ªæ€ä¹ˆç†è§£ï¼ŒsetNameå’ŒgetNameæ˜¯ä»€ä¹ˆæ—¶å€™ï¼Œå¼•ç”¨äº†closure(foo)","like_count":0},{"had_liked":false,"id":239967,"user_name":"Geek_ea2845","can_delete":false,"product_type":"c1","uid":2043093,"ip_address":"","ucode":"53FF6EAFB3196B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqMDAWg4jibRKzibnciagJpoT47g6ickyvM5XT18v4qTDgibAjwcfJjObF7eOtWlWI079tw4DsjRPWLylA/132","comment_is_top":false,"comment_ctime":1596703360,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596703360","product_id":100033601,"comment_content":"jsæ²¡æœ‰é™æ€å­˜å‚¨åŒºçš„æ¦‚å¿µå—ï¼Œç†è®ºä¸Šï¼Œjsæ˜¯æœ‰c++ç¼–è¯‘çš„è¯­è¨€ï¼Œåœ¨c++ä¸­å°±æœ‰å¸¸é‡ï¼Œjsä¸­åº”è¯¥ä¹Ÿæœ‰å¯¹é™æ€å­˜å‚¨çš„ä¸€ä¸ªæ¦‚å¿µ","like_count":0},{"had_liked":false,"id":232770,"user_name":"Kevin","can_delete":false,"product_type":"c1","uid":1923859,"ip_address":"","ucode":"89EA5FCF036C42","user_header":"https://static001.geekbang.org/account/avatar/00/1d/5b/13/6db9ba58.jpg","comment_is_top":false,"comment_ctime":1594113378,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1594113378","product_id":100033601,"comment_content":"æ–¹æ³•1ï¼šfunction copy(src){<br>    let dest<br>    dest = JSON.parse(JSON.stringify(src))<br>    return dest<br>}<br><br>æ–¹æ³•äºŒï¼šfunction copy_2(src){<br> let dest;<br>  if(typof src === &#39;object&#39;){<br>    dest = {};<br>\tfor(let i in src){<br>\t \tdest[i] = copy_2(src[i])<br>   }\t<br>  }else{<br>\tdest = src;<br>  }<br>\treturn dest;<br>}","like_count":0},{"had_liked":false,"id":231339,"user_name":"Geek_7f1046","can_delete":false,"product_type":"c1","uid":2031263,"ip_address":"","ucode":"E7BB361E560AAA","user_header":"http://thirdwx.qlogo.cn/mmopen/Q3auHgzwzM59nwkCA4OyQdf1YhZoFzrUcdfKzvNmYTO4vu796xvSFFXtx3X2qI2dTZILoiaYdibcrfPIsKNAIpicg/132","comment_is_top":false,"comment_ctime":1593654346,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1593654346","product_id":100033601,"comment_content":"æƒ³é—®ä¸€ä¸‹ï¼ŒæŒ‰ç…§è€å¸ˆè¯´çš„åœ¨ç¼–è¯‘é˜¶æ®µå°±ä¼šå¿«é€Ÿçš„åšä¸€æ¬¡è¯æ³•æ‰«æï¼Œå¦‚æœæœ‰å¼•ç”¨å¤–éƒ¨å˜é‡å°±è®¤ä¸ºæ˜¯é—­åŒ…æŠŠå˜é‡å­˜åˆ°clusterä¸­ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘ä¸return innerfunå‘¢","like_count":0,"discussions":[{"author":{"id":2801818,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/c0/9a/c2217ef2.jpg","nickname":"asdfghjkl","note":"","ucode":"6941A96865949B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409719,"discussion_content":"åªè¦å†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œè¿™ä¸ªå¤–éƒ¨å‡½æ•°å°±ä¼šç”Ÿæˆé—­åŒ…ï¼Œreturn fnï¼Œåˆ°å…¨å±€ï¼Œ\nåªæ˜¯ä¼šè®©è¿™ä¸ªé—­åŒ…ä¸€ç›´å­˜åœ¨å†…å­˜ä¸­ï¼Œ\n\nfunction a(){\nvar a = 1;\nfunction b(){\nconsole.log(a);\n}\nb();\n}\na();\n// è¿™æ ·ä¾ç„¶ä¼šç”Ÿæˆé—­åŒ…ï¼Œåªä¸è¿‡aæ‰§è¡Œå®Œäº†åï¼Œé—­åŒ…è¢«ä¼šæ”¶ã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635495071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227559,"user_name":"bingmo","can_delete":false,"product_type":"c1","uid":1503447,"ip_address":"","ucode":"F92171460C0EA7","user_header":"https://static001.geekbang.org/account/avatar/00/16/f0/d7/82a2ffd4.jpg","comment_is_top":false,"comment_ctime":1592409352,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592409352","product_id":100033601,"comment_content":"è¿™é‡Œæœ‰ä¸ªç–‘é—®ï¼š<br>1ã€å¦‚æœä¸€ä¸ªå‡½æ•°å†…éƒ¨æœ‰å¤šå±‚å†…éƒ¨å‡½æ•°ï¼Œæ¯ä¸ªå†…éƒ¨å‡½æ•°éƒ½æœ‰ä½¿ç”¨å¤–éƒ¨å˜é‡ï¼Œé‚£ä¹ˆè¿™äº›å†…éƒ¨å‡½æ•°å¯¹åº”çš„é—­åŒ…å¯¹è±¡closure(foo)éš¾é“éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡å—ï¼Ÿé—­åŒ…æ€ä¹ˆä½“ç°è¯æ³•ä½œç”¨åŸŸä¸­å—çº§ä½œç”¨åŸŸçš„æ¦‚å¿µï¼Ÿ<br>2ã€é’ˆå¯¹ä¸Šè¿°setName&#47;getNameçš„ä¾‹å­ï¼Œä¸ç†è§£closure(foo)æ˜¯ä»€ä¹ˆæ—¶å€™è¢«æ”¾å…¥åˆ°å¯¹åº”å˜é‡ç¯å¢ƒä¸­ï¼Ÿæ„Ÿè§‰é€»è¾‘å¾ˆéšæ™¦","like_count":0},{"had_liked":false,"id":227152,"user_name":"é’±ç«‹æ–‡","can_delete":false,"product_type":"c1","uid":1756729,"ip_address":"","ucode":"95E0DA23B15A5E","user_header":"https://static001.geekbang.org/account/avatar/00/1a/ce/39/c5878cbc.jpg","comment_is_top":false,"comment_ctime":1592299634,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592299634","product_id":100033601,"comment_content":"åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°å†…éƒ¨å‡½æ•° setNameï¼ŒJavaScript å¼•æ“è¿˜è¦å¯¹å†…éƒ¨å‡½æ•°åšä¸€æ¬¡å¿«é€Ÿçš„è¯æ³•æ‰«æï¼Œå‘ç°è¯¥å†…éƒ¨å‡½æ•°å¼•ç”¨äº† foo å‡½æ•°ä¸­çš„ myName å˜é‡ï¼Œç”±äºæ˜¯å†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œæ‰€ä»¥ JavaScript å¼•æ“åˆ¤æ–­è¿™æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œäºæ˜¯åœ¨å †ç©ºé—´åˆ›å»ºæ¢ä¸€ä¸ªâ€œclosure(foo)â€çš„å¯¹è±¡ï¼ˆè¿™æ˜¯ä¸€ä¸ªå†…éƒ¨å¯¹è±¡ï¼ŒJavaScript æ˜¯æ— æ³•è®¿é—®çš„ï¼‰ï¼Œç”¨æ¥ä¿å­˜ myName å˜é‡ã€‚==========é—®é¢˜ï¼Œé—­åŒ…æ˜¯åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­åˆ›å»ºçš„å—ï¼Ÿ <br> function foo() {<br>      var myName =&quot;æå®¢æ—¶é—´&quot;<br>      let test1 = 1<br>      const test2 = 2<br>      var innerBar = {<br>        setName: function (newName) {<br>          myName = newName<br>        },<br>        getName: function () {<br>          console.log(test1)<br>          return myName<br>        }<br>      }<br>      return innerBar<br>    }<br>    var bar = foo(0)<br>    bar.setName(&quot;æå®¢é‚¦&quot;)<br>    bar.getName()<br>    console.log(bar.getName())<br>  ä¸ºå•¥closure(foo) ä¸­myNameçš„å€¼æ˜¯&quot;æå®¢æ—¶é—´&quot;ï¼Ÿï¼Ÿ æŒ‰ç†åº”è¯¥æ˜¯undefind æ‰å¯¹å‘€ã€‚<br>  å¦‚æœé—­åŒ…æ˜¯åœ¨ç¼–è¯‘æ—¶åˆ›å»º é‚£ä¹ˆmyNameæ˜¯æ€ä¹ˆè¢«èµ‹å€¼çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":224811,"user_name":"james","can_delete":false,"product_type":"c1","uid":1232771,"ip_address":"","ucode":"AC42035106E5B9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/yyibGRYCArsUNBfCAEAibua09Yb9D5AdO8TkCmXymhAepibqmlz0hzg06ggBLxyvXicnjqFVGr7zYF0rQoZ0aXCBAg/132","comment_is_top":false,"comment_ctime":1591544297,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1591544297","product_id":100033601,"comment_content":"function cloneDeep(source) {<br>  let target;<br>  if (typeof source !== &#39;object&#39;) return source;<br>  target = source instanceof Array ? [] : {};<br>  for (const key in source) {<br>    if (source.hasOwnProperty(key)) {<br>      target[key] = typeof source[key] === &#39;object&#39; ? cloneDeep(source[key]) : source[key];<br>    }<br>  }<br>  return target;<br>}","like_count":0},{"had_liked":false,"id":224809,"user_name":"james","can_delete":false,"product_type":"c1","uid":1232771,"ip_address":"","ucode":"AC42035106E5B9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/yyibGRYCArsUNBfCAEAibua09Yb9D5AdO8TkCmXymhAepibqmlz0hzg06ggBLxyvXicnjqFVGr7zYF0rQoZ0aXCBAg/132","comment_is_top":false,"comment_ctime":1591544044,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1591544044","product_id":100033601,"comment_content":"JavaScript çš„å˜é‡æ˜¯æ²¡æœ‰æ•°æ®ç±»å‹çš„ï¼Œå€¼æ‰æœ‰æ•°æ®ç±»å‹ï¼Œå˜é‡å¯ä»¥éšæ—¶æŒæœ‰ä»»ä½•ç±»å‹çš„æ•°æ®ã€‚","like_count":0},{"had_liked":false,"id":224807,"user_name":"james","can_delete":false,"product_type":"c1","uid":1232771,"ip_address":"","ucode":"AC42035106E5B9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/yyibGRYCArsUNBfCAEAibua09Yb9D5AdO8TkCmXymhAepibqmlz0hzg06ggBLxyvXicnjqFVGr7zYF0rQoZ0aXCBAg/132","comment_is_top":false,"comment_ctime":1591543935,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1591543935","product_id":100033601,"comment_content":"äº§ç”Ÿé—­åŒ…çš„æ ¸å¿ƒæœ‰ä¸¤æ­¥ï¼šç¬¬ä¸€æ­¥æ˜¯éœ€è¦é¢„æ‰«æå†…éƒ¨å‡½æ•°ï¼›ç¬¬äºŒæ­¥æ˜¯æŠŠå†…éƒ¨å‡½æ•°å¼•ç”¨çš„å¤–éƒ¨å˜é‡ä¿å­˜åˆ°å †ä¸­ã€‚","like_count":0},{"had_liked":false,"id":224361,"user_name":"å°é»‘å±±æ³¢","can_delete":false,"product_type":"c1","uid":2019449,"ip_address":"","ucode":"406A85AE39F1C7","user_header":"https://static001.geekbang.org/account/avatar/00/1e/d0/79/df144aee.jpg","comment_is_top":false,"comment_ctime":1591354074,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591354074","product_id":100033601,"comment_content":"å¼±ç±»å‹ï¼Œæ„å‘³ç€ä½ ä¸éœ€è¦å‘Šè¯‰ JavaScript å¼•æ“è¿™ä¸ªæˆ–é‚£ä¸ªå˜é‡æ˜¯ä»€ä¹ˆæ•°æ®ç±»å‹ï¼ŒJavaScript å¼•æ“åœ¨è¿è¡Œä»£ç çš„æ—¶å€™è‡ªå·±ä¼šè®¡ç®—å‡ºæ¥ã€‚åŠ¨æ€ï¼Œæ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªå˜é‡ä¿å­˜ä¸åŒç±»å‹çš„æ•°æ®ã€‚<br>è€å¸ˆè¿™ä¸¤ä¸ªæ˜¯ä¸æ˜¯å†™åäº†å•Š","like_count":0},{"had_liked":false,"id":221303,"user_name":"åè„‘å‹º","can_delete":false,"product_type":"c1","uid":1946181,"ip_address":"","ucode":"50704EC5545C4C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/b2/45/b49a92f5.jpg","comment_is_top":false,"comment_ctime":1590466690,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590466690","product_id":100033601,"comment_content":"é€’å½’å®ç°ï¼š<br><br>let jack = {<br>\tname: &#39;jack.ma&#39;,<br>\tage: 40,<br>\tlike: {<br>\t\tdog: {<br>\t\t\tcolor: &#39;black&#39;,<br>\t\t\tage: 3<br>\t\t},<br>\t\tcat: {<br>\t\t\tcolor: &#39;white&#39;,<br>\t\t\tage: 2<br>\t\t}<br>\t}<br>}<br><br>function copy(src) {<br>\tlet dest<br>\tlet type = Object.prototype.toString.call(src)<br><br>\t&#47;&#47;å®ç°æ‹·è´ä»£ç ï¼Œå°†srcçš„å€¼å®Œæ•´åœ°æ‹·è´ç»™dest<br>\tif (type === &#39;[object Array]&#39;) {<br>\t\tdest = []<br>\t\tfor (let item of src) {<br>\t\t\tdest = dest.concat(copy(item))<br>\t\t}<br>\t} else if (type === &#39;[object Object]&#39;) {<br>\t\tdest = {}<br>\t\tfor (let key in src) {<br>\t\t\tdest[key] = copy(src[key])<br>\t\t}<br>\t} else {<br>\t\tdest = src<br>\t}<br><br>\t&#47;&#47;åœ¨è¿™é‡Œå®ç°<br>\treturn dest<br>}<br><br>let jack2 = copy(jack)<br><br>&#47;&#47;æ¯”å¦‚ä¿®æ”¹jack2ä¸­çš„å†…å®¹ï¼Œä¸ä¼šå½±å“åˆ°jackä¸­çš„å€¼<br>jack2.like.dog.color = &#39;green&#39;<br>console.log(jack.like.dog.color) &#47;&#47;æ‰“å°å‡ºæ¥çš„åº”è¯¥æ˜¯ &quot;black&quot;","like_count":0},{"had_liked":false,"id":221298,"user_name":"åè„‘å‹º","can_delete":false,"product_type":"c1","uid":1946181,"ip_address":"","ucode":"50704EC5545C4C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/b2/45/b49a92f5.jpg","comment_is_top":false,"comment_ctime":1590466395,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590466395","product_id":100033601,"comment_content":"é€’å½’å®ç°ï¼š<br><br>let jack = {<br>\tname : &quot;jack.ma&quot;,<br>\tage:40,<br>\tlike:{<br>\t\t\tdog:{<br>\t\t\t\t\tcolor:&#39;black&#39;,<br>\t\t\t\t\tage:3,<br>\t\t\t},<br>\t\t\tcat:{<br>\t\t\t\t\tcolor:&#39;white&#39;,<br>\t\t\t\t\tage:2<br>\t\t\t}<br>\t}<br>}<br>function copy(src){<br>\tlet dest<br><br>\t&#47;&#47;å®ç°æ‹·è´ä»£ç ï¼Œå°†srcçš„å€¼å®Œæ•´åœ°æ‹·è´ç»™dest<br>\tif (typeof src === &#39;object&#39; &amp;&amp; src !== null) {<br>\t\tif (src.constructor.name === &#39;Array&#39;) {<br>\t\t\tdest = []<br>\t\t\tfor (let item of src) {<br>\t\t\t\tdest = dest.concat(copy(item))<br>\t\t\t}<br>\t\t} else if (src.constructor.name === &#39;Object&#39;) {<br>\t\t\tdest = {}<br>\t\t\tfor (let key in src) {<br>\t\t\t\tdest[key] = copy(src[key])<br>\t\t\t}<br>\t\t}<br>\t} else {<br>\t\tdest = src<br>\t}<br><br>\t&#47;&#47;åœ¨è¿™é‡Œå®ç°<br>\treturn dest<br>}<br><br>let jack2 = copy(jack)<br><br>&#47;&#47;æ¯”å¦‚ä¿®æ”¹jack2ä¸­çš„å†…å®¹ï¼Œä¸ä¼šå½±å“åˆ°jackä¸­çš„å€¼<br>jack2.like.dog.color = &#39;green&#39;<br>console.log(jack.like.dog.color) &#47;&#47;æ‰“å°å‡ºæ¥çš„åº”è¯¥æ˜¯ &quot;black&quot;","like_count":0},{"had_liked":false,"id":221295,"user_name":"åè„‘å‹º","can_delete":false,"product_type":"c1","uid":1946181,"ip_address":"","ucode":"50704EC5545C4C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/b2/45/b49a92f5.jpg","comment_is_top":false,"comment_ctime":1590466062,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590466062","product_id":100033601,"comment_content":"ç”¨é€’å½’ï¼š<br><br>let jack = {<br>\tname : &quot;jack.ma&quot;,<br>\tage:40,<br>\tlike:{<br>\t\t\tdog:{<br>\t\t\t\t\tcolor:&#39;black&#39;,<br>\t\t\t\t\tage:3,<br>\t\t\t},<br>\t\t\tcat:{<br>\t\t\t\t\tcolor:&#39;white&#39;,<br>\t\t\t\t\tage:2<br>\t\t\t}<br>\t}<br>}<br>function copy(src){<br>\tlet dest<br><br>\t&#47;&#47;å®ç°æ‹·è´ä»£ç ï¼Œå°†srcçš„å€¼å®Œæ•´åœ°æ‹·è´ç»™dest<br>\tif (typeof src === &#39;object&#39; &amp;&amp; src !== null) {<br>\t\tdest = {}<br>\t\tfor (let key in src) {<br>\t\t\tdest[key] = copy(src[key])<br>\t\t}<br>\t} else {<br>\t\tdest = src<br>\t}<br><br>\t&#47;&#47;åœ¨è¿™é‡Œå®ç°<br>\treturn dest<br>}<br><br>let jack2 = copy(jack)<br><br>&#47;&#47;æ¯”å¦‚ä¿®æ”¹jack2ä¸­çš„å†…å®¹ï¼Œä¸ä¼šå½±å“åˆ°jackä¸­çš„å€¼<br>jack2.like.dog.color = &#39;green&#39;<br>console.log(jack.like.dog.color) &#47;&#47;æ‰“å°å‡ºæ¥çš„åº”è¯¥æ˜¯ &quot;black&quot;","like_count":0},{"had_liked":false,"id":217737,"user_name":"EmilyLucky","can_delete":false,"product_type":"c1","uid":1972343,"ip_address":"","ucode":"DBA5FE296CF473","user_header":"https://static001.geekbang.org/account/avatar/00/1e/18/77/d665f258.jpg","comment_is_top":false,"comment_ctime":1589599289,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589599289","product_id":100033601,"comment_content":"function copy(obj = {}){<br>  if(typeof obj !== &quot;object&quot; || typeof obj == &quot;null&quot;){<br>     return obj;<br>  }<br>  let result;<br>  if(obj instanceof Array){<br>     result = [];<br>  }else{<br>     result = {};<br>  }<br>  for(let key in obj){<br>     if(obj.hasOwnProperty(key)){<br>       result[key] = copy(obj[key]);<br>     }<br>  }<br>  return result;<br>}<br>&#47;&#47;æµ‹è¯•<br>const jack = {<br>  age:20,<br>  name:&quot;jack.ma&quot;,<br>  address:{<br>    city:&quot;Shanghai&quot;<br>  },<br>  like:[&quot;dog&quot;,&quot;cat&quot;]<br>};<br>const jack2 = copy(jack);<br>jack2.address.city = &quot;Beijing&quot;;<br>jack2.like[1] = &quot;pig&quot;;<br>console.log(jack.address.city);&#47;&#47;æ‰“å°ç»“æœåº”è¯¥æ˜¯Shanghai<br>console.log(jack.like[1]);&#47;&#47;æ‰“å°ç»“æœåº”è¯¥æ˜¯cat","like_count":0},{"had_liked":false,"id":214570,"user_name":"å®‹å“ˆå“ˆ","can_delete":false,"product_type":"c1","uid":1580982,"ip_address":"","ucode":"26E71F2360D373","user_header":"https://static001.geekbang.org/account/avatar/00/18/1f/b6/131baa76.jpg","comment_is_top":false,"comment_ctime":1588766644,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588766644","product_id":100033601,"comment_content":"åªæœ‰æˆ‘æ³¨æ„åˆ°äº†BigIntæ•°æ®ç±»å‹äº†å—  BigIntå·²ç»ä½œä¸ºESæ ‡å‡†äº†å—","like_count":0},{"had_liked":false,"id":213651,"user_name":"kkkkkkkk","can_delete":false,"product_type":"c1","uid":1511545,"ip_address":"","ucode":"E1D8AC7CF39E7E","user_header":"https://static001.geekbang.org/account/avatar/00/17/10/79/390568f3.jpg","comment_is_top":false,"comment_ctime":1588499739,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588499739","product_id":100033601,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜ï¼š<br>æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­è¿˜åŒ…å«äº†ä½œç”¨åŸŸé“¾ï¼ˆscopeï¼‰ï¼Œå¦‚ä¸Šé¢ä¾‹å­ä¸­çš„innerBar.[scope] = [AO, fooContext.AO, globalContext.VO]ã€‚å·²çŸ¥æ‰§è¡Œè¯¥å‡½æ•°æ—¶ï¼Œä¼šä»ä½œç”¨åŸŸé“¾ä¸Šå»æ‰¾ç›¸åº”çš„å˜é‡ã€‚<br>æ‰§è¡Œbar.setName(&quot;æå®¢é‚¦&quot;)æ—¶ï¼ŒfooContextå·²ç»è¢«é”€æ¯ï¼Œæ‰€ä»¥è¿™é‡Œçš„fooContext.AOæŒ‡çš„æ˜¯clourse(foo)å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":209131,"user_name":"ç®€ç‰","can_delete":false,"product_type":"c1","uid":1013401,"ip_address":"","ucode":"C7F9471C7BFC7F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/76/99/00597feb.jpg","comment_is_top":false,"comment_ctime":1587514179,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587514179","product_id":100033601,"comment_content":"äºŒåˆ·ï¼Œè¿™æ¬¡åšç³»ç»Ÿç¬”è®°ã€‚ä¸çŸ¥é“è€å¸ˆä¼šä¸ä¼šå‡ºä¹¦ï¼Œå±•å¼€æµè§ˆå™¨å·¥ä½œåŸç†çš„æ›´å¤šç¯èŠ‚å’Œç»†èŠ‚ã€‚","like_count":0},{"had_liked":false,"id":205947,"user_name":"ç›–ä¸–è‹±é›„","can_delete":false,"product_type":"c1","uid":1394238,"ip_address":"","ucode":"50CD6CCD4D8B76","user_header":"https://static001.geekbang.org/account/avatar/00/15/46/3e/f9ae9462.jpg","comment_is_top":false,"comment_ctime":1586762382,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1586762382","product_id":100033601,"comment_content":"çœ‹äº†å¥½å‡ éï¼Œè€Œä¸”è¿˜åšäº†ç¬”è®°<br>è€å¸ˆè®²çš„çœŸæ£’ã€æ·±å…¥æµ…å‡ºï¼›æ’å›¾çœ‹ç€èˆ’æœã€å›¾æ–‡ç¼–æ’ä¹Ÿå¥½<br>è¿˜å¯ä»¥åŠ ä¸‹åˆ’çº¿ã€ç¬”è®°","like_count":0},{"had_liked":false,"id":204900,"user_name":"HoSalt","can_delete":false,"product_type":"c1","uid":1156074,"ip_address":"","ucode":"610B03E2A002D1","user_header":"https://static001.geekbang.org/account/avatar/00/11/a3/ea/53333dd5.jpg","comment_is_top":false,"comment_ctime":1586488476,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586488476","product_id":100033601,"comment_content":"let a = {x: 1}<br>let b = {y:2, z: a}<br>let c = {y: 3, x: {a: 1}}<br>è¿™ç§æƒ…å†µä¸‹a, bçš„å€¼åœ¨å †ä¸­å¦‚ä½•å­˜å‚¨çš„ï¼Œå †ä¸­çš„b.zæ˜¯ä¿å­˜çš„açš„å¼•ç”¨åœ°å€å—ï¼Ÿcè¿™ç§å¯¹è±¡çš„å±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡åˆå¦‚ä½•å­˜å‚¨çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":204864,"user_name":"Slowdive","can_delete":false,"product_type":"c1","uid":1624537,"ip_address":"","ucode":"AF3429CE47C462","user_header":"https://static001.geekbang.org/account/avatar/00/18/c9/d9/00870178.jpg","comment_is_top":false,"comment_ctime":1586484127,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586484127","product_id":100033601,"comment_content":"è€å¸ˆè¯·åŠ¡å¿…è§£é‡Šä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼Œ éå¸¸æ„Ÿè°¢ï¼ ï¼š <br>1. åˆ›å»ºfooçš„ä¸Šä¸‹æ–‡ï¼Œè¯æ³•æ‰«æåˆ›å»ºclosure(foo)åœ¨å †ä¸­ï¼Œfooçš„ä¸Šä¸‹æ–‡æ·»åŠ æŒ‡å‘è¿™ä¸ªclosureçš„æŒ‡é’ˆï¼Œç„¶åreturn barï¼Œ fooçš„ä¸Šä¸‹æ–‡å‡ºæ ˆã€‚ æ‰§è¡Œbarï¼Œ ç¼–è¯‘baræ—¶åº”è¯¥ä¸ä¼šå¤„ç†myNameï¼Œåœ¨æ‰§è¡Œæ—¶é‡åˆ°myNameåº”è¯¥æ˜¯æ²¿ç€ä½œç”¨åŸŸé“¾æ‰¾myNameï¼Œè¿™æ—¶å€™å°±ä¼šåœ¨closure(foo)ä¸­æ‰¾åˆ°myNameã€‚ é‚£é—®é¢˜æ¥äº†ï¼Œclosure(foo)çš„åœ°å€æ˜¯åœ¨å“ªä¸ªé˜¶æ®µå¦‚ä½•æ”¾åˆ°barçš„ä¸Šä¸‹æ–‡ä¸­çš„ï¼Ÿ<br>2. fooçš„ç¼–è¯‘é˜¶æ®µå¯¹å˜é‡åšæå‡ï¼Œå†è¯æ³•æ‰«æå†…éƒ¨å‡½æ•°barï¼Œåˆ›å»ºclosure(foo)ï¼Œ myNameå˜é‡åªå­˜åœ¨äºclosure(foo)ä¸­å—ï¼Ÿä¸ºä»€ä¹ˆåœ¨å‡½æ•°ç¯å¢ƒå˜é‡é‡Œæ²¡æœ‰myNameï¼Ÿ","like_count":0},{"had_liked":false,"id":204813,"user_name":"Slowdive","can_delete":false,"product_type":"c1","uid":1624537,"ip_address":"","ucode":"AF3429CE47C462","user_header":"https://static001.geekbang.org/account/avatar/00/18/c9/d9/00870178.jpg","comment_is_top":false,"comment_ctime":1586478589,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586478589","product_id":100033601,"comment_content":"è€å¸ˆï¼Œå¦‚æœæŠŠæ‰€æœ‰æ•°æ®éƒ½è½½å…¥åˆ°æ ˆç©ºé—´ï¼Œåœ¨åšæ ˆåˆ‡æ¢çš„æ—¶å€™ä¹Ÿæ˜¯ç§»åŠ¨æŒ‡é’ˆå•Šï¼Œåªæ˜¯ç§»åŠ¨çš„å¤§å°ä¸ä¸€æ ·è€Œå·²ï¼Œä¸ºä»€ä¹ˆä¸å¯ä»¥å…¨ç±»å‹éƒ½æ”¾åˆ°æ ˆå‘¢ï¼Ÿ ","like_count":0},{"had_liked":false,"id":192212,"user_name":"å¢¨çµ","can_delete":false,"product_type":"c1","uid":1409700,"ip_address":"","ucode":"185D70CA20BEEE","user_header":"https://static001.geekbang.org/account/avatar/00/15/82/a4/a92c6eca.jpg","comment_is_top":false,"comment_ctime":1584843304,"is_pvip":false,"replies":[{"id":"74346","content":"ä½ æ˜¯é«˜æ‰‹ï¼ŒV8ä¸“æ ä¸­çš„ä¸€ç¯‡ä»‹ç»ç±»å‹ç³»ç»Ÿçš„æ€è·¯å’Œä½ è¿™ä¸ªç±»ä¼¼","user_name":"ä½œè€…å›å¤","user_name_real":"æå…µ","uid":"1141464","ctime":1585224376,"ip_address":"","comment_id":192212,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584843304","product_id":100033601,"comment_content":"è€å¸ˆå¯¹å¼±ç±»å‹è¯­è¨€çš„è§£é‡Šä¸å¤Ÿç²¾ç¡®ã€‚<br>```<br>a = 1<br>a = 1.1<br>a = &#39;&#39;<br>a = []<br>a = {}<br>```<br>è¿™æ®µä»£ç åœ¨jså’Œpythonéƒ½æ˜¯å¯ä»¥æ‰§è¡Œçš„ï¼Œä½†pythonå¹¶ä¸æ˜¯ä¸€é—¨å¼±ç±»å‹çš„è¯­è¨€ã€‚<br>```<br>1 + &#39;1&#39;<br>```<br>è¿™ä»£ç åœ¨jsæ‰§è¡Œç»“æœæ˜¯&#39;11&#39;ï¼Œä½†åœ¨pythonæ‰§è¡Œå´æ˜¯æŠ¥é”™çš„ï¼Œå› ä¸ºpythonä¸ç†è§£ä¸€ä¸ªæ•´æ•°å’Œå­—ç¬¦ä¸²ç›¸åŠ çš„é€»è¾‘...<br>åœ¨jsä¸­ï¼Œä»»ä½•ä¸¤ä¸ªç±»å‹éƒ½æ˜¯å¯ä»¥ç›¸åŠ çš„ï¼Œä½†æ˜¯ç»“æœå´ä¸æ˜¯ä¸€å®šæ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"æå…µ","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488344,"discussion_content":"ä½ æ˜¯é«˜æ‰‹ï¼ŒV8ä¸“æ ä¸­çš„ä¸€ç¯‡ä»‹ç»ç±»å‹ç³»ç»Ÿçš„æ€è·¯å’Œä½ è¿™ä¸ªç±»ä¼¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585224376,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":183899,"user_name":"blueBean","can_delete":false,"product_type":"c1","uid":1816697,"ip_address":"","ucode":"6A68D2414BD904","user_header":"https://static001.geekbang.org/account/avatar/00/1b/b8/79/a4dbe9ee.jpg","comment_is_top":false,"comment_ctime":1583158915,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583158915","product_id":100033601,"comment_content":"var j2 = Object.create(j1)<br>æ€ä¹ˆæ ·ï¼Ÿ","like_count":0},{"had_liked":false,"id":181511,"user_name":"dellyoung","can_delete":false,"product_type":"c1","uid":1133028,"ip_address":"","ucode":"3672FF1D1F8EFD","user_header":"https://static001.geekbang.org/account/avatar/00/11/49/e4/fb47bfcd.jpg","comment_is_top":false,"comment_ctime":1582553279,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582553279","product_id":100033601,"comment_content":"æ‰‹æ’•äº†ä¸€ä¸ªæ·±æ‹·è´å‡½æ•°ï¼Œå…¼å®¹å¤§éƒ¨åˆ†æƒ…å†µäº†ï¼ˆå­—æ•°è¶…äº†ã€‚ã€‚ï¼‰<br>const getType = (target) =&gt;  Object.prototype.toString.call(target)<br>const clone = (target, map = new WeakMap()) =&gt; {<br>    &#47;&#47; å¤„ç†åŸå§‹ç±»å‹ç›´æ¥è¿”å›<br>    if (!isObject(target)) {<br>        return target;<br>    }<br>    &#47;&#47; å¤„ç†ä¸å¯éå†ç±»å‹<br>    const type = getType(target);<br>    if (simpleType.includes(type)) {<br>        switch (type) {<br>            case typeDate:<br>                &#47;&#47; æ—¥æœŸ<br>                return new Date(target);<br>            case typeRegExp:<br>                &#47;&#47; æ­£åˆ™<br>                const reg = &#47;\\w*$&#47;;<br>                return new RegExp(target.source,reg.exec(target)[0]);<br>            case typeFunction:<br>                &#47;&#47; å‡½æ•°<br>                return target;<br>            default:<br>                return target;<br>        }<br>    }<br><br>    &#47;&#47; ç”¨äºè¿”å›<br>    let cloneTarget;<br>    &#47;&#47; å¤„ç†å¾ªç¯å¼•ç”¨<br>    if (map.has(target)) {<br>        return target<br>    } else {<br>        &#47;&#47; å…ˆsetä¸€æ¬¡ï¼Œé˜²æ­¢åç»­å››ç§æ²¡æœ‰æœ‰setå®ƒ<br>        map.set(target, cloneTarget);<br>    }<br>    &#47;&#47; å¤„ç†å¯éå†ç±»å‹<br>    switch (type) {<br>        case typeSet:<br>            &#47;&#47; set<br>            cloneTarget = new Set();<br>            target.forEach((item) =&gt; {<br>                cloneTarget.add(clone(item, map))<br>            });<br>            return cloneTarget;<br>        case typeMap:<br>            &#47;&#47; map<br>            cloneTarget = new Map();<br>            target.forEach((value, key) =&gt; {<br>                cloneTarget.set(key, clone(value, map))<br>            });<br>            return cloneTarget;<br>        case typeArray:<br>            &#47;&#47; æ•°ç»„<br>            cloneTarget = [];<br>            target.forEach((item, index) =&gt; {<br>                cloneTarget[index] = clone(item, map)<br>            });<br>            map.set(target, cloneTarget);<br>            return cloneTarget;<br>        case typeObject:<br>            &#47;&#47; å¯¹è±¡<br>            cloneTarget = {};<br>            Object.keys(target).forEach((item) =&gt; {<br>                cloneTarget[item] = clone(target[item], map)<br>            });<br>            map.set(target, cloneTarget);<br>            return cloneTarget;<br>        default:<br>            return target;<br>    }<br>};","like_count":0},{"had_liked":false,"id":179185,"user_name":"love star","can_delete":false,"product_type":"c1","uid":1377886,"ip_address":"","ucode":"11B0D208BA7C7A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/M5jrJZliboJoN9cNp0iahPqwXe3Zf6CUeiaUMYY8icRY0Hvw9wZ36USS6tP2KE16n2lf8W0IhNWiaoBHUYyrwoT0vrg/132","comment_is_top":false,"comment_ctime":1581933216,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581933216","product_id":100033601,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘çœ‹ä½ çš„ä¸Šä¸ŠèŠ‚è¯´çš„å¦‚æœå¼•ç”¨é—­åŒ…çš„å‡½æ•°æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œé‚£ä¹ˆé—­åŒ…ä¼šä¸€ç›´å­˜åœ¨ç›´åˆ°é¡µé¢å…³é—­ã€‚<br>é‚£åœ¨æ–­ç‚¹æ‰“åˆ°é™¤äº†<br>          myName = newName<br>          console.log(test1)<br>          return myName<br>        å¯ä»¥æŸ¥çœ‹çš„åˆ°é—­åŒ…ï¼Œå…¶ä»–åœ°æ–¹æµè§ˆå™¨æŸ¥çœ‹ä¸åˆ°é—­åŒ…è¿™ä¸ªå†…å­˜ï¼Œå®ƒè¿˜å­˜åœ¨å †å†…å­˜åªæ˜¯ä¸æ˜¾ç¤ºå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":177420,"user_name":"æˆ¡ç‰","can_delete":false,"product_type":"c1","uid":1162123,"ip_address":"","ucode":"398F0C0367E795","user_header":"https://static001.geekbang.org/account/avatar/00/11/bb/8b/028bbe52.jpg","comment_is_top":false,"comment_ctime":1581390012,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581390012","product_id":100033601,"comment_content":"è€å¸ˆï¼Œè¿™èŠ‚æœ€åä¸€ä¸ªåº”è¯¥æœ‰ç‚¹ä¸å¯¹æŠŠï¼Œtest2åº”è¯¥å±äºæ­¤æ³•ç¯å¢ƒï¼Œå¹¶ä¸”è¿˜æœ‰varå¸¸é‡å’ŒinnerBaræ²¡æ ‡ç¤ºå‡ºæ¥ï¼Œï¼ˆå¦‚æœçœç•¥çš„è¯ï¼Œæ–‡ç« å¯ä»¥æç¤ºä¸€å¥ï¼‰ï¼›æˆ‘è¿˜å¯¹ç…§å‘ç°ï¼Œåœ¨â€œä½œç”¨åŸŸé“¾å’Œé—­åŒ…â€é‚£èŠ‚ï¼Œåˆ†æé—­åŒ…çš„å›¾ç¤ºä¹Ÿæœ‰ä¸ªå°é”™è¯¯ï¼Œå°±æ˜¯â€œå½“æ‰§è¡Œåˆ°return innerBarçš„ä½ç½®æ—¶â€ï¼ŒinnerBaråœ¨å›¾ç¤ºä¸­æ˜¯=function..ï¼Œè¿™é‡Œä¸å¥½æˆªå›¾ï¼Œè€å¸ˆå¯ä»¥å»å¯¹ä¸€ä¸‹ã€‚","like_count":0},{"had_liked":false,"id":177193,"user_name":"prozac","can_delete":false,"product_type":"c1","uid":1242593,"ip_address":"","ucode":"8D1557F035582B","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/e1/b21c74a4.jpg","comment_is_top":false,"comment_ctime":1581318244,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1581318244","product_id":100033601,"comment_content":"è€å¸ˆæˆ‘æƒ³æä¸ªç–‘é—®ï¼Œä¸ºä»€ä¹ˆå­˜å‚¨å¼•ç”¨ç±»å‹çš„æ•°æ®æ˜¯ç”¨å †è¿™ä¸ªç»“æ„ï¼Ÿå †çš„ç‰¹ç‚¹è·Ÿè¿™ä¸ªåœºæ™¯ä¸€ç‚¹ä¹Ÿä¸å¥‘åˆå•Š...ï¼Ÿéš¾é“ä¸æ˜¯æ•£åˆ—è¡¨&#47;è·³è¡¨&#47;çº¢é»‘æ ‘æ›´é€‚åˆå—","like_count":0},{"had_liked":false,"id":176525,"user_name":"Sela","can_delete":false,"product_type":"c1","uid":1554732,"ip_address":"","ucode":"3FA14C704D79F0","user_header":"https://static001.geekbang.org/account/avatar/00/17/b9/2c/b56bc5db.jpg","comment_is_top":false,"comment_ctime":1581081260,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581081260","product_id":100033601,"comment_content":"function copy(src){<br>    let dest<br>    &#47;&#47;å®ç°æ‹·è´ä»£ç ï¼Œå°†srcçš„å€¼å®Œæ•´åœ°æ‹·è´ç»™dest<br>   &#47;&#47;åœ¨è¿™é‡Œå®ç°<br>  dest = JSON.parse(JSON.stringify(src));<br>    return dest<br>}<br><br>JSON.sringify å’Œ JSON.parse ,å…ˆå°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå†é€šè¿‡JSON.parseé‡æ–°å»ºç«‹ä¸€ä¸ªå¯¹è±¡ã€‚<br>ä½†æ˜¯è¿™ç§æ–¹æ³•çš„å±€é™ä¹Ÿå¾ˆå¤šï¼š<br><br>ä¸èƒ½å¤åˆ¶functionã€æ­£åˆ™ã€Symbol<br>å¾ªç¯å¼•ç”¨æŠ¥é”™<br>ç›¸åŒçš„å¼•ç”¨ä¼šè¢«é‡å¤å¤åˆ¶<br><br>å› ä¸ºä¸Šé¢çš„ä¾‹å­çŸ¥è¯†jsonç»“æ„ï¼Œä¸æ¶‰åŠä¸Šé¢3ç§ï¼Œæ•…å¯ä»¥ç®€å•å¤„ç†å³å¯ã€‚","like_count":0},{"had_liked":false,"id":172057,"user_name":"4!!","can_delete":false,"product_type":"c1","uid":1487663,"ip_address":"","ucode":"188445590D97DF","user_header":"https://static001.geekbang.org/account/avatar/00/16/b3/2f/867b94d8.jpg","comment_is_top":false,"comment_ctime":1579080284,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579080284","product_id":100033601,"comment_content":"function copy(src){ <br>    let dest <br>    dest =  JSON.parse(JSON.stringify(src));<br>    return dest<br>}<br>è¿˜æ˜¯è¿™ä¸ªæ–¹æ³•æœ€æ–¹ä¾¿ä¹Ÿæœ€å…¨é¢ï¼›<br>æ‰‹å†™éå†çš„è¯è¦è€ƒè™‘çš„æƒ…å†µå¤ªå¤šäº†ï¼Œtypeofä¸ºobjectçš„æƒ…å†µéƒ½è¦è€ƒè™‘ï¼Œåƒå¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ã€å‡½æ•°ã€æ—¥æœŸã€nullç­‰ç­‰","like_count":0},{"had_liked":false,"id":160500,"user_name":"coder","can_delete":false,"product_type":"c1","uid":1059952,"ip_address":"","ucode":"F70511D614B9F4","user_header":"https://static001.geekbang.org/account/avatar/00/10/2c/70/02b627a6.jpg","comment_is_top":false,"comment_ctime":1575965522,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1575965522","product_id":100033601,"comment_content":"åœ¨é—­åŒ…é‚£æ®µä»£ç ä¸­ï¼Œæ‰§è¡ŒsetNameçš„æ—¶å€™ï¼Œä¼šä¸ä¼šä¹Ÿåˆ›å»ºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Ÿé‚£setNameæ‰§è¡Œå®Œæ¯•ï¼Œæ˜¯ä¸æ˜¯é—­åŒ…å°±æ¶ˆå¤±äº†ï¼ˆä¸è€ƒè™‘getNameï¼‰ï¼Ÿå› ä¸ºsetNameæ‰§è¡Œå®Œæ¯•ï¼Œå®ƒçš„æ‰§è¡Œä¸Šä¸‹æ–‡å°±å‡ºæ ˆäº†ï¼Œé‚£ä¹ˆé—­åŒ…æ²¡æœ‰è¢«å¼•ç”¨ï¼Œå†…å­˜å›æ”¶å°±æ¸…ç†äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1930698,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/75/ca/4c127da3.jpg","nickname":"Emma","note":"","ucode":"C2D31142AF7288","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":212902,"discussion_content":"è¿™ä¸ªä¸ä¼šè¢«é”€æ¯å§ï¼Œè¦æ˜¯é”€æ¯äº†ï¼Œä½ ä¸‹æ¬¡ç»§ç»­è°ƒç”¨è¯¥å‡½æ•°çš„æ—¶å€™ï¼Œé‚£ä¸ªå˜é‡å°±è®¿é—®ä¸åˆ°äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585032028,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1503447,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f0/d7/82a2ffd4.jpg","nickname":"bingmo","note":"","ucode":"F92171460C0EA7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283979,"discussion_content":"é—­åŒ…æ²¡æœ‰é”€æ¯ï¼Œå› ä¸ºgetNameè¿˜æœ‰å¼•ç”¨å®ƒå‘¢ã€‚åƒåœ¾å›æ”¶æœºåˆ¶ä¸èƒ½é”€æ¯å®ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592409036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":159104,"user_name":"å¤§æ ‘","can_delete":false,"product_type":"c1","uid":1390549,"ip_address":"","ucode":"0B4C9091520DFA","user_header":"https://static001.geekbang.org/account/avatar/00/15/37/d5/22299804.jpg","comment_is_top":false,"comment_ctime":1575538695,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1575538695","product_id":100033601,"comment_content":"ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥ç®­å¤´å‡½æ•°çš„ this å°±æ˜¯å®ƒå¤–å±‚å‡½æ•°çš„ thisã€‚<br>é‚£ä¹ˆç®­å¤´å‡½æ•° å¦‚ä½•å­˜å‚¨ å­˜å‚¨å˜é‡","like_count":0},{"had_liked":false,"id":158766,"user_name":"-_-|||","can_delete":false,"product_type":"c1","uid":1328142,"ip_address":"","ucode":"94B21594658BF9","user_header":"https://static001.geekbang.org/account/avatar/00/14/44/0e/ce14b7d3.jpg","comment_is_top":false,"comment_ctime":1575448177,"is_pvip":false,"replies":[{"id":"60745","content":"functionæ˜¯å¯¹è±¡ object","user_name":"ä½œè€…å›å¤","user_name_real":"æå…µ","uid":"1141464","ctime":1575459573,"ip_address":"","comment_id":158766,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1575448177","product_id":100033601,"comment_content":"&#39;JavaScript ä¸­çš„æ•°æ®ç±»å‹ä¸€ç§æœ‰ 8 ç§&#39;,æ€ä¹ˆæ²¡æŠŠ â€˜functionâ€™ è¿™ç§ç±»å‹ç®—è¿›å»","like_count":0,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"æå…µ","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476838,"discussion_content":"functionæ˜¯å¯¹è±¡ object","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575459573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149982,"user_name":"è¶ä½ è¿˜å¹´è½»233","can_delete":false,"product_type":"c1","uid":1053875,"ip_address":"","ucode":"B7CC120EF42980","user_header":"https://static001.geekbang.org/account/avatar/00/10/14/b3/b6e1817a.jpg","comment_is_top":false,"comment_ctime":1573440907,"is_pvip":false,"replies":[{"id":"57731","content":"è¿™äº›éƒ½å±äºobjectç±»å‹","user_name":"ä½œè€…å›å¤","user_name_real":"æå…µ","uid":"1141464","ctime":1573456070,"ip_address":"","comment_id":149982,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573440907","product_id":100033601,"comment_content":"â€œJavaScript ä¸­çš„æ•°æ®ç±»å‹ä¸€å…±æœ‰ 8 ç§ã€‚â€<br><br>TypedArrayï¼ŒBlobï¼ŒFIleï¼ŒPromiseè¿™äº›å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"æå…µ","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474029,"discussion_content":"è¿™äº›éƒ½å±äºobjectç±»å‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573456070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":149313,"user_name":"William","can_delete":false,"product_type":"c1","uid":1191206,"ip_address":"","ucode":"27326E80DA592E","user_header":"https://static001.geekbang.org/account/avatar/00/12/2d/26/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1573189877,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573189877","product_id":100033601,"comment_content":"è€å¸ˆï¼Œé—­åŒ…çš„å†…éƒ¨å¯¹è±¡æœ‰è¯æ³•ç¯å¢ƒå’Œå˜é‡ç¯å¢ƒå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":149297,"user_name":"William","can_delete":false,"product_type":"c1","uid":1191206,"ip_address":"","ucode":"27326E80DA592E","user_header":"https://static001.geekbang.org/account/avatar/00/12/2d/26/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1573184801,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573184801","product_id":100033601,"comment_content":"è€å¸ˆï¼Œforå¾ªç¯é‡Œçš„ç”¨varå®šä¹‰å˜é‡å¹¶å®ç°é—­åŒ…æ—¶ï¼Œæ­¤æ—¶forå¾ªç¯çš„varå˜é‡æ˜¯å…¨å±€çš„ï¼›å†çœ‹åˆ°myNameæ˜¯varå…³é”®å­—å£°æ˜çš„ï¼Œä½†æ˜¯æ ¹æ®ã€é—­åŒ…çš„äº§ç”Ÿè¿‡ç¨‹ã€‘è¿™å¼ å›¾ç‰‡æ¥çœ‹ï¼Œä¼¼ä¹myNameæ˜¯é—­åŒ…å•ç‹¬æŒæœ‰ï¼Œå¹¶ä¸æ˜¯å…¨å±€çš„ï¼Œè¿™å’Œforå¾ªç¯ä¸­ä½¿ç”¨varçš„æƒ…å†µæœ‰å·®åˆ«å—ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å“ªé‡Œç†è§£é”™äº†ã€‚","like_count":0},{"had_liked":false,"id":143050,"user_name":"Geek_b724f1","can_delete":false,"product_type":"c1","uid":1625646,"ip_address":"","ucode":"85BC71CDD6E8C2","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/GF7Z6rWENFlhQdgLiaQtba6BcjyVgMwTxvP46AdZyGVT1iad8z5gwI3F3E8mtumPFTMPib4nGyIflOdNMxd2sqibpA/132","comment_is_top":false,"comment_ctime":1571624291,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571624291","product_id":100033601,"comment_content":"æˆ‘ä¹Ÿæäº¤æˆ‘çš„ï¼Œç¬¬ä¸€æ¬¡ç•™è¨€ï¼Œå¥½å®³æ€•<br>function copy(src) {<br>\tlet dest = {};<br>\tfor (let key in src) {<br>\t\tif (typeof src[key] == &quot;object&quot;) {<br>\t\t\tdest[key] = copy(src[key]);<br>\t\t} else {<br>\t\t\tdest[key] = src[key];<br>\t\t}<br>\t}<br>\treturn dest;<br>}","like_count":0},{"had_liked":false,"id":133985,"user_name":"èŠ³åå¹´æœˆ","can_delete":false,"product_type":"c1","uid":1625161,"ip_address":"","ucode":"79DFE01DCB6767","user_header":"https://static001.geekbang.org/account/avatar/00/18/cc/49/4fba1938.jpg","comment_is_top":false,"comment_ctime":1568711525,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1568711525","product_id":100033601,"comment_content":" function test() {<br>        var n = 4399<br><br>        function add() {<br>            n ++;<br>            console.log(n)<br>        }<br>        return {<br>            n: n,<br>            add: add<br>        }<br>    }<br>    var result = test();<br>    var result2 = test();<br>    result.add()<br>    result.add()<br>    console.log(result.n)<br>    result2.add()<br>è€å¸ˆï¼Œè¿™ä¸ªä¸ºä»€ä¹ˆnå€¼æ²¡æœ‰æ”¹å˜","like_count":0},{"had_liked":false,"id":133239,"user_name":"æ¸¡é¸¦","can_delete":false,"product_type":"c1","uid":1131095,"ip_address":"","ucode":"C76B10CBDCBBE1","user_header":"https://static001.geekbang.org/account/avatar/00/11/42/57/111fdb41.jpg","comment_is_top":false,"comment_ctime":1568459637,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"1568459637","product_id":100033601,"comment_content":"è¿™é“é¢˜ä¹Ÿå¾ˆå…¸å‹ï¼Œè°èƒ½å¸®å¿™è§£æä¸‹<br>function change(a, b, c) {<br>  a = a * 10<br>  b.name = &#39;changed&#39;<br>  c = {name: &quot;changed&quot;}<br>}<br><br>var num = 10;<br>var obj1 = {name: &quot;unchanged&quot;}<br>var obj2 = {name: &quot;unchanged&quot;}<br><br>console.log(num, obj1, obj2)","like_count":0,"discussions":[{"author":{"id":1910075,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/25/3b/a971fc8e.jpg","nickname":"é˜¿æ„Ÿ","note":"","ucode":"7BCB7E44A832D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":252281,"discussion_content":"change(num, obj1, obj2)\nå°‘äº†ä¸€æ­¥å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588147814,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1305087,"avatar":"","nickname":"randy","note":"","ucode":"4D9E37745E6111","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":91729,"discussion_content":"å› ä¸ºä¼ çš„éƒ½æ˜¯æ‹·è´  æ²¡æœ‰ä¼ å¼•ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576846442,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":133199,"user_name":"Geek_8476da","can_delete":false,"product_type":"c1","uid":1623282,"ip_address":"","ucode":"9AE358E5F160AE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erMrXia5kb1AXUJoiccmIQxSQ7ib5SkibsQqd9FZInQcwYeNbZXp7CCtMibtg0RLHoza1NVo8A5M3uIluA/132","comment_is_top":false,"comment_ctime":1568440946,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568440946","product_id":100033601,"comment_content":"è¢«è¿”å›çš„å¯¹è±¡ä¸­å¤–éƒ¨æ²¡æœ‰è¢«ä½¿ç”¨åˆ°çš„å‡½æ•°ä¸­ä½¿ç”¨çš„å˜é‡ä¼šä¸ä¼šåŠ åˆ°clourse()ä¸­  ","like_count":0},{"had_liked":false,"id":133187,"user_name":"Geek_8476da","can_delete":false,"product_type":"c1","uid":1623282,"ip_address":"","ucode":"9AE358E5F160AE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erMrXia5kb1AXUJoiccmIQxSQ7ib5SkibsQqd9FZInQcwYeNbZXp7CCtMibtg0RLHoza1NVo8A5M3uIluA/132","comment_is_top":false,"comment_ctime":1568438278,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568438278","product_id":100033601,"comment_content":"ä¸ºä»€ä¹ˆæµè§ˆå™¨ä»scopeä¸­çœ‹åˆ°cçš„å€¼ä¸æ˜¯åœ°å€å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":133183,"user_name":"Geek_8476da","can_delete":false,"product_type":"c1","uid":1623282,"ip_address":"","ucode":"9AE358E5F160AE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erMrXia5kb1AXUJoiccmIQxSQ7ib5SkibsQqd9FZInQcwYeNbZXp7CCtMibtg0RLHoza1NVo8A5M3uIluA/132","comment_is_top":false,"comment_ctime":1568436438,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1568436438","product_id":100033601,"comment_content":"æˆ‘ä¹Ÿå¾—jsçš„åŠ¨æ€ä¸å¼±ç±»å‹çš„è§£é‡Šéœ€è¦æ¢ä¸€ä¸‹","like_count":0,"discussions":[{"author":{"id":1039904,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/de/20/03130a39.jpg","nickname":"æ²§æµ·ä¸€å£°ç¬‘","note":"","ucode":"5297F2F4736B63","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224136,"discussion_content":"è¿™ç§å°±æ²¡æœ‰å¿…è¦çº ç»“å§ è€Œä¸”jsä¹Ÿæ²¡æœ‰æŒ‡é’ˆå•Š æˆ‘ä»¬æ˜¯ç”¨å¼•ç”¨ç±»å‹æ¨¡æ‹ŸæŒ‡é’ˆè€Œå·²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586271222,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132565,"user_name":"æ¿æ —","can_delete":false,"product_type":"c1","uid":1145918,"ip_address":"","ucode":"9774FA44227B22","user_header":"https://static001.geekbang.org/account/avatar/00/11/7c/3e/a9eeb2df.jpg","comment_is_top":false,"comment_ctime":1568166625,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1568166625","product_id":100033601,"comment_content":"æœ‰ä¸€ä¸ªç–‘æƒ‘ï¼Œfoo æ‰§è¡Œä¸Šä¸‹æ–‡é”€æ¯åï¼Œè¿”å›çš„å¯¹è±¡{getName, setName} å­˜æ”¾åœ¨å“ªé‡Œå‘¢ï¼Ÿ foo çš„æ‰§è¡Œä¸Šä¸‹æ–‡åŒ…å«å®ƒæŠŠåº”è¯¥ã€‚","like_count":0,"discussions":[{"author":{"id":1930698,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/75/ca/4c127da3.jpg","nickname":"Emma","note":"","ucode":"C2D31142AF7288","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":212908,"discussion_content":"å­˜åˆ°å †å†…å­˜ï¼Œå½“ä½ èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œè¿™ä¸ªå˜é‡å°±ä¼šæŒ‡å‘é‚£ä¸ªå¯¹è±¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585032168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131990,"user_name":"èŠ±å„¿ä¸å°‘å¹´","can_delete":false,"product_type":"c1","uid":1046304,"ip_address":"","ucode":"E2D685737E4F1B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/20/e2dfa9c2.jpg","comment_is_top":false,"comment_ctime":1567999997,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567999997","product_id":100033601,"comment_content":"typeof æ•°æ®ç±»å‹è½äº†ä¸€ä¸ª&#39; function&#39;","like_count":0},{"had_liked":false,"id":131119,"user_name":"ğŸª","can_delete":false,"product_type":"c1","uid":1299829,"ip_address":"","ucode":"2B6D01EA82DE97","user_header":"https://static001.geekbang.org/account/avatar/00/13/d5/75/d93f9648.jpg","comment_is_top":false,"comment_ctime":1567646806,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567646806","product_id":100033601,"comment_content":"<br>```js<br>function deepClone(obj, hash = new WeakMap()) {<br>    if (Object(obj) !== obj) return obj; &#47;&#47; primitives<br>    if (hash.has(obj)) return hash.get(obj); &#47;&#47; cyclic reference<br>    var result = Array.isArray(obj) ? [] <br>               : obj.constructor ? new obj.constructor() : Object.create(null);<br>    hash.set(obj, result);<br>    if (obj instanceof Map)<br>        Array.from(obj, ([key, val]) =&gt; result.set(key, deepClone(val, hash)) );<br>    return Object.assign(result, ...Object.keys(obj).map (<br>        key =&gt; ({ [key]: deepClone(obj[key], hash) }) ));<br>}<br>```","like_count":0},{"had_liked":false,"id":130795,"user_name":"è“é…é¸¡","can_delete":false,"product_type":"c1","uid":1348738,"ip_address":"","ucode":"C79A7CA8885B7C","user_header":"https://static001.geekbang.org/account/avatar/00/14/94/82/d0a417ba.jpg","comment_is_top":false,"comment_ctime":1567554030,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567554030","product_id":100033601,"comment_content":"è¿Ÿäº¤ä½œä¸šå’¯â€¦â€¦<br><br>const copy = function(src) {<br>\tlet dest = {};<br>\tconst keyArr = Object.keys(src)<br><br>\tkeyArr.forEach(function(key) {<br>\t\tlet keyType<br>\t\tif (key === null) {<br>\t\t\tkeyType = &#39;null&#39;<br>\t\t} else {<br>\t\t\tkeyType = typeof key<br>\t\t}<br><br>\t\tif (keyType === &#39;object&#39;) {<br>\t\t\tdest[key] = copy(src[key])<br>\t\t} else {<br>\t\t\tdest[key] = src[key];<br>\t\t}<br>\t})<br><br>\treturn dest<br>}","like_count":0},{"had_liked":false,"id":130757,"user_name":"tokey","can_delete":false,"product_type":"c1","uid":1337746,"ip_address":"","ucode":"5278487F37D4EC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJS0jwYKhjm1hq96go05J4R7XDd5FFXXaoyIfX9TgoI3mLURAu2ET72SvYGM2iaET7IV3WDvMibAVfw/132","comment_is_top":false,"comment_ctime":1567526219,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"1567526219","product_id":100033601,"comment_content":"è€å¸ˆï¼æ·±æ‹·è´å¦‚æœé‡åˆ°å¾ªç¯å¼•ç”¨çš„è¯¥å¦‚ä½•è§£å†³ï¼ˆé¢è¯•é‡åˆ°çš„æ¯”è¾ƒæ¶å¿ƒçš„é¢˜ï¼‰ï¼Ÿ<br>var obj = {<br>\ta: {}<br>}<br>obj.a.b = obj.a<br>æ¯”å¦‚è¿™ç§ obj æ˜¯ä¸ªå¾ªç¯å¼•ç”¨çš„å¯¹è±¡ã€‚","like_count":0,"discussions":[{"author":{"id":1623560,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c6/08/628774e8.jpg","nickname":"åŠç“¶æ°´ï¼ˆHerwtï¼‰","note":"","ucode":"4B307AE7EE15EB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":47165,"discussion_content":"5.å¾ªç¯å¼•ç”¨æ‹·è´\n1ï¼‰çˆ¶çº§å¼•ç”¨â€”â€”ä½¿ç”¨parentå‚æ•°\nè¿™é‡Œçš„çˆ¶çº§å¼•ç”¨æŒ‡çš„æ˜¯ï¼Œå½“å¯¹è±¡çš„æŸä¸ªå±æ€§ï¼Œæ­£æ˜¯è¿™ä¸ªå¯¹è±¡æœ¬èº«ï¼Œæ­¤æ—¶æˆ‘ä»¬å¦‚æœè¿›è¡Œæ·±æ‹·è´ï¼Œå¯èƒ½ä¼šåœ¨å­å…ƒç´ ->çˆ¶å¯¹è±¡->å­å…ƒç´ ...è¿™ä¸ªå¾ªç¯ä¸­ä¸€ç›´è¿›è¡Œï¼Œå¯¼è‡´æ ˆæº¢å‡ºã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š\nfunction deepCopy2(obj, parent=null) {\n//åˆ›å»ºä¸€  \n  function deepCopy2(obj, parent=null) {\n        //åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡\n        let result = {};\n        let keys = Object.keys(obj),\n             key = null,\n             temp = null,\n             _parent = parent;\n        //è¯¥å­—æ®µæœ‰çˆ¶çº§åˆ™éœ€è¦è¿½æº¯è¯¥å­—æ®µçš„çˆ¶çº§\n        while(_parent) {\n            //å¦‚æœè¯¥å­—æ®µå¼•ç”¨äº†å®ƒçš„çˆ¶çº§ï¼Œåˆ™ä¸ºå¾ªç¯å¼•ç”¨\n            if(_parent.originParent === obj) {\n                //å¾ªç¯å¼•ç”¨è¿”å›åŒçº§çš„æ–°å¯¹è±¡\n                return _parent.currentParent;\n            }\n            _parent = _parent.parent\n        }\n        for(let i=0,len=keys.length;i<len;i++) {\n            key = keys[i]\n            temp = obj[key]\n            // å¦‚æœå­—æ®µçš„å€¼ä¹Ÿæ˜¯ä¸€ä¸ªæ–°å¯¹è±¡\n            if(temp &amp;&amp; typeof temp === &#39;object&#39;) {\n                result[key] = deepCopy(temp, {\n                    originParent: obj,\n                    currentParent: result,\n                    parent: parent\n                });\n            } else {\n                result[key] = temp;\n            }\n        }\n        return result;\n    }\n     \n    const obj1 = {\n        x:1\n    }\n    obj1.z = obj1;\n1ï¼‰åŒçº§æ‹·è´â€”â€”ä½¿ç”¨WeakMapæ ‡è¯†hash\nfunction deepCopy3(obj) {\n    // hashè¡¨ï¼Œè®°å½•æ‰€æœ‰çš„å¯¹è±¡çš„å¼•ç”¨å…³ç³»\n    let map = new WeakMap();\n    function dp(obj) {\n        let result = null;\n        let keys = Object.keys(obj);\n        let key = null,\n            temp = null,\n            existobj = null;\n \n        existobj = map.get(obj);\n        //å¦‚æœè¿™ä¸ªå¯¹è±¡å·²ç»è¢«è®°å½•åˆ™ç›´æ¥è¿”å›\n        if(existobj) {\n            return existobj;\n        }\n \n        result = {}\n        map.set(obj, result);\n \n        for(let i =0,len=keys.length;i<len;i++) {\n            key = keys[i];\n            temp = obj[key];\n            if(temp &amp;&amp; typeof temp === &#39;object&#39;) {\n                result[key] = dp(temp);\n            }else {\n                result[key] = temp;\n            }\n        }\n        return result;\n    }\n    return dp(obj);\n}","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573285647,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1319638,"avatar":"https://static001.geekbang.org/account/avatar/00/14/22/d6/9378f4d5.jpg","nickname":"éš”å¤œæœé…±","note":"","ucode":"5AFEB62E832BCB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8412,"discussion_content":"è¿™ç§å§\nfunction isObject(o) {\n\treturn Object.prototype.toString.call(o) === &#34;[object Object]&#34;;\n}\nfunction deepClone(obj, hash = new WeakMap()) {\n\tif (!isObject(obj)) return obj;\n\tif (hash.has(obj)) return hash.get(obj); // !\n\tlet cloneObj = Array.isArray(obj) ? [] : {};\n\tlet allDesc = Object.getOwnPropertyDescriptors(obj);\n\tlet symKeys = Object.getOwnPropertySymbols(obj);\n\tsymKeys.forEach((symKey) => (cloneObj[symKey] = obj[symKey]));\n\tcloneObj = Object.create(Object.getPrototypeOf(cloneObj), allDesc);\n\thash.set(obj, cloneObj);\n\tfor (let key in obj) cloneObj[key] = isObject(obj[key]) ? deepClone(obj[key], hash) : obj[key];\n\treturn cloneObj;\n}","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568000158,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1299829,"avatar":"https://static001.geekbang.org/account/avatar/00/13/d5/75/d93f9648.jpg","nickname":"ğŸª","note":"","ucode":"2B6D01EA82DE97","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7705,"discussion_content":"ç”¨ weakmap æ¥æ£€æµ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567646785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1337746,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJS0jwYKhjm1hq96go05J4R7XDd5FFXXaoyIfX9TgoI3mLURAu2ET72SvYGM2iaET7IV3WDvMibAVfw/132","nickname":"tokey","note":"","ucode":"5278487F37D4EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1299829,"avatar":"https://static001.geekbang.org/account/avatar/00/13/d5/75/d93f9648.jpg","nickname":"ğŸª","note":"","ucode":"2B6D01EA82DE97","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7749,"discussion_content":"å¯å¦æä¾›ä¸‹å®ç°æ€è·¯å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567660389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":7705,"ip_address":""},"score":7749,"extra":""}]}]},{"had_liked":false,"id":130397,"user_name":"ytd","can_delete":false,"product_type":"c1","uid":1038790,"ip_address":"","ucode":"C6AEA2D19E447A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d9/c6/8be8664d.jpg","comment_is_top":false,"comment_ctime":1567440978,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567440978","product_id":100033601,"comment_content":"```js<br>function deepCopy(target, source) {<br>  for(k in source) {<br>    if (source[k] !== null &amp;&amp; typeof source[k] === &#39;object&#39;) {<br>      if (Array.isArray(source[k])) {<br>        target[k] = []<br>      } else {<br>        target[k] = {}<br>      }<br>      deepCopy(target[k], source[k])<br>    } else {<br>      target[k] = source[k]<br>    }<br>  }<br>  return target<br>}<br><br>&#47;**<br> * å¯¹è±¡çš„æ·±æ‹·è´<br> * @param {object} src object src<br> * @return {object}<br> *&#47;<br>function copy(src){<br>  if (src === null) {<br>    return null<br>  }<br>  let dest<br>  &#47;&#47; å®ç°æ‹·è´ä»£ç ï¼Œå°† src çš„å€¼å®Œæ•´åœ°æ‹·è´ç»™ dest<br> &#47;&#47; åœ¨è¿™é‡Œå®ç°<br>  dest = deepCopy({}, src)<br>  return dest<br>}<br>let jack2 = copy(jack)<br><br>&#47;&#47; æ¯”å¦‚ä¿®æ”¹ jack2 ä¸­çš„å†…å®¹ï¼Œä¸ä¼šå½±å“åˆ° jack ä¸­çš„å€¼<br>jack2.like.dog.color = &#39;green&#39;<br>console.log(jack.like.dog.color) &#47;&#47; æ‰“å°å‡ºæ¥çš„åº”è¯¥æ˜¯ &quot;black&quot;<br>```","like_count":0},{"had_liked":false,"id":130382,"user_name":"å¿˜å¿§è‰çš„çº¦å®š","can_delete":false,"product_type":"c1","uid":1114753,"ip_address":"","ucode":"F99D2F5D179B2A","user_header":"https://static001.geekbang.org/account/avatar/00/11/02/81/489e1cd4.jpg","comment_is_top":false,"comment_ctime":1567437998,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567437998","product_id":100033601,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æƒ³è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼šclourse(foo) å¯¹è±¡æ˜¯åœ¨setNameæ–¹æ³•çš„æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡ç¯å¢ƒä¸­è¿˜æ˜¯outerä¸­ï¼Ÿæ˜¯åœ¨å¯¹setNameå‡½æ•°è¿›è¡Œè¯æ³•æ‰«ææ—¶å†™å…¥çš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":130331,"user_name":"è°¢æµ·æ¶›","can_delete":false,"product_type":"c1","uid":1216699,"ip_address":"","ucode":"9408053AF26876","user_header":"https://static001.geekbang.org/account/avatar/00/12/90/bb/c29f0f99.jpg","comment_is_top":false,"comment_ctime":1567426798,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567426798","product_id":100033601,"comment_content":"function copy(target, source) {<br>    for (let k in source) {<br>        if (typeof source[k] === &#39;object&#39;) {<br>            target[k] = {};<br>            copy(target[k], source[k])<br>        } else {<br>            target[k] = source[k]<br>        }<br>    }<br>    return target<br>}","like_count":0},{"had_liked":false,"id":130173,"user_name":"Angus","can_delete":false,"product_type":"c1","uid":1377467,"ip_address":"","ucode":"7CC3BA1550FB5B","user_header":"https://static001.geekbang.org/account/avatar/00/15/04/bb/5e5c37c1.jpg","comment_is_top":false,"comment_ctime":1567396729,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567396729","product_id":100033601,"comment_content":"è€å¸ˆç¤ºä¾‹ä»£ç çš„æœ€åä¸¤è¡Œæœ‰ç¬”è¯¯ï¼š&quot;green&quot; ä¸ console<br>      let jack = {<br>        name: &quot;jack.ma&quot;,<br>        age: 40,<br>        like: {<br>          dog: {<br>            color: &quot;black&quot;,<br>            age: 3<br>          },<br>          cat: {<br>            color: &quot;white&quot;,<br>            age: 2<br>          }<br>        }<br>      };<br>      function copy(src) {<br>        &#47;&#47; å®ç°æ‹·è´ä»£ç ï¼Œå°† src çš„å€¼å®Œæ•´åœ°æ‹·è´ç»™ dest<br>        &#47;&#47; åœ¨è¿™é‡Œå®ç°<br>        if (typeof src !== &quot;object&quot; || !src) return src; &#47;&#47; åŸºç¡€æ•°æ®ç±»å‹ä¸null<br>        let dest = src instanceof Array ? [] : {};<br>        for (let key in src) {<br>          if (src.hasOwnProperty(key)) {<br>            dest[key] =<br>              typeof src[key] === &quot;object&quot; &amp;&amp; src[key] !== null<br>                ? copy(src[key])<br>                : src[key];<br>          }<br>        }<br><br>        return dest;<br>      }<br>      let jack2 = copy(jack);<br><br>      &#47;&#47; æ¯”å¦‚ä¿®æ”¹ jack2 ä¸­çš„å†…å®¹ï¼Œä¸ä¼šå½±å“åˆ° jack ä¸­çš„å€¼<br>      jack2.like.dog.color = &quot;green&quot;;<br>      console.log(jack.like.dog.color); &#47;&#47; æ‰“å°å‡ºæ¥çš„åº”è¯¥æ˜¯ &quot;black&quot;<br><br>æ ˆç©ºé—´ç”¨æ¥å­˜æ”¾æ‰§è¡Œä¸Šä¸‹æ–‡ã€å †ç©ºé—´ç”¨æ¥å­˜å‚¨å¼•ç”¨ç±»å‹æ•°æ®ã€‚<br><br>é‚£ä¹ˆé™¤æ­¤ä¹‹å¤–ï¼ŒJavaScriptå¼•æ“ä¸­çš„å †ç©ºé—´å’Œæ ˆç©ºé—´è¿˜ä¼šæœ‰åˆ«çš„ç”¨é€”å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":129766,"user_name":"å‘¨å¤§ä¾ ","can_delete":false,"product_type":"c1","uid":1011288,"ip_address":"","ucode":"4C76FE3CF0C96D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6e/58/59673667.jpg","comment_is_top":false,"comment_ctime":1567244719,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"1567244719","product_id":100033601,"comment_content":"JSON.parse(JSON.stringify()) æ‹·è´ï¼Œæ¯”è¾ƒæŠ•æœºå–å·§çš„æ–¹æ³•","like_count":0,"discussions":[{"author":{"id":1956684,"avatar":"","nickname":"Geek_4d85bf","note":"","ucode":"477B405EDE8286","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":257620,"discussion_content":"é€’å½’æ·±æ‹·è´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588595534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1956684,"avatar":"","nickname":"Geek_4d85bf","note":"","ucode":"477B405EDE8286","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":257619,"discussion_content":"è¿™ç§æ–¹æ³•ä¸å‡†ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588595525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129719,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1567230011,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567230011","product_id":100033601,"comment_content":"æ€è€ƒé¢˜å…¶å®å°±æ˜¯å®ç°ä¸€ä¸ªæ·±æ‹·è´ï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯JSON.parse(JSON.stringify(data))<br>å†è€…å°±æ˜¯é€’å½’å®ç°ï¼Œå¾ªç¯éå†å¯¹è±¡çš„æ¯ä¸ªå±æ€§ï¼Œå¦‚æœå±æ€§åˆæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°±å†æ¬¡é€’å½’ã€‚","like_count":0},{"had_liked":false,"id":129718,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1567229902,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1567229902","product_id":100033601,"comment_content":"è€å¸ˆå¯ä»¥è¯´ä¸€ä¸‹é€ƒé€¸åˆ†ææ˜¯ä»€ä¹ˆå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1956684,"avatar":"","nickname":"Geek_4d85bf","note":"","ucode":"477B405EDE8286","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":257617,"discussion_content":"ä½ ä»¬çŸ¥é“çš„å¤ªå¤šäº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588595468,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1624537,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c9/d9/00870178.jpg","nickname":"Slowdive","note":"","ucode":"AF3429CE47C462","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":227340,"discussion_content":"é€ƒé€¸åˆ†æå¤§æ¦‚å°±æ˜¯ä¿®æ”¹è¯æ³•ä½œç”¨åŸŸï¼Œ çœ‹ä½ ä¸çŸ¥é“jsï¼Œå¿˜äº†æ˜¯ç¬¬å‡ æœ¬ï¼Œè®²thisä¹‹å‰è¯´è¿‡é€ƒé€¸åˆ†æã€‚ ç”Ÿäº§ä¸­ç”¨å¤„ä¸å¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586484774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129660,"user_name":"Miracle","can_delete":false,"product_type":"c1","uid":1373357,"ip_address":"","ucode":"C98378B19CDF1E","user_header":"https://static001.geekbang.org/account/avatar/00/14/f4/ad/33d67855.jpg","comment_is_top":false,"comment_ctime":1567210474,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1567210474","product_id":100033601,"comment_content":"ä½¿ç”¨ Object.assign(dest, src)ï¼Œç„¶åè¿”å›destèµ‹å€¼ç»™jack2","like_count":0,"discussions":[{"author":{"id":1956684,"avatar":"","nickname":"Geek_4d85bf","note":"","ucode":"477B405EDE8286","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":257618,"discussion_content":"é€’å½’æ·±æ‹·è´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588595498,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1159960,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b3/18/e061e898.jpg","nickname":"AYK","note":"","ucode":"68E8C21A862A7A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7157,"discussion_content":"éœ€è¦çš„æ·±æ‹·è´å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567407751,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
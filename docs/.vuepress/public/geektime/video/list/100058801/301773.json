{"id":301773,"title":"50｜项目实战：实时交易反欺诈项目演示","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-Flink\">https://gitee.com/geektime-geekbang/geektime-Flink</a></p>","comments":[{"had_liked":false,"id":395909,"user_name":"淞淞同学","can_delete":false,"product_type":"c3","uid":1179533,"ip_address":"山东","ucode":"529A326B898008","user_header":"https://static001.geekbang.org/account/avatar/00/11/ff/8d/8601f035.jpg","comment_is_top":false,"comment_ctime":1732436214,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"if (ratePerSubtask &gt;= 10000) {\n      &#47;&#47; high rates: all throttling in intervals of 2ms\n      throttleBatchSize = (int) ratePerSubtask &#47; 500;\n      nanosPerBatch = 2_000_000L;\n    } else {\n      throttleBatchSize = ((int) (ratePerSubtask &#47; 20)) + 1;\n      nanosPerBatch = ((int) (1_000_000_000L &#47; ratePerSubtask)) * throttleBatchSize;\n    }\n    this.endOfNextBatchNanos = System.nanoTime() + nanosPerBatch;\n    this.currentBatch = 0;\n\n\n这一段没看明白啊。。。哪个大佬给解释一下~","like_count":0},{"had_liked":false,"id":380275,"user_name":"牛年榴莲","can_delete":false,"product_type":"c3","uid":1183703,"ip_address":"北京","ucode":"230C076193C6C0","user_header":"https://static001.geekbang.org/account/avatar/00/12/0f/d7/31d07471.jpg","comment_is_top":false,"comment_ctime":1693297750,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"提示：运行项目注意看 project-2-fraud-detection 中的 README.md","like_count":0},{"had_liked":false,"id":379747,"user_name":"欢乐马","can_delete":false,"product_type":"c3","uid":2649463,"ip_address":"广东","ucode":"6A8F1B2CAC9A53","user_header":"https://static001.geekbang.org/account/avatar/00/28/6d/77/cdef2006.jpg","comment_is_top":false,"comment_ctime":1692372565,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"项目运行这块讲的太快了，运行不起来了。","like_count":0},{"had_liked":false,"id":374844,"user_name":"ruanchengping","can_delete":false,"product_type":"c3","uid":1273531,"ip_address":"北京","ucode":"9BBAD85B81D52C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJbja5Dibv4HeWl0fbIBRIBVxp4qCWvWpPUERrxcO2bEI1ws6Q054eUqJUx23O2gY5Tz33YiavmxHg/132","comment_is_top":false,"comment_ctime":1684485858,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"这个例子可以跑通吗？&#47;etc&#47;hosts需要配置吗？直接执行docker compose -f docker-compose-local-job.yaml up没跑起来","like_count":0},{"had_liked":false,"id":358440,"user_name":"Jacob.C","can_delete":false,"product_type":"c3","uid":1070253,"ip_address":"广东","ucode":"034998E7A7CCD1","user_header":"https://static001.geekbang.org/account/avatar/00/10/54/ad/6ee2b7cb.jpg","comment_is_top":false,"comment_ctime":1664327091,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"老师，请问这代码只能同时执行一条聚合规则吗？如果要根据多种key分组，每组key计算多个规则，该怎么实现呢？","like_count":0},{"had_liked":false,"id":280632,"user_name":"正向成长","can_delete":false,"product_type":"c3","uid":1197344,"ip_address":"","ucode":"AC4B5E719BA5CD","user_header":"https://static001.geekbang.org/account/avatar/00/12/45/20/24867e59.jpg","comment_is_top":false,"comment_ctime":1614300646,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"咱们的项目 代码怎么获取？","like_count":0,"discussions":[{"author":{"id":2068627,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/90/93/5e94be87.jpg","nickname":"钝感","note":"","ucode":"50FE1DD4EAEB78","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":400320,"discussion_content":"git clone","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633232867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":263388,"user_name":"ShawnWu","can_delete":false,"product_type":"c3","uid":1308538,"ip_address":"","ucode":"B59C07067BB51E","user_header":"https://static001.geekbang.org/account/avatar/00/13/f7/7a/fc236813.jpg","comment_is_top":false,"comment_ctime":1606122374,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"老师，window后面就不能接connect的broadcast，是不是要在brocastprocessfuction或者keyedbroadcastprocessfunction中用timeservice做window啊","like_count":0},{"had_liked":false,"id":261429,"user_name":"howdyli","can_delete":false,"product_type":"c3","uid":1190718,"ip_address":"","ucode":"DD949639D29F5E","user_header":"https://static001.geekbang.org/account/avatar/00/12/2b/3e/7ef8f24c.jpg","comment_is_top":false,"comment_ctime":1605333107,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"老师您好：\n        我的项目演示存在问题，不能启动。kafka启动，然后就停止了。","like_count":0},{"had_liked":false,"id":261413,"user_name":"Allan","can_delete":false,"product_type":"c3","uid":1310388,"ip_address":"","ucode":"8DA4DBECC2C45C","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/b4/295338e7.jpg","comment_is_top":false,"comment_ctime":1605325694,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"老师，请教个问题。就是flink开窗口去重复，会出现checkpoint 序列化的时候内存溢出，这个内存是堆外存嘛？从哪儿可以看到？怎么解决这个问题呢？我的目的就是由于多个任务会把消息打到下游的topic，下游topic对这些数据开个一分钟或者两分钟的窗口把数据去重复一下，这个作业也可以接入批量的数据，我的flink版本1.6.","like_count":0}]}
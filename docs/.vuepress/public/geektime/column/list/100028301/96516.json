{"id":96516,"title":"å¼€ç¯‡è¯ | OpenRestyï¼Œä¸ºä½ æ‰“å¼€é«˜æ€§èƒ½å¼€å‘çš„å¤§é—¨","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æ¸©é“­ï¼ŒOpenResty è½¯ä»¶åŸºé‡‘ä¼šä¸»å¸­ï¼Œæ›¾ä»»æŸå¼€æºå•†ä¸šå…¬å¸åˆä¼™äººï¼Œå‰ 360 å¼€æºæŠ€æœ¯å§”å‘˜ä¼šå§”å‘˜ï¼Œåœ¨äº’è”ç½‘å®‰å…¨å…¬å¸å·¥ä½œäº† 10 å¹´ï¼Œè´Ÿè´£å¼€å‘è¿‡äº‘æŸ¥æ€ã€åé’“é±¼å’Œä¼ä¸šå®‰å…¨äº§å“ã€‚æ¥ä¸‹æ¥çš„å‡ ä¸ªæœˆï¼Œæˆ‘ä¼šå¸¦ç€ä½ ç³»ç»Ÿåœ°å­¦ä¹ ä¸€ä¸‹ OpenRestyã€‚</p><h2>ä¸ºä»€ä¹ˆå­¦ä¹  OpenResty</h2><p>ä¸ºä»€ä¹ˆå­¦ä¹  OpenRestyï¼Œè¿™æ˜¯å¼€ç¯‡çš„ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬æ­£èº«å¤„æŠ€æœ¯æ—¥æ–°æœˆå¼‚çš„æ—¶ä»£ï¼Œç»å¸¸å¬åˆ°å‘¨å›´çš„å·¥ç¨‹å¸ˆå¼€ç©ç¬‘è¯´ï¼Œå­¦ä¸åŠ¨äº†ã€‚äººçš„ç²¾åŠ›æœ‰é™ï¼Œé€‰æ‹©å­¦ä¹ æŸä¸ªæŠ€æœ¯éƒ½ä¼šæœ‰æœºä¼šæˆæœ¬ã€‚æœ€å¥½çš„é€‰æ‹©ï¼Œæ˜¯ä»ä½ å·¥ä½œä¸­æ¶‰åŠåˆ°çš„éƒ¨åˆ†å‡ºå‘ï¼Œå­¦ä»¥è‡´ç”¨ã€‚</p><p>å¯¹äºæœåŠ¡ç«¯å·¥ç¨‹å¸ˆæ¥è¯´ï¼Œå¦‚æœä½ çš„å·¥ä½œä¸­æ¶‰åŠåˆ° NGINXã€é«˜æ€§èƒ½ã€é«˜å¹¶å‘ã€åŠ¨æ€æ§åˆ¶ã€æ€§èƒ½æµ‹è¯•å’Œåˆ†æç­‰ï¼Œé‚£ä¹ˆä¸ç®¡å¼€å‘è¯­è¨€å’Œå¹³å°æ˜¯ä»€ä¹ˆï¼Œè¿™é—¨ OpenResty è¯¾ç¨‹éƒ½ä¼šè®©ä½ æœ‰æ‰€è£¨ç›Šã€‚å¦‚æœä½ ä¹‹å‰æ²¡æœ‰æ¥è§¦è¿‡ OpenRestyï¼Œæˆ‘ç¡®ä¿¡å®ƒä¼šç»™ä½ æ‰“å¼€å¦å¤–ä¸€ä¸ªæœåŠ¡ç«¯ä¸–ç•Œçš„å¤§é—¨ã€‚</p><p>OpenResty æ˜¯ä¸€ä¸ªå…¼å…·å¼€å‘æ•ˆç‡å’Œæ€§èƒ½çš„æœåŠ¡ç«¯å¼€å‘å¹³å°ï¼Œ<strong>è™½ç„¶å®ƒåŸºäº NGINX å®ç°ï¼Œä½†å…¶é€‚ç”¨èŒƒå›´ï¼Œæ—©å·²è¿œè¿œè¶…å‡ºåå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡</strong>ã€‚</p><p>å®ƒçš„æ ¸å¿ƒæ˜¯åŸºäº NGINX çš„ä¸€ä¸ª C æ¨¡å—ï¼ˆlua-nginx-moduleï¼‰ï¼Œè¯¥æ¨¡å—å°† LuaJIT åµŒå…¥åˆ° NGINX æœåŠ¡å™¨ä¸­ï¼Œå¹¶å¯¹å¤–æä¾›ä¸€å¥—å®Œæ•´çš„ Lua APIï¼Œé€æ˜åœ°æ”¯æŒéé˜»å¡ I/Oï¼Œæä¾›äº†è½»é‡çº§çº¿ç¨‹ã€å®šæ—¶å™¨ç­‰é«˜çº§æŠ½è±¡ã€‚åŒæ—¶ï¼Œå›´ç»•è¿™ä¸ªæ¨¡å—ï¼ŒOpenResty æ„å»ºäº†ä¸€å¥—å®Œå¤‡çš„æµ‹è¯•æ¡†æ¶ã€è°ƒè¯•æŠ€æœ¯ä»¥åŠç”± Lua å®ç°çš„å‘¨è¾¹åŠŸèƒ½åº“ã€‚</p><!-- [[[read_end]]] --><p>ä½ å¯ä»¥ç”¨ Lua è¯­è¨€æ¥è¿›è¡Œå­—ç¬¦ä¸²å’Œæ•°å€¼è¿ç®—ã€æŸ¥è¯¢æ•°æ®åº“ã€å‘é€ HTTP è¯·æ±‚ã€æ‰§è¡Œå®šæ—¶ä»»åŠ¡ã€è°ƒç”¨å¤–éƒ¨å‘½ä»¤ç­‰ï¼Œè¿˜å¯ä»¥ç”¨ FFI çš„æ–¹å¼è°ƒç”¨å¤–éƒ¨ C å‡½æ•°ã€‚è¿™åŸºæœ¬ä¸Šå¯ä»¥æ»¡è¶³æœåŠ¡ç«¯å¼€å‘éœ€è¦çš„æ‰€æœ‰åŠŸèƒ½ã€‚</p><p>æŒæ¡å¥½äº† OpenRestyï¼Œä½ å°±å¯ä»¥åŒæ—¶æ‹¥æœ‰è„šæœ¬è¯­è¨€çš„å¼€å‘æ•ˆç‡å’Œè¿­ä»£é€Ÿåº¦ï¼Œä»¥åŠ NGINX C æ¨¡å—çš„é«˜å¹¶å‘å’Œé«˜æ€§èƒ½ä¼˜åŠ¿ã€‚</p><h2>æˆ‘ä¸OpenRestyçš„æ¸Šæº</h2><p>è¯´äº†è¿™ä¹ˆå¤šOpenRestyçš„ç‰¹ç‚¹ï¼Œæˆ‘åˆæ˜¯æ€æ ·ä¸å®ƒç»“ç¼˜çš„å‘¢ï¼Ÿå…¶å®ï¼Œæˆ‘æ˜¯åœ¨ 2012 å¹´å¼€å§‹æ¥è§¦OpenRestyçš„ï¼Œé‚£ä¼šå„¿æˆ‘æ­£åœ¨ä¸ºä¸€ä¸ªæ–°çš„ç³»ç»ŸåšæŠ€æœ¯é€‰å‹ï¼Œä½œä¸ºä¸€ä¸ª Python çš„å¿ å®ç²‰ä¸ï¼Œæˆ‘ä¸å–œæ¬¢ NGINX C æ¨¡å—çš„è‰°æ¶©ï¼Œå´å¸Œæœ›å¾—åˆ°å®ƒçš„é«˜æ€§èƒ½ï¼Œé±¼ä¸ç†ŠæŒæƒ³å…¼å¾—ã€‚è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>ç»è¿‡ä¸€ç•ªæœå¯»åï¼Œæˆ‘å‘ç°äº† Python ç¤¾åŒºâ€œå¤§å¦ˆâ€ ZQ çš„ä¸€ç¯‡ä»‹ç» OpenResty çš„æ–‡ç« ï¼Œå¯ä»¥è¯´æ˜¯å¦‚è·è‡³å®ã€‚ä¸è¿‡ï¼Œå…´å¥‹åªæŒç»­äº†å¾ˆçŸ­çš„æ—¶é—´ï¼Œå› ä¸ºä¹‹åçš„æˆ‘ï¼Œå°±åƒæ˜¯æ— å¤´è‹è‡ä¸€æ ·ï¼Œå¼€å§‹åœ¨é»‘æš—ä¸­æ‘¸ç´¢ç€ç¼“æ…¢å‰è¡Œã€‚è¸©äº†æ•°ä¸æ¸…çš„å‘åï¼Œæˆ‘æ‰çœŸæ­£æ‹¿ä¸‹äº†OpenRestyã€‚</p><p>å’Œå¾ˆå¤šå·¥ç¨‹å¸ˆä¸åŒçš„æ˜¯ï¼Œæˆ‘å–œæ¬¢å†™æ–‡ç« ï¼Œåœ¨å¤§å­¦æœŸé—´å°±ä¸€ç›´ç»´æŠ¤ç€è‡ªå·±çš„æŠ€æœ¯åšå®¢ã€‚æœ‰ä¸€å¤©æ™šä¸ŠåŠ ç­æ—¶ï¼Œæˆ‘å‘ç°èº«è¾¹ä¸€ä½å·¥ç¨‹å¸ˆåœ¨ç”¨ GitHub è®°å½• ELK çš„ä½¿ç”¨å¿ƒå¾—ï¼Œå¹¶å‘å¸ƒåˆ°äº† GitBook ä¸Šã€‚åŸæ¥ GitHub è¿˜å¯ä»¥å¼€æºä¹¦ç±ï¼Œè€Œä¸åªæ˜¯ä»£ç ï¼</p><p>æˆ‘ä¸€ä¸‹å­å°±è¢«ç‚¹ç‡ƒäº†ï¼Œå½“æ™šå°±åˆ—å‡ºäº†ã€ŠOpenResty æœ€ä½³å®è·µã€‹çš„ç›®å½•ï¼Œå¹¶å¼€å§‹â€œé¼“åŠ¨â€å‘¨å›´çš„å·¥ç¨‹å¸ˆåŠ å…¥ã€‚æˆ‘ä»¬ä»æœªå®£ä¼ è¿‡è¿™ä¸ªå¼€æºé¡¹ç›®ï¼Œä½†å®ƒæ…¢æ…¢å˜æˆäº† OpenResty å…¥é—¨è€…çš„æœ€ä½³ä¼™ä¼´ã€‚</p><p>ä¸è¿‡ï¼Œåœ¨åŠ å…¥ OpenResty Inc. åï¼Œæˆ‘æ‰é€æ¸å‘ç°ï¼Œèƒ½å†™å‡ºæ­£ç¡®çš„ OpenResty ä»£ç å¹¶é¿å…å¸¸è§çš„å‘ï¼Œå’Œå†™å‡ºé«˜æ€§èƒ½ã€ä¼˜è´¨çš„ OpenResty ä»£ç ä¹‹é—´ï¼Œè¿˜ç›¸å·®äº†åä¸‡å…«åƒé‡Œã€‚<strong>è€Œè·¨è¶Šè¿™ä¸ªå·¨å¤§é¸¿æ²Ÿçš„æ³•å®é›¶ä»¶ï¼Œæ•£è½åœ¨ OpenResty å¼€æºé¡¹ç›®çš„æºç ã€æ–‡æ¡£ã€issueã€PRã€å¹»ç¯ç‰‡ã€é‚®ä»¶åˆ—è¡¨ä¸­ï¼Œéœ€è¦ä½ æŠŠå®ƒä»¬ä¸²è”æˆçœŸæ­£çš„æ³•å®â€”â€”ä¸€ä¸ªå®Œæ•´çš„å­¦ä¹ ä½“ç³»å’ŒçŸ¥è¯†å›¾è°±</strong>ã€‚</p><p>é‚£å¦‚ä½•æ‰èƒ½ä½“ç³»åŒ–å­¦ä¹ OpenRestyå‘¢ï¼Ÿåœ¨ OpenResty çš„æŠ€æœ¯äº¤æµç¾¤é‡Œé¢ï¼Œå¾ˆå¤šå·¥ç¨‹å¸ˆéƒ½æ›¾ç»æœ‰è¿‡è¿™æ ·çš„å›°æƒ‘ã€‚</p><p>äº‹å®ä¸Šï¼ŒOpenResty çš„å­¦ä¹ èµ„æ–™è¿˜æ¯”è¾ƒå°‘ï¼Œå®˜æ–¹åªæœ‰ API æ–‡æ¡£ï¼Œå¹¶æ²¡æœ‰æä¾›å…¥é—¨å’Œè¿›é˜¶çš„æ–‡æ¡£ï¼Œè€Œç½‘ä¸Šèƒ½æ‰¾åˆ°çš„èµ„æ–™ä¹Ÿä¸å¤Ÿç³»ç»Ÿã€‚å¯ä»¥è¯´ï¼Œç»å¤§éƒ¨åˆ†çš„ OpenResty ä½¿ç”¨è€…éƒ½æ˜¯åœ¨æ‘¸ç€çŸ³å¤´è¿‡æ²³ï¼Œè¿‡ç¨‹å¾ˆç—›è‹¦ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä¸æå®¢æ—¶é—´åˆä½œäº†è¿™ä¸ªä¸“æ ï¼Œç›®çš„å¾ˆæ˜ç¡®ï¼Œå°±æ˜¯è®©ä½ è½»æ¾å¿«é€Ÿåœ°å…¥é—¨ï¼Œå¹¶ç»™ä½ æç»˜å‡º OpenResty çš„å…¨è²Œï¼Œå¸®ä½ å»ºç«‹çŸ¥è¯†ä½“ç³»ï¼Œå¸¦ä½ çœŸæ­£æŒæ¡OpenRestyè¿™æ¬¾å¼€å‘åˆ©å™¨ã€‚</p><h2>å­¦ä¹ è¿™ä¸ªä¸“æ éœ€è¦ä»€ä¹ˆåŸºç¡€ï¼Ÿ</h2><p>OpenResty æ˜¯åœ¨ NGINX å’Œ LuaJIT çš„åŸºç¡€ä¸Šæ­å»ºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è‚¯å®šéœ€è¦ NGINX å’Œ LuaJIT çš„åŸºç¡€çŸ¥è¯†ã€‚</p><p>ä½†ä½ åªéœ€è¦å¾ˆå°‘çš„ NGINX çŸ¥è¯†ï¼Œå°±è¶³å¤Ÿå¼€å§‹ OpenResty ä¹‹æ—…äº†ã€‚å°‘åˆ°ä»€ä¹ˆç¨‹åº¦å‘¢ï¼Ÿæ¶‰åŠåˆ°çš„ NGINX çŸ¥è¯†ï¼Œæˆ‘åªç”¨ä¸€èŠ‚è¯¾å°±ä»‹ç»å®Œäº†ã€‚å³ä½¿ä½ å®Œå…¨æ²¡æœ‰æ¥è§¦è¿‡ NGINXï¼Œä¹Ÿå¯ä»¥è·Ÿç€è¯¾ç¨‹çš„èŠ‚å¥ï¼Œé€æ­¥å­¦ä¹  OpenRestyã€‚</p><p>è¦çŸ¥é“ï¼ŒOpenResty å¹¶ä¸ç­‰åŒäº NGINXï¼ŒOpenResty è¿™ä¸ªé¡¹ç›®çš„ç›®çš„ä¹‹ä¸€ï¼Œå°±æ˜¯è®©ä½ æ„ŸçŸ¥ä¸åˆ° NGINX çš„å­˜åœ¨ã€‚</p><p>è€Œä»ç¼–ç¨‹è¯­è¨€æ¥çœ‹ï¼ŒLua æ˜¯ä¸€ç§å¾ˆå®¹æ˜“ç†è§£çš„è¯­è¨€ï¼Œä½ åªè¦èƒ½å¤Ÿçœ‹æ‡‚å®ƒçš„ä»£ç ï¼Œå°±å¯ä»¥å®Œæˆæœ¬ä¸“æ çš„å­¦ä¹ ï¼Œå¹¶ä¸éœ€è¦èƒ½å¤Ÿç‹¬ç«‹å†™å‡ºå¤æ‚çš„ Lua ä»£ç ã€‚åŒæ ·çš„ï¼Œæˆ‘ä¹Ÿä¼šèŠ±å°‘æ•°å‡ èŠ‚è¯¾çš„æ—¶é—´ï¼Œå¸¦ä½ å…¥é—¨Luaï¼Œè¾¾åˆ°OpenResty çš„ä½¿ç”¨æ°´å‡†ã€‚</p><h2>ä»å®æˆ˜ä¸­æ¥ï¼Œåˆ°å®æˆ˜ä¸­å»</h2><p>å®è·µå‡ºçœŸçŸ¥ï¼Œè¿™å¥è¯ç”¨åœ¨äº’è”ç½‘æŠ€æœ¯çš„å­¦ä¹ ä¸Šå¾ˆæ°å½“ã€‚</p><p>å’Œç†è®ºåå¤šçš„ä¹¦ç±ä¸åŒï¼Œä¸“æ çš„å½¢å¼æœ¬èº«æ›´åé‡äºå®æˆ˜ã€‚ä¸“æ ä¸­å‡ºç°çš„ä¸å°‘ä»£ç ï¼Œéƒ½æºè‡ªå¼€æº OpenResty çš„æµ‹è¯•æ¡ˆä¾‹ï¼Œä»¥åŠå®é™…çš„å¼€æºé¡¹ç›®ã€‚å¼•ç”¨è¿™äº›å®é™…æ¡ˆä¾‹ï¼Œå°±æ˜¯å¸Œæœ›ä½ åœ¨å…¥é—¨ä¹‹åˆï¼Œå°±èƒ½æ¥è§¦åˆ°æœ€ä¼˜ç§€çš„ä»£ç ï¼Œäº†è§£åˆ°æœ€çœŸå®çš„ä½¿ç”¨åœºæ™¯ã€‚</p><p>åŒæ—¶ï¼Œæˆ‘è¿˜ä¼šåœ¨ä¸“æ æ–‡ç« ä¸­ï¼Œç©¿æ’å¤šä¸ªè§†é¢‘è¯¾ç¨‹ã€‚è§†é¢‘è¯¾çš„å†…å®¹ï¼Œéƒ½å–è‡ªçœŸå®å¼€æºé¡¹ç›®çš„åŠŸèƒ½ç‚¹å’Œ PRã€‚é€šè¿‡è§†é¢‘ï¼Œä½ ä¼šäº²çœ¼çœ‹åˆ°ï¼Œåˆšåˆšå­¦åˆ°çš„çŸ¥è¯†æ˜¯å¦‚ä½•åœ¨å®é™…ä¸­ä½¿ç”¨çš„ã€‚</p><p>ä¸“æ æœ€åçš„å®æˆ˜éƒ¨åˆ†ï¼Œåˆ™æ˜¯æˆ‘ä»¬çš„çœŸå®â€œæˆ˜åœºâ€ã€‚æˆ‘ä¼šå¸¦ä½ ä¸€èµ·ï¼Œç”¨ OpenResty ä»é›¶æ­å»ºä¸€ä¸ªå¾®æœåŠ¡ API ç½‘å…³ã€‚æ ¹æ®æˆ‘ä»¬åœ¨ç¤¾åŒºä¸­çš„ç»Ÿè®¡ï¼Œæ¥è¿‘ä¸€åŠçš„ OpenResty ä½¿ç”¨è€…ï¼Œéƒ½æŠŠ OpenResty ç”¨åœ¨ API ç½‘å…³çš„å¼€å‘ä¸Šï¼ŒKong å’Œ orange åˆ™æ˜¯ OpenResty é¢†åŸŸä¸­æœ€æµè¡Œçš„ä¸¤ä¸ªå¼€æºç½‘å…³é¡¹ç›®ã€‚ä½ æƒ³è‡ªå·±ä»å¤´æ­å»ºä¸€ä¸ªæ›´ç®€å•ã€æ›´é«˜æ€§èƒ½çš„ API ç½‘å…³å—ï¼Ÿä¸€èµ·æ¥å§ã€‚</p><p>ä»å®é™…çš„å¼€æºé¡¹ç›®ä¸­å­¦ä¹ ï¼Œå†åˆ°å®é™…çš„å¼€æºé¡¹ç›®ä¸­å»å®æˆ˜ï¼Œå°†å®æˆ˜èå…¥å®Œæ•´çš„çŸ¥è¯†ä½“ç³»ï¼Œè¿™ä¾¿æ˜¯æˆ‘çš„æ•™å­¦ç†å¿µï¼Œå¸Œæœ›ä½ å–œæ¬¢è¿™ç§æ–¹å¼ã€‚</p><p>ä¸‡å°ºé«˜æ¥¼å¹³åœ°èµ·ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä¼šå’Œä½ ä¸€èµ·æ¥é€æ­¥æŒæ¡ OpenRestyï¼ŒEnjoyï¼</p><p></p>","neighbors":{"left":[],"right":{"article_title":"01 | åˆæ¢OpenRestyçš„ä¸‰å¤§ç‰¹æ€§","id":97459}},"comments":[{"had_liked":false,"id":96905,"user_name":"NEVER SETTLE","can_delete":false,"product_type":"c1","uid":1101894,"ip_address":"","ucode":"9C86BDAFDBF768","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/46/1a9229b3.jpg","comment_is_top":false,"comment_ctime":1558533080,"is_pvip":false,"replies":[{"id":"34715","content":"Lua æ€§èƒ½ç›¸å…³çš„å‘ä¸å°‘ï¼Œåé¢ä¼šä¸“é—¨ä»‹ç»ã€‚<br>æ®æˆ‘è¯´çŸ¥ï¼ŒLua ä¸­ protobuf çš„åº“éƒ½æ˜¯åŸºäº FFI æ¥åšçš„ï¼ŒOpenResty å¹¶æ²¡æœ‰ä¸“é—¨çš„è¿™æ–¹é¢çš„åº“ã€‚","user_name":"ä½œè€…å›å¤","comment_id":96905,"uid":"1017955","ip_address":"","utype":1,"ctime":1558597020,"user_name_real":"æ¸©é“­@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"121817617368","product_id":100028301,"comment_content":"ç›®å‰è´Ÿè´£å¹¿å‘Šå¼•æ“ç³»ç»Ÿçš„APIç½‘å…³ï¼Œå°±æ˜¯ç”¨Openrestyæ­å»ºçš„ï¼ŒLuaè¯­è¨€å¼€å‘èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œè®©äººæ¬²ç½¢ä¸èƒ½çš„æ„Ÿè§‰ï¼Œå†åŠ ä¸ŠNginxé«˜æ€§èƒ½å’Œé«˜å¹¶å‘ï¼Œåç«¯è´Ÿè½½å‡è¡¡ï¼Œæ„Ÿè§‰ä¸¤è€…ç»“åˆå°±æ˜¯ç»é…ã€‚1ã€ä¸€ä¸ªå€¼å¾—èµçš„æ˜¯ï¼Œä¸Šçº¿æ—¶å€™ç›´æ¥reloadä¸€ä¸‹å°±å¯ä»¥ï¼Œæ ¹æœ¬ä¸ä¼šå‡ºç°åœæœé‚£ç§æƒ…å†µã€‚2ã€ç°åœ¨ç”¨Luaå†™ä»£ç ä¹ æƒ¯äº†ï¼Œå¶å°”ç”¨ä¸‹C++ï¼Œæ„Ÿè§‰å†™èµ·æ¥å¤ªè´¹åŠ²äº†ï¼Œæ¯”å¦‚jsonåºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼ŒLuaç›´æ¥cjson.decodeå’Œcjson.encodeï¼Œç»“æœç”¨C++æˆ‘å°±ä¸å¤šè¯´äº†ï¼Œå°¤å…¶jsonç»“æ„å¤æ‚ï¼ŒåµŒå¥—å¾ˆæ·±é‚£ç§ï¼ŒçœŸçš„æœ‰ç‚¹è´¹åŠ²ã€‚3ã€å…±äº«å­—å…¸sharedictç”¨èµ·æ¥çœŸçš„å¾ˆæ–¹ä¾¿ï¼Œæ‰€æœ‰workerè¿›ç¨‹å…±äº«ï¼Œè‡ªå¸¦é”æœºåˆ¶ï¼Œä¸ç”¨æ‹…å¿ƒç«äº‰çš„æƒ…å†µã€‚4ã€Luaè™½ç„¶ç”¨èµ·æ¥æ–¹ä¾¿ï¼Œä½†ä¸æ³¨æ„çœŸçš„ä¼šè¸©å¾ˆå¤šå‘ï¼Œä¹‹å‰æœ‰æ®µæ—¶é—´æµé‡åŒæœŸæ²¡æœ‰ä»€ä¹ˆå¢é•¿ï¼Œä½†æ˜¯CPUåˆ©ç”¨ç‡æ¶¨äº†10%ï¼Œåæ¥æˆ‘ä»¬reloadä¸€ä¸‹ï¼Œç»“æœå°±æ­£å¸¸äº†ã€‚è¿‡æ®µæ—¶é—´ï¼Œé—®é¢˜å¤ç°äº†ï¼Œæˆ‘ç”¨perfå·¥å…·æŸ¥äº†ä¸‹ï¼Œå‘ç°ä¸€ä¸ªå­—ç¬¦ä¸²æ“ä½œçš„å‡½æ•°å ç”¨ç‡å¾ˆé«˜ï¼Œåæ¥æŸ¥äº†ä¸‹ï¼Œæ˜¯ç”¨å­—ç¬¦ä¸²è¿æ¥ç¬¦..è°ƒç”¨çš„ï¼Œåæ¥ç»“åˆå½“æ—¶ä¸Šçº¿çš„ä»£ç ï¼Œå‘ç°æ·»åŠ äº†è®¸å¤šä¸šåŠ¡æ—¥å¿—ï¼Œè€Œæ—¥å¿—é‡Œé¢å­—æ®µéƒ½æ˜¯ç”¨è¿æ¥ç¬¦..è¿æ¥çš„ï¼Œåæ¥æ”¹æˆconcatäº†ï¼Œç›®å‰é—®é¢˜æ²¡å‘ç”Ÿè¿‡äº†ã€‚5ã€è¯·é—®æ¸©è€å¸ˆï¼Œopenrestyç°åœ¨ç”¨å¯é çš„protobufåº“å—ï¼Œä¹‹å‰å¯¹æ¥å¤–éƒ¨æ¨¡å—ï¼Œapiæ˜¯protobufåè®®ï¼Œå½“æ—¶éœ€æ±‚æ€¥ï¼Œæ²¡æœ‰å’‹è°ƒç ”ï¼Œæˆ‘ç›´æ¥ç”¨æœ€ç²—çˆ†æ–¹å¼ï¼Œç”¨ffiæ–¹å¼è°ƒç”¨C++ï¼ŒLuaç»™C++ä¼ jsonï¼ŒC++jsonè§£ç ä¹‹åï¼ŒæŠŠå‚æ•°é…æˆpbï¼Œè¿”ç»™Luaï¼Œåä¹‹äº¦ç„¶ï¼Œæ„Ÿè§‰æœ‰ç‚¹éº»çƒ¦ï¼Œè¯·æ¸©é“­è€å¸ˆæŒ‡ç‚¹è¿·æ´¥ã€‚<br>","like_count":29,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451056,"discussion_content":"Lua æ€§èƒ½ç›¸å…³çš„å‘ä¸å°‘ï¼Œåé¢ä¼šä¸“é—¨ä»‹ç»ã€‚\næ®æˆ‘è¯´çŸ¥ï¼ŒLua ä¸­ protobuf çš„åº“éƒ½æ˜¯åŸºäº FFI æ¥åšçš„ï¼ŒOpenResty å¹¶æ²¡æœ‰ä¸“é—¨çš„è¿™æ–¹é¢çš„åº“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558597020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96944,"user_name":"Panda","can_delete":false,"product_type":"c1","uid":1095740,"ip_address":"","ucode":"911A200C7B18BE","user_header":"https://static001.geekbang.org/account/avatar/00/10/b8/3c/1a294619.jpg","comment_is_top":false,"comment_ctime":1558542645,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"53098150197","product_id":100028301,"comment_content":"ä¸€ç›´ç”¨ Openresty åšç½‘å…³  è½»é‡ ç¨³å®š é«˜æ€§èƒ½   æœŸå¾…äº†å¾ˆä¹…çš„ä¸“åˆ© ç»ˆäºä¸Šæ¶äº† å“ˆå“ˆå“ˆ ğŸ‘ğŸ»","like_count":12,"discussions":[{"author":{"id":1255432,"avatar":"","nickname":"å‘¨æ¨","note":"","ucode":"CE0F1D03554A2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394550,"discussion_content":"å…„å¼ŸåŠ ä¸ªå¾®ä¿¡ï¼Œæˆ‘ä¹Ÿåšç½‘å…³ï¼Œhao1078285863","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631932894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1367776,"avatar":"https://static001.geekbang.org/account/avatar/00/14/de/e0/54929e12.jpg","nickname":"lx1036","note":"","ucode":"C33D6972930265","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3972,"discussion_content":"Panda æ˜¯æˆ‘ä»¬å­¦ä¹ çš„æ¦œæ ·ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565012683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96861,"user_name":"å’†å“®","can_delete":false,"product_type":"c1","uid":1019974,"ip_address":"","ucode":"845D25D9FD1AFB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/90/46/c1ecf3b9.jpg","comment_is_top":false,"comment_ctime":1558524842,"is_pvip":true,"replies":[{"id":"34721","content":"waf å’Œ api ç½‘å…³éƒ½æ˜¯ OpenResty æ“…é•¿çš„æ–¹å‘ã€‚æŠ€æœ¯é€‰å‹ä¸é”™ï¼šï¼‰","user_name":"ä½œè€…å›å¤","comment_id":96861,"uid":"1017955","ip_address":"","utype":1,"ctime":1558600014,"user_name_real":"æ¸©é“­@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"27328328618","product_id":100028301,"comment_content":"ç”¨äº†openrestyä¸¤å¹´ï¼Œé™†é™†ç»­ç»­ç»™å…¬å¸åšäº†ä¸¤ä¸ªç‰ˆæœ¬çš„wafã€apiç½‘å…³ï¼Œå¸Œæœ›å­¦ä¹ æå‡è‡ªå·±","like_count":6,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451038,"discussion_content":"waf å’Œ api ç½‘å…³éƒ½æ˜¯ OpenResty æ“…é•¿çš„æ–¹å‘ã€‚æŠ€æœ¯é€‰å‹ä¸é”™ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558600014,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96838,"user_name":"Peter","can_delete":false,"product_type":"c1","uid":1544362,"ip_address":"","ucode":"1A09B56C7CFF1E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqtOatxItTKgtHYS4cdYZ3KlibvFu3HJwAYhia9ohfvliciaxXnk3vOVMDM593OIIAYysMzPnJZZmHVHw/132","comment_is_top":false,"comment_ctime":1558517774,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27328321550","product_id":100028301,"comment_content":"è·Ÿç€æ¸©é“­è€å¸ˆå­¦ OpenRestyï¼ŒæœŸå¾…å·²ä¹…çš„è¯¾ç¨‹ï½","like_count":6},{"had_liked":false,"id":98250,"user_name":"ä¸šä½™è‰","can_delete":false,"product_type":"c1","uid":1126538,"ip_address":"","ucode":"99BDC1E629049D","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/8a/b5ca7286.jpg","comment_is_top":false,"comment_ctime":1558942190,"is_pvip":false,"replies":[{"id":"35258","content":"OpenResty çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬æ˜¯æŠŠ perl åµŒå…¥äº† NGINXï¼Œä½†æ€§èƒ½å¾ˆå·®ã€‚NGINX å®˜æ–¹æŠŠ js åµŒå…¥è¿›æ¥ï¼Œä¹Ÿæœ‰ä¸€äº›å¼€æºé¡¹ç›®æŠŠ php åµŒå…¥ NGINXã€‚","user_name":"ä½œè€…å›å¤","comment_id":98250,"uid":"1017955","ip_address":"","utype":1,"ctime":1559032864,"user_name_real":"æ¸©é“­@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"23033778670","product_id":100028301,"comment_content":"OpenResty å€ŸåŠ© Lua è¯­è¨€ï¼Œæ’ä¸Šç¿…è†€ã€‚OpenResty ä¸ºä»€ä¹ˆä¸å€ŸåŠ©å…¶ä»–è„šæœ¬è¯­è¨€å‘¢ï¼Ÿæ¯”å¦‚ Shell ç­‰ã€‚æˆ‘é€šç¯‡æ–‡ç« çœ‹ä¸‹æ¥ä¸€ç›´åœ¨è¯´ OpenResty çš„ä¼˜åŠ¿ï¼Œä½†æ˜¯æ²¡æœ‰æ¯”è¾ƒï¼Œåªèƒ½è„‘è¡¥ã€‚å¾ˆç©ºæ´ã€‚å°±æˆ‘ä¸€ä¸ªæœ‰è¿™æ ·çš„æ„Ÿè§‰å—ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451615,"discussion_content":"OpenResty çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬æ˜¯æŠŠ perl åµŒå…¥äº† NGINXï¼Œä½†æ€§èƒ½å¾ˆå·®ã€‚NGINX å®˜æ–¹æŠŠ js åµŒå…¥è¿›æ¥ï¼Œä¹Ÿæœ‰ä¸€äº›å¼€æºé¡¹ç›®æŠŠ php åµŒå…¥ NGINXã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559032864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96835,"user_name":"Fouy_é£è™","can_delete":false,"product_type":"c1","uid":1105376,"ip_address":"","ucode":"EF792D1A96BFDB","user_header":"https://static001.geekbang.org/account/avatar/00/10/dd/e0/034ce26f.jpg","comment_is_top":false,"comment_ctime":1558517394,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23033353874","product_id":100028301,"comment_content":"2å¹´å‰å°±å¼€å§‹æ¥è§¦OpenRestyäº†ï¼Œè‡ªå·±åšäº†ä¸¤ä¸ªå°ç½‘ç«™ã€‚æ”¯æŒä¸€æŠŠï¼","like_count":5},{"had_liked":false,"id":96877,"user_name":"starting","can_delete":false,"product_type":"c1","uid":1294006,"ip_address":"","ucode":"EEB7611D3F1CDA","user_header":"https://static001.geekbang.org/account/avatar/00/13/be/b6/68f708fb.jpg","comment_is_top":false,"comment_ctime":1558527727,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18738396911","product_id":100028301,"comment_content":"å›½å†…å°±ç¼ºå°‘è¿™ç§å¹²è´§èµ„æ–™ï¼Œè¿™æ¬¡æ­£å¥½æœ‰åŒç±»é¡¹ç›®ï¼ŒæœŸå¾…åé¢çš„è¯¾ç¨‹å†…å®¹ï¼","like_count":4},{"had_liked":false,"id":96847,"user_name":"æ‹’ç»","can_delete":false,"product_type":"c1","uid":1335155,"ip_address":"","ucode":"CB0264C4D3FE17","user_header":"https://static001.geekbang.org/account/avatar/00/14/5f/73/bb3dc468.jpg","comment_is_top":false,"comment_ctime":1558519988,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18738389172","product_id":100028301,"comment_content":"æ¶¨çŸ¥è¯†äº†ï¼Œæˆ‘æ˜¯ä¸€åjavaåç«¯å¼€å‘ï¼›åªçŸ¥é“æœ‰nginxï¼Œluaã€‚åœ¨å®é™…å·¥ä½œä¸­çœ‹åˆ°æœ‰äººç”¨luaè„šæœ¬å®ç°åŸºäºredisçš„åˆ†å¸ƒå¼é”ï¼Œå½“æ—¶æˆ‘åœ¨æƒ³apiä¹Ÿå¯ä»¥å®ç°ï¼Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨luaã€‚","like_count":4},{"had_liked":false,"id":98768,"user_name":"å†¯æ€é¸£","can_delete":false,"product_type":"c1","uid":1010560,"ip_address":"","ucode":"A4D3F412D7904D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6b/80/dd2b3b3f.jpg","comment_is_top":false,"comment_ctime":1559092402,"is_pvip":true,"replies":[{"id":"35361","content":"æ˜¯çš„ï¼ŒKong å°±æ˜¯åŸºäº OpenResty çš„ã€‚åŸºäº Kong åšæ’ä»¶ä¹Ÿæ˜¯ OK çš„ï¼Œå¦‚æœä½ çš„éœ€æ±‚æ˜¯åšç½‘å…³çš„è¯ã€‚","user_name":"ä½œè€…å›å¤","comment_id":98768,"uid":"1017955","ip_address":"","utype":1,"ctime":1559098136,"user_name_real":"æ¸©é“­@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"14443994290","product_id":100028301,"comment_content":"ç°åœ¨çš„KONG API ç½‘å…³å°±æ˜¯åŸºäºopenresty+ luaå»å¼€å‘çš„å§ï¼ŸåŸºäºKONGåšæ‰©å±•æ˜¯å¦ä¼šæ›´æ–¹ä¾¿ï¼Œæ¯•ç«Ÿå®ƒæä¾›äº†å¾ˆå¤šç°æˆçš„æ‰©å±•ã€‚","like_count":3,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451829,"discussion_content":"æ˜¯çš„ï¼ŒKong å°±æ˜¯åŸºäº OpenResty çš„ã€‚åŸºäº Kong åšæ’ä»¶ä¹Ÿæ˜¯ OK çš„ï¼Œå¦‚æœä½ çš„éœ€æ±‚æ˜¯åšç½‘å…³çš„è¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559098136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96890,"user_name":"Vicwan","can_delete":false,"product_type":"c1","uid":1206729,"ip_address":"","ucode":"AA8BB1DED16324","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/c9/abd2928c.jpg","comment_is_top":false,"comment_ctime":1558530782,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14443432670","product_id":100028301,"comment_content":"è¿˜æ²¡å¼€è¯¾å°±å·²ç»è®¢é˜…ï¼Œæˆ‘æ˜¯å¤šä¹ˆå¥½å­¦å•Š","like_count":3},{"had_liked":false,"id":96879,"user_name":"guoew","can_delete":false,"product_type":"c1","uid":1299148,"ip_address":"","ucode":"12EA3A8523921A","user_header":"https://static001.geekbang.org/account/avatar/00/13/d2/cc/d54b7e5b.jpg","comment_is_top":false,"comment_ctime":1558528668,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14443430556","product_id":100028301,"comment_content":" å‰æ®µæ—¶é—´æ¥è§¦åˆ°OpenRestyæœ€ä½³å®è·µï¼Œéå¸¸ä¸é”™ï¼æœŸå¾…æ¸©é“­è€å¸ˆçš„è¯¾ç¨‹ã€‚OpenRestyï¼ŒEnjoyï¼","like_count":3},{"had_liked":false,"id":96867,"user_name":"è¾£æ¤’","can_delete":false,"product_type":"c1","uid":1330376,"ip_address":"","ucode":"85C62DE976C6A5","user_header":"https://static001.geekbang.org/account/avatar/00/14/4c/c8/bed1e08a.jpg","comment_is_top":false,"comment_ctime":1558525547,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14443427435","product_id":100028301,"comment_content":"éå¸¸æœŸå¾…ï¼Œæ‹“å±•è§†é‡çš„å¥½æœºä¼šï¼Œç»å¯¹ç‰©æœ‰æ‰€å€¼","like_count":3},{"had_liked":false,"id":96866,"user_name":"æ•…äº‹ã€è‡ªå·±å†™","can_delete":false,"product_type":"c1","uid":1048419,"ip_address":"","ucode":"D3C87D6B9004D7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ff/63/042aaa14.jpg","comment_is_top":false,"comment_ctime":1558525519,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14443427407","product_id":100028301,"comment_content":"æŒºæœŸå¾…çš„ï¼Œå‘åˆ°åº•æœ‰å¤šæ·±~","like_count":3},{"had_liked":false,"id":98458,"user_name":"åƒè‰ğŸ´~","can_delete":false,"product_type":"c1","uid":1399070,"ip_address":"","ucode":"795754169597B9","user_header":"https://static001.geekbang.org/account/avatar/00/15/59/1e/5f77ce78.jpg","comment_is_top":false,"comment_ctime":1559006235,"is_pvip":false,"replies":[{"id":"35257","content":"å¯ä»¥åœ¨æ–°é¡¹ç›®ä¸­è¯•è¯•ï¼Œæˆ–è€…æ›¿ä»£ç°æœ‰çš„ NGINX æœåŠ¡ä¹Ÿæ˜¯ä¸é”™çš„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":98458,"uid":"1017955","ip_address":"","utype":1,"ctime":1559032771,"user_name_real":"æ¸©é“­@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"10148940827","product_id":100028301,"comment_content":"è¯´æ¥æƒ­æ„§ï¼Œæˆ‘æ˜¯ä»ä¹°è¿™é—¨è¯¾èµ·å¼€å§‹æ¥è§¦ OpenResty çš„ï¼Œå“ˆå“ˆã€‚ç›®å‰å·¥ä½œä¸­è¿˜ç”¨ä¸åˆ°è¿™ä¸ªï¼Œæ˜¯å…´è¶£é©±åŠ¨å­¦ä¹ ã€‚å¸Œæœ›å­¦å®Œè¯¾ç¨‹åï¼Œèƒ½è¿ç”¨åˆ°å·¥ä½œä¸­~ğŸ˜ƒ","like_count":2,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451696,"discussion_content":"å¯ä»¥åœ¨æ–°é¡¹ç›®ä¸­è¯•è¯•ï¼Œæˆ–è€…æ›¿ä»£ç°æœ‰çš„ NGINX æœåŠ¡ä¹Ÿæ˜¯ä¸é”™çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559032771,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98157,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1558922207,"is_pvip":false,"replies":[{"id":"35118","content":"OpenResty å¾ˆé€‚åˆé™æµé™é€Ÿçš„åœºæ™¯ï¼Œå¯ä»¥é’ˆå¯¹ä¸åŒçš„è¯·æ±‚ï¼Œæ¥åŠ¨æ€æ§åˆ¶ã€‚åé¢ä¹Ÿä¼šæœ‰ç« èŠ‚è®²åˆ°ã€‚","user_name":"ä½œè€…å›å¤","comment_id":98157,"uid":"1017955","ip_address":"","utype":1,"ctime":1558923461,"user_name_real":"æ¸©é“­@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"10148856799","product_id":100028301,"comment_content":"è€å¸ˆï¼Œæˆ‘ä»¬æœ‰ä¸ªéŸ³è§†é¢‘åå°æœåŠ¡æ²¡æœ‰è¿‡è½½ä¿æŠ¤ï¼Œå¯ä»¥ä½¿ç”¨openrestryæ¥å¼€å‘ç½‘å…³ma","like_count":2,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451582,"discussion_content":"OpenResty å¾ˆé€‚åˆé™æµé™é€Ÿçš„åœºæ™¯ï¼Œå¯ä»¥é’ˆå¯¹ä¸åŒçš„è¯·æ±‚ï¼Œæ¥åŠ¨æ€æ§åˆ¶ã€‚åé¢ä¹Ÿä¼šæœ‰ç« èŠ‚è®²åˆ°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558923461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96853,"user_name":"ahmacoin","can_delete":false,"product_type":"c1","uid":1139908,"ip_address":"","ucode":"7BAE84B2CCC509","user_header":"https://static001.geekbang.org/account/avatar/00/11/64/c4/f19016bb.jpg","comment_is_top":false,"comment_ctime":1558521619,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10148456211","product_id":100028301,"comment_content":"æœŸå¾…å®è·µä¸­ä½¿ç”¨","like_count":2},{"had_liked":false,"id":96832,"user_name":"æ²ˆå¥‡æ‰","can_delete":false,"product_type":"c1","uid":1307003,"ip_address":"","ucode":"4AC2F41F7E6374","user_header":"https://static001.geekbang.org/account/avatar/00/13/f1/7b/0f9d7a2f.jpg","comment_is_top":false,"comment_ctime":1558516943,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10148451535","product_id":100028301,"comment_content":"ç”¨äºç­‰åˆ°è¿™é—¨è¯¾äº†ã€‚ã€‚æ„Ÿè°¢è€å¸ˆçš„åˆ†äº«ã€‚ã€‚","like_count":2},{"had_liked":false,"id":96831,"user_name":"ææ˜¥æ’","can_delete":false,"product_type":"c1","uid":1033066,"ip_address":"","ucode":"F2DCA19EC66DC1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c3/6a/3272e095.jpg","comment_is_top":false,"comment_ctime":1558516829,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10148451421","product_id":100028301,"comment_content":"æ”¶åˆ°äº†æ¨é€ï¼Œä¸Šæ¥çœ‹çœ‹ï¼Œå·¥ä½œä¸Šä¹Ÿä¸€ç›´åœ¨ç”¨openrestyæäº‹æƒ…ã€‚","like_count":2},{"had_liked":false,"id":96829,"user_name":"æƒå¥¥","can_delete":false,"product_type":"c1","uid":1027724,"ip_address":"","ucode":"3067643082A874","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ae/8c/125954e0.jpg","comment_is_top":false,"comment_ctime":1558516659,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10148451251","product_id":100028301,"comment_content":"ç¬¬äºŒå±‚æ€è€ƒ","like_count":2},{"had_liked":false,"id":98219,"user_name":"å†°æ²³æ—¶ä»£","can_delete":false,"product_type":"c1","uid":1098504,"ip_address":"","ucode":"F4375FB7CE4FD4","user_header":"https://static001.geekbang.org/account/avatar/00/10/c3/08/28c327d0.jpg","comment_is_top":false,"comment_ctime":1558935841,"is_pvip":false,"replies":[{"id":"35383","content":"Zuul æˆ‘ä¸æ‡‚ï¼Œç°åœ¨æ›´æµè¡Œçš„æ˜¯ Kongã€‚ä½ å¯ä»¥æ‰¾æ‰¾å¯¹æ¯”ä»–ä»¬ä¸¤ä¸ªçš„æ–‡ç« ã€‚","user_name":"ä½œè€…å›å¤","comment_id":98219,"uid":"1017955","ip_address":"","utype":1,"ctime":1559100453,"user_name_real":"æ¸©é“­@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"5853903137","product_id":100028301,"comment_content":"è€å¸ˆï¼Œæœ€è¿‘åœ¨å­¦ä¹ Spring Cloudï¼Œç”¨ZuulåšæœåŠ¡ç½‘å…³å’ŒOpenRestyè¯¥æ€ä¹ˆé€‰æ‹©ï¼Œæˆ–è€…ä»–ä»¬çš„åº”ç”¨åœºæ™¯æœ‰ä»€ä¹ˆä¸åŒå—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451604,"discussion_content":"Zuul æˆ‘ä¸æ‡‚ï¼Œç°åœ¨æ›´æµè¡Œçš„æ˜¯ Kongã€‚ä½ å¯ä»¥æ‰¾æ‰¾å¯¹æ¯”ä»–ä»¬ä¸¤ä¸ªçš„æ–‡ç« ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559100453,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97871,"user_name":"Mr. Ren","can_delete":false,"product_type":"c1","uid":1487694,"ip_address":"","ucode":"19CA404300EB5F","user_header":"https://static001.geekbang.org/account/avatar/00/16/b3/4e/8b765c56.jpg","comment_is_top":false,"comment_ctime":1558801131,"is_pvip":false,"replies":[{"id":"35120","content":"å­¦ä»¥è‡´ç”¨æœ€æœ‰æ•ˆæœ","user_name":"ä½œè€…å›å¤","comment_id":97871,"uid":"1017955","ip_address":"","utype":1,"ctime":1558923639,"user_name_real":"æ¸©é“­@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"5853768427","product_id":100028301,"comment_content":"æœŸå¾…åç»­è¯¾ç¨‹ï¼Œå¬äº†ä¸‹æ„Ÿè§‰æŒºå¥½ï¼Œå®æˆ˜å¾ˆé‡è¦","like_count":1,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451457,"discussion_content":"å­¦ä»¥è‡´ç”¨æœ€æœ‰æ•ˆæœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558923639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97286,"user_name":"cycle","can_delete":false,"product_type":"c1","uid":1127680,"ip_address":"","ucode":"C5F44CB1A975C7","user_header":"https://static001.geekbang.org/account/avatar/00/11/35/00/b8442bfd.jpg","comment_is_top":false,"comment_ctime":1558628818,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5853596114","product_id":100028301,"comment_content":"èƒ½å¦ä»‹ç»ä¸‹openrestyæœåŠ¡æ³¨å†Œå’ŒæœåŠ¡å‘ç°ç›¸å…³çš„å®ç°ï¼Œéå¸¸æœŸå¾…ã€‚","like_count":1},{"had_liked":false,"id":97205,"user_name":"æ™®ç½—ç±³ä¿®æ–¯","can_delete":false,"product_type":"c1","uid":1394030,"ip_address":"","ucode":"DDA7DE4DE371FC","user_header":"https://static001.geekbang.org/account/avatar/00/15/45/6e/11cf22de.jpg","comment_is_top":false,"comment_ctime":1558609657,"is_pvip":false,"replies":[{"id":"34740","content":"åŒºå—é“¾æ˜¯ç”¨åœ¨å“ªé‡Œå‘¢ï¼ŸAPI ç½‘å…³ï¼Ÿ","user_name":"ä½œè€…å›å¤","comment_id":97205,"uid":"1017955","ip_address":"","utype":1,"ctime":1558613866,"user_name_real":"æ¸©é“­@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"5853576953","product_id":100028301,"comment_content":"ä»Šå¹´æåŒºå—é“¾é¡¹ç›®ç”¨åˆ°äº†â€¦â€¦è€å¸ˆå¸¦æˆ‘è¶…ç¥","like_count":1,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451177,"discussion_content":"åŒºå—é“¾æ˜¯ç”¨åœ¨å“ªé‡Œå‘¢ï¼ŸAPI ç½‘å…³ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558613866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97122,"user_name":"zxc","can_delete":false,"product_type":"c1","uid":1477000,"ip_address":"","ucode":"F65277D1D963FE","user_header":"https://static001.geekbang.org/account/avatar/00/16/89/88/e8640b36.jpg","comment_is_top":false,"comment_ctime":1558592055,"is_pvip":false,"replies":[{"id":"34714","content":"äºŒè¿›åˆ¶çƒ­å‡çº§æ˜¯å¯åŠ¨æ–°çš„ master å’Œ worker è¿›ç¨‹ï¼Œå¹¶é€æ­¥é€€å‡ºæ—§çš„ worker è¿›ç¨‹ã€‚è€Œå…±äº«å†…å­˜çš„æ•°æ®æ˜¯å­˜æ”¾åœ¨æ—§çš„ worker è¿›ç¨‹ä¸­çš„ï¼Œæ‰€ä»¥å°±ä¸¢å¤±äº†ã€‚ä½ å¯ä»¥åœ¨ init é˜¶æ®µé‡æ–°åŠ è½½ä¸€æ¬¡ï¼Œæˆ–è€…åœ¨è¯·æ±‚å‘ç°æ²¡æœ‰ç¼“å­˜çš„æ—¶å€™ï¼Œè§¦å‘ä¸€æ¬¡åç«¯çš„æŸ¥è¯¢ã€‚","user_name":"ä½œè€…å›å¤","comment_id":97122,"uid":"1017955","ip_address":"","utype":1,"ctime":1558596688,"user_name_real":"æ¸©é“­@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"5853559351","product_id":100028301,"comment_content":"æ¸©è€å¸ˆï¼Œæˆ‘å‡çº§orçš„æ–¹å¼æ˜¯make   &amp;make installåï¼Œåœ¨é‡‡ç”¨nginxå¹³æ»‘å‡çº§çš„æ–¹å¼ï¼Œä½†æ˜¯è¿™æ ·å‡çº§åå…±äº«å†…å­˜ä¼šä¸¢å¤±ã€‚è¯·é—®oræ­£ç¡®çš„å‡çº§æ–¹å¼æ˜¯ä»€ä¹ˆæ ·çš„ã€‚","like_count":1,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451146,"discussion_content":"äºŒè¿›åˆ¶çƒ­å‡çº§æ˜¯å¯åŠ¨æ–°çš„ master å’Œ worker è¿›ç¨‹ï¼Œå¹¶é€æ­¥é€€å‡ºæ—§çš„ worker è¿›ç¨‹ã€‚è€Œå…±äº«å†…å­˜çš„æ•°æ®æ˜¯å­˜æ”¾åœ¨æ—§çš„ worker è¿›ç¨‹ä¸­çš„ï¼Œæ‰€ä»¥å°±ä¸¢å¤±äº†ã€‚ä½ å¯ä»¥åœ¨ init é˜¶æ®µé‡æ–°åŠ è½½ä¸€æ¬¡ï¼Œæˆ–è€…åœ¨è¯·æ±‚å‘ç°æ²¡æœ‰ç¼“å­˜çš„æ—¶å€™ï¼Œè§¦å‘ä¸€æ¬¡åç«¯çš„æŸ¥è¯¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558596688,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97083,"user_name":"ä¸è´Ÿ","can_delete":false,"product_type":"c1","uid":1238323,"ip_address":"","ucode":"147F5860711811","user_header":"https://static001.geekbang.org/account/avatar/00/12/e5/33/ff5c52ad.jpg","comment_is_top":false,"comment_ctime":1558582843,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5853550139","product_id":100028301,"comment_content":"ç¬¬ä¸€æ¬¡æ¥è§¦OpenRestyï¼Œç›®å‰ç¯å¢ƒæ˜¯Java Springï¼Œæ¥ä¸€èµ·æ‹“å®½çœ¼ç•Œã€‚","like_count":1},{"had_liked":false,"id":97076,"user_name":"shengsheng","can_delete":false,"product_type":"c1","uid":1198582,"ip_address":"","ucode":"D15DF751F7C0E6","user_header":"https://static001.geekbang.org/account/avatar/00/12/49/f6/ef3e5c81.jpg","comment_is_top":false,"comment_ctime":1558581352,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5853548648","product_id":100028301,"comment_content":"ä¸é”™ï¼æˆ‘ä»¬çš„æ¥æ”¶æ—¥å¿—å°±æ˜¯ä½¿ç”¨openresty","like_count":1},{"had_liked":false,"id":96863,"user_name":"æå®¢æµ·","can_delete":false,"product_type":"c1","uid":1400927,"ip_address":"","ucode":"F0037CF1DBDA66","user_header":"https://static001.geekbang.org/account/avatar/00/15/60/5f/59ee0ca2.jpg","comment_is_top":false,"comment_ctime":1558525252,"is_pvip":false,"replies":[{"id":"34716","content":"å¯ä»¥ç®€å•çš„çœ‹ï¼ŒOpenResty å¯ä»¥æ›¿ä»£ NGINX æ‰€æœ‰çš„åŠŸèƒ½ï¼Œå¹¶ä¸”é…ç½®éƒ½æ˜¯åŠ¨æ€çš„ã€‚æ‰€ä»¥å®ƒå¯ä»¥å’Œå…¶ä»–è¯­è¨€å¾ˆå¥½çš„é…åˆä½¿ç”¨ã€‚","user_name":"ä½œè€…å›å¤","comment_id":96863,"uid":"1017955","ip_address":"","utype":1,"ctime":1558597119,"user_name_real":"æ¸©é“­@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"5853492548","product_id":100028301,"comment_content":"è¯·é—®è€å¸ˆï¼Œèƒ½å¦ç»“åˆJAVAä½¿ç”¨ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451039,"discussion_content":"å¯ä»¥ç®€å•çš„çœ‹ï¼ŒOpenResty å¯ä»¥æ›¿ä»£ NGINX æ‰€æœ‰çš„åŠŸèƒ½ï¼Œå¹¶ä¸”é…ç½®éƒ½æ˜¯åŠ¨æ€çš„ã€‚æ‰€ä»¥å®ƒå¯ä»¥å’Œå…¶ä»–è¯­è¨€å¾ˆå¥½çš„é…åˆä½¿ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558597119,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96825,"user_name":"guoqp","can_delete":false,"product_type":"c1","uid":1107066,"ip_address":"","ucode":"B12A5757215D0E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epRVT3U6UOpRAoOOYMm0flMeX4P1VJpSnZBlaBvdW4KhWKr0BunLFlCxibdHc9s6VArA124FpwzRiaw/132","comment_is_top":false,"comment_ctime":1558516202,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5853483498","product_id":100028301,"comment_content":"æœŸå¾…æ¸©è€å¸ˆçš„æˆè¯¾â€¦","like_count":1},{"had_liked":false,"id":330483,"user_name":"aã€","can_delete":false,"product_type":"c1","uid":1532404,"ip_address":"","ucode":"590FE8DB111492","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIvUlicgrWtibbDzwhLw5cQrDSy2JuE1mVvmXq11KQIwpLicgDuWfpp9asE0VCN6HhibPDWn7wBc2lfmA/132","comment_is_top":false,"comment_ctime":1641992668,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641992668","product_id":100028301,"comment_content":"ç›®å‰åœ¨ç”¨apisixåšå…¬å¸çš„apiç½‘å…³ï¼Œçœ‹åˆ°æ¸©è€å¸ˆçš„è¯¾ï¼Œæœæ–­å­¦ä¹ ï¼Œå¸Œæœ›èƒ½æ—©æ—¥å‚ä¸apisixå¼€æºç¤¾åŒºå»ºè®¾","like_count":0},{"had_liked":false,"id":280512,"user_name":"ğŸ†•","can_delete":false,"product_type":"c1","uid":2002028,"ip_address":"","ucode":"9325BB3442D0CF","user_header":"","comment_is_top":false,"comment_ctime":1614238404,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614238404","product_id":100028301,"comment_content":"ç²¾å“è¯¾ç¨‹ï¼Œå€¼å¾—ä¸€å­¦ï¼Œè€Œä¸”æ¸©è€å¸ˆè®²è§£çš„ç‰¹åˆ«ç»†è‡´ï¼ŒéŸ³é¢‘é‡Œé¢éƒ½æœ‰å¯¹ä»£ç çš„ç»†å¾®è®²è§£ï¼Œç‰¹åˆ«é€‚åˆå¼€è½¦çš„æ—¶å€™æ’è€³æœºå¬æ•™ç¨‹ã€‚<br>è¯¥æ·±å…¥æµ…å‡ºçš„åœ°æ–¹ä½ éƒ½èƒ½å­¦åˆ°ï¼Œå¯¹äºç½‘ç»œç¼–ç¨‹æ˜¯è¶³å¤Ÿäº†ã€‚","like_count":0},{"had_liked":false,"id":273504,"user_name":"CodeSprite","can_delete":false,"product_type":"c1","uid":1141673,"ip_address":"","ucode":"81B208D3595E5F","user_header":"https://static001.geekbang.org/account/avatar/00/11/6b/a9/7099f1f8.jpg","comment_is_top":false,"comment_ctime":1610616526,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1610616526","product_id":100028301,"comment_content":"openrestyé€‚åˆåšæ—¥å¿—æ”¶é›†å—ï¼Œæˆ‘æƒ³ç”¨å®ƒåšæˆ‘ä»¬æ‰‹æ¸¸çš„æ—¥å¿—æ”¶é›†ï¼Œå‰ç«¯å‘æ—¥å¿—ç»™orï¼Œoræ ¡éªŒå¹¶ä¿å­˜æˆæ—¥å¿—æ–‡ä»¶","like_count":0},{"had_liked":false,"id":215149,"user_name":"TomShine","can_delete":false,"product_type":"c1","uid":1003894,"ip_address":"","ucode":"81B7B6628BCE31","user_header":"https://static001.geekbang.org/account/avatar/00/0f/51/76/bebe6133.jpg","comment_is_top":false,"comment_ctime":1588916432,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588916432","product_id":100028301,"comment_content":"è¿™ä¸ªä¸“æ ä¸­é€”æ²¡æœ‰åšæŒä¸‹å»ï¼Œé‡æ–°å¼€å§‹ï¼ŒåŠ æ²¹","like_count":0},{"had_liked":false,"id":204704,"user_name":"å®‹éª","can_delete":false,"product_type":"c1","uid":1310696,"ip_address":"","ucode":"8ECC8CA7E57A4C","user_header":"https://static001.geekbang.org/account/avatar/00/13/ff/e8/52b932d6.jpg","comment_is_top":false,"comment_ctime":1586444329,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586444329","product_id":100028301,"comment_content":"è€å¸ˆï¼Œå®˜æ–¹çš„é™æµæœ‰è¿™ä¹ˆä¸€æ®µä»£ç ï¼Œæ²¡çœ‹æ‡‚ï¼Œå¯ä»¥å¸®å¿™è§£é‡Šä¸€ä¸‹å—ï¼Ÿ<br>max(tonumber(rec.excess) - rate * abs(elapsed) &#47; 1000 + 1000, 0)","like_count":0},{"had_liked":false,"id":203923,"user_name":"jumaowu","can_delete":false,"product_type":"c1","uid":1636390,"ip_address":"","ucode":"3A7B233BF448C8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqcQWfsAka5YibE8uqibJ5SCSlnw1HeQbK9iardBKU1eDlLx58vwicJTQjtooC4nn7cxXicziaIH4hhnYOQ/132","comment_is_top":false,"comment_ctime":1586307929,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586307929","product_id":100028301,"comment_content":"çœ‹èµ·æ¥å¾ˆä¸é”™ï¼Œå’Œæˆ‘ç›®å‰çš„å›°æ‰°å¾ˆåŒ¹é…ã€‚markï¼Œä»Šå¤©å¼€å§‹å­¦ä¹ ä¸‹","like_count":0},{"had_liked":false,"id":192064,"user_name":"lcp0578","can_delete":false,"product_type":"c1","uid":1559585,"ip_address":"","ucode":"E347928F8DB98D","user_header":"https://static001.geekbang.org/account/avatar/00/17/cc/21/e3c45732.jpg","comment_is_top":false,"comment_ctime":1584835656,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584835656","product_id":100028301,"comment_content":"FFIåˆçœ‹åˆ°äº†","like_count":0},{"had_liked":false,"id":191885,"user_name":"lcp0578","can_delete":false,"product_type":"c1","uid":1559585,"ip_address":"","ucode":"E347928F8DB98D","user_header":"https://static001.geekbang.org/account/avatar/00/17/cc/21/e3c45732.jpg","comment_is_top":false,"comment_ctime":1584802560,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584802560","product_id":100028301,"comment_content":"å­¦ä¹ openresty å’Œapisix","like_count":0},{"had_liked":false,"id":169438,"user_name":"å¤§é­”ç‹","can_delete":false,"product_type":"c1","uid":1308552,"ip_address":"","ucode":"5EB049D18E122F","user_header":"https://static001.geekbang.org/account/avatar/00/13/f7/88/da243c77.jpg","comment_is_top":false,"comment_ctime":1578357882,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578357882","product_id":100028301,"comment_content":"è€å¸ˆï¼Œé€‚ä¸é€‚åˆå…¨ç¨‹ç”¨Openrestyå®Œæ•´çš„å†™åå°æ‰€æœ‰ä¸šåŠ¡ï¼Ÿ","like_count":0},{"had_liked":false,"id":163697,"user_name":"test","can_delete":false,"product_type":"c1","uid":1129610,"ip_address":"","ucode":"C57A175CBC6547","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","comment_is_top":false,"comment_ctime":1576768706,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576768706","product_id":100028301,"comment_content":"è€å¸ˆåµŒå…¥å¼ä¸Šå¯ä»¥ä½¿ç”¨å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":150071,"user_name":"hk","can_delete":false,"product_type":"c1","uid":1057377,"ip_address":"","ucode":"92996CA0BCDD66","user_header":"https://static001.geekbang.org/account/avatar/00/10/22/61/580bb3c3.jpg","comment_is_top":false,"comment_ctime":1573458252,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573458252","product_id":100028301,"comment_content":"è€å¸ˆï¼Œé—®ä¸‹openrestyæºç å¼€æºäº†å—ï¼Ÿæœ‰æºç åœ°å€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":116585,"user_name":"é’›åˆé‡‘çŒªå¤´","can_delete":false,"product_type":"c1","uid":1277041,"ip_address":"","ucode":"5919ACDA6739E2","user_header":"https://static001.geekbang.org/account/avatar/00/13/7c/71/ecfde294.jpg","comment_is_top":false,"comment_ctime":1563875567,"is_pvip":false,"replies":[{"id":"46071","content":"æ˜¯ä¸€æ ·çš„","user_name":"ä½œè€…å›å¤","comment_id":116585,"uid":"1017955","ip_address":"","utype":1,"ctime":1566198643,"user_name_real":"æ¸©é“­@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"1563875567","product_id":100028301,"comment_content":"è¯·é—®OpenRestyçš„é«˜å¯ç”¨æ–¹æ¡ˆå’ŒNginxä¸€æ ·å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459601,"discussion_content":"æ˜¯ä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566198643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102506,"user_name":"kindnull","can_delete":false,"product_type":"c1","uid":1250935,"ip_address":"","ucode":"94733DC93AE2C0","user_header":"https://static001.geekbang.org/account/avatar/00/13/16/77/30e059c8.jpg","comment_is_top":false,"comment_ctime":1560239573,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560239573","product_id":100028301,"comment_content":"å­¦ä¹ äº†ï¼Œä»¥å‰å…¬å¸ç”¨openrestyç»“åˆnginxäºŒæ¬¡å¼€å‘æ”¯æŒå¤§å¹¶å‘ã€‚ç°åœ¨ç»ˆäºæœ‰æœºä¼šå¥½å¥½å­¦ä¹ äº†","like_count":1},{"had_liked":false,"id":101401,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1559801789,"is_pvip":false,"replies":[{"id":"36603","content":"æ˜¯çš„ï¼šï¼‰","user_name":"ä½œè€…å›å¤","comment_id":101401,"uid":"1017955","ip_address":"","utype":1,"ctime":1559864306,"user_name_real":"æ¸©é“­@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"1559801789","product_id":100028301,"comment_content":"æ¸©è€å¸ˆåŸæ¥è²Œä¼¼æ˜¯å¥‡è™360çš„æ¶æ„å¸ˆ","like_count":0,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452947,"discussion_content":"æ˜¯çš„ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559864306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98851,"user_name":"å‡¤ç‚œ","can_delete":false,"product_type":"c1","uid":1303056,"ip_address":"","ucode":"F0C852A3389504","user_header":"https://static001.geekbang.org/account/avatar/00/13/e2/10/ea853640.jpg","comment_is_top":false,"comment_ctime":1559106118,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559106118","product_id":100028301,"comment_content":"æœŸå¾…è€å¸ˆçš„æˆè¯¾","like_count":0},{"had_liked":false,"id":98088,"user_name":"life_ç‰›","can_delete":false,"product_type":"c1","uid":1150443,"ip_address":"","ucode":"39E99CD4BFA48C","user_header":"https://static001.geekbang.org/account/avatar/00/11/8d/eb/e98af40f.jpg","comment_is_top":false,"comment_ctime":1558912146,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558912146","product_id":100028301,"comment_content":"æœŸå¾…","like_count":0},{"had_liked":false,"id":97595,"user_name":"æ—ºæ—º","can_delete":false,"product_type":"c1","uid":1159196,"ip_address":"","ucode":"FE2CF90F446BFB","user_header":"https://static001.geekbang.org/account/avatar/00/11/b0/1c/2e30eeb8.jpg","comment_is_top":false,"comment_ctime":1558704579,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558704579","product_id":100028301,"comment_content":"æ‰“å¡ç¬¬ä¸€å¤©","like_count":0},{"had_liked":false,"id":97272,"user_name":"xfan","can_delete":false,"product_type":"c1","uid":1315147,"ip_address":"","ucode":"48ED8D498D7F56","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/4b/fa64f061.jpg","comment_is_top":false,"comment_ctime":1558625623,"is_pvip":false,"replies":[{"id":"35122","content":"Kong æ˜¯åŸºäº OpenResty æœ€æˆåŠŸçš„é¡¹ç›®äº†","user_name":"ä½œè€…å›å¤","comment_id":97272,"uid":"1017955","ip_address":"","utype":1,"ctime":1558923676,"user_name_real":"æ¸©é“­@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"1558625623","product_id":100028301,"comment_content":"å·¥ä½œä¸­åˆšåˆšç”¨åˆ°kongï¼Œè¿˜ä¸é”™","like_count":1,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451204,"discussion_content":"Kong æ˜¯åŸºäº OpenResty æœ€æˆåŠŸçš„é¡¹ç›®äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558923676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97092,"user_name":"è€Œç«‹æ–‹","can_delete":false,"product_type":"c1","uid":1087258,"ip_address":"","ucode":"5FED6E9E148195","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/1a/389eab84.jpg","comment_is_top":false,"comment_ctime":1558586392,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558586392","product_id":100028301,"comment_content":"åŠ æ²¹ï¼ŒåŠ æ²¹ï¼Œä¸€å—å„¿å­¦ä¹ ã€‚","like_count":0},{"had_liked":false,"id":97080,"user_name":"å¤©å¤©å‘ä¸Š","can_delete":false,"product_type":"c1","uid":1393946,"ip_address":"","ucode":"24CC61B475A065","user_header":"https://static001.geekbang.org/account/avatar/00/15/45/1a/e95d8b69.jpg","comment_is_top":false,"comment_ctime":1558582021,"is_pvip":false,"replies":[{"id":"34741","content":"å¾ˆå¤šå¼€æºçš„è½¯ waf éƒ½æ˜¯åŸºäº OpenResty çš„ï¼Œä½†éƒ½ä¸å¤Ÿå¥½ã€‚å­¦ä¹ å®Œä¸“æ åº”è¯¥èƒ½åšä¸€ä¸ªæ›´å¥½çš„ wafï¼šï¼‰","user_name":"ä½œè€…å›å¤","comment_id":97080,"uid":"1017955","ip_address":"","utype":1,"ctime":1558613907,"user_name_real":"æ¸©é“­@OpenResty"}],"discussion_count":1,"race_medal":0,"score":"1558582021","product_id":100028301,"comment_content":"ä½“éªŒè¿‡åŸºäºopenrestyçš„wafåº”ç”¨ï¼Œæ„Ÿè§‰å¾ˆæ£’ï¼Œæ¥å­¦ä¹ ä¸€ä¸‹ã€‚","like_count":0,"discussions":[{"author":{"id":1017955,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/88/63/88cf886d.jpg","nickname":"æ¸©é“­@APISIX","note":"","ucode":"343567571DA16A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451130,"discussion_content":"å¾ˆå¤šå¼€æºçš„è½¯ waf éƒ½æ˜¯åŸºäº OpenResty çš„ï¼Œä½†éƒ½ä¸å¤Ÿå¥½ã€‚å­¦ä¹ å®Œä¸“æ åº”è¯¥èƒ½åšä¸€ä¸ªæ›´å¥½çš„ wafï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558613907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96881,"user_name":"Kennedy","can_delete":false,"product_type":"c1","uid":1049022,"ip_address":"","ucode":"C50627007E5ED0","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/be/be358cab.jpg","comment_is_top":false,"comment_ctime":1558529043,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1558529043","product_id":100028301,"comment_content":"æœŸå¾…","like_count":0}]}
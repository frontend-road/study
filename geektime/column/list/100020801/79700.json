{"id":79700,"title":"34 | åˆ°åº•å¯ä¸å¯ä»¥ä½¿ç”¨joinï¼Ÿ","content":"<p>åœ¨å®é™…ç”Ÿäº§ä¸­ï¼Œå…³äºjoinè¯­å¥ä½¿ç”¨çš„é—®é¢˜ï¼Œä¸€èˆ¬ä¼šé›†ä¸­åœ¨ä»¥ä¸‹ä¸¤ç±»ï¼š</p><ol>\n<li>\n<p>æˆ‘ä»¬DBAä¸è®©ä½¿ç”¨joinï¼Œä½¿ç”¨joinæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</p>\n</li>\n<li>\n<p>å¦‚æœæœ‰ä¸¤ä¸ªå¤§å°ä¸åŒçš„è¡¨åšjoinï¼Œåº”è¯¥ç”¨å“ªä¸ªè¡¨åšé©±åŠ¨è¡¨å‘¢ï¼Ÿ</p>\n</li>\n</ol><p>ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å°±å…ˆè·Ÿä½ è¯´è¯´joinè¯­å¥åˆ°åº•æ˜¯æ€ä¹ˆæ‰§è¡Œçš„ï¼Œç„¶åå†æ¥å›ç­”è¿™ä¸¤ä¸ªé—®é¢˜ã€‚</p><p>ä¸ºäº†ä¾¿äºé‡åŒ–åˆ†æï¼Œæˆ‘è¿˜æ˜¯åˆ›å»ºä¸¤ä¸ªè¡¨t1å’Œt2æ¥å’Œä½ è¯´æ˜ã€‚</p><pre><code>CREATE TABLE `t2` (\n  `id` int(11) NOT NULL,\n  `a` int(11) DEFAULT NULL,\n  `b` int(11) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  KEY `a` (`a`)\n) ENGINE=InnoDB;\n\ndrop procedure idata;\ndelimiter ;;\ncreate procedure idata()\nbegin\n  declare i int;\n  set i=1;\n  while(i&lt;=1000)do\n    insert into t2 values(i, i, i);\n    set i=i+1;\n  end while;\nend;;\ndelimiter ;\ncall idata();\n\ncreate table t1 like t2;\ninsert into t1 (select * from t2 where id&lt;=100)\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸¤ä¸ªè¡¨éƒ½æœ‰ä¸€ä¸ªä¸»é”®ç´¢å¼•idå’Œä¸€ä¸ªç´¢å¼•aï¼Œå­—æ®µbä¸Šæ— ç´¢å¼•ã€‚å­˜å‚¨è¿‡ç¨‹idata()å¾€è¡¨t2é‡Œæ’å…¥äº†1000è¡Œæ•°æ®ï¼Œåœ¨è¡¨t1é‡Œæ’å…¥çš„æ˜¯100è¡Œæ•°æ®ã€‚</p><h1>Index Nested-Loop Join</h1><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªè¯­å¥ï¼š</p><pre><code>select * from t1 straight_join t2 on (t1.a=t2.a);\n</code></pre><p>å¦‚æœç›´æ¥ä½¿ç”¨joinè¯­å¥ï¼ŒMySQLä¼˜åŒ–å™¨å¯èƒ½ä¼šé€‰æ‹©è¡¨t1æˆ–t2ä½œä¸ºé©±åŠ¨è¡¨ï¼Œè¿™æ ·ä¼šå½±å“æˆ‘ä»¬åˆ†æSQLè¯­å¥çš„æ‰§è¡Œè¿‡ç¨‹ã€‚æ‰€ä»¥ï¼Œä¸ºäº†ä¾¿äºåˆ†ææ‰§è¡Œè¿‡ç¨‹ä¸­çš„æ€§èƒ½é—®é¢˜ï¼Œæˆ‘æ”¹ç”¨straight_joinè®©MySQLä½¿ç”¨å›ºå®šçš„è¿æ¥æ–¹å¼æ‰§è¡ŒæŸ¥è¯¢ï¼Œè¿™æ ·ä¼˜åŒ–å™¨åªä¼šæŒ‰ç…§æˆ‘ä»¬æŒ‡å®šçš„æ–¹å¼å»joinã€‚åœ¨è¿™ä¸ªè¯­å¥é‡Œï¼Œt1 æ˜¯é©±åŠ¨è¡¨ï¼Œt2æ˜¯è¢«é©±åŠ¨è¡¨ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™æ¡è¯­å¥çš„explainç»“æœã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/4b/90/4b9cb0e0b83618e01c9bfde44a0ea990.png?wh=1394*163\" alt=\"\"></p><center><span class=\"reference\">å›¾1 ä½¿ç”¨ç´¢å¼•å­—æ®µjoinçš„ explainç»“æœ</span></center><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™æ¡è¯­å¥é‡Œï¼Œè¢«é©±åŠ¨è¡¨t2çš„å­—æ®µaä¸Šæœ‰ç´¢å¼•ï¼Œjoinè¿‡ç¨‹ç”¨ä¸Šäº†è¿™ä¸ªç´¢å¼•ï¼Œå› æ­¤è¿™ä¸ªè¯­å¥çš„æ‰§è¡Œæµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p><!-- [[[read_end]]] --><ol>\n<li>\n<p>ä»è¡¨t1ä¸­è¯»å…¥ä¸€è¡Œæ•°æ® Rï¼›</p>\n</li>\n<li>\n<p>ä»æ•°æ®è¡ŒRä¸­ï¼Œå–å‡ºaå­—æ®µåˆ°è¡¨t2é‡Œå»æŸ¥æ‰¾ï¼›</p>\n</li>\n<li>\n<p>å–å‡ºè¡¨t2ä¸­æ»¡è¶³æ¡ä»¶çš„è¡Œï¼Œè·ŸRç»„æˆä¸€è¡Œï¼Œä½œä¸ºç»“æœé›†çš„ä¸€éƒ¨åˆ†ï¼›</p>\n</li>\n<li>\n<p>é‡å¤æ‰§è¡Œæ­¥éª¤1åˆ°3ï¼Œç›´åˆ°è¡¨t1çš„æœ«å°¾å¾ªç¯ç»“æŸã€‚</p>\n</li>\n</ol><p>è¿™ä¸ªè¿‡ç¨‹æ˜¯å…ˆéå†è¡¨t1ï¼Œç„¶åæ ¹æ®ä»è¡¨t1ä¸­å–å‡ºçš„æ¯è¡Œæ•°æ®ä¸­çš„aå€¼ï¼Œå»è¡¨t2ä¸­æŸ¥æ‰¾æ»¡è¶³æ¡ä»¶çš„è®°å½•ã€‚åœ¨å½¢å¼ä¸Šï¼Œè¿™ä¸ªè¿‡ç¨‹å°±è·Ÿæˆ‘ä»¬å†™ç¨‹åºæ—¶çš„åµŒå¥—æŸ¥è¯¢ç±»ä¼¼ï¼Œå¹¶ä¸”å¯ä»¥ç”¨ä¸Šè¢«é©±åŠ¨è¡¨çš„ç´¢å¼•ï¼Œæ‰€ä»¥æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œIndex Nested-Loop Joinâ€ï¼Œç®€ç§°NLJã€‚</p><p>å®ƒå¯¹åº”çš„æµç¨‹å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/d8/f6/d83ad1cbd6118603be795b26d38f8df6.jpg?wh=1142*880\" alt=\"\"></p><center><span class=\"reference\">å›¾2 Index Nested-Loop Joinç®—æ³•çš„æ‰§è¡Œæµç¨‹</span></center><p>åœ¨è¿™ä¸ªæµç¨‹é‡Œï¼š</p><ol>\n<li>\n<p>å¯¹é©±åŠ¨è¡¨t1åšäº†å…¨è¡¨æ‰«æï¼Œè¿™ä¸ªè¿‡ç¨‹éœ€è¦æ‰«æ100è¡Œï¼›</p>\n</li>\n<li>\n<p>è€Œå¯¹äºæ¯ä¸€è¡ŒRï¼Œæ ¹æ®aå­—æ®µå»è¡¨t2æŸ¥æ‰¾ï¼Œèµ°çš„æ˜¯æ ‘æœç´¢è¿‡ç¨‹ã€‚ç”±äºæˆ‘ä»¬æ„é€ çš„æ•°æ®éƒ½æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œå› æ­¤æ¯æ¬¡çš„æœç´¢è¿‡ç¨‹éƒ½åªæ‰«æä¸€è¡Œï¼Œä¹Ÿæ˜¯æ€»å…±æ‰«æ100è¡Œï¼›</p>\n</li>\n<li>\n<p>æ‰€ä»¥ï¼Œæ•´ä¸ªæ‰§è¡Œæµç¨‹ï¼Œæ€»æ‰«æè¡Œæ•°æ˜¯200ã€‚</p>\n</li>\n</ol><p>ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†è¿™ä¸ªè¿‡ç¨‹ï¼Œå†è¯•ç€å›ç­”ä¸€ä¸‹æ–‡ç« å¼€å¤´çš„ä¸¤ä¸ªé—®é¢˜ã€‚</p><p>å…ˆçœ‹ç¬¬ä¸€ä¸ªé—®é¢˜ï¼š<strong>èƒ½ä¸èƒ½ä½¿ç”¨join?</strong></p><p>å‡è®¾ä¸ä½¿ç”¨joinï¼Œé‚£æˆ‘ä»¬å°±åªèƒ½ç”¨å•è¡¨æŸ¥è¯¢ã€‚æˆ‘ä»¬çœ‹çœ‹ä¸Šé¢è¿™æ¡è¯­å¥çš„éœ€æ±‚ï¼Œç”¨å•è¡¨æŸ¥è¯¢æ€ä¹ˆå®ç°ã€‚</p><ol>\n<li>\n<p>æ‰§è¡Œ<code>select * from t1</code>ï¼ŒæŸ¥å‡ºè¡¨t1çš„æ‰€æœ‰æ•°æ®ï¼Œè¿™é‡Œæœ‰100è¡Œï¼›</p>\n</li>\n<li>\n<p>å¾ªç¯éå†è¿™100è¡Œæ•°æ®ï¼š</p>\n<ul>\n<li>ä»æ¯ä¸€è¡ŒRå–å‡ºå­—æ®µaçš„å€¼$R.aï¼›</li>\n<li>æ‰§è¡Œ<code>select * from t2 where a=$R.a</code>ï¼›</li>\n<li>æŠŠè¿”å›çš„ç»“æœå’ŒRæ„æˆç»“æœé›†çš„ä¸€è¡Œã€‚</li>\n</ul>\n</li>\n</ol><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™ä¸ªæŸ¥è¯¢è¿‡ç¨‹ï¼Œä¹Ÿæ˜¯æ‰«æäº†200è¡Œï¼Œä½†æ˜¯æ€»å…±æ‰§è¡Œäº†101æ¡è¯­å¥ï¼Œæ¯”ç›´æ¥joinå¤šäº†100æ¬¡äº¤äº’ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå®¢æˆ·ç«¯è¿˜è¦è‡ªå·±æ‹¼æ¥SQLè¯­å¥å’Œç»“æœã€‚</p><p>æ˜¾ç„¶ï¼Œè¿™ä¹ˆåšè¿˜ä¸å¦‚ç›´æ¥joinå¥½ã€‚</p><p>æˆ‘ä»¬å†æ¥çœ‹çœ‹ç¬¬äºŒä¸ªé—®é¢˜ï¼š<strong>æ€ä¹ˆé€‰æ‹©é©±åŠ¨è¡¨ï¼Ÿ</strong></p><p>åœ¨è¿™ä¸ªjoinè¯­å¥æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œé©±åŠ¨è¡¨æ˜¯èµ°å…¨è¡¨æ‰«æï¼Œè€Œè¢«é©±åŠ¨è¡¨æ˜¯èµ°æ ‘æœç´¢ã€‚</p><p>å‡è®¾è¢«é©±åŠ¨è¡¨çš„è¡Œæ•°æ˜¯Mã€‚æ¯æ¬¡åœ¨è¢«é©±åŠ¨è¡¨æŸ¥ä¸€è¡Œæ•°æ®ï¼Œè¦å…ˆæœç´¢ç´¢å¼•aï¼Œå†æœç´¢ä¸»é”®ç´¢å¼•ã€‚æ¯æ¬¡æœç´¢ä¸€æ£µæ ‘è¿‘ä¼¼å¤æ‚åº¦æ˜¯ä»¥2ä¸ºåº•çš„Mçš„å¯¹æ•°ï¼Œè®°ä¸ºlog<sub>2</sub>Mï¼Œæ‰€ä»¥åœ¨è¢«é©±åŠ¨è¡¨ä¸ŠæŸ¥ä¸€è¡Œçš„æ—¶é—´å¤æ‚åº¦æ˜¯ 2*log<sub>2</sub>Mã€‚</p><p>å‡è®¾é©±åŠ¨è¡¨çš„è¡Œæ•°æ˜¯Nï¼Œæ‰§è¡Œè¿‡ç¨‹å°±è¦æ‰«æé©±åŠ¨è¡¨Nè¡Œï¼Œç„¶åå¯¹äºæ¯ä¸€è¡Œï¼Œåˆ°è¢«é©±åŠ¨è¡¨ä¸ŠåŒ¹é…ä¸€æ¬¡ã€‚</p><p>å› æ­¤æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ï¼Œè¿‘ä¼¼å¤æ‚åº¦æ˜¯ N + N*2*log<sub>2</sub>Mã€‚</p><p>æ˜¾ç„¶ï¼ŒNå¯¹æ‰«æè¡Œæ•°çš„å½±å“æ›´å¤§ï¼Œå› æ­¤åº”è¯¥è®©å°è¡¨æ¥åšé©±åŠ¨è¡¨ã€‚</p><blockquote>\n<p>å¦‚æœä½ æ²¡è§‰å¾—è¿™ä¸ªå½±å“æœ‰é‚£ä¹ˆâ€œæ˜¾ç„¶â€ï¼Œ å¯ä»¥è¿™ä¹ˆç†è§£ï¼šNæ‰©å¤§1000å€çš„è¯ï¼Œæ‰«æè¡Œæ•°å°±ä¼šæ‰©å¤§1000å€ï¼›è€ŒMæ‰©å¤§1000å€ï¼Œæ‰«æè¡Œæ•°æ‰©å¤§ä¸åˆ°10å€ã€‚</p>\n</blockquote><p>åˆ°è¿™é‡Œå°ç»“ä¸€ä¸‹ï¼Œé€šè¿‡ä¸Šé¢çš„åˆ†ææˆ‘ä»¬å¾—åˆ°äº†ä¸¤ä¸ªç»“è®ºï¼š</p><ol>\n<li>\n<p>ä½¿ç”¨joinè¯­å¥ï¼Œæ€§èƒ½æ¯”å¼ºè¡Œæ‹†æˆå¤šä¸ªå•è¡¨æ‰§è¡ŒSQLè¯­å¥çš„æ€§èƒ½è¦å¥½ï¼›</p>\n</li>\n<li>\n<p>å¦‚æœä½¿ç”¨joinè¯­å¥çš„è¯ï¼Œéœ€è¦è®©å°è¡¨åšé©±åŠ¨è¡¨ã€‚</p>\n</li>\n</ol><p>ä½†æ˜¯ï¼Œä½ éœ€è¦æ³¨æ„ï¼Œè¿™ä¸ªç»“è®ºçš„å‰ææ˜¯â€œå¯ä»¥ä½¿ç”¨è¢«é©±åŠ¨è¡¨çš„ç´¢å¼•â€ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†çœ‹çœ‹è¢«é©±åŠ¨è¡¨ç”¨ä¸ä¸Šç´¢å¼•çš„æƒ…å†µã€‚</p><h1>Simple Nested-Loop Join</h1><p>ç°åœ¨ï¼Œæˆ‘ä»¬æŠŠSQLè¯­å¥æ”¹æˆè¿™æ ·ï¼š</p><pre><code>select * from t1 straight_join t2 on (t1.a=t2.b);\n</code></pre><p>ç”±äºè¡¨t2çš„å­—æ®µbä¸Šæ²¡æœ‰ç´¢å¼•ï¼Œå› æ­¤å†ç”¨å›¾2çš„æ‰§è¡Œæµç¨‹æ—¶ï¼Œæ¯æ¬¡åˆ°t2å»åŒ¹é…çš„æ—¶å€™ï¼Œå°±è¦åšä¸€æ¬¡å…¨è¡¨æ‰«æã€‚</p><p>ä½ å¯ä»¥å…ˆè®¾æƒ³ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼Œç»§ç»­ä½¿ç”¨å›¾2çš„ç®—æ³•ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥å¾—åˆ°æ­£ç¡®çš„ç»“æœå‘¢ï¼Ÿå¦‚æœåªçœ‹ç»“æœçš„è¯ï¼Œè¿™ä¸ªç®—æ³•æ˜¯æ­£ç¡®çš„ï¼Œè€Œä¸”è¿™ä¸ªç®—æ³•ä¹Ÿæœ‰ä¸€ä¸ªåå­—ï¼Œå«åšâ€œSimple Nested-Loop Joinâ€ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™æ ·ç®—æ¥ï¼Œè¿™ä¸ªSQLè¯·æ±‚å°±è¦æ‰«æè¡¨t2å¤šè¾¾100æ¬¡ï¼Œæ€»å…±æ‰«æ100*1000=10ä¸‡è¡Œã€‚</p><p>è¿™è¿˜åªæ˜¯ä¸¤ä¸ªå°è¡¨ï¼Œå¦‚æœt1å’Œt2éƒ½æ˜¯10ä¸‡è¡Œçš„è¡¨ï¼ˆå½“ç„¶äº†ï¼Œè¿™ä¹Ÿè¿˜æ˜¯å±äºå°è¡¨çš„èŒƒå›´ï¼‰ï¼Œå°±è¦æ‰«æ100äº¿è¡Œï¼Œè¿™ä¸ªç®—æ³•çœ‹ä¸Šå»å¤ªâ€œç¬¨é‡â€äº†ã€‚</p><p>å½“ç„¶ï¼ŒMySQLä¹Ÿæ²¡æœ‰ä½¿ç”¨è¿™ä¸ªSimple Nested-Loop Joinç®—æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨äº†å¦ä¸€ä¸ªå«ä½œâ€œBlock Nested-Loop Joinâ€çš„ç®—æ³•ï¼Œç®€ç§°BNLã€‚</p><h1>Block Nested-Loop Join</h1><p>è¿™æ—¶å€™ï¼Œè¢«é©±åŠ¨è¡¨ä¸Šæ²¡æœ‰å¯ç”¨çš„ç´¢å¼•ï¼Œç®—æ³•çš„æµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p><ol>\n<li>\n<p>æŠŠè¡¨t1çš„æ•°æ®è¯»å…¥çº¿ç¨‹å†…å­˜join_bufferä¸­ï¼Œç”±äºæˆ‘ä»¬è¿™ä¸ªè¯­å¥ä¸­å†™çš„æ˜¯select *ï¼Œå› æ­¤æ˜¯æŠŠæ•´ä¸ªè¡¨t1æ”¾å…¥äº†å†…å­˜ï¼›</p>\n</li>\n<li>\n<p>æ‰«æè¡¨t2ï¼ŒæŠŠè¡¨t2ä¸­çš„æ¯ä¸€è¡Œå–å‡ºæ¥ï¼Œè·Ÿjoin_bufferä¸­çš„æ•°æ®åšå¯¹æ¯”ï¼Œæ»¡è¶³joinæ¡ä»¶çš„ï¼Œä½œä¸ºç»“æœé›†çš„ä¸€éƒ¨åˆ†è¿”å›ã€‚</p>\n</li>\n</ol><p>è¿™ä¸ªè¿‡ç¨‹çš„æµç¨‹å›¾å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/15/73/15ae4f17c46bf71e8349a8f2ef70d573.jpg?wh=1142*880\" alt=\"\"></p><center><span class=\"reference\">å›¾3 Block Nested-Loop Join ç®—æ³•çš„æ‰§è¡Œæµç¨‹</span></center><p>å¯¹åº”åœ°ï¼Œè¿™æ¡SQLè¯­å¥çš„explainç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/67/e1/676921fa0883e9463dd34fb2bc5e87e1.png?wh=1763*164\" alt=\"\"></p><center><span class=\"reference\">å›¾4 ä¸ä½¿ç”¨ç´¢å¼•å­—æ®µjoinçš„ explainç»“æœ</span></center><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¯¹è¡¨t1å’Œt2éƒ½åšäº†ä¸€æ¬¡å…¨è¡¨æ‰«æï¼Œå› æ­¤æ€»çš„æ‰«æè¡Œæ•°æ˜¯1100ã€‚ç”±äºjoin_bufferæ˜¯ä»¥æ— åºæ•°ç»„çš„æ–¹å¼ç»„ç»‡çš„ï¼Œå› æ­¤å¯¹è¡¨t2ä¸­çš„æ¯ä¸€è¡Œï¼Œéƒ½è¦åš100æ¬¡åˆ¤æ–­ï¼Œæ€»å…±éœ€è¦åœ¨å†…å­˜ä¸­åšçš„åˆ¤æ–­æ¬¡æ•°æ˜¯ï¼š100*1000=10ä¸‡æ¬¡ã€‚</p><p>å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œå¦‚æœä½¿ç”¨Simple Nested-Loop Joinç®—æ³•è¿›è¡ŒæŸ¥è¯¢ï¼Œæ‰«æè¡Œæ•°ä¹Ÿæ˜¯10ä¸‡è¡Œã€‚å› æ­¤ï¼Œä»æ—¶é—´å¤æ‚åº¦ä¸Šæ¥è¯´ï¼Œè¿™ä¸¤ä¸ªç®—æ³•æ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯ï¼ŒBlock Nested-Loop Joinç®—æ³•çš„è¿™10ä¸‡æ¬¡åˆ¤æ–­æ˜¯å†…å­˜æ“ä½œï¼Œé€Ÿåº¦ä¸Šä¼šå¿«å¾ˆå¤šï¼Œæ€§èƒ½ä¹Ÿæ›´å¥½ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåº”è¯¥é€‰æ‹©å“ªä¸ªè¡¨åšé©±åŠ¨è¡¨ã€‚</p><p>å‡è®¾å°è¡¨çš„è¡Œæ•°æ˜¯Nï¼Œå¤§è¡¨çš„è¡Œæ•°æ˜¯Mï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªç®—æ³•é‡Œï¼š</p><ol>\n<li>\n<p>ä¸¤ä¸ªè¡¨éƒ½åšä¸€æ¬¡å…¨è¡¨æ‰«æï¼Œæ‰€ä»¥æ€»çš„æ‰«æè¡Œæ•°æ˜¯M+Nï¼›</p>\n</li>\n<li>\n<p>å†…å­˜ä¸­çš„åˆ¤æ–­æ¬¡æ•°æ˜¯M*Nã€‚</p>\n</li>\n</ol><p>å¯ä»¥çœ‹åˆ°ï¼Œè°ƒæ¢è¿™ä¸¤ä¸ªç®—å¼ä¸­çš„Må’ŒNæ²¡å·®åˆ«ï¼Œå› æ­¤è¿™æ—¶å€™é€‰æ‹©å¤§è¡¨è¿˜æ˜¯å°è¡¨åšé©±åŠ¨è¡¨ï¼Œæ‰§è¡Œè€—æ—¶æ˜¯ä¸€æ ·çš„ã€‚</p><p>ç„¶åï¼Œä½ å¯èƒ½é©¬ä¸Šå°±ä¼šé—®äº†ï¼Œè¿™ä¸ªä¾‹å­é‡Œè¡¨t1æ‰100è¡Œï¼Œè¦æ˜¯è¡¨t1æ˜¯ä¸€ä¸ªå¤§è¡¨ï¼Œjoin_bufferæ”¾ä¸ä¸‹æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>join_bufferçš„å¤§å°æ˜¯ç”±å‚æ•°join_buffer_sizeè®¾å®šçš„ï¼Œé»˜è®¤å€¼æ˜¯256kã€‚<strong>å¦‚æœæ”¾ä¸ä¸‹è¡¨t1çš„æ‰€æœ‰æ•°æ®è¯ï¼Œç­–ç•¥å¾ˆç®€å•ï¼Œå°±æ˜¯åˆ†æ®µæ”¾ã€‚</strong>æˆ‘æŠŠjoin_buffer_sizeæ”¹æˆ1200ï¼Œå†æ‰§è¡Œï¼š</p><pre><code>select * from t1 straight_join t2 on (t1.a=t2.b);\n</code></pre><p>æ‰§è¡Œè¿‡ç¨‹å°±å˜æˆäº†ï¼š</p><ol>\n<li>\n<p>æ‰«æè¡¨t1ï¼Œé¡ºåºè¯»å–æ•°æ®è¡Œæ”¾å…¥join_bufferä¸­ï¼Œæ”¾å®Œç¬¬88è¡Œjoin_bufferæ»¡äº†ï¼Œç»§ç»­ç¬¬2æ­¥ï¼›</p>\n</li>\n<li>\n<p>æ‰«æè¡¨t2ï¼ŒæŠŠt2ä¸­çš„æ¯ä¸€è¡Œå–å‡ºæ¥ï¼Œè·Ÿjoin_bufferä¸­çš„æ•°æ®åšå¯¹æ¯”ï¼Œæ»¡è¶³joinæ¡ä»¶çš„ï¼Œä½œä¸ºç»“æœé›†çš„ä¸€éƒ¨åˆ†è¿”å›ï¼›</p>\n</li>\n<li>\n<p>æ¸…ç©ºjoin_bufferï¼›</p>\n</li>\n<li>\n<p>ç»§ç»­æ‰«æè¡¨t1ï¼Œé¡ºåºè¯»å–æœ€åçš„12è¡Œæ•°æ®æ”¾å…¥join_bufferä¸­ï¼Œç»§ç»­æ‰§è¡Œç¬¬2æ­¥ã€‚</p>\n</li>\n</ol><p>æ‰§è¡Œæµç¨‹å›¾ä¹Ÿå°±å˜æˆè¿™æ ·ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/69/c4/695adf810fcdb07e393467bcfd2f6ac4.jpg?wh=1142*880\" alt=\"\"></p><center><span class=\"reference\">å›¾5 Block Nested-Loop Join -- ä¸¤æ®µ</span></center><p>å›¾ä¸­çš„æ­¥éª¤4å’Œ5ï¼Œè¡¨ç¤ºæ¸…ç©ºjoin_bufferå†å¤ç”¨ã€‚</p><p>è¿™ä¸ªæµç¨‹æ‰ä½“ç°å‡ºäº†è¿™ä¸ªç®—æ³•åå­—ä¸­â€œBlockâ€çš„ç”±æ¥ï¼Œè¡¨ç¤ºâ€œåˆ†å—å»joinâ€ã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ—¶å€™ç”±äºè¡¨t1è¢«åˆ†æˆäº†ä¸¤æ¬¡æ”¾å…¥join_bufferä¸­ï¼Œå¯¼è‡´è¡¨t2ä¼šè¢«æ‰«æä¸¤æ¬¡ã€‚è™½ç„¶åˆ†æˆä¸¤æ¬¡æ”¾å…¥join_bufferï¼Œä½†æ˜¯åˆ¤æ–­ç­‰å€¼æ¡ä»¶çš„æ¬¡æ•°è¿˜æ˜¯ä¸å˜çš„ï¼Œä¾ç„¶æ˜¯(88+12)*1000=10ä¸‡æ¬¡ã€‚</p><p>æˆ‘ä»¬å†æ¥çœ‹ä¸‹ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹é©±åŠ¨è¡¨çš„é€‰æ‹©é—®é¢˜ã€‚</p><p>å‡è®¾ï¼Œé©±åŠ¨è¡¨çš„æ•°æ®è¡Œæ•°æ˜¯Nï¼Œéœ€è¦åˆ†Kæ®µæ‰èƒ½å®Œæˆç®—æ³•æµç¨‹ï¼Œè¢«é©±åŠ¨è¡¨çš„æ•°æ®è¡Œæ•°æ˜¯Mã€‚</p><p>æ³¨æ„ï¼Œè¿™é‡Œçš„Kä¸æ˜¯å¸¸æ•°ï¼ŒNè¶Šå¤§Kå°±ä¼šè¶Šå¤§ï¼Œå› æ­¤æŠŠKè¡¨ç¤ºä¸ºÎ»*Nï¼Œæ˜¾ç„¶Î»çš„å–å€¼èŒƒå›´æ˜¯(0,1)ã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨è¿™ä¸ªç®—æ³•çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼š</p><ol>\n<li>\n<p>æ‰«æè¡Œæ•°æ˜¯ N+Î»*N*Mï¼›</p>\n</li>\n<li>\n<p>å†…å­˜åˆ¤æ–­ N*Mæ¬¡ã€‚</p>\n</li>\n</ol><p>æ˜¾ç„¶ï¼Œå†…å­˜åˆ¤æ–­æ¬¡æ•°æ˜¯ä¸å—é€‰æ‹©å“ªä¸ªè¡¨ä½œä¸ºé©±åŠ¨è¡¨å½±å“çš„ã€‚è€Œè€ƒè™‘åˆ°æ‰«æè¡Œæ•°ï¼Œåœ¨Må’ŒNå¤§å°ç¡®å®šçš„æƒ…å†µä¸‹ï¼ŒNå°ä¸€äº›ï¼Œæ•´ä¸ªç®—å¼çš„ç»“æœä¼šæ›´å°ã€‚</p><p>æ‰€ä»¥ç»“è®ºæ˜¯ï¼Œåº”è¯¥è®©å°è¡¨å½“é©±åŠ¨è¡¨ã€‚</p><p>å½“ç„¶ï¼Œä½ ä¼šå‘ç°ï¼Œåœ¨N+Î»*N*Mè¿™ä¸ªå¼å­é‡Œï¼ŒÎ»æ‰æ˜¯å½±å“æ‰«æè¡Œæ•°çš„å…³é”®å› ç´ ï¼Œè¿™ä¸ªå€¼è¶Šå°è¶Šå¥½ã€‚</p><p>åˆšåˆšæˆ‘ä»¬è¯´äº†Nè¶Šå¤§ï¼Œåˆ†æ®µæ•°Kè¶Šå¤§ã€‚é‚£ä¹ˆï¼ŒNå›ºå®šçš„æ—¶å€™ï¼Œä»€ä¹ˆå‚æ•°ä¼šå½±å“Kçš„å¤§å°å‘¢ï¼Ÿï¼ˆä¹Ÿå°±æ˜¯Î»çš„å¤§å°ï¼‰ç­”æ¡ˆæ˜¯join_buffer_sizeã€‚join_buffer_sizeè¶Šå¤§ï¼Œä¸€æ¬¡å¯ä»¥æ”¾å…¥çš„è¡Œè¶Šå¤šï¼Œåˆ†æˆçš„æ®µæ•°ä¹Ÿå°±è¶Šå°‘ï¼Œå¯¹è¢«é©±åŠ¨è¡¨çš„å…¨è¡¨æ‰«ææ¬¡æ•°å°±è¶Šå°‘ã€‚</p><p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°ä¸€äº›å»ºè®®å‘Šè¯‰ä½ ï¼Œå¦‚æœä½ çš„joinè¯­å¥å¾ˆæ…¢ï¼Œå°±æŠŠjoin_buffer_sizeæ”¹å¤§ã€‚</p><p>ç†è§£äº†MySQLæ‰§è¡Œjoinçš„ä¸¤ç§ç®—æ³•ï¼Œç°åœ¨æˆ‘ä»¬å†æ¥è¯•ç€<strong>å›ç­”æ–‡ç« å¼€å¤´çš„ä¸¤ä¸ªé—®é¢˜</strong>ã€‚</p><p>ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šèƒ½ä¸èƒ½ä½¿ç”¨joinè¯­å¥ï¼Ÿ</p><ol>\n<li>\n<p>å¦‚æœå¯ä»¥ä½¿ç”¨Index Nested-Loop Joinç®—æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥ç”¨ä¸Šè¢«é©±åŠ¨è¡¨ä¸Šçš„ç´¢å¼•ï¼Œå…¶å®æ˜¯æ²¡é—®é¢˜çš„ï¼›</p>\n</li>\n<li>\n<p>å¦‚æœä½¿ç”¨Block Nested-Loop Joinç®—æ³•ï¼Œæ‰«æè¡Œæ•°å°±ä¼šè¿‡å¤šã€‚å°¤å…¶æ˜¯åœ¨å¤§è¡¨ä¸Šçš„joinæ“ä½œï¼Œè¿™æ ·å¯èƒ½è¦æ‰«æè¢«é©±åŠ¨è¡¨å¾ˆå¤šæ¬¡ï¼Œä¼šå ç”¨å¤§é‡çš„ç³»ç»Ÿèµ„æºã€‚æ‰€ä»¥è¿™ç§joinå°½é‡ä¸è¦ç”¨ã€‚</p>\n</li>\n</ol><p>æ‰€ä»¥ä½ åœ¨åˆ¤æ–­è¦ä¸è¦ä½¿ç”¨joinè¯­å¥æ—¶ï¼Œå°±æ˜¯çœ‹explainç»“æœé‡Œé¢ï¼ŒExtraå­—æ®µé‡Œé¢æœ‰æ²¡æœ‰å‡ºç°â€œBlock Nested Loopâ€å­—æ ·ã€‚</p><p>ç¬¬äºŒä¸ªé—®é¢˜æ˜¯ï¼šå¦‚æœè¦ä½¿ç”¨joinï¼Œåº”è¯¥é€‰æ‹©å¤§è¡¨åšé©±åŠ¨è¡¨è¿˜æ˜¯é€‰æ‹©å°è¡¨åšé©±åŠ¨è¡¨ï¼Ÿ</p><ol>\n<li>\n<p>å¦‚æœæ˜¯Index Nested-Loop Joinç®—æ³•ï¼Œåº”è¯¥é€‰æ‹©å°è¡¨åšé©±åŠ¨è¡¨ï¼›</p>\n</li>\n<li>\n<p>å¦‚æœæ˜¯Block Nested-Loop Joinç®—æ³•ï¼š</p>\n<ul>\n<li>åœ¨join_buffer_sizeè¶³å¤Ÿå¤§çš„æ—¶å€™ï¼Œæ˜¯ä¸€æ ·çš„ï¼›</li>\n<li>åœ¨join_buffer_sizeä¸å¤Ÿå¤§çš„æ—¶å€™ï¼ˆè¿™ç§æƒ…å†µæ›´å¸¸è§ï¼‰ï¼Œåº”è¯¥é€‰æ‹©å°è¡¨åšé©±åŠ¨è¡¨ã€‚</li>\n</ul>\n</li>\n</ol><p>æ‰€ä»¥ï¼Œè¿™ä¸ªé—®é¢˜çš„ç»“è®ºå°±æ˜¯ï¼Œæ€»æ˜¯åº”è¯¥ä½¿ç”¨å°è¡¨åšé©±åŠ¨è¡¨ã€‚</p><p>å½“ç„¶äº†ï¼Œè¿™é‡Œæˆ‘éœ€è¦è¯´æ˜ä¸‹ï¼Œ<strong>ä»€ä¹ˆå«ä½œâ€œå°è¡¨â€</strong>ã€‚</p><p>æˆ‘ä»¬å‰é¢çš„ä¾‹å­æ˜¯æ²¡æœ‰åŠ æ¡ä»¶çš„ã€‚å¦‚æœæˆ‘åœ¨è¯­å¥çš„whereæ¡ä»¶åŠ ä¸Š t2.id&lt;=50è¿™ä¸ªé™å®šæ¡ä»¶ï¼Œå†æ¥çœ‹ä¸‹è¿™ä¸¤æ¡è¯­å¥ï¼š</p><pre><code>select * from t1 straight_join t2 on (t1.b=t2.b) where t2.id&lt;=50;\nselect * from t2 straight_join t1 on (t1.b=t2.b) where t2.id&lt;=50;\n</code></pre><p>æ³¨æ„ï¼Œä¸ºäº†è®©ä¸¤æ¡è¯­å¥çš„è¢«é©±åŠ¨è¡¨éƒ½ç”¨ä¸ä¸Šç´¢å¼•ï¼Œæ‰€ä»¥joinå­—æ®µéƒ½ä½¿ç”¨äº†æ²¡æœ‰ç´¢å¼•çš„å­—æ®µbã€‚</p><p>ä½†å¦‚æœæ˜¯ç”¨ç¬¬äºŒä¸ªè¯­å¥çš„è¯ï¼Œjoin_bufferåªéœ€è¦æ”¾å…¥t2çš„å‰50è¡Œï¼Œæ˜¾ç„¶æ˜¯æ›´å¥½çš„ã€‚æ‰€ä»¥è¿™é‡Œï¼Œâ€œt2çš„å‰50è¡Œâ€æ˜¯é‚£ä¸ªç›¸å¯¹å°çš„è¡¨ï¼Œä¹Ÿå°±æ˜¯â€œå°è¡¨â€ã€‚</p><p>æˆ‘ä»¬å†æ¥çœ‹å¦å¤–ä¸€ç»„ä¾‹å­ï¼š</p><pre><code>select t1.b,t2.* from  t1  straight_join t2 on (t1.b=t2.b) where t2.id&lt;=100;\nselect t1.b,t2.* from  t2  straight_join t1 on (t1.b=t2.b) where t2.id&lt;=100;\n</code></pre><p>è¿™ä¸ªä¾‹å­é‡Œï¼Œè¡¨t1 å’Œ t2éƒ½æ˜¯åªæœ‰100è¡Œå‚åŠ joinã€‚ä½†æ˜¯ï¼Œè¿™ä¸¤æ¡è¯­å¥æ¯æ¬¡æŸ¥è¯¢æ”¾å…¥join_bufferä¸­çš„æ•°æ®æ˜¯ä¸ä¸€æ ·çš„ï¼š</p><ul>\n<li>è¡¨t1åªæŸ¥å­—æ®µbï¼Œå› æ­¤å¦‚æœæŠŠt1æ”¾åˆ°join_bufferä¸­ï¼Œåˆ™join_bufferä¸­åªéœ€è¦æ”¾å…¥bçš„å€¼ï¼›</li>\n<li>è¡¨t2éœ€è¦æŸ¥æ‰€æœ‰çš„å­—æ®µï¼Œå› æ­¤å¦‚æœæŠŠè¡¨t2æ”¾åˆ°join_bufferä¸­çš„è¯ï¼Œå°±éœ€è¦æ”¾å…¥ä¸‰ä¸ªå­—æ®µidã€aå’Œbã€‚</li>\n</ul><p>è¿™é‡Œï¼Œæˆ‘ä»¬åº”è¯¥é€‰æ‹©è¡¨t1ä½œä¸ºé©±åŠ¨è¡¨ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œâ€œåªéœ€è¦ä¸€åˆ—å‚ä¸joinçš„è¡¨t1â€æ˜¯é‚£ä¸ªç›¸å¯¹å°çš„è¡¨ã€‚</p><p>æ‰€ä»¥ï¼Œæ›´å‡†ç¡®åœ°è¯´ï¼Œ<strong>åœ¨å†³å®šå“ªä¸ªè¡¨åšé©±åŠ¨è¡¨çš„æ—¶å€™ï¼Œåº”è¯¥æ˜¯ä¸¤ä¸ªè¡¨æŒ‰ç…§å„è‡ªçš„æ¡ä»¶è¿‡æ»¤ï¼Œè¿‡æ»¤å®Œæˆä¹‹åï¼Œè®¡ç®—å‚ä¸joinçš„å„ä¸ªå­—æ®µçš„æ€»æ•°æ®é‡ï¼Œæ•°æ®é‡å°çš„é‚£ä¸ªè¡¨ï¼Œå°±æ˜¯â€œå°è¡¨â€ï¼Œåº”è¯¥ä½œä¸ºé©±åŠ¨è¡¨ã€‚</strong></p><h1>å°ç»“</h1><p>ä»Šå¤©ï¼Œæˆ‘å’Œä½ ä»‹ç»äº†MySQLæ‰§è¡Œjoinè¯­å¥çš„ä¸¤ç§å¯èƒ½ç®—æ³•ï¼Œè¿™ä¸¤ç§ç®—æ³•æ˜¯ç”±èƒ½å¦ä½¿ç”¨è¢«é©±åŠ¨è¡¨çš„ç´¢å¼•å†³å®šçš„ã€‚è€Œèƒ½å¦ç”¨ä¸Šè¢«é©±åŠ¨è¡¨çš„ç´¢å¼•ï¼Œå¯¹joinè¯­å¥çš„æ€§èƒ½å½±å“å¾ˆå¤§ã€‚</p><p>é€šè¿‡å¯¹Index Nested-Loop Joinå’ŒBlock Nested-Loop Joinä¸¤ä¸ªç®—æ³•æ‰§è¡Œè¿‡ç¨‹çš„åˆ†æï¼Œæˆ‘ä»¬ä¹Ÿå¾—åˆ°äº†æ–‡ç« å¼€å¤´ä¸¤ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼š</p><ol>\n<li>\n<p>å¦‚æœå¯ä»¥ä½¿ç”¨è¢«é©±åŠ¨è¡¨çš„ç´¢å¼•ï¼Œjoinè¯­å¥è¿˜æ˜¯æœ‰å…¶ä¼˜åŠ¿çš„ï¼›</p>\n</li>\n<li>\n<p>ä¸èƒ½ä½¿ç”¨è¢«é©±åŠ¨è¡¨çš„ç´¢å¼•ï¼Œåªèƒ½ä½¿ç”¨Block Nested-Loop Joinç®—æ³•ï¼Œè¿™æ ·çš„è¯­å¥å°±å°½é‡ä¸è¦ä½¿ç”¨ï¼›</p>\n</li>\n<li>\n<p>åœ¨ä½¿ç”¨joinçš„æ—¶å€™ï¼Œåº”è¯¥è®©å°è¡¨åšé©±åŠ¨è¡¨ã€‚</p>\n</li>\n</ol><p>æœ€åï¼Œåˆåˆ°äº†ä»Šå¤©çš„é—®é¢˜æ—¶é—´ã€‚</p><p>æˆ‘ä»¬åœ¨ä¸Šæ–‡è¯´åˆ°ï¼Œä½¿ç”¨Block Nested-Loop Joinç®—æ³•ï¼Œå¯èƒ½ä¼šå› ä¸ºjoin_bufferä¸å¤Ÿå¤§ï¼Œéœ€è¦å¯¹è¢«é©±åŠ¨è¡¨åšå¤šæ¬¡å…¨è¡¨æ‰«æã€‚</p><p>æˆ‘çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœè¢«é©±åŠ¨è¡¨æ˜¯ä¸€ä¸ªå¤§è¡¨ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªå†·æ•°æ®è¡¨ï¼Œé™¤äº†æŸ¥è¯¢è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå¯¼è‡´IOå‹åŠ›å¤§ä»¥å¤–ï¼Œä½ è§‰å¾—å¯¹è¿™ä¸ªMySQLæœåŠ¡è¿˜æœ‰ä»€ä¹ˆæ›´ä¸¥é‡çš„å½±å“å—ï¼Ÿï¼ˆè¿™ä¸ªé—®é¢˜éœ€è¦ç»“åˆä¸Šä¸€ç¯‡æ–‡ç« çš„çŸ¥è¯†ç‚¹ï¼‰</p><p>ä½ å¯ä»¥æŠŠä½ çš„ç»“è®ºå’Œåˆ†æå†™åœ¨ç•™è¨€åŒºï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« çš„æœ«å°¾å’Œä½ è®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><h1>ä¸ŠæœŸé—®é¢˜æ—¶é—´</h1><p>æˆ‘åœ¨ä¸Šä¸€ç¯‡æ–‡ç« æœ€åç•™ä¸‹çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœå®¢æˆ·ç«¯ç”±äºå‹åŠ›è¿‡å¤§ï¼Œè¿Ÿè¿Ÿä¸èƒ½æ¥æ”¶æ•°æ®ï¼Œä¼šå¯¹æœåŠ¡ç«¯é€ æˆä»€ä¹ˆä¸¥é‡çš„å½±å“ã€‚</p><p>è¿™ä¸ªé—®é¢˜çš„æ ¸å¿ƒæ˜¯ï¼Œé€ æˆäº†â€œé•¿äº‹åŠ¡â€ã€‚</p><p>è‡³äºé•¿äº‹åŠ¡çš„å½±å“ï¼Œå°±è¦ç»“åˆæˆ‘ä»¬å‰é¢æ–‡ç« ä¸­æåˆ°çš„é”ã€MVCCçš„çŸ¥è¯†ç‚¹äº†ã€‚</p><ul>\n<li>å¦‚æœå‰é¢çš„è¯­å¥æœ‰æ›´æ–°ï¼Œæ„å‘³ç€å®ƒä»¬åœ¨å ç”¨ç€è¡Œé”ï¼Œä¼šå¯¼è‡´åˆ«çš„è¯­å¥æ›´æ–°è¢«é”ä½ï¼›</li>\n<li>å½“ç„¶è¯»çš„äº‹åŠ¡ä¹Ÿæœ‰é—®é¢˜ï¼Œå°±æ˜¯ä¼šå¯¼è‡´undo logä¸èƒ½è¢«å›æ”¶ï¼Œå¯¼è‡´å›æ»šæ®µç©ºé—´è†¨èƒ€ã€‚</li>\n</ul><p>è¯„è®ºåŒºç•™è¨€ç‚¹èµæ¿ï¼š</p><blockquote>\n<p>@è€æ¨åŒå¿— æåˆ°äº†æ›´æ–°ä¹‹é—´ä¼šäº’ç›¸ç­‰é”çš„é—®é¢˜ã€‚åŒä¸€ä¸ªäº‹åŠ¡ï¼Œæ›´æ–°ä¹‹åè¦å°½å¿«æäº¤ï¼Œä¸è¦åšæ²¡å¿…è¦çš„æŸ¥è¯¢ï¼Œå°¤å…¶æ˜¯ä¸è¦æ‰§è¡Œéœ€è¦è¿”å›å¤§é‡æ•°æ®çš„æŸ¥è¯¢ï¼›<br>\n@é•¿æ° åŒå­¦æåˆ°äº†undoè¡¨ç©ºé—´å˜å¤§ï¼ŒdbæœåŠ¡å µå¡ï¼ŒæœåŠ¡ç«¯ç£ç›˜ç©ºé—´ä¸è¶³çš„ä¾‹å­ã€‚</p>\n</blockquote><p></p>","comments":[{"had_liked":false,"id":64558,"user_name":"æ²¡æ—¶é—´äº†ngu","can_delete":false,"product_type":"c1","uid":1311334,"ip_address":"","ucode":"9629BB85E8BB5D","user_header":"https://static001.geekbang.org/account/avatar/00/14/02/66/4ab9225e.jpg","comment_is_top":true,"comment_ctime":1548820712,"is_pvip":false,"replies":[{"id":"22869","content":"å—¯å—¯ï¼Œå› ä¸ºå…¶å®æ¯ä¸ªåŒå­¦çš„åªæ˜¯èƒŒæ™¯ä¸ä¸€æ ·ã€‚<br>è¿™45è®²é‡Œï¼Œæ¯ä¸ªåŒå­¦éƒ½èƒ½ä»éƒ¨åˆ†æ–‡ç« æ„Ÿè§‰åˆ°æœ‰æ”¶è·ï¼Œæˆ‘è§‰å¾—ä¹Ÿå¾ˆå¥½äº†ğŸ˜†<br><br>ä¸è¿‡ é”å…¶å®ç”¨å¾—ä¹Ÿå¤šçš„ã€‚ã€‚<br>æˆ‘ä»¥å‰è´Ÿè´£ä¸šåŠ¡åº“çš„æ—¶å€™ï¼Œè¢«å¼€å‘åŒå­¦é—®æœ€å¤šçš„é—®é¢˜ä¹‹ä¸€å°±æ˜¯ï¼Œä¸ºå•¥æ­»é”äº†^_^","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548828713,"ip_address":"","comment_id":64558,"utype":1}],"discussion_count":6,"race_medal":0,"score":"9.2233724464254996e+18","product_id":100020801,"comment_content":"joinè¿™ç§ç”¨çš„å¤šçš„ï¼Œçœ‹å®Œè¿˜æ˜¯æœ‰å¾ˆå¤§æ”¶è·çš„ã€‚åƒä¹‹å‰è®²çš„é”ä¹‹ç±»ï¼Œæ„Ÿè§‰å¥½æŠ½è±¡ï¼Œè€æ˜¯è®°ä¸ä½ï¼Œå”‰ã€‚","like_count":96,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438070,"discussion_content":"å—¯å—¯ï¼Œå› ä¸ºå…¶å®æ¯ä¸ªåŒå­¦çš„åªæ˜¯èƒŒæ™¯ä¸ä¸€æ ·ã€‚\nè¿™45è®²é‡Œï¼Œæ¯ä¸ªåŒå­¦éƒ½èƒ½ä»éƒ¨åˆ†æ–‡ç« æ„Ÿè§‰åˆ°æœ‰æ”¶è·ï¼Œæˆ‘è§‰å¾—ä¹Ÿå¾ˆå¥½äº†ğŸ˜†\n\nä¸è¿‡ é”å…¶å®ç”¨å¾—ä¹Ÿå¤šçš„ã€‚ã€‚\næˆ‘ä»¥å‰è´Ÿè´£ä¸šåŠ¡åº“çš„æ—¶å€™ï¼Œè¢«å¼€å‘åŒå­¦é—®æœ€å¤šçš„é—®é¢˜ä¹‹ä¸€å°±æ˜¯ï¼Œä¸ºå•¥æ­»é”äº†^_^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548828713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2112092,"avatar":"https://static001.geekbang.org/account/avatar/00/20/3a/5c/60fdf8e2.jpg","nickname":"wtdd","note":"","ucode":"26C64BF9CCA061","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":401234,"discussion_content":"ä½•æ­¢æ˜¯æœ‰æ”¶è·ï¼Œç®€ç›´æ˜¯å¤ªç‰¹ä¹ˆæœ‰æ”¶è·äº†ï¼ï¼ï¼ï¼","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1633609909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2760691,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/1f/f3/791d0f5e.jpg","nickname":"xgt132","note":"","ucode":"A5023547E8D490","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590210,"discussion_content":"çœ‹å¤§å®¶æ²¡å…¨è®°ä½ æˆ‘å°±æ”¾å¿ƒäº†0.0","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665623004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2723576,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epxppZUun6eqepI5hGHjU3fP8yVIicUq7gYRZfR3PoDCMQqd2ia8CmCSa1mIIf6OYGFjbW28RCXmrJQ/132","nickname":"Geek_aef4be","note":"","ucode":"F1C3F2AE3CCA0F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585167,"discussion_content":"å¯¹äºjoinçš„ä¸¤å¼ è¡¨ï¼Œé™¤äº†è¢«é©±åŠ¨è¡¨çš„onå­—æ®µæœ‰ç´¢å¼•å¤–ï¼Œé©±åŠ¨è¡¨ä¸Šçš„onå­—æ®µåŠ ç´¢å¼•æ²¡æœ‰å¯¹æ€§èƒ½æœ‰æå‡å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661357643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1780797,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2c/3d/0bd58aa4.jpg","nickname":"Em","note":"","ucode":"32012A5C603C8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578257,"discussion_content":"ç›¸åæˆ‘æ›´ç†è§£é”...   æ²¡ç”¨è¿‡join   ä½†é”çš„æ¦‚å¿µåœ¨è®¡ç®—æœºæ¯”è¾ƒå¹¿æ³›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656606485,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1811277,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a3/4d/59390ba9.jpg","nickname":"æ’éª¨","note":"","ucode":"A413CF46211E1F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574240,"discussion_content":"çœŸçš„å¾ˆæœ‰æ”¶è·ï¼Œçœ‹å®Œè™½ç„¶å¾ˆå¤šè®°ä¸ä½ï¼Œä½†æ˜¯æ„Ÿè§‰mysqlçš„ç†è§£å·²ç»è¶…è¿‡äº†å¾ˆå¤šç¨‹åºå‘˜äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653919774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64554,"user_name":"ä¿¡ä¿¡","can_delete":false,"product_type":"c1","uid":1303865,"ip_address":"","ucode":"8DF0EC045579FD","user_header":"https://static001.geekbang.org/account/avatar/00/13/e5/39/951f89c8.jpg","comment_is_top":false,"comment_ctime":1548820034,"is_pvip":false,"replies":[{"id":"22866","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548823013,"ip_address":"","comment_id":64554,"utype":1}],"discussion_count":19,"race_medal":0,"score":"1444657831490","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œå›ç­”æœ¬æœŸé—®é¢˜ï¼šå¦‚æœé©±åŠ¨è¡¨åˆ†æ®µï¼Œé‚£ä¹ˆè¢«é©±åŠ¨è¡¨å°±è¢«å¤šæ¬¡è¯»ï¼Œè€Œè¢«é©±åŠ¨è¡¨åˆæ˜¯å¤§è¡¨ï¼Œå¾ªç¯è¯»å–çš„é—´éš”è‚¯å®šå¾—è¶…1ç§’ï¼Œè¿™å°±ä¼šå¯¼è‡´ä¸Šç¯‡æ–‡ç« æåˆ°çš„ï¼šâ€œæ•°æ®é¡µåœ¨LRU_oldçš„å­˜åœ¨æ—¶é—´è¶…è¿‡1ç§’ï¼Œå°±ä¼šç§»åˆ°youngåŒºâ€ã€‚æœ€ç»ˆç»“æœå°±æ˜¯æŠŠå¤§éƒ¨åˆ†çƒ­ç‚¹æ•°æ®éƒ½æ·˜æ±°äº†ï¼Œå¯¼è‡´â€œBuffer pool hit rateâ€å‘½ä¸­ç‡æä½ï¼Œå…¶ä»–è¯·æ±‚éœ€è¦è¯»ç£ç›˜ï¼Œå› æ­¤ç³»ç»Ÿå“åº”å˜æ…¢ï¼Œå¤§éƒ¨åˆ†è¯·æ±‚é˜»å¡ã€‚","like_count":337,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438067,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548823013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1887586,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLhicDSmL4vicPADhxxzOzukMar8nV5Tc3ic2dz4FQIxMX3WmX5a2V3sdD121eWpvfQI8NXIkkDZoDFw/132","nickname":"Geek_536b54","note":"","ucode":"F62BC7781D9212","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336809,"discussion_content":"ä½ å°±æ˜¯ç­é‡Œè®¤çœŸå¬è®²çš„åŒå­¦\n","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1608707353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1290245,"avatar":"https://static001.geekbang.org/account/avatar/00/13/b0/05/48e3f940.jpg","nickname":"æ— å¿ƒ","note":"","ucode":"2AD84413DB4A72","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":132447,"discussion_content":"é‚£è¿™å¼ å¤§è¡¨è¿˜ä¸å¤Ÿå¤§ï¼Œåªè¦è¦æ‰«æçš„æ•°æ®é¡µå¤§å°è¶…è¿‡innodb buffer poolçš„3/8ï¼Œä¸‹ä¸€æ¬¡è¯»çš„æ—¶å€™ç¼“å­˜å·²ç»è¢«æ·˜æ±°æ‰äº†","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1578909012,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1254493,"avatar":"https://static001.geekbang.org/account/avatar/00/13/24/5d/65e61dcb.jpg","nickname":"å¬é›¨","note":"","ucode":"252754F9FCFF0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1290245,"avatar":"https://static001.geekbang.org/account/avatar/00/13/b0/05/48e3f940.jpg","nickname":"æ— å¿ƒ","note":"","ucode":"2AD84413DB4A72","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":313256,"discussion_content":"å†·æ•°æ®åœ¨1såè¢«å†æ¬¡è®¿é—®æ˜¯ä¼šç§»åˆ°çƒ­æ•°æ®åŒºåŸŸå¤´éƒ¨ï¼Œè¿™æ ·å†·æ•°æ®å°±ä¸ä¼šè¢«æ·˜æ±°äº†ï¼Œä¼šæ·˜æ±°çƒ­æ•°æ®åŒºåŸŸå°¾éƒ¨çš„æ•°æ®ã€‚ä¸€èˆ¬å¤§è¡¨join 1ç§’æ˜¯ç»“æŸä¸äº†çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603013426,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":132447,"ip_address":""},"score":313256,"extra":""}]},{"author":{"id":1440429,"avatar":"https://static001.geekbang.org/account/avatar/00/15/fa/ad/3fa02ac7.jpg","nickname":"æ˜ŸæœŸå…«","note":"","ucode":"D8C66E7F61B0D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":273437,"discussion_content":"æµå¼Š~","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1590456754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2764938,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/30/8a/41a1fd6a.jpg","nickname":"å¤§å¤§çš„æ²™åŒ…","note":"","ucode":"0A2CB16F90ECF8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":395983,"discussion_content":"å‰ææ¡ä»¶æ˜¯buffer poolçš„oldåŒºæ—¶èƒ½å¤Ÿæ”¾ä¸‹è¿™ä¸ªå¤§è¡¨çš„æ—¶å€™å§ï¼Œå¦‚æœæ”¾ä¸ä¸‹çš„è¯å°±ä¸ä¼šè¿›å…¥youngåŒºï¼Œä½†æ˜¯å¤§è¡¨çš„æ¯ä¸€è½®éå†éƒ½éœ€è¦ç£ç›˜è¯»å–ï¼Œç†è®ºä¸Šä¼šç‰¹åˆ«çš„æ…¢ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1632376289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1155275,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","nickname":"å¼ ä¸‰ä¸°","note":"","ucode":"3A6215A40B3B21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383486,"discussion_content":"è¿™å°±æœ‰ç‚¹çŸ›ç›¾äº†ï¼Œæ•°æ®é¡µä¸æ˜¯å­˜çš„æ•°æ®å—ï¼Ÿä¸ºä½•æ‰«æåˆ°çš„ä¹Ÿä¼šæ”¾æ•°æ®é¡µï¼Ÿå…¨è¡¨æ‰«æä¸ç­‰äºå…¨è¡¨åŒ¹é…å•Šï¼Œå®é™…åªæ˜¯åŒ¹é…äº†ä¸€æ¡æ•°æ®è€Œå·²ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626113704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2649276,"avatar":"https://static001.geekbang.org/account/avatar/00/28/6c/bc/f751786b.jpg","nickname":"Leo","note":"","ucode":"CEBAD9CDCFC2A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1155275,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","nickname":"å¼ ä¸‰ä¸°","note":"","ucode":"3A6215A40B3B21","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386642,"discussion_content":"æ‰«æåˆ°çš„æ•°æ®ä¼šè¢«è¯»å–åˆ°buffer poolçš„oldåŒºé—´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627705534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":383486,"ip_address":""},"score":386642,"extra":""}]},{"author":{"id":1124075,"avatar":"https://static001.geekbang.org/account/avatar/00/11/26/eb/24e0ac9c.jpg","nickname":"å¬´æ¢¦å·","note":"","ucode":"104CDFD26A1711","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375115,"discussion_content":"åº”è¯¥ç½®é¡¶ï¼Œå¹¶é™„ä¸Šâ€œå¥½é—®é¢˜â€ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621487962,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2031146,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/W8eOmaCRP3hfROWPSdbfqcXnPtGwFXTaIicXtFic3ic3LibS6OydnKg2A3o8WqemQkRhNSmS9kSud6QyS4JRIOFbkA/132","nickname":"Geek_9c1ca6","note":"","ucode":"C426FDED75B3F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":363783,"discussion_content":"ä¸ºä»€ä¹ˆæ˜¯å¤§è¡¨ï¼Œå¾ªç¯è¯»å–çš„é—´éš”è‚¯å®šå¾—è¶…1ç§’å•Šï¼Ÿä¸Šä¸€ç« è¿˜è¯´é—´éš”è¶…ä¸è¿‡1ç§’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617282426,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1657561,"avatar":"https://static001.geekbang.org/account/avatar/00/19/4a/d9/b8046b4b.jpg","nickname":"zhangm365","note":"","ucode":"60E7DEFB3F5840","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2031146,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/W8eOmaCRP3hfROWPSdbfqcXnPtGwFXTaIicXtFic3ic3LibS6OydnKg2A3o8WqemQkRhNSmS9kSud6QyS4JRIOFbkA/132","nickname":"Geek_9c1ca6","note":"","ucode":"C426FDED75B3F8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386905,"discussion_content":"å› ä¸ºé©±åŠ¨è¡¨åˆ†äº†kæ®µçš„è¯ï¼Œè¢«é©±åŠ¨è¡¨çš„æ•°æ®å°±ä¼šè¢«è¯»å–kæ¬¡ï¼Œè¿™æ ·é—´éš”è¶…è¿‡1s","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627888410,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":363783,"ip_address":""},"score":386905,"extra":""}]},{"author":{"id":1292330,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/VX0ib4CV0m7fwxB2xFcIJaYYWXXpfxxYbfBErqBej9395hgZszqS3dz9bThCxOuFfJ8Xibx9HbdNmZJwL5m33wIw/132","nickname":"chaoxifuchen","note":"","ucode":"95DCC5C4994F68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":358791,"discussion_content":"æˆ‘æ²¡æƒ³åˆ°ï¼Œå›ç­”åˆ°ç‚¹å­ä¸Šäº†ï¼Œç‰›é€¼ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616051019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2440448,"avatar":"https://static001.geekbang.org/account/avatar/00/25/3d/00/4f6c4d61.jpg","nickname":"å½“å±±æ°´æ·±å…¥ç¹åã€‚","note":"","ucode":"C72C326D1FD72D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":355996,"discussion_content":"è¿é”ååº”äº†å°±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615515763,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1541014,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/96/73ff13a0.jpg","nickname":"å¤©äº®å‰è¯´æ™šå®‰","note":"","ucode":"1D82EE562A7C71","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284618,"discussion_content":"ä½ çš„æ„æ€æ˜¯é©±åŠ¨è¡¨çš„æ•°æ®æ˜¯æ”¾åœ¨join bufferä¸­ï¼Œè¢«é©±åŠ¨è¡¨æ˜¯æ”¾åœ¨pool bufferä¸­å—ï¼Ÿç„¶ååšæ¯”è¾ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592570601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1254493,"avatar":"https://static001.geekbang.org/account/avatar/00/13/24/5d/65e61dcb.jpg","nickname":"å¬é›¨","note":"","ucode":"252754F9FCFF0C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1541014,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/96/73ff13a0.jpg","nickname":"å¤©äº®å‰è¯´æ™šå®‰","note":"","ucode":"1D82EE562A7C71","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":313255,"discussion_content":"InnoDBè¯»å–æ•°æ®æ—¶ä¼šæ”¾åˆ°buffer poolä¸­ï¼Œç„¶åè¿”å›serverå±‚éœ€è¦çš„é‚£æ¡æ•°æ®ç»™serveråšæ¯”è¾ƒ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1603013134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":284618,"ip_address":""},"score":313255,"extra":""}]},{"author":{"id":1438035,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f1/53/31d92c97.jpg","nickname":"èœå°çŒ«","note":"","ucode":"ED1F5F70E02725","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281018,"discussion_content":"å­¦ä¹ äº†ï¼Œè°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591663575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1181505,"avatar":"https://static001.geekbang.org/account/avatar/00/12/07/41/2d477385.jpg","nickname":"æŸ æª¬C","note":"","ucode":"BC0EE704D952A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":153052,"discussion_content":"ç‰›é€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580019024,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1019332,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","nickname":"é•¿æœŸè§„åˆ’","note":"","ucode":"5EF65E9115834B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":56482,"discussion_content":"ç‰›ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574487093,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1026219,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/ab/5d25cd32.jpg","nickname":"å®¢èˆŸå¬é›¨æ¥coding","note":"","ucode":"753F4B779CC416","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":52289,"discussion_content":"å­¦ä¹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574035562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64780,"user_name":"æ–œé¢é•œå­ Bill","can_delete":false,"product_type":"c1","uid":1305242,"ip_address":"","ucode":"B5505F94540D52","user_header":"https://static001.geekbang.org/account/avatar/00/13/ea/9a/02d589f9.jpg","comment_is_top":false,"comment_ctime":1548906408,"is_pvip":false,"replies":[{"id":"22937","content":"ğŸ‘å¾ˆèµ<br>ä¹‹å‰çŸ¥è¯†ç‚¹çš„ä¹Ÿéƒ½åŠ è¿›æ¥å•¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548923054,"ip_address":"","comment_id":64780,"utype":1}],"discussion_count":5,"race_medal":0,"score":"864837332904","product_id":100020801,"comment_content":"å› ä¸º join_buffer ä¸å¤Ÿå¤§ï¼Œéœ€è¦å¯¹è¢«é©±åŠ¨è¡¨åšå¤šæ¬¡å…¨è¡¨æ‰«æï¼Œä¹Ÿå°±é€ æˆäº†â€œé•¿äº‹åŠ¡â€ã€‚é™¤äº†è€å¸ˆä¸ŠèŠ‚è¯¾æåˆ°çš„å¯¼è‡´undo log ä¸èƒ½è¢«å›æ”¶ï¼Œå¯¼è‡´å›æ»šæ®µç©ºé—´è†¨èƒ€é—®é¢˜ï¼Œè¿˜ä¼šå‡ºç°ï¼š1. é•¿æœŸå ç”¨DMLé”ï¼Œå¼•å‘DDLæ‹¿ä¸åˆ°é”å µæ…¢è¿æ¥æ± ï¼› 2. SQLæ‰§è¡Œsocket_timeoutè¶…æ—¶åä¸šåŠ¡æ¥å£é‡å¤å‘èµ·ï¼Œå¯¼è‡´å®ä¾‹IOè´Ÿè½½ä¸Šå‡å‡ºç°é›ªå´©ï¼›3. å®ä¾‹å¼‚å¸¸åï¼ŒDBA kill SQLå› ç¹æ‚çš„å›æ»šæ‰§è¡Œæ—¶é—´è¿‡é•¿ï¼Œä¸èƒ½å¿«é€Ÿæ¢å¤å¯ç”¨ï¼›4. å¦‚æœä¸šåŠ¡é‡‡ç”¨select *ä½œä¸ºç»“æœé›†è¿”å›ï¼Œæå¤§å¯èƒ½å‡ºç°ç½‘ç»œæ‹¥å µï¼Œæ•´ä½“æ‹–æ…¢æœåŠ¡ç«¯çš„å¤„ç†ï¼›5. å†·æ•°æ®æ±¡æŸ“buffer poolï¼Œblock nested-loopå¤šæ¬¡æ‰«æï¼Œå…¶ä¸­é—´éš”å¾ˆæœ‰å¯èƒ½è¶…è¿‡1sï¼Œä»è€Œæ±¡æŸ“åˆ°lru å¤´éƒ¨ï¼Œå½±å“æ•´ä½“çš„æŸ¥è¯¢ä½“éªŒã€‚","like_count":202,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438175,"discussion_content":"ğŸ‘å¾ˆèµ\nä¹‹å‰çŸ¥è¯†ç‚¹çš„ä¹Ÿéƒ½åŠ è¿›æ¥å•¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548923054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1890006,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/d6/d6/5fbb6e00.jpg","nickname":"å†å¿™ä¹Ÿè¦å……å……ç”µ","note":"","ucode":"098F2D9D280D60","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380820,"discussion_content":"æˆ‘é ï¼Œä¸ºå•¥æˆ‘å‰é¢å­¦çš„çŸ¥è¯†ä¸²ä¸èµ·æ¥ï¼ï¼ï¼ï¼æˆ‘å¤´ä¸Šé•¿çš„æ˜¯è„‘è¢‹å—ï¼Ÿï¼Ÿï¼Ÿ","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1624713454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1890006,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/d6/d6/5fbb6e00.jpg","nickname":"å†å¿™ä¹Ÿè¦å……å……ç”µ","note":"","ucode":"098F2D9D280D60","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380821,"discussion_content":"é”™äº† æˆ‘è„–å­ä¸Šé•¿çš„æ˜¯è„‘è¢‹å—ï¼Ÿï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1624713483,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1124075,"avatar":"https://static001.geekbang.org/account/avatar/00/11/26/eb/24e0ac9c.jpg","nickname":"å¬´æ¢¦å·","note":"","ucode":"104CDFD26A1711","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375116,"discussion_content":"ç²¾è¾Ÿï¼Œæ¯”æ¥¼ä¸Šçš„åˆ†ææ›´å…¨é¢","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621488155,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1020492,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/92/4c/40783447.jpg","nickname":"ä½•éª§","note":"","ucode":"11DCC74CE2F300","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301875,"discussion_content":"ä½ æ€ä¹ˆå¦‚æ­¤ä¼˜ç§€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598691699,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64518,"user_name":"è€æ¨åŒå¿—","can_delete":false,"product_type":"c1","uid":1246199,"ip_address":"","ucode":"3F334F0CFD3DE6","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/f7/3a493bec.jpg","comment_is_top":false,"comment_ctime":1548814650,"is_pvip":false,"replies":[{"id":"22840","content":"æ¼‚äº®ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548818033,"ip_address":"","comment_id":64518,"utype":1}],"discussion_count":1,"race_medal":0,"score":"254951885114","product_id":100020801,"comment_content":"å¯¹è¢«é©±åŠ¨è¡¨è¿›è¡Œå…¨è¡¨æ‰«æï¼Œä¼šæŠŠå†·æ•°æ®çš„pageåŠ å…¥åˆ°buffer pool.,å¹¶ä¸”block nested-loopè¦æ‰«æå¤šæ¬¡ï¼Œä¸¤æ¬¡æ‰«æçš„æ—¶é—´å¯èƒ½ä¼šè¶…è¿‡1ç§’ï¼Œä½¿lruçš„é‚£ä¸ªä¼˜åŒ–å¤±æ•ˆï¼ŒæŠŠçƒ­ç‚¹æ•°æ®ä»buffer poolä¸­æ·˜æ±°æ‰ï¼Œå½±å“æ­£å¸¸ä¸šåŠ¡çš„æŸ¥è¯¢æ•ˆç‡","like_count":60,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438043,"discussion_content":"æ¼‚äº®ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548818033,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64605,"user_name":"Zzz","can_delete":false,"product_type":"c1","uid":1116272,"ip_address":"","ucode":"4AA47797F48315","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIu1n1DhUGGKTjelrQaLYOSVK2rsFeia0G8ASTIftib5PTOx4pTqdnfwb0NiaEFGRgS661nINyZx9sUg/132","comment_is_top":false,"comment_ctime":1548834098,"is_pvip":false,"replies":[{"id":"22880","content":"ä½ è¯´å¾—å¯¹ï¼Œåˆ†ä¸¤ç±»æƒ…å†µï¼Œ<br>å°äºbp 3&#47;8çš„æƒ…å†µä¼šè·‘åˆ°youngï¼Œ<br>å¤§äº3&#47;8çš„ä¼šå½±å“youngéƒ¨åˆ†çš„æ›´æ–°","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548839684,"ip_address":"","comment_id":64605,"utype":1}],"discussion_count":4,"race_medal":0,"score":"164757591346","product_id":100020801,"comment_content":"æ—è€å¸ˆï¼Œæˆ‘æ²¡æƒ³æ¸…æ¥šä¸ºä»€ä¹ˆä¼šè¿›å…¥youngåŒºåŸŸã€‚å‡è®¾å¤§è¡¨tå¤§å°æ˜¯Mé¡µ&gt;oldåŒºåŸŸNé¡µï¼Œç”±äºBlock Nested-Loop Joinéœ€è¦å¯¹tè¿›è¡Œkæ¬¡å…¨è¡¨æ‰«æã€‚ç¬¬ä¸€æ¬¡æ‰«ææ—¶ï¼Œ1~Né¡µä¾æ¬¡è¢«æ”¾å…¥oldåŒºåŸŸï¼Œè®¿é—®N+1é¡µæ—¶æ·˜æ±°1é¡µï¼Œæ”¾å…¥N+1é¡µï¼Œä»¥æ­¤ç±»æ¨ï¼Œç¬¬ä¸€æ¬¡æ‰«æç»“æŸåoldåŒºåŸŸå­˜æ”¾çš„æ˜¯M-N+1~Mé¡µã€‚ç¬¬äºŒæ¬¡æ‰«æå¼€å§‹ï¼Œè®¿é—®1é¡µï¼Œæ·˜æ±°M-N+1é¡µï¼Œæ”¾å…¥1é¡µã€‚å¯ä»¥æŠŠMé¡µæƒ³è±¡æˆä¸€ä¸ªç¯ï¼ŒNé¡µæƒ³è±¡æˆåœ¨è¿™ä¸ªç¯ä¸Šæ»‘åŠ¨çš„çª—å£ï¼Œç”±äºM&gt;Nï¼Œä¸ç®¡æ˜¯å“ªæ¬¡æ‰«æï¼Œéœ€è¦è®¿é—®çš„é¡µéƒ½ä¸ä¼šåœ¨æ»‘åŠ¨çª—å£ä¸Šï¼Œæ‰€ä»¥ä¸ä¼šå­˜åœ¨â€œè¢«è®¿é—®çš„æ—¶å€™æ•°æ®é¡µåœ¨ LRU é“¾è¡¨ä¸­å­˜åœ¨çš„æ—¶é—´è¶…è¿‡äº† 1 ç§’â€œè€Œè¢«æ”¾å…¥youngçš„æƒ…å†µã€‚æˆ‘èƒ½æƒ³åˆ°çš„ä¼šè¢«æ”¾å…¥youngåŒºåŸŸçš„æƒ…å†µæ˜¯ï¼Œåœ¨å½“æ¬¡æ‰«æä¸­ï¼Œç”±äºä¸€é¡µä¸Šæœ‰å¤šè¡Œæ•°æ®ï¼Œéœ€è¦å¯¹è¯¥é¡µè®¿é—®å¤šæ¬¡ï¼Œè¶…è¿‡äº†1sï¼Œä¸ç®¡è¿™ç§æƒ…å†µå°±å’Œtå¤§å°æ²¡å…³ç³»äº†ï¼Œè€Œæ˜¯ç”±äºpage sizeå¤ªå¤§ï¼Œè€Œä¸€è¡Œæ•°æ®å¤ªå°‘ã€‚","like_count":39,"discussions":[{"author":{"id":1263932,"avatar":"https://static001.geekbang.org/account/avatar/00/13/49/3c/5d54c510.jpg","nickname":"é™é™è†å¬","note":"","ucode":"0A8600CB928EFE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291867,"discussion_content":"å¤§ä½¬ï¼Œè¯´çš„å¤ªå¯¹äº†ï¼Œè¿™æ ·åªæœ‰é©±åŠ¨è¡¨ç‰¹åˆ«å¤§ï¼Œè¢«é©±åŠ¨è¡¨çš„æ€»æ•°æ®å°äºoldåŒºï¼Œè¿™æ ·å¾ªç¯è¯»å–è¢«é©±åŠ¨è¡¨çš„æ•°æ®ï¼Œæ‰ä¼šè¶…è¿‡1s","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1594980518,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438095,"discussion_content":"ä½ è¯´å¾—å¯¹ï¼Œåˆ†ä¸¤ç±»æƒ…å†µï¼Œ\nå°äºbp 3/8çš„æƒ…å†µä¼šè·‘åˆ°youngï¼Œ\nå¤§äº3/8çš„ä¼šå½±å“youngéƒ¨åˆ†çš„æ›´æ–°","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1548839684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1019302,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8d/a6/22c37c91.jpg","nickname":"æ¥Š_å®µå¤œ","note":"","ucode":"7BA0CADC5F23BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384664,"discussion_content":"ä½ å¾ˆä¼˜ç§€ä½ çŸ¥é“å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626694792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1652836,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epKJlW7sqts2ZbPuhMbseTAdvHWnrc4ficAeSZyKibkvn6qyxflPrkKKU3mH6XCNmYvDg11tB6y0pxg/132","nickname":"pc","note":"","ucode":"1AD538B9A900B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":138509,"discussion_content":"é©±åŠ¨è¡¨åˆ†æ®µè¯»ï¼Œè¢«é©±åŠ¨è¡¨è¦å¤šæ¬¡å¾ªç¯è¯»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579249067,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64539,"user_name":"æ¸…é£æµŠé…’","can_delete":false,"product_type":"c1","uid":1302407,"ip_address":"","ucode":"4BB111C61A40C4","user_header":"https://static001.geekbang.org/account/avatar/00/13/df/87/0e05dadd.jpg","comment_is_top":false,"comment_ctime":1548817220,"is_pvip":false,"replies":[{"id":"22864","content":"ä¸ä¼šå¼ºåˆ¶ï¼Œä½†æ˜¯ç”±äºè¯­ä¹‰çš„å…³ç³»ï¼Œå¤§æ¦‚ç‡ä¸Šæ˜¯æŒ‰ç…§è¯­å¥ä¸Šå†™çš„å…³ç³»å»é©±åŠ¨ï¼Œæ•ˆç‡æ˜¯æ¯”è¾ƒé«˜çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548822912,"ip_address":"","comment_id":64539,"utype":1}],"discussion_count":2,"race_medal":0,"score":"156167639876","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œleft join å’Œ right join ä¼šå›ºå®šé©±åŠ¨è¡¨å—ï¼Ÿ","like_count":36,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438058,"discussion_content":"ä¸ä¼šå¼ºåˆ¶ï¼Œä½†æ˜¯ç”±äºè¯­ä¹‰çš„å…³ç³»ï¼Œå¤§æ¦‚ç‡ä¸Šæ˜¯æŒ‰ç…§è¯­å¥ä¸Šå†™çš„å…³ç³»å»é©±åŠ¨ï¼Œæ•ˆç‡æ˜¯æ¯”è¾ƒé«˜çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548822912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3007210,"avatar":"","nickname":"Geek_a1699c","note":"","ucode":"CF7DB00BE36B77","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577214,"discussion_content":"æ­£å¥½æƒ³é—®è¿™ä¸ªé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655973141,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64864,"user_name":"æ³¡æ³¡çˆ±dota","can_delete":false,"product_type":"c1","uid":1306894,"ip_address":"","ucode":"9C718109D16B06","user_header":"https://static001.geekbang.org/account/avatar/00/13/f1/0e/e9b57b9b.jpg","comment_is_top":false,"comment_ctime":1548928824,"is_pvip":false,"replies":[{"id":"22945","content":"å¦‚æœæ•°æ®é‡ä¸å¤Ÿå¤šï¼Œå¹¶ä¸”æ»¡è¶³a&lt;50çš„è¡Œï¼Œå æ¯”æ¯”è¾ƒé«˜çš„è¯ï¼Œä¼˜åŒ–å™¨æœ‰å¯èƒ½ä¼šè®¤ä¸ºâ€œè¿˜è¦å›è¡¨ï¼Œè¿˜ä¸å¦‚ç›´æ¥æ‰«ä¸»é”®idâ€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548936644,"ip_address":"","comment_id":64864,"utype":1}],"discussion_count":4,"race_medal":0,"score":"147577816888","product_id":100020801,"comment_content":"explain select * from t1 straight_join t2 on (t1.a=t2.a) where t1.a &lt; 50; <br>è€å¸ˆ, è¿™æ¡sqlä¸ºä»€ä¹ˆt1.açš„ç´¢å¼•æ²¡æœ‰ç”¨ä¸Š, t1è¿˜æ˜¯èµ°å…¨è¡¨<br>","like_count":35,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438211,"discussion_content":"å¦‚æœæ•°æ®é‡ä¸å¤Ÿå¤šï¼Œå¹¶ä¸”æ»¡è¶³a&amp;lt;50çš„è¡Œï¼Œå æ¯”æ¯”è¾ƒé«˜çš„è¯ï¼Œä¼˜åŒ–å™¨æœ‰å¯èƒ½ä¼šè®¤ä¸ºâ€œè¿˜è¦å›è¡¨ï¼Œè¿˜ä¸å¦‚ç›´æ¥æ‰«ä¸»é”®idâ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548936644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1692320,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d2/a0/c8714628.jpg","nickname":"ç‹¬ä¸€æ— äºŒ","note":"","ucode":"A7DE0EA2BD8FE3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":71776,"discussion_content":"æŸ¥è¯¢çš„ç»“æœé›†å¤§äºç­‰äºæ€»æ•°æ®è¡Œçš„25%ï¼Œå°±ä¼šç›´æ¥å›è¡¨æŸ¥è¯¢ã€‚","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1575457317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588140,"discussion_content":"å› ä¸ºæ˜¯select *ï¼›èµ°açš„ç´¢å¼•è¿˜éœ€è¦å›è¡¨","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1663573731,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1213254,"avatar":"https://static001.geekbang.org/account/avatar/00/12/83/46/528d842e.jpg","nickname":"zhouHao","note":"","ucode":"2F38631785CFC8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297067,"discussion_content":"ç”Ÿäº§ä¸Šç¢°åˆ°äº†è¿™ä¸ªæƒ…å†µï¼Œæ–°ä¸Šçº¿çš„è¡¨æ•°æ®ä¸ºç©ºï¼Œä¸€å¼ å·²æœ‰20Wæ¡æ•°æ®çš„è¡¨left joinæ–°è¡¨ï¼Œæ²¡æœ‰èµ°ç´¢å¼•ï¼Œå…¨è¡¨æ‰«æäº†ï¼Œå·®ç‚¹é…¿æˆäº‹æ•…","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1596765437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64703,"user_name":"éƒæ”€åˆšà¸ˆà¸¸à¹Šà¸š","can_delete":false,"product_type":"c1","uid":1206745,"ip_address":"","ucode":"8AE7A85093E51A","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/d9/968df259.jpg","comment_is_top":false,"comment_ctime":1548861869,"is_pvip":false,"replies":[{"id":"22911","content":"ğŸ˜“<br>Explainä¸‹ï¼Œæ²¡ç”¨ç”¨index nested-loop çš„å…¨è¦ä¼˜åŒ–","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548908087,"ip_address":"","comment_id":64703,"utype":1}],"discussion_count":7,"race_medal":0,"score":"104628076973","product_id":100020801,"comment_content":"ä¸šåŠ¡é€»è¾‘å…³ç³»ï¼Œä¸€ä¸ªSQLä¸­left join7ï¼Œ8ä¸ªè¡¨ã€‚è¿™æˆ‘è¯¥æ€ä¹ˆä¼˜åŒ–ã€‚æ¯æ¬¡çœ‹åˆ°è¿™äº›è„‘å£³å°±å¤§ï¼","like_count":25,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438141,"discussion_content":"ğŸ˜“\nExplainä¸‹ï¼Œæ²¡ç”¨ç”¨index nested-loop çš„å…¨è¦ä¼˜åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548908087,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1062848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ersGSic8ib7OguJv6CJiaXY0s4n9C7Z51sWxTTljklFpq3ZAIWXoFTPV5oLo0GMTkqW5sYJRRnibNqOJQ/132","nickname":"walleæ–Œ","note":"","ucode":"0DB3243004951F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296708,"discussion_content":"è¯´è¯´æˆ‘è‡ªå·±çš„ç»éªŒï¼Œå¾ˆæ—©ä¹‹å‰åšæŠ¥è¡¨æ•°æ®çš„æ—¶å€™ï¼Œé¡µé¢å±•ç¤ºçš„çˆ†è¡¨å¤§éƒ¨åˆ†éƒ½æ˜¯åˆ†é¡µæŸ¥è¯¢ï¼Œä½†æ˜¯æŸ¥è¯¢çš„æ—¶å€™å¹¶æ²¡æœ‰è€ƒè™‘ï¼Œæ¯æ¬¡éƒ½æ˜¯ç®—å…¨éƒ¨ï¼Œè®¡ç®—ç»“æœä¹Ÿéå¸¸å¤šï¼Œå½“æ—¶æœ‰ä¸ªå‡ ç™¾è¡Œçš„sqlï¼Œçœ‹ç€å¤´éƒ½å¤§äº†ï¼Œåæ¥æ‹†åˆ†ï¼Œå’‹æ‹†åˆ†æ¥ï¼Œå…ˆè®¡ç®—å¥½åˆ†é¡µï¼Œç„¶åæ¯ä¸€åˆ—çš„æ•°æ®ï¼Œéƒ½æ˜¯ä¸€ä¸ªå°çš„sqlè¯­å¥è®¡ç®—ï¼Œå¤šåˆ—å°±å¼€å¤šçº¿ç¨‹ã€ä¸€ä¸»å¤šä»ã€‘ï¼Œä¸šåŠ¡è‡ªå·±åœ¨è®¡ç®—ä¸€å±‚ï¼Œå¯¹äºåˆ†é¡µå±•ç¤ºçš„çˆ†è¡¨ï¼Œé€Ÿåº¦ä»åˆ†é’Ÿçº§åˆ«æé«˜åˆ°äº†ç§’çº§åˆ«ã€‚\nå†ä¼˜åŒ–ï¼Œå¯¹äºè®¡ç®—ç»“æœå¯ä»¥å­˜å‚¨çš„ç›´æ¥å­˜å‚¨åˆ°ç¼“å­˜ï¼Œå‘½ä¸­çº§åˆ«æé«˜åˆ°äº†æ¯«ç§’çº§åˆ«ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1596628223,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2350230,"avatar":"https://static001.geekbang.org/account/avatar/00/23/dc/96/9501cd87.jpg","nickname":"æ— ç—•ä¹‹æ„","note":"","ucode":"8AF05C8C813352","race_medal":3,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530353,"discussion_content":"å›å»è¯•éªŒçœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637060009,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1447569,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/WtHCCMoLJ2DvzqQwPYZyj2RlN7eibTLMHDMTSO4xIKjfKR1Eh9L98AMkkZY7FmegWyGLahRQJ5ibPzeeFtfpeSow/132","nickname":"è„±ç¼°çš„é‡é©¬__","note":"","ucode":"D5F993E7232C61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":316653,"discussion_content":"ç‰›é€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603434683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1214582,"avatar":"https://static001.geekbang.org/account/avatar/00/12/88/76/c69b7fe5.jpg","nickname":"youngitachi","note":"","ucode":"88717CA8B8ED64","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":209472,"discussion_content":"å°±æ˜¯å•Šï¼Œå¤šä¸ªè¡¨joinï¼Œæƒ³æƒ³å°±å¤´ç–¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584632198,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1745179,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/j0gBKF8EKfRMTnBOqXR3xcqquJdzYUibXOIb32HejppBPo644p6JB3Et08Su4TUaDRWt8DzPxYtm8iabEJN2uJKw/132","nickname":"ä¸€ä¸ªé¡¶ä¸‰","note":"","ucode":"165596847783D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":133788,"discussion_content":"å…„å¼Ÿï¼Œ æˆ‘è¿™è¾¹ä¸æ­¢join7ï¼Œ8ä¸ªè¡¨ï¼Œ è¿˜å¸¦ä¸Šé‚£ç§case whenè¯­å¥ï¼Œexplainå‡ºæ¥å…¨æ˜¯dirivedï¼Œ å…‰æƒ³æƒ³å°±è„‘é˜”ç–¼ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578989257,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2014285,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKNv880TlsNuKaWcKbxiaAZTQIBWfJAddC8wfOROnwRPRwJXaEGSTBH2sic4jK7IGpxZn79tTDcREjw/132","nickname":"Geek_7482f6","note":"","ucode":"F3565F78525D30","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1745179,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/j0gBKF8EKfRMTnBOqXR3xcqquJdzYUibXOIb32HejppBPo644p6JB3Et08Su4TUaDRWt8DzPxYtm8iabEJN2uJKw/132","nickname":"ä¸€ä¸ªé¡¶ä¸‰","note":"","ucode":"165596847783D9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410413,"discussion_content":"ä»æˆ‘çš„ç»éªŒæ¥çœ‹ï¼Œè¿™ä¹ˆå¤æ‚çš„è®¡ç®—åº”è¯¥è€ƒè™‘é‡‡ç”¨å®æ—¶è®¡ç®—æˆ–ç¦»çº¿è®¡ç®—çš„æ–¹æ¡ˆï¼Œä¸åº”è¯¥ç”¨mysqlçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635689269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":133788,"ip_address":""},"score":410413,"extra":""}]}]},{"had_liked":false,"id":64477,"user_name":"è¤ç«è™«","can_delete":false,"product_type":"c1","uid":1333142,"ip_address":"","ucode":"FA4AB9636C53C4","user_header":"https://static001.geekbang.org/account/avatar/00/14/57/96/b65bdf43.jpg","comment_is_top":false,"comment_ctime":1548809447,"is_pvip":false,"replies":[{"id":"22826","content":"ä»Šå¹´è¿™æƒ…å†µè¿˜æ˜¯è¦å…ˆå…‹åˆ¶ä¸€ä¸‹^_^ <br>å…ˆæŠŠå†…åŠŸç»ƒèµ·æ¥ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548810223,"ip_address":"","comment_id":64477,"utype":1}],"discussion_count":3,"race_medal":0,"score":"104628024551","product_id":100020801,"comment_content":"å¹´åº•äº†æœ‰ä¸€ç§æƒ³è·³æ§½çš„å†²åŠ¨ èº«åœ¨æ­¦æ±‰çš„æˆ‘æƒ³å‡ºå»çœ‹çœ‹ å¯ä¸€æƒ³åˆ°è‡ªèº«çš„èƒ½åŠ›å’Œå­¦å† åˆä¸æ•¢å»äº† è‹¦æ¼... ","like_count":24,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438018,"discussion_content":"ä»Šå¹´è¿™æƒ…å†µè¿˜æ˜¯è¦å…ˆå…‹åˆ¶ä¸€ä¸‹^_^ \nå…ˆæŠŠå†…åŠŸç»ƒèµ·æ¥ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548810223,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1194853,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3b/65/3a4fc8cf.jpg","nickname":"prepared","note":"","ucode":"00E54A5C7CDCBE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337963,"discussion_content":"æ„Ÿè§‰ è¯•è¯•æ²¡åå¤„ï¼Œåˆ«è£¸è¾å°±è¡Œ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1609138040,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1056982,"avatar":"https://static001.geekbang.org/account/avatar/00/10/20/d6/b9513db0.jpg","nickname":"kingcall","note":"","ucode":"508884DC684B5B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589943,"discussion_content":"19 å¹´ä¸è¡Œ 20å¹´ä¸è¡Œ 21å¹´ä¸è¡Œ 22å¹´ä¸è¡Œ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1665409080,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"é‡åº†"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64571,"user_name":"amazon1011","can_delete":false,"product_type":"c1","uid":1001032,"ip_address":"","ucode":"BD745BDCBD7059","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/48/e959b1e0.jpg","comment_is_top":false,"comment_ctime":1548826793,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"65973336233","product_id":100020801,"comment_content":"è¿™ä¸ªä¸“æ å—ç›ŠåŒªæµ…ï¼Œè€å¸ˆå†æä¸ªå†…æ ¸æºç ä¸“æ ï¼šï¼‰","like_count":15,"discussions":[{"author":{"id":2014285,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKNv880TlsNuKaWcKbxiaAZTQIBWfJAddC8wfOROnwRPRwJXaEGSTBH2sic4jK7IGpxZn79tTDcREjw/132","nickname":"Geek_7482f6","note":"","ucode":"F3565F78525D30","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410414,"discussion_content":"å†…æ ¸æ¯”mysqlçš„åˆé«˜ä¸€ä¸ªéš¾åº¦ç­‰çº§äº†~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635689300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1618704,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b3/10/123b345f.jpg","nickname":"ä¿Šæ°é”…","note":"","ucode":"94B1AB400433FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333487,"discussion_content":"æœŸå¾…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607528551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64456,"user_name":"æŠ½ç¦»ã®â¤ï¸","can_delete":false,"product_type":"c1","uid":1099436,"ip_address":"","ucode":"6CBCE2610CF768","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/ac/60d1fd42.jpg","comment_is_top":false,"comment_ctime":1548807685,"is_pvip":false,"replies":[{"id":"22823","content":"å¥½æ—©å‘€ğŸ¤","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548809986,"ip_address":"","comment_id":64456,"utype":1}],"discussion_count":1,"race_medal":0,"score":"61678349829","product_id":100020801,"comment_content":"æ—©ä¸Šå¬è€å¸ˆä¸€èŠ‚è¯¾æ„Ÿè§‰è·ç›ŠåŒªæµ…","like_count":14,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438008,"discussion_content":"å¥½æ—©å‘€ğŸ¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548809986,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72329,"user_name":"æ€è€ƒç‰¹ï½","can_delete":false,"product_type":"c1","uid":1301824,"ip_address":"","ucode":"B9B4E64962BAD2","user_header":"https://static001.geekbang.org/account/avatar/00/13/dd/40/a185dfcb.jpg","comment_is_top":false,"comment_ctime":1551588139,"is_pvip":false,"replies":[{"id":"26215","content":"æˆ‘çš„å»ºè®®å°±æ˜¯ç”¨å¥½NLJå’ŒBKAç®—æ³•ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551607940,"ip_address":"","comment_id":72329,"utype":1}],"discussion_count":5,"race_medal":0,"score":"53091195691","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¿™è¾¹æƒ³è¯·æ•™ä¸€ä¸ªå›°æ‰°å¾ˆä¹…çš„é—®é¢˜ï¼Œç”¨mysqlç»å¸¸ä¼šåˆ¶å®šè¿™ä¹ˆä¸€ä¸ªè§„åˆ™ï¼Œä¸å…è®¸å¤šè¡¨joinã€‚ä»å®é™…æƒ…å†µçœ‹ï¼Œå‡ ä¹ä¸å¤ªå¯èƒ½éµå®ˆè¿™ä¸ªè§„åˆ™ï¼Œæœ‰ä¸ªäº¤æ˜“çš„ä¸šåŠ¡åœºæ™¯æ¶‰åŠ ç”¨æˆ·è¡¨ 300Wã€è®¢å•è¡¨ 900Wã€æ”¯ä»˜è¡¨ 900Wï¼Œæ¯æ¬¡éœ€è¦æŸ¥ä¸€ä¸ªç”¨æˆ·ä¸‹é¢çš„è®¢å•ä¿¡æ¯å¯èƒ½å°±æœ‰ç‚¹æ…¢äº†ï¼Œä½†æ˜¯è¿˜èƒ½æ¥å—ï¼Œå¦‚æœæ˜¯æŸ¥è¯¢ä¸€ä¸ªå›¢ä½“çš„è®¢å•ä¿¡æ¯ï¼Œè¿™ä¸ªé‡å°±éå¸¸å¯è§‚äº†,æŸ¥è¯¢æœ‰æ—¶å€™æ ¹æœ¬è¿”å›ä¸äº†ç»“æœã€‚æ ¹æœ¬æ— æ³•é¿å…å¤šè¡¨Joinï¼Œæ‰€ä»¥æƒ³é—®é—®è€å¸ˆï¼Œåœ¨è¿™ç§éœ€è¦å¤šè¡¨Joinä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œå¦‚ä½•è®¾è®¡è¡¨ï¼Œæ¥æå‡æ€§èƒ½ï¼Ÿæˆ–è€…æœ‰è¿™æ–¹é¢æ¨èçš„èµ„æ–™å¯ä»¥å‚è€ƒçš„","like_count":12,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441544,"discussion_content":"æˆ‘çš„å»ºè®®å°±æ˜¯ç”¨å¥½NLJå’ŒBKAç®—æ³•ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551607940,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2009461,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/a9/75/dbccd12d.jpg","nickname":"ç¨»è‰äºº","note":"","ucode":"6694EE2CD36B8C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":356895,"discussion_content":"å¯ä»¥åœ¨ä¸šåŠ¡å±‚åšæ•°æ®mergeå•Šã€‚å…ˆæ ¹æ®æ¡ä»¶è¿‡æ»¤å‡ºæ¯ä¸ªè¡¨éœ€è¦æ‰¾çš„æ•°æ®ï¼Œç„¶åæ‹¿åˆ°ä¸šåŠ¡ä»£ç å±‚é¢åšæ•´åˆï¼Œç›¸æ¯”äºå¤šè¡¨joinå‹å¥½å¤šäº†ï¼Œåç»­ä¼˜åŒ–ä¹Ÿå®¹æ˜“ç‚¹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1615701023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1441643,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo8szvJib6nEGAqloXibINcVquibUtiaEU1TEITIeH7119micVn8HF4Y3T0gMDyfFIAUqnhMia4o2fWe6Nw/132","nickname":"WUYG","note":"","ucode":"E198E33B064E0B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2009461,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/a9/75/dbccd12d.jpg","nickname":"ç¨»è‰äºº","note":"","ucode":"6694EE2CD36B8C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383035,"discussion_content":"è¯·æ•™ä¸€ä¸‹ é‚£åˆ†é¡µæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1625838140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":356895,"ip_address":""},"score":383035,"extra":""},{"author":{"id":1209939,"avatar":"https://static001.geekbang.org/account/avatar/00/12/76/53/21d62a23.jpg","nickname":"é²Â·æœ¬","note":"","ucode":"F1DEB30C21B48E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1441643,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo8szvJib6nEGAqloXibINcVquibUtiaEU1TEITIeH7119micVn8HF4Y3T0gMDyfFIAUqnhMia4o2fWe6Nw/132","nickname":"WUYG","note":"","ucode":"E198E33B064E0B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574814,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654358869,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":383035,"ip_address":""},"score":574814,"extra":""},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1441643,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo8szvJib6nEGAqloXibINcVquibUtiaEU1TEITIeH7119micVn8HF4Y3T0gMDyfFIAUqnhMia4o2fWe6Nw/132","nickname":"WUYG","note":"","ucode":"E198E33B064E0B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588141,"discussion_content":"è¿™ç§åªèƒ½ä»ä¸šåŠ¡å…¥æ‰‹ï¼Œæ¯”å¦‚è®¾è®¡æˆå‰10é¡µå¯ä»¥è·³é¡µï¼Œåé¢å°±åªèƒ½ä¸€é¡µä¸€é¡µç¿»ï¼›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663574016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":383035,"ip_address":"å¹¿ä¸œ"},"score":588141,"extra":""}]}]},{"had_liked":false,"id":66015,"user_name":"å‘µå‘µ","can_delete":false,"product_type":"c1","uid":1253836,"ip_address":"","ucode":"6783A42717C666","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Nic2zzpAuiadVibETy3Um3IcjOa4O9gr8zVagG6tCbMlFF8O3tNmwMJicEEsA9pibcxgibtyKhl1ZicXYX8kLfXs6AMmg/132","comment_is_top":false,"comment_ctime":1549851908,"is_pvip":false,"replies":[{"id":"23401","content":"æ–°å¹´å¥½<br><br>å—¯ä¼˜åŒ–å™¨å¤§éƒ¨åˆ†æ—¶å€™ä¼šé€‰å¯¹ï¼Œå¦‚æœé€‰ä¸å¯¹ï¼Œæˆ‘ä»¬å°±å¾—è‡ªå·±å¼ºè¡ŒæŒ‡å®šäº†å“ˆ<br><br>å…¶å®äº†è§£è¿™ä¸ªåŸç†ä¸»è¦è¿˜æ˜¯æŒ‡å¯¼æˆ‘ä»¬æ ¹æ®æœ€ä¼˜çš„joiné¡ºåºï¼Œæ¥åˆ›å»ºè¢«é©±åŠ¨è¡¨å­—æ®µä¸Šçš„ç´¢å¼•<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1549873580,"ip_address":"","comment_id":66015,"utype":1}],"discussion_count":1,"race_medal":0,"score":"53089459460","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ–°å¹´å¥½ï¼<br>ä¼˜åŒ–å™¨ä¼šè‡ªåŠ¨é€‰æ‹©å°è¡¨ä½œä¸ºé©±åŠ¨è¡¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬äººä¸ºæŠŠå°è¡¨å†™æˆé©±åŠ¨è¡¨è¿˜æœ‰æ„ä¹‰å—ï¼Ÿ ","like_count":12,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438679,"discussion_content":"æ–°å¹´å¥½\n\nå—¯ä¼˜åŒ–å™¨å¤§éƒ¨åˆ†æ—¶å€™ä¼šé€‰å¯¹ï¼Œå¦‚æœé€‰ä¸å¯¹ï¼Œæˆ‘ä»¬å°±å¾—è‡ªå·±å¼ºè¡ŒæŒ‡å®šäº†å“ˆ\n\nå…¶å®äº†è§£è¿™ä¸ªåŸç†ä¸»è¦è¿˜æ˜¯æŒ‡å¯¼æˆ‘ä»¬æ ¹æ®æœ€ä¼˜çš„joiné¡ºåºï¼Œæ¥åˆ›å»ºè¢«é©±åŠ¨è¡¨å­—æ®µä¸Šçš„ç´¢å¼•\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549873580,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":250852,"user_name":"å¼ æ—­","can_delete":false,"product_type":"c1","uid":1256155,"ip_address":"","ucode":"8029AFFC0AF9D4","user_header":"https://static001.geekbang.org/account/avatar/00/13/2a/db/86437192.jpg","comment_is_top":false,"comment_ctime":1601261569,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"48845901825","product_id":100020801,"comment_content":"NLJï¼šé©±åŠ¨è¡¨é€‰å‡ºä¸€è¡Œè¡Œæ•°æ®åˆ°è¢«é©±åŠ¨è¡¨ä¸­æŸ¥æ‰¾  <br>BNLï¼šæŠŠé©±åŠ¨è¡¨çš„æ•°æ®åˆ†æ®µè¯»å…¥join bufferä¸­ï¼Œç„¶åå’Œè¢«é©±åŠ¨è¡¨join<br>MRRï¼šé’ˆå¯¹å›è¡¨æ“ä½œåšçš„ä¼˜åŒ–ï¼ŒæŠŠç´¢å¼•ä¸Šçš„ä¸»é”®æ’åºï¼Œç„¶åå†å›è¡¨ï¼Œè¿™æ ·å°±å¯ä»¥éšæœºè¯»å˜ä¸ºé¡ºåºè¯»<br>BKAï¼šæ˜¯é’ˆå¯¹NLJçš„ä¼˜åŒ–ï¼Œä¸æ˜¯åƒNLJä¸€è¡Œè¡Œå–å‡ºæ•°æ®å»è¢«é©±åŠ¨è¡¨æŸ¥æ‰¾ï¼Œè€Œæ˜¯ä¸€æ¬¡å–å‡ºä¸€æ‰¹åˆ°join bufferä¸­ç„¶ååˆ°è¢«é©±åŠ¨è¡¨ä¸­æŸ¥æ‰¾ï¼Œè·å¾—å…³è”çš„è®°å½•ï¼Œå†ä½¿ç”¨MRRä¼˜åŒ–è·å–æœ€ç»ˆç»“æœ","like_count":12},{"had_liked":false,"id":64482,"user_name":"æŸšå­","can_delete":false,"product_type":"c1","uid":1002136,"ip_address":"","ucode":"7641A699DA0CFD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/NhbRicjvf8v3K6D3v1FtOicxOciaPZQsCjCmuGCqea4vJeRVaLicKLpAcFQlcTgLvczBWY7SYDkeOtibxXj1PGl7Nug/132","comment_is_top":false,"comment_ctime":1548810379,"is_pvip":true,"replies":[{"id":"22839","content":"joinä¹Ÿæ˜¯æ™®é€šæŸ¥è¯¢ï¼Œéƒ½ä¸éœ€è¦åŠ é”å“¦ï¼Œå‚è€ƒä¸‹MVCCé‚£ç¯‡ï¼›<br><br>å°±æ˜¯æˆ‘ä»¬æ–‡ä¸­è¯´çš„ï¼Œâ€œåˆ†ä¸¤æ­¥æŸ¥è¯¢ï¼Œå…ˆæŸ¥é©±åŠ¨è¡¨ï¼Œç„¶åæŸ¥å¤šä¸ªinâ€ï¼Œå¦‚æœå¯ä»¥ç”¨ä¸Šè¢«é©±åŠ¨è¡¨çš„ç´¢å¼•ï¼Œæˆ‘è§‰å¾—å¯ä»¥ç”¨ä¸ŠIndex Nested-Loop Joinç®—æ³•ï¼Œå…¶å®æ•ˆæœæ˜¯è·Ÿæ‹†å¼€å†™ç±»ä¼¼çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548816978,"ip_address":"","comment_id":64482,"utype":1}],"discussion_count":4,"race_medal":0,"score":"48793450635","product_id":100020801,"comment_content":"joinåœ¨çƒ­ç‚¹è¡¨æ“ä½œä¸­ï¼ŒjoinæŸ¥è¯¢æ˜¯ä¸€æ¬¡ç»™ä¸¤å¼ è¡¨åŒæ—¶åŠ é”å§ï¼Œä¼šä¸ä¼šå¢å¤§é”å†²çªçš„å‡ ç‡ï¼Ÿ<br>ä¸šåŠ¡ä¸­è‚¯å®šè¦ä½¿ç”¨è¢«é©±åŠ¨è¡¨çš„ç´¢å¼•ï¼Œé€šå¸¸æˆ‘ä»¬æ˜¯å…ˆåœ¨é©±åŠ¨è¡¨æŸ¥å‡ºç»“æœé›†ï¼Œç„¶åå†é€šè¿‡inè¢«é©±åŠ¨è¡¨ç´¢å¼•å­—æ®µï¼Œåˆ†ä¸¤æ­¥æŸ¥è¯¢ï¼Œè¿™æ ·æ˜¯å¦æ¯”ç›´æ¥joinå§”æ‰˜ç‚¹ï¼Ÿ","like_count":11,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438020,"discussion_content":"joinä¹Ÿæ˜¯æ™®é€šæŸ¥è¯¢ï¼Œéƒ½ä¸éœ€è¦åŠ é”å“¦ï¼Œå‚è€ƒä¸‹MVCCé‚£ç¯‡ï¼›\n\nå°±æ˜¯æˆ‘ä»¬æ–‡ä¸­è¯´çš„ï¼Œâ€œåˆ†ä¸¤æ­¥æŸ¥è¯¢ï¼Œå…ˆæŸ¥é©±åŠ¨è¡¨ï¼Œç„¶åæŸ¥å¤šä¸ªinâ€ï¼Œå¦‚æœå¯ä»¥ç”¨ä¸Šè¢«é©±åŠ¨è¡¨çš„ç´¢å¼•ï¼Œæˆ‘è§‰å¾—å¯ä»¥ç”¨ä¸ŠIndex Nested-Loop Joinç®—æ³•ï¼Œå…¶å®æ•ˆæœæ˜¯è·Ÿæ‹†å¼€å†™ç±»ä¼¼çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548816978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573082,"discussion_content":"è¿˜æ˜¯ä»£ç å±‚é¢åˆå¹¶æ¯”è¾ƒå¥½ã€‚ä¸€èˆ¬éƒ½ä¸å¤ªå»ºè®®ç”¨join,å› ä¸ºä»£ç ä¸å¥½å¤ç”¨,åç»­é‡æ„å’Œä¼˜åŒ–ä¹Ÿä¸å¤ªå¥½å¤„ç†\n","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1653196296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2086624,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/d6/e0/3ccaaa7b.jpg","nickname":"é¢†å­","note":"","ucode":"64AC4E6AB74E68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295150,"discussion_content":"å®åœ¨ä¸æƒ³ç”¨mysqlçš„Index Nested-Loop Joinï¼Œå¯ä»¥åœ¨ä»£ç å±‚å®ç°åˆå¹¶æ‰«æè¿æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596103850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1310798,"avatar":"https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg","nickname":"å´å°æ™º","note":"","ucode":"C7C9F58B5C9F7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4692,"discussion_content":"åˆ†ä¸¤æ­¥æŸ¥ï¼Œin æ¥æ”¶çš„å‚æ•°æ˜¯æœ‰é™åˆ¶çš„ï¼Œå¦‚æœä»é©±åŠ¨è¡¨æŸ¥å‡ºçš„ç»“æœé›†å¾ˆå¤šï¼Œå¾ˆå®¹æ˜“å°±å‡º bug  äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565664477,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81792,"user_name":"å•Šå•Šå•Šå“¦å“¦","can_delete":false,"product_type":"c1","uid":1309877,"ip_address":"","ucode":"68C7153ECAAC57","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/RNO4yZyBvic914hewmNNE8iblYDcfv5yGHZ9OnKuCuZXNmGR0F5qV3icKLT2xpMt66GyEpicZVvrmz8A6TIqt92MQg/132","comment_is_top":false,"comment_ctime":1554036983,"is_pvip":false,"replies":[{"id":"30223","content":"ä¸æ˜¯çš„<br><br>å¦‚æœæ˜¯NLJï¼Œå°±æ˜¯éå†è¿‡ç¨‹ä¸­ç›´æ¥åˆ°è¢«é©±åŠ¨è¡¨å»åŒ¹é…ï¼ŒåŒ¹é…æ»¡è¶³æ¡ä»¶çš„è¡Œï¼Œå°±ç›´æ¥ä½œä¸ºç»“æœé›†å‘å‡ºå»äº†ï¼Œä¸éœ€è¦ä¸´æ—¶å†…å­˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1554653406,"ip_address":"","comment_id":81792,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44503709943","product_id":100020801,"comment_content":"NLJ joinç®—æ³•ä¸‹ã€‚  é©±åŠ¨è¡¨å‡è®¾å…¨è¡¨å…ˆæ‰«æã€‚  è¿™ä¸ªå…¨è¡¨æ‰«æçš„æ•°æ®å­˜æ”¾åœ¨å“ªã€‚ buffer boolä¸­è¿˜æ˜¯ã€‚å…¨è¡¨æ‰«æåˆ°å•ç‹¬çš„read bufferä¸­ï¼Ÿ æˆ‘çš„ç†è§£æ˜¯ã€‚ é©±åŠ¨è¡¨å…¨è¡¨æ‰«æçš„æ•°æ®ã€‚æ˜¯ä»buffer boolä¸­æ‰¾é©±åŠ¨è¡¨çš„æ•°æ®åˆ° read bufferä¸­ã€‚å¦‚æœbuffer bool æ²¡æœ‰ã€‚é‚£ä¹ˆä»ç£ç›˜ã€‚åˆ°buffer bool ç„¶ååœ¨åˆ°read buffer ä¸­ã€‚ æˆ‘çš„ç†è§£å¯¹å—ã€‚ ","like_count":10,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445346,"discussion_content":"ä¸æ˜¯çš„\n\nå¦‚æœæ˜¯NLJï¼Œå°±æ˜¯éå†è¿‡ç¨‹ä¸­ç›´æ¥åˆ°è¢«é©±åŠ¨è¡¨å»åŒ¹é…ï¼ŒåŒ¹é…æ»¡è¶³æ¡ä»¶çš„è¡Œï¼Œå°±ç›´æ¥ä½œä¸ºç»“æœé›†å‘å‡ºå»äº†ï¼Œä¸éœ€è¦ä¸´æ—¶å†…å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554653406,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65885,"user_name":"403","can_delete":false,"product_type":"c1","uid":1001867,"ip_address":"","ucode":"D9360256DFEF5D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/8b/3596a3e2.jpg","comment_is_top":false,"comment_ctime":1549723863,"is_pvip":false,"replies":[{"id":"23279","content":"ä¼šçš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1549740281,"ip_address":"","comment_id":65885,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44499396823","product_id":100020801,"comment_content":"ç”¨é‚£ä¸ªä½œä¸ºé©±åŠ¨è¡¨ï¼Œmysqlä¼šè‡ªå·±ä¼˜åŒ–ä¹ˆï¼Ÿ","like_count":10,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438628,"discussion_content":"ä¼šçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549740281,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64752,"user_name":"Ryoma","can_delete":false,"product_type":"c1","uid":1130590,"ip_address":"","ucode":"7F692369239692","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","comment_is_top":false,"comment_ctime":1548899970,"is_pvip":true,"replies":[{"id":"22906","content":"æ˜¯çš„ï¼Œä¸è¿‡åœ¨MySQL é‡Œé¢ï¼Œè¿™æ ·ç®—â€œæ‰«æä¸€è¡Œâ€ï¼Œå®é™…ä¸Šç¡®å®åšäº†ä¸¤æ¬¡æ ‘æœç´¢","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548906354,"ip_address":"","comment_id":64752,"utype":1}],"discussion_count":1,"race_medal":2,"score":"40203605634","product_id":100020801,"comment_content":"ä¸Šæ–‡ä¸­ä½¿ç”¨ç´¢å¼•æ—¶æ‰«æè¡Œæ•°ä¸º200ï¼Œä½†æ˜¯æ ¹æ®å­—æ®µaå»åšæ ‘æœç´¢æ—¶ï¼Œç”±äºå­—æ®µaæ˜¯æ™®é€šç´¢å¼•ï¼Œåœ¨æ‰¾åˆ°åŒ¹é…å€¼åè¿˜ä¼šç»§ç»­åŒ¹é…ï¼Œå®é™…ä¸Šæ¯ä¸ªå¾ªç¯éƒ½åšäº†è‡³å°‘ä¸¤æ¬¡çš„è¡Œæ‰«æã€‚<br>è€å¸ˆï¼Œè¿™ä¹ˆç†è§£å¯¹ä¹ˆï¼Ÿ","like_count":9,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438161,"discussion_content":"æ˜¯çš„ï¼Œä¸è¿‡åœ¨MySQL é‡Œé¢ï¼Œè¿™æ ·ç®—â€œæ‰«æä¸€è¡Œâ€ï¼Œå®é™…ä¸Šç¡®å®åšäº†ä¸¤æ¬¡æ ‘æœç´¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548906354,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64745,"user_name":"felix","can_delete":false,"product_type":"c1","uid":1086157,"ip_address":"","ucode":"DF514D0BB9B508","user_header":"https://static001.geekbang.org/account/avatar/00/10/92/cd/d39e568c.jpg","comment_is_top":false,"comment_ctime":1548898938,"is_pvip":false,"replies":[{"id":"22907","content":"é€—å·åˆ†éš”ä¸¤è¡¨è¿˜æ˜¯join ğŸ˜„<br>ä¸‹ä¸€ç¯‡ä¼šè®²åˆ°ä¼˜åŒ–ï¼Œä¸»è¦æ€è·¯å°±æ˜¯ç”¨ä¸Šè¢«é©±åŠ¨è¡¨ç´¢å¼•å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548906531,"ip_address":"","comment_id":64745,"utype":1}],"discussion_count":1,"race_medal":0,"score":"35908637306","product_id":100020801,"comment_content":"ä¸è®©ç”¨joinï¼Œé‚£ç”¨ä»€ä¹ˆå‘¢ï¼Œç”¨é€—å·åˆ†éš”ä¸¤è¡¨ï¼Ÿ<br>joinæœ‰å¤šä¸ªæ¡ä»¶çš„è¯ï¼Œå†™åœ¨onåé¢å’Œwhereåé¢æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ","like_count":9,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438157,"discussion_content":"é€—å·åˆ†éš”ä¸¤è¡¨è¿˜æ˜¯join ğŸ˜„\nä¸‹ä¸€ç¯‡ä¼šè®²åˆ°ä¼˜åŒ–ï¼Œä¸»è¦æ€è·¯å°±æ˜¯ç”¨ä¸Šè¢«é©±åŠ¨è¡¨ç´¢å¼•å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548906531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72362,"user_name":"Franis","can_delete":false,"product_type":"c1","uid":1314217,"ip_address":"","ucode":"01861E7349173F","user_header":"https://static001.geekbang.org/account/avatar/00/14/0d/a9/8ddbfcd9.jpg","comment_is_top":false,"comment_ctime":1551597659,"is_pvip":false,"replies":[{"id":"26212","content":"å¦‚æœæœ‰ä¸¥æ ¼çš„ä¸€å¯¹å¤šï¼Œè€Œä¸”è¦joinå¤Ÿå¿«ä¸€èˆ¬éƒ½ä¼šåœ¨join å­—æ®µä¸Šåˆ›å»ºç´¢å¼•ï¼Œ<br>è¿™æ—¶å€™åº”è¯¥é€‰â€œä¸€â€ä¸ºé©±åŠ¨è¡¨","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551604984,"ip_address":"","comment_id":72362,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31616368731","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæƒ³é—®ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯â€œä¸€å¯¹å¤šâ€çš„å¤šä¸ªè¡¨è¿›è¡Œjoinçš„è¯ï¼Œåº”è¯¥é€‰æ‹©â€œå¤šâ€çš„è¡¨ä½œä¸ºé©±åŠ¨è¡¨ï¼Œè¿˜æ˜¯é€‰æ‹©â€œä¸€â€çš„è¡¨ä½œä¸ºé©±åŠ¨è¡¨å‘¢ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441558,"discussion_content":"å¦‚æœæœ‰ä¸¥æ ¼çš„ä¸€å¯¹å¤šï¼Œè€Œä¸”è¦joinå¤Ÿå¿«ä¸€èˆ¬éƒ½ä¼šåœ¨join å­—æ®µä¸Šåˆ›å»ºç´¢å¼•ï¼Œ\nè¿™æ—¶å€™åº”è¯¥é€‰â€œä¸€â€ä¸ºé©±åŠ¨è¡¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551604984,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2086624,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/d6/e0/3ccaaa7b.jpg","nickname":"é¢†å­","note":"","ucode":"64AC4E6AB74E68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295154,"discussion_content":"è¿™ä¸ªæƒ…å†µè¦çœ‹whereæ¡ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596104270,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68607,"user_name":"1024","can_delete":false,"product_type":"c1","uid":1086407,"ip_address":"","ucode":"DCC31F6EC54F43","user_header":"https://static001.geekbang.org/account/avatar/00/10/93/c7/86352ccc.jpg","comment_is_top":false,"comment_ctime":1550556332,"is_pvip":false,"replies":[{"id":"24359","content":"è¿™ä¸ªæˆ‘åœ¨ç­”ç–‘æ–‡ç« ä¸­å±•å¼€å“ˆï¼Œå…¶å®è¿˜æ˜¯â€œå†…å­˜æ•°æ®æ˜¯ä»å“ªé‡Œæ¥çš„â€çš„é—®é¢˜ã€‚<br><br>æˆ‘ä»¬è¿™é‡Œè¯´çš„æ˜¯BNLæ¯”Simple nested loop å¿«å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550562157,"ip_address":"","comment_id":68607,"utype":1}],"discussion_count":4,"race_medal":0,"score":"31615327404","product_id":100020801,"comment_content":"æ–‡ä¸­è§£é‡ŠNLJå’ŒBNLæ—¶é—´å¤æ‚åº¦ç›¸åŒï¼Œéƒ½æ˜¯M*Nã€‚ä½†æ˜¯å¯¹äºBNLæ€§èƒ½å¥½äºNLJçš„åŸå› åªæ˜¯æåˆ°:&quot;BNLçš„åˆ¤æ–­æ˜¯åœ¨å†…å­˜ä¸­æ“ä½œï¼Œé€Ÿåº¦ä¸Šä¼šå¿«å¾ˆå¤šï¼Œæ€§èƒ½ä¹Ÿæ›´å¥½&quot;ã€‚è¯·é—®è€å¸ˆï¼Ÿè¿™å¥è¯çš„è¨€å¤–ä¹‹æ„æ˜¯: NLJçš„åˆ¤æ–­ä¸æ˜¯åœ¨å†…å­˜ä¸­æ“ä½œå—ï¼Ÿä¸å°†æ•°æ®åŠ è½½åˆ°å†…å­˜ï¼ŒCPUå¦‚ä½•è¿›è¡Œåˆ¤æ–­å‘¢?","like_count":8,"discussions":[{"author":{"id":2254917,"avatar":"https://static001.geekbang.org/account/avatar/00/22/68/45/ddf89612.jpg","nickname":"bestgopher","note":"","ucode":"D89735C8CA9C6E","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555420,"discussion_content":"ä»€ä¹ˆæ—¶å€™è¯´block nested-loop æ¯” index nested-loop å¿«äº†ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1646897672,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439753,"discussion_content":"è¿™ä¸ªæˆ‘åœ¨ç­”ç–‘æ–‡ç« ä¸­å±•å¼€å“ˆï¼Œå…¶å®è¿˜æ˜¯â€œå†…å­˜æ•°æ®æ˜¯ä»å“ªé‡Œæ¥çš„â€çš„é—®é¢˜ã€‚\n\næˆ‘ä»¬è¿™é‡Œè¯´çš„æ˜¯BNLæ¯”Simple nested loop å¿«å“ˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1550562157,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588142,"discussion_content":"ä¸€ä¸ªæ˜¯å±€éƒ¨å˜é‡ï¼Œä¸€ä¸ªæ˜¯èµ°å¼•æ“æ¥å£ï¼Œå¼•æ“æ¥å£çš„æ•°æ®å¯èƒ½åœ¨å†…å­˜ä¹Ÿå¯èƒ½åœ¨ç£ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663574300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1088853,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9d/55/9d240eef.jpg","nickname":"å†°é­„","note":"","ucode":"D152C0BEA3074D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1231,"discussion_content":"æˆ‘ä¹Ÿæœ‰è¿™ä¸ªç–‘é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562420304,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64538,"user_name":"asdf100","can_delete":false,"product_type":"c1","uid":1043738,"ip_address":"","ucode":"39D8D71453E575","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/ce7f7d54.jpg","comment_is_top":false,"comment_ctime":1548816868,"is_pvip":false,"replies":[{"id":"22847","content":"â€œåˆ™é‡‡ç”¨å­˜æ”¾ åˆ° join buffer é‡Œçš„å­—æ®µæ•°é‡æ¥å†³å®šâ€<br>æ”¹æˆ â€œå­—æ®µé•¿åº¦æ€»å’Œâ€ å°±æ›´å‡†ç¡®å•¦ ğŸ¤","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548818886,"ip_address":"","comment_id":64538,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31613587940","product_id":100020801,"comment_content":"explain select * from t1 straight_join t2 on (t1.b=t2.b) where t2.id&lt;=50;<br>explain select * from t2 straight_join t1 on (t1.b=t2.b) where t2.id&lt;=50;<br>çœ‹ä¸¤ä¸ªsqlçš„åˆ†æç»“æœçš„ rowsåˆ—æ•°é‡ï¼Œæ•°é‡å°çš„ä½œä¸ºé©±åŠ¨è¡¨ã€‚è€Œå¯¹äºè®°å½•ä¸ªæ•°ä¸€æ ·çš„ï¼Œåˆ™é‡‡ç”¨å­˜æ”¾ åˆ° join buffer é‡Œçš„å­—æ®µæ•°é‡æ¥å†³å®šã€‚<br>è¿™æ ·ç†è§£å¯¹ä¹ˆï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438057,"discussion_content":"â€œåˆ™é‡‡ç”¨å­˜æ”¾ åˆ° join buffer é‡Œçš„å­—æ®µæ•°é‡æ¥å†³å®šâ€\næ”¹æˆ â€œå­—æ®µé•¿åº¦æ€»å’Œâ€ å°±æ›´å‡†ç¡®å•¦ ğŸ¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548818886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64483,"user_name":"ä¹¦ç­–ç¨ æµŠ","can_delete":false,"product_type":"c1","uid":1307497,"ip_address":"","ucode":"A29875CE15FDA3","user_header":"https://static001.geekbang.org/account/avatar/00/13/f3/69/7039d03f.jpg","comment_is_top":false,"comment_ctime":1548810735,"is_pvip":false,"replies":[{"id":"22835","content":"æ—©^_^<br>Simpleçš„æ˜¯æ¯æ¬¡éƒ½å»å…¨è¡¨æ‰«æï¼Œå…¨è¡¨æ‰«æå¯å°±ä¸ä¿è¯åœ¨å†…å­˜é‡Œäº†ï¼ŒBuffer Poolä¼šæ·˜æ±°ï¼Œæœ‰å¯èƒ½åœ¨ç£ç›˜çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548816404,"ip_address":"","comment_id":64483,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27318614511","product_id":100020801,"comment_content":"ä½†æ˜¯ï¼ŒBlock Nested-Loop Join ç®—æ³•çš„è¿™ 10 ä¸‡æ¬¡åˆ¤æ–­æ˜¯å†…å­˜æ“ä½œï¼Œé€Ÿåº¦ä¸Šä¼šå¿«å¾ˆå¤šï¼Œæ€§èƒ½ä¹Ÿæ›´å¥½ã€‚<br>é‚£Simpleé‚£ç§æ˜¯ç›´æ¥åœ¨å¼•æ“é‡Œé¢è®¡ç®—å—ï¼Ÿä½†æ˜¯è®¡ç®—ä¸éƒ½åº”è¯¥åœ¨å†…å­˜å—ï¼Ÿæ‰€ä»¥ä¸ç†è§£ä¸ºä»€ä¹ˆè¿™é‡Œä¼šæ›´å¿«ï¼Œéš¾å¾—ä¸€æ¬¡æŠ¢åˆ°è¿™ä¹ˆæ—©çš„ç•™è¨€ï¼Œè¯·è€å¸ˆæŒ‡æ•™ï¼Œè°¢è°¢ã€‚","like_count":7,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438021,"discussion_content":"æ—©^_^\nSimpleçš„æ˜¯æ¯æ¬¡éƒ½å»å…¨è¡¨æ‰«æï¼Œå…¨è¡¨æ‰«æå¯å°±ä¸ä¿è¯åœ¨å†…å­˜é‡Œäº†ï¼ŒBuffer Poolä¼šæ·˜æ±°ï¼Œæœ‰å¯èƒ½åœ¨ç£ç›˜çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548816404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116690,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1563891162,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"23038727642","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ—¢ç„¶MySQLä¼šè‡ªå·±ä¼˜åŒ–ä½¿ç”¨å“ªä¸ªè¡¨å½“é©±åŠ¨è¡¨ï¼Œé‚£ç¨‹åºå‘˜åœ¨å†™jionè¯­å¥æ—¶å°±ä¸ç”¨çº ç»“è¯¥å†™A jion Bè¿˜æ˜¯B jion Aäº†å§","like_count":5,"discussions":[{"author":{"id":2086624,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/d6/e0/3ccaaa7b.jpg","nickname":"é¢†å­","note":"","ucode":"64AC4E6AB74E68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295152,"discussion_content":"å®Œå…¨ä¸ç”¨çº ç»“ï¼Œä¼˜åŒ–å™¨ä¼šæ ¹æ®ä½ åˆ›å»ºçš„å·²æœ‰ç´¢å¼•/whereæ¡ä»¶å»é€‰æ‹©è¡¨çš„è®¿é—®é¡ºåº,å¦‚æœä¼˜åŒ–å™¨é€‰é”™äº†è®¿é—®é¡ºåºï¼Œå¯ä»¥é€šè¿‡æ”¹å†™sqlï¼Œæˆ–è€…å¼ºåˆ¶æŒ‡å®šè¿æ¥é¡ºåº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596104017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1135593,"avatar":"https://static001.geekbang.org/account/avatar/00/11/53/e9/f244988e.jpg","nickname":"NIRVANA","note":"","ucode":"F3A979679AA44E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291113,"discussion_content":"ä½†æ˜¯mysqlå¯èƒ½ä¼šé”™è¯¯åˆ¤æ–­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594710279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74949,"user_name":"Cy190622","can_delete":false,"product_type":"c1","uid":1381528,"ip_address":"","ucode":"578D804C29248E","user_header":"https://static001.geekbang.org/account/avatar/00/15/14/98/0251b8fd.jpg","comment_is_top":false,"comment_ctime":1552320229,"is_pvip":false,"replies":[{"id":"30024","content":"1. å¯¹ï¼Œexplai<br>2. å¦‚æœä½ å†™äº†STRAIGHT_JOINï¼Œé‚£æ²¡å¾—é€‰å•¦ï¼Œå°±æ˜¯t1åšé©±åŠ¨è¡¨ã€‚<br>   è¿™ç§æƒ…å†µï¼Œå¦‚æœä½ æ”¹ç”¨joinï¼Œåº”è¯¥ä¼šé€‰t2åšé©±åŠ¨è¡¨","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1554432859,"ip_address":"","comment_id":74949,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23027156709","product_id":100020801,"comment_content":"ä¸“æ å·²ç»æ›´æ–°å®Œæ¯•ï¼Œé¦–å…ˆè°¢è°¢è€å¸ˆï¼›æœ‰ä»¥ä¸‹å‡ ä¸ªå°é—®é¢˜ï¼Œå¸Œæœ›è€å¸ˆæœ‰æ—¶é—´èƒ½å¤Ÿçœ‹åˆ°ã€‚<br>1.æ™®é€šçš„joinæŸ¥è¯¢æ˜¯è¢«æ‰§è¡Œå™¨ä¼˜åŒ–æ‰§è¡Œè¿‡çš„å§ï¼Ÿä½†æ˜¯ä¼˜åŒ–æ‰§è¡Œæ˜¯å¦åšåˆ°æœ€å¥½å‘¢ï¼Ÿæ€ä¹ˆéªŒè¯ä¸€ä¸‹ä¼˜åŒ–è¿‡ç¨‹ç”¨çš„æ˜¯é‚£ç§æ–¹å¼å‘¢ï¼Ÿæ˜¯ç”¨ä¸¤ä¸ªè¡¨äº’æ¢explainä¸€ä¸‹å—ï¼Ÿ<br>2.è¿™ç§æŸ¥è¯¢ä¼˜åŒ–åœ¨Mysqlå“ªä¸ªç‰ˆæœ¬ä¸­åšäº†è¾ƒå¤§çš„åŠ å¼ºã€‚<br>3.SELECT * FROM t1 STRAIGHT_JOIN t2 ON (t1.a=t2.b);  ï¼ˆt1æ˜¯ä»¥aä¸ºç´¢å¼•çš„100è¡Œæ•°æ®ï¼Œt2ä¸­béç´¢å¼•1000æ¡æ•°æ®ï¼‰t1åšäº†é©±åŠ¨è¡¨ï¼Œå±äºBNLæƒ…å½¢ï¼›å¦‚æœç”¨t2ä½œä¸ºé©±åŠ¨è¡¨ï¼Œt1çš„aç´¢å¼•å°±å¯ä»¥ç”¨ï¼Œå±äºNLJæƒ…å½¢ï¼Œé€‰æ‹©å“ªä¸ªè¡¨ä½œä¸ºé©±åŠ¨è¡¨æ›´å¥½å‘¢ï¼Ÿ<br>","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442752,"discussion_content":"1. å¯¹ï¼Œexplai\n2. å¦‚æœä½ å†™äº†STRAIGHT_JOINï¼Œé‚£æ²¡å¾—é€‰å•¦ï¼Œå°±æ˜¯t1åšé©±åŠ¨è¡¨ã€‚\n   è¿™ç§æƒ…å†µï¼Œå¦‚æœä½ æ”¹ç”¨joinï¼Œåº”è¯¥ä¼šé€‰t2åšé©±åŠ¨è¡¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554432859,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72694,"user_name":"Franis","can_delete":false,"product_type":"c1","uid":1314217,"ip_address":"","ucode":"01861E7349173F","user_header":"https://static001.geekbang.org/account/avatar/00/14/0d/a9/8ddbfcd9.jpg","comment_is_top":false,"comment_ctime":1551696240,"is_pvip":false,"replies":[{"id":"27063","content":"è¦çœ‹ç´¢å¼•ğŸ˜“","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1552103765,"ip_address":"","comment_id":72694,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23026532720","product_id":100020801,"comment_content":"å¦‚æœæˆ‘äº§å“è¡¨æœ‰åæ¡æ•°æ®ï¼Œè®¢å•è¡¨æœ‰ä¸€ä¸‡æ¡æ•°æ®ã€‚<br>ä¸ºä»€ä¹ˆæˆ‘ç”¨è®¢å•è¡¨ä½œä¸ºé©±åŠ¨è¡¨ä¼šæ¯”ç”¨äº§å“è¡¨ä½œä¸ºé©±åŠ¨è¡¨é€Ÿåº¦å¿«å‘¢ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441690,"discussion_content":"è¦çœ‹ç´¢å¼•ğŸ˜“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552103765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573084,"discussion_content":"å¾ˆå¥½å¥‡ã€‚å°±è¿™ä¹ˆç‚¹æ•°æ®æ€ä¹ˆçœ‹å‡ºå¿«ä¸å¿«å‘¢ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653196657,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64758,"user_name":"æœ‰é“­","can_delete":false,"product_type":"c1","uid":1046302,"ip_address":"","ucode":"2C7CB36CA5C04C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/3XbCueYYVWTiclv8T5tFpwiblOxLphvSZxL4ujMdqVMibZnOiaFK2C5nKRGv407iaAsrI0CDICYVQJtiaITzkjfjbvrQ/132","comment_is_top":false,"comment_ctime":1548901297,"is_pvip":false,"replies":[{"id":"22905","content":"ğŸ‘ğŸ¿ çœ‹çš„åŒå­¦æœ‰æ”¶è·æˆ‘æœ€å¼€å¿ƒå•¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548906303,"ip_address":"","comment_id":64758,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23023737777","product_id":100020801,"comment_content":"ä»Šå¤©è¿™ç¯‡çœ‹äº†çŠ¹å¦‚é†é†çŒé¡¶ä¸€èˆ¬ï¼Œä»¥å‰ä¸€ç›´æ²¡ææ˜ç™½å½“è¡¨æ•°æ®æ¯”è¾ƒå¤§çš„æ—¶å€™join_bufæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼ŒåŸæ¥æ˜¯åˆ†æ®µè½½å…¥çš„","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438163,"discussion_content":"ğŸ‘ğŸ¿ çœ‹çš„åŒå­¦æœ‰æ”¶è·æˆ‘æœ€å¼€å¿ƒå•¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548906303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64583,"user_name":"Zzz","can_delete":false,"product_type":"c1","uid":1116272,"ip_address":"","ucode":"4AA47797F48315","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIu1n1DhUGGKTjelrQaLYOSVK2rsFeia0G8ASTIftib5PTOx4pTqdnfwb0NiaEFGRgS661nINyZx9sUg/132","comment_is_top":false,"comment_ctime":1548829312,"is_pvip":false,"replies":[{"id":"22874","content":"è¿™æ˜¯å¾ˆå¥½çš„æ€è€ƒ<br>ä¸å¤Ÿè¦è€ƒè™‘ä¸‹ï¼Œä¸æ­¢æ‰«æä¸€æ¬¡å“¦ï¼Œæ¯æ¬¡æ‰«ææ”¾ä¸€éƒ¨åˆ†åˆ°youngåŒºåŸŸï¼Œå‘½ä¸­ç‡å°±å°‘ä¸€äº›","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548832276,"ip_address":"","comment_id":64583,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23023665792","product_id":100020801,"comment_content":"æ—è€å¸ˆï¼Œå…³äºè¯¾åé—®é¢˜ï¼Œå¾ˆå¤šç•™è¨€éƒ½æåˆ°å¤§è¡¨æ•°æ®ä¼šè¿›å…¥LRU youngåŒºåŸŸï¼Œè¿™ä¸ªæ˜¯ä¸€å®šå‘ç”Ÿçš„å—ï¼Ÿå¦‚æœå¤§è¡¨æ•°æ®å°‘äºLRU oldåŒºåŸŸçš„å¤§å°ï¼Œé‚£æ‰€æœ‰å¤§è¡¨æ•°æ®éƒ½ä¼šè¿›å…¥youngåŒºåŸŸæ²¡é—®é¢˜ã€‚å¦‚æœå¤§è¡¨æ•°æ®å¤šäºoldåŒºåŸŸçš„å¤§å°ï¼Œä¸‹æ¬¡æ‰«æçš„æ—¶å€™æ—©è¿›å…¥oldåŒºåŸŸçš„pageéƒ½å·²ç»è¢«æ·˜æ±°å‡ºå»ï¼Œæ‰€ä»¥ä¸ä¼šå› ä¸ºè¶…è¿‡1sè€Œè¿›å…¥youngåŒºåŸŸï¼Œå¯¼è‡´çš„ç»“æœå°±æ˜¯oldåŒºåŸŸhitå¾ˆä½ï¼Œè¯»å–æ–°ä¸€é¡µéƒ½éœ€è¦ä»ç£ç›˜è¯»å–åˆ°å†…å­˜ã€‚","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438086,"discussion_content":"è¿™æ˜¯å¾ˆå¥½çš„æ€è€ƒ\nä¸å¤Ÿè¦è€ƒè™‘ä¸‹ï¼Œä¸æ­¢æ‰«æä¸€æ¬¡å“¦ï¼Œæ¯æ¬¡æ‰«ææ”¾ä¸€éƒ¨åˆ†åˆ°youngåŒºåŸŸï¼Œå‘½ä¸­ç‡å°±å°‘ä¸€äº›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548832276,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64527,"user_name":"é•¿æ°","can_delete":false,"product_type":"c1","uid":1312212,"ip_address":"","ucode":"DD52C9494005F7","user_header":"https://static001.geekbang.org/account/avatar/00/14/05/d4/e06bf86d.jpg","comment_is_top":false,"comment_ctime":1548815496,"is_pvip":false,"replies":[{"id":"22842","content":"æˆ‘çœ‹åˆ°è¿™æ ·çš„ç­”å¤çœŸçš„æ˜¯å¾ˆå¼€å¿ƒï¼Œè¡¨ç¤ºä½ è¿™ä¸¤ç¯‡éƒ½getäº†ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548818537,"ip_address":"","comment_id":64527,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23023651976","product_id":100020801,"comment_content":"æˆ‘ä»¬åœ¨ä¸Šæ–‡è¯´åˆ°ï¼Œä½¿ç”¨ Block Nested-Loop Join ç®—æ³•ï¼Œå¯èƒ½ä¼šå› ä¸º join_buffer ä¸å¤Ÿå¤§ï¼Œéœ€è¦å¯¹è¢«é©±åŠ¨è¡¨åšå¤šæ¬¡å…¨è¡¨æ‰«æã€‚<br>åœ¨è¿™ä¸ªæƒ…å†µä¸‹ï¼Œç”±äºè¢«é©±åŠ¨è¡¨æ˜¯å†·è¡¨ï¼Œè¢«å¤šæ¬¡å…¨è¡¨æ‰«æï¼ŒLRUç®—æ³•è™½ç„¶åšäº†ä¼˜åŒ–åˆ†ä¸ºyongåŒºå’ŒoldåŒºï¼Œä½†æ˜¯join_bufferä¸å¤Ÿå¤§ï¼Œé©±åŠ¨è¡¨è¢«åˆ†æˆå¤šä¸ªblockï¼Œè¢«é©±åŠ¨è¡¨è¦æŸ¥å¤šæ¬¡ï¼Œä¼šå ç”¨youngåŒºï¼Œå¯¼è‡´bpå‘½ä¸­ç‡ä¸‹é™ã€‚","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438049,"discussion_content":"æˆ‘çœ‹åˆ°è¿™æ ·çš„ç­”å¤çœŸçš„æ˜¯å¾ˆå¼€å¿ƒï¼Œè¡¨ç¤ºä½ è¿™ä¸¤ç¯‡éƒ½getäº†ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548818537,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1637789,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/4PvDe2mRia2vdMGyickA40y2libhpf8ibmIEQquLUZFMXUMqqDjfVb96Y69p7bS6USgxicOKCCHxQHczHBnNb5L9nfA/132","nickname":"Geek_eb2e49","note":"","ucode":"21671F0C4E7872","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":147874,"discussion_content":"è€å¸ˆï¼Œæƒ³è¯·æ•™ä¸‹ï¼Œjoin_bufferå’Œbuffer poolæ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿä¸ºä»€ä¹ˆ join_buffer ä¸å¤Ÿå¤§ä¼šå½±å“åˆ°LRUç®—æ³•ä¸­çš„YongåŒºå’ŒOLDåŒºï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579679049,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64809,"user_name":"ä¸€å¤§åªğŸ˜´","can_delete":false,"product_type":"c1","uid":1310960,"ip_address":"","ucode":"92F3D2B7F63568","user_header":"https://static001.geekbang.org/account/avatar/00/14/00/f0/08409e78.jpg","comment_is_top":false,"comment_ctime":1548916588,"is_pvip":false,"replies":[{"id":"22934","content":"æ˜¯çš„ï¼ŒIndex Nested-Loop Joinæ²¡æœ‰ç”¨åˆ°join buffer<br><br>ä¸è¿‡35ç¯‡é©¬ä¸Šä¼šä»‹ç»åˆ°ä¸€ä¸ªä¼˜åŒ–ï¼ŒæŠŠjoin bufferç”¨ä¸Šï¼Œæ™šä¸Šå…³æ³¨ä¸‹å“¦ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548922604,"ip_address":"","comment_id":64809,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18728785772","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸‹ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯Index Nested-Loop Joinï¼Œæ˜¯ä¸æ˜¯å°±ä¸ä¼šä½¿ç”¨join_bufferäº†ï¼Ÿç›´æ¥å°†å¾ªç¯ç»“æœæ”¾åˆ°net_buffer_lengthä¸­ï¼Œè¾¹è¯»è¾¹å‘å“ˆï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438189,"discussion_content":"æ˜¯çš„ï¼ŒIndex Nested-Loop Joinæ²¡æœ‰ç”¨åˆ°join buffer\n\nä¸è¿‡35ç¯‡é©¬ä¸Šä¼šä»‹ç»åˆ°ä¸€ä¸ªä¼˜åŒ–ï¼ŒæŠŠjoin bufferç”¨ä¸Šï¼Œæ™šä¸Šå…³æ³¨ä¸‹å“¦ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548922604,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64521,"user_name":"XD","can_delete":false,"product_type":"c1","uid":1079293,"ip_address":"","ucode":"DC9DCFB3841A4E","user_header":"https://static001.geekbang.org/account/avatar/00/10/77/fd/c6619535.jpg","comment_is_top":false,"comment_ctime":1548815002,"is_pvip":false,"replies":[{"id":"22843","content":"å…¶å®å°±æ˜¯æ€•å‡ºäº‹å„¿ï¼Œéœ€è¦ç²¾ç¡®çš„æ§åˆ¶ï¼Œå¦‚æœæ˜¯ä¸¤ä¸ªIndex Nested-Loop join å…¶å®è¿˜å¥½å•¦<br><br>åªæ˜¯ä½œæˆè§„èŒƒï¼Œç”¨joinæ¬¡æ•°é™åˆ¶ï¼Œè§„èŒƒæ¯”è¾ƒå¥½æ‰§è¡ŒğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548818600,"ip_address":"","comment_id":64521,"utype":1}],"discussion_count":3,"race_medal":0,"score":"18728684186","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä¸‰ä¸ªè¡¨å…³è”çš„æ‰§è¡Œæµç¨‹ä¹Ÿæ˜¯ä¸€æ ·çš„å—ï¼Ÿè®°å¾—é˜¿é‡Œçš„mysqlè§„èŒƒé‡Œæœ‰ä¸€æ¡ä¸å…è®¸3ä¸ªåŠä»¥ä¸Šè¡¨è¿›è¡Œjoinæ“ä½œï¼Œè¿™ä¸ªåŸå› æ˜¯ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438045,"discussion_content":"å…¶å®å°±æ˜¯æ€•å‡ºäº‹å„¿ï¼Œéœ€è¦ç²¾ç¡®çš„æ§åˆ¶ï¼Œå¦‚æœæ˜¯ä¸¤ä¸ªIndex Nested-Loop join å…¶å®è¿˜å¥½å•¦\n\nåªæ˜¯ä½œæˆè§„èŒƒï¼Œç”¨joinæ¬¡æ•°é™åˆ¶ï¼Œè§„èŒƒæ¯”è¾ƒå¥½æ‰§è¡ŒğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548818600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1363230,"avatar":"https://static001.geekbang.org/account/avatar/00/14/cd/1e/692c3313.jpg","nickname":"å¤å…´","note":"","ucode":"C172A87873001A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376696,"discussion_content":"å¸Œæœ›è€å¸ˆåšå‡ºå›ç­”@æ—æ™“æ–Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622280331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1363230,"avatar":"https://static001.geekbang.org/account/avatar/00/14/cd/1e/692c3313.jpg","nickname":"å¤å…´","note":"","ucode":"C172A87873001A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376695,"discussion_content":"é¢  ä½ éè¦é—®ç¬¬äºŒä¸ªé—®é¢˜ï¼Œå®³å¾—è€å¸ˆä¸å›ç­”ç¬¬ä¸€ä¸ªé—®é¢˜äº†ï¼Œè€å¸ˆç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯æ€æ ·çš„å‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622280249,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64589,"user_name":"700","can_delete":false,"product_type":"c1","uid":1072896,"ip_address":"","ucode":"E4BD0CBADAF951","user_header":"","comment_is_top":false,"comment_ctime":1548830729,"is_pvip":false,"replies":[{"id":"22875","content":"1. ç”¨ inï¼Œä½†æ˜¯ä¸å»ºè®®è¯­å¥å¤ªé•¿<br>2. çœ‹ä¸€ä¸‹å‰é¢æˆ‘ä»¬ä»‹ç»ç´¢å¼•çš„æ–‡ç« å“ˆ<br>3. å› ä¸ºæ˜¯åœ¨å¶å­ç´¢å¼•ä¸Šç›´æ¥é¡ºåºæ‰«æï¼Œæ˜¯ä¸€ä¸ªå¤§è‡´å€¼å“ˆ<br>4. ä¸æ˜¯å‘€ï¼Œå› ä¸ºè¡¨t2æ˜¯1000è¡Œå“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548832370,"ip_address":"","comment_id":64589,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14433732617","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ã€‚çœ‹å®Œæ–‡ç« åæœ‰å¦‚ä¸‹é—®é¢˜è¯·æ•™ï¼š<br>1ï¼‰æ–‡ç« å†…å®¹ã€Œå¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™ä¸ªæŸ¥è¯¢è¿‡ç¨‹ï¼Œä¹Ÿæ˜¯æ‰«æäº† 200 è¡Œï¼Œä½†æ˜¯æ€»å…±æ‰§è¡Œäº† 101 æ¡è¯­å¥ï¼Œæ¯”ç›´æ¥ join å¤šäº† 100 æ¬¡äº¤äº’ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå®¢æˆ·ç«¯è¿˜è¦è‡ªå·±æ‹¼æ¥ SQL è¯­å¥å’Œç»“æœã€‚ã€<br>è¿™ä¸ªæœ‰æ²¡æœ‰å•¥æ–¹æ³•æ¥ä»…é€šè¿‡1æ¬¡äº¤äº’å°±å°†è¿™101æ¡è¯­å¥å‘åˆ°æœåŠ¡ç«¯æ‰§è¡Œï¼Ÿ<br><br>2ï¼‰æ–‡ç« å†…å®¹ã€Œæ¯æ¬¡æœç´¢ä¸€æ£µæ ‘è¿‘ä¼¼å¤æ‚åº¦æ˜¯ä»¥ 2 ä¸ºåº•çš„ M çš„å¯¹æ•°ï¼Œè®°ä¸º log2Mï¼Œæ‰€ä»¥åœ¨è¢«é©±åŠ¨è¡¨ä¸ŠæŸ¥ä¸€è¡Œçš„æ—¶é—´å¤æ‚åº¦æ˜¯ 2*log2Mã€‚ã€<br>è¿™ä¸ªå¤æ‚åº¦çš„è®¡ç®—éš¾ç†è§£ï¼Œä¸ºä»€ä¹ˆæ˜¯è¿™ä¹ˆè®¡ç®—ï¼Ÿ<br>å‡è®¾ M = 256ï¼Œåˆ™æœç´¢æ ‘çš„å¤æ‚åº¦ä¸º8ï¼Ÿ<br><br>3ï¼‰æ–‡ç« å†…å®¹ã€Œå› æ­¤æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ï¼Œè¿‘ä¼¼å¤æ‚åº¦æ˜¯ N + N*2*log2Mã€‚ã€<br>é©±åŠ¨è¡¨çš„å¤æ‚åº¦ç›´æ¥è®°ä¸º Nï¼Ÿ<br><br>4ï¼‰æ–‡ä¸­æåˆ°ç´¢å¼•æ‰«æéœ€æ‰«1è¡Œæ•°æ®ï¼Œå…¨è¡¨æ‰«æéœ€æ‰«1000è¡Œæ•°æ®ã€‚è¿™æ˜¯ç”±ç»Ÿè®¡ä¿¡æ¯å†³å®šçš„ï¼Ÿ<br><br>æå‰æ„Ÿè°¢è€å¸ˆï¼","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438087,"discussion_content":"1. ç”¨ inï¼Œä½†æ˜¯ä¸å»ºè®®è¯­å¥å¤ªé•¿\n2. çœ‹ä¸€ä¸‹å‰é¢æˆ‘ä»¬ä»‹ç»ç´¢å¼•çš„æ–‡ç« å“ˆ\n3. å› ä¸ºæ˜¯åœ¨å¶å­ç´¢å¼•ä¸Šç›´æ¥é¡ºåºæ‰«æï¼Œæ˜¯ä¸€ä¸ªå¤§è‡´å€¼å“ˆ\n4. ä¸æ˜¯å‘€ï¼Œå› ä¸ºè¡¨t2æ˜¯1000è¡Œå“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548832370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64536,"user_name":"undifined","can_delete":false,"product_type":"c1","uid":1068920,"ip_address":"","ucode":"449CB4CD2DC089","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/78/c3d8ecb0.jpg","comment_is_top":false,"comment_ctime":1548816482,"is_pvip":false,"replies":[{"id":"22849","content":"1. æ²¡æœ‰ï¼Œä½†æ˜¯å¦‚æœä¸šåŠ¡çœŸçš„éœ€è¦ï¼Œè¿˜æ˜¯å»ºè®®å†™â€œselect æ‰€æœ‰å­—æ®µâ€<br>2. ä¸‹ä¸€ç¯‡ä¼šè¯´å“ˆï¼Œâ€œç°åœ¨çš„åŠæ³•æ˜¯ç»™ç”¨åˆ°çš„æ²¡æœ‰ç´¢å¼•çš„åˆ—åŠ ç´¢å¼•â€ è¿™ä¸ªæ–¹æ³•æ˜¯å¯ä»¥çš„<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548818970,"ip_address":"","comment_id":64536,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14433718370","product_id":100020801,"comment_content":"è€å¸ˆæœ‰å‡ ä¸ªé—®é¢˜ï¼š<br>1. select * å’Œ select æ‰€æœ‰å­—æ®µä¼šæœ‰æ€§èƒ½å·®å¼‚å—<br>2. æˆ‘ä»¬çš„ä¸šåŠ¡æœ‰å¾ˆå¤šæŸ¥è¯¢éœ€è¦ join å¾ˆå¤šä¸ªè¡¨ï¼Œé™„å¸¦æœ‰åŠ¨æ€çš„æŸ¥è¯¢æ¡ä»¶ï¼Œå‡ ç™¾ä¸‡æ•°æ®çš„è¡¨ï¼ŒæŸ¥èµ·æ¥å¾ˆæ…¢ï¼Œåˆ†å¤šæ¬¡æŸ¥è¯¢èšåˆåˆè¦è´¹å¾ˆå¤§åŠŸå¤«ï¼Œç°åœ¨çš„åŠæ³•æ˜¯ç»™ç”¨åˆ°çš„æ²¡æœ‰ç´¢å¼•çš„åˆ—åŠ ç´¢å¼•ï¼Œåƒè¿™ç§ SQL è¯¥æ€ä¹ˆä¼˜åŒ–å‘¢<br><br>æ€è€ƒé¢˜ï¼š<br>å› ä¸ºè¦æ‰«æå¤§é‡çš„çš„æ•°æ®ï¼Œä¼šé•¿æ—¶é—´ä½¿ç”¨ Buffer Pool Old åŒºåŸŸï¼Œå¯¼è‡´å…¶ä»–çš„æŸ¥è¯¢å¯èƒ½ä¼šå˜æ…¢ï¼›å¦‚æœè¦è¿”å›çš„æ•°æ®å¾ˆå¤šçš„è¯ï¼Œè¿˜è¦é•¿æ—¶é—´ä½¿ç”¨ net_bufferï¼Œè¿™æ ·ç†è§£å¯¹å—<br><br>è¾›è‹¦è€å¸ˆè§£ç­”ä¸€ä¸‹ï¼Œè°¢è°¢è€å¸ˆ","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438056,"discussion_content":"1. æ²¡æœ‰ï¼Œä½†æ˜¯å¦‚æœä¸šåŠ¡çœŸçš„éœ€è¦ï¼Œè¿˜æ˜¯å»ºè®®å†™â€œselect æ‰€æœ‰å­—æ®µâ€\n2. ä¸‹ä¸€ç¯‡ä¼šè¯´å“ˆï¼Œâ€œç°åœ¨çš„åŠæ³•æ˜¯ç»™ç”¨åˆ°çš„æ²¡æœ‰ç´¢å¼•çš„åˆ—åŠ ç´¢å¼•â€ è¿™ä¸ªæ–¹æ³•æ˜¯å¯ä»¥çš„\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548818970,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103753,"user_name":"å¤©ä½¿æ¢¦æ³ª","can_delete":false,"product_type":"c1","uid":1235750,"ip_address":"","ucode":"782991747DD424","user_header":"https://static001.geekbang.org/account/avatar/00/12/db/26/3c8d68fb.jpg","comment_is_top":false,"comment_ctime":1560503213,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"10150437805","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œå¯¹äºå¤§æ•°æ®é‡çš„å¤šè¡¨ä½¿ç”¨joinè¿æ¥æŸ¥è¯¢ï¼Œæœ‰å¥½å¤šandæ¡ä»¶ï¼Œandæ˜¯æ¥è‡ªä¸åŒçš„è¡¨ï¼ŒæŸ¥è¯¢80ä¸‡çš„æ•°æ®é‡éœ€è¦0.4sï¼Œæ€ä¹ˆä¼˜åŒ–ä¸‹å‘¢ï¼Ÿ<br>Using union(PRIMARY,idx_secoo_order_id); Using where; Using filesort<br><br>æˆ‘çš„sqlè¯­å¥æœ€åéƒ½ä½¿ç”¨order by idäº†ï¼Œä½†æ˜¯ä¸ºå•¥Extraè¿˜ä¼šå‡ºç°Using filesort","like_count":2,"discussions":[{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573094,"discussion_content":"è¯´æ˜èµ°ç´¢å¼•çš„æ—¶å€™æ— æ³•ç›´æ¥æ»¡è¶³æ’åºå‘—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653204194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2086624,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/d6/e0/3ccaaa7b.jpg","nickname":"é¢†å­","note":"","ucode":"64AC4E6AB74E68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295155,"discussion_content":"å¦‚æœä½ çš„æ’åºå­—æ®µï¼Œä¸æ˜¯å¤–è¡¨çš„å­—æ®µï¼Œå°±ä¼šå‡ºç°Using filesort","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596104391,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1135593,"avatar":"https://static001.geekbang.org/account/avatar/00/11/53/e9/f244988e.jpg","nickname":"NIRVANA","note":"","ucode":"F3A979679AA44E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291133,"discussion_content":"è¿™æ²¡æ³•å›ç­”ï¼Œå•¥éƒ½æ²¡æœ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594714241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69393,"user_name":"Sinyo","can_delete":false,"product_type":"c1","uid":1307297,"ip_address":"","ucode":"57B243E7AB86A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJAibnPX9jW8kqLcIfibjic8GbkQkEUYyFKJkc39hZhibVlNrqwTjdLozkqibI2IwACd5YzofYickNxFnZg/132","comment_is_top":false,"comment_ctime":1550733525,"is_pvip":false,"replies":[{"id":"24989","content":"1. æ˜¯å†…å­˜æ“ä½œ<br>2. å®é™…ä¸Šæ˜¯ä¸€æ¬¡æ‰«æè¢«é©±åŠ¨è¡¨ï¼Œä½†æ˜¯å¯¹äºæ¯ä¸€è¡Œï¼Œåœ¨åˆ¤æ–­çš„æ—¶å€™ï¼Œéƒ½æŠŠsort bufferæ‰«äº†ä¸€é","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550996756,"ip_address":"","comment_id":69393,"utype":1}],"discussion_count":4,"race_medal":0,"score":"10140668117","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå…³äºæ‰«æè¡Œæ•°æ¦‚å¿µæˆ‘æœ‰ç‚¹ä¸å¤ªç†è§£ï¼›<br>BNLç®—æ³•çš„è¢«é©±åŠ¨è¡¨å¹¶æ²¡æœ‰æ”¾åˆ°join_bufferä¸­ï¼Œæ­¤æ—¶è¢«é©±åŠ¨è¡¨(ç‰©ç†è¡¨)å’Œé©±åŠ¨è¡¨(å†…å­˜ä¸­çš„æ•°æ®)å…³è”åº”è¯¥æ˜¯ç®—å†…å­˜æ“ä½œæŠŠï¼Ÿé‚£å†…å­˜ä¸­é©±åŠ¨è¡¨çš„ä¸€æ¡è®°å½•å…³è”ä¸€éè¢«é©±åŠ¨è¡¨ä¸­æ‰€æœ‰æ•°æ®éƒ½åªç®—ä½œä¸€æ¬¡æ‰«æè¡Œæ•°å—ï¼Ÿ<br><br>åŸæ–‡ï¼š<br>â€œä¸¤ä¸ªè¡¨éƒ½åšä¸€æ¬¡å…¨è¡¨æ‰«æï¼Œæ‰€ä»¥æ€»çš„æ‰«æè¡Œæ•°æ˜¯ M+Nï¼›å†…å­˜ä¸­çš„åˆ¤æ–­æ¬¡æ•°æ˜¯ M*Nã€‚â€","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440095,"discussion_content":"1. æ˜¯å†…å­˜æ“ä½œ\n2. å®é™…ä¸Šæ˜¯ä¸€æ¬¡æ‰«æè¢«é©±åŠ¨è¡¨ï¼Œä½†æ˜¯å¯¹äºæ¯ä¸€è¡Œï¼Œåœ¨åˆ¤æ–­çš„æ—¶å€™ï¼Œéƒ½æŠŠsort bufferæ‰«äº†ä¸€é","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550996756,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1250907,"avatar":"https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg","nickname":"Monday","note":"","ucode":"77B9BACC783598","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4691,"discussion_content":"è¿™ä¹Ÿæ˜¯æˆ‘çš„é—®é¢˜ã€‚çœ‹äº†è€å¸ˆçš„å›å¤ï¼Œç»ˆäºæ˜ç™½äº†ã€‚åœ¨BNLä¸­ï¼Œè¢«é©±åŠ¨è¡¨æ›´åƒæ˜¯å¤–å±‚å¾ªç¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565663366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1135593,"avatar":"https://static001.geekbang.org/account/avatar/00/11/53/e9/f244988e.jpg","nickname":"NIRVANA","note":"","ucode":"F3A979679AA44E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1250907,"avatar":"https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg","nickname":"Monday","note":"","ucode":"77B9BACC783598","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291134,"discussion_content":"è¿™å„¿æ˜¯join bufferè¿˜æ˜¯sort bufferå•Š?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594715293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4691,"ip_address":""},"score":291134,"extra":""},{"author":{"id":1261360,"avatar":"https://static001.geekbang.org/account/avatar/00/13/3f/30/23f6b413.jpg","nickname":"äº”åä¹ç§’","note":"","ucode":"1F34F62193CFF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1135593,"avatar":"https://static001.geekbang.org/account/avatar/00/11/53/e9/f244988e.jpg","nickname":"NIRVANA","note":"","ucode":"F3A979679AA44E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308873,"discussion_content":"join_buffer","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601106427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":291134,"ip_address":""},"score":308873,"extra":""}]}]},{"had_liked":false,"id":69319,"user_name":"å‡ è¿‘è™šå¹´","can_delete":false,"product_type":"c1","uid":1355831,"ip_address":"","ucode":"28CD6486EED8E2","user_header":"https://static001.geekbang.org/account/avatar/00/14/b0/37/d654fbac.jpg","comment_is_top":false,"comment_ctime":1550717268,"is_pvip":false,"replies":[{"id":"24642","content":"ğŸ‘<br>è¾¹å­¦è¾¹ç»ƒ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550728379,"ip_address":"","comment_id":69319,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10140651860","product_id":100020801,"comment_content":"    çœ‹äº†è€å¸ˆçš„è¯¾ç¨‹ï¼Œç°åœ¨çœ‹åˆ°34è®²ï¼Œå‰é¢çš„é”ã€ç´¢å¼•ç­‰åŸºç¡€å¸¸ç”¨çš„ä¸œè¥¿ï¼Œå› ä¸ºæˆ‘æ˜¯Javaå¼€å‘å˜›ï¼Œæœ‰æ™®é€šçš„SQLæ“ä½œç»éªŒï¼Œæ‰€ä»¥çœ‹äº†ä»¥åå¾ˆæœ‰æ”¶è·ã€‚ ä½†æ˜¯åˆ°äº†åˆ†åº“åˆ†è¡¨ã€è¯»å†™åˆ†ç¦»çš„è¯¾ç¨‹ï¼Œçœ‹ç€å°±å¾ˆåƒåŠ›äº†ï¼Œä¹‹å‰æ²¡æœ‰åšè¿‡ç±»ä¼¼çš„ä¸œè¥¿ã€‚<br>    ä½†æ˜¯æ€»çš„æ¥è¯´ï¼Œæ”¶è·è¶…çº§å¤§ï¼Œè¿™æ˜¯æˆ‘è¿›æå®¢æ—¶é—´ä¹°çš„ç¬¬ä¸€ä¸ªè¯¾ç¨‹ï¼Œä¹Ÿæ˜¯ç°åœ¨æœ€æœ‰ä»·å€¼çš„è¯¾ç¨‹ï¼ŒçœŸçš„éå¸¸æ„Ÿè°¢è€å¸ˆçš„è¾›è‹¦ç å­—å’ŒæŠŠæŠ€æœ¯è¡¨è¾¾ã€‚<br>    çœ‹å®Œè¿™ä¸ªè¯¾ç¨‹ï¼Œç„¶åç»§ç»­çœ‹è€å¸ˆæ¨èçš„ä¹¦ç±ã€Šé«˜æ€§èƒ½MySQLã€‹ã€‚ç­‰è·³æ§½åï¼ŒæŠŠç°åœ¨æ‰€å­¦çš„åŸºç¡€ç±»å‹çš„çŸ¥è¯†éƒ½åº”ç”¨ä¸€éï¼Œç„¶ååˆ†åº“é‚£äº›å†çœ‹æœ‰ç¯å¢ƒçš„è¯å®è·µå®è·µï¼Œæœ€åå†å›è¿‡å¤´ï¼Œåå¤çœ‹è€å¸ˆä¸­é—´æ®µè¯¾ç¨‹çš„çŸ¥è¯†ç‚¹ï¼Œåˆ°æ—¶å€™ç›¸ä¿¡æ”¶è·è‚¯å®šä¹Ÿå¾ˆå¤§ã€‚<br>    æ„Ÿè°¢è€å¸ˆã€‚","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440057,"discussion_content":"ğŸ‘\nè¾¹å­¦è¾¹ç»ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550728379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64768,"user_name":"inrtyx","can_delete":false,"product_type":"c1","uid":1246178,"ip_address":"","ucode":"81CD18FF34ABAB","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/e2/5768d26e.jpg","comment_is_top":false,"comment_ctime":1548903368,"is_pvip":true,"replies":[{"id":"22936","content":"è¦çœ‹ä½ æ€ä¹ˆåŠ å¯†çš„<br>å¦‚æœæ˜¯åœ¨å®¢æˆ·ç«¯åŠ å¯†ï¼Œå°±æ˜¯å†™å…¥æ•°æ®ä¹‹å‰åŠ å¯†æ˜¯å¯ä»¥çš„ï¼›<br>è¿˜æœ‰MySQL 5.7å°±æ”¯æŒè¡¨ç©ºé—´åŠ å¯†ï¼Œè¿™ç§ä¹Ÿæ˜¯å¯ä»¥çš„ï¼›<br><br>ä½†æ˜¯å¦‚æœæ˜¯å†™å…¥ä¹‹å‰è°ƒç”¨md5(), ç„¶åæŸ¥è¯¢çš„æ—¶å€™ç”¨md5(filed)=&#39;XXXX&#39;ï¼Œè¿™æ ·å°±ç”¨ä¸ä¸Šç´¢å¼•äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548922995,"ip_address":"","comment_id":64768,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10138837960","product_id":100020801,"comment_content":"è€å¸ˆï¼Œé—®ä¸ªé—®é¢˜ï¼mysqlæœ‰æ²¡æœ‰åŠæ³•æ”¯æŒåŠ å¯†æ•°æ®å¯æœç´¢","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438167,"discussion_content":"è¦çœ‹ä½ æ€ä¹ˆåŠ å¯†çš„\nå¦‚æœæ˜¯åœ¨å®¢æˆ·ç«¯åŠ å¯†ï¼Œå°±æ˜¯å†™å…¥æ•°æ®ä¹‹å‰åŠ å¯†æ˜¯å¯ä»¥çš„ï¼›\nè¿˜æœ‰MySQL 5.7å°±æ”¯æŒè¡¨ç©ºé—´åŠ å¯†ï¼Œè¿™ç§ä¹Ÿæ˜¯å¯ä»¥çš„ï¼›\n\nä½†æ˜¯å¦‚æœæ˜¯å†™å…¥ä¹‹å‰è°ƒç”¨md5(), ç„¶åæŸ¥è¯¢çš„æ—¶å€™ç”¨md5(filed)=&amp;#39;XXXX&amp;#39;ï¼Œè¿™æ ·å°±ç”¨ä¸ä¸Šç´¢å¼•äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548922995,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64686,"user_name":"å°å»ºçš„é£","can_delete":false,"product_type":"c1","uid":1302600,"ip_address":"","ucode":"811C24F093AF0F","user_header":"https://static001.geekbang.org/account/avatar/00/13/e0/48/3d72e81c.jpg","comment_is_top":false,"comment_ctime":1548858713,"is_pvip":false,"replies":[{"id":"22894","content":"å—¯å—¯ï¼Œæˆ‘ä»¬è¿™æ¬¡45è®²ğŸ˜†<br><br>è¿™äº›å†…å®¹ç¡®å®æ²¡åœ¨è¿™ä¸ªä¸“æ çš„èŒƒå›´å†…<br>crashåè°ƒè¯•ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯çœ‹errorlogï¼Œå¦‚æœæœ‰é…ç½®ç”Ÿæˆcoreæ–‡ä»¶ï¼Œå°±ç”¨gdbè¿™æ ·ã€‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548869690,"ip_address":"","comment_id":64686,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10138793305","product_id":100020801,"comment_content":"è€å¸ˆï¼Œçœ‹å¤§çº²è¯¾ç¨‹ä¼¼ä¹å¿«æ¥è¿‘å°¾å£°äº†ï¼Œä¸çŸ¥è€å¸ˆèƒ½å¦åˆ†äº«ä¸€ä¸‹æ€ä¹ˆè¿›è¡Œè¿›è¡Œmysqlçš„æºç åˆ†æï¼Œä»¥åŠmysqlåœ¨crashåæ€ä¹ˆè°ƒè¯•çš„å†…å®¹å“¦","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438133,"discussion_content":"å—¯å—¯ï¼Œæˆ‘ä»¬è¿™æ¬¡45è®²ğŸ˜†\n\nè¿™äº›å†…å®¹ç¡®å®æ²¡åœ¨è¿™ä¸ªä¸“æ çš„èŒƒå›´å†…\ncrashåè°ƒè¯•ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯çœ‹errorlogï¼Œå¦‚æœæœ‰é…ç½®ç”Ÿæˆcoreæ–‡ä»¶ï¼Œå°±ç”¨gdbè¿™æ ·ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548869690,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64581,"user_name":"å¤¹å¿ƒé¢åŒ…","can_delete":false,"product_type":"c1","uid":1301957,"ip_address":"","ucode":"002BBA49D83D17","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJCscgdVibmoPyRLRaicvk6rjTJxePZ6VFHvGjUQvtfhCS6kO4OZ1AVibbhNGKlWZmpEFf2yA6ptsqHw/132","comment_is_top":false,"comment_ctime":1548828813,"is_pvip":false,"replies":[{"id":"22872","content":"æ˜¯çš„ ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548829652,"ip_address":"","comment_id":64581,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10138763405","product_id":100020801,"comment_content":"å¯¹äºå¤šè¡¨joinä¼˜åŒ–,æˆ‘æœ€å…ˆexplainå…³æ³¨çš„å°±æ˜¯BNLä¼˜åŒ–,ä¸€æ—¦å‡ºç°,å°±ä¼šæç¤ºç ”å‘è¿›è¡Œè¿æ¥å­—æ®µçš„ç´¢å¼•æ·»åŠ ,è¿™æ˜¯æœ€å…ˆå¯ä»¥è¢«ä¼˜åŒ–çš„,ä¹Ÿæ˜¯æé«˜æ•ˆç‡çš„","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438084,"discussion_content":"æ˜¯çš„ ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548829652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64572,"user_name":"æ²¡æ—¶é—´äº†ngu","can_delete":false,"product_type":"c1","uid":1311334,"ip_address":"","ucode":"9629BB85E8BB5D","user_header":"https://static001.geekbang.org/account/avatar/00/14/02/66/4ab9225e.jpg","comment_is_top":false,"comment_ctime":1548826804,"is_pvip":false,"replies":[{"id":"22870","content":"ä¸»è¦æ˜¯å‚æ•°çš„è®¾ç½®ï¼Œå¦‚æœæ²¡æœ‰é…åˆè¯´åŸç†ï¼Œå°±æœ‰ç‚¹æµ…ã€‚ã€‚ã€‚<br>è¿™æ ·ï¼Œä½ æŠŠä½ ä¸ç†è§£çš„å‚æ•°åˆ—å‡ºæ¥ï¼Œæˆ‘ä»¬æ¥è®¨è®ºä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548828757,"ip_address":"","comment_id":64572,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10138761396","product_id":100020801,"comment_content":"è€å¸ˆï¼Œåé¢ç­”ç–‘å¯ä»¥è®²ä¸€ä¸‹ å¸¸ç”¨çš„å‚æ•°ä¼˜åŒ–ï¼Œæ¯”å¦‚my.cnf è¿™é‡Œé¢çš„è®¾ç½®å—ï¼Œæ‚¨è®²çš„è¿™äº›ç†è®ºæŒºæ·±çš„ï¼Œå¯¹å°ç™½æ¥è¯´ï¼Œå¸æ”¶è¿˜æ˜¯è¦é ä¸€äº›å®è·µçš„ã€‚","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438080,"discussion_content":"ä¸»è¦æ˜¯å‚æ•°çš„è®¾ç½®ï¼Œå¦‚æœæ²¡æœ‰é…åˆè¯´åŸç†ï¼Œå°±æœ‰ç‚¹æµ…ã€‚ã€‚ã€‚\nè¿™æ ·ï¼Œä½ æŠŠä½ ä¸ç†è§£çš„å‚æ•°åˆ—å‡ºæ¥ï¼Œæˆ‘ä»¬æ¥è®¨è®ºä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548828757,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64493,"user_name":"é”…å­","can_delete":false,"product_type":"c1","uid":1323048,"ip_address":"","ucode":"4A9143AFB07FF2","user_header":"https://static001.geekbang.org/account/avatar/00/14/30/28/6e019a7a.jpg","comment_is_top":false,"comment_ctime":1548811902,"is_pvip":false,"replies":[{"id":"22838","content":"å¤šè°¢ä½ çš„é¼“åŠ±<br><br>éœ€è¦å…ˆä¼‘æ¯ä¸€æ®µå“ˆ ^_^<br>ä¸è¿‡è¯„è®ºåŒºä¸€ç›´å¼€æ”¾å“¦~","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548816612,"ip_address":"","comment_id":64493,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10138746494","product_id":100020801,"comment_content":"ä»¥å‰å¯¹joinæ€»æ˜¯å¾ˆæ¨¡ç³Šï¼Œå¬å®Œè€å¸ˆè¿™èŠ‚è¯¾æ„Ÿè§‰æ¸…æ™°äº†å¥½å¤šï¼Œè¿™ä¸ªä¸“æ çœŸå¾—å¾ˆå€¼ã€‚<br>è€å¸ˆï¼Œè¿™ä¸ªä¸“æ ç»“æŸäº†ï¼Œåç»­è¿˜ä¼šæœ‰å…¶ä»–ä¸“æ å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438028,"discussion_content":"å¤šè°¢ä½ çš„é¼“åŠ±\n\néœ€è¦å…ˆä¼‘æ¯ä¸€æ®µå“ˆ ^_^\nä¸è¿‡è¯„è®ºåŒºä¸€ç›´å¼€æ”¾å“¦~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548816612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64492,"user_name":"Dç™½èœ","can_delete":false,"product_type":"c1","uid":1304391,"ip_address":"","ucode":"8DC343172AB781","user_header":"https://static001.geekbang.org/account/avatar/00/13/e7/47/d0715205.jpg","comment_is_top":false,"comment_ctime":1548811896,"is_pvip":false,"replies":[{"id":"22837","content":"â€œå°çš„ç»“æœé›†â€ è¿™ä¸ªè¯´å¾—å¾ˆå¥½<br>æ–‡ç« é‡Œé¢æˆ‘ä»¬æœ‰ä¸€æ®µï¼Œä¹Ÿæ˜¯ä¸“é—¨æè¿°äº†è¿™ä¸ªé€»è¾‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548816462,"ip_address":"","comment_id":64492,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10138746488","product_id":100020801,"comment_content":"é©±åŠ¨è¡¨çš„é€‰æ‹©ï¼ŒOracleæœ‰ä¸ªæ¯”è¾ƒä¸¥è°¨çš„è¯´æ³•ï¼Œå«åšå°çš„ç»“æœé›†ä½œä¸ºdriver table(å¤–éƒ¨è¡¨).å­¦åˆ°è¿™é‡Œå‘ç°nested loopçš„åŸç†oracleå’ŒMySQLæœ‰äº›è¿‘ä¼¼çš„åœ°æ–¹ã€‚","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438027,"discussion_content":"â€œå°çš„ç»“æœé›†â€ è¿™ä¸ªè¯´å¾—å¾ˆå¥½\næ–‡ç« é‡Œé¢æˆ‘ä»¬æœ‰ä¸€æ®µï¼Œä¹Ÿæ˜¯ä¸“é—¨æè¿°äº†è¿™ä¸ªé€»è¾‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548816462,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64484,"user_name":"liao xueqiang","can_delete":false,"product_type":"c1","uid":1310325,"ip_address":"","ucode":"68713441579F6B","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/75/46742f12.jpg","comment_is_top":false,"comment_ctime":1548810994,"is_pvip":false,"replies":[{"id":"22836","content":"å¯¹ï¼Œä¼˜åŒ–å™¨ä¸å°±æ˜¯åšè¿™ä¸ªçš„<br>å½“ç„¶ä¼˜åŒ–å™¨æœ‰æ—¶å€™ä¼šçŠ¯é”™è¯¯ï¼Œæ‰€ä»¥è¿˜æ˜¯explainçœ‹çœ‹ä¿é™©å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548816429,"ip_address":"","comment_id":64484,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10138745586","product_id":100020801,"comment_content":"ä¹Ÿå°±æ˜¯è¯´è‡ªå·±ä¸ç”¨æ‹…å¿ƒè¯­å¥æ€ä¹ˆå†™çš„ï¼Œjoinçš„æ—¶å€™ä¸ç®¡å°è¡¨åœ¨å‰è¿˜æ˜¯å¤§è¡¨åœ¨å‰ï¼Œmysqlä¼˜åŒ–å™¨ä¼šè‡ªåŠ¨é€‰æ‹©å°è¡¨ä½œä¸ºé©±åŠ¨è¡¨ï¼Œæ˜¯è¿™æ ·ç†è§£å—","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438022,"discussion_content":"å¯¹ï¼Œä¼˜åŒ–å™¨ä¸å°±æ˜¯åšè¿™ä¸ªçš„\nå½“ç„¶ä¼˜åŒ–å™¨æœ‰æ—¶å€™ä¼šçŠ¯é”™è¯¯ï¼Œæ‰€ä»¥è¿˜æ˜¯explainçœ‹çœ‹ä¿é™©å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548816429,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64475,"user_name":"liao xueqiang","can_delete":false,"product_type":"c1","uid":1310325,"ip_address":"","ucode":"68713441579F6B","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/75/46742f12.jpg","comment_is_top":false,"comment_ctime":1548809185,"is_pvip":false,"replies":[{"id":"22825","content":"æ˜¯çš„å‘€ï¼Œå°±æ˜¯æˆ‘ä»¬æ–‡ä¸­è¯´çš„ï¼Œé€‰â€œå°è¡¨â€<br><br><br>é©±åŠ¨è¡¨çš„é€‰æ‹©ï¼Œç”¨explainå¯ä»¥çœ‹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548810167,"ip_address":"","comment_id":64475,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10138743777","product_id":100020801,"comment_content":"æœ€åä¸€ä¸ªä¾‹å­ï¼Œå…³äºé©±åŠ¨è¡¨çš„é€‰æ‹©ï¼Œæ€ä¹ˆçŸ¥é“æ˜¯é€‰äº†t1è¡¨è¿˜æ˜¯t2è¡¨?ä¼šä¸ä¼šåƒoracleä¸€æ ·ï¼Œä¼˜åŒ–å™¨è‡ªåŠ¨é€‰æ‹©ç»“æœé›†å°‘çš„è¡Œæºä½œä¸ºé©±åŠ¨è¡¨ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438017,"discussion_content":"æ˜¯çš„å‘€ï¼Œå°±æ˜¯æˆ‘ä»¬æ–‡ä¸­è¯´çš„ï¼Œé€‰â€œå°è¡¨â€\n\n\né©±åŠ¨è¡¨çš„é€‰æ‹©ï¼Œç”¨explainå¯ä»¥çœ‹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548810167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157199,"user_name":"Monday","can_delete":false,"product_type":"c1","uid":1250907,"ip_address":"","ucode":"77B9BACC783598","user_header":"https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg","comment_is_top":false,"comment_ctime":1575079953,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5870047249","product_id":100020801,"comment_content":"åŸä»¥ä¸ºé©±åŠ¨è¡¨ï¼ˆMæ¡ï¼‰è¯»å…¥å†…å­˜ï¼Œå†æ¯æ¬¡å–ä¸€æ¡æ‰«æè¢«é©±åŠ¨è¡¨ï¼ˆNæ¡ï¼‰ï¼Œè¿™æ ·æ‰«æè¡Œæ•°æ˜¯M+M*Nã€‚<br>ä»”ç»†ä¸€çœ‹mysqlæœºæ™ºäº†ã€‚è¯»å…¥é©±åŠ¨è¡¨ï¼Œç„¶åæ‰«æä»è¢«é©±åŠ¨è¡¨ï¼Œæ¯æ¬¡å–ä¸€æ¡å’Œé©±åŠ¨è¡¨åšåŒ¹é…ã€‚å‰å®³äº†","like_count":1},{"had_liked":false,"id":154589,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1574487401,"is_pvip":false,"replies":[{"id":"59457","content":"ä¼šï¼Œè¿™ä¸ªå°±æ˜¯ä¼˜åŒ–å™¨çš„å·¥ä½œ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1574588648,"ip_address":"","comment_id":154589,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5869454697","product_id":100020801,"comment_content":"è€å¸ˆï¼ŒMySQLè‡ªå·±ä¼šå†³å®šé€‰å“ªä¸ªè¡¨å½“é©±åŠ¨è¡¨å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475516,"discussion_content":"ä¼šï¼Œè¿™ä¸ªå°±æ˜¯ä¼˜åŒ–å™¨çš„å·¥ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574588648,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103265,"user_name":"è¿è¾¹","can_delete":false,"product_type":"c1","uid":1391748,"ip_address":"","ucode":"54B5DA38449728","user_header":"https://static001.geekbang.org/account/avatar/00/15/3c/84/608f679b.jpg","comment_is_top":false,"comment_ctime":1560406341,"is_pvip":false,"replies":[{"id":"37376","content":"å¼€å¿ƒğŸ˜†ğŸ¤","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1560422069,"ip_address":"","comment_id":103265,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5855373637","product_id":100020801,"comment_content":"ç°åœ¨å¾ˆå¤šæ—¶å€™ï¼Œéƒ½ä¸ç”¨jionæŸ¥è¯¢ï¼Œä½†æ˜¯ä¹Ÿè¯´ä¸ä¸ªæ‰€ä»¥ç„¶æ¥ï¼Œä»Šå¤©è¡¥ä¹ äº†è¿™ç¯‡æ–‡ç« ï¼Œèƒ½ä»ç†è®ºå‡ºå‘äº†ï¼Œå¼€å¿ƒã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453813,"discussion_content":"å¼€å¿ƒğŸ˜†ğŸ¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560422069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79063,"user_name":"é˜¿é‚±","can_delete":false,"product_type":"c1","uid":1281762,"ip_address":"","ucode":"A3D1A90E01D83D","user_header":"https://static001.geekbang.org/account/avatar/00/13/8e/e2/1e70c61d.jpg","comment_is_top":false,"comment_ctime":1553336219,"is_pvip":false,"replies":[{"id":"28795","content":"å’±ä»¬ä¿©å¯¹â€œçŸ¥è¯†ç‚¹â€çš„ç†è§£ä¸å¤ªä¸€æ ·ğŸ˜†<br><br>å„è¡¨å‚æ•°ä»£è¡¨çš„æ„ä¹‰æ˜¯å“ªé‡Œéƒ½èƒ½æ‰¾åˆ°çš„ã€‚ã€‚<br><br>å¯èƒ½æ˜¯ä½ åŸºç¡€æ¯”è¾ƒå¥½å§ï¼Œæˆ‘æ˜¯çœ‹äº†æºç åæ‰ææ¸…æ¥šBNLçš„æ‰§è¡Œæµç¨‹ï¼Œä¹‹å‰å¹¶çŒœä¸åˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1553339612,"ip_address":"","comment_id":79063,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5848303515","product_id":100020801,"comment_content":"éš¾é“ä¸æ˜¯é‡ç‚¹è®²explainä¸‹å„è¡¨å‚æ•°ä»£è¡¨çš„æ„ä¹‰å—ï¼Ÿæˆ–è¯´ä¸ºä»€ä¹ˆæ˜¾ç¤ºè¿™æ ·çš„å‚æ•°ï¼Ÿä½ è¯´çš„é‚£ä¸ªè¡¨è¿æ¥è¿‡ç¨‹ä¸æ€ä¹ˆå­¦è¿‡mysqlçš„äººéƒ½èƒ½çŒœåˆ°ï¼Œæœ‰æ„ä¹‰å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444343,"discussion_content":"å’±ä»¬ä¿©å¯¹â€œçŸ¥è¯†ç‚¹â€çš„ç†è§£ä¸å¤ªä¸€æ ·ğŸ˜†\n\nå„è¡¨å‚æ•°ä»£è¡¨çš„æ„ä¹‰æ˜¯å“ªé‡Œéƒ½èƒ½æ‰¾åˆ°çš„ã€‚ã€‚\n\nå¯èƒ½æ˜¯ä½ åŸºç¡€æ¯”è¾ƒå¥½å§ï¼Œæˆ‘æ˜¯çœ‹äº†æºç åæ‰ææ¸…æ¥šBNLçš„æ‰§è¡Œæµç¨‹ï¼Œä¹‹å‰å¹¶çŒœä¸åˆ°","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1553339612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1170925,"avatar":"https://static001.geekbang.org/account/avatar/00/11/dd/ed/e6eed95e.jpg","nickname":"Flying","note":"","ucode":"CA3DCE897F2013","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387419,"discussion_content":"åŸæ¥ä½ åˆ†ææ€ä¹ˆè¿è¡¨éƒ½æ˜¯çŒœçš„å‘€ï¼Œé‚£è¿˜æœ‰å¿…è¦æ˜ç™½explainå—","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1628158060,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043325,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/c9xpiakQ3OC1AlfCeW03lLnnb7mj5v35Hib8YDs66zpnVib2n2qFichFmFp2Ec4QDPR0dKh38MkBBLyD3bE4NiaanZQ/132","nickname":"é¾™æ™“","note":"","ucode":"FAF34F1C65D103","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":358863,"discussion_content":"æ”¯æŒæ—è€å¸ˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1616066653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72648,"user_name":"å°å¾","can_delete":false,"product_type":"c1","uid":1303757,"ip_address":"","ucode":"522B5CD3732313","user_header":"https://static001.geekbang.org/account/avatar/00/13/e4/cd/fc140973.jpg","comment_is_top":false,"comment_ctime":1551685332,"is_pvip":false,"replies":[{"id":"28004","content":"&quot;è¿˜æ˜¯è¯´ä¹Ÿå¯ä»¥ç†è§£ä¸ºä»é©±åŠ¨è¡¨ä¸€æ¡ä¸€æ¡å–å‡ºæ•°æ®ä¸ä»è¢«é©±åŠ¨è¡¨å–å‡ºçš„è®°å½•å¯¹æ¯”&quot;<br><br>æˆ‘è§‰å¾—ä¸èƒ½ï¼Œå› ä¸ºè¿™æ ·å¹¶ä¸æ˜¯å®é™…æƒ…å†µï¼Œè€Œä¸”å¦‚æœè¿™ä¹ˆå®ç°ï¼Œæ€§èƒ½ä¼šå¾ˆæ…¢å“¦<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1552723787,"ip_address":"","comment_id":72648,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5846652628","product_id":100020801,"comment_content":"è€å¸ˆå¥½:<br>   å¯¹äºNLJçš„é©±åŠ¨è¡¨ä¸è¢«åŠ¨è¡¨èƒ½å¤Ÿç†è§£ï¼Œä»é©±åŠ¨è¡¨å–å‡ºæ•°æ®å»è®¿é—®è¢«é©±åŠ¨è¡¨ï¼Œ<br>  ä½†æ˜¯BNLæ–¹å¼çš„ é©±åŠ¨è¡¨ä¸è¢«åŠ¨è¡¨èƒ½å¤Ÿä¸ç†è§£ï¼Œé©±åŠ¨è¡¨æ”¾å…¥join buffer,ç„¶åä»è¢«é©±åŠ¨è¡¨æ‹¿å‡ºè®°å½•å»è®¿é—®é©±åŠ¨è¡¨ï¼Œè¿™ä¸ªæ˜¯ä¸æ˜¯<br>é©±åŠ¨è¡¨ä¸è¢«é©±åŠ¨è¡¨å­˜åœ¨æ­§ä¹‰,è¿˜æ˜¯è¯´ä¹Ÿå¯ä»¥ç†è§£ä¸ºä»é©±åŠ¨è¡¨ä¸€æ¡ä¸€æ¡å–å‡ºæ•°æ®ä¸ä»è¢«é©±åŠ¨è¡¨å–å‡ºçš„è®°å½•å¯¹æ¯”ï¼Ÿ<br>","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441672,"discussion_content":"&amp;quot;è¿˜æ˜¯è¯´ä¹Ÿå¯ä»¥ç†è§£ä¸ºä»é©±åŠ¨è¡¨ä¸€æ¡ä¸€æ¡å–å‡ºæ•°æ®ä¸ä»è¢«é©±åŠ¨è¡¨å–å‡ºçš„è®°å½•å¯¹æ¯”&amp;quot;\n\næˆ‘è§‰å¾—ä¸èƒ½ï¼Œå› ä¸ºè¿™æ ·å¹¶ä¸æ˜¯å®é™…æƒ…å†µï¼Œè€Œä¸”å¦‚æœè¿™ä¹ˆå®ç°ï¼Œæ€§èƒ½ä¼šå¾ˆæ…¢å“¦\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552723787,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69536,"user_name":"å°å¿—","can_delete":false,"product_type":"c1","uid":1037841,"ip_address":"","ucode":"11C9EAB9746D8B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d6/11/808eb5f8.jpg","comment_is_top":false,"comment_ctime":1550761539,"is_pvip":false,"replies":[{"id":"24693","content":"my.cnf é‡Œï¼Œæˆ–è€… set join_buffer_size=M","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550798548,"ip_address":"","comment_id":69536,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5845728835","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œjoin_buffer_sizeè¿™ä¸ªå€¼åœ¨å“ªé‡Œè®¾ç½®ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440160,"discussion_content":"my.cnf é‡Œï¼Œæˆ–è€… set join_buffer_size=M","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550798548,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68567,"user_name":"æ€è€ƒç‰¹ï½","can_delete":false,"product_type":"c1","uid":1301824,"ip_address":"","ucode":"B9B4E64962BAD2","user_header":"https://static001.geekbang.org/account/avatar/00/13/dd/40/a185dfcb.jpg","comment_is_top":false,"comment_ctime":1550545265,"is_pvip":false,"replies":[{"id":"24321","content":"æ²¡æœ‰å­˜ï¼Œå°±æ˜¯æŒ‰é¡ºåºè¯»ä¸€è¡Œï¼Œç„¶åè·Ÿjoin bufferä¸­å¯¹æ¯”ä»¥åè¿™ä¸ªå†…å­˜å°±å¤ç”¨äº†ï¼Œåˆè¯»ä¸‹ä¸€è¡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550551344,"ip_address":"","comment_id":68567,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5845512561","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä¸‹é¢çš„sql<br>select * from t1 straight_join t2 on (t1.a=t2.b);<br>ä½¿ç”¨BNLè¿›è¡Œè¿æ¥ï¼Œt1è¡¨çš„è®°å½•å­˜æ”¾åˆ°join bufferä¸­å»ï¼Œt2è¡¨æ˜¯è¦åšå…¨è¡¨æ‰«æçš„ï¼Œå®ƒæ˜¯å°†æ‰€æœ‰è®°å½•å–å‡ºæ¥ï¼Œè¿™ä¸ªè®°å½•åº”è¯¥ä¹Ÿå¾ˆå¤§ï¼Œé‚£ä¹ˆå­˜æ”¾åˆ°ä»€ä¹ˆåœ°æ–¹ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439734,"discussion_content":"æ²¡æœ‰å­˜ï¼Œå°±æ˜¯æŒ‰é¡ºåºè¯»ä¸€è¡Œï¼Œç„¶åè·Ÿjoin bufferä¸­å¯¹æ¯”ä»¥åè¿™ä¸ªå†…å­˜å°±å¤ç”¨äº†ï¼Œåˆè¯»ä¸‹ä¸€è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550551344,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1652836,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epKJlW7sqts2ZbPuhMbseTAdvHWnrc4ficAeSZyKibkvn6qyxflPrkKKU3mH6XCNmYvDg11tB6y0pxg/132","nickname":"pc","note":"","ucode":"1AD538B9A900B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":138728,"discussion_content":"ä¸æ˜¯å¾ˆæ‡‚ï¼Œé‚£å¯¹äºæ— åºçš„å­—æ®µï¼Œæ˜¯ä¸èƒ½æŒ‰ç…§é¡ºåºå»åˆ¤æ–­çš„å•Šï¼Ÿï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579262786,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65042,"user_name":"åº“æ·˜æ·˜","can_delete":false,"product_type":"c1","uid":1310240,"ip_address":"","ucode":"90813B0C46E978","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqibSwKPg7hiapc49qoM4dibhM3fYANPjfltF2ibBZ3dHX2hibjg5EIIcziahrmjO5R2XrcRibvU39TQS7jg/132","comment_is_top":false,"comment_ctime":1549010295,"is_pvip":false,"replies":[{"id":"23189","content":"â€œ2.å·²t2 ä½œä¸ºé©±åŠ¨è¡¨ï¼Œä¸€æ–¹é¢è€ƒè™‘å…¶ä»–ä¸¤è¡¨éƒ½æœ‰å…³è”,t2è¡¨æ”¾å…¥join bufferåå…³è”t1åï¼Œå†å…³è”t2 å¾—å‡ºç»“æœ å†å„å›t2,t3è¡¨å–å‡º å¾—åˆ°ç»“æœé›†â€<br><br>å³ä½¿æ˜¯ç”¨t1åšé©±åŠ¨è¡¨ï¼Œä¹Ÿæ˜¯å¯èƒ½å¯ä»¥éƒ½ç”¨ä¸ŠBKAçš„å“ˆ<br><br>æ–°æ˜¥å¿«ä¹~","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1549270849,"ip_address":"","comment_id":65042,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5843977591","product_id":100020801,"comment_content":"set optimizer_switch=&#39;mrr=on,mrr_cost_based=off,batched_key_access=on&#39;;<br>create index idx_c on t2(c);<br>create index idx_a_c on t1(a,c);<br>create index idx_b_c on t3(b,c);<br>mysql&gt; explain select * from t2 <br>    -&gt; straight_join t1 on(t1.a=t2.a)<br>    -&gt; straight_join t3 on(t2.b=t3.b)   <br>    -&gt; where t1.c&gt; 800 and t2.c&gt;=600 and t3.c&gt;=500;<br>+----+-------------+-------+------------+-------+---------------+---------+---------+-----------+------+----------+---------------------------------------------------------------+<br>| id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra |<br>+----+-------------+-------+------------+-------+---------------+---------+---------+-----------+------+----------+---------------------------------------------------------------+<br>| 1 | SIMPLE | t2 | NULL | range | idx_c | idx_c | 5 | NULL | 401 | 100.00 | Using index condition; Using where; Using MRR |<br>| 1 | SIMPLE | t1 | NULL | ref | idx_a_c | idx_a_c | 5 | test.t2.a | 1 | 33.33 | Using index condition; Using join buffer (Batched Key Access) |<br>| 1 | SIMPLE | t3 | NULL | ref | idx_b_c | idx_b_c | 5 | test.t2.b | 1 | 33.33 | Using index condition; Using join buffer (Batched Key Access) |<br>+----+-------------+-------+------------+-------+---------------+---------+---------+-----------+------+----------+---------------------------------------------------------------+<br>3 rows in set, 1 warning (0.00 sec)<br>ä»¥è‡ªå·±ç†è§£è€ƒè™‘å¦‚ä¸‹ï¼Œæœ‰é—®é¢˜è¯·è€å¸ˆèƒ½å¤ŸæŒ‡å‡º<br>1.æ ¹æ®æŸ¥è¯¢å› æ˜¯select * è‚¯å®šå›è¡¨çš„ï¼Œå…¶ä¸­åœ¨è¡¨t2åˆ›å»ºç´¢å¼•idx_c,ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ICP,MRRï¼Œå¦‚æœcå­—æ®µé‡å¤ç‡é«˜æˆ–å–å€¼è¡Œæ•°å¤šï¼Œå¯ä»¥è€ƒè™‘ä¸å»ºç´¢å¼•<br>2.å·²t2 ä½œä¸ºé©±åŠ¨è¡¨ï¼Œä¸€æ–¹é¢è€ƒè™‘å…¶ä»–ä¸¤è¡¨éƒ½æœ‰å…³è”,t2è¡¨æ”¾å…¥join bufferåå…³è”t1åï¼Œå†å…³è”t2 å¾—å‡ºç»“æœ å†å„å›t2,t3è¡¨å–å‡º å¾—åˆ°ç»“æœé›†ï¼ˆä¹‹å‰ç†è§£éƒ½æ˜¯t1å’Œt2joinå¾—ç»“æœé›†å†ä¸t3joinï¼Œæœ¬æ¬¡ç†è§£å¤ªç¡®å®šï¼‰<br>3.t2ã€t3è¡¨å»ºç«‹è”åˆæŸ¥è¯¢ç›®çš„èƒ½å¤Ÿä½¿ç”¨ICP","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438292,"discussion_content":"â€œ2.å·²t2 ä½œä¸ºé©±åŠ¨è¡¨ï¼Œä¸€æ–¹é¢è€ƒè™‘å…¶ä»–ä¸¤è¡¨éƒ½æœ‰å…³è”,t2è¡¨æ”¾å…¥join bufferåå…³è”t1åï¼Œå†å…³è”t2 å¾—å‡ºç»“æœ å†å„å›t2,t3è¡¨å–å‡º å¾—åˆ°ç»“æœé›†â€\n\nå³ä½¿æ˜¯ç”¨t1åšé©±åŠ¨è¡¨ï¼Œä¹Ÿæ˜¯å¯èƒ½å¯ä»¥éƒ½ç”¨ä¸ŠBKAçš„å“ˆ\n\næ–°æ˜¥å¿«ä¹~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549270849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64927,"user_name":"éƒ­å¥","can_delete":false,"product_type":"c1","uid":1102204,"ip_address":"","ucode":"169645EBF3B46C","user_header":"https://static001.geekbang.org/account/avatar/00/10/d1/7c/4639f22c.jpg","comment_is_top":false,"comment_ctime":1548980191,"is_pvip":false,"replies":[{"id":"23010","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548987126,"ip_address":"","comment_id":64927,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5843947487","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¤ªæ£’äº†ï¼ï¼ç»ˆäºè®²joinäº†ï¼ï¼ï¼ä½œä¸ºä¸€ä¸ªå®é™…å¼€å‘äººå‘˜ï¼Œç´¢å¼•äº†è§£æ˜¯å¿…é¡»å¾—ï¼Œå•è¡¨ç´¢å¼•æœ‰æ‰€æŒæ¡ï¼Œå§‹ç»ˆå¯¹joinæ²¡æ³•ç†è§£ï¼Œè¿™èŠ‚è¯¾å¯¹æˆ‘çš„å¸®åŠ©æ˜¯æœ€å¤§çš„ã€‚è°¢è°¢è€å¸ˆ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438238,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548987126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64902,"user_name":"è¾£æ¤’","can_delete":false,"product_type":"c1","uid":1330376,"ip_address":"","ucode":"85C62DE976C6A5","user_header":"https://static001.geekbang.org/account/avatar/00/14/4c/c8/bed1e08a.jpg","comment_is_top":false,"comment_ctime":1548947387,"is_pvip":false,"replies":[{"id":"23005","content":"ğŸ‘ï¼Œå¦‚æœæœ‰æœ‰è¶£çš„ç»éªŒä¹Ÿæ”¾åˆ°è¿™é‡Œè·Ÿå¤§å®¶åˆ†äº«å“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548980521,"ip_address":"","comment_id":64902,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5843914683","product_id":100020801,"comment_content":"æˆ‘æ˜¯å¼€å‘ï¼Œä½†æ˜¯çœ‹äº†è€å¸ˆçš„ä¸“æ ï¼Œå¯¹æ€ä¹ˆå†™æ•°æ®åº“åº”ç”¨æ›´æœ‰å¿ƒå¾—äº†","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438228,"discussion_content":"ğŸ‘ï¼Œå¦‚æœæœ‰æœ‰è¶£çš„ç»éªŒä¹Ÿæ”¾åˆ°è¿™é‡Œè·Ÿå¤§å®¶åˆ†äº«å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548980521,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64813,"user_name":"é©¬è‹¥é£","can_delete":false,"product_type":"c1","uid":1046394,"ip_address":"","ucode":"3D0327329A10AE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/7a/55618020.jpg","comment_is_top":false,"comment_ctime":1548917293,"is_pvip":false,"replies":[{"id":"22933","content":"æ˜¯çš„ï¼Œåªæ˜¯è·å–æ•°æ®çš„æ—¶å€™ï¼Œä¸ä¼šå»è¯»æ•´è¡Œã€‚<br><br>ä½†æ˜¯æ²¡æœ‰ç´¢å¼•å°±ä¹Ÿåªèƒ½ç”¨BNLï¼Œå¯ä»¥explainçœ‹çœ‹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548922555,"ip_address":"","comment_id":64813,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5843884589","product_id":100020801,"comment_content":"æˆ‘ä»¬æŸä¸ªä¸šåŠ¡ä½¿ç”¨infobrightè¿™ç§åˆ—å¼å­˜å‚¨ï¼Œå­—æ®µæ²¡ç”¨ç´¢å¼•ã€‚æˆ‘åœ¨æƒ³è¿™ç§å¼•æ“åœ¨joinçš„æ—¶å€™æ˜¯å¦ä¹Ÿä¼šéµå®ˆç±»ä¼¼çš„è§„åˆ™ï¼Ÿä½†åˆ—å¼å­˜å‚¨å¹¶ä¸æ˜¯æŒ‰è¡Œæ‰«æï¼Œæ‰€ä»¥æœ‰ç‚¹å›°æƒ‘ã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438192,"discussion_content":"æ˜¯çš„ï¼Œåªæ˜¯è·å–æ•°æ®çš„æ—¶å€™ï¼Œä¸ä¼šå»è¯»æ•´è¡Œã€‚\n\nä½†æ˜¯æ²¡æœ‰ç´¢å¼•å°±ä¹Ÿåªèƒ½ç”¨BNLï¼Œå¯ä»¥explainçœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548922555,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64731,"user_name":"åŸ‹è‘¬","can_delete":false,"product_type":"c1","uid":1306646,"ip_address":"","ucode":"72BA350F06DAD0","user_header":"https://static001.geekbang.org/account/avatar/00/13/f0/16/3689aa6d.jpg","comment_is_top":false,"comment_ctime":1548894076,"is_pvip":false,"replies":[{"id":"22949","content":"è¿™45ç¯‡é‡Œé¢æ²¡æœ‰å®‰æ’ä¸“é—¨ç¯‡å¹…ä»‹ç»çš„äº†<br>å¦‚æœæœ‰é—®é¢˜æä¸€ä¸‹ï¼Œåé¢è¿˜æœ‰ä¸€æœŸç­”ç–‘æ–‡ç« å¯ä»¥çœ‹çœ‹æŠŠé—®é¢˜å±•å¼€è¯´æ˜å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548936980,"ip_address":"","comment_id":64731,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5843861372","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæƒ³é—®ä¸‹ï¼Œåé¢çš„è¯¾ç¨‹ä¸­ä¼šä¸ä¼šä»‹ç»åˆ°åˆ†åº“åˆ†è¡¨çš„çŸ¥è¯†ï¼Ÿå¾ˆæœŸå¾…ã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438151,"discussion_content":"è¿™45ç¯‡é‡Œé¢æ²¡æœ‰å®‰æ’ä¸“é—¨ç¯‡å¹…ä»‹ç»çš„äº†\nå¦‚æœæœ‰é—®é¢˜æä¸€ä¸‹ï¼Œåé¢è¿˜æœ‰ä¸€æœŸç­”ç–‘æ–‡ç« å¯ä»¥çœ‹çœ‹æŠŠé—®é¢˜å±•å¼€è¯´æ˜å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548936980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64645,"user_name":"â˜","can_delete":false,"product_type":"c1","uid":1302793,"ip_address":"","ucode":"6FAEF05F234D2A","user_header":"https://static001.geekbang.org/account/avatar/00/13/e1/09/9483f537.jpg","comment_is_top":false,"comment_ctime":1548840790,"is_pvip":false,"replies":[{"id":"22890","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548864036,"ip_address":"","comment_id":64645,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5843808086","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼š<br>        æ‚¨æœ€åé‚£ä¸ªä¾‹å­å¦‚æœå…³è”åˆ—æ˜¯æœ‰ç´¢å¼•çš„å‘¢ï¼Ÿå°±æ˜¯ä½¿ç”¨Index Nested-Loop Joinæ—¶ï¼Œå¦‚ä½•å¯¹æ¯”ç›¸å¯¹æ¥è¯´å“ªä¸ªæ˜¯å¤§è¡¨ï¼Œå“ªä¸ªæ˜¯å°è¡¨ï¼Œæ˜¯å¯¹æ¯”ä¸¤ä¸ªè¡¨é€šè¿‡whereæ¡ä»¶ç­›é€‰åçš„è¡Œæ•°ï¼Œå“ªä¸ªè¡Œæ•°å¤šå“ªä¸ªå°±æ˜¯å¤§è¡¨äº†ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438117,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548864036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64553,"user_name":"åº“æ·˜æ·˜","can_delete":false,"product_type":"c1","uid":1310240,"ip_address":"","ucode":"90813B0C46E978","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqibSwKPg7hiapc49qoM4dibhM3fYANPjfltF2ibBZ3dHX2hibjg5EIIcziahrmjO5R2XrcRibvU39TQS7jg/132","comment_is_top":false,"comment_ctime":1548819558,"is_pvip":false,"replies":[{"id":"23193","content":"cardinalityåªæ˜¯ä¸€ä¸ªè¾“å…¥ä¹‹ä¸€å“ˆ<br><br>å—¯å—¯ï¼ŒMySQLçš„ä¼˜åŒ–å™¨è¿˜ä¸æ˜¯å¾ˆå®Œå–„<br><br>æ–°æ˜¥å¿«ä¹~","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1549277001,"ip_address":"","comment_id":64553,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5843786854","product_id":100020801,"comment_content":"join å…³äºmysqlæœ¬èº«è‡ªåŠ¨ä¼˜åŒ–é—®é¢˜ï¼Œæµ‹è¯•ä¸¤ä¸ªè¡¨éƒ½ä¸º2ä¸‡è¡Œä¸€æ ·æ•°æ®ï¼Œè¿›è¡Œjoin<br>select t1.*,t2.b from t1 join t2 on(t1.b=t2.b); è®¾ç½®join_buffer_size ä¸åŒå€¼å¹¶ä¸èƒ½ä¿è¯æ‰§è¡Œè®¡åˆ’å®‰ç…§t2ä¸ºé©±åŠ¨è¡¨<br>alter table t1 MODIFY id varchar(1000);<br>è¿™æ ·ä¼šç›´æ¥å¯¼è‡´ç»Ÿè®¡ä¿¡æ¯ä¸­cardinality ä¿¡æ¯ä¼°ç®—å˜åŠ¨å¤§äº20000ï¼Œè¿™æ ·mysqlé©±åŠ¨è¡¨é€‰ä¸ºt2 ä¸ºæœ€ä¼˜ï¼Œ<br>å½“ä¸¤ä¸ªè¡¨cardinalityÂ éƒ½ä¸€æ ·æ—¶ ä¼šé€‰ç”¨join åœ¨å‰çš„è¡¨ä½œä¸ºé©±åŠ¨è¡¨ï¼Œ<br>å¾—åˆ°ç»“æœ mysqlæœ¬èº«ä¸ä¼šé€šè¿‡å»åˆ¤æ–­join_buffer_sizeÂ å¤§å°æ¥åˆ¤æ–­å°è¡¨ï¼Œéœ€è¦è‡ªå·±å»åˆ¤æ–­ä¼˜åŒ–ã€‚ä¹‹å‰ç†è§£è¿˜ä»¥ä¸ºmysqlèƒ½æœ‰æ‰€åˆ¤æ–­çœ‹æ¥æƒ³å¤šäº†","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438066,"discussion_content":"cardinalityåªæ˜¯ä¸€ä¸ªè¾“å…¥ä¹‹ä¸€å“ˆ\n\nå—¯å—¯ï¼ŒMySQLçš„ä¼˜åŒ–å™¨è¿˜ä¸æ˜¯å¾ˆå®Œå–„\n\næ–°æ˜¥å¿«ä¹~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549277001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64532,"user_name":"Ryoma","can_delete":false,"product_type":"c1","uid":1130590,"ip_address":"","ucode":"7F692369239692","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","comment_is_top":false,"comment_ctime":1548816124,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"5843783420","product_id":100020801,"comment_content":"å‰æï¼šå†·æ•°æ®è¡¨ &amp; å¤§è¡¨<br><br>buffer pool ä¸­çš„oldåŒºä¼šè¢«æŒç»­åˆ·æ–°ï¼Œå¹¶ä¸”åŸºæœ¬æ²¡æœ‰å‡çº§åˆ°youngåŒºçš„å¯èƒ½æ€§ã€‚<br>ä¸€å®šç¨‹åº¦ä¸Šä¼šé™ä½hit rate","like_count":1},{"had_liked":false,"id":64524,"user_name":"Dovelol","can_delete":false,"product_type":"c1","uid":1253384,"ip_address":"","ucode":"9B5DDF7720F307","user_header":"https://static001.geekbang.org/account/avatar/00/13/20/08/bc06bc69.jpg","comment_is_top":false,"comment_ctime":1548815342,"is_pvip":false,"replies":[{"id":"22841","content":"æˆ‘ä»¬æ–‡ä¸­è¯´çš„ï¼ŒBlock Nested-Loop Joinå°±å°½é‡ä¸è¦ç”¨ï¼›<br><br>ä¸‹ä¸€ç¯‡æ–‡ç« è¿˜æ˜¯å…³äºjoinä¼˜åŒ–çš„ï¼Œä¿æŒå…³æ³¨å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548818460,"ip_address":"","comment_id":64524,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5843782638","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæƒ³é—®ä¸€ä¸‹ï¼Œæ— è®ºå“ªç§æŸ¥è¯¢ï¼Œå…ˆä»å°è¡¨ä¸­æŸ¥åˆ°å›ºå®šè®°å½•ï¼Œç„¶åæ ¹æ®è¿™äº›æ•°æ®å¾ªç¯ç”¨å¤šçº¿ç¨‹å»joinè¡¨ä¸­æŸ¥è¯¢ï¼Œè¿™ç§åˆ©ç”¨å¤šçº¿ç¨‹å¾ªç¯åµŒå¥—æŸ¥è¯¢çš„æ–¹æ³•å’Œmysqlç›´æ¥joinä¸€æ¡è¯­å¥æŸ¥è¯¢åœ¨ä¸Šé¢å‡ ç§sqlæƒ…å†µä¸‹å¯¹æ¯”å¦‚ä½•å‘¢ï¼Ÿä»€ä¹ˆæ—¶å€™ç”¨å¤šçº¿ç¨‹å¾ªç¯æŸ¥è¯¢æ•ˆç‡ä¼šæ›´é«˜å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438047,"discussion_content":"æˆ‘ä»¬æ–‡ä¸­è¯´çš„ï¼ŒBlock Nested-Loop Joinå°±å°½é‡ä¸è¦ç”¨ï¼›\n\nä¸‹ä¸€ç¯‡æ–‡ç« è¿˜æ˜¯å…³äºjoinä¼˜åŒ–çš„ï¼Œä¿æŒå…³æ³¨å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548818460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351155,"user_name":"Fan","can_delete":false,"product_type":"c1","uid":1115232,"ip_address":"","ucode":"3BF28670FD9407","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","comment_is_top":false,"comment_ctime":1657558016,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1657558016","product_id":100020801,"comment_content":"Left join on whereæ¡ä»¶ å¤šå¯¹å¤šæƒ…å†µçš„æ‰§è¡Œæµç¨‹æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ","like_count":1},{"had_liked":false,"id":350223,"user_name":"ä¸œæ³½","can_delete":false,"product_type":"c1","uid":2770660,"ip_address":"","ucode":"7B621B43909E07","user_header":"https://static001.geekbang.org/account/avatar/00/2a/46/e4/0860c82f.jpg","comment_is_top":false,"comment_ctime":1656670165,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1656670165","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¦‚æœjoinçš„è¢«é©±åŠ¨è¡¨æ˜¯ä¸€ä¸ªå­æŸ¥è¯¢ï¼Œè¿™ç§æƒ…å†µæ€ä¹ˆåˆ†æã€‚","like_count":0},{"had_liked":false,"id":348109,"user_name":"powerful","can_delete":false,"product_type":"c1","uid":3003648,"ip_address":"","ucode":"621D21D2FC5D21","user_header":"https://static001.geekbang.org/account/avatar/00/2d/d5/00/5f328909.jpg","comment_is_top":false,"comment_ctime":1654747601,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654747601","product_id":100020801,"comment_content":"æ‚¨å¥½è€å¸ˆï¼Œæˆ‘æƒ³è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘åœ¨ç½‘ä¸Šäº†è§£åˆ°MySQL8.0.20ç‰ˆæœ¬ä»¥åå°±åºŸé™¤äº†Block Nested-Loop Joinç®—æ³•ï¼Œæ‰€æœ‰è¢«é©±åŠ¨è¡¨ä¸èƒ½ä½¿ç”¨ç´¢å¼•çš„joinéƒ½ä½¿ç”¨HASH Joinç®—æ³•ã€‚<br>å¹¶ä¸”æˆ‘è¿˜äº†è§£åˆ°HASH Joinä¹Ÿæ˜¯ä¾èµ–join_bufferçš„ä¹Ÿæ˜¯å°†é©±åŠ¨è¡¨çš„æ•°æ®åŠ è½½åˆ°join_bufferå¦‚æœï¼Œjoin_bufferä¸èƒ½ä¸€æ¬¡æ€§å­˜å‚¨æ‰€æœ‰çš„é©±åŠ¨è¡¨ä¸­çš„æ•°æ®è¿›è¡Œåˆ†æ‰¹åŠ è½½ï¼Œç„¶åè¢«é©±åŠ¨è¡¨è¿›è¡Œå¤šæ¬¡joinã€‚<br>ä¸çŸ¥é“æˆ‘ä»¥ä¸Šçš„ç†è§£æ˜¯å¦æ­£ç¡®ã€‚<br>æˆ‘ç–‘æƒ‘çš„ç‚¹åœ¨äºHASH Join æ¯” Block Nested-Loop Joinä¼˜ç§€åœ¨å“ªäº›åœ°æ–¹ã€‚<br>å¸Œæœ›è€å¸ˆèƒ½æŠ½æ—¶é—´æŒ‡ç‚¹ä¸€ä¸‹ã€‚","like_count":0},{"had_liked":false,"id":348015,"user_name":"prader26","can_delete":false,"product_type":"c1","uid":1433707,"ip_address":"","ucode":"5EFFFC374ADECE","user_header":"https://static001.geekbang.org/account/avatar/00/15/e0/6b/f61d7466.jpg","comment_is_top":false,"comment_ctime":1654667834,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1654667834","product_id":100020801,"comment_content":"joinå°½é‡ä½¿ç”¨å°è¡¨åšé©±åŠ¨è¡¨ã€‚","like_count":0},{"had_liked":false,"id":346113,"user_name":"LIU","can_delete":false,"product_type":"c1","uid":1324845,"ip_address":"","ucode":"CB8BAB022F5B9F","user_header":"","comment_is_top":false,"comment_ctime":1652844505,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652844505","product_id":100020801,"comment_content":"æœ‰æ”¶è·","like_count":0},{"had_liked":false,"id":344704,"user_name":"äºšæ—","can_delete":false,"product_type":"c1","uid":1018972,"ip_address":"","ucode":"4A5A6D24314B79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/5c/3f164f66.jpg","comment_is_top":false,"comment_ctime":1651731741,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651731741","product_id":100020801,"comment_content":"explain select * from t1 straight_join t2 on (t1.a=t2.b);<br>è¯­å¥åœ¨MySQL8ä¸­å˜æˆäº†hash join","like_count":0},{"had_liked":false,"id":342198,"user_name":"å°†å¿ƒæ¯”å¿ƒ","can_delete":false,"product_type":"c1","uid":2867136,"ip_address":"","ucode":"B58A65CBD875CD","user_header":"","comment_is_top":false,"comment_ctime":1650098536,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650098536","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘å°†join_buffer_size æ”¹å°ä»¥åexplainå‡ºæ¥çš„ç»“æœè¢«é©±åŠ¨è¡¨æ‰«æçš„è¡Œæ•°æ²¡æœ‰å˜å¤šå‘¢ï¼Ÿ<br>éš¾é“å»è¢«é©±åŠ¨è¡¨æ‰¾çš„æ—¶å€™ä¸æ˜¯è¿›è¡Œçš„å…¨è¡¨æ‰«æå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":341477,"user_name":"Geek_82640c","can_delete":false,"product_type":"c1","uid":1933794,"ip_address":"","ucode":"A69C2D502A27D0","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJjiaBHJyfAKK3lAdX62MveJHoPb4V6zE6jhPa3cjdBv7owc53aBHbNf3pibOsbciccSwichwiaR4m5nAQ/132","comment_is_top":false,"comment_ctime":1649652001,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649652001","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå¦‚æœä¸ç”¨joinæ”¹ä¸ºç”¨inæŸ¥è¯¢ï¼Œæ˜¯å¦å°±ä¸ä¼šå¤š100æ¬¡äº¤äº’ï¼Œè€Œåªæ˜¯å¤šäº†ä¸€æ¬¡æŸ¥è¯¢äº¤äº’","like_count":0},{"had_liked":false,"id":341189,"user_name":"ub8","can_delete":false,"product_type":"c1","uid":1481811,"ip_address":"","ucode":"0D937C3EAEB781","user_header":"https://static001.geekbang.org/account/avatar/00/16/9c/53/ade0afb0.jpg","comment_is_top":false,"comment_ctime":1649410311,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649410311","product_id":100020801,"comment_content":"æ€»ç»“ä¸‹ï¼š æ•°æ®åº“æ“ä½œæŸ¥è¯¢ä¸­ä¸ºä»€ä¹ˆä¸èƒ½ç”¨joinæ“ä½œ <br>æƒ…å†µ1 ï¼š aè¡¨bè¡¨çš„ join é“¾æ¥æ¡ä»¶éƒ½æœ‰ç´¢å¼•ï¼Œåœ¨ç´¢å¼•å†…å­˜ä¸­è¿›è¡Œæ¯”è¾ƒæ“ä½œï¼Œç”¨å°è¡¨æŸ¥è¯¢å¤§è¡¨çš„ç´¢å¼•æ‰€åœ¨çš„è¡Œåšå…³è”ï¼Œç”Ÿæˆç»“æœæ•°æ®ã€‚<br>æƒ…å†µ2ï¼šaè¡¨bè¡¨çš„join è¿æ¥æ¡ä»¶ä¸­å­˜åœ¨æ²¡æœ‰ç´¢å¼•çš„å­—æ®µï¼Œ éœ€è¦åœ¨å†…å­˜ä¸­æ‹·è´é©±åŠ¨è¡¨ï¼ˆa&#47;bï¼‰ç„¶åé€šè¿‡ å†…å­˜ä¸­çš„è¡¨ ä¸å¦ä¸€å¼ è¡¨è¿›è¡Œæ‰«è¡¨æœç´¢æ“ä½œã€‚<br>ä¸¤ç§æƒ…å†µéƒ½ä¼šå°†å‹åŠ›é‡Šæ”¾åˆ°æ•°æ®åº“ä¸­ï¼Œåœ¨ä¸šåŠ¡ç³»ç»Ÿä¸­æ˜¯ä¸€å®šè¦æœç»joinæ“ä½œçš„ã€‚","like_count":0},{"had_liked":false,"id":335805,"user_name":"Geek_73f003","can_delete":false,"product_type":"c1","uid":2291422,"ip_address":"","ucode":"60EFB4F211B777","user_header":"","comment_is_top":false,"comment_ctime":1645695399,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645695399","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¯¹äºç›¸å¯¹å°çš„è¡¨è¿™é‡Œæˆ‘æœ‰ç–‘é—®<br>select * from t1 straight_join t2 on (t1.b=t2.b) where t2.id&lt;=50;<br>ä¹‹å‰äº†è§£è¿‡onå’Œwhereçš„åŒºåˆ«ï¼š<br>- on æ¡ä»¶æ˜¯åœ¨ç”Ÿæˆä¸´æ—¶è¡¨æ—¶ä½¿ç”¨çš„æ¡ä»¶ï¼›<br>- where æ¡ä»¶æ˜¯åœ¨ä¸´æ—¶è¡¨ç”Ÿæˆå¥½åï¼Œå†å¯¹ä¸´æ—¶è¡¨è¿›è¡Œè¿‡æ»¤çš„æ¡ä»¶ï¼›<br>æ‰€ä»¥æˆ‘è‡ªå·±çš„ç†è§£å°±æ˜¯whereçš„æ¡ä»¶é™åˆ¶ä¸ä¼šå½±å“joinè¿‡ç¨‹ä¸­çš„è¡Œæ•°å§ï¼Œå› ä¸ºæ‰§è¡Œwhereçš„æ—¶å€™ï¼Œjoinå·²ç»å®Œæˆäº†å§ï¼Œè€å¸ˆæ€ä¹ˆçœ‹å–ï¼Ÿ","like_count":0},{"had_liked":false,"id":334773,"user_name":"æ•°å­¦æ±¤å®¶å‡¤","can_delete":false,"product_type":"c1","uid":2029485,"ip_address":"","ucode":"DE84E777C384AD","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f7/ad/4fd4d867.jpg","comment_is_top":false,"comment_ctime":1645108178,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1645108178","product_id":100020801,"comment_content":"è®¾ A é©±åŠ¨è¡¨ï¼ŒB è¢«é©±åŠ¨è¡¨<br>åˆ™æœ‰ï¼š<br>1. A èµ°å…¨è¡¨æ‰«æï¼Œæ­¤æ—¶æ˜¯ N çº§å¤æ‚åº¦<br>2. B æœ‰ç´¢å¼•æ—¶ï¼Œèµ°ç´¢å¼•ï¼Œæ­¤æ—¶æ˜¯ logN çº§å¤æ‚åº¦<br>3. B æ— ç´¢å¼•æ—¶ï¼Œèµ°å…¨è¡¨æ‰«æã€‚<br>4. join buff å¤Ÿï¼ŒA å…¨éƒ¨è¿›å…¥å†…å­˜<br>5.  join buff ä¸å¤Ÿï¼Œåˆ™ A åˆ†æ‰¹è¯»å…¥å†…å­˜ã€‚<br>ç”± 1ã€2 å¯å¾—ï¼ŒA æ¯” B å°æ—¶æ”¶ç›Šæ›´æ˜æ˜¾ã€‚<br>å› ä¸ºè¡¨å°ï¼Œæ‰€ä»¥åˆ†æ‰¹ä»ç£ç›˜è¿›å†…å­˜çš„ IO æ¬¡æ•°å°‘ï¼Œå¼€é”€æ›´ä½ï¼Œæ‰€ä»¥å¯ç”± 4ã€5 å¾— A è¶Šå°è¶Šå¥½ã€‚<br>ç»¼ä¸Šï¼Œé€‰å°è¡¨ä½œä¸ºé©±åŠ¨è¡¨ä¼šæ›´ä¼˜ã€‚","like_count":0},{"had_liked":false,"id":333576,"user_name":"å°å¦–","can_delete":false,"product_type":"c1","uid":1730626,"ip_address":"","ucode":"49C01DBFADF101","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJvm1JYIDcS74s4cEYxA1PXMqjortVXEjUKyGQcPvibNJ4EAuksIa6uoHgr6G1yRqAM2KtP3yicKgTA/132","comment_is_top":false,"comment_ctime":1644410043,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1644410043","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘ä»¬çš„mysqlä½¿ç”¨è§„èŒƒæ˜¯è¦æ±‚ä¸å…è®¸åœ¨ç¨‹åºè°ƒç”¨ä¸­ä½¿ç”¨joinç­‰å¤šè¡¨æŸ¥è¯¢è¯­å¥çš„ï¼Œæˆ‘èƒ½æƒ³åˆ°åŸå› å¦‚ä¸‹ï¼š<br>1.é˜²æ­¢æŸä¸ªsqlé•¿æ—¶é—´å ç”¨æ•°æ®åº“è¿æ¥ï¼›<br>2.æ•°æ®åº“è¿æ¥æ± å¯¹äºé«˜é¢‘ç‡æŸ¥è¯¢å»ºç«‹è¿æ¥çš„æˆæœ¬å¤§å¤§é™ä½ï¼›<br>3.é˜²æ­¢ä½¿ç”¨ä¸è§„èŒƒå¯¼è‡´çš„é•¿æ—¶é—´é”å ç”¨","like_count":0},{"had_liked":false,"id":330335,"user_name":"Geek_a0b00e","can_delete":false,"product_type":"c1","uid":2849772,"ip_address":"","ucode":"6509CABE634F40","user_header":"","comment_is_top":false,"comment_ctime":1641916173,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641916173","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‰«æè¡Œæ•°çš„æ¦‚å¿µæ˜¯æŒ‡çš„æŠŠæ¯è¡Œæ•°æ®è¯»å…¥å†…å­˜çš„æ¬¡æ•°å—","like_count":0},{"had_liked":false,"id":327472,"user_name":"å°å¼º","can_delete":false,"product_type":"c1","uid":1115935,"ip_address":"","ucode":"FA0F0EFBCF0E87","user_header":"https://static001.geekbang.org/account/avatar/00/11/07/1f/a8ba292c.jpg","comment_is_top":false,"comment_ctime":1640142358,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640142358","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆæˆ‘ä½¿ç”¨explain select * from t1 straight_join t2 on (t1.a=t2.a); ä¹‹åçœ‹åˆ°çš„ç»“æœt2è¡¨çš„rowsæ˜¯500 è€Œæ–‡ç¨¿ä¸­æ˜¯1","like_count":0},{"had_liked":false,"id":324041,"user_name":"SoLonG","can_delete":false,"product_type":"c1","uid":2084247,"ip_address":"","ucode":"337021FABE4D3B","user_header":"","comment_is_top":false,"comment_ctime":1638269463,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638269463","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œç±»ä¼¼è¿™ç§å¤šä¸ªæŸ¥è¯¢ç»“æœé—´åšjoinæŸ¥è¯¢ï¼Œè¿™äº›ä¸­é—´æŸ¥è¯¢ç»“æœï¼Œéƒ½æ˜¯åœ¨join_bufferä¸Šçš„å—ï¼Ÿè¿™ç§æƒ…å†µèƒ½æ€ä¹ˆä¼˜åŒ–å‘¢ï¼Ÿ<br>select from a  left join (select b.id from b ) as table1 <br>on a.id=table1.id <br>left join <br>(select c.id from c) as table2 on a.id=table2.id<br><br>","like_count":0},{"had_liked":false,"id":322279,"user_name":"é€—ä½ ç©ğŸ˜„","can_delete":false,"product_type":"c1","uid":1030242,"ip_address":"","ucode":"2E6309586B0363","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b8/62/60937bbd.jpg","comment_is_top":false,"comment_ctime":1637287579,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637287579","product_id":100020801,"comment_content":"æ„Ÿè°¢è€å¸ˆçš„è¿™ç¯‡æ–‡ç« ï¼Œå·®ç‚¹è¿ˆä¸è¿‡è¿™ä¸ªåã€‚æ”¹äº†join_bufferçš„å€¼ï¼ŒæŸ¥è¯¢ä¹‹å‰ç«Ÿç„¶è¶…è¿‡äº†500s","like_count":0},{"had_liked":false,"id":321295,"user_name":"å¼ å¤§å±€","can_delete":false,"product_type":"c1","uid":2760501,"ip_address":"","ucode":"9F83EB9606EAEB","user_header":"https://static001.geekbang.org/account/avatar/00/2a/1f/35/569e02f8.jpg","comment_is_top":false,"comment_ctime":1636766492,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"1636766492","product_id":100020801,"comment_content":"æ–‡ç« å†…å®¹ï¼šjoin_buffer_size è¶Šå¤§ï¼Œä¸€æ¬¡å¯ä»¥æ”¾å…¥çš„è¡Œè¶Šå¤šï¼Œåˆ†æˆçš„æ®µæ•°ä¹Ÿå°±è¶Šå°‘ï¼Œå¯¹è¢«é©±åŠ¨è¡¨çš„å…¨è¡¨æ‰«ææ¬¡æ•°å°±è¶Šå°‘ã€‚<br>è¯·é—®ï¼šä¸ºä»€ä¹ˆâ€œå¯¹è¢«é©±åŠ¨è¡¨çš„å…¨è¡¨æ‰«ææ¬¡æ•°å°±è¶Šå°‘â€ã€‚","like_count":0,"discussions":[{"author":{"id":3007210,"avatar":"","nickname":"Geek_a1699c","note":"","ucode":"CF7DB00BE36B77","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577345,"discussion_content":"join_bufferåªå­˜æ”¾äº†é©±åŠ¨è¡¨çš„æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656042657,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3007210,"avatar":"","nickname":"Geek_a1699c","note":"","ucode":"CF7DB00BE36B77","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577344,"discussion_content":"å› ä¸ºå®ƒä¼šå°†é©±åŠ¨è¡¨çš„æ¯ä¸€æ®µå»å’Œè¢«é©±åŠ¨è¡¨çš„æ‰€æœ‰æ•°æ®è¿›è¡Œå¯¹æ¯”ï¼Œé©±åŠ¨è¡¨çš„æ®µæ•°è¶Šå°‘ï¼Œè‡ªç„¶è¢«é©±åŠ¨è¡¨çš„å…¨è¡¨æ‰«ææ¬¡æ•°å°±è¶Šå°‘äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656042631,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320596,"user_name":"å…‹é‡Œæ–¯","can_delete":false,"product_type":"c1","uid":1181844,"ip_address":"","ucode":"00B755C10AC1C3","user_header":"https://static001.geekbang.org/account/avatar/00/12/08/94/2c22bd4e.jpg","comment_is_top":false,"comment_ctime":1636417900,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1636417900","product_id":100020801,"comment_content":"join è¯­å¥çš„ä¼˜åŠ¿æ ¸å¿ƒæ˜¯è®¡ç®—å‘æ•°æ®ç§»åŠ¨.<br>ä½¿ç”¨joinçš„ä¼˜åŠ¿å¢åŠ äº†æœ¬å®¢æˆ·ç«¯çš„ååé‡,æ¯æ¬¡è¿æ¥çš„ä¼ è¾“æ•°æ®å˜å¤šäº†,<br>ä½†æ˜¯å¯¹mysqlæœåŠ¡å™¨æ¥è¯´,å¯ä¸æ˜¯ä¼˜åŠ¿,å½“æˆ‘ä»¬è¯´ä¼˜åŒ–æ—¶,ä¸€èˆ¬æŒ‡çš„ä¼˜åŒ–mysqlæœåŠ¡å™¨<br>è€Œä¸æ˜¯å®¢æˆ·ç«¯,å› æ­¤joinçš„ç¡®åº”è¯¥é¿å…","like_count":0},{"had_liked":false,"id":320368,"user_name":"é™ˆæ–Œ","can_delete":false,"product_type":"c1","uid":1367048,"ip_address":"","ucode":"B639AB5F6AA03D","user_header":"https://static001.geekbang.org/account/avatar/00/14/dc/08/64f5ab52.jpg","comment_is_top":false,"comment_ctime":1636278852,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1636278852","product_id":100020801,"comment_content":"é€šè¿‡ Left Join ON è”åˆå¤šä¸ªè¡¨ ä¸ where çš„æ–¹å¼ç›´æ¥è”åˆå¤šä¸ªè¡¨æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Œå¦‚æœè”åˆçš„è¡¨å¤ªå¤šäº†ï¼Œä»€ä¹ˆæ–¹æ³•ä¼˜åŒ–å®ƒå—ï¼Ÿ<br><br>ä¸‹é¢ä¸¤ä¸ªè¯­å¥ï¼ŒMysqlæ‰§è¡Œèµ·æ¥æœ‰ä»€ä¹ˆå·®åˆ«å—ï¼Œä¼šä¸ä¼šå­˜åœ¨é‚£ä¸ªæ€§èƒ½æ›´å¥½çš„æƒ…å†µï¼Ÿ<br>select * from t1 left join t2 on t1.id=t2.id left join t3 on t2.id=t3.id;<br>select * from t1,t2,t3 where t1.id=t2.id and t2.id=t3.id","like_count":0},{"had_liked":false,"id":320364,"user_name":"é™ˆæ–Œ","can_delete":false,"product_type":"c1","uid":1367048,"ip_address":"","ucode":"B639AB5F6AA03D","user_header":"https://static001.geekbang.org/account/avatar/00/14/dc/08/64f5ab52.jpg","comment_is_top":false,"comment_ctime":1636277768,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1636277768","product_id":100020801,"comment_content":"EXPLAIN SELECT<br>\tD.team_id &#39;å›¢é˜Ÿè´¦å·&#39;,<br>\tA.product_id &#39;é¡¹ç›®ID&#39;,<br>\tA.data_view_id &#39;app_id&#39;,<br>\tF.NAME &#39;åº”ç”¨åç§°&#39;,<br>\tE.`value` &#39;åº”ç”¨åŒ…å&#39;,<br>\tG.product_param_value &#39;æ˜¯å¦å¼€å¯æ•°æ®å…±äº«å¼€å…³&#39; <br>FROM<br>\tr_openness_product_dataview_spec A,<br>\tt_product_queue B,<br>\tt_resource_properties_spec C,<br>\tt_product_protocol D,<br>\tt_dataview_param_spec E,<br>\tt_dataview_spec F,<br>\tt_openness_product_param_spec G <br>WHERE\t<br>    A.product_id = B.product_id <br>\tAND B.property_id = C.resource_id <br>\tAND C.resource_name = D.team_id <br>\tAND D.controller_protocol_flag = &#39;true&#39; <br>\tAND D.team_id NOT IN ( &#39;70086000336323333&#39;, &#39;70086000329262562&#39;, &#39;2850086000375935591&#39; ) <br>\tAND E.dataview_id = A.data_view_id <br>\tAND E.param_key = &#39;packageName&#39; <br>\tAND E.dataview_id = F.id <br>\tAND A.product_id = G.product_id <br>\tAND G.product_param_key = &#39;dataControlFlag&#39;;<br><br>æˆ‘è¿™ä¸ªè¯­å¥æ€ä¹ˆä¼˜åŒ–ï¼Œç°ç½‘æ‰§è¡Œè¶…è¿‡1åˆ†é’Ÿã€‚<br><br>1\tSIMPLE\tD\t\tALL\t\t\t\t\t179\t7.00\tUsing where<br>1\tSIMPLE\tC\t\tALL\t\t\t\t\t211\t10.00\tUsing where; Using join buffer (Block Nested Loop)<br>1\tSIMPLE\tA\t\tALL\tuk_dataviewid_status\t\t\t\t5254\t100.00\tUsing where; Using join buffer (Block Nested Loop)<br>1\tSIMPLE\tB\t\teq_ref\tuk_productid\tuk_productid\t768\tmacaw_openness.A.product_id\t1\t10.00\tUsing index condition; Using where<br>1\tSIMPLE\tE\t\tref\tidx_appid\tidx_appid\t768\tmacaw_openness.A.data_view_id\t6\t10.00\tUsing where<br>1\tSIMPLE\tF\t\teq_ref\tPRIMARY\tPRIMARY\t767\tmacaw_openness.A.data_view_id\t1\t100.00\t<br>1\tSIMPLE\tG\t\tref\tuk_productid,ind_productid\tind_productid\t768\tmacaw_openness.A.product_id\t11\t10.00\tUsing where","like_count":0},{"had_liked":false,"id":312138,"user_name":"Carter","can_delete":false,"product_type":"c1","uid":1030842,"ip_address":"","ucode":"1FD476D8F2BE27","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ba/ba/83de3488.jpg","comment_is_top":false,"comment_ctime":1631638424,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631638424","product_id":100020801,"comment_content":"æˆ‘è§‰å¾—ï¼ŒBNLä¸­ï¼Œæ”¾å…¥join_bufferçš„æ•°æ®ï¼Œå¯ä»¥ç”¨hashtableä¼˜åŒ–ï¼Œæ—¶é—´å¤æ‚åº¦å¯ä»¥é™ä½åˆ°O(m+n)ã€‚","like_count":0},{"had_liked":false,"id":309560,"user_name":"zhaozhenghao","can_delete":false,"product_type":"c1","uid":2147986,"ip_address":"","ucode":"C5BE62E1564C2A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoCiaPAJnEO3PYLSR6nw5jCSic0tjSfL73OtJh7zOqmL2QewkIeERL6cyYtynQDB8l6ueGBlibH2WYvA/132","comment_is_top":false,"comment_ctime":1630231512,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630231512","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæƒ³é—®ä¸‹joinè¯­å¥é‡Œé¢æœ‰ on å’Œ whereï¼Œwhereæ¡ä»¶æ˜¯ä»€ä¹ˆæ—¶åˆ»æ‰§è¡Œçš„","like_count":0},{"had_liked":false,"id":309286,"user_name":"æ¾","can_delete":false,"product_type":"c1","uid":1938214,"ip_address":"","ucode":"327DF555AB9E7B","user_header":"https://static001.geekbang.org/account/avatar/00/1d/93/26/df549718.jpg","comment_is_top":false,"comment_ctime":1630031952,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630031952","product_id":100020801,"comment_content":"è¿˜æœ‰æˆ‘ä»¬ä¸èƒ½ç”¨join è¯­å¥çš„æ—¶å€™æ˜¯å¯¹ä»è¡¨ ç”¨IN  è¯­å¥ ã€‚å†åœ¨ä¸šåŠ¡ä»è¿›è¡Œæ‹¼æ¥ã€‚è¿™æ ·æŸ¥è¯¢çš„æ¬¡æ•°å°±åªæœ‰ä¸¤æ¬¡ã€‚","like_count":0},{"had_liked":false,"id":309283,"user_name":"æ¾","can_delete":false,"product_type":"c1","uid":1938214,"ip_address":"","ucode":"327DF555AB9E7B","user_header":"https://static001.geekbang.org/account/avatar/00/1d/93/26/df549718.jpg","comment_is_top":false,"comment_ctime":1630031588,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630031588","product_id":100020801,"comment_content":"æˆ‘çš„ç†è§£æ˜¯æŸ¥è¯¢å‡ºæ¥ç¬¦åˆæ¡ä»¶å°‘çš„è¡¨åšä¸»è¡¨ã€‚å³ä½¿è¡¨2 è¡Œæ•°æ¯”è¾ƒå¤š10ä¸‡è¡Œï¼Œç¬¦åˆæ¡ä»¶çš„ æ¯”è¾ƒå°‘æ˜¯100 è¡Œã€‚è¡¨1 è¡Œæ•°æ¯”è¾ƒå°‘1wè¡Œï¼Œç¬¦åˆæ¡ä»¶çš„æ¯”è¾ƒå¤š1000 è¡Œã€‚ è¿™æ ·Nå’ŒM çš„å¤§å°å°±äº’æ¢äº†ã€‚","like_count":0},{"had_liked":false,"id":308923,"user_name":"Leo","can_delete":false,"product_type":"c1","uid":2649276,"ip_address":"","ucode":"CEBAD9CDCFC2A3","user_header":"https://static001.geekbang.org/account/avatar/00/28/6c/bc/f751786b.jpg","comment_is_top":false,"comment_ctime":1629862657,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629862657","product_id":100020801,"comment_content":"çœ‹åˆ°è¯„è®ºä¸­ï¼šleft join &#47; right join ä¸ä¸€å®šä¼šå›ºå®šé©±åŠ¨è¡¨ï¼Œä½†æ›´å€¾å‘äºè¯­ä¹‰çš„é€»è¾‘æ¥ç¡®å®šé©±åŠ¨è¡¨ï¼Œè¿™ç‚¹æˆ‘è®°ä¸‹æ¥äº†ï¼›<br><br>é—®é¢˜ï¼š BNLç®—æ³•ä¸­ï¼Œä¸€å®šæ˜¯é©±åŠ¨è¡¨å…¥join bufferå—ï¼Ÿ æœ‰æ²¡æœ‰å¯èƒ½æ˜¯è¢«é©±åŠ¨è¡¨è¿›join bufferå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":306990,"user_name":"æ›¾ç¥¥é‡‘","can_delete":false,"product_type":"c1","uid":2362279,"ip_address":"","ucode":"CBBB7FC1EA00D6","user_header":"","comment_is_top":false,"comment_ctime":1628819398,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628819398","product_id":100020801,"comment_content":"è¿æ¥æŸ¥è¯¢onæ¡ä»¶å’Œwhereåé¢çš„æ¡ä»¶æ‰§è¡Œé¡ºåºæ˜¯æ€æ ·çš„ï¼Ÿæ˜¯å…ˆç”¨onåé¢çš„æ¡ä»¶è¿æ¥è¡¨ï¼Œç„¶åå†ç”¨whereè¿‡æ»¤ç»“æœå—ï¼Ÿç¢°åˆ°è¿‡ä¸€ä¸ªé¢è¯•é¢˜ï¼šselect * from a inner join b on a.id = b.id å’Œ select * from a,b where a.id = b.id æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå“ªä¸ªæ›´ä¼˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":305194,"user_name":"å°˜","can_delete":false,"product_type":"c1","uid":1244251,"ip_address":"","ucode":"2C71FBCED5BFE6","user_header":"https://static001.geekbang.org/account/avatar/00/12/fc/5b/caa6a2a6.jpg","comment_is_top":false,"comment_ctime":1627873430,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1627873430","product_id":100020801,"comment_content":"è€å¸ˆï¼Œjoinçš„æ—¶å€™ï¼Œå¦‚æœæœ‰whereæ¡ä»¶ï¼Œæ˜¯å…ˆjoinï¼Œç„¶åå†æ ¹æ®whereæ¡ä»¶ä»joinç»“æœä¸­ç­›é€‰å‡ºæ•°æ®ï¼Œè¿˜æ˜¯ä¸¤ä¸ªè¡¨å„è‡ªæ ¹æ®whereæ¡ä»¶å…ˆç­›é€‰å‡ºæ•°æ®å†joinçš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":301378,"user_name":"é’é›˜","can_delete":false,"product_type":"c1","uid":2687278,"ip_address":"","ucode":"29D71967CA90F0","user_header":"https://static001.geekbang.org/account/avatar/00/29/01/2e/5d3d4b86.jpg","comment_is_top":false,"comment_ctime":1625651453,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625651453","product_id":100020801,"comment_content":"è¯¾ç¨‹çœŸæ˜¯å¤ªç¡¬æ ¸äº† ç›®å‰ç¡®å®šè‡ªå·±çœŸçš„åªä¼šä¸€äº›ç®€å•çš„å¢åˆ æ”¹æŸ¥","like_count":0},{"had_liked":false,"id":299232,"user_name":"spuryin","can_delete":false,"product_type":"c1","uid":1221753,"ip_address":"","ucode":"17474DCB7D293D","user_header":"https://static001.geekbang.org/account/avatar/00/12/a4/79/35ab3a19.jpg","comment_is_top":false,"comment_ctime":1624520925,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624520925","product_id":100020801,"comment_content":"select * from t1 straight_join t2 on (t1.a=t2.b); è¿™é‡Œç›´æ¥æ‰«æt2çš„æ•°æ®å»t1æŸ¥è¯¢ä¸è¡Œå—ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦æŠŠt1çš„æ•°æ®å†™å…¥join_buffer?<br><br>å¦‚æœæ˜¯select * from t1 straight_join t2 on (t1.b=t2.a),å¥½åƒå°±ä¸éœ€è¦join_bufferäº†ï¼Ÿ<br><br>æœ¬è´¨ä¸Šè¿˜æ˜¯å…ˆç¡®å®šé©±åŠ¨è¡¨ï¼Œå¦‚æœè¢«é©±åŠ¨è¡¨èµ°ç´¢å¼•å°±æ˜¯INL,å¦‚æœæ²¡æœ‰ç´¢å¼•å°±æ˜¯NJL,ä¸ç®¡é©±åŠ¨è¡¨èµ°ä¸èµ°ç´¢å¼•?","like_count":0},{"had_liked":false,"id":291933,"user_name":"é˜¿ç”˜","can_delete":false,"product_type":"c1","uid":1057843,"ip_address":"","ucode":"BC93175B70E05D","user_header":"https://static001.geekbang.org/account/avatar/00/10/24/33/bcf37f50.jpg","comment_is_top":false,"comment_ctime":1620614991,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1620614991","product_id":100020801,"comment_content":"å…‰æ˜¯è¿™ç¯‡æ–‡ç« å°±å€¼è¿™ä¸ªè¯¾ç¨‹ä»·æ ¼äº†","like_count":0},{"had_liked":false,"id":288352,"user_name":"äºŒå§","can_delete":false,"product_type":"c1","uid":2290089,"ip_address":"","ucode":"3451748DE3895F","user_header":"","comment_is_top":false,"comment_ctime":1618418119,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618418119","product_id":100020801,"comment_content":"è¿™ä¸ªç³»åˆ—æ–‡ç« å†™çš„çœŸçš„å¥½","like_count":0},{"had_liked":false,"id":287811,"user_name":"magicpillå……å®è‡ªå·±","can_delete":false,"product_type":"c1","uid":2095397,"ip_address":"","ucode":"F768CE6C41A3E4","user_header":"https://static001.geekbang.org/account/avatar/00/1f/f9/25/0db8975f.jpg","comment_is_top":false,"comment_ctime":1618155804,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1618155804","product_id":100020801,"comment_content":"æ—¶åˆ»å……å®è‡ªå·±","like_count":0},{"had_liked":false,"id":287035,"user_name":"å¹³å‡¡ä¹‹è·¯","can_delete":false,"product_type":"c1","uid":1669273,"ip_address":"","ucode":"96CE12339BD5FD","user_header":"https://static001.geekbang.org/account/avatar/00/19/78/99/6060eb2d.jpg","comment_is_top":false,"comment_ctime":1617754189,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617754189","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæ‚¨è®²çš„éå¸¸å¥½ï¼Œèƒ½è®²ä¸‹å¤šè¡¨joinçš„é€»è¾‘å—ï¼ŸæœŸå¾…ã€‚","like_count":0},{"had_liked":false,"id":285917,"user_name":"å­¤å‚²çš„è™ç‹","can_delete":false,"product_type":"c1","uid":2536451,"ip_address":"","ucode":"FE9B90D6EEBAFB","user_header":"https://static001.geekbang.org/account/avatar/00/26/b4/03/677fd301.jpg","comment_is_top":false,"comment_ctime":1617073978,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617073978","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘ç°åœ¨å®ä¹ æœŸé—´æ¥å—çš„ä»£ç æ€»æ˜¯æœ‰å››äº”ä¸ªjoinè¿ç”¨çš„æƒ…å†µï¼Œè¯·é—®è¿™ç§æƒ…å†µæœ‰ä»€ä¹ˆä¼˜åŒ–çš„æ€è·¯å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":285503,"user_name":"å»–æ¹˜æµ©","can_delete":false,"product_type":"c1","uid":2398705,"ip_address":"","ucode":"F418D8195E08A3","user_header":"https://static001.geekbang.org/account/avatar/00/24/99/f1/1fcea152.jpg","comment_is_top":false,"comment_ctime":1616848506,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616848506","product_id":100020801,"comment_content":"Block Nested-Loop Join ä¸ºä»€ä¹ˆä¸è€ƒè™‘hash çš„æ–¹å¼joinå‘¢ï¼Œç”šè‡³è¿™æ ·çš„å¼€å…³éƒ½æ²¡æœ‰æä¾›ï¼Œå¦‚æœç”¨hashï¼Œè´Ÿè½½åº¦èƒ½ä»n * mä¼˜åŒ–åˆ°n + m","like_count":0},{"had_liked":false,"id":284975,"user_name":"ä¸‰ä¸«","can_delete":false,"product_type":"c1","uid":2326623,"ip_address":"","ucode":"41DF6B80EDF634","user_header":"https://static001.geekbang.org/account/avatar/00/23/80/5f/a1767d6c.jpg","comment_is_top":false,"comment_ctime":1616567235,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616567235","product_id":100020801,"comment_content":"mysql&gt; explain select * from t1 STRAIGHT_JOIN t2 on t1.a = t2.b;<br>+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+<br>| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra                                      |<br>+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+<br>|  1 | SIMPLE      | t1    | NULL       | ALL  | a             | NULL | NULL    | NULL |  100 |   100.00 | NULL                                       |<br>|  1 | SIMPLE      | t2    | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 1000 |    10.00 | Using where; Using join buffer (hash join) |<br>+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+<br>2 rows in set (0.00 sec)<br><br>ä¸ºä»€ä¹ˆæ‰«æt2è¡¨çš„æ—¶å€™ï¼Œæ²¡æœ‰ç”¨åˆ°Block Nested-Loop Joinï¼Œè€Œæ˜¯hash joinçš„æ–¹å¼å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":283484,"user_name":"å¹³å‡¡ä¹‹è·¯","can_delete":false,"product_type":"c1","uid":1669273,"ip_address":"","ucode":"96CE12339BD5FD","user_header":"https://static001.geekbang.org/account/avatar/00/19/78/99/6060eb2d.jpg","comment_is_top":false,"comment_ctime":1615796494,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615796494","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œå¦‚æœé©±åŠ¨è¡¨ä¸Šæ²¡ç´¢å¼•ï¼Œæ˜¯ä»€ä¹ˆæµç¨‹å‘¢","like_count":0},{"had_liked":false,"id":283453,"user_name":"æ¡€","can_delete":false,"product_type":"c1","uid":1204584,"ip_address":"","ucode":"939C1EEFCFC08E","user_header":"https://static001.geekbang.org/account/avatar/00/12/61/68/e5f0ba39.jpg","comment_is_top":false,"comment_ctime":1615789025,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615789025","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ–‡ç« æåˆ°çš„éƒ½æ˜¯åŸºäºå•ä¸ªå­—æ®µæ¡ä»¶çš„joinï¼Œé‚£å¦‚æœåŸºäºå¤šä¸ªå­—æ®µjoinï¼Œè¯¥æ€ä¹ˆåˆ†æå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":282702,"user_name":"è¶…çº§è›‹è›‹é¥­","can_delete":false,"product_type":"c1","uid":1249616,"ip_address":"","ucode":"AD2BECE789B365","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/wiaQmkQdIh84RibSLrDkIA3HtibAR4IibpnP3VEmiaLzvpiaibXJQEb2LLUrCD4dM7DjvOFD65IbdZm2Mn68O71FxiaAow/132","comment_is_top":false,"comment_ctime":1615368797,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615368797","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä¸èƒ½ä½¿ç”¨è¢«é©±åŠ¨è¡¨çš„ç´¢å¼•çš„æƒ…å†µä¸‹ï¼Œæ€ä¹ˆæŸ¥èƒ½æé«˜æ€§èƒ½å‘¢","like_count":0},{"had_liked":false,"id":276681,"user_name":"silent","can_delete":false,"product_type":"c1","uid":1162450,"ip_address":"","ucode":"575366953E6F30","user_header":"https://static001.geekbang.org/account/avatar/00/11/bc/d2/2e73a3cb.jpg","comment_is_top":false,"comment_ctime":1612076066,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612076066","product_id":100020801,"comment_content":"ä½ å¥½  æ€»çš„æ¯”å¯¹æ¬¡æ•°ä¸å˜æˆ‘èƒ½ç†è§£  ä½†ä¸ºä»€ä¹ˆè¢«é©±åŠ¨è¡¨æ˜¯ä¼šè¢«æ‰«ækæ¬¡å‘¢ï¼Œè¿™kæ¬¡è¢«é©±åŠ¨è¡¨éƒ½æ˜¯ä¸€æ ·çš„æ•°æ®å…¥join bufferå—  ä¸ºä»€ä¹ˆä¸åªå…¥ä¸€æ¬¡å‘¢  æœ›è§£ç­”ğŸ¤”","like_count":0},{"had_liked":false,"id":275975,"user_name":"æ«ä¸­æµªå­","can_delete":false,"product_type":"c1","uid":2351949,"ip_address":"","ucode":"860BEA32059B37","user_header":"https://static001.geekbang.org/account/avatar/00/23/e3/4d/8a26dbb2.jpg","comment_is_top":false,"comment_ctime":1611734420,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611734420","product_id":100020801,"comment_content":"Block Nested-Loop Join ç®—æ³• ä¸èƒ½ä½¿ç”¨joinï¼Œé‚£ä¸šåŠ¡å±‚å†™å¾ªç¯ç„¶åæ‹¼æ¥ä¼šæ¯”joinæ€§èƒ½å¥½å—ï¼Ÿå¦‚æœä¸å¥½ï¼Œè¯¥æ€ä¹ˆè§£å†³ï¼Ÿ","like_count":0},{"had_liked":false,"id":270039,"user_name":"meow","can_delete":false,"product_type":"c1","uid":1246785,"ip_address":"","ucode":"BB7FBD681B5EFC","user_header":"https://static001.geekbang.org/account/avatar/00/13/06/41/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1608884986,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608884986","product_id":100020801,"comment_content":"æˆ‘æœ‰ä¸ªé—®é¢˜ï¼šhttps:&#47;&#47;static001.geekbang.org&#47;resource&#47;image&#47;4b&#47;90&#47;4b9cb0e0b83618e01c9bfde44a0ea990.png<br>ä»è¡¨ t1 ä¸­è¯»å…¥ä¸€è¡Œæ•°æ® Rï¼›<br>ä»æ•°æ®è¡Œ R ä¸­ï¼Œå–å‡º a å­—æ®µåˆ°è¡¨ t2 é‡Œå»æŸ¥æ‰¾ï¼›<br>å–å‡ºè¡¨ t2 ä¸­æ»¡è¶³æ¡ä»¶çš„è¡Œï¼Œè·Ÿ R ç»„æˆä¸€è¡Œï¼Œä½œä¸ºç»“æœé›†çš„ä¸€éƒ¨åˆ†ï¼›<br>é‡å¤æ‰§è¡Œæ­¥éª¤ 1 åˆ° 3ï¼Œç›´åˆ°è¡¨ t1 çš„æœ«å°¾å¾ªç¯ç»“æŸã€‚<br><br>ç½‘ä¸Šè¯´è¡¨çš„æ‰§è¡Œé¡ºåºæ˜¯ æŒ‰ç…§id ä»å¤§åˆ°å°ï¼Œä½†æ˜¯ä½ è¿™é‡Œå…ˆæ‰§è¡Œè¡¨1ï¼Œæˆ‘æœ‰ç‚¹æ‡µ<br>","like_count":0},{"had_liked":false,"id":267964,"user_name":"ä¸æ‡‚","can_delete":false,"product_type":"c1","uid":1541612,"ip_address":"","ucode":"CA512A7EC3A27F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epQoq244hPvZBpvAd1q6uFQgVgVtgoJe90CaoNkrhjicJtibpBQCfujvgGEJ17nrC2sNNYqtqaKwBuA/132","comment_is_top":false,"comment_ctime":1608011513,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608011513","product_id":100020801,"comment_content":"MySQL 8.0ç‰ˆæœ¬å¯¹ç¬¬äºŒç§æƒ…å†µæœ‰ä¼˜åŒ–ã€‚<br>mysql&gt; explain select * from t1 straight_join t2 on (t1.a = t2.b);<br>+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+<br>| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra                                      |<br>+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+<br>|  1 | SIMPLE      | t1    | NULL       | ALL  | a             | NULL | NULL    | NULL |  100 |   100.00 | NULL                                       |<br>|  1 | SIMPLE      | t2    | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 1000 |    10.00 | Using where; Using join buffer (hash join) |<br>+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------------------+<br>","like_count":0},{"had_liked":false,"id":262993,"user_name":"Jason","can_delete":false,"product_type":"c1","uid":1756181,"ip_address":"","ucode":"B2765DD1D90B0C","user_header":"https://static001.geekbang.org/account/avatar/00/1a/cc/15/35622b02.jpg","comment_is_top":false,"comment_ctime":1605936220,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605936220","product_id":100020801,"comment_content":"åœ¨ join on å’Œ where åŒæ—¶å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œæ˜¯å…ˆæ‰§è¡Œ join on çš„æ¡ä»¶è¿˜æ˜¯å…ˆæ‰§è¡Œ where çš„æ¡ä»¶ï¼Ÿ join on åè¾¹è·Ÿçš„ä¹Ÿå¯èƒ½æ˜¯ id&gt;1000 è¿™æ ·çš„è¿‡æ»¤æ¡ä»¶ï¼Œè€Œä¸ä»…ä»…æ˜¯å…³è”å…³ç³»æ¡ä»¶ã€‚","like_count":0},{"had_liked":false,"id":262432,"user_name":"è´ºå­","can_delete":false,"product_type":"c1","uid":2076283,"ip_address":"","ucode":"A64DC9D9CF7CCD","user_header":"https://static001.geekbang.org/account/avatar/00/1f/ae/7b/47200692.jpg","comment_is_top":false,"comment_ctime":1605718497,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605718497","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œå¦‚æœè¢«é©±åŠ¨è¡¨æœ‰ç´¢å¼•ï¼Œé‚£ä¹ˆåœ¨æ–°ç‰ˆæœ¬æ•°æ®ä¸­å·²ç»æŠŠbnlä¼˜åŒ–æˆäº†å…ˆå¯¹é©±åŠ¨è¡¨åœ¨join bufferä¸­æ’åºçš„ç­–ç•¥äº†å§ï¼Œä¹Ÿå°±æ˜¯bkaï¼Œ","like_count":0},{"had_liked":false,"id":261131,"user_name":"å¯†ç 123456","can_delete":false,"product_type":"c1","uid":1126593,"ip_address":"","ucode":"9889463CC0EA71","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/c1/2dde6700.jpg","comment_is_top":false,"comment_ctime":1605225916,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605225916","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è¿™è¾¹ç»å¸¸æ€§çš„ä¼šæœ‰ä¸€å¼ å¤§è¡¨æ•°æ®è¡¨ï¼Œä½œä¸ºä¸»è¦ç»“æœè¾“å‡ºçš„ã€‚å°è¡¨æ˜¯å¯¹åº”æŠŠå¤§è¡¨çš„ç¼–ç è½¬åŒ–ä¸ºä¸­æ–‡ã€‚å¯æ˜¯æˆ‘æ„Ÿè§‰è¿™ç§æƒ…å†µä¸‹ï¼Œå¤§è¡¨ä½œä¸ºé©±åŠ¨è¡¨ä¼šå¥½ä¸€ç‚¹ã€‚","like_count":0},{"had_liked":false,"id":258293,"user_name":"é™ˆåˆš","can_delete":false,"product_type":"c1","uid":1548798,"ip_address":"","ucode":"080E69D3687E73","user_header":"https://static001.geekbang.org/account/avatar/00/17/a1/fe/250e64d7.jpg","comment_is_top":false,"comment_ctime":1604372958,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604372958","product_id":100020801,"comment_content":"è€Œå¯¹äºæ¯ä¸€è¡Œ Rï¼Œæ ¹æ® a å­—æ®µå»è¡¨ t2 æŸ¥æ‰¾ï¼Œèµ°çš„æ˜¯æ ‘æœç´¢è¿‡ç¨‹ã€‚ç”±äºæˆ‘ä»¬æ„é€ çš„æ•°æ®éƒ½æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œå› æ­¤æ¯æ¬¡çš„æœç´¢è¿‡ç¨‹éƒ½åªæ‰«æä¸€è¡Œï¼Œä¹Ÿæ˜¯æ€»å…±æ‰«æ 100 è¡Œï¼›  <br>è€å¸ˆ è¿™é‡Œåº”è¯¥å¯¹T2è¡¨çš„æ‰«æä¸åº”è¯¥æ˜¯100è¡Œå•Šã€‚å› ä¸ºaå­—æ®µæ˜¯æ™®é€šéå”¯ä¸€ç´¢å¼•ï¼Œé‚£ä¹ˆæ¯æ¬¡æŸ¥æ‰¾éƒ½ä¼šå¾€å³å¤šæ‰«æä¸€æ¬¡å§ã€‚","like_count":0},{"had_liked":false,"id":257664,"user_name":"é™ˆé‡‘é¾™","can_delete":false,"product_type":"c1","uid":1571152,"ip_address":"","ucode":"684F1C733A6C27","user_header":"https://static001.geekbang.org/account/avatar/00/17/f9/50/d0ea075b.jpg","comment_is_top":false,"comment_ctime":1604050750,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604050750","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‰«æå’Œäº¤äº’åº”è¯¥æ€ä¹ˆç†è§£ï¼Ÿä¸€ä¸ªSQLå°±æ˜¯ä¸€æ¬¡äº¤äº’ï¼Œå¦‚æœæ²¡æœ‰ç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œæ˜¯ä¸æ˜¯è‚¯å®šä¼šå»è¯»ä¸€æ¬¡ç¡¬ç›˜ï¼Ÿä¸€æ¬¡æ‰«æï¼Œå¯ä»¥ç†è§£æˆç”±CPUåœ¨å†…å­˜ä¸­å¯¹æ•°æ®åšä¸€æ¬¡é€»è¾‘è¿ç®—å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":255215,"user_name":"èœ‰è£","can_delete":false,"product_type":"c1","uid":1229070,"ip_address":"","ucode":"77CF92496855D4","user_header":"https://static001.geekbang.org/account/avatar/00/12/c1/0e/2b987d54.jpg","comment_is_top":false,"comment_ctime":1603283750,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603283750","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼å¦‚ä½•ç†è§£ BNL å°èŠ‚ä¸­ â€œä¸¤ä¸ªè¡¨éƒ½åšä¸€æ¬¡å…¨è¡¨æ‰«æï¼Œæ‰€ä»¥æ€»çš„æ‰«æè¡Œæ•°æ˜¯ M+Nï¼›â€ï¼Ÿå› ä¸º t1 å–å‡ºæ•°æ®åˆ°äº† join_bufferï¼Œè¿™æ˜¯ä¸€æ¬¡å…¨è¡¨æ‰«æ ã€‚ç„¶åä» t2 è¯»æ•°æ®ä¸ t1 åŒ¹é…ï¼Œæˆ‘çš„ç†è§£æ˜¯é¦–å…ˆ t1 ä¸­çš„ç¬¬ä¸€æ¡å’Œ t2 ä¸­çš„æ¯ä¸€æ¡éƒ½æ¯”ä¸€ä¸‹ï¼Œç„¶åæ˜¯ t1 ä¸­çš„ç¬¬äºŒæ¡å’Œ t2 ä¸­çš„æ¯ä¸€æ¡éƒ½æ¯”ä¸€ä¸‹â€¦â€¦ è¿™ä¸ªæ—¶å€™ t2 åº”è¯¥æ˜¯æ‰«æäº† N æ¬¡ï¼Ÿ","like_count":0},{"had_liked":false,"id":248552,"user_name":"æ¢¦æœæ€å¤•","can_delete":false,"product_type":"c1","uid":1067533,"ip_address":"","ucode":"F35EEBA74A739D","user_header":"https://static001.geekbang.org/account/avatar/00/10/4a/0d/da36e9ce.jpg","comment_is_top":false,"comment_ctime":1600220639,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1600220639","product_id":100020801,"comment_content":"å•è¡¨æŸ¥è¯¢æ—¶å€™ä½¿ç”¨inè¿˜ä¼šæœ‰nå¤šæ¬¡æŸ¥è¯¢å—","like_count":0},{"had_liked":false,"id":246007,"user_name":"Rainbow","can_delete":false,"product_type":"c1","uid":1106658,"ip_address":"","ucode":"B680613F07E368","user_header":"https://static001.geekbang.org/account/avatar/00/10/e2/e2/9efdb522.jpg","comment_is_top":false,"comment_ctime":1599130928,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599130928","product_id":100020801,"comment_content":"æˆ‘æ˜¯Bç«¯è®¢å•ç»„çš„ï¼Œçœ‹äº†è¿™ç¯‡ï¼Œçªç„¶æƒ³èµ·äº†ä¹‹å‰çš„ä¸€ä¸ªæ…¢SQLï¼Œè®¢å•è¡¨400wè¡Œï¼Œè®¢å•æ˜ç»†æ˜ç»†è¡¨3000wè¡Œï¼Œå°±æ˜¯ç”¨è®¢å•æ˜ç»†è¡¨å½“äº†é©±åŠ¨è¡¨ï¼Œæ¢æˆè®¢å•ä¸»è¡¨æœç„¶å¿«äº†å¾ˆå¤šï¼Œè¿˜æœ‰ä¸ªé—®é¢˜æƒ³å’¨è¯¢ä¸€ä¸‹ï¼Œè®¢å•æ˜ç»†è¡¨ç°åœ¨4åƒä¸‡è¡Œï¼Œæœ‰äº›joinæŸ¥è¯¢è¿˜æ˜¯å¾ˆæ…¢ï¼Œä¸€èˆ¬åˆ°è¾¾ä»€ä¹ˆé‡çº§å¼€å§‹åšå½’æ¡£å•Šï¼Œä¸è¿‡å…¬å¸ç°åœ¨å‡†å¤‡ç”¨esæ–¹æ¡ˆæ¥æŸ¥è¯¢","like_count":0},{"had_liked":false,"id":245153,"user_name":"xiaozeng","can_delete":false,"product_type":"c1","uid":1806081,"ip_address":"","ucode":"C517E55357315C","user_header":"https://static001.geekbang.org/account/avatar/00/1b/8f/01/2fbc5cc9.jpg","comment_is_top":false,"comment_ctime":1598846743,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598846743","product_id":100020801,"comment_content":"å­¦å®Œè¿™èŠ‚æœ‰æ”¶è·ï¼Œç‰¹åˆ«æ˜¯join åŸç†åˆ†æè¿˜æœ‰å¦‚ä½•åˆ¤æ–­æ˜¯å¦æ˜¯å°è¡¨è¿™é‡Œï¼Œè€Œä¸”ä¾‹å­ä¸¾çš„éƒ½æŒºå…¸å‹çš„ã€‚è°¢è°¢è€å¸ˆï¼","like_count":0},{"had_liked":false,"id":239996,"user_name":"ğŸ‹ğŸ¥¬ğŸŸ","can_delete":false,"product_type":"c1","uid":1484273,"ip_address":"","ucode":"4191D6E6CB6D3B","user_header":"https://static001.geekbang.org/account/avatar/00/16/a5/f1/8e3ce0e4.jpg","comment_is_top":false,"comment_ctime":1596708137,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596708137","product_id":100020801,"comment_content":"è¿™ä¸ªè¿‡ç¨‹æ˜¯å…ˆéå†è¡¨ t1ï¼Œç„¶åæ ¹æ®ä»è¡¨ t1 ä¸­å–å‡ºçš„æ¯è¡Œæ•°æ®ä¸­çš„ a å€¼ï¼Œå»è¡¨ t2 ä¸­æŸ¥æ‰¾æ»¡è¶³æ¡ä»¶çš„è®°å½•<br><br>è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘å¯¹ NLJ çš„è¿‡ç¨‹æœ‰äº›ç–‘æƒ‘ï¼Œt1è¡¨ä¸€æ¬¡åªæŸ¥è¯¢ä¸€è¡Œï¼Œæ‰€ä»¥æŸ¥è¯¢ 100 è¡Œè¦è®¿é—® 100 æ¬¡ç£ç›˜å—ï¼Œè¿˜æ˜¯å…¶ä»–æ–¹å¼ã€‚ä¼šä¸ä¼šæŠŠæ‰€æœ‰æ•°æ®ï¼Œæ¯”å¦‚ä¸€ä¸ªç£ç›˜é¡µéƒ½åŠ è½½åˆ°å†…å­˜ä¸­äº†ï¼Œç„¶åå»ä¸€è¡Œä¸€è¡Œæ¯”è¾ƒçš„ã€‚<br><br>å¦‚æœä¸æ”¾å†…å­˜çš„è¯ï¼Œæ•°æ®åº”è¯¥æ”¾åœ¨å“ªå‘¢ï¼Ÿ<br><br>æ—¢ç„¶ BNL æ˜¯æŠŠé©±åŠ¨è¡¨ä¸­æ•°æ®æ”¾å…¥ç¼“å­˜åŒºä¸­ï¼Œé‚£ä¹ˆ INLJ ä¸ä½¿ç”¨ç¼“å­˜åŒºå‘¢ï¼Œæˆ‘ç†è§£çš„æ”¾å…¥ç¼“å­˜åŒºå†åŠ ä¸Šç´¢å¼•æŸ¥åº”è¯¥æ›´å¿«äº†ã€‚<br><br>å¯¹è¿™å—æœ‰ç‚¹é’»è¿›ç‰›è§’å°–äº†ï¼Œå¸Œæœ›è€å¸ˆèƒ½è§£ç­”ä¸€ä¸‹ï¼Œéå¸¸æ„Ÿè°¢ã€‚","like_count":0},{"had_liked":false,"id":237251,"user_name":"jian","can_delete":false,"product_type":"c1","uid":1185102,"ip_address":"","ucode":"21CDBBB8000F0C","user_header":"https://static001.geekbang.org/account/avatar/00/12/15/4e/4636a81d.jpg","comment_is_top":false,"comment_ctime":1595755568,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595755568","product_id":100020801,"comment_content":"è¯·é—®ä¸€ä¸‹è€å¸ˆï¼Œâ€œå‡è®¾è¢«é©±åŠ¨è¡¨çš„è¡Œæ•°æ˜¯ Mã€‚æ¯æ¬¡åœ¨è¢«é©±åŠ¨è¡¨æŸ¥ä¸€è¡Œæ•°æ®ï¼Œè¦å…ˆæœç´¢ç´¢å¼• aï¼Œå†æœç´¢ä¸»é”®ç´¢å¼•ã€‚æ¯æ¬¡æœç´¢ä¸€æ£µæ ‘è¿‘ä¼¼å¤æ‚åº¦æ˜¯ä»¥ 2 ä¸ºåº•çš„ M çš„å¯¹æ•°ï¼Œè®°ä¸º log2Mï¼Œæ‰€ä»¥åœ¨è¢«é©±åŠ¨è¡¨ä¸ŠæŸ¥ä¸€è¡Œçš„æ—¶é—´å¤æ‚åº¦æ˜¯ 2*log2Mã€‚å‡è®¾é©±åŠ¨è¡¨çš„è¡Œæ•°æ˜¯ Nï¼Œæ‰§è¡Œè¿‡ç¨‹å°±è¦æ‰«æé©±åŠ¨è¡¨ N è¡Œï¼Œç„¶åå¯¹äºæ¯ä¸€è¡Œï¼Œåˆ°è¢«é©±åŠ¨è¡¨ä¸ŠåŒ¹é…ä¸€æ¬¡ã€‚å› æ­¤æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ï¼Œè¿‘ä¼¼å¤æ‚åº¦æ˜¯ N + N*2*log2Mã€‚â€ï¼Œä¸ºä»€ä¹ˆè¿™é‡Œçš„å¤æ‚åº¦æ˜¯N + N*2*log2Mï¼Œè€Œä¸æ˜¯N + N*log2Mï¼Ÿ ","like_count":0},{"had_liked":false,"id":235074,"user_name":"Yayu","can_delete":false,"product_type":"c1","uid":1058015,"ip_address":"","ucode":"5E7842458D8229","user_header":"https://static001.geekbang.org/account/avatar/00/10/24/df/645f8087.jpg","comment_is_top":false,"comment_ctime":1594884992,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594884992","product_id":100020801,"comment_content":"é©±åŠ¨è¡¨ t1 (1000æ¡) ä¸ è¢«é©±åŠ¨è¡¨ t2 (100æ¡) <br>æ‰§è¡Œ explain select * from t1 straight_join t2 on (t1.a = t2.b) &#47;&#47; t1.a ä¸ºç´¢å¼•ï¼Œt2.b ä¸æ˜¯ç´¢å¼•<br>ä¸ºä»€ä¹ˆæˆ‘è¿™é‡Œç”¨çš„ å¹¶ä¸æ˜¯ block nested-loop join è€Œæ˜¯ hash join ?<br>ä½•æ—¶ä½¿ç”¨ block nested-loop join ä½•æ—¶ä½¿ç”¨ hash join å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":232552,"user_name":"Damo","can_delete":false,"product_type":"c1","uid":1599197,"ip_address":"","ucode":"F332EA67F5A40C","user_header":"https://static001.geekbang.org/account/avatar/00/18/66/dd/c9f17139.jpg","comment_is_top":false,"comment_ctime":1594035479,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1594035479","product_id":100020801,"comment_content":"è€å¸ˆä¸ºä»€ä¹ˆæˆ‘ç”¨ä½ çš„ä¾‹å­ä½¿ç”¨ â€œ straight_joinâ€ å¾—åˆ°çš„æ˜¯ BNL, æˆ‘çš„ mysql ç‰ˆæœ¬æ˜¯ 5.7.30ã€‚<br><br>mysql&gt; explain select * from t1 straight_join t2 on (t1.a=t2.a);<br>+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------------------------------------------+<br>| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra                                              |<br>+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------------------------------------------+<br>|  1 | SIMPLE      | t1    | NULL       | ALL  | a             | NULL | NULL    | NULL |  100 |   100.00 | NULL                                               |<br>|  1 | SIMPLE      | t2    | NULL       | ALL  | a             | NULL | NULL    | NULL |    1 |   100.00 | Using where; Using join buffer (Block Nested Loop) |<br>+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------------------------------------------+<br>2 rows in set, 1 warning (0.00 sec)<br><br>è¯·é—®è¿™ä¸ªæ˜¯ä¸ºä»€ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1599197,"avatar":"https://static001.geekbang.org/account/avatar/00/18/66/dd/c9f17139.jpg","nickname":"Damo","note":"","ucode":"F332EA67F5A40C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289247,"discussion_content":"æˆ‘ä½¿ç”¨ â€œalter table A engine=InnoDBâ€ å‘½ä»¤ï¼Œé‡å»ºè¡¨t1ï¼Œt2 ï¼Œå±…ç„¶å¥½äº†ã€‚ğŸ˜‚\nå°±è¿™ä¹ˆç‚¹æ•°æ® mysql ä¹Ÿä¼šé€‰é”™äº†ç´¢å¼•å˜›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594039409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231757,"user_name":"WolvesLeader","can_delete":false,"product_type":"c1","uid":1103839,"ip_address":"","ucode":"33610E19CA2E96","user_header":"https://static001.geekbang.org/account/avatar/00/10/d7/df/fc0a6709.jpg","comment_is_top":false,"comment_ctime":1593765290,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593765290","product_id":100020801,"comment_content":"è€å¸ˆ on å’Œ where å“ªä¸ªå…ˆæ‰§è¡Œï¼Œå¦‚æœonå…ˆæ‰§è¡Œ<br>è¿™ä¸ªå¤§è¡¨å’Œå°è¡¨çš„åˆ¤æ–­è¿˜ç›¸åŒå—ï¼Ÿ<br>select t1.b,t2.* from  t1  straight_join t2 on (t1.b=t2.b) where t2.id&lt;=100;<br>select t1.b,t2.* from  t2  straight_join t1 on (t1.b=t2.b) where t2.id&lt;=100;","like_count":0},{"had_liked":false,"id":230026,"user_name":"hhhh","can_delete":false,"product_type":"c1","uid":1256101,"ip_address":"","ucode":"9E87017424B382","user_header":"https://static001.geekbang.org/account/avatar/00/13/2a/a5/625c0a2e.jpg","comment_is_top":false,"comment_ctime":1593244072,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1593244072","product_id":100020801,"comment_content":"8.0.20ä»¥åï¼Œhash join ç®—æ³•æ›¿ä»£äº† block nested loop ç®—æ³•, å‚è€ƒhttps:&#47;&#47;mysqlserverteam.com&#47;hash-join-in-mysql-8&#47;ï¼Œ2019å¹´12æœˆæ‰å‘å¸ƒï¼Œä¼°è®¡ç›®å‰å®é™…ç”¨åˆ°çš„ä¸å¤šã€‚","like_count":0,"discussions":[{"author":{"id":2086624,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/d6/e0/3ccaaa7b.jpg","nickname":"é¢†å­","note":"","ucode":"64AC4E6AB74E68","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295294,"discussion_content":"oracle ä½¿ç”¨çš„å°±æ˜¯hashè¿æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596158463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228663,"user_name":"9527","can_delete":false,"product_type":"c1","uid":2037018,"ip_address":"","ucode":"AE0D3C530E8DF9","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/VnUiaownBAJZv1x9nn21pxkY8b5DoYfLv2wPTq5uVOCiaEpIfNPpdAOZsdy7CbvvcaU3icxZnicROhrLyae45am11g/132","comment_is_top":false,"comment_ctime":1592785615,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1592785615","product_id":100020801,"comment_content":"æˆ‘çœ‹åˆ°æœ‰çš„æŸ¥è¯¢ï¼Œè¿‡æ»¤æ¡ä»¶æ”¾åˆ°join onåé¢ï¼Œè·Ÿæ”¾åˆ°whereé‡Œé¢ï¼Œæœ‰ä»€ä¹ˆå·®åˆ«å—","like_count":0,"discussions":[{"author":{"id":1135593,"avatar":"https://static001.geekbang.org/account/avatar/00/11/53/e9/f244988e.jpg","nickname":"NIRVANA","note":"","ucode":"F3A979679AA44E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291136,"discussion_content":"å¦‚æœæ˜¯joinçš„è¯å…¶å®æ˜¯æ²¡æœ‰å·®åˆ«çš„ï¼Œè€å¸ˆåœ¨ç­”ç–‘æ–‡ç« è®²è¿‡ï¼Œå¯èƒ½ä½ ä¹Ÿå·²ç»çŸ¥é“äº†ï¼Œæˆ‘æ˜¯ä¸‰åˆ·çš„æ—¶å€™çœ‹åˆ°çš„ï¼Œå¸Œæœ›ä¸è¦æ‰“æ‰°åˆ°ä½ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594715758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224328,"user_name":"ç¨‹è¾‰","can_delete":false,"product_type":"c1","uid":1395334,"ip_address":"","ucode":"A8AE3BFE6EE59C","user_header":"https://static001.geekbang.org/account/avatar/00/15/4a/86/c7bd910e.jpg","comment_is_top":false,"comment_ctime":1591345934,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591345934","product_id":100020801,"comment_content":"select t1.b,t2.* from  t1  straight_join t2 on (t1.b=t2.b) where t2.id&lt;=100;<br>è¿™æ¡è¯­å¥çš„æ‰§è¡Œæµç¨‹åº”è¯¥æ˜¯å…ˆç”¨onæ¡ä»¶è¿è¡¨ä¹‹åç”Ÿæˆäº†ä¸´æ—¶è¡¨ï¼Œç„¶åå†ç”¨whereæ¡ä»¶è¿‡æ»¤å§ï¼Ÿè¿™æ ·çš„è¯ä¸ç®¡t1æ˜¯ä¸æ˜¯åªéœ€è¦bå­—æ®µå®ƒå…¶å®éƒ½æ˜¯å°è¡¨ã€‚","like_count":0},{"had_liked":false,"id":223200,"user_name":"broken_open","can_delete":false,"product_type":"c1","uid":1313347,"ip_address":"","ucode":"764CF5EEACC4AD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEJjTz6oOKAXefgCNHTuTmwibBPJX9a4c407GHYmFPdMRgX67nZiavj2KhbiczicaaeSGxOxiaibnqH7icnVw/132","comment_is_top":false,"comment_ctime":1591019997,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591019997","product_id":100020801,"comment_content":"Joinçš„æ—¶å€™ï¼Œè¢«é©±åŠ¨è¡¨ä¸Šçš„joinå­—æ®µå¦‚æœå¯ä»¥ç”¨åˆ°ç´¢å¼•ï¼Œæ˜¯Index  Nested-Loop Join ï¼Œè¿™ç§æƒ…å†µä½¿ç”¨joinæ²¡å…³ç³»;å¦‚æœç”¨ä¸åˆ°ç´¢å¼•å¯èƒ½æ˜¯Simple Nested-Loop Join ï¼Œä¹Ÿå¯èƒ½æ˜¯Block Nested-Loop Join ã€æ•°æ®é‡å¾ˆå¤§çš„æ—¶å€™ã€‘ï¼Œæ­¤æ—¶è¢«é©±åŠ¨è¡¨å…¨è¡¨æ‰«æçš„æ¬¡æ•°å¯èƒ½ä¼šå¾ˆå¤šæ¬¡ï¼Œæ‰€ä»¥explainçš„æ—¶å€™å¦‚æœæ˜¯Block Nested-Loop Joinï¼Œè¿™ç§joinå°½é‡ä¸è¦ç”¨ï¼Œå°¤å…¶æ˜¯joinå¤§è¡¨,æ¶ˆè€—ç³»ç»Ÿèµ„æºä¼šå¾ˆé«˜ã€‚ ","like_count":0},{"had_liked":false,"id":222059,"user_name":"æ˜çŸ³","can_delete":false,"product_type":"c1","uid":1226978,"ip_address":"","ucode":"42ACCC9445CD33","user_header":"https://static001.geekbang.org/account/avatar/00/12/b8/e2/9bf25e0a.jpg","comment_is_top":false,"comment_ctime":1590666464,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590666464","product_id":100020801,"comment_content":"è¿™æ ·ç®—æ¥ï¼Œè¿™ä¸ª SQL è¯·æ±‚å°±è¦æ‰«æè¡¨ t2 å¤šè¾¾ 100 æ¬¡ï¼Œæ€»å…±æ‰«æ 100*1000=10 ä¸‡è¡Œã€‚<br>----------------------------------------------------------------<br>ä¸ºå•¥æ˜¯â€œ100 * 1000â€ï¼Ÿ1000 æ˜¯å“ªæ¥çš„ï¼Ÿä¸æ˜¯åº”è¯¥æ˜¯â€œ100 * 100 = 10000â€å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":220233,"user_name":"é›ªã®é›«Â·é›¨ã®éŸ³","can_delete":false,"product_type":"c1","uid":1997293,"ip_address":"","ucode":"0693DA3939A321","user_header":"https://static001.geekbang.org/account/avatar/00/1e/79/ed/4737a49b.jpg","comment_is_top":false,"comment_ctime":1590210185,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590210185","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼æˆ‘æœ‰ä¸€ä¸ªç–‘é—®<br>å½“è¢«é©±åŠ¨è¡¨ä¸èƒ½ä½¿ç”¨ç´¢å¼•æ—¶ï¼Œæ‚¨åœ¨æ–‡ä¸­æåˆ°äº†é‡‡ç”¨BNLç®—æ³•ä¼šå¯¼è‡´è¢«é©±åŠ¨è¡¨æ‰«æå¾ˆå¤šæ¬¡ï¼Œä¸å»ºè®®ä½¿ç”¨join<br>ä½†æ˜¯æˆ‘çš„ç–‘é—®æ˜¯ï¼Œå¦‚æœé‡‡ç”¨çš„æ˜¯å•è¡¨æŸ¥è¯¢çš„è¯ï¼Œå¯¹äºt1ä¸­çš„æ¯ä¸€è¡Œï¼Œéƒ½è¦å–å‡ºbå­—æ®µå’Œt2ä¸­çš„æ¯ä¸€è¡Œæ¯”è¾ƒï¼šselect * from t2 where b=$R.bï¼Œåœ¨è¿™æ¯”è¾ƒçš„è¿‡ç¨‹ï¼Œå¯¹äºt1çš„æ¯ä¸€è¡Œï¼Œt2ä¹Ÿè¦è¿›è¡Œå…¨è¡¨æ‰«æï¼Œè¿™æ ·æ€»æ‰«æè¡Œæ•°å°±å˜æˆN+N*Mäº†ï¼Œæˆ‘è§‰å¾—è¿™æ ·å•è¡¨æŸ¥è¯¢æ•ˆç‡ä¸æ˜¯åº”è¯¥æ›´ä½å—ï¼Ÿä¸ºä»€ä¹ˆè¯´ä¸å»ºè®®ä½¿ç”¨joinå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":219206,"user_name":"æ¹®æ±","can_delete":false,"product_type":"c1","uid":1106268,"ip_address":"","ucode":"FB6185621891E5","user_header":"https://static001.geekbang.org/account/avatar/00/10/e1/5c/86606d9c.jpg","comment_is_top":false,"comment_ctime":1589966585,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1589966585","product_id":100020801,"comment_content":"å…¶å®å…³äºä¸ç”¨JoinæŸ¥è¯¢ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæŸ¥å‡ºç¬¬ä¸€å¼ è¡¨çš„æ•°æ®ï¼Œè·å¾—å…¨éƒ¨çš„å…³è”å­—æ®µï¼Œç¬¬äºŒå¼ è¡¨ç”¨InæŸ¥è¯¢ï¼Œè¿™æ ·é€Ÿåº¦ä¹Ÿä¼šæ›´å¿«ï¼","like_count":0},{"had_liked":false,"id":207360,"user_name":"Ryan","can_delete":false,"product_type":"c1","uid":1667987,"ip_address":"","ucode":"95BBBEE5B23878","user_header":"https://static001.geekbang.org/account/avatar/00/19/73/93/0a3a1e5b.jpg","comment_is_top":false,"comment_ctime":1587054628,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587054628","product_id":100020801,"comment_content":"ä»¥å‰dbaåªæ˜¯å‘Šè¯‰æˆ‘ä»¬joinæŸ¥è¯¢çš„æ—¶å€™è¦ç”¨å°è¡¨ä½œä¸ºé©±åŠ¨è¡¨ï¼Œä»Šå¤©ç»ˆäºçŸ¥é“ä¸ºä»€ä¹ˆäº†","like_count":0},{"had_liked":false,"id":204306,"user_name":"Demter","can_delete":false,"product_type":"c1","uid":1158439,"ip_address":"","ucode":"BE3B6F726916CE","user_header":"https://static001.geekbang.org/account/avatar/00/11/ad/27/5556ae50.jpg","comment_is_top":false,"comment_ctime":1586361778,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586361778","product_id":100020801,"comment_content":"è¿˜æ˜¯ä¸å¤ªæ‡‚ï¼Œå¯¹è¢«é©±åŠ¨è¡¨å…¨è¡¨æ‰«æä¸€æ¬¡åŠ è½½åˆ°å†…å­˜ä¸­é‡å¤ä½¿ç”¨å°±å¯ä»¥äº†ï¼Œä¸ºä»€ä¹ˆè¦æ¯æ¬¡éƒ½æ‰«æå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":198299,"user_name":"å–»èŒ‚","can_delete":false,"product_type":"c1","uid":1318661,"ip_address":"","ucode":"C8BD8086A17365","user_header":"https://static001.geekbang.org/account/avatar/00/14/1f/05/8a06692e.jpg","comment_is_top":false,"comment_ctime":1585442832,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585442832","product_id":100020801,"comment_content":"å¤šæ¬¡æŸ¥è¯¢è¢«é©±åŠ¨è¡¨çš„ç›¸åŒæ•°æ®ä¼šå¯¼è‡´Buffer Poolçš„youngåŒºåŸŸè¢«è¿™æ¬¡è¢«é©±åŠ¨è¡¨çš„æ•°æ®å ç”¨ï¼Œåé¢æŸ¥è¯¢æ›´æ–°çš„å†…å­˜å‘½ä¸­ç‡é™ä½","like_count":0},{"had_liked":false,"id":192942,"user_name":"å¤å…´","can_delete":false,"product_type":"c1","uid":1363230,"ip_address":"","ucode":"C172A87873001A","user_header":"https://static001.geekbang.org/account/avatar/00/14/cd/1e/692c3313.jpg","comment_is_top":false,"comment_ctime":1584879390,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584879390","product_id":100020801,"comment_content":"åœ¨å°è¡¨çš„åˆ¤æ–­é‚£é‡Œæœ‰ä¸€ä¸ªç–‘é—®ï¼šè¿æ¥çš„æ—¶å€™å°±åˆ¤æ–­ where å˜›ï¼Œä¸æ˜¯è¿æ¥ä¹‹åè·å–ç»“æœé›† ç„¶åæ ¹æ®whereè¿›è¡Œç­›é€‰å˜›ã€‚ã€‚","like_count":0},{"had_liked":false,"id":186110,"user_name":"å°äºˆ","can_delete":false,"product_type":"c1","uid":1442580,"ip_address":"","ucode":"3F5EAEE1746074","user_header":"https://static001.geekbang.org/account/avatar/00/16/03/14/e9ca2d09.jpg","comment_is_top":false,"comment_ctime":1583759113,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583759113","product_id":100020801,"comment_content":"å›ç­”é—®é¢˜<br>å¦‚æœè¢«é©±åŠ¨è¡¨æ˜¯æ•°æ®é‡å¾ˆå¤§çš„å†·æ•°æ®è¡¨ï¼Œå½“ä½¿ç”¨BNLç®—æ³•æ—¶ï¼Œæœ‰å¯èƒ½è¿ç»­å¤šæ¬¡æ‰«æä¸€ä¸ªå¤§å†·æ•°æ®è¡¨ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç¼“å­˜å…¨éƒ¨å¤±æ•ˆï¼ŒMySQLæ€§èƒ½æ€¥å‰§ä¸‹é™ã€‚","like_count":0},{"had_liked":false,"id":186105,"user_name":"å¤©äº®å‰è¯´æ™šå®‰","can_delete":false,"product_type":"c1","uid":1541014,"ip_address":"","ucode":"1D82EE562A7C71","user_header":"https://static001.geekbang.org/account/avatar/00/17/83/96/73ff13a0.jpg","comment_is_top":false,"comment_ctime":1583758601,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583758601","product_id":100020801,"comment_content":"å¦‚æœè¢«é©±åŠ¨è¡¨æ•°æ®å¾ˆå¤§ï¼Œåœ¨å†…å­˜ä¸­æ”¾ä¸ä¸‹çš„æƒ…å†µï¼Œæ€ä¹ˆåŠï¼Ÿ","like_count":0},{"had_liked":false,"id":180343,"user_name":"ä¸ç‹¼å…±èˆ","can_delete":false,"product_type":"c1","uid":1391144,"ip_address":"","ucode":"02AC04B43F0194","user_header":"https://static001.geekbang.org/account/avatar/00/15/3a/28/cf707831.jpg","comment_is_top":false,"comment_ctime":1582262249,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582262249","product_id":100020801,"comment_content":"getåˆ°äº†","like_count":0},{"had_liked":false,"id":180205,"user_name":"é™ˆå¤§å¤´","can_delete":false,"product_type":"c1","uid":1335400,"ip_address":"","ucode":"F1CA8837BF1E5C","user_header":"https://static001.geekbang.org/account/avatar/00/14/60/68/626cb455.jpg","comment_is_top":false,"comment_ctime":1582208962,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582208962","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œjoinå’Œå¤šè¡¨æŸ¥è¯¢ï¼Œåœ¨é€‰æ‹©ä¸Šçš„åŒºåˆ«å¤§å—ï¼Ÿä¹‹å‰æˆ‘åŒäº‹è¯´æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œæˆ‘ä¸ªäººæ˜¯ä¹ æƒ¯ç”¨å¤šè¡¨æŸ¥è¯¢","like_count":0},{"had_liked":false,"id":180056,"user_name":"SuperSnow","can_delete":false,"product_type":"c1","uid":1065351,"ip_address":"","ucode":"84C89AA8083E6A","user_header":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","comment_is_top":false,"comment_ctime":1582175088,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582175088","product_id":100020801,"comment_content":"å¯¹äºæ–‡ç« ä¸­ï¼Œindex nested_loop joinç®—æ³•ä¸­ï¼Œåœ¨è¿™ä¸ªæŸ¥è¯¢è¿‡ç¨‹ï¼Œä¹Ÿæ˜¯æ‰«æäº† 200 è¡Œï¼Œä½†æ˜¯æ€»å…±æ‰§è¡Œäº† 101 æ¡è¯­å¥ï¼Œæ¯”ç›´æ¥ join å¤šäº† 100 æ¬¡äº¤äº’ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå®¢æˆ·ç«¯è¿˜è¦è‡ªå·±æ‹¼æ¥ SQL è¯­å¥å’Œç»“æœã€‚<br>å¯¹äºæ­¤ç±»ä¸šåŠ¡åœºæ™¯ï¼Œå…¶å®å¯ä»¥å°†whereæ¡ä»¶æ„é€ æˆinçš„å½¢å¼ï¼Œè¿™æ ·ä¹Ÿå°±æ˜¯2æ¡è¯­å¥ã€‚ä¸è¿‡éº»çƒ¦å°±éº»çƒ¦åœ¨éœ€è¦å®¢æˆ·ç«¯è‡ªå·±è¿›è¡Œæ‹¼æ¥ç»“æœã€‚å®é™…ä¸šåŠ¡å½“ä¸­ï¼Œä¿æŒæ‹’ç»joinçš„æ€åº¦ï¼Œå…¶å®ä¸€æ–¹é¢ä¸ºäº†ä»¥ååˆ†åº“åˆ†è¡¨åœºæ™¯çš„å‡ºç°ï¼Œè¿™æ˜¯ä¸€ä¸ªå±‚é¢çš„è§£è€¦ï¼›å¦å¤–ä¸€ä¸ªå°±æ˜¯å°†æ•°æ®åº“æœåŠ¡å™¨çš„å†…å­˜è®¡ç®—å‹åŠ›è¿›è¡Œå‰ç§»ï¼Œå°†å†…å­˜é‚£éƒ¨åˆ†è®¡ç®—æåˆ°åº”ç”¨æœåŠ¡å™¨å±‚é¢ï¼Œä»¥å‡è½»æ•°æ®åº“å±‚é¢çš„å‹åŠ›ã€‚æ‰€ä»¥ï¼Œæ‹’ç»joinçš„åšæ³•ï¼Œå…¶å®æ˜¯è®©æ•°æ®åº“å›å½’åˆ°å®ƒçš„æœ¬åŸï¼Œå°±æ˜¯ç”¨æ¥ç®€å•çš„æŸ¥è¯¢å’Œå¤„ç†æ•°æ®çš„ã€‚å½“ç„¶ï¼Œå¦‚æœè¡¨çš„æ•°é‡å°‘çš„è¯æ€ä¹ˆåšæ€ä¹ˆå¥½ï¼Œä½†é«˜åº”ç”¨åœºæ™¯ï¼Œè¿˜æ˜¯è¦æ‹¿æè€ƒè™‘å…¨å±€è®¾è®¡ã€‚","like_count":0},{"had_liked":false,"id":176514,"user_name":"torres","can_delete":false,"product_type":"c1","uid":1108761,"ip_address":"","ucode":"34DABCFC7B74EA","user_header":"https://static001.geekbang.org/account/avatar/00/10/eb/19/76b0b98c.jpg","comment_is_top":false,"comment_ctime":1581078049,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1581078049","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸€ä¸ªé—®é¢˜å›°æ‰°å¾ˆä¹…ã€‚å°±æ˜¯joinå’Œwhereçš„æ‰§è¡Œé¡ºåºã€‚mysqlåœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œåˆ°åº•æ˜¯å…ˆè¿‡æ»¤å†å…³è”ï¼Œè¿˜æ˜¯å…ˆå…³è”å†è¿‡æ»¤ï¼Ÿ æˆ‘çœ‹æ‚¨è®²ä¹‰ä¸­çš„æè¿°ï¼Œæ„Ÿè§‰åº”è¯¥æ˜¯å…ˆåšçš„è¿‡æ»¤ï¼Œç„¶åå…³è”çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1077579,"avatar":"https://static001.geekbang.org/account/avatar/00/10/71/4b/2e1f2041.jpg","nickname":"happiren","note":"","ucode":"C8379873562C64","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":212980,"discussion_content":"å¯ä»¥çœ‹ä¸€ä¸‹mysqlå®˜æ–¹çš„æ–‡æ¡£ç»“åˆè€å¸ˆçš„è¯¾ç¨‹ç†è§£ï¼Œ\nå…¶å®joinå¯¹åº”äºä¼ªä»£ç å°±æ˜¯\nfor each row in t1 matching range {\n  for each row in t2 matching reference key {   \n      if row satisfies join conditions, send to client\n  }\n}\næ‰€ä»¥ï¼Œæ‰€ä»¥æ˜¯å¯ä»¥ç†è§£ä¸ºå…ˆæ‰§è¡Œé©±åŠ¨è¡¨t1çš„whereæ»¡è¶³çš„è¯­å¥ï¼ˆä½†æ˜¯å¦‚ä½•ç¡®å®šå“ªä¸ªè¡¨æ˜¯é©±åŠ¨è¡¨ï¼Œå…¶å®æ˜¯ä¸¤ä¸ªè¡¨çš„WHEREè¯­å¥éƒ½ä¼šå„è‡ªå»è¯„ä¼°æ¥å†³å®šé€‰æ‹©å“ªä¸ªè¡¨ä¸ºå°è¡¨é©±åŠ¨ï¼‰ï¼Œç„¶åå†…éƒ¨çš„forå¾ªç¯t2è¡¨åˆ™ä¼šç­›é€‰åŒæ—¶æ»¡è¶³ONå’Œt2çš„WHEREè¯­å¥çš„è®°å½•ã€‚\nå®˜æ–¹æ–‡æ¡£åœ°å€ï¼š\nhttps://dev.mysql.com/doc/refman/5.7/en/nested-loop-joins.html#nested-loop-join-algorithm","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585039156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":174384,"user_name":"Zhaoyang","can_delete":false,"product_type":"c1","uid":1037190,"ip_address":"","ucode":"131D83AC2566D2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d3/86/b5d72c87.jpg","comment_is_top":false,"comment_ctime":1580186447,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580186447","product_id":100020801,"comment_content":"å°½é‡ä½¿ç”¨å°è¡¨åšé©±åŠ¨è¡¨ï¼Œjoinçš„ä¼˜åŠ¿è¿˜æ˜¯å¾ˆæ˜æ˜¾çš„ã€‚","like_count":0},{"had_liked":false,"id":171081,"user_name":"å¤å…´","can_delete":false,"product_type":"c1","uid":1363230,"ip_address":"","ucode":"C172A87873001A","user_header":"https://static001.geekbang.org/account/avatar/00/14/cd/1e/692c3313.jpg","comment_is_top":false,"comment_ctime":1578840886,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578840886","product_id":100020801,"comment_content":"select * from t2 straight_join t1 on (t1.b=t2.b) where t2.id&lt;=50;  åˆ°åº•æ˜¯t2å’Œt1è¿æ¥ä¹‹å å†åˆ¤æ–­ id &lt;=50 è¿˜æ˜¯ å…ˆåˆ¤æ–­ id &lt;=50 å†å†³å®šæ˜¯å¦å’Œ t1è¿æ¥å‘¢","like_count":0},{"had_liked":false,"id":169982,"user_name":"è«å","can_delete":false,"product_type":"c1","uid":1487905,"ip_address":"","ucode":"852C2321C45EE3","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/21/17a88779.jpg","comment_is_top":false,"comment_ctime":1578487391,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578487391","product_id":100020801,"comment_content":"select t1.b,t2.* from  t1  straight_join t2 on (t1.b=t2.b) where t2.id&lt;=100;<br>select t1.b,t2.* from  t2  straight_join t1 on (t1.b=t2.b) where t2.id&lt;=100;<br><br>è€å¸ˆï¼Œå¦‚æœï¼Œæ²¡æœ‰t2.*ï¼Œå“ªä¸ªè¡¨åšé©±åŠ¨è¡¨å¥½ï¼Ÿå¦‚æœæ˜¯t2è¡¨é©±åŠ¨ï¼Œæ”¾å…¥ç¼“å†²é‡Œçš„æ•°æ®æ˜¯ä»€ä¹ˆï¼Ÿè°¢è°¢","like_count":0},{"had_liked":false,"id":165831,"user_name":"èµµå¨","can_delete":false,"product_type":"c1","uid":1299252,"ip_address":"","ucode":"6EB9425D9ED5B0","user_header":"https://static001.geekbang.org/account/avatar/00/13/d3/34/711b2fc1.jpg","comment_is_top":false,"comment_ctime":1577329089,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577329089","product_id":100020801,"comment_content":"å¤§ç¥ï¼Œå’¨è¯¢ä¸ªé—®é¢˜ï¼Œå¤šè¡¨left jiin,æ¯”å¦‚ï¼Œa left join b left join c,  a,b  å…³è”çš„æ—¶å€™å¯ä»¥å–åˆ°a è¡¨å’Œbè¡¨çš„å€¼ï¼Œåœ¨left join cè¡¨çš„æ—¶å€™ï¼Œb,cè¡¨å–åˆ°çš„éƒ½æ˜¯ç©ºäº†ï¼Œæ¯”è¾ƒå¥‡æ€ªï¼Œleft join c è¡¨ä¸æ˜¯ä¸åº”è¯¥å½±å“å‰åºç»“æœå—","like_count":0},{"had_liked":false,"id":162783,"user_name":"å†è§å­™æ‚Ÿç©º","can_delete":false,"product_type":"c1","uid":1025518,"ip_address":"","ucode":"57E12A2F9CD915","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a5/ee/6bbac848.jpg","comment_is_top":false,"comment_ctime":1576588933,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576588933","product_id":100020801,"comment_content":"ä»Šå¤©çš„å­¦ä¹ å¾ˆæœ‰æ”¶è·ï¼Œä¸€ç›´æ²¡æœ‰å…»æˆ explain sql çš„ä¹ æƒ¯ï¼Œçœ‹æ¥ä»¥åè¦è®°å¾—ã€‚<br><br>ä»Šå¤©è®²äº†ä¸¤ä¸ªé—®é¢˜:<br>1. è¯¥ä¸è¯¥ç”¨ join<br>2. å¦‚æœä½¿ç”¨äº† join ï¼Œæ€ä¹ˆè¿›è¡Œä¼˜åŒ–<br><br>è§£ç­”:<br><br>1. å½“è¢«é©±åŠ¨è¡¨åœ¨ join æ—¶èƒ½ç”¨ä¸Šç´¢å¼•ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ joinã€‚<br>2. å½“è¢«é©±åŠ¨è¡¨ç”¨ä¸ä¸Šç´¢å¼•æ—¶ï¼Œå°±ä¼šå˜ä¸º BNJ ï¼Œæ­¤æ—¶è¡¨çš„æ€»æ‰«æè¡Œæ•°ä¼šå¾ˆå¤§ï¼Œè¿™æ—¶å€™éœ€è¦å°†å°è¡¨ä½œä¸ºé©±åŠ¨è¡¨ï¼Œä»¥å‡å°‘æ‰«æè¡Œæ•°ã€‚<br><br>å¦‚ä½•ç¡®å®šå°è¡¨: åº”è¯¥æ ¹æ® where æ¡ä»¶è¿‡æ»¤ä»¥åçš„è¡Œæ•°å’ŒæŸ¥è¯¢çš„å­—æ®µå¤§å°æ¥å†³å®šï¼Œä¸èƒ½å…‰çœ‹æ•°æ®è¡¨çš„è¡Œæ•°ã€‚","like_count":0},{"had_liked":false,"id":161181,"user_name":"é‡è§","can_delete":false,"product_type":"c1","uid":1624590,"ip_address":"","ucode":"FAF53CD4C28494","user_header":"https://static001.geekbang.org/account/avatar/00/18/ca/0e/5009c5ff.jpg","comment_is_top":false,"comment_ctime":1576138633,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576138633","product_id":100020801,"comment_content":"å¦‚æœä¸ç”¨straight_join, MySQLæ˜¯æ€ä¹ˆé€‰æ‹©é©±åŠ¨è¡¨çš„å‘¢? æ˜¯ä¼šå…ˆæ‰¾å°è¡¨ç„¶åç”¨è¿™ä¸ªå°è¡¨åšé©±åŠ¨è¡¨å—?","like_count":0},{"had_liked":false,"id":156178,"user_name":"ClaireToffler","can_delete":false,"product_type":"c1","uid":1738030,"ip_address":"","ucode":"0C537F129F4EAF","user_header":"https://static001.geekbang.org/account/avatar/00/1a/85/2e/92c506ce.jpg","comment_is_top":false,"comment_ctime":1574829171,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574829171","product_id":100020801,"comment_content":"è€å¸ˆè®²çš„å¾ˆå¥½,ä½†æ˜¯å¯¹äºæˆ‘è¿™ä¸ªåˆšå…¥è¡Œçš„å°ç™½æ¥è¯´ ,çœ‹äº†è¿™ä¹ˆå¤šæ–‡ç« ,çš„ç¡®æ˜¯æœ‰ç‚¹æ‡µæ‡‚,éƒ½æ„Ÿè§‰æ˜¯ä¸€çŸ¥åŠè§£,ä¸èƒ½æ·±åˆ»çš„ç†è§£,è¯·è€å¸ˆæŒ‡ç‚¹æŒ‡ç‚¹,å¦‚ä½•èƒ½æ”¹å˜ç°çŠ¶? è°¢è°¢è€å¸ˆ<br>","like_count":0},{"had_liked":false,"id":151892,"user_name":"Gavin","can_delete":false,"product_type":"c1","uid":1641609,"ip_address":"","ucode":"59E2C6A74EE183","user_header":"https://static001.geekbang.org/account/avatar/00/19/0c/89/44e33be0.jpg","comment_is_top":false,"comment_ctime":1573807357,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573807357","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼Œå°±æ˜¯NLJè·ŸBLJ æ¯”è¾ƒè¿‡ç¨‹ï¼Œæ•°æ®æ˜¯å­˜åœ¨å“ªå—å†…å­˜ä¸Šçš„ã€‚<br>BLJ çš„é©±åŠ¨è¡¨æ•°æ®æ˜¯ä¿å­˜åœ¨join_bufferé‡Œï¼Œè¢«é©±åŠ¨è¡¨åœ¨æ¯”è¾ƒæ—¶æ˜¯æ£€æŸ¥innodb_buffer_poolæ˜¯å¦å­˜åœ¨æ•°æ®ï¼Œå¦‚æœæœ‰å°±æ‹¿å»æ¯”è¾ƒï¼Œæ²¡æœ‰å°±ä»ç£ç›˜ä¸Šæ‹‰åˆ°innodb_buffer_poolå—ï¼Ÿå¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œå‡è®¾è¢«é©±åŠ¨è¡¨æ¯”è¾ƒå¤§ï¼Œinnodb_buffer_poolæ”¾ä¸ä¸‹ï¼Œé‚£ä¹ˆè¿™ä¸ªå…¬å¼ï¼šN+Î»*N*M çš„ååŠéƒ¨åˆ†æ˜¯ä¸æ˜¯å­˜åœ¨å¤šæ¬¡ä»ç£ç›˜è¯»å–çš„æƒ…å†µã€‚å¦‚æœè¢«é©±åŠ¨è¡¨æ¯”è¾ƒå°ï¼Œinnodb_buffer_poolå¯ä»¥æ”¾ä¸‹ï¼Œé‚£ä¹ˆÎ»*N*M å¤§éƒ¨åˆ†è¯»å–éƒ½æ˜¯ä»innodb_buffer_poolä¸Šè¯»å–çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":151506,"user_name":"Geek_WBL","can_delete":false,"product_type":"c1","uid":1473803,"ip_address":"","ucode":"1768A03CEF4CCE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epcLktmsepiaUn9Y45Rsibhqc8t0EvISvrpoKx9ahG7sV1KU7DLbgEIKdTgIpm2GSd9ulsSUiawj4fjg/132","comment_is_top":false,"comment_ctime":1573732333,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573732333","product_id":100020801,"comment_content":"å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œå¦‚æœä½¿ç”¨ Simple Nested-Loop Join ç®—æ³•è¿›è¡ŒæŸ¥è¯¢ï¼Œæ‰«æè¡Œæ•°ä¹Ÿæ˜¯ 10 ä¸‡è¡Œã€‚<br>è¿™ä¸ªåœ°æ–¹æ˜¯ä¸æ˜¯æœ‰é—®é¢˜ï¼Œåº”è¯¥æ˜¯åˆ¤æ–­æ¬¡æ•°ä¹Ÿæ˜¯10ä¸‡æ¬¡","like_count":0},{"had_liked":false,"id":148976,"user_name":"æ¸…éŸ³Susunma~ğŸ€","can_delete":false,"product_type":"c1","uid":1710369,"ip_address":"","ucode":"63AF68C6F8EFF6","user_header":"https://static001.geekbang.org/account/avatar/00/1a/19/21/d585475b.jpg","comment_is_top":false,"comment_ctime":1573120417,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573120417","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸¤ä¸ªé—®é¢˜ï¼š1. æ˜¯ä¸æ˜¯åªè¦è¢«é©±åŠ¨è¡¨ä¸Šæ²¡æœ‰ä½¿ç”¨ç´¢å¼•ï¼Œå°±ä¼šç”¨åˆ°Block Nested Loopç®—æ³•?<br>2. æˆ‘å‘ç°ï¼Œå½“ä¸¤ä¸ªè¡¨éƒ½åœ¨aå­—æ®µæœ‰ç´¢å¼•ï¼Œä½¿ç”¨left joinï¼Œä¼šå‡ºç°è¡¨ä¸€åšé©±åŠ¨è¡¨ï¼Œä¼šç”¨ä¸Šè¡¨äºŒçš„ç´¢å¼•ï¼Œä½†æ˜¯è¡¨äºŒåšé©±åŠ¨è¡¨çš„æ—¶å€™ï¼Œå°±ä¸ä¼šç”¨ä¸Šè¡¨ä¸€çš„ç´¢å¼•ï¼Œä»è€Œå‡ºç°äº†BNLç®—æ³•ï¼Œä¸‹é¢æ˜¯å¯¹åº”çš„ä¾‹å­ï¼š<br>create table a1(id int, item_id varchar, index(item_id))engine=innodb;<br>create table b1(id int, item_id varchar, type int, index(item_id))engine=innodb;<br>è¯­å¥ä¸€ï¼šselect a1.id, a1.item_id, b1.type from a1 left join b1 on a1.item_id  = b1.item_id;  <br>è¯­å¥äºŒï¼šselect a1.id, a1.item_id, b1.type from b1 left join a1 on a1.item_id  = b1.item_id;<br>ç»“æœæ˜¾ç¤ºï¼Œè¯­å¥äºŒä¸­ï¼Œè¢«é©±åŠ¨è¡¨a1æ²¡èƒ½ç”¨ä¸Šç´¢å¼•item_Idï¼Œæ‰€ä»¥ç”¨äº†BNTç®—æ³•ï¼Œä½†æ˜¯è¯­å¥ä¸€å´ç”¨ä¸Šäº†ç´¢å¼•ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":147738,"user_name":"lzh","can_delete":false,"product_type":"c1","uid":1336951,"ip_address":"","ucode":"C3D83DF4230109","user_header":"https://static001.geekbang.org/account/avatar/00/14/66/77/194ba21d.jpg","comment_is_top":false,"comment_ctime":1572882194,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572882194","product_id":100020801,"comment_content":"è€å¸ˆæä¸ªæºç ä¸“æ å¤šå¥½å•Šï¼Œè‡³å°‘æœ‰äººé¢†ç€å…¥é—¨ï¼Œè‡ªå·±çœ‹æºç è¯´ä¸å®šé—¨éƒ½æ‰¾ä¸åˆ°åœ¨å“ª","like_count":0},{"had_liked":false,"id":143869,"user_name":"é¥­ç²’","can_delete":false,"product_type":"c1","uid":1153455,"ip_address":"","ucode":"4C3220B0D43997","user_header":"https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg","comment_is_top":false,"comment_ctime":1571801166,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571801166","product_id":100020801,"comment_content":"æ”¶è·é¢‡å¤šã€‚ğŸ‘","like_count":0},{"had_liked":false,"id":142044,"user_name":"hyzhaolt","can_delete":false,"product_type":"c1","uid":1509080,"ip_address":"","ucode":"9D901B26E285CA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epe7nx104LWFd7MHQVKCJeVwlr6pXmJClpEYic2Pw1ARhAbeqJicBpvL4XN9Xpbqr6icblqkeahibuwHw/132","comment_is_top":false,"comment_ctime":1571282934,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571282934","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ è¯·é—®åœ¨å®é™…é¡¹ç›®ä¸­ç¢°åˆ°è¿‡ç±»ä¼¼ä¸€ä¸ªé—®é¢˜å’¨è¯¢ä¸€ä¸‹æ‚¨ é—®é¢˜ï¼š<br> 1  a è¡¨ join b è¡¨ on ç›¸å…³å­—æ®µ ç›¸å…³å­—æ®µåœ¨ä¸¤ä¸ªè¡¨ä¸­éƒ½æœ‰ç´¢å¼•ä¹Ÿå°±æ˜¯å¯ä»¥ç”¨åˆ° NJL ä½†æ˜¯ åœ¨æœ€åçš„è¯­å¥ä¸­ limit 4000æ—¶è¿˜æ˜¯å¾ˆå¿«çš„ ä½†æ˜¯ limit 400000,4000 å°±å¾ˆæ…¢äº†è¦ 10å‡ ç§’ æ‰€ä»¥è¯·é—®è€å¸ˆè¿™ç§æƒ…å†µä¸‹å¯¼è‡´æ…¢çš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆå‘¢ ï¼Œæœ‰ä»€ä¹ˆæ›´å¥½çš„è§£å†³æ–¹æ¡ˆå˜› è¿˜æ˜¯ç›´æ¥ä¸ç”¨join ï¼›<br> <br>2 è¯·é—®è€å¸ˆ joinå‡ºæ¥çš„ç»“æœé›†æ˜¯æ”¾åœ¨äº†å†…å­˜è¿˜æ˜¯ ç£ç›˜ç©ºé—´å‘¢ æ˜¯ä¸æ˜¯ä¼šå½¢æˆä¸€ä¸ªviewå‘¢<br>éº»çƒ¦è€å¸ˆè§£ç­”ä¸€ä¸‹ è°¢è°¢<br>","like_count":0},{"had_liked":false,"id":140764,"user_name":"change","can_delete":false,"product_type":"c1","uid":1110876,"ip_address":"","ucode":"D78B4B3752B6FE","user_header":"https://static001.geekbang.org/account/avatar/00/10/f3/5c/8704e784.jpg","comment_is_top":false,"comment_ctime":1571044946,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1571044946","product_id":100020801,"comment_content":"mysql&gt; select @@version;<br>+-----------+<br>| @@version |<br>+-----------+<br>| 5.7.24    |<br>+-----------+<br>1 row in set (0.00 sec)<br><br>mysql&gt; show variables like &#39;%join_buffer_size%&#39;;<br>+------------------+-------+<br>| Variable_name    | Value |<br>+------------------+-------+<br>| join_buffer_size | 128   |<br>+------------------+-------+<br>1 row in set (0.01 sec)<br>mysql&gt; use test<br>Reading table information for completion of table and column names<br>You can turn off this feature to get a quicker startup with -A<br><br>Database changed<br>mysql&gt; explain select t1.*, t2.b from t1 inner join t2 on (t1.b=t2.b) where t2.id&lt;=100;<br>+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+----------------------------------------------------+<br>| id | select_type | table | partitions | type  | possible_keys | key     | key_len | ref  | rows | filtered | Extra                                              |<br>+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+----------------------------------------------------+<br>|  1 | SIMPLE      | t1    | NULL       | ALL   | NULL          | NULL    | NULL    | NULL |  100 |   100.00 | NULL                                               |<br>|  1 | SIMPLE      | t2    | NULL       | range | PRIMARY       | PRIMARY | 4       | NULL |  100 |    10.00 | Using where; Using join buffer (Block Nested Loop) |<br>+----+-------------+-------+------------+-------+---------------+---------+---------+------+------+----------+----------------------------------------------------+<br>2 rows in set, 1 warning (0.01 sec)<br>-------------------<br>straight_joinæ˜¯é™å®šå·¦è¾¹çš„è¡¨ä¸ºé©±åŠ¨è¡¨,å³è¾¹çš„è¡¨æ˜¯è¢«é©±åŠ¨è¡¨,ä¼˜åŒ–å™¨ä¸èƒ½ç»“åˆä¸¤ä¸ªè¡¨ä¸­çš„è¡Œæ•°å’Œå†…å®¹ä¸¤ä¸ªå› ç´ æ¥å†³å®šå“ªä¸ªè¡¨æ˜¯é©±åŠ¨è¡¨,æˆ‘è¿™é‡Œç”¨çš„æ˜¯inner join,ä¸¤ä¸ªè¡¨éƒ½æ˜¯100è¡Œ,t2ä¸­åªéœ€è¦æŸ¥å‡ºbå­—æ®µ,æŒ‰ç…§ä¸­è®²çš„åº”è¯¥é€‰æ‹©t2é©±åŠ¨è¡¨çš„,ä½†æ˜¯æ‰§è¡Œè®¡åˆ’è¿˜æ˜¯ä»¥t1ä¸ºé©±åŠ¨è¡¨,éº»çƒ¦å„ä½å¤§ç¥å¸®å¿™è§£æƒ‘","like_count":0},{"had_liked":false,"id":137728,"user_name":"é™ˆæ˜¥","can_delete":false,"product_type":"c1","uid":1310177,"ip_address":"","ucode":"A73CF1E7CF7AF2","user_header":"https://static001.geekbang.org/account/avatar/00/13/fd/e1/dc971f5b.jpg","comment_is_top":false,"comment_ctime":1569831868,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569831868","product_id":100020801,"comment_content":"é—®ä¸ªææˆ‘è¯ï¼Œæˆ‘çœ‹åˆ°å¾ˆå¤šMySQLè§„èŒƒéƒ½ä¸å»ºè®®ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹å’Œè§†å›¾ï¼Œè¯·é—®è¿™ä¸ªæ˜¯åˆç†çš„å—ï¼Ÿå¦‚æœåˆç†ï¼Œæ˜¯ä¸ºä»€ä¹ˆï¼Œè°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":136717,"user_name":"å¤ç›®","can_delete":false,"product_type":"c1","uid":1212750,"ip_address":"","ucode":"67C075A01CF4D2","user_header":"https://static001.geekbang.org/account/avatar/00/12/81/4e/d71092f4.jpg","comment_is_top":false,"comment_ctime":1569497395,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569497395","product_id":100020801,"comment_content":"è€å¸ˆ æƒ³è¯·æ•™ä¸‹inner joinä¹‹ååŸè¯­å¥é©±åŠ¨è¡¨é¡ºåºæ”¹å˜äº† é™¤äº†ç”¨straight_joinå¼ºåˆ¶é©±åŠ¨é¡ºåºå¤–è¿˜æœ‰å…¶ä»–çš„åŠæ³•å—","like_count":0},{"had_liked":false,"id":131157,"user_name":"huolang","can_delete":false,"product_type":"c1","uid":1346708,"ip_address":"","ucode":"FDC4A6B6151C5E","user_header":"https://static001.geekbang.org/account/avatar/00/14/8c/94/5282994c.jpg","comment_is_top":false,"comment_ctime":1567654855,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567654855","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½¿ç”¨joinçš„æ—¶å€™ï¼Œonå’Œwhereçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<br>è€å¸ˆèƒ½ä¸èƒ½è¯¦ç»†è¯´ä¸€ä¸‹joinçš„æ‰§è¡Œç»†èŠ‚ï¼Œonå’Œwhereçš„æ¡ä»¶æ˜¯åœ¨ä»€ä¹ˆä¹‹åæ‰§è¡Œçš„ã€‚<br>æˆ‘çœ‹ç½‘ä¸Šæœ‰ç§è¯´æ³•æ˜¯ï¼Œjoinçš„whereçš„æ¡ä»¶è¿‡æ»¤æ˜¯åœ¨ä¸¤ä¸ªè¡¨æ ¹æ®onçš„æ¡ä»¶joinå®Œå†æ‰§è¡Œè¿‡æ»¤çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸¤ä¸ªè¡¨è¿æ¥å®Œä»¥åå†æ ¹æ®whereæ¡ä»¶è¿‡æ»¤æ•°æ®ï¼Œè¿™æ ·çš„è¯ï¼Œwhereçš„æ¡ä»¶ä¸èƒ½èµ·åˆ°å‡å°‘è¡¨è¿æ¥æ—¶çš„æ•°é‡ã€‚","like_count":0},{"had_liked":false,"id":130313,"user_name":"MrVito","can_delete":false,"product_type":"c1","uid":1252169,"ip_address":"","ucode":"716FF6F8871706","user_header":"https://static001.geekbang.org/account/avatar/00/13/1b/49/ddefc656.jpg","comment_is_top":false,"comment_ctime":1567423733,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567423733","product_id":100020801,"comment_content":"æ ¹æ®ä¸Šä¸€ç¯‡æ–‡ç« çš„è®²è¿°ï¼Œæ•´ä¸ªæŸ¥è¯¢åœ¨LRUç¼“å­˜ç­–ç•¥ï¼Œbuffer poolé‡Œé¢çš„æ•°æ®å°±ä¼šè¶…è¿‡1ç§’ï¼Œè¿™æ ·å°±ä¼šæ”¾åœ¨äº†youngæ•°æ®é‡Œé¢ï¼Œæ•´ä¸ªLRUå°±ä¼šä¹±å¥—äº†ï¼Œè¿™æ˜¯æŸ¥è¯¢çƒ­æ•°æ®ä¹Ÿä¼šæ€§èƒ½è¿‡æ…¢ï¼Œbuffer pool hit rateè¿‡ä½","like_count":0},{"had_liked":false,"id":129941,"user_name":"szc","can_delete":false,"product_type":"c1","uid":1202730,"ip_address":"","ucode":"869C227F5D2513","user_header":"https://static001.geekbang.org/account/avatar/00/12/5a/2a/5ab880b0.jpg","comment_is_top":false,"comment_ctime":1567331103,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567331103","product_id":100020801,"comment_content":"select t1.b,t2.* from  t1  straight_join t2 on (t1.b=t2.b) where t2.id&lt;=100;<br>select t1.b,t2.* from  t2  straight_join t1 on (t1.b=t2.b) where t2.id&lt;=100;<br>è¿™ä¸ªä¸ºä»€ä¹ˆ t1å‚ä¸joinçš„æ˜¯100è¡Œå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":123377,"user_name":"å´å°æ™º","can_delete":false,"product_type":"c1","uid":1310798,"ip_address":"","ucode":"C7C9F58B5C9F7B","user_header":"https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg","comment_is_top":false,"comment_ctime":1565664279,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565664279","product_id":100020801,"comment_content":"æ”¶ç›ŠåŒªæµ…ï¼Œåœ¨æå®¢æ—¶é—´ä¹°çš„ç¬¬ä¸€é—¨è¯¾ï¼Œè¶…å€¼è¶…èµ","like_count":0},{"had_liked":false,"id":123372,"user_name":"Monday","can_delete":false,"product_type":"c1","uid":1250907,"ip_address":"","ucode":"77B9BACC783598","user_header":"https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg","comment_is_top":false,"comment_ctime":1565662778,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565662778","product_id":100020801,"comment_content":"å¯¹äºå›¾3çš„BNLè¿‡ç¨‹ï¼Œt1å’Œt2éƒ½ä¼šè¯»å…¥join bufferå—ï¼Ÿå¦åˆ™t2æ‰«æçš„æ¬¡æ•°ä¹Ÿå°†æ˜¯M*Næ¬¡ï¼Œæ€»çš„æ‰«ææ¬¡æ•°åº”è¯¥æ˜¯N+M*Næ¬¡ã€‚","like_count":0},{"had_liked":false,"id":122624,"user_name":"zz240","can_delete":false,"product_type":"c1","uid":1582722,"ip_address":"","ucode":"20B68B942C4B07","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLAZhhRRQRdNgZlHialyPRU3fMK4tnCwHic4z292Aibo8UicyqAeljibv1WzhomegqGlMica0Uibsr1SLljw/132","comment_is_top":false,"comment_ctime":1565443401,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565443401","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹æœ€åçš„æ€»ç»“è¯´ä¸¤ä¸ªè¡¨æŒ‰ç…§å„è‡ªçš„æ¡ä»¶è¿‡æ»¤ï¼Œæ˜¯æŒ‡åœ¨whereæ¡ä»¶ä¸­çš„è¿‡æ»¤å—ï¼Œæˆ‘ä»¥å‰çš„ç†è§£æ˜¯é©±åŠ¨è¡¨å’Œè¢«é©±åŠ¨è¡¨ï¼Œé¦–å…ˆåœ¨onæ¡ä»¶é‡Œé¢è¿‡æ»¤ç„¶åå†æ‰§è¡Œè¿æ¥å¾—åˆ°ä¸€ä¸ªè¿æ¥è¡¨ï¼Œæœ€åå†æ ¹æ®whereæ¡ä»¶ç­›é€‰æ‰è¿æ¥è¡¨é‡Œçš„æ•°æ®è¿”å›ç»“æœé›†ï¼Œæœ‰äº›çŸ›ç›¾å› ä¸ºä¹‹å‰åšè¿‡ä¸€äº›æµ‹è¯•è®©æˆ‘å¾—å‡ºäº†è¿™ä¸ªç»“è®ºï¼Œè¿˜æœ‰åœ¨ç»è¿‡äº†onæ¡ä»¶ä¹‹åé©±åŠ¨è¡¨å’Œè¢«é©±åŠ¨è¡¨å°±æ— æ³•ä½¿ç”¨ç´¢å¼•è¿æ¥äº†ï¼Œæœ›è€å¸ˆè§£ç­”ã€‚ã€‚w(ï¾ŸĞ”ï¾Ÿ)w","like_count":0},{"had_liked":false,"id":120634,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1564964333,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564964333","product_id":100020801,"comment_content":"é«˜é¢‘çŸ¥è¯†ç‚¹ï¼Œå‰å‡ å¤©è¿˜å†™äº†ä¸€å †ç›¸å…³çš„SQLè¯­å¥å‘¢!<br>æ—¢ç„¶MySQLæä¾›äº†ï¼Œç”¨ä¸€å®šæ˜¯èƒ½ç”¨çš„ï¼Œåªæ˜¯æƒ³ç”¨å¥½è¿˜æ˜¯è¦è¡¥å……ç‚¹ä½¿ç”¨åŸåˆ™çš„çŸ¥è¯†çš„ã€‚å‡ ä¹æ‰€æœ‰å·¥å…·çš„æ­£å¸¸ä½¿ç”¨éƒ½æ˜¯è¦æ±‚æ€§èƒ½æœ€å¤§åŒ–çš„ï¼Œjoinä¹Ÿä¸€æ ·ï¼Œæ•°æ®æŸ¥è¯¢èƒ½ç”¨åˆ°ç´¢å¼•é€Ÿåº¦å°±ä¼šå¿«ï¼Œæœç´¢çš„èŒƒå›´å°é€Ÿåº¦å°±ä¼šå¿«ï¼Œæ‰€ä»¥ï¼Œç”¨å°ç»“æœé›†ä½œä¸ºé©±åŠ¨è¡¨ï¼Œç”¨explainçœ‹æ˜¯å¦ç”¨åˆ°äº†ç´¢å¼•ï¼ŒåŸºæœ¬å°±ç”¨ä¸é”™å•¦ï¼<br>æ„Ÿè°¢ï¼Œè€å¸ˆè¿™ç¯‡å¾ˆå®ç”¨!","like_count":0},{"had_liked":false,"id":116143,"user_name":"topsion","can_delete":false,"product_type":"c1","uid":1158152,"ip_address":"","ucode":"01366517C6F564","user_header":"https://static001.geekbang.org/account/avatar/00/11/ac/08/8b99367c.jpg","comment_is_top":false,"comment_ctime":1563793283,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563793283","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ•°æ®è®°å½•è¯»å–åˆ°join buffer ä¹Ÿæ˜¯æŒ‰é¡µè¯»å–å§ï¼Ÿå•ä½ä¸æ˜¯è®°å½•","like_count":0},{"had_liked":false,"id":115179,"user_name":"ZHANG","can_delete":false,"product_type":"c1","uid":1442437,"ip_address":"","ucode":"BAFD110AE33328","user_header":"https://static001.geekbang.org/account/avatar/00/16/02/85/9a81a973.jpg","comment_is_top":false,"comment_ctime":1563503964,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563503964","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œè¯»äº†å‡ éæˆ‘æœ‰ä¸ªé—®é¢˜ä¸å¤ªæ˜ç™½<br>Block Nested-Loop Joinï¼Œé©±åŠ¨è¡¨å¯èƒ½ä¼šè¢«åˆ†æ®µæ”¾åˆ°join_bufferä¸­ï¼Œæ”¾åˆ°join_bufferçš„æ•°æ®æ˜¯ä»å“ªå„¿æ¥çš„å‘¢ï¼Œä¹Ÿæ˜¯ä»buffer poolæ¥çš„å—ï¼Ÿå¦‚æœbuffer poolæ²¡æœ‰å°±ä¼šè¯»ç›˜ã€‚","like_count":0},{"had_liked":false,"id":112881,"user_name":"Ryoma","can_delete":false,"product_type":"c1","uid":1130590,"ip_address":"","ucode":"7F692369239692","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","comment_is_top":false,"comment_ctime":1562836791,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"1562836791","product_id":100020801,"comment_content":"ä½†æ˜¯ï¼Œè¿™æ ·ç®—æ¥ï¼Œè¿™ä¸ª SQL è¯·æ±‚å°±è¦æ‰«æè¡¨ t2 å¤šè¾¾ 100 æ¬¡ã€‚ã€‚ã€‚<br><br>è¿™é‡Œåº”è¯¥æ˜¯ 1000 æ¬¡ï¼Œt2 æ˜¯1000è¡Œæ•°æ®çš„ ","like_count":0},{"had_liked":false,"id":103543,"user_name":"jacy","can_delete":false,"product_type":"c1","uid":1103456,"ip_address":"","ucode":"0022A8759DDCE6","user_header":"https://static001.geekbang.org/account/avatar/00/10/d6/60/f21b2164.jpg","comment_is_top":false,"comment_ctime":1560472302,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1560472302","product_id":100020801,"comment_content":"å¦‚æœæŠŠinnodedbç¼“å­˜oldåŒºå æ»¡ï¼Œè€Œé‡å¤æ‰«æä¸”æ—¶é—´åœ¨ä¸€ç§’å†…çš„è¯æ— æ³•è¢«æœ€è¿‘æœ€å°‘ä½¿ç”¨ç®—æ³•å”¤å‡ºï¼Œä»è€ŒæŒ¤å å…¶ä»–çƒ­ç‚¹æ•°æ®ã€‚å¯¼è‡´å†…å­˜å‘½ä¸­ç‡ä¸‹é™ï¼Œå¢åŠ ioå‹åŠ›,é™ä½å¤„ç†æ€§èƒ½ç­‰è¿é”ååº”å°±æ¥äº†ã€‚<br>","like_count":0},{"had_liked":false,"id":93394,"user_name":"èœé¸Ÿèµ·é£ğŸ›«","can_delete":false,"product_type":"c1","uid":1091783,"ip_address":"","ucode":"6B78994D10755B","user_header":"https://static001.geekbang.org/account/avatar/00/10/a8/c7/c2ccb449.jpg","comment_is_top":false,"comment_ctime":1557463365,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557463365","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå›¾ 4 ä¸ä½¿ç”¨ç´¢å¼•å­—æ®µ join çš„ explain ç»“æœrowsä¸º1000ï¼Œæˆ‘çš„æ˜¾ç¤ºå‡ºæ¥çš„rowsæ˜¯829ï¼Œè¿™æ˜¯ä¸ºå•¥å‘€<br>?","like_count":0},{"had_liked":false,"id":93092,"user_name":"ä¸ä¼¼æ—§æ—¥","can_delete":false,"product_type":"c1","uid":1161271,"ip_address":"","ucode":"DF4C5E3AB9570C","user_header":"https://static001.geekbang.org/account/avatar/00/11/b8/37/98991aeb.jpg","comment_is_top":false,"comment_ctime":1557396512,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557396512","product_id":100020801,"comment_content":"ä½¿ç”¨joinè¯­å¥ä¸æ˜¯ä¼šäº§ç”Ÿç¬›å¡å„¿ç§¯ä¹ˆï¼Ÿ è¿™æ ·æ•ˆç‡æ˜¯ä¸æ˜¯ä¸é«˜ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":90644,"user_name":"ä¸ä¼¼æ—§æ—¥","can_delete":false,"product_type":"c1","uid":1161271,"ip_address":"","ucode":"DF4C5E3AB9570C","user_header":"https://static001.geekbang.org/account/avatar/00/11/b8/37/98991aeb.jpg","comment_is_top":false,"comment_ctime":1556594549,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556594549","product_id":100020801,"comment_content":"select * from t1 straight_join t2 on (t1.a=t2.a);<br>ä¸<br>select * from t1 , t2 where  t1.a=t2.a; <br>æœ‰ä»€ä¹ˆåŒºåˆ«?<br>","like_count":0},{"had_liked":false,"id":85891,"user_name":"bluefantasy3","can_delete":false,"product_type":"c1","uid":1299930,"ip_address":"","ucode":"9D6FF2811F7465","user_header":"","comment_is_top":false,"comment_ctime":1555288745,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555288745","product_id":100020801,"comment_content":"è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä¸‹æ˜¯åŸæ–‡ï¼š<br>&quot;å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œå¦‚æœä½¿ç”¨ Simple Nested-Loop Join ç®—æ³•è¿›è¡ŒæŸ¥è¯¢ï¼Œæ‰«æè¡Œæ•°ä¹Ÿæ˜¯ 10 ä¸‡è¡Œã€‚å› æ­¤ï¼Œä»æ—¶é—´å¤æ‚åº¦ä¸Šæ¥è¯´ï¼Œè¿™ä¸¤ä¸ªç®—æ³•æ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯ï¼ŒBlock Nested-Loop Join ç®—æ³•çš„è¿™ 10 ä¸‡æ¬¡åˆ¤æ–­æ˜¯å†…å­˜æ“ä½œï¼Œé€Ÿåº¦ä¸Šä¼šå¿«å¾ˆå¤šï¼Œæ€§èƒ½ä¹Ÿæ›´å¥½ã€‚&quot;<br><br>æˆ‘çš„é—®é¢˜ï¼šæˆ‘ç†è§£å³ä½¿æ˜¯simple nested-loop joinä¹Ÿæ˜¯å†…å­˜æ“ä½œå‘€ï¼Œæ•°æ®åº“çš„è¯»åº”è¯¥æ˜¯ä»¥é¡µä¸ºå•ä½è¯»åˆ°å†…å­˜çš„ã€‚å‡å¦‚Aè¡¨æœ‰mé¡µï¼Œè¯»å…¥å†…å­˜éœ€è¦mæ¬¡ioï¼ŒBè¡¨æœ‰né¡µï¼Œè¯»å…¥å†…å­˜éœ€è¦næ¬¡ioã€‚è¿™ä¸¤ç§joinç®—æ³•çš„ioæ¬¡æ•°éƒ½æ˜¯m*næ¬¡ã€‚ å…¶ä»–éƒ½æ˜¯å†…å­˜æ“ä½œã€‚æ€§èƒ½åº”è¯¥ä¸€æ ·å‘€ï¼Ÿ è¯·è€å¸ˆæŒ‡æ­£ã€‚ã€‚è°¢è°¢ã€‚ã€‚<br><br>","like_count":0},{"had_liked":false,"id":77701,"user_name":"æœªå®Œæˆ","can_delete":false,"product_type":"c1","uid":1303231,"ip_address":"","ucode":"2697C7E7B15655","user_header":"https://static001.geekbang.org/account/avatar/00/13/e2/bf/574d4ac9.jpg","comment_is_top":false,"comment_ctime":1552984618,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552984618","product_id":100020801,"comment_content":"select p.id,u.product_id,u.ua from product p join user u on p.id=u.id INTO OUTFILE &quot;&#47;tmp&#47;a.txt&quot; fields terminated by &#39;|&#39; enclosed by &#39;&quot;&#39; lines terminated by &#39;\\n&#39;;<br>+----+-------------+-------+--------+--------------------------+---------+---------+-----------+--------+-------+<br>| id | select_type | table | type   | possible_keys            | key     | key_len | ref       | rows   | Extra |<br>+----+-------------+-------+--------+--------------------------+---------+---------+-----------+--------+-------+<br>|  1 | SIMPLE      | p     | ALL    | NULL                     | NULL    | NULL    | NULL      | 904579 | NULL  |<br>|  1 | SIMPLE      | u     | eq_ref | PRIMARY,id_product_index | PRIMARY | 4       | test.p.id |      1 | NULL  |<br>+----+-------------+-------+--------+--------------------------+---------+---------+-----------+--------+-------+<br>è¡¨ product æ²¡æœ‰ç´¢å¼•ï¼Œuser id æ˜¯ä¸»é”®è¡¨æ¯”è¾ƒå¤§åƒä¸‡çº§ï¼Œè¿™ä¸ªæŒ‰ç…§æˆ‘çš„ç†è§£åº”è¯¥æ˜¯ç”¨çš„nljï¼Œuserçš„è¡¨å¤§å°å¯¹è¿™ä¸ªè¯·æ±‚é€Ÿåº¦åº”è¯¥å½±å“ä¸ä¼šå¤ªå¤§ ï¼Œæˆ‘çš„&#47;tmp&#47;a.txt è¿™ä¸ªæ–‡ä»¶æ˜¯æ¯åˆ°16mæ‰ä¼šå†™å…¥ä¸€æ¬¡ï¼Œåº”è¯¥å¯¹åº”çš„æ˜¯nljç®—æ³•å›¾ä¸­ç»“æœé›†çš„éƒ¨åˆ†ï¼Œè¯·é—®ä¸€ä¸‹æ˜¯ä¸æ˜¯ç»“æœé›†åˆ°æŸä¸ªå€¼çš„æ—¶å€™æ‰ä¼šå†™å…¥åˆ°a.txtæ–‡ä»¶å¦‚æœæ˜¯çš„è¯è¿™ä¸ªå€¼å¯¹åº”çš„é…ç½®æ˜¯ä»€ä¹ˆå•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":72244,"user_name":"delete is create","can_delete":false,"product_type":"c1","uid":1147979,"ip_address":"","ucode":"A8C751219A7746","user_header":"https://static001.geekbang.org/account/avatar/00/11/84/4b/e4738ba8.jpg","comment_is_top":false,"comment_ctime":1551539258,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1551539258","product_id":100020801,"comment_content":"ä»Šå¤©åœ¨å®é™…ä¸­é‡åˆ°ä¸€ä¸ªé—®é¢˜  left joinäº†ä¸€å¼ è¡¨åä¸»è¡¨çš„æ¡ä»¶ç­›é€‰å°±ä¸èµ·ä½œç”¨äº†  é™¤éæŠŠleft join  å˜ä¸ºinner  join","like_count":0},{"had_liked":false,"id":66770,"user_name":"é©¬å„¿å¿«è·‘","can_delete":false,"product_type":"c1","uid":1031022,"ip_address":"","ucode":"58FD8AE933D4F9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bb/6e/44c74b05.jpg","comment_is_top":false,"comment_ctime":1550018800,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1550018800","product_id":100020801,"comment_content":"å€¼å¾—åå¤çœ‹","like_count":0},{"had_liked":false,"id":66274,"user_name":"æ¾èŠ±çš®è›‹me","can_delete":false,"product_type":"c1","uid":1000054,"ip_address":"","ucode":"B0846CEEF6B0D1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/76/256bbd43.jpg","comment_is_top":false,"comment_ctime":1549901414,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1549901414","product_id":100020801,"comment_content":"left joinå’Œright joinï¼ŒMySQLä¼˜åŒ–å™¨å¯èƒ½ä¼šé€‰æ‹©æ­£ç¡®çš„è¡¨ä½œä¸ºé©±åŠ¨è¡¨?","like_count":0},{"had_liked":false,"id":65139,"user_name":"å—å±±","can_delete":false,"product_type":"c1","uid":1119593,"ip_address":"","ucode":"94656FE4A6C378","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","comment_is_top":false,"comment_ctime":1549074269,"is_pvip":true,"replies":[{"id":"23093","content":"è¿™ä¸ªæ˜¯å®é™…è·‘å‡ºæ¥çš„æ•ˆæœ<br><br>å¦‚æœè¯´è®¡ç®—çš„è¯ï¼Œæ¯ä¸€è¡Œå›ºå®šé•¿åº¦ï¼Œä½ ç”¨1024é™¤ä¸€ä¸‹ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1549098023,"ip_address":"","comment_id":65139,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1549074269","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ”¾å®Œ88è¡Œå°±æ»¡äº†ï¼Œ88æ˜¯æ€ä¹ˆè®¡ç®—å¾—æ¥çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438332,"discussion_content":"è¿™ä¸ªæ˜¯å®é™…è·‘å‡ºæ¥çš„æ•ˆæœ\n\nå¦‚æœè¯´è®¡ç®—çš„è¯ï¼Œæ¯ä¸€è¡Œå›ºå®šé•¿åº¦ï¼Œä½ ç”¨1024é™¤ä¸€ä¸‹ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549098023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64637,"user_name":"å¤©ç‹","can_delete":false,"product_type":"c1","uid":1239337,"ip_address":"","ucode":"C074B2F9A5F007","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/29/629d9bb0.jpg","comment_is_top":false,"comment_ctime":1548839237,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548839237","product_id":100020801,"comment_content":"åœ¨é€‰æ‹©é©±åŠ¨è¡¨çš„æ—¶å€™ï¼Œä¼šå…ˆç”¨æ¡ä»¶è¿‡æ»¤æ‰å„è‡ªè¡¨çš„æ•°æ®ä»¥åï¼Œæ•°æ®é‡å°çš„åšä¸ºé©±åŠ¨è¡¨ã€‚Block nested-Loop join ï¼Œä½¿ç”¨è¿™ç§ç®—æ³•ï¼Œæ‰«æè¡Œæ•°è¿‡å¤šï¼Œå¦‚æœå‘ç°è¿™ç§ï¼Œå°±å°½é‡ä¸è¦ä½¿ç”¨joinã€‚","like_count":0},{"had_liked":false,"id":64635,"user_name":"å¤©ç‹","can_delete":false,"product_type":"c1","uid":1239337,"ip_address":"","ucode":"C074B2F9A5F007","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/29/629d9bb0.jpg","comment_is_top":false,"comment_ctime":1548838914,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548838914","product_id":100020801,"comment_content":"joinçš„æ—¶å€™ï¼Œjoinçš„2ä¸ªè¡¨ï¼Œä¸€ä¸ªæ˜¯é©±åŠ¨è¡¨è¡¨1ï¼Œä¸€ä¸ªæ˜¯è¢«é©±åŠ¨è¡¨è¡¨2ï¼Œé€‰æ‹©é©±åŠ¨è¡¨ï¼Œåº”è¯¥æ‰¾å°è¡¨åšé©±åŠ¨è¡¨ã€‚æ ¹æ®joinçš„2ä¸ªå­—æ®µæ˜¯å¦æœ‰ç´¢å¼•åˆ†ä¸ºå‡ ç§æƒ…å†µï¼Œ1å¦‚æœè¢«é©±åŠ¨è¡¨å­—æ®µæœ‰ç´¢å¼•ï¼Œæ‰§è¡Œé¡ºåºï¼Œä¼šå…ˆæ‰¾å°è¡¨åšé©±åŠ¨è¡¨ï¼Œè¿‡æ»¤å‡ºå°è¡¨çš„æ•°æ®ï¼Œå†æ‹¿å‡ºå°è¡¨çš„joinå­—æ®µä¸€æ¡æ¡å»è¢«é©±åŠ¨è¡¨æ‰¾æ•°æ®ã€‚2 å¦‚æœè¢«é©±åŠ¨è¡¨æ²¡æœ‰ç´¢å¼•ï¼Œå¦‚æœå†…å­˜è¶³å¤Ÿå¤§ï¼Œä¼šå…ˆæŠŠé©±åŠ¨è¡¨æ”¾åœ¨å†…å­˜é‡Œï¼Œç„¶åå…¨è¡¨æ‰«æè¢«é©±åŠ¨è¡¨ï¼Œä¸€æ¡æ¡çš„å’Œé©±åŠ¨è¡¨çš„æ•°æ®æ¯”å¯¹ï¼Œæ¯”å¯¹æˆåŠŸçš„ï¼Œåˆ™æŠŠæ•°æ®è¿”å›ã€‚å¦‚æœå†…å­˜æ”¾ä¸ä¸‹ï¼Œåˆ™åˆ†æˆå‡ æ‰¹ï¼Œåˆ†æ‰¹æŠŠé©±åŠ¨è¡¨çš„æ•°æ®åˆ†æˆå‡ ä»½ï¼Œåˆ†å‡ ä»½ï¼Œåˆ™è¢«é©±åŠ¨è¡¨ä¼šæ‰«æå‡ éã€‚å¦‚æœå†…å­˜å¤Ÿå¤§ï¼Œèƒ½ä¸€æ¬¡æ”¾å…¥ï¼Œæ‰«æçš„è¡Œæ•°æ˜¯é©±åŠ¨è¡¨è¡Œæ•°å’Œè¢«é©±åŠ¨è¡¨è¡Œæ•°ä¹‹åï¼Œæ¯”è¾ƒæ¬¡æ•°æ˜¯ç§¯ï¼Œå¦‚æœå†…å­˜ä¸å¤Ÿï¼Œé€‰æ‹©å°è¡¨åšé©±åŠ¨è¡¨æ‰«æè¡Œæ•°ä¼šå‡å°ã€‚","like_count":0},{"had_liked":false,"id":64574,"user_name":"å¤¹å¿ƒé¢åŒ…","can_delete":false,"product_type":"c1","uid":1301957,"ip_address":"","ucode":"002BBA49D83D17","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJCscgdVibmoPyRLRaicvk6rjTJxePZ6VFHvGjUQvtfhCS6kO4OZ1AVibbhNGKlWZmpEFf2yA6ptsqHw/132","comment_is_top":false,"comment_ctime":1548827293,"is_pvip":false,"replies":[{"id":"22873","content":"é©±åŠ¨è¡¨å°±æŠŠæ¡ä»¶è¿‡æ»¤ä»¥åçš„ç»“æœé›†è®°ä¸ºNå§ ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548829686,"ip_address":"","comment_id":64574,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548827293","product_id":100020801,"comment_content":"å¦‚æœé©±åŠ¨è¡¨ä¹Ÿæœ‰æ¡ä»¶è¿‡æ»¤çš„è¯,é‚£ä¹ˆå¤æ‚åº¦æ˜¯ä¸æ˜¯å¯ä»¥çœ‹ä½œ  2*log2N+N*2*log2Mã€‚<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438082,"discussion_content":"é©±åŠ¨è¡¨å°±æŠŠæ¡ä»¶è¿‡æ»¤ä»¥åçš„ç»“æœé›†è®°ä¸ºNå§ ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548829686,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64556,"user_name":"å²æœˆå®‰ç„¶","can_delete":false,"product_type":"c1","uid":1258557,"ip_address":"","ucode":"4538C24B67B513","user_header":"https://static001.geekbang.org/account/avatar/00/13/34/3d/51762e76.jpg","comment_is_top":false,"comment_ctime":1548820425,"is_pvip":false,"replies":[{"id":"22867","content":"è¿™ä¸ªæ˜¯ä¸‹ä¸€ç¯‡çš„è¯¾åé—®é¢˜ğŸ˜†ï¼Œåé¢æˆ‘ä»¬ä¼šåˆ†æå“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548823041,"ip_address":"","comment_id":64556,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548820425","product_id":100020801,"comment_content":"æƒ³é—®ä¸‹è€å¸ˆå½“å‡ºç°å¤šçº§joinå…³è”æ—¶ï¼Œæ¯”å¦‚ï¼š<br>select * from t1 <br>inner join t2 on t2.a = t1.a<br>inner join t3 on t3.a = t1.a<br>è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ç†è§£åº”è¯¥è¿˜æ˜¯å°è¡¨åšé©±åŠ¨è¡¨ã€‚åç»­çš„è¡¨ join é¡ºåºä¼šå¯¹æŸ¥è¯¢æ€§èƒ½é€ æˆå½±å“å˜›ï¼Ÿæ€ä¹ˆæ ·æ‰æ˜¯æœ€ä¼˜çš„æŸ¥è¯¢è¯­å¥ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438068,"discussion_content":"è¿™ä¸ªæ˜¯ä¸‹ä¸€ç¯‡çš„è¯¾åé—®é¢˜ğŸ˜†ï¼Œåé¢æˆ‘ä»¬ä¼šåˆ†æå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548823041,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64514,"user_name":"supertizzy","can_delete":false,"product_type":"c1","uid":1071488,"ip_address":"","ucode":"6A042C5AF76428","user_header":"https://static001.geekbang.org/account/avatar/00/10/59/80/dc4a799f.jpg","comment_is_top":false,"comment_ctime":1548814410,"is_pvip":false,"replies":[{"id":"22844","content":"ä¸ä¼šä¸“é—¨ä¸€ç¯‡ä»‹ç»å“ˆï¼Œè¯´ä¸‹ä½ çš„é—®é¢˜ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548818616,"ip_address":"","comment_id":64514,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548814410","product_id":100020801,"comment_content":"è€å¸ˆä¹‹åä¼šä»‹ç»åˆ†åº“åˆ†è¡¨å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438039,"discussion_content":"ä¸ä¼šä¸“é—¨ä¸€ç¯‡ä»‹ç»å“ˆï¼Œè¯´ä¸‹ä½ çš„é—®é¢˜ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548818616,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":10581,"title":"53 | Zuulç½‘å…³ä»£ç å‰–æ(Code Review)","content":"æ— ","comments":[{"had_liked":false,"id":24457,"user_name":"æ­£æ˜¯é‚£æœµç«ç‘°","can_delete":false,"product_type":"c3","uid":1048261,"ip_address":"","ucode":"73D630B654573F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fe/c5/3467cf94.jpg","comment_is_top":false,"comment_ctime":1537021345,"is_pvip":false,"replies":[{"id":9641,"content":"ä½ å¥½ï¼Œä½ çš„é—®é¢˜å›ç­”å¦‚ä¸‹ï¼š1ï¼‰ï¼Œæ˜¯åŸç”Ÿzuulçš„ç®€åŒ–å®šåˆ¶ç‰ˆï¼Œä¸æ˜¯spring cloud zuulã€‚2)ï¼Œå½“ä¼ä¸šä¸šåŠ¡å’Œå›¢é˜Ÿåˆ°ä¸€å®šè§„æ¨¡ï¼Œzuulç½‘å…³æ˜¯è¦æŒ‰åœºæ™¯(h5,æ— çº¿,ç¬¬ä¸‰æ–¹å¼€æ”¾å¹³å°ç­‰)åˆ†é›†ç¾¤çš„ï¼Œæˆ‘ä¹‹å‰å’Œç°åœ¨çš„å…¬å¸éƒ½æ˜¯è¿™ç§ç®¡ç†æ¨¡å¼ï¼Œå½“ç„¶ç®¡ç†æˆæœ¬ä¼šå¤§ä¸€ç‚¹ï¼Œä¸€èˆ¬éœ€è¦ç ”å‘ä¸€å¥—ç»Ÿä¸€ç½‘å…³æ²»ç†ç³»ç»Ÿã€‚å¦‚æœä½ ä¸šåŠ¡å’Œå›¢é˜Ÿè§„æ¨¡å°ï¼Œåˆ™æ²¡å¿…è¦åˆ†é‚£ä¹ˆç»†ã€‚3ï¼‰æˆ‘ä»¬åšæ³•æ˜¯å­˜æ•°æ®åº“é›†ä¸­ç®¡ç†ï¼Œzuulç½‘å…³èŠ‚ç‚¹å®šæœŸåˆ°æ•°æ®åº“æ‹‰å–(zuulèŠ‚ç‚¹æœ¬åœ°æœ‰ç¼“å­˜å’Œæ¯”å¯¹æœºåˆ¶)ã€‚4)ï¼Œæˆ‘ä»¬åœ¨ç”Ÿäº§å®è·µä¸­å‘ç°ï¼Œä¸å¯ç”¨AsyncServerletï¼Œå½“è®¿é—®é‡å¤§æ—¶å€™è¿æ¥æ•°æœ‰é™åˆ¶ï¼ˆæ‹’ç»é¢å¤–è¯·æ±‚ï¼‰ï¼›å¯ç”¨AsyncServerletåï¼Œå¯ä»¥æ¥å—çš„è¿æ¥æ•°æ˜æ˜¾å¢åŠ ï¼Œå½“ç„¶è¿™ä¸ªåªæ˜¯å‰ç«¯å¼‚æ­¥ï¼Œåç«¯å¤„ç†å’Œè¯·æ±‚è¿˜æ˜¯ç”±å®¹å™¨çº¿ç¨‹æ± åŒæ­¥å¤„ç†çš„ï¼Œæ€»ä½“ååé‡æ²¡æœ‰å¢åŠ ï¼Œåªæ˜¯å¯æ¥å—è¿æ¥æ•°å¢åŠ äº†ï¼Œæ‰€ä»¥æˆ‘è¯´ä¼˜åŒ–äº†è¿æ¥æ•°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1537680026,"ip_address":"","comment_id":24457,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"è€å¸ˆæƒ³é—®å‡ ä¸ªé—®é¢˜ï¼š\n1ã€è€å¸ˆå®è·µçš„zuulæ˜¯åŸç”Ÿçš„zuulä¹ˆï¼Ÿå¹¶æ²¡æœ‰ä½¿ç”¨Spring-cloud-zuulï¼Ÿ\n2ã€æ¯ä¸€ä¸ªå®¢æˆ·ç«¯å¦‚H5ã€æ‰‹æœºã€webéƒ½å¯¹åº”ä¸åŒçš„zuulç½‘å…³ï¼Ÿè¿™æ ·ç®¡ç†æ˜¯ä¸æ˜¯å¤ªéº»çƒ¦ï¼Ÿ\n3ã€filteræ–‡ä»¶æ˜¯æ€ä¹ˆç®¡ç†çš„ï¼Œå†™åœ¨zuulé¡¹ç›®é‡Œé¢è¿˜æ˜¯ç›´æ¥å‚¨å­˜åœ¨æ•°æ®åº“é‡Œé¢ï¼Ÿ\n4ã€è€å¸ˆæ‰€è¯´çš„å¼‚æ­¥servletå¯ä»¥ä¼˜åŒ–è¿æ¥æ•°ï¼Œservletæ˜¯è¿è¡Œåœ¨å®¹å™¨é‡Œé¢çš„å¦‚tomcatï¼Œç›®å‰tomcatæ”¯æŒBIOå’ŒNIOï¼Œå¦‚æœä½¿ç”¨BIOçš„è¯ï¼Œè¿™ç§é˜»å¡IOæ¨¡å‹æ˜¯ä¸€ä¸ªè¿æ¥ä¸€ä¸ªçº¿ç¨‹ï¼Œå°±ç®—å¼‚æ­¥servletæ„ä¹‰ä¹Ÿä¸å¤§å§ï¼›å¦‚æœæ˜¯NIOï¼Œè¿™ç§å¤šè·¯å¤ç”¨IOæŠ€æœ¯ï¼Œæœ¬èº«å°±å·²ç»æ”¯æŒå¤§é‡è¿æ¥äº†ï¼Œæ­¤æ—¶åœ¨tomcaté‡Œé¢servletçº¿ç¨‹åº”è¯¥æ˜¯IOçº¿ç¨‹å§ï¼Œä½¿ç”¨å¼‚æ­¥servletï¼Œå¯¹ä¸€äº›å¤„ç†æ…¢çš„è¯·æ±‚å¯ä»¥å¾—åˆ°ä¼˜åŒ–ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯ä¼˜åŒ–äº†è¿æ¥æ•°å§ï¼Ÿè¿™æ˜¯æˆ‘çš„ç†è§£ï¼Œæ‰€ä»¥ä¸å¤ªæ˜ç™½è€å¸ˆæ‰€è¯´çš„å¼‚æ­¥servletå¯ä»¥ä¼˜åŒ–è¿æ¥æ•°ï¼Ÿæœ›è€å¸ˆå¯ä»¥è§£ç­”ä¸‹ï¼","like_count":6,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423992,"discussion_content":"ä½ å¥½ï¼Œä½ çš„é—®é¢˜å›ç­”å¦‚ä¸‹ï¼š1ï¼‰ï¼Œæ˜¯åŸç”Ÿzuulçš„ç®€åŒ–å®šåˆ¶ç‰ˆï¼Œä¸æ˜¯spring cloud zuulã€‚2)ï¼Œå½“ä¼ä¸šä¸šåŠ¡å’Œå›¢é˜Ÿåˆ°ä¸€å®šè§„æ¨¡ï¼Œzuulç½‘å…³æ˜¯è¦æŒ‰åœºæ™¯(h5,æ— çº¿,ç¬¬ä¸‰æ–¹å¼€æ”¾å¹³å°ç­‰)åˆ†é›†ç¾¤çš„ï¼Œæˆ‘ä¹‹å‰å’Œç°åœ¨çš„å…¬å¸éƒ½æ˜¯è¿™ç§ç®¡ç†æ¨¡å¼ï¼Œå½“ç„¶ç®¡ç†æˆæœ¬ä¼šå¤§ä¸€ç‚¹ï¼Œä¸€èˆ¬éœ€è¦ç ”å‘ä¸€å¥—ç»Ÿä¸€ç½‘å…³æ²»ç†ç³»ç»Ÿã€‚å¦‚æœä½ ä¸šåŠ¡å’Œå›¢é˜Ÿè§„æ¨¡å°ï¼Œåˆ™æ²¡å¿…è¦åˆ†é‚£ä¹ˆç»†ã€‚3ï¼‰æˆ‘ä»¬åšæ³•æ˜¯å­˜æ•°æ®åº“é›†ä¸­ç®¡ç†ï¼Œzuulç½‘å…³èŠ‚ç‚¹å®šæœŸåˆ°æ•°æ®åº“æ‹‰å–(zuulèŠ‚ç‚¹æœ¬åœ°æœ‰ç¼“å­˜å’Œæ¯”å¯¹æœºåˆ¶)ã€‚4)ï¼Œæˆ‘ä»¬åœ¨ç”Ÿäº§å®è·µä¸­å‘ç°ï¼Œä¸å¯ç”¨AsyncServerletï¼Œå½“è®¿é—®é‡å¤§æ—¶å€™è¿æ¥æ•°æœ‰é™åˆ¶ï¼ˆæ‹’ç»é¢å¤–è¯·æ±‚ï¼‰ï¼›å¯ç”¨AsyncServerletåï¼Œå¯ä»¥æ¥å—çš„è¿æ¥æ•°æ˜æ˜¾å¢åŠ ï¼Œå½“ç„¶è¿™ä¸ªåªæ˜¯å‰ç«¯å¼‚æ­¥ï¼Œåç«¯å¤„ç†å’Œè¯·æ±‚è¿˜æ˜¯ç”±å®¹å™¨çº¿ç¨‹æ± åŒæ­¥å¤„ç†çš„ï¼Œæ€»ä½“ååé‡æ²¡æœ‰å¢åŠ ï¼Œåªæ˜¯å¯æ¥å—è¿æ¥æ•°å¢åŠ äº†ï¼Œæ‰€ä»¥æˆ‘è¯´ä¼˜åŒ–äº†è¿æ¥æ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537680026,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64967,"user_name":"DDs moving castle","can_delete":false,"product_type":"c3","uid":1066684,"ip_address":"","ucode":"08CA816F665E39","user_header":"https://static001.geekbang.org/account/avatar/00/10/46/bc/463cca3f.jpg","comment_is_top":false,"comment_ctime":1548987320,"is_pvip":false,"replies":[{"id":23566,"content":"ä½ å¥½ï¼Œçœ‹å¾—å‡ºä½ ä»¬å·²ç»èŠ±è´¹å¾ˆå¤šåŠŸå¤«å»ç¦ç”¨æŸä¸ªfilterï¼Œå®é™…ç”Ÿäº§ä¸­ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦è¯„ä¼°æˆæœ¬å’Œå¯é æ€§ï¼Œé¦–å…ˆï¼Œç”Ÿäº§ä¸Šç¦ç”¨æŸä¸ªfilterä¸€èˆ¬ä¸ä¼šé¢‘ç¹å‘ç”Ÿ(æ¯•ç«Ÿæˆ‘ä»¬æ²¡æœ‰Netflixé‚£ä¹ˆå¤§è§„æ¨¡)ï¼Œæ‰€ä»¥éœ€è¦è¯„ä¼°è¿™ä¸ªæˆæœ¬æ˜¯å¦å€¼å¾—ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œèƒ½ç”¨apolloé…ç½®ä¸­å¿ƒåŠ¨æ€æ§åˆ¶filterå¯åœå°±è¶³å¤Ÿäº†(æˆ‘ä»¬ä¹‹å‰å°±æ˜¯è¿™ä¹ˆå¹²çš„)ï¼Œæ²¡å¿…è¦å®Œå…¨å†…å­˜åˆ é™¤ï¼›å…¶æ¬¡ï¼Œåˆ é™¤filterå¯èƒ½æœ‰æ½œåœ¨å†…å­˜é—®é¢˜ï¼Œæ˜¯å¦ä¼šå¼•å…¥ä¸å¯é æ€§ï¼Ÿæ‰€ä»¥è¿˜æ˜¯éœ€è¦è¯„ä¼°ä¸‹æ˜¯å¦ä¸€å®šè¦è¿™æ ·åšï¼Œanywayï¼Œä½ å·²ç»æ·±å…¥ç ”ç©¶äº†è¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿå®Œå…¨ç†è§£äº†è¿™ç§æœºåˆ¶çš„åˆ©å¼Šï¼Œç›¸ä¿¡ä½ å·²ç»æœ‰è‡ªå·±çš„ç­”æ¡ˆäº†ï¼Œä¹Ÿè°¢è°¢ä½ æä¾›çš„æ–¹æ¡ˆæ€è·¯ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1549973398,"ip_address":"","comment_id":64967,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"æˆ‘å¸ä½¿ç”¨çš„æ˜¯spring cloudå°è£…çš„zuulï¼Œä¹Ÿæƒ³å¢åŠ åŠ¨æ€filteråŠŸèƒ½ï¼Œæ•…å‚è€ƒäº†æ³¢æ³¢è€å¸ˆçš„s2g-zuulï¼Œå°†ä½¿ç”¨æ•°æ®åº“åŠ¨æ€åŠ è½½æ¿€æ´»filteråŠŸèƒ½æ‹¿è¿‡æ¥ï¼ŒæœŸé—´ä¹Ÿå‘ç°åŸæœ¬çš„deactivateé€šç”¨åŠŸèƒ½åªæ˜¯å°†æ•°æ®åº“çš„is_activeã€is_canaryéƒ½ç½®ä¸ºfalseï¼Œå¹¶æœªåšå…¶å®ƒå¤„ç†ï¼Œfilterå¹¶æ²¡æœ‰çœŸæ­£åœç”¨ï¼Œè¿˜æ˜¯ä¼šè°ƒç”¨åˆ°ï¼Œæ•…å¯¹åœç”¨åŠŸèƒ½åšå¦‚ä¸‹è°ƒæ•´ï¼š1ã€æ›´æ–°æ•°æ®åº“è®°å½•çŠ¶æ€ä¿æŒä¸å˜ï¼›2ã€åˆ é™¤æœ¬åœ°ç£ç›˜filterç›®å½•ä¸­çš„groovyæ–‡ä»¶ï¼ˆå› ä¸ºæ•°æ®åº“ç®¡ç†filterä¹Ÿæ˜¯å…ˆå†™åˆ°æœ¬åœ°ç£ç›˜å†åŠ è½½åˆ°å†…å­˜çš„ï¼Œæœ¬åœ°ç£ç›˜ä¸åˆ ï¼Œæ€ä¹ˆéƒ½ä¼šå†åŠ è½½è¿›å†…å­˜ï¼‰ï¼›3ã€æ ¹æ®spring cloudçš„ZuulFilterInitializerä¸­contextDestroyed()æ–¹æ³•çš„é€»è¾‘ï¼ˆä¹Ÿé€šè¿‡dumpåˆ†æè¿‡è°å¼•ç”¨äº†åŠ¨æ€åŠ è½½çš„filterï¼‰ï¼Œå°†åŠ¨æ€filterçš„å®ä¾‹ä»FilterRegistryå’ŒFilterLoader#hashFiltersByTypeä¸­åˆ é™¤ï¼Œæƒ³çœ‹çœ‹æ˜¯å¦èƒ½å¤Ÿè¾¾åˆ°åˆ é™¤å¯¹åŠ¨æ€filterçš„æ‰€æœ‰å¼•ç”¨åï¼Œåœ¨ä¸‹æ¬¡gcæ—¶èƒ½è¢«é”€æ¯ï¼›4ã€ç”±äºä½¿ç”¨äº†apolloé…ç½®ä¸­å¿ƒï¼Œä¹Ÿå°†filterçš„disable propertyç½®ä¸ºtrueï¼Œä»¥é˜²æ­¢å†…å­˜ä¸­ä¸èƒ½è¢«é”€æ¯æˆ–å…¶å®ƒæ„å¤–æƒ…å†µå‘ç”Ÿã€‚ç»è¿‡å¦‚ä¸Šæ­¥éª¤ï¼ŒfilterçœŸæ­£æ˜¯åœç”¨äº†ï¼Œä¸ä¼šè¢«è°ƒç”¨åˆ°ã€‚ä½†ä¸ä¼šè¢«è°ƒç”¨åˆ°é¦–å…ˆæ˜¯å› ä¸ºå·²ç»ä»FilterLoader#hashFiltersByTypeä¸­åˆ é™¤ï¼Œæƒ³çœ‹çœ‹å†…å­˜ä¸­æ˜¯å¦è¢«gcé”€æ¯ï¼Œä½†ç›®å‰çš„æ–¹æ³•åªèƒ½é€šè¿‡dumpå†…å­˜ï¼ˆä½†dumpæ—¶ç¡®å®æ˜¯ä¼šè§¦å‘ä¸€æ¬¡full gcçš„ï¼‰ï¼Œä»dumpæ•°æ®æŸ¥çœ‹filterå®ä¾‹ï¼Œç¡®å®æ²¡æœ‰äº†ï¼Œä¸çŸ¥é“è¿™èƒ½ä¸èƒ½ç®—çœŸæ­£çš„ååŠ©æˆåŠŸï¼Ÿï¼Ÿè¯·é—®æœ‰å¿…è¦è¿™æ ·åšå—ï¼Ÿï¼Ÿ\nï¼ˆé¢˜å¤–ï¼šæœ¬æ¥æƒ³é€šè¿‡alibaba Arthasé€šè¿‡ä¸dumpçš„æ–¹å¼æŸ¥çœ‹filteræ˜¯å¦è¢«å¸è½½ï¼Œç»“æœåè€Œå‘ç°ä½¿ç”¨Arthasåå‘ç”Ÿäº†å†…å­˜æ³„éœ²ï¼Œåœ¨shutdown Arthasåï¼Œfilterå¯¹è±¡ä»ç„¶è¢«Arthasçš„Adviceå¼•ç”¨ï¼Œè€Œrootåœ¨tomcatçš„TaskThreadçš„threadlocalä¸­ï¼Œå°è¯•å¾ˆä¹…å§‹ç»ˆæ— æ³•å¸è½½ï¼‰","like_count":3,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438256,"discussion_content":"ä½ å¥½ï¼Œçœ‹å¾—å‡ºä½ ä»¬å·²ç»èŠ±è´¹å¾ˆå¤šåŠŸå¤«å»ç¦ç”¨æŸä¸ªfilterï¼Œå®é™…ç”Ÿäº§ä¸­ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦è¯„ä¼°æˆæœ¬å’Œå¯é æ€§ï¼Œé¦–å…ˆï¼Œç”Ÿäº§ä¸Šç¦ç”¨æŸä¸ªfilterä¸€èˆ¬ä¸ä¼šé¢‘ç¹å‘ç”Ÿ(æ¯•ç«Ÿæˆ‘ä»¬æ²¡æœ‰Netflixé‚£ä¹ˆå¤§è§„æ¨¡)ï¼Œæ‰€ä»¥éœ€è¦è¯„ä¼°è¿™ä¸ªæˆæœ¬æ˜¯å¦å€¼å¾—ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œèƒ½ç”¨apolloé…ç½®ä¸­å¿ƒåŠ¨æ€æ§åˆ¶filterå¯åœå°±è¶³å¤Ÿäº†(æˆ‘ä»¬ä¹‹å‰å°±æ˜¯è¿™ä¹ˆå¹²çš„)ï¼Œæ²¡å¿…è¦å®Œå…¨å†…å­˜åˆ é™¤ï¼›å…¶æ¬¡ï¼Œåˆ é™¤filterå¯èƒ½æœ‰æ½œåœ¨å†…å­˜é—®é¢˜ï¼Œæ˜¯å¦ä¼šå¼•å…¥ä¸å¯é æ€§ï¼Ÿæ‰€ä»¥è¿˜æ˜¯éœ€è¦è¯„ä¼°ä¸‹æ˜¯å¦ä¸€å®šè¦è¿™æ ·åšï¼Œanywayï¼Œä½ å·²ç»æ·±å…¥ç ”ç©¶äº†è¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿå®Œå…¨ç†è§£äº†è¿™ç§æœºåˆ¶çš„åˆ©å¼Šï¼Œç›¸ä¿¡ä½ å·²ç»æœ‰è‡ªå·±çš„ç­”æ¡ˆäº†ï¼Œä¹Ÿè°¢è°¢ä½ æä¾›çš„æ–¹æ¡ˆæ€è·¯ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549973398,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":37286,"user_name":"wyw","can_delete":false,"product_type":"c3","uid":1063522,"ip_address":"","ucode":"D93D4E78F283B6","user_header":"https://static001.geekbang.org/account/avatar/00/10/3a/62/375f91c6.jpg","comment_is_top":false,"comment_ctime":1541518334,"is_pvip":false,"replies":[{"id":13562,"content":"å¯¹çš„ï¼ŒnetflixåŸç”Ÿzuulè¿™å—è¿˜ä¸å®Œå–„ï¼Œä¸»è¦åœ¨filteræœ¬åœ°åŠ è½½é‚£å—ï¼Œç¬¨åŠæ³•åªèƒ½å…ˆåˆ é™¤æœ¬åœ°filterä¸´æ—¶ç›®å½•ï¼Œå†é‡å¯zuulã€‚æˆ–è€…éœ€è‡ªå·±ä¿®å¤filteråŠ è½½é€»è¾‘ï¼Œä¸‹çº¿çš„filteræœ¬åœ°å’Œå†…å­˜éƒ½è¦åˆ é™¤ã€‚æˆ–è€…ä¹Ÿå¯ä»¥ç”¨apolloå¼€å…³æ§åˆ¶filterçš„å¯ç”¨æˆ–ç¦ç”¨ã€‚groovyåº”è¯¥ä¸åœ¨springå®¹å™¨ç®¡ç†èŒƒå›´å†…ï¼Œä¼°è®¡ä¸èƒ½ç”¨æ³¨å…¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1541684072,"ip_address":"","comment_id":37286,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"è€å¸ˆï¼Œfilterä»æ¿€æ´»å˜ä¸ºæœªæ¿€æ´»å°†filterç§»é™¤ æ˜¯ä¸æ˜¯æœªå®ç°ï¼Ÿ groovyæ˜¯ä¸æ˜¯ä¸èƒ½æ³¨å…¥springå®¹å™¨ä¸­çš„beanï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":428277,"discussion_content":"å¯¹çš„ï¼ŒnetflixåŸç”Ÿzuulè¿™å—è¿˜ä¸å®Œå–„ï¼Œä¸»è¦åœ¨filteræœ¬åœ°åŠ è½½é‚£å—ï¼Œç¬¨åŠæ³•åªèƒ½å…ˆåˆ é™¤æœ¬åœ°filterä¸´æ—¶ç›®å½•ï¼Œå†é‡å¯zuulã€‚æˆ–è€…éœ€è‡ªå·±ä¿®å¤filteråŠ è½½é€»è¾‘ï¼Œä¸‹çº¿çš„filteræœ¬åœ°å’Œå†…å­˜éƒ½è¦åˆ é™¤ã€‚æˆ–è€…ä¹Ÿå¯ä»¥ç”¨apolloå¼€å…³æ§åˆ¶filterçš„å¯ç”¨æˆ–ç¦ç”¨ã€‚groovyåº”è¯¥ä¸åœ¨springå®¹å™¨ç®¡ç†èŒƒå›´å†…ï¼Œä¼°è®¡ä¸èƒ½ç”¨æ³¨å…¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541684072,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":16175,"user_name":"ğŸ”°å¤å¤©çš„å‘³é“","can_delete":false,"product_type":"c3","uid":1069105,"ip_address":"","ucode":"3CA1DE1ADC95F0","user_header":"https://static001.geekbang.org/account/avatar/00/10/50/31/98e2c8e9.jpg","comment_is_top":false,"comment_ctime":1531814433,"is_pvip":false,"replies":[{"id":5712,"content":"æ€»ä½“æ˜¯åŸºäºzuulæºç ï¼Œåšäº†å°‘é‡ç®€åŒ–å’Œè°ƒæ•´ï¼Œä¸»è¦å˜åŒ–ï¼šè¿‡æ»¤å™¨ç®¡ç†æ•°æ®è®¿é—®å±‚ä»cassandraæ”¹ä¸ºmysqlï¼Œå¢åŠ CATåŸ‹ç‚¹ï¼Œå¢åŠ AsyncServletæ”¯æŒ","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1531972856,"ip_address":"","comment_id":16175,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œèƒ½ä¸èƒ½è¯´ä¸‹æ‚¨çš„ç²¾ç®€æºç å’ŒNetflixåŸç‰ˆæºç ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼Ÿè‡ªå·±å°è¯•è¿‡ï¼Œæ‰¾ä¸å‡ºè€å¸ˆçš„æºç æ˜¯ä»åŸæ¥å“ªé‡Œç²¾ç®€è¿‡æ¥çš„ã€‚","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420700,"discussion_content":"æ€»ä½“æ˜¯åŸºäºzuulæºç ï¼Œåšäº†å°‘é‡ç®€åŒ–å’Œè°ƒæ•´ï¼Œä¸»è¦å˜åŒ–ï¼šè¿‡æ»¤å™¨ç®¡ç†æ•°æ®è®¿é—®å±‚ä»cassandraæ”¹ä¸ºmysqlï¼Œå¢åŠ CATåŸ‹ç‚¹ï¼Œå¢åŠ AsyncServletæ”¯æŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531972856,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269808,"user_name":"æ‰˜å°¼æ–¯å¨ç‰¹","can_delete":false,"product_type":"c3","uid":1729060,"ip_address":"","ucode":"98A1035527292E","user_header":"https://static001.geekbang.org/account/avatar/00/1a/62/24/07e2507c.jpg","comment_is_top":false,"comment_ctime":1608792848,"is_pvip":false,"replies":[{"id":98342,"content":"å»ºè®®é˜…è¯»ä¸€ä¸‹è¿™ç¯‡æ–‡ç« &lt;ç†è§£AsyncServlet&gt;ï¼š\nhttps:&#47;&#47;ijunc2.github.io&#47;2018&#47;02&#47;01&#47;seventh.html\n\nAsyncServletæŠŠçº¿ç¨‹çš„è§’è‰²ä¸€åˆ†ä¸ºäºŒï¼Œåˆ†ä¸ºä¸»è¦å¤„ç†è¿æ¥å’ŒI&#47;Oçš„Servletçº¿ç¨‹å’Œå¤„ç†ä¸šåŠ¡é€»è¾‘çš„Workerçº¿ç¨‹ã€‚è¿™ä¸ªä¼˜åŒ–å¯¹æå‡æœåŠ¡å…¶å¤„ç†æ•ˆç‡è¿˜æ˜¯æœ‰ä¸å°çš„å¸®åŠ©çš„ï¼ŒServletçº¿ç¨‹å¤„ç†å®ŒIOå°±å¯ä»¥è¢«å›æ”¶åˆ°çº¿ç¨‹æ± ï¼Œè¿™æ ·å°±å¯ä»¥å¤„ç†æ›´å¤šçš„è¿æ¥ã€‚å¦‚æœä¸åˆ†çš„åŒ–ï¼ŒServletçº¿ç¨‹è¦åŒæ—¶å¤„ç†I&#47;Oè¿æ¥å’Œå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œå®¹æ˜“é˜»å¡æ¶ˆè€—æ›´å¤šèµ„æºã€‚\n\nå°±åƒä¸€ä¸ªç”±ABä¸¤ä¸ªæ­¥éª¤ç»„æˆçš„ä»»åŠ¡åŸæ¥åªæœ‰ä¸€ä¸ªäººå¹²ï¼ŒBé˜»å¡çš„æ—¶å€™è¿™ä¸ªäººåªèƒ½ç­‰ç€ï¼Œç°åœ¨æŠŠæ­¥éª¤æ‹†åˆ†ä¸ºäºŒï¼Œæœ‰ä¸¤ä¸ªäººåˆ†åˆ«ä¸“æ³¨å¹²Aå’ŒBï¼ŒBé˜»å¡çš„æ—¶å€™ï¼Œç¬¬ä¸€ä¸ªäººå¯ä»¥ç»§ç»­å¯ä»¥å¹²ä¸‹ä¸€ä¸ªAã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1609510268,"ip_address":"","comment_id":269808,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"ç”¨AsyncServletå¹¶æ²¡æœ‰çœçº¿ç¨‹, é‚£å’Œç›´æ¥å¢åŠ Tomcatçš„çº¿ç¨‹æ± å¤§å°ä¸æ˜¯ä¸€æ ·æ•ˆæœå—? æ„Ÿè§‰servletå°±è§£å†³ä¸äº†è¿™ä¸ªé—®é¢˜. Zuul2.0çš„å¼‚æ­¥æ˜¯Nettyå®ç°çš„, ä¸å…‰å‰ç«¯å¼‚æ­¥, å‘åç«¯å‘è¯·æ±‚ä¹Ÿæ˜¯Netty å¼‚æ­¥client. ä¸çŸ¥é“æˆ‘çš„ç†è§£æœ‰æ²¡æœ‰é—®é¢˜, è€å¸ˆèƒ½è¯„ä»·ä¸€ä¸‹å—? ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512399,"discussion_content":"å»ºè®®é˜…è¯»ä¸€ä¸‹è¿™ç¯‡æ–‡ç« &amp;lt;ç†è§£AsyncServlet&amp;gt;ï¼š\nhttps://ijunc2.github.io/2018/02/01/seventh.html\n\nAsyncServletæŠŠçº¿ç¨‹çš„è§’è‰²ä¸€åˆ†ä¸ºäºŒï¼Œåˆ†ä¸ºä¸»è¦å¤„ç†è¿æ¥å’ŒI/Oçš„Servletçº¿ç¨‹å’Œå¤„ç†ä¸šåŠ¡é€»è¾‘çš„Workerçº¿ç¨‹ã€‚è¿™ä¸ªä¼˜åŒ–å¯¹æå‡æœåŠ¡å…¶å¤„ç†æ•ˆç‡è¿˜æ˜¯æœ‰ä¸å°çš„å¸®åŠ©çš„ï¼ŒServletçº¿ç¨‹å¤„ç†å®ŒIOå°±å¯ä»¥è¢«å›æ”¶åˆ°çº¿ç¨‹æ± ï¼Œè¿™æ ·å°±å¯ä»¥å¤„ç†æ›´å¤šçš„è¿æ¥ã€‚å¦‚æœä¸åˆ†çš„åŒ–ï¼ŒServletçº¿ç¨‹è¦åŒæ—¶å¤„ç†I/Oè¿æ¥å’Œå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œå®¹æ˜“é˜»å¡æ¶ˆè€—æ›´å¤šèµ„æºã€‚\n\nå°±åƒä¸€ä¸ªç”±ABä¸¤ä¸ªæ­¥éª¤ç»„æˆçš„ä»»åŠ¡åŸæ¥åªæœ‰ä¸€ä¸ªäººå¹²ï¼ŒBé˜»å¡çš„æ—¶å€™è¿™ä¸ªäººåªèƒ½ç­‰ç€ï¼Œç°åœ¨æŠŠæ­¥éª¤æ‹†åˆ†ä¸ºäºŒï¼Œæœ‰ä¸¤ä¸ªäººåˆ†åˆ«ä¸“æ³¨å¹²Aå’ŒBï¼ŒBé˜»å¡çš„æ—¶å€™ï¼Œç¬¬ä¸€ä¸ªäººå¯ä»¥ç»§ç»­å¯ä»¥å¹²ä¸‹ä¸€ä¸ªAã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609510268,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":192611,"user_name":"Jason","can_delete":false,"product_type":"c3","uid":1085947,"ip_address":"","ucode":"6EECC0C25A9FCC","user_header":"https://static001.geekbang.org/account/avatar/00/10/91/fb/9b9d22a0.jpg","comment_is_top":false,"comment_ctime":1584863773,"is_pvip":false,"replies":[{"id":74023,"content":"å¦‚æœè®²ç»å¯¹æ€§èƒ½ï¼Œzuulåº”è¯¥æ¯”ä¸è¿‡nginxï¼Œä½†æ˜¯ç½‘å…³æ— çŠ¶æ€ï¼Œå¯ä»¥æ°´å¹³æ‰©ï¼Œé€‚å½“ä¼˜åŒ–ï¼Œzuulç»„æˆçš„ç½‘å…³æ€§èƒ½å®Œå…¨æ˜¯okçš„(æºç¨‹æ¯æ—¥ç™¾äº¿APIè¯·æ±‚é€šè¿‡zuulç½‘å…³ï¼Œnetflixæ¯”æºç¨‹çš„é‡åº”è¯¥è¿˜è¦å¤§)ï¼Œè€Œä¸”zuulåŸºäºjavaï¼Œå¯¹å¼€å‘äººå‘˜æ‰©å±•æ¯”è¾ƒå‹å¥½ã€‚ç›¸æ¯”nginxæ¯”è¾ƒåè¿ç»´ï¼Œå¼€å‘äººå‘˜èƒ½ç›´æ¥æ‰©å±•nginxçš„ä¸å¤šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1585055981,"ip_address":"","comment_id":192611,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"zuul ç½‘ç®¡ä¸ºä»€ä¹ˆèƒ½æ¯” nginx ç­‰ç½‘å…³æ€§èƒ½é«˜å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488430,"discussion_content":"å¦‚æœè®²ç»å¯¹æ€§èƒ½ï¼Œzuulåº”è¯¥æ¯”ä¸è¿‡nginxï¼Œä½†æ˜¯ç½‘å…³æ— çŠ¶æ€ï¼Œå¯ä»¥æ°´å¹³æ‰©ï¼Œé€‚å½“ä¼˜åŒ–ï¼Œzuulç»„æˆçš„ç½‘å…³æ€§èƒ½å®Œå…¨æ˜¯okçš„(æºç¨‹æ¯æ—¥ç™¾äº¿APIè¯·æ±‚é€šè¿‡zuulç½‘å…³ï¼Œnetflixæ¯”æºç¨‹çš„é‡åº”è¯¥è¿˜è¦å¤§)ï¼Œè€Œä¸”zuulåŸºäºjavaï¼Œå¯¹å¼€å‘äººå‘˜æ‰©å±•æ¯”è¾ƒå‹å¥½ã€‚ç›¸æ¯”nginxæ¯”è¾ƒåè¿ç»´ï¼Œå¼€å‘äººå‘˜èƒ½ç›´æ¥æ‰©å±•nginxçš„ä¸å¤šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585055981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":178544,"user_name":"å¼ æ™“æ°¸","can_delete":false,"product_type":"c3","uid":1529668,"ip_address":"","ucode":"C728459C061A13","user_header":"https://static001.geekbang.org/account/avatar/00/17/57/44/a0ed355d.jpg","comment_is_top":false,"comment_ctime":1581738246,"is_pvip":false,"replies":[{"id":69345,"content":"è¯·ç¡®ä¿ç½‘ç»œè‰¯å¥½ï¼Œå¯ä»¥æ­£å¸¸è¿æ¥å¹¶ä¸‹è½½å®˜æ–¹mavenä»“åº“ä¸­çš„ä¾èµ–jaråŒ…ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1581783444,"ip_address":"","comment_id":178544,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"æ³¢æ³¢è€å¸ˆ  æœ¬åœ°mavenä»“åº“ä¹Ÿç»™æä¾›ä¸€ä»½å§ï¼Œä¸‹è½½å¤ªè´¹åŠ²äº†","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483869,"discussion_content":"è¯·ç¡®ä¿ç½‘ç»œè‰¯å¥½ï¼Œå¯ä»¥æ­£å¸¸è¿æ¥å¹¶ä¸‹è½½å®˜æ–¹mavenä»“åº“ä¸­çš„ä¾èµ–jaråŒ…ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581783444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":178390,"user_name":"å¼ æ™“æ°¸","can_delete":false,"product_type":"c3","uid":1529668,"ip_address":"","ucode":"C728459C061A13","user_header":"https://static001.geekbang.org/account/avatar/00/17/57/44/a0ed355d.jpg","comment_is_top":false,"comment_ctime":1581676877,"is_pvip":false,"replies":[{"id":69344,"content":"è¯·ç¡®ä¿ç½‘ç»œè‰¯å¥½ï¼Œå¯ä»¥æ­£å¸¸è¿æ¥å¹¶ä¸‹è½½å®˜æ–¹mavenä»“åº“ä¸­çš„ä¾èµ–jaråŒ…ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1581783437,"ip_address":"","comment_id":178390,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"é¡¹ç›®åˆ°ä¸è¿› eclipes TST é‡Œ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483792,"discussion_content":"è¯·ç¡®ä¿ç½‘ç»œè‰¯å¥½ï¼Œå¯ä»¥æ­£å¸¸è¿æ¥å¹¶ä¸‹è½½å®˜æ–¹mavenä»“åº“ä¸­çš„ä¾èµ–jaråŒ…ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581783437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139652,"user_name":"Ckiwis","can_delete":false,"product_type":"c3","uid":1038372,"ip_address":"","ucode":"E59B57FF70650B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d8/24/499e7c99.jpg","comment_is_top":false,"comment_ctime":1570698535,"is_pvip":false,"replies":[{"id":53920,"content":"æºç å°±æ˜¯å®šåˆ¶ç‰ˆs2g-zuulå’Œlab05ä¸­çš„é¡¹ç›®\nhttps:&#47;&#47;github.com&#47;spring2go&#47;s2g-zuul","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1570712762,"ip_address":"","comment_id":139652,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"lab1-lab4çš„æºç æ²¡æœ‰ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470036,"discussion_content":"æºç å°±æ˜¯å®šåˆ¶ç‰ˆs2g-zuulå’Œlab05ä¸­çš„é¡¹ç›®\nhttps://github.com/spring2go/s2g-zuul","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570712762,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1038372,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/d8/24/499e7c99.jpg","nickname":"Ckiwis","note":"","ucode":"E59B57FF70650B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":28997,"discussion_content":"å¥½çš„ï¼Œè°¢è°¢è€å¸ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570721905,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134648,"user_name":"åœ¨è·¯ä¸Š","can_delete":false,"product_type":"c3","uid":1205712,"ip_address":"","ucode":"18337C6DD5E618","user_header":"https://static001.geekbang.org/account/avatar/00/12/65/d0/b5b00bc2.jpg","comment_is_top":false,"comment_ctime":1568886021,"is_pvip":false,"replies":[{"id":51652,"content":"ç†è®ºä¸Šè®²ï¼ŒZuulèƒ½åšçš„ï¼Œ Nginxéƒ½èƒ½åšåˆ°ï¼Œç›¸åï¼ŒNginxèƒ½åšçš„ï¼ŒZuulä¹Ÿèƒ½åšåˆ°(å¯ä»¥æ‰©å±•)ã€‚å®é™…ä¸Šï¼ŒNginxæ˜¯ä¸€ç§é€šç”¨é«˜æ€§èƒ½çš„åå‘ä»£ç†ï¼Œå¸¸å¸¸ä½œä¸ºç½‘ç«™çš„å‰ç½®åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡å™¨ç”¨ï¼›è€Œzuulåˆ™ä¸€èˆ¬ç”¨åœ¨APIç½‘å…³åœºæ™¯ã€‚å¾ˆå¤šå…¬å¸åŒæ—¶ç”¨Nginx + Zuulã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1568895620,"ip_address":"","comment_id":134648,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"è€å¸ˆå¥½\næ„Ÿè§‰Zuulå’ŒNginxå¯ä»¥ç›¸äº’æ›¿ä»£ï¼Œæ˜¯è¿™æ ·çš„å—ï¼Ÿ\nåœ¨é€‰æ‹©æ—¶ï¼Œä¸è€ƒè™‘å…¬å¸å†å²åŸå› ï¼ŒZuulå’ŒNginxåˆ†åˆ«é€‚åˆäºå“ªç§åœºæ™¯å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467845,"discussion_content":"ç†è®ºä¸Šè®²ï¼ŒZuulèƒ½åšçš„ï¼Œ Nginxéƒ½èƒ½åšåˆ°ï¼Œç›¸åï¼ŒNginxèƒ½åšçš„ï¼ŒZuulä¹Ÿèƒ½åšåˆ°(å¯ä»¥æ‰©å±•)ã€‚å®é™…ä¸Šï¼ŒNginxæ˜¯ä¸€ç§é€šç”¨é«˜æ€§èƒ½çš„åå‘ä»£ç†ï¼Œå¸¸å¸¸ä½œä¸ºç½‘ç«™çš„å‰ç½®åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡å™¨ç”¨ï¼›è€Œzuulåˆ™ä¸€èˆ¬ç”¨åœ¨APIç½‘å…³åœºæ™¯ã€‚å¾ˆå¤šå…¬å¸åŒæ—¶ç”¨Nginx + Zuulã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568895620,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126867,"user_name":"é£ç¿”","can_delete":false,"product_type":"c3","uid":1068571,"ip_address":"","ucode":"65AF6AF292DAD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","comment_is_top":false,"comment_ctime":1566500416,"is_pvip":false,"replies":[{"id":47030,"content":"åŒä¸€é€»è¾‘ç›˜çš„æ„æ€ï¼Œåªè¦dataå’Œs2g-zuulåœ¨åŒä¸€ä¸ªç›˜ä¸‹ï¼Œä¾‹å¦‚éƒ½åœ¨cç›˜æˆ–è€…dç›˜ï¼Œä¸è¦åˆ†å¼€åœ¨ä¸åŒç›˜ä¸‹å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦æŠŠs2g-zuulæ”¾åœ¨dataé‡Œé¢ã€‚\n\nä½ å¯åŠ¨äº†catæœåŠ¡å™¨å—ï¼Ÿ\n\nä»é”™è¯¯çœ‹ï¼Œå¥½åƒç¡®å®æ²¡æ‰¾åˆ°client.xmlï¼Œè€Œä¸”æ—¥å¿—æ–‡ä»¶ä¹Ÿæ‰¾ä¸åˆ°ï¼Œä½ å°è¯•ä¸‹è°ƒæ•´s2g-zuulåˆ°dataç›®å½•ä¹‹å¤–ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1566565572,"ip_address":"","comment_id":126867,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100007001,"comment_content":"è€å¸ˆ æ±‚æ•™ æˆ‘å¯åŠ¨s2g-zull åœ¨intellij é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œ æˆ‘è§‰å¾—å¯èƒ½æ˜¯æ‰¾ä¸åˆ°client.xml\næ³¨æ„ï¼Œä¸Šè¿°ç›®å½•å’Œzuulåœ¨è¦åœ¨åŒä¸€é€»è¾‘ç›˜ä¸‹ã€‚ è¿™å¥è¯æ€ä¹ˆç†è§£å‘€\næˆ‘çš„ç›®å½•æ˜¯\n   data\n       temp\n       s2g-zuul-master\n       appdatas\n       applogs\næˆ‘ç”¨çš„æ˜¯intellijå’Œmac \n[08-22 14:56:32.735] [ERROR] [CatLogger] [08-22 14:56:32.731] [ERROR] [CatLogger] error when read url:http:&#47;&#47;org.cat&#47;cat&#47;s&#47;launch?ip=10.20.25.63&amp;env=unknown&amp;hostname=dw135-198-201-228.dhcpw.sest.att.com,exception is org.catjava.io.FileNotFoundException: &#47;data&#47;applogs&#47;cat&#47;cat_client_20190822.log (No such file or directory)\n2019-08-22 14:56:32,741 [ZuulFilterPoller] ERROR io.spring2go.zuul.filters.ZuulFilterPoller- ZuulFilterPoller run error!\njava.lang.ExceptionInInitializerError: null\n\tat com.dianping.cat.message.internal.DefaultMessageManager.&lt;init&gt;(DefaultMessageManager.java:45) ~[cat-client-3.0.0.jar:na]\n\tat com.dianping.cat.message.internal.DefaultMessageManager.&lt;clinit&gt;(DefaultMessageManager.java:52) ~[cat-client-3.0.0.jar:na]\n\tat com.dianping.cat.message.internal.DefaultMessageProducer.&lt;init&gt;(DefaultMessageProducer.java:33) ~[cat-client-3.0.0.jar:na]\n\tat com.dianping.cat.message.internal.DefaultMessageProducer.&lt;clinit&gt;(DefaultMessageProducer.java:37) ~[cat-client-3.0.0.jar:na]\n\tat com.dianping.cat.Cat.initializeInternal(Cat.java:311) ~[cat-client-3.0.0.jar:na]\n\tat com.dianping.cat.Cat.checkAndInitialize(Cat.java:72) ~[cat-client-3.0.0.jar:na]\n\tat com.dianping.cat.Cat.getProducer(Cat.java:211) ~[cat-client-3.0.0.jar:na]\n\tat io.spring2go.zuul.filters.ZuulFilterPoller$1.run(ZuulFilterPoller.java:94) ~[s2g-zuul-core-1.0.0.jar:na]\nCaused by: java.lang.RuntimeException: Error when get cat router service, please contact cat support team for help!\n\tat com.dianping.cat.configuration.ApplicationEnvironment.loadClientConfig(ApplicationEnvironment.java:151) ~[cat-client-3.0.0.jar:na]\n\tat com.dianping.cat.configuration.DefaultClientConfigService.&lt;init&gt;(DefaultClientConfigService.java:72) ~[cat-client-3.0.0.jar:na]\n\tat com.dianping.cat.configuration.DefaultClientConfigService.&lt;clinit&gt;\n","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464212,"discussion_content":"åŒä¸€é€»è¾‘ç›˜çš„æ„æ€ï¼Œåªè¦dataå’Œs2g-zuulåœ¨åŒä¸€ä¸ªç›˜ä¸‹ï¼Œä¾‹å¦‚éƒ½åœ¨cç›˜æˆ–è€…dç›˜ï¼Œä¸è¦åˆ†å¼€åœ¨ä¸åŒç›˜ä¸‹å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦æŠŠs2g-zuulæ”¾åœ¨dataé‡Œé¢ã€‚\n\nä½ å¯åŠ¨äº†catæœåŠ¡å™¨å—ï¼Ÿ\n\nä»é”™è¯¯çœ‹ï¼Œå¥½åƒç¡®å®æ²¡æ‰¾åˆ°client.xmlï¼Œè€Œä¸”æ—¥å¿—æ–‡ä»¶ä¹Ÿæ‰¾ä¸åˆ°ï¼Œä½ å°è¯•ä¸‹è°ƒæ•´s2g-zuulåˆ°dataç›®å½•ä¹‹å¤–ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566565572,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1068571,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4e/1b/f4b786b9.jpg","nickname":"é£ç¿”","note":"","ucode":"65AF6AF292DAD6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6020,"discussion_content":"æ€ä¹ˆå¯åŠ¨catæœåŠ¡å™¨å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566615799,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69892,"user_name":"tongmin_tsai","can_delete":false,"product_type":"c3","uid":1045090,"ip_address":"","ucode":"D9423E770D5846","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f2/62/f873cd8f.jpg","comment_is_top":false,"comment_ctime":1550897883,"is_pvip":false,"replies":[{"id":25120,"content":"ä½ å¥½ï¼Œæˆ‘æä¾›çš„s2g-zuulï¼Œå¯ç”¨AsyncServletæ˜¯é»˜è®¤åœ¨web.xmlä¸­é…ç½®çš„ï¼Œå¯ä»¥æ‰“æˆwaråŒ…éƒ¨ç½²åˆ°tomcatï¼Œä¸€èˆ¬è¾ƒæ–°çš„tomcat(7ä»¥ä¸Š)éƒ½æ”¯æŒasync servletã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1551100795,"ip_address":"","comment_id":69892,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100007001,"comment_content":"æ³¢æ³¢è€å¸ˆï¼Œä½ å¥½ï¼Œä½ æä¾›çš„AsyncServerletï¼Œè¦æ›¿æ¢æˆè¿™ä¸ªservletï¼Œæ˜¯éœ€è¦åœ¨æºä»£ç ä¸­ä¿®æ”¹ï¼Œé‡æ–°ç¼–è¯‘æ‰“åŒ…ä½¿ç”¨ï¼Œè¿˜æ˜¯å¯ä»¥æœ‰å…¶ä»–é…ç½®çš„æ–¹å¼ä½¿ç”¨ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440336,"discussion_content":"ä½ å¥½ï¼Œæˆ‘æä¾›çš„s2g-zuulï¼Œå¯ç”¨AsyncServletæ˜¯é»˜è®¤åœ¨web.xmlä¸­é…ç½®çš„ï¼Œå¯ä»¥æ‰“æˆwaråŒ…éƒ¨ç½²åˆ°tomcatï¼Œä¸€èˆ¬è¾ƒæ–°çš„tomcat(7ä»¥ä¸Š)éƒ½æ”¯æŒasync servletã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551100795,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
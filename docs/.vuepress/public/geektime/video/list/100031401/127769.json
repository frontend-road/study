{"id":127769,"title":"73 | æ·±å…¥ç†è§£Serviceå’ŒServiceDiscovery","content":"<ul>\n<li>\n<p>ä»£ç ï¼š<a href=\"https://gitee.com/geektime-geekbang/staffjoy\">https://gitee.com/geektime-geekbang/staffjoy</a></p>\n</li>\n<li>\n<p>è¯¾ä»¶ï¼š<a href=\"https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ\">https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ</a> æå–ç : 1aeh</p>\n</li>\n</ul>","comments":[{"had_liked":false,"id":148291,"user_name":"ğŸ’å¤åˆ¹é£é¹°ğŸ’","can_delete":false,"product_type":"c3","uid":1666659,"ip_address":"","ucode":"375F9FCF925CA6","user_header":"https://static001.geekbang.org/account/avatar/00/19/6e/63/b15d1d87.jpg","comment_is_top":false,"comment_ctime":1572968777,"is_pvip":false,"replies":[{"id":57229,"content":"è¯¾ç¨‹ç¬¬2ç« æœ‰è§£é‡Šdubbo -&gt; SpringCloud -&gt; Kubernetesçš„æ¼”è¿›å†å²ï¼Œä»æŸç§æ„ä¹‰ä¸Šè®²ï¼Œè¿™ä¸‰è€…è§£å†³ç›¸åŒåŸºæœ¬é—®é¢˜ï¼šåˆ†å¸ƒå¼å¾®æœåŠ¡åŸºç¡€æ¡†æ¶(æˆ–å¹³å°)ï¼Œåªä¸è¿‡æ˜¯ä¸‰å®¶ä¸åŒå…¬å¸(é˜¿é‡Œ&#47;Netflix&#47;Google)åˆ†åˆ«å‘å±•å‡ºæ¥çš„ä¸åŒä½“ç³»ã€‚æ‰€ä»¥ï¼Œå®ƒä»¬æ˜¯æœ‰åŠŸèƒ½å†—ä½™çš„ï¼Œk8sæ˜¯å¾®æœåŠ¡æœ€å…¨é¢çš„å¹³å°å‹è§£å†³æ–¹æ¡ˆï¼Œå®ƒå†…ç½®æ”¯æŒæœåŠ¡å‘ç°(Service)ã€ç½‘å…³&#47;åå‘ä»£ç†(Ingress)ï¼Œå’Œåˆ†å¸ƒå¼é…ç½®(configmap)ç­‰ã€‚æ‰€ä»¥ï¼Œæˆ‘ä¸ªäººçš„å»ºè®®æ˜¯ï¼Œå¦‚æœé‡‡ç”¨K8sï¼Œå°±ä¸è¦ç”¨SpringCloudå¤§å¥—é¤äº†ï¼Œç”¨K8s + SpringBootå°±å¤Ÿäº†ï¼ŒK8så’Œè£¸æ¡†æ¶é…åˆæ¯”è¾ƒå¥½ï¼Œå¹¶ä¸”å®ƒæ˜¯å…·ä½“æ¡†æ¶æ— å…³çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1573044465,"ip_address":"","comment_id":148291,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ç‚¹è¿·ç³Šï¼Œå¦‚æœå¯ç”¨ kubernetes   é‚£SpringCloudé‡Œçš„eurkaã€gatewayã€é…ç½®ä¸­å¿ƒã€ç›‘æ§ä»€ä¹ˆçš„æ˜¯ä¸æ˜¯å°±å¯ä»¥å¼ƒç”¨äº†ï¼Ÿï¼Œå› ä¸ºkubernetesé‡Œæœ‰ç›¸å…³é…å¥—çš„æœåŠ¡ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨kubernetesçš„äº†ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473453,"discussion_content":"è¯¾ç¨‹ç¬¬2ç« æœ‰è§£é‡Šdubbo -&amp;gt; SpringCloud -&amp;gt; Kubernetesçš„æ¼”è¿›å†å²ï¼Œä»æŸç§æ„ä¹‰ä¸Šè®²ï¼Œè¿™ä¸‰è€…è§£å†³ç›¸åŒåŸºæœ¬é—®é¢˜ï¼šåˆ†å¸ƒå¼å¾®æœåŠ¡åŸºç¡€æ¡†æ¶(æˆ–å¹³å°)ï¼Œåªä¸è¿‡æ˜¯ä¸‰å®¶ä¸åŒå…¬å¸(é˜¿é‡Œ/Netflix/Google)åˆ†åˆ«å‘å±•å‡ºæ¥çš„ä¸åŒä½“ç³»ã€‚æ‰€ä»¥ï¼Œå®ƒä»¬æ˜¯æœ‰åŠŸèƒ½å†—ä½™çš„ï¼Œk8sæ˜¯å¾®æœåŠ¡æœ€å…¨é¢çš„å¹³å°å‹è§£å†³æ–¹æ¡ˆï¼Œå®ƒå†…ç½®æ”¯æŒæœåŠ¡å‘ç°(Service)ã€ç½‘å…³/åå‘ä»£ç†(Ingress)ï¼Œå’Œåˆ†å¸ƒå¼é…ç½®(configmap)ç­‰ã€‚æ‰€ä»¥ï¼Œæˆ‘ä¸ªäººçš„å»ºè®®æ˜¯ï¼Œå¦‚æœé‡‡ç”¨K8sï¼Œå°±ä¸è¦ç”¨SpringCloudå¤§å¥—é¤äº†ï¼Œç”¨K8s + SpringBootå°±å¤Ÿäº†ï¼ŒK8så’Œè£¸æ¡†æ¶é…åˆæ¯”è¾ƒå¥½ï¼Œå¹¶ä¸”å®ƒæ˜¯å…·ä½“æ¡†æ¶æ— å…³çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573044465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1048261,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fe/c5/3467cf94.jpg","nickname":"æ­£æ˜¯é‚£æœµç«ç‘°","note":"","ucode":"73D630B654573F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376600,"discussion_content":"å¦‚æœä¸ç”¨springcloudäº†ï¼Œé‚£hytrixçš„ç†”æ–­åŠŸèƒ½æœ‰è°æ¥ä»£æ›¿å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622208083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1666659,"avatar":"https://static001.geekbang.org/account/avatar/00/19/6e/63/b15d1d87.jpg","nickname":"ğŸ’å¤åˆ¹é£é¹°ğŸ’","note":"","ucode":"375F9FCF925CA6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":45522,"discussion_content":"è°¢è°¢è€å¸ˆï¼Œæˆ‘æ˜ç™½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573045651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166032,"user_name":"DDs moving castle","can_delete":false,"product_type":"c3","uid":1066684,"ip_address":"","ucode":"08CA816F665E39","user_header":"https://static001.geekbang.org/account/avatar/00/10/46/bc/463cca3f.jpg","comment_is_top":false,"comment_ctime":1577367373,"is_pvip":false,"replies":[{"id":64900,"content":"iptablesè§„åˆ™è®¾ç½®æ”¯æŒç®€å•çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œipvsæ¨¡å¼åˆ™æ”¯æŒé«˜çº§çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œå‚è€ƒï¼š\nhttps:&#47;&#47;kubernetes.io&#47;blog&#47;2018&#47;07&#47;09&#47;ipvs-based-in-cluster-load-balancing-deep-dive&#47;","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1577702944,"ip_address":"","comment_id":166032,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"ç”¨æˆ·ç©ºé—´ä»£ç†æ¨¡å¼ä¸­kube-proxyå¯ä»¥æ ¹æ®è´Ÿè½½å‡è¡¡ç­–ç•¥è¿”å›æŸä¸ªpod IPï¼Œå˜æˆäº†iptables&#47;ipvsæ¨¡å¼åï¼Œnetfilterå†…éƒ¨ä¹Ÿæœ‰è´Ÿè½½å‡è¡¡ç­–ç•¥å¯ä»¥é€‰å‡ºæŸä¸ªpodï¼Ÿè¿™æ˜¯åŸºäºLinuxå†…æ ¸æŸä¸ªç‰ˆæœ¬çš„å‡çº§å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479362,"discussion_content":"iptablesè§„åˆ™è®¾ç½®æ”¯æŒç®€å•çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œipvsæ¨¡å¼åˆ™æ”¯æŒé«˜çº§çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œå‚è€ƒï¼š\nhttps://kubernetes.io/blog/2018/07/09/ipvs-based-in-cluster-load-balancing-deep-dive/","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577702944,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136863,"user_name":"ç‹¼é±¼","can_delete":false,"product_type":"c3","uid":1109255,"ip_address":"","ucode":"CA06ACA2AF8044","user_header":"https://static001.geekbang.org/account/avatar/00/10/ed/07/3a3e766f.jpg","comment_is_top":false,"comment_ctime":1569544656,"is_pvip":false,"replies":[{"id":52570,"content":"prometheusæ”¯æŒé€šè¿‡k8sçš„REST APIè·å–é›†ç¾¤å†…podçš„ipåœ°å€ï¼Œè¿›è¡Œpodçº§åˆ«ç›‘æ§ï¼Œä¹Ÿå¯ä»¥ç›‘æ§èŠ‚ç‚¹&#47;æœåŠ¡&#47;ç«¯ç‚¹çº§åˆ«ï¼Œç»†èŠ‚é…ç½®å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š\nhttps:&#47;&#47;prometheus.io&#47;docs&#47;prometheus&#47;latest&#47;configuration&#47;configuration&#47;#kubernetes_sd_config\n","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1569588826,"ip_address":"","comment_id":136863,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"å¦‚æœæƒ³è·å–serviceä¸­æ‰€æœ‰æœ‰æ•ˆçš„pod çš„ ip åœ°å€ï¼Œæœ‰æ–¹æ³•å—ï¼Ÿ æ¯”å¦‚æƒ³é…ç½®åˆ° prometheus ä¸­æ‹‰å–æ•°æ®","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468833,"discussion_content":"prometheusæ”¯æŒé€šè¿‡k8sçš„REST APIè·å–é›†ç¾¤å†…podçš„ipåœ°å€ï¼Œè¿›è¡Œpodçº§åˆ«ç›‘æ§ï¼Œä¹Ÿå¯ä»¥ç›‘æ§èŠ‚ç‚¹/æœåŠ¡/ç«¯ç‚¹çº§åˆ«ï¼Œç»†èŠ‚é…ç½®å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š\nhttps://prometheus.io/docs/prometheus/latest/configuration/configuration/#kubernetes_sd_config\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569588826,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137254,"user_name":"æ¨æ³¢","can_delete":false,"product_type":"c3","uid":1030344,"ip_address":"","ucode":"FA3418BB703BCA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","comment_is_top":false,"comment_ctime":1569668906,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"è¯¾ç¨‹è¡¥å……ææ–™ï¼Œä½œè€…äº²è‡ªæ’°å†™çš„åšæ–‡ã€ŠKubernetesç½‘ç»œä¸‰éƒ¨æ›²ä¹‹äºŒï½Serviceç½‘ç»œã€‹\nhttps:&#47;&#47;blog.csdn.net&#47;yang75108&#47;article&#47;details&#47;101267444\n","like_count":10},{"had_liked":false,"id":343829,"user_name":"wahaha","can_delete":false,"product_type":"c3","uid":1008747,"ip_address":"","ucode":"EAD5AEE19ECF8B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/WFX7G7hO480BopLPxhY0DqTtDicUCgNHnk4XP1gJfsv37DCRvK9mwRTDHdQX4y0MTdp8DWsnxmkBsmw2Fdtib7MQ/132","comment_is_top":false,"comment_ctime":1651071874,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"è¯·é—®æœ‰æ²¡æœ‰springbootåœ¨k8sä¸‹åŒæ­¥é€šè¿‡feignè¿›è¡ŒæœåŠ¡é—´é€šä¿¡çš„ç¤ºä¾‹ï¼Ÿ","like_count":1},{"had_liked":false,"id":308535,"user_name":"è‰ºè¶…(é²é¸£)","can_delete":false,"product_type":"c3","uid":1029436,"ip_address":"","ucode":"7F749FA543E0F1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b5/3c/967d7291.jpg","comment_is_top":false,"comment_ctime":1629679677,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"ç”¨æˆ·ç©ºé—´æ¨¡å¼ä¸‹ï¼Œkube proxyå’Œnet filterä¹Ÿæœ‰äº¤äº’å—ï¼Ÿé‚£æ¡è™šçº¿","like_count":0}]}
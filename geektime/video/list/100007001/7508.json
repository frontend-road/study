{"id":7508,"title":"20 |【实验】GitHub社交登录实验和课后扩展","content":"无","comments":[{"had_liked":false,"id":64222,"user_name":"yien","can_delete":false,"product_type":"c3","uid":1345013,"ip_address":"","ucode":"37CC1AFAC8B0BC","user_header":"https://static001.geekbang.org/account/avatar/00/14/85/f5/10275c0a.jpg","comment_is_top":false,"comment_ctime":1548722687,"is_pvip":false,"replies":[{"id":22885,"content":"谢谢支持！加油！","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1548844137,"ip_address":"","comment_id":64222,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"哈哈，越到后面越没有人评论了。每天地铁学习学习，老师讲得挺好的","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437911,"discussion_content":"谢谢支持！加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548844137,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70933,"user_name":"Gavin","can_delete":false,"product_type":"c3","uid":1074841,"ip_address":"","ucode":"0F3D061656E1BC","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLjLviaomUMrKsyWaIe2zkJvN14pzFTdFrxT9zVpTXzF6G0EC5ibxkgaf305MGYTd9EcEI7Oy8aVmzQ/0","comment_is_top":false,"comment_ctime":1551229712,"is_pvip":false,"replies":[{"id":25578,"content":"安全敏感信息可以放在apollo这样的配置中心进行集中管理，视安全等级要求，可以再做一次应用层加解密(apollo本身并不管配置加解密)。业界还有一种实践是将安全敏感信息专门存放在定制的存储系统中，具有更高的安全性，例如开源的vault(https:&#47;&#47;github.com&#47;hashicorp&#47;vault)。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1551360147,"ip_address":"","comment_id":70933,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"老师您好，包括前面的课程，都是把client ID 和client secret（username, password)放在properties文件，或java代码里面,在安全级别较高的生产环境上应该怎么做？","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440905,"discussion_content":"安全敏感信息可以放在apollo这样的配置中心进行集中管理，视安全等级要求，可以再做一次应用层加解密(apollo本身并不管配置加解密)。业界还有一种实践是将安全敏感信息专门存放在定制的存储系统中，具有更高的安全性，例如开源的vault(https://github.com/hashicorp/vault)。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551360147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286860,"user_name":"Geek_LYQ","can_delete":false,"product_type":"c3","uid":2543581,"ip_address":"","ucode":"CD57643A24D508","user_header":"","comment_is_top":false,"comment_ctime":1617636431,"is_pvip":false,"replies":[{"id":104793,"content":"github的oauth服务器只是会发一个http 302跳转指令，指示你的浏览器跳转到localhost:8080，所以本地测试是可以的。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1618668325,"ip_address":"","comment_id":286860,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"Github setting里设置的Callback URL，设置的本机localhost:8080，Github授权服务器它怎么能访问家用路由器局域网地址呢？","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518111,"discussion_content":"github的oauth服务器只是会发一个http 302跳转指令，指示你的浏览器跳转到localhost:8080，所以本地测试是可以的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618668325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126457,"user_name":"Bootis","can_delete":false,"product_type":"c3","uid":1388421,"ip_address":"","ucode":"834251DC0FE2E7","user_header":"https://static001.geekbang.org/account/avatar/00/15/2f/85/9d1230c9.jpg","comment_is_top":false,"comment_ctime":1566388231,"is_pvip":false,"replies":[{"id":46873,"content":"github是支持oauth2联合登录和查询用户信息的，很多第三方应用可以通过github联合登录(例如国内的gitee)，授权码流程可参考：https:&#47;&#47;developer.github.com&#47;apps&#47;building-oauth-apps&#47;authorizing-oauth-apps&#47;\n\n你这个提示说明你或者你朋友的github账号没有经过email验证，这个违反了github oauth2的安全规则，所以不允许访问，你尝试验证email通过再试。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1566471554,"ip_address":"","comment_id":126457,"utype":1}],"discussion_count":1,"race_medal":1,"score":2,"product_id":100007001,"comment_content":"使用朋友的账户登录后，github提示 \nAuthorizing an OAuth application requires a verified email address.","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463996,"discussion_content":"github是支持oauth2联合登录和查询用户信息的，很多第三方应用可以通过github联合登录(例如国内的gitee)，授权码流程可参考：https://developer.github.com/apps/building-oauth-apps/authorizing-oauth-apps/\n\n你这个提示说明你或者你朋友的github账号没有经过email验证，这个违反了github oauth2的安全规则，所以不允许访问，你尝试验证email通过再试。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566471554,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126456,"user_name":"Bootis","can_delete":false,"product_type":"c3","uid":1388421,"ip_address":"","ucode":"834251DC0FE2E7","user_header":"https://static001.geekbang.org/account/avatar/00/15/2f/85/9d1230c9.jpg","comment_is_top":false,"comment_ctime":1566388148,"is_pvip":false,"replies":[{"id":46874,"content":"github是支持oauth2联合登录和查询用户信息的，很多第三方应用可以通过github联合登录(例如国内的gitee)，授权码流程可参考：https:&#47;&#47;developer.github.com&#47;apps&#47;building-oauth-apps&#47;authorizing-oauth-apps&#47;","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1566471589,"ip_address":"","comment_id":126456,"utype":1}],"discussion_count":1,"race_medal":1,"score":2,"product_id":100007001,"comment_content":"老师，在进行这个实验时，我发现使用的 github.app-id  github.app-secret 都是我自己的账户生成的，然后用朋友的账户试了一下，果然不能用我这里的客户端直接登录获取他的账户信息。\n\n那么如果想要做成现在的那种，通过我的应用让普通用户能够使用QQ账户、github账户登录的这种情况，应该怎么做才好呢？\n\n就像现在各种应用都支持qq登录、微信登录一样，github提供了这种方式吗？","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463995,"discussion_content":"github是支持oauth2联合登录和查询用户信息的，很多第三方应用可以通过github联合登录(例如国内的gitee)，授权码流程可参考：https://developer.github.com/apps/building-oauth-apps/authorizing-oauth-apps/","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566471589,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99815,"user_name":"无风木","can_delete":false,"product_type":"c3","uid":1126615,"ip_address":"","ucode":"1E3DE911479140","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/d7/119f8853.jpg","comment_is_top":false,"comment_ctime":1559309105,"is_pvip":false,"replies":[{"id":36220,"content":"你指的是GitHub社交登录实验吗？GitHub社交登录实验本质是授权码模式，需要用户登录认证换取授权码和令牌。客户端凭证模式确实不需要用户登录，因为只有机器参与，没有用户参与。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1559572392,"ip_address":"","comment_id":99815,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"客户端凭证模式应该是server to server，可是这个演示里还要用户输入用户名密码去登录，没有搞错吗","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452281,"discussion_content":"你指的是GitHub社交登录实验吗？GitHub社交登录实验本质是授权码模式，需要用户登录认证换取授权码和令牌。客户端凭证模式确实不需要用户登录，因为只有机器参与，没有用户参与。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559572392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":362825,"user_name":"大漠落木","can_delete":false,"product_type":"c3","uid":1528710,"ip_address":"河南","ucode":"E9EDB93CE7935C","user_header":"https://static001.geekbang.org/account/avatar/00/17/53/86/7c6476bc.jpg","comment_is_top":false,"comment_ctime":1668941923,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"https:&#47;&#47;spring.io&#47;blog&#47;2018&#47;07&#47;03&#47;spring-social-end-of-life-announcement","like_count":0}]}
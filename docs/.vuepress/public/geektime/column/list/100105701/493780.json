{"id":493780,"title":"11 | ååº”å¼ç¼–ç¨‹æ¡†æ¶è®¾è®¡ï¼šå¦‚ä½•ä½¿æ–¹æ³•è°ƒç”¨æ— é˜»å¡ç­‰å¾…ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ææ™ºæ…§ã€‚</p><p>ååº”å¼ç¼–ç¨‹æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å¼‚æ­¥ç¼–ç¨‹æ–¹æ¡ˆï¼Œåœ¨å¤šçº¿ç¨‹ï¼ˆåç¨‹ï¼‰ã€å¼‚æ­¥æ–¹æ³•è°ƒç”¨ã€å¼‚æ­¥I/Oè®¿é—®ç­‰æŠ€æœ¯åŸºç¡€ä¹‹ä¸Šï¼Œæä¾›äº†ä¸€æ•´å¥—ä¸å¼‚æ­¥è°ƒç”¨ç›¸åŒ¹é…çš„ç¼–ç¨‹æ¨¡å‹ï¼Œä»è€Œå®ç°ç¨‹åºè°ƒç”¨éé˜»å¡ã€å³æ—¶å“åº”ç­‰ç‰¹æ€§ï¼Œå³å¼€å‘å‡ºä¸€ä¸ªååº”å¼çš„ç³»ç»Ÿï¼Œä»¥åº”å¯¹ç¼–ç¨‹é¢†åŸŸè¶Šæ¥è¶Šé«˜çš„å¹¶å‘å¤„ç†éœ€æ±‚ã€‚</p><p>ååº”å¼ç³»ç»Ÿåº”è¯¥å…·å¤‡å¦‚ä¸‹çš„4ä¸ªç‰¹è´¨ã€‚</p><ul>\n<li><strong>å³æ—¶å“åº”</strong>ï¼šåº”ç”¨çš„è°ƒç”¨è€…å¯ä»¥å³æ—¶å¾—åˆ°å“åº”ï¼Œæ— éœ€ç­‰åˆ°æ•´ä¸ªåº”ç”¨ç¨‹åºæ‰§è¡Œå®Œæ¯•ã€‚ä¹Ÿå°±æ˜¯è¯´åº”ç”¨è°ƒç”¨æ˜¯éé˜»å¡çš„ã€‚</li>\n<li><strong>å›å¼¹æ€§</strong>ï¼šå½“åº”ç”¨ç¨‹åºéƒ¨åˆ†åŠŸèƒ½å¤±æ•ˆçš„æ—¶å€™ï¼Œåº”ç”¨ç³»ç»Ÿæœ¬èº«èƒ½å¤Ÿè¿›è¡Œè‡ªæˆ‘ä¿®å¤ï¼Œä¿è¯æ­£å¸¸è¿è¡Œï¼Œä¿è¯å“åº”ï¼Œä¸ä¼šå‡ºç°ç³»ç»Ÿå´©æºƒå’Œå®•æœºçš„æƒ…å†µã€‚</li>\n<li><strong>å¼¹æ€§</strong>ï¼šç³»ç»Ÿèƒ½å¤Ÿå¯¹åº”ç”¨è´Ÿè½½å‹åŠ›åšå‡ºå“åº”ï¼Œèƒ½å¤Ÿè‡ªåŠ¨ä¼¸ç¼©ä»¥é€‚åº”åº”ç”¨è´Ÿè½½å‹åŠ›ï¼Œæ ¹æ®å‹åŠ›è‡ªåŠ¨è°ƒæ•´è‡ªèº«çš„å¤„ç†èƒ½åŠ›ï¼Œæˆ–è€…æ ¹æ®è‡ªèº«çš„å¤„ç†èƒ½åŠ›ï¼Œè°ƒæ•´è¿›å…¥ç³»ç»Ÿä¸­çš„è®¿é—®è¯·æ±‚æ•°é‡ã€‚</li>\n<li><strong>æ¶ˆæ¯é©±åŠ¨</strong>ï¼šåŠŸèƒ½æ¨¡å—ä¹‹é—´ã€æœåŠ¡ä¹‹é—´é€šè¿‡æ¶ˆæ¯è¿›è¡Œé©±åŠ¨ï¼Œä»¥å®ŒæˆæœåŠ¡çš„æµç¨‹ã€‚</li>\n</ul><p>ç›®å‰ä¸»æµçš„ååº”å¼ç¼–ç¨‹æ¡†æ¶æœ‰RxJavaã€Reactorç­‰ï¼Œå®ƒä»¬çš„ä¸»è¦ç‰¹ç‚¹æ˜¯åŸºäº<strong>è§‚å¯Ÿè€…è®¾è®¡æ¨¡å¼</strong>çš„å¼‚æ­¥ç¼–ç¨‹æ–¹æ¡ˆï¼Œç¼–ç¨‹æ¨¡å‹é‡‡ç”¨å‡½æ•°å¼ç¼–ç¨‹ã€‚</p><p>è§‚å¯Ÿè€…æ¨¡å¼å’Œå‡½æ•°å¼ç¼–ç¨‹æœ‰è‡ªå·±çš„ä¼˜åŠ¿ï¼Œä½†æ˜¯ååº”å¼ç¼–ç¨‹å¹¶ä¸æ˜¯å¿…é¡»ç”¨è§‚å¯Ÿè€…æ¨¡å¼å’Œå‡½æ•°å¼ç¼–ç¨‹ã€‚æˆ‘ä»¬å‡†å¤‡å¼€å‘ä¸€ä¸ªçº¯æ¶ˆæ¯é©±åŠ¨ï¼Œå®Œå…¨å¼‚æ­¥ï¼Œæ”¯æŒå‘½ä»¤å¼ç¼–ç¨‹çš„ååº”å¼ç¼–ç¨‹æ¡†æ¶ï¼Œæ¡†æ¶åç§°ä¸ºâ€œFlowerâ€ã€‚</p><!-- [[[read_end]]] --><h2>éœ€æ±‚åˆ†æ</h2><p>äº’è”ç½‘åŠç‰©è”ç½‘åœºæ™¯ä¸‹çš„åº”ç”¨ç³»ç»Ÿå¼€å‘ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯é«˜å¹¶å‘ç³»ç»Ÿå¼€å‘ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨åŒä¸€ä¸ªæ—¶åˆ»ï¼Œä¼šæœ‰å¤§é‡çš„ç”¨æˆ·æˆ–è®¾å¤‡è¯·æ±‚åˆ°è¾¾ç³»ç»Ÿï¼Œè¿›è¡Œè®¡ç®—å¤„ç†ã€‚ä½†æ˜¯ä¼ ç»Ÿçš„ç¼–ç¨‹æ¨¡å‹éƒ½æ˜¯é˜»å¡å¼ç¼–ç¨‹ï¼Œé˜»å¡å¼ç¼–ç¨‹æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Œä¼šäº§ç”Ÿä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸€æ®µä»£ç ç¤ºä¾‹ã€‚</p><pre><code class=\"language-plain\">void a(){\n  ....\n  int x = m();\n  int y = n();\n  return x + y;\n}\n</code></pre><p>åœ¨æ–¹æ³•aä¸­è°ƒç”¨äº†æ–¹æ³•mï¼Œé‚£ä¹ˆåœ¨æ–¹æ³•mè¿”å›ä¹‹å‰ï¼Œå°±ä¸ä¼šè°ƒç”¨æ–¹æ³•nï¼Œå³æ–¹æ³•aè¢«æ–¹æ³•mé˜»å¡äº†ã€‚è¿™ç§ç¼–ç¨‹æ¨¡å‹ä¸‹ï¼Œæ–¹æ³•må’Œæ–¹æ³•nä¸èƒ½åŒæ—¶æ‰§è¡Œï¼Œç³»ç»Ÿçš„è¿è¡Œé€Ÿåº¦å°±ä¸ä¼šå¿«ï¼Œå¹¶å‘å¤„ç†èƒ½åŠ›å°±ä¸ä¼šå¾ˆé«˜ã€‚</p><p>è¿˜æœ‰æ›´ä¸¥é‡çš„æƒ…å†µã€‚æœåŠ¡å™¨é€šå¸¸ä¸ºæ¯ä¸ªç”¨æˆ·è¯·æ±‚åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œè€Œåˆ›å»ºçš„æ€»çº¿ç¨‹æ•°æ˜¯æœ‰é™çš„ï¼Œæ¯å°æœåŠ¡å™¨é€šå¸¸å‡ ç™¾ä¸ªã€‚å¦‚æœæ–¹æ³•mæ˜¯ä¸€ä¸ªè¿œç¨‹è°ƒç”¨ï¼Œå¤„ç†æ¯”è¾ƒæ…¢ï¼Œå½“æ–¹æ³•aè°ƒç”¨æ–¹æ³•mæ—¶ï¼Œæ‰§è¡Œæ–¹æ³•açš„çº¿ç¨‹å°±ä¼šè¢«é•¿æœŸæŒ‚èµ·ï¼Œæ— æ³•é‡Šæ”¾ã€‚å¦‚æœæ‰€æœ‰çº¿ç¨‹éƒ½å› ä¸ºæ–¹æ³•mè€Œæ— æ³•é‡Šæ”¾ï¼Œå¯¼è‡´æœåŠ¡å™¨çº¿ç¨‹è€—å°½ï¼Œå°±ä¼šä½¿æœåŠ¡å™¨é™·å…¥å‡æ­»çŠ¶æ€ï¼Œå¤–éƒ¨è¡¨ç°å°±æ˜¯æœåŠ¡å™¨å®•æœºï¼Œå¤±å»å“åº”ï¼Œç³»ç»Ÿä¸¥é‡æ•…éšœã€‚</p><p>Floweræ¡†æ¶åº”è¯¥æ»¡è¶³å¦‚ä¸‹å…¸å‹Webåº”ç”¨çš„çº¿ç¨‹ç‰¹æ€§ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/e3/77/e3f2706fbf015cc81224d5c8cb3c9577.jpg?wh=1920x562\" alt=\"å›¾ç‰‡\"></p><p>å½“å¹¶å‘ç”¨æˆ·è¯·æ±‚åˆ°è¾¾åº”ç”¨æœåŠ¡å™¨æ—¶ï¼ŒWebå®¹å™¨çº¿ç¨‹ä¸éœ€è¦æ‰§è¡Œåº”ç”¨ç¨‹åºä»£ç ï¼Œå®ƒåªæ˜¯å°†ç”¨æˆ·çš„HTTPè¯·æ±‚å˜ä¸ºè¯·æ±‚å¯¹è±¡ï¼Œå°†è¯·æ±‚å¯¹è±¡å¼‚æ­¥äº¤ç»™Floweræ¡†æ¶çš„Serviceå»å¤„ç†ï¼Œè€ŒWebå®¹å™¨çº¿ç¨‹è‡ªèº«ç«‹åˆ»å°±è¿”å›ã€‚</p><p>å¦‚æœæ˜¯ä¼ ç»Ÿçš„é˜»å¡å¼ç¼–ç¨‹ï¼ŒWebå®¹å™¨çº¿ç¨‹è¦å®Œæˆå…¨éƒ¨çš„è¯·æ±‚å¤„ç†æ“ä½œï¼Œç›´åˆ°è¿”å›å“åº”ç»“æœæ‰èƒ½é‡Šæ”¾çº¿ç¨‹ï¼Œæ‰€ä»¥éœ€è¦å¾ˆå¤šWebå®¹å™¨çº¿ç¨‹ã€‚ä½†ä½¿ç”¨Floweræ¡†æ¶åªéœ€è¦æå°‘çš„å®¹å™¨çº¿ç¨‹å°±å¯ä»¥å¤„ç†è¾ƒå¤šçš„å¹¶å‘ç”¨æˆ·è¯·æ±‚ï¼Œè€Œä¸”å®¹å™¨çº¿ç¨‹ä¸ä¼šé˜»å¡ã€‚</p><p>åŒæ ·ï¼Œåœ¨Floweræ¡†æ¶ä¸­ï¼Œç”¨æˆ·è¯·æ±‚äº¤ç»™ä¸šåŠ¡Serviceå¯¹è±¡ä»¥åï¼ŒServiceä¹‹é—´ä¾ç„¶æ˜¯ä½¿ç”¨å¼‚æ­¥æ¶ˆæ¯é€šè®¯è€Œéé˜»å¡å¼çš„è°ƒç”¨ã€‚ä¸€ä¸ªServiceå®Œæˆä¸šåŠ¡é€»è¾‘å¤„ç†è®¡ç®—ä»¥åï¼Œä¼šè¿”å›ä¸€ä¸ªå¤„ç†ç»“æœï¼Œè¿™ä¸ªç»“æœä¼šä»¥æ¶ˆæ¯çš„æ–¹å¼å¼‚æ­¥å‘é€ç»™ä¸‹ä¸€ä¸ªServiceã€‚</p><h2>æ¦‚è¦è®¾è®¡</h2><p>Floweræ¡†æ¶å®ç°å¼‚æ­¥æ— é˜»å¡ï¼Œä¸€æ–¹é¢æ˜¯åˆ©ç”¨äº†Java Webå®¹å™¨çš„å¼‚æ­¥ç‰¹æ€§ï¼Œä¸»è¦æ˜¯Servlet3.0ä»¥åæä¾›çš„AsyncContextï¼Œå¿«é€Ÿé‡Šæ”¾å®¹å™¨çº¿ç¨‹ï¼›å¦ä¸€æ–¹é¢åˆ™åˆ©ç”¨äº†å¼‚æ­¥çš„æ•°æ®åº“é©±åŠ¨å’Œå¼‚æ­¥çš„ç½‘ç»œé€šä¿¡ï¼Œä¸»è¦æ˜¯HttpAsyncClientç­‰å¼‚æ­¥é€šä¿¡ç»„ä»¶ã€‚è€ŒFloweræ¡†æ¶å†…ï¼Œæ ¸å¿ƒåº”ç”¨ä»£ç ä¹‹é—´çš„å¼‚æ­¥æ— é˜»å¡è°ƒç”¨ï¼Œåˆ™æ˜¯åˆ©ç”¨äº†Akka çš„Actoræ¨¡å‹ã€‚</p><p>Akka Actorçš„å¼‚æ­¥æ¶ˆæ¯é©±åŠ¨å®ç°å¦‚ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/f4/72/f4c3e72dyyf6876064d11yyba3168f72.png?wh=755x228\" alt=\"å›¾ç‰‡\"></p><p>ä¸€ä¸ªActorå‘å¦ä¸€ä¸ªActorå‘èµ·é€šè®¯æ—¶ï¼Œå½“å‰Actorå°±æ˜¯ä¸€ä¸ªæ¶ˆæ¯çš„å‘é€è€…Senderï¼Œå®ƒéœ€è¦è·å¾—å¦ä¸€ä¸ªActorçš„ActorRefï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œé€šè¿‡å¼•ç”¨è¿›è¡Œæ¶ˆæ¯é€šä¿¡ã€‚è€ŒActorRefæ”¶åˆ°æ¶ˆæ¯ä»¥åï¼Œä¼šå°†è¿™ä¸ªæ¶ˆæ¯æ”¾åˆ°ç›®æ ‡Actorçš„Mailboxé‡Œé¢ï¼Œç„¶åå°±ç«‹å³è¿”å›äº†ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªActorå‘å¦ä¸€ä¸ªActorå‘é€æ¶ˆæ¯æ—¶ï¼Œä¸éœ€è¦ç­‰å¾…å¯¹æ–¹çœŸæ­£åœ°å¤„ç†è¿™ä¸ªæ¶ˆæ¯ï¼Œåªéœ€è¦å°†æ¶ˆæ¯å‘é€åˆ°ç›®æ ‡Actorçš„Mailboxé‡Œé¢å°±å¯ä»¥äº†ã€‚Senderä¸ä¼šè¢«é˜»å¡ï¼Œå¯ä»¥ç»§ç»­æ‰§è¡Œè‡ªå·±çš„å…¶ä»–æ“ä½œã€‚è€Œç›®æ ‡Actoræ£€æŸ¥è‡ªå·±çš„Mailboxä¸­æ˜¯å¦æœ‰æ¶ˆæ¯ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ä»Mailboxé‡Œé¢è·å–æ¶ˆæ¯ï¼Œå¹¶è¿›è¡Œå¼‚æ­¥çš„å¤„ç†ã€‚è€Œæ‰€æœ‰çš„Actorä¼šå…±äº«çº¿ç¨‹ï¼Œè¿™äº›çº¿ç¨‹ä¸ä¼šæœ‰ä»»ä½•çš„é˜»å¡ã€‚</p><p>ä½†æ˜¯Actorç¼–ç¨‹æ¨¡å‹æ— æ³•æ»¡è¶³äººä»¬æ—¥å¸¸çš„ç¼–ç¨‹ä¹ æƒ¯ä»¥åŠFlowerçš„å‘½ä»¤å¼ç¼–ç¨‹éœ€æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†Akka Actorå°è£…åˆ°ä¸€ä¸ªFlowerçš„ç¼–ç¨‹æ¡†æ¶ä¸­ï¼Œå¹¶é€šè¿‡Floweræä¾›ä¸€ä¸ªæ–°çš„ç¼–ç¨‹æ¨¡å‹ã€‚</p><p>FloweråŸºäºAkkaçš„Actorè¿›è¡Œå¼€å‘ï¼Œå°†Serviceå°è£…åˆ°Actoré‡Œé¢ï¼Œå¹¶ä¸”å°†Actoræ”¶åˆ°çš„æ¶ˆæ¯ä½œä¸ºå‚æ•°ä¼ å…¥Serviceè¿›è¡Œè°ƒç”¨ã€‚</p><p>Floweræ¡†æ¶çš„ä¸»è¦å…ƒç´ åŒ…æ‹¬ï¼šFlower Serviceï¼ˆæœåŠ¡ï¼‰ã€Flower æµç¨‹å’ŒFlowerå®¹å™¨ã€‚å…¶ä¸­ï¼ŒServiceå®ç°ä¸€ä¸ªç»†ç²’åº¦çš„æœåŠ¡åŠŸèƒ½ï¼ŒServiceä¹‹é—´ä¼šé€šè¿‡Messageå…³è”ï¼Œå‰ä¸€ä¸ªServiceçš„è¿”å›å€¼ï¼ˆMessageï¼‰ï¼Œå¿…é¡»æ˜¯åä¸€ä¸ªServiceçš„è¾“å…¥å‚æ•°ï¼ˆMessageï¼‰ã€‚è€ŒFlowerå®¹å™¨å°±è´Ÿè´£åœ¨Serviceé—´ä¼ é€’Massageï¼Œä»è€Œä½¿ServiceæŒ‰ç…§ä¸šåŠ¡é€»è¾‘ç¼–è¾‘æˆä¸€ä¸ªFlowï¼ˆæµç¨‹ï¼‰ã€‚</p><p>åœ¨Flowerå†…éƒ¨ï¼Œæ¶ˆæ¯æ˜¯ä¸€ç­‰å…¬æ°‘ï¼ŒåŸºäºFlowerå¼€å‘çš„åº”ç”¨ç³»ç»Ÿæ˜¯é¢å‘æ¶ˆæ¯çš„åº”ç”¨ç³»ç»Ÿã€‚æ¶ˆæ¯ç”±Serviceäº§ç”Ÿï¼Œæ˜¯Serviceçš„è¿”å›å€¼ï¼›åŒæ—¶æ¶ˆæ¯ä¹Ÿæ˜¯Serviceçš„è¾“å…¥ã€‚å‰ä¸€ä¸ªServiceçš„è¿”å›æ¶ˆæ¯æ˜¯ä¸‹ä¸€ä¸ªServiceçš„è¾“å…¥æ¶ˆæ¯ï¼Œ<strong>æ²¡æœ‰è€¦åˆ</strong>çš„Serviceæ­£æ˜¯é€šè¿‡æ¶ˆæ¯å…³è”èµ·æ¥ï¼Œç»„æˆä¸€ä¸ªServiceæµç¨‹ï¼Œå¹¶æœ€ç»ˆæ„å»ºå‡ºä¸€ä¸ªæ‹¥æœ‰å®Œæ•´å¤„ç†èƒ½åŠ›çš„åº”ç”¨ç³»ç»Ÿã€‚æµç¨‹ä¸¾ä¾‹ï¼š</p><pre><code class=\"language-plain\">// -&gt; service1 -&gt; service2 -&gt; service5 -&gt; service4\n//&nbsp; &nbsp; &nbsp; ^&nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;^&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |\n//&nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp;-&gt; service3 -|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |\n//&nbsp; &nbsp; &nbsp; |___________________________________|\n</code></pre><h2>è¯¦ç»†è®¾è®¡</h2><p>Floweræ ¸å¿ƒç±»å›¾å¦‚ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/7f/91/7fd7c49659117bb164bc616e24ee9891.jpg?wh=2000x1500\" alt=\"\"></p><p>Floweræ¡†æ¶æ ¸å¿ƒå…³é”®ç±»åŠå…¶èŒè´£å¦‚ä¸‹ï¼š</p><ol>\n<li>Serviceä»¥åŠHttpServiceæ¥å£æ˜¯æ¡†æ¶çš„ç¼–ç¨‹æ ¸å¿ƒï¼Œå¼€å‘è€…å¼€å‘çš„Serviceéœ€è¦å®ç°Serviceæˆ–è€…HttpServiceæ¥å£ã€‚HttpServiceä¸Serviceçš„ä¸åŒåœ¨äºHttpServiceåœ¨æ¥å£æ–¹æ³•ä¸­ä¼ é€’Webå‚æ•°ï¼Œå¼€å‘è€…åˆ©ç”¨Webæ¥å£å¯ä»¥å°†è®¡ç®—ç»“æœç›´æ¥printåˆ°HTTPå®¢æˆ·ç«¯ï¼›</li>\n<li>ServiceFactoryè´Ÿè´£ç”¨æˆ·ä»¥åŠæ¡†æ¶å†…ç½®çš„serviceå®ä¾‹ç®¡ç†ï¼ˆåŠ è½½*.servicesæ–‡ä»¶ï¼‰ï¼›</li>\n<li>ServiceFlowè´Ÿè´£æµç¨‹ç®¡ç†ï¼ˆåŠ è½½*.flowæ–‡ä»¶ï¼‰ï¼›</li>\n<li>ServiceActorå°†Serviceå°è£…åˆ°Actorã€‚</li>\n</ol><p>Floweråˆå§‹åŒ–åŠè°ƒç”¨æ—¶åºå›¾å¦‚ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d0/f7/d0e3a161a016467242bb96aa685bc6f7.jpg?wh=1920x1532\" alt=\"å›¾ç‰‡\"></p><p>å›¾ä¸­åŒ…å«ä¸¤ä¸ªè¿‡ç¨‹ï¼Œç¬¬ä¸€ä¸ªè¿‡ç¨‹æ˜¯<strong>æœåŠ¡æµç¨‹åˆå§‹åŒ–</strong>è¿‡ç¨‹ã€‚é¦–å…ˆï¼Œå¼€å‘è€…é€šè¿‡ServiceFacadeè°ƒç”¨å·²ç»å®šä¹‰å¥½çš„æœåŠ¡æµç¨‹ã€‚ç„¶åï¼ŒServiceFacadeæ ¹æ®ä¼ å…¥çš„flowåå’Œserviceåï¼Œåˆ›å»ºç¬¬ä¸€ä¸ªServiceActorã€‚è¿™ä¸ªServiceActorå°†é€šè¿‡ServiceFactoryæ¥è£…è½½Serviceå®ä¾‹ï¼Œå¹¶é€šè¿‡ServiceFlowè·å¾—å½“å‰Serviceåœ¨æµç¨‹ä¸­æ‰€é…ç½®çš„åç»­Serviceï¼ˆå¯èƒ½æœ‰å¤šä¸ªï¼‰ã€‚ä¾æ­¤é€’å½’ï¼Œåˆ›å»ºåç»­Serviceçš„ServiceActorï¼Œå¹¶è®°å½•å…¶å¯¹åº”çš„ActorRefã€‚</p><p>æ—¶åºå›¾ä¸­çš„ç¬¬äºŒä¸ªè¿‡ç¨‹æ˜¯<strong>æ¶ˆæ¯æµå¤„ç†</strong>è¿‡ç¨‹ã€‚è°ƒç”¨è€…å‘é€ç»™ServiceFacadeçš„æ¶ˆæ¯ï¼Œä¼šè¢«flowæµç¨‹ä¸­çš„ç¬¬ä¸€ä¸ªServiceActorå¤„ç†ï¼Œè¿™ä¸ªServiceActorä¼šè°ƒç”¨å¯¹åº”çš„Serviceå®ä¾‹ï¼Œå¹¶å°†Serviceå®ä¾‹çš„è¿”å›å€¼ä½œä¸ºæ¶ˆæ¯å‘é€ç»™æµç¨‹å®šä¹‰çš„åç»­ServiceActorã€‚</p><p>ä½¿ç”¨Floweræ¡†æ¶å¼€å‘åº”ç”¨ç¨‹åºï¼Œå°±æ˜¯å¼€å‘å„ç§Serviceï¼Œå¼€å‘æœåŠ¡Serviceç±»å¿…é¡»å®ç°Floweræ¡†æ¶çš„Serviceæ¥å£æˆ–è€…HTTPæ¥å£ï¼Œåœ¨processæ–¹æ³•å†…å®ŒæˆæœåŠ¡ä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚Serviceä»£ç ç¤ºä¾‹å¦‚ä¸‹ã€‚</p><pre><code class=\"language-plain\">public class UserServiceA implements Service&lt;User, User&gt; {\n&nbsp; static final Logger logger = LoggerFactory.getLogger(UserServiceA.class);\n&nbsp; @Override\n&nbsp; public User process(User message, ServiceContext context) throws Throwable {\n&nbsp; &nbsp; message.setDesc(message.getDesc() + \" --&gt; \" + getClass().getSimpleName());\n&nbsp; &nbsp; message.setAge(message.getAge() + 1);\n&nbsp; &nbsp; logger.info(\"ç»“æŸå¤„ç†æ¶ˆæ¯, message : {}\", message);\n&nbsp; &nbsp; return message;\n&nbsp; }\n}\n</code></pre><h4>æœåŠ¡æ³¨å†Œ</h4><p>å¼€å‘è€…å¼€å‘çš„æœåŠ¡éœ€è¦åœ¨Flowerä¸­æ³¨å†Œæ‰å¯ä»¥è°ƒç”¨ï¼ŒFloweræä¾›ä¸¤ç§æœåŠ¡æ³¨å†Œæ–¹å¼ï¼šé…ç½®æ–‡ä»¶æ–¹å¼å’Œç¼–ç¨‹æ–¹å¼ã€‚</p><p>ç¼–ç¨‹æ–¹å¼ç¤ºä¾‹å¦‚ä¸‹ã€‚</p><pre><code class=\"language-plain\"> ServiceFactory serviceFactory = flowerFactory.getServiceFactory();\n serviceFactory.registerService(UserServiceA.class.getSimpleName(), UserServiceA.class);\n serviceFactory.registerService(UserServiceB.class.getSimpleName(), UserServiceB.class);\n serviceFactory.registerService(UserServiceC1.class.getSimpleName(), UserServiceC1.class);\n</code></pre><p>é…ç½®æ–‡ä»¶æ–¹å¼æ”¯æŒç”¨é…ç½®æ–‡ä»¶è¿›è¡Œæ³¨å†Œï¼ŒæœåŠ¡å®šä¹‰é…ç½®æ–‡ä»¶æ‰©å±•å: .servicesï¼Œæ”¾åœ¨classpathä¸‹ï¼ŒFloweræ¡†æ¶è‡ªåŠ¨åŠ è½½æ³¨å†Œï¼Œæ¯”å¦‚flower_test.servicesã€‚é…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹ã€‚</p><pre><code class=\"language-plain\">UserServiceA = com.ly.train.flower.base.service.user.UserServiceA\nUserServiceB = com.ly.train.flower.base.service.user.UserServiceB\nUserServiceC1 = com.ly.train.flower.base.service.user.UserServiceC1\n</code></pre><h4>æµç¨‹ç¼–æ’</h4><p>åœ¨Flowerä¸­ï¼ŒæœåŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ä¸èƒ½é€šè¿‡ä¼ ç»Ÿçš„æœåŠ¡ä¹‹é—´ä¾èµ–è°ƒç”¨å®ç°ï¼Œå¦‚å¼€å¤´çš„æ–¹æ³•aè°ƒç”¨æ–¹æ³•mé‚£æ ·ã€‚è€Œéœ€è¦é€šè¿‡æµç¨‹ç¼–æ’æ–¹å¼ï¼Œå®ç°æœåŠ¡é—´ä¾èµ–ã€‚æœåŠ¡ç¼–æ’æ–¹å¼ä¹Ÿæœ‰ä¸¤ç§ï¼Œé…ç½®æ–‡ä»¶æ–¹å¼å’Œç¼–ç¨‹æ–¹å¼ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­æ¼”ç¤ºçš„æ˜¯ä»¥<strong>ç¼–ç¨‹æ–¹å¼</strong>ç¼–æ’æµç¨‹ã€‚</p><pre><code class=\"language-plain\">// UserServiceA -&gt; UserServiceB -&gt; UserServiceC1\nfinal String flowName = \"flower_test\";\nServiceFlow serviceFlow = serviceFactory.getOrCreateServiceFlow(flowName);\nserviceFlow.buildFlow(UserServiceA.class, UserServiceB.class);\nserviceFlow.buildFlow(UserServiceB.class, UserServiceC1.class);\nserviceFlow.build();\n</code></pre><p>è€Œæµç¨‹<strong>é…ç½®æ–‡ä»¶æ–¹å¼</strong>åˆ™ä½¿ç”¨æ‰©å±•å: .flowï¼Œæ”¾åœ¨classpathä¸‹ï¼ŒFloweræ¡†æ¶ä¼šè‡ªåŠ¨åŠ è½½ç¼–æ’æµç¨‹ã€‚ æ¯”å¦‚flower_test.flowï¼Œæ–‡ä»¶åflower_testå°±æ˜¯æµç¨‹çš„åå­—ï¼Œæµç¨‹æ‰§è¡Œæ—¶éœ€è¦æŒ‡å®šæµç¨‹åã€‚é…ç½®æ–‡ä»¶å†…å®¹ç¤ºä¾‹å¦‚ä¸‹ã€‚</p><pre><code class=\"language-plain\">UserServiceA -&gt; UserServiceB\nUserServiceB -&gt; UserServiceC1\n</code></pre><p>æˆ‘ä»¬å°†æœåŠ¡Serviceä»£ç å¼€å‘å¥½ï¼Œæ³¨å†Œåˆ°äº†Floweræ¡†æ¶ä¸­ï¼Œå¹¶é€šè¿‡æµç¨‹ç¼–æ’çš„æ–¹å¼ç¼–æ’äº†è¿™å‡ ä¸ªServiceçš„ä¾èµ–å…³ç³»ï¼Œåé¢å°±å¯ä»¥ç”¨æµç¨‹åç§°è¿›è¡Œè°ƒç”¨äº†ã€‚è°ƒç”¨ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼Œå…¶ä¸­flowNameæ˜¯æµç¨‹çš„åå­—ï¼Œuseræ˜¯æµç¨‹ä¸­çš„ä¸€ä¸ªServiceåï¼Œæ˜¯æµç¨‹å¼€å§‹çš„Serviceã€‚</p><pre><code class=\"language-plain\">final FlowRouter flowRouter = flowerFactory.buildFlowRouter(flowName, 16);\nflowRouter.asyncCallService(user);\n</code></pre><p>Floweræ¡†æ¶æºä»£ç åŠæ›´å¤šèµ„æ–™å¯å‚è€ƒ <a href=\"https://github.com/zhihuili/flower\">https://github.com/zhihuili/flower</a>ã€‚</p><h2>å°ç»“</h2><p>æ¶æ„å¸ˆæ˜¯ä¸€ä¸ªæŠ€æœ¯æƒå¨ï¼Œä»–åº”è¯¥æ˜¯å›¢é˜Ÿä¸­æœ€æœ‰æŠ€æœ¯å½±å“åŠ›çš„é‚£ä¸ªäººã€‚æ‰€ä»¥ï¼Œæ¶æ„å¸ˆéœ€è¦å…·å¤‡å“è¶Šçš„ä»£ç èƒ½åŠ›ï¼Œå¦åˆ™å°±ä¼šæ²¦ä¸ºPPTæ¶æ„å¸ˆã€‚PPTæ¶æ„å¸ˆå¯ä»¥ä¸€æ—¶æˆä¸ºå›¢é˜Ÿçš„ç„¦ç‚¹ï¼Œä½†æ˜¯æ— æ³•é•¿è¿œè®©å¤§å®¶ä¿¡æœã€‚</p><p>é‚£ä¹ˆæ¶æ„å¸ˆåº”è¯¥å†™ä»€ä¹ˆæ ·çš„ä»£ç ï¼Ÿæ¶æ„å¸ˆå¦‚æœå†™çš„ä»£ç å’Œå…¶ä»–å¼€å‘å·¥ç¨‹å¸ˆçš„ä»£ç ä¸€æ ·ï¼Œåˆä½•ä»¥ä¿æŒè‡ªå·±çš„æŠ€æœ¯æƒå¨ï¼Œå®ç°æŠ€æœ¯é¢†å¯¼ï¼Ÿç®€å•æ¥è¯´ï¼Œä»£ç å¯ä»¥åˆ†æˆä¸¤ç§ï¼Œä¸€ç§ä»£ç æ˜¯ç»™æœ€ç»ˆç”¨æˆ·ä½¿ç”¨çš„ï¼Œå¤„ç†ç”¨æˆ·è¯·æ±‚ï¼Œäº§ç”Ÿç”¨æˆ·éœ€è¦çš„ç»“æœï¼›å¦ä¸€ç§æ˜¯ç»™å¼€å‘å·¥ç¨‹å¸ˆä½¿ç”¨çš„ï¼Œå„ç§ç¼–ç¨‹è¯­è¨€ã€æ•°æ®åº“ã€ç¼–è¯‘å™¨ã€ç¼–ç¨‹æ¡†æ¶ã€æŠ€æœ¯å·¥å…·ç­‰ç­‰ã€‚</p><p>ç¼–ç¨‹è¯­è¨€ã€æ•°æ®åº“è¿™äº›æ˜¯ä¸šç•Œé€šç”¨çš„ï¼Œä½†æ˜¯ç¼–ç¨‹æ¡†æ¶ã€æŠ€æœ¯å·¥å…·ï¼Œæ¯ä¸ªå…¬å¸éƒ½å¯ä»¥ä¾æ®è‡ªèº«çš„ä¸šåŠ¡ç‰¹ç‚¹ï¼Œå¼€å‘è‡ªå·±çš„æ¡†æ¶å’Œå·¥å…·ã€‚è€Œæ¶æ„å¸ˆåº”è¯¥æ˜¯å¼€å‘æ¡†æ¶çš„é‚£ä¸ªäººï¼Œæ¯ä¸ªå¼€å‘å·¥ç¨‹å¸ˆéƒ½ä½¿ç”¨æ¶æ„å¸ˆçš„å¼€å‘æ¡†æ¶ä»¥åŠçº¦å®šçš„ç¼–ç¨‹è§„èŒƒå¼€å‘ä»£ç ã€‚æ¶æ„å¸ˆé€šè¿‡è¿™ç§æ–¹å¼è½åœ°è‡ªå·±çš„æ¶æ„è®¾è®¡ï¼Œä¿æŒè‡ªå·±çš„æŠ€æœ¯å½±å“ã€‚</p><p>ä¹Ÿè®¸ä½ çš„å¼€å‘ä¸­ä¸ä¼šç”¨åˆ°ååº”å¼ç¼–ç¨‹ï¼Œä½ å¯èƒ½ä¹Ÿä¸éœ€è¦æ·±å…¥å­¦ä¹ Floweræ¡†æ¶å¦‚ä½•è®¾è®¡ã€å¦‚ä½•ä½¿ç”¨ã€‚ä½†æ˜¯å¸Œæœ›ä½ èƒ½é€šè¿‡æœ¬æ–‡å­¦ä¹ åˆ°å¦‚ä½•è®¾è®¡ä¸€ä¸ªç¼–ç¨‹æ¡†æ¶ï¼Œç»“åˆä½ æ‰€åœ¨å…¬å¸çš„ä¸šåŠ¡åœºæ™¯ï¼Œå°†æ¥å¼€å‘ä¸€ä¸ªä½ è‡ªå·±çš„ç¼–ç¨‹æ¡†æ¶ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>Flowerçº¯æ¶ˆæ¯é©±åŠ¨ã€å¼‚æ­¥æ— é˜»å¡çš„ä¼˜è‰¯ç‰¹ç‚¹ï¼Œé€‚åˆè®¸å¤šå¯¹å¹¶å‘å¤„ç†è¦æ±‚é«˜ï¼Œéœ€è¦å¿«é€Ÿã€åŠæ—¶å“åº”çš„åœºæ™¯ï¼Œä½ èƒ½æƒ³åˆ°çš„ç°å®åº”ç”¨åœºæ™¯æœ‰å“ªäº›å‘¢ï¼Ÿ</p><p>æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„æ€è€ƒï¼Œæˆ‘ä»¬å…±åŒè¿›æ­¥ã€‚</p>","neighbors":{"left":{"article_title":"10 | æœç´¢å¼•æ“è®¾è®¡ï¼šä¿¡æ¯æœç´¢æ€ä¹ˆé¿å…å¤§æµ·æé’ˆï¼Ÿ","id":493019},"right":{"article_title":"12 | é«˜æ€§èƒ½æ¶æ„çš„ä¸‰æ¿æ–§ï¼šåˆ†æç³»ç»Ÿæ€§èƒ½é—®é¢˜ä»å“ªé‡Œå…¥æ‰‹ï¼Ÿ","id":494490}},"comments":[{"had_liked":false,"id":338213,"user_name":"ğŸ‘½","can_delete":false,"product_type":"c1","uid":1274117,"ip_address":"","ucode":"D313AF941B412D","user_header":"https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg","comment_is_top":false,"comment_ctime":1647354878,"is_pvip":false,"replies":[{"id":"123664","content":"å¾ˆèµï¼Œç¡®å®ï¼ŒAkkaçš„å¾ˆå¤šåº”ç”¨æ¡ˆä¾‹éƒ½å‡ºè‡ªé‡‘èè¡Œä¸šã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1647409428,"ip_address":"","comment_id":338213,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27417158654","product_id":100105701,"comment_content":"<br>å› ä¸ºå¼‚æ­¥ï¼Œæ— é˜»å¡ã€‚æˆ‘è§‰å¾—å…¶å®æœ€ä¸»è¦è§£å†³çš„æ˜¯ioè®¿é—®å’Œç½‘ç»œè¯·æ±‚ã€‚å…¶åŸºæœ¬åŸç†æ˜¯ï¼ŒCPUçš„è¿ç®—é€Ÿåº¦è¿œè¿œé«˜äºIOè®¿é—®ï¼ˆæ¯”å¦‚ç£ç›˜è®¿é—®ï¼Œå¤–è®¾è®¿é—®ï¼‰ï¼Œæ›´è¿œé«˜äºç½‘ç»œè¯·æ±‚ï¼ˆå±€åŸŸç½‘å†…çš„æ•°æ®åº“ï¼Œæˆ–è€…å¾®æœåŠ¡ä¸‹çš„æœåŠ¡é—´é€šä¿¡ï¼‰<br><br>ä¼ ç»Ÿä¸²è¡ŒåŒ–ï¼Œå°±å¥½åƒï¼Œæˆ‘è¦ç»„è£…ä¸€å°ç”µè„‘ï¼Œæˆ‘æ‹¿åˆ°å›¾çº¸ä»¥åï¼Œå›¾çº¸ç¬¬ä¸€æ­¥æ˜¯ç»„è£…æœºç®±ï¼Œæˆ‘è®¢è´­äº†ä¸€ä¸ªæœºç®±3å¤©åˆ°è´§ï¼Œç„¶åæœºç®±é‡Œè¦æ”¾ä¸»æ¿ï¼Œæˆ‘åˆå®šäº†ä¸€ä¸ªä¸»æ¿2å¤©åˆ°è´§ï¼Œä¸»æ¿ä¸Šè¦æ”¾cpuï¼Œæˆ‘åˆå®šäº†ä¸€ä¸ªCPUåŠä¸ªæœˆåˆ°è´§ã€‚ã€‚ã€‚æœ€ç»ˆä¸€å°ç”µè„‘ç»„è£…å¥½ï¼Œä¸¤ä¸ªæœˆè¿‡å»äº†ã€‚ç»„è£…æ—¶é—´å–å†³äºæ‰€æœ‰äº§å“è®¢è´­åˆ°è´§çš„æ€»æ—¶é—´ã€‚<br><br>æˆ‘ç†è§£çš„å“åº”å¼å°±æ˜¯ï¼Œæˆ‘æ”¶åˆ°å›¾çº¸ï¼Œå‘ç°å›¾çº¸è¦CPUï¼Œä¸»æ¿ï¼Œå†…å­˜ï¼Œç¡¬ç›˜ï¼Œæœºç®±ã€‚ã€‚ã€‚æˆ‘å…¨éƒ¨å‘èµ·è®¢è´­ã€‚ç„¶åéƒ½å¼€å§‹é€è´§ï¼Œç­‰è´§å…¨åˆ°é½äº†ä¹‹åï¼Œå¼€å§‹ç»„è£…ã€‚è¿™ä¸ªæ—¶å€™ï¼Œç»„è£…æ—¶é—´å–å†³äºæœ€é•¿åˆ°è´§çš„é‚£ä¸ªé…ä»¶ã€‚æ‰€ä»¥å¤§å¹…æå‡äº†æ€§èƒ½ã€‚<br><br>åè¿‡æ¥è¯´ï¼Œå¦‚æœä½ æœ¬èº«ä¸éœ€è¦ioè®¿é—®ï¼Œç½‘ç»œè°ƒç”¨ä¹‹ç±»çš„æ“ä½œã€‚å“åº”å¼å¯¹äºæ€§èƒ½çš„æå‡å…¶å®æ˜¯å¾ˆæœ‰é™çš„ã€‚<br><br><br>åº”ç”¨åœºæ™¯çš„è¯ï¼Œæˆ‘è§‰å¾—å¯ä»¥æœ‰é‡‘èé¢†åŸŸçš„é£æ§ã€‚å› ä¸ºé£æ§å…¶å®æ˜¯ä¸€æ•´ä¸²æ ¡éªŒï¼Œè€Œä¸”è¿™ä¸€ä¸²æ ¡éªŒæœåŠ¡å¾ˆå¯èƒ½æ˜¯ç‹¬ç«‹çš„ã€‚ç”šè‡³éƒ¨åˆ†æœåŠ¡æ˜¯ç”±ä¸åŒçš„ä¾›åº”å•†æä¾›çš„ã€‚å¦‚æœè¿™ç§ä¸šåŠ¡åœºæ™¯ï¼Œèµ°ä¸²è¡ŒåŒ–ä¹‹è¡Œï¼Œæ‰§è¡Œæ•ˆç‡è‚¯å®šæ˜¯ä¸å¯æ¥å—çš„ã€‚ä½¿ç”¨å“åº”å¼ï¼Œå¯ä»¥å¾ˆå¤§ç¨‹åº¦ç¼“è§£è¿™ä¸ªé—®é¢˜ã€‚åªéœ€è¦ä¿è¯ï¼Œæˆ‘çš„æ¯ä¸€ä¸ªé£æ§æ ¡éªŒçš„æœåŠ¡ï¼Œæˆ–è€…æä¾›å•†ï¼Œå“åº”æ—¶é—´æ§åˆ¶åœ¨ä¸€ä¸ªèŒƒå›´å†…ï¼Œå°±èƒ½ä¿è¯æ•´ä¸ªè¯·æ±‚çš„æ‰§è¡Œæ—¶é—´ä¸ä¼šå¤ªç¦»è°±ã€‚<br>","like_count":7,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556528,"discussion_content":"å¾ˆèµï¼Œç¡®å®ï¼ŒAkkaçš„å¾ˆå¤šåº”ç”¨æ¡ˆä¾‹éƒ½å‡ºè‡ªé‡‘èè¡Œä¸šã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647409428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000519,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/44/47/3ddb94d0.jpg","nickname":"javaadu","note":"","ucode":"8C0B140F1C8992","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558459,"discussion_content":"æˆ‘åœ¨åšç­–ç•¥å¼•æ“çš„æ—¶å€™ï¼Œç¡®å®å‘ç°æ¯”è¾ƒé€‚åˆå“åº”å¼ç¼–ç¨‹æ¨¡å¼ï¼Œè¿™æ ·å°±å¯ä»¥å¼‚æ­¥å¹¶å‘è°ƒç”¨åº•å±‚çš„ç®—æ³•æ¨¡å‹å’Œæ•°æ®ç‰¹å¾ï¼Œæœ€åå†ç»Ÿä¸€å†³ç­–","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1648308429,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340084,"user_name":"ABC","can_delete":false,"product_type":"c1","uid":1054958,"ip_address":"","ucode":"7501AD9C0C4A70","user_header":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","comment_is_top":false,"comment_ctime":1648599435,"is_pvip":false,"replies":[{"id":"124363","content":"Akka","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1648605369,"ip_address":"","comment_id":340084,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10238534027","product_id":100105701,"comment_content":"è€å¸ˆæœ‰æ¨èçš„ååº”å¼æ¡†æ¶å—ï¼Ÿæœ€è¿‘æƒ³å­¦ä¹ ä¸€ä¸‹ã€‚","like_count":2,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559079,"discussion_content":"Akka","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648605370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337649,"user_name":"peter","can_delete":false,"product_type":"c1","uid":1058183,"ip_address":"","ucode":"261C3FC001DE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","comment_is_top":false,"comment_ctime":1646957336,"is_pvip":true,"replies":[{"id":"123383","content":"<br>1 å…¶ä¸€ï¼Œæœ€ä½³çº¿ç¨‹æ•°ä¸æ­¢å’ŒCPUæ•°ç›®æœ‰å…³ï¼Œè¿˜æœ‰IOç­‰å¾…æ—¶é—´æœ‰å…³ï¼Œè¿™æ­£æ˜¯Flowerå…³æ³¨çš„ï¼Œçº¿ç¨‹å…¬å¼å¦‚ä¸‹ï¼š<br>æœ€ä½³çº¿ç¨‹æ•°=[ä»»åŠ¡æ‰§è¡Œæ—¶é—´&#47;(ä»»åŠ¡æ‰§è¡Œæ—¶é—´ - IO ç­‰å¾…æ—¶é—´)] * CPU å†…æ ¸æ•°<br>å…¶äºŒï¼Œåº”ç”¨ç¨‹åºå¼€å¯å¤šå°‘çº¿ç¨‹ï¼Œå’Œä»¥ä¸ŠæŒ‡æ ‡éƒ½æ²¡å…³ç³»ï¼Œæƒ³å¼€å¤šå°‘å¼€å¤šå°‘ã€‚<br><br>2 https:&#47;&#47;akka.io&#47; <br><br>3 æ–‡ä¸­æåˆ°ä¸¤ç§ååº”å¼ç¼–ç¨‹æ¡†æ¶ï¼Œéƒ½æ˜¯Javaæ¡†æ¶<br>A Java Streaming<br>B Flutterï¼Œå¦å¤–ï¼ŒFlowerä¹Ÿæ˜¯ä¸€ä¸ªååº”å¼å¾®æœåŠ¡æ¡†æ¶ï¼Œæ›´å½»åº•çš„ååº”å¼å¾®æœåŠ¡ï¼Œå…·ä½“å¯ä»¥çœ‹githubæ–‡æ¡£<br>C æ²¡æœ‰ï¼Œååº”å¼ç¼–ç¨‹å’Œè¿™äº›æ²¡å…³ç³»<br><br>4 åˆ©ç”¨Akka Actorä¼ é€’æ¶ˆæ¯<br><br>5ä¸æ˜¯<br><br>6 ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œä¸€ä¸ªäººä¸€ä¸ªæœˆï¼Œå…·ä½“å¯ä»¥çœ‹git log<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1646973637,"ip_address":"","comment_id":337649,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10236891928","product_id":100105701,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜å•Šï¼š<br>Q1ï¼šæœåŠ¡å™¨åˆ›å»ºå‡ ç™¾ä¸ªçº¿ç¨‹ä¸çº¿ç¨‹å…¬å¼çš„çŸ›ç›¾é—®é¢˜ã€‚<br>è®°å¾—æœ‰ä¸€ä¸ªå…¬å¼ï¼Œçº¿ç¨‹æ•°ç­‰äºCPUæ ¸æ•°çš„2å€ã€‚å‡è®¾CPUæœ‰äºŒåä¸ªæ ¸ï¼Œåˆ™çº¿ç¨‹æ•°æ˜¯40ã€‚æœåŠ¡å™¨åˆ›å»ºå‡ ç™¾ä¸ªçº¿ç¨‹ï¼Œæœ‰ä»€ä¹ˆç”¨ï¼Ÿä¸è¿™ä¸ªå…¬å¼ä¸çŸ›ç›¾å—ï¼Ÿ<br>Q2ï¼šakkaæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ<br>Q3ï¼šç›®å‰çš„ä¸»æµJAVAå¼€å‘ä¸­æœ‰å“åº”å¼å¼€å‘æ¡†æ¶å—ï¼Ÿ<br>   A JDKä¸­æœ‰å“åº”å¼å¼€å‘çš„ä¸œè¥¿å—ï¼Ÿ<br>   B ç›®å‰å¾®æœåŠ¡ä¸€èˆ¬ç”¨SpringBoot&#47;SpringCloudï¼Œè¿™ä¸¤ä¸ªéƒ¨åˆ†æœ‰å“åº”å¼å¼€å‘çš„ä¸œè¥¿å—ï¼Ÿ<br>   C åç«¯æ¶æ„ï¼Œå¸¸è§çš„ç»„ä»¶:Nginxã€Redisã€MQ(e.g,RocketMQ)ã€ES,è¿™å‡ ä¸ªç»„ä»¶æœ‰å“åº”å¼å¼€å‘çš„ä¸œè¥¿å—ï¼Ÿ<br>Q4ï¼šFlowerçš„æ¶ˆæ¯éƒ¨åˆ†æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿé˜Ÿåˆ—å—ï¼Ÿ<br>Q5ï¼šRxJavaä¹Ÿæ˜¯å°è£…Actorã€æ¶ˆæ¯é©±åŠ¨å—ï¼Ÿ<br>Q6ï¼šè¿™ä¸ªæ¡†æ¶å¼€å‘éš¾åº¦å¤§å—ï¼Ÿè€å¸ˆä¸€ä¸ªäººå¤šé•¿æ—¶é—´èƒ½å®Œæˆå¼€å‘ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555559,"discussion_content":"\n1 å…¶ä¸€ï¼Œæœ€ä½³çº¿ç¨‹æ•°ä¸æ­¢å’ŒCPUæ•°ç›®æœ‰å…³ï¼Œè¿˜æœ‰IOç­‰å¾…æ—¶é—´æœ‰å…³ï¼Œè¿™æ­£æ˜¯Flowerå…³æ³¨çš„ï¼Œçº¿ç¨‹å…¬å¼å¦‚ä¸‹ï¼š\næœ€ä½³çº¿ç¨‹æ•°=[ä»»åŠ¡æ‰§è¡Œæ—¶é—´/(ä»»åŠ¡æ‰§è¡Œæ—¶é—´ - IO ç­‰å¾…æ—¶é—´)] * CPU å†…æ ¸æ•°\nå…¶äºŒï¼Œåº”ç”¨ç¨‹åºå¼€å¯å¤šå°‘çº¿ç¨‹ï¼Œå’Œä»¥ä¸ŠæŒ‡æ ‡éƒ½æ²¡å…³ç³»ï¼Œæƒ³å¼€å¤šå°‘å¼€å¤šå°‘ã€‚\n\n2 https://akka.io/ \n\n3 æ–‡ä¸­æåˆ°ä¸¤ç§ååº”å¼ç¼–ç¨‹æ¡†æ¶ï¼Œéƒ½æ˜¯Javaæ¡†æ¶\nA Java Streaming\nB Flutterï¼Œå¦å¤–ï¼ŒFlowerä¹Ÿæ˜¯ä¸€ä¸ªååº”å¼å¾®æœåŠ¡æ¡†æ¶ï¼Œæ›´å½»åº•çš„ååº”å¼å¾®æœåŠ¡ï¼Œå…·ä½“å¯ä»¥çœ‹githubæ–‡æ¡£\nC æ²¡æœ‰ï¼Œååº”å¼ç¼–ç¨‹å’Œè¿™äº›æ²¡å…³ç³»\n\n4 åˆ©ç”¨Akka Actorä¼ é€’æ¶ˆæ¯\n\n5ä¸æ˜¯\n\n6 ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œä¸€ä¸ªäººä¸€ä¸ªæœˆï¼Œå…·ä½“å¯ä»¥çœ‹git log\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646973637,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344960,"user_name":"test","can_delete":false,"product_type":"c1","uid":1065849,"ip_address":"","ucode":"9A4973E591DD12","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/79/18073134.jpg","comment_is_top":false,"comment_ctime":1651898045,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5946865341","product_id":100105701,"comment_content":"æœ€ä½³çº¿ç¨‹æ•°=[ä»»åŠ¡æ‰§è¡Œæ—¶é—´&#47;(ä»»åŠ¡æ‰§è¡Œæ—¶é—´ - IO ç­‰å¾…æ—¶é—´)] * CPU å†…æ ¸æ•°","like_count":1},{"had_liked":false,"id":339720,"user_name":"javaadu","can_delete":false,"product_type":"c1","uid":1000519,"ip_address":"","ucode":"8C0B140F1C8992","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/47/3ddb94d0.jpg","comment_is_top":false,"comment_ctime":1648308711,"is_pvip":true,"replies":[{"id":"124200","content":"èµï¼Œå­¦ä¹ äº†~","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1648432097,"ip_address":"","comment_id":339720,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5943276007","product_id":100105701,"comment_content":"æˆ‘æ˜¯åšé£æ§ç­–ç•¥å¼•æ“çš„ï¼Œåœ¨ç­–ç•¥å¼•æ“ä¸­ï¼ŒåŒä¸€ä¸ªäº‹ä»¶è¿‡æ¥ï¼Œéœ€è¦å¹¶è¡Œè·‘å¾ˆå¤šæ¨¡å‹ã€ç‰¹å¾ï¼Œç„¶åç»Ÿä¸€å†³ç­–ã€‚è¿™äº›æ¨¡å‹å’Œç‰¹å¾éƒ½æ˜¯å¤–éƒ¨çš„ç³»ç»Ÿï¼Œå¯¹äºioå¹¶å‘çš„è¦æ±‚å¾ˆé«˜ï¼Œä½¿ç”¨å“åº”å¼ç¼–ç¨‹æœ‰åŠ©äºå‡å°‘é˜»å¡ç¯èŠ‚ã€‚<br><br>å…¶ä»–çš„åœºæ™¯ï¼Œæš‚æ—¶æ²¡æƒ³åˆ°ï¼Œçœ‹çœ‹å…¶ä»–åŒå­¦çš„å›ç­”","like_count":1,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558651,"discussion_content":"èµï¼Œå­¦ä¹ äº†~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648432097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350466,"user_name":"`Â¿`","can_delete":false,"product_type":"c1","uid":2409167,"ip_address":"","ucode":"A39CD00CD618DF","user_header":"https://static001.geekbang.org/account/avatar/00/24/c2/cf/f64d6c9d.jpg","comment_is_top":false,"comment_ctime":1656928458,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1656928458","product_id":100105701,"comment_content":"è¿˜æ˜¯å¾—å¤šå¬å‡ éï¼Œå¯èƒ½åŸºç¡€å¤ªå·®äº†ï¼Œæœ‰äº›å¬ä¸å¤ªæ‡‚ï¼›<br>ä½†æ˜¯æ„Ÿè§‰å¾ˆå‰å®³","like_count":0},{"had_liked":false,"id":346646,"user_name":"åå­—çœŸéš¾æƒ³","can_delete":false,"product_type":"c1","uid":2693769,"ip_address":"","ucode":"C0E2887E1EA67A","user_header":"https://static001.geekbang.org/account/avatar/00/29/1a/89/11136b10.jpg","comment_is_top":false,"comment_ctime":1653313770,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653313770","product_id":100105701,"comment_content":"è€å¸ˆï¼Œåº”ç”¨ Reactive æ¨¡å¼ï¼Œæ¯ä¸ª compose æ–¹æ³•å¼‚æ­¥è°ƒç”¨ï¼Œç»“æŸåéƒ½ä¼šè‡ªåŠ¨å›è°ƒä¸‹ä¸€ä¸ª compose-   ----è¿™ä¸ªä¸å°±å˜æˆåŒæ­¥è°ƒç”¨äº†å—ï¼Ÿ åœ¨ä¿é™©é£æ§é‡Œé¢ï¼Œæœ‰å¾ˆå¤šè°ƒç”¨é€»è¾‘ï¼Œæœ€åå‘Šè¯‰å®¢æˆ·èƒ½ä¸èƒ½æŠ•ä¿ï¼Œå¦‚æœç”¨å“åº”å¼ç¼–ç¨‹ï¼Œå®¢æˆ·èƒ½å®æ—¶æ‹¿åˆ°é£æ§ç»“æœå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":346213,"user_name":"é›ªç¢§å¿ƒæ‹”å‡‰","can_delete":false,"product_type":"c1","uid":1161522,"ip_address":"","ucode":"D13EEBAA0F443B","user_header":"https://static001.geekbang.org/account/avatar/00/11/b9/32/84346d4a.jpg","comment_is_top":false,"comment_ctime":1652920988,"is_pvip":false,"replies":[{"id":"126355","content":"Flowerä¸éœ€è¦é€šè¿‡å…¥å£ è¿”å›å“åº”ç»“æœç»™ç”¨æˆ·ï¼Œå¯ä»¥åœ¨ä»»ä½•ä¸€ä¸ªæˆ–å¤šä¸ªServiceè¿”å›ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1653025063,"ip_address":"","comment_id":346213,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1652920988","product_id":100105701,"comment_content":"å¦™å•Šï¼Œä¸€ç›´æ²¡æ˜ç™½å“åº”å¼æ€ä¹ˆå“åº”ä¿¡æ¯ç»™å®¢æˆ·ç«¯çš„ï¼Œçœ‹åˆ°è¿™é‡Œç»ˆäºæœ‰ç‚¹çœ‰ç›®äº†ã€‚ç±»ä¼¼httpsevice,æ¯æ¬¡éƒ½å°†webè¯·æ±‚ä¼ é€’ä¸‹å»ï¼Œè¿™æ ·å°±èƒ½è¾¾åˆ°åœ¨æœ€åä¸€ä¸ªserviceè°ƒç”¨webè¯·æ±‚å¹¶å†™å“åº”ä¿¡æ¯å›å®¢æˆ·ç«¯ã€‚<br>ä¹Ÿå°±æ˜¯ç”¨æˆ·-&gt;å…¥å£-&gt;service1-&gt;service2-&gt;.....-&gt;serviceN-&gt;å…¥å£-&gt;ç”¨æˆ·ã€‚    ä¸çŸ¥é“è¿™æ ·ç†è§£æœ‰é—®é¢˜ä¸","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572874,"discussion_content":"Flowerä¸éœ€è¦é€šè¿‡å…¥å£ è¿”å›å“åº”ç»“æœç»™ç”¨æˆ·ï¼Œå¯ä»¥åœ¨ä»»ä½•ä¸€ä¸ªæˆ–å¤šä¸ªServiceè¿”å›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653025063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344793,"user_name":"fomy","can_delete":false,"product_type":"c1","uid":1125834,"ip_address":"","ucode":"CD87EA03B1F327","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/ca/02b0e397.jpg","comment_is_top":false,"comment_ctime":1651794182,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651794182","product_id":100105701,"comment_content":"ç½‘å…³åº”ç”¨å°±æ˜¯æ¯”è¾ƒå…¸å‹çš„é«˜å¹¶å‘ï¼Œéé˜»å¡çš„å¼‚æ­¥ç¼–ç¨‹ã€‚","like_count":0},{"had_liked":false,"id":340282,"user_name":"å­¦è€Œä¸æ€åˆ™æƒ˜","can_delete":false,"product_type":"c1","uid":1668117,"ip_address":"","ucode":"8ED2B08AA5A755","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJLgibqHsl97Oq3nvnEVz7V3kaGKLmia0Ja8c4yXO7QeLKiakganRJomNGgYToW4RnFs60zibDTHicjE5w/132","comment_is_top":false,"comment_ctime":1648718135,"is_pvip":false,"replies":[{"id":"124452","content":"å¹¶ä¸æ˜¯ï¼Œflowerå¯ä»¥åšåˆ°ç”¨ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼ˆçœ‹èµ·æ¥ï¼‰å¹¶å‘æ‰§è¡Œæ•°ç™¾ä¸ªæ–¹æ³•ï¼Œå¹¶å‘å¤„ç†æ•°ç™¾ä¸ªè¯·æ±‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1648776870,"ip_address":"","comment_id":340282,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1648718135","product_id":100105701,"comment_content":"çœ‹ä¸‹æ¥æˆ‘ç†è§£æ˜¯ä¸€ä¸ªcountdownLatchçš„ä½œç”¨ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559441,"discussion_content":"å¹¶ä¸æ˜¯ï¼Œflowerå¯ä»¥åšåˆ°ç”¨ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼ˆçœ‹èµ·æ¥ï¼‰å¹¶å‘æ‰§è¡Œæ•°ç™¾ä¸ªæ–¹æ³•ï¼Œå¹¶å‘å¤„ç†æ•°ç™¾ä¸ªè¯·æ±‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648776870,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1062848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ersGSic8ib7OguJv6CJiaXY0s4n9C7Z51sWxTTljklFpq3ZAIWXoFTPV5oLo0GMTkqW5sYJRRnibNqOJQ/132","nickname":"walleæ–Œ","note":"","ucode":"0DB3243004951F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578154,"discussion_content":"æˆ‘ç†è§£ã€‚ã€‚ç›®å‰tomcatè¿™ç§å®¹å™¨åº•å±‚æ˜¯nio2 å…¶å®æ˜¯aio  åŸºæœ¬ä¹Ÿæ˜¯è¿™ä¸ªè·¯å­ï¼Œè¿™é‡Œå¯ä»¥è‡ªé—®ä¸€ä¸‹ä¸ºå•¥tomcatåº•å±‚ä¸ç”¨nettyã€‚ã€‚æœ€æ ¹æœ¬æ˜¯åº•å±‚è®¡ç®—æˆ–è€…ioé˜»å¡æ—¶é—´ã€servletè§„èŒƒã€‘ï¼Œé»˜è®¤ä¸€ä¸ªå®¹å™¨æ¥1wçš„è¯·æ±‚ä½†æ˜¯è®¡ç®—æˆ–è€…ioé˜»å¡ä½äº†ä¹Ÿæ²¡å•¥æ³•å­å•Šã€‚ã€‚ä»¥æˆ‘ä¹‹å‰ç»´æŠ¤è¿‡çš„å¤§å‹é£æ§ï¼Œå¯èƒ½ç”±äºå†å²åŸå› ï¼Œå…¶å®åº•å±‚æ˜¯å…¥å£ä¸€ä¸ªï¼Œç„¶åä¸åœçš„å¤šçº¿ç¨‹åˆ†æ•£ï¼Œå½“ç„¶httpæ•ˆç‡ä½ä¸€äº›ï¼Œæ‰€ä»¥æ˜¯dubboè°ƒç”¨ã€‚ã€‚å› ä¸ºæœ€åä¸€èˆ¬çš„é˜»å¡å¤§éƒ¨åˆ†æ˜¯å¤–éƒ¨ç³»ç»Ÿ å¤æ‚çš„ioè®¡ç®—ã€ä¾‹å¦‚ä¸€ä¸ªç”¨æˆ·ä¸€å®šæ—¶é—´çš„è¡Œä¸ºç»Ÿè®¡ã€‘  å…¥å£é‚£è¾¹æœ¬æ¥å°±ä¸é‡ï¼Œé‡çš„æ˜¯åè¾¹é‚£ä¸€ç³»åˆ—çš„è§„åˆ™ æŒ‡æ ‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656548462,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339701,"user_name":"201","can_delete":false,"product_type":"c1","uid":1048264,"ip_address":"","ucode":"C49ABFCDBDB93C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fe/c8/715ce68f.jpg","comment_is_top":false,"comment_ctime":1648300873,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1648300873","product_id":100105701,"comment_content":"æœ‰ç‚¹æ™•ï¼Œåªèƒ½å¤šåˆ·å‡ æ¬¡ç†è§£äº†ã€‚","like_count":0},{"had_liked":false,"id":338944,"user_name":"HappyHasson","can_delete":false,"product_type":"c1","uid":2911084,"ip_address":"","ucode":"B84CC43E349CFA","user_header":"https://static001.geekbang.org/account/avatar/00/2c/6b/6c/3e80afaf.jpg","comment_is_top":false,"comment_ctime":1647825127,"is_pvip":true,"replies":[{"id":"123870","content":"å¯ä»¥å‚è€ƒgithubé‡Œçš„æ–‡æ¡£å“ˆï¼Œhttps:&#47;&#47;github.com&#47;zhihuili&#47;flowerã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1647829245,"ip_address":"","comment_id":338944,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647825127","product_id":100105701,"comment_content":"é¦–å…ˆï¼Œå¯¹javaä¸ç†Ÿæ‚‰ï¼Œæ‰€ä»¥è¿™é‡Œé¢çš„æœ‰äº›æ¦‚å¿µä¸æ¸…æ¥šï¼Œå¯¼è‡´ç†è§£å›°éš¾ã€‚ <br>  <br>ä½œè€…èƒ½ä¸èƒ½ç”»ä¸€å¼ ç¤ºä¾‹å›¾ï¼Œè¯´æ˜å„ä¸ªserviceæ€ä¹ˆå¹¶è¡Œå¤„ç†ï¼Œç„¶åç»¼åˆç»“æœç»™åˆ°è¯·æ±‚ç«¯çš„ã€‚ <br>æˆ‘æ˜¯çœ‹ç€çœ‹ç€è¢«ç»•æ™•äº†ï¼Œæ–‡ä¸­çš„æ¦‚å¿µåè¯å¾ˆåƒ","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557459,"discussion_content":"å¯ä»¥å‚è€ƒgithubé‡Œçš„æ–‡æ¡£å“ˆï¼Œhttps://github.com/zhihuili/flowerã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647829245,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337750,"user_name":"Geek_7347cf","can_delete":false,"product_type":"c1","uid":2343516,"ip_address":"","ucode":"2E25574FAB1B3B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/mmTEibMibic5ibsVpNZkR3HBlpPpZYt0gHGdIqOduLGxRHZpTWRG3q56CT1eejoLgNsdaW5aQGWXfyibN4vm9CicYb3w/132","comment_is_top":false,"comment_ctime":1647008350,"is_pvip":false,"replies":[{"id":"123573","content":"HttpServiceæ¥å£æä¾›webå‚æ•°ï¼Œè°ƒç”¨web.print()è¿”å›å“åº”ç»“æœã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1647226358,"ip_address":"","comment_id":337750,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1647008350","product_id":100105701,"comment_content":"éhttpå¼‚æ­¥è°ƒç”¨ æ€ä¹ˆè·å–æ‰§è¡Œserviceçš„è¿”å›å€¼ï¼Œæ„Ÿè§‰flowåŸç†å’Œnettyæ¡†æ¶æ¯”è¾ƒåƒ","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556126,"discussion_content":"HttpServiceæ¥å£æä¾›webå‚æ•°ï¼Œè°ƒç”¨web.print()è¿”å›å“åº”ç»“æœã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647226358,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1019744,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8f/60/be0a8805.jpg","nickname":"é™ˆè¿ª","note":"","ucode":"1A64122CC47337","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":560629,"discussion_content":"ç±»ä¼¼ç–‘é—®ã€‚HTTPè¯·æ±‚æ˜¯å¦‚ä½•è¢«Hangä½ï¼Œç­‰å¾…æ•´ä¸ªæ¡†æ¶çš„å¤„ç†ç»“æœçš„å’§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649407618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":556126,"ip_address":""},"score":560629,"extra":""}]},{"author":{"id":2343516,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/mmTEibMibic5ibsVpNZkR3HBlpPpZYt0gHGdIqOduLGxRHZpTWRG3q56CT1eejoLgNsdaW5aQGWXfyibN4vm9CicYb3w/132","nickname":"Geek_7347cf","note":"","ucode":"2E25574FAB1B3B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556146,"discussion_content":"ä¹Ÿå°±æ˜¯è¯´ ä¸æ˜¯httpçš„å°±æ‹¿ä¸åˆ°è¿”å›å€¼äº†ï¼Ÿ  ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647230817,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337744,"user_name":"Geek_7347cf","can_delete":false,"product_type":"c1","uid":2343516,"ip_address":"","ucode":"2E25574FAB1B3B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/mmTEibMibic5ibsVpNZkR3HBlpPpZYt0gHGdIqOduLGxRHZpTWRG3q56CT1eejoLgNsdaW5aQGWXfyibN4vm9CicYb3w/132","comment_is_top":false,"comment_ctime":1647003892,"is_pvip":false,"replies":[{"id":"123572","content":"æ–¹æ³•çš„è¿”å›å€¼å’Œè¯·æ±‚çš„è¿”å›å€¼ä¸æ˜¯ä¸€å›äº‹ï¼ŒServiceå¯ä»¥åœ¨æ–¹æ³•å†…éƒ¨è°ƒç”¨web.print(), ç›´æ¥è¿”å›è¯·æ±‚çš„å“åº”ç»“æœã€‚<br>è®¡ç®—è¯·æ±‚çš„å“åº”ç»“æœï¼Œéœ€è¦å¤šä¸ªServiceå¼‚æ­¥è®¡ç®—å¾—åˆ°çš„ï¼Œè¿™äº›Serviceä¹‹é—´å¼‚æ­¥æ— é˜»å¡ï¼Œé€šå¸¸åœ¨æµç¨‹çš„æœ€åä¸€ä¸ªServiceè°ƒç”¨web.print()ï¼Œè¿”å›è¯·æ±‚å¤„ç†ç»“æœã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1007349","ctime":1647226291,"ip_address":"","comment_id":337744,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647003892","product_id":100105701,"comment_content":"æ–‡ä¸­æåˆ°æ‰§è¡Œserviceæ–¹æ³•æœ‰å¼‚æ­¥å’ŒåŒæ­¥ åŒæ­¥æœ‰è¿”å›å€¼ æ˜¯é˜»å¡çš„ï¼Œå¼‚æ­¥æ²¡æœ‰è¿”å›å€¼ ï¼Œä½†æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯éœ€è¦è¿”å›å€¼çš„ å¦åˆ™ææˆç”Ÿäº§è€…æ¶ˆè´¹è€…ä¸æ›´ç®€å•å—","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556125,"discussion_content":"æ–¹æ³•çš„è¿”å›å€¼å’Œè¯·æ±‚çš„è¿”å›å€¼ä¸æ˜¯ä¸€å›äº‹ï¼ŒServiceå¯ä»¥åœ¨æ–¹æ³•å†…éƒ¨è°ƒç”¨web.print(), ç›´æ¥è¿”å›è¯·æ±‚çš„å“åº”ç»“æœã€‚\nè®¡ç®—è¯·æ±‚çš„å“åº”ç»“æœï¼Œéœ€è¦å¤šä¸ªServiceå¼‚æ­¥è®¡ç®—å¾—åˆ°çš„ï¼Œè¿™äº›Serviceä¹‹é—´å¼‚æ­¥æ— é˜»å¡ï¼Œé€šå¸¸åœ¨æµç¨‹çš„æœ€åä¸€ä¸ªServiceè°ƒç”¨web.print()ï¼Œè¿”å›è¯·æ±‚å¤„ç†ç»“æœã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647226291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
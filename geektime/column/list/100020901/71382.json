{"id":71382,"title":"08 | æ¡ˆä¾‹ç¯‡ï¼šç³»ç»Ÿä¸­å‡ºç°å¤§é‡ä¸å¯ä¸­æ–­è¿›ç¨‹å’Œåƒµå°¸è¿›ç¨‹æ€ä¹ˆåŠï¼Ÿï¼ˆä¸‹ï¼‰","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å€ªæœ‹é£ã€‚</p><p>ä¸Šä¸€èŠ‚ï¼Œæˆ‘ç»™ä½ è®²äº†Linuxè¿›ç¨‹çŠ¶æ€çš„å«ä¹‰ï¼Œä»¥åŠä¸å¯ä¸­æ–­è¿›ç¨‹å’Œåƒµå°¸è¿›ç¨‹äº§ç”Ÿçš„åŸå› ï¼Œæˆ‘ä»¬å…ˆæ¥ç®€å•å¤ä¹ ä¸‹ã€‚</p><p>ä½¿ç”¨ ps æˆ–è€… top å¯ä»¥æŸ¥çœ‹è¿›ç¨‹çš„çŠ¶æ€ï¼Œè¿™äº›çŠ¶æ€åŒ…æ‹¬è¿è¡Œã€ç©ºé—²ã€ä¸å¯ä¸­æ–­ç¡çœ ã€å¯ä¸­æ–­ç¡çœ ã€åƒµå°¸ä»¥åŠæš‚åœç­‰ã€‚å…¶ä¸­ï¼Œæˆ‘ä»¬é‡ç‚¹å­¦ä¹ äº†ä¸å¯ä¸­æ–­çŠ¶æ€å’Œåƒµå°¸è¿›ç¨‹ï¼š</p><ul>\n<li>\n<p>ä¸å¯ä¸­æ–­çŠ¶æ€ï¼Œä¸€èˆ¬è¡¨ç¤ºè¿›ç¨‹æ­£åœ¨è·Ÿç¡¬ä»¶äº¤äº’ï¼Œä¸ºäº†ä¿æŠ¤è¿›ç¨‹æ•°æ®ä¸ç¡¬ä»¶ä¸€è‡´ï¼Œç³»ç»Ÿä¸å…è®¸å…¶ä»–è¿›ç¨‹æˆ–ä¸­æ–­æ‰“æ–­è¯¥è¿›ç¨‹ã€‚</p>\n</li>\n<li>\n<p>åƒµå°¸è¿›ç¨‹è¡¨ç¤ºè¿›ç¨‹å·²ç»é€€å‡ºï¼Œä½†å®ƒçš„çˆ¶è¿›ç¨‹æ²¡æœ‰å›æ”¶è¯¥è¿›ç¨‹æ‰€å ç”¨çš„èµ„æºã€‚</p>\n</li>\n</ul><p>ä¸Šä¸€èŠ‚çš„æœ€åï¼Œæˆ‘ç”¨ä¸€ä¸ªæ¡ˆä¾‹å±•ç¤ºäº†å¤„äºè¿™ä¸¤ç§çŠ¶æ€çš„è¿›ç¨‹ã€‚é€šè¿‡åˆ†æ top å‘½ä»¤çš„è¾“å‡ºï¼Œæˆ‘ä»¬å‘ç°äº†ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul>\n<li>\n<p>ç¬¬ä¸€ï¼Œiowait å¤ªé«˜äº†ï¼Œå¯¼è‡´ç³»ç»Ÿå¹³å‡è´Ÿè½½å‡é«˜ï¼Œå¹¶ä¸”å·²ç»è¾¾åˆ°äº†ç³»ç»Ÿ CPU çš„ä¸ªæ•°ã€‚</p>\n</li>\n<li>\n<p>ç¬¬äºŒï¼Œåƒµå°¸è¿›ç¨‹åœ¨ä¸æ–­å¢å¤šï¼Œçœ‹èµ·æ¥æ˜¯åº”ç”¨ç¨‹åºæ²¡æœ‰æ­£ç¡®æ¸…ç†å­è¿›ç¨‹çš„èµ„æºã€‚</p>\n</li>\n</ul><p>ç›¸ä¿¡ä½ ä¸€å®šè®¤çœŸæ€è€ƒè¿‡è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆï¼ŒçœŸç›¸åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·é¡ºç€è¿™ä¸¤ä¸ªé—®é¢˜ç»§ç»­åˆ†æï¼Œæ‰¾å‡ºæ ¹æºã€‚</p><p>é¦–å…ˆï¼Œè¯·ä½ æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œç™»å½•åˆ°ä¸Šæ¬¡çš„æœºå™¨ä¸­ã€‚ç„¶åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œé‡æ–°è¿è¡Œè¿™ä¸ªæ¡ˆä¾‹ï¼š</p><pre><code># å…ˆåˆ é™¤ä¸Šæ¬¡å¯åŠ¨çš„æ¡ˆä¾‹\n$ docker rm -f app\n# é‡æ–°è¿è¡Œæ¡ˆä¾‹\n$ docker run --privileged --name=app -itd feisky/app:iowait\n</code></pre><h2>iowait åˆ†æ</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ iowait å‡é«˜çš„é—®é¢˜ã€‚</p><p>æˆ‘ç›¸ä¿¡ï¼Œä¸€æåˆ° iowait å‡é«˜ï¼Œä½ é¦–å…ˆä¼šæƒ³è¦æŸ¥è¯¢ç³»ç»Ÿçš„ I/O æƒ…å†µã€‚æˆ‘ä¸€èˆ¬ä¹Ÿæ˜¯è¿™ç§æ€è·¯ï¼Œé‚£ä¹ˆä»€ä¹ˆå·¥å…·å¯ä»¥æŸ¥è¯¢ç³»ç»Ÿçš„ I/O æƒ…å†µå‘¢ï¼Ÿ</p><!-- [[[read_end]]] --><p>è¿™é‡Œï¼Œæˆ‘æ¨èçš„æ­£æ˜¯ä¸ŠèŠ‚è¯¾è¦æ±‚å®‰è£…çš„ dstat ï¼Œå®ƒçš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥åŒæ—¶æŸ¥çœ‹ CPU å’Œ I/O è¿™ä¸¤ç§èµ„æºçš„ä½¿ç”¨æƒ…å†µï¼Œä¾¿äºå¯¹æ¯”åˆ†æã€‚</p><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬åœ¨ç»ˆç«¯ä¸­è¿è¡Œ dstat å‘½ä»¤ï¼Œè§‚å¯Ÿ CPU å’Œ I/O çš„ä½¿ç”¨æƒ…å†µï¼š</p><pre><code># é—´éš”1ç§’è¾“å‡º10ç»„æ•°æ®\n$ dstat 1 10\nYou did not select any stats, using -cdngy by default.\n--total-cpu-usage-- -dsk/total- -net/total- ---paging-- ---system--\nusr sys idl wai stl| read  writ| recv  send|  in   out | int   csw\n  0   0  96   4   0|1219k  408k|   0     0 |   0     0 |  42   885\n  0   0   2  98   0|  34M    0 | 198B  790B|   0     0 |  42   138\n  0   0   0 100   0|  34M    0 |  66B  342B|   0     0 |  42   135\n  0   0  84  16   0|5633k    0 |  66B  342B|   0     0 |  52   177\n  0   3  39  58   0|  22M    0 |  66B  342B|   0     0 |  43   144\n  0   0   0 100   0|  34M    0 | 200B  450B|   0     0 |  46   147\n  0   0   2  98   0|  34M    0 |  66B  342B|   0     0 |  45   134\n  0   0   0 100   0|  34M    0 |  66B  342B|   0     0 |  39   131\n  0   0  83  17   0|5633k    0 |  66B  342B|   0     0 |  46   168\n  0   3  39  59   0|  22M    0 |  66B  342B|   0     0 |  37   134\n</code></pre><p>ä» dstat çš„è¾“å‡ºï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ¯å½“ iowait å‡é«˜ï¼ˆwaiï¼‰æ—¶ï¼Œç£ç›˜çš„è¯»è¯·æ±‚ï¼ˆreadï¼‰éƒ½ä¼šå¾ˆå¤§ã€‚è¿™è¯´æ˜ iowait çš„å‡é«˜è·Ÿç£ç›˜çš„è¯»è¯·æ±‚æœ‰å…³ï¼Œå¾ˆå¯èƒ½å°±æ˜¯ç£ç›˜è¯»å¯¼è‡´çš„ã€‚</p><p>é‚£åˆ°åº•æ˜¯å“ªä¸ªè¿›ç¨‹åœ¨è¯»ç£ç›˜å‘¢ï¼Ÿä¸çŸ¥é“ä½ è¿˜è®°ä¸è®°å¾—ï¼Œä¸ŠèŠ‚åœ¨  top  é‡Œçœ‹åˆ°çš„ä¸å¯ä¸­æ–­çŠ¶æ€è¿›ç¨‹ï¼Œæˆ‘è§‰å¾—å®ƒå°±å¾ˆå¯ç–‘ï¼Œæˆ‘ä»¬è¯•ç€æ¥åˆ†æä¸‹ã€‚</p><p>æˆ‘ä»¬ç»§ç»­åœ¨åˆšæ‰çš„ç»ˆç«¯ä¸­ï¼Œè¿è¡Œ top å‘½ä»¤ï¼Œè§‚å¯Ÿ D çŠ¶æ€çš„è¿›ç¨‹ï¼š</p><pre><code># è§‚å¯Ÿä¸€ä¼šå„¿æŒ‰ Ctrl+C ç»“æŸ\n$ top\n...\n  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND\n 4340 root      20   0   44676   4048   3432 R   0.3  0.0   0:00.05 top\n 4345 root      20   0   37280  33624    860 D   0.3  0.0   0:00.01 app\n 4344 root      20   0   37280  33624    860 D   0.3  0.4   0:00.01 app\n...\n\n</code></pre><p>æˆ‘ä»¬ä» top çš„è¾“å‡ºæ‰¾åˆ° D çŠ¶æ€è¿›ç¨‹çš„ PIDï¼Œä½ å¯ä»¥å‘ç°ï¼Œè¿™ä¸ªç•Œé¢é‡Œæœ‰ä¸¤ä¸ª D çŠ¶æ€çš„è¿›ç¨‹ï¼ŒPIDåˆ†åˆ«æ˜¯ 4344 å’Œ 4345ã€‚</p><p>æ¥ç€ï¼Œæˆ‘ä»¬æŸ¥çœ‹è¿™äº›è¿›ç¨‹çš„ç£ç›˜è¯»å†™æƒ…å†µã€‚å¯¹äº†ï¼Œåˆ«å¿˜äº†å·¥å…·æ˜¯ä»€ä¹ˆã€‚ä¸€èˆ¬è¦æŸ¥çœ‹æŸä¸€ä¸ªè¿›ç¨‹çš„èµ„æºä½¿ç”¨æƒ…å†µï¼Œéƒ½å¯ä»¥ç”¨æˆ‘ä»¬çš„è€æœ‹å‹ pidstatï¼Œä¸è¿‡è¿™æ¬¡è®°å¾—åŠ ä¸Š -d å‚æ•°ï¼Œä»¥ä¾¿è¾“å‡º I/O ä½¿ç”¨æƒ…å†µã€‚</p><p>æ¯”å¦‚ï¼Œä»¥ 4344 ä¸ºä¾‹ï¼Œæˆ‘ä»¬åœ¨ç»ˆç«¯é‡Œè¿è¡Œä¸‹é¢çš„ pidstat å‘½ä»¤ï¼Œå¹¶ç”¨ -p 4344 å‚æ•°æŒ‡å®šè¿›ç¨‹å·ï¼š</p><pre><code># -d å±•ç¤º I/O ç»Ÿè®¡æ•°æ®ï¼Œ-p æŒ‡å®šè¿›ç¨‹å·ï¼Œé—´éš” 1 ç§’è¾“å‡º 3 ç»„æ•°æ®\n$ pidstat -d -p 4344 1 3\n06:38:50      UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s iodelay  Command\n06:38:51        0      4344      0.00      0.00      0.00       0  app\n06:38:52        0      4344      0.00      0.00      0.00       0  app\n06:38:53        0      4344      0.00      0.00      0.00       0  app\n</code></pre><p>åœ¨è¿™ä¸ªè¾“å‡ºä¸­ï¼Œ  kB_rd è¡¨ç¤ºæ¯ç§’è¯»çš„ KB æ•°ï¼Œ kB_wr è¡¨ç¤ºæ¯ç§’å†™çš„ KB æ•°ï¼Œiodelay è¡¨ç¤º I/O çš„å»¶è¿Ÿï¼ˆå•ä½æ˜¯æ—¶é’Ÿå‘¨æœŸï¼‰ã€‚å®ƒä»¬éƒ½æ˜¯ 0ï¼Œé‚£å°±è¡¨ç¤ºæ­¤æ—¶æ²¡æœ‰ä»»ä½•çš„è¯»å†™ï¼Œè¯´æ˜é—®é¢˜ä¸æ˜¯ 4344 è¿›ç¨‹å¯¼è‡´çš„ã€‚</p><p>å¯æ˜¯ï¼Œç”¨åŒæ ·çš„æ–¹æ³•åˆ†æè¿›ç¨‹ 4345ï¼Œä½ ä¼šå‘ç°ï¼Œå®ƒä¹Ÿæ²¡æœ‰ä»»ä½•ç£ç›˜è¯»å†™ã€‚</p><p>é‚£è¦æ€ä¹ˆçŸ¥é“ï¼Œåˆ°åº•æ˜¯å“ªä¸ªè¿›ç¨‹åœ¨è¿›è¡Œç£ç›˜è¯»å†™å‘¢ï¼Ÿæˆ‘ä»¬ç»§ç»­ä½¿ç”¨ pidstatï¼Œä½†è¿™æ¬¡å»æ‰è¿›ç¨‹å·ï¼Œå¹²è„†å°±æ¥è§‚å¯Ÿæ‰€æœ‰è¿›ç¨‹çš„ I/O ä½¿ç”¨æƒ…å†µã€‚</p><p>åœ¨ç»ˆç«¯ä¸­è¿è¡Œä¸‹é¢çš„  pidstat å‘½ä»¤ï¼š</p><pre><code># é—´éš” 1 ç§’è¾“å‡ºå¤šç»„æ•°æ® (è¿™é‡Œæ˜¯ 20 ç»„)\n$ pidstat -d 1 20\n...\n06:48:46      UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s iodelay  Command\n06:48:47        0      4615      0.00      0.00      0.00       1  kworker/u4:1\n06:48:47        0      6080  32768.00      0.00      0.00     170  app\n06:48:47        0      6081  32768.00      0.00      0.00     184  app\n\n06:48:47      UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s iodelay  Command\n06:48:48        0      6080      0.00      0.00      0.00     110  app\n\n06:48:48      UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s iodelay  Command\n06:48:49        0      6081      0.00      0.00      0.00     191  app\n\n06:48:49      UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s iodelay  Command\n\n06:48:50      UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s iodelay  Command\n06:48:51        0      6082  32768.00      0.00      0.00       0  app\n06:48:51        0      6083  32768.00      0.00      0.00       0  app\n\n06:48:51      UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s iodelay  Command\n06:48:52        0      6082  32768.00      0.00      0.00     184  app\n06:48:52        0      6083  32768.00      0.00      0.00     175  app\n\n06:48:52      UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s iodelay  Command\n06:48:53        0      6083      0.00      0.00      0.00     105  app\n...\n</code></pre><p>è§‚å¯Ÿä¸€ä¼šå„¿å¯ä»¥å‘ç°ï¼Œçš„ç¡®æ˜¯ app è¿›ç¨‹åœ¨è¿›è¡Œç£ç›˜è¯»ï¼Œå¹¶ä¸”æ¯ç§’è¯»çš„æ•°æ®æœ‰ 32 MBï¼Œçœ‹æ¥å°±æ˜¯ app çš„é—®é¢˜ã€‚ä¸è¿‡ï¼Œapp è¿›ç¨‹åˆ°åº•åœ¨æ‰§è¡Œå•¥ I/O æ“ä½œå‘¢ï¼Ÿ</p><p>è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦å›é¡¾ä¸€ä¸‹è¿›ç¨‹ç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„åŒºåˆ«ã€‚è¿›ç¨‹æƒ³è¦è®¿é—®ç£ç›˜ï¼Œå°±å¿…é¡»ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥ï¼Œé‡ç‚¹å°±æ˜¯æ‰¾å‡º  app è¿›ç¨‹çš„ç³»ç»Ÿè°ƒç”¨äº†ã€‚</p><p>strace  æ­£æ˜¯æœ€å¸¸ç”¨çš„è·Ÿè¸ªè¿›ç¨‹ç³»ç»Ÿè°ƒç”¨çš„å·¥å…·ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä» pidstat çš„è¾“å‡ºä¸­æ‹¿åˆ°è¿›ç¨‹çš„ PID å·ï¼Œæ¯”å¦‚ 6082ï¼Œç„¶ååœ¨ç»ˆç«¯ä¸­è¿è¡Œ strace å‘½ä»¤ï¼Œå¹¶ç”¨ -p å‚æ•°æŒ‡å®š PID å·ï¼š</p><pre><code>$ strace -p 6082\nstrace: attach: ptrace(PTRACE_SEIZE, 6082): Operation not permitted\n</code></pre><p>è¿™å„¿å‡ºç°äº†ä¸€ä¸ªå¥‡æ€ªçš„é”™è¯¯ï¼Œstrace å‘½ä»¤å±…ç„¶å¤±è´¥äº†ï¼Œå¹¶ä¸”å‘½ä»¤æŠ¥å‡ºçš„é”™è¯¯æ˜¯æ²¡æœ‰æƒé™ã€‚æŒ‰ç†æ¥è¯´ï¼Œæˆ‘ä»¬æ‰€æœ‰æ“ä½œéƒ½å·²ç»æ˜¯ä»¥ root ç”¨æˆ·è¿è¡Œäº†ï¼Œä¸ºä»€ä¹ˆè¿˜ä¼šæ²¡æœ‰æƒé™å‘¢ï¼Ÿä½ ä¹Ÿå¯ä»¥å…ˆæƒ³ä¸€ä¸‹ï¼Œç¢°åˆ°è¿™ç§æƒ…å†µï¼Œä½ ä¼šæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</p><p><strong>ä¸€èˆ¬é‡åˆ°è¿™ç§é—®é¢˜æ—¶ï¼Œæˆ‘ä¼šå…ˆæ£€æŸ¥ä¸€ä¸‹è¿›ç¨‹çš„çŠ¶æ€æ˜¯å¦æ­£å¸¸</strong>ã€‚æ¯”å¦‚ï¼Œç»§ç»­åœ¨ç»ˆç«¯ä¸­è¿è¡Œ ps å‘½ä»¤ï¼Œå¹¶ä½¿ç”¨ grep æ‰¾å‡ºåˆšæ‰çš„ 6082 å·è¿›ç¨‹ï¼š</p><pre><code>$ ps aux | grep 6082\nroot      6082  0.0  0.0      0     0 pts/0    Z+   13:43   0:00 [app] &lt;defunct&gt;\n</code></pre><p>æœç„¶ï¼Œè¿›ç¨‹ 6082 å·²ç»å˜æˆäº† Z çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯åƒµå°¸è¿›ç¨‹ã€‚åƒµå°¸è¿›ç¨‹éƒ½æ˜¯å·²ç»é€€å‡ºçš„è¿›ç¨‹ï¼Œæ‰€ä»¥å°±æ²¡æ³•å„¿ç»§ç»­åˆ†æå®ƒçš„ç³»ç»Ÿè°ƒç”¨ã€‚å…³äºåƒµå°¸è¿›ç¨‹çš„å¤„ç†æ–¹æ³•ï¼Œæˆ‘ä»¬ä¸€ä¼šå„¿å†è¯´ï¼Œç°åœ¨è¿˜æ˜¯ç»§ç»­åˆ†æ iowait çš„é—®é¢˜ã€‚</p><p>åˆ°è¿™ä¸€æ­¥ï¼Œä½ åº”è¯¥æ³¨æ„åˆ°äº†ï¼Œç³»ç»Ÿ iowait çš„é—®é¢˜è¿˜åœ¨ç»§ç»­ï¼Œä½†æ˜¯  topã€pidstat  è¿™ç±»å·¥å…·å·²ç»ä¸èƒ½ç»™å‡ºæ›´å¤šçš„ä¿¡æ¯äº†ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±åº”è¯¥æ±‚åŠ©é‚£äº›åŸºäºäº‹ä»¶è®°å½•çš„åŠ¨æ€è¿½è¸ªå·¥å…·äº†ã€‚</p><p>ä½ å¯ä»¥ç”¨  perf top çœ‹çœ‹æœ‰æ²¡æœ‰æ–°å‘ç°ã€‚å†æˆ–è€…ï¼Œå¯ä»¥åƒæˆ‘ä¸€æ ·ï¼Œåœ¨ç»ˆç«¯ä¸­è¿è¡Œ perf recordï¼ŒæŒç»­ä¸€ä¼šå„¿ï¼ˆä¾‹å¦‚ 15 ç§’ï¼‰ï¼Œç„¶åæŒ‰ Ctrl+C é€€å‡ºï¼Œå†è¿è¡Œ perf report æŸ¥çœ‹æŠ¥å‘Šï¼š</p><pre><code>$ perf record -g\n$ perf report\n</code></pre><p>æ¥ç€ï¼Œæ‰¾åˆ°æˆ‘ä»¬å…³æ³¨çš„ app è¿›ç¨‹ï¼ŒæŒ‰å›è½¦é”®å±•å¼€è°ƒç”¨æ ˆï¼Œä½ å°±ä¼šå¾—åˆ°ä¸‹é¢è¿™å¼ è°ƒç”¨å…³ç³»å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/21/a1/21e79416e946ed049317a4b4c5a576a1.png?wh=776*667\" alt=\"\"></p><p>è¿™ä¸ªå›¾é‡Œçš„swapper æ˜¯å†…æ ¸ä¸­çš„è°ƒåº¦è¿›ç¨‹ï¼Œä½ å¯ä»¥å…ˆå¿½ç•¥æ‰ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹å…¶ä»–ä¿¡æ¯ï¼Œä½ å¯ä»¥å‘ç°ï¼Œ app çš„ç¡®åœ¨é€šè¿‡ç³»ç»Ÿè°ƒç”¨ sys_read() è¯»å–æ•°æ®ã€‚å¹¶ä¸”ä» new_sync_read å’Œ blkdev_direct_IO  èƒ½çœ‹å‡ºï¼Œè¿›ç¨‹æ­£åœ¨å¯¹ç£ç›˜è¿›è¡Œ<strong>ç›´æ¥è¯»</strong>ï¼Œä¹Ÿå°±æ˜¯ç»•è¿‡äº†ç³»ç»Ÿç¼“å­˜ï¼Œæ¯ä¸ªè¯»è¯·æ±‚éƒ½ä¼šä»ç£ç›˜ç›´æ¥è¯»ï¼Œè¿™å°±å¯ä»¥è§£é‡Šæˆ‘ä»¬è§‚å¯Ÿåˆ°çš„ iowait å‡é«˜äº†ã€‚</p><p>çœ‹æ¥ï¼Œç½ªé­ç¥¸é¦–æ˜¯ app å†…éƒ¨è¿›è¡Œäº†ç£ç›˜çš„ç›´æ¥ I/Oå•Šï¼</p><p>ä¸‹é¢çš„é—®é¢˜å°±å®¹æ˜“è§£å†³äº†ã€‚æˆ‘ä»¬æ¥ä¸‹æ¥åº”è¯¥ä»ä»£ç å±‚é¢åˆ†æï¼Œç©¶ç«Ÿæ˜¯å“ªé‡Œå‡ºç°äº†ç›´æ¥è¯»è¯·æ±‚ã€‚æŸ¥çœ‹æºç æ–‡ä»¶ <a href=\"https://github.com/feiskyer/linux-perf-examples/blob/master/high-iowait-process/app.c\">app.c</a>ï¼Œä½ ä¼šå‘ç°å®ƒæœç„¶ä½¿ç”¨äº† O_DIRECT é€‰é¡¹æ‰“å¼€ç£ç›˜ï¼Œäºæ˜¯ç»•è¿‡äº†ç³»ç»Ÿç¼“å­˜ï¼Œç›´æ¥å¯¹ç£ç›˜è¿›è¡Œè¯»å†™ã€‚</p><pre><code>open(disk, O_RDONLY|O_DIRECT|O_LARGEFILE, 0755)\n</code></pre><p>ç›´æ¥è¯»å†™ç£ç›˜ï¼Œå¯¹ I/O æ•æ„Ÿå‹åº”ç”¨ï¼ˆæ¯”å¦‚æ•°æ®åº“ç³»ç»Ÿï¼‰æ˜¯å¾ˆå‹å¥½çš„ï¼Œå› ä¸ºä½ å¯ä»¥åœ¨åº”ç”¨ä¸­ï¼Œç›´æ¥æ§åˆ¶ç£ç›˜çš„è¯»å†™ã€‚ä½†åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æœ€å¥½è¿˜æ˜¯é€šè¿‡ç³»ç»Ÿç¼“å­˜æ¥ä¼˜åŒ–ç£ç›˜ I/Oï¼Œæ¢å¥è¯è¯´ï¼Œåˆ é™¤ O_DIRECT è¿™ä¸ªé€‰é¡¹å°±æ˜¯äº†ã€‚</p><p><a href=\"https://github.com/feiskyer/linux-perf-examples/blob/master/high-iowait-process/app-fix1.c\">app-fix1.c</a> å°±æ˜¯ä¿®æ”¹åçš„æ–‡ä»¶ï¼Œæˆ‘ä¹Ÿæ‰“åŒ…æˆäº†ä¸€ä¸ªé•œåƒæ–‡ä»¶ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä½ å°±å¯ä»¥å¯åŠ¨å®ƒäº†ï¼š</p><pre><code># é¦–å…ˆåˆ é™¤åŸæ¥çš„åº”ç”¨\n$ docker rm -f app\n# è¿è¡Œæ–°çš„åº”ç”¨\n$ docker run --privileged --name=app -itd feisky/app:iowait-fix1\n</code></pre><p>æœ€åï¼Œå†ç”¨ top æ£€æŸ¥ä¸€ä¸‹ï¼š</p><pre><code>$ top\ntop - 14:59:32 up 19 min,  1 user,  load average: 0.15, 0.07, 0.05\nTasks: 137 total,   1 running,  72 sleeping,   0 stopped,  12 zombie\n%Cpu0  :  0.0 us,  1.7 sy,  0.0 ni, 98.0 id,  0.3 wa,  0.0 hi,  0.0 si,  0.0 st\n%Cpu1  :  0.0 us,  1.3 sy,  0.0 ni, 98.7 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\n...\n\n  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND\n 3084 root      20   0       0      0      0 Z   1.3  0.0   0:00.04 app\n 3085 root      20   0       0      0      0 Z   1.3  0.0   0:00.04 app\n    1 root      20   0  159848   9120   6724 S   0.0  0.1   0:09.03 systemd\n    2 root      20   0       0      0      0 S   0.0  0.0   0:00.00 kthreadd\n    3 root      20   0       0      0      0 I   0.0  0.0   0:00.40 kworker/0:0\n...\n</code></pre><p>ä½ ä¼šå‘ç°ï¼Œ iowait å·²ç»éå¸¸ä½äº†ï¼Œåªæœ‰ 0.3%ï¼Œè¯´æ˜åˆšæ‰çš„æ”¹åŠ¨å·²ç»æˆåŠŸä¿®å¤äº† iowait é«˜çš„é—®é¢˜ï¼Œå¤§åŠŸå‘Šæˆï¼ä¸è¿‡ï¼Œåˆ«å¿˜äº†ï¼Œåƒµå°¸è¿›ç¨‹è¿˜åœ¨ç­‰ç€ä½ ã€‚ä»”ç»†è§‚å¯Ÿåƒµå°¸è¿›ç¨‹çš„æ•°é‡ï¼Œä½ ä¼šéƒé—·åœ°å‘ç°ï¼Œåƒµå°¸è¿›ç¨‹è¿˜åœ¨ä¸æ–­çš„å¢é•¿ä¸­ã€‚</p><h2>åƒµå°¸è¿›ç¨‹</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥å¤„ç†åƒµå°¸è¿›ç¨‹çš„é—®é¢˜ã€‚æ—¢ç„¶åƒµå°¸è¿›ç¨‹æ˜¯å› ä¸ºçˆ¶è¿›ç¨‹æ²¡æœ‰å›æ”¶å­è¿›ç¨‹çš„èµ„æºè€Œå‡ºç°çš„ï¼Œé‚£ä¹ˆï¼Œè¦è§£å†³æ‰å®ƒä»¬ï¼Œå°±è¦æ‰¾åˆ°å®ƒä»¬çš„æ ¹å„¿ï¼Œ<strong>ä¹Ÿå°±æ˜¯æ‰¾å‡ºçˆ¶è¿›ç¨‹ï¼Œç„¶ååœ¨çˆ¶è¿›ç¨‹é‡Œè§£å†³ã€‚</strong></p><p>çˆ¶è¿›ç¨‹çš„æ‰¾æ³•æˆ‘ä»¬å‰é¢è®²è¿‡ï¼Œæœ€ç®€å•çš„å°±æ˜¯è¿è¡Œ  pstree å‘½ä»¤ï¼š</p><pre><code># -a è¡¨ç¤ºè¾“å‡ºå‘½ä»¤è¡Œé€‰é¡¹\n# pè¡¨PID\n# sè¡¨ç¤ºæŒ‡å®šè¿›ç¨‹çš„çˆ¶è¿›ç¨‹\n$ pstree -aps 3084\nsystemd,1\n  â””â”€dockerd,15006 -H fd://\n      â””â”€docker-containe,15024 --config /var/run/docker/containerd/containerd.toml\n          â””â”€docker-containe,3991 -namespace moby -workdir...\n              â””â”€app,4009\n                  â””â”€(app,3084)\n</code></pre><p>è¿è¡Œå®Œï¼Œä½ ä¼šå‘ç° 3084 å·è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æ˜¯ 4009ï¼Œä¹Ÿå°±æ˜¯ app åº”ç”¨ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬æ¥ç€æŸ¥çœ‹ app åº”ç”¨ç¨‹åºçš„ä»£ç ï¼Œçœ‹çœ‹å­è¿›ç¨‹ç»“æŸçš„å¤„ç†æ˜¯å¦æ­£ç¡®ï¼Œæ¯”å¦‚æœ‰æ²¡æœ‰è°ƒç”¨ wait() æˆ– waitpid() ï¼ŒæŠ‘æˆ–æ˜¯ï¼Œæœ‰æ²¡æœ‰æ³¨å†Œ SIGCHLD ä¿¡å·çš„å¤„ç†å‡½æ•°ã€‚</p><p>ç°åœ¨æˆ‘ä»¬æŸ¥çœ‹ä¿®å¤ iowait åçš„æºç æ–‡ä»¶ <a href=\"https://github.com/feiskyer/linux-perf-examples/blob/master/high-iowait-process/app-fix1.c\">app-fix1.c</a> ï¼Œæ‰¾åˆ°å­è¿›ç¨‹çš„åˆ›å»ºå’Œæ¸…ç†çš„åœ°æ–¹ï¼š</p><pre><code>int status = 0;\n  for (;;) {\n    for (int i = 0; i &lt; 2; i++) {\n      if(fork()== 0) {\n        sub_process();\n      }\n    }\n    sleep(5);\n  }\n\n  while(wait(&amp;status)&gt;0);\n</code></pre><p>å¾ªç¯è¯­å¥æœ¬æ¥å°±å®¹æ˜“å‡ºé”™ï¼Œä½ èƒ½æ‰¾åˆ°è¿™é‡Œçš„é—®é¢˜å—ï¼Ÿè¿™æ®µä»£ç è™½ç„¶çœ‹èµ·æ¥è°ƒç”¨äº† wait() å‡½æ•°ç­‰å¾…å­è¿›ç¨‹ç»“æŸï¼Œä½†å´é”™è¯¯åœ°æŠŠ wait() æ”¾åˆ°äº† for æ­»å¾ªç¯çš„å¤–é¢ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œwait() å‡½æ•°å®é™…ä¸Šå¹¶æ²¡è¢«è°ƒç”¨åˆ°ï¼Œæˆ‘ä»¬æŠŠå®ƒæŒªåˆ° for å¾ªç¯çš„é‡Œé¢å°±å¯ä»¥äº†ã€‚</p><p>ä¿®æ”¹åçš„æ–‡ä»¶æˆ‘æ”¾åˆ°äº† <a href=\"https://github.com/feiskyer/linux-perf-examples/blob/master/high-iowait-process/app-fix2.c\">app-fix2.c</a> ä¸­ï¼Œä¹Ÿæ‰“åŒ…æˆäº†ä¸€ä¸ª Docker é•œåƒï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä½ å°±å¯ä»¥å¯åŠ¨å®ƒï¼š</p><pre><code># å…ˆåœæ­¢äº§ç”Ÿåƒµå°¸è¿›ç¨‹çš„ app\n$ docker rm -f app\n# ç„¶åå¯åŠ¨æ–°çš„ app\n$ docker run --privileged --name=app -itd feisky/app:iowait-fix2\n</code></pre><p>å¯åŠ¨åï¼Œå†ç”¨ top æœ€åæ¥æ£€æŸ¥ä¸€éï¼š</p><pre><code>$ top\ntop - 15:00:44 up 20 min,  1 user,  load average: 0.05, 0.05, 0.04\nTasks: 125 total,   1 running,  72 sleeping,   0 stopped,   0 zombie\n%Cpu0  :  0.0 us,  1.7 sy,  0.0 ni, 98.3 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\n%Cpu1  :  0.0 us,  1.3 sy,  0.0 ni, 98.7 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\n...\n\n  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND\n 3198 root      20   0    4376    840    780 S   0.3  0.0   0:00.01 app\n    2 root      20   0       0      0      0 S   0.0  0.0   0:00.00 kthreadd\n    3 root      20   0       0      0      0 I   0.0  0.0   0:00.41 kworker/0:0\n...\n</code></pre><p>å¥½äº†ï¼Œåƒµå°¸è¿›ç¨‹ï¼ˆZçŠ¶æ€ï¼‰æ²¡æœ‰äº†ï¼Œ iowait  ä¹Ÿæ˜¯ 0ï¼Œé—®é¢˜ç»ˆäºå…¨éƒ¨è§£å†³äº†ã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©æˆ‘ç”¨ä¸€ä¸ªå¤šè¿›ç¨‹çš„æ¡ˆä¾‹ï¼Œå¸¦ä½ åˆ†æç³»ç»Ÿç­‰å¾… I/O çš„ CPU ä½¿ç”¨ç‡ï¼ˆä¹Ÿå°±æ˜¯ iowait%ï¼‰å‡é«˜çš„æƒ…å†µã€‚</p><p>è™½ç„¶è¿™ä¸ªæ¡ˆä¾‹æ˜¯ç£ç›˜ I/O å¯¼è‡´äº† iowait å‡é«˜ï¼Œä¸è¿‡ï¼Œ <strong>iowait é«˜ä¸ä¸€å®šä»£è¡¨I/O æœ‰æ€§èƒ½ç“¶é¢ˆã€‚å½“ç³»ç»Ÿä¸­åªæœ‰ I/O ç±»å‹çš„è¿›ç¨‹åœ¨è¿è¡Œæ—¶ï¼Œiowait ä¹Ÿä¼šå¾ˆé«˜ï¼Œä½†å®é™…ä¸Šï¼Œç£ç›˜çš„è¯»å†™è¿œæ²¡æœ‰è¾¾åˆ°æ€§èƒ½ç“¶é¢ˆçš„ç¨‹åº¦</strong>ã€‚</p><p>å› æ­¤ï¼Œç¢°åˆ° iowait å‡é«˜æ—¶ï¼Œéœ€è¦å…ˆç”¨ dstatã€pidstat ç­‰å·¥å…·ï¼Œç¡®è®¤æ˜¯ä¸æ˜¯ç£ç›˜ I/O çš„é—®é¢˜ï¼Œç„¶åå†æ‰¾æ˜¯å“ªäº›è¿›ç¨‹å¯¼è‡´äº† I/Oã€‚</p><p>ç­‰å¾… I/O çš„è¿›ç¨‹ä¸€èˆ¬æ˜¯ä¸å¯ä¸­æ–­çŠ¶æ€ï¼Œæ‰€ä»¥ç”¨ ps å‘½ä»¤æ‰¾åˆ°çš„ D çŠ¶æ€ï¼ˆå³ä¸å¯ä¸­æ–­çŠ¶æ€ï¼‰çš„è¿›ç¨‹ï¼Œå¤šä¸ºå¯ç–‘è¿›ç¨‹ã€‚ä½†è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œåœ¨ I/O æ“ä½œåï¼Œè¿›ç¨‹åˆå˜æˆäº†åƒµå°¸è¿›ç¨‹ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ strace ç›´æ¥åˆ†æè¿™ä¸ªè¿›ç¨‹çš„ç³»ç»Ÿè°ƒç”¨ã€‚</p><p>è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ç”¨äº† perf å·¥å…·ï¼Œæ¥åˆ†æç³»ç»Ÿçš„ CPU æ—¶é’Ÿäº‹ä»¶ï¼Œæœ€ç»ˆå‘ç°æ˜¯ç›´æ¥ I/O å¯¼è‡´çš„é—®é¢˜ã€‚è¿™æ—¶ï¼Œå†æ£€æŸ¥æºç ä¸­å¯¹åº”ä½ç½®çš„é—®é¢˜ï¼Œå°±å¾ˆè½»æ¾äº†ã€‚</p><p>è€Œåƒµå°¸è¿›ç¨‹çš„é—®é¢˜ç›¸å¯¹å®¹æ˜“æ’æŸ¥ï¼Œä½¿ç”¨ pstree æ‰¾å‡ºçˆ¶è¿›ç¨‹åï¼Œå»æŸ¥çœ‹çˆ¶è¿›ç¨‹çš„ä»£ç ï¼Œæ£€æŸ¥ wait() / waitpid() çš„è°ƒç”¨ï¼Œæˆ–æ˜¯ SIGCHLD ä¿¡å·å¤„ç†å‡½æ•°çš„æ³¨å†Œå°±è¡Œäº†ã€‚</p><h2>æ€è€ƒ</h2><p>æœ€åï¼Œæˆ‘æƒ³é‚€è¯·ä½ ä¸€èµ·æ¥èŠèŠï¼Œä½ ç¢°åˆ°è¿‡çš„ä¸å¯ä¸­æ–­çŠ¶æ€è¿›ç¨‹å’Œåƒµå°¸è¿›ç¨‹é—®é¢˜ã€‚ä½ æ˜¯æ€ä¹ˆåˆ†æå®ƒä»¬çš„æ ¹æºï¼Ÿåˆæ˜¯æ€ä¹ˆè§£å†³çš„ï¼Ÿåœ¨ä»Šå¤©çš„æ¡ˆä¾‹æ“ä½œä¸­ï¼Œä½ åˆæœ‰ä»€ä¹ˆæ–°çš„å‘ç°å—ï¼Ÿä½ å¯ä»¥ç»“åˆæˆ‘çš„è®²è¿°ï¼Œæ€»ç»“è‡ªå·±çš„æ€è·¯ã€‚</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºå’Œæˆ‘è®¨è®ºï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„åŒäº‹ã€æœ‹å‹ã€‚æˆ‘ä»¬ä¸€èµ·åœ¨å®æˆ˜ä¸­æ¼”ç»ƒï¼Œåœ¨äº¤æµä¸­è¿›æ­¥ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/56/52/565d66d658ad23b2f4997551db153852.jpg?wh=1110*549\" alt=\"\"></p>","comments":[{"had_liked":false,"id":47429,"user_name":"Zecho","can_delete":false,"product_type":"c1","uid":1043058,"ip_address":"","ucode":"BF831B93BEC6E7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ea/72/aee38c83.jpg","comment_is_top":false,"comment_ctime":1544143790,"is_pvip":false,"replies":[{"id":"17054","content":"å—¯å—¯ï¼Œå®é™…ä¸Šè¿™é‡Œçš„æ¡ˆä¾‹æ˜¯æˆ‘æ•…æ„è®¾è®¡çš„æ¯”è¾ƒç®€å•ï¼Œè¿™æ ·åˆå­¦è€…å¯ä»¥æŠŠé‡ç‚¹æ”¾åˆ°ç†è§£å½“å‰è®²çš„åŸç†å’ŒæŒ‡æ ‡ä¸Šï¼Œè€Œä¸æ˜¯çœ‹ç€ä¸€å †çš„æ–°å·¥å…·å’Œå†…æ ¸å‡½æ•°è€Œæ„Ÿåˆ°å®³æ€•ã€‚å½“ç„¶äº†ï¼Œç«ç„°å›¾ã€perf-toolsã€systemtapè¿™äº›å·¥å…·ä»¥åä¹Ÿä¼šè®²åˆ°ï¼Œåªæ˜¯è¿˜æ˜¯è®©æˆ‘ä»¬å…ˆæŠŠåŸºç¡€çš„ä¸œè¥¿é“ºå«å¥½ã€‚<br><br>å¦‚æœä½ å·²ç»å¯¹è¿™äº›æ¯”è¾ƒç†Ÿæ‚‰äº†ï¼Œæ¨èå»æŠŠè¿™äº›æ€è·¯åº”ç”¨åˆ°å®é™…çš„ç³»ç»Ÿä¸­å»åˆ†æï¼Œç„¶ååœ¨è¿™é‡Œè·Ÿå¤§å®¶åˆ†äº«ä½ çš„æ‰€å¾—ã€‚æˆ‘ç›¸ä¿¡ï¼Œä½ æœ‰å¯èƒ½ä¼šå‘ç°ä¸åŒçš„ç†è§£ï¼Œç”šè‡³æ˜¯æ›´å¥½çš„åˆ†ææ€è·¯ã€‚","user_name":"ä½œè€…å›å¤","comment_id":47429,"uid":"1001282","ip_address":"","utype":1,"ctime":1544277987,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":13,"race_medal":0,"score":"405271069614","product_id":100020901,"comment_content":"æä¸€ä¸ªå»ºè®®ï¼Œæ¡ˆä¾‹çš„è®²è§£è¿‡äºç®€å•ï¼Œä¸é¢„æœŸæœ‰äº›å·®è·ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å®é™…é‡åˆ°çš„è¦æ¯”è¿™ä¸ªå¤æ‚ï¼Œè¿™ä¼šå¸¦æ¥ä¸æ˜¯ç®€å•çš„å‡ ä¸ªå‘½ä»¤å°±å¯ä»¥ï¼Œç‰¹åˆ«éœ€è¦æ›´æ·±å…¥çš„å·¥å…·ï¼Œæ¯”å¦‚brendanä¸­ç«ç„°å›¾ï¼Œperf-toolsï¼Œæˆ–è€…systemtabç­‰ç­‰ï¼›å¸Œæœ›èƒ½æ‰¾äº›å®é™…çš„æ¡ˆä¾‹ï¼Œè°¢è°¢ã€‚","like_count":94,"discussions":[{"author":{"id":1994374,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/6e/86/c682976b.jpg","nickname":"zhushenghang","note":"","ucode":"712CFE335C7CE4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":262475,"discussion_content":"ä½œä¸ºä¸€åè¿ç»´ï¼Œæˆ‘è§‰å¾—è€å¸ˆè®²çš„å¾ˆå¥½ï¼Œæˆ‘å¬æ‡‚äº†ï¼Œæˆ‘å­¦ä¸‹å»äº†ï¼Œæœ€åï¼Œæˆ‘å¯¹æ€§èƒ½é—®é¢˜æœ‰è‡ªå·±çš„è§£å†³æ€è·¯äº†ï¼Œè¶³çŸ£ã€‚åœ¨è¿™æ¿€æµå‹‡è¿›çš„å¹´ä»£ï¼Œåˆ‡è®°é¥­è¦æ…¢æ…¢åƒï¼Œæœ‰äº›é“ç†ç®€å•è°éƒ½æ‡‚ï¼Œä½†æ˜¯æ€ä¹ˆçµæ´»è¿ç”¨ç®€å•çš„é“ç†å»å¤„ç†å¤æ‚çš„é—®é¢˜æ‰ä½“ç°ä¸€ä¸ªäººçš„åŠŸåŠ›ğŸ¤ª","likes_number":15,"is_delete":false,"is_hidden":false,"ctime":1589103845,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1110706,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f2/b2/de353ede.jpg","nickname":"yYe","note":"","ucode":"62D27117CE842E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1994374,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/6e/86/c682976b.jpg","nickname":"zhushenghang","note":"","ucode":"712CFE335C7CE4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572553,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652850525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":262475,"ip_address":""},"score":572553,"extra":""}]},{"author":{"id":2066801,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/W0VEO7Hxzd61mia6Ls2EpBmaZ0l9q7SFUAErbu4XKIjWLmlALr4ybpicDoI8SoXY8XJNKmk04Ep1ibTCuFvfCF8GQ/132","nickname":"Chen","note":"","ucode":"5D0F3DF807706E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325101,"discussion_content":"ä½œä¸ºä¸€åè¿ç»´ï¼Œæˆ‘è§‰å¾—è€å¸ˆè®²çš„å¾ˆå¥½ï¼Œæˆ‘å¬æ‡‚äº†ï¼Œæˆ‘å­¦ä¸‹å»äº†ï¼Œæœ€åï¼Œæˆ‘å¯¹æ€§èƒ½é—®é¢˜æœ‰è‡ªå·±çš„è§£å†³æ€è·¯äº†ï¼Œè¶³çŸ£ã€‚","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1605236448,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1202174,"avatar":"https://static001.geekbang.org/account/avatar/00/12/57/fe/beab006d.jpg","nickname":"Jasper","note":"","ucode":"A07ABF45D39089","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":116036,"discussion_content":"ä½œä¸ºä¸€åå¼€å‘ï¼Œæˆ‘è§‰å¾—è€å¸ˆè®²çš„å¾ˆå¥½ï¼Œæˆ‘å¬æ‡‚äº†ï¼Œæˆ‘å­¦ä¸‹å»äº†ï¼Œæœ€åï¼Œæˆ‘å¯¹æ€§èƒ½é—®é¢˜æœ‰è‡ªå·±çš„è§£å†³æ€è·¯äº†ï¼Œè¶³çŸ£","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1578051398,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1507080,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI1xcW38BFsNESjh9jehmF3h0lv36e1HC3KzOmSgrjtlkGxsM5dWDL6T0H2V57Bd3s4uyWLxNQ4Rg/132","nickname":"damili","note":"","ucode":"7E979B569B286B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291467,"discussion_content":"èµä½œè€…ï¼Œå¤šçš„ï¼Œå…ˆæŠŠåŸºç¡€æ‰“å¥½","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1594825975,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431766,"discussion_content":"å—¯å—¯ï¼Œå®é™…ä¸Šè¿™é‡Œçš„æ¡ˆä¾‹æ˜¯æˆ‘æ•…æ„è®¾è®¡çš„æ¯”è¾ƒç®€å•ï¼Œè¿™æ ·åˆå­¦è€…å¯ä»¥æŠŠé‡ç‚¹æ”¾åˆ°ç†è§£å½“å‰è®²çš„åŸç†å’ŒæŒ‡æ ‡ä¸Šï¼Œè€Œä¸æ˜¯çœ‹ç€ä¸€å †çš„æ–°å·¥å…·å’Œå†…æ ¸å‡½æ•°è€Œæ„Ÿåˆ°å®³æ€•ã€‚å½“ç„¶äº†ï¼Œç«ç„°å›¾ã€perf-toolsã€systemtapè¿™äº›å·¥å…·ä»¥åä¹Ÿä¼šè®²åˆ°ï¼Œåªæ˜¯è¿˜æ˜¯è®©æˆ‘ä»¬å…ˆæŠŠåŸºç¡€çš„ä¸œè¥¿é“ºå«å¥½ã€‚\n\nå¦‚æœä½ å·²ç»å¯¹è¿™äº›æ¯”è¾ƒç†Ÿæ‚‰äº†ï¼Œæ¨èå»æŠŠè¿™äº›æ€è·¯åº”ç”¨åˆ°å®é™…çš„ç³»ç»Ÿä¸­å»åˆ†æï¼Œç„¶ååœ¨è¿™é‡Œè·Ÿå¤§å®¶åˆ†äº«ä½ çš„æ‰€å¾—ã€‚æˆ‘ç›¸ä¿¡ï¼Œä½ æœ‰å¯èƒ½ä¼šå‘ç°ä¸åŒçš„ç†è§£ï¼Œç”šè‡³æ˜¯æ›´å¥½çš„åˆ†ææ€è·¯ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1544277987,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1275659,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoTtHIemT3d7oOuDoU5dOGQeUzxTvcLPeD2qPS48ib5hlKq3ne650o5GVc2N5ia5uo4WOEnzmcNAZGQ/132","nickname":"åˆ˜é’æ¾","note":"","ucode":"65759A01ECD48C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369756,"discussion_content":"å¤ªè¿‡äºç®€å•äº†ï¼Œæ²¡æœ‰çœŸæ˜¯çš„ç”Ÿäº§æ¡ˆä¾‹ï¼Œå…‰ç®€å•çš„æµ‹è¯•ï¼Œå®Œå…¨ä¸èƒ½ä½“ç°å‡ºæ¥linuxçš„ä¸€ä¸ªæ’æŸ¥æ€è·¯","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1619149455,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2715554,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBHy0D2KUZwOGHRG8qloicx2V4E4mImsPIiavPfr12BZB6QyUlHNdmOohC3EbsgnM2QNBeoqu82Grw/132","nickname":"çš®å¡å¡","note":"","ucode":"52B3F234550E7F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554430,"discussion_content":"ä½œä¸ºä¸€åå¼€å‘ï¼Œæˆ‘è§‰å¾—è€å¸ˆè®²çš„å¾ˆå¥½ï¼Œæˆ‘å¬æ‡‚äº†ï¼Œæˆ‘å­¦ä¸‹å»äº†ï¼Œæœ€åï¼Œæˆ‘å¯¹æ€§èƒ½é—®é¢˜æœ‰è‡ªå·±çš„è§£å†³æ€è·¯äº†ï¼Œè¶³çŸ£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646377582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2691184,"avatar":"","nickname":"åŒ—ä¹","note":"","ucode":"1AFEF20588F526","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411340,"discussion_content":"ä½œä¸ºä¸€åæµ‹è¯•ï¼Œæˆ‘è§‰å¾—è€å¸ˆè®²çš„å¾ˆå¥½ï¼Œæˆ‘å¬æ‡‚äº†ï¼Œæˆ‘å­¦ä¸‹å»äº†ï¼Œæœ€åï¼Œæˆ‘å¯¹æ€§èƒ½é—®é¢˜æœ‰è‡ªå·±çš„è§£å†³æ€è·¯äº†ï¼Œè¶³çŸ£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635903850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1603813,"avatar":"https://static001.geekbang.org/account/avatar/00/18/78/e5/9ded99a5.jpg","nickname":"Fine","note":"","ucode":"C4CF830EBD2BA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377904,"discussion_content":"â”‚Kernel address maps (/proc/{kallsyms,modules}) were restricted.   â”‚\n                                                   â”‚                                                                  â”‚\n                                                   â”‚Check /proc/sys/kernel/kptr_restrict before running &#39;perf record&#39;.â”‚\n                                                   â”‚                                                                  â”‚\n                                                   â”‚As no suitable kallsyms nor vmlinux was found, kernel samples     â”‚\n                                                   â”‚can&#39;t be resolved.                                                â”‚\n                                                   â”‚                                                                  â”‚\n                                                   â”‚Samples in kernel modules can&#39;t be resolved as well.              â”‚\n                                                   â”‚                                                        \nå¤§ä½¬ä»¬ï¼Œè¿™ä¸ªé”™è°é‡åˆ°è¿‡ï¼Œæ€ä¹ˆè§£å†³å•Šï¼Œperf reportå°±æŠ¥è¿™ä¸ªé”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622957966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2416022,"avatar":"https://static001.geekbang.org/account/avatar/00/24/dd/96/8677254c.jpg","nickname":"æ‰¿","note":"","ucode":"31E425788BA852","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344108,"discussion_content":"è€å¸ˆè®²çš„æŒºå¥½çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611296199,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1603813,"avatar":"https://static001.geekbang.org/account/avatar/00/18/78/e5/9ded99a5.jpg","nickname":"Fine","note":"","ucode":"C4CF830EBD2BA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306622,"discussion_content":"æˆ‘å¾®ä¿¡shetesheteã€å¯ä»¥å—ï¼Œå¯ä»¥ä»˜è´¹å–ç»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600333885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1603813,"avatar":"https://static001.geekbang.org/account/avatar/00/18/78/e5/9ded99a5.jpg","nickname":"Fine","note":"","ucode":"C4CF830EBD2BA3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306621,"discussion_content":"å¤§ä½¬ï¼Œèƒ½äº¤ä¸ªæœ‹å‹å—ï¼Ÿæˆ–è€…æ‹œå¸ˆï¼Œæˆ‘æ˜¯ä¸€ä¸ªåˆšå…¥é—¨çš„ï¼Œè¿™äº›ä¸œè¥¿éƒ½èƒ½çœ‹æ‡‚ï¼Œä½†æ˜¯åˆæ„Ÿè§‰å·¥ä½œä¸­è‚¯å®šæ¯”è¿™ä¸ªå¤æ‚ï¼Œæƒ³å–ç»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600333854,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47388,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1544140158,"is_pvip":false,"discussion_count":2,"race_medal":1,"score":"233472374142","product_id":100020901,"comment_content":"ã€D8æ‰“å¡ã€‘<br>ä»Šå¤©ä¸»è¦å­¦ä¹ çš„æ˜¯ç³»ç»Ÿä¸­å‡ºç°äº†å¤§é‡ä¸å¯ä¸­æ–­è¿›ç¨‹å’Œåƒµå°¸è¿›ç¨‹çš„å¤„ç†æ–¹æ³•<br>ç°è±¡ï¼š<br>â‘ iowaitå¤ªé«˜ï¼Œå¯¼è‡´å¹³å‡è´Ÿè½½å‡é«˜ï¼Œå¹¶ä¸”è¾¾åˆ°äº†ç³»ç»ŸCPUçš„ä¸ªæ•°<br>â‘¡åƒµå°¸è¿›ç¨‹ä¸æ–­å¢å¤š<br>åˆ†æè¿‡ç¨‹ï¼š<br>1.å…ˆåˆ†æiowaitå‡é«˜çš„åŸå› <br>ä¸€èˆ¬iowaitå‡é«˜ï¼Œå¯èƒ½çš„åŸå› æ˜¯i&#47;oé—®é¢˜<br>â‘ ç”¨dstat å‘½ä»¤åŒæ—¶æŸ¥çœ‹cpuå’Œi&#47;oå¯¹æ¯”æƒ…å†µï¼ˆå¦‚ dstat 1 10 é—´éš”1ç§’è¾“å‡º10ç»„æ•°æ®ï¼‰ï¼Œé€šè¿‡ç»“æœå¯ä»¥å‘ç°iowaitå‡é«˜æ—¶ï¼Œç£ç›˜è¯»è¯·æ±‚ï¼ˆreadï¼‰å‡é«˜<br>æ‰€ä»¥æ¨æ–­iowaitå‡é«˜æ˜¯ç£ç›˜è¯»å¯¼è‡´<br>â‘¡å®šä½ç£ç›˜è¯»çš„è¿›ç¨‹ï¼Œä½¿ç”¨topå‘½ä»¤æŸ¥çœ‹å¤„äºä¸å¯ä¸­æ–­çŠ¶æ€ï¼ˆDï¼‰çš„è¿›ç¨‹PID<br>â‘¢æŸ¥çœ‹å¯¹åº”è¿›ç¨‹çš„ç£ç›˜è¯»å†™æƒ…å†µï¼Œä½¿ç”¨pidstatå‘½ä»¤ï¼ŒåŠ ä¸Š-då‚æ•°ï¼Œå¯ä»¥çœ‹åˆ°i&#47;oä½¿ç”¨æƒ…å†µï¼ˆå¦‚ pidstat -d -p &lt;pid&gt; 1 3ï¼‰,å‘ç°å¤„äºä¸å¯ä¸­æ–­çŠ¶æ€çš„è¿›ç¨‹éƒ½æ²¡æœ‰è¿›è¡Œç£ç›˜è¯»å†™<br>â‘£ç»§ç»­ä½¿ç”¨pidstatå‘½ä»¤ï¼Œä½†æ˜¯å»æ‰è¿›ç¨‹å·ï¼ŒæŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹çš„i&#47;oæƒ…å†µï¼ˆpidstat -d 1 20ï¼‰ï¼Œå¯ä»¥å®šä½åˆ°è¿›è¡Œç£ç›˜è¯»å†™çš„è¿›ç¨‹ã€‚æˆ‘ä»¬çŸ¥é“è¿›ç¨‹è®¿é—®ç£ç›˜ï¼Œéœ€è¦ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨ï¼Œ<br>ä¸‹é¢çš„é‡ç‚¹å°±æ˜¯æ‰¾åˆ°è¯¥è¿›ç¨‹çš„ç³»ç»Ÿè°ƒç”¨<br>â‘¤ä½¿ç”¨straceæŸ¥çœ‹è¿›ç¨‹çš„ç³»ç»Ÿè°ƒç”¨ strace -p &lt;pid&gt;<br>å‘ç°æŠ¥äº† strace:attach :ptrace(PTRACE_SIZEï¼Œ6028)ï¼šOperation not peritted,è¯´æ²¡æœ‰æƒé™ï¼Œæˆ‘æ˜¯ä½¿ç”¨çš„rootæƒé™ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™å°±è¦æŸ¥çœ‹è¿›ç¨‹çš„çŠ¶æ€æ˜¯å¦æ­£å¸¸<br>â‘¥ps aux | grep &lt;pid&gt; å‘ç°è¿›ç¨‹å¤„äºZçŠ¶æ€ï¼Œå·²ç»å˜æˆäº†åƒµå°¸è¿›ç¨‹ï¼Œæ‰€ä»¥ä¸èƒ½è¿›è¡Œç³»ç»Ÿè°ƒç”¨åˆ†æäº†<br>â‘¦æ—¢ç„¶topå’Œpidstatéƒ½ä¸èƒ½æ‰¾å‡ºé—®é¢˜ï¼Œä½¿ç”¨åŸºäºäº‹ä»¶è®°å½•çš„åŠ¨æ€è¿½è¸ªå·¥å…·<br>å¦‚æœæ˜¯centosç³»ç»Ÿï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•<br>åœ¨å®¹å™¨å¤–é¢æŠŠåˆ†æè®°å½•ä¿å­˜ï¼Œåˆ°å®¹å™¨é‡Œé¢æŸ¥çœ‹ç»“æœ<br>æ“ä½œï¼š<br>ï¼ˆ1ï¼‰åœ¨centosç³»ç»Ÿä¸Šè¿è¡Œ perf record -g ï¼Œæ‰§è¡Œä¸€ä¼šå„¿æŒ‰ctrl+cåœæ­¢<br>ï¼ˆ2ï¼‰æŠŠç”Ÿæˆçš„perf.dataï¼ˆé€šå¸¸æ–‡ä»¶ç”Ÿæˆåœ¨å‘½ä»¤æ‰§è¡Œçš„å½“å‰ç›®å½•ä¸‹ï¼Œå½“ç„¶å¯ä»¥é€šè¿‡find | grep perf.dataæˆ– find &#47; -name perf.dataæŸ¥çœ‹è·¯å¾„ï¼‰æ–‡ä»¶æ‹·è´åˆ°å®¹å™¨é‡Œé¢åˆ†æï¼š<br>docker cp perf.data app:&#47;tpm<br>docker exec -i -t app bash<br>cd &#47;tmp&#47;<br>apt-get update &amp;&amp; apt-get install -y linux-perf linux-tools procps<br>perf_4.9 report<br>ç„¶åè§‚å¯Ÿè°ƒç”¨æ ˆä¿¡æ¯ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ç£ç›˜è¯»æ“ä½œï¼Œè¿™ä¸ªæ¡ˆä¾‹æ˜¯å®šä½åˆ°äº†è¿›è¡Œç£ç›˜çš„ç›´æ¥è¯»ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æŸ¥çœ‹æºç è¿›è¡ŒéªŒè¯ã€‚å› ä¸ºæˆ‘çš„centosç³»ç»Ÿç”¨è€å¸ˆçš„ iowaité•œåƒiowaitå‡é«˜ä¸æ˜æ˜¾ï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ˜¯iowait-new2é•œåƒï¼Œå¯ä»¥å¾—åˆ°æƒ³è¦çš„ç»“æœï¼Œä½†æ˜¯è¿™ä¸ªé•œåƒæŠŠæˆ‘çš„ç³»ç»Ÿèƒ½æå´©æºƒï¼Œæ‰€ä»¥æˆ‘åªèƒ½æ‰§è¡Œåˆ°cd &#47;tmp&#47;è¿™æ­¥ï¼Œä¸‹é¢é‚£éƒ¨å°±æ‰§è¡Œä¸ä¸‹å»äº†ã€‚ä½†æ˜¯æ•´ä¸ªåˆ†æè¿‡ç¨‹è¿˜æ˜¯ç†è§£äº†ã€‚<br><br>2.åƒµå°¸è¿›ç¨‹<br>åƒµå°¸è¿›ç¨‹å‡ºç°çš„åŸå› æ˜¯çˆ¶è¿›ç¨‹æ²¡æœ‰å›æ”¶å­è¿›ç¨‹çš„èµ„æºå‡ºç°çš„ã€‚è§£å†³åŠæ³•æ˜¯æ‰¾åˆ°çˆ¶è¿›ç¨‹ï¼Œåœ¨çˆ¶è¿›ç¨‹ä¸­å¤„ç†ï¼Œä½¿ç”¨pstreeæŸ¥çˆ¶è¿›ç¨‹ï¼Œç„¶åæŸ¥çœ‹çˆ¶è¿›ç¨‹çš„æºç æ£€æŸ¥wait()&#47;waitpid()çš„è°ƒç”¨æˆ–SIGCHLDä¿¡å·å¤„ç†å‡½æ•°çš„æ³¨å†Œ","like_count":54,"discussions":[{"author":{"id":1110706,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f2/b2/de353ede.jpg","nickname":"yYe","note":"","ucode":"62D27117CE842E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572704,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652924443,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2104708,"avatar":"https://static001.geekbang.org/account/avatar/00/20/1d/84/c35e492e.jpg","nickname":"é£æ¸…æ‰¬","note":"","ucode":"0505791F8EA497","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570716,"discussion_content":"æˆ‘æˆ‘æ„Ÿè§‰æ¯æ¬¡éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨perfæ¥å®šä½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651888298,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47441,"user_name":"ç‹æ¶›","can_delete":false,"product_type":"c1","uid":1315326,"ip_address":"","ucode":"6241F08634D342","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/fe/de00d8d8.jpg","comment_is_top":false,"comment_ctime":1544144371,"is_pvip":false,"replies":[{"id":"17055","content":"æ‰¾å‡ºè¿›ç¨‹å°±å¯ä»¥ç”©é”…äº†ğŸ˜Š<br><br>ä»ç£ç›˜IOçš„è§’åº¦æ¥è¯´ï¼Œå…¶å®å¾ˆå®¹æ˜“æ‰¾å‡ºé‚£äº›è¿›ç¨‹åœ¨æ¶ˆè€—IOèµ„æºã€‚å› ä¸ºè¿™é‡Œä¾§é‡çš„æ˜¯CPUä½¿ç”¨çš„åˆ†æï¼Œæ‰€ä»¥IOè®²çš„ä¸æ˜¯ç‰¹åˆ«æ·±å…¥ã€‚åç»­çš„IOéƒ¨åˆ†è¿˜ä¼šæœ‰æ›´ç»†è‡´çš„æ‹†è§£ã€‚","user_name":"ä½œè€…å›å¤","comment_id":47441,"uid":"1001282","ip_address":"","utype":1,"ctime":1544278188,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":3,"race_medal":0,"score":"160457934323","product_id":100020901,"comment_content":"d8æ‰“å¡ã€‚çœ‹å®Œè¿™éƒ¨åˆ†ï¼Œä½œä¸ºä¸€åè¿ç»´äººå‘˜å°±å°´å°¬äº†ï¼Œå½“å¼€å‘è·Ÿä½ è¯´æœºå™¨æ€§èƒ½æœ‰é—®é¢˜æ—¶ï¼Œè¿™ä¸ªé—®é¢˜å°±å˜æˆäº†ç”©é”…é—®é¢˜ã€‚å¼€å‘è¯´ä»£ç æ²¡é—®é¢˜ï¼Œä½ åˆçœ‹ä¸æ‡‚å¼€å‘çš„ä»£ç ã€‚ã€‚ã€‚","like_count":37,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431767,"discussion_content":"æ‰¾å‡ºè¿›ç¨‹å°±å¯ä»¥ç”©é”…äº†ğŸ˜Š\n\nä»ç£ç›˜IOçš„è§’åº¦æ¥è¯´ï¼Œå…¶å®å¾ˆå®¹æ˜“æ‰¾å‡ºé‚£äº›è¿›ç¨‹åœ¨æ¶ˆè€—IOèµ„æºã€‚å› ä¸ºè¿™é‡Œä¾§é‡çš„æ˜¯CPUä½¿ç”¨çš„åˆ†æï¼Œæ‰€ä»¥IOè®²çš„ä¸æ˜¯ç‰¹åˆ«æ·±å…¥ã€‚åç»­çš„IOéƒ¨åˆ†è¿˜ä¼šæœ‰æ›´ç»†è‡´çš„æ‹†è§£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544278188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2587479,"avatar":"https://static001.geekbang.org/account/avatar/00/27/7b/57/e9b3d886.jpg","nickname":"é˜¿æ˜Œ","note":"","ucode":"C7AF1905B72AD3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586893,"discussion_content":"ä¼šçœ‹ä»£ç ä¸å°±å®Œäº‹äº†ã€‚è¿ç»´ä¸ä¸€å®šè¦ä¼šå†™ï¼Œä½†æ˜¯ä¼šçœ‹è¿˜æ˜¯å¯ä»¥çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662596843,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2806043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBFkSq1oiaEMRjtyyv4ZpCI0OuaSsqs04ODm0OkZF6QhsAh3SvqhxibS2n7PLAVZE3QRSn5Hic0DyXg/132","nickname":"ddh","note":"","ucode":"8E852375365F16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539187,"discussion_content":"åœ¨è¿™é‡Œçš„æ˜¯ä¸æ˜¯å¤§éƒ¨åˆ†éƒ½æ˜¯è¿ç»´å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639637768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47403,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1544142268,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"83148520892","product_id":100020901,"comment_content":"æ‰“å¡day9<br>åœ¨ç”¨perfå±•å¼€çš„åˆ†æè¯¦æƒ…ä¸­ï¼Œæœ‰ä¸ªchildrenå’Œselféƒ½90%å¤šçš„swapperè¿›ç¨‹ï¼Œå¦‚æœæˆ‘çœ‹åˆ°è¿™ä¸ªï¼Œæˆ‘è‚¯å®šä¼šå…ˆå»å›´ç»•è¿™ä¸ªè¿›ç¨‹å±•å¼€ï¼Œè€Œä¼šå¿½ç•¥å ç”¨æ‰0.6%å¾—appè¿›ç¨‹ï¼Œå…³äºè¿™ä¸ªæƒ…å†µï¼Œæ˜¯æˆ‘ç†è§£ä¸Šæœ‰ä»€ä¹ˆåå·®ä¹ˆï¼Ÿ","like_count":19,"discussions":[{"author":{"id":1582813,"avatar":"https://static001.geekbang.org/account/avatar/00/18/26/dd/d58156b1.jpg","nickname":"ä¸€ç²’","note":"","ucode":"FB5F583CC6AE3C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":316226,"discussion_content":"æ‰“å¼€ day3","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603376643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1298046,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKZicicibGibtR5zAia782Ajc5I5BN3F3tjAdlibATIknHv67gbxeH21N7B6vbgwLjYb1miaLKhqicptB5ibYw/132","nickname":"é˜¿é£","note":"","ucode":"F8B1FC8521264D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":273596,"discussion_content":"çœ‹share object é‚£ä¸€åˆ—ï¼Œswapperå¯¹åº”ç€å†…æ ¸è°ƒç”¨ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ¥è¯´éƒ½æ˜¯ç”¨æˆ·ç©ºé—´çš„è°ƒç”¨å¯¼è‡´çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590475738,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1110706,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f2/b2/de353ede.jpg","nickname":"yYe","note":"","ucode":"62D27117CE842E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1298046,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKZicicibGibtR5zAia782Ajc5I5BN3F3tjAdlibATIknHv67gbxeH21N7B6vbgwLjYb1miaLKhqicptB5ibYw/132","nickname":"é˜¿é£","note":"","ucode":"F8B1FC8521264D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572708,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652924758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":273596,"ip_address":""},"score":572708,"extra":""}]}]},{"had_liked":false,"id":47507,"user_name":"walker","can_delete":false,"product_type":"c1","uid":1324219,"ip_address":"","ucode":"FA5B2400A53730","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/bb/0b971fca.jpg","comment_is_top":false,"comment_ctime":1544148699,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"48788788955","product_id":100020901,"comment_content":"æœ‰æ—¶å€™ç›´æ¥æ€æ­»åƒµå°¸è¿›ç¨‹çš„æ—¶å€™ä¼šå¯¼è‡´æœåŠ¡ä¸å¯ç”¨ï¼Œæˆ–æ˜¯å´©æºƒã€‚åœ¨çº¿ä¸Šè¿è¡Œçš„æœåŠ¡å‡ºç°åƒµå°¸è¿›ç¨‹æ—¶ï¼Œæ€æ ·å¤„ç†æ¯”è¾ƒå¥½å‘¢ï¼Ÿ","like_count":11,"discussions":[{"author":{"id":1804356,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/88/44/87cc5c0f.jpg","nickname":"å°å­¦ç”Ÿ","note":"","ucode":"0DBB26031234FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":266563,"discussion_content":"ä»£ç çš„é—®é¢˜ï¼Œæ²¡åŠæ³•ï¼Œå¦‚æœå› ä¸ºåƒµå°¸è¿›ç¨‹å½±å“ä¸šåŠ¡äº†ï¼Œåªæœ‰é‡å¯ä¸šåŠ¡ï¼Œæ€æ­»åƒµå°¸è¿›ç¨‹ã€‚ç„¶åæ‹¿ç€è¯æ®ç”©ç»™å¼€å‘ã€‚ç­‰ç€ä¸‹ä¸€æ¬¡ç‰ˆæœ¬å‡çº§ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1589532994,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1160951,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b6/f7/3c3b1385.jpg","nickname":"æµ·èƒ†é˜¶æ®µ","note":"","ucode":"7A8C4BB4D0CDB8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":367230,"discussion_content":"åº”è¯¥æ˜¯æ€æ­»åƒµå°¸è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ï¼Œæœ€åè¢«init æ¥ç®¡å›æ”¶ï¼Œåƒµå°¸è¿›ç¨‹å·²ç»æ­»äº†ï¼Œä¸èƒ½kill","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618301158,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47382,"user_name":"æŸ¯é”¦ç²(ä¾ å®¢è¡Œ)","can_delete":false,"product_type":"c1","uid":1319040,"ip_address":"","ucode":"BFF9390B9CDB9A","user_header":"https://static001.geekbang.org/account/avatar/00/14/20/80/d61ad0cc.jpg","comment_is_top":false,"comment_ctime":1544139785,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"35903878153","product_id":100020901,"comment_content":"docké•œåƒç­‰èµ„æ–™åœ¨å“ªé‡Œä¸‹è½½ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1263977,"avatar":"https://static001.geekbang.org/account/avatar/00/13/49/69/c0fcf4e8.jpg","nickname":"def","note":"","ucode":"39BDBEA0560C13","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":362219,"discussion_content":"ç›´æ¥docker run ä¼šè‡ªåŠ¨å»æ‹‰å–é•œåƒçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616895502,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1442431,"avatar":"https://static001.geekbang.org/account/avatar/00/16/02/7f/ddf56ac5.jpg","nickname":"runzhliu","note":"","ucode":"CD51D9465D7A05","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":118727,"discussion_content":"dockerhub","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578187754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230781,"user_name":"ç”Ÿæ´»ä¸å¦‚è¯—","can_delete":false,"product_type":"c1","uid":1139515,"ip_address":"","ucode":"FD48EABEEC52B7","user_header":"https://static001.geekbang.org/account/avatar/00/11/63/3b/c5cd68ab.jpg","comment_is_top":false,"comment_ctime":1593491304,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31658262376","product_id":100020901,"comment_content":"å½“é‡åˆ°iowaitè¿‡é«˜æ—¶å€™çš„è§£å†³æ€è·¯ï¼š<br>1. iowaitè¿‡é«˜çš„åŸå› é€šå¸¸æ˜¯è¿›ç¨‹åœ¨ç­‰å¾…ç¡¬ä»¶èµ„æºæˆ–è€…ç¡¬ä»¶æ•…éšœï¼›<br>2. é€šè¿‡topæŸ¥çœ‹iowaitå€¼ï¼›<br>3. é€šè¿‡dstatæŸ¥çœ‹ç£ç›˜çš„è¯»å†™å€¼æ¥æŸ¥çœ‹æ˜¯å¦è¾¾åˆ°äº†ç£ç›˜ç“¶é¢ˆï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™æ’æŸ¥è¿›ç¨‹é—®é¢˜ï¼›<br>4. é€šè¿‡topæ‰¾åˆ°å¤„äºDçŠ¶æ€çš„è¿›ç¨‹ï¼Œè¿™ç§è¿›ç¨‹é€šå¸¸éƒ½æ˜¯åœ¨ç­‰å¾…ç¡¬ä»¶èµ„æºï¼›<br>5. é€šè¿‡pidstat -d -p pidæ¥æŸ¥çœ‹æ­¤è¿›ç¨‹çš„è¯»å†™é€Ÿåº¦ï¼›<br>6. å¦‚æœæŸ¥ä¸åˆ°ï¼Œåˆ™é€šè¿‡pidstat -d 1æ¥æŸ¥çœ‹æ˜¯å“ªäº›è¿›ç¨‹åœ¨ä¸€ç›´è¿›è¡Œè¯»å†™ï¼›<br>7. æ‰¾åˆ°è¿›ç¨‹ä¹‹åé€šè¿‡strace -p pidå¯ä»¥åŠ¨æ€è¿½è¸ªè¿›ç¨‹è¿è¡ŒçŠ¶æ€ï¼Œå¦‚æœè¿›ç¨‹æ˜¯åƒµå°¸è¿›ç¨‹ï¼Œåˆ™é€šè¿‡perf record -gaæ¥æŠ“å–ä¸€æ®µæ—¶é—´çš„è¿è¡Œæƒ…å†µï¼Œç„¶ååˆ†æè¿›ç¨‹çš„å‡½æ•°è°ƒç”¨ï¼›<br>8. æ ¹æ®perfæŠ“å–åˆ°çš„è¿è¡ŒçŠ¶æ€æœ€ç»ˆå®šä½é—®é¢˜ï¼›<br>åƒµå°¸è¿›ç¨‹ï¼š<br>1. å¦‚æœé‡åˆ°åƒµå°¸è¿›ç¨‹ï¼Œé¦–å…ˆé€šè¿‡pstree -aps åƒµå°¸è¿›ç¨‹pidæ¥æ‰¾åˆ°åƒµå°¸è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ï¼›<br>2. é€šè¿‡åˆ†æçˆ¶è¿›ç¨‹æºç æŸ¥çœ‹æ˜¯å¦æœ‰è°ƒç”¨wait()ï¼Œclose()ï¼Œwiatpid()æˆ–è€…SIGCHLDä¿¡å·ç­‰æ¥å…³é—­å­è¿›ç¨‹ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¿®æ”¹æºç ï¼› ","like_count":7},{"had_liked":false,"id":47519,"user_name":"ä¹”å…‹","can_delete":false,"product_type":"c1","uid":1315273,"ip_address":"","ucode":"28A797A4235B78","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/c9/c3eae895.jpg","comment_is_top":false,"comment_ctime":1544149558,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27313953334","product_id":100020901,"comment_content":"åé¢é‚£ä¸¤ä¸ªé•œåƒï¼Œæˆ‘ä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘ç³»ç»Ÿçš„é—®é¢˜ï¼Œæˆ‘è¿è¡Œiowaitç›´æ¥é£šæ»¡äº†ï¼Œç³»ç»Ÿç›´æ¥å¡æ­»ã€‚","like_count":6},{"had_liked":false,"id":47375,"user_name":"ç™½å","can_delete":false,"product_type":"c1","uid":1315666,"ip_address":"","ucode":"FC9BACFCA6E8C1","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/52/db1b01fc.jpg","comment_is_top":false,"comment_ctime":1544138090,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"27313941866","product_id":100020901,"comment_content":"ä»Šå¤©è¿›è¡Œå®éªŒçœ‹æ¥è¿˜æ˜¯ä¸ä¼šæˆåŠŸçš„ï¼Œä¸Šæ¬¡åœ¨ä½ çš„docker hubä»“åº“ä¸­çœ‹åˆ°äº†iowaité•œåƒï¼Œè¯•äº†æœ€æ–°çš„å‡ ä¸ªï¼Œåœ¨centos7è™šæ‹Ÿæœºä¸­è¿˜æ˜¯ä¸è¡Œ","like_count":6,"discussions":[{"author":{"id":1438574,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f3/6e/664a4d84.jpg","nickname":"æ¸¸æ°‘å°é™Œ","note":"","ucode":"C9398CFBB6C963","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307430,"discussion_content":"ç„¶åæ€ä¹ˆåšçš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600649132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236656,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1595492085,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"23070328565","product_id":100020901,"comment_content":"pidstatå‚æ•°è§£é‡Šæ±‡æ€»ï¼š<br>* -wå‚æ•°è¡¨ç¤ºè¾“å‡ºè¿›ç¨‹åˆ‡æ¢æŒ‡æ ‡<br>* -uå‚æ•°åˆ™è¡¨ç¤ºè¾“å‡ºCPUä½¿ç”¨æŒ‡æ ‡<br>* -d å±•ç¤º I&#47;O ç»Ÿè®¡æ•°æ®<br>* -p æŒ‡å®šè¿›ç¨‹å·<br>è¡¨æ ¼å‚æ•°è§£é‡Šï¼š<br>* kB_rd è¡¨ç¤ºæ¯ç§’è¯»ç£ç›˜çš„ KB æ•°<br>* kB_wr è¡¨ç¤ºæ¯ç§’å†™ç£ç›˜çš„ KB<br>* iodelay è¡¨ç¤º I&#47;O çš„å»¶è¿Ÿï¼ˆå•ä½æ˜¯æ—¶é’Ÿå‘¨æœŸï¼‰<br>* cswch ï¼š è¡¨ç¤ºè¿›ç¨‹æ¯ç§’è‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆvoluntary context switchesï¼‰çš„æ¬¡æ•°ã€‚<br>* nvcswch ï¼š è¡¨ç¤ºè¿›ç¨‹æ¯ç§’éè‡ªæ„¿ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆnon voluntary context switchesï¼‰çš„æ¬¡æ•°","like_count":5,"discussions":[{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571140,"discussion_content":"è¿˜æœ‰-tçº¿ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652085580,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47597,"user_name":"å§œå°é±¼","can_delete":false,"product_type":"c1","uid":1317762,"ip_address":"","ucode":"3E2076E20289BF","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/82/69581d8a.jpg","comment_is_top":false,"comment_ctime":1544162788,"is_pvip":false,"replies":[{"id":"17049","content":"IOéƒ¨åˆ†ä¼šè®²çš„","user_name":"ä½œè€…å›å¤","comment_id":47597,"uid":"1001282","ip_address":"","utype":1,"ctime":1544257190,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"23018999268","product_id":100020901,"comment_content":"è€å¸ˆï¼šiowait%ç”Ÿé«˜å¹¶ä¸èƒ½å¾—å‡ºå­˜åœ¨ioæ€§èƒ½çš„ç»“è®ºï¼Œè¿˜è¦ç»§ç»­çœ‹ioé‡(dstat)å’Œioå¹¶å‘ç­‰æƒ…å†µ.é‚£ä¹ˆè¿™ä¸ªioé‡åˆ°åº•è¾¾åˆ°å¤šå°‘æ‰èƒ½è¯´æ˜å­˜åœ¨æ€§èƒ½ç“¶é¢ˆï¼Ÿæœ‰ä¸€ä¸ªé‡åŒ–æŒ‡æ ‡å—ï¼ŸæœŸå¾…å›å¤ï¼Œè°¢è°¢","like_count":5,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431823,"discussion_content":"IOéƒ¨åˆ†ä¼šè®²çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544257190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47595,"user_name":"å¸†å¸†å¸†å¸†å¸†å¸†å¸†å¸†","can_delete":false,"product_type":"c1","uid":1304645,"ip_address":"","ucode":"0CB732FFD07463","user_header":"https://static001.geekbang.org/account/avatar/00/13/e8/45/c58cb283.jpg","comment_is_top":false,"comment_ctime":1544162365,"is_pvip":false,"replies":[{"id":"17077","content":"å—¯å—¯ï¼Œè°¢è°¢åˆ†äº«","user_name":"ä½œè€…å›å¤","comment_id":47595,"uid":"1001282","ip_address":"","utype":1,"ctime":1544313014,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"23018998845","product_id":100020901,"comment_content":"@jeffï¼Œæ•°æ®åº“ä¸€èˆ¬éƒ½æœ‰è‡ªå·±çš„æ•°æ®ç¼“å†²æ± bufferpoolï¼Œåœ¨åˆé€‚çš„æ—¶é—´ï¼Œæ•°æ®åº“ä¼šä»ç£ç›˜è¯»å…¥æ•°æ®åˆ°bufferpoolï¼Œæˆ–è€…ä»bufferpoolå†™å‡ºæ•°æ®åˆ°ç£ç›˜ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå†ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿç¼“å­˜ï¼Œåè€Œä¸ä¼šæœ‰æ€§èƒ½çš„æå‡ï¼Œè€Œä¸”æ•°æ®åº“å†™å‡ºæ•°æ®åˆ°ç£ç›˜çš„æ—¶å€™ï¼Œå¿…é¡»å†™åˆ°äº†ç£ç›˜æ‰ç®—çœŸçš„å®Œæˆäº†æ•°æ®çš„æŒä¹…åŒ–ã€‚","like_count":5,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431822,"discussion_content":"å—¯å—¯ï¼Œè°¢è°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544313014,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3065276,"avatar":"","nickname":"Geek_b3b8da","note":"","ucode":"5461CD95B1D764","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591516,"discussion_content":"oracleæœ‰è‡ªå·±çš„ç¼“å­˜ï¼Œä½†æ˜¯mysqlæ˜¯æ²¡æœ‰çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666609771,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":195520,"user_name":"æ–‘é©¬Z","can_delete":false,"product_type":"c1","uid":1500262,"ip_address":"","ucode":"ABB55B4652452F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0K9AM6xxDzVV6pF66jyus5NuuxZzT9icad8AQDMKibwUOy3UnoZIZdyKIKd9sA06rgFnIWwiakSeOQ/132","comment_is_top":false,"comment_ctime":1585193411,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18765062595","product_id":100020901,"comment_content":"<br>æœ¬æ–‡å’Œä¸Šæ–‡çš„æ¡ˆä¾‹ä¸­åœ¨centosä¸­å®æ“ä¼šé‡åˆ°è¯¸å¤šé—®é¢˜ï¼Œè¯´æ˜ä¸€ä¸‹æˆ‘çš„è§£å†³æ–¹æ³•ï¼š<br><br>1.$ docker run --privileged --name=app -itd feisky&#47;app:iowait<br><br><br>è¿™ä¸ªæ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œå®¹å™¨çŠ¶æ€ä¸º Exited (1ï¼‰<br>åŸå› çœ‹å…¶ä»–åŒå­¦è¯„è®ºæ˜¯<br><br>centosçš„ç£ç›˜å‰ç¼€ä¸åŒï¼Œæ— æ³•æ‰¾åˆ°çš„ç›˜ï¼Œä¿®æ”¹app.cä»£ç <br>        const char *sd_prefix = &quot;vd&quot;;<br>        const char *xvd_prefix = &quot;vdb&quot;;<br><br>è§£å†³æ–¹æ³•æ˜¯<br><br>ä¿®æ”¹å¯åŠ¨å‚æ•°ä¸ºï¼š<br>docker run --privileged --name=app -itd feisky&#47;app:iowait &#47;app -d &#47;dev&#47;vdb1<br><br>æˆ–è€…æ˜¯ç”¨è€å¸ˆæ–°çš„é•œåƒ<br>docker run --privileged --name=app -itd feisky&#47;app:short-process<br><br>å®Œæˆä»¥ä¸Šæ­¥éª¤ä¹‹årunæˆåŠŸäº†ï¼Œæˆ‘é€šè¿‡æ“ä½œä¾‹å¦‚pidstatã€iostatã€topç­‰å‘½ä»¤å‘ç°ä¸»è¦æ˜¯stressè¿™æ ·çš„çŸ­æ—¶è¿›ç¨‹å ç”¨äº†å¤§é‡I&#47;Oï¼Œä¸æ˜¯æ–‡ä¸­æåˆ°çš„appè¿›ç¨‹ï¼Œ<br>ç„¶ååŒæ ·çš„ç”¨perf topè¿›è¡Œå®æ“ï¼Œä½†æ˜¯é—®é¢˜æ¥äº†ï¼Œä¸Šä¸ŠèŠ‚è¯¾ä¸­å‡ºç°çš„centosç³»ç»Ÿä¸­perf top æ˜¾ç¤ºçš„æ˜¯åå…­è¿›åˆ¶çš„è¿›ç¨‹ä»¥åŠå‡½æ•°ï¼Œæ— æ³•å‡†ç¡®å®šä½ï¼Œç„¶ååˆä¸€é¡¿æ“ä½œã€‚<br><br><br>æ“ä½œï¼š<br>ï¼ˆ1ï¼‰åœ¨centosç³»ç»Ÿä¸Šè¿è¡Œ perf record -g ï¼Œæ‰§è¡Œä¸€ä¼šå„¿æŒ‰ctrl+cåœæ­¢<br>ï¼ˆ2ï¼‰æŠŠç”Ÿæˆçš„perf.dataï¼ˆé€šå¸¸æ–‡ä»¶ç”Ÿæˆåœ¨å‘½ä»¤æ‰§è¡Œçš„å½“å‰ç›®å½•ä¸‹ï¼Œå½“ç„¶å¯ä»¥é€šè¿‡find | grep perf.dataæˆ– find &#47; -name perf.dataæŸ¥çœ‹è·¯å¾„ï¼‰æ–‡ä»¶æ‹·è´åˆ°å®¹å™¨é‡Œé¢åˆ†æï¼š<br>docker cp perf.data feisky:&#47;tpm<br>docker exec -i -t feisky bash<br>cd &#47;tmp&#47;<br>apt-get update &amp;&amp; apt-get install -y linux-perf linux-tools procps  # å¾ˆè€—æ—¶<br>perf_4.9 report<br>è¿™æ ·å°±å¯ä»¥çœ‹åˆ°å‡½æ•°åäº†<br>","like_count":4},{"had_liked":false,"id":226568,"user_name":"zhushenghang","can_delete":false,"product_type":"c1","uid":1994374,"ip_address":"","ucode":"712CFE335C7CE4","user_header":"https://static001.geekbang.org/account/avatar/00/1e/6e/86/c682976b.jpg","comment_is_top":false,"comment_ctime":1592143483,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"14477045371","product_id":100020901,"comment_content":"å…¶å®ç”Ÿäº§ç¯å¢ƒå‡ºç°åƒµå°¸è¿›ç¨‹æ˜¯å¾ˆéš¾å¤„ç†çš„ï¼Œå°¤å…¶åƒµå°¸è¿›ç¨‹å¾ˆå¤šçš„æƒ…å†µä¸‹ä¸€èˆ¬ç³»ç»Ÿéƒ½å‡ºé—®é¢˜äº†ï¼Œè€Œä¸”æœ‰äº›åƒµå°¸è¿›ç¨‹çš„çˆ¶è¿›ç¨‹è¿˜å¾ˆå¯èƒ½æ˜¯1å·è¿›ç¨‹ã€‚åªèƒ½rebootè§£å†³ã€‚","like_count":3,"discussions":[{"author":{"id":1487998,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqtXSgThiaEiaEqqic5YIJ7v469nCM3VXiccOJ4SxbYjW91ciczuYYEzcTVtYWaWXaokZqShuLdKsXjnFA/132","nickname":"Geek_b85295","note":"","ucode":"51CBB577C255EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":345509,"discussion_content":"åŒï¼åƒµå°¸è¿›ç¨‹çš„çˆ¶è¿›ç¨‹å·²ç»æ˜¯1å·è¿›ç¨‹äº†ï¼Œä¼°è®¡æ˜¯å†…æ ¸æ˜¯å‡ºé¢˜äº†ï¼Œåªèƒ½é‡å¯è§£å†³","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1611730364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571142,"discussion_content":"è¦æ˜¯ç”Ÿäº§çš„ç¯å¢ƒï¼Œä½ å¯ä»¥é€šè¿‡kill -HUP pidå·æŠŠè¿™ä¸ªåƒµå°¸è¿›ç¨‹æŒ‚èµ·æ¥æˆ–è€…æ˜¯kill -s SIGCHLD pidè¿™æ˜¯ çœ‹äº†å¥½å¤šåˆ«çš„ä¸“æ ç»™çš„è§£å†³æ–¹æ¡ˆä½†æ˜¯æ²¡æœ‰æ“ä½œè¿‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652086826,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1061803,"avatar":"https://static001.geekbang.org/account/avatar/00/10/33/ab/d8ba4242.jpg","nickname":"å“’å“’å“’","note":"","ucode":"9378AD329F8AE0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":320371,"discussion_content":"æ˜¯çš„ï¼Œæˆ‘é‡åˆ°çš„åƒµå°¸è¿›ç¨‹é€šå¸¸å°±æ˜¯è¿™ç§æƒ…å†µã€‚ä¸çŸ¥é“é™¤äº†rebootï¼Œè¿˜æœ‰å…¶ä»–çš„æ–¹æ³•å—ï¼Œæˆ–è€…æ€ä¹ˆæ’æŸ¥å‡ºç°è¿™ç§æƒ…å†µçš„åŸå› å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604331185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47561,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1544155520,"is_pvip":false,"replies":[{"id":"17083","content":"å—¯å—¯ å¯ä»¥å†æ€è€ƒä¸€ç‚¹ï¼Œæ¯”å¦‚å‡å¦‚çˆ¶è¿›ç¨‹å·²ç»æ˜¯initäº†åˆè¯¥æ€ä¹ˆåŠï¼Ÿæ³¨æ„initè¿›ç¨‹æ˜¯ä¸ä¼šé€€å‡ºçš„","user_name":"ä½œè€…å›å¤","comment_id":47561,"uid":"1001282","ip_address":"","utype":1,"ctime":1544314429,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":4,"race_medal":0,"score":"14429057408","product_id":100020901,"comment_content":"[D8æ‰“å¡]<br>ä»Šå¤©åˆå­¦äº†ä¸¤ä¸ªä¹–, dstatå¯ä»¥åŒæ—¶çœ‹cpuå’Œio. (ä¸Šç¯‡æ–‡ç« å®‰è£…ååªçœ‹äº†ä¸‹æ•ˆæœ,æ²¡æƒ³åˆ°è¿™ä¸€å±‚).straceå¯ä»¥è¿½è¸ªç³»ç»Ÿè°ƒç”¨.<br>è™½ç„¶æˆ‘ä¹‹å‰ä¹Ÿå†™è¿‡linux cç¨‹åº,ä½†æ˜¯çœ‹åˆ°sys_read&#47;new_sync_read&#47;blkdev_direct_IOç¡®å®ä¸çŸ¥é“æ˜¯æ­£åœ¨å¯¹ç£ç›˜è¿›è¡Œç›´æ¥è¯», å³ä½¿çœ‹äº†ä»£ç  ä¹Ÿä¸çŸ¥é“ O_DIRECT è¿™ä¸ªå‚æ•°å°±æ˜¯ç›´æ¥è¯».<br>è¿˜æ˜¯åŠŸåŠ›å¤ªæµ…,çº¿ç´¢æ‘†åœ¨å‰é¢ä¹ŸæŠ“ä¸ä½,å“ˆå“ˆğŸ˜.<br>----<br>æœ‰äº›åŒå­¦é—®&quot;æœåŠ¡å‡ºç°åƒµå°¸è¿›ç¨‹æ—¶ï¼Œæ€æ ·å¤„ç†&quot;.<br>å…¶å®æˆ‘ä¹Ÿä¸çŸ¥é“æ€ä¹ˆå¤„ç†,ä½†æ˜¯æˆ‘æŠŠé‚£ä¸ªçˆ¶è¿›ç¨‹æ€æ‰, åƒµå°¸è¿›ç¨‹å°±å‡ ä¹æ²¡æœ‰äº†. <br>ä¸Šä¸€ç¯‡æ–‡ç« ä¸­,è€å¸ˆä¹Ÿæåˆ°è¿‡[é€šå¸¸ï¼Œåƒµå°¸è¿›ç¨‹æŒç»­çš„æ—¶é—´éƒ½æ¯”è¾ƒçŸ­ï¼Œåœ¨çˆ¶è¿›ç¨‹å›æ”¶å®ƒçš„èµ„æºåå°±ä¼šæ¶ˆäº¡ï¼›æˆ–è€…åœ¨çˆ¶è¿›ç¨‹é€€å‡ºåï¼Œç”± init è¿›ç¨‹å›æ”¶åä¹Ÿä¼šæ¶ˆäº¡]<br>","like_count":3,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431811,"discussion_content":"å—¯å—¯ å¯ä»¥å†æ€è€ƒä¸€ç‚¹ï¼Œæ¯”å¦‚å‡å¦‚çˆ¶è¿›ç¨‹å·²ç»æ˜¯initäº†åˆè¯¥æ€ä¹ˆåŠï¼Ÿæ³¨æ„initè¿›ç¨‹æ˜¯ä¸ä¼šé€€å‡ºçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544314429,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2180789,"avatar":"https://static001.geekbang.org/account/avatar/00/21/46/b5/1eeea0c3.jpg","nickname":"å°çŒªå¿«è·‘","note":"","ucode":"7C79883DB41392","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309991,"discussion_content":"ä¹‹å‰å°±å‡ºç°äº†ä¸€æ¬¡mysqlè¿›ç¨‹å˜æˆäº†defunctçŠ¶æ€ï¼Œè€Œçˆ¶è¿›ç¨‹æ˜¯ initï¼Œ æ²¡åŠæ³•ï¼Œé‡å¯æœºå™¨è§£å†³çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1601555906,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571143,"discussion_content":"å¯ä»¥é€šè¿‡æŒ‚èµ·æ¥åƒµå°¸è¿›ç¨‹ï¼Œkill -HUP pidå·æˆ–è€…æ˜¯kill -s SIGCHLD pid","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652086943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2147220,"avatar":"https://static001.geekbang.org/account/avatar/00/20/c3/94/e89ebc50.jpg","nickname":"ç¥æ¯“é€é¥","note":"","ucode":"83351CB18B190E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301816,"discussion_content":"é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598669961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82531,"user_name":"Andy Huang","can_delete":false,"product_type":"c1","uid":1105776,"ip_address":"","ucode":"72ACB53CFDBCDA","user_header":"https://static001.geekbang.org/account/avatar/00/10/df/70/52f2ab90.jpg","comment_is_top":false,"comment_ctime":1554249366,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"10144183958","product_id":100020901,"comment_content":"ä¸å¤§ç†è§£iowaitçš„çº¿ç¨‹å¹¶æ²¡æœ‰ä½¿ç”¨CPUçš„ï¼Œä¹Ÿä¸åœ¨å°±ç»ªé˜Ÿåˆ—ã€‚ä¸ºä»€ä¹ˆå´è¦ç®—ä½œæ˜¯CPUçš„è´Ÿè½½","like_count":2,"discussions":[{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387549,"discussion_content":"å†å²åŸå› ï¼Œåˆšå¼€å§‹æœ‰è¿™ä¸ªæŒ‡æ ‡çš„æ—¶å€™ï¼Œè¿›ç¨‹å³ä½¿æ˜¯ä¸å¯ä¸­æ–­çŠ¶æ€ï¼Œä¹Ÿæ˜¯å¾ˆçŸ­æ—¶é—´å†…å°±èƒ½è·å¾—å®ƒæ‰€éœ€çš„èµ„æºçš„ï¼Œè‡ªç„¶å°±è¿›å…¥å°±ç»ªé˜Ÿåˆ—ã€‚æ‰€ä»¥ï¼Œå°±æŠŠä¸å¯ä¸­æ–­çŠ¶æ€çš„è¿›ç¨‹ï¼Œä¹Ÿè®¡ç®—åœ¨ç³»ç»Ÿè´Ÿè½½ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1628238831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1543040,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","nickname":"evan","note":"","ucode":"491B073D5AFEDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317483,"discussion_content":"è´Ÿè½½åŒ…æ‹¬ä¸¤éƒ¨åˆ†: æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹+ä¸å¯ä¸­æ–­çš„è¿›ç¨‹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603551405,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1014615,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/57/18b61282.jpg","nickname":"dullduck","note":"","ucode":"25293558309704","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2710,"discussion_content":"å»ºè®®å¤ä¹ ä¸€ä¸‹ç¬¬äºŒç¯‡ï¼Œæ€ä¹ˆç†è§£å¹³å‡è´Ÿè½½","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1563874730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49086,"user_name":"Apollo","can_delete":false,"product_type":"c1","uid":1183821,"ip_address":"","ucode":"3A0C79CCB21FD9","user_header":"https://static001.geekbang.org/account/avatar/00/12/10/4d/f548bc68.jpg","comment_is_top":false,"comment_ctime":1544601138,"is_pvip":false,"replies":[{"id":"17667","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":49086,"uid":"1001282","ip_address":"","utype":1,"ctime":1544660729,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"10134535730","product_id":100020901,"comment_content":"æ€§èƒ½è¿™ä¸€å—è·Ÿç€è€å¸ˆèµ°ï¼Œç®—æ˜¯å…¥é—¨äº†ï¼Œå¸Œæœ›åé¢æœ‰æ›´é«˜é˜¶çš„æ•™ç¨‹","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432480,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544660729,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47408,"user_name":"è·¯è¿‡","can_delete":false,"product_type":"c1","uid":1316401,"ip_address":"","ucode":"7152C19ED024CC","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/31/ae8adf82.jpg","comment_is_top":false,"comment_ctime":1544142539,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10134077131","product_id":100020901,"comment_content":"ç”¨ubuntu åšå®éªŒå¾ˆé¡ºåˆ©ã€‚è¯·é—®è€å¸ˆï¼Œæ›¾ç»å‘ç”Ÿåƒµå°¸è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æ˜¯1ï¼ŒæœåŠ¡å™¨åˆä¸æ–¹ä¾¿é‡å¯ï¼Œå¦‚ä½•æ¸…ç†è¿™æ ·çš„åƒµå°¸è¿›ç¨‹ï¼Ÿè°¢è°¢è€å¸ˆï¼","like_count":2},{"had_liked":false,"id":253825,"user_name":"Geek_f702be","can_delete":false,"product_type":"c1","uid":1143067,"ip_address":"","ucode":"8E3B5F393C4266","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epumnXjMLYzHkGFhAraIiaAMXpotuUR9PCexBWl25tRLFAvpzs03Hfse4Y1lyeWuryz6z80Fd8AXiaw/132","comment_is_top":false,"comment_ctime":1602907549,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5897874845","product_id":100020901,"comment_content":"æ‰“å¡<br>ç¢°åˆ°iowaitå‡é«˜æ—¶å¯ä»¥ç”¨dstatã€pidstatåˆ†ææ˜¯ä¸æ˜¯ç£ç›˜ioé—®é¢˜ï¼Œç„¶ååœ¨æ‰¾åˆ°é—®é¢˜è¿›ç¨‹ã€‚<br>ç”¨straceåˆ†æç³»ç»Ÿè°ƒç”¨å…³ç³»ï¼Œå¦‚æœæ˜¯åƒµå°¸è¿›ç¨‹åˆ™éœ€è¦å€ŸåŠ©åŸºäºäº‹ä»¶è®°å½•çš„åŠ¨æ€è¿½è¸ªå·¥å…·perf<br>åƒµå°¸è¿›ç¨‹ç”¨pstreeå·¥å…·æ‰¾åˆ°çˆ¶è¿›ç¨‹åè¿›è¡Œåˆ†æ<br>","like_count":1},{"had_liked":false,"id":140297,"user_name":"å˜‰æœ¨","can_delete":false,"product_type":"c1","uid":1317999,"ip_address":"","ucode":"AF4877693782C0","user_header":"https://static001.geekbang.org/account/avatar/00/14/1c/6f/3ea2a599.jpg","comment_is_top":false,"comment_ctime":1570872802,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5865840098","product_id":100020901,"comment_content":"å¯¹iowaitç”šæ˜¯ä¸è§£ï¼Œç„¶åæœäº†ä¸‹ï¼Œçœ‹åˆ°ä¸‹é¢è¿™æ®µåˆ¤æ–­CPUæ—¶é—´çš„  <br>void account_system_time(struct task_struct *p, int hardirq_offset, cputime_t cputime)<br>{<br>\tstruct cpu_usage_stat *cpustat = &amp;kstat_this_cpu.cpustat;<br>\tstruct rq *rq = this_rq();&#47;&#47;åœ¨smpç¯å¢ƒä¸‹è·å–å½“å‰çš„run queue<br>\tcputime64_t tmp;<br><br>\tp-&gt;stime = cputime_add(p-&gt;stime, cputime);<br><br>\t&#47;* Add system time to cpustat. *&#47;<br>\ttmp = cputime_to_cputime64(cputime);<br>\tif (hardirq_count() - hardirq_offset)&#47;&#47;åœ¨åšç¡¬ä¸­æ–­<br>\t\tcpustat-&gt;irq = cputime64_add(cpustat-&gt;irq, tmp);<br>\telse if (softirq_count())&#47;&#47;åœ¨åšè½¯ä¸­æ–­<br>\t\tcpustat-&gt;softirq = cputime64_add(cpustat-&gt;softirq, tmp);<br>\telse if (p != rq-&gt;idle)&#47;&#47;ç¨‹åºåœ¨æ­£å¸¸è¿è¡Œï¼Œéidle<br>\t\tcpustat-&gt;system = cputime64_add(cpustat-&gt;system, tmp);<br>\telse if (atomic_read(&amp;rq-&gt;nr_iowait) &gt; 0)&#47;&#47;æ—¢ä¸åšä¸­æ–­ï¼Œè€Œä¸”åœ¨idleï¼Œé‚£ä¹ˆå°±æ˜¯iowait<br>\t\tcpustat-&gt;iowait = cputime64_add(cpustat-&gt;iowait, tmp);<br>\telse<br>\t\tcpustat-&gt;idle = cputime64_add(cpustat-&gt;idle, tmp);<br>\t&#47;* Account for system time used *&#47;<br>\tacct_update_integrals(p);<br>}<br><br>æ‰€ä»¥å½“CPUç©ºé—²çš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸ªCPUä¸Šæœ‰è¿›ç¨‹åœ¨ç­‰å¾…IOï¼Œé‚£ä¹ˆå°±æ˜¯iowaitï¼Œå¦‚æœæ²¡æœ‰é‚£å°±æ˜¯idle","like_count":1,"discussions":[{"author":{"id":1244665,"avatar":"https://static001.geekbang.org/account/avatar/00/12/fd/f9/61bdb3f8.jpg","nickname":"æœªæ¥å°é¬¼","note":"","ucode":"A0ED87F78E6319","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583919,"discussion_content":"ç‰›xï¼Œè¿™ä¸‹æ˜ç™½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660489366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118286,"user_name":"tinyfool","can_delete":false,"product_type":"c1","uid":1604827,"ip_address":"","ucode":"8B93B6A9FBEA12","user_header":"","comment_is_top":false,"comment_ctime":1564309245,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5859276541","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜è¯·æ•™ä¸‹ï¼šcpuä½¿ç”¨ç‡çš„ç»Ÿè®¡ä¸­ä¸ºä»€ä¹ˆä¼šæœ‰%iowaitè¿™ä¸€é¡¹ï¼Ÿå¤„äºDçŠ¶æ€çš„è¿›ç¨‹å¯¼è‡´cpuä½¿ç”¨ç‡ä¸­%iowaitè¿™ä¸€é¡¹å‡é«˜ï¼Œä½†æ˜¯å¤„äºDçŠ¶æ€çš„è¿›ç¨‹å®é™…ä¸Šå¹¶æœªå ç”¨cpuèµ„æºï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1804356,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/88/44/87cc5c0f.jpg","nickname":"å°å­¦ç”Ÿ","note":"","ucode":"0DBB26031234FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":266569,"discussion_content":"iowate  æ˜¯æŒ‡CPUç­‰å¾…IOçš„æ—¶é—´ï¼Œä½¿ç”¨CPUå°±æ˜¯ä½¿ç”¨CPUçš„æ—¶é—´ç‰‡ï¼ŒèŠ±è´¹äº†æ—¶é—´åœ¨ä¸Šé¢ï¼Œå¤šä»¥CPUä½¿ç”¨ç‡å°±ä¸Šå»äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589533607,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106415,"user_name":"é­ä¹","can_delete":false,"product_type":"c1","uid":1233832,"ip_address":"","ucode":"B6D50018BE67E7","user_header":"https://static001.geekbang.org/account/avatar/00/12/d3/a8/91eed372.jpg","comment_is_top":false,"comment_ctime":1561293869,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5856261165","product_id":100020901,"comment_content":"1.ä¸å¯ä¸­æ–­çŠ¶æ€ç¡çœ è¿›ç¨‹ï¼Œä¸æ˜¯æŒ‡cpuä¸å“åº”ä¸­æ–­ï¼Œè€Œæ˜¯è¿™ä¸ªè¿›ç¨‹ä¸ä¼šç›¸åº”å¼‚æ­¥äº‹ä»¶ï¼ŒåŒ…æ‹¬ä¸­æ–­å’Œä¿¡å·ç­‰ã€‚<br>2.ä¸å¯ä¸­æ–­ç¡çœ è¿›ç¨‹æ˜¯åœ¨ç¡çœ çŠ¶æ€ï¼Œä¸å ç”¨cpuä½¿ç”¨ç‡çš„","like_count":1},{"had_liked":false,"id":64072,"user_name":"é£ä¸€æ ·çš„ç”·å­","can_delete":false,"product_type":"c1","uid":1357985,"ip_address":"","ucode":"F02E87D5630DAB","user_header":"","comment_is_top":false,"comment_ctime":1548659951,"is_pvip":false,"replies":[{"id":"22963","content":"æ‰§è¡Œ docker logs appçœ‹çœ‹ä»€ä¹ˆé”™è¯¯ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548941531,"ip_address":"","comment_id":64072,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5843627247","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæˆ‘åœ¨é˜¿é‡Œäº‘ä¸Šè´­ä¹°çš„æœåŠ¡å™¨Ubuntu18.04.1ï¼Œè¿è¡Œå‘½ä»¤docker run --privileged --name=app -itd feisky&#47;app:iowaitåï¼Œappå°±é€€å‡ºäº†ï¼Œæ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437842,"discussion_content":"æ‰§è¡Œ docker logs appçœ‹çœ‹ä»€ä¹ˆé”™è¯¯ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548941531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571144,"discussion_content":"ä½ å¿…é¡»å•ç‹¬åœ¨å¼„ä¸€å—ç£ç›˜ï¼Œæˆ‘åœ¨é˜¿é‡Œäº‘å°±æ˜¯è¿™æ ·æ“ä½œçš„ï¼Œåˆ«ç”¨sdaçš„ç£ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652087007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1016052,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/80/f4/d340dc44.jpg","nickname":"devin","note":"","ucode":"C9682026B6B1FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":42726,"discussion_content":"åŒæ ·çš„é—®é¢˜ï¼Œè¯·é—®è€å“¥è§£å†³äº†å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572762208,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50308,"user_name":"å‘æ¡æ©™å­ ã€‚","can_delete":false,"product_type":"c1","uid":1259218,"ip_address":"","ucode":"ED076F4534FFED","user_header":"https://static001.geekbang.org/account/avatar/00/13/36/d2/c7357723.jpg","comment_is_top":false,"comment_ctime":1544949040,"is_pvip":false,"replies":[{"id":"18097","content":"å¯èƒ½è·Ÿstressçš„é€‰é¡¹æœ‰å…³ï¼Œä½ çš„å‘½ä»¤æ˜¯ä»€ä¹ˆï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545003574,"ip_address":"","comment_id":50308,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839916336","product_id":100020901,"comment_content":"è€å¸ˆ ï¼Œ æˆ‘è¿™è¾¹ä½¿ç”¨ stress æ¥æ¨¡æ‹Ÿ io çš„è¯·æ±‚ ï¼Œ å‘ç° stress çš„è¿›ç¨‹æ—¶è€Œ D æ—¶è€Œ R ã€‚ ä½†æ˜¯ç”¨ pidstat ã€ iostat  ä»¥åŠ dstat éƒ½æ²¡æœ‰çœ‹åˆ°å¯¹ ç£ç›˜æœ‰  è¯»æ•°æ®è¯·æ±‚ å’Œ å†™æ•°æ®è¯·æ±‚ ã€‚ æ‰€ä»¥è¿™ä¸ªæ˜¯ stress å·¥å…·æœ¬èº«çš„é—®é¢˜ä¹ˆ ï¼Ÿï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432938,"discussion_content":"å¯èƒ½è·Ÿstressçš„é€‰é¡¹æœ‰å…³ï¼Œä½ çš„å‘½ä»¤æ˜¯ä»€ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545003574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47969,"user_name":"èµµå¼ºå¼º","can_delete":false,"product_type":"c1","uid":1073596,"ip_address":"","ucode":"1B8AE07484C69A","user_header":"https://static001.geekbang.org/account/avatar/00/10/61/bc/88a905a5.jpg","comment_is_top":false,"comment_ctime":1544271560,"is_pvip":false,"replies":[{"id":"17073","content":"è¯•è¯•åˆ†æä¸‹çº¿ç¨‹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544312008,"ip_address":"","comment_id":47969,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5839238856","product_id":100020901,"comment_content":"å€ªè€å¸ˆ.å…¬å¸ä¸€ä¸ªæœåŠ¡è°ƒç”¨é‡å¾ˆå¤§ï¼Œtopå‘½ä»¤è¾“å‡ºæ˜¾ç¤ºphp-fpm workerè¿›ç¨‹cpuä½¿ç”¨ç‡å¾ˆé«˜ï¼Œä½†æ˜¯pidstatè¾“å‡ºç¡®æ‰¾ä¸åˆ°è¯¥è¿›ç¨‹ï¼Œè¿›ç¨‹ç¡®å®ä¸€ç›´å­˜åœ¨çš„ï¼Œæ˜¯ä»€ä¹ˆåŸå› å‘¢","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431964,"discussion_content":"è¯•è¯•åˆ†æä¸‹çº¿ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544312008,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571145,"discussion_content":"pidstat -wt çœ‹çœ‹è¿›ç¨‹å’Œçº¿ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652087039,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47614,"user_name":"è·¯è¿‡","can_delete":false,"product_type":"c1","uid":1316401,"ip_address":"","ucode":"7152C19ED024CC","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/31/ae8adf82.jpg","comment_is_top":false,"comment_ctime":1544165587,"is_pvip":false,"replies":[{"id":"17014","content":"å—¯å—¯ äº†è§£ä¸€äº›ç¼–ç¨‹çš„åŸºæœ¬åŠŸå¾ˆæœ‰å¸®åŠ©ï¼Œç‰¹åˆ«æ˜¯å¤æ‚é—®é¢˜çš„æœ€åå¾ˆå¯èƒ½è¦å»åˆ†æå‡½æ•°è°ƒç”¨æ ˆç­‰ï¼Œæ›´éœ€è¦ä¸€å®šçš„ç¼–ç¨‹åŠŸåº•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544193706,"ip_address":"","comment_id":47614,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839132883","product_id":100020901,"comment_content":"å¬è¯¾ç¨‹ï¼Œè¿˜ä¼šéœ€è¦æœ‰ç‚¹ç¼–ç¨‹çš„åŠŸåº•ï¼Œå¦åˆ™è¿™ä¸ªé—®é¢˜æ’æŸ¥èµ·æ¥åªèƒ½ç²—æš´ç®€å•å¤„ç†äº†ã€‚æŠŠé”…ä¸¢ç»™å¼€å‘äº†ã€‚:)","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431832,"discussion_content":"å—¯å—¯ äº†è§£ä¸€äº›ç¼–ç¨‹çš„åŸºæœ¬åŠŸå¾ˆæœ‰å¸®åŠ©ï¼Œç‰¹åˆ«æ˜¯å¤æ‚é—®é¢˜çš„æœ€åå¾ˆå¯èƒ½è¦å»åˆ†æå‡½æ•°è°ƒç”¨æ ˆç­‰ï¼Œæ›´éœ€è¦ä¸€å®šçš„ç¼–ç¨‹åŠŸåº•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544193706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47611,"user_name":"ç ´æ™“","can_delete":false,"product_type":"c1","uid":1335682,"ip_address":"","ucode":"E7862668514699","user_header":"https://static001.geekbang.org/account/avatar/00/14/61/82/96e00fd6.jpg","comment_is_top":false,"comment_ctime":1544165149,"is_pvip":false,"replies":[{"id":"17060","content":"ä¸åŒ…æ‹¬ï¼Œè¿™æ˜¯ä¸¤ä¸ªä¸åŒçš„æŒ‡æ ‡","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544280507,"ip_address":"","comment_id":47611,"utype":1}],"discussion_count":1,"race_medal":4,"score":"5839132445","product_id":100020901,"comment_content":"è€å¸ˆæƒ³é—®ä¸‹å…³äºcpuä½¿ç”¨ç‡è¿™å—çš„æ¦‚å¿µï¼Œsytemçš„cpuä½¿ç”¨ç‡ï¼ŒåŒ…ä¸åŒ…å«iowaitçš„ï¼Ÿä»–ä»¬ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431831,"discussion_content":"ä¸åŒ…æ‹¬ï¼Œè¿™æ˜¯ä¸¤ä¸ªä¸åŒçš„æŒ‡æ ‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544280507,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47601,"user_name":"Adam","can_delete":false,"product_type":"c1","uid":1305633,"ip_address":"","ucode":"338BA720880E4F","user_header":"https://static001.geekbang.org/account/avatar/00/13/ec/21/b0fe1bfd.jpg","comment_is_top":false,"comment_ctime":1544163835,"is_pvip":false,"replies":[{"id":"17048","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544257146,"ip_address":"","comment_id":47601,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839131131","product_id":100020901,"comment_content":"æ•°æ®åº“æœåŠ¡å™¨ï¼Œä¸€èˆ¬ä¸ºäº†å……åˆ†æé«˜æ€§èƒ½ï¼Œå¯èƒ½ä¼šè€ƒè™‘ç»•è¿‡å†…æ ¸ç¼“å†²åŒºï¼Œç”±è‡ªå·±åœ¨ç”¨æˆ·æ€ç©ºé—´å®ç°å¹¶ç®¡ç†IOç¼“å†²åŒºï¼ŒåŒ…æ‹¬ç¼“å­˜æœºåˆ¶ç­‰ã€‚å³åœ¨openç³»ç»Ÿè°ƒç”¨ä¸­å¢åŠ å‚æ•°é€‰é¡¹O_DIRECTï¼Œç”¨å®ƒæ‰“å¼€çš„æ–‡ä»¶ä¾¿å¯ä»¥ç»•è¿‡å†…æ ¸ç¼“å†²åŒºç›´æ¥è®¿é—®ã€‚","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431825,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544257146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47550,"user_name":"hsggj","can_delete":false,"product_type":"c1","uid":1312093,"ip_address":"","ucode":"EA36957C4ED800","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLRCxev73gpRIKKwjvuU2WgFKcZ1rKrGhDSZpUMzRsEgvAEZN00XscsTXp0ib1OrNkn9LgH2hYxX1w/132","comment_is_top":false,"comment_ctime":1544153423,"is_pvip":false,"replies":[{"id":"17082","content":"å¯ä»¥çš„ï¼Œæˆ‘ä»¬æ¡ˆä¾‹é‡Œé¢å·²ç»æœ‰ä¸€ä¸ªPHPçš„ç¤ºä¾‹ï¼Œæˆ‘è¿˜ä¼šåœ¨ç­”ç–‘ä¸­ä»‹ç»Javaçš„ä½¿ç”¨æ–¹æ³•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544313543,"ip_address":"","comment_id":47550,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839120719","product_id":100020901,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸€ä¸‹ï¼Œperfé™¤äº†å¯ä»¥æ£€æµ‹C++ä¹‹å¤–ï¼Œå…¶ä»–çš„ä»£ç å¦‚java,phpçš„é—®é¢˜å¯ä»¥æ£€æµ‹å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431805,"discussion_content":"å¯ä»¥çš„ï¼Œæˆ‘ä»¬æ¡ˆä¾‹é‡Œé¢å·²ç»æœ‰ä¸€ä¸ªPHPçš„ç¤ºä¾‹ï¼Œæˆ‘è¿˜ä¼šåœ¨ç­”ç–‘ä¸­ä»‹ç»Javaçš„ä½¿ç”¨æ–¹æ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544313543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47497,"user_name":"york","can_delete":false,"product_type":"c1","uid":1318852,"ip_address":"","ucode":"EE938B81A7FC04","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epGMibYc0m7cDHMsNRBUur2NPVnlBZFXoNjWomibfjnHeAO3XRt27VaH3WNtdUX11d3uIT1ZHWCxLeg/132","comment_is_top":false,"comment_ctime":1544148216,"is_pvip":false,"replies":[{"id":"17086","content":"ç‚¹å‡»æ–‡ä¸­çš„é“¾æ¥è¿›å…¥github","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544315192,"ip_address":"","comment_id":47497,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839115512","product_id":100020901,"comment_content":"æ¡ˆä¾‹ä¸­çš„appæºç ï¼Œæ€ä¹ˆèƒ½çœ‹å¾—åˆ°ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431784,"discussion_content":"ç‚¹å‡»æ–‡ä¸­çš„é“¾æ¥è¿›å…¥github","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544315192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360596,"user_name":"Geek_b3b8da","can_delete":false,"product_type":"c1","uid":3065276,"ip_address":"æµ™æ±Ÿ","ucode":"5461CD95B1D764","user_header":"","comment_is_top":false,"comment_ctime":1666679734,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1666679734","product_id":100020901,"comment_content":"æˆ‘æ’æŸ¥åƒµå°¸è¿›ç¨‹æ˜¯å…ˆæŸ¥çœ‹topï¼Œçœ‹çœ‹zombieæ˜¯å¦æ˜¾ç¤ºåƒµå°¸è¿›ç¨‹ï¼Œå¦‚æœæœ‰æˆ‘å°±ç›´æ¥ç”¨å‘½ä»¤while true; do ps -A -ostat,ppid,pid,cmd|egrep -e &quot;^[zZ]&quot;; sleep 1; done<br>å»æŸ¥çœ‹ï¼Œæ‰¾åˆ°åƒµå°¸è¿›ç¨‹ä»¥åï¼Œé€šè¿‡pstree -alps|grep åƒµå°¸è¿›ç¨‹çš„åå­—ï¼Œæ‰¾åˆ°è°è°ƒç”¨äº†ä»–ï¼Œç„¶åæ‰¾åˆ°é‚£ä¸ªç¨‹åºç›´æ¥ä¸¢ç»™å¼€å‘è®©ä»–ä»¬è§£å†³","like_count":0},{"had_liked":false,"id":351818,"user_name":"Geek_f93234","can_delete":false,"product_type":"c1","uid":1769504,"ip_address":"","ucode":"1E5DC903A5429E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJGXndj5N66z9BL1ic9GibZzWWgoVeWaWTL2XUnCYic7iba2kAEvN9WfjmlXELD5lqt8IJ1P023N5ZWicg/132","comment_is_top":false,"comment_ctime":1658212286,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1658212286","product_id":100020901,"comment_content":"day8æ‰“å¡","like_count":0},{"had_liked":false,"id":349450,"user_name":"cm","can_delete":false,"product_type":"c1","uid":3032342,"ip_address":"","ucode":"982D0F6F10939F","user_header":"https://static001.geekbang.org/account/avatar/00/2e/45/16/d197f950.jpg","comment_is_top":false,"comment_ctime":1655974827,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1655974827","product_id":100020901,"comment_content":"app çš„ç¡®åœ¨é€šè¿‡ç³»ç»Ÿè°ƒç”¨ sys_read() è¯»å–æ•°æ®ã€‚å¹¶ä¸”ä» new_sync_read å’Œ blkdev_direct_IO  èƒ½çœ‹å‡ºï¼Œè¿›ç¨‹æ­£åœ¨å¯¹ç£ç›˜è¿›è¡Œç›´æ¥è¯»ï¼Œä¹Ÿå°±æ˜¯ç»•è¿‡äº†ç³»ç»Ÿç¼“å­˜ï¼Œæ¯ä¸ªè¯»è¯·æ±‚éƒ½ä¼šä»ç£ç›˜ç›´æ¥è¯»ï¼Œè¿™å°±å¯ä»¥è§£é‡Šæˆ‘ä»¬è§‚å¯Ÿåˆ°çš„ iowait å‡é«˜äº†ã€‚<br><br>æ‚¨å¥½è€å¸ˆï¼Œè¿™å—ä¸å¤ªæ‡‚ï¼Œé€šè¿‡ new_sync_read å’Œ blkdev_direct_IOå°±å¯ä»¥ç¡®å®šè¿›ç¨‹æ˜¯å¯¹ç¡¬ç›˜ç›´æ¥I&#47;Oä¹ˆï¼Ÿæ€ä¹ˆåˆ¤æ–­çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1799168,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/74/00/4da5d547.jpg","nickname":"ğŸ³","note":"","ucode":"3876D4E8CA2364","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577581,"discussion_content":"blkdev_direct_IO  è¿™ä¸ªæ˜¯å†…æ ¸å‡½æ•°ï¼Œéœ€è¦å¯¹å†…æ ¸å‡½æ•° é€»è¾‘æœ‰æ‰€äº†è§£ï¼Œå½“çœ‹åˆ°è¿™ä¸ªå‡½æ•°è‡ªç„¶æ˜ç™½è°ƒç”¨é€»è¾‘ï¼Œä»è€Œåˆ¤æ–­æ˜¯å¯¹ç¡¬ç›˜ç›´æ¥è¿›è¡ŒIOæ“ä½œçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656214783,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342734,"user_name":"conlin","can_delete":false,"product_type":"c1","uid":2645622,"ip_address":"","ucode":"346D8431019AFD","user_header":"","comment_is_top":false,"comment_ctime":1650439446,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1650439446","product_id":100020901,"comment_content":"æˆ‘æ˜¯çš„æ˜¯macè™šæ‹Ÿæœºå®‰è£…çš„ï¼Œæ²¡æœ‰å‡ºç°iowait å‡é«˜ï¼Œæ˜¯å›ºæ€ç¡¬ç›˜ï¼Œæ˜¯ä¸æ˜¯å†™å…¥é€Ÿåº¦å¤ªå¿«äº†ï¼Œæ²¡æœ‰å‡ºç°iowait å‡é«˜","like_count":0},{"had_liked":false,"id":339635,"user_name":"å¤ªé˜³ä¸å†°","can_delete":false,"product_type":"c1","uid":2742520,"ip_address":"","ucode":"C2B97279BD66C7","user_header":"https://static001.geekbang.org/account/avatar/00/29/d8/f8/a775cde7.jpg","comment_is_top":false,"comment_ctime":1648263859,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1648263859","product_id":100020901,"comment_content":"ä¹‹å‰é‡åˆ°è¿‡åƒµå°¸è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æ˜¯1ï¼Œè¿™ä¸ªæ€ä¹ˆå¤„ç†å•Šï¼Œé…åˆdmesgå†…æ ¸è¿˜æœ‰ä¸€å †æŠ¥é”™ï¼›","like_count":0,"discussions":[{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571146,"discussion_content":"å¯ä»¥äº†è§£ä¸€ä¸‹kill -HUPæŒ‚èµ·åƒµå°¸è¿›ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652087112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318255,"user_name":"é’é˜³","can_delete":false,"product_type":"c1","uid":2139807,"ip_address":"","ucode":"3591D366BAB0B9","user_header":"https://static001.geekbang.org/account/avatar/00/20/a6/9f/3c60fffd.jpg","comment_is_top":false,"comment_ctime":1635217116,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1635217116","product_id":100020901,"comment_content":"è€å¸ˆï¼ŒæŒ‰ç…§æ–‡ç« ä¸­çš„ä¾‹å­ioå¤ªé«˜ï¼Œæ•²å‘½ä»¤éƒ½æ²¡æœ‰ååº”äº†æ€ä¹ˆåŠ","like_count":0},{"had_liked":false,"id":318047,"user_name":"è°¢é¾™","can_delete":false,"product_type":"c1","uid":1740156,"ip_address":"","ucode":"C4091937839596","user_header":"https://static001.geekbang.org/account/avatar/00/1a/8d/7c/04e0e83a.jpg","comment_is_top":false,"comment_ctime":1635131887,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635131887","product_id":100020901,"comment_content":"Ubuntu 20.10 çš„perf å·¥å…·æŸ¥çœ‹ ä¸äº† è¿›ç¨‹è°ƒç”¨å…³ç³»å•Šï¼Ÿæœ‰é‡åˆ°æ²¡å•Š","like_count":0},{"had_liked":false,"id":310027,"user_name":"Geek_951841","can_delete":false,"product_type":"c1","uid":1592165,"ip_address":"","ucode":"18A54D42C76866","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLs8SZLLWjyib2Y48iaKVM2CZK6eR17Tp8sJujR1JicfL0icLUzb7sJd1sXYfE8dQAiczHh7NjtLgjjz8g/132","comment_is_top":false,"comment_ctime":1630462128,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630462128","product_id":100020901,"comment_content":"æä¸ªå»ºè®®ï¼Œå¸Œæœ›ä½œè€…å¯ä»¥è®²è§£ä¸€ä¸‹ç³»ç»Ÿè‡ªæœ‰çš„å‘½ä»¤ï¼Œå› ä¸ºåœ¨å¾ˆå¤šç”Ÿäº§ç¯å¢ƒä¸‹æ²¡æ¡ä»¶å®‰è£…ä¸€äº›å¤–éƒ¨å‘½ä»¤ç”¨æ¥åˆ†æã€‚","like_count":0},{"had_liked":false,"id":290820,"user_name":"å¤å¤©","can_delete":false,"product_type":"c1","uid":2542376,"ip_address":"","ucode":"5F224DDAC94DFF","user_header":"https://static001.geekbang.org/account/avatar/00/26/cb/28/21a8a29e.jpg","comment_is_top":false,"comment_ctime":1619768957,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1619768957","product_id":100020901,"comment_content":"æ€»ç»“ä¸€ä¸‹ã€‚è¿™ä¸¤å°èŠ‚æˆ‘ä»¬ä¸»è¦å…³æ³¨ä¸å¯ä¸­æ–­è¿›ç¨‹å’Œåƒµå°¸è¿›ç¨‹ã€‚<br>man ps çœ‹ä¸‹å®ƒä»¬çš„å®šä¹‰<br>D    uninterruptible sleep (usually IO)<br>Z    defunct (&quot;zombie&quot;) process, terminated but not reaped by its parent<br><br>ç³»ç»Ÿå‡ºç°å¤§é‡ä¸å¯ä¸­æ–­è¿›ç¨‹ã€‚é€šå¸¸æ˜¯ IO å¼•èµ·ã€‚<br>é€šè¿‡ top&#47;ps æ¥çœ‹æ€»ä½“çš„æœºå™¨å’Œè¿›ç¨‹çš„çŠ¶æ€ã€‚<br>é€šè¿‡ iostat&#47;dstat æ¥çœ‹ç³»ç»Ÿæ€»ä½“çš„ IO æƒ…å†µã€‚<br>pidstat æ¥å®šä½åˆ°æŸä¸€ä¸ªè¿›ç¨‹é—®é¢˜ã€‚<br>strace&#47;perf æ¥å®šä½åˆ°å‡½æ•°çº§åˆ«ã€‚<br><br>å¦‚æœå‡ºç°å¤§é‡åƒµå°¸é—®é¢˜ã€‚ä¸€èˆ¬æ˜¯ä»£ç  bug å¯¼è‡´çˆ¶è¿›ç¨‹æ²¡æœ‰å›æ”¶å­è¿›ç¨‹ã€‚<br>pstree æ‰¾å‡ºçˆ¶è¿›ç¨‹ã€‚","like_count":0},{"had_liked":false,"id":286924,"user_name":"è°¨å…®è°¨å…®","can_delete":false,"product_type":"c1","uid":1376885,"ip_address":"","ucode":"55712DD3852169","user_header":"https://static001.geekbang.org/account/avatar/00/15/02/75/2839c0bb.jpg","comment_is_top":false,"comment_ctime":1617684245,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1617684245","product_id":100020901,"comment_content":"perf record -g ä¸ºä»€ä¹ˆæ²¡ç”¨","like_count":0,"discussions":[{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571147,"discussion_content":"perf record -g -F 99è¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652087142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":270953,"user_name":"ç–æœˆ","can_delete":false,"product_type":"c1","uid":2367247,"ip_address":"","ucode":"427737A95CAE0C","user_header":"https://static001.geekbang.org/account/avatar/00/24/1f/0f/4fe3788e.jpg","comment_is_top":false,"comment_ctime":1609328460,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609328460","product_id":100020901,"comment_content":"æ¯æ¬¡å¼€å®Œæœ‹é£è€å¸ˆæ–‡ç« ï¼Œåˆ·æ–°æˆ‘å¯¹Linuxçš„è®¤çŸ¥ï¼Œæ„Ÿè§‰å¤§è„‘ä¸å¤Ÿç”¨ï¼Œå“ˆå“ˆå“ˆğŸ˜„ğŸ˜„ğŸ˜„","like_count":0},{"had_liked":false,"id":258252,"user_name":"Geek_f2199f","can_delete":false,"product_type":"c1","uid":2187800,"ip_address":"","ucode":"9D4E80327B0779","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eor3yhoBAvuFADgenib7HYWNEibImD4o7uPfsxicicic3GBzp2MDib6E560DpSMIw2Sl9b4UOglzQicdAoEw/132","comment_is_top":false,"comment_ctime":1604361715,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1604361715","product_id":100020901,"comment_content":"é‚£ä¹ˆå‡ºç°åƒµå°¸è¿›ç¨‹åªèƒ½é‡å¯äº†å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1009527,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/77/c1310aad.jpg","nickname":"å‰‘è¡£æ¸…é£","note":"","ucode":"470CD81F6612F4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336760,"discussion_content":"å¯ä»¥ kill æ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608693147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255609,"user_name":"ä¸€ç²’","can_delete":false,"product_type":"c1","uid":1582813,"ip_address":"","ucode":"FB5F583CC6AE3C","user_header":"https://static001.geekbang.org/account/avatar/00/18/26/dd/d58156b1.jpg","comment_is_top":false,"comment_ctime":1603378648,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1603378648","product_id":100020901,"comment_content":"è¿˜éœ€è¦ç»“åˆæ“ä½œç³»ç»ŸçŸ¥è¯†å¥½å¥½æ¶ˆåŒ–ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":255606,"user_name":"ä¸€ç²’","can_delete":false,"product_type":"c1","uid":1582813,"ip_address":"","ucode":"FB5F583CC6AE3C","user_header":"https://static001.geekbang.org/account/avatar/00/18/26/dd/d58156b1.jpg","comment_is_top":false,"comment_ctime":1603378111,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1603378111","product_id":100020901,"comment_content":"éœ€è¦ä¸€æ•´å—æ—¶é—´æŠŠæ¡ˆä¾‹éƒ½æ‰§è¡Œä¸€é","like_count":0},{"had_liked":false,"id":254559,"user_name":"14155084066","can_delete":false,"product_type":"c1","uid":2245375,"ip_address":"","ucode":"EF5BFE8773578C","user_header":"https://static001.geekbang.org/account/avatar/00/22/42/ff/2a067d5d.jpg","comment_is_top":false,"comment_ctime":1603130909,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603130909","product_id":100020901,"comment_content":"è¿˜æ˜¯perfå¥½ç”¨","like_count":0},{"had_liked":false,"id":237942,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1596010454,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596010454","product_id":100020901,"comment_content":"strace -p 34035<br>strace: Process 34035 attached<br>futex(0x7faa4586d9d0, FUTEX_WAIT, 34037, NULL<br>-------------------<br>straceé™¤äº†è¾“å‡ºä»¥ä¸Šä¿¡æ¯å°±æ²¡ååº”äº†ã€‚ã€‚<br>","like_count":0},{"had_liked":false,"id":237310,"user_name":"ä¹…ä¼´ä½ â—†â—‡ãƒ½é€é¥é£ã","can_delete":false,"product_type":"c1","uid":2062771,"ip_address":"","ucode":"E6AE1EA4798FD7","user_header":"https://static001.geekbang.org/account/avatar/00/1f/79/b3/0ed5741a.jpg","comment_is_top":false,"comment_ctime":1595776416,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595776416","product_id":100020901,"comment_content":"æƒ³è¯·æ•™ä¸€ä¸‹    æˆ‘ä»¬è¿™ä¸ªå½“å‰ç³»ç»Ÿçš„ioè¯»å†™è¾ƒå¤§  æœ‰ä»€ä¹ˆå·¥å…·èƒ½æ£€æŸ¥å‡ºæˆ–è€…è§‚å¯Ÿå‡º    å½“å‰çš„è¿™ä¸ªioé€Ÿç‡æ˜¯å¦å·²ç»è¾¾åˆ°äº†ç“¶é¢ˆï¼Ÿ ç„¶åéœ€è¦å‡çº§é…ç½®ä»€ä¹ˆçš„","like_count":0},{"had_liked":false,"id":230782,"user_name":"ç”Ÿæ´»ä¸å¦‚è¯—","can_delete":false,"product_type":"c1","uid":1139515,"ip_address":"","ucode":"FD48EABEEC52B7","user_header":"https://static001.geekbang.org/account/avatar/00/11/63/3b/c5cd68ab.jpg","comment_is_top":false,"comment_ctime":1593491363,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593491363","product_id":100020901,"comment_content":"å‡ºç°iowaitè¿‡é«˜çš„æ—¶å€™å¹¶ä¸ä¸€å®šæ˜¯ç£ç›˜æ€§èƒ½ç“¶é¢ˆï¼Œæ­¤æ—¶å…ˆé€šè¿‡dstatç­‰åˆ†æç£ç›˜è¯»å†™æ˜¯å¦è¾¾åˆ°ç“¶é¢ˆï¼Œç„¶åå†å®šä½æ˜¯ç£ç›˜æ€§èƒ½é—®é¢˜è¿˜æ˜¯ç¨‹åºä»£ç é—®é¢˜ï¼›ä¹‹åå†è¿›è¡Œé—®é¢˜å®šä½ã€‚","like_count":0},{"had_liked":false,"id":226549,"user_name":"runzexia","can_delete":false,"product_type":"c1","uid":2038259,"ip_address":"","ucode":"E91B1064FF6B68","user_header":"https://static001.geekbang.org/account/avatar/00/1f/19/f3/f015a5ea.jpg","comment_is_top":false,"comment_ctime":1592138261,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592138261","product_id":100020901,"comment_content":"å…¬å¸åœ¨ä½¿ç”¨å®¹å™¨ç¯å¢ƒï¼Œæˆ‘ä»¬æ²¡æœ‰æƒé™è®¿é—®ä¸»æœºã€‚<br>perfåœ¨å®¹å™¨ä¸Šå› ä¸ºå®‰å…¨ç­–ç•¥è¢«ç¦æ­¢ä½¿ç”¨ã€‚<br>å¤§å®¶æœ‰æ²¡æœ‰å¯æ›¿ä»£çš„å·¥å…·å‘¢","like_count":0},{"had_liked":false,"id":224558,"user_name":"é™ˆé–","can_delete":false,"product_type":"c1","uid":1147418,"ip_address":"","ucode":"8C9596A54DB5C8","user_header":"https://static001.geekbang.org/account/avatar/00/11/82/1a/64ec25ff.jpg","comment_is_top":false,"comment_ctime":1591442695,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1591442695","product_id":100020901,"comment_content":"å¿«é€ŸæŸ¥çœ‹åƒµå°¸è¿›ç¨‹<br>ps -eo pid,stat,args | awk &#39;$2~&#47;^Z&#47; { print }&#39;","like_count":0,"discussions":[{"author":{"id":1069269,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","nickname":"doos","note":"","ucode":"7C9AF67F90E65C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571148,"discussion_content":"ps -A -ostat,ppid,pid,cmd|egrep &#34;[zZ]&#34;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652087215,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":209246,"user_name":"kyra","can_delete":false,"product_type":"c1","uid":1241673,"ip_address":"","ucode":"26918E763F1D9A","user_header":"https://static001.geekbang.org/account/avatar/00/12/f2/49/43f222e4.jpg","comment_is_top":false,"comment_ctime":1587523236,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587523236","product_id":100020901,"comment_content":"ä¸‹è½½äº†è€å¸ˆæä¾›çš„é•œåƒï¼Œè¿è¡Œiowaité•œåƒå®¹å™¨ï¼Œä¸ä¼šå¯¼è‡´ioå‡é«˜ï¼Œåªæœ‰åƒµå°¸è¿›ç¨‹ï¼Œä½†æ˜¯è¿è¡Œiowait-fix1ä¼šå‡ºç°æ–‡ç« é‡Œé¢iowaitåº”è¯¥å‡ºç°çš„ç°è±¡ï¼Œioå‡é«˜ï¼Œä¸å¯ä¸­æ–­è¿›ç¨‹ç­‰ï¼Œæ‰€ä»¥æ˜¯ä¸æ˜¯é•œåƒåæ ‡è¯†é”™è¯¯äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":208760,"user_name":"Acter","can_delete":false,"product_type":"c1","uid":1082561,"ip_address":"","ucode":"EF747BEAD2A797","user_header":"https://static001.geekbang.org/account/avatar/00/10/84/c1/dfcad82a.jpg","comment_is_top":false,"comment_ctime":1587433360,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1587433360","product_id":100020901,"comment_content":"â€œå½“ç³»ç»Ÿä¸­åªæœ‰ I&#47;O ç±»å‹çš„è¿›ç¨‹åœ¨è¿è¡Œæ—¶ï¼Œiowait ä¹Ÿä¼šå¾ˆé«˜ï¼Œä½†å®é™…ä¸Šï¼Œç£ç›˜çš„è¯»å†™è¿œæ²¡æœ‰è¾¾åˆ°æ€§èƒ½ç“¶é¢ˆçš„ç¨‹åº¦â€<br>è¿™é‡Œå¯ä»¥ç†è§£æ˜¯cpuå¤„ç†èƒ½åŠ›åˆ°äº†ç“¶é¢ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391095,"discussion_content":"ä¸æ˜¯çš„ã€‚åœ¨ Linux é‡Œï¼Œ%iowait çš„å®šä¹‰æ˜¯ï¼šPercentage of time that the CPU or CPUs were idle during which the system had an outstanding disk I/O request.\n\nä¹Ÿå°±æ˜¯è¯´ï¼Œå‡ºç° iowait çš„å‰ææ˜¯ CPU å¤„äºç©ºé—²çŠ¶æ€ï¼Œå¹¶ä¸”æœ‰è¿˜æœªå®Œæˆçš„ IO è¯·æ±‚ï¼Œæœ‰è¿›ç¨‹å› æ­¤åœ¨ç­‰å¾…ã€‚\n\nå‡è®¾1ï¼ŒCPU ç¹å¿™ã€æ­¤æ—¶ç³»ç»Ÿæœ‰ IO å¤„ç†ï¼ŒCPU ç©ºé—²ã€IO å¤„ç†ä¹ŸåŒæ—¶å®Œæ¯•ï¼Œè¿™ç§æƒ…å†µï¼Œiowait æ˜¯ 0%.\nå‡è®¾2ï¼ŒCPU ç¹å¿™ã€æ­¤æ—¶ç³»ç»Ÿæ²¡æœ‰ IO å¤„ç†ï¼ŒCPU ç©ºé—²ã€IOå¤„ç†åˆ°è¾¾ã€‚è¿™ç§æƒ…å†µï¼Œiowait å°±å˜æˆäº† 50%.\n\næ‰€ä»¥ï¼Œä¸èƒ½æ ¹æ®ä¸€ä¸ª iowait å‡é«˜ï¼Œå°±åˆ¤æ–­ç³»ç»Ÿçš„CPU å¤„ç†èƒ½åŠ›æˆ–è€…ç£ç›˜æœ‰æ€§èƒ½ç“¶é¢ˆäº†ï¼Œè¿˜è¦ç»“åˆå…¶ä»–æŒ‡æ ‡åˆ¤æ–­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630294337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":197194,"user_name":"å…«å°ä¸Š","can_delete":false,"product_type":"c1","uid":1391143,"ip_address":"","ucode":"FB3D74B522C720","user_header":"https://static001.geekbang.org/account/avatar/00/15/3a/27/5d218272.jpg","comment_is_top":false,"comment_ctime":1585362706,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585362706","product_id":100020901,"comment_content":"æƒ³é—®ä¸€ä¸‹ä¸ºä»€ä¹ˆ  strace ä¹‹åï¼Œå°±å˜æˆåƒµå°¸è¿›ç¨‹äº†å‘¢","like_count":0},{"had_liked":false,"id":185050,"user_name":"å½±è™«","can_delete":false,"product_type":"c1","uid":1897097,"ip_address":"","ucode":"A0BD3C13373786","user_header":"https://static001.geekbang.org/account/avatar/00/1c/f2/89/2d2df078.jpg","comment_is_top":false,"comment_ctime":1583471926,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583471926","product_id":100020901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘è¿è¡Œdocker run é‚£ä¸ªå‘½ä»¤çš„æ—¶å€™ï¼Œæœ‰æ—¶å¯ä»¥æˆåŠŸï¼Œæœ‰æ—¶ç›´æ¥æ–­äº†ã€‚æ˜¯ä¸æ˜¯ç½‘ç»œé—®é¢˜","like_count":0},{"had_liked":false,"id":183075,"user_name":"å®‹èƒ–èƒ–","can_delete":false,"product_type":"c1","uid":1857496,"ip_address":"","ucode":"AA828F49CCEABA","user_header":"https://static001.geekbang.org/account/avatar/00/1c/57/d8/e9c8b923.jpg","comment_is_top":false,"comment_ctime":1582948848,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582948848","product_id":100020901,"comment_content":"å‘½ä»¤éƒ½ä¸èƒ½æ­£å¸¸ä½¿ç”¨ï¼špstree   -aps  2044 å’Œ  perf record -g   ã€‚å’Œæˆ‘çš„ç‰ˆæœ¬æœ‰å…³å—ï¼Ÿ<br> pstree -V<br>pstree (PSmisc) 22.6<br>ç‰ˆæƒæ‰€æœ‰ Â© 1993-2005 Werner Almesberger å’Œ Craig Small<br><br>PSmisc æ— ä»»ä½•ä¿è¯ã€‚<br>è¯¥ç¨‹åºä¸ºè‡ªç”±è½¯ä»¶ï¼Œæ¬¢è¿ä½ åœ¨ GNU é€šç”¨å…¬å…±è®¸å¯è¯(GPL) ä¸‹é‡æ–°å‘å¸ƒã€‚<br>è¯¦æƒ…å¯å‚é˜… COPYING æ–‡ä»¶ã€‚<br># perf --version<br>perf version 2.6.32-754.27.1.el6.x86_64.debug<br>","like_count":0},{"had_liked":false,"id":183071,"user_name":"å®‹èƒ–èƒ–","can_delete":false,"product_type":"c1","uid":1857496,"ip_address":"","ucode":"AA828F49CCEABA","user_header":"https://static001.geekbang.org/account/avatar/00/1c/57/d8/e9c8b923.jpg","comment_is_top":false,"comment_ctime":1582948401,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582948401","product_id":100020901,"comment_content":"æ‰“å¡ï¼Œï¼Œåƒµå°¸è¿›ç¨‹ï¼ˆZ çŠ¶æ€ï¼‰ zombie,   &gt;perf record -g   å‘½ä»¤ä¸å¥½ç”¨å‘¢","like_count":0},{"had_liked":false,"id":180408,"user_name":"ç½—è¾‘æ€ç»´","can_delete":false,"product_type":"c1","uid":1318941,"ip_address":"","ucode":"D257A06EDE928E","user_header":"https://static001.geekbang.org/account/avatar/00/14/20/1d/0c1a184c.jpg","comment_is_top":false,"comment_ctime":1582275444,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1582275444","product_id":100020901,"comment_content":"å®éªŒåšåˆ°$ pidstat -d 1 20ï¼Œæ²¡æœ‰ä»»ä½•IOè¯»å†™ï¼Œæœºå™¨å°±å¡ä½äº†ï¼Œæ— æ³•é‡å¯æœºå™¨ï¼Œè¦å¼ºåˆ¶å…³æœºæ‰è¡Œã€‚<br>16æ—¶45åˆ†29ç§’   UID       PID   kB_rd&#47;s   kB_wr&#47;s kB_ccwr&#47;s iodelay  Command<br>16æ—¶45åˆ†30ç§’     0       268     -1.00     -1.00     -1.00       3  jbd2&#47;dm-0-8<br>16æ—¶45åˆ†30ç§’     0       314     -1.00     -1.00     -1.00      15  systemd-journal<br>16æ—¶45åˆ†30ç§’     0      5465     -1.00     -1.00     -1.00      41  app<br>16æ—¶45åˆ†30ç§’     0      5472     -1.00     -1.00     -1.00     599  app<br>16æ—¶45åˆ†30ç§’     0      5474     -1.00     -1.00     -1.00     602  app<br>16æ—¶45åˆ†30ç§’     0      5475     -1.00     -1.00     -1.00      92  app<br>16æ—¶45åˆ†30ç§’     0      5478     -1.00     -1.00     -1.00     561  app<br>16æ—¶45åˆ†30ç§’     0      5481     -1.00     -1.00     -1.00     121  app<br>16æ—¶45åˆ†30ç§’     0      5482     -1.00     -1.00     -1.00     560  app<br>16æ—¶45åˆ†30ç§’     0      5483     -1.00     -1.00     -1.00     570  app<br>16æ—¶45åˆ†30ç§’     0      5487     -1.00     -1.00     -1.00     662  app<br>16æ—¶45åˆ†30ç§’     0      5492     -1.00     -1.00     -1.00     157  app<br>16æ—¶45åˆ†30ç§’     0      5541     -1.00     -1.00     -1.00      39  app<br>16æ—¶45åˆ†30ç§’     0      5542     -1.00     -1.00     -1.00     605  app<br>16æ—¶45åˆ†30ç§’     0      5559     -1.00     -1.00     -1.00     566  app<br>16æ—¶45åˆ†30ç§’     0      5591     -1.00     -1.00     -1.00     540  app<br>16æ—¶45åˆ†30ç§’     0      5593     -1.00     -1.00     -1.00     555  app<br>16æ—¶45åˆ†30ç§’     0      5595     -1.00     -1.00     -1.00     116  app<br>","like_count":0,"discussions":[{"author":{"id":1318941,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/1d/0c1a184c.jpg","nickname":"ç½—è¾‘æ€ç»´","note":"","ucode":"D257A06EDE928E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":180941,"discussion_content":"1 å‘½ä»¤æ‰“é”™æ˜¯dstat -d 1 20ï¼Œä¸æ˜¯pidstat -d 1 20\n2 åæ¥ç”¨iotopå‘½ä»¤å¯ä»¥çœ‹åˆ°ioäº†ï¼›ç³»ç»Ÿå¡ï¼šæ‰§è¡Œdocker stop appåˆæ¢å¤æ­£å¸¸äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582322976,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172360,"user_name":"é£ç¾½æ˜Ÿæ³‰","can_delete":false,"product_type":"c1","uid":1198377,"ip_address":"","ucode":"CBC63AA00C5D70","user_header":"https://static001.geekbang.org/account/avatar/00/12/49/29/bbeccb9f.jpg","comment_is_top":false,"comment_ctime":1579160597,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1579160597","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå¼±å¼±åœ°é—®ä¸ªé—®é¢˜ã€‚åœ¨çˆ¶è¿›ç¨‹é‡Œæ•è·äº†SIGCHILDä¿¡å·ä¹‹åï¼Œè¿˜éœ€è¦è°ƒç”¨wait()æˆ–è€… waitpid()å‡½æ•°å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1188710,"avatar":"https://static001.geekbang.org/account/avatar/00/12/23/66/413c0bb5.jpg","nickname":"LDxy","note":"","ucode":"956432CE7B7761","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293947,"discussion_content":"ä¸éœ€è¦äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595736520,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172271,"user_name":"ã€‚ã€‚ã€‚","can_delete":false,"product_type":"c1","uid":1803113,"ip_address":"","ucode":"F97D05D81A5803","user_header":"https://static001.geekbang.org/account/avatar/00/1b/83/69/a9201594.jpg","comment_is_top":false,"comment_ctime":1579143457,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579143457","product_id":100020901,"comment_content":"æ”¶ç›Šè‰¯å¤š","like_count":0},{"had_liked":false,"id":172191,"user_name":"ç¬‘","can_delete":false,"product_type":"c1","uid":1741098,"ip_address":"","ucode":"689A435818403A","user_header":"https://static001.geekbang.org/account/avatar/00/1a/91/2a/c0fb21fa.jpg","comment_is_top":false,"comment_ctime":1579106439,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579106439","product_id":100020901,"comment_content":"è¡¥æ‰“å¡ï¼ŒDay 7ï¼Œç¢°åˆ° iowait å‡é«˜æ—¶ï¼Œéœ€è¦å…ˆç”¨ dstatã€pidstat ç­‰å·¥å…·ï¼Œç¡®è®¤æ˜¯ä¸æ˜¯ç£ç›˜ I&#47;O çš„é—®é¢˜ï¼Œç„¶åå†æ‰¾æ˜¯å“ªäº›è¿›ç¨‹å¯¼è‡´äº† I&#47;Oï¼Œç„¶åç”¨ ps å‘½ä»¤æ‰¾åˆ° D çŠ¶æ€çš„è¿›ç¨‹ï¼Œå†ç”¨ strace ç›´æ¥åˆ†æè¿™ä¸ªè¿›ç¨‹çš„ç³»ç»Ÿè°ƒç”¨æˆ–è€…ç”¨ perf å·¥å…·æ¥åˆ†æç³»ç»Ÿçš„ CPU æ—¶é’Ÿäº‹ä»¶ã€‚åƒµå°¸è¿›ç¨‹çš„é—®é¢˜ï¼Œä½¿ç”¨ pstree æ‰¾å‡ºçˆ¶è¿›ç¨‹åï¼Œå»æŸ¥çœ‹çˆ¶è¿›ç¨‹çš„ä»£ç ï¼Œæ£€æŸ¥ wait() &#47; waitpid() çš„è°ƒç”¨ï¼Œæˆ–æ˜¯ SIGCHLD ä¿¡å·å¤„ç†å‡½æ•°çš„æ³¨å†Œã€‚","like_count":0},{"had_liked":false,"id":172048,"user_name":"åˆ˜å‹æ·™","can_delete":false,"product_type":"c1","uid":1620058,"ip_address":"","ucode":"97F3A69A308313","user_header":"","comment_is_top":false,"comment_ctime":1579078588,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579078588","product_id":100020901,"comment_content":"D6 æ‰“å¡","like_count":0},{"had_liked":false,"id":166781,"user_name":"èŠ±æ™¨å°‘å¹´","can_delete":false,"product_type":"c1","uid":1098987,"ip_address":"","ucode":"6AA3537A6BA10E","user_header":"https://static001.geekbang.org/account/avatar/00/10/c4/eb/2285a345.jpg","comment_is_top":false,"comment_ctime":1577593792,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577593792","product_id":100020901,"comment_content":"<br>æˆ‘ä»¬å‘ç°iowaitç‰¹åˆ«é«˜ï¼Œè€Œä¸”å‘ç°ä¼šæœ‰å¾ˆå¤šå¤„äºdçŠ¶æ€(ä¸å¯ä¸­æ–­)ï¼Œä½†æ˜¯è¿™ä¸ªçŠ¶æ€çš„è¿›ç¨‹å¹¶ä¼šå˜æˆåƒµå°¸è¿›ç¨‹è€Œæ— æ³•è¿½è¸ªï¼Œæ‰€ä»¥ä½¿ç”¨perf topå‘ç°è¿™ç±»è¿›ç¨‹ä½¿ç”¨ioæ–¹å¼æ˜¯ç›´æ¥io<br>è¿™ç¯‡æ–‡ç« å’Œä¸Šç¯‡æ–‡ç« ä»æ ‡é¢˜åˆ°æ–‡ä¸­ä¸€ç›´åœ¨è®¨è®ºä¸å¯ä¸­æ–­ï¼Œä½†æ˜¯è¿™ä¸ªæ¡ˆä¾‹å¹¶æ²¡æœ‰ç›´æ¥è¯´æ˜ä¸å¯ä¸­æ–­æ˜¯è£¸ioå¯¼è‡´çš„ï¼Œå› ä¸ºæœ€ç»ˆçš„è½è„šç‚¹ç»•è¿‡äº†å¯¹ä¸å¯ä¸­æ–­è¿›ç¨‹çš„æ’æŸ¥ï¼Œæ²¡æœ‰ç»§ç»­è®²ç›´æ¥ioä¸ºä»€ä¹ˆä¼šå¯¼è‡´è¿™ä¹ˆå¤šçš„ä¸å¯ä¸­æ–­è¿›ç¨‹ã€‚<br>æˆ‘çš„ç†è§£æ˜¯ç›´æ¥ioå¯¼è‡´ ioæ€§èƒ½ç›´çº¿ä¸‹é™ï¼Œå¯¼è‡´è¿›ç¨‹å“åº”é€Ÿåº¦å˜æ…¢ï¼Œæ‰€ä»¥ä¸å¯ä¸­æ–­çŠ¶æ€ä¼šæŒç»­æ—¶é—´åŠ é•¿ï¼Œä¸çŸ¥é“è¿™æ ·ç†è§£æ˜¯å¦æ­£ç¡®ï¼Œè¯·è€å¸ˆå¸®å¿™è§£ç­”ã€‚","like_count":0},{"had_liked":false,"id":160770,"user_name":"ç‹åœ£å†›","can_delete":false,"product_type":"c1","uid":1395602,"ip_address":"","ucode":"1E13CF683137D1","user_header":"https://static001.geekbang.org/account/avatar/00/15/4b/92/03338a22.jpg","comment_is_top":false,"comment_ctime":1576030992,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576030992","product_id":100020901,"comment_content":"æˆ‘è¿™è¾¹æµ‹è¯•ç”¨çš„æ˜¯centosï¼Œä½¿ç”¨perfå¯¼å‡ºåçš„çœ‹ä¸åˆ°å…·ä½“å‡½æ•°ï¼Œéƒ½æ˜¯16è¿›åˆ¶å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªä»€ä¹ˆåŸå› å•Š","like_count":0},{"had_liked":false,"id":150836,"user_name":"Shane","can_delete":false,"product_type":"c1","uid":1291344,"ip_address":"","ucode":"322D0A883BAF16","user_header":"https://static001.geekbang.org/account/avatar/00/13/b4/50/c5dad2dc.jpg","comment_is_top":false,"comment_ctime":1573615122,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573615122","product_id":100020901,"comment_content":"è€å¸ˆï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰è¿›ç¨‹ç­‰å¾…IOçš„è€—æ—¶ç»Ÿè®¡å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":143602,"user_name":"è€¿é•¿å­¦","can_delete":false,"product_type":"c1","uid":1309948,"ip_address":"","ucode":"C7A262812854D4","user_header":"https://static001.geekbang.org/account/avatar/00/13/fc/fc/1e235814.jpg","comment_is_top":false,"comment_ctime":1571741957,"is_pvip":false,"replies":[{"id":"55577","content":"å¯èƒ½æ˜¯è®¾ç½®çš„æ–¹æ³•ä¸å¯¹ï¼Œæ¯”å¦‚ulimitå‘½ä»¤åªå¯¹shellåŠè¯¥shellå¯åŠ¨çš„è¿›ç¨‹æœ‰æ•ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1571839841,"ip_address":"","comment_id":143602,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1571741957","product_id":100020901,"comment_content":"æ‚¨å¥½ï¼Œå€ªè€å¸ˆï¼Œé—®ä¸‹ä¸ºä»€ä¹ˆæˆ‘å°†æœ€å¤§è¿›ç¨‹æ•°è®¾ç½®ä¸º500ï¼Œæµ‹è¯•åƒµå°¸è¿›ç¨‹å½±å“æœ€å¤§è¿›ç¨‹æ•°ï¼Œä½†æ˜¯åƒµå°¸è¿›ç¨‹çš„æ•°é‡è¶…è¿‡500äº†ï¼Œè¿™ä¸ªæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå¦‚ä¸‹ï¼š<br># ulimit -a<br>core file size          (blocks, -c) 0<br>data seg size           (kbytes, -d) unlimited<br>scheduling priority             (-e) 0<br>file size               (blocks, -f) unlimited<br>pending signals                 (-i) 14556<br>max locked memory       (kbytes, -l) 64<br>max memory size         (kbytes, -m) unlimited<br>open files                      (-n) 500<br>pipe size            (512 bytes, -p) 8<br>POSIX message queues     (bytes, -q) 819200<br>real-time priority              (-r) 0<br>stack size              (kbytes, -s) 8192<br>cpu time               (seconds, -t) unlimited<br>max user processes              (-u) 500<br>virtual memory          (kbytes, -v) unlimited<br>file locks                      (-x) unlimited<br>topè§‚å¯Ÿçš„è¾“å‡ºï¼š<br># top<br>top - 18:58:26 up 16 min,  3 users,  load average: 0.07, 0.04, 0.00<br>Tasks: 903 total,   2 running,  96 sleeping,   0 stopped, 746 zombie<br>%Cpu(s):  0.0 us,  0.5 sy,  0.0 ni, 99.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st<br>KiB Mem :  3753096 total,  3036368 free,   205036 used,   511692 buff&#47;cache<br>KiB Swap:  2097148 total,  2097148 free,        0 used.  3240780 avail Mem <br><br>   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                                                        <br> 10526 root      20   0  162784   5300   3816 R   1.0  0.1   0:06.56 top                                                            <br> 10024 root      20   0  838280  45480  28864 S   0.3  1.2   0:02.29 dockerd-current                                                <br> 10030 root      20   0  533276  17116   8068 S   0.3  0.5   0:01.59 docker-containe                                                <br> 11317 root      20   0       0      0      0 I   0.3  0.0   0:00.05 kworker&#47;0:1-eve                                                                                          <br>     ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471616,"discussion_content":"å¯èƒ½æ˜¯è®¾ç½®çš„æ–¹æ³•ä¸å¯¹ï¼Œæ¯”å¦‚ulimitå‘½ä»¤åªå¯¹shellåŠè¯¥shellå¯åŠ¨çš„è¿›ç¨‹æœ‰æ•ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571839841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1309948,"avatar":"https://static001.geekbang.org/account/avatar/00/13/fc/fc/1e235814.jpg","nickname":"è€¿é•¿å­¦","note":"","ucode":"C7A262812854D4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41992,"discussion_content":"è€å¸ˆï¼Œè¿›ç¨‹å¯ç”¨çš„å­è¿›ç¨‹ä¸å ç”¨ulimtçš„è¿›ç¨‹å·å—ï¼Ÿå¯åŠ¨å­è¿›ç¨‹çš„pidæ•°é‡æœ‰é™åˆ¶å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572567868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128533,"user_name":"åˆ˜å¾·èª","can_delete":false,"product_type":"c1","uid":1316662,"ip_address":"","ucode":"2968605D077072","user_header":"https://static001.geekbang.org/account/avatar/00/14/17/36/3d8e86e6.jpg","comment_is_top":false,"comment_ctime":1566897020,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1566897020","product_id":100020901,"comment_content":"è€å¸ˆï¼Œä½ å¥½ã€‚æœ‰ä¸ªé—®é¢˜è¯·æ•™ã€‚<br>å½“æˆ‘ä½¿ç”¨dstatæŸ¥çœ‹I&#47;Oæƒ…å†µã€‚ è¾“å‡ºå¦‚ä¸‹ã€‚<br>You did not select any stats, using -cdngy by default.<br>----total-cpu-usage---- -dsk&#47;total- -net&#47;total- ---paging-- ---system--<br>usr sys idl wai hiq siq| read  writ| recv  send|  in   out | int   csw <br>  1   3  67  29   0   0|  28M  103k|   0     0 |   0     0 | 487   716 <br>  0   1   0  99   0   0|  91M    0 | 270B   11k|   0     0 | 340   254 <br>  0   0   0  99   0   0| 111M    0 | 180B  214B|   0     0 | 342   233 <br>  0   1   0  99   0   0| 121M    0 | 120B  214B|   0     0 | 413   358 <br>  0   1   0  99   0   0| 129M   44k| 120B   11k|   0     0 | 405   362 <br>  0   1   0  99   0   0| 101M    0 | 150B  304B|   0     0 | 514   507 <br>  0   1   0  99   0   0| 117M    0 | 180B  214B|   0     0 | 357   244 <br>  0   1   0  99   0   0| 124M    0 | 180B 3266B|   0     0 | 351   236 <br>  0   1   0  99   0   0| 116M    0 |  60B  214B|   0     0 | 414   374 <br>  0   0   0 100   0   0| 104M    0 |  60B  214B|   0     0 | 323   233 <br>  0   1   0  99   0   0| 118M    0 | 180B   11k|   0     0 | 405   376 <br>ä½†æ˜¯å½“æˆ‘ä½¿ç”¨ pidstat -d 1 20å¯»æ‰¾IOé«˜çš„è¿›ç¨‹çš„æ—¶å€™ã€‚è¾“å‡ºæ•°æ®åŸºæœ¬éƒ½æ˜¯-1.<br>Average:      UID       PID   kB_rd&#47;s   kB_wr&#47;s kB_ccwr&#47;s iodelay  Command<br>Average:        0         1     -1.00     -1.00     -1.00      95  systemd<br>Average:        0        55     -1.00     -1.00     -1.00       3  kswapd0<br>Average:        0       356     -1.00     -1.00     -1.00       5  jbd2&#47;sda1-8<br>Average:        0       390     -1.00     -1.00     -1.00      42  systemd-journal<br>Average:        0       416     -1.00     -1.00     -1.00       8  systemd-udevd<br>Average:        0       489     -1.00     -1.00     -1.00      42  loop13<br>Average:        0      1183     -1.00     -1.00     -1.00       9  systemd-logind<br>Average:      111      1204     -1.00     -1.00     -1.00      71  avahi-daemon<br>Average:        0      1208     -1.00     -1.00     -1.00       5  cron<br><br>è¯·é—®è€å¸ˆï¼Œæ•°æ®æ€ä¹ˆéƒ½æ˜¯-1ï¼Œ æ˜¯éƒ½æº¢å‡ºäº†å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1099881,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c8/69/ce605c29.jpg","nickname":"è½¶","note":"","ucode":"FA0483DF79E37D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8404,"discussion_content":"Only root can access disk statistics for processes that they do not own. Try to execute pidstat with sudo.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567997284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127110,"user_name":"NoBody","can_delete":false,"product_type":"c1","uid":1173766,"ip_address":"","ucode":"72E1B4FCDA2469","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/06/038a9cea.jpg","comment_is_top":false,"comment_ctime":1566556176,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566556176","product_id":100020901,"comment_content":"å¥½å¼ºã€‚ã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":126458,"user_name":"é¡ºåˆ©","can_delete":false,"product_type":"c1","uid":1618652,"ip_address":"","ucode":"C904941C8BA6DA","user_header":"https://static001.geekbang.org/account/avatar/00/18/b2/dc/67e0e985.jpg","comment_is_top":false,"comment_ctime":1566388290,"is_pvip":false,"replies":[{"id":"47212","content":"è¯·å‚è€ƒ14ç­”ç–‘ç¯‡","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1566743781,"ip_address":"","comment_id":126458,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566388290","product_id":100020901,"comment_content":"perf recordåˆ†æå‡ºå…¨éƒ¨æ˜¯åå…­è¿›åˆ¶ï¼Œæœ‰æ²¡æœ‰å¾ˆè¯¦ç»†çš„è§£å†³åŠæ³•ï¼Œå‰é¢æœ‰ä¸€ç¯‡åŒå­¦è¯´çš„è§£å†³åŠæ³•ä¸æ˜¯å¾ˆè¯¦ç»†ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463997,"discussion_content":"è¯·å‚è€ƒ14ç­”ç–‘ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566743781,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104784,"user_name":"Butter Fly","can_delete":false,"product_type":"c1","uid":1564473,"ip_address":"","ucode":"D2B488B465FC3C","user_header":"https://static001.geekbang.org/account/avatar/00/17/df/39/6ead11bc.jpg","comment_is_top":false,"comment_ctime":1560836807,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560836807","product_id":100020901,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":98488,"user_name":"æ—è´»æ°‘","can_delete":false,"product_type":"c1","uid":1202213,"ip_address":"","ucode":"F7185C61CAE4D0","user_header":"https://static001.geekbang.org/account/avatar/00/12/58/25/2088864b.jpg","comment_is_top":false,"comment_ctime":1559010277,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559010277","product_id":100020901,"comment_content":"çœ‹äº†ä¸€ä¸‹https:&#47;&#47;github.com&#47;linyimin-bupt&#47;linux-perf-examples&#47;blob&#47;master&#47;high-iowait-process&#47;app.cçš„ä»£ç ï¼Œæ˜¯ä¸æ˜¯é€‰æ‹©çš„æ–‡ä»¶å¤§å°å°äº20 Ã— 64 Ã— 1024 Ã— 1024, å­è¿›ç¨‹æ˜¯ä¸æ˜¯ä¼šä¸€ç›´å¤„äºsub_processçš„whileå¾ªç¯ä¸­ï¼Œä¸ä¼šç»“æŸï¼Ÿ","like_count":0},{"had_liked":false,"id":92032,"user_name":"èƒ–","can_delete":false,"product_type":"c1","uid":1044068,"ip_address":"","ucode":"0EA8F5343CB4F4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/64/2646f6ef.jpg","comment_is_top":false,"comment_ctime":1557158490,"is_pvip":false,"replies":[{"id":"33114","content":"ç”Ÿäº§ç¯å¢ƒå¸¸è§çš„æŒ‡æ ‡éƒ½å¯ä»¥é€šè¿‡ç›‘æ§ç³»ç»Ÿè·å–","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1557324722,"ip_address":"","comment_id":92032,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557158490","product_id":100020901,"comment_content":"ç”Ÿäº§ç¯å¢ƒä¸ç»™rootæƒé™ä¹Ÿä¸ç»™è£…æ€§èƒ½åˆ†æå·¥å…·ï¼Œå¼€å‘åªç»™æ—¥å¿—çš„å¯è¯»æƒé™ï¼Œç”šè‡³åªå…è®¸å°†æ—¥å¿—æ‹·è´åˆ°æœ¬åœ°åˆ†æï¼Œé‡åˆ°è¿™äº›ç±»ä¼¼çš„æ€§èƒ½é—®é¢˜å°±å¾ˆå°´å°¬äº†","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449124,"discussion_content":"ç”Ÿäº§ç¯å¢ƒå¸¸è§çš„æŒ‡æ ‡éƒ½å¯ä»¥é€šè¿‡ç›‘æ§ç³»ç»Ÿè·å–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557324722,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91000,"user_name":"è°","can_delete":false,"product_type":"c1","uid":1517268,"ip_address":"","ucode":"F65760FDD31CEB","user_header":"https://static001.geekbang.org/account/avatar/00/17/26/d4/add17f35.jpg","comment_is_top":false,"comment_ctime":1556780964,"is_pvip":false,"replies":[{"id":"33123","content":"åœ¨Githubä¸Šæœ‰æ‰€æœ‰æ¡ˆä¾‹çš„æºç ï¼šgithub.com&#47;feiskyer&#47;linux-perf-examples","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1557325778,"ip_address":"","comment_id":91000,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556780964","product_id":100020901,"comment_content":"æƒ³ä¿®æ”¹app.c ï¼Œç„¶ådocker commit ä¸€ä¸ªæ–°çš„é•œåƒã€‚ä½†è¿›å…¥å®¹å™¨åï¼Œæ‰¾ä¸åˆ°app.cæ–‡ä»¶ï¼Œåªæœ‰ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶app ,è¯·é—®è€å¸ˆæ€ä¹ˆä¿®æ”¹å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448758,"discussion_content":"åœ¨Githubä¸Šæœ‰æ‰€æœ‰æ¡ˆä¾‹çš„æºç ï¼šgithub.com/feiskyer/linux-perf-examples","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557325778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89175,"user_name":"manatee","can_delete":false,"product_type":"c1","uid":1041112,"ip_address":"","ucode":"708D90E7A265BD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e2/d8/f0562ede.jpg","comment_is_top":false,"comment_ctime":1556098171,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1556098171","product_id":100020901,"comment_content":"è¿Ÿåˆ°æ‰“å¡","like_count":0},{"had_liked":false,"id":88801,"user_name":"å¤§åç‹ç‹¸","can_delete":false,"product_type":"c1","uid":1325678,"ip_address":"","ucode":"5044F89A505C5B","user_header":"https://static001.geekbang.org/account/avatar/00/14/3a/6e/e39e90ca.jpg","comment_is_top":false,"comment_ctime":1556003549,"is_pvip":false,"replies":[{"id":"31953","content":"å¯ä»¥åœ¨çˆ¶è¿›ç¨‹ä¸­SIGCHLDä¿¡å·","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1556113347,"ip_address":"","comment_id":88801,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1556003549","product_id":100020901,"comment_content":"è€å¸ˆ å¦‚æœä¸€ä¸ªç³»ç»Ÿé‡Œé¢å‡ºç°äº†å‡ ä¸ªåƒµå°¸è¿›ç¨‹ï¼Œé™¤äº†killæ‰è¿™ä¸ªè¿›ç¨‹çš„çˆ¶è¿›ç¨‹ä¹‹å¤–ï¼Œè¿˜æœ‰ä»€ä¹ˆå¥½æ–¹æ³•ä¹ˆï¼Ÿä¸é‡å¯è¿›ç¨‹ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447907,"discussion_content":"å¯ä»¥åœ¨çˆ¶è¿›ç¨‹ä¸­SIGCHLDä¿¡å·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556113347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82142,"user_name":"çªè¾¹è‰","can_delete":false,"product_type":"c1","uid":1474664,"ip_address":"","ucode":"C76ACBDAE2EE22","user_header":"https://static001.geekbang.org/account/avatar/00/16/80/68/17806503.jpg","comment_is_top":false,"comment_ctime":1554130408,"is_pvip":false,"replies":[{"id":"29835","content":"å—¯å—¯ï¼Œæœ€å¥½æ˜¯äº†è§£åº”ç”¨çš„å·¥ä½œåŸç†","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1554209843,"ip_address":"","comment_id":82142,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554130408","product_id":100020901,"comment_content":"çœ‹åˆ°è¿™ä¸€èŠ‚å°±å¼€å§‹æ„Ÿè§‰åˆ°äº†ï¼Œè¿ç»´å·¥ä½œå¦‚æœä¸èƒ½çœ‹æ‡‚å¼€å‘çš„ä»£ç å°±å¾ˆéš¾æ·±å…¥ä¸‹å»ï¼Œå¾ˆå¤šæ—¶å€™çŸ¥é“æ˜¯å¼€å‘ä»£ç æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä¸æ‡‚ä»£ç å°±æ²¡æ³•æ˜ç¡®çš„æŒ‡å‡ºé—®é¢˜ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445484,"discussion_content":"å—¯å—¯ï¼Œæœ€å¥½æ˜¯äº†è§£åº”ç”¨çš„å·¥ä½œåŸç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554209843,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73017,"user_name":"AceslupK","can_delete":false,"product_type":"c1","uid":1284474,"ip_address":"","ucode":"048F84D019CBBB","user_header":"https://static001.geekbang.org/account/avatar/00/13/99/7a/558666a5.jpg","comment_is_top":false,"comment_ctime":1551777868,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551777868","product_id":100020901,"comment_content":"å—¯ï¼Œå…ˆæ‰¾åˆ°å“ªäº›è¿›ç¨‹åœ¨å¯¼è‡´ä¸å¯ä¸­æ–­ï¼Œä»£ç è™½ç„¶çœ‹ä¸æ‡‚ï¼Œä½†åº”è¯¥ä¹Ÿæ˜¯ä¸ªé‡Œç¨‹ç¢‘ã€‚","like_count":0},{"had_liked":false,"id":71704,"user_name":"tianyitang","can_delete":false,"product_type":"c1","uid":1440036,"ip_address":"","ucode":"1B7BEBD49E277B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIcgKLQZibvbXn8iaPCibDAtKaOhRxDIcxCaclUaG4mxJ9377noTib9RE8VBakCvicQ8VEHkvfE0UbgCAQ/132","comment_is_top":false,"comment_ctime":1551418459,"is_pvip":false,"replies":[{"id":"26314","content":"ä»€ä¹ˆé”™è¯¯ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1551704474,"ip_address":"","comment_id":71704,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551418459","product_id":100020901,"comment_content":"è€å¸ˆï¼š<br>è¿è¡Œ perf top ï¼Œæç¤ºæ‰“å¼€è€å¸ˆçš„æµ‹è¯•æ¡ˆä¾‹ app å¤±è´¥","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441285,"discussion_content":"ä»€ä¹ˆé”™è¯¯ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551704474,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71669,"user_name":"ä¿¡","can_delete":false,"product_type":"c1","uid":1402598,"ip_address":"","ucode":"7DA2AA0BEFE4AF","user_header":"https://static001.geekbang.org/account/avatar/00/15/66/e6/684026e3.jpg","comment_is_top":false,"comment_ctime":1551409314,"is_pvip":false,"replies":[{"id":"26310","content":"é™¤äº† strace ä¹‹å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šå†…æ ¸çº§çš„å·¥å…·ï¼Œæ¯”å¦‚ perfã€systemtapã€bcc-tools ç­‰éƒ½å¯ä»¥è¯•è¯•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1551703775,"ip_address":"","comment_id":71669,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551409314","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæˆ‘åœ¨ä½¿ç”¨straceå‘½ä»¤ æŸ¥çœ‹java è¿›ç¨‹çš„æ—¶å€™ï¼Œå‡ºç°futex_waitï¼Œç„¶åæ²¡åˆ«çš„è¾“å‡ºäº†ï¼Ÿåƒjava è¿™ç§æƒ³åˆ†æå†…æ ¸è°ƒç”¨æƒ…å†µçš„å·¥å…·è¿˜æœ‰å“ªäº›æ¨èå‘¢","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441267,"discussion_content":"é™¤äº† strace ä¹‹å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šå†…æ ¸çº§çš„å·¥å…·ï¼Œæ¯”å¦‚ perfã€systemtapã€bcc-tools ç­‰éƒ½å¯ä»¥è¯•è¯•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551703775,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":70353,"user_name":"å¹³å®‰å–œä¹","can_delete":false,"product_type":"c1","uid":1102350,"ip_address":"","ucode":"B97D8944B0B035","user_header":"https://static001.geekbang.org/account/avatar/00/10/d2/0e/26bf35a4.jpg","comment_is_top":false,"comment_ctime":1551083116,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551083116","product_id":100020901,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":67743,"user_name":"ç®¡æ¸…éºŸ","can_delete":false,"product_type":"c1","uid":1198013,"ip_address":"","ucode":"7CA1651D0DE257","user_header":"https://static001.geekbang.org/account/avatar/00/12/47/bd/5c34df95.jpg","comment_is_top":false,"comment_ctime":1550238732,"is_pvip":false,"replies":[{"id":"24046","content":"è¿™è·Ÿå¼€æºä¸å¼€æºæ²¡å…³ç³»ï¼Œåƒµå°¸è¿›ç¨‹æ˜¯å·²ç»åœæ­¢çš„è¿›ç¨‹ï¼Œä¸ä¼šå“åº”kill","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550326352,"ip_address":"","comment_id":67743,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550238732","product_id":100020901,"comment_content":"å¦‚æœæ˜¯å¼€æºè½¯ä»¶é€ æˆçš„åƒµå°¸è¿›ç¨‹ï¼Œä½¿ç”¨killæ–¹æ³•å¯ä»¥å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439353,"discussion_content":"è¿™è·Ÿå¼€æºä¸å¼€æºæ²¡å…³ç³»ï¼Œåƒµå°¸è¿›ç¨‹æ˜¯å·²ç»åœæ­¢çš„è¿›ç¨‹ï¼Œä¸ä¼šå“åº”kill","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550326352,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62911,"user_name":"keyboard_chen_-","can_delete":false,"product_type":"c1","uid":1012204,"ip_address":"","ucode":"E95757BEAF5573","user_header":"https://static001.geekbang.org/account/avatar/00/0f/71/ec/bfecf21b.jpg","comment_is_top":false,"comment_ctime":1548206428,"is_pvip":false,"replies":[{"id":"22337","content":"è¿™æ­£æ˜¯æ¡ˆä¾‹ä¸­è¦åˆ†æçš„é—®é¢˜ï¼ˆå®é™…ä¸ŠI&#47;Oæ˜¯æ–°çš„è¿›ç¨‹äº†ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548251874,"ip_address":"","comment_id":62911,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548206428","product_id":100020901,"comment_content":"åƒµå°¸è¿›ç¨‹ä¸æ˜¯ä»£è¡¨å­è¿›ç¨‹ç»“æŸäº†å—ï¼Œä¸ºä»€ä¹ˆè¿˜ç»§ç»­æœ‰IOæ“ä½œï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437397,"discussion_content":"è¿™æ­£æ˜¯æ¡ˆä¾‹ä¸­è¦åˆ†æçš„é—®é¢˜ï¼ˆå®é™…ä¸ŠI/Oæ˜¯æ–°çš„è¿›ç¨‹äº†ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548251874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61976,"user_name":"Something","can_delete":false,"product_type":"c1","uid":1314641,"ip_address":"","ucode":"0772172E3597D3","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/51/ec3a5d28.jpg","comment_is_top":false,"comment_ctime":1547869824,"is_pvip":false,"replies":[{"id":"22142","content":"ä¸æ˜¯ï¼Œç”¨æˆ·è¿›ç¨‹å¯ä»¥é€šè¿‡ç³»ç»Ÿè°ƒç”¨è·Ÿç¡¬ä»¶äº¤äº’","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1548117123,"ip_address":"","comment_id":61976,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547869824","product_id":100020901,"comment_content":"ä¸å¯ä¸­æ–­è¿›ç¨‹æ˜¯ä¸æ˜¯éƒ½æ˜¯å†…æ ¸è¿›ç¨‹ï¼Œç”¨æˆ·è¿›ç¨‹æ˜¯æ²¡æ³•ä¸ç¡¬ä»¶ç›´æ¥äº¤äº’å§ï¼Ÿï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437059,"discussion_content":"ä¸æ˜¯ï¼Œç”¨æˆ·è¿›ç¨‹å¯ä»¥é€šè¿‡ç³»ç»Ÿè°ƒç”¨è·Ÿç¡¬ä»¶äº¤äº’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548117123,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55201,"user_name":"èŠ±å¼€è¶è‡ªæ¥","can_delete":false,"product_type":"c1","uid":1358144,"ip_address":"","ucode":"767D55E7A82975","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKibu8C3CeYGF6JCBribiaEPia5gibaQnj9icryPVwoF6ibosmdicXJIhBEUdn0aDwZQ32oTyJL86DgDswhAg/132","comment_is_top":false,"comment_ctime":1546064162,"is_pvip":false,"replies":[{"id":"20017","content":"çˆ¶è¿›ç¨‹æ˜¯å“ªä¸ªè¿›ç¨‹ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546075630,"ip_address":"","comment_id":55201,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1546064162","product_id":100020901,"comment_content":"æ‰¾åˆ°äº†åƒµæ­»è¿›ç¨‹ä¹‹åï¼Œå¦‚æœçˆ¶è¿›ç¨‹æ˜¯ç³»ç»Ÿçš„è¯ï¼Œæ€ä¹ˆåŠï¼Ÿé‡å¯ï¼Ÿé‡è£…ç³»ç»Ÿï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434696,"discussion_content":"çˆ¶è¿›ç¨‹æ˜¯å“ªä¸ªè¿›ç¨‹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546075630,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1100272,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c9/f0/a35f60a5.jpg","nickname":"Lynn","note":"","ucode":"83A0CF04C7049C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388609,"discussion_content":"è€å¸ˆçˆ¶è¿›ç¨‹æ˜¯1çš„ï¼Œæƒ…å†µä¸‹åº”è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628847126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55197,"user_name":"èŠ±å¼€è¶è‡ªæ¥","can_delete":false,"product_type":"c1","uid":1358144,"ip_address":"","ucode":"767D55E7A82975","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKibu8C3CeYGF6JCBribiaEPia5gibaQnj9icryPVwoF6ibosmdicXJIhBEUdn0aDwZQ32oTyJL86DgDswhAg/132","comment_is_top":false,"comment_ctime":1546063309,"is_pvip":false,"replies":[{"id":"20018","content":"å—¯å—¯ï¼Œæ˜¯çš„ã€‚åªè¦ä¸æ˜¯CPUå¯†é›†å‹åº”ç”¨ï¼Œå¾ˆå¤§æ¦‚ç‡çœ‹åˆ°çš„éƒ½æ˜¯SçŠ¶æ€","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1546075730,"ip_address":"","comment_id":55197,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546063309","product_id":100020901,"comment_content":"æˆ‘å‘ç°æˆ‘å†™çš„ç¨‹åºä¸€ç›´æ˜¯ SçŠ¶æ€è¿›ç¨‹ã€‚è¿™ä¸ªæ˜¯ä¸æ˜¯å› ä¸ºæˆ‘çš„ä¸»çº¿ç¨‹ ä¸€ç›´åœ¨å¾ªç¯ç­‰å¾… å­çº¿ç¨‹å®Œæˆçš„åŸå› ï¼Ÿ<br>å®é™…ä¸Šæˆ‘ä»¬çœ‹åˆ°çš„è¿›ç¨‹çŠ¶æ€å°±æ˜¯ä¸»çº¿ç¨‹çš„çŠ¶æ€ï¼Ÿå­çº¿ç¨‹çš„çŠ¶æ€åº”è¯¥è¦ç”¨ top -Hp &lt;pid&gt; æ¥æ˜¾ç¤ºå§","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434694,"discussion_content":"å—¯å—¯ï¼Œæ˜¯çš„ã€‚åªè¦ä¸æ˜¯CPUå¯†é›†å‹åº”ç”¨ï¼Œå¾ˆå¤§æ¦‚ç‡çœ‹åˆ°çš„éƒ½æ˜¯SçŠ¶æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546075730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54189,"user_name":"maoxiajun","can_delete":false,"product_type":"c1","uid":1198843,"ip_address":"","ucode":"CB4926BC81B3B1","user_header":"https://static001.geekbang.org/account/avatar/00/12/4a/fb/70f14340.jpg","comment_is_top":false,"comment_ctime":1545802089,"is_pvip":false,"replies":[{"id":"19700","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545835127,"ip_address":"","comment_id":54189,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545802089","product_id":100020901,"comment_content":"lesson8æ‰“å¡","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434387,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545835127,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53472,"user_name":"Only now","can_delete":false,"product_type":"c1","uid":1038574,"ip_address":"","ucode":"C617473A03AE27","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d8/ee/6e7c2264.jpg","comment_is_top":false,"comment_ctime":1545652953,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545652953","product_id":100020901,"comment_content":"Mark","like_count":0},{"had_liked":false,"id":50247,"user_name":"å¦‚æœ","can_delete":false,"product_type":"c1","uid":1320638,"ip_address":"","ucode":"138A3EEEE50850","user_header":"","comment_is_top":false,"comment_ctime":1544932837,"is_pvip":false,"replies":[{"id":"18100","content":"è¿™æ˜¯æœ‰å¯èƒ½çš„ï¼Œå› ä¸º<br><br>1. å¯åŠ¨çš„æ—¶å€™è¿˜æ˜¯å…ˆæŠŠæ•°æ®ä»ç£ç›˜è¯»å…¥å†…å­˜ï¼Œè¿™ä¼šå¯¼è‡´ç£ç›˜I&#47;O<br>2. ç³»ç»Ÿç¼“å­˜è¦å ç”¨å†…å­˜ï¼Œè€Œå†…å­˜ä¸ä¸€å®šå……è¶³ã€‚åœ¨å†…å­˜éƒ¨åˆ†ï¼Œè¿˜ä¼šè®²ç¼“å­˜çš„åˆ†æ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1545004023,"ip_address":"","comment_id":50247,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544932837","product_id":100020901,"comment_content":"DAY8ï¼Œæ‰“å¡<br>è€å¸ˆï¼ŒæŒ‰ç…§ä½ çš„æ­¥éª¤åšåˆ°æœ€åä¸€æ­¥ï¼Œä½†æ˜¯è¿è¡Œdocker run --privileged --name=app -itd feisky&#47;app:iowait-fix2ï¼Œç›®æµ‹appçš„SçŠ¶æ€è¿˜æ˜¯Dï¼Œwaä¹Ÿä¼šå¶å°”åˆ°20%ï¼Œè¿™æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Ÿ<br><br>[root@localhost ~]# docker container ls<br>CONTAINER ID        IMAGE                    COMMAND             CREATED              STATUS              PORTS               NAMES<br>b841f420586b        feisky&#47;app:iowait-fix2   &quot;&#47;app&quot;              About a minute ago   Up 59 seconds                           app<br>[root@localhost ~]# top<br>top - 11:55:58 up 47 days,  2:55,  4 users,  load average: 0.85, 0.91, 1.58<br>Tasks: 445 total,   1 running, 444 sleeping,   0 stopped,   0 zombie<br>%Cpu(s):  0.1 us,  9.0 sy,  0.0 ni, 70.2 id, 20.2 wa,  0.0 hi,  0.4 si,  0.0 st<br>KiB Mem :  1868688 total,    70408 free,   335940 used,  1462340 buff&#47;cache<br>KiB Swap:  1048572 total,   257868 free,   790704 used.  1287972 avail Mem <br><br>   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                                           <br> 13928 root      20   0   70044  65364     44 D  21.9  3.5   0:00.66 app                                               <br> 13929 root      20   0   70044  65548     44 D  20.9  3.5   0:00.63 app                                               <br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432925,"discussion_content":"è¿™æ˜¯æœ‰å¯èƒ½çš„ï¼Œå› ä¸º\n\n1. å¯åŠ¨çš„æ—¶å€™è¿˜æ˜¯å…ˆæŠŠæ•°æ®ä»ç£ç›˜è¯»å…¥å†…å­˜ï¼Œè¿™ä¼šå¯¼è‡´ç£ç›˜I/O\n2. ç³»ç»Ÿç¼“å­˜è¦å ç”¨å†…å­˜ï¼Œè€Œå†…å­˜ä¸ä¸€å®šå……è¶³ã€‚åœ¨å†…å­˜éƒ¨åˆ†ï¼Œè¿˜ä¼šè®²ç¼“å­˜çš„åˆ†æ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545004023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49345,"user_name":"åˆ’æ—¶ä»£","can_delete":false,"product_type":"c1","uid":1061454,"ip_address":"","ucode":"9554CE2F83B77F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/2o1Izf2YyJSnnI0ErZ51pYRlnrmibqUTaia3tCU1PjMxuwyXSKOLUYiac2TQ5pd5gNGvS81fVqKWGvDsZLTM8zhWg/132","comment_is_top":false,"comment_ctime":1544668448,"is_pvip":false,"replies":[{"id":"17828","content":"è¿™ä¸ªæ¡ˆä¾‹çš„ç¡®æ˜¯è·Ÿè™šæ‹Ÿæœºé…ç½®æœ‰å…³ï¼Œå¯ä»¥å»çœ‹ä¸‹githubä¸Šçš„é…ç½®é€‰é¡¹ï¼ˆæ–°å¢äº†å‡ ä¸ªé€‰é¡¹è°ƒæ•´ioå‹åŠ›ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544744979,"ip_address":"","comment_id":49345,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544668448","product_id":100020901,"comment_content":"ç›´æ¥åœ¨è™šæ‹Ÿæœºä¸Šè¿è¡Œappï¼Œå‡ºç°äº†ç»ˆç«¯æ‰çº¿ï¼Œè™šæ‹Ÿæœºå†…æŠ¥out of memoryå’Œä¸æ–­æ€æ‰åƒµå°¸è¿›ç¨‹çš„é”™è¯¯è¾“å‡ºï¼Œæˆ‘ä¿®æ”¹äº†ä»£ç å°†iowaitå‡é«˜å’Œåƒµå°¸è¿›ç¨‹åˆ†å¼€æ¨¡æ‹ŸéªŒè¯ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432584,"discussion_content":"è¿™ä¸ªæ¡ˆä¾‹çš„ç¡®æ˜¯è·Ÿè™šæ‹Ÿæœºé…ç½®æœ‰å…³ï¼Œå¯ä»¥å»çœ‹ä¸‹githubä¸Šçš„é…ç½®é€‰é¡¹ï¼ˆæ–°å¢äº†å‡ ä¸ªé€‰é¡¹è°ƒæ•´ioå‹åŠ›ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544744979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48695,"user_name":"Wendy","can_delete":false,"product_type":"c1","uid":1308653,"ip_address":"","ucode":"398DDC96B178F7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/0PT9LxT8D6micyk0YbPuGQElQIeSax7puBBTXJDicJDhUHNibrbJPjEPJBRklVmcKG1PB7YV8JNh0BpsJjSicfibT5A/132","comment_is_top":false,"comment_ctime":1544517266,"is_pvip":false,"replies":[{"id":"17454","content":"nginxç›´æ¥ä¼šæœ‰I&#47;Oå—ï¼Ÿæˆ‘çš„ç†è§£åº”è¯¥è¿˜æ˜¯PHPçš„I&#47;Oå§ã€‚ç¬¬06ç¯‡æ˜¯PHPçš„æ¡ˆä¾‹ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544520530,"ip_address":"","comment_id":48695,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544517266","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘åœ¨ç”Ÿäº§ç¯å¢ƒè·‘äº†lnmpï¼Œå‡å¦‚æ˜¯nginxè¿›ç¨‹ioæ¯”è¾ƒé«˜ï¼Œæˆ‘éœ€è¦å¦‚ä½•å®šä½å‡½æ•°é—®é¢˜ï¼Ÿä¹Ÿå°±æ˜¯å¦‚ä½•é€šè¿‡perfç„¶åå»æºç ä¸­åˆ†æä»£ç ï¼Ÿè€Œä¸”è¿™ä¸ªæºç ä¸åƒä½ çš„dockeré‡Œçš„appæºç ï¼Œæˆ‘çš„æ˜¯nginxï¼Œnginxéœ€è¦çœ‹å“ªä¸ªæºç æ–‡ä»¶ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432314,"discussion_content":"nginxç›´æ¥ä¼šæœ‰I/Oå—ï¼Ÿæˆ‘çš„ç†è§£åº”è¯¥è¿˜æ˜¯PHPçš„I/Oå§ã€‚ç¬¬06ç¯‡æ˜¯PHPçš„æ¡ˆä¾‹ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544520530,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48631,"user_name":"Wendy","can_delete":false,"product_type":"c1","uid":1308653,"ip_address":"","ucode":"398DDC96B178F7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/0PT9LxT8D6micyk0YbPuGQElQIeSax7puBBTXJDicJDhUHNibrbJPjEPJBRklVmcKG1PB7YV8JNh0BpsJjSicfibT5A/132","comment_is_top":false,"comment_ctime":1544501439,"is_pvip":false,"replies":[{"id":"17461","content":"è§£å†³æ€è·¯è¦å…·ä½“é—®é¢˜å…·ä½“åˆ†æï¼Œè·Ÿç“¶é¢ˆçš„ä½ç½®æœ‰å¾ˆå¤§å…³ç³»ï¼Œå¯èƒ½æ˜¯æ”¹ä»£ç ã€æ”¹ç³»ç»Ÿé…ç½®ã€æ”¹è½¯ä»¶çš„æ¶æ„ï¼Œç”šè‡³æ˜¯æ¢ç¡¬ä»¶ç­‰ç­‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544521132,"ip_address":"","comment_id":48631,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544501439","product_id":100020901,"comment_content":"æ€»ç»“äº†ä¸€ä¸‹è¿™å‡ å¤©çš„å­¦ä¹ å¿ƒå¾—ã€‚<br>1.å½“ç³»ç»Ÿå‡ºç°æ€§èƒ½é—®é¢˜ï¼Œé¦–å…ˆé€šè¿‡å‡ ä¸ªå·¥å…·ç¡®è®¤æ˜¯å“ªä¸ªæŒ‡æ ‡å‡ºç°é—®é¢˜ï¼šå¹³å‡è´Ÿè½½ã€cpuä½¿ç”¨ç‡ã€I&#47;Owait<br>2.å·¥å…·ä¸»è¦æœ‰top mpstat vmstat iostat dstat è¿™å‡ ä¸ªå·¥å…·ä¸»è¦æ˜¯çœ‹ç³»ç»Ÿæ•´ä½“çš„æ€§èƒ½çŠ¶å†µ<br>3.ç¡®è®¤ç³»ç»Ÿæ•´ä½“æ€§èƒ½çŠ¶æ€å†µä¹‹åéœ€è¦å†ç¡®è®¤æ˜¯å“ªä¸ªè¿›ç¨‹å¯¼è‡´çš„æŒ‡æ ‡é—®é¢˜ã€‚æ­¤æ—¶ç”¨pidstatæ‰¾å‡ºé—®é¢˜è¿›ç¨‹ <br>4.æ‰¾å‡ºé—®é¢˜è¿›ç¨‹åéœ€è¦é€šè¿‡perfå·¥å…·åˆ†ææ˜¯è¿›ç¨‹çš„å“ªä¸€ä¸ªå‡½æ•°å¯¼è‡´çš„æŒ‡æ ‡é—®é¢˜ã€‚<br>5.æœ€åæ˜¯ä»£ç å±‚çš„åˆ†æï¼šåŠåˆ†æåº”ç”¨é—®é¢˜è¿›ç¨‹çš„æºç ï¼Œçœ‹çœ‹å“ªä¸ªå‡½æ•°å“ªä¸ªä»£ç å¯¼è‡´æŒ‡æ ‡é—®é¢˜ã€‚<br>ï¼ˆåˆ†æè·¯çº¿ï¼šæ‰¾æŒ‡æ ‡ï¼Œæ‰¾è¿›ç¨‹ï¼Œæ‰¾å‡½æ•°ï¼Œæ‰¾æºç ï¼‰<br>   (è§£å†³è·¯çº¿:ä¿®æ”¹æºç ï¼Ÿå‘è€å¸ˆæ±‚è¯)","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432281,"discussion_content":"è§£å†³æ€è·¯è¦å…·ä½“é—®é¢˜å…·ä½“åˆ†æï¼Œè·Ÿç“¶é¢ˆçš„ä½ç½®æœ‰å¾ˆå¤§å…³ç³»ï¼Œå¯èƒ½æ˜¯æ”¹ä»£ç ã€æ”¹ç³»ç»Ÿé…ç½®ã€æ”¹è½¯ä»¶çš„æ¶æ„ï¼Œç”šè‡³æ˜¯æ¢ç¡¬ä»¶ç­‰ç­‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544521132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48420,"user_name":"æ¢ä¸­å","can_delete":false,"product_type":"c1","uid":1006789,"ip_address":"","ucode":"52FE40242CBAD0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/c5/1231d633.jpg","comment_is_top":false,"comment_ctime":1544440889,"is_pvip":true,"replies":[{"id":"17342","content":"å®é™…ä¸Šä½ å»æŸ¥çœ‹æ‰‹å†Œçš„è¯ï¼Œè¿˜ä¼šå‘ç°iowaitç»™å‡ºçš„æ•°å€¼ä¹Ÿä¸å‡†ç¡®ã€‚<br><br>ä½†æ˜¯ï¼Œè¿™ä¸ªæŒ‡æ ‡ä¹Ÿçš„ç¡®ååº”äº†CPUçš„çŠ¶æ€ï¼Œå¹¶ä¸”ä¹Ÿæœ‰å¾ˆå¤§æ¦‚ç‡å…³è”åˆ°I&#47;Oçš„é—®é¢˜ä¸Š","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544488174,"ip_address":"","comment_id":48420,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1544440889","product_id":100020901,"comment_content":"è¿˜æ˜¯æ²¡æœ‰ç†è§£ï¼Œæ—¢ç„¶iowait çš„æ—¶å€™CPU æ˜¯ç©ºé—²çš„ï¼Œä¸ºå•¥è¿˜æä¸ªIowait çš„CPU ä½¿ç”¨ç‡æŒ‡æ ‡å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432173,"discussion_content":"å®é™…ä¸Šä½ å»æŸ¥çœ‹æ‰‹å†Œçš„è¯ï¼Œè¿˜ä¼šå‘ç°iowaitç»™å‡ºçš„æ•°å€¼ä¹Ÿä¸å‡†ç¡®ã€‚\n\nä½†æ˜¯ï¼Œè¿™ä¸ªæŒ‡æ ‡ä¹Ÿçš„ç¡®ååº”äº†CPUçš„çŠ¶æ€ï¼Œå¹¶ä¸”ä¹Ÿæœ‰å¾ˆå¤§æ¦‚ç‡å…³è”åˆ°I/Oçš„é—®é¢˜ä¸Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544488174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48412,"user_name":"ä½è°ƒ","can_delete":false,"product_type":"c1","uid":1087237,"ip_address":"","ucode":"F4F001639091E0","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/05/17cf5840.jpg","comment_is_top":false,"comment_ctime":1544438167,"is_pvip":false,"replies":[{"id":"17344","content":"çš„ç¡®æ˜¯è¿™æ ·","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544488300,"ip_address":"","comment_id":48412,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544438167","product_id":100020901,"comment_content":"æˆ‘ç»å¸¸é‡åˆ°çš„å°±æ˜¯ç­‰å¾…IOï¼Œä¹Ÿå°±æ˜¯æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿé˜»å¡å®Œæˆçš„ï¼Œé‡å¯æ‰€æœ‰æŒ‚è½½çš„ç³»ç»Ÿï¼Œè®©IOé™ä¸‹æ¥ï¼Œæœ‰çš„æ—¶å€™å¼€å‘ä¸åˆç†è¯»å†™æ–‡ä»¶é€ æˆã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432168,"discussion_content":"çš„ç¡®æ˜¯è¿™æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544488300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48411,"user_name":"ä½è°ƒ","can_delete":false,"product_type":"c1","uid":1087237,"ip_address":"","ucode":"F4F001639091E0","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/05/17cf5840.jpg","comment_is_top":false,"comment_ctime":1544438166,"is_pvip":false,"replies":[{"id":"17351","content":"çš„ç¡®æ˜¯è¿™æ ·","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544488771,"ip_address":"","comment_id":48411,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544438166","product_id":100020901,"comment_content":"æˆ‘ç»å¸¸é‡åˆ°çš„å°±æ˜¯ç­‰å¾…IOï¼Œä¹Ÿå°±æ˜¯æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿé˜»å¡å®Œæˆçš„ï¼Œé‡å¯æ‰€æœ‰æŒ‚è½½çš„ç³»ç»Ÿï¼Œè®©IOé™ä¸‹æ¥ï¼Œæœ‰çš„æ—¶å€™å¼€å‘ä¸åˆç†è¯»å†™æ–‡ä»¶é€ æˆã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432167,"discussion_content":"çš„ç¡®æ˜¯è¿™æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544488771,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48306,"user_name":"å€ªè·¯","can_delete":false,"product_type":"c1","uid":1325941,"ip_address":"","ucode":"C7B93EE9001D96","user_header":"https://static001.geekbang.org/account/avatar/00/14/3b/75/1312e1c2.jpg","comment_is_top":false,"comment_ctime":1544416570,"is_pvip":false,"replies":[{"id":"17272","content":"çš„ç¡®åº”è¯¥å…³æ³¨I&#47;Oé—®é¢˜ï¼Œä¸è¿‡æ³¨æ„iowaitæ˜¯ä¸€ä¸ªCPUä½¿ç”¨ç‡æŒ‡æ ‡ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä»CPUçš„è§’åº¦æ¥å¼€å§‹åˆ†æï¼›åé¢I&#47;Oéƒ¨åˆ†è¿˜ä¼šè®²æ€ä¹ˆåˆ†æI&#47;Oé—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544435535,"ip_address":"","comment_id":48306,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544416570","product_id":100020901,"comment_content":"iowaitå¤ªé«˜ï¼Œè¾¾åˆ°cpuä¸ªæ•°ï¼Ÿiowaitæ—¶ï¼Œcpuä¸æ˜¯ç©ºé—²çš„å—ï¼Œè¿™ä¸ªåªèƒ½è¯´æ˜ç£ç›˜è´Ÿè½½é«˜å§ï¼Œä¸ºä»€ä¹ˆè¦å¼ºè°ƒè¾¾åˆ°cpuä¸ªæ•°ï¼Œæˆ‘ç†è§£æ­¤æ—¶cpuèµ„æºæ˜¯ç©ºé—²çš„ï¼Œä¸ç”¨å…³æ³¨cpuè´Ÿè½½ï¼Œè€Œåº”å…³æ³¨ç£ç›˜è´Ÿè½½å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432119,"discussion_content":"çš„ç¡®åº”è¯¥å…³æ³¨I/Oé—®é¢˜ï¼Œä¸è¿‡æ³¨æ„iowaitæ˜¯ä¸€ä¸ªCPUä½¿ç”¨ç‡æŒ‡æ ‡ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä»CPUçš„è§’åº¦æ¥å¼€å§‹åˆ†æï¼›åé¢I/Oéƒ¨åˆ†è¿˜ä¼šè®²æ€ä¹ˆåˆ†æI/Oé—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544435535,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48245,"user_name":"kakasir","can_delete":false,"product_type":"c1","uid":1316615,"ip_address":"","ucode":"21F9742D3E63B3","user_header":"https://static001.geekbang.org/account/avatar/00/14/17/07/83f030c9.jpg","comment_is_top":false,"comment_ctime":1544405934,"is_pvip":false,"replies":[{"id":"17281","content":"å®‰è£…åŒ…æ¨èä½¿ç”¨å›½å†…çš„é•œåƒæºï¼Œå¯ä»¥ç½‘ç»œæœç´¢ä¸‹å®ƒä»¬çš„ç”¨æ³•","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544436693,"ip_address":"","comment_id":48245,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544405934","product_id":100020901,"comment_content":"æ‰“å¡ï¼Œåœ¨ä¸Šç­è·¯ä¸Šé˜…è¯»å­¦ä¹ æ€è·¯ï¼Œæ™šä¸Šå›å®¶å®‰è£…ç¯å¢ƒç»ƒä¹ ï¼Œä½†æ˜¯æ–°åšçš„è™šæ‹Ÿæœºï¼Œä»€ä¹ˆå·¥å…·éƒ½æ²¡æœ‰ï¼Œç½‘ç»œä¸å¥½ï¼Œå®‰è£…è€æ˜¯ä¸æˆåŠŸå¾ˆæ˜¯éƒé—·","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432085,"discussion_content":"å®‰è£…åŒ…æ¨èä½¿ç”¨å›½å†…çš„é•œåƒæºï¼Œå¯ä»¥ç½‘ç»œæœç´¢ä¸‹å®ƒä»¬çš„ç”¨æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544436693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48056,"user_name":"ç‹æ¬¢_é˜¿å¸ƒ","can_delete":false,"product_type":"c1","uid":1006824,"ip_address":"","ucode":"CE6DC8232ACD75","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM5t5Zv2lCcVc9PwGMm9DiaIZRMaKTwC77yfPV6S8Se0ZA9ebFgGaC6ppxd6oOxcx9H9zKB5PLIZbtfPGtjLib2yiaC/132","comment_is_top":false,"comment_ctime":1544336333,"is_pvip":false,"replies":[{"id":"17290","content":"ä½ æ˜¯æŒ‡å†…æ ¸crashå—ï¼Ÿè¿™ä¸€å—ä¸€èˆ¬æ˜¯æ˜¯bugè€Œä¸æ˜¯æ€§èƒ½å¯¼è‡´çš„ï¼Œä¸“æ æ²¡æœ‰æ¶‰åŠ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544437154,"ip_address":"","comment_id":48056,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544336333","product_id":100020901,"comment_content":"è¯·é—®è€å¸ˆ è¯¾ç¨‹ä¼šå®‰æ’ linux crashçš„åˆ†æä¹ˆ æˆ‘è¿™è¾¹æœ‰ä¸ªlinux crash çš„é—®é¢˜ ä¸çŸ¥é“å¦‚ä½•å®šä½","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432011,"discussion_content":"ä½ æ˜¯æŒ‡å†…æ ¸crashå—ï¼Ÿè¿™ä¸€å—ä¸€èˆ¬æ˜¯æ˜¯bugè€Œä¸æ˜¯æ€§èƒ½å¯¼è‡´çš„ï¼Œä¸“æ æ²¡æœ‰æ¶‰åŠ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544437154,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47976,"user_name":"çŒªå°¾å·´","can_delete":false,"product_type":"c1","uid":1169487,"ip_address":"","ucode":"4BDA1DB1A8A1B3","user_header":"https://static001.geekbang.org/account/avatar/00/11/d8/4f/4ec15857.jpg","comment_is_top":false,"comment_ctime":1544275442,"is_pvip":false,"replies":[{"id":"17072","content":"çœ‹è¿™äº›å†…æ ¸å‡½æ•°çš„åå­—","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544311972,"ip_address":"","comment_id":47976,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544275442","product_id":100020901,"comment_content":"app çš„ç¡®åœ¨é€šè¿‡ç³»ç»Ÿè°ƒç”¨ sys_read() è¯»å–æ•°æ®ã€‚å¹¶ä¸”ä» new_sync_read å’Œ blkdev_direct_IO èƒ½çœ‹å‡ºï¼Œè¿›ç¨‹æ­£åœ¨å¯¹ç£ç›˜è¿›è¡Œç›´æ¥è¯»ã€‚   è¿™ä¸€éƒ¨åˆ†æ€ä¹ˆå°±èƒ½ç›´æ¥çœ‹å‡ºæ˜¯å¯¹ç£ç›˜ç›´æ¥è¯»å‘¢ã€‚è¿˜è¯·è€å¸ˆæŒ‡æ•™","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431966,"discussion_content":"çœ‹è¿™äº›å†…æ ¸å‡½æ•°çš„åå­—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544311972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47916,"user_name":"bluefantasy1","can_delete":false,"product_type":"c1","uid":1106810,"ip_address":"","ucode":"83440E87C4EED3","user_header":"","comment_is_top":false,"comment_ctime":1544256301,"is_pvip":false,"replies":[{"id":"17058","content":"JVMæœ‰è‡ªå·±çš„å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œä½ å¯ä»¥ä½¿ç”¨JAVAè‡ªå¸¦çš„å†…å­˜å·¥å…·æ¥åˆ†æï¼Œæ¯”å¦‚jmapã€jstatç­‰","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544279817,"ip_address":"","comment_id":47916,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544256301","product_id":100020901,"comment_content":"è¯·æ•™è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼šLinuxé‡Œçš„ä¸€ä¸ªJavaè¿›ç¨‹ï¼Œæˆ‘é€šè¿‡topå‘½ä»¤çš„RESåˆ—çœ‹åˆ°å®ƒå ç”¨çš„å†…å­˜æ˜¯390M,æˆ‘é€šè¿‡Javaçš„ç›‘æ§å·¥å…·çœ‹åˆ°è¿›ç¨‹å ç”¨çš„å †å†…å­˜æ˜¯70Mï¼Œéå †å†…å­˜æ˜¯110Mã€‚åŠ èµ·æ¥æ‰180Må‘€ã€‚æˆ‘æƒ³çŸ¥é“å‰©ä½™çš„210Mæ˜¯æ€ä¹ˆå ç”¨çš„ã€‚è¯·é—®è€å¸ˆï¼Œæœ‰ä»€ä¹ˆå·¥å…·å¯ä»¥æŸ¥çœ‹ä¸€ä¸ªè¿›ç¨‹å ç”¨å†…å­˜çš„è¯¦ç»†æƒ…å†µã€‚ä¸åƒtopå‘½ä»¤é‚£æ ·åªæ˜¾ç¤ºå ç”¨çš„å†…å­˜æ€»é‡ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431944,"discussion_content":"JVMæœ‰è‡ªå·±çš„å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œä½ å¯ä»¥ä½¿ç”¨JAVAè‡ªå¸¦çš„å†…å­˜å·¥å…·æ¥åˆ†æï¼Œæ¯”å¦‚jmapã€jstatç­‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544279817,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47899,"user_name":"Goal","can_delete":false,"product_type":"c1","uid":1307012,"ip_address":"","ucode":"C337CD4C7E07B0","user_header":"https://static001.geekbang.org/account/avatar/00/13/f1/84/7d21bd9e.jpg","comment_is_top":false,"comment_ctime":1544250913,"is_pvip":false,"replies":[{"id":"17041","content":"å…¶å®å„ç§Linuxç³»ç»Ÿéƒ½æ˜¯ç±»ä¼¼çš„ï¼ŒUbuntuçš„å¥½å¤„æ˜¯åŒ…å«çš„è½¯ä»¶åŒ…ç‰ˆæœ¬æ¯”è¾ƒæ–°ï¼Œé€‚åˆåœ¨å­¦ä¹ çš„æ—¶å€™ä½¿ç”¨","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544255194,"ip_address":"","comment_id":47899,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544250913","product_id":100020901,"comment_content":"ä¸ºä»€ä¹ˆç”¨ ubuntu è¿™ä¸ªç³»ç»Ÿï¼Œå¤ªéº»çƒ¦äº†å§","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431934,"discussion_content":"å…¶å®å„ç§Linuxç³»ç»Ÿéƒ½æ˜¯ç±»ä¼¼çš„ï¼ŒUbuntuçš„å¥½å¤„æ˜¯åŒ…å«çš„è½¯ä»¶åŒ…ç‰ˆæœ¬æ¯”è¾ƒæ–°ï¼Œé€‚åˆåœ¨å­¦ä¹ çš„æ—¶å€™ä½¿ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544255194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47854,"user_name":"mark","can_delete":false,"product_type":"c1","uid":1332461,"ip_address":"","ucode":"7135BC57978AAA","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ6U2qqpFnTbI6gn864YdOIxebTOoJdR6ibwYfUQxwXtl9KjUOJfdJ2aWgsUBYyj5jKqUESluKcUMg/132","comment_is_top":false,"comment_ctime":1544236727,"is_pvip":false,"replies":[{"id":"17044","content":"å—¯å—¯ï¼Œæ€è·¯å’ŒåŸç†æ˜¯ç›¸é€šçš„","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544255967,"ip_address":"","comment_id":47854,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544236727","product_id":100020901,"comment_content":"æ¡ˆä¾‹æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¸ç”Ÿäº§ç¯å¢ƒå®æˆ˜è¿˜æ˜¯æœ‰æ¯”è¾ƒå¤§çš„å·®è·ï¼Œä¸è¿‡å°±å­¦ä¹ æ¥è¯´ï¼Œé‡è¦çš„æ˜¯æ€è·¯ä¸åŸç†ï¼Œè®²çš„éƒ½æ¯”è¾ƒæ¥åœ°æ°”","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431912,"discussion_content":"å—¯å—¯ï¼Œæ€è·¯å’ŒåŸç†æ˜¯ç›¸é€šçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544255967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47624,"user_name":"mj4ever","can_delete":false,"product_type":"c1","uid":1005549,"ip_address":"","ucode":"73028E537099CC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/ed/d50de13c.jpg","comment_is_top":false,"comment_ctime":1544166635,"is_pvip":true,"replies":[{"id":"17013","content":"ğŸ‘ æ€è·¯å¾ˆæ­£ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544193565,"ip_address":"","comment_id":47624,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544166635","product_id":100020901,"comment_content":"é€šè¿‡æœ¬ç¯‡çŸ¥è¯†å®è·µï¼Œè°ˆè°ˆå­¦ä¹ æ„Ÿå—ï¼š<br>1ã€åœ¨ä½¿ç”¨perfè¿›ä¸€æ­¥æ’æŸ¥ä»£ç æ—¶ï¼Œç”±äºå¯¹I&#47;Oæ·±å±‚æ¬¡çŸ¥è¯†ä¸äº†è§£ï¼Œæ‰€ä»¥ï¼Œæ— æ³•è¿›è¡Œåˆ†æ<br>2ã€çœ‹åˆ°æœ‰äººç•™è¨€â€œç›´æ¥è¯»å†™ç£ç›˜ä¸ºä»€ä¹ˆå¯¹æ•°æ®åº“ç¨‹åºæ›´å‹å¥½â€ ä»¥åŠ æ–‡ç« ä¸­æåˆ°â€œnew_sync_readâ€ &amp; â€œblkdev_direct_IOâ€ï¼Œå°±å»ç™¾åº¦äº†ä¸‹ï¼Œæ‰¾åˆ°äº†è¿™ç¯‡æ–‡ç« ã€ŠLinux ä¸­ç›´æ¥ I&#47;O æœºåˆ¶çš„ä»‹ç»ã€‹ï¼Œhttps:&#47;&#47;www.ibm.com&#47;developerworks&#47;cn&#47;linux&#47;l-cn-directio&#47;<br>3ã€æ–‡ç« ä¸­è®²è§£äº† ç¼“å­˜I&#47;Oã€è‡ªç¼“å­˜åº”ç”¨ç¨‹åºã€ç›´æ¥I&#47;OæŠ€æœ¯ã€å¼‚æ­¥è®¿é—®æ–‡ä»¶æ–¹å¼ç­‰çŸ¥è¯†ï¼Œèƒ½çœ‹æ‡‚ä¸€äº›ï¼Œè¿˜è°ˆä¸ä¸Šæ·±å…¥ç†è§£ï¼Œä½†æ˜¯å¯ä»¥å›ç­”ä¸Šé¢çš„ä¸€äº›é—®é¢˜ï¼š<br>ï¼ˆ1ï¼‰é€šå¸¸æƒ…å†µä¸‹ï¼Œç¼“å­˜I&#47;Oä¼šæé«˜æ€§èƒ½ï¼Œä½†æ˜¯å¯¹äºæ•°æ®åº“ç±»å‹çš„è½¯ä»¶ï¼Œå®ƒä¼šæ¯”æ“ä½œç³»ç»Ÿæ›´äº†è§£æ•°æ®åº“ä¸­å­˜æ”¾çš„æ•°æ®ï¼Œå¯ä»¥æä¾›ä¸€ç§æ›´æœ‰æ•ˆçš„æœºåˆ¶ï¼ˆå¦‚è‡ªç¼“å­˜åº”ç”¨ç¨‹åºï¼‰æ¥æé«˜æ•°æ®åº“ä¸­æ•°æ®çš„å­˜å–æ€§èƒ½<br>ï¼ˆ2ï¼‰è¦åœ¨å—è®¾å¤‡ä¸­æ‰§è¡Œç›´æ¥ I&#47;Oï¼Œè¿›ç¨‹å¿…é¡»åœ¨æ‰“å¼€æ–‡ä»¶çš„æ—¶å€™è®¾ç½®å¯¹æ–‡ä»¶çš„è®¿é—®æ¨¡å¼ä¸º O_DIRECT<br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431838,"discussion_content":"ğŸ‘ æ€è·¯å¾ˆæ­£ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544193565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47598,"user_name":"è·¯è¿‡","can_delete":false,"product_type":"c1","uid":1316401,"ip_address":"","ucode":"7152C19ED024CC","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/31/ae8adf82.jpg","comment_is_top":false,"comment_ctime":1544163426,"is_pvip":false,"replies":[{"id":"17081","content":"å…¶ä»–çš„å†…æ ¸ç¬¦å·ä¹Ÿéƒ½æ²¡æœ‰ï¼Ÿçœ‹ä¸€ä¸‹recordç•Œé¢çš„æœ€åä¸€è¡Œï¼Œæœ‰æ²¡æœ‰è­¦å‘Šä¿¡æ¯ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544313367,"ip_address":"","comment_id":47598,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544163426","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæˆ‘ä½¿ç”¨perf record -gå‘½ä»¤æ”¶é›†ä¿¡æ¯äº†ã€‚æ”¶é›†äº†å¾ˆå¤šæ¬¡ï¼Œæ¯æ¬¡éƒ½æ˜¯commandåˆ—ä¸ºswapperçš„å·¦ä¾§æœ‰åŠ å·ï¼Œè€Œä¸ºappæˆ–å…¶ä»–çš„ï¼Œéƒ½æ²¡æœ‰åŠ å·ã€‚ä½†å¯ä»¥åœ¨symbolåˆ—ï¼Œçœ‹åˆ°sys_read,new_sync_readï¼Œblkdev_read_iterç­‰ä¿¡æ¯ã€‚æˆ‘çš„ç³»ç»Ÿä¹Ÿç”¨Ubuntu 18.04. ä¸çŸ¥é“ä¸ºä½•ä¸èƒ½è¿˜åŸæ‚¨çš„å®ç°åœºæ™¯ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431824,"discussion_content":"å…¶ä»–çš„å†…æ ¸ç¬¦å·ä¹Ÿéƒ½æ²¡æœ‰ï¼Ÿçœ‹ä¸€ä¸‹recordç•Œé¢çš„æœ€åä¸€è¡Œï¼Œæœ‰æ²¡æœ‰è­¦å‘Šä¿¡æ¯ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544313367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47585,"user_name":"berryfl","can_delete":false,"product_type":"c1","uid":1014479,"ip_address":"","ucode":"E9896F6EBC9A72","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLz5feictl6uxOFeth2zrO7LPOZKk0mvzIBYD9ic5EyGB39dicBbkYsIYoqqBsibJFo0fDicxN0CUt2dAQ/132","comment_is_top":false,"comment_ctime":1544159241,"is_pvip":false,"replies":[{"id":"17080","content":"å—¯å—¯ å¥½å»ºè®®ï¼Œæˆ‘åŠ åˆ°æ¡ˆä¾‹é‡Œé¢å»","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544313304,"ip_address":"","comment_id":47585,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544159241","product_id":100020901,"comment_content":"æœ‰äº›ç£ç›˜ä¸æ˜¯sdæˆ–è€…xvdå‰ç¼€ï¼Œæ¯”å¦‚AWSçš„æ–°å®ä¾‹æ˜¯ä»¥nvmeä½œä¸ºå‰ç¼€ï¼Œå»ºè®®ç•™ä¸€ä¸ªå¯é€‰çš„å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šå—è®¾å¤‡ï¼Œæœ‰éœ€è¦çš„è¯»è€…ä¸ç”¨è‡ªå·±ç¼–è¯‘å’Œæ‰“åŒ…","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431818,"discussion_content":"å—¯å—¯ å¥½å»ºè®®ï¼Œæˆ‘åŠ åˆ°æ¡ˆä¾‹é‡Œé¢å»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544313304,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47536,"user_name":"hsggj","can_delete":false,"product_type":"c1","uid":1312093,"ip_address":"","ucode":"EA36957C4ED800","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLRCxev73gpRIKKwjvuU2WgFKcZ1rKrGhDSZpUMzRsEgvAEZN00XscsTXp0ib1OrNkn9LgH2hYxX1w/132","comment_is_top":false,"comment_ctime":1544152333,"is_pvip":false,"replies":[{"id":"17085","content":"ä¸ä¼š","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1544314716,"ip_address":"","comment_id":47536,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544152333","product_id":100020901,"comment_content":"è€å¸ˆï¼Œubuntu 16.04ä¸Šé¢è¿è¡Œperfæ—¶æç¤ºé”™è¯¯ã€‚è¿™ä¸ªå®‰è£…ä¸ä¼šå¯¹å†…æ ¸é€ æˆå½±å“å§ï¼Ÿ<br>WARNING: perf not found for kernel 4.4.0-112<br>  You may need to install the following packages for this specific kernel:<br>    linux-tools-4.4.0-112-generic<br>    linux-cloud-tools-4.4.0-112-generic<br>  You may also want to install one of the following packages to keep up to date:<br>    linux-tools-generic<br>    linux-cloud-tools-generic","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431799,"discussion_content":"ä¸ä¼š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544314716,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47518,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1544149558,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544149558","product_id":100020901,"comment_content":"è€å¸ˆï¼Œä½ é‚£ä¸ªpstree -aps åƒµå°¸è¿›ç¨‹ä¹‹å‰æ˜¯ä¸æ˜¯åº”è¯¥æ‰§è¡Œps -A -o stat,ppid,pid,cmd | grep -e &#39;^[Zz]&#39;æ‰¾å‡ºå¯¹åº”çš„åƒµå°¸ï¼Œè¿™ä¸ªæ–‡ç« æ²¡æœ‰è¯´æ˜ï¼Œçœ‹çš„æœ‰ç‚¹æ‡µã€‚","like_count":0},{"had_liked":false,"id":47470,"user_name":"Geek_101627","can_delete":false,"product_type":"c1","uid":1070389,"ip_address":"","ucode":"F246019019F1CB","user_header":"https://static001.geekbang.org/account/avatar/00/10/55/35/09e7dfde.jpg","comment_is_top":false,"comment_ctime":1544146525,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544146525","product_id":100020901,"comment_content":"D9æ‰“å¡","like_count":0},{"had_liked":false,"id":47462,"user_name":"Jerry","can_delete":false,"product_type":"c1","uid":1088756,"ip_address":"","ucode":"4213083D076AB8","user_header":"https://static001.geekbang.org/account/avatar/00/10/9c/f4/7e14ff8a.jpg","comment_is_top":false,"comment_ctime":1544146136,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544146136","product_id":100020901,"comment_content":"session leaderæ˜¯ä»€ä¹ˆæ¦‚å¿µï¼Ÿ","like_count":0},{"had_liked":false,"id":47459,"user_name":"Aaron Cheung","can_delete":false,"product_type":"c1","uid":1079816,"ip_address":"","ucode":"03972759C53667","user_header":"https://static001.geekbang.org/account/avatar/00/10/7a/08/4d3e47dd.jpg","comment_is_top":false,"comment_ctime":1544145734,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544145734","product_id":100020901,"comment_content":"ä¸Šç­ä¹‹å‰å…ˆæ‰“å¡","like_count":0},{"had_liked":false,"id":47453,"user_name":"å¤§é£","can_delete":false,"product_type":"c1","uid":1320080,"ip_address":"","ucode":"2D98888FC63CA9","user_header":"","comment_is_top":false,"comment_ctime":1544145464,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544145464","product_id":100020901,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":47442,"user_name":"æ¹–æ¹˜å¿—","can_delete":false,"product_type":"c1","uid":1285578,"ip_address":"","ucode":"C8B069B3AD4FEA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erJR5Kj0Xm6LykFHLaWqHjQiaroVxgdoGI7uHEGz2D3PfibWNkBYP23QLzFmcuicgKLbqUch0ZJ2ZNOA/132","comment_is_top":false,"comment_ctime":1544144405,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544144405","product_id":100020901,"comment_content":"D9","like_count":0},{"had_liked":false,"id":47425,"user_name":"jeff","can_delete":false,"product_type":"c1","uid":1063344,"ip_address":"","ucode":"3B13989DF44D6C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJSGU1LkzTK76HicuZ1IbiboziakPmL6KzcmlvgIibZ7tq0Tlt6OwhRKLAaTttbY6vSPY5XupEAWjT0eg/132","comment_is_top":false,"comment_ctime":1544143558,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544143558","product_id":100020901,"comment_content":"ç›´æ¥è¯»å†™ç£ç›˜ä¸ºä»€ä¹ˆå¯¹æ•°æ®åº“ç¨‹åºæ›´å‹å¥½ï¼Œè¿™ç‚¹æ²¡æœ‰å®Œå…¨ç†è§£ã€‚å¦‚æœï¼Œæ˜¯æ•°æ®åº“ç¨‹åºçš„iowaité«˜ï¼Œæ˜¯ä¸æ˜¯è®¤ä¸ºå°±å’Œç›´æ¥è¯»å†™ç£ç›˜æ²¡æœ‰å…³ç³»å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":47424,"user_name":"é£é£˜ï¼Œå¾ç‹¬æ€","can_delete":false,"product_type":"c1","uid":1131032,"ip_address":"","ucode":"4DF0E7DC22EE53","user_header":"https://static001.geekbang.org/account/avatar/00/11/42/18/edc1b373.jpg","comment_is_top":false,"comment_ctime":1544143534,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544143534","product_id":100020901,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":47402,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1544142218,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544142218","product_id":100020901,"comment_content":"æœ‰ä¸€ä¸ªé—®é¢˜è¯·æ•™ï¼Œpidstatå’Œdstatç›‘æ§åˆ°çš„è¯»æ•°é‡æ€ä¹ˆè®¡ç®—çš„?æ˜¯ç»Ÿè®¡çš„ç›´æ¥ä»ç£ç›˜è¯»çš„æ•°é‡è¿˜æ˜¯åŒ…æ‹¬ä»æ–‡ç³»ç»Ÿç¼“å­˜è¯»çš„æ•°é‡ï¼Ÿ","like_count":0},{"had_liked":false,"id":47389,"user_name":"DJH","can_delete":false,"product_type":"c1","uid":1256740,"ip_address":"","ucode":"2BDEF123B3DB6A","user_header":"https://static001.geekbang.org/account/avatar/00/13/2d/24/28acca15.jpg","comment_is_top":false,"comment_ctime":1544140290,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544140290","product_id":100020901,"comment_content":"å€ªè€å¸ˆï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼šåƒµå°¸è¿›ç¨‹å¦‚æœé•¿æ—¶é—´å­˜åœ¨ï¼Œæœ‰åŠæ³•killæ‰å—ï¼Ÿæ˜¯ä¸æ˜¯å¿…é¡»ç­‰åˆ°ä¸‹æ¬¡ç³»ç»Ÿé‡å¯æ‰ä¼šæ¶ˆå¤±ï¼Ÿ","like_count":0},{"had_liked":false,"id":47376,"user_name":"solar","can_delete":false,"product_type":"c1","uid":1316091,"ip_address":"","ucode":"D5BE087E264401","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/dwehJHP4ycAfDb9MoudXb4QSt7YgmISqwwsa928XZ6aTWqwWh0kx0iatjocSibLa7iajXmbGlJ5svegY3P6LfKJ0w/132","comment_is_top":false,"comment_ctime":1544138444,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1544138444","product_id":100020901,"comment_content":"æ‰“å¡~~~~","like_count":0}]}
{"id":110718,"title":"27 | æ›´å¥½æ›´å¿«çš„æ¡æ‰‹ï¼šTLS1.3ç‰¹æ€§è§£æ","content":"<p>ä¸Šä¸€è®²ä¸­æˆ‘è®²äº†TLS1.2çš„æ¡æ‰‹è¿‡ç¨‹ï¼Œä½ æ˜¯ä¸æ˜¯å·²ç»å®Œå…¨æŒæ¡äº†å‘¢ï¼Ÿ</p><p>ä¸è¿‡TLS1.2å·²ç»æ˜¯10å¹´å‰ï¼ˆ2008å¹´ï¼‰çš„â€œè€â€åè®®äº†ï¼Œè™½ç„¶å†ç»è€ƒéªŒï¼Œä½†æ¯•ç«Ÿâ€œå²æœˆä¸é¥¶äººâ€ï¼Œåœ¨å®‰å…¨ã€æ€§èƒ½ç­‰æ–¹é¢å·²ç»è·Ÿä¸ä¸Šå¦‚ä»Šçš„äº’è”ç½‘äº†ã€‚</p><p>äºæ˜¯ç»è¿‡å››å¹´ã€è¿‘30ä¸ªè‰æ¡ˆçš„åå¤æ‰“ç£¨ï¼ŒTLS1.3ç»ˆäºåœ¨å»å¹´ï¼ˆ2018å¹´ï¼‰â€œç²‰å¢¨ç™»åœºâ€ï¼Œå†æ¬¡ç¡®ç«‹äº†ä¿¡æ¯å®‰å…¨é¢†åŸŸçš„æ–°æ ‡å‡†ã€‚</p><p>åœ¨æŠ“åŒ…åˆ†ææ¡æ‰‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å¿«é€Ÿæµè§ˆä¸€ä¸‹TLS1.3çš„ä¸‰ä¸ªä¸»è¦æ”¹è¿›ç›®æ ‡ï¼š<strong>å…¼å®¹</strong>ã€<strong>å®‰å…¨ä¸æ€§èƒ½</strong>ã€‚</p><h2>æœ€å¤§åŒ–å…¼å®¹æ€§</h2><p>ç”±äº1.1ã€1.2ç­‰åè®®å·²ç»å‡ºç°äº†å¾ˆå¤šå¹´ï¼Œå¾ˆå¤šåº”ç”¨è½¯ä»¶ã€ä¸­é—´ä»£ç†ï¼ˆå®˜æ–¹ç§°ä¸ºâ€œMiddleBoxâ€ï¼‰åªè®¤è€çš„è®°å½•åè®®æ ¼å¼ï¼Œæ›´æ–°æ”¹é€ å¾ˆå›°éš¾ï¼Œç”šè‡³æ˜¯ä¸å¯è¡Œï¼ˆè®¾å¤‡åƒµåŒ–ï¼‰ã€‚</p><p>åœ¨æ—©æœŸçš„è¯•éªŒä¸­å‘ç°ï¼Œä¸€æ—¦å˜æ›´äº†è®°å½•å¤´å­—æ®µé‡Œçš„ç‰ˆæœ¬å·ï¼Œä¹Ÿå°±æ˜¯ç”±0x303ï¼ˆTLS1.2ï¼‰æ”¹ä¸º0x304ï¼ˆTLS1.3ï¼‰çš„è¯ï¼Œå¤§é‡çš„ä»£ç†æœåŠ¡å™¨ã€ç½‘å…³éƒ½æ— æ³•æ­£ç¡®å¤„ç†ï¼Œæœ€ç»ˆå¯¼è‡´TLSæ¡æ‰‹å¤±è´¥ã€‚</p><p>ä¸ºäº†ä¿è¯è¿™äº›è¢«å¹¿æ³›éƒ¨ç½²çš„â€œè€è®¾å¤‡â€èƒ½å¤Ÿç»§ç»­ä½¿ç”¨ï¼Œé¿å…æ–°åè®®å¸¦æ¥çš„â€œå†²å‡»â€ï¼ŒTLS1.3ä¸å¾—ä¸åšå‡ºå¦¥åï¼Œä¿æŒç°æœ‰çš„è®°å½•æ ¼å¼ä¸å˜ï¼Œé€šè¿‡â€œä¼ªè£…â€æ¥å®ç°å…¼å®¹ï¼Œä½¿å¾—TLS1.3çœ‹ä¸Šå»â€œåƒæ˜¯â€TLS1.2ã€‚</p><p>é‚£ä¹ˆï¼Œè¯¥æ€ä¹ˆåŒºåˆ†1.2å’Œ1.3å‘¢ï¼Ÿ</p><!-- [[[read_end]]] --><p>è¿™è¦ç”¨åˆ°ä¸€ä¸ªæ–°çš„<strong>æ‰©å±•åè®®</strong>ï¼ˆExtension Protocolï¼‰ï¼Œå®ƒæœ‰ç‚¹â€œè¡¥å……æ¡æ¬¾â€çš„æ„æ€ï¼Œé€šè¿‡åœ¨è®°å½•æœ«å°¾æ·»åŠ ä¸€ç³»åˆ—çš„â€œæ‰©å±•å­—æ®µâ€æ¥å¢åŠ æ–°çš„åŠŸèƒ½ï¼Œè€ç‰ˆæœ¬çš„TLSä¸è®¤è¯†å®ƒå¯ä»¥ç›´æ¥å¿½ç•¥ï¼Œè¿™å°±å®ç°äº†â€œåå‘å…¼å®¹â€ã€‚</p><p>åœ¨è®°å½•å¤´çš„Versionå­—æ®µè¢«å…¼å®¹æ€§â€œå›ºå®šâ€çš„æƒ…å†µä¸‹ï¼Œåªè¦æ˜¯TLS1.3åè®®ï¼Œæ¡æ‰‹çš„â€œHelloâ€æ¶ˆæ¯åé¢å°±å¿…é¡»æœ‰â€œ<strong>supported_versions</strong>â€æ‰©å±•ï¼Œå®ƒæ ‡è®°äº†TLSçš„ç‰ˆæœ¬å·ï¼Œä½¿ç”¨å®ƒå°±èƒ½åŒºåˆ†æ–°æ—§åè®®ã€‚</p><p>å…¶å®ä¸Šä¸€è®²Chromeåœ¨æ¡æ‰‹æ—¶å‘çš„å°±æ˜¯TLS1.3åè®®ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹â€œClient Helloâ€æ¶ˆæ¯åé¢çš„æ‰©å±•ï¼Œåªæ˜¯å› ä¸ºæœåŠ¡å™¨ä¸æ”¯æŒ1.3ï¼Œæ‰€ä»¥å°±â€œåå‘å…¼å®¹â€é™çº§æˆäº†1.2ã€‚</p><pre><code>Handshake Protocol: Client Hello\n    Version: TLS 1.2 (0x0303)\n    Extension: supported_versions (len=11)\n        Supported Version: TLS 1.3 (0x0304)\n        Supported Version: TLS 1.2 (0x0303)\n</code></pre><p>TLS1.3åˆ©ç”¨æ‰©å±•å®ç°äº†è®¸å¤šé‡è¦çš„åŠŸèƒ½ï¼Œæ¯”å¦‚â€œsupported_groupsâ€â€œkey_shareâ€â€œsignature_algorithmsâ€â€œserver_nameâ€ç­‰ï¼Œè¿™äº›ç­‰åé¢ç”¨åˆ°çš„æ—¶å€™å†è¯´ã€‚</p><h2>å¼ºåŒ–å®‰å…¨</h2><p>TLS1.2åœ¨åæ¥å¹´çš„åº”ç”¨ä¸­è·å¾—äº†è®¸å¤šå®è´µçš„ç»éªŒï¼Œé™†ç»­å‘ç°äº†å¾ˆå¤šçš„æ¼æ´å’ŒåŠ å¯†ç®—æ³•çš„å¼±ç‚¹ï¼Œæ‰€ä»¥TLS1.3å°±åœ¨åè®®é‡Œä¿®è¡¥äº†è¿™äº›ä¸å®‰å…¨å› ç´ ã€‚</p><p>æ¯”å¦‚ï¼š</p><ul>\n<li>ä¼ªéšæœºæ•°å‡½æ•°ç”±PRFå‡çº§ä¸ºHKDFï¼ˆHMAC-based Extract-and-Expand Key Derivation Functionï¼‰ï¼›</li>\n<li>æ˜ç¡®ç¦æ­¢åœ¨è®°å½•åè®®é‡Œä½¿ç”¨å‹ç¼©ï¼›</li>\n<li>åºŸé™¤äº†RC4ã€DESå¯¹ç§°åŠ å¯†ç®—æ³•ï¼›</li>\n<li>åºŸé™¤äº†ECBã€CBCç­‰ä¼ ç»Ÿåˆ†ç»„æ¨¡å¼ï¼›</li>\n<li>åºŸé™¤äº†MD5ã€SHA1ã€SHA-224æ‘˜è¦ç®—æ³•ï¼›</li>\n<li>åºŸé™¤äº†RSAã€DHå¯†é’¥äº¤æ¢ç®—æ³•å’Œè®¸å¤šå‘½åæ›²çº¿ã€‚</li>\n</ul><p>ç»è¿‡è¿™ä¸€ç•ªâ€œå‡è‚¥ç˜¦èº«â€ä¹‹åï¼ŒTLS1.3é‡Œåªä¿ç•™äº†AESã€ChaCha20å¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œåˆ†ç»„æ¨¡å¼åªèƒ½ç”¨AEADçš„GCMã€CCMå’ŒPoly1305ï¼Œæ‘˜è¦ç®—æ³•åªèƒ½ç”¨SHA256ã€SHA384ï¼Œå¯†é’¥äº¤æ¢ç®—æ³•åªæœ‰ECDHEå’ŒDHEï¼Œæ¤­åœ†æ›²çº¿ä¹Ÿè¢«â€œç â€åˆ°åªå‰©P-256å’Œx25519ç­‰5ç§ã€‚</p><p>å‡è‚¥å¯ä»¥è®©äººå˜å¾—æ›´è½»å·§çµæ´»ï¼ŒTLSä¹Ÿæ˜¯è¿™æ ·ã€‚</p><p>ç®—æ³•ç²¾ç®€åå¸¦æ¥äº†ä¸€ä¸ªæ„æ–™ä¹‹ä¸­çš„å¥½å¤„ï¼šåŸæ¥ä¼—å¤šçš„ç®—æ³•ã€å‚æ•°ç»„åˆå¯¼è‡´å¯†ç å¥—ä»¶éå¸¸å¤æ‚ï¼Œéš¾ä»¥é€‰æ‹©ï¼Œè€Œç°åœ¨çš„TLS1.3é‡Œåªæœ‰5ä¸ªå¥—ä»¶ï¼Œæ— è®ºæ˜¯å®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡å™¨éƒ½ä¸ä¼šå†çŠ¯â€œé€‰æ‹©å›°éš¾ç—‡â€äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ee/65/eeeb1d30acbc0e69541ce0620346b765.jpg?wh=1500*1013\" alt=\"\"></p><p>è¿™é‡Œè¿˜è¦ç‰¹åˆ«è¯´ä¸€ä¸‹åºŸé™¤RSAå’ŒDHå¯†é’¥äº¤æ¢ç®—æ³•çš„åŸå› ã€‚</p><p>ä¸Šä¸€è®²ç”¨WiresharkæŠ“åŒ…æ—¶ä½ ä¸€å®šçœ‹åˆ°äº†ï¼Œæµè§ˆå™¨é»˜è®¤ä¼šä½¿ç”¨ECDHEè€Œä¸æ˜¯RSAåšå¯†é’¥äº¤æ¢ï¼Œè¿™æ˜¯å› ä¸ºå®ƒä¸å…·æœ‰â€œ<strong>å‰å‘å®‰å…¨</strong>â€ï¼ˆForward Secrecyï¼‰ã€‚</p><p>å‡è®¾æœ‰è¿™ä¹ˆä¸€ä¸ªå¾ˆæœ‰è€å¿ƒçš„é»‘å®¢ï¼Œä¸€ç›´åœ¨é•¿æœŸæ”¶é›†æ··åˆåŠ å¯†ç³»ç»Ÿæ”¶å‘çš„æ‰€æœ‰æŠ¥æ–‡ã€‚å¦‚æœåŠ å¯†ç³»ç»Ÿä½¿ç”¨æœåŠ¡å™¨è¯ä¹¦é‡Œçš„RSAåšå¯†é’¥äº¤æ¢ï¼Œä¸€æ—¦ç§é’¥æ³„éœ²æˆ–è¢«ç ´è§£ï¼ˆä½¿ç”¨ç¤¾ä¼šå·¥ç¨‹å­¦æˆ–è€…å·¨å‹è®¡ç®—æœºï¼‰ï¼Œé‚£ä¹ˆé»‘å®¢å°±èƒ½å¤Ÿä½¿ç”¨ç§é’¥è§£å¯†å‡ºä¹‹å‰æ‰€æœ‰æŠ¥æ–‡çš„â€œPre-Masterâ€ï¼Œå†ç®—å‡ºä¼šè¯å¯†é’¥ï¼Œç ´è§£æ‰€æœ‰å¯†æ–‡ã€‚</p><p>è¿™å°±æ˜¯æ‰€è°“çš„â€œ<strong>ä»Šæ—¥æˆªè·ï¼Œæ˜æ—¥ç ´è§£</strong>â€ã€‚</p><p>è€ŒECDHEç®—æ³•åœ¨æ¯æ¬¡æ¡æ‰‹æ—¶éƒ½ä¼šç”Ÿæˆä¸€å¯¹ä¸´æ—¶çš„å…¬é’¥å’Œç§é’¥ï¼Œæ¯æ¬¡é€šä¿¡çš„å¯†é’¥å¯¹éƒ½æ˜¯ä¸åŒçš„ï¼Œä¹Ÿå°±æ˜¯â€œä¸€æ¬¡ä¸€å¯†â€ï¼Œå³ä½¿é»‘å®¢èŠ±å¤§åŠ›æ°”ç ´è§£äº†è¿™ä¸€æ¬¡çš„ä¼šè¯å¯†é’¥ï¼Œä¹Ÿåªæ˜¯è¿™æ¬¡é€šä¿¡è¢«æ”»å‡»ï¼Œä¹‹å‰çš„å†å²æ¶ˆæ¯ä¸ä¼šå—åˆ°å½±å“ï¼Œä»ç„¶æ˜¯å®‰å…¨çš„ã€‚</p><p>æ‰€ä»¥ç°åœ¨ä¸»æµçš„æœåŠ¡å™¨å’Œæµè§ˆå™¨åœ¨æ¡æ‰‹é˜¶æ®µéƒ½å·²ç»ä¸å†ä½¿ç”¨RSAï¼Œæ”¹ç”¨ECDHEï¼Œè€ŒTLS1.3åœ¨åè®®é‡Œæ˜ç¡®åºŸé™¤RSAå’ŒDHåˆ™åœ¨æ ‡å‡†å±‚é¢ä¿è¯äº†â€œå‰å‘å®‰å…¨â€ã€‚</p><h2>æå‡æ€§èƒ½</h2><p>HTTPSå»ºç«‹è¿æ¥æ—¶é™¤äº†è¦åšTCPæ¡æ‰‹ï¼Œè¿˜è¦åšTLSæ¡æ‰‹ï¼Œåœ¨1.2ä¸­ä¼šå¤šèŠ±ä¸¤ä¸ªæ¶ˆæ¯å¾€è¿”ï¼ˆ2-RTTï¼‰ï¼Œå¯èƒ½å¯¼è‡´å‡ åæ¯«ç§’ç”šè‡³ä¸Šç™¾æ¯«ç§’çš„å»¶è¿Ÿï¼Œåœ¨ç§»åŠ¨ç½‘ç»œä¸­å»¶è¿Ÿè¿˜ä¼šæ›´ä¸¥é‡ã€‚</p><p>ç°åœ¨å› ä¸ºå¯†ç å¥—ä»¶å¤§å¹…åº¦ç®€åŒ–ï¼Œä¹Ÿå°±æ²¡æœ‰å¿…è¦å†åƒä»¥å‰é‚£æ ·èµ°å¤æ‚çš„åå•†æµç¨‹äº†ã€‚TLS1.3å‹ç¼©äº†ä»¥å‰çš„â€œHelloâ€åå•†è¿‡ç¨‹ï¼Œåˆ é™¤äº†â€œKey Exchangeâ€æ¶ˆæ¯ï¼ŒæŠŠæ¡æ‰‹æ—¶é—´å‡å°‘åˆ°äº†â€œ1-RTTâ€ï¼Œæ•ˆç‡æé«˜äº†ä¸€å€ã€‚</p><p>é‚£ä¹ˆå®ƒæ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿ</p><p>å…¶å®å…·ä½“çš„åšæ³•è¿˜æ˜¯åˆ©ç”¨äº†æ‰©å±•ã€‚å®¢æˆ·ç«¯åœ¨â€œClient Helloâ€æ¶ˆæ¯é‡Œç›´æ¥ç”¨â€œ<strong>supported_groups</strong>â€å¸¦ä¸Šæ”¯æŒçš„æ›²çº¿ï¼Œæ¯”å¦‚P-256ã€x25519ï¼Œç”¨â€œ<strong>key_share</strong>â€å¸¦ä¸Šæ›²çº¿å¯¹åº”çš„å®¢æˆ·ç«¯å…¬é’¥å‚æ•°ï¼Œç”¨â€œ<strong>signature_algorithms</strong>â€å¸¦ä¸Šç­¾åç®—æ³•ã€‚</p><p>æœåŠ¡å™¨æ”¶åˆ°ååœ¨è¿™äº›æ‰©å±•é‡Œé€‰å®šä¸€ä¸ªæ›²çº¿å’Œå‚æ•°ï¼Œå†ç”¨â€œkey_shareâ€æ‰©å±•è¿”å›æœåŠ¡å™¨è¿™è¾¹çš„å…¬é’¥å‚æ•°ï¼Œå°±å®ç°äº†åŒæ–¹çš„å¯†é’¥äº¤æ¢ï¼Œåé¢çš„æµç¨‹å°±å’Œ1.2åŸºæœ¬ä¸€æ ·äº†ã€‚</p><p>æˆ‘ä¸º1.3çš„æ¡æ‰‹è¿‡ç¨‹ç”»äº†ä¸€å¼ å›¾ï¼Œä½ å¯ä»¥å¯¹æ¯”1.2çœ‹çœ‹åŒºåˆ«åœ¨å“ªé‡Œã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/4d/b0/4d1df4d07dbb1c2500fc4ea69ecf7ab0.png?wh=2055*1925\" alt=\"\"></p><p>é™¤äº†æ ‡å‡†çš„â€œ1-RTTâ€æ¡æ‰‹ï¼ŒTLS1.3è¿˜å¼•å…¥äº†â€œ0-RTTâ€æ¡æ‰‹ï¼Œç”¨â€œpre_shared_keyâ€å’Œâ€œearly_dataâ€æ‰©å±•ï¼Œåœ¨TCPè¿æ¥åç«‹å³å°±å»ºç«‹å®‰å…¨è¿æ¥å‘é€åŠ å¯†æ¶ˆæ¯ï¼Œä¸è¿‡è¿™éœ€è¦æœ‰ä¸€äº›å‰ææ¡ä»¶ï¼Œä»Šå¤©æš‚ä¸”ä¸è¯´ã€‚</p><h2>æ¡æ‰‹åˆ†æ</h2><p>ç›®å‰Nginxç­‰WebæœåŠ¡å™¨éƒ½èƒ½å¤Ÿå¾ˆå¥½åœ°æ”¯æŒTLS1.3ï¼Œä½†è¦æ±‚åº•å±‚çš„OpenSSLå¿…é¡»æ˜¯1.1.1ï¼Œè€Œæˆ‘ä»¬å®éªŒç¯å¢ƒé‡Œç”¨çš„OpenSSLæ˜¯1.1.0ï¼Œæ‰€ä»¥æš‚æ—¶æ— æ³•ç›´æ¥æµ‹è¯•TLS1.3ã€‚</p><p>ä¸è¿‡æˆ‘åœ¨Linuxä¸Šç”¨OpenSSL1.1.1ç¼–è¯‘äº†ä¸€ä¸ªæ”¯æŒTLS1.3çš„Nginxï¼Œç”¨WiresharkæŠ“åŒ…å­˜åˆ°äº†GitHubä¸Šï¼Œç”¨å®ƒå°±å¯ä»¥åˆ†æTLS1.3çš„æ¡æ‰‹è¿‡ç¨‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/7a/db/7a2bc39fdbb421cf72a01e887e9156db.png?wh=900*1840\" alt=\"\"></p><p>åœ¨TCPå»ºç«‹è¿æ¥ä¹‹åï¼Œæµè§ˆå™¨é¦–å…ˆè¿˜æ˜¯å‘ä¸€ä¸ªâ€œ<strong>Client Hello</strong>â€ã€‚</p><p>å› ä¸º1.3çš„æ¶ˆæ¯å…¼å®¹1.2ï¼Œæ‰€ä»¥å¼€å¤´çš„ç‰ˆæœ¬å·ã€æ”¯æŒçš„å¯†ç å¥—ä»¶å’Œéšæœºæ•°ï¼ˆClient Randomï¼‰ç»“æ„éƒ½æ˜¯ä¸€æ ·çš„ï¼ˆä¸è¿‡è¿™æ—¶çš„éšæœºæ•°æ˜¯32ä¸ªå­—èŠ‚ï¼‰ã€‚</p><pre><code>Handshake Protocol: Client Hello\n    Version: TLS 1.2 (0x0303)\n    Random: cebeb6c05403654d66c2329â€¦\n    Cipher Suites (18 suites)\n        Cipher Suite: TLS_AES_128_GCM_SHA256 (0x1301)\n        Cipher Suite: TLS_CHACHA20_POLY1305_SHA256 (0x1303)\n        Cipher Suite: TLS_AES_256_GCM_SHA384 (0x1302)\n    Extension: supported_versions (len=9)\n        Supported Version: TLS 1.3 (0x0304)\n        Supported Version: TLS 1.2 (0x0303)\n    Extension: supported_groups (len=14)\n        Supported Groups (6 groups)\n            Supported Group: x25519 (0x001d)\n            Supported Group: secp256r1 (0x0017)\n    Extension: key_share (len=107)\n        Key Share extension\n            Client Key Share Length: 105\n            Key Share Entry: Group: x25519\n            Key Share Entry: Group: secp256r1\n</code></pre><p>æ³¨æ„â€œClient Helloâ€é‡Œçš„æ‰©å±•ï¼Œâ€œ<strong>supported_versions</strong>â€è¡¨ç¤ºè¿™æ˜¯TLS1.3ï¼Œâ€œ<strong>supported_groups</strong>â€æ˜¯æ”¯æŒçš„æ›²çº¿ï¼Œâ€œ<strong>key_share</strong>â€æ˜¯æ›²çº¿å¯¹åº”çš„å‚æ•°ã€‚</p><p>è¿™å°±å¥½åƒæ˜¯è¯´ï¼š</p><p>â€œè¿˜æ˜¯ç…§è€è§„çŸ©æ‰“æ‹›å‘¼ï¼Œè¿™è¾¹æœ‰è¿™äº›è¿™äº›ä¿¡æ¯ã€‚ä½†æˆ‘çŒœä½ å¯èƒ½ä¼šå‡çº§ï¼Œæ‰€ä»¥å†å¤šç»™ä½ ä¸€äº›ä¸œè¥¿ï¼Œä¹Ÿè®¸åé¢ç”¨çš„ä¸Šï¼Œå’±ä»¬æœ‰è¯å°½é‡ä¸€å£æ°”è¯´å®Œã€‚â€</p><p>æœåŠ¡å™¨æ”¶åˆ°â€œClient Helloâ€åŒæ ·è¿”å›â€œServer Helloâ€æ¶ˆæ¯ï¼Œè¿˜æ˜¯è¦ç»™å‡ºä¸€ä¸ª<strong>éšæœºæ•°</strong>ï¼ˆServer Randomï¼‰å’Œé€‰å®šå¯†ç å¥—ä»¶ã€‚</p><pre><code>Handshake Protocol: Server Hello\n    Version: TLS 1.2 (0x0303)\n    Random: 12d2bce6568b063d3dee2â€¦\n    Cipher Suite: TLS_AES_128_GCM_SHA256 (0x1301)\n    Extension: supported_versions (len=2)\n        Supported Version: TLS 1.3 (0x0304)\n    Extension: key_share (len=36)\n        Key Share extension\n            Key Share Entry: Group: x25519, Key Exchange length: 32\n</code></pre><p>è¡¨é¢ä¸Šçœ‹å’ŒTLS1.2æ˜¯ä¸€æ ·çš„ï¼Œé‡ç‚¹æ˜¯åé¢çš„æ‰©å±•ã€‚â€œ<strong>supported_versions</strong>â€é‡Œç¡®è®¤ä½¿ç”¨çš„æ˜¯TLS1.3ï¼Œç„¶ååœ¨â€œ<strong>key_share</strong>â€æ‰©å±•å¸¦ä¸Šæ›²çº¿å’Œå¯¹åº”çš„å…¬é’¥å‚æ•°ã€‚</p><p>æœåŠ¡å™¨çš„â€œHelloâ€æ¶ˆæ¯å¤§æ¦‚æ˜¯è¿™ä¸ªæ„æ€ï¼š</p><p>â€œè¿˜çœŸè®©ä½ ç»™çŒœå¯¹äº†ï¼Œè™½ç„¶è¿˜æ˜¯æŒ‰è€è§„çŸ©æ‰“æ‹›å‘¼ï¼Œä½†å’±ä»¬æ¥ä¸ªâ€˜æ—§ç“¶è£…æ–°é…’â€™ã€‚åˆšæ‰ä½ ç»™çš„æˆ‘éƒ½ç”¨ä¸Šäº†ï¼Œæˆ‘å†ç»™å‡ ä¸ªä½ ç¼ºçš„å‚æ•°ï¼Œè¿™æ¬¡åŠ å¯†å°±è¿™ä¹ˆå®šäº†ã€‚â€</p><p>è¿™æ—¶åªäº¤æ¢äº†ä¸¤æ¡æ¶ˆæ¯ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å°±æ‹¿åˆ°äº†å››ä¸ªå…±äº«ä¿¡æ¯ï¼š<strong>Client Random</strong>å’Œ<strong>Server Random</strong>ã€<strong>Client Params</strong>å’Œ<strong>Server Params</strong>ï¼Œä¸¤è¾¹å°±å¯ä»¥å„è‡ªç”¨ECDHEç®—å‡ºâ€œ<strong>Pre-Master</strong>â€ï¼Œå†ç”¨HKDFç”Ÿæˆä¸»å¯†é’¥â€œ<strong>Master Secret</strong>â€ï¼Œæ•ˆç‡æ¯”TLS1.2æé«˜äº†ä¸€å¤§æˆªã€‚</p><p>åœ¨ç®—å‡ºä¸»å¯†é’¥åï¼ŒæœåŠ¡å™¨ç«‹åˆ»å‘å‡ºâ€œ<strong>Change Cipher Spec</strong>â€æ¶ˆæ¯ï¼Œæ¯”TLS1.2ææ—©è¿›å…¥åŠ å¯†é€šä¿¡ï¼Œåé¢çš„è¯ä¹¦ç­‰å°±éƒ½æ˜¯åŠ å¯†çš„äº†ï¼Œå‡å°‘äº†æ¡æ‰‹æ—¶çš„æ˜æ–‡ä¿¡æ¯æ³„éœ²ã€‚</p><p>è¿™é‡ŒTLS1.3è¿˜æœ‰ä¸€ä¸ªå®‰å…¨å¼ºåŒ–æªæ–½ï¼Œå¤šäº†ä¸ªâ€œ<strong>Certificate Verify</strong>â€æ¶ˆæ¯ï¼Œç”¨æœåŠ¡å™¨çš„ç§é’¥æŠŠå‰é¢çš„æ›²çº¿ã€å¥—ä»¶ã€å‚æ•°ç­‰æ¡æ‰‹æ•°æ®åŠ äº†ç­¾åï¼Œä½œç”¨å’Œâ€œ<strong>Finished</strong>â€æ¶ˆæ¯å·®ä¸å¤šã€‚ä½†ç”±äºæ˜¯ç§é’¥ç­¾åï¼Œæ‰€ä»¥å¼ºåŒ–äº†èº«ä»½è®¤è¯å’Œå’Œé˜²çªœæ”¹ã€‚</p><p>è¿™ä¸¤ä¸ªâ€œHelloâ€æ¶ˆæ¯ä¹‹åï¼Œå®¢æˆ·ç«¯éªŒè¯æœåŠ¡å™¨è¯ä¹¦ï¼Œå†å‘â€œFinishedâ€æ¶ˆæ¯ï¼Œå°±æ­£å¼å®Œæˆäº†æ¡æ‰‹ï¼Œå¼€å§‹æ”¶å‘HTTPæŠ¥æ–‡ã€‚</p><p>è™½ç„¶æˆ‘ä»¬çš„å®éªŒç¯å¢ƒæš‚æ—¶ä¸èƒ½æŠ“åŒ…æµ‹è¯•TLS1.3ï¼Œä½†äº’è”ç½‘ä¸Šå¾ˆå¤šç½‘ç«™éƒ½å·²ç»æ”¯æŒäº†TLS1.3ï¼Œæ¯”å¦‚<a href=\"https://www.nginx.com/\">Nginx</a>ã€<a href=\"https://github.com/\">GitHub</a>ï¼Œä½ å¯ä»¥è¯¾åè‡ªå·±ç”¨Wiresharkè¯•è¯•ã€‚</p><p>åœ¨Chromeçš„å¼€å‘è€…å·¥å…·é‡Œï¼Œå¯ä»¥çœ‹åˆ°è¿™äº›ç½‘ç«™çš„TLS1.3åº”ç”¨æƒ…å†µã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/44/3c/44d8c3349ffdea5a1e4e13d222bc743c.png?wh=1601*1150\" alt=\"\"></p><h2>å°ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†TLS1.3çš„æ–°ç‰¹æ€§ï¼Œç”¨æŠ“åŒ…ç ”ç©¶äº†å®ƒçš„æ¡æ‰‹è¿‡ç¨‹ï¼Œä¸è¿‡TLS1.3é‡Œçš„å†…å®¹å¾ˆå¤šï¼Œè¿˜æœ‰ä¸€äº›ç‰¹æ€§æ²¡æœ‰è°ˆåˆ°ï¼Œåé¢ä¼šç»§ç»­è®²ã€‚</p><ol>\n<li><span class=\"orange\">ä¸ºäº†å…¼å®¹1.1ã€1.2ç­‰â€œè€â€åè®®ï¼ŒTLS1.3ä¼šâ€œä¼ªè£…â€æˆTLS1.2ï¼Œæ–°ç‰¹æ€§åœ¨â€œæ‰©å±•â€é‡Œå®ç°ï¼›</span></li>\n<li><span class=\"orange\">1.1ã€1.2åœ¨å®è·µä¸­å‘ç°äº†å¾ˆå¤šå®‰å…¨éšæ‚£ï¼Œæ‰€ä»¥TLS1.3å¤§å¹…åº¦åˆ å‡äº†åŠ å¯†ç®—æ³•ï¼Œåªä¿ç•™äº†ECDHEã€AESã€ChaCha20ã€SHA-2ç­‰æå°‘æ•°ç®—æ³•ï¼Œå¼ºåŒ–äº†å®‰å…¨ï¼›</span></li>\n<li><span class=\"orange\">TLS1.3ä¹Ÿç®€åŒ–äº†æ¡æ‰‹è¿‡ç¨‹ï¼Œå®Œå…¨æ¡æ‰‹åªéœ€è¦ä¸€ä¸ªæ¶ˆæ¯å¾€è¿”ï¼Œæå‡äº†æ€§èƒ½ã€‚</span></li>\n</ol><h2>è¯¾ä¸‹ä½œä¸š</h2><ol>\n<li>TLS1.3é‡Œçš„å¯†ç å¥—ä»¶æ²¡æœ‰æŒ‡å®šå¯†é’¥äº¤æ¢ç®—æ³•å’Œç­¾åç®—æ³•ï¼Œé‚£ä¹ˆåœ¨æ¡æ‰‹çš„æ—¶å€™ä¼šä¸ä¼šæœ‰é—®é¢˜å‘¢ï¼Ÿ</li>\n<li>ç»“åˆä¸Šä¸€è®²çš„RSAæ¡æ‰‹è¿‡ç¨‹ï¼Œè§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆRSAå¯†é’¥äº¤æ¢ä¸å…·æœ‰â€œå‰å‘å®‰å…¨â€ã€‚</li>\n<li>TLS1.3çš„æ¡æ‰‹è¿‡ç¨‹ä¸TLS1.2çš„â€œFalse Startâ€æœ‰ä»€ä¹ˆå¼‚åŒï¼Ÿ</li>\n</ol><p>æ¬¢è¿ä½ æŠŠè‡ªå·±çš„å­¦ä¹ ä½“ä¼šå†™åœ¨ç•™è¨€åŒºï¼Œä¸æˆ‘å’Œå…¶ä»–åŒå­¦ä¸€èµ·è®¨è®ºã€‚å¦‚æœä½ è§‰å¾—æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿æŠŠæ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ab/64/ab532f0074ddb136cd96c76c3a385164.png?wh=1769*3265\" alt=\"unpreview\"></p><p></p>","neighbors":{"left":{"article_title":"26 | ä¿¡ä»»å§‹äºæ¡æ‰‹ï¼šTLS1.2è¿æ¥è¿‡ç¨‹è§£æ","id":110354},"right":{"article_title":"28 | è¿æ¥å¤ªæ…¢è¯¥æ€ä¹ˆåŠï¼šHTTPSçš„ä¼˜åŒ–","id":111287}},"comments":[{"had_liked":false,"id":118426,"user_name":"djfhchdh","can_delete":false,"product_type":"c1","uid":1484184,"ip_address":"","ucode":"E71D75328CE398","user_header":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","comment_is_top":false,"comment_ctime":1564364001,"is_pvip":false,"replies":[{"id":"43405","content":"greatã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1564366783,"ip_address":"","comment_id":118426,"utype":1}],"discussion_count":2,"race_medal":0,"score":"186247957729","product_id":100029001,"comment_content":"1ã€TLS1.3ç²¾ç®€äº†åŠ å¯†ç®—æ³•ï¼Œé€šè¿‡support_groupsã€key_shareã€signature_algorithmsè¿™äº›å‚æ•°å°±èƒ½åˆ¤æ–­å‡ºå¯†é’¥äº¤æ¢ç®—æ³•å’Œç­¾åç®—æ³•ï¼Œä¸ç”¨åœ¨cipher suiteä¸­åå•†äº†<br>2ã€RSAæ¡æ‰‹æ—¶ï¼Œclient key exchageä¼šä½¿ç”¨RSAå…¬é’¥åŠ å¯†pre masteråä¼ ç»™æœåŠ¡ç«¯ï¼Œä¸€æ—¦ç§é’¥è¢«ç ´è§£ï¼Œé‚£ä¹ˆä¹‹å‰çš„ä¿¡æ¯éƒ½ä¼šè¢«ç ´è¯‘ï¼Œæ ¹æœ¬åŸå› è¿˜æ˜¯åœ¨äºRSAçš„è¿™ä¸€å¯¹å…¬é’¥ç§é’¥å¹¶ä¸æ˜¯ä¸´æ—¶çš„ã€‚<br>3ã€ç›¸åŒç‚¹ï¼šéƒ½åœ¨æœªæ”¶åˆ°Finishedç¡®è®¤æ¶ˆæ¯æ—¶å°±å·²ç»å‘å¯¹æ–¹å‘é€åŠ å¯†ä¿¡æ¯äº†ï¼Œä¸åŒç‚¹ï¼šTLS1.3å°†change cipher specåˆå¹¶åˆ°äº†helloä¸­","like_count":44,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460403,"discussion_content":"greatã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564366783,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1959482,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/e6/3a/382cf024.jpg","nickname":"rongyefeng","note":"","ucode":"9A15D947E9D645","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281166,"discussion_content":"TLS1.3å®¢æˆ·ç«¯å°†å¯†é’¥äº¤æ¢ç®—æ³•å‚æ•°åˆå¹¶åˆ°helloæ¶ˆæ¯ä¸­ï¼ŒæœåŠ¡å™¨ç«¯å°†change cipher specåˆå¹¶åˆ°äº†helloä¸­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591683495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119098,"user_name":"å‰ç«¯è¥¿ç“œå“¥","can_delete":false,"product_type":"c1","uid":1248576,"ip_address":"","ucode":"150130C34CD1C1","user_header":"https://static001.geekbang.org/account/avatar/00/13/0d/40/f70e5653.jpg","comment_is_top":false,"comment_ctime":1564502888,"is_pvip":false,"replies":[{"id":"43677","content":"å›ç­”çš„éå¸¸å¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1564534500,"ip_address":"","comment_id":119098,"utype":1}],"discussion_count":1,"race_medal":0,"score":"96053783400","product_id":100029001,"comment_content":"2. ç»“åˆä¸Šä¸€è®²çš„ RSA æ¡æ‰‹è¿‡ç¨‹ï¼Œè§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆ RSA å¯†é’¥äº¤æ¢ä¸å…·æœ‰â€œå‰å‘å®‰å…¨â€ã€‚<br><br>ç­”ï¼šRSA æ¡æ‰‹ä¸­ï¼ŒServer Hello åï¼Œå®¢æˆ·ç«¯æ‹¿åˆ°æœåŠ¡å™¨çš„è¯ä¹¦ï¼Œä»ä¸­æå–å‡ºæœåŠ¡å™¨çš„å…¬é’¥ï¼Œç„¶åç”¨è¿™ä¸ªå…¬é’¥å»åŠ å¯†å®¢æˆ·ç«¯ç”Ÿæˆçš„ä¸€ä¸ªéšæœºæ•°ï¼ˆä¼šè¯å¯†é’¥ï¼‰å¾—åˆ°å¯†æ–‡ï¼Œç„¶åå°†å…¶è¿”å›ç»™æœåŠ¡å™¨ã€‚è™½ç„¶æ¯æ¬¡ TLS æ¡æ‰‹ä¸­çš„ä¼šè¯å¯†é’¥éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œä½†æœåŠ¡å™¨çš„ç§é’¥å´å§‹ç»ˆä¸ä¼šå˜ã€‚ä¸€æ—¦é»‘å®¢æ‹¿åˆ°äº†æœåŠ¡å™¨ç§é’¥ï¼Œå¹¶ä¸”æˆªè·äº†ä¹‹å‰çš„æ‰€æœ‰å¯†æ–‡ï¼Œå°±èƒ½æ‹¿åˆ°æ¯æ¬¡ä¼šè¯ä¸­çš„å¯¹ç§°å¯†é’¥ï¼Œä»è€Œå¾—åˆ°å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„æ‰€æœ‰â€œå†å²ä¼šè¯è®°å½•â€ã€‚<br><br>è¯´åˆ°åº•ï¼ŒRSA æ¡æ‰‹ä¸‹ï¼ŒæœåŠ¡å™¨ç§é’¥æ˜¯ä¸å˜çš„ï¼Œä»è€Œå¯¼è‡´ä¸å…·æœ‰â€œå‰å‘å®‰å…¨â€ã€‚è€Œ ECDHE çš„ç§é’¥å´æ˜¯åŠ¨æ€çš„ï¼Œé»‘å®¢æ‹¿åˆ°äº†ä¸€ä¸ªï¼Œä¹Ÿåªèƒ½è§£å¯†ä¸€ä¸ªå¯†æ–‡ã€‚","like_count":23,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460743,"discussion_content":"å›ç­”çš„éå¸¸å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564534500,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119106,"user_name":"å½¦é¡µ","can_delete":false,"product_type":"c1","uid":1178698,"ip_address":"","ucode":"194563354340C8","user_header":"https://static001.geekbang.org/account/avatar/00/11/fc/4a/49fb0f32.jpg","comment_is_top":false,"comment_ctime":1564504430,"is_pvip":false,"replies":[{"id":"43687","content":"è¿™é‡Œæœ‰ä¸ªç»†èŠ‚æ²¡è®²ï¼Œå…¶å®tls1.3æœ‰å¤šä¸ªåŠ å¯†å¯†é’¥ï¼Œåœ¨æ¡æ‰‹çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨å‘æ¥çš„æ•°æ®ä¼šç”¨server_handshake_traffic_secretè¿›è¡ŒåŠ å¯†ï¼Œè€Œè¿™ä¸ªå¯†é’¥ä¹Ÿæ˜¯ç”±HKDFç®—å‡ºæ¥çš„ã€‚<br><br>æ‰€ä»¥å®¢æˆ·ç«¯å…ˆç”Ÿæˆserver_handshake_traffic_secretï¼ŒæŠŠæœåŠ¡å™¨æ¡æ‰‹æ¶ˆæ¯è§£å¯†ï¼Œå–å‡ºè¯ä¹¦ï¼ŒéªŒè¯è¯ä¹¦ï¼Œéƒ½æ²¡é—®é¢˜ï¼Œæ‰è®¡ç®—pre-masterã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1564535893,"ip_address":"","comment_id":119106,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27334308206","product_id":100029001,"comment_content":"è€å¸ˆï¼Œå®¢æˆ·ç«¯éªŒè¯æœåŠ¡å™¨è¯ä¹¦ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯pre_masterè®¡ç®—å‡ºæ¥æ‰æ£€éªŒè¯ä¹¦ï¼Ÿå› ä¸ºæœåŠ¡å™¨å·²ç»æŠŠè¯ä¹¦åŠ å¯†ä¼ è¾“çš„å•Šï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460746,"discussion_content":"è¿™é‡Œæœ‰ä¸ªç»†èŠ‚æ²¡è®²ï¼Œå…¶å®tls1.3æœ‰å¤šä¸ªåŠ å¯†å¯†é’¥ï¼Œåœ¨æ¡æ‰‹çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨å‘æ¥çš„æ•°æ®ä¼šç”¨server_handshake_traffic_secretè¿›è¡ŒåŠ å¯†ï¼Œè€Œè¿™ä¸ªå¯†é’¥ä¹Ÿæ˜¯ç”±HKDFç®—å‡ºæ¥çš„ã€‚\n\næ‰€ä»¥å®¢æˆ·ç«¯å…ˆç”Ÿæˆserver_handshake_traffic_secretï¼ŒæŠŠæœåŠ¡å™¨æ¡æ‰‹æ¶ˆæ¯è§£å¯†ï¼Œå–å‡ºè¯ä¹¦ï¼ŒéªŒè¯è¯ä¹¦ï¼Œéƒ½æ²¡é—®é¢˜ï¼Œæ‰è®¡ç®—pre-masterã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564535893,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":159254,"user_name":"æé‘«ç£Š","can_delete":false,"product_type":"c1","uid":1101615,"ip_address":"","ucode":"D06517CFCEEE00","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/2f/4f89f22a.jpg","comment_is_top":false,"comment_ctime":1575592436,"is_pvip":false,"replies":[{"id":"60893","content":"å¯ä»¥å‚è€ƒâ€œç­”ç–‘ç¯‡â€ï¼Œè®²ecdheç®—æ³•ï¼Œå‚æ•°å°±æ˜¯ç®—æ³•çš„å…¬é’¥ã€æ›²çº¿å®šä¹‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1575594209,"ip_address":"","comment_id":159254,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14460494324","product_id":100029001,"comment_content":"è¯·æ•™è€å¸ˆï¼Œä¸€ç›´æ²¡çœ‹æ‡‚ï¼Œâ€œç§˜é’¥äº¤æ¢ç®—æ³•å‚æ•°â€ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476996,"discussion_content":"å¯ä»¥å‚è€ƒâ€œç­”ç–‘ç¯‡â€ï¼Œè®²ecdheç®—æ³•ï¼Œå‚æ•°å°±æ˜¯ç®—æ³•çš„å…¬é’¥ã€æ›²çº¿å®šä¹‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575594209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286891,"user_name":"Geek_534344","can_delete":false,"product_type":"c1","uid":1455830,"ip_address":"","ucode":"2E4E549DD66232","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/R3kk0l4xvgn1Kl2ibD1I0IzC5sKX8UUoC8eAWaOEKTQ9npZN61VugVw4iblKzrZH391wRckgCS1x3EwRzxL0WL7A/132","comment_is_top":false,"comment_ctime":1617671572,"is_pvip":false,"replies":[{"id":"104176","content":"å’ŒTLS1.2çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼ŒéªŒè¯æœåŠ¡å™¨èº«ä»½ï¼Œå¯¹æ¡æ‰‹æ•°æ®ç­¾åã€‚<br><br>1.3åªæ˜¯ç®€åŒ–äº†1.2çš„æ¡æ‰‹æ­¥éª¤ï¼ŒåŸºæœ¬åŸç†è¿˜æ˜¯ä¸€æ ·çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1617682255,"ip_address":"","comment_id":286891,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10207606164","product_id":100029001,"comment_content":"TLS1.3ä¸­ï¼ŒæœåŠ¡ç«¯çš„è¯ä¹¦æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518124,"discussion_content":"å’ŒTLS1.2çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼ŒéªŒè¯æœåŠ¡å™¨èº«ä»½ï¼Œå¯¹æ¡æ‰‹æ•°æ®ç­¾åã€‚\n\n1.3åªæ˜¯ç®€åŒ–äº†1.2çš„æ¡æ‰‹æ­¥éª¤ï¼ŒåŸºæœ¬åŸç†è¿˜æ˜¯ä¸€æ ·çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617682255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172571,"user_name":"ä¿Šä¼Ÿ","can_delete":false,"product_type":"c1","uid":1111175,"ip_address":"","ucode":"7905B4F25637F4","user_header":"https://static001.geekbang.org/account/avatar/00/10/f4/87/644c0c5d.jpg","comment_is_top":false,"comment_ctime":1579225647,"is_pvip":true,"replies":[{"id":"66921","content":"ç»è¿‡äº†è®¤çœŸçš„æ€è€ƒï¼Œå›ç­”çš„éå¸¸å¥½ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1579233190,"ip_address":"","comment_id":172571,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10169160239","product_id":100029001,"comment_content":"1.1.3åœ¨æ¡æ‰‹æ—¶æŒ‡å®šäº†supported groupså’Œkey shareå’Œsignature algorihmsï¼ŒæœåŠ¡å™¨ä»è¿™äº›å‚æ•°ä¸­å°±èƒ½åˆ¤æ–­å‡ºå¯†é’¥äº¤äº’ç®—æ³•å’Œæ‘˜è¦ç®—æ³•ã€‚<br>2.å› ä¸ºRSAæ˜¯å®¢æˆ·ç«¯ç®—å‡ºpre masterå‘é€åˆ°æœåŠ¡ç«¯ï¼Œç®—å‡ºæ¥çš„master secretæ˜¯å›ºå®šçš„ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œæœ‰è¢«é»‘å®¢ç®—å‡ºæ¥çš„é£é™©ã€‚<br>3.TLS1.2æ˜¯å®¢æˆ·ç«¯ç‡å…ˆç®—å‡ºmaster secretï¼Œç„¶åå‘é€Application data è€ŒTLS1.3æ˜¯æœåŠ¡ç«¯ä¼˜å…ˆç®—å‡ºmaster secretï¼Œå‘é€Application dataã€‚","like_count":2,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481778,"discussion_content":"ç»è¿‡äº†è®¤çœŸçš„æ€è€ƒï¼Œå›ç­”çš„éå¸¸å¥½ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579233190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":120845,"user_name":"å½©è‰²çš„æ²™æ¼ ","can_delete":false,"product_type":"c1","uid":1116183,"ip_address":"","ucode":"19A0975A5E69EA","user_header":"https://static001.geekbang.org/account/avatar/00/11/08/17/e63e50f3.jpg","comment_is_top":false,"comment_ctime":1565005234,"is_pvip":true,"replies":[{"id":"44375","content":"<br>è¿™äº›æ¯”è¾ƒç»†èŠ‚å’Œåº•å±‚ï¼Œå¦‚æœæƒ³è¦è®¤çœŸç ”ç©¶è¿˜æ˜¯å»ºè®®å»çœ‹rfcã€‚<br><br>æˆ‘ç®€å•è§£é‡Šä¸€ä¸‹ï¼š<br><br>1.tls1.3ä½¿ç”¨äº†å¤šä¸ªå¯¹ç§°å¯†é’¥ï¼ŒæœåŠ¡å™¨åœ¨æ¡æ‰‹Encrypted Extensionsæ—¶ä½¿ç”¨çš„ä¸æ˜¯pre-masterï¼Œè€Œæ˜¯server_handshake_traffic_secretã€‚<br><br>2.å¯ä»¥å‚è€ƒè¯¾ç¨‹é‡Œç®€ç•¥æµç¨‹å›¾ï¼Œé‡Œé¢åˆ—å‡ºäº†é‚£äº›è®°å½•ï¼Œè€Œå…·ä½“çš„æ‰©å±•å­—æ®µä¼šå› å¯†ç å¥—ä»¶è€Œå˜åŒ–ã€‚<br><br>3.Finishedæ¶ˆæ¯ä¸tls1.2çš„ä¸€æ ·ï¼Œæ˜¯ç”¨ä¼šè¯å¯†é’¥ï¼Œä¹Ÿå°±æ˜¯master secretåŠ å¯†çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1565009821,"ip_address":"","comment_id":120845,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10154939826","product_id":100029001,"comment_content":"å¸Œæœ›è€å¸ˆå¯¹TLS1.3å¢åŠ ä¸€ç¯‡è¡¥å……ï¼Œé‡Œé¢æ¶‰åŠçš„ç»†èŠ‚å¤§å®¶ä¸æ˜¯å¾ˆæ¸…æ¥šæ€ä¹ˆå›äº‹ï¼Œç½‘ä¸Šèµ„æ–™å°‘è¿˜å®¹æ˜“è¯¯å¯¼ã€‚<br>1ã€æœåŠ¡å™¨è¿”å›çš„Encrypted Extensionsï¼ˆè¢«åŠ å¯†çš„æ‰©å±•ä¿¡æ¯ï¼‰ï¼ŒåŠ å¯†çš„æ‰©å±•ä¿¡æ¯é‡Œé¢ä¸åŒ…å«key_shareå’Œsupport_groups,è¿™ä¸¤ä¸ªå…³é”®å‚æ•°å› ä¸ºåŠ å¯†ä¹‹åï¼Œæ— æ³•è®¡ç®—pre-masterã€‚é—®é¢˜æ˜¯åŠ å¯†çš„æ‰©å±•ä¿¡æ¯ä½¿ç”¨çš„æ˜¯å“ªä¸ªå¯†é’¥å¯¹ï¼Ÿ<br>2ã€åŸæ–‡ä¸­â€œåœ¨ç®—å‡ºä¸»å¯†é’¥åï¼ŒæœåŠ¡å™¨ç«‹åˆ»å‘å‡ºâ€œChange Cipher Specâ€æ¶ˆæ¯ï¼Œæ¯” TLS1.2 ææ—©è¿›å…¥åŠ å¯†é€šä¿¡ï¼Œåé¢çš„è¯ä¹¦ç­‰å°±éƒ½æ˜¯åŠ å¯†çš„ï¼Œå‡å°‘äº†æ¡æ‰‹æ—¶çš„æ˜æ–‡ä¿¡æ¯æ³„éœ²ã€‚é—®é¢˜æ˜¯ï¼Œé™¤äº†è¯ä¹¦è¿˜æœ‰é‚£äº›å‚æ•°ä½¿ç”¨åŠ å¯†ä¼ è¾“ï¼Œä»¥åŠä½¿ç”¨çš„æ˜¯ä¸ªå¯†é’¥å¯¹ï¼Ÿå®¢æˆ·ç«¯ä¸å…ˆè®¡ç®—pre-masterä½•master-secretï¼Œæ€ä¹ˆè§£å¯†è¯ä¹¦ï¼Œè¿›è¡ŒéªŒè¯ï¼Ÿ<br>3ã€server certificate verifyï¼Œä½¿ç”¨è¯ä¹¦ç­¾åæ¡æ‰‹æ•°æ®ï¼ŒFinishedä¹Ÿæ˜¯å¯¹æ¡æ‰‹æ•°æ®è¿›è¡Œæ‘˜è¦ç­¾åï¼Œå®ƒç”¨çš„æ˜¯master-secretè¿›è¡Œçš„ç­¾åå—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461504,"discussion_content":"\nè¿™äº›æ¯”è¾ƒç»†èŠ‚å’Œåº•å±‚ï¼Œå¦‚æœæƒ³è¦è®¤çœŸç ”ç©¶è¿˜æ˜¯å»ºè®®å»çœ‹rfcã€‚\n\næˆ‘ç®€å•è§£é‡Šä¸€ä¸‹ï¼š\n\n1.tls1.3ä½¿ç”¨äº†å¤šä¸ªå¯¹ç§°å¯†é’¥ï¼ŒæœåŠ¡å™¨åœ¨æ¡æ‰‹Encrypted Extensionsæ—¶ä½¿ç”¨çš„ä¸æ˜¯pre-masterï¼Œè€Œæ˜¯server_handshake_traffic_secretã€‚\n\n2.å¯ä»¥å‚è€ƒè¯¾ç¨‹é‡Œç®€ç•¥æµç¨‹å›¾ï¼Œé‡Œé¢åˆ—å‡ºäº†é‚£äº›è®°å½•ï¼Œè€Œå…·ä½“çš„æ‰©å±•å­—æ®µä¼šå› å¯†ç å¥—ä»¶è€Œå˜åŒ–ã€‚\n\n3.Finishedæ¶ˆæ¯ä¸tls1.2çš„ä¸€æ ·ï¼Œæ˜¯ç”¨ä¼šè¯å¯†é’¥ï¼Œä¹Ÿå°±æ˜¯master secretåŠ å¯†çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565009821,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118863,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1564453765,"is_pvip":false,"replies":[{"id":"43579","content":"ä¸æ˜¯çš„ã€‚<br><br>è¿˜æ˜¯è¦æœ‰pre-masterï¼Œæ³¨æ„tlsé€šä¿¡ä½¿ç”¨çš„master keyéœ€è¦ä¸‰ä¸ªéšæœºæ•°ç”Ÿæˆï¼Œå…¶ä¸­å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„éšæœºæ•°æ˜¯å…¬å¼€çš„ï¼Œè€Œpre-masteræ˜¯åŠ å¯†ä¼ è¾“ã€‚<br><br>tls1.3åªæ˜¯ç®€åŒ–äº†æ¡æ‰‹è¿‡ç¨‹ä¸­çš„å¯†ç å¥—ä»¶åå•†ï¼Œè¿˜æ˜¯è¦äº¤æ¢å¯†é’¥å‚æ•°ç®—pre-masterçš„ã€‚<br><br>å¦‚æœæ˜¯è‡ªå·±å†…éƒ¨çš„ç³»ç»Ÿï¼Œå½“ç„¶å¯ä»¥ä¸ç”¨tlsé‚£ä¹ˆå¤æ‚ï¼Œç›´æ¥ä¸€ä¸ªéšæœºæ•°å½“ä¼šè¯å¯†é’¥ã€‚<br><br>å¯ä»¥å†çœ‹ä¸€ä¸‹tls1.3çš„æ¡æ‰‹æµç¨‹å›¾ï¼Œé‡Œé¢è¿˜æœ‰pre-masterã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1564454571,"ip_address":"","comment_id":118863,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10154388357","product_id":100029001,"comment_content":"è€å¸ˆï¼Œæˆ‘å¯¹æ¯”äº†ä¸‹tls1. 2å’Œ1.3ï¼Œå‘ç°pre masteræ ¹æœ¬å°±æ˜¯å¤šä½™çš„å˜›,åŒæ–¹æœ‰ä¸ªå…¬å…±K, A=a*Kå‘ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ç”ŸæˆB=b*K,åŒæ–¹å°±å¯ä»¥åˆ©ç”¨a*b*K=b*a*Kçš„ç›¸åŒå¯†é’¥è¿›è¡Œé€šä¿¡äº†,1.2æ˜¯éœ€è¦å®¢æˆ·ç«¯æŠŠpremasterå‘ç»™æœåŠ¡ç«¯ï¼Œç„¶ååŒæ–¹a*b*K*pre master=b*a*K*pre masterçš„å¯¹ç§°å¯†é’¥è¿›è¡Œé€šä¿¡ï¼Œ1.3å°±æ˜¯å°‘äº†pre masterï¼Œå¯ä»¥è¿™æ ·ç†è§£å§","like_count":2,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460622,"discussion_content":"ä¸æ˜¯çš„ã€‚\n\nè¿˜æ˜¯è¦æœ‰pre-masterï¼Œæ³¨æ„tlsé€šä¿¡ä½¿ç”¨çš„master keyéœ€è¦ä¸‰ä¸ªéšæœºæ•°ç”Ÿæˆï¼Œå…¶ä¸­å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„éšæœºæ•°æ˜¯å…¬å¼€çš„ï¼Œè€Œpre-masteræ˜¯åŠ å¯†ä¼ è¾“ã€‚\n\ntls1.3åªæ˜¯ç®€åŒ–äº†æ¡æ‰‹è¿‡ç¨‹ä¸­çš„å¯†ç å¥—ä»¶åå•†ï¼Œè¿˜æ˜¯è¦äº¤æ¢å¯†é’¥å‚æ•°ç®—pre-masterçš„ã€‚\n\nå¦‚æœæ˜¯è‡ªå·±å†…éƒ¨çš„ç³»ç»Ÿï¼Œå½“ç„¶å¯ä»¥ä¸ç”¨tlsé‚£ä¹ˆå¤æ‚ï¼Œç›´æ¥ä¸€ä¸ªéšæœºæ•°å½“ä¼šè¯å¯†é’¥ã€‚\n\nå¯ä»¥å†çœ‹ä¸€ä¸‹tls1.3çš„æ¡æ‰‹æµç¨‹å›¾ï¼Œé‡Œé¢è¿˜æœ‰pre-masterã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564454571,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1219496,"avatar":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","nickname":"LeonğŸ“·","note":"","ucode":"B9BBD1EFAAE5A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3700,"discussion_content":"é‚£å°±æ˜¯æŠŠtls1.2çš„pre masterçš„å‘é€çœç•¥äº†ï¼ŒåŒæ–¹å„è‡ªè‡ªå·±è®¡ç®—pre masterï¼Œæ— éœ€ä¼ è¾“äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564718833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1153455,"avatar":"https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg","nickname":"é¥­ç²’","note":"","ucode":"4C3220B0D43997","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1219496,"avatar":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","nickname":"LeonğŸ“·","note":"","ucode":"B9BBD1EFAAE5A2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":257541,"discussion_content":"Pre-Master å‘é€åº”è¯¥åªåœ¨ TLS1.2 ä½¿ç”¨ RSA å¯†é’¥äº¤æ¢ç®—æ³•æ—¶æœ‰ï¼ŒTLS1.3 å·²ç»åºŸå¼ƒäº† RSA å¯†é’¥äº¤æ¢ç®—æ³•ï¼Œæ‰€ä»¥åªå­˜åœ¨ TLS1.2 ä¸­çš„ RSA æ¡æ‰‹è¿‡ç¨‹ã€‚EDCHE æ¡æ‰‹ä¸­çš„ Pre-Master åˆ™æ˜¯é€šè¿‡æ¤­åœ†å‚æ•° Client Params å’Œ  Server Params è®¡ç®—å‡ºæ¥çš„ï¼Œè¿™åœ¨ TLS1.2ï¼ŒTLS1.3 çš„ EDCHE æ¡æ‰‹éƒ½æ˜¯è¿™æ ·ï¼Œåªä¸è¿‡ TLS1.3\næŠŠ Client Params å’Œ Server Params äº¤æ¢çš„è¿‡ç¨‹åˆåœ¨äº† Client Hello å’Œ Server Hello ä¸­ï¼ˆé€šè¿‡ key_share äº¤æ¢ï¼‰ï¼Œçœå»äº† TLS1.2ä¸­çš„ Client Key Exchange å’Œ Server Key Exchangeï¼Œè¿™ä¹Ÿæ˜¯ TLS1.3 åœ¨æ¡æ‰‹è¿‡ç¨‹æ¯” TLS1.2 ç¼©çŸ­ 1-RTT çš„åœ°æ–¹ã€‚\nä¸ªäººç†è§£ï¼Œæœ‰è¯¯è¯·æŒ‡æ­£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588585328,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":3700,"ip_address":""},"score":257541,"extra":""}]}]},{"had_liked":false,"id":281933,"user_name":"å®ä»”","can_delete":false,"product_type":"c1","uid":1013493,"ip_address":"","ucode":"A0F17DFF99DB21","user_header":"https://static001.geekbang.org/account/avatar/00/0f/76/f5/e3f5bd8d.jpg","comment_is_top":false,"comment_ctime":1614956024,"is_pvip":true,"replies":[{"id":"102363","content":"å…ˆè¯´ä¸€ä¸‹ï¼Œæˆ‘å·²ç»ç¦»å¼€360ä¸€æ®µæ—¶é—´äº†ï¼Œæ‰€ä»¥åªèƒ½æ˜¯â€œå‰åŒäº‹â€ã€‚<br><br>å…³äºè¿™ä¸ªé—®é¢˜ï¼Œä»æè¿°ä¸Šæ¥çœ‹ï¼Œå¥½åƒä¸proxy_ssl_server_name onæ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—è¿˜æ˜¯åº”è¯¥ä»ç½‘ç»œç¯å¢ƒä¸Šæ‰¾åŸå› ï¼Œè€Œä¸æ˜¯Nginxçš„é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1614985423,"ip_address":"","comment_id":281933,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5909923320","product_id":100029001,"comment_content":"ç½—è€å¸ˆä½ å¥½ï¼Œæˆ‘ä»¬å…¶å®ä¹Ÿç®—åŒäº‹å“ˆå“ˆã€‚æˆ‘ä»¬æ˜¯è¢«360å…¨èµ„æ”¶è´­çš„ä¸€ä¸ªåˆ›ä¸šå…¬å¸ï¼Œå’¨è¯¢ä½ ä¸€ä¸ªé—®é¢˜ï¼š<br>å®¢æˆ·Aæœ‰è‡ªå·±çš„ä¸€ä¸ªåŸŸåa.test.comï¼ˆnginx webï¼Œè¿™ä¸ªnginx webä¹Ÿæ˜¯æˆ‘ä»¬ç»™æ­å»ºçš„ï¼‰,è®¿é—®https:&#47;&#47;a.test.comä¼šåå‘ä»£ç†(proxy_pass https:&#47;&#47;c.me.com)åˆ°æˆ‘ä»¬çš„ç«™ç‚¹ï¼Œc.me.comå³ä¸ºæˆ‘ä»¬çš„ç«™ç‚¹ã€‚çªç„¶æœ‰ä¸€å¤©å®¢æˆ·åé¦ˆç½‘ç«™æ— æ³•è®¿é—®(é—®é¢˜è¡¨è±¡æ˜¯è®¿é—®å¾ˆæ…¢ï¼Œå¤§æ¦‚è¦7så·¦å³ï¼Œè¦ä¹ˆå°±æ˜¯è¶…æ—¶502)ï¼ŒæŸ¥äº†å¾ˆä¹…çš„é—®é¢˜ï¼Œå„ç§æŠ“åŒ…ï¼Œæœ€ç»ˆåœ¨å®¢æˆ·çš„nginxä¸ŠåŠ äº†proxy_ssl_server_name on;å°±å¥½äº†ï¼›æˆ‘ä»¬ä¹ŸçŸ¥é“è¿™ä¸ªå‚æ•°çš„å«ä¹‰äº†ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™è¾¹æ²¡æœ‰åšä»»ä½•å˜åŠ¨ï¼ŒåŒ…æ‹¬è¿™å®¶å®¢æˆ·çš„nginxæˆ‘ä»¬ä¹Ÿæ²¡åšä»»ä½•å˜åŠ¨ï¼Œå¹¶ä¸”æˆ‘ä»¬çš„å®¢æˆ·ä¸æ­¢è¿™ä¹ˆä¸€å®¶ï¼Œé…ç½®éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå…¶ä»–å®¶éƒ½æ˜¯æ­£å¸¸çš„ã€‚éš¾é“æ˜¯å®¢æˆ·è¿™è¾¹å‡ºå£åšäº†ä»€ä¹ˆè°ƒæ•´å—ï¼Ÿè€å¸ˆæœ‰è§£æ³•å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516554,"discussion_content":"å…ˆè¯´ä¸€ä¸‹ï¼Œæˆ‘å·²ç»ç¦»å¼€360ä¸€æ®µæ—¶é—´äº†ï¼Œæ‰€ä»¥åªèƒ½æ˜¯â€œå‰åŒäº‹â€ã€‚\n\nå…³äºè¿™ä¸ªé—®é¢˜ï¼Œä»æè¿°ä¸Šæ¥çœ‹ï¼Œå¥½åƒä¸proxy_ssl_server_name onæ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—è¿˜æ˜¯åº”è¯¥ä»ç½‘ç»œç¯å¢ƒä¸Šæ‰¾åŸå› ï¼Œè€Œä¸æ˜¯Nginxçš„é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614985423,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2211363,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoWoXojHwtbL72K6oXgbiaThl5UuNlkNyWFpw5klRzQ7RhIhNOXtkgmH4h4d0AyWShk2D41emXM5PQ/132","nickname":"ç²ç‘ä½©","note":"","ucode":"57FEC507F8DEDB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387801,"discussion_content":"æ˜¯è¿™ä¸ªé—®é¢˜å—ï¼Ÿ http://www.bubuko.com/infodetail-2565746.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628419774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222547,"user_name":"james","can_delete":false,"product_type":"c1","uid":1232771,"ip_address":"","ucode":"AC42035106E5B9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/yyibGRYCArsUNBfCAEAibua09Yb9D5AdO8TkCmXymhAepibqmlz0hzg06ggBLxyvXicnjqFVGr7zYF0rQoZ0aXCBAg/132","comment_is_top":false,"comment_ctime":1590832655,"is_pvip":false,"replies":[{"id":"82055","content":"è¯´çš„å¾ˆå¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1590839126,"ip_address":"","comment_id":222547,"utype":1}],"discussion_count":1,"race_medal":1,"score":"5885799951","product_id":100029001,"comment_content":"1. TLS1.3ç²¾ç®€äº†åŠ å¯†ç®—æ³•ï¼Œé€šè¿‡support_groupsã€key_shareã€signature_algorithmsè¿™äº›å‚æ•°å°±èƒ½åˆ¤æ–­å‡ºå¯†é’¥äº¤æ¢ç®—æ³•å’Œç­¾åç®—æ³•ï¼Œä¸ç”¨åœ¨cipher suiteä¸­åå•†äº†<br>2.  RSA æ¡æ‰‹ä¸­ï¼ŒServer Hello åï¼Œå®¢æˆ·ç«¯æ‹¿åˆ°æœåŠ¡å™¨çš„è¯ä¹¦ï¼Œä»ä¸­æå–å‡ºæœåŠ¡å™¨çš„å…¬é’¥ï¼Œç„¶åç”¨è¿™ä¸ªå…¬é’¥å»åŠ å¯†å®¢æˆ·ç«¯ç”Ÿæˆçš„ä¸€ä¸ªéšæœºæ•°ï¼ˆä¼šè¯å¯†é’¥ï¼‰å¾—åˆ°å¯†æ–‡ï¼Œç„¶åå°†å…¶è¿”å›ç»™æœåŠ¡å™¨ã€‚è™½ç„¶æ¯æ¬¡ TLS æ¡æ‰‹ä¸­çš„ä¼šè¯å¯†é’¥éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œä½†æœåŠ¡å™¨çš„ç§é’¥å´å§‹ç»ˆä¸ä¼šå˜ã€‚ä¸€æ—¦é»‘å®¢æ‹¿åˆ°äº†æœåŠ¡å™¨ç§é’¥ï¼Œå¹¶ä¸”æˆªè·äº†ä¹‹å‰çš„æ‰€æœ‰å¯†æ–‡ï¼Œå°±èƒ½æ‹¿åˆ°æ¯æ¬¡ä¼šè¯ä¸­çš„å¯¹ç§°å¯†é’¥ï¼Œä»è€Œå¾—åˆ°å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„æ‰€æœ‰â€œå†å²ä¼šè¯è®°å½•â€ã€‚<br><br>è¯´åˆ°åº•ï¼ŒRSA æ¡æ‰‹ä¸‹ï¼ŒæœåŠ¡å™¨ç§é’¥æ˜¯ä¸å˜çš„ï¼Œä»è€Œå¯¼è‡´ä¸å…·æœ‰â€œå‰å‘å®‰å…¨â€ã€‚è€Œ ECDHE çš„ç§é’¥å´æ˜¯åŠ¨æ€çš„ï¼Œé»‘å®¢æ‹¿åˆ°äº†ä¸€ä¸ªï¼Œä¹Ÿåªèƒ½è§£å¯†ä¸€ä¸ªå¯†æ–‡ã€‚<br><br>3.  ç›¸åŒç‚¹ï¼šéƒ½åœ¨æœªæ”¶åˆ°Finishedç¡®è®¤æ¶ˆæ¯æ—¶å°±å·²ç»å‘å¯¹æ–¹å‘é€åŠ å¯†ä¿¡æ¯äº†ï¼Œä¸åŒç‚¹ï¼šTLS1.3å°†change cipher specåˆå¹¶åˆ°äº†helloä¸­","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496838,"discussion_content":"è¯´çš„å¾ˆå¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590839126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":213915,"user_name":"é¥­ç²’","can_delete":false,"product_type":"c1","uid":1153455,"ip_address":"","ucode":"4C3220B0D43997","user_header":"https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg","comment_is_top":false,"comment_ctime":1588588849,"is_pvip":false,"replies":[{"id":"79267","content":"æ˜¯çš„ï¼Œå®¢æˆ·ç«¯é¢„å…ˆç»™å‡ºä¸€äº›ç®—æ³•å‚æ•°ï¼Œè®©æœåŠ¡å™¨é€‰å®šï¼Œè¿™æ ·å°±çœå»äº†TLS1.2çš„å¥—ä»¶åå•†è¿‡ç¨‹ã€‚<br><br>æ¯”å¦‚è¿™é‡Œå°±æ˜¯ä¸¤ä¸ªæ¤­åœ†æ›²çº¿ï¼Œx25519å’ŒP-256ï¼ŒæœåŠ¡å™¨å¯ä»¥ä»ä¸­æŒ‘ä¸€ä¸ªï¼Œç›®å‰å¤§å¤šæ•°éƒ½ä½¿ç”¨æœ€å¿«æœ€å®‰å…¨çš„X25519ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1588634116,"ip_address":"","comment_id":213915,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5883556145","product_id":100029001,"comment_content":"Client Hello æ•°æ®ä¸­å¯†é’¥å‚æ•° key_share æœ‰ä¸¤ä¸ª Key Share Entryï¼ŒæœåŠ¡ç«¯å›å¤åªè¿”å›äº†ä¸€ä¸ªï¼Œè¿™ä¸ªåº”è¯¥æ˜¯å’Œå¯†é’¥å¥—ä»¶ï¼ˆ5é€‰1ï¼‰ä¸€æ ·æ˜¯éœ€è¦æœåŠ¡ç«¯ç¡®å®šå…·ä½“ä½¿ç”¨å“ªä¸ªï¼Ÿ<br>Extension: key_share (len=107)<br>    Type: key_share (51)<br>    Length: 107<br>    Key Share extension<br>        Client Key Share Length: 105<br>        Key Share Entry: Group: x25519, Key Exchange length: 32<br>        Key Share Entry: Group: secp256r1, Key Exchange length: 65","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493896,"discussion_content":"æ˜¯çš„ï¼Œå®¢æˆ·ç«¯é¢„å…ˆç»™å‡ºä¸€äº›ç®—æ³•å‚æ•°ï¼Œè®©æœåŠ¡å™¨é€‰å®šï¼Œè¿™æ ·å°±çœå»äº†TLS1.2çš„å¥—ä»¶åå•†è¿‡ç¨‹ã€‚\n\næ¯”å¦‚è¿™é‡Œå°±æ˜¯ä¸¤ä¸ªæ¤­åœ†æ›²çº¿ï¼Œx25519å’ŒP-256ï¼ŒæœåŠ¡å™¨å¯ä»¥ä»ä¸­æŒ‘ä¸€ä¸ªï¼Œç›®å‰å¤§å¤šæ•°éƒ½ä½¿ç”¨æœ€å¿«æœ€å®‰å…¨çš„X25519ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588634116,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":147054,"user_name":"bookå°¾æ±","can_delete":false,"product_type":"c1","uid":1446375,"ip_address":"","ucode":"AE2B8DFC643ACC","user_header":"https://static001.geekbang.org/account/avatar/00/16/11/e7/044a9a6c.jpg","comment_is_top":false,"comment_ctime":1572778310,"is_pvip":true,"replies":[{"id":"56812","content":"<br>1.tls1.3ç”¨æ‰©å±•åè®®åˆ—å‡ºäº†æ”¯æŒçš„å¯†é’¥äº¤æ¢ç®—æ³•å’Œç­¾åç®—æ³•ï¼Œæ‰€ä»¥ä¸éœ€è¦ç”¨å¯†ç å¥—ä»¶æŒ‡å®šã€‚<br><br>2.å¯¹ã€‚<br><br>3.å¯¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1572829517,"ip_address":"","comment_id":147054,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5867745606","product_id":100029001,"comment_content":"1. TLS1.3ç‰ˆæœ¬åœ¨client helloæ—¶ï¼Œå·²ç»æŒ‡å®šäº†æ‘˜è¦ç®—æ³•ï¼Œåˆ—å‡ºäº†æ‰€æ”¯æŒçš„æ¤­åœ†æ›²çº¿ã€åŸºç‚¹ä¿¡æ¯ã€‚<br>2. RSAåšå¯†é’¥äº¤æ¢ç®—æ³•æ—¶ï¼Œé‡‡ç”¨çš„æ˜¯è¯ä¹¦é‡Œé¢å…¬é’¥å¯¹åº”çš„ç§é’¥æ¥åŠ å¯†ä¼šè¯å¯†é’¥ï¼Œä¸€èˆ¬ç§é’¥è¢«ç ´è§£ï¼Œå°±å¯ä»¥å¾—åˆ°ä¹‹å‰æˆªè·ä¿¡æ¯çš„ä¼šè¯å¯†é’¥ï¼Œè§£å¯†æ¶ˆæ¯<br>3 ç›¸åŒç‚¹ï¼Œéƒ½æ˜¯æœªæ”¶åˆ°å“åº”å‰å°±æŠŠ å®¢æˆ·ç«¯å°±æŠŠå¯†é’¥äº¤æ¢ç®—æ³•éœ€è¦çš„å‚æ•°ä¼ äº†è¿‡å»<br>ä¸åŒç‚¹ï¼Œå› ä¸ºæœåŠ¡å™¨å°šæœªé€‰æ‹©å¯†é’¥äº¤æ¢ç®—æ³•ï¼Œå› æ­¤å¯†é’¥äº¤æ¢ç®—æ³•çš„å‚æ•°æœ‰å¤šä¸ªï¼Œfalse startä¸­æ˜¯å®¢æˆ·ç«¯å…ˆå¾—åˆ°æ¤­åœ†æ›²çº¿çš„ä¸¤ä¸ªå‚æ•°ï¼Œç®—å‡ºmaster keyå¹¶å‘èµ· change cipher specï¼Œè€ŒTLS1.3åˆ™æ˜¯æœåŠ¡å™¨å…ˆå¾—åˆ°è¿™ä¸¤ä¸ªå‚æ•°ï¼Œå‘èµ·change cipher spec, TLS1.3change cipher specåˆå¹¶åˆ°äº†clienthelloä¸­","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473119,"discussion_content":"\n1.tls1.3ç”¨æ‰©å±•åè®®åˆ—å‡ºäº†æ”¯æŒçš„å¯†é’¥äº¤æ¢ç®—æ³•å’Œç­¾åç®—æ³•ï¼Œæ‰€ä»¥ä¸éœ€è¦ç”¨å¯†ç å¥—ä»¶æŒ‡å®šã€‚\n\n2.å¯¹ã€‚\n\n3.å¯¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572829517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343536,"user_name":"ä¸€çœå¾èº«","can_delete":false,"product_type":"c1","uid":1676631,"ip_address":"","ucode":"D902357160BBD9","user_header":"https://static001.geekbang.org/account/avatar/00/19/95/57/a2991536.jpg","comment_is_top":false,"comment_ctime":1650895876,"is_pvip":true,"replies":[{"id":"125583","content":"è¿™ä¸¤å¯¹å…¬ç§é’¥çš„ç”¨é€”ä¸ä¸€æ ·ï¼Œè¦æ³¨æ„åŒºåˆ†ã€‚<br><br>ecdheæ˜¯ç”¨æ¥åšå¯†é’¥äº¤æ¢çš„ï¼Œä¸´æ—¶ç”¨ï¼Œæ‰€ä»¥ä¸éœ€è¦éªŒè¯ã€‚<br>rsaæ˜¯ç”¨ä½œèº«ä»½è®¤è¯çš„ï¼Œæ‰€æœ‰å¿…é¡»è¦æœ‰caç­¾åèƒŒä¹¦ã€‚<br><br>rsaç”Ÿæˆå¯†é’¥çš„é€Ÿåº¦å¾ˆæ…¢ï¼Œè€Œä¸”å®ƒçš„ç®—æ³•ç‰¹æ€§ä¹Ÿå†³å®šäº†æ²¡æœ‰åŠæ³•å®ç°å‰å‘ä¿å¯†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1181974","ctime":1651128467,"ip_address":"","comment_id":343536,"utype":1}],"discussion_count":2,"race_medal":2,"score":"1650895876","product_id":100029001,"comment_content":"è€å¸ˆæœ‰ç‚¹æ²¡æ‡‚:<br>ecdheæ¯æ¬¡éƒ½ä¼šç”Ÿæˆæ–°çš„å…¬ç§é’¥ï¼Œè€Œrsaæ€»æ˜¯ç”¨æœåŠ¡å™¨çš„å…¬é’¥åŠ å¯†ç§é’¥è§£å¯†.<br>    è¯ä¹¦æ˜¯ç»™serverçš„å…¬é’¥èƒŒä¹¦çš„,å¦‚æœç”¨æ–°ç”Ÿæˆçš„å…¬ç§é’¥,ä¿¡ä»»æ˜¯å¦‚ä½•å»ºç«‹çš„å‘¢?<br>    å¦å¤–ä¸ºä»€ä¹ˆrsaä¸ä¹Ÿæ¯æ¬¡ç”Ÿæˆæ–°çš„å…¬ç§é’¥å‘¢,æ˜¯ä¸èƒ½å®ç°è¿˜æ˜¯ä¸ºäº†å‘å‰å…¼å®¹å‘¢?<br>æ„Ÿè°¢!<br>","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568414,"discussion_content":"è¿™ä¸¤å¯¹å…¬ç§é’¥çš„ç”¨é€”ä¸ä¸€æ ·ï¼Œè¦æ³¨æ„åŒºåˆ†ã€‚\n\necdheæ˜¯ç”¨æ¥åšå¯†é’¥äº¤æ¢çš„ï¼Œä¸´æ—¶ç”¨ï¼Œæ‰€ä»¥ä¸éœ€è¦éªŒè¯ã€‚\nrsaæ˜¯ç”¨ä½œèº«ä»½è®¤è¯çš„ï¼Œæ‰€æœ‰å¿…é¡»è¦æœ‰caç­¾åèƒŒä¹¦ã€‚\n\nrsaç”Ÿæˆå¯†é’¥çš„é€Ÿåº¦å¾ˆæ…¢ï¼Œè€Œä¸”å®ƒçš„ç®—æ³•ç‰¹æ€§ä¹Ÿå†³å®šäº†æ²¡æœ‰åŠæ³•å®ç°å‰å‘ä¿å¯†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651128467,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1676631,"avatar":"https://static001.geekbang.org/account/avatar/00/19/95/57/a2991536.jpg","nickname":"ä¸€çœå¾èº«","note":"","ucode":"D902357160BBD9","race_medal":2,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569417,"discussion_content":"æ„Ÿè°¢è§£ç­”ï¼Œèµï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651421426,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316397,"user_name":"Geek_1760ca","can_delete":false,"product_type":"c1","uid":1513123,"ip_address":"","ucode":"5D29BAB6ACDDF8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKH4ILYLTcZjkl4lqZL6r4ZqPCic6IgPNByYccszEwhI0CU8SWW8g96gdIWiapw1RI6eYiagP10rXusA/132","comment_is_top":false,"comment_ctime":1634296119,"is_pvip":false,"replies":[{"id":"114596","content":"å¯ä»¥æ”¹ï¼Œä½†æ”¹ä¹‹åéšæœºæ•°å°±å’ŒæœåŠ¡å™¨çš„å¯¹ä¸ä¸Šäº†ï¼Œæ— æ³•å®Œæˆæ¡æ‰‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1634347450,"ip_address":"","comment_id":316397,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634296119","product_id":100029001,"comment_content":"å°è´´å£«ä¸­çš„é™çº§ä¿æŠ¤æœºåˆ¶çœŸçš„æœ‰ç”¨ä¹ˆï¼Ÿ ä¸­é—´äººæœ¬æ¥å°±æ—¢æ˜¯æœåŠ¡ç«¯åˆæ˜¯å®¢æˆ·ç«¯ã€‚æ˜¯ä¸æ˜¯å¯ä»¥å‘ç°æç¤ºçš„éšæœºæ•°å†æ”¹æ‰?","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528377,"discussion_content":"å¯ä»¥æ”¹ï¼Œä½†æ”¹ä¹‹åéšæœºæ•°å°±å’ŒæœåŠ¡å™¨çš„å¯¹ä¸ä¸Šäº†ï¼Œæ— æ³•å®Œæˆæ¡æ‰‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634347450,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":314139,"user_name":"Unknown element","can_delete":false,"product_type":"c1","uid":2028277,"ip_address":"","ucode":"34A129800D0238","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f2/f5/b82f410d.jpg","comment_is_top":false,"comment_ctime":1632875382,"is_pvip":false,"replies":[{"id":"113784","content":"æ˜¯çš„ã€‚<br><br>å› ä¸ºtls1.3åªæœ‰å¾ˆå°‘çš„å‡ ä¸ªå¯†ç å¥—ä»¶ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯å°±å…¨ç”Ÿæˆå¥½ï¼Œå‘ç»™æœåŠ¡å™¨ï¼Œç„¶åæœåŠ¡å™¨å†æŒ‘ä¸€ä¸ªï¼Œè¿™æ ·å°±çœå»äº†æ¥å›åå•†çš„éº»çƒ¦ã€‚<br><br>å¯ä»¥å†çœ‹çœ‹æŠ“åŒ…æ•°æ®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1632883461,"ip_address":"","comment_id":314139,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632875382","product_id":100029001,"comment_content":"è€å¸ˆclient paramä¸æ˜¯å’Œå…·ä½“é‡‡ç”¨çš„å¯†ç å¥—ä»¶æœ‰å…³å— é‚£tls 1.3ä¸­å®¢æˆ·ç«¯æ˜¯å¦‚ä½•åœ¨æœåŠ¡å™¨è¿”å›é‡‡ç”¨çš„å¯†ç å¥—ä»¶ä¹‹å‰æŠŠè¿™ä¸ªå‚æ•°å‘ç»™æœåŠ¡å™¨çš„ï¼Ÿè¿˜æ˜¯è¯´å®¢æˆ·ç«¯æŠŠä»…æœ‰çš„å‡ ä¸ªå¯†ç å¥—ä»¶éƒ½ç”Ÿæˆäº†ä¸€ä¸ªå‚æ•°ç„¶åéƒ½å‘ç»™æœåŠ¡å™¨è®©æœåŠ¡å™¨æ¥é€‰ï¼Ÿè°¢è°¢è€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527585,"discussion_content":"æ˜¯çš„ã€‚\n\nå› ä¸ºtls1.3åªæœ‰å¾ˆå°‘çš„å‡ ä¸ªå¯†ç å¥—ä»¶ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯å°±å…¨ç”Ÿæˆå¥½ï¼Œå‘ç»™æœåŠ¡å™¨ï¼Œç„¶åæœåŠ¡å™¨å†æŒ‘ä¸€ä¸ªï¼Œè¿™æ ·å°±çœå»äº†æ¥å›åå•†çš„éº»çƒ¦ã€‚\n\nå¯ä»¥å†çœ‹çœ‹æŠ“åŒ…æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632883461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310760,"user_name":"Geek_68d3d2","can_delete":false,"product_type":"c1","uid":1674369,"ip_address":"","ucode":"EBD6D881AA7A74","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqf54z1ZmqQY1kmJ6t1HAnrqMM3j6WKf0oDeVLhtnA2ZUKY6AX9MK6RjvcO8SiczXy3uU0IzBQ3tpw/132","comment_is_top":false,"comment_ctime":1630895980,"is_pvip":false,"replies":[{"id":"112607","content":"å‰å‘å®‰å…¨ä¸tls1.3æ— å…³ï¼Œè·Ÿæ¡æ‰‹æ—¶ä½¿ç”¨çš„ç®—æ³•æœ‰å…³ã€‚<br><br>tls1.3åºŸå¼ƒäº†rsaç®—æ³•ï¼Œå®ƒä¸å…·æœ‰å‰å‘å®‰å…¨æ€§ï¼Œè€Œåªèƒ½ä½¿ç”¨dheå’Œecdheï¼Œæ‰€ä»¥å°±å…·å¤‡äº†å‰å‘å®‰å…¨ï¼Œå¯†é’¥éƒ½æ˜¯ä¸´æ—¶ç”Ÿæˆçš„ï¼Œç›¸å½“äºä¸€æ¬¡ä¸€å¯†ï¼Œé»‘å®¢ç ´è§£äº†ä¹Ÿä¸ä¼šå¯¹å…¶ä»–ä¼šè¯é€ æˆå½±å“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1630909364,"ip_address":"","comment_id":310760,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630895980","product_id":100029001,"comment_content":"æ²¡æ˜ç™½tls1.3å¦‚ä½•è§£å†³é‚£ç§ä»Šæ—¥æˆªè·æ˜æ—¥ç ´è§£çš„é—®é¢˜ã€‚ç§é’¥é»‘å®¢å°±ä¸èƒ½è‡ªå·±ç®—?","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526342,"discussion_content":"å‰å‘å®‰å…¨ä¸tls1.3æ— å…³ï¼Œè·Ÿæ¡æ‰‹æ—¶ä½¿ç”¨çš„ç®—æ³•æœ‰å…³ã€‚\n\ntls1.3åºŸå¼ƒäº†rsaç®—æ³•ï¼Œå®ƒä¸å…·æœ‰å‰å‘å®‰å…¨æ€§ï¼Œè€Œåªèƒ½ä½¿ç”¨dheå’Œecdheï¼Œæ‰€ä»¥å°±å…·å¤‡äº†å‰å‘å®‰å…¨ï¼Œå¯†é’¥éƒ½æ˜¯ä¸´æ—¶ç”Ÿæˆçš„ï¼Œç›¸å½“äºä¸€æ¬¡ä¸€å¯†ï¼Œé»‘å®¢ç ´è§£äº†ä¹Ÿä¸ä¼šå¯¹å…¶ä»–ä¼šè¯é€ æˆå½±å“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630909364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305484,"user_name":"å‡äºç‰©","can_delete":false,"product_type":"c1","uid":2708739,"ip_address":"","ucode":"2775796BFD4D20","user_header":"https://static001.geekbang.org/account/avatar/00/29/55/03/1092fb6a.jpg","comment_is_top":false,"comment_ctime":1627991985,"is_pvip":false,"replies":[{"id":"110482","content":"ä¸€æ¬¡ä¸€å¯†æŒ‡çš„æ˜¯åŠ å¯†ç”¨çš„å…¬ç§é’¥æ˜¯ä¸´æ—¶ç”Ÿæˆçš„ã€‚<br><br>ecdheæ¯æ¬¡éƒ½ä¼šç”Ÿæˆæ–°çš„å…¬ç§é’¥ï¼Œè€Œrsaæ€»æ˜¯ç”¨æœåŠ¡å™¨çš„å…¬é’¥åŠ å¯†ç§é’¥è§£å¯†ï¼Œä¸æ˜¯ä¸´æ—¶çš„å…¬é’¥ç§é’¥ï¼Œæ‰€ä»¥ä¸æ˜¯ä¸€æ¬¡ä¸€å¯†ã€‚<br><br>è¿™ä¸ªå°±å¯¼è‡´äº†rsaä¸å…·æœ‰å‰å‘å®‰å…¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1628039359,"ip_address":"","comment_id":305484,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1627991985","product_id":100029001,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªåœ°æ–¹éœ€è¦è¯·æ•™ä¸‹<br>æ–‡ä¸­è¯´ECDHEæ˜¯ä¸€æ¬¡ä¸€å¯†ï¼Œå…¶å®RSAä¹Ÿæ˜¯ä¸€æ¬¡ä¸€å¯†å§<br>RSAå› ä¸ºå¯¹ç§°ç§˜é’¥æ˜¯ç”±å®¢æˆ·ç«¯å†³å®šçš„ï¼Œç”¨äº†æœåŠ¡å™¨çš„å…¬é’¥åŠ å¯†ï¼›<br>åœ¨æœåŠ¡å™¨ç§é’¥è¢«ç ´è§£ï¼ŒRSAæ‰€æœ‰çš„ä¿¡æ¯éƒ½ä¼šè¢«ç ´è§£<br>","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524401,"discussion_content":"ä¸€æ¬¡ä¸€å¯†æŒ‡çš„æ˜¯åŠ å¯†ç”¨çš„å…¬ç§é’¥æ˜¯ä¸´æ—¶ç”Ÿæˆçš„ã€‚\n\necdheæ¯æ¬¡éƒ½ä¼šç”Ÿæˆæ–°çš„å…¬ç§é’¥ï¼Œè€Œrsaæ€»æ˜¯ç”¨æœåŠ¡å™¨çš„å…¬é’¥åŠ å¯†ç§é’¥è§£å¯†ï¼Œä¸æ˜¯ä¸´æ—¶çš„å…¬é’¥ç§é’¥ï¼Œæ‰€ä»¥ä¸æ˜¯ä¸€æ¬¡ä¸€å¯†ã€‚\n\nè¿™ä¸ªå°±å¯¼è‡´äº†rsaä¸å…·æœ‰å‰å‘å®‰å…¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628039359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296164,"user_name":"o9","can_delete":false,"product_type":"c1","uid":1101332,"ip_address":"","ucode":"E373E82A39BBFE","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/14/b488f241.jpg","comment_is_top":false,"comment_ctime":1622784732,"is_pvip":false,"replies":[{"id":"107505","content":"è¿™é‡Œè¯´çš„rttæ˜¯æŒ‡tcpå»ºè¿åæ¶ˆè´¹çš„rttï¼Œæ˜¯tlså±‚é¢çš„æ¶ˆæ¯æ¥å›ï¼Œå°±ä¸è€ƒè™‘tcpçš„ackäº†ã€‚<br><br>tls1.3åªç”¨ä¸€ä¸ªrttå°±å®Œæˆäº†æ¡æ‰‹ï¼Œè€Œtls1.2äº¤äº’è¿‡ç¨‹å°±éº»çƒ¦äº†ä¸€ç‚¹ï¼Œrsaè¦ç”¨2ä¸ªrttå®Œæˆå¯†é’¥äº¤æ¢ï¼Œè€Œecdheåœ¨ç¬¬ä¸€ä¸ªrttä¹‹åï¼Œç¬¬äºŒä¸ªæ¶ˆæ¯å¯ä»¥ç”¨false startæå‰å‘é€åº”ç”¨æ•°æ®ï¼Œæ•ˆæœå’Œ1.3å°±å·®ä¸å¤šäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1622854111,"ip_address":"","comment_id":296164,"utype":1}],"discussion_count":2,"race_medal":1,"score":"1622784732","product_id":100029001,"comment_content":"ä½œè€… æ‚¨å¥½ï¼Œæ‚¨åœ¨æ–‡ç« é‡Œè¯´ TLS1.2éœ€è¦èŠ±è´¹ 2 ä¸ª RTTï¼Œä½†æ˜¯æˆ‘çœ‹æ–‡ç« é‡Œçš„å›¾ç‰‡ é‡Œé¢æ˜¯æœ‰æœåŠ¡ç«¯è¿”å›çš„ ACK åŒ…çš„å•Šï¼Œè¿™ä¸ªä¸ç®—å—ï¼ŸECDHEåº”è¯¥æ˜¯ï¼“ä¸ªæ¶ˆæ¯å¾€è¿”å•Š","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521344,"discussion_content":"è¿™é‡Œè¯´çš„rttæ˜¯æŒ‡tcpå»ºè¿åæ¶ˆè´¹çš„rttï¼Œæ˜¯tlså±‚é¢çš„æ¶ˆæ¯æ¥å›ï¼Œå°±ä¸è€ƒè™‘tcpçš„ackäº†ã€‚\n\ntls1.3åªç”¨ä¸€ä¸ªrttå°±å®Œæˆäº†æ¡æ‰‹ï¼Œè€Œtls1.2äº¤äº’è¿‡ç¨‹å°±éº»çƒ¦äº†ä¸€ç‚¹ï¼Œrsaè¦ç”¨2ä¸ªrttå®Œæˆå¯†é’¥äº¤æ¢ï¼Œè€Œecdheåœ¨ç¬¬ä¸€ä¸ªrttä¹‹åï¼Œç¬¬äºŒä¸ªæ¶ˆæ¯å¯ä»¥ç”¨false startæå‰å‘é€åº”ç”¨æ•°æ®ï¼Œæ•ˆæœå’Œ1.3å°±å·®ä¸å¤šäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622854111,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1101332,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ce/14/b488f241.jpg","nickname":"o9","note":"","ucode":"E373E82A39BBFE","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377786,"discussion_content":"è¿™ä¹ˆè¯´æˆ‘å°±äº†ç„¶äº† è°¢è°¢å¤§ä½¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622858967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":265455,"user_name":"123","can_delete":false,"product_type":"c1","uid":2254642,"ip_address":"","ucode":"701F0C970CBE70","user_header":"https://static001.geekbang.org/account/avatar/00/22/67/32/efb8ca32.jpg","comment_is_top":false,"comment_ctime":1606902080,"is_pvip":false,"replies":[{"id":"96532","content":"å¯¹å›½å¯†ä¸æ˜¯å¤ªäº†è§£ï¼Œè€Œä¸”TLSæœ¬èº«å°±æ˜¯å›½é™…æ ‡å‡†ï¼Œä¸å­˜åœ¨å…¶ä»–ç‰ˆæœ¬ï¼Œæˆ‘ä¸ªäººç†è§£å¯èƒ½æ˜¯ç®—æ³•é‡ŒåŠ å…¥äº†å›½å¯†ç®—æ³•å§ï¼Œä½†è¿™ä¸ªå°±è·³å‡ºæ ‡å‡†çš„å®šä¹‰äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1606958394,"ip_address":"","comment_id":265455,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1606902080","product_id":100029001,"comment_content":"è€å¸ˆèƒ½å¦è®²ä¸€ä¸‹ï¼Œå›½å¯†tlsåè®®ä¸å›½é™…åè®®çš„åŒºåˆ«ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510934,"discussion_content":"å¯¹å›½å¯†ä¸æ˜¯å¤ªäº†è§£ï¼Œè€Œä¸”TLSæœ¬èº«å°±æ˜¯å›½é™…æ ‡å‡†ï¼Œä¸å­˜åœ¨å…¶ä»–ç‰ˆæœ¬ï¼Œæˆ‘ä¸ªäººç†è§£å¯èƒ½æ˜¯ç®—æ³•é‡ŒåŠ å…¥äº†å›½å¯†ç®—æ³•å§ï¼Œä½†è¿™ä¸ªå°±è·³å‡ºæ ‡å‡†çš„å®šä¹‰äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606958394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231634,"user_name":"BoyiKia","can_delete":false,"product_type":"c1","uid":1983680,"ip_address":"","ucode":"D37541B4451D6B","user_header":"https://static001.geekbang.org/account/avatar/00/1e/44/c0/cd2cd082.jpg","comment_is_top":false,"comment_ctime":1593739340,"is_pvip":false,"replies":[{"id":"85512","content":"å¯†é’¥å¿…é¡»è¦é…åˆç®—æ³•æ‰èƒ½èµ·ä½œç”¨ï¼Œæ¯”å¦‚RSAç®—æ³•è¦ç”¨1024ä½çš„ç§é’¥ï¼ŒECDHEç®—æ³•è¦ç”¨224ä½çš„ç§é’¥ã€‚<br><br>åªæœ‰ç§é’¥ï¼Œå®ƒåªæ˜¯ä¸€ä¸²æ•°å­—ï¼Œæ˜¯æ— æ³•å®Œæˆç­¾ååŠ¨ä½œçš„ï¼Œå¿…é¡»è¦åœ¨ç®—æ³•é‡Œæ‰èƒ½èµ·ä½œç”¨ã€‚<br><br>å°±åƒç›–ç« ä¸€æ ·ï¼Œåªæœ‰ç« ä¸è¡Œï¼Œè¿˜å¾—æœ‰å°æ³¥ã€ç›–åœ¨æ­£ç¡®çš„åœ°æ–¹æ‰èƒ½ç®—æ˜¯ç­¾åã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1593742449,"ip_address":"","comment_id":231634,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593739340","product_id":100029001,"comment_content":"è€å¸ˆ æ•°å­—ç­¾åï¼Œæ˜¯æœåŠ¡å™¨ç”¨ç§é’¥åŠ å¯†äº†æ‘˜è¦ã€‚é‚£ä¹ˆ  ç­¾åç®—æ³•æ˜¯æŒ‡ä»€ä¹ˆï¼Œå’Œæ•°å­—ç­¾åæœ‰å…³ç³»å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500386,"discussion_content":"å¯†é’¥å¿…é¡»è¦é…åˆç®—æ³•æ‰èƒ½èµ·ä½œç”¨ï¼Œæ¯”å¦‚RSAç®—æ³•è¦ç”¨1024ä½çš„ç§é’¥ï¼ŒECDHEç®—æ³•è¦ç”¨224ä½çš„ç§é’¥ã€‚\n\nåªæœ‰ç§é’¥ï¼Œå®ƒåªæ˜¯ä¸€ä¸²æ•°å­—ï¼Œæ˜¯æ— æ³•å®Œæˆç­¾ååŠ¨ä½œçš„ï¼Œå¿…é¡»è¦åœ¨ç®—æ³•é‡Œæ‰èƒ½èµ·ä½œç”¨ã€‚\n\nå°±åƒç›–ç« ä¸€æ ·ï¼Œåªæœ‰ç« ä¸è¡Œï¼Œè¿˜å¾—æœ‰å°æ³¥ã€ç›–åœ¨æ­£ç¡®çš„åœ°æ–¹æ‰èƒ½ç®—æ˜¯ç­¾åã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593742449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228677,"user_name":"çˆ±å­¦ä¹ ä¸å®³æ€•","can_delete":false,"product_type":"c1","uid":1245504,"ip_address":"","ucode":"BE325C02E4C92F","user_header":"https://static001.geekbang.org/account/avatar/00/13/01/40/a203a3b9.jpg","comment_is_top":false,"comment_ctime":1592787295,"is_pvip":false,"replies":[{"id":"84323","content":"æ„Ÿè°¢è¤’å¥–ï¼Œä»Šåæˆ‘ä»¬éƒ½è¦æŒç»­å­¦ä¹ è¿›æ­¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1592790274,"ip_address":"","comment_id":228677,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592787295","product_id":100029001,"comment_content":"è¯¾ç¨‹æ¯ä¸€ç¯‡æ–‡ç« éƒ½çœ‹äº†è‡³å°‘ä¸¤éï¼Œå†æ•´ç†ä¸€éç¬”è®°ï¼Œæ‰èƒ½è¾¾åˆ°åˆæ­¥è®¤è¯†ç†è§£çš„ç¨‹åº¦ã€‚éƒ½æ˜¯å¹²è´§ï¼Œå¯¹äºåœ¨æ ¡ç”Ÿæ¥è¯´å†…å®¹å¾ˆä¸°å¯Œã€‚è€Œä¸”ä»å®è·µçš„è§’åº¦å»å­¦ä¹ ï¼Œå»æ‰äº†å¾ˆå¤šä¸éœ€è¦çš„æèŠ‚ï¼Œæ¯”å•çº¯çš„è¯»ã€ŠHTTPæƒå¨æŒ‡å—ã€‹è¿™æ ·çš„è¯å…¸æ›´èƒ½æŠ“ä½é‡ç‚¹å’Œæœ¬è´¨ï¼Œå–œæ¬¢è€å¸ˆçš„è¯¾ç¨‹","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499143,"discussion_content":"æ„Ÿè°¢è¤’å¥–ï¼Œä»Šåæˆ‘ä»¬éƒ½è¦æŒç»­å­¦ä¹ è¿›æ­¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592790274,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227433,"user_name":"ttsunami","can_delete":false,"product_type":"c1","uid":1580976,"ip_address":"","ucode":"10D9066D81F010","user_header":"https://static001.geekbang.org/account/avatar/00/18/1f/b0/83054a91.jpg","comment_is_top":false,"comment_ctime":1592379208,"is_pvip":false,"replies":[{"id":"83813","content":"å¯¹rsaç§é’¥çš„ç†è§£å¾ˆæ­£ç¡®ï¼Œå®‰å…¨çš„å…³é”®åœ¨äºrsaç§é’¥çš„å®‰å…¨ï¼Œè¿™å°±ç»™å‡ºäº†ç ´è§£çš„çªç ´å£ã€‚<br><br>å‰å‘å®‰å…¨æˆ‘æ˜¯è¿™ä¹ˆç†è§£çš„ï¼Œæ˜¯â€œä»ç°åœ¨å¾€å‰ã€å†å²ä¸Šâ€çš„é‚£äº›é€šä¿¡éƒ½æ˜¯å®‰å…¨çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç½—å‰‘é”‹","uid":"1181974","ctime":1592383537,"ip_address":"","comment_id":227433,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1592379208","product_id":100029001,"comment_content":"RSAçš„å‰å‘ä¸å®‰å…¨æ˜¯å› ä¸ºç§é’¥å‚ä¸äº†å¯†é’¥çš„äº¤æ¢è¿‡ç¨‹ï¼Œå¯†é’¥çš„å®Œå…¨å–å†³äºç§é’¥æ˜¯å¦å®‰å…¨ã€‚å³åªæœ‰ç§é’¥å®‰å…¨ï¼Œå¯†é’¥æ‰èƒ½ä¿æŒå®‰å…¨ï¼Œâ€œå‰å‘å®‰å…¨â€œæˆ‘è§‰å¾—ç”¨ â€œå¯†é’¥å®‰å…¨çš„å‰ææ¡ä»¶â€œæ›´é€šä¿—æ˜“æ‡‚ä¸€äº›","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498637,"discussion_content":"å¯¹rsaç§é’¥çš„ç†è§£å¾ˆæ­£ç¡®ï¼Œå®‰å…¨çš„å…³é”®åœ¨äºrsaç§é’¥çš„å®‰å…¨ï¼Œè¿™å°±ç»™å‡ºäº†ç ´è§£çš„çªç ´å£ã€‚\n\nå‰å‘å®‰å…¨æˆ‘æ˜¯è¿™ä¹ˆç†è§£çš„ï¼Œæ˜¯â€œä»ç°åœ¨å¾€å‰ã€å†å²ä¸Šâ€çš„é‚£äº›é€šä¿¡éƒ½æ˜¯å®‰å…¨çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592383537,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1580976,"avatar":"https://static001.geekbang.org/account/avatar/00/18/1f/b0/83054a91.jpg","nickname":"ttsunami","note":"","ucode":"10D9066D81F010","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284457,"discussion_content":"æƒ³æ¥æƒ³å» è¿˜æ˜¯è€å¸ˆçš„ç†è§£å¯¹ä¸€äº› å“ˆå“ˆğŸ˜„ \n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592536879,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":213907,"user_name":"é¥­ç²’","can_delete":false,"product_type":"c1","uid":1153455,"ip_address":"","ucode":"4C3220B0D43997","user_header":"https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg","comment_is_top":false,"comment_ctime":1588588331,"is_pvip":false,"replies":[{"id":"79266","content":"å¼„æ¸…æ¥šå½“å‰ä¸»æµçš„ECDHEï¼ŒTLSä¹Ÿå°±ä¸é‚£ä¹ˆå›°éš¾äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1588634013,"ip_address":"","comment_id":213907,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1588588331","product_id":100029001,"comment_content":"è¿™ä¸¤èŠ‚å†…å®¹å¤ªèµäº†ï¼Œå¤–é¢çš„èµ„æ–™å¤§éƒ½åªè°ˆ TLS1.2 RSA æ¡æ‰‹è¿‡ç¨‹ï¼Œè¿™ä¸¤èŠ‚æ‰©å±•æ¢³ç†çš„æ¸…æ™°å¤šäº†ã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493894,"discussion_content":"å¼„æ¸…æ¥šå½“å‰ä¸»æµçš„ECDHEï¼ŒTLSä¹Ÿå°±ä¸é‚£ä¹ˆå›°éš¾äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588634013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206076,"user_name":"å¼ ä¸‰","can_delete":false,"product_type":"c1","uid":1004092,"ip_address":"","ucode":"1155528FAE1546","user_header":"https://static001.geekbang.org/account/avatar/00/0f/52/3c/d6fcb93a.jpg","comment_is_top":false,"comment_ctime":1586784499,"is_pvip":false,"replies":[{"id":"76970","content":"greatã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1586815734,"ip_address":"","comment_id":206076,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586784499","product_id":100029001,"comment_content":"ç²¾å½©ï¼è¿™ä¸€èŠ‚å’Œä¸Šä¸€èŠ‚ç»“åˆèµ·æ¥ï¼Œå†åŠ ä¸Šè¯„è®ºåŒºçš„è§£ç­”ï¼Œå®Œå…¨è§£æƒ‘äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491663,"discussion_content":"greatã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586815734,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184298,"user_name":"HunterYuan","can_delete":false,"product_type":"c1","uid":1015256,"ip_address":"","ucode":"F8900C33D29AA7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/d8/d7c77764.jpg","comment_is_top":false,"comment_ctime":1583285724,"is_pvip":false,"replies":[{"id":"71313","content":"åœ¨TLSæ ‡å‡†é‡Œåªç”¨åˆ°å•è¯ä¹¦ï¼Œå®ç°ç­¾åè®¤è¯ã€‚<br><br>æˆ‘æŸ¥äº†ä¸€ä¸‹ï¼Œè¿™ä¸ªåŒè¯ä¹¦å¥½åƒæ˜¯ç‰¹æ®Šè§„å®šï¼Œåˆ†ç¦»äº†ç­¾åå’ŒåŠ å¯†ã€‚ç”±äºä¸åœ¨tlsæ ‡å‡†é‡Œï¼Œæ‰€ä»¥å°±ä¸æ˜¯å¾ˆäº†è§£äº†ï¼ŒæŠ±æ­‰å•Šã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1583289195,"ip_address":"","comment_id":184298,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1583285724","product_id":100029001,"comment_content":"æ‚¨å¥½è€å¸ˆï¼Œæœ€è¿‘é‡åˆ°ä¸ªé—®é¢˜ï¼Œä¸å¤ªç†è§£ï¼Œæœ›èƒ½æŠ½å‡ºæ—¶é—´ï¼ŒæŒ‡ç‚¹è¿·æ´¥ã€‚<br>æœ€è¿‘çœ‹èµ„æ–™ï¼Œæåˆ°äº†æœåŠ¡å™¨é€šè¿‡GMSSLï¼Œå®ç°å›½å¯†é€šä¿¡æ—¶ï¼ŒæœåŠ¡å™¨å¿…é¡»è®¾ç½®åŒè¯ä¹¦ï¼ˆç­¾åè¯ä¹¦å’ŒåŠ å¯†è¯ä¹¦ï¼‰æ‰èƒ½æ­£å¸¸é€šä¿¡ã€‚è¿™ä¸ªåŠ å¯†è¯ä¹¦çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œæ˜¯ç”¨æ¥æ§åˆ¶éå¯¹ç§°åŠ å¯†ç®—æ³•è¿˜æ˜¯å¯¹ç§°åŠ å¯†ç®—æ³•ä½¿ç”¨çš„å‘¢ï¼Ÿ<br>æˆ‘çš„éå¯¹ç§°åŠ å¯†è®¤è¯æ˜¯é€šè¿‡SM2ç”Ÿæˆç§é’¥å’Œè¯ä¹¦ï¼Œèƒ½å¤Ÿé€šè¿‡è®¾ç½®SSL_CTX_use_certificate_fileå‡½æ•°ï¼Œå®ç°éå¯¹ç§°åŠ å¯†é‡‡ç”¨SM2è¿›è¡Œä¼ è¾“ã€‚ä½†æ˜¯éå¯¹ç§°åŠ å¯†è‹¥é‡‡ç”¨SM4ä¼ è¾“æ•°æ®å’Œä¸Šé¢æåˆ°çš„åŠ å¯†è¯ä¹¦æœ‰å…³ç³»å—ï¼Œè¿˜æ˜¯æˆ‘å®¢æˆ·ç«¯å¿…é¡»è®¾ç½®é€‰æ‹©å“ªç§ç§˜é’¥å¥—ä»¶è¿›è¡Œä¼ è¾“ï¼Œæ¯”å¦‚ä½¿ç”¨SSL_CTX_set_cipher_listå‡½æ•°è®¾ç½®ä¸ºSM2-WITH-SMS4-SM3ã€‚<br>æœŸå¾…è€å¸ˆçš„å›ç­”ï¼Œä¸‡åˆ†æ„Ÿè°¢ã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485966,"discussion_content":"åœ¨TLSæ ‡å‡†é‡Œåªç”¨åˆ°å•è¯ä¹¦ï¼Œå®ç°ç­¾åè®¤è¯ã€‚\n\næˆ‘æŸ¥äº†ä¸€ä¸‹ï¼Œè¿™ä¸ªåŒè¯ä¹¦å¥½åƒæ˜¯ç‰¹æ®Šè§„å®šï¼Œåˆ†ç¦»äº†ç­¾åå’ŒåŠ å¯†ã€‚ç”±äºä¸åœ¨tlsæ ‡å‡†é‡Œï¼Œæ‰€ä»¥å°±ä¸æ˜¯å¾ˆäº†è§£äº†ï¼ŒæŠ±æ­‰å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583289195,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173106,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1579424997,"is_pvip":false,"replies":[{"id":"67164","content":"å½“ç„¶ï¼Œæ¯•ç«Ÿå¤šäº†åŠ è§£å¯†æ“ä½œï¼Œä¸è¿‡æ¯”èµ·ä»¥å‰æ¥è¯´å·²ç»æœ‰å¾ˆå¤§æ”¹å–„äº†ï¼Œä¸ºäº†å®‰å…¨è¿˜æ˜¯å€¼å¾—çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1579483012,"ip_address":"","comment_id":173106,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1579424997","product_id":100029001,"comment_content":"è™½ç„¶httpsæä¾›äº†å®‰å…¨çš„ä¿è¯ï¼Œä½†æ˜¯ç›¸æ¯”httpæ¥è¯´åœ¨å¤§è¯·æ±‚é‡ä¸‹æ€§èƒ½è¿˜æ˜¯æ¯”ä¸è¿‡","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481958,"discussion_content":"å½“ç„¶ï¼Œæ¯•ç«Ÿå¤šäº†åŠ è§£å¯†æ“ä½œï¼Œä¸è¿‡æ¯”èµ·ä»¥å‰æ¥è¯´å·²ç»æœ‰å¾ˆå¤§æ”¹å–„äº†ï¼Œä¸ºäº†å®‰å…¨è¿˜æ˜¯å€¼å¾—çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579483012,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119021,"user_name":"mark","can_delete":false,"product_type":"c1","uid":1566124,"ip_address":"","ucode":"59EE6EED0F06DD","user_header":"https://static001.geekbang.org/account/avatar/00/17/e5/ac/6c87d5ee.jpg","comment_is_top":false,"comment_ctime":1564488272,"is_pvip":false,"replies":[{"id":"43676","content":"è¿™ä¸ªæ¶‰åŠåˆ°ç®—æ³•çš„å†…éƒ¨ç»†èŠ‚äº†ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œæ¯”å¦‚ç¦»æ•£å¯¹æ•°ã€æ¤­åœ†æ›²çº¿ä»€ä¹ˆçš„ï¼Œå¯ä»¥çœ‹çœ‹ç›¸å…³çš„èµ„æ–™ã€‚<br><br>å…¶å®å¦‚æœä¸æ˜¯ä¸“é—¨åšåŠ è§£å¯†çš„è¯ï¼Œä¸éœ€è¦äº†è§£å¤ªæ·±å…¥çš„ç»†èŠ‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1564534471,"ip_address":"","comment_id":119021,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564488272","product_id":100029001,"comment_content":"æœ‰ç‚¹çº ç»“ECDHEç®—æ³•ï¼Œä¸ºä»€ä¹ˆè¿™ä¸ªç®—æ³•å¯ä»¥ä¿è¯pre-masteræ˜¯å”¯ä¸€çš„ï¼Œè€ŒæœåŠ¡ç«¯åˆèƒ½å‡†ç¡®çš„çŸ¥é“å‘¢","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460709,"discussion_content":"è¿™ä¸ªæ¶‰åŠåˆ°ç®—æ³•çš„å†…éƒ¨ç»†èŠ‚äº†ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œæ¯”å¦‚ç¦»æ•£å¯¹æ•°ã€æ¤­åœ†æ›²çº¿ä»€ä¹ˆçš„ï¼Œå¯ä»¥çœ‹çœ‹ç›¸å…³çš„èµ„æ–™ã€‚\n\nå…¶å®å¦‚æœä¸æ˜¯ä¸“é—¨åšåŠ è§£å¯†çš„è¯ï¼Œä¸éœ€è¦äº†è§£å¤ªæ·±å…¥çš„ç»†èŠ‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564534471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118923,"user_name":"LeonğŸ“·","can_delete":false,"product_type":"c1","uid":1219496,"ip_address":"","ucode":"B9BBD1EFAAE5A2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg","comment_is_top":false,"comment_ctime":1564469872,"is_pvip":false,"replies":[{"id":"43611","content":"å¯†é’¥äº¤æ¢ç®—æ³•ECDHEä¿è¯äº†pre-masterçš„å®‰å…¨æ€§ï¼Œé»‘å®¢å³ä½¿æˆªè·äº†Client Paramså’ŒServer Paramsï¼Œä¹Ÿæ˜¯æ— æ³•ç®—å‡ºpre-masterçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1564474099,"ip_address":"","comment_id":118923,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1564469872","product_id":100029001,"comment_content":"è¿™æ—¶åªäº¤æ¢äº†ä¸¤æ¡æ¶ˆæ¯ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å°±æ‹¿åˆ°äº†å››ä¸ªå…±äº«ä¿¡æ¯ï¼šClient Randomå’ŒServer Randomã€Client Paramså’ŒServer Paramsï¼Œä¸¤è¾¹å°±å¯ä»¥å„è‡ªç”¨ ECDHE ç®—å‡ºâ€œPre-Masterâ€ï¼Œå†ç”¨ HKDF ç”Ÿæˆä¸»å¯†é’¥â€œMaster Secretâ€ï¼Œè¿™æ ·ä¸»å¯†é’¥çš„å‚æ•°éƒ½æ˜¯æ˜æ–‡çš„ï¼Œä¸æ˜¯æš´éœ²äº†å—","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460664,"discussion_content":"å¯†é’¥äº¤æ¢ç®—æ³•ECDHEä¿è¯äº†pre-masterçš„å®‰å…¨æ€§ï¼Œé»‘å®¢å³ä½¿æˆªè·äº†Client Paramså’ŒServer Paramsï¼Œä¹Ÿæ˜¯æ— æ³•ç®—å‡ºpre-masterçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564474099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1701572,"avatar":"https://static001.geekbang.org/account/avatar/00/19/f6/c4/e14686d4.jpg","nickname":"shk1230","note":"","ucode":"9E39279C23FF8F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553790,"discussion_content":"éšæœºæ•°ä¸å‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646095125,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118473,"user_name":"é˜¿é”‹","can_delete":false,"product_type":"c1","uid":1127761,"ip_address":"","ucode":"7AF449ABA89242","user_header":"https://static001.geekbang.org/account/avatar/00/11/35/51/c616f95a.jpg","comment_is_top":false,"comment_ctime":1564371588,"is_pvip":false,"replies":[{"id":"43415","content":"æœ‰å¾ˆå¤šå› ç´ ï¼Œä¸ä¸€å®šhttpsæ¯”httpè¦å¿«ï¼Œå¦‚æœä½¿ç”¨äº†http&#47;2ï¼Œè¿˜æœ‰0-rttï¼Œhttpsæ˜¯å’Œhttp&#47;1.1æ€§èƒ½ä¸Šå·®ä¸å¤šçš„ã€‚<br><br>å•ä»ç†è®ºä¸Šåˆ†æï¼Œhttpså¤šäº†åŠ è§£å¯†è¿ç®—ï¼Œæ˜¯ä¼šæ…¢ä¸€ç‚¹ï¼Œä½†å¯ä»¥ç”¨ä¸€äº›æ‰‹æ®µå»ä¼˜åŒ–ï¼Œä¼˜åŒ–è¿‡çš„httpså¯èƒ½ä¼šæ¯”æœªä¼˜åŒ–çš„httpå¿«ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1564373278,"ip_address":"","comment_id":118473,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564371588","product_id":100029001,"comment_content":"HTTPSå†æ€ä¹ˆè¿›è¡Œä¼˜åŒ–ï¼Œç›¸æ¯”äºä¹‹å‰çš„HTTPéƒ½å¢åŠ äº†æ€§èƒ½æŸè€—ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆHTTPSçš„ç½‘é¡µä¼šæ¯”HTTPçš„è¦å¿«ã€‚æˆ‘æ˜¯é€šè¿‡ä¸‹é¢è¿™ä¸ªç½‘é¡µæµ‹è¯•çš„ã€‚<br>https:&#47;&#47;www.httpvshttps.com&#47;","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460423,"discussion_content":"æœ‰å¾ˆå¤šå› ç´ ï¼Œä¸ä¸€å®šhttpsæ¯”httpè¦å¿«ï¼Œå¦‚æœä½¿ç”¨äº†http/2ï¼Œè¿˜æœ‰0-rttï¼Œhttpsæ˜¯å’Œhttp/1.1æ€§èƒ½ä¸Šå·®ä¸å¤šçš„ã€‚\n\nå•ä»ç†è®ºä¸Šåˆ†æï¼Œhttpså¤šäº†åŠ è§£å¯†è¿ç®—ï¼Œæ˜¯ä¼šæ…¢ä¸€ç‚¹ï¼Œä½†å¯ä»¥ç”¨ä¸€äº›æ‰‹æ®µå»ä¼˜åŒ–ï¼Œä¼˜åŒ–è¿‡çš„httpså¯èƒ½ä¼šæ¯”æœªä¼˜åŒ–çš„httpå¿«ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564373278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118396,"user_name":"-W.LI-","can_delete":false,"product_type":"c1","uid":1210699,"ip_address":"","ucode":"3556786538664F","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","comment_is_top":false,"comment_ctime":1564360303,"is_pvip":false,"replies":[{"id":"43406","content":"TLSé‡Œçš„å­åè®®ä½ å¯ä»¥ç†è§£æˆæ¨¡å—ï¼Œæ˜¯å¤šä¸ªä¸åŒçš„éƒ¨åˆ†ï¼Œäº’ç›¸åä½œèµ·ä½œç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1564366889,"ip_address":"","comment_id":118396,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564360303","product_id":100029001,"comment_content":"è€å¸ˆï¼Œä¹‹å‰æ¯”å–»çš„åè®®å’Œåè®®ä¹‹é—´åµŒå¥—å…³ç³»å°±å’Œå¿«é€’ä¸€æ ·ã€‚å­åè®®ä¹‹é—´çš„åµŒå¥—å…³ç³»ä¹Ÿæ˜¯è¿™æ ·ä¹ˆ?è¿˜æ˜¯è¯´è¿™äº›å­åè®®åªæ˜¯åœ¨æŸå‡ ä¸ªè¯·æ±‚é‡Œæœ‰ã€‚ä¹‹åå°±æ²¡äº†ã€‚","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460392,"discussion_content":"TLSé‡Œçš„å­åè®®ä½ å¯ä»¥ç†è§£æˆæ¨¡å—ï¼Œæ˜¯å¤šä¸ªä¸åŒçš„éƒ¨åˆ†ï¼Œäº’ç›¸åä½œèµ·ä½œç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564366889,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118394,"user_name":"-W.LI-","can_delete":false,"product_type":"c1","uid":1210699,"ip_address":"","ucode":"3556786538664F","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","comment_is_top":false,"comment_ctime":1564360121,"is_pvip":false,"replies":[{"id":"43407","content":"ä¸çŸ¥é“ä½ è¯´çš„æ˜¯å“ªä¸ªéƒ¨åˆ†ï¼Œå¯ä»¥è¡¥å……å®Œå–„ä¸€ä¸‹é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"chrono","uid":"1181974","ctime":1564366927,"ip_address":"","comment_id":118394,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1564360121","product_id":100029001,"comment_content":"æ„Ÿè§‰å¯èƒ½å’ŒClient Paramså’ŒServer Paramsã€‚æœ‰å…³ç³»ï¼Œå…·ä½“ä¸çŸ¥ï¼Œè¯·è€å¸ˆæŒ‡ç‚¹","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"ç½—å‰‘é”‹","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460390,"discussion_content":"ä¸çŸ¥é“ä½ è¯´çš„æ˜¯å“ªä¸ªéƒ¨åˆ†ï¼Œå¯ä»¥è¡¥å……å®Œå–„ä¸€ä¸‹é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564366927,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1210699,"avatar":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","nickname":"-W.LI-","note":"","ucode":"3556786538664F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3365,"discussion_content":"è¯¾åä¹ é¢˜ã€‚ç­”æ¡ˆæ˜¯å¤šå°‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564442072,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":98411,"title":"10 | 简约不简单的匿名函数","content":"<p>你好，我是景霄。</p><p>上一节，我们一起学习了Python中的“常规”函数，用途十分广泛。不过，除了常规函数，你应该也会在代码中见到一些“非常规”函数，它们往往很简短，就一行，并且有个很酷炫的名字——lambda，没错，这就是匿名函数。</p><p>匿名函数在实际工作中同样举足轻重，正确地运用匿名函数，能让我们的代码更简洁、易读。这节课，我们继续Python的函数之旅，一起来学习这个简约而不简单的匿名函数。</p><h2>匿名函数基础</h2><p>首先，什么是匿名函数呢？以下是匿名函数的格式：</p><pre><code>lambda argument1, argument2,... argumentN : expression\n</code></pre><p>我们可以看到，匿名函数的关键字是lambda，之后是一系列的参数，然后用冒号隔开，最后则是由这些参数组成的表达式。我们通过几个例子看一下它的用法：</p><pre><code>square = lambda x: x**2\nsquare(3)\n\n9\n</code></pre><p>这里的匿名函数只输入一个参数x，输出则是输入x的平方。因此当输入是3时，输出便是9。如果把这个匿名函数写成常规函数的形式，则是下面这样：</p><pre><code>def square(x):\n    return x**2\nsquare(3)\n \n9\n</code></pre><p>可以看到，匿名函数lambda和常规函数一样，返回的都是一个函数对象（function object），它们的用法也极其相似，不过还是有下面几点区别。</p><p><strong>第一，lambda是一个表达式（expression），并不是一个语句（statement）</strong>。</p><!-- [[[read_end]]] --><ul>\n<li>\n<p>所谓的表达式，就是用一系列“公式”去表达一个东西，比如<code>x + 2</code>、 <code>x**2</code>等等；</p>\n</li>\n<li>\n<p>而所谓的语句，则一定是完成了某些功能，比如赋值语句<code>x = 1</code>完成了赋值，print语句<code>print(x)</code>完成了打印，条件语句 <code>if x &lt; 0:</code>完成了选择功能等等。</p>\n</li>\n</ul><p>因此，lambda可以用在一些常规函数def不能用的地方，比如，lambda可以用在列表内部，而常规函数却不能：</p><pre><code>[(lambda x: x*x)(x) for x in range(10)]\n# 输出\n[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]\n</code></pre><p>再比如，lambda可以被用作某些函数的参数，而常规函数def也不能：</p><pre><code>l = [(1, 20), (3, 0), (9, 10), (2, -1)]\nl.sort(key=lambda x: x[1]) # 按列表中元组的第二个元素排序\nprint(l)\n# 输出\n[(2, -1), (3, 0), (9, 10), (1, 20)]\n</code></pre><p>常规函数def必须通过其函数名被调用，因此必须首先被定义。但是作为一个表达式的lambda，返回的函数对象就不需要名字了。</p><p><strong>第二，lambda的主体是只有一行的简单表达式，并不能扩展成一个多行的代码块。</strong></p><p>这其实是出于设计的考虑。Python之所以发明lambda，就是为了让它和常规函数各司其职：lambda专注于简单的任务，而常规函数则负责更复杂的多行逻辑。关于这点，Python之父Guido van Rossum曾发了一篇<a href=\"https://www.artima.com/weblogs/viewpost.jsp?thread=147358\">文章</a>解释，你有兴趣的话可以自己阅读。</p><h2>为什么要使用匿名函数？</h2><p>理论上来说，Python中有匿名函数的地方，都可以被替换成等价的其他表达形式。一个Python程序是可以不用任何匿名函数的。不过，在一些情况下，使用匿名函数lambda，可以帮助我们大大简化代码的复杂度，提高代码的可读性。</p><p>通常，我们用函数的目的无非是这么几点：</p><ol>\n<li>\n<p>减少代码的重复性；</p>\n</li>\n<li>\n<p>模块化代码。</p>\n</li>\n</ol><p>对于第一点，如果你的程序在不同地方包含了相同的代码，那么我们就会把这部分相同的代码写成一个函数，并为它取一个名字，方便在相对应的不同地方调用。</p><p>对于第二点，如果你的一块儿代码是为了实现一个功能，但内容非常多，写在一起降低了代码的可读性，那么通常我们也会把这部分代码单独写成一个函数，然后加以调用。</p><p>不过，再试想一下这样的情况。你需要一个函数，但它非常简短，只需要一行就能完成；同时它在程序中只被调用一次而已。那么请问，你还需要像常规函数一样，给它一个定义和名字吗？</p><p>答案当然是否定的。这种情况下，函数就可以是匿名的，你只需要在适当的地方定义并使用，就能让匿名函数发挥作用了。</p><p>举个例子，如果你想对一个列表中的所有元素做平方操作，而这个操作在你的程序中只需要进行一次，用lambda函数可以表示成下面这样：</p><pre><code>squared = map(lambda x: x**2, [1, 2, 3, 4, 5])\n</code></pre><p>如果用常规函数，则表示为这几行代码：</p><pre><code>def square(x):\n    return x**2\n\nsquared = map(square, [1, 2, 3, 4, 5])\n</code></pre><p>这里我简单解释一下。函数map(function, iterable)的第一个参数是函数对象，第二个参数是一个可以遍历的集合，它表示对iterable的每一个元素，都运用function这个函数。两者一对比，我们很明显地发现，lambda函数让代码更加简洁明了。</p><p>再举一个例子，在Python的Tkinter GUI应用中，我们想实现这样一个简单的功能：创建显示一个按钮，每当用户点击时，就打印出一段文字。如果使用lambda函数可以表示成下面这样：</p><pre><code>from tkinter import Button, mainloop\nbutton = Button(\n    text='This is a button',\n    command=lambda: print('being pressed')) # 点击时调用lambda函数\nbutton.pack()\nmainloop()\n</code></pre><p>而如果我们用常规函数def，那么需要写更多的代码：</p><pre><code>from tkinter import Button, mainloop\n\ndef print_message():\n    print('being pressed')\n\nbutton = Button(\n    text='This is a button',\n    command=print_message) # 点击时调用lambda函数\nbutton.pack()\nmainloop()\n</code></pre><p>显然，运用匿名函数的代码简洁很多，也更加符合Python的编程习惯。</p><h2>Python函数式编程</h2><p>最后，我们一起来看一下，Python的函数式编程特性，这与我们今天所讲的匿名函数lambda，有着密切的联系。</p><p>所谓函数式编程，是指代码中每一块都是不可变的（immutable），都由纯函数（pure function）的形式组成。这里的纯函数，是指函数本身相互独立、互不影响，对于相同的输入，总会有相同的输出，没有任何副作用。</p><p>举个很简单的例子，比如对于一个列表，我想让列表中的元素值都变为原来的两倍，我们可以写成下面的形式：</p><pre><code>def multiply_2(l):\n    for index in range(0, len(l)):\n        l[index] *= 2\n    return l\n</code></pre><p>这段代码就不是一个纯函数的形式，因为列表中元素的值被改变了，如果我多次调用multiply_2()这个函数，那么每次得到的结果都不一样。要想让它成为一个纯函数的形式，就得写成下面这种形式，重新创建一个新的列表并返回。</p><pre><code>def multiply_2_pure(l):\n    new_list = []\n    for item in l:\n        new_list.append(item * 2)\n    return new_list\n</code></pre><p>函数式编程的优点，主要在于其纯函数和不可变的特性使程序更加健壮，易于调试（debug）和测试；缺点主要在于限制多，难写。当然，Python不同于一些语言（比如Scala），它并不是一门函数式编程语言，不过，Python也提供了一些函数式编程的特性，值得我们了解和学习。</p><p>Python主要提供了这么几个函数：map()、filter()和reduce()，通常结合匿名函数lambda一起使用。这些都是你需要掌握的东西，接下来我逐一介绍。</p><p>首先是map(function, iterable)函数，前面的例子提到过，它表示，对iterable中的每个元素，都运用function这个函数，最后返回一个新的可遍历的集合。比如刚才列表的例子，要对列表中的每个元素乘以2，那么用map就可以表示为下面这样：</p><pre><code>l = [1, 2, 3, 4, 5]\nnew_list = map(lambda x: x * 2, l) # [2， 4， 6， 8， 10]\n</code></pre><p>我们可以以map()函数为例，看一下Python提供的函数式编程接口的性能。还是同样的列表例子，它还可以用for循环和list comprehension（目前没有统一中文叫法，你也可以直译为列表理解等）实现，我们来比较一下它们的速度：</p><pre><code>python3 -mtimeit -s'xs=range(1000000)' 'map(lambda x: x*2, xs)'\n2000000 loops, best of 5: 171 nsec per loop\n\npython3 -mtimeit -s'xs=range(1000000)' '[x * 2 for x in xs]'\n5 loops, best of 5: 62.9 msec per loop\n\npython3 -mtimeit -s'xs=range(1000000)' 'l = []' 'for i in xs: l.append(i * 2)'\n5 loops, best of 5: 92.7 msec per loop\n</code></pre><p>你可以看到，map()是最快的。因为map()函数直接由C语言写的，运行时不需要通过Python解释器间接调用，并且内部做了诸多优化，所以运行速度最快。</p><p>接下来来看filter(function, iterable)函数，它和map函数类似，function同样表示一个函数对象。filter()函数表示对iterable中的每个元素，都使用function判断，并返回True或者False，最后将返回True的元素组成一个新的可遍历的集合。</p><p>举个例子，比如我要返回一个列表中的所有偶数，可以写成下面这样：</p><pre><code>l = [1, 2, 3, 4, 5]\nnew_list = filter(lambda x: x % 2 == 0, l) # [2, 4]\n</code></pre><p>最后我们来看reduce(function, iterable)函数，它通常用来对一个集合做一些累积操作。</p><p>function同样是一个函数对象，规定它有两个参数，表示对iterable中的每个元素以及上一次调用后的结果，运用function进行计算，所以最后返回的是一个单独的数值。</p><p>举个例子，我想要计算某个列表元素的乘积，就可以用reduce()函数来表示：</p><pre><code>l = [1, 2, 3, 4, 5]\nproduct = reduce(lambda x, y: x * y, l) # 1*2*3*4*5 = 120\n</code></pre><p>当然，类似的，filter()和reduce()的功能，也可以用for循环或者list comprehension来实现。</p><p>通常来说，在我们想对集合中的元素进行一些操作时，如果操作非常简单，比如相加、累积这种，那么我们优先考虑map()、filter()、reduce()这类或者list comprehension的形式。至于这两种方式的选择：</p><ul>\n<li>\n<p>在数据量非常多的情况下，比如机器学习的应用，那我们一般更倾向于函数式编程的表示，因为效率更高；</p>\n</li>\n<li>\n<p>在数据量不多的情况下，并且你想要程序更加Pythonic的话，那么list comprehension也不失为一个好选择。</p>\n</li>\n</ul><p>不过，如果你要对集合中的元素，做一些比较复杂的操作，那么，考虑到代码的可读性，我们通常会使用for循环，这样更加清晰明了。</p><h2>总结</h2><p>这节课，我们一起学习了Python中的匿名函数lambda，它的主要用途是减少代码的复杂度。需要注意的是lambda是一个表达式，并不是一个语句；它只能写成一行的表达形式，语法上并不支持多行。匿名函数通常的使用场景是：程序中需要使用一个函数完成一个简单的功能，并且该函数只调用一次。</p><p>其次，我们也入门了Python的函数式编程，主要了解了常见的map()，fiilter()和reduce()三个函数，并比较了它们与其他形式（for循环，comprehension）的性能，显然，它们的性能效率是最优的。</p><h2>思考题</h2><p>最后，我想给你留下两道思考题。</p><p>第一问：如果让你对一个字典，根据值进行由高到底的排序，该怎么做呢？以下面这段代码为例，你可以思考一下。</p><pre><code>d = {'mike': 10, 'lucy': 2, 'ben': 30}\n</code></pre><p>第二问：在实际工作学习中，你遇到过哪些使用匿名函数的场景呢？</p><p>欢迎在留言区写下你的答案想法，与我讨论，也欢迎你把这篇文章分享给你的同事、朋友。</p>","comments":[{"had_liked":false,"id":99543,"user_name":"Hoo-Ah","can_delete":false,"product_type":"c1","uid":1306913,"ip_address":"","ucode":"823093A6C7DEE7","user_header":"https://static001.geekbang.org/account/avatar/00/13/f1/21/52e8267b.jpg","comment_is_top":false,"comment_ctime":1559258778,"is_pvip":false,"replies":[{"id":"35941","content":"你说的对。关于迭代器生成器后面会讲到，所以这篇文章没有提及。","user_name":"作者回复","comment_id":99543,"uid":"1259521","ip_address":"","utype":1,"ctime":1559439113,"user_name_real":"Jingxiao"}],"discussion_count":7,"race_medal":0,"score":"332271740570","product_id":100026901,"comment_content":"第一问：sorted(d.items(), key=lambda x: x[1], reverse=True)；<br>第二问：最开始接触 lambda 匿名函数的时候觉得蛮不理解的，觉得这个函数没有灵魂，用完一次就扔掉。后来在和高阶函数、列表生成式搭配使用以及一些小功能的使用上觉得很好用，这样代码即简洁又易于阅读。<br>注：匿名函数最难理解的地方就是要传入的参数是一个可迭代的对象，lambda 内部会调用可迭代对象的 __next__ 方法取值当作参数传入 lambda 函数冒号前面的值，然后把表达式计算的结果进行返回。","like_count":78,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452162,"discussion_content":"你说的对。关于迭代器生成器后面会讲到，所以这篇文章没有提及。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559439113,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1123435,"avatar":"https://static001.geekbang.org/account/avatar/00/11/24/6b/2e52759d.jpg","nickname":"Gene","note":"","ucode":"C1DA1ECFB5445F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":362782,"discussion_content":"细节有点不太对，不是 lambda 内部调用可迭代对象的 __next__ 方法吧，是 map, filter, reduce 这些内置方法体中获取到元素，再传给 Lambda 匿名函数的形参。把匿名函数换成具名函数也是同样的效果。","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1617026950,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1191529,"avatar":"","nickname":"karofsky","note":"","ucode":"4AFBEDE22F9652","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330787,"discussion_content":"sorted_list = sorted(d.items(), key = lambda x : -x[1])","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1606707349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1313840,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0c/30/bb4bfe9d.jpg","nickname":"lyonger","note":"","ucode":"E89A75DADEA2A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299159,"discussion_content":"不理解为啥匿名函数传入可迭代对象会自动调用__next__方法取值。我下面这样好像不行？\n```\nl = [1, 2, 3, 4, 5]\na = lambda x: x ** 2\na(l)\n```","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597582083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2068141,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq5tIy8LaGwcm0gSibjaEvKIgkk5AoOfBGwgZMfZpm9Scyia3b1sEoQhOsWTynCt6Vt2YC5tXe7hFMA/132","nickname":"Hiram","note":"","ucode":"197F4B7F45E8EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1313840,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0c/30/bb4bfe9d.jpg","nickname":"lyonger","note":"","ucode":"E89A75DADEA2A1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304279,"discussion_content":"要用map，a = map(lambda x: x ** 2, l)。感觉你这个是想写成前面讲到的闭包方式","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599535753,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":299159,"ip_address":""},"score":304279,"extra":""}]},{"author":{"id":1245161,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ff/e9/276b9753.jpg","nickname":"SevenHe","note":"","ucode":"7C69539BE3E42F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":36071,"discussion_content":"为什么不是 x[0]呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571318658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1306913,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f1/21/52e8267b.jpg","nickname":"Hoo-Ah","note":"","ucode":"823093A6C7DEE7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1245161,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ff/e9/276b9753.jpg","nickname":"SevenHe","note":"","ucode":"7C69539BE3E42F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":36353,"discussion_content":"字典的items()返回key和value，x[0]是key","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571366859,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":36071,"ip_address":""},"score":36353,"extra":""}]}]},{"had_liked":false,"id":178862,"user_name":"Mr_scx","can_delete":false,"product_type":"c1","uid":1239546,"ip_address":"","ucode":"28B5CE68A5A339","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKWiaZb7a2JAcIVlXYuZ3iaPfSF6vBbg3yUps6LKpsZarftyXufMHYKJmMKzH3bIpVkDAVNXE9q0oOw/132","comment_is_top":false,"comment_ctime":1581842039,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"212035239543","product_id":100026901,"comment_content":"关于map()、filter() 和 reduce()三个函数，需要注意的是：<br>1.map()在 Python 2.x 返回的是一个列表；而在 Python 3.x 中返回一个 map 类，可以看成是一个迭代器。<br>2.filter()在 Python 2.x 中返回的是过滤后的列表, 而在 Python 3.x 中返回的是一个 filter 类，可以看成是一个迭代器，有惰性运算的特性, 相对 Python2.x 提升了性能, 可以节约内存。<br>3.reduce() 函数在 Python3 中已经被从全局名字空间里移除了，它现在被放置在 functools 模块里，如果想要使用它，则需要通过引入 functools 模块来调用 reduce() 函数。","like_count":49},{"had_liked":false,"id":99545,"user_name":"lmingzhi","can_delete":false,"product_type":"c1","uid":1014489,"ip_address":"","ucode":"72DBAF4FD184AF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7a/d9/4feb4006.jpg","comment_is_top":false,"comment_ctime":1559259266,"is_pvip":false,"replies":[{"id":"35940","content":"实际情况中，Map返回的对象依然可以直接遍历，所以直接比较从实用的角度上来说也是可以的，Map在Python3中变为Lazy了以后，速度得到了很大的提升。当然，如果以返回的类型一致为标准，你的建议也是可以的","user_name":"作者回复","user_name_real":"Jingxiao","uid":"1259521","ctime":1559439044,"ip_address":"","comment_id":99545,"utype":1}],"discussion_count":3,"race_medal":0,"score":"151883114626","product_id":100026901,"comment_content":"python3 -mtimeit -s&#39;xs=range(1000000)&#39; &#39;map(lambda x: x*2, xs)&#39;<br><br>这个地方map生成的是生成器，与后面的2个做比较感觉不大合适，是否更改为测试list(map(lambda x: x*2, xs))更恰当？","like_count":35,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452164,"discussion_content":"实际情况中，Map返回的对象依然可以直接遍历，所以直接比较从实用的角度上来说也是可以的，Map在Python3中变为Lazy了以后，速度得到了很大的提升。当然，如果以返回的类型一致为标准，你的建议也是可以的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559439044,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1024780,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a3/0c/57b68a5b.jpg","nickname":"ferstar","note":"","ucode":"D64362BB389BA2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":190271,"discussion_content":"不同意作者的观点，同样的结果类型，列表推导是更快的。\n你这里用map方法返回的只是个生成器对象，调用时并没有实际计算出结果，当然很快，其他两种写法已经明确生成了计算结果，明显不具可比性。\n惰性计算只是优化了空间占用，实际CPU运算并没有省多少。\n非要比时间的话，也得比大家一起循环遍历xs的时间才算公平","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1582915965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2330010,"avatar":"https://static001.geekbang.org/account/avatar/00/23/8d/9a/775d059d.jpg","nickname":"长空","note":"","ucode":"8D430138246651","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344313,"discussion_content":"我学习得比较晚，看到这里，我觉得楼上是正确的。并且，个人认为，列表推导式可读性更强。流畅的python里面，也建议用列表推导式来替代map","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611404452,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99801,"user_name":"Jove","can_delete":false,"product_type":"c1","uid":1012919,"ip_address":"","ucode":"39C09911EEFE0F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/74/b7/169fa6fe.jpg","comment_is_top":false,"comment_ctime":1559304608,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"143293225376","product_id":100026901,"comment_content":"在python3中，map、filter函数返回的是迭代器，不是集合","like_count":33,"discussions":[{"author":{"id":2851448,"avatar":"","nickname":"Geek_44798f","note":"","ucode":"4EB2BD9FBDDE7F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541940,"discussion_content":"试验下来发现，map、filter函数返回的是map对象，filter对象，要转化为可迭代对象，需要进行对应的强制类型转换，不知道我理解的对不对：\n#map()函数例子\nl=[1,2,3,4,5]\nnew_list=map(lambda x:x**2,l)\nprint(new_list) #返回的是可迭代对象\nprint(type(map))\nprint(list(new_list))\n\n&lt;map object at 0x10801b730&gt;\n&lt;class &#39;type&#39;&gt;\n[1, 4, 9, 16, 25]\n\n\nl = [1,2,3,4,5]\nnew_list=filter(lambda x:x %2==0,l)\nprint(new_list)\nprint(type(new_list))\nprint(list(new_list))\n\n&lt;filter object at 0x10801b7f0&gt;\n&lt;class &#39;filter&#39;&gt;\n[2, 4]","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1640610107,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":100568,"user_name":"爬行的蜗牛","can_delete":false,"product_type":"c1","uid":1033956,"ip_address":"","ucode":"6623B62DE63CE9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/QD6bf8hkS5dHrabdW7M7Oo9An1Oo3QSxqoySJMDh7GTraxFRX77VZ2HZ13x3R4EVYddIGXicRRDAc7V9z5cLDlA/132","comment_is_top":false,"comment_ctime":1559578832,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"113228728528","product_id":100026901,"comment_content":"1.reduce报错问题，python3需要加<br>from functools import reduce<br>2.filter，print变量时，需要加list()<br>如下:<br>l =[1,2,3,4,5]<br>new_list3 = filter(lambda x:x%2==0,l)<br>list(new_list3)<br># 输出<br>[2,4]","like_count":26},{"had_liked":false,"id":103979,"user_name":"欧","can_delete":false,"product_type":"c1","uid":1568458,"ip_address":"","ucode":"053AC4055667F5","user_header":"https://static001.geekbang.org/account/avatar/00/17/ee/ca/9dd8a93a.jpg","comment_is_top":false,"comment_ctime":1560581832,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"87459927752","product_id":100026901,"comment_content":"每次听音频的时候，老师说到建议听音频的同学打开文章，获得最优学习体验时，我就想把这段话装入函数里，哈哈哈","like_count":20,"discussions":[{"author":{"id":1742968,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/98/78/6459e29e.jpg","nickname":"麦芽科技学堂","note":"","ucode":"A90DDE4B6696BE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":186296,"discussion_content":"从来没有听过音频，没有必要，音频录制的人员可以考虑转岗了","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582675527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1995257,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/71/f9/85329b42.jpg","nickname":"做一个可靠的UDP","note":"","ucode":"2428ED20AD3398","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1742968,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/98/78/6459e29e.jpg","nickname":"麦芽科技学堂","note":"","ucode":"A90DDE4B6696BE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":263153,"discussion_content":"音频挺好的啊，不需要看代码的时候就听，一直看眼睛伤不起了","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1589181023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":186296,"ip_address":""},"score":263153,"extra":""}]}]},{"had_liked":false,"id":117748,"user_name":"hello,everyone","can_delete":false,"product_type":"c1","uid":1610603,"ip_address":"","ucode":"6340F6EDBC0773","user_header":"https://static001.geekbang.org/account/avatar/00/18/93/6b/05057fbd.jpg","comment_is_top":false,"comment_ctime":1564124007,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"61693666151","product_id":100026901,"comment_content":"数据清洗过程常用lambda 函数<br>data[&quot;工作日&quot;] = data[&quot;日期&quot;].map(lambda x: x.weekday())<br>data[&quot;工作日&quot;] = data[&quot;工作日&quot;].map(lambda x: 1 if x&lt;5 else 0)","like_count":15},{"had_liked":false,"id":146904,"user_name":"轻风悠扬","can_delete":false,"product_type":"c1","uid":1319215,"ip_address":"","ucode":"F2276CE113BED1","user_header":"https://static001.geekbang.org/account/avatar/00/14/21/2f/b29e8af8.jpg","comment_is_top":false,"comment_ctime":1572694538,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"48817334794","product_id":100026901,"comment_content":"sorted(d.items(), key = lambda x: x[1], reverse = True) 返回的是list of tuple, 我觉得答案应该是dict(sorted(d.items(), key = lambda x: x[1], reverse = True))","like_count":11},{"had_liked":false,"id":99577,"user_name":"Geek_59f23e","can_delete":false,"product_type":"c1","uid":1513783,"ip_address":"","ucode":"A463C6EB7447FD","user_header":"https://static001.geekbang.org/account/avatar/00/17/19/37/e0a9bf99.jpg","comment_is_top":false,"comment_ctime":1559262414,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"44508935374","product_id":100026901,"comment_content":"1. sorted(d.item(), key = lambda x: x[1], reverse = True)<br><br>2. 一般想偷懒和装X的时候用（来个玩笑😜）","like_count":10},{"had_liked":false,"id":100070,"user_name":"Steven","can_delete":false,"product_type":"c1","uid":1495454,"ip_address":"","ucode":"BC5B33911FEC46","user_header":"https://static001.geekbang.org/account/avatar/00/16/d1/9e/fe7bc8df.jpg","comment_is_top":false,"comment_ctime":1559435718,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"31624206790","product_id":100026901,"comment_content":"我还以为列表推导式已经是公认的说法了，原来还没有统一呀😄 。<br>不过之前也有看过流畅的python，好像说也是列表推导式比map更快。","like_count":7,"discussions":[{"author":{"id":1986553,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/4f/f9/e221e254.jpg","nickname":"Aiden Y","note":"","ucode":"159371CC3AF3FE","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383990,"discussion_content":"我在很多书里面都看到了不同的答案,effective python也让使用列表推倒导式","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1626330031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1534628,"avatar":"","nickname":"Geek_8716eb","note":"","ucode":"7C28E8586B5337","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":728,"discussion_content":"对，那本书里也建议使用列表推导提到filter，map；对于复杂的循环建议直接使用for遍历","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1561987714,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185367,"user_name":"向南","can_delete":false,"product_type":"c1","uid":1325700,"ip_address":"","ucode":"E6072AD7CA6798","user_header":"https://static001.geekbang.org/account/avatar/00/14/3a/84/70340e87.jpg","comment_is_top":false,"comment_ctime":1583568537,"is_pvip":false,"replies":[{"id":"71608","content":"必须的","user_name":"作者回复","comment_id":185367,"uid":"1259521","ip_address":"","utype":1,"ctime":1583610841,"user_name_real":"Jingxiao"}],"discussion_count":1,"race_medal":0,"score":"27353372313","product_id":100026901,"comment_content":"```python<br>sorted(d.items(), key=lambda x: x[1], reverse=True)<br>```<br>lambda函数在数据清洗的时候，作用很大","like_count":6,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486343,"discussion_content":"必须的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583610841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99602,"user_name":"Geek_59f23e","can_delete":false,"product_type":"c1","uid":1513783,"ip_address":"","ucode":"A463C6EB7447FD","user_header":"https://static001.geekbang.org/account/avatar/00/17/19/37/e0a9bf99.jpg","comment_is_top":false,"comment_ctime":1559265346,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27329069122","product_id":100026901,"comment_content":"一楼说的对，list(map(###))和列表推导式对比更科学，显然后者生成列表速度更快，另外我实测圆括号生成器和map生成器速度在一个数量级，性能差别很小，结果如下：<br><br>函数generator被调用了1000000次，共计用时：2.248 秒<br>&lt;generator object generator.&lt;locals&gt;.&lt;genexpr&gt; at 0x000002D735AE5ED0&gt; <br><br>函数map被调用了1000000次，共计用时：2.243 秒<br>&lt;map object at 0x000002D7346F7470&gt; ","like_count":6},{"had_liked":false,"id":146899,"user_name":"轻风悠扬","can_delete":false,"product_type":"c1","uid":1319215,"ip_address":"","ucode":"F2276CE113BED1","user_header":"https://static001.geekbang.org/account/avatar/00/14/21/2f/b29e8af8.jpg","comment_is_top":false,"comment_ctime":1572693900,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"18752563084","product_id":100026901,"comment_content":"老师，python3 里面调用reduce 方法需要引入functools","like_count":4},{"had_liked":false,"id":99553,"user_name":"catshitfive","can_delete":false,"product_type":"c1","uid":1542973,"ip_address":"","ucode":"E030B61F3D0811","user_header":"https://static001.geekbang.org/account/avatar/00/17/8b/3d/2a3b67f8.jpg","comment_is_top":false,"comment_ctime":1559260192,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18739129376","product_id":100026901,"comment_content":"应用场景举个栗子：比如在 pandas 中对二维数据进行数据分析时，对于某些数据块我们需要用函数如apply applymap transform 等进行临时性一次性的转换变更以得到最终的分析结果，那么就可以用匿名函数配合着来使用，使代码更简洁易读高效","like_count":4},{"had_liked":false,"id":295130,"user_name":"懒猫","can_delete":false,"product_type":"c1","uid":2538092,"ip_address":"","ucode":"094F30C802C0F6","user_header":"","comment_is_top":false,"comment_ctime":1622258826,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10212193418","product_id":100026901,"comment_content":"{k:v for k, v in sorted(d.items(), key=lambda x: x[1], reverse=True)}","like_count":2},{"had_liked":false,"id":102149,"user_name":"kilien","can_delete":false,"product_type":"c1","uid":1019714,"ip_address":"","ucode":"916416398CABD0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8f/42/2e660674.jpg","comment_is_top":false,"comment_ctime":1560151227,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"10150085819","product_id":100026901,"comment_content":"不好意思问个低级问题，<br>python -mtimeit -s&#39;xs=range(1000000)&#39; &#39;map(lambda x: x*2, xs)&#39;<br>这句代码在windows的dos环境里跑的话，会报SyntaxError: EOL while scanning string literal, Python版本是3.6.3，-s后面好像只能接受一对单引号","like_count":2,"discussions":[{"author":{"id":1622695,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c2/a7/a861248b.jpg","nickname":"Qingwashuo","note":"","ucode":"1DAFA8C83CC29E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":206315,"discussion_content":"你试试变成双引号","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584375804,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1268609,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epbyHPGNLu9sDQOs1V6brMcDwia55pyIlP9n62oO6IYS6kIFDnOSON4ugSeBSy6WhDUnYyJC6vtnHQ/132","nickname":"lcqbug","note":"","ucode":"08FA17F21BCEC5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1622695,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c2/a7/a861248b.jpg","nickname":"Qingwashuo","note":"","ucode":"1DAFA8C83CC29E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371218,"discussion_content":"双引号可以的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619686462,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":206315,"ip_address":""},"score":371218,"extra":""}]}]},{"had_liked":false,"id":286637,"user_name":"憨皮苏","can_delete":false,"product_type":"c1","uid":1412429,"ip_address":"","ucode":"D0B4B7660DA766","user_header":"https://static001.geekbang.org/account/avatar/00/15/8d/4d/992070e8.jpg","comment_is_top":false,"comment_ctime":1617440848,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5912408144","product_id":100026901,"comment_content":"def square(x):<br>    return x**2<br><br>print([square(x) for x in range(10)])<br><br>常规函数不也是可以用在列表内部的吗？","like_count":1},{"had_liked":false,"id":282987,"user_name":"天天有吃的","can_delete":false,"product_type":"c1","uid":1604355,"ip_address":"","ucode":"6267FE8E68DEE5","user_header":"https://static001.geekbang.org/account/avatar/00/18/7b/03/03583011.jpg","comment_is_top":false,"comment_ctime":1615511373,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5910478669","product_id":100026901,"comment_content":"reduce查看菜鸟教程的解释如下，有这个问题如果懂的人自然看得懂文中解释，不懂的人比如我女友文中的看不懂菜鸟的看了就明白，这里写的规则太抽象了，只是描述功能，具体的运行流程都没写出来；类似数学给了个定理就开始解题…<br>菜鸟解释：函数将一个数据集合（链表，元组等）中的所有数据进行下列操作：用传给 reduce 中的函数 function（有两个参数）先对集合中的第 1、2 个元素进行操作，得到的结果再与第三个数据用 function 函数运算，最后得到一个结果。","like_count":1},{"had_liked":false,"id":238319,"user_name":"Bee","can_delete":false,"product_type":"c1","uid":2086265,"ip_address":"","ucode":"3774D0CA746DA9","user_header":"https://static001.geekbang.org/account/avatar/00/1f/d5/79/e1801426.jpg","comment_is_top":false,"comment_ctime":1596120149,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5891087445","product_id":100026901,"comment_content":"第一题：d2 = sorted(d.items(), key=lambda x: x[1], reverse=True)<br>第二题：基本就是使用函数式编程用的比较多","like_count":1},{"had_liked":false,"id":227637,"user_name":"Kevin","can_delete":false,"product_type":"c1","uid":1923859,"ip_address":"","ucode":"89EA5FCF036C42","user_header":"https://static001.geekbang.org/account/avatar/00/1d/5b/13/6db9ba58.jpg","comment_is_top":false,"comment_ctime":1592447488,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5887414784","product_id":100026901,"comment_content":"在我做前端项目时，回调函数，定时器的回调函数时用匿名函数；如：<br>setTimeout(() =&gt; {}, 1000)<br>require(url, () =&gt; {})","like_count":1},{"had_liked":false,"id":226061,"user_name":"daowuli_chihai","can_delete":false,"product_type":"c1","uid":2017371,"ip_address":"","ucode":"13E5DD278D8E95","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIiaeebUYxl7e1b8DhQGz7v6uibGcytfL8iaTke1S6NwSVxicOy5iaLGbRn2aZtxZy8vVnF6j3fjtxDEbQ/132","comment_is_top":false,"comment_ctime":1591941764,"is_pvip":false,"replies":[{"id":"84146","content":"filter&#47;map都是返回一个iterator，我注释写成[2, 4]只是为了更直观的表示这个函数的功能哈","user_name":"作者回复","user_name_real":"Jingxiao","uid":"1259521","ctime":1592593670,"ip_address":"","comment_id":226061,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5886909060","product_id":100026901,"comment_content":"下面代码，print(new_list)报错，而改成print(list(new_list))可以输出所有偶数，python3.8版本 和之前版本 不同？<br><br>l = [1, 2, 3, 4, 5]<br>new_list = filter(lambda x: x % 2 == 0, l) # [2, 4]","like_count":1,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498094,"discussion_content":"filter/map都是返回一个iterator，我注释写成[2, 4]只是为了更直观的表示这个函数的功能哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592593670,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":100825,"user_name":"跑跑","can_delete":false,"product_type":"c1","uid":1170430,"ip_address":"","ucode":"D497254512AB4B","user_header":"https://static001.geekbang.org/account/avatar/00/11/db/fe/d8522755.jpg","comment_is_top":false,"comment_ctime":1559647188,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5854614484","product_id":100026901,"comment_content":"dict(sorted(d.items(),key=lambda x:x[1], reverse=True))","like_count":1},{"had_liked":false,"id":100224,"user_name":"rogerr","can_delete":false,"product_type":"c1","uid":1538280,"ip_address":"","ucode":"735EE845D4560F","user_header":"https://static001.geekbang.org/account/avatar/00/17/78/e8/b79240e8.jpg","comment_is_top":false,"comment_ctime":1559486094,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5854453390","product_id":100026901,"comment_content":"可耻地抄了一遍答案<br>sorted(d.items(),key=lambda x:x[1],reverse=True)<br><br>对lambda函数的语法还是不太清楚，感觉可读性没有普通函数那么清晰易懂呢，只是为了简洁么","like_count":1},{"had_liked":false,"id":100213,"user_name":"风居住的街","can_delete":false,"product_type":"c1","uid":1542673,"ip_address":"","ucode":"0075A7FB66F797","user_header":"https://static001.geekbang.org/account/avatar/00/17/8a/11/8e9fc7e7.jpg","comment_is_top":false,"comment_ctime":1559482169,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5854449465","product_id":100026901,"comment_content":"# map 生成序列的效率是最高的, 若要保证类型一致，赋值效率更高<br>a = timeit.timeit(&quot;map(lambda x: x*2, range(100))&quot;)<br>b = timeit.timeit(&quot;list(map(lambda x: x*2, range(100)))&quot;)<br>c = timeit.timeit(&quot;[i*2 for i in range(100) ]&quot;)<br>d = timeit.timeit(&quot;list1 = map(lambda x: x*2, range(100))&quot;)<br>print(a)<br>print(b)<br>print(c)<br>print(d)<br># output<br># 0.7083226156547896<br># 16.946590069091638<br># 7.938522968590437<br># 1.0409960818161217","like_count":1},{"had_liked":false,"id":358027,"user_name":"李冬","can_delete":false,"product_type":"c1","uid":2929813,"ip_address":"陕西","ucode":"960EDFCAAF35A4","user_header":"","comment_is_top":false,"comment_ctime":1663836770,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663836770","product_id":100026901,"comment_content":"d = {&#39;mike&#39;: 10, &#39;lucy&#39;: 2, &#39;ben&#39;: 30}<br>d1 = sorted(d.items(), key = lambda x: x[1])<br>print(d1)<br>d2 = sorted(d.items(), key = lambda x: x[1], reverse=True)<br>print(d2)","like_count":0},{"had_liked":false,"id":335945,"user_name":"咸鱼不想翻身","can_delete":false,"product_type":"c1","uid":1447584,"ip_address":"","ucode":"F662980A82DC18","user_header":"https://static001.geekbang.org/account/avatar/00/16/16/a0/88c17929.jpg","comment_is_top":false,"comment_ctime":1645782234,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645782234","product_id":100026901,"comment_content":"d = {&#39;mike&#39;: 10, &#39;lucy&#39;: 2, &#39;ben&#39;: 30}<br>d_sorted = sorted(d.items(), key=lambda x: x[1], reverse=True)<br>print(d_sorted)","like_count":0},{"had_liked":false,"id":328162,"user_name":"Geek_44798f","can_delete":false,"product_type":"c1","uid":2851448,"ip_address":"","ucode":"4EB2BD9FBDDE7F","user_header":"","comment_is_top":false,"comment_ctime":1640579608,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640579608","product_id":100026901,"comment_content":"请问下，这个地方为什么要加上一个(x) :[(lambda x:x*x)(x) for x in range(10)]","like_count":0},{"had_liked":false,"id":328071,"user_name":"Geek_44798f","can_delete":false,"product_type":"c1","uid":2851448,"ip_address":"","ucode":"4EB2BD9FBDDE7F","user_header":"","comment_is_top":false,"comment_ctime":1640516591,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640516591","product_id":100026901,"comment_content":"d={&#39;mike&#39;:10,&#39;lucy&#39;:2,&#39;ben&#39;:30}<br>dict(sorted(d.items(),key=lambda x:x[1],reverse=False))","like_count":0},{"had_liked":false,"id":327103,"user_name":"qiu123456","can_delete":false,"product_type":"c1","uid":1333387,"ip_address":"","ucode":"71DC61AF12E8A5","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/SXhZVacJlNR0lBbPib7peJbVlhsX8iaiaw2AdkfO8RTn0V7zoBvm5dWy4uvBehqTuOzlRFTG1r46Wz9GIiaMAHMvfA/132","comment_is_top":false,"comment_ctime":1639917831,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639917831","product_id":100026901,"comment_content":"sorted(d.items(), key=lambda x:x[1], reverse=True)<br>这个比较简洁","like_count":0},{"had_liked":false,"id":322021,"user_name":"大海","can_delete":false,"product_type":"c1","uid":1519491,"ip_address":"","ucode":"4F835D75186356","user_header":"https://static001.geekbang.org/account/avatar/00/17/2f/83/81e146e4.jpg","comment_is_top":false,"comment_ctime":1637139537,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637139537","product_id":100026901,"comment_content":"#常规练习<br>d = {&#39;mike&#39;: 10, &#39;lucy&#39;: 2, &#39;ben&#39;: 30}<br><br>sd=dict(sorted(d.items(), key=lambda x :x[1],reverse=True))<br>print(sd)<br><br>md=dict(map(lambda x: (x[0],x[1]*2),d.items()))<br>print(md)<br><br>fd=dict(list(filter(lambda x:x[1]&gt;5,d.items())))<br>print(fd)<br><br>from functools import reduce<br>rd=reduce(lambda x,y:x+y,[v[1] for v in d.items()])<br>print(rd)<br><br>aa = [(lambda x:x+x)(i) for i in range(10)]<br>print(aa)<br>#输出=================================<br>{&#39;ben&#39;: 30, &#39;mike&#39;: 10, &#39;lucy&#39;: 2}<br>{&#39;mike&#39;: 20, &#39;lucy&#39;: 4, &#39;ben&#39;: 60}<br>{&#39;mike&#39;: 10, &#39;ben&#39;: 30}<br>42<br>[0, 2, 4, 6, 8, 10, 12, 14, 16, 18]","like_count":0},{"had_liked":false,"id":319946,"user_name":"等风的雪","can_delete":false,"product_type":"c1","uid":1582210,"ip_address":"","ucode":"530C14DF7CE923","user_header":"https://static001.geekbang.org/account/avatar/00/18/24/82/e0683bae.jpg","comment_is_top":false,"comment_ctime":1636015186,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636015186","product_id":100026901,"comment_content":"sorted((lambda x:x)(d.values()),reverse=True)","like_count":0},{"had_liked":false,"id":313998,"user_name":"rs勿忘初心","can_delete":false,"product_type":"c1","uid":1519200,"ip_address":"","ucode":"557D1ECD757195","user_header":"https://static001.geekbang.org/account/avatar/00/17/2e/60/4fa1f3bd.jpg","comment_is_top":false,"comment_ctime":1632795102,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1632795102","product_id":100026901,"comment_content":"1. 第一问：<br>d = {&#39;mike&#39;: 10, &#39;lucy&#39;: 2, &#39;ben&#39;: 30}<br>sorted(d.item(), key = lambda x: x[1], reverse = True)<br>2.第二问：<br>还没用过，以前对这些认知不够，都是if else遍历处理","like_count":0},{"had_liked":false,"id":313150,"user_name":"轩天","can_delete":false,"product_type":"c1","uid":2518654,"ip_address":"","ucode":"758BA992048C76","user_header":"https://static001.geekbang.org/account/avatar/00/26/6e/7e/013b22f2.jpg","comment_is_top":false,"comment_ctime":1632297560,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632297560","product_id":100026901,"comment_content":"问题答案<br>d = {&#39;mike&#39;: 10, &#39;lucy&#39;: 2, &#39;ben&#39;: 30}<br>d_c = sorted(d.items(), key=lambda x:x[1], reverse=True)","like_count":0},{"had_liked":false,"id":311980,"user_name":"TheOne","can_delete":false,"product_type":"c1","uid":1582134,"ip_address":"","ucode":"2A359780156A8B","user_header":"https://static001.geekbang.org/account/avatar/00/18/24/36/1c4af368.jpg","comment_is_top":false,"comment_ctime":1631583361,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631583361","product_id":100026901,"comment_content":"map：返回通过函数处理之后的对象<br>filter：返回结果为true的对象<br>reduce：函数接受上一次计算的结果，和下一个元素，返回根据逻辑计算之后的结果","like_count":0},{"had_liked":false,"id":306682,"user_name":"风中劲草","can_delete":false,"product_type":"c1","uid":1107179,"ip_address":"","ucode":"DF4AAEC3FE95A2","user_header":"https://static001.geekbang.org/account/avatar/00/10/e4/eb/a6ec4c1e.jpg","comment_is_top":false,"comment_ctime":1628669748,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1628669748","product_id":100026901,"comment_content":"dict(sorted(d.items(), key=lambda x: x[1], reverse=True))","like_count":0},{"had_liked":false,"id":299909,"user_name":"罗辑","can_delete":false,"product_type":"c1","uid":1539649,"ip_address":"","ucode":"06AB60316B51C4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/OwZuBRbVUkziazePs2xTKskNpZachRtCBZLHlv4dAUgaBC5qHI292xaxvg3atGnHlDwjIOXPKEbc7zOrtMyicSNg/132","comment_is_top":false,"comment_ctime":1624899277,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624899277","product_id":100026901,"comment_content":"d = {&#39;mike&#39;: 10, &#39;lucy&#39;: 2, &#39;ben&#39;: 30}<br>print(sorted(d.items(),key=lambda x:x[1]))","like_count":0},{"had_liked":false,"id":293560,"user_name":"Terrylee","can_delete":false,"product_type":"c1","uid":2022922,"ip_address":"","ucode":"89C1C695A3D6AC","user_header":"https://static001.geekbang.org/account/avatar/00/1e/de/0a/6400e68e.jpg","comment_is_top":false,"comment_ctime":1621430767,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1621430767","product_id":100026901,"comment_content":"l = [1, 2, 3, 4, 5]<br>new_list = map(lambda x: x * 2, l) <br>这段代码我要如何下运行效果？我在jupyter里输入print(l)还是12345？","like_count":0,"discussions":[{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"杨宇","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410912,"discussion_content":"当然要对新列表进行print","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635814370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":291959,"user_name":"榴莲芝士🏃","can_delete":false,"product_type":"c1","uid":1606788,"ip_address":"","ucode":"DA886FC33DF091","user_header":"https://static001.geekbang.org/account/avatar/00/18/84/84/d12ea6b0.jpg","comment_is_top":false,"comment_ctime":1620626381,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620626381","product_id":100026901,"comment_content":"第一个问题，使用sorted函数。<br>sorted(d.items(), key=lamda x:x[1], reverse=True)","like_count":0},{"had_liked":false,"id":286542,"user_name":"憨皮苏","can_delete":false,"product_type":"c1","uid":1412429,"ip_address":"","ucode":"D0B4B7660DA766","user_header":"https://static001.geekbang.org/account/avatar/00/15/8d/4d/992070e8.jpg","comment_is_top":false,"comment_ctime":1617365966,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617365966","product_id":100026901,"comment_content":"reduce(function, iterable) 函数的 function 是一个函数对象，他有两个参数，其中一个参数为 iterable 中的每个元素，另一个参数为上一次调用后的结果，那么在第一次调用 reduce 时，第一个参数是 iterable 中的第一个元素，第二个参数是上一次调用后的结果，可是这是第一次调用，哪来上一次调用的结果呢？","like_count":0},{"had_liked":false,"id":279638,"user_name":"Geek_f5cad8","can_delete":false,"product_type":"c1","uid":2242846,"ip_address":"","ucode":"24097FAD4180AA","user_header":"","comment_is_top":false,"comment_ctime":1613884744,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613884744","product_id":100026901,"comment_content":"def函数可以在列表中和作为函数的参数吧，","like_count":0},{"had_liked":false,"id":277220,"user_name":"王震","can_delete":false,"product_type":"c1","uid":1194568,"ip_address":"","ucode":"691C40D45510B3","user_header":"https://static001.geekbang.org/account/avatar/00/12/3a/48/fbacc564.jpg","comment_is_top":false,"comment_ctime":1612320509,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612320509","product_id":100026901,"comment_content":"关于map和直接处理哪个更快，个人的结论感觉是反过来的。。。<br><br>xs=range(1000000)<br>%time out = map(lambda x: x * 2, xs)\t# Wall time: 5.33 ms<br>%time n = [x for x in out]              # Wall time: 117 ms<br><br>%time out = [x * 2 for x in xs]\t\t\t# Wall time: 61.5 ms<br>%time n = [x for x in out]              # Wall time: 38.6 ms<br><br>%time list(map(lambda x: x * 2, xs))    # Wall time: 92.6 ms<br>%time [x * 2 for x in xs]               # Wall time: 63.6 ms","like_count":0},{"had_liked":false,"id":270032,"user_name":"非同凡想","can_delete":false,"product_type":"c1","uid":1934969,"ip_address":"","ucode":"713FD449A49D5A","user_header":"https://static001.geekbang.org/account/avatar/00/1d/86/79/066a062a.jpg","comment_is_top":false,"comment_ctime":1608882565,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608882565","product_id":100026901,"comment_content":"print(sorted(d.items(), key=lambda kv :kv[1],reverse=True))","like_count":0},{"had_liked":false,"id":250271,"user_name":"硕杨Sxuya","can_delete":false,"product_type":"c1","uid":1007257,"ip_address":"","ucode":"A83A1595C9DCF9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/99/6ded8166.jpg","comment_is_top":false,"comment_ctime":1601006677,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601006677","product_id":100026901,"comment_content":"发现，其实之前讲解 字典、集合 的那章里面有对应的方法，新手看到这里就忘记了……<br><br>print(dict(sorted(d.items(), key=lambda x: x[1], reverse=True)))","like_count":0},{"had_liked":false,"id":247768,"user_name":"Python","can_delete":false,"product_type":"c1","uid":2176035,"ip_address":"","ucode":"61405C328A7B1B","user_header":"","comment_is_top":false,"comment_ctime":1599826533,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599826533","product_id":100026901,"comment_content":"map filter在python3中返回都是生成器对象。所以有点乱，感觉这个示例应该是2.7，不是3.7","like_count":0},{"had_liked":false,"id":242486,"user_name":"Geek_5705c7","can_delete":false,"product_type":"c1","uid":1452534,"ip_address":"","ucode":"869D2C0E7BD851","user_header":"https://static001.geekbang.org/account/avatar/00/16/29/f6/c2cb51d6.jpg","comment_is_top":false,"comment_ctime":1597739844,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"1597739844","product_id":100026901,"comment_content":"我想请问为什么下面这段代码中为什么 for前面要单独 写一个（x）呢？<br><br>[(lambda x: x*x)(x) for x in range(10)]<br><br>","like_count":0,"discussions":[{"author":{"id":2143277,"avatar":"https://static001.geekbang.org/account/avatar/00/20/b4/2d/44680897.jpg","nickname":"Resolution","note":"","ucode":"F74C067C58CD05","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301113,"discussion_content":"(lambda x: x*x)返回的是一个函数对象，我是把(lambda x: x*x)理解为一个函数名，后面的(x) 是它的入参\nsquare = lambda x: x*x\nfor i in range(10):\n     square(i)","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1598410715,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1710643,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/vwv0qiaibQzcTP6yIDJXOJLdh64CnBSaOceFFuWArVHQcwicIsebwYbKJ69OSJrxeXJyawtNIINcjo3V3hgg5BW1A/132","nickname":"MuBo","note":"","ucode":"46402B9B7D7B1E","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":2143277,"avatar":"https://static001.geekbang.org/account/avatar/00/20/b4/2d/44680897.jpg","nickname":"Resolution","note":"","ucode":"F74C067C58CD05","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327949,"discussion_content":"解惑！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606024531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301113,"ip_address":""},"score":327949,"extra":""},{"author":{"id":2320032,"avatar":"https://static001.geekbang.org/account/avatar/00/23/66/a0/c00fb984.jpg","nickname":"你说呢","note":"","ucode":"860F6FED5EFF15","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2143277,"avatar":"https://static001.geekbang.org/account/avatar/00/20/b4/2d/44680897.jpg","nickname":"Resolution","note":"","ucode":"F74C067C58CD05","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352388,"discussion_content":"哇，你这个解释感觉比较合理","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614698661,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301113,"ip_address":""},"score":352388,"extra":""}]},{"author":{"id":1519491,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2f/83/81e146e4.jpg","nickname":"大海","note":"","ucode":"4F835D75186356","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530744,"discussion_content":"[(lambda x:x*x)(i) for i in range(10)] 改成这样更容易看懂。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637138577,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":237884,"user_name":"Spring","can_delete":false,"product_type":"c1","uid":1007267,"ip_address":"","ucode":"80594B4B056A53","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/a3/9670d4b4.jpg","comment_is_top":false,"comment_ctime":1595995239,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595995239","product_id":100026901,"comment_content":"lambda 中的expression 定义中是存在 if else 语句的。<br>","like_count":0},{"had_liked":false,"id":237231,"user_name":"心随缘","can_delete":false,"product_type":"c1","uid":2057406,"ip_address":"","ucode":"F7F5C49EA80E03","user_header":"https://static001.geekbang.org/account/avatar/00/1f/64/be/546665e3.jpg","comment_is_top":false,"comment_ctime":1595751731,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1595751731","product_id":100026901,"comment_content":"问题一<br><br>d = {&#39;mike&#39;: 10, &#39;lucy&#39;: 2, &#39;ben&#39;: 30}<br><br>mysort = sorted(d,key = lambda x:x[1])<br>print(mysort)","like_count":0},{"had_liked":false,"id":233205,"user_name":"Kai","can_delete":false,"product_type":"c1","uid":1132636,"ip_address":"","ucode":"375475599FE136","user_header":"https://static001.geekbang.org/account/avatar/00/11/48/5c/3e46e189.jpg","comment_is_top":false,"comment_ctime":1594260361,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1594260361","product_id":100026901,"comment_content":"为什么我使用的map反而速度会很慢<br>$ python -mtimeit -s&#39;xs=range(1000000)&#39; &#39;map(lambda x: x*2, xs)&#39;<br>1000000 loops, best of 5: 230 nsec per loop<br>(article_spider)<br># @ bogon in ~ [9:58:00]<br>$ python -mtimeit -s&#39;xs=range(1000000)&#39; &#39;[x*2 for x in xs]&#39;<br>5 loops, best of 5: 85.3 msec per loop","like_count":0,"discussions":[{"author":{"id":1018685,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8b/3d/0c3a2fd4.jpg","nickname":"偶尔复活下","note":"","ucode":"18B1D525CD50D3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388671,"discussion_content":"看下时间单位？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628905386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232355,"user_name":"x102125","can_delete":false,"product_type":"c1","uid":2054027,"ip_address":"","ucode":"36858F22AEF1BD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Zb5XAibrJOtgL4EMIhUu8CLAhibhAVzmsLCNA6zf60kXSxeWeLbpOjmFcuRWcOsjZmneOPRHJ5A9YYKjZaH84Utw/132","comment_is_top":false,"comment_ctime":1593964426,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593964426","product_id":100026901,"comment_content":"python -mtimeit -s&#39;xs=range(1000000)&#39; &#39;map(lambda x: x*2, xs)&#39;<br>  File &quot;&lt;input&gt;&quot;, line 1<br>    python -mtimeit -s&#39;xs=range(1000000)&#39; &#39;map(lambda x: x*2, xs)&#39;<br>                                        ^<br>SyntaxError: invalid syntax<br><br>mtimeit这个功能不能在windows下用吗","like_count":0},{"had_liked":false,"id":232352,"user_name":"x102125","can_delete":false,"product_type":"c1","uid":2054027,"ip_address":"","ucode":"36858F22AEF1BD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Zb5XAibrJOtgL4EMIhUu8CLAhibhAVzmsLCNA6zf60kXSxeWeLbpOjmFcuRWcOsjZmneOPRHJ5A9YYKjZaH84Utw/132","comment_is_top":false,"comment_ctime":1593964004,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593964004","product_id":100026901,"comment_content":"python -mtimeit -s&#39;xs=range(1000000)&#39; &#39;map(lambda x: x*2, xs)&#39;<br>  File &quot;&lt;input&gt;&quot;, line 1<br>    python -mtimeit -s&#39;xs=range(1000000)&#39; &#39;map(lambda x: x*2, xs)&#39;<br>                                        ^<br>SyntaxError: invalid syntax","like_count":0},{"had_liked":false,"id":229416,"user_name":"dcj123","can_delete":false,"product_type":"c1","uid":1714280,"ip_address":"","ucode":"123D5B5166C399","user_header":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq1EKibJ5N8ZJBFjFxbgA35xtF3JXA2HWTQ3l1o2DAdEK6vx1XK9SLozLz1ocQ3j4SWQSV8F8yTetg/132","comment_is_top":false,"comment_ctime":1592989265,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592989265","product_id":100026901,"comment_content":"sorted(d.items(), key=lambda x: x[1], reverse=True)","like_count":0},{"had_liked":false,"id":227636,"user_name":"Kevin","can_delete":false,"product_type":"c1","uid":1923859,"ip_address":"","ucode":"89EA5FCF036C42","user_header":"https://static001.geekbang.org/account/avatar/00/1d/5b/13/6db9ba58.jpg","comment_is_top":false,"comment_ctime":1592447344,"is_pvip":true,"replies":[{"id":"84141","content":"没问题哈","user_name":"作者回复","comment_id":227636,"uid":"1259521","ip_address":"","utype":1,"ctime":1592592202,"user_name_real":"Jingxiao"}],"discussion_count":2,"race_medal":0,"score":"1592447344","product_id":100026901,"comment_content":"第一问：不知道这么写对不对。<br>d = {&#39;mike&#39;: 10, &#39;lucy&#39;: 2, &#39;ben&#39;: 30}<br>print(sorted(d, key=lambda x:x[1], reverse=False))<br>输出：[&#39;ben&#39;, &#39;mike&#39;, &#39;lucy&#39;]","like_count":0,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498728,"discussion_content":"没问题哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592592202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1519491,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2f/83/81e146e4.jpg","nickname":"大海","note":"","ucode":"4F835D75186356","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530746,"discussion_content":"这样写感觉就是把名字的第二个字母作为排序规则了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637138710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226063,"user_name":"daowuli_chihai","can_delete":false,"product_type":"c1","uid":2017371,"ip_address":"","ucode":"13E5DD278D8E95","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIiaeebUYxl7e1b8DhQGz7v6uibGcytfL8iaTke1S6NwSVxicOy5iaLGbRn2aZtxZy8vVnF6j3fjtxDEbQ/132","comment_is_top":false,"comment_ctime":1591942028,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591942028","product_id":100026901,"comment_content":"自 Python3 之后，这个函数从全局命名空间中移除，放在了 functools模块，因为如果想正确执行，必须下面代码前加入一句，python的版本问题，比较浪费时间<br><br>from functools import reduce<br><br>l = [1, 2, 3, 4, 5]<br>product = reduce(lambda x, y: x * y, l) # 1*2*3*4*5 = 120","like_count":0},{"had_liked":false,"id":213299,"user_name":"Steve","can_delete":false,"product_type":"c1","uid":1072131,"ip_address":"","ucode":"9C4E9E62A79C3A","user_header":"https://static001.geekbang.org/account/avatar/00/10/5c/03/370ebbc8.jpg","comment_is_top":false,"comment_ctime":1588379601,"is_pvip":false,"replies":[{"id":"79957","content":"Javascript我不是特别精通哈","user_name":"作者回复","comment_id":213299,"uid":"1259521","ip_address":"","utype":1,"ctime":1589179190,"user_name_real":"Jingxiao"}],"discussion_count":1,"race_medal":0,"score":"1588379601","product_id":100026901,"comment_content":"喜欢这种讲解方式，能不能再开一个JavaScript的课？","like_count":0,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493738,"discussion_content":"Javascript我不是特别精通哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589179190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208409,"user_name":"LiuJ","can_delete":false,"product_type":"c1","uid":1937496,"ip_address":"","ucode":"EE4896E8E96B95","user_header":"https://static001.geekbang.org/account/avatar/00/1d/90/58/e2ab3dfe.jpg","comment_is_top":false,"comment_ctime":1587352933,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587352933","product_id":100026901,"comment_content":"思考题，第一问：<br>04 节中说过字典在Python3.7+中是有序的，所以可以按照下面这样写：<br>dict(sorted(d.items(), key=lambda x: x[1], reverse=True))<br>如果是Python3.7以下的版本，就用列表的方式表示：<br>sorted(d.items(), key=lambda x: x[1], reverse=True)","like_count":0},{"had_liked":false,"id":202971,"user_name":"🌻","can_delete":false,"product_type":"c1","uid":1509651,"ip_address":"","ucode":"9B4D8CA8C09A70","user_header":"https://static001.geekbang.org/account/avatar/00/17/09/13/d762ce74.jpg","comment_is_top":false,"comment_ctime":1586095481,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586095481","product_id":100026901,"comment_content":"sorted(d.items(), key=lambda x: x[1], reverse=True)","like_count":0},{"had_liked":false,"id":199708,"user_name":"好好先生","can_delete":false,"product_type":"c1","uid":1528286,"ip_address":"","ucode":"794650E28C633A","user_header":"https://static001.geekbang.org/account/avatar/00/17/51/de/990fd4f2.jpg","comment_is_top":false,"comment_ctime":1585494222,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585494222","product_id":100026901,"comment_content":"Python的语法好多啊，有点记不住","like_count":0},{"had_liked":false,"id":196760,"user_name":"徐旭","can_delete":false,"product_type":"c1","uid":1814806,"ip_address":"","ucode":"1D3091D15373E5","user_header":"https://static001.geekbang.org/account/avatar/00/1b/b1/16/dd11930c.jpg","comment_is_top":false,"comment_ctime":1585310305,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585310305","product_id":100026901,"comment_content":"赞赞，受益匪浅","like_count":0},{"had_liked":false,"id":192890,"user_name":"你曾是少年","can_delete":false,"product_type":"c1","uid":1326701,"ip_address":"","ucode":"83BBA0754EA1C9","user_header":"https://static001.geekbang.org/account/avatar/00/14/3e/6d/323995f4.jpg","comment_is_top":false,"comment_ctime":1584877752,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584877752","product_id":100026901,"comment_content":"再看一遍，好评","like_count":0},{"had_liked":false,"id":187661,"user_name":"王大华","can_delete":false,"product_type":"c1","uid":1163590,"ip_address":"","ucode":"7AD5C4B8E93B0F","user_header":"https://static001.geekbang.org/account/avatar/00/11/c1/46/a81f7402.jpg","comment_is_top":false,"comment_ctime":1584187396,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584187396","product_id":100026901,"comment_content":"d = {&#39;mike&#39;: 10, &#39;lucy&#39;: 2, &#39;ben&#39;: 30}<br>s = sorted(d.items(), key=lambda x: x[1], reverse=True)<br>print(s)","like_count":0},{"had_liked":false,"id":178535,"user_name":"七步","can_delete":false,"product_type":"c1","uid":1368490,"ip_address":"","ucode":"570AEA1E4A6424","user_header":"https://static001.geekbang.org/account/avatar/00/14/e1/aa/3aa78810.jpg","comment_is_top":false,"comment_ctime":1581736550,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581736550","product_id":100026901,"comment_content":"sorted(d.items(),key=lambda x:x[1],reverse=True)","like_count":0},{"had_liked":false,"id":177452,"user_name":"苹果","can_delete":false,"product_type":"c1","uid":1761988,"ip_address":"","ucode":"5D0FA9D8560FD8","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e2/c4/25acaa38.jpg","comment_is_top":false,"comment_ctime":1581395273,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581395273","product_id":100026901,"comment_content":"dict(sorted(d.items(),key = lambda x : x[1]),reverse = True)<br>按照要求不改变字典的类型吧","like_count":0},{"had_liked":false,"id":170592,"user_name":"冲","can_delete":false,"product_type":"c1","uid":1149914,"ip_address":"","ucode":"4191C8A4DF3840","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIk46cor5XVFTPZbPOnb7pViabgy450pobo46hRHFQz5nR5ocYRKIzC8vShic36vwa553H4Vj50x5wA/132","comment_is_top":false,"comment_ctime":1578639785,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578639785","product_id":100026901,"comment_content":"sorted(d.items(),key=lambda x:x[1],reverse=True)","like_count":0},{"had_liked":false,"id":164861,"user_name":"谁谁","can_delete":false,"product_type":"c1","uid":1203114,"ip_address":"","ucode":"9651913B7B7ECC","user_header":"https://static001.geekbang.org/account/avatar/00/12/5b/aa/777d7f88.jpg","comment_is_top":false,"comment_ctime":1577101355,"is_pvip":false,"replies":[{"id":"62958","content":"这个就是语法啊，这句话的意思就是对于1-10的每个整数，都调用lambda函数（自身相乘）","user_name":"作者回复","user_name_real":"Jingxiao","uid":"1259521","ctime":1577183612,"ip_address":"","comment_id":164861,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1577101355","product_id":100026901,"comment_content":"请问老师，如何理解这一句：<br>[(lambda x: x*x)(x) for x in range(10)]<br>其中的(lambda x: x*x)(x)，这个lambda函数括起来是代表直接调用？","like_count":0,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478924,"discussion_content":"这个就是语法啊，这句话的意思就是对于1-10的每个整数，都调用lambda函数（自身相乘）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577183612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2344816,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLCbnGYOhwYmBwytX5e8Dd3ll9JwjUgaS5QK2JnbxrNdwJiaFksjsKQXBw9OuLZicrCB7unnS3ZGLOw/132","nickname":"米勒","note":"","ucode":"9C02A167B593A9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340200,"discussion_content":"谢谢解答，理解了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609925746,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1369115,"avatar":"https://static001.geekbang.org/account/avatar/00/14/e4/1b/e8f5f5e4.jpg","nickname":"大菠萝","note":"","ucode":"524996C082234F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300790,"discussion_content":"(lambda x: x*x)(x) 后面的（x）是把值传入，前面只是表达式，参考：https://realpython.com/python-lambda/","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598264877,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163967,"user_name":"咸鱼不想翻身","can_delete":false,"product_type":"c1","uid":1447584,"ip_address":"","ucode":"F662980A82DC18","user_header":"https://static001.geekbang.org/account/avatar/00/16/16/a0/88c17929.jpg","comment_is_top":false,"comment_ctime":1576835390,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576835390","product_id":100026901,"comment_content":"d = {&#39;mike&#39;: 10, &#39;lucy&#39;: 2, &#39;ben&#39;: 30}<br>dSorted = sorted(d.items(), key=lambda x: x[1], reverse=True)<br>print(dict(dSorted))","like_count":0},{"had_liked":false,"id":151405,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1573714027,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573714027","product_id":100026901,"comment_content":"感觉Python的map，filter,reduce,不如其他的语言直观，例如map filter reduce组合的时候，Kotlin语言是从前往后执行，比较符合直觉，Python是从中间往两边执行的，比较费解。","like_count":0},{"had_liked":false,"id":146415,"user_name":"且行且珍惜","can_delete":false,"product_type":"c1","uid":1496185,"ip_address":"","ucode":"5AC0671880B29D","user_header":"https://static001.geekbang.org/account/avatar/00/16/d4/79/12ff2133.jpg","comment_is_top":false,"comment_ctime":1572516804,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572516804","product_id":100026901,"comment_content":"sorted(d.items(), key=lambda x: x[1])","like_count":0},{"had_liked":false,"id":140641,"user_name":"Freshman","can_delete":false,"product_type":"c1","uid":1662439,"ip_address":"","ucode":"5F4709AF68795C","user_header":"https://static001.geekbang.org/account/avatar/00/19/5d/e7/c72fb013.jpg","comment_is_top":false,"comment_ctime":1571020139,"is_pvip":false,"replies":[{"id":"54713","content":"对","user_name":"作者回复","user_name_real":"Jingxiao","uid":"1259521","ctime":1571208721,"ip_address":"","comment_id":140641,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571020139","product_id":100026901,"comment_content":"    # 获得排序的元组，字典<br>    list_1 = [item for item in ori_dict.items()]<br>    list_1.sort(key=lambda val: val[1], reverse=True)<br>    # 重新生成字典<br>    dict_1 = {key: value for key, value in list_1}","like_count":0,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470488,"discussion_content":"对","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571208721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136380,"user_name":"自由民","can_delete":false,"product_type":"c1","uid":1346236,"ip_address":"","ucode":"435C67531697F1","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/bc/cb39ed38.jpg","comment_is_top":false,"comment_ctime":1569419368,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569419368","product_id":100026901,"comment_content":"总结:匿名函数lambda，是一个表达式，用于简化代码。用于简单的功能，且仅用一次。<br>函数式编程是代码只有函数，且不改变的。在python中主要使用map,filter,reduce函数以及匿名函数，优点是比较高效。(匿名函数，函数式编程，跟闭包一样，以前就知道，但是从来没用过，真的了解了貌似没我想象的那么复杂。)<br>思考题<br># 1 将字典按值从大到小排序<br> import operator<br> d = {&quot;mike&quot;:10, &quot;lucy&quot;:2, &quot;ben&quot;:30}<br> sort_d = sorted(d.items(), key=operator.itemgetter(1), reverse=True)<br> print(sort_d)<br>2.之前没用过，主要在很简短的一行代码而只需要用一次的地方。<br>另外，python3中reduce移入functools库里了，要先import。<br>课程的练习代码: https:&#47;&#47;github.com&#47;zwdnet&#47;PythonPractice","like_count":0},{"had_liked":false,"id":136191,"user_name":"1","can_delete":false,"product_type":"c1","uid":1207581,"ip_address":"","ucode":"2E427E32669F76","user_header":"https://static001.geekbang.org/account/avatar/00/12/6d/1d/ad948ab8.jpg","comment_is_top":false,"comment_ctime":1569379948,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569379948","product_id":100026901,"comment_content":"sorted(d.items(), key=lambda x: x[1])","like_count":0},{"had_liked":false,"id":129553,"user_name":"djfhchdh","can_delete":false,"product_type":"c1","uid":1484184,"ip_address":"","ucode":"E71D75328CE398","user_header":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","comment_is_top":false,"comment_ctime":1567153569,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567153569","product_id":100026901,"comment_content":"res = {k:d[k]for _,k in enumerate(sorted(d,key=lambda x:d[x],reverse=True))}","like_count":0},{"had_liked":false,"id":129171,"user_name":"_stuView","can_delete":false,"product_type":"c1","uid":1244561,"ip_address":"","ucode":"C2D4AAB08515F1","user_header":"https://static001.geekbang.org/account/avatar/00/12/fd/91/65ff3154.jpg","comment_is_top":false,"comment_ctime":1567056578,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1567056578","product_id":100026901,"comment_content":"函数式编程那部分，代码应该是错误的吧，应该是new_list.append(l[item]*2)才对吧，不是item*2","like_count":0,"discussions":[{"author":{"id":1239546,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKWiaZb7a2JAcIVlXYuZ3iaPfSF6vBbg3yUps6LKpsZarftyXufMHYKJmMKzH3bIpVkDAVNXE9q0oOw/132","nickname":"Mr_scx","note":"","ucode":"28B5CE68A5A339","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":173255,"discussion_content":"没错，这里item就是值而不是索引","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581842176,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128893,"user_name":"Aaron(健廷)","can_delete":false,"product_type":"c1","uid":1490218,"ip_address":"","ucode":"591435EEBD5201","user_header":"https://static001.geekbang.org/account/avatar/00/16/bd/2a/f51c5743.jpg","comment_is_top":false,"comment_ctime":1566980935,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1566980935","product_id":100026901,"comment_content":"d = dict(sorted(d.items(), key=lambda x:x[1], reverse=True))","like_count":0},{"had_liked":false,"id":121021,"user_name":"Geek_e862d1","can_delete":false,"product_type":"c1","uid":1524750,"ip_address":"","ucode":"8B0F9A6A89EF80","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI39CDPyWiaicjYicBUbswQGhjI9DV435cdj8K6WMdVRjNa01405FrgNbpGqYuutlWYea4blZEAUiaiagA/132","comment_is_top":false,"comment_ctime":1565051024,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565051024","product_id":100026901,"comment_content":"函数里面怎么没有装饰器的知识体系？","like_count":0},{"had_liked":false,"id":117774,"user_name":"江南皮革厂研发中心保安队长","can_delete":false,"product_type":"c1","uid":1099584,"ip_address":"","ucode":"231419643A5CC5","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/40/66a203cd.jpg","comment_is_top":false,"comment_ctime":1564128002,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564128002","product_id":100026901,"comment_content":"学到这一节开始觉得有点烧脑了&gt;_&lt; ","like_count":0},{"had_liked":false,"id":113821,"user_name":"Zeb爱python","can_delete":false,"product_type":"c1","uid":1600773,"ip_address":"","ucode":"6164593B62880E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/LyDQYy515JwT0yHMSrPFsC1gfGnXyYLka3mDVLicAOIdyzMMZqNm0y8SNficDJYR1coDh5QOhxkHEjzqibFmNBCnA/132","comment_is_top":false,"comment_ctime":1563162201,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563162201","product_id":100026901,"comment_content":"使用 reduce() 测试的时候报错：reduce 未定义！<br>NameError: name &#39;reduce&#39; is not defined<br>引用stackoverflow的回答： <br>- 你使用的是python3 <br>- 参考的是python2的指南<br>reduce函数在python3的内建函数移除了，放入了functools模块<br>from functools import reduce ","like_count":0},{"had_liked":false,"id":111119,"user_name":"建强","can_delete":false,"product_type":"c1","uid":1397126,"ip_address":"","ucode":"62B03D0E0C64EC","user_header":"https://static001.geekbang.org/account/avatar/00/15/51/86/b5fd8dd8.jpg","comment_is_top":false,"comment_ctime":1562481457,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562481457","product_id":100026901,"comment_content":"思考题第一问：<br>#字典按值排序<br>d={&#39;mike&#39;:10,&#39;lucy&#39;:2,&#39;ben&#39;:30}<br><br>print(&quot;排序前字典：&quot;)<br>print(d)<br><br>#先转成列表，然后再调用sort方法排序，再转成字典<br>l = list(d.items())<br>l.sort(key=lambda x: x[1])<br>d = dict(l)<br><br>print(&quot;按字典值排序后：&quot;)<br>print(d)<br>思考题，第二问：目前还没在实际工作中运用Python去做开发，需要在实际开发时，慢慢积累经验。","like_count":0},{"had_liked":false,"id":110985,"user_name":"A chance of sunshine","can_delete":false,"product_type":"c1","uid":1525944,"ip_address":"","ucode":"BD1F533D6594F1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL97jNwq03DZY2qYJokT4VCf8wvibRvXmWlPh5ExIkC1Bzy8q5RQcutO1cibMTn15R2WFyc4eBeeZGA/132","comment_is_top":false,"comment_ctime":1562410129,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562410129","product_id":100026901,"comment_content":"我的map为什么没有返回集合","like_count":0},{"had_liked":false,"id":110635,"user_name":"郭杰","can_delete":false,"product_type":"c1","uid":1139077,"ip_address":"","ucode":"8A14FC047A679B","user_header":"https://static001.geekbang.org/account/avatar/00/11/61/85/6accd013.jpg","comment_is_top":false,"comment_ctime":1562308127,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562308127","product_id":100026901,"comment_content":"sorted(d.items(),key=lambda d:d[1],reverse=True)","like_count":0},{"had_liked":false,"id":110304,"user_name":"Luove","can_delete":false,"product_type":"c1","uid":1545251,"ip_address":"","ucode":"73CD4D2C731B47","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM7adYZoHGic7ZS6cp9OmBjh1C4ajCCpciblR3ib3jDtiaKrFdbT9J7sl2B9eNoCQicfx5QWgVVZQB74pfQ/132","comment_is_top":false,"comment_ctime":1562227333,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562227333","product_id":100026901,"comment_content":"d = {&#39;mike&#39;: 10, &#39;lucy&#39;: 2, &#39;ben&#39;: 30}<br>sorted(d.items(), key=lambda x:x[1], reverse=True)","like_count":0},{"had_liked":false,"id":107854,"user_name":"magician","can_delete":false,"product_type":"c1","uid":1483968,"ip_address":"","ucode":"1BD1125C7C907A","user_header":"https://static001.geekbang.org/account/avatar/00/16/a4/c0/c6880c07.jpg","comment_is_top":false,"comment_ctime":1561623207,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561623207","product_id":100026901,"comment_content":"1.dict(sorted(d.items(), key=lambda x: x[1], reverse=True)) <br>2.列表推倒式，marshmallow Function","like_count":0},{"had_liked":false,"id":106449,"user_name":"响雨","can_delete":false,"product_type":"c1","uid":1581705,"ip_address":"","ucode":"C5FB3A3BC68F92","user_header":"https://static001.geekbang.org/account/avatar/00/18/22/89/73397ccb.jpg","comment_is_top":false,"comment_ctime":1561305353,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561305353","product_id":100026901,"comment_content":"a = sorted(d.items(),key=lambda x:x[1],reverse=True)","like_count":0},{"had_liked":false,"id":105902,"user_name":"游戏","can_delete":false,"product_type":"c1","uid":1526457,"ip_address":"","ucode":"2DAF963DADEE76","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/rp4leprLrAVpeibk9n6KHaYZeasBG4faU2JnHsBMqxE1o4BALjCTmBZV2g4dkuPGhu13kmRwSOgXpoPky3qc4Zw/132","comment_is_top":false,"comment_ctime":1561102251,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561102251","product_id":100026901,"comment_content":"第一问：sorted(list(d.items()), key = lambda x : x[1], reverse = True)<br>第二问：目前就只在排序的时候用到过，其他的场景目前没有遇到<br>初学者表示，如果lambda 表达式如果想要debug的话，要怎么弄呢...","like_count":0},{"had_liked":false,"id":105092,"user_name":"叶子","can_delete":false,"product_type":"c1","uid":1200713,"ip_address":"","ucode":"4B043DE31345C2","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/49/23a6ea52.jpg","comment_is_top":false,"comment_ctime":1560915067,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560915067","product_id":100026901,"comment_content":"d={&#39;mike&#39;:10,&#39;lucy&#39;:2,&#39;ben&#39;:3}<br><br>print(sorted(d.items(),key=lambda x:x[0]))<br>print(sorted(d.items(),key=lambda x:x[1]))","like_count":0},{"had_liked":false,"id":104799,"user_name":"taoist","can_delete":false,"product_type":"c1","uid":1195004,"ip_address":"","ucode":"D70AFE25CD8F10","user_header":"https://static001.geekbang.org/account/avatar/00/12/3b/fc/04a75cd0.jpg","comment_is_top":false,"comment_ctime":1560841383,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1560841383","product_id":100026901,"comment_content":"dict(sorted(d.items(),key=lambda x:x[1],reverse=True))","like_count":0},{"had_liked":false,"id":103948,"user_name":"Monroe  He","can_delete":false,"product_type":"c1","uid":1348219,"ip_address":"","ucode":"D04ECB2EF2E0DA","user_header":"https://static001.geekbang.org/account/avatar/00/14/92/7b/8c7e3e61.jpg","comment_is_top":false,"comment_ctime":1560570286,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560570286","product_id":100026901,"comment_content":"匿名函数lambda:<br>lambda argument1, argument2,... argumentN : expression<br><br>Python 主要提供了这么几个函数：map()、filteer() 和 reduce()，通常结合匿名函数 lambda 一起使用。<br>首先是 map(function, iterable) 函数,它表示，对iterable中的每个元素，都运用function这个函数，最后返回一个新的可2遍历的集合。<br>filter（function，iterable）函数，它和map函数类似，function同样表示一个函数对象，filter（）函数表示对iterable中的每个元素，都使用function判断，并返回True或False,最后将返回True的元素组成一个新的可遍历的集合。<br>reduce(function, iterable)函数，它通常用来对一个集合做一些累计操作。function同样是一个函数对象，规定它有两个参数，表示iterabe中的元素以及上一次调用后的结果，运用function进行计算，所以最后返回的是一个单独的数值。<br>","like_count":0},{"had_liked":false,"id":101427,"user_name":"宾果","can_delete":false,"product_type":"c1","uid":1362885,"ip_address":"","ucode":"88648DAAED3362","user_header":"https://static001.geekbang.org/account/avatar/00/14/cb/c5/a400a91f.jpg","comment_is_top":false,"comment_ctime":1559805648,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1559805648","product_id":100026901,"comment_content":"前面有讲过这句： sorted(d.items(),key=lambda x:x[1], reverse=True)，问老师一个问题，这条语句中匿名函数的参数是怎么传递进去的呢，有点不太清楚？","like_count":0,"discussions":[{"author":{"id":1640276,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJrIyCrRXMPXUQTR5IHNOh6niaY3MRr2mtv6W6WXcT1FHK1aic3NOhfzdaqfx3u8mmFAmibgX8xDdB2g/132","nickname":"王俊","note":"","ucode":"7EDE3F56E10248","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8505,"discussion_content":"d.items()本身是一个iterable的对象，里面的元素是元组，key就是每个元组的第二个参数，即d的value值，用value值来排序","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568012615,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101376,"user_name":"小侠龙旋风","can_delete":false,"product_type":"c1","uid":1126441,"ip_address":"","ucode":"073F3924A99835","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/29/d6816ebf.jpg","comment_is_top":false,"comment_ctime":1559791866,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559791866","product_id":100026901,"comment_content":"sorted(d.items(),key=lambda x:x[1],reverse=True)","like_count":0},{"had_liked":false,"id":100706,"user_name":"lllong33","can_delete":false,"product_type":"c1","uid":1528751,"ip_address":"","ucode":"5D012385994C3D","user_header":"https://static001.geekbang.org/account/avatar/00/17/53/af/e5bf5d08.jpg","comment_is_top":false,"comment_ctime":1559622319,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559622319","product_id":100026901,"comment_content":"第一问：sorted(d.items(), key=lambda x,y: y, reverse=True)，记得还有一种zip将字典k和v置换的方法。<br>第二问：pandas中的apply()，需要筛选某个元素的时候，判断是否包含特殊字符。","like_count":0},{"had_liked":false,"id":100329,"user_name":"羽球码农","can_delete":false,"product_type":"c1","uid":1546687,"ip_address":"","ucode":"63D4290291A2A3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erPWSp3arBicQmlYFsPxOTImLDOQk5RYgianH1C4jf3zrxYI8ggwcXq50LQy45x3D87lYGE4EJfa43Q/132","comment_is_top":false,"comment_ctime":1559529484,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559529484","product_id":100026901,"comment_content":"2、reduce 在python 3的内置函数中不是被废弃了吗？","like_count":0},{"had_liked":false,"id":100327,"user_name":"羽球码农","can_delete":false,"product_type":"c1","uid":1546687,"ip_address":"","ucode":"63D4290291A2A3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erPWSp3arBicQmlYFsPxOTImLDOQk5RYgianH1C4jf3zrxYI8ggwcXq50LQy45x3D87lYGE4EJfa43Q/132","comment_is_top":false,"comment_ctime":1559529426,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559529426","product_id":100026901,"comment_content":"1、列表解析里是可以放常规函数的","like_count":0},{"had_liked":false,"id":100305,"user_name":"周平","can_delete":false,"product_type":"c1","uid":1047936,"ip_address":"","ucode":"CA1869B139A4F6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fd/80/52763d62.jpg","comment_is_top":false,"comment_ctime":1559525311,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559525311","product_id":100026901,"comment_content":"d = {&#39;mike&#39;: 10, &#39;lucy&#39;: 2, &#39;ben&#39;: 30}<br><br>e=sorted(d.items(),key=lambda x:x[1],reverse=True)<br><br>print(dict(e))<br>","like_count":0},{"had_liked":false,"id":100142,"user_name":"coder","can_delete":false,"product_type":"c1","uid":1136797,"ip_address":"","ucode":"4F9A006DA78074","user_header":"https://static001.geekbang.org/account/avatar/00/11/58/9d/91d795cf.jpg","comment_is_top":false,"comment_ctime":1559457870,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559457870","product_id":100026901,"comment_content":"sort(d.items(d), key=lambda x: x[1], reverses=True)<br><br>接着打印出来，sort  反向进行排序","like_count":0},{"had_liked":false,"id":100106,"user_name":"阿坤儿00","can_delete":false,"product_type":"c1","uid":1542867,"ip_address":"","ucode":"4A276EEF4AC9D6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/OAykKXiaicxfyk4qicIA0XO3QGicogukYNCBoickRVFZrCxvCav0Jyv7Ax9twWH4qkCWFuSsyDltsONicCKmAv3GZYmQ/132","comment_is_top":false,"comment_ctime":1559445211,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1559445211","product_id":100026901,"comment_content":"sorted(d.items(),key=lambda x:x[1],reverse=True) <br>这样返回的是列表，而不是字典，但是如果使用dict()，又会变成无序的字典， 那是不是不能够生成有序字典呢？  前面的写法就是第一问的正解吗？","like_count":0,"discussions":[{"author":{"id":1600773,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/LyDQYy515JwT0yHMSrPFsC1gfGnXyYLka3mDVLicAOIdyzMMZqNm0y8SNficDJYR1coDh5QOhxkHEjzqibFmNBCnA/132","nickname":"Zeb爱python","note":"","ucode":"6164593B62880E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1987,"discussion_content":"直接打印字典就可以看到想要的结果了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563163220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":100101,"user_name":"刘润森","can_delete":false,"product_type":"c1","uid":1236556,"ip_address":"","ucode":"84101C670A6747","user_header":"https://static001.geekbang.org/account/avatar/00/12/de/4c/a51ece16.jpg","comment_is_top":false,"comment_ctime":1559444237,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1559444237","product_id":100026901,"comment_content":"l = [1, 2, 3, 4, 5]<br>new_list = map(lambda x: x * 2, l) # [2， 4， 6， 8， 10]<br><br>这个运行 <br> &lt;map at 0x22028fb9898&gt;<br><br>那怎么运行 得到 [2， 4， 6， 8， 10]","like_count":0,"discussions":[{"author":{"id":1389537,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqPljnIrvyGQyBhJ3lnqJPGmvO6HrD4MzhjSerjNEiagic6QjGeSIR8AG0F8OoxYGMFWjQrE4ZInxJQ/132","nickname":"至尊宝","note":"","ucode":"DA24D200054026","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332,"discussion_content":"python3 里面 map的返回值已经不再是list，而是iterators","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561453672,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1389537,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqPljnIrvyGQyBhJ3lnqJPGmvO6HrD4MzhjSerjNEiagic6QjGeSIR8AG0F8OoxYGMFWjQrE4ZInxJQ/132","nickname":"至尊宝","note":"","ucode":"DA24D200054026","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331,"discussion_content":"list(new_list)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561452920,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":100059,"user_name":"yshan","can_delete":false,"product_type":"c1","uid":1136788,"ip_address":"","ucode":"A2ECDCDA52B8EE","user_header":"https://static001.geekbang.org/account/avatar/00/11/58/94/c8bc2b59.jpg","comment_is_top":false,"comment_ctime":1559407038,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559407038","product_id":100026901,"comment_content":"&gt;&gt;&gt; sorted(d.items(),key=lambda x:x[1],reverse=True)<br>[(&#39;ben&#39;, 30), (&#39;mike&#39;, 10), (&#39;lucy&#39;, 2)]<br>","like_count":0},{"had_liked":false,"id":99972,"user_name":"可乐泡枸杞","can_delete":false,"product_type":"c1","uid":1308516,"ip_address":"","ucode":"C709B781DF0456","user_header":"https://static001.geekbang.org/account/avatar/00/13/f7/64/03d8154f.jpg","comment_is_top":false,"comment_ctime":1559374106,"is_pvip":false,"replies":[{"id":"35938","content":"嗯嗯","user_name":"作者回复","user_name_real":"Jingxiao","uid":"1259521","ctime":1559437280,"ip_address":"","comment_id":99972,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559374106","product_id":100026901,"comment_content":"sorted(d.items(), key= lambda x:-x[1])","like_count":0,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452345,"discussion_content":"嗯嗯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559437280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99901,"user_name":"許敲敲","can_delete":false,"product_type":"c1","uid":1046681,"ip_address":"","ucode":"6486466820E7BF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/99/8e760987.jpg","comment_is_top":false,"comment_ctime":1559355869,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559355869","product_id":100026901,"comment_content":"老师你好，有个问题：<br>“LOWCASE = &#39;a b c d e f g h i j k l m n o p q r s t u v w x y z&#39;.split(&#39; &#39;)<br>UPPERCASE = map(lambda s :s.upper(),LOWCASE)”<br>再打印 LOWCASE ,UPPERCASE<br>LOWCASE = &#39;a b c d e f g h i j k l m n o p q r s t u v w x y z&#39;.split(&#39; &#39;)<br>UPPERCASE = map(lambda s :s.upper(),LOWCASE)<br>为什么结果是下面的  ，map的那个：<br>[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;]<br>&lt;map object at 0x00000232CEF7EAC8&gt;","like_count":0},{"had_liked":false,"id":99804,"user_name":"Jove","can_delete":false,"product_type":"c1","uid":1012919,"ip_address":"","ucode":"39C09911EEFE0F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/74/b7/169fa6fe.jpg","comment_is_top":false,"comment_ctime":1559305175,"is_pvip":false,"replies":[{"id":"35934","content":"由高到低排序，注意加上reverse=True","user_name":"作者回复","user_name_real":"Jingxiao","uid":"1259521","ctime":1559437046,"ip_address":"","comment_id":99804,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559305175","product_id":100026901,"comment_content":"思考题答案：<br>d = {&#39;mike&#39;: 10, &#39;lucy&#39;: 2, &#39;ben&#39;: 30}<br>sorted(d.items(), key=lambda x:x[1])","like_count":0,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452276,"discussion_content":"由高到低排序，注意加上reverse=True","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559437046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99749,"user_name":"Wing·三金","can_delete":false,"product_type":"c1","uid":1341402,"ip_address":"","ucode":"6B9F5822C3717F","user_header":"https://static001.geekbang.org/account/avatar/00/14/77/da/54c663f3.jpg","comment_is_top":false,"comment_ctime":1559291266,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559291266","product_id":100026901,"comment_content":"提醒下其他小伙伴，reduce 在最新版本中需要先从 functools 模块导入<br><br>第一问：<br>dict(sorted(d.items(), key=lambda x: x[1], reverse=True))<br>第二问：<br>在数据分析预处理时，尝试过对数据进行不同的变换，这种情况下用匿名函数的频率会比较多。","like_count":0},{"had_liked":false,"id":99739,"user_name":"小胖","can_delete":false,"product_type":"c1","uid":1022958,"ip_address":"","ucode":"1B8D884D254070","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9b/ee/8950c240.jpg","comment_is_top":false,"comment_ctime":1559289030,"is_pvip":false,"replies":[{"id":"35936","content":"嗯嗯","user_name":"作者回复","user_name_real":"Jingxiao","uid":"1259521","ctime":1559437163,"ip_address":"","comment_id":99739,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559289030","product_id":100026901,"comment_content":"sorted(d.items(), key=lambda x :x[1], reverse=True)","like_count":0,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452247,"discussion_content":"嗯嗯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559437163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99738,"user_name":"小胖","can_delete":false,"product_type":"c1","uid":1022958,"ip_address":"","ucode":"1B8D884D254070","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9b/ee/8950c240.jpg","comment_is_top":false,"comment_ctime":1559288984,"is_pvip":false,"replies":[{"id":"35937","content":"由高到低，注意加上reverse=True","user_name":"作者回复","user_name_real":"Jingxiao","uid":"1259521","ctime":1559437242,"ip_address":"","comment_id":99738,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559288984","product_id":100026901,"comment_content":"sorted(d.items(), key=lambda x :x[1])","like_count":0,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452246,"discussion_content":"由高到低，注意加上reverse=True","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559437242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99705,"user_name":"程序员人生","can_delete":false,"product_type":"c1","uid":1113668,"ip_address":"","ucode":"C5C5073D89AAA2","user_header":"https://static001.geekbang.org/account/avatar/00/10/fe/44/3e3040ac.jpg","comment_is_top":false,"comment_ctime":1559283032,"is_pvip":false,"replies":[{"id":"35939","content":"正确","user_name":"作者回复","user_name_real":"Jingxiao","uid":"1259521","ctime":1559437306,"ip_address":"","comment_id":99705,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559283032","product_id":100026901,"comment_content":"1,<br>import operator<br>print(sorted(d.items(),key=lambda x:x[1],reverse=True))<br>print(sorted(d.items(),key=operator.itemgetter(1),reverse=True))<br>2,<br>我不是python程序员，所以没有什么工作中例子。：P<br>","like_count":0,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452232,"discussion_content":"正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559437306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99703,"user_name":"乔克","can_delete":false,"product_type":"c1","uid":1315273,"ip_address":"","ucode":"28A797A4235B78","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/c9/c3eae895.jpg","comment_is_top":false,"comment_ctime":1559282677,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559282677","product_id":100026901,"comment_content":"&gt;&gt;&gt; map(lambda x: x ** 2, [1, 2, 3, 4, 5])<br>&lt;map object at 0x000001CAD42A8CF8&gt;<br>&gt;&gt;&gt; filter(lambda x: x % 2 ==0, [1,2,3,4,5])<br>&lt;filter object at 0x000001CAD42A8C88&gt;<br>&gt;&gt;&gt; reduce(lambda x,y: x*y,[1,2,3,4,5])<br>Traceback (most recent call last):<br>  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;<br>NameError: name &#39;reduce&#39; is not defined<br>&gt;&gt;&gt; from functools import reduce<br>&gt;&gt;&gt; reduce(lambda x,y: x*y,[1,2,3,4,5])<br>120<br>map,filter返回的只是一个对象，reduce在3中已经放进fucntools模块中了","like_count":0},{"had_liked":false,"id":99700,"user_name":"汤尼房","can_delete":false,"product_type":"c1","uid":1100996,"ip_address":"","ucode":"A4D961DD9C2F74","user_header":"https://static001.geekbang.org/account/avatar/00/10/cc/c4/5ac16f31.jpg","comment_is_top":false,"comment_ctime":1559282347,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559282347","product_id":100026901,"comment_content":"1）：<br>def mycmp(x, y):<br>    if x &lt;= y:<br>        return 1<br>    else:<br>        return -1<br>sorted(d.items(), cmp=mycmp, key=lambda x: x[1])<br><br>2）：<br>sorted(d.items(), key=lambda x: x[1], reverse=True)","like_count":0},{"had_liked":false,"id":99681,"user_name":"方向","can_delete":false,"product_type":"c1","uid":1261031,"ip_address":"","ucode":"CBB283D30C8C09","user_header":"https://static001.geekbang.org/account/avatar/00/13/3d/e7/e4b4afcc.jpg","comment_is_top":false,"comment_ctime":1559278537,"is_pvip":false,"replies":[{"id":"35820","content":"这里没有统一的译法，列表生成、列表理解、列表构建多种叫法都可以。我们文章中统一用英文表示。","user_name":"编辑回复","user_name_real":"李莎","uid":"1196791","ctime":1559290362,"ip_address":"","comment_id":99681,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1559278537","product_id":100026901,"comment_content":"list comprehension不是叫列表生成式吗","like_count":0,"discussions":[{"author":{"id":1196791,"avatar":"https://static001.geekbang.org/account/avatar/00/12/42/f7/9dce9a7b.jpg","nickname":"十三","note":"","ucode":"D3EFE8729DDE8A","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452218,"discussion_content":"这里没有统一的译法，列表生成、列表理解、列表构建多种叫法都可以。我们文章中统一用英文表示。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559290362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99656,"user_name":"奔跑的蜗牛","can_delete":false,"product_type":"c1","uid":1394019,"ip_address":"","ucode":"88D855ED42F134","user_header":"https://static001.geekbang.org/account/avatar/00/15/45/63/d3319b80.jpg","comment_is_top":false,"comment_ctime":1559274114,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559274114","product_id":100026901,"comment_content":"d = sorted(d.items(), key=lambda k: k[1], reverse=True)<br>","like_count":0},{"had_liked":false,"id":99654,"user_name":"武林秀才","can_delete":false,"product_type":"c1","uid":1283182,"ip_address":"","ucode":"5B5E9949FE0DCF","user_header":"https://static001.geekbang.org/account/avatar/00/13/94/6e/d564a10a.jpg","comment_is_top":false,"comment_ctime":1559274003,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559274003","product_id":100026901,"comment_content":"In [62]: sorted?                                                                <br>Signature: sorted(iterable, &#47;, *, key=None, reverse=False)<br>Docstring:<br>Return a new list containing all items from the iterable in ascending order.<br><br>A custom key function can be supplied to customize the sort order, and the<br>reverse flag can be set to request the result in descending order.<br>Type:      builtin_function_or_method<br>在ipython中输入help(sorted)显示如上所示，sorted函数有三个参数，请问这里的&#47;和* 是什么意思啊？","like_count":0},{"had_liked":false,"id":99651,"user_name":"helloworld","can_delete":false,"product_type":"c1","uid":1105161,"ip_address":"","ucode":"1EECCA0F43E278","user_header":"https://static001.geekbang.org/account/avatar/00/10/dd/09/feca820a.jpg","comment_is_top":false,"comment_ctime":1559273553,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559273553","product_id":100026901,"comment_content":"第一题答案：<br><br># 第一种方法<br>li = list(d.items())<br>dict(li.sort(key = lambda x: x[1], reverse = True))<br><br># 第二种方法<br>dict(sorted(d.items(), key = lambda x: x[1], reverse = True))","like_count":0},{"had_liked":false,"id":99649,"user_name":"csn","can_delete":false,"product_type":"c1","uid":1524609,"ip_address":"","ucode":"68FAE1EE372ADF","user_header":"https://static001.geekbang.org/account/avatar/00/17/43/81/8b09dd90.jpg","comment_is_top":false,"comment_ctime":1559273295,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559273295","product_id":100026901,"comment_content":"timeit &#39;xs=range(1000000)&#39; &#39;map(lambda x: x*2, xs)&#39;<br>12.3 ns ± 2.64 ns per loop (mean ± std. dev. of 7 runs, 100000000 loops each)<br><br>timeit &#39;xs=range(1000000)&#39; &#39;[x * 2 for x in xs]&#39;<br>10.6 ns ± 0.732 ns per loop (mean ± std. dev. of 7 runs, 10000000 loops each)<br><br>timeit &#39;xs=range(1000000)&#39; &#39;l = []&#39; &#39;for i in xs: l.append(i * 2)&#39;<br>12.2 ns ± 2.87 ns per loop (mean ± std. dev. of 7 runs, 100000000 loops each)<br><br>为什么map速度不是最快的？","like_count":0},{"had_liked":false,"id":99643,"user_name":"SCAR","can_delete":false,"product_type":"c1","uid":1031209,"ip_address":"","ucode":"38C0927FA3C5FC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bc/29/022905e6.jpg","comment_is_top":false,"comment_ctime":1559272333,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559272333","product_id":100026901,"comment_content":"思考题：<br><br>第一问： sorted(d.items(),key=lambda x:x[1],reverse=True)    # 根据值从高到低<br>             sorted(d.items(),key=lambda x:x[0])                      # 根据键首字母排序 a-z<br><br>第二问：1.做数据聚合的时候，作为参数传给高阶函数使用<br>            2.实现更多种类的行为的跳转，一个简单例子如下：<br>               year_prized={&#39;staff&#39;:(lambda x:x*1.2),&#39;manger&#39;:(lambda x:x*2),&#39;ceo&#39;:(lambda x:x*3)}<br>               pay={&#39;eric&#39;:(&#39;staff&#39;,12000),&#39;jack&#39;:(&#39;manger&#39;,20000),&#39;mark&#39;:(&#39;ceo&#39;,50000)}<br>              <br>               level = pay[&#39;eric&#39;][0]<br>               salary=pay[&#39;eric&#39;][1]<br>               print(&#39;eric will get the year-end prize of {} yuan&#39;.format(year_prized[level](salary)))<br>","like_count":0},{"had_liked":false,"id":99642,"user_name":"somenzz","can_delete":false,"product_type":"c1","uid":1187197,"ip_address":"","ucode":"EA59A170DF8910","user_header":"https://static001.geekbang.org/account/avatar/00/12/1d/7d/368df396.jpg","comment_is_top":false,"comment_ctime":1559272320,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559272320","product_id":100026901,"comment_content":"sorted(d.items(),key=lambda x:x[1])","like_count":0},{"had_liked":false,"id":99635,"user_name":"Geek_d848f7","can_delete":false,"product_type":"c1","uid":1524021,"ip_address":"","ucode":"F24BC59B6E9E6B","user_header":"","comment_is_top":false,"comment_ctime":1559271369,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559271369","product_id":100026901,"comment_content":"使用reduce函数时，报找不到该名称，查阅得知：reduce函数在python3的内建函数移除了，放入了functools模块<br><br>思考题1:<br>#根据值排序.默认升序\rprint(sorted(d.items(),key=lambda x:x[1],reverse=True))<br><br>思考题：暂时想不起","like_count":0},{"had_liked":false,"id":99623,"user_name":"乔克","can_delete":false,"product_type":"c1","uid":1315273,"ip_address":"","ucode":"28A797A4235B78","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/c9/c3eae895.jpg","comment_is_top":false,"comment_ctime":1559267942,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559267942","product_id":100026901,"comment_content":"不够简便<br>&gt;&gt;d = {&#39;mike&#39;: 10, &#39;lucy&#39;: 2, &#39;ben&#39;: 30}<br>&gt;&gt;t = sorted(d.items(), key=lambda x:x[1], reverse=True)<br>&gt;&gt;new_d = lambda t: {z[0]:z[1] for z in t }<br>&gt;&gt;print(new_d(t))","like_count":0},{"had_liked":false,"id":99616,"user_name":"Geek_chaos","can_delete":false,"product_type":"c1","uid":1528900,"ip_address":"","ucode":"9CD99B27962326","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/LPMc6ok8ODKyAujg8ciaYWdUmZtYmHgQtXMA9exaSdOS96gyMctuxYYcRhsSmG50nvWGbp8J1LwGstDnlJz01ZQ/132","comment_is_top":false,"comment_ctime":1559266652,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559266652","product_id":100026901,"comment_content":"d = sorted(d.items(), key=lambda i: i[1], reverse=True)<br>前面文件输入输出的那一节，老师的代码里有用过这一句。","like_count":0},{"had_liked":false,"id":99613,"user_name":"鱼_XueTr","can_delete":false,"product_type":"c1","uid":1506691,"ip_address":"","ucode":"A164D2540F251D","user_header":"https://static001.geekbang.org/account/avatar/00/16/fd/83/b432b125.jpg","comment_is_top":false,"comment_ctime":1559266416,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559266416","product_id":100026901,"comment_content":"1. sorted(d.items(), key=lambda item : item[1], reverse=True)<br><br>2. 工作中用到匿名函数的不多。但是对函数式编程的内容比较感兴趣，有没有好的书籍推荐一下？","like_count":0},{"had_liked":false,"id":99552,"user_name":"lmingzhi","can_delete":false,"product_type":"c1","uid":1014489,"ip_address":"","ucode":"72DBAF4FD184AF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7a/d9/4feb4006.jpg","comment_is_top":false,"comment_ctime":1559260125,"is_pvip":false,"replies":[{"id":"35942","content":"👍","user_name":"作者回复","user_name_real":"Jingxiao","uid":"1259521","ctime":1559439133,"ip_address":"","comment_id":99552,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559260125","product_id":100026901,"comment_content":"工作中常用到lambda的地方是在pandas的数据列批量处理，一般也是和map结合使用。<br><br>In [4]: import pandas as pd                                                                             In [5]: obj=pd.Series(range(10))                                                                        In [6]: obj.map(lambda x: x*x)                      Out[6]:                                            <br>0     0<br>1     1<br>2     4<br>3     9<br>4    16<br>5    25<br>6    36<br>7    49<br>8    64<br>9    81<br>dtype: int64","like_count":0,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452168,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559439133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":99550,"user_name":"許敲敲","can_delete":false,"product_type":"c1","uid":1046681,"ip_address":"","ucode":"6486466820E7BF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/99/8e760987.jpg","comment_is_top":false,"comment_ctime":1559259903,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559259903","product_id":100026901,"comment_content":"对于有多个属性的对象们，定义不同类别的排序规则，用这个比较方便。","like_count":0},{"had_liked":false,"id":99546,"user_name":"lmingzhi","can_delete":false,"product_type":"c1","uid":1014489,"ip_address":"","ucode":"72DBAF4FD184AF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7a/d9/4feb4006.jpg","comment_is_top":false,"comment_ctime":1559259685,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559259685","product_id":100026901,"comment_content":"&gt;&gt;&gt; d = {&#39;mike&#39;: 10, &#39;lucy&#39;: 2, &#39;ben&#39;: 30}<br><br>&gt;&gt;&gt; sorted(d.items(), key=lambda x: x[1])           [(&#39;lucy&#39;, 2), (&#39;mike&#39;, 10), (&#39;ben&#39;, 30)]<br><br>&gt;&gt;&gt; sorted(d.items(), key=lambda x: x[1], reverse=True)                                                 [(&#39;ben&#39;, 30), (&#39;mike&#39;, 10), (&#39;lucy&#39;, 2)]","like_count":0},{"had_liked":false,"id":99522,"user_name":"大斌","can_delete":false,"product_type":"c1","uid":1002183,"ip_address":"","ucode":"1434C2B0A29135","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/c7/ec18673b.jpg","comment_is_top":false,"comment_ctime":1559234965,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559234965","product_id":100026901,"comment_content":"sorted(di.items(),key=lambda val:val[1],reverse=True)<br>","like_count":0},{"had_liked":false,"id":99521,"user_name":"GentleCP","can_delete":false,"product_type":"c1","uid":1525440,"ip_address":"","ucode":"BB1EE3720D44F0","user_header":"https://static001.geekbang.org/account/avatar/00/17/46/c0/01292b08.jpg","comment_is_top":false,"comment_ctime":1559234926,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559234926","product_id":100026901,"comment_content":"res=sorted(d.items(),key=item:item[1])","like_count":0}]}
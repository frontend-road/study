{"id":121163,"title":"24 | HTTPç½‘ç»œç¼–ç¨‹ä¸JSONè§£æ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é™ˆèˆªã€‚</p><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å¸¦ä½ ä¸€èµ·å­¦ä¹ äº†Dartä¸­å¼‚æ­¥ä¸å¹¶å‘çš„æœºåˆ¶åŠå®ç°åŸç†ã€‚ä¸å…¶ä»–è¯­è¨€ç±»ä¼¼ï¼ŒDartçš„å¼‚æ­¥æ˜¯é€šè¿‡äº‹ä»¶å¾ªç¯ä¸é˜Ÿåˆ—å®ç°çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Futureæ¥å°è£…å¼‚æ­¥ä»»åŠ¡ã€‚è€Œå¦ä¸€æ–¹é¢ï¼Œå°½ç®¡Dartæ˜¯åŸºäºå•çº¿ç¨‹æ¨¡å‹çš„ï¼Œä½†ä¹Ÿæä¾›äº†Isolateè¿™æ ·çš„â€œå¤šçº¿ç¨‹â€èƒ½åŠ›ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥å……åˆ†åˆ©ç”¨ç³»ç»Ÿèµ„æºï¼Œåœ¨å¹¶å‘Isolateä¸­æå®šCPUå¯†é›†å‹çš„ä»»åŠ¡ï¼Œå¹¶é€šè¿‡æ¶ˆæ¯æœºåˆ¶é€šçŸ¥ä¸»Isolateè¿è¡Œç»“æœã€‚</p><p>å¼‚æ­¥ä¸å¹¶å‘çš„ä¸€ä¸ªå…¸å‹åº”ç”¨åœºæ™¯ï¼Œå°±æ˜¯ç½‘ç»œç¼–ç¨‹ã€‚ä¸€ä¸ªå¥½çš„ç§»åŠ¨åº”ç”¨ï¼Œä¸ä»…éœ€è¦æœ‰è‰¯å¥½çš„ç•Œé¢å’Œæ˜“ç”¨çš„äº¤äº’ä½“éªŒï¼Œä¹Ÿéœ€è¦å…·å¤‡å’Œå¤–ç•Œè¿›è¡Œä¿¡æ¯äº¤äº’çš„èƒ½åŠ›ã€‚è€Œé€šè¿‡ç½‘ç»œï¼Œä¿¡æ¯éš”ç¦»çš„å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é—´å¯ä»¥å»ºç«‹ä¸€ä¸ªåŒå‘çš„é€šä¿¡é€šé“ï¼Œä»è€Œå®ç°èµ„æºè®¿é—®ã€æ¥å£æ•°æ®è¯·æ±‚å’Œæäº¤ã€ä¸Šä¼ ä¸‹è½½æ–‡ä»¶ç­‰æ“ä½œã€‚</p><p>ä¸ºäº†ä¾¿äºæˆ‘ä»¬å¿«é€Ÿå®ç°åŸºäºç½‘ç»œé€šé“çš„ä¿¡æ¯äº¤æ¢å®æ—¶æ›´æ–°Appæ•°æ®ï¼ŒFlutterä¹Ÿæä¾›äº†ä¸€ç³»åˆ—çš„ç½‘ç»œç¼–ç¨‹ç±»åº“å’Œå·¥å…·ã€‚å› æ­¤åœ¨ä»Šå¤©çš„åˆ†äº«ä¸­ï¼Œæˆ‘ä¼šé€šè¿‡ä¸€äº›å°ä¾‹å­ä¸ä½ è®²è¿°åœ¨Flutteråº”ç”¨ä¸­ï¼Œå¦‚ä½•å®ç°ä¸æœåŠ¡ç«¯çš„æ•°æ®äº¤äº’ï¼Œä»¥åŠå¦‚ä½•å°†äº¤äº’å“åº”çš„æ•°æ®æ ¼å¼åŒ–ã€‚</p><h2>Httpç½‘ç»œç¼–ç¨‹</h2><p>æˆ‘ä»¬åœ¨é€šè¿‡ç½‘ç»œä¸æœåŠ¡ç«¯æ•°æ®äº¤äº’æ—¶ï¼Œä¸å¯é¿å…åœ°éœ€è¦ç”¨åˆ°ä¸‰ä¸ªæ¦‚å¿µï¼šå®šä½ã€ä¼ è¾“ä¸åº”ç”¨ã€‚</p><p>å…¶ä¸­ï¼Œ<strong>å®šä½</strong>ï¼Œå®šä¹‰äº†å¦‚ä½•å‡†ç¡®åœ°æ‰¾åˆ°ç½‘ç»œä¸Šçš„ä¸€å°æˆ–è€…å¤šå°ä¸»æœºï¼ˆå³IPåœ°å€ï¼‰ï¼›<strong>ä¼ è¾“</strong>ï¼Œåˆ™ä¸»è¦è´Ÿè´£åœ¨æ‰¾åˆ°ä¸»æœºåå¦‚ä½•é«˜æ•ˆä¸”å¯é åœ°è¿›è¡Œæ•°æ®é€šä¿¡ï¼ˆå³TCPã€UDPåè®®ï¼‰ï¼›è€Œ<strong>åº”ç”¨</strong>ï¼Œåˆ™è´Ÿè´£è¯†åˆ«åŒæ–¹é€šä¿¡çš„å†…å®¹ï¼ˆå³HTTPåè®®ï¼‰ã€‚</p><!-- [[[read_end]]] --><p>æˆ‘ä»¬åœ¨è¿›è¡Œæ•°æ®é€šä¿¡æ—¶ï¼Œå¯ä»¥åªä½¿ç”¨ä¼ è¾“å±‚åè®®ã€‚ä½†ä¼ è¾“å±‚ä¼ é€’çš„æ•°æ®æ˜¯äºŒè¿›åˆ¶æµï¼Œå¦‚æœæ²¡æœ‰åº”ç”¨å±‚ï¼Œæˆ‘ä»¬æ— æ³•è¯†åˆ«æ•°æ®å†…å®¹ã€‚å¦‚æœæƒ³è¦ä½¿ä¼ è¾“çš„æ•°æ®æœ‰æ„ä¹‰ï¼Œåˆ™å¿…é¡»è¦ç”¨åˆ°åº”ç”¨å±‚åè®®ã€‚ç§»åŠ¨åº”ç”¨é€šå¸¸ä½¿ç”¨HTTPåè®®ä½œåº”ç”¨å±‚åè®®ï¼Œæ¥å°è£…HTTPä¿¡æ¯ã€‚</p><p>åœ¨ç¼–ç¨‹æ¡†æ¶ä¸­ï¼Œä¸€æ¬¡HTTPç½‘ç»œè°ƒç”¨é€šå¸¸å¯ä»¥æ‹†è§£ä¸ºä»¥ä¸‹æ­¥éª¤ï¼š</p><ol>\n<li>åˆ›å»ºç½‘ç»œè°ƒç”¨å®ä¾‹clientï¼Œè®¾ç½®é€šç”¨è¯·æ±‚è¡Œä¸ºï¼ˆå¦‚è¶…æ—¶æ—¶é—´ï¼‰ï¼›</li>\n<li>æ„é€ URIï¼Œè®¾ç½®è¯·æ±‚headerã€bodyï¼›</li>\n<li>å‘èµ·è¯·æ±‚, ç­‰å¾…å“åº”ï¼›</li>\n<li>è§£ç å“åº”çš„å†…å®¹ã€‚</li>\n</ol><p>å½“ç„¶ï¼ŒFlutterä¹Ÿä¸ä¾‹å¤–ã€‚åœ¨Flutterä¸­ï¼ŒHttpç½‘ç»œç¼–ç¨‹çš„å®ç°æ–¹å¼ä¸»è¦åˆ†ä¸ºä¸‰ç§ï¼šdart:ioé‡Œçš„HttpClientå®ç°ã€DartåŸç”Ÿhttpè¯·æ±‚åº“å®ç°ã€ç¬¬ä¸‰æ–¹åº“dioå®ç°ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä¾æ¬¡ä¸ºä½ è®²è§£è¿™ä¸‰ç§æ–¹å¼ã€‚</p><h3>HttpClient</h3><p>HttpClientæ˜¯dart:ioåº“ä¸­æä¾›çš„ç½‘ç»œè¯·æ±‚ç±»ï¼Œå®ç°äº†åŸºæœ¬çš„ç½‘ç»œç¼–ç¨‹åŠŸèƒ½ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘å°†å’Œä½ åˆ†äº«ä¸€ä¸ªå®ä¾‹ï¼Œå¯¹ç…§ç€ä¸Šé¢æåˆ°çš„ç½‘ç»œè°ƒç”¨æ­¥éª¤ï¼Œæ¥æ¼”ç¤ºHttpClientå¦‚ä½•ä½¿ç”¨ã€‚</p><p>åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªHttpClienç½‘ç»œè°ƒç”¨å®ä¾‹ï¼Œè®¾ç½®äº†å…¶è¶…æ—¶æ—¶é—´ä¸º5ç§’ã€‚éšåæ„é€ äº†Flutterå®˜ç½‘çš„URIï¼Œå¹¶è®¾ç½®äº†è¯·æ±‚Headerçš„user-agentä¸ºCustom-UAã€‚ç„¶åå‘èµ·è¯·æ±‚ï¼Œç­‰å¾…Flutterå®˜ç½‘å“åº”ã€‚æœ€ååœ¨æ”¶åˆ°å“åº”åï¼Œæ‰“å°å‡ºè¿”å›ç»“æœï¼š</p><pre><code>get() async {\n  //åˆ›å»ºç½‘ç»œè°ƒç”¨ç¤ºä¾‹ï¼Œè®¾ç½®é€šç”¨è¯·æ±‚è¡Œä¸º(è¶…æ—¶æ—¶é—´)\n  var httpClient = HttpClient();\n  httpClient.idleTimeout = Duration(seconds: 5);\n  \n  //æ„é€ URIï¼Œè®¾ç½®user-agentä¸º&quot;Custom-UA&quot;\n  var uri = Uri.parse(&quot;https://flutter.dev&quot;);\n  var request = await httpClient.getUrl(uri);\n  request.headers.add(&quot;user-agent&quot;, &quot;Custom-UA&quot;);\n  \n  //å‘èµ·è¯·æ±‚ï¼Œç­‰å¾…å“åº”\n  var response = await request.close();\n  \n  //æ”¶åˆ°å“åº”ï¼Œæ‰“å°ç»“æœ\n  if (response.statusCode == HttpStatus.ok) {\n    print(await response.transform(utf8.decoder).join());\n  } else {\n    print('Error: \\nHttp status ${response.statusCode}');\n  }\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨HttpClientæ¥å‘èµ·ç½‘ç»œè°ƒç”¨è¿˜æ˜¯ç›¸å¯¹æ¯”è¾ƒç®€å•çš„ã€‚</p><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºç½‘ç»œè¯·æ±‚æ˜¯å¼‚æ­¥è¡Œä¸ºï¼Œå› æ­¤<strong>åœ¨Flutterä¸­ï¼Œæ‰€æœ‰ç½‘ç»œç¼–ç¨‹æ¡†æ¶éƒ½æ˜¯ä»¥Futureä½œä¸ºå¼‚æ­¥è¯·æ±‚çš„åŒ…è£…</strong>ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨awaitä¸asyncè¿›è¡Œéé˜»å¡çš„ç­‰å¾…ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æ³¨å†Œthenï¼Œä»¥å›è°ƒçš„æ–¹å¼è¿›è¡Œç›¸åº”çš„äº‹ä»¶å¤„ç†ã€‚</p><h3>http</h3><p>HttpClientä½¿ç”¨æ–¹å¼è™½ç„¶ç®€å•ï¼Œä½†å…¶æ¥å£å´æš´éœ²äº†ä¸å°‘å†…éƒ¨å®ç°ç»†èŠ‚ã€‚æ¯”å¦‚ï¼Œå¼‚æ­¥è°ƒç”¨æ‹†åˆ†å¾—è¿‡ç»†ï¼Œé“¾æ¥éœ€è¦è°ƒç”¨æ–¹ä¸»åŠ¨å…³é—­ï¼Œè¯·æ±‚ç»“æœæ˜¯å­—ç¬¦ä¸²ä½†å´éœ€è¦æ‰‹åŠ¨è§£ç ç­‰ã€‚</p><p>httpæ˜¯Dartå®˜æ–¹æä¾›çš„å¦ä¸€ä¸ªç½‘ç»œè¯·æ±‚ç±»ï¼Œç›¸æ¯”äºHttpClientï¼Œæ˜“ç”¨æ€§æå‡äº†ä¸å°‘ã€‚åŒæ ·ï¼Œæˆ‘ä»¬ä»¥ä¸€ä¸ªä¾‹å­æ¥ä»‹ç»httpçš„ä½¿ç”¨æ–¹æ³•ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å°†httpåŠ å…¥åˆ°pubspecä¸­çš„ä¾èµ–é‡Œï¼š</p><pre><code>dependencies:\n  http: '&gt;=0.11.3+12'\n</code></pre><p>åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œä¸HttpClientçš„ä¾‹å­ç±»ä¼¼çš„ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯å…ˆåæ„é€ äº†httpç½‘ç»œè°ƒç”¨å®ä¾‹å’ŒFlutterå®˜ç½‘URIï¼Œåœ¨è®¾ç½®user-agentä¸ºCustom-UAåï¼Œå‘å‡ºè¯·æ±‚ï¼Œæœ€åæ‰“å°è¯·æ±‚ç»“æœï¼š</p><pre><code>httpGet() async {\n  //åˆ›å»ºç½‘ç»œè°ƒç”¨ç¤ºä¾‹\n  var client = http.Client();\n\n  //æ„é€ URI\n  var uri = Uri.parse(&quot;https://flutter.dev&quot;);\n  \n  //è®¾ç½®user-agentä¸º&quot;Custom-UA&quot;ï¼Œéšåç«‹å³å‘å‡ºè¯·æ±‚\n  http.Response response = await client.get(uri, headers : {&quot;user-agent&quot; : &quot;Custom-UA&quot;});\n\n  //æ‰“å°è¯·æ±‚ç»“æœ\n  if(response.statusCode == HttpStatus.ok) {\n    print(response.body);\n  } else {\n    print(&quot;Error: ${response.statusCode}&quot;);\n  }\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œç›¸æ¯”äºHttpClientï¼Œhttpçš„ä½¿ç”¨æ–¹å¼æ›´åŠ ç®€å•ï¼Œä»…éœ€ä¸€æ¬¡å¼‚æ­¥è°ƒç”¨å°±å¯ä»¥å®ç°åŸºæœ¬çš„ç½‘ç»œé€šä¿¡ã€‚</p><h3>dio</h3><p>HttpClientå’Œhttpä½¿ç”¨æ–¹å¼è™½ç„¶ç®€å•ï¼Œä½†å…¶æš´éœ²çš„å®šåˆ¶åŒ–èƒ½åŠ›éƒ½ç›¸å¯¹è¾ƒå¼±ï¼Œå¾ˆå¤šå¸¸ç”¨çš„åŠŸèƒ½éƒ½ä¸æ”¯æŒï¼ˆæˆ–è€…å®ç°å¼‚å¸¸ç¹çï¼‰ï¼Œæ¯”å¦‚å–æ¶ˆè¯·æ±‚ã€å®šåˆ¶æ‹¦æˆªå™¨ã€Cookieç®¡ç†ç­‰ã€‚å› æ­¤å¯¹äºå¤æ‚çš„ç½‘ç»œè¯·æ±‚è¡Œä¸ºï¼Œæˆ‘æ¨èä½¿ç”¨ç›®å‰åœ¨Dartç¤¾åŒºäººæ°”è¾ƒé«˜çš„ç¬¬ä¸‰æ–¹dioæ¥å‘èµ·ç½‘ç»œè¯·æ±‚ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘é€šè¿‡å‡ ä¸ªä¾‹å­æ¥å’Œä½ ä»‹ç»dioçš„ä½¿ç”¨æ–¹æ³•ã€‚ä¸httpç±»ä¼¼çš„ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦æŠŠdioåŠ åˆ°pubspecä¸­çš„ä¾èµ–é‡Œï¼š</p><pre><code>dependencies:\n  dio: '&gt;2.1.3'\n</code></pre><p>åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œä¸å‰é¢HttpClientä¸httpä¾‹å­ç±»ä¼¼çš„ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯å…ˆååˆ›å»ºäº†dioç½‘ç»œè°ƒç”¨å®ä¾‹ã€åˆ›å»ºURIã€è®¾ç½®Headerã€å‘å‡ºè¯·æ±‚ï¼Œæœ€åç­‰å¾…è¯·æ±‚ç»“æœï¼š</p><pre><code>void getRequest() async {\n  //åˆ›å»ºç½‘ç»œè°ƒç”¨ç¤ºä¾‹\n  Dio dio = new Dio();\n  \n  //è®¾ç½®URIåŠè¯·æ±‚user-agentåå‘èµ·è¯·æ±‚\n  var response = await dio.get(&quot;https://flutter.dev&quot;, options:Options(headers: {&quot;user-agent&quot; : &quot;Custom-UA&quot;}));\n  \n //æ‰“å°è¯·æ±‚ç»“æœ\n  if(response.statusCode == HttpStatus.ok) {\n    print(response.data.toString());\n  } else {\n    print(&quot;Error: ${response.statusCode}&quot;);\n  }\n}\n</code></pre><blockquote>\n<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåˆ›å»ºURIã€è®¾ç½®HeaderåŠå‘å‡ºè¯·æ±‚çš„è¡Œä¸ºï¼Œéƒ½æ˜¯é€šè¿‡dio.getæ–¹æ³•å®ç°çš„ã€‚è¿™ä¸ªæ–¹æ³•çš„optionså‚æ•°æä¾›äº†ç²¾ç»†åŒ–æ§åˆ¶ç½‘ç»œè¯·æ±‚çš„èƒ½åŠ›ï¼Œå¯ä»¥æ”¯æŒè®¾ç½®Headerã€è¶…æ—¶æ—¶é—´ã€Cookieã€è¯·æ±‚æ–¹æ³•ç­‰ã€‚è¿™éƒ¨åˆ†å†…å®¹ä¸æ˜¯ä»Šå¤©åˆ†äº«çš„é‡ç‚¹ï¼Œå¦‚æœä½ æƒ³æ·±å…¥ç†è§£çš„è¯ï¼Œå¯ä»¥è®¿é—®å…¶<a href=\"https://github.com/flutterchina/dio#dio-apis\">APIæ–‡æ¡£</a>å­¦ä¹ å…·ä½“ä½¿ç”¨æ–¹æ³•ã€‚</p>\n</blockquote><p>å¯¹äºå¸¸è§çš„ä¸Šä¼ åŠä¸‹è½½æ–‡ä»¶éœ€æ±‚ï¼Œdioä¹Ÿæä¾›äº†è‰¯å¥½çš„æ”¯æŒï¼šæ–‡ä»¶ä¸Šä¼ å¯ä»¥é€šè¿‡æ„å»ºè¡¨å•FormDataå®ç°ï¼Œè€Œæ–‡ä»¶ä¸‹è½½åˆ™å¯ä»¥ä½¿ç”¨downloadæ–¹æ³•æå®šã€‚</p><p>åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡FormDataåˆ›å»ºäº†ä¸¤ä¸ªå¾…ä¸Šä¼ çš„æ–‡ä»¶ï¼Œé€šè¿‡postæ–¹æ³•å‘é€è‡³æœåŠ¡ç«¯ã€‚downloadçš„ä½¿ç”¨æ–¹æ³•åˆ™æ›´ä¸ºç®€å•ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨è¯·æ±‚å‚æ•°ä¸­ï¼ŒæŠŠå¾…ä¸‹è½½çš„æ–‡ä»¶åœ°å€å’Œæœ¬åœ°æ–‡ä»¶åæä¾›ç»™dioå³å¯ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦æ„ŸçŸ¥ä¸‹è½½è¿›åº¦ï¼Œå¯ä»¥å¢åŠ onReceiveProgresså›è°ƒå‡½æ•°ï¼š</p><pre><code>//ä½¿ç”¨FormDataè¡¨å•æ„å»ºå¾…ä¸Šä¼ æ–‡ä»¶\nFormData formData = FormData.from({\n  &quot;file1&quot;: UploadFileInfo(File(&quot;./file1.txt&quot;), &quot;file1.txt&quot;),\n  &quot;file2&quot;: UploadFileInfo(File(&quot;./file2.txt&quot;), &quot;file1.txt&quot;),\n\n});\n//é€šè¿‡postæ–¹æ³•å‘é€è‡³æœåŠ¡ç«¯\nvar responseY = await dio.post(&quot;https://xxx.com/upload&quot;, data: formData);\nprint(responseY.toString());\n\n//ä½¿ç”¨downloadæ–¹æ³•ä¸‹è½½æ–‡ä»¶\ndio.download(&quot;https://xxx.com/file1&quot;, &quot;xx1.zip&quot;);\n\n//å¢åŠ ä¸‹è½½è¿›åº¦å›è°ƒå‡½æ•°\ndio.download(&quot;https://xxx.com/file1&quot;, &quot;xx2.zip&quot;, onReceiveProgress: (count, total) {\n\t//do something      \n});\n</code></pre><p>æœ‰æ—¶ï¼Œæˆ‘ä»¬çš„é¡µé¢ç”±å¤šä¸ªå¹¶è¡Œçš„è¯·æ±‚å“åº”ç»“æœæ„æˆï¼Œè¿™å°±éœ€è¦ç­‰å¾…è¿™äº›è¯·æ±‚éƒ½è¿”å›åæ‰èƒ½åˆ·æ–°ç•Œé¢ã€‚åœ¨dioä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç»“åˆFuture.waitæ–¹æ³•è½»æ¾å®ç°ï¼š</p><pre><code>//åŒæ—¶å‘èµ·ä¸¤ä¸ªå¹¶è¡Œè¯·æ±‚\nList&lt;Response&gt; responseX= await Future.wait([dio.get(&quot;https://flutter.dev&quot;),dio.get(&quot;https://pub.dev/packages/dio&quot;)]);\n\n//æ‰“å°è¯·æ±‚1å“åº”ç»“æœ\nprint(&quot;Response1: ${responseX[0].toString()}&quot;);\n//æ‰“å°è¯·æ±‚2å“åº”ç»“æœ\nprint(&quot;Response2: ${responseX[1].toString()}&quot;);\n</code></pre><p>æ­¤å¤–ï¼Œä¸Androidçš„okHttpä¸€æ ·ï¼Œdioè¿˜æä¾›äº†è¯·æ±‚æ‹¦æˆªå™¨ï¼Œé€šè¿‡æ‹¦æˆªå™¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯·æ±‚ä¹‹å‰ï¼Œæˆ–å“åº”ä¹‹ååšä¸€äº›ç‰¹æ®Šçš„æ“ä½œã€‚æ¯”å¦‚å¯ä»¥ä¸ºè¯·æ±‚optionç»Ÿä¸€å¢åŠ ä¸€ä¸ªheaderï¼Œæˆ–æ˜¯è¿”å›ç¼“å­˜æ•°æ®ï¼Œæˆ–æ˜¯å¢åŠ æœ¬åœ°æ ¡éªŒå¤„ç†ç­‰ç­‰ã€‚</p><p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸ºdioå¢åŠ äº†ä¸€ä¸ªæ‹¦æˆªå™¨ã€‚åœ¨è¯·æ±‚å‘é€ä¹‹å‰ï¼Œä¸ä»…ä¸ºæ¯ä¸ªè¯·æ±‚å¤´éƒ½åŠ ä¸Šäº†è‡ªå®šä¹‰çš„user-agentï¼Œè¿˜å®ç°äº†åŸºæœ¬çš„tokenè®¤è¯ä¿¡æ¯æ£€æŸ¥åŠŸèƒ½ã€‚è€Œå¯¹äºæœ¬åœ°å·²ç»ç¼“å­˜äº†è¯·æ±‚urièµ„æºçš„åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿”å›ç¼“å­˜æ•°æ®ï¼Œé¿å…å†æ¬¡ä¸‹è½½ï¼š</p><pre><code>//å¢åŠ æ‹¦æˆªå™¨\ndio.interceptors.add(InterceptorsWrapper(\n    onRequest: (RequestOptions options){\n      //ä¸ºæ¯ä¸ªè¯·æ±‚å¤´éƒ½å¢åŠ user-agent\n      options.headers[&quot;user-agent&quot;] = &quot;Custom-UA&quot;;\n      //æ£€æŸ¥æ˜¯å¦æœ‰tokenï¼Œæ²¡æœ‰åˆ™ç›´æ¥æŠ¥é”™\n      if(options.headers['token'] == null) {\n        return dio.reject(&quot;Error:è¯·å…ˆç™»å½•&quot;);\n      } \n      //æ£€æŸ¥ç¼“å­˜æ˜¯å¦æœ‰æ•°æ®\n      if(options.uri == Uri.parse('http://xxx.com/file1')) {\n        return dio.resolve(&quot;è¿”å›ç¼“å­˜æ•°æ®&quot;);\n      }\n      //æ”¾è¡Œè¯·æ±‚\n      return options;\n    }\n));\n\n//å¢åŠ try catchï¼Œé˜²æ­¢è¯·æ±‚æŠ¥é”™\ntry {\n  var response = await dio.get(&quot;https://xxx.com/xxx.zip&quot;);\n  print(response.data.toString());\n}catch(e) {\n  print(e);\n}\n</code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºç½‘ç»œé€šä¿¡æœŸé—´æœ‰å¯èƒ½ä¼šå‡ºç°å¼‚å¸¸ï¼ˆæ¯”å¦‚ï¼ŒåŸŸåæ— æ³•è§£æã€è¶…æ—¶ç­‰ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨try-catchæ¥æ•è·è¿™äº›æœªçŸ¥é”™è¯¯ï¼Œé˜²æ­¢ç¨‹åºå‡ºç°å¼‚å¸¸ã€‚</p><p>é™¤äº†è¿™äº›åŸºæœ¬çš„ç”¨æ³•ï¼Œdioè¿˜æ”¯æŒè¯·æ±‚å–æ¶ˆã€è®¾ç½®ä»£ç†ï¼Œè¯ä¹¦æ ¡éªŒç­‰åŠŸèƒ½ã€‚ä¸è¿‡ï¼Œè¿™äº›é«˜çº§ç‰¹æ€§ä¸å±äºæœ¬æ¬¡åˆ†äº«çš„é‡ç‚¹ï¼Œæ•…ä¸å†èµ˜è¿°ï¼Œè¯¦æƒ…å¯ä»¥å‚è€ƒdioçš„<a href=\"https://github.com/flutterchina/dio/blob/master/README-ZH.md\">GitHubä¸»é¡µ</a>äº†è§£å…·ä½“ç”¨æ³•ã€‚</p><h2>JSONè§£æ</h2><p>ç§»åŠ¨åº”ç”¨ä¸WebæœåŠ¡å™¨å»ºç«‹å¥½äº†è¿æ¥ä¹‹åï¼Œæ¥ä¸‹æ¥çš„ä¸¤ä¸ªé‡è¦å·¥ä½œåˆ†åˆ«æ˜¯ï¼šæœåŠ¡å™¨å¦‚ä½•ç»“æ„åŒ–åœ°å»æè¿°è¿”å›çš„é€šä¿¡ä¿¡æ¯ï¼Œä»¥åŠç§»åŠ¨åº”ç”¨å¦‚ä½•è§£æè¿™äº›æ ¼å¼åŒ–çš„ä¿¡æ¯ã€‚</p><h3>å¦‚ä½•ç»“æ„åŒ–åœ°æè¿°è¿”å›çš„é€šä¿¡ä¿¡æ¯ï¼Ÿ</h3><p>åœ¨å¦‚ä½•ç»“æ„åŒ–åœ°å»è¡¨è¾¾ä¿¡æ¯ä¸Šï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°JSONã€‚JSONæ˜¯ä¸€ç§è½»é‡çº§çš„ã€ç”¨äºè¡¨è¾¾ç”±å±æ€§å€¼å’Œå­—é¢é‡ç»„æˆå¯¹è±¡çš„æ•°æ®äº¤æ¢è¯­è¨€ã€‚</p><p>ä¸€ä¸ªç®€å•çš„è¡¨ç¤ºå­¦ç”Ÿæˆç»©çš„JSONç»“æ„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>String jsonString = '''\n{\n  &quot;id&quot;:&quot;123&quot;,\n  &quot;name&quot;:&quot;å¼ ä¸‰&quot;,\n  &quot;score&quot; : 95\n}\n''';\n</code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºFlutterä¸æ”¯æŒè¿è¡Œæ—¶åå°„ï¼Œå› æ­¤å¹¶æ²¡æœ‰æä¾›åƒGsonã€Mantleè¿™æ ·è‡ªåŠ¨è§£æJSONçš„åº“æ¥é™ä½è§£ææˆæœ¬ã€‚åœ¨Flutterä¸­ï¼ŒJSONè§£æå®Œå…¨æ˜¯æ‰‹åŠ¨çš„ï¼Œå¼€å‘è€…è¦åšçš„äº‹æƒ…å¤šäº†ä¸€äº›ï¼Œä½†ä½¿ç”¨èµ·æ¥å€’ä¹Ÿç›¸å¯¹çµæ´»ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±çœ‹çœ‹Flutteråº”ç”¨æ˜¯å¦‚ä½•è§£æè¿™äº›æ ¼å¼åŒ–çš„ä¿¡æ¯ã€‚</p><h3>å¦‚ä½•è§£ææ ¼å¼åŒ–çš„ä¿¡æ¯ï¼Ÿ</h3><p>æ‰€è°“æ‰‹åŠ¨è§£æï¼Œæ˜¯æŒ‡ä½¿ç”¨dart:convertåº“ä¸­å†…ç½®çš„JSONè§£ç å™¨ï¼Œå°†JSONå­—ç¬¦ä¸²è§£ææˆè‡ªå®šä¹‰å¯¹è±¡çš„è¿‡ç¨‹ã€‚ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå°†JSONå­—ç¬¦ä¸²ä¼ é€’ç»™JSON.decodeæ–¹æ³•è§£ææˆä¸€ä¸ªMapï¼Œç„¶åæŠŠè¿™ä¸ªMapä¼ ç»™è‡ªå®šä¹‰çš„ç±»ï¼Œè¿›è¡Œç›¸å…³å±æ€§çš„èµ‹å€¼ã€‚</p><p>ä»¥ä¸Šé¢è¡¨ç¤ºå­¦ç”Ÿæˆç»©çš„JSONç»“æ„ä¸ºä¾‹ï¼Œæˆ‘æ¥å’Œä½ æ¼”ç¤ºæ‰‹åŠ¨è§£æçš„ä½¿ç”¨æ–¹æ³•ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ ¹æ®JSONç»“æ„å®šä¹‰Studentç±»ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªå·¥å‚ç±»ï¼Œæ¥å¤„ç†Studentç±»å±æ€§æˆå‘˜ä¸JSONå­—å…¸å¯¹è±¡çš„å€¼ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼š</p><pre><code>class Student{\n  //å±æ€§idï¼Œåå­—ä¸æˆç»©\n  String id;\n  String name;\n  int score;\n  //æ„é€ æ–¹æ³•  \n  Student({\n    this.id,\n    this.name,\n    this.score\n  });\n  //JSONè§£æå·¥å‚ç±»ï¼Œä½¿ç”¨å­—å…¸æ•°æ®ä¸ºå¯¹è±¡åˆå§‹åŒ–èµ‹å€¼\n  factory Student.fromJson(Map&lt;String, dynamic&gt; parsedJson){\n    return Student(\n        id: parsedJson['id'],\n        name : parsedJson['name'],\n        score : parsedJson ['score']\n    );\n  }\n}\n</code></pre><p>æ•°æ®è§£æç±»åˆ›å»ºå¥½äº†ï¼Œå‰©ä¸‹çš„äº‹æƒ…å°±ç›¸å¯¹ç®€å•äº†ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠJSONæ–‡æœ¬é€šè¿‡JSON.decodeæ–¹æ³•è½¬æ¢æˆMapï¼Œç„¶åæŠŠå®ƒäº¤ç»™Studentçš„å·¥å‚ç±»fromJsonæ–¹æ³•ï¼Œå³å¯å®ŒæˆStudentå¯¹è±¡çš„è§£æï¼š</p><pre><code>loadStudent() {\n  //jsonStringä¸ºJSONæ–‡æœ¬\n  final jsonResponse = json.decode(jsonString);\n  Student student = Student.fromJson(jsonResponse);\n  print(student.name);\n}\n</code></pre><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒJSONæ–‡æœ¬æ‰€æœ‰çš„å±æ€§éƒ½æ˜¯åŸºæœ¬ç±»å‹ï¼Œå› æ­¤æˆ‘ä»¬ç›´æ¥ä»JSONå­—å…¸å–å‡ºç›¸åº”çš„å…ƒç´ ä¸ºå¯¹è±¡èµ‹å€¼å³å¯ã€‚è€Œå¦‚æœJSONä¸‹é¢è¿˜æœ‰åµŒå¥—å¯¹è±¡å±æ€§ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ä¸­ï¼ŒStudentè¿˜æœ‰ä¸€ä¸ªteacherçš„å±æ€§ï¼Œæˆ‘ä»¬åˆè¯¥å¦‚ä½•è§£æå‘¢ï¼Ÿ</p><pre><code>String jsonString = '''\n{\n  &quot;id&quot;:&quot;123&quot;,\n  &quot;name&quot;:&quot;å¼ ä¸‰&quot;,\n  &quot;score&quot; : 95,\n  &quot;teacher&quot;: {\n    &quot;name&quot;: &quot;æå››&quot;,\n    &quot;age&quot; : 40\n  }\n}\n''';\n</code></pre><p>è¿™é‡Œï¼Œteacherä¸å†æ˜¯ä¸€ä¸ªåŸºæœ¬ç±»å‹ï¼Œè€Œæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚é¢å¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦ä¸ºæ¯ä¸€ä¸ªéåŸºæœ¬ç±»å‹å±æ€§åˆ›å»ºä¸€ä¸ªè§£æç±»ã€‚ä¸Studentç±»ä¼¼ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦ä¸ºå®ƒçš„å±æ€§teacheråˆ›å»ºä¸€ä¸ªè§£æç±»Teacherï¼š</p><pre><code>class Teacher {\n  //Teacherçš„åå­—ä¸å¹´é¾„\n  String name;\n  int age;\n  //æ„é€ æ–¹æ³•\n  Teacher({this.name,this.age});\n  //JSONè§£æå·¥å‚ç±»ï¼Œä½¿ç”¨å­—å…¸æ•°æ®ä¸ºå¯¹è±¡åˆå§‹åŒ–èµ‹å€¼\n  factory Teacher.fromJson(Map&lt;String, dynamic&gt; parsedJson){\n    return Teacher(\n        name : parsedJson['name'],\n        age : parsedJson ['age']\n    );\n  }\n}\n</code></pre><p>ç„¶åï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨Studentç±»ä¸­ï¼Œå¢åŠ teacherå±æ€§åŠå¯¹åº”çš„JSONæ˜ å°„è§„åˆ™å³å¯ï¼š</p><pre><code>class Student{\n  ...\n  //å¢åŠ teacherå±æ€§\n  Teacher teacher;\n  //æ„é€ å‡½æ•°å¢åŠ teacher\n  Student({\n    ...\n    this.teacher\n  });\n  factory Student.fromJson(Map&lt;String, dynamic&gt; parsedJson){\n    return Student(\n        ...\n        //å¢åŠ æ˜ å°„è§„åˆ™\n        teacher: Teacher.fromJson(parsedJson ['teacher'])\n    );\n  }\n}\n</code></pre><p>å®Œæˆäº†teacherå±æ€§çš„æ˜ å°„è§„åˆ™æ·»åŠ ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»§ç»­ä½¿ç”¨Studentæ¥è§£æä¸Šè¿°çš„JSONæ–‡æœ¬äº†ï¼š</p><pre><code>final jsonResponse = json.decode(jsonString);//å°†å­—ç¬¦ä¸²è§£ç æˆMapå¯¹è±¡\nStudent student = Student.fromJson(jsonResponse);//æ‰‹åŠ¨è§£æ\nprint(student.teacher.name);\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡è¿™ç§æ–¹æ³•ï¼Œæ— è®ºå¯¹è±¡æœ‰å¤šå¤æ‚çš„éåŸºæœ¬ç±»å‹å±æ€§ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥åˆ›å»ºå¯¹åº”çš„è§£æç±»è¿›è¡Œå¤„ç†ã€‚</p><p>ä¸è¿‡åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„JSONæ•°æ®è§£æè¿˜æ˜¯åœ¨ä¸»Isolateä¸­å®Œæˆã€‚å¦‚æœJSONçš„æ•°æ®æ ¼å¼æ¯”è¾ƒå¤æ‚ï¼Œæ•°æ®é‡åˆå¤§ï¼Œè¿™ç§è§£ææ–¹å¼å¯èƒ½ä¼šé€ æˆçŸ­æœŸUIæ— æ³•å“åº”ã€‚å¯¹äºè¿™ç±»CPUå¯†é›†å‹çš„æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æåˆ°çš„computeå‡½æ•°ï¼Œå°†è§£æå·¥ä½œæ”¾åˆ°æ–°çš„Isolateä¸­å®Œæˆï¼š</p><pre><code>static Student parseStudent(String content) {\n  final jsonResponse = json.decode(content);\n  Student student = Student.fromJson(jsonResponse);\n  return student;\n}\ndoSth() {\n ...\n //ç”¨computeå‡½æ•°å°†jsonè§£ææ”¾åˆ°æ–°Isolate\n compute(parseStudent,jsonString).then((student)=&gt;print(student.teacher.name));\n}\n</code></pre><p>é€šè¿‡computeçš„æ”¹é€ ï¼Œæˆ‘ä»¬å°±ä¸ç”¨æ‹…å¿ƒJSONè§£ææ—¶é—´è¿‡é•¿é˜»å¡UIå“åº”äº†ã€‚</p><h2>æ€»ç»“</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œäº†ï¼Œæˆ‘ä»¬ç®€å•å›é¡¾ä¸€ä¸‹ä¸»è¦å†…å®¹ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘å¸¦ä½ å­¦ä¹ äº†å®ç°Flutteråº”ç”¨ä¸æœåŠ¡ç«¯é€šä¿¡çš„ä¸‰ç§æ–¹å¼ï¼Œå³HttpClientã€httpä¸dioã€‚å…¶ä¸­dioæä¾›çš„åŠŸèƒ½æ›´ä¸ºå¼ºå¤§ï¼Œå¯ä»¥æ”¯æŒè¯·æ±‚æ‹¦æˆªã€æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ã€è¯·æ±‚åˆå¹¶ç­‰é«˜çº§èƒ½åŠ›ã€‚å› æ­¤ï¼Œæˆ‘æ¨èä½ åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨dioçš„æ–¹å¼ã€‚</p><p>ç„¶åï¼Œæˆ‘å’Œä½ åˆ†äº«äº†JSONè§£æçš„ç›¸å…³å†…å®¹ã€‚JSONè§£æåœ¨Flutterä¸­ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œä½†ç”±äºä¸æ”¯æŒåå°„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½æ‰‹åŠ¨è§£æï¼Œå³ï¼šå…ˆå°†JSONå­—ç¬¦ä¸²è½¬æ¢æˆMapï¼Œç„¶åå†æŠŠè¿™ä¸ªMapç»™åˆ°è‡ªå®šä¹‰ç±»ï¼Œè¿›è¡Œç›¸å…³å±æ€§çš„èµ‹å€¼ã€‚</p><p>å¦‚æœä½ æœ‰åŸç”ŸAndroidã€iOSå¼€å‘ç»éªŒçš„è¯ï¼Œå¯èƒ½ä¼šè§‰å¾—Flutteræä¾›çš„JSONæ‰‹åŠ¨è§£ææ–¹æ¡ˆå¹¶ä¸å¥½ç”¨ã€‚åœ¨Flutterä¸­ï¼Œæ²¡æœ‰åƒåŸç”Ÿå¼€å‘é‚£æ ·æä¾›äº†Gsonæˆ–Mantleç­‰åº“ï¼Œç”¨äºå°†JSONå­—ç¬¦ä¸²ç›´æ¥è½¬æ¢ä¸ºå¯¹åº”çš„å®ä½“ç±»ã€‚è€Œè¿™äº›èƒ½åŠ›æ— ä¸€ä¾‹å¤–éƒ½éœ€è¦ç”¨åˆ°è¿è¡Œæ—¶åå°„ï¼Œè¿™æ˜¯Flutterä»è®¾è®¡ä¹‹åˆå°±ä¸æ”¯æŒçš„ï¼Œç†ç”±å¦‚ä¸‹ï¼š</p><ol>\n<li>è¿è¡Œæ—¶åå°„ç ´åäº†ç±»çš„å°è£…æ€§å’Œå®‰å…¨æ€§ï¼Œä¼šå¸¦æ¥å®‰å…¨é£é™©ã€‚å°±åœ¨å‰æ®µæ—¶é—´ï¼ŒFastjsonæ¡†æ¶å°±çˆ†å‡ºäº†ä¸€ä¸ªå·¨å¤§çš„å®‰å…¨æ¼æ´ã€‚è¿™ä¸ªæ¼æ´ä½¿å¾—ç²¾å¿ƒæ„é€ çš„å­—ç¬¦ä¸²æ–‡æœ¬ï¼Œå¯ä»¥åœ¨ååºåˆ—åŒ–æ—¶è®©æœåŠ¡å™¨æ‰§è¡Œä»»æ„ä»£ç ï¼Œç›´æ¥å¯¼è‡´ä¸šåŠ¡æœºå™¨è¢«è¿œç¨‹æ§åˆ¶ã€å†…ç½‘æ¸—é€ã€çªƒå–æ•æ„Ÿä¿¡æ¯ç­‰æ“ä½œã€‚</li>\n<li>è¿è¡Œæ—¶åå°„ä¼šå¢åŠ äºŒè¿›åˆ¶æ–‡ä»¶å¤§å°ã€‚å› ä¸ºæä¸æ¸…æ¥šå“ªäº›ä»£ç å¯èƒ½ä¼šåœ¨è¿è¡Œæ—¶ç”¨åˆ°ï¼Œå› æ­¤ä½¿ç”¨åå°„åï¼Œä¼šé»˜è®¤ä½¿ç”¨æ‰€æœ‰ä»£ç æ„å»ºåº”ç”¨ç¨‹åºï¼Œè¿™å°±å¯¼è‡´ç¼–è¯‘å™¨æ— æ³•ä¼˜åŒ–ç¼–è¯‘æœŸé—´æœªä½¿ç”¨çš„ä»£ç ï¼Œåº”ç”¨å®‰è£…åŒ…ä½“ç§¯æ— æ³•è¿›ä¸€æ­¥å‹ç¼©ï¼Œè¿™å¯¹äºè‡ªå¸¦Dartè™šæ‹Ÿæœºçš„Flutteråº”ç”¨ç¨‹åºæ˜¯éš¾ä»¥æ¥å—çš„ã€‚</li>\n</ol><p>åå°„ç»™å¼€å‘è€…ç¼–ç¨‹å¸¦æ¥äº†æ–¹ä¾¿ï¼Œä½†ä¹Ÿå¸¦æ¥äº†å¾ˆå¤šéš¾ä»¥è§£å†³çš„æ–°é—®é¢˜ï¼Œå› æ­¤Flutterå¹¶ä¸æ”¯æŒåå°„ã€‚è€Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯ï¼Œè€è€å®å®åœ°æ‰‹åŠ¨è§£æJSONå§ã€‚</p><p>æˆ‘æŠŠä»Šå¤©åˆ†äº«æ‰€æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹æ‰“åŒ…åˆ°äº†<a href=\"https://github.com/cyndibaby905/24_network_demo\">GitHub</a>ä¸­ï¼Œä½ å¯ä»¥ä¸‹è½½ä¸‹æ¥ï¼Œåå¤è¿è¡Œå‡ æ¬¡ï¼ŒåŠ æ·±ç†è§£ä¸è®°å¿†ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æœ€åï¼Œæˆ‘ç»™ä½ ç•™ä¸¤é“æ€è€ƒé¢˜å§ã€‚</p><ol>\n<li>è¯·ä½¿ç”¨dioå®ç°ä¸€ä¸ªè‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼Œæ‹¦æˆªå™¨å†…æ£€æŸ¥headerä¸­çš„tokenï¼šå¦‚æœæ²¡æœ‰tokenï¼Œéœ€è¦æš‚åœæœ¬æ¬¡è¯·æ±‚ï¼ŒåŒæ—¶è®¿é—®\"<a href=\"http://xxxx.com/token\">http://xxxx.com/token</a>\"ï¼Œåœ¨è·å–æ–°tokenåç»§ç»­æœ¬æ¬¡è¯·æ±‚ã€‚</li>\n<li>ä¸ºä»¥ä¸‹Student JSONå†™ç›¸åº”çš„è§£æç±»ï¼š</li>\n</ol><pre><code>String jsonString = '''\n  {\n    &quot;id&quot;:&quot;123&quot;,\n    &quot;name&quot;:&quot;å¼ ä¸‰&quot;,\n    &quot;score&quot; : 95,\n    &quot;teachers&quot;: [\n       {\n         &quot;name&quot;: &quot;æå››&quot;,\n         &quot;age&quot; : 40\n       },\n       {\n         &quot;name&quot;: &quot;ç‹äº”&quot;,\n         &quot;age&quot; : 45\n       }\n    ]\n  }\n  ''';\n</code></pre><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç»™æˆ‘ç•™è¨€åˆ†äº«ä½ çš„è§‚ç‚¹ï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ç­‰å¾…ä½ ï¼æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><p></p>","neighbors":{"left":{"article_title":"23 | å•çº¿ç¨‹æ¨¡å‹æ€ä¹ˆä¿è¯UIè¿è¡Œæµç•…ï¼Ÿ","id":120014},"right":{"article_title":"25 | æœ¬åœ°å­˜å‚¨ä¸æ•°æ®åº“çš„ä½¿ç”¨å’Œä¼˜åŒ–","id":126460}},"comments":[{"had_liked":false,"id":139345,"user_name":"å’Œå°èƒ–","can_delete":false,"product_type":"c1","uid":1180727,"ip_address":"","ucode":"406BD7AB987EBF","user_header":"https://static001.geekbang.org/account/avatar/00/12/04/37/aa04f997.jpg","comment_is_top":false,"comment_ctime":1570616540,"is_pvip":false,"replies":[{"id":"54814","content":"å‰å®³ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1571284444,"ip_address":"","comment_id":139345,"utype":1}],"discussion_count":2,"race_medal":0,"score":"48815256796","product_id":100031001,"comment_content":"ç¬¬ä¸€ä¸ªé—®é¢˜è§£å†³æ–¹æ³•ï¼š<br>dio.interceptors.add(InterceptorsWrapper(<br>      onRequest: (Options options) async {<br>        if (options.headers[&#39;token&#39;] == null) {<br>          print(&quot;no tokenï¼Œrequest token firstly...&quot;);<br>          &#47;&#47;lock the dio.<br>          dio.lock();<br>          return new Dio().get(&quot;http:&#47;&#47;xxxx.com&#47;token&quot;).then((d) {<br>            options.headers[&quot;token&quot;] = d.data[&#39;token&#39;];<br>            print(&quot;request token succeed, value: &quot; + d.data[&#39;token&#39;]);<br>            print(<br>                &#39;continue to perform requestï¼špath:${options.path}ï¼ŒbaseURL:${options.path}&#39;);<br>            return options;<br>          }).whenComplete(() =&gt; dio.unlock()); &#47;&#47; unlock the dio<br>        }<br>        return options;<br>      }<br>  ));","like_count":12,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469900,"discussion_content":"å‰å®³ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571284444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330328,"avatar":"https://static001.geekbang.org/account/avatar/00/14/4c/98/2e916c7e.jpg","nickname":"Senble","note":"","ucode":"98A8DC9FF625FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568334,"discussion_content":"ä¸ºä»€ä¹ˆè¦lock dio","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651108665,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132576,"user_name":"æ±Ÿå®å½­äºæ™","can_delete":false,"product_type":"c1","uid":1587442,"ip_address":"","ucode":"248C7BB01921F3","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epxMjZcn8LFy6PIT7uGzUOHTCZosTwh39jBKlyW3Ffzyscm14PQGh3QZ1GrEGF4UWxwKZrAib8AXCA/132","comment_is_top":false,"comment_ctime":1568167955,"is_pvip":false,"replies":[{"id":"52417","content":"èµğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1569497244,"ip_address":"","comment_id":132576,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44517840915","product_id":100031001,"comment_content":"åˆ†äº«ä¸€ä¸ªjsonè½¬dartç±»çš„å·¥å…·ï¼Œç†è§£äº†åŸç†åï¼Œå®é™…é¡¹ç›®ä¸­å¯ä»¥çœä¸å°‘æ—¶é—´https:&#47;&#47;javiercbk.github.io&#47;json_to_dart&#47;","like_count":10,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467017,"discussion_content":"èµğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569497244,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126650,"user_name":"ç»™æˆ‘ç‚¹é˜³å…‰å°±ç¿çƒ‚","can_delete":false,"product_type":"c1","uid":1462209,"ip_address":"","ucode":"F3B0439BE0D062","user_header":"https://static001.geekbang.org/account/avatar/00/16/4f/c1/7f596aba.jpg","comment_is_top":false,"comment_ctime":1566441165,"is_pvip":true,"replies":[{"id":"47634","content":"å¯ä»¥å‚è€ƒcnDartç¤¾åŒºçš„æ–‡ç« ï¼šhttp:&#47;&#47;www.cndartlang.com&#47;841.html","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1566890428,"ip_address":"","comment_id":126650,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18746310349","product_id":100031001,"comment_content":"å¦‚ä½•è¿›è¡Œsocketé€šä¿¡","like_count":4,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464105,"discussion_content":"å¯ä»¥å‚è€ƒcnDartç¤¾åŒºçš„æ–‡ç« ï¼šhttp://www.cndartlang.com/841.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566890428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1275025,"avatar":"https://static001.geekbang.org/account/avatar/00/13/74/91/9b9813dc.jpg","nickname":"çŸ¥è¯†ä¹ä¸","note":"","ucode":"9975BD2DECA12D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5722,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566447495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139352,"user_name":"å’Œå°èƒ–","can_delete":false,"product_type":"c1","uid":1180727,"ip_address":"","ucode":"406BD7AB987EBF","user_header":"https://static001.geekbang.org/account/avatar/00/12/04/37/aa04f997.jpg","comment_is_top":false,"comment_ctime":1570617776,"is_pvip":false,"replies":[{"id":"54817","content":"ğŸ‘å‰å®³","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1571284618,"ip_address":"","comment_id":139352,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10160552368","product_id":100031001,"comment_content":"ç¬¬äºŒé“é¢˜è§£å†³æ–¹æ³•ï¼š<br><br>class Student {<br>  String id;<br>  String name;<br>  int score;<br>  List&lt;Teacher&gt; teachers;<br><br>  Student({this.id, this.name, this.score, this.teachers});<br><br>  factory Student.fromJson(Map&lt;String, dynamic&gt; parsedJson) {<br>    return Student(<br>        id: parsedJson[&#39;id&#39;],<br>        name: parsedJson[&#39;name&#39;],<br>        score: parsedJson[&#39;score&#39;],<br>        teachers: getTeacher(parsedJson[&#39;teachers&#39;]));<br>  }<br><br>  static List&lt;Teacher&gt; getTeacher(dynamic list) {<br>    List&lt;Teacher&gt; teachers = new List();<br>    list.forEach((f) {<br>      teachers.add(Teacher.fromJson(f));<br>    });<br>    return teachers;<br>  }<br>}<br><br>class Teacher {<br>  String name;<br>  int age;<br><br>  Teacher({this.age, this.name});<br><br>  factory Teacher.fromJson(Map&lt;String, dynamic&gt; parsedJson) {<br>    return Teacher(name: parsedJson[&#39;name&#39;], age: parsedJson[&#39;age&#39;]);<br>  }<br>}","like_count":3,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469904,"discussion_content":"ğŸ‘å‰å®³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571284618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1169021,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d6/7d/4b09b0bf.jpg","nickname":"æé‘«é‘«","note":"","ucode":"BEC451BFBEFD25","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553380,"discussion_content":"å¦‚æœè¿‡ Teacher æ˜¯æ³›å‹ è¿™ä¹ˆå¤„ç†ï¼Ÿï¼Ÿï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645868865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130272,"user_name":"Geek_0793f1","can_delete":false,"product_type":"c1","uid":1608274,"ip_address":"","ucode":"A7E1FA6B05CE8A","user_header":"","comment_is_top":false,"comment_ctime":1567416097,"is_pvip":false,"replies":[{"id":"49546","content":"ä»¥å¯¹è±¡çš„æ–¹å¼æ‰¿æ¥æœåŠ¡ç«¯è¿”å›çš„JSONå­—å…¸ï¼Œä¸ä»…æ›´ç›´è§‚ï¼Œä¹Ÿé¿å…äº†ä¸€äº›å› ä¸ºkeyå†™é”™å‡ºç°çš„ä»£ç é”™è¯¯ã€‚jsçš„ç±»å‹ç³»ç»Ÿæ¯”è¾ƒæ··ä¹±ï¼Œobjectå’Œå­—å…¸æ˜¯å¯ä»¥æ··ç”¨çš„ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼š<br>var x = {&#39;number&#39;:123,&#39;title&#39;:&#39;title&#39;};<br>x.numberå’Œx[&#39;number&#39;]æ˜¯ç­‰ä»·çš„ï¼Œæ‰€ä»¥è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå‰ç«¯åŒå­¦ç›´æ¥æ‹¿å­—å…¸å°±å¯ä»¥å½“å¯¹è±¡ç”¨äº†ã€‚<br>è€ŒDartæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œå­—å…¸é‡Œçš„é”®å€¼å¯¹å’Œå¯¹è±¡çš„å±æ€§æ˜¯ä¸èƒ½æ··ç”¨çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€å±‚æ˜ å°„å…³ç³»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1567685308,"ip_address":"","comment_id":130272,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10157350689","product_id":100031001,"comment_content":"ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå°† JSON å­—ç¬¦ä¸²ä¼ é€’ç»™ JSON.decode æ–¹æ³•è§£ææˆä¸€ä¸ª Mapï¼Œç„¶åæŠŠè¿™ä¸ª Map ä¼ ç»™è‡ªå®šä¹‰çš„ç±»ï¼Œè¿›è¡Œç›¸å…³å±æ€§çš„èµ‹å€¼ã€‚<br><br>å‰ç«¯ä¸€èˆ¬æŠŠjsonå­—ç¬¦ä¸²è§£ææˆmapä¹‹åï¼Œå°±ç›´æ¥ç”¨è¿™ä¸ªmapè¿›è¡Œç›¸å…³çš„å±æ€§èµ‹å€¼äº†ï¼Œè€å¸ˆèƒ½è§£é‡Šä¸€ä¸‹ï¼Œä¼ ç»™è‡ªå®šä¹‰ç±»çš„åšæ³•çš„å¥½å¤„å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465884,"discussion_content":"ä»¥å¯¹è±¡çš„æ–¹å¼æ‰¿æ¥æœåŠ¡ç«¯è¿”å›çš„JSONå­—å…¸ï¼Œä¸ä»…æ›´ç›´è§‚ï¼Œä¹Ÿé¿å…äº†ä¸€äº›å› ä¸ºkeyå†™é”™å‡ºç°çš„ä»£ç é”™è¯¯ã€‚jsçš„ç±»å‹ç³»ç»Ÿæ¯”è¾ƒæ··ä¹±ï¼Œobjectå’Œå­—å…¸æ˜¯å¯ä»¥æ··ç”¨çš„ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼š\nvar x = {&amp;#39;number&amp;#39;:123,&amp;#39;title&amp;#39;:&amp;#39;title&amp;#39;};\nx.numberå’Œx[&amp;#39;number&amp;#39;]æ˜¯ç­‰ä»·çš„ï¼Œæ‰€ä»¥è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå‰ç«¯åŒå­¦ç›´æ¥æ‹¿å­—å…¸å°±å¯ä»¥å½“å¯¹è±¡ç”¨äº†ã€‚\nè€ŒDartæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œå­—å…¸é‡Œçš„é”®å€¼å¯¹å’Œå¯¹è±¡çš„å±æ€§æ˜¯ä¸èƒ½æ··ç”¨çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€å±‚æ˜ å°„å…³ç³»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567685308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1242602,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f5/ea/5f046856.jpg","nickname":"Dale","note":"","ucode":"AD19A33FE5EEDF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301836,"discussion_content":"js æ··ç”¨ä¹Ÿæ˜¯æœ‰ä¸€å®šåŸå› çš„ï¼Œæ¯”å¦‚ x[&#39;a+1&#39;] å°±ä¸èƒ½å†™æˆ x.a+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598675799,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236088,"user_name":"é£“é£","can_delete":false,"product_type":"c1","uid":1006197,"ip_address":"","ucode":"18D4E8139CD7B7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5a/75/4e0d7419.jpg","comment_is_top":false,"comment_ctime":1595311258,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5890278554","product_id":100031001,"comment_content":"https:&#47;&#47;github.com&#47;trevorwang&#47;retrofit.dart&#47;  <br>è¿™ä¸ªåº“é…åˆdioï¼Œç½‘ç»œè¯·æ±‚è½¬æ¢è¿™ä¸€æ­¥æˆ‘è§‰å¾—æ›´ç®€å•ç‚¹ï¼Ÿ","like_count":1},{"had_liked":false,"id":129306,"user_name":"Geek_0d3a08","can_delete":false,"product_type":"c1","uid":1184316,"ip_address":"","ucode":"3FB6E2CBD81A7C","user_header":"https://static001.geekbang.org/account/avatar/00/12/12/3c/2e7fd24f.jpg","comment_is_top":false,"comment_ctime":1567083888,"is_pvip":false,"replies":[{"id":"49522","content":"Dioé»˜è®¤ä¼šè‡ªåŠ¨å¸®ä½ é‡å®šå‘ï¼Œä½ å¯ä»¥åœ¨optionså‚æ•°é‡Œé¢æŠŠfollowRedirectsç½®ä¸ºfalseï¼Œè‡ªå·±åœ¨æ‹¦æˆªå™¨ä¸­å¤„ç†é‡å®šå‘","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1567680153,"ip_address":"","comment_id":129306,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5862051184","product_id":100031001,"comment_content":"é‡å®šå‘ç›‘å¬æœ‰å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465390,"discussion_content":"Dioé»˜è®¤ä¼šè‡ªåŠ¨å¸®ä½ é‡å®šå‘ï¼Œä½ å¯ä»¥åœ¨optionså‚æ•°é‡Œé¢æŠŠfollowRedirectsç½®ä¸ºfalseï¼Œè‡ªå·±åœ¨æ‹¦æˆªå™¨ä¸­å¤„ç†é‡å®šå‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567680153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126648,"user_name":"æ±Ÿåšå®","can_delete":false,"product_type":"c1","uid":1061214,"ip_address":"","ucode":"00A5A0995C6D75","user_header":"https://static001.geekbang.org/account/avatar/00/10/31/5e/d7cdc1d6.jpg","comment_is_top":false,"comment_ctime":1566440863,"is_pvip":true,"replies":[{"id":"49545","content":"å…¶å®æˆ‘è§‰å¾—Dartæä¾›çš„JSONè‡ªåŠ¨åºåˆ—åŒ–æ–¹æ¡ˆå¹¶ä¸å¥½ç”¨ï¼Œæ‰€ä»¥æˆ‘è¿˜æ˜¯æ¨èæ‰‹åŠ¨è§£æï¼Œå¯¹äºæ³›å‹ï¼Œç›´æ¥åœ¨è¿è¡Œæ˜¯åˆ¤æ–­ç±»å‹ï¼Œèµ°å¯¹åº”çš„è§£ææ–¹æ³•å°±å¯ä»¥äº†ã€‚<br>çœ‹ä½ çš„ä½¿ç”¨åœºæ™¯ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œjson_serializableæ˜“ç”¨æ€§ä¸Šæ¯”built_valueä¼šæ›´å¥½ä¸€äº›ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1567684981,"ip_address":"","comment_id":126648,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5861408159","product_id":100031001,"comment_content":"è€å¸ˆèƒ½ä¸èƒ½ä»‹ç»ä¸€ä¸‹ååºåˆ—åŒ–å·¥å…·ï¼Œæ¯”å¦‚json_serializableå’Œ built_valueï¼Œå»ºè®®ç”¨å“ªä¸€ä¸ªï¼Œå¦‚æœé‡åˆ°æ³›å‹ï¼Œè¯¥å¦‚ä½•å¤„ç†","like_count":1,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464104,"discussion_content":"å…¶å®æˆ‘è§‰å¾—Dartæä¾›çš„JSONè‡ªåŠ¨åºåˆ—åŒ–æ–¹æ¡ˆå¹¶ä¸å¥½ç”¨ï¼Œæ‰€ä»¥æˆ‘è¿˜æ˜¯æ¨èæ‰‹åŠ¨è§£æï¼Œå¯¹äºæ³›å‹ï¼Œç›´æ¥åœ¨è¿è¡Œæ˜¯åˆ¤æ–­ç±»å‹ï¼Œèµ°å¯¹åº”çš„è§£ææ–¹æ³•å°±å¯ä»¥äº†ã€‚\nçœ‹ä½ çš„ä½¿ç”¨åœºæ™¯ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œjson_serializableæ˜“ç”¨æ€§ä¸Šæ¯”built_valueä¼šæ›´å¥½ä¸€äº›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567684981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336051,"user_name":"æé‘«é‘«","can_delete":false,"product_type":"c1","uid":1169021,"ip_address":"","ucode":"BEC451BFBEFD25","user_header":"https://static001.geekbang.org/account/avatar/00/11/d6/7d/4b09b0bf.jpg","comment_is_top":false,"comment_ctime":1645868907,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645868907","product_id":100031001,"comment_content":"å¸¦æœ‰æ³›å‹ çš„bean è¿™ä¹ˆè½¬json????","like_count":0},{"had_liked":false,"id":304830,"user_name":"å°ä½•","can_delete":false,"product_type":"c1","uid":2501246,"ip_address":"","ucode":"0526DEE8F358CA","user_header":"https://static001.geekbang.org/account/avatar/00/26/2a/7e/6d2e703b.jpg","comment_is_top":false,"comment_ctime":1627633427,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627633427","product_id":100031001,"comment_content":"è€å¸ˆå¥½ï¼Œé—®ä¸€ä¸ªé—®é¢˜ï¼Œflutteræ€ä¹ˆåšå›è°ƒå•Šï¼Œæˆ‘æƒ³å°è£…ä¸€ä¸ªå·¥å…·ç±»ï¼Œç½‘ç»œè¯·æ±‚çš„æ—¶å€™ä¼ å…¥callbackï¼Œç„¶åæˆåŠŸå°±è°ƒç”¨callback.onSuccess(t),å¤±è´¥å°±è°ƒç”¨callback.onFailed(t)","like_count":0},{"had_liked":false,"id":303575,"user_name":"å°ä½•","can_delete":false,"product_type":"c1","uid":2501246,"ip_address":"","ucode":"0526DEE8F358CA","user_header":"https://static001.geekbang.org/account/avatar/00/26/2a/7e/6d2e703b.jpg","comment_is_top":false,"comment_ctime":1626862148,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1626862148","product_id":100031001,"comment_content":"è€å¸ˆå¥½ï¼Œcomputeå’ŒFutureåŒºåˆ«æ˜¯ä»€ä¹ˆå•Šï¼Œ ä¸æ˜¯ç”¨Futureä¹Ÿå¯ä»¥å®ç°å¼‚æ­¥å˜›","like_count":0,"discussions":[{"author":{"id":1013056,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/75/40/279c1a86.jpg","nickname":"å”äºŒå“¥","note":"","ucode":"43B1642C78A915","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550975,"discussion_content":"å»æŠŠä¸Šä¸€ç¯‡å†è¯»ä¸€éï¼Œå¦‚æœä¸è¡Œï¼Œè¯»ä¸¤é","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644831389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":302066,"user_name":"ä»»é€é¥","can_delete":false,"product_type":"c1","uid":1459250,"ip_address":"","ucode":"0ABF8135E8A4BC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIFgmmBXRltzZDa6lvibrCouDvOQYkfT2tJibZ97tJvNhGdfibntJdwmQ4BSzqr4bRB4m2SFxyAHBPsQ/132","comment_is_top":false,"comment_ctime":1626062517,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626062517","product_id":100031001,"comment_content":"æœ€è¿‘é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œé—®ä¸€ä¸‹è€å¸ˆæœåŠ¡å™¨æ›´æ–°SSLè¯ä¹¦æ—¶ä½¿ç”¨äº†pemæ ¼å¼ï¼Œå‘ç°å®‰å“ç«¯è¯·æ±‚å¤±è´¥ï¼ŒiOSç«¯æ­£å¸¸ï¼Œflutteråº”è¯¥å¦‚ä½•å…¼å®¹pemè¯ä¹¦å‘¢","like_count":0},{"had_liked":false,"id":176359,"user_name":"IF-Processing","can_delete":false,"product_type":"c1","uid":1205736,"ip_address":"","ucode":"8298C3C9320D94","user_header":"https://static001.geekbang.org/account/avatar/00/12/65/e8/d1e52dbb.jpg","comment_is_top":false,"comment_ctime":1581042844,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1581042844","product_id":100031001,"comment_content":"è¯·é—®ï¼Œflutterå¯¹äºç½‘ç»œæœåŠ¡ï¼ˆæ¯”å¦‚Sambaï¼ŒNFSå…±äº«ï¼‰çš„è®¿é—®æœ‰æ”¯æŒå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":148905,"user_name":"å®‰å—å¯¸æš–ğŸ¤•","can_delete":false,"product_type":"c1","uid":1387564,"ip_address":"","ucode":"9E8036B99E3F16","user_header":"https://static001.geekbang.org/account/avatar/00/15/2c/2c/77f80dfc.jpg","comment_is_top":false,"comment_ctime":1573107244,"is_pvip":false,"replies":[{"id":"59791","content":"å‚è€ƒå®˜æ–¹æ–‡æ¡£å§https:&#47;&#47;github.com&#47;flutterchina&#47;json_model","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1574754568,"ip_address":"","comment_id":148905,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573107244","product_id":100031001,"comment_content":"json_model æ€ä¹ˆç”Ÿæˆçº¯æ•°ç»„çš„è§£æä»£ç ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473663,"discussion_content":"å‚è€ƒå®˜æ–¹æ–‡æ¡£å§https://github.com/flutterchina/json_model","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574754568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135231,"user_name":"å¤§ç¥åšå£«","can_delete":false,"product_type":"c1","uid":1195144,"ip_address":"","ucode":"8C4318095949F0","user_header":"https://static001.geekbang.org/account/avatar/00/12/3c/88/6bef27d6.jpg","comment_is_top":false,"comment_ctime":1569072893,"is_pvip":true,"replies":[{"id":"52449","content":"1.ç›´æ¥å‘urlè¯·æ±‚å°±å¯ä»¥äº†ã€æŠŠæœåŠ¡ç«¯è¿”å›çš„æ•°æ®å½“ä½œå­—ç¬¦ä¸²ç®€å•å¤„ç†ä¸‹ï¼ŒæŠŠå®ƒè½¬æˆjsonæ ¼å¼<br>2.flutterä¸éœ€è¦å¤„ç†è·¨åŸŸé—®é¢˜ï¼Œä¸å»ºè®®ç”¨jsonpè¿™ç§å¥‡æ€ªçš„æ ¼å¼","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1569501217,"ip_address":"","comment_id":135231,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1569072893","product_id":100031001,"comment_content":"æƒ³é—®ä¸‹ Flutter ä¸­ JSONP çš„è¯·æ±‚æ€ä¹ˆå¤„ç†","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468104,"discussion_content":"1.ç›´æ¥å‘urlè¯·æ±‚å°±å¯ä»¥äº†ã€æŠŠæœåŠ¡ç«¯è¿”å›çš„æ•°æ®å½“ä½œå­—ç¬¦ä¸²ç®€å•å¤„ç†ä¸‹ï¼ŒæŠŠå®ƒè½¬æˆjsonæ ¼å¼\n2.flutterä¸éœ€è¦å¤„ç†è·¨åŸŸé—®é¢˜ï¼Œä¸å»ºè®®ç”¨jsonpè¿™ç§å¥‡æ€ªçš„æ ¼å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569501217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1195144,"avatar":"https://static001.geekbang.org/account/avatar/00/12/3c/88/6bef27d6.jpg","nickname":"å¤§ç¥åšå£«","note":"","ucode":"8C4318095949F0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":22921,"discussion_content":"å—¯ï¼Œå·²ç»è§£å†³äº†ï¼Œå°±æ˜¯æ‚¨çš„æ€è·¯ï¼›jsonpæ˜¯åº”ä¸ºé¡¹ç›®å†å²é—ç•™é—®é¢˜ï¼Œåç«¯æ˜¯è€é¡¹ç›®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569727796,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":132389,"user_name":"ç±³ç±³å‘€ğŸ‘§","can_delete":false,"product_type":"c1","uid":1503774,"ip_address":"","ucode":"77F90974C81E55","user_header":"https://static001.geekbang.org/account/avatar/00/16/f2/1e/679789f7.jpg","comment_is_top":false,"comment_ctime":1568105480,"is_pvip":false,"replies":[{"id":"51767","content":"è¿™ä¸ªå°±æ˜¯ä»Šå¤©åˆ†äº«è¯´çš„httpåŒ…å•Š","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1568962311,"ip_address":"","comment_id":132389,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1568105480","product_id":100031001,"comment_content":"import &#39;dart:convert&#39;;<br><br>import &#39;package:flutter&#47;material.dart&#39;;<br>import &#39;package:http&#47;http.dart&#39; as http;<br>[...]<br>  loadData() async {<br>    String dataURL = &quot;https:&#47;&#47;jsonplaceholder.typicode.com&#47;posts&quot;;<br>    http.Response response = await http.get(dataURL);<br>    setState(() {<br>      widgets = JSON.decode(response.body);<br>    });<br>  }<br>}<br><br>å®˜ç½‘Demoé‡Œé¢æ˜¯ç”¨çš„è¿™ä¸ªï¼Œè·ŸHttpClientæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿæˆ‘è¯¥ç”¨å“ªä¸ªï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466908,"discussion_content":"è¿™ä¸ªå°±æ˜¯ä»Šå¤©åˆ†äº«è¯´çš„httpåŒ…å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568962311,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131820,"user_name":"Geek_joestar","can_delete":false,"product_type":"c1","uid":1587984,"ip_address":"","ucode":"B68345FBC5D311","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLFbNiaADSSo6SQhsoDRX95ey8zngVaj2fHqaVc6JAd1uXJFAle1sl4SaicicpSzcKwa4JjLvkpKItZQ/132","comment_is_top":false,"comment_ctime":1567919842,"is_pvip":false,"replies":[{"id":"51210","content":"èµ","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1568561245,"ip_address":"","comment_id":131820,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567919842","product_id":100031001,"comment_content":"static List&lt;Teacher&gt; fromJsonList(List&lt;dynamic&gt; listJson){<br>    var list = List&lt;Teacher&gt;();<br>    for(Map&lt;String, dynamic&gt; parsedJson in listJson) {<br>      list.add(Teacher.fromJson(parsedJson));<br>    }<br>    return list;<br>  }","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466633,"discussion_content":"èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568561245,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131440,"user_name":"C","can_delete":false,"product_type":"c1","uid":1599441,"ip_address":"","ucode":"C5845E7EC389EC","user_header":"https://static001.geekbang.org/account/avatar/00/18/67/d1/1c69ad22.jpg","comment_is_top":false,"comment_ctime":1567752724,"is_pvip":false,"replies":[{"id":"50749","content":"å¾ˆèµğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1568183270,"ip_address":"","comment_id":131440,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567752724","product_id":100031001,"comment_content":"class Teacher {<br>  String name;<br>  int age;<br><br>  Teacher({this.name, this.age});<br><br>  factory Teacher.fromJson(Map&lt;String, dynamic&gt; parsedJson) {<br>    return Teacher(<br>      name: parsedJson[&#39;name&#39;],<br>      age: parsedJson[&#39;age&#39;],<br>    );<br>  }<br><br>  static List&lt;Teacher&gt; parseTeachers(List&lt;dynamic&gt; mapList) {<br>    List&lt;Teacher&gt; teachers = List&lt;Teacher&gt;();<br>    for(Map&lt;String, dynamic&gt; map in mapList) {<br>      teachers.add(Teacher.fromJson(map));<br>    }<br>    return teachers;<br>  }<br>}<br><br>class Student {<br>  String id;<br>  String name;<br>  int score;<br>  List&lt;Teacher&gt; teachers;<br><br>  Student({this.id, this.name, this.score, this.teachers});<br><br>  factory Student.fromJson(Map&lt;String, dynamic&gt; parsedJson) {<br>    return Student(<br>      id: parsedJson[&#39;id&#39;],<br>      name: parsedJson[&#39;name&#39;],<br>      score: parsedJson[&#39;score&#39;],<br>      teachers: Teacher.parseTeachers(parsedJson[&#39;teachers&#39;]),<br>    );<br>  }<br>}","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466453,"discussion_content":"å¾ˆèµğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568183270,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130960,"user_name":"å¤§å’Œ","can_delete":false,"product_type":"c1","uid":1018819,"ip_address":"","ucode":"3BC6AE139B1252","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8b/c3/bf56f46c.jpg","comment_is_top":false,"comment_ctime":1567584113,"is_pvip":false,"replies":[{"id":"49188","content":"æ€è·¯æ˜¯å¯¹çš„ï¼Œæœ‰ä¸€ä¸ªå°ç‚¹å¯ä»¥æ”¹è¿›ï¼šå¦‚æœæ­¤åˆ»æœ‰å¤šä¸ªrequeståŒæ—¶å‘å‡ºï¼Œtokenä¼šè¯·æ±‚å¤šæ¬¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1567599916,"ip_address":"","comment_id":130960,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567584113","product_id":100031001,"comment_content":"dio.interceptors.add(InterceptorsWrapper(<br>        onRequest: (RequestOptions options) async {<br>          if (options.headers[&quot;token&quot;] == null) {<br>            try {<br>              var token = await new Dio().get(&quot;https:&#47;&#47;xxx.com&#47;token&quot;);<br>              options.headers[&quot;token&quot;] = token;<br>            }catch(e) {<br>              return dio.reject(&quot;Error: è¯·å…ˆç™»å½•...&quot;);<br>            }<br>          }<br>          return options;<br>        }<br>    ));","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466214,"discussion_content":"æ€è·¯æ˜¯å¯¹çš„ï¼Œæœ‰ä¸€ä¸ªå°ç‚¹å¯ä»¥æ”¹è¿›ï¼šå¦‚æœæ­¤åˆ»æœ‰å¤šä¸ªrequeståŒæ—¶å‘å‡ºï¼Œtokenä¼šè¯·æ±‚å¤šæ¬¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567599916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130549,"user_name":"å®ç¼º","can_delete":false,"product_type":"c1","uid":1374218,"ip_address":"","ucode":"6D5D64897F595D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/oawDPl6RMSNz5Br5hLUBZzdicRPshXVJyTe2runPeBiby76BqRa8ibs99xxZ7EcBnkLeRPvt4gSGfqEibz1bpzWuoA/132","comment_is_top":false,"comment_ctime":1567482007,"is_pvip":false,"replies":[{"id":"50741","content":"ä¼šè€ƒè™‘ä¸“é—¨å‡ºä¸€èŠ‚è®²è¯¾åé¢˜çš„è§£å†³æ€è·¯","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1568182765,"ip_address":"","comment_id":130549,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567482007","product_id":100031001,"comment_content":"è¯·é—®è€å¤§ï¼Œè¯¾åä½œä¸šçš„ç­”æ¡ˆå•¥æ—¶å€™ç»™å‚è€ƒä¸€ä¸‹","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466008,"discussion_content":"ä¼šè€ƒè™‘ä¸“é—¨å‡ºä¸€èŠ‚è®²è¯¾åé¢˜çš„è§£å†³æ€è·¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568182765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130263,"user_name":"ç§‹","can_delete":false,"product_type":"c1","uid":1371800,"ip_address":"","ucode":"A2EAF7B003CD34","user_header":"","comment_is_top":false,"comment_ctime":1567414914,"is_pvip":false,"replies":[{"id":"49526","content":"ç¡®è®¤ä¸‹ç½‘ç»œæƒé™ï¼ŒæŸ¥æŸ¥çŠ¶æ€ç ï¼Œæœ€åè¿˜ä¸è¡Œå¯ä»¥æŠ“åŒ…çœ‹çœ‹åŸå› ","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1567680841,"ip_address":"","comment_id":130263,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567414914","product_id":100031001,"comment_content":"ä½¿ç”¨Dioå‘é€postè¯·æ±‚ï¼Œdataæ•°æ®æ˜¯mapï¼Œä½†æ˜¯æœåŠ¡ç«¯æ¥æ”¶ä¸åˆ°ï¼Œè¯·é—®è€å¸ˆè¿™æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465879,"discussion_content":"ç¡®è®¤ä¸‹ç½‘ç»œæƒé™ï¼ŒæŸ¥æŸ¥çŠ¶æ€ç ï¼Œæœ€åè¿˜ä¸è¡Œå¯ä»¥æŠ“åŒ…çœ‹çœ‹åŸå› ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567680841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128808,"user_name":"å¤§æ’","can_delete":false,"product_type":"c1","uid":1330033,"ip_address":"","ucode":"B8E3E2273F74DB","user_header":"https://static001.geekbang.org/account/avatar/00/14/4b/71/591ae170.jpg","comment_is_top":false,"comment_ctime":1566966718,"is_pvip":true,"replies":[{"id":"48094","content":"æ‰‹åŠ¨æ²¡æ³•è§£æï¼Œå¯ä»¥è¿è¡Œæ—¶åˆ¤æ–­ç±»å‹ï¼Œèµ°ç‰¹å®šç±»å‹çš„è§£ææ–¹æ³•","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1567077771,"ip_address":"","comment_id":128808,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566966718","product_id":100031001,"comment_content":"è¯·é—®jsonå¦‚ä½•è§£ææ³›å‹ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465113,"discussion_content":"æ‰‹åŠ¨æ²¡æ³•è§£æï¼Œå¯ä»¥è¿è¡Œæ—¶åˆ¤æ–­ç±»å‹ï¼Œèµ°ç‰¹å®šç±»å‹çš„è§£ææ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567077771,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127189,"user_name":"ls","can_delete":false,"product_type":"c1","uid":1007293,"ip_address":"","ucode":"6C14A1D24DDC2E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/bd/e28f8ce5.jpg","comment_is_top":false,"comment_ctime":1566602850,"is_pvip":false,"replies":[{"id":"47347","content":"ç½‘ç»œè¯·æ±‚å’ŒI&#47;Oæ˜¯å¦ä¸€ä¸ªå¹³è¡Œä¸–ç•Œï¼ˆæ“ä½œç³»ç»Ÿï¼‰é‡Œå¹¶å‘å®Œæˆçš„ï¼Œflutteråªæ˜¯è§¦å‘äº†ä»–ä»¬çš„å¯åŠ¨è€Œå·²","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1566792877,"ip_address":"","comment_id":127189,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566602850","product_id":100031001,"comment_content":"è¿˜æ˜¯ä¸å¤§ç†è§£ await å’Œ asyncï¼Œå½“å‘èµ·ç½‘ç»œè¯·æ±‚çš„æ—¶å€™ï¼Œä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹å—ã€‚å½“è°ƒç”¨ async çš„å‡½æ•°æ—¶ï¼Œæ˜¯å¦å¤–èµ·äº†ä¸€ä¸ªçº¿ç¨‹å»ç­‰å¾…ç½‘ç»œè¯·æ±‚è¿”å›ï¼Ÿè¿™ä¸ªå¼‚æ­¥æ€ä¹ˆç†è§£å¥½ã€‚","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464366,"discussion_content":"ç½‘ç»œè¯·æ±‚å’ŒI/Oæ˜¯å¦ä¸€ä¸ªå¹³è¡Œä¸–ç•Œï¼ˆæ“ä½œç³»ç»Ÿï¼‰é‡Œå¹¶å‘å®Œæˆçš„ï¼Œflutteråªæ˜¯è§¦å‘äº†ä»–ä»¬çš„å¯åŠ¨è€Œå·²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566792877,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127018,"user_name":"å´å°å®‰","can_delete":false,"product_type":"c1","uid":1371398,"ip_address":"","ucode":"EDF8E04F867069","user_header":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqr5ibqxYwcSgqPA7s49MZb1vEKKXT4mPTojwiclXkJf3ug26NuzTa6A5gbicR2rAUHdEkUAn13Rr2KQ/132","comment_is_top":false,"comment_ctime":1566537285,"is_pvip":false,"replies":[{"id":"47344","content":"åœ¨å¯ç”¨æ€§å’Œå®‰å…¨çš„ç»¼åˆè¡¡é‡ä¸‹ï¼Œä¸€èˆ¬æ˜¯é‡‡ç”¨ç±»çš„é»‘åå•ï¼Œé¿å…ååºåˆ—åŒ–æœ‰å®‰å…¨é£é™©çš„ç±»","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1566792726,"ip_address":"","comment_id":127018,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566537285","product_id":100031001,"comment_content":"è¿™ä¸ªåå°„å¼•èµ·çš„å®‰å…¨é—®é¢˜åœ¨ç§»åŠ¨ç«¯å’Œå‰ç«¯ç°åœ¨æœ‰è§£å†³ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464285,"discussion_content":"åœ¨å¯ç”¨æ€§å’Œå®‰å…¨çš„ç»¼åˆè¡¡é‡ä¸‹ï¼Œä¸€èˆ¬æ˜¯é‡‡ç”¨ç±»çš„é»‘åå•ï¼Œé¿å…ååºåˆ—åŒ–æœ‰å®‰å…¨é£é™©çš„ç±»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566792726,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126725,"user_name":"å³æ‰‹è¾¹","can_delete":false,"product_type":"c1","uid":1334575,"ip_address":"","ucode":"74B3DCECA856D5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIR6WDJVpJ103eeu54rLia1uhJO8sWUW1QJRZQqDCbgfSsSBYFWZFB7EleVmSUvZfhEbx6eLkzRhNA/132","comment_is_top":false,"comment_ctime":1566458957,"is_pvip":false,"replies":[{"id":"47342","content":"è¿è¡Œæ—¶çš„æ²¡æœ‰ï¼Œæœ‰ä¸€äº›å¼€å‘æœŸçš„IDEæ’ä»¶å¯ä»¥ç®€åŒ–JSONè§£æçš„ä»£ç ","user_name":"ä½œè€…å›å¤","user_name_real":"åœŸè±†ç›’å­","uid":"1088582","ctime":1566792586,"ip_address":"","comment_id":126725,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1566458957","product_id":100031001,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼ŒJSON çš„è§£æç¡®å®æœ‰ç‚¹å¤æ‚äº†ï¼ŒçœŸçš„æ²¡æœ‰ç±»ä¼¼Gsoné‚£æ ·æ–¹ä¾¿çš„åº“ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088582,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/46/0b29b188.jpg","nickname":"åœŸè±†ç›’å­","note":"","ucode":"A910F88CAC0A87","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464138,"discussion_content":"è¿è¡Œæ—¶çš„æ²¡æœ‰ï¼Œæœ‰ä¸€äº›å¼€å‘æœŸçš„IDEæ’ä»¶å¯ä»¥ç®€åŒ–JSONè§£æçš„ä»£ç ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566792586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1126205,"avatar":"https://static001.geekbang.org/account/avatar/00/11/2f/3d/8c5d6f65.jpg","nickname":"è©æå²›ä¸»","note":"","ucode":"50D5CD788CCC8F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5943,"discussion_content":"å¯ä»¥å»äº†è§£ä¸€ä¸‹è¿™ä¸ªï¼Œå¯¹ä½ æœ‰å¸®åŠ©ï¼šhttps://github.com/flutterchina/json_model","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566545239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126711,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1566455670,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566455670","product_id":100031001,"comment_content":"ä¹ æƒ¯äº†ç”¨jsç›´æ¥è·å–å±æ€§ï¼Œè¿™æ ·å…ˆå®šä¹‰æ¨¡å‹ç¡®å®ä¼šæ›´åºŸæ—¶é—´ä¸€äº›ï¼Œä½†å…ˆå®šä¹‰æ¨¡å‹å…¶å®ä¼šæ›´è§„èŒƒã€å‡ºbugæ›´å®¹æ˜“è°ƒè¯•ï¼Œä¹Ÿè¦æ±‚å¼€å‘äººå‘˜ä¸èƒ½éšä¾¿å˜æ›´æ•°æ®ç»“æ„ã€‚","like_count":0}]}
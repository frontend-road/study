{"id":384648,"title":"10 | è®¾è®¡æ–¹æ³•ï¼šæ€ä¹ˆå†™å‡ºä¼˜é›…çš„ Go é¡¹ç›®ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å­”ä»¤é£ï¼Œä»Šå¤©æˆ‘ä»¬æ¥èŠèŠå¦‚ä½•å†™å‡ºä¼˜é›…çš„ Go é¡¹ç›®ã€‚</p><p>Goè¯­è¨€ç®€å•æ˜“å­¦ï¼Œå¯¹äºå¤§éƒ¨åˆ†å¼€å‘è€…æ¥è¯´ï¼Œç¼–å†™å¯è¿è¡Œçš„ä»£ç å¹¶ä¸æ˜¯ä¸€ä»¶éš¾äº‹ï¼Œä½†å¦‚æœæƒ³çœŸæ­£æˆä¸ºGoç¼–ç¨‹é«˜æ‰‹ï¼Œä½ éœ€è¦èŠ±å¾ˆå¤šç²¾åŠ›å»ç ”ç©¶Goçš„ç¼–ç¨‹å“²å­¦ã€‚</p><p>åœ¨æˆ‘çš„Goå¼€å‘ç”Ÿæ¶¯ä¸­ï¼Œæˆ‘è§è¿‡å„ç§å„æ ·çš„ä»£ç é—®é¢˜ï¼Œä¾‹å¦‚ï¼šä»£ç ä¸è§„èŒƒï¼Œéš¾ä»¥é˜…è¯»ï¼›å‡½æ•°å…±äº«æ€§å·®ï¼Œä»£ç é‡å¤ç‡é«˜ï¼›ä¸æ˜¯é¢å‘æ¥å£ç¼–ç¨‹ï¼Œä»£ç æ‰©å±•æ€§å·®ï¼Œä»£ç ä¸å¯æµ‹ï¼›ä»£ç è´¨é‡ä½ä¸‹ã€‚ç©¶å…¶åŸå› ï¼Œæ˜¯å› ä¸ºè¿™äº›ä»£ç çš„å¼€å‘è€…<strong>å¾ˆå°‘èŠ±æ—¶é—´å»è®¤çœŸç ”ç©¶å¦‚ä½•å¼€å‘ä¸€ä¸ªä¼˜é›…çš„Goé¡¹ç›®ï¼Œæ›´å¤šæ—¶é—´æ˜¯åŸ‹å¤´åœ¨éœ€æ±‚å¼€å‘ä¸­</strong>ã€‚</p><p>å¦‚æœä½ ä¹Ÿé‡åˆ°è¿‡ä»¥ä¸Šé—®é¢˜ï¼Œé‚£ä¹ˆæ˜¯æ—¶å€™èŠ±ç‚¹æ—¶é—´æ¥ç ”ç©¶ä¸‹å¦‚ä½•å¼€å‘ä¸€ä¸ªä¼˜é›…çš„Goé¡¹ç›®äº†ã€‚åªæœ‰è¿™æ ·ï¼Œä½ æ‰èƒ½åŒºåˆ«äºç»å¤§éƒ¨åˆ†çš„Goå¼€å‘è€…ï¼Œä»è€Œåœ¨èŒåœºä¸Šå»ºç«‹è‡ªå·±çš„æ ¸å¿ƒç«äº‰åŠ›ï¼Œå¹¶æœ€ç»ˆè„±é¢–è€Œå‡ºã€‚</p><p>å…¶å®ï¼Œæˆ‘ä»¬ä¹‹å‰æ‰€å­¦çš„å„ç§è§„èŒƒè®¾è®¡ï¼Œä¹Ÿéƒ½æ˜¯ä¸ºäº†å†™å‡ºä¸€ä¸ªä¼˜é›…çš„Goé¡¹ç›®ã€‚åœ¨è¿™ä¸€è®²ï¼Œæˆ‘åˆè¡¥å……äº†ä¸€äº›å†…å®¹ï¼Œä»è€Œå½¢æˆäº†ä¸€å¥—â€œå†™å‡ºä¼˜é›…Goé¡¹ç›®â€çš„æ–¹æ³•è®ºã€‚è¿™ä¸€è®²å†…å®¹æ¯”è¾ƒå¤šï¼Œä½†å¾ˆé‡è¦ï¼Œå¸Œæœ›ä½ èƒ½èŠ±ç‚¹ç²¾åŠ›è®¤çœŸæŒæ¡ï¼ŒæŒæ¡ä¹‹åï¼Œèƒ½å¤Ÿç¡®ä¿ä½ å¼€å‘å‡ºä¸€ä¸ªä¼˜ç§€çš„Goé¡¹ç›®ã€‚</p><h2>å¦‚ä½•å†™å‡ºä¼˜é›…çš„Goé¡¹ç›®ï¼Ÿ</h2><p>é‚£ä¹ˆï¼Œå¦‚ä½•å†™å‡ºä¸€ä¸ª<strong>ä¼˜é›…</strong>çš„<strong>Goé¡¹ç›®</strong>å‘¢ï¼Ÿåœ¨å›ç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹å¦å¤–ä¸¤ä¸ªé—®é¢˜ï¼š</p><ol>\n<li>ä¸ºä»€ä¹ˆæ˜¯Goé¡¹ç›®ï¼Œè€Œä¸æ˜¯Goåº”ç”¨ï¼Ÿ</li>\n<li>ä¸€ä¸ªä¼˜é›…çš„Goé¡¹ç›®å…·æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ</li>\n</ol><!-- [[[read_end]]] --><p>å…ˆæ¥çœ‹ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚Goé¡¹ç›®æ˜¯ä¸€ä¸ªåå·¥ç¨‹åŒ–çš„æ¦‚å¿µï¼Œä¸ä»…åŒ…å«äº†Goåº”ç”¨ï¼Œè¿˜åŒ…å«äº†é¡¹ç›®ç®¡ç†å’Œé¡¹ç›®æ–‡æ¡£ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/24/aa/24ba3548f8574a747b51e291224097aa.png?wh=2175x834\" alt=\"\"></p><p>è¿™å°±æ¥åˆ°äº†ç¬¬äºŒä¸ªé—®é¢˜ï¼Œä¸€ä¸ªä¼˜é›…çš„Goé¡¹ç›®ï¼Œä¸ä»…è¦æ±‚æˆ‘ä»¬çš„Goåº”ç”¨æ˜¯ä¼˜é›…çš„ï¼Œè¿˜è¦ç¡®ä¿æˆ‘ä»¬çš„é¡¹ç›®ç®¡ç†å’Œæ–‡æ¡£ä¹Ÿæ˜¯ä¼˜é›…çš„ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬æ ¹æ®å‰é¢å‡ è®²å­¦åˆ°çš„Goè®¾è®¡è§„èŒƒï¼Œå¾ˆå®¹æ˜“å°±èƒ½æ€»ç»“å‡ºä¸€ä¸ªä¼˜é›…çš„Goåº”ç”¨éœ€è¦å…·å¤‡çš„ç‰¹ç‚¹ï¼š</p><ul>\n<li>ç¬¦åˆGoç¼–ç è§„èŒƒå’Œæœ€ä½³å®è·µï¼›</li>\n<li>æ˜“é˜…è¯»ã€æ˜“ç†è§£ï¼Œæ˜“ç»´æŠ¤ï¼›</li>\n<li>æ˜“æµ‹è¯•ã€æ˜“æ‰©å±•ï¼›</li>\n<li>ä»£ç è´¨é‡é«˜ã€‚</li>\n</ul><p>è§£å†³äº†è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œè®©æˆ‘ä»¬å›åˆ°è¿™ä¸€è®²çš„æ ¸å¿ƒé—®é¢˜ï¼šå¦‚ä½•å†™å‡ºä¼˜é›…çš„Goé¡¹ç›®ï¼Ÿ</p><p>å†™å‡ºä¸€ä¸ªä¼˜é›…çš„Goé¡¹ç›®ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œå°±æ˜¯<strong>ç”¨â€œæœ€ä½³å®è·µâ€çš„æ–¹å¼å»å®ç°Goé¡¹ç›®ä¸­çš„Goåº”ç”¨ã€é¡¹ç›®ç®¡ç†å’Œé¡¹ç›®æ–‡æ¡£</strong>ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯ç¼–å†™é«˜è´¨é‡çš„Goåº”ç”¨ã€é«˜æ•ˆç®¡ç†é¡¹ç›®ã€ç¼–å†™é«˜è´¨é‡çš„é¡¹ç›®æ–‡æ¡£ã€‚</p><p>ä¸ºäº†ååŠ©ä½ ç†è§£ï¼Œæˆ‘å°†è¿™äº›é€»è¾‘ç»˜åˆ¶æˆäº†ä¸‹é¢ä¸€å¼ å›¾ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/77/03/77d541223576135df4c3d511abbfe603.png?wh=3131x1488\" alt=\"\"></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±çœ‹çœ‹å¦‚ä½•æ ¹æ®å‰é¢å‡ è®²å­¦ä¹ çš„Goé¡¹ç›®è®¾è®¡è§„èŒƒï¼Œå®ç°ä¸€ä¸ªä¼˜é›…çš„Goé¡¹ç›®ã€‚æˆ‘ä»¬å…ˆä»ç¼–å†™é«˜è´¨é‡çš„Goåº”ç”¨çœ‹èµ·ã€‚</p><h2>ç¼–å†™é«˜è´¨é‡çš„Goåº”ç”¨</h2><p>åŸºäºæˆ‘çš„ç ”å‘ç»éªŒï¼Œè¦ç¼–å†™ä¸€ä¸ªé«˜è´¨é‡çš„Goåº”ç”¨ï¼Œå…¶å®å¯ä»¥å½’çº³ä¸º5ä¸ªæ–¹é¢ï¼šä»£ç ç»“æ„ã€ä»£ç è§„èŒƒã€ä»£ç è´¨é‡ã€ç¼–ç¨‹å“²å­¦å’Œè½¯ä»¶è®¾è®¡æ–¹æ³•ï¼Œè§ä¸‹å›¾ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/23/69/2392d94feb95d3d64d765abe7d6e5e69.png?wh=3544x766\" alt=\"\"></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¯¦ç»†è¯´è¯´è¿™äº›å†…å®¹ã€‚</p><h3>ä»£ç ç»“æ„</h3><p>ä¸ºä»€ä¹ˆå…ˆè¯´ä»£ç ç»“æ„å‘¢ï¼Ÿå› ä¸ºç»„ç»‡åˆç†çš„ä»£ç ç»“æ„æ˜¯ä¸€ä¸ªé¡¹ç›®çš„é—¨é¢ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤ä¸ªæ‰‹æ®µæ¥ç»„ç»‡ä»£ç ç»“æ„ã€‚</p><p>ç¬¬ä¸€ä¸ªæ‰‹æ®µæ˜¯ï¼Œç»„ç»‡ä¸€ä¸ªå¥½çš„ç›®å½•ç»“æ„ã€‚å…³äºå¦‚ä½•ç»„åˆä¸€ä¸ªå¥½çš„ç›®å½•ç»“æ„ï¼Œä½ å¯ä»¥å›é¡¾ <a href=\"https://time.geekbang.org/column/article/381392\">06è®²</a> çš„å†…å®¹ã€‚</p><p>ç¬¬äºŒä¸ªæ‰‹æ®µæ˜¯ï¼Œé€‰æ‹©ä¸€ä¸ªå¥½çš„æ¨¡å—æ‹†åˆ†æ–¹æ³•ã€‚åšå¥½æ¨¡å—æ‹†åˆ†ï¼Œå¯ä»¥ä½¿é¡¹ç›®å†…æ¨¡å—èŒè´£åˆ†æ˜ï¼Œåšåˆ°ä½è€¦åˆé«˜å†…èšã€‚</p><p>é‚£ä¹ˆGoé¡¹ç›®å¼€å‘ä¸­ï¼Œå¦‚ä½•æ‹†åˆ†æ¨¡å—å‘¢ï¼Ÿç›®å‰ä¸šç•Œæœ‰ä¸¤ç§æ‹†åˆ†æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯æŒ‰å±‚æ‹†åˆ†å’ŒæŒ‰åŠŸèƒ½æ‹†åˆ†ã€‚</p><p><strong>é¦–å…ˆï¼Œæˆ‘ä»¬çœ‹ä¸‹æŒ‰å±‚æ‹†åˆ†</strong>ï¼Œæœ€å…¸å‹çš„æ˜¯MVCæ¶æ„ä¸­çš„æ¨¡å—æ‹†åˆ†æ–¹å¼ã€‚åœ¨MVCæ¶æ„ä¸­ï¼Œæˆ‘ä»¬å°†æœåŠ¡ä¸­çš„ä¸åŒç»„ä»¶æŒ‰è®¿é—®é¡ºåºï¼Œæ‹†åˆ†æˆäº†Modelã€Viewå’ŒControllerä¸‰å±‚ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ed/46/ed0c3dfyy52ac82539cb602eec9f0146.png?wh=497x625\" alt=\"\"></p><p>æ¯å±‚å®Œæˆä¸åŒçš„åŠŸèƒ½ï¼š</p><ul>\n<li>Viewï¼ˆè§†å›¾ï¼‰æ˜¯æä¾›ç»™ç”¨æˆ·çš„æ“ä½œç•Œé¢ï¼Œç”¨æ¥å¤„ç†æ•°æ®çš„æ˜¾ç¤ºã€‚</li>\n<li>Controllerï¼ˆæ§åˆ¶å™¨ï¼‰ï¼Œè´Ÿè´£æ ¹æ®ç”¨æˆ·ä» View å±‚è¾“å…¥çš„æŒ‡ä»¤ï¼Œé€‰å– Model å±‚ä¸­çš„æ•°æ®ï¼Œç„¶åå¯¹å…¶è¿›è¡Œç›¸åº”çš„æ“ä½œï¼Œäº§ç”Ÿæœ€ç»ˆç»“æœã€‚</li>\n<li>Modelï¼ˆæ¨¡å‹ï¼‰ï¼Œæ˜¯åº”ç”¨ç¨‹åºä¸­ç”¨äºå¤„ç†æ•°æ®é€»è¾‘çš„éƒ¨åˆ†ã€‚</li>\n</ul><p>æˆ‘ä»¬çœ‹ä¸€ä¸ªå…¸å‹çš„æŒ‰å±‚æ‹†åˆ†çš„ç›®å½•ç»“æ„ï¼š</p><pre><code>$ tree --noreport -L 2 layers\nlayers\nâ”œâ”€â”€ controllers\nâ”‚   â”œâ”€â”€ billing\nâ”‚   â”œâ”€â”€ order\nâ”‚   â””â”€â”€ user\nâ”œâ”€â”€ models\nâ”‚   â”œâ”€â”€ billing.go\nâ”‚   â”œâ”€â”€ order.go\nâ”‚   â””â”€â”€ user.go\nâ””â”€â”€ views\n    â””â”€â”€ layouts\n</code></pre><p>åœ¨Goé¡¹ç›®ä¸­ï¼ŒæŒ‰å±‚æ‹†åˆ†ä¼šå¸¦æ¥å¾ˆå¤šé—®é¢˜ã€‚æœ€å¤§çš„é—®é¢˜æ˜¯å¾ªç¯å¼•ç”¨ï¼šç›¸åŒåŠŸèƒ½å¯èƒ½åœ¨ä¸åŒå±‚è¢«ä½¿ç”¨åˆ°ï¼Œè€Œè¿™äº›åŠŸèƒ½åˆåˆ†æ•£åœ¨ä¸åŒçš„å±‚ä¸­ï¼Œå¾ˆå®¹æ˜“é€ æˆå¾ªç¯å¼•ç”¨ã€‚</p><p>æ‰€ä»¥ï¼Œ<strong>ä½ åªè¦å¤§æ¦‚çŸ¥é“æŒ‰å±‚æ‹†åˆ†æ˜¯ä»€ä¹ˆæ„æ€å°±å¤Ÿäº†ï¼Œåœ¨Goé¡¹ç›®ä¸­æˆ‘å»ºè®®ä½ ä½¿ç”¨çš„æ˜¯æŒ‰åŠŸèƒ½æ‹†åˆ†çš„æ–¹æ³•ï¼Œè¿™ä¹Ÿæ˜¯Goé¡¹ç›®ä¸­æœ€å¸¸è§çš„æ‹†åˆ†æ–¹æ³•ã€‚</strong></p><p>é‚£ä»€ä¹ˆæ˜¯æŒ‰åŠŸèƒ½æ‹†åˆ†å‘¢ï¼Ÿæˆ‘ç»™ä½ çœ‹ä¸€ä¸ªä¾‹å­ä½ å°±æ˜ç™½äº†ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªè®¢å•ç³»ç»Ÿï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®ä¸åŒåŠŸèƒ½å°†å…¶æ‹†åˆ†æˆç”¨æˆ·ï¼ˆuserï¼‰ã€è®¢å•ï¼ˆorderï¼‰å’Œè®¡è´¹ï¼ˆbillingï¼‰3ä¸ªæ¨¡å—ï¼Œæ¯ä¸€ä¸ªæ¨¡å—æä¾›ç‹¬ç«‹çš„åŠŸèƒ½ï¼ŒåŠŸèƒ½æ›´å•ä¸€ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/0d/a5/0d65eb1363bf8055e209bc24d1d99ca5.png?wh=625x572\" alt=\"\"></p><p>ä¸‹é¢æ˜¯è¯¥è®¢å•ç³»ç»Ÿçš„ä»£ç ç›®å½•ç»“æ„ï¼š</p><pre><code>$ tree pkg\n$ tree --noreport -L 2 pkg\npkg\nâ”œâ”€â”€ billing\nâ”œâ”€â”€ order\nâ”‚   â””â”€â”€ order.go\nâ””â”€â”€ user\n</code></pre><p>ç›¸è¾ƒäºæŒ‰å±‚æ‹†åˆ†ï¼ŒæŒ‰åŠŸèƒ½æ‹†åˆ†æ¨¡å—å¸¦æ¥çš„å¥½å¤„ä¹Ÿå¾ˆå¥½ç†è§£ï¼š</p><ul>\n<li>ä¸åŒæ¨¡å—ï¼ŒåŠŸèƒ½å•ä¸€ï¼Œå¯ä»¥å®ç°é«˜å†…èšä½è€¦åˆçš„è®¾è®¡å“²å­¦ã€‚</li>\n<li>å› ä¸ºæ‰€æœ‰çš„åŠŸèƒ½åªéœ€è¦å®ç°ä¸€æ¬¡ï¼Œå¼•ç”¨é€»è¾‘æ¸…æ™°ï¼Œä¼šå¤§å¤§å‡å°‘å‡ºç°å¾ªç¯å¼•ç”¨çš„æ¦‚ç‡ã€‚</li>\n</ul><p>æ‰€ä»¥ï¼Œæœ‰å¾ˆå¤šä¼˜ç§€çš„Goé¡¹ç›®é‡‡ç”¨çš„éƒ½æ˜¯æŒ‰åŠŸèƒ½æ‹†åˆ†çš„æ¨¡å—æ‹†åˆ†æ–¹å¼ï¼Œä¾‹å¦‚ Kubernetesã€Dockerã€Helmã€Prometheusç­‰ã€‚</p><p>é™¤äº†ç»„ç»‡åˆç†çš„ä»£ç ç»“æ„è¿™ç§æ–¹å¼å¤–ï¼Œç¼–å†™é«˜è´¨é‡Goåº”ç”¨çš„å¦å¤–ä¸€ä¸ªè¡Œä¹‹æœ‰æ•ˆçš„æ–¹æ³•ï¼Œæ˜¯éµå¾ªGoè¯­è¨€ä»£ç è§„èŒƒæ¥ç¼–å†™ä»£ç ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ä¹Ÿæ˜¯æœ€å®¹æ˜“å‡ºæ•ˆæœçš„æ–¹å¼ã€‚</p><h3>ä»£ç è§„èŒƒ</h3><p>é‚£æˆ‘ä»¬è¦éµå¾ªå“ªäº›ä»£ç è§„èŒƒæ¥ç¼–å†™Goåº”ç”¨å‘¢ï¼Ÿåœ¨æˆ‘çœ‹æ¥ï¼Œå…¶å®å°±ä¸¤ç±»ï¼šç¼–ç è§„èŒƒå’Œæœ€ä½³å®è·µã€‚</p><p><strong>é¦–å…ˆï¼Œæˆ‘ä»¬çš„ä»£ç è¦ç¬¦åˆGoç¼–ç è§„èŒƒï¼Œè¿™æ˜¯æœ€å®¹æ˜“å®ç°çš„é€”å¾„</strong>ã€‚Goç¤¾åŒºæœ‰å¾ˆå¤šè¿™ç±»è§„èŒƒå¯ä¾›å‚è€ƒï¼Œå…¶ä¸­ï¼Œæ¯”è¾ƒå—æ¬¢è¿çš„æ˜¯<a href=\"https://github.com/xxjwxc/uber_go_guide_cn\">Uber Go è¯­è¨€ç¼–ç è§„èŒƒ</a>ã€‚</p><p>é˜…è¯»è¿™äº›è§„èŒƒç¡®å®æœ‰ç”¨ï¼Œä¹Ÿç¡®å®èŠ±æ—¶é—´ã€èŠ±ç²¾åŠ›ã€‚æ‰€ä»¥ï¼Œæˆ‘åœ¨å‚è€ƒäº†å·²æœ‰çš„å¾ˆå¤šè§„èŒƒåï¼Œç»“åˆè‡ªå·±å†™Goä»£ç çš„ç»éªŒï¼Œç‰¹åœ°ä¸ºä½ æ•´ç†äº†ä¸€ç¯‡Goç¼–ç è§„èŒƒä½œä¸ºåŠ é¤ï¼Œä¹Ÿå°±æ˜¯â€œç‰¹åˆ«æ”¾é€ | ç»™ä½ ä¸€ä»½æ¸…æ™°ã€å¯ç›´æ¥å¥—ç”¨çš„Goç¼–ç è§„èŒƒâ€ã€‚</p><p>æœ‰äº†å¯ä»¥å‚è€ƒçš„ç¼–ç è§„èŒƒä¹‹åï¼Œæˆ‘ä»¬éœ€è¦æ‰©å±•åˆ°å›¢é˜Ÿã€éƒ¨é—¨ç”šè‡³å…¬å¸å±‚é¢ã€‚åªæœ‰å¤§å®¶ä¸€èµ·å‚ä¸ã€éµå®ˆï¼Œè§„èŒƒæ‰ä¼šå˜å¾—æœ‰æ„ä¹‰ã€‚å…¶å®ï¼Œæˆ‘ä»¬éƒ½æ¸…æ¥šï¼Œè¦å¼€å‘è€…é è‡ªè§‰æ¥éµå®ˆæ‰€æœ‰çš„ç¼–ç è§„èŒƒï¼Œä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹å„¿ã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é™æ€ä»£ç æ£€æŸ¥å·¥å…·ï¼Œæ¥çº¦æŸå¼€å‘è€…çš„è¡Œä¸ºã€‚</p><p>æœ‰äº†é™æ€ä»£ç æ£€æŸ¥å·¥å…·åï¼Œä¸ä»…å¯ä»¥ç¡®ä¿å¼€å‘è€…å†™å‡ºçš„æ¯ä¸€è¡Œä»£ç éƒ½æ˜¯ç¬¦åˆGoç¼–ç è§„èŒƒçš„ï¼Œè¿˜å¯ä»¥å°†é™æ€ä»£ç æ£€æŸ¥é›†æˆåˆ°CI/CDæµç¨‹ä¸­ã€‚è¿™æ ·ï¼Œåœ¨ä»£ç æäº¤åè‡ªåŠ¨åœ°æ£€æŸ¥ä»£ç ï¼Œå°±ä¿è¯äº†åªæœ‰ç¬¦åˆç¼–ç è§„èŒƒçš„ä»£ç ï¼Œæ‰ä¼šè¢«åˆå…¥ä¸»å¹²ã€‚</p><p>Goè¯­è¨€çš„é™æ€ä»£ç æ£€æŸ¥å·¥å…·æœ‰å¾ˆå¤šï¼Œç›®å‰ç”¨çš„æœ€å¤šçš„æ˜¯<a href=\"https://github.com/golangci/golangci-lint\">golangci-lint</a>ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘æåŠ›æ¨èä½ ä½¿ç”¨çš„ä¸€ä¸ªå·¥å…·ã€‚å…³äºè¿™ä¸ªå·¥å…·çš„ä½¿ç”¨ï¼Œæˆ‘ä¼šåœ¨<strong>ç¬¬15è®²</strong>å’Œä½ è¯¦ç»†ä»‹ç»ã€‚</p><p>é™¤äº†éµå¾ªç¼–ç è§„èŒƒï¼Œ<strong>è¦æƒ³æˆä¸ºGoç¼–ç¨‹é«˜æ‰‹ï¼Œä½ è¿˜å¾—å­¦ä¹ å¹¶éµå¾ªä¸€äº›æœ€ä½³å®è·µ</strong>ã€‚â€œæœ€ä½³å®è·µâ€æ˜¯ç¤¾åŒºç»è¿‡å¤šå¹´æ¢ç´¢æ²‰æ·€ä¸‹æ¥çš„ã€ç¬¦åˆGoè¯­è¨€ç‰¹è‰²çš„ç»éªŒå’Œå…±è¯†ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ å¼€å‘å‡ºä¸€ä¸ªé«˜è´¨é‡çš„ä»£ç ã€‚</p><p>è¿™é‡Œæˆ‘ç»™ä½ æ¨èå‡ ç¯‡ä»‹ç»Goè¯­è¨€æœ€ä½³å®è·µçš„æ–‡ç« ï¼Œä¾›ä½ å‚è€ƒï¼š</p><ul>\n<li><a href=\"https://golang.org/doc/effective_go\">Effective Go</a>ï¼šé«˜æ•ˆGoç¼–ç¨‹ï¼Œç”±Golangå®˜æ–¹ç¼–å†™ï¼Œé‡Œé¢åŒ…å«äº†ç¼–å†™Goä»£ç çš„ä¸€äº›å»ºè®®ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæœ€ä½³å®è·µã€‚</li>\n<li><a href=\"https://github.com/golang/go/wiki/CodeReviewComments\">Go Code Review Comments</a>ï¼šGolangå®˜æ–¹ç¼–å†™çš„Goæœ€ä½³å®è·µï¼Œä½œä¸ºEffective Goçš„è¡¥å……ã€‚</li>\n<li><a href=\"https://rakyll.org/style-packages/\">Style guideline for Go packages</a>ï¼šåŒ…å«äº†å¦‚ä½•ç»„ç»‡GoåŒ…ã€å¦‚ä½•å‘½åGoåŒ…ã€å¦‚ä½•å†™GoåŒ…æ–‡æ¡£çš„ä¸€äº›å»ºè®®ã€‚</li>\n</ul><h3>ä»£ç è´¨é‡</h3><p>æœ‰äº†ç»„ç»‡åˆç†çš„ä»£ç ç»“æ„ã€ç¬¦åˆGoè¯­è¨€ä»£ç è§„èŒƒçš„Goåº”ç”¨ä»£ç ä¹‹åï¼Œæˆ‘ä»¬è¿˜éœ€è¦é€šè¿‡ä¸€äº›æ‰‹æ®µæ¥ç¡®ä¿æˆ‘ä»¬å¼€å‘å‡ºçš„æ˜¯ä¸€ä¸ªé«˜è´¨é‡çš„ä»£ç ï¼Œè¿™å¯ä»¥é€šè¿‡å•å…ƒæµ‹è¯•å’ŒCode Reviewæ¥å®ç°ã€‚</p><p><strong>å•å…ƒæµ‹è¯•éå¸¸é‡è¦ã€‚</strong>æˆ‘ä»¬å¼€å‘å®Œä¸€æ®µä»£ç åï¼Œç¬¬ä¸€ä¸ªæ‰§è¡Œçš„æµ‹è¯•å°±æ˜¯å•å…ƒæµ‹è¯•ã€‚å®ƒå¯ä»¥ä¿è¯æˆ‘ä»¬çš„ä»£ç æ˜¯ç¬¦åˆé¢„æœŸçš„ï¼Œä¸€äº›å¼‚å¸¸å˜åŠ¨èƒ½å¤Ÿè¢«åŠæ—¶æ„ŸçŸ¥åˆ°ã€‚è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œä¸ä»…éœ€è¦ç¼–å†™å•å…ƒæµ‹è¯•ç”¨ä¾‹ï¼Œè¿˜éœ€è¦æˆ‘ä»¬ç¡®ä¿ä»£ç æ˜¯å¯æµ‹è¯•çš„ï¼Œä»¥åŠå…·æœ‰ä¸€ä¸ªé«˜çš„å•å…ƒæµ‹è¯•è¦†ç›–ç‡ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘å°±æ¥ä»‹ç»ä¸‹å¦‚ä½•ç¼–å†™ä¸€ä¸ªå¯æµ‹è¯•çš„ä»£ç ã€‚</p><p>å¦‚æœæˆ‘ä»¬è¦å¯¹å‡½æ•°Aè¿›è¡Œæµ‹è¯•ï¼Œå¹¶ä¸”Aä¸­çš„æ‰€æœ‰ä»£ç å‡èƒ½å¤Ÿåœ¨å•å…ƒæµ‹è¯•ç¯å¢ƒä¸‹æŒ‰é¢„æœŸè¢«æ‰§è¡Œï¼Œé‚£ä¹ˆå‡½æ•°Açš„ä»£ç å—å°±æ˜¯å¯æµ‹è¯•çš„ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹ä¸€èˆ¬çš„å•å…ƒæµ‹è¯•ç¯å¢ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼š</p><ul>\n<li>å¯èƒ½æ— æ³•è¿æ¥æ•°æ®åº“ã€‚</li>\n<li>å¯èƒ½æ— æ³•è®¿é—®ç¬¬ä¸‰æ–¹æœåŠ¡ã€‚</li>\n</ul><p>å¦‚æœå‡½æ•°Aä¾èµ–æ•°æ®åº“è¿æ¥ã€ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œé‚£ä¹ˆåœ¨å•å…ƒæµ‹è¯•ç¯å¢ƒä¸‹æ‰§è¡Œå•å…ƒæµ‹è¯•å°±ä¼šå¤±è´¥ï¼Œå‡½æ•°å°±æ²¡æ³•æµ‹è¯•ï¼Œå‡½æ•°æ˜¯ä¸å¯æµ‹çš„ã€‚</p><p>è§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼šå°†ä¾èµ–çš„æ•°æ®åº“ã€ç¬¬ä¸‰æ–¹æœåŠ¡ç­‰æŠ½è±¡æˆæ¥å£ï¼Œåœ¨è¢«æµ‹ä»£ç ä¸­è°ƒç”¨æ¥å£çš„æ–¹æ³•ï¼Œåœ¨æµ‹è¯•æ—¶ä¼ å…¥mockç±»å‹ï¼Œä»è€Œå°†æ•°æ®åº“ã€ç¬¬ä¸‰æ–¹æœåŠ¡ç­‰ä¾èµ–ä»å…·ä½“çš„è¢«æµ‹å‡½æ•°ä¸­è§£è€¦å‡ºå»ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/0c/97/0cef423ec1a4f06f6f4715bd0b9f4497.png?wh=1500x438\" alt=\"\"></p><p>ä¸ºäº†æé«˜ä»£ç çš„å¯æµ‹æ€§ï¼Œé™ä½å•å…ƒæµ‹è¯•çš„å¤æ‚åº¦ï¼Œå¯¹functionå’Œmockçš„è¦æ±‚æ˜¯ï¼š</p><ul>\n<li>è¦å°½å¯èƒ½å‡å°‘functionä¸­çš„ä¾èµ–ï¼Œè®©functionåªä¾èµ–å¿…è¦çš„æ¨¡å—ã€‚ç¼–å†™ä¸€ä¸ªåŠŸèƒ½å•ä¸€ã€èŒè´£åˆ†æ˜çš„å‡½æ•°ï¼Œä¼šæœ‰åˆ©äºå‡å°‘ä¾èµ–ã€‚</li>\n<li>ä¾èµ–æ¨¡å—åº”è¯¥æ˜¯æ˜“Mockçš„ã€‚</li>\n</ul><p>ä¸ºäº†ååŠ©ä½ ç†è§£ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€æ®µä¸å¯æµ‹è¯•çš„ä»£ç ï¼š</p><pre><code>package post\n\nimport &quot;google.golang.org/grpc&quot;\n\ntype Post struct {\n\tName    string\n\tAddress string\n}\n\nfunc ListPosts(client *grpc.ClientConn) ([]*Post, error) {\n\treturn client.ListPosts()\n}\n</code></pre><p>è¿™æ®µä»£ç ä¸­çš„ListPostså‡½æ•°æ˜¯ä¸å¯æµ‹è¯•çš„ã€‚å› ä¸ºListPostså‡½æ•°ä¸­è°ƒç”¨äº†<code>client.ListPosts()</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¾èµ–äºä¸€ä¸ªgRPCè¿æ¥ã€‚è€Œæˆ‘ä»¬åœ¨åšå•å…ƒæµ‹è¯•æ—¶ï¼Œå¯èƒ½å› ä¸ºæ²¡æœ‰é…ç½®gRPCæœåŠ¡çš„åœ°å€ã€ç½‘ç»œéš”ç¦»ç­‰åŸå› ï¼Œå¯¼è‡´æ²¡æ³•å»ºç«‹gRPCè¿æ¥ï¼Œä»è€Œå¯¼è‡´ListPostså‡½æ•°æ‰§è¡Œå¤±è´¥ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬æŠŠè¿™æ®µä»£ç æ”¹æˆå¯æµ‹è¯•çš„ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>package main\n\ntype Post struct {\n\tName    string\n\tAddress string\n}\n\ntype Service interface {\n\tListPosts() ([]*Post, error)\n}\n\nfunc ListPosts(svc Service) ([]*Post, error) {\n\treturn svc.ListPosts()\n}\n</code></pre><p>ä¸Šé¢ä»£ç ä¸­ï¼ŒListPostså‡½æ•°å…¥å‚ä¸ºServiceæ¥å£ç±»å‹ï¼Œåªè¦æˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªå®ç°äº†Serviceæ¥å£ç±»å‹çš„å®ä¾‹ï¼ŒListPostså‡½æ•°å³å¯æˆåŠŸè¿è¡Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å•å…ƒæµ‹è¯•ä¸­å¯ä»¥å®ç°ä¸€ä¸ªä¸ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹æœåŠ¡çš„fakeå®ä¾‹ï¼Œå¹¶ä¼ ç»™ListPostsã€‚ä¸Šè¿°å¯æµ‹ä»£ç çš„å•å…ƒæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>package main\n\nimport &quot;testing&quot;\n\ntype fakeService struct {\n}\n\nfunc NewFakeService() Service {\n\treturn &amp;fakeService{}\n}\n\nfunc (s *fakeService) ListPosts() ([]*Post, error) {\n\tposts := make([]*Post, 0)\n\tposts = append(posts, &amp;Post{\n\t\tName:    &quot;colin&quot;,\n\t\tAddress: &quot;Shenzhen&quot;,\n\t})\n\tposts = append(posts, &amp;Post{\n\t\tName:    &quot;alex&quot;,\n\t\tAddress: &quot;Beijing&quot;,\n\t})\n\treturn posts, nil\n}\n\nfunc TestListPosts(t *testing.T) {\n\tfake := NewFakeService()\n\tif _, err := ListPosts(fake); err != nil {\n\t\tt.Fatal(&quot;list posts failed&quot;)\n\t}\n}\n</code></pre><p>å½“æˆ‘ä»¬çš„ä»£ç å¯æµ‹ä¹‹åï¼Œå°±å¯ä»¥å€ŸåŠ©ä¸€äº›å·¥å…·æ¥Mockéœ€è¦çš„æ¥å£äº†ã€‚å¸¸ç”¨çš„Mockå·¥å…·ï¼Œæœ‰è¿™ä¹ˆå‡ ä¸ªï¼š</p><ul>\n<li><a href=\"https://github.com/golang/mock\">golang/mock</a>ï¼Œæ˜¯å®˜æ–¹æä¾›çš„Mockæ¡†æ¶ã€‚å®ƒå®ç°äº†åŸºäºinterfaceçš„MockåŠŸèƒ½ï¼Œèƒ½å¤Ÿä¸Golangå†…ç½®çš„testingåŒ…åšå¾ˆå¥½çš„é›†æˆï¼Œæ˜¯æœ€å¸¸ç”¨çš„Mockå·¥å…·ã€‚golang/mockæä¾›äº†mockgenå·¥å…·ç”¨æ¥ç”Ÿæˆinterfaceå¯¹åº”çš„Mockæºæ–‡ä»¶ã€‚</li>\n<li><a href=\"https://github.com/DATA-DOG/go-sqlmock\">sqlmock</a>ï¼Œå¯ä»¥ç”¨æ¥æ¨¡æ‹Ÿæ•°æ®åº“è¿æ¥ã€‚æ•°æ®åº“æ˜¯é¡¹ç›®ä¸­æ¯”è¾ƒå¸¸è§çš„ä¾èµ–ï¼Œåœ¨é‡åˆ°æ•°æ®åº“ä¾èµ–æ—¶éƒ½å¯ä»¥ç”¨å®ƒã€‚</li>\n<li><a href=\"https://github.com/jarcoal/httpmock\">httpmock</a>ï¼Œå¯ä»¥ç”¨æ¥Mock HTTPè¯·æ±‚ã€‚</li>\n<li><a href=\"https://github.com/bouk/monkey\">bouk/monkey</a>ï¼ŒçŒ´å­è¡¥ä¸ï¼Œèƒ½å¤Ÿé€šè¿‡æ›¿æ¢å‡½æ•°æŒ‡é’ˆçš„æ–¹å¼æ¥ä¿®æ”¹ä»»æ„å‡½æ•°çš„å®ç°ã€‚å¦‚æœgolang/mockã€sqlmockå’Œhttpmockè¿™å‡ ç§æ–¹æ³•éƒ½ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•é€šè¿‡çŒ´å­è¡¥ä¸çš„æ–¹å¼æ¥Mockä¾èµ–ã€‚å¯ä»¥è¿™ä¹ˆè¯´ï¼ŒçŒ´å­è¡¥ä¸æä¾›äº†å•å…ƒæµ‹è¯• Mock ä¾èµ–çš„æœ€ç»ˆè§£å†³æ–¹æ¡ˆã€‚</li>\n</ul><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†ä¸€èµ·çœ‹çœ‹<strong>å¦‚ä½•æé«˜æˆ‘ä»¬çš„å•å…ƒæµ‹è¯•è¦†ç›–ç‡</strong>ã€‚</p><p>å½“æˆ‘ä»¬ç¼–å†™äº†å¯æµ‹è¯•çš„ä»£ç ä¹‹åï¼Œæ¥ä¸‹æ¥å°±éœ€è¦ç¼–å†™è¶³å¤Ÿçš„æµ‹è¯•ç”¨ä¾‹ï¼Œç”¨æ¥æé«˜é¡¹ç›®çš„å•å…ƒæµ‹è¯•è¦†ç›–ç‡ã€‚è¿™é‡Œæˆ‘æœ‰ä»¥ä¸‹ä¸¤ä¸ªå»ºè®®ä¾›ä½ å‚è€ƒï¼š</p><ul>\n<li>ä½¿ç”¨gotestså·¥å…·è‡ªåŠ¨ç”Ÿæˆå•å…ƒæµ‹è¯•ä»£ç ï¼Œå‡å°‘ç¼–å†™å•å…ƒæµ‹è¯•ç”¨ä¾‹çš„å·¥ä½œé‡ï¼Œå°†ä½ ä»é‡å¤çš„åŠ³åŠ¨ä¸­è§£æ”¾å‡ºæ¥ã€‚</li>\n<li>å®šæœŸæ£€æŸ¥å•å…ƒæµ‹è¯•è¦†ç›–ç‡ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥æ£€æŸ¥ï¼š</li>\n</ul><pre><code>$ go test -race -cover  -coverprofile=./coverage.out -timeout=10m -short -v ./...\n$ go tool cover -func ./coverage.out\n</code></pre><p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/d2/89/d2fae0aca602c7c33466411e39c49489.png?wh=2162x412\" alt=\"\"></p><p>åœ¨æé«˜é¡¹ç›®çš„å•å…ƒæµ‹è¯•è¦†ç›–ç‡æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæé«˜å•å…ƒæµ‹è¯•è¦†ç›–ç‡ä½çš„å‡½æ•°ï¼Œä¹‹åå†æ£€æŸ¥é¡¹ç›®çš„å•å…ƒæµ‹è¯•è¦†ç›–ç‡ï¼›å¦‚æœé¡¹ç›®çš„å•å…ƒæµ‹è¯•è¦†ç›–ç‡ä»ç„¶ä½äºæœŸæœ›çš„å€¼ï¼Œå¯ä»¥å†æ¬¡æé«˜å•å…ƒæµ‹è¯•è¦†ç›–ç‡ä½çš„å‡½æ•°çš„è¦†ç›–ç‡ï¼Œç„¶åå†æ£€æŸ¥ã€‚ä»¥æ­¤å¾ªç¯ï¼Œæœ€ç»ˆå°†é¡¹ç›®çš„å•å…ƒæµ‹è¯•è¦†ç›–ç‡ä¼˜åŒ–åˆ°é¢„æœŸçš„å€¼ä¸ºæ­¢ã€‚</p><p>è¿™é‡Œè¦æ³¨æ„ï¼Œå¯¹äºä¸€äº›å¯èƒ½ç»å¸¸ä¼šå˜åŠ¨çš„å‡½æ•°å•å…ƒæµ‹è¯•ï¼Œè¦†ç›–ç‡è¦è¾¾åˆ°100%ã€‚</p><p>è¯´å®Œäº†å•å…ƒæµ‹è¯•ï¼Œæˆ‘ä»¬å†çœ‹çœ‹<strong>å¦‚ä½•é€šè¿‡Code Reviewæ¥ä¿è¯ä»£ç è´¨é‡ã€‚</strong></p><p>Code Reviewå¯ä»¥æé«˜ä»£ç è´¨é‡ã€äº¤å‰æ’æŸ¥ç¼ºé™·ï¼Œå¹¶ä¸”ä¿ƒè¿›å›¢é˜Ÿå†…çŸ¥è¯†å…±äº«ï¼Œæ˜¯ä¿éšœä»£ç è´¨é‡éå¸¸æœ‰æ•ˆçš„æ‰‹æ®µã€‚åœ¨æˆ‘ä»¬çš„é¡¹ç›®å¼€å‘ä¸­ï¼Œä¸€å®šè¦å»ºç«‹ä¸€å¥—æŒä¹…å¯è¡Œçš„Code Reviewæœºåˆ¶ã€‚</p><p>ä½†åœ¨æˆ‘çš„ç ”å‘ç”Ÿæ¶¯ä¸­ï¼Œå‘ç°å¾ˆå¤šå›¢é˜Ÿæ²¡æœ‰å»ºç«‹æœ‰æ•ˆçš„Code Reviewæœºåˆ¶ã€‚è¿™äº›å›¢é˜Ÿéƒ½è®¤å¯Code Reviewæœºåˆ¶å¸¦æ¥çš„å¥½å¤„ï¼Œä½†æ˜¯å› ä¸ºæµç¨‹éš¾ä»¥éµå®ˆï¼Œæ…¢æ…¢åœ°Code Reviewå°±å˜æˆäº†å½¢å¼ä¸»ä¹‰ï¼Œæœ€ç»ˆä¸äº†äº†ä¹‹ã€‚å…¶å®ï¼Œå»ºç«‹Code Reviewæœºåˆ¶å¾ˆç®€å•ï¼Œä¸»è¦æœ‰3ç‚¹ï¼š</p><ul>\n<li>é¦–å…ˆï¼Œç¡®ä¿æˆ‘ä»¬ä½¿ç”¨çš„ä»£ç æ‰˜ç®¡å¹³å°æœ‰Code Reviewçš„åŠŸèƒ½ã€‚æ¯”å¦‚ï¼ŒGitHubã€GitLabè¿™ç±»ä»£ç æ‰˜ç®¡å¹³å°éƒ½å…·å¤‡è¿™ç§èƒ½åŠ›ã€‚</li>\n<li>æ¥ç€ï¼Œå»ºç«‹ä¸€å¥—Code Reviewè§„èŒƒï¼Œè§„å®šå¦‚ä½•è¿›è¡ŒCode Reviewã€‚</li>\n<li>æœ€åï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„ï¼Œæ¯æ¬¡ä»£ç å˜æ›´ï¼Œç›¸å…³å¼€å‘äººå‘˜éƒ½è¦å»è½å®Code Reviewæœºåˆ¶ï¼Œå¹¶å½¢æˆä¹ æƒ¯ï¼Œç›´åˆ°æœ€åå½¢æˆå›¢é˜Ÿæ–‡åŒ–ã€‚</li>\n</ul><p><strong>åˆ°è¿™é‡Œæˆ‘ä»¬å¯ä»¥å°ç»“ä¸€ä¸‹ï¼šç»„ç»‡ä¸€ä¸ªåˆç†çš„ä»£ç ç»“æ„ã€ç¼–å†™ç¬¦åˆGoä»£ç è§„èŒƒçš„ä»£ç ã€ä¿è¯ä»£ç è´¨é‡ï¼Œåœ¨æˆ‘çœ‹æ¥éƒ½æ˜¯ç¼–å†™é«˜è´¨é‡Goä»£ç çš„å¤–åŠŸã€‚é‚£å†…åŠŸæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå°±æ˜¯ç¼–ç¨‹å“²å­¦å’Œè½¯ä»¶è®¾è®¡æ–¹æ³•ã€‚</strong></p><h3>ç¼–ç¨‹å“²å­¦</h3><p>é‚£ç¼–ç¨‹å“²å­¦æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿåœ¨æˆ‘çœ‹æ¥ï¼Œç¼–ç¨‹å“²å­¦ï¼Œå…¶å®å°±æ˜¯è¦ç¼–å†™ç¬¦åˆGoè¯­è¨€è®¾è®¡å“²å­¦çš„ä»£ç ã€‚Goè¯­è¨€æœ‰å¾ˆå¤šè®¾è®¡å“²å­¦ï¼Œå¯¹ä»£ç è´¨é‡å½±å“æ¯”è¾ƒå¤§çš„ï¼Œæˆ‘è®¤ä¸ºæœ‰ä¸¤ä¸ªï¼šé¢å‘æ¥å£ç¼–ç¨‹å’Œé¢å‘â€œå¯¹è±¡â€ç¼–ç¨‹ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹é¢å‘æ¥å£ç¼–ç¨‹ã€‚</p><p>Go æ¥å£æ˜¯ä¸€ç»„æ–¹æ³•çš„é›†åˆã€‚ä»»ä½•ç±»å‹ï¼Œåªè¦å®ç°äº†è¯¥æ¥å£ä¸­çš„æ–¹æ³•é›†ï¼Œé‚£ä¹ˆå°±å±äºè¿™ä¸ªç±»å‹ï¼Œä¹Ÿç§°ä¸ºå®ç°äº†è¯¥æ¥å£ã€‚</p><p>æ¥å£çš„ä½œç”¨ï¼Œå…¶å®å°±æ˜¯ä¸ºä¸åŒå±‚çº§çš„æ¨¡å—æä¾›ä¸€ä¸ªå®šä¹‰å¥½çš„ä¸­é—´å±‚ã€‚è¿™æ ·ï¼Œä¸Šæ¸¸ä¸å†éœ€è¦ä¾èµ–ä¸‹æ¸¸çš„å…·ä½“å®ç°ï¼Œå……åˆ†åœ°å¯¹ä¸Šä¸‹æ¸¸è¿›è¡Œäº†è§£è€¦ã€‚å¾ˆå¤šæµè¡Œçš„Goè®¾è®¡æ¨¡å¼ï¼Œå°±æ˜¯é€šè¿‡é¢å‘æ¥å£ç¼–ç¨‹çš„æ€æƒ³æ¥å®ç°çš„ã€‚</p><p>æˆ‘ä»¬çœ‹ä¸€ä¸ªé¢å‘æ¥å£ç¼–ç¨‹çš„ä¾‹å­ã€‚ä¸‹é¢è¿™æ®µä»£ç å®šä¹‰äº†ä¸€ä¸ª<code>Bird</code>æ¥å£ï¼ŒCanaryå’ŒCrowç±»å‹å‡å®ç°äº†<code>Bird</code>æ¥å£ã€‚</p><pre><code>package main\n\nimport &quot;fmt&quot;\n\n// å®šä¹‰äº†ä¸€ä¸ªé¸Ÿç±»\ntype Bird interface {\n\tFly()\n\tType() string\n}\n\n// é¸Ÿç±»ï¼šé‡‘ä¸é›€\ntype Canary struct {\n\tName string\n}\n\nfunc (c *Canary) Fly() {\n\tfmt.Printf(&quot;æˆ‘æ˜¯%sï¼Œç”¨é»„è‰²çš„ç¿…è†€é£\\n&quot;, c.Name)\n}\nfunc (c *Canary) Type() string {\n\treturn c.Name\n}\n\n// é¸Ÿç±»ï¼šä¹Œé¸¦\ntype Crow struct {\n\tName string\n}\n\nfunc (c *Crow) Fly() {\n\tfmt.Printf(&quot;æˆ‘æ˜¯%sï¼Œæˆ‘ç”¨é»‘è‰²çš„ç¿…è†€é£\\n&quot;, c.Name)\n}\n\nfunc (c *Crow) Type() string {\n\treturn c.Name\n}\n\n// è®©é¸Ÿç±»é£ä¸€ä¸‹\nfunc LetItFly(bird Bird) {\n\tfmt.Printf(&quot;Let %s Fly!\\n&quot;, bird.Type())\n\tbird.Fly()\n}\n\nfunc main() {\n\tLetItFly(&amp;Canary{&quot;é‡‘ä¸é›€&quot;})\n\tLetItFly(&amp;Crow{&quot;ä¹Œé¸¦&quot;})\n}\n</code></pre><p>è¿™æ®µä»£ç ä¸­ï¼Œå› ä¸ºCrowå’ŒCanaryéƒ½å®ç°äº†Birdæ¥å£å£°æ˜çš„Flyã€Typeæ–¹æ³•ï¼Œæ‰€ä»¥å¯ä»¥è¯´Crowã€Canaryå®ç°äº†Birdæ¥å£ï¼Œå±äºBirdç±»å‹ã€‚åœ¨å‡½æ•°è°ƒç”¨æ—¶ï¼Œå¯ä»¥ä¼ å…¥Birdç±»å‹ï¼Œå¹¶åœ¨å‡½æ•°å†…éƒ¨è°ƒç”¨Birdæ¥å£æä¾›çš„æ–¹æ³•ï¼Œä»¥æ­¤æ¥è§£è€¦Birdçš„å…·ä½“å®ç°ã€‚</p><p>å¥½äº†ï¼Œæˆ‘ä»¬æ€»ç»“ä¸‹ä½¿ç”¨æ¥å£çš„å¥½å¤„å§ï¼š</p><ul>\n<li>ä»£ç æ‰©å±•æ€§æ›´å¼ºäº†ã€‚ä¾‹å¦‚ï¼ŒåŒæ ·çš„Birdï¼Œå¯ä»¥æœ‰ä¸åŒçš„å®ç°ã€‚åœ¨å¼€å‘ä¸­ç”¨çš„æ›´å¤šçš„æ˜¯ï¼Œå°†æ•°æ®åº“çš„CURDæ“ä½œæŠ½è±¡æˆæ¥å£ï¼Œä»è€Œå¯ä»¥å®ç°åŒä¸€ä»½ä»£ç å¯¹æ¥ä¸åŒæ•°æ®åº“çš„ç›®çš„ã€‚</li>\n<li>å¯ä»¥è§£è€¦ä¸Šä¸‹æ¸¸çš„å®ç°ã€‚ä¾‹å¦‚ï¼ŒLetItFlyä¸ç”¨å…³æ³¨Birdæ˜¯å¦‚ä½•Flyçš„ï¼Œåªéœ€è¦è°ƒç”¨Birdæä¾›çš„æ–¹æ³•å³å¯ã€‚</li>\n<li>æé«˜äº†ä»£ç çš„å¯æµ‹æ€§ã€‚å› ä¸ºæ¥å£å¯ä»¥è§£è€¦ä¸Šä¸‹æ¸¸å®ç°ï¼Œæˆ‘ä»¬åœ¨å•å…ƒæµ‹è¯•éœ€è¦ä¾èµ–ç¬¬ä¸‰æ–¹ç³»ç»Ÿ/æ•°æ®åº“çš„ä»£ç æ—¶ï¼Œå¯ä»¥åˆ©ç”¨æ¥å£å°†å…·ä½“å®ç°è§£è€¦ï¼Œå®ç°fakeç±»å‹ã€‚</li>\n<li>ä»£ç æ›´å¥å£®ã€æ›´ç¨³å®šäº†ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦æ›´æ”¹Flyçš„æ–¹å¼ï¼Œåªéœ€è¦æ›´æ”¹ç›¸å…³ç±»å‹çš„Flyæ–¹æ³•å³å¯ï¼Œå®Œå…¨å½±å“ä¸åˆ°LetItFlyå‡½æ•°ã€‚</li>\n</ul><p>æ‰€ä»¥ï¼Œæˆ‘å»ºè®®ä½ ï¼Œåœ¨Goé¡¹ç›®å¼€å‘ä¸­ï¼Œä¸€å®šè¦å¤šæ€è€ƒï¼Œé‚£äº›å¯èƒ½æœ‰å¤šç§å®ç°çš„åœ°æ–¹ï¼Œè¦è€ƒè™‘ä½¿ç”¨æ¥å£ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹é¢å‘â€œå¯¹è±¡â€ç¼–ç¨‹ã€‚</p><p>é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼Œä¾‹å¦‚å¯ä»¥ä½¿æˆ‘ä»¬çš„ä»£ç å˜å¾—æ˜“ç»´æŠ¤ã€æ˜“æ‰©å±•ï¼Œå¹¶èƒ½æé«˜å¼€å‘æ•ˆç‡ç­‰ï¼Œæ‰€ä»¥ä¸€ä¸ªé«˜è´¨é‡çš„Goåº”ç”¨åœ¨éœ€è¦æ—¶ï¼Œä¹Ÿåº”è¯¥é‡‡ç”¨é¢å‘å¯¹è±¡çš„æ–¹æ³•å»ç¼–ç¨‹ã€‚é‚£ä»€ä¹ˆå«â€œåœ¨éœ€è¦æ—¶â€å‘¢ï¼Ÿå°±æ˜¯æˆ‘ä»¬åœ¨å¼€å‘ä»£ç æ—¶ï¼Œå¦‚æœä¸€ä¸ªåŠŸèƒ½å¯ä»¥é€šè¿‡æ¥è¿‘äºæ—¥å¸¸ç”Ÿæ´»å’Œè‡ªç„¶çš„æ€è€ƒæ–¹å¼æ¥å®ç°ï¼Œè¿™æ—¶å€™å°±åº”è¯¥è€ƒè™‘ä½¿ç”¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ–¹æ³•ã€‚</p><p>Goè¯­è¨€ä¸æ”¯æŒé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä½†æ˜¯å´å¯ä»¥é€šè¿‡ä¸€äº›è¯­è¨€çº§çš„ç‰¹æ€§æ¥å®ç°ç±»ä¼¼çš„æ•ˆæœã€‚</p><p>é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œæœ‰å‡ ä¸ªæ ¸å¿ƒç‰¹æ€§ï¼šç±»ã€å®ä¾‹ã€æŠ½è±¡ï¼Œå°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€æ„é€ å‡½æ•°ã€ææ„å‡½æ•°ã€æ–¹æ³•é‡è½½ã€thisæŒ‡é’ˆã€‚åœ¨Goä¸­å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ä¸ªæ–¹å¼æ¥å®ç°ç±»ä¼¼çš„æ•ˆæœï¼š</p><ul>\n<li>ç±»ã€æŠ½è±¡ã€å°è£…é€šè¿‡ç»“æ„ä½“æ¥å®ç°ã€‚</li>\n<li>å®ä¾‹é€šè¿‡ç»“æ„ä½“å˜é‡æ¥å®ç°ã€‚</li>\n<li>ç»§æ‰¿é€šè¿‡ç»„åˆæ¥å®ç°ã€‚è¿™é‡Œè§£é‡Šä¸‹ä»€ä¹ˆå«ç»„åˆï¼šä¸€ä¸ªç»“æ„ä½“åµŒåˆ°å¦ä¸€ä¸ªç»“æ„ä½“ï¼Œç§°ä½œç»„åˆã€‚ä¾‹å¦‚ä¸€ä¸ªç»“æ„ä½“åŒ…å«äº†ä¸€ä¸ªåŒ¿åç»“æ„ä½“ï¼Œå°±è¯´è¿™ä¸ªç»“æ„ä½“ç»„åˆäº†è¯¥åŒ¿åç»“æ„ä½“ã€‚</li>\n<li>å¤šæ€é€šè¿‡æ¥å£æ¥å®ç°ã€‚</li>\n</ul><p>è‡³äºæ„é€ å‡½æ•°ã€ææ„å‡½æ•°ã€æ–¹æ³•é‡è½½å’ŒthisæŒ‡é’ˆç­‰ï¼ŒGoä¸ºäº†ä¿æŒè¯­è¨€çš„ç®€æ´æ€§å»æ‰äº†è¿™äº›ç‰¹æ€§ã€‚</p><p>Goä¸­é¢å‘å¯¹è±¡ç¼–ç¨‹æ–¹æ³•ï¼Œè§ä¸‹å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/27/b8/27c84757b1f4626e84535d994ca70eb8.png?wh=1872x606\" alt=\"\"></p><p>æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç¤ºä¾‹ï¼Œæ¥å…·ä½“çœ‹ä¸‹Goæ˜¯å¦‚ä½•å®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„ç±»ã€æŠ½è±¡ã€å°è£…ã€ç»§æ‰¿å’Œå¤šæ€çš„ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>package main\n\nimport &quot;fmt&quot;\n\n// åŸºç±»ï¼šBird\ntype Bird struct {\n\tType string\n}\n\n// é¸Ÿçš„ç±»åˆ«\nfunc (bird *Bird) Class() string {\n\treturn bird.Type\n}\n\n// å®šä¹‰äº†ä¸€ä¸ªé¸Ÿç±»\ntype Birds interface {\n\tName() string\n\tClass() string\n}\n\n// é¸Ÿç±»ï¼šé‡‘ä¸é›€\ntype Canary struct {\n\tBird\n\tname string\n}\n\nfunc (c *Canary) Name() string {\n\treturn c.name\n}\n\n// é¸Ÿç±»ï¼šä¹Œé¸¦\ntype Crow struct {\n\tBird\n\tname string\n}\n\nfunc (c *Crow) Name() string {\n\treturn c.name\n}\n\nfunc NewCrow(name string) *Crow {\n\treturn &amp;Crow{\n\t\tBird: Bird{\n\t\t\tType: &quot;Crow&quot;,\n\t\t},\n\t\tname: name,\n\t}\n}\n\nfunc NewCanary(name string) *Canary {\n\treturn &amp;Canary{\n\t\tBird: Bird{\n\t\t\tType: &quot;Canary&quot;,\n\t\t},\n\t\tname: name,\n\t}\n}\n\nfunc BirdInfo(birds Birds) {\n\tfmt.Printf(&quot;I'm %s, I belong to %s bird class!\\n&quot;, birds.Name(), birds.Class())\n}\n\nfunc main() {\n    canary := NewCanary(&quot;CanaryA&quot;)\n    crow := NewCrow(&quot;CrowA&quot;)\n\tBirdInfo(canary)\n\tBirdInfo(crow)\n}\n</code></pre><p>å°†ä¸Šè¿°ä»£ç ä¿å­˜åœ¨oop.goæ–‡ä»¶ä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹ä»£ç è¾“å‡ºå¦‚ä¸‹ï¼š</p><pre><code>$ go run oop.go\nI'm CanaryA, I belong to Canary bird class!\nI'm CrowA, I belong to Crow bird class!\n</code></pre><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œåˆ†åˆ«é€šè¿‡Canaryå’ŒCrowç»“æ„ä½“å®šä¹‰äº†é‡‘ä¸é›€å’Œä¹Œé¸¦ä¸¤ç§ç±»åˆ«çš„é¸Ÿï¼Œå…¶ä¸­åˆ†åˆ«å°è£…äº†nameå±æ€§å’ŒNameæ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´é€šè¿‡ç»“æ„ä½“å®ç°äº†ç±»ï¼Œè¯¥ç±»æŠ½è±¡äº†é¸Ÿç±»ï¼Œå¹¶å°è£…äº†è¯¥é¸Ÿç±»çš„å±æ€§å’Œæ–¹æ³•ã€‚</p><p>åœ¨Canaryå’ŒCrowç»“æ„ä½“ä¸­ï¼Œéƒ½æœ‰ä¸€ä¸ªBirdåŒ¿åå­—æ®µï¼ŒBirdå­—æ®µä¸ºCanaryå’ŒCrowç±»çš„çˆ¶ç±»ï¼ŒCanaryå’ŒCrowç»§æ‰¿äº†Birdç±»çš„Classå±æ€§å’Œæ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´é€šè¿‡åŒ¿åå­—æ®µå®ç°äº†ç»§æ‰¿ã€‚</p><p>åœ¨mainå‡½æ•°ä¸­ï¼Œé€šè¿‡NewCanaryåˆ›å»ºäº†Canaryé¸Ÿç±»å®ä¾‹ï¼Œå¹¶å°†å…¶ä¼ ç»™BirdInfoå‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´é€šè¿‡ç»“æ„ä½“å˜é‡å®ç°å®ä¾‹ã€‚</p><p>åœ¨BirdInfoå‡½æ•°ä¸­ï¼Œå°†Birdsæ¥å£ç±»å‹ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œå¹¶åœ¨å‡½æ•°ä¸­è°ƒç”¨äº†birds.Nameï¼Œbirds.Classæ–¹æ³•ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•ä¼šæ ¹æ®birdsç±»åˆ«çš„ä¸åŒè€Œè¿”å›ä¸åŒçš„åå­—å’Œç±»åˆ«ï¼Œä¹Ÿå°±æ˜¯è¯´é€šè¿‡æ¥å£å®ç°äº†å¤šæ€ã€‚</p><h3>è½¯ä»¶è®¾è®¡æ–¹æ³•</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç»§ç»­å­¦ä¹ ç¼–å†™é«˜è´¨é‡Goä»£ç çš„ç¬¬äºŒé¡¹å†…åŠŸï¼Œä¹Ÿå°±æ˜¯è®©ç¼–å†™çš„ä»£ç éµå¾ªä¸€äº›ä¸šç•Œæ²‰æ·€ä¸‹æ¥çš„ï¼Œä¼˜ç§€çš„è½¯ä»¶è®¾è®¡æ–¹æ³•ã€‚</p><p>ä¼˜ç§€çš„è½¯ä»¶è®¾è®¡æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå…¶ä¸­æœ‰ä¸¤ç±»æ–¹æ³•å¯¹æˆ‘ä»¬ä»£ç è´¨é‡çš„æå‡ç‰¹åˆ«æœ‰å¸®åŠ©ï¼Œåˆ†åˆ«æ˜¯è®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰å’ŒSOLIDåŸåˆ™ã€‚</p><p>åœ¨æˆ‘çœ‹æ¥ï¼Œè®¾è®¡æ¨¡å¼å¯ä»¥ç†è§£ä¸ºä¸šç•Œé’ˆå¯¹ä¸€äº›ç‰¹å®šçš„åœºæ™¯æ€»ç»“å‡ºæ¥çš„æœ€ä½³å®ç°æ–¹å¼ã€‚å®ƒçš„ç‰¹ç‚¹æ˜¯è§£å†³çš„åœºæ™¯æ¯”è¾ƒå…·ä½“ï¼Œå®æ–½èµ·æ¥ä¼šæ¯”è¾ƒç®€å•ï¼›è€ŒSOLIDåŸåˆ™æ›´ä¾§é‡è®¾è®¡åŸåˆ™ï¼Œéœ€è¦æˆ‘ä»¬å½»åº•ç†è§£ï¼Œå¹¶åœ¨ç¼–å†™ä»£ç æ—¶å¤šæ€è€ƒå’Œè½åœ°ã€‚</p><p>å…³äºè®¾è®¡æ¨¡å¼å’ŒSOLIDåŸåˆ™ï¼Œæˆ‘æ˜¯è¿™ä¹ˆå®‰æ’çš„ï¼šåœ¨<strong>ç¬¬11è®²</strong>ï¼Œæˆ‘ä¼šå¸¦ä½ å­¦ä¹ Goé¡¹ç›®å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼›è‡³äºSOLIDåŸåˆ™ï¼Œç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šé«˜è´¨é‡çš„æ–‡ç« äº†ï¼Œæ‰€ä»¥æˆ‘ä¼šç®€å•å‘Šè¯‰ä½ è¿™ä¸ªåŸåˆ™æ˜¯å•¥ï¼Œç„¶åç»™ä½ æ¨èä¸€ç¯‡ä»‹ç»æ–‡ç« ã€‚</p><p>æˆ‘ä»¬å…ˆäº†è§£ä¸‹æœ‰å“ªäº›è®¾è®¡æ¨¡å¼ã€‚</p><p>åœ¨è½¯ä»¶é¢†åŸŸï¼Œæ²‰æ·€äº†ä¸€äº›æ¯”è¾ƒä¼˜ç§€çš„è®¾è®¡æ¨¡å¼ï¼Œå…¶ä¸­æœ€å—æ¬¢è¿çš„æ˜¯GOFè®¾è®¡æ¨¡å¼ã€‚GOFè®¾è®¡æ¨¡å¼ä¸­åŒ…å«äº†3å¤§ç±»ï¼ˆåˆ›å»ºå‹æ¨¡å¼ã€ç»“æ„å‹æ¨¡å¼ã€è¡Œä¸ºå‹æ¨¡å¼ï¼‰ï¼Œå…±25ç§ç»å…¸çš„ã€å¯ä»¥è§£å†³å¸¸è§è½¯ä»¶è®¾è®¡é—®é¢˜çš„è®¾è®¡æ–¹æ¡ˆã€‚è¿™25ç§è®¾è®¡æ–¹æ¡ˆåŒæ ·ä¹Ÿé€‚ç”¨äºGoè¯­è¨€å¼€å‘çš„é¡¹ç›®ã€‚</p><p>è¿™é‡Œï¼Œæˆ‘å°†è¿™25ç§è®¾è®¡æ¨¡å¼æ€»ç»“æˆäº†ä¸€å¼ å›¾ï¼Œä½ å¯ä»¥å…ˆçœ‹çœ‹ï¼Œæœ‰ä¸ªå¤§æ¦‚çš„å°è±¡ï¼Œå¯¹äºä¸€äº›åœ¨Goé¡¹ç›®å¼€å‘ä¸­å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œæˆ‘ä¼šåœ¨<strong>ç¬¬11è®²</strong>è¯¦ç»†ä»‹ç»ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/14/9c/1440f4bbcda682c8f5e7a599c8c51f9c.png?wh=2963x1613\" alt=\"\"></p><p><strong>å¦‚æœè¯´è®¾è®¡æ¨¡å¼è§£å†³çš„æ˜¯å…·ä½“çš„åœºæ™¯ï¼Œé‚£ä¹ˆSOLIDåŸåˆ™å°±æ˜¯æˆ‘ä»¬è®¾è®¡åº”ç”¨ä»£ç æ—¶çš„æŒ‡å¯¼æ–¹é’ˆã€‚</strong></p><p>SOLIDåŸåˆ™ï¼Œæ˜¯ç”±ç½—ä¼¯ç‰¹Â·CÂ·é©¬ä¸åœ¨21ä¸–çºªæ—©æœŸå¼•å…¥çš„ï¼ŒåŒ…æ‹¬äº†é¢å‘å¯¹è±¡ç¼–ç¨‹å’Œé¢å‘å¯¹è±¡è®¾è®¡çš„äº”ä¸ªåŸºæœ¬åŸåˆ™ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/19/3b/19b697bbbe31450d6cc8f222491d3e3b.png?wh=1462x879\" alt=\"\"></p><p>éµå¾ªSOLIDåŸåˆ™å¯ä»¥ç¡®ä¿æˆ‘ä»¬è®¾è®¡çš„ä»£ç æ˜¯æ˜“ç»´æŠ¤ã€æ˜“æ‰©å±•ã€æ˜“é˜…è¯»çš„ã€‚SOLIDåŸåˆ™åŒæ ·ä¹Ÿé€‚ç”¨äºGoç¨‹åºè®¾è®¡ã€‚</p><p>å¦‚æœä½ éœ€è¦æ›´è¯¦ç»†åœ°äº†è§£SOLIDåŸåˆ™ï¼Œå¯ä»¥å‚è€ƒä¸‹<a href=\"https://github.com/marmotedu/geekbang-go/blob/master/SOLID%E5%8E%9F%E5%88%99%E4%BB%8B%E7%BB%8D.md\">SOLIDåŸåˆ™ä»‹ç»</a>è¿™ç¯‡æ–‡ç« ã€‚</p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å­¦å®Œäº†â€œç¼–å†™é«˜è´¨é‡çš„Goåº”ç”¨â€è¿™éƒ¨åˆ†å†…å®¹ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥å­¦ä¹ ä¸‹å¦‚ä½•é«˜æ•ˆç®¡ç†Goé¡¹ç›®ï¼Œä»¥åŠå¦‚ä½•ç¼–å†™é«˜è´¨é‡çš„é¡¹ç›®æ–‡æ¡£ã€‚è¿™é‡Œé¢çš„å¤§éƒ¨åˆ†å†…å®¹ï¼Œä¹‹å‰æˆ‘ä»¬éƒ½æœ‰å­¦ä¹ è¿‡ï¼Œå› ä¸ºå®ƒä»¬æ˜¯â€œå¦‚ä½•å†™å‡ºä¼˜é›…çš„Goé¡¹ç›®â€çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œæ‰€ä»¥ï¼Œè¿™é‡Œæˆ‘ä»ç„¶ä¼šç®€å•ä»‹ç»ä¸‹å®ƒä»¬ã€‚</p><h2>é«˜æ•ˆç®¡ç†é¡¹ç›®</h2><p>ä¸€ä¸ªä¼˜é›…çš„Goé¡¹ç›®ï¼Œè¿˜éœ€è¦å…·å¤‡é«˜æ•ˆçš„é¡¹ç›®ç®¡ç†ç‰¹æ€§ã€‚é‚£ä¹ˆå¦‚ä½•é«˜æ•ˆç®¡ç†æˆ‘ä»¬çš„é¡¹ç›®å‘¢ï¼Ÿ</p><p>ä¸åŒå›¢é˜Ÿã€ä¸åŒé¡¹ç›®ä¼šé‡‡ç”¨ä¸åŒçš„æ–¹æ³•æ¥ç®¡ç†é¡¹ç›®ï¼Œåœ¨æˆ‘çœ‹æ¥æ¯”è¾ƒé‡è¦çš„æœ‰3ç‚¹ï¼Œåˆ†åˆ«æ˜¯åˆ¶å®šä¸€ä¸ªé«˜æ•ˆçš„å¼€å‘æµç¨‹ã€ä½¿ç”¨Makefileç®¡ç†é¡¹ç›®å’Œå°†é¡¹ç›®ç®¡ç†è‡ªåŠ¨åŒ–ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªåŠ¨ç”Ÿæˆä»£ç ã€å€ŸåŠ©å·¥å…·ã€å¯¹æ¥CI/CDç³»ç»Ÿç­‰æ–¹æ³•æ¥å°†é¡¹ç›®ç®¡ç†è‡ªåŠ¨åŒ–ã€‚å…·ä½“è§ä¸‹å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/61/6d/61e022c1b25dab2b0fefb407fc1c776d.png?wh=2356x766\" alt=\"\"></p><h3>é«˜æ•ˆçš„å¼€å‘æµç¨‹</h3><p>é«˜æ•ˆç®¡ç†é¡¹ç›®çš„ç¬¬ä¸€æ­¥ï¼Œå°±æ˜¯è¦æœ‰ä¸€ä¸ªé«˜æ•ˆçš„å¼€å‘æµç¨‹ï¼Œè¿™å¯ä»¥æé«˜å¼€å‘æ•ˆç‡ã€å‡å°‘è½¯ä»¶ç»´æŠ¤æˆæœ¬ã€‚ä½ å¯ä»¥å›æƒ³ä¸€ä¸‹è®¾è®¡å¼€å‘æµç¨‹çš„çŸ¥è¯†ï¼Œå¦‚æœå°è±¡æ¯”è¾ƒæ¨¡ç³Šäº†ï¼Œä¸€å®šè¦å›å»å¤ä¹ ä¸‹<strong>08è®²</strong>çš„å†…å®¹<strong>ï¼Œ</strong>å› ä¸ºè¿™éƒ¨åˆ†å¾ˆé‡è¦ ã€‚</p><h3>ä½¿ç”¨Makefileç®¡ç†é¡¹ç›®</h3><p>ä¸ºäº†æ›´å¥½åœ°ç®¡ç†é¡¹ç›®ï¼Œé™¤äº†ä¸€ä¸ªé«˜æ•ˆçš„å¼€å‘æµç¨‹ä¹‹å¤–ï¼Œä½¿ç”¨Makefileä¹Ÿå¾ˆé‡è¦ã€‚Makefileå¯ä»¥å°†é¡¹ç›®ç®¡ç†çš„å·¥ä½œé€šè¿‡Makefileä¾èµ–çš„æ–¹å¼å®ç°è‡ªåŠ¨åŒ–ï¼Œé™¤äº†å¯ä»¥æé«˜ç®¡ç†æ•ˆç‡ä¹‹å¤–ï¼Œè¿˜èƒ½å¤Ÿå‡å°‘äººä¸ºæ“ä½œå¸¦æ¥çš„å¤±è¯¯ï¼Œå¹¶ç»Ÿä¸€æ“ä½œæ–¹å¼ï¼Œä½¿é¡¹ç›®æ›´åŠ è§„èŒƒã€‚</p><p>IAMé¡¹ç›®çš„æ‰€æœ‰æ“ä½œå‡æ˜¯é€šè¿‡Makefileæ¥å®Œæˆçš„ï¼Œå…·ä½“Makefileå®Œæˆäº†å¦‚ä¸‹æ“ä½œï¼š</p><pre><code> build              Build source code for host platform.\n  build.multiarch    Build source code for multiple platforms. See option PLATFORMS.\n  image              Build docker images for host arch.\n  image.multiarch    Build docker images for multiple platforms. See option PLATFORMS.\n  push               Build docker images for host arch and push images to registry.\n  push.multiarch     Build docker images for multiple platforms and push images to registry.\n  deploy             Deploy updated components to development env.\n  clean              Remove all files that are created by building.\n  lint               Check syntax and styling of go sources.\n  test               Run unit test.\n  cover              Run unit test and get test coverage.\n  release            Release iam\n  format             Gofmt (reformat) package sources (exclude vendor dir if existed).\n  verify-copyright   Verify the boilerplate headers for all files.\n  add-copyright      Ensures source code files have copyright license headers.\n  gen                Generate all necessary files, such as error code files.\n  ca                 Generate CA files for all iam components.\n  install            Install iam system with all its components.\n  swagger            Generate swagger document.\n  serve-swagger      Serve swagger spec and docs.\n  dependencies       Install necessary dependencies.\n  tools              install dependent tools.\n  check-updates      Check outdated dependencies of the go projects.\n  help               Show this help info.\n</code></pre><h3>è‡ªåŠ¨ç”Ÿæˆä»£ç </h3><p>ä½ä»£ç çš„ç†å¿µç°åœ¨è¶Šæ¥è¶Šæµè¡Œã€‚è™½ç„¶ä½ä»£ç æœ‰å¾ˆå¤šç¼ºç‚¹ï¼Œä½†ç¡®å®æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼Œä¾‹å¦‚ï¼š</p><ul>\n<li>è‡ªåŠ¨åŒ–ç”Ÿæˆä»£ç ï¼Œå‡å°‘å·¥ä½œé‡ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚</li>\n<li>ä»£ç æœ‰æ—¢å®šçš„ç”Ÿæˆè§„åˆ™ï¼Œç›¸æ¯”äººå·¥ç¼–å†™ä»£ç ï¼Œå‡†ç¡®æ€§æ›´é«˜ã€æ›´è§„èŒƒã€‚</li>\n</ul><p>ç›®å‰æ¥çœ‹ï¼Œè‡ªåŠ¨ç”Ÿæˆä»£ç ç°åœ¨å·²ç»æˆä¸ºè¶‹åŠ¿ï¼Œæ¯”å¦‚ Kubernetesé¡¹ç›®æœ‰å¾ˆå¤šä»£ç éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ã€‚æˆ‘è®¤ä¸ºï¼Œæƒ³å†™å‡ºä¸€ä¸ªä¼˜é›…çš„Goé¡¹ç›®ï¼Œä½ ä¹Ÿåº”è¯¥è®¤çœŸæ€è€ƒå“ªäº›åœ°æ–¹çš„ä»£ç å¯ä»¥è‡ªåŠ¨ç”Ÿæˆã€‚åœ¨è¿™é—¨è¯¾çš„IAMé¡¹ç›®ä¸­ï¼Œå°±æœ‰å¤§é‡çš„ä»£ç æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œæˆ‘æ”¾åœ¨è¿™é‡Œä¾›ä½ å‚è€ƒï¼š</p><ul>\n<li>é”™è¯¯ç ã€é”™è¯¯ç è¯´æ˜æ–‡æ¡£ã€‚</li>\n<li>è‡ªåŠ¨ç”Ÿæˆç¼ºå¤±çš„doc.goæ–‡ä»¶ã€‚</li>\n<li>åˆ©ç”¨gotestså·¥å…·ï¼Œè‡ªåŠ¨ç”Ÿæˆå•å…ƒæµ‹è¯•ç”¨ä¾‹ã€‚</li>\n<li>ä½¿ç”¨Swaggerå·¥å…·ï¼Œè‡ªåŠ¨ç”ŸæˆSwaggeræ–‡æ¡£ã€‚</li>\n<li>ä½¿ç”¨Mockå·¥å…·ï¼Œè‡ªåŠ¨ç”Ÿæˆæ¥å£çš„Mockå®ä¾‹ã€‚</li>\n</ul><h3>å–„äºå€ŸåŠ©å·¥å…·</h3><p>åœ¨å¼€å‘Goé¡¹ç›®çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿè¦å–„äºå€ŸåŠ©å·¥å…·ï¼Œæ¥å¸®åŠ©æˆ‘ä»¬å®Œæˆä¸€éƒ¨åˆ†å·¥ä½œã€‚åˆ©ç”¨å·¥å…·å¯ä»¥å¸¦æ¥å¾ˆå¤šå¥½å¤„ï¼š</p><ul>\n<li>è§£æ”¾åŒæ‰‹ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚</li>\n<li>åˆ©ç”¨å·¥å…·çš„ç¡®å®šæ€§ï¼Œå¯ä»¥ç¡®ä¿æ‰§è¡Œç»“æœçš„ä¸€è‡´æ€§ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨golangci-lintå¯¹ä»£ç è¿›è¡Œæ£€æŸ¥ï¼Œå¯ä»¥ç¡®ä¿ä¸åŒå¼€å‘è€…å¼€å‘çš„ä»£ç è‡³å°‘éƒ½éµå¾ªgolangci-lintçš„ä»£ç æ£€æŸ¥è§„èŒƒã€‚</li>\n<li>æœ‰åˆ©äºå®ç°è‡ªåŠ¨åŒ–ï¼Œå¯ä»¥å°†å·¥å…·é›†æˆåˆ°CI/CDæµç¨‹ä¸­ï¼Œè§¦å‘æµæ°´çº¿è‡ªåŠ¨æ‰§è¡Œã€‚</li>\n</ul><p>é‚£ä¹ˆï¼ŒGoé¡¹ç›®ä¸­ï¼Œæœ‰å“ªäº›å·¥å…·å¯ä»¥ä¸ºæˆ‘ä»¬æ‰€ç”¨å‘¢ï¼Ÿè¿™é‡Œï¼Œæˆ‘ç»™ä½ æ•´ç†äº†ä¸€äº›æœ‰ç”¨çš„å·¥å…·ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/90/80/90ca527c2863fe642f9ab3d5b90fe980.png?wh=1645x1477\" alt=\"\"></p><p>æ‰€æœ‰è¿™äº›å·¥å…·éƒ½å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼å®‰è£…ã€‚</p><pre><code>$ cd $IAM_ROOT\n$ make tools.install\n</code></pre><p>IAMé¡¹ç›®ä½¿ç”¨äº†ä¸Šé¢è¿™äº›å·¥å…·çš„ç»å¤§éƒ¨åˆ†ï¼Œç”¨æ¥å°½å¯èƒ½æé«˜æ•´ä¸ªé¡¹ç›®çš„è‡ªåŠ¨åŒ–ç¨‹åº¦ï¼Œæé«˜é¡¹ç›®ç»´æŠ¤æ•ˆç‡ã€‚</p><h3>å¯¹æ¥CI/CD</h3><p>ä»£ç åœ¨åˆå¹¶å…¥ä¸»å¹²æ—¶ï¼Œåº”è¯¥æœ‰ä¸€å¥—CI/CDæµç¨‹æ¥è‡ªåŠ¨åŒ–åœ°å¯¹ä»£ç è¿›è¡Œæ£€æŸ¥ã€ç¼–è¯‘ã€å•å…ƒæµ‹è¯•ç­‰ï¼Œåªæœ‰é€šè¿‡åçš„ä»£ç æ‰å¯ä»¥å¹¶å…¥ä¸»å¹²ã€‚é€šè¿‡CI/CDæµç¨‹æ¥ä¿è¯ä»£ç çš„è´¨é‡ã€‚å½“å‰æ¯”è¾ƒæµè¡Œçš„CI/CDå·¥å…·æœ‰Jenkinsã€GitLabã€Argoã€Github Actionsã€JenkinsXç­‰ã€‚åœ¨<strong>ç¬¬51è®²</strong> å’Œ <strong>ç¬¬52è®²</strong>ä¸­ï¼Œæˆ‘ä¼šè¯¦ç»†ä»‹ç»CI/CDçš„åŸç†å’Œå®æˆ˜ã€‚</p><h2>ç¼–å†™é«˜è´¨é‡çš„é¡¹ç›®æ–‡æ¡£</h2><p>æœ€åï¼Œä¸€ä¸ªä¼˜é›…çš„é¡¹ç›®ï¼Œè¿˜åº”è¯¥æœ‰å®Œå–„çš„æ–‡æ¡£ã€‚ä¾‹å¦‚ README.mdã€å®‰è£…æ–‡æ¡£ã€å¼€å‘æ–‡æ¡£ã€ä½¿ç”¨æ–‡æ¡£ã€APIæ¥å£æ–‡æ¡£ã€è®¾è®¡æ–‡æ¡£ç­‰ç­‰ã€‚è¿™äº›å†…å®¹åœ¨<a href=\"https://time.geekbang.org/column/article/380033\">ç¬¬04è®²</a>çš„æ–‡æ¡£è§„èŒƒéƒ¨åˆ†æœ‰è¯¦ç»†ä»‹ç»ï¼Œä½ å¯ä»¥å»å¤ä¹ ä¸‹ã€‚</p><h2>æ€»ç»“</h2><p>ä½¿ç”¨Goè¯­è¨€åšé¡¹ç›®å¼€å‘ï¼Œæ ¸å¿ƒç›®çš„å…¶å®å°±æ˜¯<strong>å¼€å‘ä¸€ä¸ªä¼˜é›…çš„Goé¡¹ç›®</strong>ã€‚é‚£ä¹ˆå¦‚ä½•å¼€å‘ä¸€ä¸ªä¼˜é›…çš„Goé¡¹ç›®å‘¢ï¼ŸGoé¡¹ç›®åŒ…å«ä¸‰å¤§å†…å®¹ï¼Œå³ Goåº”ç”¨ã€é¡¹ç›®ç®¡ç†ã€é¡¹ç›®æ–‡æ¡£ï¼Œå› æ­¤å¼€å‘ä¸€ä¸ªä¼˜é›…çš„Goé¡¹ç›®ï¼Œå…¶å®å°±æ˜¯<strong>ç¼–å†™é«˜è´¨é‡çš„Goåº”ç”¨</strong>ã€<strong>é«˜æ•ˆç®¡ç†é¡¹ç›®</strong>å’Œ<strong>ç¼–å†™é«˜è´¨é‡çš„é¡¹ç›®æ–‡æ¡£</strong>ã€‚é’ˆå¯¹æ¯ä¸€é¡¹ï¼Œæˆ‘éƒ½ç»™å‡ºäº†ä¸€äº›å®ç°æ–¹å¼ï¼Œè¿™äº›æ–¹å¼è¯¦è§ä¸‹å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/b0/cc/b051da025c897996473df44693ea4ecc.png?wh=3619x2006\" alt=\"\"></p><h2>è¯¾åç»ƒä¹ </h2><ol>\n<li>åœ¨å·¥ä½œä¸­ï¼Œä½ è¿˜æœ‰å“ªäº›æ–¹æ³•ï¼Œæ¥å¸®åŠ©ä½ å¼€å‘ä¸€ä¸ªä¼˜é›…çš„Goé¡¹ç›®å‘¢ï¼Ÿ</li>\n<li>åœ¨ä½ çš„å½“å‰é¡¹ç›®ä¸­æœ‰å“ªäº›å¯ä»¥æ¥å£åŒ–çš„ä»£ç å‘¢ï¼Ÿæ‰¾åˆ°å®ƒä»¬ï¼Œå¹¶å°è¯•ç”¨é¢å‘æ¥å£çš„ç¼–ç¨‹å“²å­¦å»é‡å†™è¿™éƒ¨åˆ†ä»£ç å§ã€‚</li>\n</ol><p>æœŸå¾…åœ¨ç•™è¨€åŒºçœ‹åˆ°ä½ çš„æ€è€ƒå’Œç­”æ¡ˆï¼Œæˆ‘ä»¬ä¸‹ä¸€è®²è§ï¼</p>","neighbors":{"left":{"article_title":"09 | ç ”å‘æµç¨‹è®¾è®¡ï¼ˆä¸‹ï¼‰ï¼šå¦‚ä½•ç®¡ç†åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼Ÿ","id":384021},"right":{"article_title":"11 | è®¾è®¡æ¨¡å¼ï¼šGoå¸¸ç”¨è®¾è®¡æ¨¡å¼æ¦‚è¿°","id":386238}},"comments":[{"had_liked":false,"id":297663,"user_name":"pedro","can_delete":false,"product_type":"c1","uid":1200704,"ip_address":"","ucode":"F40C839DDFD599","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","comment_is_top":false,"comment_ctime":1623719528,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"229256986216","product_id":100079601,"comment_content":"ä¸€èŠ‚å€¼å›ç¥¨ä»·ï¼ï¼ï¼","like_count":54},{"had_liked":false,"id":298302,"user_name":"ğŸ’A","can_delete":false,"product_type":"c1","uid":1075412,"ip_address":"","ucode":"914FFA92CA2713","user_header":"https://static001.geekbang.org/account/avatar/00/10/68/d4/c9b5d3f9.jpg","comment_is_top":false,"comment_ctime":1624007845,"is_pvip":false,"replies":[{"id":"108317","content":"å¥½ç½‘ç«™ï¼Œæ„Ÿè°¢åˆ†äº«ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"CK1.0","uid":"1167883","ctime":1624209391,"ip_address":"","comment_id":298302,"utype":1}],"discussion_count":8,"race_medal":0,"score":"74638451877","product_id":100079601,"comment_content":"https:&#47;&#47;readme.so&#47;editor  readmeæ¨¡æ¿","like_count":18,"discussions":[{"author":{"id":1167883,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/0b/cdd0787a.jpg","nickname":"å­”ä»¤é£","note":"","ucode":"8363EA4BD0AAF0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522088,"discussion_content":"å¥½ç½‘ç«™ï¼Œæ„Ÿè°¢åˆ†äº«ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624209391,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1655545,"avatar":"https://static001.geekbang.org/account/avatar/00/19/42/f9/2244ec3b.jpg","nickname":"WLGğŸ˜ğŸ¤‘ ğŸ¤","note":"","ucode":"47EA9D41246AE3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581091,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658490079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2707767,"avatar":"","nickname":"Geek_9dde75","note":"","ucode":"337E0342B8818F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579349,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657368237,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1132344,"avatar":"https://static001.geekbang.org/account/avatar/00/11/47/38/b036d778.jpg","nickname":"å°å­é¾","note":"","ucode":"65F1BD94122A7A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543785,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641301983,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1975831,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/rSzzqGwHcvhwPejiaPsCY9XBX7ib7zTxJ6cUDORdhGIakX8dTPVsz6ibud5ec1FeWQGTseF2TPRECCjky5JMlHvDg/132","nickname":"Struggle~honor","note":"","ucode":"EBC6DFC6CF0973","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413040,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636369174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2654999,"avatar":"https://static001.geekbang.org/account/avatar/00/28/83/17/df99b53d.jpg","nickname":"éšé£è€Œè¿‡","note":"","ucode":"FFD17BAA3B2312","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389839,"discussion_content":"è¦ç¿»å‡ºå»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629447890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1115232,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","nickname":"Fan","note":"","ucode":"3BF28670FD9407","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388046,"discussion_content":"æ‰“ä¸å¼€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628567617,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1242061,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f3/cd/7eaf13fb.jpg","nickname":"æ˜Ÿæ˜Ÿ","note":"","ucode":"2A9C7943C9AEF3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386554,"discussion_content":"å•¥ç½‘ç«™ï¼Œæ‰“ä¸å¼€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627634330,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337511,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1646876819,"is_pvip":false,"replies":[{"id":"123424","content":"666","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1167883","ctime":1647037811,"ip_address":"","comment_id":337511,"utype":1}],"discussion_count":4,"race_medal":0,"score":"36006615187","product_id":100079601,"comment_content":"æ¨è Copilot äººå·¥æ™ºèƒ½æ’ä»¶ï¼Œå†™èµ·ä»£ç ä¸€è·¯ç«èŠ±å¸¦é—ªç”µï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ä»£ç æœ‰æ—¶è®©äººéœ‡æƒŠ","like_count":9,"discussions":[{"author":{"id":1167883,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/0b/cdd0787a.jpg","nickname":"å­”ä»¤é£","note":"","ucode":"8363EA4BD0AAF0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555684,"discussion_content":"666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647037812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1603004,"avatar":"https://static001.geekbang.org/account/avatar/00/18/75/bc/e24e181e.jpg","nickname":"Calvin","note":"","ucode":"0EEF5B207623B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563431,"discussion_content":"è¿™ä¸ªä¸çŸ¥é“ä¼šä¸ä¼šä¸Šä¼ ä»£ç ä»¥ä¾› AI åˆ†æï¼Œå¦‚æœä¼šçš„è¯ï¼Œå…¬å¸ä»£ç å°±ä¸èƒ½ç”¨ï¼Œä»¥å…æ³„å¯†ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649993601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1603004,"avatar":"https://static001.geekbang.org/account/avatar/00/18/75/bc/e24e181e.jpg","nickname":"Calvin","note":"","ucode":"0EEF5B207623B5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563506,"discussion_content":"åº”è¯¥ä¼š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650011871,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":563431,"ip_address":""},"score":563506,"extra":""},{"author":{"id":1001225,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/09/316b0aa1.jpg","nickname":"å¼ æµ©","note":"","ucode":"DBEAFFB7660813","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1603004,"avatar":"https://static001.geekbang.org/account/avatar/00/18/75/bc/e24e181e.jpg","nickname":"Calvin","note":"","ucode":"0EEF5B207623B5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575587,"discussion_content":"å¹³æ—¶é¡¹ç›®ä¸­åœ¨ç”¨ï¼Œå¦‚æœä¸Šä¼ çš„è¯ï¼Œä»¥åå°±ä¸ä½¿ç”¨äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654939687,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":563431,"ip_address":""},"score":575587,"extra":""}]}]},{"had_liked":false,"id":303490,"user_name":"è«æ—","can_delete":false,"product_type":"c1","uid":1086720,"ip_address":"","ucode":"9F733B4622E7E8","user_header":"https://static001.geekbang.org/account/avatar/00/10/95/00/a7001873.jpg","comment_is_top":false,"comment_ctime":1626830479,"is_pvip":false,"replies":[{"id":"109982","content":"1. 2ä¸ªæ¨¡å—ç›¸äº’è°ƒç”¨ï¼Œé‚£å°±ä¼šå‡ºç°å¾ªç¯ï¼Œå¯ä»¥æŠŠåŠŸèƒ½ç‹¬ç«‹åˆ°ä¸€ä¸ªæ–°åŒ…ï¼ŒUserã€Articleã€Commentéƒ½å¯¼å…¥æ–°åŒ…ã€‚<br>2. domainã€repositoryã€serviceæ˜¯æ•´ä¸ªé¡¹ç›®çš„è½¯ä»¶æ¶æ„ï¼Œæ¯ä¸ªåŠŸèƒ½æ¨¡å—ä¸éœ€è¦æŒ‰è¿™ä¹ˆæ¥åˆ†ã€‚<br>3. æŠŠæ‰€æœ‰çš„è·Ÿæ•°æ®åº“æ“ä½œéƒ½å°è£…åœ¨repositoryä¸­ï¼Œç„¶åå†repositoryä¸­å¼•ç”¨","user_name":"ä½œè€…å›å¤","user_name_real":"CK1.0","uid":"1167883","ctime":1627031232,"ip_address":"","comment_id":303490,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31691601551","product_id":100079601,"comment_content":"è°¢è°¢è€å¸ˆè¯¦ç»†çš„è®²è§£ã€‚å…³äºç›®å½•ç»“æ„æœ‰ä¸¤ç‚¹æ¯”è¾ƒç–‘æƒ‘ï¼š<br>1. æŒ‰åŠŸèƒ½æ‹†åˆ†çš„æ—¶å€™ï¼Œå¦‚æœä¸¤ä¸ªåŠŸèƒ½æ¨¡å—éœ€è¦ç›¸äº’è°ƒç”¨æ€ä¹ˆåŠï¼Ÿä¾‹å¦‚ Userã€Article å’Œ Comment.<br>2. æ¯ä¸ªåŠŸèƒ½æ¨¡å—é‡Œé¢æ˜¯ä¸æ˜¯ä¹Ÿè¦æŒ‰ç…§åˆ†å±‚æ¥ï¼šdomainã€repository ã€service?<br>3. å¯¹äºå…¬å…±ç»„ä»¶ï¼Œå¦‚ mysql è¿æ¥æ± ã€‚éœ€è¦å¦‚ä½•å¤„ç†ï¼Œåœ¨ä½•æ—¶æ³¨å…¥ã€‚èµ· server çš„æ—¶å€™æ³¨å…¥ context è¿˜æ˜¯åœ¨æ¯ä¸ªrepository é‡Œå¼•ç”¨ï¼Ÿ<br>å¸Œæœ›è€å¸ˆæœ‰ç©ºèƒ½å¸®å¿™è§£ç­”ï¼Œè°¢è°¢~","like_count":8,"discussions":[{"author":{"id":1167883,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/0b/cdd0787a.jpg","nickname":"å­”ä»¤é£","note":"","ucode":"8363EA4BD0AAF0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523703,"discussion_content":"1. 2ä¸ªæ¨¡å—ç›¸äº’è°ƒç”¨ï¼Œé‚£å°±ä¼šå‡ºç°å¾ªç¯ï¼Œå¯ä»¥æŠŠåŠŸèƒ½ç‹¬ç«‹åˆ°ä¸€ä¸ªæ–°åŒ…ï¼ŒUserã€Articleã€Commentéƒ½å¯¼å…¥æ–°åŒ…ã€‚\n2. domainã€repositoryã€serviceæ˜¯æ•´ä¸ªé¡¹ç›®çš„è½¯ä»¶æ¶æ„ï¼Œæ¯ä¸ªåŠŸèƒ½æ¨¡å—ä¸éœ€è¦æŒ‰è¿™ä¹ˆæ¥åˆ†ã€‚\n3. æŠŠæ‰€æœ‰çš„è·Ÿæ•°æ®åº“æ“ä½œéƒ½å°è£…åœ¨repositoryä¸­ï¼Œç„¶åå†repositoryä¸­å¼•ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627031232,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3177653,"avatar":"","nickname":"Geek_dae678","note":"","ucode":"55BC1C0DBEAACF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591471,"discussion_content":"ç›¸äº’è°ƒç”¨çš„è¯ï¼Œæœ‰æ²¡æœ‰æ€è€ƒè¿‡è®¾è®¡ä¸€ä¸ªIOCå±‚ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666593490,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297816,"user_name":"daz2yy","can_delete":false,"product_type":"c1","uid":1008723,"ip_address":"","ucode":"639A67961EC893","user_header":"https://static001.geekbang.org/account/avatar/00/0f/64/53/c93b8110.jpg","comment_is_top":false,"comment_ctime":1623800463,"is_pvip":false,"replies":[{"id":"108141","content":"é¡¹ç›®ä¸­ä¼šæœ‰å®æˆ˜é‚£ä¿©","user_name":"ä½œè€…å›å¤","user_name_real":"CK1.0","uid":"1167883","ctime":1623820480,"ip_address":"","comment_id":297816,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27393604239","product_id":100079601,"comment_content":"å¾ˆå®Œå–„çš„å†…å®¹ï¼ä¸è¿‡ï¼Œé“ç†å…¶å®éƒ½æ‡‚ï¼Œæˆ–è€…å¤šå¤šå°‘å°‘çœ‹è¿‡ä¸€äº›ï¼Œå¦‚æœèƒ½ç»“åˆä¸€äº›å®é™…è½åœ°çš„ä¾‹å­å°±æ›´å¥½äº†ï¼›ä¹Ÿæ­£å¦‚è€å¸ˆè¯´çš„ï¼Œè¦æ±‚äººå»æŒ‰ç…§è§„èŒƒåšå¾ˆéš¾ï¼Œéœ€è¦é å·¥å…·å®ç°çº¦æŸï¼›è¿˜æœ‰æ¯”å¦‚ CR çš„å…·ä½“æ“ä½œç»†èŠ‚ï¼ŒèŠ±è´¹çš„æ—¶é—´ï¼Œå‚ä¸äººï¼ŒCRä¸é€šè¿‡ä¸é€šè¿‡çš„æƒ…å†µç­‰ã€‚","like_count":6,"discussions":[{"author":{"id":1167883,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/0b/cdd0787a.jpg","nickname":"å­”ä»¤é£","note":"","ucode":"8363EA4BD0AAF0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521938,"discussion_content":"é¡¹ç›®ä¸­ä¼šæœ‰å®æˆ˜é‚£ä¿©","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623820480,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305829,"user_name":"Sch0ng","can_delete":false,"product_type":"c1","uid":1145554,"ip_address":"","ucode":"73F6113931B1AC","user_header":"https://static001.geekbang.org/account/avatar/00/11/7a/d2/4ba67c0c.jpg","comment_is_top":false,"comment_ctime":1628181393,"is_pvip":false,"replies":[{"id":"110907","content":"è€å“¥ï¼Œè¯­æ–‡ä½œæ–‡ä¸€å®šæ˜¯é«˜åˆ†ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"CK1.0","uid":"1167883","ctime":1628525236,"ip_address":"","comment_id":305829,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14513083281","product_id":100079601,"comment_content":"ç»™å‡ºäº†ä¼˜é›…goé¡¹ç›®çš„å®šä¹‰å’Œå®ç°è·¯å¾„ï¼Œæ— å¼‚äºèŒ«èŒ«å¤§æµ·ä¸­çš„æŒ‡è·¯æ˜ç¯ã€‚<br>ç¯å¡”æœ‰äº†ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯æœç€å¸Œæœ›çš„æ–¹å‘æ…¢æ…¢ç§¯ç´¯å¾å¾å‰è¿›ã€‚<br>","like_count":3,"discussions":[{"author":{"id":1167883,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/0b/cdd0787a.jpg","nickname":"å­”ä»¤é£","note":"","ucode":"8363EA4BD0AAF0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524523,"discussion_content":"è€å“¥ï¼Œè¯­æ–‡ä½œæ–‡ä¸€å®šæ˜¯é«˜åˆ†ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628525236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2654999,"avatar":"https://static001.geekbang.org/account/avatar/00/28/83/17/df99b53d.jpg","nickname":"éšé£è€Œè¿‡","note":"","ucode":"FFD17BAA3B2312","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389841,"discussion_content":"å¥½æ¹¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629447969,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":302749,"user_name":"ç‹®ç›”é“¶ç”²","can_delete":false,"product_type":"c1","uid":1015789,"ip_address":"","ucode":"CAF7A95C0B0286","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo4iaVQmVcDTuU9DFJzzLdNzYAmvjaice7fBYMBIsGd2GbfcG80WS8G2ZZ7QFYCkNocUcOibWiaibyNFJQ/132","comment_is_top":false,"comment_ctime":1626353543,"is_pvip":true,"replies":[{"id":"109747","content":"æŒ‰åŠŸèƒ½æ‹†åˆ†å’Œå…­è¾¹å½¢æ¶æ„ä¸å†²çªã€‚çœ‹äº†ä¸‹å…­è¾¹å½¢æ¶æ„ä»‹ç»ï¼Œå¾ˆcoolï¼ŒIAMé¡¹ç›®ä¹Ÿæœ‰å…­è¾¹å½¢æ¶æ„çš„å½±å­ï¼Œè€å“¥å®Œå…¨å¯ä»¥æŒ‰å…­è¾¹å½¢æ¶æ„æ¥è®¾è®¡ç³»ç»Ÿã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"CK1.0","uid":"1167883","ctime":1626684316,"ip_address":"","comment_id":302749,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14511255431","product_id":100079601,"comment_content":"å…³äºé¡¹ç›®æ¶æ„ ç›¸æ¯” è€å¸ˆä»‹ç»çš„ æŒ‰å±‚æ‹†åˆ†(æ°´å¹³æ‹†åˆ†)å’ŒæŒ‰åŠŸèƒ½æ‹†åˆ†(å‚ç›´æ‹†åˆ†) åœ¨ &lt;&lt;clean architecture&gt;&gt; å’Œ é¢†åŸŸé©±åŠ¨è®¾è®¡ æ˜¯ä¸æ˜¯éƒ½æ¨èå…­è¾¹å½¢æ¶æ„å‘¢ åœ¨è¿™å—æ¯”è¾ƒç–‘æƒ‘","like_count":3,"discussions":[{"author":{"id":1167883,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/0b/cdd0787a.jpg","nickname":"å­”ä»¤é£","note":"","ucode":"8363EA4BD0AAF0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523409,"discussion_content":"æŒ‰åŠŸèƒ½æ‹†åˆ†å’Œå…­è¾¹å½¢æ¶æ„ä¸å†²çªã€‚çœ‹äº†ä¸‹å…­è¾¹å½¢æ¶æ„ä»‹ç»ï¼Œå¾ˆcoolï¼ŒIAMé¡¹ç›®ä¹Ÿæœ‰å…­è¾¹å½¢æ¶æ„çš„å½±å­ï¼Œè€å“¥å®Œå…¨å¯ä»¥æŒ‰å…­è¾¹å½¢æ¶æ„æ¥è®¾è®¡ç³»ç»Ÿã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626684316,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015789,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo4iaVQmVcDTuU9DFJzzLdNzYAmvjaice7fBYMBIsGd2GbfcG80WS8G2ZZ7QFYCkNocUcOibWiaibyNFJQ/132","nickname":"ç‹®ç›”é“¶ç”²","note":"","ucode":"CAF7A95C0B0286","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384682,"discussion_content":"æœŸå¾…è€å¸ˆçš„å®æˆ˜éƒ¨åˆ†ï¼Œå¥½å¥½å­¦ä¹ å’Œèåˆä¸€ä¸‹:)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626699721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300087,"user_name":"timidsmile","can_delete":false,"product_type":"c1","uid":1524158,"ip_address":"","ucode":"E062F321730201","user_header":"https://static001.geekbang.org/account/avatar/00/17/41/be/7c756efa.jpg","comment_is_top":false,"comment_ctime":1624980483,"is_pvip":false,"replies":[{"id":"108952","content":"éœ€è¦æŒ‰åŠŸèƒ½æ‹†åˆ†ï¼Œè€Œéåˆ†å±‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"CK1.0","uid":"1167883","ctime":1625388564,"ip_address":"","comment_id":300087,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10214915075","product_id":100079601,"comment_content":"ä»£ç ç»“æ„è¿™ä¸€å°èŠ‚ï¼Œæœ‰ç‚¹ä¸å¤ªç†è§£ï¼Œæ±‚æŒ‡ç‚¹~~~<br>1. ç›®å½•ç»“æ„å’Œåˆ†å±‚æ˜¯äºŒé€‰ä¸€å—ï¼Ÿè¿˜æ˜¯å…ˆæŒ‰ç…§ã€ç›®å½•ç»“æ„ã€‘è§„èŒƒï¼Œç„¶ååœ¨å…·ä½“çš„ç›®å½•ä¸‹å†æŒ‰ç…§ã€åˆ†å±‚ã€‘æ¥å®ç°å‘¢ï¼Ÿ<br>2. åˆ†å±‚å»ºè®®æŒ‰åŠŸèƒ½æ‹†åˆ†ï¼Œé‚£ä¹ˆä¸€ä¸ªåŠŸèƒ½æ¨¡å—é‡Œè¿˜éœ€è¦è€ƒè™‘åˆ†å±‚å—ï¼Ÿæ¯”å¦‚è®¢å•æ¨¡å—ï¼Œé‡Œé¢ä¼šåŒ…å«ä¸šåŠ¡é€»è¾‘ï¼Œdbã€apiã€redisè°ƒç”¨ï¼Œè¿™äº›éƒ½æ”¾åˆ°ä¸€ä¸ªæ¨¡å—é‡Œéœ€è¦è€ƒè™‘åˆ†å±‚å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1167883,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/0b/cdd0787a.jpg","nickname":"å­”ä»¤é£","note":"","ucode":"8363EA4BD0AAF0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522638,"discussion_content":"éœ€è¦æŒ‰åŠŸèƒ½æ‹†åˆ†ï¼Œè€Œéåˆ†å±‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625388564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297697,"user_name":"æƒŸæ–°","can_delete":false,"product_type":"c1","uid":1037553,"ip_address":"","ucode":"93D07C4D97F7AD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d4/f1/c06aa702.jpg","comment_is_top":false,"comment_ctime":1623737017,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10213671609","product_id":100079601,"comment_content":"æˆ‘æ¥ å‚¬æ›´äº†ã€‚","like_count":3},{"had_liked":false,"id":298791,"user_name":"","can_delete":false,"product_type":"c1","uid":1916093,"ip_address":"","ucode":"DD2D171393F828","user_header":"https://static001.geekbang.org/account/avatar/00/1d/3c/bd/ea0b59f6.jpg","comment_is_top":false,"comment_ctime":1624326700,"is_pvip":false,"replies":[{"id":"108390","content":"ä»¥ç‰ˆæœ¬å‘å¸ƒä¸ºå‡†","user_name":"ä½œè€…å›å¤","user_name_real":"CK1.0","uid":"1167883","ctime":1624355776,"ip_address":"","comment_id":298791,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5919293996","product_id":100079601,"comment_content":"æƒ³é—®é—®åƒ changelog çš„ç”Ÿæˆæ˜¯ä»¥ä¸ºä¸ª ç»´åº¦åˆ’åˆ†ï¼Ÿå¦‚ æ—¥æœŸï¼Ÿåˆ†æ”¯æäº¤ï¼Œè¿˜æ˜¯ä»¥åŠŸèƒ½å‘å¸ƒä¸ºå‡†ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1167883,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/0b/cdd0787a.jpg","nickname":"å­”ä»¤é£","note":"","ucode":"8363EA4BD0AAF0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522244,"discussion_content":"ä»¥ç‰ˆæœ¬å‘å¸ƒä¸ºå‡†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624355776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298744,"user_name":"demon","can_delete":false,"product_type":"c1","uid":2646309,"ip_address":"","ucode":"ACD3F3C694E02E","user_header":"https://static001.geekbang.org/account/avatar/00/28/61/25/b646d049.jpg","comment_is_top":false,"comment_ctime":1624285328,"is_pvip":false,"replies":[{"id":"108392","content":"å»ºè®®è·Ÿæºç æ–‡ä»¶æ”¾ä¸€ä¸ªç›®å½•ä¸­","user_name":"ä½œè€…å›å¤","user_name_real":"CK1.0","uid":"1167883","ctime":1624356100,"ip_address":"","comment_id":298744,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5919252624","product_id":100079601,"comment_content":"ä½ å¥½ï¼Œè¯·é—®å•å…ƒæµ‹è¯•æ–‡ä»¶åº”è¯¥æ”¾åœ¨å“ªä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1167883,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/0b/cdd0787a.jpg","nickname":"å­”ä»¤é£","note":"","ucode":"8363EA4BD0AAF0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522228,"discussion_content":"å»ºè®®è·Ÿæºç æ–‡ä»¶æ”¾ä¸€ä¸ªç›®å½•ä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624356100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2654999,"avatar":"https://static001.geekbang.org/account/avatar/00/28/83/17/df99b53d.jpg","nickname":"éšé£è€Œè¿‡","note":"","ucode":"FFD17BAA3B2312","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389844,"discussion_content":"åŒç›®å½•xxxx_test.go","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629448156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337510,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1646876420,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646876420","product_id":100079601,"comment_content":"ç¬é—´æ„Ÿè§‰æ¡åˆ°äº†ä¸€å †è£…å¤‡ï¼Œå¯ä»¥æ¨ªæ¨äº†","like_count":0},{"had_liked":false,"id":335623,"user_name":"ç¹æ˜Ÿä¸‡åƒä¸åŠä½ ","can_delete":false,"product_type":"c1","uid":2108338,"ip_address":"","ucode":"92316B0B343926","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJoG7YWJ0WsYj2jeLNJAmibIRrEUqlI8nP66895MGbr1tyDrIaykplsCbe5akkJsUCtUQTuV7YUREw/132","comment_is_top":false,"comment_ctime":1645606533,"is_pvip":false,"replies":[{"id":"123436","content":"å¯ä»¥ç›´æ¥è¿”å›Serviceçš„ã€‚çœ‹å®é™…éœ€æ±‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1167883","ctime":1647038920,"ip_address":"","comment_id":335623,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1645606533","product_id":100079601,"comment_content":"func NewFakeService() Service   è¿™ä¸ªæ¥å£ åº”è¯¥æ˜¯è¿”å› *fakeServiceå§ï¼Ÿ<br> func NewFakeService()  *fakeService","like_count":0,"discussions":[{"author":{"id":1167883,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/0b/cdd0787a.jpg","nickname":"å­”ä»¤é£","note":"","ucode":"8363EA4BD0AAF0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555696,"discussion_content":"å¯ä»¥ç›´æ¥è¿”å›Serviceçš„ã€‚çœ‹å®é™…éœ€æ±‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647038920,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1603004,"avatar":"https://static001.geekbang.org/account/avatar/00/18/75/bc/e24e181e.jpg","nickname":"Calvin","note":"","ucode":"0EEF5B207623B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1167883,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/0b/cdd0787a.jpg","nickname":"å­”ä»¤é£","note":"","ucode":"8363EA4BD0AAF0","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":563432,"discussion_content":"å¤§ä½¬è¿™ä¸ª NewFakeService æ–¹æ³•æœ‰å¿…è¦å¯¼å‡ºå—ï¼Ÿæˆ‘è§‰å¾—ä¸å¯¼å‡ºä¼šä¸ä¼šå¥½ç‚¹å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649993683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":555696,"ip_address":""},"score":563432,"extra":""}]}]},{"had_liked":false,"id":333708,"user_name":"å¤§å¤´ç¾Š","can_delete":false,"product_type":"c1","uid":2667101,"ip_address":"","ucode":"B371A2AFF25485","user_header":"https://static001.geekbang.org/account/avatar/00/28/b2/5d/db3ed798.jpg","comment_is_top":false,"comment_ctime":1644480774,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1644480774","product_id":100079601,"comment_content":"hhhhhhh, gothanks!","like_count":0},{"had_liked":false,"id":323002,"user_name":"yandongxiao","can_delete":false,"product_type":"c1","uid":1017700,"ip_address":"","ucode":"D397F4DB0109C8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/64/3882d90d.jpg","comment_is_top":false,"comment_ctime":1637683763,"is_pvip":false,"replies":[{"id":"117680","content":"æ€»ç»“çš„å¥½ç»†å‘€ï¼Œ66666666","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1167883","ctime":1638362424,"ip_address":"","comment_id":323002,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1637683763","product_id":100079601,"comment_content":"æ€»ç»“ï¼š<br>    1. Go é¡¹ç›®å’ŒGoåº”ç”¨çš„åŒºåˆ«? é¡¹ç›®è¿˜åŒ…æ‹¬é¡¹ç›®ç®¡ç†å’Œé¡¹ç›®æ–‡æ¡£ã€‚<br>    2. å¦‚ä½•ç¼–å†™é«˜è´¨é‡çš„Goåº”ç”¨ï¼Ÿ<br>        1. ä»£ç ç»“æ„ï¼šæŒ‰ç…§åŠŸèƒ½å¯¹é¡¹ç›®è¿›è¡Œæ¨¡å—åˆ’åˆ†ï¼›<br>        2. ç¼–ç è§„èŒƒï¼šUber ç¼–ç è§„èŒƒ + é™æ€ä»£ç æ£€æŸ¥ + Code Review + CI æ£€æŸ¥ï¼›<br>        3. ä»£ç è´¨é‡ï¼šå•å…ƒæµ‹è¯• + Code Review<br>        4. ç¼–ç¨‹å“²å­¦ï¼šé¢å‘æ¥å£ç¼–ç¨‹ã€é¢å‘å¯¹è±¡å˜æˆ<br>        5. è½¯ä»¶è®¾è®¡æ–¹æ³•ï¼šè®¾è®¡æ¨¡å¼ + SOLID åŸåˆ™<br>    3. å¦‚ä½•é«˜æ•ˆåœ°ç®¡ç†é¡¹ç›®ï¼Ÿæ ¹æ®ç¬¬8èŠ‚ï¼Œåœ¨å¼€å‘é˜¶æ®µå’Œæµ‹è¯•é˜¶æ®µæè¿°çš„å­ä»»åŠ¡ï¼Œé€šè¿‡ makefile ã€bash ä»¥åŠä¼—å¤šå·¥å…·å°†å®ƒä»¬ç®¡ç†èµ·æ¥ã€‚<br>    4. å¦‚ä½•ç¼–å†™é«˜è´¨é‡çš„æ–‡æ¡£ï¼Ÿ å‚è§ç¬¬4èŠ‚ã€‚","like_count":0,"discussions":[{"author":{"id":1167883,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/0b/cdd0787a.jpg","nickname":"å­”ä»¤é£","note":"","ucode":"8363EA4BD0AAF0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535161,"discussion_content":"æ€»ç»“çš„å¥½ç»†å‘€ï¼Œ66666666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638362424,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316172,"user_name":"ggchangan","can_delete":false,"product_type":"c1","uid":1093094,"ip_address":"","ucode":"C742135C2F45F7","user_header":"https://static001.geekbang.org/account/avatar/00/10/ad/e6/bf43ee14.jpg","comment_is_top":false,"comment_ctime":1634190034,"is_pvip":false,"replies":[{"id":"114943","content":"è°ƒç ”äº†ä¸‹ï¼Œåº”è¯¥æ²¡æœ‰è¿™ç±»å·¥å…·å½“å‰ã€‚å¦‚æœä½ äº†è§£æœ‰ï¼Œæ¬¢è¿è¯„è®ºåŒºåˆ†äº«ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å­”ä»¤é£","uid":"1167883","ctime":1634742913,"ip_address":"","comment_id":316172,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634190034","product_id":100079601,"comment_content":"ä¸å¥½æ„æ€å‘ç°ä¹‹å‰çš„ç•™è¨€ç•™é”™åœ°æ–¹äº†ã€‚è€å¸ˆï¼Œè¯·æ•™ä¸‹ï¼Œå¦‚ä½•è‡ªåŠ¨ç”ŸæˆåŸºäºSuiteçš„æµ‹è¯•ä»£ç å‘¢ï¼Ÿgotestsç”Ÿæˆçš„ä¸æ˜¯åŸºäºSuiteçš„","like_count":0,"discussions":[{"author":{"id":1167883,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/0b/cdd0787a.jpg","nickname":"å­”ä»¤é£","note":"","ucode":"8363EA4BD0AAF0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528293,"discussion_content":"è°ƒç ”äº†ä¸‹ï¼Œåº”è¯¥æ²¡æœ‰è¿™ç±»å·¥å…·å½“å‰ã€‚å¦‚æœä½ äº†è§£æœ‰ï¼Œæ¬¢è¿è¯„è®ºåŒºåˆ†äº«ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634742913,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298138,"user_name":"Nio","can_delete":false,"product_type":"c1","uid":1529642,"ip_address":"","ucode":"A1B8D3C01FB937","user_header":"https://static001.geekbang.org/account/avatar/00/17/57/2a/c6c95f37.jpg","comment_is_top":false,"comment_ctime":1623921855,"is_pvip":true,"discussion_count":0,"race_medal":4,"score":"1623921855","product_id":100079601,"comment_content":"æˆ‘ä¹Ÿæ¥å‚¬æ›´äº†","like_count":0},{"had_liked":false,"id":297997,"user_name":"helloworld","can_delete":false,"product_type":"c1","uid":1105161,"ip_address":"","ucode":"1EECCA0F43E278","user_header":"https://static001.geekbang.org/account/avatar/00/10/dd/09/feca820a.jpg","comment_is_top":false,"comment_ctime":1623866114,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623866114","product_id":100079601,"comment_content":"èµğŸ‘","like_count":0},{"had_liked":false,"id":297732,"user_name":"å¤å¤œæ˜Ÿè¯­","can_delete":false,"product_type":"c1","uid":1017644,"ip_address":"","ucode":"586BF3149A9D1D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/2c/013afd74.jpg","comment_is_top":false,"comment_ctime":1623749599,"is_pvip":false,"replies":[{"id":"108116","content":"ç›´æ¥å®˜ç½‘ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶å§ï¼Œæœ€æ–°ç‰ˆå¯èƒ½æœ‰é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"CK1.0","uid":"1167883","ctime":1623773568,"ip_address":"","comment_id":297732,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623749599","product_id":100079601,"comment_content":"golangci-lint å®‰è£…å¤±è´¥ï¼Œæ¢ç‰ˆæœ¬ä¸ºv1.14.0ä¹Ÿä¸è¡Œï¼š<br><br>(base) [cody@dev iam]$ go get -u github.com&#47;golangci&#47;golangci-lint&#47;cmd&#47;golangci-lint<br>go: downloading github.com&#47;tommy-muehle&#47;go-mnd v1.3.1-0.20200224220436-e6f9a994e8fa<br># github.com&#47;golangci&#47;golangci-lint&#47;pkg&#47;golinters<br>..&#47;..&#47;..&#47;..&#47;pkg&#47;mod&#47;github.com&#47;golangci&#47;golangci-lint@v1.40.1&#47;pkg&#47;golinters&#47;gosimple.go:11:40: cannot use simple.Analyzers (type []*&quot;honnef.co&#47;go&#47;tools&#47;analysis&#47;lint&quot;.Analyzer) as type map[string]*analysis.Analyzer in argument to setupStaticCheckAnalyzers<br>..&#47;..&#47;..&#47;..&#47;pkg&#47;mod&#47;github.com&#47;golangci&#47;golangci-lint@v1.40.1&#47;pkg&#47;golinters&#47;staticcheck.go:11:40: cannot use staticcheck.Analyzers (type []*&quot;honnef.co&#47;go&#47;tools&#47;analysis&#47;lint&quot;.Analyzer) as type map[string]*analysis.Analyzer in argument to setupStaticCheckAnalyzers<br>..&#47;..&#47;..&#47;..&#47;pkg&#47;mod&#47;github.com&#47;golangci&#47;golangci-lint@v1.40.1&#47;pkg&#47;golinters&#47;stylecheck.go:11:40: cannot use stylecheck.Analyzers (type []*&quot;honnef.co&#47;go&#47;tools&#47;analysis&#47;lint&quot;.Analyzer) as type map[string]*analysis.Analyzer in argument to setupStaticCheckAnalyzers<br>..&#47;..&#47;..&#47;..&#47;pkg&#47;mod&#47;github.com&#47;golangci&#47;golangci-lint@v1.40.1&#47;pkg&#47;golinters&#47;unused.go:28:3: cannot use unused.Analyzer.Doc (type *&quot;honnef.co&#47;go&#47;tools&#47;analysis&#47;lint&quot;.Documentation) as type string in field value<br>..&#47;..&#47;..&#47;..&#47;pkg&#47;mod&#47;github.com&#47;golangci&#47;golangci-lint@v1.40.1&#47;pkg&#47;golinters&#47;unused.go:29:28: unused.Analyzer.Requires undefined (type *&quot;honnef.co&#47;go&#47;tools&#47;analysis&#47;lint&quot;.Analyzer has no field or method Requires)<br>..&#47;..&#47;..&#47;..&#47;pkg&#47;mod&#47;github.com&#47;golangci&#47;golangci-lint@v1.40.1&#47;pkg&#47;golinters&#47;unused.go:31:31: unused.Analyzer.Run undefined (type *&quot;honnef.co&#47;go&#47;tools&#47;analysis&#47;lint&quot;.Analyzer has no field or method Run)<br>","like_count":0,"discussions":[{"author":{"id":1167883,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/0b/cdd0787a.jpg","nickname":"å­”ä»¤é£","note":"","ucode":"8363EA4BD0AAF0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521922,"discussion_content":"ç›´æ¥å®˜ç½‘ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶å§ï¼Œæœ€æ–°ç‰ˆå¯èƒ½æœ‰é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623773568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297711,"user_name":"ä¸æ˜çœŸç›¸çš„ç¾¤ä¼—","can_delete":false,"product_type":"c1","uid":2267730,"ip_address":"","ucode":"046A7D345171B8","user_header":"https://static001.geekbang.org/account/avatar/00/22/9a/52/93416b65.jpg","comment_is_top":false,"comment_ctime":1623744061,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1623744061","product_id":100079601,"comment_content":"æˆ‘æ¥å‚¬æ›´äº†","like_count":0},{"had_liked":false,"id":297698,"user_name":"æ—‹é£","can_delete":false,"product_type":"c1","uid":1048798,"ip_address":"","ucode":"59506F15AF3A6C","user_header":"https://static001.geekbang.org/account/avatar/00/10/00/de/5819440a.jpg","comment_is_top":false,"comment_ctime":1623737829,"is_pvip":false,"replies":[{"id":"108117","content":"æœ€æ–°ç‰ˆæœ¬ï¼Œå¯èƒ½æœ‰é—®é¢˜ï¼Œå¯ä»¥ç›´æ¥ä¸‹è½½githubä¸Šç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚æˆ–è€…cloneä¸‹æ¥è‡ªå·±ç¼–è¯‘","user_name":"ä½œè€…å›å¤","user_name_real":"CK1.0","uid":"1167883","ctime":1623773634,"ip_address":"","comment_id":297698,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623737829","product_id":100079601,"comment_content":"åœ¨macä¸‹å®‰è£…å·¥å…·ï¼Œæœ‰ä¸¤ä¸ªå®‰è£…å‡ºé”™äº†ï¼š<br>1. golangci-lint<br>å‡ºé”™ä¿¡æ¯ï¼š<br>github.com&#47;golangci&#47;golangci-lint@v1.40.1&#47;pkg&#47;golinters&#47;gosimple.go:11:40: cannot use simple.Analyzers (type []*&quot;honnef.co&#47;go&#47;tools&#47;analysis&#47;lint&quot;.Analyzer) as type map[string]*analysis.Analyzer in argument to setupStaticCheckAnalyzers<br>2. rts<br>è¿™æ˜¯rtså®‰è£…æ—¶çš„å‡ºé”™ä¿¡æ¯ï¼š<br>github.com&#47;galeone&#47;rts@v0.0.0-20200630094249-3f55e3ef7720&#47;rts_private.go:145:32: not enough arguments in call to gojson.Generate<br>\thave (io.ReadCloser, func(io.Reader) (interface {}, error), string, string, []string, bool)<br>\twant (io.Reader, gojson.Parser, string, string, []string, bool, bool)","like_count":0,"discussions":[{"author":{"id":1167883,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d2/0b/cdd0787a.jpg","nickname":"å­”ä»¤é£","note":"","ucode":"8363EA4BD0AAF0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521910,"discussion_content":"æœ€æ–°ç‰ˆæœ¬ï¼Œå¯èƒ½æœ‰é—®é¢˜ï¼Œå¯ä»¥ç›´æ¥ä¸‹è½½githubä¸Šç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚æˆ–è€…cloneä¸‹æ¥è‡ªå·±ç¼–è¯‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623773634,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297669,"user_name":"YangYiä¹1990","can_delete":false,"product_type":"c1","uid":1714179,"ip_address":"","ucode":"62C5464DE731D5","user_header":"https://static001.geekbang.org/account/avatar/00/1a/28/03/36f41498.jpg","comment_is_top":false,"comment_ctime":1623721605,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623721605","product_id":100079601,"comment_content":"æœŸå¾…ä¸‹ä¸€è®²ï½ğŸ˜‚ğŸ˜‚ğŸ˜‚","like_count":0}]}
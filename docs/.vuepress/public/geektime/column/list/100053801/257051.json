{"id":257051,"title":"07 | å¦‚ä½•ç”¨å‘é‡å’Œå‚æ•°æ–¹ç¨‹æè¿°æ›²çº¿ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æœˆå½±ã€‚</p><p>æ›²çº¿æ˜¯å›¾å½¢ç³»ç»Ÿçš„åŸºæœ¬å…ƒç´ ä¹‹ä¸€ï¼Œå®ƒå¯ä»¥æ„æˆå‡ ä½•å›¾å½¢çš„è¾¹ï¼Œä¹Ÿå¯ä»¥æè¿°ç‚¹å’Œå‡ ä½•ä½“çš„è¿åŠ¨è½¨è¿¹ï¼Œè¿˜å¯ä»¥æ§åˆ¶åƒç´ å±æ€§çš„å˜åŒ–ã€‚ä¸è®ºæˆ‘ä»¬ç”¨ä»€ä¹ˆå›¾å½¢ç³»ç»Ÿç»˜å›¾ï¼Œå›¾å½¢çš„å‘ˆç°éƒ½ç¦»ä¸å¼€æ›²çº¿ã€‚å› æ­¤ï¼Œå¯¹äºå¯è§†åŒ–è€Œè¨€ï¼ŒæŒæ¡å¦‚ä½•æè¿°æ›²çº¿æ˜¯éå¸¸é‡è¦çš„ã€‚</p><p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥å­¦ä¹ ä¸¤ç§å¸¸è§çš„æè¿°æ›²çº¿çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ç”¨å‘é‡å’Œå‚æ•°æ–¹ç¨‹æ¥æè¿°æ›²çº¿ã€‚</p><h2>å¦‚ä½•ç”¨å‘é‡æè¿°æ›²çº¿ï¼Ÿ</h2><p>æˆ‘ä»¬å…ˆæ¥è¯´ç¬¬ä¸€ç§æ–¹æ³•ï¼Œç”¨å‘é‡æ¥æè¿°æ›²çº¿ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œæ›²çº¿æ˜¯å¯ä»¥ç”¨æŠ˜çº¿æ¥æ¨¡æ‹Ÿçš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ç¬¬5èŠ‚è¯¾ä¸­ç”¨å‘é‡æ¥ç»˜åˆ¶æŠ˜çº¿çš„æ–¹æ³•ï¼ŒåŒæ ·å¯ä»¥åº”ç”¨äºæ›²çº¿ã€‚å…·ä½“æ€ä¹ˆåšå‘¢ï¼Ÿä¸‹é¢ï¼Œæˆ‘å°±è¯¦ç»†æ¥è¯´è¯´ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬ç”¨å‘é‡ç»˜åˆ¶æŠ˜çº¿çš„æ–¹æ³•æ¥ç»˜åˆ¶æ­£å¤šè¾¹å½¢ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå‡½æ•°regularShapeï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code>function regularShape(edges = 3, x, y, step) {\n  const ret = [];\n  const delta = Math.PI * (1 - (edges - 2) / edges);\n  let p = new Vector2D(x, y);\n  const dir = new Vector2D(step, 0);\n  ret.push(p);\n  for(let i = 0; i &lt; edges; i++) {\n    p = p.copy().add(dir.rotate(delta));\n    ret.push(p);\n  }\n  return ret;\n}\n</code></pre><p>æˆ‘ä»¬åœ¨regularShapeå‡½æ•°ä¸­ï¼Œç»™å®šè¾¹æ•°edgesã€èµ·ç‚¹x, yã€ä¸€æ¡è¾¹çš„é•¿åº¦stepï¼Œå°±å¯ä»¥ç»˜åˆ¶ä¸€ä¸ªæ­£å¤šè¾¹å½¢äº†ã€‚ç»˜åˆ¶çš„æ€è·¯å’Œæˆ‘ä»¬ä¸Šä¸€èŠ‚è¯¾çš„æ€è·¯ç±»ä¼¼ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡rotateæ—‹è½¬å‘é‡ï¼Œç„¶åé€šè¿‡å‘é‡åŠ æ³•æ¥è®¡ç®—é¡¶ç‚¹ä½ç½®ã€‚</p><p>å…·ä½“æ¥è¯´å°±æ˜¯ï¼Œæˆ‘ä»¬å®šä¹‰åˆå§‹ç‚¹ä¸ºnew Vector2D(x, y)ï¼Œåˆå§‹æ–¹å‘ä¸ºxè½´æ–¹å‘new Vector2D(step, 0)ã€‚ç„¶åå¾ªç¯è®¡ç®—æ­£å¤šè¾¹å½¢çš„é¡¶ç‚¹ä½ç½®ï¼Œä¹Ÿå°±æ˜¯ä»åˆå§‹ç‚¹å¼€å§‹ï¼Œæ¯æ¬¡å°†æ–¹å‘å‘é‡æ—‹è½¬deltaè§’åº¦ï¼Œdeltaè§’åº¦æ˜¯æ ¹æ®æ­£å¤šè¾¹å½¢å†…è§’å…¬å¼è®¡ç®—å‡ºæ¥çš„ã€‚æœ€åï¼Œæˆ‘ä»¬å°†å½“å‰ç‚¹å’Œæ–¹å‘å‘é‡ç›¸åŠ ï¼Œå°±å¾—åˆ°ä¸‹ä¸€ä¸ªé¡¶ç‚¹åæ ‡äº†ã€‚</p><!-- [[[read_end]]] --><p>æœ‰äº†è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—å‡ºè¦ç»˜åˆ¶çš„å¤šè¾¹å½¢çš„æ¯ä¸€ä¸ªé¡¶ç‚¹åæ ‡ï¼Œç„¶åè°ƒç”¨å›¾å½¢ç³»ç»Ÿçš„APIå°†å›¾å½¢ç»˜åˆ¶å‡ºæ¥äº†ã€‚æˆ‘åœ¨ä¸‹é¢ç»™å‡ºäº†ç»˜åˆ¶ä¸‰è§’å½¢ã€å…­è¾¹å½¢ã€åä¸€è¾¹å½¢å’Œå…­åè¾¹å½¢çš„å‚æ•°ï¼Œä½ å¯ä»¥çœ‹ä¸€çœ‹ï¼Œä¹Ÿå¯ä»¥è¯•ç€è‡ªå·±åŠ¨æ‰‹ç»˜åˆ¶ä¸€ä¸‹ã€‚</p><pre><code>draw(regularShape(3, 128, 128, 100));  // ç»˜åˆ¶ä¸‰è§’å½¢\ndraw(regularShape(6, -64, 128, 50));  // ç»˜åˆ¶å…­è¾¹å½¢\ndraw(regularShape(11, -64, -64, 30));  // ç»˜åˆ¶åä¸€è¾¹å½¢\ndraw(regularShape(60, 128, -64, 6));  // ç»˜åˆ¶å…­åè¾¹å½¢\n\n</code></pre><p>è¿™äº›å›¾å½¢ç”¨Canvas2Dç»˜åˆ¶å‡ºæ¥çš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¯¦ç»†çš„ä»£ç æˆ‘æ”¾åœ¨äº†<a href=\"https://github.com/akira-cn/graphics/tree/master/vector_draw\">GitHubä»“åº“</a>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/e6/59/e62865e98dd038c6da690961fe722c59.jpeg?wh=1920*1080\" alt=\"\"></p><p>ä»ä¸Šé¢çš„ä¾‹å­ä¸­å¯ä»¥çœ‹å‡ºï¼Œå½“å¤šè¾¹å½¢çš„è¾¹æ•°éå¸¸å¤šçš„æ—¶å€™ï¼Œè¿™ä¸ªå›¾å½¢å°±ä¼šæ¥è¿‘åœ†ã€‚æ‰€ä»¥ï¼Œåªè¦åˆ©ç”¨regularShapeå‡½æ•°ï¼Œå°†å¤šè¾¹å½¢çš„è¾¹æ•°è®¾ç½®å¾—å¾ˆå¤§ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»˜åˆ¶å‡ºåœ†å½¢äº†ã€‚ä¸è¿‡ï¼Œè¿™ä¸ªåšæ³•è™½ç„¶èƒ½å¤Ÿç»˜åˆ¶å‡ºåœ†è¿™æ ·çš„æ›²çº¿ï¼Œä½†å®ƒè¿˜æœ‰ä¸€äº›ç¼ºç‚¹ã€‚</p><p>é¦–å…ˆï¼ŒregularShapeå®šä¹‰è¾¹æ•°ã€èµ·ç‚¹ã€ä¸€æ¡è¾¹çš„é•¿åº¦ï¼Œè¿™å°±å’Œæˆ‘ä»¬é€šå¸¸çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œä¹Ÿå°±æ˜¯å®šä¹‰è¾¹æ•°ã€ä¸­å¿ƒå’ŒåŠå¾„ä¸ç¬¦ã€‚å¦‚æœæˆ‘ä»¬æŒ‰ç…§ç°åœ¨è¿™ç§å®šä¹‰æ–¹å¼ç»˜å›¾ï¼Œæ˜¯å¾ˆéš¾ç²¾ç¡®å¯¹åº”åˆ°å›¾å½¢çš„ä½ç½®å’Œå¤§å°çš„ã€‚é‚£ä½ å¯èƒ½è¦è¯´äº†ï¼Œä¸æ˜¯è¿˜å¯ä»¥æ¢ç®—å—ï¼Ÿç¡®å®å¯ä»¥ï¼Œä½†æ˜¯è®¡ç®—çš„è¿‡ç¨‹æ¯”è¾ƒç¹çï¼Œä¹Ÿå¾ˆå®¹æ˜“å‡ºé”™ã€‚</p><p>å…¶æ¬¡ï¼ŒregularShapeå¯ä»¥ç”»åœ†ï¼Œæ”¹è¿›ä¸€ä¸‹ä¹Ÿå¯ä»¥ç”»åœ†å¼§ï¼Œä½†æ˜¯å¯¹äºæ¤­åœ†ã€æŠ›ç‰©çº¿ã€è´å¡å°”æ›²çº¿ç­‰å…¶ä»–æ›²çº¿çš„ç»˜åˆ¶å°±æ— èƒ½ä¸ºåŠ›äº†ã€‚</p><p>é‚£ä¹ˆï¼Œä¸ºäº†æ›´ç®€å•åœ°ç»˜åˆ¶å‡ºæ›´å¤šçš„æ›²çº¿æ ·å¼ï¼Œæˆ‘ä»¬éœ€è¦ç”¨æ›´å¥½çš„æ¨¡å‹æ¥æè¿°ã€‚</p><h2>å¦‚ä½•ç”¨å‚æ•°æ–¹ç¨‹æè¿°æ›²çº¿ï¼Ÿ</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥è®¨è®ºç”¨å‚æ•°æ–¹ç¨‹æè¿°æ›²çº¿çš„æ–¹æ³•ã€‚é€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥æè¿°å¸¸è§çš„åœ†ã€æ¤­åœ†ã€æŠ›ç‰©çº¿ã€æ­£ä½™å¼¦ç­‰æ›²çº¿ï¼Œè¿˜èƒ½æè¿°æ›´å…·æœ‰ä¸€èˆ¬æ€§çš„æ›²çº¿ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰è¢«æ•°å­¦å…¬å¼é¢„è®¾å¥½çš„æ›²çº¿ï¼Œæ¯”å¦‚è´å¡å°”æ›²çº¿ï¼Œæˆ–è€…Catmullâ€“Romæ›²çº¿ç­‰ç­‰ã€‚</p><p>è¯´åˆ°å‚æ•°æ–¹ç¨‹ï¼Œæ¥ä¸‹æ¥æˆ‘åœ¨æ¯æ¬¡ç”¨å®ƒæ¥ç”»å›¾ä¹‹å‰ï¼Œè¿˜æ˜¯ä¼šå…ˆå¸¦ä½ ä¸€èµ·å›é¡¾ç›¸å…³çš„æ•°å­¦çŸ¥è¯†ï¼Œè¿™æ ·å¯¹ä½ åé¢çš„å­¦ä¹ ä¹Ÿä¼šå¾ˆæ–¹ä¾¿ã€‚é‚£æˆ‘ä»¬å…ˆä»æœ€ç®€å•çš„æ›²çº¿ï¼Œä¹Ÿå°±æ˜¯åœ†å½¢å¼€å§‹ï¼Œæ¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•ç”¨å‚æ•°æ–¹ç¨‹ç»˜åˆ¶çš„ã€‚</p><h3>1. ç”»åœ†</h3><p>é¦–å…ˆï¼Œåœ†å¯ä»¥ç”¨ä¸€ç»„å‚æ•°æ–¹ç¨‹æ¥å®šä¹‰ã€‚å¦‚ä¸‹æ‰€ç¤ºçš„å‚æ•°æ–¹ç¨‹ï¼Œå®šä¹‰äº†ä¸€ä¸ªåœ†å¿ƒåœ¨ï¼ˆx<sub>0</sub>,y<sub>0</sub>ï¼‰ï¼ŒåŠå¾„ä¸ºrçš„åœ†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/67/09/679bb841b70f7c7bae35d84c98a86b09.jpeg?wh=1920*555\" alt=\"\"></p><p>çŸ¥é“äº†æ–¹ç¨‹ï¼Œä¸‹é¢æˆ‘ä»¬æ¥è¯´ä¸€ä¸‹è®¡ç®—åœ†é¡¶ç‚¹çš„æ–¹æ³•ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å®ç°ä¸€ä¸ªç”»åœ†å¼§çš„å‡½æ•°arcï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚æˆ‘ä»¬è®¾ç½®åœ†å¿ƒä¸ºx<sub>0</sub>ã€y<sub>0</sub>ï¼ŒåŠå¾„ä¸ºradiusï¼Œèµ·å§‹è§’åº¦ä¸ºstartAngï¼Œç»“æŸè§’åº¦æ˜¯endAngã€‚ç„¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨draw(arc(0, 0, 100))è¿™æ ·çš„æ–¹å¼åœ¨(0,0)ç‚¹ç»˜åˆ¶ä¸€ä¸ªåŠå¾„ä¸º100çš„åœ†äº†ã€‚</p><pre><code>const TAU_SEGMENTS = 60;\nconst TAU = Math.PI * 2;\nfunction arc(x0, y0, radius, startAng = 0, endAng = Math.PI * 2) {\n  const ang = Math.min(TAU, endAng - startAng);\n  const ret = ang === TAU ? [] : [[x0, y0]];\n  const segments = Math.round(TAU_SEGMENTS * ang / TAU);\n  for(let i = 0; i &lt;= segments; i++) {\n    const x = x0 + radius * Math.cos(startAng + ang * i / segments);\n    const y = y0 + radius * Math.sin(startAng + ang * i / segments);\n    ret.push([x, y]);\n  }\n  return ret;\n}\n\ndraw(arc(0, 0, 100));\n</code></pre><p>è¿™ä¸ªæ—¶å€™ä½ å¯èƒ½æƒ³é—®ï¼Œåœ¨ç¬¬2èŠ‚è¯¾åˆ©ç”¨Canvas2Dç”»åœ†çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„context.arcæ–¹æ³•å’Œæˆ‘ä»¬è‡ªå·±å®ç°çš„è¿™ä¸ªå‡½æ•°å¾ˆåƒï¼Œæ—¢ç„¶å·²ç»æœ‰äº†ç°æˆçš„APIï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜è¦è‡ªå·±å®ç°å‘¢ï¼Ÿå…³äºè¿™ä¸€ç‚¹ï¼Œæˆ‘å°±è¦å†å•°å—¦å‡ å¥äº†ã€‚ä¸æ˜¯æ‰€æœ‰çš„å›¾å½¢ç³»ç»Ÿéƒ½æä¾›äº†ç”»åœ†çš„APIï¼Œæ¯”å¦‚WebGLä¸­å°±æ²¡æœ‰é»˜è®¤çš„ç”»åœ†APIã€‚å› æ­¤ï¼Œåœ¨æ²¡æœ‰æä¾›ç”»åœ†çš„APIçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸Šé¢å®ç°çš„å‡½æ•°å°±å¯ä»¥æ´¾ä¸Šç”¨åœºäº†ã€‚</p><h3>2. ç”»åœ†é”¥æ›²çº¿</h3><p>é™¤äº†ç”»åœ†ï¼Œå‚æ•°æ–¹ç¨‹è¿˜å¯ä»¥æè¿°å¾ˆå¤šå…¶ä»–çš„åœ†é”¥æ›²çº¿ã€‚æ¯”å¦‚æ¤­åœ†çš„å‚æ•°æ–¹ç¨‹ã€‚å®ƒå…¶å®å’Œåœ†çš„å‚æ•°æ–¹ç¨‹å¾ˆæ¥è¿‘ã€‚å…¶ä¸­ï¼Œaã€båˆ†åˆ«æ˜¯æ¤­åœ†çš„é•¿è½´å’ŒçŸ­è½´ï¼Œå½“a = b = ræ—¶ï¼Œè¿™ä¸ªæ–¹ç¨‹æ˜¯å°±åœ†çš„æ–¹ç¨‹å¼ã€‚æ‰€ä»¥ï¼Œåœ†å®é™…ä¸Šå°±æ˜¯æ¤­åœ†çš„ç‰¹ä¾‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c4/4b/c47446d2df11fba932267665e65d254b.jpeg?wh=1920*521\" alt=\"\"></p><p>å†æ¯”å¦‚ï¼ŒæŠ›ç‰©çº¿çš„å‚æ•°æ–¹ç¨‹ã€‚å…¶ä¸­pæ˜¯å¸¸æ•°ï¼Œä¸ºç„¦ç‚¹åˆ°å‡†çº¿çš„è·ç¦»ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/73/b2/737ab592aa82bdb7e145aebdc7e104b2.jpeg?wh=1920*521\" alt=\"\"></p><p>æˆ‘ä»¬ä¿®æ”¹ä¸Šé¢çš„arcæ–¹æ³•ä¸­çš„å¯¹åº”å‚æ•°ï¼Œå°±èƒ½åŒæ ·å®ç°æ¤­åœ†å’ŒæŠ›ç‰©çº¿çš„ç»˜åˆ¶äº†ã€‚ä¿®æ”¹çš„æ“ä½œéå¸¸ç®€å•ï¼Œæˆ‘å°±åœ¨ä¸‹é¢ç›´æ¥ç»™å‡ºè¿™ä¸¤ä¸ªå‡½æ•°çš„ä»£ç äº†ã€‚</p><p>é¦–å…ˆæ˜¯æ¤­åœ†ï¼Œå®ƒçš„å‡½æ•°ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre><code>const TAU_SEGMENTS = 60;\nconst TAU = Math.PI * 2;\nfunction ellipse(x0, y0, radiusX, radiusY, startAng = 0, endAng = Math.PI * 2) {\n  const ang = Math.min(TAU, endAng - startAng);\n  const ret = ang === TAU ? [] : [[x0, y0]];\n  const segments = Math.round(TAU_SEGMENTS * ang / TAU);\n  for(let i = 0; i &lt;= segments; i++) {\n    const x = x0 + radiusX * Math.cos(startAng + ang * i / segments);\n    const y = y0 + radiusY * Math.sin(startAng + ang * i / segments);\n    ret.push([x, y]);\n  }\n  return ret;\n}\n\ndraw(ellipse(0, 0, 100, 50));\n</code></pre><p>å…¶æ¬¡æ˜¯æŠ›ç‰©çº¿ï¼Œå®ƒçš„å‡½æ•°ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre><code>const LINE_SEGMENTS = 60;\nfunction parabola(x0, y0, p, min, max) {\n  const ret = [];\n  for(let i = 0; i &lt;= LINE_SEGMENTS; i++) {\n    const s = i / 60;\n    const t = min * (1 - s) + max * s;\n    const x = x0 + 2 * p * t ** 2;\n    const y = y0 + 2 * p * t;\n    ret.push([x, y]);\n  }\n  return ret;\n}\n\ndraw(parabola(0, 0, 5.5, -10, 10));\n</code></pre><h3>3. ç”»å…¶ä»–å¸¸è§æ›²çº¿</h3><p>é™¤äº†å‰é¢è¯´çš„åœ†é”¥æ›²çº¿ï¼Œåº”ç”¨å‚æ•°æ–¹ç¨‹æˆ‘ä»¬è¿˜å¯ä»¥ç»˜åˆ¶è®¸å¤šæ¯”è¾ƒæœ‰è¶£çš„æ›²çº¿ï¼Œè¿™äº›æ›²çº¿åœ¨å®é™…å·¥ä½œä¸­ï¼Œå¸¸å¸¸ç”¨æ¥æ„å»ºå„ç§å‡ ä½•å›¾å½¢ã€‚</p><p>ä¸è¿‡ï¼Œå¦‚æœæˆ‘ä»¬ä¸ºæ¯ä¸€ç§æ›²çº¿éƒ½åˆ†åˆ«å¯¹åº”å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œå°±ä¼šéå¸¸ç¬¨æ‹™å’Œç¹çã€‚é‚£ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å‡½æ•°å¼çš„ç¼–ç¨‹æ€æƒ³ï¼Œå°è£…ä¸€ä¸ªæ›´ç®€å•çš„JavaScriptå‚æ•°æ–¹ç¨‹ç»˜å›¾æ¨¡å—ï¼Œä»¥æ­¤æ¥ç»˜åˆ¶å‡ºä¸åŒçš„æ›²çº¿ã€‚è¿™ä¸ªç»˜å›¾æ¨¡å—çš„ä½¿ç”¨è¿‡ç¨‹ä¸»è¦åˆ†ä¸ºä¸‰æ­¥ã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬å®ç°ä¸€ä¸ªå«åšparametricçš„é«˜é˜¶å‡½æ•°ï¼Œå®ƒçš„å‚æ•°åˆ†åˆ«æ˜¯xã€yåæ ‡å’Œå‚æ•°æ–¹ç¨‹ã€‚</p><p>ç¬¬äºŒæ­¥ï¼Œparametricä¼šè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šæ¥å—å‡ ä¸ªå‚æ•°ï¼Œæ¯”å¦‚ï¼Œstartã€endè¿™æ ·è¡¨ç¤ºå‚æ•°æ–¹ç¨‹ä¸­å…³é”®å‚æ•°èŒƒå›´çš„å‚æ•°ï¼Œä»¥åŠsegè¿™æ ·è¡¨ç¤ºé‡‡æ ·ç‚¹ä¸ªæ•°çš„å‚æ•°ç­‰ç­‰ã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œå½“segé»˜è®¤100æ—¶ï¼Œå°±è¡¨ç¤ºåœ¨startã€endèŒƒå›´å†…é‡‡æ ·101ï¼ˆseg+1ï¼‰ä¸ªç‚¹ï¼Œåç»­å…¶ä»–å‚æ•°æ˜¯ä½œä¸ºå¸¸æ•°ä¼ ç»™å‚æ•°æ–¹ç¨‹çš„æ•°æ®ã€‚</p><p>ç¬¬ä¸‰æ­¥ï¼Œæˆ‘ä»¬è°ƒç”¨parametricè¿”å›çš„å‡½æ•°ä¹‹åï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡æœ‰ä¸¤ä¸ªå±æ€§ï¼šä¸€ä¸ªæ˜¯pointsï¼Œä¹Ÿå°±æ˜¯å®ƒç”Ÿæˆçš„é¡¶ç‚¹æ•°æ®ï¼›å¦ä¸€ä¸ªæ˜¯drawæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªdrawæ–¹æ³•å®Œæˆç»˜å›¾ã€‚</p><p>è¿™ä¸ªè¿‡ç¨‹çš„ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>// æ ¹æ®ç‚¹æ¥ç»˜åˆ¶å›¾å½¢\nfunction draw(points, context, {\n  strokeStyle = 'black',\n  fillStyle = null,\n  close = false,\n} = {}) {\n  context.strokeStyle = strokeStyle;\n  context.beginPath();\n  context.moveTo(...points[0]);\n  for(let i = 1; i &lt; points.length; i++) {\n    context.lineTo(...points[i]);\n  }\n  if(close) context.closePath();\n  if(fillStyle) {\n    context.fillStyle = fillStyle;\n    context.fill();\n  }\n  context.stroke();\n}\n\nexport function parametric(xFunc, yFunc) {\n  return function (start, end, seg = 100, ...args) {\n    const points = [];\n    for(let i = 0; i &lt;= seg; i++) {\n      const p = i / seg;\n      const t = start * (1 - p) + end * p;\n      const x = xFunc(t, ...args); // è®¡ç®—å‚æ•°æ–¹ç¨‹ç»„çš„x\n      const y = yFunc(t, ...args);  // è®¡ç®—å‚æ•°æ–¹ç¨‹ç»„çš„y\n      points.push([x, y]);\n    }\n    return {\n      draw: draw.bind(null, points),\n      points,\n    };\n  };\n}\n</code></pre><p>åˆ©ç”¨ç»˜å›¾æ¨¡å—ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»˜åˆ¶å‡ºå„ç§æœ‰è¶£çš„æ›²çº¿äº†ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ç»˜åˆ¶å‡ºæŠ›ç‰©çº¿ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code>// æŠ›ç‰©çº¿å‚æ•°æ–¹ç¨‹\nconst para = parametric(\n  t =&gt; 25 * t,\n  t =&gt; 25 * t ** 2,\n);\n\n// ç»˜åˆ¶æŠ›ç‰©çº¿\npara(-5.5, 5.5).draw(ctx);\n</code></pre><p>å†æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç»˜åˆ¶å‡ºé˜¿åŸºç±³å¾·èºæ—‹çº¿ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code>const helical = parametric(\n  (t, l) =&gt; l * t * Math.cos(t),\n  (t, l) =&gt; l * t * Math.sin(t),\n);\n\nhelical(0, 50, 500, 5).draw(ctx, {strokeStyle: 'blue'});\n</code></pre><p>ä»¥åŠï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç»˜åˆ¶æ˜Ÿå½¢çº¿ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code>const star = parametric(\n  (t, l) =&gt; l * Math.cos(t) ** 3,\n  (t, l) =&gt; l * Math.sin(t) ** 3,\n);\n\nstar(0, Math.PI * 2, 50, 150).draw(ctx, {strokeStyle: 'red'});\n</code></pre><p>åŒæ—¶ç»˜åˆ¶ä¸‰æ¡æ›²çº¿åçš„æ•ˆæœï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚è¯¦ç»†çš„ä»£ç ï¼Œæˆ‘éƒ½æ”¾åˆ°äº†<a href=\"https://github.com/akira-cn/graphics/tree/master/parametric2\">GitHubä»“åº“</a>ã€‚ä½ å¯ä»¥è‡ªå·±åŠ¨æ‰‹è¯•ä¸€è¯•ï¼Œçœ‹çœ‹æ€ä¹ˆæŠŠå®ƒä»¬ç»„åˆæˆæ›´å¤šæœ‰è¶£çš„å›¾å½¢ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/3e/b4/3e20fa773a4bfd78a22160832e2fdbb4.jpg?wh=1040*1050\" alt=\"\"></p><h3>4. ç”»è´å¡å°”æ›²çº¿</h3><p>å‰é¢æˆ‘ä»¬è¯´çš„è¿™äº›æ›²çº¿éƒ½æ¯”è¾ƒå¸¸è§ï¼Œå®ƒä»¬éƒ½æ˜¯ç¬¦åˆæŸç§å›ºå®šæ•°å­¦è§„å¾‹çš„æ›²çº¿ã€‚ä½†ç”Ÿæ´»ä¸­è¿˜æœ‰å¾ˆå¤šä¸è§„åˆ™çš„å›¾å½¢ï¼Œæ— æ³•ç”¨ä¸Šé¢è¿™äº›è§„å¾‹çš„æ›²çº¿å»æè¿°ã€‚é‚£æˆ‘ä»¬è¯¥å¦‚ä½•å»æè¿°è¿™äº›ä¸è§„åˆ™å›¾å½¢å‘¢ï¼Ÿ<strong>è´å¡å°”æ›²çº¿</strong>ï¼ˆBezier Curvesï¼‰å°±æ˜¯æœ€å¸¸è§çš„ä¸€ç§è§£å†³æ–¹å¼ã€‚å®ƒåœ¨å¯è§†åŒ–é¢†åŸŸä¸­ä¹Ÿæ˜¯ä¸€ç±»éå¸¸å¸¸ç”¨çš„æ›²çº¿ï¼Œå®ƒé€šè¿‡èµ·ç‚¹ã€ç»ˆç‚¹å’Œå°‘é‡æ§åˆ¶ç‚¹ï¼Œå°±èƒ½å®šä¹‰å‚æ•°æ–¹ç¨‹æ¥ç”Ÿæˆå¤æ‚çš„å¹³æ»‘æ›²çº¿ï¼Œæ‰€ä»¥å®ƒé€šå¸¸è¢«ç”¨æ¥æ„å»ºæ•°æ®ä¿¡æ¯ä¹‹é—´è¿æ¥çº¿ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/54/29/546a855fc34c45cb7e654ffda4f88f29.png?wh=917*494\" alt=\"\" title=\"è´å¡å°”æ›²çº¿ç¤ºæ„å›¾\"></p><p>è´å¡å°”æ›²çº¿åˆåˆ†ä¸º<strong>äºŒé˜¶è´å¡å°”æ›²çº¿</strong>ï¼ˆQuadratic Bezier Curveï¼‰å’Œ<strong>ä¸‰é˜¶è´å¡å°”æ›²çº¿</strong>ï¼ˆQubic Bezier Curveï¼‰ã€‚é¡¾åæ€ä¹‰ï¼ŒäºŒé˜¶è´å¡å°”æ›²çº¿çš„å‚æ•°æ–¹ç¨‹æ˜¯ä¸€å…ƒäºŒæ¬¡å¤šé¡¹å¼ï¼Œé‚£ä¹ˆä¸‰é˜¶è´å¡å°”æ›²çº¿çš„å‚æ•°æ–¹ç¨‹æ˜¯ä¸€å…ƒä¸‰æ¬¡å¤šé¡¹å¼ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±åˆ†åˆ«è¯´è¯´å®ƒä»¬çš„å…¬å¼å’Œæè¿°æ›²çº¿çš„æ–¹æ³•</p><p>å…¶ä¸­ï¼ŒäºŒé˜¶è´å¡å°”æ›²çº¿ç”±ä¸‰ä¸ªç‚¹ç¡®å®šï¼ŒP<sub>0</sub>æ˜¯èµ·ç‚¹ï¼ŒP<sub>1</sub>æ˜¯æ§åˆ¶ç‚¹ï¼ŒP<sub>2</sub>æ˜¯ç»ˆç‚¹ï¼Œç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/5a/36/5a15bb08a9815723a7745119b6328436.jpeg?wh=1920*1080\" alt=\"\"></p><p>æˆ‘ä»¬å¯ä»¥ç”¨parametricæ„å»ºå¹¶ç»˜åˆ¶äºŒé˜¶è´å¡å°”æ›²çº¿ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>const quadricBezier = parametric(\n  (t, [{x: x0}, {x: x1}, {x: x2}]) =&gt; (1 - t) ** 2 * x0 + 2 * t * (1 - t) * x1 + t ** 2 * x2,\n  (t, [{y: y0}, {y: y1}, {y: y2}]) =&gt; (1 - t) ** 2 * y0 + 2 * t * (1 - t) * y1 + t ** 2 * y2,\n);\n\nconst p0 = new Vector2D(0, 0);\nconst p1 = new Vector2D(100, 0);\np1.rotate(0.75);\nconst p2 = new Vector2D(200, 0);\nconst count = 30;\nfor(let i = 0; i &lt; count; i++) {\n  // ç»˜åˆ¶30æ¡ä»åœ†å¿ƒå‡ºå‘ï¼Œæ—‹è½¬ä¸åŒè§’åº¦çš„äºŒé˜¶è´å¡å°”æ›²çº¿\n  p1.rotate(2 / count * Math.PI);\n  p2.rotate(2 / count * Math.PI);\n  quadricBezier(0, 1, 100, [\n    p0,\n    p1,\n    p2,\n  ]).draw(ctx);\n}\n</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç»˜åˆ¶äº†30ä¸ªäºŒé˜¶è´å¡å°”æ›²çº¿ï¼Œå®ƒä»¬çš„èµ·ç‚¹éƒ½æ˜¯(0,0)ï¼Œç»ˆç‚¹å‡åŒ€åˆ†å¸ƒåœ¨åŠå¾„200çš„åœ†ä¸Šï¼Œæ§åˆ¶ç‚¹å‡åŒ€åœ°åˆ†å¸ƒåœ¨åŠå¾„100çš„åœ†ä¸Šã€‚æœ€ç»ˆï¼Œå®ç°çš„æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚è¯¦ç»†çš„ä»£ç ï¼Œä½ å¯ä»¥è®¿é—®<a href=\"https://github.com/akira-cn/graphics/tree/master/bezier\">GitHubä»“åº“</a>ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/f7/98/f7228ee8407ea5ee8b2ac2896eef0798.jpeg?wh=1920*1080\" alt=\"\" title=\"äºŒé˜¶è´å¡å°”æ›²çº¿æ•ˆæœå›¾\"></p><p>ä¸‰é˜¶è´å¡å°”æ›²çº¿çš„å‚æ•°æ–¹ç¨‹ä¸ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/d3/1c/d35dfdfca5abf67f98f35e2ae168771c.jpg?wh=1920*349\" alt=\"\"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸äºŒé˜¶è´å¡å°”æ›²çº¿ç›¸æ¯”ï¼Œä¸‰é˜¶è´å¡å°”æ›²çº¿æœ‰4ä¸ªç‚¹ï¼Œå…¶ä¸­P<sub>0</sub>å’ŒP<sub>3</sub>æ˜¯èµ·ç‚¹å’Œç»ˆç‚¹ï¼ŒP<sub>1</sub>ã€P<sub>2</sub>æ˜¯æ§åˆ¶ç‚¹ï¼Œæ‰€ä»¥ä¸‰é˜¶è´å¡å°”æ›²çº¿æœ‰ä¸¤ä¸ªæ§åˆ¶ç‚¹ã€‚</p><p><a href=\"http://math001.com/bezier_curve/\"><img src=\"https://static001.geekbang.org/resource/image/45/55/45d35cb4e1b446501fcefac07b3dab55.gif?wh=360*150\" alt=\"\" title=\"ä¸‰é˜¶è´å¡å°”æ›²çº¿çš„åŸç†ç¤ºæ„å›¾\"></a></p><p>æˆ‘ä»¬åŒæ ·å¯ä»¥ç”¨parametricæ„å»ºå¹¶ç»˜åˆ¶ä¸‰é˜¶è´å¡å°”æ›²çº¿ï¼š</p><pre><code>const cubicBezier = parametric(\n  (t, [{x: x0}, {x: x1}, {x: x2}, {x: x3}]) =&gt; (1 - t) ** 3 * x0 + 3 * t * (1 - t) ** 2 * x1 + 3 * (1 - t) * t ** 2 * x2 + t ** 3 * x3,\n  (t, [{y: y0}, {y: y1}, {y: y2}, {y: y3}]) =&gt; (1 - t) ** 3 * y0 + 3 * t * (1 - t) ** 2 * y1 + 3 * (1 - t) * t ** 2 * y2 + t ** 3 * y3,\n);\n\nconst p0 = new Vector2D(0, 0);\nconst p1 = new Vector2D(100, 0);\np1.rotate(0.75);\nconst p2 = new Vector2D(150, 0);\np2.rotate(-0.75);\nconst p3 = new Vector2D(200, 0);\nconst count = 30;\nfor(let i = 0; i &lt; count; i++) {\n  p1.rotate(2 / count * Math.PI);\n  p2.rotate(2 / count * Math.PI);\n  p3.rotate(2 / count * Math.PI);\n  cubicBezier(0, 1, 100, [\n    p0,\n    p1,\n    p2,\n    p3,\n  ]).draw(ctx);\n}\n</code></pre><p>ä¸‰é˜¶è´å¡å°”æ›²çº¿æ§åˆ¶ç‚¹æ¯”äºŒé˜¶è´å¡å°”æ›²çº¿å¤šï¼Œè¿™æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼Ÿå› ä¸ºæ§åˆ¶ç‚¹è¶Šå¤šï¼Œæ›²çº¿èƒ½å¤Ÿæ¨¡æ‹Ÿå‡ºæ›´å¤šä¸åŒçš„å½¢çŠ¶ï¼Œä¹Ÿèƒ½æ›´ç²¾ç¡®åœ°æ§åˆ¶ç»†èŠ‚ã€‚æ¯”å¦‚è¯´ï¼Œåœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç»˜åˆ¶äº†30ä¸ªä¸‰é˜¶è´å¡å°”æ›²çº¿ï¼Œå®ƒä»¬çš„èµ·ç‚¹éƒ½ä¸º(0,0)ï¼Œç»ˆç‚¹å‡åŒ€åˆ†å¸ƒåœ¨åŠå¾„200çš„åœ†ä¸Šï¼Œæ§åˆ¶ç‚¹1å‡åŒ€åˆ†å¸ƒåœ¨åŠå¾„ä¸º100çš„åœ†ä¸Šï¼Œæ§åˆ¶ç‚¹2å‡åŒ€åˆ†å¸ƒåŠå¾„150çš„åœ†ä¸Šã€‚å®ƒå’Œæˆ‘ä»¬ä¹‹å‰å®ç°çš„äºŒé˜¶è´å¡å°”æ›²çº¿ç›¸æ¯”ï¼Œæ§åˆ¶å¾—æ›´ç»†è‡´ï¼Œå½¢æˆçš„å›¾æ¡ˆä¿¡æ¯æ›´ä¸°å¯Œã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/6a/21/6a86ffe30937734e3601ba3724ab6721.jpeg?wh=1920*1080\" alt=\"\" title=\"ä¸‰é˜¶è´å¡å°”æ›²çº¿æ•ˆæœå›¾\"></p><p>æ€»çš„æ¥è¯´ï¼Œè´å¡å°”æ›²çº¿å¯¹äºå¯è§†åŒ–ï¼Œç”šè‡³æ•´ä¸ªè®¡ç®—æœºå›¾å½¢å­¦éƒ½æœ‰ç€æå…¶é‡è¦çš„æ„ä¹‰ã€‚å› ä¸ºå®ƒèƒ½å¤Ÿé’ˆå¯¹ä¸€ç»„ç¡®å®šçš„ç‚¹ï¼Œåœ¨å…¶ä¸­æ„é€ å¹³æ»‘çš„æ›²çº¿ï¼Œè¿™ä¹Ÿè®©å›¾å½¢çš„å®ç°æœ‰äº†æ›´å¤šçš„å¯èƒ½æ€§ã€‚è€Œä¸”ï¼Œè´å¡å°”æ›²çº¿è¿˜å¯ä»¥ç”¨æ¥æ„å»ºCatmullâ€“Romæ›²çº¿ã€‚Catmullâ€“Romæ›²çº¿ä¹Ÿæ˜¯ä¸€ç§å¸¸ç”¨çš„æ›²çº¿ï¼Œå®ƒå¯ä»¥å¹³æ»‘æŠ˜çº¿ï¼Œæˆ‘ä»¬åœ¨æ•°æ®ç»Ÿè®¡å›¾è¡¨ä¸­ç»å¸¸ä¼šç”¨åˆ°å®ƒã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/f9/eb/f9dd8a508e3368141d15b85a330378eb.jpg?wh=1070*728\" alt=\"\" title=\"ä½¿ç”¨Catmullâ€“Romæ›²çº¿ç»˜åˆ¶çš„æŠ˜çº¿ã€æ›²çº¿å’Œéƒ¨åˆ†å¹³æ»‘æŠ˜çº¿\"></p><p>å®é™…ä¸ŠCanvas2Då’ŒSVGéƒ½æä¾›äº†ç›´æ¥ç»˜åˆ¶è´å¡å°”æ›²çº¿çš„APIï¼Œæ¯”å¦‚åœ¨Canvas2Dä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»ºPath2Då¯¹è±¡ï¼Œä½¿ç”¨Path2Dæ”¯æŒçš„SVGPathæŒ‡ä»¤æ·»åŠ è´å¡å°”æ›²çº¿ã€‚å³ä½¿å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¾ç„¶éœ€è¦æŒæ¡è´å¡å°”æ›²çº¿çš„åŸºæœ¬åŸç†ã€‚å› ä¸ºåœ¨WebGLè¿™æ ·çš„å›¾å½¢ç³»ç»Ÿé‡Œï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦è‡ªå·±å®ç°è´å¡å°”æ›²çº¿çš„ç»˜åˆ¶ï¼Œè€Œä¸”è´å¡å°”æ›²çº¿é™¤äº†ç»˜åˆ¶æ›²çº¿ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–çš„ç”¨å¤„ï¼Œæ¯”å¦‚æ„å»ºå¹³æ»‘çš„è½¨è¿¹åŠ¨ç”»ã€å±æ€§æ’å€¼ç­‰ç­‰ã€‚è¿™äº›å†…å®¹ï¼Œæˆ‘ä»¬ä¹Ÿä¼šåœ¨åç»­è¯¾ç¨‹ä¸­ä¼šæ·±å…¥è®¨è®ºã€‚</p><h2>è¦ç‚¹æ€»ç»“</h2><p>è¿™ä¸€èŠ‚è¯¾æˆ‘ä»¬è®¨è®ºäº†ç”¨æ›²çº¿å’Œå‚æ•°æ–¹ç¨‹æè¿°æ›²çº¿çš„æ–¹æ³•ã€‚</p><p>ç”¨å‘é‡æè¿°æ¯”è¾ƒç®€å•ç›´æ¥ï¼Œå…ˆç¡®å®šèµ·å§‹ç‚¹å’Œèµ·å§‹å‘é‡ï¼Œç„¶åé€šè¿‡æ—‹è½¬å’Œå‘é‡åŠ æ³•æ¥æ§åˆ¶å½¢çŠ¶ï¼Œå°±å¯ä»¥å°†æ›²çº¿ä¸€æ®µä¸€æ®µåœ°ç»˜åˆ¶å‡ºæ¥ã€‚ä½†æ˜¯å®ƒçš„ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯æ•°å­¦ä¸Šä¸å¤ªç›´è§‚ï¼Œéœ€è¦å¤æ‚çš„æ¢ç®—æ‰èƒ½ç²¾ç¡®ç¡®å®šå›¾å½¢çš„ä½ç½®å’Œå¤§å°ã€‚</p><p>ä½¿ç”¨å‚æ•°æ–¹ç¨‹èƒ½å¤Ÿé¿å…å‘é‡ç»˜åˆ¶çš„ç¼ºç‚¹ï¼Œå› æ­¤æ˜¯æ›´å¸¸ç”¨çš„ç»˜åˆ¶æ–¹å¼ã€‚ä½¿ç”¨å‚æ•°æ–¹ç¨‹ç»˜åˆ¶æ›²çº¿æ—¶ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥ä½¿ç”¨æœ‰è§„å¾‹çš„æ›²çº¿å‚æ•°æ–¹ç¨‹æ¥ç»˜åˆ¶è¿™äº›è§„åˆ™æ›²çº¿ï¼Œè¿˜å¯ä»¥ä½¿ç”¨äºŒé˜¶ã€ä¸‰é˜¶è´å¡å°”æ›²çº¿æ¥åœ¨èµ·ç‚¹å’Œç»ˆç‚¹ä¹‹é—´æ„é€ å¹³æ»‘æ›²çº¿ã€‚</p><h2>å°è¯•ç‰›åˆ€</h2><ol>\n<li>Canvas2Då’ŒSVGä¸­éƒ½æä¾›äº†ç”»åœ†ã€æ¤­åœ†ã€è´å¡å°”æ›²çº¿çš„æŒ‡ä»¤ï¼Œä½ å¯ä»¥å°è¯•ç›´æ¥ä½¿ç”¨è¿™äº›æŒ‡ä»¤æ¥ç»˜åˆ¶åœ†ã€æ¤­åœ†å’Œè´å¡å°”æ›²çº¿ï¼Œç„¶åæ¯”è¾ƒä¸€ä¸‹ä½¿ç”¨è¿™äº›æŒ‡ä»¤å’Œä½¿ç”¨æˆ‘ä»¬è¯¾ç¨‹ä¸­è®²è¿‡çš„æ–¹æ³•æœ‰ä»€ä¹ˆä¸åŒã€‚</li>\n<li>é™¤äº†åœ†å’Œæ¤­åœ†è¿™äº›å¸¸è§çš„å‚æ•°æ–¹ç¨‹ï¼Œä½ è¿˜èƒ½è‡ªå·±åˆ›é€ å‡ºä¸€äº›å‚æ•°æ–¹ç¨‹å—ï¼Ÿå¦‚æœå¯ä»¥ï¼Œä½ å¯ä»¥ä½¿ç”¨parametric.jsæŠŠå®ƒä»¬ç»˜åˆ¶å‡ºæ¥ã€‚</li>\n<li>æˆ‘åœ¨è¯¾ç¨‹ä¸­ï¼Œç”»äº†ä¸¤ä¸ªæœ€åŸºç¡€çš„è´å¡å°”æ›²çº¿ã€‚ä½ èƒ½è¯•ç€ä¿®æ”¹parametric.jsçš„ä»£ç ï¼Œè°ƒæ•´ä¸€ä¸‹è´å¡å°”æ›²çº¿æ§åˆ¶ç‚¹å‚æ•°ï¼Œç”»å‡ºæ›´æœ‰è¶£çš„å›¾å½¢å—ï¼Ÿ</li>\n</ol><p>æ¬¢è¿åœ¨ç•™è¨€åŒºå’Œæˆ‘è®¨è®ºï¼Œåˆ†äº«ä½ çš„ç­”æ¡ˆå’Œæ€è€ƒï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™ä½ çš„æœ‹å‹ï¼Œæˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ï¼</p><hr><h2><span class=\"reference\">æºç </span></h2><p><span class=\"reference\">[1]<a href=\"https://github.com/akira-cn/graphics/tree/master/parametric\">ç»˜åˆ¶åœ†é”¥æ›²çº¿å®Œæ•´ä»£ç </a></span></p><p><span class=\"reference\">[2]<a href=\"https://github.com/akira-cn/graphics/tree/master/parametric2\">ç»˜åˆ¶å…¶ä»–æ›²çº¿å®Œæ•´ä»£ç </a></span></p><p><span class=\"reference\">[3]<a href=\"https://github.com/akira-cn/graphics/tree/master/bezier\">ç»˜åˆ¶è´å¡å°”æ›²çº¿å®Œæ•´ä»£ç </a></span></p><h2><span class=\"reference\">æ¨èé˜…è¯»</span></h2><p><span class=\"reference\"> <a href=\"https://github.com/akira-cn/graphics/blob/master/common/lib/parametric.js\">Parametric.js</a></span></p>","comments":[{"had_liked":false,"id":232384,"user_name":"Geek_13e8db","can_delete":false,"product_type":"c1","uid":2046639,"ip_address":"","ucode":"3E214016FC2862","user_header":"","comment_is_top":false,"comment_ctime":1593992810,"is_pvip":false,"replies":[{"id":"85867","content":"å—¯å—¯ï¼Œparametricè¿™å—å®ç°ç”¨äº†è¿‡ç¨‹æŠ½è±¡æ€æƒ³ï¼Œå®ƒæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„åŸºç¡€ï¼Œæˆ‘ä¼šç”¨ä¸€ç¯‡åŠ é¤æ¥ä¸“é—¨ä»‹ç»è¿™ç§ç¼–ç¨‹æ€æƒ³","user_name":"ä½œè€…å›å¤","comment_id":232384,"uid":"1159792","ip_address":"","utype":1,"ctime":1594080527,"user_name_real":"æœˆå½±"}],"discussion_count":5,"race_medal":0,"score":"35953731178","product_id":100053801,"comment_content":"è¿™ç¯‡æ•™ç¨‹å†™å¾—å¾ˆå¥½ï¼Œæ„Ÿè°¢æœˆå½±è€å¸ˆï¼è¿™é‡Œæä¸€ä¸ªå°å»ºè®®ï¼šé™„ä»¶çš„snippetä¸­ï¼Œå‚æ•°çš„å®šä¹‰å¯¹äºåˆå­¦è€…è€Œè¨€ï¼Œéœ€è¦èŠ±è¾ƒé•¿æ—¶é—´æ‰èƒ½ç†è§£ã€‚è€å¸ˆèƒ½å¦åœ¨fn parametric()é‡Œé¢åŠ ä¸Šæ›´å¤šçš„commentï¼Œæˆ–è€…èµ·ä¸€äº›æ›´å…·ä½“çš„å˜é‡åã€‚å¤šè°¢ã€‚<br>å½“ç„¶ï¼Œå½“å‰è¿™ä¹ˆå†™ï¼Œè®©æˆ‘ä¸å¾—ä¸èŠ±å¾ˆå¤šæ—¶é—´æ¥ç†è§£æ¯è¡Œä»£ç ï¼Œå®¢è§‚ä¸ŠåŠ å¼ºäº†å­¦ä¹ æ•ˆæœã€‚<br>","like_count":8,"discussions":[{"author":{"id":1159792,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b2/70/ba9cecc6.jpg","nickname":"æœˆå½±","note":"","ucode":"298582FA7DBF27","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500622,"discussion_content":"å—¯å—¯ï¼Œparametricè¿™å—å®ç°ç”¨äº†è¿‡ç¨‹æŠ½è±¡æ€æƒ³ï¼Œå®ƒæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„åŸºç¡€ï¼Œæˆ‘ä¼šç”¨ä¸€ç¯‡åŠ é¤æ¥ä¸“é—¨ä»‹ç»è¿™ç§ç¼–ç¨‹æ€æƒ³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594080527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1309455,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM4QOQtS9EkriaJb24JjS8TSvpq7vq1r07bZoTlnfNAIa2jbsIgNKgyecr7XgoKBZ9daJkk7fzvnwxg/132","nickname":"Ccc","note":"","ucode":"5A588B3EE9BF98","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295135,"discussion_content":"[{x: x0}, {x: x1}, {x: x2}, {x: x3}]è¿™ä¸ªèµ‹å€¼ç ”ç©¶äº†å¥½ä¹…éƒ½ä¸å¤ªç†è§£ï¼Œèƒ½å¸®å¿™ä¸€ä¸‹ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596100456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":2146442,"avatar":"","nickname":"ssss","note":"","ucode":"6722D7C4091549","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1309455,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM4QOQtS9EkriaJb24JjS8TSvpq7vq1r07bZoTlnfNAIa2jbsIgNKgyecr7XgoKBZ9daJkk7fzvnwxg/132","nickname":"Ccc","note":"","ucode":"5A588B3EE9BF98","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301222,"discussion_content":"æ¯ä¸ªå­æ•°ç»„éƒ½å¸¦æœ‰xï¼Œyå±æ€§ï¼Œä½ å¯ä»¥æ‰“å°å‡ºæ¥çœ‹ä¸€ä¸‹\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598445167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":295135,"ip_address":""},"score":301222,"extra":""},{"author":{"id":2251534,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLia4qBUs5bFs5tU3yVCcBapIcnVftM60nrJ73eu30YDMbDNvjhvnibct3pMYlj62G1c7nH8jSBaiaLw/132","nickname":"ææ–‡å½¬","note":"","ucode":"4CD326DC443028","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1309455,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM4QOQtS9EkriaJb24JjS8TSvpq7vq1r07bZoTlnfNAIa2jbsIgNKgyecr7XgoKBZ9daJkk7fzvnwxg/132","nickname":"Ccc","note":"","ucode":"5A588B3EE9BF98","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334584,"discussion_content":"æˆ‘ä¸€å¼€å§‹ä¹Ÿæ˜¯ï¼Œåæ¥çœ‹åˆ°é™¤äº†æ•°ç»„çš„æ–¹å¼ï¼Œè¿˜æœ‰xå’Œyå±æ€§~~ä½ æŠŠ{x: x0}æ¢æˆ{[0:x0]}ï¼ˆå…¶ä»–ç±»ä¼¼ï¼‰ä¹Ÿæ˜¯ä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607907444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":295135,"ip_address":""},"score":334584,"extra":""},{"author":{"id":1123627,"avatar":"https://static001.geekbang.org/account/avatar/00/11/25/2b/7f6aabc2.jpg","nickname":"wendraw","note":"","ucode":"EA404D7CFCAB44","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1309455,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM4QOQtS9EkriaJb24JjS8TSvpq7vq1r07bZoTlnfNAIa2jbsIgNKgyecr7XgoKBZ9daJkk7fzvnwxg/132","nickname":"Ccc","note":"","ucode":"5A588B3EE9BF98","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378076,"discussion_content":"å°±æ˜¯ ES6 ä¸­çš„å‚æ•°è§£æ„å’Œé‡å‘½åï¼Œp0ã€p1ã€p2 çš„æ•°æ®ç»“æ„éƒ½æ˜¯ {x, y}ï¼Œå°†ä»–ä»¬çš„ x å–å‡ºæ¥å¹¶é‡å‘½åä¸º x0ã€x1ã€x2ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623051214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":295135,"ip_address":""},"score":378076,"extra":""}]}]},{"had_liked":false,"id":243758,"user_name":"ä¸è§é£åˆ€","can_delete":false,"product_type":"c1","uid":1221078,"ip_address":"","ucode":"2490E8D608CECA","user_header":"https://static001.geekbang.org/account/avatar/00/12/a1/d6/9d99e5ef.jpg","comment_is_top":false,"comment_ctime":1598268213,"is_pvip":false,"replies":[{"id":"89818","content":"è¿™æ˜¯çº¿æ€§æ’å€¼ï¼Œtæ˜¯å½“å‰æ—¶é—´çš„å€¼","user_name":"ä½œè€…å›å¤","comment_id":243758,"uid":"1159792","ip_address":"","utype":1,"ctime":1598313170,"user_name_real":"æœˆå½±"}],"discussion_count":3,"race_medal":0,"score":"10188202805","product_id":100053801,"comment_content":"è€å¸ˆèƒ½ä¸èƒ½è§£é‡Šä¸€ä¸‹const t = start * (1 - p) + end * p; è¿™æ®µä»£ç é‡Œçš„tçš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦è¿™ä¹ˆç®—","like_count":2,"discussions":[{"author":{"id":1159792,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b2/70/ba9cecc6.jpg","nickname":"æœˆå½±","note":"","ucode":"298582FA7DBF27","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504384,"discussion_content":"è¿™æ˜¯çº¿æ€§æ’å€¼ï¼Œtæ˜¯å½“å‰æ—¶é—´çš„å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598313170,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2131824,"avatar":"","nickname":"Geek8686","note":"","ucode":"00A170CACF8365","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327218,"discussion_content":"const t = start + (end - start) * p;\nä¸çŸ¥é“è¿™æ ·è¡¨è¾¾ä¼šä¸ä¼šæ›´æ¸…æ¥šï¼›\nåŒæ—¶å°‘äº†ä¸€æ¬¡ä¹˜æ³•æ“ä½œï¼›","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1605770450,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2045427,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/35/f3/32a3afa0.jpg","nickname":"Gazer","note":"","ucode":"E65544BFF884DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2131824,"avatar":"","nickname":"Geek8686","note":"","ucode":"00A170CACF8365","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334983,"discussion_content":"æˆ‘çº ç»“äº†åŠå¤©...pçš„é—®é¢˜..\næœ€åï¼š\nvar seg =9\nvar start =1,end = 10\nfor(var i=0;i<=seg;i++){\n    var p = i/seg;\n    var t = start*(1-p)+end*p \n\n    var t = start -start*p+end*p\n\n    var t = start -(start-end)*p\n\n    var t = start + (end-start)*i/seg\n    \n    var t = start + (end-start)/seg*i\n\n}","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1608042277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":327218,"ip_address":""},"score":334983,"extra":""}]}]},{"had_liked":false,"id":252430,"user_name":"I keep my idealsğŸ’¤","can_delete":false,"product_type":"c1","uid":1483413,"ip_address":"","ucode":"38E68A0BCABA01","user_header":"https://static001.geekbang.org/account/avatar/00/16/a2/95/8f34237c.jpg","comment_is_top":false,"comment_ctime":1602299278,"is_pvip":true,"replies":[{"id":"93054","content":"å°±æ˜¯æ•´åœ†çš„çº¿æ®µæ•°ä¹˜ä»¥å¼§åº¦ä¸2piçš„æ¯”å€¼å¾—åˆ°åœ†å¼§çš„çº¿æ®µæ•°","user_name":"ä½œè€…å›å¤","comment_id":252430,"uid":"1159792","ip_address":"","utype":1,"ctime":1603354327,"user_name_real":"æœˆå½±"}],"discussion_count":2,"race_medal":0,"score":"5897266574","product_id":100053801,"comment_content":"const segments = Math.round(TAU_SEGMENTS * ang &#47; TAU)ä¸å¤ªç†è§£è¿™ä¸€æ­¥çš„å«ä¹‰  å¸Œæœ›è€å¸ˆèƒ½å¤Ÿå¸®æˆ‘è§£é™¤ä¸€ä¸‹ç–‘æƒ‘","like_count":1,"discussions":[{"author":{"id":1159792,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b2/70/ba9cecc6.jpg","nickname":"æœˆå½±","note":"","ucode":"298582FA7DBF27","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506773,"discussion_content":"å°±æ˜¯æ•´åœ†çš„çº¿æ®µæ•°ä¹˜ä»¥å¼§åº¦ä¸2piçš„æ¯”å€¼å¾—åˆ°åœ†å¼§çš„çº¿æ®µæ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603354327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1469487,"avatar":"https://static001.geekbang.org/account/avatar/00/16/6c/2f/1dfbcf27.jpg","nickname":"æ˜‚å¸•å¸•æ–¯","note":"","ucode":"244C3F6B455899","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319185,"discussion_content":"ä¸€ä¸ªæ•´åœ†ç”± TAU_SEGMENTS(60) æ®µå¼§çº¿æ„æˆï¼Œæ•´åœ†å¼§åº¦æ˜¯ 2 PIï¼›å½“ç›®æ ‡å›¾å½¢å¼§åº¦ä¸º ang æ—¶ï¼ˆå¯èƒ½ä¸æ˜¯æ•´åœ†ï¼‰ï¼Œæ­¤æ—¶å¼§çº¿çš„æ®µæ•° = ang / 2 PI * TAU_SEGMENTSï¼Œä»£ç é‡Œ TAU çš„å€¼å°±æ˜¯ 2 PIï¼›æ¯”å¦‚ä¸€ä¸ªåŠåœ† ang = PIï¼Œä»£å…¥å…¬å¼åŠåœ†çš„å¼§çº¿æ•°é‡å°±æ˜¯30æ®µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603959203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239418,"user_name":"é‡å­è”·è–‡","can_delete":false,"product_type":"c1","uid":1999274,"ip_address":"","ucode":"EFD71A65DF2262","user_header":"https://static001.geekbang.org/account/avatar/00/1e/81/aa/1f7a8e88.jpg","comment_is_top":false,"comment_ctime":1596528623,"is_pvip":false,"replies":[{"id":"88827","content":"è¿™ä¸ªéœ€è¦æ…¢æ…¢ç»ƒä¹ å°±æœ‰æ„Ÿè§‰äº†<br>","user_name":"ä½œè€…å›å¤","comment_id":239418,"uid":"1159792","ip_address":"","utype":1,"ctime":1597022519,"user_name_real":"æœˆå½±"}],"discussion_count":1,"race_medal":0,"score":"5891495919","product_id":100053801,"comment_content":"è¯·é—®è€å¸ˆï¼Œåœ†å’Œæ¤­åœ†çš„å‚æ•°æ–¹ç¨‹ä½¿ç”¨å¼§åº¦å€¼ä½œä¸ºå‚æ•°ï¼Œæ‰€ä»¥å³ä½¿åªçœ‹æ–¹ç¨‹ä¹Ÿèƒ½æƒ³è±¡å‡ºæ›²çº¿çš„æ ·å­ï¼Œä½†æ˜¯å…¶ä»–æ›²çº¿æ¯”å¦‚åœ†é”¥æ›²çº¿çš„ start å’Œ end ä¸èƒ½ç†è§£èµ·åˆ°äº†ä»€ä¹ˆä½œç”¨ï¼Œåªèƒ½å‡­æ„Ÿè§‰ç”»å‡ºæ¥åå†æ”¹å‚æ•°æ…¢æ…¢å¾®è°ƒï¼Œå¦‚ä½•é€‰æ‹© start å’Œ end çš„å€¼ï¼Œè¿™é‡Œé¢æœ‰ä»€ä¹ˆæŠ€å·§å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1159792,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b2/70/ba9cecc6.jpg","nickname":"æœˆå½±","note":"","ucode":"298582FA7DBF27","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503099,"discussion_content":"è¿™ä¸ªéœ€è¦æ…¢æ…¢ç»ƒä¹ å°±æœ‰æ„Ÿè§‰äº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597022519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232425,"user_name":"å»–ç†ŠçŒ«","can_delete":false,"product_type":"c1","uid":1141444,"ip_address":"","ucode":"8E8C475CD11FBC","user_header":"https://static001.geekbang.org/account/avatar/00/11/6a/c4/8679ca8a.jpg","comment_is_top":false,"comment_ctime":1594000942,"is_pvip":false,"replies":[{"id":"86034","content":"å…¶å®ç†è§£è´å¡å°”æ›²çº¿çš„åŸç†å°±å¤§è‡´èƒ½çŸ¥é“è´å¡å°”æ›²çº¿çš„æ ·å­ã€‚ä¸è¿‡å¦‚æœéœ€è¦ç²¾ç¡®çš„æ§åˆ¶ï¼Œè¿˜æ˜¯åº”è¯¥ç”¨ä¸€äº›ç”»è´å¡å°”æ›²çº¿çš„å·¥å…·ï¼Œè¿™ç±»å·¥å…·ä¸å°‘ï¼Œä½ å¯ä»¥åœ¨githubä¸Šæœä¸€ä¸‹ï¼Œè¾“å…¥ç®€å•çš„å‚æ•°å°±å¯ä»¥å°†å›¾å½¢ç”»å‡ºæ¥ã€‚","user_name":"ä½œè€…å›å¤","comment_id":232425,"uid":"1159792","ip_address":"","utype":1,"ctime":1594261820,"user_name_real":"æœˆå½±"}],"discussion_count":1,"race_medal":0,"score":"5888968238","product_id":100053801,"comment_content":"æ„Ÿè°¢æœˆå½±è€å¸ˆçš„è®²è§£ã€‚è´å¡å°”æ›²çº¿æ¥è§¦çš„æ—¶é—´ä¹ŸæŒºé•¿äº†ï¼Œä½†æ˜¯æ€»æ˜¯æ„Ÿè§‰ä¸å¾—è¦é¢†ï¼Œæ›²çº¿çš„å…¬å¼éƒ½æ˜¯æ­»è®°ç¡¬èƒŒå‡ºæ¥çš„ï¼Œä¹Ÿå¾ˆéš¾æƒ³è±¡å‡ºæ¥å¯¹åº”æ§åˆ¶ç‚¹ç»˜åˆ¶å‡ºæ¥çš„æ›²çº¿çš„å¤§æ¦‚æ ·å­ï¼Œå…¶å®å¯¹äºå¾ˆå¤šç±»ä¼¼è´å¡å°”æ›²çº¿çš„å‚æ•°ç»˜åˆ¶æ›²çº¿éƒ½æ˜¯è¿™æ ·å­ï¼Œå¸Œæœ›å¯ä»¥äº†è§£ä¸‹å¯¹äºè¿™äº›æ›²çº¿ï¼Œè€å¸ˆå¹³æ—¶éƒ½æ˜¯æ€ä¹ˆè®°å¿†è¿˜æœ‰æƒ³è±¡å¤§æ¦‚çš„ç»˜åˆ¶å½¢çŠ¶çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1159792,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b2/70/ba9cecc6.jpg","nickname":"æœˆå½±","note":"","ucode":"298582FA7DBF27","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500639,"discussion_content":"å…¶å®ç†è§£è´å¡å°”æ›²çº¿çš„åŸç†å°±å¤§è‡´èƒ½çŸ¥é“è´å¡å°”æ›²çº¿çš„æ ·å­ã€‚ä¸è¿‡å¦‚æœéœ€è¦ç²¾ç¡®çš„æ§åˆ¶ï¼Œè¿˜æ˜¯åº”è¯¥ç”¨ä¸€äº›ç”»è´å¡å°”æ›²çº¿çš„å·¥å…·ï¼Œè¿™ç±»å·¥å…·ä¸å°‘ï¼Œä½ å¯ä»¥åœ¨githubä¸Šæœä¸€ä¸‹ï¼Œè¾“å…¥ç®€å•çš„å‚æ•°å°±å¯ä»¥å°†å›¾å½¢ç”»å‡ºæ¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594261820,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341826,"user_name":"ã€è½»","can_delete":false,"product_type":"c1","uid":1625453,"ip_address":"","ucode":"30713196ED1AA6","user_header":"https://static001.geekbang.org/account/avatar/00/18/cd/6d/928b0ffd.jpg","comment_is_top":false,"comment_ctime":1649849477,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649849477","product_id":100053801,"comment_content":"ç»ˆäºæ˜ç™½è´å¡å°”æ›²çº¿æ˜¯æ€ä¹ˆç”»çš„äº†","like_count":0},{"had_liked":false,"id":325592,"user_name":"null","can_delete":false,"product_type":"c1","uid":1130862,"ip_address":"","ucode":"3C97A82395E95C","user_header":"https://static001.geekbang.org/account/avatar/00/11/41/6e/e04ab385.jpg","comment_is_top":false,"comment_ctime":1639034031,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639034031","product_id":100053801,"comment_content":"const t = start * (1 - p) + end * p; <br>åˆšå¼€å§‹ p å’ŒæŠ›ç‰©çº¿ä¸­çš„ p æ··æ·†ï¼Œè¿·ä¹±å¥½ä¸€ä¼šå„¿ï¼›ä¹‹åå¯¹äºè¿™ä¸ªå…¬å¼ç–‘æƒ‘å¥½ä¹…ï¼Œä¸€ä¸ªã€çº¿æ€§æ’å€¼ã€‘ç¬é—´é¡¿æ‚Ÿã€‚start å’Œ end å¯ä»¥æ˜¯åœ†æˆ–æ¤­åœ†çš„å¼§åº¦èŒƒå›´ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€æ®µç±»ä¼¼äºåæ ‡çš„èŒƒå›´ï¼Œæœ€ç»ˆ t æ˜¯è¿™ä¸ªèŒƒå›´å†…çš„çº¿æ€§æ’å€¼ã€‚ä¹‹åå„ä¸ªæ›²çº¿çš„åæ ‡å†åŸºäºè¿™ä¸ªçº¿æ€§å˜åŒ–çš„ t è®¡ç®—å„è‡ªçš„å˜åŒ–ç»“æœï¼›","like_count":0},{"had_liked":false,"id":322018,"user_name":"é£å°šå‰ç«¯å°ç»„ï¼ˆ1ï¼‰","can_delete":false,"product_type":"c1","uid":2837377,"ip_address":"","ucode":"1E750C90F23EED","user_header":"","comment_is_top":false,"comment_ctime":1637139055,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637139055","product_id":100053801,"comment_content":"æ›²çº¿ä¸¤ç§æ–¹å¼ï¼šå‘é‡å’Œå‚æ•°æ–¹ç¨‹ã€‚æˆ‘çš„æ€»ç»“æ˜¯ï¼šçº¿æ®µå’Œç‚¹ã€‚ç‚¹å’Œç‚¹ä¹‹é—´é€šè¿‡lineToè¿æ¥ã€‚æˆ‘çš„é—®é¢˜æ˜¯ï¼šlineToç”»çš„ä¸ä¹Ÿæ˜¯çº¿æ®µå—ï¼Ÿå’Œå‘é‡ç”»çš„çº¿æ®µæœ‰å•¥åŒºåˆ«ï¼Ÿ ","like_count":0},{"had_liked":false,"id":322017,"user_name":"é£å°šå‰ç«¯å°ç»„ï¼ˆ1ï¼‰","can_delete":false,"product_type":"c1","uid":2837377,"ip_address":"","ucode":"1E750C90F23EED","user_header":"","comment_is_top":false,"comment_ctime":1637138814,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637138814","product_id":100053801,"comment_content":"æè¿°æ›²çº¿çš„ä¸¤ç§æ–¹å¼ï¼šå‘é‡å’Œå‚æ•°æ–¹ç¨‹ï¼›æˆ‘çš„æ€»ç»“ï¼šä¸¤ç§æ–¹å¼å…¶å®æ˜¯çº¿æ®µå’Œç‚¹çš„æ–¹å¼ã€‚ é—®é¢˜æ¥äº†ä¸¤ä¸ªç‚¹ä¹‹é—´åˆæ˜¯æ€ä¹ˆè¿æ¥çš„ï¼Ÿä»£ç ä¸­æ˜¯é€šè¿‡lineToï¼Œé‚£ä¹ˆlineToä¸ä¹Ÿæ˜¯æè¿°çº¿æ®µå—ã€‚lineToä¸ä¹Ÿæ˜¯å‘é‡ç»˜åˆ¶ï¼Ÿ ","like_count":0},{"had_liked":false,"id":317938,"user_name":"timeless","can_delete":false,"product_type":"c1","uid":1241839,"ip_address":"","ucode":"D90018D0FBC6B2","user_header":"https://static001.geekbang.org/account/avatar/00/12/f2/ef/fa8ab590.jpg","comment_is_top":false,"comment_ctime":1635065850,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635065850","product_id":100053801,"comment_content":"æœ‰ä¸ªé—®é¢˜æƒ³è¯·æ•™ä¸€ä¸‹è€å¸ˆï¼Œå¦‚ä½•è§£å†³ç”»å¤šè¾¹å½¢çš„å¤´å’Œå°¾çš„è¯¯å·®ï¼Œæ¯”å¦‚ä¸‰è§’å½¢çš„èµ·ç‚¹åæ ‡æ˜¯åŸç‚¹ï¼Œä½†æ˜¯æœ€åçš„è®¡ç®—æ•°ç»„å¾—åˆ°çš„æœ«å°¾ç‚¹æ˜¯æ¥è¿‘åŸç‚¹ï¼ˆ-4,1)ï¼Œå› ä¸ºè®¡ç®—æœºçš„è§’åº¦è®¡ç®—æ˜¯è¿‘ä¼¼å€¼ä¸æ˜¯ç²¾ç¡®å€¼","like_count":0},{"had_liked":false,"id":310289,"user_name":"Ray","can_delete":false,"product_type":"c1","uid":1241787,"ip_address":"","ucode":"0A5319C7BF884E","user_header":"https://static001.geekbang.org/account/avatar/00/12/f2/bb/293e4641.jpg","comment_is_top":false,"comment_ctime":1630578151,"is_pvip":false,"replies":[{"id":"114130","content":"å‚æ•°æ–¹ç¨‹å•Šï¼ŒæŠ›ç‰©çº¿æ˜¯äºŒæ¬¡æ›²çº¿ã€‚","user_name":"ä½œè€…å›å¤","comment_id":310289,"uid":"1159792","ip_address":"","utype":1,"ctime":1633750086,"user_name_real":"æœˆå½±"}],"discussion_count":1,"race_medal":0,"score":"1630578151","product_id":100053801,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼ŒæŠ›ç‰©çº¿é‡Œconst t = min * (1 - s) + max * s;æ˜¯æ€ä¹ˆç†è§£çš„ï¼Œtä¸åº”è¯¥æ˜¯æ­£å¼¦çš„å€’æ•°x&#47;yå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1159792,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b2/70/ba9cecc6.jpg","nickname":"æœˆå½±","note":"","ucode":"298582FA7DBF27","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526186,"discussion_content":"å‚æ•°æ–¹ç¨‹å•Šï¼ŒæŠ›ç‰©çº¿æ˜¯äºŒæ¬¡æ›²çº¿ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633750086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":262637,"user_name":"ç§‹è°·","can_delete":false,"product_type":"c1","uid":1515645,"ip_address":"","ucode":"745E8DB283BB51","user_header":"https://static001.geekbang.org/account/avatar/00/17/20/7d/2a5c137c.jpg","comment_is_top":false,"comment_ctime":1605788109,"is_pvip":false,"replies":[{"id":"101110","content":"å†…è§’å¤§å°å…¬å¼","user_name":"ä½œè€…å›å¤","comment_id":262637,"uid":"1159792","ip_address":"","utype":1,"ctime":1612876567,"user_name_real":"æœˆå½±"}],"discussion_count":6,"race_medal":0,"score":"1605788109","product_id":100053801,"comment_content":"è€å¸ˆï¼Œé‚£ä¸ªæ­£å¤šè¾¹å½¢çš„é‡Œé¢çš„const delta = Math.PI * (1 - (edges - 2) &#47; edges)ï¼Œè¿™ä¸ªæ˜¯æ±‚æ¯ä¸ªè§’çš„å¤§å°çš„å—ï¼Œæ˜¯å†…è§’å’Œ &#47; edgesçš„æ„æ€å—ï¼Œæ²¡æœ‰çœ‹æ‡‚","like_count":0,"discussions":[{"author":{"id":1159792,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b2/70/ba9cecc6.jpg","nickname":"æœˆå½±","note":"","ucode":"298582FA7DBF27","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509908,"discussion_content":"å†…è§’å¤§å°å…¬å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612876567,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1356099,"avatar":"https://static001.geekbang.org/account/avatar/00/14/b1/43/5eebf2cd.jpg","nickname":"æˆ‘ç³»å°è‰¾","note":"","ucode":"274272105939D4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349865,"discussion_content":"è¿™æ ·å¯èƒ½å¥½ç†è§£ç‚¹\nMath.PI-((edges-2)*Math.PI/edges)\nå…¶ä¸­ï¼ˆedges-2ï¼‰*Math.PIæ˜¯å†…è§’å’Œå…¬å¼","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1613604483,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1758012,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eokhlnrZO1G1SnxWka7hSeqwHnIcuQKugQDBDKUDXc2ZDXKsibHTNviaG6CiaqBiaK5Bwcu37xakaFthw/132","nickname":"Zack","note":"","ucode":"758511DF7D6D17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331615,"discussion_content":"æ„Ÿè§‰æ˜¯ç®—æ­£å¤šè¾¹å½¢æ¯ä¸ªå†…è§’å¯¹åº”çš„å¤–è§’å¤§å°","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1606915211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2108781,"avatar":"https://static001.geekbang.org/account/avatar/00/20/2d/6d/08103212.jpg","nickname":"ç‹æˆ","note":"","ucode":"FDC39D4316988A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":567673,"discussion_content":"// !!!ä¸‰è§’å½¢å†…è§’å’Œ=180ï¼Œå¤šè¾¹å½¢å†…è§’å’Œ=(n-2)*180 åº¦ï¼›\n// å¦‚æœæ˜¯æ­£å¤šè¾¹å½¢ï¼Œåˆ™æ¯ä¸ªè§’çš„è§’åº¦=(n-2)*180/n åº¦;\n// é‚£ä¹ˆæ¯æ¡è¾¹éœ€è¦è½¬åŠ¨çš„è§’åº¦åˆ™ä¸ºæ¯ä¸ªè§’çš„è¡¥è§’=180-(n-2)*180/n åº¦;\n// è½¬æ¢æˆå¼§åº¦=(Math.PI/180) * (180-(n-2)*180/n) rad;\n// !!!åŒ–ç®€åï¼Œæ¯æ¡è¾¹éœ€è¦è½¬åŠ¨çš„å¼§åº¦å·® = Math.PI/180 * 180*(1-(n-2)/n) = Math.PI*(1-(n-2)/n) rad","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650972608,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1130862,"avatar":"https://static001.geekbang.org/account/avatar/00/11/41/6e/e04ab385.jpg","nickname":"null","note":"","ucode":"3C97A82395E95C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537123,"discussion_content":"æ˜¯æ¯ä¸ªå¤–è§’çš„å¤§å°ï¼Œå¤šè¾¹å½¢å¤–è§’å’Œæ˜¯ 2 * Math.PIï¼Œç›´æ¥ä½¿ç”¨ (2 * Math.PI) / n ä¼šç›´è§‚ä¸€ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638963612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2303741,"avatar":"https://static001.geekbang.org/account/avatar/00/23/26/fd/11fb6e9f.jpg","nickname":"èµ«æ‹‰è‰","note":"","ucode":"6AF2EA33B5DEC4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390507,"discussion_content":"æˆ‘ä¹Ÿè§‰å¾—æ˜¯è®¡ç®—å¤–è§’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629870028,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":253388,"user_name":"I keep my idealsğŸ’¤","can_delete":false,"product_type":"c1","uid":1483413,"ip_address":"","ucode":"38E68A0BCABA01","user_header":"https://static001.geekbang.org/account/avatar/00/16/a2/95/8f34237c.jpg","comment_is_top":false,"comment_ctime":1602725382,"is_pvip":true,"replies":[{"id":"92599","content":"ä»£è¡¨ç»˜åˆ¶çš„åæ ‡èŒƒå›´","user_name":"ä½œè€…å›å¤","comment_id":253388,"uid":"1159792","ip_address":"","utype":1,"ctime":1602814197,"user_name_real":"æœˆå½±"}],"discussion_count":1,"race_medal":0,"score":"1602725382","product_id":100053801,"comment_content":"<br>&#47;&#47; æŠ›ç‰©çº¿å‚æ•°æ–¹ç¨‹<br>const para = parametric(<br>  t =&gt; 25 * t,<br>  t =&gt; 25 * t ** 2,<br>);<br><br>&#47;&#47; ç»˜åˆ¶æŠ›ç‰©çº¿<br>para(-5.5, 5.5).draw(ctx);<br><br>æƒ³è¯·æ•™è€å¸ˆ è¿™é‡Œè°ƒç”¨æŠ›ç‰©çº¿æ–¹ç¨‹ paraå‡½æ•°é‡Œé¢çš„-5.5 å’Œ5.5çš„å€¼ä»£è¡¨ä»€ä¹ˆå‘¢  å¥½åƒå¹¶ä¸æ˜¯ç‚¹çš„åæ ‡","like_count":0,"discussions":[{"author":{"id":1159792,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b2/70/ba9cecc6.jpg","nickname":"æœˆå½±","note":"","ucode":"298582FA7DBF27","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507060,"discussion_content":"ä»£è¡¨ç»˜åˆ¶çš„åæ ‡èŒƒå›´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602814197,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243754,"user_name":"ä¸è§é£åˆ€","can_delete":false,"product_type":"c1","uid":1221078,"ip_address":"","ucode":"2490E8D608CECA","user_header":"https://static001.geekbang.org/account/avatar/00/12/a1/d6/9d99e5ef.jpg","comment_is_top":false,"comment_ctime":1598267111,"is_pvip":false,"replies":[{"id":"95002","content":"å‚æ•°æ–¹ç¨‹é‡Œçš„å‚æ•°","user_name":"ä½œè€…å›å¤","comment_id":243754,"uid":"1159792","ip_address":"","utype":1,"ctime":1605515662,"user_name_real":"æœˆå½±"}],"discussion_count":1,"race_medal":0,"score":"1598267111","product_id":100053801,"comment_content":"æŠ›ç‰©çº¿æ–¹ç¨‹é‡Œçš„tæ˜¯ä»€ä¹ˆæ„æ€","like_count":0,"discussions":[{"author":{"id":1159792,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b2/70/ba9cecc6.jpg","nickname":"æœˆå½±","note":"","ucode":"298582FA7DBF27","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504383,"discussion_content":"å‚æ•°æ–¹ç¨‹é‡Œçš„å‚æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605515662,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243753,"user_name":"ä¸è§é£åˆ€","can_delete":false,"product_type":"c1","uid":1221078,"ip_address":"","ucode":"2490E8D608CECA","user_header":"https://static001.geekbang.org/account/avatar/00/12/a1/d6/9d99e5ef.jpg","comment_is_top":false,"comment_ctime":1598266789,"is_pvip":false,"replies":[{"id":"89820","content":"æŠ›ç‰©çº¿çš„å‚æ•°æ–¹ç¨‹æ˜¯xè½´çº¿æ€§æ–¹ç¨‹ï¼Œyè½´äºŒæ¬¡æ–¹ç¨‹ï¼Œæ ¹æ®ç‰©ç†æ„ä¹‰å°±å¯ä»¥çŸ¥é“ï¼Œæ°´å¹³æ–¹å‘åŒ€é€Ÿï¼Œå‚ç›´æ–¹å‘åŒ€åŠ é€Ÿå°±æ˜¯æŠ›ç‰©çº¿","user_name":"ä½œè€…å›å¤","comment_id":243753,"uid":"1159792","ip_address":"","utype":1,"ctime":1598313301,"user_name_real":"æœˆå½±"}],"discussion_count":1,"race_medal":0,"score":"1598266789","product_id":100053801,"comment_content":"æŠ›ç‰©çº¿å‡½æ•°é‚£äº›å‚æ•°æ˜¯ä»€ä¹ˆæ„æ€","like_count":0,"discussions":[{"author":{"id":1159792,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b2/70/ba9cecc6.jpg","nickname":"æœˆå½±","note":"","ucode":"298582FA7DBF27","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504382,"discussion_content":"æŠ›ç‰©çº¿çš„å‚æ•°æ–¹ç¨‹æ˜¯xè½´çº¿æ€§æ–¹ç¨‹ï¼Œyè½´äºŒæ¬¡æ–¹ç¨‹ï¼Œæ ¹æ®ç‰©ç†æ„ä¹‰å°±å¯ä»¥çŸ¥é“ï¼Œæ°´å¹³æ–¹å‘åŒ€é€Ÿï¼Œå‚ç›´æ–¹å‘åŒ€åŠ é€Ÿå°±æ˜¯æŠ›ç‰©çº¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598313301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243731,"user_name":"ä¸è§é£åˆ€","can_delete":false,"product_type":"c1","uid":1221078,"ip_address":"","ucode":"2490E8D608CECA","user_header":"https://static001.geekbang.org/account/avatar/00/12/a1/d6/9d99e5ef.jpg","comment_is_top":false,"comment_ctime":1598259831,"is_pvip":false,"replies":[{"id":"89821","content":"æ ¹æ®å‚æ•°å‘½ååˆ†åˆ«æ˜¯åœ†å¿ƒx,y,åŠå¾„,èµ·å§‹è§’å’Œç»“æŸè§’","user_name":"ä½œè€…å›å¤","comment_id":243731,"uid":"1159792","ip_address":"","utype":1,"ctime":1598313496,"user_name_real":"æœˆå½±"}],"discussion_count":1,"race_medal":0,"score":"1598259831","product_id":100053801,"comment_content":"è€å¸ˆèƒ½ä¸èƒ½è§£é‡Šä¸‹arcå‡½æ•°é‚£æ®µä»£ç é‡Œå„ä¸ªå˜é‡çš„æ„ä¹‰ï¼Œæˆ‘å®åœ¨æ˜¯çŒœä¸åˆ°å•Š","like_count":0,"discussions":[{"author":{"id":1159792,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b2/70/ba9cecc6.jpg","nickname":"æœˆå½±","note":"","ucode":"298582FA7DBF27","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504376,"discussion_content":"æ ¹æ®å‚æ•°å‘½ååˆ†åˆ«æ˜¯åœ†å¿ƒx,y,åŠå¾„,èµ·å§‹è§’å’Œç»“æŸè§’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598313496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233347,"user_name":"Geek_3469f6","can_delete":false,"product_type":"c1","uid":2047009,"ip_address":"","ucode":"AE8CA3C7A8EF86","user_header":"https://static001.geekbang.org/account/avatar/00/1f/3c/21/58f3740d.jpg","comment_is_top":false,"comment_ctime":1594294938,"is_pvip":false,"replies":[{"id":"86181","content":"å¾ˆæ£’å‘€ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":233347,"uid":"1159792","ip_address":"","utype":1,"ctime":1594346912,"user_name_real":"æœˆå½±"}],"discussion_count":2,"race_medal":0,"score":"1594294938","product_id":100053801,"comment_content":"æŸ¥é˜…äº†ä¸€ä¸‹ç›¸å…³çš„èµ„æ–™ï¼Œè‚¾å½¢çº¿ã€æ‘†çº¿ã€å¿ƒå½¢çº¿éƒ½å¯ä»¥è½»æ˜“ç”»å‡ºæ¥ï¼Œå‘æ˜æ›²çº¿å‚æ•°æ–¹ç¨‹æ˜¯ä¸ä¼šçš„ã€‚ä¸è¿‡æ•°å­¦ä¸å¥½ï¼Œéœ€è¦è°ƒæ•´ä¸€ä¸‹å‚æ•°ã€åšä¸€äº›ç§»åŠ¨ã€æ—‹è½¬ä¹‹ç±»çš„æ“ä½œï¼Œæ‰èƒ½è®©æ›²çº¿æ­£å¸¸ä¸€äº›ã€‚<br>https:&#47;&#47;codepen.io&#47;maslke&#47;pen&#47;pogVZjJ<br><br>æˆ‘å¯¹parametricçš„ç†è§£æ˜¯ï¼Œå®ƒæ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œæ˜¯è¿”å›å‡½æ•°çš„å‡½æ•°ã€‚å®ƒçš„ä¸¤ä¸ªå‚æ•°ä¹Ÿéƒ½æ˜¯å‡½æ•°ï¼Œåœ¨æ–‡ä¸­çš„å®ç°æ˜¯ä½¿ç”¨äº†lambdaçš„æ–¹å¼ï¼Œå†™æˆfunctionåŒ¿åå‡½æ•°çš„æ–¹å¼ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ç»™å®šå‚æ•°ï¼Œç¬¬ä¸€æ¬¡å¯¹parametricçš„è°ƒç”¨ï¼Œä¼šè¿”å›ä¸€ä¸ªå‡½æ•°ã€‚å†…éƒ¨å‡½æ•°çš„è¿”å›ç»“æœæ˜¯ä¸€ä¸ªåŒ…å«äº†drawå‡½æ•°å’Œpointså±æ€§çš„å¯¹è±¡ã€‚<br>","like_count":0,"discussions":[{"author":{"id":1159792,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b2/70/ba9cecc6.jpg","nickname":"æœˆå½±","note":"","ucode":"298582FA7DBF27","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500987,"discussion_content":"å¾ˆæ£’å‘€ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594346912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2359065,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoXXuvMlDFGib4ITSpTOVBRKhS8SbDrAgwjWQ6ZU7CnMkicgqYsj2gOHbpiaBmmtFVbAX1SlMfgHo2Ag/132","nickname":"Geek_ba2d95","note":"","ucode":"FA1C381D881377","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337077,"discussion_content":"ä¸‰é˜¶è´å¡å°”å…¬å¼é”™äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608792792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
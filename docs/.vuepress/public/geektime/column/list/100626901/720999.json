{"id":720999,"title":"06ï½œå¤åˆç±»å‹ï¼ˆä¸‹ï¼‰ï¼šæšä¸¾ä¸æ¨¡å¼åŒ¹é…","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯Mikeã€‚ä»Šå¤©æˆ‘ä»¬ä¸€èµ·æ¥å­¦ä¹ Rustä¸­çš„æšä¸¾ï¼ˆenumï¼‰å’Œæ¨¡å¼åŒ¹é…ï¼ˆpattern matchingï¼‰ã€‚</p><p>æšä¸¾æ˜¯Rustä¸­éå¸¸é‡è¦çš„å¤åˆç±»å‹ï¼Œä¹Ÿæ˜¯æœ€å¼ºå¤§çš„å¤åˆç±»å‹ä¹‹ä¸€ï¼Œå¹¿æ³›ç”¨äºå±æ€§é…ç½®ã€é”™è¯¯å¤„ç†ã€åˆ†æ”¯æµç¨‹ã€ç±»å‹èšåˆç­‰åœºæ™¯ä¸­ã€‚å­¦ä¹ å®Œè¿™èŠ‚è¯¾åï¼Œä½ ä¼šå¯¹Rustçš„åœ°é“é£æ ¼æœ‰æ–°çš„è®¤è¯†ã€‚</p><h2>æšä¸¾ï¼šå¼ºå¤§çš„å¤åˆç±»å‹</h2><p>æšä¸¾æ˜¯è¿™æ ·ä¸€ç§ç±»å‹ï¼Œå®ƒå®¹çº³é€‰é¡¹çš„å¯èƒ½æ€§ï¼Œæ¯ä¸€ç§å¯èƒ½çš„é€‰é¡¹éƒ½æ˜¯ä¸€ä¸ªå˜ä½“ï¼ˆvariantï¼‰ã€‚Rustä¸­çš„æšä¸¾ä½¿ç”¨å…³é”®å­— <strong>enum</strong>å®šä¹‰ï¼Œè¿™ç‚¹ä¸Javaã€C++éƒ½æ˜¯ä¸€æ ·çš„ã€‚ä¸å®ƒä»¬ä¸åŒçš„æ˜¯ï¼ŒRustä¸­çš„æšä¸¾å…·æœ‰æ›´å¼ºå¤§çš„è¡¨è¾¾èƒ½åŠ›ã€‚</p><p>åœ¨Rustä¸­ï¼Œæšä¸¾ä¸­çš„æ‰€æœ‰æ¡ç›®è¢«å«åšè¿™ä¸ªæšä¸¾çš„å˜ä½“ã€‚æ¯”å¦‚ï¼š</p><pre><code class=\"language-plain\">enum Shape {\n    Rectangle,\n    Triangle,\n    Circle,\n}\n</code></pre><p>å®šä¹‰äº†ä¸€ä¸ªå½¢çŠ¶ï¼ˆShapeï¼‰æšä¸¾ï¼Œå®ƒæœ‰ä¸‰ä¸ªå˜ä½“ï¼šé•¿æ–¹å½¢Rectangleã€ä¸‰è§’å½¢Triangleå’Œåœ†å½¢Circleã€‚</p><p>æšä¸¾ä¸ç»“æ„ä½“ä¸åŒï¼Œ<strong>ç»“æ„ä½“çš„å®ä¾‹åŒ–éœ€è¦æ‰€æœ‰å­—æ®µä¸€èµ·èµ·ä½œç”¨ï¼Œè€Œæšä¸¾çš„å®ä¾‹åŒ–åªéœ€è¦ä¸”åªèƒ½æ˜¯å…¶ä¸­ä¸€ä¸ªå˜ä½“èµ·ä½œç”¨</strong>ã€‚</p><h3>è´Ÿè½½</h3><p>Rustä¸­æšä¸¾çš„å¼ºå¤§ä¹‹å¤„åœ¨äºï¼Œenumä¸­çš„å˜ä½“å¯ä»¥æŒ‚è½½å„ç§å½¢å¼çš„ç±»å‹ã€‚æ‰€æœ‰å…¶ä»–ç±»å‹ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²ã€å…ƒç»„ã€ç»“æ„ä½“ç­‰ç­‰ï¼Œéƒ½å¯ä»¥ä½œä¸ºenumçš„è´Ÿè½½ï¼ˆpayloadï¼‰è¢«æŒ‚è½½åˆ°å…¶ä¸­ä¸€ä¸ªå˜ä½“ä¸Šã€‚æ¯”å¦‚ï¼Œæ‰©å±•ä¸€ä¸‹ä¸Šé¢çš„ä»£ç ç¤ºä¾‹ã€‚</p><!-- [[[read_end]]] --><pre><code class=\"language-plain\">enum Shape {\n    Rectangle { width: u32, height: u32},\n    Triangle((u32, u32), (u32, u32), (u32, u32)),\n    Circle { origin: (u32, u32), radius: u32 },\n}\n</code></pre><p>æˆ‘ä»¬ç»™Shapeæšä¸¾çš„ä¸‰ä¸ªå˜ä½“éƒ½æŒ‚è½½äº†ä¸åŒçš„è´Ÿè½½ã€‚RectangleæŒ‚è½½äº†ä¸€ä¸ªç»“æ„ä½“è´Ÿè½½è¡¨ç¤ºå®½å’Œé«˜çš„å±æ€§ã€‚</p><pre><code class=\"language-plain\">{width: u32, height: u32}\n</code></pre><p>ä¸ºäº†çœ‹å¾—æ›´æ¸…æ¥šï¼Œä½ ä¹Ÿå¯ä»¥å•ç‹¬å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ï¼Œç„¶åæŠŠå®ƒæŒ‚è½½åˆ°Rectangleå˜ä½“ä¸Šã€‚</p><pre><code class=\"language-plain\">struct Rectangle {\n  width: u32, \n  height: u32\n}\n\nenum Shape {\n  Rectangle(Rectangle),\n  // ...\n}\n</code></pre><p>Triangleå˜ä½“æŒ‚è½½äº†ä¸€ä¸ªå…ƒç»„è´Ÿè½½ <code>((u32, u32), (u32, u32), (u32, u32))</code>ï¼Œè¡¨ç¤ºä¸‰ä¸ªé¡¶ç‚¹ã€‚</p><p>Circleå˜ä½“æŒ‚è½½äº†ä¸€ä¸ªç»“æ„ä½“è´Ÿè½½ <code>{ origin: (u32, u32), radius: u32 }</code>ï¼Œè¡¨ç¤ºä¸€ä¸ªåŸç‚¹åŠ åŠå¾„é•¿åº¦ã€‚</p><p>æšä¸¾çš„å˜ä½“èƒ½å¤ŸæŒ‚è½½å„ç§ç±»å‹çš„è´Ÿè½½ï¼Œæ˜¯Rustä¸­çš„æšä¸¾è¶…å¼ºèƒ½åŠ›çš„æ¥æºï¼Œä½ å¯ä»¥é€šè¿‡ä¸Šé¢ä¾‹å­æ¥ç»†ç»†å“å‘³Rustçš„è¿™ç§è¡¨è¾¾åŠ›ã€‚enumå°±åƒä¸€ä¸ªç­ï¼Œä»€ä¹ˆéƒ½èƒ½å¾€é‡Œé¢è£…ã€‚</p><p>ä¸ºäº†è®©ä½ æ›´ç†Ÿæ‚‰Rustçš„æšä¸¾è¡¨è¾¾å½¢å¼ï¼Œæˆ‘å†ä¸¾ä¸€ä¸ªä¾‹å­ã€‚ä¸‹é¢çš„ç¤ºä¾‹ä¸­WebEventè¡¨ç¤ºæµè§ˆå™¨é‡Œé¢çš„Webäº‹ä»¶ã€‚</p><pre><code class=\"language-plain\">enum WebEvent {\n    PageLoad,\n    PageUnload,\n    KeyPress(char),\n    Paste(String),\n    Click { x: i64, y: i64 },\n}\n</code></pre><p>ä½ å¯ä»¥è¡¨è¿°å‡ºä¸åŒå˜ä½“çš„æ„ä¹‰ï¼Œè¿˜æœ‰æ¯ä¸ªå˜ä½“æ‰€æŒ‚è½½çš„è´Ÿè½½ç±»å‹å—ï¼ŸæœŸå¾…çœ‹åˆ°ä½ çš„ç­”æ¡ˆã€‚</p><h3>æšä¸¾çš„å®ä¾‹åŒ–</h3><p>æšä¸¾çš„å®ä¾‹åŒ–å®é™…æ˜¯æšä¸¾å˜ä½“çš„å®ä¾‹åŒ–ã€‚æ¯”å¦‚ï¼š</p><pre><code class=\"language-plain\">let a = WebEvent::PageLoad;\nlet b = WebEvent::PageUnload;\nlet c = WebEvent::KeyPress('c');\nlet d = WebEvent::Paste(String::from(\"batman\"));\nlet e = WebEvent::Click { x: 320, y: 240 };\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸å¸¦è´Ÿè½½çš„å˜ä½“å®ä¾‹åŒ–å’Œå¸¦è´Ÿè½½çš„å˜ä½“å®ä¾‹åŒ–ä¸ä¸€æ ·ã€‚å¸¦è´Ÿè½½çš„å˜ä½“å®ä¾‹åŒ–è¦æ ¹æ®ä¸åŒå˜ä½“é™„å¸¦çš„ç±»å‹åšç‰¹å®šçš„å®ä¾‹åŒ–ã€‚</p><h3>ç±»Cæšä¸¾</h3><p>Rustä¸­ä¹Ÿå¯ä»¥å®šä¹‰ç±»ä¼¼Cè¯­è¨€ä¸­çš„æšä¸¾ã€‚</p><p>ç¤ºä¾‹ï¼š</p><pre><code class=\"language-plain\">// ç»™æšä¸¾å˜ä½“ä¸€ä¸ªèµ·å§‹æ•°å­—å€¼ \nenum Number {\n    Zero = 0,\n    One,\n    Two,\n}\n\n// ç»™æšä¸¾æ¯ä¸ªå˜ä½“èµ‹äºˆä¸åŒçš„å€¼\nenum Color {\n    Red = 0xff0000,\n    Green = 0x00ff00,\n    Blue = 0x0000ff,\n}\n\nfn main() {\n    // ä½¿ç”¨ as è¿›è¡Œç±»å‹çš„è½¬åŒ–\n    println!(\"zero is {}\", Number::Zero as i32);\n    println!(\"one is {}\", Number::One as i32);\n\n    println!(\"roses are #{:06x}\", Color::Red as i32);\n    println!(\"violets are #{:06x}\", Color::Blue as i32);\n}\n// è¾“å‡º \nzero is 0\none is 1\nroses are #ff0000\nviolets are #0000ff\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬èƒ½å¤ŸåƒCè¯­è¨€é‚£æ ·ï¼Œåœ¨å®šä¹‰æšä¸¾å˜ä½“çš„æ—¶å€™ï¼ŒæŒ‡å®šå…·ä½“çš„å€¼ã€‚è¿™åœ¨åº•å±‚ç³»ç»Ÿçº§å¼€å‘ã€åè®®æ ˆå¼€å‘ã€åµŒå…¥å¼å¼€å‘çš„åœºæ™¯ä¼šç»å¸¸ç”¨åˆ°ã€‚</p><p>æ‰“å°çš„æ—¶å€™ï¼Œåªéœ€è¦ä½¿ç”¨ as æ“ä½œç¬¦å°†å˜ä½“è½¬æ¢ä¸ºå…·ä½“çš„æ•°å€¼ç±»å‹å³å¯ã€‚</p><p>ä»£ç ä¸­çš„ <code>println!</code> é‡Œçš„ <code>{:06x}</code> æ˜¯æ ¼å¼åŒ–å‚æ•°ï¼Œè¿™é‡Œè¡¨ç¤ºæ‰“å°å‡ºå€¼çš„16è¿›åˆ¶å½¢å¼ï¼Œå ä½6ä¸ªå®½åº¦ï¼Œä¸è¶³çš„ç”¨0è¡¥é½ã€‚ä½ å¯ä»¥é¡ºä¾¿äº†è§£ä¸€ä¸‹ println æ‰“å°è¯­å¥ä¸­<a href=\"https://doc.rust-lang.org/std/fmt/index.html\">æ ¼å¼åŒ–å‚æ•°</a>çš„è¯¦ç»†å†…å®¹ã€‚æ ¼å¼åŒ–å‚æ•°ç›¸å½“ä¸°å¯Œï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»¥åä¸æ–­åœ°å®è·µä¸­å»ç†Ÿæ‚‰å’ŒæŒæ¡å®ƒã€‚</p><h3>ç©ºæšä¸¾</h3><p>Rustä¸­ä¹Ÿå¯ä»¥å®šä¹‰ç©ºæšä¸¾ã€‚æ¯”å¦‚ <code>enum MyEnum {};</code>ã€‚å®ƒå…¶å®ä¸å•å…ƒç»“æ„ä½“ä¸€æ ·ï¼Œéƒ½è¡¨ç¤ºä¸€ä¸ªç±»å‹ã€‚ä½†æ˜¯å®ƒä¸èƒ½è¢«å®ä¾‹åŒ–ã€‚ç›®å‰çœ‹èµ·æ¥å¥½åƒæ²¡ä»€ä¹ˆä½œç”¨ï¼Œæˆ‘ä»¬åªéœ€è¦äº†è§£è¿™ç§è¡¨ç¤ºå½¢å¼å°±å¯ä»¥äº†ã€‚</p><pre><code class=\"language-plain\">enum Foo {}  \n\nlet a = Foo {}; // é”™è¯¯çš„\n\n// æç¤º\nexpected struct, variant or union type, found enum `Foo`\nnot a struct, variant or union type\n</code></pre><h3>impl æšä¸¾</h3><blockquote>\n<p>Rustæœ‰ä¸ªå…³é”®å­— <strong>impl</strong>å¯ä»¥ç”¨æ¥ç»™ç»“æ„ä½“æˆ–å…¶ä»–ç±»å‹å®ç°æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å…³è”åœ¨æŸä¸ªç±»å‹ä¸Šçš„å‡½æ•°ã€‚â€”â€”ç¬¬5è®²</p>\n</blockquote><p>æšä¸¾åŒæ ·èƒ½å¤Ÿè¢« implã€‚æ¯”å¦‚ï¼š</p><pre><code class=\"language-plain\">enum MyEnum {\n    Add,\n    Subtract,\n}\n\nimpl MyEnum {\n    fn run(&amp;self, x: i32, y: i32) -&gt; i32 {\n        match self {                  // match è¯­å¥\n            Self::Add =&gt; x + y,\n            Self::Subtract =&gt; x - y,\n        }\n    }\n}\n\nfn main() {\n    // å®ä¾‹åŒ–æšä¸¾\n    let add = MyEnum::Add;\n    // å®ä¾‹åŒ–åæ‰§è¡Œæšä¸¾çš„æ–¹æ³•\n    add.run(100, 200);\n}\n</code></pre><p>ä½†æ˜¯ä¸èƒ½å¯¹æšä¸¾çš„å˜ä½“ç›´æ¥ implã€‚</p><pre><code class=\"language-plain\">enum Foo {\n  AAA,\n  BBB,\n  CCC\n}\n\nimpl Foo::AAA {   // é”™è¯¯çš„\n}\n</code></pre><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæšä¸¾ä¼šç”¨æ¥åšé…ç½®ï¼Œå¹¶ç»“åˆ match è¯­å¥ä½¿ç”¨æ¥åšåˆ†æ”¯ç®¡ç†ã€‚<strong>å¦‚æœè¦å®šä¹‰ä¸€ä¸ªæ–°ç±»å‹ï¼Œåœ¨Rustä¸­ä¸»è¦è¿˜æ˜¯ä½¿ç”¨ç»“æ„ä½“ã€‚</strong></p><h2>match</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹å­¦ä¹ å’Œæšä¸¾æ­é…ä½¿ç”¨çš„matchè¯­å¥ã€‚</p><h3>match + æšä¸¾</h3><p>å…¶å®åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œå°±å·²ç»å‡ºç° match å…³é”®å­—äº†ã€‚å®ƒçš„ä½œç”¨æ˜¯åˆ¤æ–­æˆ–åŒ¹é…å€¼æ˜¯å“ªä¸€ä¸ªæšä¸¾çš„å˜ä½“ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ã€‚</p><pre><code class=\"language-plain\">#[derive(Debug)]\nenum Shape {\n  &nbsp; Rectangle,\n  &nbsp; Triangle,\n  &nbsp; Circle,\n}\n\nfn main() {\n  &nbsp; let shape_a = Shape::Rectangle;  // åˆ›å»ºå®ä¾‹\n  &nbsp; match shape_a {                  // åŒ¹é…å®ä¾‹\n    &nbsp; &nbsp; Shape::Rectangle =&gt; {\n    &nbsp; &nbsp; &nbsp;   println!(\"{:?}\", Shape::Rectangle);  // è¿›äº†è¿™ä¸ªåˆ†æ”¯\n    &nbsp; &nbsp; }\n    &nbsp; &nbsp; Shape::Triangle =&gt; {\n    &nbsp; &nbsp; &nbsp;   println!(\"{:?}\", Shape::Triangle);\n    &nbsp; &nbsp; }\n    &nbsp; &nbsp; Shape::Circle =&gt; {\n    &nbsp; &nbsp; &nbsp;   println!(\"{:?}\", Shape::Circle);\n    &nbsp; &nbsp; }\n  &nbsp; }&nbsp;&nbsp;\n}\n// è¾“å‡º\nRectangle\n</code></pre><p>ä½ å¯ä»¥è¯•ç€æ”¹å˜å®ä¾‹ä¸ºå¦å¤–ä¸¤ç§å˜ä½“ï¼Œçœ‹çœ‹æ‰“å°å‡ºçš„ä¿¡æ¯æœ‰æ²¡æœ‰å˜åŒ–ï¼Œç„¶ååˆ¤æ–­ä¸Šé¢çš„ä»£ç èµ°äº†å“ªä¸ªåˆ†æ”¯ã€‚</p><h3>matchå¯è¿”å›å€¼</h3><p>å°±åƒå¤§å¤šæ•°Rustè¯­æ³•ä¸€æ ·ï¼Œmatch è¯­æ³•ä¹Ÿæ˜¯å¯ä»¥æœ‰è¿”å›å€¼çš„ï¼Œæ‰€ä»¥ä¹Ÿå«åšmatchè¡¨è¾¾å¼ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ç¤ºä¾‹ã€‚</p><pre><code class=\"language-plain\">#[derive(Debug)]\nenum Shape {\n  &nbsp; Rectangle,\n  &nbsp; Triangle,\n  &nbsp; Circle,\n}\n\nfn main() {\n  &nbsp; let shape_a = Shape::Rectangle;  // åˆ›å»ºå®ä¾‹\n  &nbsp; let ret = match shape_a {        // åŒ¹é…å®ä¾‹ï¼Œå¹¶è¿”å›ç»“æœç»™ret\n    &nbsp; &nbsp; Shape::Rectangle =&gt; {\n    &nbsp; &nbsp; &nbsp;   1\n    &nbsp; &nbsp; }\n    &nbsp; &nbsp; Shape::Triangle =&gt; {\n    &nbsp; &nbsp; &nbsp;   2\n    &nbsp; &nbsp; }\n    &nbsp; &nbsp; Shape::Circle =&gt; {\n    &nbsp; &nbsp; &nbsp;   3\n    &nbsp; &nbsp; }\n  &nbsp; };\n    println!(\"{}\", ret);&nbsp;&nbsp;\n}\n// è¾“å‡º\n1\n</code></pre><p>å› ä¸º <code>shape_a</code> è¢«èµ‹å€¼ä¸º <code>Shape::Rectangle</code>ï¼Œæ‰€ä»¥ç¨‹åºåŒ¹é…åˆ°ç¬¬ä¸€ä¸ªåˆ†æ”¯å¹¶è¿”å› 1ï¼Œå˜é‡retçš„å€¼ä¸º 1ã€‚</p><pre><code class=\"language-plain\">let ret = match shape_a {   \n</code></pre><p>è¿™ç§å†™æ³•å°±æ˜¯æ¯”è¾ƒåœ°é“çš„Rustå†™æ³•ï¼Œå¯ä»¥è®©ä»£ç æ˜¾å¾—æ›´ç´§å‡‘ã€‚</p><p>æ³¨æ„ï¼Œ<strong>matchè¡¨è¾¾å¼ä¸­å„ä¸ªåˆ†æ”¯è¿”å›çš„å€¼çš„ç±»å‹å¿…é¡»ç›¸åŒ</strong>ã€‚</p><h3>æ‰€æœ‰åˆ†æ”¯éƒ½å¿…é¡»å¤„ç†</h3><p>matchè¡¨è¾¾å¼é‡Œæ‰€æœ‰çš„åˆ†æ”¯éƒ½å¿…é¡»å¤„ç†ï¼Œä¸ç„¶Rustcå°åŠ©æ‰‹ä¼šæ‹¦ä½ä½ ï¼Œä¸è®©ä½ é€šè¿‡ã€‚è¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿä½ å¯ä»¥çœ‹ä¸€ä¸‹ç¤ºä¾‹ä»£ç ã€‚</p><pre><code class=\"language-plain\">#[derive(Debug)]\nenum Shape {\n  &nbsp; Rectangle,\n  &nbsp; Triangle,\n  &nbsp; Circle,\n}\n\nfn main() {\n  &nbsp; let shape_a = Shape::Rectangle;&nbsp; // åˆ›å»ºå®ä¾‹\n  &nbsp; let ret = match shape_a {&nbsp; &nbsp; &nbsp; &nbsp; // åŒ¹é…å®ä¾‹\n    &nbsp; &nbsp; Shape::Rectangle =&gt; {\n    &nbsp; &nbsp; &nbsp;   1\n    &nbsp; &nbsp; }\n    &nbsp; &nbsp; Shape::Triangle =&gt; {\n    &nbsp; &nbsp; &nbsp;   2\n    &nbsp; &nbsp; }\n    &nbsp; &nbsp; // Shape::Circle =&gt; {\n    &nbsp; &nbsp; //&nbsp; &nbsp;  3\n    &nbsp; &nbsp; // }\n  &nbsp; };\n  &nbsp; println!(\"{}\", ret);&nbsp;&nbsp;\n}\n</code></pre><p>ä¸Šé¢è¿™æ®µä»£ç åœ¨ç¼–è¯‘çš„æ—¶å€™ä¼šå‡ºé”™ã€‚</p><pre><code class=\"language-plain\">error[E0004]: non-exhaustive patterns: `Shape::Circle` not covered\n  --&gt; src/main.rs:10:19\n   |\n10 |   let ret = match shape_a {                  // åŒ¹é…å®ä¾‹\n   |                   ^^^^^^^ pattern `Shape::Circle` not covered\n   |\nnote: `Shape` defined here\n  --&gt; src/main.rs:5:3\n   |\n2  | enum Shape {\n   |      -----\n...\n5  |   Circle,\n   |   ^^^^^^ not covered\n   = note: the matched value is of type `Shape`\nhelp: ensure that all possible cases are being handled by adding a match arm with a wildcard pattern or an explicit pattern as shown\n   |\n16 ~     },\n17 +     Shape::Circle =&gt; todo!()\n   |\n</code></pre><p>å°åŠ©æ‰‹æç¤ºè¯´ï¼Œ<code>Shape::Circle</code> åˆ†æ”¯æ²¡æœ‰è¦†ç›–åˆ°ï¼Œä¸å…è®¸é€šè¿‡ï¼Œç„¶åç›´æ¥è´´å¿ƒåœ°ç»™å‡ºäº†ä¿®æ”¹å»ºè®®ï¼Rustcå°åŠ©æ‰‹å¦‚æ­¤è´´å¿ƒï¼Œè¿™ç§ä¿å§†çº§æœåŠ¡æ˜¯ä½ åœ¨Javaã€C++ç­‰å…¶ä»–è¯­è¨€ä¸­æ„Ÿå—ä¸åˆ°çš„ã€‚</p><h3>_ å ä½ç¬¦</h3><p>æœ‰æ—¶ï¼Œä½ ç¡®å®æƒ³æµ‹è¯•ä¸€äº›ä¸œè¥¿ï¼Œæˆ–è€…å°±æ˜¯ä¸æƒ³å¤„ç†ä¸€äº›åˆ†æ”¯ï¼Œå¯ä»¥ç”¨ _ å·æ‡’ã€‚</p><p>æ¯”å¦‚ä¸Šé¢ä»£ç å¯ä»¥ä¿®æ”¹æˆè¿™æ ·ï¼š</p><pre><code class=\"language-plain\">#[derive(Debug)]\nenum Shape {\n  &nbsp; Rectangle,\n  &nbsp; Triangle,\n  &nbsp; Circle,\n}\n\nfn main() {\n  &nbsp; let shape_a = Shape::Rectangle;&nbsp; \n  &nbsp; let ret = match shape_a {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \n    &nbsp; &nbsp; Shape::Rectangle =&gt; {\n    &nbsp; &nbsp; &nbsp;   1\n    &nbsp; &nbsp; }\n    &nbsp; &nbsp; _ =&gt; {\n    &nbsp; &nbsp; &nbsp;   10\n    &nbsp; &nbsp; }\n  &nbsp; };\n  &nbsp; println!(\"{}\", ret);&nbsp;&nbsp;\n}\n</code></pre><p>ç›¸å½“äºé™¤ <code>Shape::Rectangle</code> ä¹‹å¤–çš„åˆ†æ”¯æˆ‘ä»¬éƒ½ç»Ÿä¸€ç”¨ _ å ä½ç¬¦è¿›è¡Œå¤„ç†äº†ã€‚</p><h3>æ›´å¹¿æ³›çš„åˆ†æ”¯</h3><p>matché™¤äº†é…åˆæšä¸¾è¿›è¡Œåˆ†æ”¯ç®¡ç†å¤–ï¼Œè¿˜å¯ä»¥ä¸å…¶ä»–åŸºç¡€ç±»å‹ç»“åˆè¿›è¡Œåˆ†æ”¯åˆ†æ´¾ã€‚æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸ª The Booké‡Œçš„ç¤ºä¾‹ã€‚</p><pre><code class=\"language-plain\">fn main() {\n    let number = 13;\n    // ä½ å¯ä»¥è¯•ç€ä¿®æ”¹ä¸Šé¢çš„æ•°å­—å€¼ï¼Œçœ‹çœ‹ä¸‹é¢èµ°å“ªä¸ªåˆ†æ”¯\n\n    println!(\"Tell me about {}\", number);\n    match number {\n        // åŒ¹é…å•ä¸ªæ•°å­—\n        1 =&gt; println!(\"One!\"),\n        // åŒ¹é…å‡ ä¸ªæ•°å­—\n        2 | 3 | 5 | 7 | 11 =&gt; println!(\"This is a prime\"),\n        // åŒ¹é…ä¸€ä¸ªèŒƒå›´ï¼Œå·¦é—­å³é—­åŒºé—´\n        13..=19 =&gt; println!(\"A teen\"),\n        // å¤„ç†å‰©ä¸‹çš„æƒ…å†µ\n        _ =&gt; println!(\"Ain't special\"),\n    }\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œmatchå¯ä»¥ç”¨æ¥åŒ¹é…ä¸€ä¸ªå…·ä½“çš„æ•°å­—ã€ä¸€ä¸ªæ•°å­—çš„åˆ—è¡¨ï¼Œæˆ–è€…ä¸€ä¸ªæ•°å­—çš„åŒºé—´ç­‰ç­‰ï¼Œéå¸¸çµæ´»ã€‚åœ¨è¿™ç‚¹ä¸Šï¼Œå¯æ¯”Cã€C++ï¼Œæˆ–è€…Java çš„ <code>switch .. case</code> çµæ´»å¤šäº†ã€‚</p><h2>æ¨¡å¼åŒ¹é…</h2><p>matchå®é™…æ˜¯æ¨¡å¼åŒ¹é…çš„å…¥å£ï¼Œä»matchè¡¨è¾¾å¼æˆ‘ä»¬å¯å¼•å‡ºæ¨¡å¼åŒ¹é…çš„æ¦‚å¿µã€‚æ¨¡å¼åŒ¹é…å°±æ˜¯<strong>æŒ‰å¯¹è±¡å€¼çš„ç»“æ„</strong>è¿›è¡ŒåŒ¹é…ï¼Œå¹¶ä¸”å¯ä»¥å–å‡ºç¬¦åˆæ¨¡å¼çš„å€¼ã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€äº›ç¤ºä¾‹æ¥è§£é‡Šè¿™å¥è¯ã€‚</p><p>æ¨¡å¼åŒ¹é…ä¸é™äºåœ¨ match ä¸­ä½¿ç”¨ã€‚é™¤äº†matchå¤–ï¼ŒRustè¿˜ç»™æ¨¡å¼åŒ¹é…æä¾›äº†å…¶ä»–ä¸€äº›è¯­æ³•å±‚é¢çš„è®¾æ–½ã€‚</p><h3>if let</h3><p>å½“è¦åŒ¹é…çš„åˆ†æ”¯åªæœ‰ä¸¤ä¸ªæˆ–è€…åœ¨è¿™ä¸ªä½ç½®åªæƒ³å…ˆå¤„ç†ä¸€ä¸ªåˆ†æ”¯çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥ç”¨ if letã€‚</p><p>æ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç å°±å¯ä»¥ä½¿ç”¨ if letã€‚</p><pre><code class=\"language-plain\">  let shape_a = Shape::Rectangle;  \n  match shape_a {                  \n    Shape::Rectangle =&gt; {\n      println!(\"1\");\n    }\n    _ =&gt; {\n      println!(\"10\");\n    }\n  };\n</code></pre><p>æ”¹å†™ä¸ºï¼š</p><pre><code class=\"language-plain\">  let shape_a = Shape::Rectangle;  \n  if let Shape::Rectangle = shape_a {                  \n    println!(\"1\");\n  } else {\n    println!(\"10\");\n  }\n</code></pre><p>æ˜¯ä¸æ˜¯ç›¸æ¯”äºmatchï¼Œä½¿ç”¨ if let çš„ä»£ç é‡æœ‰æ‰€ç®€åŒ–ï¼Ÿ</p><h3>while let</h3><p>while åé¢ä¹Ÿå¯ä»¥è·Ÿ letï¼Œå®ç°æ¨¡å¼åŒ¹é…ã€‚æ¯”å¦‚ï¼š</p><pre><code class=\"language-plain\">#[derive(Debug)]\nenum Shape {\n    Rectangle,\n    Triangle,\n    Circle,\n}\n\nfn main() {\n    let mut shape_a = Shape::Rectangle; \n    let mut i = 0;\n    while let Shape::Rectangle = shape_a {    // æ³¨æ„è¿™ä¸€å¥\n        if i &gt; 9 {\n            println!(\"Greater than 9, quit!\");\n            shape_a = Shape::Circle;\n        } else {\n            println!(\"`i` is `{:?}`. Try again.\", i);\n            i += 1;\n        }\n    }\n}\n// è¾“å‡º\n`i` is `0`. Try again.\n`i` is `1`. Try again.\n`i` is `2`. Try again.\n`i` is `3`. Try again.\n`i` is `4`. Try again.\n`i` is `5`. Try again.\n`i` is `6`. Try again.\n`i` is `7`. Try again.\n`i` is `8`. Try again.\n`i` is `9`. Try again.\nGreater than 9, quit!\n</code></pre><p>ä¸Šé¢ç¤ºä¾‹æ„é€ äº†ä¸€ä¸ªwhileå¾ªç¯ï¼Œæ‰‹åŠ¨ç»´æŠ¤è®¡æ•°å™¨ iï¼Œé€’å¢åˆ°9ä¹‹åï¼Œé€€å‡ºå¾ªç¯ã€‚</p><p>çœ‹èµ·æ¥ï¼Œåœ¨æ¡ä»¶åˆ¤æ–­è¯­å¥é‚£é‡Œç”¨ <code>while Shape::Rectangle == shape_a</code> ä¹Ÿè¡Œï¼Œå¥½åƒç”¨ while let çš„æ„ä¹‰ä¸å¤§ã€‚æˆ‘ä»¬æ¥è¯•ä¸€ä¸‹ï¼Œç¼–è¯‘ä¹‹åï¼ŒæŠ¥é”™äº†ã€‚</p><pre><code class=\"language-plain\">error[E0369]: binary operation `==` cannot be applied to type `Shape`\n</code></pre><p>è¯´ == å·ä¸èƒ½ä½œç”¨åœ¨ç±»å‹ Shape ä¸Šï¼Œä½ å¯ä»¥æ€è€ƒä¸€ä¸‹ä¸ºä»€ä¹ˆã€‚</p><p>å¦‚æœä¸€ä¸ªæšä¸¾å˜ä½“å¸¦è´Ÿè½½ï¼Œä½¿ç”¨æ¨¡å¼åŒ¹é…å¯ä»¥æŠŠè¿™ä¸ªè´Ÿè½½å–å‡ºæ¥ï¼Œè¿™ç‚¹å°±æ¯”è¾ƒæ–¹ä¾¿äº†ï¼Œä¸‹é¢æˆ‘ä»¬ä½¿ç”¨å¸¦è´Ÿè½½çš„æšä¸¾æ¥ä¸¾ä¾‹ã€‚</p><h3>let</h3><p>letæœ¬èº«å°±æ”¯æŒæ¨¡å¼åŒ¹é…ã€‚å…¶å®å‰é¢çš„ if letã€while let æœ¬èº«ä½¿ç”¨çš„å°±æ˜¯ let æ¨¡å¼åŒ¹é…çš„èƒ½åŠ›ã€‚</p><pre><code class=\"language-plain\">#[derive(Debug)]\nenum Shape {\n  &nbsp; Rectangle {width: u32, height: u32},\n  &nbsp; Triangle,\n  &nbsp; Circle,\n}\n\nfn main() {\n    // åˆ›å»ºå®ä¾‹\n&nbsp; &nbsp; let shape_a = Shape::Rectangle {width: 10, height: 20};&nbsp;\n&nbsp; &nbsp; // æ¨¡å¼åŒ¹é…å‡ºè´Ÿè½½å†…å®¹\n    let Shape::Rectangle {width, height} = shape_a else {\n&nbsp; &nbsp; &nbsp; &nbsp; panic!(\"Can't extract rectangle.\");\n&nbsp; &nbsp; };\n&nbsp; &nbsp; println!(\"width: {}, height: {}\", width, height);\n}\n\n// è¾“å‡º\nwidth: 10, height: 20\n</code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨æ¨¡å¼åŒ¹é…è§£å¼€äº†shape_a ä¸­å¸¦çš„è´Ÿè½½ï¼ˆç»“æ„ä½“è´Ÿè½½ï¼‰ï¼ŒåŒæ—¶å®šä¹‰äº† width å’Œ height ä¸¤ä¸ªå±€éƒ¨å˜é‡ï¼Œå¹¶åˆå§‹åŒ–ä¸ºæšä¸¾å˜ä½“çš„å®ä¾‹è´Ÿè½½çš„å€¼ã€‚è¿™ä¸¤ä¸ªå±€éƒ¨å˜é‡åœ¨åç»­çš„ä»£ç å—ä¸­å¯ä»¥ä½¿ç”¨ã€‚</p><p>æ³¨æ„ç¬¬12è¡Œä»£ç ã€‚</p><pre><code class=\"language-plain\">let Shape::Rectangle {width, height} = shape_a else {\n</code></pre><p>è¿™ç§è¯­æ³•æ˜¯åŒ¹é…ç»“æ„ä½“è´Ÿè½½ï¼Œè·å–å­—æ®µå€¼çš„æ–¹å¼ã€‚</p><h3>åŒ¹é…å…ƒç»„</h3><p>å…ƒç»„ä¹Ÿå¯ä»¥è¢«åŒ¹é…ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ã€‚</p><pre><code class=\"language-plain\">fn main() {\n    let a = (1,2,'a');\n    \n    let (b,c,d) = a;\n    \n    println!(\"{:?}\", a);\n    println!(\"{}\", b);\n    println!(\"{}\", c);\n    println!(\"{}\", d);\n}\n</code></pre><p>è¿™ç§ç”¨æ³•å«åšå…ƒç»„çš„ææ„ï¼Œå¸¸ç”¨æ¥ä»å‡½æ•°çš„å¤šä¸ªè¿”å›å€¼é‡Œå–å‡ºæ•°æ®ã€‚</p><pre><code class=\"language-plain\">fn foo() -&gt; (u32, u32, char) {\n    (1,2,'a')\n}\n\nfn main() {\n    let (b,c,d) = foo();\n    \n    println!(\"{}\", b);\n    println!(\"{}\", c);\n    println!(\"{}\", d);\n}\n</code></pre><h3>åŒ¹é…æšä¸¾</h3><p>å‰é¢å·²ç»è®²è¿‡å¦‚ä½•ä½¿ç”¨ let æŠŠæšä¸¾é‡Œå˜ä½“çš„è´Ÿè½½è§£å‡ºæ¥ï¼Œè¿™é‡Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ã€‚</p><pre><code class=\"language-plain\">struct Rectangle {\n  &nbsp; width: u32,&nbsp;\n  &nbsp; height: u32\n}\n\nenum Shape {\n  &nbsp; Rectangle(Rectangle),\n  &nbsp; Triangle((u32, u32), (u32, u32), (u32, u32)),\n  &nbsp; Circle { origin: (u32, u32), radius: u32 },\n}\n\nfn main() {\n  &nbsp; let a_rec = Rectangle {\n    &nbsp; &nbsp; width: 10,\n    &nbsp; &nbsp; height: 20,\n  &nbsp; };\n  \n    // è¯·æ‰“å¼€ä¸‹é¢è¿™ä¸€è¡Œè¿›è¡Œå®éªŒ\n  &nbsp; //let shape_a = Shape::Rectangle(a_rec);\n    // è¯·æ‰“å¼€ä¸‹é¢è¿™ä¸€è¡Œè¿›è¡Œå®éªŒ\n    //let shape_a = Shape::Triangle((0, 1), (3,4), (3, 0));\n    \n    let shape_a = Shape::Circle { origin: (0, 0), radius: 5 };\n  &nbsp;&nbsp;\n    // è¿™é‡Œæ¼”ç¤ºäº†åœ¨æ¨¡å¼åŒ¹é…ä¸­å°†æšä¸¾çš„è´Ÿè½½è§£å‡ºæ¥çš„å„ç§å½¢å¼\n  &nbsp; match shape_a {\n    &nbsp; &nbsp; Shape::Rectangle(a_rec) =&gt; {  // è§£å‡ºä¸€ä¸ªç»“æ„ä½“\n    &nbsp; &nbsp; &nbsp; &nbsp; println!(\"Rectangle {}, {}\", a_rec.width, a_rec.height);\n    &nbsp; &nbsp; }\n    &nbsp; &nbsp; Shape::Triangle(x, y, z) =&gt; {  // è§£å‡ºä¸€ä¸ªå…ƒç»„\n    &nbsp; &nbsp; &nbsp; &nbsp; println!(\"Triangle {:?}, {:?}, {:?}\", x, y, z);\n    &nbsp; &nbsp; }\n    &nbsp; &nbsp; Shape::Circle {origin, radius} =&gt; {  // è§£å‡ºä¸€ä¸ªç»“æ„ä½“çš„å­—æ®µ\n    &nbsp; &nbsp; &nbsp; &nbsp; println!(\"Circle {:?}, {:?}\", origin, radius);\n    &nbsp; &nbsp; }\n  &nbsp; }\n}\n// è¾“å‡º\nCircle (0, 0), 5\n</code></pre><p>è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•å°†å˜ä½“ä¸­çš„ç»“æ„ä½“æ•´ä½“ã€å…ƒç»„å„éƒ¨åˆ†ã€ç»“æ„ä½“å„å­—æ®µè§£æå‡ºæ¥çš„æ–¹å¼ã€‚</p><p>ç”¨è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åšåˆ†æ”¯å¤„ç†çš„æ—¶å€™ï¼Œé¡ºä¾¿å¤„ç†æºå¸¦çš„ä¿¡æ¯ï¼Œè®©ä»£ç å˜å¾—ç›¸å½“ç´§å‡‘è€Œæœ‰æ„ä¹‰ï¼ˆé«˜å†…èšï¼‰ã€‚ä½ éœ€è¦ç†Ÿæ‚‰å¹¶æŒæ¡è¿™äº›å†™æ³•ï¼Œè¿™æ ·å†™èµ·Rustä»£ç æ¥æ‰ä¼šæ›´åŠ é¡ºæ‰‹ã€‚</p><h3>åŒ¹é…ç»“æ„ä½“</h3><p>ä¸‹é¢æˆ‘ä»¬å†çœ‹ä¸€ä¸ªä¾‹å­ï¼Œäº†è§£ç»“æ„ä½“å­—æ®µåŒ¹é…è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªç»†èŠ‚ã€‚</p><pre><code class=\"language-plain\">#[derive(Debug)]\nstruct User {\n    name: String,\n    age: u32,\n    student: bool\n}\n\nfn main() {\n    let a = User {\n        name: String::from(\"mike\"),\n        age: 20,\n        student: false,\n    };\n    let User {\n        name,\n        age,\n        student,\n    } = a;\n    \n    println!(\"{}\", name);\n    println!(\"{}\", age);\n    println!(\"{}\", student);\n    println!(\"{:?}\", a);\n}\n</code></pre><p>ç¼–è¯‘è¾“å‡ºï¼š</p><pre><code class=\"language-plain\">error[E0382]: borrow of partially moved value: `a`\n  --&gt; src/main.rs:24:22\n   |\n16 |         name,\n   |         ---- value partially moved here\n...\n24 |     println!(\"{:?}\", a);\n   |                      ^ value borrowed here after partial move\n   |\n   = note: partial move occurs because `a.name` has type `String`, which does not implement the `Copy` trait\n   = note: this error originates in the macro `$crate::format_args_nl` which comes from the expansion of the macro `println` (in Nightly builds, run with -Z macro-backtrace for more info)\nhelp: borrow this binding in the pattern to avoid moving the value\n   |\n16 |         ref name,\n   |         +++\n</code></pre><p>ç¼–è¯‘æç¤ºå‡ºé”™äº†ï¼Œåœ¨æ¨¡å¼åŒ¹é…çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†partially movedã€‚å…³äºpartially movedæˆ‘ä»¬åœ¨ä¸ŠèŠ‚è¯¾å·²ç»è®²è¿‡ã€‚æ¨¡å¼åŒ¹é…è¿‡ç¨‹ä¸­æ–°å®šä¹‰çš„ä¸‰ä¸ªå˜é‡ nameã€ageã€student åˆ†åˆ«å¾—åˆ°äº†å¯¹åº”Userå®ä¾‹açš„ä¸‰ä¸ªå­—æ®µå€¼çš„æ‰€æœ‰æƒã€‚</p><p>age å’Œ student é‡‡ç”¨äº†å¤åˆ¶æ‰€æœ‰æƒçš„å½¢å¼ï¼ˆå‚è€ƒ<a href=\"https://time.geekbang.org/column/article/718916\">ç¬¬ 2 è®²</a>ç§»åŠ¨è¿˜æ˜¯å¤åˆ¶éƒ¨åˆ†ï¼‰ï¼Œè€Œ name å­—ç¬¦ä¸²å€¼åˆ™æ˜¯é‡‡ç”¨äº†ç§»åŠ¨æ‰€æœ‰æƒçš„å½¢å¼ã€‚a.nameè¢«éƒ¨åˆ†ç§»åŠ¨åˆ°äº†æ–°çš„å˜é‡ name ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥ a.name å°±æ— æ³•ç›´æ¥ä½¿ç”¨äº†ã€‚</p><p>è¿™ä¸ªç¤ºä¾‹è¯´æ˜<strong>Rustä¸­çš„æ¨¡å¼åŒ¹é…æ˜¯ä¸€ç§é‡Šæ”¾åŸå¯¹è±¡çš„æ‰€æœ‰æƒçš„æ–¹å¼</strong>ã€‚</p><p>ä»Rustå°åŠ©æ‰‹çš„å»ºè®®é‡Œæˆ‘ä»¬çœ‹åˆ°äº†ä¸€ä¸ªå…³é”®å­—ï¼šrefã€‚</p><h3>ref å…³é”®å­—</h3><p>Rustc AIå°åŠ©æ‰‹å»ºè®®æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªå…³é”®å­—refï¼Œæˆ‘ä»¬æŒ‰å®ƒè¯´çš„æ”¹æ”¹ã€‚</p><pre><code class=\"language-plain\">#[derive(Debug)]\nstruct User {\n    name: String,\n    age: u32,\n    student: bool\n}\n\nfn main() {\n    let a = User {\n        name: String::from(\"mike\"),\n        age: 20,\n        student: false,\n    };\n    let User {\n        ref name,    // è¿™é‡ŒåŠ äº†ä¸€ä¸ªref\n        age,\n        student,\n    } = a;\n    \n    println!(\"{}\", name);\n    println!(\"{}\", age);\n    println!(\"{}\", student);\n    println!(\"{:?}\", a);\n}\n// è¾“å‡º \nmike\n20\nfalse\nUser { name: \"mike\", age: 20, student: false }\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæ‰“å°å‡ºäº†æ­£ç¡®çš„å€¼ã€‚</p><p>æœ‰äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªæ˜¯éœ€è¦è¯»å–ä¸€ä¸‹å­—æ®µçš„å€¼è€Œå·²ï¼Œä¸éœ€è¦è·å¾—å®ƒçš„æ‰€æœ‰æƒï¼Œè¿™æ—¶å°±å¯ä»¥é€šè¿‡ ref è¿™ä¸ªå…³é”®å­—ä¿®é¥°ç¬¦å‘Šè¯‰Rustç¼–è¯‘å™¨ï¼Œæˆ‘ç°åœ¨åªéœ€è¦è·å¾—é‚£ä¸ªå­—æ®µçš„å¼•ç”¨ï¼Œä¸è¦ç»™æˆ‘æ‰€æœ‰æƒã€‚è¿™å°±æ˜¯ ref å‡ºç°çš„åŸå› ï¼Œç”¨æ¥<strong>åœ¨æ¨¡å¼åŒ¹é…è¿‡ç¨‹ä¸­æä¾›ä¸€ä¸ªé¢å¤–çš„ä¿¡æ¯</strong>ã€‚</p><p>ä½¿ç”¨äº†refåï¼Œæ–°å®šä¹‰çš„ name å˜é‡çš„å€¼å…¶å®æ˜¯ &amp;a.name ï¼Œè€Œä¸æ˜¯ a.nameï¼ŒRustå°±ä¸ä¼šå†æŠŠæ‰€æœ‰æƒç»™moveå‡ºæ¥äº†ï¼Œå› æ­¤ä¹Ÿä¸ä¼šå‘ç”Ÿpartially movedè¿™ç§äº‹æƒ…ï¼ŒåŸæ¥çš„Userå®ä¾‹aè¿˜æœ‰æ•ˆï¼Œå› æ­¤å°±èƒ½è¢«æ‰“å°å‡ºæ¥äº†ã€‚ä½ å¯ä»¥ä½“ä¼šä¸€ä¸‹å…¶ä¸­çš„åŒºåˆ«ã€‚</p><p>ç›¸åº”çš„ï¼Œè¿˜æœ‰ ref mut çš„å½¢å¼ã€‚å®ƒæ˜¯ç”¨äºåœ¨æ¨¡å¼åŒ¹é…ä¸­è·å¾—ç›®æ ‡çš„å¯å˜å¼•ç”¨ã€‚</p><pre><code class=\"language-plain\">let User {\n    ref mut name,    // è¿™é‡ŒåŠ äº†ä¸€ä¸ªref mut\n    age,\n    student,\n} = a;\n</code></pre><p>ä½ å¯ä»¥åšåšå®éªŒä½“ä¼šä¸€ä¸‹ã€‚</p><p>Rustä¸­å¼ºå¤§çš„æ¨¡å¼åŒ¹é…è¿™ä¸ªæ¦‚å¿µå¹¶ä¸æ˜¯RuståŸåˆ›çš„ï¼Œå®ƒæ¥è‡ªäºå‡½æ•°å¼è¯­è¨€ã€‚ä½ å¦‚æœæ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥äº†è§£ä¸€ä¸‹Ocamlã€Haskellæˆ–Scalaä¸­æ¨¡å¼åŒ¹é…çš„ç›¸å…³æ¦‚å¿µã€‚</p><h3>å‡½æ•°å‚æ•°ä¸­çš„æ¨¡å¼åŒ¹é…</h3><p>å‡½æ•°å‚æ•°å…¶å®å°±æ˜¯å®šä¹‰å±€éƒ¨å˜é‡ï¼Œå› æ­¤æ¨¡å¼åŒ¹é…çš„èƒ½åŠ›åœ¨è¿™é‡Œä¹Ÿèƒ½å¾—åˆ°ä½“ç°ã€‚</p><p>ç¤ºä¾‹1ï¼š</p><pre><code class=\"language-plain\">fn foo((a, b, c): (u32, u32, char)) {  // æ³¨æ„è¿™é‡Œçš„å®šä¹‰\n    println!(\"{}\", a);\n    println!(\"{}\", b);\n    println!(\"{}\", c);  \n}\n\nfn main() {\n    let a = (1,2, 'a');\n    foo(a); \n}\n</code></pre><p>ä¸Šä¾‹ï¼Œæˆ‘ä»¬æŠŠå…ƒç»„aä¼ å…¥äº†å‡½æ•° <code>foo()</code>ï¼Œ<code>foo()</code> çš„å‚æ•°ç›´æ¥å®šä¹‰æˆæ¨¡å¼åŒ¹é…ï¼Œè§£æå‡ºäº† aã€bã€c ä¸‰ä¸ªå…ƒç»„å…ƒç´ çš„å†…å®¹ï¼Œå¹¶åœ¨å‡½æ•°ä¸­ä½¿ç”¨ã€‚</p><p>ç¤ºä¾‹2ï¼š</p><pre><code class=\"language-plain\">#[derive(Debug)]\nstruct User {\n    name: String,\n    age: u32,\n    student: bool\n}\n\nfn foo(User {        // æ³¨æ„è¿™é‡Œçš„å®šä¹‰\n    name,\n    age,\n    student\n}: User) {\n    println!(\"{}\", name);\n    println!(\"{}\", age);\n    println!(\"{}\", student);  \n}\n\nfn main() {\n    let a = User {\n        name: String::from(\"mike\"),\n        age: 20,\n        student: false,\n    };\n    foo(a);\n}\n</code></pre><p>ä¸Šä¾‹ï¼Œæˆ‘ä»¬æŠŠç»“æ„ä½“aä¼ å…¥äº†å‡½æ•° <code>foo()</code>ï¼Œ<code>foo()</code> çš„å‚æ•°ç›´æ¥å®šä¹‰æˆå¯¹ç»“æ„ä½“çš„æ¨¡å¼åŒ¹é…ï¼Œè§£æå‡ºäº† nameã€ageã€student ä¸‰ä¸ªå­—æ®µçš„å†…å®¹ï¼Œå¹¶åœ¨å‡½æ•°ä¸­ä½¿ç”¨ã€‚</p><h2>å°ç»“</h2><p>æšä¸¾æ˜¯Rustä¸­çš„é‡è¦æ¦‚å¿µï¼Œå¹¿æ³›ç”¨äºå±æ€§é…ç½®ã€é”™è¯¯å¤„ç†ã€åˆ†æ”¯æµç¨‹ã€ç±»å‹èšåˆç­‰ã€‚åœ¨å®é™…åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬æŠŠç»“æ„ä½“ä½œä¸ºæ¨¡å‹çš„ä¸»ä½“æ‰¿è½½ï¼ŒæŠŠæšä¸¾ä½œä¸ºå‘¨è¾¹çš„è¾…åŠ©é…ç½®å’Œé€»è¾‘åˆ†ç±»ã€‚å®ƒä»¬ç»å¸¸ä¼šæ­é…ä½¿ç”¨ã€‚</p><p>æ¨¡å¼åŒ¹é…æ˜¯Rusté‡Œéå¸¸æœ‰ç‰¹è‰²çš„è¯­è¨€ç‰¹æ€§ï¼Œæˆ‘ä»¬åœ¨åšåˆ†æ”¯é€»è¾‘å¤„ç†çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡æ¨¡å¼åŒ¹é…å¸¦ä¸Šè¦å¤„ç†çš„ç›¸å…³ä¿¡æ¯ï¼Œè¿˜å¯ä»¥æŠŠè¿™äº›ä¿¡æ¯è§£æå‡ºæ¥ï¼Œè®©ä»£ç çš„é€»è¾‘å’Œæ•°æ®å†…èšå¾—æ›´åŠ ç´§å¯†ï¼Œè®©ç¨‹åºçœ‹èµ·æ¥æ›´åŠ èµå¿ƒæ‚¦ç›®ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ab/9b/ab7b1637e9f52a7dc4327db56f99e29b.jpg?wh=1458x1670\" alt=\"\"></p><h2>æ€è€ƒé¢˜</h2><p>matchè¡¨è¾¾å¼çš„å„ä¸ªåˆ†æ”¯ä¸­ï¼Œå¦‚æœæœ‰ä¸åŒçš„è¿”å›ç±»å‹çš„æƒ…å†µï¼Œåº”è¯¥å¦‚ä½•å¤„ç†ï¼Ÿæ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç•™ä¸‹è‡ªå·±çš„ç­”æ¡ˆï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™èŠ‚è¯¾çš„å†…å®¹åˆ†äº«ç»™å…¶ä»–æœ‹å‹ï¼Œæˆ‘ä»¬ä¸‹èŠ‚è¯¾å†è§ï¼</p><h2>å‚è€ƒèµ„æ–™</h2><ul>\n<li>æ ¼å¼åŒ–å‚æ•°ï¼š<a href=\"https://shimo.im/outlink/gray?url=https%3A%2F%2Fdoc.rust-lang.org%2Fstd%2Ffmt%2Findex.html\">https://shimo.im/outlink/gray?url=https%3A%2F%2Fdoc.rust-lang.org%2Fstd%2Ffmt%2Findex.html</a></li>\n<li>matchçš„è¯­æ³•è§„åˆ™ï¼š<a href=\"https://doc.rust-lang.org/reference/expressions/match-expr.html\">https://doc.rust-lang.org/reference/expressions/match-expr.html</a></li>\n</ul>","neighbors":{"left":{"article_title":"05ï½œå¤åˆç±»å‹ï¼ˆä¸Šï¼‰ï¼šç»“æ„ä½“ä¸é¢å‘å¯¹è±¡ç‰¹æ€§","id":720991},"right":{"article_title":"07ï½œç±»å‹ä¸ç±»å‹å‚æ•°ï¼šç»™Rustå°åŠ©æ‰‹æä¾›æ›´å¤šä¿¡æ¯","id":722240}},"comments":[{"had_liked":false,"id":383346,"user_name":"å¤æ˜åœ°è§‰","can_delete":false,"product_type":"c1","uid":1528298,"ip_address":"ä¸­å›½å°æ¹¾","ucode":"31DA063A17FC27","user_header":"https://static001.geekbang.org/account/avatar/00/17/51/ea/d9a83bb3.jpg","comment_is_top":false,"comment_ctime":1698904833,"is_pvip":false,"replies":[{"id":139676,"content":"éå¸¸ç”¨å¿ƒçš„æ€è€ƒã€‚åè¿‡æ¥å›ç­”ï¼š\n3. matchçš„æ—¶å€™ï¼Œruståšäº†è‡ªåŠ¨è§£å¼•ç”¨ï¼Œå°±æ˜¯è‡ªåŠ¨åŠ äº†*selfã€‚è¿™ç‚¹ä¸ŠRustå°±æ˜¯ä¸Cä¸åŒï¼ŒRustæœ‰ç‚¹çŒœæµ‹ç¨‹åºå‘˜çš„æ„å›¾çš„å‘³é“ã€‚æ¯”å¦‚çœ‹å¦‚ä¸‹ä»£ç ï¼Œä¹Ÿæ˜¯ç±»ä¼¼åšäº†è‡ªåŠ¨è§£å¼•ç”¨ã€‚\n```\nfn foo(a: &amp;u32, b: &amp;u32) {\n    if a &gt; b {\n        println!(&quot;111&quot;);\n    } else {\n        println!(&quot;222&quot;);\n    }\n}\n\nfn main() {\n    foo(&amp;5, &amp;4);\n}\n```\n2.  matchæšä¸¾æ—¶ï¼Œè¿™é‡Œä¸å­˜åœ¨å¯¹è´Ÿè½½çš„åŒ¹é…æ•è·ï¼Œå› æ­¤ä¸å­˜åœ¨â€œå†èµ‹å€¼â€çš„æ“ä½œï¼Œåªæ˜¯æ¯”å¯¹ä¸€ä¸‹ï¼Œäºæ˜¯è·Ÿå®ƒæ˜¯Copyçš„è¿˜æ˜¯Moveçš„å°±æ²¡å…³ç³»äº†ã€‚\n1. å¯¹ï¼Œå› ä¸ºåšäº†â€œå†èµ‹å€¼â€çš„æ“ä½œã€‚è·Ÿ Copyçš„è¿˜æ˜¯Moveçš„å°±æœ‰å…³ç³»ï¼Œæ‰€ä»¥å°±æ˜¯ä½ é‚£æ ·ç†è§£çš„ã€‚\n\nRustå†…éƒ¨åšäº†å¾ˆå¤šé€»è¾‘è‡ªæ´½çš„æ¨ç†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1699003147,"ip_address":"é‡åº†","comment_id":383346,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"è€å¸ˆï¼Œçœ‹åˆ°é‡Œé¢çš„ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘äº§ç”Ÿäº†ä¸€äº›ç–‘é—®ã€‚æˆ‘å…ˆä¸¾ä¸ªä¾‹å­ï¼š\n```\nfn main() {\n    let s = String::from(&quot;Hello&quot;);\n    let p = &amp;s;\n    let s2 = *p;\n}\n```\nå¦‚æœç›´æ¥å°† s èµ‹å€¼ç»™ s2ï¼Œé‚£ä¹ˆæ¯«æ— ç–‘é—®ä¼šå‘ç”Ÿç§»åŠ¨ï¼Œs ä¸å†æœ‰æ•ˆã€‚ä½†å¦‚æœæ˜¯å¯¹ s çš„å¼•ç”¨è¿›è¡Œè§£å¼•ç”¨ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šæç¤ºæ— æ³•ç§»åŠ¨ï¼Œè¿™æ˜¯å•¥åŸå› å‘€ã€‚æˆ‘è‡ªå·±æœ‰ä¸€ä¸ªçŒœæµ‹ï¼Œå› ä¸º Rust é»˜è®¤ä¸ä¼šæ·±åº¦æ‹·è´æ•°æ®ï¼Œæ‰€ä»¥å¦‚æœ let s2 = *p è¿™æ¡è¯­å¥æˆç«‹ï¼Œå°±æ„å‘³ç€è¦å¤ºèµ° s çš„æ‰€æœ‰æƒã€‚ä½†æˆ‘ä»¬ä¹‹æ‰€ä»¥è¦è·å–å¼•ç”¨ï¼Œå°±æ˜¯ä¸ºäº†ä¸å¤ºèµ°åŸæœ‰å˜é‡ï¼ˆsï¼‰çš„æ‰€æœ‰æƒï¼Œäºæ˜¯åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒRust å¹²è„†æç¤ºä¸å…è®¸æˆ‘ä»¬ç§»åŠ¨ï¼Œé™¤éå®ƒå®ç°äº† Copy traitï¼Œæ•°æ®å…¨éƒ¨åœ¨æ ˆä¸Šï¼Œæµ…æ‹·è´ä¹‹åæ•°æ®å½¼æ­¤ç‹¬ç«‹ã€‚\nè¿™æ ·ç†è§£æ˜¯æ­£ç¡®çš„å—ï¼ŸRust çš„ä¸€äº›æ¦‚å¿µæ¯”è¾ƒç›¸ä¼¼ï¼Œå®¹æ˜“å‡ºç°æ··ä¹±ï¼Œæ‰€ä»¥æƒ³é—®é—®è€å¸ˆã€‚\n\nåŸºäºä¸Šé¢è¿™ä¸ªä¾‹å­ï¼Œå†æ¥çœ‹çœ‹æ–‡ä¸­çš„ä¸€ä¸ªä¾‹å­ã€‚\n```\nenum MyEnum {\n    Add,\n    Subtract,\n}\n\nimpl MyEnum {\n    fn run(&amp;self, x: i32, y: i32) -&gt; i32 {\n        &#47;&#47; è¿™é‡Œçš„ self æ˜¾ç„¶æ˜¯æšä¸¾çš„æŸä¸ªå˜ä½“çš„å¼•ç”¨\n        &#47;&#47; å› ä¸º MyEnum æ²¡æœ‰å®ç° Copy traitï¼Œæ‰€ä»¥å®ƒå’Œå­—ç¬¦ä¸²ä¸€æ ·ï¼Œä¸èƒ½é€šè¿‡è§£å¼•ç”¨èµ‹å€¼\n        &#47;&#47; let obj = *self; è¿™é‡Œæ˜¯ä¸åˆæ³•çš„ï¼Œç”±äºä¸æ˜¯å¯ Copy çš„ï¼Œå› æ­¤æ— æ³•ç§»åŠ¨\n        &#47;&#47; ä½†é—®é¢˜æ¥äº†ï¼Œä¸ºå•¥ä¸‹é¢çš„ä»£ç æ˜¯åˆæ³•çš„ï¼ŒåŸæ–‡æ˜¯ match selfï¼Œä½†æ”¹æˆ match *self ä¹Ÿå¯ä»¥\n        match *self {\n            Self::Add =&gt; x + y,\n            Self::Subtract =&gt; x - y,\n        }\n    }\n}\n```\nå› æ­¤è¿™æ˜¯æˆ‘çš„ç¬¬äºŒä¸ªç–‘é—®ï¼Œä¸ºå•¥ let obj = *self ä¸åˆæ³•ï¼Œä½† match *self å°±æ˜¯åˆæ³•çš„ã€‚\n\nè¿˜æœ‰ç¬¬ä¸‰ä¸ªç–‘é—®ï¼Œå¯èƒ½æ˜¯å—åˆ° C çš„å½±å“ï¼Œå› ä¸ºå˜é‡å’ŒæŒ‡é’ˆæ˜¯æ— æ³•æ¯”è¾ƒçš„ã€‚æ‰€ä»¥åœ¨çœ‹åˆ° match self çš„ä¸€ç¬é—´ï¼Œå°±å¿ä¸ä½è¯•äº†ä¸€ä¸‹ match *selfï¼Œå› ä¸ºå‚æ•°æ˜¯ &amp;selfï¼Œæ‰€ä»¥ self æ˜¯æšä¸¾å˜ä½“çš„å¼•ç”¨ã€‚è€Œ Self::Add å’Œ Self::Subtract æ˜¯å…·ä½“çš„æšä¸¾å˜ä½“ï¼Œå®ƒä»¬ä¹‹é—´æ¯”è¾ƒæ€»è§‰å¾—æœ‰äº›åˆ«æ‰­ï¼Œè¿˜æ˜¯ match *self çœ‹ç€é¡ºçœ¼ã€‚æ‰€ä»¥æƒ³é—®ä¸€ä¸‹è€å¸ˆï¼Œä¸ºå•¥è¿™ä¸¤è€…èƒ½å¤Ÿæ¯”è¾ƒã€‚\n\nä»¥ä¸Šå°±æ˜¯æˆ‘çš„ä¸€äº›ç–‘é—®ï¼Œè¿˜éº»çƒ¦å”è€å¸ˆæŒ‡å¯¼ä¸€ä¸‹ï¼ŒRust çš„ä¸€äº›æ¦‚å¿µæœ‰ç‚¹è®©äººå¤´æ™•ã€‚","like_count":12,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630883,"discussion_content":"éå¸¸ç”¨å¿ƒçš„æ€è€ƒã€‚åè¿‡æ¥å›ç­”ï¼š\n3. matchçš„æ—¶å€™ï¼Œruståšäº†è‡ªåŠ¨è§£å¼•ç”¨ï¼Œå°±æ˜¯è‡ªåŠ¨åŠ äº†*selfã€‚è¿™ç‚¹ä¸ŠRustå°±æ˜¯ä¸Cä¸åŒï¼ŒRustæœ‰ç‚¹çŒœæµ‹ç¨‹åºå‘˜çš„æ„å›¾çš„å‘³é“ã€‚æ¯”å¦‚çœ‹å¦‚ä¸‹ä»£ç ï¼Œä¹Ÿæ˜¯ç±»ä¼¼åšäº†è‡ªåŠ¨è§£å¼•ç”¨ã€‚\n```\nfn foo(a: &amp;u32, b: &amp;u32) {\n    if a &gt; b {\n        println!(&#34;111&#34;);\n    } else {\n        println!(&#34;222&#34;);\n    }\n}\n\nfn main() {\n    foo(&amp;5, &amp;4);\n}\n```\n2.  matchæšä¸¾æ—¶ï¼Œè¿™é‡Œä¸å­˜åœ¨å¯¹è´Ÿè½½çš„åŒ¹é…æ•è·ï¼Œå› æ­¤ä¸å­˜åœ¨â€œå†èµ‹å€¼â€çš„æ“ä½œï¼Œåªæ˜¯æ¯”å¯¹ä¸€ä¸‹ï¼Œäºæ˜¯è·Ÿå®ƒæ˜¯Copyçš„è¿˜æ˜¯Moveçš„å°±æ²¡å…³ç³»äº†ã€‚\n1. å¯¹ï¼Œå› ä¸ºåšäº†â€œå†èµ‹å€¼â€çš„æ“ä½œã€‚è·Ÿ Copyçš„è¿˜æ˜¯Moveçš„å°±æœ‰å…³ç³»ï¼Œæ‰€ä»¥å°±æ˜¯ä½ é‚£æ ·ç†è§£çš„ã€‚\n\nRustå†…éƒ¨åšäº†å¾ˆå¤šé€»è¾‘è‡ªæ´½çš„æ¨ç†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1699003147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1979955,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/36/33/3411df0d.jpg","nickname":"seven9t","note":"","ucode":"B7CA7D62C56938","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":635102,"discussion_content":"æŒ‰å­—é¢æ„æ€æ¥ç†è§£å°±å¥½äº†ï¼Œä¸œè¥¿ä½ æ—¢ç„¶æ˜¯&#39;å€Ÿç”¨&#39;çš„å½“ç„¶æ— æ³•&#39;èµ ä¸&#39;åˆ«äººã€‚æ‰€æœ‰è¿™ç±»åº•å±‚é€»è¾‘æ˜¯å¦‚æœå…è®¸è¿™ä¹ˆåšäº†ï¼Œä¼šæœ‰ä»€ä¹ˆé£é™©ï¼Œæ¯”å¦‚è¿™é‡Œå°±æ˜¯å¯èƒ½å¯¼è‡´å¤šä¸ªownerï¼Œé‡å¤é‡Šæ”¾å•¥çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1704420956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383619,"user_name":"-HedonğŸ­","can_delete":false,"product_type":"c1","uid":3176234,"ip_address":"æ¹–åŒ—","ucode":"FAE541E7A2B88F","user_header":"https://static001.geekbang.org/account/avatar/00/30/77/2a/0cd4c373.jpg","comment_is_top":false,"comment_ctime":1699358148,"is_pvip":false,"replies":[{"id":139812,"content":"éå¸¸æ£’çš„å™è¿°ï¼Œæ€è·¯æå…¶æ¸…æ™°ã€‚ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1699412151,"ip_address":"é‡åº†","comment_id":383619,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"ä½œä¸ºé™æ€ç±»å‹è¯­è¨€ï¼Œmatch è¿”å›çš„ç±»å‹å¿…é¡»åœ¨ç¼–è¯‘æœŸå°±è¢«ç¡®å®šï¼Œä¹Ÿå°±æ„å‘³ç€ match å¿…é¡»è¿”å›ç›¸åŒçš„ç±»å‹ã€‚åœ¨è¿™ä¸ªå‰æä¸‹ï¼Œå¦‚æœè¦è¿”å›çš„ç±»å‹ï¼Œé‚£ä¹ˆåˆ‡å…¥ç‚¹å°±åªèƒ½æ˜¯ï¼šâ€œè¿”å›åŒä¸€ä¸ªç±»å‹ï¼Œä½†æ˜¯è¿™ä¸ªç±»å‹èƒ½è¡¨ç¤ºï¼ˆæ‰¿è½½ï¼‰ä¸åŒçš„ç±»å‹â€ï¼Œé‚£å°±åªèƒ½æ˜¯æœ¬èŠ‚è¯¾å°†çš„æšä¸¾ enum äº†ã€‚\n```rust\nenum Number {\n    Int(i32),\n    Float(f64),\n    None\n}\n\nfn get_number(condition: i32) -&gt; Number {\n    match condition {\n        1 =&gt; Number::Int(10),\n        2 =&gt; Number::Float(3.14),\n        _ =&gt; Number::None\n    }\n}\n\nfn main() {\n    let value = get_number(1);\n    match value {\n        Number::Int(i) =&gt; println!(&quot;int {}&quot;, i),\n        Number::Float(f) =&gt; println!(&quot;float {}&quot;, f),\n        Number::None =&gt; println!(&quot;not number&quot;),\n    }\n\n    let value = get_number(2);\n    match value {\n        Number::Int(i) =&gt; println!(&quot;int {}&quot;, i),\n        Number::Float(f) =&gt; println!(&quot;float {}&quot;, f),\n        Number::None =&gt; println!(&quot;not number&quot;),\n    }\n\n    let value = get_number(3);\n    match value {\n        Number::Int(i) =&gt; println!(&quot;int {}&quot;, i),\n        Number::Float(f) =&gt; println!(&quot;float {}&quot;, f),\n        Number::None =&gt; println!(&quot;not number&quot;),\n    }\n}\n\n```","like_count":4,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":631224,"discussion_content":"éå¸¸æ£’çš„å™è¿°ï¼Œæ€è·¯æå…¶æ¸…æ™°ã€‚ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1699412152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1481979,"avatar":"https://static001.geekbang.org/account/avatar/00/16/9c/fb/7fe6df5b.jpg","nickname":"é™ˆå§è™«","note":"","ucode":"44BB84712436AB","race_medal":5,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":654285,"discussion_content":"å†™çš„çœŸå¥½ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1732331624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383287,"user_name":"ä¸€ä¸ªäººæ—…è¡Œ","can_delete":false,"product_type":"c1","uid":2555864,"ip_address":"åŒ—äº¬","ucode":"A708238B10B44B","user_header":"https://static001.geekbang.org/account/avatar/00/26/ff/d8/d48d6088.jpg","comment_is_top":false,"comment_ctime":1698818583,"is_pvip":false,"replies":[{"id":139635,"content":"å¯ä»¥çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698847017,"ip_address":"é‡åº†","comment_id":383287,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"1.  é»˜è®¤æƒ…å†µä¸‹ï¼Œstructä¸èƒ½è¿›è¡Œæ¯”è¾ƒï¼Œéœ€è¦ä¸ºShapeç±»å‹å®ç°PartialEq traitç‰¹å¾ã€‚\n2.  æ–¹å¼ä¸€ï¼šä½¿ç”¨æšä¸¾ï¼Œè¯¥æšä¸¾ç±»å‹çš„æšä¸¾å€¼è¡¨ç¤ºä¸€ä¸ªç±»å‹ã€‚\n     æ–¹å¼äºŒï¼šä½¿ç”¨ç‰¹å¾ï¼Œæ‰€æœ‰çš„ç±»å‹éƒ½éœ€è¦å®ç°è¯¥ç‰¹å¾\n","like_count":4,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630757,"discussion_content":"å¯ä»¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698847017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383304,"user_name":"ä¸‹é›¨å¤©","can_delete":false,"product_type":"c1","uid":1008315,"ip_address":"æ¹–åŒ—","ucode":"816B3792ECC50A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/62/bb/323a3133.jpg","comment_is_top":false,"comment_ctime":1698831565,"is_pvip":false,"replies":[{"id":139651,"content":"å¯¹ï¼ŒåŒ…ï¼Œè§£åŒ…è¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698893085,"ip_address":"é‡åº†","comment_id":383304,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"æ€è€ƒé¢˜ï¼š\npub enum Result&lt;T1,T2&gt;{\n    V1(T1),\n    V2(T2)\n}\n\nfn get_diff_value(number:i32) -&gt; Result&lt;i32,i32&gt;{\n   let r = match number {\n       1 =&gt; Result::V1(1),\n       _ =&gt; Result::V2(2)\n   };\n   r\n}\n\nfn main(){\n    let r  = get_diff_value(0);\n    match r {\n        Result::V1(x) =&gt; println!(&quot;V1={x}&quot;),\n        Result::V2(x) =&gt; println!(&quot;V2={x}&quot;)\n    }\n}\n\nèšåˆçš„ä»£ä»·æ˜¯ä¸æ˜¯éœ€è¦è§£èšåˆã€‚ã€‚ã€‚ã€‚","like_count":2,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630791,"discussion_content":"å¯¹ï¼ŒåŒ…ï¼Œè§£åŒ…è¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698893085,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1765926,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLO6XvxfFPMGcVSSX8uIZY2yib29qlyat178pU4QM3gIic5GXZ8PC0tzRiazP3FiajXbTj19SE4ZhV0gQ/132","nickname":"PEtFiSh","note":"","ucode":"C4922398A92E05","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630927,"discussion_content":"è·Ÿç€é—®ä¸€ä¸ªï¼Œ è§£åŒ…çš„æ­¥éª¤ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥implæˆæšä¸¾çš„ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™æ ·å†™èµ·æ¥æ˜¯å¦åˆç†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1699070053,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383573,"user_name":"æ°´ä¸è¦é±¼","can_delete":false,"product_type":"c1","uid":2699481,"ip_address":"å¹¿ä¸œ","ucode":"40F9B2BA2DD9C7","user_header":"https://static001.geekbang.org/account/avatar/00/29/30/d9/323ba366.jpg","comment_is_top":false,"comment_ctime":1699281317,"is_pvip":false,"replies":[{"id":139817,"content":"ç›´æ¥ç»™çš„å¼•ç”¨å‡ºæ¥ï¼Œæ²¡æœ‰å†åˆ›å»ºä¸€ä»½æ–°å®ä¾‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1699412216,"ip_address":"é‡åº†","comment_id":383573,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸ªé—®é¢˜ï¼Œé‚£ä¸ª ref name é‚£é‡Œæ˜¯ä¸æ˜¯ç­‰äº &amp;nameï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œé‚£ä¸æ˜¯ç›¸å½“äºæŠŠä¸€ä¸ª &amp;String èµ‹å€¼ç»™äº† String ä¹ˆï¼Œè¿˜æ˜¯è¯´ rust ä¼šè‡ªåŠ¨ç”¨ &amp;String å†å»åˆ›å»ºä¸€ä¸ª String ç„¶åç»™ name","like_count":1,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":631229,"discussion_content":"ç›´æ¥ç»™çš„å¼•ç”¨å‡ºæ¥ï¼Œæ²¡æœ‰å†åˆ›å»ºä¸€ä»½æ–°å®ä¾‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1699412216,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383333,"user_name":"Michael","can_delete":false,"product_type":"c1","uid":1118976,"ip_address":"ä¸­å›½é¦™æ¸¯","ucode":"35F4FFAC4A4B15","user_header":"https://static001.geekbang.org/account/avatar/00/11/13/00/a4a2065f.jpg","comment_is_top":false,"comment_ctime":1698888270,"is_pvip":false,"replies":[{"id":139645,"content":"å°±æ˜¯è¦å¾—åˆ°å¼•ç”¨æ‰å¼•å…¥çš„ref","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698892846,"ip_address":"é‡åº†","comment_id":383333,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"ä¸Šé¢çš„ ref ç« èŠ‚ä¸­ï¼ŒUser.name æ˜¯ String ç±»å‹ï¼Œä¸ºä»€ä¹ˆå¯ä»¥é€šè¿‡refç»™å®ƒèµ‹å€¼ a.name çš„å¼•ç”¨","like_count":1,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630784,"discussion_content":"å°±æ˜¯è¦å¾—åˆ°å¼•ç”¨æ‰å¼•å…¥çš„ref","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698892846,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1118976,"avatar":"https://static001.geekbang.org/account/avatar/00/11/13/00/a4a2065f.jpg","nickname":"Michael","note":"","ucode":"35F4FFAC4A4B15","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":630793,"discussion_content":"æˆ‘æ„Ÿè§‰ç±»å‹ä¸åŒ¹é…å•Šï¼ŒUser.name æ˜¯ Stringç±»å‹ï¼Œé€šè¿‡refå¾—åˆ°çš„æ˜¯ä¸æ˜¯ &amp;String ç±»å‹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1698893243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":630784,"ip_address":"ä¸Šæµ·","group_id":0},"score":630793,"extra":""}]}]},{"had_liked":false,"id":383299,"user_name":"plh","can_delete":false,"product_type":"c1","uid":1031828,"ip_address":"å››å·","ucode":"D79F2B87AC3AD2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erEHTaQDkWqEYib9iabib8rACYpSFBHTPFmgicUKaib79MB6VIxNwiajHUS8kYFEKCGOjpibf0dibhIjqhfzg/132","comment_is_top":false,"comment_ctime":1698829674,"is_pvip":false,"replies":[{"id":139644,"content":"å¯¹çš„ï¼Œä¸€ä¸ªAIäººç±»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698892809,"ip_address":"é‡åº†","comment_id":383299,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"è¿™ä¸€èŠ‚ å°±å€¼å›ç¥¨ä»·äº†.   \næ–‡ä¸­: [Rustc å°åŠ©æ‰‹å¦‚æ­¤è´´å¿ƒï¼Œè¿™ç§ä¿å§†çº§æœåŠ¡æ˜¯ä½ åœ¨ Javaã€C++ ç­‰å…¶ä»–è¯­è¨€ä¸­æ„Ÿå—ä¸åˆ°çš„ã€‚] \nä¸ªäººæ„Ÿè§‰, Rustc ä¹Ÿåƒ å¤§å¸ˆæ ·çš„,åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™, åœ¨äººèº«è¾¹ä¸åŒå…¶çƒ¦çš„æŒ‡å‡ºæ½œåœ¨çš„é—®é¢˜,ç›´åˆ° ç¼–è¯‘æˆåŠŸ.","like_count":1,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630783,"discussion_content":"å¯¹çš„ï¼Œä¸€ä¸ªAIäººç±»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698892809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383280,"user_name":"Taozi","can_delete":false,"product_type":"c1","uid":1021926,"ip_address":"ä¸Šæµ·","ucode":"DD6567A31B3E33","user_header":"","comment_is_top":false,"comment_ctime":1698812552,"is_pvip":false,"replies":[{"id":139630,"content":"1. å¯ä»¥è¿™æ ·ç†è§£ã€‚ä½†è¦æ³¨æ„ï¼Œenumä¸­çš„é€‰é¡¹åç§°æœ¬èº«æ˜¯ å˜ä½“ï¼Œvariantï¼Œä¸æ˜¯struct nameï¼›\n2ã€‚å¯¹çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698821483,"ip_address":"é‡åº†","comment_id":383280,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"1. enumå˜ä½“å¯ä»¥æŒ‚è½½çš„ç±»å‹æ˜¯å¦å°±æ˜¯å¯¹åº”äº†ç»“æ„ä½“çš„ä¸‰ç§å½¢æ€ï¼šå•å…ƒç»“æ„ä½“ã€å…ƒç»„ç»“æ„ä½“å’Œå‘½åç»“æ„ä½“ã€‚\n2. matchè¡¨è¾¾å¼ä¸åŒçš„è¿”å›ç±»å‹å¯ä»¥ä½¿ç”¨enumè¿›è¡Œèšåˆã€‚","like_count":1,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630734,"discussion_content":"1. å¯ä»¥è¿™æ ·ç†è§£ã€‚ä½†è¦æ³¨æ„ï¼Œenumä¸­çš„é€‰é¡¹åç§°æœ¬èº«æ˜¯ å˜ä½“ï¼Œvariantï¼Œä¸æ˜¯struct nameï¼›\n2ã€‚å¯¹çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698821484,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383278,"user_name":"ä»˜ä½³ä¼Ÿ","can_delete":false,"product_type":"c1","uid":3541041,"ip_address":"åŒ—äº¬","ucode":"9054B858B17293","user_header":"https://static001.geekbang.org/account/avatar/00/36/08/31/080b4a86.jpg","comment_is_top":false,"comment_ctime":1698809385,"is_pvip":false,"replies":[{"id":139632,"content":"ä½ è¯´è¿™ä¸ªæ–¹æ¡ˆåé¢ä¼šè®²åˆ°ã€‚å…¶å®ƒæ–¹æ¡ˆè§å…¶å®ƒåŒå­¦è¯´çš„æœ‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698821558,"ip_address":"é‡åº†","comment_id":383278,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"æ€è€ƒé¢˜ï¼šmatchå„ä¸ªåˆ†æ”¯è¿”å›å€¼ç±»å‹ä¸åŒæ—¶ï¼Œå¯ä»¥å°†å„ä¸ªç±»å‹å®ç°åŒä¸€ä¸ªtrait ï¼Œç„¶åç”¨Boxå°†è¿”å›å€¼åŒ…è£¹ï¼Œè¿”å›å€¼ç±»å‹å®šä¹‰Box&lt;dyn trait&gt;ã€‚ä¸çŸ¥é“è¿˜æœ‰æ²¡æœ‰å…¶ä»–åŠæ³•","like_count":1,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630736,"discussion_content":"ä½ è¯´è¿™ä¸ªæ–¹æ¡ˆåé¢ä¼šè®²åˆ°ã€‚å…¶å®ƒæ–¹æ¡ˆè§å…¶å®ƒåŒå­¦è¯´çš„æœ‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698821558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":388069,"user_name":"fandream","can_delete":false,"product_type":"c1","uid":3697081,"ip_address":"æµ™æ±Ÿ","ucode":"C2A18E7AEC5F6B","user_header":"https://static001.geekbang.org/account/avatar/00/38/69/b9/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1709278204,"is_pvip":false,"replies":[{"id":141756,"content":"è¿™ä¸ªæ¢ç´¢å¾ˆæ£’å‘€ï¼è¿™ä¸ªç¤ºä¾‹è¯´æ˜Rustå¹¶ä¸ä¼šå»åˆ†æå®ä¾‹å…·ä½“çš„å€¼æ˜¯ä»€ä¹ˆï¼Œè€Œåªæ˜¯åœ¨ç±»å‹&#47;ç»“æ„ä¸Šåšåˆ†æã€‚æ‰€ä»¥æ‰ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1713029011,"ip_address":"åŠ æ‹¿å¤§","comment_id":388069,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100626901,"comment_content":"è€å¸ˆï¼Œ å…³äºmatchåŒ¹é…æœ‰ä¸ªç–‘é—®ï¼Ÿ\n```\n#[derive(Debug)]\nenum MyEnum {\n    Add,\n    Subtract,\n}\nfn main() {\n    let a = MyEnum::Add;\n\n    match a {\n        MyEnum::Add =&gt; println!(&quot;a&quot;),\n        MyEnum::Subtract =&gt; println!(&quot;b&quot;),\n    };\n    println!(&quot;a = {:?}&quot;, a);\n}\n```\nä¸Šé¢è¿™ç§æƒ…å†µæ—¶ï¼Œæ²¡æœ‰å‘ç”Ÿmoveï¼Œaè¿˜æ˜¯å¯ä»¥ä½¿ç”¨\nä½†æ˜¯å¦‚æœç»™æšä¸¾æ·»åŠ äº†å¸¦æœ‰ä¼šç§»åŠ¨çš„è´Ÿè½½æ—¶ï¼Œæƒ…å†µå°±ä¸ä¸€æ ·äº†ï¼Œ\n```\nfn main() {\n    let a = MyEnum::Add;\n\n    match a {\n        MyEnum::Add =&gt; println!(&quot;a&quot;),\n        MyEnum::Subtract =&gt; println!(&quot;b&quot;),\n        MyEnum::Mix(val) =&gt; println!(&quot;val = {val}&quot;),\n    };\n    println!(&quot;a = {:?}&quot;, a);\n}\n\n#[derive(Debug)]\nenum MyEnum {\n    Add,\n    Subtract,\n    Mix(String),\n}\n```\nè¿™ä¸ªå¸¦æœ‰è´Ÿè½½çš„æšä¸¾å‘ç”Ÿäº†éƒ¨åˆ†ç§»åŠ¨ã€‚\nè¿™ä¸ªæ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":641838,"discussion_content":"è¿™ä¸ªæ¢ç´¢å¾ˆæ£’å‘€ï¼è¿™ä¸ªç¤ºä¾‹è¯´æ˜Rustå¹¶ä¸ä¼šå»åˆ†æå®ä¾‹å…·ä½“çš„å€¼æ˜¯ä»€ä¹ˆï¼Œè€Œåªæ˜¯åœ¨ç±»å‹/ç»“æ„ä¸Šåšåˆ†æã€‚æ‰€ä»¥æ‰ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1713029011,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŠ æ‹¿å¤§","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":386970,"user_name":"RobinH","can_delete":false,"product_type":"c1","uid":1764303,"ip_address":"ç¾å›½","ucode":"4D74D32C8D1FB8","user_header":"https://static001.geekbang.org/account/avatar/00/1a/eb/cf/8fa3dd5a.jpg","comment_is_top":false,"comment_ctime":1706028457,"is_pvip":false,"replies":[{"id":141082,"content":"æšä¸¾è‡ªå·±å°±èƒ½å¼ºè¡Œèšåˆå„ç§ç±»å‹çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1706062457,"ip_address":"é‡åº†","comment_id":386970,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"#[derive(Debug)]\nenum Type&lt;T&gt; {\n    A(T),\n    B(T),\n}\n\nfn match_type&lt;T&gt;(t1: Type&lt;T&gt;) -&gt; T {\n    let temp = match t1 {\n        Type::A(a) =&gt; {\n            a\n        }\n        Type::B(b) =&gt; {\n            b\n        }\n    };\n    return temp;\n}\n\næ€è€ƒé¢˜ æˆ‘å°è¯•ç†è§£ä¸‹äº†ä¸‹ ï¼Œæ˜¯æƒ³è€ƒ æ³›å‹ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":636386,"discussion_content":"æšä¸¾è‡ªå·±å°±èƒ½å¼ºè¡Œèšåˆå„ç§ç±»å‹çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1706062457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":386089,"user_name":"HdUIprince","can_delete":false,"product_type":"c1","uid":1262168,"ip_address":"æ¹–åŒ—","ucode":"2510EBFACDBDB2","user_header":"https://static001.geekbang.org/account/avatar/00/13/42/58/2286eca6.jpg","comment_is_top":false,"comment_ctime":1704047276,"is_pvip":false,"replies":[{"id":140725,"content":"https:&#47;&#47;doc.rust-lang.org&#47;std&#47;fmt&#47;index.html  è¿™ä¸ª,å¯¹çš„å§?","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1704170652,"ip_address":"é‡åº†","comment_id":386089,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"è€å¸ˆå‚è€ƒèµ„æ–™ä¸­çš„æ ¼å¼åŒ–å‚æ•°çš„é“¾æ¥ä¸å¤ªå¯¹ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":634874,"discussion_content":"https://doc.rust-lang.org/std/fmt/index.html  è¿™ä¸ª,å¯¹çš„å§?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1704170652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":385648,"user_name":"tan","can_delete":false,"product_type":"c1","uid":1477463,"ip_address":"é‡åº†","ucode":"20E176CB1EFD51","user_header":"https://static001.geekbang.org/account/avatar/00/16/8b/57/a3daeaae.jpg","comment_is_top":false,"comment_ctime":1703041490,"is_pvip":false,"replies":[{"id":140552,"content":"å¯¹çš„ï¼ŒRustçš„æšä¸¾å°±æ˜¯ä¸ªå¤šå•¦Aæ¢¦çš„å£è¢‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1703122373,"ip_address":"é‡åº†","comment_id":385648,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"æ¯”javaçš„æšä¸¾å¼ºå¤§å¤ªå¤šäº†","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":634227,"discussion_content":"å¯¹çš„ï¼ŒRustçš„æšä¸¾å°±æ˜¯ä¸ªå¤šå•¦Aæ¢¦çš„å£è¢‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1703122373,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":385345,"user_name":"superggn","can_delete":false,"product_type":"c1","uid":3623568,"ip_address":"åŒ—äº¬","ucode":"831CCD98B393FE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/7Q403U68Oy4lXG5sFBPVKLrfwaRzBqpBZibpEBXcPf9UOO3qrnh7RELoByTLzBZLkN9Nukfsj7DibynbZjKAKgag/132","comment_is_top":false,"comment_ctime":1702463716,"is_pvip":false,"replies":[{"id":140451,"content":"å‡½æ•°çš„è¿”å›å€¼ç±»å‹éœ€è¦æ€ä¹ˆå†™å‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1702609453,"ip_address":"é‡åº†","comment_id":385345,"utype":1}],"discussion_count":3,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"æ²¡å¤ªæ˜ç™½æ€è€ƒé¢˜ï¼Œ è¿”å›ç±»å‹ä¸åŒæ‰§è¡Œä¸åŒé€»è¾‘å‘—","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":633768,"discussion_content":"å‡½æ•°çš„è¿”å›å€¼ç±»å‹éœ€è¦æ€ä¹ˆå†™å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1702609453,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":2,"child_discussions":[{"author":{"id":3623568,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/7Q403U68Oy4lXG5sFBPVKLrfwaRzBqpBZibpEBXcPf9UOO3qrnh7RELoByTLzBZLkN9Nukfsj7DibynbZjKAKgag/132","nickname":"superggn","note":"","ucode":"831CCD98B393FE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":633780,"discussion_content":"ç±»å‹ä¸åŒæ­£å¸¸å†™å•Š\nmatch some_value {\n    A =&gt; {do something compatible with type A}\n    B =&gt; {do something compatible with type B}\n}\nå› ä¸ºæˆ‘è§‰å¾—è¿™ä¿© do something é»˜è®¤å°±æ˜¯å®šåˆ¶åŒ–çš„ï¼Œ è¿”å›ç±»å‹ä¸åŒæ˜¯ä¸€ä»¶å¾ˆæ­£å¸¸çš„äº‹æƒ…ï¼Œ æ‰€ä»¥æˆ‘æ²¡å¤ªæ˜ç™½å˜›æ„æ€ï¼Œ \n\næ€è€ƒé¢˜æ˜¯ä¸æ˜¯è¯´ä¸åŒç±»å‹å°½é‡åˆ«æ”¾åˆ°ä¸€ä¸ªä¸èƒ½å…¼å®¹å¤šç§ç±»å‹çš„ _ pattern é‡Œï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1702617579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":633768,"ip_address":"åŒ—äº¬","group_id":0},"score":633780,"extra":""},{"author":{"id":3623568,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/7Q403U68Oy4lXG5sFBPVKLrfwaRzBqpBZibpEBXcPf9UOO3qrnh7RELoByTLzBZLkN9Nukfsj7DibynbZjKAKgag/132","nickname":"superggn","note":"","ucode":"831CCD98B393FE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":633829,"discussion_content":"å•Šæˆ‘å¤§æ¦‚æ˜ç™½å•¥æ„æ€äº†ï¼Œ æ˜¯ä¸æ˜¯è¯´å› ä¸º match æ‰€æœ‰åˆ†æ”¯è¿”å›å€¼å¿…é¡»ä¸€è‡´ï¼Œ æ‰€ä»¥è¦æŠŠä¸åŒç±»å‹çš„å€¼å½’ä¸€åŒ–ä¸€ä¸‹å­ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1702632064,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":633768,"ip_address":"åŒ—äº¬","group_id":0},"score":633829,"extra":""}]}]},{"had_liked":false,"id":385146,"user_name":"Joe Black","can_delete":false,"product_type":"c1","uid":1052528,"ip_address":"å±±ä¸œ","ucode":"21FE222A286445","user_header":"https://static001.geekbang.org/account/avatar/00/10/0f/70/cdef7a3d.jpg","comment_is_top":false,"comment_ctime":1702197758,"is_pvip":false,"replies":[{"id":140395,"content":"å¯¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1702251955,"ip_address":"é‡åº†","comment_id":385146,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"Rustæšä¸¾å…¶å®æ›´åƒC++ booståº“ä¸­çš„variant","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":633479,"discussion_content":"å¯¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1702251955,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383931,"user_name":"ä¸‹é›¨å¤©","can_delete":false,"product_type":"c1","uid":1008315,"ip_address":"æ¹–åŒ—","ucode":"816B3792ECC50A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/62/bb/323a3133.jpg","comment_is_top":false,"comment_ctime":1699960516,"is_pvip":false,"replies":[{"id":140094,"content":"å†™çš„åªæ¥å—isize ğŸ˜¢","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1700015182,"ip_address":"é‡åº†","comment_id":383931,"utype":1}],"discussion_count":3,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸‹ï¼Œä¸ºå•¥è¿™ç§ä¸è¡Œå‘¢ï¼Ÿéš¾é“Cé£æ ¼æšä¸¾åˆå§‹åŒ–åªèƒ½ç”¨å›ºå®šé•¿åº¦çš„ï¼Ÿ\n\nenum HttpResultCode {\n    Ok = &quot;200&quot;,\n    NotFound = &quot;404&quot;,\n    Teapot = &quot;418&quot;,\n}\n\n2 |     Ok = &quot;200&quot;,\n  |          ^^^^^ expected `isize`, found `&amp;str`\n","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":631828,"discussion_content":"å†™çš„åªæ¥å—isize ğŸ˜¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1700015182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1008315,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/62/bb/323a3133.jpg","nickname":"ä¸‹é›¨å¤©","note":"","ucode":"816B3792ECC50A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":631838,"discussion_content":"é¢â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1700021317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":631828,"ip_address":"æ¹–åŒ—","group_id":0},"score":631838,"extra":""}]},{"author":{"id":3538056,"avatar":"https://static001.geekbang.org/account/avatar/00/35/fc/88/7cafa477.jpg","nickname":"å«æˆ‘æœ€å³å›","note":"","ucode":"1D43690BDC5D5D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":635211,"discussion_content":"Rusté‡Œæ²¡æœ‰Cé£æ ¼çš„æšä¸¾åˆå§‹åŒ–æ–¹å¼å§ï¼Œè¿™æ ·å†™ç±»å‹å°±æ˜¯Rustçš„&amp;Stringï¼Œæƒ³è¦è£¸æŒ‡é’ˆå¾—åº”è¯¥æ˜¯unsafeé‡Œæ‰èƒ½ç”¨å§ğŸ¤”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1704549805,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383629,"user_name":"Geek_bc2516","can_delete":false,"product_type":"c1","uid":2707349,"ip_address":"æµ™æ±Ÿ","ucode":"D21822498443BE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Kn4AtheuVQXREBkibJHuALzon1HhtkCquYyelQaTAvneM2vREae0CxicsxAyLIxKVp1GmVbYRmKlDAumE8ZsNmVw/132","comment_is_top":false,"comment_ctime":1699370214,"is_pvip":false,"replies":[{"id":139815,"content":"å¯¹çš„ã€‚æ¯”jså¼ºå¤šå•¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1699412182,"ip_address":"é‡åº†","comment_id":383629,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"è¿™ä¸ªåŒ¹é…å¥½åƒjsä¸­çš„è§£æ„èµ‹å€¼","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":631227,"discussion_content":"å¯¹çš„ã€‚æ¯”jså¼ºå¤šå•¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1699412182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383449,"user_name":"ä¸å¿˜åˆå¿ƒ","can_delete":false,"product_type":"c1","uid":3737491,"ip_address":"ä¸Šæµ·","ucode":"8262D42405F4E2","user_header":"https://static001.geekbang.org/account/avatar/00/39/07/93/710c7ee2.jpg","comment_is_top":false,"comment_ctime":1699074484,"is_pvip":false,"replies":[{"id":139730,"content":"ä»»ä½•ç±»å‹ï¼Ÿä½ ç°åœ¨ç”¨çš„æ˜¯åºåˆ—åŒ–çš„æ–¹å¼ï¼ŒæŒºå¥½çš„ã€‚æ›´æœ‰æŠ€å·§çš„æ˜¯Anyä¹‹ç±»çš„ï¼Œä½†æ˜¯æˆ‘ä¸æ¨èã€‚å¤±å»äº†rustçš„ä¼˜åŠ¿äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1699191412,"ip_address":"é‡åº†","comment_id":383449,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"è€å¸ˆ, è¯·æ•™ä¸ªé—®é¢˜.\næˆ‘éœ€è¦åœ¨åŒä¸€ä¸ªHashMapé‡Œæ”¾ä»»ä½•ç±»å‹çš„æ•°æ®(å¦‚: i32,i64, String, HashMap). ç›®å‰æ˜¯è¿™æ ·å®šä¹‰çš„:\nlet mut map: HashMap&lt;&amp;str, Box&lt;dyn erased_serde::Serialize&gt;&gt; = HashMap::new();\nè¿˜æœ‰æ›´å¥½çš„æ–¹å¼å—?","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630985,"discussion_content":"ä»»ä½•ç±»å‹ï¼Ÿä½ ç°åœ¨ç”¨çš„æ˜¯åºåˆ—åŒ–çš„æ–¹å¼ï¼ŒæŒºå¥½çš„ã€‚æ›´æœ‰æŠ€å·§çš„æ˜¯Anyä¹‹ç±»çš„ï¼Œä½†æ˜¯æˆ‘ä¸æ¨èã€‚å¤±å»äº†rustçš„ä¼˜åŠ¿äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1699191412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383344,"user_name":"å¤æ˜åœ°è§‰","can_delete":false,"product_type":"c1","uid":1528298,"ip_address":"ä¸­å›½å°æ¹¾","ucode":"31DA063A17FC27","user_header":"https://static001.geekbang.org/account/avatar/00/17/51/ea/d9a83bb3.jpg","comment_is_top":false,"comment_ctime":1698903258,"is_pvip":false,"replies":[{"id":139659,"content":"ä¸é”™çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698939842,"ip_address":"é‡åº†","comment_id":383344,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"æ€è€ƒé¢˜ï¼šæœ€ç®€å•çš„åšæ³•å°±æ˜¯ä½¿ç”¨æšä¸¾ï¼Œæ¯”å¦‚å¤„ç† Excelï¼Œç”±äº Excel çš„æ¯ä¸ªå•å…ƒæ ¼ï¼ˆCellï¼‰éƒ½å¯èƒ½æ˜¯ä¸åŒçš„ç±»å‹ï¼Œåœ¨ Go é‡Œé¢è¯»å‡ºæ¥å¯ä»¥æ˜¯ä¸€ä¸ª interfaceï¼Œä½†åœ¨ Rust ä¸­è¯»å‡ºæ¥å¯ä»¥æ˜¯ä¸€ä¸ªæšä¸¾ã€‚\nenum Cell {\n    Integer(i32),\n    Float(f32),\n    String(text)\n}\nå¯¹æ¯ä¸ªå•å…ƒæ ¼ match ä¸€ä¸‹ï¼Œä¸åŒç±»å‹çš„å€¼ï¼Œæ‰§è¡Œä¸åŒçš„é€»è¾‘å³å¯ã€‚","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630835,"discussion_content":"ä¸é”™çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698939843,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383332,"user_name":"Michael","can_delete":false,"product_type":"c1","uid":1118976,"ip_address":"ä¸­å›½é¦™æ¸¯","ucode":"35F4FFAC4A4B15","user_header":"https://static001.geekbang.org/account/avatar/00/11/13/00/a4a2065f.jpg","comment_is_top":false,"comment_ctime":1698887166,"is_pvip":false,"replies":[{"id":139646,"content":"ç»†èŠ‚ğŸ‰‘ï¸å°±å¤ªå¤šäº†ï¼Œæˆ‘åé¢å•ç‹¬å¼€æ–‡ç« è¡¥å……å“ˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698892895,"ip_address":"é‡åº†","comment_id":383332,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100626901,"comment_content":"è¿˜æœ‰ä¸€ä¸ª @ ç»‘å®šç¬¦å·ï¼Œè€å¸ˆè¡¥å……è®²è®²å‘—","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630785,"discussion_content":"ç»†èŠ‚ğŸ‰‘ï¸å°±å¤ªå¤šäº†ï¼Œæˆ‘åé¢å•ç‹¬å¼€æ–‡ç« è¡¥å……å“ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698892895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1118976,"avatar":"https://static001.geekbang.org/account/avatar/00/11/13/00/a4a2065f.jpg","nickname":"Michael","note":"","ucode":"35F4FFAC4A4B15","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630794,"discussion_content":"å—¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698893678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸­å›½é¦™æ¸¯","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383330,"user_name":"ä¸‹é›¨å¤©","can_delete":false,"product_type":"c1","uid":1008315,"ip_address":"æ¹–åŒ—","ucode":"816B3792ECC50A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/62/bb/323a3133.jpg","comment_is_top":false,"comment_ctime":1698882837,"is_pvip":false,"replies":[{"id":139647,"content":"å¯¹ï¼Œæœ‰ç‚¹ã€‚å…¶å®è¿˜å¥½ï¼Œåæ­£ä½ å°‘âœï¸äº†ä¸€ä¸ªæ‹¬å·ï¼Œå°åŠ©æ‰‹ä¼šæé†’ä½ çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698892944,"ip_address":"é‡åº†","comment_id":383330,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100626901,"comment_content":"æšä¸¾ä¸­å®šä¹‰å…ƒç»„ç»“æ„ä½“ä¸å…ƒç»„ï¼Œè¿™ä¸¤ç§å†™æ³•ä¸Šæœ‰ç‚¹å‚»å‚»åˆ†ä¸æ¸…æ¥š","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630786,"discussion_content":"å¯¹ï¼Œæœ‰ç‚¹ã€‚å…¶å®è¿˜å¥½ï¼Œåæ­£ä½ å°‘âœï¸äº†ä¸€ä¸ªæ‹¬å·ï¼Œå°åŠ©æ‰‹ä¼šæé†’ä½ çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698892944,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383301,"user_name":"Geek_6fjt20","can_delete":false,"product_type":"c1","uid":1672482,"ip_address":"åŒ—äº¬","ucode":"B7EB9B061E2C06","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqrbHib1v0wPRVHxrFK2CPQQX8Wg3rRMPiaZ5teMKu5klT48yns6yo4krZsIqHskwdEsibVvQ3QB7CUQ/132","comment_is_top":false,"comment_ctime":1698831031,"is_pvip":false,"replies":[{"id":139652,"content":"å¯ä»¥çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698893093,"ip_address":"é‡åº†","comment_id":383301,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100626901,"comment_content":"å¦‚æœè¿”å›ä¸åŒç±»å‹ï¼Œå¯ä»¥ç”¨Box&lt;dyn Xxx&gt;","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630792,"discussion_content":"å¯ä»¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698893093,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383277,"user_name":"ä¸å¿˜åˆå¿ƒ","can_delete":false,"product_type":"c1","uid":3737491,"ip_address":"ä¸Šæµ·","ucode":"8262D42405F4E2","user_header":"https://static001.geekbang.org/account/avatar/00/39/07/93/710c7ee2.jpg","comment_is_top":false,"comment_ctime":1698805846,"is_pvip":false,"replies":[{"id":139631,"content":"1å¥½ï¼Œ2ä¸€èˆ¬ä¸ä¼šé‚£æ ·ç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698821509,"ip_address":"é‡åº†","comment_id":383277,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100626901,"comment_content":"æ€è€ƒé¢˜: \n    ç¬¬ä¸€ç§æ–¹æ¡ˆ: æŠŠä¸åŒç±»å‹å°è£…åœ¨æšä¸¾ä¸­, è¿”å›æšä¸¾.\n    ç¬¬äºŒç§æ–¹æ¡ˆ: è¿”å›Box&lt;dyn Any&gt;.","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630735,"discussion_content":"1å¥½ï¼Œ2ä¸€èˆ¬ä¸ä¼šé‚£æ ·ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698821510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383265,"user_name":"c","can_delete":false,"product_type":"c1","uid":1199438,"ip_address":"åŒ—äº¬","ucode":"E1E383485EBF77","user_header":"https://static001.geekbang.org/account/avatar/00/12/4d/4e/5a20fe28.jpg","comment_is_top":false,"comment_ctime":1698794380,"is_pvip":false,"replies":[{"id":139622,"content":"æ²™å‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698806527,"ip_address":"é‡åº†","comment_id":383265,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100626901,"comment_content":"ä¸€æ¥¼","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630710,"discussion_content":"æ²™å‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698806527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":383264,"user_name":"ä¼¯é˜³","can_delete":false,"product_type":"c1","uid":1596631,"ip_address":"åŒ—äº¬","ucode":"DBDC8735AA54AD","user_header":"https://static001.geekbang.org/account/avatar/00/18/5c/d7/3b92bb0d.jpg","comment_is_top":false,"comment_ctime":1698794281,"is_pvip":false,"replies":[{"id":139621,"content":"ç¡®å®ç‰›ğŸ‘ï¼Œä½ èµ·å¾—çœŸæ—©ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2186062,"ctime":1698806517,"ip_address":"é‡åº†","comment_id":383264,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100626901,"comment_content":"æ‰“å¡ï¼Œæ¨¡å¼åŒ¹é…å¤ªç‰›äº†ï¼Œç»“åˆäº†å¤šç§è¯­è¨€ï¼Œè¿˜æœ‰ææ„åŠŸèƒ½","like_count":0,"discussions":[{"author":{"id":2186062,"avatar":"https://static001.geekbang.org/account/avatar/00/21/5b/4e/8e1f699e.jpg","nickname":"Mike Tang","note":"","ucode":"55775BCEDB5937","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":630709,"discussion_content":"ç¡®å®ç‰›ğŸ‘ï¼Œä½ èµ·å¾—çœŸæ—©ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1698806518,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":395856,"user_name":"å¤","can_delete":false,"product_type":"c1","uid":1585570,"ip_address":"æµ™æ±Ÿ","ucode":"AD2B2D6A4E5CBF","user_header":"https://static001.geekbang.org/account/avatar/00/18/31/a2/16c3318d.jpg","comment_is_top":false,"comment_ctime":1732264819,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100626901,"comment_content":"1. æ·»åŠ refé‚£ä¸ª,å¯ä»¥å¼•ç”¨aå¯¹è±¡,let ... = &amp;a; è¿™æ ·æ˜¯å¦ç­‰ä»·äº ref name;\n2. fn foo(User { &#47;&#47; æ³¨æ„è¿™é‡Œçš„å®šä¹‰ name, age, student}: User) å¯¹äºè¿™ç§å‡½æ•°å®šä¹‰,å¦‚æœç»“æ„ä½“å¢å‡å­—æ®µ,æ‰€æœ‰è¿™æ ·å®šä¹‰çš„åœ°æ–¹éƒ½è¦è·Ÿç€ä¿®æ”¹,ç®—æ˜¯ä¸€ä¸ªå¼Šç«¯å§\n","like_count":0},{"had_liked":false,"id":390669,"user_name":"å®‰çŸ³","can_delete":false,"product_type":"c1","uid":1508755,"ip_address":"æµ™æ±Ÿ","ucode":"185AD0046CF1C2","user_header":"https://static001.geekbang.org/account/avatar/00/17/05/93/3c3f2a6d.jpg","comment_is_top":false,"comment_ctime":1715925759,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100626901,"comment_content":"é—®ä¸ªé—®é¢˜ï¼š\næˆ‘ç”¨rustå†™çš„ä¸€ä¸ªhttp server\n```\n#[macro_use] extern crate rocket;\n\n#[get(&quot;&#47;hello&quot;)]\nfn hello() -&gt; &amp;&#39;static str {\n    &quot;Hello, world!&quot;\n}\n\n#[launch]\nfn rocket() -&gt; _ {\n    rocket::build().mount(&quot;&#47;&quot;, routes![hello])\n}\n```\nå’Œç”¨nodejså†™çš„http server\n```\nconst Koa = require(&#39;koa&#39;);\nconst app = new Koa();\n\n&#47;&#47; å“åº”ä¸­é—´ä»¶\napp.use(ctx =&gt; {\n    ctx.body = &#39;Hello World&#39;;\n});\n\n&#47;&#47; å¯åŠ¨æœåŠ¡å™¨\nconst PORT = 3000;\napp.listen(PORT, () =&gt; {\n    console.log(`Server is running on http:&#47;&#47;localhost:${PORT}`);\n});\n\n\n```\nä½¿ç”¨autocannonæµ‹è¯•\nä¸ºä»€ä¹ˆnodejsçš„æ€§èƒ½è¦å¥½äºrust ,æ˜¯æˆ‘ä½¿ç”¨çš„å§¿åŠ¿ä¸å¯¹å—\næµ‹è¯•å‚æ•° 10wæ¬¡è¯·æ±‚ï¼Œå¹¶å‘1w","like_count":0},{"had_liked":false,"id":387473,"user_name":"å†·çŸ³","can_delete":false,"product_type":"c1","uid":1523432,"ip_address":"å¹¿ä¸œ","ucode":"2A2B056A83E963","user_header":"https://static001.geekbang.org/account/avatar/00/17/3e/e8/3736f3cd.jpg","comment_is_top":false,"comment_ctime":1707452438,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100626901,"comment_content":"666","like_count":0},{"had_liked":false,"id":383770,"user_name":"kylin","can_delete":false,"product_type":"c1","uid":1351248,"ip_address":"å‰æ—","ucode":"3588B62A4F9534","user_header":"https://static001.geekbang.org/account/avatar/00/14/9e/50/21e0beca.jpg","comment_is_top":false,"comment_ctime":1699599606,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100626901,"comment_content":"ç»“æ„ä½“çš„ä¸‰ç§å½¢æ€ï¼šå•å…ƒç»“æ„ä½“ã€å…ƒç»„ç»“æ„ä½“å’Œå‘½åç»“æ„ä½“","like_count":0},{"had_liked":false,"id":383298,"user_name":"-","can_delete":false,"product_type":"c1","uid":1546505,"ip_address":"åŒ—äº¬","ucode":"7B34258D346793","user_header":"https://static001.geekbang.org/account/avatar/00/17/99/09/29c46a7b.jpg","comment_is_top":false,"comment_ctime":1698827135,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100626901,"comment_content":"æ²¡æœ‰Goä¼ å‚ä¸­çš„å¤åˆ¶ï¼Œè€Œæ˜¯æ‰€æœ‰æƒçš„éƒ¨åˆ†è½¬ç§»","like_count":0,"discussions":[{"author":{"id":1301143,"avatar":"https://static001.geekbang.org/account/avatar/00/13/da/97/e421b1ae.jpg","nickname":"å‘¨é¹","note":"","ucode":"3BDD7C9785AEC1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":639302,"discussion_content":"struct Rectangle {\n    width: u32, \n    height: u32\n}\n\nenum Shape {\n    Rectangle(Rectangle),\n    Triangle((u32, u32), (u32, u32), (u32, u32)),\n    Circle { origin: (u32, u32), radius: u32 },\n}\n\nfn main() {\n    let a_rec = Rectangle {\n        width: 10,\n        height: 20,\n    };\n  \n    // è¯·æ‰“å¼€ä¸‹é¢è¿™ä¸€è¡Œè¿›è¡Œå®éªŒ\n    //let shape_a = Shape::Rectangle(a_rec);\n    // è¯·æ‰“å¼€ä¸‹é¢è¿™ä¸€è¡Œè¿›è¡Œå®éªŒ\n    //let shape_a = Shape::Triangle((0, 1), (3,4), (3, 0));\n    \n    let shape_a = Shape::Circle { origin: (0, 0), radius: 5 };\n    \n    // è¿™é‡Œæ¼”ç¤ºäº†åœ¨æ¨¡å¼åŒ¹é…ä¸­å°†æšä¸¾çš„è´Ÿè½½è§£å‡ºæ¥çš„å„ç§å½¢å¼\n    match shape_a {\n        Shape::Rectangle(a_rec) =&gt; {  // è§£å‡ºä¸€ä¸ªç»“æ„ä½“\n            println!(&#34;Rectangle {}, {}&#34;, a_rec.width, a_rec.height);\n        }\n        Shape::Triangle(x, y, z) =&gt; {  // è§£å‡ºä¸€ä¸ªå…ƒç»„\n            println!(&#34;Triangle {:?}, {:?}, {:?}&#34;, x, y, z);\n        }\n        Shape::Circle {origin, radius} =&gt; {  // è§£å‡ºä¸€ä¸ªç»“æ„ä½“çš„å­—æ®µ\n            println!(&#34;Circle {:?}, {:?}&#34;, origin, radius);\n        }\n    }\n}\n// è¾“å‡º\nCircle (0, 0), 5\næœ€ä¸Šé¢çš„Triangleåº”è¯¥åŠ ä¸Š#[derive(Debug)]é¿å…ç¼–è¯‘é”™è¯¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1710472104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ç¦å»º","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
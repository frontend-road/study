{"id":428106,"title":"02 | 上手：一个清单应用帮你入门Vue.js","content":"<p>你好，我是大圣，欢迎进入课程导读篇的第二讲。</p><p>在上一讲中，我带你了解了前端框架的基本发展历史。在为什么要学Vue框架这个问题上，相信你现在已经有了自己的答案。那么从今天开始，我们正式进入上手学Vue 的阶段。</p><p>我们的专栏课程会通过故事的形式展开。故事的主角小圣是一名刚入行的前端工程师，在校期间学了点HTML、CSS和JavaScript，但是不太懂框架。我是他的经理，会手把手教他在Vue.js这个框架里打怪升级。</p><p>小圣在学习Vue的过程中碰到的各种问题，同样也可能是你会碰到的问题。所以，在我带着你一起解决小圣面临的问题的同时，你的很多问题也会迎刃而解。</p><p>今天是小圣第一天入职，他只知道团队的项目是用Vue.js开发的，但并不熟悉Vue的具体技术细节，所以我决定带他先做一个清单应用，先在整体上熟悉这个框架。当然了，我在这里带小圣做的清单应用，更多的是一种模拟的场景，并不需要对号入座到真实的工作场景下。毕竟在真实的工作场景下，可能小圣一进公司就上实际的项目了。</p><p>如果你已经很熟悉Vue开发了，可以直接粗略地把本讲过一遍，直奔下一讲。在那里，我会带你梳理Vue 3的新特性，相信这些新特性会让你对Vue 3产生新的期待。</p><!-- [[[read_end]]] --><h2>环境准备</h2><p>小圣领完电脑后，首先要做的是安装编辑器和浏览器，这个不用多介绍，你也能轻松地搞定。我推荐给小圣写代码的编辑器是VS Code，调试页面的浏览器是Chrome。有了VS Code和Chrome，我们就可以开始后面的工作了。</p><h2>任务分解</h2><p>如下图所示，小圣要上手开发的应用大概长这个样子：它有一个输入框，供我们输入数据；下方有一个列表，显示着所有我们要做的事情。</p><p>在输入框输入内容后，敲下回车，下面就会新增一条数据。对于每个要做的事情，你还可以用复选框标记，标记后文字就会变灰，并带有一个删除的效果，表示这件事情已经做完了。</p><p><img src=\"https://static001.geekbang.org/resource/image/0c/01/0c58c5219ecb61394110ccb848829c01.png?wh=1526x884\" alt=\"图片\"></p><p>清单应用虽然看起来简单，不过麻雀虽小，五脏俱全。其实不管入门哪个框架，你都可以写一个清单，来上手体验一下。</p><p>不过，由于小圣只有简单的jQuery开发经验，他在学习Vue的时候，首先要做的就是思想的转变。为什么要这么说呢？下面我们来对比看看jQuery的开发思路和Vue.js的开发思路有什么不同，看完你就会明白，我为什么说小圣在学习Vue时，首先要做的是转变思路。</p><p>比如，我们想做一个输入框，里面输入的任何数据都会在页面上同步显示。</p><p>对于这样一个前端的功能，jQuery开发的思路是：</p><ol>\n<li>先找到输入框，给输入框绑定输入事件；</li>\n<li>输入的同时，我们获取输入的值；</li>\n<li>再找到对应的html标签，更新标签的内容。</li>\n</ol><p>对应代码大概是这样的：</p><pre><code class=\"language-plain\">&lt;div&gt;\n    &lt;h2 id=\"app\"&gt;&lt;/h2&gt;\n    &lt;input type=\"text\" id=\"todo-input\"&gt;\n&lt;/div&gt;\n&lt;script src=\"jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    // 找到输入框，监听输入\n    $('#todo-input').on('input',function(){\n        let val = $(this).val() // 获取值\n        $('#app').html(val) // 找到标签，修改内容\n    })\n&lt;/script&gt;\n</code></pre><p>在实现我们想要的输入框的功能时，上述jQuery代码需要先找到输入框，然后持续监听输入，之后一直等待到输入值被获取，最后找到标签所在的前端页面位置，进行内容的修改。</p><p>上述的jQuery代码，其实是jQuery时代的开发逻辑的一个缩影。<strong>而jQuery时代的开发逻辑，就是我们先要找到目标元素，然后再进行对应的修改</strong>。</p><p>学习Vue.js，首先就要进行思想的升级，也就是说，<strong>不要再思考页面的元素怎么操作，而是要思考数据是怎么变化的</strong>。这就意味着，我们只需要操作数据，至于数据和页面的同步问题，Vue会帮我们处理。实际上，Vue让前端开发者能够专注数据本身的操作，而数据和页面的同步问题，则交由Vue来负责。这种机制正是Vue当初受到开发者青睐的一个重要原因。</p><p>对于同样的输入框需求，Vue的开发思路是：我们需要一个数据，在输入框的代码和h2标签的代码内使用。我们只需要操作数据，然后交给Vue去管理数据和页面的同步就可以了。</p><p>在Vue框架下，如果你想要页面显示一个数据，就要先在代码的data里声明数据；在输入框的代码里，使用v-model来标记输入框和数据的同步；在HTML模板里，使用两个花括号标记，来显示数据，例如{{title}}。对应代码大概是这个样子：</p><pre><code class=\"language-xml\">&lt;div id=\"app\"&gt;\n  &lt;h2&gt;{{title}}&lt;/h2&gt;\n  &lt;input type=\"text\" v-model=\"title\"&gt;\n&lt;/div&gt;\n\n&lt;script src=\"https://unpkg.com/vue@next\"&gt;&lt;/script&gt;\n&lt;script&gt;\nconst App = {\n  data() {\n    return {\n      title: \"\" // 定义一个数据\n    }\n  }\n}\n// 启动应用\nVue.createApp(App).mount('#app')\n&lt;/script&gt;\n</code></pre><p>从这个例子中，你就可以看到Vue在开发思路上和jQuery的不同。而我们要做的，就是逐渐习惯Vue的这种开发模式。</p><h2>清单页面的渲染</h2><p>在前端页面，我们在输入框输入数据，然后输入框下方要有一个列表，显示我们所有输入的值。按照Vue的思考方式，如果我们想实现这个功能，那么我们需要一个数组，然后使用v-for这个语法来循环渲染。</p><p>先看代码：</p><pre><code class=\"language-xml\">&lt;div id=\"app\"&gt;\n  &lt;h2&gt;{{title}}&lt;/h2&gt;\n  &lt;input type=\"text\" v-model=\"title\"&gt;\n  &lt;ul&gt;\n    &lt;li v-for=\"todo in todos\"&gt;{{todo}}&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n\n&lt;script src=\"https://unpkg.com/vue@next\"&gt;&lt;/script&gt;\n&lt;script&gt;\nconst App = {\n  data() {\n    return {\n      title: \"\", // 定义一个数据\n      todos:['吃饭','睡觉']\n    }\n  }\n}\n// 启动应用\nVue.createApp(App).mount('#app')\n&lt;/script&gt;\n</code></pre><p>看上述代码，在data中，我们再定义一个数据todos，输入一个数组。为了方便调试，我们先放两个假数据，如果我们在标签里直接写{{todos}}，就会看到显示的是一个数组，但这个不是我们想要的，我们需要的是显示一个列表。</p><p>在Vue中，只要是渲染列表，我们都是用v-for这个语法，而具体到上述代码对v-for语法的使用，也即：</p><pre><code class=\"language-xml\">&lt;li v-for=\"todo in todos\"&gt;{{todo}}&lt;/li&gt;\n</code></pre><p>上面这行单独抽出来的代码的意思就是：我们循环遍历todos这个数据， 每一条遍历的结果叫todo，然后把这个数据渲染出来，这样页面就能显示一个列表了。</p><p><img src=\"https://static001.geekbang.org/resource/image/b2/28/b2436fe52fec4a2e0b4a13dba97f1728.png?wh=874x436\" alt=\"图片\"></p><h2>处理用户交互</h2><p>在上一步中，我们主要考虑的是：实现前端页面的一个输入框，以及能显示输入值的一个列表的功能。下一步，就是让用户敲回车的时候，能够让列表新增一条。采用Vue的思维，我们需要完成以下这几个步骤：</p><ol>\n<li>监听用户的输入。在监听中，如果判断到用户的输入是回车的时候，那就执行一个函数。</li>\n<li>在执行的这个函数内部把title追加到todos最后面的位置，并且清空title。</li>\n</ol><p>那么Vue如何实现这一功能呢？我们先看实现这一功能后的完整代码：</p><pre><code class=\"language-xml\">&lt;div id=\"app\"&gt;\n  &lt;input type=\"text\" v-model=\"title\" @keydown.enter=\"addTodo\"&gt;\n  &lt;ul&gt;\n    &lt;li v-for=\"todo in todos\"&gt;{{todo}}&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n\n&lt;script src=\"https://unpkg.com/vue@next\"&gt;&lt;/script&gt;\n&lt;script&gt;\nconst App = {\n  data() {\n    return {\n      title: \"\", // 定义一个数据\n      todos:['吃饭','睡觉']\n    }\n  },\n  methods:{\n    addTodo(){\n      this.todos.push(this.title)\n      this.title = \"\"\n    }\n  }\n}\n// 启动应用\nVue.createApp(App).mount('#app')\n&lt;/script&gt;\n</code></pre><p>对照上述代码，我们来看一下在Vue中，监听用户交互的方法。在Vue中，我们使用@来标记用户的交互，@click是点击，@keydown是键盘敲下，所以就像上述代码展示的那样，如果只监听回车键，那么我们就用@keydown.enter=“addTodo” 。</p><p>监听到用户的输入后，对于要执行的函数，我们新增一个methods配置。在函数内部，我们可以在this上直接读到data里的的数据，所以我们不需要考虑怎么找到标签，只需要进行如下这行潇洒的代码，就能让列表自动新增了一条， 这就是数据驱动页面的魅力。</p><pre><code class=\"language-xml\">this.todos.push(this.title)\n</code></pre><h2>额外信息的显示</h2><p>好了，我们现在既实现了一个输入框，以及输入数据后能够新增一条数据的列表的功能，也实现了用户在输入后的交互功能。</p><p>下一步，我们想实现标记清单中某一项是否完成的功能。但这却难住了小圣同学，因为从目前的代码设计上来看，我们的输入只能是字符串格式的内容。而我们想要实现的标记功能，却是把列表中的某一项，用灰色的字体背景和中划线来标记，以此表示这一条内容是已经完成的内容。</p><p>如果我们想实现这个功能，就需要对数据结构进行一下改造，把内容的数据类型，从简单的字符串类型改为对象。</p><p>那么数据结构要怎么改造呢？我们先直接看改造数据结构后的完整代码：</p><pre><code class=\"language-xml\">  &lt;ul&gt;\n    &lt;li v-for=\"todo in todos\"&gt;\n      &lt;input type=\"checkbox\" v-model=\"todo.done\"&gt;\n      &lt;span :class=\"{done:todo.done}\"&gt; {{todo.title}}&lt;/span&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n\n&lt;script&gt;\nconst App = {\n  data() {\n    return {\n      title: \"\", // 定义一个数据\n      todos:[\n        {title:'吃饭',done:false},\n        {title:'睡觉',done:true}\n      ]\n    }\n  },\n  methods:{\n    addTodo(){\n      this.todos.push({\n        title:this.title,\n        done:false\n      })\n      this.title = \"\"\n    }\n  }\n}\n&lt;/script&gt;\n\n\n\n&lt;style&gt;\n  .done{\n    color:gray;\n    text-decoration: line-through;\n  }\n&lt;/style&gt;\n</code></pre><p>结合代码，我给你理理整个的改造思路。首先，对于todos数组，除了title，还要加上一个done字段，来标记列表中的某一项内容是否完成，并且渲染的时候使用todo.title。</p><p>在前面的步骤中，对于列表中每一项，我们是用无序列来表示的。但如果我们想要在列表中实现对某些选项的同时多选，那么就需要用到复选框。对于每条信息，我们都要加一个复选框，所以我们依然使用v-model来绑定这个done字段，从而实现数据里能记录用户操作的状态。</p><p>我们还需要根据done字段来显示某一行的样式。在Vue中，冒号\":\" 开头的属性是用来传递数据的，这里的写法的意思就是根据todo.done来决定是否有done这个class。最后，当加上\".done\"的样式后，下面的左图就是我们想要的效果，而下面的右图则是涉及到\".done\"的相关代码：</p><p><img src=\"https://static001.geekbang.org/resource/image/7f/b7/7f73769e14d67yy4104404b7442809b7.png?wh=1884x910\" alt=\"图片\"></p><h2>进一步优化</h2><p>完成前面的步骤以后，现在看起来一个清单应用最基本的功能模块、用户交互、复选框功能都已经实现了。但是为了进一步提升交互，小圣还想要增加两个功能，第一个功能是：在前端页面显示的列表的最下面，显示一下列表项目中没完成的项目的比例；第二个功能是：新增一个清理的按钮，用来删掉已经标记为完成的列表中的一条或多条数据。</p><p>那么，对于要增加的第一个功能，也即如何实现在前端页面的列表的最下方，显示一下列表项目中没有完成的项目的比例呢？小圣按照学到的知识，写出了下面的代码：</p><pre><code class=\"language-xml\">  &lt;div&gt;\n    {{todos.filter(v=&gt;!v.done).length}} \n    /\n    {{todos.length}}\n  &lt;/div&gt;\n</code></pre><p>把这段代码增加到上一步最后的完整代码中，运行代码，从下图所示的前端页面运行时状态中，我们能看到，其中显示的未完成比例的数据也没问题。</p><p><img src=\"https://static001.geekbang.org/resource/image/d0/97/d02a1fc75d79063f48660f4yy13dd197.png?wh=988x416\" alt=\"图片\"></p><p>不过，从上述代码实现的方式上看，代码看起来很丑且性能不好，而且需要二次计算的数据，这在我们开发的需求中很常见。此外，在模板里面写JS，看起来代码也很乱。Vue针对这种情况，设计了一个功能，也就是<strong>计算属性</strong>。</p><p>我们看一下采用Vue的计算属性实现的，能够支持二次计算的上述功能的实现代码：</p><pre><code class=\"language-xml\">  &lt;div&gt;\n    {{active}}  / {{all}}\n  &lt;/div&gt;\n  \n&lt;script&gt;\n  computed:{\n    active(){\n      return this.todos.filter(v=&gt;!v.done).length\n    },\n    all(){\n      return this.todos.length\n    }\n  }\n&lt;/script&gt;\n</code></pre><p>从上面的代码中能看到，和之前采用往模板里写JS的办法相比，我们新增了一个属性computed。computed属性的配置，也即active和all，都是函数。这两个函数返回的计算后的值，在模板里可以直接当做数据来用，这样把JavaScript的计算逻辑依然放在了JavaScript里，避免了过于臃肿的模板。</p><p>而且computed计算属性还内置了缓存功能，如果依赖数据没变化，多次使用计算属性会直接返回缓存结果，同我们直接写在模板里相比，性能也有了提升。</p><p>计算属性不仅可以用来返回数据，有些时候我们也需要修改计算属性，比如我让小圣新增一个全选的复选框，要求如下：</p><ol>\n<li>全选框在勾选与取消勾选两个状态之间的切换，会把所有清单内的数据都同步勾选。</li>\n<li>清单内的项目如果全部选中或者取消，也会修改全选框的状态。</li>\n</ol><p>对于新增全选框的功能，需要满足上面的两个要求，所以全选框这个计算属性就有了修改的需求。这时候computed的配置就不能是函数了，要变成一个对象，分别实现get和set函数，get就是之前的返回值，set就是修改计算属性要执行的函数。</p><p>我们来看一下computed修改后的代码：</p><pre><code class=\"language-xml\">&lt;div&gt;\n  全选&lt;input type=\"checkbox\" v-model=\"allDone\"&gt;\n  &lt;span&gt; {{active}}  / {{all}} &lt;/span&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\ncomputed:{\n  active(){\n    return this.todos.filter(v=&gt;!v.done).length\n  },\n  all(){\n    return this.todos.length\n  },\n  allDone: {\n      get: function () {\n        return this.active === 0\n      },\n      set: function (val) {\n        this.todos.forEach(todo=&gt;{\n          todo.done = val\n        });\n      }\n  }\n}\n&lt;/script&gt;\n</code></pre><p>和没有全选框时的computed属性的配置代码相比，上面的代码新增了一个allDone的计算属性，页面中直接使用checbox绑定。在allDone的get函数里，对于allDone会返回什么值，我们只需要判断计算属性active是不是0就可以。</p><p>而set函数做到的就是，我们在修改allDone，也就是前端页面切换全选框的时候，直接遍历todos，把里面的done字段直接和allDone同步即可。</p><p>实现新增一个全选的复选框后的效果是什么样呢？我们一起来看一下：</p><p><img src=\"https://static001.geekbang.org/resource/image/27/cf/273d37ca7e59a40ac0d5a537203f41cf.gif?wh=542x325\" alt=\"图片\"></p><h2>条件渲染</h2><p>在上面一部分，我们增加了在前端页面的底部显示未完成比例，和增加全选框这两个功能。除此之外，我们还需要新增一个“清理”的按钮，点击之后把已完成的数据删除，功能需求很简单，但是有一个额外的要求，就是列表中没有标记为完成的某一项列表数据时，这个按钮是不显示的。</p><p>这种在特定条件下才显示，或者隐藏的需求也很常见，我们称之为条件渲染。在Vue中，我们使用v-if 来实现条件渲染。</p><p>老规矩，我们还是先看代码：</p><pre><code class=\"language-xml\">&lt;button v-if=\"active&lt;all\" @click=\"clear\"&gt;清理&lt;/button&gt;\n&lt;script&gt;\n  methods:{\n    clear(){\n      this.todos = this.todos.filter(v=&gt;!v.done)\n    }\n  }\n&lt;/script&gt;\n</code></pre><p>通过上述代码，我们实现了增加一个清理按钮的功能。当active小于all的时候，我们显示清理按钮，也就是说，v-if后面的值是true的时候，显示清理按钮，false的时候不显示。“@”符号的作用，我们在前面讲到监听用户交互时，已经拿@keydown为例说明过了，这里代码中的@click的作用是绑定点击事件。</p><p>我们还可以用v-else配合v-if，当todos是空的时候，显示一条“暂无数据”的信息，具体的实现代码如下：</p><pre><code class=\"language-xml\">  &lt;ul v-if=\"todos.length\"&gt;\n    &lt;li v-for=\"todo in todos\"&gt;\n      &lt;input type=\"checkbox\" v-model=\"todo.done\"&gt;\n      &lt;span :class=\"{done:todo.done}\"&gt; {{todo.title}}&lt;/span&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n  &lt;div v-else&gt;\n    暂无数据\n  &lt;/div&gt;\n</code></pre><p>当我们实现了清理按钮的功能，并且也实现了列表为空时，能够显示“暂无数据”的信息后，我们看下清单应用的最终效果。</p><p><img src=\"https://static001.geekbang.org/resource/image/3c/72/3c8ddf81d6b478069d6b1dec7b605572.gif?wh=542x325\" alt=\"图片\"></p><p>这个需求并没有考虑美观性，小圣没写太多CSS，主要专注在JS的交互逻辑上。小圣这个需求做完，晚上下班的时候跟我分享了一下学习Vue的心得，你也可以在评论区分享一下你对Vue的开发的心得，我们一起交流。</p><h2>总结</h2><p>我们来总结一下小圣今天都学到了什么吧。入职第一天，小圣首先扭转了之前使用jQuery时的开发思路，并且弄明白了jQuery和Vue开发思路的区别。从寻找DOM到数据驱动，这是前端开发的一次巨大的变革，也是小圣同学的第一个挑战。</p><p>其次就是对Vue的入门使用，我带你回顾一下今天做的这个清单应用：对于这个应用，首先我们要有输入框能输入文本，并且在输入框下方循环显示清单，我们用到了v-model，v-for这些功能。这些v-开头的属性都是Vue自带写法，我们通过{{}}包裹的形式显示数据。</p><p>然后我们想在用户输入完成后敲击回车新增一条数据，这就用到@开头的几个属性，@keyup和@click都是绑定对应的交互事件。最后，通过computed，我们能对页面数据的显示进行优化。我们所需要关心的，就是数据的变化，这种思维方式会贯穿小圣的整个打怪升级之路。</p><h2>思考题</h2><p>下班前我给小圣布置一个作业，现在所有的操作状态一刷新就都没了，这个问题怎么解决呢？</p><p>欢迎在评论区一起讨论，也欢迎你把这篇文章分享给其他人，我们下一讲见。</p>","neighbors":{"left":{"article_title":"01 | 宏观视角：从前端框架发展史聊聊为什么要学Vue 3？","id":427660},"right":{"article_title":"03 | 新特性：初探Vue 3新特性","id":428904}},"comments":[{"had_liked":false,"id":317083,"user_name":"ch3cknull","can_delete":false,"product_type":"c1","uid":2815354,"ip_address":"","ucode":"27010F7022066B","user_header":"https://static001.geekbang.org/account/avatar/00/2a/f5/7a/7351b235.jpg","comment_is_top":false,"comment_ctime":1634661570,"is_pvip":true,"replies":[{"id":"114858","content":"回答正确！","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634701586,"ip_address":"","comment_id":317083,"utype":1}],"discussion_count":7,"race_medal":0,"score":"362411914434","product_id":100094401,"comment_content":"交作业：<br>仅前端缓存：在unmount组件时，将 组件的 data 存到 localStorage ，mount组件时取出。<br><br>如果后端有接口的话，可以在unmount时，同步到后端，挂载时请求接口<br><br>考虑用户体验，如果离线在线都可修改，可以考虑给todo的每一项加个最后修改时间，挂载时把本地缓存数据和接口数据合并，当冲突时，只留下最新数据","like_count":85,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528646,"discussion_content":"回答正确！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634701586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2828519,"avatar":"","nickname":"Geek_c2c81c","note":"","ucode":"6D3E4596458641","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409309,"discussion_content":"不应该是unmount时,因为如果用户在操作后,直接关闭浏览器(或者意外奔溃),那么下次加载进来的数据就无法保证是最新的数据\n应该直接监听数据的变化,一有变化就进行存储操作","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1635415125,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1165817,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/f9/39492855.jpg","nickname":"阿阳","note":"","ucode":"20A35FB86B1C5C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409148,"discussion_content":"给每一项加上最后修改时间，进行数据合并，这个太赞了！","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1635384949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1196531,"avatar":"https://static001.geekbang.org/account/avatar/00/12/41/f3/8bca4aba.jpg","nickname":"普通熊猫 ଘ(੭ˊ꒳​ˋ)੭✧","note":"","ucode":"7FEF9C72B4801B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548999,"discussion_content":"根据我的测试，如果用户刷新或关闭了页面，vue3的unmounted是执行不到的。\n\n一个可以参考的办法是在mounted事件中注册window.unloaded事件","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1643508141,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2614606,"avatar":"https://static001.geekbang.org/account/avatar/00/27/e5/4e/45a43aa6.jpg","nickname":"很香很香的柠檬","note":"","ucode":"E89F2900EB8595","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573999,"discussion_content":"“mount组件时取出”为什么不在created取出呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653790979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2815648,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/f6/a0/a0b75be8.jpg","nickname":"执念","note":"","ucode":"67363507EA3D5A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406282,"discussion_content":"课代表来了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634735310,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2818650,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/02/5a/bc2a3a96.jpg","nickname":"密斯特路飞","note":"","ucode":"CD5467CCFBEED5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406143,"discussion_content":"棒\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634710631,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317124,"user_name":"www","can_delete":false,"product_type":"c1","uid":1208433,"ip_address":"","ucode":"A968AD6B1AB893","user_header":"https://static001.geekbang.org/account/avatar/00/12/70/71/4ca18f1e.jpg","comment_is_top":false,"comment_ctime":1634692786,"is_pvip":false,"replies":[{"id":"114850","content":"哈哈 感谢感谢  computed的妙用","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634701465,"ip_address":"","comment_id":317124,"utype":1}],"discussion_count":6,"race_medal":0,"score":"186318286514","product_id":100094401,"comment_content":"全选按钮使用 set 和 get 进行处理，真是妙啊。<br>这一个方法就值了🎫了","like_count":44,"discussions":[{"author":{"id":1782286,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/32/0e/5024c2dd.jpg","nickname":"星空","note":"","ucode":"E4E2090ECBB70F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547926,"discussion_content":"这个方法确实很妙，以前没想过这样弄\n","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1642939764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2818299,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/00/fb/85b07045.jpg","nickname":"肥柴","note":"","ucode":"5A454CA474C971","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579432,"discussion_content":"学到了!!!!!   刚开学vue  没想到还可以这样写","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1657443174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528669,"discussion_content":"哈哈 感谢感谢  computed的妙用","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1634701465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1006651,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5c/3b/2ce8211c.jpg","nickname":"carrot","note":"","ucode":"BCEC08B238361E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544632,"discussion_content":"get没用吧？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641611197,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2822362,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/10/da/4ca8e7f9.jpg","nickname":"ValarMorghulis","note":"","ucode":"EBE10B81DB9BD2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411368,"discussion_content":"每天发现一个小技巧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635907871,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1985141,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/4a/75/51435f4b.jpg","nickname":"@","note":"","ucode":"B308157E3FA393","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406197,"discussion_content":"这个方式确实巧妙","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634719299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317152,"user_name":"ll","can_delete":false,"product_type":"c1","uid":1296458,"ip_address":"","ucode":"57C5DAC5B51036","user_header":"https://static001.geekbang.org/account/avatar/00/13/c8/4a/3a322856.jpg","comment_is_top":false,"comment_ctime":1634696046,"is_pvip":true,"replies":[{"id":"114972","content":"赞呀，方案比我想的还多   localstorage和接口是最常见的","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634745804,"ip_address":"","comment_id":317152,"utype":1}],"discussion_count":5,"race_medal":0,"score":"147663584110","product_id":100094401,"comment_content":"思考题：这个涉及到页面状态保存，方法有很多，大概两类：<br>1. 本地储存：<br>a. localstorage<br>b. workers<br>c. router，也可以存到 route 中<br>d. 存到本地文件<br>2. 服务端：这个就是将状态保存到服务器，通过 axios 等方式和服务器交换数据等","like_count":35,"discussions":[{"author":{"id":1822733,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/d0/0d/752ff95f.jpg","nickname":"justorez","note":"","ucode":"071D8394E62D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412462,"discussion_content":"JS无法操作本地文件","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1636175275,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2338500,"avatar":"https://static001.geekbang.org/account/avatar/00/23/ae/c4/eafb9ba1.jpg","nickname":"长寿","note":"","ucode":"5FBDF9E65D2F3F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1822733,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/d0/0d/752ff95f.jpg","nickname":"justorez","note":"","ucode":"071D8394E62D90","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581832,"discussion_content":"单独写一个工具函数用node操作本地文件是否可行？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659010665,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":412462,"ip_address":"陕西"},"score":581832,"extra":""}]},{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528684,"discussion_content":"赞呀，方案比我想的还多   localstorage和接口是最常见的","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1634745804,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1046302,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/3XbCueYYVWTiclv8T5tFpwiblOxLphvSZxL4ujMdqVMibZnOiaFK2C5nKRGv407iaAsrI0CDICYVQJtiaITzkjfjbvrQ/132","nickname":"有铭","note":"","ucode":"2C7CB36CA5C04C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532645,"discussion_content":"workers要如何保存数据啊？","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1637660374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1573211,"avatar":"https://static001.geekbang.org/account/avatar/00/18/01/5b/f6f16b69.jpg","nickname":"太空行走1999","note":"","ucode":"2E41D29AAB0DB3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408075,"discussion_content":"indexDB","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635172822,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317276,"user_name":"南山","can_delete":false,"product_type":"c1","uid":1239362,"ip_address":"","ucode":"1B5EF54A2A56F8","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/42/1de79e71.jpg","comment_is_top":false,"comment_ctime":1634730236,"is_pvip":false,"replies":[{"id":"114957","content":"赞赞赞，还考虑了保存失败的异常","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634745456,"ip_address":"","comment_id":317276,"utype":1}],"discussion_count":1,"race_medal":0,"score":"48879370492","product_id":100094401,"comment_content":"打卡<br>1. 保存时机，在unmount的生命周期进行保存<br>2. 使用浏览器客户端存储，如sessionStorage，LocalStorage等api保存，保存时添加时间戳用于比对新老数据，使用服务端保存接口，将数据持久化到数据库，考虑接口请求失败时重试机制和友好提示<br>3. 客户端存储在在data定义时直接从localStorage等获取，服务端接口在created周期请求获取数据并给data赋值<br>4.考虑保存失败的情况，可以监听数据变化做自动保存","like_count":12,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528743,"discussion_content":"赞赞赞，还考虑了保存失败的异常","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634745456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318052,"user_name":"老杨头","can_delete":false,"product_type":"c1","uid":1923233,"ip_address":"","ucode":"292179CE58F93C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/58/a1/1b387762.jpg","comment_is_top":false,"comment_ctime":1635133046,"is_pvip":false,"replies":[{"id":"116556","content":"很赞的总结呀 cool","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636638950,"ip_address":"","comment_id":318052,"utype":1}],"discussion_count":3,"race_medal":0,"score":"40289838710","product_id":100094401,"comment_content":"交作业 ：<br>通过watch监听数据变更并存储到localStorage中，然后在mounted时加载数据<br><br>watch: {<br>            todos: {&#47;&#47;监听数据变更<br>                handler(newVal, oldVal) {<br>                    console.info(&quot;todos-&gt;change&quot;)<br>                    &#47;&#47;TODO::原来是在unmount时才保存的，但unmount代码没有执行，所以换成wathc了，不知道为什么unmount没有执行<br>                    localStorage.setItem(&quot;todos&quot;, JSON.stringify(this.todos))<br>                },<br>                deep: true<br>            }<br>        },<br>        mounted() {<br>            &#47;&#47;加载数据<br>            var todos = localStorage.getItem(&quot;todos&quot;);<br>            if(todos) {<br>                this.todos = JSON.parse(todos);<br>            }<br>        },<br>        unmounted() {<br>            &#47;&#47;保存数据<br>            localStorage.setItem(&quot;todos&quot;, JSON.stringify(this.todos))<br>        },<br><br>原来是在unmount时才保存的，但unmount代码没有执行，所以换成wathc了，不知道为什么unmount没有执行","like_count":9,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529080,"discussion_content":"很赞的总结呀 cool","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638950,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2409200,"avatar":"https://static001.geekbang.org/account/avatar/00/24/c2/f0/537892d8.jpg","nickname":"Carson","note":"","ucode":"5A3170713A1E25","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533001,"discussion_content":"vue里面没有unmounted这个生命周期，vue2是beforeDestory, vue3是onUnmounted","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1637751068,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2816283,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/f9/1b/c466dfbd.jpg","nickname":"꯭ 恩꯭英꯭的꯭幸꯭福꯭生꯭活꯭","note":"","ucode":"B33998CDF7DA9F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547043,"discussion_content":"挺好，我来取经","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642502773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318683,"user_name":"mixiuu","can_delete":false,"product_type":"c1","uid":2827174,"ip_address":"","ucode":"E63D104B39604A","user_header":"https://static001.geekbang.org/account/avatar/00/2b/23/a6/88858c72.jpg","comment_is_top":false,"comment_ctime":1635390655,"is_pvip":false,"replies":[{"id":"115534","content":"妙啊，感谢提出","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1635402887,"ip_address":"","comment_id":318683,"utype":1}],"discussion_count":2,"race_medal":0,"score":"35995129023","product_id":100094401,"comment_content":"仅刷新页面，并不会出发unmounted生命周期，在仅刷新页面的场景下可以在created生命周期里监听beforeunload事件，如果有todos，存入localstorage中","like_count":9,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529344,"discussion_content":"妙啊，感谢提出","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635402887,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1361002,"avatar":"https://static001.geekbang.org/account/avatar/00/14/c4/6a/e45bbb6b.jpg","nickname":"Smile","note":"","ucode":"674C2361FFB807","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409279,"discussion_content":"我说呢我的代码没生效，原来如此啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635408090,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317672,"user_name":"杨村长","can_delete":false,"product_type":"c1","uid":2816779,"ip_address":"","ucode":"EB65300EB6A50F","user_header":"https://static001.geekbang.org/account/avatar/00/2a/fb/0b/6362a743.jpg","comment_is_top":false,"comment_ctime":1634887305,"is_pvip":false,"replies":[{"id":"115193","content":"100分100分","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1635078007,"ip_address":"","comment_id":317672,"utype":1}],"discussion_count":1,"race_medal":0,"score":"35994625673","product_id":100094401,"comment_content":"交作业：将数据存入localStorage，刷新时再取出来展现<br>1.保存：watch一下todoList，变化存入<br>2.读取：data设置为localStorage中读出的数据","like_count":9,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528923,"discussion_content":"100分100分","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635078007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317652,"user_name":"桃子-夏勇杰","can_delete":false,"product_type":"c1","uid":1158436,"ip_address":"","ucode":"5D5F38AABA980F","user_header":"https://static001.geekbang.org/account/avatar/00/11/ad/24/c6b763b4.jpg","comment_is_top":false,"comment_ctime":1634881205,"is_pvip":true,"replies":[{"id":"115117","content":"其实完整的应用，all还会在别的地方用到 就没有合并","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634889220,"ip_address":"","comment_id":317652,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27404684981","product_id":100094401,"comment_content":" {{active}}  &#47; {{all}} 这里为什么要做成2个属性而不是直接做个1个属性呢？","like_count":6,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528916,"discussion_content":"其实完整的应用，all还会在别的地方用到 就没有合并","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634889220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317135,"user_name":"付帅帅","can_delete":false,"product_type":"c1","uid":2152253,"ip_address":"","ucode":"6CBB0E75AAC742","user_header":"https://static001.geekbang.org/account/avatar/00/20/d7/3d/4b44d2ff.jpg","comment_is_top":false,"comment_ctime":1634693691,"is_pvip":false,"replies":[{"id":"114846","content":"赞，localStorage对我们这个Demo就够用了","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634701366,"ip_address":"","comment_id":317135,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27404497467","product_id":100094401,"comment_content":"目前能想到的持久化方案： 一个是借助后端让数据入库，还有就是 localStorage 这种浏览器本地持久化","like_count":6,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528675,"discussion_content":"赞，localStorage对我们这个Demo就够用了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634701366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317180,"user_name":"cwang","can_delete":false,"product_type":"c1","uid":1465246,"ip_address":"","ucode":"04CB9F4CA2CEAD","user_header":"https://static001.geekbang.org/account/avatar/00/16/5b/9e/a8dec12d.jpg","comment_is_top":false,"comment_ctime":1634701048,"is_pvip":false,"replies":[{"id":"114968","content":"是这样的，包含了常见的交互和数据逻辑  ","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634745737,"ip_address":"","comment_id":317180,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23109537528","product_id":100094401,"comment_content":"学习任何框架，都可以以这个To do List为起始点。","like_count":5,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528702,"discussion_content":"是这样的，包含了常见的交互和数据逻辑  ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634745737,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318662,"user_name":"阿阳","can_delete":false,"product_type":"c1","uid":1165817,"ip_address":"","ucode":"20A35FB86B1C5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/c9/f9/39492855.jpg","comment_is_top":false,"comment_ctime":1635384863,"is_pvip":false,"replies":[{"id":"115536","content":"哈哈 其实也不是我实现的优雅，是Vue的api设计的比较好","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1635402912,"ip_address":"","comment_id":318662,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18815254047","product_id":100094401,"comment_content":"这一节看了好几遍，尤其是对于allDone这个计算属性，和v-model的结合使用，真是妙极了。以前走了不少弯路，没想到这个全选功能，实现的如此优雅。继续坚持学习。","like_count":4,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529333,"discussion_content":"哈哈 其实也不是我实现的优雅，是Vue的api设计的比较好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635402912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317107,"user_name":"郭纯","can_delete":false,"product_type":"c1","uid":1314521,"ip_address":"","ucode":"2613860B4642C4","user_header":"https://static001.geekbang.org/account/avatar/00/14/0e/d9/e61ce097.jpg","comment_is_top":false,"comment_ctime":1634690084,"is_pvip":false,"replies":[{"id":"114854","content":"回答正确！","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634701526,"ip_address":"","comment_id":317107,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18814559268","product_id":100094401,"comment_content":"两种方式 客户端持久化 或者 服务端持久化 .<br><br>客户端：localStorage  sessionStorage web sql cookie indexedDB<br>服务端：提供接口 客户端提交数据请求. ","like_count":4,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528658,"discussion_content":"回答正确！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634701526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321581,"user_name":"nora","can_delete":false,"product_type":"c1","uid":1712044,"ip_address":"","ucode":"637543490D21A8","user_header":"https://static001.geekbang.org/account/avatar/00/1a/1f/ac/1f0c4035.jpg","comment_is_top":false,"comment_ctime":1636957749,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14521859637","product_id":100094401,"comment_content":"这个全选用computed的方式真的是妙呀","like_count":3},{"had_liked":false,"id":317406,"user_name":"肆水流歌","can_delete":false,"product_type":"c1","uid":1489822,"ip_address":"","ucode":"2171C4DED76529","user_header":"https://static001.geekbang.org/account/avatar/00/16/bb/9e/eeac9445.jpg","comment_is_top":false,"comment_ctime":1634787325,"is_pvip":false,"replies":[{"id":"115023","content":"哈哈 其实localStorage就已经足够了","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634800383,"ip_address":"","comment_id":317406,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14519689213","product_id":100094401,"comment_content":"看了大家的留言，我发现我只会localstorage，是我太菜了","like_count":3,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528803,"discussion_content":"哈哈 其实localStorage就已经足够了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634800383,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317205,"user_name":"3.141516","can_delete":false,"product_type":"c1","uid":1013309,"ip_address":"","ucode":"34AF71B02692F3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/76/3d/8120438b.jpg","comment_is_top":false,"comment_ctime":1634708883,"is_pvip":true,"replies":[{"id":"114965","content":"小程序其实借鉴了Vue和React的混合风格，模板的for,if像vue，代码里的setData像React","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634745667,"ip_address":"","comment_id":317205,"utype":1}],"discussion_count":1,"race_medal":1,"score":"14519610771","product_id":100094401,"comment_content":"之前学过小程序，发现微信小程序应该就是借鉴 vue 的风格，数据驱动、for、if 等等","like_count":3,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528714,"discussion_content":"小程序其实借鉴了Vue和React的混合风格，模板的for,if像vue，代码里的setData像React","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634745667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317132,"user_name":"Geek_be2349","can_delete":false,"product_type":"c1","uid":2815240,"ip_address":"","ucode":"28228D31695CBA","user_header":"","comment_is_top":false,"comment_ctime":1634693522,"is_pvip":false,"replies":[{"id":"114847","content":"回答正确","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634701373,"ip_address":"","comment_id":317132,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14519595410","product_id":100094401,"comment_content":"使用 localStorage 保存数据","like_count":3,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528674,"discussion_content":"回答正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634701373,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321293,"user_name":"洪布斯","can_delete":false,"product_type":"c1","uid":2108420,"ip_address":"","ucode":"DC9C3FF58C3499","user_header":"https://static001.geekbang.org/account/avatar/00/20/2c/04/62765a5a.jpg","comment_is_top":false,"comment_ctime":1636763387,"is_pvip":false,"replies":[{"id":"118040","content":"有道理","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1638882471,"ip_address":"","comment_id":321293,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10226697979","product_id":100094401,"comment_content":"在给输入框绑定事件 `addTodo` 时，把 `keydown` =&gt; `keyup` 是不是更合适，`keydown` 在按键按下时，会一直触发事件。或者做一个非空判断也可～","like_count":2,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536857,"discussion_content":"有道理","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638882471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319657,"user_name":"Kevin","can_delete":false,"product_type":"c1","uid":1129186,"ip_address":"","ucode":"8FE9CE88EA0C57","user_header":"https://static001.geekbang.org/account/avatar/00/11/3a/e2/c48bd3b7.jpg","comment_is_top":false,"comment_ctime":1635903642,"is_pvip":false,"replies":[{"id":"115878","content":"哈哈 考虑的太完善了","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1635930551,"ip_address":"","comment_id":319657,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10225838234","product_id":100094401,"comment_content":"一个移动端的人来学习了下，从移动端的视觉来回答一下作业吧：<br>有两个方式来保存数据：<br>1、本地<br>2、远端<br><br>1、本地的方案，应该是一些本地cache的api调用；<br>2、远端：可以是服务端、也可使本地有rpc调用的服务；<br><br>其他考虑：<br>如何写的问题，也就是内存值和备份值的同步问题，可以考虑类似三级缓存的故事：<br>a）内存中修改后触发 本地cache<br>b）本地cache 触发remote的修改<br>c）需要对任务队列进行管理，避免数据同步失败；<br>","like_count":2,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529709,"discussion_content":"哈哈 考虑的太完善了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635930551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318145,"user_name":"速冻鱼","can_delete":false,"product_type":"c1","uid":2752085,"ip_address":"","ucode":"293DD4B76D2421","user_header":"https://static001.geekbang.org/account/avatar/00/29/fe/55/de39267a.jpg","comment_is_top":false,"comment_ctime":1635163249,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10225097841","product_id":100094401,"comment_content":"以前一直觉得这个全选，很难搞，大圣老师讲了之后，原来才知道computed可以这样用","like_count":2},{"had_liked":false,"id":317473,"user_name":"鱼腩","can_delete":false,"product_type":"c1","uid":2279433,"ip_address":"","ucode":"54C97E73A75854","user_header":"https://static001.geekbang.org/account/avatar/00/22/c8/09/b34b1473.jpg","comment_is_top":false,"comment_ctime":1634807445,"is_pvip":true,"replies":[{"id":"115123","content":"复杂项目和长期维护的项目，类型系统还是必备的","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634889480,"ip_address":"","comment_id":317473,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10224742037","product_id":100094401,"comment_content":"尝试着用组合式API，在&lt;script setup&gt;  声明 <br>   state=reactive({对象}) ;<br>   const a,b,c =  toRefs(  );  <br>发现Script代码里面，通过 toRefs返回的，必须用 a.value来赋值，才可以保留响应式效果；<br>而 state.a 则不需要，底层应该是由于reactive内部对get,set进行处理；而toRefs返回的是ref类型，还有computed返回的也是ref。。。。难怪说vue3+ts+volar真香，类型检查真心不能缺","like_count":2,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528830,"discussion_content":"复杂项目和长期维护的项目，类型系统还是必备的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634889480,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317171,"user_name":"吴晨辉","can_delete":false,"product_type":"c1","uid":2312639,"ip_address":"","ucode":"757E98E93AF6A3","user_header":"https://static001.geekbang.org/account/avatar/00/23/49/bf/4936c58b.jpg","comment_is_top":false,"comment_ctime":1634699431,"is_pvip":true,"replies":[{"id":"114969","content":"赞赞赞，还考虑了异常情况","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634745750,"ip_address":"","comment_id":317171,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10224634023","product_id":100094401,"comment_content":"课后作业：<br>本人背景：纯后端来学前端<br>思路：将数据缓存在浏览器页面刷新后不清除的地方（可以是后端，也可以是浏览器本地储存）<br>如果是后端，那么需要绑定一个后端接口，刷新页面重新获取数据<br>如果是浏览器本地储存，我觉得vue本身可以去做这件事，只需要给我们开放一个参数是否缓存本地<br>最好的方案是两个都做，这样后端卡住前端还能流畅显示","like_count":2,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528697,"discussion_content":"赞赞赞，还考虑了异常情况","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634745750,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317130,"user_name":"就不吃苹果","can_delete":false,"product_type":"c1","uid":2817281,"ip_address":"","ucode":"D416C9E7704906","user_header":"https://static001.geekbang.org/account/avatar/00/2a/fd/01/8d4a247c.jpg","comment_is_top":false,"comment_ctime":1634693430,"is_pvip":false,"replies":[{"id":"114848","content":"回答正确","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634701379,"ip_address":"","comment_id":317130,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10224628022","product_id":100094401,"comment_content":"将数据存储到storage里面，在created的时候从浏览器本地获取数据吗？","like_count":2,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528673,"discussion_content":"回答正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634701379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333918,"user_name":"柒月","can_delete":false,"product_type":"c1","uid":2816405,"ip_address":"","ucode":"235490441D035D","user_header":"https://static001.geekbang.org/account/avatar/00/2a/f9/95/21cb848b.jpg","comment_is_top":false,"comment_ctime":1644582967,"is_pvip":false,"replies":[{"id":"122069","content":"这里其实是computed的语法  看这里<br>https:&#47;&#47;staging-cn.vuejs.org&#47;guide&#47;essentials&#47;computed.html#writable-computed","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1644800333,"ip_address":"","comment_id":333918,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5939550263","product_id":100094401,"comment_content":"老师，为什么全选（数据变化），可以触发 set(), 不懂，这里的get() set() ，和 proxy 有关吗？","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550894,"discussion_content":"这里其实是computed的语法  看这里\nhttps://staging-cn.vuejs.org/guide/essentials/computed.html#writable-computed","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644800333,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320527,"user_name":"嘿吼","can_delete":false,"product_type":"c1","uid":2257919,"ip_address":"","ucode":"7E4C69C4CE99D0","user_header":"https://static001.geekbang.org/account/avatar/00/22/73/ff/3e30f1c6.jpg","comment_is_top":false,"comment_ctime":1636366457,"is_pvip":false,"replies":[{"id":"116516","content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636638048,"ip_address":"","comment_id":320527,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5931333753","product_id":100094401,"comment_content":"&quot;但是有一个额外的要求，就是列表中没有标记为完成的某一项列表数据时，这个按钮是不显示的。&quot;<br><br>大圣老师，建议这句话改一下，结合代码，可以知道是什么意思，单看这句话还是又点绕。<br><br>：但是有一个额外的要求，就是列表中没有可以标记为完成的数据时，这个按钮是不显示的。","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530031,"discussion_content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320264,"user_name":"你好，阳光","can_delete":false,"product_type":"c1","uid":2145095,"ip_address":"","ucode":"1A2F487C57F7D9","user_header":"https://static001.geekbang.org/account/avatar/00/20/bb/47/b60ae3eb.jpg","comment_is_top":false,"comment_ctime":1636183658,"is_pvip":false,"replies":[{"id":"116533","content":"赞赞赞","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636638512,"ip_address":"","comment_id":320264,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5931150954","product_id":100094401,"comment_content":"我测试发现在unmount时存data并不一定能把最新的状态保存下来，在update的时候才可以","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529933,"discussion_content":"赞赞赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638512,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317995,"user_name":"Geek_140133","can_delete":false,"product_type":"c1","uid":2817803,"ip_address":"","ucode":"AC6EF2B2BB3E57","user_header":"","comment_is_top":false,"comment_ctime":1635091853,"is_pvip":false,"replies":[{"id":"115323","content":"感谢夸奖 赞","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1635156045,"ip_address":"","comment_id":317995,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5930059149","product_id":100094401,"comment_content":"文档+声音的方式真是赞，比视频自由、轻松、方便。<br>作业：localStorage","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529062,"discussion_content":"感谢夸奖 赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635156045,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317439,"user_name":"YourSweetHeart","can_delete":false,"product_type":"c1","uid":1242122,"ip_address":"","ucode":"38843F447B03F2","user_header":"https://static001.geekbang.org/account/avatar/00/12/f4/0a/cf728857.jpg","comment_is_top":false,"comment_ctime":1634798546,"is_pvip":false,"replies":[{"id":"115134","content":"大家都是crud boy 哈哈  感谢感谢","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634889816,"ip_address":"","comment_id":317439,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5929765842","product_id":100094401,"comment_content":"大圣果然讲的有意思的多，<br>让我一个crud boy拾起了vue的兴趣","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528814,"discussion_content":"大家都是crud boy 哈哈  感谢感谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634889816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317401,"user_name":"。。。","can_delete":false,"product_type":"c1","uid":1035567,"ip_address":"","ucode":"6882BABE9C3D6B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/2f/f4adcb41.jpg","comment_is_top":false,"comment_ctime":1634786151,"is_pvip":false,"replies":[{"id":"115025","content":"使用vscode直接写代码就可以，一开始不需要安装别的，参考这个文章可以一步步的来，里面有一行script是安装vue的","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634800500,"ip_address":"","comment_id":317401,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5929753447","product_id":100094401,"comment_content":"我是新手，应该怎么代码练习下这个小app。<br>ps:vue 要在vs code中安装引入下吧，还不会","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528800,"discussion_content":"使用vscode直接写代码就可以，一开始不需要安装别的，参考这个文章可以一步步的来，里面有一行script是安装vue的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634800500,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317388,"user_name":"MRSHIMMER","can_delete":false,"product_type":"c1","uid":1683086,"ip_address":"","ucode":"53E9EF9A8E8EC5","user_header":"https://static001.geekbang.org/account/avatar/00/19/ae/8e/622b004d.jpg","comment_is_top":false,"comment_ctime":1634782778,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5929750074","product_id":100094401,"comment_content":"点击清理按钮清理数据后，再添加数据还是会显示“暂无数据”，应该加一下显示的判断条件","like_count":1},{"had_liked":false,"id":317343,"user_name":"giteebravo","can_delete":false,"product_type":"c1","uid":1005290,"ip_address":"","ucode":"C087E8D6B5A98B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg","comment_is_top":false,"comment_ctime":1634745707,"is_pvip":false,"replies":[{"id":"115032","content":"你好，可以先看下代码，需要先通过一个script标签引入Vue","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634800612,"ip_address":"","comment_id":317343,"utype":1}],"discussion_count":2,"race_medal":1,"score":"5929713003","product_id":100094401,"comment_content":"<br>老师晚上好！<br>`Vue.createApp(App).mount(&#39;#app&#39;)`<br>这一句总是会提示一个错误：<br>`Uncaught TypeError: Vue.createApp is not a function`","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528779,"discussion_content":"你好，可以先看下代码，需要先通过一个script标签引入Vue","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634800612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005290,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg","nickname":"giteebravo","note":"","ucode":"C087E8D6B5A98B","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406432,"discussion_content":"\n问题已解决。\n这是 Vue 3 的写法，而我用的是 Vue 2.6\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634774522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317277,"user_name":"By:小新","can_delete":false,"product_type":"c1","uid":1440705,"ip_address":"","ucode":"69EE853262B203","user_header":"https://static001.geekbang.org/account/avatar/00/15/fb/c1/ecb11a80.jpg","comment_is_top":false,"comment_ctime":1634731234,"is_pvip":false,"replies":[{"id":"114956","content":"赞赞赞","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634745443,"ip_address":"","comment_id":317277,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5929698530","product_id":100094401,"comment_content":"首先采用vuex进行app运行时数据状态保存<br>然后再卸载组件之前拦截，将vuex的状态持久化到<br>localStorage","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528744,"discussion_content":"赞赞赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634745443,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317184,"user_name":"Alias","can_delete":false,"product_type":"c1","uid":1981220,"ip_address":"","ucode":"E62F6462B5CF35","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq6UjL0SBicZgyKzsAnCf08l0MibyqxsCecSVXa3tKvSDeDG6XRe1ngziaChRiaRcA0kzOlIwfcnNZvwg/132","comment_is_top":false,"comment_ctime":1634701192,"is_pvip":false,"replies":[{"id":"114967","content":"赞","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634745717,"ip_address":"","comment_id":317184,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5929668488","product_id":100094401,"comment_content":"“jquery -&gt; vue&#47;react: 不要再思考页面的元素怎么操作，而是要思考数据是怎么变化的。这就意味着，我们只需要操作数据，至于数据和页面的同步问题，框架会帮我们处理”","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528706,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634745717,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317127,"user_name":"cx","can_delete":false,"product_type":"c1","uid":2097680,"ip_address":"","ucode":"27DC2C79233BBB","user_header":"https://static001.geekbang.org/account/avatar/00/20/02/10/e81e6791.jpg","comment_is_top":false,"comment_ctime":1634693169,"is_pvip":false,"replies":[{"id":"114849","content":"你好，那么缓存到哪里呢","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634701392,"ip_address":"","comment_id":317127,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5929660465","product_id":100094401,"comment_content":"监听todos的数据，然后通过缓存的方式解决","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528670,"discussion_content":"你好，那么缓存到哪里呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634701392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317123,"user_name":"一纸信笺","can_delete":false,"product_type":"c1","uid":1682603,"ip_address":"","ucode":"25DD6F54383FB1","user_header":"https://static001.geekbang.org/account/avatar/00/19/ac/ab/2d658c90.jpg","comment_is_top":false,"comment_ctime":1634692230,"is_pvip":false,"replies":[{"id":"114851","content":"思路是正确的，就看用哪个缓存了","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634701485,"ip_address":"","comment_id":317123,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5929659526","product_id":100094401,"comment_content":"最先想到解决问题的办法是利用缓存将当前数据进行存储","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528668,"discussion_content":"思路是正确的，就看用哪个缓存了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634701485,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317121,"user_name":"沉默的话唠","can_delete":false,"product_type":"c1","uid":1231254,"ip_address":"","ucode":"90212EF174C6E3","user_header":"https://static001.geekbang.org/account/avatar/00/12/c9/96/4577c1ef.jpg","comment_is_top":false,"comment_ctime":1634692178,"is_pvip":true,"replies":[{"id":"114852","content":"回答正确！棒棒糖搞起","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634701501,"ip_address":"","comment_id":317121,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5929659474","product_id":100094401,"comment_content":"操作状态，可以用localStorage 储存，再设置一个清空装填记录的按钮。或者使用后端接口记录起来。","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528666,"discussion_content":"回答正确！棒棒糖搞起","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634701501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1035567,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/cd/2f/f4adcb41.jpg","nickname":"。。。","note":"","ucode":"6882BABE9C3D6B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406531,"discussion_content":"清空装填记录的按钮，怎么理解？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634786058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317120,"user_name":"我叫小灰","can_delete":false,"product_type":"c1","uid":1379583,"ip_address":"","ucode":"4120602CF12E48","user_header":"https://static001.geekbang.org/account/avatar/00/15/0c/ff/c8b08e8a.jpg","comment_is_top":false,"comment_ctime":1634692099,"is_pvip":false,"replies":[{"id":"114853","content":"回答正确！棉花糖搞起","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634701510,"ip_address":"","comment_id":317120,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5929659395","product_id":100094401,"comment_content":"把this.todos放入localstorage，在created这个钩子的时候读取里面的内容，并赋给todos","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528665,"discussion_content":"回答正确！棉花糖搞起","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634701510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317106,"user_name":"时光说","can_delete":false,"product_type":"c1","uid":1077156,"ip_address":"","ucode":"9BAECB9A3257F6","user_header":"https://static001.geekbang.org/account/avatar/00/10/6f/a4/d38fee7f.jpg","comment_is_top":false,"comment_ctime":1634689758,"is_pvip":false,"replies":[{"id":"114855","content":"回答正确！","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634701545,"ip_address":"","comment_id":317106,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5929657054","product_id":100094401,"comment_content":"首先将数据保存在Vuex中，然后同时将数据保存一份在本地localStorage中，如果刷新数据丢失，就从localStorage中重新取值，再次设置保存到Vuex中","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528657,"discussion_content":"回答正确！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634701545,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317095,"user_name":"水里的天空","can_delete":false,"product_type":"c1","uid":1099030,"ip_address":"","ucode":"84825F89866F67","user_header":"https://static001.geekbang.org/account/avatar/00/10/c5/16/3a07b446.jpg","comment_is_top":false,"comment_ctime":1634686900,"is_pvip":true,"replies":[{"id":"114856","content":"你好，非常开心这个文章能帮到你","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634701570,"ip_address":"","comment_id":317095,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5929654196","product_id":100094401,"comment_content":"从dom转变到数据驱动这也是我这个老后端程序员做转变的思路","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528652,"discussion_content":"你好，非常开心这个文章能帮到你","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634701570,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317079,"user_name":"Geek_rvg","can_delete":false,"product_type":"c1","uid":1540499,"ip_address":"","ucode":"1DBCD4B0868BD9","user_header":"https://static001.geekbang.org/account/avatar/00/17/81/93/fcf244b3.jpg","comment_is_top":false,"comment_ctime":1634660789,"is_pvip":false,"replies":[{"id":"114859","content":"回答正确！","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634701592,"ip_address":"","comment_id":317079,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5929628085","product_id":100094401,"comment_content":"1. 使用前后端Api接口在后端持久化保存数据，页面初始化时先请求数据恢复状态。<br>2. 在前端使用本地存储，如localstorage、indexDB等保存，页面初始化时取出数据恢复状态。","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528643,"discussion_content":"回答正确！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634701592,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358637,"user_name":"InfoQ_cd01f1df2496","can_delete":false,"product_type":"c1","uid":2055852,"ip_address":"湖北","ucode":"C000770B9A5788","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLL5KuxVibyxbVwuPaOXN3YQLEBTlb22cV05M3P8DFGpQxFOTNBMLHRYfPHwS9UsQyUicAo92FketrA/132","comment_is_top":false,"comment_ctime":1664506603,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1664506603","product_id":100094401,"comment_content":"今天的收获是computer在于同时使用get&#47;set上，虽然是vue有用户了，但是有的时候还是会犯糊涂<br>","like_count":0},{"had_liked":false,"id":353181,"user_name":"Geek_153094","can_delete":false,"product_type":"c1","uid":3038133,"ip_address":"广东","ucode":"66D068BC834054","user_header":"","comment_is_top":false,"comment_ctime":1659239541,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1659239541","product_id":100094401,"comment_content":"简自豪转行啦？","like_count":0},{"had_liked":false,"id":353021,"user_name":"Jacky","can_delete":false,"product_type":"c1","uid":1387735,"ip_address":"陕西","ucode":"B259184BC9E7B7","user_header":"https://static001.geekbang.org/account/avatar/00/15/2c/d7/5b1b09fd.jpg","comment_is_top":false,"comment_ctime":1659081117,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1659081117","product_id":100094401,"comment_content":"老师，computed那里，我写的代码报错，可以把源码分享出来，我比对一下排除一下bug吗？","like_count":0},{"had_liked":false,"id":352886,"user_name":"Forever vip","can_delete":false,"product_type":"c1","uid":2549594,"ip_address":"陕西","ucode":"6917502D159107","user_header":"https://static001.geekbang.org/account/avatar/00/26/e7/5a/d5780fc0.jpg","comment_is_top":false,"comment_ctime":1658994421,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1658994421","product_id":100094401,"comment_content":"&#39;在 allDone 的 get 函数里，对于 allDone 会返回什么值，我们只需要判断计算属性 active 是不是 0 就可以&#39; 请问为啥是判断active为0呢？active为0 ，便是都为完成，不是应该alldone也为false 么~","like_count":0},{"had_liked":false,"id":352550,"user_name":"我爱学习我爱豆芽","can_delete":false,"product_type":"c1","uid":2915549,"ip_address":"","ucode":"8FDDC4D24D2823","user_header":"https://static001.geekbang.org/account/avatar/00/2c/7c/dd/d6614fa4.jpg","comment_is_top":false,"comment_ctime":1658756206,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1658756206","product_id":100094401,"comment_content":"大神们代码要怎么跑起来啊","like_count":0},{"had_liked":false,"id":350120,"user_name":"猹子哥一个月要瘦十斤","can_delete":false,"product_type":"c1","uid":3040375,"ip_address":"","ucode":"2BFC9BC5EE8FCA","user_header":"https://static001.geekbang.org/account/avatar/00/2e/64/77/755c94fa.jpg","comment_is_top":false,"comment_ctime":1656581372,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1656581372","product_id":100094401,"comment_content":"以前computed从没想过可以用set get 做全选 厉害","like_count":0},{"had_liked":false,"id":348765,"user_name":"Season Zhang—凯程","can_delete":false,"product_type":"c1","uid":2682306,"ip_address":"","ucode":"63DAE127BAE7E4","user_header":"https://static001.geekbang.org/account/avatar/00/28/ed/c2/b043abf5.jpg","comment_is_top":false,"comment_ctime":1655374394,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655374394","product_id":100094401,"comment_content":"在哪里下载vue的js文件来运行vue呢？","like_count":0},{"had_liked":false,"id":347876,"user_name":"LK","can_delete":false,"product_type":"c1","uid":2039107,"ip_address":"","ucode":"F2519421E5C6A3","user_header":"https://static001.geekbang.org/account/avatar/00/1f/1d/43/e8a28519.jpg","comment_is_top":false,"comment_ctime":1654531000,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654531000","product_id":100094401,"comment_content":"从没学过vue，可以跳过vue2直接学vue3吗？","like_count":0},{"had_liked":false,"id":347044,"user_name":"求渔","can_delete":false,"product_type":"c1","uid":1103671,"ip_address":"","ucode":"6EABC5A0C703C9","user_header":"https://static001.geekbang.org/account/avatar/00/10/d7/37/d8c8acdf.jpg","comment_is_top":false,"comment_ctime":1653640654,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653640654","product_id":100094401,"comment_content":"\tmounted() {<br>\t\tvar todos = localStorage.getItem(&quot;todos&quot;);<br>\t\tif(todos) {<br>\t\t\t\tthis.todos = JSON.parse(todos);<br>\t\t}\t\t\t<br>\t\twindow.onbeforeunload = () =&gt;{<br>\t\t\tlocalStorage.setItem(&quot;todos&quot;, JSON.stringify(this.todos))<br>\t\t}<br>\t}","like_count":0},{"had_liked":false,"id":346698,"user_name":"二饼","can_delete":false,"product_type":"c1","uid":2415448,"ip_address":"","ucode":"48120565D135F7","user_header":"https://static001.geekbang.org/account/avatar/00/24/db/58/a7a0a85b.jpg","comment_is_top":false,"comment_ctime":1653366611,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1653366611","product_id":100094401,"comment_content":"赞啊，本人纯后端，一直对使用 vue 有种学不会的感觉，看了这篇文章才发现是思维的问题；我之前包括现在对于前端的思维还是非常过时的页面驱动，而 vue 要用好得数据驱动，没有意识到思维需要转变，学习就非常困难和痛苦了。另外，关于 vue 让开发者更多关注与数据这一点和后端还挺像，不需要考虑其他的问题，让我们可以把更多的时间都放在数据和业务上面。","like_count":0},{"had_liked":false,"id":342053,"user_name":"王帅兵","can_delete":false,"product_type":"c1","uid":2546490,"ip_address":"","ucode":"5353D7E86962EE","user_header":"https://static001.geekbang.org/account/avatar/00/26/db/3a/58a1da4f.jpg","comment_is_top":false,"comment_ctime":1649992547,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649992547","product_id":100094401,"comment_content":"watch todos 变化时 localStorage存储 + mounted 挂载时 localStorage获取","like_count":0},{"had_liked":false,"id":340597,"user_name":"Geek_7e0d86","can_delete":false,"product_type":"c1","uid":2956374,"ip_address":"","ucode":"E8BBAEA5AEB746","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJKN2dX9ickNb06CCh3ODiazh5PQDDibTuZ9cw7Cf4M1sfzVAoibicP9g8YgK36Jncn6OlbIsR12KsBKXQ/132","comment_is_top":false,"comment_ctime":1648963327,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648963327","product_id":100094401,"comment_content":"恍然大明白了一下子，谢谢作者，值","like_count":0},{"had_liked":false,"id":338274,"user_name":"Geek_fa509f","can_delete":false,"product_type":"c1","uid":2943646,"ip_address":"","ucode":"572E5394FD427E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ibWoia9FGMiaJoibMJUeqRIGRicib2ib66F07qIBE6N6YXXcbzomIRnQwIpfyDpGM1C2NQTzNwnuEEr9pbFQQjj7IBrMg/132","comment_is_top":false,"comment_ctime":1647402231,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1647402231","product_id":100094401,"comment_content":"老师好！<br>这个做完之后我试了一下<br>将内容全选之后再点击清除按钮  清单列表确实清除了 但是全选框默认勾选了 <br>感觉数据为空但是全选勾选有点奇怪 如果要修改成不勾选全选的应该怎么处理呢？","like_count":0},{"had_liked":false,"id":337291,"user_name":"大神博士","can_delete":false,"product_type":"c1","uid":1195144,"ip_address":"","ucode":"8C4318095949F0","user_header":"https://static001.geekbang.org/account/avatar/00/12/3c/88/6bef27d6.jpg","comment_is_top":false,"comment_ctime":1646736505,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1646736505","product_id":100094401,"comment_content":"::marker 是啥？","like_count":0},{"had_liked":false,"id":336711,"user_name":"俊俊大魔王","can_delete":false,"product_type":"c1","uid":1385888,"ip_address":"","ucode":"9C412A754F9175","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqoE3yrSfHn6EjHRjkNK2Z7K1yS6UiaqAJkkxRZWszAM1YFun7YnF0Fcib8P15h8GafWrXPVM3pKH2A/132","comment_is_top":false,"comment_ctime":1646308004,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646308004","product_id":100094401,"comment_content":"我没想到的是computed，我会用methods的方法遍历数组，看来是有点菜了😃","like_count":0},{"had_liked":false,"id":331982,"user_name":"星空","can_delete":false,"product_type":"c1","uid":1782286,"ip_address":"","ucode":"E4E2090ECBB70F","user_header":"https://static001.geekbang.org/account/avatar/00/1b/32/0e/5024c2dd.jpg","comment_is_top":false,"comment_ctime":1642939682,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642939682","product_id":100094401,"comment_content":"两种思路：1 是使用本地存储，将数据存起来； 2 是走接口，存数据库","like_count":0},{"had_liked":false,"id":330807,"user_name":"Geek_aa3c34","can_delete":false,"product_type":"c1","uid":2530170,"ip_address":"","ucode":"9B4C3C594F58D1","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ9oIRvWZARRkKiayTYw9MNGPQbprTvMZhSk9icw6Ifib8iaSfTLhniaMdJ9LE4NMqSFRxuXZFGZf8NkUQ/132","comment_is_top":false,"comment_ctime":1642170993,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642170993","product_id":100094401,"comment_content":"状态管理配合localStorage 状态数据持久化，unmount时候调一次接口保存data数据到到数据库，下次进入应用调一次接口更新数据；接口保存数据原因如下，1.前端缓存都是可以手动清的，所以非常不稳定; 2.数据库保存的数据，可能会在别的应用发生改变莫某个字段的值，更新数据可以达到多应用，数据同步；","like_count":0},{"had_liked":false,"id":329538,"user_name":"🌚 yang.","can_delete":false,"product_type":"c1","uid":1685964,"ip_address":"","ucode":"779AD1708DF4BA","user_header":"https://static001.geekbang.org/account/avatar/00/19/b9/cc/7ea9127a.jpg","comment_is_top":false,"comment_ctime":1641391689,"is_pvip":false,"replies":[{"id":"120225","content":"很正确","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1641774337,"ip_address":"","comment_id":329538,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1641391689","product_id":100094401,"comment_content":"把数据存储到浏览器的localStorage中，使用的时候取出就可以了,当然清理过后的数据需要重新同步到localStorage..(刚想的,不知道对不对)","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544899,"discussion_content":"很正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641774337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326672,"user_name":"大鹏","can_delete":false,"product_type":"c1","uid":2659123,"ip_address":"","ucode":"31A65C4C054B93","user_header":"https://static001.geekbang.org/account/avatar/00/28/93/33/2d4de22e.jpg","comment_is_top":false,"comment_ctime":1639626542,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1639626542","product_id":100094401,"comment_content":"<br>active() {<br>      return this.todos.reduce((acc, todo) =&gt; acc + (todo.done ? 1 : 0), 0)<br>}<br>","like_count":0},{"had_liked":false,"id":321966,"user_name":"Bynow","can_delete":false,"product_type":"c1","uid":2735072,"ip_address":"","ucode":"1E4F3ADD65CF18","user_header":"https://static001.geekbang.org/account/avatar/00/29/bb/e0/c7cd5170.jpg","comment_is_top":false,"comment_ctime":1637119116,"is_pvip":false,"replies":[{"id":"117107","content":"active的意思大概就是还没忙完的事😁","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1637499639,"ip_address":"","comment_id":321966,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1637119116","product_id":100094401,"comment_content":"active(){      return this.todos.filter(v=&gt;!v.done).length    }, 这里active 函数名有点不对吧，这里面筛选的是未完成的；push不会触发全选按钮更新，但是引入的vue.js 里面打印没有this.$set 这个怎么解决，不用脚手架的话","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532013,"discussion_content":"active的意思大概就是还没忙完的事😁","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637499639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321604,"user_name":"杨松","can_delete":false,"product_type":"c1","uid":1512517,"ip_address":"","ucode":"FB3C73BC44C94D","user_header":"https://static001.geekbang.org/account/avatar/00/17/14/45/adf079ae.jpg","comment_is_top":false,"comment_ctime":1636964522,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636964522","product_id":100094401,"comment_content":"看了好几天才把allDone这个看懂，这个小Demo收获巨大","like_count":0},{"had_liked":false,"id":318993,"user_name":"半橙汁","can_delete":false,"product_type":"c1","uid":1477902,"ip_address":"","ucode":"BB93BB9CCB7FA2","user_header":"https://static001.geekbang.org/account/avatar/00/16/8d/0e/5e97bbef.jpg","comment_is_top":false,"comment_ctime":1635499285,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635499285","product_id":100094401,"comment_content":"打卡，又复习了一遍vue的基础知识，却走过了一趟不同打怪路线~","like_count":0},{"had_liked":false,"id":318493,"user_name":"海阔天空","can_delete":false,"product_type":"c1","uid":2122492,"ip_address":"","ucode":"59F2A6A75BF8D0","user_header":"https://static001.geekbang.org/account/avatar/00/20/62/fc/0948e26c.jpg","comment_is_top":false,"comment_ctime":1635313914,"is_pvip":false,"replies":[{"id":"115547","content":"这个不是赋值，而是判断active和0是不是相等","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1635403133,"ip_address":"","comment_id":318493,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635313914","product_id":100094401,"comment_content":"return this.active === 0这句啥意思？是遍历todos并获取done值？如果done值不是零就赋值0？","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529269,"discussion_content":"这个不是赋值，而是判断active和0是不是相等","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635403133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318389,"user_name":"giteebravo","can_delete":false,"product_type":"c1","uid":1005290,"ip_address":"","ucode":"C087E8D6B5A98B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg","comment_is_top":false,"comment_ctime":1635266852,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1635266852","product_id":100094401,"comment_content":"交作业：<br>localStorage + lifecycle hooks","like_count":0},{"had_liked":false,"id":317850,"user_name":"百里醉日","can_delete":false,"product_type":"c1","uid":2815809,"ip_address":"","ucode":"E6BBA3F97ADF05","user_header":"https://static001.geekbang.org/account/avatar/00/2a/f7/41/27b0739d.jpg","comment_is_top":false,"comment_ctime":1634993232,"is_pvip":false,"replies":[{"id":"115213","content":"cool","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1635081016,"ip_address":"","comment_id":317850,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634993232","product_id":100094401,"comment_content":"数据保存，如果想跨端应用，可以考虑数据库、redis，如果只是针对个人的可以考虑 localStorage、sessionStorage、cookie、webSQL等方式。","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529006,"discussion_content":"cool","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635081016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317449,"user_name":"技术直男晨晨","can_delete":false,"product_type":"c1","uid":2333207,"ip_address":"","ucode":"D8893E442505E7","user_header":"https://static001.geekbang.org/account/avatar/00/23/9a/17/1695d3a2.jpg","comment_is_top":false,"comment_ctime":1634800885,"is_pvip":false,"replies":[{"id":"115136","content":"收到收到！！！！","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634889829,"ip_address":"","comment_id":317449,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634800885","product_id":100094401,"comment_content":"把 this.todos放入localstorage中，在生命周期触发created这个钩子函数的时候进行读取，并赋给todos，赶快出下一篇啊，我的大刀已经饥渴难耐了！！！！！啊啊啊啊啊啊！！！！","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528820,"discussion_content":"收到收到！！！！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634889829,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317397,"user_name":"淡若清风过","can_delete":false,"product_type":"c1","uid":2816633,"ip_address":"","ucode":"A589310DD82EA7","user_header":"https://static001.geekbang.org/account/avatar/00/2a/fa/79/c5cfe88c.jpg","comment_is_top":false,"comment_ctime":1634785344,"is_pvip":false,"replies":[{"id":"115026","content":"极客时间这边是一三五更新","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634800511,"ip_address":"","comment_id":317397,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634785344","product_id":100094401,"comment_content":"什么时候才更新玩啊，还是有声小说","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528799,"discussion_content":"极客时间这边是一三五更新","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634800511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317319,"user_name":"你阿怪","can_delete":false,"product_type":"c1","uid":2816787,"ip_address":"","ucode":"67C0E2C9F707A4","user_header":"https://static001.geekbang.org/account/avatar/00/2a/fb/13/1e698b06.jpg","comment_is_top":false,"comment_ctime":1634739791,"is_pvip":false,"replies":[{"id":"114949","content":"感谢夸奖 哈哈","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634744038,"ip_address":"","comment_id":317319,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634739791","product_id":100094401,"comment_content":"不错的小练习 很棒！！！","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528763,"discussion_content":"感谢夸奖 哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634744038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317306,"user_name":"Pride and Prejudice","can_delete":false,"product_type":"c1","uid":2461995,"ip_address":"","ucode":"048B07345D90F2","user_header":"https://static001.geekbang.org/account/avatar/00/25/91/2b/d919ae25.jpg","comment_is_top":false,"comment_ctime":1634737189,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1634737189","product_id":100094401,"comment_content":"打卡3","like_count":0},{"had_liked":false,"id":317301,"user_name":"梵音🍒","can_delete":false,"product_type":"c1","uid":2814152,"ip_address":"","ucode":"0DFA3666A200BF","user_header":"https://static001.geekbang.org/account/avatar/00/2a/f0/c8/36383d9e.jpg","comment_is_top":false,"comment_ctime":1634736589,"is_pvip":false,"replies":[{"id":"118406","content":"现在应该就是这个操作结果","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1639404338,"ip_address":"","comment_id":317301,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1634736589","product_id":100094401,"comment_content":"大圣老师好，我对这个全选对checkbox的选中状态有个疑问哈！就是现在假如点击了全选，选中了3条数据，在加入输入框加入第4条数据到列表之后，全选框的状态是不是应该更改为不选中状态呀。（或许改叫优化点😂）","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538421,"discussion_content":"现在应该就是这个操作结果","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639404338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2816937,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/fb/a9/bbe8e9c6.jpg","nickname":"淡定","note":"","ucode":"2757C03C8B4CBB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406738,"discussion_content":"计算属性的妙用，当新增时数组发生了改变，此时的计算属性就会重新计算全选框的状态","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1634826480,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1683086,"avatar":"https://static001.geekbang.org/account/avatar/00/19/ae/8e/622b004d.jpg","nickname":"MRSHIMMER","note":"","ucode":"53E9EF9A8E8EC5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406510,"discussion_content":"我尝试后，会自动变到未选中耶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634782670,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317248,"user_name":"briquette","can_delete":false,"product_type":"c1","uid":1376139,"ip_address":"","ucode":"C0EC8C0BBD061B","user_header":"https://static001.geekbang.org/account/avatar/00/14/ff/8b/4c87b492.jpg","comment_is_top":false,"comment_ctime":1634720208,"is_pvip":false,"replies":[{"id":"114959","content":"赞赞赞","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634745507,"ip_address":"","comment_id":317248,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634720208","product_id":100094401,"comment_content":"使用localStorage缓存到本地","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528733,"discussion_content":"赞赞赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634745507,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317242,"user_name":"@","can_delete":false,"product_type":"c1","uid":1985141,"ip_address":"","ucode":"B308157E3FA393","user_header":"https://static001.geekbang.org/account/avatar/00/1e/4a/75/51435f4b.jpg","comment_is_top":false,"comment_ctime":1634719329,"is_pvip":false,"replies":[{"id":"114960","content":"very quickly呀","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634745517,"ip_address":"","comment_id":317242,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634719329","product_id":100094401,"comment_content":"学完了，期待下一篇","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528731,"discussion_content":"very quickly呀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634745517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317156,"user_name":"徐洲更","can_delete":false,"product_type":"c1","uid":1314643,"ip_address":"","ucode":"F8A323CB732D05","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/53/92a50f01.jpg","comment_is_top":false,"comment_ctime":1634697025,"is_pvip":true,"replies":[{"id":"114970","content":"赞","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634745763,"ip_address":"","comment_id":317156,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634697025","product_id":100094401,"comment_content":"作为一个vue新手，我能想到方法是每次记录数据时，将网页上的数据和服务器后端进行同步，记录到文本中或者是SQL数据中, 之后刷新页面的时候再从后端读取。","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528687,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634745763,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317096,"user_name":"Geek_a84b8d","can_delete":false,"product_type":"c1","uid":2816188,"ip_address":"","ucode":"F10C3CDAABDEE5","user_header":"","comment_is_top":false,"comment_ctime":1634688063,"is_pvip":false,"replies":[{"id":"114974","content":"这个课里都是文字和音频交付，暂时没有视频","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634745835,"ip_address":"","comment_id":317096,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634688063","product_id":100094401,"comment_content":"大圣老师好 课程都是以文字和代码片段的形式呈现的吗 有对应的视频吗","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528653,"discussion_content":"这个课里都是文字和音频交付，暂时没有视频","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634745835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317089,"user_name":"晨曦","can_delete":false,"product_type":"c1","uid":1764436,"ip_address":"","ucode":"37A1E7508A0E42","user_header":"https://static001.geekbang.org/account/avatar/00/1a/ec/54/07c03930.jpg","comment_is_top":false,"comment_ctime":1634682107,"is_pvip":false,"replies":[{"id":"114857","content":"回答正确","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1634701575,"ip_address":"","comment_id":317089,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634682107","product_id":100094401,"comment_content":"用localStorage 存一下","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528650,"discussion_content":"回答正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634701575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
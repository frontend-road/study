{"id":623838,"title":"05ï½œPrometheusä¸­æœ‰å“ªäº›å…³é”®è®¾è®¡ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ç§¦æ™“è¾‰ã€‚</p><p>ä¸Šä¸€è®²æˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•æ­å»º Prometheus ç³»ç»Ÿï¼Œæ¼”ç¤ºäº†åŸºæœ¬çš„ä½¿ç”¨æ–¹æ³•ï¼Œè¿™ä¸€è®²æˆ‘ä»¬æ·±å…¥è¿›å»ï¼Œæ¢³ç†ä¸€ä¸‹ Prometheus çš„å…³é”®è®¾è®¡ï¼Œçœ‹çœ‹è¿™äº›è®¾è®¡æ˜¯å¦‚ä½•å¥ å®š Prometheus æ±Ÿæ¹–åœ°ä½çš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c2/b2/c2c67694da6bb16fa0cf7318abd0c5b2.jpg?wh=1601x859\" alt=\"\"></p><h2>æ ‡å‡†å…ˆè¡Œï¼Œæ³¨é‡ç”Ÿæ€</h2><p>Prometheus æœ€é‡è¦çš„è§„èŒƒå°±æ˜¯<strong>æŒ‡æ ‡å‘½åæ–¹å¼</strong>ï¼Œæ•°æ®æ ¼å¼ç®€å•æ˜“è¯»ï¼Œåœ¨<a href=\"https://time.geekbang.org/column/article/620800\">ç¬¬2è®²</a>ä¸­æˆ‘ä»¬å·²ç»èŠè¿‡äº†ï¼Œå®ƒç”¨æ ‡ç­¾é›†æ¥æ ‡è¯†æŒ‡æ ‡ã€‚æœ‰äº›ç›‘æ§ç³»ç»Ÿä¼šæŠŠä¸€äº›ç‰¹æ®Šçš„å­—æ®µå•ç‹¬æå‡ºæ¥ï¼Œæœ€å…¸å‹çš„å°±æ˜¯ hostname å­—æ®µï¼Œè¿™ç§åšæ³•åœ¨ä¸€äº›ç‰¹å®šåœºæ™¯ä¼šæ˜¾å¾—æ›´æœ‰æ•ˆã€‚ä½†æ˜¯æ˜¾ç„¶ï¼Œ<strong>ç»Ÿä¸€çš„æ ‡ç­¾é›†è¡¨è¾¾æ–¹å¼æ˜¯æœ€é€šç”¨ã€æœ€çµæ´»çš„ã€‚</strong></p><p>è™½ç„¶æ ‡ç­¾é›†å¾ˆçµæ´»ï¼Œä½†æ˜¯åœ¨å®é™…è½åœ°æ—¶ï¼Œæˆ‘å¼ºçƒˆå»ºè®®ä½ åœ¨å…¬å¸æ¨è¡Œä¸€ä¸ªæ ‡ç­¾å®šä¹‰è§„èŒƒï¼Œæ ‡ç­¾Keyä¸èƒ½éšä¾¿èµ·åï¼Œè¯¥æœ‰çš„æ ‡ç­¾ä¹Ÿä¸èƒ½ç¼ºå¤±ã€‚æ—¢å‡å°‘äº†ç†è§£æˆæœ¬ï¼Œä¹Ÿä¿è¯äº†æ•°æ®çš„è§„æ•´å®Œå¤‡ï¼Œä¾¿äºåç»­åšæ•°æ®åˆ†æã€‚æ¯”å¦‚ï¼Œå¯¹äºåº”ç”¨å±‚é¢çš„ç›‘æ§ï¼Œå¯ä»¥è¦æ±‚å¿…é¡»å…·å¤‡è¿™å‡ ä¸ªä¿¡æ¯ã€‚</p><ul>\n<li>æŒ‡æ ‡åç§° metric</li>\n</ul><p>Prometheuså†…ç½®å»ºç«‹çš„è§„èŒƒå°±æ˜¯å«metricï¼ˆå³__name__ï¼‰ã€‚å¦‚æœæ˜¯Counterç±»å‹ï¼Œå•è°ƒé€’å¢çš„å€¼ï¼ŒæŒ‡æ ‡åç§°ä»¥_totalç»“å°¾ã€‚</p><ul>\n<li>æœåŠ¡åç§° service</li>\n</ul><p>æœåŠ¡åç§°serviceè¦å…¨å±€å”¯ä¸€ï¼Œæ¯”å¦‚ n9e-webapiï¼Œp8s-alertmanagerï¼Œä¸€èˆ¬æ˜¯ç³»ç»Ÿåç§°åŠ ä¸Šæ¨¡å—åç§°ï¼Œç»„æˆæœ€ç»ˆçš„æœåŠ¡åç§°ã€‚å¦‚æœå…¬å¸æ¯”è¾ƒå¤§ï¼Œå°±éœ€è¦ä¸€ä¸ªå…¨å±€çš„æœåŠ¡ç›®å½•åšå‚è€ƒï¼Œå¦åˆ™ä¸åŒçš„å›¢é˜Ÿå¯èƒ½ä¼šèµ·ç›¸åŒçš„åç§°ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨ Git é‡Œçš„ GroupName + RepoNameã€‚ç³»ç»Ÿåç§°æœ€å¥½ä¹Ÿå•ç‹¬åšæˆä¸€ä¸ªæ ‡ç­¾ï¼Œæ¯”å¦‚ system=n9e system=p8sã€‚</p><!-- [[[read_end]]] --><ul>\n<li>å®ä¾‹åç§° instance</li>\n</ul><p>ä¸€ä¸ªæœåŠ¡ä¸€èˆ¬ä¼šéƒ¨ç½²å¤šä¸ªå®ä¾‹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨æœºå™¨åæˆ–Podåä½œä¸ºinstanceåç§°ã€‚å¦‚æœåœ¨ç‰©ç†æœºéƒ¨ç½²ï¼Œæœ‰å®ä¾‹æ··éƒ¨çš„æƒ…å†µï¼Œå°±è¦æŠŠç«¯å£åŠ ä¸Šï¼Œæ¯”å¦‚å®ä¾‹ä¸€æ˜¯10.1.2.3:3306ï¼Œå®ä¾‹äºŒæ˜¯ 10.1.2.3:3307ã€‚</p><ul>\n<li>æœåŠ¡ç±»å‹ job</li>\n</ul><p>æ¯”å¦‚æ‰€æœ‰çš„MySQLçš„ç›‘æ§æ•°æ®ï¼Œéƒ½ç»Ÿä¸€æ‰“ä¸Š job=mysql çš„æ ‡ç­¾ï¼ŒRedisçš„ç›‘æ§æ•°æ®ï¼Œå°±æ‰“ä¸Š job=redis çš„æ ‡ç­¾ã€‚å¦‚æœæ˜¯è‡ªç ”çš„æ¨¡å—ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ webserver backend frontend è¿™ç§åˆ†ç±»æ–¹å¼ã€‚</p><ul>\n<li>åœ°åŸŸå¯ç”¨åŒº zone</li>\n</ul><p>æŠŠåœ°åŸŸä¿¡æ¯æ”¾åˆ°æ ‡ç­¾é‡Œï¼Œæœ‰ä¸ªå·¨å¤§çš„å¥½å¤„ï¼Œæ¯”å¦‚æŸä¸ª zone å‡ºé—®é¢˜äº†ï¼Œå°±æ¯”è¾ƒå®¹æ˜“çœ‹å‡ºæ¥ï¼Œå¸¦æœ‰æŸä¸ªç‰¹å®šçš„zoneçš„æŒ‡æ ‡æ•°æ®å¼‚å¸¸ï¼Œå¿«é€Ÿæ‰§è¡Œåˆ‡æµæ­¢æŸå³å¯ã€‚æœ‰äº† zone çš„ä¿¡æ¯ï¼Œregionå°±å¯æœ‰å¯æ— äº†ï¼Œzoneçš„å‰ç¼€ä¸€èˆ¬å°±æ˜¯regionã€‚</p><ul>\n<li>é›†ç¾¤åç§° cluster</li>\n</ul><p>æœ‰çš„æ—¶å€™ä¸€ä¸ªå¯ç”¨åŒºä¼šéƒ¨ç½²å¤šä¸ªé›†ç¾¤ï¼Œç‰¹åˆ«æ˜¯ä¸€äº›ä¸­é—´ä»¶ï¼Œæ¯”å¦‚ ElasticSearchï¼Œç»™æ¯ä¸ªé‡è¦çš„ä¸šåŠ¡å•ç‹¬éƒ¨ç½²ä¸€ä¸ªé›†ç¾¤ï¼Œä¸€ä¸ªå¤§å…¬å¸å¯èƒ½æœ‰å‡ ç™¾å¥— ElasticSearch é›†ç¾¤ï¼Œå‡ åƒå¥—ZooKeeperé›†ç¾¤ã€‚</p><ul>\n<li>ç¯å¢ƒç±»å‹ env</li>\n</ul><p>ç¯å¢ƒç±»å‹ env ç”¨æ¥æ ‡è¯†æ˜¯ç”Ÿäº§ç¯å¢ƒè¿˜æ˜¯æµ‹è¯•ç¯å¢ƒã€‚å½“ç„¶äº†ï¼Œå¦‚æœç›‘æ§ç³»ç»Ÿä¸å¤ç”¨ï¼ˆæ¨èè¿™ä¹ˆåšï¼‰ï¼Œç”Ÿäº§ç”¨ç”Ÿäº§çš„ç›‘æ§ç³»ç»Ÿï¼Œæµ‹è¯•ç”¨æµ‹è¯•çš„ç›‘æ§ç³»ç»Ÿï¼Œå°±æ— éœ€è¿™ä¸ªæ ‡ç­¾äº†ã€‚</p><p>æŒ‡æ ‡çš„æ•°æ®æ ¼å¼å’Œä¼ è¾“åè®®åˆ¶å®šå¥½ä¹‹åï¼Œå„ç§Exporterã€å„ç§æ”¯æŒ Remote Read/Write çš„åç«¯å­˜å‚¨å°±å¯ä»¥æ¥å…¥è¿›æ¥äº†ï¼Œè€Œè¿™äº› Exporterã€å­˜å‚¨çš„ä¸°å¯Œå’Œç¹è£ï¼Œåˆåå‘æ¨åŠ¨äº† Prometheus çš„æµè¡Œï¼Œå½¢æˆæ­£å‘å¾ªç¯ã€‚</p><h2>ä¸»è¦ä½¿ç”¨æ‹‰æ¨¡å¼ï¼Œè§£è€¦</h2><p>Prometheusä¸»è¦ä½¿ç”¨æ‹‰æ¨¡å¼è·å–æŒ‡æ ‡ï¼Œè¾…ä»¥æ¨æ¨¡å¼ï¼ˆPushgatewayçš„èŒèƒ½ï¼‰ã€‚å¾ˆå¤šç›‘æ§ç³»ç»Ÿéƒ½æ˜¯æ¨æ¨¡å¼ï¼Œæ¯”å¦‚ Datadogã€Open-Falconã€Telegraf+InfluxDBç»„åˆã€‚æ¨æ‹‰ä¸¤ç§æ–¹å¼ï¼Œåœ¨ç›‘æ§é¢†åŸŸè®¨è®ºä¹Ÿæ¯”è¾ƒå¤šï¼Œå®ƒä»¬å„æœ‰ä¼˜ç¼ºç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/df/7f/dfdb90a4651ba7d88dc878072550357f.jpg?wh=1580x1002\" alt=\"\"></p><p>æ‹‰æ¨¡å¼æœ‰ä¸ªæœ€é‡è¦çš„ä¼˜åŠ¿ï¼Œå°±æ˜¯è§£è€¦ã€‚ä½ å¯èƒ½ä¹‹å‰å¬å¾ˆå¤šäººè¯´è¿‡è¿™ä¸ªä¼˜åŠ¿ï¼Œä½†ä½ æœªå¿…èƒ½ä½“ä¼šåˆ°è§£è€¦è§£åœ¨äº†å“ªé‡Œï¼Œæˆ‘ä¸¾ä¸€ä¸ªä¾‹å­ä½ å°±æ‡‚äº†ã€‚</p><p>å¯¹äºå„ç±»ä¸­é—´ä»¶ï¼Œç‰¹åˆ«æ˜¯éå¸¸åŸºç¡€çš„é‚£äº›ï¼Œå¾ˆå¤§æ¦‚ç‡æ˜¯å…ˆäºç›‘æ§ç³»ç»Ÿéƒ¨ç½²çš„ã€‚å¦‚æœæ˜¯æ‹‰æ¨¡å¼ï¼Œéƒ¨ç½²å¥½ç›‘æ§ç³»ç»Ÿä¹‹åï¼Œå†æ¥è°ƒç”¨ä¸­é—´ä»¶çš„æ¥å£è·å–æ•°æ®å³å¯ã€‚å¦‚æœæ˜¯æ¨æ¨¡å¼ï¼Œå°±éœ€è¦åœ¨ä¸­é—´ä»¶é‡Œé‡æ–°é…ç½®ç›‘æ§æ•°æ®ä¸ŠæŠ¥åœ°å€ï¼Œç„¶åé‡å¯ä¸­é—´ä»¶ï¼Œè¿™ä¸ªä»£ä»·å°±å¤ªé«˜äº†ã€‚</p><p>ä½†æ˜¯æ‹‰æ¨¡å¼éœ€è¦æœ‰å¾ˆå¥½çš„æœåŠ¡å‘ç°æœºåˆ¶ï¼Œå¦‚æœåªæœ‰å°‘é‡çš„å‡ ä¸ªç›®æ ‡è¦é‡‡é›†ï¼Œæ€ä¹ˆæéƒ½å¯ä»¥ï¼Œä½†æ˜¯æœ‰å‡ ç™¾ä¸ªçš„æ—¶å€™ï¼Œæ‰‹å·¥é…ç½®å°±æ¯”è¾ƒéº»çƒ¦äº†ã€‚æ‰€ä»¥Prometheusæ”¯æŒå„ç§æœåŠ¡å‘ç°æœºåˆ¶ï¼Œå°¤å…¶æ˜¯åŸºäºKubernetesçš„æœåŠ¡å‘ç°æœºåˆ¶ï¼Œæ˜¯æœ€å¸¸è§çš„ã€‚</p><p>å¦‚æœæœåŠ¡æ²¡æœ‰éƒ¨ç½²åœ¨Kubernetesä¸­ï¼Œè€Œæ˜¯éƒ¨ç½²åœ¨ä¼ ç»Ÿç‰©ç†æœºæˆ–è™šæ‹Ÿæœºä¸Šï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä½¿ç”¨Consulä¹‹ç±»çš„æœåŠ¡å‘ç°æœºåˆ¶ã€‚ä½†å¦‚æœåœ¨ç›‘æ§ä½“ç³»å»ºè®¾ä¹‹å‰ï¼ŒæœåŠ¡æ²¡æœ‰æ¥å…¥æ³¨å†Œä¸­å¿ƒï¼Œä¸ºäº†æ»¡è¶³ç›‘æ§éœ€æ±‚è€Œæ¥å…¥æ³¨å†Œä¸­å¿ƒï¼Œç”¨æˆ·ä¼šè§‰å¾—æˆæœ¬å¤ªé«˜ã€‚æ­¤æ—¶æ¨æ¨¡å¼å°±æœ‰äº†ç”¨æ­¦ä¹‹åœ°ï¼Œè¿™å°±æ˜¯å¾ˆå¤šå…¬å¸çš„è‡ªç ”æœåŠ¡éƒ½ä½¿ç”¨æ¨æ¨¡å¼å‘é€ç›‘æ§æ•°æ®çš„åŸå› ã€‚</p><p>æ‰€ä»¥ç»“è®ºå°±æ¥äº†ï¼šä¸­é—´ä»¶ç±»ä½¿ç”¨æ‹‰æ¨¡å¼ï¼Œè‡ªç ”çš„æœåŠ¡ä½¿ç”¨æ¨æ¨¡å¼ï¼Œè‡ªç ”çš„æœåŠ¡å¦‚æœéƒ½æ¥å…¥äº†æ³¨å†Œä¸­å¿ƒï¼Œåˆ™ä¹Ÿå¯ä»¥ä½¿ç”¨æ‹‰æ¨¡å¼ã€‚</p><p>å½“ç„¶ï¼Œæ¨æ‹‰çš„é€‰æ‹©è¿˜æœ‰ä¸€ä¸ªç‚¹æ¯”è¾ƒå…³é”®ï¼Œå°±æ˜¯<strong>ç½‘ç»œé€šè·¯é—®é¢˜</strong>ï¼Œç‰¹åˆ«æ˜¯ç½‘ç»œACLé™åˆ¶æ¯”è¾ƒä¸¥æ ¼çš„ç¯å¢ƒï¼Œå¾ˆå¤šéƒ½æ˜¯å¯å‡ºä¸å¯è¿›ï¼Œæ¯”å¦‚å…¸å‹çš„NATå‡ºç½‘ï¼Œè¿™ç§æƒ…å†µä¸‹æ¨æ¨¡å¼çš„é€‚é…æ€§æ›´å¥½ï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹ACLæ›´å‹å¥½ä¸€äº›ã€‚å¦ä¸€ä¸ªå…³é”®ç‚¹æ˜¯<strong>çŸ­å‘¨æœŸä»»åŠ¡æˆ–æ‰¹å¤„ç†ä»»åŠ¡</strong>ï¼Œé€šå¸¸ä¸å¤ªå¯èƒ½ç›‘å¬HTTPç«¯å£ï¼Œè¿™ç§å¤§æ¦‚ç‡ä¹Ÿæ˜¯æ¨æ¨¡å¼ã€‚</p><p>æ¨æ‹‰æ¨¡å¼çš„é€‰æ‹©ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–å½±å“å› ç´ ï¼Œæ¯”å¦‚æ¨æ¨¡å¼æœåŠ¡ç«¯é€šå¸¸æ¯”è¾ƒå®¹æ˜“å¤„ç†ï¼Œå› ä¸ºæ•°æ®æ¥æ”¶æ˜¯æ— çŠ¶æ€çš„ã€‚ä½†æ˜¯æ‹‰æ¨¡å¼åœ¨æ•°æ®é‡å¤§çš„æ—¶å€™è¦è€ƒè™‘åˆ†ç‰‡çš„é—®é¢˜ï¼Œè¿˜æœ‰å°±æ˜¯å¤±è”å‘Šè­¦é—®é¢˜ï¼Œæ‹‰æ¨¡å¼å¾ˆå®¹æ˜“æ„ŸçŸ¥åˆ°ç›®æ ‡å¤±è”ã€‚æ¨æ¨¡å¼å°±æ¯”è¾ƒå¤æ‚äº†ï¼Œéœ€è¦å¯¹æ•°æ®ç¼ºå¤±åšå‘Šè­¦ï¼Œæ¯”å¦‚ Prometheus çš„absent å‡½æ•°ï¼Œabsent å‡½æ•°éœ€è¦æŠŠæŒ‡æ ‡çš„æ¯ä¸ªæ ‡ç­¾éƒ½å†™å…¨ï¼Œæ‰èƒ½è¾¾åˆ°é¢„æœŸæ•ˆæœã€‚è€ŒæŒ‡æ ‡æ•°é‡ä½•æ­¢åƒä¸‡ï¼Œå‡ ä¹ä¸å¯èƒ½å®Œæˆã€‚</p><p>æœ€åå°±æ˜¯å¯æ§æ€§é—®é¢˜ï¼Œæ‹‰æ¨¡å¼ï¼Œç›‘æ§ç³»ç»Ÿæ˜¯ä¸»åŠ¨çš„ä¸€æ–¹ï¼Œå¯ä»¥æ§åˆ¶é¢‘ç‡ï¼›æ¨æ¨¡å¼ï¼Œå®¢æˆ·ç«¯æ˜¯ä¸»åŠ¨çš„ä¸€æ–¹ï¼Œå¦‚æœä»£ç å†™â€œæŒ«â€äº†ï¼Œå°±ä¼šç»™ç›‘æ§ç³»ç»Ÿé€ æˆå¾ˆå¤§å‹åŠ›ã€‚</p><p>å‰é¢æˆ‘ä»¬æåˆ°æ‹‰æ¨¡å¼éœ€è¦æœ‰å¾ˆå¥½çš„æœåŠ¡å‘ç°æœºåˆ¶ï¼ŒPrometheus é‡‡å–çš„å°±æ˜¯æ‹‰æ¨¡å¼ï¼Œå› æ­¤å®ƒå¯¹ç›‘æ§ç›®æ ‡åŠ¨æ€å‘ç°æœºåˆ¶çš„è‹›æ±‚åº¦å¾ˆé«˜ã€‚</p><h2>ç›‘æ§ç›®æ ‡åŠ¨æ€å‘ç°æœºåˆ¶</h2><p>ç›‘æ§ç›®æ ‡åŠ¨æ€å‘ç°æœºåˆ¶ï¼Œè¿™ä¸ªé—®é¢˜å…¶å®å¾ˆæ—©å°±æœ‰ï¼Œè€ä¸€äº›çš„ç›‘æ§ç³»ç»Ÿï¼Œæ¯”å¦‚Zabbixï¼Œæ˜¯èµ„äº§ç®¡ç†å¼ï¼Œè¦ç›‘æ§çš„ç›®æ ‡éƒ½éœ€è¦åœ¨æœåŠ¡ç«¯æ³¨å†Œã€é…ç½®ã€‚è¿™ç§æ–¹å¼åœ¨ç›‘æ§ç›®æ ‡åé™æ€çš„åœºæ™¯è¿˜æ˜¯æ¯”è¾ƒå¥½ç”¨çš„ï¼Œä½†æ˜¯äº‘åŸç”Ÿä¹‹åï¼ŒåŸºç¡€è®¾æ–½åŠ¨æ€åŒ–ï¼Œç›‘æ§ç›®æ ‡çš„åˆ›å»ºã€é”€æ¯éƒ½æ¯”è¾ƒé¢‘ç¹ï¼Œå°±éœ€è¦æœ‰ä¸€ä¸ªæ›´è‡ªåŠ¨åŒ–çš„æœºåˆ¶æ¥è·å–ç›‘æ§ç›®æ ‡åˆ—è¡¨ã€‚</p><p>Prometheuså†…ç½®äº†å¤šç§æœåŠ¡å‘ç°æœºåˆ¶ï¼Œæœ€å¸¸è§çš„æœ‰å››ç§ã€‚</p><ul>\n<li><strong>åŸºäºé…ç½®æ–‡ä»¶çš„å‘ç°æœºåˆ¶</strong>ï¼šè¿™ç§æ–¹å¼çœ‹èµ·æ¥å¾ˆä½ç«¯ï¼Œå…¶å®éå¸¸å¸¸ç”¨ï¼Œå› ä¸ºå¯ä»¥é…åˆé…ç½®ç®¡ç†å·¥å…·ä¸€èµ·ä½¿ç”¨ï¼Œéå¸¸æ–¹ä¾¿ã€‚ä½¿ç”¨é…ç½®ç®¡ç†å·¥å…·æ‰¹é‡æ›´æ–°é…ç½®ï¼Œç„¶åè®©ç›‘æ§ç³»ç»Ÿé‡æ–°åŠ è½½ä¸€ä¸‹å°±å¯ä»¥äº†ï¼Œæ¯”è¾ƒä¸æ»‘ã€‚</li>\n<li><strong>åŸºäºKubernetesçš„å‘ç°æœºåˆ¶</strong>ï¼šKubernetesä¸­æœ‰å¾ˆå¤šå…ƒä¿¡æ¯ï¼Œé€šè¿‡è°ƒç”¨ kube-apiserverï¼Œå¯ä»¥è½»æ˜“æ‹¿åˆ° Podã€Nodeã€Endpoint ç­‰åˆ—è¡¨ï¼ŒPrometheuså†…ç½®æ”¯æŒäº†Kubernetesçš„æœåŠ¡å‘ç°æœºåˆ¶ï¼Œè®©è¿™ä¸ªè¿‡ç¨‹å˜å¾—æ›´ç®€å•ï¼ŒPrometheusåŸºæœ¬æˆä¸ºäº†Kubernetesç›‘æ§çš„æ ‡é…ã€‚</li>\n<li><strong>åŸºäºå…¬æœ‰äº‘APIçš„å‘ç°æœºåˆ¶</strong>ï¼šæ¯”å¦‚è¦ç›‘æ§å…¬æœ‰äº‘ä¸Šæ‰€æœ‰çš„RDSæœåŠ¡ï¼Œä¸€æ¡ä¸€æ¡é…ç½®æ¯”è¾ƒéº»çƒ¦ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥åŸºäºå…¬æœ‰äº‘çš„OpenAPIåšä¸€ä¸ªæœåŠ¡å‘ç°æœºåˆ¶ï¼Œè‡ªåŠ¨æ‹‰å–ç›¸å…³è´¦å·ä¸‹æ‰€æœ‰RDSå®ä¾‹åˆ—è¡¨ï¼Œå¤§å¹…é™ä½ç®¡ç†æˆæœ¬ã€‚</li>\n<li><strong>åŸºäºæ³¨å†Œä¸­å¿ƒçš„å‘ç°æœºåˆ¶</strong>ï¼šç¤¾åŒºé‡Œæœ€ä¸ºå¸¸ç”¨çš„æ˜¯Consulï¼Œå…¸å‹åœºæ™¯æ˜¯PINGç›‘æ§å’ŒHTTPç›‘æ§ï¼ŒæŠŠæ‰€æœ‰ç›®æ ‡æ³¨å†Œåˆ°Consulä¸­ï¼Œç„¶åè¯»å–Consulç”Ÿæˆç›‘æ§å¯¹è±¡åˆ—è¡¨å³å¯ã€‚</li>\n</ul><p>è¿™å°±æ˜¯Prometheusæ”¯æŒçš„å‡ ä¸ªä¸»è¦çš„æœåŠ¡å‘ç°æœºåˆ¶ï¼Œå½“ç„¶è¿˜æœ‰å…¶ä»–æ–¹å¼ï¼Œä½†ç”¨å¾—æ²¡é‚£ä¹ˆå¤šï¼Œè¿™é‡Œå°±å…ˆä¸ä»‹ç»äº†ã€‚</p><h2>åŸºäºé…ç½®æ–‡ä»¶çš„ç®¡ç†æ–¹å¼</h2><p>Prometheusçš„å‘Šè­¦è§„åˆ™ç®¡ç†ã€è®°å½•è§„åˆ™ç®¡ç†ã€æŠ“å–é…ç½®ç®¡ç†ä¸å‘é€ç­–ç•¥ç®¡ç†ï¼Œå…¨éƒ¨æ˜¯åŸºäºé…ç½®æ–‡ä»¶çš„ï¼Œè¿™è™½ç„¶ä¸æ˜¯ä¸€ä¸ªå…³é”®è®¾è®¡ï¼Œä½†ç¡®å®æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç‰¹è‰²çš„è®¾è®¡ï¼Œæˆ‘ä»¬ä¹Ÿç®€å•èŠä¸€ä¸‹ã€‚</p><p>è¿™ä¸ªæ–¹å¼æœ‰ä¸¤ä¸ªå¥½å¤„ï¼Œä¸€ä¸ªæ˜¯ç®€å•ï¼Œç®€å•åˆ°ä»¤äººå‘æŒ‡ï¼Œå¾ˆå¤šç›‘æ§ç³»ç»Ÿéƒ½æ˜¯ä½¿ç”¨æ•°æ®åº“æ¥å­˜å‚¨å„ç±»é…ç½®çš„ï¼ŒPrometheusåˆ™ç›´æ¥ä½¿ç”¨Yamlæ–‡ä»¶ï¼Œéå¸¸ç›´è§‚ã€‚ç¬¬äºŒä¸ªå¥½å¤„å°±æ˜¯ä¾¿äºè‡ªåŠ¨åŒ–ï¼Œé…åˆé…ç½®ç®¡ç†å·¥å…·ã€Gitã€Kubernetesç­‰ï¼Œä¸ Infrastructure as Code çš„ç®¡ç†é£æ½®éå¸¸å¥‘åˆã€‚</p><p>å½“ç„¶ï¼Œè¿™æ ·ç®¡ç†ä¹Ÿæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ä¸ä¾¿äºå…¬å¸çº§åä½œï¼Œæ¯”å¦‚å…¬å¸æœ‰30æ¡ä¸šåŠ¡çº¿ï¼Œæ•°ç™¾ä¸ªæœåŠ¡ï¼Œä¸Šåƒä¸ªç ”å‘ï¼Œå¤§å®¶éƒ½æ¥ç®¡ç†ä¸€å¥—é…ç½®ï¼Œä¼šéå¸¸æ··ä¹±ã€‚æ‰€ä»¥å¾ˆå¤šå…¬å¸çš„åšæ³•æ˜¯ç”±ä¸€ä¸ªä¸“èŒçš„è¿ç»´å›¢é˜Ÿæ¥ç®¡ç†è¿™å¥—é…ç½®ï¼Œå…¶ä»–ä¸šåŠ¡çº¿ç ”å‘æœ‰éœ€æ±‚äº†å°±ç»™è¿™ä¸ªè¿ç»´å›¢é˜Ÿæå·¥å•ï¼Œè¿™ç§åšæ³•ä¹Ÿå‡‘åˆèƒ½ç”¨ï¼Œåªæ˜¯è‹¦äº†è¿™ä¸ªè¿ç»´å›¢é˜Ÿï¼Œå›¢é˜Ÿæˆå‘˜æ¯”è¾ƒå®¹æ˜“äº§ç”Ÿç„¦èºæƒ…ç»ªã€‚</p><p>å¦å¤–ï¼ŒPrometheus é»˜è®¤æ˜¯å•æœºæ—¶åºå­˜å‚¨ï¼Œå®¹é‡æœ‰ä¸Šé™ï¼ŒåŸºäºé…ç½®ç®¡ç†çš„é—®é¢˜å’Œå®¹é‡é—®é¢˜ï¼Œæˆ‘ä¸ªäººéå¸¸å»ºè®®é‚£äº›æ¨è¡ŒDevOpsçš„å›¢é˜Ÿæ¥ä½¿ç”¨ï¼Œè€Œä¸”æ˜¯æ¯ä¸ªå›¢é˜Ÿè‡ªå·±æœ‰ä¸€å¥—å•ç‹¬çš„Prometheusï¼Œäº’ä¸å¹²æ‰°ï¼Œæ­£æ‰€è°“â€œYou build it. You Run it. You monitor it. You own it.â€</p><p>å½“ç„¶ï¼Œè¿™æ ·ä¹Ÿä¼šå¸¦æ¥é—®é¢˜ï¼Œæœ€å…¸å‹çš„æ˜¯æ•°æ®å­¤å²›é—®é¢˜ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥æŠŠå„ä¸ªPrometheusä¸­çš„æ ¸å¿ƒå…³é”®æŒ‡æ ‡æŠ½å–åˆ°ä¸€ä¸ªç»Ÿä¸€çš„åœ°æ–¹æ¥å‘ˆç°ï¼Œæ¯”å¦‚ä½¿ç”¨Prometheusè”é‚¦æœºåˆ¶ï¼Œ<strong>åªå…±äº«æ ¸å¿ƒæŒ‡æ ‡</strong>ï¼Œå…¶ä½™æŒ‡æ ‡ä¸éœ€è¦æŠ½å–åˆ°ä¸­å¿ƒï¼Œè‡ªå·±å›¢é˜Ÿæ¶ˆåŒ–å°±å¥½ã€‚</p><p>å½“ç„¶ï¼Œåé¢ç¬¬8è®²æˆ‘ä»¬ä¹Ÿä¼šä½¿ç”¨ Nightingale æ¥å¢å¼º Prometheus çš„é…ç½®ç®¡ç†é—®é¢˜ï¼Œç®—æ˜¯å¦ä¸€ä¸ªæ€è·¯ã€‚</p><h2>çµæ´»çš„æŸ¥è¯¢è¯­è¨€</h2><p>PromQLï¼ˆPrometheus Query Languageï¼‰æ˜¯ Prometheus çš„æŸ¥è¯¢è¯­è¨€ï¼Œéå¸¸çµæ´»ã€‚è¿™ä¹Ÿæ˜¯ Prometheus çš„ä¸€ä¸ªå…³é”®è®¾è®¡ã€‚</p><p>å¾ˆå¤šè€ä¸€ä»£ç›‘æ§ç³»ç»Ÿéƒ½åªèƒ½å¯¹æ•°æ®åšç®€å•è¿‡æ»¤åˆ¤æ–­é˜ˆå€¼ï¼Œæ²¡æœ‰QLçš„æ”¯æŒã€‚å½“æˆ‘ä»¬æƒ³è¦æŸä¸ªæ•°æ®å´å‘ç°æ²¡æœ‰çš„æ—¶å€™ï¼Œå°±å¤©ç„¶å€¾å‘äºåœ¨é‡‡é›†ä¾§å¤„ç†ï¼Œä½†æ˜¯<strong>é‡‡é›†ä¾§æ˜¯æ— æ³•ç©·ä¸¾æ‰€æœ‰è®¡ç®—åœºæ™¯çš„ï¼Œé‡‡é›†ä¾§åº”è¯¥é‡‡é›†åŸå§‹æ•°æ®ï¼Œåç»­çš„äºŒæ¬¡è®¡ç®—è¿˜æ˜¯åº”è¯¥æ”¾åˆ°ä¸­å¿ƒæ¥æå®š</strong>ã€‚</p><p>æ¯”å¦‚æœºå™¨çš„å†…å­˜æŒ‡æ ‡ï¼Œæˆ‘ä»¬å¯ä»¥ä» <code>cat /proc/meminfo</code> ä¸­çœ‹åˆ°å¾ˆå¤šå†…å­˜ç›¸å…³çš„ç›‘æ§æŒ‡æ ‡ï¼Œé‡‡é›†å™¨å¯ä»¥è½»æ˜“æ‹¿åˆ°MemAvailableå’ŒMemTotalè¿™æ ·çš„å­—æ®µï¼Œä½†æ˜¯æ“ä½œç³»ç»Ÿä¸ä¼šç›´æ¥æš´éœ²å†…å­˜å¯ç”¨ç‡ï¼Œæ­¤æ—¶å°±éœ€è¦ä½¿ç”¨PromQLï¼šMemAvailable / MemTotal * 100 åšäºŒæ¬¡è®¡ç®—äº†ã€‚å› ä¸ºè¿™ä¸ªåœºæ™¯å¾ˆå¸¸è§ï¼Œæœ‰çš„é‡‡é›†å™¨å°±ç›´æ¥è‡ªåŠ¨åšäº†è®¡ç®—ï¼Œè¾“å‡º mem_available_percent è¿™æ ·çš„æŒ‡æ ‡ã€‚ä½†æ˜¯è¿˜æœ‰å¾ˆå¤šåœºæ™¯æ˜¯ä¸å¥½ç©·ä¸¾çš„ï¼Œä¸‹é¢æˆ‘ä»¬å†ä¸¾ä¸ªä¾‹å­ã€‚</p><p>æœ‰ä¸€äº›ç›‘æ§æ•°æ®çš„é‡‡é›†ï¼Œæ˜¯å®Œå…¨ç”±ç”¨æˆ·é…ç½®å‡ºæ¥çš„ï¼Œæ¯”å¦‚SNMPæ•°æ®é‡‡é›†ï¼Œé‡‡é›†å“ªäº›OIDæ˜¯ç”¨æˆ·é…ç½®çš„ï¼›JMXæ•°æ®é‡‡é›†ï¼Œé‡‡é›†å“ªäº›MBeanã€å“ªäº›Patternä¹Ÿæ˜¯ç”¨æˆ·é…ç½®çš„ã€‚ç›‘æ§é‡‡é›†å™¨å‹æ ¹å°±ä¸çŸ¥é“è¿™äº›æ•°æ®çš„å…·ä½“è¯­ä¹‰ï¼Œåªæœ‰é…ç½®é‡‡é›†è§„åˆ™çš„äººçŸ¥é“ï¼Œè¿™ç§æƒ…å†µæ›´ä¸å¯èƒ½è‡ªåŠ¨è®¡ç®—ï¼Œé‡‡é›†å™¨åªèƒ½é‡‡é›†åŸå§‹æ•°æ®ï¼Œå¦‚æœæœ‰äºŒæ¬¡è®¡ç®—çš„éœ€æ±‚ï¼Œæœ€å¥½æ˜¯è®¾è®¡åˆ°æœåŠ¡ç«¯ï¼Œè®©æœåŠ¡ç«¯æ¥åšã€‚</p><p>PromQLä¸ºäºŒæ¬¡è®¡ç®—æä¾›äº†èƒ½åŠ›æ”¯æŒï¼Œå¤šä¸ªæŒ‡æ ‡çš„å…³è”è®¡ç®—ã€å¤šæ¡ä»¶è”åˆå‘Šè­¦ï¼Œéƒ½å¯ä»¥ç”¨ PromQLæ¥å®ç°ï¼Œä½œä¸ºç°ä»£ç›‘æ§ç³»ç»Ÿï¼ŒQuery Languageå·²ç»æ˜¯å¿…å¤‡è¦æ±‚äº†ã€‚</p><h2>å°ç»“</h2><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»äº†ä¸€äº›Prometheusçš„å…³é”®è®¾è®¡ï¼Œè¿™äº›è®¾è®¡æˆå°±äº†Prometheusã€‚ä¸‹é¢æˆ‘ä»¬å¯¹è¿™ä¸€è®²çš„å†…å®¹åšä¸€ä¸ªç®€å•çš„å›é¡¾ã€‚</p><ul>\n<li>Prometheuséå¸¸æ³¨é‡æ ‡å‡†åˆ¶å®šå’Œç”Ÿæ€å»ºè®¾ï¼Œè€Œä¸”æ ‡å‡†å¾ˆç¨³å®šï¼Œæ²¡æœ‰å˜æ¥å˜å»ï¼Œç¤¾åŒºæœ‰å¾ˆå¤šäººå‚ä¸å…¶ä¸­ï¼Œå…±å»ºæ•´å¥—ç”Ÿæ€ã€‚Prometheusä¸æœŸæœ›è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œä½†æ˜¯å½±å“åŠ›å·¨å¤§ï¼Œå°±æ˜¯å› ä¸ºæ ‡å‡†å’Œç”Ÿæ€çš„å¼ºå¤§ã€‚</li>\n<li>Prometheusä¸»è¦ä½¿ç”¨æ‹‰æ¨¡å¼ï¼Œè¾…ä»¥æ¨æ¨¡å¼ã€‚æˆ‘ä»¬æ¯”è¾ƒäº†æ¨æ‹‰ä¸¤ç§æ¨¡å¼ï¼Œç®€å•æ¥çœ‹ï¼Œæ‹‰æ¨¡å¼ä¾¿äºè§£è€¦ï¼Œæ¨æ¨¡å¼åˆ™æ›´ç®€å•ã€‚ä¸­é—´ä»¶ç›‘æ§é€‚åˆæ‹‰æ¨¡å¼ï¼Œè‡ªç ”æ¨¡å—é€‚åˆæ¨æ¨¡å¼ã€‚å½“ç„¶ï¼Œå¦‚æœæ³¨å†Œä¸­å¿ƒå®Œå¤‡ï¼ŒæœåŠ¡éƒ½æ¥å…¥äº†æ³¨å†Œä¸­å¿ƒï¼ŒæœåŠ¡ç›‘æ§çš„æ•°æ®é‡‡é›†ä¹Ÿå¯ä»¥ä½¿ç”¨æ‹‰æ¨¡å¼ã€‚</li>\n<li>æ‹‰æ¨¡å¼æ›´éœ€è¦ç›‘æ§ç›®æ ‡åŠ¨æ€å‘ç°æœºåˆ¶ï¼Œä¸»è¦ä½¿ç”¨æ‹‰æ¨¡å‹çš„Prometheuså†…ç½®äº†å¤šç§å‘ç°æœºåˆ¶ï¼Œæœ€å¸¸ç”¨çš„æ˜¯åŸºäºé…ç½®æ–‡ä»¶ã€Kubernetesã€å…¬æœ‰äº‘APIã€Consulå››ç§å‘ç°æœºåˆ¶ã€‚</li>\n<li>Prometheusçš„é…ç½®ç®¡ç†éå¸¸ç®€å•ï¼Œç›´æ¥ä½¿ç”¨Yamlæ–‡ä»¶ï¼Œå¾ˆç›´è§‚ï¼Œä¾¿äºæ¨è¡ŒlaCç®¡ç†æ¨¡å¼ï¼Œåªæ˜¯åœ¨å…¬å¸çº§å¤§è§„æ¨¡ååŒçš„æ—¶å€™ä¼šæœ‰äº›ä¸æ–¹ä¾¿ã€‚å½“ç„¶ï¼Œå›½å†…çš„å¤§éƒ¨åˆ†ä¼ä¸šæ²¡æœ‰è·µè¡ŒIaCï¼ŒYamlé…ç½®çš„æ–¹å¼ä¼šç›¸å¯¹éš¾æä¸€äº›ã€‚</li>\n<li>PrometheusæŸ¥è¯¢è¯­è¨€å°±æ˜¯PromQLï¼Œè¿™ä¹Ÿæ˜¯å®ƒæœ€åä¸€ä¸ªå…³é”®è®¾è®¡ï¼Œè®©é‡‡é›†ä¾§ä¸“æ³¨é‡‡é›†ï¼ŒæœåŠ¡ç«¯æä¾›çµæ´»çš„è®¡ç®—èƒ½åŠ›ï¼Œæœ‰äº›åä¼ ç»Ÿçš„ä¼ä¸šéš¾ä»¥æ¥å—è¿™ç§åšæ³•ï¼Œåªæƒ³ç®€å•è¿‡æ»¤æŒ‡æ ‡æ¥é…ç½®é˜ˆå€¼ï¼Œå¾ˆéš¾æŠŠPromQLçš„ä¼˜åŠ¿å‘æŒ¥å‡ºæ¥ï¼Œéå¸¸å¯æƒœã€‚</li>\n</ul><p>æœ€åï¼Œæˆ‘æ•´ç†äº†ä¸€å¼ è„‘å›¾ï¼Œå¸®åŠ©ä½ ç†è§£å’Œè®°å¿†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/71/4b/717634c46dbb97da5484ce6411ef1c4b.jpg?wh=4428x4008\" alt=\"\"></p><h2>äº’åŠ¨æ—¶åˆ»</h2><p>è¿™ä¸€è®²æˆ‘ä»¬ä»‹ç»äº†Prometheusçš„å¤šä¸ªå…³é”®è®¾è®¡ï¼Œå¼„æ‡‚è¿™äº›å†…å®¹éå¸¸é‡è¦ï¼Œæ¯ä¸ªäº§å“éƒ½æœ‰è‡ªå·±æ“…é•¿çš„é¢†åŸŸï¼Œæˆ‘ä»¬è¦å–å„å®¶æ‰€é•¿ä¸ºæˆ‘æ‰€ç”¨ã€‚å¬æˆ‘è¯´äº†è¿™ä¹ˆå¤šï¼Œæœ€åæˆ‘ä¹Ÿæƒ³å¬å¬ä½ çš„çœ‹æ³•å’Œè§è§£ï¼Œä½ è¿˜çŸ¥é“ Prometheus çš„å“ªäº›å…³é”®è®¾è®¡ï¼Œå“ªäº›è®¾è®¡è®©ä½ æ‹æ¡ˆå«ç»æˆ–è®©ä½ éå¸¸éš¾å—ï¼Ÿ</p><p>æ¬¢è¿ä½ ç•™è¨€åˆ†äº«ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™èº«è¾¹çš„æœ‹å‹ï¼Œé‚€ä»–ä¸€èµ·å­¦ä¹ ã€‚æˆ‘ä»¬ä¸‹ä¸€è®²å†è§ï¼</p>","neighbors":{"left":{"article_title":"04ï½œå¦‚ä½•å¿«é€Ÿæ­å»ºPrometheusç³»ç»Ÿï¼Ÿ","id":622190},"right":{"article_title":"06ï½œPromQLæœ‰å“ªäº›å¸¸è§çš„ä½¿ç”¨åœºæ™¯ï¼Ÿ","id":623851}},"comments":[{"had_liked":false,"id":366700,"user_name":"å¶å¤","can_delete":false,"product_type":"c1","uid":1269317,"ip_address":"æ±Ÿè‹","ucode":"B02157854071FA","user_header":"https://static001.geekbang.org/account/avatar/00/13/5e/45/50424a7a.jpg","comment_is_top":false,"comment_ctime":1674092159,"is_pvip":false,"replies":[{"id":133613,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674133159,"ip_address":"å±±ä¸œ","comment_id":366700,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"å¯ä»¥æŠŠPrometheusçš„é…ç½®yamlå’Œå‘Šè­¦è§„åˆ™yamlå•ç‹¬æ”¾åˆ°ä¸€ä¸ªä»£ç ä»“åº“ä¸­ï¼ŒæŠŠè¿™ä¸ªä»“åº“å‘æœ‰éœ€è¦çš„äººå¼€æ”¾ï¼Œå¦‚æœä»–ä»¬æƒ³è¦æ·»åŠ æŸä¸€ä¸ªè§„åˆ™ï¼Œå°±è‡ªå·±ä¿®æ”¹æäº¤PRï¼Œæäº¤PRçš„éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒï¼ŒéªŒè¯æ²¡æœ‰é—®é¢˜ï¼Œprometheus owner å®¡æ ¸PRä¹‹ååˆå¹¶åˆ°masteråˆ†æ”¯ä¸­ï¼Œè¿™ä¸ªæ—¶å€™åœ¨è‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œæˆ‘ä»¬æ˜¯è¿™ä¹ˆåšçš„ï¼Œæ„Ÿè§‰è›®å¥½çš„","like_count":29,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600252,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674133159,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å±±ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1261493,"avatar":"https://static001.geekbang.org/account/avatar/00/13/3f/b5/5fe77e16.jpg","nickname":"ä¸ç»æ„é—´","note":"","ucode":"C39D98697ACB8B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601555,"discussion_content":"é…ç½®ç®¡ç†è¿˜æ˜¯gitå¥½ç”¨ï¼Œåœ¨æœ¬åœ°å­˜æ€ä¹ˆéƒ½ä¼šä¹±ã€‚å“ªæ€•ç”¨æ—¶é—´å‘½å","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675299085,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366638,"user_name":"é‚£æ—¶åˆ»","can_delete":false,"product_type":"c1","uid":1150927,"ip_address":"åŒ—äº¬","ucode":"B0D150856C3A4A","user_header":"https://static001.geekbang.org/account/avatar/00/11/8f/cf/890f82d6.jpg","comment_is_top":false,"comment_ctime":1674008470,"is_pvip":false,"replies":[{"id":133587,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674012362,"ip_address":"åŒ—äº¬","comment_id":366638,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"Prometheus æ•°æ®çš„å­˜å‚¨æŒ‰å†·çƒ­æ•°æ®è¿›è¡Œåˆ†ç¦»ï¼Œæœ€è¿‘çš„æ•°æ®è‚¯å®šæ˜¯çœ‹çš„æœ€å¤šçš„ï¼Œæ‰€ä»¥ç¼“å­˜åœ¨å†…å­˜é‡Œé¢ï¼Œä¸ºäº†é˜²æ­¢å®•æœºè€Œå¯¼è‡´æ•°æ®ä¸¢å¤±å› è€Œå¼•å…¥ wal æ¥åšæ•…éšœæ¢å¤ã€‚æ•°æ®è¶…è¿‡ä¸€å®šé‡ä¹‹åä¼šä»å†…å­˜é‡Œé¢å‰¥ç¦»å‡ºæ¥ä»¥ chunk çš„å½¢å¼å­˜æ”¾åœ¨ç£ç›˜ä¸Šè¿™å°±æ˜¯ head chunkã€‚å¯¹äºæ›´æ—©çš„æ•°æ®ä¼šè¿›è¡Œå‹ç¼©æŒä¹…åŒ–å˜æˆ block å­˜æ”¾åˆ°ç£ç›˜ä¸­ã€‚\n\nå¯¹äº block ä¸­çš„æ•°æ®ç”±äºæ˜¯ä¸ä¼šå˜çš„ï¼Œæ•°æ®è¾ƒä¸ºå›ºå®šï¼Œæ‰€ä»¥æ¯ä¸ª block é€šè¿‡ index æ¥ç´¢å¼•å…¶ä¸­çš„æ•°æ®ï¼Œå¹¶ä¸”ä¸ºäº†åŠ å¿«æ•°æ®çš„æŸ¥è¯¢å¼•ç”¨å€’æ’ç´¢å¼•ï¼Œä¾¿äºå¿«é€Ÿå®šä½åˆ°å¯¹åº”çš„ chunkã€‚","like_count":9,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600099,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674012362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366694,"user_name":"Ishmael","can_delete":false,"product_type":"c1","uid":1312115,"ip_address":"å››å·","ucode":"87CAF00A0BB25A","user_header":"https://static001.geekbang.org/account/avatar/00/14/05/73/89148275.jpg","comment_is_top":false,"comment_ctime":1674064479,"is_pvip":false,"replies":[{"id":133614,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674133189,"ip_address":"å±±ä¸œ","comment_id":366694,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"æˆ‘è§‰å¾—æœ€ç»çš„è¿˜æ˜¯é™åˆ¶å€¼å¿…é¡»ä¸ºfloatè¿™ç‚¹ï¼Œé™åˆ¶æ­»äº†ä¹‹åä¿è¯äº†æ•°æ®çš„é«˜å‹ç¼©åº¦ï¼Œè¿›ä¸€æ­¥ä¿è¯äº†è®¡ç®—æ€§èƒ½å’Œå­˜å‚¨ç©ºé—´çš„èŠ‚çœã€‚åŒæ—¶walå’Œåˆ†çº§å­˜å‚¨ä¹Ÿå¾ˆç»ï¼Œkvè®¾è®¡çš„æ€è·¯ä¹Ÿå¾ˆä¸é”™ã€‚tagè¿™ä¸ªè®¾è®¡åœ¨å®é™…æ¥å…¥ä¸­å¸®äº†å¤§å¿™ã€‚","like_count":5,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600253,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674133189,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å±±ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367165,"user_name":"èƒ¡é£","can_delete":false,"product_type":"c1","uid":3211245,"ip_address":"ä¸Šæµ·","ucode":"D8B4E504C7C9BF","user_header":"https://static001.geekbang.org/account/avatar/00/30/ff/ed/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1674982759,"is_pvip":false,"replies":[{"id":133780,"content":"ğŸ‘ğŸ»","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674987664,"ip_address":"åŒ—äº¬","comment_id":367165,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"åœ¨k8sæ¨¡å¼ä¸‹éƒ¨ç½²ï¼Œé…ç½®é‡‡ç”¨yamlç¼ºç‚¹å°±å‡ºæ¥äº†ï¼Œä¸€å¥—ç¯å¢ƒå¤§å®¶éƒ½æœ‰å¼„ï¼Œæ”¹é”™äº†ï¼Œç”šè‡³ç¼©è¿›å†™é”™äº†éƒ½ä¼šé€ æˆpodé‡å¯å¤±è´¥ã€‚åé¢é‡‡ç”¨servicemonitor&#47;podmonitor æ„Ÿè§‰å°±å¥½å¤šäº†","like_count":1,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":601013,"discussion_content":"ğŸ‘ğŸ»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674987664,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":369816,"user_name":"Ppppppp","can_delete":false,"product_type":"c1","uid":3294642,"ip_address":"æ±Ÿè‹","ucode":"5AD679CC53B6D1","user_header":"https://static001.geekbang.org/account/avatar/00/32/45/b2/24dee83c.jpg","comment_is_top":false,"comment_ctime":1678000980,"is_pvip":false,"replies":[{"id":134882,"content":"é‡‡é›†ä¾§å¯ä»¥å¤„ç†ï¼Œä¹Ÿå¯ä»¥ä¸å¤„ç†ï¼Œå·®åˆ«ä¸å¤ªå¤§ :)","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1678241528,"ip_address":"åŒ—äº¬","comment_id":369816,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"å¯¹äºä¸€äº›ç‰¹æ®Šåœºæ™¯å¯¼è‡´çš„promql 0&#47;0 çš„æƒ…å†µï¼Œåœ¨è€ä¸œå®¶é‡åˆ°è¿‡windowså®ä¾‹ cpuåˆ©ç”¨ç‡å¶å°”å‡ºç°0&#47;0çš„æƒ…å†µã€‚\nè¿™ç§0&#47;0å¥½åƒpromqlæ²¡æœ‰å¾ˆå¥½çš„å¤„ç†æ–¹æ³•ï¼ˆåæ¥æ’æŸ¥é—®é¢˜å¤§æ¦‚ç‡æ˜¯é•œåƒæœ‰bugï¼‰ï¼Œå½“æ—¶æ˜¯ç”¨&quot;or&quot;ä¸´æ—¶è§£å†³äº†é—®é¢˜\nç°åœ¨æƒ³æƒ³ï¼Œé‡‡é›†ä¾§æ˜¯å¦å¯ä»¥åŠ å…¥æ•°æ®é¢„å¤„ç†å‘¢ï¼Ÿæ¯”å¦‚è¯´é‡åˆ°æåº¦ä¸åˆç†çš„æ•°å€¼ç»™ä»–ä¸€ä¸ªé»˜è®¤å€¼ï¼Ÿå¸Œæœ›ç§¦è€å¸ˆè§£ç­” ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":608051,"discussion_content":"é‡‡é›†ä¾§å¯ä»¥å¤„ç†ï¼Œä¹Ÿå¯ä»¥ä¸å¤„ç†ï¼Œå·®åˆ«ä¸å¤ªå¤§ :)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678241528,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":368468,"user_name":"lei","can_delete":false,"product_type":"c1","uid":1855112,"ip_address":"æµ™æ±Ÿ","ucode":"4FFB8B984269FB","user_header":"https://static001.geekbang.org/account/avatar/00/1c/4e/88/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1676363826,"is_pvip":false,"replies":[{"id":134222,"content":"targetå¤šäº†ä¼šæœ‰ç“¶é¢ˆï¼Œå¦‚æœæœ‰ç“¶é¢ˆäº†å¯ä»¥æ‹†åˆ†é‡‡é›†å™¨","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1676439133,"ip_address":"åŒ—äº¬","comment_id":368468,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"åœ¨pullçš„æ—¶å€™æ˜¯å•çº¿ç¨‹è¿˜æ˜¯å¤šçº¿ç¨‹ï¼Œè¿™æ–¹é¢ä¼šå‡ºç°ç“¶é¢ˆå—","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":604804,"discussion_content":"targetå¤šäº†ä¼šæœ‰ç“¶é¢ˆï¼Œå¦‚æœæœ‰ç“¶é¢ˆäº†å¯ä»¥æ‹†åˆ†é‡‡é›†å™¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676439133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367145,"user_name":"Geek_a99361","can_delete":false,"product_type":"c1","uid":3294913,"ip_address":"åŒ—äº¬","ucode":"39020C28C1E851","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/f2kMO4JlbHCfR4tJuibUS1iazgkiaFymkKQgEl69c36cTKXgIMAibrT1SkjTYf5oOvWxcENGFW6eU3efaSGufDLprw/132","comment_is_top":false,"comment_ctime":1674975313,"is_pvip":false,"replies":[{"id":133769,"content":"åé¢çš„ç« èŠ‚ä¼šä»‹ç»å¦‚ä½•æ‰©å±•Prometheusçš„å­˜å‚¨ï¼Œä¸ªäººæ¨èVictoriaMetrics","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674977904,"ip_address":"åŒ—äº¬","comment_id":367145,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"Prometheusä½¿ç”¨æœ¬åœ°å­˜å‚¨çš„æ–¹å¼æœ‰ä¸€äº›å±€é™æ€§ï¼Œè¿œç«¯å­˜å‚¨æœ‰ä»€ä¹ˆæ¨èï¼Ÿæ¯”å¦‚ clickhouseæˆ–è€…influxDB","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600962,"discussion_content":"åé¢çš„ç« èŠ‚ä¼šä»‹ç»å¦‚ä½•æ‰©å±•Prometheusçš„å­˜å‚¨ï¼Œä¸ªäººæ¨èVictoriaMetrics","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674977904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367122,"user_name":"irving","can_delete":false,"product_type":"c1","uid":1221494,"ip_address":"ä¸Šæµ·","ucode":"0147D83F21C9A0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKicaBCtrCtnyCEicU8SZJLgRa9gicmhiaWF5krYdWRHkMbALz3tQBxOOj2Eia4DoQw1Vcvib8N5Vy7jvPg/132","comment_is_top":false,"comment_ctime":1674960468,"is_pvip":false,"replies":[{"id":133772,"content":"æ˜¯æ¨æ¨¡å¼ï¼Œä¸æ˜¯å„ä¸ªpluginéƒ½é…ç½®influxdbçš„åœ°å€ï¼Œæ‰€æœ‰inputçš„pluginéƒ½æ— éœ€é…ç½®influxdbåœ°å€ï¼Œåªè¦é…ç½®ä¸€ä¸ªoutputçš„pluginå†™å…¥åç«¯æ—¶åºåº“å°±å¯ä»¥äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674978199,"ip_address":"åŒ—äº¬","comment_id":367122,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"telegrafæ˜¯æ‹‰æ¨¡å¼å—ï¼Ÿtelegrafä¸­çš„å„ä¸ªpluginéƒ½è¦é…ç½®influxdbçš„åœ°å€ï¼Œåº”è¯¥æ˜¯pushæ¨¡å¼å§","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600965,"discussion_content":"æ˜¯æ¨æ¨¡å¼ï¼Œä¸æ˜¯å„ä¸ªpluginéƒ½é…ç½®influxdbçš„åœ°å€ï¼Œæ‰€æœ‰inputçš„pluginéƒ½æ— éœ€é…ç½®influxdbåœ°å€ï¼Œåªè¦é…ç½®ä¸€ä¸ªoutputçš„pluginå†™å…¥åç«¯æ—¶åºåº“å°±å¯ä»¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674978199,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366743,"user_name":"hshopeful","can_delete":false,"product_type":"c1","uid":1200048,"ip_address":"æ¹–åŒ—","ucode":"EE8D6E0A40607E","user_header":"https://static001.geekbang.org/account/avatar/00/12/4f/b0/ab179368.jpg","comment_is_top":false,"comment_ctime":1674135393,"is_pvip":false,"replies":[{"id":133635,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674262650,"ip_address":"å±±ä¸œ","comment_id":366743,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"åŸºäºgorillaçš„æ—¶åºæ•°æ®å‹ç¼©ç®—æ³•å¾ˆç»å…¸","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600364,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674262650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å±±ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366643,"user_name":"peter","can_delete":false,"product_type":"c1","uid":1058183,"ip_address":"åŒ—äº¬","ucode":"261C3FC001DE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","comment_is_top":false,"comment_ctime":1674010851,"is_pvip":false,"replies":[{"id":133589,"content":"prometheusç”¨goå†™çš„ï¼Œæˆ‘æ²¡åšå…·ä½“ç»Ÿè®¡ï¼Œæ•´ä½“ä»£ç é‡ä¸å¤§","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1001078,"ctime":1674012436,"ip_address":"åŒ—äº¬","comment_id":366643,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100522501,"comment_content":"Q1ï¼šPrometheusæ˜¯ç”¨ä»€ä¹ˆå¼€å‘çš„ï¼ŸJAVAå—ï¼Ÿ\nQ2ï¼šPrometheusä»£ç è§„æ¨¡æœ‰å¤šå¤§ï¼Ÿç™¾ä¸‡è¡Œä»£ç ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001078,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/46/76/67e111da.jpg","nickname":"å·´è¾‰ç‰¹","note":"","ucode":"DCBB150A99548D","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600101,"discussion_content":"prometheusç”¨goå†™çš„ï¼Œæˆ‘æ²¡åšå…·ä½“ç»Ÿè®¡ï¼Œæ•´ä½“ä»£ç é‡ä¸å¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674012436,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366636,"user_name":"æ— åæ— å§“","can_delete":false,"product_type":"c1","uid":2621412,"ip_address":"åŒ—äº¬","ucode":"487BD5AA2CD305","user_header":"https://static001.geekbang.org/account/avatar/00/27/ff/e4/927547a9.jpg","comment_is_top":false,"comment_ctime":1674008395,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"æ¨å’Œæ‹‰ï¼Œæœ‰å¾ˆå¤§åŒºåˆ«","like_count":1},{"had_liked":false,"id":367802,"user_name":"maybe","can_delete":false,"product_type":"c1","uid":1475528,"ip_address":"å¹¿è¥¿","ucode":"93D160F617E750","user_header":"https://static001.geekbang.org/account/avatar/00/16/83/c8/5ce842f6.jpg","comment_is_top":false,"comment_ctime":1675642756,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"è¿˜æœ‰å°±æ˜¯å¤±è”å‘Šè­¦é—®é¢˜ï¼Œæ‹‰æ¨¡å¼å¾ˆå®¹æ˜“æ„ŸçŸ¥åˆ°ç›®æ ‡å¤±è”ã€‚æ¨æ¨¡å¼å°±æ¯”è¾ƒå¤æ‚äº†ï¼Œéœ€è¦å¯¹æ•°æ®ç¼ºå¤±åšå‘Šè­¦ï¼Œæ¯”å¦‚ Prometheus çš„ absent å‡½æ•°ï¼Œabsent å‡½æ•°éœ€è¦æŠŠæŒ‡æ ‡çš„æ¯ä¸ªæ ‡ç­¾éƒ½å†™å…¨ï¼Œæ‰èƒ½è¾¾åˆ°é¢„æœŸæ•ˆæœã€‚è€ŒæŒ‡æ ‡æ•°é‡ä½•æ­¢åƒä¸‡ï¼Œå‡ ä¹ä¸å¯èƒ½å®Œæˆã€‚ è¿™ä¸ªä¸å¤ªæ‡‚","like_count":0},{"had_liked":false,"id":366618,"user_name":"Ecoder","can_delete":false,"product_type":"c1","uid":1489767,"ip_address":"å¹¿ä¸œ","ucode":"9893422FD525F6","user_header":"https://static001.geekbang.org/account/avatar/00/16/bb/67/a798d432.jpg","comment_is_top":false,"comment_ctime":1674000809,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100522501,"comment_content":"Prometheusçš„æ•°æ®æ¨¡å‹å’Œæ—¶åºåº“ä¹Ÿå¾ˆç»å…¸","like_count":0}]}
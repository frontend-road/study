{"id":257533,"title":"10 | åº”ç”¨3ï¼šå¦‚ä½•åœ¨è¯­è¨€ä¸­ç”¨æ­£åˆ™è®©æ–‡æœ¬å¤„ç†èƒ½åŠ›ä¸Šä¸€ä¸ªå°é˜¶ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ä¼Ÿå¿ ã€‚ä»Šå¤©è¦å’Œä½ åˆ†äº«çš„å†…å®¹æ˜¯å¦‚ä½•åœ¨ç¼–ç¨‹è¯­è¨€ä¸­ä½¿ç”¨æ­£åˆ™ï¼Œè®©æ–‡æœ¬å¤„ç†èƒ½åŠ›ä¸Šä¸€ä¸ªå°é˜¶ã€‚</p><p>ç°ä»£ä¸»æµçš„ç¼–ç¨‹è¯­è¨€å‡ ä¹éƒ½å†…ç½®äº†æ­£åˆ™æ¨¡å—ï¼Œå¾ˆå°‘èƒ½è§åˆ°ä¸æ”¯æŒæ­£åˆ™çš„ç¼–ç¨‹è¯­è¨€ã€‚å­¦ä¼šåœ¨ç¼–ç¨‹è¯­è¨€ä¸­ä½¿ç”¨æ­£åˆ™ï¼Œå¯ä»¥æå¤§åœ°æé«˜æ–‡æœ¬çš„å¤„ç†èƒ½åŠ›ã€‚</p><p>åœ¨è¿›è¡Œæ–‡æœ¬å¤„ç†æ—¶ï¼Œæ­£åˆ™è§£å†³çš„é—®é¢˜å¤§æ¦‚å¯ä»¥åˆ†æˆå››ç±»ï¼Œåˆ†åˆ«æ˜¯æ ¡éªŒæ–‡æœ¬å†…å®¹ã€æå–æ–‡æœ¬å†…å®¹ã€æ›¿æ¢æ–‡æœ¬å†…å®¹ã€åˆ‡å‰²æ–‡æœ¬å†…å®¹ã€‚åœ¨è¿™ä¸€èŠ‚é‡Œï¼Œæˆ‘ä¼šä»åŠŸèƒ½åˆ†ç±»å‡ºå‘ï¼Œç»™ä½ è®²è§£åœ¨ä¸€äº›å¸¸è§çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå¦‚ä½•æ­£ç¡®åœ°å®ç°è¿™äº›åŠŸèƒ½ã€‚</p><h2>1.æ ¡éªŒæ–‡æœ¬å†…å®¹</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹æ•°æ®éªŒè¯ï¼Œé€šå¸¸æˆ‘ä»¬åœ¨ç½‘é¡µä¸Šè¾“å…¥çš„æ‰‹æœºå·ã€é‚®ç®±ã€æ—¥æœŸç­‰ï¼Œéƒ½éœ€è¦æ ¡éªŒã€‚æ ¡éªŒçš„ç‰¹ç‚¹åœ¨äºï¼Œæ•´ä¸ªæ–‡æœ¬çš„å†…å®¹è¦ç¬¦åˆæ­£åˆ™ï¼Œæ¯”å¦‚è¦æ±‚è¾“å…¥6ä½æ•°å­—çš„æ—¶å€™ï¼Œè¾“å…¥123456abc å°±æ˜¯ä¸ç¬¦åˆè¦æ±‚çš„ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬ä»¥éªŒè¯æ—¥æœŸæ ¼å¼å¹´æœˆæ—¥ä¸ºä¾‹å­æ¥è®²è§£ï¼Œæ¯”å¦‚2020-01-01ï¼Œæˆ‘ä»¬ä½¿ç”¨æ­£åˆ™\\d{4}-\\d{2}-\\d{2} æ¥éªŒè¯ã€‚</p><h3>Python</h3><p>åœ¨ Python ä¸­ï¼Œæ­£åˆ™çš„åŒ…åæ˜¯ reï¼ŒéªŒè¯æ–‡æœ¬å¯ä»¥ä½¿ç”¨ re.match æˆ– re.search çš„æ–¹æ³•ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•çš„åŒºåˆ«åœ¨äºï¼Œre.match æ˜¯ä»å¼€å¤´åŒ¹é…çš„ï¼Œre.searchæ˜¯ä»æ–‡æœ¬ä¸­æ‰¾å­ä¸²ã€‚ä¸‹é¢æ˜¯è¯¦ç»†çš„è§£é‡Šï¼š</p><pre><code># æµ‹è¯•ç¯å¢ƒ Python3\n&gt;&gt;&gt; import re\n&gt;&gt;&gt; re.match(r'\\d{4}-\\d{2}-\\d{2}', '2020-06-01')\n&lt;re.Match object; span=(0, 10), match='2020-06-01'&gt;\n# è¿™ä¸ªè¾“å‡ºæ˜¯åŒ¹é…åˆ°äº†ï¼ŒèŒƒå›´æ˜¯ä»ä¸‹æ ‡0åˆ°ä¸‹æ ‡10ï¼ŒåŒ¹é…ç»“æœæ˜¯2020-06-01\n# re.search è¾“å‡ºç»“æœä¹Ÿæ˜¯ç±»ä¼¼çš„\n</code></pre><p><strong>åœ¨Pythonä¸­ï¼Œæ ¡éªŒæ–‡æœ¬æ˜¯å¦åŒ¹é…çš„æ­£ç¡®æ–¹å¼<strong><strong>å¦‚ä¸‹æ‰€ç¤º</strong></strong>ï¼š</strong></p><!-- [[[read_end]]] --><pre><code># æµ‹è¯•ç¯å¢ƒ Python3\n&gt;&gt;&gt; import re\n&gt;&gt;&gt; reg = re.compile(r'\\A\\d{4}-\\d{2}-\\d{2}\\Z')  # å»ºè®®å…ˆç¼–è¯‘ï¼Œæé«˜æ•ˆç‡\n&gt;&gt;&gt; reg.search('2020-06-01') is not None\nTrue\n&gt;&gt;&gt; reg.match('2020-06-01') is not None  # ä½¿ç”¨matchæ—¶\\Aå¯çœç•¥\nTrue\n</code></pre><p>å¦‚æœä¸æ·»åŠ  \\A å’Œ \\Z çš„è¯ï¼Œæˆ‘ä»¬å°±å¯èƒ½å¾—åˆ°é”™è¯¯çš„ç»“æœã€‚è€Œé€ æˆè¿™ä¸ªé”™è¯¯çš„ä¸»è¦åŸå› å°±æ˜¯ï¼Œæ²¡æœ‰å®Œå…¨åŒ¹é…ï¼Œè€Œæ˜¯éƒ¨åˆ†åŒ¹é…ã€‚è‡³äºä¸ºä»€ä¹ˆä¸æ¨èç”¨<code>^</code>å’Œ<code>$</code>ï¼Œå› ä¸ºåœ¨å¤šè¡Œæ¨¡å¼ä¸‹ï¼Œå®ƒä»¬çš„åŒ¹é…è¡Œä¸ºä¼šå‘ç°å˜åŒ–ï¼Œç›¸å…³å†…å®¹åœ¨å‰é¢åŒ¹é…æ¨¡å¼ä¸­è®²è§£è¿‡ï¼Œè¦æ˜¯å¿˜è®°äº†ä½ å¯ä»¥è¿”å›å»å›é¡¾ä¸€ä¸‹ã€‚</p><pre><code># é”™è¯¯ç¤ºèŒƒ\n&gt;&gt;&gt; re.match(r'\\d{4}-\\d{2}-\\d{2}', '2020-06-01abc') is not None\nTrue\n&gt;&gt;&gt; re.search(r'\\d{4}-\\d{2}-\\d{2}', 'abc2020-06-01') is not None\nTrue\n</code></pre><h3>Go</h3><p>Goè¯­è¨€ï¼ˆåˆç§°Golangï¼‰æ˜¯Googleå¼€å‘çš„ä¸€ç§é™æ€å¼ºç±»å‹ã€ç¼–è¯‘å‹ã€å¹¶å‘å‹ï¼Œå¹¶å…·æœ‰åƒåœ¾å›æ”¶åŠŸèƒ½çš„ç¼–ç¨‹è¯­è¨€ã€‚åœ¨Goè¯­è¨€ä¸­ï¼Œæ­£åˆ™ç›¸å…³çš„åŒ…æ˜¯ regexpï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´å¯è¿è¡Œçš„ç¤ºä¾‹ã€‚</p><pre><code>package main\n\nimport (\n   &quot;fmt&quot;\n   &quot;regexp&quot;\n)\n\nfunc main() {\n   re := regexp.MustCompile(`\\A\\d{4}-\\d{2}-\\d{2}\\z`)\n   // è¾“å‡º true\n   fmt.Println(re.MatchString(&quot;2020-06-01&quot;))\n}\n</code></pre><p>ä¿å­˜æˆ main.go ï¼Œåœ¨é…ç½®å¥½goç¯å¢ƒçš„å‰æä¸‹ï¼Œç›´æ¥ä½¿ç”¨å‘½ä»¤ go run main.go è¿è¡Œã€‚ä¸æ–¹ä¾¿æœ¬åœ°æ­å»ºGoç¯å¢ƒçš„åŒå­¦ï¼Œå¯ä»¥ç‚¹å‡» <a href=\"https://play.golang.org/p/bTQJe0mT839\">è¿™é‡Œ</a> æˆ– <a href=\"https://repl.it/@twz915/learn-regex#%E6%A0%A1%E9%AA%8C/date.go\">è¿™é‡Œ</a> è¿›è¡Œåœ¨çº¿è¿è¡Œæµ‹è¯•ã€‚</p><p>å¦å¤–ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå’Œ Python è¯­è¨€ä¸åŒï¼Œåœ¨ Go è¯­è¨€ä¸­ï¼Œæ­£åˆ™å°¾éƒ¨æ–­è¨€ä½¿ç”¨çš„æ˜¯ \\zï¼Œè€Œä¸æ˜¯ \\Zã€‚</p><h3>JavaScript</h3><p>åœ¨JavaScriptä¸­æ²¡æœ‰ \\A å’Œ \\zï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>^</code>å’Œ<code>$</code>æ¥è¡¨ç¤ºæ¯è¡Œçš„å¼€å¤´å’Œç»“å°¾ï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒä»¬æ˜¯åŒ¹é…æ•´ä¸ªæ–‡æœ¬çš„å¼€å¤´æˆ–ç»“å°¾ï¼ˆé»˜è®¤ä¸æ˜¯å¤šè¡ŒåŒ¹é…æ¨¡å¼ï¼‰ã€‚åœ¨ JavaScript ä¸­æ ¡éªŒæ–‡æœ¬çš„æ—¶å€™ï¼Œä¸è¦ä½¿ç”¨å¤šè¡ŒåŒ¹é…æ¨¡å¼ï¼Œå› ä¸ºä½¿ç”¨å¤šè¡Œæ¨¡å¼ä¼šæ”¹å˜<code>^</code>å’Œ<code>$</code>çš„åŒ¹é…è¡Œä¸ºã€‚</p><p>JavaScriptä»£ç å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨çš„Consoleä¸­å¾ˆæ–¹ä¾¿åœ°æµ‹è¯•ã€‚ï¼ˆè¿›å…¥æ–¹å¼ï¼šä»»æ„ç½‘é¡µä¸Šç‚¹å‡»é¼ æ ‡å³é”®ï¼Œæ£€æŸ¥ï¼ŒConsoleï¼‰</p><pre><code>// æ–¹æ³•1\n/^\\d{4}-\\d{2}-\\d{2}$/.test(&quot;2020-06-01&quot;)  // true\n\n// æ–¹æ³•2\nvar regex = /^\\d{4}-\\d{2}-\\d{2}$/\n&quot;2020-06-01&quot;.search(regex) == 0  // true\n\n// æ–¹æ³•3\nvar regex = new RegExp(/^\\d{4}-\\d{2}-\\d{2}$/)\nregex.test(&quot;2020-01-01&quot;) // tru\n</code></pre><p>æ–¹æ³•3æœ¬è´¨ä¸Šå’Œæ–¹æ³•1æ˜¯ä¸€æ ·çš„ï¼Œæ–¹æ³•1å†™èµ·æ¥æ›´ç®€æ´ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨ RegExp å¯¹è±¡æ—¶ï¼Œå¦‚æœä½¿ç”¨ g æ¨¡å¼ï¼Œå¯èƒ½ä¼šæœ‰æ„æƒ³ä¸åˆ°çš„ç»“æœï¼Œè¿ç»­è°ƒç”¨ä¼šå‡ºç°ç¬¬äºŒæ¬¡è¿”å› false çš„æƒ…å†µï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p><pre><code>var r = new RegExp(/^\\d{4}-\\d{2}-\\d{2}$/, &quot;g&quot;)\nr.test(&quot;2020-01-01&quot;) // true\nr.test(&quot;2020-01-01&quot;) // false\n</code></pre><p>è¿™æ˜¯å› ä¸º RegExp åœ¨å…¨å±€æ¨¡å¼ä¸‹ï¼Œæ­£åˆ™ä¼šæ‰¾å‡ºæ–‡æœ¬ä¸­çš„æ‰€æœ‰å¯èƒ½çš„åŒ¹é…ï¼Œæ‰¾åˆ°ä¸€ä¸ªåŒ¹é…æ—¶ä¼šè®°ä¸‹ lastIndexï¼Œåœ¨ä¸‹æ¬¡å†æŸ¥æ‰¾æ—¶æ‰¾ä¸åˆ°ï¼ŒlastIndexå˜ä¸º0ï¼Œæ‰€ä»¥æ‰æœ‰ä¸Šé¢ç°è±¡ã€‚</p><pre><code>var regex = new RegExp(/^\\d{4}-\\d{2}-\\d{2}$/, &quot;g&quot;)\nregex.test(&quot;2020-01-01&quot;) // true\nregex.lastIndex // 10\nregex.test(&quot;2020-01-01&quot;) // false\nregex.lastIndex // 0\n\n// ä¸ºäº†åŠ æ·±ç†è§£ï¼Œä½ å¯ä»¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­\nvar regex = new RegExp(/\\d{4}-\\d{2}-\\d{2}/, &quot;g&quot;)\nregex.test(&quot;2020-01-01 2020-02-02&quot;) // true\nregex.lastIndex // 10\nregex.test(&quot;2020-01-01 2020-02-02&quot;) // true\nregex.lastIndex // 21\nregex.test(&quot;2020-01-01 2020-02-02&quot;) // false\n</code></pre><p>ç”±äºæˆ‘ä»¬è¿™é‡Œæ˜¯æ–‡æœ¬æ ¡éªŒï¼Œå¹¶ä¸éœ€è¦æ‰¾å‡ºæ‰€æœ‰çš„ã€‚æ‰€ä»¥è¦è®°ä½ï¼ŒJavaScriptä¸­æ–‡æœ¬æ ¡éªŒåœ¨ä½¿ç”¨ RegExp æ—¶ä¸è¦è®¾ç½® g æ¨¡å¼ã€‚</p><p>å¦å¤–åœ¨ES6ä¸­æ·»åŠ äº†åŒ¹é…æ¨¡å¼ uï¼Œå¦‚æœè¦åœ¨ JavaScript ä¸­åŒ¹é…ä¸­æ–‡ç­‰å¤šå­—èŠ‚çš„ Unicode å­—ç¬¦ï¼Œå¯ä»¥æŒ‡å®šåŒ¹é…æ¨¡å¼ uï¼Œæ¯”å¦‚æµ‹è¯•æ˜¯å¦ä¸ºä¸€ä¸ªå­—ç¬¦ï¼Œå¯ä»¥æ˜¯ä»»æ„Unicodeå­—ç¬¦ï¼Œè¯¦æƒ…å¯ä»¥å‚è€ƒä¸‹é¢çš„ç¤ºä¾‹ï¼š</p><pre><code>/^\\u{1D306}$/u.test(&quot;ğŒ†&quot;) // true\n/^\\u{1D306}$/.test(&quot;ğŒ†&quot;) // false\n/^.$/u.test(&quot;å¥½&quot;) // true\n/^.$/u.test(&quot;å¥½äºº&quot;) // false\n/^.$/u.test(&quot;a&quot;) // true\n/^.$/u.test(&quot;ab&quot;) // false\n</code></pre><h3>Java</h3><p>åœ¨ Java ä¸­ï¼Œæ­£åˆ™ç›¸å…³çš„ç±»åœ¨ java.util.regex ä¸­ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„æ˜¯ Pattern å’Œ Matcherï¼Œ Pattern æ˜¯æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼ŒMatcheræ˜¯åŒ¹é…åˆ°çš„ç»“æœå¯¹è±¡ï¼ŒPattern å’Œ å­—ç¬¦ä¸²å¯¹è±¡å…³è”ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ª Matcherã€‚ä¸‹é¢æ˜¯ Java ä¸­åŒ¹é…çš„ç¤ºä¾‹ï¼š</p><pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nclass Main {\n  public static void main(String[] args) {\n    //æ–¹æ³•1ï¼Œå¯ä»¥ä¸åŠ  \\A å’Œ \\z\n    System.out.println(Pattern.matches(&quot;\\\\d{4}-\\\\d{2}-\\\\d{2}&quot;, &quot;2020-06-01&quot;)); // true\n\n    //æ–¹æ³•2ï¼Œå¯ä»¥ä¸åŠ  \\A å’Œ \\z\n    System.out.println(&quot;2020-06-01&quot;.matches(&quot;\\\\d{4}-\\\\d{2}-\\\\d{2}&quot;)); // true\n    \n    //æ–¹æ³•3ï¼Œå¿…é¡»åŠ ä¸Š \\A å’Œ \\z\n    Pattern pattern = Pattern.compile(&quot;\\\\A\\\\d{4}-\\\\d{2}-\\\\d{2}\\\\z&quot;);\n    System.out.println(pattern.matcher(&quot;2020-06-01&quot;).find()); // true\n  }\n}\n</code></pre><p>Java ä¸­ç›®å‰è¿˜æ²¡æœ‰åŸç”Ÿå­—ç¬¦ä¸²ï¼Œåœ¨ä¹‹å‰è½¬ä¹‰ä¸€èŠ‚è®²è¿‡ï¼Œæ­£åˆ™éœ€è¦ç»è¿‡å­—ç¬¦ä¸²è½¬ä¹‰å’Œæ­£åˆ™è½¬ä¹‰ä¸¤ä¸ªæ­¥éª¤ï¼Œå› æ­¤åœ¨ç”¨åˆ°åæ–œæ‰›çš„åœ°æ–¹ï¼Œæ¯”å¦‚è¡¨ç¤ºæ•°å­—çš„<code>\\d</code>ï¼Œå°±å¾—åœ¨å­—ç¬¦ä¸²ä¸­è¡¨ç¤ºæˆ<code>\\\\d</code>ï¼Œè½¬ä¹‰ä¼šè®©ä¹¦å†™æ­£åˆ™å˜å¾—ç¨å¾®éº»çƒ¦ä¸€äº›ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™éœ€è¦ç•™æ„ä¸€ä¸‹ã€‚</p><p>éƒ¨åˆ†å¸¸è§ç¼–ç¨‹è¯­è¨€æ ¡éªŒæ–‡æœ¬æ–¹å¼ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹é¢çš„è¡¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/e9/13/e97814862f1943b59cf341728f789813.jpg?wh=1356*663\" alt=\"\"></p><h2>2.æå–æ–‡æœ¬å†…å®¹</h2><p>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹æ–‡æœ¬å†…å®¹æå–ï¼Œæ‰€è°“å†…å®¹æå–ï¼Œå°±æ˜¯ä»å¤§æ®µçš„æ–‡æœ¬ä¸­æŠ½å–å‡ºæˆ‘ä»¬å…³å¿ƒçš„å†…å®¹ã€‚æ¯”è¾ƒå¸¸è§çš„ä¾‹å­æ˜¯ç½‘é¡µçˆ¬è™«ï¼Œæˆ–è€…è¯´ä»é¡µé¢ä¸Šæå–é‚®ç®±ã€æŠ“å–éœ€è¦çš„å†…å®¹ç­‰ã€‚å¦‚æœè¦æŠ“å–çš„æ˜¯æŸä¸€ä¸ªç½‘ç«™ï¼Œé¡µé¢æ ·å¼æ˜¯ä¸€æ ·çš„ï¼Œè¦æå–çš„å†…å®¹éƒ½åœ¨åŒä¸€ä¸ªä½ç½®ï¼Œå¯ä»¥ä½¿ç”¨ <a href=\"https://lxml.de/xpathxslt.html\">xpath</a> æˆ– <a href=\"https://pypi.org/project/pyquery/\">jqueryé€‰æ‹©å™¨</a> ç­‰æ–¹å¼ï¼Œå¦åˆ™å°±åªèƒ½ä½¿ç”¨æ­£åˆ™æ¥åšäº†ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥è®²è§£ä¸€ä¸‹å…·ä½“çš„ä¾‹å­ï¼Œè®©ä½ äº†è§£ä¸€ä¸‹æ­£åˆ™æå–æ–‡æœ¬åœ¨ä¸€äº›å¸¸è§çš„ç¼–ç¨‹è¯­è¨€ä¸­çš„ä½¿ç”¨ã€‚</p><h3>Python</h3><p>åœ¨ Python ä¸­æå–å†…å®¹æœ€ç®€å•çš„å°±æ˜¯ä½¿ç”¨ re.findall æ–¹æ³•äº†ï¼Œå½“æœ‰å­ç»„çš„æ—¶å€™ï¼Œä¼šè¿”å›å­ç»„çš„å†…å®¹ï¼Œæ²¡æœ‰å­ç»„æ—¶ï¼Œè¿”å›æ•´ä¸ªæ­£åˆ™åŒ¹é…åˆ°çš„å†…å®¹ã€‚ä¸‹é¢æˆ‘ä»¥æŸ¥æ‰¾æ—¥å¿—çš„å¹´æœˆä¸ºä¾‹è¿›è¡Œè®²è§£ï¼Œå¹´æœˆå¯ä»¥ç”¨æ­£åˆ™ \\d{4}-\\d{2} æ¥è¡¨ç¤ºï¼š</p><pre><code># æ²¡æœ‰å­ç»„æ—¶\n&gt;&gt;&gt; import re\n&gt;&gt;&gt; reg = re.compile(r'\\d{4}-\\d{2}')\n&gt;&gt;&gt; reg.findall('2020-05 2020-06')\n['2020-05', '2020-06']\n\n# æœ‰å­ç»„æ—¶\n&gt;&gt;&gt; reg = re.compile(r'(\\d{4})-(\\d{2})')\n&gt;&gt;&gt; reg.findall('2020-05 2020-06')\n[('2020', '05'), ('2020', '06')]\n</code></pre><p>é€šè¿‡ä¸Šé¢çš„ç¤ºä¾‹ä½ å¯ä»¥çœ‹åˆ°ï¼Œç›´æ¥ä½¿ç”¨ findall æ–¹æ³•æ—¶ï¼Œå®ƒä¼šæŠŠç»“æœå­˜å‚¨åˆ°ä¸€ä¸ªåˆ—è¡¨ï¼ˆæ•°ç»„ï¼‰ä¸­ï¼Œä¸€ä¸‹è¿”å›æ‰€æœ‰åŒ¹é…åˆ°çš„ç»“æœã€‚å¦‚æœæƒ³èŠ‚çº¦å†…å­˜ï¼Œå¯ä»¥é‡‡ç”¨è¿­ä»£å™¨çš„æ–¹å¼æ¥å¤„ç†ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p><pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; reg = re.compile(r'(\\d{4})-(\\d{2})')\n&gt;&gt;&gt; for match in reg.finditer('2020-05 2020-06'):\n...     print('date: ', match[0])  # æ•´ä¸ªæ­£åˆ™åŒ¹é…åˆ°çš„å†…å®¹\n...     print('year: ', match[1])  # ç¬¬ä¸€ä¸ªå­ç»„\n...     print('month:', match[2])  # ç¬¬äºŒä¸ªå­ç»„\n...\ndate:  2020-05\nyear:  2020\nmonth: 05\ndate:  2020-06\nyear:  2020\nmonth: 06\n</code></pre><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å®ç°æ­£åˆ™æ‰¾åˆ°ä¸€ä¸ªï¼Œåœ¨ç¨‹åºä¸­å¤„ç†ä¸€ä¸ªï¼Œä¸éœ€è¦å°†æ‰¾åˆ°çš„æ‰€æœ‰ç»“æœæ„é€ æˆä¸€ä¸ªæ•°ç»„ï¼ˆPythonä¸­çš„åˆ—è¡¨ï¼‰ã€‚</p><h3>Go</h3><p>åœ¨ Goè¯­è¨€é‡Œé¢ï¼ŒæŸ¥æ‰¾ä¹Ÿéå¸¸ç®€æ´ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ FindAllString æ–¹æ³•ã€‚å¦‚æœæˆ‘ä»¬æƒ³æ•è·å­ç»„ï¼Œå¯ä»¥ä½¿ç”¨ FindAllStringSubmatch æ–¹æ³•ã€‚</p><pre><code>package main\n\nimport (\n  &quot;fmt&quot;\n  &quot;regexp&quot;\n)\n\nfunc main() {\n  re := regexp.MustCompile(`\\d{4}-\\d{2}`)\n  \n  // è¿”å›ä¸€ä¸ªåˆ‡ç‰‡(å¯åŠ¨æ€æ‰©å®¹çš„æ•°ç»„) [2020-06 2020-07]\n  fmt.Println(re.FindAllString(&quot;2020-06 2020-07&quot;, -1)) \n  \n  // æ•è·å­ç»„çš„æŸ¥æ‰¾ç¤ºä¾‹\n  re2 := regexp.MustCompile(`(\\d{4})-(\\d{2})`)\n  // è¿”å›ç»“æœå’Œä¸Šé¢ Python ç±»ä¼¼\n  for _, match := range re2.FindAllStringSubmatch(&quot;2020-06 2020-07&quot;, -1) {\n     fmt.Println(&quot;date: &quot;, match[0])\n     fmt.Println(&quot;year: &quot;, match[1])\n     fmt.Println(&quot;month:&quot;, match[2])\n  }\n}\n</code></pre><h3>JavaScript</h3><p>åœ¨ JavaScript ä¸­ï¼Œæƒ³è¦æå–æ–‡æœ¬ä¸­æ‰€æœ‰ç¬¦åˆè¦æ±‚çš„å†…å®¹ï¼Œæ­£åˆ™å¿…é¡»ä½¿ç”¨ g æ¨¡å¼ï¼Œå¦åˆ™æ‰¾åˆ°ç¬¬ä¸€ä¸ªç»“æœåï¼Œæ­£åˆ™å°±ä¸ä¼šç»§ç»­å‘åæŸ¥æ‰¾äº†ã€‚</p><pre><code>// ä½¿ç”¨gæ¨¡å¼ï¼ŒæŸ¥æ‰¾æ‰€æœ‰ç¬¦åˆè¦æ±‚çš„å†…å®¹\n&quot;2020-06 2020-07&quot;.match(/\\d{4}-\\d{2}/g)\n// è¾“å‡ºï¼š[&quot;2020-06&quot;, &quot;2020-07&quot;]\n\n// ä¸ä½¿ç”¨gæ¨¡å¼ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªå°±ä¼šåœä¸‹æ¥\n&quot;2020-06 2020-07&quot;.match(/\\d{4}-\\d{2}/)\n// è¾“å‡ºï¼š[&quot;2020-06&quot;, index: 0, input: &quot;2020-06 2020-07&quot;, groups: undefined]\n</code></pre><p>å¦‚æœè¦æŸ¥æ‰¾ä¸­æ–‡ç­‰Unicodeå­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨ u åŒ¹é…æ¨¡å¼ï¼Œä¸‹é¢æ˜¯å…·ä½“çš„ç¤ºä¾‹ã€‚</p><pre><code>'ğŒ†'.match(/\\u{1D306}/ug) // ä½¿ç”¨åŒ¹é…æ¨¡å¼u\n[&quot;ğŒ†&quot;]\n\n'ğŒ†'.match(/\\u{1D306}/g) // ä¸ä½¿ç”¨åŒ¹é…æ¨¡å¼u\nnull\n\n// å¦‚æœä½ å¯¹è¿™ä¸ªç¬¦å·æ„Ÿå…´è¶£ï¼Œå¯ä»¥å‚è€ƒ https://unicode-table.com/cn/1D306\n</code></pre><h3>Java</h3><p>åœ¨ Java ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ Matcher çš„ find æ–¹æ³•æ¥è·å–æŸ¥æ‰¾åˆ°çš„å†…å®¹ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p><pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nclass Main {\n  public static void main(String[] args) {    \n    Pattern pattern = Pattern.compile(&quot;\\\\d{4}-\\\\d{2}&quot;);\n    Matcher match = pattern.matcher(&quot;2020-06 2020-07&quot;);\n    while (match.find()) {\n      System.out.println(match.group());      \n    }\n  }\n}\n</code></pre><p>éƒ¨åˆ†å¸¸è§ç¼–ç¨‹è¯­è¨€æå–æ–‡æœ¬æ–¹å¼ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹é¢çš„è¡¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b1/c9/b14435e91df9454f6fa361b1510ff2c9.jpg?wh=1184*773\" alt=\"\"></p><h2>3.æ›¿æ¢æ–‡æœ¬å†…å®¹</h2><p>æˆ‘ä»¬æ¥ç€æ¥çœ‹ä¸€ä¸‹æ–‡æœ¬å†…å®¹æ›¿æ¢ï¼Œæ›¿æ¢é€šå¸¸ç”¨äºå¯¹åŸæ¥çš„æ–‡æœ¬å†…å®¹è¿›è¡Œä¸€äº›è°ƒæ•´ã€‚ä¹‹å‰æˆ‘ä»¬ä¹Ÿè®²è§£è¿‡ä¸€äº›ä½¿ç”¨æ­£åˆ™è¿›è¡Œæ›¿æ¢çš„ä¾‹å­ï¼Œä»Šå¤©æˆ‘ä»¬å†æ¥äº†è§£ä¸€ä¸‹åœ¨éƒ¨åˆ†å¸¸è§çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œä½¿ç”¨æ­£åˆ™è¿›è¡Œæ–‡æœ¬æ›¿æ¢çš„æ–¹æ³•ã€‚</p><h3>Python</h3><p>åœ¨ Python ä¸­æ›¿æ¢ç›¸å…³çš„æ–¹æ³•æœ‰ re.sub å’Œ re.subnï¼Œåè€…ä¼šè¿”å›æ›¿æ¢çš„æ¬¡æ•°ã€‚ä¸‹é¢æˆ‘ä»¥æ›¿æ¢å¹´æœˆçš„æ ¼å¼ä¸ºä¾‹è¿›è¡Œè®²è§£ï¼Œå‡è®¾åŸå§‹çš„æ—¥æœŸæ ¼å¼æ˜¯æœˆæ—¥å¹´ï¼Œæˆ‘ä»¬è¦å°†å…¶å¤„ç†æˆ xxxxå¹´xxæœˆxxæ—¥çš„æ ¼å¼ã€‚ä½ å¯ä»¥çœ‹åˆ°ï¼Œåœ¨Pythonä¸­æ­£åˆ™æ›¿æ¢æ“ä½œç›¸å…³çš„æ–¹æ³•ï¼Œä½¿ç”¨èµ·æ¥éå¸¸åœ°ç®€å•ã€‚</p><pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; reg = re.compile(r'(\\d{2})-(\\d{2})-(\\d{4})')\n\n&gt;&gt;&gt; reg.sub(r'\\3å¹´\\1æœˆ\\2æ—¥', '02-20-2020 05-21-2020')\n'2020å¹´02æœˆ20æ—¥ 2020å¹´05æœˆ21æ—¥'\n\n# å¯ä»¥åœ¨æ›¿æ¢ä¸­ä½¿ç”¨ \\g&lt;æ•°å­—&gt;ï¼Œå¦‚æœåˆ†ç»„å¤šäº10ä¸ªæ—¶é¿å…æ­§ä¹‰\n&gt;&gt;&gt; reg.sub(r'\\g&lt;3&gt;å¹´\\g&lt;1&gt;æœˆ\\g&lt;2&gt;æ—¥', '02-20-2020 05-21-2020')\n'2020å¹´02æœˆ20æ—¥ 2020å¹´05æœˆ21æ—¥'\n\n# è¿”å›æ›¿æ¢æ¬¡æ•°\n&gt;&gt;&gt; reg.subn(r'\\3å¹´\\1æœˆ\\2æ—¥', '02-20-2020 05-21-2020')\n('2020å¹´02æœˆ20æ—¥ 2020å¹´05æœˆ21æ—¥', 2)\n</code></pre><h3>Go</h3><p>åœ¨ Goè¯­è¨€é‡Œé¢ï¼Œæ›¿æ¢å’ŒPythonä¹Ÿéå¸¸ç±»ä¼¼ï¼Œåªä¸è¿‡å­ç»„æ˜¯ä½¿ç”¨ ${num} çš„æ–¹å¼æ¥è¡¨ç¤ºçš„ã€‚</p><pre><code>package main\n\nimport (\n  &quot;fmt&quot;\n  &quot;regexp&quot;\n)\n\nfunc main() {\n  re := regexp.MustCompile(`(\\d{2})-(\\d{2})-(\\d{4})`)\n\n  // ç¤ºä¾‹ä¸€ï¼Œè¿”å› 2020å¹´02æœˆ20æ—¥ 2020å¹´05æœˆ21æ—¥\n  fmt.Println(re.ReplaceAllString(&quot;02-20-2020 05-21-2020&quot;, &quot;${3}å¹´${1}æœˆ${2}æ—¥&quot;))\n\n  // ç¤ºä¾‹äºŒï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œå› ä¸º&quot;3å¹´&quot;ï¼Œ&quot;1æœˆ&quot;ï¼Œ&quot;2æ—¥&quot; è¿™æ ·çš„å­ç»„ä¸å­˜åœ¨\n  fmt.Println(re.ReplaceAllString(&quot;02-20-2020 05-21-2020&quot;, &quot;$3å¹´$1æœˆ$2æ—¥&quot;))\n  \n  // ç¤ºä¾‹ä¸‰ï¼Œè¿”å› 2020-02-20 2020-05-21\n  fmt.Println(re.ReplaceAllString(&quot;02-20-2020 05-21-2020&quot;, &quot;$3-$1-$2&quot;))\n}\n</code></pre><p>éœ€è¦ä½ æ³¨æ„çš„æ˜¯ï¼Œä¸å»ºè®®æŠŠ <code>$</code>{num} å†™æˆä¸å¸¦èŠ±æ‹¬å·çš„ <code>$</code>numï¼Œæ¯”å¦‚ç¤ºä¾‹äºŒä¸­çš„é”™è¯¯ï¼Œä¼šè®©äººå¾ˆå›°æƒ‘ï¼ŒGoè®¤ä¸ºå­ç»„æ˜¯<code>â€œ3å¹´â€ï¼Œâ€œ1æœˆâ€ï¼Œâ€œ2æ—¥â€</code>ã€‚ ç”±äºè¿™æ ·çš„å­ç»„ä¸å­˜åœ¨ï¼Œæœ€ç»ˆæ›¿æ¢æˆäº†ç©ºå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™è¦æ³¨æ„è¿™ä¸€ç‚¹ã€‚</p><h3>JavaScript</h3><p>åœ¨ JavaScript ä¸­æ›¿æ¢å’ŒæŸ¥æ‰¾ç±»ä¼¼ï¼Œéœ€è¦æŒ‡å®š g æ¨¡å¼ï¼Œå¦åˆ™åªä¼šæ›¿æ¢ç¬¬ä¸€ä¸ªï¼Œå°±åƒä¸‹é¢è¿™æ ·ã€‚</p><pre><code>// ä½¿ç”¨gæ¨¡å¼ï¼Œæ›¿æ¢æ‰€æœ‰çš„\n&quot;02-20-2020 05-21-2020&quot;.replace(/(\\d{2})-(\\d{2})-(\\d{4})/g, &quot;$3å¹´$1æœˆ$2æ—¥&quot;)\n// è¾“å‡º &quot;2020å¹´02æœˆ20æ—¥ 2020å¹´05æœˆ21æ—¥&quot;\n\n// ä¸ä½¿ç”¨ g æ¨¡å¼æ—¶ï¼Œåªæ›¿æ¢ä¸€æ¬¡\n&quot;02-20-2020 05-21-2020&quot;.replace(/(\\d{2})-(\\d{2})-(\\d{4})/, &quot;$3å¹´$1æœˆ$2æ—¥&quot;)\n// è¾“å‡º &quot;2020å¹´02æœˆ20æ—¥ 05-21-2020&quot;\n</code></pre><h3>Java</h3><p>åœ¨ Java ä¸­ï¼Œä¸€èˆ¬æ˜¯ä½¿ç”¨ replaceAll æ–¹æ³•è¿›è¡Œæ›¿æ¢ï¼Œä¸€æ¬¡æ€§æ›¿æ¢æ‰€æœ‰çš„åŒ¹é…åˆ°çš„æ–‡æœ¬ã€‚</p><pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nclass Main {\n  public static void main(String[] args) {\n    //æ–¹æ³•1ï¼Œè¾“å‡º 2020å¹´02æœˆ20æ—¥ 2020å¹´05æœˆ21æ—¥\n    System.out.println(&quot;02-20-2020 05-21-2020&quot;.replaceAll(&quot;(\\\\d{2})-(\\\\d{2})-(\\\\d{4})&quot;, &quot;$3å¹´$1æœˆ$2æ—¥&quot;));\n    \n    //æ–¹æ³•2ï¼Œè¾“å‡º 2020å¹´02æœˆ20æ—¥ 2020å¹´05æœˆ21æ—¥\n    final Pattern pattern = Pattern.compile(&quot;(\\\\d{2})-(\\\\d{2})-(\\\\d{4})&quot;);\n    Matcher match = pattern.matcher(&quot;02-20-2020 05-21-2020&quot;);\n    System.out.println(match.replaceAll(&quot;$3å¹´$1æœˆ$2æ—¥&quot;));\n  }\n}\n</code></pre><p>éƒ¨åˆ†å¸¸è§ç¼–ç¨‹è¯­è¨€æ›¿æ¢æ–‡æœ¬æ–¹å¼ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹é¢çš„è¡¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/98/yy/98603bb41c59dac186bab6dc12a494yy.jpg?wh=1406*739\" alt=\"\"></p><h2>4.åˆ‡å‰²æ–‡æœ¬å†…å®¹</h2><p>æˆ‘ä»¬æœ€åå†æ¥çœ‹ä¸€ä¸‹æ–‡æœ¬å†…å®¹åˆ‡å‰²ï¼Œé€šå¸¸åˆ‡å‰²ç”¨äºå˜é•¿çš„ç©ºç™½ç¬¦å·ï¼Œå¤šå˜çš„æ ‡ç‚¹ç¬¦å·ç­‰ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥è®²è§£ä¸€ä¸‹å…·ä½“çš„ä¾‹å­ï¼Œè®©ä½ äº†è§£ä¸€ä¸‹æ­£åˆ™åˆ‡å‰²æ–‡æœ¬åœ¨éƒ¨åˆ†å¸¸è§ç¼–ç¨‹è¯­è¨€ä¸­çš„ä½¿ç”¨ã€‚</p><h3>Python</h3><p>åœ¨ Python ä¸­åˆ‡å‰²ç›¸å…³çš„æ–¹æ³•æ˜¯ re.splitã€‚å¦‚æœæˆ‘ä»¬æœ‰æŒ‰ç…§ä»»æ„ç©ºç™½ç¬¦åˆ‡å‰²çš„éœ€æ±‚ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²çš„ split æ–¹æ³•ï¼Œä¸ä¼ ä»»ä½•å‚æ•°æ—¶å°±æ˜¯æŒ‰ä»»æ„è¿ç»­ä¸€åˆ°å¤šä¸ªç©ºç™½ç¬¦åˆ‡å‰²ã€‚</p><pre><code># ä½¿ç”¨å­—ç¬¦ä¸²çš„åˆ‡å‰²æ–¹æ³•\n&gt;&gt;&gt; &quot;a b  c\\n\\nd\\t\\n \\te&quot;.split()\n['a', 'b', 'c', 'd', 'e']\n</code></pre><p>ä½¿ç”¨æ­£åˆ™è¿›è¡Œåˆ‡å‰²ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦é€šè¿‡æ ‡ç‚¹ç¬¦å·åˆ‡å‰²ï¼Œå¾—åˆ°æ‰€æœ‰çš„å•è¯ï¼ˆè¿™é‡Œç®€å•ä½¿ç”¨éå•è¯ç»„æˆå­—ç¬¦æ¥è¡¨ç¤ºï¼‰ã€‚</p><pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; reg = re.compile(r'\\W+')\n&gt;&gt;&gt; reg.split(&quot;apple, pear! orange; tea&quot;)\n['apple', 'pear', 'orange', 'tea']\n\n# é™åˆ¶åˆ‡å‰²æ¬¡æ•°ï¼Œæ¯”å¦‚åˆ‡ä¸€åˆ€ï¼Œå˜æˆä¸¤éƒ¨åˆ†\n&gt;&gt;&gt; reg.split(&quot;apple, pear! orange; tea&quot;, 1)\n['apple', 'pear! orange; tea']\n</code></pre><h3>Go</h3><p>åœ¨ Goè¯­è¨€é‡Œé¢ï¼Œåˆ‡å‰²æ˜¯ Split æ–¹æ³•ï¼Œå’Œ Python éå¸¸åœ°ç±»ä¼¼ï¼Œåªä¸è¿‡Goè¯­è¨€ä¸­è¿™ä¸ªæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¿…ä¼ çš„ï¼Œå¦‚æœä¸é™åˆ¶æ¬¡æ•°ï¼Œæˆ‘ä»¬ä¼ å…¥ -1 å³å¯ã€‚</p><pre><code>package main\n\nimport (\n  &quot;fmt&quot;\n  &quot;regexp&quot;\n)\n\nfunc main() {\n  re := regexp.MustCompile(`\\W+`)\n  \n  // è¿”å› []string{&quot;apple&quot;, &quot;pear&quot;, &quot;orange&quot;, &quot;tea&quot;}\n  fmt.Printf(&quot;%#v&quot;, re.Split(&quot;apple, pear! orange; tea&quot;, -1)\n}\n</code></pre><p>ä½†åœ¨Goè¯­è¨€ä¸­ï¼Œæœ‰ä¸ªåœ°æ–¹å’Œ Python ä¸å¤ªä¸€æ ·ï¼Œå°±æ˜¯ä¼ å…¥çš„ç¬¬äºŒä¸ªå‚æ•°ä»£è¡¨åˆ‡å‰²æˆå‡ ä¸ªéƒ¨åˆ†ï¼Œè€Œä¸æ˜¯åˆ‡å‰²å‡ åˆ€ã€‚</p><pre><code>// è¿”å› []string{&quot;apple&quot;, &quot;pear! orange; tea&quot;}\nfmt.Printf(&quot;%#v\\n&quot;, re.Split(&quot;apple, pear! orange; tea&quot;, 2))\n\n\n// è¿”å› []string{&quot;apple&quot;}\nfmt.Printf(&quot;%#v\\n&quot;, re.Split(&quot;apple&quot;, 2))\n</code></pre><p>è¿™é‡Œæœ‰ä¸€ä¸ª<a href=\"https://play.golang.org/p/4VsBKxxXzYp\">åœ¨çº¿æµ‹è¯•é“¾æ¥</a>ï¼Œä½ å¯ä»¥å°è¯•ä¸€ä¸‹ã€‚</p><h3>JavaScript</h3><p>åœ¨ JavaScript ä¸­ï¼Œæ­£åˆ™çš„åˆ‡å‰²å’Œåˆšåˆšè®²è¿‡çš„ Python å’Œ Go æœ‰äº›ç±»ä¼¼ï¼Œä½†åˆæœ‰åŒºåˆ«ã€‚å½“ç¬¬äºŒä¸ªå‚æ•°æ˜¯2çš„æ—¶å€™ï¼Œè¡¨ç¤ºåˆ‡å‰²æˆ2ä¸ªéƒ¨åˆ†ï¼Œè€Œä¸æ˜¯åˆ‡2åˆ€ï¼ˆGoå’ŒJavaä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼‰ï¼Œä½†æ•°ç»„çš„å†…å®¹ä¸æ˜¯ apple åé¢çš„å‰©ä½™éƒ¨åˆ†ï¼Œè€Œæ˜¯å…¨éƒ¨åˆ‡å‰²ä¹‹åçš„ pearï¼Œä½ å¯ä»¥æ³¨æ„æ¯”è¾ƒä¸€ä¸‹ã€‚</p><pre><code>&quot;apple, pear! orange; tea&quot;.split(/\\W+/)\n// è¾“å‡ºï¼š[&quot;apple&quot;, &quot;pear&quot;, &quot;orange&quot;, &quot;tea&quot;]\n\n// ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°çš„æƒ…å†µ\n&quot;apple, pear! orange; tea&quot;.split(/\\W+/, 1)\n// è¾“å‡º [&quot;apple&quot;]\n&quot;apple, pear! orange; tea&quot;.split(/\\W+/, 2)\n// è¾“å‡º [&quot;apple&quot;, &quot;pear&quot;]\n&quot;apple, pear! orange; tea&quot;.split(/\\W+/, 10)\n// è¾“å‡º [&quot;apple&quot;, &quot;pear&quot;, &quot;orange&quot;, &quot;tea&quot;]\n</code></pre><h3>Java</h3><p>Javaä¸­åˆ‡å‰²ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œç”±äºæ²¡æœ‰åŸç”Ÿå­—ç¬¦ä¸²ï¼Œè½¬ä¹‰ç¨å¾®éº»çƒ¦ç‚¹ã€‚</p><pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nclass Main {\n  public static void main(String[] args) {\n    Pattern pattern = Pattern.compile(&quot;\\\\W+&quot;);\n    for(String s : pattern.split(&quot;apple, pear! orange; tea&quot;)) {\n      System.out.println(s);\n    }\n  }\n}\n</code></pre><p>åœ¨ Java ä¸­ï¼Œä¹Ÿå¯ä»¥ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œç±»ä¼¼äº Go çš„ç»“æœã€‚</p><pre><code>pattern.split(&quot;apple, pear! orange; tea&quot;, 2)\n// è¿”å› &quot;apple&quot; å’Œ &quot;pear! orange; tea&quot;\n</code></pre><p>éƒ¨åˆ†å¸¸è§ç¼–ç¨‹è¯­è¨€åˆ‡å‰²æ–‡æœ¬æ–¹å¼ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹é¢çš„è¡¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/67/56/6708a65e269e645abb9c6ca85b5a4b56.jpg?wh=1383*560\" alt=\"\"></p><h2>æ€»ç»“</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„å†…å®¹è®²å®Œäº†ï¼Œæˆ‘æ¥å¸¦ä½ æ€»ç»“å›é¡¾ä¸€ä¸‹ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬å­¦ä¹ äº†æ­£åˆ™è§£å†³çš„é—®é¢˜å¤§æ¦‚å¯ä»¥åˆ†æˆå››ç±»ï¼Œåˆ†åˆ«æ˜¯æ ¡éªŒæ–‡æœ¬å†…å®¹ã€æå–æ–‡æœ¬å†…å®¹ã€æ›¿æ¢æ–‡æœ¬å†…å®¹ã€åˆ‡å‰²æ–‡æœ¬å†…å®¹ã€‚ä»è¿™å››ä¸ªåŠŸèƒ½å‡ºå‘ï¼Œæˆ‘ä»¬å­¦ä¹ äº†åœ¨ä¸€äº›å¸¸è§çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå¦‚ä½•æ­£ç¡®åœ°ä½¿ç”¨ç›¸åº”çš„æ–¹æ³•æ¥å®ç°è¿™äº›åŠŸèƒ½ã€‚è¿™äº›æ–¹æ³•éƒ½æ¯”è¾ƒè¯¦ç»†ï¼Œå¸Œæœ›ä½ èƒ½å¤Ÿè®¤çœŸç»ƒä¹ ï¼ŒæŒæ¡å¥½è¿™äº›æ–¹æ³•ã€‚</p><p>æˆ‘ç»™ä½ æ€»ç»“äº†ä¸€ä¸ªä»Šå¤©æ‰€è®²å†…å®¹çš„è¯¦ç»†è„‘å›¾ï¼Œä½ å¯ä»¥é•¿æŒ‰ä¿å­˜ä¸‹æ¥ï¼Œç»å¸¸å›é¡¾ä¸€ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/f1/25/f1d925e4795e1310886aaf82caf42325.png?wh=1446*1596\" alt=\"\"></p><h2>è¯¾åæ€è€ƒ</h2><p>æœ€åï¼Œæˆ‘ä»¬æ¥åšä¸€ä¸ªå°ç»ƒä¹ å§ã€‚å¾ˆå¤šç½‘é¡µä¸ºäº†é˜²æ­¢çˆ¬è™«ï¼Œå–œæ¬¢æŠŠé‚®ç®±é‡Œé¢çš„ @ ç¬¦å·æ›¿æ¢æˆ # ç¬¦å·ï¼Œä½ å¯ä»¥å†™ä¸€ä¸ªæ­£åˆ™ï¼Œå…¼å®¹ä¸€ä¸‹è¿™ç§æƒ…å†µä¹ˆï¼Ÿ</p><pre><code>ä¾‹å¦‚ç½‘é¡µçš„åº•éƒ¨å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š\nè”ç³»é‚®ç®±ï¼šxxx#163.com (è¯·æŠŠ#æ¢æˆ@)\n</code></pre><p>ä½ å¯ä»¥è¯•è¯•è‡ªå·±åŠ¨æ‰‹ï¼Œä½¿ç”¨ä½ ç†Ÿæ‚‰çš„ç¼–ç¨‹è¯­è¨€ï¼Œæµ‹è¯•ä¸€ä¸‹ä½ å†™çš„æ­£åˆ™èƒ½ä¸èƒ½æå–å‡ºè¿™ç§â€œé˜²çˆ¬â€çš„é‚®ç®±ã€‚</p><p>å¥½ï¼Œä»Šå¤©çš„è¯¾ç¨‹å°±ç»“æŸäº†ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°ä½ ï¼Œä¹Ÿå¸Œæœ›ä½ åœ¨ä¸‹æ–¹çš„ç•™è¨€åŒºå’Œæˆ‘å‚ä¸è®¨è®ºï¼Œå¹¶æŠŠæ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ï¼Œä¸€èµ·äº¤æµä¸€ä¸‹ã€‚</p>","comments":[{"had_liked":false,"id":232362,"user_name":"134","can_delete":false,"product_type":"c1","uid":1785968,"ip_address":"","ucode":"869C2482D194F6","user_header":"https://static001.geekbang.org/account/avatar/00/1b/40/70/d14f653e.jpg","comment_is_top":false,"comment_ctime":1593966869,"is_pvip":false,"replies":[{"id":"85765","content":"èµï¼Œè¿™çœŸçš„æ˜¯ä¸€ä¸ªç‰¹åˆ«å¥½çš„æ–¹æ³•ã€‚<br>é‡åˆ°æœ¬æ–‡æ€è€ƒé¢˜ç›®ç±»ä¼¼çš„é—®é¢˜ï¼Œå¾ˆå¤šåŒå­¦å¯èƒ½ä¸€ä¸Šæ¥å°±æƒ³ï¼Œæˆ‘è¦ä¸€å±•èº«æ‰‹ï¼Œæƒ³å‡ºä¸€ä¸ªæ­£åˆ™ï¼Œå…¼å®¹ @ å’Œ # ä¸¤ç§æƒ…å†µï¼Œå½“ç„¶è‚¯å®šèƒ½å†™å‡ºæ¥ï¼Œä¹Ÿä¸éš¾ã€‚<br>ä½†æå‰å¯¹æ–‡æœ¬è¿›è¡Œé¢„å¤„ç†ï¼ŒæŠŠæ‚ä¹±çš„æ–‡æœ¬æ¸…æ´—å¹²å‡€ï¼Œç„¶åå†ä½¿ç”¨æ­£åˆ™æ¥æå–æ˜¯ä¸€ç§éå¸¸å¥½çš„æ€è·¯ï¼Œé€šå¸¸ä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ï¼Œæ¯”è´¹å°½å¿ƒæ€æƒ³ç€æ€ä¹ˆç”¨æ­£åˆ™æ¥å…¼å®¹å„ç§æƒ…å†µçš„åŠæ³•è¦æ›´å¥½ï¼Œä¹Ÿæ›´æ¨èè¿™ä¹ˆåšã€‚","user_name":"ä½œè€…å›å¤","comment_id":232362,"uid":"1112089","ip_address":"","utype":1,"ctime":1593998441,"user_name_real":"ä¼Ÿå¿ "}],"discussion_count":2,"race_medal":0,"score":"78903378197","product_id":100053301,"comment_content":"&quot;xxx#163.com&quot;.replace(&#47;#&#47;,&#39;@&#39;)","like_count":18,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"ä¼Ÿå¿ ","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500612,"discussion_content":"èµï¼Œè¿™çœŸçš„æ˜¯ä¸€ä¸ªç‰¹åˆ«å¥½çš„æ–¹æ³•ã€‚\né‡åˆ°æœ¬æ–‡æ€è€ƒé¢˜ç›®ç±»ä¼¼çš„é—®é¢˜ï¼Œå¾ˆå¤šåŒå­¦å¯èƒ½ä¸€ä¸Šæ¥å°±æƒ³ï¼Œæˆ‘è¦ä¸€å±•èº«æ‰‹ï¼Œæƒ³å‡ºä¸€ä¸ªæ­£åˆ™ï¼Œå…¼å®¹ @ å’Œ # ä¸¤ç§æƒ…å†µï¼Œå½“ç„¶è‚¯å®šèƒ½å†™å‡ºæ¥ï¼Œä¹Ÿä¸éš¾ã€‚\nä½†æå‰å¯¹æ–‡æœ¬è¿›è¡Œé¢„å¤„ç†ï¼ŒæŠŠæ‚ä¹±çš„æ–‡æœ¬æ¸…æ´—å¹²å‡€ï¼Œç„¶åå†ä½¿ç”¨æ­£åˆ™æ¥æå–æ˜¯ä¸€ç§éå¸¸å¥½çš„æ€è·¯ï¼Œé€šå¸¸ä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ï¼Œæ¯”è´¹å°½å¿ƒæ€æƒ³ç€æ€ä¹ˆç”¨æ­£åˆ™æ¥å…¼å®¹å„ç§æƒ…å†µçš„åŠæ³•è¦æ›´å¥½ï¼Œä¹Ÿæ›´æ¨èè¿™ä¹ˆåšã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593998441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289257,"discussion_content":"æ•°æ®æ¸…æ´—ä¹‹åï¼Œç„¶ååœ¨å¤„ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594041989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":347832,"user_name":"å¾èƒ½","can_delete":false,"product_type":"c1","uid":1667232,"ip_address":"","ucode":"916CBDCBDCB05D","user_header":"https://static001.geekbang.org/account/avatar/00/19/70/a0/e2e7c486.jpg","comment_is_top":false,"comment_ctime":1654497832,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1654497832","product_id":100053301,"comment_content":" @Test<br>    void replace_email_pound_key_with_at_symbol() {<br>        final Pattern pattern = Pattern.compile(&quot;(\\\\W+)(\\\\w+)(@|#)(\\\\d+.[a-z]+)(\\\\W+)&quot;);    <br>        Matcher match = pattern.matcher(&quot;ä¾‹å¦‚ç½‘é¡µçš„åº•éƒ¨å¯èƒ½æ˜¯è¿™æ ·çš„ï¼šè”ç³»é‚®ç®±ï¼šxxx#163.com (è¯·æŠŠ#æ¢æˆ@)&quot;);    <br>        assertEquals(&quot;ä¾‹å¦‚ç½‘é¡µçš„åº•éƒ¨å¯èƒ½æ˜¯è¿™æ ·çš„ï¼šè”ç³»é‚®ç®±ï¼šxxx@163.com (è¯·æŠŠ#æ¢æˆ@)&quot;, match.replaceAll(&quot;$1$2@$4$5&quot;));  <br>    }","like_count":0},{"had_liked":false,"id":334144,"user_name":"Geek_039a5c","can_delete":false,"product_type":"c1","uid":1651848,"ip_address":"","ucode":"08F4FA864D4B65","user_header":"","comment_is_top":false,"comment_ctime":1644763612,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1644763612","product_id":100053301,"comment_content":"    public static void main(String[] args) {<br><br>        String mail = &quot;xxx#163.com&quot;;<br><br>        final Pattern pattern1 = Pattern.compile(&quot;\\\\b([\\\\w.%+-]+)[#@]([\\\\w.-]+\\\\.[a-zA-Z]{2,6})\\\\b&quot;);<br>        Matcher match1 = pattern1.matcher(mail);<br>        System.out.println(match1.replaceAll(&quot;$1@$2&quot;));<br><br>    }","like_count":0},{"had_liked":false,"id":271236,"user_name":"å–æ‚¦","can_delete":false,"product_type":"c1","uid":1327864,"ip_address":"","ucode":"53BA6AB79C3CED","user_header":"https://static001.geekbang.org/account/avatar/00/14/42/f8/9a22b3aa.jpg","comment_is_top":false,"comment_ctime":1609485144,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1609485144","product_id":100053301,"comment_content":"\\w+[@#]\\w+[.]com<br>è¿™ä¸ªå¯¹å—","like_count":0,"discussions":[{"author":{"id":1701572,"avatar":"https://static001.geekbang.org/account/avatar/00/19/f6/c4/e14686d4.jpg","nickname":"shk1230","note":"","ucode":"9E39279C23FF8F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559043,"discussion_content":"\\w+[@#]{1}\\w+[.]{1}\\w+","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648596099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":244458,"user_name":"å°ä¹™å“¥","can_delete":false,"product_type":"c1","uid":1063308,"ip_address":"","ucode":"C77E79BEA0C325","user_header":"https://static001.geekbang.org/account/avatar/00/10/39/8c/089525aa.jpg","comment_is_top":false,"comment_ctime":1598522205,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598522205","product_id":100053301,"comment_content":"pattern = re.compile(r&#39;(\\w+)#(\\w+)&#39;)<br><br>email_str = &#39;xxx#163.com&#39;<br>print(pattern.sub(r&#39;\\1@\\2&#39;, email_str))","like_count":0},{"had_liked":false,"id":240141,"user_name":"JuntÃ­ng","can_delete":false,"product_type":"c1","uid":1039290,"ip_address":"","ucode":"F6A3B528D6F3FD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/db/ba/304a9a4a.jpg","comment_is_top":false,"comment_ctime":1596770428,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596770428","product_id":100053301,"comment_content":"JavaScriipt: <br>let str = &#39;xxx#163.com&#39;;<br>æ–¹å¼1: str.replace(&#47;#&#47;, &#39;@&#39;);<br>æ–¹å¼2: str.replace(&#47;(\\w+)[#@](.\\w+)&#47;g, &#39;$1@$2&#39;);<br>&#39;xxx&amp;163.com,xxx#qq.com&#39;.replace(&#47;(\\w+)[#@&amp;](.\\w+)&#47;g, &#39;$1@$2&#39;);","like_count":0},{"had_liked":false,"id":236200,"user_name":"å•ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1110096,"ip_address":"","ucode":"A443C94A717AD0","user_header":"https://static001.geekbang.org/account/avatar/00/10/f0/50/c348c2ea.jpg","comment_is_top":false,"comment_ctime":1595343224,"is_pvip":false,"replies":[{"id":"87497","content":"å¯ä»¥çš„ï¼Œä¸­æ‹¬å·é‡Œé¢å¤šä¸ªèŒƒå›´ä¸ç”¨é€—å·å“ˆã€‚<br>ä¹Ÿå¯ä»¥è€ƒè™‘çœ‹çœ‹èƒ½ä¸èƒ½è®© \\w ä¸åŒ¹é…æ±‰å­—ï¼Œæ¯”å¦‚è¯•è¯• ASCIIæ¨¡å¼(å¦‚æœæœ‰çš„è¯)","user_name":"ä½œè€…å›å¤","comment_id":236200,"uid":"1112089","ip_address":"","utype":1,"ctime":1595549784,"user_name_real":"ä¼Ÿå¿ "}],"discussion_count":2,"race_medal":0,"score":"1595343224","product_id":100053301,"comment_content":"[a-z,1-9,A-Z]+[#|@][a-z,1-9,A-Z]+.com<br>ä¸€å¼€å§‹æ˜¯å†™è¿™æ ·çš„â€œ\\b(\\w+)(#|@)(\\d+.com)\\bâ€<br>ä½†æ˜¯â€œè”ç³»é‚®ç®±xxx#163.comâ€ï¼Œè¿™æ ·çš„è¯å°±ä¼šå°†ä¸­æ–‡ä¹Ÿæ··åœ¨ä¸€èµ·ï¼Œæ‰€ä»¥è¿«äºæ— å¥ˆæ‰è¿™æ ·å†™â€œ[a-z,1-9,A-Z]â€","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"ä¼Ÿå¿ ","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501981,"discussion_content":"å¯ä»¥çš„ï¼Œä¸­æ‹¬å·é‡Œé¢å¤šä¸ªèŒƒå›´ä¸ç”¨é€—å·å“ˆã€‚\nä¹Ÿå¯ä»¥è€ƒè™‘çœ‹çœ‹èƒ½ä¸èƒ½è®© \\w ä¸åŒ¹é…æ±‰å­—ï¼Œæ¯”å¦‚è¯•è¯• ASCIIæ¨¡å¼(å¦‚æœæœ‰çš„è¯)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595549784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1310798,"avatar":"https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg","nickname":"å´å°æ™º","note":"","ucode":"C7C9F58B5C9F7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293550,"discussion_content":"xxx@a.b.c.com è¿™ç§é‚®ç®±æ€ä¹ˆåŠï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595577609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232511,"user_name":"Robot","can_delete":false,"product_type":"c1","uid":1181473,"ip_address":"","ucode":"7215462D5AC0FA","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/21/b3394aa2.jpg","comment_is_top":false,"comment_ctime":1594024136,"is_pvip":false,"replies":[{"id":"85846","content":"å¯ä»¥çš„ï¼Œå…¶å®é¢˜ç›®çš„æœ¬æ„æ˜¯å…¼å®¹æ–‡æœ¬ä¸­æœ‰ # å’Œ @ ä¸¤ç§æƒ…å†µ","user_name":"ä½œè€…å›å¤","comment_id":232511,"uid":"1112089","ip_address":"","utype":1,"ctime":1594046149,"user_name_real":"ä¼Ÿå¿ "}],"discussion_count":1,"race_medal":0,"score":"1594024136","product_id":100053301,"comment_content":"public static void main(String[] args) {<br>\t\tPattern pattern = Pattern.compile(&quot;[a-zA-Z0-9]+(?:[.-][a-zA-Z0-9]+)*#[a-zA-Z0-9]+(?:[.-][a-zA-Z0-9]+)*\\\\&quot; +<br>\t\t\t\t&quot;.[a-zA-Z]+&quot;);<br><br>\t\tString str = &quot;A spirited debate ensued. sd.xxx#gmail.com You may find it entertaining and educational to &quot; +<br>\t\t\t\t&quot;follow all the various threads. However, I want to focus on one of Markâ€™s replies. He tweeted about a&quot; +<br>\t\t\t\t&quot; blog he had yanleichang-3#vip.163.com written back in 2018. I encourage you to read it. Youâ€™ll learn&quot; +<br>\t\t\t\t&quot; something about testing, static typing, and Haskell. Youâ€™ll also learn something about how to debate&quot; +<br>\t\t\t\t&quot; with good-job#qq.com someone in the future by posting your refutation in the think#163.com&quot;;<br><br>\t\tMatcher matcher = pattern.matcher(str);<br><br>\t\twhile (matcher.find()) {<br>\t\t\tSystem.out.println(matcher.group().replace(&#39;#&#39;,&#39;@&#39;));<br>\t\t}","like_count":0,"discussions":[{"author":{"id":1112089,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f8/19/05a2695f.jpg","nickname":"ä¼Ÿå¿ ","note":"","ucode":"FE77CF20ED6065","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500672,"discussion_content":"å¯ä»¥çš„ï¼Œå…¶å®é¢˜ç›®çš„æœ¬æ„æ˜¯å…¼å®¹æ–‡æœ¬ä¸­æœ‰ # å’Œ @ ä¸¤ç§æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594046149,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
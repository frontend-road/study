{"id":896,"title":"06 | æ¯ä¸ªå·¥ç¨‹å¸ˆéƒ½åº”è¯¥äº†è§£çš„ï¼šèŠèŠå¹‚ç­‰","content":"<p>ä»€ä¹ˆæ˜¯å¹‚ç­‰ï¼ˆIdempotencyï¼‰å‘¢ï¼Ÿç®€å•æ¥è¯´ï¼Œä¸€ä¸ªæ“ä½œå¦‚æœå¤šæ¬¡ä»»æ„æ‰§è¡Œæ‰€äº§ç”Ÿçš„å½±å“ï¼Œå‡ä¸ä¸€æ¬¡æ‰§è¡Œçš„å½±å“ç›¸åŒï¼Œæˆ‘ä»¬å°±ç§°å…¶ä¸ºå¹‚ç­‰ã€‚</p>\n<p>è¿™æ ·è¯´æ¥ï¼Œä¼¼ä¹å¾ˆå®¹æ˜“ç†è§£ï¼›ä½†è¦çŸ¥é“è¿™æ ·çš„å®šä¹‰ï¼Œå…¶å®æ˜¯ä¸€ä¸ªè¯­ä¹‰èŒƒç•´å¯¹è¡Œä¸ºç»“æœçš„å®šä¹‰ã€‚</p>\n<p>å¦‚ä½•ç”¨è¯­æ³•å’Œè§„åˆ™å»ç¡®ä¿è¡Œä¸ºèƒ½è¾¾åˆ°è¿™ä¸ªç»“æœï¼Œå¾€å¾€éœ€è¦å¾ˆè°¨æ…åœ°è®¾è®¡å’Œå®ç°ã€‚å®é™…ç³»ç»Ÿä¸­ï¼Œå¹‚ç­‰æ˜¯ä¸€ä¸ªæä¸ºé‡è¦çš„æ¦‚å¿µï¼Œæ— è®ºæ˜¯åœ¨å¤§å‹äº’è”ç½‘åº”ç”¨è¿˜æ˜¯ä¼ä¸šçº§æ¶æ„ä¸­ï¼Œéƒ½èƒ½è§åˆ° REST API è¢«è¶Šæ¥è¶Šå¤šåœ°é‡‡ç”¨ï¼Œè€Œæ­£ç¡®å®ç°å¹‚ç­‰ï¼Œå¾€å¾€æ˜¯ API ä¸­æœ€éš¾çš„æŠ€æœ¯ç‚¹ä¹‹ä¸€ã€‚</p>\n<p><strong>å…ˆè¯´è¯´ä¸ºä»€ä¹ˆé‡è¦ï¼Œæˆ‘æ¥ä¸¾ä¸€ä¸ªç®€å•æ˜“æ‡‚çš„ä¾‹å­ã€‚</strong></p>\n<p>æ¯”å¦‚ï¼Œä½ è¦å¤„ç†ä¸€æ¬¡ç”µå•†ç½‘ç«™æ”¶æ¬¾æˆ–è€…ä»˜æ¬¾çš„äº¤æ˜“ã€‚å½“ä½ ç»™å¾®ä¿¡æ”¯ä»˜å‘é€è¿™ä¸ªä»˜æ¬¾è¯·æ±‚åï¼Œä¸€ä¸ªé¡ºåˆ©çš„åœºæ™¯æ˜¯ä¸ä¼šæœ‰ä»»ä½•é”™è¯¯å‘ç”Ÿçš„ï¼Œå¾®ä¿¡æ”¯ä»˜æ”¶åˆ°ä½ çš„ä»˜æ¬¾è¯·æ±‚ï¼Œå¤„ç†æ‰€æœ‰è½¬è´¦ï¼Œç„¶åè¿”å›ä¸€ä¸ª HTTP 200 æ¶ˆæ¯è¡¨ç¤ºäº¤æ˜“å®Œæˆã€‚</p>\n<p>é‚£å¦‚æœå‘å‡ºè¯·æ±‚åï¼Œæœ‰ä¸ªè¯·æ±‚è¶…æ—¶ï¼Œä½ å†ä¹Ÿæ²¡æœ‰æ”¶åˆ°å…³äºè¿™ä¸ªè¯·æ±‚æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥çš„å›æ‰§ï¼Œåˆè¯¥å¦‚ä½•å‘¢ï¼Ÿ</p>\n<!-- [[[read_end]]] -->\n<p><strong>è¿™é‡Œå°±æœ‰å¾ˆå¤šç§å¯èƒ½çš„æƒ…å†µã€‚</strong></p>\n<ol>\n<li>è¿™ä¸ªè¯·æ±‚åœ¨åˆ°è¾¾å¾®ä¿¡æ”¯ä»˜ç«¯å‰å°±å·²ç»å‘ç”Ÿè¶…æ—¶ï¼Œå¾®ä¿¡æ”¯ä»˜ä»æ¥æ²¡æœ‰æ”¶åˆ°è¿™æ ·çš„è¯·æ±‚ã€‚</li>\n<li>è¿™ä¸ªè¯·æ±‚åˆ°è¾¾å¾®ä¿¡æ”¯ä»˜ç«¯ï¼Œä½†æ˜¯æ”¯ä»˜äº¤æ˜“å¤±è´¥ï¼Œè¿™æ—¶å‘ç”Ÿè¶…æ—¶ï¼Œå¾®ä¿¡æ”¯ä»˜æ”¶åˆ°è¿™æ ·çš„è¯·æ±‚ï¼Œä½†æ²¡æœ‰å¤„ç†æˆåŠŸã€‚</li>\n<li>è¿™ä¸ªè¯·æ±‚åˆ°è¾¾å¾®ä¿¡æ”¯ä»˜ç«¯ï¼Œå¹¶ä¸”æ”¯ä»˜äº¤æ˜“æˆåŠŸï¼Œè¿™æ—¶å‘ç”Ÿè¶…æ—¶ï¼Œå¾®ä¿¡æ”¯ä»˜æ”¶åˆ°è¿™æ ·çš„è¯·æ±‚ï¼Œå¤„ç†æˆåŠŸï¼Œä½†æ˜¯æ²¡æœ‰å›æ‰§ã€‚</li>\n<li>è¿™ä¸ªè¯·æ±‚åˆ°è¾¾å¾®ä¿¡æ”¯ä»˜ç«¯ï¼Œå¹¶ä¸”æ”¯ä»˜äº¤æ˜“æˆåŠŸï¼Œå¹¶ä¸”å‘å›å›æ‰§ï¼Œç„¶è€Œå› ä¸ºç½‘ç»œåŸå› å›æ‰§ä¸¢å¤±ï¼Œå®¢æˆ·ç«¯è¶…æ—¶ï¼Œå¾®ä¿¡æ”¯ä»˜æ”¶åˆ°è¿™æ ·çš„è¯·æ±‚ï¼Œå¤„ç†æˆåŠŸï¼Œå‘å‡ºå›æ‰§ï¼Œä½†æ˜¯å®¢æˆ·æ²¡æœ‰æ”¶åˆ°ã€‚</li>\n</ol>\n<p>äººä»¬å¾ˆç›´è§‚çš„æƒ³æ³•ï¼Œä¹Ÿæ˜¯ç°å®ä¸­å¼€å‘è€…æœ€å¸¸è§çš„åšæ³•å°±æ˜¯ï¼šé‡æ–°æäº¤ä¸€æ¬¡æ”¯ä»˜è¯·æ±‚ã€‚ä½†æ˜¯è¿™æ ·åšæœ‰ä¸€ä¸ªæ½œåœ¨çš„é—®é¢˜ï¼šè¯·æ±‚è¶…æ—¶æ˜¯ä¸Šé¢çš„å“ªä¸€ç§æƒ…å†µï¼Œä¼šä¸ä¼šå¼•å‘å¤šæ¬¡æ”¯ä»˜çš„å¯èƒ½æ€§ï¼Ÿ</p>\n<p>è¿™å°±æ¶‰åŠç³»ç»Ÿä¸­çš„å¹‚ç­‰æ˜¯å¦‚ä½•å®ç°çš„äº†ã€‚</p>\n<p><strong>é‚£ä¹ˆå¹‚ç­‰åˆè¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ</strong></p>\n<p>é¦–å…ˆæ¥çœ‹ä¸€ä¸‹å¹‚ç­‰çš„å®šä¹‰ï¼šå¤šæ¬¡æ‰§è¡Œæ‰€äº§ç”Ÿçš„å½±å“å‡ä¸ä¸€æ¬¡æ‰§è¡Œçš„å½±å“ç›¸åŒã€‚ç®€è¨€ä¹‹ï¼Œä½ éœ€è¦ä¸€ä¸ªå»é‡çš„æœºåˆ¶ã€‚è¿™å¾€å¾€æœ‰å¾ˆå¤šä¸åŒçš„å®ç°æ–¹æ³•ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªå¾ˆå…³é”®çš„å› ç´ ã€‚</p>\n<p>ç¬¬ä¸€ä¸ªå› ç´ æ˜¯å¹‚ç­‰ä»¤ç‰Œï¼ˆIdempotency Keyï¼‰ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯é€šè¿‡ä»€ä¹ˆæ–¹å¼æ¥è¯†åˆ«ï¼Œè¿™å®é™…ä¸Šæ˜¯åŒä¸€ä¸ªè¯·æ±‚æˆ–æ˜¯åŒä¸€ä¸ªè¯·æ±‚çš„å¤šæ¬¡å°è¯•ã€‚è¿™å¾€å¾€éœ€è¦åŒæ–¹æœ‰ä¸€ä¸ªæ—¢å®šçš„åè®®ï¼Œæ¯”å¦‚è´¦å•å·æˆ–è€…äº¤æ˜“ä»¤ç‰Œï¼Œè¿™ç§åœ¨åŒä¸€ä¸ªè¯·æ±‚ä¸Šå…·å¤‡å”¯ä¸€æ ‡è¯†çš„å…ƒç´ ï¼Œè¿™ç§å…ƒç´ é€šå¸¸ç”±å®¢æˆ·ç«¯ç”Ÿæˆã€‚</p>\n<p>ç¬¬äºŒä¸ªå› ç´ æ˜¯ç¡®ä¿å”¯ä¸€æ€§ï¼ˆUniqueness Guaranteeï¼‰ã€‚æœåŠ¡å™¨ç«¯ç”¨ä»€ä¹ˆæœºåˆ¶å»ç¡®ä¿åŒä¸€ä¸ªè¯·æ±‚ä¸€å®šä¸ä¼šè¢«å¤„ç†ä¸¤æ¬¡ï¼Œä¹Ÿå°±æ˜¯å¾®ä¿¡æ”¯ä»˜å¦‚ä½•ç¡®ä¿ï¼ŒåŒä¸€ç¬”äº¤æ˜“ä¸ä¼šå› ä¸ºå®¢æˆ·ç«¯å‘é€ä¸¤æ¬¡è¯·æ±‚å°±è¢«å¤„ç†å¤šæ¬¡ã€‚</p>\n<p>æœ€å¸¸ç”¨çš„åšæ³•æ˜¯åˆ©ç”¨æ•°æ®åº“ã€‚æ¯”å¦‚æŠŠå¹‚ç­‰ä»¤ç‰Œæ‰€åœ¨çš„æ•°æ®åº“è¡¨çš„åˆ—ä½œä¸ºå”¯ä¸€æ€§ç´¢å¼•ã€‚è¿™æ ·ï¼Œå½“ä½ è¯•å›¾å­˜å‚¨ä¸¤ä¸ªå«æœ‰åŒæ ·ä»¤ç‰Œçš„è¯·æ±‚æ—¶ï¼Œå¿…å®šæœ‰ä¸€ä¸ªä¼šæŠ¥é”™ã€‚æ³¨æ„ï¼Œç®€å•çš„è¯»æ£€æŸ¥å¹¶ä¸ä¸€å®šæˆåŠŸï¼Œå› ä¸ºè¯»ä¸è¯»ä¹‹é—´ä¼šæœ‰ç«äº‰æ¡ä»¶ï¼ˆRace Conditionï¼‰ï¼Œå› æ­¤è¿˜æ˜¯æœ‰å¯èƒ½å‡ºé”™ã€‚</p>\n<p><strong>ä¸€ä¸ªç³»ç»Ÿèƒ½æ­£ç¡®å¤„ç†å’Œå®ç°ä¸Šé¢çš„ä¸¤ä¸ªè¦ç´ ï¼ŒåŸºæœ¬å°±è¾¾åˆ°äº†å¹‚ç­‰çš„éœ€æ±‚ã€‚é‚£ä¹ˆï¼Œç°å®ç³»ç»Ÿä¸­å¸¸è§çš„é—®é¢˜éƒ½å‡ºåœ¨å“ªé‡Œå‘¢ï¼Ÿ</strong></p>\n<p><strong>ä¸€æ˜¯å¹‚ç­‰ä»¤ç‰Œä»€ä¹ˆæ—¶å€™äº§ç”Ÿï¼Œæ€æ ·äº§ç”Ÿã€‚</strong>è¿™ä¸€ç‚¹å¾ˆé‡è¦ã€‚æ‹¿ä¸Šé¢çš„ä¾‹å­æ¥è¯´ï¼Œå°±ç®—å¾®ä¿¡æ”¯ä»˜å¯ä»¥ä¿è¯ï¼Œæ¯ä¸€ä¸ªè¯·æ±‚å¯¹åº”çš„æ”¯ä»˜äº¤æ˜“ä¸€å®šåªä¼šè¢«å¤„ç†ä¸€æ¬¡ï¼Œä½†æ˜¯è¿™ä¸ªè¯·æ±‚çš„å¤šæ¬¡é‡å¤ï¼Œä¸€å®šè¦å…±æœ‰å¾®ä¿¡å¯ä»¥è¯†åˆ«çš„æŸä¸ªæ ‡è¯†ã€‚</p>\n<p>å‡å¦‚å®¢æˆ·ç«¯å¯¹åŒä¸€ç¬”äº¤æ˜“å¤šæ¬¡è¯·æ±‚ï¼Œäº§ç”Ÿçš„å¹‚ç­‰ä»¤ç‰Œå¹¶ä¸ç›¸åŒï¼Œé‚£ä¹ˆæ— è®ºä½ å…¶ä½™çš„åœ°æ–¹å¤šä¹ˆå®Œç¾ï¼Œéƒ½ä¸å¯èƒ½ä¿è¯ â€œä¸€ä¸ªæ“ä½œå¦‚æœå…·æœ‰ä»»æ„å¤šæ¬¡æ‰§è¡Œï¼Œæ‰€äº§ç”Ÿçš„å½±å“å‡ä¸ä¸€æ¬¡æ‰§è¡Œçš„å½±å“ç›¸åŒâ€ã€‚</p>\n<p><strong>äºŒæ˜¯ä»¤ç‰Œæœ‰æ²¡æœ‰è¢«è¯¯åˆ çš„å¯èƒ½ã€‚</strong>è¿™æ˜¯ä¸Šé¢é—®é¢˜çš„ä¸€ä¸ªç‰¹æ®Šæƒ…å†µã€‚å¹‚ç­‰ä»¤ç‰Œæ˜¯ç”±å®¢æˆ·ç«¯ç”Ÿæˆçš„ï¼Œé‚£å¦‚æœç”Ÿæˆçš„ä»¤ç‰Œåœ¨è¢«ä½¿ç”¨åï¼ˆä¸€æ¬¡å¾®ä¿¡æ”¯ä»˜è¯·æ±‚ä¸­ä½¿ç”¨äº†ï¼‰ï¼Œä¸å°å¿ƒå› ä¸ºæ•°æ®åº“å›æ»šï¼ˆDB Rollbackï¼‰ ç­‰åŸå› è¢«åˆ é™¤äº†ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯å°±ä¸çŸ¥é“è‡ªå·±å…¶å®å·²ç»å‘è¿‡ä¸€æ¬¡è¯·æ±‚ã€‚è¿™å°±æœ‰å¯èƒ½ç”Ÿæˆä¸€ä¸ªæ–°çš„è´¦å•ï¼Œå¹¶äº§ç”Ÿå…¨æ–°çš„ä»¤ç‰Œï¼Œè€ŒæœåŠ¡ç«¯å¯¹æ­¤åˆ™ä¸€æ— æ‰€çŸ¥ã€‚</p>\n<p><strong>ä¸‰æ˜¯å„ç§ç«äº‰æ¡ä»¶ã€‚</strong>æˆ‘åœ¨å‰é¢è®²è¿‡ï¼Œç”¨æ•°æ®åº“çš„è¯»æ£€æŸ¥æ¥ç¡®ä¿å”¯ä¸€æ€§ç»å¸¸å› ä¸ºç«äº‰è€Œä¸ç”Ÿæ•ˆï¼Œå…¶å®ä¸€ä¸ªéœ€è¦å¹‚ç­‰çš„ç³»ç»Ÿä¸­ï¼Œä¿è¯å”¯ä¸€æ€§çš„å„ä¸ªç¯èŠ‚å’Œå®ç°ï¼Œéƒ½è¦è€ƒè™‘ç«äº‰æ¡ä»¶ï¼ˆRace Conditionï¼‰ã€‚</p>\n<p><strong>å››æ˜¯å¯¹è¯·æ±‚é‡è¯•çš„å¤„ç†ã€‚</strong>è¿™å¤§éƒ¨åˆ†æ˜¯æœåŠ¡å™¨ç«¯è¦åšçš„å·¥ä½œã€‚ä¸€ä¸ªå¸¸è§çš„æ–¹æ³•æ˜¯ï¼šåŒºåˆ†æ­£åœ¨å¤„ç†çš„è¯·æ±‚ã€å¤„ç†æˆåŠŸå’Œå¤„ç†å¤±è´¥çš„è¯·æ±‚ã€‚è¿™æ ·å½“å®¢æˆ·ç«¯é‡è¯•çš„æ—¶å€™ï¼Œæ ¹æ®æƒ…å†µæˆ–è€…ç›´æ¥è¿”å›ï¼Œæˆ–è€…å†æ¬¡å¤„ç†ã€‚è¿™å°±å¥½åƒä¹‹å‰æåˆ°çš„å¾®ä¿¡æ”¯ä»˜çš„ä¾‹å­ï¼Œå¾®ä¿¡æ”¯ä»˜æœåŠ¡éœ€è¦çŸ¥é“æ¯ä¸€ç¬”äº¤æ˜“çš„å¤„ç†æƒ…å†µï¼Œåªæœ‰è¿™æ ·ï¼Œå½“é¢å¯¹å†æ¬¡è½¬è´¦è¯·æ±‚æ—¶ï¼Œæ‰èƒ½çŸ¥é“åº”è¯¥ç”¨ä»€ä¹ˆæ–¹å¼å»å¤„ç†ç›¸åº”çš„è¯·æ±‚ã€‚</p>\n<p><strong>äº”æ˜¯ä¸€ä¸ªç³»ç»Ÿä¸­éœ€è¦å¤šå±‚å¹‚ç­‰ã€‚</strong>è¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼ŸA å‘é€è¯·æ±‚ç»™ Bï¼ŒB å¤„ç†çš„ä¸€éƒ¨åˆ†æ˜¯è¦å‘é€è¯·æ±‚ç»™å¦ä¸€ä¸ªç³»ç»Ÿ Cï¼ŒC åœ¨å¤„ç†çš„è¿‡ç¨‹ä¸­è¿˜å¯èƒ½éœ€è¦å‘è¯·æ±‚ç»™å¦ä¸€ä¸ªç³»ç»Ÿ D â€¦â€¦ D å¤„ç†å®Œäº†è¿”å›ç»™ Cï¼ŒC è¿”å›ç»™ Bï¼ŒB è¿”å›ç»™ Aã€‚åœ¨è¿™ä¸ªé“¾æ¡ä¸­ï¼Œå¦‚æœ Aã€Bã€Cã€D ä¸­ä»»ä½•ä¸€ä¸ªç³»ç»Ÿæ²¡æœ‰æ­£ç¡®å®ç°å¹‚ç­‰ï¼Œä¹Ÿå°±æ˜¯å‡ºç°äº† â€œå¹‚ç­‰æ¼æ´â€ï¼Œé‚£ä¹ˆä¸€æ¬¡è¯·æ±‚è¿˜æ˜¯æœ‰å¯èƒ½è¢«å¤šæ¬¡æ‰§è¡Œï¼Œäº§ç”ŸåŒºåˆ«äºä¸€æ¬¡æ‰§è¡Œçš„å½±å“ã€‚</p>\n<p>ä»Šå¤©æˆ‘å’Œä½ è®¨è®ºäº†æ¶æ„è®¾è®¡ä¸­çš„å¹‚ç­‰æ¦‚å¿µã€‚æˆ‘ä»¬èŠäº†ä»€ä¹ˆæ˜¯å¹‚ç­‰ï¼Œå¹‚ç­‰çš„åº”ç”¨åœºæ™¯ï¼Œå¦‚ä½•å®ç°ä¸€ä¸ªå¹‚ç­‰åŠŸèƒ½ï¼Œä»¥åŠå¹‚ç­‰ç³»ç»Ÿä¸­å®¹æ˜“å‡ºç°çš„é—®é¢˜ã€‚</p>\n<p>ç°åœ¨å›åˆ°æ–‡ç« çš„å¼€å¤´ï¼Œä»€ä¹ˆæ˜¯å¹‚ç­‰ï¼Ÿä¸€ä¸ªæ“ä½œå¦‚æœä»»æ„å¤šæ¬¡æ‰§è¡Œæ‰€äº§ç”Ÿçš„å½±å“å‡ä¸ä¸€æ¬¡æ‰§è¡Œçš„å½±å“ç›¸åŒï¼Œæˆ‘ä»¬å°±ç§°ä¸ºå¹‚ç­‰ã€‚è¿™æ˜¯ä¸€ä¸ªè¯­ä¹‰èŒƒç•´ä¸Šå¯¹è¡Œä¸ºç»“æœçš„å®šä¹‰ï¼Œåªæœ‰å½“ä½ æŠŠå®ç°ä¸­æ‰€æœ‰çš„ç»†èŠ‚éƒ½åšå¯¹äº†ï¼Œä½ æ‰èƒ½å¾—åˆ°æƒ³è¦çš„æ•ˆæœã€‚ä»»ä½•ä¸€ä¸ªåœ°æ–¹è®¾è®¡æœ‰æ¼æ´ï¼Œæˆ–æ˜¯å®ç°ä¸Šæœ‰ Bugï¼Œç³»ç»Ÿéƒ½ä¼šå‡ºç°è¿™æ ·æˆ–é‚£æ ·çš„é—®é¢˜ã€‚</p>\n<p></p>\n<p><a href=\"https://time.geekbang.org/activity/sale-poster?utm_source=app&amp;utm_medium=zhuyun-article&amp;utm_campaign=zhuyun-saleposter&amp;utm_content=zhuyun0416\">æˆ³æ­¤è·å–ä½ çš„ä¸“å±æµ·æŠ¥</a></p>\n","comments":[{"had_liked":false,"id":902,"user_name":"J","can_delete":false,"product_type":"c1","uid":1002675,"ip_address":"","ucode":"EC6B45BD3E128D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4c/b3/931dcd9e.jpg","comment_is_top":false,"comment_ctime":1511482687,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"83115861311","product_id":100002401,"comment_content":"å¦‚ä½•æµ‹è¯•æ˜¯å¦è¾¾åˆ°å¹‚ç­‰å‘¢ï¼Ÿæ˜¯å¦å­˜åœ¨ä¸€äº›æ–¹æ³•è®ºå‘¢ï¼Ÿç‰¹åˆ«æ˜¯åœ¨å¤§é‡ä½¿ç”¨å¼€æºè½¯ä»¶ç­‰ç¬¬ä¸‰æ–¹æŠ€æœ¯å’Œå¹³å°çš„æ—¶å€™ï¼Œå¦‚æœä¸æ˜¯å¾ˆæ¸…æ¥šé‡Œé¢çš„å‘ï¼Œå¿ƒé‡Œç‰¹åˆ«æ²¡åº•ï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰é‚£ä¹ˆå¤šç²¾åŠ›æ·±å…¥æ¯ä¸€ä¸ªç»†èŠ‚ã€‚","like_count":19,"discussions":[{"author":{"id":1012416,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/72/c0/b09911a0.jpg","nickname":"meijing0114","note":"","ucode":"B349D33E2F3ECC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398151,"discussion_content":"å…¨é“¾è·¯å†™å‹æµ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632745998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12127,"user_name":"é©¬æ´ªåš","can_delete":false,"product_type":"c1","uid":1020344,"ip_address":"","ucode":"DB53385788EE1D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/91/b8/bff364f1.jpg","comment_is_top":false,"comment_ctime":1528603406,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"53068210958","product_id":100002401,"comment_content":"è¿™é‡Œè¯´çš„æ•°æ®åº“â€œç«äº‰æ¡ä»¶â€å°±æ˜¯â€œè„è¯»â€å§ã€‚æ‰“ä¸ªæ¯”æ–¹ï¼š<br>å°å¼ å’Œå°ååŒæ—¶å–œæ¬¢ä¸Šå°èŠ³ï¼Œå°å¼ åœ¨æ¢å¾—å°èŠ³æœªå©šåé¦–å…ˆå±•å¼€è¿½æ±‚ï¼Œå¹¶ç¡®å®šäº†å…³ç³»ã€‚å°ååœ¨å‡ ç»æ‰“æ¢ç¡®å®šå°èŠ³æœªå©šåä¹Ÿæ‰“ç®—é‡‡å–è¡ŒåŠ¨ï¼Œä½†åœ¨ä»–å‡†å¤‡è¡ŒåŠ¨çš„è¿‡ç¨‹ä¸­å°å¼ å’Œå°èŠ³é—ªå©šäº†ï¼Œä½¿å¾—ä¸Šæ¬¡çš„æ‰“æ¢ç»“æœæ— æ•ˆã€‚<br>ç®€å•æ¥è¯´å¤§æ¦‚æ˜¯â€œä½ è¯»çš„æ—¶å€™å¹¶ä¸çŸ¥é“åˆ«äººä¹Ÿå·²ç»è¯»è¿‡å¹¶å·²ç»é‡‡å–äº†ä¸€äº›è¡ŒåŠ¨ï¼Œåªæ˜¯è¡ŒåŠ¨å°šæœªè¾¾æˆï¼Œå¯¹ä½ ä¸å¯è§è€Œå·²â€","like_count":12,"discussions":[{"author":{"id":1438860,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f4/8c/0866b228.jpg","nickname":"å­æˆ¿","note":"","ucode":"CB05938C248BB3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":358953,"discussion_content":"è¿™é‡Œè¯´çš„æ˜¯ç«äº‰è¯»å–è®°å½•ï¼Œåˆ¤æ–­è®°å½•æ˜¯å¦å­˜åœ¨ï¼Œè·Ÿè„è¯»ä¸ä¸€æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616078404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1012843,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/74/6b/a98162a1.jpg","nickname":"winner_0715","note":"","ucode":"A033A30539181F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344692,"discussion_content":"MySQLä¸€èˆ¬ä¸å­˜åœ¨è„è¯»çš„é—®é¢˜å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611559874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":1045,"user_name":"huangzhimim","can_delete":false,"product_type":"c1","uid":1018596,"ip_address":"","ucode":"ACAB00327DD95D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8a/e4/e5e1fd9b.jpg","comment_is_top":false,"comment_ctime":1512045643,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31576816715","product_id":100002401,"comment_content":"ç¬¬ä¸€æ¬¡å¬åˆ°è¿™æ ·çš„æ¦‚å¿µï¼Œå­¦åˆ°äº†","like_count":7},{"had_liked":false,"id":8201,"user_name":"ç‹å®‡ç†™","can_delete":false,"product_type":"c1","uid":1125669,"ip_address":"","ucode":"453B56C0F86C2A","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/25/e3200069.jpg","comment_is_top":false,"comment_ctime":1525965505,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"27295769281","product_id":100002401,"comment_content":"ä¾‹å­ä¸­ï¼Œå¹‚ç­‰ä»¤ç‰Œçš„ç”Ÿæˆï¼Œä¸åº”è¯¥å®¢æˆ·ç«¯å®Œæˆï¼Œå®¢æˆ·ç«¯åªèƒ½ä¿è¯å•æœºå¹‚ç­‰ä»¤ç‰Œçš„å”¯ä¸€æ€§ï¼Œä¸èƒ½ä¿è¯å…¨ç«™å¹‚ç­‰ä»¤ç‰Œçš„å”¯ä¸€æ€§ã€‚","like_count":6,"discussions":[{"author":{"id":1316454,"avatar":"https://static001.geekbang.org/account/avatar/00/14/16/66/083e7f7e.jpg","nickname":"silent","note":"","ucode":"325D31F0608249","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":270058,"discussion_content":"å®¢æˆ·ç«¯idåšå‰ç¼€å°±å¥½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589978865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":984,"user_name":"myaniu","can_delete":false,"product_type":"c1","uid":1007153,"ip_address":"","ucode":"578F47D59CE0D7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/31/1a41485b.jpg","comment_is_top":false,"comment_ctime":1511867374,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"27281671150","product_id":100002401,"comment_content":"6å¹´å‰æ›¾è®¾è®¡äº†ä¸€ä¸ªå‘çŸ­ä¿¡ç„¶åé“¶è”è‡ªåŠ¨ç»™æ ¡å›­ä¸€å¡é€šå……å€¼çš„ç³»ç»Ÿï¼Œå½“æ—¶å°±æ˜¯ä½¿ç”¨æ¶ˆæ¯é©±åŠ¨ï¼ŒåŸºäºäº‹ç‰©IDçš„å¹‚ç­‰æ€§ï¼Œè¶…æ—¶é‡å‘æœºåˆ¶å¤„ç†é”™è¯¯ï¼Œæœ€ç»ˆæ•ˆæœä¸é”™ã€‚","like_count":6},{"had_liked":false,"id":1145,"user_name":"alex","can_delete":false,"product_type":"c1","uid":1013615,"ip_address":"","ucode":"3194B224CD7AC2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI98sVPqp4B5YJU8Piao6ic4KeiaDGU0jMUrAqlNaUR4APfWMxkkNUA59O7z11sVQRg95gt3Mb6KTXIA/132","comment_is_top":false,"comment_ctime":1512345884,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"22987182364","product_id":100002401,"comment_content":"åšæ¶ˆæ¯é˜Ÿåˆ—çš„consumeræ—¶å€™ï¼Œç‰¹åˆ«è¦é‡è§†å¹‚ç­‰ä¿¡ï¼Œä¿è¯ç›¸åŒçš„æ¶ˆæ¯ä¸è®ºç›‘å¬åˆ°å¤šå°‘æ¬¡ï¼Œä¹Ÿåªèƒ½åšå¤„ç†ä¸€æ¬¡","like_count":5},{"had_liked":false,"id":901,"user_name":"Sam_Deep_Thinking","can_delete":false,"product_type":"c1","uid":1001152,"ip_address":"","ucode":"8E4EF6F24B821B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/c0/bf880bda.jpg","comment_is_top":false,"comment_ctime":1511482044,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"22986318524","product_id":100002401,"comment_content":"å¹‚ç­‰æ“ä½œç¡®å®å¾ˆé‡è¦ï¼Œé™¤äº†æ–‡ç« æ”¯ä»˜çš„ä¾‹å­ä¹‹å¤–ï¼Œåƒè´­ç‰©è½¦å ç”¨åº“å­˜æ“ä½œï¼Œä¹Ÿæ˜¯éœ€è¦å¹‚ç­‰çš„ï¼Œä¸ç„¶å¯èƒ½å‡ºç°è¶…å–å°‘å–ç°è±¡ã€‚","like_count":5},{"had_liked":false,"id":960,"user_name":"å°æ²«","can_delete":false,"product_type":"c1","uid":1000977,"ip_address":"","ucode":"52341656210E0D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/11/1cf8c174.jpg","comment_is_top":false,"comment_ctime":1511739613,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14396641501","product_id":100002401,"comment_content":"é‡å¤æ‰§è¡Œå·¥å•ï¼Œå¤šæ¬¡ä¸‹å‘æ“ä½œæ•°æ® ä¹Ÿä¼šå‡ºç°å¹‚ç­‰æƒ…å†µã€‚éœ€è¦å¢åŠ æ“ä½œä»¤ç‰Œä»¥ä¿è¯åŒä¸€ä¸ªèµ„æºæ•°æ®åªèƒ½æ“ä½œä¸€æ¬¡","like_count":3},{"had_liked":false,"id":36825,"user_name":"wade2999","can_delete":false,"product_type":"c1","uid":1259829,"ip_address":"","ucode":"5BE35476D8F62E","user_header":"https://static001.geekbang.org/account/avatar/00/13/39/35/c06915f2.jpg","comment_is_top":false,"comment_ctime":1541354609,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10131289201","product_id":100002401,"comment_content":"æˆ‘æ¥å°è¯•å›ç­”ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆåªæ˜¯è¯»æ£€æŸ¥ä¼šå‘ç”Ÿrace conditionï¼Œè€Œåªæœ‰å†™å…¥database as primary keyæ‰å¯ä»¥æ­£ç¡®çš„æ£€æŸ¥åˆ°æ˜¯å¦æ˜¯ç›¸åŒçš„idempotency keyï¼š<br>è€ƒè™‘ä¸€ä¸ªç”¨æˆ·ç¬¬ä¸€æ¬¡å‘å‡ºäº†è¯·æ±‚ï¼Œä½†æ˜¯è¶…æ—¶äº†ï¼Œç„¶åä»–æ¥ç€å‘å‡ºäº†ç¬¬äºŒæ¬¡è¯·æ±‚ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªè¯·æ±‚ç”±äºç½‘ç»œå µå¡çš„åŸå› ï¼Œè¿™ä¸ªæ—¶å€™æ‰è·Ÿç¬¬äºŒä¸ªè¯·æ±‚åŒæ—¶åˆ°è¾¾æœåŠ¡å™¨ã€‚æˆ‘serverç«¯çš„é€»è¾‘æ˜¯ï¼š<br>try {<br>db.get(idempotencyKey);<br>} catch (ObjectNotFoundException e) {<br>processPayment;<br>db.write(idempotencyKey);<br>}<br>é‚£ä¹ˆåœ¨ä¸Šè¿°çš„æƒ…å†µä¸‹ï¼Œç¬¬ä¸€ä¸ªè·Ÿç¬¬äºŒä¸ªè¯·æ±‚éƒ½ä¼šè¿›å…¥åˆ°exceptionçš„å¤„ç†é€»è¾‘å¤„ï¼Œç„¶åprocess paymentã€‚å°±ä¼šå‘ç”Ÿé‡å¤ï¼Œå³ä½¿æ˜¯æˆ‘åé¢åªæˆåŠŸå†™å…¥dbä¸€ä¸ªorder recordã€‚ï¼ˆå› ä¸ºprimary key constrains idempotency idï¼‰ã€‚<br>é‚£ä¹ˆå¦‚æœä¿®æ”¹æˆ<br>try {<br>db.write(idempotencyKey);<br>processPayment;<br>} catch (WriteException e) {<br>return &quot;success&quot;;<br>}<br>è¿™æ ·åªæœ‰æˆåŠŸå†™å…¥idempotencykeyåˆ°dbä¹‹åæ‰å¯ä»¥å¤„ç†paymentï¼Œå¦åˆ™ä¼šè¿”å›è¯¥orderå·²ç»æˆåŠŸå¤„ç†<br>","like_count":2},{"had_liked":false,"id":962,"user_name":"ç‹å²©","can_delete":false,"product_type":"c1","uid":1013626,"ip_address":"","ucode":"A315D856F8C5BB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/77/7a/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1511747660,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10101682252","product_id":100002401,"comment_content":"ä¸å…‰æ˜¯äº’è”ç½‘æ”¯ä»˜ï¼Œå…¶å®ä¼ä¸šå†…éƒ¨çš„å¯¹å¤–æ”¯ä»˜ä¹Ÿæ˜¯ä¸€æ ·ï¼Œåªè¦æŠŠå¾®ä¿¡æœåŠ¡ç«¯æ›¿æ¢æˆé“¶è¡Œå°±è¡Œäº†","like_count":2},{"had_liked":false,"id":903,"user_name":"wangtie","can_delete":false,"product_type":"c1","uid":1007952,"ip_address":"","ucode":"61B29F00C3DEEC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/61/50/7cc02851.jpg","comment_is_top":false,"comment_ctime":1511485924,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10101420516","product_id":100002401,"comment_content":"å­¦ä¹ äº†ï¼Œåˆ†äº«ç»™å°ä¼™ä¼´ä»¬çœ‹çœ‹","like_count":2},{"had_liked":false,"id":188116,"user_name":"joe","can_delete":false,"product_type":"c1","uid":1047695,"ip_address":"","ucode":"27461C7EBFE4F0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fc/8f/33d834a3.jpg","comment_is_top":false,"comment_ctime":1584322365,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879289661","product_id":100002401,"comment_content":"ç¡®å®ä¸ç®¡åœ¨ä¼ä¸šçº§è¿˜æ˜¯å¤§å‹äº’è”ç½‘åº”ç”¨ä¸­å¹‚ç­‰éƒ½æ˜¯æœ€å…³é”®çš„ï¼Œæœ‰äººè®¤ä¸ºä¼ä¸šçº§å› ä¸ºç”¨æˆ·é‡ä¸å¤šï¼Œå¯ä»¥æŠŠè¿™ä¸ªæ ‡å‡†å»æ‰ã€‚ä½†å‡ºé—®é¢˜çš„æ—¶å€™ï¼Œå°±æ‰¾ä¸åˆ°ä¸ºä»€ä¹ˆã€‚","like_count":1},{"had_liked":false,"id":906,"user_name":"GeekAmI","can_delete":false,"product_type":"c1","uid":1005030,"ip_address":"","ucode":"232C0B6DFB9F56","user_header":"https://static001.geekbang.org/account/avatar/00/0f/55/e6/87197b10.jpg","comment_is_top":false,"comment_ctime":1511486496,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5806453792","product_id":100002401,"comment_content":"å…¶å®  æˆ‘æ˜¯ç¬¬ä¸€æ¬¡å¬è¯´å¹‚ç­‰çš„æ¦‚å¿µï¼Œè™½ç„¶å¹³å¸¸é‡åˆ°å¾ˆå¤šå¹‚ç­‰çš„é—®é¢˜","like_count":1},{"had_liked":false,"id":342659,"user_name":"å´”å·","can_delete":false,"product_type":"c1","uid":1191069,"ip_address":"","ucode":"1EE10CE5A3CECD","user_header":"https://static001.geekbang.org/account/avatar/00/12/2c/9d/cc150980.jpg","comment_is_top":false,"comment_ctime":1650385993,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1650385993","product_id":100002401,"comment_content":"å¹¿å‘é“¶è¡ŒAPPè¿˜æ¬¾å°±æ²¡æœ‰è®¾ç½®å¹‚ç­‰çš„ï¼Œé­é‡è¿‡ä¸€æ¬¡é‡å¤è¿˜æ¬¾ã€‚ã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":312317,"user_name":"å½­ç‡•æ—","can_delete":false,"product_type":"c1","uid":1021868,"ip_address":"","ucode":"CE9004FB496693","user_header":"https://static001.geekbang.org/account/avatar/00/0f/97/ac/458659d7.jpg","comment_is_top":false,"comment_ctime":1631746566,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1631746566","product_id":100002401,"comment_content":"æå®¢æ—¶é—´çš„apple storeå……å€¼æ˜¾ç„¶å¹‚ç­‰åšçš„å°±ä¸å¤Ÿå¥½ğŸ˜ï¼Œå¯¼è‡´å……å€¼äº†ä¸¤æ¬¡","like_count":0},{"had_liked":false,"id":285809,"user_name":"johnyu","can_delete":false,"product_type":"c1","uid":2541498,"ip_address":"","ucode":"9AAC53AD209194","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/vx7BK9qZItiblXXoIpOhxd0m248xgvybowD2BBRvzZ4VwPL6aF1XkZ5OaWNjKqiciabgPfLdqmBtFvHszTgOuPiadQ/132","comment_is_top":false,"comment_ctime":1617017897,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617017897","product_id":100002401,"comment_content":"å­¦åˆ°æ¶æ„çš„æ–°çŸ¥è¯†äº†ï¼Œå¼€å¿ƒã€‚","like_count":0},{"had_liked":false,"id":253921,"user_name":"å°ä¾ ","can_delete":false,"product_type":"c1","uid":1045025,"ip_address":"","ucode":"A35A61061E41B2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f2/21/00600713.jpg","comment_is_top":false,"comment_ctime":1602947351,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1602947351","product_id":100002401,"comment_content":"å¤æ‚çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¹‚ç­‰æ¥å£å¾ˆé‡è¦","like_count":0},{"had_liked":false,"id":205856,"user_name":"Ric","can_delete":false,"product_type":"c1","uid":1917008,"ip_address":"","ucode":"2CCABA029EE711","user_header":"https://static001.geekbang.org/account/avatar/00/1d/40/50/a960f038.jpg","comment_is_top":false,"comment_ctime":1586747591,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586747591","product_id":100002401,"comment_content":"æ„Ÿè¬è€å¸«æ¸…æ™°è§£èªª","like_count":0},{"had_liked":false,"id":84735,"user_name":"æ…§é•¿é’","can_delete":false,"product_type":"c1","uid":1085864,"ip_address":"","ucode":"A2F5D042D41B2F","user_header":"https://static001.geekbang.org/account/avatar/00/10/91/a8/b8e2ae30.jpg","comment_is_top":false,"comment_ctime":1554900215,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554900215","product_id":100002401,"comment_content":"å¹‚ç­‰çš„å”¯ä¸€æ€§å¾ˆé‡è¦ï¼Œå°¤å…¶æ˜¯æ”¯ä»˜çš„åœºæ™¯","like_count":0},{"had_liked":false,"id":71265,"user_name":"mikejiang","can_delete":false,"product_type":"c1","uid":1396090,"ip_address":"","ucode":"9350F6DC7BC0E8","user_header":"https://static001.geekbang.org/account/avatar/00/15/4d/7a/106c3745.jpg","comment_is_top":false,"comment_ctime":1551314890,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1551314890","product_id":100002401,"comment_content":"å¹‚ç­‰æ€§æˆ‘å…¬å¸ä¸€èˆ¬ç”¨ç¬¬ä¸€ç§æ–¹æ³•ï¼Œä½†æ˜¯ï¼Œå…¶å®ç¬¬äºŒç§æˆ‘è§‰å¾—ä¹Ÿä¸é”™ã€‚æ— è®ºæ˜¯å¹‚ç­‰ä»¤ç‰Œçš„å®ç°ï¼Œè¿˜æ˜¯ä¿è¯å”¯ä¸€æ€§ï¼Œéƒ½å¾ˆå®¹æ˜“å®ç°æœ‰é—®é¢˜ï¼Œå¤§å¤šå€¾å‘äºå¾ˆå®¹æ˜“ç”¨è¯»æ¥åˆ¤æ–­æ˜¯å¦æœ‰é‡åˆ°è¿‡ï¼Œè¿™æ˜¯æœ‰é—®é¢˜çš„ã€‚","like_count":0},{"had_liked":false,"id":53684,"user_name":"Alexisä½•æ˜¥å…‰","can_delete":false,"product_type":"c1","uid":1181149,"ip_address":"","ucode":"614570FAE3B56A","user_header":"https://static001.geekbang.org/account/avatar/00/12/05/dd/b201cf13.jpg","comment_is_top":false,"comment_ctime":1545710338,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545710338","product_id":100002401,"comment_content":"â€œmaking multiple identical requests has the same effect as making a single request. æˆ‘è§‰å¾—éœ€è¦å¼ºè°ƒäº‹ æ˜¯identicalçš„ï¼Œä¸ç„¶ä¹ä¸€çœ‹ä¸ºä»€ä¹ˆå¤šæ¬¡è¯·æ±‚åªç»™æˆ‘ä¸€ä¸ªç»“æœï¼Œä¼šæœ‰ç‚¹ç–‘æƒ‘ã€‚ä¸ªäººæ„è§ï½","like_count":0},{"had_liked":false,"id":40044,"user_name":"ä¸ƒ-åªé¡¾é£é›¨å…¼ç¨‹","can_delete":false,"product_type":"c1","uid":1208903,"ip_address":"","ucode":"8F8E84BFE08B63","user_header":"https://static001.geekbang.org/account/avatar/00/12/72/47/dd30eac6.jpg","comment_is_top":false,"comment_ctime":1542452480,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542452480","product_id":100002401,"comment_content":"è¦è¯¦ç»†å­¦ä¹ ä¸‹","like_count":0},{"had_liked":false,"id":7396,"user_name":"å‘¨ä¸½æ´","can_delete":false,"product_type":"c1","uid":1089295,"ip_address":"","ucode":"CE894009252E12","user_header":"https://static001.geekbang.org/account/avatar/00/10/9f/0f/c0b4b2c3.jpg","comment_is_top":false,"comment_ctime":1525443163,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1525443163","product_id":100002401,"comment_content":"é—®ä¸€ä¸ªç»†èŠ‚é—®é¢˜ï¼Œä¸ºä»€ä¹ˆä¸èƒ½è¯»æ£€æŸ¥è€Œè¦é å†™å…¥æŠ¥é”™æ¥åˆ¤æ–­å”¯ä¸€æ€§ï¼Ÿå› ä¸ºæˆ‘è®¤ä¸ºæŒ‰ä¸€èˆ¬çš„é€»è¾‘ï¼Œæ˜¯å»æ•°æ®åº“é‡Œé¢æŸ¥æœ‰æ²¡æœ‰è¿™ä¸ªå”¯ä¸€å€¼ã€‚ä¸å¤ªæ˜ç™½è¯»ä¸è¯»ä¹‹é—´æœ‰ç«äº‰è¿™ä¸ªåŸå› ã€‚è°¢è°¢å›å¤ã€‚","like_count":0},{"had_liked":false,"id":3903,"user_name":"gggjtg","can_delete":false,"product_type":"c1","uid":1040085,"ip_address":"","ucode":"4DD39CDB2849DF","user_header":"","comment_is_top":false,"comment_ctime":1520947299,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1520947299","product_id":100002401,"comment_content":"èƒ½ä¸èƒ½ä¸¾ä¸ªä¾‹å­è§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯ç«äº‰æ¡ä»¶","like_count":0},{"had_liked":false,"id":1692,"user_name":"walt","can_delete":false,"product_type":"c1","uid":1039816,"ip_address":"","ucode":"F0AEA21D02B7E7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dd/c8/3f100905.jpg","comment_is_top":false,"comment_ctime":1514123470,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1514123470","product_id":100002401,"comment_content":"å¤§å¹¶å‘æµ‹è¯•å¹‚ç­‰","like_count":0}]}
{"id":144674,"title":"53 | 闭包捕获值","content":"<p><strong>课件地址</strong></p><p><a href=\"https://gitee.com/geektime-geekbang/swift-course\">https://gitee.com/geektime-geekbang/swift-course</a></p>","comments":[{"had_liked":false,"id":184144,"user_name":"Geek_zwip3b","can_delete":false,"product_type":"c3","uid":1198013,"ip_address":"","ucode":"7CA1651D0DE257","user_header":"https://static001.geekbang.org/account/avatar/00/12/47/bd/3c88b41b.jpg","comment_is_top":false,"comment_ctime":1583237565,"is_pvip":false,"replies":[{"id":79916,"content":"学一些MacOS的事件和view应该就可以了","user_name":"作者回复","user_name_real":"Geek_f72435","uid":1341726,"ctime":1589165368,"ip_address":"","comment_id":184144,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034001,"comment_content":"老师，如果使用swift开发MacOS的软件需要补那方面的知识？","like_count":0,"discussions":[{"author":{"id":1341726,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLxtKhpmvzx2VB4iajicfJVFmQR3eP3xBpdpQEovpSqUfAOrNImvYwVb7P37ibI0ONziau9sbFEk8oDaA/132","nickname":"elfgate","note":"","ucode":"3C0B5F7C1F664C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485908,"discussion_content":"学一些MacOS的事件和view应该就可以了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589165368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":315372,"user_name":"风早","can_delete":false,"product_type":"c3","uid":1069713,"ip_address":"","ucode":"A4D046C90F832E","user_header":"https://static001.geekbang.org/account/avatar/00/10/52/91/d07baf7e.jpg","comment_is_top":false,"comment_ctime":1633866298,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100034001,"comment_content":"作为一种优化，如果一个值没有改变或者在闭包外面，swift可能会使用这个值的拷贝而不是捕获。\n请问老师这句话怎么理解？\n既然是拷贝，那肯定多占用了内存空间，优化体现在哪里呢 ","like_count":1,"discussions":[{"author":{"id":1382587,"avatar":"https://static001.geekbang.org/account/avatar/00/15/18/bb/9299fab1.jpg","nickname":"Null","note":"","ucode":"A7D4DF2A43C7D8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553020,"discussion_content":"感觉老师说反了，应该是不改变是捕获，改变是拷贝。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645692207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":315371,"user_name":"风早","can_delete":false,"product_type":"c3","uid":1069713,"ip_address":"","ucode":"A4D046C90F832E","user_header":"https://static001.geekbang.org/account/avatar/00/10/52/91/d07baf7e.jpg","comment_is_top":false,"comment_ctime":1633866053,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100034001,"comment_content":"Swift的闭包就是OC里的block吧","like_count":0},{"had_liked":false,"id":303577,"user_name":"Geek_jg3r26","can_delete":false,"product_type":"c3","uid":1454691,"ip_address":"","ucode":"7D093ED7273CBE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEK5icO2A4K7HYTYfQoagTz7VbtgxfS2ibBqLnKVWwQZgsePibZWFvFJEhPT8BtpQSaFx9IEodyp6c0dw/132","comment_is_top":false,"comment_ctime":1626862538,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100034001,"comment_content":"感觉捕获这个概念不太准确。 容易理解偏了","like_count":0},{"had_liked":false,"id":292563,"user_name":"Geek__2099","can_delete":false,"product_type":"c3","uid":1457784,"ip_address":"","ucode":"01444B60F18A66","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep8unibCib9rdHib0D6Rf6TjecPQu1yic0G9sjzriczlTcwGHP6DaxtEmHyN7pCrD9zV7OSegyf7EUBvaA/132","comment_is_top":false,"comment_ctime":1620877859,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100034001,"comment_content":"捕获值，是闭包对所处环境的记忆，从此闭包具备了状态存储的能力，它具备了活着的特征，即生命。\n类与结构等也具备状态存储的能力，但闭包，从根上是过程为主体；而前者是数据为主体。\n闭包，从捕获值开始，具备了挑战面向对象编程的关键资格 。\n","like_count":0}]}
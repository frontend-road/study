{"id":147854,"title":"22 | ç”Ÿæˆæ±‡ç¼–ä»£ç ï¼ˆä¸€ï¼‰ï¼šæ±‡ç¼–è¯­è¨€å…¶å®ä¸éš¾å­¦","content":"<blockquote>\n<p>æ•²é»‘æ¿ï¼šè¯¾ç¨‹ç”¨çš„æ˜¯GNUæ±‡ç¼–å™¨ï¼ŒmacOSå’ŒLinuxå·²å†…ç½®ï¼Œæœ¬æ–‡çš„æ±‡ç¼–è¯­è¨€çš„å†™æ³•æ˜¯GNUæ±‡ç¼–å™¨è§„å®šçš„å†™æ³•ã€‚Windowsç³»ç»Ÿå¯å®‰è£…MinGWæˆ–Linuxè™šæ‹Ÿæœºã€‚</p>\n</blockquote><p>å¯¹äºé™æ€ç¼–è¯‘å‹è¯­è¨€ï¼Œæ¯”å¦‚Cè¯­è¨€å’ŒGoè¯­è¨€ï¼Œç¼–è¯‘å™¨åç«¯çš„ä»»åŠ¡å°±æ˜¯ç”Ÿæˆæ±‡ç¼–ä»£ç ï¼Œç„¶åå†ç”±æ±‡ç¼–å™¨ç”Ÿæˆæœºå™¨ç ï¼Œç”Ÿæˆçš„æ–‡ä»¶å«ç›®æ ‡æ–‡ä»¶ï¼Œæœ€åå†ä½¿ç”¨é“¾æ¥å™¨å°±èƒ½ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶æˆ–åº“æ–‡ä»¶äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/fe/76/feadbf7a473c420d0693c249b48e0e76.jpg?wh=1142*169\" alt=\"\"></p><p>å°±ç®—åƒJavaScriptè¿™æ ·çš„è§£é‡Šæ‰§è¡Œçš„è¯­è¨€ï¼Œä¹Ÿè¦åœ¨è¿è¡Œæ—¶åˆ©ç”¨ç±»ä¼¼çš„æœºåˆ¶ç”Ÿæˆæœºå™¨ç ï¼Œä»¥ä¾¿è°ƒé«˜æ‰§è¡Œçš„é€Ÿåº¦ã€‚Javaçš„å­—èŠ‚ç ï¼Œåœ¨è¿è¡Œæ—¶é€šå¸¸ä¹Ÿä¼šé€šè¿‡JITæœºåˆ¶ç¼–è¯‘æˆæœºå™¨ç ã€‚<strong>è€Œæ±‡ç¼–è¯­è¨€æ˜¯å®Œæˆè¿™äº›å·¥ä½œçš„åŸºç¡€ã€‚</strong></p><p>å¯¹ä½ æ¥è¯´ï¼ŒæŒæ¡æ±‡ç¼–è¯­è¨€æ˜¯ååˆ†æœ‰ç›Šçš„ï¼Œå› ä¸ºå“ªæ€•æŒæ¡ä¸€å°ç‚¹å„¿æ±‡ç¼–æŠ€èƒ½ï¼Œå°±èƒ½åº”ç”¨åˆ°æŸé¡¹å·¥ä½œä¸­ï¼Œæ¯”å¦‚ï¼Œåœ¨Cè¯­è¨€é‡ŒåµŒå…¥æ±‡ç¼–ï¼Œå®ç°æŸä¸ªç‰¹æ®ŠåŠŸèƒ½ï¼›æˆ–è€…è¯»æ‡‚æŸäº›åº•å±‚ç±»åº“æˆ–é©±åŠ¨ç¨‹åºçš„ä»£ç ï¼Œå› ä¸ºå®ƒå¯èƒ½æ˜¯ç”¨æ±‡ç¼–å†™çš„ã€‚</p><p>æœ¬èŠ‚è¯¾ï¼Œæˆ‘å…ˆå¸¦ä½ äº†è§£ä¸€ä¸‹æ±‡ç¼–è¯­è¨€ï¼Œæ¥ä¸ªç ´å†°ä¹‹æ—…ã€‚ç„¶ååœ¨æ¥ä¸‹æ¥çš„è¯¾ç¨‹ä¸­å†å¸¦ä½ åŸºäºASTæ‰‹å·¥ç”Ÿæˆæ±‡ç¼–ä»£ç ï¼Œç ´é™¤ä½ å¯¹æ±‡ç¼–ä»£ç çš„ææƒ§ï¼Œäº†è§£ç¼–è¯‘æœŸåç«¯ç”Ÿæˆæ±‡ç¼–ä»£ç çš„åŸç†ã€‚</p><p>ä»¥åï¼Œå½“ä½ çœ‹åˆ°é«˜çº§è¯­è¨€çš„ä»£ç ï¼Œä»¥åŠIRæ—¶ï¼Œå°±å¯ä»¥æƒ³è±¡å‡ºæ¥å®ƒå¯¹åº”çš„æ±‡ç¼–ä»£ç æ˜¯ä»€ä¹ˆæ ·å­ï¼Œå®ç°ä»ä¸Šå±‚åˆ°åº•å±‚è®¤çŸ¥çš„è´¯é€šã€‚</p><h2>äº†è§£æ±‡ç¼–è¯­è¨€</h2><!-- [[[read_end]]] --><p>æœºå™¨è¯­è¨€éƒ½æ˜¯0101çš„äºŒè¿›åˆ¶çš„æ•°æ®ï¼Œä¸é€‚åˆæˆ‘ä»¬é˜…è¯»ã€‚è€Œæ±‡ç¼–è¯­è¨€ï¼Œç®€å•æ¥è¯´ï¼Œæ˜¯å¯è¯»æ€§æ›´å¥½çš„æœºå™¨è¯­è¨€ï¼ŒåŸºæœ¬ä¸Šæ¯æ¡æŒ‡ä»¤éƒ½å¯ä»¥ç›´æ¥ç¿»è¯‘æˆä¸€æ¡æœºå™¨ç ã€‚</p><p>è·Ÿä½ æ—¥å¸¸ä½¿ç”¨çš„é«˜çº§è¯­è¨€ç›¸æ¯”ï¼Œæ±‡ç¼–è¯­è¨€çš„è¯­æ³•ç‰¹åˆ«ç®€å•ï¼Œä½†å®ƒè¦è·Ÿç¡¬ä»¶ï¼ˆCPUå’Œå†…å­˜ï¼‰æ‰“äº¤é“ï¼Œæˆ‘ä»¬æ¥ä½“ä¼šä¸€ä¸‹ã€‚</p><p>è®¡ç®—æœºçš„å¤„ç†å™¨æœ‰å¾ˆå¤šä¸åŒçš„æ¶æ„ï¼Œæ¯”å¦‚x86-64ã€ARMã€Powerç­‰ï¼Œæ¯ç§å¤„ç†å™¨çš„æŒ‡ä»¤é›†éƒ½ä¸ç›¸åŒï¼Œé‚£ä¹Ÿå°±æ„å‘³ç€æ±‡ç¼–è¯­è¨€ä¸åŒã€‚æˆ‘ä»¬ç›®å‰ç”¨çš„ç”µè„‘ï¼ŒCPUä¸€èˆ¬æ˜¯x86-64æ¶æ„ï¼Œæ˜¯64ä½æœºã€‚ï¼ˆå¦‚ä¸åšç‰¹åˆ«è¯´æ˜ï¼Œæœ¬è¯¾ç¨‹éƒ½æ˜¯ä»¥x86-64æ¶æ„ä½œä¸ºä¾‹å­çš„ï¼‰ã€‚</p><p>è¯´äº†åŠå¤©ï¼Œæ±‡ç¼–ä»£ç é•¿ä»€ä¹ˆæ ·å­å‘¢ï¼Ÿæˆ‘ç”¨Cè¯­è¨€å†™çš„ä¾‹å­æ¥ç”Ÿæˆä¸€ä¸‹æ±‡ç¼–ä»£ç ã€‚</p><pre><code>#include &lt;stdio.h&gt;\nint main(int argc, char* argv[]){\n    printf(&quot;Hello %s!\\n&quot;, &quot;Richard&quot;);\n    return 0;\n}\n</code></pre><p>åœ¨macOSä¸­è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œå…¶ä¸­çš„-Så‚æ•°å°±æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨æŠŠæºä»£ç ç¼–è¯‘æˆæ±‡ç¼–ä»£ç ï¼Œè€Œ-O2å‚æ•°å‘Šè¯‰ç¼–è¯‘å™¨è¿›è¡Œ2çº§ä¼˜åŒ–ï¼Œè¿™æ ·ç”Ÿæˆçš„æ±‡ç¼–ä»£ç ä¼šçŸ­ä¸€äº›ï¼š</p><pre><code>clang -S -O2 hello.c -o hello.s\næˆ–è€…ï¼š\ngcc -S -O2 hello.c -o hello.s\n</code></pre><p>ç”Ÿæˆçš„æ±‡ç¼–ä»£ç æ˜¯ä¸‹é¢çš„æ ·å­ï¼š</p><pre><code> .section    __TEXT,__text,regular,pure_instructions\n    .build_version macos, 10, 14    sdk_version 10, 14\n    .globl  _main                   ## -- Begin function main\n    .p2align    4, 0x90\n_main:                                  ## @main\n    .cfi_startproc\n## %bb.0:\n    pushq   %rbp\n    .cfi_def_cfa_offset 16\n    .cfi_offset %rbp, -16\n    movq    %rsp, %rbp\n    .cfi_def_cfa_register %rbp\n    leaq    L_.str(%rip), %rdi\n    leaq    L_.str.1(%rip), %rsi\n    xorl    %eax, %eax\n    callq   _printf\n    xorl    %eax, %eax\n    popq    %rbp\n    retq\n    .cfi_endproc\n                                        ## -- End function \n    .section    __TEXT,__cstring,cstring_literals\nL_.str:                                 ## @.str\n    .asciz  &quot;Hello %s!\\n&quot;\n\nL_.str.1:                               ## @.str.1\n    .asciz  &quot;Richard&quot;\n\n.subsections_via_symbols\n</code></pre><p>ä½ å¦‚æœå†æ‰“ä¸‹é¢çš„å‘½ä»¤ï¼Œå°±ä¼šæŠŠè¿™æ®µæ±‡ç¼–ä»£ç ç¼–è¯‘æˆå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆåœ¨macOSæˆ–Linuxæ‰§è¡Œaså‘½ä»¤ï¼Œå°±æ˜¯è°ƒç”¨äº†GNUçš„æ±‡ç¼–å™¨ï¼‰ï¼š</p><pre><code>as hello.s -o hello.o   //ç”¨æ±‡ç¼–å™¨ç¼–è¯‘æˆç›®æ ‡æ–‡ä»¶\ngcc hello.o -o hello   //é“¾æ¥æˆå¯æ‰§è¡Œæ–‡ä»¶ \n./hello                 //è¿è¡Œç¨‹åº\n</code></pre><p>ä»¥ä¸Šé¢çš„ä»£ç ä¸ºä¾‹ï¼Œæ¥çœ‹ä¸€ä¸‹æ±‡ç¼–è¯­è¨€çš„ç»„æˆå…ƒç´ ã€‚<strong>è¿™æ˜¯æ±‡ç¼–è¯­è¨€å…¥é—¨çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯é‡ç‚¹å†…å®¹ï¼Œåœ¨é˜…è¯»æ—¶ï¼Œä½ ä¸éœ€è¦æ­»è®°ç¡¬èƒŒï¼Œè€Œæ˜¯è¦çµæ´»æŒæ¡ï¼Œ</strong>æ¯”å¦‚CPUçš„æŒ‡ä»¤ç‰¹åˆ«å¤šï¼Œæˆ‘ä»¬è®°ä½å¸¸ç”¨çš„å°±è¡Œäº†ï¼Œä¸å¤ªå¸¸ç”¨çš„å¯ä»¥å»æŸ¥æ‰‹å†Œã€‚</p><h4>1.æ±‡ç¼–è¯­è¨€çš„ç»„æˆå…ƒç´ </h4><p>è¿™æ®µä»£ç é‡Œæœ‰<strong>æŒ‡ä»¤ã€ä¼ªæŒ‡ä»¤ã€æ ‡ç­¾å’Œæ³¨é‡Š</strong>å››ç§å…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ å•ç‹¬å ä¸€è¡Œã€‚</p><p><strong>æŒ‡ä»¤ï¼ˆinstructionï¼‰æ˜¯ç›´æ¥ç”±CPUè¿›è¡Œå¤„ç†çš„å‘½ä»¤ï¼Œ</strong>ä¾‹å¦‚ï¼š</p><pre><code>pushq   %rbp\nmovq    %rsp, %rbp\n</code></pre><p>å…¶ä¸­ï¼Œå¼€å¤´çš„ä¸€ä¸ªå•è¯æ˜¯åŠ©è®°ç¬¦ï¼ˆmnemonicï¼‰ï¼Œåé¢è·Ÿç€çš„æ˜¯æ“ä½œæ•°ï¼ˆoperandï¼‰ï¼Œæœ‰å¤šä¸ªæ“ä½œæ•°æ—¶ä»¥é€—å·åˆ†éš”ã€‚ç¬¬äºŒè¡Œä»£ç çš„æ„æ€æ˜¯æŠŠæ•°æ®ä»è¿™é‡Œï¼ˆæºï¼‰æ‹·è´åˆ°é‚£é‡Œï¼ˆç›®çš„ï¼‰ï¼Œè¿™è·Ÿâ€œè¯·å€’æ¯å’–å•¡ç»™æˆ‘â€è¿™æ ·çš„è‡ªç„¶è¯­å¥æ˜¯ä¸€æ ·çš„ï¼Œå…ˆæ˜¯åŠ¨è¯ï¼ˆå€’ï¼‰ï¼Œç„¶åæ˜¯åŠ¨è¯çš„ä½œç”¨å¯¹è±¡ï¼ˆå’–å•¡ï¼‰ï¼Œå†å°±æ˜¯ç›®çš„åœ°ï¼ˆç»™æˆ‘ï¼‰ã€‚</p><p><strong>ä¼ªæŒ‡ä»¤ä»¥â€œ.â€å¼€å¤´ï¼Œæœ«å°¾æ²¡æœ‰å†’å·â€œï¼šâ€ã€‚</strong></p><pre><code>.section    __TEXT,__text,regular,pure_instructions\n.globl  _main        \n.asciz  &quot;Hello %s!\\n&quot;\n</code></pre><p>ä¼ªæŒ‡ä»¤æ˜¯æ˜¯è¾…åŠ©æ€§çš„ï¼Œæ±‡ç¼–å™¨åœ¨ç”Ÿæˆç›®æ ‡æ–‡ä»¶æ—¶ä¼šç”¨åˆ°è¿™äº›ä¿¡æ¯ï¼Œä½†ä¼ªæŒ‡ä»¤ä¸æ˜¯çœŸæ­£çš„CPUæŒ‡ä»¤ï¼Œå°±æ˜¯å†™ç»™æ±‡ç¼–å™¨çš„ã€‚æ¯ç§æ±‡ç¼–å™¨çš„ä¼ªæŒ‡ä»¤ä¹Ÿä¸åŒï¼Œè¦æŸ¥é˜…ç›¸åº”çš„æ‰‹å†Œã€‚</p><p><strong>æ ‡ç­¾ä»¥å†’å·â€œ:â€ç»“å°¾ï¼Œç”¨äºå¯¹ä¼ªæŒ‡ä»¤ç”Ÿæˆçš„æ•°æ®æˆ–æŒ‡ä»¤åšæ ‡è®°ã€‚</strong>ä¾‹å¦‚L_.str: æ ‡ç­¾æ˜¯å¯¹ä¸€ä¸ªå­—ç¬¦ä¸²åšäº†æ ‡è®°ã€‚å…¶ä»–ä»£ç å¯ä»¥è®¿é—®æ ‡ç­¾ï¼Œä¾‹å¦‚è·³è½¬åˆ°è¿™ä¸ªæ ‡ç­¾æ‰€æ ‡è®°çš„æŒ‡ä»¤ã€‚</p><pre><code>L_.str:                                 ## @.str\n    .asciz  &quot;Hello %s!\\n&quot;\n</code></pre><p>æ ‡ç­¾å¾ˆæœ‰ç”¨ï¼Œå®ƒå¯ä»¥ä»£è¡¨ä¸€æ®µä»£ç æˆ–è€…å¸¸é‡çš„åœ°å€ï¼ˆä¹Ÿå°±æ˜¯åœ¨ä»£ç åŒºæˆ–é™æ€æ•°æ®åŒºä¸­çš„ä½ç½®ï¼‰ã€‚å¯ä¸€å¼€å§‹ï¼Œæˆ‘ä»¬æ²¡æ³•çŸ¥é“è¿™ä¸ªåœ°å€çš„å…·ä½“å€¼ï¼Œå¿…é¡»ç”Ÿæˆç›®æ ‡æ–‡ä»¶åï¼Œæ‰èƒ½ç®—å‡ºæ¥ã€‚æ‰€ä»¥ï¼Œæ ‡ç­¾ä¼šç®€åŒ–æ±‡ç¼–ä»£ç çš„ç¼–å†™ã€‚</p><p><strong>ç¬¬å››ç§å…ƒç´ ï¼Œæ³¨é‡Šï¼Œä»¥â€œ#â€å·å¼€å¤´ï¼Œè¿™è·ŸCè¯­è¨€ä¸­ä»¥//è¡¨ç¤ºæ³¨é‡Šè¯­å¥æ˜¯ä¸€æ ·çš„ã€‚</strong></p><p>å› ä¸ºæŒ‡ä»¤æ˜¯æ±‡ç¼–ä»£ç çš„ä¸»è¦éƒ¨åˆ†ï¼Œæ‰€ä»¥æˆ‘ä»¬å†æŠŠä¸æŒ‡ä»¤æœ‰å…³çš„çŸ¥è¯†ç‚¹å±•å¼€è®²è§£ä¸€ä¸‹ã€‚</p><h4>2.è¯¦ç»†äº†è§£æŒ‡ä»¤è¿™ä¸ªå…ƒç´ </h4><p>åœ¨ä»£ç ä¸­ï¼ŒåŠ©è®°ç¬¦â€œmovqâ€â€œxorlâ€ä¸­çš„â€œmovâ€å’Œâ€œxorâ€æ˜¯æŒ‡ä»¤ï¼Œè€Œâ€œqâ€å’Œâ€œlâ€å«åšåç¼€ï¼Œè¡¨ç¤ºæ“ä½œæ•°çš„ä½æ•°ã€‚åç¼€ä¸€å…±æœ‰b, w, l, qå››ç§ï¼Œåˆ†åˆ«ä»£è¡¨8ä½ã€16ä½ã€32ä½å’Œ64ä½ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/83/4b/83e27f35ac31ae773e52e8826e6e534b.jpg?wh=1142*514\" alt=\"\"></p><p>æ¯”å¦‚ï¼Œmovqä¸­çš„qä»£è¡¨æ“ä½œæ•°æ˜¯8ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯64ä½çš„ã€‚movqå°±æ˜¯æŠŠ8å­—èŠ‚ä»ä¸€ä¸ªåœ°æ–¹æ‹·è´åˆ°å¦ä¸€ä¸ªåœ°æ–¹ï¼Œè€Œmovlåˆ™æ˜¯æ‹·è´4ä¸ªå­—èŠ‚ã€‚</p><p>è€Œåœ¨æŒ‡ä»¤ä¸­ä½¿ç”¨æ“ä½œæ•°ï¼Œå¯ä»¥ä½¿ç”¨å››ç§æ ¼å¼ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š<strong>ç«‹å³æ•°ã€å¯„å­˜å™¨ã€ç›´æ¥å†…å­˜è®¿é—®å’Œé—´æ¥å†…å­˜è®¿é—®ã€‚</strong></p><p><strong>ç«‹å³æ•°ä»¥$å¼€å¤´ï¼Œ</strong> <strong>æ¯”å¦‚$40</strong>ã€‚ï¼ˆä¸‹é¢è¿™è¡Œä»£ç æ˜¯æŠŠ40è¿™ä¸ªæ•°å­—æ‹·è´åˆ°%eaxå¯„å­˜å™¨ï¼‰ã€‚</p><pre><code>movl $40, %eax\n</code></pre><p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬åœ¨æŒ‡ä»¤ä¸­æœ€å¸¸è§åˆ°çš„å°±æ˜¯å¯¹å¯„å­˜å™¨çš„è®¿é—®ï¼ŒGNUçš„æ±‡ç¼–å™¨è§„å®šå¯„å­˜å™¨ä¸€å®šè¦ä»¥%å¼€å¤´ã€‚</p><p><strong>ç›´æ¥å†…å­˜è®¿é—®ï¼š</strong>å½“æˆ‘ä»¬åœ¨ä»£ç ä¸­çœ‹åˆ°æ“ä½œæ•°æ˜¯ä¸€ä¸ªæ•°å­—æ—¶ï¼Œå®ƒå…¶å®æŒ‡çš„æ˜¯å†…å­˜åœ°å€ã€‚ä¸è¦è¯¯ä»¥ä¸ºå®ƒæ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå› ä¸ºæ•°å­—ç«‹å³æ•°å¿…é¡»ä»¥$å¼€å¤´ã€‚å¦å¤–ï¼Œæ±‡ç¼–ä»£ç é‡Œçš„æ ‡ç­¾ï¼Œä¹Ÿä¼šè¢«ç¿»è¯‘æˆç›´æ¥å†…å­˜è®¿é—®çš„åœ°å€ã€‚æ¯”å¦‚â€œcallq   _printfâ€ä¸­çš„â€œ_printfâ€æ˜¯ä¸€ä¸ªå‡½æ•°å…¥å£çš„åœ°å€ã€‚æ±‡ç¼–å™¨å¸®æˆ‘ä»¬è®¡ç®—å‡ºç¨‹åºè£…è½½åœ¨å†…å­˜æ—¶ï¼Œæ¯ä¸ªå­—é¢é‡å’Œè¿‡ç¨‹çš„åœ°å€ã€‚</p><p><strong>é—´æ¥å†…å­˜è®¿é—®ï¼š</strong>å¸¦æœ‰æ‹¬å·ï¼Œæ¯”å¦‚ï¼ˆ%rbpï¼‰ï¼Œå®ƒæ˜¯æŒ‡%rbpå¯„å­˜å™¨çš„å€¼æ‰€æŒ‡å‘çš„åœ°å€ã€‚</p><p>é—´æ¥å†…å­˜è®¿é—®çš„å®Œæ•´å½¢å¼æ˜¯ï¼š</p><blockquote>\n<p>åç§»é‡ï¼ˆåŸºå€ï¼Œç´¢å¼•å€¼ï¼Œå­—èŠ‚æ•°ï¼‰è¿™æ ·çš„æ ¼å¼ã€‚</p>\n</blockquote><p>å…¶åœ°å€æ˜¯ï¼š</p><blockquote>\n<p>åŸºå€ + ç´¢å¼•å€¼*å­—èŠ‚æ•° + åç§»é‡</p>\n</blockquote><p>ä¸¾ä¾‹æ¥è¯´ï¼š</p><blockquote>\n<p>8(%rbp)ï¼Œæ˜¯æ¯”%rbpå¯„å­˜å™¨çš„å€¼åŠ 8ã€‚<br>\n-8(%rbp)ï¼Œæ˜¯æ¯”%rbpå¯„å­˜å™¨çš„å€¼å‡8ã€‚<br>\nï¼ˆ%rbp, %eax, 4ï¼‰çš„å€¼ï¼Œç­‰äº%rbp + %eax*4ã€‚è¿™ä¸ªåœ°å€æ ¼å¼ç›¸å½“äºè®¿é—®Cè¯­è¨€ä¸­çš„æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œæ•°ç»„å…ƒç´ æ˜¯32ä½çš„æ•´æ•°ï¼Œå…¶ç´¢å¼•å€¼æ˜¯%eaxï¼Œè€Œæ•°ç»„çš„èµ·å§‹ä½ç½®æ˜¯%rbpã€‚å…¶ä¸­å­—èŠ‚æ•°åªèƒ½å–1,2,4,8å››ä¸ªå€¼ã€‚</p>\n</blockquote><p>ä½ ç°åœ¨åº”è¯¥å¯¹æŒ‡ä»¤çš„æ ¼å¼æœ‰æ‰€äº†è§£äº†ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†å­¦å‡ ä¸ªå¸¸ç”¨çš„æŒ‡ä»¤ï¼š</p><p><strong>movæŒ‡ä»¤</strong></p><pre><code>mov å¯„å­˜å™¨|å†…å­˜|ç«‹å³æ•°, å¯„å­˜å™¨|å†…å­˜\n</code></pre><p>è¿™ä¸ªæŒ‡ä»¤æœ€å¸¸ç”¨åˆ°ï¼Œç”¨äºåœ¨å¯„å­˜å™¨æˆ–å†…å­˜ä¹‹é—´ä¼ é€’æ•°æ®ï¼Œæˆ–è€…æŠŠç«‹å³æ•°åŠ è½½åˆ°å†…å­˜æˆ–å¯„å­˜å™¨ã€‚movæŒ‡ä»¤çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æºï¼Œå¯ä»¥æ˜¯å¯„å­˜å™¨ã€å†…å­˜æˆ–ç«‹å³æ•°ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç›®çš„åœ°ï¼Œå¯ä»¥æ˜¯å¯„å­˜å™¨æˆ–å†…å­˜ã€‚</p><p><strong>leaæŒ‡ä»¤ï¼Œleaæ˜¯â€œload effective addressâ€çš„æ„æ€ï¼Œè£…è½½æœ‰æ•ˆåœ°å€ã€‚</strong></p><pre><code>lea æºï¼Œç›®çš„\n</code></pre><p>æ¯”å¦‚å‰é¢ä¾‹å­ä»£ç ä¸­çš„leaqæŒ‡ä»¤ï¼Œæ˜¯æŠŠå­—ç¬¦ä¸²çš„åœ°å€åŠ è½½åˆ°%rdiå¯„å­˜å™¨ã€‚</p><pre><code>leaq    L_.str(%rip), %rdi\n</code></pre><p><strong>addæŒ‡ä»¤æ˜¯åšåŠ æ³•è¿ç®—ï¼Œå®ƒå¯ä»¥é‡‡å–ä¸‹é¢çš„æ ¼å¼ï¼š</strong></p><pre><code>add ç«‹å³æ•°ï¼Œ å¯„å­˜å™¨ \nadd å¯„å­˜å™¨ï¼Œ å¯„å­˜å™¨ \nadd å†…å­˜ï¼Œ å¯„å­˜å™¨ \nadd ç«‹å³æ•°ï¼Œ å†…å­˜ \nadd å¯„å­˜å™¨ï¼Œ å†…å­˜\n</code></pre><p>æ¯”å¦‚ï¼Œå…¸å‹çš„c=a+bè¿™æ ·ä¸€ä¸ªç®—æœ¯è¿ç®—å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š</p><pre><code>movl -4(%rbp), %eax    #æŠŠ%rbp-4çš„å€¼æ‹·è´åˆ°%eax\naddl -8(%rbp), %eax   #æŠŠ%rbp-8åœ°å€çš„å€¼åŠ åˆ°%eaxä¸Š\nmovl %eax, -12(%rbp)   #æŠŠ%eaxçš„å€¼å†™åˆ°å†…å­˜åœ°å€%rbp-12\n</code></pre><p>è¿™ä¸‰è¡Œä»£ç ï¼Œåˆ†åˆ«æ˜¯æ“ä½œaã€bã€cä¸‰ä¸ªå˜é‡çš„åœ°å€ã€‚å®ƒä»¬çš„åœ°å€åˆ†åˆ«æ¯”%rbpçš„å€¼å‡4ã€å‡8ã€å‡12ï¼Œå› æ­¤aã€bã€cä¸‰ä¸ªå˜é‡æ¯ä¸ªéƒ½æ˜¯4ä¸ªå­—èŠ‚é•¿ï¼Œä¹Ÿå°±æ˜¯32ä½ï¼Œå®ƒä»¬æ˜¯ç´§æŒ¨ç€å­˜æ”¾çš„ï¼Œå¹¶ä¸”æ˜¯ä»é«˜åœ°å€å‘ä½åœ°å€å»¶ä¼¸çš„ï¼Œè¿™æ˜¯æ ˆçš„ç‰¹å¾ã€‚</p><p><strong>é™¤äº†addä»¥å¤–ï¼Œå…¶ä»–ç®—æœ¯è¿ç®—çš„æŒ‡ä»¤ï¼š</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/5b/5e/5b945cfd9287417e801819a22f5a8b5e.jpg?wh=1142*655\" alt=\"\"></p><p><strong>ä¸æ ˆæœ‰å…³çš„æ“ä½œï¼š</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/72/df/72dd44d44e416cf59bc3bb40efdb99df.jpg?wh=1142*217\" alt=\"\"></p><p><strong>è·³è½¬ç±»ï¼š</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/81/58/814115093a062cfcde9054d4bd957858.jpg?wh=1142*187\" alt=\"\"></p><p><strong>è¿‡ç¨‹è°ƒç”¨ï¼š</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/71/15/71014fa3d6f218ba4cd0d65ae8966615.jpg?wh=1142*256\" alt=\"\"></p><p><strong>æ¯”è¾ƒæ“ä½œï¼š</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/48/f0/48ed198159b91b09a317493870faecf0.jpg?wh=1142*233\" alt=\"\"></p><p>ä»¥ä¸Šæˆ‘åˆ—ä¸¾çš„æŒ‡ä»¤ï¼Œæ˜¯ä½ åœ¨ç¼–å†™æ±‡ç¼–ä»£ç æ—¶ï¼Œç»å¸¸ä¼šç”¨åˆ°çš„ï¼Œæ¯”è¾ƒé‡è¦ï¼Œä¼šæ»¡è¶³ä½ ç¼–å†™ç®€å•æ±‡ç¼–ç¨‹åºçš„éœ€æ±‚ï¼Œæ‰€ä»¥ä½ éœ€è¦é‡ç‚¹å…³æ³¨ã€‚</p><p>x86-64æ˜¯å¤æ‚æŒ‡ä»¤é›†çš„å¤„ç†å™¨ï¼Œæœ‰éå¸¸å¤šçš„æŒ‡ä»¤ï¼Œå·®ä¸å¤šæœ‰ä¸Šåƒæ¡ï¼Œå…¨éƒ¨è®°ä½æ˜¯æ¯”è¾ƒéš¾çš„ã€‚æ›´å¥½çš„åŠæ³•ï¼Œæ˜¯è®°ä½ä¸»è¦çš„æŒ‡ä»¤ï¼Œå…¶ä»–æŒ‡ä»¤åœ¨ä½¿ç”¨æ—¶å»æŸ¥<a href=\"https://software.intel.com/en-us/download/intel-64-and-ia-32-architectures-sdm-combined-volumes-1-2a-2b-2c-2d-3a-3b-3c-3d-and-4\">Intelå…¬å¸çš„æ‰‹å†Œ</a>ï¼Œåœ¨è¿™é‡Œæˆ‘å°±ä¸ä¸¾ä¾‹äº†ã€‚</p><h2>x86-64æ¶æ„çš„å¯„å­˜å™¨</h2><p>åœ¨æ±‡ç¼–ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸è¦ä½¿ç”¨å„ç§ä»¥%å¼€å¤´çš„å¯„å­˜å™¨çš„ç¬¦å·ã€‚åˆå­¦è€…é˜…è¯»è¿™äº›ä»£ç æ—¶ï¼Œé€šå¸¸ä¼šæœ‰ä¸€äº›ç–‘é—®ï¼šæœ‰å‡ ä¸ªå¯„å­˜å™¨å¯ä»¥ç”¨ï¼Ÿæˆ‘å¯ä»¥éšä¾¿ç”¨å®ƒä»¬å—ï¼Ÿä½¿ç”¨ä¸å½“ä¼šä¸ä¼šé€ æˆé”™è¯¯ï¼Ÿç­‰ç­‰ã€‚æ‰€ä»¥ï¼Œæœ‰å¿…è¦è®©ä½ ç†Ÿæ‚‰ä¸€ä¸‹è¿™äº›å¯„å­˜å™¨ï¼Œäº†è§£å®ƒä»¬çš„ä½¿ç”¨æ–¹æ³•ã€‚</p><p>x86-64æ¶æ„çš„CPUé‡Œæœ‰å¾ˆå¤šå¯„å­˜å™¨ï¼Œæˆ‘ä»¬åœ¨ä»£ç é‡Œæœ€å¸¸ç”¨çš„æ˜¯16ä¸ª64ä½çš„é€šç”¨å¯„å­˜å™¨ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><blockquote>\n<p>%raxï¼Œ%rbxï¼Œ%rcxï¼Œ%rdxï¼Œ%rsiï¼Œ%rdiï¼Œ%rbpï¼Œ%rspï¼Œ  %r8ï¼Œ%r9ï¼Œ%r10ï¼Œ%r11ï¼Œ%r12ï¼Œ%r13ï¼Œ%r14ï¼Œ%r15ã€‚</p>\n</blockquote><p>è¿™äº›å¯„å­˜å™¨åœ¨å†å²ä¸Šæœ‰å„è‡ªçš„ç”¨é€”ï¼Œæ¯”å¦‚ï¼Œraxä¸­çš„â€œaâ€ï¼Œæ˜¯Accumulator(ç´¯åŠ å™¨)çš„æ„æ€ï¼Œè¿™ä¸ªå¯„å­˜å™¨æ˜¯ç´¯åŠ å¯„å­˜å™¨ã€‚</p><p>ä½†éšç€æŠ€æœ¯çš„å‘å±•ï¼Œè¿™äº›å¯„å­˜å™¨åŸºæœ¬ä¸Šéƒ½æˆä¸ºäº†é€šç”¨çš„å¯„å­˜å™¨ï¼Œä¸é™äºæŸç§ç‰¹å®šçš„ç”¨é€”ã€‚ä½†æ˜¯ï¼Œä¸ºäº†æ–¹ä¾¿è½¯ä»¶çš„ç¼–å†™ï¼Œæˆ‘ä»¬è¿˜æ˜¯åšäº†ä¸€äº›çº¦å®šï¼Œç»™è¿™äº›å¯„å­˜å™¨åˆ’åˆ†äº†ç”¨é€”ã€‚é’ˆå¯¹x86-64æ¶æ„æœ‰å¤šä¸ªè°ƒç”¨çº¦å®šï¼ˆCalling Conventionï¼‰ï¼ŒåŒ…æ‹¬å¾®è½¯çš„x64è°ƒç”¨çº¦å®šï¼ˆWindowsç³»ç»Ÿï¼‰ã€System V AMD64 ABIï¼ˆUnixå’ŒLinuxç³»ç»Ÿï¼‰ç­‰ï¼Œä¸‹é¢çš„å†…å®¹å±äºåè€…ï¼š</p><ul>\n<li>\n<p>%rax é™¤äº†å…¶ä»–ç”¨é€”å¤–ï¼Œé€šå¸¸åœ¨å‡½æ•°è¿”å›çš„æ—¶å€™ï¼ŒæŠŠè¿”å›å€¼æ”¾åœ¨è¿™é‡Œã€‚</p>\n</li>\n<li>\n<p>%rsp ä½œä¸ºæ ˆæŒ‡é’ˆå¯„å­˜å™¨ï¼ŒæŒ‡å‘æ ˆé¡¶ã€‚</p>\n</li>\n<li>\n<p>%rdiï¼Œ%rsiï¼Œ%rdxï¼Œ%rcxï¼Œ%r8ï¼Œ%r9 ç»™å‡½æ•°ä¼ æ•´å‹å‚æ•°ï¼Œä¾æ¬¡å¯¹åº”ç¬¬1å‚æ•°åˆ°ç¬¬6å‚æ•°ã€‚è¶…è¿‡6ä¸ªå‚æ•°æ€ä¹ˆåŠï¼Ÿæ”¾åœ¨æ ˆæ¡¢é‡Œï¼Œæˆ‘ä»¬<a href=\"https://time.geekbang.org/column/article/146635\">21è®²</a>å·²ç»è®²è¿‡äº†ã€‚</p>\n</li>\n<li>\n<p>å¦‚æœç¨‹åºè¦ä½¿ç”¨%rbxï¼Œ%rbpï¼Œ%r12ï¼Œ%r13ï¼Œ%r14ï¼Œ%r15 è¿™å‡ ä¸ªå¯„å­˜å™¨ï¼Œæ˜¯ç”±è¢«è°ƒç”¨è€…ï¼ˆCalleeï¼‰è´Ÿè´£ä¿æŠ¤çš„ï¼Œä¹Ÿå°±æ˜¯å†™åˆ°æ ˆé‡Œï¼Œåœ¨è¿”å›çš„æ—¶å€™è¦æ¢å¤è¿™äº›å¯„å­˜å™¨ä¸­åŸæ¥çš„å†…å®¹ã€‚å…¶ä»–å¯„å­˜å™¨çš„å†…å®¹ï¼Œåˆ™æ˜¯ç”±è°ƒç”¨è€…ï¼ˆCallerï¼‰è´Ÿè´£ä¿æŠ¤ï¼Œå¦‚æœä¸æƒ³è¿™äº›å¯„å­˜å™¨ä¸­çš„å†…å®¹è¢«ç ´åï¼Œé‚£ä¹ˆè¦è‡ªå·±ä¿æŠ¤èµ·æ¥ã€‚</p>\n</li>\n</ul><p>ä¸Šé¢è¿™äº›å¯„å­˜å™¨çš„åå­—éƒ½æ˜¯64ä½çš„åå­—ï¼Œå¯¹äºæ¯ä¸ªå¯„å­˜å™¨ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åªä½¿ç”¨å®ƒçš„ä¸€éƒ¨åˆ†ï¼Œå¹¶ä¸”å¦èµ·ä¸€ä¸ªåå­—ã€‚æ¯”å¦‚å¯¹äº%raxï¼Œå¦‚æœä½¿ç”¨å®ƒçš„å‰32ä½ï¼Œå°±å«åš%eaxï¼Œå‰16ä½å«%axï¼Œå‰8ä½ï¼ˆ0åˆ°7ä½ï¼‰å«%alï¼Œ8åˆ°15ä½å«%ahã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/db/1a/dbde233c28b9f92b38286abb49c1411a.jpg?wh=1142*363\" alt=\"\"></p><p>å…¶ä»–çš„å¯„å­˜å™¨ä¹Ÿæœ‰è¿™æ ·çš„ä½¿ç”¨æ–¹å¼ï¼Œå½“ä½ åœ¨æ±‡ç¼–ä»£ç ä¸­çœ‹åˆ°è¿™äº›åç§°çš„æ—¶å€™ï¼Œä½ å°±çŸ¥é“å…¶å®å®ƒä»¬æœ‰å¯èƒ½åœ¨ç‰©ç†ä¸Šæ˜¯åŒä¸€ä¸ªå¯„å­˜å™¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b9/3d/b9bec8ec5536a5d1fc346e79b0357a3d.jpg?wh=1142*467\" alt=\"\"></p><p>é™¤äº†é€šç”¨å¯„å­˜å™¨ä»¥å¤–ï¼Œæœ‰å¯èƒ½çš„è¯ï¼Œè¿˜è¦äº†è§£ä¸‹é¢çš„å¯„å­˜å™¨å’Œå®ƒä»¬çš„ç”¨é€”ï¼Œæˆ‘ä»¬å†™æ±‡ç¼–ä»£ç æ—¶ä¹Ÿç»å¸¸è·Ÿå®ƒä»¬å‘ç”Ÿå…³è”ï¼š</p><ul>\n<li>\n<p>8ä¸ª80ä½çš„x87å¯„å­˜å™¨ï¼Œç”¨äºåšæµ®ç‚¹è®¡ç®—ï¼›</p>\n</li>\n<li>\n<p>8ä¸ª64ä½çš„MMXå¯„å­˜å™¨ï¼Œç”¨äºMMXæŒ‡ä»¤ï¼ˆå³å¤šåª’ä½“æŒ‡ä»¤ï¼‰ï¼Œè¿™8ä¸ªè·Ÿx87å¯„å­˜å™¨åœ¨ç‰©ç†ä¸Šæ˜¯ç›¸åŒçš„å¯„å­˜å™¨ã€‚åœ¨ä¼ é€’æµ®ç‚¹æ•°å‚æ•°çš„æ—¶å€™ï¼Œè¦ç”¨mmxå¯„å­˜å™¨ã€‚</p>\n</li>\n<li>\n<p>16ä¸ª128ä½çš„SSEå¯„å­˜å™¨ï¼Œç”¨äºSSEæŒ‡ä»¤ã€‚æˆ‘ä»¬å°†åœ¨åº”ç”¨ç¯‡é‡Œä½¿ç”¨SSEæŒ‡ä»¤ï¼Œè®²è§£SIMDçš„æ¦‚å¿µã€‚</p>\n</li>\n<li>\n<p>æŒ‡ä»¤å¯„å­˜å™¨ï¼Œripï¼Œä¿å­˜æŒ‡ä»¤åœ°å€ã€‚CPUæ€»æ˜¯æ ¹æ®è¿™ä¸ªå¯„å­˜å™¨æ¥è¯»å–æŒ‡ä»¤ã€‚</p>\n</li>\n<li>\n<p>flagsï¼ˆ64ä½ï¼šrflags, 32ä½ï¼šeflagsï¼‰å¯„å­˜å™¨ï¼šæ¯ä¸ªä½ç”¨æ¥æ ‡è¯†ä¸€ä¸ªçŠ¶æ€ã€‚æ¯”å¦‚ï¼Œå®ƒä»¬ä¼šç”¨äºæ¯”è¾ƒå’Œè·³è½¬çš„æŒ‡ä»¤ï¼Œæ¯”å¦‚ifè¯­å¥ç¿»è¯‘æˆçš„æ±‡ç¼–ä»£ç ï¼Œå°±ä¼šç”¨å®ƒä»¬æ¥ä¿å­˜ifæ¡ä»¶çš„è®¡ç®—ç»“æœã€‚</p>\n</li>\n</ul><p>æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬çš„æ±‡ç¼–ä»£ç å¤„å¤„è¦è·Ÿå¯„å­˜å™¨æ‰“äº¤é“ï¼Œæ­£ç¡®å’Œé«˜æ•ˆä½¿ç”¨å¯„å­˜å™¨ï¼Œæ˜¯ç¼–è¯‘æœŸåç«¯çš„é‡è¦ä»»åŠ¡ä¹‹ä¸€ã€‚</p><h2>è¯¾ç¨‹å°ç»“</h2><p>æœ¬èŠ‚è¯¾ï¼Œæˆ‘è®²è§£äº†æ±‡ç¼–è¯­è¨€çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œç”±äºæ±‡ç¼–è¯­è¨€çš„ç‰¹ç‚¹ï¼Œæ¶‰åŠçš„çŸ¥è¯†ç‚¹å’Œç»†èŠ‚æ¯”è¾ƒå¤šï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½ æ— éœ€æ­»è®°ç¡¬èƒŒï¼Œåªéœ€è¦æŒæ¡å‡ ä¸ªé‡ç‚¹å†…å®¹ï¼š</p><p>1.æ±‡ç¼–è¯­è¨€æ˜¯ç”±æŒ‡ä»¤ã€æ ‡ç­¾ã€ä¼ªæŒ‡ä»¤å’Œæ³¨é‡Šæ„æˆçš„ã€‚å…¶ä¸­ä¸»è¦å†…å®¹éƒ½æ˜¯æŒ‡ä»¤ã€‚æŒ‡ä»¤åŒ…å«ä¸€ä¸ªè¯¥æŒ‡ä»¤çš„åŠ©è®°ç¬¦å’Œæ“ä½œæ•°ã€‚æ“ä½œæ•°å¯ä»¥ä½¿ç”¨ç›´æ¥æ•°ã€å¯„å­˜å™¨ï¼Œä»¥åŠç”¨ä¸¤ç§æ–¹å¼è®¿é—®å†…å­˜åœ°å€ã€‚</p><p>2.æ±‡ç¼–æŒ‡ä»¤ä¸­ä¼šç”¨åˆ°ä¸€äº›é€šç”¨å¯„å­˜å™¨ã€‚è¿™äº›å¯„å­˜å™¨é™¤äº†ç”¨äºè®¡ç®—ä»¥å¤–ï¼Œè¿˜å¯ä»¥æ ¹æ®è°ƒç”¨çº¦å®šå¸®åŠ©ä¼ é€’å‚æ•°å’Œè¿”å›å€¼ã€‚ä½¿ç”¨å¯„å­˜å™¨æ—¶ï¼Œè¦åŒºåˆ†ç”±è°ƒç”¨è€…è¿˜æ˜¯è¢«è°ƒç”¨è€…è´Ÿè´£ä¿æŠ¤å¯„å­˜å™¨ä¸­åŸæ¥çš„å†…å®¹ã€‚</p><p>å¦å¤–ï¼Œæˆ‘ä»¬è¿˜è¦æ³¨æ„æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ç»´æŠ¤å’Œä½¿ç”¨æ ˆæ¡¢ï¼Œ<strong>è¿™ä¸ªçŸ¥è¯†ç‚¹ä¼šåœ¨åé¢çš„åŠ é¤ä¸­å±•å¼€æ¥è®²ä¸€ä¸ªä¾‹å­ã€‚</strong></p><p>é‰´äºä½ å¯èƒ½æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨æ±‡ç¼–è¯­è¨€ï¼Œæ‰€ä»¥æˆ‘<strong>æä¾›ä¸¤ä¸ªå»ºè®®ï¼Œè®©ä½ å¿«é€Ÿä¸Šæ‰‹æ±‡ç¼–è¯­è¨€ï¼š</strong></p><p>1.ä½ å¯ä»¥ç”¨Cè¯­è¨€å†™ä¸€äº›ç¤ºä¾‹ä»£ç ï¼Œç„¶åç”¨ç¼–è¯‘å™¨ç”Ÿæˆæ±‡ç¼–ä»£ç ï¼Œçœ‹çœ‹èƒ½å¦çœ‹æ‡‚ã€‚</p><p>2.æ¨¡ä»¿æ–‡ç¨¿ä¸­çš„ä¾‹å­ï¼Œè‡ªå·±æ”¹å†™å¹¶è¿è¡Œä½ è‡ªå·±çš„æ±‡ç¼–ç¨‹åºï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½ ä¼šå‘ç°çœŸçš„æ²¡é‚£ä¹ˆéš¾ã€‚</p><h2>ä¸€è¯¾ä¸€æ€</h2><p>ä½ ä¹‹å‰å­¦ä¹ è¿‡æˆ–è€…åœ¨é¡¹ç›®ä¸­ä½¿ç”¨è¿‡æ±‡ç¼–è¯­è¨€å—ï¼Ÿæ„Ÿå—æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæœ‰ä»€ä¹ˆç»éªŒå’Œä½“ä¼šå‘¢ï¼Ÿæ¬¢è¿åœ¨ç•™è¨€åŒºåˆ†äº«ä½ çš„ç»éªŒä¸æ„Ÿå—ã€‚</p><p>æœ€åï¼Œæ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œå¦‚æœè¿™ç¯‡æ–‡ç« è®©ä½ æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ å°†å®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p>","comments":[{"had_liked":false,"id":140115,"user_name":"æ²‰æ·€çš„æ¢¦æƒ³","can_delete":false,"product_type":"c1","uid":1177315,"ip_address":"","ucode":"BCB7C26F9D214B","user_header":"https://static001.geekbang.org/account/avatar/00/11/f6/e3/e4bcd69e.jpg","comment_is_top":false,"comment_ctime":1570812465,"is_pvip":false,"replies":[{"id":"54409","content":"å°±æ˜¯ä¸€ä¸ªé—´æ¥å†…å­˜è®¿é—®ã€‚åŸºæ•°æ˜¯%ripï¼Œä¹Ÿå°±æ˜¯æŒ‡ä»¤å¯„å­˜å™¨ä¸­çš„å€¼ï¼Œä¹Ÿå°±æ˜¯leaqè¿™è¡Œä»£ç çš„ä¸‹ä¸€è¡Œä»£ç çš„åœ°å€ã€‚L_.strä¼šè¢«æ±‡ç¼–å™¨ç®—å‡ºä¸€ä¸ªç›´æ¥æ•°æ¥ï¼Œæ¯”å¦‚0x20ï¼Œä¹Ÿå°±æ˜¯32ä¸ªå­—èŠ‚ã€‚è¿™è¡ŒæŒ‡ä»¤å°±ç­‰ä»·äºï¼š0x20(%rip)ã€‚<br>0x20æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå°±æ˜¯è¿™ä¸ªå­—ç¬¦ä¸²å¸¸é‡çš„åœ°å€ä¸%ripå€¼çš„å·®ã€‚è¿™ç§å¯»å€æ–¹å¼å«åšripç›¸å¯¹å¯»å€ã€‚å› ä¸ºä»£ç åŒºåœ¨ä¸‹é¢ï¼Œé™æ€æ•°æ®åŒºåœ¨ä¸Šé¢ï¼Œæ‰€ä»¥é™æ€æ•°æ®çš„åœ°å€ä¸€å®šå¤§äºæŒ‡ä»¤çš„åœ°å€ã€‚åœ¨è¿™é‡Œï¼Œæ˜¯å¤š0x20ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯32ä¸ªå­—èŠ‚ã€‚<br>ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆéº»çƒ¦å‘¢ï¼Ÿä¸ºä»€ä¹ˆä¸ä½¿ç”¨è¿™ä¸ªå­—ç¬¦ä¸²çš„ç¡®å®šåœ°å€å‘¢ï¼Ÿè¿™ä¸»è¦æ˜¯ä¸ºäº†è®©ç¨‹åºä»£ç æ›´åŠ ä½ç½®æ— å…³ã€‚åœ¨ä½¿ç”¨åŠ¨æ€åº“ä¹‹ç±»çš„åœºæ™¯çš„æ—¶å€™æœ‰å¥½å¤„ã€‚<br><br>å¦å¤–ï¼Œleaè¿™ä¸ªæŒ‡ä»¤é™¤äº†è·å–åœ°å€ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªâ€œå¥‡æ€ªâ€çš„ç”¨æ³•ï¼Œå®ƒå¯ä»¥ç”¨è®¡ç®—åœ°å€çš„æ–¹æ³•ï¼Œå®é™…ä¸Šå¯¹å¯„å­˜å™¨çš„å€¼åŒæ—¶å®ŒæˆåŠ æ³•å’Œä¹˜æ³•çš„è®¡ç®—ï¼Œç›¸å½“äºä¸€ä¸ªä¸‰å…ƒè®¡ç®—ï¼Œå¹¶ä¸”åªä½¿ç”¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸã€‚æ¯”å¦‚ï¼šlea 0x20(,%eax,2) %eaxï¼Œæœ¬æ¥æ˜¯ç”¨æ¥ç®—ä¸€ä¸ªåœ°å€ï¼Œç»“æœè¢«ç”¨æ¥ä¸€æ¬¡æ€§çš„åšäº†ä¸€ä¸ªä¹˜æ³•å’Œä¸€ä¸ªåŠ æ³•è®¡ç®—ã€‚<br><br>æä¾›3ç¯‡æ–‡ç« ä½œä¸ºå‚è€ƒï¼š<br>https:&#47;&#47;stackoverflow.com&#47;questions&#47;40329260&#47;why-is-the-address-of-static-variables-relative-to-the-instruction-pointer<br><br>https:&#47;&#47;stackoverflow.com&#47;questions&#47;3250277&#47;how-to-use-rip-relative-addressing-in-a-64-bit-assembly-program<br><br>https:&#47;&#47;zhuanlan.zhihu.com&#47;p&#47;58774036","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1571044114,"ip_address":"","comment_id":140115,"utype":1}],"discussion_count":4,"race_medal":0,"score":"87470158385","product_id":100034101,"comment_content":"æ²¡å¤ªçœ‹æ‡‚æ–‡ç¨¿ä¸­çš„&quot;leaq    L_.str(%rip), %rdi&quot;é‡Œé¢çš„&quot;L_.str(%rip)&quot;çš„å«ä¹‰ï¼Œèƒ½å†è§£é‡Šä¸€ä¸‹å—ï¼Ÿ","like_count":21,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470254,"discussion_content":"å°±æ˜¯ä¸€ä¸ªé—´æ¥å†…å­˜è®¿é—®ã€‚åŸºæ•°æ˜¯%ripï¼Œä¹Ÿå°±æ˜¯æŒ‡ä»¤å¯„å­˜å™¨ä¸­çš„å€¼ï¼Œä¹Ÿå°±æ˜¯leaqè¿™è¡Œä»£ç çš„ä¸‹ä¸€è¡Œä»£ç çš„åœ°å€ã€‚L_.strä¼šè¢«æ±‡ç¼–å™¨ç®—å‡ºä¸€ä¸ªç›´æ¥æ•°æ¥ï¼Œæ¯”å¦‚0x20ï¼Œä¹Ÿå°±æ˜¯32ä¸ªå­—èŠ‚ã€‚è¿™è¡ŒæŒ‡ä»¤å°±ç­‰ä»·äºï¼š0x20(%rip)ã€‚\n0x20æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå°±æ˜¯è¿™ä¸ªå­—ç¬¦ä¸²å¸¸é‡çš„åœ°å€ä¸%ripå€¼çš„å·®ã€‚è¿™ç§å¯»å€æ–¹å¼å«åšripç›¸å¯¹å¯»å€ã€‚å› ä¸ºä»£ç åŒºåœ¨ä¸‹é¢ï¼Œé™æ€æ•°æ®åŒºåœ¨ä¸Šé¢ï¼Œæ‰€ä»¥é™æ€æ•°æ®çš„åœ°å€ä¸€å®šå¤§äºæŒ‡ä»¤çš„åœ°å€ã€‚åœ¨è¿™é‡Œï¼Œæ˜¯å¤š0x20ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯32ä¸ªå­—èŠ‚ã€‚\nä¸ºä»€ä¹ˆè¦è¿™ä¹ˆéº»çƒ¦å‘¢ï¼Ÿä¸ºä»€ä¹ˆä¸ä½¿ç”¨è¿™ä¸ªå­—ç¬¦ä¸²çš„ç¡®å®šåœ°å€å‘¢ï¼Ÿè¿™ä¸»è¦æ˜¯ä¸ºäº†è®©ç¨‹åºä»£ç æ›´åŠ ä½ç½®æ— å…³ã€‚åœ¨ä½¿ç”¨åŠ¨æ€åº“ä¹‹ç±»çš„åœºæ™¯çš„æ—¶å€™æœ‰å¥½å¤„ã€‚\n\nå¦å¤–ï¼Œleaè¿™ä¸ªæŒ‡ä»¤é™¤äº†è·å–åœ°å€ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªâ€œå¥‡æ€ªâ€çš„ç”¨æ³•ï¼Œå®ƒå¯ä»¥ç”¨è®¡ç®—åœ°å€çš„æ–¹æ³•ï¼Œå®é™…ä¸Šå¯¹å¯„å­˜å™¨çš„å€¼åŒæ—¶å®ŒæˆåŠ æ³•å’Œä¹˜æ³•çš„è®¡ç®—ï¼Œç›¸å½“äºä¸€ä¸ªä¸‰å…ƒè®¡ç®—ï¼Œå¹¶ä¸”åªä½¿ç”¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸã€‚æ¯”å¦‚ï¼šlea 0x20(,%eax,2) %eaxï¼Œæœ¬æ¥æ˜¯ç”¨æ¥ç®—ä¸€ä¸ªåœ°å€ï¼Œç»“æœè¢«ç”¨æ¥ä¸€æ¬¡æ€§çš„åšäº†ä¸€ä¸ªä¹˜æ³•å’Œä¸€ä¸ªåŠ æ³•è®¡ç®—ã€‚\n\næä¾›3ç¯‡æ–‡ç« ä½œä¸ºå‚è€ƒï¼š\nhttps://stackoverflow.com/questions/40329260/why-is-the-address-of-static-variables-relative-to-the-instruction-pointer\n\nhttps://stackoverflow.com/questions/3250277/how-to-use-rip-relative-addressing-in-a-64-bit-assembly-program\n\nhttps://zhuanlan.zhihu.com/p/58774036","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571044114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1115232,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","nickname":"Fan","note":"","ucode":"3BF28670FD9407","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"discussion":{"id":539598,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639758632,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":470254,"ip_address":""},"score":539598,"extra":""}]},{"author":{"id":2539241,"avatar":"https://static001.geekbang.org/account/avatar/00/26/be/e9/9d597e04.jpg","nickname":"è±†è±†é…±","note":"","ucode":"1F321F2DF51DC5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":562732,"discussion_content":"%ripçš„å€¼æ˜¯ä¼šå˜åŒ–çš„å§ï¼Ÿå› ä¸ºæ¯æ¬¡ä¸‹ä¸€æ¡æŒ‡ä»¤éƒ½ä¸ä¸€æ ·ï¼Œé‚£å²‚ä¸æ˜¯è¿™ä¸ªå…¨å±€å˜é‡çš„åœ°å€ä¹Ÿåœ¨å˜ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1649865950,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2776720,"avatar":"","nickname":"Geek_964a1d","note":"","ucode":"C2653552516662","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581638,"discussion_content":"L_.str æ˜¯æ ‡ç­¾ï¼Œä¸ä¼šå˜ï¼Œ %rip æŒ‡å‘ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œä¼šå˜ï¼Œ æ‰€ä»¥ï¼Œè¿™æ¡æŒ‡ä»¤  leaq L_.str(%rip), %rdi æ²¡å•¥æ„ä¹‰å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658903979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":213193,"user_name":"sugar","can_delete":false,"product_type":"c1","uid":1167046,"ip_address":"","ucode":"454538FF253B5F","user_header":"https://static001.geekbang.org/account/avatar/00/11/ce/c6/958212b5.jpg","comment_is_top":false,"comment_ctime":1588326450,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"44537999410","product_id":100034101,"comment_content":"æˆ‘è§‰å¾—è¯»åˆ°è¿™èŠ‚ ä¾ç„¶å‘ç°å®«è€å¸ˆèŠ±è´¹äº†å¾ˆå¤šç¬”å¢¨åœ¨å­—é‡Œè¡Œé—´ç©¿æ’æ¢è®¨åç«¯æŠ€æœ¯çš„é‡è¦æ€§å’Œåº”ç”¨åœºæ™¯ã€‚æˆ‘ä¹Ÿæ¥è´¡çŒ®ä¸€ä¸ªåº”ç”¨åœºæ™¯å§ï¼š å‡ å¹´å‰æˆ‘æ›¾ç»å¬ç»„é‡Œä¸€ä½èµ„æ·±çš„åç«¯ï¼ˆæœåŠ¡å™¨åç«¯ï¼‰å·¥ç¨‹å¸ˆåˆ†äº«è¿‡ä¸€é“golangé¢è¯•é¢˜ï¼Œé¢˜ç›®å¾ˆç®€å•ï¼šâ€œå†™ä¸€ä¸ªforå¾ªç¯è¾“å‡ºä»1åˆ°10 ç”¨goæ¯”ç”¨cæ›´å¿«ï¼Œä¸ºä»€ä¹ˆï¼Ÿâ€ ï¼Œå½“æ—¶çš„æˆ‘ä¸æ˜è§‰å‰ï¼Œäºæ˜¯å»æŸ¥äº†äº›èµ„æ–™å‘ç°ä¼¼ä¹è€ƒç‚¹æ˜¯ä¸€ä¸ªå«è¾¾å¤«æœºå™¨çš„æ¦‚å¿µã€‚å¦‚æœç†Ÿæ‚‰æ±‡ç¼–ï¼Œå…¶å®å¤§å¯ä¸å¿…è¢«è¿™äº›å¬èµ·æ¥é«˜å¤§ä¸Šçš„ç†å¿µå“åˆ°ï¼Œä¸€ä¸ªforloopåœ¨æ±‡ç¼–å±‚é¢ä»£ç ä¹Ÿä¸ä¼šé•¿å¾—å¯æ€•ï¼Œç›´æ¥è¯»è¯»ç¼–è¯‘åçš„ä»£ç å°±å¯ä»¥ç›´è§‚ç ”ç©¶è¿™æ ·çš„é—®é¢˜äº†ï½","like_count":11,"discussions":[{"author":{"id":1059593,"avatar":"https://static001.geekbang.org/account/avatar/00/10/2b/09/2171f9a3.jpg","nickname":"å°ç™½å“¥å“¥","note":"","ucode":"A02A297C7688A4","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547353,"discussion_content":"å‡ºè¿™é¢˜æœ¬èº«å°±æç¬‘ï¼Œä¸æ˜¯æ™®é€‚çš„é—®é¢˜ï¼Œè¿™ç§çš„å°çš„ç‚¹ï¼Œæˆ‘çŸ¥é“100ä¸ªï¼Œä½ ä¹ŸçŸ¥é“100ä¸ªï¼Œä½†å’±ä¿©ä¸å¯èƒ½çŸ¥é“çš„æ˜¯åŒ100ä¸ªã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642646266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143874,"user_name":"ä¸çš„","can_delete":false,"product_type":"c1","uid":1244705,"ip_address":"","ucode":"47CEC012B4B0A0","user_header":"https://static001.geekbang.org/account/avatar/00/12/fe/21/cd5e5fd8.jpg","comment_is_top":false,"comment_ctime":1571802343,"is_pvip":false,"replies":[{"id":"57537","content":"è¿™é‡Œæœ‰ä¸€ä¸ªæ•ˆç‡çš„é—®é¢˜ã€‚<br><br>å¦‚æœå…¨éƒ¨éƒ½æ˜¯è°ƒç”¨è€…ä¿æŠ¤ï¼Œé‚£ä¹ˆå…¶å®ä½ è°ƒç”¨çš„å¯¹è±¡æ ¹æœ¬ä¸ä¼šç ´åä½ çš„å¯„å­˜å™¨ï¼Œä½ ä¹Ÿè¦ä¿æŠ¤èµ·æ¥ï¼Œé‚£å°±å¢åŠ äº†æˆæœ¬ï¼Œå¯¹äºé€»è¾‘æ¯”è¾ƒç®€å•çš„è¢«è°ƒç”¨è€…ï¼Œæ˜¯ç”¨ä¸åˆ°å‡ ä¸ªå¯„å­˜å™¨çš„ã€‚<br><br>å¦‚æœå…¨éƒ¨éƒ½æ˜¯è¢«è°ƒç”¨è€…ä¿æŠ¤ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„é€»è¾‘ã€‚å¦‚æœè°ƒç”¨è€…ç”¨äº†å¾ˆå°‘å‡ ä¸ªå¯„å­˜å™¨ï¼Œè¢«è°ƒç”¨è€…å´è¦ä¿æŠ¤å¾ˆå¤šï¼Œä¹Ÿä¸åˆ’ç®—ã€‚<br><br>æ‰€ä»¥æœ€ä¼˜çš„æ–¹æ³•ï¼Œå…¶å®æ˜¯æ¯”è¾ƒä¸­åº¸ä¸»ä¹‰çš„ã€‚æˆ‘è§‰å¾—è¿™å¯ä»¥ç”¨æ¦‚ç‡çš„æ–¹æ³•åšæ¯”è¾ƒä¸¥è°¨çš„è¯æ˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1573307739,"ip_address":"","comment_id":143874,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44521475303","product_id":100034101,"comment_content":"è€å¸ˆï¼Œä¸ºå•¥è¦è®¾è®¡æˆåŒºåˆ†è°ƒç”¨è€…ã€è¢«è°ƒç”¨è€…ä¿æŠ¤çš„å¯„å­˜å™¨ï¼Œç»Ÿä¸€è¢«è°ƒç”¨è€…æˆ–è€…è°ƒç”¨è€…ä¿æŠ¤ï¼Œæœ‰å•¥é—®é¢˜ä¹ˆ","like_count":11,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471734,"discussion_content":"è¿™é‡Œæœ‰ä¸€ä¸ªæ•ˆç‡çš„é—®é¢˜ã€‚\n\nå¦‚æœå…¨éƒ¨éƒ½æ˜¯è°ƒç”¨è€…ä¿æŠ¤ï¼Œé‚£ä¹ˆå…¶å®ä½ è°ƒç”¨çš„å¯¹è±¡æ ¹æœ¬ä¸ä¼šç ´åä½ çš„å¯„å­˜å™¨ï¼Œä½ ä¹Ÿè¦ä¿æŠ¤èµ·æ¥ï¼Œé‚£å°±å¢åŠ äº†æˆæœ¬ï¼Œå¯¹äºé€»è¾‘æ¯”è¾ƒç®€å•çš„è¢«è°ƒç”¨è€…ï¼Œæ˜¯ç”¨ä¸åˆ°å‡ ä¸ªå¯„å­˜å™¨çš„ã€‚\n\nå¦‚æœå…¨éƒ¨éƒ½æ˜¯è¢«è°ƒç”¨è€…ä¿æŠ¤ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„é€»è¾‘ã€‚å¦‚æœè°ƒç”¨è€…ç”¨äº†å¾ˆå°‘å‡ ä¸ªå¯„å­˜å™¨ï¼Œè¢«è°ƒç”¨è€…å´è¦ä¿æŠ¤å¾ˆå¤šï¼Œä¹Ÿä¸åˆ’ç®—ã€‚\n\næ‰€ä»¥æœ€ä¼˜çš„æ–¹æ³•ï¼Œå…¶å®æ˜¯æ¯”è¾ƒä¸­åº¸ä¸»ä¹‰çš„ã€‚æˆ‘è§‰å¾—è¿™å¯ä»¥ç”¨æ¦‚ç‡çš„æ–¹æ³•åšæ¯”è¾ƒä¸¥è°¨çš„è¯æ˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573307739,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227248,"user_name":"æœ‰å­¦è¯†çš„å…”å­","can_delete":false,"product_type":"c1","uid":1628867,"ip_address":"","ucode":"D1D654B1562FC9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIicr82CnrdEjibibAvyeKRQHszSzIAqoCWxN0kqC442XcjEae6S9j6NDtKLpg4Da4CUQQeUFUicWqiaDw/132","comment_is_top":false,"comment_ctime":1592323071,"is_pvip":false,"replies":[{"id":"84098","content":"Great!<br>è®¡ç®—æœºç§‘å­¦é‡Œå¾ˆå¤šçŸ¥è¯†éƒ½æ˜¯é€šç€çš„ï¼Œå¯ä»¥è§¦ç±»æ—é€šï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1592553514,"ip_address":"","comment_id":227248,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14477224959","product_id":100034101,"comment_content":"ä¸€ç›´æƒ³ç€å­¦ä¹ é€†å‘å·¥ç¨‹ï¼Œå¥ˆä½•æ±‡ç¼–ç†è§£ä¸è¶³ å­¦ä¹ æ‘¸ä¸ç€å¤´è„‘ï¼Œè€å¸ˆçš„è¯¾ç¨‹ç»™æˆ‘å¸¦æ¥äº†å¯å‘ã€‚","like_count":3,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498550,"discussion_content":"Great!\nè®¡ç®—æœºç§‘å­¦é‡Œå¾ˆå¤šçŸ¥è¯†éƒ½æ˜¯é€šç€çš„ï¼Œå¯ä»¥è§¦ç±»æ—é€šï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592553514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":225049,"user_name":"æåœ£æ‚¦","can_delete":false,"product_type":"c1","uid":1638427,"ip_address":"","ucode":"C1786C98824E50","user_header":"https://static001.geekbang.org/account/avatar/00/19/00/1b/eee13196.jpg","comment_is_top":false,"comment_ctime":1591624754,"is_pvip":false,"replies":[{"id":"82944","content":"æ„Ÿè°¢åˆ†äº«å¿ƒå¾—ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1591703416,"ip_address":"","comment_id":225049,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5886592050","product_id":100034101,"comment_content":"ç¡®å®æ±‡ç¼–å¹¶ä¸éš¾ï¼Œæœ€è¿‘ä¸€ç›´åœ¨æŸ¥å†…æ ¸å®•æœºé—®é¢˜ï¼Œé˜…è¯»å†…æ¶µæ±‡ç¼–ä»£ç æ²¡ä»€ä¹ˆé˜»ç¢ã€‚éš¾å°±éš¾åœ¨å¦‚ä½•æ¢å¤cä»£ç â€¦","like_count":1,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497710,"discussion_content":"æ„Ÿè°¢åˆ†äº«å¿ƒå¾—ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591703416,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340071,"user_name":"é’å—","can_delete":false,"product_type":"c1","uid":1740413,"ip_address":"","ucode":"2E4802819E9813","user_header":"https://static001.geekbang.org/account/avatar/00/1a/8e/7d/cfe91f29.jpg","comment_is_top":false,"comment_ctime":1648569854,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1648569854","product_id":100034101,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸‹æ±‡ç¼–é‡Œé¢çš„â€œå¯„å­˜å™¨â€æ˜¯ç‰©ç†æ„ä¹‰ä¸Šçš„CPUé‡Œé¢çš„å¯„å­˜å™¨è¿˜æ˜¯é€»è¾‘æ„ä¹‰ä¸Šçš„å¯„å­˜å™¨ï¼Ÿå¦‚æœæ˜¯ç‰©ç†æ„ä¹‰ä¸Šçš„ï¼Œé‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆå¤šä¸ªç¨‹åºåŒæ—¶æ“ä½œåŒä¸€ä¸ªå¯„å­˜å™¨çš„æ—¶å€™ï¼Œä»–ä»¬çš„æ•°æ®ä¸ä¼šå†²çªå‘¢ï¼Ÿå› ä¸ºæ“ä½œç³»ç»Ÿé‡Œé¢è‚¯å®šä¸Šæœ‰å¾ˆå¤šç¨‹åºåœ¨è¿è¡Œçš„ï¼Œå¦‚æœAç¨‹åºç°åœ¨movä¸€ä¸ªæ•°å­—åˆ°rspå¯„å­˜å™¨é‡Œé¢ï¼Œ è€ŒBç¨‹åºæ­¤æ—¶ä¹Ÿmoväº†ä¸€ä¸ªæ•°å­—åˆ°rspå¯„å­˜å™¨é‡Œé¢ï¼Œé‚£ä¹ˆå½“aç¨‹åºä»rspå¯„å­˜å™¨é‡Œé¢è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œä¸å°±è¯»åˆ°Bç¨‹åºå†™è¿›å»çš„æ•°æ®äº†å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2562911,"avatar":"https://static001.geekbang.org/account/avatar/00/27/1b/5f/bc6d9112.jpg","nickname":"å±€å¤–äºº","note":"","ucode":"76CAD1203174AC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568405,"discussion_content":"ç‰©ç†æ„ä¹‰ä¸Šçš„å¯„å­˜å™¨ã€‚å¦‚æœæ˜¯å•æ ¸cpuæ²¡æ³•åŒæ—¶è¿è¡Œä¸¤ä¸ªç¨‹åºï¼Œå¦‚æœæ˜¯å¤šæ ¸cpuæ¯ä¸ªcpuå„æœ‰ä¸€å¥—å¯„å­˜å™¨ï¼Œå› æ­¤ä¸ä¼šå†²çªã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1651127923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319529,"user_name":"coder","can_delete":false,"product_type":"c1","uid":2824732,"ip_address":"","ucode":"F85CD7A71EBA0C","user_header":"https://static001.geekbang.org/account/avatar/00/2b/1a/1c/d160d44b.jpg","comment_is_top":false,"comment_ctime":1635842702,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635842702","product_id":100034101,"comment_content":"movæŒ‡ä»¤çš„æºå’Œç›®çš„ä¸èƒ½åŒæ—¶ä¸ºå†…å­˜åœ°å€å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":316490,"user_name":"Geek_656245","can_delete":false,"product_type":"c1","uid":2810125,"ip_address":"","ucode":"2B358A704E5891","user_header":"","comment_is_top":false,"comment_ctime":1634354073,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634354073","product_id":100034101,"comment_content":"å¾ˆæœ‰ç”¨","like_count":0},{"had_liked":false,"id":298779,"user_name":"David","can_delete":false,"product_type":"c1","uid":1509145,"ip_address":"","ucode":"EB1306748F7A86","user_header":"https://static001.geekbang.org/account/avatar/00/17/07/19/76943b89.jpg","comment_is_top":false,"comment_ctime":1624325030,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1624325030","product_id":100034101,"comment_content":"å¤§å­¦æ—¶å¾®æœºåŸç†ï¼Œå·¥ä½œåçœ‹gccåæ±‡ç¼–ä»£ç å‘ç°å’Œå¤§å­¦æ—¶è®²çš„ä¸ä¸€æ ·äº†ï¼Œå¾ˆå¤´ç–¼ï¼Œè€å¸ˆè¿™ç¯‡æ–‡ç« ä¸€æ‰«é˜´éœ¾ï¼Œè§£äº†æˆ‘å¤šå¹´çš„ç–‘æƒ‘ã€‚","like_count":0},{"had_liked":false,"id":213571,"user_name":"sugar","can_delete":false,"product_type":"c1","uid":1167046,"ip_address":"","ucode":"454538FF253B5F","user_header":"https://static001.geekbang.org/account/avatar/00/11/ce/c6/958212b5.jpg","comment_is_top":false,"comment_ctime":1588478133,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1588478133","product_id":100034101,"comment_content":"æˆ‘ä¸€ç›´ä¸å¤ªæ˜ç™½ æ±‡ç¼–é‡Œçš„pushå’Œpopæ‰€æ“ä½œçš„è¿™ä¸ªæ ˆï¼Œæ˜¯ä¸æ˜¯å°±æ˜¯æ“ä½œç³»ç»Ÿåœ¨å†…å­˜ä¸­ç»™å½“å‰è¿›ç¨‹åˆ†é…çš„åº”ç”¨å†…å­˜ç©ºé—´å½“ä¸­çš„æ ˆåŒºï¼ˆæ—è¾¹è¿˜æœ‰å †åŒº é™æ€åŒº å¸¸é‡åŒº ä»£ç åŒºï¼‰å‘¢ï¼Ÿè¿˜æ˜¯è¯´æ±‡ç¼–è¿™é‡Œè¾¹çš„æ ˆæ˜¯å•ç‹¬çš„ä¸€å¥—å¯„å­˜å™¨&#47;é«˜é€Ÿç¼“å­˜ ä¹‹ç±»çš„ç¡¬ä»¶è®¾å¤‡ï¼Ÿ æœ›è§£ç­” ","like_count":0,"discussions":[{"author":{"id":2562911,"avatar":"https://static001.geekbang.org/account/avatar/00/27/1b/5f/bc6d9112.jpg","nickname":"å±€å¤–äºº","note":"","ucode":"76CAD1203174AC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568407,"discussion_content":"å†…å­˜é‡Œçš„æ ˆã€‚cpuæœ‰ä¸€ä¸ªæ ˆé¡¶æŒ‡é’ˆæŒ‡å‘è¯¥æ ˆçš„æ ˆé¡¶","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1651128035,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1260026,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/fa/a7edbc72.jpg","nickname":"å®‰æ’","note":"","ucode":"F78CFA9624CAEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584750,"discussion_content":"å°±æ˜¯ä½ ç†è§£çš„é‚£ä¸ªæ ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661082943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":196042,"user_name":"ç‰›é€¼ä¸­â€¦","can_delete":false,"product_type":"c1","uid":1197614,"ip_address":"","ucode":"CBCB80CFDC2180","user_header":"https://static001.geekbang.org/account/avatar/00/12/46/2e/1017900c.jpg","comment_is_top":false,"comment_ctime":1585232267,"is_pvip":false,"replies":[{"id":"74392","content":"æ±‡ç¼–ä»£ç ä¸­åˆ°å¤„ä¼šç”¨åˆ°åœ°å€ï¼Œè¿™ä¸ªåœ°å€å°±æ˜¯å†…å­˜åœ°å€ã€‚å› ä¸ºæ±‡ç¼–ä»£ç ä¸­çš„æ“ä½œæ•°ä¼šé‡‡ç”¨ç›´æ¥å†…å­˜è®¿é—®å’Œé—´æ¥å†…å­˜è®¿é—®ä¸¤ç§æ–¹å¼ã€‚<br>ä¸è¿‡ï¼Œè¿™äº›åœ°å€ä¸€èˆ¬éƒ½ä¸ä¼šæŒ‡å®šä¸€ä¸ªç»å¯¹æ•°å€¼ï¼Œè€Œæ˜¯ä¸€ä¸ªç›¸å¯¹å€¼ï¼Œæ¯”å¦‚-8(%rsp)æ˜¯æ¯”%rspçš„å€¼å‡8çš„åœ°å€ã€‚è¿™æ˜¯åœ¨æ ˆé‡Œä½¿ç”¨å†…å­˜çš„æ ‡å‡†æ–¹å¼ã€‚å…¶ä¸­%rspæŒ‡å‘çš„æ˜¯æ ˆé¡¶çš„åœ°å€ã€‚è€Œæ ˆé¡¶çš„åœ°å€ï¼Œæ˜¯åœ¨è¿è¡ŒæœŸå¯ä»¥ç¡®å®šçš„ã€‚<br>è‡³äºå‡½æ•°ï¼ˆè¿‡ç¨‹ï¼‰å’Œå…¨å±€å˜é‡çš„åœ°å€ï¼Œåœ¨é“¾æ¥çš„æ—¶å€™æ˜¯å¯ä»¥ç¡®å®šçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1585267032,"ip_address":"","comment_id":196042,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585232267","product_id":100034101,"comment_content":"è¿™é‡Œé¢è¯´åˆ°åœ°å€ï¼ŒæŒ‡çš„æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ä¸­çš„ç›¸å¯¹åœ°å€ä¹ˆï¼Ÿè‚¯å®šä¸æ˜¯å†…å­˜å§ï¼Œè¿™ä¸ªæ—¶å€™è¿˜æ²¡åŠ è½½è¿è¡Œï¼Œå’Œå†…å­˜æ— å…³å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489216,"discussion_content":"æ±‡ç¼–ä»£ç ä¸­åˆ°å¤„ä¼šç”¨åˆ°åœ°å€ï¼Œè¿™ä¸ªåœ°å€å°±æ˜¯å†…å­˜åœ°å€ã€‚å› ä¸ºæ±‡ç¼–ä»£ç ä¸­çš„æ“ä½œæ•°ä¼šé‡‡ç”¨ç›´æ¥å†…å­˜è®¿é—®å’Œé—´æ¥å†…å­˜è®¿é—®ä¸¤ç§æ–¹å¼ã€‚\nä¸è¿‡ï¼Œè¿™äº›åœ°å€ä¸€èˆ¬éƒ½ä¸ä¼šæŒ‡å®šä¸€ä¸ªç»å¯¹æ•°å€¼ï¼Œè€Œæ˜¯ä¸€ä¸ªç›¸å¯¹å€¼ï¼Œæ¯”å¦‚-8(%rsp)æ˜¯æ¯”%rspçš„å€¼å‡8çš„åœ°å€ã€‚è¿™æ˜¯åœ¨æ ˆé‡Œä½¿ç”¨å†…å­˜çš„æ ‡å‡†æ–¹å¼ã€‚å…¶ä¸­%rspæŒ‡å‘çš„æ˜¯æ ˆé¡¶çš„åœ°å€ã€‚è€Œæ ˆé¡¶çš„åœ°å€ï¼Œæ˜¯åœ¨è¿è¡ŒæœŸå¯ä»¥ç¡®å®šçš„ã€‚\nè‡³äºå‡½æ•°ï¼ˆè¿‡ç¨‹ï¼‰å’Œå…¨å±€å˜é‡çš„åœ°å€ï¼Œåœ¨é“¾æ¥çš„æ—¶å€™æ˜¯å¯ä»¥ç¡®å®šçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585267032,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":191564,"user_name":"Dylan","can_delete":false,"product_type":"c1","uid":1040236,"ip_address":"","ucode":"58064D0C9F9F5F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/df/6c/5af32271.jpg","comment_is_top":false,"comment_ctime":1584781763,"is_pvip":false,"replies":[{"id":"74125","content":"ä½ è¯´çš„æ˜¯å¯¹çš„ã€‚å¹¶æ²¡æœ‰å¤ªéš¾ã€‚<br>å¦‚æœ‰å¯èƒ½ï¼Œå¤§å®¶éƒ½åŠ å¼ºä¸€ä¸‹æ±‡ç¼–çš„ç´ å…»ã€‚è¿™æ ·ï¼Œåœ¨æ€è€ƒæŸäº›æŠ€æœ¯é—®é¢˜çš„æ—¶å€™ï¼Œå› ä¸ºçŸ¥é“æœ€åº•å±‚çš„æœºåˆ¶ï¼Œä¼šæ€è€ƒå¾—æ¯”è¾ƒå½»åº•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1585126370,"ip_address":"","comment_id":191564,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1584781763","product_id":100034101,"comment_content":"è®°å¾—æ±‡ç¼–å…¥é—¨çš„æ—¶å€™æ˜¯ä»å†™ä¸€ä¸ªç®€å•çš„æ–æ³¢é‚£å¥‘æ•°åˆ—å¼€å§‹ï½ï½å½“æ—¶çœŸçš„è§‰å¾—ç¥å¥‡ï¼Œåæ¥å’Œå†…æ ¸é©±åŠ¨ç¨‹åºæ‰“äº¤é“ï¼Œçœ‹å¤šäº†å¤§ç¥ä»¬å†™çš„æ±‡ç¼–ï¼Œæ„Ÿè§‰å¥½åƒä¹Ÿæ²¡é‚£ä¹ˆéš¾","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488207,"discussion_content":"ä½ è¯´çš„æ˜¯å¯¹çš„ã€‚å¹¶æ²¡æœ‰å¤ªéš¾ã€‚\nå¦‚æœ‰å¯èƒ½ï¼Œå¤§å®¶éƒ½åŠ å¼ºä¸€ä¸‹æ±‡ç¼–çš„ç´ å…»ã€‚è¿™æ ·ï¼Œåœ¨æ€è€ƒæŸäº›æŠ€æœ¯é—®é¢˜çš„æ—¶å€™ï¼Œå› ä¸ºçŸ¥é“æœ€åº•å±‚çš„æœºåˆ¶ï¼Œä¼šæ€è€ƒå¾—æ¯”è¾ƒå½»åº•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585126370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1258402,"avatar":"https://static001.geekbang.org/account/avatar/00/13/33/a2/6c0ffc15.jpg","nickname":"çš®çš®ä¾ ","note":"","ucode":"04205990C1DE1F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":400332,"discussion_content":"ç”¨æ±‡ç¼–çš„æ€ç»´è§£å†³ï¼Œå½»åº•ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633238172,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":182189,"user_name":"å®é¹","can_delete":false,"product_type":"c1","uid":1210990,"ip_address":"","ucode":"28181E2DC64886","user_header":"https://static001.geekbang.org/account/avatar/00/12/7a/6e/cec25432.jpg","comment_is_top":false,"comment_ctime":1582726888,"is_pvip":false,"replies":[{"id":"76751","content":"æ²¡é”™ï¼æ˜¯æˆ‘çš„ç–å¿½ã€‚åœ¨å…¶ä»–ç« èŠ‚é‡Œæ˜¯å…ˆç”Ÿæˆ.oï¼Œç„¶åå†ç”¨gccé“¾æ¥ä¸€ä¸‹ã€‚è¿™é‡Œç–å¿½äº†ã€‚æˆ‘å·²ç»æŠŠæ–‡ç¨¿æ”¹äº†ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1586661128,"ip_address":"","comment_id":182189,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1582726888","product_id":100034101,"comment_content":"è€å¸ˆï¼Œaså·¥å…·ç”Ÿæˆçš„æ–‡ä»¶ä¸èƒ½ç›´æ¥è¿è¡Œï¼Œas hello.s -o helloï¼Œç”Ÿæˆçš„helloå¹¶ä¸æ˜¯å¯æ‰§è¡Œæ–‡ä»¶","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485247,"discussion_content":"æ²¡é”™ï¼æ˜¯æˆ‘çš„ç–å¿½ã€‚åœ¨å…¶ä»–ç« èŠ‚é‡Œæ˜¯å…ˆç”Ÿæˆ.oï¼Œç„¶åå†ç”¨gccé“¾æ¥ä¸€ä¸‹ã€‚è¿™é‡Œç–å¿½äº†ã€‚æˆ‘å·²ç»æŠŠæ–‡ç¨¿æ”¹äº†ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586661128,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1026818,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ab/02/8688abed.jpg","nickname":"nightn","note":"","ucode":"39FC4FF0281637","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":219763,"discussion_content":". oåªæ˜¯å¯é‡å®šä½ç›®æ ‡æ–‡ä»¶ï¼Œè¦æƒ³æ‰§è¡Œè¿˜éœ€è¦é é“¾æ¥å™¨å°†å…¶ä»–ç›®æ ‡æ–‡ä»¶æˆ–é™æ€åº“å’Œ hello.o é“¾æ¥èµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶ã€‚é“¾æ¥ä¸»è¦å¹²ä¸¤ä»¶äº‹æƒ…ï¼šä¸€ä¸ªæ˜¯ç¬¦å·å†³è®®ï¼Œä¸€ä¸ªæ˜¯é‡å®šä½ã€‚æ„Ÿå…´è¶£çš„è¯å¯ä»¥çœ‹ csapp å’Œè€…ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»è¿™ä¸¤æœ¬ä¹¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585803895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":180968,"user_name":"å¥½é›¨çŸ¥æ—¶èŠ‚","can_delete":false,"product_type":"c1","uid":1245495,"ip_address":"","ucode":"540F38F6E958F2","user_header":"https://static001.geekbang.org/account/avatar/00/13/01/37/812d50ab.jpg","comment_is_top":false,"comment_ctime":1582450605,"is_pvip":false,"replies":[{"id":"74252","content":"åœ¨å¯„å­˜å™¨é‡Œå­˜çš„å°±æ˜¯ä¸€ä¸ªæ•°ã€‚è‡³äºè¿™ä¸ªæ•°çš„è¯­ä¹‰æ˜¯åœ°å€ï¼Œè¿˜æ˜¯åˆ«çš„æ•°å­—ï¼Œæ±‡ç¼–ä»£ç æ˜¯ä¸ç®¡çš„ã€‚ä½ å®Œå…¨å¯ä»¥ç”¨%rbpæ¥åšçº¯æ•°å­¦è®¡ç®—ã€‚å› ä¸ºæ ¹æ®ç°åœ¨çš„ç³»ç»Ÿè°ƒç”¨çº¦å®šï¼Œå…¶å®ä¸å¼ºåˆ¶è¦æ±‚%rbpä¸€å®šç”¨æ¥è¡¨ç¤ºæ ˆåº•åœ°å€ï¼Œåªå¯¹%rspæœ‰è¦æ±‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1585187625,"ip_address":"","comment_id":180968,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1582450605","product_id":100034101,"comment_content":"å®«è€å¸ˆï¼Œæƒ³é—®ä¸‹ï¼šæ–‡ä¸­åœ¨ç¤ºä¾‹ä¸­æåˆ°ï¼š<br>8(%rbp)ï¼Œæ˜¯æ¯” %rbp å¯„å­˜å™¨çš„å€¼åŠ  8ã€‚ &#47;&#47;æƒ³çŸ¥é“è¿™é‡Œçš„%rbp å¯„å­˜å™¨ä¸­å­˜å‚¨çš„å†…å®¹ä¸€ä¸ªåœ°å€è¿˜æ˜¯å…·ä½“çš„æ•°æ®å€¼ï¼Ÿ8(%rbp) çš„å«ä¹‰æ˜¯ï¼š%rbp å¯„å­˜å™¨ä¸­å­˜å‚¨çš„åœ°å€åŠ 8åçš„æ–°åœ°å€ è¿˜æ˜¯ %rbp å¯„å­˜å™¨ä¸­å…·ä½“æ•°æ®å€¼+8 å¾—åˆ°çš„å…·ä½“å€¼ï¼Ÿ<br>-8(%rbp)ï¼Œæ˜¯æ¯” %rbp å¯„å­˜å™¨çš„å€¼å‡ 8ã€‚&#47;&#47;","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484868,"discussion_content":"åœ¨å¯„å­˜å™¨é‡Œå­˜çš„å°±æ˜¯ä¸€ä¸ªæ•°ã€‚è‡³äºè¿™ä¸ªæ•°çš„è¯­ä¹‰æ˜¯åœ°å€ï¼Œè¿˜æ˜¯åˆ«çš„æ•°å­—ï¼Œæ±‡ç¼–ä»£ç æ˜¯ä¸ç®¡çš„ã€‚ä½ å®Œå…¨å¯ä»¥ç”¨%rbpæ¥åšçº¯æ•°å­¦è®¡ç®—ã€‚å› ä¸ºæ ¹æ®ç°åœ¨çš„ç³»ç»Ÿè°ƒç”¨çº¦å®šï¼Œå…¶å®ä¸å¼ºåˆ¶è¦æ±‚%rbpä¸€å®šç”¨æ¥è¡¨ç¤ºæ ˆåº•åœ°å€ï¼Œåªå¯¹%rspæœ‰è¦æ±‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585187625,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150628,"user_name":"æƒå","can_delete":false,"product_type":"c1","uid":1387396,"ip_address":"","ucode":"D5838B3DDC5D02","user_header":"https://static001.geekbang.org/account/avatar/00/15/2b/84/3fe59164.jpg","comment_is_top":false,"comment_ctime":1573570616,"is_pvip":false,"replies":[{"id":"59604","content":"å¯¹çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1574680482,"ip_address":"","comment_id":150628,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573570616","product_id":100034101,"comment_content":"åˆšåˆšçš„é—®é¢˜ï¼Œxorl    %eax, %eaxï¼Œå°†è¿”å›å€¼ç½®ä¸º0ã€‚","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474225,"discussion_content":"å¯¹çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574680482,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":150616,"user_name":"æƒå","can_delete":false,"product_type":"c1","uid":1387396,"ip_address":"","ucode":"D5838B3DDC5D02","user_header":"https://static001.geekbang.org/account/avatar/00/15/2b/84/3fe59164.jpg","comment_is_top":false,"comment_ctime":1573568699,"is_pvip":false,"replies":[{"id":"59603","content":"ä¿®æ˜‚å…šç¾½ç»™eaxèµ‹å€¼ä¸º0ï¼Œä½†ç”¨xorlä½¿ç”¨çš„æ—¶é’Ÿå‘¨æœŸæ›´å°‘ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1574680470,"ip_address":"","comment_id":150616,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1573568699","product_id":100034101,"comment_content":"leaq    L_.str(%rip), %rdi    <br>leaq    L_.str.1(%rip), %rsi    <br>xorl    %eax, %eax    <br>callq   _printf    <br>xorl    %eax, %eax<br><br>å®«è€å¸ˆä½ å¥½ï¼Œè¿™æ˜¯æ–‡ç« å‰é¢çš„æ±‡ç¼–ä»£ç çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä¸æ˜ç™½ xorl    %eax, %eax è¿™ä¸¤è¡Œä»£ç ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆæ²¡æœ‰ç»™å¯„å­˜å™¨ eax å°±ç›´æ¥ xorl æ“ä½œäº†ã€‚","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474219,"discussion_content":"ä¿®æ˜‚å…šç¾½ç»™eaxèµ‹å€¼ä¸º0ï¼Œä½†ç”¨xorlä½¿ç”¨çš„æ—¶é’Ÿå‘¨æœŸæ›´å°‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574680470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140778,"user_name":"æ²‰æ·€çš„æ¢¦æƒ³","can_delete":false,"product_type":"c1","uid":1177315,"ip_address":"","ucode":"BCB7C26F9D214B","user_header":"https://static001.geekbang.org/account/avatar/00/11/f6/e3/e4bcd69e.jpg","comment_is_top":false,"comment_ctime":1571047449,"is_pvip":false,"replies":[{"id":"54474","content":"å¯¹çš„ã€‚<br>å¦‚æœä½ åœ¨ä¸åŒçš„ä»£ç é‡Œè°ƒç”¨ä½¿ç”¨L_.str(%rip)ï¼Œå‰é¢çš„L_.strå¯¹åº”çš„ç«‹å³æ•°æ˜¯ä¸åŒçš„ã€‚è¿™ä¸ªè®¡ç®—å·¥ä½œæ˜¯ç”±æ±‡ç¼–å™¨æ¥ç®—ï¼Œä¸å½±å“æˆ‘ä»¬ç¼–ç¨‹çš„æ•ˆç‡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1571063250,"ip_address":"","comment_id":140778,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571047449","product_id":100034101,"comment_content":"çœ‹äº†è€å¸ˆçš„å›ç­”ä¸è®²è§£&quot;RIPç›¸å¯¹å¯»å€&quot;çš„æ–‡ç« ï¼Œä½†æ˜¯è¿˜æ˜¯ä¸å¤ªç†è§£ï¼š%ripå­˜å‚¨çš„æ˜¯ä¸‹ä¸€æ¡è¦æ‰§è¡Œçš„ä»£ç çš„åœ°å€ï¼Œä»–å­˜å‚¨å€¼åº”è¯¥åœ¨ä¸åœåœ°å˜ï¼Œæ‰€ä»¥ä»–å’Œé™æ€æ•°æ®çš„åç§»åº”è¯¥ä¹Ÿåœ¨ä¸åœåœ°å˜ï¼Œä¸ºä»€ä¹ˆè¿™é‡Œçš„åç§»ï¼ˆL_.strï¼‰çœ‹èµ·æ¥æ˜¯ä¸ªå¸¸é‡å•Šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470552,"discussion_content":"å¯¹çš„ã€‚\nå¦‚æœä½ åœ¨ä¸åŒçš„ä»£ç é‡Œè°ƒç”¨ä½¿ç”¨L_.str(%rip)ï¼Œå‰é¢çš„L_.strå¯¹åº”çš„ç«‹å³æ•°æ˜¯ä¸åŒçš„ã€‚è¿™ä¸ªè®¡ç®—å·¥ä½œæ˜¯ç”±æ±‡ç¼–å™¨æ¥ç®—ï¼Œä¸å½±å“æˆ‘ä»¬ç¼–ç¨‹çš„æ•ˆç‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571063250,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140356,"user_name":"å³°","can_delete":false,"product_type":"c1","uid":1056019,"ip_address":"","ucode":"C53CB64E8E7D19","user_header":"https://static001.geekbang.org/account/avatar/00/10/1d/13/31ea1b0b.jpg","comment_is_top":false,"comment_ctime":1570888440,"is_pvip":true,"replies":[{"id":"54364","content":"å°±æ˜¯æ¬ç –çš„å·¥ä½œå¤ªå¤šï¼Œåˆ›é€ æ€§çš„å·¥ä½œå¤ªå°‘:-)","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1571023462,"ip_address":"","comment_id":140356,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1570888440","product_id":100034101,"comment_content":"æ„Ÿå—æ˜¯å†™äº†ä¸€å¤§å¨ï¼Œå¤©éƒ½é»‘äº†ï¼Œè¿˜æ²¡å†™å®Œã€‚ã€‚ã€‚","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470355,"discussion_content":"å°±æ˜¯æ¬ç –çš„å·¥ä½œå¤ªå¤šï¼Œåˆ›é€ æ€§çš„å·¥ä½œå¤ªå°‘:-)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571023462,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
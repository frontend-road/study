{"id":440804,"title":"13ï½œåŸºæœ¬æ•°æ®ç±»å‹ï¼šä¸ºä»€ä¹ˆGoè¦åŸç”Ÿæ”¯æŒå­—ç¬¦ä¸²ç±»å‹ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯Tony Baiã€‚</p><p>åœ¨ä¸ŠèŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬è®²è§£äº†åœ¨Goç¼–ç¨‹ä¸­æœ€å¹¿æ³›ä½¿ç”¨çš„ä¸€ç±»åŸºæœ¬æ•°æ®ç±»å‹ï¼š<strong>æ•°å€¼ç±»å‹</strong>ï¼ŒåŒ…æ‹¬æ•´å‹ã€æµ®ç‚¹ç±»å‹å’Œå¤æ•°ç±»å‹ã€‚è¿™ä¸€èŠ‚è¯¾ï¼Œæˆ‘ä»¬ç»§ç»­æ¥å­¦ä¹ Goè¯­è¨€ä¸­å¦ä¸€ç±»åŸºæœ¬æ•°æ®ç±»å‹ï¼š<strong>å­—ç¬¦ä¸²ç±»å‹</strong>ã€‚</p><p>å­—ç¬¦ä¸²ç±»å‹ï¼Œæ˜¯ç°ä»£ç¼–ç¨‹è¯­è¨€ä¸­æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ä¹‹ä¸€ï¼Œå¤šæ•°ä¸»æµç¼–ç¨‹è¯­è¨€éƒ½æä¾›äº†å¯¹è¿™ä¸ªç±»å‹çš„åŸç”Ÿæ”¯æŒï¼Œå°‘æ•°æ²¡æœ‰æä¾›åŸç”Ÿå­—ç¬¦ä¸²çš„ç±»å‹çš„ä¸»æµè¯­è¨€ï¼ˆæ¯”å¦‚Cè¯­è¨€ï¼‰ä¹Ÿé€šè¿‡å…¶ä»–å½¢å¼æä¾›äº†å¯¹å­—ç¬¦ä¸²çš„æ”¯æŒã€‚</p><p>å¯¹äºè¿™æ ·åœ¨æ—¥å¸¸å¼€å‘ä¸­é«˜é¢‘ä½¿ç”¨çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬è¦ç»™äºˆæ›´å¤šçš„å…³æ³¨ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿™ä¸€èŠ‚è¯¾ï¼Œå°†ä¼šæŒ‰ç…§Why-What-Howçš„é€»è¾‘ï¼Œè®²æ¸…æ¥šGoå¯¹å­—ç¬¦ä¸²ç±»å‹çš„æ”¯æŒï¼Œè®©ä½ å¯¹Goè¯­è¨€ä¸­çš„å­—ç¬¦ä¸²æœ‰ä¸ªå®Œæ•´è€Œæ¸…æ™°çš„è®¤è¯†ã€‚</p><p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸ºä»€ä¹ˆGoè¦åŸç”Ÿæ”¯æŒå­—ç¬¦ä¸²ç±»å‹ã€‚</p><h2>åŸç”Ÿæ”¯æŒå­—ç¬¦ä¸²æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</h2><p>æˆ‘ä»¬å‰é¢æè¿‡ï¼ŒGoæ˜¯ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šæˆé•¿èµ·æ¥çš„ç°ä»£ç¼–ç¨‹è¯­è¨€ã€‚å®ƒç»§æ‰¿äº†å‰è¾ˆè¯­è¨€çš„ä¼˜ç‚¹ï¼Œåˆæ”¹è¿›äº†å‰è¾ˆè¯­è¨€ä¸­çš„ä¸è¶³ã€‚è¿™å…¶ä¸­ä¸€å¤„å°±ä½“ç°åœ¨Goå¯¹å­—ç¬¦ä¸²ç±»å‹çš„åŸç”Ÿæ”¯æŒä¸Šã€‚</p><p>è¿™æ ·çš„è®¾è®¡ä¼šæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿä½œä¸ºå¯¹æ¯”ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å‰è¾ˆè¯­è¨€ä¹‹ä¸€çš„Cè¯­è¨€å¯¹å­—ç¬¦ä¸²çš„æ”¯æŒæƒ…å†µã€‚</p><p>Cè¯­è¨€æ²¡æœ‰æä¾›å¯¹å­—ç¬¦ä¸²ç±»å‹çš„åŸç”Ÿæ”¯æŒï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒCè¯­è¨€ä¸­å¹¶æ²¡æœ‰â€œå­—ç¬¦ä¸²â€è¿™ä¸ªæ•°æ®ç±»å‹ã€‚åœ¨Cè¯­è¨€ä¸­ï¼Œå­—ç¬¦ä¸²æ˜¯ä»¥å­—ç¬¦ä¸²å­—é¢å€¼æˆ–ä»¥â€™\\0â€™ç»“å°¾çš„å­—ç¬¦ç±»å‹æ•°ç»„æ¥å‘ˆç°çš„ï¼Œæ¯”å¦‚ä¸‹é¢ä»£ç ï¼š</p><!-- [[[read_end]]] --><pre><code class=\"language-plain\">#define GO_SLOGAN \"less is more\"\nconst char * s1 = \"hello, gopher\"\nchar s2[] = \"I love go\"\n</code></pre><p>è¿™æ ·å®šä¹‰çš„éåŸç”Ÿå­—ç¬¦ä¸²åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šæœ‰å¾ˆå¤šé—®é¢˜ï¼Œæ¯”å¦‚ï¼š</p><ul>\n<li>ä¸æ˜¯åŸç”Ÿç±»å‹ï¼Œç¼–è¯‘å™¨ä¸ä¼šå¯¹å®ƒè¿›è¡Œç±»å‹æ ¡éªŒï¼Œå¯¼è‡´ç±»å‹å®‰å…¨æ€§å·®ï¼›</li>\n<li>å­—ç¬¦ä¸²æ“ä½œæ—¶è¦æ—¶åˆ»è€ƒè™‘ç»“å°¾çš„â€™\\0â€™ï¼Œé˜²æ­¢ç¼“å†²åŒºæº¢å‡ºï¼›</li>\n<li>ä»¥å­—ç¬¦æ•°ç»„å½¢å¼å®šä¹‰çš„â€œå­—ç¬¦ä¸²â€ï¼Œå®ƒçš„å€¼æ˜¯å¯å˜çš„ï¼Œåœ¨å¹¶å‘åœºæ™¯ä¸­éœ€è¦è€ƒè™‘åŒæ­¥é—®é¢˜ï¼›</li>\n<li>è·å–ä¸€ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ä»£ä»·è¾ƒå¤§ï¼Œé€šå¸¸æ˜¯O(n)æ—¶é—´å¤æ‚åº¦ï¼›</li>\n<li>Cè¯­è¨€æ²¡æœ‰å†…ç½®å¯¹éASCIIå­—ç¬¦ï¼ˆå¦‚ä¸­æ–‡å­—ç¬¦ï¼‰çš„æ”¯æŒã€‚</li>\n</ul><p>è¿™äº›é—®é¢˜éƒ½å¤§å¤§åŠ é‡äº†å¼€å‘äººå‘˜åœ¨ä½¿ç”¨å­—ç¬¦ä¸²æ—¶çš„å¿ƒæ™ºè´Ÿæ‹…ã€‚äºæ˜¯ï¼ŒGoè®¾è®¡è€…ä»¬é€‰æ‹©äº†åŸç”Ÿæ”¯æŒå­—ç¬¦ä¸²ç±»å‹ã€‚</p><p>åœ¨Goä¸­ï¼Œå­—ç¬¦ä¸²ç±»å‹ä¸º <strong>string</strong>ã€‚Goè¯­è¨€é€šè¿‡stringç±»å‹ç»Ÿä¸€äº†å¯¹â€œå­—ç¬¦ä¸²â€çš„æŠ½è±¡ã€‚è¿™æ ·æ— è®ºæ˜¯å­—ç¬¦ä¸²å¸¸é‡ã€å­—ç¬¦ä¸²å˜é‡æˆ–æ˜¯ä»£ç ä¸­å‡ºç°çš„å­—ç¬¦ä¸²å­—é¢å€¼ï¼Œå®ƒä»¬çš„ç±»å‹éƒ½è¢«ç»Ÿä¸€è®¾ç½®ä¸ºstringï¼Œæ¯”å¦‚ä¸Šé¢Cä»£ç æ¢æˆç­‰ä»·çš„Goä»£ç æ˜¯è¿™æ ·çš„ï¼š</p><pre><code class=\"language-plain\">const (\n\tGO_SLOGAN = \"less is more\" // GO_SLOGANæ˜¯stringç±»å‹å¸¸é‡\n\ts1 = \"hello, gopher\"       // s1æ˜¯stringç±»å‹å¸¸é‡\n)\n\nvar s2 = \"I love go\" // s2æ˜¯stringç±»å‹å˜é‡\n</code></pre><p>é‚£æ—¢ç„¶æˆ‘ä»¬éƒ½è¯´äº†ï¼ŒGoåŸç”Ÿæ”¯æŒstringçš„åšæ³•æ˜¯å¯¹å‰è¾ˆè¯­è¨€çš„æ”¹è¿›ï¼Œè¿™æ ·çš„è®¾è®¡åˆ°åº•æœ‰å“ªäº›ä¼˜ç§€çš„æ€§è´¨ï¼Œä¼šå¸¦æ¥ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ</p><p><strong>ç¬¬ä¸€ç‚¹ï¼šstringç±»å‹çš„æ•°æ®æ˜¯ä¸å¯å˜çš„ï¼Œæé«˜äº†å­—ç¬¦ä¸²çš„å¹¶å‘å®‰å…¨æ€§å’Œå­˜å‚¨åˆ©ç”¨ç‡ã€‚</strong></p><p>Goè¯­è¨€è§„å®šï¼Œå­—ç¬¦ä¸²ç±»å‹çš„å€¼åœ¨å®ƒçš„ç”Ÿå‘½å‘¨æœŸå†…æ˜¯ä¸å¯æ”¹å˜çš„ã€‚è¿™å°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å˜é‡ï¼Œé‚£æˆ‘ä»¬æ˜¯æ— æ³•é€šè¿‡è¿™ä¸ªå˜é‡æ”¹å˜å®ƒå¯¹åº”çš„å­—ç¬¦ä¸²å€¼çš„ï¼Œä½†è¿™å¹¶ä¸æ˜¯è¯´æˆ‘ä»¬ä¸èƒ½ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹å˜é‡è¿›è¡ŒäºŒæ¬¡èµ‹å€¼ã€‚</p><p>ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæˆ‘ä»¬çœ‹çœ‹ä¸‹é¢çš„ä»£ç å°±å¥½ç†è§£äº†ï¼š</p><pre><code class=\"language-plain\">var s string = \"hello\"\ns[0] = 'k'   // é”™è¯¯ï¼šå­—ç¬¦ä¸²çš„å†…å®¹æ˜¯ä¸å¯æ”¹å˜çš„\ns = \"gopher\" // ok\n</code></pre><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹å˜é‡sã€‚å½“æˆ‘ä»¬è¯•å›¾é€šè¿‡ä¸‹æ ‡æ–¹å¼æŠŠè¿™ä¸ªå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ç”±hæ”¹ä¸ºkçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæ”¶åˆ°ç¼–è¯‘å™¨é”™è¯¯çš„æç¤ºï¼š<strong>å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„</strong>ã€‚ä½†æˆ‘ä»¬ä»å¯ä»¥åƒæœ€åä¸€è¡Œä»£ç é‚£æ ·ï¼Œä¸ºå˜é‡sé‡æ–°èµ‹å€¼ä¸ºå¦å¤–ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p><p>Goè¿™æ ·çš„â€œå­—ç¬¦ä¸²ç±»å‹æ•°æ®ä¸å¯å˜â€çš„æ€§è´¨ç»™å¼€å‘äººå‘˜å¸¦æ¥çš„æœ€å¤§å¥½å¤„ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸ç”¨å†æ‹…å¿ƒå­—ç¬¦ä¸²çš„å¹¶å‘å®‰å…¨é—®é¢˜ã€‚è¿™æ ·ï¼ŒGoå­—ç¬¦ä¸²å¯ä»¥è¢«å¤šä¸ªGoroutineï¼ˆGoè¯­è¨€çš„è½»é‡çº§ç”¨æˆ·çº¿ç¨‹ï¼Œåé¢æˆ‘ä»¬ä¼šè¯¦ç»†è®²è§£ï¼‰å…±äº«ï¼Œå¼€å‘è€…ä¸ç”¨å› ä¸ºæ‹…å¿ƒå¹¶å‘å®‰å…¨é—®é¢˜ï¼Œä½¿ç”¨ä¼šå¸¦æ¥ä¸€å®šå¼€é”€çš„åŒæ­¥æœºåˆ¶ã€‚</p><p>å¦å¤–ï¼Œä¹Ÿç”±äºå­—ç¬¦ä¸²çš„ä¸å¯å˜æ€§ï¼Œé’ˆå¯¹åŒä¸€ä¸ªå­—ç¬¦ä¸²å€¼ï¼Œæ— è®ºå®ƒåœ¨ç¨‹åºçš„å‡ ä¸ªä½ç½®è¢«ä½¿ç”¨ï¼ŒGoç¼–è¯‘å™¨åªéœ€è¦ä¸ºå®ƒåˆ†é…ä¸€å—å­˜å‚¨å°±å¥½äº†ï¼Œå¤§å¤§æé«˜äº†å­˜å‚¨åˆ©ç”¨ç‡ã€‚</p><p><strong>ç¬¬äºŒç‚¹ï¼šæ²¡æœ‰ç»“å°¾â€™\\0â€™ï¼Œè€Œä¸”è·å–é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¸¸æ•°æ—¶é—´ï¼Œæ¶ˆé™¤äº†è·å–å­—ç¬¦ä¸²é•¿åº¦çš„å¼€é”€ã€‚</strong></p><p>åœ¨Cè¯­è¨€ä¸­ï¼Œè·å–ä¸€ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦å¯ä»¥è°ƒç”¨æ ‡å‡†åº“çš„strlenå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„å®ç°åŸç†æ˜¯éå†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦å¹¶åšè®¡æ•°ï¼Œç›´åˆ°é‡åˆ°å­—ç¬¦ä¸²çš„ç»“å°¾â€™\\0â€™åœæ­¢ã€‚æ˜¾ç„¶è¿™æ˜¯ä¸€ä¸ªçº¿æ€§æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•ï¼Œæ‰§è¡Œæ—¶é—´ä¸å­—ç¬¦ä¸²ä¸­å­—ç¬¦ä¸ªæ•°æˆæ­£æ¯”ã€‚å¹¶ä¸”ï¼Œå®ƒå­˜åœ¨ä¸€ä¸ªçº¦æŸï¼Œé‚£å°±æ˜¯ä¼ å…¥çš„å­—ç¬¦ä¸²å¿…é¡»æœ‰ç»“å°¾â€™\\0â€™ï¼Œç»“å°¾â€™\\0â€™æ˜¯å­—ç¬¦ä¸²çš„ç»“æŸæ ‡å¿—ã€‚å¦‚æœä½ ä½¿ç”¨è¿‡Cè¯­è¨€ï¼Œæƒ³å¿…ä½ ä¹Ÿåƒè¿‡å­—ç¬¦ä¸²ç»“å°¾â€™\\0â€™çš„äºã€‚</p><p>Goè¯­è¨€ä¿®æ­£äº†è¿™ä¸ªç¼ºé™·ï¼ŒGoå­—ç¬¦ä¸²ä¸­æ²¡æœ‰ç»“å°¾â€™\\0â€™ï¼Œè·å–å­—ç¬¦ä¸²é•¿åº¦æ›´ä¸éœ€è¦ç»“å°¾â€™\\0â€™ä½œä¸ºç»“æŸæ ‡å¿—ã€‚å¹¶ä¸”ï¼ŒGoè·å–å­—ç¬¦ä¸²é•¿åº¦æ˜¯ä¸€ä¸ªå¸¸æ•°çº§æ—¶é—´å¤æ‚åº¦ï¼Œæ— è®ºå­—ç¬¦ä¸²ä¸­å­—ç¬¦ä¸ªæ•°æœ‰å¤šå°‘ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥å¿«é€Ÿå¾—åˆ°å­—ç¬¦ä¸²çš„é•¿åº¦å€¼ã€‚è‡³äºè¿™æ–¹é¢çš„åŸç†ï¼Œæˆ‘ä»¬ç­‰ä¼šå†è¯¦ç»†è¯´æ˜ã€‚</p><p><strong>ç¬¬ä¸‰ç‚¹ï¼šåŸç”Ÿæ”¯æŒâ€œæ‰€è§å³æ‰€å¾—â€çš„åŸå§‹å­—ç¬¦ä¸²ï¼Œå¤§å¤§é™ä½æ„é€ å¤šè¡Œå­—ç¬¦ä¸²æ—¶çš„å¿ƒæ™ºè´Ÿæ‹…ã€‚</strong></p><p>å¦‚æœæˆ‘ä»¬è¦åœ¨Cè¯­è¨€ä¸­æ„é€ å¤šè¡Œå­—ç¬¦ä¸²ï¼Œä¸€èˆ¬å°±æ˜¯ä¸¤ä¸ªæ–¹æ³•ï¼šè¦ä¹ˆä½¿ç”¨å¤šä¸ªå­—ç¬¦ä¸²çš„è‡ªç„¶æ‹¼æ¥ï¼Œè¦ä¹ˆéœ€è¦ç»“åˆç»­è¡Œç¬¦\"\"ã€‚ä½†å› ä¸ºæœ‰è½¬ä¹‰å­—ç¬¦çš„å­˜åœ¨ï¼Œæˆ‘ä»¬å¾ˆéš¾æ§åˆ¶å¥½æ ¼å¼ã€‚<strong>Goè¯­è¨€å°±ç®€å•å¤šäº†ï¼Œ</strong>é€šè¿‡ä¸€å¯¹åå¼•å·åŸç”Ÿæ”¯æŒæ„é€ â€œæ‰€è§å³æ‰€å¾—â€çš„åŸå§‹å­—ç¬¦ä¸²ï¼ˆRaw Stringï¼‰ã€‚è€Œä¸”ï¼ŒGoè¯­è¨€åŸå§‹å­—ç¬¦ä¸²ä¸­çš„ä»»æ„è½¬ä¹‰å­—ç¬¦éƒ½ä¸ä¼šèµ·åˆ°è½¬ä¹‰çš„ä½œç”¨ã€‚æ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼š</p><pre><code>var s string = `         ,_---~~~~~----._\n    _,,_,*^____      _____*g*\\&quot;*,--,\n   / __/ /'     ^.  /      \\ ^@q   f\n  [  @f | @))    |  | @))   l  0 _/\n   \\/   \\~____ / __ \\_____/     \\\n    |           _l__l_           I\n    }          [______]           I\n    ]            | | |            |\n    ]             ~ ~             |\n    |                            |\n     |                           |`\nfmt.Println(s)\n</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œå­—ç¬¦ä¸²å˜é‡sè¢«èµ‹å€¼äº†ä¸€ä¸ªç”±ä¸€å¯¹åå¼•å·åŒ…è£¹çš„Gopherå›¾æ¡ˆã€‚è¿™ä¸ªGopherå›¾æ¡ˆç”±è¯¸å¤šASCIIå­—ç¬¦ç»„æˆï¼Œå…¶ä¸­å°±åŒ…æ‹¬äº†è½¬ä¹‰å­—ç¬¦ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬é€šè¿‡Printlnå‡½æ•°è¾“å‡ºè¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå¾—åˆ°çš„å›¾æ¡ˆå’Œä¸Šé¢çš„å›¾æ¡ˆå¹¶æ— äºŒè‡´ã€‚</p><p><strong>ç¬¬å››ç‚¹ï¼šå¯¹éASCIIå­—ç¬¦æä¾›åŸç”Ÿæ”¯æŒï¼Œæ¶ˆé™¤äº†æºç åœ¨ä¸åŒç¯å¢ƒä¸‹æ˜¾ç¤ºä¹±ç çš„å¯èƒ½ã€‚</strong></p><p>Goè¯­è¨€æºæ–‡ä»¶é»˜è®¤é‡‡ç”¨çš„æ˜¯Unicodeå­—ç¬¦é›†ï¼ŒUnicodeå­—ç¬¦é›†æ˜¯ç›®å‰å¸‚é¢ä¸Šæœ€æµè¡Œçš„å­—ç¬¦é›†ï¼Œå®ƒå›Šæ‹¬äº†å‡ ä¹æ‰€æœ‰ä¸»æµéASCIIå­—ç¬¦ï¼ˆåŒ…æ‹¬ä¸­æ–‡å­—ç¬¦ï¼‰ã€‚Goå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½æ˜¯ä¸€ä¸ªUnicodeå­—ç¬¦ï¼Œå¹¶ä¸”è¿™äº›Unicodeå­—ç¬¦æ˜¯ä»¥UTF-8ç¼–ç æ ¼å¼å­˜å‚¨åœ¨å†…å­˜å½“ä¸­çš„ã€‚åœ¨æ¥ä¸‹æ¥è®²è§£Goå­—ç¬¦ä¸²çš„ç»„æˆæ—¶ï¼Œæˆ‘ä»¬è¿˜ä¼šå¯¹è¿™éƒ¨åˆ†å†…å®¹åšè¿›ä¸€æ­¥è®²è§£ã€‚</p><p>çŸ¥é“äº†GoåŸç”Ÿæ”¯æŒå­—ç¬¦ä¸²ç±»å‹å¸¦æ¥çš„è¯¸å¤šå˜åŒ–å’Œå¥½å¤„åï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å°±è¦æ·±å…¥åˆ°Goå­—ç¬¦ä¸²çš„æœºåˆ¶é‡Œçœ‹çœ‹ï¼Œçœ‹çœ‹Goå­—ç¬¦ä¸²æ˜¯ç”±ä»€ä¹ˆç»„æˆçš„ã€‚</p><h2>Goå­—ç¬¦ä¸²çš„ç»„æˆ</h2><p>Goè¯­è¨€åœ¨çœ‹å¾…Goå­—ç¬¦ä¸²ç»„æˆè¿™ä¸ªé—®é¢˜ä¸Šï¼Œæœ‰ä¸¤ç§è§†è§’ã€‚ä¸€ç§æ˜¯<strong>å­—èŠ‚è§†è§’</strong>ï¼Œä¹Ÿå°±æ˜¯å’Œæ‰€æœ‰å…¶å®ƒæ”¯æŒå­—ç¬¦ä¸²çš„ä¸»æµè¯­è¨€ä¸€æ ·ï¼Œ<strong>Goè¯­è¨€ä¸­çš„å­—ç¬¦ä¸²å€¼ä¹Ÿæ˜¯ä¸€ä¸ªå¯ç©ºçš„å­—èŠ‚åºåˆ—ï¼Œå­—èŠ‚åºåˆ—ä¸­çš„å­—èŠ‚ä¸ªæ•°ç§°ä¸ºè¯¥å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚ä¸€ä¸ªä¸ªçš„å­—èŠ‚åªæ˜¯å­¤ç«‹æ•°æ®ï¼Œä¸è¡¨æ„ã€‚</strong></p><p>æ¯”å¦‚åœ¨ä¸‹é¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬è¾“å‡ºäº†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—èŠ‚ï¼Œä»¥åŠæ•´ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ï¼š</p><pre><code class=\"language-plain\">var s = \"ä¸­å›½äºº\"\nfmt.Printf(\"the length of s = %d\\n\", len(s)) // 9\n\nfor i := 0; i &lt; len(s); i++ {\n\tfmt.Printf(\"0x%x \", s[i]) // 0xe4 0xb8 0xad 0xe5 0x9b 0xbd 0xe4 0xba 0xba\n}\nfmt.Printf(\"\\n\")\n</code></pre><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œç”±â€œä¸­å›½äººâ€æ„æˆçš„å­—ç¬¦ä¸²çš„å­—èŠ‚åºåˆ—é•¿åº¦ä¸º9ã€‚å¹¶ä¸”ï¼Œä»…ä»æŸä¸€ä¸ªè¾“å‡ºçš„å­—èŠ‚æ¥çœ‹ï¼Œå®ƒæ˜¯ä¸èƒ½ä¸å­—ç¬¦ä¸²ä¸­çš„ä»»ä¸€ä¸ªå­—ç¬¦å¯¹åº”èµ·æ¥çš„ã€‚</p><p>å¦‚æœè¦è¡¨æ„ï¼Œæˆ‘ä»¬å°±éœ€è¦ä»å­—ç¬¦ä¸²çš„å¦å¤–ä¸€ä¸ªè§†è§’æ¥çœ‹ï¼Œä¹Ÿå°±æ˜¯<strong>å­—ç¬¦ä¸²æ˜¯ç”±ä¸€ä¸ªå¯ç©ºçš„å­—ç¬¦åºåˆ—æ„æˆ</strong>ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å†çœ‹ä¸‹é¢ä»£ç ï¼š</p><pre><code class=\"language-plain\">var s = \"ä¸­å›½äºº\"\nfmt.Println(\"the character count in s is\", utf8.RuneCountInString(s)) // 3\n\nfor _, c := range s {\n\tfmt.Printf(\"0x%x \", c) // 0x4e2d 0x56fd 0x4eba\n}\nfmt.Printf(\"\\n\")\n</code></pre><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬è¾“å‡ºäº†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ•°é‡ï¼Œä¹Ÿè¾“å‡ºäº†è¿™ä¸ªå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ã€‚å‰é¢è¯´è¿‡ï¼ŒGoé‡‡ç”¨çš„æ˜¯Unicodeå­—ç¬¦é›†ï¼Œæ¯ä¸ªå­—ç¬¦éƒ½æ˜¯ä¸€ä¸ªUnicodeå­—ç¬¦ï¼Œé‚£ä¹ˆè¿™é‡Œè¾“å‡ºçš„0x4e2dã€0x56fdå’Œ0x4ebaå°±åº”è¯¥æ˜¯æŸç§Unicodeå­—ç¬¦çš„è¡¨ç¤ºäº†ã€‚æ²¡é”™ï¼Œä»¥0x4e2dä¸ºä¾‹ï¼Œå®ƒæ˜¯æ±‰å­—â€œä¸­â€åœ¨Unicodeå­—ç¬¦é›†è¡¨ä¸­çš„ç ç‚¹ï¼ˆCode Pointï¼‰ã€‚</p><p>é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯Unicodeç ç‚¹å‘¢ï¼Ÿ</p><p>Unicodeå­—ç¬¦é›†ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œéƒ½è¢«åˆ†é…äº†ç»Ÿä¸€ä¸”å”¯ä¸€çš„å­—ç¬¦ç¼–å·ã€‚æ‰€è°“ <strong>Unicodeç ç‚¹</strong>ï¼Œå°±æ˜¯æŒ‡å°†Unicodeå­—ç¬¦é›†ä¸­çš„æ‰€æœ‰å­—ç¬¦â€œæ’æˆä¸€é˜Ÿâ€ï¼Œå­—ç¬¦åœ¨è¿™ä¸ªâ€œé˜Ÿä¼â€ä¸­çš„<strong>ä½æ¬¡</strong>ï¼Œå°±æ˜¯å®ƒåœ¨Unicodeå­—ç¬¦é›†ä¸­çš„ç ç‚¹ã€‚ä¹Ÿå°±è¯´ï¼Œä¸€ä¸ªç ç‚¹å”¯ä¸€å¯¹åº”ä¸€ä¸ªå­—ç¬¦ã€‚â€œç ç‚¹â€çš„æ¦‚å¿µå’Œæˆ‘ä»¬é©¬ä¸Šè¦è®²çš„runeç±»å‹æœ‰å¾ˆå¤§å…³ç³»ã€‚</p><h3>runeç±»å‹ä¸å­—ç¬¦å­—é¢å€¼</h3><p>Goä½¿ç”¨runeè¿™ä¸ªç±»å‹æ¥è¡¨ç¤ºä¸€ä¸ªUnicodeç ç‚¹ã€‚runeæœ¬è´¨ä¸Šæ˜¯int32ç±»å‹çš„åˆ«åç±»å‹ï¼Œå®ƒä¸int32ç±»å‹æ˜¯å®Œå…¨ç­‰ä»·çš„ï¼Œåœ¨Goæºç ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒçš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š</p><pre><code class=\"language-plain\">// $GOROOT/src/builtin.go\ntype rune = int32\n</code></pre><p>ç”±äºä¸€ä¸ªUnicodeç ç‚¹å”¯ä¸€å¯¹åº”ä¸€ä¸ªUnicodeå­—ç¬¦ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¯´ï¼Œ<strong>ä¸€ä¸ªruneå®ä¾‹å°±æ˜¯ä¸€ä¸ªUnicodeå­—ç¬¦ï¼Œä¸€ä¸ªGoå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è¢«è§†ä¸ºruneå®ä¾‹çš„é›†åˆã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å­—ç¬¦å­—é¢å€¼æ¥åˆå§‹åŒ–ä¸€ä¸ªruneå˜é‡ã€‚</strong></p><p>åœ¨Goä¸­ï¼Œå­—ç¬¦å­—é¢å€¼æœ‰å¤šç§è¡¨ç¤ºæ³•ï¼Œæœ€å¸¸è§çš„æ˜¯<strong>é€šè¿‡å•å¼•å·æ‹¬èµ·çš„å­—ç¬¦å­—é¢å€¼</strong>ï¼Œæ¯”å¦‚ï¼š</p><pre><code class=\"language-plain\">'a'  // ASCIIå­—ç¬¦\n'ä¸­' // Unicodeå­—ç¬¦é›†ä¸­çš„ä¸­æ–‡å­—ç¬¦\n'\\n' // æ¢è¡Œå­—ç¬¦\n'\\'' // å•å¼•å·å­—ç¬¦\n</code></pre><p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨<strong>Unicodeä¸“ç”¨çš„è½¬ä¹‰å­—ç¬¦\\uæˆ–\\Uä½œä¸ºå‰ç¼€ï¼Œ</strong>æ¥è¡¨ç¤ºä¸€ä¸ªUnicodeå­—ç¬¦ï¼Œæ¯”å¦‚ï¼š</p><pre><code class=\"language-plain\">'\\u4e2d'     // å­—ç¬¦ï¼šä¸­\n'\\U00004e2d' // å­—ç¬¦ï¼šä¸­\n'\\u0027'     // å•å¼•å·å­—ç¬¦\n</code></pre><p>è¿™é‡Œï¼Œæˆ‘ä»¬è¦æ³¨æ„ï¼Œ\\uåé¢æ¥å››ä¸ªåå…­è¿›åˆ¶æ•°ã€‚å¦‚æœæ˜¯ç”¨å››ä¸ªåå…­è¿›åˆ¶æ•°æ— æ³•è¡¨ç¤ºçš„Unicodeå­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨\\Uï¼Œ\\Uåé¢å¯ä»¥æ¥å…«ä¸ªåå…­è¿›åˆ¶æ•°æ¥è¡¨ç¤ºä¸€ä¸ªUnicodeå­—ç¬¦ã€‚</p><p>è€Œä¸”ï¼Œç”±äºè¡¨ç¤ºç ç‚¹çš„runeæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ•´å‹æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜å¯<strong>ç”¨æ•´å‹å€¼æ¥ç›´æ¥ä½œä¸ºå­—ç¬¦å­—é¢å€¼ç»™runeå˜é‡èµ‹å€¼</strong>ï¼Œæ¯”å¦‚ä¸‹é¢ä»£ç ï¼š</p><pre><code class=\"language-plain\">'\\x27'  // ä½¿ç”¨åå…­è¿›åˆ¶è¡¨ç¤ºçš„å•å¼•å·å­—ç¬¦\n'\\047'  // ä½¿ç”¨å…«è¿›åˆ¶è¡¨ç¤ºçš„å•å¼•å·å­—ç¬¦\n</code></pre><h3>å­—ç¬¦ä¸²å­—é¢å€¼</h3><p>å­—ç¬¦ä¸²æ˜¯å­—ç¬¦çš„é›†åˆï¼Œäº†è§£äº†å­—ç¬¦å­—é¢å€¼åï¼Œå­—ç¬¦ä¸²çš„å­—é¢å€¼ä¹Ÿå°±å¾ˆç®€å•äº†ã€‚åªä¸è¿‡å­—ç¬¦ä¸²æ˜¯å¤šä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦<strong>æŠŠè¡¨ç¤ºå•ä¸ªå­—ç¬¦çš„å•å¼•å·ï¼Œæ¢ä¸ºè¡¨ç¤ºå¤šä¸ªå­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²çš„åŒå¼•å·</strong>å°±å¯ä»¥äº†ã€‚æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹é¢è¿™äº›ä¾‹å­ï¼š</p><pre><code class=\"language-plain\">\"abc\\n\"\n\"ä¸­å›½äºº\"\n\"\\u4e2d\\u56fd\\u4eba\" // ä¸­å›½äºº\n\"\\U00004e2d\\U000056fd\\U00004eba\" // ä¸­å›½äºº\n\"ä¸­\\u56fd\\u4eba\" // ä¸­å›½äººï¼Œä¸åŒå­—ç¬¦å­—é¢å€¼å½¢å¼æ··åˆåœ¨ä¸€èµ·\n\"\\xe4\\xb8\\xad\\xe5\\x9b\\xbd\\xe4\\xba\\xba\" // åå…­è¿›åˆ¶è¡¨ç¤ºçš„å­—ç¬¦ä¸²å­—é¢å€¼ï¼šä¸­å›½äºº\n</code></pre><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œå°†å•ä¸ªUnicodeå­—ç¬¦å­—é¢å€¼ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°è¿åœ¨ä¸€èµ·ï¼Œå¹¶ç”¨åŒå¼•å·åŒ…è£¹èµ·æ¥å°±æ„æˆäº†å­—ç¬¦ä¸²å­—é¢å€¼ã€‚ç”šè‡³ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åƒå€’æ•°ç¬¬äºŒè¡Œé‚£æ ·ï¼Œå°†ä¸åŒå­—ç¬¦å­—é¢å€¼å½¢å¼æ··åˆåœ¨ä¸€èµ·ï¼Œæ„æˆä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢å€¼ã€‚</p><p>ä¸è¿‡ï¼Œè¿™é‡Œä½ å¯èƒ½å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œä¸Šé¢ç¤ºä¾‹ä»£ç çš„æœ€åä¸€è¡Œä½¿ç”¨çš„æ˜¯åå…­è¿›åˆ¶å½¢å¼çš„å­—ç¬¦ä¸²å­—é¢å€¼ï¼Œä½†æ¯ä¸ªå­—èŠ‚çš„å€¼ä¸å‰é¢å‡ è¡Œçš„ç ç‚¹å€¼å®Œå…¨å¯¹åº”ä¸ä¸Šå•Šï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>è¿™ä¸ªå­—èŠ‚åºåˆ—å®é™…ä¸Šæ˜¯â€œä¸­å›½äººâ€è¿™ä¸ªUnicodeå­—ç¬¦ä¸²çš„UTF-8ç¼–ç å€¼ã€‚ä»€ä¹ˆæ˜¯UTF-8ç¼–ç ï¼Ÿå®ƒåˆä¸Unicodeå­—ç¬¦é›†æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</p><h3>UTF-8ç¼–ç æ–¹æ¡ˆ</h3><p>UTF-8ç¼–ç è§£å†³çš„æ˜¯Unicodeç ç‚¹å€¼åœ¨è®¡ç®—æœºä¸­å¦‚ä½•å­˜å‚¨å’Œè¡¨ç¤ºï¼ˆä½æ¨¡å¼ï¼‰çš„é—®é¢˜ã€‚é‚£ä½ å¯èƒ½ä¼šè¯´ï¼Œç ç‚¹å”¯ä¸€ç¡®å®šä¸€ä¸ªUnicodeå­—ç¬¦ï¼Œç›´æ¥ç”¨ç ç‚¹å€¼ä¸è¡Œä¹ˆï¼Ÿ</p><p>è¿™çš„ç¡®æ˜¯å¯ä»¥çš„ï¼Œå¹¶ä¸”UTF-32ç¼–ç æ ‡å‡†å°±æ˜¯é‡‡ç”¨çš„è¿™ä¸ªæ–¹æ¡ˆã€‚UTF-32ç¼–ç æ–¹æ¡ˆå›ºå®šä½¿ç”¨4ä¸ªå­—èŠ‚è¡¨ç¤ºæ¯ä¸ªUnicodeå­—ç¬¦ç ç‚¹ï¼Œè¿™å¸¦æ¥çš„å¥½å¤„å°±æ˜¯ç¼–è§£ç ç®€å•ï¼Œä½†ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œä¸»è¦æœ‰ä¸‹é¢å‡ ç‚¹ï¼š</p><ul>\n<li>è¿™ç§ç¼–ç æ–¹æ¡ˆä½¿ç”¨4ä¸ªå­—èŠ‚å­˜å‚¨å’Œä¼ è¾“ä¸€ä¸ªæ•´å‹æ•°çš„æ—¶å€™ï¼Œéœ€è¦è€ƒè™‘ä¸åŒå¹³å°çš„å­—èŠ‚åºé—®é¢˜;</li>\n<li>ç”±äºé‡‡ç”¨4å­—èŠ‚çš„å›ºå®šé•¿åº¦ç¼–ç ï¼Œä¸é‡‡ç”¨1å­—èŠ‚ç¼–ç çš„ASCIIå­—ç¬¦é›†æ— æ³•å…¼å®¹ï¼›</li>\n<li>æ‰€æœ‰Unicodeå­—ç¬¦ç ç‚¹éƒ½ç”¨4å­—èŠ‚ç¼–ç ï¼Œæ˜¾ç„¶ç©ºé—´åˆ©ç”¨ç‡å¾ˆå·®ã€‚</li>\n</ul><p>é’ˆå¯¹è¿™äº›é—®é¢˜ï¼ŒGoè¯­è¨€ä¹‹çˆ¶Rob Pikeå‘æ˜äº†UTF-8ç¼–ç æ–¹æ¡ˆã€‚å’ŒUTF-32æ–¹æ¡ˆä¸åŒï¼ŒUTF-8æ–¹æ¡ˆä½¿ç”¨å˜é•¿åº¦å­—èŠ‚ï¼Œå¯¹Unicodeå­—ç¬¦çš„ç ç‚¹è¿›è¡Œç¼–ç ã€‚ç¼–ç é‡‡ç”¨çš„å­—èŠ‚æ•°é‡ä¸Unicodeå­—ç¬¦åœ¨ç ç‚¹è¡¨ä¸­çš„åºå·æœ‰å…³ï¼šè¡¨ç¤ºåºå·ï¼ˆç ç‚¹ï¼‰å°çš„å­—ç¬¦ä½¿ç”¨çš„å­—èŠ‚æ•°é‡å°‘ï¼Œè¡¨ç¤ºåºå·ï¼ˆç ç‚¹ï¼‰å¤§çš„å­—ç¬¦ä½¿ç”¨çš„å­—èŠ‚æ•°å¤šã€‚</p><p>UTF-8ç¼–ç ä½¿ç”¨çš„å­—èŠ‚æ•°é‡ä»1ä¸ªåˆ°4ä¸ªä¸ç­‰ã€‚å‰128ä¸ªä¸ASCIIå­—ç¬¦é‡åˆçš„ç ç‚¹ï¼ˆU+0000~U+007Fï¼‰ä½¿ç”¨1ä¸ªå­—èŠ‚è¡¨ç¤ºï¼›å¸¦å˜éŸ³ç¬¦å·çš„æ‹‰ä¸æ–‡ã€å¸Œè…Šæ–‡ã€è¥¿é‡Œå°”å­—æ¯ã€é˜¿æ‹‰ä¼¯æ–‡ç­‰ä½¿ç”¨2ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºï¼›è€Œä¸œäºšæ–‡å­—ï¼ˆåŒ…æ‹¬æ±‰å­—ï¼‰ä½¿ç”¨3ä¸ªå­—èŠ‚è¡¨ç¤ºï¼›å…¶ä»–æå°‘ä½¿ç”¨çš„è¯­è¨€çš„å­—ç¬¦åˆ™ä½¿ç”¨4ä¸ªå­—èŠ‚è¡¨ç¤ºã€‚</p><p>è¿™æ ·çš„ç¼–ç æ–¹æ¡ˆæ˜¯å…¼å®¹ASCIIå­—ç¬¦å†…å­˜è¡¨ç¤ºçš„ï¼Œè¿™æ„å‘³ç€é‡‡ç”¨UTF-8æ–¹æ¡ˆåœ¨å†…å­˜ä¸­è¡¨ç¤ºUnicodeå­—ç¬¦æ—¶ï¼Œå·²æœ‰çš„ASCIIå­—ç¬¦å¯ä»¥è¢«ç›´æ¥å½“æˆUnicodeå­—ç¬¦è¿›è¡Œå­˜å‚¨å’Œä¼ è¾“ï¼Œä¸ç”¨å†åšä»»ä½•æ”¹å˜ã€‚</p><p>æ­¤å¤–ï¼ŒUTF-8çš„ç¼–ç å•å…ƒä¸ºä¸€ä¸ªå­—èŠ‚ï¼ˆä¹Ÿå°±æ˜¯ä¸€æ¬¡ç¼–è§£ç ä¸€ä¸ªå­—èŠ‚ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å¤„ç†UTF-8æ–¹æ¡ˆè¡¨ç¤ºçš„Unicodeå­—ç¬¦çš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦åƒUTF-32æ–¹æ¡ˆé‚£æ ·è€ƒè™‘å­—èŠ‚åºé—®é¢˜äº†ã€‚ç›¸å¯¹äºUTF-32æ–¹æ¡ˆï¼ŒUTF-8æ–¹æ¡ˆçš„ç©ºé—´åˆ©ç”¨ç‡ä¹Ÿæ˜¯æœ€é«˜çš„ã€‚</p><p>ç°åœ¨ï¼ŒUTF-8ç¼–ç æ–¹æ¡ˆå·²ç»æˆä¸ºUnicodeå­—ç¬¦ç¼–ç æ–¹æ¡ˆçš„äº‹å®æ ‡å‡†ï¼Œå„ä¸ªå¹³å°ã€æµè§ˆå™¨ç­‰é»˜è®¤å‡ä½¿ç”¨UTF-8ç¼–ç æ–¹æ¡ˆå¯¹Unicodeå­—ç¬¦è¿›è¡Œç¼–ã€è§£ç ã€‚Goè¯­è¨€ä¹Ÿä¸ä¾‹å¤–ï¼Œé‡‡ç”¨äº†UTF-8ç¼–ç æ–¹æ¡ˆå­˜å‚¨Unicodeå­—ç¬¦ï¼Œæˆ‘ä»¬åœ¨å‰é¢æŒ‰å­—èŠ‚è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²å€¼æ—¶çœ‹åˆ°çš„å­—èŠ‚åºåˆ—ï¼Œå°±æ˜¯å¯¹å­—ç¬¦è¿›è¡ŒUTF-8ç¼–ç åçš„å€¼ã€‚</p><p>é‚£ä¹ˆç°åœ¨æˆ‘ä»¬å°±ä½¿ç”¨Goåœ¨æ ‡å‡†åº“ä¸­æä¾›çš„UTF-8åŒ…ï¼Œå¯¹Unicodeå­—ç¬¦ï¼ˆruneï¼‰è¿›è¡Œç¼–è§£ç è¯•è¯•çœ‹ï¼š</p><pre><code class=\"language-plain\">// rune -&gt; []byte                                                                            \nfunc encodeRune() {                                                                          \n    var r rune = 0x4E2D                                                                      \n    fmt.Printf(\"the unicode charactor is %c\\n\", r) // ä¸­                                     \n    buf := make([]byte, 3)                                                                   \n    _ = utf8.EncodeRune(buf, r) // å¯¹runeè¿›è¡Œutf-8ç¼–ç                                                            \n    fmt.Printf(\"utf-8 representation is 0x%X\\n\", buf) // 0xE4B8AD                            \n}                                                                                            \n                                                                                             \n// []byte -&gt; rune                                                                            \nfunc decodeRune() {                                                                          \n    var buf = []byte{0xE4, 0xB8, 0xAD}                                                       \n    r, _ := utf8.DecodeRune(buf) // å¯¹bufè¿›è¡Œutf-8è§£ç \n    fmt.Printf(\"the unicode charactor after decoding [0xE4, 0xB8, 0xAD] is %s\\n\", string(r)) // ä¸­\n}\n</code></pre><p>è¿™æ®µä»£ç ä¸­ï¼ŒencodeRuneé€šè¿‡è°ƒç”¨UTF-8çš„EncodeRuneå‡½æ•°å®ç°äº†å¯¹ä¸€ä¸ªruneï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªUnicodeå­—ç¬¦çš„ç¼–ç ï¼ŒdecodeRuneåˆ™è°ƒç”¨UTF-8åŒ…çš„decodeRuneï¼Œå°†ä¸€æ®µå†…å­˜å­—èŠ‚è½¬æ¢å›ä¸€ä¸ªUnicodeå­—ç¬¦ã€‚</p><p>å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»ææ¸…æ¥šGoè¯­è¨€ä¸­å­—ç¬¦ä¸²ç±»å‹çš„æ€§è´¨å’Œç»„æˆäº†ã€‚æœ‰äº†è¿™äº›åŸºç¡€ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹çœ‹Goæ˜¯å¦‚ä½•å®ç°å­—ç¬¦ä¸²ç±»å‹çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨Goçš„ç¼–è¯‘å™¨å’Œè¿è¡Œæ—¶ä¸­ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ç©¶ç«Ÿæ˜¯å¦‚ä½•è¡¨ç¤ºçš„ï¼Ÿ</p><h2>Goå­—ç¬¦ä¸²ç±»å‹çš„å†…éƒ¨è¡¨ç¤º</h2><p>å…¶å®ï¼Œæˆ‘ä»¬å‰é¢æåˆ°çš„Goå­—ç¬¦ä¸²ç±»å‹çš„è¿™äº›ä¼˜ç§€çš„æ€§è´¨ï¼ŒGoå­—ç¬¦ä¸²åœ¨ç¼–è¯‘å™¨å’Œè¿è¡Œæ—¶ä¸­çš„å†…éƒ¨è¡¨ç¤ºæ˜¯åˆ†ä¸å¼€çš„ã€‚Goå­—ç¬¦ä¸²ç±»å‹çš„å†…éƒ¨è¡¨ç¤ºç©¶ç«Ÿæ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿåœ¨æ ‡å‡†åº“çš„reflectåŒ…ä¸­ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†ç­”æ¡ˆï¼Œä½ å¯ä»¥çœ‹çœ‹ä¸‹é¢ä»£ç ï¼š</p><pre><code class=\"language-plain\">// $GOROOT/src/reflect/value.go\n\n// StringHeaderæ˜¯ä¸€ä¸ªstringçš„è¿è¡Œæ—¶è¡¨ç¤º\ntype StringHeader struct {\n    Data uintptr\n    Len  int\n}\n</code></pre><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<strong>stringç±»å‹å…¶å®æ˜¯ä¸€ä¸ªâ€œæè¿°ç¬¦â€ï¼Œå®ƒæœ¬èº«å¹¶ä¸çœŸæ­£å­˜å‚¨å­—ç¬¦ä¸²æ•°æ®ï¼Œè€Œä»…æ˜¯ç”±ä¸€ä¸ªæŒ‡å‘åº•å±‚å­˜å‚¨çš„æŒ‡é’ˆå’Œå­—ç¬¦ä¸²çš„é•¿åº¦å­—æ®µç»„æˆçš„ã€‚</strong>æˆ‘ä¹Ÿç”»äº†ä¸€å¼ å›¾ï¼Œç›´è§‚åœ°å±•ç¤ºäº†ä¸€ä¸ªstringç±»å‹å˜é‡åœ¨Goå†…å­˜ä¸­çš„å­˜å‚¨ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/6c/28/6c94a2f5a0f942e361792b26f5abfa28.jpg?wh=1920x1047\" alt=\"å›¾ç‰‡\"></p><p>ä½ çœ‹ï¼ŒGoç¼–è¯‘å™¨æŠŠæºç ä¸­çš„stringç±»å‹æ˜ å°„ä¸ºè¿è¡Œæ—¶çš„ä¸€ä¸ªäºŒå…ƒç»„ï¼ˆData, Lenï¼‰ï¼ŒçœŸå®çš„å­—ç¬¦ä¸²å€¼æ•°æ®å°±å­˜å‚¨åœ¨ä¸€ä¸ªè¢«DataæŒ‡å‘çš„åº•å±‚æ•°ç»„ä¸­ã€‚é€šè¿‡Dataå­—æ®µï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°è¿™ä¸ªæ•°ç»„çš„å†…å®¹ï¼Œä½ å¯ä»¥çœ‹çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š</p><pre><code class=\"language-plain\">func dumpBytesArray(arr []byte) {\n    fmt.Printf(\"[\")\n    for _, b := range arr {\n        fmt.Printf(\"%c \", b)\n    }\n    fmt.Printf(\"]\\n\")\n}\n\nfunc main() {\n    var s = \"hello\"\n    hdr := (*reflect.StringHeader)(unsafe.Pointer(&amp;s)) // å°†stringç±»å‹å˜é‡åœ°å€æ˜¾å¼è½¬å‹ä¸ºreflect.StringHeader\n    fmt.Printf(\"0x%x\\n\", hdr.Data) // 0x10a30e0\n    p := (*[5]byte)(unsafe.Pointer(hdr.Data)) // è·å–Dataå­—æ®µæ‰€æŒ‡å‘çš„æ•°ç»„çš„æŒ‡é’ˆ\n    dumpBytesArray((*p)[:]) // [h e l l o ]   // è¾“å‡ºåº•å±‚æ•°ç»„çš„å†…å®¹\n}\n</code></pre><p>è¿™æ®µä»£ç åˆ©ç”¨äº†unsafe.Pointerçš„é€šç”¨æŒ‡é’ˆè½¬å‹èƒ½åŠ›ï¼ŒæŒ‰ç…§StringHeaderç»™å‡ºçš„ç»“æ„å†…å­˜å¸ƒå±€ï¼Œâ€œé¡ºè—¤æ‘¸ç“œâ€ï¼Œä¸€æ­¥æ­¥æ‰¾åˆ°äº†åº•å±‚æ•°ç»„çš„åœ°å€ï¼Œå¹¶è¾“å‡ºäº†åº•å±‚æ•°ç»„å†…å®¹ã€‚</p><p>çŸ¥é“äº†stringç±»å‹çš„å®ç°åŸç†åï¼Œæˆ‘ä»¬å†å›å¤´çœ‹çœ‹Goå­—ç¬¦ä¸²ç±»å‹æ€§è´¨ä¸­â€œè·å–é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¸¸æ•°æ—¶é—´â€é‚£å¥ï¼Œæ˜¯ä¸æ˜¯å°±å¾ˆå¥½ç†è§£äº†ï¼Ÿä¹‹æ‰€ä»¥æ˜¯å¸¸æ•°æ—¶é—´ï¼Œé‚£æ˜¯å› ä¸ºå­—ç¬¦ä¸²ç±»å‹ä¸­åŒ…å«äº†å­—ç¬¦ä¸²é•¿åº¦ä¿¡æ¯ï¼Œå½“æˆ‘ä»¬ç”¨lenå‡½æ•°è·å–å­—ç¬¦ä¸²é•¿åº¦æ—¶ï¼Œlenå‡½æ•°åªè¦ç®€å•åœ°å°†è¿™ä¸ªä¿¡æ¯æå–å‡ºæ¥å°±å¯ä»¥äº†ã€‚</p><p>äº†è§£äº†stringç±»å‹çš„å®ç°åŸç†åï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¾—åˆ°è¿™æ ·ä¸€ä¸ªç»“è®ºï¼Œé‚£å°±æ˜¯<strong>æˆ‘ä»¬ç›´æ¥å°†stringç±»å‹é€šè¿‡å‡½æ•°/æ–¹æ³•å‚æ•°ä¼ å…¥ä¹Ÿä¸ä¼šå¸¦æ¥å¤ªå¤šçš„å¼€é”€ã€‚</strong>å› ä¸ºä¼ å…¥çš„ä»…ä»…æ˜¯ä¸€ä¸ªâ€œæè¿°ç¬¦â€ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„å­—ç¬¦ä¸²æ•°æ®ã€‚</p><p>é‚£ä¹ˆï¼Œäº†è§£äº†Goå­—ç¬¦ä¸²çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯å’ŒåŸç†åï¼Œæˆ‘ä»¬ä»ç†è®ºè½¬å‘å®é™…ï¼Œçœ‹çœ‹æ—¥å¸¸å¼€å‘ä¸­å›´ç»•å­—ç¬¦ä¸²ç±»å‹éƒ½æœ‰å“ªäº›å¸¸è§æ“ä½œã€‚</p><h2>Goå­—ç¬¦ä¸²ç±»å‹çš„å¸¸è§æ“ä½œ</h2><p>ç”±äºå­—ç¬¦ä¸²çš„ä¸å¯å˜æ€§ï¼Œé’ˆå¯¹å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬æ›´å¤šæ˜¯å°è¯•å¯¹å…¶è¿›è¡Œè¯»å–ï¼Œæˆ–è€…å°†å®ƒä½œä¸ºä¸€ä¸ªç»„æˆå•å…ƒå»æ„å»ºå…¶ä»–å­—ç¬¦ä¸²ï¼Œåˆæˆ–æ˜¯è½¬æ¢ä¸ºå…¶ä»–ç±»å‹ã€‚ä¸‹é¢æˆ‘ä»¬é€ä¸€æ¥çœ‹ä¸€ä¸‹è¿™äº›å­—ç¬¦ä¸²æ“ä½œï¼š</p><p><strong>ç¬¬ä¸€ä¸ªæ“ä½œï¼šä¸‹æ ‡æ“ä½œã€‚</strong></p><p>åœ¨å­—ç¬¦ä¸²çš„å®ç°ä¸­ï¼ŒçœŸæ­£å­˜å‚¨æ•°æ®çš„æ˜¯åº•å±‚çš„æ•°ç»„ã€‚å­—ç¬¦ä¸²çš„ä¸‹æ ‡æ“ä½œæœ¬è´¨ä¸Šç­‰ä»·äºåº•å±‚æ•°ç»„çš„ä¸‹æ ‡æ“ä½œã€‚æˆ‘ä»¬åœ¨å‰é¢çš„ä»£ç ä¸­å®é™…ç¢°åˆ°è¿‡é’ˆå¯¹å­—ç¬¦ä¸²çš„ä¸‹æ ‡æ“ä½œï¼Œå½¢å¼æ˜¯è¿™æ ·çš„ï¼š</p><pre><code class=\"language-plain\">var s = \"ä¸­å›½äºº\"\nfmt.Printf(\"0x%x\\n\", s[0]) // 0xe4ï¼šå­—ç¬¦â€œä¸­â€ utf-8ç¼–ç çš„ç¬¬ä¸€ä¸ªå­—èŠ‚\n</code></pre><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ä¸‹æ ‡æ“ä½œï¼Œæˆ‘ä»¬è·å–çš„æ˜¯å­—ç¬¦ä¸²ä¸­ç‰¹å®šä¸‹æ ‡ä¸Šçš„å­—èŠ‚ï¼Œè€Œä¸æ˜¯å­—ç¬¦ã€‚</p><p><strong>ç¬¬äºŒä¸ªæ“ä½œï¼šå­—ç¬¦è¿­ä»£ã€‚</strong></p><p>Goæœ‰ä¸¤ç§è¿­ä»£å½¢å¼ï¼šå¸¸è§„forè¿­ä»£ä¸for rangeè¿­ä»£ã€‚<strong>ä½ è¦æ³¨æ„ï¼Œé€šè¿‡è¿™ä¸¤ç§å½¢å¼çš„è¿­ä»£å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ“ä½œå¾—åˆ°çš„ç»“æœæ˜¯ä¸åŒçš„</strong>ã€‚</p><p>é€šè¿‡å¸¸è§„forè¿­ä»£å¯¹å­—ç¬¦ä¸²è¿›è¡Œçš„æ“ä½œæ˜¯ä¸€ç§å­—èŠ‚è§†è§’çš„è¿­ä»£ï¼Œæ¯è½®è¿­ä»£å¾—åˆ°çš„çš„ç»“æœéƒ½æ˜¯ç»„æˆå­—ç¬¦ä¸²å†…å®¹çš„ä¸€ä¸ªå­—èŠ‚ï¼Œä»¥åŠè¯¥å­—èŠ‚æ‰€åœ¨çš„ä¸‹æ ‡å€¼ï¼Œè¿™ä¹Ÿç­‰ä»·äºå¯¹å­—ç¬¦ä¸²åº•å±‚æ•°ç»„çš„è¿­ä»£ï¼Œæ¯”å¦‚ä¸‹é¢ä»£ç ï¼š</p><pre><code class=\"language-plain\">var s = \"ä¸­å›½äºº\"\n\nfor i := 0; i &lt; len(s); i++ {\n\tfmt.Printf(\"index: %d, value: 0x%x\\n\", i, s[i])\n}\n</code></pre><p>è¿è¡Œè¿™æ®µä»£ç ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ï¼Œç»è¿‡å¸¸è§„forè¿­ä»£åï¼Œæˆ‘ä»¬è·å–åˆ°çš„æ˜¯å­—ç¬¦ä¸²é‡Œå­—ç¬¦çš„UTF-8ç¼–ç ä¸­çš„ä¸€ä¸ªå­—èŠ‚ï¼š</p><pre><code class=\"language-plain\">index: 0, value: 0xe4\nindex: 1, value: 0xb8\nindex: 2, value: 0xad\nindex: 3, value: 0xe5\nindex: 4, value: 0x9b\nindex: 5, value: 0xbd\nindex: 6, value: 0xe4\nindex: 7, value: 0xba\nindex: 8, value: 0xba\n</code></pre><p>è€Œåƒä¸‹é¢è¿™æ ·ä½¿ç”¨for rangeè¿­ä»£ï¼Œæˆ‘ä»¬å¾—åˆ°çš„åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬ç»§ç»­çœ‹ä»£ç ï¼š</p><pre><code class=\"language-plain\">var s = \"ä¸­å›½äºº\"\n\nfor i, v := range s {\n    fmt.Printf(\"index: %d, value: 0x%x\\n\", i, v)\n}\n</code></pre><p>åŒæ ·è¿è¡Œä¸€ä¸‹è¿™æ®µä»£ç ï¼Œæˆ‘ä»¬å¾—åˆ°ï¼š</p><pre><code class=\"language-plain\">index: 0, value: 0x4e2d\nindex: 3, value: 0x56fd\nindex: 6, value: 0x4eba\n</code></pre><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œé€šè¿‡for rangeè¿­ä»£ï¼Œæˆ‘ä»¬æ¯è½®è¿­ä»£å¾—åˆ°çš„æ˜¯å­—ç¬¦ä¸²ä¸­Unicodeå­—ç¬¦çš„ç ç‚¹å€¼ï¼Œä»¥åŠè¯¥å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­çš„åç§»å€¼ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™æ ·çš„è¿­ä»£ï¼Œè·å–å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ä¸ªæ•°ï¼Œè€Œé€šè¿‡Goæä¾›çš„å†…ç½®å‡½æ•°lenï¼Œæˆ‘ä»¬åªèƒ½è·å–å­—ç¬¦ä¸²å†…å®¹çš„é•¿åº¦ï¼ˆå­—èŠ‚ä¸ªæ•°ï¼‰ã€‚å½“ç„¶äº†ï¼Œè·å–å­—ç¬¦ä¸²ä¸­å­—ç¬¦ä¸ªæ•°æ›´ä¸“ä¸šçš„æ–¹æ³•ï¼Œæ˜¯è°ƒç”¨æ ‡å‡†åº“UTF-8åŒ…ä¸­çš„RuneCountInStringå‡½æ•°ï¼Œè¿™ç‚¹ä½ å¯ä»¥è‡ªå·±è¯•ä¸€ä¸‹ã€‚</p><p><strong>ç¬¬ä¸‰ä¸ªæ“ä½œï¼šå­—ç¬¦ä¸²è¿æ¥ã€‚</strong></p><p>æˆ‘ä»¬å‰é¢å·²ç»çŸ¥é“ï¼Œå­—ç¬¦ä¸²å†…å®¹æ˜¯ä¸å¯å˜çš„ï¼Œä½†è¿™å¹¶ä¸å¦¨ç¢æˆ‘ä»¬åŸºäºå·²æœ‰å­—ç¬¦ä¸²åˆ›å»ºæ–°å­—ç¬¦ä¸²ã€‚GoåŸç”Ÿæ”¯æŒé€šè¿‡+/+=æ“ä½œç¬¦è¿›è¡Œå­—ç¬¦ä¸²è¿æ¥ï¼Œè¿™ä¹Ÿæ˜¯å¯¹å¼€å‘è€…ä½“éªŒæœ€å¥½çš„å­—ç¬¦ä¸²è¿æ¥æ“ä½œï¼Œä½ å¯ä»¥çœ‹çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š</p><pre><code class=\"language-plain\">s := \"Rob Pike, \"\ns = s + \"Robert Griesemer, \"\ns += \" Ken Thompson\"\n\nfmt.Println(s) // Rob Pike, Robert Griesemer, Ken Thompson\n</code></pre><p>ä¸è¿‡ï¼Œè™½ç„¶é€šè¿‡+/+=è¿›è¡Œå­—ç¬¦ä¸²è¿æ¥çš„å¼€å‘ä½“éªŒæ˜¯æœ€å¥½çš„ï¼Œä½†è¿æ¥æ€§èƒ½å°±æœªå¿…æ˜¯æœ€å¿«çš„äº†ã€‚é™¤äº†è¿™ä¸ªæ–¹æ³•å¤–ï¼ŒGoè¿˜æä¾›äº†strings.Builderã€strings.Joinã€fmt.Sprintfç­‰å‡½æ•°æ¥è¿›è¡Œå­—ç¬¦ä¸²è¿æ¥æ“ä½œã€‚å…³äºè¿™äº›æ–¹æ³•çš„æ€§èƒ½è®¨è®ºï¼Œæˆ‘æ”¾åˆ°äº†åé¢çš„æ€è€ƒé¢˜é‡Œï¼Œæˆ‘æƒ³è®©ä½ å…ˆå»æ‰¾ä¸€ä¸‹ç­”æ¡ˆã€‚</p><p><strong>ç¬¬å››ä¸ªæ“ä½œï¼šå­—ç¬¦ä¸²æ¯”è¾ƒã€‚</strong></p><p>Goå­—ç¬¦ä¸²ç±»å‹æ”¯æŒå„ç§æ¯”è¾ƒå…³ç³»æ“ä½œç¬¦ï¼ŒåŒ…æ‹¬= =ã€!= ã€&gt;=ã€&lt;=ã€&gt; å’Œ &lt;ã€‚åœ¨å­—ç¬¦ä¸²çš„æ¯”è¾ƒä¸Šï¼ŒGoé‡‡ç”¨å­—å…¸åºçš„æ¯”è¾ƒç­–ç•¥ï¼Œåˆ†åˆ«ä»æ¯ä¸ªå­—ç¬¦ä¸²çš„èµ·å§‹å¤„ï¼Œå¼€å§‹é€ä¸ªå­—èŠ‚åœ°å¯¹ä¸¤ä¸ªå­—ç¬¦ä¸²ç±»å‹å˜é‡è¿›è¡Œæ¯”è¾ƒã€‚</p><p>å½“ä¸¤ä¸ªå­—ç¬¦ä¸²ä¹‹é—´å‡ºç°äº†ç¬¬ä¸€ä¸ªä¸ç›¸åŒçš„å…ƒç´ ï¼Œæ¯”è¾ƒå°±ç»“æŸäº†ï¼Œè¿™ä¸¤ä¸ªå…ƒç´ çš„æ¯”è¾ƒç»“æœå°±ä¼šåšä¸ºä¸²æœ€ç»ˆçš„æ¯”è¾ƒç»“æœã€‚å¦‚æœå‡ºç°ä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦ä¸åŒçš„æƒ…å†µï¼Œé•¿åº¦æ¯”è¾ƒå°çš„å­—ç¬¦ä¸²ä¼šç”¨ç©ºå…ƒç´ è¡¥é½ï¼Œç©ºå…ƒç´ æ¯”å…¶ä»–éç©ºå…ƒç´ éƒ½å°ã€‚</p><p>è¿™é‡Œæˆ‘ç»™äº†ä¸€ä¸ªGoå­—ç¬¦ä¸²æ¯”è¾ƒçš„ç¤ºä¾‹ï¼š</p><pre><code class=\"language-plain\">func main() {\n        // ==\n        s1 := \"ä¸–ç•Œå’Œå¹³\"\n        s2 := \"ä¸–ç•Œ\" + \"å’Œå¹³\"\n        fmt.Println(s1 == s2) // true\n\n        // !=\n        s1 = \"Go\"\n        s2 = \"C\"\n        fmt.Println(s1 != s2) // true\n\n        // &lt; and &lt;=\n        s1 = \"12345\"\n        s2 = \"23456\"\n        fmt.Println(s1 &lt; s2)  // true\n        fmt.Println(s1 &lt;= s2) // true\n\n        // &gt; and &gt;=\n        s1 = \"12345\"\n        s2 = \"123\"\n        fmt.Println(s1 &gt; s2)  // true\n        fmt.Println(s1 &gt;= s2) // true\n}\n</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œé‰´äºGo stringç±»å‹æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥è¯´å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ä¸ç›¸åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸éœ€è¦æ¯”è¾ƒå…·ä½“å­—ç¬¦ä¸²æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ–­å®šä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸åŒçš„ã€‚ä½†æ˜¯å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦ç›¸åŒï¼Œå°±è¦è¿›ä¸€æ­¥åˆ¤æ–­ï¼Œæ•°æ®æŒ‡é’ˆæ˜¯å¦æŒ‡å‘åŒä¸€å—åº•å±‚å­˜å‚¨æ•°æ®ã€‚å¦‚æœè¿˜ç›¸åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¯´ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯ç­‰ä»·çš„ï¼Œå¦‚æœä¸åŒï¼Œé‚£å°±è¿˜éœ€è¦è¿›ä¸€æ­¥å»æ¯”å¯¹å®é™…çš„æ•°æ®å†…å®¹ã€‚</p><p><strong>ç¬¬äº”ä¸ªæ“ä½œï¼šå­—ç¬¦ä¸²è½¬æ¢ã€‚</strong></p><p>åœ¨è¿™æ–¹é¢ï¼ŒGoæ”¯æŒå­—ç¬¦ä¸²ä¸å­—èŠ‚åˆ‡ç‰‡ã€å­—ç¬¦ä¸²ä¸runeåˆ‡ç‰‡çš„åŒå‘è½¬æ¢ï¼Œå¹¶ä¸”è¿™ç§è½¬æ¢æ— éœ€è°ƒç”¨ä»»ä½•å‡½æ•°ï¼Œåªéœ€ä½¿ç”¨æ˜¾å¼ç±»å‹è½¬æ¢å°±å¯ä»¥äº†ã€‚æˆ‘ä»¬çœ‹çœ‹ä¸‹é¢ä»£ç ï¼š</p><pre><code class=\"language-plain\">var s string = \"ä¸­å›½äºº\"\n                      \n// string -&gt; []rune\nrs := []rune(s) \nfmt.Printf(\"%x\\n\", rs) // [4e2d 56fd 4eba]\n                \n// string -&gt; []byte\nbs := []byte(s) \nfmt.Printf(\"%x\\n\", bs) // e4b8ade59bbde4baba\n                \n// []rune -&gt; string\ns1 := string(rs)\nfmt.Println(s1) // ä¸­å›½äºº\n                \n// []byte -&gt; string\ns2 := string(bs)\nfmt.Println(s2) // ä¸­å›½äºº\n</code></pre><p>è¿™æ ·çš„è½¬å‹çœ‹ä¼¼ç®€å•ï¼Œä½†æ— è®ºæ˜¯stringè½¬åˆ‡ç‰‡ï¼Œè¿˜æ˜¯åˆ‡ç‰‡è½¬stringï¼Œè¿™ç±»è½¬å‹èƒŒåä¹Ÿæ˜¯æœ‰ç€ä¸€å®šå¼€é”€çš„ã€‚è¿™äº›å¼€é”€çš„æ ¹æºå°±åœ¨äºstringæ˜¯ä¸å¯å˜çš„ï¼Œè¿è¡Œæ—¶è¦ä¸ºè½¬æ¢åçš„ç±»å‹åˆ†é…æ–°å†…å­˜ã€‚</p><h2>å°ç»“</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„è¯¾è®²åˆ°è¿™é‡Œå°±ç»“æŸäº†ã€‚è¿™ä¸€èŠ‚è¯¾ï¼Œæˆ‘ä»¬å­¦ä¹ äº†Goä¸­å¦å¤–ä¸€ç±»æœ€å¸¸ç”¨çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼šå­—ç¬¦ä¸²ç±»å‹ã€‚GoåŸç”Ÿæ”¯æŒå­—ç¬¦ä¸²ç±»å‹ï¼Œæ‰€æœ‰å­—ç¬¦ä¸²å˜é‡ã€å¸¸é‡ã€å­—é¢å€¼éƒ½ç»Ÿä¸€è®¾ç½®ä¸ºstringç±»å‹ï¼Œå¯¹stringçš„åŸç”Ÿæ”¯æŒä½¿å¾—Goå­—ç¬¦ä¸²æœ‰äº†å¾ˆå¤šä¼˜ç§€æ€§è´¨ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªè§†è§’æ¥çœ‹å¾…Goå­—ç¬¦ä¸²çš„ç»„æˆï¼Œä¸€ç§æ˜¯å­—èŠ‚è§†è§’ã€‚Goå­—ç¬¦ä¸²æ˜¯ç”±ä¸€ä¸ªå¯ç©ºçš„å­—èŠ‚åºåˆ—ç»„æˆï¼Œå­—èŠ‚çš„ä¸ªæ•°ç§°ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼›å¦å¤–ä¸€ç§æ˜¯å­—ç¬¦è§†è§’ã€‚Goå­—ç¬¦ä¸²æ˜¯ç”±ä¸€ä¸ªå¯ç©ºçš„å­—ç¬¦åºåˆ—æ„æˆã€‚Goå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½æ˜¯ä¸€ä¸ªUnicodeå­—ç¬¦ã€‚</p><p>Goä½¿ç”¨runeç±»å‹æ¥è¡¨ç¤ºä¸€ä¸ªUnicodeå­—ç¬¦çš„ç ç‚¹ã€‚ä¸ºäº†ä¼ è¾“å’Œå­˜å‚¨Unicodeå­—ç¬¦ï¼ŒGoè¿˜ä½¿ç”¨äº†UTF-8ç¼–ç æ–¹æ¡ˆï¼ŒUTF-8ç¼–ç æ–¹æ¡ˆä½¿ç”¨å˜é•¿å­—èŠ‚çš„ç¼–ç æ–¹å¼ï¼Œç ç‚¹å°çš„å­—ç¬¦ç”¨è¾ƒå°‘çš„å­—èŠ‚ç¼–ç ï¼Œç ç‚¹å¤§çš„å­—ç¬¦ç”¨è¾ƒå¤šå­—èŠ‚ç¼–ç ï¼Œè¿™ç§ç¼–ç æ–¹å¼å…¼å®¹ASCIIå­—ç¬¦é›†ï¼Œå¹¶ä¸”æ‹¥æœ‰å¾ˆé«˜çš„ç©ºé—´åˆ©ç”¨ç‡ã€‚</p><p>Goè¯­è¨€åœ¨è¿è¡Œæ—¶å±‚é¢é€šè¿‡ä¸€ä¸ªäºŒå…ƒç»„ç»“æ„ï¼ˆData, Lenï¼‰æ¥è¡¨ç¤ºä¸€ä¸ªstringç±»å‹å˜é‡ï¼Œå…¶ä¸­Dataæ˜¯ä¸€ä¸ªæŒ‡å‘å­˜å‚¨å­—ç¬¦ä¸²æ•°æ®å†…å®¹åŒºåŸŸçš„æŒ‡é’ˆå€¼ï¼ŒLenæ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚å› æ­¤ï¼Œæœ¬è´¨ä¸Šï¼Œä¸€ä¸ªstringå˜é‡ä»…ä»…æ˜¯ä¸€ä¸ªâ€œæè¿°ç¬¦â€ï¼Œå¹¶ä¸çœŸæ­£åŒ…å«å­—ç¬¦ä¸²æ•°æ®ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å³ä¾¿ç›´æ¥å°†stringç±»å‹å˜é‡ä½œä¸ºå‡½æ•°å‚æ•°ï¼Œå…¶ä¼ é€’çš„å¼€é”€ä¹Ÿæ˜¯æ’å®šçš„ï¼Œä¸ä¼šéšç€å­—ç¬¦ä¸²å¤§å°çš„å˜åŒ–è€Œå˜åŒ–ã€‚</p><p>Goä¸ºå…¶åŸç”Ÿæ”¯æŒçš„stringç±»å‹æä¾›äº†è®¸å¤šåŸç”Ÿæ“ä½œç±»å‹ï¼Œåœ¨è¿›è¡Œå­—ç¬¦ä¸²æ“ä½œæ—¶ä½ è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul>\n<li>é€šè¿‡å¸¸è§„forè¿­ä»£ä¸for rangeè¿­ä»£æ‰€å¾—åˆ°çš„ç»“æœä¸åŒï¼Œå¸¸è§„forè¿­ä»£é‡‡ç”¨çš„æ˜¯å­—èŠ‚è§†è§’ï¼›è€Œfor rangeè¿­ä»£é‡‡ç”¨çš„æ˜¯å­—ç¬¦è§†è§’ï¼›</li>\n<li>åŸºäº+/+=æ“ä½œç¬¦çš„å­—ç¬¦ä¸²è¿æ¥æ˜¯å¯¹å¼€å‘è€…ä½“éªŒæœ€å¥½çš„å­—ç¬¦ä¸²è¿æ¥æ–¹å¼ï¼Œä½†å´ä¸æ˜¯æ€§èƒ½æœ€å¥½çš„æ–¹å¼ï¼›</li>\n<li>æ— è®ºæ˜¯å­—ç¬¦ä¸²è½¬åˆ‡ç‰‡ï¼Œè¿˜æ˜¯åˆ‡ç‰‡è½¬å­—ç¬¦ä¸²ï¼Œéƒ½ä¼šæœ‰å†…å­˜åˆ†é…çš„å¼€é”€ï¼Œè¿™ç¼˜äºGoå­—ç¬¦ä¸²æ•°æ®å†…å®¹ä¸å¯å˜çš„æ€§è´¨ã€‚</li>\n</ul><h2>æ€è€ƒé¢˜</h2><p>æˆ‘ä»¬å‰é¢è®²åˆ°ï¼ŒGoæä¾›å¤šç§å­—ç¬¦ä¸²è¿æ¥æœåŠ¡ï¼ŒåŒ…æ‹¬åŸºäº+/+=çš„å­—ç¬¦è¿æ¥ã€åŸºäºstrings.Builderã€strings.Joinã€fmt.Sprintfç­‰å‡½æ•°æ¥è¿›è¡Œå­—ç¬¦ä¸²è¿æ¥æ“ä½œã€‚é‚£ä¹ˆï¼Œå“ªç§è¿æ¥æ–¹å¼æ˜¯æ€§èƒ½æœ€é«˜çš„å‘¢ï¼ŸæœŸå¾…åœ¨ç•™è¨€åŒºçœ‹åˆ°ä½ çš„æƒ³æ³•ã€‚</p><p>æ¬¢è¿æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™æ›´å¤šå¯¹Goè¯­è¨€å­—ç¬¦ä¸²ç±»å‹æ„Ÿå…´è¶£çš„æœ‹å‹ã€‚æˆ‘æ˜¯Tony Baiï¼Œæˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ã€‚</p>","neighbors":{"left":{"article_title":"12ï½œåŸºæœ¬æ•°æ®ç±»å‹ï¼šGoåŸç”Ÿæ”¯æŒçš„æ•°å€¼ç±»å‹æœ‰å“ªäº›ï¼Ÿ","id":439782},"right":{"article_title":"14ï½œå¸¸é‡ï¼šGoåœ¨â€œå¸¸é‡â€è®¾è®¡ä¸Šçš„åˆ›æ–°æœ‰å“ªäº›ï¼Ÿ","id":442791}},"comments":[{"had_liked":false,"id":321019,"user_name":"Darren","can_delete":false,"product_type":"c1","uid":1254968,"ip_address":"","ucode":"CCD2B2C492BE9A","user_header":"https://static001.geekbang.org/account/avatar/00/13/26/38/ef063dc2.jpg","comment_is_top":false,"comment_ctime":1636621796,"is_pvip":false,"replies":[{"id":116755,"content":"ç®€ç›´å°±æ˜¯æ ‡å‡†ç­”æ¡ˆğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636929420,"ip_address":"","comment_id":321019,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"func plusConcat(n int, str string) string {\n\t&#47;&#47; +å·æ‹¼æ¥\n}\n\nfunc sprintfConcat(n int, str string) string {\n\t&#47;&#47;fmt.Sprintfæ‹¼æ¥\n}\n\nfunc builderConcat(n int, str string) string {\n\tvar builder strings.Builder\n\tfor i := 0; i &lt; n; i++ {\n\t\tbuilder.WriteString(str)\n\t}\n\treturn builder.String()\n}\n\nfunc bufferConcat(n int, s string) string {\n\tbuf := new(bytes.Buffer)\n\tfor i := 0; i &lt; n; i++ {\n\t\tbuf.WriteString(s)\n\t}\n\treturn buf.String()\n}\n\nfunc byteConcat(n int, str string) string {\n\tbuf := make([]byte, 0)\n\tfor i := 0; i &lt; n; i++ {\n\t\tbuf = append(buf, str...)\n\t}\n\treturn string(buf)\n}\nfunc preByteConcat(n int, str string) string {\n\tbuf := make([]byte, 0, n*len(str))\n\tfor i := 0; i &lt; n; i++ {\n\t\tbuf = append(buf, str...)\n\t}\n\treturn string(buf)\n}\nfunc builderGrowConcat(n int, str string) string {\n\tvar builder strings.Builder\n\tbuilder.Grow(n * len(str))\n\t&#47;&#47; ä¸builderConcatç›¸åŒ\n}\nfunc bufferGrowConcat(n int, s string) string {\n\tbuf := new(bytes.Buffer)\n\tbuf.Grow(n * len(s))\n\t&#47;&#47; ä¸bufferConcatç›¸åŒ\n}\nbenchmemæµ‹è¯•ï¼š\n    24          47124538 ns&#47;op        530996721 B&#47;op     10011 allocs&#47;op\n    13          81526461 ns&#47;op        834307836 B&#47;op     37463 allocs&#47;op\n 13263             90613 ns&#47;op          505841 B&#47;op         24 allocs&#47;op\n 12730             94213 ns&#47;op          423537 B&#47;op         13 allocs&#47;op\n 12992             94185 ns&#47;op          612338 B&#47;op         25 allocs&#47;op\n 23606             50058 ns&#47;op          212992 B&#47;op          2 allocs&#47;op\n 24326             49660 ns&#47;op          106496 B&#47;op          1 allocs&#47;op\n 16762             71860 ns&#47;op          212993 B&#47;op          2 allocs&#47;op\n å¦‚æœèƒ½çŸ¥é“æ‹¼æ¥å­—ç¬¦ä¸²çš„ä¸ªæ•°ï¼Œé‚£ä¹ˆä½¿ç”¨bytes.Bufferå’Œstrings.Builderçš„Growsç”³è¯·ç©ºé—´åï¼Œæ€§èƒ½æ˜¯æœ€å¥½çš„ï¼›å¦‚æœä¸èƒ½ç¡®å®šé•¿åº¦ï¼Œé‚£ä¹ˆbytes.Bufferå’Œstrings.Builderä¹Ÿæ¯”â€œ+â€å’Œfmt.Sprintfæ€§èƒ½å¥½å¾ˆå¤šã€‚\n\n bytes.Bufferä¸strings.Builderï¼Œstrings.Builderæ›´åˆé€‚ï¼Œå› ä¸ºbytes.Buffer è½¬åŒ–ä¸ºå­—ç¬¦ä¸²æ—¶é‡æ–°ç”³è¯·äº†ä¸€å—ç©ºé—´ï¼Œå­˜æ”¾ç”Ÿæˆçš„å­—ç¬¦ä¸²å˜é‡ï¼Œè€Œ strings.Builder ç›´æ¥å°†åº•å±‚çš„ []byte è½¬æ¢æˆäº†å­—ç¬¦ä¸²ç±»å‹è¿”å›äº†å›æ¥ã€‚\n\n bytes.Buffer çš„æ³¨é‡Šä¸­è¿˜ç‰¹æ„æåˆ°äº†ï¼š\n\nTo build strings more efficiently, see the strings.Builder type.","like_count":148},{"had_liked":false,"id":330026,"user_name":"Vfeelit","can_delete":false,"product_type":"c1","uid":1501818,"ip_address":"","ucode":"F3FF2B069F347F","user_header":"https://static001.geekbang.org/account/avatar/00/16/ea/7a/d857723d.jpg","comment_is_top":false,"comment_ctime":1641738130,"is_pvip":false,"replies":[{"id":120489,"content":"å¥½é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜æˆ‘ä¹Ÿæ›¾æƒ³è¿‡ï¼Œå®˜æ–¹æ²¡æœ‰ç­”æ¡ˆã€‚ä½†ä»ç¤¾åŒºç»™å‡ºçš„è§‚ç‚¹æ¥çœ‹ï¼Œä¸»è¦è€ƒè™‘ä¸¤ç‚¹ï¼š1.int32è¶³å¤Ÿè¡¨ç¤ºunicodeæ‰€æœ‰ç ç‚¹ 2. int32å¯ä»¥ä¸ºè´Ÿæ•°ï¼Œä¾¿äºæ£€æµ‹æº¢å‡º(overflow)æˆ–å…¶ä»–åŸºäºint32çš„è®¡ç®—é”™è¯¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1642042652,"ip_address":"","comment_id":330026,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"rune æ˜¯ int32 åˆ«å  Unicodeç¼–ç æ²¡æœ‰è´Ÿçš„å§ ä¸ºä½•ä¸æ˜¯ uint32çš„åˆ«åï¼Ÿ","like_count":24,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530188,"discussion_content":"ç®€ç›´å°±æ˜¯æ ‡å‡†ç­”æ¡ˆğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636929420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043824,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ed/70/dafc8858.jpg","nickname":"å­Ÿè°¦","note":"","ucode":"7504C438D973D3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":650834,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1725704680,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3904463,"avatar":"","nickname":"Geek_5759bc","note":"","ucode":"882F0A5AF1EE79","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":646910,"discussion_content":"mark\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1718982434,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3554552,"avatar":"","nickname":"Geek_gofzw","note":"","ucode":"F5DFB1622C80BE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":608762,"discussion_content":"m","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678633831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336373,"user_name":"å¤§å¤§å¤§å¤§å¤§æ³½","can_delete":false,"product_type":"c1","uid":2916508,"ip_address":"","ucode":"D9388E4777BA9F","user_header":"","comment_is_top":false,"comment_ctime":1646119198,"is_pvip":false,"replies":[{"id":122946,"content":"æ‘˜è‡ªç½‘ç»œ:)\n\nunicode ç¬¦å·èŒƒå›´ | utf-8 ç¼–ç æ–¹å¼\n00000000 ~ 0000007F | 0xxxxxxx \n00000080 ~ 000007FF | 110xxxxx 10xxxxxx \n00000800 ~ 0000FFFF | 1110xxxx 10xxxxxx 10xxxxxx \n00010000 ~ 0010FFFF | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx \n\næ€»ç»“ä¸‹æ¥ï¼Œé’ˆå¯¹UTF8ï¼Œç¼–ç è§„åˆ™å…¶å®åªæœ‰ä¸¤æ¡ï¼š\n1ï¼‰å•å­—èŠ‚è§„åˆ™ï¼š å¯¹äº å•å­—èŠ‚ çš„ç¬¦å·ï¼Œå­—èŠ‚çš„ç¬¬ä¸€ä½ï¼ˆæœ€é«˜ä½ï¼‰è®¾ä¸º 0ï¼Œåé¢ 7 ä½ä¸ºè¿™ä¸ªç¬¦å·çš„ unicode ç ã€‚\n2ï¼‰nå­—èŠ‚è§„åˆ™ï¼š å¯¹äº n å­—èŠ‚çš„ç¬¦å·ï¼ˆn&gt;1ï¼‰ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰ n ä½éƒ½è®¾ä¸º 1ï¼Œç¬¬ n+1 ä½è®¾ä¸º 0ï¼Œåé¢å­—èŠ‚çš„å‰ä¸¤ä½ä¸€å¾‹è®¾ä¸º 10ã€‚å‰©ä¸‹çš„æ²¡æœ‰æåŠçš„äºŒè¿›åˆ¶ä½ï¼Œå…¨éƒ¨ä¸ºè¿™ä¸ªç¬¦å·çš„ unicode ç ã€‚\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1646128890,"ip_address":"","comment_id":336373,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"æœ‰ä¸ªé—®é¢˜ä¸å¤ªæ‡‚ã€‚ã€‚ã€‚UTF-8 ç¼–ç ä½¿ç”¨çš„å­—èŠ‚æ•°é‡ä» 1 ä¸ªåˆ° 4 ä¸ªä¸ç­‰ã€‚é‚£ä¹ˆå¦‚ä½•ç¡®å®šå‡ ä¸ªå­—èŠ‚ç¡®å®šä¸€ä¸ªå­—ç¬¦å‘¢ï¼Ÿ\næ¯”å¦‚è¯´ ä¸­å›½äºº æ˜¯ \\xe4\\xb8\\xad\\xe5\\x9b\\xbd\\xe4\\xba\\xbaï¼Œ3ä¸ªå­—èŠ‚ç¡®å®šä¸€ä¸ªå­—ç¬¦ï¼Œåˆ†é…ä¸º3 3 3ã€‚ä¸ºä»€ä¹ˆä¸ä¼šåˆ†å‰²æˆ1 1 2 2 3","like_count":19,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545709,"discussion_content":"å¥½é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜æˆ‘ä¹Ÿæ›¾æƒ³è¿‡ï¼Œå®˜æ–¹æ²¡æœ‰ç­”æ¡ˆã€‚ä½†ä»ç¤¾åŒºç»™å‡ºçš„è§‚ç‚¹æ¥çœ‹ï¼Œä¸»è¦è€ƒè™‘ä¸¤ç‚¹ï¼š1.int32è¶³å¤Ÿè¡¨ç¤ºunicodeæ‰€æœ‰ç ç‚¹ 2. int32å¯ä»¥ä¸ºè´Ÿæ•°ï¼Œä¾¿äºæ£€æµ‹æº¢å‡º(overflow)æˆ–å…¶ä»–åŸºäºint32çš„è®¡ç®—é”™è¯¯ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1642042652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321169,"user_name":"ä½ å¥½å‘€, æœ‹å‹.","can_delete":false,"product_type":"c1","uid":2840465,"ip_address":"","ucode":"49E45F2E0AB679","user_header":"","comment_is_top":false,"comment_ctime":1636698605,"is_pvip":false,"replies":[{"id":116790,"content":"ä¸€ä¸ªruneå­˜å‚¨ä¸€ä¸ªunicodeç ç‚¹æˆ–utf-32çš„å››å­—èŠ‚ç¼–ç ï¼›ä»å­—èŠ‚è§†è§’ï¼Œstringå¯¹åº”çš„åº•å±‚å­˜å‚¨å­˜æ”¾çš„æ˜¯utf8ç¼–ç ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636965836,"ip_address":"","comment_id":321169,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"æ˜¯ä¸æ˜¯å¯ä»¥ç†è§£æˆ[]runeé‡Œå­˜çš„æ˜¯Unicodeç ç‚¹æˆ–è€…è¯´UTF-32ç¼–ç ï¼Œè€Œ[]byteå’Œstringå­˜çš„æ˜¯UTF-8ç¼–ç ","like_count":13,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553902,"discussion_content":"æ‘˜è‡ªç½‘ç»œ:)\n\nunicode ç¬¦å·èŒƒå›´ | utf-8 ç¼–ç æ–¹å¼\n00000000 ~ 0000007F | 0xxxxxxx \n00000080 ~ 000007FF | 110xxxxx 10xxxxxx \n00000800 ~ 0000FFFF | 1110xxxx 10xxxxxx 10xxxxxx \n00010000 ~ 0010FFFF | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx \n\næ€»ç»“ä¸‹æ¥ï¼Œé’ˆå¯¹UTF8ï¼Œç¼–ç è§„åˆ™å…¶å®åªæœ‰ä¸¤æ¡ï¼š\n1ï¼‰å•å­—èŠ‚è§„åˆ™ï¼š å¯¹äº å•å­—èŠ‚ çš„ç¬¦å·ï¼Œå­—èŠ‚çš„ç¬¬ä¸€ä½ï¼ˆæœ€é«˜ä½ï¼‰è®¾ä¸º 0ï¼Œåé¢ 7 ä½ä¸ºè¿™ä¸ªç¬¦å·çš„ unicode ç ã€‚\n2ï¼‰nå­—èŠ‚è§„åˆ™ï¼š å¯¹äº n å­—èŠ‚çš„ç¬¦å·ï¼ˆn&gt;1ï¼‰ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰ n ä½éƒ½è®¾ä¸º 1ï¼Œç¬¬ n+1 ä½è®¾ä¸º 0ï¼Œåé¢å­—èŠ‚çš„å‰ä¸¤ä½ä¸€å¾‹è®¾ä¸º 10ã€‚å‰©ä¸‹çš„æ²¡æœ‰æåŠçš„äºŒè¿›åˆ¶ä½ï¼Œå…¨éƒ¨ä¸ºè¿™ä¸ªç¬¦å·çš„ unicode ç ã€‚\n\n","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1646128890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1149221,"avatar":"https://static001.geekbang.org/account/avatar/00/11/89/25/02f1b5ec.jpg","nickname":"æŸ³ä¸çƒ§éº¦","note":"","ucode":"87F3F998277970","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617679,"discussion_content":"â€œä¸­â€å­—ä¸ºä¾‹ï¼Œunicodeä¸º0x4e2dï¼ˆ0b0100 1110 0010 1101ï¼‰ï¼Œä½äº00000800 ~ 0000FFFFåŒºé—´ã€‚\nä»å³å‘å·¦ï¼Œä¾æ¬¡æ›¿æ¢ 1110xxxx 10xxxxxx 10xxxxxx ä¸­çš„â€œxâ€ï¼Œä¸è¶³è¡¥0ï¼Œå¾—:\n1110[0100] 10[111000] 10[101101]\nè½¬ä¸ºåå…­è¿›åˆ¶åå³å­—èŠ‚ç ï¼š\ne4 b8 ad","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683773583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å±±ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1197626,"avatar":"https://static001.geekbang.org/account/avatar/00/12/46/3a/20f80540.jpg","nickname":"Mr.å¢é”‹","note":"","ucode":"1D720DB133CA74","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588815,"discussion_content":"å¯å˜é•¿ç¼–ç ï¼Œå¹¼éºŸå®éªŒå®¤ æœ‰ä¸ªè®²è§£çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664128586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321010,"user_name":"qinsi","can_delete":false,"product_type":"c1","uid":1667175,"ip_address":"","ucode":"090D9C4068FF12","user_header":"https://static001.geekbang.org/account/avatar/00/19/70/67/0c1359c2.jpg","comment_is_top":false,"comment_ctime":1636619132,"is_pvip":true,"replies":[{"id":116598,"content":"åå¼•å·æ˜¯å”¯ä¸€çš„â€œæ¼ç½‘ä¹‹é±¼â€:)ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636668185,"ip_address":"","comment_id":321010,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œraw stringé‡Œè¦æ€ä¹ˆä½¿ç”¨åå¼•å·ï¼Ÿ","like_count":12,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530235,"discussion_content":"ä¸€ä¸ªruneå­˜å‚¨ä¸€ä¸ªunicodeç ç‚¹æˆ–utf-32çš„å››å­—èŠ‚ç¼–ç ï¼›ä»å­—èŠ‚è§†è§’ï¼Œstringå¯¹åº”çš„åº•å±‚å­˜å‚¨å­˜æ”¾çš„æ˜¯utf8ç¼–ç ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636965836,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336399,"user_name":"William Ning","can_delete":false,"product_type":"c1","uid":1592279,"ip_address":"","ucode":"4DB8D05E69E5F3","user_header":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","comment_is_top":false,"comment_ctime":1646128151,"is_pvip":false,"replies":[{"id":122947,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1646128935,"ip_address":"","comment_id":336399,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"ç°ä»£CPUè®¡ç®—æ—¶ä¸€æ¬¡éƒ½èƒ½è£…è½½å¤šä¸ªå­—èŠ‚(å¦‚32ä½è®¡ç®—æœºä¸€æ¬¡è£…è½½4å­—èŠ‚)ï¼Œå¤šå­—èŠ‚çš„æ•°å€¼åœ¨å†…å­˜ä¸­é«˜ä½ä½çš„æ’åˆ—æ–¹å¼ä¼šå½±å“æ‰€è¡¨ç¤ºçš„æ•°å€¼ï¼Œä»¥æ•°å€¼0x01020304ä¸ºä¾‹ï¼Œåœ¨å†…å­˜ä¸­ç”¨4ä¸ªå­—èŠ‚å­˜å‚¨ï¼Œ4ä¸ªå­—èŠ‚çš„å†…å®¹åˆ†åˆ«æ˜¯0x01ã€0x02ã€0x03ã€0x04ã€‚æ ¹æ®å­—èŠ‚é«˜ä½ä½æ’åºæ–¹å¼çš„ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºï¼šå¤§ç«¯å­—èŠ‚åº(big endian)å’Œå°ç«¯å­—èŠ‚åº(little endian)ã€‚\n\nå¤§ç«¯å­—èŠ‚åº\nå¤§ç«¯å­—èŠ‚åºæ˜¯æŒ‡ä¸€ä¸ªæ•´æ•°çš„é«˜ä½å­—èŠ‚(å¦‚ä¸Šä¾‹ä¸­çš„0x01)å­˜å‚¨åœ¨å†…å­˜çš„ä½åœ°å€å¤„,é«˜å­—èŠ‚åœ¨å‰ã€‚\n\nCè¯­è¨€æ•°ç»„å­˜å‚¨ä¾‹ï¼š\n\n0x01020304\n\nbufe[0] = 0x01;\n\nbufe[1] = 0x02;\n\nbufe[2] = 0x03;\n\nbufe[3] = 0x04;\n\nå°ç«¯å­—èŠ‚åº\nå°ç«¯å­—èŠ‚åºæŠŠæ•°å€¼çš„ä½ä½å­—èŠ‚(å¦‚ä¸Šä¾‹ä¸­çš„0x04)å­˜å‚¨åœ¨å†…å­˜çš„ä½åœ°å€å¤„ï¼Œä½å­—èŠ‚åœ¨å‰ã€‚PCè®¡ç®—æœºå’Œå•ç‰‡æœºå¸¸è§éƒ½æ˜¯å°ç«¯å­—èŠ‚åºã€‚\n\nCè¯­è¨€æ•°ç»„å­˜å‚¨ä¾‹ï¼š\n\n0x01020304\n\nbufe[0] = 0x04;\n\nbufe[1] = 0x03;\n\nbufe[2] = 0x02;\n\nbufe[3] = 0x01;\n\nå¸¸è§çš„memcpyå‡½æ•°å¤åˆ¶floatå­—èŠ‚åˆ°æ•°ç»„ä¸­ï¼Œæ•°ç»„ä¸­çš„floatå°±æ˜¯å°ç«¯å­—èŠ‚åº\n\nmemcpy(&amp;listDataSoft[0] ,&amp;f,sizeof(float));\n\nä¸»æœºå­—èŠ‚åº\nç°ä»£è®¡ç®—æœºå¤§å¤šé‡‡ç”¨å°ç«¯å­—èŠ‚åºï¼Œæ‰€ä»¥å°ç«¯å­—èŠ‚åºåˆå«ä¸»æœºå­—èŠ‚åºã€‚\n\nç½‘ç»œå­—èŠ‚åº\nä¸åŒçš„è®¡ç®—æœºå¯èƒ½ä¼šé‡‡ç”¨ä¸åŒçš„å­—èŠ‚åºï¼Œç”šè‡³åŒä¸€è®¡ç®—æœºä¸Šä¸åŒè¿›ç¨‹ä¼šé‡‡ç”¨ä¸åŒçš„å­—èŠ‚åºï¼Œå¦‚JAVAè™šæ‹Ÿæœºé‡‡ç”¨å¤§ç«¯å­—èŠ‚åºï¼Œå¯èƒ½å’Œé‡‡ç”¨å°ç«¯å­—èŠ‚åºè®¡ç®—æœºä¸Šçš„å…¶ä»–è¿›ç¨‹ä¸åŒã€‚æ‰€ä»¥åœ¨ç½‘ç»œé€šä¿¡(æˆ–è¿›ç¨‹é—´é€šä¿¡)æ—¶ï¼Œå¦‚æœéƒ½æŒ‰è‡ªå·±å­˜å‚¨çš„é¡ºåºæ”¶å‘æ•°æ®ï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°ä¸€äº›è¯¯è§£ï¼Œä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œçº¦å®šæ•°æ®åœ¨ä¸åŒè®¡ç®—æœºä¹‹é—´ä¼ é€’æ—¶éƒ½é‡‡ç”¨å¤§ç«¯å­—èŠ‚åºï¼Œä¹Ÿå«ä½œç½‘ç»œå­—èŠ‚åºã€‚é€šä¿¡æ—¶ï¼Œå‘é€æ–¹éœ€è¦æŠŠæ•°æ®è½¬æ¢æˆç½‘ç»œå­—èŠ‚åº(å¤§ç«¯å­—èŠ‚åº)ä¹‹åå†å‘é€ï¼Œæ¥æ”¶æ–¹å†æŠŠç½‘ç»œå­—èŠ‚åºè½¬æˆè‡ªå·±çš„å­—èŠ‚åºã€‚","like_count":10,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530184,"discussion_content":"åå¼•å·æ˜¯å”¯ä¸€çš„â€œæ¼ç½‘ä¹‹é±¼â€:)ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636668185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1111176,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f4/88/133bc14b.jpg","nickname":"c340","note":"","ucode":"D64CC3DDD09A0F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583634,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660262546,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ç¦å»º","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":322393,"user_name":"å¤šé€‰å‚æ•°","can_delete":false,"product_type":"c1","uid":1248326,"ip_address":"","ucode":"B2294D80AB075F","user_header":"https://static001.geekbang.org/account/avatar/00/13/0c/46/dfe32cf4.jpg","comment_is_top":false,"comment_ctime":1637342700,"is_pvip":false,"replies":[{"id":117171,"content":"æ²¡é”™ï¼Œstring åœ¨å†…å­˜ä¸­å­˜çš„å°±æ˜¯utf8ç¼–ç åçš„å­—èŠ‚ã€‚åƒfor rangeè¿™ç§å¾ªç¯å¾—åˆ°çš„runeï¼Œæ˜¯Goç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶åšçš„æ›¿æ¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1637565967,"ip_address":"","comment_id":322393,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"è€å¸ˆè®²ç¼–ç æ˜¯æˆ‘è§è¿‡è®²çš„æœ€æ¸…æ™°çš„ã€‚æœ‰ä¸ªå°é—®é¢˜ï¼Œå°±æ˜¯ Go ä¸­çš„ string åœ¨å†…å­˜ä¸­å­˜çš„åº”è¯¥è¿˜æ˜¯ UTF-8 ç¼–ç ä¹‹åçš„æ•°æ®ï¼Ÿè€Œ rune çš„æ–¹å¼æ˜¯åœ¨æˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™ Go æºç éšå¼çš„è¿›è¡Œäº†è½¬æ¢ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553903,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646128935,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320836,"user_name":"å¸ƒå‡¡","can_delete":false,"product_type":"c1","uid":1202465,"ip_address":"","ucode":"346FCD332F8BFA","user_header":"https://static001.geekbang.org/account/avatar/00/12/59/21/d2efde18.jpg","comment_is_top":false,"comment_ctime":1636527295,"is_pvip":false,"replies":[{"id":116730,"content":"ç‚¹ä¸ªèµã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636902543,"ip_address":"","comment_id":320836,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"strings.Builderçš„æ•ˆç‡è¦æ¯”+&#47;+=çš„æ•ˆç‡é«˜\nå› ä¸ºstring.Builder æ˜¯å…ˆå°†ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„åœ°å€å–å‡ºæ¥ï¼Œç„¶åå°†builderçš„å­—ç¬¦ä¸²æ‹¼æ¥åˆ°åé¢ï¼Œ\nfunc (b *Builder) copyCheck() {\n\tif b.addr == nil {\n\t\t&#47;&#47; This hack works around a failing of Go&#39;s escape analysis\n\t\t&#47;&#47; that was causing b to escape and be heap allocated.\n\t\t&#47;&#47; See issue 23382.\n\t\t&#47;&#47; TODO: once issue 7921 is fixed, this should be reverted to\n\t\t&#47;&#47; just &quot;b.addr = b&quot;.\n\t\tb.addr = (*Builder)(noescape(unsafe.Pointer(b)))\n\t} else if b.addr != b {\n\t\tpanic(&quot;strings: illegal use of non-zero Builder copied by value&quot;)\n\t}\n}\n\n&#47;&#47; String returns the accumulated string.\nfunc (b *Builder) String() string {\n\treturn *(*string)(unsafe.Pointer(&amp;b.buf))\n}\n+&#47;+=æ˜¯å°†ä¸¤ä¸ªå­—ç¬¦ä¸²è¿æ¥ååˆ†é…ä¸€ä¸ªæ–°çš„ç©ºé—´ï¼Œå½“è¿æ¥å­—ç¬¦ä¸²çš„æ•°é‡å°‘æ—¶ï¼Œä¸¤è€…æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä½†æ˜¯å½“è¿æ¥å­—ç¬¦ä¸²å¤šæ—¶ï¼ŒBuilderçš„æ•ˆç‡è¦æ¯”+&#47;+=çš„æ•ˆç‡é«˜å¾ˆå¤šã€‚å¦‚æœ‰ç†è§£ä¸æ­£ç¡®çš„åœ°æ–¹å¸Œæœ›è€å¸ˆåŒå­¦æŒ‡æ­£ï¼(*^_^*)","like_count":8,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532276,"discussion_content":"æ²¡é”™ï¼Œstring åœ¨å†…å­˜ä¸­å­˜çš„å°±æ˜¯utf8ç¼–ç åçš„å­—èŠ‚ã€‚åƒfor rangeè¿™ç§å¾ªç¯å¾—åˆ°çš„runeï¼Œæ˜¯Goç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶åšçš„æ›¿æ¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637565967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":322404,"user_name":"å¤šé€‰å‚æ•°","can_delete":false,"product_type":"c1","uid":1248326,"ip_address":"","ucode":"B2294D80AB075F","user_header":"https://static001.geekbang.org/account/avatar/00/13/0c/46/dfe32cf4.jpg","comment_is_top":false,"comment_ctime":1637371834,"is_pvip":false,"replies":[{"id":117174,"content":"å¯¹çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1637566920,"ip_address":"","comment_id":322404,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"è€å¸ˆï¼Œå…³äº utf-8 ä¸è€ƒè™‘å­—èŠ‚åºçš„é—®é¢˜ã€‚èƒ½å¦è¿™ä¹ˆç†è§£ï¼Œutf-8 çš„ä¸€ä¸ªå­—ç¬¦æ˜¯ç”± 3 ä¸ªå­—èŠ‚é€ä¸ªå­—èŠ‚è¿›è¡Œç¼–ç æ¯”è¾ƒå†³å®šçš„ï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªå­—èŠ‚ç¼–ç çš„å€¼åœ¨è¿™ä¸ªå€¼ä¹‹é—´ï¼Œé‚£è‚¯å®šé‡‡ç”¨çš„æ˜¯å•å­—èŠ‚ç¼–ç ï¼Œç¬¬äºŒä¸ªå­—èŠ‚ç¼–ç çš„å€¼åœ¨è¿™ä¹‹é—´ï¼Œé‚£è‚¯å®šæ˜¯åŒå­—èŠ‚ç¼–ç ï¼Œè€Œ utf-32 éœ€è¦ 4 å­—èŠ‚ä¸€èµ·è€ƒè™‘ï¼Ÿé‚£ä¹ˆï¼Œä¸€æ—¦ 4 ä¸ªå­—èŠ‚ä¸€èµ·è€ƒè™‘äº†çš„è¯ï¼Œå°±éœ€è¦æ¶‰åŠåˆ°è¿™ 4 ä¸ªå­—èŠ‚æ˜¯å¤§ç«¯åºè¿˜æ˜¯å°ç«¯åºï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530136,"discussion_content":"ç‚¹ä¸ªèµã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636902543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329630,"user_name":"Elvis Lee","can_delete":false,"product_type":"c1","uid":2098270,"ip_address":"","ucode":"A4B26AFFE817FA","user_header":"https://static001.geekbang.org/account/avatar/00/20/04/5e/5d2e6254.jpg","comment_is_top":false,"comment_ctime":1641452555,"is_pvip":false,"replies":[{"id":120479,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1642041487,"ip_address":"","comment_id":329630,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"stringæ˜¯ä¸€ä¸ª8ä½å­—èŠ‚çš„é›†åˆï¼Œé€šå¸¸ä½†ä¸ä¸€å®šä»£è¡¨UTF-8ç¼–ç çš„æ–‡æœ¬ã€‚stringå¯ä»¥ä¸ºç©ºï¼Œä½†æ˜¯ä¸èƒ½ä¸ºnilã€‚stringçš„å€¼æ˜¯ä¸èƒ½æ”¹å˜çš„ã€‚\nstringç±»å‹è™½ç„¶æ˜¯ä¸èƒ½æ›´æ”¹çš„ï¼Œä½†æ˜¯å¯ä»¥è¢«æ›¿æ¢ï¼Œå› ä¸ºstringStructä¸­çš„stræŒ‡é’ˆæ˜¯å¯ä»¥æ”¹å˜çš„ï¼Œåªæ˜¯æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹æ˜¯ä¸å¯ä»¥æ”¹å˜çš„ï¼Œä¹Ÿå°±è¯´æ¯ä¸€ä¸ªæ›´æ”¹å­—ç¬¦ä¸²ï¼Œå°±éœ€è¦é‡æ–°åˆ†é…ä¸€æ¬¡å†…å­˜ï¼Œä¹‹å‰åˆ†é…çš„ç©ºé—´ä¼šè¢«gcå›æ”¶ã€‚","like_count":5,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532283,"discussion_content":"å¯¹çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637566920,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321019,"user_name":"Darren","can_delete":false,"product_type":"c1","uid":1254968,"ip_address":"","ucode":"CCD2B2C492BE9A","user_header":"https://static001.geekbang.org/account/avatar/00/13/26/38/ef063dc2.jpg","comment_is_top":false,"comment_ctime":1636621796,"is_pvip":false,"replies":[{"id":116755,"content":"ç®€ç›´å°±æ˜¯æ ‡å‡†ç­”æ¡ˆğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636929420,"ip_address":"","comment_id":321019,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"func plusConcat(n int, str string) string {\n\t&#47;&#47; +å·æ‹¼æ¥\n}\n\nfunc sprintfConcat(n int, str string) string {\n\t&#47;&#47;fmt.Sprintfæ‹¼æ¥\n}\n\nfunc builderConcat(n int, str string) string {\n\tvar builder strings.Builder\n\tfor i := 0; i &lt; n; i++ {\n\t\tbuilder.WriteString(str)\n\t}\n\treturn builder.String()\n}\n\nfunc bufferConcat(n int, s string) string {\n\tbuf := new(bytes.Buffer)\n\tfor i := 0; i &lt; n; i++ {\n\t\tbuf.WriteString(s)\n\t}\n\treturn buf.String()\n}\n\nfunc byteConcat(n int, str string) string {\n\tbuf := make([]byte, 0)\n\tfor i := 0; i &lt; n; i++ {\n\t\tbuf = append(buf, str...)\n\t}\n\treturn string(buf)\n}\nfunc preByteConcat(n int, str string) string {\n\tbuf := make([]byte, 0, n*len(str))\n\tfor i := 0; i &lt; n; i++ {\n\t\tbuf = append(buf, str...)\n\t}\n\treturn string(buf)\n}\nfunc builderGrowConcat(n int, str string) string {\n\tvar builder strings.Builder\n\tbuilder.Grow(n * len(str))\n\t&#47;&#47; ä¸builderConcatç›¸åŒ\n}\nfunc bufferGrowConcat(n int, s string) string {\n\tbuf := new(bytes.Buffer)\n\tbuf.Grow(n * len(s))\n\t&#47;&#47; ä¸bufferConcatç›¸åŒ\n}\nbenchmemæµ‹è¯•ï¼š\n    24          47124538 ns&#47;op        530996721 B&#47;op     10011 allocs&#47;op\n    13          81526461 ns&#47;op        834307836 B&#47;op     37463 allocs&#47;op\n 13263             90613 ns&#47;op          505841 B&#47;op         24 allocs&#47;op\n 12730             94213 ns&#47;op          423537 B&#47;op         13 allocs&#47;op\n 12992             94185 ns&#47;op          612338 B&#47;op         25 allocs&#47;op\n 23606             50058 ns&#47;op          212992 B&#47;op          2 allocs&#47;op\n 24326             49660 ns&#47;op          106496 B&#47;op          1 allocs&#47;op\n 16762             71860 ns&#47;op          212993 B&#47;op          2 allocs&#47;op\n å¦‚æœèƒ½çŸ¥é“æ‹¼æ¥å­—ç¬¦ä¸²çš„ä¸ªæ•°ï¼Œé‚£ä¹ˆä½¿ç”¨bytes.Bufferå’Œstrings.Builderçš„Growsç”³è¯·ç©ºé—´åï¼Œæ€§èƒ½æ˜¯æœ€å¥½çš„ï¼›å¦‚æœä¸èƒ½ç¡®å®šé•¿åº¦ï¼Œé‚£ä¹ˆbytes.Bufferå’Œstrings.Builderä¹Ÿæ¯”â€œ+â€å’Œfmt.Sprintfæ€§èƒ½å¥½å¾ˆå¤šã€‚\n\n bytes.Bufferä¸strings.Builderï¼Œstrings.Builderæ›´åˆé€‚ï¼Œå› ä¸ºbytes.Buffer è½¬åŒ–ä¸ºå­—ç¬¦ä¸²æ—¶é‡æ–°ç”³è¯·äº†ä¸€å—ç©ºé—´ï¼Œå­˜æ”¾ç”Ÿæˆçš„å­—ç¬¦ä¸²å˜é‡ï¼Œè€Œ strings.Builder ç›´æ¥å°†åº•å±‚çš„ []byte è½¬æ¢æˆäº†å­—ç¬¦ä¸²ç±»å‹è¿”å›äº†å›æ¥ã€‚\n\n bytes.Buffer çš„æ³¨é‡Šä¸­è¿˜ç‰¹æ„æåˆ°äº†ï¼š\n\nTo build strings more efficiently, see the strings.Builder type.","like_count":148,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530188,"discussion_content":"ç®€ç›´å°±æ˜¯æ ‡å‡†ç­”æ¡ˆğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636929420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043824,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ed/70/dafc8858.jpg","nickname":"å­Ÿè°¦","note":"","ucode":"7504C438D973D3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":650834,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1725704680,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3904463,"avatar":"","nickname":"Geek_5759bc","note":"","ucode":"882F0A5AF1EE79","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":646910,"discussion_content":"mark\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1718982434,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3554552,"avatar":"","nickname":"Geek_gofzw","note":"","ucode":"F5DFB1622C80BE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":608762,"discussion_content":"m","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678633831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330026,"user_name":"Vfeelit","can_delete":false,"product_type":"c1","uid":1501818,"ip_address":"","ucode":"F3FF2B069F347F","user_header":"https://static001.geekbang.org/account/avatar/00/16/ea/7a/d857723d.jpg","comment_is_top":false,"comment_ctime":1641738130,"is_pvip":false,"replies":[{"id":120489,"content":"å¥½é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜æˆ‘ä¹Ÿæ›¾æƒ³è¿‡ï¼Œå®˜æ–¹æ²¡æœ‰ç­”æ¡ˆã€‚ä½†ä»ç¤¾åŒºç»™å‡ºçš„è§‚ç‚¹æ¥çœ‹ï¼Œä¸»è¦è€ƒè™‘ä¸¤ç‚¹ï¼š1.int32è¶³å¤Ÿè¡¨ç¤ºunicodeæ‰€æœ‰ç ç‚¹ 2. int32å¯ä»¥ä¸ºè´Ÿæ•°ï¼Œä¾¿äºæ£€æµ‹æº¢å‡º(overflow)æˆ–å…¶ä»–åŸºäºint32çš„è®¡ç®—é”™è¯¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1642042652,"ip_address":"","comment_id":330026,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"rune æ˜¯ int32 åˆ«å  Unicodeç¼–ç æ²¡æœ‰è´Ÿçš„å§ ä¸ºä½•ä¸æ˜¯ uint32çš„åˆ«åï¼Ÿ","like_count":24,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545709,"discussion_content":"å¥½é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜æˆ‘ä¹Ÿæ›¾æƒ³è¿‡ï¼Œå®˜æ–¹æ²¡æœ‰ç­”æ¡ˆã€‚ä½†ä»ç¤¾åŒºç»™å‡ºçš„è§‚ç‚¹æ¥çœ‹ï¼Œä¸»è¦è€ƒè™‘ä¸¤ç‚¹ï¼š1.int32è¶³å¤Ÿè¡¨ç¤ºunicodeæ‰€æœ‰ç ç‚¹ 2. int32å¯ä»¥ä¸ºè´Ÿæ•°ï¼Œä¾¿äºæ£€æµ‹æº¢å‡º(overflow)æˆ–å…¶ä»–åŸºäºint32çš„è®¡ç®—é”™è¯¯ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1642042652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336373,"user_name":"å¤§å¤§å¤§å¤§å¤§æ³½","can_delete":false,"product_type":"c1","uid":2916508,"ip_address":"","ucode":"D9388E4777BA9F","user_header":"","comment_is_top":false,"comment_ctime":1646119198,"is_pvip":false,"replies":[{"id":122946,"content":"æ‘˜è‡ªç½‘ç»œ:)\n\nunicode ç¬¦å·èŒƒå›´ | utf-8 ç¼–ç æ–¹å¼\n00000000 ~ 0000007F | 0xxxxxxx \n00000080 ~ 000007FF | 110xxxxx 10xxxxxx \n00000800 ~ 0000FFFF | 1110xxxx 10xxxxxx 10xxxxxx \n00010000 ~ 0010FFFF | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx \n\næ€»ç»“ä¸‹æ¥ï¼Œé’ˆå¯¹UTF8ï¼Œç¼–ç è§„åˆ™å…¶å®åªæœ‰ä¸¤æ¡ï¼š\n1ï¼‰å•å­—èŠ‚è§„åˆ™ï¼š å¯¹äº å•å­—èŠ‚ çš„ç¬¦å·ï¼Œå­—èŠ‚çš„ç¬¬ä¸€ä½ï¼ˆæœ€é«˜ä½ï¼‰è®¾ä¸º 0ï¼Œåé¢ 7 ä½ä¸ºè¿™ä¸ªç¬¦å·çš„ unicode ç ã€‚\n2ï¼‰nå­—èŠ‚è§„åˆ™ï¼š å¯¹äº n å­—èŠ‚çš„ç¬¦å·ï¼ˆn&gt;1ï¼‰ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰ n ä½éƒ½è®¾ä¸º 1ï¼Œç¬¬ n+1 ä½è®¾ä¸º 0ï¼Œåé¢å­—èŠ‚çš„å‰ä¸¤ä½ä¸€å¾‹è®¾ä¸º 10ã€‚å‰©ä¸‹çš„æ²¡æœ‰æåŠçš„äºŒè¿›åˆ¶ä½ï¼Œå…¨éƒ¨ä¸ºè¿™ä¸ªç¬¦å·çš„ unicode ç ã€‚\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1646128890,"ip_address":"","comment_id":336373,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"æœ‰ä¸ªé—®é¢˜ä¸å¤ªæ‡‚ã€‚ã€‚ã€‚UTF-8 ç¼–ç ä½¿ç”¨çš„å­—èŠ‚æ•°é‡ä» 1 ä¸ªåˆ° 4 ä¸ªä¸ç­‰ã€‚é‚£ä¹ˆå¦‚ä½•ç¡®å®šå‡ ä¸ªå­—èŠ‚ç¡®å®šä¸€ä¸ªå­—ç¬¦å‘¢ï¼Ÿ\næ¯”å¦‚è¯´ ä¸­å›½äºº æ˜¯ \\xe4\\xb8\\xad\\xe5\\x9b\\xbd\\xe4\\xba\\xbaï¼Œ3ä¸ªå­—èŠ‚ç¡®å®šä¸€ä¸ªå­—ç¬¦ï¼Œåˆ†é…ä¸º3 3 3ã€‚ä¸ºä»€ä¹ˆä¸ä¼šåˆ†å‰²æˆ1 1 2 2 3","like_count":19,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553902,"discussion_content":"æ‘˜è‡ªç½‘ç»œ:)\n\nunicode ç¬¦å·èŒƒå›´ | utf-8 ç¼–ç æ–¹å¼\n00000000 ~ 0000007F | 0xxxxxxx \n00000080 ~ 000007FF | 110xxxxx 10xxxxxx \n00000800 ~ 0000FFFF | 1110xxxx 10xxxxxx 10xxxxxx \n00010000 ~ 0010FFFF | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx \n\næ€»ç»“ä¸‹æ¥ï¼Œé’ˆå¯¹UTF8ï¼Œç¼–ç è§„åˆ™å…¶å®åªæœ‰ä¸¤æ¡ï¼š\n1ï¼‰å•å­—èŠ‚è§„åˆ™ï¼š å¯¹äº å•å­—èŠ‚ çš„ç¬¦å·ï¼Œå­—èŠ‚çš„ç¬¬ä¸€ä½ï¼ˆæœ€é«˜ä½ï¼‰è®¾ä¸º 0ï¼Œåé¢ 7 ä½ä¸ºè¿™ä¸ªç¬¦å·çš„ unicode ç ã€‚\n2ï¼‰nå­—èŠ‚è§„åˆ™ï¼š å¯¹äº n å­—èŠ‚çš„ç¬¦å·ï¼ˆn&gt;1ï¼‰ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰ n ä½éƒ½è®¾ä¸º 1ï¼Œç¬¬ n+1 ä½è®¾ä¸º 0ï¼Œåé¢å­—èŠ‚çš„å‰ä¸¤ä½ä¸€å¾‹è®¾ä¸º 10ã€‚å‰©ä¸‹çš„æ²¡æœ‰æåŠçš„äºŒè¿›åˆ¶ä½ï¼Œå…¨éƒ¨ä¸ºè¿™ä¸ªç¬¦å·çš„ unicode ç ã€‚\n\n","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1646128890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1149221,"avatar":"https://static001.geekbang.org/account/avatar/00/11/89/25/02f1b5ec.jpg","nickname":"æŸ³ä¸çƒ§éº¦","note":"","ucode":"87F3F998277970","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617679,"discussion_content":"â€œä¸­â€å­—ä¸ºä¾‹ï¼Œunicodeä¸º0x4e2dï¼ˆ0b0100 1110 0010 1101ï¼‰ï¼Œä½äº00000800 ~ 0000FFFFåŒºé—´ã€‚\nä»å³å‘å·¦ï¼Œä¾æ¬¡æ›¿æ¢ 1110xxxx 10xxxxxx 10xxxxxx ä¸­çš„â€œxâ€ï¼Œä¸è¶³è¡¥0ï¼Œå¾—:\n1110[0100] 10[111000] 10[101101]\nè½¬ä¸ºåå…­è¿›åˆ¶åå³å­—èŠ‚ç ï¼š\ne4 b8 ad","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683773583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å±±ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1197626,"avatar":"https://static001.geekbang.org/account/avatar/00/12/46/3a/20f80540.jpg","nickname":"Mr.å¢é”‹","note":"","ucode":"1D720DB133CA74","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588815,"discussion_content":"å¯å˜é•¿ç¼–ç ï¼Œå¹¼éºŸå®éªŒå®¤ æœ‰ä¸ªè®²è§£çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664128586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321169,"user_name":"ä½ å¥½å‘€, æœ‹å‹.","can_delete":false,"product_type":"c1","uid":2840465,"ip_address":"","ucode":"49E45F2E0AB679","user_header":"","comment_is_top":false,"comment_ctime":1636698605,"is_pvip":false,"replies":[{"id":116790,"content":"ä¸€ä¸ªruneå­˜å‚¨ä¸€ä¸ªunicodeç ç‚¹æˆ–utf-32çš„å››å­—èŠ‚ç¼–ç ï¼›ä»å­—èŠ‚è§†è§’ï¼Œstringå¯¹åº”çš„åº•å±‚å­˜å‚¨å­˜æ”¾çš„æ˜¯utf8ç¼–ç ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636965836,"ip_address":"","comment_id":321169,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"æ˜¯ä¸æ˜¯å¯ä»¥ç†è§£æˆ[]runeé‡Œå­˜çš„æ˜¯Unicodeç ç‚¹æˆ–è€…è¯´UTF-32ç¼–ç ï¼Œè€Œ[]byteå’Œstringå­˜çš„æ˜¯UTF-8ç¼–ç ","like_count":13,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530235,"discussion_content":"ä¸€ä¸ªruneå­˜å‚¨ä¸€ä¸ªunicodeç ç‚¹æˆ–utf-32çš„å››å­—èŠ‚ç¼–ç ï¼›ä»å­—èŠ‚è§†è§’ï¼Œstringå¯¹åº”çš„åº•å±‚å­˜å‚¨å­˜æ”¾çš„æ˜¯utf8ç¼–ç ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636965836,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321010,"user_name":"qinsi","can_delete":false,"product_type":"c1","uid":1667175,"ip_address":"","ucode":"090D9C4068FF12","user_header":"https://static001.geekbang.org/account/avatar/00/19/70/67/0c1359c2.jpg","comment_is_top":false,"comment_ctime":1636619132,"is_pvip":true,"replies":[{"id":116598,"content":"åå¼•å·æ˜¯å”¯ä¸€çš„â€œæ¼ç½‘ä¹‹é±¼â€:)ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636668185,"ip_address":"","comment_id":321010,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œraw stringé‡Œè¦æ€ä¹ˆä½¿ç”¨åå¼•å·ï¼Ÿ","like_count":12,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530184,"discussion_content":"åå¼•å·æ˜¯å”¯ä¸€çš„â€œæ¼ç½‘ä¹‹é±¼â€:)ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636668185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1111176,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f4/88/133bc14b.jpg","nickname":"c340","note":"","ucode":"D64CC3DDD09A0F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583634,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660262546,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ç¦å»º","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336399,"user_name":"William Ning","can_delete":false,"product_type":"c1","uid":1592279,"ip_address":"","ucode":"4DB8D05E69E5F3","user_header":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","comment_is_top":false,"comment_ctime":1646128151,"is_pvip":false,"replies":[{"id":122947,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1646128935,"ip_address":"","comment_id":336399,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"ç°ä»£CPUè®¡ç®—æ—¶ä¸€æ¬¡éƒ½èƒ½è£…è½½å¤šä¸ªå­—èŠ‚(å¦‚32ä½è®¡ç®—æœºä¸€æ¬¡è£…è½½4å­—èŠ‚)ï¼Œå¤šå­—èŠ‚çš„æ•°å€¼åœ¨å†…å­˜ä¸­é«˜ä½ä½çš„æ’åˆ—æ–¹å¼ä¼šå½±å“æ‰€è¡¨ç¤ºçš„æ•°å€¼ï¼Œä»¥æ•°å€¼0x01020304ä¸ºä¾‹ï¼Œåœ¨å†…å­˜ä¸­ç”¨4ä¸ªå­—èŠ‚å­˜å‚¨ï¼Œ4ä¸ªå­—èŠ‚çš„å†…å®¹åˆ†åˆ«æ˜¯0x01ã€0x02ã€0x03ã€0x04ã€‚æ ¹æ®å­—èŠ‚é«˜ä½ä½æ’åºæ–¹å¼çš„ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºï¼šå¤§ç«¯å­—èŠ‚åº(big endian)å’Œå°ç«¯å­—èŠ‚åº(little endian)ã€‚\n\nå¤§ç«¯å­—èŠ‚åº\nå¤§ç«¯å­—èŠ‚åºæ˜¯æŒ‡ä¸€ä¸ªæ•´æ•°çš„é«˜ä½å­—èŠ‚(å¦‚ä¸Šä¾‹ä¸­çš„0x01)å­˜å‚¨åœ¨å†…å­˜çš„ä½åœ°å€å¤„,é«˜å­—èŠ‚åœ¨å‰ã€‚\n\nCè¯­è¨€æ•°ç»„å­˜å‚¨ä¾‹ï¼š\n\n0x01020304\n\nbufe[0] = 0x01;\n\nbufe[1] = 0x02;\n\nbufe[2] = 0x03;\n\nbufe[3] = 0x04;\n\nå°ç«¯å­—èŠ‚åº\nå°ç«¯å­—èŠ‚åºæŠŠæ•°å€¼çš„ä½ä½å­—èŠ‚(å¦‚ä¸Šä¾‹ä¸­çš„0x04)å­˜å‚¨åœ¨å†…å­˜çš„ä½åœ°å€å¤„ï¼Œä½å­—èŠ‚åœ¨å‰ã€‚PCè®¡ç®—æœºå’Œå•ç‰‡æœºå¸¸è§éƒ½æ˜¯å°ç«¯å­—èŠ‚åºã€‚\n\nCè¯­è¨€æ•°ç»„å­˜å‚¨ä¾‹ï¼š\n\n0x01020304\n\nbufe[0] = 0x04;\n\nbufe[1] = 0x03;\n\nbufe[2] = 0x02;\n\nbufe[3] = 0x01;\n\nå¸¸è§çš„memcpyå‡½æ•°å¤åˆ¶floatå­—èŠ‚åˆ°æ•°ç»„ä¸­ï¼Œæ•°ç»„ä¸­çš„floatå°±æ˜¯å°ç«¯å­—èŠ‚åº\n\nmemcpy(&amp;listDataSoft[0] ,&amp;f,sizeof(float));\n\nä¸»æœºå­—èŠ‚åº\nç°ä»£è®¡ç®—æœºå¤§å¤šé‡‡ç”¨å°ç«¯å­—èŠ‚åºï¼Œæ‰€ä»¥å°ç«¯å­—èŠ‚åºåˆå«ä¸»æœºå­—èŠ‚åºã€‚\n\nç½‘ç»œå­—èŠ‚åº\nä¸åŒçš„è®¡ç®—æœºå¯èƒ½ä¼šé‡‡ç”¨ä¸åŒçš„å­—èŠ‚åºï¼Œç”šè‡³åŒä¸€è®¡ç®—æœºä¸Šä¸åŒè¿›ç¨‹ä¼šé‡‡ç”¨ä¸åŒçš„å­—èŠ‚åºï¼Œå¦‚JAVAè™šæ‹Ÿæœºé‡‡ç”¨å¤§ç«¯å­—èŠ‚åºï¼Œå¯èƒ½å’Œé‡‡ç”¨å°ç«¯å­—èŠ‚åºè®¡ç®—æœºä¸Šçš„å…¶ä»–è¿›ç¨‹ä¸åŒã€‚æ‰€ä»¥åœ¨ç½‘ç»œé€šä¿¡(æˆ–è¿›ç¨‹é—´é€šä¿¡)æ—¶ï¼Œå¦‚æœéƒ½æŒ‰è‡ªå·±å­˜å‚¨çš„é¡ºåºæ”¶å‘æ•°æ®ï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°ä¸€äº›è¯¯è§£ï¼Œä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œçº¦å®šæ•°æ®åœ¨ä¸åŒè®¡ç®—æœºä¹‹é—´ä¼ é€’æ—¶éƒ½é‡‡ç”¨å¤§ç«¯å­—èŠ‚åºï¼Œä¹Ÿå«ä½œç½‘ç»œå­—èŠ‚åºã€‚é€šä¿¡æ—¶ï¼Œå‘é€æ–¹éœ€è¦æŠŠæ•°æ®è½¬æ¢æˆç½‘ç»œå­—èŠ‚åº(å¤§ç«¯å­—èŠ‚åº)ä¹‹åå†å‘é€ï¼Œæ¥æ”¶æ–¹å†æŠŠç½‘ç»œå­—èŠ‚åºè½¬æˆè‡ªå·±çš„å­—èŠ‚åºã€‚","like_count":10,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553903,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646128935,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":322393,"user_name":"å¤šé€‰å‚æ•°","can_delete":false,"product_type":"c1","uid":1248326,"ip_address":"","ucode":"B2294D80AB075F","user_header":"https://static001.geekbang.org/account/avatar/00/13/0c/46/dfe32cf4.jpg","comment_is_top":false,"comment_ctime":1637342700,"is_pvip":false,"replies":[{"id":117171,"content":"æ²¡é”™ï¼Œstring åœ¨å†…å­˜ä¸­å­˜çš„å°±æ˜¯utf8ç¼–ç åçš„å­—èŠ‚ã€‚åƒfor rangeè¿™ç§å¾ªç¯å¾—åˆ°çš„runeï¼Œæ˜¯Goç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶åšçš„æ›¿æ¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1637565967,"ip_address":"","comment_id":322393,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"è€å¸ˆè®²ç¼–ç æ˜¯æˆ‘è§è¿‡è®²çš„æœ€æ¸…æ™°çš„ã€‚æœ‰ä¸ªå°é—®é¢˜ï¼Œå°±æ˜¯ Go ä¸­çš„ string åœ¨å†…å­˜ä¸­å­˜çš„åº”è¯¥è¿˜æ˜¯ UTF-8 ç¼–ç ä¹‹åçš„æ•°æ®ï¼Ÿè€Œ rune çš„æ–¹å¼æ˜¯åœ¨æˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™ Go æºç éšå¼çš„è¿›è¡Œäº†è½¬æ¢ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532276,"discussion_content":"æ²¡é”™ï¼Œstring åœ¨å†…å­˜ä¸­å­˜çš„å°±æ˜¯utf8ç¼–ç åçš„å­—èŠ‚ã€‚åƒfor rangeè¿™ç§å¾ªç¯å¾—åˆ°çš„runeï¼Œæ˜¯Goç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶åšçš„æ›¿æ¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637565967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320836,"user_name":"å¸ƒå‡¡","can_delete":false,"product_type":"c1","uid":1202465,"ip_address":"","ucode":"346FCD332F8BFA","user_header":"https://static001.geekbang.org/account/avatar/00/12/59/21/d2efde18.jpg","comment_is_top":false,"comment_ctime":1636527295,"is_pvip":false,"replies":[{"id":116730,"content":"ç‚¹ä¸ªèµã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636902543,"ip_address":"","comment_id":320836,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"strings.Builderçš„æ•ˆç‡è¦æ¯”+&#47;+=çš„æ•ˆç‡é«˜\nå› ä¸ºstring.Builder æ˜¯å…ˆå°†ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„åœ°å€å–å‡ºæ¥ï¼Œç„¶åå°†builderçš„å­—ç¬¦ä¸²æ‹¼æ¥åˆ°åé¢ï¼Œ\nfunc (b *Builder) copyCheck() {\n\tif b.addr == nil {\n\t\t&#47;&#47; This hack works around a failing of Go&#39;s escape analysis\n\t\t&#47;&#47; that was causing b to escape and be heap allocated.\n\t\t&#47;&#47; See issue 23382.\n\t\t&#47;&#47; TODO: once issue 7921 is fixed, this should be reverted to\n\t\t&#47;&#47; just &quot;b.addr = b&quot;.\n\t\tb.addr = (*Builder)(noescape(unsafe.Pointer(b)))\n\t} else if b.addr != b {\n\t\tpanic(&quot;strings: illegal use of non-zero Builder copied by value&quot;)\n\t}\n}\n\n&#47;&#47; String returns the accumulated string.\nfunc (b *Builder) String() string {\n\treturn *(*string)(unsafe.Pointer(&amp;b.buf))\n}\n+&#47;+=æ˜¯å°†ä¸¤ä¸ªå­—ç¬¦ä¸²è¿æ¥ååˆ†é…ä¸€ä¸ªæ–°çš„ç©ºé—´ï¼Œå½“è¿æ¥å­—ç¬¦ä¸²çš„æ•°é‡å°‘æ—¶ï¼Œä¸¤è€…æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä½†æ˜¯å½“è¿æ¥å­—ç¬¦ä¸²å¤šæ—¶ï¼ŒBuilderçš„æ•ˆç‡è¦æ¯”+&#47;+=çš„æ•ˆç‡é«˜å¾ˆå¤šã€‚å¦‚æœ‰ç†è§£ä¸æ­£ç¡®çš„åœ°æ–¹å¸Œæœ›è€å¸ˆåŒå­¦æŒ‡æ­£ï¼(*^_^*)","like_count":8,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530136,"discussion_content":"ç‚¹ä¸ªèµã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636902543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":322404,"user_name":"å¤šé€‰å‚æ•°","can_delete":false,"product_type":"c1","uid":1248326,"ip_address":"","ucode":"B2294D80AB075F","user_header":"https://static001.geekbang.org/account/avatar/00/13/0c/46/dfe32cf4.jpg","comment_is_top":false,"comment_ctime":1637371834,"is_pvip":false,"replies":[{"id":117174,"content":"å¯¹çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1637566920,"ip_address":"","comment_id":322404,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"è€å¸ˆï¼Œå…³äº utf-8 ä¸è€ƒè™‘å­—èŠ‚åºçš„é—®é¢˜ã€‚èƒ½å¦è¿™ä¹ˆç†è§£ï¼Œutf-8 çš„ä¸€ä¸ªå­—ç¬¦æ˜¯ç”± 3 ä¸ªå­—èŠ‚é€ä¸ªå­—èŠ‚è¿›è¡Œç¼–ç æ¯”è¾ƒå†³å®šçš„ï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªå­—èŠ‚ç¼–ç çš„å€¼åœ¨è¿™ä¸ªå€¼ä¹‹é—´ï¼Œé‚£è‚¯å®šé‡‡ç”¨çš„æ˜¯å•å­—èŠ‚ç¼–ç ï¼Œç¬¬äºŒä¸ªå­—èŠ‚ç¼–ç çš„å€¼åœ¨è¿™ä¹‹é—´ï¼Œé‚£è‚¯å®šæ˜¯åŒå­—èŠ‚ç¼–ç ï¼Œè€Œ utf-32 éœ€è¦ 4 å­—èŠ‚ä¸€èµ·è€ƒè™‘ï¼Ÿé‚£ä¹ˆï¼Œä¸€æ—¦ 4 ä¸ªå­—èŠ‚ä¸€èµ·è€ƒè™‘äº†çš„è¯ï¼Œå°±éœ€è¦æ¶‰åŠåˆ°è¿™ 4 ä¸ªå­—èŠ‚æ˜¯å¤§ç«¯åºè¿˜æ˜¯å°ç«¯åºï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532283,"discussion_content":"å¯¹çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637566920,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329630,"user_name":"Elvis Lee","can_delete":false,"product_type":"c1","uid":2098270,"ip_address":"","ucode":"A4B26AFFE817FA","user_header":"https://static001.geekbang.org/account/avatar/00/20/04/5e/5d2e6254.jpg","comment_is_top":false,"comment_ctime":1641452555,"is_pvip":false,"replies":[{"id":120479,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1642041487,"ip_address":"","comment_id":329630,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"stringæ˜¯ä¸€ä¸ª8ä½å­—èŠ‚çš„é›†åˆï¼Œé€šå¸¸ä½†ä¸ä¸€å®šä»£è¡¨UTF-8ç¼–ç çš„æ–‡æœ¬ã€‚stringå¯ä»¥ä¸ºç©ºï¼Œä½†æ˜¯ä¸èƒ½ä¸ºnilã€‚stringçš„å€¼æ˜¯ä¸èƒ½æ”¹å˜çš„ã€‚\nstringç±»å‹è™½ç„¶æ˜¯ä¸èƒ½æ›´æ”¹çš„ï¼Œä½†æ˜¯å¯ä»¥è¢«æ›¿æ¢ï¼Œå› ä¸ºstringStructä¸­çš„stræŒ‡é’ˆæ˜¯å¯ä»¥æ”¹å˜çš„ï¼Œåªæ˜¯æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹æ˜¯ä¸å¯ä»¥æ”¹å˜çš„ï¼Œä¹Ÿå°±è¯´æ¯ä¸€ä¸ªæ›´æ”¹å­—ç¬¦ä¸²ï¼Œå°±éœ€è¦é‡æ–°åˆ†é…ä¸€æ¬¡å†…å­˜ï¼Œä¹‹å‰åˆ†é…çš„ç©ºé—´ä¼šè¢«gcå›æ”¶ã€‚","like_count":5,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545697,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642041487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323310,"user_name":"Bynow","can_delete":false,"product_type":"c1","uid":2735072,"ip_address":"","ucode":"1E4F3ADD65CF18","user_header":"https://static001.geekbang.org/account/avatar/00/29/bb/e0/c7cd5170.jpg","comment_is_top":false,"comment_ctime":1637828925,"is_pvip":false,"replies":[{"id":117585,"content":"ä»¥a:=1; var p = &amp;aä¸ºä¾‹ï¼Œ&amp;æ˜¯å–åœ°å€æ“ä½œç¬¦ã€‚unsafe.Pointeræ˜¯goè¯­è¨€ä¸­çš„é€šç”¨æŒ‡é’ˆç±»å‹ï¼Œä»»ä½•æŒ‡é’ˆéƒ½å¯ä»¥è½¬å‹ä¸ºunsafe.Pointerç±»å‹ï¼Œåä¹‹unsafe.Pointerä¹Ÿå¯ä»¥è½¬å›ä»»æ„æŒ‡é’ˆç±»å‹ã€‚ä¾‹å­ï¼š\n\ni := 11\nvar p = unsafe.Pointer(&amp;i) &#47;&#47; intæŒ‡é’ˆ -&gt; unsafe.Pointer\npi := (*int)(p) &#47;&#47; unsafe.Pointer -&gt; intæŒ‡é’ˆ\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1638263721,"ip_address":"","comment_id":323310,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"&amp; å’Œ unsafe.Pointer æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","like_count":5},{"had_liked":false,"id":375529,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"å¹¿ä¸œ","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1685594779,"is_pvip":false,"replies":[{"id":137070,"content":"è¿™ä¸ªä¸–ç•Œä¸Šå­˜å‚¨ä¸€ä¸ªå››å­—èŠ‚é•¿åº¦ï¼ˆæ¯”å¦‚uint32ï¼‰æ•´å‹çš„å˜é‡(ä»¥0x12345678ä¸ºä¾‹)æœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œä¸€ä¸ªæ˜¯0x12 0x34 0x56 0x78ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯0x78, 0x56, 0x34, 0x12ã€‚\n\nå‰è€…ç§°ä¸ºå¤§ç«¯å­—èŠ‚åº(big endian)ï¼Œåè€…ç§°ä¸ºå°ç«¯å­—èŠ‚åº(little endian)ã€‚\n\nx86-64 æ¶æ„ä¸‹ï¼Œä½¿ç”¨çš„æ˜¯å°ç«¯å­—èŠ‚åºï¼Œæˆ‘ä»¬å¯ä»¥éªŒè¯ä¸€ä¸‹ï¼š\n\nfunc dumpUint32(i uint32) {\n\tvar p *[4]byte = (*[4]byte)(unsafe.Pointer(&amp;i))\n\tfmt.Println(hex.Dump((*p)[:]))\n}\n\nfunc main() {\n\tdumpUint32(0x12345678)\n}\n\nè¿™æ®µç¨‹åºè¾“å‡ºï¼š\n\n$go run testbigendian1.go\n00000000  78 56 34 12                                       |xV4.|\n\né—®é¢˜æ¥äº†ï¼šå½“åœ¨ç½‘ç»œä¸Šä¼ è¾“è¿™ä¸ªint32æ—¶ï¼Œå¦‚æœå¯¹ç«¯ä½¿ç”¨çš„æ˜¯å¤§ç«¯å­—èŠ‚åºï¼Œå°±ä¼šå°†ä¼ æ¥çš„æ•´å‹æ•°å€¼è®¤ä¸ºæ˜¯0x78563412ã€‚\n\næ‰€ä»¥ä¸€äº›æ ‡å‡†æ—©å°±è§„å®šäº†ï¼šç½‘ç»œä¼ è¾“ä¸€å¾‹ä½¿ç”¨å¤§ç«¯å­—èŠ‚åº(bigendian)ã€‚æ‰€ä»¥å½“x86-64ä¸Šçš„æœåŠ¡è¦å‘ç½‘ç»œä¸Šå†™å…¥ä¸€ä¸ªint32æ•°å€¼æ—¶ï¼Œä¼šå°†å°ç«¯å­—èŠ‚åºè½¬æ¢ä¸ºç½‘ç»œå­—èŠ‚åº(å³å¤§ç«¯å­—èŠ‚åº)ã€‚\n\nä¸ºä»€ä¹ˆutf-8ç¼–ç ä¸å­˜åœ¨å­—èŠ‚åºé—®é¢˜ï¼Œå› ä¸ºå®ƒçš„ç¼–ç å•å…ƒæ˜¯å•å­—èŠ‚ï¼Œåœ¨ç½‘ç»œä¼ è¾“æ—¶ï¼Œåªéœ€è¦ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚çš„ä¼ å°±å¥½äº†ã€‚è¿™æ ·å‘é€ç«¯ä¸æ¥æ”¶ç«¯å¯¹æ•°æ®çš„è§£é‡Šå°±æ˜¯ä¸€è‡´çš„ã€‚\n\nè€Œutf-32çš„ç¼–ç å•å…ƒæ˜¯ç”¨æ•´å‹è¡¨ç¤ºçš„â€œå››ä¸ªå­—èŠ‚â€ï¼Œåˆ™éœ€è€ƒè™‘å­—èŠ‚åºé—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1685617601,"ip_address":"åŒ—äº¬","comment_id":375529,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"è€å¸ˆï¼Œæ–‡ä¸­è¯´ï¼šâ€œè¿™ç§ç¼–ç æ–¹æ¡ˆä½¿ç”¨ 4 ä¸ªå­—èŠ‚å­˜å‚¨å’Œä¼ è¾“ä¸€ä¸ªæ•´å‹æ•°çš„æ—¶å€™ï¼Œéœ€è¦è€ƒè™‘ä¸åŒå¹³å°çš„å­—èŠ‚åºé—®é¢˜ ;â€ã€‚\n\nçœ‹äº†åŒå­¦ä»¬çš„è¯„è®ºï¼Œè¿˜æ˜¯æ²¡å¤ªç†è§£ï¼Œè€å¸ˆèƒ½å¤Ÿå†è¯¦ç»†è¯´æ˜ä¸€ä¸‹ä¹ˆï¼Ÿ æ„Ÿè°¢ã€‚","like_count":4,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534729,"discussion_content":"ä»¥a:=1; var p = &amp;aä¸ºä¾‹ï¼Œ&amp;æ˜¯å–åœ°å€æ“ä½œç¬¦ã€‚unsafe.Pointeræ˜¯goè¯­è¨€ä¸­çš„é€šç”¨æŒ‡é’ˆç±»å‹ï¼Œä»»ä½•æŒ‡é’ˆéƒ½å¯ä»¥è½¬å‹ä¸ºunsafe.Pointerç±»å‹ï¼Œåä¹‹unsafe.Pointerä¹Ÿå¯ä»¥è½¬å›ä»»æ„æŒ‡é’ˆç±»å‹ã€‚ä¾‹å­ï¼š\n\ni := 11\nvar p = unsafe.Pointer(&amp;i) // intæŒ‡é’ˆ -&gt; unsafe.Pointer\npi := (*int)(p) // unsafe.Pointer -&gt; intæŒ‡é’ˆ\n\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1638263721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321074,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1636646163,"is_pvip":false,"replies":[{"id":116781,"content":"1. å­—é¢å€¼(literal)å°±æ˜¯æºç ä¸­çš„ä¸€ä¸ªå›ºå®šçš„å€¼ï¼Œå®ƒç›´æ¥å†™åœ¨æºç ä¸­ï¼Œä¸å¯å˜ï¼Œä¸”ä¸éœ€ç»è¿‡ä»»ä½•è®¡ç®—æˆ‘ä»¬å°±èƒ½ä»å­—é¢ä¸Šçœ‹å‡ºå…¶â€œå€¼â€ã€‚åœ¨ç¼–ç¨‹è¯­&gt;è¨€ä¸­ï¼Œé€šå¸¸ä¸€ä¸ªå­—é¢å€¼éƒ½å¯ä»¥ä»å…¶å­—é¢ä¸Šå¤§è‡´æ¨æ–­å‡ºå…¶ç±»å‹ã€‚å¦å¤–å­—é¢å€¼å¯ä»¥ç”¨äºåˆå§‹åŒ–å˜é‡ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå¸¸é‡çš„å€¼ã€‚\n\n2. unsafeåŒ…å±äºé«˜çº§è¯é¢˜ï¼Œæœ¬ä¸“æ ä½œä¸ºå…¥é—¨ä¸“æ åç»­ä¹Ÿä¸ä¼šå¤ªè¿‡æ·±å…¥ã€‚\n3. å—¯ï¼Œç”¨s:=&quot;ä¸­å›½äºº&quot;ï¼Œä¼°è®¡ç¼–è¾‘å™¨å°±ä¸ä¼šæç¤ºäº†\n4. å¥½å»ºè®®ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636953535,"ip_address":"","comment_id":321074,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"Tony Bai è€å¸ˆçš„è¿™ç¯‡å…³äºGoå­—ç¬¦ä¸²ç±»å‹çš„è®²è§£éå¸¸ç»†è‡´ã€‚\n\nä½†è¿˜æ˜¯æœ‰ä»¥ä¸‹å›°æƒ‘ï¼Œéº»çƒ¦è€å¸ˆçœ‹åˆ°äº†è§£ç­”ä¸€ä¸‹ï¼š\n\n1. æ€ä¹ˆç†è§£ï¼šâ€œå­—é¢å€¼â€ æ¯”è¾ƒè´´åˆ‡ï¼Ÿ\n\n2. unsafe.Pointerè¿™ä¸ªç”¨æ³•ï¼Œè¿™ä¸ªåœ¨æºä»£ç ä¸­æŒºå¸¸è§çš„ï¼Œæœ¬ä¸“æ ä¼šæœ‰è®²è§£å—ï¼Ÿ\n\n3. var s string = &quot;ä¸­å›½äºº&quot;ï¼Œåƒè¿™ç§å˜é‡å£°æ˜ï¼Œæœ€ä½³å®è·µæ˜¯åˆ å»æ‰stringçš„ç±»å‹å£°æ˜å—ï¼Ÿæˆ‘è¿™è¾¹ç¼–è¾‘å™¨ç›´æ¥æç¤ºæˆ‘æ˜¯å¤šä½™çš„å£°æ˜ã€‚\n\n4. å…³äºstring ç±»å‹çš„æ•°æ®æ˜¯ä¸å¯å˜çš„ï¼Œç”±æ­¤å¸¦æ¥çš„ç§ç§å¥½å¤„ï¼Œæ„Ÿè§‰è¿˜å¯ä»¥æ·±å…¥è®²è®²ï¼Œè¿™é‡Œæ„Ÿè§‰è¿˜æ˜¯æ¯”è¾ƒæŠ½è±¡ã€‚","like_count":4,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530208,"discussion_content":"1. å­—é¢å€¼(literal)å°±æ˜¯æºç ä¸­çš„ä¸€ä¸ªå›ºå®šçš„å€¼ï¼Œå®ƒç›´æ¥å†™åœ¨æºç ä¸­ï¼Œä¸å¯å˜ï¼Œä¸”ä¸éœ€ç»è¿‡ä»»ä½•è®¡ç®—æˆ‘ä»¬å°±èƒ½ä»å­—é¢ä¸Šçœ‹å‡ºå…¶â€œå€¼â€ã€‚åœ¨ç¼–ç¨‹è¯­&amp;gt;è¨€ä¸­ï¼Œé€šå¸¸ä¸€ä¸ªå­—é¢å€¼éƒ½å¯ä»¥ä»å…¶å­—é¢ä¸Šå¤§è‡´æ¨æ–­å‡ºå…¶ç±»å‹ã€‚å¦å¤–å­—é¢å€¼å¯ä»¥ç”¨äºåˆå§‹åŒ–å˜é‡ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå¸¸é‡çš„å€¼ã€‚\n\n2. unsafeåŒ…å±äºé«˜çº§è¯é¢˜ï¼Œæœ¬ä¸“æ ä½œä¸ºå…¥é—¨ä¸“æ åç»­ä¹Ÿä¸ä¼šå¤ªè¿‡æ·±å…¥ã€‚\n3. å—¯ï¼Œç”¨s:=&amp;quot;ä¸­å›½äºº&amp;quot;ï¼Œä¼°è®¡ç¼–è¾‘å™¨å°±ä¸ä¼šæç¤ºäº†\n4. å¥½å»ºè®®ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636953535,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321732,"user_name":"Geek_99b47c","can_delete":false,"product_type":"c1","uid":2049562,"ip_address":"","ucode":"D25E22C1D84E09","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/aQmhiahazRFUA4W3r1hdxxreSB5Pl54IwAJ8bwN6j02lzicydWAfPFbWx1LSFtzXH8MkI0jUKjlpUtmQBoZ4kReA/132","comment_is_top":false,"comment_ctime":1637028372,"is_pvip":false,"replies":[{"id":117131,"content":"å¤åˆ¶çš„æ˜¯â€œæè¿°ç¬¦â€çš„å€¼ï¼Œä¸æ˜¯æè¿°ç¬¦å˜é‡è‡ªèº«çš„åœ°å€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1637551980,"ip_address":"","comment_id":321732,"utype":1}],"discussion_count":6,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"â€œäº†è§£äº† string ç±»å‹çš„å®ç°åŸç†åï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¾—åˆ°è¿™æ ·ä¸€ä¸ªç»“è®ºï¼Œé‚£å°±æ˜¯æˆ‘ä»¬ç›´æ¥å°† string ç±»å‹é€šè¿‡å‡½æ•° &#47; æ–¹æ³•å‚æ•°ä¼ å…¥ä¹Ÿä¸ä¼šå¸¦æ¥å¤ªå¤šçš„å¼€é”€ã€‚å› ä¸ºä¼ å…¥çš„ä»…ä»…æ˜¯ä¸€ä¸ªâ€œæè¿°ç¬¦â€ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„å­—ç¬¦ä¸²æ•°æ®ã€‚â€\n\nfunc main() {\n\tvar a = &quot;chsir&quot;\n\n\tfmt.Printf(&quot;main:%p\\n&quot;, &amp;a)\n\thello(&amp;a)\n}\n\nfunc hello(a *string)  {\n\tfmt.Printf(&quot;hello:%p\\n&quot;, &amp;a)\n}\n\nè¯·æ•™ä¸€ä¸‹ï¼Œä¼ å…¥çš„â€œæè¿°ç¬¦â€ï¼Œä¸ºä»€ä¹ˆåœ¨mainå‡½æ•°å’Œhelloå‡½æ•°æ‰“å°çš„åœ°å€ä¸ä¸€æ ·å•Šï¼Œè¿™æ ·è¦æ€ä¹ˆç†è§£ï¼Œæ˜¯goå¤åˆ¶äº†ä¸€ä»½â€œæè¿°ç¬¦â€å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":2323716,"avatar":"https://static001.geekbang.org/account/avatar/00/23/75/04/d26cd437.jpg","nickname":"lemon","note":"","ucode":"47626025C55E5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534146,"discussion_content":"æˆ‘æ„Ÿè§‰ä½ çš„helloå‡½æ•°é‡Œé¢ä¸åº”è¯¥é‚£æ ·æ‰“å°ï¼Œåº”è¯¥æ¢æˆfmt.Printf(&#34;hello:%p\\n&#34;, a)ï¼Œè¿™æ˜¯å‡½æ•°çš„å½¢å‚å’Œå®å‚çš„å…³ç³»ï¼Œhelloé‡Œé¢çš„aæ˜¯å½¢å‚ï¼Œæ˜¯ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘äº†mainå‡½æ•°é‡Œé¢çš„å®å‚aï¼Œhelloé‡Œé¢ä½ æ‰“å°(&amp;a)æ˜¯æ‰“å°çš„è¿™ä¸ªæŒ‡é’ˆçš„åœ°å€ï¼Œä½†å®é™…ä¸ŠæŒ‡é’ˆaçš„å†…å®¹ä¹Ÿå°±æ˜¯(a)æ‰æ˜¯å®å‚açš„åœ°å€ï¼›psï¼šå¦‚æœåœ¨helloé‡Œé¢æ‰“å°(*a)å°±æ˜¯æ‰“å°çš„æŒ‡é’ˆæŒ‡å‘çš„åœ°å€å—é‡Œé¢çš„å†…å®¹å•¦ï¼Œä¹Ÿå°±æ˜¯å®å‚açš„åœ°å€é‡Œé¢çš„å†…å®¹ï¼Œè¿™é‡Œä¼šæ‰“å°å‡º&#34;chsir&#34;ï¼Œåº”è¯¥æ˜¯goä¼šé»˜è®¤å†å»æ‰¾å®å‚aå†…éƒ¨DataæŒ‡å‘çš„å…·ä½“å­—ç¬¦ä¸²","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1638108964,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1639787,"avatar":"https://static001.geekbang.org/account/avatar/00/19/05/6b/d9d6d68b.jpg","nickname":"Vettel","note":"","ucode":"FB3E71DD1E8E7C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2323716,"avatar":"https://static001.geekbang.org/account/avatar/00/23/75/04/d26cd437.jpg","nickname":"lemon","note":"","ucode":"47626025C55E5E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546252,"discussion_content":"å¯¹çš„ &amp;aåº”è¯¥æ˜¯æŒ‡é’ˆçš„æŒ‡é’ˆäº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642255293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":534146,"ip_address":"","group_id":0},"score":546252,"extra":""}]},{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532192,"discussion_content":"å¤åˆ¶çš„æ˜¯â€œæè¿°ç¬¦â€çš„å€¼ï¼Œä¸æ˜¯æè¿°ç¬¦å˜é‡è‡ªèº«çš„åœ°å€ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1637551980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2323716,"avatar":"https://static001.geekbang.org/account/avatar/00/23/75/04/d26cd437.jpg","nickname":"lemon","note":"","ucode":"47626025C55E5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":534140,"discussion_content":"è¿™å¥è¯æ²¡çœ‹æ‡‚...è€å¸ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638107696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":532192,"ip_address":"","group_id":0},"score":534140,"extra":""}]},{"author":{"id":1479120,"avatar":"https://static001.geekbang.org/account/avatar/00/16/91/d0/35bc62b1.jpg","nickname":"æ— å’","note":"","ucode":"B9759B5646F3AB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":602228,"discussion_content":"func hello(b *string)  {\n\tfmt.Printf(&#34;hello:%p\\n&#34;, &amp;b)\n}\nä¸­æ‰“å°çš„æ˜¯å½¢å‚bçš„åœ°å€ï¼Œå‰é¢çš„æ˜¯main()å‡½æ•°å±€éƒ¨å˜é‡açš„åœ°å€ï¼Œè‡ªç„¶æ˜¯ä¸ä¸€æ ·çš„ã€‚\né‡ç‚¹æ˜¯ï¼šå±€éƒ¨å˜é‡aå’Œå½¢å‚éƒ½æ²¡æœ‰ç›´æ¥æŒ‡å‘å­˜å‚¨å­—ç¬¦å†…å®¹çš„åœ°å€ï¼Œè€Œæ˜¯å†…éƒ¨Stringé—´æ¥æŒ‡å‘çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675681489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553892,"discussion_content":"package main\n\nimport &#34;fmt&#34;\n\nfunc main() {\n\tvar a = &#34;chsir&#34;\n\n\tfmt.Printf(&#34;main-:%p\\n&#34;, &amp;a)\n\thello(&amp;a)\n\tworld(a)\n\thi(a)\n}\n\nfunc hello(a *string) {\n\tfmt.Printf(&#34;hello:%p\\n&#34;, a)\n\tfmt.Printf(&#34;hello:%p\\n&#34;, &amp;a)\n\tfmt.Printf(&#34;hello:%s\\n&#34;, *a)\n}\n\nfunc world(a string) {\n\tfmt.Printf(&#34;world:%p\\n&#34;, &amp;a)\n}\n\nfunc hi(a string) {\n\tfmt.Printf(&#34;hi---:%p\\n&#34;, &amp;a)\n}\n\n\nâœ  golearning go run ./cmd\nmain-:0xc000096210\nhello:0xc000096210\nhello:0xc0000ac020\nhello:chsir\nworld:0xc000096230\nhi---:0xc000096240\n\nè¿™é‡Œæˆ‘ç†è§£çš„æ˜¯ï¼Œè€å¸ˆè¯´çš„æ˜¯ï¼Œgoåº•å±‚å¤åˆ¶çš„æ˜¯â€œæè¿°ç¬¦â€çš„å€¼ï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡åŠæ³•ç”¨goå»è¾“å‡ºï¼Œå› ä¸ºå¤šä¸ªå˜é‡çš„åœ°å€ï¼Œå¯ä»¥æŒ‡å‘åŒä¸€ä¸ªvlaueã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646127677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320819,"user_name":"åœ¨ä¸‹å®é¾™ã€","can_delete":false,"product_type":"c1","uid":1618030,"ip_address":"","ucode":"0735B64EB61CAC","user_header":"https://static001.geekbang.org/account/avatar/00/18/b0/6e/921cb700.jpg","comment_is_top":false,"comment_ctime":1636521687,"is_pvip":false,"replies":[{"id":116728,"content":"utf8æ˜¯å˜é•¿ç¼–ç ï¼Œå…¶ç¼–ç å•å…ƒæ˜¯å•ä¸ªå­—èŠ‚ï¼Œä¸å­˜åœ¨è°åœ¨é«˜ä½ã€è°åœ¨ä½ä½çš„é—®é¢˜ã€‚è€Œutf-16çš„ç¼–ç å•å…ƒæ˜¯åŒå­—èŠ‚ï¼Œutf-32ç¼–ç å•å…ƒä¸º4å­—èŠ‚ï¼Œå‡éœ€è¦è€ƒè™‘å­—èŠ‚åºé—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636902478,"ip_address":"","comment_id":320819,"utype":1}],"discussion_count":7,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œä¸€ä¸ªä¸­æ–‡å­— åœ¨utf-8ç¼–ç ä¹‹åæ˜¯ä¸‰ä¸ªå­—èŠ‚ ï¼Œé‚£ä¸ºä»€ä¹ˆä¼šæ²¡æœ‰å­—èŠ‚åºé—®é¢˜ï¼Œæˆ‘æœ‰ç‚¹å¼„ä¸æ˜ç™½","like_count":3,"discussions":[{"author":{"id":1248326,"avatar":"https://static001.geekbang.org/account/avatar/00/13/0c/46/dfe32cf4.jpg","nickname":"å¤šé€‰å‚æ•°","note":"","ucode":"B2294D80AB075F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531639,"discussion_content":"èƒ½å¦è¿™ä¹ˆç†è§£ï¼Œutf-8 çš„ä¸€ä¸ªå­—ç¬¦æ˜¯ç”± 3 ä¸ªå­—èŠ‚é€ä¸ªå­—èŠ‚è¿›è¡Œç¼–ç æ¯”è¾ƒå†³å®šçš„ï¼Œè€Œ utf-16 éœ€è¦ 2 å­—èŠ‚ä¸€èµ·è€ƒè™‘ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1637371471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":4,"child_discussions":[{"author":{"id":1618030,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b0/6e/921cb700.jpg","nickname":"åœ¨ä¸‹å®é¾™ã€","note":"","ucode":"0735B64EB61CAC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1248326,"avatar":"https://static001.geekbang.org/account/avatar/00/13/0c/46/dfe32cf4.jpg","nickname":"å¤šé€‰å‚æ•°","note":"","ucode":"B2294D80AB075F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531668,"discussion_content":"æˆ‘è§‰å¾—è¿™ä¹ˆç†è§£ä¸é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637378476,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":531639,"ip_address":"","group_id":0},"score":531668,"extra":"{\"user_type\":1}"},{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1248326,"avatar":"https://static001.geekbang.org/account/avatar/00/13/0c/46/dfe32cf4.jpg","nickname":"å¤šé€‰å‚æ•°","note":"","ucode":"B2294D80AB075F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541572,"discussion_content":"ä¸æ˜¯çš„ã€‚utf8æ˜¯uicodeçš„ä¸€ç§ç¼–ç æ–¹å¼ã€‚åœ¨unicodeå­—ç¬¦é›†ä¸­ï¼Œæ¯ä¸ªå­—ç¬¦å”¯ä¸€å¯¹åº”ä¸€ä¸ªç ç‚¹ã€‚\nutf8ç¼–ç æ˜¯å¯å˜é•¿åº¦ï¼Œé‚£ä¹ˆå®ƒçš„å¯å˜é•¿åº¦å¦‚ä½•èƒ½å¯¹åº”Unicodeçš„å­—ç¬¦ç¼–ç å‘¢ï¼Ÿä¸»è¦æœ‰ä¸¤æ¡è§„åˆ™ã€‚ï¼ˆ1ï¼‰å¦‚æœæ˜¯å•å­—èŠ‚å­—ç¬¦ï¼Œä¾‹å¦‚ASCIIç ï¼Œé‚£ä¹ˆutf8çš„æœ€é«˜ä½æ˜¯0ã€‚æ‰€ä»¥æ¯æ¬¡é‡åˆ°æœ€é«˜ä½æ˜¯0å°±è‚¯å®šå®ƒæ˜¯å•å­—èŠ‚å­—ç¬¦äº†ã€‚ï¼ˆ2ï¼‰å¦‚æœunicodeå­—ç¬¦æ˜¯Nå­—èŠ‚ï¼Œé‚£ä¹ˆutf8çš„é¦–å­—èŠ‚çš„æœ€é«˜ä½çš„å¼€å¤´Nä½éƒ½æ˜¯1ï¼Œåé¢å„å­—èŠ‚éƒ½æ˜¯ä»¥10å¼€å¤´ã€‚ç„¶åï¼ŒUnicodeå­—ç¬¦ç¼–ç çš„æ¯ä¸€ä¸ªå­—èŠ‚æ”¾è¿›utf8å‰©ä½™çš„ä½ç½®ã€‚\næ‰€ä»¥ï¼Œé€šè¿‡å­—èŠ‚çš„å½¢å¼å°±èƒ½ç¡®å®šä¼ è¾“çš„æ˜¯å¤šå°‘å­—èŠ‚çš„å­—ç¬¦ç¼–ç äº†ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1640447131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":531639,"ip_address":"","group_id":0},"score":541572,"extra":""},{"author":{"id":2028277,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/f2/f5/b82f410d.jpg","nickname":"Unknown element","note":"","ucode":"34A129800D0238","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":590193,"discussion_content":"é‚£å­—èŠ‚ä¹‹é—´è¿˜æ˜¯æœ‰é¡ºåºçš„å§ï¼Ÿæ¯”å¦‚ä¸€ä¸ªUnicodeå­—ç¬¦é€šè¿‡UTF8ç¼–ç ä¹‹åæ˜¯3ä¸ªå­—èŠ‚ï¼Œé‚£åä¸¤ä¸ªå­—èŠ‚å¼€å¤´éƒ½æ˜¯10ï¼Œè¿™ä¸¤ä¸ªå­—èŠ‚çš„é¡ºåºæ€ä¹ˆç¡®å®šå‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665583016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":541572,"ip_address":"å¹¿ä¸œ","group_id":0},"score":590193,"extra":""}]},{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530128,"discussion_content":"utf8æ˜¯å˜é•¿ç¼–ç ï¼Œå…¶ç¼–ç å•å…ƒæ˜¯å•ä¸ªå­—èŠ‚ï¼Œä¸å­˜åœ¨è°åœ¨é«˜ä½ã€è°åœ¨ä½ä½çš„é—®é¢˜ã€‚è€Œutf-16çš„ç¼–ç å•å…ƒæ˜¯åŒå­—èŠ‚ï¼Œutf-32ç¼–ç å•å…ƒä¸º4å­—èŠ‚ï¼Œå‡éœ€è¦è€ƒè™‘å­—èŠ‚åºé—®é¢˜ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636902478,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1175507,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ef/d3/241d0b84.jpg","nickname":"upup","note":"","ucode":"25DB114677EF58","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574341,"discussion_content":"çœ‹ä¸€ä¸‹ï¼šâ€œå¤§å¤§å¤§å¤§å¤§æ³½â€åŒå­¦è¯„è®ºä¸‹ï¼Œè€å¸ˆçš„å›å¤ï¼Œâ€œUTF-8â€å…·ä½“çš„ç¼–ç æ ¼å¼ï¼Œå°±çŸ¥é“â€œç¼–ç å•å…ƒæ˜¯å•ä¸ªå­—èŠ‚â€çš„å«ä¹‰äº†ï¼ˆé€šè¿‡å­—èŠ‚å¼€å¤´ï¼Œå°±çŸ¥é“è°åœ¨é«˜ä½ã€ä½ä½ï¼Œä»¥åŠæ˜¯å‡ ä¸ªå­—èŠ‚ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653985427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360582,"user_name":"Unknown element","can_delete":false,"product_type":"c1","uid":2028277,"ip_address":"åŒ—äº¬","ucode":"34A129800D0238","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f2/f5/b82f410d.jpg","comment_is_top":false,"comment_ctime":1666670330,"is_pvip":false,"replies":[{"id":131256,"content":"å› ä¸ºDataçš„ç±»å‹æ˜¯uintptrï¼Œè€Œuintpträ¸æ˜¯æŒ‡é’ˆï¼GCåªçœ‹æŒ‡é’ˆï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1666834458,"ip_address":"åŒ—äº¬","comment_id":360582,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"è€å¸ˆæ‚¨å¥½ æˆ‘æœ¬åœ°çš„go sdkæ˜¯1.17.3ï¼Œåœ¨&#47;src&#47;reflect&#47;value.goæ–‡ä»¶ä¸­çš„stringHeaderç»“æ„ä½“å‰é¢æœ‰å‡ è¡Œæ³¨é‡Šæ²¡çœ‹æ‡‚ï¼š\n&#47;&#47; Moreover, the Data field is not sufficient to guarantee the data\n&#47;&#47; it references will not be garbage collected, so programs must keep\n&#47;&#47; a separate, correctly typed pointer to the underlying data.\næˆ‘æƒ³é—®ä¸‹goåœ¨åƒåœ¾å›æ”¶çš„æ ‡è®°é˜¶æ®µä¸å°±æ˜¯é€šè¿‡å¼•ç”¨å»æ ‡è®°æ´»è·ƒå¯¹è±¡å—ï¼Ÿä¸ºä»€ä¹ˆè¿™é‡Œè¯´stringçš„Dataå­—æ®µçš„å¼•ç”¨æ— æ³•ä¿è¯å®ƒæŒ‡å‘çš„æ•°æ®ä¸ä¼šè¢«å›æ”¶ï¼Ÿè°¢è°¢è€å¸ˆ","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591805,"discussion_content":"å› ä¸ºDataçš„ç±»å‹æ˜¯uintptrï¼Œè€Œuintpträ¸æ˜¯æŒ‡é’ˆï¼GCåªçœ‹æŒ‡é’ˆï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666834458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":347927,"user_name":"Tristana","can_delete":false,"product_type":"c1","uid":1006227,"ip_address":"","ucode":"FC47CF6A5868D2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5a/93/e081b4de.jpg","comment_is_top":false,"comment_ctime":1654588028,"is_pvip":false,"replies":[{"id":126808,"content":"å¯ç©ºï¼Œå°±æ˜¯â€å¯ä»¥ä¸ºç©ºâ€œçš„æ„æ€ğŸ˜ã€‚å¯ç©ºçš„å­—èŠ‚åºåˆ—ï¼Œå°±æ˜¯å¯ä»¥æ˜¯é›¶å­—èŠ‚ã€‚å¯ç©ºçš„å­—ç¬¦åºåˆ—ï¼Œå°±æ˜¯å¯ä»¥æ˜¯é›¶å­—ç¬¦ã€‚\n\nvar s string = &quot;&quot;  &#47;&#47;ä»å­—èŠ‚è§†è§’ï¼Œå®ƒæ˜¯ä¸€ä¸ªé›¶å­—èŠ‚çš„å­—èŠ‚åºåˆ—ã€‚ä»å­—ç¬¦è§†è§’ï¼Œå®ƒæ˜¯ä¸€ä¸ªé›¶å­—ç¬¦çš„å­—ç¬¦åºåˆ—ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1654608775,"ip_address":"","comment_id":347927,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"helloï¼Œç™½è€å¸ˆï¼Œæˆ‘çœ‹æ‚¨åœ¨æ–‡ç« ä¸­å¤šæ¬¡æåˆ° å¯ç©ºçš„å­—èŠ‚åºåˆ— å’Œ å¯ç©ºçš„å­—ç¬¦åºåˆ—ï¼Œå®ƒä»¬æ˜¯ä»€ä¹ˆæ„æ€å•Šï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575142,"discussion_content":"å¯ç©ºï¼Œå°±æ˜¯â€å¯ä»¥ä¸ºç©ºâ€œçš„æ„æ€ğŸ˜ã€‚å¯ç©ºçš„å­—èŠ‚åºåˆ—ï¼Œå°±æ˜¯å¯ä»¥æ˜¯é›¶å­—èŠ‚ã€‚å¯ç©ºçš„å­—ç¬¦åºåˆ—ï¼Œå°±æ˜¯å¯ä»¥æ˜¯é›¶å­—ç¬¦ã€‚\n\nvar s string = &#34;&#34;  //ä»å­—èŠ‚è§†è§’ï¼Œå®ƒæ˜¯ä¸€ä¸ªé›¶å­—èŠ‚çš„å­—èŠ‚åºåˆ—ã€‚ä»å­—ç¬¦è§†è§’ï¼Œå®ƒæ˜¯ä¸€ä¸ªé›¶å­—ç¬¦çš„å­—ç¬¦åºåˆ—ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654608775,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1006227,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5a/93/e081b4de.jpg","nickname":"Tristana","note":"","ucode":"FC47CF6A5868D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575343,"discussion_content":"æ˜ç™½äº†ï¼Œè°¢è°¢ç™½è€å¸ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654762489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345006,"user_name":"601073891","can_delete":false,"product_type":"c1","uid":2822078,"ip_address":"","ucode":"FD90354D83B08B","user_header":"","comment_is_top":false,"comment_ctime":1651928724,"is_pvip":false,"replies":[{"id":125918,"content":"å¥½é—®é¢˜ã€‚\n\nlen(s)== 0å®è´¨æ˜¯ä¸€ä¸ªintæ¯”è¾ƒï¼Œè€Œs == &quot;&quot;å®è´¨ä¹Ÿæ˜¯ä¸€ä¸ªbyteæ¯”è¾ƒï¼Œä¸¤è€…æ²¡å•¥å·®åˆ«ã€‚stringæ¯”è¾ƒæ˜¯é€ä¸ªbyteæ¯”è¾ƒçš„ã€‚ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç«  ï¼šhttps:&#47;&#47;tonybai.com&#47;2022&#47;04&#47;18&#47;inside-go-string-comparison å¯ä»¥çœ‹çœ‹ã€‚\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1651985449,"ip_address":"","comment_id":345006,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"ç™½è€å¸ˆæ‚¨å¥½ï¼Œ\n      æˆ‘è¿™é‡Œçœ‹åˆ°è¿™é‡Œçš„â€œè·å–é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¸¸æ•°æ—¶é—´â€ï¼Œè¿™æ ·æŒ‰ç†æ¥è¯´å¦‚æœéœ€è¦åˆ¤æ–­å­—ç¬¦ä¸²sæ˜¯å¦ä¸ºç©ºï¼Œæœ€å¥½æ˜¯ç”¨len(s) == 0,è€Œä¸æ˜¯ç”¨s == &quot;&quot;æ¥åˆ¤æ–­ï¼Œå› ä¸ºè¿™æ ·æ˜¯ç›´æ¥åˆ¤æ–­stringæ‰€æ˜ å°„çš„äºŒå…ƒæ•°ç»„çš„lençš„å†…å®¹ï¼Œè€Œä¸éœ€è¦ä¸€æ­¥æ­¥çš„å¯¹æ¯”dataçš„å†…å®¹ï¼Œä½†æˆ‘æŒ‰ç½‘ä¸Šæ‰¾çš„ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹æ¥è¿›è¡Œæ€§èƒ½æ¯”è¾ƒï¼Œå‘ç°åŸºæœ¬æ˜¯æ²¡æœ‰åŒºåˆ«çš„ï¼š\npackage kong_test\n\nimport (\n    &quot;testing&quot;\n)\nfunc isEmptyString0() bool {\n    var data string\n    if data == &quot;&quot; {\n        return true\n    }\n    return false\n}\n\nfunc isEmptyString1() bool {\n    var data string\n    if len(data) == 0 {\n        return true\n    }\n    return false\n}\nfunc BenchmarkIsEmptyString0(b *testing.B) {\n    for i := 0; i &lt; b.N; i++ {\n        isEmptyString0()\n    }\n}\n\nfunc BenchmarkIsEmptyString1(b *testing.B) {\n    for i := 0; i &lt; b.N; i++ {\n        isEmptyString1()\n    }\n}\n================æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š\n[root@VM-24-4-centos test0]# go test -bench=. -v -benchmem\ngoos: linux\ngoarch: amd64\npkg: example&#47;test0\ncpu: Intel(R) Xeon(R) Platinum 8255C CPU @ 2.50GHz\nBenchmarkIsEmptyString0\nBenchmarkIsEmptyString0-2       1000000000               0.3359 ns&#47;op          0 B&#47;op          0 allocs&#47;op\nBenchmarkIsEmptyString1\nBenchmarkIsEmptyString1-2       1000000000               0.3312 ns&#47;op          0 B&#47;op          0 allocs&#47;op\nPASS\nok      example&#47;test0   0.748s\n====================\næ‰€ä»¥æƒ³è¯·é—®ä¸€ä¸‹ç™½è€å¸ˆè¿™æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„å‘¢ï¼Ÿè¿˜æ˜¯è¯´å…¶å®ç”¨len(s) == 0çš„æ–¹æ³•åˆ¤æ–­å’Œç”¨s == &quot;&quot;æ¥åˆ¤æ–­å…¶å®æ˜¯æ²¡æœ‰åŒºåˆ«çš„å‘¢ï¼Ÿk8sæºç é‡Œå¤§é‡ä½¿ç”¨çš„len(s) == 0è€Œä¸æ˜¯s == &quot;&quot;åªæ˜¯ä¸ªäººä¹ æƒ¯æˆ–è€…å·§åˆå—ï¼Ÿ\næ„Ÿè°¢ï¼","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570889,"discussion_content":"å¥½é—®é¢˜ã€‚\n\nlen(s)== 0å®è´¨æ˜¯ä¸€ä¸ªintæ¯”è¾ƒï¼Œè€Œs == &#34;&#34;å®è´¨ä¹Ÿæ˜¯ä¸€ä¸ªbyteæ¯”è¾ƒï¼Œä¸¤è€…æ²¡å•¥å·®åˆ«ã€‚stringæ¯”è¾ƒæ˜¯é€ä¸ªbyteæ¯”è¾ƒçš„ã€‚ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç«  ï¼šhttps://tonybai.com/2022/04/18/inside-go-string-comparison å¯ä»¥çœ‹çœ‹ã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651985449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341465,"user_name":"æ³¥è…¿","can_delete":false,"product_type":"c1","uid":1309200,"ip_address":"","ucode":"EEEBF8ECE5AEEA","user_header":"https://static001.geekbang.org/account/avatar/00/13/fa/10/38d22c78.jpg","comment_is_top":false,"comment_ctime":1649643875,"is_pvip":false,"replies":[{"id":124907,"content":"å­—ç¬¦ä¸²æ¯”è¾ƒä¼šè¿›è¡Œä»å·¦åˆ°å³åšé€å­—èŠ‚æ¯”è¾ƒï¼Œè€Œä¸æ˜¯ç ç‚¹ã€‚æŒ‰ç…§ä½ æåˆ°çš„ä¾‹å­ï¼Œæ¯”è¾ƒæ“ä½œç¬¦ä¼šæ¯”è¾ƒs1å’Œs2çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯&quot;1&quot;å’Œ&quot;2&quot;ï¼Œå‘ç°&quot;1&quot; &lt; &quot;2&quot;ï¼Œç›´æ¥è¿”å›trueã€‚æ— éœ€è¿›è¡Œåç»­æ¯”è¾ƒã€‚\nä¸‹é¢ä¾‹å­æ”¹ç¼–è‡ªä½ çš„ä¾‹å­ï¼š\n\n      s1 := &quot;12345&quot;\n      s2 := &quot;2345&quot;\n      fmt.Println(s1 &lt; s2) &#47;&#47;true\n\nå¦‚æœç¬¬ä¸€ä¸ªå­—èŠ‚ç›¸åŒï¼Œåˆ™ä¼šç»§ç»­æ¯”è¾ƒåé¢å¯¹ä½çš„å­—èŠ‚ï¼Œç›´åˆ°å‘ç°ä¸åŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":1026224,"ctime":1649914573,"ip_address":"","comment_id":341465,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"s1 = &quot;12345&quot;\ns2 = &quot;23456&quot;\nfmt.Println(s1 &lt; s2)  &#47;&#47; true\nfmt.Println(s1 &lt;= s2) &#47;&#47; true\n\nè€å¸ˆæ‚¨å¥½ï¼Œè¿™é‡Œçš„æ¯”è¾ƒå€¼æ˜¯æ¯”è¾ƒå­—ç¬¦ä¸²çš„æ¯ä¸ªUnicodeå­—ç¬¦ç ç‚¹ä¹ˆï¼Ÿ\næ¯”å¦‚ï¼šæ¯”è¾ƒåˆ° â€œ2â€çš„ç ç‚¹ å¤§äº â€œ1â€ çš„ç ç‚¹ï¼Œ åˆ™ fmt.Println(s1 &lt;= s2) &#47;&#47; true","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570889,"discussion_content":"å¥½é—®é¢˜ã€‚\n\nlen(s)== 0å®è´¨æ˜¯ä¸€ä¸ªintæ¯”è¾ƒï¼Œè€Œs == &#34;&#34;å®è´¨ä¹Ÿæ˜¯ä¸€ä¸ªbyteæ¯”è¾ƒï¼Œä¸¤è€…æ²¡å•¥å·®åˆ«ã€‚stringæ¯”è¾ƒæ˜¯é€ä¸ªbyteæ¯”è¾ƒçš„ã€‚ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç«  ï¼šhttps://tonybai.com/2022/04/18/inside-go-string-comparison å¯ä»¥çœ‹çœ‹ã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651985449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320791,"user_name":"ç¾Šç¾Š","can_delete":false,"product_type":"c1","uid":1162597,"ip_address":"","ucode":"B220CE8D1CA5DA","user_header":"https://static001.geekbang.org/account/avatar/00/11/bd/65/fbdf4fc1.jpg","comment_is_top":false,"comment_ctime":1636511931,"is_pvip":false,"replies":[{"id":116722,"content":"s[0] = &#39;k&#39;  è¿™ä¸ªè‚¯å®šä¸å¯ä»¥ã€‚go stringæ˜¯ä¸å¯æ›´æ”¹çš„ã€‚\ngoå­—ç¬¦ä¸²ä¸‹æ ‡æ“ä½œåªèƒ½è·å¾—ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œè€Œä¸æ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636901925,"ip_address":"","comment_id":320791,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"var s string = &quot;hello&quot;\ns[0] = &#39;k&#39; \ns = &quot;gopher&quot; \næ ¹æ®åé¢çš„å†…å®¹çŸ¥é“s[0]æ˜¯å­—ç¬¦ä¸²sçš„ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œä¸æ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œæ˜¯ä¸æ˜¯ä¸èƒ½æŠŠå­—ç¬¦kç›´æ¥èµ‹å€¼ç»™s[0]å‘¢ï¼Ÿgoçš„å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯ï¼Œä¸èƒ½ç”¨indexæ¥è·å–å…¶ä¸­çš„å•ä¸ªå­—ç¬¦ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":562954,"discussion_content":"å­—ç¬¦ä¸²æ¯”è¾ƒä¼šè¿›è¡Œä»å·¦åˆ°å³åšé€å­—èŠ‚æ¯”è¾ƒï¼Œè€Œä¸æ˜¯ç ç‚¹ã€‚æŒ‰ç…§ä½ æåˆ°çš„ä¾‹å­ï¼Œæ¯”è¾ƒæ“ä½œç¬¦ä¼šæ¯”è¾ƒs1å’Œs2çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯\"1\"å’Œ\"2\"ï¼Œå‘ç°\"1\" < \"2\"ï¼Œç›´æ¥è¿”å›trueã€‚æ— éœ€è¿›è¡Œåç»­æ¯”è¾ƒã€‚\nä¸‹é¢ä¾‹å­æ”¹ç¼–è‡ªä½ çš„ä¾‹å­ï¼š\n\n      s1 := \"12345\"\n      s2 := \"2345\"\n      fmt.Println(s1 < s2) //true\n\nå¦‚æœç¬¬ä¸€ä¸ªå­—èŠ‚ç›¸åŒï¼Œåˆ™ä¼šç»§ç»­æ¯”è¾ƒåé¢å¯¹ä½çš„å­—èŠ‚ï¼Œç›´åˆ°å‘ç°ä¸åŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649914573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323310,"user_name":"Bynow","can_delete":false,"product_type":"c1","uid":2735072,"ip_address":"","ucode":"1E4F3ADD65CF18","user_header":"https://static001.geekbang.org/account/avatar/00/29/bb/e0/c7cd5170.jpg","comment_is_top":false,"comment_ctime":1637828925,"is_pvip":false,"replies":[{"id":117585,"content":"ä»¥a:=1; var p = &amp;aä¸ºä¾‹ï¼Œ&amp;æ˜¯å–åœ°å€æ“ä½œç¬¦ã€‚unsafe.Pointeræ˜¯goè¯­è¨€ä¸­çš„é€šç”¨æŒ‡é’ˆç±»å‹ï¼Œä»»ä½•æŒ‡é’ˆéƒ½å¯ä»¥è½¬å‹ä¸ºunsafe.Pointerç±»å‹ï¼Œåä¹‹unsafe.Pointerä¹Ÿå¯ä»¥è½¬å›ä»»æ„æŒ‡é’ˆç±»å‹ã€‚ä¾‹å­ï¼š\n\ni := 11\nvar p = unsafe.Pointer(&amp;i) &#47;&#47; intæŒ‡é’ˆ -&gt; unsafe.Pointer\npi := (*int)(p) &#47;&#47; unsafe.Pointer -&gt; intæŒ‡é’ˆ\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1638263721,"ip_address":"","comment_id":323310,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"&amp; å’Œ unsafe.Pointer æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534729,"discussion_content":"ä»¥a:=1; var p = &amp;aä¸ºä¾‹ï¼Œ&amp;æ˜¯å–åœ°å€æ“ä½œç¬¦ã€‚unsafe.Pointeræ˜¯goè¯­è¨€ä¸­çš„é€šç”¨æŒ‡é’ˆç±»å‹ï¼Œä»»ä½•æŒ‡é’ˆéƒ½å¯ä»¥è½¬å‹ä¸ºunsafe.Pointerç±»å‹ï¼Œåä¹‹unsafe.Pointerä¹Ÿå¯ä»¥è½¬å›ä»»æ„æŒ‡é’ˆç±»å‹ã€‚ä¾‹å­ï¼š\n\ni := 11\nvar p = unsafe.Pointer(&amp;i) // intæŒ‡é’ˆ -&gt; unsafe.Pointer\npi := (*int)(p) // unsafe.Pointer -&gt; intæŒ‡é’ˆ\n\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1638263721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375529,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"å¹¿ä¸œ","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1685594779,"is_pvip":false,"replies":[{"id":137070,"content":"è¿™ä¸ªä¸–ç•Œä¸Šå­˜å‚¨ä¸€ä¸ªå››å­—èŠ‚é•¿åº¦ï¼ˆæ¯”å¦‚uint32ï¼‰æ•´å‹çš„å˜é‡(ä»¥0x12345678ä¸ºä¾‹)æœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œä¸€ä¸ªæ˜¯0x12 0x34 0x56 0x78ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯0x78, 0x56, 0x34, 0x12ã€‚\n\nå‰è€…ç§°ä¸ºå¤§ç«¯å­—èŠ‚åº(big endian)ï¼Œåè€…ç§°ä¸ºå°ç«¯å­—èŠ‚åº(little endian)ã€‚\n\nx86-64 æ¶æ„ä¸‹ï¼Œä½¿ç”¨çš„æ˜¯å°ç«¯å­—èŠ‚åºï¼Œæˆ‘ä»¬å¯ä»¥éªŒè¯ä¸€ä¸‹ï¼š\n\nfunc dumpUint32(i uint32) {\n\tvar p *[4]byte = (*[4]byte)(unsafe.Pointer(&amp;i))\n\tfmt.Println(hex.Dump((*p)[:]))\n}\n\nfunc main() {\n\tdumpUint32(0x12345678)\n}\n\nè¿™æ®µç¨‹åºè¾“å‡ºï¼š\n\n$go run testbigendian1.go\n00000000  78 56 34 12                                       |xV4.|\n\né—®é¢˜æ¥äº†ï¼šå½“åœ¨ç½‘ç»œä¸Šä¼ è¾“è¿™ä¸ªint32æ—¶ï¼Œå¦‚æœå¯¹ç«¯ä½¿ç”¨çš„æ˜¯å¤§ç«¯å­—èŠ‚åºï¼Œå°±ä¼šå°†ä¼ æ¥çš„æ•´å‹æ•°å€¼è®¤ä¸ºæ˜¯0x78563412ã€‚\n\næ‰€ä»¥ä¸€äº›æ ‡å‡†æ—©å°±è§„å®šäº†ï¼šç½‘ç»œä¼ è¾“ä¸€å¾‹ä½¿ç”¨å¤§ç«¯å­—èŠ‚åº(bigendian)ã€‚æ‰€ä»¥å½“x86-64ä¸Šçš„æœåŠ¡è¦å‘ç½‘ç»œä¸Šå†™å…¥ä¸€ä¸ªint32æ•°å€¼æ—¶ï¼Œä¼šå°†å°ç«¯å­—èŠ‚åºè½¬æ¢ä¸ºç½‘ç»œå­—èŠ‚åº(å³å¤§ç«¯å­—èŠ‚åº)ã€‚\n\nä¸ºä»€ä¹ˆutf-8ç¼–ç ä¸å­˜åœ¨å­—èŠ‚åºé—®é¢˜ï¼Œå› ä¸ºå®ƒçš„ç¼–ç å•å…ƒæ˜¯å•å­—èŠ‚ï¼Œåœ¨ç½‘ç»œä¼ è¾“æ—¶ï¼Œåªéœ€è¦ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚çš„ä¼ å°±å¥½äº†ã€‚è¿™æ ·å‘é€ç«¯ä¸æ¥æ”¶ç«¯å¯¹æ•°æ®çš„è§£é‡Šå°±æ˜¯ä¸€è‡´çš„ã€‚\n\nè€Œutf-32çš„ç¼–ç å•å…ƒæ˜¯ç”¨æ•´å‹è¡¨ç¤ºçš„â€œå››ä¸ªå­—èŠ‚â€ï¼Œåˆ™éœ€è€ƒè™‘å­—èŠ‚åºé—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1685617601,"ip_address":"åŒ—äº¬","comment_id":375529,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"è€å¸ˆï¼Œæ–‡ä¸­è¯´ï¼šâ€œè¿™ç§ç¼–ç æ–¹æ¡ˆä½¿ç”¨ 4 ä¸ªå­—èŠ‚å­˜å‚¨å’Œä¼ è¾“ä¸€ä¸ªæ•´å‹æ•°çš„æ—¶å€™ï¼Œéœ€è¦è€ƒè™‘ä¸åŒå¹³å°çš„å­—èŠ‚åºé—®é¢˜ ;â€ã€‚\n\nçœ‹äº†åŒå­¦ä»¬çš„è¯„è®ºï¼Œè¿˜æ˜¯æ²¡å¤ªç†è§£ï¼Œè€å¸ˆèƒ½å¤Ÿå†è¯¦ç»†è¯´æ˜ä¸€ä¸‹ä¹ˆï¼Ÿ æ„Ÿè°¢ã€‚","like_count":4,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619921,"discussion_content":"è¿™ä¸ªä¸–ç•Œä¸Šå­˜å‚¨ä¸€ä¸ªå››å­—èŠ‚é•¿åº¦ï¼ˆæ¯”å¦‚uint32ï¼‰æ•´å‹çš„å˜é‡(ä»¥0x12345678ä¸ºä¾‹)æœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œä¸€ä¸ªæ˜¯0x12 0x34 0x56 0x78ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯0x78, 0x56, 0x34, 0x12ã€‚\n\nå‰è€…ç§°ä¸ºå¤§ç«¯å­—èŠ‚åº(big endian)ï¼Œåè€…ç§°ä¸ºå°ç«¯å­—èŠ‚åº(little endian)ã€‚\n\nx86-64 æ¶æ„ä¸‹ï¼Œä½¿ç”¨çš„æ˜¯å°ç«¯å­—èŠ‚åºï¼Œæˆ‘ä»¬å¯ä»¥éªŒè¯ä¸€ä¸‹ï¼š\n\nfunc dumpUint32(i uint32) {\n\tvar p *[4]byte = (*[4]byte)(unsafe.Pointer(&amp;i))\n\tfmt.Println(hex.Dump((*p)[:]))\n}\n\nfunc main() {\n\tdumpUint32(0x12345678)\n}\n\nè¿™æ®µç¨‹åºè¾“å‡ºï¼š\n\n$go run testbigendian1.go\n00000000  78 56 34 12                                       |xV4.|\n\né—®é¢˜æ¥äº†ï¼šå½“åœ¨ç½‘ç»œä¸Šä¼ è¾“è¿™ä¸ªint32æ—¶ï¼Œå¦‚æœå¯¹ç«¯ä½¿ç”¨çš„æ˜¯å¤§ç«¯å­—èŠ‚åºï¼Œå°±ä¼šå°†ä¼ æ¥çš„æ•´å‹æ•°å€¼è®¤ä¸ºæ˜¯0x78563412ã€‚\n\næ‰€ä»¥ä¸€äº›æ ‡å‡†æ—©å°±è§„å®šäº†ï¼šç½‘ç»œä¼ è¾“ä¸€å¾‹ä½¿ç”¨å¤§ç«¯å­—èŠ‚åº(bigendian)ã€‚æ‰€ä»¥å½“x86-64ä¸Šçš„æœåŠ¡è¦å‘ç½‘ç»œä¸Šå†™å…¥ä¸€ä¸ªint32æ•°å€¼æ—¶ï¼Œä¼šå°†å°ç«¯å­—èŠ‚åºè½¬æ¢ä¸ºç½‘ç»œå­—èŠ‚åº(å³å¤§ç«¯å­—èŠ‚åº)ã€‚\n\nä¸ºä»€ä¹ˆutf-8ç¼–ç ä¸å­˜åœ¨å­—èŠ‚åºé—®é¢˜ï¼Œå› ä¸ºå®ƒçš„ç¼–ç å•å…ƒæ˜¯å•å­—èŠ‚ï¼Œåœ¨ç½‘ç»œä¼ è¾“æ—¶ï¼Œåªéœ€è¦ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚çš„ä¼ å°±å¥½äº†ã€‚è¿™æ ·å‘é€ç«¯ä¸æ¥æ”¶ç«¯å¯¹æ•°æ®çš„è§£é‡Šå°±æ˜¯ä¸€è‡´çš„ã€‚\n\nè€Œutf-32çš„ç¼–ç å•å…ƒæ˜¯ç”¨æ•´å‹è¡¨ç¤ºçš„â€œå››ä¸ªå­—èŠ‚â€ï¼Œåˆ™éœ€è€ƒè™‘å­—èŠ‚åºé—®é¢˜ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1685617601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321074,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1636646163,"is_pvip":false,"replies":[{"id":116781,"content":"1. å­—é¢å€¼(literal)å°±æ˜¯æºç ä¸­çš„ä¸€ä¸ªå›ºå®šçš„å€¼ï¼Œå®ƒç›´æ¥å†™åœ¨æºç ä¸­ï¼Œä¸å¯å˜ï¼Œä¸”ä¸éœ€ç»è¿‡ä»»ä½•è®¡ç®—æˆ‘ä»¬å°±èƒ½ä»å­—é¢ä¸Šçœ‹å‡ºå…¶â€œå€¼â€ã€‚åœ¨ç¼–ç¨‹è¯­&gt;è¨€ä¸­ï¼Œé€šå¸¸ä¸€ä¸ªå­—é¢å€¼éƒ½å¯ä»¥ä»å…¶å­—é¢ä¸Šå¤§è‡´æ¨æ–­å‡ºå…¶ç±»å‹ã€‚å¦å¤–å­—é¢å€¼å¯ä»¥ç”¨äºåˆå§‹åŒ–å˜é‡ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå¸¸é‡çš„å€¼ã€‚\n\n2. unsafeåŒ…å±äºé«˜çº§è¯é¢˜ï¼Œæœ¬ä¸“æ ä½œä¸ºå…¥é—¨ä¸“æ åç»­ä¹Ÿä¸ä¼šå¤ªè¿‡æ·±å…¥ã€‚\n3. å—¯ï¼Œç”¨s:=&quot;ä¸­å›½äºº&quot;ï¼Œä¼°è®¡ç¼–è¾‘å™¨å°±ä¸ä¼šæç¤ºäº†\n4. å¥½å»ºè®®ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636953535,"ip_address":"","comment_id":321074,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"Tony Bai è€å¸ˆçš„è¿™ç¯‡å…³äºGoå­—ç¬¦ä¸²ç±»å‹çš„è®²è§£éå¸¸ç»†è‡´ã€‚\n\nä½†è¿˜æ˜¯æœ‰ä»¥ä¸‹å›°æƒ‘ï¼Œéº»çƒ¦è€å¸ˆçœ‹åˆ°äº†è§£ç­”ä¸€ä¸‹ï¼š\n\n1. æ€ä¹ˆç†è§£ï¼šâ€œå­—é¢å€¼â€ æ¯”è¾ƒè´´åˆ‡ï¼Ÿ\n\n2. unsafe.Pointerè¿™ä¸ªç”¨æ³•ï¼Œè¿™ä¸ªåœ¨æºä»£ç ä¸­æŒºå¸¸è§çš„ï¼Œæœ¬ä¸“æ ä¼šæœ‰è®²è§£å—ï¼Ÿ\n\n3. var s string = &quot;ä¸­å›½äºº&quot;ï¼Œåƒè¿™ç§å˜é‡å£°æ˜ï¼Œæœ€ä½³å®è·µæ˜¯åˆ å»æ‰stringçš„ç±»å‹å£°æ˜å—ï¼Ÿæˆ‘è¿™è¾¹ç¼–è¾‘å™¨ç›´æ¥æç¤ºæˆ‘æ˜¯å¤šä½™çš„å£°æ˜ã€‚\n\n4. å…³äºstring ç±»å‹çš„æ•°æ®æ˜¯ä¸å¯å˜çš„ï¼Œç”±æ­¤å¸¦æ¥çš„ç§ç§å¥½å¤„ï¼Œæ„Ÿè§‰è¿˜å¯ä»¥æ·±å…¥è®²è®²ï¼Œè¿™é‡Œæ„Ÿè§‰è¿˜æ˜¯æ¯”è¾ƒæŠ½è±¡ã€‚","like_count":4,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619921,"discussion_content":"è¿™ä¸ªä¸–ç•Œä¸Šå­˜å‚¨ä¸€ä¸ªå››å­—èŠ‚é•¿åº¦ï¼ˆæ¯”å¦‚uint32ï¼‰æ•´å‹çš„å˜é‡(ä»¥0x12345678ä¸ºä¾‹)æœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œä¸€ä¸ªæ˜¯0x12 0x34 0x56 0x78ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯0x78, 0x56, 0x34, 0x12ã€‚\n\nå‰è€…ç§°ä¸ºå¤§ç«¯å­—èŠ‚åº(big endian)ï¼Œåè€…ç§°ä¸ºå°ç«¯å­—èŠ‚åº(little endian)ã€‚\n\nx86-64 æ¶æ„ä¸‹ï¼Œä½¿ç”¨çš„æ˜¯å°ç«¯å­—èŠ‚åºï¼Œæˆ‘ä»¬å¯ä»¥éªŒè¯ä¸€ä¸‹ï¼š\n\nfunc dumpUint32(i uint32) {\n\tvar p *[4]byte = (*[4]byte)(unsafe.Pointer(&amp;i))\n\tfmt.Println(hex.Dump((*p)[:]))\n}\n\nfunc main() {\n\tdumpUint32(0x12345678)\n}\n\nè¿™æ®µç¨‹åºè¾“å‡ºï¼š\n\n$go run testbigendian1.go\n00000000  78 56 34 12                                       |xV4.|\n\né—®é¢˜æ¥äº†ï¼šå½“åœ¨ç½‘ç»œä¸Šä¼ è¾“è¿™ä¸ªint32æ—¶ï¼Œå¦‚æœå¯¹ç«¯ä½¿ç”¨çš„æ˜¯å¤§ç«¯å­—èŠ‚åºï¼Œå°±ä¼šå°†ä¼ æ¥çš„æ•´å‹æ•°å€¼è®¤ä¸ºæ˜¯0x78563412ã€‚\n\næ‰€ä»¥ä¸€äº›æ ‡å‡†æ—©å°±è§„å®šäº†ï¼šç½‘ç»œä¼ è¾“ä¸€å¾‹ä½¿ç”¨å¤§ç«¯å­—èŠ‚åº(bigendian)ã€‚æ‰€ä»¥å½“x86-64ä¸Šçš„æœåŠ¡è¦å‘ç½‘ç»œä¸Šå†™å…¥ä¸€ä¸ªint32æ•°å€¼æ—¶ï¼Œä¼šå°†å°ç«¯å­—èŠ‚åºè½¬æ¢ä¸ºç½‘ç»œå­—èŠ‚åº(å³å¤§ç«¯å­—èŠ‚åº)ã€‚\n\nä¸ºä»€ä¹ˆutf-8ç¼–ç ä¸å­˜åœ¨å­—èŠ‚åºé—®é¢˜ï¼Œå› ä¸ºå®ƒçš„ç¼–ç å•å…ƒæ˜¯å•å­—èŠ‚ï¼Œåœ¨ç½‘ç»œä¼ è¾“æ—¶ï¼Œåªéœ€è¦ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚çš„ä¼ å°±å¥½äº†ã€‚è¿™æ ·å‘é€ç«¯ä¸æ¥æ”¶ç«¯å¯¹æ•°æ®çš„è§£é‡Šå°±æ˜¯ä¸€è‡´çš„ã€‚\n\nè€Œutf-32çš„ç¼–ç å•å…ƒæ˜¯ç”¨æ•´å‹è¡¨ç¤ºçš„â€œå››ä¸ªå­—èŠ‚â€ï¼Œåˆ™éœ€è€ƒè™‘å­—èŠ‚åºé—®é¢˜ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1685617601,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321732,"user_name":"Geek_99b47c","can_delete":false,"product_type":"c1","uid":2049562,"ip_address":"","ucode":"D25E22C1D84E09","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/aQmhiahazRFUA4W3r1hdxxreSB5Pl54IwAJ8bwN6j02lzicydWAfPFbWx1LSFtzXH8MkI0jUKjlpUtmQBoZ4kReA/132","comment_is_top":false,"comment_ctime":1637028372,"is_pvip":false,"replies":[{"id":117131,"content":"å¤åˆ¶çš„æ˜¯â€œæè¿°ç¬¦â€çš„å€¼ï¼Œä¸æ˜¯æè¿°ç¬¦å˜é‡è‡ªèº«çš„åœ°å€ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1637551980,"ip_address":"","comment_id":321732,"utype":1}],"discussion_count":6,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"â€œäº†è§£äº† string ç±»å‹çš„å®ç°åŸç†åï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¾—åˆ°è¿™æ ·ä¸€ä¸ªç»“è®ºï¼Œé‚£å°±æ˜¯æˆ‘ä»¬ç›´æ¥å°† string ç±»å‹é€šè¿‡å‡½æ•° &#47; æ–¹æ³•å‚æ•°ä¼ å…¥ä¹Ÿä¸ä¼šå¸¦æ¥å¤ªå¤šçš„å¼€é”€ã€‚å› ä¸ºä¼ å…¥çš„ä»…ä»…æ˜¯ä¸€ä¸ªâ€œæè¿°ç¬¦â€ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„å­—ç¬¦ä¸²æ•°æ®ã€‚â€\n\nfunc main() {\n\tvar a = &quot;chsir&quot;\n\n\tfmt.Printf(&quot;main:%p\\n&quot;, &amp;a)\n\thello(&amp;a)\n}\n\nfunc hello(a *string)  {\n\tfmt.Printf(&quot;hello:%p\\n&quot;, &amp;a)\n}\n\nè¯·æ•™ä¸€ä¸‹ï¼Œä¼ å…¥çš„â€œæè¿°ç¬¦â€ï¼Œä¸ºä»€ä¹ˆåœ¨mainå‡½æ•°å’Œhelloå‡½æ•°æ‰“å°çš„åœ°å€ä¸ä¸€æ ·å•Šï¼Œè¿™æ ·è¦æ€ä¹ˆç†è§£ï¼Œæ˜¯goå¤åˆ¶äº†ä¸€ä»½â€œæè¿°ç¬¦â€å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530208,"discussion_content":"1. å­—é¢å€¼(literal)å°±æ˜¯æºç ä¸­çš„ä¸€ä¸ªå›ºå®šçš„å€¼ï¼Œå®ƒç›´æ¥å†™åœ¨æºç ä¸­ï¼Œä¸å¯å˜ï¼Œä¸”ä¸éœ€ç»è¿‡ä»»ä½•è®¡ç®—æˆ‘ä»¬å°±èƒ½ä»å­—é¢ä¸Šçœ‹å‡ºå…¶â€œå€¼â€ã€‚åœ¨ç¼–ç¨‹è¯­&amp;gt;è¨€ä¸­ï¼Œé€šå¸¸ä¸€ä¸ªå­—é¢å€¼éƒ½å¯ä»¥ä»å…¶å­—é¢ä¸Šå¤§è‡´æ¨æ–­å‡ºå…¶ç±»å‹ã€‚å¦å¤–å­—é¢å€¼å¯ä»¥ç”¨äºåˆå§‹åŒ–å˜é‡ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå¸¸é‡çš„å€¼ã€‚\n\n2. unsafeåŒ…å±äºé«˜çº§è¯é¢˜ï¼Œæœ¬ä¸“æ ä½œä¸ºå…¥é—¨ä¸“æ åç»­ä¹Ÿä¸ä¼šå¤ªè¿‡æ·±å…¥ã€‚\n3. å—¯ï¼Œç”¨s:=&amp;quot;ä¸­å›½äºº&amp;quot;ï¼Œä¼°è®¡ç¼–è¾‘å™¨å°±ä¸ä¼šæç¤ºäº†\n4. å¥½å»ºè®®ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636953535,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320819,"user_name":"åœ¨ä¸‹å®é¾™ã€","can_delete":false,"product_type":"c1","uid":1618030,"ip_address":"","ucode":"0735B64EB61CAC","user_header":"https://static001.geekbang.org/account/avatar/00/18/b0/6e/921cb700.jpg","comment_is_top":false,"comment_ctime":1636521687,"is_pvip":false,"replies":[{"id":116728,"content":"utf8æ˜¯å˜é•¿ç¼–ç ï¼Œå…¶ç¼–ç å•å…ƒæ˜¯å•ä¸ªå­—èŠ‚ï¼Œä¸å­˜åœ¨è°åœ¨é«˜ä½ã€è°åœ¨ä½ä½çš„é—®é¢˜ã€‚è€Œutf-16çš„ç¼–ç å•å…ƒæ˜¯åŒå­—èŠ‚ï¼Œutf-32ç¼–ç å•å…ƒä¸º4å­—èŠ‚ï¼Œå‡éœ€è¦è€ƒè™‘å­—èŠ‚åºé—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636902478,"ip_address":"","comment_id":320819,"utype":1}],"discussion_count":7,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œä¸€ä¸ªä¸­æ–‡å­— åœ¨utf-8ç¼–ç ä¹‹åæ˜¯ä¸‰ä¸ªå­—èŠ‚ ï¼Œé‚£ä¸ºä»€ä¹ˆä¼šæ²¡æœ‰å­—èŠ‚åºé—®é¢˜ï¼Œæˆ‘æœ‰ç‚¹å¼„ä¸æ˜ç™½","like_count":3,"discussions":[{"author":{"id":2323716,"avatar":"https://static001.geekbang.org/account/avatar/00/23/75/04/d26cd437.jpg","nickname":"lemon","note":"","ucode":"47626025C55E5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534146,"discussion_content":"æˆ‘æ„Ÿè§‰ä½ çš„helloå‡½æ•°é‡Œé¢ä¸åº”è¯¥é‚£æ ·æ‰“å°ï¼Œåº”è¯¥æ¢æˆfmt.Printf(&#34;hello:%p\\n&#34;, a)ï¼Œè¿™æ˜¯å‡½æ•°çš„å½¢å‚å’Œå®å‚çš„å…³ç³»ï¼Œhelloé‡Œé¢çš„aæ˜¯å½¢å‚ï¼Œæ˜¯ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘äº†mainå‡½æ•°é‡Œé¢çš„å®å‚aï¼Œhelloé‡Œé¢ä½ æ‰“å°(&amp;a)æ˜¯æ‰“å°çš„è¿™ä¸ªæŒ‡é’ˆçš„åœ°å€ï¼Œä½†å®é™…ä¸ŠæŒ‡é’ˆaçš„å†…å®¹ä¹Ÿå°±æ˜¯(a)æ‰æ˜¯å®å‚açš„åœ°å€ï¼›psï¼šå¦‚æœåœ¨helloé‡Œé¢æ‰“å°(*a)å°±æ˜¯æ‰“å°çš„æŒ‡é’ˆæŒ‡å‘çš„åœ°å€å—é‡Œé¢çš„å†…å®¹å•¦ï¼Œä¹Ÿå°±æ˜¯å®å‚açš„åœ°å€é‡Œé¢çš„å†…å®¹ï¼Œè¿™é‡Œä¼šæ‰“å°å‡º&#34;chsir&#34;ï¼Œåº”è¯¥æ˜¯goä¼šé»˜è®¤å†å»æ‰¾å®å‚aå†…éƒ¨DataæŒ‡å‘çš„å…·ä½“å­—ç¬¦ä¸²","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1638108964,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1639787,"avatar":"https://static001.geekbang.org/account/avatar/00/19/05/6b/d9d6d68b.jpg","nickname":"Vettel","note":"","ucode":"FB3E71DD1E8E7C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2323716,"avatar":"https://static001.geekbang.org/account/avatar/00/23/75/04/d26cd437.jpg","nickname":"lemon","note":"","ucode":"47626025C55E5E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546252,"discussion_content":"å¯¹çš„ &amp;aåº”è¯¥æ˜¯æŒ‡é’ˆçš„æŒ‡é’ˆäº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642255293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":534146,"ip_address":"","group_id":0},"score":546252,"extra":""}]},{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532192,"discussion_content":"å¤åˆ¶çš„æ˜¯â€œæè¿°ç¬¦â€çš„å€¼ï¼Œä¸æ˜¯æè¿°ç¬¦å˜é‡è‡ªèº«çš„åœ°å€ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1637551980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2323716,"avatar":"https://static001.geekbang.org/account/avatar/00/23/75/04/d26cd437.jpg","nickname":"lemon","note":"","ucode":"47626025C55E5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":534140,"discussion_content":"è¿™å¥è¯æ²¡çœ‹æ‡‚...è€å¸ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638107696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":532192,"ip_address":"","group_id":0},"score":534140,"extra":""}]},{"author":{"id":1479120,"avatar":"https://static001.geekbang.org/account/avatar/00/16/91/d0/35bc62b1.jpg","nickname":"æ— å’","note":"","ucode":"B9759B5646F3AB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":602228,"discussion_content":"func hello(b *string)  {\n\tfmt.Printf(&#34;hello:%p\\n&#34;, &amp;b)\n}\nä¸­æ‰“å°çš„æ˜¯å½¢å‚bçš„åœ°å€ï¼Œå‰é¢çš„æ˜¯main()å‡½æ•°å±€éƒ¨å˜é‡açš„åœ°å€ï¼Œè‡ªç„¶æ˜¯ä¸ä¸€æ ·çš„ã€‚\né‡ç‚¹æ˜¯ï¼šå±€éƒ¨å˜é‡aå’Œå½¢å‚éƒ½æ²¡æœ‰ç›´æ¥æŒ‡å‘å­˜å‚¨å­—ç¬¦å†…å®¹çš„åœ°å€ï¼Œè€Œæ˜¯å†…éƒ¨Stringé—´æ¥æŒ‡å‘çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1675681489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553892,"discussion_content":"package main\n\nimport &#34;fmt&#34;\n\nfunc main() {\n\tvar a = &#34;chsir&#34;\n\n\tfmt.Printf(&#34;main-:%p\\n&#34;, &amp;a)\n\thello(&amp;a)\n\tworld(a)\n\thi(a)\n}\n\nfunc hello(a *string) {\n\tfmt.Printf(&#34;hello:%p\\n&#34;, a)\n\tfmt.Printf(&#34;hello:%p\\n&#34;, &amp;a)\n\tfmt.Printf(&#34;hello:%s\\n&#34;, *a)\n}\n\nfunc world(a string) {\n\tfmt.Printf(&#34;world:%p\\n&#34;, &amp;a)\n}\n\nfunc hi(a string) {\n\tfmt.Printf(&#34;hi---:%p\\n&#34;, &amp;a)\n}\n\n\nâœ  golearning go run ./cmd\nmain-:0xc000096210\nhello:0xc000096210\nhello:0xc0000ac020\nhello:chsir\nworld:0xc000096230\nhi---:0xc000096240\n\nè¿™é‡Œæˆ‘ç†è§£çš„æ˜¯ï¼Œè€å¸ˆè¯´çš„æ˜¯ï¼Œgoåº•å±‚å¤åˆ¶çš„æ˜¯â€œæè¿°ç¬¦â€çš„å€¼ï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡åŠæ³•ç”¨goå»è¾“å‡ºï¼Œå› ä¸ºå¤šä¸ªå˜é‡çš„åœ°å€ï¼Œå¯ä»¥æŒ‡å‘åŒä¸€ä¸ªvlaueã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646127677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360582,"user_name":"Unknown element","can_delete":false,"product_type":"c1","uid":2028277,"ip_address":"åŒ—äº¬","ucode":"34A129800D0238","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f2/f5/b82f410d.jpg","comment_is_top":false,"comment_ctime":1666670330,"is_pvip":false,"replies":[{"id":131256,"content":"å› ä¸ºDataçš„ç±»å‹æ˜¯uintptrï¼Œè€Œuintpträ¸æ˜¯æŒ‡é’ˆï¼GCåªçœ‹æŒ‡é’ˆï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1666834458,"ip_address":"åŒ—äº¬","comment_id":360582,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"è€å¸ˆæ‚¨å¥½ æˆ‘æœ¬åœ°çš„go sdkæ˜¯1.17.3ï¼Œåœ¨&#47;src&#47;reflect&#47;value.goæ–‡ä»¶ä¸­çš„stringHeaderç»“æ„ä½“å‰é¢æœ‰å‡ è¡Œæ³¨é‡Šæ²¡çœ‹æ‡‚ï¼š\n&#47;&#47; Moreover, the Data field is not sufficient to guarantee the data\n&#47;&#47; it references will not be garbage collected, so programs must keep\n&#47;&#47; a separate, correctly typed pointer to the underlying data.\næˆ‘æƒ³é—®ä¸‹goåœ¨åƒåœ¾å›æ”¶çš„æ ‡è®°é˜¶æ®µä¸å°±æ˜¯é€šè¿‡å¼•ç”¨å»æ ‡è®°æ´»è·ƒå¯¹è±¡å—ï¼Ÿä¸ºä»€ä¹ˆè¿™é‡Œè¯´stringçš„Dataå­—æ®µçš„å¼•ç”¨æ— æ³•ä¿è¯å®ƒæŒ‡å‘çš„æ•°æ®ä¸ä¼šè¢«å›æ”¶ï¼Ÿè°¢è°¢è€å¸ˆ","like_count":2,"discussions":[{"author":{"id":1248326,"avatar":"https://static001.geekbang.org/account/avatar/00/13/0c/46/dfe32cf4.jpg","nickname":"å¤šé€‰å‚æ•°","note":"","ucode":"B2294D80AB075F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531639,"discussion_content":"èƒ½å¦è¿™ä¹ˆç†è§£ï¼Œutf-8 çš„ä¸€ä¸ªå­—ç¬¦æ˜¯ç”± 3 ä¸ªå­—èŠ‚é€ä¸ªå­—èŠ‚è¿›è¡Œç¼–ç æ¯”è¾ƒå†³å®šçš„ï¼Œè€Œ utf-16 éœ€è¦ 2 å­—èŠ‚ä¸€èµ·è€ƒè™‘ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1637371471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":4,"child_discussions":[{"author":{"id":1618030,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b0/6e/921cb700.jpg","nickname":"åœ¨ä¸‹å®é¾™ã€","note":"","ucode":"0735B64EB61CAC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1248326,"avatar":"https://static001.geekbang.org/account/avatar/00/13/0c/46/dfe32cf4.jpg","nickname":"å¤šé€‰å‚æ•°","note":"","ucode":"B2294D80AB075F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531668,"discussion_content":"æˆ‘è§‰å¾—è¿™ä¹ˆç†è§£ä¸é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637378476,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":531639,"ip_address":"","group_id":0},"score":531668,"extra":"{\"user_type\":1}"},{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1248326,"avatar":"https://static001.geekbang.org/account/avatar/00/13/0c/46/dfe32cf4.jpg","nickname":"å¤šé€‰å‚æ•°","note":"","ucode":"B2294D80AB075F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541572,"discussion_content":"ä¸æ˜¯çš„ã€‚utf8æ˜¯uicodeçš„ä¸€ç§ç¼–ç æ–¹å¼ã€‚åœ¨unicodeå­—ç¬¦é›†ä¸­ï¼Œæ¯ä¸ªå­—ç¬¦å”¯ä¸€å¯¹åº”ä¸€ä¸ªç ç‚¹ã€‚\nutf8ç¼–ç æ˜¯å¯å˜é•¿åº¦ï¼Œé‚£ä¹ˆå®ƒçš„å¯å˜é•¿åº¦å¦‚ä½•èƒ½å¯¹åº”Unicodeçš„å­—ç¬¦ç¼–ç å‘¢ï¼Ÿä¸»è¦æœ‰ä¸¤æ¡è§„åˆ™ã€‚ï¼ˆ1ï¼‰å¦‚æœæ˜¯å•å­—èŠ‚å­—ç¬¦ï¼Œä¾‹å¦‚ASCIIç ï¼Œé‚£ä¹ˆutf8çš„æœ€é«˜ä½æ˜¯0ã€‚æ‰€ä»¥æ¯æ¬¡é‡åˆ°æœ€é«˜ä½æ˜¯0å°±è‚¯å®šå®ƒæ˜¯å•å­—èŠ‚å­—ç¬¦äº†ã€‚ï¼ˆ2ï¼‰å¦‚æœunicodeå­—ç¬¦æ˜¯Nå­—èŠ‚ï¼Œé‚£ä¹ˆutf8çš„é¦–å­—èŠ‚çš„æœ€é«˜ä½çš„å¼€å¤´Nä½éƒ½æ˜¯1ï¼Œåé¢å„å­—èŠ‚éƒ½æ˜¯ä»¥10å¼€å¤´ã€‚ç„¶åï¼ŒUnicodeå­—ç¬¦ç¼–ç çš„æ¯ä¸€ä¸ªå­—èŠ‚æ”¾è¿›utf8å‰©ä½™çš„ä½ç½®ã€‚\næ‰€ä»¥ï¼Œé€šè¿‡å­—èŠ‚çš„å½¢å¼å°±èƒ½ç¡®å®šä¼ è¾“çš„æ˜¯å¤šå°‘å­—èŠ‚çš„å­—ç¬¦ç¼–ç äº†ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1640447131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":531639,"ip_address":"","group_id":0},"score":541572,"extra":""},{"author":{"id":2028277,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/f2/f5/b82f410d.jpg","nickname":"Unknown element","note":"","ucode":"34A129800D0238","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":590193,"discussion_content":"é‚£å­—èŠ‚ä¹‹é—´è¿˜æ˜¯æœ‰é¡ºåºçš„å§ï¼Ÿæ¯”å¦‚ä¸€ä¸ªUnicodeå­—ç¬¦é€šè¿‡UTF8ç¼–ç ä¹‹åæ˜¯3ä¸ªå­—èŠ‚ï¼Œé‚£åä¸¤ä¸ªå­—èŠ‚å¼€å¤´éƒ½æ˜¯10ï¼Œè¿™ä¸¤ä¸ªå­—èŠ‚çš„é¡ºåºæ€ä¹ˆç¡®å®šå‘¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665583016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":541572,"ip_address":"å¹¿ä¸œ","group_id":0},"score":590193,"extra":""}]},{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530128,"discussion_content":"utf8æ˜¯å˜é•¿ç¼–ç ï¼Œå…¶ç¼–ç å•å…ƒæ˜¯å•ä¸ªå­—èŠ‚ï¼Œä¸å­˜åœ¨è°åœ¨é«˜ä½ã€è°åœ¨ä½ä½çš„é—®é¢˜ã€‚è€Œutf-16çš„ç¼–ç å•å…ƒæ˜¯åŒå­—èŠ‚ï¼Œutf-32ç¼–ç å•å…ƒä¸º4å­—èŠ‚ï¼Œå‡éœ€è¦è€ƒè™‘å­—èŠ‚åºé—®é¢˜ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636902478,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1175507,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ef/d3/241d0b84.jpg","nickname":"upup","note":"","ucode":"25DB114677EF58","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574341,"discussion_content":"çœ‹ä¸€ä¸‹ï¼šâ€œå¤§å¤§å¤§å¤§å¤§æ³½â€åŒå­¦è¯„è®ºä¸‹ï¼Œè€å¸ˆçš„å›å¤ï¼Œâ€œUTF-8â€å…·ä½“çš„ç¼–ç æ ¼å¼ï¼Œå°±çŸ¥é“â€œç¼–ç å•å…ƒæ˜¯å•ä¸ªå­—èŠ‚â€çš„å«ä¹‰äº†ï¼ˆé€šè¿‡å­—èŠ‚å¼€å¤´ï¼Œå°±çŸ¥é“è°åœ¨é«˜ä½ã€ä½ä½ï¼Œä»¥åŠæ˜¯å‡ ä¸ªå­—èŠ‚ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653985427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":347927,"user_name":"Tristana","can_delete":false,"product_type":"c1","uid":1006227,"ip_address":"","ucode":"FC47CF6A5868D2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5a/93/e081b4de.jpg","comment_is_top":false,"comment_ctime":1654588028,"is_pvip":false,"replies":[{"id":126808,"content":"å¯ç©ºï¼Œå°±æ˜¯â€å¯ä»¥ä¸ºç©ºâ€œçš„æ„æ€ğŸ˜ã€‚å¯ç©ºçš„å­—èŠ‚åºåˆ—ï¼Œå°±æ˜¯å¯ä»¥æ˜¯é›¶å­—èŠ‚ã€‚å¯ç©ºçš„å­—ç¬¦åºåˆ—ï¼Œå°±æ˜¯å¯ä»¥æ˜¯é›¶å­—ç¬¦ã€‚\n\nvar s string = &quot;&quot;  &#47;&#47;ä»å­—èŠ‚è§†è§’ï¼Œå®ƒæ˜¯ä¸€ä¸ªé›¶å­—èŠ‚çš„å­—èŠ‚åºåˆ—ã€‚ä»å­—ç¬¦è§†è§’ï¼Œå®ƒæ˜¯ä¸€ä¸ªé›¶å­—ç¬¦çš„å­—ç¬¦åºåˆ—ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1654608775,"ip_address":"","comment_id":347927,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"helloï¼Œç™½è€å¸ˆï¼Œæˆ‘çœ‹æ‚¨åœ¨æ–‡ç« ä¸­å¤šæ¬¡æåˆ° å¯ç©ºçš„å­—èŠ‚åºåˆ— å’Œ å¯ç©ºçš„å­—ç¬¦åºåˆ—ï¼Œå®ƒä»¬æ˜¯ä»€ä¹ˆæ„æ€å•Šï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591805,"discussion_content":"å› ä¸ºDataçš„ç±»å‹æ˜¯uintptrï¼Œè€Œuintpträ¸æ˜¯æŒ‡é’ˆï¼GCåªçœ‹æŒ‡é’ˆï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666834458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345006,"user_name":"601073891","can_delete":false,"product_type":"c1","uid":2822078,"ip_address":"","ucode":"FD90354D83B08B","user_header":"","comment_is_top":false,"comment_ctime":1651928724,"is_pvip":false,"replies":[{"id":125918,"content":"å¥½é—®é¢˜ã€‚\n\nlen(s)== 0å®è´¨æ˜¯ä¸€ä¸ªintæ¯”è¾ƒï¼Œè€Œs == &quot;&quot;å®è´¨ä¹Ÿæ˜¯ä¸€ä¸ªbyteæ¯”è¾ƒï¼Œä¸¤è€…æ²¡å•¥å·®åˆ«ã€‚stringæ¯”è¾ƒæ˜¯é€ä¸ªbyteæ¯”è¾ƒçš„ã€‚ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç«  ï¼šhttps:&#47;&#47;tonybai.com&#47;2022&#47;04&#47;18&#47;inside-go-string-comparison å¯ä»¥çœ‹çœ‹ã€‚\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1651985449,"ip_address":"","comment_id":345006,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"ç™½è€å¸ˆæ‚¨å¥½ï¼Œ\n      æˆ‘è¿™é‡Œçœ‹åˆ°è¿™é‡Œçš„â€œè·å–é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¸¸æ•°æ—¶é—´â€ï¼Œè¿™æ ·æŒ‰ç†æ¥è¯´å¦‚æœéœ€è¦åˆ¤æ–­å­—ç¬¦ä¸²sæ˜¯å¦ä¸ºç©ºï¼Œæœ€å¥½æ˜¯ç”¨len(s) == 0,è€Œä¸æ˜¯ç”¨s == &quot;&quot;æ¥åˆ¤æ–­ï¼Œå› ä¸ºè¿™æ ·æ˜¯ç›´æ¥åˆ¤æ–­stringæ‰€æ˜ å°„çš„äºŒå…ƒæ•°ç»„çš„lençš„å†…å®¹ï¼Œè€Œä¸éœ€è¦ä¸€æ­¥æ­¥çš„å¯¹æ¯”dataçš„å†…å®¹ï¼Œä½†æˆ‘æŒ‰ç½‘ä¸Šæ‰¾çš„ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹æ¥è¿›è¡Œæ€§èƒ½æ¯”è¾ƒï¼Œå‘ç°åŸºæœ¬æ˜¯æ²¡æœ‰åŒºåˆ«çš„ï¼š\npackage kong_test\n\nimport (\n    &quot;testing&quot;\n)\nfunc isEmptyString0() bool {\n    var data string\n    if data == &quot;&quot; {\n        return true\n    }\n    return false\n}\n\nfunc isEmptyString1() bool {\n    var data string\n    if len(data) == 0 {\n        return true\n    }\n    return false\n}\nfunc BenchmarkIsEmptyString0(b *testing.B) {\n    for i := 0; i &lt; b.N; i++ {\n        isEmptyString0()\n    }\n}\n\nfunc BenchmarkIsEmptyString1(b *testing.B) {\n    for i := 0; i &lt; b.N; i++ {\n        isEmptyString1()\n    }\n}\n================æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š\n[root@VM-24-4-centos test0]# go test -bench=. -v -benchmem\ngoos: linux\ngoarch: amd64\npkg: example&#47;test0\ncpu: Intel(R) Xeon(R) Platinum 8255C CPU @ 2.50GHz\nBenchmarkIsEmptyString0\nBenchmarkIsEmptyString0-2       1000000000               0.3359 ns&#47;op          0 B&#47;op          0 allocs&#47;op\nBenchmarkIsEmptyString1\nBenchmarkIsEmptyString1-2       1000000000               0.3312 ns&#47;op          0 B&#47;op          0 allocs&#47;op\nPASS\nok      example&#47;test0   0.748s\n====================\næ‰€ä»¥æƒ³è¯·é—®ä¸€ä¸‹ç™½è€å¸ˆè¿™æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„å‘¢ï¼Ÿè¿˜æ˜¯è¯´å…¶å®ç”¨len(s) == 0çš„æ–¹æ³•åˆ¤æ–­å’Œç”¨s == &quot;&quot;æ¥åˆ¤æ–­å…¶å®æ˜¯æ²¡æœ‰åŒºåˆ«çš„å‘¢ï¼Ÿk8sæºç é‡Œå¤§é‡ä½¿ç”¨çš„len(s) == 0è€Œä¸æ˜¯s == &quot;&quot;åªæ˜¯ä¸ªäººä¹ æƒ¯æˆ–è€…å·§åˆå—ï¼Ÿ\næ„Ÿè°¢ï¼","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575142,"discussion_content":"å¯ç©ºï¼Œå°±æ˜¯â€å¯ä»¥ä¸ºç©ºâ€œçš„æ„æ€ğŸ˜ã€‚å¯ç©ºçš„å­—èŠ‚åºåˆ—ï¼Œå°±æ˜¯å¯ä»¥æ˜¯é›¶å­—èŠ‚ã€‚å¯ç©ºçš„å­—ç¬¦åºåˆ—ï¼Œå°±æ˜¯å¯ä»¥æ˜¯é›¶å­—ç¬¦ã€‚\n\nvar s string = &#34;&#34;  //ä»å­—èŠ‚è§†è§’ï¼Œå®ƒæ˜¯ä¸€ä¸ªé›¶å­—èŠ‚çš„å­—èŠ‚åºåˆ—ã€‚ä»å­—ç¬¦è§†è§’ï¼Œå®ƒæ˜¯ä¸€ä¸ªé›¶å­—ç¬¦çš„å­—ç¬¦åºåˆ—ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654608775,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1006227,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5a/93/e081b4de.jpg","nickname":"Tristana","note":"","ucode":"FC47CF6A5868D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575343,"discussion_content":"æ˜ç™½äº†ï¼Œè°¢è°¢ç™½è€å¸ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654762489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341465,"user_name":"æ³¥è…¿","can_delete":false,"product_type":"c1","uid":1309200,"ip_address":"","ucode":"EEEBF8ECE5AEEA","user_header":"https://static001.geekbang.org/account/avatar/00/13/fa/10/38d22c78.jpg","comment_is_top":false,"comment_ctime":1649643875,"is_pvip":false,"replies":[{"id":124907,"content":"å­—ç¬¦ä¸²æ¯”è¾ƒä¼šè¿›è¡Œä»å·¦åˆ°å³åšé€å­—èŠ‚æ¯”è¾ƒï¼Œè€Œä¸æ˜¯ç ç‚¹ã€‚æŒ‰ç…§ä½ æåˆ°çš„ä¾‹å­ï¼Œæ¯”è¾ƒæ“ä½œç¬¦ä¼šæ¯”è¾ƒs1å’Œs2çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯&quot;1&quot;å’Œ&quot;2&quot;ï¼Œå‘ç°&quot;1&quot; &lt; &quot;2&quot;ï¼Œç›´æ¥è¿”å›trueã€‚æ— éœ€è¿›è¡Œåç»­æ¯”è¾ƒã€‚\nä¸‹é¢ä¾‹å­æ”¹ç¼–è‡ªä½ çš„ä¾‹å­ï¼š\n\n      s1 := &quot;12345&quot;\n      s2 := &quot;2345&quot;\n      fmt.Println(s1 &lt; s2) &#47;&#47;true\n\nå¦‚æœç¬¬ä¸€ä¸ªå­—èŠ‚ç›¸åŒï¼Œåˆ™ä¼šç»§ç»­æ¯”è¾ƒåé¢å¯¹ä½çš„å­—èŠ‚ï¼Œç›´åˆ°å‘ç°ä¸åŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":1026224,"ctime":1649914573,"ip_address":"","comment_id":341465,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"s1 = &quot;12345&quot;\ns2 = &quot;23456&quot;\nfmt.Println(s1 &lt; s2)  &#47;&#47; true\nfmt.Println(s1 &lt;= s2) &#47;&#47; true\n\nè€å¸ˆæ‚¨å¥½ï¼Œè¿™é‡Œçš„æ¯”è¾ƒå€¼æ˜¯æ¯”è¾ƒå­—ç¬¦ä¸²çš„æ¯ä¸ªUnicodeå­—ç¬¦ç ç‚¹ä¹ˆï¼Ÿ\næ¯”å¦‚ï¼šæ¯”è¾ƒåˆ° â€œ2â€çš„ç ç‚¹ å¤§äº â€œ1â€ çš„ç ç‚¹ï¼Œ åˆ™ fmt.Println(s1 &lt;= s2) &#47;&#47; true","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":562954,"discussion_content":"å­—ç¬¦ä¸²æ¯”è¾ƒä¼šè¿›è¡Œä»å·¦åˆ°å³åšé€å­—èŠ‚æ¯”è¾ƒï¼Œè€Œä¸æ˜¯ç ç‚¹ã€‚æŒ‰ç…§ä½ æåˆ°çš„ä¾‹å­ï¼Œæ¯”è¾ƒæ“ä½œç¬¦ä¼šæ¯”è¾ƒs1å’Œs2çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯\"1\"å’Œ\"2\"ï¼Œå‘ç°\"1\" < \"2\"ï¼Œç›´æ¥è¿”å›trueã€‚æ— éœ€è¿›è¡Œåç»­æ¯”è¾ƒã€‚\nä¸‹é¢ä¾‹å­æ”¹ç¼–è‡ªä½ çš„ä¾‹å­ï¼š\n\n      s1 := \"12345\"\n      s2 := \"2345\"\n      fmt.Println(s1 < s2) //true\n\nå¦‚æœç¬¬ä¸€ä¸ªå­—èŠ‚ç›¸åŒï¼Œåˆ™ä¼šç»§ç»­æ¯”è¾ƒåé¢å¯¹ä½çš„å­—èŠ‚ï¼Œç›´åˆ°å‘ç°ä¸åŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649914573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320791,"user_name":"ç¾Šç¾Š","can_delete":false,"product_type":"c1","uid":1162597,"ip_address":"","ucode":"B220CE8D1CA5DA","user_header":"https://static001.geekbang.org/account/avatar/00/11/bd/65/fbdf4fc1.jpg","comment_is_top":false,"comment_ctime":1636511931,"is_pvip":false,"replies":[{"id":116722,"content":"s[0] = &#39;k&#39;  è¿™ä¸ªè‚¯å®šä¸å¯ä»¥ã€‚go stringæ˜¯ä¸å¯æ›´æ”¹çš„ã€‚\ngoå­—ç¬¦ä¸²ä¸‹æ ‡æ“ä½œåªèƒ½è·å¾—ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œè€Œä¸æ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636901925,"ip_address":"","comment_id":320791,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100093501,"comment_content":"var s string = &quot;hello&quot;\ns[0] = &#39;k&#39; \ns = &quot;gopher&quot; \næ ¹æ®åé¢çš„å†…å®¹çŸ¥é“s[0]æ˜¯å­—ç¬¦ä¸²sçš„ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œä¸æ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œæ˜¯ä¸æ˜¯ä¸èƒ½æŠŠå­—ç¬¦kç›´æ¥èµ‹å€¼ç»™s[0]å‘¢ï¼Ÿgoçš„å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯ï¼Œä¸èƒ½ç”¨indexæ¥è·å–å…¶ä¸­çš„å•ä¸ªå­—ç¬¦ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530115,"discussion_content":"s[0] = &amp;#39;k&amp;#39;  è¿™ä¸ªè‚¯å®šä¸å¯ä»¥ã€‚go stringæ˜¯ä¸å¯æ›´æ”¹çš„ã€‚\ngoå­—ç¬¦ä¸²ä¸‹æ ‡æ“ä½œåªèƒ½è·å¾—ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œè€Œä¸æ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636901925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364497,"user_name":"å­æ¨","can_delete":false,"product_type":"c1","uid":1236803,"ip_address":"è¾½å®","ucode":"EA7555EEE6DECE","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/43/1aa8708a.jpg","comment_is_top":false,"comment_ctime":1671031219,"is_pvip":false,"replies":[{"id":132518,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1671141031,"ip_address":"è¾½å®","comment_id":364497,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"å°å°çš„å­—ç¬¦ä¸²ï¼Œä¸œè¥¿çœŸä¸å°‘","like_count":1},{"had_liked":false,"id":362477,"user_name":"Sunrise","can_delete":false,"product_type":"c1","uid":2820643,"ip_address":"åŒ—äº¬","ucode":"791BC042992385","user_header":"https://static001.geekbang.org/account/avatar/00/2b/0a/23/c26f4e50.jpg","comment_is_top":false,"comment_ctime":1668565270,"is_pvip":false,"replies":[{"id":131850,"content":"å¥½é—®é¢˜ã€‚\n\nå®é™…æµ‹è¯•å¹¶ä¸æ˜¯ã€‚\n\nå…±äº«åº•å±‚stringè¿™ä¸ªæŠ€æœ¯å«string interningã€‚å…³äºgoå¯¹string interningçš„æ”¯æŒå¯ä»¥å‚è§https:&#47;&#47;github.com&#47;golang&#47;go&#47;issues&#47;5160\n\nç›®å‰å¤šæ•°æƒ…å†µä¸‹ï¼Œinterningä¾æ—§æ— æ³•å¾—åˆ°æ”¯æŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1668664186,"ip_address":"åŒ—äº¬","comment_id":362477,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"s1 := &quot;ä¸–ç•Œå’Œå¹³&quot; \ns2 := &quot;ä¸–ç•Œ&quot;\ns3 := &quot;å’Œå¹³&quot;\ns4 := s2 + s3 \nè¯·é—®s1, s2, s3, s4 æ˜¯å…±ç”¨çš„ä¸€å—åº•å±‚æ•°æ®â€œä¸–ç•Œå’Œå¹³â€å—ï¼Ÿæ˜¯å¦å’Œæ•°ç»„å’Œåˆ‡ç‰‡ä¸€ä¸ªåŸç†ï¼Œs2, s3ï¼Œs4 æ˜¯ s1 çš„åˆ‡ç‰‡\n      ","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":593939,"discussion_content":"å¥½é—®é¢˜ã€‚\n\nå®é™…æµ‹è¯•å¹¶ä¸æ˜¯ã€‚\n\nå…±äº«åº•å±‚stringè¿™ä¸ªæŠ€æœ¯å«string interningã€‚å…³äºgoå¯¹string interningçš„æ”¯æŒå¯ä»¥å‚è§https://github.com/golang/go/issues/5160\n\nç›®å‰å¤šæ•°æƒ…å†µä¸‹ï¼Œinterningä¾æ—§æ— æ³•å¾—åˆ°æ”¯æŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1668664186,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1112676,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fa/64/457325e6.jpg","nickname":"Sam Fu","note":"","ucode":"EA285A4943271F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":619943,"discussion_content":"è€å¸ˆ å¦‚æœ å˜é‡ aå’Œå˜é‡b éƒ½èµ‹å€¼ä¸ºâ€œä¸–ç•Œâ€ é‚£ä¹ˆAå’Œbæ˜¯å¦æŒ‡å‘åº•å±‚åŒ1å—æ•°æ®ï¼Ÿjavaçš„å­—ç¬¦ä¸²å¸¸é‡æ± å¯ä»¥è®¤ä¸ºå®ç°äº†string interningå—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685628591,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":593939,"ip_address":"åŒ—äº¬","group_id":0},"score":619943,"extra":""}]}]},{"had_liked":false,"id":359399,"user_name":"ä¸è¯´è¯è£…ç³•æ‰‹","can_delete":false,"product_type":"c1","uid":2922271,"ip_address":"è¾½å®","ucode":"6465E83F4E6F58","user_header":"https://static001.geekbang.org/account/avatar/00/2c/97/1f/2a68c980.jpg","comment_is_top":false,"comment_ctime":1665497619,"is_pvip":false,"replies":[{"id":130725,"content":"çš„ç¡®æœ‰è¯¯ï¼Œåç»­è®©ç¼–è¾‘è€å¸ˆä¿®æ”¹ä¸€ä¸‹ï¼Œæ„Ÿè°¢æŒ‡å‡ºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1665547902,"ip_address":"è¾½å®","comment_id":359399,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"&#39;\\u4e2d&#39; &#47;&#47; å­—ç¬¦ï¼šä¸­\n\\uæ˜¯æ¥å››ä½çš„åå…­è¿›åˆ¶ï¼Œ\\Uæ˜¯8ä½å§","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":593939,"discussion_content":"å¥½é—®é¢˜ã€‚\n\nå®é™…æµ‹è¯•å¹¶ä¸æ˜¯ã€‚\n\nå…±äº«åº•å±‚stringè¿™ä¸ªæŠ€æœ¯å«string interningã€‚å…³äºgoå¯¹string interningçš„æ”¯æŒå¯ä»¥å‚è§https://github.com/golang/go/issues/5160\n\nç›®å‰å¤šæ•°æƒ…å†µä¸‹ï¼Œinterningä¾æ—§æ— æ³•å¾—åˆ°æ”¯æŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1668664186,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1112676,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fa/64/457325e6.jpg","nickname":"Sam Fu","note":"","ucode":"EA285A4943271F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":619943,"discussion_content":"è€å¸ˆ å¦‚æœ å˜é‡ aå’Œå˜é‡b éƒ½èµ‹å€¼ä¸ºâ€œä¸–ç•Œâ€ é‚£ä¹ˆAå’Œbæ˜¯å¦æŒ‡å‘åº•å±‚åŒ1å—æ•°æ®ï¼Ÿjavaçš„å­—ç¬¦ä¸²å¸¸é‡æ± å¯ä»¥è®¤ä¸ºå®ç°äº†string interningå—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685628591,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":593939,"ip_address":"åŒ—äº¬","group_id":0},"score":619943,"extra":""}]}]},{"had_liked":false,"id":359270,"user_name":"Geek_cf3cd4","can_delete":false,"product_type":"c1","uid":3196290,"ip_address":"è¾½å®","ucode":"B02270561F4894","user_header":"","comment_is_top":false,"comment_ctime":1665387277,"is_pvip":false,"replies":[{"id":130697,"content":"goè¯­è¨€å°±æ˜¯è¿™ä¹ˆè§„å®šçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1665431998,"ip_address":"è¾½å®","comment_id":359270,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"æœ‰ä¸€ä¸ªç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆfor loopå¾—åˆ°çš„æ˜¯å­—ç¬¦å¯¹åº”çš„utf8çš„ç¼–ç å­—èŠ‚ï¼Œè€Œfor rangeå¾—åˆ°çš„æ˜¯ä¸€ä¸ªUnicodeæµ®ç‚¹å€¼ï¼ŒæŒ‰ç…§æ­£å¸¸é€»è¾‘for rangeä¹Ÿæ˜¯åº”è¯¥æ˜¯å¾—åˆ°ä¸€ä¸ªå­—ç¬¦å¾—utf8å¾—ç¼–ç ã€‚è¿˜æ˜¯è¯´goä¸­å¾—for rangeå†…éƒ¨å®ç°å°±æ˜¯è¿™æ ·çš„å‘¢","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589983,"discussion_content":"goè¯­è¨€å°±æ˜¯è¿™ä¹ˆè§„å®šçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665431999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3196290,"avatar":"","nickname":"Geek_cf3cd4","note":"","ucode":"B02270561F4894","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589989,"discussion_content":"å¥½çš„ï¼Œè°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665450064,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":354019,"user_name":"è¿ˆå‘æ¶æ„å¸ˆ","can_delete":false,"product_type":"c1","uid":1637228,"ip_address":"åŒ—äº¬","ucode":"2476594CF76001","user_header":"https://static001.geekbang.org/account/avatar/00/18/fb/6c/12fdc372.jpg","comment_is_top":false,"comment_ctime":1660020147,"is_pvip":false,"replies":[{"id":128781,"content":"ä½ çš„æ„æ€æ˜¯æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ä¹ˆï¼Ÿä¸€ä¸ªç”¨\\r\\nä½œä¸ºç»“å°¾æ¢è¡Œï¼Œä¸€ä¸ªç”¨\\nä½œä¸ºç»“å°¾æ¢è¡Œ?\n\nfunc main() {\n\ts1 := &quot;abc\\ndef&quot;\n\ts2 := &quot;abcr\\r\\ndef&quot;\n\n\tprintln(s1 == s2) &#47;&#47; false\n}\n\nè¿™æ ·è‚¯å®šä¸ç­‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1660042088,"ip_address":"åŒ—äº¬","comment_id":354019,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"è¯·æ•™ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯å¤šè¡Œå­—ç¬¦ä¸²çš„è¯ï¼Œä»–æ¢è¡Œå¥½åƒåªç”¨äº†\\n  \n\nå¦‚æœæˆ‘æœ‰\\r\\nçš„æ–‡æœ¬åšæ¯”å¯¹ï¼Œè¦æ€ä¹ˆæ“ä½œå‘¢\n\nï¼ˆå› ä¸ºæˆ‘å‘ç°åˆ«äººå¥½åƒè¿™æ ·å¯¹æ¯”æ²¡é—®é¢˜ï¼Œè€Œæˆ‘è¿™æ ·å¯¹æ¯”æœ‰é—®é¢˜...ï¼‰","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589983,"discussion_content":"goè¯­è¨€å°±æ˜¯è¿™ä¹ˆè§„å®šçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665431999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3196290,"avatar":"","nickname":"Geek_cf3cd4","note":"","ucode":"B02270561F4894","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589989,"discussion_content":"å¥½çš„ï¼Œè°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665450064,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":348446,"user_name":"W-T","can_delete":false,"product_type":"c1","uid":1088973,"ip_address":"","ucode":"834869DA80D95B","user_header":"https://static001.geekbang.org/account/avatar/00/10/9d/cd/c21a01dd.jpg","comment_is_top":false,"comment_ctime":1655109120,"is_pvip":false,"replies":[{"id":126969,"content":"type rune = int32æ˜¯åˆ«åè¯­æ³•ï¼Œå¯ä»¥ç†è§£ä¸ºruneå®Œå…¨ç­‰ä»·äºint32ã€‚\n\nè€Œtype rune int32åˆ™æ˜¯define typeçš„è¯­æ³•ï¼ŒåŸºäºint32ç±»å‹å®šä¹‰ä¸€ä¸ªæ–°ç±»å‹runeï¼Œint32ç§°ä¸ºruneçš„underlying typeã€‚\n\nruneå’Œint32æ˜¯ä¸åŒçš„ç±»å‹ï¼Œç›¸äº’èµ‹å€¼éœ€è¦æ˜¾å¼è½¬å‹ã€‚\n\nå¹¶ä¸”åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œruneå¯ä»¥æ‹¥æœ‰è‡ªå·±çš„æ–¹æ³•ï¼ˆå‰é¢çš„åˆ«ååˆ™ä¸è¡Œï¼‰ã€‚è¿™ä¸ªåœ¨åé¢è®²è§£ç±»å‹çš„æ–¹æ³•é›†åˆæ—¶æœ‰æåŠã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":1026224,"ctime":1655270680,"ip_address":"","comment_id":348446,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"é—®ä¸€ä¸ªå°ç™½é—®é¢˜ï¼š\ntype rune = int32\ntype rune inte32 æœ‰ä»€ä¹ˆåŒºåˆ«","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576072,"discussion_content":"type rune = int32æ˜¯åˆ«åè¯­æ³•ï¼Œå¯ä»¥ç†è§£ä¸ºruneå®Œå…¨ç­‰ä»·äºint32ã€‚\n\nè€Œtype rune int32åˆ™æ˜¯define typeçš„è¯­æ³•ï¼ŒåŸºäºint32ç±»å‹å®šä¹‰ä¸€ä¸ªæ–°ç±»å‹runeï¼Œint32ç§°ä¸ºruneçš„underlying typeã€‚\n\nruneå’Œint32æ˜¯ä¸åŒçš„ç±»å‹ï¼Œç›¸äº’èµ‹å€¼éœ€è¦æ˜¾å¼è½¬å‹ã€‚\n\nå¹¶ä¸”åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œruneå¯ä»¥æ‹¥æœ‰è‡ªå·±çš„æ–¹æ³•ï¼ˆå‰é¢çš„åˆ«ååˆ™ä¸è¡Œï¼‰ã€‚è¿™ä¸ªåœ¨åé¢è®²è§£ç±»å‹çš„æ–¹æ³•é›†åˆæ—¶æœ‰æåŠã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655270680,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342091,"user_name":"ryanxw","can_delete":false,"product_type":"c1","uid":2119325,"ip_address":"","ucode":"0B91EAC8D06EED","user_header":"https://static001.geekbang.org/account/avatar/00/20/56/9d/4b2a7d29.jpg","comment_is_top":false,"comment_ctime":1650011354,"is_pvip":false,"replies":[{"id":125044,"content":"ğŸ˜","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1650108676,"ip_address":"","comment_id":342091,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"è¿™è´§å¤ªå¹²äº†ï¼Œè°¢è°¢è€å¸ˆ\nutf8ç¼–ç é‚£é‡Œå’Œpbçš„å˜é•¿ç¼–ç åŸç†ä¸€è‡´","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576072,"discussion_content":"type rune = int32æ˜¯åˆ«åè¯­æ³•ï¼Œå¯ä»¥ç†è§£ä¸ºruneå®Œå…¨ç­‰ä»·äºint32ã€‚\n\nè€Œtype rune int32åˆ™æ˜¯define typeçš„è¯­æ³•ï¼ŒåŸºäºint32ç±»å‹å®šä¹‰ä¸€ä¸ªæ–°ç±»å‹runeï¼Œint32ç§°ä¸ºruneçš„underlying typeã€‚\n\nruneå’Œint32æ˜¯ä¸åŒçš„ç±»å‹ï¼Œç›¸äº’èµ‹å€¼éœ€è¦æ˜¾å¼è½¬å‹ã€‚\n\nå¹¶ä¸”åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œruneå¯ä»¥æ‹¥æœ‰è‡ªå·±çš„æ–¹æ³•ï¼ˆå‰é¢çš„åˆ«ååˆ™ä¸è¡Œï¼‰ã€‚è¿™ä¸ªåœ¨åé¢è®²è§£ç±»å‹çš„æ–¹æ³•é›†åˆæ—¶æœ‰æåŠã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655270680,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341979,"user_name":"flexiver","can_delete":false,"product_type":"c1","uid":2889691,"ip_address":"","ucode":"5D83DFA90826E1","user_header":"","comment_is_top":false,"comment_ctime":1649938204,"is_pvip":false,"replies":[{"id":125018,"content":"æˆ‘ä»¬ä¸è¯´go stringï¼Œæˆ‘ä»¬å°±è¯´ä»£æ•°ä¸Š&gt;å’Œ&gt;=è¿™ä¸¤ä¸ªæ¯”è¾ƒæ“ä½œç¬¦çš„è¯­ä¹‰ï¼š\n1&gt;0  &#47;&#47; true\n1&gt;=0 æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯trueå‘¢ï¼Ÿæ˜¾ç„¶æ˜¯å•Šã€‚&gt;=çš„è¯­ä¹‰å°±æ˜¯&gt;æˆ–=éƒ½æ˜¯trueå•Šã€‚\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1650011775,"ip_address":"","comment_id":341979,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå…³äºå­—ç¬¦ä¸²æ¯”è¾ƒè¿™ä¸ªå°èŠ‚çš„çŸ¥è¯†ç‚¹æœ‰ä¸€ä¸ªç–‘æƒ‘ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå­—ç¬¦ä¸²çš„æ¯”è¾ƒï¼Œå…¶å®æ˜¯æ¯”è¾ƒåº•å±‚å­—èŠ‚æ•°ç»„ï¼Œå¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²ä¸€ä¸ªæ¯”è¾ƒé•¿ï¼Œä¸€ä¸ªæ¯”è¾ƒçŸ­ï¼Œä¾‹å¦‚s1 := &quot;12345&quot;ï¼Œ s2 := &quot;123&quot;ï¼Œ è¾ƒçŸ­çš„å­—ç¬¦ä¸²ä¼šnilè¡¨ç¤ºï¼Œå¹¶ä¸”ç©ºæœ€å°ï¼Œé‚£æŒ‰ç†æ¥è¯´åœ¨æ¯”è¾ƒ123å¯¹åº”çš„å­—èŠ‚åºåˆ—æ—¶æ˜¯ç›¸ç­‰çš„ï¼Œåœ¨æ¯”è¾ƒä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²æ—¶ä¸€ä¸ªæ˜¯4å¯¹åº”çš„å­—èŠ‚ï¼Œä¸€ä¸ªnilï¼Œé‚£ä¹ˆåº”è¯¥æ˜¯s1 &gt; s2 æ‰ä¸ºtrue, ä¸ºä»€ä¹ˆs1 &gt;= s2ä¹Ÿä¸ºtrueå‘¢ï¼Ÿæ„Ÿè§‰æœ‰ç‚¹çŸ›ç›¾","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563897,"discussion_content":"ğŸ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650108676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331894,"user_name":"å…‰","can_delete":false,"product_type":"c1","uid":1284618,"ip_address":"","ucode":"BDA7F41566E4FE","user_header":"https://static001.geekbang.org/account/avatar/00/13/9a/0a/6c74e932.jpg","comment_is_top":false,"comment_ctime":1642856859,"is_pvip":false,"replies":[{"id":121608,"content":"validæ˜¯å°†ä¸€ä¸ªåˆæ³•çš„unicodeå­—ç¬¦ä¸²è½¬æ¢ä¸ºutf8ç¼–ç ï¼ˆé€šè¿‡string-&gt;åˆ‡ç‰‡çš„è½¬å‹ï¼‰ã€‚å› æ­¤è½¬æ¢åçš„å­—èŠ‚åºåˆ—ä¹Ÿæ˜¯ä¸€ä¸ªåˆæ³•çš„utf8ç¼–ç ã€‚invalidåˆ‡ç‰‡ä¸­ä¸‰ä¸ªå­—èŠ‚ä¸æ„æˆä¸€ä¸ªåˆæ³•çš„unicodeå­—ç¬¦çš„utf8ç¼–ç ï¼Œæ‰€ä»¥invalidã€‚\n\nå¦‚æœä½ ç”¨ä¸‹é¢ä»£ç \n      valid1 := []byte{231, 149, 140} &#47;&#47; unicodeå­—ç¬¦â€œç•Œâ€çš„utf8ç¼–ç \nåˆ™Validä¹Ÿä¼šè¾“å‡ºtrue      \nfmt.Println(utf8.Valid(valid1)) &#47;&#47; true","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1643540167,"ip_address":"","comment_id":331894,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"é—®ä¸‹è¿™ä¸¤ç§å†™æ³•æœ‰ä»€ä¹ˆä¸ä¸€æ ·ä¹ˆã€‚\n\t\n\nvalid := []byte(&quot;Hello, ä¸–ç•Œ&quot;)\n\tinvalid := []byte{0xff, 0xfe, 0xfd}\n\n\tfmt.Println(valid)\n\tfmt.Println(invalid)\n\tfmt.Println(utf8.Valid(valid))\n\tfmt.Println(utf8.Valid(invalid))","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563501,"discussion_content":"æˆ‘ä»¬ä¸è¯´go stringï¼Œæˆ‘ä»¬å°±è¯´ä»£æ•°ä¸Š&gt;å’Œ&gt;=è¿™ä¸¤ä¸ªæ¯”è¾ƒæ“ä½œç¬¦çš„è¯­ä¹‰ï¼š\n1&gt;0  // true\n1&gt;=0 æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯trueå‘¢ï¼Ÿæ˜¾ç„¶æ˜¯å•Šã€‚&gt;=çš„è¯­ä¹‰å°±æ˜¯&gt;æˆ–=éƒ½æ˜¯trueå•Šã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650011775,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2889691,"avatar":"","nickname":"flexiver","note":"","ucode":"5D83DFA90826E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563761,"discussion_content":"æˆ‘è‡ªå·±æœ‰ç‚¹é™·å…¥ç‰›è§’å°–äº†ï¼Œè°¢è°¢è€å¸ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650074212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325356,"user_name":"å¼ ç”³å‚²","can_delete":false,"product_type":"c1","uid":1182372,"ip_address":"","ucode":"22D46BC529BA8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/0a/a4/828a431f.jpg","comment_is_top":false,"comment_ctime":1638930300,"is_pvip":false,"replies":[{"id":118598,"content":"æˆ‘ç»§ç»­åŠªåŠ›ğŸ˜","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1639562191,"ip_address":"","comment_id":325356,"utype":1}],"discussion_count":1,"race_medal":2,"score":4,"product_id":100093501,"comment_content":"è¯»è¿‡çš„æœ€å¥½çš„ä»‹ç»å­—ç¬¦ä¸²ç±»å‹çš„æ–‡ç« ï¼æœŸå¾…è€å¸ˆåé¢æ¨å‡ºè¿›é˜¶çš„ Go è¯¾ç¨‹ã€‚","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549068,"discussion_content":"validæ˜¯å°†ä¸€ä¸ªåˆæ³•çš„unicodeå­—ç¬¦ä¸²è½¬æ¢ä¸ºutf8ç¼–ç ï¼ˆé€šè¿‡string-&gt;åˆ‡ç‰‡çš„è½¬å‹ï¼‰ã€‚å› æ­¤è½¬æ¢åçš„å­—èŠ‚åºåˆ—ä¹Ÿæ˜¯ä¸€ä¸ªåˆæ³•çš„utf8ç¼–ç ã€‚invalidåˆ‡ç‰‡ä¸­ä¸‰ä¸ªå­—èŠ‚ä¸æ„æˆä¸€ä¸ªåˆæ³•çš„unicodeå­—ç¬¦çš„utf8ç¼–ç ï¼Œæ‰€ä»¥invalidã€‚\n\nå¦‚æœä½ ç”¨ä¸‹é¢ä»£ç \n      valid1 := []byte{231, 149, 140} // unicodeå­—ç¬¦â€œç•Œâ€çš„utf8ç¼–ç \nåˆ™Validä¹Ÿä¼šè¾“å‡ºtrue      \nfmt.Println(utf8.Valid(valid1)) // true","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643540168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":364497,"user_name":"å­æ¨","can_delete":false,"product_type":"c1","uid":1236803,"ip_address":"è¾½å®","ucode":"EA7555EEE6DECE","user_header":"https://static001.geekbang.org/account/avatar/00/12/df/43/1aa8708a.jpg","comment_is_top":false,"comment_ctime":1671031219,"is_pvip":false,"replies":[{"id":132518,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1671141031,"ip_address":"è¾½å®","comment_id":364497,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"å°å°çš„å­—ç¬¦ä¸²ï¼Œä¸œè¥¿çœŸä¸å°‘","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596621,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1671141031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":362477,"user_name":"Sunrise","can_delete":false,"product_type":"c1","uid":2820643,"ip_address":"åŒ—äº¬","ucode":"791BC042992385","user_header":"https://static001.geekbang.org/account/avatar/00/2b/0a/23/c26f4e50.jpg","comment_is_top":false,"comment_ctime":1668565270,"is_pvip":false,"replies":[{"id":131850,"content":"å¥½é—®é¢˜ã€‚\n\nå®é™…æµ‹è¯•å¹¶ä¸æ˜¯ã€‚\n\nå…±äº«åº•å±‚stringè¿™ä¸ªæŠ€æœ¯å«string interningã€‚å…³äºgoå¯¹string interningçš„æ”¯æŒå¯ä»¥å‚è§https:&#47;&#47;github.com&#47;golang&#47;go&#47;issues&#47;5160\n\nç›®å‰å¤šæ•°æƒ…å†µä¸‹ï¼Œinterningä¾æ—§æ— æ³•å¾—åˆ°æ”¯æŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1668664186,"ip_address":"åŒ—äº¬","comment_id":362477,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"s1 := &quot;ä¸–ç•Œå’Œå¹³&quot; \ns2 := &quot;ä¸–ç•Œ&quot;\ns3 := &quot;å’Œå¹³&quot;\ns4 := s2 + s3 \nè¯·é—®s1, s2, s3, s4 æ˜¯å…±ç”¨çš„ä¸€å—åº•å±‚æ•°æ®â€œä¸–ç•Œå’Œå¹³â€å—ï¼Ÿæ˜¯å¦å’Œæ•°ç»„å’Œåˆ‡ç‰‡ä¸€ä¸ªåŸç†ï¼Œs2, s3ï¼Œs4 æ˜¯ s1 çš„åˆ‡ç‰‡\n      ","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596621,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1671141031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359399,"user_name":"ä¸è¯´è¯è£…ç³•æ‰‹","can_delete":false,"product_type":"c1","uid":2922271,"ip_address":"è¾½å®","ucode":"6465E83F4E6F58","user_header":"https://static001.geekbang.org/account/avatar/00/2c/97/1f/2a68c980.jpg","comment_is_top":false,"comment_ctime":1665497619,"is_pvip":false,"replies":[{"id":130725,"content":"çš„ç¡®æœ‰è¯¯ï¼Œåç»­è®©ç¼–è¾‘è€å¸ˆä¿®æ”¹ä¸€ä¸‹ï¼Œæ„Ÿè°¢æŒ‡å‡ºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1665547902,"ip_address":"è¾½å®","comment_id":359399,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"&#39;\\u4e2d&#39; &#47;&#47; å­—ç¬¦ï¼šä¸­\n\\uæ˜¯æ¥å››ä½çš„åå…­è¿›åˆ¶ï¼Œ\\Uæ˜¯8ä½å§","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590132,"discussion_content":"çš„ç¡®æœ‰è¯¯ï¼Œåç»­è®©ç¼–è¾‘è€å¸ˆä¿®æ”¹ä¸€ä¸‹ï¼Œæ„Ÿè°¢æŒ‡å‡ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665547902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359270,"user_name":"Geek_cf3cd4","can_delete":false,"product_type":"c1","uid":3196290,"ip_address":"è¾½å®","ucode":"B02270561F4894","user_header":"","comment_is_top":false,"comment_ctime":1665387277,"is_pvip":false,"replies":[{"id":130697,"content":"goè¯­è¨€å°±æ˜¯è¿™ä¹ˆè§„å®šçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1665431998,"ip_address":"è¾½å®","comment_id":359270,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"æœ‰ä¸€ä¸ªç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆfor loopå¾—åˆ°çš„æ˜¯å­—ç¬¦å¯¹åº”çš„utf8çš„ç¼–ç å­—èŠ‚ï¼Œè€Œfor rangeå¾—åˆ°çš„æ˜¯ä¸€ä¸ªUnicodeæµ®ç‚¹å€¼ï¼ŒæŒ‰ç…§æ­£å¸¸é€»è¾‘for rangeä¹Ÿæ˜¯åº”è¯¥æ˜¯å¾—åˆ°ä¸€ä¸ªå­—ç¬¦å¾—utf8å¾—ç¼–ç ã€‚è¿˜æ˜¯è¯´goä¸­å¾—for rangeå†…éƒ¨å®ç°å°±æ˜¯è¿™æ ·çš„å‘¢","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590132,"discussion_content":"çš„ç¡®æœ‰è¯¯ï¼Œåç»­è®©ç¼–è¾‘è€å¸ˆä¿®æ”¹ä¸€ä¸‹ï¼Œæ„Ÿè°¢æŒ‡å‡ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665547902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":354019,"user_name":"è¿ˆå‘æ¶æ„å¸ˆ","can_delete":false,"product_type":"c1","uid":1637228,"ip_address":"åŒ—äº¬","ucode":"2476594CF76001","user_header":"https://static001.geekbang.org/account/avatar/00/18/fb/6c/12fdc372.jpg","comment_is_top":false,"comment_ctime":1660020147,"is_pvip":false,"replies":[{"id":128781,"content":"ä½ çš„æ„æ€æ˜¯æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ä¹ˆï¼Ÿä¸€ä¸ªç”¨\\r\\nä½œä¸ºç»“å°¾æ¢è¡Œï¼Œä¸€ä¸ªç”¨\\nä½œä¸ºç»“å°¾æ¢è¡Œ?\n\nfunc main() {\n\ts1 := &quot;abc\\ndef&quot;\n\ts2 := &quot;abcr\\r\\ndef&quot;\n\n\tprintln(s1 == s2) &#47;&#47; false\n}\n\nè¿™æ ·è‚¯å®šä¸ç­‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1660042088,"ip_address":"åŒ—äº¬","comment_id":354019,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"è¯·æ•™ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯å¤šè¡Œå­—ç¬¦ä¸²çš„è¯ï¼Œä»–æ¢è¡Œå¥½åƒåªç”¨äº†\\n  \n\nå¦‚æœæˆ‘æœ‰\\r\\nçš„æ–‡æœ¬åšæ¯”å¯¹ï¼Œè¦æ€ä¹ˆæ“ä½œå‘¢\n\nï¼ˆå› ä¸ºæˆ‘å‘ç°åˆ«äººå¥½åƒè¿™æ ·å¯¹æ¯”æ²¡é—®é¢˜ï¼Œè€Œæˆ‘è¿™æ ·å¯¹æ¯”æœ‰é—®é¢˜...ï¼‰","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583341,"discussion_content":"ä½ çš„æ„æ€æ˜¯æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ä¹ˆï¼Ÿä¸€ä¸ªç”¨\\r\\nä½œä¸ºç»“å°¾æ¢è¡Œï¼Œä¸€ä¸ªç”¨\\nä½œä¸ºç»“å°¾æ¢è¡Œ?\n\nfunc main() {\n\ts1 := &#34;abc\\ndef&#34;\n\ts2 := &#34;abcr\\r\\ndef&#34;\n\n\tprintln(s1 == s2) // false\n}\n\nè¿™æ ·è‚¯å®šä¸ç­‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660042088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1637228,"avatar":"https://static001.geekbang.org/account/avatar/00/18/fb/6c/12fdc372.jpg","nickname":"è¿ˆå‘æ¶æ„å¸ˆ","note":"","ucode":"2476594CF76001","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":603495,"discussion_content":"æ˜¯è¿™ä¸ªé—®é¢˜ï¼š\ns1:=&#39;abc\ndef&#39;\ns2:=&#34;abc\\r\\ndef&#34;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676254393,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":583341,"ip_address":"å¹¿ä¸œ","group_id":0},"score":603495,"extra":""}]}]},{"had_liked":false,"id":348446,"user_name":"W-T","can_delete":false,"product_type":"c1","uid":1088973,"ip_address":"","ucode":"834869DA80D95B","user_header":"https://static001.geekbang.org/account/avatar/00/10/9d/cd/c21a01dd.jpg","comment_is_top":false,"comment_ctime":1655109120,"is_pvip":false,"replies":[{"id":126969,"content":"type rune = int32æ˜¯åˆ«åè¯­æ³•ï¼Œå¯ä»¥ç†è§£ä¸ºruneå®Œå…¨ç­‰ä»·äºint32ã€‚\n\nè€Œtype rune int32åˆ™æ˜¯define typeçš„è¯­æ³•ï¼ŒåŸºäºint32ç±»å‹å®šä¹‰ä¸€ä¸ªæ–°ç±»å‹runeï¼Œint32ç§°ä¸ºruneçš„underlying typeã€‚\n\nruneå’Œint32æ˜¯ä¸åŒçš„ç±»å‹ï¼Œç›¸äº’èµ‹å€¼éœ€è¦æ˜¾å¼è½¬å‹ã€‚\n\nå¹¶ä¸”åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œruneå¯ä»¥æ‹¥æœ‰è‡ªå·±çš„æ–¹æ³•ï¼ˆå‰é¢çš„åˆ«ååˆ™ä¸è¡Œï¼‰ã€‚è¿™ä¸ªåœ¨åé¢è®²è§£ç±»å‹çš„æ–¹æ³•é›†åˆæ—¶æœ‰æåŠã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":1026224,"ctime":1655270680,"ip_address":"","comment_id":348446,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"é—®ä¸€ä¸ªå°ç™½é—®é¢˜ï¼š\ntype rune = int32\ntype rune inte32 æœ‰ä»€ä¹ˆåŒºåˆ«","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583341,"discussion_content":"ä½ çš„æ„æ€æ˜¯æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ä¹ˆï¼Ÿä¸€ä¸ªç”¨\\r\\nä½œä¸ºç»“å°¾æ¢è¡Œï¼Œä¸€ä¸ªç”¨\\nä½œä¸ºç»“å°¾æ¢è¡Œ?\n\nfunc main() {\n\ts1 := &#34;abc\\ndef&#34;\n\ts2 := &#34;abcr\\r\\ndef&#34;\n\n\tprintln(s1 == s2) // false\n}\n\nè¿™æ ·è‚¯å®šä¸ç­‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660042088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1637228,"avatar":"https://static001.geekbang.org/account/avatar/00/18/fb/6c/12fdc372.jpg","nickname":"è¿ˆå‘æ¶æ„å¸ˆ","note":"","ucode":"2476594CF76001","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":603495,"discussion_content":"æ˜¯è¿™ä¸ªé—®é¢˜ï¼š\ns1:=&#39;abc\ndef&#39;\ns2:=&#34;abc\\r\\ndef&#34;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676254393,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":583341,"ip_address":"å¹¿ä¸œ","group_id":0},"score":603495,"extra":""}]}]},{"had_liked":false,"id":342091,"user_name":"ryanxw","can_delete":false,"product_type":"c1","uid":2119325,"ip_address":"","ucode":"0B91EAC8D06EED","user_header":"https://static001.geekbang.org/account/avatar/00/20/56/9d/4b2a7d29.jpg","comment_is_top":false,"comment_ctime":1650011354,"is_pvip":false,"replies":[{"id":125044,"content":"ğŸ˜","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1650108676,"ip_address":"","comment_id":342091,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"è¿™è´§å¤ªå¹²äº†ï¼Œè°¢è°¢è€å¸ˆ\nutf8ç¼–ç é‚£é‡Œå’Œpbçš„å˜é•¿ç¼–ç åŸç†ä¸€è‡´","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563897,"discussion_content":"ğŸ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650108676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341979,"user_name":"flexiver","can_delete":false,"product_type":"c1","uid":2889691,"ip_address":"","ucode":"5D83DFA90826E1","user_header":"","comment_is_top":false,"comment_ctime":1649938204,"is_pvip":false,"replies":[{"id":125018,"content":"æˆ‘ä»¬ä¸è¯´go stringï¼Œæˆ‘ä»¬å°±è¯´ä»£æ•°ä¸Š&gt;å’Œ&gt;=è¿™ä¸¤ä¸ªæ¯”è¾ƒæ“ä½œç¬¦çš„è¯­ä¹‰ï¼š\n1&gt;0  &#47;&#47; true\n1&gt;=0 æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯trueå‘¢ï¼Ÿæ˜¾ç„¶æ˜¯å•Šã€‚&gt;=çš„è¯­ä¹‰å°±æ˜¯&gt;æˆ–=éƒ½æ˜¯trueå•Šã€‚\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1650011775,"ip_address":"","comment_id":341979,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå…³äºå­—ç¬¦ä¸²æ¯”è¾ƒè¿™ä¸ªå°èŠ‚çš„çŸ¥è¯†ç‚¹æœ‰ä¸€ä¸ªç–‘æƒ‘ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå­—ç¬¦ä¸²çš„æ¯”è¾ƒï¼Œå…¶å®æ˜¯æ¯”è¾ƒåº•å±‚å­—èŠ‚æ•°ç»„ï¼Œå¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²ä¸€ä¸ªæ¯”è¾ƒé•¿ï¼Œä¸€ä¸ªæ¯”è¾ƒçŸ­ï¼Œä¾‹å¦‚s1 := &quot;12345&quot;ï¼Œ s2 := &quot;123&quot;ï¼Œ è¾ƒçŸ­çš„å­—ç¬¦ä¸²ä¼šnilè¡¨ç¤ºï¼Œå¹¶ä¸”ç©ºæœ€å°ï¼Œé‚£æŒ‰ç†æ¥è¯´åœ¨æ¯”è¾ƒ123å¯¹åº”çš„å­—èŠ‚åºåˆ—æ—¶æ˜¯ç›¸ç­‰çš„ï¼Œåœ¨æ¯”è¾ƒä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²æ—¶ä¸€ä¸ªæ˜¯4å¯¹åº”çš„å­—èŠ‚ï¼Œä¸€ä¸ªnilï¼Œé‚£ä¹ˆåº”è¯¥æ˜¯s1 &gt; s2 æ‰ä¸ºtrue, ä¸ºä»€ä¹ˆs1 &gt;= s2ä¹Ÿä¸ºtrueå‘¢ï¼Ÿæ„Ÿè§‰æœ‰ç‚¹çŸ›ç›¾","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563501,"discussion_content":"æˆ‘ä»¬ä¸è¯´go stringï¼Œæˆ‘ä»¬å°±è¯´ä»£æ•°ä¸Š&gt;å’Œ&gt;=è¿™ä¸¤ä¸ªæ¯”è¾ƒæ“ä½œç¬¦çš„è¯­ä¹‰ï¼š\n1&gt;0  // true\n1&gt;=0 æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯trueå‘¢ï¼Ÿæ˜¾ç„¶æ˜¯å•Šã€‚&gt;=çš„è¯­ä¹‰å°±æ˜¯&gt;æˆ–=éƒ½æ˜¯trueå•Šã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650011775,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2889691,"avatar":"","nickname":"flexiver","note":"","ucode":"5D83DFA90826E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563761,"discussion_content":"æˆ‘è‡ªå·±æœ‰ç‚¹é™·å…¥ç‰›è§’å°–äº†ï¼Œè°¢è°¢è€å¸ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650074212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331894,"user_name":"å…‰","can_delete":false,"product_type":"c1","uid":1284618,"ip_address":"","ucode":"BDA7F41566E4FE","user_header":"https://static001.geekbang.org/account/avatar/00/13/9a/0a/6c74e932.jpg","comment_is_top":false,"comment_ctime":1642856859,"is_pvip":false,"replies":[{"id":121608,"content":"validæ˜¯å°†ä¸€ä¸ªåˆæ³•çš„unicodeå­—ç¬¦ä¸²è½¬æ¢ä¸ºutf8ç¼–ç ï¼ˆé€šè¿‡string-&gt;åˆ‡ç‰‡çš„è½¬å‹ï¼‰ã€‚å› æ­¤è½¬æ¢åçš„å­—èŠ‚åºåˆ—ä¹Ÿæ˜¯ä¸€ä¸ªåˆæ³•çš„utf8ç¼–ç ã€‚invalidåˆ‡ç‰‡ä¸­ä¸‰ä¸ªå­—èŠ‚ä¸æ„æˆä¸€ä¸ªåˆæ³•çš„unicodeå­—ç¬¦çš„utf8ç¼–ç ï¼Œæ‰€ä»¥invalidã€‚\n\nå¦‚æœä½ ç”¨ä¸‹é¢ä»£ç \n      valid1 := []byte{231, 149, 140} &#47;&#47; unicodeå­—ç¬¦â€œç•Œâ€çš„utf8ç¼–ç \nåˆ™Validä¹Ÿä¼šè¾“å‡ºtrue      \nfmt.Println(utf8.Valid(valid1)) &#47;&#47; true","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1643540167,"ip_address":"","comment_id":331894,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100093501,"comment_content":"é—®ä¸‹è¿™ä¸¤ç§å†™æ³•æœ‰ä»€ä¹ˆä¸ä¸€æ ·ä¹ˆã€‚\n\t\n\nvalid := []byte(&quot;Hello, ä¸–ç•Œ&quot;)\n\tinvalid := []byte{0xff, 0xfe, 0xfd}\n\n\tfmt.Println(valid)\n\tfmt.Println(invalid)\n\tfmt.Println(utf8.Valid(valid))\n\tfmt.Println(utf8.Valid(invalid))","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549068,"discussion_content":"validæ˜¯å°†ä¸€ä¸ªåˆæ³•çš„unicodeå­—ç¬¦ä¸²è½¬æ¢ä¸ºutf8ç¼–ç ï¼ˆé€šè¿‡string-&gt;åˆ‡ç‰‡çš„è½¬å‹ï¼‰ã€‚å› æ­¤è½¬æ¢åçš„å­—èŠ‚åºåˆ—ä¹Ÿæ˜¯ä¸€ä¸ªåˆæ³•çš„utf8ç¼–ç ã€‚invalidåˆ‡ç‰‡ä¸­ä¸‰ä¸ªå­—èŠ‚ä¸æ„æˆä¸€ä¸ªåˆæ³•çš„unicodeå­—ç¬¦çš„utf8ç¼–ç ï¼Œæ‰€ä»¥invalidã€‚\n\nå¦‚æœä½ ç”¨ä¸‹é¢ä»£ç \n      valid1 := []byte{231, 149, 140} // unicodeå­—ç¬¦â€œç•Œâ€çš„utf8ç¼–ç \nåˆ™Validä¹Ÿä¼šè¾“å‡ºtrue      \nfmt.Println(utf8.Valid(valid1)) // true","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643540168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325356,"user_name":"å¼ ç”³å‚²","can_delete":false,"product_type":"c1","uid":1182372,"ip_address":"","ucode":"22D46BC529BA8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/0a/a4/828a431f.jpg","comment_is_top":false,"comment_ctime":1638930300,"is_pvip":false,"replies":[{"id":118598,"content":"æˆ‘ç»§ç»­åŠªåŠ›ğŸ˜","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1639562191,"ip_address":"","comment_id":325356,"utype":1}],"discussion_count":1,"race_medal":2,"score":4,"product_id":100093501,"comment_content":"è¯»è¿‡çš„æœ€å¥½çš„ä»‹ç»å­—ç¬¦ä¸²ç±»å‹çš„æ–‡ç« ï¼æœŸå¾…è€å¸ˆåé¢æ¨å‡ºè¿›é˜¶çš„ Go è¯¾ç¨‹ã€‚","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538950,"discussion_content":"æˆ‘ç»§ç»­åŠªåŠ›ğŸ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639562191,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324649,"user_name":"æ‰£å‰‘ä¹¦ç”Ÿ","can_delete":false,"product_type":"c1","uid":2855599,"ip_address":"","ucode":"6F5FD189D2916C","user_header":"https://static001.geekbang.org/account/avatar/00/2b/92/af/ad02ae4b.jpg","comment_is_top":false,"comment_ctime":1638525644,"is_pvip":false,"replies":[{"id":117955,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1638827648,"ip_address":"","comment_id":324649,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100093501,"comment_content":"è¿æ¥ 5ä¸‡ä¸ª helloworld\n2.6157056s + æ‹¼æ¥æ–¹å¼\n994Âµs strings.Join()\n8.9755ms string.Builder","like_count":1},{"had_liked":false,"id":320796,"user_name":"ç¾Šç¾Š","can_delete":false,"product_type":"c1","uid":1162597,"ip_address":"","ucode":"B220CE8D1CA5DA","user_header":"https://static001.geekbang.org/account/avatar/00/11/bd/65/fbdf4fc1.jpg","comment_is_top":false,"comment_ctime":1636513409,"is_pvip":false,"replies":[{"id":116724,"content":"1. è·å–å­—ç¬¦ä¸²å­—èŠ‚é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ä¹ˆï¼Ÿ - æ˜¯çš„\n2. ä½¿ç”¨utf8çš„åº“å‡½æ•°utf8.RuneCountInString()è·å–å­—ç¬¦ä¸²å­—ç¬¦é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥æ˜¯o(n)ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636902055,"ip_address":"","comment_id":320796,"utype":1}],"discussion_count":2,"race_medal":0,"score":5,"product_id":100093501,"comment_content":"ç¬¬äºŒç‚¹ï¼šæ²¡æœ‰ç»“å°¾â€™\\0â€™ï¼Œè€Œä¸”è·å–é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¸¸æ•°æ—¶é—´ï¼Œæ¶ˆé™¤äº†è·å–å­—ç¬¦ä¸²é•¿åº¦çš„å¼€é”€ã€‚è¿™é‡Œåº”è¯¥æ˜¯è·å–å­—ç¬¦ä¸²å­—èŠ‚é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ä¹ˆï¼Ÿå¦‚æœä½¿ç”¨utf8çš„åº“å‡½æ•°utf8.RuneCountInString()è·å–å­—ç¬¦ä¸²å­—ç¬¦é•¿åº¦ï¼Œä¸çŸ¥é“æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘å‘¢","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530118,"discussion_content":"1. è·å–å­—ç¬¦ä¸²å­—èŠ‚é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ä¹ˆï¼Ÿ - æ˜¯çš„\n2. ä½¿ç”¨utf8çš„åº“å‡½æ•°utf8.RuneCountInString()è·å–å­—ç¬¦ä¸²å­—ç¬¦é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥æ˜¯o(n)ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636902055,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1627670,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d6/16/107f0d04.jpg","nickname":"å±±é’","note":"","ucode":"904AE3C23D3B92","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413624,"discussion_content":"åé¢çš„ç­”æ¡ˆæ˜¯ç›´æ¥å–å€¼çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636529791,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320773,"user_name":"ç½—æ°","can_delete":false,"product_type":"c1","uid":1320487,"ip_address":"","ucode":"96BAFAA147341F","user_header":"https://static001.geekbang.org/account/avatar/00/14/26/27/eba94899.jpg","comment_is_top":false,"comment_ctime":1636509144,"is_pvip":false,"replies":[{"id":116721,"content":"è¿™ä¸ªæ²¡å•¥æƒå¨æ–‡ç« ï¼Œè‡ªå·±å†™benchmarkè·‘ä¸€ä¸‹å°±å¤§ä½“èƒ½åˆ¤æ–­å‡ºé‚£ä¸ªæ€§èƒ½æ›´å¥½äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636901376,"ip_address":"","comment_id":320773,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100093501,"comment_content":"å…³äºæ‹¼æ¥æ€§èƒ½ï¼Œæœ‰æ²¡æœ‰æƒå¨çš„æ–‡ç« ä»‹ç»ï¼Œæˆ‘å¯¹æ¯”æµ‹è¯•å‘ç°çš„ç»“æœ fmt.Sprintf åŸºæœ¬éƒ½æ˜¯æœ€å·®çš„","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530107,"discussion_content":"è¿™ä¸ªæ²¡å•¥æƒå¨æ–‡ç« ï¼Œè‡ªå·±å†™benchmarkè·‘ä¸€ä¸‹å°±å¤§ä½“èƒ½åˆ¤æ–­å‡ºé‚£ä¸ªæ€§èƒ½æ›´å¥½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636901376,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320736,"user_name":"åŠŸå¤«ç†ŠçŒ«","can_delete":false,"product_type":"c1","uid":2732243,"ip_address":"","ucode":"D124F4FA4E816F","user_header":"https://static001.geekbang.org/account/avatar/00/29/b0/d3/200e82ff.jpg","comment_is_top":false,"comment_ctime":1636475999,"is_pvip":false,"replies":[{"id":116720,"content":"å»ºè®®è‡ªå·±å†™ä¸€ä¸ªbenchmark testï¼Œè·‘ä¸€ä¸‹ï¼ŒéªŒè¯ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636901302,"ip_address":"","comment_id":320736,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100093501,"comment_content":"æˆ‘æ„Ÿè§‰æ˜¯ç›´æ¥æ‹¿åŠ å·å¿«ï¼Œå› ä¸ºåˆ©ç”¨å‡½æ•°è¿˜éœ€è¦è°ƒç”¨å¤–éƒ¨å‡½æ•°ï¼Œè¿™æ ·ä¼šæµªè´¹æ—¶é—´","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530107,"discussion_content":"è¿™ä¸ªæ²¡å•¥æƒå¨æ–‡ç« ï¼Œè‡ªå·±å†™benchmarkè·‘ä¸€ä¸‹å°±å¤§ä½“èƒ½åˆ¤æ–­å‡ºé‚£ä¸ªæ€§èƒ½æ›´å¥½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636901376,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":390482,"user_name":"äººè¨€æœ‰åŠ›","can_delete":false,"product_type":"c1","uid":1690736,"ip_address":"æµ™æ±Ÿ","ucode":"3708FBBFB641FE","user_header":"https://static001.geekbang.org/account/avatar/00/19/cc/70/64045bc0.jpg","comment_is_top":false,"comment_ctime":1715426347,"is_pvip":false,"replies":[{"id":142090,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1715870120,"ip_address":"è¾½å®","comment_id":390482,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100093501,"comment_content":"æœ¬èŠ‚ä»‹ç»äº†goå­—ç¬¦ä¸²çš„åŸç”Ÿæ”¯æŒå¥½å¤„ã€ä¸¤ç§è§†è§’ã€ç¼–ç æ–¹å¼ã€å†…å­˜å­˜å‚¨ç»“æ„ã€å­—ç¬¦ä¸²æ“ä½œç­‰\n1.åŸç”Ÿæ”¯æŒå­—ç¬¦ä¸²ï¼Œçœå»äº†Cè¯­è¨€çš„ç±»å‹æ£€æŸ¥ã€å¹¶å‘åŒæ­¥ã€ç¼“å†²åŒºæº¢å‡ºã€éASCIIç ä¸æ”¯æŒçš„é—®é¢˜\n2.ä¸¤ç§è§†è§’æ˜¯å­—èŠ‚åºåˆ—è§†è§’å’Œå­—ç¬¦åºåˆ—è§†è§’ï¼Œåˆ†åˆ«æ˜¯ç”¨utf-8ç¼–ç å’Œunicodeç¼–ç çš„å€¼ï¼Œä¸€ä¸ªæ±‰å­—é€šå¸¸3å­—èŠ‚\n3.å­˜å‚¨ç»“æ„æ˜¯å®šä¹‰ä¸€ä¸ªstringHeaderç±»å‹ï¼Œå­˜å‚¨å®é™…å†…å®¹æ•°ç»„çš„å¼•ç”¨ï¼Œä»¥åŠå­—èŠ‚é•¿åº¦ï¼Œè¿™æ ·å¯ä»¥Oï¼ˆ1ï¼‰æ—¶é—´è·å–é•¿åº¦ï¼Œå¹¶ä¸”å‚æ•°ä¼ é€’å¼€é”€å°\n4.å­—ç¬¦ä¸²çš„æ‹¼æ¥å¯ä»¥ç”¨+&#47;+=ï¼Œåœ¨å£°æ˜é˜¶æ®µä½¿ç”¨æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœåœ¨å¾ªç¯ä¸­é¢‘ç¹èµ‹å€¼ä¼šä¸æ–­æ–°å¢å†…å­˜ï¼Œéœ€è¦ç”¨string.Builderç­‰æ–¹æ³•\næ€è€ƒé¢˜\næ€§èƒ½æœ€å¥½çš„æ˜¯string.Builderå› ä¸ºå®ƒä¸ä¼šé¢å¤–å¼€è¾Ÿå†…å­˜è¿›è¡Œæ•°æ®æ‹·è´ï¼Œè€Œæ˜¯åœ¨åŸå§‹å­—ç¬¦ä¸²ç‰‡æ®µä¸Šè¿½åŠ ","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645211,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1715870121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":389516,"user_name":"Geek_73c432","can_delete":false,"product_type":"c1","uid":2869118,"ip_address":"å¹¿ä¸œ","ucode":"3E11EB02B14DE0","user_header":"","comment_is_top":false,"comment_ctime":1712760370,"is_pvip":false,"replies":[{"id":141724,"content":"éšç€Goç‰ˆæœ¬çš„æ¼”è¿›ï¼Œç¼–è¯‘å™¨ä¼˜åŒ–çš„æå‡ï¼Œbenchmarkç»“æœä¼šæœ‰å˜åŒ–ã€‚ä½ çš„ç¤ºä¾‹ä¸­åŸç”Ÿ+æ¥è¿æ¥ä¸¤ä¸ªstringçš„ç¡®æ€§èƒ½å¾ˆå¥½ï¼Œå…¶åŸå› æ˜¯å› ä¸ºä½ ç”¨äº†ä¸¤ä¸ªå­—ç¬¦ä¸²å­—é¢å€¼è¿›è¡Œäº†è¿æ¥ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶ä¼šç›´æ¥å°†å…¶ä¼˜åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶åšèµ‹å€¼æ“ä½œï¼ŒçœŸæ­£æ‰§è¡Œæ—¶ï¼Œæ ¹æœ¬æ²¡æœ‰æ‰§è¡Œâ€œ+â€è¿™ä¸ªæ“ä½œã€‚\n\nä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªç”¨ä¾‹çœ‹ä¸€ä¸‹ï¼š\n\nfunc BenchmarkSimpleJoin1(b *testing.B) {\n    var s = &quot;cluster_id&quot;\n    for i := 0; i &lt; b.N; i++ {\n        _ = s + &quot;9930037e-3ed6-4aff-b991-in01&quot;\n    }\n}\n\nåœ¨æˆ‘çš„ç”µè„‘ä¸Šè¿è¡Œç»“æœå¦‚ä¸‹ï¼š\n\n$go test -bench .    \ngoos: darwin\ngoarch: amd64\npkg: demo\n\nBenchmarkBuilder-8       \t17140472\t        84.48 ns&#47;op\nBenchmarkJoin-8          \t25367179\t        45.25 ns&#47;op\nBenchmarkSprintf-8       \t13941495\t        82.84 ns&#47;op\nBenchmarkSimpleJoin-8    \t1000000000\t         0.2723 ns&#47;op\nBenchmarkSimpleJoin1-8   \t32210946\t        39.12 ns&#47;op\nPASS\nok  \tdemo\t5.714s\n\næˆ‘çš„goç‰ˆæœ¬æ˜¯1.22.0ã€‚\n\nä¸è¿‡åœ¨è¿™ä¸ªç®€å•çš„åœºæ™¯ä¸‹ï¼Œ&quot;+&quot;æ“ä½œç›¸å¯¹äºjoinã€builderï¼Œä¾æ—§æ˜¯æœ€å¿«çš„é‚£ä¸ªï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1712840564,"ip_address":"è¾½å®","comment_id":389516,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100093501,"comment_content":"è€å¸ˆï¼Œæˆ‘çš„æµ‹è¯•ç”¨ä¾‹å‘ç° + è¿æ¥ç¬¦æ€§èƒ½æœ€é«˜ï¼ˆå°æ•°æ®é‡ï¼‰ï¼Œæ‡µäº†éƒ½\n\n[root@localhost disk_usage]# cat join_test.go \npackage main\n\nimport (\n        &quot;fmt&quot;\n        &quot;strings&quot;\n        &quot;testing&quot;\n)\n\nfunc BenchmarkBuilder(b *testing.B) {\n        var buffer strings.Builder\n        for i := 0; i &lt; b.N; i++ {\n                buffer.WriteString(&quot;cluster_id,&quot;)\n                buffer.WriteString(&quot;9930037e-3ed6-4aff-b991-in01&quot;)\n                _ = buffer.String()\n        }\n}\n\nfunc BenchmarkJoin(b *testing.B) {\n        for i := 0; i &lt; b.N; i++ {\n                _ = strings.Join([]string{&quot;cluster_id,&quot;, &quot;9930037e-3ed6-4aff-b991-in01&quot;}, &quot;&quot;)\n        }\n}\n\nfunc BenchmarkSprintf(b *testing.B) {\n        for i := 0; i &lt; b.N; i++ {\n                _ = fmt.Sprintf(&quot;%s%s&quot;, &quot;cluster_id,&quot;, &quot;9930037e-3ed6-4aff-b991-in01&quot;)\n        }\n}\n\nfunc BenchmarkSimpleJoin(b *testing.B) {\n        for i := 0; i &lt; b.N; i++ {\n                _ = &quot;cluster_id,&quot; + &quot;9930037e-3ed6-4aff-b991-in01&quot;\n        }\n}\n[root@localhost disk_usage]# go test -bench .\ngoos: linux\ngoarch: amd64\npkg: disk_monitor\ncpu: Intel(R) Xeon(R) Silver 4210R CPU @ 2.40GHz\nBenchmarkBuilder-8               8110462               142.6 ns&#47;op\nBenchmarkJoin-8                 16885898                74.39 ns&#47;op\nBenchmarkSprintf-8               8070631               141.4 ns&#47;op\nBenchmarkSimpleJoin-8           1000000000               0.3576 ns&#47;op\nPASS\nok      disk_monitor        4.339s","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":641641,"discussion_content":"éšç€Goç‰ˆæœ¬çš„æ¼”è¿›ï¼Œç¼–è¯‘å™¨ä¼˜åŒ–çš„æå‡ï¼Œbenchmarkç»“æœä¼šæœ‰å˜åŒ–ã€‚ä½ çš„ç¤ºä¾‹ä¸­åŸç”Ÿ+æ¥è¿æ¥ä¸¤ä¸ªstringçš„ç¡®æ€§èƒ½å¾ˆå¥½ï¼Œå…¶åŸå› æ˜¯å› ä¸ºä½ ç”¨äº†ä¸¤ä¸ªå­—ç¬¦ä¸²å­—é¢å€¼è¿›è¡Œäº†è¿æ¥ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶ä¼šç›´æ¥å°†å…¶ä¼˜åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶åšèµ‹å€¼æ“ä½œï¼ŒçœŸæ­£æ‰§è¡Œæ—¶ï¼Œæ ¹æœ¬æ²¡æœ‰æ‰§è¡Œâ€œ+â€è¿™ä¸ªæ“ä½œã€‚\n\nä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªç”¨ä¾‹çœ‹ä¸€ä¸‹ï¼š\n\nfunc BenchmarkSimpleJoin1(b *testing.B) {\n    var s = &#34;cluster_id&#34;\n    for i := 0; i &lt; b.N; i++ {\n        _ = s + &#34;9930037e-3ed6-4aff-b991-in01&#34;\n    }\n}\n\nåœ¨æˆ‘çš„ç”µè„‘ä¸Šè¿è¡Œç»“æœå¦‚ä¸‹ï¼š\n\n$go test -bench .    \ngoos: darwin\ngoarch: amd64\npkg: demo\n\nBenchmarkBuilder-8       \t17140472\t        84.48 ns/op\nBenchmarkJoin-8          \t25367179\t        45.25 ns/op\nBenchmarkSprintf-8       \t13941495\t        82.84 ns/op\nBenchmarkSimpleJoin-8    \t1000000000\t         0.2723 ns/op\nBenchmarkSimpleJoin1-8   \t32210946\t        39.12 ns/op\nPASS\nok  \tdemo\t5.714s\n\næˆ‘çš„goç‰ˆæœ¬æ˜¯1.22.0ã€‚\n\nä¸è¿‡åœ¨è¿™ä¸ªç®€å•çš„åœºæ™¯ä¸‹ï¼Œ&#34;+&#34;æ“ä½œç›¸å¯¹äºjoinã€builderï¼Œä¾æ—§æ˜¯æœ€å¿«çš„é‚£ä¸ªï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1712840564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":379665,"user_name":"æ—åäºŒXII","can_delete":false,"product_type":"c1","uid":1375054,"ip_address":"åŒ—äº¬","ucode":"0C52FB9925A78C","user_header":"https://static001.geekbang.org/account/avatar/00/14/fb/4e/6762d56f.jpg","comment_is_top":false,"comment_ctime":1692259017,"is_pvip":true,"replies":[{"id":138319,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1692350633,"ip_address":"åŒ—äº¬","comment_id":379665,"utype":1}],"discussion_count":1,"race_medal":1,"score":5,"product_id":100093501,"comment_content":"è€å¸ˆçš„è¯¾è´¨é‡å¾ˆé«˜ï¼Œä½†å»ºè®®å…ˆå¤§æ¦‚è¿‡ä¸€éGoå®˜æ–¹æ–‡æ¡£å’ŒGo by Exampleåå†çœ‹ã€‚ä¸ç„¶æœ‰äº›æ¦‚å¿µä¸€æ—¶æˆ–è®¸ç†è§£ä¸äº†ã€‚\n","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":625948,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1692350633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321079,"user_name":"Calvin","can_delete":false,"product_type":"c1","uid":1603004,"ip_address":"","ucode":"0EEF5B207623B5","user_header":"https://static001.geekbang.org/account/avatar/00/18/75/bc/89d88775.jpg","comment_is_top":false,"comment_ctime":1636649163,"is_pvip":false,"replies":[{"id":116757,"content":"javaä¸­==æ˜¯æ¯”è¾ƒæ˜¯å¦æ˜¯åŒä¸€å¯¹è±¡ã€‚è‹¥è¦æ¯”å†…å®¹ï¼Œåº”è¯¥ç”¨equalsæ–¹æ³•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636929805,"ip_address":"","comment_id":321079,"utype":1}],"discussion_count":4,"race_medal":0,"score":5,"product_id":100093501,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæƒ³è¯·æ•™ä¸‹ Go ä¸­çš„ == å­—ç¬¦ä¸²æ¯”è¾ƒå’Œ Java ä¸­çš„æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ\nJava ä¸­å¥½åƒæ˜¯å­—ç¬¦ä¸²å†…å­˜åœ°å€çš„æ¯”è¾ƒï¼Œå› ä¸º java.lang.String æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":625948,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1692350633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320925,"user_name":"Calvin","can_delete":false,"product_type":"c1","uid":1603004,"ip_address":"","ucode":"0EEF5B207623B5","user_header":"https://static001.geekbang.org/account/avatar/00/18/75/bc/89d88775.jpg","comment_is_top":false,"comment_ctime":1636560511,"is_pvip":false,"replies":[{"id":116732,"content":"åŸæ–‡æœ‰é—®é¢˜ï¼Œå·²æ›´æ­£ï¼Œè¯·ç”¨æœ€æ–°å†…å®¹é‡è¯•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636902619,"ip_address":"","comment_id":320925,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100093501,"comment_content":"è€å¸ˆï¼Œæˆ‘å¤åˆ¶å¹¶è¯•äº†æ–‡ç« ä¸­çš„å¤šè¡Œå­—ç¬¦ä¸²ä¾‹å­ï¼Œä¸ºä»€ä¹ˆæŠ¥é”™çš„å‘¢ï¼Ÿ\n\n[setup failed]\nstring_test.go:105:26: expected &#39;;&#39;, found `*g*\\&quot;*, \n &#47; __&#47; &#47;&#39;     ^.  &#47;      \\ ^@q   f \n[  @f | @))    |  | @))   l  0 _&#47;  \n \\`\nFAIL","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530166,"discussion_content":"åŸæ–‡æœ‰é—®é¢˜ï¼Œå·²æ›´æ­£ï¼Œè¯·ç”¨æœ€æ–°å†…å®¹é‡è¯•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636902619,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320921,"user_name":"è¿›åŒ–èŒ","can_delete":false,"product_type":"c1","uid":1276861,"ip_address":"","ucode":"B30A5F78BB4171","user_header":"https://static001.geekbang.org/account/avatar/00/13/7b/bd/ccb37425.jpg","comment_is_top":false,"comment_ctime":1636558951,"is_pvip":true,"replies":[{"id":116751,"content":"å®è¯å®è¯´ï¼Œè¿™ä¸ªå¤šå¹´äº†ï¼Œæˆ‘è¿˜æ²¡é‡åˆ°è¿‡ã€‚é™¤éä½ çš„ç¯å¢ƒä½¿ç”¨çš„ä¸æ˜¯utf8ç¼–ç æ–¹å¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636928514,"ip_address":"","comment_id":320921,"utype":1}],"discussion_count":1,"race_medal":4,"score":5,"product_id":100093501,"comment_content":"å­—ç¬¦ä¸²æ˜¯å¾ˆå¸¸ç”¨çš„ä¸œè¥¿ï¼Œä¸ç”±å¾—åœ¨æƒ³ï¼Œgoåº”è¯¥ä¹Ÿæœ‰å­—ç¬¦ä¸²ä¹±ç çš„é—®é¢˜å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530166,"discussion_content":"åŸæ–‡æœ‰é—®é¢˜ï¼Œå·²æ›´æ­£ï¼Œè¯·ç”¨æœ€æ–°å†…å®¹é‡è¯•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636902619,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324649,"user_name":"æ‰£å‰‘ä¹¦ç”Ÿ","can_delete":false,"product_type":"c1","uid":2855599,"ip_address":"","ucode":"6F5FD189D2916C","user_header":"https://static001.geekbang.org/account/avatar/00/2b/92/af/ad02ae4b.jpg","comment_is_top":false,"comment_ctime":1638525644,"is_pvip":false,"replies":[{"id":117955,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1638827648,"ip_address":"","comment_id":324649,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100093501,"comment_content":"è¿æ¥ 5ä¸‡ä¸ª helloworld\n2.6157056s + æ‹¼æ¥æ–¹å¼\n994Âµs strings.Join()\n8.9755ms string.Builder","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536581,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638827648,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320796,"user_name":"ç¾Šç¾Š","can_delete":false,"product_type":"c1","uid":1162597,"ip_address":"","ucode":"B220CE8D1CA5DA","user_header":"https://static001.geekbang.org/account/avatar/00/11/bd/65/fbdf4fc1.jpg","comment_is_top":false,"comment_ctime":1636513409,"is_pvip":false,"replies":[{"id":116724,"content":"1. è·å–å­—ç¬¦ä¸²å­—èŠ‚é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ä¹ˆï¼Ÿ - æ˜¯çš„\n2. ä½¿ç”¨utf8çš„åº“å‡½æ•°utf8.RuneCountInString()è·å–å­—ç¬¦ä¸²å­—ç¬¦é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥æ˜¯o(n)ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636902055,"ip_address":"","comment_id":320796,"utype":1}],"discussion_count":2,"race_medal":0,"score":5,"product_id":100093501,"comment_content":"ç¬¬äºŒç‚¹ï¼šæ²¡æœ‰ç»“å°¾â€™\\0â€™ï¼Œè€Œä¸”è·å–é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¸¸æ•°æ—¶é—´ï¼Œæ¶ˆé™¤äº†è·å–å­—ç¬¦ä¸²é•¿åº¦çš„å¼€é”€ã€‚è¿™é‡Œåº”è¯¥æ˜¯è·å–å­—ç¬¦ä¸²å­—èŠ‚é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ä¹ˆï¼Ÿå¦‚æœä½¿ç”¨utf8çš„åº“å‡½æ•°utf8.RuneCountInString()è·å–å­—ç¬¦ä¸²å­—ç¬¦é•¿åº¦ï¼Œä¸çŸ¥é“æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘å‘¢","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536581,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638827648,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320773,"user_name":"ç½—æ°","can_delete":false,"product_type":"c1","uid":1320487,"ip_address":"","ucode":"96BAFAA147341F","user_header":"https://static001.geekbang.org/account/avatar/00/14/26/27/eba94899.jpg","comment_is_top":false,"comment_ctime":1636509144,"is_pvip":false,"replies":[{"id":116721,"content":"è¿™ä¸ªæ²¡å•¥æƒå¨æ–‡ç« ï¼Œè‡ªå·±å†™benchmarkè·‘ä¸€ä¸‹å°±å¤§ä½“èƒ½åˆ¤æ–­å‡ºé‚£ä¸ªæ€§èƒ½æ›´å¥½äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636901376,"ip_address":"","comment_id":320773,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100093501,"comment_content":"å…³äºæ‹¼æ¥æ€§èƒ½ï¼Œæœ‰æ²¡æœ‰æƒå¨çš„æ–‡ç« ä»‹ç»ï¼Œæˆ‘å¯¹æ¯”æµ‹è¯•å‘ç°çš„ç»“æœ fmt.Sprintf åŸºæœ¬éƒ½æ˜¯æœ€å·®çš„","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530118,"discussion_content":"1. è·å–å­—ç¬¦ä¸²å­—èŠ‚é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ä¹ˆï¼Ÿ - æ˜¯çš„\n2. ä½¿ç”¨utf8çš„åº“å‡½æ•°utf8.RuneCountInString()è·å–å­—ç¬¦ä¸²å­—ç¬¦é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥æ˜¯o(n)ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636902055,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1627670,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d6/16/107f0d04.jpg","nickname":"å±±é’","note":"","ucode":"904AE3C23D3B92","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413624,"discussion_content":"åé¢çš„ç­”æ¡ˆæ˜¯ç›´æ¥å–å€¼çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636529791,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320736,"user_name":"åŠŸå¤«ç†ŠçŒ«","can_delete":false,"product_type":"c1","uid":2732243,"ip_address":"","ucode":"D124F4FA4E816F","user_header":"https://static001.geekbang.org/account/avatar/00/29/b0/d3/200e82ff.jpg","comment_is_top":false,"comment_ctime":1636475999,"is_pvip":false,"replies":[{"id":116720,"content":"å»ºè®®è‡ªå·±å†™ä¸€ä¸ªbenchmark testï¼Œè·‘ä¸€ä¸‹ï¼ŒéªŒè¯ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636901302,"ip_address":"","comment_id":320736,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100093501,"comment_content":"æˆ‘æ„Ÿè§‰æ˜¯ç›´æ¥æ‹¿åŠ å·å¿«ï¼Œå› ä¸ºåˆ©ç”¨å‡½æ•°è¿˜éœ€è¦è°ƒç”¨å¤–éƒ¨å‡½æ•°ï¼Œè¿™æ ·ä¼šæµªè´¹æ—¶é—´","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530095,"discussion_content":"å»ºè®®è‡ªå·±å†™ä¸€ä¸ªbenchmark testï¼Œè·‘ä¸€ä¸‹ï¼ŒéªŒè¯ä¸€ä¸‹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636901302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":390482,"user_name":"äººè¨€æœ‰åŠ›","can_delete":false,"product_type":"c1","uid":1690736,"ip_address":"æµ™æ±Ÿ","ucode":"3708FBBFB641FE","user_header":"https://static001.geekbang.org/account/avatar/00/19/cc/70/64045bc0.jpg","comment_is_top":false,"comment_ctime":1715426347,"is_pvip":false,"replies":[{"id":142090,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1715870120,"ip_address":"è¾½å®","comment_id":390482,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100093501,"comment_content":"æœ¬èŠ‚ä»‹ç»äº†goå­—ç¬¦ä¸²çš„åŸç”Ÿæ”¯æŒå¥½å¤„ã€ä¸¤ç§è§†è§’ã€ç¼–ç æ–¹å¼ã€å†…å­˜å­˜å‚¨ç»“æ„ã€å­—ç¬¦ä¸²æ“ä½œç­‰\n1.åŸç”Ÿæ”¯æŒå­—ç¬¦ä¸²ï¼Œçœå»äº†Cè¯­è¨€çš„ç±»å‹æ£€æŸ¥ã€å¹¶å‘åŒæ­¥ã€ç¼“å†²åŒºæº¢å‡ºã€éASCIIç ä¸æ”¯æŒçš„é—®é¢˜\n2.ä¸¤ç§è§†è§’æ˜¯å­—èŠ‚åºåˆ—è§†è§’å’Œå­—ç¬¦åºåˆ—è§†è§’ï¼Œåˆ†åˆ«æ˜¯ç”¨utf-8ç¼–ç å’Œunicodeç¼–ç çš„å€¼ï¼Œä¸€ä¸ªæ±‰å­—é€šå¸¸3å­—èŠ‚\n3.å­˜å‚¨ç»“æ„æ˜¯å®šä¹‰ä¸€ä¸ªstringHeaderç±»å‹ï¼Œå­˜å‚¨å®é™…å†…å®¹æ•°ç»„çš„å¼•ç”¨ï¼Œä»¥åŠå­—èŠ‚é•¿åº¦ï¼Œè¿™æ ·å¯ä»¥Oï¼ˆ1ï¼‰æ—¶é—´è·å–é•¿åº¦ï¼Œå¹¶ä¸”å‚æ•°ä¼ é€’å¼€é”€å°\n4.å­—ç¬¦ä¸²çš„æ‹¼æ¥å¯ä»¥ç”¨+&#47;+=ï¼Œåœ¨å£°æ˜é˜¶æ®µä½¿ç”¨æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœåœ¨å¾ªç¯ä¸­é¢‘ç¹èµ‹å€¼ä¼šä¸æ–­æ–°å¢å†…å­˜ï¼Œéœ€è¦ç”¨string.Builderç­‰æ–¹æ³•\næ€è€ƒé¢˜\næ€§èƒ½æœ€å¥½çš„æ˜¯string.Builderå› ä¸ºå®ƒä¸ä¼šé¢å¤–å¼€è¾Ÿå†…å­˜è¿›è¡Œæ•°æ®æ‹·è´ï¼Œè€Œæ˜¯åœ¨åŸå§‹å­—ç¬¦ä¸²ç‰‡æ®µä¸Šè¿½åŠ ","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530095,"discussion_content":"å»ºè®®è‡ªå·±å†™ä¸€ä¸ªbenchmark testï¼Œè·‘ä¸€ä¸‹ï¼ŒéªŒè¯ä¸€ä¸‹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636901302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":389516,"user_name":"Geek_73c432","can_delete":false,"product_type":"c1","uid":2869118,"ip_address":"å¹¿ä¸œ","ucode":"3E11EB02B14DE0","user_header":"","comment_is_top":false,"comment_ctime":1712760370,"is_pvip":false,"replies":[{"id":141724,"content":"éšç€Goç‰ˆæœ¬çš„æ¼”è¿›ï¼Œç¼–è¯‘å™¨ä¼˜åŒ–çš„æå‡ï¼Œbenchmarkç»“æœä¼šæœ‰å˜åŒ–ã€‚ä½ çš„ç¤ºä¾‹ä¸­åŸç”Ÿ+æ¥è¿æ¥ä¸¤ä¸ªstringçš„ç¡®æ€§èƒ½å¾ˆå¥½ï¼Œå…¶åŸå› æ˜¯å› ä¸ºä½ ç”¨äº†ä¸¤ä¸ªå­—ç¬¦ä¸²å­—é¢å€¼è¿›è¡Œäº†è¿æ¥ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶ä¼šç›´æ¥å°†å…¶ä¼˜åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶åšèµ‹å€¼æ“ä½œï¼ŒçœŸæ­£æ‰§è¡Œæ—¶ï¼Œæ ¹æœ¬æ²¡æœ‰æ‰§è¡Œâ€œ+â€è¿™ä¸ªæ“ä½œã€‚\n\nä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªç”¨ä¾‹çœ‹ä¸€ä¸‹ï¼š\n\nfunc BenchmarkSimpleJoin1(b *testing.B) {\n    var s = &quot;cluster_id&quot;\n    for i := 0; i &lt; b.N; i++ {\n        _ = s + &quot;9930037e-3ed6-4aff-b991-in01&quot;\n    }\n}\n\nåœ¨æˆ‘çš„ç”µè„‘ä¸Šè¿è¡Œç»“æœå¦‚ä¸‹ï¼š\n\n$go test -bench .    \ngoos: darwin\ngoarch: amd64\npkg: demo\n\nBenchmarkBuilder-8       \t17140472\t        84.48 ns&#47;op\nBenchmarkJoin-8          \t25367179\t        45.25 ns&#47;op\nBenchmarkSprintf-8       \t13941495\t        82.84 ns&#47;op\nBenchmarkSimpleJoin-8    \t1000000000\t         0.2723 ns&#47;op\nBenchmarkSimpleJoin1-8   \t32210946\t        39.12 ns&#47;op\nPASS\nok  \tdemo\t5.714s\n\næˆ‘çš„goç‰ˆæœ¬æ˜¯1.22.0ã€‚\n\nä¸è¿‡åœ¨è¿™ä¸ªç®€å•çš„åœºæ™¯ä¸‹ï¼Œ&quot;+&quot;æ“ä½œç›¸å¯¹äºjoinã€builderï¼Œä¾æ—§æ˜¯æœ€å¿«çš„é‚£ä¸ªï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1712840564,"ip_address":"è¾½å®","comment_id":389516,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100093501,"comment_content":"è€å¸ˆï¼Œæˆ‘çš„æµ‹è¯•ç”¨ä¾‹å‘ç° + è¿æ¥ç¬¦æ€§èƒ½æœ€é«˜ï¼ˆå°æ•°æ®é‡ï¼‰ï¼Œæ‡µäº†éƒ½\n\n[root@localhost disk_usage]# cat join_test.go \npackage main\n\nimport (\n        &quot;fmt&quot;\n        &quot;strings&quot;\n        &quot;testing&quot;\n)\n\nfunc BenchmarkBuilder(b *testing.B) {\n        var buffer strings.Builder\n        for i := 0; i &lt; b.N; i++ {\n                buffer.WriteString(&quot;cluster_id,&quot;)\n                buffer.WriteString(&quot;9930037e-3ed6-4aff-b991-in01&quot;)\n                _ = buffer.String()\n        }\n}\n\nfunc BenchmarkJoin(b *testing.B) {\n        for i := 0; i &lt; b.N; i++ {\n                _ = strings.Join([]string{&quot;cluster_id,&quot;, &quot;9930037e-3ed6-4aff-b991-in01&quot;}, &quot;&quot;)\n        }\n}\n\nfunc BenchmarkSprintf(b *testing.B) {\n        for i := 0; i &lt; b.N; i++ {\n                _ = fmt.Sprintf(&quot;%s%s&quot;, &quot;cluster_id,&quot;, &quot;9930037e-3ed6-4aff-b991-in01&quot;)\n        }\n}\n\nfunc BenchmarkSimpleJoin(b *testing.B) {\n        for i := 0; i &lt; b.N; i++ {\n                _ = &quot;cluster_id,&quot; + &quot;9930037e-3ed6-4aff-b991-in01&quot;\n        }\n}\n[root@localhost disk_usage]# go test -bench .\ngoos: linux\ngoarch: amd64\npkg: disk_monitor\ncpu: Intel(R) Xeon(R) Silver 4210R CPU @ 2.40GHz\nBenchmarkBuilder-8               8110462               142.6 ns&#47;op\nBenchmarkJoin-8                 16885898                74.39 ns&#47;op\nBenchmarkSprintf-8               8070631               141.4 ns&#47;op\nBenchmarkSimpleJoin-8           1000000000               0.3576 ns&#47;op\nPASS\nok      disk_monitor        4.339s","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645211,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1715870121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":379665,"user_name":"æ—åäºŒXII","can_delete":false,"product_type":"c1","uid":1375054,"ip_address":"åŒ—äº¬","ucode":"0C52FB9925A78C","user_header":"https://static001.geekbang.org/account/avatar/00/14/fb/4e/6762d56f.jpg","comment_is_top":false,"comment_ctime":1692259017,"is_pvip":true,"replies":[{"id":138319,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1692350633,"ip_address":"åŒ—äº¬","comment_id":379665,"utype":1}],"discussion_count":1,"race_medal":1,"score":5,"product_id":100093501,"comment_content":"è€å¸ˆçš„è¯¾è´¨é‡å¾ˆé«˜ï¼Œä½†å»ºè®®å…ˆå¤§æ¦‚è¿‡ä¸€éGoå®˜æ–¹æ–‡æ¡£å’ŒGo by Exampleåå†çœ‹ã€‚ä¸ç„¶æœ‰äº›æ¦‚å¿µä¸€æ—¶æˆ–è®¸ç†è§£ä¸äº†ã€‚\n","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":641641,"discussion_content":"éšç€Goç‰ˆæœ¬çš„æ¼”è¿›ï¼Œç¼–è¯‘å™¨ä¼˜åŒ–çš„æå‡ï¼Œbenchmarkç»“æœä¼šæœ‰å˜åŒ–ã€‚ä½ çš„ç¤ºä¾‹ä¸­åŸç”Ÿ+æ¥è¿æ¥ä¸¤ä¸ªstringçš„ç¡®æ€§èƒ½å¾ˆå¥½ï¼Œå…¶åŸå› æ˜¯å› ä¸ºä½ ç”¨äº†ä¸¤ä¸ªå­—ç¬¦ä¸²å­—é¢å€¼è¿›è¡Œäº†è¿æ¥ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶ä¼šç›´æ¥å°†å…¶ä¼˜åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶åšèµ‹å€¼æ“ä½œï¼ŒçœŸæ­£æ‰§è¡Œæ—¶ï¼Œæ ¹æœ¬æ²¡æœ‰æ‰§è¡Œâ€œ+â€è¿™ä¸ªæ“ä½œã€‚\n\nä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªç”¨ä¾‹çœ‹ä¸€ä¸‹ï¼š\n\nfunc BenchmarkSimpleJoin1(b *testing.B) {\n    var s = &#34;cluster_id&#34;\n    for i := 0; i &lt; b.N; i++ {\n        _ = s + &#34;9930037e-3ed6-4aff-b991-in01&#34;\n    }\n}\n\nåœ¨æˆ‘çš„ç”µè„‘ä¸Šè¿è¡Œç»“æœå¦‚ä¸‹ï¼š\n\n$go test -bench .    \ngoos: darwin\ngoarch: amd64\npkg: demo\n\nBenchmarkBuilder-8       \t17140472\t        84.48 ns/op\nBenchmarkJoin-8          \t25367179\t        45.25 ns/op\nBenchmarkSprintf-8       \t13941495\t        82.84 ns/op\nBenchmarkSimpleJoin-8    \t1000000000\t         0.2723 ns/op\nBenchmarkSimpleJoin1-8   \t32210946\t        39.12 ns/op\nPASS\nok  \tdemo\t5.714s\n\næˆ‘çš„goç‰ˆæœ¬æ˜¯1.22.0ã€‚\n\nä¸è¿‡åœ¨è¿™ä¸ªç®€å•çš„åœºæ™¯ä¸‹ï¼Œ&#34;+&#34;æ“ä½œç›¸å¯¹äºjoinã€builderï¼Œä¾æ—§æ˜¯æœ€å¿«çš„é‚£ä¸ªï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1712840564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321079,"user_name":"Calvin","can_delete":false,"product_type":"c1","uid":1603004,"ip_address":"","ucode":"0EEF5B207623B5","user_header":"https://static001.geekbang.org/account/avatar/00/18/75/bc/89d88775.jpg","comment_is_top":false,"comment_ctime":1636649163,"is_pvip":false,"replies":[{"id":116757,"content":"javaä¸­==æ˜¯æ¯”è¾ƒæ˜¯å¦æ˜¯åŒä¸€å¯¹è±¡ã€‚è‹¥è¦æ¯”å†…å®¹ï¼Œåº”è¯¥ç”¨equalsæ–¹æ³•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636929805,"ip_address":"","comment_id":321079,"utype":1}],"discussion_count":4,"race_medal":0,"score":5,"product_id":100093501,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæƒ³è¯·æ•™ä¸‹ Go ä¸­çš„ == å­—ç¬¦ä¸²æ¯”è¾ƒå’Œ Java ä¸­çš„æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ\nJava ä¸­å¥½åƒæ˜¯å­—ç¬¦ä¸²å†…å­˜åœ°å€çš„æ¯”è¾ƒï¼Œå› ä¸º java.lang.String æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530210,"discussion_content":"javaä¸­==æ˜¯æ¯”è¾ƒæ˜¯å¦æ˜¯åŒä¸€å¯¹è±¡ã€‚è‹¥è¦æ¯”å†…å®¹ï¼Œåº”è¯¥ç”¨equalsæ–¹æ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636929805,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553894,"discussion_content":"æ–‡æ¡£å†…å®¹ï¼š\n\né‰´äº Go string ç±»å‹æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥è¯´å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ä¸ç›¸åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸éœ€è¦æ¯”è¾ƒå…·ä½“å­—ç¬¦ä¸²æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ–­å®šä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸åŒçš„ã€‚ä½†æ˜¯å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦ç›¸åŒï¼Œå°±è¦è¿›ä¸€æ­¥åˆ¤æ–­ï¼Œæ•°æ®æŒ‡é’ˆæ˜¯å¦æŒ‡å‘åŒä¸€å—åº•å±‚å­˜å‚¨æ•°æ®ã€‚å¦‚æœè¿˜ç›¸åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¯´ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯ç­‰ä»·çš„ï¼Œå¦‚æœä¸åŒï¼Œé‚£å°±è¿˜éœ€è¦è¿›ä¸€æ­¥å»æ¯”å¯¹å®é™…çš„æ•°æ®å†…å®¹ã€‚\n\nå·²ç»å›ç­”äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646127788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2735072,"avatar":"https://static001.geekbang.org/account/avatar/00/29/bb/e0/c7cd5170.jpg","nickname":"Bynow","note":"","ucode":"1E4F3ADD65CF18","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414224,"discussion_content":"æ–‡ä¸­ä¸æ˜¯è®²äº†goçš„å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636695694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1603004,"avatar":"https://static001.geekbang.org/account/avatar/00/18/75/bc/89d88775.jpg","nickname":"Calvin","note":"","ucode":"0EEF5B207623B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2735072,"avatar":"https://static001.geekbang.org/account/avatar/00/29/bb/e0/c7cd5170.jpg","nickname":"Bynow","note":"","ucode":"1E4F3ADD65CF18","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414225,"discussion_content":"Goçš„æ˜¯åªæ¯”è¾ƒå­—ç¬¦ä¸²å­—é¢å€¼ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636697181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":414224,"ip_address":"","group_id":0},"score":414225,"extra":""}]}]},{"had_liked":false,"id":320925,"user_name":"Calvin","can_delete":false,"product_type":"c1","uid":1603004,"ip_address":"","ucode":"0EEF5B207623B5","user_header":"https://static001.geekbang.org/account/avatar/00/18/75/bc/89d88775.jpg","comment_is_top":false,"comment_ctime":1636560511,"is_pvip":false,"replies":[{"id":116732,"content":"åŸæ–‡æœ‰é—®é¢˜ï¼Œå·²æ›´æ­£ï¼Œè¯·ç”¨æœ€æ–°å†…å®¹é‡è¯•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636902619,"ip_address":"","comment_id":320925,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100093501,"comment_content":"è€å¸ˆï¼Œæˆ‘å¤åˆ¶å¹¶è¯•äº†æ–‡ç« ä¸­çš„å¤šè¡Œå­—ç¬¦ä¸²ä¾‹å­ï¼Œä¸ºä»€ä¹ˆæŠ¥é”™çš„å‘¢ï¼Ÿ\n\n[setup failed]\nstring_test.go:105:26: expected &#39;;&#39;, found `*g*\\&quot;*, \n &#47; __&#47; &#47;&#39;     ^.  &#47;      \\ ^@q   f \n[  @f | @))    |  | @))   l  0 _&#47;  \n \\`\nFAIL","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530210,"discussion_content":"javaä¸­==æ˜¯æ¯”è¾ƒæ˜¯å¦æ˜¯åŒä¸€å¯¹è±¡ã€‚è‹¥è¦æ¯”å†…å®¹ï¼Œåº”è¯¥ç”¨equalsæ–¹æ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636929805,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553894,"discussion_content":"æ–‡æ¡£å†…å®¹ï¼š\n\né‰´äº Go string ç±»å‹æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥è¯´å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ä¸ç›¸åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸éœ€è¦æ¯”è¾ƒå…·ä½“å­—ç¬¦ä¸²æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ–­å®šä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸åŒçš„ã€‚ä½†æ˜¯å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦ç›¸åŒï¼Œå°±è¦è¿›ä¸€æ­¥åˆ¤æ–­ï¼Œæ•°æ®æŒ‡é’ˆæ˜¯å¦æŒ‡å‘åŒä¸€å—åº•å±‚å­˜å‚¨æ•°æ®ã€‚å¦‚æœè¿˜ç›¸åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¯´ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯ç­‰ä»·çš„ï¼Œå¦‚æœä¸åŒï¼Œé‚£å°±è¿˜éœ€è¦è¿›ä¸€æ­¥å»æ¯”å¯¹å®é™…çš„æ•°æ®å†…å®¹ã€‚\n\nå·²ç»å›ç­”äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646127788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2735072,"avatar":"https://static001.geekbang.org/account/avatar/00/29/bb/e0/c7cd5170.jpg","nickname":"Bynow","note":"","ucode":"1E4F3ADD65CF18","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414224,"discussion_content":"æ–‡ä¸­ä¸æ˜¯è®²äº†goçš„å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636695694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1603004,"avatar":"https://static001.geekbang.org/account/avatar/00/18/75/bc/89d88775.jpg","nickname":"Calvin","note":"","ucode":"0EEF5B207623B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2735072,"avatar":"https://static001.geekbang.org/account/avatar/00/29/bb/e0/c7cd5170.jpg","nickname":"Bynow","note":"","ucode":"1E4F3ADD65CF18","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414225,"discussion_content":"Goçš„æ˜¯åªæ¯”è¾ƒå­—ç¬¦ä¸²å­—é¢å€¼ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636697181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":414224,"ip_address":"","group_id":0},"score":414225,"extra":""}]}]},{"had_liked":false,"id":320921,"user_name":"è¿›åŒ–èŒ","can_delete":false,"product_type":"c1","uid":1276861,"ip_address":"","ucode":"B30A5F78BB4171","user_header":"https://static001.geekbang.org/account/avatar/00/13/7b/bd/ccb37425.jpg","comment_is_top":false,"comment_ctime":1636558951,"is_pvip":true,"replies":[{"id":116751,"content":"å®è¯å®è¯´ï¼Œè¿™ä¸ªå¤šå¹´äº†ï¼Œæˆ‘è¿˜æ²¡é‡åˆ°è¿‡ã€‚é™¤éä½ çš„ç¯å¢ƒä½¿ç”¨çš„ä¸æ˜¯utf8ç¼–ç æ–¹å¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":1026224,"ctime":1636928514,"ip_address":"","comment_id":320921,"utype":1}],"discussion_count":1,"race_medal":4,"score":5,"product_id":100093501,"comment_content":"å­—ç¬¦ä¸²æ˜¯å¾ˆå¸¸ç”¨çš„ä¸œè¥¿ï¼Œä¸ç”±å¾—åœ¨æƒ³ï¼Œgoåº”è¯¥ä¹Ÿæœ‰å­—ç¬¦ä¸²ä¹±ç çš„é—®é¢˜å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530164,"discussion_content":"å®è¯å®è¯´ï¼Œè¿™ä¸ªå¤šå¹´äº†ï¼Œæˆ‘è¿˜æ²¡é‡åˆ°è¿‡ã€‚é™¤éä½ çš„ç¯å¢ƒä½¿ç”¨çš„ä¸æ˜¯utf8ç¼–ç æ–¹å¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636928514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320750,"user_name":"Aaron Liu","can_delete":false,"product_type":"c1","uid":1125662,"ip_address":"","ucode":"DECCD16350C2A7","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/1e/4a93ebb5.jpg","comment_is_top":false,"comment_ctime":1636504019,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100093501,"comment_content":"è¿™æ˜¯è§è¿‡è®²stringæœ€è¯¦ç»†çš„ï¼ŒåŸç†ï¼Œå®æ“ï¼Œå¯¹æ¯”ï¼ŒèƒŒåçš„è®¾è®¡ä»¥åŠå¸¸ç”¨æ–¹æ³•ï¼Œå¾ˆé€å½»ï¼Œç»§ç»­å­¦ä¹ ","like_count":30},{"had_liked":false,"id":350570,"user_name":"è èå¹é›ªâ€”Code","can_delete":false,"product_type":"c1","uid":1650378,"ip_address":"","ucode":"A5B2FC661EE17D","user_header":"https://static001.geekbang.org/account/avatar/00/19/2e/ca/469f7266.jpg","comment_is_top":false,"comment_ctime":1657008377,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100093501,"comment_content":"goos: windows\ngoarch: amd64\npkg: string-benchmark\ncpu: Intel(R) Core(TM) i7-8565U CPU @ 1.80GHz\nBenchmarkPlusConcat-8           22668925                68.85 ns&#47;op          160 B&#47;op          1 allocs&#47;op\nBenchmarkSprintfConcat-8         6583195               258.9 ns&#47;op            96 B&#47;op          1 allocs&#47;op\nBenchmarkBuilderConcat-8        20633268                55.04 ns&#47;op           80 B&#47;op          1 allocs&#47;op\nBenchmarkBufferConcat-8         10203872               113.0 ns&#47;op           160 B&#47;op          2 allocs&#47;op\nBenchmarkByteConcat-8           15657415               100.2 ns&#47;op           160 B&#47;op          2 allocs&#47;op\nBenchmarkPreByteConcat-8        14895951                91.24 ns&#47;op          160 B&#47;op          2 allocs&#47;op\nBenchmarkBuilderGrow-8             13224            194728 ns&#47;op         1064961 B&#47;op          1 allocs&#47;op\nBenchmarkBufferGrow-8              10000            112001 ns&#47;op          802819 B&#47;op          1 allocs&#47;op\nPASS\nok      string-benchmark        14.616s\n\næˆ‘çš„å‹æµ‹ç»“æœï¼Œå’Œä¸€æ¥¼ç«¥é‹æœ‰ç‚¹å·®å¼‚","like_count":0},{"had_liked":false,"id":321371,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1636815875,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":6,"product_id":100093501,"comment_content":"è¿™æ‰æ˜¯æœ€é“çš„ä»”\n         ,_---~~~~~----._\n_,,_,*^____      _____*g*\\&quot;*,--,\n&#47; __&#47; &#47;&#39;     ^.  &#47;      \\ ^@q   f\n[  @f | @))    |  | @))   l  0 _&#47;\n\\&#47;   \\~____ &#47; __ \\_____&#47;     \\\n|           _l__l_           I\n}          [______]           I\n]            | | |            |\n]             ~ ~             |\n|                            |\n |                           |","like_count":0},{"had_liked":false,"id":320993,"user_name":"è±†è…å±…å£«","can_delete":false,"product_type":"c1","uid":1100239,"ip_address":"","ucode":"F7C82FEB60C2B8","user_header":"https://static001.geekbang.org/account/avatar/00/10/c9/cf/af720d94.jpg","comment_is_top":false,"comment_ctime":1636612698,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100093501,"comment_content":"å‚¬æ›´ã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":320831,"user_name":"TonyGao","can_delete":false,"product_type":"c1","uid":2827964,"ip_address":"","ucode":"75E9F13CB7C66D","user_header":"https://static001.geekbang.org/account/avatar/00/2b/26/bc/a73e4275.jpg","comment_is_top":false,"comment_ctime":1636525350,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100093501,"comment_content":"+ï¼Œ+= å’Œ fmt.Sprintfæ•ˆç‡åº”è¯¥æ˜¯æœ€å·®çš„ï¼Œstrings.Builderå’Œstrings.Joinæ€§èƒ½åº”è¯¥ä¸é”™ï¼Œç‰¹åˆ«æ˜¯strings.Join","like_count":0},{"had_liked":false,"id":320822,"user_name":"é…¥å®è¯ä¸å¤š","can_delete":false,"product_type":"c1","uid":2564698,"ip_address":"","ucode":"3B9BF256682504","user_header":"https://static001.geekbang.org/account/avatar/00/27/22/5a/873ac981.jpg","comment_is_top":false,"comment_ctime":1636522573,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100093501,"comment_content":"ä¸åŠ é”çš„æ€§èƒ½å¼º","like_count":0},{"had_liked":false,"id":320750,"user_name":"Aaron Liu","can_delete":false,"product_type":"c1","uid":1125662,"ip_address":"","ucode":"DECCD16350C2A7","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/1e/4a93ebb5.jpg","comment_is_top":false,"comment_ctime":1636504019,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100093501,"comment_content":"è¿™æ˜¯è§è¿‡è®²stringæœ€è¯¦ç»†çš„ï¼ŒåŸç†ï¼Œå®æ“ï¼Œå¯¹æ¯”ï¼ŒèƒŒåçš„è®¾è®¡ä»¥åŠå¸¸ç”¨æ–¹æ³•ï¼Œå¾ˆé€å½»ï¼Œç»§ç»­å­¦ä¹ ","like_count":30},{"had_liked":false,"id":350570,"user_name":"è èå¹é›ªâ€”Code","can_delete":false,"product_type":"c1","uid":1650378,"ip_address":"","ucode":"A5B2FC661EE17D","user_header":"https://static001.geekbang.org/account/avatar/00/19/2e/ca/469f7266.jpg","comment_is_top":false,"comment_ctime":1657008377,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100093501,"comment_content":"goos: windows\ngoarch: amd64\npkg: string-benchmark\ncpu: Intel(R) Core(TM) i7-8565U CPU @ 1.80GHz\nBenchmarkPlusConcat-8           22668925                68.85 ns&#47;op          160 B&#47;op          1 allocs&#47;op\nBenchmarkSprintfConcat-8         6583195               258.9 ns&#47;op            96 B&#47;op          1 allocs&#47;op\nBenchmarkBuilderConcat-8        20633268                55.04 ns&#47;op           80 B&#47;op          1 allocs&#47;op\nBenchmarkBufferConcat-8         10203872               113.0 ns&#47;op           160 B&#47;op          2 allocs&#47;op\nBenchmarkByteConcat-8           15657415               100.2 ns&#47;op           160 B&#47;op          2 allocs&#47;op\nBenchmarkPreByteConcat-8        14895951                91.24 ns&#47;op          160 B&#47;op          2 allocs&#47;op\nBenchmarkBuilderGrow-8             13224            194728 ns&#47;op         1064961 B&#47;op          1 allocs&#47;op\nBenchmarkBufferGrow-8              10000            112001 ns&#47;op          802819 B&#47;op          1 allocs&#47;op\nPASS\nok      string-benchmark        14.616s\n\næˆ‘çš„å‹æµ‹ç»“æœï¼Œå’Œä¸€æ¥¼ç«¥é‹æœ‰ç‚¹å·®å¼‚","like_count":0},{"had_liked":false,"id":321371,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1636815875,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":6,"product_id":100093501,"comment_content":"è¿™æ‰æ˜¯æœ€é“çš„ä»”\n         ,_---~~~~~----._\n_,,_,*^____      _____*g*\\&quot;*,--,\n&#47; __&#47; &#47;&#39;     ^.  &#47;      \\ ^@q   f\n[  @f | @))    |  | @))   l  0 _&#47;\n\\&#47;   \\~____ &#47; __ \\_____&#47;     \\\n|           _l__l_           I\n}          [______]           I\n]            | | |            |\n]             ~ ~             |\n|                            |\n |                           |","like_count":0,"discussions":[{"author":{"id":1556406,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/iaXcnYOjwO39gSSyo0CprNeLxx6OF80KqPz69ErJKmibMSxn5YeM4VGD6ATBnUR045ibsYjQGlAAQo5r3iaTPydTbA/132","nickname":"docker131313","note":"","ucode":"5B24734D18B57C","race_medal":5,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":641235,"discussion_content":"ä¸åƒgoå‰ç¥¥ç‰©","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1712397187,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414904,"discussion_content":"å˜å½¢äº†\nâ€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636934812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320993,"user_name":"è±†è…å±…å£«","can_delete":false,"product_type":"c1","uid":1100239,"ip_address":"","ucode":"F7C82FEB60C2B8","user_header":"https://static001.geekbang.org/account/avatar/00/10/c9/cf/af720d94.jpg","comment_is_top":false,"comment_ctime":1636612698,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100093501,"comment_content":"å‚¬æ›´ã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":320831,"user_name":"TonyGao","can_delete":false,"product_type":"c1","uid":2827964,"ip_address":"","ucode":"75E9F13CB7C66D","user_header":"https://static001.geekbang.org/account/avatar/00/2b/26/bc/a73e4275.jpg","comment_is_top":false,"comment_ctime":1636525350,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100093501,"comment_content":"+ï¼Œ+= å’Œ fmt.Sprintfæ•ˆç‡åº”è¯¥æ˜¯æœ€å·®çš„ï¼Œstrings.Builderå’Œstrings.Joinæ€§èƒ½åº”è¯¥ä¸é”™ï¼Œç‰¹åˆ«æ˜¯strings.Join","like_count":0},{"had_liked":false,"id":320822,"user_name":"é…¥å®è¯ä¸å¤š","can_delete":false,"product_type":"c1","uid":2564698,"ip_address":"","ucode":"3B9BF256682504","user_header":"https://static001.geekbang.org/account/avatar/00/27/22/5a/873ac981.jpg","comment_is_top":false,"comment_ctime":1636522573,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100093501,"comment_content":"ä¸åŠ é”çš„æ€§èƒ½å¼º","like_count":0,"discussions":[{"author":{"id":1556406,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/iaXcnYOjwO39gSSyo0CprNeLxx6OF80KqPz69ErJKmibMSxn5YeM4VGD6ATBnUR045ibsYjQGlAAQo5r3iaTPydTbA/132","nickname":"docker131313","note":"","ucode":"5B24734D18B57C","race_medal":5,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":641235,"discussion_content":"ä¸åƒgoå‰ç¥¥ç‰©","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1712397187,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414904,"discussion_content":"å˜å½¢äº†\nâ€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636934812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":431955,"title":"06 | 新的代码组织方式：Composition API + <script setup> 到底好在哪里？","content":"<p>你好，我是大圣，欢迎进入课程的第六讲。</p><p>在上一讲中，我带你搭建了项目的雏形，这是后面项目开发的起点。从今天开始，我就带你在这个骨架结构的基础之上，开始项目的实战开发。首先我们要掌握的，就是 Vue 3 的Composition API + &lt;script setup&gt;这种最新的代码组织方式。</p><p><img src=\"https://static001.geekbang.org/resource/image/6f/0a/6fd86f3d33a0200d64c7423bc88e890a.png?wh=1222x432\" alt=\"\"></p><p>我们在前面的第三讲中，有详细地讲到过 Composition API ，相信你对这个API 的语法细节已经有所掌握了。那你肯定会很好奇，这个&lt;script setup&gt;又是什么？为什么尤雨溪要在微博上强推&lt;script setup&gt;呢？</p><p>别急，今天我就带你使用Composition API 和 &lt;script setup&gt; 去重构第二讲的清单应用。在重构的过程中，你能逐渐明白，<strong>Composition API 可以让我们更好地组织代码结构</strong>，而让你感到好奇的 &lt;script setup&gt;本质上是以一种更精简的方式来书写Composition API 。</p><h2>Composition API 和 &lt;script setup&gt; 上手</h2><p>首先我想提醒你，我们在这一讲中写代码的方式，就和前面的第二讲有很大的区别。</p><p>在第二讲中，我们开发清单应用时，是直接在浏览器里使用 Options API 的方式写代码；但在接下来的开发中，我们会直接用单文件组件——也就是 <code>.vue</code> 文件，的开发方式。这种文件格式允许我们把 Vue 组件的HTML、CSS和JavaScript写在单个文件内容中。下面我带你用单文件组件的方式，去重构第二讲做的清单应用。</p><!-- [[[read_end]]] --><p>我们现在已经搭建好了项目的骨架，以后在这个骨架之内会有很多页面和组件。从这里开始，我们就要逐步适应组件化的开发思路，新的功能会以组件的方式来组织。</p><p>按照上一讲制定的规范，首先，我们打开项目文件夹下面的src下的components目录，新建一个Todolist.vue ，并在这个文件里写出下面的代码：</p><pre><code class=\"language-xml\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;h1 @click=\"add\"&gt;{{count}}&lt;/h1&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script setup&gt;\nimport { ref } from \"vue\";\nlet count = ref(1)\nfunction add(){\n    count.value++\n}\n&lt;/script&gt;\n\n&lt;style&gt;\nh1 {\n  color: red;\n}\n&lt;/style&gt;\n</code></pre><p>在上述代码中，我们使用template标签放置模板、script 标签放置逻辑代码，并且用setup标记我们使用&lt;script setup&gt;的语法，style标签放置CSS样式。</p><p>从具体效果上看，这段代码实现了一个累加器。在 &lt;script setup&gt; 语法中，我们使用引入的ref函数包裹数字，返回的count变量就是响应式的数据，使用add函数实现数字的修改。需要注意的是，对于ref返回的响应式数据，我们需要修改 <code>.value</code> 才能生效，而在 &lt;script setup&gt; 标签内定义的变量和函数，都可以在模板中直接使用。</p><p>实现累加器以后，我们再回到src/pages/Home.vue 组件中，使用如下代码显示清单应用。在这段代码里，我们直接import TodoList.vue组件，然后&lt;script setup&gt;会自动把组件注册到当前组件，这样我们就可以直接在template中使用 <todolist> 来显示清单的功能。</todolist></p><pre><code class=\"language-xml\">&lt;template&gt;\n    &lt;h1&gt;这是首页&lt;/h1&gt;\n    &lt;TodoList /&gt;    \n&lt;/template&gt;\n\n&lt;script setup&gt;\nimport TodoList from '../components/TodoList.vue'\n&lt;/script&gt;\n</code></pre><p>这个时候我们就把清单功能独立出来了，可以在任意你需要的地方复用。在课程的后续内容中，我会详细给你介绍基于组件去搭建应用的方式。<strong>通过这种方式，你可以实现对业务逻辑的复用。这样做的好处就是，如果有其他页面也需要用到这个功能，可以直接复用过去。</strong></p><p>然后，我们就可以基于新的语法实现之前的清单应用。下面的代码就是把之前的代码移植过来后，使用ref包裹的响应式数据。在你修改title和todos的时候，注意要修改响应式数据的value属性。</p><pre><code class=\"language-xml\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;input type=\"text\" v-model=\"title\" @keydown.enter=\"addTodo\" /&gt;\n    &lt;ul v-if=\"todos.length\"&gt;\n      &lt;li v-for=\"todo in todos\"&gt;\n        &lt;input type=\"checkbox\" v-model=\"todo.done\" /&gt;\n        &lt;span :class=\"{ done: todo.done }\"&gt; {{ todo.title }}&lt;/span&gt;\n      &lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script setup&gt;\nimport { ref } from \"vue\";\nlet title = ref(\"\");\nlet todos = ref([{title:'学习Vue',done:false}])\n\nfunction addTodo() {\n  todos.value.push({\n    title: title.value,\n    done: false,\n  });\n  title.value = \"\";\n}\n&lt;/script&gt;\n</code></pre><h2>计算属性</h2><p>在第二讲开发的清单应用中，我们也用到了计算属性，在Composition API的语法中，计算属性和生命周期等功能，都可以脱离Vue的组件机制单独使用 。我们向TodoList.vue代码块中加入下面的代码：</p><pre><code class=\"language-xml\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;input type=\"text\" v-model=\"title\" @keydown.enter=\"addTodo\" /&gt;\n    &lt;button v-if=\"active &lt; all\" @click=\"clear\"&gt;清理&lt;/button&gt;\n    &lt;ul v-if=\"todos.length\"&gt;\n      &lt;li v-for=\"todo in todos\"&gt;\n        &lt;input type=\"checkbox\" v-model=\"todo.done\" /&gt;\n        &lt;span :class=\"{ done: todo.done }\"&gt; {{ todo.title }}&lt;/span&gt;\n      &lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;div v-else&gt;暂无数据&lt;/div&gt;\n    &lt;div&gt;\n      全选&lt;input type=\"checkbox\" v-model=\"allDone\" /&gt;\n      &lt;span&gt; {{ active }} / {{ all }} &lt;/span&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script setup&gt;\nimport { ref,computed } from \"vue\";\nlet title = ref(\"\");\nlet todos = ref([{title:'学习Vue',done:false}])\n\nfunction addTodo() {\n...\n}\nfunction clear() {\n  todos.value = todos.value.filter((v) =&gt; !v.done);\n}\nlet active = computed(() =&gt; {\n  return todos.value.filter((v) =&gt; !v.done).length;\n});\nlet all = computed(() =&gt; todos.value.length);\nlet allDone = computed({\n  get: function () {\n    return active.value === 0;\n  },\n  set: function (value) {\n    todos.value.forEach((todo) =&gt; {\n      todo.done = value;\n    });\n  },\n});\n&lt;/script&gt;\n</code></pre><p>在这这段代码中，具体的计算属性的逻辑和第二讲一样，区别仅在于computed的用法上。你能看到，第二讲的computed是组件的一个配置项，而这里的computed的用法是单独引入使用。</p><h2>Composition API 拆分代码</h2><p>讲到这里，可能你就会意识到，之前的累加器和清单，虽然功能都很简单，但也属于两个功能模块。如果在一个页面里有这两个功能，那就需要在data和methods里分别进行配置。但这样的话，数据和方法相关的代码会写在一起，在组件代码行数多了以后就不好维护。<strong>所以，我们需要使用Composition API 的逻辑来拆分代码，把一个功能相关的数据和方法都维护在一起。</strong></p><p>但是，所有功能代码都写在一起的话，也会带来一些问题：随着功能越来越复杂，script 内部的代码也会越来越多。因此，我们可以进一步对代码进行拆分，把功能独立的模块封装成一个独立的函数，真正做到按需拆分。</p><p>在下面，我们新建了一个函数 useTodos：</p><pre><code class=\"language-xml\">function useTodos() {\n  let title = ref(\"\");\n  let todos = ref([{ title: \"学习Vue\", done: false }]);\n  function addTodo() {\n    todos.value.push({\n      title: title.value,\n      done: false,\n    });\n    title.value = \"\";\n  }\n  function clear() {\n    todos.value = todos.value.filter((v) =&gt; !v.done);\n  }\n  let active = computed(() =&gt; {\n    return todos.value.filter((v) =&gt; !v.done).length;\n  });\n  let all = computed(() =&gt; todos.value.length);\n  let allDone = computed({\n    get: function () {\n      return active.value === 0;\n    },\n    set: function (value) {\n      todos.value.forEach((todo) =&gt; {\n        todo.done = value;\n      });\n    },\n  });\n  return { title, todos, addTodo, clear, active, all, allDone };\n}\n</code></pre><p>这个函数就是把那些和清单相关的所有数据和方法，都放在函数内部定义并且返回，这样这个函数就可以放在任意的地方来维护。</p><p>而我们的组件入口，也就是&lt;script setup&gt;中的代码，就可以变得非常简单和清爽了。在下面的代码中，我们只需要调用useTodos，并且获取所需要的变量即可，具体的实现逻辑可以去useTodos内部维护，代码可维护性大大增强。</p><pre><code class=\"language-xml\">&lt;script setup&gt;\nimport { ref, computed } from \"vue\";\n\nlet count = ref(1)\nfunction add(){\n    count.value++\n}\n\nlet { title, todos, addTodo, clear, active, all, allDone } = useTodos();\n&lt;/script&gt;\n</code></pre><p>我们在使用Composition API 拆分功能时，也就是执行useTodos的时候，ref、computed等功能都是从 Vue 中单独引入，而不是依赖this上下文。其实你可以把组件内部的任何一段代码，从组件文件里抽离出一个独立的文件进行维护。</p><p>现在，我们引入追踪鼠标位置的需求进行讲解，比如我们项目中可能有很多地方需要显示鼠标的坐标位置，那我们就可以在项目的src/utils文件夹下面新建一个mouse.js。我们先从 Vue 中引入所需要的ref函数，然后暴露一个函数，函数内部和上面封装的useTodos类似，不过这次独立成了文件，放在utils文件下独立维护，提供给项目的所有组件使用。</p><pre><code class=\"language-xml\">import {ref} from 'vue'\n\nexport function useMouse(){\n\n    const x = ref(0)\n    const y = ref(0)\n\n    return {x, y}\n\n}\n</code></pre><p>想获取鼠标的位置，我们就需要监听mousemove事件。这需要在组件加载完毕后执行，在Composition API中，我们可以直接引入onMounted和onUnmounted来实现生命周期的功能。</p><p>看下面的代码，组件加载的时候，会触发onMounted生命周期，我们执行监听mousemove事件，从而去更新鼠标位置的x和y的值；组件卸载的时候，会触发onUnmounted生命周期，解除mousemove事件。</p><pre><code class=\"language-xml\">\n\nimport {ref, onMounted,onUnmounted} from 'vue'\n\nexport function useMouse(){\n    const x = ref(0)\n    const y = ref(0)\n    function update(e) {\n      x.value = e.pageX\n      y.value = e.pageY\n    }\n    onMounted(() =&gt; {\n      window.addEventListener('mousemove', update)\n    })\n  \n    onUnmounted(() =&gt; {\n      window.removeEventListener('mousemove', update)\n    })\n    return { x, y }\n}\n</code></pre><p>完成了上面的鼠标事件封装这一步之后，我们在组件的入口就可以和普通函数一样使用useMouse函数。在下面的代码中，上面的代码返回的x和y的值可以在模板任意地方使用，也会随着鼠标的移动而改变数值。</p><pre><code class=\"language-xml\">import {useMouse} from '../utils/mouse'\n\nlet {x,y} = useMouse()\n</code></pre><p>相信到这里，你一定能体会到 Composition API 对代码组织方式的好处。简单来看，<strong>因为ref和computed等功能都可以从 Vue 中全局引入，所以我们就可以把组件进行任意颗粒度的拆分和组合</strong>，这样就大大提高了代码的可维护性和复用性。</p><h2>&lt;script setup&gt; 好用的功能</h2><p>Composition API 带来的好处你已经掌握了，而&lt;script setup&gt;是为了提高我们使用Composition API 的效率而存在的。我们还用累加器来举例，如果没有&lt;script setup&gt;，那么我们需要写出下面这样的代码来实现累加器。</p><pre><code class=\"language-xml\">&lt;script &gt;\nimport { ref } from \"vue\";\nexport default {\n  setup() {\n    let count = ref(1)\n    function add() {\n      count.value++\n    }\n    return {\n      count,\n      add\n    }\n  }\n}\n&lt;/script&gt;\n</code></pre><p>在上面的代码中，我们要在&lt;script&gt;中导出一个对象。我们在setup配置函数中写代码时，和Options的写法比，也多了两层嵌套。并且，我们还要在setup函数中，返回所有需要在模板中使用的变量和方法。上面的代码中，setup函数就返回了count和add。</p><p><strong>使用 &lt;script setup&gt; 可以让代码变得更加精简，这也是现在开发 Vue 3 项目必备的写法</strong>。除了我们上面介绍的功能，&lt;script setup&gt;还有其它一些很好用的功能，比如能够使用顶层的await去请求后端的数据等等，我们会在后面的项目中看到这种使用方法。</p><h2>style样式的特性</h2><p>除了script相关的配置，我也有必要给你介绍一下style样式的配置。比如，在style标签上，当我们加上scoped这个属性的时候，我们定义的CSS就只会应用到当前组件的元素上，这样就很好地避免了一些样式冲突的问题。</p><p>我们项目中的样式也可以加上如下标签：</p><pre><code class=\"language-xml\">&lt;style scoped&gt;\nh1 {\n  color: red;\n}\n&lt;/style&gt;&gt;\n</code></pre><p>这样，组件就会解析成下面代码的样子。标签和样式的属性上，新增了data-的前缀，确保只在当前组件生效。</p><pre><code class=\"language-xml\">&lt;h1 data-v-3de47834=\"\"&gt;1&lt;/h1&gt;\n&lt;style scoped&gt;\nh1[data-v-3de47834]&nbsp;{\n    color: red;\n}\n&lt;/style&gt;\n</code></pre><p>如果在scoped内部，你还想写全局的样式，那么你可以用:global来标记，这样能确保你可以很灵活地组合你的样式代码（后面项目中用到的话，我还会结合实战进行讲解）。而且我们甚至可以通过v-bind函数，直接在CSS中使用JavaScript中的变量。</p><p>在下面这段代码中, 我在script里定义了一个响应式的color变量，并且在累加的时候，将变量随机修改为红或者蓝。在style内部，我们使用v-bind函数绑定color的值，就可以动态地通过JavaScript的变量实现CSS的样式修改，点击累加器的时候文本颜色会随机切换为红或者蓝。</p><pre><code class=\"language-xml\">&lt;template&gt;\n  &lt;div&gt;\n    &lt;h1 @click=\"add\"&gt;{{ count }}&lt;/h1&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script setup&gt;\nimport { ref } from \"vue\";\nlet count = ref(1)\nlet color = ref('red')\nfunction add() {\n  count.value++\n  color.value = Math.random()&gt;0.5? \"blue\":\"red\"\n}\n&lt;/script&gt;\n\n&lt;style scoped&gt;\nh1 {\n  color:v-bind(color);\n}\n&lt;/style&gt;&gt;\n</code></pre><p>点击累加器时文本颜色的切换效果，如下图所示：</p><p><img src=\"https://static001.geekbang.org/resource/image/59/18/5974c0d7dbce32306bd2a207a6a37f18.gif?wh=343x105\" alt=\"图片\"></p><h2>总结</h2><p>我们来总结一下今天都学到了什么吧。今天的主要任务就是使用Composition API +&lt;script setup&gt;的语法复现第二讲的清单应用，我们首先通过累加器的例子介绍了ref这个函数的使用；之后我们讲到，在Composition API的语法中，所有的功能都是通过全局引入的方式使用的，并且通过&lt;script setup&gt;的功能，我们定义的变量、函数和引入的组件，都不需要额外的生命周期，就可以直接在模板中使用。</p><p>然后，我们通过把功能拆分成函数和文件的方式，掌握到Composition API组织代码的方式，我们可以任意拆分组件的功能，抽离出独立的工具函数，大大提高了代码的可维护性。</p><p>最后我们还学习了style标签的特殊属性，通过标记scoped可以让样式只在当前的组件内部生效，还可以通过v-bind函数来使用JavaScript中的变量去渲染样式，如果这个变量是响应式数据，就可以很方便地实现样式的切换。</p><p>相信学完今天这一讲，你一定会对我们为什么需要Composition API有更进一步的认识，而对于&lt;script setup&gt;来说，则可以帮助我们更好且更简洁的写Compostion的语法。在后面，我们的项目会全部使用Composition API + &lt;script setup&gt;来进行书写。</p><h2>思考题</h2><p>最后给你留一个思考题，Composition API 和 &lt;script setup&gt; 虽然能提高开发效率，但是带来的一些新的语法，比如ref返回的数据就需要修改 value属性；响应式和生命周期也需要import后才能使用等等，很多人也在社区批评这是 Vue 造的“方言” ，那你怎么看呢？</p><p>欢迎你在留言区分享你的想法，当然也推荐你把这一讲推荐给你自己的朋友、同事。我们下一讲见！</p>","comments":[{"had_liked":false,"id":318952,"user_name":"奇奇","can_delete":false,"product_type":"c1","uid":1031906,"ip_address":"","ucode":"1AED63F069C040","user_header":"https://static001.geekbang.org/account/avatar/00/0f/be/e2/57d62270.jpg","comment_is_top":true,"comment_ctime":1635489407,"is_pvip":false,"replies":[{"id":"116563","content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","comment_id":318952,"uid":"1003715","ip_address":"","utype":1,"ctime":1636639222,"user_name_real":"花果山大圣"}],"discussion_count":1,"race_medal":0,"score":"9.2233720900298998e+18","product_id":100094401,"comment_content":"大圣，能不能搞一个 git 仓库来放每一讲的课程代码内容呢","like_count":13,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529442,"discussion_content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636639222,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318912,"user_name":"ll","can_delete":false,"product_type":"c1","uid":1296458,"ip_address":"","ucode":"57C5DAC5B51036","user_header":"https://static001.geekbang.org/account/avatar/00/13/c8/4a/3a322856.jpg","comment_is_top":false,"comment_ctime":1635479722,"is_pvip":true,"replies":[{"id":"115748","content":"太优秀了！","user_name":"作者回复","comment_id":318912,"uid":"1003715","ip_address":"","utype":1,"ctime":1635731831,"user_name_real":"花果山大圣"}],"discussion_count":5,"race_medal":0,"score":"504146653354","product_id":100094401,"comment_content":" 每节课都有很多收获！<br>  ✿ Options API vs Composition API<br>        字面上, 选项 API 与 组合 API，细品, 这反映了设计面向的改变：<br>        1. 选项，谁的选项，关键在“谁”。谁？组件。也是 Vue2.x 的设计基础。组件有什么，<br>           有状态，有改变状态的方法，有生命周期，还有组件和组件之间的关系。这种情况<br>           下，“数据”要接受一定的“规矩”，“什么时候能做什么事”，“什么时候有什么表现”；<br>           这个状态下，开发模式像是“被动接受”。<br><br>        2. 组合，什么组合，关键在“什么”。什么？数据。数据的组合。Vue3.x 设计重点变了，数<br>           据变绝对的C了，现在去组件里串门，不用“守规矩”了，只需要说“我在 onMounted 的时<br>           候要这样这样，你看着办”，真只能的以“数据”为中心，没人能管得了了，想去哪就去哪，<br>           自然就灵活了<br><br>        至于这些是怎么做到由“被动接受”到“主动告知”的，实现这部分内容，我很期待。<br><br>  ✿ 模板语法更好用<br>        &lt;script setup&gt; 像是“语法糖”，很甜；&lt;style&gt;里能用 v-bind，以后开发可以<br>        少用“黑科技”了，双手点赞。<br><br>  ✿ 至于思考题<br>        Vue 本来就属于 DSL，语法方面各有偏好，见仁见智；响应式和生命周期需要 import，个<br>        人认为就代表了从之前的“被动主动”转向“主动告知”，这样设计更加灵活。从此一条主线在<br>        ”数据&quot;，以后查 bug 顺着这条 &quot;线&quot; 应该更加容易了。","like_count":118,"discussions":[{"author":{"id":2588606,"avatar":"https://static001.geekbang.org/account/avatar/00/27/7f/be/1905ed4f.jpg","nickname":"litchi","note":"","ucode":"1FC805C151DAD0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413312,"discussion_content":"点赞","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1636443342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1296458,"avatar":"https://static001.geekbang.org/account/avatar/00/13/c8/4a/3a322856.jpg","nickname":"ll","note":"","ucode":"57C5DAC5B51036","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410593,"discussion_content":"过奖，大圣的课讲得好，受益良多，更加期待之后的内容了","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1635736725,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529426,"discussion_content":"太优秀了！","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635731831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1327016,"avatar":"https://static001.geekbang.org/account/avatar/00/14/3f/a8/8da58e53.jpg","nickname":"海阔天空","note":"","ucode":"16C87A0052A08B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411293,"discussion_content":"兄弟，给你个赞\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635897152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1201983,"avatar":"https://static001.geekbang.org/account/avatar/00/12/57/3f/d1e44ed0.jpg","nickname":"郑帮博","note":"","ucode":"99E06583DE8E3E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582029,"discussion_content":"从组件选项到数据组合，太精辟了👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659149030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"陕西"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318937,"user_name":"Condor Hero","can_delete":false,"product_type":"c1","uid":1528334,"ip_address":"","ucode":"BD850FE812D22F","user_header":"https://static001.geekbang.org/account/avatar/00/17/52/0e/c5ff46d2.jpg","comment_is_top":false,"comment_ctime":1635486672,"is_pvip":true,"discussion_count":1,"race_medal":1,"score":"143369407440","product_id":100094401,"comment_content":"本次课程的知识点可以在 Vue3 官网进行详细学习：<br><br>1. 组合式 API ： https:&#47;&#47;v3.cn.vuejs.org&#47;api&#47;composition-api.html#setup<br>2. 单文件组件 &lt;script setup&gt; ：https:&#47;&#47;v3.cn.vuejs.org&#47;api&#47;sfc-script-setup.html<br>3. 单文件组件样式特性：https:&#47;&#47;v3.cn.vuejs.org&#47;api&#47;sfc-style.html","like_count":33,"discussions":[{"author":{"id":1501818,"avatar":"https://static001.geekbang.org/account/avatar/00/16/ea/7a/d857723d.jpg","nickname":"Vfeelit","note":"","ucode":"F3FF2B069F347F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532026,"discussion_content":"蜻蜓点水 不如直接看文档","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1637502561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320883,"user_name":"琼斯基亚","can_delete":false,"product_type":"c1","uid":2311402,"ip_address":"","ucode":"24892258DF0CC2","user_header":"https://static001.geekbang.org/account/avatar/00/23/44/ea/8a9b868d.jpg","comment_is_top":false,"comment_ctime":1636538364,"is_pvip":false,"replies":[{"id":"116506","content":"cool","user_name":"作者回复","comment_id":320883,"uid":"1003715","ip_address":"","utype":1,"ctime":1636637715,"user_name_real":"花果山大圣"}],"discussion_count":1,"race_medal":0,"score":"104715753468","product_id":100094401,"comment_content":"对于value，官方是这样解释的：<br>将值封装在一个对象中，看似没有必要，但为了保持 JavaScript 中不同数据类型的行为统一，这是必须的。这是因为在 JavaScript 中，Number 或 String 等基本类型是通过值而非引用传递的：在任何值周围都有一个封装对象，这样我们就可以在整个应用中安全地传递它，而不必担心在某个地方失去它的响应性","like_count":24,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530153,"discussion_content":"cool","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636637715,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318910,"user_name":"王俊","can_delete":false,"product_type":"c1","uid":1640276,"ip_address":"","ucode":"7EDE3F56E10248","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJrIyCrRXMPXUQTR5IHNOh6niaY3MRr2mtv6W6WXcT1FHK1aic3NOhfzdaqfx3u8mmFAmibgX8xDdB2g/132","comment_is_top":false,"comment_ctime":1635478790,"is_pvip":false,"replies":[{"id":"116564","content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","comment_id":318910,"uid":"1003715","ip_address":"","utype":1,"ctime":1636639225,"user_name_real":"花果山大圣"}],"discussion_count":6,"race_medal":0,"score":"66059988230","product_id":100094401,"comment_content":"建议增加代码库，实时拉取更新，现在的代码片段看着比较麻烦","like_count":15,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529424,"discussion_content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636639225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1222886,"avatar":"https://static001.geekbang.org/account/avatar/00/12/a8/e6/54a24332.jpg","nickname":"peterpc","note":"","ucode":"48663EB8299D8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409700,"discussion_content":"同意","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1635492421,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2268008,"avatar":"","nickname":"Geek_073752","note":"","ucode":"E12AF03A05868C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413974,"discussion_content":"大大支持，后面如果很负责是实例，文案应该很难描述清楚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636625367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1231254,"avatar":"https://static001.geekbang.org/account/avatar/00/12/c9/96/4577c1ef.jpg","nickname":"沉默的话唠","note":"","ucode":"90212EF174C6E3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412060,"discussion_content":"额...其实重要的是理解过程，反倒是代码无所谓，都要自己重写的。当然有的话，普及更多人更好了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636073270,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2120663,"avatar":"https://static001.geekbang.org/account/avatar/00/20/5b/d7/d88c1850.jpg","nickname":"和某欢","note":"","ucode":"5E0F27533597F1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411779,"discussion_content":"+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636004266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1077156,"avatar":"https://static001.geekbang.org/account/avatar/00/10/6f/a4/d38fee7f.jpg","nickname":"时光说","note":"","ucode":"9BAECB9A3257F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410688,"discussion_content":"希望大圣老师早点增加代码库","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635758878,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318915,"user_name":"ch3cknull","can_delete":false,"product_type":"c1","uid":2815354,"ip_address":"","ucode":"27010F7022066B","user_header":"https://static001.geekbang.org/account/avatar/00/2a/f5/7a/7351b235.jpg","comment_is_top":false,"comment_ctime":1635480761,"is_pvip":true,"replies":[{"id":"115682","content":"这个插件把ref等导入也给自动做了，用起来也是挺方便的","user_name":"作者回复","comment_id":318915,"uid":"1003715","ip_address":"","utype":1,"ctime":1635609954,"user_name_real":"花果山大圣"}],"discussion_count":2,"race_medal":0,"score":"61765022905","product_id":100094401,"comment_content":"关于导入问题，antfu大神有一个插件unplugin-auto-import，可以自动注入依赖项，不用import<br><br>https:&#47;&#47;github.com&#47;antfu&#47;unplugin-auto-import<br><br>.value问题貌似最新的ref语法糖可以算是一个解决方案，但是目前褒贬不一，我不推荐现在就用","like_count":14,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529428,"discussion_content":"这个插件把ref等导入也给自动做了，用起来也是挺方便的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635609954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2815354,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/f5/7a/7351b235.jpg","nickname":"ch3cknull","note":"","ucode":"27010F7022066B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410219,"discussion_content":"另外，unplugin-auto-import也可以用于其他库，但是需要手动配置自动导入的库和范围，同时支持rollup和webpack\n\n这个库提供了全局的vue api 零配置 开箱即用\nhttps://github.com/antfu/vue-global-api\n\n可以根据需要自行取舍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635612274,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318846,"user_name":"cwang","can_delete":false,"product_type":"c1","uid":1465246,"ip_address":"","ucode":"04CB9F4CA2CEAD","user_header":"https://static001.geekbang.org/account/avatar/00/16/5b/9e/a8dec12d.jpg","comment_is_top":false,"comment_ctime":1635467452,"is_pvip":false,"replies":[{"id":"115913","content":"useTodos没有独立出文件，只是封装成一个函数还在组件内","user_name":"作者回复","comment_id":318846,"uid":"1003715","ip_address":"","utype":1,"ctime":1635936237,"user_name_real":"花果山大圣"}],"discussion_count":9,"race_medal":0,"score":"48880107708","product_id":100094401,"comment_content":"谢谢大圣老师的讲解。其中清单应用中，独立出来的useTodos函数，放在了哪里进行维护？并且，在使用这个函数时：let { title, ……} = useTodos() ，是不是还要对它进行一个引用？谢谢。","like_count":11,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529397,"discussion_content":"useTodos没有独立出文件，只是封装成一个函数还在组件内","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635936237,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1222886,"avatar":"https://static001.geekbang.org/account/avatar/00/12/a8/e6/54a24332.jpg","nickname":"peterpc","note":"","ucode":"48663EB8299D8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409699,"discussion_content":"可以在同一个文件的另外一个script里写useXXX的吧","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1635492311,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1465246,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5b/9e/a8dec12d.jpg","nickname":"cwang","note":"","ucode":"04CB9F4CA2CEAD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1222886,"avatar":"https://static001.geekbang.org/account/avatar/00/12/a8/e6/54a24332.jpg","nickname":"peterpc","note":"","ucode":"48663EB8299D8A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409732,"discussion_content":"哈哈哈，太不正规了吧，倒是可以操作下。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635498110,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":409699,"ip_address":""},"score":409732,"extra":""}]},{"author":{"id":2815354,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/f5/7a/7351b235.jpg","nickname":"ch3cknull","note":"","ucode":"27010F7022066B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409662,"discussion_content":"我的理解是，单独抽离一个文件，用的时候import进来\n具体可以参考下VueUse的用法\n另外，如果在某些简单的场景下，直接import一个ref对象，组件之间是可以共享这个ref的，可以不用vuex\n不知道我这个理解对不对，还望批评指正","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1635486101,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1077156,"avatar":"https://static001.geekbang.org/account/avatar/00/10/6f/a4/d38fee7f.jpg","nickname":"时光说","note":"","ucode":"9BAECB9A3257F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410689,"discussion_content":"同问，useTodos这个函数是放在哪里维护的？直接import 引入吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635758919,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1165817,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/f9/39492855.jpg","nickname":"阿阳","note":"","ucode":"20A35FB86B1C5C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410641,"discussion_content":"同问，useTodos这个函数是放在哪里维护的？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635750018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1465246,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5b/9e/a8dec12d.jpg","nickname":"cwang","note":"","ucode":"04CB9F4CA2CEAD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409736,"discussion_content":"好像也只有这样——import ……  至于后边你说的组件间共享ref对象，没有太明白使用的场景。如果是数据共享，Vuex是专门处理这个的，那ref怎么实现呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635499164,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2815354,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/f5/7a/7351b235.jpg","nickname":"ch3cknull","note":"","ucode":"27010F7022066B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1465246,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5b/9e/a8dec12d.jpg","nickname":"cwang","note":"","ucode":"04CB9F4CA2CEAD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409750,"discussion_content":"使用场景不算宽，简单描述一下：有两个组件，将某个Ref对象单独抽离出来\n姑且称为组件A，组件B，Ref对象C\n用一个+1做例子\nRef对象C就是简单的 export const refData = ref(0)\n在组件A和组件B都分别导入这个Ref对象\n在组件内，直接修改该对象的value，是可以共享到其他组件的\n\n比如，我在组件A里触发refData.value++\n组件B的值也是会更新的，因为Ref对象是单独出来的，所以可以被共享\n","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1635502076,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":409736,"ip_address":""},"score":409750,"extra":""},{"author":{"id":1465246,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5b/9e/a8dec12d.jpg","nickname":"cwang","note":"","ucode":"04CB9F4CA2CEAD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2815354,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/f5/7a/7351b235.jpg","nickname":"ch3cknull","note":"","ucode":"27010F7022066B","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":410286,"discussion_content":"学到了，这种方式的确可以实现数据共享，相当于在全局里面创建了一个公共对象，赞一个。这种导入ref的方式，确实相比较vue2版本，灵活了很多。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635650249,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":409750,"ip_address":""},"score":410286,"extra":""}]}]},{"had_liked":false,"id":325391,"user_name":"Geek_fcdf7b","can_delete":false,"product_type":"c1","uid":2115742,"ip_address":"","ucode":"55A2DBA5C6DF79","user_header":"https://static001.geekbang.org/account/avatar/00/20/48/9e/9bbaa97d.jpg","comment_is_top":false,"comment_ctime":1638940767,"is_pvip":false,"replies":[{"id":"118322","content":"建议ref一把梭，3.2之后ref的副作用也可以用$ref解决","user_name":"作者回复","comment_id":325391,"uid":"1003715","ip_address":"","utype":1,"ctime":1639398064,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"31703711839","product_id":100094401,"comment_content":"大圣老师，请教一下，3.2版本之后，是不是定义响应式数据都可以用ref一把梭？我看有的文章是这样说的，ref在3.2之后性能进行了大幅度提升，所以建议使用ref，不管简单数据还是复杂数据都可以用ref，没必要用reactive","like_count":7,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538309,"discussion_content":"建议ref一把梭，3.2之后ref的副作用也可以用$ref解决","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639398065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319142,"user_name":"凌旭","can_delete":false,"product_type":"c1","uid":2135418,"ip_address":"","ucode":"5E653C94840CBA","user_header":"https://static001.geekbang.org/account/avatar/00/20/95/7a/2b48a36e.jpg","comment_is_top":false,"comment_ctime":1635610110,"is_pvip":false,"replies":[{"id":"115910","content":"如果这个功能没有复用的需求，可以不抽离出文件，而是放在组件内维护就可以","user_name":"作者回复","comment_id":319142,"uid":"1003715","ip_address":"","utype":1,"ctime":1635936138,"user_name_real":"花果山大圣"}],"discussion_count":2,"race_medal":0,"score":"31700381182","product_id":100094401,"comment_content":"1，Composition API +setup的写法，看起来是把vue2中属于单个组件的js代码和组件解耦了，这样可以高效复用到其他组件中，但随着业务代码的增对，这样抽离出来的js也会越来越多，到时的维护管理难度又会加大，虽然这样做杜绝了在template,script间的反复横跳，但是无法避免地需要在各个js文件中跳转呀。","like_count":7,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529514,"discussion_content":"如果这个功能没有复用的需求，可以不抽离出文件，而是放在组件内维护就可以","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635936138,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1391963,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKUw7N2IzBsOmfGtA2J4mOoxdthicpmJWutxFfficVlERkSqURowMojdbTQ4jNMqbadPlxkkQjdXd3g/132","nickname":"SXL","note":"","ucode":"6AF042AD0FE601","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411410,"discussion_content":"这时就需要考虑设计模式了，一个好的封装逻辑对于后续复用来讲是不需要反复修改的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635922797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318964,"user_name":"peterpc","can_delete":false,"product_type":"c1","uid":1222886,"ip_address":"","ucode":"48663EB8299D8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/a8/e6/54a24332.jpg","comment_is_top":false,"comment_ctime":1635492602,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"31700263674","product_id":100094401,"comment_content":"这节课的内容感觉少，但是都是干货，至于方言，哪个框架还没有自己的小黑科技，好用就好","like_count":7},{"had_liked":false,"id":329710,"user_name":"1⃣️","can_delete":false,"product_type":"c1","uid":1375706,"ip_address":"","ucode":"DDD1B98F90281C","user_header":"https://static001.geekbang.org/account/avatar/00/14/fd/da/7e0f0a02.jpg","comment_is_top":false,"comment_ctime":1641484962,"is_pvip":true,"replies":[{"id":"120850","content":"vue3.2可以直接使用$ref定义一个变量<br>提案在这里<br>https:&#47;&#47;github.com&#47;vuejs&#47;rfcs&#47;discussions&#47;369","user_name":"作者回复","comment_id":329710,"uid":"1003715","ip_address":"","utype":1,"ctime":1642339484,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"27411288738","product_id":100094401,"comment_content":"ref的副作用也可以用$ref解决是什么意思？哪里能找到这个语法介绍吗？","like_count":6,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546555,"discussion_content":"vue3.2可以直接使用$ref定义一个变量\n提案在这里\nhttps://github.com/vuejs/rfcs/discussions/369","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642339484,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318881,"user_name":"超","can_delete":false,"product_type":"c1","uid":1326665,"ip_address":"","ucode":"7A76C6CB6A6B24","user_header":"https://static001.geekbang.org/account/avatar/00/14/3e/49/ff5c8f69.jpg","comment_is_top":false,"comment_ctime":1635473005,"is_pvip":false,"replies":[{"id":"119288","content":"你是windows吗？ 有几个学员反馈了windows下面的热更新问题，你先把文件名首字母大写试一下，目测是vite的一个小，我去研究下怎么修了","user_name":"作者回复","comment_id":318881,"uid":"1003715","ip_address":"","utype":1,"ctime":1640231328,"user_name_real":"编辑"}],"discussion_count":6,"race_medal":0,"score":"27405276781","product_id":100094401,"comment_content":"请问大圣，如果把useTodos单独抽成一个js文件，改js里的文件，浏览器界面不会自动热重载，有啥解决方法没？是改webpack的配置吗？","like_count":6,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541015,"discussion_content":"你是windows吗？ 有几个学员反馈了windows下面的热更新问题，你先把文件名首字母大写试一下，目测是vite的一个小，我去研究下怎么修了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640231329,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2826349,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/20/6d/c16a5f67.jpg","nickname":"黎川","note":"","ucode":"EA55A6763FC00B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540499,"discussion_content":"因为你的router文件里面的引入的页面名字是大写，而页面文件名是小写，改成一致的就可以了","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1640070299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1235164,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d8/dc/e392c221.jpg","nickname":"阿斯顿","note":"","ucode":"5E159EDE15D320","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581510,"discussion_content":"大小写不一致，热更新就会有问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658820833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1994991,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/70/ef/3717a2c6.jpg","nickname":"Tommy","note":"","ucode":"336E7703EAD0A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574253,"discussion_content":"可以热加载呀，有点要注意的是抽出的js文件里也要引入相关依赖，比如 import { ref, computed }","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653923920,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1607721,"avatar":"https://static001.geekbang.org/account/avatar/00/18/88/29/90d9ba80.jpg","nickname":"流花","note":"","ucode":"E1B3C07536BB05","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548435,"discussion_content":"vite这不区分大小写啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643190238,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2835763,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/45/33/89d8c460.jpg","nickname":"陌荒","note":"","ucode":"254428E89AAD58","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537808,"discussion_content":"貌似可以自动热重载呀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639203334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330067,"user_name":"月落梅影","can_delete":false,"product_type":"c1","uid":2136782,"ip_address":"","ucode":"6816EE0D363F46","user_header":"https://static001.geekbang.org/account/avatar/00/20/9a/ce/89430cc1.jpg","comment_is_top":false,"comment_ctime":1641784081,"is_pvip":false,"replies":[{"id":"120847","content":"感谢建议，你指的是有些前置知识需要讲解吗？我去看下李兵老师的课学习学习","user_name":"作者回复","comment_id":330067,"uid":"1003715","ip_address":"","utype":1,"ctime":1642338745,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"14526685969","product_id":100094401,"comment_content":"以前在极客时间上买了李兵老师浏览器相关的课程，现在再来看大圣老师的课，觉得差别还是挺大的，大圣老师的课程中，经常出现相信你一定怎样怎样，觉得缺乏一根主线。","like_count":3,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546551,"discussion_content":"感谢建议，你指的是有些前置知识需要讲解吗？我去看下李兵老师的课学习学习","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642338745,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326143,"user_name":"流星的泪痕","can_delete":false,"product_type":"c1","uid":1002617,"ip_address":"","ucode":"78AD20851DABDD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4c/79/390fa870.jpg","comment_is_top":false,"comment_ctime":1639393105,"is_pvip":false,"replies":[{"id":"118304","content":"useTodos没有拆分出文件，直接放在当前作用域使用，所以没有import的需求","user_name":"作者回复","comment_id":326143,"uid":"1003715","ip_address":"","utype":1,"ctime":1639395201,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"14524294993","product_id":100094401,"comment_content":"useTodos() 放到哪里去？上面的代码也没看到引用useTodos js相关文件。去查看了 https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course 代码里面好像也没有看到useTodos()这个函数","like_count":3,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538285,"discussion_content":"useTodos没有拆分出文件，直接放在当前作用域使用，所以没有import的需求","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639395201,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338724,"user_name":"李亮","can_delete":false,"product_type":"c1","uid":1079702,"ip_address":"","ucode":"E26284C3BF7DF1","user_header":"https://static001.geekbang.org/account/avatar/00/10/79/96/fb0d8a65.jpg","comment_is_top":false,"comment_ctime":1647685585,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10237620177","product_id":100094401,"comment_content":"useTodos是单独放置在一个文件中？","like_count":2},{"had_liked":false,"id":329902,"user_name":"SjmBreadrain","can_delete":false,"product_type":"c1","uid":2709219,"ip_address":"","ucode":"6C2F29CF146F50","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ruxj2Ko6lpWdmf4ePtUCjZU0LpicbVUuTicWaSDRkGHGMB78b3vQNNbfhlqMWlibxCLX6V0IfueFxUyxs5BlryzVQ/132","comment_is_top":false,"comment_ctime":1641635177,"is_pvip":false,"replies":[{"id":"120651","content":"现在开发基本都用script setup来写composition，如果用option语法，还是script好","user_name":"作者回复","comment_id":329902,"uid":"1003715","ip_address":"","utype":1,"ctime":1642213000,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"10231569769","product_id":100094401,"comment_content":"现在是setup 被 script setup 替代了？","like_count":2,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546181,"discussion_content":"现在开发基本都用script setup来写composition，如果用option语法，还是script好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642213000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328403,"user_name":"特供版","can_delete":false,"product_type":"c1","uid":1269739,"ip_address":"","ucode":"9D6D547DFA2C05","user_header":"https://static001.geekbang.org/account/avatar/00/13/5f/eb/ef7aa4c1.jpg","comment_is_top":false,"comment_ctime":1640705207,"is_pvip":false,"replies":[{"id":"120867","content":"感谢感谢  ","user_name":"作者回复","comment_id":328403,"uid":"1003715","ip_address":"","utype":1,"ctime":1642342478,"user_name_real":"编辑"}],"discussion_count":2,"race_medal":0,"score":"10230639799","product_id":100094401,"comment_content":"强烈建议听课前<br>过一遍vue3的文档先！<br>过一遍vue3的文档先！<br>过一遍vue3的文档先！<br>https:&#47;&#47;v3.cn.vuejs.org&#47;api&#47;<br>对老师的建议：稍微提一下setup(),再提&lt;script setup&gt;。要不然直接跳到语法糖，简直是一头雾水。<br>还有类似style的v-bind，如果是vue2没有的特性的话，希望也顺带提一嘴。<br><br>另外mac也有热更新的问题，最后把文件引用全部补全了（例如文件路径没有.js后缀等），莫名的就好使了。","like_count":2,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546577,"discussion_content":"感谢感谢  ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642342478,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1661704,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","nickname":"丁丁历险记","note":"","ucode":"A43829E454C067","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":566134,"discussion_content":"确实，我一个后端被搞懵了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650609272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321346,"user_name":"深蓝","can_delete":false,"product_type":"c1","uid":1219317,"ip_address":"","ucode":"944AE8C1F2DBC7","user_header":"https://static001.geekbang.org/account/avatar/00/12/9a/f5/71eee10b.jpg","comment_is_top":false,"comment_ctime":1636804361,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10226738953","product_id":100094401,"comment_content":"原来现在前端开发已经是基于函数式的编程思想！","like_count":2},{"had_liked":false,"id":318941,"user_name":"666de6","can_delete":false,"product_type":"c1","uid":1382382,"ip_address":"","ucode":"C5485E1AE199CB","user_header":"https://static001.geekbang.org/account/avatar/00/15/17/ee/fa085494.jpg","comment_is_top":false,"comment_ctime":1635487130,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10225421722","product_id":100094401,"comment_content":"把清单demo重新写了一遍，确实.value是有点不适应，其他还好。Composition API和&lt;script setup&gt;的体验还是可以的，还有css通过v-bind使用js变量是针不戳","like_count":2},{"had_liked":false,"id":318829,"user_name":"Zero²º²¹༺೪ೣ೪ൣོ","can_delete":false,"product_type":"c1","uid":2827061,"ip_address":"","ucode":"8BD6F201101E0E","user_header":"https://static001.geekbang.org/account/avatar/00/2b/23/35/dbec4f10.jpg","comment_is_top":false,"comment_ctime":1635451819,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10225386411","product_id":100094401,"comment_content":"速更，多用ts","like_count":2},{"had_liked":false,"id":318827,"user_name":"嘻哈","can_delete":false,"product_type":"c1","uid":1464586,"ip_address":"","ucode":"CFC390193DB437","user_header":"https://static001.geekbang.org/account/avatar/00/16/59/0a/2a087c97.jpg","comment_is_top":false,"comment_ctime":1635444521,"is_pvip":false,"replies":[{"id":"115917","content":"+10086 ","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1635936295,"ip_address":"","comment_id":318827,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10225379113","product_id":100094401,"comment_content":"感觉会 react学本节内容成本不高的","like_count":2,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529391,"discussion_content":"+10086 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635936295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318825,"user_name":"黄智勇","can_delete":false,"product_type":"c1","uid":1220878,"ip_address":"","ucode":"6B7B6D4E242146","user_header":"https://static001.geekbang.org/account/avatar/00/12/a1/0e/b98542f6.jpg","comment_is_top":false,"comment_ctime":1635439878,"is_pvip":false,"replies":[{"id":"118408","content":"3.2的新功能  确实解决了这个痛点","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1639404372,"ip_address":"","comment_id":318825,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10225374470","product_id":100094401,"comment_content":"用了$ref代替ref，就可以不用到处都是.value了","like_count":2,"discussions":[{"author":{"id":1569879,"avatar":"https://static001.geekbang.org/account/avatar/00/17/f4/57/4f5de5bb.jpg","nickname":"废喵 🌼","note":"","ucode":"84A70E27BF0E47","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548618,"discussion_content":"大圣老师，方便的话也针对这点更新一下文档的代码片段吧","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1643278236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1165817,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/f9/39492855.jpg","nickname":"阿阳","note":"","ucode":"20A35FB86B1C5C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1569879,"avatar":"https://static001.geekbang.org/account/avatar/00/17/f4/57/4f5de5bb.jpg","nickname":"废喵 🌼","note":"","ucode":"84A70E27BF0E47","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584817,"discussion_content":"支持，随着技术与时俱进。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661144925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":548618,"ip_address":"江苏"},"score":584817,"extra":""}]},{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538423,"discussion_content":"3.2的新功能  确实解决了这个痛点","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1639404372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351592,"user_name":"米兰的小铁匠","can_delete":false,"product_type":"c1","uid":2232822,"ip_address":"","ucode":"720A8AD3A99889","user_header":"","comment_is_top":false,"comment_ctime":1657968381,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5952935677","product_id":100094401,"comment_content":"为什么我的setup顶层使用await会造成页面阻塞白屏","like_count":1},{"had_liked":false,"id":340761,"user_name":"丁丁历险记","can_delete":false,"product_type":"c1","uid":1661704,"ip_address":"","ucode":"A43829E454C067","user_header":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","comment_is_top":false,"comment_ctime":1649123802,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5944091098","product_id":100094401,"comment_content":"新建了一个函数 useTodos ，这个文件放哪里？？？<br>调用的时候不用引用么？？？","like_count":1},{"had_liked":false,"id":329894,"user_name":"Cris","can_delete":false,"product_type":"c1","uid":1473520,"ip_address":"","ucode":"F8A287134F1078","user_header":"https://static001.geekbang.org/account/avatar/00/16/7b/f0/269139d5.jpg","comment_is_top":false,"comment_ctime":1641631396,"is_pvip":false,"replies":[{"id":"120222","content":"composition里没有this， ref的话直接定义一个ref变量就可以，在动画那一讲里我们有这个用法","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1641774247,"ip_address":"","comment_id":329894,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5936598692","product_id":100094401,"comment_content":"Composition API script setup 这种写法怎么访问this的呢，比如父组件想访问子组件里的某个方法，options api是通过this.$refs.xxx.show()","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544896,"discussion_content":"composition里没有this， ref的话直接定义一个ref变量就可以，在动画那一讲里我们有这个用法","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1641774247,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1473520,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7b/f0/269139d5.jpg","nickname":"Cris","note":"","ucode":"F8A287134F1078","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":544926,"discussion_content":"大圣老师我看完了动画那一节，没有啊，就是父组件怎么访问子组件里的方法","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641783876,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":544896,"ip_address":""},"score":544926,"extra":""}]}]},{"had_liked":false,"id":329240,"user_name":"鐘","can_delete":false,"product_type":"c1","uid":1518535,"ip_address":"","ucode":"0106652D5F7BD9","user_header":"https://static001.geekbang.org/account/avatar/00/17/2b/c7/9c8647c8.jpg","comment_is_top":false,"comment_ctime":1641247900,"is_pvip":true,"replies":[{"id":"120857","content":"我比较习惯用第二种写法，然后每个函数控制参数的个数，其实useFundB测试的时候主要是依赖value1和value2","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1642340065,"ip_address":"","comment_id":329240,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5936215196","product_id":100094401,"comment_content":"請問遇到這種情形怎樣處理比較好?<br>當一堆相關的邏輯會用到一些共用的變數, 目前想到兩種方式去表達, 但都覺得有問題:<br><br>1. 寫成一個函數<br>1-1 整個函數會太長, 有的人認為函數 20 行就算長了<br>1-2 裡面的函數如果要寫單元測試的話也測不到, 又或者要全部都 export 出來? 但是這樣又有測試私密函數的問題<br>```<br>function longFunction(){<br>  &#47;&#47; 1000 行代碼<br>}<br>```<br><br>2. 拆開成不同函數<br>會需要將共用變數傳來傳去, <br>單元測試也不見得比較好寫, 函式之間某些狀態會互相依賴<br>```<br>const value1 = ref()<br>const {value2, value3} = useFuncA(value1)<br>const {value4} = useFuncB(value1, value2)<br>```<br><br>我想是我在邏輯拆分上有問題, 我想將相關的邏輯寫在同一個函數中<br>這樣其他人感覺比較知道這個流程在做甚麼<br>但會用到一些共用的狀態, 然後就寫出互相糾葛的義大利麵代碼","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546562,"discussion_content":"我比较习惯用第二种写法，然后每个函数控制参数的个数，其实useFundB测试的时候主要是依赖value1和value2","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1642340065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1518535,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2b/c7/9c8647c8.jpg","nickname":"鐘","note":"","ucode":"0106652D5F7BD9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":548103,"discussion_content":"了解，謝謝老師","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643030675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":546562,"ip_address":""},"score":548103,"extra":""}]}]},{"had_liked":false,"id":329207,"user_name":"鐘","can_delete":false,"product_type":"c1","uid":1518535,"ip_address":"","ucode":"0106652D5F7BD9","user_header":"https://static001.geekbang.org/account/avatar/00/17/2b/c7/9c8647c8.jpg","comment_is_top":false,"comment_ctime":1641209534,"is_pvip":true,"replies":[{"id":"120864","content":"官方的这个demo确实有这个问题，避免重复mousemove时间的话，其实可以吧mouse的逻辑直接抽离到类似vuex的独立存储内部，统一分发","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1642341152,"ip_address":"","comment_id":329207,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5936176830","product_id":100094401,"comment_content":"關於 useMouse 這個使用案例<br>如果畫面上同時有 N 個組件都引入這個功能<br>每次畫面更新會被呼叫 N 次 onMounted<br>移動一次滑鼠會被觸發 N 次 update<br>但已經有使用 reactive , 不需要重複更新這麼多次","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546571,"discussion_content":"官方的这个demo确实有这个问题，避免重复mousemove时间的话，其实可以吧mouse的逻辑直接抽离到类似vuex的独立存储内部，统一分发","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1642341152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327337,"user_name":"黎川","can_delete":false,"product_type":"c1","uid":2826349,"ip_address":"","ucode":"EA55A6763FC00B","user_header":"https://static001.geekbang.org/account/avatar/00/2b/20/6d/c16a5f67.jpg","comment_is_top":false,"comment_ctime":1640070548,"is_pvip":false,"replies":[{"id":"119279","content":"你好，你的操作系统和node版本是多少？我去测试一下","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1640229278,"ip_address":"","comment_id":327337,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5935037844","product_id":100094401,"comment_content":"上节课提到的outer文件里面的引入的页面名字是大写，而页面文件名是小写，这样会导致页面引入的组件不热更新，我引入到home页面的todolist组件修改后，就没有出发更新，把home的名字改成小写就行了<br>import Home from &#39;..&#47;pages&#47;home.vue&#39;<br>{<br>      path: &#39;&#47;&#39;,<br>      name: &#39;Home&#39;,<br>      component: Home<br>    },","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541002,"discussion_content":"你好，你的操作系统和node版本是多少？我去测试一下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640229278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2814182,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/f0/e6/a7b1abe5.jpg","nickname":"李锦伦","note":"","ucode":"9583D304D6D777","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540781,"discussion_content":"这个问题怎么解决了，todolist这个文件我改成小写，也是没办法热更新","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640165817,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324743,"user_name":"Geek_5db5e3","can_delete":false,"product_type":"c1","uid":2861420,"ip_address":"","ucode":"2EC5C775431E2D","user_header":"","comment_is_top":false,"comment_ctime":1638600118,"is_pvip":false,"replies":[{"id":"118032","content":"有一个插件可以支持<br>https:&#47;&#47;github.com&#47;antfu&#47;unplugin-vue-components","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1638882053,"ip_address":"","comment_id":324743,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5933567414","product_id":100094401,"comment_content":"大圣老师，到时候每个页面都要引入一遍ref和生命周期之类的，感觉有点繁琐的样子，有啥办法么","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536842,"discussion_content":"有一个插件可以支持\nhttps://github.com/antfu/unplugin-vue-components","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638882053,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1035766,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/cd/f6/ad85ac99.jpg","nickname":"前端队长","note":"","ucode":"2F6ACAD6568FDE","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577783,"discussion_content":"应该是 unplugin-auto-import 吧，大圣老师说的那个是全局引入组件","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656331648,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324696,"user_name":"鱿鱼","can_delete":false,"product_type":"c1","uid":2852342,"ip_address":"","ucode":"409B9F139FF761","user_header":"https://static001.geekbang.org/account/avatar/00/2b/85/f6/0edde5c2.jpg","comment_is_top":false,"comment_ctime":1638548872,"is_pvip":false,"replies":[{"id":"118352","content":"这里是因为content要求是用引号包裹的字符串，暂时我还没找到可以直接渲染到content的语法，我需要探索一下 其实v-bind已经被编译成为css变量的形式了","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1639400259,"ip_address":"","comment_id":324696,"utype":1}],"discussion_count":4,"race_medal":0,"score":"5933516168","product_id":100094401,"comment_content":"大圣老师，我有一个问题，当我在style中使用v-bind的时候，我是这样用的：<br>import { ref } from &#39;vue&#39;;<br>let styleBind = ref(&#39;23123213&#39;)<br>let color = ref(&#39;pink&#39;)<br>&lt;&#47;script&gt;<br>&lt;style scoped&gt;<br>.test_p {<br>    color: v-bind(color);<br>}<br>.test_p::after {<br>    content: v-bind(styleBind);<br>}<br>&lt;&#47;style&gt;<br>，我在这样使用的过程中，绑定的color就有效，但是伪元素中的就无效了，这是为什么呢","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538349,"discussion_content":"这里是因为content要求是用引号包裹的字符串，暂时我还没找到可以直接渲染到content的语法，我需要探索一下 其实v-bind已经被编译成为css变量的形式了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639400259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1368376,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/dCfVz7wIUT4fM7zQO3gIwXo3BGodP5FJuCdMxobZ5dXpzBeTXiaB3icoFqj22EbIGCu1xxd1FLo9xic0a2pGnunibg/132","nickname":"风太大太大","note":"","ucode":"E0221487898D62","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":574920,"discussion_content":"let styleBind = ref(&#39;  &#34;hello&#34;  &#39;).value\n\nh1::after{\n    position: absolute;\n    top: -10px;\n    content: v-bind(styleBind);;\n}\n这样可以生效","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654436241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":538349,"ip_address":""},"score":574920,"extra":""}]},{"author":{"id":1368376,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/dCfVz7wIUT4fM7zQO3gIwXo3BGodP5FJuCdMxobZ5dXpzBeTXiaB3icoFqj22EbIGCu1xxd1FLo9xic0a2pGnunibg/132","nickname":"风太大太大","note":"","ucode":"E0221487898D62","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574919,"discussion_content":"极客对特殊字符转义了 估计怕xss， 其实就是字符串多加一层 引号  例如 &#39;  &#34; hello&#34;  &#39; ，对里面的string包一层","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654436182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1368376,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/dCfVz7wIUT4fM7zQO3gIwXo3BGodP5FJuCdMxobZ5dXpzBeTXiaB3icoFqj22EbIGCu1xxd1FLo9xic0a2pGnunibg/132","nickname":"风太大太大","note":"","ucode":"E0221487898D62","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574918,"discussion_content":"let styleBind = ref(&#39;&#34;hello&#34;&#39;).value\n\nh1::after{\n    position: absolute;\n    top: -10px;\n    content: v-bind(styleBind);;\n}\n测试了一下 这样可以生效 大圣老师可以参考","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654435867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324059,"user_name":"superZchen","can_delete":false,"product_type":"c1","uid":2665142,"ip_address":"","ucode":"74FB5DC377DC19","user_header":"https://static001.geekbang.org/account/avatar/00/28/aa/b6/81a6595f.jpg","comment_is_top":false,"comment_ctime":1638275069,"is_pvip":false,"replies":[{"id":"118363","content":"其实也不算只能监听简单的数据结构，只是设计之初是reactive的思路，后来发现如果只写一个数字或者字符串的话，reactive在模板里还需要写额外的字段不太方便，ref就用来包裹简单的数据结构， 其实ref的原理就是监听value属性，本质和reactive没有区别，而且ref针对复杂的数据结构其实就是调用了reactive，这个后面我们源码会讲解到","user_name":"作者回复","user_name_real":"作者","uid":"1003715","ctime":1639400953,"ip_address":"","comment_id":324059,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5933242365","product_id":100094401,"comment_content":"let todos = ref([<br>    {<br>      title: &#39;学习Vue3&#39;,<br>      done: false,<br>    },<br>  ]); <br>ref不是只适用于简单数据结构吗？为什么能监听数组的响应？","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538362,"discussion_content":"其实也不算只能监听简单的数据结构，只是设计之初是reactive的思路，后来发现如果只写一个数字或者字符串的话，reactive在模板里还需要写额外的字段不太方便，ref就用来包裹简单的数据结构， 其实ref的原理就是监听value属性，本质和reactive没有区别，而且ref针对复杂的数据结构其实就是调用了reactive，这个后面我们源码会讲解到","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639400953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323423,"user_name":"我的世界很小","can_delete":false,"product_type":"c1","uid":2709927,"ip_address":"","ucode":"7AA0DA80B29FC3","user_header":"https://static001.geekbang.org/account/avatar/00/29/59/a7/9a086b7e.jpg","comment_is_top":false,"comment_ctime":1637896292,"is_pvip":false,"replies":[{"id":"117369","content":"这是逻辑抽取，如果template style也抽取的话，就适合直接封装一个组件","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1637932643,"ip_address":"","comment_id":323423,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5932863588","product_id":100094401,"comment_content":"将TodoList模块中变量、函数提取到useTodos() 中，但是template、style的内容没有提取，是为了方便自定义样式和排版么？","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533677,"discussion_content":"这是逻辑抽取，如果template style也抽取的话，就适合直接封装一个组件","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637932643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":322660,"user_name":"pingxiu","can_delete":false,"product_type":"c1","uid":2832067,"ip_address":"","ucode":"905F3D851C23C3","user_header":"https://static001.geekbang.org/account/avatar/00/2b/36/c3/a56ff6a6.jpg","comment_is_top":false,"comment_ctime":1637545009,"is_pvip":false,"replies":[{"id":"117377","content":"混用倒是也没啥技巧，不过我不太建议","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1637933017,"ip_address":"","comment_id":322660,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5932512305","product_id":100094401,"comment_content":"大圣老师，composition api + option api搭配使用，怎么用方便呢","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533686,"discussion_content":"混用倒是也没啥技巧，不过我不太建议","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637933017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":322134,"user_name":"DXL","can_delete":false,"product_type":"c1","uid":2826613,"ip_address":"","ucode":"21EC88A284BE90","user_header":"https://static001.geekbang.org/account/avatar/00/2b/21/75/21222fa9.jpg","comment_is_top":false,"comment_ctime":1637202087,"is_pvip":false,"replies":[{"id":"116987","content":"源码地址在这里https:&amp;#47;&amp;#47;github.com&amp;#47;vuejs&amp;#47;vue-next&amp;#47;blob&amp;#47;master&amp;#47;packages&amp;#47;runtime-core&amp;#47;src&amp;#47;apiLifecycle.ts#L49<br>可以看到onMounted是通过createHook创建，内部是数组管理的，不会冲突的","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1637242335,"ip_address":"","comment_id":322134,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5932169383","product_id":100094401,"comment_content":"大圣，你好，我想问一下，在Composition API拆分useMouse方法时，在里面引入了mounted钩子函数，如果我在引入useMouse的.vue组件里面又引入了mounted钩子函数，两个方法会分先后执行或者冲突吗？","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531150,"discussion_content":"源码地址在这里https:&amp;#47;&amp;#47;github.com&amp;#47;vuejs&amp;#47;vue-next&amp;#47;blob&amp;#47;master&amp;#47;packages&amp;#47;runtime-core&amp;#47;src&amp;#47;apiLifecycle.ts#L49\n可以看到onMounted是通过createHook创建，内部是数组管理的，不会冲突的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637242335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321679,"user_name":"5-刘新波(Arvin)","can_delete":false,"product_type":"c1","uid":1174199,"ip_address":"","ucode":"DBD135D2587A93","user_header":"https://static001.geekbang.org/account/avatar/00/11/ea/b7/1a18a39d.jpg","comment_is_top":false,"comment_ctime":1636990104,"is_pvip":false,"replies":[{"id":"116996","content":"需要在setup内部获取当前组件的实例，比如生命周期的代码里<br>https:&amp;#47;&amp;#47;github.com&amp;#47;vuejs&amp;#47;vue-next&amp;#47;blob&amp;#47;master&amp;#47;packages&amp;#47;runtime-core&amp;#47;src&amp;#47;apiLifecycle.ts#L68， 在injectHook中，我们使用currentInstance获取当前组件的实例，具体currentInstance的管理在component.ts中有setCurrentInstance方法，这个方法会在setupStatefulComponent，也就是组件setup启动的时候执行","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1637243287,"ip_address":"","comment_id":321679,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5931957400","product_id":100094401,"comment_content":"这种简化代码组织方式是怎么实现的？感觉是把原来组件里的东西抽到vue包全局层面了。vue是如何识别的，并完成一个组件生命周期，状态数据的维护组装的？","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531161,"discussion_content":"需要在setup内部获取当前组件的实例，比如生命周期的代码里\nhttps:&amp;#47;&amp;#47;github.com&amp;#47;vuejs&amp;#47;vue-next&amp;#47;blob&amp;#47;master&amp;#47;packages&amp;#47;runtime-core&amp;#47;src&amp;#47;apiLifecycle.ts#L68， 在injectHook中，我们使用currentInstance获取当前组件的实例，具体currentInstance的管理在component.ts中有setCurrentInstance方法，这个方法会在setupStatefulComponent，也就是组件setup启动的时候执行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637243287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320973,"user_name":"Temp","can_delete":false,"product_type":"c1","uid":1462806,"ip_address":"","ucode":"4E1A458CC04186","user_header":"https://static001.geekbang.org/account/avatar/00/16/52/16/ba6fe9a5.jpg","comment_is_top":false,"comment_ctime":1636602054,"is_pvip":false,"replies":[{"id":"116500","content":"不算冗余了，其实github上有vite的插件可以不写vue这些默认的函数，不过显示的引用，有助于我们的代码提示，也有利于Treeshaking","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636637605,"ip_address":"","comment_id":320973,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5931569350","product_id":100094401,"comment_content":"大圣老师, 如果存在多个useXXX.js 函数的话, 每个函数可能都需要导入 import { ref } from &#39;vue&#39; , 这样不会冗余吗? 还是说 vue 在某些步骤做了优化?","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530175,"discussion_content":"不算冗余了，其实github上有vite的插件可以不写vue这些默认的函数，不过显示的引用，有助于我们的代码提示，也有利于Treeshaking","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636637605,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320559,"user_name":"wjxfhxy","can_delete":false,"product_type":"c1","uid":1361015,"ip_address":"","ucode":"3BCA6692F7C024","user_header":"https://static001.geekbang.org/account/avatar/00/14/c4/77/c8783e83.jpg","comment_is_top":false,"comment_ctime":1636378097,"is_pvip":false,"replies":[{"id":"116513","content":"其实可以但是没有必要。。 函数就可以解决封装的问题，这里useTodo还没有复杂到需要class","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636637984,"ip_address":"","comment_id":320559,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5931345393","product_id":100094401,"comment_content":"useTodos为什么要封装成函数？<br>在ts中，能封装成类: class UseTodos(){}，然后在setup中 new UseTodos()吗？","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530047,"discussion_content":"其实可以但是没有必要。。 函数就可以解决封装的问题，这里useTodo还没有复杂到需要class","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636637984,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319791,"user_name":"Kevin","can_delete":false,"product_type":"c1","uid":1129186,"ip_address":"","ucode":"8FE9CE88EA0C57","user_header":"https://static001.geekbang.org/account/avatar/00/11/3a/e2/c48bd3b7.jpg","comment_is_top":false,"comment_ctime":1635942630,"is_pvip":false,"replies":[{"id":"118397","content":"非常好的问题todos.value.length是可以直接使用的，问题就在于template谢太多的js逻辑会显得很冗余，computed存在的意义在于可以针对响应式数据进行二次计算，而且还会有一个缓存的管理，比我们直接写函数要好一点点<br><br>all.getter和computed区别也是一样，你需要在模板里这么写all.getter(),每次重新渲染都会执行这个函数<br>","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1639403583,"ip_address":"","comment_id":319791,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5930909926","product_id":100094401,"comment_content":"移动端转前端，有一下代码感觉比较怪异：<br>`let all = computed(() =&gt; todos.value.length)`<br>这里面是说明`all`是一个动态计算的变量，为啥就不能直接使用 ` todos.value.length`? 我在Android 开发的时候，很自然的就会给`all` 映射未对应的Getter方法`getAll`，就很简洁，而上述的代码就显得很啰嗦。<br>更优雅的语法是不是应该类似这样的：<br>`let all.getter = ()=&gt;  todos.value.length` 这样语义也更加的清晰，当前这个语法可能是有问题的。<br><br>多年Java经验，现在学前端，有此疑惑，盼望解答。","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538407,"discussion_content":"非常好的问题todos.value.length是可以直接使用的，问题就在于template谢太多的js逻辑会显得很冗余，computed存在的意义在于可以针对响应式数据进行二次计算，而且还会有一个缓存的管理，比我们直接写函数要好一点点\n\nall.getter和computed区别也是一样，你需要在模板里这么写all.getter(),每次重新渲染都会执行这个函数\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639403583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1347071,"avatar":"https://static001.geekbang.org/account/avatar/00/14/8d/ff/986ffb41.jpg","nickname":"轻飘飘过","note":"","ucode":"68F26121369330","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412137,"discussion_content":"个人理解：js变量命名不支持all.getter这样的，直接=todos.value.length是字面量赋值了，computed包装一下是建立了引用关系","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636082314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319335,"user_name":"阿阳","can_delete":false,"product_type":"c1","uid":1165817,"ip_address":"","ucode":"20A35FB86B1C5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/c9/f9/39492855.jpg","comment_is_top":false,"comment_ctime":1635750396,"is_pvip":false,"replies":[{"id":"115907","content":"useTodos单独提取一个函数，useMouse提取一个文件","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1635936031,"ip_address":"","comment_id":319335,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5930717692","product_id":100094401,"comment_content":"请问老师，useTodos单独提取出一个函数后，是单独提取一个文件，还是放在&lt;script setup&gt;中呢？按照教程做，没说useTodos放在哪里维护。后面的useMouse是说明了放在一个单独的文件中。","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529597,"discussion_content":"useTodos单独提取一个函数，useMouse提取一个文件","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635936031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319266,"user_name":"Geek_e84263","can_delete":false,"product_type":"c1","uid":2788917,"ip_address":"","ucode":"711D79121BBD89","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/an41WXWK0xmCxYxsT3vxUFIenDSoHbJEeH6YYF6iao9K3j6qs7gfevjicb0M9Y67eRz5PZYnun8iapDrZGcp2sV1w/132","comment_is_top":false,"comment_ctime":1635727566,"is_pvip":false,"replies":[{"id":"115739","content":"收到 下次录音会注意慢一些","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1635731435,"ip_address":"","comment_id":319266,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5930694862","product_id":100094401,"comment_content":"老师，你能否讲的慢一点，语速也慢一点否，友好提示哈","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529564,"discussion_content":"收到 下次录音会注意慢一些","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635731435,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1465246,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5b/9e/a8dec12d.jpg","nickname":"cwang","note":"","ucode":"04CB9F4CA2CEAD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411479,"discussion_content":"原来还有录音，光看文字了😂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635937977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319181,"user_name":"亮","can_delete":false,"product_type":"c1","uid":2832280,"ip_address":"","ucode":"37DACBB8221C50","user_header":"https://static001.geekbang.org/account/avatar/00/2b/37/98/f889105a.jpg","comment_is_top":false,"comment_ctime":1635661390,"is_pvip":true,"replies":[{"id":"115741","content":"感谢感谢","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1635731469,"ip_address":"","comment_id":319181,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5930628686","product_id":100094401,"comment_content":"排版美观， 思路清晰， 介绍的详细而严谨， 属于上乘教程!","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529536,"discussion_content":"感谢感谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635731469,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319094,"user_name":"JC.彦","can_delete":false,"product_type":"c1","uid":1698735,"ip_address":"","ucode":"E87C1420B140F4","user_header":"https://static001.geekbang.org/account/avatar/00/19/eb/af/e49af9a8.jpg","comment_is_top":false,"comment_ctime":1635578595,"is_pvip":false,"replies":[{"id":"118410","content":"后面我们手写computed实现的时候会介绍，computed的实现原理有点和ref类似，ref使用起来更简单一些","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1639404516,"ip_address":"","comment_id":319094,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5930545891","product_id":100094401,"comment_content":"响应式不是有reactive方法吗？为什么还会有ref实现响应式。改变ref返回的响应式数据，需要加value属性，这点无可厚非，可引用计算属性的值为什么还要加value属性呢？？","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538425,"discussion_content":"后面我们手写computed实现的时候会介绍，computed的实现原理有点和ref类似，ref使用起来更简单一些","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639404516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319082,"user_name":"By:小新","can_delete":false,"product_type":"c1","uid":1440705,"ip_address":"","ucode":"69EE853262B203","user_header":"https://static001.geekbang.org/account/avatar/00/15/fb/c1/ecb11a80.jpg","comment_is_top":false,"comment_ctime":1635569655,"is_pvip":false,"replies":[{"id":"116565","content":"$ref算是最近新的解决方案了 ","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636639256,"ip_address":"","comment_id":319082,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5930536951","product_id":100094401,"comment_content":"其实这是因为ref的设计之初是为了可维护性，把ref做成了一个对象，这个对象有个_isRef属性来判断是否ref对象，这样做是为了区分 reactive声名的响应式，但是ref取值时，是通过ref的value属性，这样设计很像java的包装类型，ref.value其实尤大也已经给出了方案，那就是$(ref声名的变量)<br>通过$()避免掉 ref.value的情况","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529493,"discussion_content":"$ref算是最近新的解决方案了 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636639256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319019,"user_name":"james","can_delete":false,"product_type":"c1","uid":1232771,"ip_address":"","ucode":"AC42035106E5B9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/yyibGRYCArsUNBfCAEAibua09Yb9D5AdO8TkCmXymhAepibqmlz0hzg06ggBLxyvXicnjqFVGr7zYF0rQoZ0aXCBAg/132","comment_is_top":false,"comment_ctime":1635511359,"is_pvip":false,"replies":[{"id":"115747","content":"eslint有一批vue3的配置规则，github上也有这个讨论<br>https:&#47;&#47;github.com&#47;johnsoncodehk&#47;volar&#47;issues&#47;47","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1635731777,"ip_address":"","comment_id":319019,"utype":1}],"discussion_count":1,"race_medal":1,"score":"5930478655","product_id":100094401,"comment_content":"使用script setup，ESLint 会有警告 : &#39;a&#39; is assigned a value but never used.eslint@typescript-eslint&#47;no-unused-vars<br>只能在eslint中配置去除警告吗","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529458,"discussion_content":"eslint有一批vue3的配置规则，github上也有这个讨论\nhttps://github.com/johnsoncodehk/volar/issues/47","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635731777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318909,"user_name":"Warn","can_delete":false,"product_type":"c1","uid":1465310,"ip_address":"","ucode":"F2F7FCDB0940D0","user_header":"https://static001.geekbang.org/account/avatar/00/16/5b/de/152f1c2c.jpg","comment_is_top":false,"comment_ctime":1635478773,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5930446069","product_id":100094401,"comment_content":"示例中ref变量可以使用const来替代let定义的。<br>style使用v-bind来调用JavaScript定义的变量，受教了，感觉对于主题定制很友好啊（希望大圣老师能在以后的课程中，继续穿插一些这种style的小技能点比如sass的v-deep等等）。<br><br>另外，框架的优化提升过程中约定一些方言，是无可厚非的吖。","like_count":1},{"had_liked":false,"id":318836,"user_name":"Johnson","can_delete":false,"product_type":"c1","uid":1326108,"ip_address":"","ucode":"C6B6FF9EA4CC60","user_header":"https://static001.geekbang.org/account/avatar/00/14/3c/1c/47e5b7aa.jpg","comment_is_top":false,"comment_ctime":1635465172,"is_pvip":false,"replies":[{"id":"115915","content":"JSX确实也算方言，不过这么多年的发展，JSX其实算是组件化的事实标准之一了","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1635936269,"ip_address":"","comment_id":318836,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5930432468","product_id":100094401,"comment_content":"如果这个算方言的话，React的JSX也是方言了。😁","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529394,"discussion_content":"JSX确实也算方言，不过这么多年的发展，JSX其实算是组件化的事实标准之一了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635936269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358916,"user_name":"ytd","can_delete":false,"product_type":"c1","uid":1038790,"ip_address":"河北","ucode":"C6AEA2D19E447A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d9/c6/8be8664d.jpg","comment_is_top":false,"comment_ctime":1665024101,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1665024101","product_id":100094401,"comment_content":"想问下大圣老师，在script setup中有阻塞代码继续执行的方法么？","like_count":0},{"had_liked":false,"id":356335,"user_name":"Soffio","can_delete":false,"product_type":"c1","uid":3167662,"ip_address":"广东","ucode":"386C0963A7D356","user_header":"https://static001.geekbang.org/account/avatar/00/30/55/ae/de8cf97c.jpg","comment_is_top":false,"comment_ctime":1662175659,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662175659","product_id":100094401,"comment_content":"顶级await怎么理解呀？怎么使用？","like_count":0},{"had_liked":false,"id":355908,"user_name":" ","can_delete":false,"product_type":"c1","uid":3167195,"ip_address":"河北","ucode":"6CDAE7E7BA322E","user_header":"https://static001.geekbang.org/account/avatar/00/30/53/db/f7df3a53.jpg","comment_is_top":false,"comment_ctime":1661845779,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1661845779","product_id":100094401,"comment_content":"1. ref 问题：既然用vue就得接受这种写法；<br>2. import：可以安装自动导入vue函数插件，避免手动导入。","like_count":0},{"had_liked":false,"id":342836,"user_name":"davidzhou","can_delete":false,"product_type":"c1","uid":1018904,"ip_address":"","ucode":"F4B2929F4111DC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/18/7cbc34eb.jpg","comment_is_top":false,"comment_ctime":1650502253,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650502253","product_id":100094401,"comment_content":"Composition API 是否可以理解为模糊了类组件而转向函数组件，数据和业务都封装在函数内部，那setup是如何hook生命周期函数呢","like_count":0},{"had_liked":false,"id":342597,"user_name":"DaiN","can_delete":false,"product_type":"c1","uid":1080351,"ip_address":"","ucode":"7DC6CB45C08B86","user_header":"https://static001.geekbang.org/account/avatar/00/10/7c/1f/281a40b8.jpg","comment_is_top":false,"comment_ctime":1650359514,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650359514","product_id":100094401,"comment_content":"setup虽然灵活减少了代码量，但是script中声明的一些中间变量本来不需要显示到页面上的，不也被暴露出去了吗？这样也不好！","like_count":0},{"had_liked":false,"id":335941,"user_name":"赵老板的猪","can_delete":false,"product_type":"c1","uid":2925461,"ip_address":"","ucode":"DB5D914C0301DE","user_header":"https://static001.geekbang.org/account/avatar/00/2c/a3/95/aa559302.jpg","comment_is_top":false,"comment_ctime":1645779892,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645779892","product_id":100094401,"comment_content":"对于大型项目而言，系统的稳健性和复杂度是衡量其是否可持续发展的重要维度，compositionAPI为VUE3处理这种项目提供了更好的支持，这种模块化的分治思想天然地适应于当前业内前端工程化发展的思想。有利也有弊，将所有代码都组织在script setup相比VUE2的options API设计更加考验开发人员对于代码模块划分的原则判断和执行能力，我认为总体上是利大于弊","like_count":0},{"had_liked":false,"id":334547,"user_name":"江弧","can_delete":false,"product_type":"c1","uid":2044702,"ip_address":"","ucode":"C6C7616CCFB058","user_header":"https://static001.geekbang.org/account/avatar/00/1f/33/1e/8584492e.jpg","comment_is_top":false,"comment_ctime":1644996397,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1644996397","product_id":100094401,"comment_content":"大圣老师：问下<br>&lt;script setup&gt;&lt;&#47;script&gt;<br>和setup() 有什么区别？","like_count":0},{"had_liked":false,"id":334000,"user_name":"Smile","can_delete":false,"product_type":"c1","uid":1361002,"ip_address":"","ucode":"674C2361FFB807","user_header":"https://static001.geekbang.org/account/avatar/00/14/c4/6a/e45bbb6b.jpg","comment_is_top":false,"comment_ctime":1644660725,"is_pvip":false,"replies":[{"id":"122067","content":"3.2其实已经解决了 参考这里https:&#47;&#47;staging-cn.vuejs.org&#47;guide&#47;extras&#47;reactivity-transform.html","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1644800291,"ip_address":"","comment_id":334000,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1644660725","product_id":100094401,"comment_content":"这个.value一下子不太好适应，把之前的小案例翻译过来报的几次错误都跟这玩意有关，不太习惯；<br>方言好用就行。","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550892,"discussion_content":"3.2其实已经解决了 参考这里https://staging-cn.vuejs.org/guide/extras/reactivity-transform.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644800291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333146,"user_name":"🍀爱马","can_delete":false,"product_type":"c1","uid":1454852,"ip_address":"","ucode":"6BF4AC35A10D83","user_header":"https://static001.geekbang.org/account/avatar/00/16/33/04/14bdd257.jpg","comment_is_top":false,"comment_ctime":1644131678,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1644131678","product_id":100094401,"comment_content":"这个世界没有只有爽没有付出的事情。跟开发效率提升带来的好处相比，这点语法上的付出还是很值得的。","like_count":0},{"had_liked":false,"id":332107,"user_name":"weiwei.mo","can_delete":false,"product_type":"c1","uid":1644983,"ip_address":"","ucode":"DA130336171AE8","user_header":"","comment_is_top":false,"comment_ctime":1643018721,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1643018721","product_id":100094401,"comment_content":"在 ts 下是不是不能用script  setup 语法糖，得用 defineComponent","like_count":0},{"had_liked":false,"id":329917,"user_name":"lianyz","can_delete":false,"product_type":"c1","uid":1330879,"ip_address":"","ucode":"A2536B49AEC4DD","user_header":"https://static001.geekbang.org/account/avatar/00/14/4e/bf/0f0754aa.jpg","comment_is_top":false,"comment_ctime":1641643975,"is_pvip":true,"replies":[{"id":"120220","content":"不好意思给你造成了困扰，理论上都是需要用大坨峰方式命名，每个地方敲得时候会漏过一些，我会尽快更新这个文章","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1641774184,"ip_address":"","comment_id":329917,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1641643975","product_id":100094401,"comment_content":"希望老师的文稿能严谨一些，一会儿是Todolist.vue，一会儿是TodoList.vue，还有Home.vue home.vue","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544894,"discussion_content":"不好意思给你造成了困扰，理论上都是需要用大坨峰方式命名，每个地方敲得时候会漏过一些，我会尽快更新这个文章","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641774184,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328558,"user_name":"都市夜归人","can_delete":false,"product_type":"c1","uid":1071909,"ip_address":"","ucode":"DFF59BE3D80B42","user_header":"https://static001.geekbang.org/account/avatar/00/10/5b/25/d78cc1fe.jpg","comment_is_top":false,"comment_ctime":1640770888,"is_pvip":true,"replies":[{"id":"120861","content":"好像没反，就是还没做完的事","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1642340206,"ip_address":"","comment_id":328558,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1640770888","product_id":100094401,"comment_content":"&lt;span&gt; {{ active }} &#47; {{ all }} &lt;&#47;span&gt;<br> {{ active }}的逻辑是否反了？","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546566,"discussion_content":"好像没反，就是还没做完的事","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642340207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1994869,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/70/75/421516b6.jpg","nickname":"Uen","note":"","ucode":"9F436AD665C8F3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547074,"discussion_content":"active  --  actived    是有区别的，所以没问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642516395,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328556,"user_name":"镜涵","can_delete":false,"product_type":"c1","uid":2056947,"ip_address":"","ucode":"7E6167C449EB12","user_header":"https://static001.geekbang.org/account/avatar/00/1f/62/f3/9573443b.jpg","comment_is_top":false,"comment_ctime":1640770172,"is_pvip":false,"replies":[{"id":"120862","content":"你说的asyncData是nuxt的吗？还是你自己实现的ssr框架","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1642340311,"ip_address":"","comment_id":328556,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640770172","product_id":100094401,"comment_content":"老师，请问下用Composition API，ssr asyncData 能写在 &lt;script setup&gt;里吗？还是常规写法，只是setup部分写到setup() {}里面？","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546567,"discussion_content":"你说的asyncData是nuxt的吗？还是你自己实现的ssr框架","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642340311,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328542,"user_name":"都市夜归人","can_delete":false,"product_type":"c1","uid":1071909,"ip_address":"","ucode":"DFF59BE3D80B42","user_header":"https://static001.geekbang.org/account/avatar/00/10/5b/25/d78cc1fe.jpg","comment_is_top":false,"comment_ctime":1640766686,"is_pvip":true,"replies":[{"id":"119788","content":"这个vscode的报错？命令行里有错误吗？可以发个代码链接我瞅瞅","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1640909468,"ip_address":"","comment_id":328542,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640766686","product_id":100094401,"comment_content":"import TodoList from &#39;..&#47;components&#47;Todolist.vue&#39; <br>修改为<br>import TodoList from &#39;..&#47;components&#47;TodoList.vue&#39;<br>后就一直报错：vsCode differs from already included file name ... only in casing.<br>即使将组件名也修改为TodoList.vue后也不行。<br>改成：import TodoList from &quot;..&#47;components&#47;TodoList&quot; 或 import TodoList from &quot;@&#47;components&#47;TodoList&quot;后虽然不提示上面的错误，但是编译报错了：<br>Failed to resolve import &quot;@&#47;components&#47;TodoList&quot; from &quot;src&#47;pages&#47;Home.vue&quot;. Does the file exist?<br>这种情况在vue2.x中是没有出现过的。<br>开发环境为：ubuntu","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":542936,"discussion_content":"这个vscode的报错？命令行里有错误吗？可以发个代码链接我瞅瞅","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640909468,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327831,"user_name":"乔帆 Kayla","can_delete":false,"product_type":"c1","uid":1883514,"ip_address":"","ucode":"81944832230BC4","user_header":"https://static001.geekbang.org/account/avatar/00/1c/bd/7a/37df606b.jpg","comment_is_top":false,"comment_ctime":1640318891,"is_pvip":false,"replies":[{"id":"119370","content":"要在setup中获取这个useTodos得返回值<br>let {todos, addTodo} = useTodos()<br>类似这种","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1640329365,"ip_address":"","comment_id":327831,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640318891","product_id":100094401,"comment_content":"拆分为UseTodos()后，该怎么用这个函数呢，我的TodoList.vue. 的  ul v-if. todos.length. 报错  cannot read properties of undefined (read length)","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541316,"discussion_content":"要在setup中获取这个useTodos得返回值\nlet {todos, addTodo} = useTodos()\n类似这种","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640329365,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327147,"user_name":"子不语","can_delete":false,"product_type":"c1","uid":2820582,"ip_address":"","ucode":"EE1B78FFEF63D8","user_header":"https://static001.geekbang.org/account/avatar/00/2b/09/e6/6af2969f.jpg","comment_is_top":false,"comment_ctime":1639960623,"is_pvip":false,"replies":[{"id":"119283","content":"代码的话你需要用https开头的那个链接","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1640229534,"ip_address":"","comment_id":327147,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1639960623","product_id":100094401,"comment_content":"你们都可以克隆成功么？我这边总是提示没权限，不能克隆。","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541008,"discussion_content":"代码的话你需要用https开头的那个链接","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640229534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323817,"user_name":"HAYWAEL","can_delete":false,"product_type":"c1","uid":1381899,"ip_address":"","ucode":"32A41ADFDB15E8","user_header":"https://static001.geekbang.org/account/avatar/00/15/16/0b/18dce773.jpg","comment_is_top":false,"comment_ctime":1638173693,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638173693","product_id":100094401,"comment_content":"印象中，之前社区有过讨论 “方言” 的问题，查询了一下，争议应该是在 ref: 这个语法糖，个人认为和JSX、和TS应该是有些不同的（和js在写法上差别很大，不会让人混淆js语法），而ref：解决的问题，感觉没有那么必要（或者说必须解决），而且和变量定义的语法太相近。","like_count":0},{"had_liked":false,"id":322039,"user_name":"Bynow","can_delete":false,"product_type":"c1","uid":2735072,"ip_address":"","ucode":"1E4F3ADD65CF18","user_header":"https://static001.geekbang.org/account/avatar/00/29/bb/e0/c7cd5170.jpg","comment_is_top":false,"comment_ctime":1637144826,"is_pvip":false,"replies":[{"id":"116993","content":"const是定义一个常量，let定义的变量可以修改，所以如果铁定不会改的就用const，而且这个还可以通过eslint还检验","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1637242743,"ip_address":"","comment_id":322039,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1637144826","product_id":100094401,"comment_content":"收获大大的，文章逻辑清晰。提问个问题，文章中function 中有些声明变量用了　ｃｏｎｓｔ　而有些则用了ｌｅｔ　本人后端工程师，感觉有点点不是很明白很规范的感觉。求解","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531157,"discussion_content":"const是定义一个常量，let定义的变量可以修改，所以如果铁定不会改的就用const，而且这个还可以通过eslint还检验","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637242743,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2735072,"avatar":"https://static001.geekbang.org/account/avatar/00/29/bb/e0/c7cd5170.jpg","nickname":"Bynow","note":"","ucode":"1E4F3ADD65CF18","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":545508,"discussion_content":"那为什么useMouse 里面x y 坐标会用const定义呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641979301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":531157,"ip_address":""},"score":545508,"extra":""}]},{"author":{"id":1501818,"avatar":"https://static001.geekbang.org/account/avatar/00/16/ea/7a/d857723d.jpg","nickname":"Vfeelit","note":"","ucode":"F3FF2B069F347F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532027,"discussion_content":"马妮 这个是 JS基本功吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637502836,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321705,"user_name":"dongzi","can_delete":false,"product_type":"c1","uid":1891778,"ip_address":"","ucode":"9C631E831D5B65","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/vn93BBb7ggAEcCSKFtGdweb6cwJT1ZbXBO4wI3n5icmibxibElrZYteE2lH4XZL2K4KvKgZBjQgy4UXT6ibEgtKBOQ/132","comment_is_top":false,"comment_ctime":1637020473,"is_pvip":false,"replies":[{"id":"118415","content":"代码下载之后，我本地执行了一下，更新home.vue之类的文件热更新没问题，不知道是不是版本的问题，你用yarn启动试试看？","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1639405002,"ip_address":"","comment_id":321705,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1637020473","product_id":100094401,"comment_content":"老师，项目.js文件能热更新，vue文件不行，帮忙看看呢<br>https:&#47;&#47;github.com&#47;dongson001&#47;geek-admin","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538430,"discussion_content":"代码下载之后，我本地执行了一下，更新home.vue之类的文件热更新没问题，不知道是不是版本的问题，你用yarn启动试试看？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639405002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321703,"user_name":"dongzi","can_delete":false,"product_type":"c1","uid":1891778,"ip_address":"","ucode":"9C631E831D5B65","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/vn93BBb7ggAEcCSKFtGdweb6cwJT1ZbXBO4wI3n5icmibxibElrZYteE2lH4XZL2K4KvKgZBjQgy4UXT6ibEgtKBOQ/132","comment_is_top":false,"comment_ctime":1637019074,"is_pvip":false,"replies":[{"id":"118416","content":"是热更新的问题吗 还是出现了数据的bug","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1639405020,"ip_address":"","comment_id":321703,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1637019074","product_id":100094401,"comment_content":"大圣，use函数里面如果有页面得ref，script setup 的时候好像会有问题","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538432,"discussion_content":"是热更新的问题吗 还是出现了数据的bug","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639405020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321391,"user_name":"weineel","can_delete":false,"product_type":"c1","uid":1049741,"ip_address":"","ucode":"6DC6EF4F256A53","user_header":"https://static001.geekbang.org/account/avatar/00/10/04/8d/005c2ff3.jpg","comment_is_top":false,"comment_ctime":1636822438,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"1636822438","product_id":100094401,"comment_content":"用标准的 js 语法实现一些非常类似的功能，会导致各种粒度不同的模板代码。 script setup 里写的代码基本上还是 js 标准语法(除了标签语法实现 ref 的简化，这个后面也弃用了)，没有学习成本，Vue3 在编译期把一些写法转成固定的代码模板，原始代码更简洁。<br><br>关于方言: 我理解的原意是在标准语言上加了只通行在一个地区的语言。说 script setup 是方言，我理解就是在说，在 js 标准之上造了自己的语法吧。","like_count":0},{"had_liked":false,"id":321031,"user_name":"Geek_073752","can_delete":false,"product_type":"c1","uid":2268008,"ip_address":"","ucode":"E12AF03A05868C","user_header":"","comment_is_top":false,"comment_ctime":1636625503,"is_pvip":false,"replies":[{"id":"116495","content":"第一部分的演示代码在这里了，欢迎发现bug提pr<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636637426,"ip_address":"","comment_id":321031,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636625503","product_id":100094401,"comment_content":"大圣老师，期待早日添加同步的git演示代码库，文案中的代码片段，对于后面负责实例应该很难描述完整","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530191,"discussion_content":"第一部分的演示代码在这里了，欢迎发现bug提pr\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636637426,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320618,"user_name":"大象不大","can_delete":false,"product_type":"c1","uid":1380073,"ip_address":"","ucode":"08630E84CAEC7D","user_header":"https://static001.geekbang.org/account/avatar/00/15/0e/e9/bad2671a.jpg","comment_is_top":false,"comment_ctime":1636424815,"is_pvip":false,"replies":[{"id":"116521","content":"没太看清楚这个问题，每个地方需要用到的时候import即可","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636638164,"ip_address":"","comment_id":320618,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636424815","product_id":100094401,"comment_content":"大圣你好，想请问下，如果抽离出来的组件里有用到 onMounted&#47;computed&#47;watch 这些 API ，再引入到其他也使用到这些 API 的组件中，会不会出现冲突？Vue3 是怎么处理的呢？","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530065,"discussion_content":"没太看清楚这个问题，每个地方需要用到的时候import即可","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638164,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320216,"user_name":"giteebravo","can_delete":false,"product_type":"c1","uid":1005290,"ip_address":"","ucode":"C087E8D6B5A98B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg","comment_is_top":false,"comment_ctime":1636133132,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1636133132","product_id":100094401,"comment_content":"<br>代码可以按任意粒度拆分，更考验设计能力，也更依赖单元测试，反过来又促进了代码的重构。<br>这点儿使用成本，我认为值得。","like_count":0},{"had_liked":false,"id":320208,"user_name":"Eric","can_delete":false,"product_type":"c1","uid":2815105,"ip_address":"","ucode":"C11F09384E3513","user_header":"https://static001.geekbang.org/account/avatar/00/2a/f4/81/0e8c1b5e.jpg","comment_is_top":false,"comment_ctime":1636126030,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636126030","product_id":100094401,"comment_content":"style里用v-bind，就相当于给了css一个计算属性，只能用一个字：太爽了","like_count":0},{"had_liked":false,"id":320207,"user_name":"Eric","can_delete":false,"product_type":"c1","uid":2815105,"ip_address":"","ucode":"C11F09384E3513","user_header":"https://static001.geekbang.org/account/avatar/00/2a/f4/81/0e8c1b5e.jpg","comment_is_top":false,"comment_ctime":1636125867,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636125867","product_id":100094401,"comment_content":"style 里可以用 v-bind 这个真的是太惊艳了，可以想象的，有太多妙用了","like_count":0},{"had_liked":false,"id":320167,"user_name":"Devo Zou","can_delete":false,"product_type":"c1","uid":2815108,"ip_address":"","ucode":"1203CDA305E8C1","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/8NIo06kqG0V5GL2UvFVBVkkuKdhT3BjO8ZUIibvXmFSgc0tvsOiaH9IibchvMKtpdnfKfFckuhdcicyghVV30BDhicA/132","comment_is_top":false,"comment_ctime":1636105262,"is_pvip":false,"replies":[{"id":"116055","content":"3.2已经有新语法了，等稳定后我会介绍","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636113010,"ip_address":"","comment_id":320167,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636105262","product_id":100094401,"comment_content":"我有个疑问，这样写下来的代码满篇都是.value 感觉也不太好啊。。。有没有啥法子可以省略呢？","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529903,"discussion_content":"3.2已经有新语法了，等稳定后我会介绍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636113010,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320021,"user_name":"章剑","can_delete":false,"product_type":"c1","uid":1397193,"ip_address":"","ucode":"0BF81D31F51353","user_header":"https://static001.geekbang.org/account/avatar/00/15/51/c9/5decc0a3.jpg","comment_is_top":false,"comment_ctime":1636039610,"is_pvip":false,"replies":[{"id":"116999","content":"大同小异也可以抽离公用部分，做成两个函数呀","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1637243405,"ip_address":"","comment_id":320021,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636039610","product_id":100094401,"comment_content":"Composition API 是鼓励把一套独立的逻辑封装引用。那如果逻辑大同小异怎么办？mixin 的处理是直接在引用页定义同名方法改写逻辑，那Composition API 有没有比较好的处理方法呢？","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531164,"discussion_content":"大同小异也可以抽离公用部分，做成两个函数呀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637243405,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320006,"user_name":"刘启宇","can_delete":false,"product_type":"c1","uid":2032699,"ip_address":"","ucode":"9FFE32A6678D3E","user_header":"https://static001.geekbang.org/account/avatar/00/1f/04/3b/f20de58d.jpg","comment_is_top":false,"comment_ctime":1636036648,"is_pvip":false,"replies":[{"id":"116537","content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636638588,"ip_address":"","comment_id":320006,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636036648","product_id":100094401,"comment_content":"咱们的代码能整个gitlab 库么，能看下整体的代码架构","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529841,"discussion_content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319940,"user_name":"Dillion","can_delete":false,"product_type":"c1","uid":1377800,"ip_address":"","ucode":"9D951BF840AA67","user_header":"https://static001.geekbang.org/account/avatar/00/15/06/08/b93b594c.jpg","comment_is_top":false,"comment_ctime":1636014505,"is_pvip":true,"replies":[{"id":"116544","content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636638719,"ip_address":"","comment_id":319940,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1636014505","product_id":100094401,"comment_content":"let active = computed(() =&gt; {  return todos.value.filter((v) =&gt; !v.done).length;}); 这里不能加!吧，这是要过滤出已选的","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529820,"discussion_content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638719,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1994869,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/70/75/421516b6.jpg","nickname":"Uen","note":"","ucode":"9F436AD665C8F3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547076,"discussion_content":"是 active，  不是 actived 的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642516713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1520949,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLM5OPNJfnTfIgnZPNJuWMGjiaXxib9UNuONLtibGAvc1Bg5zVW3q7Jxh6MuefYG94e9FYmLy5Yc8tXA/132","nickname":"gary4j","note":"","ucode":"B951E9BA489F14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412988,"discussion_content":"active是指not done的，未完成的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636353004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319656,"user_name":"一纸信笺","can_delete":false,"product_type":"c1","uid":1682603,"ip_address":"","ucode":"25DD6F54383FB1","user_header":"https://static001.geekbang.org/account/avatar/00/19/ac/ab/2d658c90.jpg","comment_is_top":false,"comment_ctime":1635903618,"is_pvip":false,"replies":[{"id":"116550","content":"有代码地址吗","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636638868,"ip_address":"","comment_id":319656,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635903618","product_id":100094401,"comment_content":"大圣老师，你好，看完今天这节收益颇丰，看到您说的 style 样式时想到项目一个问题想要请教一下， 我当时做一个vue3 项目 使用量&lt;style scoped&gt; 本地启动项目样式正常 但是 build 打包后 dom 上的data-v-xxx 后边会多追加一个-s  变成了 data-v-xxx-s  导致样式对应不上，这个问题出现是会什么原因呢？","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529708,"discussion_content":"有代码地址吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319537,"user_name":"请去学习吧","can_delete":false,"product_type":"c1","uid":2817286,"ip_address":"","ucode":"16BE53FC31B0CF","user_header":"","comment_is_top":false,"comment_ctime":1635843888,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635843888","product_id":100094401,"comment_content":"刚开始，着实不习惯Vue 3的新语法，Vue2和Vue3完全就是两个东西的感觉.","like_count":0},{"had_liked":false,"id":319422,"user_name":"三丰","can_delete":false,"product_type":"c1","uid":2826452,"ip_address":"","ucode":"7B7EE87CC0A4E6","user_header":"https://static001.geekbang.org/account/avatar/00/2b/20/d4/bd3187b8.jpg","comment_is_top":false,"comment_ctime":1635811963,"is_pvip":false,"replies":[{"id":"116566","content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636639297,"ip_address":"","comment_id":319422,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635811963","product_id":100094401,"comment_content":"希望老师讲课时能说明代码第几行是重点","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529630,"discussion_content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636639297,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319236,"user_name":"落风","can_delete":false,"product_type":"c1","uid":1198158,"ip_address":"","ucode":"D70B221D22A439","user_header":"https://static001.geekbang.org/account/avatar/00/12/48/4e/51896855.jpg","comment_is_top":false,"comment_ctime":1635690843,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1635690843","product_id":100094401,"comment_content":"ts 版本单独 .ts 文件使用 vue，有个声明错误（虽然不影响编译）<br>有 useTodos.ts 文件，其中包含:<br>import { ref, computed } from &#39;vue&#39;;<br>报错如下：<br>Module &#39;&quot;..&#47;..&#47;node_modules&#47;vue&#47;dist&#47;vue&quot;&#39; has no exported member &#39;ref&#39;.ts(2305)<br>node_modules&#47;vue&#47;dist&#47;vue.d.ts 深入展开确实没有看到 ref 导出，暂不知如何解决<br>","like_count":0,"discussions":[{"author":{"id":2820898,"avatar":"","nickname":"Geek_4578dc","note":"","ucode":"CC5E01CC76DF2D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411375,"discussion_content":"ts 版本的原因 升级成 ^4.3.5 就不会报错了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635910448,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319112,"user_name":"王俊","can_delete":false,"product_type":"c1","uid":1640276,"ip_address":"","ucode":"7EDE3F56E10248","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJrIyCrRXMPXUQTR5IHNOh6niaY3MRr2mtv6W6WXcT1FHK1aic3NOhfzdaqfx3u8mmFAmibgX8xDdB2g/132","comment_is_top":false,"comment_ctime":1635591170,"is_pvip":false,"replies":[{"id":"115743","content":"能详细介绍下吗，比如来个github的demo地址","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1635731514,"ip_address":"","comment_id":319112,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635591170","product_id":100094401,"comment_content":"ref对象与v-if，v-for的冲突怎么解决","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529504,"discussion_content":"能详细介绍下吗，比如来个github的demo地址","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635731514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319058,"user_name":"南山","can_delete":false,"product_type":"c1","uid":1239362,"ip_address":"","ucode":"1B5EF54A2A56F8","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/42/1de79e71.jpg","comment_is_top":false,"comment_ctime":1635555484,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635555484","product_id":100094401,"comment_content":"import感觉更加灵活，组件拆分的粒度更细，也是按需加载，有利于代码分割，减少打包的体积","like_count":0},{"had_liked":false,"id":319023,"user_name":"zhang13pro","can_delete":false,"product_type":"c1","uid":1666021,"ip_address":"","ucode":"2697C3ADAC92B5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJjiaBHJyfAKK7ZOeg9eibJuGibFCDw4QibehCPwZuf7RqozeTtNFwWotsHicCj5HrxhXicicsLXdic6qMeXg/132","comment_is_top":false,"comment_ctime":1635513361,"is_pvip":false,"replies":[{"id":"115745","content":"能发个github吗","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1635731607,"ip_address":"","comment_id":319023,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1635513361","product_id":100094401,"comment_content":"为什么vite 热更新失效了","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529462,"discussion_content":"能发个github吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635731607,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1666021,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJjiaBHJyfAKK7ZOeg9eibJuGibFCDw4QibehCPwZuf7RqozeTtNFwWotsHicCj5HrxhXicicsLXdic6qMeXg/132","nickname":"zhang13pro","note":"","ucode":"2697C3ADAC92B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410708,"discussion_content":"重新npm install后好了，可能是我用yarn 安装的原因吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635763132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319003,"user_name":"@","can_delete":false,"product_type":"c1","uid":1985141,"ip_address":"","ucode":"B308157E3FA393","user_header":"https://static001.geekbang.org/account/avatar/00/1e/4a/75/51435f4b.jpg","comment_is_top":false,"comment_ctime":1635501443,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635501443","product_id":100094401,"comment_content":"composition API 更接近于写原生js的思维","like_count":0},{"had_liked":false,"id":318991,"user_name":"懒懒想睡觉","can_delete":false,"product_type":"c1","uid":1461520,"ip_address":"","ucode":"3979C31A90B504","user_header":"https://static001.geekbang.org/account/avatar/00/16/4d/10/5c9bc771.jpg","comment_is_top":false,"comment_ctime":1635499026,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635499026","product_id":100094401,"comment_content":"对ref不太熟悉哦😊","like_count":0},{"had_liked":false,"id":318914,"user_name":"乐叶","can_delete":false,"product_type":"c1","uid":2303958,"ip_address":"","ucode":"144683EE28F346","user_header":"https://static001.geekbang.org/account/avatar/00/23/27/d6/c318bd20.jpg","comment_is_top":false,"comment_ctime":1635480546,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635480546","product_id":100094401,"comment_content":"生命周期可以重复使用，引入util下通用功能，涉及生命周期，以前只能通过mixin混入，现在都可以直接引入使用。","like_count":0},{"had_liked":false,"id":318884,"user_name":"Farewell","can_delete":false,"product_type":"c1","uid":1568106,"ip_address":"","ucode":"F0125601F856B1","user_header":"https://static001.geekbang.org/account/avatar/00/17/ed/6a/b4cc8dce.jpg","comment_is_top":false,"comment_ctime":1635473617,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635473617","product_id":100094401,"comment_content":"hooks真香","like_count":0},{"had_liked":false,"id":318878,"user_name":"七桐木","can_delete":false,"product_type":"c1","uid":1886549,"ip_address":"","ucode":"90B766A0A6C334","user_header":"https://static001.geekbang.org/account/avatar/00/1c/c9/55/8973db30.jpg","comment_is_top":false,"comment_ctime":1635472389,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1635472389","product_id":100094401,"comment_content":"感觉组合式API和选项式API只不过把代码的组织方式调整了一下，把功能相近的进行抽离，更方便于维护，习惯了就好","like_count":0},{"had_liked":false,"id":318873,"user_name":"tequ1lAneio","can_delete":false,"product_type":"c1","uid":1936087,"ip_address":"","ucode":"41336E87FF2E1A","user_header":"https://static001.geekbang.org/account/avatar/00/1d/8a/d7/daabec34.jpg","comment_is_top":false,"comment_ctime":1635471967,"is_pvip":true,"replies":[{"id":"115912","content":"长的确实一样，不过原理千差万别","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1635936202,"ip_address":"","comment_id":318873,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635471967","product_id":100094401,"comment_content":"这特么和hooks有毛区别啊！！！","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529409,"discussion_content":"长的确实一样，不过原理千差万别","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635936202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318869,"user_name":"undefined","can_delete":false,"product_type":"c1","uid":2816363,"ip_address":"","ucode":"CA8C0404839DFA","user_header":"https://static001.geekbang.org/account/avatar/00/2a/f9/6b/fc272144.jpg","comment_is_top":false,"comment_ctime":1635471624,"is_pvip":false,"replies":[{"id":"116554","content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636638905,"ip_address":"","comment_id":318869,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635471624","product_id":100094401,"comment_content":"大圣老师以后可以辛苦贴一下源码地址嘛，以后文件多了可能比较需要！","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529406,"discussion_content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638905,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318865,"user_name":"速冻鱼","can_delete":false,"product_type":"c1","uid":2752085,"ip_address":"","ucode":"293DD4B76D2421","user_header":"https://static001.geekbang.org/account/avatar/00/29/fe/55/de39267a.jpg","comment_is_top":false,"comment_ctime":1635470928,"is_pvip":false,"replies":[{"id":"116555","content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636638910,"ip_address":"","comment_id":318865,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635470928","product_id":100094401,"comment_content":"大圣老师，有课程相关的github项目吗","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529403,"discussion_content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":318863,"user_name":"速冻鱼","can_delete":false,"product_type":"c1","uid":2752085,"ip_address":"","ucode":"293DD4B76D2421","user_header":"https://static001.geekbang.org/account/avatar/00/29/fe/55/de39267a.jpg","comment_is_top":false,"comment_ctime":1635470747,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635470747","product_id":100094401,"comment_content":"打卡打卡☺️","like_count":0},{"had_liked":false,"id":318840,"user_name":"Geek_a84b8d","can_delete":false,"product_type":"c1","uid":2816188,"ip_address":"","ucode":"F10C3CDAABDEE5","user_header":"","comment_is_top":false,"comment_ctime":1635466493,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635466493","product_id":100094401,"comment_content":"方言不方言的不重要 好用就行","like_count":0},{"had_liked":false,"id":318833,"user_name":"阿阳","can_delete":false,"product_type":"c1","uid":1165817,"ip_address":"","ucode":"20A35FB86B1C5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/c9/f9/39492855.jpg","comment_is_top":false,"comment_ctime":1635460907,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635460907","product_id":100094401,"comment_content":"使用 Composition API 的逻辑来拆分代码，把一个功能相关的数据和方法都维护在一起。感觉这个是开发方式的重大改变。对比极客时间上的react hook的课程一起学习，有逐渐的深入体会。这三个例子值得反复学习和演练。","like_count":0}]}
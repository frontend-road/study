{"id":165257,"title":"07 | 实验：Hello World程序开发","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-mongodb-course\">https://gitee.com/geektime-geekbang/geektime-mongodb-course</a></p>","comments":[{"had_liked":false,"id":343158,"user_name":"Cai-WB","can_delete":false,"product_type":"c3","uid":2167169,"ip_address":"","ucode":"27F0DF7E1A2AF1","user_header":"https://static001.geekbang.org/account/avatar/00/21/11/81/4401bed8.jpg","comment_is_top":true,"comment_ctime":1650683435,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"老师，想请教一下，在c++程序中使用MongoDB，最后程序只能用c++11来编译吗","like_count":1},{"had_liked":false,"id":163637,"user_name":"Aurora","can_delete":false,"product_type":"c3","uid":1302157,"ip_address":"","ucode":"84CB75BC2D7680","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/8d/99536c5b.jpg","comment_is_top":false,"comment_ctime":1576758299,"is_pvip":false,"replies":[{"id":62378,"content":"不会加lock。所以mongodump出来的不是一个一致的backup。通常可以加上 --oplog参数来获取一个某个时间点的快照类的备份。","user_name":"作者回复","user_name_real":"远航的TJ 唐建法","uid":1260017,"ctime":1576894378,"ip_address":"","comment_id":163637,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"老师我问一下使用，mongodump的时候会给collection加lock吗?","like_count":6,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"远航的TJ 唐建法","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478481,"discussion_content":"不会加lock。所以mongodump出来的不是一个一致的backup。通常可以加上 --oplog参数来获取一个某个时间点的快照类的备份。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576894378,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":156192,"user_name":"袭","can_delete":false,"product_type":"c3","uid":1077573,"ip_address":"","ucode":"D5B8609CDFB145","user_header":"https://static001.geekbang.org/account/avatar/00/10/71/45/126cd913.jpg","comment_is_top":false,"comment_ctime":1574830936,"is_pvip":false,"replies":[{"id":60157,"content":"4.2可以做到：\ndb.test.insert({a: 2, b: 3})\ndb.test.updateMany({}, [{\n    $set: {\n        c: {\n            $add: [&quot;$a&quot;, &quot;$b&quot;]\n        }\n    }\n}])","user_name":"作者回复","user_name_real":"远航的TJ 唐建法","uid":1260017,"ctime":1574944761,"ip_address":"","comment_id":156192,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"如果我有两个字段a和b，希望对每个文档增加一个字段c=a-b.  试了一下用find. forEach然后每个文档执行一个uodate的话速度非常慢。有什么比较高效的方法吗？","like_count":5,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"远航的TJ 唐建法","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476026,"discussion_content":"4.2可以做到：\ndb.test.insert({a: 2, b: 3})\ndb.test.updateMany({}, [{\n    $set: {\n        c: {\n            $add: [&amp;quot;$a&amp;quot;, &amp;quot;$b&amp;quot;]\n        }\n    }\n}])","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574944761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151948,"user_name":"齐宝金","can_delete":false,"product_type":"c3","uid":1305074,"ip_address":"","ucode":"F783442C82FCC2","user_header":"https://static001.geekbang.org/account/avatar/00/13/e9/f2/9067371a.jpg","comment_is_top":false,"comment_ctime":1573819945,"is_pvip":false,"replies":[{"id":58487,"content":"如果可以停服务，可以用 mongodump -d xxx 方式\n如果不能停服，需要用一些工具：\n如果在阿里云，可以考虑mongoshake 工具\nMongoDB官方有mongomirror工具\n我们Tapdata也有一个工具，有免费3个月的使用期，如果只是一次性迁移够用了。\n\n","user_name":"作者回复","user_name_real":"远航的TJ 唐建法","uid":1260017,"ctime":1573888902,"ip_address":"","comment_id":151948,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"老师好，对于mongo副本集，如果有多个库，由于单集群达到瓶颈了，我想把一个库迁移出去，有什么方法吗，能达到像mysql主从实现吗？并且切换到新集群控制在切换ip的时间吗？","like_count":4,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"远航的TJ 唐建法","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474664,"discussion_content":"如果可以停服务，可以用 mongodump -d xxx 方式\n如果不能停服，需要用一些工具：\n如果在阿里云，可以考虑mongoshake 工具\nMongoDB官方有mongomirror工具\n我们Tapdata也有一个工具，有免费3个月的使用期，如果只是一次性迁移够用了。\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573888902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1363671,"avatar":"https://static001.geekbang.org/account/avatar/00/14/ce/d7/5315f6ce.jpg","nickname":"不负青春不负己🤘","note":"","ucode":"A6DD8E8B20EA6E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588409,"discussion_content":"makr","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663745637,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1305074,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e9/f2/9067371a.jpg","nickname":"齐宝金","note":"","ucode":"F783442C82FCC2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":52315,"discussion_content":"理解了，谢谢老师","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574038655,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163645,"user_name":"Aurora","can_delete":false,"product_type":"c3","uid":1302157,"ip_address":"","ucode":"84CB75BC2D7680","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/8d/99536c5b.jpg","comment_is_top":false,"comment_ctime":1576759602,"is_pvip":false,"replies":[{"id":62966,"content":"备份不阻塞，除非你用fsyncLock（）。\n不上锁的话，就用 --oplog\n","user_name":"作者回复","user_name_real":"远航的TJ 唐建法","uid":1260017,"ctime":1577185481,"ip_address":"","comment_id":163645,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"使用mongodump去备份db，备份过程中会阻塞insert写入吗？是不是如果不想要一致性备份集，就不上锁，如果想要一致性的备份集，加--oplog参数，也不阻塞insert写入？","like_count":3,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"远航的TJ 唐建法","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478487,"discussion_content":"备份不阻塞，除非你用fsyncLock（）。\n不上锁的话，就用 --oplog\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577185481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151572,"user_name":"Y先生","can_delete":false,"product_type":"c3","uid":1061208,"ip_address":"","ucode":"4A98E2E6CA0F2F","user_header":"https://static001.geekbang.org/account/avatar/00/10/31/58/d34a6c7d.jpg","comment_is_top":false,"comment_ctime":1573741705,"is_pvip":false,"replies":[{"id":58383,"content":"Python 语言最接近英语，也最合适演示。我可以考虑加入一些适当的Java示例在后续章节中。","user_name":"作者回复","user_name_real":"远航的TJ 唐建法","uid":1260017,"ctime":1573790682,"ip_address":"","comment_id":151572,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"老师怎么不选java语言？后面案例也是python吗？","like_count":2,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"远航的TJ 唐建法","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474539,"discussion_content":"Python 语言最接近英语，也最合适演示。我可以考虑加入一些适当的Java示例在后续章节中。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573790682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218265,"discussion_content":"希望c#演示。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585640363,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1179533,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ff/8d/8601f035.jpg","nickname":"淞淞同学","note":"","ucode":"529A326B898008","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157362,"discussion_content":"希望java演示","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580473999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1555135,"avatar":"https://static001.geekbang.org/account/avatar/00/17/ba/bf/41c7dc81.jpg","nickname":"xiaoxiunique","note":"","ucode":"87FFC2ED156593","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":50843,"discussion_content":"同问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573779512,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172171,"user_name":"水如天","can_delete":false,"product_type":"c3","uid":1069822,"ip_address":"","ucode":"50AE29168947CD","user_header":"https://static001.geekbang.org/account/avatar/00/10/52/fe/1241bc83.jpg","comment_is_top":false,"comment_ctime":1579100474,"is_pvip":false,"replies":[{"id":66838,"content":"那个没有限制。限制就是最大不能超过16MB。ES的长处是查询&#47;搜索，写入从来不是它优势。\n\nMongoDB比较平衡点，增删改查都还不错。","user_name":"作者回复","user_name_real":"远航的TJ 唐建法","uid":1260017,"ctime":1579166070,"ip_address":"","comment_id":172171,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"老师好，请教个问题。我们系统一开始使用es,  但是我们的一个index包含2000多个field,经常会出现写性能问题，请问mangdb对于写入的文档的字段，以及字段嵌套的深度由限制吗？","like_count":1,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"远航的TJ 唐建法","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481652,"discussion_content":"那个没有限制。限制就是最大不能超过16MB。ES的长处是查询/搜索，写入从来不是它优势。\n\nMongoDB比较平衡点，增删改查都还不错。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579166070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157905,"user_name":"白岩","can_delete":false,"product_type":"c3","uid":1215493,"ip_address":"","ucode":"0520228B8BD658","user_header":"https://static001.geekbang.org/account/avatar/00/12/8c/05/4869df89.jpg","comment_is_top":false,"comment_ctime":1575280272,"is_pvip":false,"replies":[{"id":60776,"content":"有一些值得注意的地方\n\n1） schema 管理会复杂， 你不能一下确定这个集合到底是什么结构。解决方案是使用Schema Validation 或者 JSON Schema来定义这个集合的严格结构。 JSON Schema类似于关系数据库的schema，但是不同的是如果你需要修改这个schema的话可以随时更改，理论上也不需要对已有数据做更新或者迁移。\n\n","user_name":"作者回复","user_name_real":"远航的TJ 唐建法","uid":1260017,"ctime":1575468280,"ip_address":"","comment_id":157905,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"mongodb的动态特性有缺点嘛？作为一个oracle dba感觉极其不适应。","like_count":1,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"远航的TJ 唐建法","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476570,"discussion_content":"有一些值得注意的地方\n\n1） schema 管理会复杂， 你不能一下确定这个集合到底是什么结构。解决方案是使用Schema Validation 或者 JSON Schema来定义这个集合的严格结构。 JSON Schema类似于关系数据库的schema，但是不同的是如果你需要修改这个schema的话可以随时更改，理论上也不需要对已有数据做更新或者迁移。\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575468280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":152305,"user_name":"陈靖","can_delete":false,"product_type":"c3","uid":1147418,"ip_address":"","ucode":"8C9596A54DB5C8","user_header":"https://static001.geekbang.org/account/avatar/00/11/82/1a/64ec25ff.jpg","comment_is_top":false,"comment_ctime":1573966719,"is_pvip":false,"replies":[{"id":58569,"content":"这个没有绝对值，通常和文档大小有关。如果在1KB以内的话，我会推荐用1000左右的batch size","user_name":"作者回复","user_name_real":"远航的TJ 唐建法","uid":1260017,"ctime":1574029906,"ip_address":"","comment_id":152305,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"请问下老师，比如在mysql批量插入，一次3000条左右比较合适，性能也不错，如果是mongodb,一次插多少条比较高效","like_count":1,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"远航的TJ 唐建法","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474779,"discussion_content":"这个没有绝对值，通常和文档大小有关。如果在1KB以内的话，我会推荐用1000左右的batch size","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574029906,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":164221,"user_name":"熊大","can_delete":false,"product_type":"c3","uid":1786512,"ip_address":"","ucode":"E228BD23ECA6EF","user_header":"https://static001.geekbang.org/account/avatar/00/1b/42/90/1b402e4a.jpg","comment_is_top":false,"comment_ctime":1576910441,"is_pvip":false,"replies":[{"id":62960,"content":"可以去问Eliot Horowitz... 程序员的惰性吧，写原型的时候谁都不喜欢折腾安全性的东西，麻烦。","user_name":"作者回复","user_name_real":"远航的TJ 唐建法","uid":1260017,"ctime":1577183762,"ip_address":"","comment_id":164221,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"为啥不需要输入账号密码就可以操作db……","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"远航的TJ 唐建法","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478684,"discussion_content":"可以去问Eliot Horowitz... 程序员的惰性吧，写原型的时候谁都不喜欢折腾安全性的东西，麻烦。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577183762,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161031,"user_name":"海罗沃德","can_delete":false,"product_type":"c3","uid":1165364,"ip_address":"","ucode":"8704F1D6980FA0","user_header":"https://static001.geekbang.org/account/avatar/00/11/c8/34/fb871b2c.jpg","comment_is_top":false,"comment_ctime":1576096797,"is_pvip":false,"replies":[{"id":61410,"content":"好的谢谢提醒。","user_name":"作者回复","user_name_real":"远航的TJ 唐建法","uid":1260017,"ctime":1576118830,"ip_address":"","comment_id":161031,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"python 3 的print改成方法了，要用print(client) 才行，print命令已经去除了","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"远航的TJ 唐建法","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477581,"discussion_content":"好的谢谢提醒。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576118830,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":153108,"user_name":"yong","can_delete":false,"product_type":"c3","uid":1047479,"ip_address":"","ucode":"E83FDDD570A9D7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fb/b7/6ecb191f.jpg","comment_is_top":false,"comment_ctime":1574159277,"is_pvip":false,"replies":[{"id":59036,"content":"我用的2.7，但是理论上Python 3也是okay的。","user_name":"作者回复","user_name_real":"远航的TJ 唐建法","uid":1260017,"ctime":1574297459,"ip_address":"","comment_id":153108,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"老师，请问python 的版本有什么限制么?","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"远航的TJ 唐建法","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475046,"discussion_content":"我用的2.7，但是理论上Python 3也是okay的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574297459,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1047479,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/fb/b7/6ecb191f.jpg","nickname":"yong","note":"","ucode":"E83FDDD570A9D7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":69090,"discussion_content":"好的，谢谢。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575259614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":152548,"user_name":"Geek_530205","can_delete":false,"product_type":"c3","uid":1158180,"ip_address":"","ucode":"9D2916022B4BB3","user_header":"","comment_is_top":false,"comment_ctime":1574041961,"is_pvip":false,"replies":[{"id":58628,"content":"mongodb 不能这么玩，只能用mongodump 或者 mongoexport，或者用迁移工具。","user_name":"作者回复","user_name_real":"远航的TJ 唐建法","uid":1260017,"ctime":1574051574,"ip_address":"","comment_id":152548,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"老师您好，我以前用的mssql，如果一个服务器上有多个数据库，想迁移数据库的时候直接考走对应的数据库文件就好。如果是mongodb，发现没有对应的文件，请问除了把数据导出还有别的办法吗？","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"远航的TJ 唐建法","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474854,"discussion_content":"mongodb 不能这么玩，只能用mongodump 或者 mongoexport，或者用迁移工具。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574051574,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218263,"discussion_content":"mongodb导出那不是也是生成json/csv文件嘛，和sqlserver性质一样。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585640195,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151947,"user_name":"齐宝金","can_delete":false,"product_type":"c3","uid":1305074,"ip_address":"","ucode":"F783442C82FCC2","user_header":"https://static001.geekbang.org/account/avatar/00/13/e9/f2/9067371a.jpg","comment_is_top":false,"comment_ctime":1573819767,"is_pvip":false,"replies":[{"id":58488,"content":"换一个思路。使用\bMongoDB Ops Manager可以实现任意时间点恢复 - 比如你3：00执行删除动作，4：00发现有问题想回滚，那么可以使用ops manager 把数据库回到3：00的时候。\n\n类似的事情可以用命令行方式做，但是就不是小项目了。\n\n反向生成insert的没有见过，但是自己实现应该很简单。\n\n","user_name":"作者回复","user_name_real":"远航的TJ 唐建法","uid":1260017,"ctime":1573889083,"ip_address":"","comment_id":151947,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"老师好，请问下，想删除多行数据，得对多行数据进行备份，有什么工具可以生成反向语句insert进行备份吗","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"远航的TJ 唐建法","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474663,"discussion_content":"换一个思路。使用\bMongoDB Ops Manager可以实现任意时间点恢复 - 比如你3：00执行删除动作，4：00发现有问题想回滚，那么可以使用ops manager 把数据库回到3：00的时候。\n\n类似的事情可以用命令行方式做，但是就不是小项目了。\n\n反向生成insert的没有见过，但是自己实现应该很简单。\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573889083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1305074,"avatar":"https://static001.geekbang.org/account/avatar/00/13/e9/f2/9067371a.jpg","nickname":"齐宝金","note":"","ucode":"F783442C82FCC2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":52318,"discussion_content":"谢谢，老师","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574038765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151131,"user_name":"fedwing","can_delete":false,"product_type":"c3","uid":1743661,"ip_address":"","ucode":"2DFF902FD190C7","user_header":"https://static001.geekbang.org/account/avatar/00/1a/9b/2d/f7fca208.jpg","comment_is_top":false,"comment_ctime":1573656561,"is_pvip":false,"replies":[{"id":58400,"content":"这个没有在计划内哦，受众可能不够大。","user_name":"作者回复","user_name_real":"远航的TJ 唐建法","uid":1260017,"ctime":1573792534,"ip_address":"","comment_id":151131,"utype":1}],"discussion_count":5,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"老师，有mongo源码分析的课程吗","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"远航的TJ 唐建法","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474373,"discussion_content":"这个没有在计划内哦，受众可能不够大。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573792534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"远航的TJ 唐建法","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":50538,"discussion_content":"这个么有哦。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573733058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1077573,"avatar":"https://static001.geekbang.org/account/avatar/00/10/71/45/126cd913.jpg","nickname":"袭","note":"","ucode":"D5B8609CDFB145","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":62298,"discussion_content":"+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574830803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"奕","note":"","ucode":"73CEA468CE70C3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":52104,"discussion_content":"受众+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573995610,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1649415,"avatar":"","nickname":"黄钦钦","note":"","ucode":"E2E9CB1E084BB9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":51128,"discussion_content":"受众+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573814966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":395419,"user_name":"dahai","can_delete":false,"product_type":"c3","uid":1762705,"ip_address":"山东","ucode":"9F866FC42DF9A8","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIVR2wY9icec2CGzZ4VKPdwK2icytM5k1tHm08qSEysFOgl1y7lk2ccDqSCvzibHufo2Cb9c2hjr0LIg/132","comment_is_top":false,"comment_ctime":1730711354,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"我在使用 Python 构建应用程序，请问老师有没有推荐具有异步访问且有 ORM 功能 mongo 插件？\n我目前使用 mongoEngine，但是没有异步功能。\n不知道老师对异步和 ORM 相关的插件有何推荐和建议？","like_count":0},{"had_liked":false,"id":355041,"user_name":"尔东橙","can_delete":false,"product_type":"c3","uid":1225224,"ip_address":"湖南","ucode":"0B013A49BC18DA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/6LaITPQ4Lk5fZn8ib1tfsPW8vI9icTuSwAddiajVfibPDiaDvMU2br6ZT7K0LWCKibSQuicT7sIEVmY4K7ibXY0T7UQEiag/132","comment_is_top":false,"comment_ctime":1660997576,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"本地连的是云服务器，本地我理解是个mongo客户端，所以python连的是本地客户端？","like_count":0},{"had_liked":false,"id":276816,"user_name":"易先生","can_delete":false,"product_type":"c3","uid":1132846,"ip_address":"","ucode":"C3F03CCBBC880A","user_header":"https://static001.geekbang.org/account/avatar/00/11/49/2e/8fb13ad0.jpg","comment_is_top":false,"comment_ctime":1612144309,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"老师您好，我想问一下，一个float类型数据，存储在MongoDB中会占用多大的磁盘空间。","like_count":0}]}
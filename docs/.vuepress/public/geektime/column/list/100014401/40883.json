{"id":40883,"title":"18 | å¦‚ä½•ä½¿ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Ÿ","content":"<p>å‡è®¾ä½ è®¢é˜…äº†ä¸€ä¸ªåˆ«äººçš„æœåŠ¡ï¼Œä»æ³¨å†Œä¸­å¿ƒæŸ¥è¯¢å¾—åˆ°äº†è¿™ä¸ªæœåŠ¡çš„å¯ç”¨èŠ‚ç‚¹åˆ—è¡¨ï¼Œè€Œè¿™ä¸ªåˆ—è¡¨é‡ŒåŒ…å«äº†å‡ åä¸ªèŠ‚ç‚¹ï¼Œè¿™ä¸ªæ—¶å€™ä½ è¯¥é€‰æ‹©å“ªä¸ªèŠ‚ç‚¹å‘èµ·è°ƒç”¨å‘¢ï¼Ÿè¿™å°±æ˜¯ä»Šå¤©æˆ‘è¦ç»™ä½ è®²è§£çš„å…³äºå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ç®—æ³•çš„é—®é¢˜ã€‚</p>\n<p>ä¸ºä»€ä¹ˆè¦å¼•å…¥è´Ÿè½½å‡è¡¡ç®—æ³•å‘¢ï¼Ÿä¸»è¦æœ‰ä¸¤ä¸ªåŸå› ï¼šä¸€ä¸ªæ˜¯è¦è€ƒè™‘è°ƒç”¨çš„å‡åŒ€æ€§ï¼Œä¹Ÿå°±æ˜¯è¦è®©æ¯ä¸ªèŠ‚ç‚¹éƒ½æ¥æ”¶åˆ°è°ƒç”¨ï¼Œå‘æŒ¥æ‰€æœ‰èŠ‚ç‚¹çš„ä½œç”¨ï¼›å¦ä¸€ä¸ªæ˜¯è¦è€ƒè™‘è°ƒç”¨çš„æ€§èƒ½ï¼Œä¹Ÿå°±æ˜¯å“ªä¸ªèŠ‚ç‚¹å“åº”æœ€å¿«ï¼Œä¼˜å…ˆè°ƒç”¨å“ªä¸ªèŠ‚ç‚¹ã€‚</p>\n<p>ä¸åŒçš„è´Ÿè½½å‡è¡¡ç®—æ³•åœ¨è¿™ä¸¤ä¸ªæ–¹é¢çš„è€ƒè™‘ä¸åŒï¼Œä¸‹é¢æˆ‘å°±æ¥èƒ½ç»™ä»‹ç»<span class=\"orange\">å¸¸è§çš„è´Ÿè½½å‡è¡¡ç®—æ³•åŠå…¶åº”ç”¨åœºæ™¯</span>ã€‚</p>\n<h2>å¸¸è§çš„è´Ÿè½½å‡è¡¡ç®—æ³•</h2>\n<p><strong>1. éšæœºç®—æ³•</strong></p>\n<p>éšæœºç®—æ³•ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ä»å¯ç”¨çš„æœåŠ¡èŠ‚ç‚¹ä¸­ï¼ŒéšæœºæŒ‘é€‰ä¸€ä¸ªèŠ‚ç‚¹æ¥è®¿é—®ã€‚</p>\n<p>åœ¨å®ç°æ—¶ï¼Œéšæœºç®—æ³•é€šå¸¸æ˜¯é€šè¿‡ç”Ÿæˆä¸€ä¸ªéšæœºæ•°æ¥å®ç°ï¼Œæ¯”å¦‚æœåŠ¡æœ‰10ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±æ¯ä¸€æ¬¡ç”Ÿæˆä¸€ä¸ª1ï½10ä¹‹é—´çš„éšæœºæ•°ï¼Œå‡è®¾ç”Ÿæˆçš„æ˜¯2ï¼Œé‚£ä¹ˆå°±è®¿é—®ç¼–å·ä¸º2çš„èŠ‚ç‚¹ã€‚</p>\n<p>é‡‡ç”¨éšæœºç®—æ³•ï¼Œåœ¨èŠ‚ç‚¹æ•°é‡è¶³å¤Ÿå¤šï¼Œå¹¶ä¸”è®¿é—®é‡æ¯”è¾ƒå¤§çš„æƒ…å†µä¸‹ï¼Œå„ä¸ªèŠ‚ç‚¹è¢«è®¿é—®çš„æ¦‚ç‡æ˜¯åŸºæœ¬ç›¸åŒçš„ã€‚ä¸€ä¸ªéšæœºç®—æ³•çš„ä»£ç å®ç°ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ª<a href=\"https://github.com/weibocom/motan/blob/master/motan-core/src/main/java/com/weibo/api/motan/cluster/loadbalance/RandomLoadBalance.java\">ç¤ºä¾‹</a>ã€‚</p>\n<p><strong>2. è½®è¯¢ç®—æ³•</strong></p>\n<p>è½®è¯¢ç®—æ³•ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯æŒ‰ç…§å›ºå®šçš„é¡ºåºï¼ŒæŠŠå¯ç”¨çš„æœåŠ¡èŠ‚ç‚¹ï¼ŒæŒ¨ä¸ªè®¿é—®ä¸€æ¬¡ã€‚</p>\n<p>åœ¨å®ç°æ—¶ï¼Œè½®è¯¢ç®—æ³•é€šå¸¸æ˜¯æŠŠæ‰€æœ‰å¯ç”¨èŠ‚ç‚¹æ”¾åˆ°ä¸€ä¸ªæ•°ç»„é‡Œï¼Œç„¶åæŒ‰ç…§æ•°ç»„ç¼–å·ï¼ŒæŒ¨ä¸ªè®¿é—®ã€‚æ¯”å¦‚æœåŠ¡æœ‰10ä¸ªèŠ‚ç‚¹ï¼Œæ”¾åˆ°æ•°ç»„é‡Œå°±æ˜¯ä¸€ä¸ªå¤§å°ä¸º10çš„æ•°ç»„ï¼Œè¿™æ ·çš„è¯å°±å¯ä»¥ä»åºå·ä¸º0çš„èŠ‚ç‚¹å¼€å§‹è®¿é—®ï¼Œè®¿é—®ååºå·è‡ªåŠ¨åŠ 1ï¼Œä¸‹ä¸€æ¬¡å°±ä¼šè®¿é—®åºå·ä¸º1çš„èŠ‚ç‚¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><!-- [[[read_end]]] -->\n<p>è½®è¯¢ç®—æ³•èƒ½å¤Ÿä¿è¯æ‰€æœ‰èŠ‚ç‚¹è¢«è®¿é—®åˆ°çš„æ¦‚ç‡æ˜¯ç›¸åŒçš„ã€‚ä¸€ä¸ªè½®è¯¢ç®—æ³•çš„ä»£ç å®ç°ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ª<a href=\"https://github.com/weibocom/motan/blob/master/motan-core/src/main/java/com/weibo/api/motan/cluster/loadbalance/RoundRobinLoadBalance.java\">ç¤ºä¾‹</a>ã€‚</p>\n<p><strong>3. åŠ æƒè½®è¯¢ç®—æ³•</strong></p>\n<p>è½®è¯¢ç®—æ³•èƒ½å¤Ÿä¿è¯æ‰€æœ‰èŠ‚ç‚¹è¢«è®¿é—®çš„æ¦‚ç‡ç›¸åŒï¼Œè€ŒåŠ æƒè½®è¯¢ç®—æ³•æ˜¯åœ¨æ­¤åŸºç¡€ä¸Šï¼Œç»™æ¯ä¸ªèŠ‚ç‚¹èµ‹äºˆä¸€ä¸ªæƒé‡ï¼Œä»è€Œä½¿æ¯ä¸ªèŠ‚ç‚¹è¢«è®¿é—®åˆ°çš„æ¦‚ç‡ä¸åŒï¼Œæƒé‡å¤§çš„èŠ‚ç‚¹è¢«è®¿é—®çš„æ¦‚ç‡å°±é«˜ï¼Œæƒé‡å°çš„èŠ‚ç‚¹è¢«è®¿é—®çš„æ¦‚ç‡å°±å°ã€‚</p>\n<p>åœ¨å®ç°æ—¶ï¼ŒåŠ æƒè½®è¯¢ç®—æ³•æ˜¯ç”Ÿæˆä¸€ä¸ªèŠ‚ç‚¹åºåˆ—ï¼Œè¯¥åºåˆ—é‡Œæœ‰nä¸ªèŠ‚ç‚¹ï¼Œnæ˜¯æ‰€æœ‰èŠ‚ç‚¹çš„æƒé‡ä¹‹å’Œã€‚åœ¨è¿™ä¸ªåºåˆ—ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹å‡ºç°çš„æ¬¡æ•°ï¼Œå°±æ˜¯å®ƒçš„æƒé‡å€¼ã€‚æ¯”å¦‚æœ‰ä¸‰ä¸ªèŠ‚ç‚¹ï¼šaã€bã€cï¼Œæƒé‡åˆ†åˆ«æ˜¯3ã€2ã€1ï¼Œé‚£ä¹ˆç”Ÿæˆçš„åºåˆ—å°±æ˜¯{aã€aã€bã€cã€bã€a}ï¼Œè¿™æ ·çš„è¯æŒ‰ç…§è¿™ä¸ªåºåˆ—è®¿é—®ï¼Œå‰6æ¬¡è¯·æ±‚å°±ä¼šåˆ†åˆ«è®¿é—®èŠ‚ç‚¹aä¸‰æ¬¡ï¼ŒèŠ‚ç‚¹bä¸¤æ¬¡ï¼ŒèŠ‚ç‚¹cä¸€æ¬¡ã€‚ä»ç¬¬7ä¸ªè¯·æ±‚å¼€å§‹ï¼Œåˆé‡æ–°æŒ‰ç…§è¿™ä¸ªåºåˆ—çš„é¡ºåºæ¥è®¿é—®èŠ‚ç‚¹ã€‚</p>\n<p>åœ¨åº”ç”¨åŠ æƒè½®è¯¢ç®—æ³•çš„æ—¶å€™ï¼Œæ ¹æ®æˆ‘çš„ç»éªŒï¼Œè¦å°½å¯èƒ½ä¿è¯ç”Ÿäº§çš„åºåˆ—çš„å‡åŒ€ï¼Œå¦‚æœç”Ÿæˆçš„ä¸å‡åŒ€ä¼šé€ æˆèŠ‚ç‚¹è®¿é—®å¤±è¡¡ï¼Œæ¯”å¦‚åˆšæ‰çš„ä¾‹å­ï¼Œå¦‚æœç”Ÿæˆçš„åºåˆ—æ˜¯{aã€aã€aã€bã€bã€c}ï¼Œå°±ä¼šå¯¼è‡´å‰3æ¬¡è®¿é—®çš„èŠ‚ç‚¹éƒ½æ˜¯aã€‚ä¸€ä¸ªåŠ æƒè½®è¯¢ç®—æ³•çš„ä»£ç å®ç°ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ª<a href=\"https://github.com/weibocom/motan/blob/master/motan-core/src/main/java/com/weibo/api/motan/cluster/loadbalance/ConfigurableWeightLoadBalance.java\">ç¤ºä¾‹</a>ã€‚</p>\n<p><strong>4. æœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•</strong></p>\n<p>æœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯æ¯ä¸€æ¬¡è®¿é—®éƒ½é€‰æ‹©è¿æ¥æ•°æœ€å°‘çš„èŠ‚ç‚¹ã€‚å› ä¸ºä¸åŒèŠ‚ç‚¹å¤„ç†è¯·æ±‚çš„é€Ÿåº¦ä¸åŒï¼Œä½¿å¾—åŒä¸€ä¸ªæœåŠ¡æ¶ˆè´¹è€…åŒæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„è¿æ¥æ•°éƒ½ä¸ç›¸åŒã€‚è¿æ¥æ•°å¤§çš„èŠ‚ç‚¹ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯å¤„ç†è¯·æ±‚æ…¢ï¼Œè€Œè¿æ¥æ•°å°çš„èŠ‚ç‚¹ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯å¤„ç†è¯·æ±‚å¿«ã€‚æ‰€ä»¥åœ¨æŒ‘é€‰èŠ‚ç‚¹æ—¶ï¼Œå¯ä»¥ä»¥è¿æ¥æ•°ä¸ºä¾æ®ï¼Œé€‰æ‹©è¿æ¥æ•°æœ€å°‘çš„èŠ‚ç‚¹è®¿é—®ã€‚</p>\n<p>åœ¨å®ç°æ—¶ï¼Œéœ€è¦è®°å½•è·Ÿæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„è¿æ¥æ•°ï¼Œè¿™æ ·åœ¨é€‰æ‹©èŠ‚ç‚¹æ—¶ï¼Œæ‰èƒ½æ¯”è¾ƒå‡ºè¿æ¥æ•°æœ€å°çš„èŠ‚ç‚¹ã€‚ä¸€ä¸ªæœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•çš„ä»£ç å®ç°ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ª<a href=\"https://github.com/weibocom/motan/blob/master/motan-core/src/main/java/com/weibo/api/motan/cluster/loadbalance/ActiveWeightLoadBalance.java\">ç¤ºä¾‹</a>ã€‚</p>\n<p><strong>5. ä¸€è‡´æ€§hashç®—æ³•</strong></p>\n<p>ä¸€è‡´æ€§hashç®—æ³•ï¼Œæ˜¯é€šè¿‡æŸä¸ªhashå‡½æ•°ï¼ŒæŠŠåŒä¸€ä¸ªæ¥æºçš„è¯·æ±‚éƒ½æ˜ å°„åˆ°åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šã€‚ä¸€è‡´æ€§hashç®—æ³•æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯åŒä¸€ä¸ªæ¥æºçš„è¯·æ±‚ï¼Œåªä¼šæ˜ å°„åˆ°åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œå¯ä»¥è¯´æ˜¯å…·æœ‰è®°å¿†åŠŸèƒ½ã€‚åªæœ‰å½“è¿™ä¸ªèŠ‚ç‚¹ä¸å¯ç”¨æ—¶ï¼Œè¯·æ±‚æ‰ä¼šè¢«åˆ†é…åˆ°ç›¸é‚»çš„å¯ç”¨èŠ‚ç‚¹ä¸Šã€‚</p>\n<p>ä¸€ä¸ªä¸€è‡´æ€§hashç®—æ³•çš„ä»£ç å®ç°ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ª<a href=\"https://github.com/weibocom/motan/blob/master/motan-core/src/main/java/com/weibo/api/motan/cluster/loadbalance/ConsistentHashLoadBalance.java\">ç¤ºä¾‹</a>ã€‚</p>\n<h2>è´Ÿè½½å‡è¡¡ç®—æ³•çš„ä½¿ç”¨åœºæ™¯</h2>\n<p>ä¸Šé¢è¿™äº”ç§è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œå…·ä½“åœ¨ä¸šåŠ¡ä¸­è¯¥å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿæ ¹æ®æˆ‘çš„ç»éªŒï¼Œå®ƒä»¬çš„å„è‡ªåº”ç”¨åœºæ™¯å¦‚ä¸‹ï¼š</p>\n<ul>\n<li>\n<p>éšæœºç®—æ³•ï¼šå®ç°æ¯”è¾ƒç®€å•ï¼Œåœ¨è¯·æ±‚é‡è¿œè¶…å¯ç”¨æœåŠ¡èŠ‚ç‚¹æ•°é‡çš„æƒ…å†µä¸‹ï¼Œå„ä¸ªæœåŠ¡èŠ‚ç‚¹è¢«è®¿é—®çš„æ¦‚ç‡åŸºæœ¬ç›¸åŒï¼Œä¸»è¦åº”ç”¨åœ¨å„ä¸ªæœåŠ¡èŠ‚ç‚¹çš„æ€§èƒ½å·®å¼‚ä¸å¤§çš„æƒ…å†µä¸‹ã€‚</p>\n</li>\n<li>\n<p>è½®è¯¢ç®—æ³•ï¼šè·Ÿéšæœºç®—æ³•ç±»ä¼¼ï¼Œå„ä¸ªæœåŠ¡èŠ‚ç‚¹è¢«è®¿é—®çš„æ¦‚ç‡ä¹ŸåŸºæœ¬ç›¸åŒï¼Œä¹Ÿä¸»è¦åº”ç”¨åœ¨å„ä¸ªæœåŠ¡èŠ‚ç‚¹æ€§èƒ½å·®å¼‚ä¸å¤§çš„æƒ…å†µä¸‹ã€‚</p>\n</li>\n<li>\n<p>åŠ æƒè½®è¯¢ç®—æ³•ï¼šåœ¨è½®è¯¢ç®—æ³•åŸºç¡€ä¸Šçš„æ”¹è¿›ï¼Œå¯ä»¥é€šè¿‡ç»™æ¯ä¸ªèŠ‚ç‚¹è®¾ç½®ä¸åŒçš„æƒé‡æ¥æ§åˆ¶è®¿é—®çš„æ¦‚ç‡ï¼Œå› æ­¤ä¸»è¦è¢«ç”¨åœ¨æœåŠ¡èŠ‚ç‚¹æ€§èƒ½å·®å¼‚æ¯”è¾ƒå¤§çš„æƒ…å†µã€‚æ¯”å¦‚ç»å¸¸ä¼šå‡ºç°ä¸€ç§æƒ…å†µï¼Œå› ä¸ºé‡‡è´­æ—¶é—´çš„ä¸åŒï¼Œæ–°çš„æœåŠ¡èŠ‚ç‚¹çš„æ€§èƒ½å¾€å¾€è¦é«˜äºæ—§çš„èŠ‚ç‚¹ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ç»™æ–°çš„èŠ‚ç‚¹è®¾ç½®æ›´é«˜çš„æƒé‡ï¼Œè®©å®ƒæ‰¿æ‹…æ›´å¤šçš„è¯·æ±‚ï¼Œå……åˆ†å‘æŒ¥æ–°èŠ‚ç‚¹çš„æ€§èƒ½ä¼˜åŠ¿ã€‚</p>\n</li>\n<li>\n<p>æœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•ï¼šä¸åŠ æƒè½®è¯¢ç®—æ³•é¢„å…ˆå®šä¹‰å¥½æ¯ä¸ªèŠ‚ç‚¹çš„è®¿é—®æƒé‡ä¸åŒï¼Œé‡‡ç”¨æœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•ï¼Œå®¢æˆ·ç«¯åŒæœåŠ¡ç«¯èŠ‚ç‚¹çš„è¿æ¥æ•°æ˜¯åœ¨æ—¶åˆ»å˜åŒ–çš„ï¼Œç†è®ºä¸Šè¿æ¥æ•°è¶Šå°‘ä»£è¡¨æ­¤æ—¶æœåŠ¡ç«¯èŠ‚ç‚¹è¶Šç©ºé—²ï¼Œé€‰æ‹©æœ€ç©ºé—²çš„èŠ‚ç‚¹å‘èµ·è¯·æ±‚ï¼Œèƒ½è·å–æ›´å¿«çš„å“åº”é€Ÿåº¦ã€‚å°¤å…¶åœ¨æœåŠ¡ç«¯èŠ‚ç‚¹æ€§èƒ½å·®å¼‚è¾ƒå¤§ï¼Œè€Œåˆä¸å¥½åšåˆ°é¢„å…ˆå®šä¹‰æƒé‡æ—¶ï¼Œé‡‡ç”¨æœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•æ˜¯æ¯”è¾ƒå¥½çš„é€‰æ‹©ã€‚</p>\n</li>\n<li>\n<p>ä¸€è‡´æ€§hashç®—æ³•ï¼šå› ä¸ºå®ƒèƒ½å¤Ÿä¿è¯åŒä¸€ä¸ªå®¢æˆ·ç«¯çš„è¯·æ±‚å§‹ç»ˆè®¿é—®åŒä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹ï¼Œæ‰€ä»¥é€‚åˆæœåŠ¡ç«¯èŠ‚ç‚¹å¤„ç†ä¸åŒå®¢æˆ·ç«¯è¯·æ±‚å·®å¼‚è¾ƒå¤§çš„åœºæ™¯ã€‚æ¯”å¦‚æœåŠ¡ç«¯ç¼“å­˜é‡Œä¿å­˜ç€å®¢æˆ·ç«¯çš„è¯·æ±‚ç»“æœï¼Œå¦‚æœåŒä¸€å®¢æˆ·ç«¯ä¸€ç›´è®¿é—®ä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä¸€ç›´ä»ç¼“å­˜ä¸­è·å–æ•°æ®ã€‚</p>\n</li>\n</ul>\n<p>è¿™äº”ç§è´Ÿè½½å‡è¡¡ç®—æ³•æ˜¯ä¸šç•Œæœ€å¸¸ç”¨çš„ï¼Œä¸å…‰åœ¨RPCè°ƒç”¨ä¸­è¢«å¹¿æ³›é‡‡ç”¨ï¼Œåœ¨ä¸€äº›è´Ÿè½½å‡è¡¡ç»„ä»¶æ¯”å¦‚Nginxä¸­ä¹Ÿæœ‰åº”ç”¨ï¼Œæ‰€ä»¥è¯´æ˜¯ä¸€ç§é€šç”¨çš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œä½†æ˜¯ä¸æ˜¯æ‰€æœ‰çš„ä¸šåŠ¡åœºæ™¯éƒ½èƒ½å¾ˆå¥½è§£å†³å‘¢ï¼Ÿ</p>\n<p>æˆ‘æ›¾ç»é‡åˆ°è¿‡è¿™ç§åœºæ™¯ï¼š</p>\n<ul>\n<li>\n<p>æœåŠ¡èŠ‚ç‚¹æ•°é‡ä¼—å¤šï¼Œä¸”æ€§èƒ½å·®å¼‚æ¯”è¾ƒå¤§ï¼›</p>\n</li>\n<li>\n<p>æœåŠ¡èŠ‚ç‚¹åˆ—è¡¨ç»å¸¸å‘ç”Ÿå˜åŒ–ï¼Œå¢åŠ èŠ‚ç‚¹æˆ–è€…å‡å°‘èŠ‚ç‚¹æ—¶æœ‰å‘ç”Ÿï¼›</p>\n</li>\n<li>\n<p>å®¢æˆ·ç«¯å’ŒæœåŠ¡èŠ‚ç‚¹ä¹‹é—´çš„ç½‘ç»œæƒ…å†µæ¯”è¾ƒå¤æ‚ï¼Œæœ‰äº›åœ¨ä¸€ä¸ªæ•°æ®ä¸­å¿ƒï¼Œæœ‰äº›ä¸åœ¨ä¸€ä¸ªæ•°æ®ä¸­å¿ƒéœ€è¦è·¨ç½‘è®¿é—®ï¼Œè€Œä¸”ç½‘ç»œç»å¸¸å»¶è¿Ÿæˆ–è€…æŠ–åŠ¨ã€‚</p>\n</li>\n</ul>\n<p>æ˜¾ç„¶æ— è®ºæ˜¯éšæœºç®—æ³•è¿˜æ˜¯è½®è¯¢ç®—æ³•ï¼Œç¬¬ä¸€ä¸ªæƒ…å†µå°±ä¸æ»¡è¶³ï¼ŒåŠ æƒè½®è¯¢ç®—æ³•éœ€è¦é¢„å…ˆé…ç½®æœåŠ¡èŠ‚ç‚¹çš„æƒé‡ï¼Œåœ¨èŠ‚ç‚¹åˆ—è¡¨ç»å¸¸å˜åŒ–çš„æƒ…å†µä¸‹ä¸å¥½ç»´æŠ¤ï¼Œæ‰€ä»¥ä¹Ÿä¸é€‚åˆã€‚è€Œæœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•æ˜¯ä»å®¢æˆ·ç«¯è‡ªèº«ç»´åº¦å»åˆ¤æ–­çš„ï¼Œåœ¨å®é™…åº”ç”¨æ—¶ï¼Œå¹¶ä¸èƒ½ç›´æ¥åæ˜ å‡ºæœåŠ¡èŠ‚ç‚¹çš„è¯·æ±‚é‡å¤§å°ï¼Œå°¤å…¶æ˜¯åœ¨ç½‘ç»œæƒ…å†µæ¯”è¾ƒå¤æ‚çš„æƒ…å†µä¸‹ï¼Œå¹¶ä¸èƒ½åšåˆ°åŠ¨æ€çš„æŠŠè¯·æ±‚å‘é€ç»™æœ€åˆé€‚çš„æœåŠ¡èŠ‚ç‚¹ã€‚è‡³äºä¸€è‡´æ€§hashç®—æ³•ï¼Œæ˜¾ç„¶ä¸é€‚åˆè¿™ç§åœºæ™¯ã€‚</p>\n<p>é’ˆå¯¹ä¸Šé¢è¿™ç§åœºæ™¯ï¼Œæœ‰ä¸€ç§ç®—æ³•æ›´åŠ é€‚åˆï¼Œè¿™ç§ç®—æ³•å°±æ˜¯è‡ªé€‚åº”æœ€ä¼˜é€‰æ‹©ç®—æ³•ã€‚</p>\n<h2>è‡ªé€‚åº”æœ€ä¼˜é€‰æ‹©ç®—æ³•</h2>\n<p>è¿™ç§ç®—æ³•çš„ä¸»è¦æ€è·¯æ˜¯åœ¨å®¢æˆ·ç«¯æœ¬åœ°ç»´æŠ¤ä¸€ä»½åŒæ¯ä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹çš„æ€§èƒ½ç»Ÿè®¡å¿«ç…§ï¼Œå¹¶ä¸”æ¯éš”ä¸€æ®µæ—¶é—´å»æ›´æ–°è¿™ä¸ªå¿«ç…§ã€‚åœ¨å‘èµ·è¯·æ±‚æ—¶ï¼Œæ ¹æ®â€œäºŒå…«åŸåˆ™â€ï¼ŒæŠŠæœåŠ¡èŠ‚ç‚¹åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œæ‰¾å‡º20%çš„é‚£éƒ¨åˆ†å“åº”æœ€æ…¢çš„èŠ‚ç‚¹ï¼Œç„¶åé™ä½æƒé‡ã€‚è¿™æ ·çš„è¯ï¼Œå®¢æˆ·ç«¯å°±èƒ½å¤Ÿå®æ—¶çš„æ ¹æ®è‡ªèº«è®¿é—®æ¯ä¸ªèŠ‚ç‚¹æ€§èƒ½çš„å¿«æ…¢ï¼ŒåŠ¨æ€è°ƒæ•´è®¿é—®æœ€æ…¢çš„é‚£äº›èŠ‚ç‚¹çš„æƒé‡ï¼Œæ¥å‡å°‘è®¿é—®é‡ï¼Œä»è€Œå¯ä»¥ä¼˜åŒ–é•¿å°¾è¯·æ±‚ã€‚</p>\n<p>ç”±æ­¤å¯è§ï¼Œè‡ªé€‚åº”æœ€ä¼˜é€‰æ‹©ç®—æ³•æ˜¯å¯¹åŠ æƒè½®è¯¢ç®—æ³•çš„æ”¹è‰¯ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§åŠ¨æ€åŠ æƒè½®è¯¢ç®—æ³•ã€‚å®ƒçš„å®ç°å…³é”®ä¹‹å¤„å°±åœ¨äºä¸¤ç‚¹ï¼šç¬¬ä¸€ç‚¹æ˜¯æ¯éš”ä¸€æ®µæ—¶é—´è·å–å®¢æˆ·ç«¯åŒæ¯ä¸ªæœåŠ¡èŠ‚ç‚¹ä¹‹é—´è°ƒç”¨çš„å¹³å‡æ€§èƒ½ç»Ÿè®¡ï¼›ç¬¬äºŒç‚¹æ˜¯æŒ‰ç…§è¿™ä¸ªæ€§èƒ½ç»Ÿè®¡å¯¹æœåŠ¡èŠ‚ç‚¹è¿›è¡Œæ’åºï¼Œå¯¹æ’åœ¨æ€§èƒ½å€’æ•°20%çš„é‚£éƒ¨åˆ†èŠ‚ç‚¹èµ‹äºˆä¸€ä¸ªè¾ƒä½çš„æƒé‡ï¼Œå…¶ä½™çš„èŠ‚ç‚¹èµ‹äºˆæ­£å¸¸çš„æƒé‡ã€‚</p>\n<p>åœ¨å…·ä½“å®ç°æ—¶ï¼Œé’ˆå¯¹ç¬¬ä¸€ç‚¹ï¼Œéœ€è¦åœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€å—ç©ºé—´è®°å½•å®¢æˆ·ç«¯åŒæ¯ä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹ä¹‹é—´è°ƒç”¨çš„å¹³å‡æ€§èƒ½ï¼Œå¹¶æ¯éš”ä¸€æ®µå›ºå®šæ—¶é—´å»æ›´æ–°ã€‚è¿™ä¸ªæ›´æ–°çš„æ—¶é—´é—´éš”ä¸èƒ½å¤ªçŸ­ï¼Œå¤ªçŸ­çš„è¯å¾ˆå®¹æ˜“å—ç¬æ—¶çš„æ€§èƒ½æŠ–åŠ¨å½±å“ï¼Œå¯¼è‡´ç»Ÿè®¡å˜åŒ–å¤ªå¿«ï¼Œæ²¡æœ‰å‚è€ƒæ€§ï¼›åŒæ—¶ä¹Ÿä¸èƒ½å¤ªé•¿ï¼Œå¤ªé•¿çš„è¯æ—¶æ•ˆæ€§å°±ä¼šå¤§æ‰“æŠ˜æ‰£ï¼Œæ•ˆæœä¸ä½³ã€‚æ ¹æ®æˆ‘çš„ç»éªŒï¼Œ1åˆ†é’Ÿçš„æ›´æ–°æ—¶é—´é—´éš”æ˜¯ä¸ªæ¯”è¾ƒåˆé€‚çš„å€¼ã€‚</p>\n<p>é’ˆå¯¹ç¬¬äºŒç‚¹ï¼Œå…³é”®ç‚¹æ˜¯æƒé‡å€¼çš„è®¾å®šï¼Œå³ä½¿æœåŠ¡èŠ‚ç‚¹ä¹‹é—´çš„æ€§èƒ½å·®å¼‚è¾ƒå¤§ï¼Œä¹Ÿä¸é€‚åˆæŠŠæƒé‡è®¾ç½®å¾—å·®å¼‚å¤ªå¤§ï¼Œè¿™æ ·ä¼šå¯¼è‡´æ€§èƒ½è¾ƒå¥½çš„èŠ‚ç‚¹ä¸æ€§èƒ½è¾ƒå·®çš„èŠ‚ç‚¹ä¹‹é—´è°ƒç”¨é‡ç›¸å·®å¤ªå¤§ï¼Œè¿™æ ·ä¹Ÿä¸æ˜¯ä¸€ç§åˆç†çš„çŠ¶æ€ã€‚åœ¨å®é™…è®¾å®šæ—¶ï¼Œå¯ä»¥è®¾ç½®20%æ€§èƒ½è¾ƒå·®çš„èŠ‚ç‚¹æƒé‡ä¸º3ï¼Œå…¶ä½™èŠ‚ç‚¹æƒé‡ä¸º5ã€‚</p>\n<h2>æ€»ç»“</h2>\n<p>ä»Šå¤©æˆ‘ç»™ä½ è®²è§£äº†æœ€å¸¸ç”¨çš„äº”ç§å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ç®—æ³•çš„åŸç†ä»¥åŠé€‚ç”¨åœºæ™¯ï¼Œåœ¨ä¸šåŠ¡å®è·µçš„è¿‡ç¨‹æ±‡æ€»ï¼Œç©¶ç«Ÿé‡‡ç”¨å“ªç§ï¼Œéœ€è¦æ ¹æ®å®é™…æƒ…å†µæ¥å†³å®šï¼Œå¹¶ä¸æ˜¯ç®—æ³•è¶Šå¤æ‚è¶Šå¥½ã€‚</p>\n<p>æ¯”å¦‚åœ¨ä¸€ç§ç®€å•çš„ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œæœ‰10ä¸ªæœåŠ¡èŠ‚ç‚¹ï¼Œå¹¶ä¸”é…ç½®åŸºæœ¬ç›¸åŒï¼Œä½äºåŒä¸€ä¸ªæ•°æ®ä¸­å¿ƒï¼Œæ­¤æ—¶å®¢æˆ·ç«¯é€‰æ‹©éšæœºç®—æ³•æˆ–è€…è½®è¯¢ç®—æ³•æ—¢ç®€å•åˆé«˜æ•ˆï¼Œå¹¶æ²¡æœ‰å¿…è¦é€‰æ‹©åŠ æƒè½®è¯¢ç®—æ³•æˆ–è€…æœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•ã€‚</p>\n<p>ä½†åœ¨é‡åˆ°å‰é¢æåˆ°çš„é‚£ç§å¤æ‚ä¸šåŠ¡åœºæ™¯ä¸‹ï¼ŒæœåŠ¡èŠ‚ç‚¹æ•°é‡ä¼—å¤šï¼Œé…ç½®å·®å¼‚æ¯”è¾ƒå¤§ï¼Œè€Œä¸”ä½äºä¸åŒçš„æ•°æ®ä¸­å¿ƒï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡èŠ‚ç‚¹ä¹‹é—´çš„ç½‘ç»œæƒ…å†µä¹Ÿæ¯”è¾ƒå¤æ‚ï¼Œè¿™ä¸ªæ—¶å€™ç®€å•çš„è´Ÿè½½å‡è¡¡ç®—æ³•é€šå¸¸éƒ½éš¾ä»¥åº”å¯¹ï¼Œéœ€è¦é’ˆå¯¹å®é™…æƒ…å†µï¼Œé€‰æ‹©æ›´æœ‰é’ˆå¯¹æ€§çš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œæ¯”å¦‚è‡ªé€‚åº”æœ€ä¼˜é€‰æ‹©ç®—æ³•ã€‚</p>\n<h2>æ€è€ƒé¢˜</h2>\n<p>ä»Šå¤©æˆ‘ç»™ä½ è®²çš„éƒ½å±äºè½¯ä»¶å±‚é¢çš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œå®ƒä¸F5è¿™ç§ç¡¬ä»¶è´Ÿè½½å‡è¡¡å™¨æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ</p>\n<p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºå†™ä¸‹è‡ªå·±çš„æ€è€ƒï¼Œä¸æˆ‘ä¸€èµ·è®¨è®ºã€‚</p>\n<hr />\n<p><strong>æ‰©å±•é˜…è¯»ï¼š</strong></p>\n<p>ä¸€è‡´æ€§hashç®—æ³•æ˜¯å¦‚ä½•åšåˆ°æ·»åŠ æˆ–è€…åˆ é™¤èŠ‚ç‚¹å¯¹æ•´ä½“è¯·æ±‚çš„åˆ†å¸ƒå½±å“ä¸å¤§ï¼š<a href=\"https://www.codeproject.com/Articles/56138/Consistent-hashing\">https://www.codeproject.com/Articles/56138/Consistent-hashing</a></p>\n<p></p>\n","comments":[{"had_liked":false,"id":32268,"user_name":"æ³¢æ³¢å®‰","can_delete":false,"product_type":"c1","uid":1002452,"ip_address":"","ucode":"2A677908E5A75D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4b/d4/b7719327.jpg","comment_is_top":false,"comment_ctime":1539506888,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"121798591176","product_id":100014401,"comment_content":"1ã€f5ä¸€èˆ¬ç”¨åœ¨å››å±‚è´Ÿè½½ï¼Œè½¯è´Ÿè½½ä¸€èˆ¬ç”¨åœ¨ä¸ƒå±‚è´Ÿè½½<br>2ã€f5æ€§èƒ½å’ŒåŠŸèƒ½éƒ½å¾ˆå¼ºå¤§ï¼Œä½†æ˜¯è®¾å¤‡ä»·æ ¼æ˜‚è´µã€‚è½¯è´Ÿè½½æˆæœ¬ä½ï¼Œè€Œä¸”å¯ä»¥æ¨ªå‘æ‰©å±•ï¼ŒåŠŸèƒ½å¯å®šåˆ¶åŒ–å¼€å‘ï¼Œæ›´åŠ çµæ´»ã€‚","like_count":29},{"had_liked":false,"id":31629,"user_name":"æ­£æ˜¯é‚£æœµç«ç‘°","can_delete":false,"product_type":"c1","uid":1048261,"ip_address":"","ucode":"73D630B654573F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fe/c5/3467cf94.jpg","comment_is_top":false,"comment_ctime":1539249285,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"48783889541","product_id":100014401,"comment_content":"è€å¸ˆæœ‰å‡ ä¸ªç–‘é—®ï¼Ÿ<br>æœ€å°‘æ´»è·ƒè¿æ¥ç®—æ³•ï¼šå®¢æˆ·ç«¯æ˜¯æ€ä¹ˆçŸ¥é“æä¾›è€…æœ‰å¤šå°‘è¿æ¥å‘¢ï¼Ÿ<br>è‡ªé€‚åº”æœ€ä¼˜é€‰æ‹©ç®—æ³•ï¼šæ€§èƒ½å¥½åæ˜¯æ ¹æ®æä¾›çš„å“åº”æ—¶é—´æŠ½æ ·ç»Ÿè®¡å—ï¼Ÿè¿˜æ˜¯è¦æä¾›è€…æä¾›ç›¸åº”çš„æ¥å£ç»™å®¢æˆ·ç«¯è°ƒç”¨æ¥åŒç»Ÿè®¡ï¼Ÿ","like_count":11,"discussions":[{"author":{"id":1735152,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/79/f0/19c6ae1c.jpg","nickname":"Geek_7324de","note":"","ucode":"B1C2CB60D75FB5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300036,"discussion_content":"æœ€å°‘æ´»è·ƒåº¦è¿æ¥ç®—æ³•ï¼Œæ˜¯åœ¨å®¢æˆ·ç«¯ä¿å­˜äº†å’Œæä¾›è€…ä¹‹é—´çš„è¿æ¥æ•°ï¼ŒæœåŠ¡å¼€å§‹çš„æ—¶å€™è¿æ¥æ•°åŠ 1ï¼ŒæœåŠ¡å“åº”æ—¶èŠ‚ç‚¹æ•°å‡1ï¼Œæ˜¯å®¢æˆ·ç«¯è‡ªå·±ç»´æŠ¤çš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1597916124,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2224894,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epzialibpA6iaiaSyicziawiciauBJUfqVicFp8NPXUZKwAic057no97ljkrwhAB42InR2Y94Fq6rVSy3fhCUMA/132","nickname":"Geek_7e139d","note":"","ucode":"F233E16D5479EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1735152,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/79/f0/19c6ae1c.jpg","nickname":"Geek_7324de","note":"","ucode":"B1C2CB60D75FB5","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":330069,"discussion_content":"è¿™ä¸ªç»´æŠ¤çš„è¿æ¥æ•°ä¸€èˆ¬ä»¥ä»€ä¹ˆä¸ºè½½ä½“ä¿å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606524815,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300036,"ip_address":""},"score":330069,"extra":""}]},{"author":{"id":1110437,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f1/a5/6cc9f728.jpg","nickname":"ç§‹å¤©çš„é€æ˜é›¨ğŸŒ§ï¸","note":"","ucode":"9363B49BFA6C14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285093,"discussion_content":"å¯¹è‡ªé€‚åº”æœ€ä¼˜é€‰æ‹©ç®—æ³•å­˜åœ¨åŒæ ·çš„ç–‘é—®ï¼Œå¦‚ä½•è·å–å®¢æˆ·ç«¯åŒæ¯ä¸ªæœåŠ¡èŠ‚ç‚¹ä¹‹é—´è°ƒç”¨çš„å¹³å‡æ€§èƒ½ç»Ÿè®¡ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592737738,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":82061,"user_name":"Ellison","can_delete":false,"product_type":"c1","uid":1207457,"ip_address":"","ucode":"A2FB94D4F6A332","user_header":"https://static001.geekbang.org/account/avatar/00/12/6c/a1/80d83f0a.jpg","comment_is_top":false,"comment_ctime":1554111945,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"35913850313","product_id":100014401,"comment_content":"æœ€å°‘æ´»è·ƒè¿æ¥ä¹‹å‰è€å¸ˆè¯´è¿‡ï¼Œæ¯ä¸€æ¬¡æ¥ä¸€ä¸ªè¯·æ±‚å°±ä¼š+1ï¼Œ è¯·æ±‚å®Œè¿”å›å°±ä¼š-1ï¼Œç™½å­¦äº†ï¼ŒäºŒæ¥¼","like_count":9,"discussions":[{"author":{"id":1139413,"avatar":"https://static001.geekbang.org/account/avatar/00/11/62/d5/1f5c5ab6.jpg","nickname":"å¤§å¤§å¤§ç†Šmyeh","note":"","ucode":"4832C2E7CEB151","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281902,"discussion_content":"æœ€å°‘æ´»è·ƒè¿æ¥ï¼Œçœ‹çš„æ˜¯è¯·æ±‚é‡çš„æ•°ç›®ï¼Œä½ ä¸€ä¸ªè¯·æ±‚æ¥+1ï¼Œç»“æŸ-1ï¼Œæ€ä¹ˆè®¡ç®—è¯·æ±‚é‡ï¼Ÿ\nåº”è¯¥åª+1ï¼Œè¯·æ±‚ç»“æŸä¸ä¼š-1çš„ã€‚è¿™æ ·æ‰èƒ½ä½“ç°è¿æ¥æ•°ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1591838732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1735152,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/79/f0/19c6ae1c.jpg","nickname":"Geek_7324de","note":"","ucode":"B1C2CB60D75FB5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1139413,"avatar":"https://static001.geekbang.org/account/avatar/00/11/62/d5/1f5c5ab6.jpg","nickname":"å¤§å¤§å¤§ç†Šmyeh","note":"","ucode":"4832C2E7CEB151","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300037,"discussion_content":"...ä½ è¿™æ ·çš„è¯ï¼Œå°±ç®—çš„æ˜¯ç´¯è®¡è¿æ¥æ•°ï¼Œæ€ä¹ˆèƒ½çœ‹å‡ºæ´»è·ƒè¿æ¥æ•°ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597916208,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":281902,"ip_address":""},"score":300037,"extra":""}]}]},{"had_liked":false,"id":66553,"user_name":"æœ¨æœ¨æœ¨","can_delete":false,"product_type":"c1","uid":1240679,"ip_address":"","ucode":"5EBC11AB704EF2","user_header":"https://static001.geekbang.org/account/avatar/00/12/ee/67/d6d9499e.jpg","comment_is_top":false,"comment_ctime":1549958512,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18729827696","product_id":100014401,"comment_content":"F5åº”ç”¨åœ¨ç½‘ç»œçš„ä¸‰å±‚ï¼ˆç½‘ç»œå±‚ï¼‰ï¼Œå¯é€šè¿‡ipé‡å†™æ¥å®ç°è´Ÿè½½å‡è¡¡ï¼Œä¼˜åŠ¿æ˜¯åº”ç”¨é€»è¾‘æ— å…³æ€§ï¼Œæ€§èƒ½è¶…é«˜ã€‚ç¼ºç‚¹å°±æ˜¯è´µï¼Œè€Œä¸”æ²¡æ³•è®¢åˆ¶ï¼Œå› ä¸ºå¯¹ä¼ è¾“å±‚å’Œåº”ç”¨å±‚éƒ½ä¸äº†è§£ï¼Œæ²¡æ³•æ ¹æ®ç‰¹å®šåº”ç”¨æ¯”å¦‚urlåšè´Ÿè½½å‡è¡¡ã€‚<br>è½¯è´Ÿè½½ä¸€èˆ¬å·¥ä½œåœ¨å››å±‚æˆ–ä¸ƒå±‚ï¼Œhaproxyæˆ–niginxï¼Œä¼˜åŠ¿æ˜¯å¯å®šåˆ¶æ€§å¼ºï¼Œæˆæœ¬ä½ã€‚","like_count":5},{"had_liked":false,"id":30816,"user_name":"lwt","can_delete":false,"product_type":"c1","uid":1063356,"ip_address":"","ucode":"856CFF234B6FE4","user_header":"https://static001.geekbang.org/account/avatar/00/10/39/bc/5a58c429.jpg","comment_is_top":false,"comment_ctime":1539004356,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18718873540","product_id":100014401,"comment_content":"è‡ªé€‚åº”æœ€ä¼˜ç®—æ³•ä¸­ï¼Œæ˜¯é€šè¿‡å“ªäº›æŒ‡æ ‡å»è¡¡é‡æœåŠ¡æä¾›è€…å½“å‰çš„æ€§èƒ½çš„å‘¢ï¼Ÿ","like_count":4},{"had_liked":false,"id":31378,"user_name":"arebya","can_delete":false,"product_type":"c1","uid":1142802,"ip_address":"","ucode":"074ECE8D6C1874","user_header":"https://static001.geekbang.org/account/avatar/00/11/70/12/aa74da82.jpg","comment_is_top":false,"comment_ctime":1539166388,"is_pvip":false,"replies":[{"id":"11326","content":"ç»éªŒåˆ¤æ–­ï¼Œ2&#47;8åŸåˆ™ï¼Œä¸ä¸€å®šä¸¥æ ¼æŒ‰ç…§è¿™ä¸ªè®¾å®š","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1539223564,"ip_address":"","comment_id":31378,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14424068276","product_id":100014401,"comment_content":"â€œåœ¨å®é™…è®¾å®šæ—¶ï¼Œå¯ä»¥è®¾ç½® 20% æ€§èƒ½è¾ƒå·®çš„èŠ‚ç‚¹æƒé‡ä¸º 3ï¼Œå…¶ä½™èŠ‚ç‚¹æƒé‡ä¸º 5â€<br>è¿™ä¸ªæœ‰ä»€ä¹ˆä¾æ®å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426313,"discussion_content":"ç»éªŒåˆ¤æ–­ï¼Œ2/8åŸåˆ™ï¼Œä¸ä¸€å®šä¸¥æ ¼æŒ‰ç…§è¿™ä¸ªè®¾å®š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539223564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":29582,"user_name":"é­é¢–çª","can_delete":false,"product_type":"c1","uid":1184964,"ip_address":"","ucode":"097544C71EBDA7","user_header":"https://static001.geekbang.org/account/avatar/00/12/14/c4/e354d8ba.jpg","comment_is_top":false,"comment_ctime":1538447452,"is_pvip":false,"replies":[{"id":"10783","content":"é‚£å°±ä¸æ˜¯è½®è¯¢äº†å§","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1538625222,"ip_address":"","comment_id":29582,"utype":1}],"discussion_count":4,"race_medal":0,"score":"14423349340","product_id":100014401,"comment_content":"åœ¨åŠ æƒè½®è¯¢ç®—æ³•ä¸­ï¼Œé€šè¿‡ä¸€ä¸ªéšæœºæ•°å»è®¿é—®ç”Ÿæˆåºåˆ—ï¼Œå°±ä¸éœ€è¦è€ƒè™‘ç”Ÿæˆåºåˆ—çš„é¡ºåºæ˜¯å¦åˆç†çš„é—®é¢˜ã€‚","like_count":3,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":425664,"discussion_content":"é‚£å°±ä¸æ˜¯è½®è¯¢äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1538625222,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2054357,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/58/d5/6688e2a0.jpg","nickname":"hey","note":"","ucode":"ECD6D0EC04E50B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383194,"discussion_content":"å¯èƒ½ä¸å«è½®è¯¢äº†ï¼Œä½†æ„æ€æ˜¯å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625983030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2309885,"avatar":"","nickname":"Geek_3abfa2","note":"","ucode":"135C5D40A170E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":358456,"discussion_content":"æ¯”å¦‚èŠ‚ç‚¹123æƒé‡æ¯”ä¸º5ï¼š3ï¼š2ï¼Œé‚£å°±éšæœºç”Ÿæˆä¸€ä¸ª1åˆ°10çš„æ•°ï¼Œ1åˆ°5å°±è®¿é—®èŠ‚ç‚¹1ï¼Œ6åˆ°8å°±è®¿é—®èŠ‚ç‚¹2ï¼Œ9ï¼Œ10å°±è®¿é—®èŠ‚ç‚¹3ã€‚å¯ä»¥è¾¾åˆ°ç”Ÿæˆåºåˆ—ä¸€æ ·çš„æ•ˆæœï¼Œæ›´ç”Ÿå†…å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615985922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1466953,"avatar":"https://static001.geekbang.org/account/avatar/00/16/62/49/6332c99b.jpg","nickname":"man1s","note":"","ucode":"FFDB6B52F65A1B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1138,"discussion_content":"è½®è¯¢çš„é›†åˆå˜æˆäº†AAABBCå‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562320702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103935,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1560568479,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5855535775","product_id":100014401,"comment_content":"åŸç†è®²çš„é€šä¿—æ˜“æ‡‚ï¼ŒèµğŸ‘ï¼Œå…·ä½“å’‹å®ç°è‡ªå·±ç©å§!<br>è½¯ç¡¬ä»¶çš„è´Ÿè½½å‡è¡¡éƒ½æ²¡ç›´æ¥å®ç°è¿‡ï¼Œæ¨æµ‹ç¡¬ä»¶æ€§èƒ½æ›´å¥½ä»·æ ¼æ›´é«˜æ¯”è¾ƒç¡¬ä¸çµæ´»ã€‚","like_count":1},{"had_liked":false,"id":29728,"user_name":"Aæ˜Ÿç©ºä¹‹å¤œ","can_delete":false,"product_type":"c1","uid":1110974,"ip_address":"","ucode":"E99D61B7827532","user_header":"https://static001.geekbang.org/account/avatar/00/10/f3/be/d8ba00d5.jpg","comment_is_top":false,"comment_ctime":1538524459,"is_pvip":false,"replies":[{"id":"10782","content":"ç›®å‰åªåœ¨å¾®åšå†…éƒ¨ç‰ˆæœ¬æœ‰ä½¿ç”¨ï¼Œè¿˜æ²¡æœ‰å¯¹å¤–å¼€æº","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1538625201,"ip_address":"","comment_id":29728,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5833491755","product_id":100014401,"comment_content":"motanä¸­æœ‰å¯¹è‡ªé€‚åº”æœ€ä¼˜é€‰æ‹©ç®—æ³•çš„æ”¯æŒå—","like_count":1,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":425698,"discussion_content":"ç›®å‰åªåœ¨å¾®åšå†…éƒ¨ç‰ˆæœ¬æœ‰ä½¿ç”¨ï¼Œè¿˜æ²¡æœ‰å¯¹å¤–å¼€æº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1538625201,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":315025,"user_name":"ä¿¯ç°é£æ™¯.","can_delete":false,"product_type":"c1","uid":1044166,"ip_address":"","ucode":"A6DB68B7B84AEE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/c6/bebcbcf0.jpg","comment_is_top":false,"comment_ctime":1633663500,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633663500","product_id":100014401,"comment_content":"è´Ÿè½½å‡è¡¡çš„ç›®çš„æ˜¯UIæœ€å¤§åŒ–åœ°åˆ©ç”¨ç°æœ‰èµ„æºï¼Œè¾¾æˆæœ€ä¼˜çš„æ€§èƒ½ã€‚æ‰€ä»¥è¦ç»¼åˆè€ƒè™‘å®é™…ä¸šåŠ¡åœºæ™¯ä¸­çš„å…·ä½“æƒ…å†µï¼šæ¯”å¦‚ç¡¬ä»¶æ•°é‡ã€æ¯å°ç¡¬ä»¶çš„é…ç½®ã€‚<br><br>å¦‚æœæ•°é‡å°‘ï¼Œé…ç½®ç±»ä¼¼ï¼Œå°±é€‚åˆéšæœºå’Œè½®è¯¢ç®—æ³•ã€‚<br>å¦‚æœæ•°é‡å¤šï¼Œé…ç½®ä¸åŒï¼Œé€‚åˆé‡‡ç”¨æ›´åŠ å…·å¤‡â€œè‡ªé€‚åº”â€ç‰¹æ€§çš„ç®—æ³•ï¼Œæ¯”å¦‚åŠ æƒè½®è¯¢å’Œè‡ªé€‚åº”æœ€ä¼˜é€‰æ‹©ç®—æ³•ã€‚<br>å¦‚æœè¦ä¿è¯åŒä¸€æ¥æºçš„è¯·æ±‚éƒ½æ˜ å°„åˆ°åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œåªèƒ½é€‰æ‹©ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•ã€‚","like_count":0},{"had_liked":false,"id":253651,"user_name":"coder","can_delete":false,"product_type":"c1","uid":1656956,"ip_address":"","ucode":"3A0940EBF94577","user_header":"https://static001.geekbang.org/account/avatar/00/19/48/7c/2aaf50e5.jpg","comment_is_top":false,"comment_ctime":1602819043,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602819043","product_id":100014401,"comment_content":"å•¥å«é•¿å°¾è¯·æ±‚å•Š","like_count":0},{"had_liked":false,"id":173487,"user_name":"Ricky Gu","can_delete":false,"product_type":"c1","uid":1345636,"ip_address":"","ucode":"EDCD7D7DA60E38","user_header":"https://static001.geekbang.org/account/avatar/00/14/88/64/39501fbe.jpg","comment_is_top":false,"comment_ctime":1579573844,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579573844","product_id":100014401,"comment_content":"è‡ªé€‚åº”ç®—æ³•æ˜¯æ ¹æ®è¿”å›å»¶è¿Ÿæ¥è°ƒæ•´è¯·æ±‚çš„æ•°é‡ï¼Œæœ‰æ²¡æœ‰å¯èƒ½åŠ¨æ€è°ƒæ•´é“¾æ¥æ•°é‡å‘¢ï¼Ÿå°±æ˜¯æ´»è·ƒé“¾æ¥æ•°é‡","like_count":0},{"had_liked":false,"id":99228,"user_name":"äºšæ—","can_delete":false,"product_type":"c1","uid":1018972,"ip_address":"","ucode":"4A5A6D24314B79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/5c/3f164f66.jpg","comment_is_top":false,"comment_ctime":1559179636,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559179636","product_id":100014401,"comment_content":"è½¯è´Ÿè½½ä¾¿å®œï¼ŒF5å¤ªè´µ","like_count":0},{"had_liked":false,"id":77276,"user_name":"å¦¥å","can_delete":false,"product_type":"c1","uid":1249656,"ip_address":"","ucode":"7201DFE9C12669","user_header":"https://static001.geekbang.org/account/avatar/00/13/11/78/4f0cd172.jpg","comment_is_top":false,"comment_ctime":1552900650,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552900650","product_id":100014401,"comment_content":"æœ€å°æ´»è·ƒé“¾æ¥ç®—æ³•æ˜¯ä¾èµ–ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é€šè¿‡çŸ­é“¾æ¥é€šä¿¡å§ã€‚ä½†æ˜¯çŸ­é“¾æ¥çš„è¦é¢‘ç¹çš„å»ºç«‹å’Œæ–­å¼€é“¾æ¥ï¼Œä¸ºä½•ä¸ç”¨é•¿é“¾æ¥?","like_count":0},{"had_liked":false,"id":53643,"user_name":"ç¬‘å¿˜æ—¥æœˆæ˜Ÿè¾°","can_delete":false,"product_type":"c1","uid":1093857,"ip_address":"","ucode":"79B6F429C78D8B","user_header":"https://static001.geekbang.org/account/avatar/00/10/b0/e1/3aeb2d2d.jpg","comment_is_top":false,"comment_ctime":1545704541,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1545704541","product_id":100014401,"comment_content":"åŠ æƒè½®è¯¢ä¾‹å­ä¸­ï¼Œå¦‚æœè¦å°½å¯èƒ½ä¿è¯ç”Ÿäº§çš„åºåˆ—çš„å‡åŒ€ï¼Œåºåˆ—è®¾ç½®ä¸º{aã€aã€bã€cã€bã€a},åœ¨ç¬¬7æ¬¡è®¿é—®å¼€å§‹ï¼Œåˆä»aå¼€å§‹ï¼Œè¿™æ ·ç¬¬6ï¼Œ7ï¼Œ8ä¸‰æ¬¡è®¿é—®çš„èŠ‚ç‚¹éƒ½æ˜¯a,ä¹Ÿä¼šé€ æˆèŠ‚ç‚¹è®¿é—®å¤±è¡¡å§ï¼Œå¦‚æœè®¾è®¡ä¸º{aã€bã€aã€bã€aã€c},æ›´èƒ½ä¿è¯åºåˆ—çš„å‡åŒ€å§ï¼Œå¤æœˆè€å¸ˆï¼Ÿ<br><br><br><br>","like_count":0},{"had_liked":false,"id":45047,"user_name":"å¸¸æ‰¬","can_delete":false,"product_type":"c1","uid":1207316,"ip_address":"","ucode":"F48F2C17E076E7","user_header":"https://static001.geekbang.org/account/avatar/00/12/6c/14/06535aa1.jpg","comment_is_top":false,"comment_ctime":1543541392,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1543541392","product_id":100014401,"comment_content":"å—æ•™ï¼Œä¸å’‹æ‡‚ï¼Œç†è®ºéƒ½è¿˜å¥½ç†è§£ï¼Œæ€ä¹ˆå®ç°å˜","like_count":0,"discussions":[{"author":{"id":1015189,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/95/dd73022c.jpg","nickname":"æˆ‘æ˜¯æ›¾ç»é‚£ä¸ªå°‘å¹´","note":"","ucode":"9F02F7FF147D14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":36975,"discussion_content":"è€å¸ˆä¸æ˜¯ç»™äº†å‚è€ƒçš„å®ç°é“¾æ¥ï¼Ÿä½ ç‚¹å‡»å¯ä»¥çœ‹ä¸‹å…·ä½“å®ç°ä¸æ˜¯å¾ˆå¤æ‚ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571473351,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":35843,"user_name":"xuanyuan","can_delete":false,"product_type":"c1","uid":1113737,"ip_address":"","ucode":"1EC79B9372868F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI2icbib62icXtibTkThtyRksbuJLoTLMts7zook2S30MiaBtbz0f5JskwYicwqXkhpYfvCpuYkcvPTibEaQ/132","comment_is_top":false,"comment_ctime":1540821295,"is_pvip":false,"replies":[{"id":"12857","content":"javaç‰ˆæœ¬motanæ˜¯è¿™ä¹ˆå®ç°çš„","user_name":"ä½œè€…å›å¤","user_name_real":"å¤æœˆä¸­å¿ƒç›¸å¿ƒ","uid":"1010144","ctime":1540956030,"ip_address":"","comment_id":35843,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1540821295","product_id":100014401,"comment_content":"è®©å®¢æˆ·ç«¯å®ç°è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œéš¾é“æ–°æµªå°±æ˜¯è¿™ä¹ˆç©çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1010144,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/69/e0/ff8ee2e2.jpg","nickname":"èƒ¡å¿ æƒ³","note":"","ucode":"0792605FC265B4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427685,"discussion_content":"javaç‰ˆæœ¬motanæ˜¯è¿™ä¹ˆå®ç°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1540956030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":113550,"title":"02 | TCP协议：如何保证页面文件能被完整送达浏览器？","content":"<p>在衡量Web页面性能的时候有一个重要的指标叫“<strong>FP（First Paint）</strong>”，是<strong>指从页面加载到首次开始绘制的时长</strong>。这个指标直接影响了用户的跳出率，更快的页面响应意味着更多的PV、更高的参与度，以及更高的转化率。那什么影响FP指标呢？其中一个重要的因素是<strong>网络加载速度</strong>。</p><p>要想优化Web页面的加载速度，你需要对网络有充分的了解。而理解网络的关键是要对网络协议有深刻的认识，不管你是使用HTTP，还是使用WebSocket，它们都是基于TCP/IP的，如果你对这些原理有足够了解，也就清楚如何去优化Web性能，或者能更轻松地定位Web问题了。此外，TCP/IP的设计思想还有助于拓宽你的知识边界，从而在整体上提升你对项目的理解和解决问题的能力。</p><p>因此，在这篇文章中，我会给你<strong>重点介绍在Web世界中的TCP/IP是如何工作的</strong>。当然，协议并不是本专栏的重点，这篇文章我会从我的角度结合HTTP来分析网络请求的核心路径，如果你想对网络协议有更深入的理解，那我推荐你学习刘超老师的《趣谈网络协议》专栏，以及陶辉老师的《Web协议详解与抓包实战》视频课程。</p><p>好，接下来我们回到正题，开始今天的内容。在网络中，一个文件通常会被拆分为很多数据包来进行传输，而数据包在传输过程中又有很大概率丢失或者出错。<strong>那么如何保证页面文件能被完整地送达浏览器呢？</strong></p><!-- [[[read_end]]] --><p>这篇文章将站在数据包的视角，给出问题答案。</p><h2>一个数据包的“旅程”</h2><p>下面我将分别从“数据包如何送达主机”“主机如何将数据包转交给应用”和“数据是如何被完整地送达应用程序”这三个角度来为你讲述数据的传输过程。</p><p><strong>互联网，实际上是一套理念和协议组成的体系架构</strong>。其中，协议是一套众所周知的规则和标准，如果各方都同意使用，那么它们之间的通信将变得毫无障碍。</p><p>互联网中的数据是通过数据包来传输的。如果发送的数据很大，那么该数据就会被拆分为很多小数据包来传输。比如你现在听的音频数据，是拆分成一个个小的数据包来传输的，并不是一个大的文件一次传输过来的。</p><h3>1. IP：把数据包送达目的主机</h3><p>数据包要在互联网上进行传输，就要符合<strong>网际协议</strong>（Internet Protocol，简称<strong>IP</strong>）标准。互联网上不同的在线设备都有唯一的地址，地址只是一个数字，这和大部分家庭收件地址类似，你只需要知道一个家庭的具体地址，就可以往这个地址发送包裹，这样物流系统就能把物品送到目的地。</p><p><strong>计算机的地址就称为IP地址，访问任何网站实际上只是你的计算机向另外一台计算机请求信息。</strong></p><p>如果要想把一个数据包从主机A发送给主机B，那么在传输之前，数据包上会被附加上主机B的IP地址信息，这样在传输过程中才能正确寻址。额外地，数据包上还会附加上主机A本身的IP地址，有了这些信息主机B才可以回复信息给主机A。这些附加的信息会被装进一个叫IP头的数据结构里。IP头是IP数据包开头的信息，包含IP版本、源IP地址、目标IP地址、生存时间等信息。如果你要详细了解IP头信息，可以参考<a href=\"https://zh.wikipedia.org/wiki/%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE\">该链接</a>。</p><p>为了方便理解，我先把网络简单分为三层结构，如下图：</p><p><img src=\"https://static001.geekbang.org/resource/image/00/4d/00d9bcad0bda1fdb43ead428e89ae74d.png?wh=1142*703\" alt=\"\"></p><center><span class=\"reference\">简化的IP网络三层传输模型</span></center><p>下面我们一起来看下一个数据包从主机A到主机B的旅程：</p><ul>\n<li>上层将含有“极客时间”的数据包交给网络层；</li>\n<li>网络层再将IP头附加到数据包上，组成新的 <strong>IP数据包</strong>，并交给底层；</li>\n<li>底层通过物理网络将数据包传输给主机B；</li>\n<li>数据包被传输到主机B的网络层，在这里主机B拆开数据包的IP头信息，并将拆开来的数据部分交给上层；</li>\n<li>最终，含有“极客时间”信息的数据包就到达了主机B的上层了。</li>\n</ul><h3>2. UDP：把数据包送达应用程序</h3><p>IP是非常底层的协议，只负责把数据包传送到对方电脑，但是对方电脑并不知道把数据包交给哪个程序，是交给浏览器还是交给王者荣耀？因此，需要基于IP之上开发能和应用打交道的协议，最常见的是“<strong>用户数据包协议</strong>（User Datagram Protocol）”，简称<strong>UDP</strong>。</p><p>UDP中一个最重要的信息是<strong>端口号</strong>，端口号其实就是一个数字，每个想访问网络的程序都需要绑定一个端口号。通过端口号UDP就能把指定的数据包发送给指定的程序了，所以<strong>IP通过IP地址信息把数据包发送给指定的电脑，而UDP通过端口号把数据包分发给正确的程序</strong>。和IP头一样，端口号会被装进UDP头里面，UDP头再和原始数据包合并组成新的UDP数据包。UDP头中除了目的端口，还有源端口号等信息。</p><p>为了支持UDP协议，我把前面的三层结构扩充为四层结构，在网络层和上层之间增加了传输层，如下图所示：</p><p><img src=\"https://static001.geekbang.org/resource/image/3e/ea/3edb673a43f23d84253c52124ce447ea.png?wh=1142*814\" alt=\"\"></p><center><span class=\"reference\">简化的UDP网络四层传输模型</span></center><p>下面我们一起来看下一个数据包从主机A旅行到主机B的路线：</p><ul>\n<li>上层将含有“极客时间”的数据包交给传输层；</li>\n<li>传输层会在数据包前面附加上<strong>UDP头</strong>，组成新的UDP数据包，再将新的UDP数据包交给网络层；</li>\n<li>网络层再将IP头附加到数据包上，组成新的IP数据包，并交给底层；</li>\n<li>数据包被传输到主机B的网络层，在这里主机B拆开IP头信息，并将拆开来的数据部分交给传输层；</li>\n<li>在传输层，数据包中的UDP头会被拆开，<strong>并根据UDP中所提供的端口号，把数据部分交给上层的应用程序</strong>；</li>\n<li>最终，含有“极客时间”信息的数据包就旅行到了主机B上层应用程序这里。</li>\n</ul><p>在使用UDP发送数据时，有各种因素会导致数据包出错，虽然UDP可以校验数据是否正确，但是对于错误的数据包，UDP并不提供重发机制，只是丢弃当前的包，而且UDP在发送之后也无法知道是否能达到目的地。</p><p>虽说<strong>UDP不能保证数据可靠性，但是传输速度却非常快</strong>，所以UDP会应用在一些关注速度、但不那么严格要求数据完整性的领域，如在线视频、互动游戏等。</p><h3>3. TCP：把数据完整地送达应用程序</h3><p>对于浏览器请求，或者邮件这类要求数据传输可靠性（reliability）的应用，如果使用UDP来传输会存在<strong>两个问题</strong>：</p><ul>\n<li>数据包在传输过程中容易丢失；</li>\n<li>大文件会被拆分成很多小的数据包来传输，这些小的数据包会经过不同的路由，并在不同的时间到达接收端，而UDP协议并不知道如何组装这些数据包，从而把这些数据包还原成完整的文件。</li>\n</ul><p>基于这两个问题，我们引入TCP了。<strong>TCP（Transmission Control Protocol，传输控制协议）是一种面向连接的、可靠的、基于字节流的传输层通信协议</strong>。相对于UDP，TCP有下面两个特点:</p><ul>\n<li>对于数据包丢失的情况，TCP提供重传机制；</li>\n<li>TCP引入了数据包排序机制，用来保证把乱序的数据包组合成一个完整的文件。</li>\n</ul><p>和UDP头一样，TCP头除了包含了目标端口和本机端口号外，还提供了用于排序的序列号，以便接收端通过序号来重排数据包。</p><p>下面看看TCP下的单个数据包的传输流程：</p><p><img src=\"https://static001.geekbang.org/resource/image/94/32/943ac29f7d5b45a8861b0cde5da99032.png?wh=1142*798\" alt=\"\"></p><center><span class=\"reference\">简化的TCP网络四层传输模型</span></center><p>通过上图你应该可以了解一个数据包是如何通过TCP来传输的。TCP单个数据包的传输流程和UDP流程差不多，不同的地方在于，通过TCP头的信息保证了一块大的数据传输的完整性。</p><p>下面我们再看下<strong>完整的TCP连接过程</strong>，通过这个过程你可以明白TCP是如何保证重传机制和数据包的排序功能的。</p><p>从下图可以看出，一个完整的TCP连接的生命周期包括了“<strong>建立连接</strong>”“<strong>传输数据</strong>”和“<strong>断开连接</strong>”三个阶段。</p><p><img src=\"https://static001.geekbang.org/resource/image/44/44/440ee50de56edc27c6b3c992b3a25844.png?wh=1142*408\" alt=\"\"></p><center><span class=\"reference\">一个TCP连接的生命周期</span></center><ul>\n<li><strong>首先，建立连接阶段</strong>。这个阶段是通过“三次握手”来建立客户端和服务器之间的连接。TCP 提供面向连接的通信传输。<strong>面向连接</strong>是指在数据通信开始之前先做好两端之间的准备工作。所谓<strong>三次握手</strong>，是指在建立一个TCP连接时，客户端和服务器总共要发送三个数据包以确认连接的建立。</li>\n<li><strong>其次，传输数据阶段</strong>。在该阶段，<strong>接收端需要对每个数据包进行确认操作</strong>，也就是接收端在接收到数据包之后，需要发送确认数据包给发送端。所以当发送端发送了一个数据包之后，在规定时间内没有接收到接收端反馈的确认消息，则判断为数据包丢失，并触发发送端的重发机制。同样，一个大的文件在传输过程中会被拆分成很多小的数据包，这些数据包到达接收端后，接收端会按照TCP头中的序号为其排序，从而保证组成完整的数据。</li>\n<li><strong>最后，断开连接阶段</strong>。数据传输完毕之后，就要终止连接了，涉及到最后一个阶段“四次挥手”来保证双方都能断开连接。</li>\n</ul><p>到这里你应该就明白了，TCP为了保证数据传输的可靠性，牺牲了数据包的传输速度，因为“三次握手”和“数据包校验机制”等把传输过程中的数据包的数量提高了一倍。</p><h2>总结</h2><p>好了，这一节就到这里，下面我来做一个简单的总结。</p><ul>\n<li>互联网中的数据是通过数据包来传输的，数据包在传输过程中容易丢失或出错。</li>\n<li>IP负责把数据包送达目的主机。</li>\n<li>UDP负责把数据包送达具体应用。</li>\n<li>而TCP保证了数据完整地传输，它的连接可分为三个阶段：建立连接、传输数据和断开连接。</li>\n</ul><p>其实了解TCP协议，是为了全方位了解HTTP，包括其实际功能和局限性，之后才会更加深刻地理解为什么要推出HTTP/2，以及为什么要推出QUIC协议，也就是未来的HTTP/3。这是一个由浅入深、循序渐进的过程，我希望你能稳扎稳打，学好这每一步、每一个协议，后面“水到自然渠成”。</p><h2>思考时间</h2><p>今天这篇文章我没有讲HTTP协议，但是相信你应该听说过，HTTP协议是基于TCP协议的，那么今天我留给你的问题是：你怎么理解HTTP和TCP的关系？</p><p>欢迎在留言区与我分享你的想法，也欢迎你在留言区记录你的思考过程。感谢阅读，如果你觉得这篇文章对你有帮助的话，也欢迎把它分享给更多的朋友。</p><p></p>","comments":[{"had_liked":false,"id":121744,"user_name":"Dongz","can_delete":false,"product_type":"c1","uid":1294359,"ip_address":"","ucode":"05904B1DA70C86","user_header":"https://static001.geekbang.org/account/avatar/00/13/c0/17/033a9287.jpg","comment_is_top":false,"comment_ctime":1565199454,"is_pvip":false,"replies":[{"id":"44734","content":"赞","user_name":"作者回复","comment_id":121744,"uid":"1141464","ip_address":"","utype":1,"ctime":1565219808,"user_name_real":"李兵"}],"discussion_count":4,"race_medal":0,"score":"929278135390","product_id":100033601,"comment_content":"HTTP协议和TCP协议都是TCP&#47;IP协议簇的子集。<br><br>HTTP协议属于应用层，TCP协议属于传输层，HTTP协议位于TCP协议的上层。<br><br>请求方要发送的数据包，在应用层加上HTTP头以后会交给传输层的TCP协议处理，应答方接收到的数据包，在传输层拆掉TCP头以后交给应用层的HTTP协议处理。建立 TCP 连接后会顺序收发数据，请求方和应答方都必须依据 HTTP 规范构建和解析HTTP报文。","like_count":217,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461928,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565219808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1162050,"avatar":"https://static001.geekbang.org/account/avatar/00/11/bb/42/4543108b.jpg","nickname":"杨小事er","note":"","ucode":"301D688D91AF5D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":54638,"discussion_content":"微博来总？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574306826,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1147347,"avatar":"https://static001.geekbang.org/account/avatar/00/11/81/d3/f0a88806.jpg","nickname":"🍐 🍾 🔆","note":"","ucode":"1B7C90800AD4D0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1162050,"avatar":"https://static001.geekbang.org/account/avatar/00/11/bb/42/4543108b.jpg","nickname":"杨小事er","note":"","ucode":"301D688D91AF5D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":58051,"discussion_content":"这都被你认出来了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574650517,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":54638,"ip_address":""},"score":58051,"extra":""},{"author":{"id":1406834,"avatar":"https://static001.geekbang.org/account/avatar/00/15/77/72/ad7056f9.jpg","nickname":"hb","note":"","ucode":"DCFA6CECF64E37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1162050,"avatar":"https://static001.geekbang.org/account/avatar/00/11/bb/42/4543108b.jpg","nickname":"杨小事er","note":"","ucode":"301D688D91AF5D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383367,"discussion_content":"那个来总  想围观","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626071710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":54638,"ip_address":""},"score":383367,"extra":""}]}]},{"had_liked":false,"id":203090,"user_name":"白糖炒栗子~","can_delete":false,"product_type":"c1","uid":1890808,"ip_address":"","ucode":"9F95953B0D5BB0","user_header":"https://static001.geekbang.org/account/avatar/00/1c/d9/f8/290ef739.jpg","comment_is_top":false,"comment_ctime":1586138642,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"658716134930","product_id":100033601,"comment_content":"在评论区也学到了很多，小总结：<br>1. 浏览器可以同时打开多个页签，他们端口一样吗？如果一样，数据怎么知道去哪个页签？<br>   端口一样的，网络进程知道每个tcp链接所对应的标签是那个，所以接收到数据后，会把数据分发给对应的渲染进程。<br><br>2. TCP传送数据时 浏览器端就做渲染处理了么？如果前面数据包丢了 后面数据包先来是要等么？类似的那种实时渲染怎么处理？针对数据包的顺序性？<br>    接收到http响应头中的content-type类型时就开始准备渲染进程了，响应体数据一旦接受到便开始做DOM解析了！基于http不用担心数据包丢失的问题，因为丢包和重传都是在tcp层解决的。http能保证数据按照顺序接收的（也就是说，从tcp到http的数据就已经是完整的了，即便是实时渲染，如果发生丢包也得在重传后才能开始渲染）<br><br>3. http 和 websocket都是属于应用层的协议吗？<br>都是应用层协议，而且websocket名字取的比较有迷惑性，其实和socket完全不一样，可以把websocket看出是http的改造版本，增加了服务器向客户端主动发送消息的能力。<br><br>4. 关于 &quot;数据在传输的过程中有可能会丢失或者出错&quot;，丢失的数据包去哪里了？凭空消失了吗？出错的数据包又变成啥了？ 为什么会出错？<br>比如网络波动，物理线路故障，设备故障，恶意程序拦截，网络阻塞等等","like_count":154,"discussions":[{"author":{"id":1478157,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/8H9JoTQj0gmhgUhtozvFoNesW3fv7pow3IibGeLhakDz5aWlicA3UOjqSc5jWw9C0ibgFIemlK6DkrYUe9Sibcl9Vg/132","nickname":"🏴‍☠️","note":"","ucode":"E62C53E781AF81","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590068,"discussion_content":"chrome默认策略，同一个站点，多个页签共用一个渲染进程，每次网络请求都会委托给网络进程，每个请求源端口号不同，至于网络进程怎么把数据正确的交给页签，跟端口号没关系吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665495989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"福建"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1952892,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/cc/7c/07616a25.jpg","nickname":"zhanzhan🍥","note":"","ucode":"6E0BB85DD0FF93","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":405210,"discussion_content":"第一个有些不太明白，能否再详细解析一下呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634529810,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1585752,"avatar":"https://static001.geekbang.org/account/avatar/00/18/32/58/069cc4fb.jpg","nickname":"Golden Lee 🐎","note":"","ucode":"5BF0B1BCC1C995","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1952892,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/cc/7c/07616a25.jpg","nickname":"zhanzhan🍥","note":"","ucode":"6E0BB85DD0FF93","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555842,"discussion_content":"意思就是浏览器的网络进程会处理到底渲染哪个进程。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647078883,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":405210,"ip_address":""},"score":555842,"extra":""}]},{"author":{"id":1568263,"avatar":"https://static001.geekbang.org/account/avatar/00/17/ee/07/465058c7.jpg","nickname":"Even.Yu","note":"","ucode":"D55F190AC6E4FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391285,"discussion_content":"如何查看该页签下的端口信息呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630388056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2723606,"avatar":"https://static001.geekbang.org/account/avatar/00/29/8f/16/e6903aad.jpg","nickname":"Eval","note":"","ucode":"D2386F53A5A9C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389850,"discussion_content":"还有mqtt","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629449852,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2464890,"avatar":"","nickname":"Geek_1b6487","note":"","ucode":"0A5256E693FAB0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":356048,"discussion_content":"哈哈 全部截图之前的评论后看到你总结的了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615521939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122414,"user_name":"sheldon","can_delete":false,"product_type":"c1","uid":1005454,"ip_address":"","ucode":"0C9AB833A7E3DC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/8e/67990114.jpg","comment_is_top":false,"comment_ctime":1565361703,"is_pvip":false,"replies":[{"id":"44945","content":"端口一样的，网络进程知道每个tcp链接所对应的标签是那个，所以接收到数据后，会把数据分发给对应的渲染进程","user_name":"作者回复","comment_id":122414,"uid":"1141464","ip_address":"","utype":1,"ctime":1565401803,"user_name_real":"李兵"}],"discussion_count":11,"race_medal":0,"score":"388112418343","product_id":100033601,"comment_content":"现在的浏览器可以同时打开多个页签，他们端口一样吗？如果一样，数据怎么知道去哪个页签？","like_count":91,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462241,"discussion_content":"端口一样的，网络进程知道每个tcp链接所对应的标签是那个，所以接收到数据后，会把数据分发给对应的渲染进程","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1565401803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1148422,"avatar":"https://static001.geekbang.org/account/avatar/00/11/86/06/72b01bb7.jpg","nickname":"美美","note":"","ucode":"44CC95C45AF345","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":270591,"discussion_content":"tcp 有源端口和目标端口，目标端口是 80 ，源端口是一个随机生成的、符合规定数字。","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1590027680,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1822678,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/cf/d6/7f912c6d.jpg","nickname":"头号大家庭","note":"","ucode":"257EA88817AC98","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":200105,"discussion_content":"[server ip][server port ] + [client ip][client port] 标识唯一的一条 tcp 链接。如果是针对同一 server 不同的 tcp 链接，[server ip][server port ] +  [client ip] 肯定是相同的，[client port]，也就是浏览器这边的端口应该是不同的，针对不同 server 的 TCP 链接，[client port] 也是不同的，网络编程 socket 是不可以绑定同一端口的","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1583657706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1800094,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/77/9e/91781f7d.jpg","nickname":"yujim","note":"","ucode":"EF5E691A7BC698","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1822678,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/cf/d6/7f912c6d.jpg","nickname":"头号大家庭","note":"","ucode":"257EA88817AC98","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576138,"discussion_content":"正解","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655299448,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":200105,"ip_address":""},"score":576138,"extra":""}]},{"author":{"id":1308653,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/0PT9LxT8D6micyk0YbPuGQElQIeSax7puBBTXJDicJDhUHNibrbJPjEPJBRklVmcKG1PB7YV8JNh0BpsJjSicfibT5A/132","nickname":"Wendy","note":"","ucode":"398DDC96B178F7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6002,"discussion_content":"我的理解是你指的是不同的网站页面，这个可以通过URL来区分啊，每一个页面都有自己的URL","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1566577296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1374337,"avatar":"https://static001.geekbang.org/account/avatar/00/14/f8/81/bff52f91.jpg","nickname":"1830","note":"","ucode":"246FEF7C97F39C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1308653,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/0PT9LxT8D6micyk0YbPuGQElQIeSax7puBBTXJDicJDhUHNibrbJPjEPJBRklVmcKG1PB7YV8JNh0BpsJjSicfibT5A/132","nickname":"Wendy","note":"","ucode":"398DDC96B178F7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375922,"discussion_content":"也可以是同一个URL呀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621869467,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6002,"ip_address":""},"score":375922,"extra":""}]},{"author":{"id":1594628,"avatar":"https://static001.geekbang.org/account/avatar/00/18/55/04/188ec690.jpg","nickname":"焦糖瓜子","note":"","ucode":"AB3790CFA55011","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555881,"discussion_content":"same-site情况下，不同的页签都是在同一个渲染进程中，这样怎么确定发送到哪个页签呀？根据url的差别吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647091473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1647604,"avatar":"https://static001.geekbang.org/account/avatar/00/19/23/f4/95ae3dda.jpg","nickname":"Chousen","note":"","ucode":"F6E7B26F9A0544","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261462,"discussion_content":"客按我的理解，http（s）协议默认绑定的端口是80/443端口，也就是说，客户端socket套接字是端口+80/443。按照第一节所讲的，网络是浏览器的另一个进程控制，那么所有的数据都是从该进程出去。那么，网络进程如何和发生请求的页面（进程）通讯？我觉得应该是通过浏览器主进程吧（pic？）页面发送请求之前标记一下，然后数据回来后主进程找到这个标记对应的页面就好了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588954908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1235099,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d8/9b/f9a00567.jpg","nickname":"why.","note":"","ucode":"C9E9B10F2BC0EB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5275,"discussion_content":"数据包通过传输层达到浏览器的网络进程，网络进程再统一将数据包分发到对应的标签页面？可以这样理解吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566129071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1376654,"avatar":"https://static001.geekbang.org/account/avatar/00/15/01/8e/48e7c474.jpg","nickname":"一路向北","note":"","ucode":"54D8F1687AE1ED","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4798,"discussion_content":"“根据端口送达具体应用”这里的“应用”指的是不是该应用的主进程？端口号对应的也是该进程的PID，这样理解正确吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565745695,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1756398,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/cc/ee/daaca4e7.jpg","nickname":"方恨少","note":"","ucode":"C9D67C6F55DD45","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1376654,"avatar":"https://static001.geekbang.org/account/avatar/00/15/01/8e/48e7c474.jpg","nickname":"一路向北","note":"","ucode":"54D8F1687AE1ED","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":265330,"discussion_content":"不对吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589384017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4798,"ip_address":""},"score":265330,"extra":""}]}]},{"had_liked":false,"id":122145,"user_name":"Cris","can_delete":false,"product_type":"c1","uid":1473520,"ip_address":"","ucode":"F8A287134F1078","user_header":"https://static001.geekbang.org/account/avatar/00/16/7b/f0/269139d5.jpg","comment_is_top":false,"comment_ctime":1565310949,"is_pvip":false,"replies":[{"id":"44889","content":"是的，他们都是应用层协议，而且websocket名字取的比较有迷惑性，其实和socket完全不一样，你可以把websocket看出是http的改造版本，增加了服务器向客户端主动发送消息的能力。<br>","user_name":"作者回复","comment_id":122145,"uid":"1141464","ip_address":"","utype":1,"ctime":1565322576,"user_name_real":"李兵"}],"discussion_count":1,"race_medal":0,"score":"207723741157","product_id":100033601,"comment_content":"http 和 websocket都是属于应用层的协议吗？","like_count":49,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462118,"discussion_content":"是的，他们都是应用层协议，而且websocket名字取的比较有迷惑性，其实和socket完全不一样，你可以把websocket看出是http的改造版本，增加了服务器向客户端主动发送消息的能力。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565322576,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":236529,"user_name":"江霖","can_delete":false,"product_type":"c1","uid":1051487,"ip_address":"","ucode":"D197B3FD012944","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLHOZjqhVkWgUrUibLnXkiaFkhJdfWT2BZP3LldE3tArIoHASlhTSp8tiatiamLbQOjKeMcYHkAexoyCg/132","comment_is_top":false,"comment_ctime":1595458121,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"194868986441","product_id":100033601,"comment_content":"谢谢李冰老师，断断续续的花了很长时间终于要学完了，回顾完整个学习过程，感触颇多也和老师一样来做个总结和同学们分享：<br>1. 首先知识方面的收获：<br>学习完整个课程之后我对浏览器的整体架构和如何运作的有了一个宏观的理解，明白了浏览器是由哪些部分构成，这些部分是怎么配合来完成任务以及浏览器是如何与服务器交互的。<br>这让我的前端后端散装知识能够联系到一起，形成了一张知识网，感觉更容易记忆了<br><br>在一些比较重要的知识点上如页面的渲染，javascript的运行机制和网络安全等方面跟随老师的文章进行深度的挖掘，对这些知识有了更深层次的理解，掌握程度更高，工作中遇到的比较难解决的问题时也能很快的有一个清晰的思路<br><br>2. 如何学习一门知识的思路<br>以前我的学习方式是贪多而且杂，分不清主次，所有的东西搅在一起，学了不少但始终感觉没法融汇贯通和更深入的理解，多数知识只是停留到如何应用这一层<br>学习了老师的课程中知识的同时也学习如何学习一门知识的思路：<br>1) 搭建整个知识的框架（体），化繁为简对这门知识有个宏观整体的理解<br>2) 对于框架的每个部分进行拆分相关的知识点拆分成一个系列（面）<br>3) 之后再深入挖掘每个系列中的每个知识点（线）<br>4) 在每个知识点中分析其原因，解决的问题，历史，定义等（点），并使用简练有逻辑的语言配合图表将每个点讲清楚<br>5) 每章总结，化繁为简，梳理出关键的知识点形成记忆的主干，配合框架让知识形成树状结构。知识体系是根-&gt;每章总结是主干-&gt;讲解的知识点原因，历史等是叶子<br>6) 每章后的思考，学而不思则罔，思而不学则殆。对知识进行更进一步的思考，能够加深对知识的理解并且检查是否有欠缺的地方，计划下一步的学习方案等<br><br>3. 如何将知识写成文章<br>首先对整个知识需要有深度的了解<br>文章的思路就是学习的思路<br>考虑受众进行整体设计，确定文章的定位和目标，懂得舍弃，杂项影响主干完成的知识点作为加餐补充<br>使用总分的形式拆分章节<br>使用写作技巧多用图表，转折链接各个章节，简练的语言<br><br>说实话我是个喜欢白嫖的程序员，对于知识付费一向不以为然，这门课程是我的第一个网课，完全改变了我对知识付费的看法。<br>课程真的性价比超高很多东西真的不是靠自己短时间学习能够掌握的，跟着网课系统学习是一种很高效的学习方式，跟着老司机不翻车，之后感兴趣的话可以深度学习也成为一名合格的老司机<br><br>希望学习到的东西能够应用到工作中，学习知识和记录笔记等方面<br>感谢老师，祝老师越写越好，给我们带来更多更精彩的课程<br><br><br>","like_count":46,"discussions":[{"author":{"id":1023591,"avatar":"","nickname":"天尘","note":"","ucode":"53FF1BA6661B36","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377421,"discussion_content":"首先是李兵老师😂","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622638630,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1098566,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c3/46/308c3958.jpg","nickname":"不蒸馒头","note":"","ucode":"EB26EC2B9CFC6B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1023591,"avatar":"","nickname":"天尘","note":"","ucode":"53FF1BA6661B36","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541017,"discussion_content":"hhahahhah","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640232374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":377421,"ip_address":""},"score":541017,"extra":""}]},{"author":{"id":1451861,"avatar":"https://static001.geekbang.org/account/avatar/00/16/27/55/5811575e.jpg","nickname":"秋裤布里克","note":"","ucode":"FE7D3F9F272861","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555851,"discussion_content":"你个假粉丝","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647082990,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122006,"user_name":"美美","can_delete":false,"product_type":"c1","uid":1148422,"ip_address":"","ucode":"44CC95C45AF345","user_header":"https://static001.geekbang.org/account/avatar/00/11/86/06/72b01bb7.jpg","comment_is_top":false,"comment_ctime":1565267421,"is_pvip":false,"replies":[{"id":"44948","content":"接收到http响应头中的content-type类型时就开始准备渲染进程了，<br><br>响应体数据一旦接受到便开始做DOM解析了！<br><br>基于http不用担心数据包丢失的问题，因为丢包和重传都是在tcp层解决的。http能保证数据按照顺序接收的！","user_name":"作者回复","comment_id":122006,"uid":"1141464","ip_address":"","utype":1,"ctime":1565402609,"user_name_real":"李兵"}],"discussion_count":3,"race_medal":0,"score":"190543828445","product_id":100033601,"comment_content":"tcp传送数据时 浏览器端就做渲染处理了么？如果前面数据包丢了 后面数据包先来是要等么？类似的那种实时渲染怎么处理？针对数据包的顺序性？","like_count":44,"discussions":[{"author":{"id":1148142,"avatar":"https://static001.geekbang.org/account/avatar/00/11/84/ee/3a364ccd.jpg","nickname":"滇西之王","note":"","ucode":"B1EBFFAE3AECEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4299,"discussion_content":"tcp有超时重传机制，他不像udp包，后面的数据包先到，假如第三个数据包先到，而第一个没有到，如果第一个包到第三包能组成一个完整的数据，那么老老实实的等着第一个包，这种阻塞现象叫做tcp层的队首阻塞，一个流上哪怕有几十个包，都老老实实的跟我等着，http2协议解决了http 层的队首阻塞，但是并没有解决tcp层的队首阻塞，那quic协议基于udp来解决该问题，他的包是无序的，协议要解决包排序的问题，你看到的实时渲染其实都是延时的。","likes_number":31,"is_delete":false,"is_hidden":false,"ctime":1565306814,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462055,"discussion_content":"接收到http响应头中的content-type类型时就开始准备渲染进程了，\n\n响应体数据一旦接受到便开始做DOM解析了！\n\n基于http不用担心数据包丢失的问题，因为丢包和重传都是在tcp层解决的。http能保证数据按照顺序接收的！","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1565402609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1623567,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c6/0f/3937645e.jpg","nickname":"NBE01","note":"","ucode":"DF0D22D4495D54","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4401,"discussion_content":"在等待的过程中，这些等待的包是在接收方这边等待，那个丢失的包吗？等丢失的包到了，再继续后边的操作？","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1565362285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121741,"user_name":"高斯定律","can_delete":false,"product_type":"c1","uid":1365374,"ip_address":"","ucode":"FD1527C98A4B73","user_header":"https://static001.geekbang.org/account/avatar/00/14/d5/7e/5ce202d6.jpg","comment_is_top":false,"comment_ctime":1565198200,"is_pvip":false,"replies":[{"id":"44735","content":"有点形象","user_name":"作者回复","comment_id":121741,"uid":"1141464","ip_address":"","utype":1,"ctime":1565219851,"user_name_real":"李兵"}],"discussion_count":3,"race_medal":0,"score":"147594086264","product_id":100033601,"comment_content":"这个tcp讲的非常清晰  一次就听明白了、tcp是个梯子，http就是利用梯子来搬运货物","like_count":34,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461927,"discussion_content":"有点形象","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565219851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1485042,"avatar":"https://static001.geekbang.org/account/avatar/00/16/a8/f2/9ebfadff.jpg","nickname":"ζʊ","note":"","ucode":"1F574CE5E710A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370505,"discussion_content":"这样一讲有点形象","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619439264,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1623442,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c5/92/78df5de0.jpg","nickname":"kk","note":"","ucode":"7FD626339C2D70","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4254,"discussion_content":"浪費一讲，","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565254146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126790,"user_name":"黄紫茜","can_delete":false,"product_type":"c1","uid":1550401,"ip_address":"","ucode":"9B524073A0F7B8","user_header":"https://static001.geekbang.org/account/avatar/00/17/a8/41/b263223b.jpg","comment_is_top":false,"comment_ctime":1566477077,"is_pvip":false,"replies":[{"id":"46958","content":"<br><br>先通过三次握手建立tcp链接，链接建立好之后，发送http请求行和http请求头给服务器，然后服务器返回响应行，响应头和响应体，最终完成后通过四次挥手断开tcp链接！","user_name":"作者回复","comment_id":126790,"uid":"1141464","ip_address":"","utype":1,"ctime":1566525876,"user_name_real":"李兵"}],"discussion_count":3,"race_medal":0,"score":"121825561365","product_id":100033601,"comment_content":"我想问下，输入url回车后理论上是不是生成http请求报文，然后传给TCP，加上TCP首部，然后进行三次握手，将http请求报文数据传递，四次挥手，请求报文到达服务端，然后服务端在返回响应报文，返回到过程也是要三次握手，传递数据，四次挥手？因为网上看到不少文章都说先三次握手，然后发起http请求。","like_count":29,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464169,"discussion_content":"\n\n先通过三次握手建立tcp链接，链接建立好之后，发送http请求行和http请求头给服务器，然后服务器返回响应行，响应头和响应体，最终完成后通过四次挥手断开tcp链接！","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566525876,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1998183,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIoYNYqumlObe08Gjq5PoHKn1gnKhoajZ1sc9AQ3xdJuXhnnLQ9HwPxTFSDo8G7YdL2Pk1rkiaibbNg/132","nickname":"波哥","note":"","ucode":"373D587C2BD8AB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":268216,"discussion_content":"在这之前，应该还有DNS查询的过程吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589731428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1585752,"avatar":"https://static001.geekbang.org/account/avatar/00/18/32/58/069cc4fb.jpg","nickname":"Golden Lee 🐎","note":"","ucode":"5BF0B1BCC1C995","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1998183,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIoYNYqumlObe08Gjq5PoHKn1gnKhoajZ1sc9AQ3xdJuXhnnLQ9HwPxTFSDo8G7YdL2Pk1rkiaibbNg/132","nickname":"波哥","note":"","ucode":"373D587C2BD8AB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555843,"discussion_content":"是的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647079227,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":268216,"ip_address":""},"score":555843,"extra":""}]}]},{"had_liked":false,"id":121983,"user_name":"hogger","can_delete":false,"product_type":"c1","uid":1374113,"ip_address":"","ucode":"19B982449C17C7","user_header":"https://static001.geekbang.org/account/avatar/00/14/f7/a1/f2792182.jpg","comment_is_top":false,"comment_ctime":1565263585,"is_pvip":false,"replies":[{"id":"44783","content":"下层为上层提供服务，这句很到位","user_name":"作者回复","comment_id":121983,"uid":"1141464","ip_address":"","utype":1,"ctime":1565268304,"user_name_real":"李兵"}],"discussion_count":2,"race_medal":0,"score":"91759576801","product_id":100033601,"comment_content":"我记得在网络工程里有一句话,下层为上层提供服务,TCP为HTTP提供差错校验,超时重传的机制吧.","like_count":21,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462042,"discussion_content":"下层为上层提供服务，这句很到位","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565268304,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1056706,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1f/c2/1b412e75.jpg","nickname":"终于找回了","note":"","ucode":"8214005493E79A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5864,"discussion_content":"员工给老板服务的，帮老板解决问题","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566516727,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122485,"user_name":"我是辣妈","can_delete":false,"product_type":"c1","uid":1239283,"ip_address":"","ucode":"F1576240250AFA","user_header":"https://static001.geekbang.org/account/avatar/00/12/e8/f3/01ce824b.jpg","comment_is_top":false,"comment_ctime":1565405222,"is_pvip":false,"replies":[{"id":"44953","content":"对的，只不过udp有可能会丢包，而tcp采用了很多复杂的机制，保证了数据的完整性","user_name":"作者回复","comment_id":122485,"uid":"1141464","ip_address":"","utype":1,"ctime":1565405558,"user_name_real":"李兵"}],"discussion_count":1,"race_medal":0,"score":"74579849254","product_id":100033601,"comment_content":"1、IP 负责把数据包送达目的主机。<br>2、UDP 负责把数据包送达具体应用。<br>3、而 TCP 保证了数据完整地传输，它的连接可分为三个阶段：建立连接、传输数据和断开连接。<br><br>老师，这里面第二条，UDP和TCP都是把数据包送达具体应用应用的吧？","like_count":18,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462271,"discussion_content":"对的，只不过udp有可能会丢包，而tcp采用了很多复杂的机制，保证了数据的完整性","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565405558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130366,"user_name":"Cris","can_delete":false,"product_type":"c1","uid":1473520,"ip_address":"","ucode":"F8A287134F1078","user_header":"https://static001.geekbang.org/account/avatar/00/16/7b/f0/269139d5.jpg","comment_is_top":false,"comment_ctime":1567435308,"is_pvip":false,"replies":[{"id":"48652","content":"二选一","user_name":"作者回复","comment_id":130366,"uid":"1141464","ip_address":"","utype":1,"ctime":1567458637,"user_name_real":"李兵"}],"discussion_count":2,"race_medal":0,"score":"57402010156","product_id":100033601,"comment_content":"老师，tcp和udp都是传输层协议，这两个是同时存在还是只能选其一，我看了这期感觉是选其一？","like_count":14,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465924,"discussion_content":"二选一","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567458637,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1518250,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2a/aa/e0ae9b76.jpg","nickname":"浅浅悠","note":"","ucode":"82F005FD97E73F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580060,"discussion_content":"TCP也具备跟UDP一样的功能吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657854720,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127969,"user_name":"尔冬橙","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1566815436,"is_pvip":false,"replies":[{"id":"47426","content":"不用这么多啊，浏览器进程 网络进程，GPU进程都是共同的，你打开十个页面一般也就十几个进程。","user_name":"作者回复","comment_id":127969,"uid":"1141464","ip_address":"","utype":1,"ctime":1566822320,"user_name_real":"李兵"}],"discussion_count":3,"race_medal":0,"score":"53106422988","product_id":100033601,"comment_content":"老师，那我打开谷歌浏览器里面开了10个页面，那就是至少有40个进程？windows下我控制面板里能看到40个google.exe？插件进程页面间能公用么","like_count":12,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464727,"discussion_content":"不用这么多啊，浏览器进程 网络进程，GPU进程都是共同的，你打开十个页面一般也就十几个进程。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566822320,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2425048,"avatar":"https://static001.geekbang.org/account/avatar/00/25/00/d8/e1132b1c.jpg","nickname":"幼儿园园长","note":"","ucode":"CB1731B3060D9A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346207,"discussion_content":"其实是说得不够清楚，network process和browser process和GPU process都是顶层的，而负责管理每个页面的进程只有renderer process，并且其实浏览器会根据电脑性能进行进程优化，在某些特殊情况下不同页面也存在公用一个renderer process的情况","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1611887198,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1863552,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/zFOVquVttt7aTLtyHhPvH1SCUk19Rd14XoGz9QrCpFefwun86CdBJB4rbsY1M5zywXHibvRs4EqJLoUjpNyknFQ/132","nickname":"v8","note":"","ucode":"22FE67E8C124DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365034,"discussion_content":"也就是说如果打开10个Chrome页面，至少4（3+1）个进程，至多13（10+3）个进程？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617690885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126352,"user_name":"sam","can_delete":false,"product_type":"c1","uid":1090046,"ip_address":"","ucode":"364DBCB33AB6B0","user_header":"https://static001.geekbang.org/account/avatar/00/10/a1/fe/8e29ffc0.jpg","comment_is_top":false,"comment_ctime":1566370438,"is_pvip":true,"replies":[{"id":"46791","content":"对的","user_name":"作者回复","comment_id":126352,"uid":"1141464","ip_address":"","utype":1,"ctime":1566426892,"user_name_real":"李兵"}],"discussion_count":3,"race_medal":0,"score":"44516043398","product_id":100033601,"comment_content":"这篇文章可以当作平时购物的流程就很清晰的理解：<br>数据包： 我们可以理解为我们买的东西；<br>TCP&#47;UDP头：买卖人电话、姓名等；<br>IP头：买卖双方地址；<br><br>TCP和UDP不同点在于，TCP会把购买的物品直接送到购买人手中，而UDP可能只是送到蜂巢如此之类的。<br><br>不过我有个疑问，三次握手的过程当中是否也是需要走三次传输流程？","like_count":10,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463949,"discussion_content":"对的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566426892,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1021638,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/96/c6/ac69caa9.jpg","nickname":"今晚吃啥","note":"","ucode":"960608C402BA87","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8838,"discussion_content":"TCP 是把物品送到之后，把确认收货信息发给寄货方，如果没有收到收货信息则重发。UDP 是寄货方只管发包裹，是否到达不 care，包括了送到购买人手、丰巢、包裹丢失等情况，都不 care。","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1568080142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1367464,"avatar":"https://static001.geekbang.org/account/avatar/00/14/dd/a8/a2c910b6.jpg","nickname":"katalya","note":"","ucode":"CCD1FE6C4F8C1E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586733,"discussion_content":"太形象了，捂脸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662467558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126793,"user_name":"阿桐","can_delete":false,"product_type":"c1","uid":1160167,"ip_address":"","ucode":"E82211BD6E9E89","user_header":"https://static001.geekbang.org/account/avatar/00/11/b3/e7/227ee616.jpg","comment_is_top":false,"comment_ctime":1566477499,"is_pvip":false,"replies":[{"id":"46961","content":"嗯，tcp细节要讲就多了，这块我只是介绍了tcp的一个大的建立连接，传输数据，断开链接的过程。  理解这个过程是理解http的基础。展开来讲的话需要一节内容了，这块极客时间上有很多老师都讲的不错。","user_name":"作者回复","comment_id":126793,"uid":"1141464","ip_address":"","utype":1,"ctime":1566526425,"user_name_real":"李兵"}],"discussion_count":1,"race_medal":0,"score":"31631248571","product_id":100033601,"comment_content":"文章前面从网络层引到传输层，再从 udp 过渡到 tcp，语言通俗易懂，图示也很清晰，看的意犹未尽。相比之下，后面的 【一个 tcp 连接的生命周期】老师用的笔墨就少了点，其实还是蛮期待老师能对这块有更为细致的讲解。","like_count":7,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464170,"discussion_content":"嗯，tcp细节要讲就多了，这块我只是介绍了tcp的一个大的建立连接，传输数据，断开链接的过程。  理解这个过程是理解http的基础。展开来讲的话需要一节内容了，这块极客时间上有很多老师都讲的不错。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566526425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122813,"user_name":"レイン小雨","can_delete":false,"product_type":"c1","uid":1219933,"ip_address":"","ucode":"45BED977EFE852","user_header":"https://static001.geekbang.org/account/avatar/00/12/9d/5d/3fdead91.jpg","comment_is_top":false,"comment_ctime":1565532437,"is_pvip":false,"replies":[{"id":"45210","content":"比如网络波动，物理线路故障，设备故障，恶意程序拦截，网络阻塞等等","user_name":"作者回复","comment_id":122813,"uid":"1141464","ip_address":"","utype":1,"ctime":1565606159,"user_name_real":"李兵"}],"discussion_count":6,"race_medal":0,"score":"27335336213","product_id":100033601,"comment_content":"想问一下老师，关于 &quot;数据在传输的过程中有可能会丢失或者出错&quot;，丢失的数据包去哪里了？凭空消失了吗？出错的数据包又变成啥了？ 为什么会出错？","like_count":6,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462413,"discussion_content":"比如网络波动，物理线路故障，设备故障，恶意程序拦截，网络阻塞等等","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565606159,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1609589,"avatar":"https://static001.geekbang.org/account/avatar/00/18/8f/75/957476d5.jpg","nickname":"米农","note":"","ucode":"A3911088F149D7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4884,"discussion_content":"丢弃数据包只是我们的说法。本质无非是电流而已。丢弃数据包，就是不理会这段电流。","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1565793124,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1072658,"avatar":"https://static001.geekbang.org/account/avatar/00/10/5e/12/c0c4d6f2.jpg","nickname":"Qiubh","note":"","ucode":"3BC33EC44F2FDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":38231,"discussion_content":"作者的回复只是回答最后一问，至于关键的前面三连问，都没回答。。是不清楚还是。。。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571747795,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1765894,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/f2/06/ebb5b764.jpg","nickname":"NikkiZeng","note":"","ucode":"F669C811773394","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1072658,"avatar":"https://static001.geekbang.org/account/avatar/00/10/5e/12/c0c4d6f2.jpg","nickname":"Qiubh","note":"","ucode":"3BC33EC44F2FDE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155740,"discussion_content":"就好比,你家断电了,电流去了哪里呢,后面的一答就已经回答了所有的问题了好吗","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1580281944,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":38231,"ip_address":""},"score":155740,"extra":""}]},{"author":{"id":1627901,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIWByiab220aH4pkI21lm57NzMxEm6DX4fiaobRUTTgzl0KvLdWThzBlklrvN7glnCzibROQgG3Gp9OQ/132","nickname":"Geek_eb9a5d","note":"","ucode":"849B33FB37EBFD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":18006,"discussion_content":"那请问老师，TCP协议在遇到这些故障时是如何处理的呢？比如说物理线路故障和恶意程序拦截，直接按照传送失败处理么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568994047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043757,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erdmsQ1lvSIk6GR6CcicQjKwXicxEJIELxfhX7J1kky08myb1UrscfFLg6nDHTwUFRAeosTKDX7WxpA/132","nickname":"拉德姆","note":"","ucode":"A813EDA3984385","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4557,"discussion_content":"被中间的路由器丢弃了，或者某些字节不对了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565541862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204391,"user_name":"HoSalt","can_delete":false,"product_type":"c1","uid":1156074,"ip_address":"","ucode":"610B03E2A002D1","user_header":"https://static001.geekbang.org/account/avatar/00/11/a3/ea/53333dd5.jpg","comment_is_top":false,"comment_ctime":1586395146,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"14471297034","product_id":100033601,"comment_content":"老师你好，有些问题想问下<br>『TCP（Transmission Control Protocol，传输控制协议）是一种面向连接的、可靠的、基于字节流的传输层通信协议』<br>1. 基于字节流是什么意思？<br>2. UDP不是基于字节流吗，那UDP是基于什么？<br>3. TCP性能没有UDP好，消耗的性能更多是不是用在了消息确认这套机制上，而非三次握手和四次挥手上，难道建立链接和断开链接很费时吗？平时应用中都是说通过减少http的连接数来提升性能","like_count":3,"discussions":[{"author":{"id":1606600,"avatar":"https://static001.geekbang.org/account/avatar/00/18/83/c8/c08fc40f.jpg","nickname":"大风","note":"","ucode":"95C2B6B98247FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":278404,"discussion_content":"我理解它们都是基于字节流。tcp的性能相对udp不好主要是说1.它每一次建立连接都要三次握手断开连接要4次挥手确认的次数比udp多;2.每个数据包要确认上一个数据包的完整性和到达性，以保证这次请求的所有数据包按序完整的到达目标。建立连接和断开连接也是要耗费计算资源的,但是可以建立连接后保持连接进行多次来回传输数据。http的连接数的说法是不对的，http不存在连接数，连接只对传输层协议来说，应该是说减少http请求次数来提升性能，因为每一次请求和响应都要进行数据打包拆包的开销，但是在http2中又优化了，它可以在一个 TCP 连接中同时完成多个 HTTP 请求就是多路复用，注意是同时 这相当于能多线程并行了","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1591182668,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1952230,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/c9/e6/5cc0b2b4.jpg","nickname":"黯墨","note":"","ucode":"B79074735C71D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402988,"discussion_content":"UDP是数据报协议","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633975630,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214658,"user_name":"Cshine🌸🌸","can_delete":false,"product_type":"c1","uid":1965403,"ip_address":"","ucode":"D2BEFD692CC1F1","user_header":"https://static001.geekbang.org/account/avatar/00/1d/fd/5b/0c821fbc.jpg","comment_is_top":false,"comment_ctime":1588777385,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10178711977","product_id":100033601,"comment_content":"感觉很清晰，层层递减，打call！！","like_count":2},{"had_liked":false,"id":171093,"user_name":"学习","can_delete":false,"product_type":"c1","uid":1451763,"ip_address":"","ucode":"5DEEDEEF65322E","user_header":"https://static001.geekbang.org/account/avatar/00/16/26/f3/5c6f125b.jpg","comment_is_top":false,"comment_ctime":1578843535,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10168778127","product_id":100033601,"comment_content":"IP协议是高速公路，TCP协议是货车，HTTP协议是货物。","like_count":2,"discussions":[{"author":{"id":1106877,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e3/bd/4f1f432c.jpg","nickname":"向上","note":"","ucode":"C9D3001AD1B045","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386146,"discussion_content":"我的理解是 http应该是打包箱和快递单，数据是货物","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627442362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122812,"user_name":"レイン小雨","can_delete":false,"product_type":"c1","uid":1219933,"ip_address":"","ucode":"45BED977EFE852","user_header":"https://static001.geekbang.org/account/avatar/00/12/9d/5d/3fdead91.jpg","comment_is_top":false,"comment_ctime":1565532256,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10155466848","product_id":100033601,"comment_content":"http协议是应用层的协议，是最上层的网络协议，tcp／udp是两种位于传输层的协议。http协议位于tcp／upd上层。","like_count":2},{"had_liked":false,"id":244465,"user_name":"snow","can_delete":false,"product_type":"c1","uid":1343414,"ip_address":"","ucode":"750FBF37CCFD86","user_header":"https://static001.geekbang.org/account/avatar/00/14/7f/b6/09efa8e5.jpg","comment_is_top":false,"comment_ctime":1598526693,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5893493989","product_id":100033601,"comment_content":"如果客户端向服务器请求一个数据，建立了tcp连接，服务器发送了数据，中间断网了，服务器没有收到客户端的回复消息，然后继续重发，如果一直断网，服务器就一直重发吗？还是说tcp就能够检测到网络不通了，或者人家已经关闭应用了？","like_count":1,"discussions":[{"author":{"id":1386289,"avatar":"https://static001.geekbang.org/account/avatar/00/15/27/31/78da81cb.jpg","nickname":"李春静Daisy","note":"","ucode":"93AEA4E5BAA80D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587747,"discussion_content":"重试有最大上线次数，长时间链接也会超时","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663249407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229771,"user_name":"冷月心","can_delete":false,"product_type":"c1","uid":1882651,"ip_address":"","ucode":"D7FBEABDC65FEA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epherEfVrWjezuIs2Xd600ibo5wKvtGp3SZKlDAqDOp255VfzmY4iaDBCAtLKqqhZ4GGic06m4MKqNCA/132","comment_is_top":false,"comment_ctime":1593142053,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5888109349","product_id":100033601,"comment_content":"tcp每次重传等待时间翻倍，如果tcp重传次数超过最大限制怎么处理？直接放弃本次连接吗？","like_count":1},{"had_liked":false,"id":190949,"user_name":"👻 小二","can_delete":false,"product_type":"c1","uid":1625463,"ip_address":"","ucode":"9EEA8553163270","user_header":"https://static001.geekbang.org/account/avatar/00/18/cd/77/b2ab5d44.jpg","comment_is_top":false,"comment_ctime":1584712439,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5879679735","product_id":100033601,"comment_content":"现在的浏览器可以同时打开多个页签，他们端口一样吗？如果一样，数据怎么知道去哪个页签？<br><br>我看到老师的回复是【 端口一样的，网络进程知道每个tcp链接所对应的标签是那个，所以接收到数据后，会把数据分发给对应的渲染进程】<br><br>想请问下老师， 网络进程知道每个tcp链接所对应的标签是那个， 但如果这些tcp链接用的是客户端的同一个端口的话， 那操作系统是怎么知道收到的数据包要给哪个tcp链接的？除了端口外， tcp协议应该没有别的标识了吧","like_count":1,"discussions":[{"author":{"id":1019641,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8e/f9/8221aac3.jpg","nickname":"王妍","note":"","ucode":"D4CCE6C7F7F1C5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":254997,"discussion_content":"操作系统只需要把所有tcp收到的数据给到浏览器就行了。浏览器的网络进程负责分给对应标签页的渲染进程。","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1588348647,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1531784,"avatar":"https://static001.geekbang.org/account/avatar/00/17/5f/88/ed9acee8.jpg","nickname":"大掌柜〈海棠依旧〉","note":"","ucode":"023DF965D55B7A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1019641,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8e/f9/8221aac3.jpg","nickname":"王妍","note":"","ucode":"D4CCE6C7F7F1C5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555458,"discussion_content":"浏览器是怎么负责发给对应标签页的渲染进程呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646914539,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":254997,"ip_address":""},"score":555458,"extra":""}]}]},{"had_liked":false,"id":130367,"user_name":"Cris","can_delete":false,"product_type":"c1","uid":1473520,"ip_address":"","ucode":"F8A287134F1078","user_header":"https://static001.geekbang.org/account/avatar/00/16/7b/f0/269139d5.jpg","comment_is_top":false,"comment_ctime":1567435708,"is_pvip":false,"replies":[{"id":"48653","content":"是的。80，443就是端口号","user_name":"作者回复","comment_id":130367,"uid":"1141464","ip_address":"","utype":1,"ctime":1567458681,"user_name_real":"李兵"}],"discussion_count":4,"race_medal":0,"score":"5862403004","product_id":100033601,"comment_content":"Tcp&#47;udp通过端口号把数据包发送给指定的程序，这里的端口号和http协议默认端口号80(Https默认端口号443)是一个意思吗？","like_count":1,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465925,"discussion_content":"是的。80，443就是端口号","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567458681,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1552760,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSsX6pVCz1BUY6YJ7cMB3bxwu4sXtoHSA7Ww9VovrrFH3uW216wibEqOXianbQAa5fUj9Nxm1SgZwQ/132","nickname":"Sumor","note":"","ucode":"626D54FB621B30","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218762,"discussion_content":"那也多程序端口号都一样，怎么知道发到哪里呢？原谅我是一个小菜鸡，这块没怎么看懂","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585699269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1148422,"avatar":"https://static001.geekbang.org/account/avatar/00/11/86/06/72b01bb7.jpg","nickname":"美美","note":"","ucode":"44CC95C45AF345","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1552760,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLSsX6pVCz1BUY6YJ7cMB3bxwu4sXtoHSA7Ww9VovrrFH3uW216wibEqOXianbQAa5fUj9Nxm1SgZwQ/132","nickname":"Sumor","note":"","ucode":"626D54FB621B30","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":269979,"discussion_content":"同一个机器上，http 服务监听 80 端口，FTP 监听 21 20 端口。tcp 用于传输 http 数据，http 请求没有完成时，tcp 连接不会断，既然连接不会断，是不是 tcp 传输回来的数据就知道是哪个 http 请求的数据？\n\n如老师所说：「网络进程知道每个 tcp/udp 链接所对应的标签是那个，所以接收到数据后，会把数据分发给对应的渲染进程。」\n\n我猜网络进程里应该管理着各个 tcp 连接，记录了每一个 tcp 和 http 的关联关系，而 http 请求在浏览器 tab 里发出的，因此网络进程对于谁需要啥数据一清二楚～\n\n有没有道理？\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1589970218,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":218762,"ip_address":""},"score":269979,"extra":""},{"author":{"id":1568263,"avatar":"https://static001.geekbang.org/account/avatar/00/17/ee/07/465058c7.jpg","nickname":"Even.Yu","note":"","ucode":"D55F190AC6E4FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1148422,"avatar":"https://static001.geekbang.org/account/avatar/00/11/86/06/72b01bb7.jpg","nickname":"美美","note":"","ucode":"44CC95C45AF345","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391288,"discussion_content":"根据端口来区分应用，根据标签来区分具体的渲染进程。你觉得是不是可以这么来理解 ？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630389439,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":269979,"ip_address":""},"score":391288,"extra":""}]}]},{"had_liked":false,"id":125974,"user_name":"道行三易","can_delete":false,"product_type":"c1","uid":1129196,"ip_address":"","ucode":"1E7730C11ED71A","user_header":"https://static001.geekbang.org/account/avatar/00/11/3a/ec/29ae62c5.jpg","comment_is_top":false,"comment_ctime":1566287615,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5861254911","product_id":100033601,"comment_content":"tcp相当信封，上面标记了寄信人和收信人的信息；http相当于信封里面的内容。<br>这篇文章学到了以下几点：<br>1.ip协议保证了数据包传送到指定的目的主机<br>2.udp协议保证了数据包能传送到目的主机上的目标应用程序，速度快，但缺乏可靠性<br>3.tcp协议牺牲了速度来弥补了upd协议的不足，tcp具有回传机制保证数据传送的可靠性<br>4.这几种协议中都有一个概念“地址”，ip地址，端口号","like_count":1},{"had_liked":false,"id":124699,"user_name":"成","can_delete":false,"product_type":"c1","uid":1374608,"ip_address":"","ucode":"1FBEFCD573A20E","user_header":"https://static001.geekbang.org/account/avatar/00/14/f9/90/5cd5d680.jpg","comment_is_top":false,"comment_ctime":1565947071,"is_pvip":false,"replies":[{"id":"45782","content":"可以这么理解","user_name":"作者回复","comment_id":124699,"uid":"1141464","ip_address":"","utype":1,"ctime":1565954179,"user_name_real":"李兵"}],"discussion_count":1,"race_medal":0,"score":"5860914367","product_id":100033601,"comment_content":"可不可以形象地把TCP理解为一个传送带，而HTTP是一种具体类型的货物，TCP负责运送这种货物并且保证不会弄丢？","like_count":1,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463283,"discussion_content":"可以这么理解","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565954179,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122636,"user_name":"ZeroIce","can_delete":false,"product_type":"c1","uid":1305369,"ip_address":"","ucode":"30133BA83CE349","user_header":"https://static001.geekbang.org/account/avatar/00/13/eb/19/0d990b03.jpg","comment_is_top":false,"comment_ctime":1565449251,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"5860416547","product_id":100033601,"comment_content":"老师可以和我们说说RFC那几个规范说到了浏览器缓存？","like_count":1,"discussions":[{"author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":116077,"discussion_content":"看看透视http协议那个专栏","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578053006,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1305369,"avatar":"https://static001.geekbang.org/account/avatar/00/13/eb/19/0d990b03.jpg","nickname":"ZeroIce","note":"","ucode":"30133BA83CE349","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":117035,"discussion_content":"看过了，想找规范看看","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1578072144,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":116077,"ip_address":""},"score":117035,"extra":""},{"author":{"id":1406834,"avatar":"https://static001.geekbang.org/account/avatar/00/15/77/72/ad7056f9.jpg","nickname":"hb","note":"","ucode":"DCFA6CECF64E37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1305369,"avatar":"https://static001.geekbang.org/account/avatar/00/13/eb/19/0d990b03.jpg","nickname":"ZeroIce","note":"","ucode":"30133BA83CE349","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383340,"discussion_content":"在RFC搜索Caching，或者在MDN的http 缓存跳转到RFC也是可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626061683,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":117035,"ip_address":""},"score":383340,"extra":""}]}]},{"had_liked":false,"id":122096,"user_name":"pyhhou","can_delete":false,"product_type":"c1","uid":1256496,"ip_address":"","ucode":"31EF8D50CF91A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibZVAmmdAibBeVpUjzwId8ibgRzNk7fkuR5pgVicB5mFSjjmt2eNadlykVLKCyGA0GxGffbhqLsHnhDRgyzxcKUhjg/132","comment_is_top":false,"comment_ctime":1565287845,"is_pvip":false,"replies":[{"id":"44950","content":"这个你可以看看03 | http请求流程，这篇文章有详细介绍","user_name":"作者回复","comment_id":122096,"uid":"1141464","ip_address":"","utype":1,"ctime":1565402822,"user_name_real":"李兵"}],"discussion_count":1,"race_medal":0,"score":"5860255141","product_id":100033601,"comment_content":"请教老师一下，TCP&#47;IP 建立连接和断开连接要经历三次握手和四次挥手，那么 TCP 和 HTTP 建立连接和断开连接是不是也要经历这么一个过程，还是说另有别的考虑？","like_count":1,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462098,"discussion_content":"这个你可以看看03 | http请求流程，这篇文章有详细介绍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565402822,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121974,"user_name":"木棉","can_delete":false,"product_type":"c1","uid":1084629,"ip_address":"","ucode":"8A637B7435BF24","user_header":"https://static001.geekbang.org/account/avatar/00/10/8c/d5/398b31fe.jpg","comment_is_top":false,"comment_ctime":1565260770,"is_pvip":false,"replies":[{"id":"44784","content":"可以这么理解","user_name":"作者回复","comment_id":121974,"uid":"1141464","ip_address":"","utype":1,"ctime":1565268341,"user_name_real":"李兵"}],"discussion_count":1,"race_medal":0,"score":"5860228066","product_id":100033601,"comment_content":"http协议是超文本协议，浏览器发出http请求，TCP会把请求向底层传递知道web服务器，然后web服务器返回http请求的response，浏览器渲染数据","like_count":1,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462035,"discussion_content":"可以这么理解","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565268341,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121783,"user_name":"Snow同學","can_delete":false,"product_type":"c1","uid":1390875,"ip_address":"","ucode":"231E98C721E4D2","user_header":"https://static001.geekbang.org/account/avatar/00/15/39/1b/bcabd223.jpg","comment_is_top":false,"comment_ctime":1565224136,"is_pvip":false,"replies":[{"id":"44749","content":"一周三更","user_name":"作者回复","comment_id":121783,"uid":"1141464","ip_address":"","utype":1,"ctime":1565230200,"user_name_real":"李兵"}],"discussion_count":1,"race_medal":0,"score":"5860191432","product_id":100033601,"comment_content":"好希望更新刚快一些 哈哈","like_count":1,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461943,"discussion_content":"一周三更","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565230200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121780,"user_name":"金波","can_delete":false,"product_type":"c1","uid":1315886,"ip_address":"","ucode":"A50860CA422EBB","user_header":"https://static001.geekbang.org/account/avatar/00/14/14/2e/400913b1.jpg","comment_is_top":false,"comment_ctime":1565223779,"is_pvip":false,"replies":[{"id":"44750","content":"这节内容主要是熟悉TCP过程，理解了这个流程对理解HTTP有非常大的帮助，TCP如果深入了讲，也是非常复杂的，所以本节的目的，是尽量以最通俗的方式让大家理解TCP过程。","user_name":"作者回复","comment_id":121780,"uid":"1141464","ip_address":"","utype":1,"ctime":1565230394,"user_name_real":"李兵"}],"discussion_count":2,"race_medal":0,"score":"5860191075","product_id":100033601,"comment_content":"只是简单罗列了下","like_count":1,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461941,"discussion_content":"这节内容主要是熟悉TCP过程，理解了这个流程对理解HTTP有非常大的帮助，TCP如果深入了讲，也是非常复杂的，所以本节的目的，是尽量以最通俗的方式让大家理解TCP过程。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565230394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1406834,"avatar":"https://static001.geekbang.org/account/avatar/00/15/77/72/ad7056f9.jpg","nickname":"hb","note":"","ucode":"DCFA6CECF64E37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383342,"discussion_content":"老师讲的明明很生动易懂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626061753,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352844,"user_name":"扶摇九万里","can_delete":false,"product_type":"c1","uid":1780996,"ip_address":"陕西","ucode":"DE8A85E848F103","user_header":"https://static001.geekbang.org/account/avatar/00/1b/2d/04/33a430e3.jpg","comment_is_top":false,"comment_ctime":1658978983,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1658978983","product_id":100033601,"comment_content":"老师您好，我想问下，为什么http1.1中，请求都必须等待上一个请求响应完毕之后才可以继续发送下一个请求呢？","like_count":0},{"had_liked":false,"id":348512,"user_name":"Geek_291092","can_delete":false,"product_type":"c1","uid":2957935,"ip_address":"","ucode":"4D991A78BA5100","user_header":"","comment_is_top":false,"comment_ctime":1655166750,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1655166750","product_id":100033601,"comment_content":"HTTP协议是应用层协议，底下依靠TCP&#47;IP来完成数据的完整传输","like_count":0},{"had_liked":false,"id":343012,"user_name":"粘粘大盗","can_delete":false,"product_type":"c1","uid":2838655,"ip_address":"","ucode":"E593844070B968","user_header":"https://static001.geekbang.org/account/avatar/00/2b/50/7f/057d3ab8.jpg","comment_is_top":false,"comment_ctime":1650592911,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650592911","product_id":100033601,"comment_content":"我学计算机网络的时候就是死记硬背这几层模型，但是我始终也没明白怎么就是这几层了，虽然也记这几层有什么协议作用是什么，但是今天看完这个文章才理解，原理层层之前这个关联，是有了需要才出来的新的一层，下层给上册提供服务原来是这么回事！李兵老师yyds","like_count":0},{"had_liked":false,"id":339099,"user_name":"观山","can_delete":false,"product_type":"c1","uid":2916084,"ip_address":"","ucode":"E59B190A0A12A1","user_header":"https://static001.geekbang.org/account/avatar/00/2c/7e/f4/bae2de8c.jpg","comment_is_top":false,"comment_ctime":1647916799,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1647916799","product_id":100033601,"comment_content":"tcp三次握手建立链接，是和网络层建立链接还是说和服务端建立连接，如果说是和服务端建立连接，那么下层协议在建立连接之后充当什么角色呢？如果说是和网络层建立连接，那么在服务端是不是还要建立一次链接？","like_count":0},{"had_liked":false,"id":337409,"user_name":"Luby","can_delete":false,"product_type":"c1","uid":1349925,"ip_address":"","ucode":"6F68DB406096EC","user_header":"https://static001.geekbang.org/account/avatar/00/14/99/25/3f5b6af1.jpg","comment_is_top":false,"comment_ctime":1646810186,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646810186","product_id":100033601,"comment_content":"TCP 和 UDP 二选一的话，那比如视频、游戏这些应用使用 UDP 协议，在接收端是如何保证数据包拼装正确不乱序的呢？？？","like_count":0},{"had_liked":false,"id":336865,"user_name":"人生如戏","can_delete":false,"product_type":"c1","uid":2819735,"ip_address":"","ucode":"F02A52DA1DA6E5","user_header":"https://static001.geekbang.org/account/avatar/00/2b/06/97/fe937d40.jpg","comment_is_top":false,"comment_ctime":1646409867,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1646409867","product_id":100033601,"comment_content":"文中说早期单进程浏览器提到的一段内容：“所有页面的渲染模块、js执行环境以及插件都是运行在同一个线程中的”<br>疑问🤔️：一个进程可以有多个线程，是浏览器当初设计时，规定它们3个在同一个线程中运行吗？线程可以被设定执行什么内容？<br>小白不懂，望解答！谢谢🙏","like_count":0},{"had_liked":false,"id":336548,"user_name":"六耳","can_delete":false,"product_type":"c1","uid":2021265,"ip_address":"","ucode":"547AD58D9F5FF7","user_header":"https://static001.geekbang.org/account/avatar/00/1e/d7/91/aa45c7a3.jpg","comment_is_top":false,"comment_ctime":1646209330,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1646209330","product_id":100033601,"comment_content":"请问老师：“到这里你应该就明白了，TCP 为了保证数据传输的可靠性，牺牲了数据包的传输速度，因为“三次握手”和“数据包校验机制”等把传输过程中的数据包的数量提高了一倍。” 这里数据包的数量提高一倍是怎么理解的呢？三次握手只在开始时，所以我认为可以忽略不计，数据包校验为什么会把数据包的数量提高一倍呢？","like_count":0,"discussions":[{"author":{"id":2916084,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/7e/f4/bae2de8c.jpg","nickname":"观山","note":"","ucode":"E59B190A0A12A1","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557648,"discussion_content":"这里说的是keep-alive不为长连接的时候，每发送一个数据包就要进行一次三次握手和四次挥手","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647917157,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333159,"user_name":"Geek_619e80","can_delete":false,"product_type":"c1","uid":1478795,"ip_address":"","ucode":"450C641C726D62","user_header":"https://static001.geekbang.org/account/avatar/00/16/90/8b/057c7129.jpg","comment_is_top":false,"comment_ctime":1644146181,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1644146181","product_id":100033601,"comment_content":"老师，有个疑惑，TCP有重发机制，那传输的是不是源数据的副本？如果是副本那源数据又存储在哪呢？","like_count":0},{"had_liked":false,"id":324346,"user_name":"撒哈拉","can_delete":false,"product_type":"c1","uid":1608406,"ip_address":"","ucode":"2F64B26543D772","user_header":"https://static001.geekbang.org/account/avatar/00/18/8a/d6/00cf9218.jpg","comment_is_top":false,"comment_ctime":1638379132,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638379132","product_id":100033601,"comment_content":"网络数据包的传输过程，以 UDP 为例<br>1，应用层数据包经过传输层时加上源和目的端口号，网络层时加上源和目的IP地址，然后通过物理层发送到对方主机<br>2，对方主机接收到数据后，物理层解析数据传给网络层，网络层解析ip地址，传输层解析端口号，应用层解析数据<br><br><br>UDP 速度快，但不保证数据的完整性<br><br>TCP 速度慢，但具有错误重发机制和数据包排序机制<br><br>TCP 的传输的 3个阶段，<br>1，3 次握手建立连接，需要3个数据包，确保建立连接<br>2，数据传输，一方发送数据包，另一方必须要发送确认数据包；数据包有一个序列号，接收方可以根据序列号组装成完整的数据<br>3，断开连接","like_count":0},{"had_liked":false,"id":321643,"user_name":"🐵@F","can_delete":false,"product_type":"c1","uid":2448923,"ip_address":"","ucode":"298B341A93075B","user_header":"https://static001.geekbang.org/account/avatar/00/25/5e/1b/6bf65ccb.jpg","comment_is_top":false,"comment_ctime":1636971737,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1636971737","product_id":100033601,"comment_content":"老师，能详细介绍下三次握手和四次挥手吗","like_count":0,"discussions":[{"author":{"id":1273044,"avatar":"https://static001.geekbang.org/account/avatar/00/13/6c/d4/85ef1463.jpg","nickname":"路漫漫","note":"","ucode":"F70F1DC612DE9D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535739,"discussion_content":"出门左转找透视http协议，详细到爆炸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638530851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305514,"user_name":"光影","can_delete":false,"product_type":"c1","uid":2539250,"ip_address":"","ucode":"CE6EF591D3A7B5","user_header":"https://static001.geekbang.org/account/avatar/00/26/be/f2/60711467.jpg","comment_is_top":false,"comment_ctime":1628005320,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1628005320","product_id":100033601,"comment_content":"我个人存在疑惑，听了老师讲的，我感觉好像tcp直接就可以传输数据了，还需要http做啥处理呢？😂","like_count":0,"discussions":[{"author":{"id":2916084,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/7e/f4/bae2de8c.jpg","nickname":"观山","note":"","ucode":"E59B190A0A12A1","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557649,"discussion_content":"http能传输就是因为他建立在tcp之上，我倒是疑惑既然tcp已经传输了，那下层的网络层是什么作用","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647917259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1594628,"avatar":"https://static001.geekbang.org/account/avatar/00/18/55/04/188ec690.jpg","nickname":"焦糖瓜子","note":"","ucode":"AB3790CFA55011","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2916084,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/7e/f4/bae2de8c.jpg","nickname":"观山","note":"","ucode":"E59B190A0A12A1","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":558425,"discussion_content":"TCP类似快递员角色，可以派送货物，IP就是地址 如果dns查询和IP没有找到对应的目标服务器，TCP的数据发给谁？每一层都有自己一个功能吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648293907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":557649,"ip_address":""},"score":558425,"extra":""},{"author":{"id":2916084,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/7e/f4/bae2de8c.jpg","nickname":"观山","note":"","ucode":"E59B190A0A12A1","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1594628,"avatar":"https://static001.geekbang.org/account/avatar/00/18/55/04/188ec690.jpg","nickname":"焦糖瓜子","note":"","ucode":"AB3790CFA55011","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":558433,"discussion_content":"那是不是可以把dns 解析和网络层对应上，这样感觉很牵强啊😅","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648297523,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":558425,"ip_address":""},"score":558433,"extra":""}]}]},{"had_liked":false,"id":305040,"user_name":"optimistic","can_delete":false,"product_type":"c1","uid":1613641,"ip_address":"","ucode":"A304345D163D44","user_header":"https://static001.geekbang.org/account/avatar/00/18/9f/49/2d502a32.jpg","comment_is_top":false,"comment_ctime":1627787735,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627787735","product_id":100033601,"comment_content":"如果把http当做很大的货物，tcp就是负责把这个货物分块传输的工人，到了目的地再合成原样的http","like_count":0},{"had_liked":false,"id":303907,"user_name":"small_ma","can_delete":false,"product_type":"c1","uid":1977044,"ip_address":"","ucode":"45267975896238","user_header":"https://static001.geekbang.org/account/avatar/00/1e/2a/d4/e4ef403a.jpg","comment_is_top":false,"comment_ctime":1627083481,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627083481","product_id":100033601,"comment_content":"讲得挺好","like_count":0},{"had_liked":false,"id":302857,"user_name":"Lemon","can_delete":false,"product_type":"c1","uid":1487566,"ip_address":"","ucode":"3A7F77DB3AA432","user_header":"https://static001.geekbang.org/account/avatar/00/16/b2/ce/b5af830a.jpg","comment_is_top":false,"comment_ctime":1626410009,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626410009","product_id":100033601,"comment_content":"TCP 也是可以将数据包正确的发送到指定应用程序的吧？<br>","like_count":0},{"had_liked":false,"id":302856,"user_name":"Lemon","can_delete":false,"product_type":"c1","uid":1487566,"ip_address":"","ucode":"3A7F77DB3AA432","user_header":"https://static001.geekbang.org/account/avatar/00/16/b2/ce/b5af830a.jpg","comment_is_top":false,"comment_ctime":1626409905,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626409905","product_id":100033601,"comment_content":"浏览器里面的网络进程。中间没有UDP参与吧？<br>从输入url到显示页面的过程：<br>1. 客户端（浏览器）发起http请求，首先通过三次握手建立TCP连接<br>2. 连接成功后，发送请求数据包。服务器给出响应。完成请求，响应流程。（基于http 1.1）<br>3. 数据传输完成，开始执行TCP的四次挥手，从而关闭TCP连接。<br>请老师指教，是这样的吧？","like_count":0},{"had_liked":false,"id":300968,"user_name":"1979104101ng","can_delete":false,"product_type":"c1","uid":2138770,"ip_address":"","ucode":"95204E6CBA81D6","user_header":"https://static001.geekbang.org/account/avatar/00/20/a2/92/6bbcb80b.jpg","comment_is_top":false,"comment_ctime":1625472378,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625472378","product_id":100033601,"comment_content":"我对HTTP了解的很浅薄，TCP协议解决了稳定传输多个数据包，有序组合成完整数据包的问题，但并没有细分这个数据包是传给电脑、浏览器还是数据库？而HTTP在这一里进一步地说明这个数据包是浏览器的请求的，而且能细分到浏览器一般请求资源 GET 请求，提交表单传递的数据包 POST请求，并且设置了允许的请求方法（GET POST DELETE等等）","like_count":0},{"had_liked":false,"id":287212,"user_name":"Garan","can_delete":false,"product_type":"c1","uid":2522696,"ip_address":"","ucode":"8A0D054078935B","user_header":"https://static001.geekbang.org/account/avatar/00/26/7e/48/9fdd75be.jpg","comment_is_top":false,"comment_ctime":1617843073,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617843073","product_id":100033601,"comment_content":"http 是在应用使用中的具体请求，TCP则通知了信息应该发送给哪个应用内容是什么。","like_count":0},{"had_liked":false,"id":285903,"user_name":"涨姿势","can_delete":false,"product_type":"c1","uid":1928814,"ip_address":"","ucode":"707F9539162508","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/9IfOmR00icrtYKKWkZJ9xlMr4ejd3ia0HeZ7h5MxibicuEE3hqXiblDZFVuFJqxbtR91ObuTtQKw0QrrLCKSyibpxrDg/132","comment_is_top":false,"comment_ctime":1617069927,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617069927","product_id":100033601,"comment_content":"Http和tcp协议属于不同的层，一个是应用层另一个是传输层，两者之间通过接口进行交互。tcp将数据包发送到http的指定端口上。","like_count":0},{"had_liked":false,"id":285233,"user_name":"Jack","can_delete":false,"product_type":"c1","uid":1733235,"ip_address":"","ucode":"078276712BECE3","user_header":"https://static001.geekbang.org/account/avatar/00/1a/72/73/743f1fa0.jpg","comment_is_top":false,"comment_ctime":1616679136,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616679136","product_id":100033601,"comment_content":"谈谈你对http的理解，应该从哪些方面入手？老师","like_count":0},{"had_liked":false,"id":285023,"user_name":"前端__图图","can_delete":false,"product_type":"c1","uid":1658030,"ip_address":"","ucode":"453FBCC7900D07","user_header":"https://static001.geekbang.org/account/avatar/00/19/4c/ae/89f4bc7d.jpg","comment_is_top":false,"comment_ctime":1616581744,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616581744","product_id":100033601,"comment_content":"这里跟图解HTTP讲得又不太一样，难受","like_count":0},{"had_liked":false,"id":266455,"user_name":"arronK","can_delete":false,"product_type":"c1","uid":1192961,"ip_address":"","ucode":"58DC6FBF2CF0C1","user_header":"https://static001.geekbang.org/account/avatar/00/12/34/01/30ca98e6.jpg","comment_is_top":false,"comment_ctime":1607344246,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1607344246","product_id":100033601,"comment_content":"Tcp协议是运输的船，http是其上的集装箱，里面装着的是具体的内容。","like_count":0},{"had_liked":false,"id":260926,"user_name":"裴琳娟","can_delete":false,"product_type":"c1","uid":1968912,"ip_address":"","ucode":"5723606D905FC7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIzHlDS35rNib0ezdJ1fNFSR0N6OQJRD97NfrqzFBnajVPeiagRGtPkNgI512032IUQwFvqvC6pY1BQ/132","comment_is_top":false,"comment_ctime":1605152450,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1605152450","product_id":100033601,"comment_content":"总结一下:  <br>服务端  上层-&gt;(发送http协议信息)-&gt;TCP协议(携带TCP协议头,数据,http信息,程序应用信息)-&gt;IP(携带IP头,数据,ip地址主机信息)-&gt;底层<br>客户端  上层-&gt;(解析http协议信息)-&gt;TCP协议(解析信息)-&gt;IP-&gt;底层","like_count":0},{"had_liked":false,"id":258289,"user_name":"Yully","can_delete":false,"product_type":"c1","uid":1254946,"ip_address":"","ucode":"66034995A6282F","user_header":"https://static001.geekbang.org/account/avatar/00/13/26/22/dd505e6d.jpg","comment_is_top":false,"comment_ctime":1604370983,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604370983","product_id":100033601,"comment_content":"TCP是底层通讯协议，，定义了数据传输和连接方式的规范。HTTP是基于TCP&#47;IP协议的应用层协议，定义了传输数据内容的规范。","like_count":0},{"had_liked":false,"id":244159,"user_name":"Demo_12","can_delete":false,"product_type":"c1","uid":2125587,"ip_address":"","ucode":"D99A09198B0710","user_header":"https://static001.geekbang.org/account/avatar/00/20/6f/13/19bec416.jpg","comment_is_top":false,"comment_ctime":1598413505,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598413505","product_id":100033601,"comment_content":"关于传输层的的端口号（比如UDP头中带的端口号）有一些疑问：<br>1、这个端口号是操作系统自动分配的吗？<br>2、它和http中的端口号又有什么不同？<br>","like_count":0},{"had_liked":false,"id":241443,"user_name":"达迟","can_delete":false,"product_type":"c1","uid":1075159,"ip_address":"","ucode":"FC80539412CF7E","user_header":"https://static001.geekbang.org/account/avatar/00/10/67/d7/2e34a0b3.jpg","comment_is_top":false,"comment_ctime":1597296704,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597296704","product_id":100033601,"comment_content":"【如果你要详细了解 IP 头信息，可以参考该链接。】这个链接貌似老师给的是TCP的Wiki地址？","like_count":0},{"had_liked":false,"id":232524,"user_name":"Geek_bb5943","can_delete":false,"product_type":"c1","uid":1618923,"ip_address":"","ucode":"E7380ADCC98CB1","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIBUFdN3p3KvwsAeYltGbenNFPmIJ1tdXVGkVkkibKs1n12Brd1iae5BNXnW8HKSYX8bTtSqrpeuJUw/132","comment_is_top":false,"comment_ctime":1594027523,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594027523","product_id":100033601,"comment_content":"老师，tcp传输过程出现粘包的现象，怎么去解决呢","like_count":0},{"had_liked":false,"id":227247,"user_name":"你微笑时好美","can_delete":false,"product_type":"c1","uid":1380541,"ip_address":"","ucode":"EE23BE679FC901","user_header":"https://static001.geekbang.org/account/avatar/00/15/10/bd/5b935d38.jpg","comment_is_top":false,"comment_ctime":1592323010,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1592323010","product_id":100033601,"comment_content":"一个大的文件在传输过程中会被拆分成很多小的数据包，这些数据包到达接收端后，接收端会按照 TCP 头中的序号为其排序，从而保证组成完整的数据。  如果 html 数据很大，分成了很多个数据包，而浏览器一接收到数据包，就开始解析，那么浏览器是怎么保证从 html 头部开始解析到底部的尼？","like_count":0,"discussions":[{"author":{"id":1566606,"avatar":"https://static001.geekbang.org/account/avatar/00/17/e7/8e/a5ae40af.jpg","nickname":"香米饭","note":"","ucode":"A2A2CED58ED60A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381403,"discussion_content":"网络进程去考虑的，就不用关注这么细节了吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625041883,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227245,"user_name":"你微笑时好美","can_delete":false,"product_type":"c1","uid":1380541,"ip_address":"","ucode":"EE23BE679FC901","user_header":"https://static001.geekbang.org/account/avatar/00/15/10/bd/5b935d38.jpg","comment_is_top":false,"comment_ctime":1592322883,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592322883","product_id":100033601,"comment_content":"所谓三次握手，是指在建立一个 TCP 连接时，客户端和服务器总共要发送三个数据包以确认连接的建立。 这里的数据包内容会是什么？","like_count":0},{"had_liked":false,"id":226724,"user_name":"LIKE","can_delete":false,"product_type":"c1","uid":1254252,"ip_address":"","ucode":"9DAB7F9051648A","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/6c/82ba5e1f.jpg","comment_is_top":false,"comment_ctime":1592190039,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592190039","product_id":100033601,"comment_content":"“当网速低于某个阈值后，文件传输为什么总是失败？“<br>记得之前听过卓老板有过类似主题的科普，说的就是TCP传输，发送方在规定时间内没有收到应答方的确认码，即使数据包真的发送成功，也还是一直传123456 ... 123456 ...","like_count":0},{"had_liked":false,"id":224573,"user_name":"james","can_delete":false,"product_type":"c1","uid":1232771,"ip_address":"","ucode":"AC42035106E5B9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/yyibGRYCArsUNBfCAEAibua09Yb9D5AdO8TkCmXymhAepibqmlz0hzg06ggBLxyvXicnjqFVGr7zYF0rQoZ0aXCBAg/132","comment_is_top":false,"comment_ctime":1591448689,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1591448689","product_id":100033601,"comment_content":"HTTP协议和TCP协议都是TCP&#47;IP协议簇的子集。<br><br>HTTP协议属于应用层，TCP协议属于传输层，HTTP协议位于TCP协议的上层。<br><br>请求方要发送的数据包，在应用层加上HTTP头以后会交给传输层的TCP协议处理，应答方接收到的数据包，在传输层拆掉TCP头以后交给应用层的HTTP协议处理。建立 TCP 连接后会顺序收发数据，请求方和应答方都必须依据 HTTP 规范构建和解析HTTP报文。","like_count":0},{"had_liked":false,"id":221035,"user_name":"骷髅精灵","can_delete":false,"product_type":"c1","uid":2014871,"ip_address":"","ucode":"16766224E62E32","user_header":"https://static001.geekbang.org/account/avatar/00/1e/be/97/818b3e54.jpg","comment_is_top":false,"comment_ctime":1590388370,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590388370","product_id":100033601,"comment_content":"UDP 负责把数据包送达具体应用。<br><br>TCP 也是这个功能吧，只是保证了数据的完整性？","like_count":0},{"had_liked":false,"id":207568,"user_name":"shanzi","can_delete":false,"product_type":"c1","uid":1608695,"ip_address":"","ucode":"013D91BC16382F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJib1lsydmKBBqtOg3An1XdPh0kUzWrStVsU9HicVBQVibs5T6icdqACXR9GJAMj9pV9qGrHuVGIzm2lA/132","comment_is_top":false,"comment_ctime":1587110055,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587110055","product_id":100033601,"comment_content":"web网页 是应用层发起http协议到传输层 然后传输层tcp&#47;ip 将数据发送到web服务器的传输层  拿到数据后原路返回？ ","like_count":0},{"had_liked":false,"id":204458,"user_name":"穿秋裤的男孩","can_delete":false,"product_type":"c1","uid":1748640,"ip_address":"","ucode":"D0F48C66377893","user_header":"https://static001.geekbang.org/account/avatar/00/1a/ae/a0/707350ef.jpg","comment_is_top":false,"comment_ctime":1586402725,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586402725","product_id":100033601,"comment_content":"通俗易懂的文章读起来真是种享受，不过有种戛然而止的感觉。","like_count":0},{"had_liked":false,"id":202245,"user_name":"SCRD","can_delete":false,"product_type":"c1","uid":1034783,"ip_address":"","ucode":"C2A193A2869AAD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ca/1f/a9a7f9d9.jpg","comment_is_top":false,"comment_ctime":1585931572,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1585931572","product_id":100033601,"comment_content":"辛亏之前看了一些相关的知识，现在很好理解了","like_count":0},{"had_liked":false,"id":198768,"user_name":"窗外明月","can_delete":false,"product_type":"c1","uid":1485706,"ip_address":"","ucode":"D4C0BA5CC496CA","user_header":"https://static001.geekbang.org/account/avatar/00/16/ab/8a/e1a8b835.jpg","comment_is_top":false,"comment_ctime":1585467243,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585467243","product_id":100033601,"comment_content":"TCP是桥梁(道路)，HTTP是汽车，这样理解对不","like_count":0},{"had_liked":false,"id":189023,"user_name":"靠人品去赢","can_delete":false,"product_type":"c1","uid":1301286,"ip_address":"","ucode":"7A20F9EBE847E1","user_header":"https://static001.geekbang.org/account/avatar/00/13/db/26/54f2c164.jpg","comment_is_top":false,"comment_ctime":1584447274,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584447274","product_id":100033601,"comment_content":"可以，老师这个分解很棒，之前一直执着于是哪一层的，每层添加一个头。","like_count":0},{"had_liked":false,"id":188789,"user_name":"Woosang","can_delete":false,"product_type":"c1","uid":1220919,"ip_address":"","ucode":"BB63C9F1BBDF61","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/CJYUnMtcdu7GdMGxzVicTYpfsbhTKzrCIpoLIJxn8ByWsq1ol35RZLe1u4eWJpFhGK7ISpee2slWYokn0vBicw7A/132","comment_is_top":false,"comment_ctime":1584415919,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584415919","product_id":100033601,"comment_content":"TCP是HTTP的下层服务","like_count":0},{"had_liked":false,"id":188538,"user_name":"Nowki","can_delete":false,"product_type":"c1","uid":1379638,"ip_address":"","ucode":"8BAB9136C8F333","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DHDKIclaxBO9KpDvg6qOkZfr9o0e42YP9mQT1tAKYEnDqMo1SddJkIvB3EK2ILtq28K3Xe7jYGhXqmrTey4A4w/132","comment_is_top":false,"comment_ctime":1584366180,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584366180","product_id":100033601,"comment_content":"HTTP协议是应用层协议，TCP协议是传输层协议。HTTP协议传输的时候，也是要经过TCP封装。","like_count":0},{"had_liked":false,"id":188362,"user_name":"非洲小白狼","can_delete":false,"product_type":"c1","uid":1902607,"ip_address":"","ucode":"5F22AC9981C8C3","user_header":"https://static001.geekbang.org/account/avatar/00/1d/08/0f/9ed70716.jpg","comment_is_top":false,"comment_ctime":1584344692,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584344692","product_id":100033601,"comment_content":"IP相当于你在那座城市，UDP||TCP相当于快递公司，UDP相当于商业的快递(顺丰啥的)，优点是速度快但是容易丢包，TCP相当于邮政虽然慢但是能够送到的地方多而广，然后HTTP相当于我们收到货之后去要做的什么事情!","like_count":0},{"had_liked":false,"id":174469,"user_name":"追风筝的人","can_delete":false,"product_type":"c1","uid":1488020,"ip_address":"","ucode":"2993D60F94C396","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","comment_is_top":false,"comment_ctime":1580222811,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580222811","product_id":100033601,"comment_content":"http over tcp. tcp协议为上层应用协议http提供可靠数据传输服务，如果传输过程中有丢包 会重新传输数据。","like_count":0},{"had_liked":false,"id":154283,"user_name":"filter","can_delete":false,"product_type":"c1","uid":1064585,"ip_address":"","ucode":"4559F7E9638E06","user_header":"https://static001.geekbang.org/account/avatar/00/10/3e/89/ce5c0938.jpg","comment_is_top":false,"comment_ctime":1574403555,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574403555","product_id":100033601,"comment_content":"IP用来寻址，寻找到对应计算机的地址<br>UDP通过端口号来寻找对应的处理程序<br>TCP引入了重传机制和数据排序机制来保障文件的完整性","like_count":0},{"had_liked":false,"id":150399,"user_name":"小甜瓜","can_delete":false,"product_type":"c1","uid":1682968,"ip_address":"","ucode":"EA54EF39830BB6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/7h5GibZwWfgY1q7geDAtmicEKBJMxKdppkVOl1XgW12rd2Zrtar7CkCn35x6kfU5V2sPrcuaYDbo67PWdWQ0aLOQ/132","comment_is_top":false,"comment_ctime":1573527389,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573527389","product_id":100033601,"comment_content":"http是大范围的传输，tcp是包括头文件的具体的传输数据","like_count":0},{"had_liked":false,"id":147896,"user_name":"arronK","can_delete":false,"product_type":"c1","uid":1192961,"ip_address":"","ucode":"58DC6FBF2CF0C1","user_header":"https://static001.geekbang.org/account/avatar/00/12/34/01/30ca98e6.jpg","comment_is_top":false,"comment_ctime":1572917775,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1572917775","product_id":100033601,"comment_content":"TCP属于传输层协议，只负责把包给到对应程序。HTTP属于应用层协议，决定了对包的数据内容如何理解。<br>比如你发一封用英文写的纸质邮件给你的朋友，给顺风快递，那顺风快递就可以看做是TCP，快递给到朋友了手上了，他拿出来得用英文才能理解，那英文也就可以看做HTTP协议。<br><br>是这么回事么？","like_count":0},{"had_liked":false,"id":147152,"user_name":"你可以叫我61","can_delete":false,"product_type":"c1","uid":1544328,"ip_address":"","ucode":"BC586029546F8E","user_header":"https://static001.geekbang.org/account/avatar/00/17/90/88/cd4bb862.jpg","comment_is_top":false,"comment_ctime":1572828014,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1572828014","product_id":100033601,"comment_content":"请问一下老师，udp对于大数据传输也是分割成很多小的数据包进行传输的嘛？如果是的，那么它丢包了之后，怎么进行重组排序来保证数据包的顺序的？","like_count":0},{"had_liked":false,"id":141934,"user_name":"开开之之","can_delete":false,"product_type":"c1","uid":1152069,"ip_address":"","ucode":"2B7FC13D6F32C4","user_header":"https://static001.geekbang.org/account/avatar/00/11/94/45/7ea3dd47.jpg","comment_is_top":false,"comment_ctime":1571271964,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571271964","product_id":100033601,"comment_content":"老师好，这句话看起来写的有点问题。”而 UDP 协议并不知道如何组装这些数据包，从而把这些数据包还原成完整的文件。”","like_count":0},{"had_liked":false,"id":140426,"user_name":"splm","can_delete":false,"product_type":"c1","uid":1338601,"ip_address":"","ucode":"2216332252CEA7","user_header":"https://static001.geekbang.org/account/avatar/00/14/6c/e9/072b33b9.jpg","comment_is_top":false,"comment_ctime":1570937392,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1570937392","product_id":100033601,"comment_content":"你好，有一个问题，就是最后TCP三个阶段，建立，传输，断开。其中传输时，比如传递一个大包，被分成若干个小包，是每一个小包到达接收端的时候都需要返回给发送端一个确认信息吗？分成100个小包，就要有100次的确认信息？","like_count":0,"discussions":[{"author":{"id":1272789,"avatar":"https://static001.geekbang.org/account/avatar/00/13/6b/d5/0e4b70a2.jpg","nickname":"Sean","note":"","ucode":"BC0715BF423613","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":32460,"discussion_content":"1.接收者完整接收到每个数据分段，都需要向发送者发送确认信息。\n2. 这个确认信息可以可以被捎带，可以不必要专门发送，有同方向的数据传递的时候会捎带一些确认信息\n3. 很多TCP栈实现了“延时确认”，不会立即发送确认信息，而是等待以寻找能够捎带它的响应\n因此，可以理解为产生了100次确认信息，但是不意味着有100次专门的确认传递行为。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571039149,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1338601,"avatar":"https://static001.geekbang.org/account/avatar/00/14/6c/e9/072b33b9.jpg","nickname":"splm","note":"","ucode":"2216332252CEA7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1272789,"avatar":"https://static001.geekbang.org/account/avatar/00/13/6b/d5/0e4b70a2.jpg","nickname":"Sean","note":"","ucode":"BC0715BF423613","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":33124,"discussion_content":"了解了解，感谢。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571099889,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":32460,"ip_address":""},"score":33124,"extra":""}]}]},{"had_liked":false,"id":135730,"user_name":"yj","can_delete":false,"product_type":"c1","uid":1608130,"ip_address":"","ucode":"7558C15A29D994","user_header":"","comment_is_top":false,"comment_ctime":1569248266,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569248266","product_id":100033601,"comment_content":"主机A发送数据包给主机B通过ip协议发送，是当数据包到了主机B之后在建立TCP的连接吗？ TCP在什么时候建立连接不是太懂。<br>","like_count":0},{"had_liked":false,"id":135507,"user_name":"Maker","can_delete":false,"product_type":"c1","uid":1385569,"ip_address":"","ucode":"1193AA6126A596","user_header":"https://static001.geekbang.org/account/avatar/00/15/24/61/ab88f481.jpg","comment_is_top":false,"comment_ctime":1569201025,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569201025","product_id":100033601,"comment_content":"老师，我有个疑问，能帮忙解答一下吗？<br>在数据传输阶段，如果文件比较大，被拆分成多个数据包发送， 发送端是每发送一个包就等待接收端反馈信息，确认后再继续发送下一个包？还是所有的包通过多线程一次性发送，等待反馈信息，如果某个包没有反馈信息就重新发送丢失的包？","like_count":0},{"had_liked":false,"id":133992,"user_name":"L","can_delete":false,"product_type":"c1","uid":1608489,"ip_address":"","ucode":"7365C947AA6E35","user_header":"https://static001.geekbang.org/account/avatar/00/18/8b/29/99331d43.jpg","comment_is_top":false,"comment_ctime":1568712288,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1568712288","product_id":100033601,"comment_content":"老师讲的真的是太好了，看好几遍都意犹未尽","like_count":0},{"had_liked":false,"id":130309,"user_name":"Cris","can_delete":false,"product_type":"c1","uid":1473520,"ip_address":"","ucode":"F8A287134F1078","user_header":"https://static001.geekbang.org/account/avatar/00/16/7b/f0/269139d5.jpg","comment_is_top":false,"comment_ctime":1567422510,"is_pvip":false,"replies":[{"id":"48611","content":"是的","user_name":"作者回复","user_name_real":"李兵","uid":"1141464","ctime":1567424452,"ip_address":"","comment_id":130309,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567422510","product_id":100033601,"comment_content":"老师，ip地址中的ip是internet protocol网际协议的缩写？","like_count":0,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465898,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567424452,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126503,"user_name":"433590","can_delete":false,"product_type":"c1","uid":1633264,"ip_address":"","ucode":"6E09D280422EF0","user_header":"https://static001.geekbang.org/account/avatar/00/18/eb/f0/c687d678.jpg","comment_is_top":false,"comment_ctime":1566396874,"is_pvip":false,"replies":[{"id":"47145","content":"是的","user_name":"作者回复","user_name_real":"李兵","uid":"1141464","ctime":1566657877,"ip_address":"","comment_id":126503,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566396874","product_id":100033601,"comment_content":"个人认为总结中的第二条应该是，TCＰ协议和UDP协议都是会把数据包送达某一应用（端口号）","like_count":0,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464020,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566657877,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124121,"user_name":"阿段","can_delete":false,"product_type":"c1","uid":1620143,"ip_address":"","ucode":"D9EA14A0BE1B69","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ExHHyMiauDKhjmy4n8rgA1e3IVRd8vegMAnOFC7u6p9aiaefEJEZKa2Pu5rARLbeNicuz9NFicpF5YXEFf35gNn2vQ/132","comment_is_top":false,"comment_ctime":1565828480,"is_pvip":false,"replies":[{"id":"45657","content":"数据包有上限值，但是可以少于上限值","user_name":"作者回复","user_name_real":"李兵","uid":"1141464","ctime":1565878054,"ip_address":"","comment_id":124121,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1565828480","product_id":100033601,"comment_content":"每个数据包的大小是固定的么？还是变化的？","like_count":0,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463018,"discussion_content":"数据包有上限值，但是可以少于上限值","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565878054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1620143,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/ExHHyMiauDKhjmy4n8rgA1e3IVRd8vegMAnOFC7u6p9aiaefEJEZKa2Pu5rARLbeNicuz9NFicpF5YXEFf35gNn2vQ/132","nickname":"阿段","note":"","ucode":"D9EA14A0BE1B69","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5043,"discussion_content":"上限值是多少？是网络设备的mtu么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565913729,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123669,"user_name":"杨斌","can_delete":false,"product_type":"c1","uid":1382239,"ip_address":"","ucode":"AE5ACF205E7CD7","user_header":"https://static001.geekbang.org/account/avatar/00/15/17/5f/1911049c.jpg","comment_is_top":false,"comment_ctime":1565742239,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565742239","product_id":100033601,"comment_content":"现在的浏览器可以同时打开多个页签，他们端口一样吗？如果一样，数据怎么知道去哪个页签？。。。这个问题没太理解 能详细解释一下吗 ","like_count":0},{"had_liked":false,"id":123538,"user_name":"°半月含雪雨","can_delete":false,"product_type":"c1","uid":1111119,"ip_address":"","ucode":"AD1363CCE660B0","user_header":"https://static001.geekbang.org/account/avatar/00/10/f4/4f/6be9c5d7.jpg","comment_is_top":false,"comment_ctime":1565697143,"is_pvip":false,"replies":[{"id":"45318","content":"👍","user_name":"作者回复","user_name_real":"李兵","uid":"1141464","ctime":1565706565,"ip_address":"","comment_id":123538,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565697143","product_id":100033601,"comment_content":"在TCP&#47;IP五层结构中，http协议属于应用层，应用层主要是来为操作系统和应用程序提供网络服务。而TCP属于传输层，传输层用来处理全部信息和提供可靠的数据传输服务。","like_count":0,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462714,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565706565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122898,"user_name":"而立斋","can_delete":false,"product_type":"c1","uid":1087258,"ip_address":"","ucode":"5FED6E9E148195","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/1a/389eab84.jpg","comment_is_top":false,"comment_ctime":1565571689,"is_pvip":false,"replies":[{"id":"45094","content":"是的","user_name":"作者回复","user_name_real":"李兵","uid":"1141464","ctime":1565574410,"ip_address":"","comment_id":122898,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565571689","product_id":100033601,"comment_content":"在同一个请求过程中，tcp跟udp是二选一吧？他们会都用吗？","like_count":0,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462445,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565574410,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122689,"user_name":"蜗牛先笙","can_delete":false,"product_type":"c1","uid":1393425,"ip_address":"","ucode":"E56B32A49F1CC7","user_header":"https://static001.geekbang.org/account/avatar/00/15/43/11/b340b10d.jpg","comment_is_top":false,"comment_ctime":1565491876,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565491876","product_id":100033601,"comment_content":"所以现在的数据传输是用的tcp没有udon","like_count":0},{"had_liked":false,"id":122384,"user_name":"mfist","can_delete":false,"product_type":"c1","uid":1373624,"ip_address":"","ucode":"4F99F422C23FB4","user_header":"https://static001.geekbang.org/account/avatar/00/14/f5/b8/9f165f4b.jpg","comment_is_top":false,"comment_ctime":1565353989,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565353989","product_id":100033601,"comment_content":"Ip是网络层协议，tcp udp是传输层协议，http dns等是应用层协议。应用层协议需要一来传输层。","like_count":0},{"had_liked":false,"id":122333,"user_name":"拖鞋","can_delete":false,"product_type":"c1","uid":1089424,"ip_address":"","ucode":"09985C731090A3","user_header":"https://static001.geekbang.org/account/avatar/00/10/9f/90/4656119a.jpg","comment_is_top":false,"comment_ctime":1565340610,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565340610","product_id":100033601,"comment_content":"谢谢大佬几句话就解了惑","like_count":0},{"had_liked":false,"id":122068,"user_name":"ytd","can_delete":false,"product_type":"c1","uid":1038790,"ip_address":"","ucode":"C6AEA2D19E447A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d9/c6/8be8664d.jpg","comment_is_top":false,"comment_ctime":1565278428,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565278428","product_id":100033601,"comment_content":"http架构在tcp之上，主要用在web服务器和浏览器上，它比tcp更加面向开发者。","like_count":0},{"had_liked":false,"id":121859,"user_name":"许童童","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1565235452,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565235452","product_id":100033601,"comment_content":"你怎么理解 HTTP 和 TCP 的关系？<br>HTTP是建立在TCP协议之上的，属于应用层，TCP提供给HTTP可靠的连接，HTTP给应用提供更方便的使用接口。","like_count":0},{"had_liked":false,"id":121802,"user_name":"蓝配鸡","can_delete":false,"product_type":"c1","uid":1348738,"ip_address":"","ucode":"C79A7CA8885B7C","user_header":"https://static001.geekbang.org/account/avatar/00/14/94/82/d0a417ba.jpg","comment_is_top":false,"comment_ctime":1565226181,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565226181","product_id":100033601,"comment_content":"TCP抽象了HTTP的需求","like_count":0},{"had_liked":false,"id":121797,"user_name":"XWL","can_delete":false,"product_type":"c1","uid":1597186,"ip_address":"","ucode":"5D3988791C60AF","user_header":"https://static001.geekbang.org/account/avatar/00/18/5f/02/f8a80843.jpg","comment_is_top":false,"comment_ctime":1565225403,"is_pvip":false,"replies":[{"id":"44786","content":"网络问题，线路故障，路由错误等底层的问题都有可能导致丢包","user_name":"作者回复","user_name_real":"李兵","uid":"1141464","ctime":1565270931,"ip_address":"","comment_id":121797,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1565225403","product_id":100033601,"comment_content":"那丢包一般是什么原因","like_count":0,"discussions":[{"author":{"id":1141464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6a/d8/228449c9.jpg","nickname":"李兵","note":"","ucode":"3F3D3F6E20209E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461950,"discussion_content":"网络问题，线路故障，路由错误等底层的问题都有可能导致丢包","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565270931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
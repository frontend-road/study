{"id":10790,"title":"33 | 传统的可扩展架构模式：分层架构和SOA","content":"<p>相比于高性能、高可用架构模式在最近几十年的迅猛发展来说，可扩展架构模式的发展可以说是步履蹒跚，最近几年火热的微服务模式算是可扩展模式发展历史中为数不多的亮点，但这也导致了现在谈可扩展的时候必谈微服务，甚至微服务架构都成了架构设计的银弹，高性能也用微服务、高可用也用微服务，很多时候这样的架构设计看起来高大上，实际上是大炮打蚊子，违背了架构设计的“合适原则”和“简单原则”。</p><p>为了帮助你在实践中更好的进行可扩展架构设计，我将分别介绍几种可扩展架构模式，指出每种架构模式的关键点和优缺点。今天我来介绍传统的可扩展模式，包括<span class=\"orange\">分层架构和SOA</span>，后面还会介绍微服务架构。</p><h2>分层架构</h2><p>分层架构是很常见的架构模式，它也叫N层架构，通常情况下，N至少是2层。例如，C/S架构、B/S架构。常见的是3层架构（例如，MVC、MVP架构）、4层架构，5层架构的比较少见，一般是比较复杂的系统才会达到或者超过5层，比如操作系统内核架构。</p><p>按照分层架构进行设计时，根据不同的划分维度和对象，可以得到多种不同的分层架构。</p><ol>\n<li>C/S架构、B/S架构</li>\n</ol><p>划分的对象是整个业务系统，划分的维度是用户交互，即将和用户交互的部分独立为一层，支撑用户交互的后台作为另外一层。例如，下面是C/S架构结构图。</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/ac/55/acae5ee24fd6e6c41edb193a88e32f55.jpg?wh=3062*1768\" alt=\"\" title=\"图片来自网络\"></p><ol start=\"2\">\n<li>MVC架构、MVP架构</li>\n</ol><p>划分的对象是单个业务子系统，划分的维度是职责，将不同的职责划分到独立层，但各层的依赖关系比较灵活。例如，MVC架构中各层之间是两两交互的：</p><p><img src=\"https://static001.geekbang.org/resource/image/36/50/3602b5bb371ebyy597c2d6b68f83d150.jpg?wh=3038*1570\" alt=\"\"></p><ol start=\"3\">\n<li>逻辑分层架构</li>\n</ol><p>划分的对象可以是单个业务子系统，也可以是整个业务系统，划分的维度也是职责。虽然都是基于职责划分，但逻辑分层架构和MVC架构、MVP架构的不同点在于，逻辑分层架构中的层是自顶向下依赖的。典型的有操作系统内核架构、TCP/IP架构。例如，下面是Android操作系统架构图。</p><p><img src=\"https://static001.geekbang.org/resource/image/15/3a/15712073102390bede89e54ce6f2d13a.jpg?wh=3800*3700\" alt=\"\"></p><p>典型的J2EE系统架构也是逻辑分层架构，架构图如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/32/cb/3296df5420c88834493a6239d8dc62cb.jpg?wh=3148*2543\" alt=\"\"></p><p>针对整个业务系统进行逻辑分层的架构图如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/df/e4/dfd57e17b23823926d427db57620a0e4.jpg?wh=2497*1938\" alt=\"\"></p><p>无论采取何种分层维度，分层架构设计最核心的一点就是<strong>需要保证各层之间的差异足够清晰，边界足够明显，让人看到架构图后就能看懂整个架构</strong>，这也是分层不能分太多层的原因。否则如果两个层的差异不明显，就会出现程序员小明认为某个功能应该放在A层，而程序员老王却认为同样的功能应该放在B层，这样会导致分层混乱。如果这样的架构进入实际开发落地，则A层和B层就会乱成一锅粥，也就失去了分层的意义。</p><p>分层架构之所以能够较好地支撑系统扩展，本质在于<strong>隔离关注点</strong>（separation of concerns），即每个层中的组件只会处理本层的逻辑。比如说，展示层只需要处理展示逻辑，业务层中只需要处理业务逻辑，这样我们在扩展某层时，其他层是不受影响的，通过这种方式可以支撑系统在某层上快速扩展。例如，Linux内核如果要增加一个新的文件系统，则只需要修改文件存储层即可，其他内核层无须变动。</p><p>当然，并不是简单地分层就一定能够实现隔离关注点从而支撑快速扩展，分层时要保证层与层之间的依赖是稳定的，才能真正支撑快速扩展。例如，Linux内核为了支撑不同的文件系统格式，抽象了VFS文件系统接口，架构图如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/f3/77/f3df4b47a3fbb3e1975a5f9ae61c1477.jpg?wh=3037*2496\" alt=\"\"></p><p>如果没有VFS，只是简单地将ext2、ext3、reiser等文件系统划为“文件系统层”，那么这个分层是达不到支撑可扩展的目的的。因为增加一个新的文件系统后，所有基于文件系统的功能都要适配新的文件系统接口；而有了VFS后，只需要VFS适配新的文件系统接口，其他基于文件系统的功能是依赖VFS的，不会受到影响。</p><p>对于操作系统这类复杂的系统，接口本身也可以成为独立的一层。例如，我们把VFS独立为一层是完全可以的。而对于一个简单的业务系统，接口可能就是Java语言上的几个interface定义，这种情况下如果独立为一层，看起来可能就比较重了。例如，经典的J2EE分层架构中，Presentation Layer和Business Layer之间如果硬要拆分一个独立的接口层，则显得有点多余了。</p><p>分层结构的另外一个特点就是层层传递，也就是说一旦分层确定，整个业务流程是按照层进行依次传递的，不能在层之间进行跳跃。最简单的C/S结构，用户必须先使用C层，然后C层再传递到S层，用户是不能直接访问S层的。传统的J2EE 4层架构，收到请求后，必须按照下面的方式传递请求：</p><p><img src=\"https://static001.geekbang.org/resource/image/b2/21/b2d9b4b5a978dd0f7ef4d4502dec5821.jpg?wh=3773*2762\" alt=\"\"></p><p>分层结构的这种约束，好处在于强制将分层依赖限定为两两依赖，降低了整体系统复杂度。例如，Business Layer被Presentation Layer依赖，自己只依赖Persistence Layer。但分层结构的代价就是冗余，也就是说，不管这个业务有多么简单，每层都必须要参与处理，甚至可能每层都写了一个简单的包装函数。我以用户管理系统最简单的一个功能“查看头像”为例。查看头像功能的实现很简单，只是显示一张图片而已，但按照分层分册架构来实现，每层都要写一个简单的函数。比如：</p><p>Presentation Layer：</p><pre><code>package layer;\n\t \n\t/**\n\t * Created by Liyh on 2017/9/18.\n\t */\n\tpublic class AvatarView {\n\t   public void displayAvatar(int userId){\n\t       String url = AvatarBizz.getAvatarUrl(userId);\n\t \n\t       //此处省略渲染代码\n\t       return;\n\t   }\n\t}\n</code></pre><p>Business Layer：</p><pre><code>package layer;\n\t \n\t/**\n\t * Created by Liyh on 2017/9/18.\n\t */\n\tpublic class AvatarBizz {\n\t   public static String getAvatarUrl(int userId){\n\t       return AvatarDao.getAvatarUrl(userId);\n\t   }\n\t}\n</code></pre><p>Persistence Layer：</p><pre><code>package layer;\n\t \n\t/**\n\t * Created by Liyh on 2017/9/18.\n\t */\n\tpublic class AvatarDao {\n\t   public static String getAvatarUrl(int userId) {\n\t     //此处省略具体实现代码，正常情况下可以从MySQL数据库中通过userId查询头像URL即可\n\t       return &quot;http://avatar.csdn.net/B/8/3/1_yah99_wolf.jpg&quot;;\n\t   }\n\t}\n</code></pre><p>可以看出Business Layer的AvatarBizz类的getAvatarUrl方法和Persistence Layer的AvatarDao类的getAvatarUrl方法，名称和参数都一模一样。</p><p>既然如此，我们是否应该自由选择是否绕过分层的约束呢？例如，“查看头像”的示例中，直接让AvatarView类访问AvatarDao类，不就可以减少AvatarBizz的冗余实现了吗？</p><p>答案是不建议这样做，分层架构的优势就体现在通过分层强制约束两两依赖，一旦自由选择绕过分层，时间一长，架构就会变得混乱。例如，Presentation Layer直接访问Persistence Layer，Business Layer直接访问Database Layer，这样做就失去了分层架构的意义，也导致后续扩展时无法控制受影响范围，牵一发动全身，无法支持快速扩展。除此以外，虽然分层架构的实现在某些场景下看起来有些啰嗦和冗余，但复杂度却很低。例如，样例中AvatarBizz的getAvatarUrl方法，实现起来很简单，不会增加太多工作量。</p><p>分层架构另外一个典型的缺点就是性能，因为每一次业务请求都需要穿越所有的架构分层，有一些事情是多余的，多少都会有一些性能的浪费。当然，这里所谓的性能缺点只是理论上的分析，实际上分层带来的性能损失，如果放到20世纪80年代，可能很明显；但到了现在，硬件和网络的性能有了质的飞越，其实分层模式理论上的这点性能损失，在实际应用中，绝大部分场景下都可以忽略不计。</p><h2>SOA</h2><p>SOA的全称是Service Oriented Architecture，中文翻译为“面向服务的架构”，诞生于上世纪90年代，1996年Gartner的两位分析师Roy W. Schulte和Yefim V. Natis发表了第一个SOA的报告。</p><p>2005年，Gartner预言：到了2008年，SOA将成为80%的开发项目的基础。历史证明这个预言并不十分靠谱，SOA虽然在很多企业成功推广，但没有达到占有绝对优势的地步。SOA更多是在传统企业（例如，制造业、金融业等）落地和推广，在互联网行业并没有大规模地实践和推广。互联网行业推行SOA最早的应该是亚马逊，得益于杰弗·贝索斯的远见卓识，亚马逊内部的系统都以服务的方式构造，间接地促使了后来的亚马逊云计算技术的出现。</p><p>SOA出现 的背景是企业内部的IT系统重复建设且效率低下，主要体现在：</p><ul>\n<li>\n<p>企业各部门有独立的IT系统，比如人力资源系统、财务系统、销售系统，这些系统可能都涉及人员管理，各IT系统都需要重复开发人员管理的功能。例如，某个员工离职后，需要分别到上述三个系统中删除员工的权限。</p>\n</li>\n<li>\n<p>各个独立的IT系统可能采购于不同的供应商，实现技术不同，企业自己也不太可能基于这些系统进行重构。</p>\n</li>\n<li>\n<p>随着业务的发展，复杂度越来越高，更多的流程和业务需要多个IT系统合作完成。由于各个独立的IT系统没有标准的实现方式（例如，人力资源系统用Java开发，对外提供RPC；而财务系统用C#开发，对外提供SOAP协议），每次开发新的流程和业务，都需要协调大量的IT系统，同时定制开发，效率很低。</p>\n</li>\n</ul><p>为了应对传统IT系统存在的问题，SOA提出了3个关键概念。</p><ol>\n<li>服务</li>\n</ol><p>所有业务功能都是一项服务，服务就意味着要对外提供开放的能力，当其他系统需要使用这项功能时，无须定制化开发。</p><p>服务可大可小，可简单也可复杂。例如，人力资源管理可以是一项服务，包括人员基本信息管理、请假管理、组织结构管理等功能；而人员基本信息管理也可以作为一项独立的服务，组织结构管理也可以作为一项独立的服务。到底是划分为粗粒度的服务，还是划分为细粒度的服务，需要根据企业的实际情况进行判断。</p><ol start=\"2\">\n<li>ESB</li>\n</ol><p>ESB的全称是Enterprise Service Bus，中文翻译为“企业服务总线”。从名字就可以看出，ESB参考了计算机总线的概念。计算机中的总线将各个不同的设备连接在一起，ESB将企业中各个不同的服务连接在一起。因为各个独立的服务是异构的，如果没有统一的标准，则各个异构系统对外提供的接口是各式各样的。SOA使用ESB来屏蔽异构系统对外提供各种不同的接口方式，以此来达到服务间高效的互联互通。</p><ol start=\"3\">\n<li>松耦合</li>\n</ol><p>松耦合的目的是减少各个服务间的依赖和互相影响。因为采用SOA架构后，各个服务是相互独立运行的，甚至都不清楚某个服务到底有多少对其他服务的依赖。如果做不到松耦合，某个服务一升级，依赖它的其他服务全部故障，这样肯定是无法满足业务需求的。</p><p>但实际上真正做到松耦合并没有那么容易，要做到完全后向兼容，是一项复杂的任务。</p><p>典型的SOA架构样例如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/40/40/40f125000a4f9fda00d612a2b3171740.jpg?wh=2961*2242\" alt=\"\"></p><p>SOA架构是比较高层级的架构设计理念，一般情况下我们可以说某个企业采用了SOA的架构来构建IT系统，但不会说某个独立的系统采用了SOA架构。例如，某企业采用SOA架构，将系统分为“人力资源管理服务”“考勤服务”“财务服务”，但人力资源管理服务本身通常不会再按照SOA的架构拆分更多服务，也不会再使用独立的一套ESB，因为这些系统本身可能就是采购的，ESB本身也是采购的，如果人力资源系统本身重构为多个子服务，再部署独立的ESB系统，成本很高，也没有什么收益。</p><p>SOA解决了传统IT系统重复建设和扩展效率低的问题，但其本身也引入了更多的复杂性。SOA最广为人诟病的就是ESB，ESB需要实现与各种系统间的协议转换、数据转换、透明的动态路由等功能。例如，下图中ESB将JSON转换为Java（摘自《Microservices vs. Service-Oriented Architecture》）。</p><p><img src=\"https://static001.geekbang.org/resource/image/fa/84/fa9e178249d261b1e29850f3c9dc2684.jpg?wh=3368*1583\" alt=\"\"></p><p>下图中ESB将REST协议转换为RMI和AMQP两个不同的协议：</p><p><img src=\"https://static001.geekbang.org/resource/image/b0/c8/b04b7a89e8e859d84c70e55aa05372c8.jpg?wh=3332*1435\" alt=\"\"></p><p>ESB虽然功能强大，但现实中的协议有很多种，如JMS、WS、HTTP、RPC等，数据格式也有很多种，如XML、JSON、二进制、HTML等。ESB要完成这么多协议和数据格式的互相转换，工作量和复杂度都很大，而且这种转换是需要耗费大量计算性能的，当ESB承载的消息太多时，ESB本身会成为整个系统的性能瓶颈。</p><p>当然，SOA的ESB设计也是无奈之举。回想一下SOA的提出背景就可以发现，企业在应用SOA时，各种异构的IT系统都已经存在很多年了，完全重写或者按照统一标准进行改造的成本是非常大的，只能通过ESB方式去适配已经存在的各种异构系统。</p><h2>小结</h2><p>今天我为你讲了传统的可扩展架构模式，包括分层架构和SOA架构，希望对你有所帮助。</p><p>这就是今天的全部内容，留一道思考题给你吧，为什么互联网企业很少采用SOA架构？</p><p>欢迎你把答案写到留言区，和我一起讨论。相信经过深度思考的回答，也会让你对知识的理解更加深刻。（编辑乱入：精彩的留言有机会获得丰厚福利哦！）</p>","neighbors":{"left":{"article_title":"32 | 可扩展架构的基本思想和模式","id":10688},"right":{"article_title":"34 | 深入理解微服务架构：银弹 or 焦油坑？","id":10944}},"comments":[{"had_liked":false,"id":16472,"user_name":"Lee","can_delete":false,"product_type":"c1","uid":1054154,"ip_address":"","ucode":"E9385622CA7ACB","user_header":"https://static001.geekbang.org/account/avatar/00/10/15/ca/bf3fb655.jpg","comment_is_top":false,"comment_ctime":1531969301,"is_pvip":false,"replies":[{"id":"5769","content":"言简意赅👍","user_name":"作者回复","comment_id":16472,"uid":"1098920","ip_address":"","utype":1,"ctime":1532068774,"user_name_real":"华仔"}],"discussion_count":2,"race_medal":0,"score":"882000264981","product_id":100006601,"comment_content":"SOA是把多个系统整合，而微服务是把单个系统拆开来，方向正好相反","like_count":205,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420811,"discussion_content":"言简意赅👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1532068774,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1336475,"avatar":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","nickname":"J.Smile","note":"","ucode":"C4D98DFDBF7584","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334981,"discussion_content":"一语道破天机","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608041991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":16326,"user_name":"辉辉","can_delete":false,"product_type":"c1","uid":1010209,"ip_address":"","ucode":"BB83A45BB55B1B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6a/21/fe356d0b.jpg","comment_is_top":false,"comment_ctime":1531882554,"is_pvip":false,"replies":[{"id":"5773","content":"赞同👍","user_name":"作者回复","comment_id":16326,"uid":"1098920","ip_address":"","utype":1,"ctime":1532069596,"user_name_real":"华仔"}],"discussion_count":1,"race_medal":0,"score":"319359462458","product_id":100006601,"comment_content":"soa是集成的思想，是解决服务孤岛打通链条，是无奈之举。esb集中化的管理带来了性能不佳，厚重等问题。也无法快速扩展。不适合互联网的业务特点","like_count":74,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420757,"discussion_content":"赞同👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1532069596,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15689,"user_name":"铃兰Neko","can_delete":false,"product_type":"c1","uid":1092845,"ip_address":"","ucode":"C6CECC62D73F1B","user_header":"https://static001.geekbang.org/account/avatar/00/10/ac/ed/d868396d.jpg","comment_is_top":false,"comment_ctime":1531390057,"is_pvip":false,"replies":[{"id":"5435","content":"分析的很好，微服务和SOA的关系后面会讲","user_name":"作者回复","comment_id":15689,"uid":"1098920","ip_address":"","utype":1,"ctime":1531449046,"user_name_real":"华仔"}],"discussion_count":2,"race_medal":0,"score":"190509951081","product_id":100006601,"comment_content":"尝试说下个人浅见:<br>为什么互联网不用SOA?<br>1. 互联网企业, 通常比较年轻, 没有那么多异构系统, 技术是公司的关键;<br>如果有整合或者服务化的需求, 公司有人也有钱专门搞这个; 拆到重做&#47;重构 很平常;<br>相反的, 传统企业, 举个例子: <br>某传统炼钢国企 : 有多个遗留.net系统,有几个实习生做的java系统, 有基于数据库procedure的系统;<br>有各种已经倒闭了的第三方企业的系统 等等;<br>企业领导不会有精力和想法全部推倒重来, 只会花钱请第三方 , 成本越低越好; <br>这个时候就需要ESB这种总线<br>2. 传统企业IT追求的是&quot;需求灵活,变更快&quot;, 而互联网企业追求性能, 传统soa 性能不佳<br>传统的esb ,说实话, 使用webservice 以及soap这种基于xml的技术;<br>wsdl 这东西是真的难用, 难学难用难维护 ; 结构冗杂;<br>3. soa 这个东西很多时候只是一个概念, 而不是实践<br>个人觉得, 现在的微服务 , 更像是 soa 思想的一个落地 (相比esb)\t","like_count":44,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420520,"discussion_content":"分析的很好，微服务和SOA的关系后面会讲","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531449046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1034752,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ca/00/b934bacf.jpg","nickname":"逆光飞翔","note":"","ucode":"2E32CB714490EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":360624,"discussion_content":"“现在的微服务 , 更像是 soa 思想的一个落地”赞同，soa其实也是对系统做面向服务的拆解，只不过人们更多的把esb等同于soa来做探讨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616491568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15658,"user_name":"赤脚小子","can_delete":false,"product_type":"c1","uid":1069213,"ip_address":"","ucode":"9F55F0E707F9A7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIvMlvSXsYgJibIyDO78gPacZR1qukEOJrpfHAJmyGVtWPO3XMqVA9dImHhGJm2icp6lDuBw1GrNDbA/132","comment_is_top":false,"comment_ctime":1531361209,"is_pvip":false,"replies":[{"id":"5429","content":"关于soa和微服务的关系，我会特别讲述","user_name":"作者回复","comment_id":15658,"uid":"1098920","ip_address":"","utype":1,"ctime":1531448891,"user_name_real":"华仔"}],"discussion_count":1,"race_medal":0,"score":"65955870649","product_id":100006601,"comment_content":"回答问题:文中也说了，soa是特定历史条件下的产物，为了适配各种异构的it系统，而有如此多系统的自然是变化减少且稳定的传统企业。互联网企业的特点就是小，新，快。没有历史包袱，变化快，大部分是从单体演进到分布式，技术栈一脉相承或者在分布式之前已经从php,ruby等改造到java等了。而到了分布式之后，面对不断的耦合，系统复杂度的陡增，这时一个soa的特例微服务出现了。<br>实际上soa的思想还在，只不过实现的方式不一样了。","like_count":15,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420503,"discussion_content":"关于soa和微服务的关系，我会特别讲述","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531448891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":144536,"user_name":"xxx","can_delete":false,"product_type":"c1","uid":1096652,"ip_address":"","ucode":"E79CEA70430449","user_header":"https://static001.geekbang.org/account/avatar/00/10/bb/cc/fac12364.jpg","comment_is_top":false,"comment_ctime":1571966865,"is_pvip":true,"replies":[{"id":"55764","content":"是的，所以SOA不适合创新型的互联网企业，比较适合传统大企业","user_name":"作者回复","comment_id":144536,"uid":"1098920","ip_address":"","utype":1,"ctime":1571997337,"user_name_real":"华仔"}],"discussion_count":1,"race_medal":0,"score":"57406541713","product_id":100006601,"comment_content":"一直不明白SOA和微服务的具体区别，知道作者讲到了ESB 的功能，原来就是适配各种协议，顿时明白了!SOA是为了适配老系统。","like_count":13,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471996,"discussion_content":"是的，所以SOA不适合创新型的互联网企业，比较适合传统大企业","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571997337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":23540,"user_name":"孙振超","can_delete":false,"product_type":"c1","uid":1101755,"ip_address":"","ucode":"0F9EABC6125350","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/bb/22af0e52.jpg","comment_is_top":false,"comment_ctime":1536472240,"is_pvip":false,"replies":[{"id":"8555","content":"赞同👍","user_name":"作者回复","comment_id":23540,"uid":"1098920","ip_address":"","utype":1,"ctime":1536535923,"user_name_real":"华仔"}],"discussion_count":1,"race_medal":0,"score":"44486145200","product_id":100006601,"comment_content":"在传统企业从原先的手工作业转为采用IT系统作业的过程中，大多是采用向外采购的方式逐步实现的，在这个过程中不同部门采购系统的实现语言、通信协议并不完全相同，但为提升运行效率又要能够做到企业内部信息互通、相互协作，这是soa诞生的背景。<br>而互联网企业是新创的企业，没有这么多的历史包袱，同时出于快速迭代的要求，有时会自建所需的系统，即使是对外采购，也会选择和已有系统对接方便的系统，从根本上避免了相关问题，因而soa在互联网公司中使用不多。","like_count":10,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423606,"discussion_content":"赞同👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1536535923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":20901,"user_name":"hello","can_delete":false,"product_type":"c1","uid":1102652,"ip_address":"","ucode":"E04A474CAF6D26","user_header":"https://static001.geekbang.org/account/avatar/00/10/d3/3c/ab6425f7.jpg","comment_is_top":false,"comment_ctime":1534812183,"is_pvip":false,"replies":[{"id":"7359","content":"分析到位👍","user_name":"作者回复","comment_id":20901,"uid":"1098920","ip_address":"","utype":1,"ctime":1534823407,"user_name_real":"华仔"}],"discussion_count":1,"race_medal":0,"score":"44484485143","product_id":100006601,"comment_content":"soa解决的是资源的重复利用，它的拆分粒度比较大，比如财务系统跟oa系统的员工模块。1.互联网企业有几种情况，1.初创公司，这种公司一般会有试错的过程，需要技术快速实现业务落地，这种情况下使用SOA不适合快速敏捷迭代开发。2.对于成熟的互联网业务来说，需要解决的是是高并发，高性能和高存储等一系列问题，对于这类企业来说，使用SOA拆分不能解决太多问题，还得做更加细粒度的拆分。","like_count":10,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422446,"discussion_content":"分析到位👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1534823407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91339,"user_name":"7侠","can_delete":false,"product_type":"c1","uid":1203998,"ip_address":"","ucode":"D75FCA6DF0D497","user_header":"https://static001.geekbang.org/account/avatar/00/12/5f/1e/18ef8e84.jpg","comment_is_top":false,"comment_ctime":1556984977,"is_pvip":false,"replies":[{"id":"33302","content":"确实也有人将SOA理解为一个思想，微服务理解为SOA的具体实现","user_name":"作者回复","comment_id":91339,"uid":"1098920","ip_address":"","utype":1,"ctime":1557459037,"user_name_real":"华仔"}],"discussion_count":1,"race_medal":0,"score":"31621756049","product_id":100006601,"comment_content":"    SOA更像一种架构理念，不够具体。在传统企业的IT系统中落地为ESB，主要是为了集成异构系统。因为传统企业特别是大型企业的历史长，在其发展过程中自己开发或采购了不少异构系统。<br>    而互联网企业历史都短(腾讯98年，阿里99年，百度2000年)，很少有遗留异构系统(像阿里的系统绝大部分应该都是Java开发的吧？)。像阿里这种互联网大型企业的痛点是随着业务越来越多，整个系统成了个巨无霸(可能是数以千记的模块数)，模块之间的调用像蜘蛛网，极大降低了开发、测试、部署、运维的效率，所以把庞大的业务逻辑层又切分成了业务更独立的应用层和公共功能模块组成服务层。接下来一是要提供应用层与服务层之间、服务层内部服务之间的高效通信机制，二是要对大量的服务进行治理，于是分布式服务框架出现了(阿里就出了Dubbo和HSF两个服务框架？)。感觉在大型互联网企业，SOA实际是落地为分布式服务框架，它更像是微服务架构的一个雏形，服务框架提供的功能实际也是微服务架构里必不可少的功能。","like_count":7,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448892,"discussion_content":"确实也有人将SOA理解为一个思想，微服务理解为SOA的具体实现","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557459037,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":16341,"user_name":"yason li","can_delete":false,"product_type":"c1","uid":1050986,"ip_address":"","ucode":"C1465F8E12564E","user_header":"","comment_is_top":false,"comment_ctime":1531888911,"is_pvip":false,"replies":[{"id":"5772","content":"这也是一种理解方式吧，微服务基础设施做完，确实感觉是做了一个ESB","user_name":"作者回复","comment_id":16341,"uid":"1098920","ip_address":"","utype":1,"ctime":1532069580,"user_name_real":"华仔"}],"discussion_count":1,"race_medal":0,"score":"18711758095","product_id":100006601,"comment_content":"其实，个人理解的传统SOA和ESB在互联网企业之所以不怎么使用主要原因就是中心化的ESB架构会逐渐成为性能、可用性、可扩展性的瓶颈。但是SOA的思想本身是没有什么问题的。互联网企业中用的微服务甚至最近很火的Service Mesh都可以看成是SOA、ESB的变形。比如Service Mesh也可以看成是一个去中心化的ESB。","like_count":4,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420764,"discussion_content":"这也是一种理解方式吧，微服务基础设施做完，确实感觉是做了一个ESB","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1532069580,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15662,"user_name":"欧星星","can_delete":false,"product_type":"c1","uid":1014347,"ip_address":"","ucode":"56365442E231A0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7a/4b/1a7b36ab.jpg","comment_is_top":false,"comment_ctime":1531363210,"is_pvip":false,"replies":[{"id":"5430","content":"言简意赅😄","user_name":"作者回复","comment_id":15662,"uid":"1098920","ip_address":"","utype":1,"ctime":1531448904,"user_name_real":"华仔"}],"discussion_count":1,"race_medal":0,"score":"18711232394","product_id":100006601,"comment_content":"1.没有历史包袱<br>2.SOA架构太重，ESB容易成瓶颈<br>","like_count":4,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420505,"discussion_content":"言简意赅😄","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531448904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103368,"user_name":"tim","can_delete":false,"product_type":"c1","uid":1260421,"ip_address":"","ucode":"0F396511307D13","user_header":"https://static001.geekbang.org/account/avatar/00/13/3b/85/df328870.jpg","comment_is_top":false,"comment_ctime":1560421305,"is_pvip":false,"replies":[{"id":"37716","content":"看SOA和微服务的对比","user_name":"作者回复","comment_id":103368,"uid":"1098920","ip_address":"","utype":1,"ctime":1560684083,"user_name_real":"华仔"}],"discussion_count":1,"race_medal":0,"score":"14445323193","product_id":100006601,"comment_content":"soa是不是可以分成两部分：<br>1.服务化的思想，这个就是SOA 。<br>2.带有ESB 的实践，这个是针对当时问题的一种解决方案。<br><br>如果是这样其实微服务就是SOA的另一种实践。互联网公司其实是用了SOA的，不过esb和服务划分粒度已经不适合他们的场景了。<br><br>先接触了分布式和微服务，对SOA不是很了解，感觉都是分而治之的思想，粒度渐细，自动运维什么的附属产物","like_count":3,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453845,"discussion_content":"看SOA和微服务的对比","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560684083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":19605,"user_name":"何磊","can_delete":false,"product_type":"c1","uid":1047604,"ip_address":"","ucode":"78934C3ED4A342","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fc/34/c733b116.jpg","comment_is_top":false,"comment_ctime":1533902252,"is_pvip":false,"replies":[{"id":"6828","content":"当然可以互相调用，特别是业务逻辑，如果说同层不能互相调用，这代码没法写","user_name":"作者回复","comment_id":19605,"uid":"1098920","ip_address":"","utype":1,"ctime":1533946061,"user_name_real":"华仔"}],"discussion_count":1,"race_medal":0,"score":"14418804140","product_id":100006601,"comment_content":"soa主要是为了解决历史遗留问题，引入的esb。而互联网企业都年轻，没有历史包袱，另外互联网企业大部分都需要高性能，而esb可能成为瓶颈。<br>最后想咨询老师一个问题：在分层结构中。同层能不能互相调用？比如：下单时，需要用户信息，此时应该调用同层用户模块来完成，还是如何处理呢？","like_count":3,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":421914,"discussion_content":"当然可以互相调用，特别是业务逻辑，如果说同层不能互相调用，这代码没法写","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1533946061,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15656,"user_name":"gen_jin","can_delete":false,"product_type":"c1","uid":1118102,"ip_address":"","ucode":"E282DB98815F13","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/wBibtTTkiaGtcJ3qBeG4BnB4MmaurYf8hZTrXiczmvLHlRrqxJicRaoQPAZ0vw9HHd7yxDH27TLCzBQqqOqyGukw1g/132","comment_is_top":false,"comment_ctime":1531360505,"is_pvip":false,"replies":[{"id":"5428","content":"有的人说是互联网企业钱少，买不起ESB","user_name":"作者回复","comment_id":15656,"uid":"1098920","ip_address":"","utype":1,"ctime":1531448855,"user_name_real":"华仔"}],"discussion_count":1,"race_medal":0,"score":"14416262393","product_id":100006601,"comment_content":"我觉得有三点～互联网企业1.没有老系统包袱，2.钱多 3.需求变化快 2c性能及并发量要求高，三高(高性能 可用 扩展)，传统soa(esb)无法满足。","like_count":3,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420502,"discussion_content":"有的人说是互联网企业钱少，买不起ESB","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531448855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15650,"user_name":"小橙橙","can_delete":false,"product_type":"c1","uid":1054923,"ip_address":"","ucode":"4F467210A15F66","user_header":"https://static001.geekbang.org/account/avatar/00/10/18/cb/edb5a0a0.jpg","comment_is_top":false,"comment_ctime":1531359347,"is_pvip":false,"replies":[{"id":"5425","content":"微服务章节我会讲","user_name":"作者回复","comment_id":15650,"uid":"1098920","ip_address":"","utype":1,"ctime":1531448744,"user_name_real":"华仔"}],"discussion_count":1,"race_medal":0,"score":"14416261235","product_id":100006601,"comment_content":"老师，有个疑问并不是很理解，互联网企业多数是采用微服务架构，那微服务不属于面向服务SOA架构的范畴吗？","like_count":3,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420497,"discussion_content":"微服务章节我会讲","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531448744,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15641,"user_name":"cqc","can_delete":false,"product_type":"c1","uid":1099493,"ip_address":"","ucode":"18053C9C62805F","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/e5/7e86498f.jpg","comment_is_top":false,"comment_ctime":1531358005,"is_pvip":false,"replies":[{"id":"5423","content":"其实大部分互联网公司开始的时候业务量真不大😄","user_name":"作者回复","comment_id":15641,"uid":"1098920","ip_address":"","utype":1,"ctime":1531448678,"user_name_real":"华仔"}],"discussion_count":1,"race_medal":0,"score":"10121292597","product_id":100006601,"comment_content":"我觉得主要有以下几个原因：<br>1.互联网公司大多比较年轻，没有已有系统的历史包袱，所以不用考虑各种兼容的问题；<br>2.互联网公司大多业务量都比较大，对于性能要求比较高，所以不会优先考虑SOA","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420490,"discussion_content":"其实大部分互联网公司开始的时候业务量真不大😄","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531448678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15630,"user_name":"oddrock","can_delete":false,"product_type":"c1","uid":1037506,"ip_address":"","ucode":"55BADA192250B0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d4/c2/910d231e.jpg","comment_is_top":false,"comment_ctime":1531356000,"is_pvip":true,"replies":[{"id":"5421","content":"一个字：穷，四个字：技术牛逼😄😄","user_name":"作者回复","comment_id":15630,"uid":"1098920","ip_address":"","utype":1,"ctime":1531448613,"user_name_real":"华仔"}],"discussion_count":1,"race_medal":0,"score":"10121290592","product_id":100006601,"comment_content":"一、互联网企业的it系统大多数都是自己的it部门开发的，不存在太多异构问题，可以有较好的内部服务规范，因此不需要soa和esb去做异构系统的屏蔽和互通<br>二、esb的总线型架构会导致一定程度上的性能问题，因此互联网企业一般采用分布式服务架构<br>三、esb实质是用空间和时间换取it系统架构的有序性，esb本身有采购或研发费用，esb部署也要服务器，这些成本对互联网企业都是不必要的","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420484,"discussion_content":"一个字：穷，四个字：技术牛逼😄😄","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531448613,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15618,"user_name":"narry","can_delete":false,"product_type":"c1","uid":1033576,"ip_address":"","ucode":"B8010C1DE39D08","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c5/68/7afb7304.jpg","comment_is_top":false,"comment_ctime":1531353978,"is_pvip":false,"replies":[{"id":"5417","content":"赞同","user_name":"作者回复","comment_id":15618,"uid":"1098920","ip_address":"","utype":1,"ctime":1531448451,"user_name_real":"华仔"}],"discussion_count":1,"race_medal":0,"score":"10121288570","product_id":100006601,"comment_content":"互联网行业很少采用soa，感觉有两点原因:1）soa主要是解决异构系统之间的集成，传统企业有大量的异构系统，而互联网属于新兴行业，不存在大量的异构系统需要集成，2）esb存在性能的瓶颈和不易扩展的问题，无法应对互联网这种业务会快速增长场景","like_count":2,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420477,"discussion_content":"赞同","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531448451,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":160945,"user_name":"悟空","can_delete":false,"product_type":"c1","uid":1019739,"ip_address":"","ucode":"69C990105DEF47","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8f/5b/2f16ca95.jpg","comment_is_top":false,"comment_ctime":1576066615,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5871033911","product_id":100006601,"comment_content":"13年刚开始学习ESB的时候一知半解，还是要多做总结。","like_count":1},{"had_liked":false,"id":93464,"user_name":"梁中华","can_delete":false,"product_type":"c1","uid":1006789,"ip_address":"","ucode":"52FE40242CBAD0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/c5/1231d633.jpg","comment_is_top":false,"comment_ctime":1557475542,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"5852442838","product_id":100006601,"comment_content":"05,06年服务化刚开始流行的时候，我就找了很多SOA的书，很多书上都讲到ESB，我记得当时还有个叫mule的很流行的总线，当时就觉得有点奇怪，这个东东明显很重，有点鸡肋，不要这个东西，也完全跑的很好。原来是个历史的产物。","like_count":1},{"had_liked":false,"id":67717,"user_name":"雨幕下的稻田","can_delete":false,"product_type":"c1","uid":1388799,"ip_address":"","ucode":"1FBFF3187AE9C4","user_header":"https://static001.geekbang.org/account/avatar/00/15/30/ff/b3e54147.jpg","comment_is_top":false,"comment_ctime":1550229975,"is_pvip":false,"replies":[{"id":"25384","content":"按照MVC开发规范的系统就是MVC架构，这个是逻辑上的架构","user_name":"作者回复","comment_id":67717,"uid":"1098920","ip_address":"","utype":1,"ctime":1551227865,"user_name_real":"华仔"}],"discussion_count":1,"race_medal":0,"score":"5845197271","product_id":100006601,"comment_content":"第一章说MVC是开发规范，本章节说MVC是分层架构，不太明白，这两MVC说的不是一个东西吗，还是出发点不同","like_count":1,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439340,"discussion_content":"按照MVC开发规范的系统就是MVC架构，这个是逻辑上的架构","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551227865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":30722,"user_name":"华烬","can_delete":false,"product_type":"c1","uid":1008444,"ip_address":"","ucode":"D36AE0FBEF665A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/3c/b4cfbce9.jpg","comment_is_top":false,"comment_ctime":1538982815,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5833950111","product_id":100006601,"comment_content":"请教一下，像dubbo这种，可以做到服务注册，服务发现，统一协议，服务之间都是各自调用，这种算不算soa？","like_count":1},{"had_liked":false,"id":359745,"user_name":"北极的大企鹅","can_delete":false,"product_type":"c1","uid":1045577,"ip_address":"广东","ucode":"8935346D08E109","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f4/49/2add4f6b.jpg","comment_is_top":false,"comment_ctime":1665831045,"is_pvip":false,"replies":[{"id":"130967","content":"链接无效问题不大，链接的内容就是上面的那段话出处，原始链接已经删除","user_name":"作者回复","user_name_real":"作者","uid":"1098920","ctime":1666216764,"ip_address":"广东","comment_id":359745,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1665831045","product_id":100006601,"comment_content":"https:&#47;&#47;www.safaribooksonline.com&#47;library&#47;view&#47;soa-in-practice&#47;9780596529550&#47;ch01s04.html）无效了","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590989,"discussion_content":"链接无效问题不大，链接的内容就是上面的那段话出处，原始链接已经删除","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666216764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353438,"user_name":"呆","can_delete":false,"product_type":"c1","uid":1090280,"ip_address":"江苏","ucode":"CA635189EA2764","user_header":"https://static001.geekbang.org/account/avatar/00/10/a2/e8/dc2b0884.jpg","comment_is_top":false,"comment_ctime":1659438844,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1659438844","product_id":100006601,"comment_content":"SOA厚重，用于将各个系统拼接起来，与互联网的快速迭代理念冲突","like_count":0},{"had_liked":false,"id":336384,"user_name":"Rainbow福才","can_delete":false,"product_type":"c1","uid":1033440,"ip_address":"","ucode":"DA5843516F4930","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c4/e0/eb9f6b80.jpg","comment_is_top":false,"comment_ctime":1646123464,"is_pvip":false,"replies":[{"id":"123186","content":"正解","user_name":"作者回复","user_name_real":"编辑","uid":"1098920","ctime":1646642160,"ip_address":"","comment_id":336384,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1646123464","product_id":100006601,"comment_content":"SOA架构用来整合传统企业已有子系统，微服务架构用来拆分负责业务系统。","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554851,"discussion_content":"正解","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646642160,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333271,"user_name":"沐雪","can_delete":false,"product_type":"c1","uid":1028301,"ip_address":"","ucode":"0C42BF0D75FD9B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b0/cd/c54572fe.jpg","comment_is_top":false,"comment_ctime":1644242149,"is_pvip":true,"replies":[{"id":"121853","content":"正解","user_name":"作者回复","user_name_real":"编辑","uid":"1098920","ctime":1644373145,"ip_address":"","comment_id":333271,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1644242149","product_id":100006601,"comment_content":"原因有3：<br>1、SOA出现的背景是 各种异构系统的不同协议之间的融合；而互联网行业根据就没有这个需求。<br>2、SOA服务的粒度不好控制，但是肯定是微服务粗。<br>3、SOA实现比较复杂，比较重。<br>","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550061,"discussion_content":"正解","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644373146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325647,"user_name":"DDL007","can_delete":false,"product_type":"c1","uid":1441576,"ip_address":"","ucode":"385870514758C7","user_header":"https://static001.geekbang.org/account/avatar/00/15/ff/28/76d736e3.jpg","comment_is_top":false,"comment_ctime":1639058772,"is_pvip":false,"replies":[{"id":"118210","content":"ESB也不是将就，而是2B环境造成的，传统企业没有自己实力强大的研发团队，事实上他们也不需要自己养一个强大的研发团队，而是将系统开发工作外包，外包就会涉及不同的团队不同的技术栈，因此ESB才有用武之地。","user_name":"作者回复","user_name_real":"编辑","uid":"1098920","ctime":1639273132,"ip_address":"","comment_id":325647,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1639058772","product_id":100006601,"comment_content":"企业经营本质上是业务运营。在技术对业务的贡献度上，传统企业的认识远没有互联网企业认识深刻，即便有认识，投入上也远远不够。互联网企业则是既有认识，又愿意投入。所以，EBS对传统企业是在将就，互联网企业则是想办法彻底解决，后者显然是不将就的，也就不会引入EBS。","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537931,"discussion_content":"ESB也不是将就，而是2B环境造成的，传统企业没有自己实力强大的研发团队，事实上他们也不需要自己养一个强大的研发团队，而是将系统开发工作外包，外包就会涉及不同的团队不同的技术栈，因此ESB才有用武之地。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639273132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316851,"user_name":"小超人","can_delete":false,"product_type":"c1","uid":1411096,"ip_address":"","ucode":"0D8A433F3E3737","user_header":"https://static001.geekbang.org/account/avatar/00/15/88/18/9744d5ec.jpg","comment_is_top":false,"comment_ctime":1634568750,"is_pvip":false,"replies":[{"id":"114741","content":"是的，所以不是SOA不好，每个技术都有适应场景","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1634607561,"ip_address":"","comment_id":316851,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634568750","product_id":100006601,"comment_content":"互联网企业没有传统企业这么多的历史包袱， SOA 主要是解决现有的多个系统的协调问题<br>","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528538,"discussion_content":"是的，所以不是SOA不好，每个技术都有适应场景","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634607561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313146,"user_name":"Drake敏","can_delete":false,"product_type":"c1","uid":2734734,"ip_address":"","ucode":"38366767EFDC90","user_header":"https://static001.geekbang.org/account/avatar/00/29/ba/8e/4645afae.jpg","comment_is_top":false,"comment_ctime":1632296860,"is_pvip":false,"replies":[{"id":"113439","content":"本质就是服务的粒度不同","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1632312119,"ip_address":"","comment_id":313146,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632296860","product_id":100006601,"comment_content":"SOA更像是一套完整的系统，如果一出问题就会服务全挂。微服务的话就算注册挂了登陆服务还是ok的","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527249,"discussion_content":"本质就是服务的粒度不同","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632312119,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303039,"user_name":"ZHANGPING","can_delete":false,"product_type":"c1","uid":1918112,"ip_address":"","ucode":"7108812981C996","user_header":"https://static001.geekbang.org/account/avatar/00/1d/44/a0/16d0d300.jpg","comment_is_top":false,"comment_ctime":1626535036,"is_pvip":false,"replies":[{"id":"109720","content":"非常正确","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1626654898,"ip_address":"","comment_id":303039,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1626535036","product_id":100006601,"comment_content":"互联网本身就是技术和业务对半的性质，有技术问题，就解决即使问题。而传统行业：IT只是一个解决问题的工具，并不擅长技术。","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523526,"discussion_content":"非常正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626654898,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":302830,"user_name":"Geek_626167","can_delete":false,"product_type":"c1","uid":2223686,"ip_address":"","ucode":"FA604C718E67BF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/0lTiaKqiba7pqubScfQVtkuphwxD529icZMOgRjO5icxhF79mvs2JMp0XIOMGy24bkh79icCNPDDOeicKWuqMmMz0vfQ/132","comment_is_top":false,"comment_ctime":1626401020,"is_pvip":false,"replies":[{"id":"109602","content":"不是这么简单的，后面的文章会告诉你，微服务的基础设施现在已经比ESB还复杂了","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1626431802,"ip_address":"","comment_id":302830,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1626401020","product_id":100006601,"comment_content":"首先各个服务之间可能会有很多共同的功能模块，如果按服务划分，可能存在重复开发的问题；其次，ESB层建设耗费大量资源但收益是很低的。<br>互联网服务往往单个服务是瓶颈，适合逐个优化扩展，如果建设ESB这种集中层，反而会拖垮整个系统，如果基于服务做拆分更适合用微服务架构。","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523447,"discussion_content":"不是这么简单的，后面的文章会告诉你，微服务的基础设施现在已经比ESB还复杂了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626431802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295762,"user_name":"蓝诚","can_delete":false,"product_type":"c1","uid":1105802,"ip_address":"","ucode":"766F0219B69FBD","user_header":"https://static001.geekbang.org/account/avatar/00/10/df/8a/ae1f6814.jpg","comment_is_top":false,"comment_ctime":1622594143,"is_pvip":false,"replies":[{"id":"107399","content":"一针见血 ：）","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1622626377,"ip_address":"","comment_id":295762,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1622594143","product_id":100006601,"comment_content":"SOA是整合已有系统服务，微服务是拆分或重构复杂系统服务","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521207,"discussion_content":"一针见血 ：）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622626377,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":288834,"user_name":"prader26","can_delete":false,"product_type":"c1","uid":1433707,"ip_address":"","ucode":"5EFFFC374ADECE","user_header":"https://static001.geekbang.org/account/avatar/00/15/e0/6b/f61d7466.jpg","comment_is_top":false,"comment_ctime":1618722935,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618722935","product_id":100006601,"comment_content":"今天我来介绍传统的可扩展模式，包括分层架构和 SOA。<br>1 C&#47;S 架构、B&#47;S 架构<br>2 MVC 架构、MVP 架构<br>3 逻辑分层架构<br>SOA 提出了 3 个关键概念。1 服务 2 ESB  3 松耦合","like_count":0},{"had_liked":false,"id":284242,"user_name":"TorresTu","can_delete":false,"product_type":"c1","uid":2434893,"ip_address":"","ucode":"5D2E073FB7E17C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/ULxT1HibdHSbUoribJSX343fcU1talIV9dichqGvS1q746zgicXjFdJ7w3m8k8S8qfMXGiaKpYHCnyIVU3mZyjUtndQ/132","comment_is_top":false,"comment_ctime":1616134436,"is_pvip":false,"replies":[{"id":"103126","content":"我在微服务章节解释了SOA和微服务，本质都是服务拆分，但具体的实现方式不同。我理解你说的的“也是一种SOA”其实就是指“服务拆分”这部分","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1616203139,"ip_address":"","comment_id":284242,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1616134436","product_id":100006601,"comment_content":"互联网的特点就是海量，传统的SOA使用的ESB会成为瓶颈，所以才会有中台这样的理念，虽然互联网不承认自己是SOA，但我认为其实也是一种SOA，只是实现的方式更贴近互联网思维，不是传统的SOA","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517281,"discussion_content":"我在微服务章节解释了SOA和微服务，本质都是服务拆分，但具体的实现方式不同。我理解你说的的“也是一种SOA”其实就是指“服务拆分”这部分","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616203139,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":279425,"user_name":"袁军","can_delete":false,"product_type":"c1","uid":2411102,"ip_address":"","ucode":"201E088AE4D271","user_header":"","comment_is_top":false,"comment_ctime":1613784346,"is_pvip":false,"replies":[{"id":"101538","content":"SOA主要是ESB太重了，为了兼容各种异构系统不得以为之。","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1613813186,"ip_address":"","comment_id":279425,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1613784346","product_id":100006601,"comment_content":"说到底各种架构模式的产生最终是为了提高程序员的生产力，能满足业务需要，易学易用的就会更流行。SOA主要是规范与理论过于严谨和复杂，正所谓物极必反，才有微服务的出现。","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515735,"discussion_content":"SOA主要是ESB太重了，为了兼容各种异构系统不得以为之。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613813186,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":270869,"user_name":"小神david","can_delete":false,"product_type":"c1","uid":1206959,"ip_address":"","ucode":"F593F5ECEC58BA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epmAicDUiaUdtLhVwSs6fT0yx69ibWy6ia46ZD4vblGtyee8QFz71icKZJkzccAFG3zHnMngSz7WeGBtKw/132","comment_is_top":false,"comment_ctime":1609308256,"is_pvip":false,"replies":[{"id":"98335","content":"你的分析思路很不错，里面有个细节我纠正一下：传统企业的服务是“很复杂”而不是“没有那么复杂”，但是更新频率确实不高","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1609486547,"ip_address":"","comment_id":270869,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1609308256","product_id":100006601,"comment_content":"反过来想下，为什么传统企业更愿意采用 SOA 架构，理解下可能原因是：传统企业的系统确实大部分是独立的、分散的，整合到一起就需要服务化改造；而另一方面，传统企业的系统又没有那么复杂、更新频率也并不高，不会涉及到非常庞大的协议转换。回到互联网企业来看，互联网企业的系统发展比较快、更新迭代速率高，想要实现一套ESB并且不断更新实在太难了... 另一方面，互联网企业技术人员储备相对比较丰富，可以充分发挥在每个领域、每个系统中的服务化开发。总体感觉，尽管互联网企业没有大规模采用SOA架构，但是它的架构设计理念已经被采用和渗透，只是实现的方式更加“互联网”化。","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512773,"discussion_content":"你的分析思路很不错，里面有个细节我纠正一下：传统企业的服务是“很复杂”而不是“没有那么复杂”，但是更新频率确实不高","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609486547,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1206959,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epmAicDUiaUdtLhVwSs6fT0yx69ibWy6ia46ZD4vblGtyee8QFz71icKZJkzccAFG3zHnMngSz7WeGBtKw/132","nickname":"小神david","note":"","ucode":"F593F5ECEC58BA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339224,"discussion_content":"同样在下一节课程中也学习到啦～ 谢谢～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609569459,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":200052,"user_name":"Geek_7389a6","can_delete":false,"product_type":"c1","uid":1905516,"ip_address":"","ucode":"8A8ED1E0128F3F","user_header":"","comment_is_top":false,"comment_ctime":1585537156,"is_pvip":false,"replies":[{"id":"74859","content":"其实现在微服务全套搞下来，不见得比ESB简单了，ESB的核心问题是所有东西都在一套系统里面😃","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1585538797,"ip_address":"","comment_id":200052,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585537156","product_id":100006601,"comment_content":"ESB太重了，一般的互联网企业无福消受，性价比低","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489931,"discussion_content":"其实现在微服务全套搞下来，不见得比ESB简单了，ESB的核心问题是所有东西都在一套系统里面😃","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585538797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190184,"user_name":"Kevin","can_delete":false,"product_type":"c1","uid":1818854,"ip_address":"","ucode":"56BB1FEE80280D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIWUXnsTRNCnUXgRYZOY6sgN1x1hpxszzdkR2aUgAPw7FBkWb7Zw0BRYvXmfAodfaziaE2CGPWbkNw/132","comment_is_top":false,"comment_ctime":1584611331,"is_pvip":false,"replies":[{"id":"74896","content":"不对立，但关注点也不一样","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1585540878,"ip_address":"","comment_id":190184,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584611331","product_id":100006601,"comment_content":"分层和SOA放到一起讲，二者不对立吧？分层的思想我想在SOA的服务，甚至微服务的设计时也应该遵循的思想吧？","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487908,"discussion_content":"不对立，但关注点也不一样","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585540878,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186214,"user_name":"谭方敏","can_delete":false,"product_type":"c1","uid":1710960,"ip_address":"","ucode":"728DC7ECB7C902","user_header":"https://static001.geekbang.org/account/avatar/00/1a/1b/70/547042ee.jpg","comment_is_top":false,"comment_ctime":1583801418,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583801418","product_id":100006601,"comment_content":"分层架构，好处：结构清晰，坏处：浪费，不能快层调用。<br>soa架构，好处：减少重复，坏处：esb带来复杂度。<br>为什么不用soa？soa性价比不高，减少重复建设带来的收益率低于soa引入esb带入的复杂度，是鸡肋。","like_count":0},{"had_liked":false,"id":181082,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1582471473,"is_pvip":false,"replies":[{"id":"72877","content":"是的，不单是网关，是整个微服务基础组件都在里面","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1584427249,"ip_address":"","comment_id":181082,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1582471473","product_id":100006601,"comment_content":"感觉ESB就像一个集中式的网关一样…","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484911,"discussion_content":"是的，不单是网关，是整个微服务基础组件都在里面","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584427249,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129990,"user_name":"钱","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1567347795,"is_pvip":false,"replies":[{"id":"49159","content":"多看，或者实践后再来看","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1567597501,"ip_address":"","comment_id":129990,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567347795","product_id":100006601,"comment_content":"呵呵，感觉内容挺丰富，不过学完后我又不清楚自己究竟学习到了什么？可能需要休息，看的多了，用力过猛。<br>目前公司要求开发要实现组件化、服务化、可自由组合、可灵活插拔，有点晕，这是微服务化还是SOA？感觉它们是一体多面，是站在不同角度的描述？","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465751,"discussion_content":"多看，或者实践后再来看","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567597501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126567,"user_name":"公告-SRE运维实践","can_delete":false,"product_type":"c1","uid":1010344,"ip_address":"","ucode":"86F4E48AE1D9D8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6a/a8/ee414a25.jpg","comment_is_top":false,"comment_ctime":1566429319,"is_pvip":false,"replies":[{"id":"46931","content":"ESB太重","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1566522769,"ip_address":"","comment_id":126567,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1566429319","product_id":100006601,"comment_content":"我们的api网关用了esb来进行内部协议的转换，启动时间太长了","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464059,"discussion_content":"ESB太重","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566522769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":91779,"user_name":"gkb111","can_delete":false,"product_type":"c1","uid":1224217,"ip_address":"","ucode":"9B3154BCC9046B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLLUic3XzxET3L3QXxcTbeg96GMx1HkiaiaZdudchmOmtPnuEPHK5vYEeMkvJR098XljMbXDialYib3z6w/132","comment_is_top":false,"comment_ctime":1557106633,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557106633","product_id":100006601,"comment_content":"分层架构，两层cs三层，mvc，有逻辑分层，降低系统整体复杂性，相邻模块关联，<br>soa架构","like_count":0},{"had_liked":false,"id":81119,"user_name":"日光倾城","can_delete":false,"product_type":"c1","uid":1120345,"ip_address":"","ucode":"E4329963F660DC","user_header":"https://static001.geekbang.org/account/avatar/00/11/18/59/daeb0b6c.jpg","comment_is_top":false,"comment_ctime":1553819447,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553819447","product_id":100006601,"comment_content":"互联网企业比较新，没有什么历史包袱系统","like_count":0},{"had_liked":false,"id":36405,"user_name":"蓝焰","can_delete":false,"product_type":"c1","uid":1119897,"ip_address":"","ucode":"BC17C86F96B8EC","user_header":"https://static001.geekbang.org/account/avatar/00/11/16/99/74702fd9.jpg","comment_is_top":false,"comment_ctime":1541083943,"is_pvip":false,"replies":[{"id":"12970","content":"看来你需要复习第一篇 01|架构到底是什么😊","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1541127674,"ip_address":"","comment_id":36405,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1541083943","product_id":100006601,"comment_content":"mvc是框架还是架构？","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427852,"discussion_content":"看来你需要复习第一篇 01|架构到底是什么😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541127674,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":31507,"user_name":"包子","can_delete":false,"product_type":"c1","uid":1051996,"ip_address":"","ucode":"C82F8BDF4E3907","user_header":"https://static001.geekbang.org/account/avatar/00/10/0d/5c/ef42b1c1.jpg","comment_is_top":false,"comment_ctime":1539220775,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1539220775","product_id":100006601,"comment_content":"SOA的目的更多是整合现有系统，兼容。看了后面章节，主要从细粒度，传输协议，自动化，应用场景方面和微服务有较大的区别","like_count":0},{"had_liked":false,"id":21535,"user_name":"文竹","can_delete":false,"product_type":"c1","uid":1103167,"ip_address":"","ucode":"74413B1975976B","user_header":"https://static001.geekbang.org/account/avatar/00/10/d5/3f/80bf4841.jpg","comment_is_top":false,"comment_ctime":1535159356,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1535159356","product_id":100006601,"comment_content":"互联网企业业务的特点：变化快，用户量大，业务复杂。<br>传统企业业务的特点：几乎没有什么变化，用户基数小，一般使用的系统都存在一些年了，各个系统的开放接口差异大。<br><br>从性能上看，由于互联网用户量大，使用ESB容易出现性能瓶颈，让服务独立调用其他服务是一种很好的做法（去中心化）。","like_count":0},{"had_liked":false,"id":17313,"user_name":"吕韬","can_delete":false,"product_type":"c1","uid":1058658,"ip_address":"","ucode":"4914446A1AD677","user_header":"https://static001.geekbang.org/account/avatar/00/10/27/62/7c254dc3.jpg","comment_is_top":false,"comment_ctime":1532565382,"is_pvip":false,"replies":[{"id":"6006","content":"小团队坐在一起，都不用喊，确认过眼神就可以了😄😄","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1532577426,"ip_address":"","comment_id":17313,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1532565382","product_id":100006601,"comment_content":"小团队 0到1 喊一嗓子就完事了","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":421112,"discussion_content":"小团队坐在一起，都不用喊，确认过眼神就可以了😄😄","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1532577426,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":16440,"user_name":"吕韬","can_delete":false,"product_type":"c1","uid":1058658,"ip_address":"","ucode":"4914446A1AD677","user_header":"https://static001.geekbang.org/account/avatar/00/10/27/62/7c254dc3.jpg","comment_is_top":false,"comment_ctime":1531961481,"is_pvip":false,"replies":[{"id":"5695","content":"还有传输协议呢？统一为HTTP么？😀","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1531965497,"ip_address":"","comment_id":16440,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1531961481","product_id":100006601,"comment_content":"总监桌子一拍 统一json格式 esb就没有什么鸟用了","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420795,"discussion_content":"还有传输协议呢？统一为HTTP么？😀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531965497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":16169,"user_name":"鹏飞天下","can_delete":false,"product_type":"c1","uid":1101792,"ip_address":"","ucode":"EB9FFD9FE64A4C","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/e0/f6819d03.jpg","comment_is_top":false,"comment_ctime":1531810904,"is_pvip":false,"replies":[{"id":"5594","content":"dubbo不是ESB，dubbo是统一的协议，ESB需要兼容和适配很多协议。<br><br>soa主要不是为了拆分，而是将已经存在的异构系统整合起来","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1531816629,"ip_address":"","comment_id":16169,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1531810904","product_id":100006601,"comment_content":"我对soa一直是不太清楚，其中ESB是不是可以理解为我们用的dubbo，soa可不可以理解为把项目进行粗力度的拆分，通过dubbo或者http协议向外提供服务","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420695,"discussion_content":"dubbo不是ESB，dubbo是统一的协议，ESB需要兼容和适配很多协议。\n\nsoa主要不是为了拆分，而是将已经存在的异构系统整合起来","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531816629,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":16098,"user_name":"云学","can_delete":false,"product_type":"c1","uid":1027233,"ip_address":"","ucode":"366AE90BA06356","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ac/a1/43d83698.jpg","comment_is_top":false,"comment_ctime":1531787455,"is_pvip":false,"replies":[{"id":"5563","content":"用得少，都用微服务了","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1531791828,"ip_address":"","comment_id":16098,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1531787455","product_id":100006601,"comment_content":"之前还以为SOA在互联网很流行呢，没想到根本不用啊","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420666,"discussion_content":"用得少，都用微服务了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531791828,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15992,"user_name":"卫江","can_delete":false,"product_type":"c1","uid":1101226,"ip_address":"","ucode":"DE2F7A6916F1A9","user_header":"https://static001.geekbang.org/account/avatar/00/10/cd/aa/33d48789.jpg","comment_is_top":false,"comment_ctime":1531711890,"is_pvip":false,"replies":[{"id":"5518","content":"虽然是无奈，但确实太重量级了，互联网公司soa用的少，但微服务做到最后，复杂度和ESB其实也差不多了","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1531720095,"ip_address":"","comment_id":15992,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1531711890","product_id":100006601,"comment_content":"不知道大家为什么总是提到esb的问题，从文章中可以看到esb的出现也是无奈之举，互联网完全可以做到统一，不需要esb，而且soa只是在功能分解上面的发展，而按照功能分解实现是很早就开始的，所以，不明白为什么互联网公司soa比较少。","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420627,"discussion_content":"虽然是无奈，但确实太重量级了，互联网公司soa用的少，但微服务做到最后，复杂度和ESB其实也差不多了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531720095,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15899,"user_name":"小喵喵","can_delete":false,"product_type":"c1","uid":1062444,"ip_address":"","ucode":"FDBBB2A59DB8B6","user_header":"https://static001.geekbang.org/account/avatar/00/10/36/2c/8bd4be3a.jpg","comment_is_top":false,"comment_ctime":1531627271,"is_pvip":false,"replies":[{"id":"5529","content":"中间件系统，IBM, ORACLE, Microsoft都有","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1531721234,"ip_address":"","comment_id":15899,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1531627271","product_id":100006601,"comment_content":"esb是硬件吗？是需要购买吗？","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420592,"discussion_content":"中间件系统，IBM, ORACLE, Microsoft都有","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531721234,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15746,"user_name":"张玮(大圣)","can_delete":false,"product_type":"c1","uid":1111343,"ip_address":"","ucode":"D567C4BE87D116","user_header":"https://static001.geekbang.org/account/avatar/00/10/f5/2f/56117bab.jpg","comment_is_top":false,"comment_ctime":1531444846,"is_pvip":false,"replies":[{"id":"5456","content":"如果说开发效率，传统企业也类似哦","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1531533550,"ip_address":"","comment_id":15746,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1531444846","product_id":100006601,"comment_content":"想想人们解决问题是矛盾的，想通过总线屏蔽异构系统的繁琐复杂无趣的工作，又想把这些隔离层工作做的小，做得轻，😄，合久必分，分久必合<br><br>互联网也有异构系统，只是相对少些吧，我觉得互联网公司不怎么采用的原因是开发成本，效率，以及后续的扩展性这些方面权衡的，说白了，现在甚至很多公司没有权衡，全家桶甩起来，100个创业公司能活下来几个，牛掰起来再做，不晚的哈","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420539,"discussion_content":"如果说开发效率，传统企业也类似哦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531533550,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15732,"user_name":"Skysper","can_delete":false,"product_type":"c1","uid":1058800,"ip_address":"","ucode":"164B3CAF81A7C5","user_header":"https://static001.geekbang.org/account/avatar/00/10/27/f0/06ecce19.jpg","comment_is_top":false,"comment_ctime":1531441757,"is_pvip":false,"replies":[{"id":"5438","content":"微服务部分会讲","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1531449107,"ip_address":"","comment_id":15732,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1531441757","product_id":100006601,"comment_content":"也有疑惑，SOA与微服务要怎么做严格的区分？互联网应用开放性高 自研应用可控性高 不依赖ESB这类的设施 可通过其他协议或通信机制进行服务实现 部分功能可适当冗余开发","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420535,"discussion_content":"微服务部分会讲","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531449107,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15678,"user_name":"空档滑行","can_delete":false,"product_type":"c1","uid":1091611,"ip_address":"","ucode":"06A6A7F503FAA7","user_header":"https://static001.geekbang.org/account/avatar/00/10/a8/1b/ced1d171.jpg","comment_is_top":false,"comment_ctime":1531381403,"is_pvip":false,"replies":[{"id":"5434","content":"微服务完整做下来架构也不小","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1531449005,"ip_address":"","comment_id":15678,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1531381403","product_id":100006601,"comment_content":"互联网企业发展的时间不长，没有太多历史的it系统需要对接维护，大部分系统在采购时可能就已经考虑了接口的问题<br>互联网业务和产品迭代更新快，相应的业务系统被淘汰的周期很短，搭建soa架构太大，不利于小业务的迭代和试错","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420513,"discussion_content":"微服务完整做下来架构也不小","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531449005,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15674,"user_name":"张立春","can_delete":false,"product_type":"c1","uid":1124382,"ip_address":"","ucode":"D8B4523B95D839","user_header":"https://static001.geekbang.org/account/avatar/00/11/28/1e/76e19bd3.jpg","comment_is_top":false,"comment_ctime":1531374479,"is_pvip":false,"replies":[{"id":"5432","content":"微服务章节会讲","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1531448941,"ip_address":"","comment_id":15674,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1531374479","product_id":100006601,"comment_content":"也有相同疑问：现在的互联网系统中流行的微服务难道不也是面向服务的一种架构？SOA和互联网架构有什么本质区别？","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420510,"discussion_content":"微服务章节会讲","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531448941,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15654,"user_name":"Xg huang","can_delete":false,"product_type":"c1","uid":1016995,"ip_address":"","ucode":"9680FA95DE3553","user_header":"","comment_is_top":false,"comment_ctime":1531360181,"is_pvip":false,"replies":[{"id":"5426","content":"那这样的话微服务其实也没必要呢😄","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1531448777,"ip_address":"","comment_id":15654,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1531360181","product_id":100006601,"comment_content":"我个人觉得这个跟互联网公司的组织架构和业务特点有关，以我们公司为例，一个项目，第一个版本，从开发到上线就两周，真正的开发时间只有一周，如果按soa的套路来，时间至少多一倍。业务通常都不愿意花这个时间来等待soa带来的收益。另外就是互联公司所开发出来的产品它们之间的重合度不高，比如说将小视频业务soa后，并不会给直播业务带来什么收益","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420500,"discussion_content":"那这样的话微服务其实也没必要呢😄","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531448777,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15643,"user_name":"肉松","can_delete":false,"product_type":"c1","uid":1092483,"ip_address":"","ucode":"A424E8661CB01E","user_header":"https://static001.geekbang.org/account/avatar/00/10/ab/83/7930ed28.jpg","comment_is_top":false,"comment_ctime":1531358446,"is_pvip":false,"replies":[{"id":"5424","content":"ESB在协议适配方面那是无敌的哦😄","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1531448727,"ip_address":"","comment_id":15643,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1531358446","product_id":100006601,"comment_content":"1.互联网业务场景注重高性能高可用，SOA的ESB性能达不到且存在单点问题；2.为了性能，互联网公司会使用一些私有协议，ESB不太好支持或者支持后性能损失也已经非常严重了；3.互联网很多业务系统生命周期短，不是那么稳定，这类系统采用SOA架构，效率低和维护成本过高；","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420492,"discussion_content":"ESB在协议适配方面那是无敌的哦😄","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531448727,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15638,"user_name":"XNorth","can_delete":false,"product_type":"c1","uid":1106362,"ip_address":"","ucode":"F51D0315F40438","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItaas8rpvXb8dzxItjZ78L7iaC2Xc1LCszuTWCtLTgh6ZibP5icG8poKy417trI9lDNvFGNXg9sWxoQ/132","comment_is_top":false,"comment_ctime":1531357226,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1531357226","product_id":100006601,"comment_content":"互联网研发的系统，大多是成套完整的。存在需要相互关联性的子系统不多，如果关联性较强会在开始设计时就集成到一起。最后就是减少因soa分层导致的维护扩展成本。","like_count":0},{"had_liked":false,"id":15633,"user_name":"feifei","can_delete":false,"product_type":"c1","uid":1105431,"ip_address":"","ucode":"B1F8AE3AD82C51","user_header":"https://static001.geekbang.org/account/avatar/00/10/de/17/75e2b624.jpg","comment_is_top":false,"comment_ctime":1531356386,"is_pvip":false,"replies":[{"id":"5422","content":"赞同","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1531448632,"ip_address":"","comment_id":15633,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1531356386","product_id":100006601,"comment_content":"Soa架构，简单分层就3层，应用，esb,服务，<br>这种架构适合企业本身已经存在很多的系统。<br>优点<br>1，现有系统可重用性最大<br>2，支持扩展<br>缺点<br>1，需要增加成本，即ESB，需要专门的转化层<br>2，性能损失，多增加了一层网络调用，时延增加<br>3，扩展系统需要扩展2层，ESB和服务<br>SOA在互联网中优势不明显，反尔代价更高，而且互联网应用大多都是自研项目，可以统一化对外提供接口格式<br>","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420486,"discussion_content":"赞同","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531448632,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15625,"user_name":"何国平","can_delete":false,"product_type":"c1","uid":1101355,"ip_address":"","ucode":"251BA091AF8690","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/2b/a47a0936.jpg","comment_is_top":false,"comment_ctime":1531354873,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1531354873","product_id":100006601,"comment_content":"soa架构要有很强控制力的技术部门才行。小公司追求快速开发，根本不管这事，而随着业务的增加，很多功能冗余也造成整合困难。","like_count":0},{"had_liked":false,"id":15616,"user_name":"甲韭","can_delete":false,"product_type":"c1","uid":1052321,"ip_address":"","ucode":"2E998B8CB17F4E","user_header":"https://static001.geekbang.org/account/avatar/00/10/0e/a1/152a5de1.jpg","comment_is_top":false,"comment_ctime":1531353503,"is_pvip":false,"replies":[{"id":"5415","content":"互联网企业刚开始都穷么😂😂","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1531448411,"ip_address":"","comment_id":15616,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1531353503","product_id":100006601,"comment_content":"可能是ESB 很贵，而且还不单独销售","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420476,"discussion_content":"互联网企业刚开始都穷么😂😂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531448411,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15615,"user_name":"郭涛","can_delete":false,"product_type":"c1","uid":1085298,"ip_address":"","ucode":"238800B59497E0","user_header":"https://static001.geekbang.org/account/avatar/00/10/8f/72/8d7d872b.jpg","comment_is_top":false,"comment_ctime":1531353251,"is_pvip":false,"replies":[{"id":"5414","content":"赞同","user_name":"作者回复","user_name_real":"华仔","uid":"1098920","ctime":1531448378,"ip_address":"","comment_id":15615,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1531353251","product_id":100006601,"comment_content":"SOA架构中ESB容易成为性能瓶颈，而互联网服务相比企业it系统会有更高的并发。而且互联网企业相比传统企业，异构it系统的历史包袱也没那么重。","like_count":0,"discussions":[{"author":{"id":1098920,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/a8/f2685e1b.jpg","nickname":"华仔","note":"","ucode":"851FF94CF5133A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420475,"discussion_content":"赞同","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531448378,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
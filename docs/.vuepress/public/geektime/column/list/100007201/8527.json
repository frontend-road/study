{"id":8527,"title":"第4讲 | 底层绘图接口的妙用","content":"<p>上一节，我给你介绍了游戏引擎的概念及其在游戏开发中所起的作用。同时，我也提到了游戏引擎背后的工作方式。在代码层面，游戏引擎是一套对底层绘图、音频、操作系统接口的封装实现。</p>\n<p>在此基础上，我还举了一个在游戏屏幕上画线条的例子。在这个例子中，<strong><span class=\"orange\">画线的接口函数在背后分解、组合、计算，并将绘制工作交给底层绘图接口。</span></strong>这个绘图接口，就是今天要讲的内容。</p>\n<h2 id=\"-\">几种常见的绘图接口</h2>\n<p>前面我已经说过，我会针对2D游戏来讲解游戏开发的流程和细节，所以，这里我先介绍几种2D<strong>绘图接口</strong>（即<strong>API，</strong>全称<strong>Application Programming Interface</strong>）。我选择了5种Windows下最流行的绘图接口，分别讲解。</p>\n<h3 id=\"1-opengl\">1.OpenGL</h3>\n<p>OpenGL是老牌的图形图像接口。GL是Graphics Library的缩写。所以，顾名思义，OpenGL就是开放图形接口的意思。和接下来要讲的DirectX一样，OpenGL也可以创建和渲染2D、3D图形。但是，和DirectX不同的是，它可以在多种平台下运行，比如Windows、Linux、macOS和部分UNIX，而DirectX只能在Windows生态下运行。</p>\n<p>OpenGL本身只提供图形渲染接口，如果你需要别的功能，比如音频、鼠标、键盘的操作，甚至是创建一个窗体，都需要别的扩展库支持。</p>\n<h3 id=\"2-directx\">2.DirectX</h3>\n<p>说起DirectX，这个名字已经如雷贯耳。DirectX的开发初衷，是为了让游戏开发者能像在DOS平台编写游戏一样，在当时新的Windows 95平台上，也能一样高效、快速地操纵各种硬件设备。</p>\n<p>其实，在DirectX发布之前，微软已经将OpenGL包含在Windows系统里面。随着时间的推移，OpenGL逐渐成为了行业标准，而DirectX自然免不了与其展开竞争。</p>\n<p>这里，我主要介绍一下DirectX中的两个核心组件。这两个核心组件的功能与2D游戏编程息息相关，你一定得了解一下。</p>\n<!-- [[[read_end]]] -->\n<p>第一个是<strong>DirectDraw</strong>。它是早期DirectX中掌管2D部分的组件。DirectDraw类似我之后要说的GDI，支持显存位图，而不是只能将位图存放在内存里，所以DirectDraw更贴近硬件。但是在DirectX 7版本之后，DirectDraw被合并到Direct Graphics组件中。虽然目前仍有很多人在使用DirectDraw的老版本开发包，然而DirectDraw已经被微软逐渐淘汰。</p>\n<p>第二个是<strong>Direct2D</strong>。它是微软推出的最新2D组件，它的出现是为了取代Windows下的GDI、GDI+和DirectDraw。Direct2D能通过硬件加速来绘制2D图形，也支持高质量2D图形渲染，比如支持ClearType呈现的方式、除锯齿、几何位图的绘制和填充等等。</p>\n<h3 id=\"3-sdl\">3.SDL</h3>\n<p>SDL全称<strong>Simple DirectMedia Layer</strong>，直译就是<strong>简单的直接媒体层</strong>。从严格意义上来讲，SDL并不算是“独立的”图形渲染接口，因为它将各类操作系统的图形图像渲染接口进行了封装，包装成统一的函数，以此来方便调用。比如，在Windows下，它封装了DirectX和GDI+；在Linux下，它封装了Xlib等等。同时，它也提供了OpenGL的调用函数。</p>\n<p>SDL不仅仅可以对现有图形图像接口进行封装，它也提供SDL官方自己发布的编程接口。比如，SDL_image、图像接口、SDL_net、网络接口等等。后续我将介绍到的Pygame，其背后就是调用SDL编写的。</p>\n<p>Pygame是使用Python封装的游戏库，你可以很方便地利用Pygame进行2D游戏的编写，它的背后，调用的就是SDL的接口。所以我们将利用Pygame来对2D游戏开发流程做一个完整的梳理。虽然网上关于Pygame的代码和教材很多，但是我们要讲的，<strong><span class=\"orange\">不仅仅是Pygame代码是如何编写的，而是要从Pygame的代码中，分析2D游戏的编写逻辑和编程思想</span></strong>。在这个过程中，Pygame只是一个载体。</p>\n<h3 id=\"4-gdi\">4.GDI</h3>\n<p>GDI，全称<strong>Graphics Device Interface</strong>，也是Windows下的图形设备接口。它所做的就是处理Windows程序的图形输出，负责在Windows系统和绘图程序之间进行信息的交换。使用GDI的人已经越来越少，从编程的方便性和硬件加速等功能来看，GDI被GDI+取代是显而易见的。</p>\n<h3 id=\"5-gdi-\">5.GDI+</h3>\n<p>在Windows下，大部分接触过图形编程的程序员都会用过GDI+。而GDI+其实就是GDI的进阶版本。</p>\n<p>GDI+是有<strong>硬件加速功能</strong>的，而GDI没有；GDI是以C语言接口的形式提供的，而GDI+则是C++和托管类的形式提供；从接口代码的层次上说，GDI+对程序员更友好，使用起来也更顺手。</p>\n<p>GDI+还提供了<strong>图像处理</strong>的接口，比如提供了Image、Bitmap等类，可以用于读取、保存、显示，操作各种类型的图像，比如BMP、JPG、GIF等。</p>\n<p>GDI和GDI+的<strong>绘图操作</strong>也存在差别。GDI中存在一个称为“当前坐标”（MoveTo）的位置。“当前坐标”的存在是为了提高绘画的效率。</p>\n<p>我还拿画线的过程来举例。有一条新的线连着一条老的线画，如果有了“当前坐标”的设置，逻辑上可以避免每次画线都要给出两个点的坐标（开始和结束）；如果每次都以该“当前坐标”做为起始点，线条绘制结束后，线的结束位置就成为“当前坐标”。</p>\n<p>事实上，这种方式的存在是有历史原因的。有一种说法来自很早的Logo语言。这种语言针对儿童进行寓教于乐的编程教育。它的绘画逻辑是，如果有“当前坐标”这个概念，只需要一个递归就可以不停地画线，最终组成一个图形。所以后期很多的绘画接口都沿用这种方式去做。但实际到了2000年左右，人们发现这种方式并不方便，因此GDI+取消了这个“当前坐标”。</p>\n<p>一个原因是不方便；另一个原因是，如果无法确定“当前坐标”，绘图就会出现差错。而用GDI+绘制线条，则可以直接在DrawLine函数中指定起始点和结束点的坐标位置。</p>\n<h2 id=\"-\">如何直接使用绘图接口进行游戏开发？</h2>\n<p>通过上面的介绍，你是否对Windows下几大流行的绘图接口有了大致的了解呢？接下来你或许会问，那我了解这些图形接口的编程接口后，是不是就可以直接用这些接口进行游戏的开发呢？</p>\n<p>答案当然是可以的。由于SDL的开发便利性和通用性，所以我拿SDL编程接口作为例子，来阐述一下究竟怎样通过图形接口直接进行游戏的开发。</p>\n<p>从最基础的开始，我们先要从SDL的网站下载SDL的最新版本，下载网址是： <a href=\"http://www.libsdl.org/download-2.0.php\">http://www.libsdl.org/download-2.0.php</a> （写作这篇文章的时候，最新的版本是2.0.8稳定版）。</p>\n<p><img style=\"margin: 0 auto\" src=\"https://static001.geekbang.org/resource/image/1e/7c/1e5e2f488c67643776858f564214787c.jpg?wh=2528*1398\"></p>\n<p>在下载的网站页面，我们可以看到Source Code一栏，这是SDL的源代码。有一定编程基础的同学可以下载源代码，直接使用VC++、MinGW等编译器进行编译，编译完的头文件和库文件直接就可以使用。</p>\n<p>如果你对编译不熟悉，可以选择下载Development Libraries，也就是编译完成后的开发包。网站已经将Windows下的开发环境分为VC++32位版和64位版、MinGW32位版和64位版。为了教学方面和统一，也照顾各种平台的用户，我建议使用MinGW的32位版。因为64位Windows可以兼容32位的应用。至于MinGW编译器和IDE的下载安装细节，我将会在后续的专栏文章中介绍。</p>\n<p>下载完成后，将压缩包解压缩到任意目录，头文件和库文件使用解压缩出来的“i686-w64-mingw32”这个目录下的“include”和“lib”。</p>\n<p>接下来，我们在IDE中设置include路径和lib路径，链接程序的时候需要在IDE设置包含库文件libsdl.a、libsdlmain.a，就可以开始在IDE中编写代码了。</p>\n<p>在开始开发的时候，首先使用SDL_Init来进行初始化。用这个方法传入一个unsigned int类型的参数，参数列表就像这样：</p>\n<p><img style=\"margin: 0 auto\" src=\"https://static001.geekbang.org/resource/image/7b/6d/7b0370e14ed1121d8c37c546888c9e6d.jpg?wh=782*600\"></p>\n<p>其中“初始化所有系统”这个选项，除了“忽略任意错误”外，包含了以上所有不同的初始化系统，一般使用SDL_INIT_EVERYTHING即可。</p>\n<p>随后，我们要使用SDL_CreateWindows来创建一个窗体。SDL_CreateWindows支持六个参数，分别是：窗体名称、在Windows屏幕显示的x坐标、在Windows屏幕显示的y坐标、宽、长、显示方式。</p>\n<p>然后将使用SDL_CreateRenderer创建一个SDL的渲染器（SDL_Renderer）。渲染器的参数是：</p>\n<p><img style=\"margin: 0 auto\" src=\"https://static001.geekbang.org/resource/image/bb/6e/bbc37419239a0c9d32d5676acbc6b96e.jpg?wh=848*276\"></p>\n<p>随后可以使用SDL_RenderClear来清空SDL渲染器、使用SDL_RenderPresent方法将渲染的结果显示出来。然后我们需要建立一个大循环，在这个循环内，你可以把SDL支持的图形图像函数或者其他逻辑代码往里面填写，完成游戏的程序内容，具体的操作我会在之后的文章详细介绍。</p>\n<p>在这个大循环内，我们要用到SDL_Event事件系统。在循环内捕捉用户事件，比如要退出这个循环就必须点击右上角的X关闭按钮才行。如果你点击了X按钮，就会被while内的event事件捕捉到，并且匹配是不是退出事件，如果是退出事件就退出程序。</p>\n<p>最终退出程序的时候，使用SDL_Quit清除资源退出程序。</p>\n<p><img style=\"margin: 0 auto\" src=\"https://static001.geekbang.org/resource/image/fd/b6/fd59a32a4b01a53581cee54a16f2f9b6.jpg?wh=688*282\"></p>\n<p>我们结合这张流程图来看一下将这些内容串联起来的代码：</p>\n<pre><code>#include  &lt;SDL.h&gt;\nint main(int argc,char *args[])\n{\n    SDL_Window* window;\n    SDL_Renderer* render;\n    SDL_Event e;\n    bool q = 0;\n    int sdl=SDL_Init(SDL_INIT_EVERYTHING);\n</code></pre><p>初始化完成后，我们要建立窗体，并编写后续的步骤：</p>\n<pre><code>if(0 &lt;= sdl ){\n        // 当SDL初始化完成后创建一个标题为&quot;SDL Window&quot;的窗口,窗口对齐方式为居中对齐，分辨率为640x480的窗口\n        g_pWindow=SDL_CreateWindow(&quot;SDL Window&quot;,\n            SDL_WINDOWPOS_CENTERED,SDL_WINDOWPOS_CENTERED,\n            640,480,SDL_WINDOW_SHOWN);\n        if(0 != window)\n            render=SDL_CreateRenderer(window,-1,0);  \n    }\n    SDL_SetRenderDrawColor(render,0,255,255,255);\n    SDL_RenderClear(render);\n    SDL_RenderPresent(render);\n</code></pre><p>接下来是游戏主循环的内容：</p>\n<pre><code>while( 0 == q )\n    {\n       while( 0 != SDL_PollEvent( &amp;e ) )\n                {\n                    //检测到用户需要退出\n                    if( e.type == SDL_QUIT )\n                        q = true;\n                }\n    }\n    SDL_Quit();\n    return 0;\n}\n</code></pre><p>这个简单的例子说明了如何直接利用SDL接口编写游戏。直接利用其他图形接口编写游戏，也基本是这样的步骤。</p>\n<h2 id=\"-\">小结</h2>\n<p>我来给今天的内容做一个总结，你只需要记住这些内容即可：</p>\n<ul>\n<li>绘图接口绘图接口其实就是使用C/C++语言或汇编语言，通过操作系统的底层，调用诸如显卡、内存这些绘图设备，最后做成接口；</li>\n<li>SDL拥有统一封装的绘图接口，你可以在各个平台无缝编译和使用。</li>\n</ul>\n<p>现在，你是不是对游戏开发的一部分流程有点了然于胸了呢？</p>\n<p>给你留个小思考题吧。</p>\n<p>我们提到了直接利用绘图接口编写游戏，请问，如果这样，还需要“游戏引擎”吗？如果需要的话，这个“引擎”应该放在哪里呢？</p>\n<p>欢迎留言说出你的看法，我在下一节的挑战中等你！</p>\n<p></p>\n","neighbors":{"left":{"article_title":"第3讲 | 游戏的发动机：游戏引擎","id":8440},"right":{"article_title":"第5讲 | 构建游戏场景的武器：地图编辑器","id":8670}},"comments":[{"had_liked":false,"id":11217,"user_name":"小侠","can_delete":false,"product_type":"c1","uid":1045025,"ip_address":"","ucode":"A35A61061E41B2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f2/21/00600713.jpg","comment_is_top":false,"comment_ctime":1527945637,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"48772585893","product_id":100007201,"comment_content":"底层接口只能做简单游戏，游戏引擎在底层接口基础上做封装和扩展，方便做复杂游戏","like_count":12,"discussions":[{"author":{"id":1073132,"avatar":"https://static001.geekbang.org/account/avatar/00/10/5f/ec/337077d5.jpg","nickname":"神马*涛💋","note":"","ucode":"6E178E257EB366","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392163,"discussion_content":"棒，说得好！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630868725,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":11203,"user_name":"立春","can_delete":false,"product_type":"c1","uid":1004877,"ip_address":"","ucode":"F52E829EDE4519","user_header":"https://static001.geekbang.org/account/avatar/00/0f/55/4d/c57092e4.jpg","comment_is_top":false,"comment_ctime":1527932503,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"44477605463","product_id":100007201,"comment_content":"其中一行代码应该是 window＝SDL_CreateWindow…而且我习惯bool 类型的赋值false或true。代码中一开始初始化为0，之后又为true，不是非常统一，当然这不是重点。","like_count":10},{"had_liked":false,"id":11168,"user_name":"Lu | SSEINFO","can_delete":false,"product_type":"c1","uid":1045848,"ip_address":"","ucode":"389B5493CCEA79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f5/58/9ee22cda.jpg","comment_is_top":false,"comment_ctime":1527906595,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27297710371","product_id":100007201,"comment_content":"游戏引擎应该相当于一层封装，把SDL的方法封装了一个更高的抽象层。就好比网络编程，我们可以直接用socket，也可以使用封装好了的网络库，来简化我们的代码。","like_count":6},{"had_liked":false,"id":11187,"user_name":"以往","can_delete":false,"product_type":"c1","uid":1141099,"ip_address":"","ucode":"BA303C69C16182","user_header":"https://static001.geekbang.org/account/avatar/00/11/69/6b/28748de2.jpg","comment_is_top":false,"comment_ctime":1527913564,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14412815452","product_id":100007201,"comment_content":"游戏引擎还是需要的<br><br>SDL是对硬件的使用做了封装，但复杂功能的实现还是要借助于引擎提供的一系列组件去完成","like_count":3},{"had_liked":false,"id":13431,"user_name":"王建","can_delete":false,"product_type":"c1","uid":1153792,"ip_address":"","ucode":"68000818D8AA41","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/00/8c1b9631.jpg","comment_is_top":false,"comment_ctime":1529626757,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10119561349","product_id":100007201,"comment_content":"绘图接口只是游戏引擎的一个子集","like_count":2},{"had_liked":false,"id":22069,"user_name":"小猫藏鱼","can_delete":false,"product_type":"c1","uid":1000040,"ip_address":"","ucode":"1BE65A71549D5C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/68/0a3b8f69.jpg","comment_is_top":false,"comment_ctime":1535469795,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5830437091","product_id":100007201,"comment_content":"本节课介绍了5种图形接口，opengl,directx,sdl,gdi,gdi+，以及如何不使用引擎直接用绘图接口编写游戏的方法。<br><br>游戏引擎的主要部分就是封装了图形接口，更加容易使用，便于开发。<br><br>pygame 就是对 sdl 的封装","like_count":1},{"had_liked":false,"id":11377,"user_name":"DeathKnightH","can_delete":false,"product_type":"c1","uid":1058526,"ip_address":"","ucode":"632E00A01247A3","user_header":"","comment_is_top":false,"comment_ctime":1528101855,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5823069151","product_id":100007201,"comment_content":"除开图形以外的输入输出，如音频输出，键盘、鼠标输入等。如果这些都不考虑从底层写起的话还是需要引擎的支持。","like_count":1},{"had_liked":false,"id":11183,"user_name":"GeekAmI","can_delete":false,"product_type":"c1","uid":1005030,"ip_address":"","ucode":"232C0B6DFB9F56","user_header":"https://static001.geekbang.org/account/avatar/00/0f/55/e6/87197b10.jpg","comment_is_top":false,"comment_ctime":1527910961,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5822878257","product_id":100007201,"comment_content":"应该还是需要的，毕竟引擎不仅对图形接口进行了封装，还对音视频、操作系统底层进行抽象封装，更加方便开发者调用。是不是应该lib下呢？","like_count":1},{"had_liked":false,"id":11179,"user_name":"飞","can_delete":false,"product_type":"c1","uid":1140943,"ip_address":"","ucode":"370A673E152FD2","user_header":"","comment_is_top":false,"comment_ctime":1527908768,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5822876064","product_id":100007201,"comment_content":"代码编译不过，可能需要在#include SDL.h之前加上一行宏定义#define SDL_MAIN_HANDLED","like_count":1},{"had_liked":false,"id":11175,"user_name":"pat","can_delete":false,"product_type":"c1","uid":1141641,"ip_address":"","ucode":"2BEDC6658E6CAC","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoDRu5N0SIiaTa4wG6VRFickD0O6B8E6yIEfjQ0HiaHib3cG3cmdwHicLTRpHTgk6EqkCtfYvUYab12q5Q/132","comment_is_top":false,"comment_ctime":1527908246,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5822875542","product_id":100007201,"comment_content":"还需要游戏引擎，因为绘图接口只能绘制图像，没有声音、鼠标键盘、AI等，游戏引擎应该在绘图接口上层，封装绘图接口吧？","like_count":1},{"had_liked":false,"id":348234,"user_name":"段潇涵","can_delete":false,"product_type":"c1","uid":1003567,"ip_address":"","ucode":"9A5C6744C1D23E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/50/2f/9c3cf7c9.jpg","comment_is_top":false,"comment_ctime":1654854205,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654854205","product_id":100007201,"comment_content":"typo<br><br>变量声明是用的是 `SDL_Window* window;`<br>变量赋值时用的是 `<br>g_pWindow=SDL_CreateWindow(&quot;SDL Window&quot;, SDL_WINDOWPOS_CENTERED,SDL_WINDOWPOS_CENTERED, 640,480,SDL_WINDOW_SHOWN);`<br><br>可能会给一些不熟悉 C++ 的同学造成误会","like_count":0},{"had_liked":false,"id":314316,"user_name":"新心🌟","can_delete":false,"product_type":"c1","uid":2783689,"ip_address":"","ucode":"05B2FB7F00B681","user_header":"https://static001.geekbang.org/account/avatar/00/2a/79/c9/20d72994.jpg","comment_is_top":false,"comment_ctime":1632969407,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632969407","product_id":100007201,"comment_content":"老师，我不会在xcode上导入SDL的文件怎么办","like_count":0},{"had_liked":false,"id":242783,"user_name":"3.141516","can_delete":false,"product_type":"c1","uid":1013309,"ip_address":"","ucode":"34AF71B02692F3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/76/3d/8120438b.jpg","comment_is_top":false,"comment_ctime":1597839942,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1597839942","product_id":100007201,"comment_content":"绘图接口只是完成了做游戏中绘制图形的部分，像网络、音频等等还没有覆盖，如果游戏需要更强的网络、音频支持，那还是需要用游戏引擎来做。","like_count":0},{"had_liked":false,"id":152253,"user_name":"火腿","can_delete":false,"product_type":"c1","uid":1308116,"ip_address":"","ucode":"40F17DBC18F5D5","user_header":"https://static001.geekbang.org/account/avatar/00/13/f5/d4/5a0a2f8d.jpg","comment_is_top":false,"comment_ctime":1573953816,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573953816","product_id":100007201,"comment_content":"OpenGL是不是最流行的图形接口？","like_count":0},{"had_liked":false,"id":102212,"user_name":"Ishmael","can_delete":false,"product_type":"c1","uid":1312115,"ip_address":"","ucode":"87CAF00A0BB25A","user_header":"https://static001.geekbang.org/account/avatar/00/14/05/73/89148275.jpg","comment_is_top":false,"comment_ctime":1560161484,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560161484","product_id":100007201,"comment_content":"引擎要进行封装底层api,以及解决跨平台支持的问题。","like_count":0},{"had_liked":false,"id":60918,"user_name":"火腿","can_delete":false,"product_type":"c1","uid":1308116,"ip_address":"","ucode":"40F17DBC18F5D5","user_header":"https://static001.geekbang.org/account/avatar/00/13/f5/d4/5a0a2f8d.jpg","comment_is_top":false,"comment_ctime":1547583829,"is_pvip":false,"replies":[{"id":"24873","content":"你如果指的电脑平台，是的","user_name":"作者回复","user_name_real":"DarkSpy","uid":"1135118","ctime":1550885147,"ip_address":"","comment_id":60918,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547583829","product_id":100007201,"comment_content":"现在游戏开发的最流行API是不是DirectX? ","like_count":0,"discussions":[{"author":{"id":1135118,"avatar":"https://static001.geekbang.org/account/avatar/00/11/52/0e/2988158e.jpg","nickname":"DarkSpy","note":"","ucode":"F440F4BA28E92F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436663,"discussion_content":"你如果指的电脑平台，是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550885147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":30076,"user_name":"hardcoreYutian","can_delete":false,"product_type":"c1","uid":1259557,"ip_address":"","ucode":"D458FBD5894EAB","user_header":"https://static001.geekbang.org/account/avatar/00/13/38/25/c2085cf8.jpg","comment_is_top":false,"comment_ctime":1538648557,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1538648557","product_id":100007201,"comment_content":"sdl那个网站怎么也进不去，不知道怎么办了","like_count":0},{"had_liked":false,"id":20793,"user_name":"Shine","can_delete":false,"product_type":"c1","uid":1022568,"ip_address":"","ucode":"C8C617B87C63C7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9a/68/92caeed6.jpg","comment_is_top":false,"comment_ctime":1534758339,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1534758339","product_id":100007201,"comment_content":"请问老师，现在的游戏引擎一般基于什么绘图接口做的？ OpenGl? DirectX? SDL?还是GDI+?","like_count":0},{"had_liked":false,"id":12982,"user_name":"放羊大王","can_delete":false,"product_type":"c1","uid":1048055,"ip_address":"","ucode":"9A34441D173DA1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fd/f7/8c78c31d.jpg","comment_is_top":false,"comment_ctime":1529233926,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1529233926","product_id":100007201,"comment_content":"没怎么写过c佳佳，用 clion cmake 报的错误看不懂。Google 了也没找到解决方案，xcode就一次过了，一样的代码。很惆怅。","like_count":0,"discussions":[{"author":{"id":2783689,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/79/c9/20d72994.jpg","nickname":"新心🌟","note":"","ucode":"05B2FB7F00B681","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":399372,"discussion_content":"xcode大佬求助啊。我不知道怎么在xcode上导入下载好的SDL库，能教教我吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632961075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12557,"user_name":"aaaaa","can_delete":false,"product_type":"c1","uid":1105686,"ip_address":"","ucode":"3D9FCF2482AF7E","user_header":"https://static001.geekbang.org/account/avatar/00/10/df/16/be85a2b1.jpg","comment_is_top":false,"comment_ctime":1528910043,"is_pvip":false,"replies":[{"id":"4190","content":"ide为集成开发环境，不是指的idea编辑器。","user_name":"作者回复","user_name_real":"DarkSpy","uid":"1135118","ctime":1528954419,"ip_address":"","comment_id":12557,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1528910043","product_id":100007201,"comment_content":"ide是什么，idea编辑器吗？","like_count":0,"discussions":[{"author":{"id":1135118,"avatar":"https://static001.geekbang.org/account/avatar/00/11/52/0e/2988158e.jpg","nickname":"DarkSpy","note":"","ucode":"F440F4BA28E92F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419293,"discussion_content":"ide为集成开发环境，不是指的idea编辑器。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528954419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12166,"user_name":"third","can_delete":false,"product_type":"c1","uid":1025114,"ip_address":"","ucode":"9A37408A834F0B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a4/5a/e708e423.jpg","comment_is_top":false,"comment_ctime":1528631129,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1528631129","product_id":100007201,"comment_content":"复杂的就需要游戏引擎","like_count":0},{"had_liked":false,"id":11339,"user_name":"月空繁星","can_delete":false,"product_type":"c1","uid":1139838,"ip_address":"","ucode":"DBFFF341824B1E","user_header":"https://static001.geekbang.org/account/avatar/00/11/64/7e/3a33fdf9.jpg","comment_is_top":false,"comment_ctime":1528076489,"is_pvip":false,"replies":[{"id":"3650","content":"不是，DX中DDraw会有一部分功能调用gdi，但GDI并不是对DX的封装。","user_name":"作者回复","user_name_real":"DarkSpy","uid":"1135118","ctime":1528100279,"ip_address":"","comment_id":11339,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1528076489","product_id":100007201,"comment_content":"GDI接口是不是对directX的二次封装？两者之间是否有关系？","like_count":0,"discussions":[{"author":{"id":1135118,"avatar":"https://static001.geekbang.org/account/avatar/00/11/52/0e/2988158e.jpg","nickname":"DarkSpy","note":"","ucode":"F440F4BA28E92F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418801,"discussion_content":"不是，DX中DDraw会有一部分功能调用gdi，但GDI并不是对DX的封装。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528100279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":11259,"user_name":"沈治国","can_delete":false,"product_type":"c1","uid":1123944,"ip_address":"","ucode":"1A4F8C06F9E093","user_header":"https://static001.geekbang.org/account/avatar/00/11/26/68/45ef5f73.jpg","comment_is_top":false,"comment_ctime":1528006588,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1528006588","product_id":100007201,"comment_content":"需要，还需音频，视频，图片等操作呢","like_count":0},{"had_liked":false,"id":11219,"user_name":"呵呵","can_delete":false,"product_type":"c1","uid":1052862,"ip_address":"","ucode":"986CC73CFBBC67","user_header":"","comment_is_top":false,"comment_ctime":1527947326,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1527947326","product_id":100007201,"comment_content":"需要用什么ide呢？","like_count":0},{"had_liked":false,"id":11181,"user_name":"壬大师","can_delete":false,"product_type":"c1","uid":1068494,"ip_address":"","ucode":"69BB3B0A8F1968","user_header":"https://static001.geekbang.org/account/avatar/00/10/4d/ce/771c25b0.jpg","comment_is_top":false,"comment_ctime":1527909752,"is_pvip":false,"replies":[{"id":"3651","content":"某些游戏引擎包含服务器端接口，服务器端没有游戏引擎一说，光是服务器端，并不能编写一款游戏。","user_name":"作者回复","user_name_real":"DarkSpy","uid":"1135118","ctime":1528100429,"ip_address":"","comment_id":11181,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1527909752","product_id":100007201,"comment_content":"老师，游戏引擎这个东西是不是只针对客户端？服务器端没有游戏引擎一说？","like_count":0,"discussions":[{"author":{"id":1135118,"avatar":"https://static001.geekbang.org/account/avatar/00/11/52/0e/2988158e.jpg","nickname":"DarkSpy","note":"","ucode":"F440F4BA28E92F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418744,"discussion_content":"某些游戏引擎包含服务器端接口，服务器端没有游戏引擎一说，光是服务器端，并不能编写一款游戏。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528100429,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":11162,"user_name":"Lu | SSEINFO","can_delete":false,"product_type":"c1","uid":1045848,"ip_address":"","ucode":"389B5493CCEA79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f5/58/9ee22cda.jpg","comment_is_top":false,"comment_ctime":1527905344,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1527905344","product_id":100007201,"comment_content":"而 GDI+ 则是 C++ 和托管类的形式提供<br>和 -&gt; 以？","like_count":0}]}
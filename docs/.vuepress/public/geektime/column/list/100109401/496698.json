{"id":496698,"title":"06ï½œTDDä¸­çš„æµ‹è¯•ï¼ˆ2ï¼‰ï¼šè¡Œä¸ºéªŒè¯ä¸ºä»€ä¹ˆåº”è¯¥å°½é‡é¿å…ä½¿ç”¨ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å¾æ˜Šã€‚ä»Šå¤©æˆ‘ä»¬æ¥ç»§ç»­å­¦ä¹ æµ‹è¯•é©±åŠ¨å¼€å‘ä¸­çš„æµ‹è¯•ã€‚</p><p>ä¸ŠèŠ‚è¯¾æˆ‘ä»¬ä»‹ç»äº†æµ‹è¯•çš„åŸºç¡€ç»“æ„â€”â€”å››é˜¶æ®µæµ‹è¯•ï¼Œä¹Ÿå°±æ˜¯å°†æ¯ä¸ªæµ‹è¯•éƒ½çœ‹ä½œå››ä¸ªä¾æ¬¡æ‰§è¡Œçš„é˜¶æ®µï¼šåˆå§‹åŒ–ã€æ‰§è¡Œæµ‹è¯•ã€éªŒè¯ç»“æœå’Œå¤åŸã€‚å¹¶ä¸”ï¼Œæˆ‘ä»¬è¿˜ç€é‡ä»‹ç»äº†è¯¥å¦‚ä½•ä½¿ç”¨çŠ¶æ€éªŒè¯æ¥éªŒè¯æµ‹è¯•çš„ç»“æœã€‚</p><p>ä»Šå¤©è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦ä¸€ç§éªŒè¯æ–¹å¼â€”â€”è¡Œä¸ºéªŒè¯ï¼Œä»¥åŠä¸ºä»€ä¹ˆä½ åº”è¯¥å°½é‡é¿å…ä½¿ç”¨å®ƒã€‚</p><h2>éªŒè¯ç»“æœâ€”â€”è¡Œä¸ºéªŒè¯</h2><p>è¡Œä¸ºéªŒè¯æ˜¯æŒ‡é€šè¿‡å¾…æµ‹ç³»ç»Ÿä¸ä¾èµ–ç»„ä»¶ï¼ˆDepended On Componentï¼‰çš„äº¤äº’ï¼Œæ¥åˆ¤æ–­å¾…æµ‹ç³»ç»Ÿæ˜¯å¦æ»¡è¶³éœ€æ±‚çš„éªŒè¯æ–¹å¼ã€‚å…¶éªŒè¯æ–¹å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/58/2e/584a725c04734904939eb6b2cf46a82e.jpg?wh=2248x1212\" alt=\"\"></p><p>è¡Œä¸ºéªŒè¯èƒŒåçš„é€»è¾‘æ˜¯ï¼ŒçŠ¶æ€çš„æ”¹å˜æ˜¯ç”±äº¤äº’å¼•èµ·çš„ã€‚å¦‚æœæ‰€æœ‰çš„äº¤äº’éƒ½æ­£ç¡®ï¼Œé‚£ä¹ˆå°±å¯ä»¥<strong>æ¨æ–­</strong>æœ€ç»ˆçš„çŠ¶æ€ä¹Ÿä¸ä¼šé”™ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå¦‚ä¸‹çš„ä»£ç ï¼š</p><pre><code>interface Counter {\n  void increase(); \n}\n\nclass SUT {\n  public void action(Counter counter) {\n    counter.increase();\n  }\n}\n</code></pre><p>åŠŸèƒ½éœ€æ±‚æ˜¯SUTçš„actionæ–¹æ³•è°ƒç”¨è®¡æ•°å™¨Counterä½¿å…¶è®¡æ•°å¢åŠ ã€‚æŒ‰ç…§çŠ¶æ€éªŒè¯ï¼Œæˆ‘ä»¬éœ€è¦ä»Counterä¸­è·å–å†…éƒ¨è®¡æ•°ï¼Œç„¶ååˆ¤æ–­åœ¨æ‰§è¡Œæµ‹è¯•å‰åï¼Œè®¡æ•°æ˜¯å¦å¢åŠ ã€‚</p><p>è€Œå¯¹äºè¡Œä¸ºéªŒè¯ï¼Œå› ä¸ºè®¡æ•°å¢åŠ ä¸å¦åªåœ¨äºæ˜¯å¦è°ƒç”¨äº†increaseæ–¹æ³•ã€‚é‚£ä¹ˆå¦‚æœSUTè°ƒç”¨äº†increaseæ–¹æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥<strong>æ¨æµ‹</strong>Counterçš„è®¡æ•°ä¹Ÿå¿…ç„¶å¢åŠ äº†ã€‚</p><p>äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¯¹äºè¯»æ•°å¢åŠ çš„éªŒè¯ï¼Œè½¬åŒ–ä¸ºå¯¹äºincreaseæ–¹æ³•è°ƒç”¨çš„éªŒè¯ï¼šå¦‚æœincreaseæ–¹æ³•è¢«è°ƒç”¨äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥<strong>æ¨æµ‹</strong>SUTæ˜¯æ»¡è¶³åŠŸèƒ½éœ€æ±‚çš„ã€‚çŠ¶æ€éªŒ<strong>æœ</strong>ï¼Œè¡Œä¸ºæ¨<strong>å› </strong>ã€‚</p><!-- [[[read_end]]] --><p>é‚£ä¹ˆè¦æ€ä¹ˆä½¿ç”¨è¡Œä¸ºéªŒè¯å‘¢ï¼Ÿè®©æˆ‘ä»¬å°†å‘½ä»¤è¡Œå‚æ•°è§£æä¸­çš„æµ‹è¯•ï¼Œæ”¹å†™æˆè¡Œä¸ºéªŒè¯ï¼š</p><p><video poster=\"https://static001.geekbang.org/resource/image/76/05/762849d86939179229876ec4da039b05.jpg\" preload=\"none\" controls=\"\"><source src=\"https://media001.geekbang.org/customerTrans/7e27d07d27d407ebcc195a0e78395f55/2726ff4a-17fabec9a15-0000-0000-01d-dbacd.mp4\" type=\"video/mp4\"><source src=\" https://media001.geekbang.org/2764dcdd5eaa482d8a01507a48051785/ce6f2689aba14545b6d16da1f833680c-dc47b8695a2f26d50506ad16b063fb49-sd.m3u8\" type=\"application/x-mpegURL\"></video></p><p>å¯¹æ¯”çŠ¶æ€éªŒè¯å’Œè¡Œä¸ºéªŒè¯ï¼Œåœ¨æµ‹è¯•ä¸Šä¸‹æ–‡ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥äº†<strong>æµ‹è¯•æ›¿èº«</strong>ï¼ˆTest Doubleï¼‰æ¥ä½œä¸ºæµ‹è¯•ä¸Šä¸‹æ–‡ä¸­çš„ä¾èµ–ç»„ä»¶ï¼Œç„¶åä½¿ç”¨æµ‹è¯•æ›¿èº«çš„éªŒè¯æ–¹æ³•ä»£æ›¿äº†æµ‹è¯•æ¡†æ¶æä¾›çš„æ–­è¨€æ–¹æ³•ã€‚å…·ä½“åˆ°è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨Mockito APIä¸­çš„verifyæ›¿æ¢äº†JUnit APIä¸­çš„assertæ–¹æ³•ã€‚</p><p>åœ¨å‚æ•°è§£æçš„ä¾‹å­ä¸­ï¼Œè¡Œä¸ºéªŒè¯å’ŒçŠ¶æ€éªŒè¯å‡ ä¹æ²¡ä»€ä¹ˆå·®åˆ«ã€‚å¦‚æœç¡¬è¦è¯´çš„è¯ï¼ŒçŠ¶æ€éªŒè¯ç¨ç¨å®¹æ˜“æ‡‚ä¸€äº›ã€‚é‚£ä¹ˆæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è¡Œä¸ºéªŒè¯å‘¢ï¼Ÿ</p><h2>æ—¨åœ¨é™ä½æµ‹è¯•æˆæœ¬</h2><p>åœ¨TDDç¤¾åŒºä¸­ï¼Œè¡Œä¸ºéªŒè¯ä¸»è¦æ˜¯ä¸ºäº†é™ä½æµ‹è¯•æˆæœ¬ã€‚å†è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å¼€ç¯‡è¯ä¸­â€œæµ‹è¯•åº”ç”¨â€çš„ä¾‹å­ï¼Œå¦‚æœæ¢åšè¡Œä¸ºæµ‹è¯•çš„è¯ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦ä½¿ç”¨å®é™…çš„æ•°æ®åº“äº†ï¼š</p><p><video poster=\"https://static001.geekbang.org/resource/image/76/05/762849d86939179229876ec4da039b05.jpg\" preload=\"none\" controls=\"\"><source src=\"https://media001.geekbang.org/customerTrans/7e27d07d27d407ebcc195a0e78395f55/198b1c85-17fa5eb8aac-0000-0000-01d-dbacd.mp4\" type=\"video/mp4\"><source src=\" https://media001.geekbang.org/2b3b760c03f1442a8844d4cec06b2dc0/bdee8c7ec3ca40739e1df588def1125d-60b4ee524f8bc90faf5c10e81fce2824-sd.m3u8\" type=\"application/x-mpegURL\"></video></p><p>å¯¹äºç±»ä¼¼äºæ•°æ®åº“è¿™æ ·çš„è¿›ç¨‹å¤–ç»„ä»¶ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥é€šè¿‡ç±»ä¼¼çš„æ‰‹æ®µåŠ ä»¥å¤„ç†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ˜ç¡®æŒ‡æ˜å¾…æµ‹ç³»ç»Ÿå¦‚ä½•ä¸è¿›ç¨‹å¤–ç»„ä»¶äº¤äº’ï¼Œå¹¶ä»¥æ­¤ä¸ºåŸºå‡†ï¼ŒéªŒè¯å¾…æµ‹ç»„ä»¶çš„è¡Œä¸ºæ˜¯å¦æ»¡è¶³éœ€æ±‚ã€‚ç±»ä¼¼çš„åœºæ™¯è¿˜æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ä¸‰æ–¹æ”¯ä»˜æœåŠ¡ã€æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰æˆ–è€…å…¶ä»–å¾®æœåŠ¡ç­‰ç­‰ã€‚</p><p>é™¤äº†è¿›ç¨‹å¤–ç»„ä»¶ï¼Œè¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯è¿›ç¨‹å†…ç»„ä»¶çš„çŠ¶æ€éš¾ä»¥è·å¾—ã€‚æœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯å…·æœ‰å›¾å½¢ç•Œé¢ï¼ˆGraphics User Interfaceï¼ŒGUIï¼‰çš„åº”ç”¨ï¼Œæ¯”å¦‚Android Appã€Eclipse RCPç­‰ç­‰ã€‚åœ¨æœ‰GUIçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦æµ‹è¯•è§†å›¾ï¼ˆViewï¼‰ä¸æ¨¡å‹ï¼ˆModelï¼‰çš„çŠ¶æ€ä¸€è‡´ã€‚é€šå¸¸è§†å›¾ä¸­çš„çŠ¶æ€éš¾ä»¥è·å–ï¼Œæˆ–è€…è·å–æˆæœ¬æé«˜ï¼ˆæ¯”å¦‚æˆ‘å°±æœ‰è¿‡å¾ˆå¤šæ¬¡éœ€è¦ä»å¤´å†™GUI TestDriverçš„æƒ…å†µï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¡Œä¸ºéªŒè¯æ¥ä»£æ›¿çŠ¶æ€éªŒè¯ï¼Œå®Œæˆæµ‹è¯•ã€‚</p><h2>å¯¹TDDç”¨å¤„ä¸å¤§</h2><p>æ— å¯å¦è®¤ï¼Œè¡Œä¸ºéªŒè¯æ˜¯ä¸€ç§æœ‰ç”¨çš„æŠ€å·§ï¼Œä½†æ˜¯<strong>å¯¹TDDç”¨å¤„ä¸å¤§</strong>ã€‚åœ¨<a href=\"https://time.geekbang.org/column/article/494571\">å¼€ç¯‡è¯</a>â€œæµ‹è¯•åº”ç”¨â€çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ˜¯æ”¹å†™çš„å·²æœ‰æµ‹è¯•ã€‚è€Œå¦‚æœé‡å¤´æ¥ä¸€éçš„è¯ï¼Œä½ å°±ä¼šå‘ç°é—®é¢˜æ‰€åœ¨äº†ï¼š</p><p><video poster=\"https://static001.geekbang.org/resource/image/76/05/762849d86939179229876ec4da039b05.jpg\" preload=\"none\" controls=\"\"><source src=\"https://media001.geekbang.org/customerTrans/7e27d07d27d407ebcc195a0e78395f55/451e1d6a-17fa5eb8749-0000-0000-01d-dbacd.mp4\" type=\"video/mp4\"><source src=\" https://media001.geekbang.org/866fabe8829e4eb08b7827f8616d0579/0bef74641ede418489c934fb1107abd3-f1d82ce1e5290c483fabee08d78aecd4-sd.m3u8\" type=\"application/x-mpegURL\"></video></p><p>æ˜¯ä¸æ˜¯æ„Ÿè§‰æŠŠå®ç°ä»£ç å…ˆåœ¨æµ‹è¯•ä¸­å†™äº†ä¸€éï¼Œç„¶ååˆæ¬å›åˆ°ç”Ÿäº§ä»£ç ä¸­å»äº†ï¼Ÿé™¤äº†å¤šå†™äº†ä¸€éå®ç°ä»£ç ï¼Œåˆ°åº•æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿæ€ä¹ˆæœ‰ä¸€ç§è„±äº†è£¤å­æ”¾å±çš„æ„Ÿè§‰ï¼Ÿ</p><p>é™¤äº†ç›´è§‚çš„ä½“éªŒå¾ˆå·®ä¹‹å¤–ï¼Œè¡Œä¸ºéªŒè¯çš„é€»è¾‘ä¹Ÿä¸TDDçš„æ ¸å¿ƒé€»è¾‘å†²çªã€‚</p><p>ä¸ŠèŠ‚è¯¾æˆ‘ä»¬è®²è¿‡ï¼ŒçŠ¶æ€éªŒè¯æ˜¯å°†æµ‹è¯•ä¸Šä¸‹æ–‡ä¸å¾…æµ‹ç³»ç»Ÿå½“ä½œä¸€ä¸ªæ•´ä½“çš„é»‘ç›’éªŒè¯ï¼Œè€Œè¡Œä¸ºéªŒè¯å°±æ˜¯å°†å®ƒä»¬çœ‹ä½œåˆ†ç¦»ç»„ä»¶çš„<strong>ç™½ç›’éªŒè¯ã€‚</strong></p><p>å®ƒçš„é€»è¾‘æ˜¯<strong>é€šè¿‡æµ‹è¯•åŠŸèƒ½æ˜¯å¦‚ä½•å®ç°çš„ï¼Œæ¥æ¨æ–­ç»“æœæ˜¯å¦æ­£ç¡®</strong>ã€‚æ¢å¥è¯è¯´ï¼Œè¡Œä¸ºéªŒè¯æœ¬èº«å¹¶<strong>ä¸èƒ½éªŒè¯åŠŸèƒ½æ˜¯å¦æ­£ç¡®</strong>ï¼Œè€Œåªèƒ½éªŒè¯<strong>åŠŸèƒ½æ˜¯å¦æŒ‰ç…§æŸç§æ–¹å¼å®ç°</strong>ã€‚å¦‚æœæŒ‰ç…§æŸç§æ–¹å¼å®ç°ï¼Œé‚£ä¹ˆå°±å¯ä»¥<strong>æ¨æµ‹</strong>å‡ºåŠŸèƒ½æ˜¯æ­£ç¡®çš„ã€‚</p><p><strong>è¿™ä¸TDDçš„æ ¸å¿ƒé€»è¾‘å°±å†²çªäº†</strong>ã€‚åœ¨TDDçš„çº¢/ç»¿/é‡æ„ä¸­ï¼Œ<strong>é‡æ„</strong>è¦æ±‚åœ¨åŠŸèƒ½ä¸å˜çš„å‰æä¸‹ï¼Œæ”¹å˜å®ç°æ–¹å¼ã€‚è€Œå¯¹äºè¡Œä¸ºéªŒè¯è€Œè¨€ï¼Œ<strong>å®ç°æ–¹å¼æ”¹å˜å°±æ˜¯åŠŸèƒ½æ”¹å˜</strong>ã€‚å› è€Œé‡æ„å°±æ— æ³•è¿›è¡Œï¼éœ€è¦<strong>é‡å†™ï¼</strong>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>è¡Œä¸ºéªŒè¯ä¼šé˜»ç¢TDDçš„è¿›è¡Œ</strong>ã€‚</p><p>ä»ç„¶ä»¥â€œæµ‹è¯•åº”ç”¨â€ä¸ºä¾‹ï¼Œå¦‚æœæˆ‘ä»¬å°†JPQLçš„å®ç°æ–¹å¼æ”¹ä¸ºCriteria APIï¼Œé‚£ä¹ˆè¡Œä¸ºéªŒè¯å°±ä¼šå¤±è´¥ï¼Œè€ŒçŠ¶æ€éªŒè¯åˆ™ä¸ä¼šï¼š</p><p><video poster=\"https://static001.geekbang.org/resource/image/76/05/762849d86939179229876ec4da039b05.jpg\" preload=\"none\" controls=\"\"><source src=\"https://media001.geekbang.org/customerTrans/7e27d07d27d407ebcc195a0e78395f55/4156fcd7-17fa5eb8464-0000-0000-01d-dbacd.mp4\" type=\"video/mp4\"><source src=\" https://media001.geekbang.org/6bba8b00b805491d9b528d5ddb02d6fb/a1feeaa8b1284cda995bf24e7723fcdc-9a3d7f7dfc682a1ebddbbc9d0b52a082-sd.m3u8\" type=\"application/x-mpegURL\"></video></p><h2>ä¸§å¤±æµ‹è¯•çš„æœ‰æ•ˆæ€§</h2><p>é™¤å»ä¸TDDçš„é€»è¾‘å†²çªä¹‹å¤–ï¼Œè¡Œä¸ºéªŒè¯è¿˜å¯èƒ½ä¼š<strong>ä¸§å¤±æµ‹è¯•çš„æœ‰æ•ˆæ€§</strong>ï¼Œç‰¹åˆ«æ˜¯åœ¨ä¾èµ–å¤æ‚çš„æ¡†æ¶æˆ–æ˜¯è¿›ç¨‹å¤–ç»„ä»¶çš„æ—¶å€™ã€‚</p><p>è¿˜æ˜¯â€œæµ‹è¯•åº”ç”¨â€çš„ä¾‹å­ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé¢†åŸŸæ¨¡å‹å­˜å–çš„æˆåŠŸå¹¶ä¸ä»…ä»…ä¾èµ–äºä»£ç ï¼Œè¿˜ä¾èµ–äºJPAçš„å…ƒæ•°æ®ä¸é…ç½®ã€‚é‚£ä¹ˆï¼Œä»…ä»…é€šè¿‡ä¸EntityManagerçš„äº¤äº’ï¼Œå¹¶æ— æ³•éªŒè¯å…ƒæ•°æ®çš„é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œç±»ä¼¼çš„è¿˜æœ‰æŸ¥è¯¢è¯­å¥æœ¬èº«çš„æ­£ç¡®æ€§ç­‰ã€‚</p><p><video poster=\"https://static001.geekbang.org/resource/image/76/05/762849d86939179229876ec4da039b05.jpg\" preload=\"none\" controls=\"\"><source src=\"https://media001.geekbang.org/customerTrans/7e27d07d27d407ebcc195a0e78395f55/c872036-17fabf3d55a-0000-0000-01d-dbacd.mp4\" type=\"video/mp4\"><source src=\" https://media001.geekbang.org/46955895c660486b9af6ab9f7d8ce32c/1b1981ef10fe428d923f314920698463-ecae84519c7dca562e39144fae504710-sd.m3u8\" type=\"application/x-mpegURL\"></video></p><p>è™½ç„¶è¡Œä¸ºéªŒè¯çš„ä¸»è¦ç›®çš„æ˜¯é™ä½æµ‹è¯•æˆæœ¬ï¼Œä½†å¦‚æœä¸§å¤±äº†æµ‹è¯•çš„æœ‰æ•ˆæ€§ï¼Œé‚£ä¹ˆæˆæœ¬å†ä½ä¹Ÿæ˜¯æ— æ„ä¹‰çš„ã€‚</p><h2>å°ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬ä»‹ç»äº†è¡Œä¸ºéªŒè¯ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡è¡Œä¸ºéªŒè¯<strong>æ¨æµ‹</strong>å¾…æµ‹ç³»ç»Ÿæ˜¯å¦æ»¡è¶³åŠŸèƒ½éœ€æ±‚ã€‚è™½ç„¶åœ¨ç‰¹å®šåœºæ™¯ä¸‹ï¼Œè¡Œä¸ºéªŒè¯æ˜¯éå¸¸æœ‰ç”¨çš„<strong>æµ‹è¯•æŠ€æœ¯ï¼Œ</strong>ä½†å®ƒå¹¶ä¸åˆé€‚ä½œä¸ºTDDçš„é»˜è®¤éªŒè¯æ–¹å¼ã€‚ä¸ºäº†ä¿è¯TDDä¸­çš„çº¢/ç»¿/é‡æ„å¾ªç¯ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡ä½¿ç”¨çŠ¶æ€éªŒè¯ã€‚</p><p>è‡³äºé™ä½æµ‹è¯•æˆæœ¬ï¼Œåœ¨äº‘æ—¶ä»£çš„ä»Šå¤©æˆ‘ä»¬æœ‰äº†å…¶ä»–çš„é€‰æ‹©ï¼ˆæ¯”å¦‚Test Containerã€Mountebankeç­‰è¿›ç¨‹å¤–æµ‹è¯•æ›¿èº«ï¼‰ï¼Œå¹¶ä¸ä¸€å®šéè¦ä½¿ç”¨è¡Œä¸ºéªŒè¯ã€‚</p><p>éœ€è¦æé†’çš„æ˜¯ï¼Œè™½ç„¶è¡Œä¸ºéªŒè¯ä¼šå¤§é‡ä½¿ç”¨æµ‹è¯•æ›¿èº«æŠ€æœ¯ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„æµ‹è¯•æ›¿èº«éƒ½æ˜¯è¡Œä¸ºéªŒè¯ã€‚Martin Folweråœ¨ä»–çš„åç¯‡<a href=\"https://martinfowler.com/articles/mocksArentStubs.html\">ã€ŠMockä¸æ˜¯Stubã€‹</a>ä¸­ï¼Œå¯¹äºä¸åŒçš„æµ‹è¯•æ›¿èº«ç»™äºˆäº†å……åˆ†çš„è¯´æ˜ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>è™½ç„¶æˆ‘ä»¬åå¤æé†’ï¼Œè¡Œä¸ºéªŒè¯ä¸é€‚åˆä½œä¸ºTDDçš„é»˜è®¤éªŒè¯æ–¹å¼ï¼Œé‚£ä¹ˆåœ¨å“ªäº›ç‰¹å®šæƒ…å†µä¸‹ï¼Œè¡Œä¸ºéªŒè¯æ—¢ä¸ä¼šå½±å“é‡æ„åˆèƒ½é™ä½æµ‹è¯•æˆæœ¬å‘¢ï¼Ÿ</p><p><strong>ç¼–è¾‘æ¥ä¿¡</strong>ï¼š</p><blockquote>\n<p>TDDæ˜¯ä¸€é¡¹æŠ€èƒ½ï¼Œå”¯æœ‰åŠ¨æ‰‹å®æ“ã€åå¤ç»ƒä¹ ï¼Œæ‰èƒ½æœ‰æ‰€å°æˆã€‚ä¸ºäº†å¸®åŠ©ä½ æ›´å¿«åœ°è¿›æ­¥ï¼Œå¾æ˜Šè€å¸ˆç‰¹å‘èµ·äº†<strong>â€œTDDä¸“æ é¦–å‘Â·ä»£ç è¯„ç‚¹â€</strong>æ´»åŠ¨ã€‚<br>\n<strong>ã€€</strong><br>\nåœ¨ç¬¬ä¸€ä¸ªå®æˆ˜é¡¹ç›®ç»“æŸåï¼Œæˆ‘ä»¬ä¼šæ ¹æ®ä½ æäº¤çš„<a href=\"https://jinshuju.net/f/TvdN15\">å­¦ä¹ åé¦ˆ</a>ï¼Œæ‰‹åŠ¨é€‰å‡ºå…¶ä¸­å‡ ä½è¿›è¡Œä»£ç è¯„ç‚¹ä¸è§£ç–‘ç­”æƒ‘ã€‚è€Œè¯„ç‚¹çš„è¯¦ç»†å†…å®¹æˆ‘ä»¬ä¹Ÿå°†åˆ¶æˆåŠ é¤ï¼Œå±•ç¤ºåœ¨ä¸“æ é‡Œï¼Œä¾›å…¶ä»–åŒå­¦å­¦ä¹ ä¸å‚è€ƒã€‚<br>\n<strong>ã€€</strong><br>\nåˆ’é‡ç‚¹ï¼å¦‚æœå­¦å®Œç¬¬1-10è®²å†å†™åé¦ˆï¼Œå°†ä¼šå¤§å¤§æé«˜ä½ å…¥é€‰çš„æœºä¼šï¼å¦ï¼Œæ­¤æ¬¡æ”¶é›†æ—¶é—´æˆªè‡³4æœˆ3æ—¥é›¶ç‚¹ã€‚æ‰€ä»¥éå¸¸å¸Œæœ›ä½ èƒ½è·Ÿä¸Šæˆ‘ä»¬çš„æ›´æ–°è¿›åº¦ï¼Œå¤šåŠ¨æ‰‹å®æ“ï¼Œå¹¶è®°å½•å­¦ä¹ ä½“ä¼šã€‚<br>\n<strong>ã€€</strong><br>\næœ€åï¼Œå¸Œæœ›æˆ‘ä»¬éƒ½èƒ½å¥½å¥½å­¦ä¹ ï¼Œæ›´ä¸Šå±‚æ¥¼ï¼</p>\n</blockquote>","neighbors":{"left":{"article_title":"05ï½œTDDä¸­çš„æµ‹è¯•ï¼ˆ1ï¼‰ï¼šçŠ¶æ€éªŒè¯ä¸ºä»€ä¹ˆæ˜¯ä¸»è¦çš„ä½¿ç”¨æ–¹å¼ï¼Ÿ","id":496697},"right":{"article_title":"07ï½œTDDä¸­çš„æµ‹è¯•ï¼ˆ3ï¼‰ï¼šé›†æˆæµ‹è¯•è¿˜æ˜¯å•å…ƒæµ‹è¯•ï¼Ÿ","id":496699}},"comments":[{"had_liked":false,"id":339134,"user_name":"é‚“å¿—å›½","can_delete":false,"product_type":"c1","uid":1043844,"ip_address":"","ucode":"380AE67ED7B9D7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/84/0b8e2d25.jpg","comment_is_top":false,"comment_ctime":1647935570,"is_pvip":false,"replies":[{"id":123944,"content":"good","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2537798,"ctime":1647943031,"ip_address":"","comment_id":339134,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"å¯¹ä¸€äº›ç¬¬ä¸‰æ–¹ç³»ç»Ÿçš„ä½¿ç”¨ï¼Œæ¯”å¦‚å‘é€çŸ­ä¿¡ã€‚æˆ‘å¯èƒ½åªéœ€è¦å…³å¿ƒçŸ­ä¿¡å‘é€è¿™ä¸ªåŠ¨ä½œæ˜¯å¦è¢«è°ƒç”¨äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™Mockå‘çŸ­ä¿¡çš„åŠ¨ä½œæˆ‘è§‰å¾—æ˜¯å¯ä»¥çš„ã€‚","like_count":23,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557726,"discussion_content":"good","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647943031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1016905,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/49/47d48fd0.jpg","nickname":"è§‚å¼ˆé“äºº","note":"","ucode":"F3BB619A33C605","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576158,"discussion_content":"å¦‚æœè¦tddçŸ­ä¿¡æ¥å£ï¼Œæ€ä¹ˆæ“ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655308417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":354856,"user_name":"leesper","can_delete":false,"product_type":"c1","uid":1351104,"ip_address":"åŒ—äº¬","ucode":"CC76320571BECA","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/c0/cb5341ec.jpg","comment_is_top":false,"comment_ctime":1660823757,"is_pvip":false,"replies":[{"id":129091,"content":"åœ¨æå®¢æ—¶é—´ä¸Šæœã€Šå¦‚ä½•è½åœ°ä¸šåŠ¡å»ºæ¨¡ã€‹ï¼Œä¹Ÿæ˜¯å¾æ˜Šè€å¸ˆçš„è¯¾ï¼Œé‡Œé¢è®²æœ‰DDD","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ç¼–è¾‘","uid":2189689,"ctime":1660837501,"ip_address":"åŒ—äº¬","comment_id":354856,"utype":2}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"è€å¸ˆï¼Œçœ‹ä½ è®²åˆ°é¢†åŸŸæ¨¡å‹ï¼Œé‚£æ‚¨ä¸€å®šä¹Ÿæ˜¯DDDé«˜æ‰‹å˜›ï¼Ÿèƒ½å¼€ä¸ªè¯¾è®²è®²DDDå—ï¼Œæ„Ÿè§‰è½åœ°å¥½éš¾","like_count":5,"discussions":[{"author":{"id":2189689,"avatar":"https://static001.geekbang.org/account/avatar/00/21/69/79/b4132042.jpg","nickname":"ğŸ‘","note":"","ucode":"DE34B3B14287D1","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584466,"discussion_content":"åœ¨æå®¢æ—¶é—´ä¸Šæœã€Šå¦‚ä½•è½åœ°ä¸šåŠ¡å»ºæ¨¡ã€‹ï¼Œä¹Ÿæ˜¯å¾æ˜Šè€å¸ˆçš„è¯¾ï¼Œé‡Œé¢è®²æœ‰DDD","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1660837501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343929,"user_name":"byemoto","can_delete":false,"product_type":"c1","uid":1016036,"ip_address":"","ucode":"B26060999DAA73","user_header":"","comment_is_top":false,"comment_ctime":1651125045,"is_pvip":false,"replies":[{"id":126090,"content":"å°½é‡é¿å… æ˜¯å‰¯ä½œç”¨å¤§ ä¸æ˜¯æ²¡ç”¨","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2537798,"ctime":1652265978,"ip_address":"","comment_id":343929,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"ã€ŠGoogleè½¯ä»¶å·¥ç¨‹ã€‹ä¹¦ä¸­ç¬¬13ç« æåˆ°ï¼Œåœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œäº¤äº’æµ‹è¯•æ˜¯å¿…è¦çš„ï¼š\n1. ä¸èƒ½ä½¿ç”¨å®é™…å®ç°æˆ–ä¼ªå®ç°ã€‚\n2. è°ƒç”¨å‡½æ•°çš„æ¬¡æ•°æˆ–é¡ºåºçš„å·®å¼‚ä¼šå¯¼è‡´éé¢„æœŸçš„è¡Œä¸ºã€‚\nè¿™é‡Œçš„äº¤äº’æµ‹è¯•å³è¡Œä¸ºéªŒè¯ã€‚","like_count":1,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571555,"discussion_content":"å°½é‡é¿å… æ˜¯å‰¯ä½œç”¨å¤§ ä¸æ˜¯æ²¡ç”¨","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1652265978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341257,"user_name":"davix","can_delete":false,"product_type":"c1","uid":1074465,"ip_address":"","ucode":"CBFB39BAD7938B","user_header":"https://static001.geekbang.org/account/avatar/00/10/65/21/101a7075.jpg","comment_is_top":false,"comment_ctime":1649487048,"is_pvip":false,"replies":[{"id":124760,"content":"çœ‹é£æ ¼ ä»£ç ç‚¹è¯„é‡Œ æˆ‘å†™äº†ä¸€ä¸ªhigh orderç»„åˆé£æ ¼ã€‚cpsï¼Œmondicæµ‹è¯•æŠ€å·§éƒ½ä¸å¤ªä¸€æ ·","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2537798,"ctime":1649551542,"ip_address":"","comment_id":341257,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"è«‹æ•™å‡½æ•¸å¼ç·¨ç¨‹ä¸­çš„æ¸¬è©¦ä¸€èˆ¬æ˜¯å“ªç¨®é¡å‹ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561091,"discussion_content":"çœ‹é£æ ¼ ä»£ç ç‚¹è¯„é‡Œ æˆ‘å†™äº†ä¸€ä¸ªhigh orderç»„åˆé£æ ¼ã€‚cpsï¼Œmondicæµ‹è¯•æŠ€å·§éƒ½ä¸å¤ªä¸€æ ·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649551542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339193,"user_name":"Adoy","can_delete":false,"product_type":"c1","uid":1029966,"ip_address":"","ucode":"6D11EBAD640E6D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b7/4e/d71e8d2f.jpg","comment_is_top":false,"comment_ctime":1647961932,"is_pvip":false,"replies":[{"id":123963,"content":"ä½ å¯ä»¥è¯•è¯•","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2537798,"ctime":1647969305,"ip_address":"","comment_id":339193,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"å¯¹äºæƒ³OptionParserè¿™æ ·è®¾è®¡æˆInverse of Controlé£æ ¼çš„APIï¼Œmockä¸€ä¸ªparseræ¥åšè¡Œä¸ºéªŒè¯æ¯”è¾ƒåˆç†ã€‚ç±»ä¼¼çš„å‰ç«¯onClickï¼ŒonChangeè¿™æ ·çš„APIï¼Œè¡Œä¸ºéªŒè¯çš„æµ‹è¯•å®ç°èµ·æ¥æ›´ç®€å•ç›´è§‚ï¼Œä¹Ÿä¸å½±å“ç»„å»ºå†…éƒ¨çš„é‡æ„ã€‚","like_count":1,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557821,"discussion_content":"ä½ å¯ä»¥è¯•è¯•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647969305,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2831425,"avatar":"","nickname":"Geek_a03aa5","note":"","ucode":"700D44BF7AC3D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577985,"discussion_content":"éªŒè¯ onClick è·Ÿ onChange åº”è¯¥è¿˜æ˜¯çŠ¶æ€éªŒè¯ï¼Œå› ä¸ºè¿™äº›æ˜¯å…¬å¼€ APIï¼Œè°ƒç”¨æ–¹å¯¹äºç»„ä»¶å†…éƒ¨çš„å®ç°ç»†èŠ‚ä»ç„¶æ˜¯æ²¡æœ‰æ„ŸçŸ¥çš„ã€‚å¦‚æœæ˜¯è¦éªŒè¯è¡Œä¸ºçš„è¯ï¼Œå¯èƒ½æ˜¯è¿™æ ·çš„ä¸€ä¸ªä¾‹å­ï¼š\n\n// foo.component.spec.ts\nexpect(Bar).haveBeenRendered();\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656458693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343245,"user_name":"lvxus","can_delete":false,"product_type":"c1","uid":1210917,"ip_address":"","ucode":"25891F9E96C670","user_header":"https://static001.geekbang.org/account/avatar/00/12/7a/25/be98886a.jpg","comment_is_top":false,"comment_ctime":1650724433,"is_pvip":false,"replies":[{"id":125346,"content":"å¯ä»¥é‡æ–°æ€è€ƒä¸€ä¸‹æµ‹è¯•é‡‘å­—å¡”åˆ°åº•æ˜¯ä»€ä¹ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2537798,"ctime":1650730968,"ip_address":"","comment_id":343245,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"å‚ç…§æµ‹è¯•é‡‘å­—å¡”ï¼Œå±‚çº§æœ€é«˜çš„é‚£å±‚ä½¿ç”¨è¡Œä¸ºæµ‹è¯•ï¼Œåº”è¯¥ç¬¦åˆå‡å°‘æˆæœ¬è€Œåˆä¸å¤ªå½±å“é‡æ„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":566704,"discussion_content":"å¯ä»¥é‡æ–°æ€è€ƒä¸€ä¸‹æµ‹è¯•é‡‘å­—å¡”åˆ°åº•æ˜¯ä»€ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650730968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341436,"user_name":"Sudouble","can_delete":false,"product_type":"c1","uid":1365574,"ip_address":"","ucode":"B369B09DAF8D20","user_header":"https://static001.geekbang.org/account/avatar/00/14/d6/46/5eb5261b.jpg","comment_is_top":false,"comment_ctime":1649604509,"is_pvip":false,"replies":[{"id":124801,"content":"å¦‚æœèƒ½é¢„çŸ¥æ”¹å˜ å°±ä¸ç”¨è¿™ä¹ˆéº»çƒ¦äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2537798,"ctime":1649724068,"ip_address":"","comment_id":341436,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"åŠŸèƒ½ã€ç»“æ„æœ¬èº«æ”¹åŠ¨ä¸å¤§ä¹‹å¤„ï¼Œé€‚ç”¨äºè¡Œä¸ºéªŒè¯ã€‚åŸºäºè¡Œä¸ºçš„éªŒè¯ä¸åˆé€‚çš„ä¸»è¦åŸå› åœ¨äºå®ç°æ–¹å¼å˜åŒ–ï¼Œä»¥åŠæ— æ³•æ„ŸçŸ¥åˆ°å®ç°å˜åŒ–åï¼Œå®é™…è¾“å…¥è¾“å‡ºå˜åŒ–ã€‚ç›¸åº”çš„ï¼Œä¸»è¦æ€è€ƒåœ¨äºå“ªä¸ªä½ç½®å˜åŒ–å°ï¼Ÿå¯ä»¥æ¨å¹¿è‡³å†ä¸Šå±‚çš„é›†æˆæµ‹è¯•ã€åŠŸèƒ½æµ‹è¯•çº§åˆ«ï¼Œæˆ–è€…è¯´APIæ¥å£ã€‚","like_count":0,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561758,"discussion_content":"å¦‚æœèƒ½é¢„çŸ¥æ”¹å˜ å°±ä¸ç”¨è¿™ä¹ˆéº»çƒ¦äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649724069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339316,"user_name":"é˜¿å´”cxr","can_delete":false,"product_type":"c1","uid":1177565,"ip_address":"","ucode":"26E2C7D96306A4","user_header":"https://static001.geekbang.org/account/avatar/00/11/f7/dd/c85f2065.jpg","comment_is_top":false,"comment_ctime":1648031751,"is_pvip":false,"replies":[{"id":124030,"content":"é‚£ä¸ºå•¥ä¸fake","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2537798,"ctime":1648033427,"ip_address":"","comment_id":339316,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"æ‰¾åˆ°ç¨‹åºçš„è¾¹ç•Œï¼Œå¯¹äºé‚£äº›éè‡ªå·±ç¨‹åºçš„é€»è¾‘ï¼Œæ¯”å¦‚ç¬¬ä¸‰æ–¹åº“ï¼Œå°±å¯ä»¥ mock æ‰ã€‚ä¹Ÿå°±æ˜¯ä½¿ç”¨è¡Œä¸ºæµ‹è¯•","like_count":0,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557977,"discussion_content":"é‚£ä¸ºå•¥ä¸fake","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648033427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339140,"user_name":"é‚“å¿—å›½","can_delete":false,"product_type":"c1","uid":1043844,"ip_address":"","ucode":"380AE67ED7B9D7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/84/0b8e2d25.jpg","comment_is_top":false,"comment_ctime":1647937124,"is_pvip":false,"replies":[{"id":123946,"content":"çŠ¶æ€éªŒè¯","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":2537798,"ctime":1647943109,"ip_address":"","comment_id":339140,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"å¦‚æœæˆ‘çš„ä¸šåŠ¡é€»è¾‘ä¾èµ–äºä¸€ä¸ªRepositoryæ¥å£ï¼Œæˆ‘ç”¨å†…å­˜å®ç°äº†ä¸€ä¸ªè¿™æ ·çš„æ¥å£ã€‚æ¯”å¦‚æµ‹è¯•ä¸€ä¸ªæ–°å¢åï¼Œæˆ‘ä¼šå»è¿™ä¸ªRepositoryå†…å­˜å®ç°ä¸­æŸ¥æ‰¾åˆ°æ–°å¢çš„å¯¹è±¡ã€‚è¿™æ ·çš„æµ‹è¯•æ›¿èº«ç®—æ˜¯è¡Œä¸ºéªŒè¯è¿˜æ˜¯çŠ¶æ€éªŒè¯ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2537798,"avatar":"https://static001.geekbang.org/account/avatar/00/26/b9/46/758ecf4a.jpg","nickname":"å¾å…«å‰","note":"","ucode":"DA6D1EB08A7396","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557729,"discussion_content":"çŠ¶æ€éªŒè¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647943109,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340798,"user_name":"ç¨‹åºè¢å¸…","can_delete":false,"product_type":"c1","uid":1017181,"ip_address":"","ucode":"C281CA64EC91A7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/85/5d/ec94b66d.jpg","comment_is_top":false,"comment_ctime":1649148521,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100109401,"comment_content":"æˆ‘ä¹‹å‰æŠŠã€ŠMock ä¸æ˜¯ Stubã€‹è¿™ç¯‡æ–‡ç« ç¿»è¯‘æˆäº†ä¸­æ–‡ï¼Œåˆ†äº«ç»™å¤§å®¶ï¼š\n\nhttps:&#47;&#47;www.yuque.com&#47;yuanshenjian&#47;agile&#47;mocks-are-not-stubs\n\nè¿™ç¯‡æ–‡ç« æœ‰ç‚¹é•¿ï¼Œä½†ä»”ç»†è¯»ä¸¤éï¼Œä¼šæœ‰å¾ˆå¤šæ”¶è·ï¼Œå¯ä»¥ä½œä¸ºCTOä¸“æ çš„å¾ˆå¥½è¡¥å……","like_count":31},{"had_liked":false,"id":357341,"user_name":"åŠªåŠ›åŠªåŠ›å†åŠªåŠ›","can_delete":false,"product_type":"c1","uid":1493907,"ip_address":"å¹¿ä¸œ","ucode":"0C6EEA28FCE8C7","user_header":"https://static001.geekbang.org/account/avatar/00/16/cb/93/124d8cd8.jpg","comment_is_top":false,"comment_ctime":1663164720,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100109401,"comment_content":"é—®é¢˜ï¼šè¡Œä¸ºéªŒè¯ä¸é€‚åˆä½œä¸º TDD çš„é»˜è®¤éªŒè¯æ–¹å¼ï¼Œé‚£ä¹ˆåœ¨å“ªäº›ç‰¹å®šæƒ…å†µä¸‹ï¼Œè¡Œä¸ºéªŒè¯æ—¢ä¸ä¼šå½±å“é‡æ„åˆèƒ½é™ä½æµ‹è¯•æˆæœ¬å‘¢ï¼Ÿ\n1. åº”è¯¥å°†è¡Œä¸ºéªŒè¯æ”¾åœ¨æ¥å£è€Œéå®ç°ä¸Šï¼Œä¾‹å¦‚è€å¸ˆä¾‹å­ä¸­çš„ EntityManager.createQuery æ–¹æ³•å°±æ˜¯ä¸€ç§å…·ä½“çš„å®ç°ï¼Œå¦‚æœåˆ›å»ºä¸€ä¸ªæ¥å£ Db.query() ï¼Œè¡Œä¸ºéªŒè¯åªéªŒè¯è¿™ä¸ªæ¥å£æ˜¯å¦è¢«è°ƒç”¨å³å¯ï¼Œå¯¹äºæ¥å£å†…å¦‚ä½•è¢«é‡æ„ï¼Œä¹Ÿä¸ä¼šå½±å“è¡Œä¸ºéªŒè¯çš„ç»“æœã€‚\n\næ€»ç»“ï¼šæˆ‘è®¤ä¸ºå°±æ˜¯ï¼Œè¡Œä¸ºéªŒè¯é€‚åˆä¸å˜çš„æ¥å£ï¼Œä¸é€‚åˆå…·ä½“çš„å®ç°","like_count":2},{"had_liked":false,"id":344890,"user_name":"zenk","can_delete":false,"product_type":"c1","uid":1013669,"ip_address":"","ucode":"B235D5EBCF49BC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/77/a5/c5ae871d.jpg","comment_is_top":false,"comment_ctime":1651836744,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100109401,"comment_content":"éªŒè¯æ˜¯å¦æ­£ç¡®è°ƒç”¨äº†ä¾èµ–çš„ç¬¬ä¸‰æ–¹ç»„ä»¶æä¾›çš„æ¥å£ï¼Œç”¨è¡Œä¸ºæ¥éªŒè¯æ„Ÿè§‰æ¯”è¾ƒé€‚åˆ","like_count":1},{"had_liked":false,"id":341259,"user_name":"davix","can_delete":false,"product_type":"c1","uid":1074465,"ip_address":"","ucode":"CBFB39BAD7938B","user_header":"https://static001.geekbang.org/account/avatar/00/10/65/21/101a7075.jpg","comment_is_top":false,"comment_ctime":1649488020,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100109401,"comment_content":"å¦‚æœæ¸¬è©¦å”è­°ï¼Œæ˜¯ä¸æ˜¯æ‡‰è©²ç”¨è¡Œç‚ºæ¸¬è©¦ï¼Ÿå‡å¦‚æˆ‘è¦è‡ªå·±å¯¦ç¾TCPï¼Œè¦ä¿è­‰å®ƒé–‹å§‹ä¸‰æ­¥æ¡æ‰‹çš„åŒ…å…§å®¹åŠæ¬¡åºçš„æ­£ç¢ºï¼Œslow startã€closeç­‰åŒ…æ¬¡åºæº–ç¢ºç­‰å ´æ™¯","like_count":1},{"had_liked":false,"id":390093,"user_name":"å£«å¿ƒ23","can_delete":false,"product_type":"c1","uid":3070613,"ip_address":"ä¸Šæµ·","ucode":"ADE597E88C3EC1","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/GUYEdkZwS6icOYHPhwhkXNsxficiaoDnxRbXibgS6iakpIwiajN6UMb8oDucMaiaORaPqRkyaCL84ApaiaRKPwiaKPDzTXA/132","comment_is_top":false,"comment_ctime":1714317754,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100109401,"comment_content":"repoä¸­çš„SQLè¯­å¥å¦‚ä½•éªŒè¯æ˜¯å¦å­˜åœ¨è¯­æ³•é”™è¯¯å‘¢ï¼Œæœ‰æ²¡æœ‰åŠæ³•æµ‹è¯•","like_count":0},{"had_liked":false,"id":358119,"user_name":"å¸¸æ–‡é¾™","can_delete":false,"product_type":"c1","uid":1204525,"ip_address":"å¹¿ä¸œ","ucode":"4A126159D24766","user_header":"https://static001.geekbang.org/account/avatar/00/12/61/2d/65f016bf.jpg","comment_is_top":false,"comment_ctime":1663920072,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100109401,"comment_content":"è¯¾åé¢˜ï¼šè¡Œä¸ºéªŒè¯ä¸é€‚åˆä½œä¸º TDD çš„é»˜è®¤éªŒè¯æ–¹å¼ï¼Œé‚£ä¹ˆåœ¨å“ªäº›ç‰¹å®šæƒ…å†µä¸‹ï¼Œè¡Œä¸ºéªŒè¯æ—¢ä¸ä¼šå½±å“é‡æ„åˆèƒ½é™ä½æµ‹è¯•æˆæœ¬å‘¢ï¼Ÿ\nç­”ï¼šå±äºSUTçš„å¥‘çº¦éƒ¨åˆ†ï¼Œå°±å¯ä»¥ç”¨ã€‚ä¹Ÿå°±æ˜¯ï¼ŒSUTå£°æ˜äº†è°ƒç”¨Aæ¥å£ï¼Œä¼šè¾¾åˆ°ä»€ä¹ˆæ•ˆæœï¼Œè¿™ä¸ªâ€œæ•ˆæœâ€å°±æ˜¯å¯ä»¥è¡Œä¸ºéªŒè¯çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œè°ƒç”¨äº†è®¢å•æ”¯ä»˜æ¥å£ï¼Œå°±ä¸€å®šä¼šåˆ›å»ºä¸€ä¸ªæ”¯ä»˜å•ï¼Œå› æ­¤å¯¹äºpayæ¥å£çš„è¡Œä¸ºéªŒè¯ï¼Œå°±æ˜¯createPayOrderè¢«è°ƒç”¨äº†ã€‚","like_count":0},{"had_liked":false,"id":355941,"user_name":"Geek","can_delete":false,"product_type":"c1","uid":1466335,"ip_address":"åŒ—äº¬","ucode":"1B8EB2C26DE4EC","user_header":"https://static001.geekbang.org/account/avatar/00/16/5f/df/3c4881f0.jpg","comment_is_top":false,"comment_ctime":1661863077,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100109401,"comment_content":"è€å¸ˆï¼Œæˆ‘ç†è§£åªè¦æ˜¯ä½¿ç”¨çš„æµ‹è¯•æ›¿èº«ï¼Œå¤šå°‘éƒ½ä¼šä¸§å¤±ä¸€äº›æµ‹è¯•æœ‰æ•ˆæ€§ã€‚æ¯”å¦‚è¯´åŸºäºstub&#47;fakeræ¥ä½œçŠ¶æ€éªŒè¯ï¼Œåº”è¯¥ä¹ŸéªŒè¯ä¸åˆ°é…ç½®é”™è¯¯çš„è¿™äº›æƒ…å†µ","like_count":0},{"had_liked":false,"id":345063,"user_name":"Rocky","can_delete":false,"product_type":"c1","uid":1483150,"ip_address":"","ucode":"5FCF390BECDF9D","user_header":"https://static001.geekbang.org/account/avatar/00/16/a1/8e/03aeb9df.jpg","comment_is_top":false,"comment_ctime":1651997074,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100109401,"comment_content":"æœ‰äº›æ–¹æ³•ä¾èµ–äº†ç¬¬ä¸‰æ–¹åº“ï¼Œåªè¦éªŒè¯æ˜¯å¦è°ƒç”¨äº†ç¬¬ä¸‰æ–¹åº“å³å¯ï¼Œä¸€èˆ¬ç¬¬ä¸‰æ–¹åº“ä¹Ÿä¼šæœ‰å…¶æœ¬èº«å®Œå¤‡çš„æµ‹è¯•ï¼Œè¿™ç§æƒ…å†µä¸‹è¡Œä¸ºéªŒè¯å°±æ˜¯å¿…è¦çš„äº†","like_count":0,"discussions":[{"author":{"id":1016905,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/49/47d48fd0.jpg","nickname":"è§‚å¼ˆé“äºº","note":"","ucode":"F3BB619A33C605","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576159,"discussion_content":"è¦éªŒè¯å¯¹ä¸‰æ–¹åº“å‚æ•°ä¼ çš„å¯¹ä¸å¯¹å’‹åŠ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655308489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344480,"user_name":"davix","can_delete":false,"product_type":"c1","uid":1074465,"ip_address":"","ucode":"CBFB39BAD7938B","user_header":"https://static001.geekbang.org/account/avatar/00/10/65/21/101a7075.jpg","comment_is_top":false,"comment_ctime":1651579531,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100109401,"comment_content":"è¡Œç‚ºé©—è­‰â€œé™ä½æµ‹è¯•æˆæœ¬â€ã€‚ç‹€æ…‹é©—è­‰ä¹Ÿä¸€æ¨£èƒ½åšåˆ°å§ï¼Œæ¯”å¦‚ç”¨ä¸€å€‹spyã€‚\nè€Œæœ‰æ•ˆæ€§å–ªå¤±ï¼ŒåŸå› æ˜¯é›†æˆæ¸¬è©¦è·Ÿå–®å…ƒæ¸¬è©¦çš„å€åˆ¥å§ã€‚å¦‚æœç‹€æ…‹é©—è­‰ç”¨spy (test doubleï¼‰ï¼Œæœ‰æ•ˆæ€§ä¹Ÿæœƒå–ªå¤±ã€‚","like_count":0},{"had_liked":false,"id":341157,"user_name":"æ±—é¦™","can_delete":false,"product_type":"c1","uid":1807921,"ip_address":"","ucode":"8F2C8A595F888A","user_header":"https://static001.geekbang.org/account/avatar/00/1b/96/31/91cc9c3c.jpg","comment_is_top":false,"comment_ctime":1649395353,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100109401,"comment_content":"å¦‚æœä¸€ä¸ªå‡½æ•°çš„æ„å›¾å°±æ˜¯æŸä¸ªè¡Œä¸ºæ—¶å¯ä»¥ç”¨è¡Œä¸ºéªŒè¯ï¼›\nå¦‚ï¼šç”¨æˆ·æ‰§è¡ŒXXæ“ä½œåè¦å‘é€å¯¹åº”çš„æ¶ˆæ¯åˆ°ä¸­é—´ä»¶ï¼Œè€Œè¿™ä¸ªæ¶ˆæ¯çš„æ¶ˆè´¹ä¸æ˜¯æœ¬æ–¹æ³•æ‰€å…³å¿ƒçš„ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨è¡Œä¸ºéªŒè¯","like_count":0},{"had_liked":false,"id":340754,"user_name":"è€ç‹—","can_delete":false,"product_type":"c1","uid":1540332,"ip_address":"","ucode":"80927B4D31CFCE","user_header":"https://static001.geekbang.org/account/avatar/00/17/80/ec/b6149cbf.jpg","comment_is_top":false,"comment_ctime":1649119660,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100109401,"comment_content":"å¯¹äºè¿›ç¨‹é—´çš„ä¾èµ–ï¼Œæˆ‘ä»¬èƒ½fakeçš„å°½é‡ç”¨fakeï¼Œè¯¸å¦‚ç”¨h2 fakeæ•°æ®åº“ï¼Œç”¨wireMockå»fakeä¸€ä¸ªå…¶ä»–æœåŠ¡æˆ–è€…ä¸‰æ–¹æœåŠ¡ï¼ˆå…¶ä»–ä¸šåŠ¡æœåŠ¡è¯¸å¦‚è®¢å•æœåŠ¡ã€ç”¨æˆ·æœåŠ¡ç­‰ï¼Œä¸‰æ–¹åŠŸèƒ½è¯¸å¦‚æ”¯ä»˜ã€é‚®ä»¶ã€çŸ­ä¿¡ç­‰ï¼‰ï¼Œä½†æ˜¯ä½†æ˜¯æœ‰äº›é›†æˆæ–¹å¼ï¼Œfakeæˆæœ¬è¾ƒé«˜ï¼Œï¼ˆæ¯”å¦‚æ¶ˆæ¯é˜Ÿåˆ—æˆ–è€…è¿›ç¨‹é—´RPCï¼‰è€Œä¸”é›†æˆåè®®è¾ƒç¨³å®šï¼ŒéªŒè¯çš„æ€§ä»·æ¯”ä¸é«˜æ—¶ï¼Œé‡‡ç”¨è¡Œä¸ºéªŒè¯","like_count":0},{"had_liked":false,"id":339619,"user_name":"Geek_wip5z8","can_delete":false,"product_type":"c1","uid":1114772,"ip_address":"","ucode":"2F075AC7E3847D","user_header":"https://static001.geekbang.org/account/avatar/00/11/02/94/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1648236427,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100109401,"comment_content":"ç¬¬ä¸€æ¬¡æ˜ç™½äº†è¡Œä¸ºæµ‹è¯•å’ŒçŠ¶æ€æµ‹è¯•çš„åŒºåˆ«ï¼Œèµï¼ï¼ï¼","like_count":0}]}
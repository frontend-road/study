{"id":172000,"title":"06ä¸¨æ•°æ®åº“åŸç†ï¼šä¸ºä»€ä¹ˆPrepareStatementæ€§èƒ½æ›´å¥½æ›´å®‰å…¨ï¼Ÿ","content":"<p>åšåº”ç”¨å¼€å‘çš„åŒå­¦å¸¸å¸¸è§‰å¾—æ•°æ®åº“ç”±DBAè¿ç»´ï¼Œè‡ªå·±ä¼šå†™SQLå°±å¯ä»¥äº†ï¼Œæ•°æ®åº“åŸç†ä¸éœ€è¦å­¦ä¹ ã€‚å…¶å®å³ä½¿æ˜¯å†™SQLä¹Ÿéœ€è¦äº†è§£æ•°æ®åº“åŸç†ï¼Œæ¯”å¦‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒSQLçš„æŸ¥è¯¢æ¡ä»¶å°½é‡åŒ…å«ç´¢å¼•å­—æ®µï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™æ ·åšæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿä½ ä¹Ÿè®¸ä¼šè¯´ï¼Œä½¿ç”¨ç´¢å¼•è¿›è¡ŒæŸ¥è¯¢é€Ÿåº¦å¿«ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆé€Ÿåº¦å¿«å‘¢ï¼Ÿ</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬åœ¨Javaç¨‹åºä¸­è®¿é—®æ•°æ®åº“çš„æ—¶å€™ï¼Œæœ‰ä¸¤ç§æäº¤SQLè¯­å¥çš„æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡Statementç›´æ¥æäº¤SQLï¼›å¦ä¸€ç§æ˜¯å…ˆé€šè¿‡PrepareStatementé¢„ç¼–è¯‘SQLï¼Œç„¶åè®¾ç½®å¯å˜å‚æ•°å†æäº¤æ‰§è¡Œã€‚</p><p>Statementç›´æ¥æäº¤çš„æ–¹å¼å¦‚ä¸‹ï¼š</p><pre><code>statement.executeUpdate(&quot;UPDATE Users SET stateus = 2 WHERE userID=233&quot;);\n</code></pre><p>PrepareStatementé¢„ç¼–è¯‘çš„æ–¹å¼å¦‚ä¸‹ï¼š</p><pre><code>PreparedStatement updateUser = con.prepareStatement(&quot;UPDATE Users SET stateus = ? WHERE userID = ?&quot;); \nupdateUser.setInt(1, 2); \nupdateUser.setInt(2,233); \nupdateUser.executeUpdate();\n</code></pre><p>çœ‹ä»£ç ï¼Œä¼¼ä¹ç¬¬ä¸€ç§æ–¹å¼æ›´åŠ ç®€å•ï¼Œä½†æ˜¯ç¼–ç¨‹å®è·µä¸­ï¼Œä¸»è¦ç”¨ç¬¬äºŒç§ã€‚ä½¿ç”¨MyBatisç­‰ORMæ¡†æ¶æ—¶ï¼Œè¿™äº›æ¡†æ¶å†…éƒ¨ä¹Ÿæ˜¯ç”¨ç¬¬äºŒç§æ–¹å¼æäº¤SQLã€‚é‚£ä¸ºä»€ä¹ˆè¦èˆç®€å•è€Œæ±‚å¤æ‚å‘¢ï¼Ÿ</p><p>è¦å›ç­”ä¸Šé¢è¿™äº›é—®é¢˜ï¼Œéƒ½éœ€è¦äº†è§£æ•°æ®åº“çš„åŸç†ï¼ŒåŒ…æ‹¬æ•°æ®åº“çš„æ¶æ„åŸç†ä¸æ•°æ®åº“æ–‡ä»¶çš„å­˜å‚¨åŸç†ã€‚</p><h2>æ•°æ®åº“æ¶æ„ä¸SQLæ‰§è¡Œè¿‡ç¨‹</h2><p>æˆ‘ä»¬å…ˆçœ‹çœ‹æ•°æ®åº“æ¶æ„åŸç†ä¸SQLæ‰§è¡Œè¿‡ç¨‹ã€‚</p><p>å…³ç³»æ•°æ®åº“ç³»ç»ŸRDBMSæœ‰å¾ˆå¤šç§ï¼Œä½†æ˜¯è¿™äº›å…³ç³»æ•°æ®åº“çš„æ¶æ„åŸºæœ¬ä¸Šå·®ä¸å¤šï¼ŒåŒ…æ‹¬æ”¯æŒSQLè¯­æ³•çš„Hadoopå¤§æ•°æ®ä»“åº“ï¼Œä¹ŸåŸºæœ¬ä¸Šéƒ½æ˜¯ç›¸ä¼¼çš„æ¶æ„ã€‚ä¸€ä¸ªSQLæäº¤åˆ°æ•°æ®åº“ï¼Œç»è¿‡è¿æ¥å™¨å°†SQLè¯­å¥äº¤ç»™è¯­æ³•åˆ†æå™¨ï¼Œç”Ÿæˆä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘ASTï¼›ASTç»è¿‡è¯­ä¹‰åˆ†æä¸ä¼˜åŒ–å™¨ï¼Œè¿›è¡Œè¯­ä¹‰ä¼˜åŒ–ï¼Œä½¿è®¡ç®—è¿‡ç¨‹å’Œéœ€è¦è·å–çš„ä¸­é—´æ•°æ®å°½å¯èƒ½å°‘ï¼Œç„¶åå¾—åˆ°æ•°æ®åº“æ‰§è¡Œè®¡åˆ’ï¼›æ‰§è¡Œè®¡åˆ’æäº¤ç»™å…·ä½“çš„æ‰§è¡Œå¼•æ“è¿›è¡Œè®¡ç®—ï¼Œå°†ç»“æœé€šè¿‡è¿æ¥å™¨å†è¿”å›ç»™åº”ç”¨ç¨‹åºã€‚</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/fa/17/faec977f77e80f6d116e40735cf21e17.png?wh=1502*176\" alt=\"\"><br>\nåº”ç”¨ç¨‹åºæäº¤SQLåˆ°æ•°æ®åº“æ‰§è¡Œï¼Œé¦–å…ˆéœ€è¦å»ºç«‹ä¸æ•°æ®åº“çš„è¿æ¥ï¼Œæ•°æ®åº“<strong>è¿æ¥å™¨</strong>ä¼šä¸ºæ¯ä¸ªè¿æ¥è¯·æ±‚åˆ†é…ä¸€å—ä¸“ç”¨çš„å†…å­˜ç©ºé—´ç”¨äºä¼šè¯ä¸Šä¸‹æ–‡ç®¡ç†ã€‚å»ºç«‹è¿æ¥å¯¹æ•°æ®åº“è€Œè¨€ç›¸å¯¹æ¯”è¾ƒé‡ï¼Œéœ€è¦èŠ±è´¹ä¸€å®šçš„æ—¶é—´ï¼Œå› æ­¤åº”ç”¨ç¨‹åºå¯åŠ¨çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šåˆå§‹åŒ–å»ºç«‹ä¸€äº›æ•°æ®åº“è¿æ¥æ”¾åœ¨è¿æ¥æ± é‡Œï¼Œè¿™æ ·å½“å¤„ç†å¤–éƒ¨è¯·æ±‚æ‰§è¡ŒSQLæ“ä½œçš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦èŠ±è´¹æ—¶é—´å»ºç«‹è¿æ¥äº†ã€‚</p><p>è¿™äº›è¿æ¥ä¸€æ—¦å»ºç«‹ï¼Œä¸ç®¡æ˜¯å¦æœ‰SQLæ‰§è¡Œï¼Œéƒ½ä¼šæ¶ˆè€—ä¸€å®šçš„æ•°æ®åº“å†…å­˜èµ„æºï¼Œæ‰€ä»¥å¯¹äºä¸€ä¸ªå¤§è§„æ¨¡äº’è”ç½‘åº”ç”¨é›†ç¾¤æ¥è¯´ï¼Œå¦‚æœå¯åŠ¨äº†å¾ˆå¤šåº”ç”¨ç¨‹åºå®ä¾‹ï¼Œè¿™äº›ç¨‹åºæ¯ä¸ªéƒ½ä¼šå’Œæ•°æ®åº“å»ºç«‹è‹¥å¹²ä¸ªè¿æ¥ï¼Œå³ä½¿ä¸æäº¤SQLåˆ°æ•°æ®åº“æ‰§è¡Œï¼Œä¹Ÿå°±ä¼šå¯¹æ•°æ®åº“äº§ç”Ÿå¾ˆå¤§çš„å‹åŠ›ã€‚</p><p>æ‰€ä»¥åº”ç”¨ç¨‹åºéœ€è¦å¯¹æ•°æ®åº“è¿æ¥è¿›è¡Œç®¡ç†ï¼Œä¸€æ–¹é¢é€šè¿‡è¿æ¥æ± å¯¹è¿æ¥è¿›è¡Œç®¡ç†ï¼Œç©ºé—²è¿æ¥ä¼šè¢«åŠæ—¶é‡Šæ”¾ï¼›å¦ä¸€æ–¹é¢å¾®æœåŠ¡æ¶æ„å¯ä»¥å¤§å¤§å‡å°‘æ•°æ®åº“è¿æ¥ï¼Œæ¯”å¦‚å¯¹äºç”¨æˆ·æ•°æ®åº“æ¥è¯´ï¼Œæ‰€æœ‰åº”ç”¨éƒ½éœ€è¦è¿æ¥åˆ°ç”¨æˆ·æ•°æ®åº“ï¼Œè€Œå¦‚æœåˆ’åˆ†ä¸€ä¸ªç”¨æˆ·å¾®æœåŠ¡å¹¶ç‹¬ç«‹éƒ¨ç½²ä¸€ä¸ªæ¯”è¾ƒå°çš„é›†ç¾¤ï¼Œé‚£ä¹ˆå°±åªæœ‰è¿™å‡ ä¸ªç”¨æˆ·å¾®æœåŠ¡å®ä¾‹éœ€è¦è¿æ¥ç”¨æˆ·æ•°æ®åº“ï¼Œéœ€è¦å»ºç«‹çš„è¿æ¥æ•°é‡å¤§å¤§å‡å°‘ã€‚</p><p>è¿æ¥å™¨æ”¶åˆ°SQLä»¥åï¼Œä¼šå°†SQLäº¤ç»™<strong>è¯­æ³•åˆ†æå™¨</strong>è¿›è¡Œå¤„ç†ï¼Œè¯­æ³•åˆ†æå™¨å·¥ä½œæ¯”è¾ƒç®€å•æœºæ¢°ï¼Œå°±æ˜¯æ ¹æ®SQLè¯­æ³•è§„åˆ™ç”Ÿæˆå¯¹åº”çš„æŠ½è±¡è¯­æ³•æ ‘ã€‚</p><p>å¦‚æœSQLè¯­å¥ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯ï¼Œé‚£ä¹ˆåœ¨ç”Ÿæˆè¯­æ³•æ ‘çš„æ—¶å€™å°±ä¼šæŠ¥é”™ï¼Œæ¯”å¦‚ï¼Œä¸‹é¢è¿™ä¸ªä¾‹å­ä¸­SQLè¯­å¥é‡Œçš„whereæ‹¼å†™é”™è¯¯ï¼ŒMySQLå°±ä¼šæŠ¥é”™ã€‚</p><pre><code>mysql&gt; explain select * from users whee id = 1;\n\nERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'id = 1' at line 1\n</code></pre><p>å› ä¸ºè¯­æ³•é”™è¯¯æ˜¯åœ¨æ„å»ºæŠ½è±¡è¯­æ³•æ ‘çš„æ—¶å€™å‘ç°çš„ï¼Œæ‰€ä»¥èƒ½å¤ŸçŸ¥é“ï¼Œé”™è¯¯æ˜¯å‘ç”Ÿåœ¨å“ªé‡Œã€‚ä¸Šé¢ä¾‹å­ä¸­ï¼Œè™½ç„¶è¯­æ³•åˆ†æå™¨ä¸èƒ½çŸ¥é“wheeæ˜¯ä¸€ä¸ªè¯­æ³•æ‹¼å†™é”™è¯¯ï¼Œå› ä¸ºè¿™ä¸ªwheeå¯èƒ½æ˜¯è¡¨åusersçš„åˆ«åï¼Œä½†æ˜¯è¯­æ³•åˆ†æå™¨åœ¨æ„å»ºè¯­æ³•æ ‘åˆ°äº†<code>id=1</code>è¿™é‡Œçš„æ—¶å€™å°±å‡ºé”™äº†ï¼Œæ‰€ä»¥è¿”å›çš„æŠ¥é”™ä¿¡æ¯å¯ä»¥æç¤ºï¼Œåœ¨<code>'id = 1'</code>é™„è¿‘æœ‰è¯­æ³•é”™è¯¯ã€‚</p><p>è¯­æ³•åˆ†æå™¨ç”Ÿæˆçš„æŠ½è±¡è¯­æ³•æ ‘å¹¶ä¸ä»…ä»…å¯ä»¥ç”¨æ¥åšè¯­æ³•æ ¡éªŒï¼Œå®ƒä¹Ÿæ˜¯ä¸‹ä¸€æ­¥å¤„ç†çš„åŸºç¡€ã€‚è¯­ä¹‰åˆ†æä¸ä¼˜åŒ–å™¨ä¼šå¯¹æŠ½è±¡è¯­æ³•æ ‘è¿›ä¸€æ­¥åšè¯­ä¹‰ä¼˜åŒ–ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¿è¯SQLè¯­ä¹‰ä¸å˜çš„å‰æä¸‹ï¼Œè¿›è¡Œè¯­ä¹‰ç­‰ä»·è½¬æ¢ï¼Œä½¿æœ€åçš„è®¡ç®—é‡å’Œä¸­é—´è¿‡ç¨‹æ•°æ®é‡å°½å¯èƒ½å°ã€‚</p><p>æ¯”å¦‚å¯¹äºè¿™æ ·ä¸€ä¸ªSQLè¯­å¥ï¼Œå…¶è¯­ä¹‰æ˜¯è¡¨ç¤ºä»usersè¡¨ä¸­å–å‡ºæ¯ä¸€ä¸ªidå’Œorderè¡¨å½“å‰è®°å½•æ¯”è¾ƒï¼Œæ˜¯å¦ç›¸ç­‰ã€‚</p><pre><code>select f.id from orders f where f.user_id = (select id from users);\n</code></pre><p>äº‹å®ä¸Šï¼Œè¿™ä¸ªSQLè¯­å¥åœ¨è¯­ä¹‰ä¸Šç­‰ä»·äºä¸‹é¢è¿™æ¡SQLè¯­å¥ï¼Œè¡¨é—´è®¡ç®—å…³ç³»æ›´åŠ æ¸…æ™°ã€‚</p><pre><code>select f.id from orders f join users u on f.user_id = u.id;\n</code></pre><p>SQLè¯­ä¹‰åˆ†æä¸ä¼˜åŒ–å™¨å°±æ˜¯è¦å°†å„ç§å¤æ‚åµŒå¥—çš„SQLè¿›è¡Œè¯­ä¹‰ç­‰ä»·è½¬åŒ–ï¼Œå¾—åˆ°æœ‰é™å‡ ç§å…³ç³»ä»£æ•°è®¡ç®—ç»“æ„ï¼Œå¹¶åˆ©ç”¨ç´¢å¼•ç­‰ä¿¡æ¯è¿›ä¸€æ­¥è¿›è¡Œä¼˜åŒ–ã€‚å¯ä»¥è¯´ï¼Œå„ä¸ªæ•°æ®åº“æœ€é»‘ç§‘æŠ€çš„éƒ¨åˆ†å°±æ˜¯åœ¨ä¼˜åŒ–è¿™é‡Œäº†ã€‚</p><p>è¯­ä¹‰åˆ†æä¸ä¼˜åŒ–å™¨æœ€åä¼šè¾“å‡ºä¸€ä¸ªæ‰§è¡Œè®¡åˆ’ï¼Œç”±æ‰§è¡Œå¼•æ“å®Œæˆæ•°æ®æŸ¥è¯¢æˆ–è€…æ›´æ–°ã€‚MySQLæ‰§è¡Œè®¡åˆ’çš„ä¾‹å­å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/f8/55/f8dd0ab58f327832485bb412b2ca1b55.png?wh=1698*166\" alt=\"\"><br>\næ‰§è¡Œå¼•æ“æ˜¯å¯æ›¿æ¢çš„ï¼Œåªè¦èƒ½å¤Ÿæ‰§è¡Œè¿™ä¸ªæ‰§è¡Œè®¡åˆ’å°±å¯ä»¥äº†ã€‚æ‰€ä»¥MySQLæœ‰å¤šç§æ‰§è¡Œå¼•æ“ï¼ˆä¹Ÿå«å­˜å‚¨å¼•æ“ï¼‰å¯ä»¥é€‰æ‹©ï¼Œç¼ºçœçš„æ˜¯InnoDBï¼Œæ­¤å¤–è¿˜æœ‰MyISAMã€Memoryç­‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™æŒ‡å®šå­˜å‚¨å¼•æ“ã€‚å¤§æ•°æ®ä»“åº“Hiveä¹Ÿæ˜¯è¿™æ ·çš„æ¶æ„ï¼ŒHiveè¾“å‡ºçš„æ‰§è¡Œè®¡åˆ’å¯ä»¥åœ¨Hadoopä¸Šæ‰§è¡Œã€‚</p><h2>ä½¿ç”¨PrepareStatementæ‰§è¡ŒSQLçš„å¥½å¤„</h2><p>å¥½äº†ï¼Œäº†è§£äº†æ•°æ®åº“æ¶æ„ä¸SQLæ‰§è¡Œè¿‡ç¨‹ä¹‹åï¼Œè®©æˆ‘ä»¬å›åˆ°å¼€å¤´çš„é—®é¢˜ï¼Œåº”ç”¨ç¨‹åºä¸ºä»€ä¹ˆåº”è¯¥ä½¿ç”¨PrepareStatementæ‰§è¡ŒSQLï¼Ÿ</p><p>è¿™æ ·åšä¸»è¦æœ‰ä¸¤ä¸ªå¥½å¤„ã€‚</p><p>ä¸€ä¸ªæ˜¯PrepareStatementä¼šé¢„å…ˆæäº¤å¸¦å ä½ç¬¦çš„SQLåˆ°æ•°æ®åº“è¿›è¡Œé¢„å¤„ç†ï¼Œæå‰ç”Ÿæˆæ‰§è¡Œè®¡åˆ’ï¼Œå½“ç»™å®šå ä½ç¬¦å‚æ•°ï¼ŒçœŸæ­£æ‰§è¡ŒSQLçš„æ—¶å€™ï¼Œæ‰§è¡Œå¼•æ“å¯ä»¥ç›´æ¥æ‰§è¡Œï¼Œæ•ˆç‡æ›´å¥½ä¸€ç‚¹ã€‚</p><p>å¦ä¸€ä¸ªå¥½å¤„åˆ™æ›´ä¸ºé‡è¦ï¼ŒPrepareStatementå¯ä»¥é˜²æ­¢SQLæ³¨å…¥æ”»å‡»ã€‚å‡è®¾æˆ‘ä»¬å…è®¸ç”¨æˆ·é€šè¿‡Appè¾“å…¥ä¸€ä¸ªåå­—åˆ°æ•°æ®ä¸­å¿ƒæŸ¥æ‰¾ç”¨æˆ·ä¿¡æ¯ï¼Œå¦‚æœç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²æ˜¯Frankï¼Œé‚£ä¹ˆç”Ÿæˆçš„SQLæ˜¯è¿™æ ·çš„ï¼š</p><pre><code>select * from users where username = 'Frank';\n</code></pre><p>ä½†æ˜¯å¦‚æœç”¨æˆ·è¾“å…¥çš„æ˜¯è¿™æ ·ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š</p><pre><code>Frank';drop table users;--\n</code></pre><p>é‚£ä¹ˆç”Ÿæˆçš„SQLå°±æ˜¯è¿™æ ·çš„ï¼š</p><pre><code>select * from users where username = 'Frank';drop table users;--';\n</code></pre><p>è¿™æ¡SQLæäº¤åˆ°æ•°æ®åº“ä»¥åï¼Œä¼šè¢«å½“åšä¸¤æ¡SQLæ‰§è¡Œï¼Œä¸€æ¡æ˜¯æ­£å¸¸çš„selectæŸ¥è¯¢SQLï¼Œä¸€æ¡æ˜¯åˆ é™¤usersè¡¨çš„SQLã€‚é»‘å®¢æäº¤ä¸€ä¸ªè¯·æ±‚ç„¶åusersè¡¨è¢«åˆ é™¤äº†ï¼Œç³»ç»Ÿå´©æºƒäº†ï¼Œè¿™å°±æ˜¯SQLæ³¨å…¥æ”»å‡»ã€‚</p><p>å¦‚æœç”¨Statementæäº¤SQLå°±ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚</p><p>ä½†å¦‚æœç”¨PrepareStatementåˆ™å¯ä»¥é¿å…SQLè¢«æ³¨å…¥æ”»å‡»ã€‚å› ä¸ºä¸€å¼€å§‹æ„é€ PrepareStatementçš„æ—¶å€™å°±å·²ç»æäº¤äº†æŸ¥è¯¢SQLï¼Œå¹¶è¢«æ•°æ®åº“é¢„å…ˆç”Ÿæˆå¥½äº†æ‰§è¡Œè®¡åˆ’ï¼Œåé¢é»‘å®¢ä¸ç®¡æäº¤ä»€ä¹ˆæ ·çš„å­—ç¬¦ä¸²ï¼Œéƒ½åªèƒ½äº¤ç»™è¿™ä¸ªæ‰§è¡Œè®¡åˆ’å»æ‰§è¡Œï¼Œä¸å¯èƒ½å†ç”Ÿæˆä¸€ä¸ªæ–°çš„SQLäº†ï¼Œä¹Ÿå°±ä¸ä¼šè¢«æ”»å‡»äº†ã€‚</p><pre><code>select * from users where username = ?;\n</code></pre><h2>æ•°æ®åº“æ–‡ä»¶å­˜å‚¨åŸç†</h2><p>å›åˆ°æ–‡ç« å¼€å¤´æå‡ºçš„å¦ä¸€ä¸ªé—®é¢˜ï¼Œæ•°æ®åº“é€šè¿‡ç´¢å¼•è¿›è¡ŒæŸ¥è¯¢èƒ½åŠ å¿«æŸ¥è¯¢é€Ÿåº¦ï¼Œé‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆç´¢å¼•èƒ½åŠ å¿«æŸ¥è¯¢é€Ÿåº¦å‘¢ï¼Ÿ</p><p>æ•°æ®åº“ç´¢å¼•ä½¿ç”¨B+æ ‘ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸‹B+æ ‘è¿™ç§æ•°æ®ç»“æ„ã€‚B+æ ‘æ˜¯ä¸€ç§Nå‰æ’åºæ ‘ï¼Œæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹åŒ…å«Nä¸ªæ•°æ®ï¼Œè¿™äº›æ•°æ®æŒ‰é¡ºåºæ’å¥½ï¼Œä¸¤ä¸ªæ•°æ®ä¹‹é—´æ˜¯ä¸€ä¸ªæŒ‡å‘å­èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œè€Œå­èŠ‚ç‚¹çš„æ•°æ®åˆ™åœ¨è¿™ä¸¤ä¸ªæ•°æ®å¤§å°ä¹‹é—´ã€‚</p><p>å¦‚ä¸‹å›¾ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/f4/56/f45e421a8e5172b9bc9fd1709fc98456.png?wh=896*506\" alt=\"\"><br>\nB+æ ‘çš„èŠ‚ç‚¹å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨1000å¤šä¸ªæ•°æ®ï¼Œè¿™æ ·æ ‘çš„æ·±åº¦æœ€å¤šåªè¦4å±‚ï¼Œå°±å¯å­˜å‚¨æ•°äº¿çš„æ•°æ®ã€‚å¦‚æœå°†æ ‘çš„æ ¹èŠ‚ç‚¹ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œåˆ™æœ€å¤šåªéœ€è¦ä¸‰æ¬¡ç£ç›˜è®¿é—®å°±å¯ä»¥æ£€ç´¢åˆ°éœ€è¦çš„ç´¢å¼•æ•°æ®ã€‚</p><p>B+æ ‘åªæ˜¯åŠ å¿«äº†ç´¢å¼•çš„æ£€ç´¢é€Ÿåº¦ï¼Œå¦‚ä½•é€šè¿‡ç´¢å¼•åŠ å¿«æ•°æ®åº“è®°å½•çš„æŸ¥è¯¢é€Ÿåº¦å‘¢ï¼Ÿ</p><p>æ•°æ®åº“ç´¢å¼•æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯èšç°‡ç´¢å¼•ï¼Œèšç°‡ç´¢å¼•çš„æ•°æ®åº“è®°å½•å’Œç´¢å¼•å­˜å‚¨åœ¨ä¸€èµ·ï¼Œä¸Šé¢è¿™å¼ å›¾å°±æ˜¯èšç°‡ç´¢å¼•çš„ç¤ºæ„å›¾ï¼Œåœ¨å¶å­èŠ‚ç‚¹ï¼Œç´¢å¼•1å’Œè®°å½•è¡Œr1å­˜å‚¨åœ¨ä¸€èµ·ï¼ŒæŸ¥æ‰¾åˆ°ç´¢å¼•å°±æ˜¯æŸ¥æ‰¾åˆ°æ•°æ®åº“è®°å½•ã€‚åƒMySQLæ•°æ®åº“çš„ä¸»é”®å°±æ˜¯èšç°‡ç´¢å¼•ï¼Œä¸»é”®IDå’Œæ‰€åœ¨çš„è®°å½•è¡Œå­˜å‚¨åœ¨ä¸€èµ·ã€‚MySQLçš„æ•°æ®åº“æ–‡ä»¶å®é™…ä¸Šæ˜¯ä»¥ä¸»é”®ä½œä¸ºä¸­é—´èŠ‚ç‚¹ï¼Œè¡Œè®°å½•ä½œä¸ºå¶å­èŠ‚ç‚¹çš„ä¸€é¢—B+æ ‘ã€‚</p><p>å¦ä¸€ç§æ•°æ®åº“ç´¢å¼•æ˜¯éèšç°‡ç´¢å¼•ï¼Œéèšç°‡ç´¢å¼•åœ¨å¶å­èŠ‚ç‚¹è®°å½•çš„å°±ä¸æ˜¯æ•°æ®è¡Œè®°å½•ï¼Œè€Œæ˜¯èšç°‡ç´¢å¼•ï¼Œä¹Ÿå°±æ˜¯ä¸»é”®ï¼Œå¦‚ä¸‹å›¾ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/58/51/580f1aa37880751f81e89d4a53ae3f51.png?wh=894*506\" alt=\"\"><br>\né€šè¿‡B+æ ‘åœ¨å¶å­èŠ‚ç‚¹æ‰¾åˆ°éèšç°‡ç´¢å¼•aï¼Œå’Œç´¢å¼•aåœ¨ä¸€èµ·å­˜å‚¨çš„æ˜¯ä¸»é”®1ï¼Œå†æ ¹æ®ä¸»é”®1é€šè¿‡ä¸»é”®ï¼ˆèšç°‡ï¼‰ç´¢å¼•å°±å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„è®°å½•r1ï¼Œè¿™ç§é€šè¿‡éèšç°‡ç´¢å¼•æ‰¾åˆ°ä¸»é”®ç´¢å¼•ï¼Œå†é€šè¿‡ä¸»é”®ç´¢å¼•æ‰¾åˆ°è¡Œè®°å½•çš„è¿‡ç¨‹ä¹Ÿè¢«ç§°ä½œå›è¡¨ã€‚</p><p>æ‰€ä»¥é€šè¿‡ç´¢å¼•ï¼Œå¯ä»¥å¿«é€ŸæŸ¥è¯¢åˆ°éœ€è¦çš„è®°å½•ï¼Œè€Œå¦‚æœè¦æŸ¥è¯¢çš„å­—æ®µä¸Šæ²¡æœ‰å»ºç´¢å¼•ï¼Œå°±åªèƒ½æ‰«ææ•´å¼ è¡¨äº†ï¼ŒæŸ¥è¯¢é€Ÿåº¦å°±ä¼šæ…¢å¾ˆå¤šã€‚</p><p>æ•°æ®åº“é™¤äº†ç´¢å¼•çš„B+æ ‘æ–‡ä»¶ï¼Œè¿˜æœ‰ä¸€äº›æ¯”è¾ƒé‡è¦çš„æ–‡ä»¶ï¼Œæ¯”å¦‚äº‹åŠ¡æ—¥å¿—æ–‡ä»¶ã€‚</p><p>æ•°æ®åº“å¯ä»¥æ”¯æŒäº‹åŠ¡ï¼Œä¸€ä¸ªäº‹åŠ¡å¯¹å¤šæ¡è®°å½•è¿›è¡Œæ›´æ–°ï¼Œè¦ä¹ˆå…¨éƒ¨æ›´æ–°ï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ›´æ–°ï¼Œä¸èƒ½éƒ¨åˆ†æ›´æ–°ï¼Œå¦åˆ™åƒè½¬è´¦è¿™æ ·çš„æ“ä½œå°±ä¼šå‡ºç°ä¸¥é‡çš„æ•°æ®ä¸ä¸€è‡´ï¼Œå¯èƒ½ä¼šé€ æˆå·¨å¤§çš„ç»æµæŸå¤±ã€‚æ•°æ®åº“å®ç°äº‹åŠ¡ä¸»è¦å°±æ˜¯ä¾é äº‹åŠ¡æ—¥å¿—æ–‡ä»¶ã€‚</p><p>åœ¨è¿›è¡Œäº‹åŠ¡æ“ä½œæ—¶ï¼Œäº‹åŠ¡æ—¥å¿—æ–‡ä»¶ä¼šè®°å½•æ›´æ–°å‰çš„æ•°æ®è®°å½•ï¼Œç„¶åå†æ›´æ–°æ•°æ®åº“ä¸­çš„è®°å½•ï¼Œå¦‚æœå…¨éƒ¨è®°å½•éƒ½æ›´æ–°æˆåŠŸï¼Œé‚£ä¹ˆäº‹åŠ¡æ­£å¸¸ç»“æŸï¼Œå¦‚æœè¿‡ç¨‹ä¸­æŸæ¡è®°å½•æ›´æ–°å¤±è´¥ï¼Œé‚£ä¹ˆæ•´ä¸ªäº‹åŠ¡å…¨éƒ¨å›æ»šï¼Œå·²ç»æ›´æ–°çš„è®°å½•æ ¹æ®äº‹åŠ¡æ—¥å¿—ä¸­è®°å½•çš„æ•°æ®è¿›è¡Œæ¢å¤ï¼Œè¿™æ ·å…¨éƒ¨æ•°æ®éƒ½æ¢å¤åˆ°äº‹åŠ¡æäº¤å‰çš„çŠ¶æ€ï¼Œä»ç„¶ä¿æŒæ•°æ®ä¸€è‡´æ€§ã€‚</p><p>æ­¤å¤–ï¼ŒåƒMySQLæ•°æ®åº“è¿˜æœ‰binlogæ—¥å¿—æ–‡ä»¶ï¼Œè®°å½•å…¨éƒ¨çš„æ•°æ®æ›´æ–°æ“ä½œè®°å½•ï¼Œè¿™æ ·åªè¦æœ‰äº†binlogå°±å¯ä»¥å®Œæ•´å¤ç°æ•°æ®åº“çš„å†å²å˜æ›´ï¼Œè¿˜å¯ä»¥å®ç°æ•°æ®åº“çš„ä¸»ä»å¤åˆ¶ï¼Œæ„å»ºé«˜æ€§èƒ½ã€é«˜å¯ç”¨çš„æ•°æ®åº“ç³»ç»Ÿï¼Œæˆ‘å°†ä¼šåœ¨æ¶æ„æ¨¡å—è¿›ä¸€æ­¥ä¸ºä½ è®²è¿°ã€‚</p><h2>å°ç»“</h2><p>åšåº”ç”¨å¼€å‘éœ€è¦äº†è§£RDBMSçš„æ¶æ„åŸç†ï¼Œä½†æ˜¯å…³ç³»æ•°æ®åº“ç³»ç»Ÿéå¸¸åºå¤§å¤æ‚ï¼Œå¯¹äºä¸€èˆ¬çš„åº”ç”¨å¼€å‘è€…è€Œè¨€ï¼Œå…¨é¢æŒæ¡å…³ç³»æ•°æ®åº“çš„å„ç§å®ç°ç»†èŠ‚ï¼Œä»£ä»·é«˜æ˜‚ï¼Œä¹Ÿæ²¡æœ‰å¿…è¦ã€‚æˆ‘ä»¬åªéœ€è¦æŒæ¡æ•°æ®åº“çš„æ¶æ„åŸç†ä¸æ‰§è¡Œè¿‡ç¨‹ï¼Œæ•°æ®åº“æ–‡ä»¶çš„å­˜å‚¨åŸç†ä¸ç´¢å¼•çš„å®ç°æ–¹å¼ï¼Œä»¥åŠæ•°æ®åº“äº‹åŠ¡ä¸æ•°æ®åº“å¤åˆ¶çš„åŸºæœ¬åŸç†å°±å¯ä»¥äº†ã€‚ç„¶åï¼Œåœ¨å¼€å‘å·¥ä½œä¸­é’ˆå¯¹å„ç§æ•°æ®åº“é—®é¢˜å»æ€è€ƒï¼Œå…¶èƒŒåçš„åŸç†æ˜¯ä»€ä¹ˆï¼Œåº”è¯¥å¦‚ä½•å¤„ç†ã€‚é€šè¿‡è¿™æ ·ä¸æ–­åœ°æ€è€ƒå­¦ä¹ ï¼Œä¸ä½†èƒ½å¤Ÿè®©ä½¿ç”¨æ•°æ®åº“æ–¹é¢çš„èƒ½åŠ›ä¸æ–­æé«˜ï¼Œä¹Ÿèƒ½å¯¹æ•°æ®åº“è½¯ä»¶çš„è®¾è®¡ç†å¿µä¹Ÿä¼šæœ‰æ›´æ·±åˆ»çš„è®¤è¯†ï¼Œè‡ªå·±è½¯ä»¶è®¾è®¡ä¸æ¶æ„çš„èƒ½åŠ›ä¹Ÿä¼šå¾—åˆ°åŠ å¼ºã€‚</p><h2>æ€è€ƒé¢˜</h2><p>ç´¢å¼•å¯ä»¥æé«˜æ•°æ®åº“çš„æŸ¥è¯¢æ€§èƒ½ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯åº”è¯¥å°½é‡å¤šçš„ä½¿ç”¨ç´¢å¼•å‘¢ï¼Ÿå¦‚æœä¸æ˜¯ï¼Œä¸ºä»€ä¹ˆï¼Ÿä½ è¿˜äº†è§£å“ªäº›æ”¹å–„æ•°æ®åº“è®¿é—®æ€§èƒ½çš„æŠ€å·§æ–¹æ³•ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºå†™ä¸‹ä½ çš„æ€è€ƒï¼Œä¹Ÿæ¬¢è¿æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹ï¼Œä¸€èµ·äº¤æµè¿›æ­¥ã€‚</p>","neighbors":{"left":{"article_title":"05ä¸¨æ–‡ä»¶ç³»ç»ŸåŸç†ï¼šå¦‚ä½•ç”¨1åˆ†é’Ÿéå†ä¸€ä¸ª100TBçš„æ–‡ä»¶ï¼Ÿ","id":169533},"right":{"article_title":"07ä¸¨ç¼–ç¨‹è¯­è¨€åŸç†ï¼šé¢å‘å¯¹è±¡ç¼–ç¨‹æ˜¯ç¼–ç¨‹çš„ç»ˆæå½¢æ€å—ï¼Ÿ","id":172492}},"comments":[{"had_liked":false,"id":156896,"user_name":"â›½ï¸ğŸ¦†","can_delete":false,"product_type":"c1","uid":1674059,"ip_address":"","ucode":"7D952CAFDBBD99","user_header":"https://static001.geekbang.org/account/avatar/00/19/8b/4b/9e0d334f.jpg","comment_is_top":false,"comment_ctime":1574992850,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"448251591634","product_id":100040201,"comment_content":"æ‚¨å¥½ï¼Œè€å¸ˆï¼š<br>å›ç­”ä¸Šè¿°é—®é¢˜<br>1.åˆ›å»ºå¤šçš„ç´¢å¼•ï¼Œä¼šå ç”¨æ›´å¤šç£ç›˜ç©ºé—´ã€‚å¦‚æœæœ‰ä¸€å¼ å¾ˆå¤§çš„è¡¨ï¼Œç´¢å¼•æ–‡ä»¶çš„å¤§å°å¯èƒ½è¾¾åˆ°æ“ä½œç³»ç»Ÿå…è®¸çš„æœ€å¤§æ–‡ä»¶é™åˆ¶ï¼›<br>2.å¯¹äºDMLæ“ä½œçš„æ—¶å€™ï¼Œç´¢å¼•ä¼šé™ä½ä»–ä»¬çš„é€Ÿåº¦ã€‚å› ä¸ºMySQLä¸ä»…è¦æŠŠæå®šçš„æ•°æ®å†™å…¥æ•°æ®æ–‡ä»¶ï¼Œè€Œä¸”å®ƒè¿˜è¦æŠŠè¿™äº›æ”¹åŠ¨å†™å…¥ç´¢å¼•æ–‡ä»¶;<br>æ”¹å–„æ•°æ®åº“æ€§èƒ½ï¼š<br>1.ç´¢å¼•ä¼˜åŒ–ï¼Œé€‰æ‹©åˆé€‚çš„ç´¢å¼•åˆ—ï¼Œé€‰æ‹©åœ¨whereã€group byã€order byã€on ä»å¥ä¸­å‡ºç°çš„åˆ—ä½œä¸ºç´¢å¼•é¡¹ï¼Œå¯¹äºç¦»æ•£åº¦ä¸å¤§çš„åˆ—æ²¡æœ‰å¿…è¦åˆ›å»ºç´¢å¼•ã€‚<br>2.ç´¢å¼•å­—æ®µè¶Šå°è¶Šå¥½ã€‚<br>3.SQLè¯­å¥çš„ä¼˜åŒ–ã€æ•°æ®è¡¨ç»“æ„çš„ä¼˜åŒ–ã€‚<br>    3.1ï¼šé€‰æ‹©å¯å­˜æ•°æ®æœ€å°çš„æ•°æ®ç±»å‹ï¼Œé€‰æ‹©æœ€åˆé€‚çš„å­—æ®µç±»å‹ï¼Œè¿›è¡Œæ•°æ®çš„å­˜å‚¨;<br>    3.2ï¼šæ•°æ®é‡å¾ˆå¤§çš„ä¸€å¼ è¡¨ï¼Œåº”è¯¥è€ƒè™‘æ°´å¹³åˆ†è¡¨æˆ–å‚ç›´åˆ†è¡¨ï¼›<br>    3.3ï¼šå°½é‡ä¸è¦ä½¿ç”¨textå­—æ®µï¼Œå¦‚æœéè¦ç”¨ï¼Œé‚£ä¹ˆåº”è€ƒè™‘å°†å®ƒå­˜æ”¾å¦ä¸€å¼ è¡¨ä¸­ï¼›<br>4.æ•°æ®åº“é…ç½®çš„ä¼˜åŒ–ï¼š<br>    4.1ï¼šè¿æ¥æ•°çš„é…ç½®ï¼Œå› ä¸ºå¤§é‡çš„è¿æ¥ï¼Œä¸è¿›è¡Œæ“ä½œï¼Œé‚£æ ·ä¹Ÿä¼šå ç”¨å†…å­˜ã€‚<br>    4.2ï¼šæŸ¥è¯¢ç¼“å­˜çš„é…ç½®ï¼Œä½†åœ¨MySQL 8.0å°±åˆ é™¤äº†æ­¤åŠŸèƒ½ã€‚<br>5.ç¡¬ä»¶çš„é…ç½®;<br> é¢å¤–åŠ è¯´ä¸€ä¸‹ï¼Œå¸¸è§æ€§èƒ½çš„é—®é¢˜ï¼š<br>1.æ¡ä»¶å­—æ®µå‡½æ•°çš„æ“ä½œï¼Œç»™ç´¢å¼•å­—æ®µåšäº†å‡½æ•°è®¡ç®—ï¼Œå°±ä¼šç ´åç´¢å¼•å€¼ï¼Œå› æ­¤ä¼˜åŒ–å™¨å°±æ”¾å¼ƒäº†èµ°æ ‘æœç´¢èƒ½å¤Ÿ;<br>2.éšå¼ç±»å‹è½¬æ¢ï¼Œæ¯”å¦‚æ•°æ®åº“å­—æ®µæ˜¯varcharç±»å‹ï¼Œåˆ›å»ºçš„ç´¢å¼•ï¼Œä½†æ˜¯ä½¿ç”¨çš„æ—¶å€™ä¼ å…¥çš„æ˜¯intç±»å‹ï¼Œé‚£ä¹ˆä¼šèµ°å…¨è¡¨æ‰«é¢;<br>3.éšå¼å­—ç¬¦ç¼–ç è½¬æ¢ï¼Œå¦‚æœjoin ä¸¤è¡¨çš„æ—¶å€™ï¼Œä¸¤è¡¨çš„å­—ç¬¦é›†ä¸åŒï¼Œä¹Ÿä¸èƒ½ç”¨ä¸Šç´¢å¼•ï¼›<br>","like_count":105,"discussions":[{"author":{"id":2063114,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7b/0a/b65e1fae.jpg","nickname":"ä¸è¦æŒ‘æˆ˜è‡ªå·±çš„æ™ºå•†","note":"","ucode":"4910FF07C35DC5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296607,"discussion_content":"ä»€ä¹ˆæ—¶å€™é€‚åˆå‚ç›´åˆ†è¡¨ ï¼Ÿä»€ä¹ˆæ—¶å€™æ°´å¹³åˆ†è¡¨ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596599392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2288362,"avatar":"https://static001.geekbang.org/account/avatar/00/22/ea/ea/77a59153.jpg","nickname":"è€¶é©¬","note":"","ucode":"3A3CF67B016CDB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2063114,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7b/0a/b65e1fae.jpg","nickname":"ä¸è¦æŒ‘æˆ˜è‡ªå·±çš„æ™ºå•†","note":"","ucode":"4910FF07C35DC5","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":378398,"discussion_content":"çœ‹ä½ ä»¬çš„ä¸šåŠ¡åœºæ™¯,æ¯”å¦‚æ—¥é¢‘ç‡æˆ–è€…æœˆçš„é€‚åˆæ°´å¹³æ‹†åˆ†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623206434,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":296607,"ip_address":""},"score":378398,"extra":""}]},{"author":{"id":1205697,"avatar":"https://static001.geekbang.org/account/avatar/00/12/65/c1/afcd981b.jpg","nickname":"ç¨‹åºå‘˜äºŒå¸ˆå…„","note":"","ucode":"C9E3B5B3358BDF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289363,"discussion_content":"ä¼˜ç§€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594081754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1074310,"avatar":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","nickname":"å¤šè¥„ä¸¸","note":"","ucode":"1AA1497C5A293C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":66629,"discussion_content":"é—®ä¸ªé—®é¢˜ ç´¢å¼•å­—æ®µ è¶Šå°è¶Šå¥½ \n\nè¿™ä¸ªç´¢å¼•å­—æ®µ æŒ‡çš„æ˜¯ä»€ä¹ˆ? \n\næ˜¯ç´¢å¼•çš„åç§°è¦å°å—ï¼Ÿ \nè¿˜æ˜¯ç´¢å¼•å¯¹åº”çš„å­—æ®µä¸ªæ•°è¦å°? \nè¿˜æ˜¯ç´¢å¼•å¯¹åº”å­—æ®µçš„ç±»å‹ è¦å°?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575091785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1674059,"avatar":"https://static001.geekbang.org/account/avatar/00/19/8b/4b/9e0d334f.jpg","nickname":"â›½ï¸ğŸ¦†","note":"","ucode":"7D952CAFDBBD99","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1074310,"avatar":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","nickname":"å¤šè¥„ä¸¸","note":"","ucode":"1AA1497C5A293C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":67827,"discussion_content":"ç´¢å¼•çš„å­—æ®µç±»å‹ï¼Œæ¯”å¦‚INT ç±»å‹å ç”¨4ä¸ªå­—èŠ‚ï¼Œå¦‚æœè¿™ä¸ªå­—æ®µç±»å‹èƒ½æ»¡è¶³ä½ å­˜å‚¨çš„éœ€æ±‚ï¼Œé‚£ä¹ˆå°±ä¸å¿…ç»™å®ƒè®¾ç½®æˆBIGNT å ç”¨8ä¸ªå­—èŠ‚çš„å­—æ®µã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575180900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":66629,"ip_address":""},"score":67827,"extra":""},{"author":{"id":1074310,"avatar":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","nickname":"å¤šè¥„ä¸¸","note":"","ucode":"1AA1497C5A293C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1674059,"avatar":"https://static001.geekbang.org/account/avatar/00/19/8b/4b/9e0d334f.jpg","nickname":"â›½ï¸ğŸ¦†","note":"","ucode":"7D952CAFDBBD99","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":68014,"discussion_content":"å“¦å“¦ æ˜ç™½ä½ è¯´çš„æ„æ€äº† å½“å¿…é¡»ä½¿ç”¨è”åˆç´¢å¼•çš„æ—¶å€™ å°±æ²¡åŠæ³•é¿å…äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575195662,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":67827,"ip_address":""},"score":68014,"extra":""}]}]},{"had_liked":false,"id":157625,"user_name":"æ— å½¢","can_delete":false,"product_type":"c1","uid":1016889,"ip_address":"","ucode":"B740E2A68A17A5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/84/39/c8772466.jpg","comment_is_top":false,"comment_ctime":1575215115,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"31639986187","product_id":100040201,"comment_content":"æœ€è¿‘åœ¨å¹¿å‘Šæ£€ç´¢ä¸­æ¥å…¥äº†ç”¨æˆ·ç”»åƒæ ‡ç­¾ï¼Œå®ç°äº†æŠŠä¸€å¤§ä¸²åµŒå¥—jsonæ ¼å¼çš„æ ‡ç­¾æ•°æ®è¡¨è¾¾å¼ï¼Œç±»ä¼¼dnfè¡¨è¾¾å¼ï¼Œè§£æä¸ºå¯è®¡ç®—çš„å¹¿å‘ŠåŒ¹é…æ¨¡å‹ï¼Œå…¶ä¸­å°±æœ‰ç±»ä¼¼sqlä¸€æ ·ï¼Œå¯¹è¡¨è¾¾å¼è¿›è¡Œæ ¼å¼åˆ†æã€æ•°æ®ã€æ¯”è¾ƒç¬¦æ£€éªŒã€å¤æ‚çš„é€»è¾‘å…³ç³»è½¬æ¢ä¸ºå®¹æ˜“å¤„ç†çš„è®¡ç®—å•å…ƒï¼Œæœ€åç”Ÿæˆä¸€ä¸ªæ ‘çŠ¶åŒ¹é…æ¨¡å‹ï¼Œé€šè¿‡å¯¹æ¨¡å‹è¾“å…¥ç”¨æˆ·æ•°æ®ï¼Œè¿›è¡ŒåŒ¹é…ï¼Œå¹¶è¿”å›ç¬¦åˆçš„ç”¨æˆ·ã€‚<br>è¿™æœ‰ç‚¹åƒç”¨æˆ·ç”»åƒæ ‡ç­¾å°±æ˜¯ä¸€æ¡SQLï¼Œå¯¹SQLè¿›è¡Œè¯­æ³•åˆ†æï¼Œç”ŸæˆåŒ¹é…æ¨¡å‹ï¼ˆç±»æ¯”SQLçš„æ‰§è¡Œè®¡åˆ’ï¼‰ï¼Œå½“ä¸‹æ¬¡è¾“å…¥ç”¨æˆ·æ•°æ®çš„æ—¶å€™ç”¨ç”Ÿæˆå¥½çš„åŒ¹é…æ¨¡å‹ç›´æ¥å¤„ç†æ•°æ®ï¼Œä¸å¿…å†é‡å¤è§£æç”»åƒæ ‡ç­¾","like_count":8},{"had_liked":false,"id":156911,"user_name":"å°¹å®—æ˜Œ","can_delete":false,"product_type":"c1","uid":1215099,"ip_address":"","ucode":"C409D28F324193","user_header":"https://static001.geekbang.org/account/avatar/00/12/8a/7b/c8123a88.jpg","comment_is_top":false,"comment_ctime":1574994777,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27344798553","product_id":100040201,"comment_content":"ç´¢å¼•å¯ä»¥æé«˜æŸ¥è¯¢æ€§èƒ½ï¼Œä½†æ˜¯ä¸€å®šè¦è€ƒè™‘ç»´æŠ¤ç´¢å¼•çš„æˆæœ¬ã€‚ç©ºé—´å ç”¨ã€æ’å…¥ä¿®æ”¹çš„æ€§èƒ½å½±å“éƒ½è¦è¡¡é‡","like_count":7},{"had_liked":false,"id":241211,"user_name":"æ¯è«åœ","can_delete":false,"product_type":"c1","uid":1759325,"ip_address":"","ucode":"4FA1D5CBBEF702","user_header":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","comment_is_top":false,"comment_ctime":1597216919,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"14482118807","product_id":100040201,"comment_content":"çœ‹åˆ°é¢„ç¼–è¯‘è¿™ä¸ªæ¦‚å¿µå°±æƒ³åˆ°Mybitesçš„å˜é‡å ä½ç¬¦$å’Œ#ï¼Œå‰è€…æ²¡æœ‰é¢„ç¼–è¯‘ç›´æ¥ä»¥å­—ç¬¦ä¸²çš„æ–¹å¼è¢«appendåˆ°sqlè¯­å¥ä¸­ï¼Œä»¥è‡³äºæœ‰sqlæ³¨å…¥è¢«é»‘å®¢æ”»å‡»çš„å¯èƒ½ã€‚è€Œ#ä¼šè¢«é¢„ç¼–è¯‘æˆä¸€ä¸ªç¬¦å·ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™å†æŠŠå‚æ•°å€¼å¡«è¿›æ¥ï¼Œè¿™æ ·å°±é¿å…äº†sqlæ³¨å…¥é£é™©ã€‚è‡³äºåŸç†è¿˜è¦å»çœ‹æºç ã€‚","like_count":4},{"had_liked":false,"id":157470,"user_name":"Zend","can_delete":false,"product_type":"c1","uid":1053921,"ip_address":"","ucode":"80EBB0B6772E27","user_header":"https://static001.geekbang.org/account/avatar/00/10/14/e1/ee5705a2.jpg","comment_is_top":false,"comment_ctime":1575170667,"is_pvip":false,"replies":[{"id":"60428","content":"ä¼š","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1575207385,"ip_address":"","comment_id":157470,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14460072555","product_id":100040201,"comment_content":"è¯·é—®ä¸€ä¸‹è€å¸ˆPreparedStatementç»è¿‡è¯­æ³•åˆ†æç”Ÿæˆçš„æŠ½è±¡è¯­æ³•æ ‘ï¼Œå†ç»è¿‡è¯­ä¹‰åˆ†æå’Œä¼˜åŒ–å™¨å¤„ç†åç”Ÿæˆçš„æ‰§è¡Œè®¡åˆ’ï¼Œä¼šæœ‰ç¼“å­˜å—ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476435,"discussion_content":"ä¼š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575207385,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1759325,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","nickname":"æ¯è«åœ","note":"","ucode":"4FA1D5CBBEF702","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298636,"discussion_content":"åº”è¯¥ä¼šç¼“å­˜èµ·æ¥ï¼Œä¸ç„¶æ‰§è¡Œå¼•æ“æ‰§è¡Œçš„æ—¶å€™å»å“ªå„¿æ‰¾å®ƒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597368171,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157467,"user_name":"Zend","can_delete":false,"product_type":"c1","uid":1053921,"ip_address":"","ucode":"80EBB0B6772E27","user_header":"https://static001.geekbang.org/account/avatar/00/10/14/e1/ee5705a2.jpg","comment_is_top":false,"comment_ctime":1575170303,"is_pvip":false,"replies":[{"id":"60429","content":"æ˜¯çš„ï¼Œæ›´æ–°æ•°æ®æœ¬æ¥å°±ä¼šå…ˆæ‰§è¡ŒæŸ¥è¯¢æ“ä½œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1575207445,"ip_address":"","comment_id":157467,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14460072191","product_id":100040201,"comment_content":"è¯·é—®è€å¸ˆï¼Œåœ¨è¿›è¡Œäº‹åŠ¡æ“ä½œæ—¶ï¼Œäº‹åŠ¡æ—¥å¿—æ–‡ä»¶ä¼šè®°å½•æ›´æ–°å‰çš„æ•°æ®è®°å½•ï¼Œè¿™ä¸ªè®°å½•æ›´æ–°å‰çš„æ•°æ®è®°å½•æ˜¯ ä»€ä¹ˆæ„æ€ï¼Œæ˜¯æŠŠæ›´æ–°ä¹‹å‰çš„æ•°æ®éƒ½æŸ¥è¯¢å‡ºæ¥ï¼Œè®°å½•åˆ°äº‹åŠ¡æ—¥å¿—æ–‡ä»¶å˜›","like_count":4,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476433,"discussion_content":"æ˜¯çš„ï¼Œæ›´æ–°æ•°æ®æœ¬æ¥å°±ä¼šå…ˆæ‰§è¡ŒæŸ¥è¯¢æ“ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575207445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":198517,"user_name":"é™ˆè¡","can_delete":false,"product_type":"c1","uid":1810649,"ip_address":"","ucode":"8A6535DDB4B611","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a0/d9/49578be1.jpg","comment_is_top":false,"comment_ctime":1585454713,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10175389305","product_id":100040201,"comment_content":"ç´¢å¼•ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œç´¢å¼•å¤šäº†å¯¹ç£ç›˜å®¹é‡äº§ç”Ÿä»£ä»·ã€‚å¢åˆ æ”¹ï¼Œå­˜å‚¨è¿‡ç¨‹ç­‰éƒ½ä¼šæ¶‰åŠåˆ°ç´¢å¼•çš„ä¿®æ”¹ï¼Œå¯¼è‡´æ•ˆç‡ä¸‹é™ã€‚è¿˜æœ‰æ¯”å¦‚å­—æ®µæŸ¥è¯¢é‡å°‘ï¼Œé‡å¤å¤šï¼Œæ¯”å¦‚æ€§åˆ«ç­‰ï¼Œæ˜¯æ²¡å¿…è¦å»ºç«‹ç´¢å¼•çš„ã€‚è§‰å¾—ç´¢å¼•è¿˜æ˜¯è¦çœ‹ä½¿ç”¨åœºæ™¯å§ï¼Œæ¯”å¦‚æ•°æ®ä»“åº“ã€‚<br><br>ä¼˜åŒ–æ€§èƒ½å’Œæé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œä¸ªäººè§‰å¾—æ˜¯ä¸€ç§ç¼–ç ä¹ æƒ¯å’Œæ€æƒ³è¿‡ç¨‹ï¼Œæ¯”å¦‚å°è¡¨é©±åŠ¨å¤§è¡¨ï¼Œæ ¹æ®å®é™…åˆç†åˆ›å»ºè¡¨ç»“æ„èŒƒå¼ï¼Œå»ºç«‹è”åˆæŸ¥è¯¢ä¸€æ¬¡åˆ°ä½é¿å…å›è¡¨ï¼Œæ¸…æ¥šselect ï¼Œjoinï¼Œgroup byï¼Œhavingï¼Œwhereï¼Œorder byè¿™äº›æ‰§è¡Œé¡ºåºã€‚è®¾è®¡å¥å£®çµæ´»çš„æ•°æ®è¡¨ç»“æ„ã€‚","like_count":2},{"had_liked":false,"id":231159,"user_name":"LIKE","can_delete":false,"product_type":"c1","uid":1254252,"ip_address":"","ucode":"9DAB7F9051648A","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/6c/82ba5e1f.jpg","comment_is_top":false,"comment_ctime":1593595373,"is_pvip":false,"replies":[{"id":"85785","content":"ä¸»é”®ç´¢å¼•å°±æ˜¯èšç°‡ç´¢å¼•ï¼Œéä¸»é”®ç´¢å¼•å°±æ˜¯éèšç°‡ç´¢å¼•","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1594002403,"ip_address":"","comment_id":231159,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5888562669","product_id":100040201,"comment_content":"çœ‹æ–‡ç« è®²è§£ï¼Œèšç°‡ç´¢å¼•ï¼Œä¸æ­¢å¤‡ä»½äº†æ•´ä¸ªè¡¨æ•°æ®ï¼Œå¢åˆ æ”¹æŸ¥å¼€é”€ä¹Ÿå¤§ï¼Œæ‰€ä»¥åº”å‡å°‘ä¸å¿…è¦çš„èšç°‡ç´¢å¼•ï¼Œé™¤ä¸»é”®å¤–å…¶ä»–å¯è€ƒè™‘ä½¿ç”¨éèšç°‡ç´¢å¼•ã€‚<br>é‚£å¦‚ä½•æŒ‡å®šç´¢å¼•ä¸ºéèšç°‡ç´¢å¼•å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500180,"discussion_content":"ä¸»é”®ç´¢å¼•å°±æ˜¯èšç°‡ç´¢å¼•ï¼Œéä¸»é”®ç´¢å¼•å°±æ˜¯éèšç°‡ç´¢å¼•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594002403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":178492,"user_name":"å¼€å¿ƒå°æ¯›","can_delete":false,"product_type":"c1","uid":1023762,"ip_address":"","ucode":"9D57A2773759F3","user_header":"","comment_is_top":false,"comment_ctime":1581705629,"is_pvip":false,"replies":[{"id":"69443","content":"å»ºç«‹æ•°æ®åº“è¿æ¥ä¼šå¾ˆè€—æ—¶ï¼Œæ¯æ¬¡å»ºç«‹è¿æ¥ä¼šæ›´æ¶ˆè€—æ•°æ®åº“çš„èµ„æºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1581853212,"ip_address":"","comment_id":178492,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5876672925","product_id":100040201,"comment_content":"è¯·é—®æè€å¸ˆï¼Œæ—¢ç„¶æ•°æ®åº“è¿æ¥ä¼šå ç”¨å†…å­˜ï¼Œé‚£ä¹ˆä¼ ç»Ÿwebåº”ç”¨ä¸ºä»€ä¹ˆä¸å¹²è„†åœ¨æ¯ä¸€æ¬¡æ¥å—httpè¯·æ±‚æ—¶å»ºç«‹æ•°æ®åº“è¿æ¥ï¼Œç„¶åå†åœ¨httpè®¿é—®ç»“æŸåæ–­å¼€æ•°æ®åº“è¿æ¥ï¼Ÿ<br>å»ºç«‹æ•°æ®åº“è¿æ¥ä¼šè€—CPUå—ï¼Ÿï¼ˆå‡è®¾æ•°æ®åº“æœåŠ¡è‡ªèº«å·²ç»æœ‰çº¿ç¨‹æ± ç­‰å¾…è¢«è¿æ¥ï¼Œwebåº”ç”¨ä¹Ÿç¼“å­˜äº†åœ°å€å¯†ç ç­‰é…ç½®ä¿¡æ¯ï¼‰","like_count":1,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483847,"discussion_content":"å»ºç«‹æ•°æ®åº“è¿æ¥ä¼šå¾ˆè€—æ—¶ï¼Œæ¯æ¬¡å»ºç«‹è¿æ¥ä¼šæ›´æ¶ˆè€—æ•°æ®åº“çš„èµ„æºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581853212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2063114,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7b/0a/b65e1fae.jpg","nickname":"ä¸è¦æŒ‘æˆ˜è‡ªå·±çš„æ™ºå•†","note":"","ucode":"4910FF07C35DC5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413835,"discussion_content":"å»ºç«‹è¿æ¥çš„æ—¶å€™è¦éªŒè¯èº«ä»½ã€‚æˆ‘æ˜¯è¿™ä¹ˆæƒ³çš„ã€‚ã€‚ã€‚å‘µå‘µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636567604,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2052476,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Qq6oLfOTgKzjiculoUDicdv7WoY1iabPfOTumibWeInVP2Mnod9XVPrNSClvIiaLbvtDlIjRnWUNaXcYwREGzlcaDog/132","nickname":"Geek_åœ¨ä¸‹èŸ‘è‚ç‹","note":"","ucode":"E1F5BBB5BC5962","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287930,"discussion_content":"å°æ¯›å“¥å¯çœŸå¼‚æƒ³å¤©å¼€å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593592783,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157484,"user_name":"æ— å½¢","can_delete":false,"product_type":"c1","uid":1016889,"ip_address":"","ucode":"B740E2A68A17A5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/84/39/c8772466.jpg","comment_is_top":false,"comment_ctime":1575173670,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5870140966","product_id":100040201,"comment_content":"æ•°æ®å˜åŠ¨çš„æ—¶å€™åŒæ—¶éœ€è¦æ›´æ–°ç´¢å¼•ï¼Œç´¢å¼•å¤šäº†ï¼Œæ•°æ®å˜åŠ¨çš„æ•ˆç‡å°±ä¼šé™ä½ï¼Œç´¢å¼•ä¹Ÿæ˜¯æ–‡ä»¶ï¼Œä¼šå ç”¨æ›´å¤šçš„ç£ç›˜ç©ºé—´<br>ã€‚<br>å¦å¤–ï¼Œæˆ‘ä¹‹å‰æåˆ°çš„è¦åŠ¨æ‰‹å®ç°çš„é«˜æ€§èƒ½æ£€ç´¢ç³»ç»Ÿï¼Œåœ¨æ•°æ®çš„å­˜å‚¨éƒ¨åˆ†ï¼Œç”¨æ–‡ä»¶å­˜å‚¨ï¼Œä¸ºäº†æé«˜æ–‡æ¡£çš„æ£€ç´¢æ•ˆç‡ï¼Œä¸ºæ–‡ä»¶åˆ›å»ºäº†ç´¢å¼•ï¼Œç´¢å¼•æ˜¯è¿™ç§æ ¼å¼id:start:lengthï¼Œ<br>æ–‡æ¡£id:åœ¨æ–‡ä»¶ä¸­çš„èµ·å§‹ä½ç½®:æ–‡æ¡£çš„é•¿åº¦ï¼Œç´¢å¼•æ–‡ä»¶æ˜¯æ’åºè¿‡å¾—ï¼Œä¾‹å¦‚ä¸‹é¢è¿™ç§æ ¼å¼<br>0000000001:0000000000:0000000100<br>0000000002:0000000100:0000000300<br>0000000007:0000000400:0000001000<br>åœ¨ä¸åŠ è½½å®Œæ•´ç´¢å¼•æ–‡ä»¶çš„æƒ…å†µä¸‹ï¼Œè¿™æ ·å¯ä»¥é€šè¿‡offsetå¿«é€Ÿè¯»å–æ¯ä¸ªç´¢å¼•æ•°æ®ï¼Œå› ä¸ºæ˜¯æ’åºè¿‡çš„ï¼ŒäºŒåˆ†æŸ¥æ‰¾å¿«é€ŸæŸ¥æ‰¾åˆ°æ–‡æ¡£çš„èµ·å§‹ä½ç½®å’Œå¤§å°ï¼Œå°±å¯ä»¥è¿…é€Ÿåœ¨æ–‡ä»¶ä¸­æ‰¾åˆ°æ–‡æ¡£ï¼Œæµ‹è¯•äº†ä¸‹ï¼Œæ–‡æ¡£æ•°æ®é‡160wï¼Œæœ€å¤š20æ¬¡å°±å¯ä»¥æŸ¥æ‰¾åˆ°æ–‡æ¡£ï¼Œè€—æ—¶200-300å¾®å¦™ï¼Œå¦‚æœå¯¹ç´¢å¼•æ–‡ä»¶è¿›è¡Œåˆ†ç‰‡å­˜å‚¨è¿˜ä¼šæ›´å¿«","like_count":2},{"had_liked":false,"id":157228,"user_name":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","can_delete":false,"product_type":"c1","uid":1132661,"ip_address":"","ucode":"C4C9915866E769","user_header":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","comment_is_top":false,"comment_ctime":1575089835,"is_pvip":false,"replies":[{"id":"60306","content":"æ˜¯çš„ï¼Œå›¾ä¸­åªæ˜¯ç¤ºæ„ï¼Œæ²¡æœ‰ç”»å‡ºå…¨éƒ¨èŠ‚ç‚¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1575099124,"ip_address":"","comment_id":157228,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5870057131","product_id":100040201,"comment_content":"è¯·é—®ä¸‹ï¼Œæ–‡ä¸­çš„ç¬¬ä¸€ä¸ªB+æ ‘ç¤ºæ„å›¾çš„ç¬¬ä¸€å±‚ä¸­é—´èŠ‚ç‚¹ï¼Œ8å’Œ34ä¸­é—´çš„éƒ¨åˆ†æ˜¯ä¸æ˜¯ä¹Ÿåº”è¯¥æŒ‡å‘ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476368,"discussion_content":"æ˜¯çš„ï¼Œå›¾ä¸­åªæ˜¯ç¤ºæ„ï¼Œæ²¡æœ‰ç”»å‡ºå…¨éƒ¨èŠ‚ç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575099124,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1169474,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d8/42/d4e7a136.jpg","nickname":"æœ‰æ€æƒ³çš„èŠ¦è‹‡","note":"","ucode":"AA0B96363B1587","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586758,"discussion_content":"å¹¶æ²¡æœ‰ï¼ŒB+æ ‘ä¸­é—´èŠ‚ç‚¹çš„å­æ ‘æ•°é‡å’Œå…¶å…ƒç´ æ•°é‡ç›¸åŒï¼Œè€Œä¸”æ‰€æœ‰B+æ ‘çš„éå¶å­èŠ‚ç‚¹å…ƒç´ ï¼Œéƒ½åŒ…æ‹¬åœ¨å¶å­èŠ‚ç‚¹ä¸­ï¼Œè€Œä¸”B+æ ‘æ ¹èŠ‚ç‚¹çš„æœ€å¤§å…ƒç´ ï¼Œåº”è¯¥æ˜¯æ•´æ£µæ ‘çš„æœ€å¤§å…ƒç´ ï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºB+æ ‘çš„ç¤ºæ„å›¾æœ‰é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662476250,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":157172,"user_name":"è€Œç«‹æ–‹","can_delete":false,"product_type":"c1","uid":1087258,"ip_address":"","ucode":"5FED6E9E148195","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/1a/389eab84.jpg","comment_is_top":false,"comment_ctime":1575068167,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5870035463","product_id":100040201,"comment_content":"æè€å¸ˆï¼Œå ªæ¯”ç™¾ç§‘å…¨ä¹¦å•Šï¼éå¸¸æ¥åœ°æ°”ï¼ç»™è€å¸ˆæä¸ªå»ºè®®ï¼Œæ–‡ç« ä¸­æœ‰äº›æ˜¯é’ˆå¯¹MySQLè¯´çš„ï¼Œæœ‰äº›ä¸æ˜¯ï¼Œå¸Œæœ›è€å¸ˆèƒ½åŒºåˆ†ä¸€ä¸‹ã€‚<br>ç´¢å¼•ä¹ˆï¼Œä¹Ÿæ˜¯ä¸€ç§ç©ºé—´æ¢æ—¶é—´çš„æ€è·¯ï¼Œç»†æ€ææã€‚æ”¹å–„æ•°æ®åº“è®¿é—®æ€§èƒ½çš„æ‰‹æ®µä¹Ÿä¸åº”è¯¥ä»…é™äºç´¢å¼•è¿™ç§æ‰‹æ®µã€‚","like_count":1},{"had_liked":false,"id":157050,"user_name":"ä¿Šä¼Ÿ","can_delete":false,"product_type":"c1","uid":1111175,"ip_address":"","ucode":"7905B4F25637F4","user_header":"https://static001.geekbang.org/account/avatar/00/10/f4/87/644c0c5d.jpg","comment_is_top":false,"comment_ctime":1575018458,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5869985754","product_id":100040201,"comment_content":"1.ç´¢å¼•è¾ƒå¤šï¼Œæ’å…¥åˆ é™¤çš„æ—¶å€™ä¼šæœ‰é¢å¤–çš„å¼€é”€ã€‚<br>2.ç´¢å¼•å­—æ®µå°½é‡å°ï¼Œå› ä¸ºç´¢å¼•å­—æ®µçš„å¤§å°ä¼šå½±å“æ¯ä¸€ä¸ªb+æ ‘èŠ‚ç‚¹æ•°æ®å—ä¸­çš„æ•°æ®é¡¹çš„ä¸ªæ•°ã€‚<br>3.å¤šäº†è§£ä¸šåŠ¡ï¼Œæœ‰äº›åœ°æ–¹å¯ä»¥ä½¿ç”¨ç´¢å¼•æœ‰äº›åˆ™ä¸ç”¨ã€‚<br>4.å¯ä»¥ç»¼åˆåˆ©ç”¨è”åˆç´¢å¼•å’Œå•ç‹¬ç´¢å¼•","like_count":2},{"had_liked":false,"id":299451,"user_name":"ç±³å…°çš„å°é“åŒ ","can_delete":false,"product_type":"c1","uid":1146923,"ip_address":"","ucode":"E52E05954BF39D","user_header":"https://static001.geekbang.org/account/avatar/00/11/80/2b/ef1581b5.jpg","comment_is_top":false,"comment_ctime":1624631125,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624631125","product_id":100040201,"comment_content":"æ€è€ƒæ€»ç»“ï¼šPrepareStatementé¢„ç¼–è¯‘ã€ç„¶åè®¾ç½®å¯å˜å‚æ•°å†æ‰§è¡Œæäº¤ã€‚<br>1ã€ä»‹ç»äº†Sqlæ‰§è¡Œæµç¨‹ï¼š<br>æŸ¥è¯¢ï¼šè¿æ¥å™¨-æŸ¥è¯¢ç¼“å­˜-åˆ†æå™¨-ä¼˜åŒ–å™¨-æ‰§è¡Œå™¨<br>æ›´æ–°ï¼šè·å–æ•°æ®ï¼ˆæ•°æ®é¡µå†…å­˜ä¸­åˆ¤æ–­ï¼‰-æ›´æ–°ï¼ˆæ›´æ–°åˆ°å†…å­˜ä¸­ï¼‰prepare redolog-å®Œæˆåbinlog-redolog<br>2ã€PrepareStatementï¼šé¢„å¤„ç†ä½¿æ•ˆç‡é«˜ã€é˜²æ­¢Sqlæ³¨å…¥<br>3ã€åº•å±‚ç»“æ„ï¼šB+æ ‘<br>å¤šå‰æ ‘ï¼šçŸ®ï¼Œæ–‡ä»¶ioå°‘<br>èŠ‚ç‚¹ä¸å­˜å‚¨æ•°æ®ï¼Œåªæ˜¯ç´¢å¼•<br>é“¾è¡¨è®²å¶å­èŠ‚ç‚¹ä¸²è”ä¸€èµ·ï¼Œæ–¹ä¾¿åŒºé—´æŸ¥æ‰¾<br>ä¸€èˆ¬æƒ…å†µï¼Œæ ¹èŠ‚ç‚¹ä¼šå­˜å‚¨å†å†…å­˜ä¸­ï¼Œå…¶ä»–èŠ‚ç‚¹å­˜å‚¨å†ç£ç›˜","like_count":1},{"had_liked":false,"id":291468,"user_name":"Geek_5180b5","can_delete":false,"product_type":"c1","uid":1490031,"ip_address":"","ucode":"26D58A7047DE85","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIeWDmWuCHppRXeQiaCGcSf8gib4Sb0HohDicQ5A4ZtW79wNCLWqyObmkQYibpOydCWNGIu2NK6iaKaMsw/132","comment_is_top":false,"comment_ctime":1620297855,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1620297855","product_id":100040201,"comment_content":"å¤„ç†ä¸­å ä½ç¬¦å‚æ•°çš„æ›¿æ¢ï¼Œå°±æ˜¯åœ¨çœŸæ­£æ‰§è¡Œsqlçš„æ—¶å€™æ‰æ›¿æ¢ï¼Œå¯ä»¥è¿™æ ·ç†è§£å˜›ã€‚ã€‚","like_count":0,"discussions":[{"author":{"id":2063114,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7b/0a/b65e1fae.jpg","nickname":"ä¸è¦æŒ‘æˆ˜è‡ªå·±çš„æ™ºå•†","note":"","ucode":"4910FF07C35DC5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413837,"discussion_content":"å¯¹ã€‚ç”Ÿæˆæ‰§è¡Œè®¡åˆ’çš„æ—¶å€™ä¸ä»£å…¥å®ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636567872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":279831,"user_name":"pcz","can_delete":false,"product_type":"c1","uid":2367637,"ip_address":"","ucode":"D528F5CFF4A5C9","user_header":"https://static001.geekbang.org/account/avatar/00/24/20/95/89bd2c38.jpg","comment_is_top":false,"comment_ctime":1613978136,"is_pvip":false,"replies":[{"id":"101702","content":"astä¼˜åŒ–åï¼Œä¾ç„¶æ˜¯ä¸€ä¸ªastï¼Œèµ‹å€¼çš„æ—¶å€™ï¼Œå°†çœŸå®å€¼æ›¿æ¢astçš„expressionèŠ‚ç‚¹å³å¯","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1614044314,"ip_address":"","comment_id":279831,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1613978136","product_id":100040201,"comment_content":"è€å¸ˆï¼šPrepareStatementæäº¤å¸¦å ä½ç¬¦çš„sqlè¿›è¡Œé¢„å¤„ç†çš„æ„æ€æ˜¯ï¼šæ‰§è¡Œåˆ°è¯­ä¹‰åˆ†æå’Œä¼˜åŒ–å™¨è¿™ä¸€æ­¥ï¼Œä½†æ˜¯ä¸æ‰§è¡Œå¼•æ“ï¼Ÿé‚£è¿™ä¸ªsqlçš„èµ‹å€¼è¿‡ç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515884,"discussion_content":"astä¼˜åŒ–åï¼Œä¾ç„¶æ˜¯ä¸€ä¸ªastï¼Œèµ‹å€¼çš„æ—¶å€™ï¼Œå°†çœŸå®å€¼æ›¿æ¢astçš„expressionèŠ‚ç‚¹å³å¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614044314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":254053,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1603032263,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1603032263","product_id":100040201,"comment_content":"ç”¨ä¸€ç¯‡æ–‡ç« æ¥è®²æ•°æ®åº“åŸç†ï¼Œæ„Ÿè§‰è¿˜æ˜¯æœ‰ç‚¹å›°éš¾çš„ã€‚å¦‚æœæƒ³è¦å…¥é—¨ï¼Œé‚£ä¹ˆæ¨èã€ŠSQLå¿…çŸ¥å¿…ä¼šã€‹ä¸“æ ï¼›å¦‚æœæƒ³è¦æ·±å…¥å­¦ä¹  MySQLï¼Œé‚£ä¹ˆæ¨èä¸å¥‡çš„ã€ŠMySQLå®æˆ˜45è®²ã€‹ã€‚<br><br>PrepareStatement åº”è¯¥æ˜¯å±äºç¼–ç¨‹è¯­è¨€è¿˜æ˜¯æ•°æ®åº“é©±åŠ¨ï¼Ÿå¾ˆä¹…ä»¥å‰ï¼Œç”¨ C# è¿æ¥ Oracle çš„æ—¶å€™å°±æ¥è§¦è¿‡ PrepareStatement çš„æ¦‚å¿µï¼ŒJava è¿æ¥ MySQL æˆ–è€… Oracle è‚¯å®šä¹Ÿæœ‰ï¼Œæ¯«æ— ç–‘é—® SQL Server ä¹Ÿä¸ä¼šç¼ºå°‘è¿™ä¸ªæ¦‚å¿µã€‚<br><br>è€Œä¸”æœ‰ç‚¹ä¹Ÿéƒ½ç±»ä¼¼ï¼Œåœ¨æé«˜æ€§èƒ½çš„åŒæ—¶é¿å…æ³¨å…¥æ”»å‡»ã€‚<br><br>æˆ‘çš„å°è±¡é‡Œéšçº¦æœ‰ï¼Œä½¿ç”¨ PrepareStatement å¹¶ä¸åˆ©äºæ•°æ®åº“çš„ SQL æŸ¥è¯¢ç»“æœç¼“å­˜ï¼Œæ²¡æœ‰æ‰¾åˆ°å‡ºå¤„ã€‚ä½†æ˜¯ç°åœ¨æ–°ç‰ˆæœ¬çš„ MySQL ä¼¼ä¹å·²ç»å¼ƒç”¨äº†æŸ¥è¯¢ç¼“å­˜ã€‚<br><br>èƒ½ç†è§£æ•°æ®åº“å­˜å‚¨åŸç†ï¼ˆB+æ ‘ï¼‰ï¼Œèƒ½åˆ†æ¸…æ¥šä¸»é”®èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•ï¼Œèƒ½çœ‹æ‡‚æ‰§è¡Œè®¡åˆ’çš„ç¨‹åºå‘˜ï¼Œéƒ½æ˜¯å¥½ç¨‹åºå‘˜ã€‚","like_count":1},{"had_liked":false,"id":226236,"user_name":"Geek__é£é›¨","can_delete":false,"product_type":"c1","uid":1447977,"ip_address":"","ucode":"A2CA9983A1EAA0","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM70nnPpGc2c9vic68lB3ndZxlWLwXakhpkq8ZzZSPRusynorCafpoAYxkicOYhRic9GTEqWjhagDLp6w/132","comment_is_top":false,"comment_ctime":1592012585,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592012585","product_id":100040201,"comment_content":"åˆ†æå™¨ï¼Œä¼˜åŒ–å™¨ï¼ˆå¾…æ‰§è¡Œçš„sqlï¼‰ï¼Œæ‰§è¡Œå™¨ï¼Œæ‰§è¡Œå¼•æ“","like_count":0},{"had_liked":false,"id":197765,"user_name":"FreezeSoul","can_delete":false,"product_type":"c1","uid":1015930,"ip_address":"","ucode":"0B67142C4EA3D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/80/7a/02fdf1a2.jpg","comment_is_top":false,"comment_ctime":1585397566,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585397566","product_id":100040201,"comment_content":"æ„Ÿè°¢ï¼Œä¹‹å‰åªæ˜¯çŸ¥é“preparestatementä¼šç”Ÿæˆè¯­æ³•æ ‘é¿å…çš„æ³¨å…¥ï¼Œç°åœ¨æ‰æ˜ç™½æ˜¯ç”Ÿæˆæ‰§è¡Œè®¡åˆ’ï¼Œé¿å…çš„æ³¨å…¥","like_count":0},{"had_liked":false,"id":183988,"user_name":"æ¢ç´¢æ— æ­¢å¢ƒ","can_delete":false,"product_type":"c1","uid":1044178,"ip_address":"","ucode":"91D2A9907DFA79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/d2/7024431c.jpg","comment_is_top":false,"comment_ctime":1583197452,"is_pvip":false,"replies":[{"id":"71299","content":"æ ‘è¦æœ‰ä¸ªæ ¹èŠ‚ç‚¹ï¼Œç®—ä¸€å±‚~","user_name":"ä½œè€…å›å¤","user_name_real":"ææ™ºæ…§","uid":"1007349","ctime":1583284729,"ip_address":"","comment_id":183988,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1583197452","product_id":100040201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæ–‡ä¸­æåˆ°â€œæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨ 1000 å¤šä¸ªæ•°æ®ï¼Œè¿™æ ·æ ‘çš„æ·±åº¦æœ€å¤šåªè¦ 4 å±‚ï¼Œå°±å¯å­˜å‚¨æ•°äº¿çš„æ•°æ®â€ï¼Œä¸¥è°¨æ¥è¯´åº”è¯¥æ˜¯ä¸‰å±‚å³å¯ï¼Œ1000*1000*1000ï¼Œæˆ‘æ˜¯è¿™ä¹ˆè®¡ç®—çš„","like_count":0,"discussions":[{"author":{"id":1007349,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/f5/018907ac.jpg","nickname":"ææ™ºæ…§","note":"","ucode":"8C9980C438AFD1","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485843,"discussion_content":"æ ‘è¦æœ‰ä¸ªæ ¹èŠ‚ç‚¹ï¼Œç®—ä¸€å±‚~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583284729,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162558,"user_name":"ç°ç°","can_delete":false,"product_type":"c1","uid":1122397,"ip_address":"","ucode":"907A2FD339E158","user_header":"https://static001.geekbang.org/account/avatar/00/11/20/5d/69170b96.jpg","comment_is_top":false,"comment_ctime":1576554449,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576554449","product_id":100040201,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":159121,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1575542247,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575542247","product_id":100040201,"comment_content":"èšç°‡ç´¢å¼•,å¶å­èŠ‚ç‚¹æŒ‡å‘äº†è®°å½•ã€‚<br>éèšç°‡ç´¢å¼•ï¼Œå¶å­èŠ‚ç‚¹æŒ‡å‘äº†ä¸»é”®ã€‚<br>ç´¢å¼•è‚¯å®šä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œä¸ç„¶å°±ä¼šé»˜è®¤åˆ›å»ºã€‚ç´¢å¼•æœ‰æˆæœ¬ï¼Œæˆæœ¬æ¥è‡ªäºå­˜å‚¨æˆæœ¬å’Œæ’å…¥åˆ é™¤æ—¶å€™çš„ç»´æŠ¤æˆæœ¬ï¼Œå¦‚æœæŸ¥è¯¢å¾—åˆ°çš„å¥½å¤„ä¸è¶³ä»¥æŠµæ¶ˆç»´æŠ¤å’Œå­˜å‚¨æˆæœ¬ï¼Œå°±æ˜¯ä¸å€¼å¾—çš„ã€‚","like_count":1},{"had_liked":false,"id":157308,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1575106141,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1575106141","product_id":100040201,"comment_content":"SQL çš„åˆ†æå™¨ åŒ…æ‹¬è¯æ³•åˆ†æå™¨å’Œè¯­æ³•åˆ†æå™¨ï¼Œç»è¿‡è¯æ³•åˆ†æå™¨ç”Ÿæˆ AST ï¼Œä¸æ˜¯è¯­æ³•åˆ†æ","like_count":0},{"had_liked":false,"id":157229,"user_name":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","can_delete":false,"product_type":"c1","uid":1132661,"ip_address":"","ucode":"C4C9915866E769","user_header":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","comment_is_top":false,"comment_ctime":1575089915,"is_pvip":false,"discussion_count":9,"race_medal":0,"score":"1575089915","product_id":100040201,"comment_content":"å°è±¡ä¸­ä¸å¥‡çš„ã€ŠMySQLå®æˆ˜45è®²ã€‹ä¸­ï¼Œä¹Ÿè®²åˆ°äº†å›è¡¨ã€‚ä½†æ˜¯æ–‡ä¸­æåˆ°çš„MySQLæ˜¯èšç°‡ç´¢å¼•ï¼Œä¸éœ€è¦å›è¡¨ã€‚æ˜¯ä¸æ˜¯è¿™é‡Œé¢æœ‰äº›æ¦‚å¿µéœ€è¦æ ¹æ®å…·ä½“æƒ…å†µå†è¿›ä¸€æ­¥æ‹†åˆ†è®¨è®ºã€‚å¹¶ä¸èƒ½ä¸€æ¦‚è€Œè®ºï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1016889,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/39/c8772466.jpg","nickname":"æ— å½¢","note":"","ucode":"B740E2A68A17A5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":68770,"discussion_content":"å›è¡¨æ˜¯è¿˜éœ€è¦æ‹¿åˆ°é‚£ä¸€æ¡æ•°æ®ï¼Œå¦‚æœåœ¨èšç°‡ç´¢å¼•ä¸Šæ£€ç´¢ï¼Œå¯ä»¥ç›´æ¥æŸ¥è¯¢åˆ°æ•°æ®ï¼Œå¦‚æœæ˜¯åœ¨äºŒçº§ç´¢å¼•ä¸Šæ£€ç´¢ï¼Œåœ¨æ²¡æœ‰ç´¢å¼•è¦†ç›–çš„æ—¶å€™è¿˜éœ€è¦æ ¹æ®IDä»èšç°‡ç´¢å¼•ä¸ŠæŸ¥è¯¢åˆ°æ•°æ®","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575215764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1132661,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","nickname":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","note":"","ucode":"C4C9915866E769","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1016889,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/39/c8772466.jpg","nickname":"æ— å½¢","note":"","ucode":"B740E2A68A17A5","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":68856,"discussion_content":"äºŒçº§ç´¢å¼•æ˜¯å¦ä¸ºéèšç°‡ç´¢å¼•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575220543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":68770,"ip_address":""},"score":68856,"extra":""},{"author":{"id":1016889,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/39/c8772466.jpg","nickname":"æ— å½¢","note":"","ucode":"B740E2A68A17A5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1132661,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","nickname":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","note":"","ucode":"C4C9915866E769","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":68966,"discussion_content":"æœç´¢å¼•æ“èƒ½è§£å†³çš„é—®é¢˜éƒ½ä¸æ˜¯é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575248503,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":68856,"ip_address":""},"score":68966,"extra":""}]},{"author":{"id":1450033,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLOCkhE6EF8dpnug21uHof7bu6YnM2gwEMDtdTtCPmRibKx4CUiass25UfMSwib8zJ7lwv8beYYXjLCA/132","nickname":"Geek__93441785f6a2","note":"","ucode":"03F5A9C37FF728","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221266,"discussion_content":"ä½ åº”è¯¥æ˜¯è®°é”™äº†ï¼Œã€ŠMySQLå®æˆ˜45è®²ã€‹ä¸­æ²¡æœ‰è¯´è¿‡MySQLæ˜¯èšç°‡ç´¢å¼•ï¼ŒMySQLé‡Œæ¯”å¦‚è¯´InnoDBï¼Œé‡Œé¢è‚¯å®šæ˜¯èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•éƒ½æœ‰çš„ï¼Œä¸»é”®ç´¢å¼•å°±æ˜¯èšç°‡ç´¢å¼•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585996830,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":66787,"discussion_content":"èšç°‡ç´¢å¼• å°±æ˜¯ä¸»é”®ç´¢å¼•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575107000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1132661,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","nickname":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","note":"","ucode":"C4C9915866E769","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":66907,"discussion_content":"é™¤äº†ä¸»é”®ç´¢å¼•ä¹‹å¤–çš„å…¶ä»–ç´¢å¼•ç±»åˆ«ï¼Œä»ç„¶æ˜¯èšç°‡ç´¢å¼•å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575115313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":66787,"ip_address":""},"score":66907,"extra":""},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1132661,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","nickname":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","note":"","ucode":"C4C9915866E769","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":66948,"discussion_content":"ä¸æ˜¯ï¼Œä¸€å¼ è¡¨åªå…è®¸æœ‰ä¸€ä¸ªä¸»é”®ç´¢å¼•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575117763,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":66907,"ip_address":""},"score":66948,"extra":""},{"author":{"id":1132661,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","nickname":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","note":"","ucode":"C4C9915866E769","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":66956,"discussion_content":"æ‰€ä»¥æ–‡ä¸­çš„è¡¨è¿°æ­£ç¡®ä½†æ˜¯æ²¡æœ‰è¦†ç›–å…¨é¢çš„æƒ…å†µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575118074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":66948,"ip_address":""},"score":66956,"extra":""}]}]},{"had_liked":false,"id":157047,"user_name":"å¹¸ç¦æ¥æ•²é—¨","can_delete":false,"product_type":"c1","uid":1670147,"ip_address":"","ucode":"A9CF2FDA8315A5","user_header":"https://static001.geekbang.org/account/avatar/00/19/7c/03/2941dea7.jpg","comment_is_top":false,"comment_ctime":1575018134,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575018134","product_id":100040201,"comment_content":"å“","like_count":0}]}
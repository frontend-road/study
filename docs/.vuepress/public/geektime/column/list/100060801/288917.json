{"id":288917,"title":"01 | 技术架构：深度学习推荐系统的经典技术架构长啥样？","content":"<p>你好，我是王喆。从今天开始，我们正式开始学习“深度学习推荐系统”了。在开始之前，我想先问你一个问题：当你开始学习一个全新领域的时候，你想做的第一件事情是什么？</p><p>当然每个人可能都有自己的答案，但对于我自己来说，我最想搞明白的是两个问题。一个是，这个领域到底要解决什么问题？第二个是，这个领域有没有一个非常高角度的思维导图，让我能够了解这个领域有哪些主要的技术，做到心中有数？</p><p>针对“深度学习推荐系统”这个领域啊，可能还会有第三个问题，为什么我们要一直强调“深度学习”，深度学习到底给推荐系统带来了什么革命性的影响？相信听完了这一节课，你心中的这三个问题也都能迎刃而解。</p><h2>推荐系统要解决的根本问题是什么？</h2><p>在开篇词中我们提到，推荐系统的应用已经渗透到购物、娱乐、学习等生活的方方面面，虽然商品推荐、视频推荐、新闻推荐这些推荐场景可能完全不同，既然它们都被称为“推荐系统”，解决的本质问题一定是相通的，遵循着共通的逻辑框架。</p><p>推荐系统要解决的问题用一句话总结就是，<strong>在“信息过载”的情况下，用户如何高效获取感兴趣的信息。</strong></p><p>因此，推荐系统正是在“浩如烟海的互联网信息”和“用户的兴趣点”之间，搭建起的一座桥梁。那这座桥是怎么一步步搭建起来的呢？下面，我们先来看看，推荐系统比较抽象的逻辑架构是什么样的，再一步步搭建起它的技术架构，让你对推荐系统有一个整体上的印象。</p><!-- [[[read_end]]] --><h2>推荐系统的逻辑架构</h2><p>从推荐系统的根本问题出发，我们可以清楚地知道，推荐系统要处理的其实是“<strong>人</strong>”和“<strong>信息</strong>”之间的关系问题。也就是基于“人”和“信息”，构建出一个找寻感兴趣信息的方法。</p><p>这里“信息”的定义非常多样，它在不同场景下的具体含义也千差万别。比如说，在商品推荐中指的是“商品信息”，在视频推荐中指的是“视频信息”，在新闻推荐中指的是“新闻信息”，为了方便，我们可以把它们统称为“物品信息”。</p><p>而从“人”的角度出发，为了更可靠地推测出“人”的兴趣点，推荐系统希望能利用大量与“人”相关的信息，这类信息包括历史行为、人口属性、关系网络等，它们可以被统称为“用户信息”。</p><p>此外，在具体的推荐场景中，用户的最终选择一般会受时间、地点、用户的状态等一系列环境信息的影响，这些环境信息又可以被称为“场景信息”或“上下文信息”。</p><p>清楚了这些信息的定义，推荐系统要处理的问题就可以被形式化地定义为：<strong>对于某个用户<em>U</em>（User），在特定场景<em>C</em>（Context）下，针对海量的“物品”信息构建一个函数 ，预测用户对特定候选物品<em>I</em>（Item）的喜好程度，再根据喜好程度对所有候选物品进行排序，生成推荐列表的问题</strong>。</p><p>这样一来，我们就可以抽象出推荐系统的逻辑框架了。虽然这个逻辑框架还比较简单，但我们正是在此基础上，对各模块进行细化和扩展，才产生了推荐系统的整个技术体系。</p><p><img src=\"https://static001.geekbang.org/resource/image/c7/07/c75969c5fcc6e5e374a87d4b4b1d5d07.jpg?wh=1920*1080\" alt=\"\" title=\"图1 推荐系统逻辑架构\"></p><h2>深度学习对推荐系统的革命</h2><p>有了推荐系统的逻辑架构，我就能回答开头的第三个问题“<strong>深度学习到底给推荐系统带来了什么革命性的影响？</strong>”。</p><p>在推荐系统逻辑架构图中，居于中心位置的是一个抽象函数<em>f(U,I,C)</em>，它负责“猜测”用户的心，为用户可能感兴趣的物品打分，从而得出最终的推荐物品列表。在推荐系统中，这个函数一般被称为“推荐系统模型”（今后简称“推荐模型”）。</p><p>深度学习应用于推荐系统，能够极大地增强推荐模型的拟合能力和表达能力。简单来说，就是让推荐模型“猜的更准”，更能抓住用户的“心”。这么说你可能还没有一个清晰的概念，接下来，我们再从模型结构的角度出发，来比较一下传统机器学习推荐模型和深度学习推荐模型的区别，让你有一个更清晰的认识。</p><p>我在下面给出了一张模型结构对比图，它对比了传统的矩阵分解模型和深度学习矩阵分解模型的区别。我们先忽略细节不谈，你第一眼看上去有什么感觉？是不是觉得深度学习模型变得更复杂了，一层又一层，层数增加了很多。</p><p>你的感觉一点儿都没错，其实正是<strong>因为深度学习复杂的模型结构，让深度学习模型具备了理论上拟合任何函数的能力</strong>。如果说<em>f(U,I,C)</em> 这个推荐函数具有一个最优的表达形式，那传统的机器学习模型只能够拟合出<em>f(U,I,C)</em> 这个推荐函数的近似形式，而深度学习模型则可以最大程度地接近这个最优形式。</p><p><img src=\"https://static001.geekbang.org/resource/image/3d/7e/3d786a8a7ab6141edaeb2383858b137e.jpg?wh=1920*1080\" alt=\"\" title=\"图2 传统的矩阵分解模型和深度学习矩阵分解模型的对比图[br]来源：《Neural collaborative filtering》\"></p><p>除此之外，深度学习模型非常灵活的模型结构还让它具备了一个无法替代的优势，就是我们可以<strong>让深度学习模型的神经网络模拟很多用户兴趣的变迁过程，甚至用户做出决定的思考过程</strong>。比如阿里巴巴的深度学习模型——深度兴趣进化网络（如图3），它利用了三层序列模型的结构，模拟了用户在购买商品时兴趣进化的过程，如此强大的数据拟合能力和对用户行为的理解能力，是传统机器学习模型不具备的。</p><p><img src=\"https://static001.geekbang.org/resource/image/b2/b9/b2606096aa4ff97461dd91b87d748db9.jpg?wh=2158*994\" alt=\"\" title=\"图3 阿里巴巴的深度兴趣进化网络 [br]来源：《Deep Interest Evolution Network for Click-Through Rate Prediction》\"></p><p>但是，深度学习对推荐系统的革命影响还远不止这些。近几年，由于深度学习模型的结构复杂度大大提高，使通过训练使模型收敛所需的数据量大大增加，这也反向推动了推荐系统大数据平台的发展，让推荐系统相关的大数据存储、处理、更新模块也一同迈入了“深度学习时代”。</p><p>讲了这么多深度学习对推荐系统的影响，我们似乎还没看到一个完整的深度学习推荐系统架构。别着急，下面，我们就来讲一讲，经典的深度学习推荐系统的技术架构是什么样的。</p><h2>深度学习推荐系统的技术架构</h2><p>讲之前啊，我还要说明一点，深度学习推荐系统的架构与经典的推荐系统架构其实是一脉相承的，它对经典推荐系统架构中某些特定模块进行了改进，使之能够支持深度学习的应用。所以，我会先讲经典的推荐系统架构，再讲深度学习对它们的改进。</p><p>在实际的推荐系统中，工程师需要着重解决的问题有两类。</p><ul>\n<li>一类问题与数据和信息相关，即“用户信息”“物品信息”“场景信息”分别是什么？如何存储、更新和处理数据？</li>\n<li>另一类问题与推荐系统算法和模型相关，即推荐系统模型如何训练、预测，以及如何达成更好的推荐效果？</li>\n</ul><p>一个工业级推荐系统的技术架构其实也是按照这两部分展开的，其中“数据和信息”部分逐渐发展为推荐系统中融合了数据离线批处理、实时流处理的数据流框架；“算法和模型”部分则进一步细化为推荐系统中，集训练（Training）、评估（Evaluation）、部署（Deployment）、线上推断（Online Inference）为一体的模型框架。基于此，我们就能总结出推荐系统的技术架构图。</p><p><img src=\"https://static001.geekbang.org/resource/image/a8/c1/a87530cf45fb76480bf5b60b9feb60c1.jpg?wh=1354*1576\" alt=\"\" title=\"图4 推荐系统技术架构示意图\"></p><p>在图4中，我把推荐系统的技术架构分成了“数据部分”和“模型部分”。那它们的工作内容和作用分别是什么呢？深度学习对于这两部分的影响又有哪些呢？下面，我来一一讲解。</p><h3>第一部分：推荐系统的数据部分</h3><p>推荐系统的“数据部分”主要负责的是“用户”“物品”“场景”信息的收集与处理。根据处理数据量和处理实时性的不同，我们会用到三种不同的数据处理方式，按照实时性的强弱排序的话，它们依次是<strong>客户端与服务器端实时数据处理、流处理平台准实时数据处理、大数据平台离线数据处理</strong>。</p><p>在实时性由强到弱递减的同时，三种平台的海量数据处理能力则由弱到强。因此，一个成熟推荐系统的数据流系统会将三者取长补短，配合使用。我们也会在今后的课程中讲到具体的例子，比如使用Spark进行离线数据处理，使用Flink进行准实时数据处理等等。</p><p>大数据计算平台通过对推荐系统日志，物品和用户的元数据等信息的处理，获得了推荐模型的训练数据、特征数据、统计数据等。那这些数据都有什么用呢？具体说来，大数据平台加工后的数据出口主要有3个：</p><ol>\n<li>生成推荐系统模型所需的样本数据，用于算法模型的训练和评估。</li>\n<li>生成推荐系统模型服务（Model Serving）所需的“用户特征”，“物品特征”和一部分“场景特征”，用于推荐系统的线上推断。</li>\n<li>生成系统监控、商业智能（Business Intelligence，BI）系统所需的统计型数据。</li>\n</ol><p>可以说，推荐系统的数据部分是整个推荐系统的“水源”，我们只有保证“水源”的持续、纯净，才能不断地“滋养”推荐系统，使其高效地运转并准确地输出。在深度学习时代，深度学习模型对于“水源”的要求更高了，<strong>首先是水量要大</strong>，只有这样才能保证我们训练出的深度学习模型能够尽快收敛；<strong>其次是“水流”要快</strong>，让数据能够尽快地流到模型更新训练的模块，这样才能够让模型实时的抓住用户兴趣变化的趋势，这就推动了大数据引擎Spark，以及流计算平台Flink的发展和应用。</p><h3>第二部分：推荐系统的模型部分</h3><p>推荐系统的“模型部分”是推荐系统的主体。模型的结构一般由“召回层”、“排序层”以及“补充策略与算法层”组成。</p><p>其中，“召回层”一般由高效的召回规则、算法或简单的模型组成，这让推荐系统能快速从海量的候选集中召回用户可能感兴趣的物品。“排序层”则是利用排序模型对初筛的候选集进行精排序。而“补充策略与算法层”，也被称为“再排序层”，是在返回给用户推荐列表之前，为兼顾结果的“多样性”“流行度”“新鲜度”等指标，结合一些补充的策略和算法对推荐列表进行一定的调整，最终形成用户可见的推荐列表。</p><p>从推荐系统模型接收到所有候选物品集，到最后产生推荐列表，这一过程一般叫做“<strong>模型服务过程</strong>”。为了生成模型服务过程所需的模型参数，我们需要通过模型训练（Model Training）确定模型结构、结构中不同参数权重的具体数值，以及模型相关算法和策略中的参数取值。</p><p>模型的训练方法根据环境的不同，可以分为“离线训练”和“在线更新”两部分。其中，离线训练的特点是可以利用全量样本和特征，使模型逼近全局最优点，而在线更新则可以准实时地“消化”新的数据样本，更快地反应新的数据变化趋势，满足模型实时性的需求。</p><p>除此之外，为了评估推荐系统模型的效果，以及模型的迭代优化，推荐系统的模型部分还包括“离线评估”和“线上A/B测试”等多种评估模块，用来得出线下和线上评估指标，指导下一步的模型迭代优化。</p><p>我们刚才说过，深度学习对于推荐系统的革命集中在模型部分，那具体都有什么呢？我把最典型的深度学习应用总结成了3点：</p><ol>\n<li>深度学习中Embedding技术在召回层的应用。作为深度学习中非常核心的Embedding技术，将它应用在推荐系统的召回层中，做相关物品的快速召回，已经是业界非常主流的解决方案了。</li>\n<li>不同结构的深度学习模型在排序层的应用。排序层（也称精排层）是影响推荐效果的重中之重，也是深度学习模型大展拳脚的领域。深度学习模型的灵活性高，表达能力强的特点，这让它非常适合于大数据量下的精确排序。深度学习排序模型毫无疑问是业界和学界都在不断加大投入，快速迭代的部分。</li>\n<li>增强学习在模型更新、工程模型一体化方向上的应用。增强学习可以说是与深度学习密切相关的另一机器学习领域，它在推荐系统中的应用，让推荐系统可以在实时性层面更上一层楼。</li>\n</ol><h2>小结</h2><p>这节课，我带你熟悉了深度学习推荐系统的技术架构，虽然涉及的内容非常多，但如果没有记住的话，你也完全不用慌张，只需要在心中留下这个框架的印象就可以了。你完全可以把这节课的内容当作整个课程的技术索引，让它成为属于你自己的一张知识图谱。</p><p>形象点来说，你可以把这节课程的内容想象成是一颗知识树，它有根，有干、有枝、有叶，还有花。</p><p>其中，推荐系统的根就是推荐系统要解决的根本性问题：在“信息过载”情况下，用户怎么高效获取感兴趣的信息。</p><p>而推荐系统的干就是推荐系统的逻辑架构：对于某个用户<em>U</em>（User），在特定场景<em>C</em>（Context）下，针对海量的“物品”构建一个函数 ，预测用户对特定候选物品<em>I</em>（Item）的喜好程度的过程。</p><p>枝和叶就是推荐系统的各个技术模块，以及各模块的技术选型。技术模块撑起了推荐系统的技术架构，技术选型又让我们可以在技术架构上实现各种细节，开枝散叶。</p><p>最后，深度学习在推荐系统的应用无疑是当前推荐系统技术架构上的明珠，它就像是这颗大树上开出的花，是最精彩的点睛之笔。深度学习的模型结构复杂，数据拟合能力和表达能力更强，能够让推荐模型更好的模拟用户的兴趣变迁过程，甚至是做决定的过程。而深度学习的发展，也推动着推荐系统数据流部分的革命，让它能够更快、更强地处理推荐系统相关的数据。</p><p>好了，这节课我们就讲到这里，希望你能牢牢记住深度学习推荐系统的架构，播撒下这一粒种子，然后跟随我后面的课程让它长大成一颗属于你自己的参天大树。</p><p><img src=\"https://static001.geekbang.org/resource/image/0e/a1/0e269ebf95dcb772ed31f9c28cef2aa1.jpeg?wh=1920*1080\" alt=\"\" title=\"图5 推荐系统的技术架构像树一样生发而出\"></p><h2>课后思考</h2><p>下面是Netflix的推荐系统的经典架构图，你能结合本节课讲的推荐系统技术架构，说出Netflix架构图中哪些是数据部分，哪些是模型部分吗？</p><p><img src=\"https://static001.geekbang.org/resource/image/41/c0/4189db7d4yy86a74903dd2acb30742c0.jpg?wh=1440*1587\" alt=\"\" title=\"图6 Netflix架构图示意图\"></p><p>这样的深度学习推荐系统和你想的一样吗？如果今天的课程对你有帮助，也欢迎你把它转发出去！我们下节课见！</p>","comments":[{"had_liked":false,"id":249624,"user_name":"朱月俊","can_delete":false,"product_type":"c1","uid":1017707,"ip_address":"","ucode":"4DA0728B862FBD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/6b/0b6cd39a.jpg","comment_is_top":false,"comment_ctime":1600732923,"is_pvip":false,"replies":[{"id":"91530","content":"赞，完全正确。另外nearline computation也属于数据部分，正中央的evcache等几个数据库可以看作数据部分和模型部分的接口。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1600747063,"ip_address":"","comment_id":249624,"utype":1}],"discussion_count":2,"race_medal":0,"score":"143334653691","product_id":100060801,"comment_content":"数据部分：event distribution, hadoop, query results, netflex.hermes, user event queue, netflix.manhattan.<br>模型部分：model training, models, online computation, online service, algorithm service.","like_count":33,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505969,"discussion_content":"赞，完全正确。另外nearline computation也属于数据部分，正中央的evcache等几个数据库可以看作数据部分和模型部分的接口。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600747063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1511768,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLdJRI1tJBvFuNHPsmrLSwLn4YtKibFMF1iaZ4Wks8saW7RKn5WrJXQb1icPYM61GKL53NdAJDaumq6w/132","nickname":"slq","note":"","ucode":"6958A3A5B5F0DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373843,"discussion_content":"“nearline computation也属于数据部分” 是因为近线计算是为在线计算做数据准备的？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620892558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":250618,"user_name":"杜军","can_delete":false,"product_type":"c1","uid":1147142,"ip_address":"","ucode":"878C542E1D17AD","user_header":"https://static001.geekbang.org/account/avatar/00/11/81/06/d7c6d511.jpg","comment_is_top":false,"comment_ctime":1601172849,"is_pvip":false,"replies":[{"id":"91777","content":"这是个很好的问题。其实也是大数据工程师们一直追求的批流一体的Kappa架构。<br><br>但实践中遇到的困难不少。一是一些历史遗留问题，比如当前很多公司的数据体系大部分是建立在spark基础上的，那直接用flink去替代肯定有风险，所以很多公司还沿用着混合的lambda架构。<br><br>另外是Spark和Flink发展的问题，Flink在进化的同时Spark也在发展，比如Structured Streaming的提出就是为了跟Flink竞争，而且Spark本身的社区成熟程度和这么多年的积累还是超过目前的Flink的。所以也难说Flink会完全替代Spark。<br><br>但毫无疑问，批流一体是未来的方向，大家也都在往这个方向努力。但我个人觉得Spark和Flink会长期共存，共同发展。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1601262251,"ip_address":"","comment_id":250618,"utype":1}],"discussion_count":3,"race_medal":0,"score":"100385420657","product_id":100060801,"comment_content":"请教大神，我们注意到 Flink 最近更新比较频繁，号称可以做到流批一体分析，甚至 ETL 领域好像也可以用起来，是不是可以在系统架构设计的时候直接用 Flink 取代 Spark，ETL 和实时部分统一到一个架构上来是否可行？谢谢","like_count":23,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506241,"discussion_content":"这是个很好的问题。其实也是大数据工程师们一直追求的批流一体的Kappa架构。\n\n但实践中遇到的困难不少。一是一些历史遗留问题，比如当前很多公司的数据体系大部分是建立在spark基础上的，那直接用flink去替代肯定有风险，所以很多公司还沿用着混合的lambda架构。\n\n另外是Spark和Flink发展的问题，Flink在进化的同时Spark也在发展，比如Structured Streaming的提出就是为了跟Flink竞争，而且Spark本身的社区成熟程度和这么多年的积累还是超过目前的Flink的。所以也难说Flink会完全替代Spark。\n\n但毫无疑问，批流一体是未来的方向，大家也都在往这个方向努力。但我个人觉得Spark和Flink会长期共存，共同发展。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601262251,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1402034,"avatar":"https://static001.geekbang.org/account/avatar/00/15/64/b2/18005d2a.jpg","nickname":"Leo Zhao","note":"","ucode":"5E4917CCD120B0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326746,"discussion_content":"机器学习的人来说 希望直接在全局数据batch 上offline 操作。spark 也提出不要ETL 但实际上感觉上lambda 还是比较保险 ，可以replay.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605672289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1402034,"avatar":"https://static001.geekbang.org/account/avatar/00/15/64/b2/18005d2a.jpg","nickname":"Leo Zhao","note":"","ucode":"5E4917CCD120B0","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":334573,"discussion_content":"确实目前落地基本都是lambda架构，但flink也越来越完善，也许批流一体将来也可以实现。短期内还看不到完全取代spark的可能。","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1607903969,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":326746,"ip_address":""},"score":334573,"extra":""}]}]},{"had_liked":false,"id":249666,"user_name":"Four y","can_delete":false,"product_type":"c1","uid":1608789,"ip_address":"","ucode":"816C50CA85E3AE","user_header":"https://static001.geekbang.org/account/avatar/00/18/8c/55/cac3dbcc.jpg","comment_is_top":false,"comment_ctime":1600749307,"is_pvip":false,"replies":[{"id":"91541","content":"这是个好问题，希望大家多提这样的思考。<br>在推荐服务器做线上推断时，实时用户请求里面包含的特征一般是直接在服务器内部提取出来的，所以肯定不需要再在数据流中走一遍。<br><br>但是线上请求数据最终还是会落盘，生成日志数据，这个过程中，一些流处理，和批处理的平台会对这些数据做进一步处理，生成今后可供使用的特征以及训练用样本。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1600757067,"ip_address":"","comment_id":249666,"utype":1}],"discussion_count":4,"race_medal":0,"score":"78910160635","product_id":100060801,"comment_content":"老师，请问关于大数据数据出口的那一部分，请问实时的用户推荐请求也是会先经过大数据处理，生成可供线上推理的数据吗？就是针对文中大数据出口的第二点。","like_count":18,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505981,"discussion_content":"这是个好问题，希望大家多提这样的思考。\n在推荐服务器做线上推断时，实时用户请求里面包含的特征一般是直接在服务器内部提取出来的，所以肯定不需要再在数据流中走一遍。\n\n但是线上请求数据最终还是会落盘，生成日志数据，这个过程中，一些流处理，和批处理的平台会对这些数据做进一步处理，生成今后可供使用的特征以及训练用样本。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600757067,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1960811,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/qw7rRHUPRzhibxXWLG7kc3zkhZwBn4JZaryzko2eWOjSxDlRvUathHugrIVKhcCqxhtsANUTq0140AlbDkLZmcw/132","nickname":"shenhuaze","note":"","ucode":"32927236CBEA0B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":310345,"discussion_content":"“在推荐服务器做线上推断时，实时用户请求里面包含的特征一般是直接在服务器内部提取出来的”，请问老师，这里的服务器是指的数据库吗？一般选什么数据库？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601788677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1960811,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/qw7rRHUPRzhibxXWLG7kc3zkhZwBn4JZaryzko2eWOjSxDlRvUathHugrIVKhcCqxhtsANUTq0140AlbDkLZmcw/132","nickname":"shenhuaze","note":"","ucode":"32927236CBEA0B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312226,"discussion_content":"后续课程会有覆盖，到时再交流","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602634508,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":310345,"ip_address":""},"score":312226,"extra":""},{"author":{"id":1402034,"avatar":"https://static001.geekbang.org/account/avatar/00/15/64/b2/18005d2a.jpg","nickname":"Leo Zhao","note":"","ucode":"5E4917CCD120B0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":326748,"discussion_content":"可能是redis 这种以前计算好的","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1605672381,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":312226,"ip_address":""},"score":326748,"extra":""}]}]},{"had_liked":false,"id":298354,"user_name":"飞逝@时间","can_delete":false,"product_type":"c1","uid":1001238,"ip_address":"","ucode":"6ED519CD9FF3FE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/47/16/1df78c2b.jpg","comment_is_top":false,"comment_ctime":1624034963,"is_pvip":false,"replies":[{"id":"108423","content":"一般不管召回模型，还是排序模型，都需要天级别更新。有些一线公司会用流的方式更新模型，可以做到分钟级别的增量更新。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1624388077,"ip_address":"","comment_id":298354,"utype":1}],"discussion_count":1,"race_medal":0,"score":"57458609811","product_id":100060801,"comment_content":"老师，请教几个实际生产问题（T表示当天，T-1表示昨天）：<br>1）在召回阶段，不管是传统的CB&#47;CF算法或者老师说深度学习中的Embedding技术，这部分由于拿的全量数据（T之前的所有数据）所以离线计算，但是由于训练的数据是按时间不断递增更新的，是需要每天都调度这些算法离线计算产生召回物品吗？<br>2）同样在精排阶段，由于数据每天按时间递增，那训练的模型是每天重新训练？还是按照一定的策略（比如积累一定程度的数据量）再重新训练模型？","like_count":13,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522108,"discussion_content":"一般不管召回模型，还是排序模型，都需要天级别更新。有些一线公司会用流的方式更新模型，可以做到分钟级别的增量更新。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624388077,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":250918,"user_name":"张弛 Conor","can_delete":false,"product_type":"c1","uid":2208459,"ip_address":"","ucode":"193EBA4A64BAB3","user_header":"https://static001.geekbang.org/account/avatar/00/21/b2/cb/9c6c7bf7.jpg","comment_is_top":false,"comment_ctime":1601280718,"is_pvip":false,"replies":[{"id":"91817","content":"我们在之后的召回层介绍中还会深入讲解召回层，所以期待之后的交流。<br><br>关于端到端排序是一个非常好的问题。其实我们理想状态下最好的结果就是不分召回层和排序层，实现端到端排序。但是工程上很难做到，因为排序层往往是复杂模型，大规模候选集情况下延迟较大。<br><br>但是也已经有不少业界团队在探索端到端排序的可能。我觉得是一个很好的值得改进的方向。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1601320513,"ip_address":"","comment_id":250918,"utype":1}],"discussion_count":2,"race_medal":0,"score":"40255986382","product_id":100060801,"comment_content":"老师，想向您请教一下召回层和排序层除了结果上的“粗”和“精”是否还有其他的区别？另外就是二者在深度学习技术加持下能否实现端到端的排序呢？","like_count":9,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506335,"discussion_content":"我们在之后的召回层介绍中还会深入讲解召回层，所以期待之后的交流。\n\n关于端到端排序是一个非常好的问题。其实我们理想状态下最好的结果就是不分召回层和排序层，实现端到端排序。但是工程上很难做到，因为排序层往往是复杂模型，大规模候选集情况下延迟较大。\n\n但是也已经有不少业界团队在探索端到端排序的可能。我觉得是一个很好的值得改进的方向。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601320513,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2619397,"avatar":"https://static001.geekbang.org/account/avatar/00/27/f8/05/079444c2.jpg","nickname":"创之巅","note":"","ucode":"38E29FAEFB7023","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373728,"discussion_content":"阿里做到了？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620838321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249677,"user_name":"fsc2016","can_delete":false,"product_type":"c1","uid":1255585,"ip_address":"","ucode":"5480F05703A974","user_header":"https://static001.geekbang.org/account/avatar/00/13/28/a1/fd2bfc25.jpg","comment_is_top":false,"comment_ctime":1600755355,"is_pvip":false,"replies":[{"id":"91540","content":"是的，专栏的名字是《深度学习推荐系统实战》，所以会更注重理论联系实际，用一套代码SparrowRecSys把所有重要的知识点实现一遍，最后串联成一套成型的推荐系统。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1600756801,"ip_address":"","comment_id":249677,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40255461019","product_id":100060801,"comment_content":"老师，这套课程侧重点和您的书《深度学习推荐系统》区别是什么了，更偏实战嘛","like_count":9,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505984,"discussion_content":"是的，专栏的名字是《深度学习推荐系统实战》，所以会更注重理论联系实际，用一套代码SparrowRecSys把所有重要的知识点实现一遍，最后串联成一套成型的推荐系统。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600756801,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":256746,"user_name":"陈威洋","can_delete":false,"product_type":"c1","uid":2264679,"ip_address":"","ucode":"DCF84B4D3A7354","user_header":"https://static001.geekbang.org/account/avatar/00/22/8e/67/afb412fb.jpg","comment_is_top":false,"comment_ctime":1603721495,"is_pvip":false,"replies":[{"id":"93489","content":"落盘一般是指写入磁盘或者一些永久性存储的存储系统。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1603760443,"ip_address":"","comment_id":256746,"utype":1}],"discussion_count":3,"race_medal":0,"score":"31668492567","product_id":100060801,"comment_content":"请问王老师一个概念问题，落盘是什么意思？为什么要用落盘这个词？","like_count":7,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508102,"discussion_content":"落盘一般是指写入磁盘或者一些永久性存储的存储系统。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603760443,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2279075,"avatar":"https://static001.geekbang.org/account/avatar/00/22/c6/a3/c4bf6817.jpg","nickname":"鍾祺Trey Z. USC","note":"","ucode":"A56B000CACA3FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376634,"discussion_content":"应该是对应英文中的 persist","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622244337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380645,"discussion_content":"持久化","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624615025,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252294,"user_name":"夜雨声烦","can_delete":false,"product_type":"c1","uid":1349749,"ip_address":"","ucode":"87D8DB1E32522A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK6mh3xlaMoGtWjmVJh2LutdLcQcPbKNjRlVru3bx8ynPhgwuGhhdzTkwEMoXbvBtgkcDSfom1kZg/132","comment_is_top":false,"comment_ctime":1602226362,"is_pvip":false,"replies":[{"id":"92243","content":"作业部分回答的非常好。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1602399136,"ip_address":"","comment_id":252294,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31666997434","product_id":100060801,"comment_content":"推荐系统要解决的三个问题：<br>1，推荐系统要解决的问题是什么？<br>在“信息过载”的情况下，用户如何高效获取感兴趣的信息。<br>2，有没有一个非常高角度的思维导图，让我能够了解这个领域有哪些主要的技术，做到心中有数？<br>上面的树结构，以及根、枝干、叶子代表的含义；<br>3，为什么我们要一直强调“深度学习”，深度学习到底给推荐系统带来了什么革命性的影响？<br>深度学习的模型结构复杂，数据拟合能力和表达能力更强，能够让推荐模型更好的模拟用户的兴趣变迁过程，甚至是做决定的过程。而深度学习的发展，也推动着推荐系统数据流部分的革命，让它能够更快、更强地处理推荐系统相关的数据。<br><br>作业：<br>数据部分：event distribution,user event queue,Netflix.Manhattan,Cassandra,mysql,EVcache,Online Data Service;Query result,Offline data,Nearline Computation;<br>模型部分：model training,Models,online computation,online data service,Algorithm Service,Machine Learning Algorithm","like_count":7,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506744,"discussion_content":"作业部分回答的非常好。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602399136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":251496,"user_name":"西北小英雄","can_delete":false,"product_type":"c1","uid":2201701,"ip_address":"","ucode":"D2196E45D80514","user_header":"https://static001.geekbang.org/account/avatar/00/21/98/65/a14953d9.jpg","comment_is_top":false,"comment_ctime":1601615896,"is_pvip":false,"replies":[{"id":"91978","content":"1、User Event Queue就拿用kafka举例，跟offline的关系确实不强，唯一的关系就是数据经kafka最终会落盘到离线的存储系统。所以这一点你的理解没错<br>2、nearline的理解也没错，一般来说nearline处理好的数据、特征会存储到evcache，redis等内存数据库供online service使用。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1601678860,"ip_address":"","comment_id":251496,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31666386968","product_id":100060801,"comment_content":"老师您好，我去看了您的知乎专栏对Netflix推荐系统架构图的讲解，对下面部分有点疑问。（可能我是推荐系统新手，没有工程经验对架构不太懂，如果的问题不是很营养，望谅解）<br><br>比如从online 到nearline和offline通过用户消息队列（User Event Queue，现在基本都使用Kafka）来缓存数据流，这是连接online和其他层的接口。<br>而从nearline和offline中连接online的接口则是algorithm service，online data service，以及model到online层的接口。<br>1.单从图中也看不出User Event Queue和offline层有关系，<br>2.nearline层是把计算结果存入mysql等数据库后给online层的algorithm service使用了吗？","like_count":7,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506519,"discussion_content":"1、User Event Queue就拿用kafka举例，跟offline的关系确实不强，唯一的关系就是数据经kafka最终会落盘到离线的存储系统。所以这一点你的理解没错\n2、nearline的理解也没错，一般来说nearline处理好的数据、特征会存储到evcache，redis等内存数据库供online service使用。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601678860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280107,"user_name":"Geek_f676f3","can_delete":false,"product_type":"c1","uid":1434591,"ip_address":"","ucode":"E229F71BFA5F96","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ3q0LkadjOv4zicr7xQufgXyh8o1Usno8RZdeBPOqzsoH8DRiaMdYjs0OyEuTknHwHxfQ4AnBHdBCA/132","comment_is_top":false,"comment_ctime":1614081631,"is_pvip":false,"replies":[{"id":"101872","content":"是这样，现在的要求越来越全面了。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1614304584,"ip_address":"","comment_id":280107,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27383885407","product_id":100060801,"comment_content":"文章写得不错，赞！推荐是一个更复合的领域，在推荐系统实践中，整体的思考架构还可以增加产品、系统纬度；产品、数据、模型、系统四位一体，作为从业人员，也要学会从产品角度来思考问题","like_count":6,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515984,"discussion_content":"是这样，现在的要求越来越全面了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614304584,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380666,"discussion_content":"推荐本身是一个经济问题，所谓的做生意其实就是人工推荐","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1624621661,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249994,"user_name":"高璇璇","can_delete":false,"product_type":"c1","uid":1581921,"ip_address":"","ucode":"5B6B8561DD62CF","user_header":"https://static001.geekbang.org/account/avatar/00/18/23/61/f2175373.jpg","comment_is_top":false,"comment_ctime":1600875749,"is_pvip":false,"replies":[{"id":"91589","content":"是的，两种可能都有叫，大家能理解就好。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1600900379,"ip_address":"","comment_id":249994,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27370679525","product_id":100060801,"comment_content":"增强学习是指reinforcement learning吗？国内一般叫强化学习","like_count":6,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506091,"discussion_content":"是的，两种可能都有叫，大家能理解就好。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600900379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249754,"user_name":"军舰","can_delete":false,"product_type":"c1","uid":1221705,"ip_address":"","ucode":"C7E97415F5196A","user_header":"https://static001.geekbang.org/account/avatar/00/12/a4/49/1c8598d1.jpg","comment_is_top":false,"comment_ctime":1600779844,"is_pvip":false,"replies":[{"id":"91561","content":"候选物品库是所有可被推荐的物品集合。比如一个动漫视频网站，他的候选物品可以是 柯南，海贼王，七龙珠等等，但动画片，侦探题材这些属于物品上的特征，并不是候选物品。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1600800211,"ip_address":"","comment_id":249754,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27370583620","product_id":100060801,"comment_content":"老师，候选物品库是不是可以这样理解：我现在在看柯南，那么候选物品可能是动画片、侦探题材等？","like_count":6,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506005,"discussion_content":"候选物品库是所有可被推荐的物品集合。比如一个动漫视频网站，他的候选物品可以是 柯南，海贼王，七龙珠等等，但动画片，侦探题材这些属于物品上的特征，并不是候选物品。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600800211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2310887,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/ibbg35VbtSTXrcBE1AWgwXAHmKBjru5HzSzEUaxiaTeahQqDVxr4ZATHibn67aanoMmT4uG34PNRv3norpmOqjwMw/132","nickname":"嘿人","note":"","ucode":"F56D9A416ED46D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333310,"discussion_content":"比如说电影推荐来说，候选物品就是数据库中所有的电影。如果现在在看柯南，则召回层可以通过某些规则，粗筛出一些动画片、侦探题材的电影，再将这些筛选过的电影丢入排序层，排序层中利用复杂的模型，可能考虑用户属性(如年龄、兴趣等特征)，对电影进行精排，最终得出推荐列表。","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1607499350,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":290813,"user_name":"谁将新樽盛旧月","can_delete":false,"product_type":"c1","uid":2583928,"ip_address":"","ucode":"40045EEA19DAAC","user_header":"https://static001.geekbang.org/account/avatar/00/27/6d/78/c4a02882.jpg","comment_is_top":false,"comment_ctime":1619767649,"is_pvip":false,"replies":[{"id":"105447","content":"没什么超纲不超纲的，这又不是义务教育课程，可以当作自己的知识储备或者行业的前沿进展跟踪。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1620011047,"ip_address":"","comment_id":290813,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23094604129","product_id":100060801,"comment_content":"公司要上线推荐系统了，刚开始研发第一个推荐系统，看这个是不是有点超纲，后续优化推荐可以用到深度学习推荐，现在就上线课程中推荐系统的感觉有点困难，老师给点建议","like_count":5,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519293,"discussion_content":"没什么超纲不超纲的，这又不是义务教育课程，可以当作自己的知识储备或者行业的前沿进展跟踪。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620011047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380665,"discussion_content":"是的，即使研究诺贝尔奖的东西，也很正常，都是地球人，还能超出到哪里去\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1624620880,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":250277,"user_name":"太子长琴","can_delete":false,"product_type":"c1","uid":1090266,"ip_address":"","ucode":"0627D0FA370AD4","user_header":"https://static001.geekbang.org/account/avatar/00/10/a2/da/a8a32113.jpg","comment_is_top":false,"comment_ctime":1601007981,"is_pvip":false,"replies":[{"id":"91681","content":"一般来说embeeding也完全可以存储到特征数据库中，最终的决定还是应该看各公司具体的技术架构和业务需求。如果embedding数据量比较大，也有单独存储的。<br><br>实时新数据一般来说，特征的更新是越快越好，因为特征的改变也直接影响到最终的排序结果。<br><br>模型的训练没有统一的指标，理论上来说也是越快越好，但要考虑算力，数据处理延迟等工程限制。大多公司以小时级别更新。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1601065363,"ip_address":"","comment_id":250277,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23075844461","product_id":100060801,"comment_content":"老师好，请问下啊，<br>特征库会存储模型计算后的特征（比如embeddibg）吗，还是只存储基本特征？<br>实时新数据（比如新用户，新物品）一般是多久或者有什么指标确定需要更新到离线模型呢？<br>谢谢","like_count":5,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506170,"discussion_content":"一般来说embeeding也完全可以存储到特征数据库中，最终的决定还是应该看各公司具体的技术架构和业务需求。如果embedding数据量比较大，也有单独存储的。\n\n实时新数据一般来说，特征的更新是越快越好，因为特征的改变也直接影响到最终的排序结果。\n\n模型的训练没有统一的指标，理论上来说也是越快越好，但要考虑算力，数据处理延迟等工程限制。大多公司以小时级别更新。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601065363,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286773,"user_name":"归零","can_delete":false,"product_type":"c1","uid":1103208,"ip_address":"","ucode":"C99B8E93009A46","user_header":"https://static001.geekbang.org/account/avatar/00/10/d5/68/2201b6b9.jpg","comment_is_top":false,"comment_ctime":1617584903,"is_pvip":true,"replies":[{"id":"104151","content":"赞","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1617643956,"ip_address":"","comment_id":286773,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18797454087","product_id":100060801,"comment_content":"no magic，作为互联网从业者，目前预测后续的工作跟深度学习相关，先学习一下。很认同老师的思路，先知道解决什么问题，同时心中有一个路线，可以按图索骥。","like_count":4,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518088,"discussion_content":"赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617643956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301033,"user_name":"DBC","can_delete":false,"product_type":"c1","uid":1353055,"ip_address":"","ucode":"9A9DB7E44A321C","user_header":"https://static001.geekbang.org/account/avatar/00/14/a5/5f/ee1295af.jpg","comment_is_top":false,"comment_ctime":1625490769,"is_pvip":false,"replies":[{"id":"109392","content":"是的","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1626215826,"ip_address":"","comment_id":301033,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14510392657","product_id":100060801,"comment_content":"您好，请教一个问题~<br>Model Serving的部分里面说指的是在线的时候，提供特征的。请问一下，是指的在线去缓存里找，召回的这部分的item的特征和user特征，然后拼接成输入特征后，去请求模型这个过程么？","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522880,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626215826,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":284081,"user_name":"章光辉","can_delete":false,"product_type":"c1","uid":1046152,"ip_address":"","ucode":"49ACA750CAF19E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f6/88/ee32fde9.jpg","comment_is_top":false,"comment_ctime":1616058936,"is_pvip":true,"replies":[{"id":"103419","content":"欢迎不同的声音，特别是专门从事数据工作的工程师的声音。所以对于流处理平台，正确的说法和理解应该是怎样的？","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1616636654,"ip_address":"","comment_id":284081,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14500960824","product_id":100060801,"comment_content":"虽然老师将“流处理平台”归为“准实时”，我也明白老师的意思是“流处理平台相对于客户端&#47;服务端具有一定的滞后性（哪怕是那么几百毫秒）”，但是这在大数据领域却不是一个正确的说法。","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517226,"discussion_content":"欢迎不同的声音，特别是专门从事数据工作的工程师的声音。所以对于流处理平台，正确的说法和理解应该是怎样的？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616636654,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1102507,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d2/ab/55015ae6.jpg","nickname":"陈奇","note":"","ucode":"E4866AFD9D53B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380060,"discussion_content":"你想说的是低延时？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624323867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272157,"user_name":"Geek_b7f31e","can_delete":false,"product_type":"c1","uid":2404372,"ip_address":"","ucode":"A1236E5903A69F","user_header":"","comment_is_top":false,"comment_ctime":1609951055,"is_pvip":false,"replies":[{"id":"98663","content":"1.其实无法回答，跟你的系统设计，数据量大小，模型复杂度都有关系。<br><br>2.一般要求在100ms以内。我想先听听你的想法，你觉得最耗时的环节都在哪？我觉得不难分析出来。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1609971661,"ip_address":"","comment_id":272157,"utype":1}],"discussion_count":3,"race_medal":0,"score":"14494852943","product_id":100060801,"comment_content":"老师，请教几个问题：<br>1. 候选集比较小的情况，比如小于5千个物品，是不是没有必要分成召回和排序两块？<br>2. 一般推荐系统的响应速度要求是多少？根据您的经验制约响应速度的bottle neck一般会出现在哪个环节？<br>谢谢！","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513181,"discussion_content":"1.其实无法回答，跟你的系统设计，数据量大小，模型复杂度都有关系。\n\n2.一般要求在100ms以内。我想先听听你的想法，你觉得最耗时的环节都在哪？我觉得不难分析出来。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609971661,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2454131,"avatar":"https://static001.geekbang.org/account/avatar/00/25/72/73/d707c8be.jpg","nickname":"MutouMan","note":"","ucode":"E2E78C6EE25E80","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369976,"discussion_content":"应该就是召回和排序，数据的提取上应该就是从预训练的特征中直接提取出来，我觉得不是bottlenect。我觉得分成两个部分的主要原因就是复杂度，复杂度低可以把召回和排序放到一起训练，计算后的结果就是排好序的list","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1619237024,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2404372,"avatar":"","nickname":"Geek_b7f31e","note":"","ucode":"A1236E5903A69F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340648,"discussion_content":"我感觉是在数据的join上面会制约响应速度，然后是召回（如果候选集很大的话）","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610087599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":253397,"user_name":"Yuwei Quan🎋","can_delete":false,"product_type":"c1","uid":2196321,"ip_address":"","ucode":"6A47521F03DBCC","user_header":"https://static001.geekbang.org/account/avatar/00/21/83/61/0e92f997.jpg","comment_is_top":false,"comment_ctime":1602726547,"is_pvip":false,"replies":[{"id":"92644","content":"nearline computation主要负责准实时特征更新。<br>数据部分和模型部分的接口 可以关注后续课程的特征和模型服务部分。<br>event distribution 可以用于异常监控预警和一些特征的生成。<br>Hermes和Manhattan是Netflix推荐系统的两个模块，不用过分纠结细节。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1602827475,"ip_address":"","comment_id":253397,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14487628435","product_id":100060801,"comment_content":"我想问nearline computation这一步是在干嘛啊，是把训练好的model 存成artifact准备和online model相结合做deployment吗。我不太懂数据部分和模型部分的接口是什么意思。最后的event distribution存起来有什么好处啊，会复盘吗？然后他们的Netflix Hermes和Manhattan是一个部组的整个代称还是一个数据处理的代称。谢谢","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507063,"discussion_content":"nearline computation主要负责准实时特征更新。\n数据部分和模型部分的接口 可以关注后续课程的特征和模型服务部分。\nevent distribution 可以用于异常监控预警和一些特征的生成。\nHermes和Manhattan是Netflix推荐系统的两个模块，不用过分纠结细节。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602827475,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252427,"user_name":"Geek_07","can_delete":false,"product_type":"c1","uid":1905535,"ip_address":"","ucode":"57E8DA95B1A2B3","user_header":"","comment_is_top":false,"comment_ctime":1602298799,"is_pvip":false,"replies":[{"id":"92235","content":"召回层的时候还会做介绍。基本都会采用多路召回进行融合。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1602398731,"ip_address":"","comment_id":252427,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14487200687","product_id":100060801,"comment_content":"老师，我想请教一下，候选物品库大概是怎么做存储管理的呢？像今日头条这种平台可能会有不同类型的物品（比如视频、图文等等），他们的结构化的内容属性可能都是不同的，做召回的时候，召回层又是怎么跟物品库做交互的？","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506771,"discussion_content":"召回层的时候还会做介绍。基本都会采用多路召回进行融合。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602398731,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249789,"user_name":"李@君","can_delete":false,"product_type":"c1","uid":2111369,"ip_address":"","ucode":"B077098687B4F4","user_header":"","comment_is_top":false,"comment_ctime":1600791093,"is_pvip":false,"replies":[{"id":"91558","content":"问题比较多，可能需要在后续课程中深入讨论。不是一两句话能讲清楚。<br><br>简单来讲数据流部分是每个公司最复杂的部分，其中有历史原因，也有各平台配合的原因。比如Spark目前来讲相比Flink还是更适用于批量大数据处理，而Flink基于流的思想提出，天然更适合流处理。具体的选型，各平台之间的配合，我们在后续对应章节再详细讨论。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1600800052,"ip_address":"","comment_id":249789,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14485692981","product_id":100060801,"comment_content":"老师，spark和flink都兼具批处理和流处理的能力，技术选型时为什么不使用其中一个呢。文中所提到的实时处理，又实用的是什么技术呢。模型在线更新时，是使用新产生的的数据再对模型进行训练吗，这样的话会不会太耗时，影响功能。","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506017,"discussion_content":"问题比较多，可能需要在后续课程中深入讨论。不是一两句话能讲清楚。\n\n简单来讲数据流部分是每个公司最复杂的部分，其中有历史原因，也有各平台配合的原因。比如Spark目前来讲相比Flink还是更适用于批量大数据处理，而Flink基于流的思想提出，天然更适合流处理。具体的选型，各平台之间的配合，我们在后续对应章节再详细讨论。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600800052,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249610,"user_name":"少刷票圈多读书","can_delete":false,"product_type":"c1","uid":1514673,"ip_address":"","ucode":"98147AEA7B61DE","user_header":"https://static001.geekbang.org/account/avatar/00/17/1c/b1/12edee24.jpg","comment_is_top":false,"comment_ctime":1600705231,"is_pvip":false,"replies":[{"id":"91532","content":"嗯，基本算是课后问题的详细解答了。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1600747155,"ip_address":"","comment_id":249610,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14485607119","product_id":100060801,"comment_content":"王喆老师对应的知乎专栏文章：https:&#47;&#47;zhuanlan.zhihu.com&#47;p&#47;114590897","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505966,"discussion_content":"嗯，基本算是课后问题的详细解答了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600747155,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304709,"user_name":"胡景方","can_delete":false,"product_type":"c1","uid":2719584,"ip_address":"","ucode":"67371485F96D70","user_header":"https://static001.geekbang.org/account/avatar/00/29/7f/60/9d7bae85.jpg","comment_is_top":false,"comment_ctime":1627559975,"is_pvip":false,"replies":[{"id":"110271","content":"接着往后学就可以","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1627691676,"ip_address":"","comment_id":304709,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10217494567","product_id":100060801,"comment_content":"问一个很傻的问题，什么是embedding？","like_count":2,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524129,"discussion_content":"接着往后学就可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627691676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2631849,"avatar":"https://static001.geekbang.org/account/avatar/00/28/28/a9/4cf153a3.jpg","nickname":"雨巷","note":"","ucode":"DE25C003B3D407","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398579,"discussion_content":"谢谢你帮我问了，哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632815255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":288185,"user_name":"信军","can_delete":false,"product_type":"c1","uid":1216476,"ip_address":"","ucode":"067709A21E357B","user_header":"https://static001.geekbang.org/account/avatar/00/12/8f/dc/31c55cc1.jpg","comment_is_top":false,"comment_ctime":1618345560,"is_pvip":false,"replies":[{"id":"104770","content":"暂时没有精力维护微信群，先通过留言交流吧，抱歉。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1618632368,"ip_address":"","comment_id":288185,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10208280152","product_id":100060801,"comment_content":"老师，能否帮我们付费用户拉个群，我们想互相沟通学习下","like_count":2,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518540,"discussion_content":"暂时没有精力维护微信群，先通过留言交流吧，抱歉。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618632368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286436,"user_name":"Jing Lu","can_delete":false,"product_type":"c1","uid":2547010,"ip_address":"","ucode":"D2B4D8527B95B6","user_header":"https://static001.geekbang.org/account/avatar/00/26/dd/42/57a688b7.jpg","comment_is_top":false,"comment_ctime":1617300076,"is_pvip":false,"replies":[{"id":"104126","content":"用得最多的还是特征和数据的实时更新。模型的增量train当然也可以，理论上任何使用mini batch和SGD的模型都可以使用增量train，小时频率更新没问题，很常见。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1617532523,"ip_address":"","comment_id":286436,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10207234668","product_id":100060801,"comment_content":"Netflix架构里面nearline的model, 具体回事什么样的模型啊？感觉只有那些能够incremental train的才行？比如neural net和gradient boosting tree？nearline model的training的更新频率是不是至少在小时的级别，不会太快？","like_count":2,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517988,"discussion_content":"用得最多的还是特征和数据的实时更新。模型的增量train当然也可以，理论上任何使用mini batch和SGD的模型都可以使用增量train，小时频率更新没问题，很常见。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617532523,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255512,"user_name":"IT蜗壳-Tango","can_delete":false,"product_type":"c1","uid":1000612,"ip_address":"","ucode":"92330844C1EF9C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/a4/7a45d979.jpg","comment_is_top":false,"comment_ctime":1603361073,"is_pvip":true,"replies":[{"id":"93151","content":"加油","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1603413212,"ip_address":"","comment_id":255512,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10193295665","product_id":100060801,"comment_content":"看其他留言都太牛了，加油学习吧。","like_count":2,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507738,"discussion_content":"加油","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603413212,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280825,"user_name":"尼采","can_delete":false,"product_type":"c1","uid":2456392,"ip_address":"","ucode":"933B6370FBE4B8","user_header":"https://static001.geekbang.org/account/avatar/00/25/7b/48/6468c1f5.jpg","comment_is_top":false,"comment_ctime":1614411129,"is_pvip":false,"replies":[{"id":"102025","content":"offline包括离线的数据处理，特征抽取，样本准备和离线的模型训练等部分。不能简单的归为数据部分或者模型部分。<br><br>近线的理解没有问题","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1614563736,"ip_address":"","comment_id":280825,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5909378425","product_id":100060801,"comment_content":"看了一些留言，好像都没有说offline计算属于哪个部分，弱问大佬，offline计算应该属于数据部分，然后主要是离线特征挖掘之类的? 近线计算的部分，我理解主要是做一些比如实时的特征监控等，或者增量的训练数据的准备？","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516217,"discussion_content":"offline包括离线的数据处理，特征抽取，样本准备和离线的模型训练等部分。不能简单的归为数据部分或者模型部分。\n\n近线的理解没有问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614563736,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":274311,"user_name":"11","can_delete":false,"product_type":"c1","uid":2405506,"ip_address":"","ucode":"6D0363D5A54DED","user_header":"https://static001.geekbang.org/account/avatar/00/24/b4/82/735f64b4.jpg","comment_is_top":false,"comment_ctime":1610961336,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5905928632","product_id":100060801,"comment_content":"数据部分：<br>用户的行为信息进入 Event Distribution<br>一部分进入到OFFLINE部分Hadoop<br>一部分进入NEARLINE部分User Event Queue<br>Offline Data<br>Online Data Service<br>模型部分：Netflix.Hermes Offine Computation, Model training, Machine Learning Algorithm, Models<br>Netflix.Manhattan Nearline Computation, Cassandra, MySQL, eocache","like_count":1},{"had_liked":false,"id":272737,"user_name":"Mc铭城","can_delete":false,"product_type":"c1","uid":1127212,"ip_address":"","ucode":"5F1710A8124180","user_header":"https://static001.geekbang.org/account/avatar/00/11/33/2c/bc47cf1b.jpg","comment_is_top":false,"comment_ctime":1610257515,"is_pvip":false,"replies":[{"id":"98858","content":"可以接着向下学习，这不会是个问题。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1610264224,"ip_address":"","comment_id":272737,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5905224811","product_id":100060801,"comment_content":"老师，您好，请问Nearline Computation和Online Computation的区别在哪里呢？<br>我理解Nearline Computation会计算一些准实时的特征，比如说近3min浏览某产品的时长，那Online Computation具体做什么呢？Online Inference吗？","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513370,"discussion_content":"可以接着向下学习，这不会是个问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610264224,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129610,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","nickname":"test","note":"","ucode":"C57A175CBC6547","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380667,"discussion_content":"同问，不急不急，问题比答案重要，可以不知道答案但不能没有问题","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1624621715,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":264875,"user_name":"韩木子","can_delete":false,"product_type":"c1","uid":2338335,"ip_address":"","ucode":"EB45F45897C520","user_header":"","comment_is_top":false,"comment_ctime":1606697919,"is_pvip":false,"replies":[{"id":"96262","content":"模型在线上做预测时候，也需要输入同样的特征才能得到预测得分，就是这里所谓的用于线上推断的特征。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1606796240,"ip_address":"","comment_id":264875,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5901665215","product_id":100060801,"comment_content":"“生成推荐系统模型服务（Model Serving）所需的“用户特征”，“物品特征”和一部分“场景特征”，用于推荐系统的线上推断。”<br>老师，这部分数据是什么，跟训练模型的数据有什么区别","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510724,"discussion_content":"模型在线上做预测时候，也需要输入同样的特征才能得到预测得分，就是这里所谓的用于线上推断的特征。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606796240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249790,"user_name":"李@君","can_delete":false,"product_type":"c1","uid":2111369,"ip_address":"","ucode":"B077098687B4F4","user_header":"","comment_is_top":false,"comment_ctime":1600791371,"is_pvip":false,"replies":[{"id":"91557","content":"这张图是netflix 2015年发布的，所以有些技术肯定会更新。在这里仅作为大家练习使用。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1600799861,"ip_address":"","comment_id":249790,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5895758667","product_id":100060801,"comment_content":"Netflix的离线数据处理部分，还在使用hive和pig技术吗。","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506018,"discussion_content":"这张图是netflix 2015年发布的，所以有些技术肯定会更新。在这里仅作为大家练习使用。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600799861,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335584,"user_name":"yangchao","can_delete":false,"product_type":"c1","uid":1009560,"ip_address":"","ucode":"41843ED0856819","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/98/d5e08eb7.jpg","comment_is_top":false,"comment_ctime":1645596821,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1645596821","product_id":100060801,"comment_content":"请问图4技术架构图里，没有看到模型的实时部分，这块应该是在图里的【模型serving】的模块里么？","like_count":0},{"had_liked":false,"id":333961,"user_name":"Geek_e8024b","can_delete":false,"product_type":"c1","uid":2737277,"ip_address":"","ucode":"D33A659CD4514E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIJZ9icLVZBrgxoUG6ibSnahNLs5ib50OFsqUJvgqs5qdqibsjbVaEf3iaND5IJcSycHiaDv4Yic7FPLUbAw/132","comment_is_top":false,"comment_ctime":1644639564,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1644639564","product_id":100060801,"comment_content":"老师，请问有可以做跨领域推荐的数据集吗，毕设就是做这个","like_count":0},{"had_liked":false,"id":324872,"user_name":"阿文","can_delete":false,"product_type":"c1","uid":2198687,"ip_address":"","ucode":"56B1DD4A8F1CC9","user_header":"https://static001.geekbang.org/account/avatar/00/21/8c/9f/6d4fd870.jpg","comment_is_top":false,"comment_ctime":1638697459,"is_pvip":false,"replies":[{"id":"117947","content":"是的。具体差异往后学习吧","user_name":"作者回复","user_name_real":"编辑","uid":"1662192","ctime":1638816640,"ip_address":"","comment_id":324872,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638697459","product_id":100060801,"comment_content":"请问老师，召回层的模型和排序层的模型都是在拟合推荐函数f(U,I,C)吗？各自有什么分工不同吗，在f函数上能否有对应表述","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536570,"discussion_content":"是的。具体差异往后学习吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638816640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308861,"user_name":"曹杯杯💥","can_delete":false,"product_type":"c1","uid":1467004,"ip_address":"","ucode":"CA030DFC3D6912","user_header":"https://static001.geekbang.org/account/avatar/00/16/62/7c/a46ca139.jpg","comment_is_top":false,"comment_ctime":1629835144,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629835144","product_id":100060801,"comment_content":"下半年做特征数据建设，来增加点知识储备","like_count":0},{"had_liked":false,"id":308539,"user_name":"sky","can_delete":false,"product_type":"c1","uid":2325199,"ip_address":"","ucode":"C7BA135845E1FF","user_header":"https://static001.geekbang.org/account/avatar/00/23/7a/cf/c42dd74e.jpg","comment_is_top":false,"comment_ctime":1629680416,"is_pvip":false,"replies":[{"id":"111714","content":"可参考我的这篇回答 https:&#47;&#47;www.zhihu.com&#47;question&#47;19662693&#47;answer&#47;757347092","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1629702806,"ip_address":"","comment_id":308539,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1629680416","product_id":100060801,"comment_content":"我想问一下，搜索和推荐区别是什么呢？以及，搜索为何不重要呢感觉(相关课程少)","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525526,"discussion_content":"可参考我的这篇回答 https://www.zhihu.com/question/19662693/answer/757347092","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629702806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305248,"user_name":"Geek_8a732a","can_delete":false,"product_type":"c1","uid":2723806,"ip_address":"","ucode":"97A312D97F7B91","user_header":"","comment_is_top":false,"comment_ctime":1627893018,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627893018","product_id":100060801,"comment_content":"数据部分：Event Distribution、Online Data Service、User Event Queue、Netflix.Manattan、Nearline Computation、Cassandra、MySQL、cache、haddop、Query results、Offline Data、Netflix.Hermes<br>模型部分：Online Computayion、Algorithm Service、Offline Computation、Model traing、models<br>（Nearline Computation涵盖了特征实时计算、数据监控、BI、模型实时训练等等，也属于数据部分）","like_count":0},{"had_liked":false,"id":304962,"user_name":"陈威洋","can_delete":false,"product_type":"c1","uid":2264679,"ip_address":"","ucode":"DCF84B4D3A7354","user_header":"https://static001.geekbang.org/account/avatar/00/22/8e/67/afb412fb.jpg","comment_is_top":false,"comment_ctime":1627718860,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627718860","product_id":100060801,"comment_content":"关于 图片的论文下载：<br><br>1.《Neural collaborative filtering》：（《神经协同过滤-论文》）<br>https:&#47;&#47;arxiv.org&#47;pdf&#47;1708.05031.pdf<br><br>2.《Deep Interest Evolution Network for Click-Through Rate Prediction》：（《阿里巴巴的深度兴趣进化网络》）<br>https:&#47;&#47;arxiv.org&#47;pdf&#47;1809.03672.pdf","like_count":0},{"had_liked":false,"id":292604,"user_name":"slq","can_delete":false,"product_type":"c1","uid":1511768,"ip_address":"","ucode":"6958A3A5B5F0DD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLdJRI1tJBvFuNHPsmrLSwLn4YtKibFMF1iaZ4Wks8saW7RKn5WrJXQb1icPYM61GKL53NdAJDaumq6w/132","comment_is_top":false,"comment_ctime":1620892109,"is_pvip":false,"replies":[{"id":"106641","content":"offline computation其实两部分都会涉及，比如特征的李离线处理属于数据部分，但模型样本的准备，离线的预估属于模型部分。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1621701586,"ip_address":"","comment_id":292604,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1620892109","product_id":100060801,"comment_content":"老师这讲很有启发，尤其推荐系统树🌲<br>问题回答如下：<br>数据部分：User event queue&#47;event distrubution&#47;Ui client&#47;online data service&#47;Netflix Hermes&#47;Netflix manhattan&#47;nearline computation<br>模型部分，model training&#47;offline computation&#47;Algorithm service&#47;online computation<br>老师，offline computation算是哪个部分呢？","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519892,"discussion_content":"offline computation其实两部分都会涉及，比如特征的李离线处理属于数据部分，但模型样本的准备，离线的预估属于模型部分。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621701586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280256,"user_name":"Alan","can_delete":false,"product_type":"c1","uid":2115316,"ip_address":"","ucode":"591A28E310A8F5","user_header":"https://static001.geekbang.org/account/avatar/00/20/46/f4/93b1275b.jpg","comment_is_top":false,"comment_ctime":1614144489,"is_pvip":false,"replies":[{"id":"101875","content":"应该学到后面就不会有这个疑问了，慢慢来。","user_name":"作者回复","user_name_real":"王喆","uid":"1662192","ctime":1614305055,"ip_address":"","comment_id":280256,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1614144489","product_id":100060801,"comment_content":"答：<br>数据部分：event distribution, hadoop, query results, netflex.hermes, user event queue, netflix.manhattan，nearline computation<br>模型部分：model training, models, online computation, online data service, algorithm service.<br><br>提问：1、业界spark、Flink搭建推荐系统数据部分，是否有什么区别，更推荐使用哪种计算引擎？（虽然基于业务判断）？","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"王喆","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516039,"discussion_content":"应该学到后面就不会有这个疑问了，慢慢来。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614305055,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
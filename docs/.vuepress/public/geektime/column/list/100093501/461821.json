{"id":461821,"title":"22ï½œå‡½æ•°ï¼šæ€ä¹ˆç»“åˆå¤šè¿”å›å€¼è¿›è¡Œé”™è¯¯å¤„ç†ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯Tony Baiã€‚</p><p>ä¸Šä¸€èŠ‚è¯¾ï¼Œæˆ‘ä»¬å¼€å§‹äº†Goå‡½æ•°çš„å­¦ä¹ ï¼Œå¯¹Goè¯­è¨€ä¸­çš„å‡½æ•°å·²ç»æœ‰äº†åŸºç¡€çš„äº†è§£ã€‚é‚£ä¹ˆï¼Œä»Šå¤©è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬è¦å†è¿›ä¸€æ­¥ï¼Œå­¦ä¹ æ€ä¹ˆåšå¥½å‡½æ•°è®¾è®¡ã€‚</p><p>åœ¨ä¸ŠèŠ‚è¯¾çš„å‡½æ•°å£°æ˜éƒ¨åˆ†ï¼Œæˆ‘ä»¬æåˆ°ï¼Œå¤šè¿”å›å€¼æ˜¯Goè¯­è¨€å‡½æ•°ï¼ŒåŒºåˆ«äºå…¶ä»–ä¸»æµé™æ€ç¼–ç¨‹è¯­è¨€ä¸­å‡½æ•°çš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹ã€‚åŒæ—¶ï¼Œå®ƒä¹Ÿæ˜¯Goè¯­è¨€è®¾è®¡è€…å»ºæ„Goè¯­è¨€é”™è¯¯å¤„ç†æœºåˆ¶çš„åŸºç¡€ï¼Œè€Œé”™è¯¯å¤„ç†è®¾è®¡ä¹Ÿæ˜¯åšå‡½æ•°è®¾è®¡çš„ä¸€ä¸ªé‡è¦ç¯èŠ‚ã€‚</p><p>æ‰€ä»¥ä»Šå¤©è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬å°†ä¼šä»Goè¯­è¨€çš„é”™è¯¯å¤„ç†æœºåˆ¶å…¥æ‰‹ï¼Œå›´ç»•Goè¯­è¨€é”™è¯¯å¤„ç†æœºåˆ¶çš„åŸç†ã€Goé”™è¯¯å¤„ç†çš„å¸¸è§ç­–ç•¥ï¼Œæ¥å­¦ä¹ ä¸€ä¸‹å¦‚ä½•ç»“åˆå‡½æ•°çš„å¤šè¿”å›å€¼æœºåˆ¶è¿›è¡Œé”™è¯¯å¤„ç†çš„è®¾è®¡ã€‚</p><p>è¿™ä¼šè®©ä½ å»ºç«‹èµ·Goç¼–ç çš„ç»Ÿä¸€é”™è¯¯å¤„ç†æ€ç»´ï¼Œå†™å‡ºæ›´å¥å£®çš„ã€è®©ä½ è‡ªå·±æ›´æœ‰ä¿¡å¿ƒçš„Goä»£ç ã€‚</p><p>è¦æƒ³åšå¥½é”™è¯¯å¤„ç†è®¾è®¡ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å…ˆæ¥äº†è§£Goè¯­è¨€é”™è¯¯è®¾è®¡çš„åŸºæœ¬æ€è·¯ä¸åŸç†ã€‚</p><h2>Goè¯­è¨€æ˜¯å¦‚ä½•è¿›è¡Œé”™è¯¯å¤„ç†çš„ï¼Ÿ</h2><p>é‡‡ç”¨ä»€ä¹ˆé”™è¯¯å¤„ç†æ–¹å¼ï¼Œå…¶å®æ˜¯ä¸€é—¨ç¼–ç¨‹è¯­è¨€åœ¨è®¾è®¡æ—©æœŸå°±è¦ç¡®å®šä¸‹æ¥çš„åŸºæœ¬æœºåˆ¶ï¼Œå®ƒåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå½±å“ç€ç¼–ç¨‹è¯­è¨€çš„è¯­æ³•å½¢å¼ã€è¯­è¨€å®ç°çš„éš¾æ˜“ç¨‹åº¦ï¼Œä»¥åŠè¯­è¨€åç»­çš„æ¼”è¿›æ–¹å‘ã€‚</p><p>æˆ‘ä»¬å‰é¢å·²ç»å¤šæ¬¡æåˆ°ï¼ŒGoè¯­è¨€ç»§æ‰¿äº†â€œå…ˆç¥–â€Cè¯­è¨€çš„å¾ˆå¤šè¯­æ³•ç‰¹æ€§ï¼Œåœ¨é”™è¯¯å¤„ç†æœºåˆ¶ä¸Šä¹Ÿä¸ä¾‹å¤–ï¼ŒGoè¯­è¨€é”™è¯¯å¤„ç†æœºåˆ¶ä¹Ÿæ˜¯åœ¨Cè¯­è¨€é”™è¯¯å¤„ç†æœºåˆ¶åŸºç¡€ä¸Šçš„å†åˆ›æ–°ã€‚</p><!-- [[[read_end]]] --><p>é‚£ä¹ˆè¿™é‡Œï¼Œæˆ‘ä»¬ä¾ç„¶ä»æºå¤´è®²èµ·ï¼Œå…ˆçœ‹çœ‹å‰è¾ˆCè¯­è¨€çš„é”™è¯¯å¤„ç†æœºåˆ¶ã€‚åœ¨Cè¯­è¨€ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨ä¸€ä¸ªç±»å‹ä¸ºæ•´å‹çš„å‡½æ•°è¿”å›å€¼ä½œä¸ºé”™è¯¯çŠ¶æ€æ ‡è¯†ï¼Œå‡½æ•°è°ƒç”¨è€…ä¼šåŸºäºå€¼æ¯”è¾ƒçš„æ–¹å¼ï¼Œå¯¹è¿™ä¸€ä»£è¡¨é”™è¯¯çŠ¶æ€çš„è¿”å›å€¼è¿›è¡Œæ£€è§†ã€‚é€šå¸¸ï¼Œè¿™ä¸ªè¿”å›å€¼ä¸º0ï¼Œå°±ä»£è¡¨å‡½æ•°è°ƒç”¨æˆåŠŸï¼›å¦‚æœè¿™ä¸ªè¿”å›å€¼æ˜¯å…¶å®ƒå€¼ï¼Œé‚£å°±ä»£è¡¨å‡½æ•°è°ƒç”¨å‡ºç°é”™è¯¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡½æ•°è°ƒç”¨è€…éœ€è¦æ ¹æ®è¿™ä¸ªè¿”å›å€¼ä»£è¡¨çš„é”™è¯¯çŠ¶æ€ï¼Œæ¥å†³å®šåç»­æ‰§è¡Œå“ªæ¡é”™è¯¯å¤„ç†è·¯å¾„ä¸Šçš„ä»£ç ã€‚</p><p>Cè¯­è¨€çš„è¿™ç§ç®€å•çš„ã€<strong>åŸºäºé”™è¯¯å€¼æ¯”è¾ƒ</strong>çš„é”™è¯¯å¤„ç†æœºåˆ¶æœ‰ä»€ä¹ˆä¼˜ç‚¹å‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œå®ƒè®©æ¯ä¸ªå¼€å‘äººå‘˜å¿…é¡»æ˜¾å¼åœ°å»å…³æ³¨å’Œå¤„ç†æ¯ä¸ªé”™è¯¯ï¼Œç»è¿‡æ˜¾å¼é”™è¯¯å¤„ç†çš„ä»£ç ä¼šæ›´å¥å£®ï¼Œä¹Ÿä¼šè®©å¼€å‘äººå‘˜å¯¹è¿™äº›ä»£ç æ›´æœ‰ä¿¡å¿ƒã€‚</p><p>å¦å¤–ï¼Œä½ ä¹Ÿå¯ä»¥å‘ç°ï¼Œè¿™äº›é”™è¯¯å°±æ˜¯æ™®é€šçš„å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦ç”¨é¢å¤–çš„è¯­è¨€æœºåˆ¶å»å¤„ç†å®ƒä»¬ï¼Œæˆ‘ä»¬åªéœ€åˆ©ç”¨å·²æœ‰çš„è¯­è¨€æœºåˆ¶ï¼Œåƒå¤„ç†å…¶ä»–æ™®é€šç±»å‹å€¼ä¸€æ ·çš„å»å¤„ç†é”™è¯¯å°±å¯ä»¥äº†ï¼Œè¿™ä¹Ÿè®©ä»£ç æ›´å®¹æ˜“è°ƒè¯•ï¼Œæ›´å®¹æ˜“é’ˆå¯¹æ¯ä¸ªé”™è¯¯å¤„ç†çš„å†³ç­–åˆ†æ”¯è¿›è¡Œæµ‹è¯•è¦†ç›–ã€‚Cè¯­è¨€é”™è¯¯å¤„ç†æœºåˆ¶çš„è¿™ç§ç®€å•ä¸æ˜¾å¼ç»“åˆçš„ç‰¹å¾ï¼Œå’ŒGoè¯­è¨€è®¾è®¡å“²å­¦ååˆ†å¥‘åˆï¼Œäºæ˜¯Goè¯­è¨€è®¾è®¡è€…å†³å®šç»§æ‰¿Cè¯­è¨€è¿™ç§é”™è¯¯å¤„ç†æœºåˆ¶ã€‚</p><p>ä¸è¿‡Cè¯­è¨€è¿™ç§é”™è¯¯å¤„ç†æœºåˆ¶ä¹Ÿæœ‰ä¸€äº›å¼Šç«¯ã€‚æ¯”å¦‚ï¼Œç”±äºCè¯­è¨€ä¸­çš„å‡½æ•°æœ€å¤šä»…æ”¯æŒä¸€ä¸ªè¿”å›å€¼ï¼Œå¾ˆå¤šå¼€å‘è€…ä¼šæŠŠè¿™å•ä¸€çš„è¿”å›å€¼â€œä¸€å€¼å¤šç”¨â€ã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªè¿”å›å€¼ï¼Œä¸ä»…è¦æ‰¿è½½å‡½æ•°è¦è¿”å›ç»™è°ƒç”¨è€…çš„ä¿¡æ¯ï¼Œåˆè¦æ‰¿è½½å‡½æ•°è°ƒç”¨çš„æœ€ç»ˆé”™è¯¯çŠ¶æ€ã€‚æ¯”å¦‚Cæ ‡å‡†åº“ä¸­çš„<code>fprintf</code>å‡½æ•°çš„è¿”å›å€¼å°±æ‰¿è½½äº†ä¸¤ç§å«ä¹‰ã€‚åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œå®ƒçš„è¿”å›å€¼è¡¨ç¤ºè¾“å‡ºåˆ°FILEæµä¸­çš„å­—ç¬¦æ•°é‡ï¼Œä½†å¦‚æœå‡ºç°é”™è¯¯ï¼Œè¿™ä¸ªè¿”å›å€¼å°±å˜æˆäº†ä¸€ä¸ªè´Ÿæ•°ï¼Œä»£è¡¨å…·ä½“çš„é”™è¯¯å€¼ï¼š</p><pre><code class=\"language-plain\">// stdio.h\nint fprintf(FILE * restrict stream, const char * restrict format, ...);\n</code></pre><p>ç‰¹åˆ«æ˜¯å½“è¿”å›å€¼ä¸ºå…¶ä»–ç±»å‹ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜å¾ˆéš¾å°†å®ƒä¸é”™è¯¯çŠ¶æ€èåˆåˆ°ä¸€èµ·ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå¾ˆå¤šCå¼€å‘äººå‘˜è¦ä¹ˆä½¿ç”¨è¾“å‡ºå‚æ•°ï¼Œæ‰¿è½½è¦è¿”å›ç»™è°ƒç”¨è€…çš„ä¿¡æ¯ï¼Œè¦ä¹ˆè‡ªå®šä¹‰ä¸€ä¸ªåŒ…å«è¿”å›ä¿¡æ¯ä¸é”™è¯¯çŠ¶æ€çš„ç»“æ„ä½“ï¼Œä½œä¸ºè¿”å›å€¼ç±»å‹ã€‚å¤§å®¶åšæ³•ä¸ä¸€ï¼Œå°±å¾ˆéš¾å½¢æˆç»Ÿä¸€çš„é”™è¯¯å¤„ç†ç­–ç•¥ã€‚</p><p>ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼ŒGoå‡½æ•°å¢åŠ äº†<strong>å¤šè¿”å›å€¼æœºåˆ¶</strong>ï¼Œæ¥æ”¯æŒé”™è¯¯çŠ¶æ€ä¸è¿”å›ä¿¡æ¯çš„åˆ†ç¦»ï¼Œå¹¶å»ºè®®å¼€å‘è€…æŠŠè¦è¿”å›ç»™è°ƒç”¨è€…çš„ä¿¡æ¯å’Œé”™è¯¯çŠ¶æ€æ ‡è¯†ï¼Œåˆ†åˆ«æ”¾åœ¨ä¸åŒçš„è¿”å›å€¼ä¸­ã€‚</p><p>æˆ‘ä»¬ç»§ç»­ä»¥ä¸Šé¢Cè¯­è¨€ä¸­çš„fprintfå‡½æ•°ä¸ºä¾‹ï¼ŒGoæ ‡å‡†åº“ä¸­æœ‰ä¸€ä¸ªå’ŒåŠŸèƒ½ç­‰åŒçš„<code>fmt.Fprintf</code>çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªç‹¬ç«‹çš„è¡¨ç¤ºé”™è¯¯çŠ¶æ€çš„è¿”å›å€¼ï¼ˆå¦‚ä¸‹é¢ä»£ç ä¸­çš„errï¼‰ï¼Œè§£å†³äº†fprintfå‡½æ•°ä¸­é”™è¯¯çŠ¶æ€å€¼ä¸è¿”å›ä¿¡æ¯è€¦åˆåœ¨ä¸€èµ·çš„é—®é¢˜ï¼š</p><pre><code class=\"language-go\">// fmtåŒ…\nfunc Fprintf(w io.Writer, format string, a ...interface{}) (n int, err error)\n</code></pre><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œåœ¨fmt.Fprintfä¸­ï¼Œè¿”å›å€¼nç”¨æ¥è¡¨ç¤ºå†™å…¥io.Writerä¸­çš„å­—èŠ‚ä¸ªæ•°ï¼Œè¿”å›å€¼errè¡¨ç¤ºè¿™ä¸ªå‡½æ•°è°ƒç”¨çš„æœ€ç»ˆçŠ¶æ€ï¼Œå¦‚æœæˆåŠŸï¼Œerrå€¼å°±ä¸ºnilï¼Œä¸æˆåŠŸå°±ä¸ºç‰¹å®šçš„é”™è¯¯å€¼ã€‚</p><p>å¦å¤–æˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ°ï¼Œfmt.Fprintfå‡½æ•°å£°æ˜ä¸­ä»£è¡¨é”™è¯¯çŠ¶æ€çš„å˜é‡errçš„ç±»å‹ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªä¼ ç»Ÿä½¿ç”¨çš„æ•´æ•°ç±»å‹ï¼Œè€Œæ˜¯ç”¨äº†ä¸€ä¸ªåä¸ºerrorçš„ç±»å‹ã€‚</p><p>è™½ç„¶ï¼Œåœ¨Goè¯­è¨€ä¸­ï¼Œæˆ‘ä»¬ä¾ç„¶å¯ä»¥åƒä¼ ç»Ÿçš„Cè¯­è¨€é‚£æ ·ï¼Œç”¨ä¸€ä¸ªæ•´å‹å€¼æ¥è¡¨ç¤ºé”™è¯¯çŠ¶æ€ï¼Œä½†<strong>Goè¯­è¨€æƒ¯ç”¨æ³•</strong>ï¼Œæ˜¯ä½¿ç”¨errorè¿™ä¸ªæ¥å£ç±»å‹è¡¨ç¤ºé”™è¯¯ï¼Œå¹¶ä¸”æŒ‰æƒ¯ä¾‹ï¼Œæˆ‘ä»¬é€šå¸¸å°†errorç±»å‹è¿”å›å€¼æ”¾åœ¨è¿”å›å€¼åˆ—è¡¨çš„æœ«å°¾ï¼Œå°±åƒfmt.Fprintfå‡½æ•°å£°æ˜ä¸­é‚£æ ·ã€‚</p><p>é‚£ä¹ˆerroræ¥å£ç±»å‹ç©¶ç«Ÿå¦‚ä½•è¡¨ç¤ºé”™è¯¯ï¼Ÿæˆ‘ä»¬åˆè¯¥å¦‚ä½•æ„é€ ä¸€ä¸ªæ»¡è¶³erroræ¥å£ç±»å‹çš„é”™è¯¯å€¼å‘¢ï¼Ÿæˆ‘ä»¬ç»§ç»­å‘ä¸‹çœ‹ã€‚</p><h2>errorç±»å‹ä¸é”™è¯¯å€¼æ„é€ </h2><p>erroræ¥å£æ˜¯GoåŸç”Ÿå†…ç½®çš„ç±»å‹ï¼Œå®ƒçš„å®šä¹‰å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">// $GOROOT/src/builtin/builtin.go\ntype error interface {\n    Error() string\n}\n</code></pre><p>ä»»ä½•å®ç°äº†errorçš„Erroræ–¹æ³•çš„ç±»å‹çš„å®ä¾‹ï¼Œéƒ½å¯ä»¥ä½œä¸ºé”™è¯¯å€¼èµ‹å€¼ç»™erroræ¥å£å˜é‡ã€‚é‚£è¿™é‡Œï¼Œé—®é¢˜å°±æ¥äº†ï¼š<strong>éš¾é“ä¸ºäº†æ„é€ ä¸€ä¸ªé”™è¯¯å€¼ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªæ–°ç±»å‹æ¥å®ç°erroræ¥å£å—</strong>ï¼Ÿ</p><p>Goè¯­è¨€çš„è®¾è®¡è€…æ˜¾ç„¶ä¹Ÿæƒ³åˆ°äº†è¿™ä¸€ç‚¹ï¼Œä»–ä»¬åœ¨æ ‡å‡†åº“ä¸­æä¾›äº†ä¸¤ç§æ–¹ä¾¿Goå¼€å‘è€…æ„é€ é”™è¯¯å€¼çš„æ–¹æ³•ï¼š <code>errors.New</code>å’Œ<code>fmt.Errorf</code>ã€‚ä½¿ç”¨è¿™ä¸¤ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾æ„é€ å‡ºä¸€ä¸ªæ»¡è¶³erroræ¥å£çš„é”™è¯¯å€¼ï¼Œå°±åƒä¸‹é¢ä»£ç è¿™æ ·ï¼š</p><pre><code class=\"language-plain\">err := errors.New(\"your first demo error\")\nerrWithCtx = fmt.Errorf(\"index %d is out of bounds\", i)\n</code></pre><p>è¿™ä¸¤ç§æ–¹æ³•å®é™…ä¸Šè¿”å›çš„æ˜¯åŒä¸€ä¸ªå®ç°äº†erroræ¥å£çš„ç±»å‹çš„å®ä¾‹ï¼Œè¿™ä¸ªæœªå¯¼å‡ºçš„ç±»å‹å°±æ˜¯<code>errors.errorString</code>ï¼Œå®ƒçš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š</p><pre><code class=\"language-plain\">// $GOROOT/src/errors/errors.go\n\ntype errorString struct {\n    s string\n}\n\nfunc (e *errorString) Error() string {\n    return e.s\n}\n</code></pre><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½¿ç”¨è¿™ä¸¤ç§æ–¹æ³•æ„å»ºçš„é”™è¯¯å€¼å°±å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚äº†ã€‚ä½†æˆ‘ä»¬ä¹Ÿè¦çœ‹åˆ°ï¼Œè™½ç„¶è¿™ä¸¤ç§æ„å»ºé”™è¯¯å€¼çš„æ–¹æ³•å¾ˆæ–¹ä¾¿ï¼Œä½†å®ƒä»¬ç»™é”™è¯¯å¤„ç†è€…æä¾›çš„é”™è¯¯ä¸Šä¸‹æ–‡ï¼ˆError Contextï¼‰åªé™äºä»¥å­—ç¬¦ä¸²å½¢å¼å‘ˆç°çš„ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯Erroræ–¹æ³•è¿”å›çš„ä¿¡æ¯ã€‚</p><p>ä½†åœ¨ä¸€äº›åœºæ™¯ä¸‹ï¼Œé”™è¯¯å¤„ç†è€…éœ€è¦ä»é”™è¯¯å€¼ä¸­æå–å‡ºæ›´å¤šä¿¡æ¯ï¼Œå¸®åŠ©ä»–é€‰æ‹©é”™è¯¯å¤„ç†è·¯å¾„ï¼Œæ˜¾ç„¶è¿™ä¸¤ç§æ–¹æ³•å°±ä¸èƒ½æ»¡è¶³äº†ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰é”™è¯¯ç±»å‹æ¥æ»¡è¶³è¿™ä¸€éœ€æ±‚ã€‚æ¯”å¦‚ï¼šæ ‡å‡†åº“ä¸­çš„netåŒ…å°±å®šä¹‰äº†ä¸€ç§æºå¸¦é¢å¤–é”™è¯¯ä¸Šä¸‹æ–‡çš„é”™è¯¯ç±»å‹ï¼š</p><pre><code class=\"language-plain\">// $GOROOT/src/net/net.go\ntype OpError struct {\n    Op string\n    Net string\n    Source Addr\n    Addr Addr\n    Err error\n}\n</code></pre><p>è¿™æ ·ï¼Œé”™è¯¯å¤„ç†è€…å°±å¯ä»¥æ ¹æ®è¿™ä¸ªç±»å‹çš„é”™è¯¯å€¼æä¾›çš„é¢å¤–ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œæ¯”å¦‚Opã€Netã€Sourceç­‰ï¼Œåšå‡ºé”™è¯¯å¤„ç†è·¯å¾„çš„é€‰æ‹©ï¼Œæ¯”å¦‚ä¸‹é¢æ ‡å‡†åº“ä¸­çš„ä»£ç ï¼š</p><pre><code class=\"language-plain\">// $GOROOT/src/net/http/server.go\nfunc isCommonNetReadError(err error) bool {\n    if err == io.EOF {\n        return true\n    }\n    if neterr, ok := err.(net.Error); ok &amp;&amp; neterr.Timeout() {\n        return true\n    }\n    if oe, ok := err.(*net.OpError); ok &amp;&amp; oe.Op == \"read\" {\n        return true\n    }\n    return false\n}\n</code></pre><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œä¸Šé¢è¿™æ®µä»£ç åˆ©ç”¨ç±»å‹æ–­è¨€ï¼Œåˆ¤æ–­errorç±»å‹å˜é‡errçš„åŠ¨æ€ç±»å‹æ˜¯å¦ä¸º *net.OpErroræˆ– net.Errorã€‚å¦‚æœerrçš„åŠ¨æ€ç±»å‹æ˜¯ *net.OpErrorï¼Œé‚£ä¹ˆç±»å‹æ–­è¨€å°±ä¼šè¿”å›è¿™ä¸ªåŠ¨æ€ç±»å‹çš„å€¼ï¼ˆå­˜å‚¨åœ¨oeä¸­ï¼‰ï¼Œä»£ç å°±å¯ä»¥é€šè¿‡åˆ¤æ–­å®ƒçš„Opå­—æ®µæ˜¯å¦ä¸º\"read\"æ¥åˆ¤æ–­å®ƒæ˜¯å¦ä¸ºCommonNetReadç±»å‹çš„é”™è¯¯ã€‚</p><p>ä¸è¿‡è¿™é‡Œï¼Œä½ ä¸ç”¨è¿‡å¤šäº†è§£ç±»å‹æ–­è¨€ï¼ˆType Assertionï¼‰åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œä½ åªéœ€è¦çŸ¥é“é€šè¿‡ç±»å‹æ–­è¨€ï¼Œæˆ‘ä»¬å¯ä»¥åˆ¤æ–­æ¥å£ç±»å‹çš„åŠ¨æ€ç±»å‹ï¼Œä»¥åŠè·å–å®ƒåŠ¨æ€ç±»å‹çš„å€¼æ¥å¯ä»¥äº†ã€‚åé¢æˆ‘ä»¬åœ¨è®²è§£æ¥å£ç±»å‹çš„æ—¶å€™è¿˜ä¼šå†ç»†è®²ã€‚</p><p>é‚£ä¹ˆï¼Œä½¿ç”¨errorç±»å‹ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„æ•´å‹æˆ–å…¶ä»–ç±»å‹ä½œä¸ºé”™è¯¯ç±»å‹ï¼Œæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿè‡³å°‘æœ‰è¿™ä¸‰ç‚¹å¥½å¤„ï¼š</p><p><strong>ç¬¬ä¸€ç‚¹ï¼šç»Ÿä¸€äº†é”™è¯¯ç±»å‹ã€‚</strong></p><p>å¦‚æœä¸åŒå¼€å‘è€…çš„ä»£ç ã€ä¸åŒé¡¹ç›®ä¸­çš„ä»£ç ï¼Œç”šè‡³æ ‡å‡†åº“ä¸­çš„ä»£ç ï¼Œéƒ½ç»Ÿä¸€ä»¥erroræ¥å£å˜é‡çš„å½¢å¼å‘ˆç°é”™è¯¯ç±»å‹ï¼Œå°±èƒ½åœ¨æå‡ä»£ç å¯è¯»æ€§çš„åŒæ—¶ï¼Œè¿˜æ›´å®¹æ˜“å½¢æˆç»Ÿä¸€çš„é”™è¯¯å¤„ç†ç­–ç•¥ã€‚è¿™ä¸ªæˆ‘ä»¬ä¸‹é¢ä¼šç»†è®²ã€‚</p><p><strong>ç¬¬äºŒç‚¹ï¼šé”™è¯¯æ˜¯å€¼ã€‚</strong></p><p>æˆ‘ä»¬æ„é€ çš„é”™è¯¯éƒ½æ˜¯å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä¾¿èµ‹å€¼ç»™errorè¿™ä¸ªæ¥å£ç±»å‹å˜é‡ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åƒæ•´å‹å€¼é‚£æ ·å¯¹é”™è¯¯åšâ€œ==â€å’Œâ€œ!=â€çš„é€»è¾‘æ¯”è¾ƒï¼Œå‡½æ•°è°ƒç”¨è€…æ£€è§†é”™è¯¯æ—¶çš„ä½“éªŒä¿æŒä¸å˜ã€‚</p><p><strong>ç¬¬ä¸‰ç‚¹ï¼šæ˜“æ‰©å±•ï¼Œæ”¯æŒè‡ªå®šä¹‰é”™è¯¯ä¸Šä¸‹æ–‡ã€‚</strong></p><p>è™½ç„¶é”™è¯¯ä»¥erroræ¥å£å˜é‡çš„å½¢å¼ç»Ÿä¸€å‘ˆç°ï¼Œä½†æˆ‘ä»¬å¾ˆå®¹æ˜“é€šè¿‡è‡ªå®šä¹‰é”™è¯¯ç±»å‹æ¥æ‰©å±•æˆ‘ä»¬çš„é”™è¯¯ä¸Šä¸‹æ–‡ï¼Œå°±åƒå‰é¢çš„Goæ ‡å‡†åº“çš„OpErrorç±»å‹é‚£æ ·ã€‚</p><p>erroræ¥å£æ˜¯é”™è¯¯å€¼çš„æä¾›è€…ä¸é”™è¯¯å€¼çš„æ£€è§†è€…ä¹‹é—´çš„å¥‘çº¦ã€‚erroræ¥å£çš„å®ç°è€…è´Ÿè´£æä¾›é”™è¯¯ä¸Šä¸‹æ–‡ï¼Œä¾›è´Ÿè´£é”™è¯¯å¤„ç†çš„ä»£ç ä½¿ç”¨ã€‚è¿™ç§é”™è¯¯å…·ä½“ä¸Šä¸‹æ–‡ä¸ä½œä¸ºé”™è¯¯å€¼ç±»å‹çš„erroræ¥å£ç±»å‹çš„è§£è€¦ï¼Œä¹Ÿä½“ç°äº†Goç»„åˆè®¾è®¡å“²å­¦ä¸­â€œæ­£äº¤â€çš„ç†å¿µã€‚</p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»åŸºæœ¬äº†è§£äº†Goé”™è¯¯å¤„ç†æœºåˆ¶ã€ç»Ÿä¸€çš„é”™è¯¯å€¼ç±»å‹ï¼Œä»¥åŠé”™è¯¯å€¼æ„é€ æ–¹æ³•ã€‚åœ¨è¿™äº›åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å†è¿›ä¸€æ­¥ï¼Œå­¦ä¹ Goè¯­è¨€çš„å‡ ç§é”™è¯¯å¤„ç†çš„æƒ¯ç”¨ç­–ç•¥ï¼Œå­¦ä¹ è¿™äº›ç­–ç•¥å°†æœ‰åŠ©äºæˆ‘ä»¬æå‡å‡½æ•°é”™è¯¯å¤„ç†è®¾è®¡çš„èƒ½åŠ›ã€‚</p><h2>ç­–ç•¥ä¸€ï¼šé€æ˜é”™è¯¯å¤„ç†ç­–ç•¥</h2><p>ç®€å•æ¥è¯´ï¼ŒGoè¯­è¨€ä¸­çš„é”™è¯¯å¤„ç†ï¼Œå°±æ˜¯æ ¹æ®å‡½æ•°/æ–¹æ³•è¿”å›çš„errorç±»å‹å˜é‡ä¸­æºå¸¦çš„é”™è¯¯å€¼ä¿¡æ¯åšå†³ç­–ï¼Œå¹¶é€‰æ‹©åç»­ä»£ç æ‰§è¡Œè·¯å¾„çš„è¿‡ç¨‹ã€‚</p><p>è¿™æ ·ï¼Œæœ€ç®€å•çš„é”™è¯¯ç­–ç•¥è«è¿‡äºå®Œå…¨ä¸å…³å¿ƒè¿”å›é”™è¯¯å€¼æºå¸¦çš„å…·ä½“ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œåªè¦å‘ç”Ÿé”™è¯¯å°±è¿›å…¥å”¯ä¸€çš„é”™è¯¯å¤„ç†æ‰§è¡Œè·¯å¾„ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼š</p><pre><code class=\"language-plain\">err := doSomething()\nif err != nil {\n    // ä¸å…³å¿ƒerrå˜é‡åº•å±‚é”™è¯¯å€¼æ‰€æºå¸¦çš„å…·ä½“ä¸Šä¸‹æ–‡ä¿¡æ¯\n    // æ‰§è¡Œç®€å•é”™è¯¯å¤„ç†é€»è¾‘å¹¶è¿”å›\n    ... ...\n    return err\n}\n</code></pre><p>è¿™ä¹Ÿæ˜¯Goè¯­è¨€ä¸­<strong>æœ€å¸¸è§çš„é”™è¯¯å¤„ç†ç­–ç•¥</strong>ï¼Œ80%ä»¥ä¸Šçš„Goé”™è¯¯å¤„ç†æƒ…å½¢éƒ½å¯ä»¥å½’ç±»åˆ°è¿™ç§ç­–ç•¥ä¸‹ã€‚åœ¨è¿™ç§ç­–ç•¥ä¸‹ï¼Œç”±äºé”™è¯¯å¤„ç†æ–¹å¹¶ä¸å…³å¿ƒé”™è¯¯å€¼çš„ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥é”™è¯¯å€¼çš„æ„é€ æ–¹ï¼ˆå¦‚ä¸Šé¢çš„å‡½æ•°<code>doSomething</code>ï¼‰å¯ä»¥ç›´æ¥ä½¿ç”¨Goæ ‡å‡†åº“æä¾›çš„ä¸¤ä¸ªåŸºæœ¬é”™è¯¯å€¼æ„é€ æ–¹æ³•<code>errors.New</code>å’Œ<code>fmt.Errorf</code>æ¥æ„é€ é”™è¯¯å€¼ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p><pre><code class=\"language-plain\">func doSomething(...) error {\n    ... ...\n    return errors.New(\"some error occurred\")\n}\n</code></pre><p>è¿™æ ·æ„é€ å‡ºçš„é”™è¯¯å€¼ä»£è¡¨çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå¯¹é”™è¯¯å¤„ç†æ–¹æ˜¯é€æ˜çš„ï¼Œå› æ­¤è¿™ç§ç­–ç•¥ç§°ä¸º<strong>â€œé€æ˜é”™è¯¯å¤„ç†ç­–ç•¥â€</strong>ã€‚åœ¨é”™è¯¯å¤„ç†æ–¹ä¸å…³å¿ƒé”™è¯¯å€¼ä¸Šä¸‹æ–‡çš„å‰æä¸‹ï¼Œé€æ˜é”™è¯¯å¤„ç†ç­–ç•¥èƒ½æœ€å¤§ç¨‹åº¦åœ°å‡å°‘é”™è¯¯å¤„ç†æ–¹ä¸é”™è¯¯å€¼æ„é€ æ–¹ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚</p><h2>ç­–ç•¥äºŒï¼šâ€œå“¨å…µâ€é”™è¯¯å¤„ç†ç­–ç•¥</h2><p>å½“é”™è¯¯å¤„ç†æ–¹ä¸èƒ½åªæ ¹æ®â€œé€æ˜çš„é”™è¯¯å€¼â€å°±åšå‡ºé”™è¯¯å¤„ç†è·¯å¾„é€‰å–çš„æƒ…å†µä¸‹ï¼Œé”™è¯¯å¤„ç†æ–¹ä¼šå°è¯•å¯¹è¿”å›çš„é”™è¯¯å€¼è¿›è¡Œæ£€è§†ï¼Œäºæ˜¯å°±æœ‰å¯èƒ½å‡ºç°ä¸‹é¢ä»£ç ä¸­çš„<strong>åæ¨¡å¼</strong>ï¼š</p><pre><code class=\"language-plain\">data, err := b.Peek(1)\nif err != nil {\n    switch err.Error() {\n    case \"bufio: negative count\":\n        // ... ...\n        return\n    case \"bufio: buffer full\":\n        // ... ...\n        return\n    case \"bufio: invalid use of UnreadByte\":\n        // ... ...\n        return\n    default:\n        // ... ...\n        return\n    }\n}\n</code></pre><p>ç®€å•æ¥è¯´ï¼Œåæ¨¡å¼å°±æ˜¯ï¼Œé”™è¯¯å¤„ç†æ–¹ä»¥é€æ˜é”™è¯¯å€¼æ‰€èƒ½æä¾›çš„å”¯ä¸€ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ˆæè¿°é”™è¯¯çš„å­—ç¬¦ä¸²ï¼‰ï¼Œä½œä¸ºé”™è¯¯å¤„ç†è·¯å¾„é€‰æ‹©çš„ä¾æ®ã€‚ä½†è¿™ç§â€œåæ¨¡å¼â€ä¼šé€ æˆä¸¥é‡çš„<strong>éšå¼è€¦åˆ</strong>ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œé”™è¯¯å€¼æ„é€ æ–¹ä¸ç»æ„é—´çš„ä¸€æ¬¡é”™è¯¯æè¿°å­—ç¬¦ä¸²çš„æ”¹åŠ¨ï¼Œéƒ½ä¼šé€ æˆé”™è¯¯å¤„ç†æ–¹å¤„ç†è¡Œä¸ºçš„å˜åŒ–ï¼Œå¹¶ä¸”è¿™ç§é€šè¿‡å­—ç¬¦ä¸²æ¯”è¾ƒçš„æ–¹å¼ï¼Œå¯¹é”™è¯¯å€¼è¿›è¡Œæ£€è§†çš„æ€§èƒ½ä¹Ÿå¾ˆå·®ã€‚</p><p>é‚£è¿™æœ‰ä»€ä¹ˆåŠæ³•å—ï¼ŸGoæ ‡å‡†åº“é‡‡ç”¨äº†å®šä¹‰å¯¼å‡ºçš„ï¼ˆExportedï¼‰â€œå“¨å…µâ€é”™è¯¯å€¼çš„æ–¹å¼ï¼Œæ¥è¾…åŠ©é”™è¯¯å¤„ç†æ–¹æ£€è§†ï¼ˆinspectï¼‰é”™è¯¯å€¼å¹¶åšå‡ºé”™è¯¯å¤„ç†åˆ†æ”¯çš„å†³ç­–ï¼Œæ¯”å¦‚ä¸‹é¢çš„bufioåŒ…ä¸­å®šä¹‰çš„â€œå“¨å…µé”™è¯¯â€ï¼š</p><pre><code class=\"language-plain\">// $GOROOT/src/bufio/bufio.go\nvar (\n    ErrInvalidUnreadByte = errors.New(\"bufio: invalid use of UnreadByte\")\n    ErrInvalidUnreadRune = errors.New(\"bufio: invalid use of UnreadRune\")\n    ErrBufferFull        = errors.New(\"bufio: buffer full\")\n    ErrNegativeCount     = errors.New(\"bufio: negative count\")\n)\n</code></pre><p>ä¸‹é¢çš„ä»£ç ç‰‡æ®µåˆ©ç”¨äº†ä¸Šé¢çš„å“¨å…µé”™è¯¯ï¼Œè¿›è¡Œé”™è¯¯å¤„ç†åˆ†æ”¯çš„å†³ç­–ï¼š</p><pre><code class=\"language-plain\">data, err := b.Peek(1)\nif err != nil {\n    switch err {\n    case bufio.ErrNegativeCount:\n        // ... ...\n        return\n    case bufio.ErrBufferFull:\n        // ... ...\n        return\n    case bufio.ErrInvalidUnreadByte:\n        // ... ...\n        return\n    default:\n        // ... ...\n        return\n    }\n}\n</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œä¸€èˆ¬â€œå“¨å…µâ€é”™è¯¯å€¼å˜é‡ä»¥ErrXXXæ ¼å¼å‘½åã€‚å’Œé€æ˜é”™è¯¯ç­–ç•¥ç›¸æ¯”ï¼Œâ€œå“¨å…µâ€ç­–ç•¥è®©é”™è¯¯å¤„ç†æ–¹åœ¨æœ‰æ£€è§†é”™è¯¯å€¼çš„éœ€æ±‚æ—¶å€™ï¼Œå¯ä»¥â€œæœ‰çš„æ”¾çŸ¢â€ã€‚</p><p>ä¸è¿‡ï¼Œå¯¹äºAPIçš„å¼€å‘è€…è€Œè¨€ï¼Œæš´éœ²â€œå“¨å…µâ€é”™è¯¯å€¼ä¹Ÿæ„å‘³ç€è¿™äº›é”™è¯¯å€¼å’ŒåŒ…çš„å…¬å…±å‡½æ•°/æ–¹æ³•ä¸€èµ·æˆä¸ºäº†APIçš„ä¸€éƒ¨åˆ†ã€‚ä¸€æ—¦å‘å¸ƒå‡ºå»ï¼Œå¼€å‘è€…å°±è¦å¯¹å®ƒè¿›è¡Œå¾ˆå¥½çš„ç»´æŠ¤ã€‚è€Œâ€œå“¨å…µâ€é”™è¯¯å€¼ä¹Ÿè®©ä½¿ç”¨è¿™äº›å€¼çš„é”™è¯¯å¤„ç†æ–¹å¯¹å®ƒäº§ç”Ÿäº†ä¾èµ–ã€‚</p><p>ä»Go 1.13ç‰ˆæœ¬å¼€å§‹ï¼Œæ ‡å‡†åº“errorsåŒ…æä¾›äº†Iså‡½æ•°ç”¨äºé”™è¯¯å¤„ç†æ–¹å¯¹é”™è¯¯å€¼çš„æ£€è§†ã€‚Iså‡½æ•°ç±»ä¼¼äºæŠŠä¸€ä¸ªerrorç±»å‹å˜é‡ä¸â€œå“¨å…µâ€é”™è¯¯å€¼è¿›è¡Œæ¯”è¾ƒï¼Œæ¯”å¦‚ä¸‹é¢ä»£ç ï¼š</p><pre><code class=\"language-plain\">// ç±»ä¼¼ if err == ErrOutOfBounds{ â€¦ }\nif errors.Is(err, ErrOutOfBounds) {\n    // è¶Šç•Œçš„é”™è¯¯å¤„ç†\n}\n</code></pre><p>ä¸åŒçš„æ˜¯ï¼Œå¦‚æœerrorç±»å‹å˜é‡çš„åº•å±‚é”™è¯¯å€¼æ˜¯ä¸€ä¸ªåŒ…è£…é”™è¯¯ï¼ˆWrapped Errorï¼‰ï¼Œerrors.Isæ–¹æ³•ä¼šæ²¿ç€è¯¥åŒ…è£…é”™è¯¯æ‰€åœ¨é”™è¯¯é“¾ï¼ˆError Chain)ï¼Œä¸é“¾ä¸Šæ‰€æœ‰è¢«åŒ…è£…çš„é”™è¯¯ï¼ˆWrapped Errorï¼‰è¿›è¡Œæ¯”è¾ƒï¼Œç›´è‡³æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…çš„é”™è¯¯ä¸ºæ­¢ã€‚ä¸‹é¢æ˜¯Iså‡½æ•°åº”ç”¨çš„ä¸€ä¸ªä¾‹å­ï¼š</p><pre><code class=\"language-plain\">var ErrSentinel = errors.New(\"the underlying sentinel error\")\n\nfunc main() {\n\terr1 := fmt.Errorf(\"wrap sentinel: %w\", ErrSentinel)\n\terr2 := fmt.Errorf(\"wrap err1: %w\", err1)\n    println(err2 == ErrSentinel) //false\n\tif errors.Is(err2, ErrSentinel) {\n\t\tprintln(\"err2 is ErrSentinel\")\n\t\treturn\n\t}\n\n\tprintln(\"err2 is not ErrSentinel\")\n}\n</code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡fmt.Errorfå‡½æ•°ï¼Œå¹¶ä¸”ä½¿ç”¨%wåˆ›å»ºåŒ…è£…é”™è¯¯å˜é‡err1å’Œerr2ï¼Œå…¶ä¸­err1å®ç°äº†å¯¹ErrSentinelè¿™ä¸ªâ€œå“¨å…µé”™è¯¯å€¼â€çš„åŒ…è£…ï¼Œè€Œerr2åˆå¯¹err1è¿›è¡Œäº†åŒ…è£…ï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€æ¡é”™è¯¯é“¾ã€‚ä½äºé”™è¯¯é“¾æœ€ä¸Šå±‚çš„æ˜¯err2ï¼Œä½äºæœ€åº•å±‚çš„æ˜¯ErrSentinelã€‚ä¹‹åï¼Œæˆ‘ä»¬å†åˆ†åˆ«é€šè¿‡å€¼æ¯”è¾ƒå’Œerrors.Isè¿™ä¸¤ç§æ–¹æ³•ï¼Œåˆ¤æ–­err2ä¸ErrSentinelçš„å…³ç³»ã€‚è¿è¡Œä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°å¦‚ä¸‹ç»“æœï¼š</p><pre><code class=\"language-plain\">false\nerr2 is ErrSentinel\n</code></pre><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œé€šè¿‡æ¯”è¾ƒæ“ä½œç¬¦å¯¹err2ä¸ErrSentinelè¿›è¡Œæ¯”è¾ƒåï¼Œæˆ‘ä»¬å‘ç°è¿™äºŒè€…å¹¶ä¸ç›¸åŒã€‚è€Œerrors.Iså‡½æ•°åˆ™ä¼šæ²¿ç€err2æ‰€åœ¨é”™è¯¯é“¾ï¼Œå‘ä¸‹æ‰¾åˆ°è¢«åŒ…è£…åˆ°æœ€åº•å±‚çš„â€œå“¨å…µâ€é”™è¯¯å€¼<code>ErrSentinel</code>ã€‚</p><p>æ‰€ä»¥ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯Go 1.13åŠåç»­ç‰ˆæœ¬ï¼Œæˆ‘å»ºè®®ä½ å°½é‡ä½¿ç”¨<code>errors.Is</code>æ–¹æ³•å»æ£€è§†æŸä¸ªé”™è¯¯å€¼æ˜¯å¦å°±æ˜¯æŸä¸ªé¢„æœŸé”™è¯¯å€¼ï¼Œæˆ–è€…åŒ…è£…äº†æŸä¸ªç‰¹å®šçš„â€œå“¨å…µâ€é”™è¯¯å€¼ã€‚</p><h2>ç­–ç•¥ä¸‰ï¼šé”™è¯¯å€¼ç±»å‹æ£€è§†ç­–ç•¥</h2><p>ä¸Šé¢æˆ‘ä»¬çœ‹åˆ°ï¼ŒåŸºäºGoæ ‡å‡†åº“æä¾›çš„é”™è¯¯å€¼æ„é€ æ–¹æ³•æ„é€ çš„â€œå“¨å…µâ€é”™è¯¯å€¼ï¼Œé™¤äº†è®©é”™è¯¯å¤„ç†æ–¹å¯ä»¥â€œæœ‰çš„æ”¾çŸ¢â€çš„è¿›è¡Œå€¼æ¯”è¾ƒä¹‹å¤–ï¼Œå¹¶æ²¡æœ‰æä¾›å…¶ä»–æœ‰æ•ˆçš„é”™è¯¯ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚é‚£å¦‚æœé‡åˆ°é”™è¯¯å¤„ç†æ–¹éœ€è¦é”™è¯¯å€¼æä¾›æ›´å¤šçš„â€œé”™è¯¯ä¸Šä¸‹æ–‡â€çš„æƒ…å†µï¼Œä¸Šé¢è¿™äº›é”™è¯¯å¤„ç†ç­–ç•¥å’Œé”™è¯¯å€¼æ„é€ æ–¹å¼éƒ½æ— æ³•æ»¡è¶³ã€‚</p><p>è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡è‡ªå®šä¹‰é”™è¯¯ç±»å‹çš„æ„é€ é”™è¯¯å€¼çš„æ–¹å¼ï¼Œæ¥æä¾›æ›´å¤šçš„â€œé”™è¯¯ä¸Šä¸‹æ–‡â€ä¿¡æ¯ã€‚å¹¶ä¸”ï¼Œç”±äºé”™è¯¯å€¼éƒ½é€šè¿‡erroræ¥å£å˜é‡ç»Ÿä¸€å‘ˆç°ï¼Œè¦å¾—åˆ°åº•å±‚é”™è¯¯ç±»å‹æºå¸¦çš„é”™è¯¯ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œé”™è¯¯å¤„ç†æ–¹éœ€è¦ä½¿ç”¨Goæä¾›çš„<strong>ç±»å‹æ–­è¨€æœºåˆ¶</strong>ï¼ˆType Assertionï¼‰æˆ–<strong>ç±»å‹é€‰æ‹©æœºåˆ¶</strong>ï¼ˆType Switchï¼‰ï¼Œè¿™ç§é”™è¯¯å¤„ç†æ–¹å¼ï¼Œæˆ‘ç§°ä¹‹ä¸º<strong>é”™è¯¯å€¼ç±»å‹æ£€è§†ç­–ç•¥</strong>ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ ‡å‡†åº“ä¸­çš„ä¾‹å­åŠ æ·±ä¸‹ç†è§£ï¼Œè¿™ä¸ªjsonåŒ…ä¸­è‡ªå®šä¹‰äº†ä¸€ä¸ª<code>UnmarshalTypeError</code>çš„é”™è¯¯ç±»å‹ï¼š</p><pre><code class=\"language-plain\">// $GOROOT/src/encoding/json/decode.go\ntype UnmarshalTypeError struct {\n    Value  string       \n    Type   reflect.Type \n    Offset int64        \n    Struct string       \n    Field  string      \n}\n</code></pre><p>é”™è¯¯å¤„ç†æ–¹å¯ä»¥é€šè¿‡é”™è¯¯ç±»å‹æ£€è§†ç­–ç•¥ï¼Œè·å¾—æ›´å¤šé”™è¯¯å€¼çš„é”™è¯¯ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä¸‹é¢å°±æ˜¯åˆ©ç”¨è¿™ä¸€ç­–ç•¥çš„jsonåŒ…çš„ä¸€ä¸ªæ–¹æ³•çš„å®ç°ï¼š</p><pre><code class=\"language-plain\">// $GOROOT/src/encoding/json/decode.go\nfunc (d *decodeState) addErrorContext(err error) error {\n    if d.errorContext.Struct != nil || len(d.errorContext.FieldStack) &gt; 0 {\n        switch err := err.(type) {\n        case *UnmarshalTypeError:\n            err.Struct = d.errorContext.Struct.Name()\n            err.Field = strings.Join(d.errorContext.FieldStack, \".\")\n            return err\n        }\n    }\n    return err\n}\n</code></pre><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œè¿™æ®µä»£ç é€šè¿‡ç±»å‹switchè¯­å¥å¾—åˆ°äº†errå˜é‡ä»£è¡¨çš„åŠ¨æ€ç±»å‹å’Œå€¼ï¼Œç„¶ååœ¨åŒ¹é…çš„caseåˆ†æ”¯ä¸­åˆ©ç”¨é”™è¯¯ä¸Šä¸‹æ–‡ä¿¡æ¯è¿›è¡Œå¤„ç†ã€‚</p><p>è¿™é‡Œï¼Œä¸€èˆ¬è‡ªå®šä¹‰å¯¼å‡ºçš„é”™è¯¯ç±»å‹ä»¥<code>XXXError</code>çš„å½¢å¼å‘½åã€‚å’Œâ€œå“¨å…µâ€é”™è¯¯å¤„ç†ç­–ç•¥ä¸€æ ·ï¼Œé”™è¯¯å€¼ç±»å‹æ£€è§†ç­–ç•¥ï¼Œç”±äºæš´éœ²äº†è‡ªå®šä¹‰çš„é”™è¯¯ç±»å‹ç»™é”™è¯¯å¤„ç†æ–¹ï¼Œå› æ­¤è¿™äº›é”™è¯¯ç±»å‹ä¹Ÿå’ŒåŒ…çš„å…¬å…±å‡½æ•°/æ–¹æ³•ä¸€èµ·ï¼Œæˆä¸ºäº†APIçš„ä¸€éƒ¨åˆ†ã€‚ä¸€æ—¦å‘å¸ƒå‡ºå»ï¼Œå¼€å‘è€…å°±è¦å¯¹å®ƒä»¬è¿›è¡Œå¾ˆå¥½çš„ç»´æŠ¤ã€‚è€Œå®ƒä»¬ä¹Ÿè®©ä½¿ç”¨è¿™äº›ç±»å‹è¿›è¡Œæ£€è§†çš„é”™è¯¯å¤„ç†æ–¹å¯¹å…¶äº§ç”Ÿäº†ä¾èµ–ã€‚</p><p>ä»Go 1.13ç‰ˆæœ¬å¼€å§‹ï¼Œæ ‡å‡†åº“errorsåŒ…æä¾›äº†<code>As</code>å‡½æ•°ç»™é”™è¯¯å¤„ç†æ–¹æ£€è§†é”™è¯¯å€¼ã€‚<code>As</code>å‡½æ•°ç±»ä¼¼äºé€šè¿‡ç±»å‹æ–­è¨€åˆ¤æ–­ä¸€ä¸ªerrorç±»å‹å˜é‡æ˜¯å¦ä¸ºç‰¹å®šçš„è‡ªå®šä¹‰é”™è¯¯ç±»å‹ï¼Œå¦‚ä¸‹é¢ä»£ç æ‰€ç¤ºï¼š</p><pre><code class=\"language-plain\">// ç±»ä¼¼ if e, ok := err.(*MyError); ok { â€¦ }\nvar e *MyError\nif errors.As(err, &amp;e) {\n    // å¦‚æœerrç±»å‹ä¸º*MyErrorï¼Œå˜é‡eå°†è¢«è®¾ç½®ä¸ºå¯¹åº”çš„é”™è¯¯å€¼\n}\n</code></pre><p>ä¸åŒçš„æ˜¯ï¼Œå¦‚æœerrorç±»å‹å˜é‡çš„åŠ¨æ€é”™è¯¯å€¼æ˜¯ä¸€ä¸ªåŒ…è£…é”™è¯¯ï¼Œ<code>errors.As</code>å‡½æ•°ä¼šæ²¿ç€è¯¥åŒ…è£…é”™è¯¯æ‰€åœ¨é”™è¯¯é“¾ï¼Œä¸é“¾ä¸Šæ‰€æœ‰è¢«åŒ…è£…çš„é”™è¯¯çš„ç±»å‹è¿›è¡Œæ¯”è¾ƒï¼Œç›´è‡³æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…çš„é”™è¯¯ç±»å‹ï¼Œå°±åƒerrors.Iså‡½æ•°é‚£æ ·ã€‚ä¸‹é¢æ˜¯<code>As</code>å‡½æ•°åº”ç”¨çš„ä¸€ä¸ªä¾‹å­ï¼š</p><pre><code class=\"language-plain\">type MyError struct {\n    e string\n}\n\nfunc (e *MyError) Error() string {\n    return e.e\n}\n\nfunc main() {\n    var err = &amp;MyError{\"MyError error demo\"}\n    err1 := fmt.Errorf(\"wrap err: %w\", err)\n    err2 := fmt.Errorf(\"wrap err1: %w\", err1)\n    var e *MyError\n    if errors.As(err2, &amp;e) {\n        println(\"MyError is on the chain of err2\")\n        println(e == err)                  \n        return                             \n    }                                      \n    println(\"MyError is not on the chain of err2\")\n} \n</code></pre><p>è¿è¡Œä¸Šè¿°ä»£ç ä¼šå¾—åˆ°ï¼š</p><pre><code class=\"language-plain\">MyError is on the chain of err2\ntrue\n</code></pre><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œ<code>errors.As</code>å‡½æ•°æ²¿ç€err2æ‰€åœ¨é”™è¯¯é“¾å‘ä¸‹æ‰¾åˆ°äº†è¢«åŒ…è£…åˆ°æœ€æ·±å¤„çš„é”™è¯¯å€¼ï¼Œå¹¶å°†err2ä¸å…¶ç±»å‹<code> * MyError</code>æˆåŠŸåŒ¹é…ã€‚åŒ¹é…æˆåŠŸåï¼Œerrors.Asä¼šå°†åŒ¹é…åˆ°çš„é”™è¯¯å€¼å­˜å‚¨åˆ°Aså‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ä¸­ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ<code>println(e == err)</code>è¾“å‡ºtrueçš„åŸå› ã€‚</p><p>æ‰€ä»¥ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯Go 1.13åŠåç»­ç‰ˆæœ¬ï¼Œè¯·å°½é‡ä½¿ç”¨<code>errors.As</code>æ–¹æ³•å»æ£€è§†æŸä¸ªé”™è¯¯å€¼æ˜¯å¦æ˜¯æŸè‡ªå®šä¹‰é”™è¯¯ç±»å‹çš„å®ä¾‹ã€‚</p><h2>ç­–ç•¥å››ï¼šé”™è¯¯è¡Œä¸ºç‰¹å¾æ£€è§†ç­–ç•¥</h2><p>ä¸çŸ¥é“ä½ æ³¨æ„åˆ°æ²¡æœ‰ï¼Œåœ¨å‰é¢æˆ‘ä»¬å·²ç»è®²è¿‡çš„ä¸‰ç§ç­–ç•¥ä¸­ï¼Œå…¶å®åªæœ‰ç¬¬ä¸€ç§ç­–ç•¥ï¼Œä¹Ÿå°±æ˜¯â€œé€æ˜é”™è¯¯å¤„ç†ç­–ç•¥â€ï¼Œæœ‰æ•ˆé™ä½äº†é”™è¯¯çš„æ„é€ æ–¹ä¸é”™è¯¯å¤„ç†æ–¹ä¸¤è€…ä¹‹é—´çš„è€¦åˆã€‚è™½ç„¶å‰é¢çš„ç­–ç•¥äºŒå’Œç­–ç•¥ä¸‰ï¼Œéƒ½æ˜¯æˆ‘ä»¬å®é™…ç¼–ç ä¸­æœ‰æ•ˆçš„é”™è¯¯å¤„ç†ç­–ç•¥ï¼Œä½†å…¶å®ä½¿ç”¨è¿™ä¸¤ç§ç­–ç•¥çš„ä»£ç ï¼Œä¾ç„¶åœ¨é”™è¯¯çš„æ„é€ æ–¹ä¸é”™è¯¯å¤„ç†æ–¹ä¸¤è€…ä¹‹é—´å»ºç«‹äº†è€¦åˆã€‚</p><p>é‚£ä¹ˆé™¤äº†â€œé€æ˜é”™è¯¯å¤„ç†ç­–ç•¥â€å¤–ï¼Œæˆ‘ä»¬æ˜¯å¦è¿˜æœ‰æ‰‹æ®µå¯ä»¥é™ä½é”™è¯¯å¤„ç†æ–¹ä¸é”™è¯¯å€¼æ„é€ æ–¹çš„è€¦åˆå‘¢ï¼Ÿ</p><p>åœ¨Goæ ‡å‡†åº“ä¸­ï¼Œæˆ‘ä»¬å‘ç°äº†è¿™æ ·ä¸€ç§é”™è¯¯å¤„ç†æ–¹å¼ï¼š<strong>å°†æŸä¸ªåŒ…ä¸­çš„é”™è¯¯ç±»å‹å½’ç±»ï¼Œç»Ÿä¸€æå–å‡ºä¸€äº›å…¬å…±çš„é”™è¯¯è¡Œä¸ºç‰¹å¾ï¼Œå¹¶å°†è¿™äº›é”™è¯¯è¡Œä¸ºç‰¹å¾æ”¾å…¥ä¸€ä¸ªå…¬å¼€çš„æ¥å£ç±»å‹ä¸­</strong>ã€‚è¿™ç§æ–¹å¼ä¹Ÿè¢«å«åšé”™è¯¯è¡Œä¸ºç‰¹å¾æ£€è§†ç­–ç•¥ã€‚</p><p>ä»¥æ ‡å‡†åº“ä¸­çš„<code>netåŒ…</code>ä¸ºä¾‹ï¼Œå®ƒå°†åŒ…å†…çš„æ‰€æœ‰é”™è¯¯ç±»å‹çš„å…¬å…±è¡Œä¸ºç‰¹å¾æŠ½è±¡å¹¶æ”¾å…¥<code>net.Error</code>è¿™ä¸ªæ¥å£ä¸­ï¼Œå¦‚ä¸‹é¢ä»£ç ï¼š</p><pre><code class=\"language-plain\">// $GOROOT/src/net/net.go\ntype Error interface {\n    error\n    Timeout() bool  \n    Temporary() bool\n}\n</code></pre><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œnet.Erroræ¥å£åŒ…å«ä¸¤ä¸ªç”¨äºåˆ¤æ–­é”™è¯¯è¡Œä¸ºç‰¹å¾çš„æ–¹æ³•ï¼šTimeoutç”¨æ¥åˆ¤æ–­æ˜¯å¦æ˜¯è¶…æ—¶ï¼ˆTimeoutï¼‰é”™è¯¯ï¼ŒTemporaryç”¨äºåˆ¤æ–­æ˜¯å¦æ˜¯ä¸´æ—¶ï¼ˆTemporaryï¼‰é”™è¯¯ã€‚</p><p>è€Œé”™è¯¯å¤„ç†æ–¹åªéœ€è¦ä¾èµ–è¿™ä¸ªå…¬å…±æ¥å£ï¼Œå°±å¯ä»¥æ£€è§†å…·ä½“é”™è¯¯å€¼çš„é”™è¯¯è¡Œä¸ºç‰¹å¾ä¿¡æ¯ï¼Œå¹¶æ ¹æ®è¿™äº›ä¿¡æ¯åšå‡ºåç»­é”™è¯¯å¤„ç†åˆ†æ”¯é€‰æ‹©çš„å†³ç­–ã€‚</p><p>è¿™é‡Œï¼Œæˆ‘ä»¬å†çœ‹ä¸€ä¸ªhttpåŒ…ä½¿ç”¨é”™è¯¯è¡Œä¸ºç‰¹å¾æ£€è§†ç­–ç•¥è¿›è¡Œé”™è¯¯å¤„ç†çš„ä¾‹å­ï¼ŒåŠ æ·±ä¸‹ç†è§£ï¼š</p><pre><code class=\"language-plain\">// $GOROOT/src/net/http/server.go\nfunc (srv *Server) Serve(l net.Listener) error {\n    ... ...\n    for {\n        rw, e := l.Accept()\n        if e != nil {\n            select {\n            case &lt;-srv.getDoneChan():\n                return ErrServerClosed\n            default:\n            }\n            if ne, ok := e.(net.Error); ok &amp;&amp; ne.Temporary() {\n                // æ³¨ï¼šè¿™é‡Œå¯¹ä¸´æ—¶æ€§(temporary)é”™è¯¯è¿›è¡Œå¤„ç†\n                ... ...\n                time.Sleep(tempDelay)\n                continue\n            }\n            return e\n        }\n        ...\n    }\n    ... ...\n}\n</code></pre><p>åœ¨ä¸Šé¢ä»£ç ä¸­ï¼ŒAcceptæ–¹æ³•å®é™…ä¸Šè¿”å›çš„é”™è¯¯ç±»å‹ä¸º<code>*OpError</code>ï¼Œå®ƒæ˜¯netåŒ…ä¸­çš„ä¸€ä¸ªè‡ªå®šä¹‰é”™è¯¯ç±»å‹ï¼Œå®ƒå®ç°äº†é”™è¯¯å…¬å…±ç‰¹å¾æ¥å£<code>net.Error</code>ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p><pre><code class=\"language-plain\">// $GOROOT/src/net/net.go\ntype OpError struct {\n    ... ...\n    // Err is the error that occurred during the operation.\n    Err error\n}\n\ntype temporary interface {\n    Temporary() bool\n}\n\nfunc (e *OpError) Temporary() bool {\n  if ne, ok := e.Err.(*os.SyscallError); ok {\n      t, ok := ne.Err.(temporary)\n      return ok &amp;&amp; t.Temporary()\n  }\n  t, ok := e.Err.(temporary)\n  return ok &amp;&amp; t.Temporary()\n}\n</code></pre><p>å› æ­¤ï¼ŒOpErrorå®ä¾‹å¯ä»¥è¢«é”™è¯¯å¤„ç†æ–¹é€šè¿‡<code>net.Error</code>æ¥å£çš„æ–¹æ³•ï¼Œåˆ¤æ–­å®ƒçš„è¡Œä¸ºæ˜¯å¦æ»¡è¶³Temporaryæˆ–Timeoutç‰¹å¾ã€‚</p><h2>å°ç»“</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„è¯¾è®²åˆ°è¿™é‡Œå°±ç»“æŸäº†ã€‚åœ¨è¿™ä¸€è®²ä¸­ï¼Œæˆ‘ä»¬é‡ç‚¹è®²è§£äº†Goå‡½æ•°è®¾è®¡ä¸­çš„ä¸€ä¸ªé‡è¦ç¯èŠ‚ï¼š<strong>é”™è¯¯å¤„ç†è®¾è®¡</strong>ï¼Œå¸Œæœ›é€šè¿‡è¿™èŠ‚è¯¾çš„å†…å®¹ï¼Œèƒ½å¸®åŠ©ä½ å»ºç«‹èµ·ä»£ç è®¾è®¡çš„æ„è¯†ï¼Œæé«˜å‡½æ•°è®¾è®¡çš„æ°´å¹³ã€‚</p><p>Goè¯­è¨€ç»§æ‰¿äº†Cè¯­è¨€çš„åŸºäºå€¼æ¯”è¾ƒçš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œä½†åˆåœ¨Cè¯­è¨€çš„åŸºç¡€ä¸Šåšå‡ºäº†ä¼˜åŒ–ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒGoå‡½æ•°é€šè¿‡æ”¯æŒå¤šè¿”å›å€¼ï¼Œæ¶ˆé™¤äº†Cè¯­è¨€ä¸­å°†é”™è¯¯çŠ¶æ€å€¼ä¸è¿”å›ç»™å‡½æ•°è°ƒç”¨è€…çš„ä¿¡æ¯è€¦åˆåœ¨ä¸€èµ·çš„å¼Šç«¯ã€‚</p><p>Goè¯­è¨€è¿˜ç»Ÿä¸€é”™è¯¯ç±»å‹ä¸ºerroræ¥å£ç±»å‹ï¼Œå¹¶æä¾›äº†å¤šç§å¿«é€Ÿæ„å»ºå¯èµ‹å€¼ç»™errorç±»å‹çš„é”™è¯¯å€¼çš„å‡½æ•°ï¼ŒåŒ…æ‹¬errors.Newã€fmt.Errorfç­‰ï¼Œæˆ‘ä»¬è¿˜è®²è§£äº†ä½¿ç”¨ç»Ÿä¸€errorä½œä¸ºé”™è¯¯ç±»å‹çš„ä¼˜ç‚¹ï¼Œä½ è¦æ·±åˆ»ç†è§£è¿™ä¸€ç‚¹ã€‚</p><p>åŸºäºGoé”™è¯¯å¤„ç†æœºåˆ¶ã€ç»Ÿä¸€çš„é”™è¯¯å€¼ç±»å‹ä»¥åŠé”™è¯¯å€¼æ„é€ æ–¹æ³•çš„åŸºç¡€ä¸Šï¼ŒGoè¯­è¨€å½¢æˆäº†å¤šç§é”™è¯¯å¤„ç†çš„æƒ¯ç”¨ç­–ç•¥ï¼ŒåŒ…æ‹¬é€æ˜é”™è¯¯å¤„ç†ç­–ç•¥ã€â€œå“¨å…µâ€é”™è¯¯å¤„ç†ç­–ç•¥ã€é”™è¯¯å€¼ç±»å‹æ£€è§†ç­–ç•¥ä»¥åŠé”™è¯¯è¡Œä¸ºç‰¹å¾æ£€è§†ç­–ç•¥ç­‰ã€‚è¿™äº›ç­–ç•¥éƒ½æœ‰é€‚ç”¨çš„åœºåˆï¼Œä½†<strong>æ²¡æœ‰æŸç§å•ä¸€çš„é”™è¯¯å¤„ç†ç­–ç•¥å¯ä»¥é€‚åˆæ‰€æœ‰é¡¹ç›®æˆ–æ‰€æœ‰åœºåˆ</strong>ã€‚</p><p>åœ¨é”™è¯¯å¤„ç†ç­–ç•¥é€‰æ‹©ä¸Šï¼Œæˆ‘æœ‰ä¸€äº›ä¸ªäººçš„å»ºè®®ï¼Œä½ å¯ä»¥å‚è€ƒä¸€ä¸‹ï¼š</p><ul>\n<li>è¯·å°½é‡ä½¿ç”¨â€œé€æ˜é”™è¯¯â€å¤„ç†ç­–ç•¥ï¼Œé™ä½é”™è¯¯å¤„ç†æ–¹ä¸é”™è¯¯å€¼æ„é€ æ–¹ä¹‹é—´çš„è€¦åˆï¼›</li>\n<li>å¦‚æœå¯ä»¥ä»ä¼—å¤šé”™è¯¯ç±»å‹ä¸­æå–å…¬å…±çš„é”™è¯¯è¡Œä¸ºç‰¹å¾ï¼Œé‚£ä¹ˆè¯·å°½é‡ä½¿ç”¨â€œé”™è¯¯è¡Œä¸ºç‰¹å¾æ£€è§†ç­–ç•¥â€;</li>\n<li>åœ¨ä¸Šè¿°ä¸¤ç§ç­–ç•¥æ— æ³•å®æ–½çš„æƒ…å†µä¸‹ï¼Œå†ä½¿ç”¨â€œå“¨å…µâ€ç­–ç•¥å’Œâ€œé”™è¯¯å€¼ç±»å‹æ£€è§†â€ç­–ç•¥ï¼›</li>\n<li>Go 1.13åŠåç»­ç‰ˆæœ¬ä¸­ï¼Œå°½é‡ç”¨<code>errors.Is</code>å’Œ<code>errors.As</code>å‡½æ•°æ›¿æ¢åŸå…ˆçš„é”™è¯¯æ£€è§†æ¯”è¾ƒè¯­å¥ã€‚</li>\n</ul><h2>æ€è€ƒé¢˜</h2><p>è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬åˆ—å‡ºäº†ä¸€äº›æƒ¯ç”¨çš„é”™è¯¯å¤„ç†ç­–ç•¥ï¼Œå½“ç„¶ï¼ŒGoç¤¾åŒºå…³äºé”™è¯¯å¤„ç†ç­–ç•¥çš„è®¨è®ºå¯èƒ½ä¸æ­¢è¿™äº›ï¼Œä½ è¿˜è§è¿‡å“ªäº›æ¯”è¾ƒå®ç”¨çš„é”™è¯¯å¤„ç†ç­–ç•¥å—ï¼Ÿä¸å¦¨åœ¨ç•™è¨€åŒºå’Œæˆ‘ä»¬æ¢è®¨ä¸€ä¸‹å§ã€‚</p><p>æ¬¢è¿ä½ æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™æ›´å¤šå¯¹Goè¯­è¨€çš„é”™è¯¯å¤„ç†æœºåˆ¶æ„Ÿå…´è¶£çš„æœ‹å‹ã€‚æˆ‘æ˜¯Tony Baiï¼Œæˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ã€‚</p>","neighbors":{"left":{"article_title":"21ï½œå‡½æ•°ï¼šè¯·å«æˆ‘â€œä¸€ç­‰å…¬æ°‘â€","id":460666},"right":{"article_title":"æœŸä¸­æµ‹è¯•ï½œä¸€èµ·æ£€éªŒä¸‹ä½ çš„å­¦ä¹ æˆæœå§","id":462514}},"comments":[{"had_liked":false,"id":324764,"user_name":"qinsi","can_delete":false,"product_type":"c1","uid":1667175,"ip_address":"","ucode":"090D9C4068FF12","user_header":"https://static001.geekbang.org/account/avatar/00/19/70/67/0c1359c2.jpg","comment_is_top":false,"comment_ctime":1638607308,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"27408411084","product_id":100093501,"comment_content":"errors.Wrapå¤šå¥½ç”¨","like_count":6,"discussions":[{"author":{"id":1012325,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/72/65/68bd8177.jpg","nickname":"é›ªé£é¸¿","note":"","ucode":"65D7B030828809","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579319,"discussion_content":"è¯•äº†ä¸‹æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œgoç‰ˆæœ¬1.18.3","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657350886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1529474,"avatar":"https://static001.geekbang.org/account/avatar/00/17/56/82/cee545ab.jpg","nickname":"å¾—èŠ¸å¨˜è¶³çŸ£","note":"","ucode":"F49F658809FDA5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1012325,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/72/65/68bd8177.jpg","nickname":"é›ªé£é¸¿","note":"","ucode":"65D7B030828809","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":579786,"discussion_content":"è¿™æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹åŒ…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657692656,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":579319,"ip_address":""},"score":579786,"extra":""}]}]},{"had_liked":false,"id":324471,"user_name":"Geralt","can_delete":false,"product_type":"c1","uid":1184102,"ip_address":"","ucode":"2F31ED777D06A0","user_header":"https://static001.geekbang.org/account/avatar/00/12/11/66/ac631a36.jpg","comment_is_top":false,"comment_ctime":1638449377,"is_pvip":true,"replies":[{"id":"117978","content":"ä¸Šç”Ÿäº§çš„ä»£ç åŠ¡å¿…ä¸è¦å¿½ç•¥é”™è¯¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1638829909,"ip_address":"","comment_id":324471,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18818318561","product_id":100093501,"comment_content":"å¿½ç•¥é”™è¯¯ç®—ä¸ç®—å®ç”¨çš„ç­–ç•¥å‘¢<br>","like_count":4,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536605,"discussion_content":"ä¸Šç”Ÿäº§çš„ä»£ç åŠ¡å¿…ä¸è¦å¿½ç•¥é”™è¯¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638829909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324173,"user_name":"åœ¨ä¸‹å®é¾™ã€","can_delete":false,"product_type":"c1","uid":1618030,"ip_address":"","ucode":"0735B64EB61CAC","user_header":"https://static001.geekbang.org/account/avatar/00/18/b0/6e/921cb700.jpg","comment_is_top":false,"comment_ctime":1638326239,"is_pvip":false,"replies":[{"id":"117970","content":"é—®é¢˜å†å…·ä½“ä¸€äº›:)","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1638828606,"ip_address":"","comment_id":324173,"utype":1}],"discussion_count":7,"race_medal":0,"score":"18818195423","product_id":100093501,"comment_content":"æœ€åä¸€éƒ¨åˆ†çš„ç­–ç•¥å››çš„è®¾è®¡ä¸æ˜¯å¾ˆæ‡‚  ã€‚ã€‚ã€‚","like_count":4,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536597,"discussion_content":"é—®é¢˜å†å…·ä½“ä¸€äº›:)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638828606,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535520,"discussion_content":"è®¡ç®—æœºç§‘å­¦é¢†åŸŸçš„ä»»ä½•é—®é¢˜éƒ½å¯ä»¥é€šè¿‡å¢åŠ ä¸€ä¸ªé—´æ¥çš„ä¸­é—´å±‚æ¥è§£å†³ã€‚ç­–ç•¥å››å°†ç¨€å¥‡å¤æ€ªçš„é”™è¯¯ä¿¡æ¯è¿›è¡Œäº†æŠ½è±¡åˆ†ç±»ï¼Œå°†æ— é™ç§å¯èƒ½è½¬æ¢æˆäº†æœ‰é™ç§å¯èƒ½ï¼ˆå°†ä¸å¯æ§è½¬æ¢æˆå¯æ§ï¼‰ï¼Œéµå¾ªäº†å¼€é—­åŸåˆ™ã€‚\n\nã€Šæ·±å…¥å‰–æ Java æ–°ç‰¹æ€§ã€‹04 | å°é—­ç±»ï¼šæ€ä¹ˆåˆ¹ä½å¤±æ§çš„æ‰©å±•æ€§ï¼Ÿä¸­æåˆ°çš„æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå›¾å½¢æ˜¯æ­£æ–¹å½¢çš„ä¾‹å­å¯ä»¥å¸®åŠ©ç†è§£ï¼šç‰¹æ®Šçš„é•¿æ–¹å½¢ã€è±å½¢ã€æ¢¯å½¢ã€å¤šè¾¹å½¢ç­‰éƒ½æ˜¯æ­£æ–¹å½¢\n\n\n// $GOROOT/src/net/net.go\ntype Error interface {\n    error\n    Timeout() bool  // æ–­ç½‘ã€æ–­ç”µã€ç½‘ç»œæ‹¥å µã€ä¸¢åŒ…ç­‰éƒ½å¯ä»¥é€ æˆè¶…æ—¶\n    Temporary() bool\n}","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1638457240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535631,"discussion_content":"åŒå­¦è¯´çš„å¾ˆä¸é”™ï¼Œå°±æ˜¯ä¸çŸ¥é“è€å¸ˆæœ‰ä½•è§è§£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638500441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":535520,"ip_address":""},"score":535631,"extra":""}]},{"author":{"id":1603004,"avatar":"https://static001.geekbang.org/account/avatar/00/18/75/bc/e24e181e.jpg","nickname":"Calvin","note":"","ucode":"0EEF5B207623B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535406,"discussion_content":"è€å¸ˆåº”è¯¥è®²ä¸€ä¸‹â€œç±»å‹æ–­è¨€â€ï¼Œæˆ‘çœ‹ç›®å½•ä¸­æ²¡æœ‰è¿™ä¸ªçš„","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1638429817,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2175116,"avatar":"https://static001.geekbang.org/account/avatar/00/21/30/8c/6c86eaac.jpg","nickname":"LiWZ","note":"","ucode":"18406E7E3BA475","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535857,"discussion_content":"ç­–ç•¥å››å®šä¹‰äº†ä¸€ä¸ªé”™è¯¯æ¥å£ï¼Œå…¶ä»–å…·ä½“çš„é”™è¯¯ç±»å»å®ç°è¿™ä¸ªæ¥å£ã€‚è¿™æ ·ç”¨æˆ·æ–¹åªéœ€è¦ç”¨æ¥å£å½¢å¼è·å–é”™è¯¯ï¼Œè°ƒç”¨çš„æ–¹æ³•æ˜¯å†…éƒ¨returnçš„å…·ä½“é”™è¯¯ç±»çš„æ–¹æ³•ã€‚å…¶å®å°±ç±»ä¼¼äºC++æˆ–è€…javaçš„å¤šæ€ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1638581454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2806043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBFkSq1oiaEMRjtyyv4ZpCI0OuaSsqs04ODm0OkZF6QhsAh3SvqhxibS2n7PLAVZE3QRSn5Hic0DyXg/132","nickname":"ddh","note":"","ucode":"8E852375365F16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":567670,"discussion_content":"ç¬¬å››ç‚¹ï¼Œåº”è¯¥æ˜¯ä¸ºäº†æ•´åˆè§„èŒƒè‡ªå®šä¹‰æ‰©å±•çš„é”™è¯¯ç±»å‹çš„ä¸€äº›è¡Œä¸ºã€‚  è¿™æ ·é”™è¯¯çš„å¤„ç†æ–¹åœ¨å¤„ç†é”™è¯¯çš„æ—¶å€™ï¼Œ æ— éœ€å…³ç³»é”™è¯¯çš„æŠ›å‡ºæ–¹ï¼Œå®ç°è§£è€¦ï¼Œ ç¬¬å››ç‚¹åº”è¯¥æ˜¯è¿™ä¸ªæ„æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650971595,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2858915,"avatar":"","nickname":"Geek_1621b6","note":"","ucode":"55DFE13F04D336","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535216,"discussion_content":"+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638369502,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333611,"user_name":"Digitalization","can_delete":false,"product_type":"c1","uid":1488654,"ip_address":"","ucode":"3596FAAF46D4D6","user_header":"https://static001.geekbang.org/account/avatar/00/16/b7/0e/739fd98a.jpg","comment_is_top":false,"comment_ctime":1644423288,"is_pvip":false,"replies":[{"id":"121972","content":"21è®²å·²ç»è¦†ç›–çš„å‡½æ•°çš„åŸºæœ¬è¯­æ³•ï¼Œè¿™ä¸€è®²å»¶å±•åˆ°å‡½æ•°è®¾è®¡ä¹‹é”™è¯¯å¤„ç†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1644591248,"ip_address":"","comment_id":333611,"utype":1}],"discussion_count":3,"race_medal":0,"score":"14529325176","product_id":100093501,"comment_content":"è¿™èŠ‚è¯¾ç¬é—´çœ‹ä¸æ‡‚äº†ï¼Œæ˜¯ä¸æ˜¯æœ€å¥½å…ˆè®²æ¥å£ç­‰å…¶ä»–çŸ¥è¯†ç‚¹å†è®²è¿™ä¸ªå‘¢ï¼Ÿå¥½åƒè¿™èŠ‚è¯¾è·Ÿå‡½æ•°æ²¡ä»€ä¹ˆå…³ç³»å‘€","like_count":3,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550568,"discussion_content":"21è®²å·²ç»è¦†ç›–çš„å‡½æ•°çš„åŸºæœ¬è¯­æ³•ï¼Œè¿™ä¸€è®²å»¶å±•åˆ°å‡½æ•°è®¾è®¡ä¹‹é”™è¯¯å¤„ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644591248,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1069127,"avatar":"https://static001.geekbang.org/account/avatar/00/10/50/47/46da4585.jpg","nickname":"Fan()","note":"","ucode":"FED79EC7D78E91","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559258,"discussion_content":"æ„Ÿè§‰è™½è¯´å«goè¯­è¨€ç¬¬ä¸€è¯¾ï¼Œä½†å¹¶ä¸æ˜¯é¢å‘è¿˜æ²¡æœ‰è¯­æ³•åŸºç¡€çš„åŒå­¦çš„ï¼Œè¿˜å¥½æˆ‘çœ‹äº†è¯­æ³•åŸºç¡€ï¼Œå¦åˆ™æ„Ÿè§‰ä¼šåƒåŠ›..","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648659403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1297559,"avatar":"https://static001.geekbang.org/account/avatar/00/13/cc/97/ae4d1400.jpg","nickname":"æ—æ«","note":"","ucode":"38B9CBE7F42174","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559216,"discussion_content":"ä½ è¯´çš„å¯¹ï¼Œæ¥å£è¦å…ˆè®²ï¼Œå¦åˆ™çœ‹ä¸æ‡‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648647719,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324277,"user_name":"witt","can_delete":false,"product_type":"c1","uid":1005864,"ip_address":"","ucode":"19C8BCA266130A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/59/28/88f9d7f7.jpg","comment_is_top":false,"comment_ctime":1638354121,"is_pvip":false,"replies":[{"id":"117973","content":"ğŸ‘ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1638829131,"ip_address":"","comment_id":324277,"utype":1}],"discussion_count":10,"race_medal":0,"score":"14523256009","product_id":100093501,"comment_content":"if err != nil { return err; }<br><br>çœ‹é”™è¯¯æ€ä¹ˆèƒ½å°‘å¾—äº†è¿™ä¸ª ğŸ¶","like_count":3,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536600,"discussion_content":"ğŸ‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638829131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005864,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/28/88f9d7f7.jpg","nickname":"witt","note":"","ucode":"19C8BCA266130A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584014,"discussion_content":"å¯¹é”™è¯¯æœ‰äº†æ–°çš„è®¤è¯†ï¼Œé”™è¯¯æ˜¯å€¼ï¼Œæ—¢ç„¶æ˜¯æ™®é€šçš„å€¼å°±å¯ä»¥ç”¨ç¼–ç¨‹çš„æ–¹å¼å»å¤„ç†é”™è¯¯ï¼Œå¯ä»¥å¾ˆä¼˜é›…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660559633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1979191,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/33/37/6088a9a2.jpg","nickname":"èœ˜è››åˆ«è¿‡æ¥","note":"","ucode":"D579C1F5AC8F09","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550396,"discussion_content":"çœ‹è§äº†ï¼Œæ»¡æ„äº†ï¼Œä¸‹ä¸€èŠ‚è§ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644507113,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535632,"discussion_content":"åŒå­¦è¿™é‡Œæƒ³è¡¨è¾¾çš„æ˜¯ä»€ä¹ˆå‘€ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638500591,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":6,"child_discussions":[{"author":{"id":1005864,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/28/88f9d7f7.jpg","nickname":"witt","note":"","ucode":"19C8BCA266130A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537307,"discussion_content":"é”™è¯¯å¿…é¡»æ˜¾ç¤ºå¤„ç†ï¼Œå¦‚æœä¸ä¸»åŠ¨å¿½ç•¥ä½ çš„ä»£ç é‡Œå°±å……æ»¡äº†ä¸Šé¢è¿™å¥è¯","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1639025346,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":535632,"ip_address":""},"score":537307,"extra":""},{"author":{"id":2323716,"avatar":"https://static001.geekbang.org/account/avatar/00/23/75/04/d26cd437.jpg","nickname":"lemon","note":"","ucode":"47626025C55E5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1005864,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/28/88f9d7f7.jpg","nickname":"witt","note":"","ucode":"19C8BCA266130A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539415,"discussion_content":"ä¸ä¸»åŠ¨å¿½ç•¥ï¼Ÿä¸å¤ªæ‡‚å“\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639710640,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":537307,"ip_address":""},"score":539415,"extra":""},{"author":{"id":1005864,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/28/88f9d7f7.jpg","nickname":"witt","note":"","ucode":"19C8BCA266130A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2323716,"avatar":"https://static001.geekbang.org/account/avatar/00/23/75/04/d26cd437.jpg","nickname":"lemon","note":"","ucode":"47626025C55E5E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540513,"discussion_content":"å°±æ˜¯ä½¿ç”¨ç©ºç™½æ ‡è¯†ç¬¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640073567,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":539415,"ip_address":""},"score":540513,"extra":""}]}]},{"had_liked":false,"id":330185,"user_name":"ğŸ¦‰","can_delete":false,"product_type":"c1","uid":2075410,"ip_address":"","ucode":"0E247D85D2BFEC","user_header":"https://static001.geekbang.org/account/avatar/00/1f/ab/12/170e5c8a.jpg","comment_is_top":false,"comment_ctime":1641845703,"is_pvip":false,"replies":[{"id":"120539","content":"å¯¹ï¼Œ&amp;eæ˜¯pointer eçš„åœ°å€ã€‚å› ä¸ºvar err = &amp;MyError{&quot;MyError error demo&quot;}ä¸­ï¼Œerræ˜¯ä¸€ä¸ªMyErrorç±»å‹çš„æŒ‡é’ˆï¼ŒErroræ–¹æ³•æ˜¯*MyErrorç±»å‹çš„ã€‚<br><br>Aså‡½æ•°è¦æ±‚ï¼Œç¬¬äºŒä¸ªå‚æ•°åº”è¯¥æ˜¯å®ç°äº†erroræ¥å£çš„ç±»å‹çš„æŒ‡é’ˆã€‚è¿™é‡Œ*MyErrorå®ç°äº†erroræ¥å£ï¼Œäºæ˜¯Asçš„ç¬¬äºŒä¸ªå‚æ•°åº”è¯¥æ˜¯**MyErrorç±»å‹ã€‚<br><br>å½“ç„¶è¿™ä¸ªä¾‹å­ä¹Ÿå¯ä»¥æ”¹å†™ä¸€ä¸‹ï¼š<br><br>package main<br><br>import (<br>\t&quot;errors&quot;<br>\t&quot;fmt&quot;<br>)<br><br>type MyError struct {<br>\te string<br>}<br><br>func (e MyError) Error() string {<br>\treturn e.e<br>}<br><br>func main() {<br>\tvar err = MyError{&quot;MyError error demo&quot;}<br>\terr1 := fmt.Errorf(&quot;wrap err: %w&quot;, err)<br>\terr2 := fmt.Errorf(&quot;wrap err1: %w&quot;, err1)<br>\tvar e MyError<br>\tif errors.As(err2, &amp;e) {<br>\t\tprintln(&quot;MyError is on the chain of err2&quot;)<br>\t\tprintln(e == err)<br>\t\treturn<br>\t}<br>\tprintln(&quot;MyError is not on the chain of err2&quot;)<br>}<br><br>è¿™æ ·å°±ä¸ç”¨ä¼ **MyErroräº†ï¼Œä¼ *MyErroräº†ã€‚å› ä¸ºæ–°ç‰ˆä¸­MyErrorä¹Ÿå®ç°äº†erroræ¥å£ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1642049788,"ip_address":"","comment_id":330185,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10231780295","product_id":100093501,"comment_content":"è¯·é—®æ–‡ç« è¿™é‡Œ<br>var e *MyError<br>if errors.As(err, &amp;e) {<br>    &#47;&#47; å¦‚æœerrç±»å‹ä¸º*MyErrorï¼Œå˜é‡eå°†è¢«è®¾ç½®ä¸ºå¯¹åº”çš„é”™è¯¯å€¼<br>}<br>&amp;eæ˜¯pointer eçš„åœ°å€å—ï¼Ÿå¦‚æœæ˜¯çš„è¯ä¸ºä»€ä¹ˆè¿™æ ·å¤„ç†å‘¢ï¼Ÿè°¢è°¢","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545777,"discussion_content":"å¯¹ï¼Œ&amp;eæ˜¯pointer eçš„åœ°å€ã€‚å› ä¸ºvar err = &amp;MyError{&#34;MyError error demo&#34;}ä¸­ï¼Œerræ˜¯ä¸€ä¸ªMyErrorç±»å‹çš„æŒ‡é’ˆï¼ŒErroræ–¹æ³•æ˜¯*MyErrorç±»å‹çš„ã€‚\n\nAså‡½æ•°è¦æ±‚ï¼Œç¬¬äºŒä¸ªå‚æ•°åº”è¯¥æ˜¯å®ç°äº†erroræ¥å£çš„ç±»å‹çš„æŒ‡é’ˆã€‚è¿™é‡Œ*MyErrorå®ç°äº†erroræ¥å£ï¼Œäºæ˜¯Asçš„ç¬¬äºŒä¸ªå‚æ•°åº”è¯¥æ˜¯**MyErrorç±»å‹ã€‚\n\nå½“ç„¶è¿™ä¸ªä¾‹å­ä¹Ÿå¯ä»¥æ”¹å†™ä¸€ä¸‹ï¼š\n\npackage main\n\nimport (\n\t&#34;errors&#34;\n\t&#34;fmt&#34;\n)\n\ntype MyError struct {\n\te string\n}\n\nfunc (e MyError) Error() string {\n\treturn e.e\n}\n\nfunc main() {\n\tvar err = MyError{&#34;MyError error demo&#34;}\n\terr1 := fmt.Errorf(&#34;wrap err: %w&#34;, err)\n\terr2 := fmt.Errorf(&#34;wrap err1: %w&#34;, err1)\n\tvar e MyError\n\tif errors.As(err2, &amp;e) {\n\t\tprintln(&#34;MyError is on the chain of err2&#34;)\n\t\tprintln(e == err)\n\t\treturn\n\t}\n\tprintln(&#34;MyError is not on the chain of err2&#34;)\n}\n\nè¿™æ ·å°±ä¸ç”¨ä¼ **MyErroräº†ï¼Œä¼ *MyErroräº†ã€‚å› ä¸ºæ–°ç‰ˆä¸­MyErrorä¹Ÿå®ç°äº†erroræ¥å£ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1642049788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324496,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1638457427,"is_pvip":false,"replies":[{"id":"117977","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1638829869,"ip_address":"","comment_id":324496,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10228392019","product_id":100093501,"comment_content":"å¤šå€¼è¿”å›çš„é”™è¯¯å¤„ç†å¾ˆå¥½ç”¨ã€‚çŸ¥é“äº†4ç§é”™è¯¯ä½¿ç”¨åœºæ™¯ï¼Œå˜å¼ºäº†ï¼","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536604,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638829869,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324132,"user_name":"ç½—æ°","can_delete":false,"product_type":"c1","uid":1320487,"ip_address":"","ucode":"96BAFAA147341F","user_header":"https://static001.geekbang.org/account/avatar/00/14/26/27/eba94899.jpg","comment_is_top":false,"comment_ctime":1638320667,"is_pvip":false,"replies":[{"id":"117964","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1638827912,"ip_address":"","comment_id":324132,"utype":1}],"discussion_count":1,"race_medal":2,"score":"10228255259","product_id":100093501,"comment_content":"å†è¯»é”™è¯¯å¤„ç†ï¼Œä¾ç„¶æ”¶è·æ»¡æ»¡ã€‚","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536590,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638827912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357186,"user_name":"å†¯ä»å½¬","can_delete":false,"product_type":"c1","uid":2960877,"ip_address":"è¾½å®","ucode":"6E5CA08BC6366B","user_header":"","comment_is_top":false,"comment_ctime":1663051698,"is_pvip":false,"replies":[{"id":"130005","content":"è§ä»è§æ™º:)","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1663098767,"ip_address":"è¾½å®","comment_id":357186,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5958018994","product_id":100093501,"comment_content":"æ„Ÿè§‰é”™è¯¯å¤„ç†æœºåˆ¶ç›¸å¯¹äºJavaæ²¡é‚£ä¹ˆå¥½ç”¨","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587490,"discussion_content":"è§ä»è§æ™º:)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663098767,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1076212,"avatar":"https://static001.geekbang.org/account/avatar/00/10/6b/f4/f169cf15.jpg","nickname":"å…°å¤©","note":"","ucode":"18B81F95D8E4FD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589536,"discussion_content":"ç¡®å®ä¸èƒ½å’Œ Java æ¯”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665066028,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":346271,"user_name":"äº”å½©æ–‘æ–“çš„è¼","can_delete":false,"product_type":"c1","uid":2885173,"ip_address":"","ucode":"43F11424417E06","user_header":"https://static001.geekbang.org/account/avatar/00/2c/06/35/82915b9b.jpg","comment_is_top":false,"comment_ctime":1652964709,"is_pvip":true,"replies":[{"id":"126369","content":"&quot;æ˜¯å› ä¸ºå®ƒä»¬æ˜¯åœ¨æœ€å¤–å±‚çš„å®‡å®™ä»£ç å—é‡Œé¢å£°æ˜çš„å—&quot; - æ˜¯çš„ã€‚<br><br>è¿™äº›é¢„å®šä¹‰çš„ç±»å‹ç”±ç¼–è¯‘å™¨ç‰¹æ®Šå¤„ç†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1653056492,"ip_address":"","comment_id":346271,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5947932005","product_id":100093501,"comment_content":"ä¸ºä»€ä¹ˆå†…ç½®çš„ç±»å‹ï¼Œå¦‚intã€errorç­‰ï¼Œé¦–å­—æ¯éƒ½æ˜¯å°å†™çš„ï¼Œå¯ä»¥ä¸ç”¨éµä»é¦–å­—æ¯å¤§å†™å¯¼å‡ºè§„åˆ™ï¼Œåˆ°å¤„éƒ½å¯ä»¥ä½¿ç”¨ã€‚æ˜¯å› ä¸ºå®ƒä»¬æ˜¯åœ¨æœ€å¤–å±‚çš„å®‡å®™ä»£ç å—é‡Œé¢å£°æ˜çš„å—ï¼Œè¿™åœ¨å®é™…ä¸Šæ€ä¹ˆå®ç°çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572933,"discussion_content":"&#34;æ˜¯å› ä¸ºå®ƒä»¬æ˜¯åœ¨æœ€å¤–å±‚çš„å®‡å®™ä»£ç å—é‡Œé¢å£°æ˜çš„å—&#34; - æ˜¯çš„ã€‚\n\nè¿™äº›é¢„å®šä¹‰çš„ç±»å‹ç”±ç¼–è¯‘å™¨ç‰¹æ®Šå¤„ç†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1653056492,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327721,"user_name":"éƒ‘å°","can_delete":false,"product_type":"c1","uid":1005282,"ip_address":"","ucode":"181B0FDE5E1532","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/e2/2dcab30d.jpg","comment_is_top":false,"comment_ctime":1640250847,"is_pvip":false,"replies":[{"id":"120344","content":"ç›®å‰çœŸçš„æ²¡æœ‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1641890556,"ip_address":"","comment_id":327721,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5935218143","product_id":100093501,"comment_content":"å¦‚æœå‡½æ•°è°ƒç”¨å¤ªæ·±ï¼Œæ¯æ¬¡åšè¿”å›å€¼åˆ¤æ–­éƒ½éœ€è¦å†™ï¼Œif err != nil { return err; } æ„Ÿè§‰ä¼šå¤šå‡ºå¥½å¤šçš„æ¨¡æ¿ä»£ç ï¼Œæœ‰ä»€ä¹ˆå¥½çš„è§£å†³åŠæ³•å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545268,"discussion_content":"ç›®å‰çœŸçš„æ²¡æœ‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641890556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324144,"user_name":"Summer  ç©ºåŸ","can_delete":false,"product_type":"c1","uid":1337146,"ip_address":"","ucode":"6BDBB70FB6F709","user_header":"https://static001.geekbang.org/account/avatar/00/14/67/3a/0dd9ea02.jpg","comment_is_top":false,"comment_ctime":1638322020,"is_pvip":true,"replies":[{"id":"117968","content":"è¿™é—®é¢˜æŒºå¤§ã€‚åœ¨åç»­è®²è§£æ¥å£æ—¶ä¼šæ¶‰åŠç›¸å…³å†…å®¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1638828386,"ip_address":"","comment_id":324144,"utype":1}],"discussion_count":4,"race_medal":0,"score":"5933289316","product_id":100093501,"comment_content":"è€å¸ˆï¼Œä½•æ—¶ä½¿ç”¨æ–¹æ³•ï¼Œä½•æ—¶ä½¿ç”¨å‡½æ•°ï¼ŒæŒ‡ç‚¹ä¸‹å‘—","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536595,"discussion_content":"è¿™é—®é¢˜æŒºå¤§ã€‚åœ¨åç»­è®²è§£æ¥å£æ—¶ä¼šæ¶‰åŠç›¸å…³å†…å®¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638828386,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":3,"child_discussions":[{"author":{"id":2110716,"avatar":"https://static001.geekbang.org/account/avatar/00/20/34/fc/e160c958.jpg","nickname":"Gavino","note":"","ucode":"F9D509B5BE9A21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":537963,"discussion_content":"è€å¸ˆå¥½  æˆ‘ä»javaè¿‡æ¥çš„ï¼Œgoä¸­æ–¹æ³•å’Œå‡½æ•°åˆ°åº•æ˜¯å•¥åŒºåˆ«å“ˆ  æˆ‘æ‰€æ¥è§¦çš„è¿™ä¸¤è€…è²Œä¼¼æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å¸¦æ¥å—è€…çš„æ˜¯æ–¹æ³•ï¼Ÿä¸å¸¦çš„æ˜¯å‡½æ•°ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639279984,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":536595,"ip_address":""},"score":537963,"extra":""},{"author":{"id":1203078,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5b/86/dba8214e.jpg","nickname":"æ˜ŸæœŸä¸‰ã€‚","note":"","ucode":"EF3C461AB5399D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2110716,"avatar":"https://static001.geekbang.org/account/avatar/00/20/34/fc/e160c958.jpg","nickname":"Gavino","note":"","ucode":"F9D509B5BE9A21","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552488,"discussion_content":"æ–¹æ³•æœ¬è´¨ä¸Šå°±æ˜¯å‡½æ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645495771,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":537963,"ip_address":""},"score":552488,"extra":""},{"author":{"id":2006360,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/7qic6zgDCSKs7GeOgQrtQ9rtPqryI8HDJvt2AHibiceK5UcpEoMiciabeZFnoun2p6ic1Jq1bg6Yaddsm7hE6dQ9BEYw/132","nickname":"Xavier","note":"","ucode":"474C5D97D0201F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2110716,"avatar":"https://static001.geekbang.org/account/avatar/00/20/34/fc/e160c958.jpg","nickname":"Gavino","note":"","ucode":"F9D509B5BE9A21","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569757,"discussion_content":"æ„Ÿè§‰å¯ä»¥ç±»æ¯”javaä¸­çš„é™æ€æ–¹æ³•ä¸å®ä¾‹æ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651546002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":537963,"ip_address":""},"score":569757,"extra":""}]}]},{"had_liked":false,"id":360556,"user_name":"Unknown element","can_delete":false,"product_type":"c1","uid":2028277,"ip_address":"åŒ—äº¬","ucode":"34A129800D0238","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f2/f5/b82f410d.jpg","comment_is_top":false,"comment_ctime":1666658272,"is_pvip":false,"replies":[{"id":"131258","content":"ä»æœºåˆ¶ä¸Šè¯´ï¼šç­–ç•¥äºŒæ˜¯é€šè¿‡å€¼æ¯”è¾ƒè¿›è¡Œåˆ¤å®šï¼Œç­–ç•¥ä¸‰æ˜¯é€šè¿‡ç±»å‹æ¯”è¾ƒè¿›è¡Œåˆ¤å®šã€‚<br><br>ä»åŠŸèƒ½ä¸Šè¯´ï¼šâ€œåŸºäº Go æ ‡å‡†åº“æä¾›çš„é”™è¯¯å€¼æ„é€ æ–¹æ³•æ„é€ çš„â€œå“¨å…µâ€é”™è¯¯å€¼ï¼Œé™¤äº†è®©é”™è¯¯å¤„ç†æ–¹å¯ä»¥â€œæœ‰çš„æ”¾çŸ¢â€çš„è¿›è¡Œå€¼æ¯”è¾ƒä¹‹å¤–ï¼Œå¹¶æ²¡æœ‰æä¾›å…¶ä»–æœ‰æ•ˆçš„é”™è¯¯ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚é‚£å¦‚æœé‡åˆ°é”™è¯¯å¤„ç†æ–¹éœ€è¦é”™è¯¯å€¼æä¾›æ›´å¤šçš„â€œé”™è¯¯ä¸Šä¸‹æ–‡â€çš„æƒ…å†µï¼Œä¸Šé¢è¿™äº›é”™è¯¯å¤„ç†ç­–ç•¥å’Œé”™è¯¯å€¼æ„é€ æ–¹å¼éƒ½æ— æ³•æ»¡è¶³ã€‚â€","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1666834986,"ip_address":"åŒ—äº¬","comment_id":360556,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1666658272","product_id":100093501,"comment_content":"è€å¸ˆæˆ‘æƒ³è¯·æ•™ä¸€ä¸‹é”™è¯¯å¤„ç†çš„ç­–ç•¥äºŒå’Œç­–ç•¥ä¸‰çš„åŒºåˆ«æ˜¯errorå…·ä½“çš„å®ç°ä¸åŒå—ï¼Ÿå“¨å…µé”™è¯¯å¤„ç†ç­–ç•¥ç›¸å½“äºç”¨çš„è¿˜æ˜¯errorStringï¼Œè€Œé”™è¯¯å€¼ç±»å‹æ£€è§†ç­–ç•¥æ˜¯è‡ªå®šä¹‰çš„structï¼Œå¯ä»¥åŒ…å«æ›´å¤šä¸Šä¸‹æ–‡ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591808,"discussion_content":"ä»æœºåˆ¶ä¸Šè¯´ï¼šç­–ç•¥äºŒæ˜¯é€šè¿‡å€¼æ¯”è¾ƒè¿›è¡Œåˆ¤å®šï¼Œç­–ç•¥ä¸‰æ˜¯é€šè¿‡ç±»å‹æ¯”è¾ƒè¿›è¡Œåˆ¤å®šã€‚\n\nä»åŠŸèƒ½ä¸Šè¯´ï¼šâ€œåŸºäº Go æ ‡å‡†åº“æä¾›çš„é”™è¯¯å€¼æ„é€ æ–¹æ³•æ„é€ çš„â€œå“¨å…µâ€é”™è¯¯å€¼ï¼Œé™¤äº†è®©é”™è¯¯å¤„ç†æ–¹å¯ä»¥â€œæœ‰çš„æ”¾çŸ¢â€çš„è¿›è¡Œå€¼æ¯”è¾ƒä¹‹å¤–ï¼Œå¹¶æ²¡æœ‰æä¾›å…¶ä»–æœ‰æ•ˆçš„é”™è¯¯ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚é‚£å¦‚æœé‡åˆ°é”™è¯¯å¤„ç†æ–¹éœ€è¦é”™è¯¯å€¼æä¾›æ›´å¤šçš„â€œé”™è¯¯ä¸Šä¸‹æ–‡â€çš„æƒ…å†µï¼Œä¸Šé¢è¿™äº›é”™è¯¯å¤„ç†ç­–ç•¥å’Œé”™è¯¯å€¼æ„é€ æ–¹å¼éƒ½æ— æ³•æ»¡è¶³ã€‚â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666834986,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351921,"user_name":"Z.","can_delete":false,"product_type":"c1","uid":1568589,"ip_address":"","ucode":"9C9C97C470D761","user_header":"https://static001.geekbang.org/account/avatar/00/17/ef/4d/83a56dad.jpg","comment_is_top":false,"comment_ctime":1658295718,"is_pvip":false,"replies":[{"id":"127995","content":"é—®é¢˜å¯ä»¥å…·ä½“ç‚¹ï¼Œå“ªå—æŠŠä½ çœ‹æ™•äº†:)ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1658366505,"ip_address":"","comment_id":351921,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1658295718","product_id":100093501,"comment_content":"è¿™ä¸¤èŠ‚æŠŠæˆ‘çœ‹æ™•äº†","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580741,"discussion_content":"é—®é¢˜å¯ä»¥å…·ä½“ç‚¹ï¼Œå“ªå—æŠŠä½ çœ‹æ™•äº†:)ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658366505,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350924,"user_name":"é›ªé£é¸¿","can_delete":false,"product_type":"c1","uid":1012325,"ip_address":"","ucode":"65D7B030828809","user_header":"https://static001.geekbang.org/account/avatar/00/0f/72/65/68bd8177.jpg","comment_is_top":false,"comment_ctime":1657350953,"is_pvip":true,"replies":[{"id":"127782","content":"deferåœ¨23è®²ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1657696790,"ip_address":"","comment_id":350924,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1657350953","product_id":100093501,"comment_content":"æ²¡æœ‰è¯´defer","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579806,"discussion_content":"deferåœ¨23è®²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657696791,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350262,"user_name":"Geek_a6104e","can_delete":false,"product_type":"c1","uid":1711967,"ip_address":"","ucode":"29A56792216DC8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/GJXKh8OG00U5ial64plAIibbIuwkzhPc8uYic9Hibl8SbqvhnS2JImHgCD4JGvTktiaVnCjHQWbA5wicaxRUN5aTEWnQ/132","comment_is_top":false,"comment_ctime":1656732115,"is_pvip":false,"replies":[{"id":"127490","content":"è€¦åˆè‚¯å®šæœ‰ï¼Œåªæ˜¯æ¥å£æ–¹æ³•ç­¾åå˜åŒ–çš„å¯èƒ½æ€§å¾ˆå°ã€‚ç›¸å¯¹å…¶ä»–å‡ ç§ç­–ç•¥ï¼Œè€¦åˆå·²ç»æ˜¯æœ€å°çš„äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1656940752,"ip_address":"","comment_id":350262,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1656732115","product_id":100093501,"comment_content":"çœ‹èµ·æ¥é”™è¯¯è¡Œä¸ºç‰¹å¾æ£€è§†ç­–ç•¥ä¹Ÿæœ‰è€¦åˆ å‡å¦‚æ¥å£ä¸­çš„æ–¹æ³•ç­¾åå˜åŒ–äº† é‚£ä¹ˆä½¿ç”¨å®ƒæ¥å¤„ç†é”™è¯¯çš„ä¸€æ–¹ä¹Ÿè¦æ”¹å˜ç­¾å","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578679,"discussion_content":"è€¦åˆè‚¯å®šæœ‰ï¼Œåªæ˜¯æ¥å£æ–¹æ³•ç­¾åå˜åŒ–çš„å¯èƒ½æ€§å¾ˆå°ã€‚ç›¸å¯¹å…¶ä»–å‡ ç§ç­–ç•¥ï¼Œè€¦åˆå·²ç»æ˜¯æœ€å°çš„äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656940752,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":348922,"user_name":"Geek_8de965","can_delete":false,"product_type":"c1","uid":2831170,"ip_address":"","ucode":"75880FD1790C37","user_header":"","comment_is_top":false,"comment_ctime":1655549415,"is_pvip":false,"replies":[{"id":"127031","content":"çš„ç¡®æ˜¯è¡¨è¿°ä¸æ¸…ï¼Œæˆ‘è®©ç¼–è¾‘è€å¸ˆæ”¹ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1655704863,"ip_address":"","comment_id":348922,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1655549415","product_id":100093501,"comment_content":"å¦‚æœå¯ä»¥é€šè¿‡é”™è¯¯å€¼ç±»å‹çš„ç‰¹å¾è¿›è¡Œé”™è¯¯æ£€è§†ï¼Œé‚£ä¹ˆè¯·å°½é‡ä½¿ç”¨â€œé”™è¯¯è¡Œä¸ºç‰¹å¾æ£€è§†ç­–ç•¥â€  è¿™å¥è¯æ˜¯ä¸æ˜¯ç¬”è¯¯äº†ï¼Œè€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576617,"discussion_content":"çš„ç¡®æ˜¯è¡¨è¿°ä¸æ¸…ï¼Œæˆ‘è®©ç¼–è¾‘è€å¸ˆæ”¹ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655704863,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":347116,"user_name":"WenjieXu","can_delete":false,"product_type":"c1","uid":1218138,"ip_address":"","ucode":"E76EF8A64EABF2","user_header":"https://static001.geekbang.org/account/avatar/00/12/96/5a/45a56b3a.jpg","comment_is_top":false,"comment_ctime":1653725941,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1653725941","product_id":100093501,"comment_content":"Goçš„é”™è¯¯å¤„ç†æœºåˆ¶èƒ½åŠ›è¿˜æ˜¯å¤ªä½å±‚äº†ï¼Œéƒ¨åˆ†åœºæ™¯ä½¿ç”¨èµ·æ¥è¿˜æ˜¯ä¸æ–¹ä¾¿ã€‚ä¾‹å¦‚è°ƒç”¨å±‚çº§æ¯”è¾ƒæ·±çš„æ—¶å€™ï¼Œæ¯ä¸€å±‚éƒ½éœ€è¦æ˜¾ç¤ºå¤„ç†ã€‚","like_count":0},{"had_liked":false,"id":347049,"user_name":"Aeins","can_delete":false,"product_type":"c1","uid":1045910,"ip_address":"","ucode":"D5BF220767541D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f5/96/0cf9f3c7.jpg","comment_is_top":false,"comment_ctime":1653642107,"is_pvip":true,"replies":[{"id":"126565","content":"å¯ä»¥å…ˆçœ‹çœ‹åŠ é¤ä¸­å…³äºæŒ‡é’ˆçš„è®²è§£ï¼Œä¹Ÿè®¸çœ‹å®Œåï¼Œä½ å°±æ˜ç™½äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1653745317,"ip_address":"","comment_id":347049,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1653642107","product_id":100093501,"comment_content":"TODO <br><br>err == io.EOFã€‚ä¸ºä»€ä¹ˆèƒ½æ¯”è¾ƒï¼Ÿio.EOF æ˜¯ä¸€ä¸ªå®ç°äº†æ¥å£çš„æŒ‡é’ˆ<br><br>ç±»ä¼¼çš„ï¼Œæè¿°ç¬¦æ˜æ˜æœ‰åˆ†é…å†…å­˜(èƒ½å–åœ°å€)ï¼Œä½†å€¼å´æ˜¯ nilï¼Ÿ<br><br>é”™è¯¯å¤§å¤šéƒ½æ˜¯æŒ‡é’ˆç±»å‹å®ç°çš„ï¼Œæœ‰ä»€ä¹ˆè€ƒè™‘ï¼Ÿ<br><br>å¯¹æŒ‡é’ˆå–åœ°å€ï¼ˆä¸è¿™æ ·ä¼šæŠ›é”™ï¼‰ï¼Œè¿™æ˜¯ä»€ä¹ˆæ“ä½œï¼Ÿ<br>var e *MyError<br>if errors.As(err2, &amp;e) {<br>}","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573954,"discussion_content":"å¯ä»¥å…ˆçœ‹çœ‹åŠ é¤ä¸­å…³äºæŒ‡é’ˆçš„è®²è§£ï¼Œä¹Ÿè®¸çœ‹å®Œåï¼Œä½ å°±æ˜ç™½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653745317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340946,"user_name":"Persist","can_delete":false,"product_type":"c1","uid":1623575,"ip_address":"","ucode":"203596C835EAF2","user_header":"https://static001.geekbang.org/account/avatar/00/18/c6/17/651e8d72.jpg","comment_is_top":false,"comment_ctime":1649240705,"is_pvip":true,"replies":[{"id":"124699","content":"ä½ æåˆ°çš„goå¼‚å¸¸æ˜¯æŒ‡go panicä¹ˆï¼Ÿå¦‚æœæ˜¯go panicï¼Œå½“panicå‘ç”Ÿæ—¶ï¼Œä¹Ÿæ˜¯ä¼šprint stackè·Ÿè¸ªä¿¡æ¯çš„å•Šã€‚ æ³¨æ„javaçš„exceptionä¸go panicä¸å®Œå…¨æ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1649389049,"ip_address":"","comment_id":340946,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1649240705","product_id":100093501,"comment_content":"javaå¼€å‘æ¥å­¦goï¼Œè¯·é—®Javaä¼šæ‰“å°å¼‚å¸¸æ•´æ¡é“¾è·¯ï¼Œè€Œgoå´ä¸è¡Œï¼Œè¿½è¸ªå¼‚å¸¸çš„æ—¶å€™è¯¥å¦‚ä½•è¿½è¸ªæ•´ä¸ªè°ƒç”¨é“¾å‘¢","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560554,"discussion_content":"ä½ æåˆ°çš„goå¼‚å¸¸æ˜¯æŒ‡go panicä¹ˆï¼Ÿå¦‚æœæ˜¯go panicï¼Œå½“panicå‘ç”Ÿæ—¶ï¼Œä¹Ÿæ˜¯ä¼šprint stackè·Ÿè¸ªä¿¡æ¯çš„å•Šã€‚ æ³¨æ„javaçš„exceptionä¸go panicä¸å®Œå…¨æ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649389049,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339738,"user_name":"Thomas","can_delete":false,"product_type":"c1","uid":1009680,"ip_address":"","ucode":"C7BDD1F378E349","user_header":"https://static001.geekbang.org/account/avatar/00/0f/68/10/e7a3a167.jpg","comment_is_top":false,"comment_ctime":1648349774,"is_pvip":true,"replies":[{"id":"124199","content":"&#47;&#47; An Error represents a network error.<br>type Error interface {<br>    error<br>    Timeout() bool &#47;&#47; Is the error a timeout?<br><br>    &#47;&#47; Deprecated: Temporary errors are not well-defined.<br>    &#47;&#47; Most &quot;temporary&quot; errors are timeouts, and the few exceptions are surprising.<br>    &#47;&#47; Do not use this method.<br>    Temporary() bool<br>}<br><br>net.Erroræ˜¯ä¸€ä¸ªæ¥å£ï¼Œè¦e.(net.Error)è¿”å›çš„OKï¼Œéœ€è¦å®ç°è¯¥æ¥å£çš„æ‰€æœ‰æ–¹æ³•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1648430806,"ip_address":"","comment_id":339738,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1648349774","product_id":100093501,"comment_content":"â€œå› æ­¤ï¼ŒOpError å®ä¾‹å¯ä»¥è¢«é”™è¯¯å¤„ç†æ–¹é€šè¿‡net.Erroræ¥å£çš„æ–¹æ³•ï¼Œåˆ¤æ–­å®ƒçš„è¡Œä¸ºæ˜¯å¦æ»¡è¶³ Temporary æˆ– Timeout ç‰¹å¾ã€‚â€<br>æ˜¯å¦éœ€è¦å¦æ»¡è¶³ Temporary æˆ– Timeout ä¸­ä»»æ„ä¸€ä¸ªç‰¹å¾ï¼Œe.(net.Error)è¿”å›çš„OKå°±æ˜¯trueï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558647,"discussion_content":"// An Error represents a network error.\ntype Error interface {\n    error\n    Timeout() bool // Is the error a timeout?\n\n    // Deprecated: Temporary errors are not well-defined.\n    // Most &#34;temporary&#34; errors are timeouts, and the few exceptions are surprising.\n    // Do not use this method.\n    Temporary() bool\n}\n\nnet.Erroræ˜¯ä¸€ä¸ªæ¥å£ï¼Œè¦e.(net.Error)è¿”å›çš„OKï¼Œéœ€è¦å®ç°è¯¥æ¥å£çš„æ‰€æœ‰æ–¹æ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648430806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324597,"user_name":"åŠŸå¤«ç†ŠçŒ«","can_delete":false,"product_type":"c1","uid":2732243,"ip_address":"","ucode":"D124F4FA4E816F","user_header":"https://static001.geekbang.org/account/avatar/00/29/b0/d3/200e82ff.jpg","comment_is_top":false,"comment_ctime":1638514277,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1638514277","product_id":100093501,"comment_content":"if err  !=  nil{<br><br><br>}","like_count":0}]}
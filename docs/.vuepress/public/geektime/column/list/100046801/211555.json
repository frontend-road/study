{"id":211555,"title":"09 | æ€ä¹ˆèƒ½é¿å…å†™å‡ºæ…¢SQLï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æç¥ã€‚</p><p>é€šè¿‡ä¸ŠèŠ‚è¯¾çš„æ¡ˆä¾‹ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œä¸€ä¸ªæ…¢SQLå°±å¯ä»¥ç›´æ¥è®©MySQLç˜«ç—ªã€‚ä»Šå¤©è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬ä¸€èµ·çœ‹ä¸€ä¸‹ï¼Œæ€ä¹ˆæ‰èƒ½é¿å…å†™å‡ºå±å®³æ•°æ®åº“çš„æ…¢SQLã€‚</p><p>æ‰€è°“æ…¢SQLï¼Œå°±æ˜¯æ‰§è¡Œç‰¹åˆ«æ…¢çš„SQLè¯­å¥ã€‚ä»€ä¹ˆæ ·çš„SQLè¯­å¥æ˜¯æ…¢SQLï¼Ÿå¤šæ…¢æ‰ç®—æ˜¯æ…¢SQLï¼Ÿå¹¶æ²¡æœ‰ä¸€ä¸ªéå¸¸æ˜ç¡®çš„æ ‡å‡†æˆ–è€…è¯´æ˜¯ç•Œé™ã€‚ä½†å¹¶ä¸æ˜¯è¯´ï¼Œæˆ‘ä»¬å°±å¾ˆéš¾åŒºåˆ†æ­£å¸¸çš„SQLå’Œæ…¢SQLï¼Œåœ¨å¤§å¤šæ•°å®é™…çš„ç³»ç»Ÿä¸­ï¼Œæ…¢SQLæ¶ˆè€—æ‰çš„æ•°æ®åº“èµ„æºï¼Œå¾€å¾€æ˜¯æ­£å¸¸SQLçš„å‡ å€ã€å‡ åå€ç”šè‡³å‡ ç™¾å€ï¼Œæ‰€ä»¥è¿˜æ˜¯éå¸¸å®¹æ˜“åŒºåˆ†çš„ã€‚</p><p>ä½†é—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬ä¸èƒ½ç­‰ç€ç³»ç»Ÿä¸Šçº¿ï¼Œæ…¢SQLåƒå…‰æ•°æ®åº“èµ„æºä¹‹åï¼Œå†æ‰¾å‡ºæ…¢SQLæ¥æ”¹è¿›ï¼Œé‚£æ ·å°±æ™šäº†ã€‚é‚£ä¹ˆï¼Œæ€æ ·æ‰èƒ½åœ¨å¼€å‘é˜¶æ®µå°½é‡é¿å…å†™å‡ºæ…¢SQLå‘¢ï¼Ÿ</p><h2>å®šé‡è®¤è¯†MySQL</h2><p>æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ä¸ŠèŠ‚è¯¾çš„æ¡ˆä¾‹ï¼Œé‚£ä¸ªç³»ç»Ÿç¬¬ä¸€æ¬¡å…¨ç«™å®•æœºå‘ç”Ÿåœ¨åœ£è¯èŠ‚å¹³å®‰å¤œï¼Œæ•…éšœä¹‹å‰çš„ä¸€æ®µæ—¶é—´ï¼Œç³»ç»Ÿå¹¶æ²¡æœ‰æ›´æ–°è¿‡ç‰ˆæœ¬ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå…¶å®æ…¢SQLå·²ç»å­˜åœ¨äº†ï¼Œç›´åˆ°å¹³å®‰å¤œé‚£å¤©ï¼Œè®¿é—®é‡çš„å³°å€¼æ¯”å¹³æ—¶å¢åŠ ä¸€äº›ï¼Œæ­£æ˜¯å¢åŠ çš„è¿™éƒ¨åˆ†è®¿é—®é‡ï¼Œå¼•å‘äº†æ•°æ®åº“çš„é›ªå´©ã€‚</p><p>è¿™è¯´æ˜ï¼Œ<strong>æ…¢SQLå¯¹æ•°æ®åº“çš„å½±å“ï¼Œæ˜¯ä¸€ä¸ªé‡å˜åˆ°è´¨å˜çš„è¿‡ç¨‹ï¼Œå¯¹â€œé‡â€çš„æŠŠæ¡ï¼Œå°±å¾ˆé‡è¦</strong>ã€‚ä½œä¸ºä¸€ä¸ªåˆæ ¼çš„ç¨‹åºå‘˜ï¼Œä½ éœ€è¦å¯¹æ•°æ®åº“çš„èƒ½åŠ›ï¼Œæœ‰ä¸€ä¸ªå®šé‡çš„è®¤è¯†ã€‚</p><p>å½±å“MySQLå¤„ç†èƒ½åŠ›çš„å› ç´ å¾ˆå¤šï¼Œæ¯”å¦‚ï¼šæœåŠ¡å™¨çš„é…ç½®ã€æ•°æ®åº“ä¸­çš„æ•°æ®é‡å¤§å°ã€MySQLçš„ä¸€äº›å‚æ•°é…ç½®ã€æ•°æ®åº“çš„ç¹å¿™ç¨‹åº¦ç­‰ç­‰ã€‚ä½†æ˜¯ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™äº›å› ç´ å¯¹äºMySQLæ€§èƒ½å’Œå¤„ç†èƒ½åŠ›å½±å“èŒƒå›´ï¼Œå¤§æ¦‚åœ¨å‡ å€çš„æ€§èƒ½å·®è·ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç²¾ç¡®çš„æ€§èƒ½æ•°æ®ï¼Œåªè¦æŒæ¡ä¸€ä¸ªå¤§è‡´çš„é‡çº§ï¼Œå°±è¶³å¤ŸæŒ‡å¯¼æˆ‘ä»¬çš„å¼€å‘å·¥ä½œäº†ã€‚</p><!-- [[[read_end]]] --><p>ä¸€å°MySQLæ•°æ®åº“ï¼Œå¤§è‡´å¤„ç†èƒ½åŠ›çš„æé™æ˜¯ï¼Œæ¯ç§’ä¸€ä¸‡æ¡å·¦å³çš„ç®€å•SQLï¼Œè¿™é‡Œçš„â€œç®€å•SQLâ€ï¼ŒæŒ‡çš„æ˜¯ç±»ä¼¼äºä¸»é”®æŸ¥è¯¢è¿™ç§ä¸éœ€è¦éå†å¾ˆå¤šæ¡è®°å½•çš„SQLã€‚æ ¹æ®æœåŠ¡å™¨çš„é…ç½®é«˜ä½ï¼Œå¯èƒ½ä½ç«¯çš„æœåŠ¡å™¨åªèƒ½è¾¾åˆ°æ¯ç§’å‡ åƒæ¡ï¼Œé«˜ç«¯çš„æœåŠ¡å™¨å¯ä»¥è¾¾åˆ°æ¯ç§’é’Ÿå‡ ä¸‡æ¡ï¼Œæ‰€ä»¥è¿™é‡Œç»™å‡ºçš„ä¸€ä¸‡TPSæ˜¯ä¸­ä½æ•°çš„ç»éªŒå€¼ã€‚è€ƒè™‘åˆ°æ­£å¸¸çš„ç³»ç»Ÿä¸å¯èƒ½åªæœ‰ç®€å•SQLï¼Œæ‰€ä»¥å®é™…çš„TPSè¿˜è¦æ‰“å¾ˆå¤šæŠ˜æ‰£ã€‚</p><p>æˆ‘çš„ç»éªŒæ•°æ®ï¼Œä¸€èˆ¬ä¸€å°MySQLæœåŠ¡å™¨ï¼Œå¹³å‡æ¯ç§’é’Ÿæ‰§è¡Œçš„SQLæ•°é‡åœ¨å‡ ç™¾å·¦å³ï¼Œå°±å·²ç»æ˜¯éå¸¸ç¹å¿™äº†ï¼Œå³ä½¿çœ‹èµ·æ¥CPUåˆ©ç”¨ç‡å’Œç£ç›˜ç¹å¿™ç¨‹åº¦æ²¡é‚£ä¹ˆé«˜ï¼Œä½ ä¹Ÿéœ€è¦è€ƒè™‘ç»™æ•°æ®åº“â€œå‡è´Ÿâ€äº†ã€‚</p><p>å¦å¤–ä¸€ä¸ªé‡è¦çš„å®šé‡æŒ‡æ ‡æ˜¯ï¼Œåˆ°åº•å¤šæ…¢çš„SQLæ‰ç®—æ…¢SQLã€‚è¿™é‡Œé¢è¿™ä¸ªâ€œæ…¢â€ï¼Œè¡¡é‡çš„å•ä½æœ¬æ¥æ˜¯æ‰§è¡Œæ—¶é•¿ï¼Œä½†æ˜¯æ—¶é•¿è¿™ä¸ªä¸œè¥¿ï¼Œæˆ‘ä»¬åœ¨ç¼–å†™SQLçš„æ—¶å€™å¹¶ä¸å¥½å»è¡¡é‡ã€‚é‚£æˆ‘ä»¬å¯ä»¥ç”¨æ‰§è¡ŒSQLæŸ¥è¯¢æ—¶ï¼Œéœ€è¦éå†çš„æ•°æ®è¡Œæ•°æ›¿ä»£æ—¶é—´ä½œä¸ºè¡¡é‡æ ‡å‡†ï¼Œå› ä¸ºæŸ¥è¯¢çš„æ‰§è¡Œæ—¶é•¿åŸºæœ¬ä¸Šæ˜¯å’Œéå†çš„æ•°æ®è¡Œæ•°æ­£ç›¸å…³çš„ã€‚</p><p>ä½ åœ¨ç¼–å†™ä¸€æ¡æŸ¥è¯¢è¯­å¥çš„æ—¶å€™ï¼Œå¯ä»¥ä¾æ®ä½ è¦æŸ¥è¯¢æ•°æ®è¡¨çš„æ•°æ®æ€»é‡ï¼Œä¼°ç®—ä¸€ä¸‹è¿™æ¡æŸ¥è¯¢å¤§è‡´éœ€è¦éå†å¤šå°‘è¡Œæ•°æ®ã€‚å¦‚æœéå†è¡Œæ•°åœ¨ç™¾ä¸‡ä»¥å†…çš„ï¼Œåªè¦ä¸æ˜¯æ¯ç§’é’Ÿéƒ½è¦æ‰§è¡Œå‡ åä¸Šç™¾æ¬¡çš„é¢‘ç¹æŸ¥è¯¢ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯å®‰å…¨çš„ã€‚éå†æ•°æ®è¡Œæ•°åœ¨å‡ ç™¾ä¸‡çš„ï¼ŒæŸ¥è¯¢æ—¶é—´æœ€å°‘ä¹Ÿè¦å‡ ç§’é’Ÿï¼Œä½ å°±è¦ä»”ç»†è€ƒè™‘æœ‰æ²¡æœ‰ä¼˜åŒ–çš„åŠæ³•ã€‚éå†è¡Œæ•°è¾¾åˆ°åƒä¸‡é‡çº§å’Œä»¥ä¸Šçš„ï¼Œæˆ‘åªèƒ½å‘Šè¯‰ä½ ï¼Œè¿™ç§æŸ¥è¯¢å°±ä¸åº”è¯¥å‡ºç°åœ¨ä½ çš„ç³»ç»Ÿä¸­ã€‚å½“ç„¶æˆ‘ä»¬è¿™é‡Œè¯´çš„éƒ½æ˜¯åœ¨çº¿äº¤æ˜“ç³»ç»Ÿï¼Œç¦»çº¿åˆ†æç±»ç³»ç»Ÿå¦è¯´ã€‚</p><p>éå†è¡Œæ•°åœ¨åƒä¸‡å·¦å³ï¼Œæ˜¯MySQLæŸ¥è¯¢çš„ä¸€ä¸ªåå„¿ã€‚MySQLä¸­å•ä¸ªè¡¨æ•°æ®é‡ï¼Œä¹Ÿè¦å°½é‡æ§åˆ¶åœ¨ä¸€åƒä¸‡æ¡ä»¥ä¸‹ï¼Œæœ€å¤šä¸è¦è¶…è¿‡äºŒä¸‰åƒä¸‡è¿™ä¸ªé‡çº§ã€‚åŸå› ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œå¯¹ä¸€ä¸ªåƒä¸‡çº§åˆ«çš„è¡¨æ‰§è¡ŒæŸ¥è¯¢ï¼ŒåŠ ä¸Šå‡ ä¸ªWHEREæ¡ä»¶è¿‡æ»¤ä¸€ä¸‹ï¼Œç¬¦åˆæ¡ä»¶çš„æ•°æ®æœ€å¤šå¯èƒ½åœ¨å‡ åä¸‡æˆ–è€…ç™¾ä¸‡é‡çº§ï¼Œè¿™è¿˜å¯ä»¥æ¥å—ã€‚ä½†å¦‚æœå†å’Œå…¶ä»–çš„è¡¨åšä¸€ä¸ªè”åˆæŸ¥è¯¢ï¼Œéå†çš„æ•°æ®é‡å¾ˆå¯èƒ½å°±è¶…è¿‡åƒä¸‡çº§åˆ«äº†ã€‚æ‰€ä»¥ï¼Œæ¯ä¸ªè¡¨çš„æ•°æ®é‡æœ€å¥½å°äºåƒä¸‡çº§åˆ«ã€‚</p><p>å¦‚æœæ•°æ®åº“ä¸­çš„æ•°æ®é‡å°±æ˜¯å¾ˆå¤šï¼Œè€Œä¸”æŸ¥è¯¢ä¸šåŠ¡é€»è¾‘å°±éœ€è¦éå†å¤§é‡æ•°æ®æ€ä¹ˆåŠï¼Ÿ</p><h2>ä½¿ç”¨ç´¢å¼•é¿å…å…¨è¡¨æ‰«æ</h2><p>ä½¿ç”¨ç´¢å¼•å¯ä»¥æœ‰æ•ˆåœ°å‡å°‘æ‰§è¡ŒæŸ¥è¯¢æ—¶éå†æ•°æ®çš„è¡Œæ•°ï¼Œæé«˜æŸ¥è¯¢æ€§èƒ½ã€‚</p><p>æ•°æ®åº“ç´¢å¼•çš„åŸç†ä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä¸¾ä¸ªä¾‹å­ä½ å°±æ˜ç™½äº†ã€‚æ¯”å¦‚è¯´ï¼Œæœ‰ä¸€ä¸ªæ— åºçš„æ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªç”¨æˆ·å¯¹è±¡ã€‚å¦‚æœè¯´æˆ‘ä»¬è¦æŠŠæ‰€æœ‰å§“æçš„ç”¨æˆ·æ‰¾å‡ºæ¥ã€‚æ¯”è¾ƒç¬¨çš„åŠæ³•æ˜¯ï¼Œç”¨ä¸€ä¸ªå¾ªç¯æŠŠæ•°ç»„éå†ä¸€éã€‚</p><p>æœ‰æ²¡æœ‰æ›´å¥½çš„åŠæ³•ï¼Ÿå¾ˆå¤šåŠæ³•æ˜¯å§ï¼Ÿæ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªMap(åœ¨æœ‰äº›ç¼–ç¨‹è¯­è¨€ä¸­æ˜¯Dictionary)æ¥ç»™æ•°ç»„åšä¸€ä¸ªç´¢å¼•ï¼ŒKeyä¿å­˜å§“æ°ï¼Œå€¼æ˜¯æ‰€æœ‰è¿™ä¸ªå§“æ°çš„ç”¨æˆ·å¯¹è±¡åœ¨æ•°ç»„ä¸­åºå·çš„é›†åˆã€‚è¿™æ ·å†æŸ¥æ‰¾çš„æ—¶å€™ï¼Œå°±ä¸ç”¨å»éå†æ•°ç»„ï¼Œå…ˆåœ¨Mapä¸­æŸ¥æ‰¾ï¼Œç„¶åå†ç›´æ¥ç”¨åºå·å»æ•°ç»„ä¸­æ‹¿ç”¨æˆ·æ•°æ®ï¼Œè¿™æ ·æŸ¥æ‰¾é€Ÿåº¦å°±å¿«å¤šäº†ã€‚</p><p>è¿™ä¸ªä¾‹å­å¯¹åº”åˆ°æ•°æ®åº“ä¸­ï¼Œå­˜æ”¾ç”¨æˆ·æ•°æ®çš„æ•°ç»„å°±æ˜¯è¡¨ï¼Œæˆ‘ä»¬æ„å»ºçš„Mapå°±æ˜¯ç´¢å¼•ã€‚å®é™…ä¸Šæ•°æ®åº“çš„ç´¢å¼•ï¼Œå’Œç¼–ç¨‹è¯­è¨€ä¸­çš„Mapæˆ–è€…Dictionaryï¼Œå®ƒä»¬çš„æ•°æ®ç»“æ„éƒ½æ˜¯å·®ä¸å¤šçš„ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯å„ç§Bæ ‘å’ŒHASHè¡¨ã€‚</p><p>ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ç¼–å†™çš„æŸ¥è¯¢è¯­å¥ï¼Œéƒ½åº”è¯¥ä½¿ç”¨ç´¢å¼•ï¼Œé¿å…å»éå†æ•´å¼ è¡¨ï¼Œä¹Ÿå°±æ˜¯é€šå¸¸è¯´çš„ï¼Œé¿å…å…¨è¡¨æ‰«æã€‚ä½ åœ¨æ¯æ¬¡å¼€å‘æ–°åŠŸèƒ½ï¼Œéœ€è¦ç»™æ•°æ®åº“å¢åŠ ä¸€ä¸ªæ–°çš„æŸ¥è¯¢æ—¶ï¼Œéƒ½è¦è¯„ä¼°ä¸€ä¸‹ï¼Œæ˜¯ä¸æ˜¯æœ‰ç´¢å¼•å¯ä»¥æ”¯æ’‘æ–°çš„æŸ¥è¯¢è¯­å¥ï¼Œå¦‚æœæœ‰å¿…è¦çš„è¯ï¼Œéœ€è¦æ–°å»ºç´¢å¼•æ¥æ”¯æŒæ–°å¢çš„æŸ¥è¯¢ã€‚</p><p>ä½†æ˜¯ï¼Œå¢åŠ ç´¢å¼•ä»˜å‡ºçš„ä»£ä»·æ˜¯ï¼Œä¼šé™ä½æ•°æ®æ’å…¥ã€åˆ é™¤å’Œæ›´æ–°çš„æ€§èƒ½ã€‚è¿™ä¸ªä¹Ÿå¾ˆå¥½ç†è§£ï¼Œå¢åŠ äº†ç´¢å¼•ï¼Œåœ¨æ•°æ®å˜åŒ–çš„æ—¶å€™ï¼Œä¸ä»…è¦å˜æ›´æ•°æ®è¡¨é‡Œçš„æ•°æ®ï¼Œè¿˜è¦å»å˜æ›´æ¯ä¸ªç´¢å¼•ã€‚æ‰€ä»¥ï¼Œå¯¹äºæ›´æ–°é¢‘ç¹å¹¶ä¸”å¯¹æ›´æ–°æ€§èƒ½è¦æ±‚è¾ƒé«˜çš„è¡¨ï¼Œå¯ä»¥å°½é‡å°‘å»ºç´¢å¼•ã€‚è€Œå¯¹äºæŸ¥è¯¢è¾ƒå¤šæ›´æ–°è¾ƒå°‘çš„è¡¨ï¼Œå¯ä»¥æ ¹æ®æŸ¥è¯¢çš„ä¸šåŠ¡é€»è¾‘ï¼Œé€‚å½“å¤šå»ºä¸€äº›ç´¢å¼•ã€‚</p><p>æ€ä¹ˆå†™SQLèƒ½æ›´å¥½åœ°ä½¿ç”¨ç´¢å¼•ï¼ŒæŸ¥è¯¢æ•ˆç‡æ›´é«˜ï¼Œè¿™æ˜¯ä¸€é—¨æ‰‹è‰ºï¼Œéœ€è¦ä¸°å¯Œçš„ç»éªŒï¼Œä¸æ˜¯é€šè¿‡ä¸€èŠ‚è¯¾çš„å­¦ä¹ èƒ½ç»ƒæˆçš„ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬æ˜¯æœ‰æ–¹æ³•ï¼Œå¯ä»¥è¯„ä¼°å†™å‡ºæ¥çš„SQLçš„æŸ¥è¯¢æ€§èƒ½æ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯ä¸€ä¸ªæ½œåœ¨çš„â€œæ…¢SQLâ€ã€‚</p><p>é€»è¾‘ä¸æ˜¯å¾ˆå¤æ‚çš„å•è¡¨æŸ¥è¯¢ï¼Œæˆ‘ä»¬å¯èƒ½è¿˜å¯ä»¥åˆ†æå‡ºæ¥ï¼ŒæŸ¥è¯¢ä¼šä½¿ç”¨å“ªä¸ªç´¢å¼•ã€‚ä½†å¦‚æœæ˜¯æ¯”è¾ƒå¤æ‚çš„å¤šè¡¨è”åˆæŸ¥è¯¢ï¼Œæˆ‘ä»¬å•çœ‹SQLè¯­å¥æœ¬èº«ï¼Œå°±å¾ˆéš¾åˆ†æå‡ºæŸ¥è¯¢åˆ°åº•ä¼šå‘½ä¸­å“ªäº›ç´¢å¼•ï¼Œä¼šéå†å¤šå°‘è¡Œæ•°æ®ã€‚MySQLå’Œå¤§éƒ¨åˆ†æ•°æ®åº“ï¼Œéƒ½æä¾›ä¸€ä¸ªå¸®åŠ©æˆ‘ä»¬åˆ†ææŸ¥è¯¢åŠŸèƒ½ï¼šæ‰§è¡Œè®¡åˆ’ã€‚</p><h2>åˆ†æSQLæ‰§è¡Œè®¡åˆ’</h2><p>åœ¨MySQLä¸­ä½¿ç”¨æ‰§è¡Œè®¡åˆ’ä¹Ÿéå¸¸ç®€å•ï¼Œåªè¦åœ¨ä½ çš„SQLè¯­å¥å‰é¢åŠ ä¸Š<strong>EXPLAIN</strong>å…³é”®å­—ï¼Œç„¶åæ‰§è¡Œè¿™ä¸ªæŸ¥è¯¢è¯­å¥å°±å¯ä»¥äº†ã€‚</p><p>ä¸¾ä¸ªä¾‹å­è¯´æ˜ï¼Œæ¯”å¦‚æœ‰ä¸€ä¸ªç”¨æˆ·è¡¨ï¼ŒåŒ…å«ç”¨æˆ·IDã€å§“åã€éƒ¨é—¨ç¼–å·å’ŒçŠ¶æ€è¿™å‡ ä¸ªå­—æ®µï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/43/48/437d6d3fb610431cfb9044781a8faa48.png?wh=1142*319\" alt=\"\"></p><p>æˆ‘ä»¬å¸Œæœ›æŸ¥è¯¢æŸä¸ªäºŒçº§éƒ¨é—¨ä¸‹çš„æ‰€æœ‰äººï¼ŒæŸ¥è¯¢æ¡ä»¶å°±æ˜¯ï¼Œéƒ¨é—¨ä»£å·ä»¥00028å¼€å¤´çš„æ‰€æœ‰äººã€‚ä¸‹é¢è¿™ä¸¤ä¸ªSQLï¼Œä»–ä»¬çš„æŸ¥è¯¢ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ»¡è¶³è¦æ±‚ï¼Œä½†æ˜¯ï¼Œå“ªä¸ªæŸ¥è¯¢æ€§èƒ½æ›´å¥½å‘¢ï¼Ÿ</p><pre><code>SELECT * FROM user WHERE left(department_code, 5) = '00028';\nSELECT * FROM user WHERE department_code LIKE '00028%';\n</code></pre><p>æˆ‘ä»¬åˆ†åˆ«æŸ¥çœ‹ä¸€ä¸‹è¿™ä¸¤ä¸ªSQLçš„æ‰§è¡Œè®¡åˆ’ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/4b/74/4b50e4e1192714379ff3a4697d02a774.png?wh=1142*348\" alt=\"\"></p><p>æˆ‘å¸¦ä½ ä¸€èµ·æ¥åˆ†æä¸€ä¸‹è¿™ä¸¤ä¸ªSQLçš„æ‰§è¡Œè®¡åˆ’ã€‚é¦–å…ˆæ¥çœ‹rowsè¿™ä¸€åˆ—ï¼Œrowsçš„å«ä¹‰å°±æ˜¯ï¼ŒMySQLé¢„ä¼°æ‰§è¡Œè¿™ä¸ªSQLå¯èƒ½ä¼šéå†çš„æ•°æ®è¡Œæ•°ã€‚ç¬¬ä¸€ä¸ªSQLéå†äº†å››åƒå¤šè¡Œï¼Œè¿™å°±æ˜¯æ•´ä¸ªUserè¡¨çš„æ•°æ®æ¡æ•°ï¼›ç¬¬äºŒä¸ªSQLåªæœ‰8è¡Œï¼Œè¿™8è¡Œå…¶å®å°±æ˜¯ç¬¦åˆæ¡ä»¶çš„8æ¡è®°å½•ã€‚æ˜¾ç„¶ç¬¬äºŒä¸ªSQLæŸ¥è¯¢æ€§èƒ½è¦è¿œè¿œå¥½äºç¬¬ä¸€ä¸ªSQLã€‚</p><p>ä¸ºä»€ä¹ˆç¬¬ä¸€ä¸ªSQLéœ€è¦å…¨è¡¨æ‰«æï¼Œç¬¬äºŒä¸ªSQLåªéå†äº†å¾ˆå°‘çš„è¡Œæ•°å‘¢ï¼Ÿæ³¨æ„çœ‹typeè¿™ä¸€åˆ—ï¼Œè¿™ä¸€åˆ—è¡¨ç¤ºè¿™ä¸ªæŸ¥è¯¢çš„è®¿é—®ç±»å‹ã€‚ALLä»£è¡¨å…¨è¡¨æ‰«æï¼Œè¿™æ˜¯æœ€å·®çš„æƒ…å†µã€‚rangeä»£è¡¨ä½¿ç”¨äº†ç´¢å¼•ï¼Œåœ¨ç´¢å¼•ä¸­è¿›è¡ŒèŒƒå›´æŸ¥æ‰¾ï¼Œå› ä¸ºç¬¬äºŒä¸ªSQLè¯­å¥çš„WHEREä¸­æœ‰ä¸€ä¸ªLIKEçš„æŸ¥è¯¢æ¡ä»¶ã€‚å¦‚æœç›´æ¥å‘½ä¸­ç´¢å¼•ï¼Œtypeè¿™ä¸€åˆ—æ˜¾ç¤ºçš„æ˜¯indexã€‚å¦‚æœä½¿ç”¨äº†ç´¢å¼•ï¼Œå¯ä»¥åœ¨keyè¿™ä¸€åˆ—ä¸­çœ‹åˆ°ï¼Œå®é™…ä¸Šä½¿ç”¨äº†å“ªä¸ªç´¢å¼•ã€‚</p><p>é€šè¿‡å¯¹æ¯”è¿™ä¸¤ä¸ªSQLçš„æ‰§è¡Œè®¡åˆ’ï¼Œå°±å¯ä»¥çœ‹å‡ºæ¥ï¼Œç¬¬äºŒä¸ªSQLè™½ç„¶ä½¿ç”¨äº†æ™®éè®¤ä¸ºä½æ•ˆçš„LIKEæŸ¥è¯¢æ¡ä»¶ï¼Œä½†æ˜¯ä»ç„¶å¯ä»¥ç”¨åˆ°ç´¢å¼•çš„èŒƒå›´æŸ¥æ‰¾ï¼Œéå†æ•°æ®çš„è¡Œæ•°è¿œè¿œå°‘äºç¬¬ä¸€ä¸ªSQLï¼ŒæŸ¥è¯¢æ€§èƒ½æ›´å¥½ã€‚</p><h2>å°ç»“</h2><p>åœ¨å¼€å‘é˜¶æ®µï¼Œè¡¡é‡ä¸€ä¸ªSQLæŸ¥è¯¢è¯­å¥æŸ¥è¯¢æ€§èƒ½çš„æ‰‹æ®µæ˜¯ï¼Œä¼°è®¡æ‰§è¡ŒSQLæ—¶éœ€è¦éå†çš„æ•°æ®è¡Œæ•°ã€‚éå†è¡Œæ•°åœ¨ç™¾ä¸‡ä»¥å†…ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯å®‰å…¨çš„SQLï¼Œç™¾ä¸‡åˆ°åƒä¸‡è¿™ä¸ªé‡çº§åˆ™éœ€è¦ä»”ç»†è¯„ä¼°å’Œä¼˜åŒ–ï¼Œåƒä¸‡çº§åˆ«ä»¥ä¸Šåˆ™æ˜¯éå¸¸å±é™©çš„ã€‚ä¸ºäº†å‡å°‘æ…¢SQLçš„å¯èƒ½æ€§ï¼Œæ¯ä¸ªæ•°æ®è¡¨çš„è¡Œæ•°æœ€å¥½æ§åˆ¶åœ¨åƒä¸‡ä»¥å†…ã€‚</p><p>ç´¢å¼•å¯ä»¥æ˜¾è‘—å‡å°‘æŸ¥è¯¢éå†æ•°æ®çš„æ•°é‡ï¼Œæ‰€ä»¥æå‡SQLæŸ¥è¯¢æ€§èƒ½æœ€æœ‰æ•ˆçš„æ–¹å¼å°±æ˜¯ï¼Œè®©æŸ¥è¯¢å°½å¯èƒ½å¤šçš„å‘½ä¸­ç´¢å¼•ï¼Œä½†ç´¢å¼•ä¹Ÿæ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œå®ƒåœ¨æå‡æŸ¥è¯¢æ€§èƒ½çš„åŒæ—¶ï¼Œä¹Ÿä¼šé™ä½æ•°æ®æ›´æ–°çš„æ€§èƒ½ã€‚</p><p>å¯¹äºå¤æ‚çš„æŸ¥è¯¢ï¼Œæœ€å¥½ä½¿ç”¨SQLæ‰§è¡Œè®¡åˆ’ï¼Œäº‹å…ˆå¯¹æŸ¥è¯¢åšä¸€ä¸ªåˆ†æã€‚åœ¨SQLæ‰§è¡Œè®¡åˆ’çš„ç»“æœä¸­ï¼Œå¯ä»¥çœ‹åˆ°æŸ¥è¯¢é¢„ä¼°çš„éå†è¡Œæ•°ï¼Œå‘½ä¸­äº†å“ªäº›ç´¢å¼•ã€‚æ‰§è¡Œè®¡åˆ’ä¹Ÿå¯ä»¥å¾ˆå¥½åœ°å¸®åŠ©ä½ ä¼˜åŒ–ä½ çš„æŸ¥è¯¢è¯­å¥ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>è¯¾åè¯·ä½ æƒ³ä¸€ä¸‹ï¼Œåœ¨è®²è§£SQLæ‰§è¡Œè®¡åˆ’é‚£ä¸ªä¾‹å­ä¸­çš„ç¬¬ä¸€ä¸ªSQLï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰ä½¿ç”¨ç´¢å¼•å‘¢ï¼Ÿ</p><pre><code>SELECT * FROM user WHERE left(department_code, 5) = '00028';\n</code></pre><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºä¸æˆ‘è®¨è®ºï¼Œå¦‚æœä½ è§‰å¾—ä»Šå¤©å­¦åˆ°çš„çŸ¥è¯†å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"08 | ä¸€ä¸ªå‡ ä¹æ¯ä¸ªç³»ç»Ÿå¿…è¸©çš„å‘å„¿ï¼šè®¿é—®æ•°æ®åº“è¶…æ—¶","id":211008},"right":{"article_title":"10 | èµ°è¿›é»‘ç›’ï¼šSQLæ˜¯å¦‚ä½•åœ¨æ•°æ®åº“ä¸­æ‰§è¡Œçš„ï¼Ÿ","id":213176}},"comments":[{"had_liked":false,"id":188635,"user_name":"å†¯ç‰é¹","can_delete":false,"product_type":"c1","uid":1442088,"ip_address":"","ucode":"BA4B53F072B82F","user_header":"https://static001.geekbang.org/account/avatar/00/16/01/28/134da154.jpg","comment_is_top":false,"comment_ctime":1584379586,"is_pvip":false,"replies":[{"id":"72793","content":"ğŸ‘ğŸ‘ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1584410902,"ip_address":"","comment_id":188635,"utype":1}],"discussion_count":7,"race_medal":0,"score":"306527057602","product_id":100046801,"comment_content":"innodb çš„ç´¢å¼•æ˜¯ç”¨ç´¢å¼•å…³è”åˆ—ä»¥b+æ ‘çš„å½¢å¼ ç®¡ç†ï¼Œå…¶ä¸­ä¸»é”®ç´¢æ€§å’Œæ•°æ®çš„ç‰©ç†é¡ºåºä¸€è‡´ï¼Œä¹Ÿå«èšé›†ç´¢å¼•ã€‚éä¸»é”®ç´¢å¼•å®é™…ä¸Šæ˜¯æŒ‡å‘ä¸»é”®ç´¢å¼•ã€‚<br>æ–‡æœ«çš„é—®é¢˜å¯¹ department_code åˆ— left è¿ç®—åï¼ŒMySQL è®¤ä¸ºè¿ç®—åçš„ç»“æœä¸å¯ä¸åŸæ•°æ®åˆ—å†…å®¹åŒ¹é…ï¼Œæ•…é‡‡ç”¨å…¨è¡¨æ‰«æï¼Œ è€Œç¬¬äºŒä¸ªè¯­å¥like  &#39;00028%&#39; å¯ä»¥ä½¿ç”¨åˆ°ç´¢å¼• æ˜¯å› ä¸ºç´¢å¼•çš„æœ€å·¦åŒ¹é…é€‰æ‹©ï¼Œå¦‚æœ%åœ¨å‰é¢ä¹Ÿå°†æ— æ³•ä½¿ç”¨ç´¢å¼•ã€‚PS:åœ¨è¿™é‡ŒMySQLçš„æŸ¥è¯¢ä¼˜åŒ–å™¨åœ¨ä½¿ç”¨äº†leftå‡½æ•°æ— æ³•åŒ¹é…ç´¢å¼•å¯ä»¥è®¤ä¸ºæœ‰å·æ‡’çš„å«Œç–‘ï¼Œå“ˆå“ˆ~  ç±»ä¼¼çš„åœºæ™¯è¿˜æœ‰ where åˆ— +1 = val   æŸ¥è¯¢ä¼˜åŒ–å™¨ä¹Ÿå®Œå…¨å¯ä»¥æ”¹å†™æˆ where åˆ—=val - 1ã€‚","like_count":72,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487471,"discussion_content":"ğŸ‘ğŸ‘ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584410902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1099053,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c5/2d/1eebfc3c.jpg","nickname":"GaGiî","note":"","ucode":"CC8D22E1DD8CA2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":206817,"discussion_content":"çœ‹åˆ°+1=valçš„æ“ä½œå°±æƒ³èµ·äº†éš”å£çš„MySQLå®æˆ˜45è®²","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1584447586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1649057,"avatar":"https://static001.geekbang.org/account/avatar/00/19/29/a1/41607383.jpg","nickname":"hello","note":"","ucode":"4F42DAA5DB5C38","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376886,"discussion_content":"çœ‹æ¥ä½ å·²ç»çœ‹äº†éš”å£çš„MySQL45 è®²äº†ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1622390476,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1203293,"avatar":"https://static001.geekbang.org/account/avatar/00/12/5c/5d/974b033f.jpg","nickname":"é™†è€å¸ˆ","note":"","ucode":"0EA27C4755FF4A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236591,"discussion_content":"æ˜¯å¯¹ç´¢å¼•åˆ—ç”¨äº†å‡½æ•°ï¼ŒMySQLæ²¡æ³•ç›´æ¥çŸ¥é“ç´¢å¼•åˆ—çš„å‰5ä¸ªå€¼ï¼Œé‚£ä¹ˆå°±éœ€è¦å¯¹æ¯ä¸€è¡Œåšå‡½æ•°å¤„ç†ï¼Œé‚£è¿™æ ·å°±éœ€è¦å…¨è¡¨æ‰«æã€‚MySQLèƒ½ç”¨ä¸Šç´¢å¼•å°±æ˜¯åˆ©ç”¨äº†ç´¢å¼•æœ¬èº«çš„å€¼ä»¥åŠå€¼æŒ‰ä»å°åˆ°å¤§æ’åºçš„ç‰¹æ€§ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1587106458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1388160,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/cLibWco0BcPIc7OrTLTPtuibMmAJCIIvm6gUeaLrgnIoKUSxClUSPwP1xAl40HIdczqz9mDbqLMebofxzR349mMw/132","nickname":"ç§¦å²­","note":"","ucode":"B6035F5F9D2867","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211385,"discussion_content":"æ²¡æœ‰ææ˜ç™½ï¼Œlike &#39;00028%&#39; å’Œ like &#39;%00028%&#39; å‰è€…å¯ä»¥åŒ¹é…åˆ°ç´¢å¼•ï¼Œè€Œåè€…ä¸ºä»€ä¹ˆä¸è¡Œï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584846152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1442088,"avatar":"https://static001.geekbang.org/account/avatar/00/16/01/28/134da154.jpg","nickname":"å†¯ç‰é¹","note":"","ucode":"BA4B53F072B82F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1388160,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/cLibWco0BcPIc7OrTLTPtuibMmAJCIIvm6gUeaLrgnIoKUSxClUSPwP1xAl40HIdczqz9mDbqLMebofxzR349mMw/132","nickname":"ç§¦å²­","note":"","ucode":"B6035F5F9D2867","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217970,"discussion_content":"ç´¢å¼•çš„æœ€å·¦åŒ¹é…åŸåˆ™","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1585605250,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":211385,"ip_address":""},"score":217970,"extra":""},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1388160,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/cLibWco0BcPIc7OrTLTPtuibMmAJCIIvm6gUeaLrgnIoKUSxClUSPwP1xAl40HIdczqz9mDbqLMebofxzR349mMw/132","nickname":"ç§¦å²­","note":"","ucode":"B6035F5F9D2867","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366141,"discussion_content":"å¾ˆç®€å•ï¼Œå› ä¸ºä»¥%å¼€å¤´çš„æ¨¡ç³ŠåŒ¹é…ï¼Œä¸çŸ¥é“å‰å¤´æœ‰å¯èƒ½æ˜¯ä»€ä¹ˆï¼Œå› æ­¤å¿…é¡»è¦å…¨è¡¨æ‰«æ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1617969644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":211385,"ip_address":""},"score":366141,"extra":""}]}]},{"had_liked":false,"id":189036,"user_name":"å°è¢","can_delete":false,"product_type":"c1","uid":1811495,"ip_address":"","ucode":"3F5D8721F577D9","user_header":"https://static001.geekbang.org/account/avatar/00/1b/a4/27/15e75982.jpg","comment_is_top":false,"comment_ctime":1584449089,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"121843533377","product_id":100046801,"comment_content":"ç®€å•æ¥è¯´ï¼Œè¦å†™æˆ &quot;ç´¢å¼• åˆ— = è®¡ç®—è¡¨è¾¾å¼&quot;è¿™ç§å½¢å¼ï¼Œå…»æˆè¿™ä¸ªä¹ æƒ¯<br>","like_count":29,"discussions":[{"author":{"id":1386818,"avatar":"https://static001.geekbang.org/account/avatar/00/15/29/42/43d4b1a8.jpg","nickname":"çƒ«çƒ«çƒ«","note":"","ucode":"C06018670DE76A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330538,"discussion_content":"é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜è¦å°å¿ƒéšå¼ç±»å‹è½¬æ¢","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1606642984,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":189352,"user_name":"Regis","can_delete":false,"product_type":"c1","uid":1435632,"ip_address":"","ucode":"3911E4EDE27F4E","user_header":"https://static001.geekbang.org/account/avatar/00/15/e7/f0/d0bf3a5f.jpg","comment_is_top":false,"comment_ctime":1584504474,"is_pvip":false,"replies":[{"id":"73117","content":"æˆ‘çš„å»ºè®®æ˜¯ï¼Œåœ¨çº¿äº¤æ˜“ç±»ç³»ç»Ÿï¼ˆOLTPï¼Œå¤§éƒ¨åˆ†æœåŠ¡ä¸šåŠ¡çš„CRUDç±»ç³»ç»Ÿï¼‰ä½¿ç”¨ORMæ¡†æ¶ã€‚<br><br>åˆ†æç±»ç³»ç»Ÿï¼ˆOLAPï¼Œå„ç§åˆ†æå’ŒæŠ¥è¡¨ç±»ç³»ç»Ÿï¼‰ç›´æ¥å†™SQLã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1584593188,"ip_address":"","comment_id":189352,"utype":1}],"discussion_count":3,"race_medal":0,"score":"83188883098","product_id":100046801,"comment_content":"åå°å®é™…å¼€å‘ä¸­ï¼Œä½¿ç”¨ORMçš„æ¡†æ¶çš„æƒ…å†µæ˜¯ä¸æ˜¯å¾ˆå¤šï¼Ÿå¦‚æœä½¿ç”¨ORMæ¡†æ¶ï¼ŒSQLçš„å†™æ³•å°±ä¸å¯æ§äº†ã€‚å®é™…å¼€å‘ä¸­æ˜¯ä½¿ç”¨ORMæ¡†æ¶å¥½è¿˜æ˜¯ç›´æ¥ä¹¦å†™SQLå¥½ï¼Ÿè¿˜æ˜¯ä¸¤ç§éƒ½ä¼šå­˜åœ¨ï¼Ÿä¸€äº›å¤æ‚çš„æŸ¥è¯¢ä½¿ç”¨æ¡†æ¶æŸ¥è¯¢æ„Ÿè§‰å¾ˆç—›è‹¦","like_count":18,"discussions":[{"author":{"id":1062848,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ersGSic8ib7OguJv6CJiaXY0s4n9C7Z51sWxTTljklFpq3ZAIWXoFTPV5oLo0GMTkqW5sYJRRnibNqOJQ/132","nickname":"walleæ–Œ","note":"","ucode":"0DB3243004951F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545665,"discussion_content":"é™¤éä½ çš„ç³»ç»Ÿå°±æ˜¯ä¸€ä¸ªçº¯demo åŸºæœ¬ä¸ä¼šæœ‰å¤§çš„é‡ å¦åˆ™ å¤šå¼ºè°ƒå‡ é ä¸è¦ç”¨å®Œå…¨ormæ¡†æ¶ã€‚ã€‚å½“ä½ çš„dbé‡çº§éšä¾¿æ¥åˆ°å‡ ç™¾ä¸‡çš„çº§åˆ«ï¼Œå®Œå…¨æ‰›ä¸ä½ã€‚ã€‚è¸è¸å®å®mybatis  æ‰‹æ’¸sql  ä¼˜åŒ–sqlåˆ°æè‡´ã€‚ã€‚å‰æœŸçœä¸‹é‚£ç‚¹å¼€å‘æ—¶é—´ï¼Œåè¾¹å°±æ…¢æ…¢å¡«å‘å§ã€‚ã€‚è¯´ä¸€å¥ï¼Œå¤–åŒ…åŠå…¶å–œæ¬¢ç”¨jpaè¿™ç§ã€‚ã€‚ä¸ºå•¥æ¥ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1642035916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487677,"discussion_content":"æˆ‘çš„å»ºè®®æ˜¯ï¼Œåœ¨çº¿äº¤æ˜“ç±»ç³»ç»Ÿï¼ˆOLTPï¼Œå¤§éƒ¨åˆ†æœåŠ¡ä¸šåŠ¡çš„CRUDç±»ç³»ç»Ÿï¼‰ä½¿ç”¨ORMæ¡†æ¶ã€‚\n\nåˆ†æç±»ç³»ç»Ÿï¼ˆOLAPï¼Œå„ç§åˆ†æå’ŒæŠ¥è¡¨ç±»ç³»ç»Ÿï¼‰ç›´æ¥å†™SQLã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584593188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1361746,"avatar":"https://static001.geekbang.org/account/avatar/00/14/c7/52/c5adf218.jpg","nickname":"å–œæ¬¢åœ°çƒçš„é˜¿åŸ¹åŒå­¦","note":"","ucode":"5F97037585F857","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":260016,"discussion_content":"ç”¨Mybatis","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588839064,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204464,"user_name":"è´¾æ•","can_delete":false,"product_type":"c1","uid":1946456,"ip_address":"","ucode":"6C5B5EABA4C811","user_header":"https://static001.geekbang.org/account/avatar/00/1d/b3/58/14e407e8.jpg","comment_is_top":false,"comment_ctime":1586403356,"is_pvip":false,"replies":[{"id":"76479","content":"ä½ æƒ³ä¸€ä¸‹B+æ ‘çš„ç»“æ„æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œå°±ä¼šæ˜ç™½äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1586426786,"ip_address":"","comment_id":204464,"utype":1}],"discussion_count":2,"race_medal":0,"score":"57420978204","product_id":100046801,"comment_content":"åªçŸ¥é“  LIKE &#39;00028%&#39; ä¼šä½¿ç”¨ç´¢å¼•ï¼Œ ä½†æ˜¯ä¸ºä»€ä¹ˆè¯´æ˜¯æœ€å·¦åŒ¹é…å‘¢ï¼Ÿè°¢è°¢è€å¸ˆ","like_count":14,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491189,"discussion_content":"ä½ æƒ³ä¸€ä¸‹B+æ ‘çš„ç»“æ„æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œå°±ä¼šæ˜ç™½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586426786,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366145,"discussion_content":"B+æ ‘æŒ‰å­—å…¸åºæ’åº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617969951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":194675,"user_name":"leslie","can_delete":false,"product_type":"c1","uid":1324255,"ip_address":"","ucode":"798E7C1CC98CC2","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg","comment_is_top":false,"comment_ctime":1585097037,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"48829737293","product_id":100046801,"comment_content":"åŸå› å¾ˆç®€å•ï¼šå‡½æ•°ç ´åäº†ç´¢å¼•ï¼Œå…¶å®è¿™ç§å†™æ³•åŸºæœ¬ä¸Šéƒ½ä¼šåœ¨ç¨‹åºç«¯ç¦æ­¢çš„ï¼›code reviewè¿™å…³è¿‡ä¸å»çš„ï¼Œç›´æ¥å‘å›å¼€å‘-é‡å†™ã€‚like è¯­å¥å…¶å®ç”¨åˆ°äº†mysql 5.7æ‰€å¼•ç”¨çš„ç‰¹æ€§ åˆ†åˆ—ï¼Œé—®é¢˜å°±è¿™ä¹ˆç®€å•ã€‚","like_count":12},{"had_liked":false,"id":201858,"user_name":"å¤ç›®","can_delete":false,"product_type":"c1","uid":1212750,"ip_address":"","ucode":"67C075A01CF4D2","user_header":"https://static001.geekbang.org/account/avatar/00/12/81/4e/d71092f4.jpg","comment_is_top":false,"comment_ctime":1585846398,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23060682878","product_id":100046801,"comment_content":"ç›´æ¥åœ¨åˆ—ä¸Šåšè¿ç®—ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Œå› ä¸ºåŸæœ‰ç´¢å¼•å€¼è¿ç®—ä¹‹åä¼šä¸æ»¡è¶³å½“å‰ç´¢å¼•å€¼æ’åºï¼Œæ‰€ä»¥ä¸ä¼šèµ°ç´¢å¼•ï¼Œæœ€å¥½æ˜¯æŠŠç´¢å¼•å€¼è¿ç®—æ”¹ä¸ºç›¸åº”çš„æ¡ä»¶è¿ç®—","like_count":5},{"had_liked":false,"id":228274,"user_name":"MClink","can_delete":false,"product_type":"c1","uid":1435733,"ip_address":"","ucode":"F479190923355C","user_header":"https://static001.geekbang.org/account/avatar/00/15/e8/55/92f82281.jpg","comment_is_top":false,"comment_ctime":1592630581,"is_pvip":true,"replies":[{"id":"84533","content":"è¯· ç»§ç»­å¾€ä¸‹å­¦ä¹ ï¼Œæˆ‘ä»¬çš„è¯¾ç¨‹åé¢æœ‰å¤§é‡çš„ç¯‡å¹…æ¥è®²ï¼Œå¦‚ä½•è§£å†³ä½ æå‡ºçš„é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1592917763,"ip_address":"","comment_id":228274,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14477532469","product_id":100046801,"comment_content":"å•è¡¨æ•°æ®é‡å°½é‡ä¸è¦è¶…è¿‡åƒä¸‡çº§åˆ«ï¼Œå¯ä»¥é‡‡å–çš„æªæ–½æœ‰æ°´å¹³åˆ†è¡¨å’Œå‚ç›´åˆ†è¡¨ï¼Œåœ¨æŠ¥è¡¨æ•°æ®ç»Ÿè®¡ç›¸å…³çš„ä¸šåŠ¡ä¸­ï¼Œä¸»è¦é‡‡å–çš„æ˜¯æ°´å¹³åˆ†è¡¨ï¼ŒæŒ‰å¤©ï¼ŒæŒ‰æœˆï¼Œç”šè‡³æ˜¯æŒ‰æ—¥ï¼Œä¹Ÿæœ‰åˆ†åŒºï¼Œä½†æ˜¯è¿™äº›å­˜å‚¨çš„ä¼˜åŒ–æ–¹æ¡ˆï¼Œç»™ç¼–ç é€ æˆäº†ä¸€å®šçš„éš¾åº¦ï¼Œç›®å‰æˆ‘æ¥è§¦çš„æ•°æ®è¡¨åŸºæœ¬éƒ½æ˜¯åƒä¸‡çº§åˆ«ï¼Œæœ‰çš„ç”šè‡³è¿‡äº¿ï¼Œå¤§å¤šæ˜¯ä¸šåŠ¡æ—¥å¿—è¡¨ï¼Œè¯´å®è¯ï¼Œé™¤äº†ç»Ÿè®¡æ‰€éœ€è¦çš„ä¸­é—´è¡¨ï¼Œæ—¥å¿—è¡¨å’Œé¡µé¢å±•ç¤ºç›¸å…³çš„è¡¨æˆ‘ä»¬éƒ½æ²¡æœ‰è¿›è¡Œåˆ†è¡¨ï¼Œæˆ‘æŒºæƒ³çŸ¥é“æˆ‘è¿™ç§æ¶æ„åº”è¯¥æ€ä¹ˆå»è°ƒæ•´æ¯”è¾ƒå¥½","like_count":3,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498978,"discussion_content":"è¯· ç»§ç»­å¾€ä¸‹å­¦ä¹ ï¼Œæˆ‘ä»¬çš„è¯¾ç¨‹åé¢æœ‰å¤§é‡çš„ç¯‡å¹…æ¥è®²ï¼Œå¦‚ä½•è§£å†³ä½ æå‡ºçš„é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592917763,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239232,"user_name":"åƒé”¤ç™¾ç‚¼é¢†æ‚Ÿä¹‹æé™","can_delete":false,"product_type":"c1","uid":1744257,"ip_address":"","ucode":"224B5CF2101716","user_header":"https://static001.geekbang.org/account/avatar/00/1a/9d/81/d748b7eb.jpg","comment_is_top":false,"comment_ctime":1596463192,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10186397784","product_id":100046801,"comment_content":"åœ¨å±æ€§ä¸Šè¿›è¡Œè®¡ç®—ä¸èƒ½å‘½ä¸­ç´¢å¼•ã€‚<br>ä¾‹å¦‚: select * from order where YEAR(date) &lt; = &#39;2020&#39;<br>å³ä½¿dateä¸Šå»ºç«‹äº†ç´¢å¼•ï¼Œä¹Ÿä¼šå…¨è¡¨æ‰«æï¼Œå¯ä¼˜åŒ–ä¸ºå€¼è®¡ç®—ï¼š<br>select * from order where date &lt; = CURDATE()<br>æˆ–è€…ï¼š<br>select * from order where date &lt; = &#39;2020-01-01&#39;","like_count":2},{"had_liked":false,"id":196129,"user_name":"LiGâ„ï¸","can_delete":false,"product_type":"c1","uid":1357566,"ip_address":"","ucode":"0FE01F25ADD1F9","user_header":"https://static001.geekbang.org/account/avatar/00/14/b6/fe/c5d7f0dc.jpg","comment_is_top":false,"comment_ctime":1585237911,"is_pvip":false,"replies":[{"id":"74403","content":"æˆ‘ä¼šåœ¨ã€Š15 | MySQLå­˜å‚¨æµ·é‡æ•°æ®çš„æœ€åä¸€æ‹›ï¼šåˆ†åº“åˆ†è¡¨ã€‹è¿™èŠ‚è¯¾æ¥è®²åˆ†åº“åˆ†è¡¨çš„é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1585271778,"ip_address":"","comment_id":196129,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10175172503","product_id":100046801,"comment_content":"è€å¸ˆï¼Œæƒ³è¯·æ•™æ‚¨ä¸€ä¸ªé—®é¢˜ï¼šmysqlå•åº“è¡¨æ•°é‡æœ‰é™åˆ¶å—ï¼Ÿæ¯ä¸ªåº“å¤šå°‘è¡¨ä¼šæ¯”è¾ƒåˆé€‚å•Šï¼Ÿpsï¼šé¡¹ç›®ä¸­è®¾è®¡ä¸€ä¸ªæ¶ˆæ¯æ¨é€ç³»ç»Ÿï¼Œæ¶ˆæ¯å­˜å‚¨ç°åœ¨æ˜¯ä»¥äººåˆ†è¡¨ï¼Œä¸€äººä¸€ä¸ªæ¶ˆæ¯è¡¨ï¼ˆä¼šé€ æˆè¡¨æ•°æ®è†¨èƒ€ï¼‰ï¼›è¿˜æœ‰æƒ³æ³•æ˜¯æƒ³é‡æ„ï¼ŒæŠŠæ¶ˆæ¯éƒ½å­˜åœ¨ä¸€èµ·ï¼Œä»¥æ—¶é—´åˆ†è¡¨ï½æ²¡æœ‰åšè¿‡å¤§å­˜å‚¨ï¼Œè¿˜æœ›è€å¸ˆæŒ‡æ•™ğŸ˜„","like_count":2,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489230,"discussion_content":"æˆ‘ä¼šåœ¨ã€Š15 | MySQLå­˜å‚¨æµ·é‡æ•°æ®çš„æœ€åä¸€æ‹›ï¼šåˆ†åº“åˆ†è¡¨ã€‹è¿™èŠ‚è¯¾æ¥è®²åˆ†åº“åˆ†è¡¨çš„é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585271778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":195184,"user_name":"é¥¼å­","can_delete":false,"product_type":"c1","uid":1085953,"ip_address":"","ucode":"981A44836A5216","user_header":"https://static001.geekbang.org/account/avatar/00/10/92/01/c723d180.jpg","comment_is_top":false,"comment_ctime":1585144891,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10175079483","product_id":100046801,"comment_content":"å› ä¸ºwhereæ¡ä»¶ä½¿ç”¨äº†å‡½æ•°è¿ç®—ï¼Œé‚£ä¹ˆåªæœ‰æ‰«ææ¯ä¸€è¡Œæ‰èƒ½ç¡®å®šå‡½æ•°æ‰§è¡Œåçš„å€¼ä¸åˆ¤æ–­æ˜¯å¦ä¸€è‡´","like_count":3},{"had_liked":false,"id":227103,"user_name":"è¥¿é—¨å¹ç‰›","can_delete":false,"product_type":"c1","uid":1508990,"ip_address":"","ucode":"E5D3624DDE1E83","user_header":"https://static001.geekbang.org/account/avatar/00/17/06/7e/735968e2.jpg","comment_is_top":false,"comment_ctime":1592288379,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5887255675","product_id":100046801,"comment_content":"æ€è€ƒé¢˜ï¼Œå¯¹whereæ¡ä»¶å­—æ®µï¼Œåšäº†å‡½æ•°æ“ä½œï¼Œç”±äºB+æ ‘ç´¢å¼•ï¼Œä¸€èˆ¬æ¶‰åŠç´¢å¼•éƒ½æ˜¯æœ‰åºçš„ï¼Œå¯¹å­—æ®µè¿›è¡Œå‡½æ•°æ“ä½œï¼Œå°±ç ´åäº†æœ‰åºæ€§ï¼Œæ‰€ä»¥åœ¨æœ‰åºæ ‘ä¸Šè¿›è¡Œæœç´¢ï¼Œå°±ä¸èƒ½æŒ‰ç…§æœç´¢æ ‘æ¥æŸ¥æ‰¾ï¼Œåªèƒ½å…¨è¡¨æ‰«æ","like_count":2},{"had_liked":false,"id":206431,"user_name":"å‘¦å‘¦é¹¿é¸£","can_delete":false,"product_type":"c1","uid":1238190,"ip_address":"","ucode":"BC80F2093CD6C3","user_header":"https://static001.geekbang.org/account/avatar/00/12/e4/ae/7b310c2d.jpg","comment_is_top":false,"comment_ctime":1586859707,"is_pvip":false,"replies":[{"id":"77858","content":"åˆ—çš„æ•°é‡æ˜¯ä¼šå½±å“æŸ¥è¯¢æ€§èƒ½çš„ï¼Œä½†ç›¸æ¯”è¡Œæ•°çš„å½±å“è¦å°å¾—å¤šï¼Œæ‰€ä»¥ï¼Œå¦‚æœä¸æ˜¯åˆ—ç‰¹åˆ«å¤šçš„æƒ…å†µï¼Œå¯ä»¥å¿½ç•¥è¿™ä¸ªå½±å“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1587353693,"ip_address":"","comment_id":206431,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5881827003","product_id":100046801,"comment_content":"æè€å¸ˆå¥½ï¼Œä¸€ç›´æœ‰ä¸ªç–‘é—®ï¼Œè¯„ä¼°æ•°æ®é‡æ—¶ä¸€èˆ¬åªè€ƒè™‘æ•°æ®è¡Œæ•°å°±å¯ä»¥ä¹ˆï¼Ÿç›¸åŒè¡Œæ•°ä¸‹çš„ä¸¤å¼ è¡¨ï¼Œ2ä¸ªå­—æ®µè·Ÿ20ä¸ªå­—æ®µçš„æ€§èƒ½å·®å¼‚éœ€è¦å¦‚ä½•è¯„ä¼°å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491785,"discussion_content":"åˆ—çš„æ•°é‡æ˜¯ä¼šå½±å“æŸ¥è¯¢æ€§èƒ½çš„ï¼Œä½†ç›¸æ¯”è¡Œæ•°çš„å½±å“è¦å°å¾—å¤šï¼Œæ‰€ä»¥ï¼Œå¦‚æœä¸æ˜¯åˆ—ç‰¹åˆ«å¤šçš„æƒ…å†µï¼Œå¯ä»¥å¿½ç•¥è¿™ä¸ªå½±å“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587353693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":194803,"user_name":"ç‰¹ç§æµæ°“","can_delete":false,"product_type":"c1","uid":1248825,"ip_address":"","ucode":"D9985CBA8B4AAD","user_header":"https://static001.geekbang.org/account/avatar/00/13/0e/39/174741d1.jpg","comment_is_top":false,"comment_ctime":1585107251,"is_pvip":false,"replies":[{"id":"74411","content":"æ®æˆ‘æ‰€çŸ¥ï¼ŒMySQLè¿˜æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1585273976,"ip_address":"","comment_id":194803,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5880074547","product_id":100046801,"comment_content":"è€å¸ˆ èƒ½å¦åœ¨mysqlä¸­åšè®¾ç½® è¶…æ—¶çš„sqlæŸ¥è¯¢è‡ªåŠ¨åœæ­¢æ‰§è¡Œ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488905,"discussion_content":"æ®æˆ‘æ‰€çŸ¥ï¼ŒMySQLè¿˜æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585273976,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2037282,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erpYAcOqrNNxmMuKsd6Dh69BzxiaXjJRh6IMnQlxOqBFiae1EMic32Wv6aFESWytliaL7uniaZ4DgNUwxg/132","nickname":"é»„åº","note":"","ucode":"C8C2749E2DE72B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412159,"discussion_content":"è¿™ç§èƒ½åŠ›ä¸€èˆ¬æ˜¯å®¢æˆ·ç«¯çš„èƒ½åŠ›ï¼ŒæœåŠ¡ç«¯ä¸å…·å¤‡ç±»ä¼¼çš„èƒ½åŠ›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636090246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1368901,"avatar":"","nickname":"miu","note":"","ucode":"3D73FF3C09231A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379969,"discussion_content":"æŸ¥è¯¢è¶…æ—¶å–æ¶ˆæ˜¯åº”ç”¨ç¨‹åºæ¥åšçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624265739,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":191467,"user_name":"image","can_delete":false,"product_type":"c1","uid":1039069,"ip_address":"","ucode":"A45BFF284F8933","user_header":"https://static001.geekbang.org/account/avatar/00/0f/da/dd/1e5e7b0c.jpg","comment_is_top":false,"comment_ctime":1584776069,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879743365","product_id":100046801,"comment_content":"Btreeç´¢å¼•æ ‘åªèƒ½æ ¹æ®ç´¢å¼•å€¼è¿›è¡ŒèŒƒå›´æŸ¥æ‰¾ï¼Œè€Œæ— æ³•è¿›è¡Œå‡½æ•°è¿ç®—åæŸ¥æ‰¾","like_count":1},{"had_liked":false,"id":191138,"user_name":"fgdgtz","can_delete":false,"product_type":"c1","uid":1240401,"ip_address":"","ucode":"486CC4ACCC015C","user_header":"","comment_is_top":false,"comment_ctime":1584748517,"is_pvip":false,"replies":[{"id":"73509","content":"ä½ å¯ä»¥æŠŠSQLå’Œæ‰§è¡Œè®¡åˆ’è´´å‡ºæ¥æˆ‘ä»¬ä¸€èµ·è®¨è®ºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æç¥","uid":"1501046","ctime":1584845248,"ip_address":"","comment_id":191138,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5879715813","product_id":100046801,"comment_content":"ä½ å¥½è€å¸ˆï¼Œæˆ‘æƒ³é—®é—®å¦‚æœæ˜¯ order by å¤šä¸ªå­—æ®µæ’åºçš„æ‰§è¡Œæµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ<br>æ¯”å¦‚ æœ‰40000è¡Œ order by a desc,b desc limit 1000 ,aå­—æ®µæœ‰ç´¢å¼•ï¼Œbå­—æ®µæ— ç´¢å¼•ï¼Œaå­—æ®µä¿å­˜çš„æ˜¯æ—¶é—´æˆ³ï¼Œæœ‰å°‘éƒ¨åˆ†æ—¶é—´æˆ³æ˜¯åŒæ ·çš„ï¼Œæ­¤æ—¶explain ä¼šæœ‰ Using filesortï¼Œè¿™æ ·æ”¾å…¥sort_buffer æ˜¯40000è¡Œ è¿˜æ˜¯ å¤§äº1000è¡Œè€Œå°äº40000è¡Œå‘¢ï¼Ÿæˆ–æ˜¯æ‰«æäº†å¤šå°‘è¡Œï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1501046,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e7/76/79c1f23a.jpg","nickname":"æç¥","note":"","ucode":"B19E91EE248591","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488120,"discussion_content":"ä½ å¯ä»¥æŠŠSQLå’Œæ‰§è¡Œè®¡åˆ’è´´å‡ºæ¥æˆ‘ä»¬ä¸€èµ·è®¨è®ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584845248,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366149,"discussion_content":"å› ä¸ºaå­—æ®µä¿å­˜çš„æ—¶é—´æˆ³ï¼Œæœ‰å¯èƒ½ç›¸åŒï¼Œå› æ­¤æ‰«æè¡Œæ•°>=1000\nå–å†³äºå®é™…æ•°æ®æƒ…å†µï¼šå³ç¬¬1000ä¸ªå€¼æœ‰å¤šå°‘aå­—æ®µç›¸åŒï¼Œæœ€åçš„æƒ…å†µæ˜¯å…¨è¡¨æ‰«æ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617970388,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1158873,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ae/d9/7a732188.jpg","nickname":"ROCKETsFORWARD","note":"","ucode":"D171E33E546FD2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":210713,"discussion_content":"å¦‚æœä½ è¿™ä¸ªæŸ¥è¯¢æ²¡æœ‰whereæ¡ä»¶ï¼Œåªæ˜¯orderæ’åºï¼Œé‚£ä¹ˆåº”è¯¥å°±æ˜¯æ‰«æ1000è¡Œå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584763898,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190953,"user_name":"æ´»åˆ°å¤©å¹´","can_delete":false,"product_type":"c1","uid":1116236,"ip_address":"","ucode":"03178BA96BE04E","user_header":"https://static001.geekbang.org/account/avatar/00/11/08/4c/e5db89c6.jpg","comment_is_top":false,"comment_ctime":1584712782,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879680078","product_id":100046801,"comment_content":"æ˜¯å› ä¸ºç­‰å·çš„å·¦è¾¹ä½¿ç”¨äº†å‡½æ•°ï¼Œå¦‚æœç­‰å·å·¦è¾¹ä½¿ç”¨äº†å‡½æ•°ï¼Œåˆ™ä¼šå¯¼è‡´å…¨è¡¨æ‰«æï¼Œä½†æ˜¯å¦‚æœå¯ä»¥å»ºç«‹å‡½æ•°ç´¢å¼•çš„è¯ï¼Œä¹Ÿå¯ä»¥æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚","like_count":1},{"had_liked":false,"id":188834,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1584423916,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5879391212","product_id":100046801,"comment_content":"ä½œä¸ºä¸€ä¸ªåˆæ ¼çš„ç¨‹åºå‘˜ï¼Œè¦å¯¹æ•°æ®åº“çš„å¤„ç†èƒ½åŠ›ï¼Œæœ‰ä¸ªå®šé‡çš„è®¤çŸ¥ã€‚ è¯´çš„å¾ˆå¯¹ï¼Œè®¤åŒ<br>æœ‰ä¸ªé—®é¢˜å°±æ˜¯ï¼Œæœ‰æ²¡æœ‰ä¸€ä¸ªæŒ‡æ ‡å¯ä»¥çŸ¥é“MySQLæ¯ç§’é’Ÿæ‰§è¡Œçš„SQLæ•°é‡ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1320730,"avatar":"https://static001.geekbang.org/account/avatar/00/14/27/1a/77fb1e4e.jpg","nickname":"Lingjun","note":"","ucode":"5CE38C19231D3B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":209612,"discussion_content":"è¿™ä¸ªè¿è¡Œåœ¨ä¸åŒæ€§èƒ½çš„æœºå™¨ä¸Šã€æˆ–è€…æœºå™¨åœ¨è´Ÿè½½ä¸åŒçš„æ—¶å€™è‚¯å®šæ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥æ ¹æ®éå†è¡Œæ•°è¿˜æ˜¯ç›¸å¯¹æ¯”è¾ƒå®¢è§‚çš„å§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584660965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188724,"user_name":"æ”»åŸæ‹”å¯¨","can_delete":false,"product_type":"c1","uid":1053934,"ip_address":"","ucode":"CBC37183DAB6B2","user_header":"https://static001.geekbang.org/account/avatar/00/10/14/ee/d72a8222.jpg","comment_is_top":false,"comment_ctime":1584408765,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879376061","product_id":100046801,"comment_content":"ç´¢å¼•ä½¿ç”¨å‡½æ•°ä¼šè®©ç´¢å¼•å¤±æ•ˆï¼Œå› ä¸ºå¿…é¡»æ‹¿æ‰€æœ‰ç´¢å¼•å»è®¡ç®—æ‰èƒ½å¾—åˆ°ç»“æœ","like_count":1},{"had_liked":false,"id":188705,"user_name":"åˆ˜æ¥ ","can_delete":false,"product_type":"c1","uid":1120773,"ip_address":"","ucode":"9F19D44CBEE039","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/05/f154d134.jpg","comment_is_top":false,"comment_ctime":1584406546,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879373842","product_id":100046801,"comment_content":"LEFT()å‡½æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å‡½æ•°ï¼Œå®ƒè¿”å›å…·æœ‰æŒ‡å®šé•¿åº¦çš„å­—ç¬¦ä¸²çš„å·¦è¾¹éƒ¨åˆ†ã€‚<br><br>ã€€ã€€LEFT(Str,length);<br><br>ã€€ã€€æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š<br><br>ã€€ã€€ã€€ã€€strï¼šä¸€ä¸ªå­—ç¬¦ä¸²ï¼›<br><br>ã€€ã€€ã€€ã€€lengthï¼šæƒ³è¦æˆªå–çš„é•¿åº¦ï¼Œæ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼›<br>leftå‡½æ•°ï¼Œä¼šæ‰«ææ‰€æœ‰çš„è¡Œï¼Œå¹¶è¯•å›¾æ‰¾åˆ°æ‰€æœ‰èƒ½ä¸åŒ¹é…çš„è®°å½•ï¼Œæ˜¯å€¼ç­è¡¨æ‰«æ","like_count":1},{"had_liked":false,"id":188698,"user_name":"R20114","can_delete":false,"product_type":"c1","uid":1046260,"ip_address":"","ucode":"883B7FD07443BC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f6/f4/95191165.jpg","comment_is_top":false,"comment_ctime":1584406027,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879373323","product_id":100046801,"comment_content":"MySQL æ‰§è¡Œå™¨å»æ‰§è¡ŒæŸ¥è¯¢è¯­å¥æ—¶ä¼šå…ˆå»æŸ¥è¯¢æ‰€æœ‰çš„ user ä¿¡æ¯ï¼Œç„¶åå¯¹ department_codeåˆ—æ‰§è¡Œå‡½æ•°ï¼Œå†å’Œ  00028 æ¯”è¾ƒã€‚","like_count":1},{"had_liked":false,"id":188678,"user_name":"webmin","can_delete":false,"product_type":"c1","uid":1047014,"ip_address":"","ucode":"98B0CA882454E8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f9/e6/47742988.jpg","comment_is_top":false,"comment_ctime":1584404204,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5879371500","product_id":100046801,"comment_content":"left(department_code, 5)ç»è¿‡äº†å‡½æ•°è®¡ç®—ï¼Œä¸ç´¢å¼•å»ºç«‹æ—¶æ¡ä»¶ä¸ä¸€è‡³ï¼Œå¦‚æœè¦è®©left(department_code, 5)ä½¿ç”¨ç´¢å¼•ï¼Œå¯ä»¥ä½¿ç”¨å‡½æ•°ç´¢å¼•æœºåˆ¶æ¥å¤„ç†ã€‚","like_count":1},{"had_liked":false,"id":188627,"user_name":"ç«è½¦æ—¥è®°","can_delete":false,"product_type":"c1","uid":1480419,"ip_address":"","ucode":"62C57DFA6CDF74","user_header":"https://static001.geekbang.org/account/avatar/00/16/96/e3/dd40ec58.jpg","comment_is_top":false,"comment_ctime":1584375667,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879342963","product_id":100046801,"comment_content":"whereä¸­åˆ—ä½¿ç”¨äº†å‡½æ•°ï¼Œä¼˜åŒ–å™¨æ— æ³•ç”¨åˆ°ç´¢å¼•","like_count":1},{"had_liked":false,"id":340497,"user_name":"Geek_fe19fb","can_delete":false,"product_type":"c1","uid":2941998,"ip_address":"","ucode":"23C751D4696C7D","user_header":"","comment_is_top":false,"comment_ctime":1648864374,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648864374","product_id":100046801,"comment_content":"å¯¹ä¸€ä¸ªåƒä¸‡çº§åˆ«çš„è¡¨æ‰§è¡ŒæŸ¥è¯¢ï¼ŒåŠ ä¸Šå‡ ä¸ª WHERE æ¡ä»¶è¿‡æ»¤ä¸€ä¸‹ï¼Œç¬¦åˆæ¡ä»¶çš„æ•°æ®æœ€å¤šå¯èƒ½åœ¨å‡ åä¸‡æˆ–è€…ç™¾ä¸‡é‡çº§ï¼Œè¿™è¿˜å¯ä»¥æ¥å—ã€‚ä½†å¦‚æœå†å’Œå…¶ä»–çš„è¡¨åšä¸€ä¸ªè”åˆæŸ¥è¯¢ï¼Œéå†çš„æ•°æ®é‡å¾ˆå¯èƒ½å°±è¶…è¿‡åƒä¸‡çº§åˆ«äº†<br><br>è¿™ä¸ªè§‚ç‚¹æ˜¯æœ‰é—®é¢˜çš„ï¼Œå…³è”çš„è¿‡ç¨‹ä¸­å¦‚æœè¢«é©±åŠ¨è¡¨å­˜åœ¨ç´¢å¼• é©±åŠ¨è¡¨å¤šå°‘æ•°æ®å°±æ‰«æå¤šå°‘è¡Œ  è‹¥æ²¡æœ‰ç´¢å¼•ä¹Ÿä¸æ˜¯ä½ è¯´çš„å‡ åƒä¸‡è¿™ä¹ˆç®€å•çš„","like_count":0},{"had_liked":false,"id":331245,"user_name":"stark","can_delete":false,"product_type":"c1","uid":1143399,"ip_address":"","ucode":"ADC5C2AE5B97C8","user_header":"https://static001.geekbang.org/account/avatar/00/11/72/67/aa52812a.jpg","comment_is_top":false,"comment_ctime":1642498993,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642498993","product_id":100046801,"comment_content":"ä¸Šé¢çš„sqlè¯­å¥çš„æ‰§è¡Œé‡Œæœ‰leftå‡½æ•°äº†ï¼Œæ‰€ä»¥æ²¡æœ‰ä½¿ç”¨åˆ°ç´¢å¼•","like_count":0},{"had_liked":false,"id":320281,"user_name":"å»ºå¼º","can_delete":false,"product_type":"c1","uid":1397126,"ip_address":"","ucode":"62B03D0E0C64EC","user_header":"https://static001.geekbang.org/account/avatar/00/15/51/86/b5fd8dd8.jpg","comment_is_top":false,"comment_ctime":1636197409,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636197409","product_id":100046801,"comment_content":"æ€è€ƒé¢˜ï¼Œä¸ªäººç†è§£ï¼š<br>å¤§éƒ¨åˆ†çš„mysqlç´¢å¼•éƒ½æ˜¯B+æ ‘ç´¢å¼•ï¼Œå»ºç«‹ç´¢å¼•æ—¶ï¼Œæ˜¯ä»¥è¢«ç´¢å¼•å­—æ®µçš„å€¼æ¥åˆ›å»ºç´¢å¼•æ ‘çš„èŠ‚ç‚¹ï¼Œæ£€ç´¢æ•°æ®æ—¶ï¼Œéœ€è¦æ ¹æ®è¢«æ£€ç´¢å­—æ®µçš„å€¼åœ¨ç´¢å¼•æ ‘ä¸­è¿›è¡Œæ¯”è¾ƒæŸ¥æ‰¾ï¼Œä»è€Œå®šä½è¢«æ£€ç´¢çš„è®°å½•IDï¼Œç„¶åå†æ ¹æ®è®°å½•IDï¼Œä»ä¸»é”®ç´¢å¼•ä¸­è·å–æ‰€éœ€è¦çš„è®°å½•ï¼›å¦‚æœåœ¨WHEREè¯­å¥ä¸­ï¼Œå¯¹å­—æ®µä½¿ç”¨äº†å‡½æ•°ï¼Œé‚£å°±æ— æ³•åœ¨B+æ ‘ä¸­å¯¹èŠ‚ç‚¹çš„å€¼è¿›è¡Œæ¯”è¾ƒï¼Œç»è¿‡å‡½æ•°è¿ç®—åçš„å€¼å¯èƒ½å°±ç ´åäº†B+æ ‘ä¸­èŠ‚ç‚¹çš„è§„å¾‹ï¼Œæ¯”å¦‚left(department_code, 5), å¦‚æœç´¢å¼•æ ‘ä¸­æŒ‰department_codeçš„å€¼ä»å°åˆ°å¤§å»ºç«‹ç´¢å¼•èŠ‚ç»“ç‚¹ï¼Œè€Œè¯¥å‡½æ•°è¿ç®—çš„ç»“æœæ˜¯å–department_codeçš„å‰5ä½ï¼Œè€Œè¿™å‰5ä½çš„å€¼å¹¶ä¸èƒ½ä»£è¡¨department_codeçš„å€¼ï¼Œå› æ­¤ï¼Œç”¨å‡½æ•°è¿ç®—çš„ç»“æœå»åšåŒ¹é…ç´¢å¼•ç»“ç‚¹ï¼Œå¾ˆå¯èƒ½å¾—åˆ°é”™è¯¯çš„ç»“æœã€‚æ‰€ä»¥mysqlä¸­å¯¹äºä½¿ç”¨äº†å‡½æ•°çš„å­—æ®µï¼Œå³ä½¿åœ¨è¯¥å­—æ®µä¸Šåˆ›å»ºäº†ç´¢å¼•ï¼Œä¹Ÿä¸ä¼šå»ä½¿ç”¨ç´¢å¼•ã€‚","like_count":1},{"had_liked":false,"id":311927,"user_name":"ä½ çš„ç¬‘å¿˜ä¹¦","can_delete":false,"product_type":"c1","uid":1521181,"ip_address":"","ucode":"9665D5E9EDBEA6","user_header":"https://static001.geekbang.org/account/avatar/00/17/36/1d/874dc1e3.jpg","comment_is_top":false,"comment_ctime":1631532726,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631532726","product_id":100046801,"comment_content":"ç®€è€Œè¨€ä¹‹å°±æ˜¯ï¼šleft(department_code, 5) æ“ä½œå¯¼è‡´ç´¢å¼•å¤±æ•ˆã€‚","like_count":0},{"had_liked":false,"id":264777,"user_name":"çƒ«çƒ«çƒ«","can_delete":false,"product_type":"c1","uid":1386818,"ip_address":"","ucode":"C06018670DE76A","user_header":"https://static001.geekbang.org/account/avatar/00/15/29/42/43d4b1a8.jpg","comment_is_top":false,"comment_ctime":1606643160,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1606643160","product_id":100046801,"comment_content":"å¤§ä½¬ï¼Œå•æ¬¡æŸ¥è¯¢éå†ç™¾ä¸‡è¡Œã€åƒä¸‡è¡Œï¼Œæ˜¯ä¸æ˜¯å¤ªé«˜äº†ï¼Œæˆ‘ä¸€ç›´è®¤ä¸ºä¸€ä¸‡ä»¥ä¸‹è¿˜å¯ä»¥æ¥å—ï¼Œä¸€åƒè¡Œä»¥å†…æ‰æ˜¯ç†æƒ³çŠ¶æ€ï¼Œéš¾é“æ˜¯æˆ‘è§çš„ä¸–é¢å¤ªå°‘äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1886331,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/c8/7b/153181d7.jpg","nickname":"å¤œè¾‰","note":"","ucode":"9421385F51FF9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366147,"discussion_content":"å…¶å®ä¹Ÿå–å†³ä¸€è¡Œæ•°æ®çš„å¤§å°ï¼Œå› ä¸ºMySQLæ˜¯æŒ‰è¡Œå­˜å‚¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617970043,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":252384,"user_name":"å¦ææ³°æ¥","can_delete":false,"product_type":"c1","uid":1439355,"ip_address":"","ucode":"C249173266251A","user_header":"https://static001.geekbang.org/account/avatar/00/15/f6/7b/b6abcbbe.jpg","comment_is_top":false,"comment_ctime":1602262544,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602262544","product_id":100046801,"comment_content":"å› ä¸ºå¯¹department_codeå­—æ®µåšäº†å‡½æ•°å¤„ç†ï¼Œå¯¼è‡´å…¨è¡¨æ‰«ææ²¡æœ‰èµ°ç´¢å¼•","like_count":0},{"had_liked":false,"id":241648,"user_name":"Geek001","can_delete":false,"product_type":"c1","uid":1568448,"ip_address":"","ucode":"1C4D9FF4294AFB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJWZyym9hkz3ic6xGo84ZibObUofUSfve9CdhbXq21DFoVyMWaUaq4vQwlpgZCOE4QUCzjKKO6bB88g/132","comment_is_top":false,"comment_ctime":1597378080,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597378080","product_id":100046801,"comment_content":"è€å¸ˆå¥½ï¼Œâ€œMySQL ä¸­å•ä¸ªè¡¨æ•°æ®é‡ï¼Œä¹Ÿè¦å°½é‡æ§åˆ¶åœ¨ä¸€åƒä¸‡æ¡ä»¥ä¸‹ï¼Œæœ€å¤šä¸è¦è¶…è¿‡äºŒä¸‰åƒä¸‡è¿™ä¸ªé‡çº§ã€‚åŸå› ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œå¯¹ä¸€ä¸ªåƒä¸‡çº§åˆ«çš„è¡¨æ‰§è¡ŒæŸ¥è¯¢ï¼ŒåŠ ä¸Šå‡ ä¸ª WHERE æ¡ä»¶è¿‡æ»¤ä¸€ä¸‹ï¼Œç¬¦åˆæ¡ä»¶çš„æ•°æ®æœ€å¤šå¯èƒ½åœ¨å‡ åä¸‡æˆ–è€…ç™¾ä¸‡é‡çº§ï¼Œè¿™è¿˜å¯ä»¥æ¥å—ã€‚ä½†å¦‚æœå†å’Œå…¶ä»–çš„è¡¨åšä¸€ä¸ªè”åˆæŸ¥è¯¢ï¼Œéå†çš„æ•°æ®é‡å¾ˆå¯èƒ½å°±è¶…è¿‡åƒä¸‡çº§åˆ«äº†ã€‚æ‰€ä»¥ï¼Œæ¯ä¸ªè¡¨çš„æ•°æ®é‡æœ€å¥½å°äºåƒä¸‡çº§åˆ«â€<br><br>å…³äºè¿™ä¸ªæœ‰å…·ä½“é‡åŒ–æŒ‡æ ‡è¯´æ˜å—ï¼Ÿ æ¯”å¦‚B+ å±‚æ•°ç›¸å…³ç­‰ï¼›","like_count":0},{"had_liked":false,"id":221670,"user_name":"å­¦è¦æœ‰æ‰€ç”¨","can_delete":false,"product_type":"c1","uid":1446644,"ip_address":"","ucode":"7CB34E7DE21558","user_header":"https://static001.geekbang.org/account/avatar/00/16/12/f4/1bf8568e.jpg","comment_is_top":false,"comment_ctime":1590562390,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590562390","product_id":100046801,"comment_content":"æŸ¥æ‰¾æ…¢sqlï¼Œä¸æ˜¯å¯ä»¥é€šè¿‡å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—è¿›è¡ŒæŸ¥æ‰¾å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":213405,"user_name":"Geek_92f9f1","can_delete":false,"product_type":"c1","uid":1985210,"ip_address":"","ucode":"AC898F4E689A3C","user_header":"","comment_is_top":false,"comment_ctime":1588405548,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588405548","product_id":100046801,"comment_content":"å¯¹äºå¤§æ®µå¤§æ®µçš„SQLï¼ŒåšOLAPæ•°æ®åº“åˆ†æçš„è¯æœ‰ä»€ä¹ˆåŠæ³•ä»£æ›¿å­˜å‚¨è¿‡ç¨‹å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":188919,"user_name":"éš—åŠŸåº†","can_delete":false,"product_type":"c1","uid":1872791,"ip_address":"","ucode":"57C3E28FCB5648","user_header":"","comment_is_top":false,"comment_ctime":1584434143,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584434143","product_id":100046801,"comment_content":"è¿ç®—ä¸èƒ½ä½¿ç”¨ç´¢å¼•","like_count":0},{"had_liked":false,"id":188729,"user_name":"è‚¥low","can_delete":false,"product_type":"c1","uid":1043480,"ip_address":"","ucode":"A158AFAAB8C742","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/18/bf7254d3.jpg","comment_is_top":false,"comment_ctime":1584408954,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584408954","product_id":100046801,"comment_content":"å› ä¸ºç¬¬ä¸€ä¸ªç”¨åˆ°äº†å‡½æ•° å¦‚æœåœ¨å»ºç«‹ç´¢å¼•çš„æ—¶å€™å°±left åœ¨SQLä¸­ä¸æ˜¾å¼çš„leftå°±èƒ½ç”¨åˆ°äº† ","like_count":0},{"had_liked":false,"id":188702,"user_name":"å¤œç©ºä¸­æœ€äº®çš„æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1584406328,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584406328","product_id":100046801,"comment_content":"è¿ç®—ä¸èƒ½ä½¿ç”¨ç´¢å¼•","like_count":0},{"had_liked":false,"id":188688,"user_name":"æ»´æµä¹±è½¬å°èƒ–å„¿","can_delete":false,"product_type":"c1","uid":1231250,"ip_address":"","ucode":"4689236E65FE4E","user_header":"https://static001.geekbang.org/account/avatar/00/12/c9/92/6361802a.jpg","comment_is_top":false,"comment_ctime":1584404992,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584404992","product_id":100046801,"comment_content":"ä½¿ç”¨left(department_code, 5)å‡½æ•°å¯¹department_codeåˆ—æ‰€æœ‰å€¼ï¼Œè¿›è¡Œäº†æ“ä½œï¼Œåªèƒ½è¿›è¡Œå…¨è¡¨æ‰«æã€‚ å¯¹ä¸å¯¹è€å¸ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":188686,"user_name":"æ’’æ—¦çš„å •è½","can_delete":false,"product_type":"c1","uid":1116864,"ip_address":"","ucode":"15F6AA41EE556F","user_header":"https://static001.geekbang.org/account/avatar/00/11/0a/c0/401c240e.jpg","comment_is_top":false,"comment_ctime":1584404783,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584404783","product_id":100046801,"comment_content":"åº”è¯¥æ˜¯whereæ¡ä»¶åä½¿ç”¨äº†å‡½æ•°å¯¼è‡´æ— æ³•ä½¿ç”¨ç´¢å¼•","like_count":0},{"had_liked":false,"id":188684,"user_name":"é¥­å›¢","can_delete":false,"product_type":"c1","uid":1332557,"ip_address":"","ucode":"E24F240CC91BE8","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erbY9UsqHZhhVoI69yXNibBBg0TRdUVsKLMg2UZ1R3NJxXdMicqceI5yhdKZ5Ad6CJYO0XpFHlJzIYQ/132","comment_is_top":false,"comment_ctime":1584404755,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584404755","product_id":100046801,"comment_content":"å› ä¸ºwhereæ¡ä»¶å·¦å€¼ä½¿ç”¨äº†å‡½æ•°ï¼","like_count":0},{"had_liked":false,"id":188667,"user_name":"myrfy","can_delete":false,"product_type":"c1","uid":1169401,"ip_address":"","ucode":"2814BAE5D70098","user_header":"","comment_is_top":false,"comment_ctime":1584403026,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584403026","product_id":100046801,"comment_content":"leftæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè€Œç´¢å¼•å­˜çš„æ˜¯åŸå§‹æ•°æ®ï¼Œå¿…é¡»è¦é€šè¿‡æŠŠåŸå§‹æ•°æ®ä¾æ¬¡äº¤ç»™å‡½æ•°å»æ‰§è¡Œæ‰èƒ½æ‹¿åˆ°å‡½æ•°çš„å€¼ï¼Œæ‰€ä»¥éœ€è¦æŸ¥æ‰€æœ‰æ•°æ®","like_count":0},{"had_liked":false,"id":188655,"user_name":"æ¯å¤©æ™’ç™½ç‰™","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1584400482,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584400482","product_id":100046801,"comment_content":"ç´¢å¼•è¿›è¡Œè¿ç®—ä¼šå¤±æ•ˆ","like_count":0}]}
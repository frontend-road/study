{"id":322528,"title":"17 | è¿œç¨‹æ§åˆ¶ï¼šæ€æ ·æ‰“é€ è”ç½‘çš„æ™ºèƒ½ç”µç¯ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯éƒ­æœæ–Œã€‚</p><p>åœ¨ä¸Šä¸€è®²ï¼Œæˆ‘ä»¬æŠŠæ™ºèƒ½ç”µç¯å¼€å‘çš„å®éªŒç¯å¢ƒæ­å¥½äº†ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±ä¸€èµ·å»å®Œæˆæ™ºèƒ½ç”µç¯çš„å¼€å‘å·¥ä½œï¼Œå¹¶ä¸”è¿æ¥åˆ°è…¾è®¯äº‘çš„<a href=\"https://console.cloud.tencent.com/iotexplorer\">ç‰©è”ç½‘å¹³å°</a>å§ï¼ˆå¦‚æœ‰éœ€è¦ï¼Œä½ å¯ä»¥æ ¹æ®<a href=\"https://shimo.im/sheets/D3VVPdwcYRhhQRXh/MODOC\">è¿™ä»½æ–‡æ¡£</a>è‡ªè¡Œé‡‡è´­ç›¸å…³ç¡¬ä»¶ï¼‰ã€‚</p><p>é‚£ä¸ºä»€ä¹ˆä¸€å®šè¦è¿æ¥åˆ°ä¸€ä¸ªç‰©è”ç½‘å¹³å°å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºç‰©è”ç½‘å¹³å°æä¾›äº†åŸºæœ¬çš„è®¾å¤‡ç®¡ç†åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¿«é€Ÿåœ°å®ç°è®¾å¤‡çš„è¿œç¨‹æ§åˆ¶åŠŸèƒ½ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡â€œè…¾è®¯è¿è¿â€å°ç¨‹åºï¼Œæ¥æ§åˆ¶ç”µç¯çš„çŠ¶æ€ï¼Œè€Œä¸ç”¨è‡ªå·±èŠ±è´¹æ—¶é—´å’Œç²¾åŠ›å»å†™ç›¸åº”çš„ä»£ç ç­‰å·¥ä½œã€‚</p><h2>ç‰©è”ç½‘å¹³å°ä¸Šéœ€è¦åšä»€ä¹ˆå‡†å¤‡ï¼Ÿ</h2><p>é‚£ä¸ºä»€ä¹ˆè¦é€‰æ‹©è…¾è®¯äº‘çš„ç‰©è”ç½‘å¹³å°å‘¢ï¼Ÿ</p><p>ä¸»è¦æ˜¯ä¸¤ä¸ªåŸå› ã€‚ä¸€æ–¹é¢æ˜¯ï¼Œå®ƒçš„å¹³å°æ˜¯å¼€æ”¾æ³¨å†Œçš„ï¼Œæˆ‘ä»¬æ™®é€šçš„ç”¨æˆ·ä¹Ÿå¯ä»¥æ³¨å†Œæ¥ä½¿ç”¨ï¼Œä¸åƒå¾ˆå¤šå¹³å°é‚£æ ·éœ€è¦ä¼ä¸šç”¨æˆ·æ‰èƒ½æ³¨å†Œã€‚å¦ä¸€æ–¹é¢æ˜¯ï¼Œè…¾è®¯äº‘æä¾›çš„äº¤äº’æ–¹å¼éå¸¸æ–¹ä¾¿ï¼Œä¸éœ€è¦ç¼–è¯‘ï¼Œæˆ–è€…ä¸‹è½½å…¶ä»–Appï¼Œåœ¨å¾®ä¿¡ä¸Šç”¨å°ç¨‹åºå°±å¯ä»¥è¿›è¡Œã€‚</p><h3>æ³¨å†Œä¸ç™»å½•</h3><p>ç¡®å®šäº†è¦æ¥å…¥è…¾è®¯äº‘çš„ç‰©è”ç½‘å¹³å°ä»¥åï¼Œæˆ‘ä»¬å°±éœ€è¦å…ˆåœ¨è¿™ä¸ªå¹³å°ä¸Šåšä¸€äº›å‡†å¤‡å·¥ä½œäº†ã€‚å‡†å¤‡å·¥ä½œçš„ç¬¬ä¸€æ­¥ï¼Œå½“ç„¶å°±æ˜¯ä½ å¾—å…ˆæ³¨å†Œä¸ªè´¦å·å¹¶ä¸”ç™»å½•ã€‚æ³¨å†Œå’Œç™»å½•çš„æµç¨‹éå¸¸ç®€å•ï¼Œä½ æ‰“å¼€<a href=\"https://console.cloud.tencent.com/iotexplorer\">è¿™ä¸ªé“¾æ¥</a>ï¼Œä¸€çœ¼å°±èƒ½çœ‹æ˜ç™½ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a8/4f/a8a8c11d4be7c1e1c6fd69b2febed24f.png?wh=1118*998\" alt=\"\"></p><h3>åˆ›å»ºé¡¹ç›®å’Œäº§å“</h3><p>ç™»å½•ä¹‹åï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥å‡†å¤‡å·¥ä½œçš„ç¬¬äºŒæ­¥ï¼Œåˆ›å»ºé¡¹ç›®å’Œäº§å“ã€‚æˆ‘ä»¬å…ˆåœ¨ç‰©è”ç½‘å¼€å‘å¹³å°åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®â€œæ™ºèƒ½å®¶å±…â€ã€‚</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/bc/81/bc6d5d04e08bae0939c3a783775fd281.png?wh=1202*730\" alt=\"\"></p><p>ç„¶åï¼Œè¿›å…¥è¿™ä¸ªâ€œæ™ºèƒ½å®¶å±…â€é¡¹ç›®ï¼Œåˆ›å»ºä¸€ä¸ªæ–°äº§å“â€œæ™ºèƒ½ç”µç¯â€ã€‚åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦ç®€å•è®¾ç½®å‡ ä¸ªå‚æ•°ï¼š</p><ul>\n<li>äº§å“å“ç±»ï¼Œç›´æ¥é€‰æ‹©â€œæ™ºèƒ½ç”Ÿæ´»â€--&gt;â€œç”µå·¥ç…§æ˜â€--&gt;â€œç¯â€ã€‚</li>\n<li>è®¤è¯æ–¹å¼é€‰æ‹©å¯†é’¥è®¤è¯ï¼Œè¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œè€Œä¸”é€‚åˆæˆ‘ä»¬çš„å¼€å‘æ¿NodeMCUã€‚</li>\n<li>é€šä¿¡æ–¹å¼ï¼Œé€‰æ‹©Wi-Fiã€‚</li>\n<li>æ•°æ®åè®®é€‰æ‹©â€œæ•°æ®æ¨¡æ¿â€ï¼Œä¹Ÿå°±æ˜¯åŸºäºç‰©æ¨¡å‹æ¥è§£ææ•°æ®ã€‚</li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/cd/f0/cdac3c2b897e53917e9afd6aa28ca7f0.png?wh=1276*1184\" alt=\"\"></p><p>è®¾ç½®å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥ç‚¹å‡»è¿›å…¥æ™ºèƒ½ç”µç¯è¿™ä¸ªäº§å“äº†ï¼Œç„¶åå¼€å§‹å®šä¹‰ç‰©æ¨¡å‹ã€‚</p><h3>ç‰©æ¨¡å‹åœ¨å“ªé‡Œä½¿ç”¨ï¼Ÿ</h3><p>ç‚¹å‡»è¿›å…¥äº§å“ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°â€œæ•°æ®æ¨¡æ¿â€ç•Œé¢ä¸­åˆ—å‡ºäº†â€œç”µç¯å¼€å…³â€â€œäº®åº¦â€â€œé¢œè‰²â€å’Œâ€œè‰²æ¸©â€ç­‰å±æ€§å’Œäº‹ä»¶ã€‚è¿™äº›éƒ½æ˜¯å¹³å°æ ¹æ®ä¸Šä¸€æ­¥é€‰æ‹©çš„äº§å“å“ç±»ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ã€‚</p><p>å½“ç„¶äº†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡â€œå¯¼å…¥ JSONâ€çš„æ–¹å¼ï¼ŒæŠŠæˆ‘ä»¬åœ¨<a href=\"https://time.geekbang.org/column/article/310441\">ç¬¬6è®²</a>ç¼–å†™çš„ JSON æ–‡æœ¬å¯¼å…¥ï¼Œå®Œæˆäº§å“åŠŸèƒ½çš„å®šä¹‰ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/15/22/153908e6522de593d07d46346e879722.png?wh=2464*1178\" alt=\"\"></p><p>å®šä¹‰å¥½ç‰©æ¨¡å‹ä¹‹åï¼Œæˆ‘ä»¬å°±å®Œæˆäº†â€œè®¾å¤‡å¼€å‘â€çš„å·¥ä½œï¼Œéœ€è¦ç»§ç»­å®Œæˆâ€œäº¤äº’å¼€å‘â€é…ç½®äº†ã€‚</p><h3>äº¤äº’ç•Œé¢å¦‚ä½•å®šä¹‰ï¼Ÿ</h3><p>åœ¨â€œäº¤äº’å¼€å‘â€ç•Œé¢ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å…³æ³¨ä¸¤ä¸ªé…ç½®é¡¹ï¼šâ€œä½¿ç”¨å®˜æ–¹å°ç¨‹åºæ§åˆ¶äº§å“â€çš„é€‰é¡¹è¦ä¿æŒæ‰“å¼€ï¼Œå› ä¸ºæˆ‘ä»¬åé¢è¦é€šè¿‡å°ç¨‹åºæ¥æ§åˆ¶æ™ºèƒ½ç”µç¯ï¼›åœ¨â€œæ‰«ä¸€æ‰«äº§å“ä»‹ç»â€é…ç½®é¡¹ä¸­ï¼Œè®¾ç½®äº§å“å›¾ç‰‡å’Œå¤‡æ³¨ä¿¡æ¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/62/27/62a990cf4a6ea288f9770445134a1f27.png?wh=1096*1056\" alt=\"\"></p><p>å…¶ä»–é¡¹ç›®ï¼Œæ¯”å¦‚â€œé…ç½®å¼•å¯¼â€â€œé¢æ¿é…ç½®â€å’Œâ€œå¿«æ·å…¥å£é…ç½®â€ï¼Œæˆ‘ä»¬ä¿æŒé»˜è®¤é…ç½®å°±è¡Œï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½è¿›è¡Œè°ƒæ•´ã€‚</p><p>è¿™äº›éƒ½é…ç½®å¥½ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å‡†å¤‡â€œè°ƒè¯•è®¾å¤‡â€çš„é…ç½®äº†ã€‚</p><h3>ä¸ºè°ƒè¯•è®¾å¤‡åšå‡†å¤‡</h3><p>åœ¨â€œè®¾å¤‡è°ƒè¯•â€ç•Œé¢ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæµ‹è¯•è®¾å¤‡ã€‚ç‚¹å‡»â€œæ–°å»ºè®¾å¤‡â€ï¼Œè¾“å…¥è®¾å¤‡åç§°â€œLed_1â€ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/75/54/759caa00ed7f5ebd1c001b18f4808054.png?wh=1198*506\" alt=\"\"></p><p>åˆ›å»ºæˆåŠŸåï¼Œåœ¨æµ‹è¯•è®¾å¤‡åˆ—è¡¨ä¸­ï¼Œç‚¹å‡»â€œLed_1â€ï¼Œè¿›å…¥è®¾å¤‡çš„è¯¦æƒ…é¡µé¢ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/9d/e9/9db3727e33082f821c8f21c6b642c1e9.png?wh=2266*686\" alt=\"\"></p><p>åœ¨è¿™ä¸ªâ€œè®¾å¤‡ä¿¡æ¯â€æ ‡ç­¾é¡µï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°â€œè®¾å¤‡åç§°â€â€œè®¾å¤‡ç§˜é’¥â€å’Œâ€œäº§å“IDâ€çš„ä¿¡æ¯ã€‚æˆ‘ä»¬éœ€è¦æŠŠè¿™äº›ä¿¡æ¯è®°å½•ä¸‹æ¥ï¼Œå› ä¸ºåœ¨åé¢è®¾å¤‡çš„å¼€å‘ä¸­éœ€è¦ç”¨åˆ°ã€‚</p><p>è¿™é‡Œæœ‰ä¸€ç‚¹æˆ‘ä»¬è¦æ³¨æ„ä¸‹ã€‚<strong>è®¾å¤‡åç§°ï¼ˆDeviceNameï¼‰ã€è®¾å¤‡ç§˜é’¥ï¼ˆSecretKeyï¼‰å’Œäº§å“IDï¼ˆProductIDï¼‰ä¹Ÿç»å¸¸è¢«ç§°ä¸ºè®¾å¤‡ä¸‰å…ƒç»„</strong>ã€‚å®ƒå®Œæ•´åœ°æ ‡è¯†äº†ä¸€ä¸ªè®¾å¤‡ã€‚åœ¨è°ƒè¯•é˜¶æ®µï¼Œè®¾å¤‡åç§°å¯ä»¥æ‰‹åŠ¨å‘½åï¼Œä¸è¿‡åœ¨æ­£å¼åº”ç”¨ä¸­ï¼Œä¸ºäº†ä¿è¯è®¾å¤‡åç§°çš„å”¯ä¸€æ€§ï¼Œå¹³å°ä¼šå¸®ä½ è‡ªåŠ¨ç”Ÿæˆè®¾å¤‡åç§°ã€‚</p><p>å¦å¤–ï¼Œåœ¨â€œè®¾å¤‡è°ƒè¯•â€æ ‡ç­¾é¡µï¼Œä½ éœ€è¦ç‚¹å‡»ä¸‹å›¾ä¸­â€œäºŒç»´ç â€ï¼Œè·å–è¿™ä¸ªè®¾å¤‡çš„äºŒç»´ç ï¼Œå¹¶ä¿å­˜å¥½ã€‚å› ä¸ºåœ¨åé¢çš„æ­¥éª¤ä¸­ï¼Œä½ éœ€è¦ä½¿ç”¨â€œè…¾è®¯è¿è¿â€å°ç¨‹åºæ‰«æè¿™ä¸ªäºŒç»´ç ï¼Œå°†è®¾å¤‡æ·»åŠ åˆ°å°ç¨‹åºä¸­ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/97/a6/9721c6f1f394c14ca03e72dfe0c55ea6.png?wh=1866*624\" alt=\"\"></p><p>è¿™æ˜¯æˆ‘åœ¨è¿™ä¸ªé…ç½®ç•Œé¢ä¸­å®šä¹‰çš„äº§å“çš„äºŒç»´ç ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b5/ff/b515137b43f769c249df48b7f6f550ff.png?wh=280*280\" alt=\"\"></p><p>è¿™ä¸ªäºŒç»´ç çš„ä¿¡æ¯å†…å®¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>{&quot;DeviceName&quot;:&quot;Led_1&quot;,&quot;ProductId&quot;:&quot;XNXP231VQA&quot;,&quot;Signature&quot;:&quot;2aa86e4e826b49b2a93949955f50761&quot;}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªé“¾æ¥ä¸­ä¸»è¦åŒ…å«äº†äº§å“IDçš„ä¿¡æ¯ã€‚æ¯ä¸ªäº§å“ ID æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥ä½ çš„äº§å“ ID ä¸è¿™ä¸ªä¸åŒã€‚</p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å®Œæˆäº†è…¾è®¯äº‘çš„ç‰©è”ç½‘å¼€å‘å¹³å°çš„å‡†å¤‡å·¥ä½œã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¦å®æ‰“å®åœ°åœ¨å¼€å‘æ¿ä¸Šï¼Œå®ç°ä¸€ä¸ªåŠŸèƒ½æ›´åŠ å®Œå–„çš„æ™ºèƒ½ç”µç¯äº§å“äº†ã€‚</p><h2>å¦‚ä½•æ‰“é€ æ™ºèƒ½ç”µç¯è®¾å¤‡ï¼Ÿ</h2><p>åœ¨ä¸Šä¸€è®²ï¼Œæˆ‘ä»¬ç”¨ä»£ç å®ç°äº†å¼€å‘æ¿ä¸ŠLEDçš„æ§åˆ¶ã€‚ä¸è¿‡é‚£ä¸ªåŠŸèƒ½éå¸¸ç®€å•ï¼Œä¸ºäº†è®©æˆ‘ä»¬çš„æ™ºèƒ½ç”µç¯åŠŸèƒ½æ›´å®Œå–„ï¼Œæ•ˆæœæ›´é…·ç‚«ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å‘æ›´å¤šçš„åŠŸèƒ½ï¼Œä¸»è¦åŒ…æ‹¬æ§åˆ¶LEDç¯çš„é¢œè‰²ã€å¼€å…³ï¼Œå¹¶èƒ½å¤Ÿå®ç°è¿œç¨‹æ§åˆ¶ã€‚</p><p>æˆ‘ä»¬å…ˆçœ‹çœ‹å¦‚ä½•æ§åˆ¶ç¯çš„é¢œè‰²ã€‚</p><h3>å¦‚ä½•æ§åˆ¶ LED ç¯çš„é¢œè‰²ï¼Ÿ</h3><p>æˆ‘ä»¬ä½¿ç”¨çš„ RGB LED ç¯æ¨¡å—ï¼Œæ˜¯ä½¿ç”¨ <a href=\"https://en.wikipedia.org/wiki/Pulse-width_modulation\">PWM</a> ï¼ˆPulse Width Modulationï¼Œè„‰å†²å®½åº¦è°ƒåˆ¶ï¼‰æ¥å®ç°æ§åˆ¶ LED çš„é¢œè‰²å’Œäº®åº¦çš„ã€‚PWMçš„åŸç†æ˜¯ï¼Œé€šè¿‡èŠ¯ç‰‡çš„æ•°å­—ç®¡è„šï¼ˆGPIOï¼‰æ¥è·å¾—æ¨¡æ‹Ÿç”µè·¯ä¿¡å·çš„è¾“å‡ºï¼Œå®ƒä¼šæ§åˆ¶èŠ¯ç‰‡ç®¡è„šåœ¨é«˜ç”µå¹³å’Œä½ç”µå¹³ä¹‹é—´è¿›è¡Œå¿«é€Ÿåˆ‡æ¢ã€‚</p><p>é‚£å¦‚ä½•äº§ç”Ÿä¸åŒçš„ PWM ä¿¡å·å‘¢ï¼Ÿè¿™æ¶‰åŠåˆ° 2 ä¸ª PWM ä¿¡å·çš„å‚æ•°ï¼š<strong>é¢‘ç‡å’Œå ç©ºæ¯”</strong>ã€‚PWM ä¿¡å·æ˜¯ä¸€ä¸ªæ–¹æ³¢ä¿¡å·ï¼Œå¦‚ä¸‹å›¾çš„æ ·å­ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/63/y4/633d089ea84047198dd53f560488fyy4.jpg?wh=2700*765\" alt=\"\"></p><p>é¢‘ç‡ï¼Œæ˜¯æŒ‡1ç§’å†…æ–¹æ³¢çš„å‘¨æœŸä¸ªæ•°ï¼Œä¸€ä¸ªå‘¨æœŸåŒ…å«ä¸€ä¸ªå®Œæ•´çš„é«˜ã€ä½ç”µå¹³å˜åŒ–ã€‚æ¯”å¦‚ä¸€ä¸ªå‘¨æœŸæ˜¯ 20 msï¼ˆæ¯«ç§’ï¼‰ï¼Œé‚£ä¹ˆé€šè¿‡è®¡ç®—ï¼š</p><p>1000æ¯«ç§’/20æ¯«ç§’ = 50Hz</p><p>æˆ‘ä»¬å¯ä»¥çŸ¥é“æ–¹æ³¢çš„é¢‘ç‡æ˜¯50 Hzï¼ˆèµ«å…¹ï¼‰ã€‚</p><p>é‚£PWMè¾“å‡ºçš„æ–¹æ³¢ä¿¡å·çš„é¢‘ç‡ä¸åŒï¼Œä¼šå¯¹æˆ‘ä»¬æœ‰ä»€ä¹ˆå½±å“å‘¢ï¼Ÿ</p><p>å¦‚æœé¢‘ç‡å°äº 100 Hzçš„è¯ï¼Œæˆ‘ä»¬çš„è‚‰çœ¼å°±ä¼šæ„Ÿå—åˆ°ç¯çš„é—ªçƒï¼Œç”šè‡³äº§ç”Ÿç”Ÿç†ä¸Šçš„ä¸é€‚ï¼Œæ¯”å¦‚è§†è§‰ç–²åŠ³ã€åå¤´ç—›ç­‰ã€‚å› æ­¤ï¼Œå¯¹äº LED ç¯ï¼ŒPWM çš„é¢‘ç‡å¿…é¡»å¤§äº 100Hzï¼Œæœ€å¥½åœ¨ 200Hzä»¥ä¸Šã€‚å¯¹äºæˆ‘ä»¬é€‰æ‹©çš„NodeMCU å¼€å‘æ¿æ¥è¯´ï¼Œå¯ä»¥é€‰æ‹©å®ƒæ”¯æŒçš„æœ€å¤§å€¼ï¼Œä¹Ÿå°±æ˜¯1000Hzã€‚</p><p>åœ¨PWMçš„ä¿¡å·å›¾ä¸­ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ°ä¸€ä¸ªå«åšâ€œè„‰å®½æ—¶é—´â€çš„æ ‡è¯†ï¼Œå®ƒä»£è¡¨çš„æ˜¯ä¸€ä¸ªå‘¨æœŸé‡Œé«˜ç”µå¹³çš„å ç”¨æ—¶é—´ã€‚è€Œæ‰€è°“çš„å ç©ºæ¯”ï¼Œå°±æ˜¯è„‰å®½æ—¶é—´å æ•´ä¸ªå‘¨æœŸæ—¶é—´çš„æ¯”ä¾‹ã€‚æ¯”å¦‚ï¼Œè„‰å®½æ—¶é—´æ˜¯10msï¼Œé‚£å ç©ºæ¯”çš„è®¡ç®—å…¬å¼å°±æ˜¯ï¼š</p><p>10/20 = 50%</p><p>å ç©ºæ¯”ç­‰äº 50%ã€‚å…³äºå ç©ºæ¯”å‚æ•°ï¼Œæˆ‘éœ€è¦æå‰è¯´æ˜ä¸€ä¸‹ï¼šåœ¨ <a href=\"https://docs.micropython.org/en/latest/esp8266/tutorial/pwm.html\">MicroPython ä»£ç </a>ä¸­ï¼Œå ç©ºæ¯” Duty ä¸æ˜¯ä½¿ç”¨ç™¾åˆ†æ¯”æ•°å€¼æ¥è¡¨ç¤ºçš„ï¼Œè€Œæ˜¯ 0 åˆ° 1023 ä¹‹é—´çš„æ•°å€¼ã€‚0 ä»£è¡¨å ç©ºæ¯”ä¸º 0%ï¼Œ1023 ä»£è¡¨å ç©ºæ¯”ä¸º 100%ã€‚</p><p>åœ¨ä»£ç ä¸­ï¼Œå½“ä½ è®¾ç½®äº†ä¸åŒçš„å ç©ºæ¯”å‚æ•°æ—¶ï¼Œå¯¹åº”ç®¡è„šè¾“å‡ºçš„æ–¹æ³¢ä¿¡å·ä¹Ÿä¼šä¸åŒã€‚ä¸‹å›¾å±•ç¤ºäº†å ç©ºæ¯”åˆ†åˆ«ä¸º 0%ã€25%ã€50%ã€75% å’Œ 100% çš„æ–¹æ³¢ä¿¡å·ï¼Œå®ƒä»¬çš„å¹³å‡ç”µå‹ï¼ˆä¸‹å›¾å³ä¾§ï¼‰é€æ¸å¢å¤§ã€‚æˆ‘ä»¬æ­£æ˜¯é€šè¿‡å¹³å‡ç”µå‹çš„å˜åŒ–ï¼Œè¾¾åˆ°äº†æ§åˆ¶ LED é¢œè‰²å’Œäº®åº¦ç­‰æ•ˆæœçš„ç›®çš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/66/31/66f9943cc758b8d42e165caa47ed7c31.jpg?wh=2700*1842\" alt=\"\"></p><p>å…³äºPWMä¿¡å·ï¼Œæˆ‘ä»¬äº†è§£è¿™äº›å°±å¤Ÿäº†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è§£å†³çš„é—®é¢˜ï¼Œå°±æ˜¯é€šè¿‡ä¸Šä¸€è®²é€‰å®šçš„å¼€å‘æ¿NodeMCUä¸Šçš„GPIOç®¡è„šæ¥æ§åˆ¶LEDç­‰çš„é¢œè‰²äº†ã€‚NodeMCUçš„<a href=\"https://github.com/nodemcu/nodemcu-devkit-v1.0\">ç®¡è„šå›¾</a>å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/d5/ae/d53af13yy9320eaa90b8ff6cf3c565ae.png?wh=791*703\" alt=\"\" title=\"å›¾ç‰‡æ¥è‡ªGitHub\"></p><p>ä¸€ä¸‹å­çœ‹åˆ°è¿™ä¹ˆå¤šç®¡è„šï¼Œä½ ä¸è¦æ‹…å¿ƒï¼Œå› ä¸ºåªè¦å…³æ³¨å¸¦æµ…é»„è‰²èƒŒæ™¯çš„â€œGPIOâ€çš„å‡ ä¸ªç®¡è„šå°±å¤Ÿäº†ã€‚</p><p>æˆ‘ä»¬å…ˆè€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼ŒNodeMCU å¼€å‘æ¿ä¸­çš„æ‰€æœ‰ GPIO ç®¡è„šéƒ½å¯ä»¥è¿æ¥ RGB LED æ¨¡å—å—ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ä¸å¯ä»¥ã€‚å› ä¸ºä¸æ˜¯æ‰€æœ‰çš„ GPIO ç®¡è„šéƒ½å¯ä»¥è¾“å‡º PWM ä¿¡å·ã€‚NodeMCU å¼€å‘æ¿æ˜¯åŸºäº ESP8266 èŠ¯ç‰‡çš„ï¼Œç®¡è„šGPIO0ã€GPIO2ã€GPIO4ã€GPIO5ã€GPIO12ã€GPIO13ã€GPIO14 å’Œ GPIO15 å…·å¤‡ PWM çš„è¾“å‡ºèƒ½åŠ›ï¼Œå®ƒä»¬åˆ†åˆ«å¯¹åº” NodeMCU å¼€å‘æ¿çš„ D3ã€D4ã€D2ã€D1ã€D6ã€D7ã€D5 å’Œ D8 æ¥å£ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬é€‰æ‹© D1ã€D2å’ŒD3è¿™ä¸‰ä¸ªæ¥å£ï¼Œåˆ†åˆ«è¿æ¥ RGB LED æ¨¡ç»„çš„çº¢è‰²ã€ç»¿è‰²å’Œè“è‰²é€šé“ã€‚</p><p>è¿™é‡Œï¼Œæˆ‘æä¾›ä¸€ä¸‹æˆ‘åˆ›å»ºçš„LEDç±»æ–‡ä»¶ï¼Œä¾›ä½ å‚è€ƒï¼š</p><pre><code>from machine import PWM\nfrom machine import Pin\n\nclass Led():\n    &quot;&quot;&quot;\n    åˆ›å»ºLEDç±»\n    &quot;&quot;&quot;\n    def __init__(self, rpin, gpin, bpin, freq=1000):\n        &quot;&quot;&quot;\n        æ„é€ å‡½æ•°\n        :param pin: æ¥LEDçš„ç®¡è„šï¼Œå¿…é¡»æ”¯æŒPWM\n        :param freq: PWMçš„é»˜è®¤é¢‘ç‡æ˜¯1000\n        &quot;&quot;&quot;\n        self.pin_red = Pin(rpin)\n        self.pin_green = Pin(gpin)\n        self.pin_blue = Pin(bpin)\n\n        self.led_red = PWM(self.pin_red, freq = freq)\n        self.led_green = PWM(self.pin_green, freq = freq)\n        self.led_blue = PWM(self.pin_blue, freq = freq)\n\n    def rgb_light(self, red, green, blue, brightness):\n        if red in range(256) and \\\n            green in range(256) and \\\n            blue in range(256) and \\\n            0.0 &lt;= brightness and \\\n            brightness &lt;=1.0:\n            self.led_red.duty(int(red/255*brightness*1023))\n            self.led_green.duty(int(green/255*brightness*1023))\n            self.led_blue.duty(int(blue/255*brightness*1023))\n        else:\n            print(&quot;red green blue must between 0 and 255, and brightness from 0.0 to 1.0&quot;)\n        \n    def deinit(self):\n        &quot;&quot;&quot;\n        ææ„å‡½æ•°\n        &quot;&quot;&quot;\n        self.led_red.deinit()\n        self.led_green.deinit()\n        self.led_blue.deinit()\n</code></pre><h3>å¦‚ä½•æ§åˆ¶ç”µç¯çš„å¼€å…³ï¼Ÿ</h3><p>æ™ºèƒ½ç”µç¯çš„â€œå¼€â€å’Œâ€œå…³â€æ§åˆ¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ç»§ç”µå™¨æ¥å®ç°ã€‚</p><p>ç»§ç”µå™¨åˆ†ä¸ºå¼±ç”µï¼ˆå°ç”µæµã€ä½ç”µå‹ï¼‰å’Œå¼ºç”µï¼ˆå¤§ç”µæµã€é«˜ç”µå‹ï¼‰ä¸¤ä¸ªéƒ¨åˆ†ã€‚å…¶ä¸­ï¼Œå¼±ç”µçš„éƒ¨åˆ†å¯ä»¥æ¥å¾®å¤„ç†èŠ¯ç‰‡ï¼›å¼ºç”µéƒ¨åˆ†å¯ä»¥è¿æ¥äº¤æµç”µè®¾å¤‡ï¼Œæ¯”å¦‚ç”µé£æ‰‡ã€å†°ç®±å’Œç¯æ³¡ç­‰ã€‚ç»§ç”µå™¨å…¶å®å°±åƒæ˜¯æˆ‘ä»¬ç°å®ç”Ÿæ´»ä¸­â€œä¸­é—´äººâ€çš„è§’è‰²ï¼Œå®ƒé€šè¿‡ç”µç£å™¨ä»¶ã€æˆ–è€…å…‰è€¦å•å…ƒå°†å¼±ç”µå’Œå¼ºç”µè”ç³»èµ·æ¥ï¼Œä»¥å®Œæˆå¾®å¤„ç†èŠ¯ç‰‡å¯¹å¼ºç”µè®¾å¤‡çš„æ§åˆ¶ã€‚</p><p>åœ¨è¿™æ¬¡çš„å®éªŒä¸­ï¼Œæˆ‘ä½¿ç”¨çš„ä¸€æ¬¾åŸºäº SRD-05VDC-SL-C å‹å·çš„ç”µç£ç»§ç”µå™¨ã€‚ä½¿ç”¨ä¸­ï¼Œæ¨¡å—çš„æ§åˆ¶æ¥å£ï¼Œéœ€è¦è¿æ¥ NodeMCU å¼€å‘æ¿çš„ GPIO ç®¡è„šã€‚æˆ‘ä»¬é€šè¿‡è®¾ç½®è¿™ä¸ª GPIO çš„è¾“å‡ºç”µå¹³é«˜ã€ä½çŠ¶æ€ï¼Œå®ç°æ§åˆ¶ç»§ç”µå™¨å¼ºç”µéƒ¨åˆ†ç”µè·¯çš„â€œé€šâ€å’Œâ€œæ–­â€ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šåœ¨æˆ‘ä»¬è¿™ä¸€è®²çš„å®æˆ˜ä¸­ï¼Œç»§ç”µå™¨å¼ºç”µéƒ¨åˆ†è¿æ¥çš„ LED ç¯ï¼Œå±äºä½ç”µå‹è®¾å¤‡ï¼Œç”µå‹ä¸è¶…è¿‡ 5Vï¼Œè¿™æ˜¯å¯¹äººä½“æ²¡æœ‰å±å®³çš„ç”µå‹ï¼›æˆ‘ä»¬å®æˆ˜çš„ç›®çš„æ˜¯å­¦ä¹ çŸ¥è¯†ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åŸºäºå®‰å…¨è€ƒè™‘ï¼Œä¸å»ºè®®æŠŠç»§ç”µå™¨çš„å¼ºç”µéƒ¨åˆ†ï¼Œè¿æ¥220Väº¤æµç”µä¾›ç”µçš„ç”µç¯ã€‚</p><p>å¦‚æœä½ æœ‰ä¸€å®šçš„äº¤æµç”µå®è·µç»éªŒï¼Œé‚£ä¹ˆåœ¨å®è·µæ—¶ä¹Ÿè¦æ³¨æ„ä¸¤ç‚¹ï¼š</p><ol>\n<li>æ³¨æ„è‡ªèº«å’Œå‘¨å›´äººçš„å®‰å…¨ï¼Œæ¯”å¦‚å¼ºç”µéƒ¨åˆ†ä¸è¦æœ‰è£¸éœ²çš„ç”µçº¿ï¼Œä¸€å®šç”¨ç»ç¼˜èƒ¶å¸¦åŒ…æ‰å¥½ï¼›</li>\n<li>å¼±ç”µéƒ¨åˆ†çš„ä¾›ç”µï¼Œä¸è¦ä½¿ç”¨ç”µè„‘çš„ USB æ¥å£ï¼›ä¸ºäº†ç”µè„‘è®¾å¤‡å®‰å…¨ï¼Œå»ºè®®ä½¿ç”¨ç‹¬ç«‹çš„ç”µæºä¸ºå¼€å‘æ¿ä¾›ç”µã€‚</li>\n</ol><p>æˆ‘åŒæ ·æŠŠæˆ‘åˆ›å»ºçš„Relayç±»æ–‡ä»¶æ”¾åœ¨è¿™é‡Œï¼Œä¾›ä½ å‚è€ƒï¼š</p><pre><code>from machine import ADC\nfrom machine import Pin\n\nclass Relay():\n\n    def __init__(self, pin):\n        self.relaypin = Pin(pin, Pin.OUT)\n        self.last_status = 1\n\n    def set_state(self, state):\n        self.relaypin.value(state)\n        self.last_status = state\n</code></pre><h3>æ™ºèƒ½ç”µç¯çš„æ•´ä½“ç”µè·¯å¦‚ä½•æ­å»ºï¼Ÿ</h3><p>ç¡®å®šäº†LEDçš„æŠ€æœ¯æ–¹æ¡ˆå’Œç»§ç”µå™¨åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ­å»ºå‡ºæ™ºèƒ½ç”µç¯çš„ç”µè·¯ã€‚æˆ‘ç®€å•ç”»äº†ä¸€ä¸‹ç”µè·¯ä¸­å„æ¨¡å—çš„è¿çº¿æƒ…å†µï¼Œä½ åœ¨è¿æ¥ç”µè·¯çš„æ—¶å€™æŒ‰ç…§è¿™ä¸ªè¿çº¿æ¥å°±è¡Œã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/dd/61/dde075941211c591c44ea46cf4673861.png?wh=1306*1018\" alt=\"\"></p><p>ç”µè·¯æ­å»ºå®Œæˆåï¼Œä½ å¯ä»¥è¿è¡Œä¸‹é¢çš„ä»£ç æµ‹è¯•ä¸€ä¸‹ï¼š</p><pre><code>from machine import PWM, Pin\nimport time \n\n#è®¾ç½®å¯¹åº”çº¢ã€ç»¿ã€è“çš„ä¸‰ä¸ªGPIOç®¡è„š\nled_red = PWM(Pin(5), freq = 1000)  \nled_green = PWM(Pin(4), freq = 1000)\nled_blue = PWM(Pin(0), freq = 1000)\n\n#ç»§ç”µå™¨çš„GPIOç®¡è„š\nrelaypin = Pin(16, Pin.OUT)#\n\n#é€šè¿‡PWMçš„å ç©ºæ¯”è®¾ç½®é¢œè‰²\ndef rgb_light(red, green, blue, brightness):\n    pwm_red = led_red.duty(int(red/255*brightness*1023))\n    pwm_green = led_green.duty(int(green/255*brightness*1023))\n    pwm_blue = led_blue.duty(int(blue/255*brightness*1023))\n\nrgb_light(255, 255, 0, 1.0)\n\n#å‘¨æœŸç‚¹äº®ã€ç†„ç­\nwhile True:\n    relaypin.on()\n    time.sleep(2)\n    relaypin.off()\n    time.sleep(2)\n</code></pre><h3>è¿œç¨‹æ§åˆ¶å¦‚ä½•å®ç°ï¼Ÿ</h3><p>å‡†å¤‡å¥½äº†æ™ºèƒ½ç”µç¯è®¾å¤‡åï¼Œè¦å®ç°è¿œç¨‹æ§åˆ¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è®©æ™ºèƒ½ç”µç¯è¿æ¥åˆ°ç‰©è”ç½‘å¹³å°ã€‚é‚£æ™ºèƒ½ç”µç¯å¦‚ä½•ä¸ç‰©è”ç½‘å¹³å°é€šä¿¡äº¤äº’å‘¢ï¼Ÿè¿™é‡Œå°±è¦ç”¨åˆ°MQTTé€šä¿¡åè®®äº†ã€‚</p><p>é¦–å…ˆï¼Œä½ éœ€è¦åœ¨NodeMCUå¼€å‘æ¿ä¸Šå®‰è£…ä¸€ä¸ª MQTT å®¢æˆ·ç«¯ä»£ç åº“ <a href=\"https://github.com/micropython/micropython-lib/tree/master/umqtt.simple\">umqtt.simple åº“</a>ã€‚å®ƒæ¥è‡ªMicroPythonå®˜æ–¹ç»´æŠ¤çš„éå†…æ ¸æ ‡å‡†åº“ <a href=\"https://github.com/micropython/micropython-lib\">micropython-lib</a>ï¼Œä½ å¯ä»¥ä½¿ç”¨upipåŒ…ç®¡ç†å™¨æ¥å®‰è£…ã€‚åœ¨ä¸²å£ REPL ä¸­è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå°±å¯ä»¥å®Œæˆå®‰è£…ï¼š</p><pre><code>&gt;&gt;&gt; import upip\n&gt;&gt;&gt; upip.install('micropython-umqtt.simple')\n</code></pre><p>å®‰è£…å‘½ä»¤æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªå‰æè¦æ±‚ï¼Œå°±æ˜¯NodeMCUéœ€è¦è¿æ¥åˆ°Wi-Fiè·¯ç”±å™¨ä¸Šï¼Œä¹Ÿå°±æ˜¯èƒ½å¤Ÿè®¿é—®ç½‘ç»œï¼Œå› ä¸ºè¿™ä¸ªå®‰è£…è¿‡ç¨‹æ˜¯ä»ç½‘ç»œä¸‹è½½å®‰è£…æ–‡ä»¶ã€‚</p><p>æ€ä¹ˆè®©NodeMCUè¿æ¥åˆ°Wi-Fiè·¯ç”±å™¨å‘¢ï¼Ÿä½ ä»ç„¶å¯ä»¥é€šè¿‡ä¸²å£ REPL æ¥å®Œæˆã€‚ä½ å¯ä»¥åœ¨REPLä¸­ä¾æ¬¡è¾“å…¥ä¸‹é¢çš„å‘½ä»¤æ¥æ¥å…¥ç½‘ç»œï¼š</p><pre><code>&gt;&gt;&gt; import network\n&gt;&gt;&gt; wifi = network.WLAN(network.STA_IF)\n&gt;&gt;&gt; wifi.active(True) \n&gt;&gt;&gt; wifi.scan() \n&gt;&gt;&gt; wifi.isconnected() \n&gt;&gt;&gt; wifi.connect('ä½ å®¶ä¸­Wi-Fiçš„SSID', 'ä½ å®¶ä¸­Wi-Fiå¯†ç ') \n&gt;&gt;&gt; wifi.isconnected() \n</code></pre><p><strong>å®‰è£…å¥½ umqtt.simple åº“ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦å†è®¾ç½®ä¸€ä¸‹ç‰©è”ç½‘å¹³å°çš„MQTTåè®®äº¤äº’çš„ Topicå’Œå…·ä½“çš„è¿æ¥å‚æ•°ã€‚</strong></p><p>æˆ‘ä»¬ç”¨åˆ°çš„MQTT Topicä¸»è¦æœ‰ä¸¤ä¸ªï¼šä¸€ä¸ªç”¨äºå‘å¸ƒæ¶ˆæ¯ï¼Œå³æ¶ˆæ¯æµå‘æ˜¯ä»è®¾å¤‡åˆ°ç‰©è”ç½‘å¹³å°ï¼›å¦ä¸€ä¸ªç”¨äºæ¥æ”¶è®¢é˜…æ¶ˆæ¯ï¼Œå³æ¶ˆæ¯æµå‘æ˜¯ä»ç‰©è”ç½‘å¹³å°åˆ°è®¾å¤‡ã€‚</p><pre><code>#å‘å¸ƒæ¶ˆæ¯\n$thing/up/property/ProductID/DeviceName\n\n#æ¥æ”¶è®¢é˜…æ¶ˆæ¯\n$thing/down/property/ProductID/DeviceName\n</code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒProductIDå’ŒDeviceNameéœ€è¦æ›¿æ¢ä¸ºæˆ‘ä»¬åœ¨ä¸Šé¢åˆ›å»ºè®¾å¤‡çš„å…·ä½“å€¼ã€‚</p><p>è®¾å¤‡ä¸ç‰©è”ç½‘å¹³å°å»ºç«‹MQTTè¿æ¥ï¼Œæ¶‰åŠBroker æœåŠ¡å™¨åœ°å€ã€ç«¯å£å·ã€è®¾å¤‡IDï¼ˆClientIDï¼‰ã€ç”¨æˆ·åï¼ˆUserNameï¼‰å’Œå¯†ç ï¼ˆPasswordï¼‰ã€‚æˆ‘æŠŠè¿™äº›å‚æ•°æ•´ç†åˆ°äº†ä¸€å¼ è¡¨é‡Œï¼Œä¾›ä½ å‚è€ƒã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/12/46/12623e989f7c3d29a7efc1a3e1d86246.jpg?wh=2700*2428\" alt=\"\"></p><p>ç”¨æˆ·åå’Œå¯†ç ä¸å¤ªå¥½æ‰‹åŠ¨ç”Ÿæˆï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ä¸€ä¸ª<a href=\"https://iot-exp-individual-1258344699.cos.ap-guangzhou.myqcloud.com/password%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7.zip\">ç½‘é¡µå·¥å…·</a>æ¥ç”Ÿæˆã€‚ä¸‹è½½å®Œæˆåï¼Œä½ å¯ä»¥è§£å‹ç¼©ï¼Œå¾—åˆ°ä¸€äº›ç½‘é¡µåŸæ–‡ä»¶ï¼ŒåŒå‡»æ‰“å¼€sign.htmlï¼Œç„¶ååœ¨é¡µé¢è¾“å…¥è®¾å¤‡ä¸‰å…ƒç»„ï¼Œç‚¹å‡»â€œGenerateâ€å³å¯ç”Ÿæˆç”¨æˆ·åå’Œå¯†ç ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/72/96/72db80e852a9d87a073c78f8d5272e96.png?wh=1792*1092\" alt=\"\"></p><p>æœ‰äº†è¿™äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ä¸ºæ™ºèƒ½ç”µç¯è®¾å¤‡ç¼–å†™MQTTä»£ç äº†ï¼š</p><pre><code>from LED import Led\nfrom Button import Button\nfrom Relay import Relay\n\nimport time \nimport uasyncio\nimport network\nimport ujson\nfrom umqtt.simple import MQTTClient\n\n&quot;&quot;&quot;\nWi-Fi Gateway : SSID and Password\n&quot;&quot;&quot;\nWIFI_AP_SSID = &quot;ä½ å®¶çš„Wi-Fi SSID&quot;\nWIFI_AP_PSW = &quot;ä½ å®¶çš„Wi-Fiå¯†ç &quot;\n\n&quot;&quot;&quot;\nQCloud Device Info\n&quot;&quot;&quot;\nDEVICE_NAME = &quot;ä½ çš„è®¾å¤‡åç§°&quot;\nPRODUCT_ID = &quot;ä½ çš„äº§å“ID&quot;\nDEVICE_KEY = &quot;ä½ çš„è®¾å¤‡å¯†é’¥&quot;\n\n&quot;&quot;&quot;\nMQTT topic\n&quot;&quot;&quot;\nMQTT_CONTROL_TOPIC = &quot;$thing/down/property/&quot;+PRODUCT_ID+&quot;/&quot;+DEVICE_NAME\nMQTT_CONTROL_REPLY_TOPIC = &quot;$thing/up/property/&quot;+PRODUCT_ID+&quot;/&quot;+DEVICE_NAME\n\nled = Led(5, 4, 0)\nrelay = Relay(16)\nbutton = Button(14)\n\nmqtt_client = None\ncolor = 0   #enum 0=red, 1=green, 2=blue\nname= &quot;&quot;    #light name. it is optional\nbrightness = 100  # 0%~100%\nlight_changed = False\n\nasync def wifi_connect(ssid, pwd):\n    sta = network.WLAN(network.STA_IF)\n    sta.active(True)\n    sta.connect(ssid, pwd)\n\n    while not sta.isconnected():\n        print(&quot;Wi-Fi Connecting...&quot;)\n        time.sleep_ms(500)\n\ndef mqtt_callback(topic, msg):\n    global led, relay, button\n    global color, name, brightness, light_changed\n\n    print((topic, msg))\n    msg_json = ujson.loads(msg)\n    if msg_json['method'] == 'control':\n        params = msg_json['params']\n\n        power_switch_tmp = params.get('power_switch')\n        if power_switch_tmp is not None:\n            power_switch = power_switch_tmp\n            relay.set_state(power_switch)\n        \n        brightness_tmp = params.get('brightness')\n        if brightness_tmp is not None:\n            brightness = brightness_tmp\n\n        color_tmp = params.get('color')\n        if color_tmp is not None:\n            color = color_tmp\n        \n        name_tmp = params.get('name')\n        if name_tmp is not None:\n            name = name_tmp\n        \n        if brightness_tmp is not None or color_tmp is not None:\n            light_changed = True\n\nasync def mqtt_connect():\n    global mqtt_client\n\n    MQTT_SERVER = PRODUCT_ID + &quot;.iotcloud.tencentdevices.com&quot;\n    MQTT_PORT = 1883\n    MQTT_CLIENT_ID = PRODUCT_ID+DEVICE_NAME\n    MQTT_USER_NAME = &quot;ä½ çš„ç”¨æˆ·å&quot;\n    MQTTT_PASSWORD = &quot;ä½ çš„å¯†ç &quot;\n\n    mqtt_client = MQTTClient(MQTT_CLIENT_ID, MQTT_SERVER, MQTT_PORT,MQTT_USER_NAME, MQTTT_PASSWORD, 60)\n    mqtt_client.set_callback(mqtt_callback)\n    mqtt_client.connect()\n\ndef mqtt_report(client, color, name, switch, brightness):\n\n    msg = {\n        &quot;method&quot;: &quot;report&quot;,\n        &quot;clientToken&quot;: &quot;clientToken-2444532211&quot;,\n        &quot;params&quot;: {\n            &quot;color&quot;: color,\n            &quot;color_temp&quot;: 0,\n            &quot;name&quot;: name,\n            &quot;power_switch&quot;: switch,\n            &quot;brightness&quot;: brightness\n        }   \n    }\n\n    client.publish(MQTT_CONTROL_REPLY_TOPIC.encode(), ujson.dumps(msg).encode())\n\nasync def light_loop():\n    global led, relay, button\n    global color, name, brightness, light_changed\n\n    switch_status_last = 1\n    LED_status = 1  \n\n    color = 2   #blue\n    brightness = 100    #here 100% == 1\n    led.rgb_light(0, 0, 255, brightness/100.0)\n\n    time_cnt = 0\n\n    mqtt_client.subscribe(MQTT_CONTROL_TOPIC.encode())\n\n    while True:\n        mqtt_client.check_msg()\n\n        switch_status = button.state()\n        LED_status = relay.state()\n        if switch_status != switch_status_last:\n            if switch_status == 0 and switch_status_last == 1:\n                LED_status = 0 if LED_status else 1\n            relay.set_state(LED_status)\n            switch_status_last = switch_status\n        \n        if light_changed:\n            light_changed = False\n            led.rgb_light(255 if color==0 else 0, 255 if color==1 else 0, 255 if color==2 else 0, brightness/100.0)\n\n        if time_cnt &gt;= 20:\n            mqtt_report(mqtt_client, color, name, LED_status, brightness)\n            time_cnt = 0\n        time_cnt = time_cnt+1\n        uasyncio.sleep_ms(50)\n\nasync def main():\n    global mqtt_client\n\n    # Wi-Fi connection\n    try:\n        await uasyncio.wait_for(wifi_connect(WIFI_AP_SSID, WIFI_AP_PSW), 20)\n    except uasyncio.TimeoutError:\n        print(&quot;wifi connected timeout!&quot;)\n    \n    # MQTT connection\n    try:\n        await uasyncio.wait_for(mqtt_connect(), 20)\n    except uasyncio.TimeoutError:\n        print(&quot;mqtt connected timeout!&quot;)\n\n    await uasyncio.gather(light_loop())\n\nuasyncio.run(main())\n</code></pre><h2>å¦‚ä½•é€šè¿‡æ‰‹æœºè¿œç¨‹æ§åˆ¶ï¼Ÿ</h2><p>åœ¨å®Œæˆä»£ç åï¼Œæˆ‘ä»¬é€šè¿‡ampyå·¥å…·æˆ–è€…pyboard.pyå·¥å…·ï¼Œå°†è¿™äº›æºä»£ç ä¸Šä¼ åˆ°NodeMCUå¼€å‘æ¿ä¸­ã€‚ç¨‹åºå¼€å§‹è‡ªåŠ¨æ‰§è¡Œï¼Œæ™ºèƒ½ç”µç¯è‡ªåŠ¨æ¥å…¥ç‰©è”ç½‘å¹³å°ã€‚æ‰“å¼€ç‰©è”ç½‘å¹³å°çš„è®¾å¤‡è°ƒè¯•é¡µé¢ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°è®¾å¤‡æ˜¾ç¤ºâ€œåœ¨çº¿â€ã€‚</p><p>ç‚¹å‡»â€œè°ƒè¯•â€ï¼Œé€šè¿‡è°ƒè¯•ç•Œé¢å‘é€MQTTæ¶ˆæ¯æ¥æ§åˆ¶æ™ºèƒ½ç”µç¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/5d/28/5d03e52c440c12f7d0e00c972223dd28.png?wh=1330*1210\" alt=\"\"></p><p>ç‚¹å‡»â€œå‘é€â€ï¼Œç‰©è”ç½‘å¹³å°ä¼šå‘è®¾å¤‡å‘é€ä¸‹é¢è¿™æ ·çš„æ¶ˆæ¯å†…å®¹ï¼š</p><pre><code>{\n  &quot;method&quot;: &quot;control&quot;,\n  &quot;clientToken&quot;: &quot;clientToken-e9d920ea-a1f4-4a53-aada-a1d36fbbdd20&quot;,\n  &quot;params&quot;: {\n    &quot;power_switch&quot;: 1,\n    &quot;brightness&quot;: 50,\n    &quot;color&quot;: 0,\n    &quot;color_temp&quot;: 0,\n    &quot;name&quot;: &quot;&quot;\n  }\n}\n</code></pre><p>é‚£æ€ä¹ˆé€šè¿‡æ‰‹æœºå°ç¨‹åºæ§åˆ¶ç”µç¯å‘¢ï¼Ÿè¿™ä¹Ÿå¾ˆå¥½å®ç°ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å°ç¨‹åºä¸Šæ·»åŠ è®¾å¤‡ï¼Œå°±å¯ä»¥ä½¿ç”¨å°ç¨‹åºç•Œé¢æ§åˆ¶äº†ã€‚</p><p>æ‰“å¼€â€œè…¾è®¯è¿è¿â€å°ç¨‹åºï¼Œç‚¹å‡»â€œ+â€æŒ‰é’®ï¼Œæ‰«ææˆ‘ä»¬åœ¨â€œè®¾å¤‡è°ƒè¯•â€ç•Œé¢ä¿å­˜çš„äºŒç»´ç ï¼Œå°±å®Œæˆæ·»åŠ åŠ¨ä½œäº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/1d/7f/1d7b56914e783d7f5bfe18a633af2e7f.png?wh=1125*2436\" alt=\"\"></p><p>ç„¶åï¼Œç‚¹å‡»è®¾å¤‡å¡ç‰‡ï¼Œè¿›å…¥è®¾å¤‡äº¤äº’ç•Œé¢ï¼Œå°±å¯ä»¥è¿›è¡Œè¿œç¨‹æ§åˆ¶äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/40/5c/40969abc41cafa86910c231046099d5c.png?wh=1125*2436\" alt=\"\"></p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨æ‰‹æœºæ¥è¿œç¨‹æ§åˆ¶æ™ºèƒ½ç”µç¯çš„å¼€å…³çŠ¶æ€å’Œé¢œè‰²äº†ã€‚</p><h2>å°ç»“</h2><p>åœ¨è¿™ä¸€è®²ä¸­ï¼Œæˆ‘ä»¬è¾¹å®æˆ˜è¾¹å­¦ä¹ äº†æ™ºèƒ½ç”µç¯çš„ç”µè·¯ç»„æˆã€ç¨‹åºä»£ç ï¼Œä»¥åŠä¸è…¾è®¯äº‘ç‰©è”ç½‘å¹³å°è¿›è¡ŒMQTTé€šä¿¡çš„ç›¸å…³çŸ¥è¯†ã€‚æˆ‘å†æ¥å¸®ä½ æ€»ç»“ä¸‹éœ€è¦è®°ä½çš„å‡ ä¸ªæ ¸å¿ƒçŸ¥è¯†ç‚¹ã€‚</p><ol>\n<li>åŸºäºç‰©è”ç½‘å¹³å°å¼€å‘äº§å“ï¼Œæˆ‘ä»¬ä¸€èˆ¬éœ€è¦å®Œæˆä¸‰ä»¶äº‹ï¼Œåˆ†åˆ«æ˜¯ç‰©ç†ç½‘å¹³å°çš„åˆ›å»ºå’Œè®¾ç½®ã€æ™ºèƒ½è®¾å¤‡çš„åŠŸèƒ½å¼€å‘ï¼ˆæ¯ä¸ªäº§å“æœ€é‡è¦çš„éƒ¨åˆ†ï¼‰ï¼Œä»¥åŠç”¨æˆ·äº¤äº’ç•Œé¢çš„å¼€å‘ã€‚</li>\n<li>ç‰©æ¨¡å‹æ˜¯åœ¨ç‰©è”ç½‘å¹³å°ä¸Šå®šä¹‰è®¾å¤‡çš„é‡è¦æ¦‚å¿µï¼Œä½ å¯ä»¥å°†<a href=\"https://time.geekbang.org/column/article/310441\">ç¬¬6è®²</a>çš„ç‰©æ¨¡å‹ç›´æ¥å¯¼å…¥æ¥åˆ›å»ºè®¾å¤‡ã€‚</li>\n<li>PWM æ˜¯ç…§æ˜æ§åˆ¶ä¸­éå¸¸é‡è¦çš„ä¸€ç§æŠ€æœ¯æ‰‹æ®µï¼Œäº†è§£äº†é¢‘ç‡å’Œå ç©ºæ¯”çš„æ¦‚å¿µï¼Œä¹Ÿå°±æŒæ¡äº†å®ƒçš„å·¥ä½œåŸç†ã€‚</li>\n<li>æ™ºèƒ½ç”µç¯é€šè¿‡MQTTé€šä¿¡åè®®ä¸ç‰©è”ç½‘å¹³å°äº¤äº’ã€‚åœ¨NodeMCUå¼€å‘æ¿ä¸Šå¯ä»¥å®‰è£…ä¸€ä¸ª MQTT å®¢æˆ·ç«¯ä»£ç åº“ <a href=\"https://github.com/micropython/micropython-lib/tree/master/umqtt.simple\">umqtt.simple åº“</a>ï¼Œæ¥å¼€å‘MQTTå®¢æˆ·ç«¯ä»£ç ã€‚</li>\n</ol><p>å…¶å®ä»Šå¤©æˆ‘ä»¬æ§åˆ¶çš„ RGB LED ç¯åªæ˜¯ä¸€é¢—ç¯ç ï¼Œä½†æ˜¯åœ¨å®é™…äº§å“ä¸­ï¼Œæˆ‘ä»¬å¾ˆå¯èƒ½è¦æ§åˆ¶å¤šé¢— LEDã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬é¢ä¸´çš„é¦–è¦é—®é¢˜ï¼Œå°±æ˜¯å¾®æ§åˆ¶èŠ¯ç‰‡ï¼ˆMCUï¼‰çš„ç®¡è„šä¸å¤Ÿç”¨äº†ã€‚é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>å…³äºè¿™ä¸ªé—®é¢˜ï¼Œè¡Œä¸šé‡Œå·²ç»æœ‰å¾ˆå¤šè§£å†³æ–¹æ¡ˆäº†ã€‚å…¶ä¸­ï¼Œ<a href=\"https://learn.adafruit.com/adafruit-neopixel-uberguide\">NeoPixel</a> æ˜¯å¼€æºç¡¬ä»¶æ–¹æ¡ˆï¼Œä½ å¯ä»¥åœ¨ç½‘ä¸Šæœç´¢ã€äº†è§£ä¸€ä¸‹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å’Œæˆ‘å¤šå¤šäº¤æµã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æœ€åï¼Œæˆ‘ç»™ä½ ç•™ä¸€é“æ€è€ƒé¢˜å§ã€‚</p><p>åœ¨ç‰©è”ç½‘å¹³å°çš„è®¾å¤‡è°ƒè¯•ç•Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥å‘é€MQTT æ¶ˆæ¯æ¥æ§åˆ¶è®¾å¤‡ï¼Œè€Œä¸”æˆ‘è¿˜ç»™å‡ºäº†å…·ä½“çš„æ¶ˆæ¯å†…å®¹ã€‚ä½ å¯ä»¥å’Œæˆ‘è¯´è¯´ï¼Œè¿™ä¸ªæ¶ˆæ¯çš„ä¸»é¢˜ï¼ˆTopicï¼‰æ˜¯ä»€ä¹ˆå—ï¼Ÿ</p><p>å¦å¤–ï¼Œåœ¨æ™ºèƒ½ç”µç¯çš„åŠŸèƒ½å®ç°ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ç»§ç”µå™¨å®ç°äº†ç”µè·¯é€šæ–­çš„æ§åˆ¶ï¼Œé€šè¿‡LEDç¯å®ç°äº†é¢œè‰²çš„è°ƒèŠ‚ã€‚ä½ å¯ä»¥å®ç°ä¸€ä¸‹æŒ‰é’®çš„åŠŸèƒ½å—ï¼Ÿè¿™æ ·å°±å¯ä»¥é€šè¿‡è®¾å¤‡æœ¬èº«æ¥æ§åˆ¶ç”µç¯çš„æ‰“å¼€å’Œç†„ç­äº†ã€‚è¿™ä¹Ÿæ›´ç¬¦åˆç°å®ä¸­ç¯çš„æ ·å¼ã€‚</p><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºå’Œæˆ‘åˆ†äº«ä½ çš„æ€è€ƒï¼Œå¦‚æœåœ¨å®æˆ˜ä»Šå¤©çš„æ™ºèƒ½ç”µç¯æ§åˆ¶æ—¶é‡åˆ°äº†ä»€ä¹ˆé—®é¢˜ï¼Œä¹Ÿå¯ä»¥å’Œæˆ‘è¿›ä¸€æ­¥äº¤æµã€‚åŒæ—¶ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™ä½ çš„æœ‹å‹ï¼Œä¸€èµ·åŠ¨æ‰‹å®ç°ä¸€ä¸ªé…·ç‚«çš„æ™ºèƒ½ç”µç¯æ§åˆ¶ç³»ç»Ÿå§ã€‚</p>","comments":[{"had_liked":false,"id":269053,"user_name":"éƒ­æœæ–Œ","can_delete":false,"product_type":"c1","uid":2302171,"ip_address":"","ucode":"2969986E1B3851","user_header":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","comment_is_top":true,"comment_ctime":1608511607,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"9.2233720556431995e+18","product_id":100063601,"comment_content":"å…³äºå®‰ä¿¡å¯nodemcuçš„çƒ§å½•é—®é¢˜ï¼Œç®€å•è¯´åœ¨åŸæ¥çš„å‘½ä»¤ä¸­å¢åŠ -fm dio å‚æ•°ï¼š<br>esptool.py --port &#47;dev&#47;cu.usbserial-0001 --baud 460800 write_flash --flash_size=detect -fm dio 0 esp8266-20200911-v1.13.bin<br><br>è¿™ä¸ªä¸æˆ‘ä½¿ç”¨çš„å¼€å‘æ¿ä¸åŒï¼Œæ‰€ä»¥æœ¬è®²ä¸­çš„çƒ§å½•å‘½ä»¤æ²¡æœ‰-fm dioå‚æ•°ã€‚<br><br>å®‰å¯ä¿¡nodemcuä¸ºä»€ä¹ˆéœ€è¦å‘¢ï¼ŸFlashèŠ¯ç‰‡å’ŒESP8266ä¸»èŠ¯ç‰‡æ˜¯é€šè¿‡SPIé€šä¿¡çš„ï¼Œä½†æ˜¯æœ‰ä¸åŒçš„æ¨¡å¼ï¼Œä¸€èˆ¬Nodemcuæ¨¡ç»„æ˜¯ä½¿ç”¨Quad I&#47;O æ¨¡å¼ï¼Œä½†æ˜¯è¿™ä¸ªå®‰ä¿¡å¯çš„æ¿å­ä½¿ç”¨çš„æ˜¯Dual I&#47;O æ¨¡å¼ï¼Œæ‰€ä»¥éœ€è¦åŠ è¿™ä¸ªå‚æ•°æ˜ç¡®æŒ‡å®šä¸€ä¸‹ã€‚ä¸ºä»€ä¹ˆè¿™æ ·é‡‡ç”¨DIOæ¨¡å¼å‘¢ï¼Ÿå› ä¸ºè¿™æ ·å¯ä»¥é¢å¤–ç©ºå‡º2ä¸ªGPIOç®¡è„šä½¿ç”¨ã€‚åµŒå…¥å¼æœ‰æ—¶å°±æ˜¯è¿™æ ·ä¸€ä¸ªç®¡è„šéƒ½è¦çæƒœã€‚","like_count":5,"discussions":[{"author":{"id":1692568,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d3/98/fd49cff1.jpg","nickname":"L","note":"","ucode":"FA66FC2705C03A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408868,"discussion_content":"å¾®ä¿¡ç¾¤ è¯´æ˜¯ä¸å¯¼æµäº†ï¼Œæˆ‘æ€ä¹ˆæ ·æ‰èƒ½åŠ å…¥ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635335958,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309236,"user_name":"ç¡•æ¨Sxuya","can_delete":false,"product_type":"c1","uid":1007257,"ip_address":"","ucode":"A83A1595C9DCF9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/99/6ded8166.jpg","comment_is_top":false,"comment_ctime":1629993062,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"44579666022","product_id":100063601,"comment_content":"æœ€åçš„å¾®ä¿¡ç‰©è”ç½‘å¹³å°çš„è¿æ¥ï¼Œè¯´æ˜å¤ªå°‘äº†ï¼Œæ–°æ‰‹å®Œå…¨ä¸çŸ¥é“æ“ä½œäº†ä»€ä¹ˆã€‚<br><br>æ€ä¹ˆæŸ¥çœ‹æ¿å­è¿è¡Œæ—¶å€™çš„ä¿¡æ¯ï¼Ÿwin ä¸‹æ˜¯æ‰“å¼€ PuTTY å°±å¯ä»¥è¿›è¡ŒæŸ¥çœ‹ï¼Ÿ<br><br>è°ƒè¯•çš„æ—¶å€™ï¼Œæ¿å­æ˜¯è¿æ¥ç”µè„‘ã€è€Œéç›´æ¥ç”µæºçº¿ä¹ˆï¼Ÿ<br><br>é™¤äº† main.py ç¨‹åºï¼Œè¿˜æœ‰ä¸‰ä¸ªç¨‹åºï¼ˆLEDã€Relayã€Buttonï¼‰ä¹Ÿè¦ä¸Šä¼ ä¹ˆï¼Ÿ<br><br>åˆ°äº†æœ€åä¸è¯´æ¸…æ¥šï¼Œå¯¹äºç¬¬ä¸€æ¬¡æ¥è§¦ï¼ŒçœŸçš„äº‘é‡Œé›¾é‡Œã€‚","like_count":11},{"had_liked":false,"id":271414,"user_name":"garlic","can_delete":false,"product_type":"c1","uid":1019579,"ip_address":"","ucode":"FEB147EDB5774E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8e/bb/c039dc11.jpg","comment_is_top":false,"comment_ctime":1609601815,"is_pvip":true,"replies":[{"id":"99259","content":"Greatï¼","user_name":"ä½œè€…å›å¤","comment_id":271414,"uid":"2302171","ip_address":"","utype":1,"ctime":1610806805,"user_name_real":"éƒ­æœæ–Œ"}],"discussion_count":1,"race_medal":1,"score":"31674372887","product_id":100063601,"comment_content":"1. ä½¿ç”¨çš„è¿™ä¸ªTopicMQTT_CONTROL_TOPIC = &quot;$thing&#47;down&#47;property&#47;&quot;+PRODUCT_ID+&quot;&#47;&quot;+DEVICE_NAME  ç»ˆç«¯é€šè¿‡ mqtt_client.subscribeï¼Œè®¢é˜…è¿™ä¸ªTopicçš„æ¶ˆæ¯<br>2. æŒ‰é”®åŠŸèƒ½å®ç°ä½¿ç”¨é…å¥—çš„æŒ‰é’®ç»„ä»¶ï¼Œ å°†Sæ¥å…¥åˆ°D5ï¼Œ å¦å¤–ä¸¤ç«¯å‚è€ƒç»§ç”µå™¨æ¥æ³•æ¥å…¥åˆ†åˆ«åˆ°VCCï¼Œ GNDä½ç½®<br>å­¦ä¹ ç¬”è®°ï¼š https:&#47;&#47;xie.infoq.cn&#47;article&#47;6a9bce475271b9bab147244b8  ","like_count":8,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512922,"discussion_content":"Greatï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610806805,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275273,"user_name":"Il Mostro","can_delete":false,"product_type":"c1","uid":1206850,"ip_address":"","ucode":"D7B4E35A68CD52","user_header":"https://static001.geekbang.org/account/avatar/00/12/6a/42/7d2af646.jpg","comment_is_top":false,"comment_ctime":1611417165,"is_pvip":false,"replies":[{"id":"100776","content":"å¯ä»¥ç”¨rtcæ—¶é’Ÿå”¤é†’ï¼Œgpio16æ¥reset","user_name":"ä½œè€…å›å¤","comment_id":275273,"uid":"2302171","ip_address":"","utype":1,"ctime":1612588483,"user_name_real":"éƒ­æœæ–Œ"}],"discussion_count":1,"race_medal":0,"score":"10201351757","product_id":100063601,"comment_content":"NodeMCUæœ‰ç¡çœ çš„æ¨¡å¼ï¼Œå¦‚ä½•è®¾è®¡ä¸€ä¸ªå”¤é†’çš„åŠŸèƒ½ã€‚","like_count":2,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514292,"discussion_content":"å¯ä»¥ç”¨rtcæ—¶é’Ÿå”¤é†’ï¼Œgpio16æ¥reset","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612588483,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269873,"user_name":"è‘£ä¹‰","can_delete":false,"product_type":"c1","uid":1355748,"ip_address":"","ucode":"DD32318860B411","user_header":"https://static001.geekbang.org/account/avatar/00/14/af/e4/7bbec200.jpg","comment_is_top":false,"comment_ctime":1608821229,"is_pvip":false,"replies":[{"id":"99270","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":269873,"uid":"2302171","ip_address":"","utype":1,"ctime":1610807871,"user_name_real":"éƒ­æœæ–Œ"}],"discussion_count":2,"race_medal":0,"score":"10198755821","product_id":100063601,"comment_content":"å®è·µè¿‡ç¨‹ä¸­ç¢°åˆ°ä¸€äº›é—®é¢˜,LEDç±»ä¸­brightness &gt;=1.0: åº”è¯¥æ˜¯brightness &lt;=1.0:<br>è¿™ä¸ªbugä¼šå¯¼è‡´æ— æ³•è°ƒèŠ‚äº®åº¦,ä¸”åªæœ‰äº®åº¦è®¾ç½®ä¸º100%æ—¶æ‰èƒ½è°ƒæ•´é¢œè‰²,å¦åˆ™å˜è‰²é€»è¾‘éƒ½ä¸ä¼šè¿›å…¥.<br>","like_count":3,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512419,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610807871,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1785568,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/e0/08069dfc.jpg","nickname":"ç‰›å“¥å“¥","note":"","ucode":"2B3926008E97CB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340109,"discussion_content":"æˆ‘ä¹Ÿé‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæ”¹äº†å¤§äºå·ä¹‹åä¾æ—§ä¸è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609904163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269492,"user_name":"é»‘ç¾½","can_delete":false,"product_type":"c1","uid":1053338,"ip_address":"","ucode":"D68FD2B38A1D0E","user_header":"https://static001.geekbang.org/account/avatar/00/10/12/9a/062f83c8.jpg","comment_is_top":false,"comment_ctime":1608686366,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10198620958","product_id":100063601,"comment_content":"è®¾å¤‡ä¸ŠMQTTæ¶ˆæ¯è§£ææ¨¡å—ï¼ˆpythonä»£ç ï¼‰ å¿…é¡»ä¸ ç‰©è”ç½‘å¹³å°å‘é€çš„æ¶ˆæ¯å†…å®¹ï¼ˆç‰©æ¨¡å‹ï¼‰å¯¹åº”èµ·æ¥ï¼Œå¦åˆ™æ˜¯æ²¡åŠæ³•è¿›è¡Œæ¶ˆæ¯è§£æå¹¶æ§åˆ¶è®¾å¤‡","like_count":2},{"had_liked":false,"id":269371,"user_name":"ç¢æ­¥é©¬æ‹‰æ¾","can_delete":false,"product_type":"c1","uid":2303998,"ip_address":"","ucode":"9612A9F8FC6DDA","user_header":"https://static001.geekbang.org/account/avatar/00/23/27/fe/e4e0126d.jpg","comment_is_top":false,"comment_ctime":1608626783,"is_pvip":false,"replies":[{"id":"99455","content":"ç›®å‰è¿˜æ²¡æœ‰çœ‹åˆ°ç±»ä¼¼çš„ã€‚å¯ä»¥åŸºäºä¸åŒéƒ¨åˆ†çš„æ¥æºè½¯ä»¶è‡ªå·±æ­å»º","user_name":"ä½œè€…å›å¤","comment_id":269371,"uid":"2302171","ip_address":"","utype":1,"ctime":1610860455,"user_name_real":"éƒ­æœæ–Œ"}],"discussion_count":1,"race_medal":0,"score":"10198561375","product_id":100063601,"comment_content":"è€å¸ˆå¥½ï¼Œç±»ä¼¼è…¾è®¯ç‰©è”ç½‘å¹³å°çš„å¼€æºé¡¹ç›®æœ‰æ¨èä¹ˆï¼Ÿ","like_count":2,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512250,"discussion_content":"ç›®å‰è¿˜æ²¡æœ‰çœ‹åˆ°ç±»ä¼¼çš„ã€‚å¯ä»¥åŸºäºä¸åŒéƒ¨åˆ†çš„æ¥æºè½¯ä»¶è‡ªå·±æ­å»º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610860455,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305501,"user_name":"Geek_00be5c","can_delete":false,"product_type":"c1","uid":2273498,"ip_address":"","ucode":"1281317D562862","user_header":"","comment_is_top":false,"comment_ctime":1627999775,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5922967071","product_id":100063601,"comment_content":"ç»§ç”µå™¨ æˆ‘è¿nc å’Œco ä¼šäº®   coå’Œnoä¸äº®   ä¸ºä»€ä¹ˆåäº†","like_count":1},{"had_liked":false,"id":298118,"user_name":"ä¸¥ç‚","can_delete":false,"product_type":"c1","uid":2646561,"ip_address":"","ucode":"EAD8D6E7851495","user_header":"https://static001.geekbang.org/account/avatar/00/28/62/21/a2c4b47d.jpg","comment_is_top":false,"comment_ctime":1623917524,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5918884820","product_id":100063601,"comment_content":"éƒ­è€å¸ˆï¼Œç”¨æˆ·åå’Œå¯†ç ç”Ÿäº§é‚£ä¸ªç½‘é¡µæ‰“å¼€ä¸äº†äº†ï¼Œèƒ½å†å‘ä¸€ä¸‹å—","like_count":1},{"had_liked":false,"id":275433,"user_name":"ä¿Šç‘¶å…ˆæ£® | Jê¯­uê¯­nê¯­ Â®","can_delete":false,"product_type":"c1","uid":1308674,"ip_address":"","ucode":"D6A1CB7C734475","user_header":"https://static001.geekbang.org/account/avatar/00/13/f8/02/dc76f4dd.jpg","comment_is_top":false,"comment_ctime":1611538906,"is_pvip":false,"replies":[{"id":"100775","content":"è¿™æ˜¯ä¸ºäº†é™ä½éš¾åº¦ï¼Œå¦‚æœæœ‰å…´è¶£æˆ‘ä»¬å¯ä»¥äº¤æµï¼Œå¦‚æœæœ‰æœåŠ¡å™¨å¼€å‘ç»éªŒï¼Œæ­å»ºä¸€ä¸ªå¹³å°ä¹Ÿæ²¡æœ‰é‚£ä¹ˆéš¾ã€‚","user_name":"ä½œè€…å›å¤","comment_id":275433,"uid":"2302171","ip_address":"","utype":1,"ctime":1612587756,"user_name_real":"éƒ­æœæ–Œ"}],"discussion_count":2,"race_medal":0,"score":"5906506202","product_id":100063601,"comment_content":"æˆ‘è¿˜ä»¥ä¸ºæ˜¯è‡ªå·±æ­å»ºå¹³å°ã€‚å±…ç„¶æ˜¯ã€‚ã€‚ã€‚è…¾è®¯äº‘ç‰©è”ç½‘ã€‚ã€‚ã€‚ã€‚æœæ°”ã€‚ã€‚ã€‚","like_count":1,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514341,"discussion_content":"è¿™æ˜¯ä¸ºäº†é™ä½éš¾åº¦ï¼Œå¦‚æœæœ‰å…´è¶£æˆ‘ä»¬å¯ä»¥äº¤æµï¼Œå¦‚æœæœ‰æœåŠ¡å™¨å¼€å‘ç»éªŒï¼Œæ­å»ºä¸€ä¸ªå¹³å°ä¹Ÿæ²¡æœ‰é‚£ä¹ˆéš¾ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612587756,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1057843,"avatar":"https://static001.geekbang.org/account/avatar/00/10/24/33/bcf37f50.jpg","nickname":"é˜¿ç”˜","note":"","ucode":"BC93175B70E05D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":548208,"discussion_content":"ä¸ºäº†èƒ½å¤Ÿç«¯åˆ°ç«¯çš„ææ¸…æ¥šæ•´ä¸ªæµç¨‹ï¼Œå¼ºçƒˆå»ºè®®è€å¸ˆæŠŠæœåŠ¡ç«¯çš„éƒ¨åˆ†åœ¨åŠ é¤ä¸­è¡¥ä¸Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643080971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":514341,"ip_address":""},"score":548208,"extra":""}]}]},{"had_liked":false,"id":275139,"user_name":"Il Mostro","can_delete":false,"product_type":"c1","uid":1206850,"ip_address":"","ucode":"D7B4E35A68CD52","user_header":"https://static001.geekbang.org/account/avatar/00/12/6a/42/7d2af646.jpg","comment_is_top":false,"comment_ctime":1611325615,"is_pvip":false,"replies":[{"id":"100779","content":"å½“ç„¶ï¼Œæœ¬èº«å°±å¯ä»¥é€šè¿‡USBä¾›ç”µï¼ŒåŒæ—¶åœ¨ç”µè„‘ä¸Šé€šè¿‡ä¸²å£è½¯ä»¶æŸ¥çœ‹æ§åˆ¶å°ä¿¡æ¯","user_name":"ä½œè€…å›å¤","comment_id":275139,"uid":"2302171","ip_address":"","utype":1,"ctime":1612588788,"user_name_real":"éƒ­æœæ–Œ"}],"discussion_count":1,"race_medal":0,"score":"5906292911","product_id":100063601,"comment_content":"å¼€å‘æ¿æ—¥å¿—å¦‚ä½•æŸ¥çœ‹ï¼Œå¼€å‘æ¿åœ¨æ¥é€šç”µæºçš„æƒ…å†µä¸‹æ˜¯å¦å¯ä»¥ç”¨USBè¿æ¥è‡³ç”µè„‘","like_count":1,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514226,"discussion_content":"å½“ç„¶ï¼Œæœ¬èº«å°±å¯ä»¥é€šè¿‡USBä¾›ç”µï¼ŒåŒæ—¶åœ¨ç”µè„‘ä¸Šé€šè¿‡ä¸²å£è½¯ä»¶æŸ¥çœ‹æ§åˆ¶å°ä¿¡æ¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612588788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269802,"user_name":"Geek_eb46b7","can_delete":false,"product_type":"c1","uid":2307745,"ip_address":"","ucode":"53394543572702","user_header":"","comment_is_top":false,"comment_ctime":1608790654,"is_pvip":false,"replies":[{"id":"99274","content":"pythonçš„replæ”¯æŒäº¤äº’æ“ä½œçš„","user_name":"ä½œè€…å›å¤","comment_id":269802,"uid":"2302171","ip_address":"","utype":1,"ctime":1610808049,"user_name_real":"éƒ­æœæ–Œ"}],"discussion_count":1,"race_medal":0,"score":"5903757950","product_id":100063601,"comment_content":"è€å¸ˆï¼Œç¼–å†™å¥½çš„ä»£ç ï¼Œæœ‰æœ¬åœ°ç”µè„‘ç«¯çš„è°ƒè¯•æ–¹å¼å—ï¼Ÿ<br>æ¯æ¬¡æ”¹äº†ï¼Œåœ¨ä¼ åˆ° NodeMCU å¼€å‘æ¿ï¼ŒéªŒè¯å¯¹é”™è°ƒè¯•ï¼Œæœ‰ç‚¹ç¹çã€‚","like_count":1,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512396,"discussion_content":"pythonçš„replæ”¯æŒäº¤äº’æ“ä½œçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610808049,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269188,"user_name":"Lijkxb","can_delete":false,"product_type":"c1","uid":2113971,"ip_address":"","ucode":"6FEB32CD80C971","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/TGh6CMbqtMvXJbJcJxU4W0SaQ0Cpp2wCzHpHpDhgrOgqWHjmbQERqDDRLkxfQUzMFzyY0BGGL3kyJYcUfZddNg/132","comment_is_top":false,"comment_ctime":1608551372,"is_pvip":false,"replies":[{"id":"99459","content":"é€šè¿‡å¼€å‘æ¿çš„ä¸²å£ä¿¡æ¯å’Œå¹³å°çš„è°ƒè¯•ä¿¡æ¯ï¼Œç¡®è®¤è¿æ¥å¹³å°æ˜¯å¦æˆåŠŸã€‚æˆåŠŸåå³ä¼šæ¿€æ´»","user_name":"ä½œè€…å›å¤","comment_id":269188,"uid":"2302171","ip_address":"","utype":1,"ctime":1610861536,"user_name_real":"éƒ­æœæ–Œ"}],"discussion_count":7,"race_medal":0,"score":"5903518668","product_id":100063601,"comment_content":"æˆ‘çš„ç”µç¯çŠ¶æ€ä¸€ç›´æ˜¾ç¤ºâ€œæœªæ¿€æ´»â€ï¼Œä¸çŸ¥é“å“ªé‡Œå‡ºäº†é—®é¢˜ï¼Œæœ‰æˆåŠŸå®ç°çš„æœ‹å‹å¯ä»¥å¸®æˆ‘åˆ†æä¸€ä¸‹å—ï¼Ÿ<br><br>ç›®å‰å·²è¿›è¡Œçš„æ“ä½œï¼š<br>æ¥çº¿å®Œæˆï¼ŒLEDå¯ä»¥æ­£å¸¸é—ªçƒï¼Œè¿æ¥wifiæˆåŠŸï¼Œä¸‹è½½å¥½äº†umqttï¼Œç„¶åæŠŠLED.pyã€Relay.pyã€Button.pyåˆ›å»ºå¥½ï¼Œä¼ åˆ°äº†esp8266ä¸­ã€‚åœ¨main.pyä¿®æ”¹çš„ç›¸å…³ä¿¡æ¯ä¹Ÿä¿®æ”¹å¥½äº†ã€‚<br>ä¸çŸ¥é“å“ªé‡Œæœ‰é—®é¢˜<br><br>import os<br>&gt;&gt;&gt; os.listdir()<br>[&#39;Button.py&#39;, &#39;LED.py&#39;, &#39;Relay.py&#39;, &#39;boot.py&#39;, &#39;lib&#39;, &#39;main.py&#39;, &#39;webrepl_cfg.py&#39;]<br>&gt;&gt;&gt; os.listdir(&#39;lib&#39;)<br>[&#39;umqtt&#39;]<br><br>æ˜¯ä¸æ˜¯è…¾è®¯äº‘çš„å¼€å‘å¹³å°è®¾ç½®æœ‰ä»€ä¹ˆè¦é¿å…çš„å‘ï¼Ÿè¿˜æ˜¯è¯´æˆ‘å…¶ä»–åœ°æ–¹æ“ä½œä¸åˆ°å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512181,"discussion_content":"é€šè¿‡å¼€å‘æ¿çš„ä¸²å£ä¿¡æ¯å’Œå¹³å°çš„è°ƒè¯•ä¿¡æ¯ï¼Œç¡®è®¤è¿æ¥å¹³å°æ˜¯å¦æˆåŠŸã€‚æˆåŠŸåå³ä¼šæ¿€æ´»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610861536,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005944,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/78/4f384f93.jpg","nickname":"é¾™","note":"","ucode":"B353E8002D2BF3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337338,"discussion_content":"åŒæ ·æ²¡æ‰¾åˆ°Buttonä»£ç ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608878131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1150696,"avatar":"https://static001.geekbang.org/account/avatar/00/11/8e/e8/f1e12f2e.jpg","nickname":"é’æœ¨","note":"","ucode":"2B566ABDAD1339","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337090,"discussion_content":"Button.py æ¨¡å—çš„ä»£ç æ˜¯ä»€ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608794320,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2113971,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TGh6CMbqtMvXJbJcJxU4W0SaQ0Cpp2wCzHpHpDhgrOgqWHjmbQERqDDRLkxfQUzMFzyY0BGGL3kyJYcUfZddNg/132","nickname":"Lijkxb","note":"","ucode":"6FEB32CD80C971","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1150696,"avatar":"https://static001.geekbang.org/account/avatar/00/11/8e/e8/f1e12f2e.jpg","nickname":"é’æœ¨","note":"","ucode":"2B566ABDAD1339","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337370,"discussion_content":"è€å¸ˆæ²¡æœ‰ç»™Buttonçš„ä»£ç ï¼Œåœ¨æ€è€ƒé¢˜é‡Œè®©è‡ªå·±å®Œå–„ã€‚äº‹å®ä¸Šæ­£å¸¸çš„è¿è¡Œèµ·æ¥ä¸éœ€è¦ Button æ¨¡å—ï¼ŒæŠŠè¿™éƒ¨åˆ†ä»£ç æ³¨é‡Šæ‰ï¼Œç»•å¼€å°±å¯ä»¥äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1608884725,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":337090,"ip_address":""},"score":337370,"extra":""}]},{"author":{"id":2113971,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TGh6CMbqtMvXJbJcJxU4W0SaQ0Cpp2wCzHpHpDhgrOgqWHjmbQERqDDRLkxfQUzMFzyY0BGGL3kyJYcUfZddNg/132","nickname":"Lijkxb","note":"","ucode":"6FEB32CD80C971","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336622,"discussion_content":"æˆ‘é¼“æ£äº†ä¸€ä¸‹åˆï¼ŒæˆåŠŸäº†ã€‚å¯èƒ½æ˜¯ main.pyä¸­ï¼Œ line 143 çš„ä»£ç ç¼©è¿›é—®é¢˜ã€‚\næˆ‘ä¸‹è½½äº†ä¸€ä¸ª uPyCraft å¯ä»¥è¿›è¡Œ debug","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608636233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1271831,"avatar":"https://static001.geekbang.org/account/avatar/00/13/68/17/8cc195cc.jpg","nickname":"å°å¶","note":"","ucode":"639A452A0634FA","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2113971,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TGh6CMbqtMvXJbJcJxU4W0SaQ0Cpp2wCzHpHpDhgrOgqWHjmbQERqDDRLkxfQUzMFzyY0BGGL3kyJYcUfZddNg/132","nickname":"Lijkxb","note":"","ucode":"6FEB32CD80C971","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337573,"discussion_content":"æˆ‘ä¹Ÿæ˜¯é‡åˆ°ä»£ç ç¼©è¿›é—®é¢˜â€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608978974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":336622,"ip_address":""},"score":337573,"extra":""},{"author":{"id":2302376,"avatar":"https://static001.geekbang.org/account/avatar/00/23/21/a8/8ac2ccb3.jpg","nickname":"é£ffff","note":"","ucode":"5422485EA3265F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2113971,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/TGh6CMbqtMvXJbJcJxU4W0SaQ0Cpp2wCzHpHpDhgrOgqWHjmbQERqDDRLkxfQUzMFzyY0BGGL3kyJYcUfZddNg/132","nickname":"Lijkxb","note":"","ucode":"6FEB32CD80C971","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340757,"discussion_content":"è€å“¥ç»„è£…å›¾èƒ½ç»™æˆ‘çœ‹çœ‹å— æˆ‘è¿™æ²¡ååº” ä¹Ÿä¸çŸ¥é“ä¸ºå•¥ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610119735,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":336622,"ip_address":""},"score":340757,"extra":""}]}]},{"had_liked":false,"id":268781,"user_name":"å°èƒ–","can_delete":false,"product_type":"c1","uid":1117641,"ip_address":"","ucode":"A4071FEA1BA18C","user_header":"https://static001.geekbang.org/account/avatar/00/11/0d/c9/eb444e29.jpg","comment_is_top":false,"comment_ctime":1608347406,"is_pvip":false,"replies":[{"id":"99468","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":268781,"uid":"2302171","ip_address":"","utype":1,"ctime":1610863677,"user_name_real":"éƒ­æœæ–Œ"}],"discussion_count":2,"race_medal":0,"score":"5903314702","product_id":100063601,"comment_content":" dir(network)<br>[&#39;__class__&#39;, &#39;__name__&#39;, &#39;AP_IF&#39;, &#39;AUTH_OPEN&#39;, &#39;AUTH_WEP&#39;, &#39;AUTH_WPA2_PSK&#39;, &#39;AUTH_WPA_PSK&#39;, &#39;AUTH_WPA_WPA2_PSK&#39;, &#39;MODE_11B&#39;, &#39;MODE_11G&#39;, &#39;MODE_11N&#39;, &#39;STAT_CONNECTING&#39;, &#39;STAT_CONNECT_FAIL&#39;, &#39;STAT_GOT_IP&#39;, &#39;STAT_IDLE&#39;, &#39;STAT_NO_AP_FOUND&#39;, &#39;STAT_WRONG_PASSWORD&#39;, &#39;STA_IF&#39;, &#39;WLAN&#39;, &#39;phy_mode&#39;]<br><br>è¿æ¥WIFI:<br>import network<br>sta_if = network.WLAN(network.STA_IF)<br>sta_if.active(True)<br>sta_if.connect( essid, passowrd)","like_count":1,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512035,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610863677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336141,"discussion_content":"æ˜¯çš„ï¼Œéœ€è¦ç”¨WLAN","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608513514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336319,"user_name":"å°ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1026271,"ip_address":"","ucode":"BF17F586365E65","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a8/df/a206a1a2.jpg","comment_is_top":false,"comment_ctime":1646072206,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1646072206","product_id":100063601,"comment_content":"æœ¬èŠ‚è¯¾ç¨‹ä»£ç ä¾›å¤§å®¶å‚è€ƒ<br>å®šæ—¶å¼€å…³æµ‹è¯•: https:&#47;&#47;github.com&#47;Kevin181&#47;geektime&#47;tree&#47;main&#47;iot&#47;led&#47;time<br>è”ç½‘æ§åˆ¶: https:&#47;&#47;github.com&#47;Kevin181&#47;geektime&#47;tree&#47;main&#47;iot&#47;led&#47;network-control","like_count":1},{"had_liked":false,"id":336090,"user_name":"å°ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1026271,"ip_address":"","ucode":"BF17F586365E65","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a8/df/a206a1a2.jpg","comment_is_top":false,"comment_ctime":1645896516,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1645896516","product_id":100063601,"comment_content":"è€å¸ˆâ€œMQTT ä»£ç â€é‡Œçš„ä»£ç éœ€è¦ä¿®æ­£ä¸‹ï¼Œç¬¬141è¡Œçš„&quot;uasyncio.sleep_ms(50)&quot; åº”ä¸º&quot;await uasyncio.sleep_ms(50) &quot; ï¼Œä¸åŠ awaitä¼šå¯¼è‡´ç¡çœ å¤±æ•ˆï¼Œæ­»å¾ªç¯æ— ä¼‘çœ æ—¶é—´ï¼ŒæŒç»­ä¸æ–­å‘äº‘å¹³å°ä¸ŠæŠ¥ä¿¡æ¯ã€‚<br>è€å¸ˆåº”è¯¥å¿˜äº†æ˜¯å¼‚æ­¥çº¿ç¨‹äº†ï¼Œasyncå’Œawaitæ­é…ï¼Œè¿™ä¸ªæœ›ä¿®è®¢ä¸‹ï¼Œåˆå­¦è€…ä¸çŸ¥é”™è¯¯ä¼šæ— æ³•ç»§ç»­ï¼Œç¨åæˆ‘ä¹Ÿä¼šå°†æˆ‘çš„ä»£ç ä¸Šä¼ åˆ°githubååˆ†äº«ï¼Œæ„Ÿè°¢è€å¸ˆçš„æŒ‡å¯¼å’Œåˆ†äº«","like_count":0},{"had_liked":false,"id":314432,"user_name":"æ¨ç£Š","can_delete":false,"product_type":"c1","uid":1796475,"ip_address":"","ucode":"20FBF43491D80D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/qZ3bvj9j1KibcY7zkv2XS0gDF9oUrkx7zjucHCnIwCnBM6KYUBQUjyXAO3wkNlPiawTNVicKKwNjFkQxv0feHJUdQ/132","comment_is_top":false,"comment_ctime":1633050236,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633050236","product_id":100063601,"comment_content":"è¿™èŠ‚éœ€è¦ç¢ç£¨çš„é—®é¢˜ç‰¹åˆ«å¤šï¼Œéƒ­è€å¸ˆå¯å¦å¸®å¿™æ‹‰æˆ‘è¿›åŒå­¦ç¾¤äº’ç›¸å¸®åŠ©ã€‚æˆ‘å¾®ä¿¡18675628350<br>åæ¥çš„åŒå­¦ä¹Ÿå¯ä»¥åŠ æˆ‘å¾®ä¿¡ä¸€èµ·å­¦ä¹ è¿›æ­¥ã€‚","like_count":0},{"had_liked":false,"id":301305,"user_name":"å¤§åŠ›æ°´æ‰‹","can_delete":false,"product_type":"c1","uid":1527275,"ip_address":"","ucode":"6DA92B8929DCC2","user_header":"https://static001.geekbang.org/account/avatar/00/17/4d/eb/5ff52c77.jpg","comment_is_top":false,"comment_ctime":1625625296,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1625625296","product_id":100063601,"comment_content":"ç”µè·¯è¿æ¥é™¤äº†5ã€4ã€0ã€16ä¹‹å¤–ï¼Œå¦å¤–å‡ ä¸ªè¿çº¿æ˜¯åšä»€ä¹ˆçš„ï¼Ÿå¦å¤–ï¼Œå¦‚æœç»§ç”µå™¨æ¥å¼ºç”µçš„è¯æ˜¯æ€ä¹ˆæ¥å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2991107,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/a4/03/4200b029.jpg","nickname":"æ— æ°","note":"","ucode":"9502BB50B4D402","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569731,"discussion_content":"å­¦å­¦ç”µå·¥çŸ¥è¯†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651540708,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297490,"user_name":"æµäº‘","can_delete":false,"product_type":"c1","uid":2330527,"ip_address":"","ucode":"4DA4CE36520724","user_header":"https://static001.geekbang.org/account/avatar/00/23/8f/9f/0767e5a5.jpg","comment_is_top":false,"comment_ctime":1623576854,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1623576854","product_id":100063601,"comment_content":"è®¾å¤‡è®¢é˜…çš„ä¸»é¢˜:thing&#47;down&#47;property&#47;ProductID&#47;DeviceNameã€‚<br>è®¾å¤‡å‘å¸ƒçš„ä¸»é¢˜:thing&#47;up&#47;property&#47;ProductID&#47;DeviceName <br>è€å¸ˆï¼Œæˆ‘å…¶å®æœ‰ä¸ªç–‘é—®ï¼Œè®¢é˜…å’Œå‘å¸ƒä¸æ˜¯åœ¨ä¸€æ¡æ¶ˆæ¯æµé‡Œçš„å—ï¼Œæ€ä¹ˆåœ¨è¿™é‡Œè¯´çš„æ˜¯ä¸¤æ¡ä¿¡æ¯æµ?ä¸åº”è¯¥æ˜¯ç‰©è”ç½‘å¹³å°è¿™è¾¹å‘å¸ƒä¸€æ¡æ¶ˆæ¯ï¼Œç„¶åè®¾å¤‡ç«¯è¿™è¾¹è®¢é˜…ä¸€æ¡æ¶ˆæ¯ï¼Œå‘å¸ƒå’Œè®¢é˜…ä¸åº”è¯¥æ˜¯ä¸€æ¡ä¸»é¢˜å—?","like_count":0,"discussions":[{"author":{"id":2646561,"avatar":"https://static001.geekbang.org/account/avatar/00/28/62/21/a2c4b47d.jpg","nickname":"ä¸¥ç‚","note":"","ucode":"EAD8D6E7851495","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379471,"discussion_content":"ä½ å¥½ï¼Œå¯ä»¥åŠ ä¸ªå¾®ä¿¡äº¤æµä¸€ä¸‹å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623917407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":290528,"user_name":"æç›Šè¾¾","can_delete":false,"product_type":"c1","uid":1025265,"ip_address":"","ucode":"6C2569A97B39F7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a4/f1/1d889d57.jpg","comment_is_top":false,"comment_ctime":1619601110,"is_pvip":false,"replies":[{"id":"106634","content":"æœ¬æ¥æ˜¯å¸Œæœ›ä½ ä»¬èƒ½å¤ŸåŠ¨æ‰‹å†™ä¸€å†™çš„ã€‚<br>å¯ä»¥åŠ å¾®ä¿¡ç¾¤å’Œå¤§å®¶äº¤æµä¸€ä¸‹ï¼Œæœ‰äººåˆ†äº«è¿‡ã€‚","user_name":"ä½œè€…å›å¤","comment_id":290528,"uid":"2302171","ip_address":"","utype":1,"ctime":1621694174,"user_name_real":"éƒ­æœæ–Œ"}],"discussion_count":2,"race_medal":0,"score":"1619601110","product_id":100063601,"comment_content":"Button.py æ–‡ä»¶æˆ‘æ€ä¹ˆæ²¡æœ‰çœ‹åˆ°","like_count":0,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519229,"discussion_content":"æœ¬æ¥æ˜¯å¸Œæœ›ä½ ä»¬èƒ½å¤ŸåŠ¨æ‰‹å†™ä¸€å†™çš„ã€‚\nå¯ä»¥åŠ å¾®ä¿¡ç¾¤å’Œå¤§å®¶äº¤æµä¸€ä¸‹ï¼Œæœ‰äººåˆ†äº«è¿‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621694174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1028132,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b0/24/bb1297cf.jpg","nickname":"z","note":"","ucode":"8A64B9354556CE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":592112,"discussion_content":"å¾®ä¿¡ç¾¤å·åœ¨å“ªé‡Œï¼Ÿ æ²¡æ‰¾ç€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1667119058,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":519229,"ip_address":"å¹¿ä¸œ"},"score":592112,"extra":""}]}]},{"had_liked":false,"id":289977,"user_name":"æ¨ç£Š","can_delete":false,"product_type":"c1","uid":1796475,"ip_address":"","ucode":"20FBF43491D80D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/qZ3bvj9j1KibcY7zkv2XS0gDF9oUrkx7zjucHCnIwCnBM6KYUBQUjyXAO3wkNlPiawTNVicKKwNjFkQxv0feHJUdQ/132","comment_is_top":false,"comment_ctime":1619302374,"is_pvip":false,"replies":[{"id":"106698","content":"çœ‹ä¸€ä¸‹å¹³å°æ›´æ–°çš„æ–‡æ¡£ï¼ŒæŒ‰ç…§æ–‡æ¡£æ¥å°±è¡Œï¼Œåªæ˜¯ç•Œé¢æ”¹äº†æ”¹ï¼Œå†…éƒ¨çš„æ­¥éª¤å’Œç»†èŠ‚å˜åŒ–ä¸å¤§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1621760017,"ip_address":"","comment_id":289977,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1619302374","product_id":100063601,"comment_content":"è…¾è®¯çš„ç‰©è”ç½‘å¹³å°æ”¹ç‰ˆäº†ï¼Œä¸çŸ¥æ€ä¹ˆç”¨äº†ï¼Œé…ä¸ä¸Šç‰©æ¨¡å‹ï¼","like_count":0,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519080,"discussion_content":"çœ‹ä¸€ä¸‹å¹³å°æ›´æ–°çš„æ–‡æ¡£ï¼ŒæŒ‰ç…§æ–‡æ¡£æ¥å°±è¡Œï¼Œåªæ˜¯ç•Œé¢æ”¹äº†æ”¹ï¼Œå†…éƒ¨çš„æ­¥éª¤å’Œç»†èŠ‚å˜åŒ–ä¸å¤§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621760017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1796475,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/qZ3bvj9j1KibcY7zkv2XS0gDF9oUrkx7zjucHCnIwCnBM6KYUBQUjyXAO3wkNlPiawTNVicKKwNjFkQxv0feHJUdQ/132","nickname":"æ¨ç£Š","note":"","ucode":"20FBF43491D80D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375667,"discussion_content":"è°¢è°¢è€å¸ˆï¼Œè¯·é—®å¦‚ä½•åŠ å…¥åŒå­¦å¾®ä¿¡ç¾¤ï¼Ÿ\né€šè¿‡æå®¢æ—¶é—´çš„å®˜æ–¹è´¦å·åŠ ä¸ä¸Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621809139,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":288933,"user_name":"æ¨ç£Š","can_delete":false,"product_type":"c1","uid":1796475,"ip_address":"","ucode":"20FBF43491D80D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/qZ3bvj9j1KibcY7zkv2XS0gDF9oUrkx7zjucHCnIwCnBM6KYUBQUjyXAO3wkNlPiawTNVicKKwNjFkQxv0feHJUdQ/132","comment_is_top":false,"comment_ctime":1618793214,"is_pvip":false,"replies":[{"id":"106680","content":"é•¿é’ˆè„šçš„ç”µä½å™¨ã€‚DHT11ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1621758044,"ip_address":"","comment_id":288933,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1618793214","product_id":100063601,"comment_content":"è°ƒé€Ÿç”µä½å™¨ 2ğŸ‘ˆä¿¡SHLIczBr4HOä¿¡ https:&#47;&#47;m.tb.cn&#47;h.4m0orgZ?sm=706fd7 WH138-1 B 5K&#47;10K&#47;20K&#47;50K&#47;100K&#47;250K&#47;500K å¸¦å¼€å…³è°ƒå…‰è°ƒé€Ÿç”µä½å™¨   <br>æ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨ 5ğŸ‘ˆå•Štzc6czBI4Noä¿¡ https:&#47;&#47;m.tb.cn&#47;h.4liAEQh?sm=2dc02f DHT11 DHT22æ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨SHT30&#47;31æ•°å­—å¼€å…³ AM2302ç”µå­ç§¯æœ¨æ¨¡å—   <br><br>è¿™ä¸¤ä¸ªä¸çŸ¥ä¹°å“ªä¸ªå‹å·","like_count":0,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518773,"discussion_content":"é•¿é’ˆè„šçš„ç”µä½å™¨ã€‚DHT11ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621758044,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":288804,"user_name":"æ¨ç£Š","can_delete":false,"product_type":"c1","uid":1796475,"ip_address":"","ucode":"20FBF43491D80D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/qZ3bvj9j1KibcY7zkv2XS0gDF9oUrkx7zjucHCnIwCnBM6KYUBQUjyXAO3wkNlPiawTNVicKKwNjFkQxv0feHJUdQ/132","comment_is_top":false,"comment_ctime":1618703728,"is_pvip":false,"replies":[{"id":"106678","content":"ä»å“ªé‡Œè´­ä¹°çš„ï¼Ÿå¦‚æœæå®¢å•†åŸçš„è¯ï¼Œä½ éœ€è¦æ‰¾ä¸€ä¸‹å•†åŸçš„åŒå­¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1621757645,"ip_address":"","comment_id":288804,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1618703728","product_id":100063601,"comment_content":"è´­ä¹°çš„ç¡¬ä»¶ææ–™é‡Œæ²¡æœ‰çœ‹åˆ°Ledç¯å•Š","like_count":0,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518743,"discussion_content":"ä»å“ªé‡Œè´­ä¹°çš„ï¼Ÿå¦‚æœæå®¢å•†åŸçš„è¯ï¼Œä½ éœ€è¦æ‰¾ä¸€ä¸‹å•†åŸçš„åŒå­¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621757645,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1796475,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/qZ3bvj9j1KibcY7zkv2XS0gDF9oUrkx7zjucHCnIwCnBM6KYUBQUjyXAO3wkNlPiawTNVicKKwNjFkQxv0feHJUdQ/132","nickname":"æ¨ç£Š","note":"","ucode":"20FBF43491D80D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368650,"discussion_content":"å°±æ˜¯â€œRGBæ¨¡å—â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618793256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283424,"user_name":"InfoQ_Albert","can_delete":false,"product_type":"c1","uid":1290413,"ip_address":"","ucode":"B4C16362EDC7A9","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIVlib8n4JZhIomleMIyJTrbhn81kXG39DhJzrFMwmwxFsHCkicsC4CmY5Ft8icmzibWzmvibsDKDP3ORQ/132","comment_is_top":false,"comment_ctime":1615778314,"is_pvip":false,"replies":[{"id":"106667","content":"é˜¿é‡Œäº‘ç­‰éƒ½æœ‰ç±»ä¼¼çš„å¹³å°ï¼Œå¯ä»¥è‡ªå·±æ¢ç´¢ä¸€ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1621756565,"ip_address":"","comment_id":283424,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1615778314","product_id":100063601,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œç‰©è”ç½‘å¹³å°é™¤äº†è…¾è®¯äº‘ï¼Œè¿˜æœ‰å…¶å®ƒæ¨ä»‹çš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517037,"discussion_content":"é˜¿é‡Œäº‘ç­‰éƒ½æœ‰ç±»ä¼¼çš„å¹³å°ï¼Œå¯ä»¥è‡ªå·±æ¢ç´¢ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621756565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":282241,"user_name":"å¥”è·‘çš„å¤©è“è‰²èœ—ç‰›","can_delete":false,"product_type":"c1","uid":1142896,"ip_address":"","ucode":"2EB20C86A729E9","user_header":"https://static001.geekbang.org/account/avatar/00/11/70/70/381820ff.jpg","comment_is_top":false,"comment_ctime":1615172534,"is_pvip":false,"replies":[{"id":"106684","content":"ä½œä¸ºå…ƒæ•°æ®å¹³å°å°±å¯ä»¥è§£ææ•°æ®ï¼Œå¹¶ä¸”è®¾ç½®æŠ¥è­¦é˜ˆå€¼ï¼Œå’Œè…¾è®¯è¿è¿å°ç¨‹åºçš„è”åŠ¨éƒ½éœ€è¦è¿™ä¸ªç‰©æ¨¡å‹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1621758449,"ip_address":"","comment_id":282241,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1615172534","product_id":100063601,"comment_content":"ä¸ºä»€ä¹ˆéœ€è¦æŠŠç‰©æ¨¡å‹è®°å½•åœ¨è…¾è®¯äº‘ä¸­ï¼Œæ„Ÿè§‰åº”è¯¥ä¸æ˜¯æŠ€æœ¯ä¸Šå¿…è¦ï¼Œæ˜¯ä½œä¸ºå…ƒæ•°æ®æ–¹ä¾¿æŸ¥çœ‹å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516676,"discussion_content":"ä½œä¸ºå…ƒæ•°æ®å¹³å°å°±å¯ä»¥è§£ææ•°æ®ï¼Œå¹¶ä¸”è®¾ç½®æŠ¥è­¦é˜ˆå€¼ï¼Œå’Œè…¾è®¯è¿è¿å°ç¨‹åºçš„è”åŠ¨éƒ½éœ€è¦è¿™ä¸ªç‰©æ¨¡å‹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621758449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280654,"user_name":"å¤§ç‹å«æˆ‘æ¥å·¡å±±","can_delete":false,"product_type":"c1","uid":1323223,"ip_address":"","ucode":"DC23F4F0444F4F","user_header":"https://static001.geekbang.org/account/avatar/00/14/30/d7/4999e677.jpg","comment_is_top":false,"comment_ctime":1614305842,"is_pvip":false,"replies":[{"id":"102042","content":"ç½‘ç»œè¿è¥å•†ã€æœåŠ¡å™¨ã€è·¯ç”±å™¨ç­‰éƒ½æœ‰å¯èƒ½ã€‚è¿™ä¸ªMicroPythonå®˜æ–¹çš„umqttçš„åº“æ¯”è¾ƒç®€å•ï¼Œæ²¡æœ‰ä¸­æ–­çš„å¼‚å¸¸ä¸ŠæŠ¥ã€‚ä½ å¯ä»¥é€šè¿‡clientå®šæœŸå‘é€pingï¼ˆpingï¼ˆï¼‰å‡½æ•°ï¼‰ï¼Œç„¶åç›‘æµ‹æ¥æ”¶PINGRESPæ¶ˆæ¯æ¥åˆ¤æ–­æ˜¯å¦è¿æ¥æ­£å¸¸ã€‚è¿æ¥å¼‚å¸¸æ—¶è°ƒç”¨è¿æ¥å‡½æ•°ï¼Œæ¥é‡æ–°è¿æ¥brokerã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1614576677,"ip_address":"","comment_id":280654,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1614305842","product_id":100063601,"comment_content":"å¤§æ¦‚åœ¨ä¸€æ®µæ—¶é—´å, è…¾è®¯äº‘æœåŠ¡å™¨ä¼šè‡ªåŠ¨æ¥æ”¶åˆ°ä¸‹çº¿é€šçŸ¥????  æˆ‘çœ‹wifiè¿˜è¿ç€. è¿™ä¸ªå’Œæ‰€è°“çš„ç¡çœ æ¨¡å¼æœ‰å…³ç³»ä¹ˆ","like_count":0,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516168,"discussion_content":"ç½‘ç»œè¿è¥å•†ã€æœåŠ¡å™¨ã€è·¯ç”±å™¨ç­‰éƒ½æœ‰å¯èƒ½ã€‚è¿™ä¸ªMicroPythonå®˜æ–¹çš„umqttçš„åº“æ¯”è¾ƒç®€å•ï¼Œæ²¡æœ‰ä¸­æ–­çš„å¼‚å¸¸ä¸ŠæŠ¥ã€‚ä½ å¯ä»¥é€šè¿‡clientå®šæœŸå‘é€pingï¼ˆpingï¼ˆï¼‰å‡½æ•°ï¼‰ï¼Œç„¶åç›‘æµ‹æ¥æ”¶PINGRESPæ¶ˆæ¯æ¥åˆ¤æ–­æ˜¯å¦è¿æ¥æ­£å¸¸ã€‚è¿æ¥å¼‚å¸¸æ—¶è°ƒç”¨è¿æ¥å‡½æ•°ï¼Œæ¥é‡æ–°è¿æ¥brokerã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614576677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280629,"user_name":"å¤§ç‹å«æˆ‘æ¥å·¡å±±","can_delete":false,"product_type":"c1","uid":1323223,"ip_address":"","ucode":"DC23F4F0444F4F","user_header":"https://static001.geekbang.org/account/avatar/00/14/30/d7/4999e677.jpg","comment_is_top":false,"comment_ctime":1614299465,"is_pvip":false,"replies":[{"id":"102043","content":"å¯ä»¥è‡ªå®šä¹‰çš„","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1614576693,"ip_address":"","comment_id":280629,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1614299465","product_id":100063601,"comment_content":"Topicå¯ä»¥è‡ªå®šä¹‰ä¹ˆï¼Ÿè¿˜æ˜¯å¿…é¡»è¦åƒæ–‡ä¸­çš„è¿™ç§æ ¼å¼","like_count":0,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516157,"discussion_content":"å¯ä»¥è‡ªå®šä¹‰çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614576693,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":280568,"user_name":"å¤§ç‹å«æˆ‘æ¥å·¡å±±","can_delete":false,"product_type":"c1","uid":1323223,"ip_address":"","ucode":"DC23F4F0444F4F","user_header":"https://static001.geekbang.org/account/avatar/00/14/30/d7/4999e677.jpg","comment_is_top":false,"comment_ctime":1614249145,"is_pvip":false,"replies":[{"id":"102044","content":"ç”µè„‘ä¸Šå®‰è£…ä¸²å£è½¯ä»¶ï¼Œè¿æ¥nodemcuæ¥æŸ¥çœ‹","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1614576753,"ip_address":"","comment_id":280568,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1614249145","product_id":100063601,"comment_content":"è€å¸ˆ,main.pyçš„ä»£ç è¿è¡Œåœ¨nodemcu ä¸Šé¢ å¯æ˜¯è°ƒè¯•çš„print æ€ä¹ˆæŸ¥çœ‹äº†???","like_count":0,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516138,"discussion_content":"ç”µè„‘ä¸Šå®‰è£…ä¸²å£è½¯ä»¶ï¼Œè¿æ¥nodemcuæ¥æŸ¥çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614576753,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1323223,"avatar":"https://static001.geekbang.org/account/avatar/00/14/30/d7/4999e677.jpg","nickname":"å¤§ç‹å«æˆ‘æ¥å·¡å±±","note":"","ucode":"DC23F4F0444F4F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351488,"discussion_content":"ç”¨ç±»ä¼¼puttyè¿™ç±»è½¯ä»¶ ä¸²å£æ–¹å¼æŸ¥çœ‹\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614304730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":278572,"user_name":"roger","can_delete":false,"product_type":"c1","uid":1756787,"ip_address":"","ucode":"9D0D9336389926","user_header":"https://static001.geekbang.org/account/avatar/00/1a/ce/73/551f7b09.jpg","comment_is_top":false,"comment_ctime":1613089926,"is_pvip":true,"replies":[{"id":"102066","content":"å¦‚æœæ˜¯å•†åŸä¸­çš„ç»§ç”µå™¨ï¼Œ3.3vå¯ä»¥","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1614580294,"ip_address":"","comment_id":278572,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1613089926","product_id":100063601,"comment_content":"5vçš„ç»§ç”µå™¨ç”¨3.3vç”µå‹èƒ½é©±åŠ¨å—?æ„Ÿè§‰æˆ‘è¿™æœ‰ç‚¹é—®é¢˜","like_count":0,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515432,"discussion_content":"å¦‚æœæ˜¯å•†åŸä¸­çš„ç»§ç”µå™¨ï¼Œ3.3vå¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614580294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1756787,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/ce/73/551f7b09.jpg","nickname":"roger","note":"","ucode":"9D0D9336389926","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349580,"discussion_content":"ç»è¿‡æµ‹è¯•ï¼Œ3.3vçš„è¾“å‡ºç”µå‹ç¡®å®ä¸èƒ½é©±åŠ¨ç»§ç”µå™¨ã€‚æ¢äº†5 vç”µæºæˆåŠŸé©±åŠ¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613351962,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275233,"user_name":"Geek_7dd590","can_delete":false,"product_type":"c1","uid":2413319,"ip_address":"","ucode":"B70579B53EAEA5","user_header":"","comment_is_top":false,"comment_ctime":1611400781,"is_pvip":false,"replies":[{"id":"100777","content":"è¿›ç¾¤äº†å—ï¼Ÿç¾¤é‡Œæœ‰äººåˆ†äº«è¿‡","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1612588561,"ip_address":"","comment_id":275233,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1611400781","product_id":100063601,"comment_content":"è¿™ä¸ªç¡¬ä»¶ç”µè·¯æ­å»º  æœ‰æ²¡æœ‰å®ç‰©ç…§ç‰‡çš„ï¼Ÿå’Œä¹°çš„å¯èƒ½å¯¹ä¸ä¸Šä¹ˆ","like_count":0,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514273,"discussion_content":"è¿›ç¾¤äº†å—ï¼Ÿç¾¤é‡Œæœ‰äººåˆ†äº«è¿‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612588561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1796475,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/qZ3bvj9j1KibcY7zkv2XS0gDF9oUrkx7zjucHCnIwCnBM6KYUBQUjyXAO3wkNlPiawTNVicKKwNjFkQxv0feHJUdQ/132","nickname":"æ¨ç£Š","note":"","ucode":"20FBF43491D80D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":368645,"discussion_content":"æ€ä¹ˆè¿›ç¾¤ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618791010,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":270322,"user_name":"ç‹å®","can_delete":false,"product_type":"c1","uid":1048061,"ip_address":"","ucode":"4E6258270B7BE9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fd/fd/1e3d14ee.jpg","comment_is_top":false,"comment_ctime":1609066126,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1609066126","product_id":100063601,"comment_content":"wifiè¿æ¥ç¨‹åºè¿æ¥æˆåŠŸäº†ã€‚<br>é€šè¿‡å°ç¨‹åºä¹Ÿå¯ä»¥æ­£å¸¸ä¸‹å‘æŒ‡ä»¤ï¼Œä½†æ˜¯æ„Ÿè§‰çº¿è·¯ç»„è£…çš„æœ‰é—®é¢˜ã€‚<br>æœ‰æ— åŒå­¦å‘ä¸‹ç»„è£…çš„å™¨ä»¶å›¾ï¼Ÿ","like_count":0},{"had_liked":false,"id":269818,"user_name":"é’æœ¨","can_delete":false,"product_type":"c1","uid":1150696,"ip_address":"","ucode":"2B566ABDAD1339","user_header":"https://static001.geekbang.org/account/avatar/00/11/8e/e8/f1e12f2e.jpg","comment_is_top":false,"comment_ctime":1608795501,"is_pvip":false,"replies":[{"id":"99271","content":"æŒ‘æˆ˜ä¸€ä¸‹è‡ªå·±å®ç°<br>","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1610807908,"ip_address":"","comment_id":269818,"utype":1}],"discussion_count":6,"race_medal":0,"score":"1608795501","product_id":100063601,"comment_content":"è¿è¡Œä»£ç æç¤º ImportError: no module named &#39;Button&#39; ï¼ŒButton.py æ¨¡å—çš„ä»£ç æœ‰çŸ¥é“çš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512405,"discussion_content":"æŒ‘æˆ˜ä¸€ä¸‹è‡ªå·±å®ç°\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610807908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005944,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/78/4f384f93.jpg","nickname":"é¾™","note":"","ucode":"B353E8002D2BF3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337411,"discussion_content":"from machine import Pin\n\nclass Button():\n\n    def __init__(self, pin):\n        self.buttonpin = Pin(pin, Pin.IN)\n        self.last_status = 1\n\n    def state(self):\n        return self.last_status","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1608896812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1150696,"avatar":"https://static001.geekbang.org/account/avatar/00/11/8e/e8/f1e12f2e.jpg","nickname":"é’æœ¨","note":"","ucode":"2B566ABDAD1339","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1005944,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/78/4f384f93.jpg","nickname":"é¾™","note":"","ucode":"B353E8002D2BF3","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337468,"discussion_content":"è°¢è°¢ï¼ç°åœ¨å¯ä»¥é€šè¿‡è…¾è®¯è¿è¿æ§åˆ¶ç¯å¯å…³äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608912264,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":337411,"ip_address":""},"score":337468,"extra":""},{"author":{"id":2302376,"avatar":"https://static001.geekbang.org/account/avatar/00/23/21/a8/8ac2ccb3.jpg","nickname":"é£ffff","note":"","ucode":"5422485EA3265F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1150696,"avatar":"https://static001.geekbang.org/account/avatar/00/11/8e/e8/f1e12f2e.jpg","nickname":"é’æœ¨","note":"","ucode":"2B566ABDAD1339","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340756,"discussion_content":"å…„å¼Ÿèƒ½æŠŠä½ ç»„è£…çš„é›¶ä»¶ç»™æˆ‘çœ‹çœ‹å˜› ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610119575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":337468,"ip_address":""},"score":340756,"extra":""},{"author":{"id":1150696,"avatar":"https://static001.geekbang.org/account/avatar/00/11/8e/e8/f1e12f2e.jpg","nickname":"é’æœ¨","note":"","ucode":"2B566ABDAD1339","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2302376,"avatar":"https://static001.geekbang.org/account/avatar/00/23/21/a8/8ac2ccb3.jpg","nickname":"é£ffff","note":"","ucode":"5422485EA3265F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340883,"discussion_content":"é¢åŒ…æ¿ä¸Šçš„ç”µè·¯æ—©æ‹†äº†ï¼Œä½ æŒ‰ç€è€å¸ˆé‚£å¼ ç”µè·¯å›¾çš„å…³é”®ä¿¡æ¯ç¡®å®šé›¶ä»¶éƒ½æ˜¯å“ªäº›ï¼Œåœ¨å¯¹ç…§çº¿è·¯å¸ƒçº¿å°±è¡Œã€‚æ³¨ï¼š1. ç»§ç”µå™¨éœ€è¦å¯å­æ¾ç´§è·³çº¿ï¼›2. è·³çº¿çš„é¢œè‰²ä¸éœ€è¦å’Œè€å¸ˆçš„ä¸€è‡´ï¼Œè·³çº¿é¢œè‰²åªæ˜¯åŒºåˆ†ç”µè·¯è€Œå·²ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610191208,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":340756,"ip_address":""},"score":340883,"extra":""}]},{"author":{"id":1005944,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/59/78/4f384f93.jpg","nickname":"é¾™","note":"","ucode":"B353E8002D2BF3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337335,"discussion_content":"Button.pyæœ€åæ‰¾åˆ°å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608878057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":268861,"user_name":"å­™å®‡ç¿”","can_delete":false,"product_type":"c1","uid":1944746,"ip_address":"","ucode":"A10DC9018CCCC0","user_header":"https://static001.geekbang.org/account/avatar/00/1d/ac/aa/2f117918.jpg","comment_is_top":false,"comment_ctime":1608376967,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608376967","product_id":100063601,"comment_content":"çœ‹åˆ°æœ€åçš„æ€è€ƒé¢˜ï¼Œæ‰è±ç„¶å¼€æœ—ï¼ŒButtonç±»å°±æ˜¯ç›‘æ§å®ä½“å¼€å…³çš„çŠ¶æ€ï¼Œå¦‚æœçŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œå°±æ”¹å˜ç»§ç”µå™¨çš„å¼€å…³çŠ¶æ€ï¼Œæ¥å®ç°å®ä½“å¼€å…³å¯¹ç¯çš„æ§åˆ¶ã€‚ä½†è¿™æ ·çš„è¯ï¼Œæ„Ÿè§‰æŠŠæ§åˆ¶æƒéƒ½æ”¾åˆ°äº†esp8266ä¸Šäº†ï¼Œä¸‡ä¸€æ¨¡å—åäº†ï¼Œç¯å°±æ²¡æ³•æ§åˆ¶äº†ï¼Œæ˜¯å¦åº”è¯¥å†åšä¸€è·¯æ¨¡æ‹Ÿç”µè·¯å¤‡ç”¨ã€‚","like_count":0},{"had_liked":false,"id":268739,"user_name":"å¾·æ…¢æ…¢","can_delete":false,"product_type":"c1","uid":2049906,"ip_address":"","ucode":"F79F4C1A2C9EFA","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epa9fhIhtLUNkCqR9dxZTUolBLs40YiawZ4TUtvTG90HR0OyXzwU7icjyDiaF4FZOicyzRV1bGAylhs2A/132","comment_is_top":false,"comment_ctime":1608336289,"is_pvip":false,"replies":[{"id":"99470","content":"è®¾å¤‡è®¢é˜…çš„ä¸»é¢˜æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ­æœæ–Œ","uid":"2302171","ctime":1610863955,"ip_address":"","comment_id":268739,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1608336289","product_id":100063601,"comment_content":"topicæ˜¯è®¾å¤‡id+ç”¨æˆ·å+å¯†ç å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2302171,"avatar":"https://static001.geekbang.org/account/avatar/00/23/20/db/b04f43dc.jpg","nickname":"éƒ­æœæ–Œ","note":"","ucode":"2969986E1B3851","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512021,"discussion_content":"è®¾å¤‡è®¢é˜…çš„ä¸»é¢˜æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610863955,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":223962,"title":"导读 | 构建Kafka工程和源码阅读环境、Scala语言热身","content":"<p>你好，我是胡夕。</p><p>从今天开始，我们就要正式走入Kafka源码的世界了。既然咱们这个课程是教你阅读Kafka源码的，那么，你首先就得掌握如何在自己的电脑上搭建Kafka的源码环境，甚至是知道怎么对它们进行调试。在这节课，我展示了很多实操步骤，建议你都跟着操作一遍，否则很难会有特别深刻的认识。</p><p>话不多说，现在，我们就先来搭建源码环境吧。</p><h2>环境准备</h2><p>在阅读Kafka源码之前，我们要先做一些必要的准备工作。这涉及到一些工具软件的安装，比如Java、Gradle、Scala、IDE、Git，等等。</p><p>如果你是在Linux或Mac系统下搭建环境，你需要安装Java、IDE和Git；如果你使用的是Windows，那么你需要全部安装它们。</p><p>咱们这个课程统一使用下面的版本进行源码讲解。</p><ul>\n<li>Oracle Java 8：我们使用的是Oracle的JDK及Hotspot JVM。如果你青睐于其他厂商或开源的Java版本（比如OpenJDK），你可以选择安装不同厂商的JVM版本。</li>\n<li>Gradle 6.3：我在这门课里带你阅读的Kafka源码是社区的Trunk分支。Trunk分支目前演进到了2.5版本，已经支持Gradle 6.x版本。你最好安装Gradle 6.3或更高版本。</li>\n<li>Scala 2.13：社区Trunk分支编译当前支持两个Scala版本，分别是2.12和2.13。默认使用2.13进行编译，因此我推荐你安装Scala 2.13版本。</li>\n<li>IDEA + Scala插件：这门课使用IDEA作为IDE来阅读和配置源码。我对Eclipse充满敬意，只是我个人比较习惯使用IDEA。另外，你需要为IDEA安装Scala插件，这样可以方便你阅读Scala源码。</li>\n<li>Git：安装Git主要是为了管理Kafka源码版本。如果你要成为一名社区代码贡献者，Git管理工具是必不可少的。</li>\n</ul><!-- [[[read_end]]] --><h2>构建Kafka工程</h2><p>等你准备好以上这些之后，我们就可以来构建Kafka工程了。</p><p>首先，我们下载Kafka源代码。方法很简单，找一个干净的源码路径，然后执行下列命令去下载社区的Trunk代码即可：</p><pre><code>$ git clone https://github.com/apache/kafka.git\n</code></pre><p>在漫长的等待之后，你的路径上会新增一个名为kafka的子目录，它就是Kafka项目的根目录。如果在你的环境中，上面这条命令无法执行的话，你可以在浏览器中输入<a href=\"https://codeload.github.com/apache/kafka/zip/trunk\">https://codeload.github.com/apache/kafka/zip/trunk</a>下载源码ZIP包并解压，只是这样你就失去了Git管理，你要手动链接到远程仓库，具体方法可以参考这篇<a href=\"https://help.github.com/articles/fork-a-repo/\">Git文档</a>。</p><p>下载完成后，你要进入工程所在的路径下，也就是进入到名为kafka的路径下，然后执行相应的命令来构建Kafka工程。</p><p>如果你是在Mac或Linux平台上搭建环境，那么直接运行下列命令构建即可：</p><pre><code>$ ./gradlew build\n</code></pre><p>该命令首先下载Gradle Wrapper所需的jar文件，然后对Kafka工程进行构建。需要注意的是，在执行这条命令时，你很可能会遇到下面的这个异常：</p><pre><code>Failed to connect to raw.githubusercontent.com port 443: Connection refused\n</code></pre><p>如果碰到了这个异常，你也不用惊慌，你可以去这个<a href=\"https://raw.githubusercontent.com/gradle/gradle/v6.3.0/gradle/wrapper/gradle-wrapper.jar\">官网链接</a>或者是我提供的<a href=\"https://pan.baidu.com/s/1tuVHunoTwHfbtoqMvoTNoQ\">链接</a>（提取码：ntvd）直接下载Wrapper所需的Jar包，手动把这个Jar文件拷贝到kafka路径下的gradle/wrapper子目录下，然后重新执行gradlew build命令去构建工程。</p><p>我想提醒你的是，官网链接包含的版本号是v6.3.0，但是该版本后续可能会变化，因此，你最好先打开gradlew文件，去看一下社区使用的是哪个版本的Gradle。<strong>一旦你发现版本不再是v6.3.0了，那就不要再使用我提供的链接了。这个时候，你需要直接去官网下载对应版本的Jar包</strong>。</p><p>举个例子，假设gradlew文件中使用的Gradle版本变更为v6.4.0，那么你需要把官网链接URL中的版本号修改为v6.4.0，然后去下载这个版本的Wrapper Jar包。</p><p>如果你是在Windows平台上构建，那你就不能使用Gradle Wrapper了，因为Kafka没有提供Windows平台上可运行的Wrapper Bat文件。这个时候，你只能使用你自己的环境中自行安装的Gradle。具体命令是：</p><pre><code>kafka&gt; gradle.bat build\n</code></pre><p>无论是gradle.bat build命令，还是gradlew build命令，首次运行时都要花费相当长的时间去下载必要的Jar包，你要耐心地等待。</p><p>下面，我用一张图给你展示下Kafka工程的各个目录以及文件：</p><p><img src=\"https://static001.geekbang.org/resource/image/a2/f7/a2ef664cd8d5494f55919643df1305f7.png?wh=940*770\" alt=\"\"></p><p>这里我再简单介绍一些主要的组件路径。</p><ul>\n<li><strong>bin目录</strong>：保存Kafka工具行脚本，我们熟知的kafka-server-start和kafka-console-producer等脚本都存放在这里。</li>\n<li><strong>clients目录</strong>：保存Kafka客户端代码，比如生产者和消费者的代码都在该目录下。</li>\n<li><strong>config目录</strong>：保存Kafka的配置文件，其中比较重要的配置文件是server.properties。</li>\n<li><strong>connect目录</strong>：保存Connect组件的源代码。我在开篇词里提到过，Kafka Connect组件是用来实现Kafka与外部系统之间的实时数据传输的。</li>\n<li><strong>core目录</strong>：保存Broker端代码。Kafka服务器端代码全部保存在该目录下。</li>\n<li><strong>streams目录</strong>：保存Streams组件的源代码。Kafka Streams是实现Kafka实时流处理的组件。</li>\n</ul><p>其他的目录要么不太重要，要么和配置相关，这里我就不展开讲了。</p><p>除了上面的gradlew build命令之外，我再介绍一些常用的构建命令，帮助你调试Kafka工程。</p><p>我们先看一下测试相关的命令。Kafka源代码分为4大部分：Broker端代码、Clients端代码、Connect端代码和Streams端代码。如果你想要测试这4个部分的代码，可以分别运行以下4条命令：</p><pre><code>$ ./gradlew core:test\n$ ./gradlew clients:test\n$ ./gradlew connect:[submodule]:test\n$ ./gradlew streams:test\n</code></pre><p>你可能注意到了，在这4条命令中，Connect组件的测试方法不太一样。这是因为Connect工程下细分了多个子模块，比如api、runtime等，所以，你需要显式地指定要测试的子模块名，才能进行测试。</p><p>如果你要单独对某一个具体的测试用例进行测试，比如单独测试Broker端core包的LogTest类，可以用下面的命令：</p><pre><code>$ ./gradlew core:test --tests kafka.log.LogTest\n</code></pre><p>另外，如果你要构建整个Kafka工程并打包出一个可运行的二进制环境，就需要运行下面的命令：</p><pre><code>$ ./gradlew clean releaseTarGz\n</code></pre><p>成功运行后，core、clients和streams目录下就会分别生成对应的二进制发布包，它们分别是：</p><ul>\n<li><strong>kafka-2.12-2.5.0-SNAPSHOT.tgz</strong>。它是Kafka的Broker端发布包，把该文件解压之后就是标准的Kafka运行环境。该文件位于core路径的/build/distributions目录。</li>\n<li><strong>kafka-clients-2.5.0-SNAPSHOT.jar</strong>。该Jar包是Clients端代码编译打包之后的二进制发布包。该文件位于clients目录下的/build/libs目录。</li>\n<li><strong>kafka-streams-2.5.0-SNAPSHOT.jar</strong>。该Jar包是Streams端代码编译打包之后的二进制发布包。该文件位于streams目录下的/build/libs目录。</li>\n</ul><h2>搭建源码阅读环境</h2><p>刚刚我介绍了如何使用Gradle工具来构建Kafka项目工程，现在我来带你看一下如何利用IDEA搭建Kafka源码阅读环境。实际上，整个过程非常简单。我们打开IDEA，点击“文件”，随后点击“打开”，选择上一步中的Kafka文件路径即可。</p><p>项目工程被导入之后，IDEA会对项目进行自动构建，等构建完成之后，你可以找到core目录源码下的Kafka.scala文件。打开它，然后右键点击Kafka，你应该就能看到这样的输出结果了：</p><p><img src=\"https://static001.geekbang.org/resource/image/ce/d2/ce0a63e7627c641da471b48a62860ad2.png?wh=933*372\" alt=\"\"></p><p>这就是无参执行Kafka主文件的运行结果。通过这段输出，我们能够学会启动Broker所必需的参数，即指定server.properties文件的地址。这也是启动Kafka Broker的标准命令。</p><p>在开篇词中我也说了，这个课程会聚焦于讲解Kafka Broker端源代码。因此，在正式学习这部分源码之前，我先给你简单介绍一下Broker端源码的组织架构。下图展示了Kafka core包的代码架构：</p><p><img src=\"https://static001.geekbang.org/resource/image/df/b2/dfdd73cc95ecc5390ebeb73c324437b2.png?wh=940*844\" alt=\"\"></p><p>我来给你解释几个比较关键的代码包。</p><ul>\n<li>controller包：保存了Kafka控制器（Controller）代码，而控制器组件是Kafka的核心组件，后面我们会针对这个包的代码进行详细分析。</li>\n<li>coordinator包：保存了<strong>消费者端的GroupCoordinator代码</strong>和<strong>用于事务的TransactionCoordinator代码</strong>。对coordinator包进行分析，特别是对消费者端的GroupCoordinator代码进行分析，是我们弄明白Broker端协调者组件设计原理的关键。</li>\n<li>log包：保存了Kafka最核心的日志结构代码，包括日志、日志段、索引文件等，后面会有详细介绍。另外，该包下还封装了Log Compaction的实现机制，是非常重要的源码包。</li>\n<li>network包：封装了Kafka服务器端网络层的代码，特别是SocketServer.scala这个文件，是Kafka实现Reactor模式的具体操作类，非常值得一读。</li>\n<li>server包：顾名思义，它是Kafka的服务器端主代码，里面的类非常多，很多关键的Kafka组件都存放在这里，比如后面要讲到的状态机、Purgatory延时机制等。</li>\n</ul><p>在后续的课程中，我会挑选Kafka最主要的代码类进行详细分析，帮助你深入了解Kafka Broker端重要组件的实现原理。</p><p>另外，虽然这门课不会涵盖测试用例的代码分析，但在我看来，<strong>弄懂测试用例是帮助你快速了解Kafka组件的最有效的捷径之一</strong>。如果时间允许的话，我建议你多读一读Kafka各个组件下的测试用例，它们通常都位于代码包的src/test目录下。拿Kafka日志源码Log来说，它对应的LogTest.scala测试文件就写得非常完备，里面多达几十个测试用例，涵盖了Log的方方面面，你一定要读一下。</p><h2>Scala 语言热身</h2><p>因为Broker端的源码完全是基于Scala的，所以在开始阅读这部分源码之前，我还想花一点时间快速介绍一下 Scala 语言的语法特点。我先拿几个真实的 Kafka 源码片段来帮你热热身。</p><p>先来看第一个：</p><pre><code>def sizeInBytes(segments: Iterable[LogSegment]): Long =\n    segments.map(_.size.toLong).sum\n</code></pre><p>这是一个典型的 Scala 方法，方法名是 sizeInBytes。它接收一组 LogSegment 对象，返回一个长整型。LogSegment 对象就是我们后面要谈到的日志段。你在 Kafka 分区目录下看到的每一个.log 文件本质上就是一个 LogSegment。从名字上来看，这个方法计算的是这组 LogSegment 的总字节数。具体方法是遍历每个输入 LogSegment，调用其 size 方法并将其累加求和之后返回。</p><p>再来看一个：</p><pre><code>val firstOffset: Option[Long] = ......\n\ndef numMessages: Long = {\n    firstOffset match {\n      case Some(firstOffsetVal) if (firstOffsetVal &gt;= 0 &amp;&amp; lastOffset &gt;= 0) =&gt; (lastOffset - firstOffsetVal + 1)\n      case _ =&gt; 0\n    }\n  }\n</code></pre><p>该方法是 LogAppendInfo 对象的一个方法，统计的是 Broker 端一次性批量写入的消息数。这里你需要重点关注 <strong>match</strong> 和 <strong>case</strong>  这两个关键字，你可以近似地认为它们等同于 Java 中的 switch，但它们的功能要强大得多。该方法统计写入消息数的逻辑是：如果 firstOffsetVal 和 lastOffset 值都大于 0，则写入消息数等于两者的差值+1；如果不存在 firstOffsetVal，则无法统计写入消息数，简单返回 0 即可。</p><p>倘若对你而言，弄懂上面这两段代码有些吃力，我建议你去快速地学习一下Scala语言。重点学什么呢？我建议你重点学习下Scala中对于<strong>集合的遍历语法</strong>，以及<strong>基于match的模式匹配用法</strong>。</p><p>另外，由于Scala具有的函数式编程风格，你至少<strong>要理解Java中Lambda表达式的含义</strong>，这会在很大程度上帮你扫清阅读障碍。</p><p>相反地，如果上面的代码对你来讲很容易理解，那么，读懂Broker端80%的源码应该没有什么问题。你可能还会关心，剩下的那晦涩难懂的20%源码怎么办呢？其实没关系，你可以等慢慢精通了Scala语言之后再进行阅读，它们不会对你熟练掌握核心源码造成影响的。另外，后面涉及到比较难的Scala语法特性时，我还会再具体给你解释的，所以，还是那句话，你完全不用担心语言的问题！</p><h2>总结</h2><p>今天是我们开启Kafka源码分析的“热身课”，我给出了构建Kafka工程以及搭建Kafka源码阅读环境的具体方法。我建议你对照上面的内容完整地走一遍流程，亲身体会一下Kafka工程的构建与源码工程的导入。毕竟，这些都是后面阅读具体Kafka代码的前提条件。</p><p>最后我想再强调一下，阅读任何一个大型项目的源码都不是一件容易的事情，我希望你在任何时候都不要轻言放弃。很多时候，碰到读不懂的代码你就多读几遍，也许稍后就会有醍醐灌顶的感觉。</p><h2>课后讨论</h2><p>熟悉Kafka的话，你一定听说过kafka-console-producer.sh脚本。我前面提到过，该脚本位于工程的bin目录下，你能找到它对应的Java类是哪个文件吗？这个搜索过程能够给你一些寻找Kafka所需类文件的好思路，你不妨去试试看。</p><p>欢迎你在留言区畅所欲言，跟我交流讨论，也欢迎你把文章分享给你的朋友。</p>","neighbors":{"left":{"article_title":"开篇词 |  阅读源码，逐渐成了职业进阶道路上的“必选项”","id":222935},"right":{"article_title":"重磅加餐 | 带你快速入门Scala语言","id":230848}},"comments":[{"had_liked":false,"id":210939,"user_name":"胡夕","can_delete":false,"product_type":"c1","uid":1288090,"ip_address":"","ucode":"5709A689B6683B","user_header":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","comment_is_top":true,"comment_ctime":1587867610,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"9.2233720899823002e+18","product_id":100050101,"comment_content":"你好，我是胡夕。<br><br>我最近看到了一些在搭建环境时经常遇到的问题，根据这些问题，我丰富了一下这节课的部分内容，并且针对可能会遇到的一些异常，补充了解决方案，希望可以解决你的问题。如果还有其他问题，欢迎留言，我会尽快给你解答～","like_count":12,"discussions":[{"author":{"id":1051563,"avatar":"https://static001.geekbang.org/account/avatar/00/10/0b/ab/0e2857e5.jpg","nickname":"Coding小先","note":"","ucode":"965B1CC757E026","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332980,"discussion_content":"废了一大中午，总算解决了。晚上弄个文档记录一下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607407374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1051563,"avatar":"https://static001.geekbang.org/account/avatar/00/10/0b/ab/0e2857e5.jpg","nickname":"Coding小先","note":"","ucode":"965B1CC757E026","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332939,"discussion_content":"比如时候我刚才运行的时候，忘记启动 ZK 了，但不管是什么错误，都只输出了这个Execution failed for task &#39;:core:Kafka.main()，完全不知道是因为什么原因导致的报错。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607398988,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1051563,"avatar":"https://static001.geekbang.org/account/avatar/00/10/0b/ab/0e2857e5.jpg","nickname":"Coding小先","note":"","ucode":"965B1CC757E026","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332901,"discussion_content":"这个SLF4J: Failed to load class &#34;org.slf4j.impl.StaticLoggerBinder&#34;. 应该不是日志完全没有输出的原因，应该是 log4j.properties 文件没有找到，然后不会输出","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607391283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1051563,"avatar":"https://static001.geekbang.org/account/avatar/00/10/0b/ab/0e2857e5.jpg","nickname":"Coding小先","note":"","ucode":"965B1CC757E026","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332899,"discussion_content":"老师，可以说一下 SLF4J: Failed to load class &#34;org.slf4j.impl.StaticLoggerBinder&#34;. 怎么解决吗？\n\n情况已经成功运行了，可以 producer，consumer 可以连上了，但问题除了一开始的 slef4j 的红色警告外，其他日志完全没有输出，刚开始的时候完全不知道哪里错了，费了一大番功夫才运行起来","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607390718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206720,"user_name":"小文同学","can_delete":false,"product_type":"c1","uid":1001893,"ip_address":"","ucode":"48F2AEB989C12A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","comment_is_top":false,"comment_ctime":1586921125,"is_pvip":false,"replies":[{"id":"77330","content":"厉害！很棒的总结~","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587003815,"ip_address":"","comment_id":206720,"utype":1}],"discussion_count":2,"race_medal":0,"score":"66011430565","product_id":100050101,"comment_content":"我自己在拉取 github kafka 项目的时候遇到超时的问题。通过 码云 做中介完成了快速拉取，步骤写在了博客里了。<br>https:&#47;&#47;juejin.im&#47;post&#47;5e954374e51d4546f03d9a27","like_count":15,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491877,"discussion_content":"厉害！很棒的总结~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587003815,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1231549,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ca/bd/a51ae4b2.jpg","nickname":"吃饭饭","note":"","ucode":"95CFA07CDA2957","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236648,"discussion_content":"666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587112591,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207281,"user_name":"高舒扬","can_delete":false,"product_type":"c1","uid":1441884,"ip_address":"","ucode":"55A976C8DA8D7C","user_header":"https://static001.geekbang.org/account/avatar/00/16/00/5c/9cb1792d.jpg","comment_is_top":false,"comment_ctime":1587041107,"is_pvip":false,"replies":[{"id":"77463","content":"我的一个建议是：不要认为能把每行代码加上注释就表示自己已经懂了。明白源码的2个标志是：1. 能够自行调试源码；2. 能够在源码上独立编写高阶功能。","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587088999,"ip_address":"","comment_id":207281,"utype":1}],"discussion_count":1,"race_medal":0,"score":"48831681363","product_id":100050101,"comment_content":"老师，您好。之前也看过很多项目的源码，一直比较困惑的怎么构建自己的代码阅读笔记系统。总感觉读懂了，但不能很好的把读代码的结果记录下来。不知道老师在这方面有什么好的建议吗？","like_count":11,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492072,"discussion_content":"我的一个建议是：不要认为能把每行代码加上注释就表示自己已经懂了。明白源码的2个标志是：1. 能够自行调试源码；2. 能够在源码上独立编写高阶功能。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1587088999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206108,"user_name":"东风第一枝","can_delete":false,"product_type":"c1","uid":1402697,"ip_address":"","ucode":"0CD0F62E90DAD8","user_header":"https://static001.geekbang.org/account/avatar/00/15/67/49/864dba17.jpg","comment_is_top":false,"comment_ctime":1586787815,"is_pvip":false,"replies":[{"id":"76998","content":"Bingo！","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1586828783,"ip_address":"","comment_id":206108,"utype":1}],"discussion_count":3,"race_medal":0,"score":"40241493479","product_id":100050101,"comment_content":"该脚本有一行代码：<br>exec $(dirname $0)&#47;kafka-run-class.sh kafka.tools.ConsoleProducer &quot;$@&quot;<br>可以看到，调用了kafka-run-class.sh，看脚本的名字，应该就是用来执行kafka某个类的，并且传入了kafka.tools.ConsoleProducer这个参数<br>所以，对应的Java类是kafka.tools.ConsoleProducer","like_count":9,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491674,"discussion_content":"Bingo！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586828783,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1147979,"avatar":"https://static001.geekbang.org/account/avatar/00/11/84/4b/e4738ba8.jpg","nickname":"delete is create","note":"","ucode":"A8C751219A7746","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":232568,"discussion_content":"那是scala啊  不是Java吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586872578,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1179580,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ff/bc/368b9f80.jpg","nickname":"灰机","note":"","ucode":"46F6CFC2DFAA2B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1147979,"avatar":"https://static001.geekbang.org/account/avatar/00/11/84/4b/e4738ba8.jpg","nickname":"delete is create","note":"","ucode":"A8C751219A7746","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":236014,"discussion_content":"其实是一个玩意~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587052074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":232568,"ip_address":""},"score":236014,"extra":""}]}]},{"had_liked":false,"id":207691,"user_name":"灰机","can_delete":false,"product_type":"c1","uid":1179580,"ip_address":"","ucode":"46F6CFC2DFAA2B","user_header":"https://static001.geekbang.org/account/avatar/00/11/ff/bc/368b9f80.jpg","comment_is_top":false,"comment_ctime":1587138034,"is_pvip":false,"replies":[{"id":"77810","content":"我的环境上，jdk版本是build 1.8.0_181-b13，Scala版本是2.12.11，Kafka gradle wrapper用的Gradle版本是5.6.2","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587345894,"ip_address":"","comment_id":207691,"utype":1}],"discussion_count":5,"race_medal":0,"score":"18767007218","product_id":100050101,"comment_content":"胡老师您好， 我看您是mac运行的kafka，方便配置上您的gradle 版本 jdk版本 scala版本么？ 我在用mac执行kafka 的时候 发现Execution failed for task &#39;:core:Kafka.main()&#39;.<br>&gt; Process &#39;command &#39;&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.8.0_221.jdk&#47;Contents&#47;Home&#47;bin&#47;java&#39;&#39; finished with non-zero exit value 1  换了很多个版本都可以  windows已经成功执行，但是mac就是死活无法执行 。","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492209,"discussion_content":"我的环境上，jdk版本是build 1.8.0_181-b13，Scala版本是2.12.11，Kafka gradle wrapper用的Gradle版本是5.6.2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587345894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1793038,"avatar":"","nickname":"Geek_47baf9","note":"","ucode":"DCF187338050DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393709,"discussion_content":"我Windows也遇到了这个问题，大家都是怎么解决的呀","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631577194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1125656,"avatar":"https://static001.geekbang.org/account/avatar/00/11/2d/18/918eaecf.jpg","nickname":"后端进阶","note":"","ucode":"480F48F5378307","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307405,"discussion_content":"同遇到这个问题，白天再搞吧，本地debug还是很有必要的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600623519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1179580,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ff/bc/368b9f80.jpg","nickname":"灰机","note":"","ucode":"46F6CFC2DFAA2B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":241194,"discussion_content":"windows会正常结束呀。。 我window通过了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587395901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1396865,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/81/e9c5a274.jpg","nickname":"huldar","note":"","ucode":"4B2C41B3A6B824","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":239183,"discussion_content":"我也遇到了这个问题,不过我是在window环境遇到的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587282450,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206193,"user_name":"Geek_58afe9","can_delete":false,"product_type":"c1","uid":1952130,"ip_address":"","ucode":"89E97976EC2DF3","user_header":"","comment_is_top":false,"comment_ctime":1586822071,"is_pvip":false,"replies":[{"id":"77003","content":"嗯嗯，我们这次选用trunk分支。Kafka社区里面主干分支叫trunk","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1586828900,"ip_address":"","comment_id":206193,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18766691255","product_id":100050101,"comment_content":"是看master分支吗？","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491706,"discussion_content":"嗯嗯，我们这次选用trunk分支。Kafka社区里面主干分支叫trunk","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586828900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1058231,"avatar":"https://static001.geekbang.org/account/avatar/00/10/25/b7/c90b315b.jpg","nickname":"羊八井","note":"","ucode":"72731AC6ECCFA1","race_medal":3,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299085,"discussion_content":"2.6 发布了，应该考虑用 2.5 这个固定分支。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597558867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230370,"user_name":"懂码哥(GerryWen)","can_delete":false,"product_type":"c1","uid":2049910,"ip_address":"","ucode":"55CD1C9AAD87CD","user_header":"","comment_is_top":false,"comment_ctime":1593356147,"is_pvip":false,"replies":[{"id":"85029","content":"强","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1593388368,"ip_address":"","comment_id":230370,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14478258035","product_id":100050101,"comment_content":"2020-06-28 拉取trunk代码，gradle版本号6.5.0 Scala版本号2.13.3 <br>版本必须匹配一致，不然 .&#47;gradlew build 会报错。<br>最新推荐 .&#47;gradlew jar","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499855,"discussion_content":"强","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593388368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1125656,"avatar":"https://static001.geekbang.org/account/avatar/00/11/2d/18/918eaecf.jpg","nickname":"后端进阶","note":"","ucode":"480F48F5378307","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307344,"discussion_content":"网上随便拉一个gradle的项目，本地编译十有八九是失败的，构建成功就是一件很玄学的事情。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600606563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297092,"user_name":"Geek_904551","can_delete":false,"product_type":"c1","uid":2309076,"ip_address":"","ucode":"8AE24B32FBCD24","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/hvb2KFTy9wdlpTA5dPVPyow44pDtAFH3abXphxktutTlpe2yveiaTqicz68icsUXkZGTjQnQ5zjX6ZQSRn5C6OicaA/132","comment_is_top":false,"comment_ctime":1623306798,"is_pvip":false,"replies":[{"id":"108493","content":"嗯嗯，很好的建议。使用trunk的初衷是在短短出课程的这段时间，trunk也不太可能有太大的修改。让大家使用trunk就会有每天更新的感觉，有真实参与到社区的感觉。这点比弄懂源码本身要重要得多","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1624497755,"ip_address":"","comment_id":297092,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10213241390","product_id":100050101,"comment_content":"很困惑 为什么不拉取某一个固定版本的代码，而是去拉trunk，trunk随时更新，后面的人看到的代码和你讲解的代码到时候出入又会很大。看了一下本文也没有标识到底用的哪个kafka版本。还望作者能给出到底是基于哪个kafka版本进行的分析！我觉得这点很重要","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521713,"discussion_content":"嗯嗯，很好的建议。使用trunk的初衷是在短短出课程的这段时间，trunk也不太可能有太大的修改。让大家使用trunk就会有每天更新的感觉，有真实参与到社区的感觉。这点比弄懂源码本身要重要得多","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624497755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1033425,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c4/d1/209abdd6.jpg","nickname":"小狼","note":"","ucode":"FEAC7864FC1D20","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588442,"discussion_content":"我觉得评论得很中肯，至少基于某个最新的 tag 版做介绍，会好很多，代码稳定","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663761896,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"浙江"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":259946,"user_name":"珍妮•玛仕多","can_delete":false,"product_type":"c1","uid":1806720,"ip_address":"","ucode":"6E1E5564F979B3","user_header":"https://static001.geekbang.org/account/avatar/00/1b/91/80/bc38f890.jpg","comment_is_top":false,"comment_ctime":1604893714,"is_pvip":true,"replies":[{"id":"94912","content":"这是因为不加参数启动Kafka，返回值不是0，IDE视为有问题。其实已经打印出了Kafka的帮助提示信息：<br><br>“Print version information and exit.”<br>","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1605423688,"ip_address":"","comment_id":259946,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5899861010","product_id":100050101,"comment_content":"胡老师你好，我build中只有9个test用例build失败，在启动kafka.main时报错如下<br><br>2020-11-09T11:42:21.964+0800 [ERROR] [system.err]                        server.properties file                            <br>2020-11-09T11:42:21.964+0800 [ERROR] [system.err] --version            Print version information and exit.                 <br>2020-11-09T11:42:21.998+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] <br>2020-11-09T11:42:21.998+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] FAILURE: Build failed with an exception.<br>2020-11-09T11:42:21.999+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] <br>2020-11-09T11:42:21.999+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * What went wrong:<br>2020-11-09T11:42:21.999+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] Execution failed for task &#39;:core:Kafka.main()&#39;.<br>2020-11-09T11:42:21.999+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; Process &#39;command &#39;D:&#47;software&#47;java&#47;jdk&#47;bin&#47;java.exe&#39;&#39; finished with non-zero exit value 1<br>2020-11-09T11:42:21.999+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] <br>2020-11-09T11:42:21.999+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Try:<br>2020-11-09T11:42:21.999+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] Run with --stacktrace option to get the stack trace.  Run with --scan to get full insights.<br>2020-11-09T11:42:21.999+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] <br>2020-11-09T11:42:21.999+0800 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Get more help at https:&#47;&#47;help.gradle.org<br>2020-11-09T11:42:21.999+0800 [ERROR] [org.gradle.internal.buildevents.BuildResultLogger] <br>2020-11-09T11:42:21.999+0800 [ERROR] [org.gradle.internal.buildevents.BuildResultLogger] BUILD FAILED in 2s<br>11:42:22: Task execution finished &#39;Kafka.main() --debug&#39;.<br>","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509074,"discussion_content":"这是因为不加参数启动Kafka，返回值不是0，IDE视为有问题。其实已经打印出了Kafka的帮助提示信息：\n\n“Print version information and exit.”\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605423688,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1806720,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/91/80/bc38f890.jpg","nickname":"珍妮•玛仕多","note":"","ucode":"6E1E5564F979B3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325753,"discussion_content":"谢谢老师","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605424360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230446,"user_name":"懂码哥(GerryWen)","can_delete":false,"product_type":"c1","uid":2049910,"ip_address":"","ucode":"55CD1C9AAD87CD","user_header":"","comment_is_top":false,"comment_ctime":1593392231,"is_pvip":false,"replies":[{"id":"85046","content":"看样子是修改了maven仓库地址。不过似乎依然是无法获取Scala 2.13<br>","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1593395265,"ip_address":"","comment_id":230446,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5888359527","product_id":100050101,"comment_content":"编译.&#47;gradlew jar报错<br>单独编译.&#47;gradlew srcJar 可以通过<br>编译 .&#47;gradlew docsJar  文档报错。<br><br><br>gerrydeMBP:kafka gerry$ .&#47;gradlew jar<br>Starting a Gradle Daemon (subsequent builds will be faster)<br>&lt;-------------&gt; 0% CONFIGURING [4s]<br><br>&gt; Configure project :<br>Building project &#39;core&#39; with Scala version 2.13.3<br>Building project &#39;streams-scala&#39; with Scala version 2.13.3<br>&lt;-------------&gt; 4% EXECUTING [12s]<br><br>&gt; Task :core:compileJava FAILED<br><br>FAILURE: Build failed with an exception.<br><br>* What went wrong:<br>Execution failed for task &#39;:core:compileJava&#39;.<br>&gt; Could not resolve all files for configuration &#39;:core:compileClasspath&#39;.<br>   &gt; Could not find scala-library-2.13.3.jar (org.scala-lang:scala-library:2.13.3).<br>     Searched in the following locations:<br>         http:&#47;&#47;maven.aliyun.com&#47;nexus&#47;content&#47;repositories&#47;jcenter&#47;org&#47;scala-lang&#47;scala-library&#47;2.13.3&#47;scala-library-2.13.3.jar<br><br>* Try:<br>Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.<br><br>* Get more help at https:&#47;&#47;help.gradle.org<br><br>Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.<br>Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.<br>See https:&#47;&#47;docs.gradle.org&#47;6.5&#47;userguide&#47;command_line_interface.html#sec:command_line_warnings<br><br>BUILD FAILED in 17s<br>9 actionable tasks: 6 executed, 3 up-to-date<br>","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499894,"discussion_content":"看样子是修改了maven仓库地址。不过似乎依然是无法获取Scala 2.13\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593395265,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2049910,"avatar":"","nickname":"懂码哥(GerryWen)","note":"","ucode":"55CD1C9AAD87CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287202,"discussion_content":"对，是maven仓库问题，我修改init.gradle就可以了，配置如下：\ngerrydeMBP:.gradle gerry$ pwd\n#  gradle仓库位置，根据自己调整\n/Users/gerry/.gradle\n\ngerrydeMBP:.gradle gerry$ cat init.gradle\n# 创建init.gradle文件，把下面复制进去即可\nallprojects {\n    repositories {\n        maven {\n            url &#34;http://maven.aliyun.com/nexus/content/groups/public&#34;\n        }\n        jcenter(){url &#39;http://jcenter.bintray.com/&#39;}\n    }\n}\n\n\n# 最后编译结果成功\n\ngerrydeMBP:kafka gerry$ ./gradlew jar\nStarting a Gradle Daemon, 1 busy and 1 incompatible Daemons could not be reused, use --status for details\n\n> Configure project :\nBuilding project &#39;core&#39; with Scala version 2.13.3\nBuilding project &#39;streams-scala&#39; with Scala version 2.13.3\n<=------------> 11% EXECUTING [1m 30s]\n<=------------> 11% EXECUTING [1m 48s]\n> IDLE\n<=------------> 11% EXECUTING [2m 0s]\n\n> Task :streams:processMessages\nMessageGenerator: processed 1 Kafka message JSON files(s).\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.5/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD SUCCESSFUL in 6m 21s\n82 actionable tasks: 73 executed, 9 up-to-date\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1593399635,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1182914,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0c/c2/bad34a50.jpg","nickname":"张洋","note":"","ucode":"549BE5DEEF8417","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339809,"discussion_content":"楼主 你好 需要连接外网吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609812336,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229862,"user_name":"温故而知新可以为师矣","can_delete":false,"product_type":"c1","uid":1453053,"ip_address":"","ucode":"FADCDFA9F9E5E8","user_header":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","comment_is_top":false,"comment_ctime":1593166763,"is_pvip":false,"replies":[{"id":"85035","content":"这个看着是正常现象，你看看是否有打印Kafka的usage信息。这是因为你运行Kafka main时没有指定函数，所以程序指定了exit是非0，那么就会抛出这样的错误。但其实usage已经打印出来了，说明你已经正确的运行了Kafka的main函数","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1593389075,"ip_address":"","comment_id":229862,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5888134059","product_id":100050101,"comment_content":"老师，环境如下：<br>Mac<br>gradle6.5<br>scala2.13<br>jdk8<br>idea2020.1<br>运行Kafka.scala报如下图错误（红框内）：<br>https:&#47;&#47;share.weiyun.com&#47;8jiPccMP<br><br>感谢老师！","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499673,"discussion_content":"这个看着是正常现象，你看看是否有打印Kafka的usage信息。这是因为你运行Kafka main时没有指定函数，所以程序指定了exit是非0，那么就会抛出这样的错误。但其实usage已经打印出来了，说明你已经正确的运行了Kafka的main函数","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593389075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"温故而知新可以为师矣","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":286559,"discussion_content":"我的好了，问题是连接的zk是之前kakfa使用过的，导致节点存在造成，安装全新的zk就行了。\nps：我这里还有个问题，日志无法输出，这个问题有解决的吗?希望共享下解决方案。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1593227647,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208611,"user_name":"U2","can_delete":false,"product_type":"c1","uid":1387827,"ip_address":"","ucode":"8F6902D802FC66","user_header":"https://static001.geekbang.org/account/avatar/00/15/2d/33/2489480f.jpg","comment_is_top":false,"comment_ctime":1587390347,"is_pvip":false,"replies":[{"id":"78143","content":"你使用的是gradle命令还是wrapper的gradlew？感觉像是使用了自己装的gradle版本导致的。无法apply某个plugin可能有很多原因，运行gradle命令时后面加个--stacktrace看下是什么原因吧？也可以把完整的stacktrace贴出来让我看下~","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587519791,"ip_address":"","comment_id":208611,"utype":1}],"discussion_count":9,"race_medal":0,"score":"5882357643","product_id":100050101,"comment_content":"<br>* What went wrong:<br>A problem occurred evaluating root project &#39;kafka&#39;.<br>&gt; Failed to apply plugin [id &#39;org.gradle.scala&#39;]<br>   &gt; Could not find method scala() for arguments [build_8fovasgxikn1u4oofqzi4l8yq$_run_closure5$_closure73$_closure105@2ed041de] on object of type org.gradle.api.plugins.scala.ScalaPlugin.<br><br>* Try:<br>老师，编译报这个错 怎么解决啊？","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492536,"discussion_content":"你使用的是gradle命令还是wrapper的gradlew？感觉像是使用了自己装的gradle版本导致的。无法apply某个plugin可能有很多原因，运行gradle命令时后面加个--stacktrace看下是什么原因吧？也可以把完整的stacktrace贴出来让我看下~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587519791,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1125656,"avatar":"https://static001.geekbang.org/account/avatar/00/11/2d/18/918eaecf.jpg","nickname":"后端进阶","note":"","ucode":"480F48F5378307","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307343,"discussion_content":"今天已经没有什么心情再看源码了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600606461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1125656,"avatar":"https://static001.geekbang.org/account/avatar/00/11/2d/18/918eaecf.jpg","nickname":"后端进阶","note":"","ucode":"480F48F5378307","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307341,"discussion_content":"gradle的作者绝壁不是一个好的工程管理人员，这货根本不懂兼容是什么，版本升级跟玩似的！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600606354,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1308538,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f7/7a/fc236813.jpg","nickname":"ShawnWu","note":"","ucode":"B59C07067BB51E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282240,"discussion_content":"改成6.3可以成功，你可以试试","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591927617,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1308538,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f7/7a/fc236813.jpg","nickname":"ShawnWu","note":"","ucode":"B59C07067BB51E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282238,"discussion_content":"我也遇到这个问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591927136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1368555,"avatar":"https://static001.geekbang.org/account/avatar/00/14/e1/eb/2184d9e8.jpg","nickname":"健行","note":"","ucode":"51809A0E2299F7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":244748,"discussion_content":"我用gradle6.3编译成功了，可以试一下\nAll projects evaluated.\nNo tasks specified. Using default task &#39;help&#39;\nSelected primary task &#39;help&#39; from project :\nTasks to be executed: [task &#39;:help&#39;]\nTasks that were excluded: []\nMaking scoverage compilation the primary compilation task (instead of compileScala)\n:help (Thread[Daemon worker,5,main]) started.\n\n> Task :help\nCaching disabled for task &#39;:help&#39; because:\n  Build cache is disabled\nTask &#39;:help&#39; is not up-to-date because:\n  Task has not declared any outputs despite executing actions.\n\nWelcome to Gradle 6.3.\n\nTo run a build, run gradle <task> ...\n\nTo see a list of available tasks, run gradle tasks\n\nTo see a list of command-line options, run gradle --help\n\nTo see more detail about a task, run gradle help --task <task>\n\nFor troubleshooting, visit https://help.gradle.org\n:help (Thread[Daemon worker,5,main]) completed. Took 0.402 secs.\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.3/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD SUCCESSFUL in 3m 26s\n1 actionable task: 1 executed","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587627213,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1368555,"avatar":"https://static001.geekbang.org/account/avatar/00/14/e1/eb/2184d9e8.jpg","nickname":"健行","note":"","ucode":"51809A0E2299F7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":243597,"discussion_content":"同学，你们这个问题解决了吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587551691,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1174230,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ea/d6/1f98594e.jpg","nickname":"lau","note":"","ucode":"4EC054B801F1E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":243348,"discussion_content":"checkout 2.5.0 试试","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587535277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1031970,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/bf/22/26530e66.jpg","nickname":"趁早","note":"","ucode":"949FB3AA250D80","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":243205,"discussion_content":"老师，我也遇到了这个问题哈，加了strace后报错信息如下，windows环境        at \n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\n        at \n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin [id &#39;org.gradle.scala&#39;]\n        at \n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587528978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208095,"user_name":"Shine","can_delete":false,"product_type":"c1","uid":1184853,"ip_address":"","ucode":"BF3DB5ADF2B153","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ydVBBkofXDqCyP7pdwkicHZ9xtyEEuZvzrrkeWcnQjZ1ibEgG60eLotQTsKJFpWibuf6e7G9r0I1xaribUAQibPMl7g/132","comment_is_top":false,"comment_ctime":1587274895,"is_pvip":false,"replies":[{"id":"77806","content":"能把完整的log贴出来吗？或者说你在IDE里面直接运行Kafka.scala试试？","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587345242,"ip_address":"","comment_id":208095,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5882242191","product_id":100050101,"comment_content":"启动的时候看不到日志，debug不到为什么 Task :core:Kafka.main() FAILED","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492337,"discussion_content":"能把完整的log贴出来吗？或者说你在IDE里面直接运行Kafka.scala试试？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587345242,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207473,"user_name":"济沧海","can_delete":false,"product_type":"c1","uid":1179960,"ip_address":"","ucode":"DB1D3B27043B37","user_header":"https://static001.geekbang.org/account/avatar/00/12/01/38/04aae3fc.jpg","comment_is_top":false,"comment_ctime":1587090663,"is_pvip":false,"replies":[{"id":"77602","content":"不用管slf4j那些warning，你已经运行成功了啊。不是已经看到&quot;Usage&quot;了吗。另外建议在IDE中调试这个命令","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587220612,"ip_address":"","comment_id":207473,"utype":1}],"discussion_count":8,"race_medal":0,"score":"5882057959","product_id":100050101,"comment_content":"我这执行gradle和.&#47;gradlew jar没问题，但是右键运行kafka的时候报错了。<br>&gt; Task :core:Kafka.main() FAILED<br>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.<br>SLF4J: Defaulting to no-operation (NOP) logger implementation<br>SLF4J: See http:&#47;&#47;www.slf4j.org&#47;codes.html#StaticLoggerBinder for further details.<br>USAGE: java [options] KafkaServer server.properties [--override property=value]*<br>Option               Description                                         <br>------               -----------                                         <br>--override &lt;String&gt;  Optional property that should override values set in<br>                       server.properties file                            <br>--version            Print version information and exit.                 <br><br>FAILURE: Build failed with an exception.<br><br>* What went wrong:<br>Execution failed for task &#39;:core:Kafka.main()&#39;.<br>&gt; Process &#39;command &#39;&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.8.0_221.jdk&#47;Contents&#47;Home&#47;bin&#47;java&#39;&#39; finished with non-zero exit value 1<br><br>jdk --1.8.0_221<br>scala--2.12.11<br>gradle-- 5.6.2<br>os--Mac OS X 10.15.3 x86_64<br>换了好几次Scala和gradle版本还是这个问题。","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492142,"discussion_content":"不用管slf4j那些warning，你已经运行成功了啊。不是已经看到&amp;quot;Usage&amp;quot;了吗。另外建议在IDE中调试这个命令","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587220612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1179960,"avatar":"https://static001.geekbang.org/account/avatar/00/12/01/38/04aae3fc.jpg","nickname":"济沧海","note":"","ucode":"DB1D3B27043B37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":241774,"discussion_content":"抱歉，可能是我没表达清楚我的意思，上面的信息是日志的问题这个我清楚，调试是在idea中进行的，就是后面的这个需要管吗？\n\n* What went wrong:\nExecution failed for task &#39;:core:Kafka.main()&#39;.\n> Process &#39;command &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 1\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587440029,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1179580,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ff/bc/368b9f80.jpg","nickname":"灰机","note":"","ucode":"46F6CFC2DFAA2B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1179960,"avatar":"https://static001.geekbang.org/account/avatar/00/12/01/38/04aae3fc.jpg","nickname":"济沧海","note":"","ucode":"DB1D3B27043B37","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":241955,"discussion_content":"大佬可以看我在这一章节的评论哦～ 我已经的解决办法写上去啦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587452046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":241774,"ip_address":""},"score":241955,"extra":""},{"author":{"id":2228779,"avatar":"https://static001.geekbang.org/account/avatar/00/22/02/2b/998b0bb0.jpg","nickname":"云","note":"","ucode":"799678D9CCC861","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1179580,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ff/bc/368b9f80.jpg","nickname":"灰机","note":"","ucode":"46F6CFC2DFAA2B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378461,"discussion_content":"在哪里呀 没找到...0.0","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623232590,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":241955,"ip_address":""},"score":378461,"extra":""}]},{"author":{"id":1179580,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ff/bc/368b9f80.jpg","nickname":"灰机","note":"","ucode":"46F6CFC2DFAA2B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":241214,"discussion_content":"大佬 这个bug 我解决了！\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587396301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1179960,"avatar":"https://static001.geekbang.org/account/avatar/00/12/01/38/04aae3fc.jpg","nickname":"济沧海","note":"","ucode":"DB1D3B27043B37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1179580,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ff/bc/368b9f80.jpg","nickname":"灰机","note":"","ucode":"46F6CFC2DFAA2B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":241773,"discussion_content":"大佬怎么解决的？可以详细说一下吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587439896,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":241214,"ip_address":""},"score":241773,"extra":""},{"author":{"id":1272477,"avatar":"https://static001.geekbang.org/account/avatar/00/13/6a/9d/65bc01f9.jpg","nickname":"peterszhou","note":"","ucode":"DE068869801A28","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1179580,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ff/bc/368b9f80.jpg","nickname":"灰机","note":"","ucode":"46F6CFC2DFAA2B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307375,"discussion_content":"我跑起来了，但是没有server.log日志，也有上面那个错误，你们是怎么解决的呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600612173,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":241214,"ip_address":""},"score":307375,"extra":""}]},{"author":{"id":1179580,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ff/bc/368b9f80.jpg","nickname":"灰机","note":"","ucode":"46F6CFC2DFAA2B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236821,"discussion_content":"我也有这个问题  敢问大佬ok 了么？ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587124947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207086,"user_name":"刘楠","can_delete":false,"product_type":"c1","uid":1120773,"ip_address":"","ucode":"9F19D44CBEE039","user_header":"https://static001.geekbang.org/account/avatar/00/11/1a/05/f154d134.jpg","comment_is_top":false,"comment_ctime":1587004224,"is_pvip":false,"replies":[{"id":"77469","content":"嗯嗯，有兴趣读下ConsoleProducer源码。你会发现console-producer原来有这么多用途，哈哈哈","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587089674,"ip_address":"","comment_id":207086,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5881971520","product_id":100050101,"comment_content":"kafka-console-producer.sh <br>文件中有写exec $(dirname $0)&#47;kafka-run-class.sh kafka.tools.ConsoleProducer &quot;$@&quot; <br>core包中 scala是 <br>kafka.tools.ConsoleProducer.scala<br><br>","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492005,"discussion_content":"嗯嗯，有兴趣读下ConsoleProducer源码。你会发现console-producer原来有这么多用途，哈哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587089674,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1179580,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ff/bc/368b9f80.jpg","nickname":"灰机","note":"","ucode":"46F6CFC2DFAA2B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236000,"discussion_content":"应该是的~ 我扒了一下 也是这个","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587051954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206005,"user_name":"Glenn.G","can_delete":false,"product_type":"c1","uid":1254662,"ip_address":"","ucode":"3E40E8625E2AAF","user_header":"https://static001.geekbang.org/account/avatar/00/13/25/06/9f8f2b8e.jpg","comment_is_top":false,"comment_ctime":1586771961,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5881739257","product_id":100050101,"comment_content":"板凳","like_count":1},{"had_liked":false,"id":205992,"user_name":"西西弗与卡夫卡","can_delete":false,"product_type":"c1","uid":1001710,"ip_address":"","ucode":"B4C27B8335B76A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/ee/872ad07e.jpg","comment_is_top":false,"comment_ctime":1586770076,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5881737372","product_id":100050101,"comment_content":"沙发","like_count":1},{"had_liked":false,"id":360515,"user_name":"xiong","can_delete":false,"product_type":"c1","uid":1099375,"ip_address":"浙江","ucode":"C1BFD9EF96372F","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/6f/ac3003fa.jpg","comment_is_top":false,"comment_ctime":1666609371,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1666609371","product_id":100050101,"comment_content":"该类在core目录中，包名是kafka.tools","like_count":0},{"had_liked":false,"id":359920,"user_name":"xiong","can_delete":false,"product_type":"c1","uid":1099375,"ip_address":"浙江","ucode":"C1BFD9EF96372F","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/6f/ac3003fa.jpg","comment_is_top":false,"comment_ctime":1666062815,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1666062815","product_id":100050101,"comment_content":"我下载的kafka源码 2.5.1 的版本，依赖的gradle是5.6.2 啊，不是6.x","like_count":0},{"had_liked":false,"id":359356,"user_name":"kai","can_delete":false,"product_type":"c1","uid":1018452,"ip_address":"上海","ucode":"443ED92B59AB8C","user_header":"","comment_is_top":false,"comment_ctime":1665469514,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1665469514","product_id":100050101,"comment_content":"bin&#47;kafka-console-producer.sh -&gt; exec $(dirname $0)&#47;kafka-run-class.sh kafka.tools.ConsoleProducer &quot;$@&quot; -&gt; kafka.tools.ConsoleProducer","like_count":0},{"had_liked":false,"id":354938,"user_name":"freesocean","can_delete":false,"product_type":"c1","uid":1529210,"ip_address":"日本","ucode":"CAD4C80CF569D3","user_header":"https://static001.geekbang.org/account/avatar/00/17/55/7a/d44df1d6.jpg","comment_is_top":false,"comment_ctime":1660895341,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1660895341","product_id":100050101,"comment_content":"在本地编译几次失败，怀疑是墙的原因。为了方便下载，借助公司在美东的Linux，编译非常顺利，下载依赖也很快。<br><br>课后思考：<br>首先脚本中执行：<br>exec $(dirname $0)&#47;kafka-run-class.sh kafka.tools.ConsoleProducer &quot;$@&quot; <br>将所有参数传给kafka-run-class.sh 并且第一个参数就给了了类路径kafka.tools.ConsoleProducer 所以<br>答案已经很明显，继续追看：在kafka-run-class.sh中<br>做了很多设置，包括SCALA版本，并且将用到的jar都设置到CLASSPATH变量中，最后<br>执行：<br>exec &quot;$JAVA&quot; $KAFKA_HEAP_OPTS $KAFKA_JVM_PERFORMANCE_OPTS $KAFKA_GC_LOG_OPTS $KAFKA_JMX_OPTS $KAFKA_LOG4J_OPTS -cp &quot;$CLASSPATH&quot; $KAFKA_OPTS &quot;$@&quot;<br>运行对应的方法，而类就是上个sh脚本传入的。<br>","like_count":0},{"had_liked":false,"id":341401,"user_name":"GeekCJ","can_delete":false,"product_type":"c1","uid":2894802,"ip_address":"","ucode":"B49B46CA5D93E1","user_header":"https://static001.geekbang.org/account/avatar/00/2c/2b/d2/7dcabd72.jpg","comment_is_top":false,"comment_ctime":1649581876,"is_pvip":true,"discussion_count":0,"race_medal":3,"score":"1649581876","product_id":100050101,"comment_content":"kafka.tools.ConsoleProducer","like_count":0},{"had_liked":false,"id":317051,"user_name":"myfloweryourgrass","can_delete":false,"product_type":"c1","uid":1619075,"ip_address":"","ucode":"12F69ADD5FCAAB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Z6nichicPBdxoRtXp3YNFlPBcrKCGK3NUIBUwmsGv3cVd3qXkYaLpS6m3raU8ibhfo7eJ2Xnk44KEUmMEewbMYicCA/132","comment_is_top":false,"comment_ctime":1634649502,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634649502","product_id":100050101,"comment_content":"Mac环境下，创建topic的时候有遇到这种问题的吗？错误: 找不到或无法加载主类 kafka.admin.TopicCommand","like_count":0},{"had_liked":false,"id":316640,"user_name":"myfloweryourgrass","can_delete":false,"product_type":"c1","uid":1619075,"ip_address":"","ucode":"12F69ADD5FCAAB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Z6nichicPBdxoRtXp3YNFlPBcrKCGK3NUIBUwmsGv3cVd3qXkYaLpS6m3raU8ibhfo7eJ2Xnk44KEUmMEewbMYicCA/132","comment_is_top":false,"comment_ctime":1634466939,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634466939","product_id":100050101,"comment_content":"启动core的入口，会报这个错误：<br>Task :core:Kafka.main()<br>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.<br>SLF4J: Defaulting to no-operation (NOP) logger implementation<br>SLF4J: See http:&#47;&#47;www.slf4j.org&#47;codes.html#StaticLoggerBinder for further details.<br>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticMDCBinder&quot;.<br>SLF4J: Defaulting to no-operation MDCAdapter implementation.<br>SLF4J: See http:&#47;&#47;www.slf4j.org&#47;codes.html#no_static_mdc_binder for further details.<br>","like_count":0},{"had_liked":false,"id":311597,"user_name":"日拱一卒","can_delete":false,"product_type":"c1","uid":1056944,"ip_address":"","ucode":"3BDFD6F473862C","user_header":"https://static001.geekbang.org/account/avatar/00/10/20/b0/0a1551c4.jpg","comment_is_top":false,"comment_ctime":1631329237,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631329237","product_id":100050101,"comment_content":"逻辑思路极其清晰，非常喜欢老师的文章。","like_count":0},{"had_liked":false,"id":309331,"user_name":"寻。。。 จุ๊บ","can_delete":false,"product_type":"c1","uid":1228438,"ip_address":"","ucode":"B00BC5CDB21E97","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/96/c27c1087.jpg","comment_is_top":false,"comment_ctime":1630050429,"is_pvip":false,"replies":[{"id":"112527","content":"这可不一定是错误，比如你无参运行了一个需要参数的Kafka命令也是这个提示，还要进一步看下到底是什么问题","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1630810145,"ip_address":"","comment_id":309331,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1630050429","product_id":100050101,"comment_content":"请问下有微信群吗?  我有个问题已经很久了,死活跑不起来 Process &#39;command &#39;&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;zulu-8.jdk&#47;Contents&#47;Home&#47;bin&#47;java&#39;&#39; finished with non-zero exit value 1","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525830,"discussion_content":"这可不一定是错误，比如你无参运行了一个需要参数的Kafka命令也是这个提示，还要进一步看下到底是什么问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630810145,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1228438,"avatar":"https://static001.geekbang.org/account/avatar/00/12/be/96/c27c1087.jpg","nickname":"寻。。。 จุ๊บ","note":"","ucode":"B00BC5CDB21E97","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392108,"discussion_content":"不知道从哪里看，百度很久没看到答案\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630835794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2028955,"avatar":"","nickname":"勿更改任何信息","note":"","ucode":"B4949BEB8B2AFD","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390830,"discussion_content":"同问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630067040,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":288568,"user_name":"_#","can_delete":false,"product_type":"c1","uid":1667141,"ip_address":"","ucode":"CA891A603647C9","user_header":"https://static001.geekbang.org/account/avatar/00/19/70/45/fd84cfa1.jpg","comment_is_top":false,"comment_ctime":1618540745,"is_pvip":false,"replies":[{"id":"104998","content":"大概率是被墙了，访问maven主库那蜗牛般的速度。。。。","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1619004029,"ip_address":"","comment_id":288568,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1618540745","product_id":100050101,"comment_content":"一直起不起来，下的最新trunk，用gradle 就一个错误，提示都没有，几天了","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518664,"discussion_content":"大概率是被墙了，访问maven主库那蜗牛般的速度。。。。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619004029,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1667141,"avatar":"https://static001.geekbang.org/account/avatar/00/19/70/45/fd84cfa1.jpg","nickname":"_#","note":"","ucode":"CA891A603647C9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369447,"discussion_content":"我是科学上网的，又编译几十个小时了……绝望，比编译spring源码还费事，完全不知道啥时候可以ok","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619046612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286677,"user_name":"乔康","can_delete":false,"product_type":"c1","uid":1450353,"ip_address":"","ucode":"332B93AB67D6CA","user_header":"https://static001.geekbang.org/account/avatar/00/16/21/71/f881973f.jpg","comment_is_top":false,"comment_ctime":1617490262,"is_pvip":false,"replies":[{"id":"105000","content":"实在不行，用println吧。。。。","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1619004072,"ip_address":"","comment_id":286677,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1617490262","product_id":100050101,"comment_content":"老师，我可以编译成功，但是把log. properties放到scala目录下不打出日志呢？","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518060,"discussion_content":"实在不行，用println吧。。。。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619004072,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":283523,"user_name":"ザ*﹉*毛毛","can_delete":false,"product_type":"c1","uid":2300182,"ip_address":"","ucode":"33AD940D3EC61C","user_header":"https://static001.geekbang.org/account/avatar/00/23/19/16/24a909c2.jpg","comment_is_top":false,"comment_ctime":1615806645,"is_pvip":false,"replies":[{"id":"102951","content":"你可以再跑一次这个测试用例。单独的测试用例失败没事的","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1615942158,"ip_address":"","comment_id":283523,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1615806645","product_id":100050101,"comment_content":"老师，在进行core:test时，执行到97%报错，如下：<br>DumpLogSegmentsTest &gt; testDumpEmptyIndex() FAILED<br>    java.io.FileNotFoundException: C:\\Users\\17971\\AppData\\Local\\Temp\\kafka-49406<br>26030127530749\\kafka-115499\\00000000000000000000.index (Ĳ޷ʹûӳ򿪵ļִС)<br>        at java.io.FileOutputStream.open0(Native Method)<br>        at java.io.FileOutputStream.open(FileOutputStream.java:270)<br>        at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:213)<br>        at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:162)<br>        at java.io.PrintWriter.&lt;init&gt;(PrintWriter.java:263)<br>        at kafka.tools.DumpLogSegmentsTest.testDumpEmptyIndex(DumpLogSegmentsTes<br>t.scala:238)<br>kafka.tools.DumpLogSegmentsTest.testPrintDataLog() failed, log available in G:\\p<br>rojects\\git\\kafka\\core\\build\\reports\\testOutput\\kafka.tools.DumpLogSegmentsTest.<br>testPrintDataLog().test.stdout<br><br>DumpLogSegmentsTest &gt; testPrintDataLog() FAILED<br>    org.opentest4j.AssertionFailedError: Message record missing key or value: |<br>offset: 0 isValid: true crc: null keySize: 13 valueSize: 15 CreateTime: 16158059<br>78778 baseOffset: 0 lastOffset: 9 baseSequence: -1 lastSequence: -1 producerEpoc<br>h: -1 partitionLeaderEpoch: 0 batchSize: 411 magic: 2 compressType: NONE positio<br>n: 0 sequence: -1 headerKeys: [] key: message key 0 payload: message value 0<br> ==&gt; expected: &lt;true&gt; but was: &lt;false&gt;<br>        at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)<br>        at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:40)<br>        at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:193)<br>        at kafka.tools.DumpLogSegmentsTest.$anonfun$testPrintDataLog$4(DumpLogSe<br>gmentsTest.scala:135)<br>        at scala.collection.immutable.Range.foreach$mVc$sp(Range.scala:190)<br>        at kafka.tools.DumpLogSegmentsTest.verifyRecordsInOutput$1(DumpLogSegmen<br>tsTest.scala:120)<br>        at kafka.tools.DumpLogSegmentsTest.testPrintDataLog(DumpLogSegmentsTest.<br>scala:148)<br>","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517063,"discussion_content":"你可以再跑一次这个测试用例。单独的测试用例失败没事的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615942158,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":271956,"user_name":"张洋","can_delete":false,"product_type":"c1","uid":1182914,"ip_address":"","ucode":"549BE5DEEF8417","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/c2/bad34a50.jpg","comment_is_top":false,"comment_ctime":1609895201,"is_pvip":true,"replies":[{"id":"98757","content":"是否看到了help usage？如果看到了这是正常的情况，因为help usage本来返回值就不是0<br>","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1610089626,"ip_address":"","comment_id":271956,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1609895201","product_id":100050101,"comment_content":"老师 构建完成之后运行报这个错误<br>Execution failed for task &#39;:core:Kafka.main()&#39;.<br>&gt; Process &#39;command &#39;&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.8.0_271.jdk&#47;Contents&#47;Home&#47;bin&#47;java&#39;&#39; finished with non-zero exit value 1<br><br>* Try:<br>Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513101,"discussion_content":"是否看到了help usage？如果看到了这是正常的情况，因为help usage本来返回值就不是0\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610089626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":271950,"user_name":"张洋","can_delete":false,"product_type":"c1","uid":1182914,"ip_address":"","ucode":"549BE5DEEF8417","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/c2/bad34a50.jpg","comment_is_top":false,"comment_ctime":1609893733,"is_pvip":true,"replies":[{"id":"98758","content":"嗯嗯，主要是连接Maven主仓库比较慢","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1610089637,"ip_address":"","comment_id":271950,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1609893733","product_id":100050101,"comment_content":"昨天抽了一天时间，来搭建源码没成功，一直下载jar包失败，找的翻墙软件也不行。今天起来个大早，运行一下可以了。。。","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513098,"discussion_content":"嗯嗯，主要是连接Maven主仓库比较慢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610089637,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":270712,"user_name":"Geek_3dc57c","can_delete":false,"product_type":"c1","uid":2206557,"ip_address":"","ucode":"45FAB2409FE59E","user_header":"","comment_is_top":false,"comment_ctime":1609226147,"is_pvip":false,"replies":[{"id":"98444","content":"看上去似乎是个IDEA bug。试试这个呢：<br>取消这个的勾选<br>Settings -&gt; Build -&gt; Gradle -&gt; &quot;Create separate module per source set&quot; ","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1609723928,"ip_address":"","comment_id":270712,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1609226147","product_id":100050101,"comment_content":"exception during working with external system: java.lang.AssertionError<br>\tat org.jetbrains.plugins.gradle.service.project.BaseGradleProjectResolverExtension.createModule(BaseGradleProjectResolverExtension.java:154)<br>\tat org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.createModule<br><br>老师我想问一下这是什么原因。kafka源码导入idea后出现的问题。gradle6.7.1 ，jdk1.8， scala2.13.2","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512724,"discussion_content":"看上去似乎是个IDEA bug。试试这个呢：\n取消这个的勾选\nSettings -&amp;gt; Build -&amp;gt; Gradle -&amp;gt; &amp;quot;Create separate module per source set&amp;quot; ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609723928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":270710,"user_name":"是男人就开巴巴托斯","can_delete":false,"product_type":"c1","uid":1352006,"ip_address":"","ucode":"C65873BBB28D05","user_header":"https://static001.geekbang.org/account/avatar/00/14/a1/46/3136ac25.jpg","comment_is_top":false,"comment_ctime":1609225754,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609225754","product_id":100050101,"comment_content":"scala真是门邪门的功夫。。。<br>搞定scala, 大部分语言都能快速上手了","like_count":0},{"had_liked":false,"id":261037,"user_name":"huldar","can_delete":false,"product_type":"c1","uid":1396865,"ip_address":"","ucode":"4B2C41B3A6B824","user_header":"https://static001.geekbang.org/account/avatar/00/15/50/81/e9c5a274.jpg","comment_is_top":false,"comment_ctime":1605176967,"is_pvip":false,"replies":[{"id":"94902","content":"能发下失败的原因吗？我觉得最大的可能是系统配置的问题，比如主机名设置。因为这些test case都是测试这些场景的。","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1605423100,"ip_address":"","comment_id":261037,"utype":1}],"discussion_count":6,"race_medal":0,"score":"1605176967","product_id":100050101,"comment_content":"老师你好，我是使用MacOS 10.15.7系统拉取最新的源码（bb34c5c8cc32d1b769a34329e34b83cda040aafc），运行.&#47;gradlew build时候测试失败而停止。主要信息：<br>&gt; Task :clients:test FAILED<br><br>FAILURE: Build failed with an exception.<br>失败的测试是<br>ClientUtilsTest. testResolveDnsLookupAllIps<br>ClientUtilsTest. testResolveDnsLookupResolveCanonicalBootstrapServers<br>ClusterConnectionStatesTest. testHostResolveChange<br>ClusterConnectionStatesTest. testMultipleIPsWithDefault<br>ClusterConnectionStatesTest. testMultipleIPsWithUseAll<br>SslSelectorTest. testNoRouteToHost<br><br>参考https:&#47;&#47;issues.apache.org&#47;jira&#47;browse&#47;KAFKA-2541 未能解决。<br>老师可以帮忙看下这是什么问题吗？谢谢。<br><br>","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509355,"discussion_content":"能发下失败的原因吗？我觉得最大的可能是系统配置的问题，比如主机名设置。因为这些test case都是测试这些场景的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605423100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1396865,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/81/e9c5a274.jpg","nickname":"huldar","note":"","ucode":"4B2C41B3A6B824","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325804,"discussion_content":"ping some.invalid.hostname.foo.bar.local 的ip是127.0.0.1\n\nping kafka.apache.org 的ip是95.216.26.30","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605435210,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1396865,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/81/e9c5a274.jpg","nickname":"huldar","note":"","ucode":"4B2C41B3A6B824","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325803,"discussion_content":"testNoRouteToHost\n\nava.lang.AssertionError: Expected exception: java.io.IOException\n\tat org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:34)\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat java.lang.Thread.run(Thread.java:748)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605434982,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1396865,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/81/e9c5a274.jpg","nickname":"huldar","note":"","ucode":"4B2C41B3A6B824","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325802,"discussion_content":"testConstructorFailureCloseResource\n\njava.lang.AssertionError: should have caught an exception and returned\n\tat org.junit.Assert.fail(Assert.java:89)\n\tat org.apache.kafka.clients.producer.KafkaProducerTest.testConstructorFailureCloseResource(KafkaProducerTest.java:196)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605434945,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1396865,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/81/e9c5a274.jpg","nickname":"huldar","note":"","ucode":"4B2C41B3A6B824","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325801,"discussion_content":"testResolveUnknownHostException\n\njava.lang.AssertionError: Expected exception: java.net.UnknownHostException\n\tat org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:34)\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.gradle.internal.dispatch.ReflectionDispatc","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605434916,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1396865,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/81/e9c5a274.jpg","nickname":"huldar","note":"","ucode":"4B2C41B3A6B824","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325800,"discussion_content":"谢谢老师回复，错误信息是\ntestOnlyBadHostname\n\njava.lang.AssertionError: Expected exception: org.apache.kafka.common.config.ConfigException\n\tat org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:34)\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.gradle.internal.dispatch","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605434888,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249357,"user_name":"peterszhou","can_delete":false,"product_type":"c1","uid":1272477,"ip_address":"","ucode":"DE068869801A28","user_header":"https://static001.geekbang.org/account/avatar/00/13/6a/9d/65bc01f9.jpg","comment_is_top":false,"comment_ctime":1600609680,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1600609680","product_id":100050101,"comment_content":"我想问一下，kafka.scala运行成功之后，为啥没有日志输出<br>&gt; Task :core:Kafka.main()<br>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.<br>SLF4J: Defaulting to no-operation (NOP) logger implementation<br>SLF4J: See http:&#47;&#47;www.slf4j.org&#47;codes.html#StaticLoggerBinder for further details.<br>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticMDCBinder&quot;.<br>SLF4J: Defaulting to no-operation MDCAdapter implementation.<br>SLF4J: See http:&#47;&#47;www.slf4j.org&#47;codes.html#no_static_mdc_binder for further details.<br>跟您上面的输出结果一致，怎么样才能让他输出到stdout，我把log4j.properties放到resources文件夹也不行","like_count":0},{"had_liked":false,"id":249346,"user_name":"后端进阶","can_delete":false,"product_type":"c1","uid":1125656,"ip_address":"","ucode":"480F48F5378307","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/18/918eaecf.jpg","comment_is_top":false,"comment_ctime":1600602824,"is_pvip":false,"replies":[{"id":"91477","content":"直接用gradlew命令帮你自动下载并配置gradle就好","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1600657065,"ip_address":"","comment_id":249346,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1600602824","product_id":100050101,"comment_content":"A problem occurred evaluating root project &#39;kafka&#39;.<br>&gt; Failed to apply plugin [id &#39;org.gradle.scala&#39;]<br>   &gt; Could not find method scala() for arguments [build_ohfao28misqrponov215q4rl$_run_closure5$_closure73$_closure107@4163610d] on object of type org.gradle.api.plugins.scala.ScalaPlugin.<br><br>* Try:<br>Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.<br>---<br>太难了","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505903,"discussion_content":"直接用gradlew命令帮你自动下载并配置gradle就好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600657065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249324,"user_name":"后端进阶","can_delete":false,"product_type":"c1","uid":1125656,"ip_address":"","ucode":"480F48F5378307","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/18/918eaecf.jpg","comment_is_top":false,"comment_ctime":1600591729,"is_pvip":false,"replies":[{"id":"91476","content":"还想说它比Maven好用多了，吓得不敢说话了。。。。你想，你都不用安装Gradle，直接用gradlew帮你下载就行了。还是挺方便的吧。它最厉害的还是并行构建，速度上比Maven快很多。当然，拉取依赖jar包的速度实在是慢的惊人","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1600657040,"ip_address":"","comment_id":249324,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1600591729","product_id":100050101,"comment_content":"官网链接包含的版本号是 v6.3.0，但是该版本后续可能会变化，因此，你最好先打开 gradlew 文件，去看一下社区使用的是哪个版本的 Gradle。一旦你发现版本不再是 v6.3.0 了，那就不要再使用我提供的链接了。这个时候，你需要直接去官网下载对应版本的 Jar 包。<br>----<br>我不是杠，我是真的觉得gradle有毛病，整个人被它各种沙雕的操作弄得一点心情都没了！","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505899,"discussion_content":"还想说它比Maven好用多了，吓得不敢说话了。。。。你想，你都不用安装Gradle，直接用gradlew帮你下载就行了。还是挺方便的吧。它最厉害的还是并行构建，速度上比Maven快很多。当然，拉取依赖jar包的速度实在是慢的惊人","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600657040,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1125656,"avatar":"https://static001.geekbang.org/account/avatar/00/11/2d/18/918eaecf.jpg","nickname":"后端进阶","note":"","ucode":"480F48F5378307","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":308071,"discussion_content":"\n从评论区各种问题就能够看出来，这不是一个工具该有的样子！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600838426,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249322,"user_name":"后端进阶","can_delete":false,"product_type":"c1","uid":1125656,"ip_address":"","ucode":"480F48F5378307","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/18/918eaecf.jpg","comment_is_top":false,"comment_ctime":1600591320,"is_pvip":false,"replies":[{"id":"91473","content":"实在不行，用国内的源吧。。。","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1600656872,"ip_address":"","comment_id":249322,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1600591320","product_id":100050101,"comment_content":"gradle是真的可以把人折腾死，各种反人类，各种版本不兼容。","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505898,"discussion_content":"实在不行，用国内的源吧。。。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600656872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249311,"user_name":"peterszhou","can_delete":false,"product_type":"c1","uid":1272477,"ip_address":"","ucode":"DE068869801A28","user_header":"https://static001.geekbang.org/account/avatar/00/13/6a/9d/65bc01f9.jpg","comment_is_top":false,"comment_ctime":1600587374,"is_pvip":false,"replies":[{"id":"91474","content":"测试失败很正常， 不用理它，有可能会出现瞬时的失败。","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1600656913,"ip_address":"","comment_id":249311,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1600587374","product_id":100050101,"comment_content":"&gt; Task :clients:test FAILED<br><br>FAILURE: Build failed with an exception.<br><br>* What went wrong:<br>Execution failed for task &#39;:clients:test&#39;.<br>&gt; There were failing tests. See the report at: file:&#47;&#47;&#47;F:&#47;kafka&#47;clients&#47;build&#47;reports&#47;tests&#47;test&#47;index.html<br><br>* Try:<br>Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.<br><br>* Get more help at https:&#47;&#47;help.gradle.org<br><br>Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.<br>Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.<br>See https:&#47;&#47;docs.gradle.org&#47;6.3&#47;userguide&#47;command_line_interface.html#sec:command_line_warnings<br><br>BUILD FAILED in 3m 34s<br>22 actionable tasks: 3 executed, 19 up-to-date<br><br>这个build失败是测试没全部通过？还是其他的呀。","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505891,"discussion_content":"测试失败很正常， 不用理它，有可能会出现瞬时的失败。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600656913,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":249301,"user_name":"peterszhou","can_delete":false,"product_type":"c1","uid":1272477,"ip_address":"","ucode":"DE068869801A28","user_header":"https://static001.geekbang.org/account/avatar/00/13/6a/9d/65bc01f9.jpg","comment_is_top":false,"comment_ctime":1600580651,"is_pvip":false,"replies":[{"id":"91475","content":"测试失败了。也算正常了，因为目前测试用例中有一些有偶发的错误，可以点开index.html看看是哪些test case失败了。","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1600656962,"ip_address":"","comment_id":249301,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1600580651","product_id":100050101,"comment_content":"win10  gradle6.5 scala2.13.3 java8<br>build失败，是啥原因啊？<br><br>&gt; Task :clients:test FAILED<br><br>FAILURE: Build failed with an exception.<br><br>* What went wrong:<br>Execution failed for task &#39;:clients:test&#39;.<br>&gt; There were failing tests. See the report at: file:&#47;&#47;&#47;F:&#47;kafka&#47;clients&#47;build&#47;reports&#47;tests&#47;test&#47;index.html<br><br>* Try:<br>Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.<br><br>* Get more help at https:&#47;&#47;help.gradle.org<br><br>Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.<br>Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.<br>See https:&#47;&#47;docs.gradle.org&#47;6.5&#47;userguide&#47;command_line_interface.html#sec:command_line_warnings<br><br>BUILD FAILED in 7m 49s<br>27 actionable tasks: 27 executed<br>Could not open&#47;create prefs root node Software\\JavaSoft\\Prefs at root 0x80000002. Windows RegCreateKeyEx(...) returned error code 5.","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505889,"discussion_content":"测试失败了。也算正常了，因为目前测试用例中有一些有偶发的错误，可以点开index.html看看是哪些test case失败了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600656962,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1019318,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8d/b6/37f76642.jpg","nickname":"卫","note":"","ucode":"A06D33FB4E7AA7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332351,"discussion_content":"测试失败了，下一步怎么处理啊 是跳过还是怎么处理啊，","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607163233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235911,"user_name":"despicable--","can_delete":false,"product_type":"c1","uid":1588636,"ip_address":"","ucode":"0C4565D82D13C7","user_header":"https://static001.geekbang.org/account/avatar/00/18/3d/9c/74355ff6.jpg","comment_is_top":false,"comment_ctime":1595240489,"is_pvip":false,"replies":[{"id":"87308","content":"这是无法启动IDEA的错误还是无法启动Kafka的错误呢？另外看错误是无法启动JVM，堆设置过大了","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1595386514,"ip_address":"","comment_id":235911,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1595240489","product_id":100050101,"comment_content":"求助老师、同学： <br>1. 错误：Unable to start the daemon process.<br>This problem might be caused by incorrect configuration of the daemon.<br>For example, an unrecognized jvm option is used.<br>Please refer to the User Manual chapter on the daemon at https:&#47;&#47;docs.gradle.org&#47;6.5&#47;userguide&#47;gradle_daemon.html<br>Process command line: D:\\devtool\\jdk1.8.0_261\\bin\\java.exe -Xss4m -XX:+UseParallelGC -Xmx2g -Dfile.encoding=GBK -Duser.country=CN -Duser.language=zh -Duser.variant -cp C:\\Users\\Administrator\\.gradle\\wrapper\\dists\\gradle-6.5-all\\2oz4ud9k3tuxjg84bbf55q0tn\\gradle-6.5\\lib\\gradle-launcher-6.5.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.5<br>Please read the following process output to find out more:<br>-----------------------<br>Error occurred during initialization of VM<br>Could not reserve enough space for 2097152KB object heap<br><br>2.我已经做了以下操作，但是执行kafka还是报错： <br>   2.1 修改 idea.exe.vmoptions:   -Xmx3072m<br>   2.2 修改 run configuration 中vm options: <br>      -Xms1024m -Xmx4096m -XX:PermSize=64M -XX:MaxPermSize=1024M<br>   ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501876,"discussion_content":"这是无法启动IDEA的错误还是无法启动Kafka的错误呢？另外看错误是无法启动JVM，堆设置过大了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595386514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":234746,"user_name":"imxintian","can_delete":false,"product_type":"c1","uid":1178908,"ip_address":"","ucode":"0E20BF5E0E7CE3","user_header":"https://static001.geekbang.org/account/avatar/00/11/fd/1c/8245a8d8.jpg","comment_is_top":false,"comment_ctime":1594785686,"is_pvip":false,"replies":[{"id":"86716","content":"运行的是什么命令啊？看样子还是连接远端Maven主仓库的问题。","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1594860463,"ip_address":"","comment_id":234746,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594785686","product_id":100050101,"comment_content":"Warning:&lt;i&gt;&lt;b&gt;project &#39;:streams&#39;: Unable to resolve additional project configuration.&lt;&#47;b&gt;<br>Details: org.gradle.api.artifacts.ResolveException: Could not resolve all dependencies for configuration &#39;:streams:upgrade-system-tests-21:testCompileClasspath&#39;.<br>Caused by: org.gradle.internal.resolve.ArtifactResolveException: Could not download connect-api-2.1.1.jar (org.apache.kafka:connect-api:2.1.1)<br>Caused by: org.gradle.api.resources.ResourceException: Could not get resource &#39;https:&#47;&#47;repo.maven.apache.org&#47;maven2&#47;org&#47;apache&#47;kafka&#47;connect-api&#47;2.1.1&#47;connect-api-2.1.1.jar&#39;.<br>Caused by: org.gradle.internal.resource.transport.http.HttpRequestException: Could not GET &#39;https:&#47;&#47;repo.maven.apache.org&#47;maven2&#47;org&#47;apache&#47;kafka&#47;connect-api&#47;2.1.1&#47;connect-api-2.1.1.jar&#39;.<br>Caused by: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake<br>Caused by: java.io.EOFException: SSL peer shut down incorrectly&lt;&#47;i&gt;<br>Warning:&lt;i&gt;&lt;b&gt;project &#39;:streams:upgrade-system-tests-21&#39;: Unable to resolve additional project configuration.&lt;&#47;b&gt;<br>Details: org.gradle.api.artifacts.ResolveException: Could not resolve all dependencies for configuration &#39;:streams:upgrade-system-tests-21:testCompileClasspath&#39;.<br>Caused by: org.gradle.internal.resolve.ArtifactResolveException: Could not download connect-api-2.1.1.jar (org.apache.kafka:connect-api:2.1.1)<br>Caused by: org.gradle.api.resources.ResourceException: Could not get resource &#39;https:&#47;&#47;repo.maven.apache.org&#47;maven2&#47;org&#47;apache&#47;kafka&#47;connect-api&#47;2.1.1&#47;connect-api-2.1.1.jar&#39;.<br>Caused by: org.gradle.internal.resource.transport.http.HttpRequestException: Could not GET &#39;https:&#47;&#47;repo.maven.apache.org&#47;maven2&#47;org&#47;apache&#47;kafka&#47;connect-api&#47;2.1.1&#47;connect-api-2.1.1.jar&#39;.<br>Caused by: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake<br>Caused by: java.io.EOFException: SSL peer shut down incorrectly&lt;&#47;i&gt;<br><br>老师，我通过idea 构建报出警告，这个怎么办？","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501494,"discussion_content":"运行的是什么命令啊？看样子还是连接远端Maven主仓库的问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594860463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":234737,"user_name":"张洋","can_delete":false,"product_type":"c1","uid":1182914,"ip_address":"","ucode":"549BE5DEEF8417","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/c2/bad34a50.jpg","comment_is_top":false,"comment_ctime":1594783654,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1594783654","product_id":100050101,"comment_content":"分享一个可能很少遇见的问题：<br>.&#47;gradlew build 抱的错误看不太懂，直接idea 打开构建报一下错误：<br> org&#47;gradle&#47;api&#47;internal&#47;plugins&#47;DefaultConvention<br>是idea版本太低，升级到最新的版本即可。","like_count":0},{"had_liked":false,"id":234725,"user_name":"张洋","can_delete":false,"product_type":"c1","uid":1182914,"ip_address":"","ucode":"549BE5DEEF8417","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/c2/bad34a50.jpg","comment_is_top":false,"comment_ctime":1594780986,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1594780986","product_id":100050101,"comment_content":"老师 按照步骤构建 保下边的错误<br>org.apache.kafka.common.network.SslSelectorTest.testConnectionsByClientMetric failed, log available in &#47;Users&#47;zy1994&#47;Desktop&#47;kafka&#47;kafka&#47;clients&#47;build&#47;reports&#47;testOutput&#47;org.apache.kafka.common.network.SslSelectorTest.testConnectionsByClientMetric.test.stdout<br><br>org.apache.kafka.common.network.SslSelectorTest &gt; testConnectionsByClientMetric FAILED<br>    org.junit.runners.model.TestTimedOutException: test timed out after 240000 milliseconds<br>        at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)<br>        at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:422)<br>        at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:250)<br>        at org.apache.kafka.common.network.SelectorTest.testConnectionsByClientMetric(SelectorTest.java:864)<br>        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br>        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)<br>        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)<br>        at java.lang.reflect.Method.invoke(Method.java:498)<br>        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)<br>        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)<br>        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)<br>        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)","like_count":0,"discussions":[{"author":{"id":2095534,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/rdqMiaEs5LQAfnYRyRzjEZHYGHjGic9WXIChNicstqicgq9uzRfSME1XwicDemkxcJxUkRLFNMpepde3g7CQqTsWqKg/132","nickname":"Geek_8346c3","note":"","ucode":"A4B7C04BB8EE36","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295140,"discussion_content":"我也遇到这个问题了，解决了吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596101401,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233650,"user_name":"孤星可","can_delete":false,"product_type":"c1","uid":1057440,"ip_address":"","ucode":"1DE673A8E2253B","user_header":"https://static001.geekbang.org/account/avatar/00/10/22/a0/0e8d56df.jpg","comment_is_top":false,"comment_ctime":1594375576,"is_pvip":false,"replies":[{"id":"86294","content":"嗯嗯，这是一个很好的建议。在我看来，这反而是一种有意思的事情，因为如果出现不一样的，它能够诱发你对不一致改进的思考，而且能实实在在感受到社区对Kafka的演进：）","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1594448316,"ip_address":"","comment_id":233650,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1594375576","product_id":100050101,"comment_content":"代码最好指定为某个tag , 比如最新稳定版本。 <br><br>从 trunk 拉代码， 随着代码的更新， 后面拉取的跟文中不一。","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501121,"discussion_content":"嗯嗯，这是一个很好的建议。在我看来，这反而是一种有意思的事情，因为如果出现不一样的，它能够诱发你对不一致改进的思考，而且能实实在在感受到社区对Kafka的演进：）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594448316,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2309076,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/hvb2KFTy9wdlpTA5dPVPyow44pDtAFH3abXphxktutTlpe2yveiaTqicz68icsUXkZGTjQnQ5zjX6ZQSRn5C6OicaA/132","nickname":"Geek_904551","note":"","ucode":"8AE24B32FBCD24","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378618,"discussion_content":"讲解源码的话  指定基于哪个版本应该是最基本的吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623306904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233370,"user_name":"Askerlve","can_delete":false,"product_type":"c1","uid":1178535,"ip_address":"","ucode":"BF29F9A8674507","user_header":"https://static001.geekbang.org/account/avatar/00/11/fb/a7/12c90699.jpg","comment_is_top":false,"comment_ctime":1594300327,"is_pvip":false,"replies":[{"id":"86297","content":"你是使用什么代理了吗？帮你搜了下网上的解决办法。如果你是MacOS，可以试试：System Preferences -&gt; Network -&gt; Advanced -&gt;Proxy -&gt; unchecked SOCKS proxy<br><br>另外，不要用代码试试呢，有时候Maven主仓库只是慢，不是连不上","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1594448817,"ip_address":"","comment_id":233370,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594300327","product_id":100050101,"comment_content":"gradle.propertied配置：<br>group=org.apache.kafka<br># NOTE: When you change this version number, you should also make sure to update<br># the version numbers in<br>#  - docs&#47;js&#47;templateData.js<br>#  - tests&#47;kafkatest&#47;__init__.py<br>#  - tests&#47;kafkatest&#47;version.py (variable DEV_VERSION)<br>#  - kafka-merge-pr.py<br>version=2.7.0-SNAPSHOT<br>scalaVersion=2.13.3<br>task=build<br>org.gradle.jvmargs=-Xmx2g -Xss4m -XX:+UseParallelGC<br><br>报错：<br>Caused by: org.gradle.internal.resource.transport.http.HttpRequestException: Could not GET &#39;https:&#47;&#47;repo.maven.apache.org&#47;maven2&#47;org&#47;gradle&#47;test-retry-gradle-plugin&#47;1.1.5&#47;test-retry-gradle-plugin-1.1.5.pom&#39;.<br>Caused by: java.net.SocketException: Can&#39;t connect to SOCKS proxy:Connection refused (Connection refused)<br><br>老师，求帮助～<br>同学们，求帮助～<br>","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500997,"discussion_content":"你是使用什么代理了吗？帮你搜了下网上的解决办法。如果你是MacOS，可以试试：System Preferences -&amp;gt; Network -&amp;gt; Advanced -&amp;gt;Proxy -&amp;gt; unchecked SOCKS proxy\n\n另外，不要用代码试试呢，有时候Maven主仓库只是慢，不是连不上","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594448817,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232691,"user_name":"天敌","can_delete":false,"product_type":"c1","uid":1059944,"ip_address":"","ucode":"CD29A622197197","user_header":"https://static001.geekbang.org/account/avatar/00/10/2c/68/c299bc71.jpg","comment_is_top":false,"comment_ctime":1594090064,"is_pvip":false,"replies":[{"id":"85923","content":"测试用例出错太正常了，目前有很多testcase都非常不稳定。","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1594131305,"ip_address":"","comment_id":232691,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594090064","product_id":100050101,"comment_content":"windows下编译，测试用例执行报错<br>5868 tests completed, 10 failed, 67 skipped<br><br>&gt; Task :clients:test FAILED<br><br>FAILURE: Build failed with an exception.<br><br>* What went wrong:<br>Execution failed for task &#39;:clients:test&#39;.<br>&gt; There were failing tests. See the report at: file:&#47;&#47;&#47;E:&#47;projects&#47;kafka&#47;clients&#47;build&#47;reports&#47;tests&#47;test&#47;index.html<br><br>* Try:<br>Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.<br><br>* Get more help at https:&#47;&#47;help.gradle.org<br><br>Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.<br>Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.<br>See https:&#47;&#47;docs.gradle.org&#47;6.5.1&#47;userguide&#47;command_line_interface.html#sec:command_line_warnings<br><br>BUILD FAILED in 6m 46s<br>21 actionable tasks: 3 executed, 18 up-to-date<br><br><br>这是正常的吗?","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500740,"discussion_content":"测试用例出错太正常了，目前有很多testcase都非常不稳定。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594131305,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228593,"user_name":"nestle","can_delete":false,"product_type":"c1","uid":1762252,"ip_address":"","ucode":"469800BED81B54","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e3/cc/0947ff0b.jpg","comment_is_top":false,"comment_ctime":1592746223,"is_pvip":false,"replies":[{"id":"84320","content":"不会有影响。目前的确有很多测试用例占用的事情很长，而且还容易失败","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1592789332,"ip_address":"","comment_id":228593,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592746223","product_id":100050101,"comment_content":"我用 .&#47;gradlew build 构建要跑很多测试，非常的慢，后来改成 .&#47;gradlew build -x test 跳过测试构建就很快了，请问跳过对构建会有什么影响吗？","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499094,"discussion_content":"不会有影响。目前的确有很多测试用例占用的事情很长，而且还容易失败","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592789332,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227360,"user_name":"myfloweryourgrass","can_delete":false,"product_type":"c1","uid":1619075,"ip_address":"","ucode":"12F69ADD5FCAAB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Z6nichicPBdxoRtXp3YNFlPBcrKCGK3NUIBUwmsGv3cVd3qXkYaLpS6m3raU8ibhfo7eJ2Xnk44KEUmMEewbMYicCA/132","comment_is_top":false,"comment_ctime":1592363846,"is_pvip":false,"replies":[{"id":"83939","content":"执行.&#47;gradlew clients:processMessages任务","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1592472971,"ip_address":"","comment_id":227360,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592363846","product_id":100050101,"comment_content":"老师，导完后，启动好多org.apache.kafka.common.message下的包都没有，导致报错，这个怎么解决，","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498606,"discussion_content":"执行./gradlew clients:processMessages任务","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592472971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226003,"user_name":"ShawnWu","can_delete":false,"product_type":"c1","uid":1308538,"ip_address":"","ucode":"B59C07067BB51E","user_header":"https://static001.geekbang.org/account/avatar/00/13/f7/7a/fc236813.jpg","comment_is_top":false,"comment_ctime":1591926877,"is_pvip":false,"replies":[{"id":"83311","content":"你的gradle版本是多少？感觉还是Gradle版本的问题。","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1591973363,"ip_address":"","comment_id":226003,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1591926877","product_id":100050101,"comment_content":"运行这个gradle报错了，<br>A problem occurred evaluating root project &#39;kafka&#39;.<br>&gt; Failed to apply plugin [id &#39;org.gradle.scala&#39;]<br>   &gt; Could not find method scala() for arguments [build_auymmagugoxszi9u0gfobdlnj$_run_closure5$_closure73$_closure105@5fe71a31] on object of type org.gradle.api.plugins.scala.ScalaPlugin.","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498076,"discussion_content":"你的gradle版本是多少？感觉还是Gradle版本的问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591973363,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1308538,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f7/7a/fc236813.jpg","nickname":"ShawnWu","note":"","ucode":"B59C07067BB51E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284378,"discussion_content":"谢谢老师，提高了版本就好了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592524782,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219637,"user_name":"秋天","can_delete":false,"product_type":"c1","uid":1057056,"ip_address":"","ucode":"A7E1D953EF7E17","user_header":"https://static001.geekbang.org/account/avatar/00/10/21/20/1299e137.jpg","comment_is_top":false,"comment_ctime":1590053993,"is_pvip":true,"replies":[{"id":"81115","content":"无法下载依赖是因为连不上外网还是别的原因？如果是别的原因可以贴一下出错stacktrace","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1590072900,"ip_address":"","comment_id":219637,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590053993","product_id":100050101,"comment_content":"我搭建起来拉环境但是执行gradle build 下载不下来依赖 我的系统是win10 还请给予指导","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495884,"discussion_content":"无法下载依赖是因为连不上外网还是别的原因？如果是别的原因可以贴一下出错stacktrace","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590072900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219296,"user_name":"sljoai","can_delete":false,"product_type":"c1","uid":1018071,"ip_address":"","ucode":"FF88C4BA265DE0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/88/d7/07f8bc6c.jpg","comment_is_top":false,"comment_ctime":1589985420,"is_pvip":false,"replies":[{"id":"81039","content":"也可以的","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1590022856,"ip_address":"","comment_id":219296,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1589985420","product_id":100050101,"comment_content":"请问一下，只能使用jdk8搭建吗？jdk9是不是不行呀？","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495753,"discussion_content":"也可以的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590022856,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":218035,"user_name":"笛神","can_delete":false,"product_type":"c1","uid":1216462,"ip_address":"","ucode":"B0726292D38188","user_header":"https://static001.geekbang.org/account/avatar/00/12/8f/ce/462c2309.jpg","comment_is_top":false,"comment_ctime":1589700173,"is_pvip":false,"replies":[{"id":"80705","content":"换成Scala 2.13试试","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1589768470,"ip_address":"","comment_id":218035,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1589700173","product_id":100050101,"comment_content":"使用kafka trunk分支, windows下<br>gradle是6.3版本.<br>build还是报错了, 有遇到这个的:&quot;<br>&gt; Configure project :<br>Building project &#39;core&#39; with Scala version 2.12.11<br>Building project &#39;streams-scala&#39; with Scala version 2.12.11<br><br>&gt; Task :spotlessScala FAILED<br><br>FAILURE: Build failed with an exception.<br><br>* What went wrong:<br>Execution failed for task &#39;:spotlessScala&#39;.<br>&gt; The following files had format violations:<br>      streams\\streams-scala\\src\\main\\scala\\org\\apache\\kafka\\streams\\scala\\FunctionConversions.scala","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495330,"discussion_content":"换成Scala 2.13试试","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589768470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1216462,"avatar":"https://static001.geekbang.org/account/avatar/00/12/8f/ce/462c2309.jpg","nickname":"笛神","note":"","ucode":"B0726292D38188","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275979,"discussion_content":"最近一直没时间，对scala和gradle都不太熟悉，这个spotlessScala貌似是检查scala的代码格式的，昨晚试了两种方法成了，一种是将这个task移除，一种是按照提示，用gradlew.bat spoless***（gradlew.bat从别的地方拷贝过来的）将代码格式化了（似乎是换行符的问题）。最终现在只是一些单元测试没通过，似乎是一些认证相关的单元测试。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590798321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":215266,"user_name":"joyce","can_delete":false,"product_type":"c1","uid":1044538,"ip_address":"","ucode":"34DDC8AC441268","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTImkMRF773AIuZvHy0AesXibANfbwERFzTPneMjUn94EB7hhYnrhgzNCIKicSmTdwoyX7BnHZniaCf5Q/132","comment_is_top":false,"comment_ctime":1588944215,"is_pvip":false,"replies":[{"id":"79679","content":"看下是不是在下载相关资源？","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1588983268,"ip_address":"","comment_id":215266,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1588944215","product_id":100050101,"comment_content":"老师我build 的时候一直卡在core:compileScala，运行的时候也一直报错<br>import joptsimple.OptionParser这个方法","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494376,"discussion_content":"看下是不是在下载相关资源？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588983268,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1044538,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTImkMRF773AIuZvHy0AesXibANfbwERFzTPneMjUn94EB7hhYnrhgzNCIKicSmTdwoyX7BnHZniaCf5Q/132","nickname":"joyce","note":"","ucode":"34DDC8AC441268","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261849,"discussion_content":"没有，资源下载完成了。能在jar包里找到这个方法。会不会是因为我用的window","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589014725,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":215237,"user_name":"zhu jk","can_delete":false,"product_type":"c1","uid":1855636,"ip_address":"","ucode":"30E6ECA12025C2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIN1ibVbITlruVOp1Z5VC01FNXuOeBemuT0ThaGeyM8XyuCWhxNHNbibkYw9Oia66NiaePrlXmXzgnLAA/132","comment_is_top":false,"comment_ctime":1588936950,"is_pvip":false,"replies":[{"id":"79683","content":"这次不是build失败了，而是测试失败了。你可以看下file:&#47;&#47;&#47;D:&#47;kafka&#47;clients&#47;build&#47;reports&#47;tests&#47;test&#47;index.html是哪个测试用例失败了。不过我想说明的是：测试失败太正常了。目前测试用例中有一些经常容易失败的，你不用理会，当然如果你有兴趣可以修复这种flaky failure:)","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1588983714,"ip_address":"","comment_id":215237,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1588936950","product_id":100050101,"comment_content":"老师，您好，我看了一下是0.10.0版本，我换了trunk版本，还是报错，<br>&gt; Task :clients:test FAILED<br><br>FAILURE: Build failed with an exception.<br><br>* What went wrong:<br>Execution failed for task &#39;:clients:test&#39;.<br>&gt; There were failing tests. See the report at: file:&#47;&#47;&#47;D:&#47;kafka&#47;clients&#47;build&#47;reports&#47;tests&#47;test&#47;index.html<br><br>* Try:<br>Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to<br>get full insights.<br><br>* Get more help at https:&#47;&#47;help.gradle.org<br><br>Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.<br>Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.<br>See https:&#47;&#47;docs.gradle.org&#47;6.3&#47;userguide&#47;command_line_interface.html#sec:command_line_warnings<br><br>BUILD FAILED in 5m 3s<br>21 actionable tasks: 3 executed, 18 up-to-date","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494365,"discussion_content":"这次不是build失败了，而是测试失败了。你可以看下file:///D:/kafka/clients/build/reports/tests/test/index.html是哪个测试用例失败了。不过我想说明的是：测试失败太正常了。目前测试用例中有一些经常容易失败的，你不用理会，当然如果你有兴趣可以修复这种flaky failure:)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588983714,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1855636,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIN1ibVbITlruVOp1Z5VC01FNXuOeBemuT0ThaGeyM8XyuCWhxNHNbibkYw9Oia66NiaePrlXmXzgnLAA/132","nickname":"zhu jk","note":"","ucode":"30E6ECA12025C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261766,"discussion_content":" Task :core:Kafka.main() FAILED\nSLF4J: Failed to load class &#34;org.slf4j.impl.StaticLoggerBinder&#34;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nUSAGE: java [options] KafkaServer server.properties [--override property=value]*\nOption               Description                                         \n------               -----------                                         \n--override <String>  Optional property that should override values set in\n                       server.properties file                            \n--version            Print version information and exit.                 \n\nExecution failed for task &#39;:core:Kafka.main()&#39;.\n> Process &#39;command &#39;C:/Program Files/DevInstall/jdk1.8.0_231/bin/java.exe&#39;&#39; finished with non-zero exit value 1\n老师，这是构建成功，运行失败是吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589003595,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":215163,"user_name":"joyce","can_delete":false,"product_type":"c1","uid":1044538,"ip_address":"","ucode":"34DDC8AC441268","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTImkMRF773AIuZvHy0AesXibANfbwERFzTPneMjUn94EB7hhYnrhgzNCIKicSmTdwoyX7BnHZniaCf5Q/132","comment_is_top":false,"comment_ctime":1588918988,"is_pvip":false,"replies":[{"id":"79684","content":"这个构建成功了，但是测试用例有没有通过的。这个非常正常，目前代码中有一些测试用例是经常失败的，严格来说是Kafka的bug","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1588983769,"ip_address":"","comment_id":215163,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1588918988","product_id":100050101,"comment_content":"FAILURE: Build failed with an exception.<br><br>* What went wrong:<br>Execution failed for task &#39;:clients:test&#39;.<br>&gt; There were failing tests. See the report at: file:&#47;&#47;&#47;D:&#47;project&#47;kafka&#47;kafka&#47;clients&#47;build&#47;reports&#47;tests&#47;test&#47;index.html<br><br>* Try:<br>Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.<br><br>* Get more help at https:&#47;&#47;help.gradle.org<br><br>Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.<br>Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494340,"discussion_content":"这个构建成功了，但是测试用例有没有通过的。这个非常正常，目前代码中有一些测试用例是经常失败的，严格来说是Kafka的bug","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588983769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":215147,"user_name":"公明","can_delete":false,"product_type":"c1","uid":1515017,"ip_address":"","ucode":"7357D2BD3BF771","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJwicoopV8ZJu98YeSbXXX3zZiamdWIzKaXpCE2iaYKt4mPKtQQ6nX4powYgR9IJ1T100bicGoavic1kWQ/132","comment_is_top":false,"comment_ctime":1588915595,"is_pvip":false,"replies":[{"id":"79685","content":"测试用例失败了，不用理会。严格来说你已经build成功了。目前代码中有一些测试用例经常失败，多run几次就可以了。不过最好查看一下file:&#47;&#47;&#47;D:&#47;workspace&#47;kafka&#47;clients&#47;build&#47;reports&#47;tests&#47;test&#47;index.html，看看是哪些case失败了。","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1588983825,"ip_address":"","comment_id":215147,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1588915595","product_id":100050101,"comment_content":"胡老师好，window10，gradle自己安装的6.3<br>运行的 gradle.bat build命令<br>&gt; There were failing tests. See the report at: file:&#47;&#47;&#47;D:&#47;workspace&#47;kafka&#47;clients&#47;build&#47;reports&#47;tests&#47;test&#47;index.html<br><br>* Try:<br>Run with --info or --debug option to get more log output. Run with --scan to get full insights.<br><br>* Exception is:<br>org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:clients:test&#39;.<br>......省略<br>Caused by: org.gradle.api.GradleException: There were failing tests. See the report at: file:&#47;&#47;&#47;D:&#47;workspace&#47;kafka&#47;clients&#47;build&#47;reports&#47;tests&#47;test&#47;index.html<br>        at org.gradle.api.tasks.testing.AbstractTestTask.handleTestFailures(AbstractTestTask.java:614)","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494332,"discussion_content":"测试用例失败了，不用理会。严格来说你已经build成功了。目前代码中有一些测试用例经常失败，多run几次就可以了。不过最好查看一下file:///D:/workspace/kafka/clients/build/reports/tests/test/index.html，看看是哪些case失败了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588983825,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214628,"user_name":"zhu jk","can_delete":false,"product_type":"c1","uid":1855636,"ip_address":"","ucode":"30E6ECA12025C2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIN1ibVbITlruVOp1Z5VC01FNXuOeBemuT0ThaGeyM8XyuCWhxNHNbibkYw9Oia66NiaePrlXmXzgnLAA/132","comment_is_top":false,"comment_ctime":1588774882,"is_pvip":false,"replies":[{"id":"79565","content":"嗯嗯，你使用的是社区的trunk代码吗？<br><br>","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1588846083,"ip_address":"","comment_id":214628,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1588774882","product_id":100050101,"comment_content":"老师，不好意思，命令敲错了，<br>at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)<br>        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)<br>        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)<br>        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)<br>        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)<br>        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)<br>Caused by: groovy.lang.GroovyRuntimeException: Cannot set the value of read-only property &#39;additionalSourceDirs&#39; for task &#39;:jacoco<br>RootReport&#39; of type org.gradle.testing.jacoco.tasks.JacocoReport.<br>        at org.gradle.internal.metaobject.AbstractDynamicObject.setReadOnlyProperty(AbstractDynamicObject.java:134)<br>        at org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.setProperty(BeanDynamicObject.java:371)<br>        at org.gradle.internal.metaobject.BeanDynamicObject.trySetProperty(BeanDynamicObject.java:180)<br>        at org.gradle.internal.metaobject.CompositeDynamicObject.trySetProperty(CompositeDynamicObject.java:66)<br>        at org.gradle.internal.metaobject.ConfigureDelegate.setProperty(ConfigureDelegate.java:94)<br>        at build_3ywzl72hbgcld6z4bbzgui5qc$_run_closure5.doCall(D:\\kafka\\build.gradle:291)<br>        at org.gradle.util.ClosureBackedAction.execute(ClosureBackedAction.java:71)<br>        at org.gradle.util.ConfigureUtil.configureTarget(ConfigureUtil.java:154)<br>        at org.gradle.util.ConfigureUtil.configureSelf(ConfigureUtil.java:130)<br>        at org.gradle.api.internal.AbstractTask.configure(AbstractTask.java:597)<br>        at org.gradle.api.internal.project.DefaultProject.task(DefaultProject.java:1274)<br>错误太长了，就粘了错误上下的地方<br>        <br><br>","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494145,"discussion_content":"嗯嗯，你使用的是社区的trunk代码吗？\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588846083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1855636,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIN1ibVbITlruVOp1Z5VC01FNXuOeBemuT0ThaGeyM8XyuCWhxNHNbibkYw9Oia66NiaePrlXmXzgnLAA/132","nickname":"zhu jk","note":"","ucode":"30E6ECA12025C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":260541,"discussion_content":"我看了一下是0.10.0版本，我换了trunk版本，还是报错，\n> Task :clients:test FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task &#39;:clients:test&#39;.\n> There were failing tests. See the report at: file:///D:/kafka/clients/build/reports/tests/test/index.html\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to\nget full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.3/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 5m 3s\n21 actionable tasks: 3 executed, 18 up-to-date\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588866160,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214261,"user_name":"U2","can_delete":false,"product_type":"c1","uid":1387827,"ip_address":"","ucode":"8F6902D802FC66","user_header":"https://static001.geekbang.org/account/avatar/00/15/2d/33/2489480f.jpg","comment_is_top":false,"comment_ctime":1588687260,"is_pvip":false,"replies":[{"id":"79350","content":"windows平台下你需要自行安装Gradle 6.3，是这个版本吧？","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1588726075,"ip_address":"","comment_id":214261,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1588687260","product_id":100050101,"comment_content":" FAILURE: Build failed with an exception.<br><br> * Where:<br> Build file &#39;D:\\IDEA_WorkSpace_DATA\\kafka\\kafka\\build.gradle&#39; line: 425<br><br> * What went wrong:<br> A problem occurred evaluating root project &#39;kafka&#39;.<br> &gt; Failed to apply plugin [id &#39;org.gradle.scala&#39;]<br>    &gt; Could not find method scala() for arguments [build_8fovasgxikn1u4oofqzi4l8yq$_run_closure5$_closure75$_closure107@2e164547] <br>老师 kafka版本也对 都是对的 但是编译还是报这个错误 怎么解决啊？ ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494005,"discussion_content":"windows平台下你需要自行安装Gradle 6.3，是这个版本吧？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588726075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1387827,"avatar":"https://static001.geekbang.org/account/avatar/00/15/2d/33/2489480f.jpg","nickname":"U2","note":"","ucode":"8F6902D802FC66","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":260831,"discussion_content":"好了好了 谢谢老师","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588906150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214172,"user_name":"zhu jk","can_delete":false,"product_type":"c1","uid":1855636,"ip_address":"","ucode":"30E6ECA12025C2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIN1ibVbITlruVOp1Z5VC01FNXuOeBemuT0ThaGeyM8XyuCWhxNHNbibkYw9Oia66NiaePrlXmXzgnLAA/132","comment_is_top":false,"comment_ctime":1588670591,"is_pvip":false,"replies":[{"id":"79375","content":"看样子默认gradle程序是6.3版本，有些奇怪的是居然出现了“**** Gradle 7.0”的字眼。能否在命令后边加一个--stacktrace看看有无详细的出错信息","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1588743986,"ip_address":"","comment_id":214172,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1588670591","product_id":100050101,"comment_content":"D:\\kafka&gt;gradle -v<br><br>------------------------------------------------------------<br>Gradle 6.3<br>------------------------------------------------------------<br><br>Build time:   2020-03-24 19:52:07 UTC<br>Revision:     bacd40b727b0130eeac8855ae3f9fd9a0b207c60<br><br>Kotlin:       1.3.70<br>Groovy:       2.5.10<br>Ant:          Apache Ant(TM) version 1.10.7 compiled on September 1 2019<br>JVM:          1.8.0_231 (Oracle Corporation 25.231-b11)<br>OS:           Windows 10 10.0 amd64<br>D:\\kafka&gt;gradle.bat build<br><br>FAILURE: Build failed with an exception.<br><br>* Where:<br>Build file &#39;D:\\kafka\\build.gradle&#39; line: 291<br><br>* What went wrong:<br>A problem occurred evaluating root project &#39;kafka&#39;.<br>&gt; Cannot set the value of read-only property &#39;additionalSourceDirs&#39; for task &#39;:jacocoRootReport&#39; of type org.gradle.testing.ja<br>coco.tasks.JacocoReport.<br><br>* Try:<br>Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan<br> to get full insights.<br><br>* Get more help at https:&#47;&#47;help.gradle.org<br><br>Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.<br>Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.<br>See https:&#47;&#47;docs.gradle.org&#47;6.3&#47;userguide&#47;command_line_interface.html#sec:command_line_warnings<br><br>BUILD FAILED in 2s<br>老师，您好，这个问题怎么解决啊  Cannot set the value of read-only property &#39;additionalSourceDirs&#39; for task &#39;:jacocoRootReport&#39; of type org.gradle.testing.ja<br>coco.tasks.JacocoReport<br>","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493974,"discussion_content":"看样子默认gradle程序是6.3版本，有些奇怪的是居然出现了“**** Gradle 7.0”的字眼。能否在命令后边加一个--stacktrace看看有无详细的出错信息","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588743986,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1855636,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIN1ibVbITlruVOp1Z5VC01FNXuOeBemuT0ThaGeyM8XyuCWhxNHNbibkYw9Oia66NiaePrlXmXzgnLAA/132","nickname":"zhu jk","note":"","ucode":"30E6ECA12025C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261133,"discussion_content":"用gradle 5.6.2版本进行gradle build可以构建成功吗，我之前用的不是trunk代码，换成trunk代码报Execution failed for task &#39;:clients:test，clients构建不成功","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588942229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1187574,"avatar":"https://static001.geekbang.org/account/avatar/00/12/1e/f6/bc1057b6.jpg","nickname":"起风了","note":"","ucode":"D484DA2178FB6E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261045,"discussion_content":"我也遇到了类似问题，如果有小伙伴出现这个问题的话，可以下载gradle 5.6.2版本的进行gradle build 我试了gradle6.X的版本都会出现问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588933246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":213455,"user_name":"南北少卿","can_delete":false,"product_type":"c1","uid":1018958,"ip_address":"","ucode":"DFCC59F2BBD8CE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/4e/b81969fa.jpg","comment_is_top":false,"comment_ctime":1588418211,"is_pvip":false,"replies":[{"id":"79374","content":"看看是不是在下载jar包。首次build时间很长","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1588743852,"ip_address":"","comment_id":213455,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1588418211","product_id":100050101,"comment_content":"19:05:41: Executing task &#39;Kafka.main()&#39;...<br><br>Starting Gradle Daemon...<br>Connected to the target VM, address: &#39;127.0.0.1:60248&#39;, transport: &#39;socket&#39;<br>Gradle Daemon started in 5 s 642 ms<br><br>&gt; Configure project :<br>Building project &#39;core&#39; with Scala version 2.13.2<br>Building project &#39;streams-scala&#39; with Scala version 2.13.2<br><br>&gt; Task :generator:compileJava UP-TO-DATE<br>&gt; Task :generator:processResources NO-SOURCE<br>&gt; Task :generator:classes UP-TO-DATE<br>Connected to the VM started by &#39;:clients:processMessages&#39; (localhost:60269). Open the debugger session tab<br><br>&gt; Task :clients:processMessages<br>MessageGenerator: processed 103 Kafka message JSON files(s).<br><br>&gt; Task :clients:compileJava UP-TO-DATE<br>&gt; Task :clients:processResources UP-TO-DATE<br>&gt; Task :clients:classes UP-TO-DATE<br>&gt; Task :clients:determineCommitId UP-TO-DATE<br>&gt; Task :clients:createVersionFile<br>&gt; Task :clients:jar UP-TO-DATE<br>&gt; Task :core:compileJava UP-TO-DATE<br>Connected to the VM started by &#39;:core:Kafka.main()&#39; (localhost:60284). Open the debugger session tab<br>&gt; Task :core:compileScala<br>&gt; Task :core:processResources NO-SOURCE<br>&gt; Task :core:classes<br>&gt; Task :core:Kafka.main()<br>一直在這個地方轉圈","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493788,"discussion_content":"看看是不是在下载jar包。首次build时间很长","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588743852,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212643,"user_name":"霍云Obsidian","can_delete":false,"product_type":"c1","uid":1178275,"ip_address":"","ucode":"1E5818D5C01576","user_header":"https://static001.geekbang.org/account/avatar/00/11/fa/a3/1b29f975.jpg","comment_is_top":false,"comment_ctime":1588169312,"is_pvip":false,"replies":[{"id":"79031","content":"Central Maven库确实是头疼。。。。","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1588209121,"ip_address":"","comment_id":212643,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1588169312","product_id":100050101,"comment_content":"唉难受，开始怎么弄都不行。mac环境<br><br>在~&#47;.gradle&#47;gradle.properties文件中 是可以配代理的，这样就顺畅了。。。<br> systemProp.https.proxyPort=1087<br> systemProp.http.proxyHost=127.0.0.1<br> systemProp.https.proxyHost=127.0.0.1<br> systemProp.http.proxyPort=1087<br>","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493572,"discussion_content":"Central Maven库确实是头疼。。。。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588209121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":211054,"user_name":"南北少卿","can_delete":false,"product_type":"c1","uid":1018958,"ip_address":"","ucode":"DFCC59F2BBD8CE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/4e/b81969fa.jpg","comment_is_top":false,"comment_ctime":1587889094,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587889094","product_id":100050101,"comment_content":"老师构建后,有没有遇到过这个错误org.apache.kafka.common.utils.ShellTest &gt; testRunProgramWithErrorReturn FAILED<br>    java.lang.AssertionError: Unexpected error message &#39;head: 无法打开&#39;&#47;dev&#47;a&#47;path&#47;that&#47;does&#47;not&#47;exist&#47;in&#47;the&#47;filesystem&#39; 读取数据: 没有那个文件或目录<br>","like_count":0},{"had_liked":false,"id":211050,"user_name":"南北少卿","can_delete":false,"product_type":"c1","uid":1018958,"ip_address":"","ucode":"DFCC59F2BBD8CE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/4e/b81969fa.jpg","comment_is_top":false,"comment_ctime":1587888767,"is_pvip":false,"replies":[{"id":"78571","content":"哈哈哈，感觉可以给社区开个bugfix。源码假设你在英文操作系统下运行，因此得到的错误是这样的：No such file ...... 或...... illegal byte count<br><br>看样子，你的是中文操作系统，得到的错误是&quot;没有那个文件或目录&quot;","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587952324,"ip_address":"","comment_id":211050,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587888767","product_id":100050101,"comment_content":"执行命令$ .&#47;gradlew build报错,报错信息:<br>org.apache.kafka.common.utils.ShellTest &gt; testRunProgramWithErrorReturn FAILED<br>    java.lang.AssertionError: Unexpected error message &#39;head: 无法打开&#39;&#47;dev&#47;a&#47;path&#47;that&#47;does&#47;not&#47;exist&#47;in&#47;the&#47;filesystem&#39; 读取数据: 没有那个文件或目录<br>    &#39;<br>        at org.junit.Assert.fail(Assert.java:89)<br>        at org.junit.Assert.assertTrue(Assert.java:42)<br>        at org.apache.kafka.common.utils.ShellTest.testRunProgramWithErrorReturn(ShellTest.java:70)<br><br>org.apache.kafka.common.utils.ShellTest &gt; testHeadDevZero PASSED<br>org.apache.kafka.common.utils.ShellTest.testAttemptToRunNonExistentProgram failed, log available in &#47;home&#47;szmz011&#47;Desktop&#47;dev&#47;linux-dev-tools&#47;source-all&#47;kafka&#47;clients&#47;build&#47;reports&#47;testOutput&#47;org.apache.kafka.common.utils.ShellTest.testAttemptToRunNonExistentProgram.test.stdout<br><br>org.apache.kafka.common.utils.ShellTest &gt; testAttemptToRunNonExistentProgram FAILED<br>    java.lang.AssertionError<br>        at org.junit.Assert.fail(Assert.java:87)<br>        at org.junit.Assert.assertTrue(Assert.java:42)<br>        at org.junit.Assert.assertTrue(Assert.java:53)<br>        at org.apache.kafka.common.utils.ShellTest.testAttemptToRunNonExistentProgram(ShellTest.java:58)<br>","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493181,"discussion_content":"哈哈哈，感觉可以给社区开个bugfix。源码假设你在英文操作系统下运行，因此得到的错误是这样的：No such file ...... 或...... illegal byte count\n\n看样子，你的是中文操作系统，得到的错误是&amp;quot;没有那个文件或目录&amp;quot;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587952324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":211029,"user_name":"努力奋斗的Pisces","can_delete":false,"product_type":"c1","uid":1336441,"ip_address":"","ucode":"AD4F8909CF190A","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/79/f1e1ca76.jpg","comment_is_top":false,"comment_ctime":1587883542,"is_pvip":true,"replies":[{"id":"78506","content":"👍","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587896542,"ip_address":"","comment_id":211029,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587883542","product_id":100050101,"comment_content":"if [ &quot;x$KAFKA_HEAP_OPTS&quot; = &quot;x&quot; ]; then<br>    export KAFKA_HEAP_OPTS=&quot;-Xmx512M&quot;<br>fi<br>exec $(dirname $0)&#47;kafka-run-class.sh kafka.tools.ConsoleProducer &quot;$@&quot;","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493172,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587896542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210523,"user_name":"小叶","can_delete":false,"product_type":"c1","uid":1271831,"ip_address":"","ucode":"639A452A0634FA","user_header":"https://static001.geekbang.org/account/avatar/00/13/68/17/8cc195cc.jpg","comment_is_top":false,"comment_ctime":1587783547,"is_pvip":true,"replies":[{"id":"78471","content":"1. Mac环境直接使用gradlew吧，如果一定要自己安装的Gradle，那么升级到6.3<br>2. 手动下载gradle-wrapper.jar，否则就只能翻墙。今天我修改了文章中的步骤，给出了这个jar包的下载链接<br>","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587868125,"ip_address":"","comment_id":210523,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587783547","product_id":100050101,"comment_content":"问题提交：<br>  环境：<br>    操作系统：macOS 10.15.4<br>    gradle版本：5.6<br>    scala版本：2.12.5<br>    <br>  问题描述：<br>    1. 在kafka根目录下执行gradle时报以下错误（截取）<br>Caused by: org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method scala() for arguments [build_a3ykqwh1lxhsq36kimpmodpe9$_run_closure5$_closure73$_closure105@2f060d45] on object of type org.gradle.api.plugins.scala.ScalaPlugin.  <br><br>  2.在留言中采用老师使用项目中的gradlew 报以下错误<br>   curl: (7) Failed to connect to raw.githubusercontent.com port 443: Connection refused<br><br>  3.问题2中，我加了代理（梯子）再去执行gradlew报没有匹配的证书问题:<br>    url: (60) SSL: no alternative certificate subject name matches target host name &#39;raw.githubusercontent.com&#39;<br><br>咋破……<br>More details here: https:&#47;&#47;curl.haxx.se&#47;docs&#47;sslcerts.html<br>","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493046,"discussion_content":"1. Mac环境直接使用gradlew吧，如果一定要自己安装的Gradle，那么升级到6.3\n2. 手动下载gradle-wrapper.jar，否则就只能翻墙。今天我修改了文章中的步骤，给出了这个jar包的下载链接\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587868125,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210521,"user_name":"红叶一先","can_delete":false,"product_type":"c1","uid":1408564,"ip_address":"","ucode":"7AACB302825F8A","user_header":"https://static001.geekbang.org/account/avatar/00/15/7e/34/3f6fa51d.jpg","comment_is_top":false,"comment_ctime":1587783212,"is_pvip":false,"replies":[{"id":"78472","content":"一言总结下：Mac、Linux用gradlew，windows上用自己安装的Gradle 6.3","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587868161,"ip_address":"","comment_id":210521,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587783212","product_id":100050101,"comment_content":"Build file &#39;&#47;software&#47;kafka&#47;build.gradle&#39; line: 169<br><br>* What went wrong:<br>A problem occurred evaluating root project &#39;kafka&#39;.<br>&gt; Failed to apply plugin [class &#39;com.github.spotbugs.snom.SpotBugsBasePlugin&#39;]<br>   &gt; Gradle version Gradle 5.3.1 is unsupported. Please use Gradle 5.6 or later.<br><br>* Try:<br>Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log outp<br>ut. Run with --scan to get full insights.<br>gradle版本低，而且真是慢，还总中断。老师编译好，我们直接下载用，自己编译真的很慢。","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493044,"discussion_content":"一言总结下：Mac、Linux用gradlew，windows上用自己安装的Gradle 6.3","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587868161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210044,"user_name":"魔曦","can_delete":false,"product_type":"c1","uid":1045408,"ip_address":"","ucode":"87BA5EC5B0BC42","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f3/a0/a693e561.jpg","comment_is_top":false,"comment_ctime":1587656465,"is_pvip":false,"replies":[{"id":"78367","content":"直接用社区自带的wrapper命令试试吧。就是Kafka工程下的gradlew","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587712372,"ip_address":"","comment_id":210044,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1587656465","product_id":100050101,"comment_content":"环境：<br>➜  ~ java -version<br>java version &quot;1.8.0_201&quot;<br><br>➜  ~ gradle -v<br>------------------------------------------------------------<br>Gradle 5.6.3<br>------------------------------------------------------------<br>Build time:   2019-10-18 00:28:36 UTC<br>Revision:     bd168bbf5d152c479186a897f2cea494b7875d13<br>Kotlin:       1.3.41<br>Groovy:       2.5.4<br>Ant:          Apache Ant(TM) version 1.9.14 compiled on March 12 2019<br>JVM:          1.8.0_201 (Oracle Corporation 25.201-b09)<br>OS:           Mac OS X 10.14 x86_64<br><br>➜  kafka git:(trunk) gradle -s           <br>&gt; Configure project :<br>Building project &#39;core&#39; with Scala version 2.12.11<br>FAILURE: Build failed with an exception.<br>* Where:<br>Build file &#39;#####&#47;work&#47;kafka&#47;build.gradle&#39; line: 427<br>* What went wrong:<br>A problem occurred evaluating root project &#39;kafka&#39;.<br>&gt; Failed to apply plugin [id &#39;org.gradle.scala&#39;]<br>   &gt; Could not find method scala() for arguments [build_926b69telpkqm6isp4xilyqdj$_run_closure5$_closure73$_closure105@75255f9] on object of type org.gradle.api.plugins.scala.ScalaPlugin.<br>* Try:<br>Run with --info or --debug option to get more log output. Run with --scan to get full insights.<br><br>* Exception is:<br>org.gradle.api.GradleScriptException: A problem occurred evaluating root project &#39;kafka&#39;.<br>        at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)<br>Caused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin [id &#39;org.gradle.scala&#39;]<br>Caused by: org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method scala() for arguments [build_926b69telpkqm6isp4xilyqdj$_run_closure5$_closure73$_closure105@75255f9] on object of type org.gradle.api.plugins.scala.ScalaPlugin.<br>        at org.gradle.internal.metaobject.AbstractDynamicObject.methodMissingException(AbstractDynamicObject.java:182)","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492924,"discussion_content":"直接用社区自带的wrapper命令试试吧。就是Kafka工程下的gradlew","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587712372,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045408,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f3/a0/a693e561.jpg","nickname":"魔曦","note":"","ucode":"87BA5EC5B0BC42","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":245949,"discussion_content":"好的，我试试，可以建个微信群吗？方便交流","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587714580,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":209905,"user_name":"Red Cape","can_delete":false,"product_type":"c1","uid":1245056,"ip_address":"","ucode":"12B69514E3EE11","user_header":"https://static001.geekbang.org/account/avatar/00/12/ff/80/382e46b6.jpg","comment_is_top":false,"comment_ctime":1587634057,"is_pvip":false,"replies":[{"id":"78369","content":"你看到了USAGE: java [options] KafkaServer server.properties [--override property=value]*已经说明调试成功了","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587712643,"ip_address":"","comment_id":209905,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1587634057","product_id":100050101,"comment_content":"老师，您好，我导入IDEA，运行kafka.main，出现了如下异常，这个怎么解决呢？<br>&gt; Task :core:Kafka.main() FAILED<br>USAGE: java [options] KafkaServer server.properties [--override property=value]*<br>Option               Description                                         <br>------               -----------                                         <br>--override &lt;String&gt;  Optional property that should override values set in<br>                       server.properties file                            <br>--version            Print version information and exit.                 <br><br>Execution failed for task &#39;:core:Kafka.main()&#39;.<br>&gt; Process &#39;command &#39;D:&#47;Program Files&#47;Java&#47;jdk1.8.0_181&#47;bin&#47;java.exe&#39;&#39; finished with non-zero exit value 1","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492893,"discussion_content":"你看到了USAGE: java [options] KafkaServer server.properties [--override property=value]*已经说明调试成功了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587712643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"温故而知新可以为师矣","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":286531,"discussion_content":"兄弟解决了吗？我也卡到这里了（“finished with non-zero exit value 1\n”）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593217126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":209453,"user_name":"健行","can_delete":false,"product_type":"c1","uid":1368555,"ip_address":"","ucode":"51809A0E2299F7","user_header":"https://static001.geekbang.org/account/avatar/00/14/e1/eb/2184d9e8.jpg","comment_is_top":false,"comment_ctime":1587551374,"is_pvip":false,"replies":[{"id":"78226","content":"嗯嗯，别着急。看着是在Windows平台上构建。请问你使用的命令是什么呢？另外你的Gradle版本是多少？","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587604497,"ip_address":"","comment_id":209453,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1587551374","product_id":100050101,"comment_content":"老师，第一步构建的时候卡住了，换了很多版本也不行，请问这个该怎么解决呢<br>&gt; Configure project :<br>Evaluating root project &#39;kafka&#39; using build file &#39;D:\\learning\\kafka\\kafka\\build.gradle&#39;.<br>file or directory &#39;D:\\learning\\kafka\\kafka\\connect\\src\\test\\resources&#39;, not found<br>file or directory &#39;D:\\learning\\kafka\\kafka\\connect\\src\\test\\java&#39;, not found<br>file or directory &#39;D:\\learning\\kafka\\kafka\\examples\\src\\test\\resources&#39;, not found<br>...<br><br>Building project &#39;core&#39; with Scala version 2.12.11<br><br>FAILURE: Build failed with an exception.<br>* Where:<br>Build file &#39;D:\\learning\\kafka\\kafka\\build.gradle&#39; line: 427<br>* What went wrong:<br>A problem occurred evaluating root project &#39;kafka&#39;.<br>&gt; Failed to apply plugin [id &#39;org.gradle.scala&#39;]<br>   &gt; Could not find method scala() for arguments [build_3uhnmnrg9jp5l8j17uca7qyca$_run_closure5$_closure73$_closure105@2269cc8b] on object of type org.gradle.api.plugins.scala.ScalaPlugin.<br><br>* Exception is:org.gradle.api.GradleScriptException: A problem occurred evaluating root project &#39;kafka&#39;.<br>Caused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin [id &#39;org.gradle.scala&#39;]<br>Caused by: org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method scala() for arguments [build_3uhnmnrg9jp5l8j17uca7qyca$_run_closure5$_closure73$_closure105@2269cc8b] on object of type org.gradle.api.plugins.scala.ScalaPlugin.","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492804,"discussion_content":"嗯嗯，别着急。看着是在Windows平台上构建。请问你使用的命令是什么呢？另外你的Gradle版本是多少？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587604497,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1044538,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTImkMRF773AIuZvHy0AesXibANfbwERFzTPneMjUn94EB7hhYnrhgzNCIKicSmTdwoyX7BnHZniaCf5Q/132","nickname":"joyce","note":"","ucode":"34DDC8AC441268","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":260957,"discussion_content":"我的问题跟你的有点相似，我用的6.3 也没编译成功","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588919130,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1368555,"avatar":"https://static001.geekbang.org/account/avatar/00/14/e1/eb/2184d9e8.jpg","nickname":"健行","note":"","ucode":"51809A0E2299F7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":244749,"discussion_content":"All projects evaluated.\nNo tasks specified. Using default task &#39;help&#39;\nSelected primary task &#39;help&#39; from project :\nTasks to be executed: [task &#39;:help&#39;]\nTasks that were excluded: []\nMaking scoverage compilation the primary compilation task (instead of compileScala)\n:help (Thread[Daemon worker,5,main]) started.\n\n> Task :help\nCaching disabled for task &#39;:help&#39; because:\n  Build cache is disabled\nTask &#39;:help&#39; is not up-to-date because:\n  Task has not declared any outputs despite executing actions.\n\nWelcome to Gradle 6.3.\n\nTo run a build, run gradle <task> ...\n\nTo see a list of available tasks, run gradle tasks\n\nTo see a list of command-line options, run gradle --help\n\nTo see more detail about a task, run gradle help --task <task>\n\nFor troubleshooting, visit https://help.gradle.org\n:help (Thread[Daemon worker,5,main]) completed. Took 0.402 secs.\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.3/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD SUCCESSFUL in 3m 26s\n1 actionable task: 1 executed\n\n\n老师，我用gradle6.3编译成功了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587627243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1368555,"avatar":"https://static001.geekbang.org/account/avatar/00/14/e1/eb/2184d9e8.jpg","nickname":"健行","note":"","ucode":"51809A0E2299F7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":244465,"discussion_content":"对的，是在Windows上，下载的是gradle5.6.4,在项目路径下使用gradle命令构建的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587604703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":209294,"user_name":"A","can_delete":false,"product_type":"c1","uid":1564956,"ip_address":"","ucode":"D3616ED46AFF26","user_header":"https://static001.geekbang.org/account/avatar/00/17/e1/1c/1a31359a.jpg","comment_is_top":false,"comment_ctime":1587531045,"is_pvip":false,"replies":[{"id":"78229","content":"嗯嗯，您能提供一下您的环境信息吗，比如Gradle安装的是什么版本以及stacktrace。打印出stacktrace可以使用--stacktrace flag。我们一起看下是什么原因导致的","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587604702,"ip_address":"","comment_id":209294,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587531045","product_id":100050101,"comment_content":"gradlew.bat jar 命令执行不了","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492764,"discussion_content":"嗯嗯，您能提供一下您的环境信息吗，比如Gradle安装的是什么版本以及stacktrace。打印出stacktrace可以使用--stacktrace flag。我们一起看下是什么原因导致的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587604702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":209185,"user_name":"hpfish","can_delete":false,"product_type":"c1","uid":1217377,"ip_address":"","ucode":"86DB066E5B6D89","user_header":"https://static001.geekbang.org/account/avatar/00/12/93/61/3e4607c7.jpg","comment_is_top":false,"comment_ctime":1587517853,"is_pvip":false,"replies":[{"id":"78230","content":"嗯嗯嗯，其实在我看来我反而觉得trunk每天都在变这件事情挺好的，因为我们学习的永远都是最新的代码。当然你也不用过于担心，我们要学习的组件大多是非常稳定的了，本身修改的频率也很低","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587604797,"ip_address":"","comment_id":209185,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587517853","product_id":100050101,"comment_content":"老师,建议还是选取一个稳定的版本分支,trunk分支每天都在变","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492731,"discussion_content":"嗯嗯嗯，其实在我看来我反而觉得trunk每天都在变这件事情挺好的，因为我们学习的永远都是最新的代码。当然你也不用过于担心，我们要学习的组件大多是非常稳定的了，本身修改的频率也很低","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587604797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208657,"user_name":"灰机","can_delete":false,"product_type":"c1","uid":1179580,"ip_address":"","ucode":"46F6CFC2DFAA2B","user_header":"https://static001.geekbang.org/account/avatar/00/11/ff/bc/368b9f80.jpg","comment_is_top":false,"comment_ctime":1587396441,"is_pvip":false,"replies":[{"id":"78139","content":"👍","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587518973,"ip_address":"","comment_id":208657,"utype":1}],"discussion_count":8,"race_medal":0,"score":"1587396441","product_id":100050101,"comment_content":"mac 上 Process &#39;command &#39;&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.8.0_221.jdk&#47;Contents&#47;Home&#47;bin&#47;java&#39;&#39; finished with non-zero exit value 1 这个bug 我发现是因为启动了gradle demon进程~  将本地 gradle.properties里面添加 org.gradle.daemon=false 这个参数 禁止启动gradle-demon进程 更新idea项目刷新gradle缓存即可","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492566,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587518973,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1051563,"avatar":"https://static001.geekbang.org/account/avatar/00/10/0b/ab/0e2857e5.jpg","nickname":"Coding小先","note":"","ucode":"965B1CC757E026","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333084,"discussion_content":"Windows 设置没有用诶，每次都自己启动了个 Gradle Daemon","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607429470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1179580,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ff/bc/368b9f80.jpg","nickname":"灰机","note":"","ucode":"46F6CFC2DFAA2B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1051563,"avatar":"https://static001.geekbang.org/account/avatar/00/10/0b/ab/0e2857e5.jpg","nickname":"Coding小先","note":"","ucode":"965B1CC757E026","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340245,"discussion_content":"你先把Gradle 指向自己本地GradleHome 然后设置这个参数就可以了～ 这个我已经尝试过了～讲道理是可以的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609935295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":333084,"ip_address":""},"score":340245,"extra":""}]},{"author":{"id":1043789,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ed/4d/1d1a1a00.jpg","nickname":"magict4","note":"","ucode":"CB6F063D881AAC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":286387,"discussion_content":"有同样的错误信息，禁用daemon之后还是没有解决问题。请问能分享下是你是怎么定位到是daemon的问题吗？不知道能否打印出详细错误日志，方便定位问题？谢谢！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593157830,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1439569,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f7/51/1bacf04f.jpg","nickname":"Tc","note":"","ucode":"1AB8E0E28E732D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1043789,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ed/4d/1d1a1a00.jpg","nickname":"magict4","note":"","ucode":"CB6F063D881AAC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292261,"discussion_content":"解决了吗，我是windows的，也不行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595158278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":286387,"ip_address":""},"score":292261,"extra":""}]},{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"温故而知新可以为师矣","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":286168,"discussion_content":"大哥，对gradle不太熟，这个&#34;更新idea项目刷新gradle缓存即可&#34;具体是怎么操作？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593079078,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1179960,"avatar":"https://static001.geekbang.org/account/avatar/00/12/01/38/04aae3fc.jpg","nickname":"济沧海","note":"","ucode":"DB1D3B27043B37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":242038,"discussion_content":"我当时在后台kill过，没想到可以在配置中进行设置，大佬厉害啊。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587460481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1179580,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ff/bc/368b9f80.jpg","nickname":"灰机","note":"","ucode":"46F6CFC2DFAA2B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1179960,"avatar":"https://static001.geekbang.org/account/avatar/00/12/01/38/04aae3fc.jpg","nickname":"济沧海","note":"","ucode":"DB1D3B27043B37","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":242080,"discussion_content":"不要在后台kill 后台kill以后下次运行还会启动～ 直接写入到配置文件里面刷新一下就可以了…… 解君忧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587464095,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":242038,"ip_address":""},"score":242080,"extra":""}]}]},{"had_liked":false,"id":208452,"user_name":"yellowcloud","can_delete":false,"product_type":"c1","uid":1397597,"ip_address":"","ucode":"508967ED4BBEFC","user_header":"https://static001.geekbang.org/account/avatar/00/15/53/5d/46d369e5.jpg","comment_is_top":false,"comment_ctime":1587362017,"is_pvip":false,"replies":[{"id":"78145","content":"windows上同样是可以跑的。大部分（注意是大部分）单元测试和Linux上效果一样，少部分测试可能在Windows平台上有问题。如果可能的话，一律使用Mac或Linux系统调试Kafka。目前社区对于Windows上的特有问题基本上也是放任不管了~","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587519950,"ip_address":"","comment_id":208452,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587362017","product_id":100050101,"comment_content":"胡夕老师，这边构建、查看以及运行源码是否都推荐采用linux环境。如果现在没有linux环境，只有windows环境，后面这边的教程和调试是否还能跑通。","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492461,"discussion_content":"windows上同样是可以跑的。大部分（注意是大部分）单元测试和Linux上效果一样，少部分测试可能在Windows平台上有问题。如果可能的话，一律使用Mac或Linux系统调试Kafka。目前社区对于Windows上的特有问题基本上也是放任不管了~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587519950,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208199,"user_name":"每天晒白牙","can_delete":false,"product_type":"c1","uid":1004698,"ip_address":"","ucode":"A1B102CD933DEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","comment_is_top":false,"comment_ctime":1587300341,"is_pvip":false,"replies":[{"id":"77747","content":"看上去像版本兼容的问题。你的java版本是11吗？太高了，能够退回到java 8试试","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587307287,"ip_address":"","comment_id":208199,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1587300341","product_id":100050101,"comment_content":"老师我在将工程导入 idea 后遇到了下面的问题，网上查了也没找到解决的办法，还请老师指点（详细信息在链接中）<br>https:&#47;&#47;app.yinxiang.com&#47;fx&#47;5e718a93-261e-4d1c-b240-791d3cd6fe72","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492376,"discussion_content":"看上去像版本兼容的问题。你的java版本是11吗？太高了，能够退回到java 8试试","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587307287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208076,"user_name":"Shine","can_delete":false,"product_type":"c1","uid":1184853,"ip_address":"","ucode":"BF3DB5ADF2B153","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ydVBBkofXDqCyP7pdwkicHZ9xtyEEuZvzrrkeWcnQjZ1ibEgG60eLotQTsKJFpWibuf6e7G9r0I1xaribUAQibPMl7g/132","comment_is_top":false,"comment_ctime":1587270453,"is_pvip":false,"replies":[{"id":"77807","content":"这些只是警告而已，还有其他的报错信息吗？","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587345267,"ip_address":"","comment_id":208076,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1587270453","product_id":100050101,"comment_content":"一直Task :core:Kafka.main() FAILED<br>&gt; Task :core:Kafka.main()<br>log4j:WARN No appenders could be found for logger (kafka.utils.Log4jControllerRegistration$).<br>log4j:WARN Please initialize the log4j system properly.<br>log4j:WARN See http:&#47;&#47;logging.apache.org&#47;log4j&#47;1.2&#47;faq.html#noconfig for more info.<br><br>&gt; Task :core:Kafka.main() FAILED<br>9 actionable tasks: 2 executed, 7 up-to-date<br><br>FAILURE: Build failed with an exception.","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492333,"discussion_content":"这些只是警告而已，还有其他的报错信息吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587345267,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1130999,"avatar":"https://static001.geekbang.org/account/avatar/00/11/41/f7/8345488c.jpg","nickname":"请叫我小岳同学","note":"","ucode":"E35BBA40FF052A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":246162,"discussion_content":"老师，您好！ Kafka 这款中间件已经小玩3年多了。大部分都是运维场景。您的那本&#34;Apache kafka 实战&#34; 是我的入门书籍。  在日志场景中，kafka 经常会被用来做解耦组件，存储海量数据。然后经计算工具消费完写入 es 。因为等保的要求，日志数据要长久存储。想对现有的日志数据进行计算建模将结果集合存储到 es 中。现在的疑惑是 对数据如何计算。定义什么日志模型，所以想请教老师您，不知道有可以分享的案例或者是例子吗 再次感谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587731588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207954,"user_name":"康熙","can_delete":false,"product_type":"c1","uid":1006263,"ip_address":"","ucode":"70587D0019D94B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5a/b7/f053eda7.jpg","comment_is_top":false,"comment_ctime":1587221980,"is_pvip":true,"replies":[{"id":"77774","content":"👍","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587309070,"ip_address":"","comment_id":207954,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587221980","product_id":100050101,"comment_content":"Scala 语言基础：https:&#47;&#47;docs.scala-lang.org&#47;zh-cn&#47;tour&#47;basics.html<br>希望对大家有帮助。","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492295,"discussion_content":"👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587309070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207501,"user_name":"OurSql","can_delete":false,"product_type":"c1","uid":1097895,"ip_address":"","ucode":"BF82A56A91E1CF","user_header":"https://static001.geekbang.org/account/avatar/00/10/c0/a7/20d3aa92.jpg","comment_is_top":false,"comment_ctime":1587094932,"is_pvip":false,"replies":[{"id":"77506","content":"Windows上开发有的时候不太适合调试。比如你修改了一个功能打包出来在Windows上运行，可能碰到各种各样的问题<br>","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587106018,"ip_address":"","comment_id":207501,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587094932","product_id":100050101,"comment_content":"老师，问一个题外话题，为什么大佬都用mac开发，能否对比下用win开发和mac开发优缺点？","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492149,"discussion_content":"Windows上开发有的时候不太适合调试。比如你修改了一个功能打包出来在Windows上运行，可能碰到各种各样的问题\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587106018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207497,"user_name":"云超","can_delete":false,"product_type":"c1","uid":1581783,"ip_address":"","ucode":"63DFDDAB37A04F","user_header":"https://static001.geekbang.org/account/avatar/00/18/22/d7/ae0ed31f.jpg","comment_is_top":false,"comment_ctime":1587093945,"is_pvip":false,"replies":[{"id":"77507","content":"嗯，那就不要使用它自带的wrapper，用你环境上的gradle<br>","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587106179,"ip_address":"","comment_id":207497,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587093945","product_id":100050101,"comment_content":"我使用的是windows系统，解压后使用gradlew命令的时候，发现命令无法使用，最后发现项目根目录下的gradlew是shell文件，所以我在windows下直接使用gradle jar进行构建了","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492147,"discussion_content":"嗯，那就不要使用它自带的wrapper，用你环境上的gradle\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587106179,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207353,"user_name":"黎","can_delete":false,"product_type":"c1","uid":1008946,"ip_address":"","ucode":"B2AB6BB4D7FE9C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/65/32/74e47b74.jpg","comment_is_top":false,"comment_ctime":1587053066,"is_pvip":false,"replies":[{"id":"77461","content":"谢谢鼓励，源码更精彩，哈哈哈哈","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587088677,"ip_address":"","comment_id":207353,"utype":1}],"discussion_count":1,"race_medal":2,"score":"1587053066","product_id":100050101,"comment_content":"特别欣赏老师纯正的美式发音","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492094,"discussion_content":"谢谢鼓励，源码更精彩，哈哈哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587088677,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207271,"user_name":"🙊顾小顾","can_delete":false,"product_type":"c1","uid":1965728,"ip_address":"","ucode":"FC7974A351586C","user_header":"https://static001.geekbang.org/account/avatar/00/1d/fe/a0/b1212e2b.jpg","comment_is_top":false,"comment_ctime":1587040113,"is_pvip":false,"replies":[{"id":"77464","content":"看着像获取证书的问题。。。确实没想到源码分析的第一步大家就有这么多困难。只能感慨国内开发环境依然不健壮啊~~","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587089121,"ip_address":"","comment_id":207271,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1587040113","product_id":100050101,"comment_content":"配置了阿里镜像，还是好几个pom下载不下来<br>&gt; Could not resolve org.ajoberstar.grgit:grgit-core:1.9.3.<br>         &gt; Could not get resource &#39;https:&#47;&#47;jcenter.bintray.com&#47;org&#47;ajoberstar&#47;grgit&#47;grgit-core&#47;1.9.3&#47;grgit-core-1.9.3.pom&#39;.<br>            &gt; Could not GET &#39;https:&#47;&#47;jcenter.bintray.com&#47;org&#47;ajoberstar&#47;grgit&#47;grgit-core&#47;1.9.3&#47;grgit-core-1.9.3.pom&#39;.<br>               &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492065,"discussion_content":"看着像获取证书的问题。。。确实没想到源码分析的第一步大家就有这么多困难。只能感慨国内开发环境依然不健壮啊~~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587089121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1762252,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e3/cc/0947ff0b.jpg","nickname":"nestle","note":"","ucode":"469800BED81B54","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377805,"discussion_content":"https://www.freesion.com/article/28731382038/ 可以解决这个问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622873407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1179580,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ff/bc/368b9f80.jpg","nickname":"灰机","note":"","ucode":"46F6CFC2DFAA2B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":236004,"discussion_content":"阿里的镜像 有很多jar包都没有 建议开vpn直走国外","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587052026,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206760,"user_name":"奔跑小电驴","can_delete":false,"product_type":"c1","uid":1670951,"ip_address":"","ucode":"36950F0FB59F58","user_header":"https://static001.geekbang.org/account/avatar/00/19/7f/27/9c5ac353.jpg","comment_is_top":false,"comment_ctime":1586930924,"is_pvip":false,"replies":[{"id":"77326","content":"hmmm.... 确实。Maven主仓库在国内出奇地慢。在等等吧","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587003627,"ip_address":"","comment_id":206760,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1586930924","product_id":100050101,"comment_content":"我执行.&#47;gradlew jar打包无比的慢，vpn科学上网之后也很慢，搞不定了。。。。","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491892,"discussion_content":"hmmm.... 确实。Maven主仓库在国内出奇地慢。在等等吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587003627,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1051563,"avatar":"https://static001.geekbang.org/account/avatar/00/10/0b/ab/0e2857e5.jpg","nickname":"Coding小先","note":"","ucode":"965B1CC757E026","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333082,"discussion_content":"用国内镜像源，还挺快的。前提是你先下载和配置好 Gradle","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607429313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1670951,"avatar":"https://static001.geekbang.org/account/avatar/00/19/7f/27/9c5ac353.jpg","nickname":"奔跑小电驴","note":"","ucode":"36950F0FB59F58","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":234898,"discussion_content":"我发现直接下载官网源码之后用IDEA 打开就OK了哈哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587004687,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206667,"user_name":"🐾","can_delete":false,"product_type":"c1","uid":1087256,"ip_address":"","ucode":"D0AD0260351C31","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/18/a5218104.jpg","comment_is_top":false,"comment_ctime":1586915145,"is_pvip":false,"replies":[{"id":"77331","content":"赞赞~","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587003832,"ip_address":"","comment_id":206667,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1586915145","product_id":100050101,"comment_content":"我执行 gradle、.&#47;gradlew jar 都报错，错误信息如下：<br>➜  kafka git:(trunk) gradle<br>executing gradlew instead of gradle<br>curl: (7) Failed to connect to raw.githubusercontent.com port 443: Connection refused<br>curl: (7) Failed to connect to raw.githubusercontent.com port 443: Connection refused<br>curl: (7) Failed to connect to raw.githubusercontent.com port 443: Connection refused<br>错误: 找不到或无法加载主类 org.gradle.wrapper.GradleWrapperMain<br>➜  kafka git:(trunk) .&#47;gradlew jar<br>curl: (7) Failed to connect to raw.githubusercontent.com port 443: Connection refused<br>curl: (7) Failed to connect to raw.githubusercontent.com port 443: Connection refused<br>curl: (7) Failed to connect to raw.githubusercontent.com port 443: Connection refused<br>错误: 找不到或无法加载主类 org.gradle.wrapper.GradleWrapperMain<br><br>我查了项目目录 gradle&#47;wrapper，发现只有一个文件gradle-wrapper.properties，缺少文件 gradle-wrapper.jar。<br>➜  kafka git:(trunk) ll gradle&#47;wrapper <br>total 8<br>-rw-r--r--  1 bobotang  staff   202B  4 14 18:01 gradle-wrapper.properties<br><br>然后执行命令 gradle -v，就会自动下载该 jar 包，<br><br>➜  kafka git:(trunk) gradle -v<br>executing gradlew instead of gradle<br>Downloading https:&#47;&#47;services.gradle.org&#47;distributions&#47;gradle-5.6.2-all.zip<br>..................................................................................<br><br>Welcome to Gradle 5.6.2!<br><br>Here are the highlights of this release:<br> - Incremental Groovy compilation<br> - Groovy compile avoidance<br> - Test fixtures for Java projects<br> - Manage plugin versions via settings script<br><br>For more details see https:&#47;&#47;docs.gradle.org&#47;5.6.2&#47;release-notes.html<br><br>------------------------------------------------------------<br>Gradle 5.6.2<br>------------------------------------------------------------<br><br>Build time:   2019-09-05 16:13:54 UTC<br>Revision:     55a5e53d855db8fc7b0e494412fc624051a8e781<br><br>Kotlin:       1.3.41<br>Groovy:       2.5.4<br>Ant:          Apache Ant(TM) version 1.9.14 compiled on March 12 2019<br>JVM:          1.8.0_241 (Oracle Corporation 25.241-b07)<br>OS:           Mac OS X 10.15 x86_64<br><br>最后再执行文章提到的两个命令  gradle、.&#47;gradlew jar ，就可以成功打成 jar 包。","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491859,"discussion_content":"赞赞~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587003832,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1125656,"avatar":"https://static001.geekbang.org/account/avatar/00/11/2d/18/918eaecf.jpg","nickname":"后端进阶","note":"","ucode":"480F48F5378307","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307297,"discussion_content":"真不知道gradle作者看到这些会不会有一点点的羞耻之心，明明它只是一个构建工具而已，却让使用的人熬费无数的时间在这上面折腾，我现在的心情已经不是在kafka上面了，而是在gradle这里了，一个构建工具而已，为什么做成这个样子呢？在彰显什么呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600592635,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1179097,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/d9/57d59086.jpg","nickname":"疯狂的小强","note":"","ucode":"7C4AF1C96FC2A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":238327,"discussion_content":"找不到或无法加载主类 org.gradle.wrapper.GradleWrapperMain\n这个问题可以试试:  gradle wrapper\n\n参考: https://stackoverflow.com/questions/29805622/could-not-find-or-load-main-class-org-gradle-wrapper-gradlewrappermain","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587218894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206474,"user_name":"delete is create","can_delete":false,"product_type":"c1","uid":1147979,"ip_address":"","ucode":"A8C751219A7746","user_header":"https://static001.geekbang.org/account/avatar/00/11/84/4b/e4738ba8.jpg","comment_is_top":false,"comment_ctime":1586866775,"is_pvip":true,"replies":[{"id":"77336","content":"加油加油！","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587003932,"ip_address":"","comment_id":206474,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586866775","product_id":100050101,"comment_content":"一身立flag无数，却很少执行，今天我老王就立下了，跟上老师的步伐。😏","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491804,"discussion_content":"加油加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587003932,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206442,"user_name":"鲤鲤鱼","can_delete":false,"product_type":"c1","uid":1192046,"ip_address":"","ucode":"D299814DDE1F6C","user_header":"https://static001.geekbang.org/account/avatar/00/12/30/6e/581b0307.jpg","comment_is_top":false,"comment_ctime":1586862086,"is_pvip":false,"replies":[{"id":"77338","content":"底下的那一堆是告警不用管。你的真正问题是OpenSSL SSL_connect: SSL_ERROR_SYSCALL in connection to raw.githubusercontent.com:443，也就是超时。。。<br>估计还是连接国外Maven主仓库或github的问题。","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1587004019,"ip_address":"","comment_id":206442,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586862086","product_id":100050101,"comment_content":"老师我执行的时候报错了：<br>$ .&#47;gradlew jar<br>curl: (35) OpenSSL SSL_connect: SSL_ERROR_SYSCALL in connection to raw.githubusercontent.com:443<br>curl: (35) OpenSSL SSL_connect: SSL_ERROR_SYSCALL in connection to raw.githubusercontent.com:443<br>Starting a Gradle Daemon (subsequent builds will be faster)<br><br>&gt; Configure project :<br>Building project &#39;core&#39; with Scala version 2.12.11<br>Building project &#39;streams-scala&#39; with Scala version 2.12.11<br><br>&gt; Task :clients:processMessages<br>MessageGenerator: processed 103 Kafka message JSON files(s).<br><br>&gt; Task :core:compileScala<br>Pruning sources from previous analysis, due to incompatible CompileSetup.<br>E:\\Դ▒▒\\kafka\\core\\src\\main\\scala\\kafka\\coordinator\\group\\MemberMetadata.scala:31: private object MemberMetadata in package group is never used<br>private object MemberMetadata {<br>               ^<br>E:\\Դ▒▒\\kafka\\core\\src\\main\\scala\\kafka\\network\\RequestChannel.scala:109: parameter value nn in method body is never used<br>    def body[T &lt;: AbstractRequest](implicit classTag: ClassTag[T], nn: NotNothing[T]): T = {<br>                                                                   ^<br>E:\\Դ▒▒\\kafka\\core\\src\\main\\scala\\kafka\\utils\\NotNothing.scala:40: parameter value n in method notNothingEvidence is never used<br>  implicit def notNothingEvidence[T](implicit n: T =:= T): NotNothing[T] = evidence.asInstanceOf[NotNothing[T]]<br>                                              ^<br>E:\\Դ▒▒\\kafka\\core\\src\\main\\scala\\kafka\\utils\\json\\DecodeJson.scala:88: higher-kinded type should be enabled<br>by making the implicit value scala.language.higherKinds visible.<br>This can be achieved by adding the import clause &#39;import scala.language.higherKinds&#39;<br>or by setting the compiler option -language:higherKinds.<br>See the Scaladoc for value scala.language.higherKinds for a discussion<br>why the feature should be explicitly enabled.<br>  implicit def decodeSeq[E, S[+T] &lt;: Seq[E]](implicit decodeJson: DecodeJson[E], factory: Factory[E, S[E]]): DecodeJson[S[E]] = (node: JsonNode) =&gt; {<br>","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491790,"discussion_content":"底下的那一堆是告警不用管。你的真正问题是OpenSSL SSL_connect: SSL_ERROR_SYSCALL in connection to raw.githubusercontent.com:443，也就是超时。。。\n估计还是连接国外Maven主仓库或github的问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587004019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206381,"user_name":"婷","can_delete":false,"product_type":"c1","uid":1612372,"ip_address":"","ucode":"1264B8F777B7CD","user_header":"https://static001.geekbang.org/account/avatar/00/18/9a/54/5d51fda4.jpg","comment_is_top":false,"comment_ctime":1586850569,"is_pvip":false,"replies":[{"id":"77097","content":"不用安装Docker<br>","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1586861973,"ip_address":"","comment_id":206381,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1586850569","product_id":100050101,"comment_content":"需要安装Docker吗？","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491770,"discussion_content":"不用安装Docker\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586861973,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1566117,"avatar":"https://static001.geekbang.org/account/avatar/00/17/e5/a5/f023ec38.jpg","nickname":"小白菜","note":"","ucode":"386F2B9A06EFC3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":234496,"discussion_content":"windows环境能调试？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586965424,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1612372,"avatar":"https://static001.geekbang.org/account/avatar/00/18/9a/54/5d51fda4.jpg","nickname":"婷","note":"","ucode":"1264B8F777B7CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":232228,"discussion_content":"好的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586862176,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206199,"user_name":"Stony.修行僧","can_delete":false,"product_type":"c1","uid":1061277,"ip_address":"","ucode":"0F2368F7D93E4A","user_header":"https://static001.geekbang.org/account/avatar/00/10/31/9d/daad92d2.jpg","comment_is_top":false,"comment_ctime":1586822793,"is_pvip":false,"replies":[{"id":"77006","content":".&#47;gradle idea都可以不用执行的：）","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1586829225,"ip_address":"","comment_id":206199,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586822793","product_id":100050101,"comment_content":"check out Readme.md<br>.&#47; gradlew eclipse<br>或者<br>.&#47;gradle idea","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491711,"discussion_content":"./gradle idea都可以不用执行的：）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586829225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206068,"user_name":" 尿布","can_delete":false,"product_type":"c1","uid":1476323,"ip_address":"","ucode":"D1C8BDA7540962","user_header":"https://static001.geekbang.org/account/avatar/00/16/86/e3/a31f6869.jpg","comment_is_top":false,"comment_ctime":1586783761,"is_pvip":false,"replies":[{"id":"76996","content":"kafka 2.x与1.x的server端都是用Scala写的。另外本专栏的源码是trunk代码，不是以1.x为模板的：）","user_name":"作者回复","user_name_real":"胡夕","uid":"1288090","ctime":1586827995,"ip_address":"","comment_id":206068,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1586783761","product_id":100050101,"comment_content":"kafka2不是java写得吗？还讲1.x版本的源码?","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"胡夕","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491659,"discussion_content":"kafka 2.x与1.x的server端都是用Scala写的。另外本专栏的源码是trunk代码，不是以1.x为模板的：）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586827995,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1051563,"avatar":"https://static001.geekbang.org/account/avatar/00/10/0b/ab/0e2857e5.jpg","nickname":"Coding小先","note":"","ucode":"965B1CC757E026","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333081,"discussion_content":"Kafka 客户端源码才是从 Scala 改为 Java","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607429236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1016905,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/84/49/47d48fd0.jpg","nickname":"观弈道人","note":"","ucode":"F3BB619A33C605","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":231633,"discussion_content":"你说的用java写的是客户端吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586825849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":617638,"title":"67 | 标准库：Python 默认提供的便捷功能有哪些？","content":"<p><strong>本讲相关链接</strong><br>\n标准库中的所有组件目录：<a href=\"https://docs.python.org/zh-cn/3.10/library/index.html\">https://docs.python.org/zh-cn/3.10/library/index.html</a><br>\n官方文档：<br>\n<a href=\"https://docs.python.org/zh-cn/3.10/library/urllib.request.html#examples\">https://docs.python.org/zh-cn/3.10/library/urllib.request.html#examples</a></p><p><strong>课后习题</strong><br>\n某项目采用 zip 压缩格式，保存了文件 a.txt，它的目录结构如下：</p><pre><code>a.zip\n  ___ a.txt\n  ___ b.txt\n …\n</code></pre><p>请参考官方文档，使用 Python 读取 a.txt 文件中的内容，并打印到终端。</p><p><strong>课程代码、课件及其他相关资料地址</strong><br>\n<a href=\"https://gitee.com/wilsonyin/zero-basics-python\">https://gitee.com/wilsonyin/zero-basics-python</a></p>","comments":[{"had_liked":false,"id":366936,"user_name":"Seven","can_delete":false,"product_type":"c3","uid":2403766,"ip_address":"四川","ucode":"37D99CF8535CDE","user_header":"https://static001.geekbang.org/account/avatar/00/24/ad/b6/a8caa2c7.jpg","comment_is_top":false,"comment_ctime":1674634882,"is_pvip":false,"replies":[{"id":133720,"content":"不一样的， 首先类有个私有属性的概念，结构体是没有的。另外，类和对象应该先理解为存在一个对象，对象具有属性和方法，这里的属性一般是用一个变量可以描述清楚的值，方法是复杂的能力，比如 一个硬盘对象，属性有容量、速度等，而硬盘对象的方法则是 存储数据、读取数据、删除数据等。 而一类相同的对象可以被抽象为类，比如机械硬盘类、固态硬盘类，再根据需要定义一类对象（也就是python里的类），将相同的属性和方法定义在类里面， 当你需要使用硬盘对象的时候，可以从类里面再实例化它们。","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1674793028,"ip_address":"广东","comment_id":366936,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"03:32 这里 datetime.date ; datetime.time 都是是一个类, 这里想请教下老师, 在Python中类和属性 的定义与一般静态语言包中的 结构体&#47;类 的是一个意思吗?","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":600726,"discussion_content":"不一样的， 首先类有个私有属性的概念，结构体是没有的。另外，类和对象应该先理解为存在一个对象，对象具有属性和方法，这里的属性一般是用一个变量可以描述清楚的值，方法是复杂的能力，比如 一个硬盘对象，属性有容量、速度等，而硬盘对象的方法则是 存储数据、读取数据、删除数据等。 而一类相同的对象可以被抽象为类，比如机械硬盘类、固态硬盘类，再根据需要定义一类对象（也就是python里的类），将相同的属性和方法定义在类里面， 当你需要使用硬盘对象的时候，可以从类里面再实例化它们。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1674793028,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367217,"user_name":"聪少 Jeff","can_delete":false,"product_type":"c3","uid":1159983,"ip_address":"广东","ucode":"C791ACA9B47679","user_header":"https://static001.geekbang.org/account/avatar/00/11/b3/2f/d08a1363.jpg","comment_is_top":false,"comment_ctime":1675046495,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"上交作业\nimport os\nfrom zipfile import ZipFile\n# 给文件写内容\nwith open(&#39;a.txt&#39;, &#39;w&#39;) as myfile:\n    myfile.write(&#39;Hello a ZipFile\\n&#39;)\n# 将文件压缩\nwith ZipFile(&#39;a.zip&#39;, &#39;w&#39;) as myzip:\n    myzip.write(&#39;a.txt&#39;)\n# 开始读取压缩文件内容\nwith ZipFile(&#39;a.zip&#39;, &#39;r&#39;) as myzip:\n    with myzip.open(&#39;a.txt&#39;) as myfile:\n        print(myfile.read())","like_count":1},{"had_liked":false,"id":395969,"user_name":"尹长拟","can_delete":false,"product_type":"c3","uid":3074007,"ip_address":"北京","ucode":"1EBD42B5BBD934","user_header":"","comment_is_top":false,"comment_ctime":1732539681,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import zipfile\n\nwith zipfile.ZipFile(&#39;.&#47;a.zip&#39;,&#39;r&#39;) as f_zip:\n    with f_zip.open(&#39;a.txt&#39;,&#39;r&#39;) as f_txt:\n        print(f_txt.read().decode(&#39;utf-8&#39;))","like_count":0},{"had_liked":false,"id":385068,"user_name":"Geek_631607","can_delete":false,"product_type":"c3","uid":3789991,"ip_address":"广东","ucode":"EAF874838F0BE4","user_header":"","comment_is_top":false,"comment_ctime":1702017162,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"from zipfile import ZipFile\n\nwith ZipFile(&#39;.&#47;a.zip&#39;) as myzip:\n    with myzip.open(&#39;a.txt&#39;) as myfile:\n        print(myfile.read())","like_count":0},{"had_liked":false,"id":384553,"user_name":"依托答辩","can_delete":false,"product_type":"c3","uid":2383299,"ip_address":"上海","ucode":"4BE79E8A030813","user_header":"https://static001.geekbang.org/account/avatar/00/24/5d/c3/b8bb888c.jpg","comment_is_top":false,"comment_ctime":1701158511,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"def get_zip_file_content():\n  import zipfile\n  with zipfile.ZipFile(f&quot;{BASE_PATH}a.zip&quot;, &#39;r&#39;, metadata_encoding=&#39;utf-8&#39;) as f:\n    file_content = f.read(&#39;a.txt&#39;).decode(&#39;utf-8&#39;) # 使用decode解码文件内容\n    print(file_content)\nget_zip_file_content()","like_count":0},{"had_liked":false,"id":384552,"user_name":"依托答辩","can_delete":false,"product_type":"c3","uid":2383299,"ip_address":"上海","ucode":"4BE79E8A030813","user_header":"https://static001.geekbang.org/account/avatar/00/24/5d/c3/b8bb888c.jpg","comment_is_top":false,"comment_ctime":1701157991,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"使用zipfile时，如果a.txt里是中文，应该怎么让输入的内容也是中文","like_count":0,"discussions":[{"author":{"id":1273252,"avatar":"https://static001.geekbang.org/account/avatar/00/13/6d/a4/e07825c8.jpg","nickname":"haoleir","note":"","ucode":"3FAC05601B5752","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":641910,"discussion_content":"from zipfile import ZipFile\n\n# 给文件写内容\nwith open(&#39;a.txt&#39;, &#39;w&#39;, encoding=&#34;GBK&#34;) as myfile:\n    myfile.write(&#39;你好，Python！\\n&#39;)\n# 将文件压缩\nwith ZipFile(&#39;a.zip&#39;, &#39;w&#39;) as myzip:\n    myzip.write(&#39;a.txt&#39;)\n# 开始读取压缩文件内容\nwith ZipFile(&#39;a.zip&#39;, &#39;r&#39;) as myzip:\n    with myzip.open(&#39;a.txt&#39;) as myfile:\n        print(myfile.read().decode(&#39;GBK&#39;))","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1713140877,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":382434,"user_name":"MarkG","can_delete":false,"product_type":"c3","uid":3675806,"ip_address":"山东","ucode":"454082595FE769","user_header":"https://static001.geekbang.org/account/avatar/00/38/16/9e/48621655.jpg","comment_is_top":false,"comment_ctime":1697302065,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"from zipfile import ZipFile\n\nwith ZipFile(&#39;a.zip&#39;, &#39;r&#39;) as myzip:\n    with myzip.open(&#39;a.txt&#39;) as myfile:\n        content = myfile.read()\n        print(content)","like_count":0},{"had_liked":false,"id":379065,"user_name":"Geek_Mike","can_delete":false,"product_type":"c3","uid":3196376,"ip_address":"云南","ucode":"CFA942192C3B74","user_header":"https://static001.geekbang.org/account/avatar/00/30/c5/d8/c5509b9c.jpg","comment_is_top":false,"comment_ctime":1691242017,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"from zipfile import ZipFile\n\nwith ZipFile(&#39;&#47;Users&#47;mike&#47;Desktop&#47;zero-basics-python&#47;0&#47;a.zip&#39;, &#39;r&#39;) as azip:\n    with azip.open(&#39;a.txt&#39;, &#39;r&#39;) as a:\n        print(a.read())","like_count":0},{"had_liked":false,"id":378291,"user_name":"Greenery","can_delete":false,"product_type":"c3","uid":3566765,"ip_address":"新加坡","ucode":"16111129C9EBA2","user_header":"https://static001.geekbang.org/account/avatar/00/36/6c/ad/0a694b50.jpg","comment_is_top":false,"comment_ctime":1690034988,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"from zipfile import ZipFile\nwith ZipFile(&#39;a.zip&#39;) as myzip:\n    with myzip.open(&#39;f1.txt&#39;) as myfile:\n        print(myfile.read())","like_count":0},{"had_liked":false,"id":368882,"user_name":"yanyu-xin","can_delete":false,"product_type":"c3","uid":1899757,"ip_address":"广东","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1676865208,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import os\nfrom zipfile import ZipFile\n\nwith ZipFile(&#39;a.zip&#39;, mode=&#39;r&#39;) as myzip:\n    with myzip.open(&#39;a.txt&#39;) as myfile:\n        print(&#39;aaa   &#39;, myfile.read())\n    with myzip.open(&#39;b.txt&#39;) as myfile:\n        print(&#39;bbbb    &#39;, myfile.read())","like_count":0},{"had_liked":false,"id":367549,"user_name":"朱雯","can_delete":false,"product_type":"c3","uid":1035744,"ip_address":"新加坡","ucode":"064C45FBF6B51F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","comment_is_top":false,"comment_ctime":1675317032,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"from zipfile import ZipFile\nwith ZipFile(&#39;a.zip&#39;) as myzip:\n    with myzip.open(&#39;a.txt&#39;) as myfile:\n        print(myfile.read().decode())","like_count":0},{"had_liked":false,"id":366379,"user_name":"江江儿嘛哩哄","can_delete":false,"product_type":"c3","uid":1928117,"ip_address":"浙江","ucode":"E7D6E59551B7F1","user_header":"https://static001.geekbang.org/account/avatar/00/1d/6b/b5/14586a78.jpg","comment_is_top":false,"comment_ctime":1673663310,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"from zipfile import ZipFile\nwith ZipFile(&#39;a.zip&#39;) as myzip:\n    with myzip.open(&#39;a.txt&#39;) as f:\n        data = f.read()\n        print(data)","like_count":0},{"had_liked":false,"id":366076,"user_name":"繁星不灭","can_delete":false,"product_type":"c3","uid":3042945,"ip_address":"广东","ucode":"7610E71D8FF224","user_header":"https://static001.geekbang.org/account/avatar/00/2e/6e/81/a52fe3f6.jpg","comment_is_top":false,"comment_ctime":1673361075,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"1.习题解答：\nimport zipfile\n\nwith zipfile.ZipFile(&quot;a.zip&quot;, &quot;r&quot;) as zip1:\n    print(f&quot;压缩包的名字为:{zip1.filename}&quot;)\n    print(f&quot;压缩包内的文件为:{zip1.namelist()}&quot;)\n    with zip1.open(zip1.namelist()[1],&#39;r&#39;) as file1:\n        print(f&quot;a.txt中的内容为:{file1.read()}&quot;)\n\n2.输出结果：\n压缩包的名字为:a.zip\n压缩包内的文件为:[&#39;a.txt&#39;, &#39;b.txt&#39;]\na.txt中的内容为:b&#39;Here is b.&#39;","like_count":0},{"had_liked":false,"id":365562,"user_name":"PatrickL","can_delete":false,"product_type":"c3","uid":1341431,"ip_address":"上海","ucode":"EF0EC18639B9B2","user_header":"https://static001.geekbang.org/account/avatar/00/14/77/f7/11548247.jpg","comment_is_top":false,"comment_ctime":1672766531,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"import os\nimport zipfile\nwith open(&#39;a.txt&#39;,&#39;w&#39;) as myfile:\n    myfile.write(&#39;aaa\\n&#39;)\nwith zipfile.ZipFile(&#39;a.zip&#39;, &#39;w&#39;) as myzip:\n    myzip.write(&#39;a.txt&#39;)\nos.remove(&#39;.&#47;a.txt&#39;)\nwith zipfile.ZipFile(&#39;a.zip&#39;, &#39;r&#39;) as myzip:\n    print(myzip.read(&#39;a.txt&#39;).decode())\nos.remove(&#39;.&#47;a.zip&#39;)","like_count":0},{"had_liked":false,"id":365289,"user_name":"Matthew","can_delete":false,"product_type":"c3","uid":2843865,"ip_address":"江苏","ucode":"96093089773740","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKSVuNarJuDhBSvHY0giaq6yriceEBKiaKuc04wCYWOuso50noqDexaPJJibJN7PHwvcQppnzsDia1icZkw/132","comment_is_top":false,"comment_ctime":1672322342,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"# MAC\nfrom zipfile import ZipFile\n\nwith ZipFile(&#39;a.zip&#39;) as myzip:\n    with myzip.open(&#39;a.txt&#39;) as myfile:\n        print(myfile.read().decode(encoding = &#39;utf-8&#39;))","like_count":0}]}
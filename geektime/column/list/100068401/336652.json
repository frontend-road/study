{"id":336652,"title":"13 | è½åçš„ä»£ç é£æ ¼ï¼šä½¿ç”¨â€œæ–°â€çš„è¯­è¨€ç‰¹æ€§å’Œç¨‹åºåº“å‡çº§ä½ çš„ä»£ç ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯éƒ‘æ™”ã€‚</p><p>ä¸Šä¸€è®²ï¼Œæˆ‘ä»¬è®²çš„æ˜¯å› ä¸ºä»£ç ä¸ä¸€è‡´é€ æˆçš„åå‘³é“ï¼Œå…¶ä¸­æˆ‘æåˆ°çš„â€œæ–¹æ¡ˆä¸ä¸€è‡´â€ï¼Œæ˜¯å› ä¸ºéšç€æ—¶é—´çš„æµé€ï¼Œæ€»ä¼šæœ‰ä¸€äº›æ–°çš„æ–¹æ¡ˆäº§ç”Ÿï¼Œæ›¿æ¢åŸæœ‰çš„æ–¹æ¡ˆã€‚è¿™å…¶ä¸­ï¼Œæœ€æ˜æ˜¾çš„ä¸€ä¸ªä¾‹å­å°±æ˜¯ç¨‹åºè®¾è®¡è¯­è¨€ã€‚æ²¡æœ‰å“ªé—¨è¯­è¨€æ˜¯å®Œç¾çš„ï¼Œæ‰€ä»¥ï¼Œåªè¦æœ‰ä¸€ä¸ªæ´»è·ƒçš„ç¤¾åŒºï¼Œè¿™é—¨è¯­è¨€å°±ä¼šä¸æ–­åœ°æ¼”è¿›ã€‚</p><p>ä» C++ 11 å¼€å§‹ï¼ŒC++ å¼€å§‹å‡ºç°äº†å¤§è§„æ¨¡çš„æ¼”åŒ–ï¼Œè®©ä¹‹å‰å­¦ä¹  C++çš„äººæ„Ÿè§‰è‡ªå·±å°±åƒæ²¡å­¦è¿‡è¿™é—¨è¯­è¨€ä¸€æ ·ï¼›Python 2 ä¸ Python 3 ç”šè‡³æ˜¯ä¸å…¼å®¹çš„æ¼”åŒ–ï¼›Java ä¹Ÿæ˜¯æ¯éš”ä¸€æ®µæ—¶é—´å°±ä¼šå‡ºç°ä¸€æ¬¡å¤§çš„è¯­è¨€æ¼”è¿›ã€‚</p><p>ä¹Ÿæ­£æ˜¯å› ä¸ºè¯­è¨€æœ¬èº«çš„æ¼”åŒ–ï¼Œåœ¨ä¸åŒæ—¶æœŸæ¥è§¦ä¸åŒç‰ˆæœ¬çš„ç¨‹åºå‘˜å†™å‡ºæ¥çš„ç¨‹åºï¼Œç”šè‡³ä¸åƒæ˜¯åœ¨ç”¨åŒä¸€é—¨è¯­è¨€åœ¨ç¼–ç¨‹ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬æœ‰æœºä¼šçœ‹åˆ°åœ¨åŒä¸€ä¸ªä»£ç åº“ä¸­ï¼Œå„ç§ä¸åŒæ—¶æœŸé£æ ¼çš„ä»£ç å¹¶å­˜ã€‚</p><p>é€šå¸¸æ¥è¯´ï¼Œæ–°çš„è¯­è¨€ç‰¹æ€§éƒ½æ˜¯ä¸ºäº†æé«˜ä»£ç çš„è¡¨è¾¾æ€§ï¼Œå‡å°‘çŠ¯é”™è¯¯çš„å‡ ç‡ã€‚æ‰€ä»¥ï¼Œåœ¨å®è·µä¸­ï¼Œæˆ‘æ˜¯éå¸¸é¼“åŠ±ä½ é‡‡ç”¨æ–°çš„è¯­è¨€ç‰¹æ€§å†™ä»£ç çš„ã€‚</p><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬å°±ä»¥ Java ä¸ºä¾‹ï¼Œè®²è®²å¦‚ä½•ä½¿ç”¨â€œæ–°â€è¯­è¨€ç‰¹æ€§è®©ä»£ç å†™å¾—æ›´å¥½ã€‚å…¶å®ï¼Œè¿™é‡Œçš„â€œæ–°â€åªæ˜¯ç›¸å¯¹çš„ï¼Œæˆ‘å‡†å¤‡è®¨è®ºçš„æ˜¯ Java 8 çš„è¯­è¨€ç‰¹æ€§ï¼ŒæŒ‰ç…§å®˜æ–¹çš„æ ‡å‡†ï¼Œè¿™æ˜¯ä¸€ä¸ªå·²ç»åˆ°äº†ç”Ÿå‘½å‘¨æœŸç»ˆç‚¹çš„ç‰ˆæœ¬ï¼Œåªä¸è¿‡ï¼Œä»è¯­è¨€ç‰¹æ€§ä¸Šæ¥è¯´ï¼ŒJava 8 æ˜¯æœ€è¿‘æœ‰é‡å¤§å˜æ›´çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œè€Œå¾ˆå¤šç¨‹åºå‘˜çš„ç¼–ç ä¹ æƒ¯åœç•™åœ¨æ›´æ—©çš„ç‰ˆæœ¬ã€‚</p><!-- [[[read_end]]] --><h2>Optional</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</p><pre><code>String name = book.getAuthor().getName();\n</code></pre><p>è¿™æ˜¯æˆ‘ä»¬åœ¨è®²â€œ<a href=\"https://time.geekbang.org/column/article/333135\">ç¼ºä¹å°è£…</a>â€æ—¶ç”¨åˆ°çš„ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬è¿™é‡Œæš‚ä¸”ä¸è€ƒè™‘ç¼ºä¹å°è£…çš„é—®é¢˜ã€‚å³ä¾¿å¦‚æ­¤ï¼Œä¸¥æ ¼åœ°è¯´ï¼Œè¿™æ®µä»£ç ä¾ç„¶æ˜¯æœ‰é—®é¢˜çš„ã€‚å› ä¸ºå®ƒæ²¡æœ‰è€ƒè™‘å¯¹è±¡å¯èƒ½ä¸º null çš„åœºæ™¯ã€‚</p><p>æ‰€ä»¥ï¼Œè¿™æ®µä»£ç æ›´ä¸¥è°¨çš„å†™æ³•æ˜¯è¿™æ ·ï¼š</p><pre><code>Author author = book.getAuthor();\nString name = (author == null) ? null : author.getName();\n</code></pre><p>ç„¶è€Œï¼Œåœ¨å¾ˆå¤šçœŸå®çš„é¡¹ç›®ä¸­ï¼Œè¿™ç§ä¸¥æ ¼çš„å†™æ³•å´æ˜¯ç¨€æœ‰çš„ï¼Œæ‰€ä»¥ï¼Œåœ¨å®é™…çš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ€»ä¼šæƒŠå–œåœ°å‘ç°å„ç§ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚å¦‚æœä½ è¦é—®ç¨‹åºå‘˜ä¸ºä»€ä¹ˆä¸å†™å¯¹è±¡ä¸º null çš„åˆ¤æ–­ï¼Œç­”æ¡ˆå¾ˆå¯èƒ½å‡ºä¹ä½ æ„æ–™ï¼šä»–ä»¬å¿˜äº†ã€‚</p><p>æ˜¯çš„ï¼Œå¿˜äº†ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•å¾—ä»¤äººå‘æŒ‡çš„ç†ç”±ã€‚</p><p>ä¸ç”¨è¿‡äºè´£å¤‡è¿™äº›ç¨‹åºå‘˜ç¼ºä¹èŒä¸šç´ å…»ï¼Œå› ä¸ºè¿™ä¸æ˜¯ä¸ªä½“é—®é¢˜ï¼Œè€Œæ˜¯è¡Œä¸šæ•´ä½“çš„é—®é¢˜ï¼ŒIT è¡Œä¸šæ¯å¹´éƒ½ä¼šå› æ­¤é€ æˆå·¨å¤§çš„æŸå¤±ã€‚ç©ºæŒ‡é’ˆçš„å‘æ˜è€… Tony Hoare å°†å…¶ç§°ä¸ºâ€œè‡ªå·±çŠ¯ä¸‹çš„åäº¿ç¾å…ƒé”™è¯¯â€ã€‚</p><p>å¯¹äºè¿™ä¸ªå¦‚æ­¤å¸¸è§çš„é—®é¢˜ï¼ŒJava 8 ä¸­å·²ç»ç»™å‡ºäº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå®ƒå°±æ˜¯ Optionalã€‚Optional æä¾›äº†ä¸€ä¸ªå¯¹è±¡å®¹å™¨ï¼Œä½ éœ€è¦ä»ä¸­â€œå–å‡ºï¼ˆgetï¼‰â€ä½ æ‰€éœ€è¦çš„å¯¹è±¡ï¼Œä½†åœ¨å–å‡ºä¹‹å‰ï¼Œä½ éœ€è¦åˆ¤æ–­ä¸€ä¸‹è¿™ä¸ªå¯¹è±¡å®¹å™¨ä¸­æ˜¯å¦çœŸçš„å­˜åœ¨ä¸€ä¸ªå¯¹è±¡ã€‚ç”¨è¿™ä¸ªæ€è·¯å¯ä»¥è¿™æ ·æ”¹å†™è¿™æ®µä»£ç ï¼š</p><pre><code>class Book {\n  public Optional&lt;Author&gt; getAuthor() {\n    return Optioanl.ofNullable(this.author);\n  }\n  ...\n}\n\n\nOptional&lt;Author&gt; author = book.getAuthor();\nString name = author.isPresent() ? author.get().getName() : null;\n\n</code></pre><p>è¿™ç§åšæ³•å’Œä¹‹å‰åšæ³•çš„æœ€å¤§å·®åˆ«åœ¨äºï¼Œä½ ä¸ä¼šå¿˜æ‰åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨çš„è¿‡ç¨‹ï¼Œå› ä¸ºä½ éœ€è¦ä» Optional è¿™ä¸ªå¯¹è±¡å®¹å™¨ä¸­å–å‡ºå­˜åœ¨é‡Œé¢çš„å¯¹è±¡ã€‚æ­£æ˜¯è¿™å¤šå‡ºæ¥çš„ä¸€æ­¥ï¼Œå‡å°‘äº†â€œå¿˜äº†â€çš„æ¦‚ç‡ã€‚</p><p>ä¹Ÿæ˜¯å› ä¸ºå¤šäº† Optional è¿™ä¸ªç±»ï¼Œè¿™æ®µä»£ç å…¶å®è¿˜æœ‰æ›´ç®€æ´çš„å†™æ³•ï¼š</p><pre><code>Optional&lt;Author&gt; author = book.getAuthor();\nString name = author.map(Author::getName).orElse(null);\n</code></pre><p>æœ‰äº† Optionalï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®ä¸­åšä¸€ä¸ªçº¦å®šï¼Œ<strong>æ‰€æœ‰å¯èƒ½ä¸º null çš„è¿”å›å€¼ï¼Œéƒ½è¦è¿”å› Optionalï¼Œä»¥æ­¤å‡å°‘çŠ¯é”™çš„å‡ ç‡</strong>ã€‚å…³äº Optionalï¼Œæˆ‘åœ¨ã€Šè½¯ä»¶è®¾è®¡ä¹‹ç¾ã€‹ä¸­èŠ±äº†<a href=\"https://time.geekbang.org/column/article/258954\">ä¸“é—¨çš„ç¯‡å¹…</a>è¿›è¡Œäº†ä»‹ç»ï¼Œä½ æœ‰å…´è¶£çš„è¯ï¼Œä¸å¦¨è¿›ä¸€æ­¥äº†è§£ä¸€ä¸‹ã€‚</p><p>äº‹å®ä¸Šï¼Œé‰´äºç©ºå¯¹è±¡æ˜¯ä¸€ä¸ªæ™®éå­˜åœ¨çš„é—®é¢˜ï¼Œä¸€äº›ç¨‹åºè®¾è®¡è¯­è¨€ç”šè‡³ä¸ºæ­¤ä¸“é—¨è®¾è®¡äº†è¯­æ³•ï¼Œæ¯”å¦‚ï¼Œç±»ä¼¼çš„ä»£ç ç”¨ Kotlin æˆ– Groovy å†™å‡ºæ¥çš„è¯ï¼Œåº”è¯¥æ˜¯è¿™ä¸‹é¢è¿™æ ·ï¼š</p><pre><code>val author = book.author\nval name = author?.name\n</code></pre><h2>å‡½æ•°å¼ç¼–ç¨‹</h2><p>Optional æ˜¯ Java 8 å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œå®ƒçš„å‡ºç°æ”¹å˜äº†ç¼–å†™ Java ä»£ç çš„ä¹ æƒ¯ç”¨æ³•ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦å¤–ä¸€ä¸ªæ”¹å˜æˆ‘ä»¬ä»£ç ä¹ æƒ¯ç”¨æ³•çš„ç‰¹æ€§ã€‚</p><p>åœ¨è®²â€œ<a href=\"https://time.geekbang.org/column/article/332341\">æ»¥ç”¨æ§åˆ¶è¯­å¥</a>â€é‚£ä¸€è®²æ—¶ï¼Œæˆ‘ç•™ä¸‹äº†ä¸€ä¸ªå°¾å·´ï¼Œè¯´å¾ªç¯è¯­å¥æœ¬èº«å°±æ˜¯ä¸€ä¸ªåå‘³é“ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥è¯´ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬è¿˜æ˜¯å…ˆä»ä¸€æ®µä»£ç å¼€å§‹ï¼š</p><pre><code>public ChapterParameters toParameters(final List&lt;Chapter&gt; chapters) {\n  List&lt;ChapterParameter&gt; parameters = new ArrayList&lt;&gt;();\n  for (Chapter chapter : chapters) {\n    if (chapter.isApproved()) {\n      parameters.add(toChapterParameter(chapter));\n    }\n  }\n  \n  return new ChapterParameters(parameters);\n}\n</code></pre><p>è¿™æ˜¯ä¸€æ®µå‘ç¿»è¯‘å¼•æ“å‘é€ç« èŠ‚ä¿¡æ¯å‰å‡†å¤‡å‚æ•°çš„ä»£ç ï¼Œè¿™é‡Œé¦–å…ˆç­›é€‰å‡ºå®¡æ ¸é€šè¿‡çš„ç« èŠ‚ï¼Œç„¶åï¼Œå†æŠŠç« èŠ‚è½¬æ¢æˆä¸ç¿»è¯‘å¼•æ“é€šä¿¡çš„æ ¼å¼ï¼Œæœ€åï¼Œå†æŠŠæ‰€æœ‰å¾—åˆ°çš„å•ä¸ªå‚æ•°æ‰“åŒ…æˆä¸€ä¸ªå®Œæ•´çš„ç« èŠ‚å‚æ•°ã€‚</p><p>å¦‚æœæŒ‰ç…§ Java 8 ä¹‹å‰çš„ç‰ˆæœ¬ç†è§£ï¼Œè¿™æ®µä»£ç æ˜¯ä¸€æ®µå¾ˆæ­£å¸¸çš„ä»£ç ã€‚å½“ Java çš„æ—¶ä»£è¿›å…¥åˆ° 8 ä¹‹åï¼Œè¿™æ®µä»£ç å°±æˆäº†æœ‰åå‘³é“çš„ä»£ç ã€‚</p><p>Martin Fowler åœ¨ã€Š<a href=\"https://book.douban.com/subject/30468597/\">é‡æ„</a>ã€‹çš„ç¬¬äºŒç‰ˆä¸­æ–°å¢çš„åå‘³é“å°±åŒ…æ‹¬äº†å¾ªç¯è¯­å¥ï¼ˆLoopsï¼‰ã€‚ä¹‹æ‰€ä»¥å¾ªç¯è¯­å¥æˆäº†åå‘³é“ï¼Œä¸€ä¸ªé‡è¦çš„åŸå› å°±æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„å…´èµ·ã€‚<strong>ä¸æ˜¯æˆ‘ä»¬ä¸éœ€è¦éå†é›†åˆï¼Œè€Œæ˜¯æˆ‘ä»¬æœ‰äº†æ›´å¥½çš„éå†é›†åˆçš„æ–¹å¼ã€‚</strong></p><p>æˆ‘åœ¨ã€Šè½¯ä»¶è®¾è®¡ä¹‹ç¾ã€‹è®²<a href=\"https://time.geekbang.org/column/article/257396\">å‡½æ•°å¼ç¼–ç¨‹çš„ç»„åˆæ€§</a>æ—¶æ›¾ç»æåˆ°è¿‡ï¼Œå‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦æ´è§å°±æ˜¯ï¼Œå¤§éƒ¨åˆ†æ“ä½œéƒ½å¯ä»¥å½’ç»“æˆåˆ—è¡¨è½¬æ¢ï¼Œå…¶ä¸­ï¼Œæœ€æ ¸å¿ƒçš„åˆ—è¡¨è½¬æ¢å°±æ˜¯ mapã€filter å’Œ reduceã€‚åœ¨å‡½æ•°å¼ç¼–ç¨‹æ—¥ç›Šé‡è¦çš„ä»Šå¤©ï¼Œåˆ—è¡¨è½¬æ¢å·²ç»æˆä¸ºäº†æ¯ä¸ªç¨‹åºå‘˜åº”è¯¥å¿…å¤‡çš„åŸºæœ¬åŠŸã€‚</p><p>äº†è§£äº†è¿™äº›ï¼Œä½ å°±çŸ¥é“ä¸ºä»€ä¹ˆå¾ªç¯è¯­å¥æ˜¯åå‘³é“äº†ï¼Œå› ä¸ºå¤§éƒ¨åˆ†å¾ªç¯è¯­å¥éƒ½æ˜¯åœ¨å¯¹ä¸€ä¸ªå…ƒç´ é›†åˆè¿›è¡Œæ“ä½œï¼Œè€Œè¿™äº›æ“ä½œåŸºæœ¬ä¸Šéƒ½å¯ä»¥ç”¨åˆ—è¡¨æ“ä½œè¿›è¡Œæ›¿ä»£ã€‚</p><p>å†è€…ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œé‡‡ç”¨åˆ—è¡¨è½¬æ¢å†™å‡ºæ¥çš„ä»£ç ç›¸è¾ƒäºä¼ ç»Ÿçš„å¾ªç¯è¯­å¥å†™å‡ºæ¥çš„ä»£ç ï¼Œè¡¨è¾¾æ€§æ›´å¥½ï¼Œå› ä¸ºå®ƒä»¬éƒ½æ˜¯æè¿°åšä»€ä¹ˆï¼Œè€Œä¼ ç»Ÿçš„å¾ªç¯è¯­å¥æ˜¯åœ¨æè¿°æ€ä¹ˆåšã€‚æˆ‘åœ¨è¿™ä¸ªä¸“æ å·²ç»å¤šæ¬¡è¯´è¿‡äº†ï¼Œè¿™æ˜¯ä¸¤ç§ä¸åŒçš„æŠ½è±¡å±‚æ¬¡ï¼Œæè¿°åšä»€ä¹ˆæ¯”æ€ä¹ˆåšçš„ä»£ç ï¼Œåœ¨è¡¨è¾¾æ€§ä¸Šè¦å¥½å¾—å¤šã€‚</p><p>æœ‰äº†è¿™äº›åŸºç¡€ï¼Œæˆ‘ä»¬å†æ¥çœ‹è¿™æ®µä»£ç ã€‚è¿™æ®µä»£ç ä¸­æœ‰ä¸€ä¸ªå¾ªç¯è¯­å¥ï¼Œæ­£å¦‚å‰é¢æ‰€è¯´ï¼Œè¿™ä¸ªå¾ªç¯è¯­å¥åœ¨å¤„ç†çš„æ˜¯ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ ï¼Œæ‰€ä»¥ï¼Œè¿™ä¸ªå¾ªç¯è¯­å¥æ˜¯å¯ä»¥ç”¨åˆ—è¡¨è½¬æ¢çš„æ–¹å¼ä»£æ›¿çš„ã€‚</p><p>å…·ä½“æ€ä¹ˆåšå‘¢ï¼Ÿå…¶å®ï¼Œè¿™é‡Œçš„è¡Œä¸ºæˆ‘ä»¬åœ¨å‰é¢å·²ç»åˆ†æè¿‡äº†ï¼Œå°±æ˜¯å…ˆç­›é€‰å‡ºå®¡æ ¸é€šè¿‡çš„ç« èŠ‚ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯¹åº”ç€ filterï¼Œç„¶åï¼ŒæŠŠç­›é€‰å‡ºæ¥çš„ç« èŠ‚è½¬æ¢æˆé€šä¿¡ä¸­çš„å‚æ•°ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯¹åº”ç€ mapï¼Œæœ€åï¼ŒæŠŠè½¬æ¢çš„ç»“æœæœé›†èµ·æ¥ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯¹åº”ç€ reduceã€‚æ‰€ä»¥ï¼Œè¿™æ®µä»£ç å¯ä»¥æ”¹å†™æˆè¿™æ ·ï¼š</p><pre><code>public ChapterParameters toParameters(final List&lt;Chapter&gt; chapters) {\n  List&lt;ChapterParameter&gt; parameters = chapters.stream()\n    .filter(Chapter::isApproved)\n    .map(this::toChapterParameter)\n    .collect(Collectors.toList());\n  return new ChapterParameters(parameters);\n}\n</code></pre><p>ç»è¿‡è¿™æ ·çš„æ”¹é€ ï¼Œä¸€ä¸ªå¾ªç¯è¯­å¥å°±å½»åº•è¢«ä¸€ä¸ªåˆ—è¡¨è½¬æ¢çš„æ“ä½œæ›¿æ¢æ‰äº†ï¼ˆè¿™é‡Œçš„ collect å‡½æ•°å¯¹åº”ç€ reduce æ“ä½œï¼‰ã€‚åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬ç”¨åˆ°äº† Java 8 æä¾›çš„ä¸€äº›åŸºç¡€è®¾æ–½ï¼Œæ¯”å¦‚ï¼ŒStreamã€lambda å’Œæ–¹æ³•å¼•ç”¨ç­‰ç­‰ã€‚</p><p>æˆ–è®¸æœ‰äººä¼šè¯´ï¼Œè¿™æ®µä»£ç çœ‹ç€è¿˜ä¸å¦‚æˆ‘åŸæ¥çš„å¾ªç¯è¯­å¥ç®€å•ã€‚ä¸è¿‡ï¼Œä½ è¦çŸ¥é“ï¼Œä¸¤ç§å†™æ³•æ ¹æœ¬çš„å·®åˆ«æ˜¯ä¾§é‡ç‚¹ä¸åŒï¼Œå¾ªç¯è¯­å¥æ˜¯åœ¨æè¿°å®ç°ç»†èŠ‚ï¼Œè€Œåˆ—è¡¨è½¬æ¢çš„å†™æ³•æ˜¯åœ¨æè¿°åšä»€ä¹ˆï¼ŒäºŒè€…çš„æŠ½è±¡å±‚æ¬¡ä¸åŒã€‚</p><p>å¯¹äºç†è§£è¿™æ®µä»£ç çš„äººæ¥è¯´ï¼ŒäºŒè€…æä¾›çš„ä¿¡æ¯é‡æ˜¯å®Œå…¨ä¸åŒçš„ï¼Œå¾ªç¯è¯­å¥å¿…é¡»è¦åšä¸€æ¬¡â€œé˜…è¯»ç†è§£â€çŸ¥æ™“äº†å…¶ä¸­çš„ç»†èŠ‚æ‰èƒ½æŠŠæ•´ä¸ªåœºæ™¯æ‹¼å‡ºæ¥ï¼Œè€Œåˆ—è¡¨è½¬æ¢çš„å†™æ³•åˆ™åŸºæœ¬ä¸Šå’Œæˆ‘ä»¬ç”¨è¯­è¨€å™è¿°çš„è¿‡ç¨‹ä¸€ä¸€å¯¹åº”ã€‚æ‰€ä»¥ï¼Œç†è§£çš„éš¾åº¦æ˜¯å®Œå…¨ä¸åŒçš„ã€‚</p><p>è¿™æ®µä»£ç åªæ˜¯ä¸ºäº†è¯´æ˜é—®é¢˜ï¼Œè€Œé€‰æ‹©äº†ç®€å•çš„ä»£ç ï¼Œä½†åœ¨å®é™…å·¥ä½œä¸­ï¼Œéœ€æ±‚ä¼šæ¯”è¿™å¤æ‚å¾—å¤šã€‚è€Œä¸”ï¼Œå¦‚æœè¦æ·»åŠ æ–°çš„éœ€æ±‚ï¼Œå¾ªç¯è¯­å¥é‡Œçš„ä»£ç ä¼šéšä¹‹å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼ŒåŸå› å°±æ˜¯å¾ªç¯è¯­å¥é‡Œéƒ½æ˜¯ç»†èŠ‚ï¼Œè€Œåˆ—è¡¨è½¬æ¢åˆ™æ˜¯ä¸€æ®µä¸€æ®µçš„æè¿°ï¼Œå°±åƒåœ¨é˜…è¯»ä¸€ç¯‡æ–‡ç« ã€‚</p><p>å¾ˆå¤šäººä¹‹æ‰€ä»¥æ›´å–œæ¬¢ä½¿ç”¨å¾ªç¯è¯­å¥è€Œä¸æ˜¯åˆ—è¡¨è½¬æ¢ï¼Œä¸€ä¸ªé‡è¦åŸå› æ˜¯å¯¹äºåˆ—è¡¨è½¬æ¢çš„åŸºç¡€è¿˜ä¸äº†è§£ã€‚åªè¦å¤šå†™å‡ æ¬¡ filterã€map å’Œ reduceï¼Œç†è§£å®ƒä»¬å°±ä¼šåƒç†è§£é€‰æ‹©è¯­å¥å’Œå¾ªç¯è¯­å¥ä¸€æ ·è‡ªç„¶ã€‚</p><p>åˆ°è¿™é‡Œæœ‰äººä¼šè¯´ï¼šâ€œä½ è¯´å¾—æœ‰ç‚¹é“ç†ï¼Œä½†ä¸ºä»€ä¹ˆæˆ‘çš„æ„Ÿè§‰å’Œä½ ä¸ä¸€æ ·ï¼Œåœ¨å®è·µä¸­ï¼Œæˆ‘ä¹Ÿä½¿ç”¨äº†è¿™ç§é£æ ¼ï¼Œä¸ºä»€ä¹ˆå†™å‡ºæ¥çš„ä»£ç æ„Ÿè§‰æ›´éš¾ç†è§£äº†ï¼Ÿâ€å¯¹äºè¿™ä¸€ç‚¹ï¼Œä¸€ä¸ªå¸¸è§çš„åŸå› å°±æ˜¯ï¼Œä½ åœ¨åˆ—è¡¨è½¬æ¢è¿‡ç¨‹ä¸­å†™äº†å¤ªå¤šä»£ç ã€‚</p><p>è‡ªä» Java é‡Œå¼•å…¥äº† lambdaï¼Œå› ä¸ºå†™èµ·æ¥å®åœ¨æ˜¯å¤ªå®¹æ˜“äº†ï¼Œå¾ˆå¤šäººå°±ç›´æ¥åœ¨åˆ—è¡¨è½¬æ¢è¿‡ç¨‹ä¸­å†™ lambdaã€‚lambda æœ¬èº«ç›¸å½“äºä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œæ‰€ä»¥ï¼Œå¾ˆå¤šäººåœ¨å†™å‡½æ•°ä¸­çŠ¯çš„é”™è¯¯åœ¨ lambda é‡Œä¹Ÿä¸€æ ·å‡ºç°äº†ï¼Œæœ€å…¸å‹çš„å½“ç„¶å°±æ˜¯é•¿å‡½æ•°ã€‚</p><p>åœ¨å„ç§ç¨‹åºè®¾è®¡è¯­è¨€ä¸­ï¼Œlambda éƒ½æ˜¯ä¸ºäº†å†™çŸ­å°ä»£ç æä¾›çš„ä¾¿åˆ©ï¼Œæ‰€ä»¥ï¼Œlambda ä¸­å†™å‡ºå¤§ç‰‡çš„ä»£ç ï¼Œæ ¹æœ¬å°±æ˜¯è¿å lambda è®¾è®¡åˆè¡·çš„ã€‚<strong>æœ€å¥½çš„ lambda åº”è¯¥åªæœ‰ä¸€è¡Œä»£ç </strong>ã€‚</p><p>é‚£å¦‚æœä¸€ä¸ªè½¬æ¢è¿‡ç¨‹ä¸­æœ‰å¾ˆå¤šæ“ä½œæ€ä¹ˆåŠå‘¢ï¼Ÿå¾ˆç®€å•ï¼Œæå–å‡ºä¸€ä¸ªå‡½æ•°ï¼Œå°±åƒå‰é¢ä»£ç ä¸­çš„ toChapterParameterï¼Œå®ƒè´Ÿè´£å®Œæˆä» Chapter åˆ° ChapterParameter çš„è½¬æ¢ã€‚è¿™æ ·ä¸€æ¥ï¼Œ<strong>åˆ—è¡¨è½¬æ¢çš„æœ¬èº«å°±å®Œå…¨å˜æˆäº†ä¸€ä¸ªå£°æ˜ï¼Œè¿™æ ·çš„å†™æ³•æ‰æ˜¯èƒ½å‘æŒ¥å‡ºåˆ—è¡¨è½¬æ¢ä»·å€¼çš„å†™æ³•</strong>ã€‚</p><p>åœ¨è¿™ä¸€è®²ä¸­ï¼Œæˆ‘ä»¬ä»¥ Optional å’Œå‡½æ•°å¼ç¼–ç¨‹ä¸ºä¾‹ï¼Œè®²è§£äº†ç”¨â€œæ–°â€çš„ä»£ç é£æ ¼æ”¹è¿›ä»£ç ï¼Œå…¶å®ï¼Œæˆ‘ä»¬åœ¨å‰é¢çš„å†…å®¹ä¸­ä¹Ÿå·²ç»è®²äº†ä¸å°‘â€œæ–°â€çš„ä»£ç é£æ ¼ï¼Œæ¯”å¦‚ï¼Œä½¿ç”¨ Java 8 çš„æ—¶é—´æ—¥æœŸç±»å‹ã€try-with-resource ç­‰ç­‰ã€‚åœ¨è®²è§£çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿæåˆ°è¿‡ä¸å°‘çš„ç¼–ç é£æ ¼å®é™…ä¸Šæ˜¯åœç•™åœ¨è¿‡å»ï¼Œæ¯”å¦‚ï¼Œå˜é‡åˆå§‹åŒ–çš„ä¹ æƒ¯ã€‚</p><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œä»£ç é£æ ¼æœ‰ä¸€ä¸ªé€æ­¥æ¼”åŒ–çš„è¿‡ç¨‹ï¼Œæ¯ä¸ªç¨‹åºå‘˜å¯¹æ­¤çš„ç†è§£ç¨‹åº¦éƒ½æœ‰æ‰€å·®å¼‚ï¼Œæ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬ä¸åŠ æ³¨æ„çš„è¯ï¼Œå„ç§ä»£ç é£æ ¼ä¼šå¹¶å­˜äºä»£ç ä¹‹ä¸­ï¼ŒåŠ å‰§ä»£ç çš„ç†è§£éš¾åº¦ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ä¸Šä¸€è®²è®²åˆ°çš„åå‘³é“ï¼šä¸ä¸€è‡´ã€‚</p><p>ä¸€ç§ç¼–ç¨‹é£æ ¼ä¼šè¿‡æ—¶ï¼Œæœ¬è´¨ä¸Šæ˜¯å› ä¸ºå®ƒå­˜åœ¨é—®é¢˜ï¼Œæ–°ä»£ç é£æ ¼å°±æ˜¯ç”¨æ›´å¥½çš„æ–¹æ¡ˆè§£å†³å®ƒï¼Œå°±åƒä»Šå¤©è®²åˆ°çš„ Optionalã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦ä¸æ–­å­¦ä¹ æ–°å¼•å…¥çš„è¯­è¨€ç‰¹æ€§ï¼Œäº†è§£å®ƒä»¬ç»™è¯­è¨€å¸¦æ¥çš„â€œæ–°â€é£æ ¼ï¼Œè€Œä¸è¦åœç•™åœ¨åŸåœ°ã€‚</p><h2>æ€»ç»“æ—¶åˆ»</h2><p>ä»Šå¤©æˆ‘ä»¬è®²äº†â€œæ–°â€é£æ ¼å¯¹äºä»£ç çš„æ”¹å–„ã€‚æ¯ä¸€ç§æœ‰ç”Ÿå‘½åŠ›çš„è¯­è¨€éƒ½ä¼šåœ¨è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸä¸­ä¸æ–­åœ°å¯¹è¯­è¨€æœ¬èº«è¿›è¡Œæ”¹è¿›ï¼Œæ— è®ºæ˜¯å¼•å…¥æ–°çš„è¯­è¨€ç‰¹æ€§ï¼Œè¿˜æ˜¯å¼•å…¥æ–°çš„ç¨‹åºåº“ï¼Œéƒ½ä¼šå¯¹ä»£ç çš„ç¼–å†™äº§ç”Ÿæˆ–å¤šæˆ–å°‘çš„å½±å“ã€‚è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ç”¨æ¥è®²è§£çš„ä¾‹å­æ˜¯ Java 8 å¼•å…¥çš„ Optional å’Œå‡½æ•°å¼ç¼–ç¨‹ã€‚</p><p>Optional æ˜¯ä¸€ä¸ªå¯¹è±¡å®¹å™¨ï¼Œå®ƒçš„å‡ºç°æ˜¯ä¸ºäº†è§„é¿ç©ºå¯¹è±¡å¸¦æ¥çš„å„ç§é—®é¢˜ã€‚Optional çš„å¼•å…¥å¯ä»¥å‡å°‘ç”±äºç¨‹åºå‘˜çš„å¿½ç•¥è€Œå¼•å‘å¯¹ç©ºå¯¹è±¡çš„é—®é¢˜ã€‚å›¢é˜Ÿå†…éƒ¨å¯ä»¥çº¦å®šï¼Œæ‰€æœ‰å¯èƒ½è¿”å›ç©ºå¯¹è±¡çš„åœ°æ–¹ï¼Œéƒ½è¦è¿”å› Optionalï¼Œä»¥æ­¤é™ä½çŠ¯é”™çš„å‡ ç‡ã€‚</p><p>å‡½æ•°å¼ç¼–ç¨‹æ˜¯ä¸€ä¸ªå½±å“ä»£ç æ•´ä½“é£æ ¼çš„é‡è¦ç¼–ç¨‹èŒƒå¼ï¼Œç„¶è€Œï¼Œå¯¹äºå¾ˆå¤š Java ç¨‹åºå‘˜æ¥è¯´ï¼ŒJava 8 å¼•å…¥çš„å‡½æ•°å¼ç¼–ç¨‹æ”¯æŒï¼Œåªæ˜¯å¼•å…¥äº†ä¸€äº›æ–°çš„ç¨‹åºåº“ã€‚ç¼ºä¹å¯¹äºå‡½æ•°å¼ç¼–ç¨‹çš„ç†è§£ï¼Œå°¤å…¶æ˜¯å¯¹äºåˆ—è¡¨è½¬æ¢æ€ç»´çš„ç†è§£ï¼Œè®©æˆ‘ä»¬è™½ç„¶æœ‰äº†å¾ˆå¤šå¾ˆå¥½çš„å·¥å…·ï¼Œå´å®Œå…¨æ— æ³•å‘æŒ¥å…¶åŠŸæ•ˆã€‚</p><p>æ‡‚å¾—åˆ—è¡¨è½¬æ¢æ€ç»´ï¼Œé¦–å…ˆè¦æ‡‚å¾—æœ€åŸºæœ¬çš„å‡ ä¸ªæ“ä½œï¼šmapã€filter å’Œ reduceï¼Œç„¶åï¼Œå°±å¯ä»¥æŠŠå¤§éƒ¨åˆ†çš„é›†åˆæ“ä½œè½¬æ¢æˆåˆ—è¡¨è½¬æ¢ã€‚æƒ³è¦ä½¿ç”¨è¿™ç§æ€ç»´å†™å¥½ä»£ç ï¼Œä¸€æ–¹é¢ï¼Œè¦æ‡‚å¾—å£°æ˜å¼ä»£ç çš„é‡è¦æ€§ï¼Œå¦ä¸€æ–¹é¢ï¼Œè¦æ‡‚å¾—å†™å‡ºçŸ­å°çš„å‡½æ•°ï¼Œä¸è¦åœ¨ lambda ä¸­å†™è¿‡å¤šçš„ä»£ç ã€‚</p><p>ä½œä¸ºä¸€ä¸ªç²¾è¿›çš„ç¨‹åºå‘˜ï¼Œæˆ‘ä»¬è¦ä¸æ–­åœ°å­¦ä¹ â€œæ–°â€çš„ä»£ç é£æ ¼ï¼Œæ”¹å–„è‡ªå·±çš„ä»£ç è´¨é‡ï¼Œä¸è¦æ•…æ­¥è‡ªå°ï¼Œè®©è‡ªå·±åœç•™åœ¨ä¸Šä¸€ä¸ªæ—¶ä»£ã€‚</p><p>å¦‚æœä»Šå¤©çš„å†…å®¹ä½ åªèƒ½è®°ä½ä¸€ä»¶äº‹ï¼Œé‚£è¯·è®°ä½ï¼š<strong>ä¸æ–­å­¦ä¹ â€œæ–°â€çš„ä»£ç é£æ ¼ï¼Œä¸æ–­æ”¹å–„è‡ªå·±çš„ä»£ç </strong>ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/00/a9/00ec53d5cbe13368425f119861d3fda9.jpg?wh=2284*3156\" alt=\"\"></p><h2>æ€è€ƒé¢˜</h2><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬è®²åˆ°äº†ä¸åŒçš„ä»£ç é£æ ¼ï¼Œä½ æœ‰ä½“éªŒè¿‡ä¸åŒçš„ä»£ç é£æ ¼å¯¹äºä»£ç åº“çš„å½±å“å—ï¼Ÿæ¬¢è¿åœ¨ç•™è¨€åŒºåˆ†äº«ä½ çš„ç»éªŒã€‚</p><p>å¯¹äºå›¢é˜Ÿæ¥è¯´ï¼Œé€æ­¥å°†ç»Ÿä¸€å°†è¯­è¨€ç‰¹æ€§å’Œç¨‹åºåº“ç»Ÿä¸€åˆ°æ–°çš„é£æ ¼ä¸Šæ˜¯ä¸€ä»¶å¾ˆé‡è¦çš„äº‹ï¼Œæ¬¢è¿ä½ æŠŠè¿™èŠ‚è¯¾å­¦åˆ°çš„çŸ¥è¯†ï¼Œåˆ†äº«ç»™ä½ çš„å›¢é˜Ÿã€‚</p><p>æ„Ÿè°¢é˜…è¯»ï¼Œæˆ‘ä»¬ä¸‹ä¸€è®²å†è§ï¼</p><p>å‚è€ƒèµ„æ–™:</p><p><a href=\"https://time.geekbang.org/column/article/257396\">18 | å‡½æ•°å¼ç¼–ç¨‹ä¹‹ç»„åˆæ€§ï¼šå‡½æ•°å¼ç¼–ç¨‹ä¸ºä»€ä¹ˆå¦‚æ­¤å¸å¼•äººï¼Ÿ</a></p><p><a href=\"https://time.geekbang.org/column/article/258954\">åŠ é¤ | å‡½æ•°å¼ç¼–ç¨‹æ‹¾é—</a></p>","comments":[{"had_liked":false,"id":276714,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1612086840,"is_pvip":false,"replies":[{"id":"100514","content":".parallel()å’Œ.sequential()ï¼Œé™¤éæ˜ç¡®åœ°çŸ¥é“æ‰§è¡Œç»“æœï¼Œå¦åˆ™ï¼Œä¸è¦ä½¿ç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1612234031,"ip_address":"","comment_id":276714,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27381890616","product_id":100068401,"comment_content":"æˆ‘è®¤ä¸ºStreamè¯­è¨€è®¾è®¡ä¸Šæœ‰ç–å¿½ã€‚<br><br>é—®é¢˜ï¼š Streamçš„è¯­æ„è¡¨ç¤ºä¸€æ¬¡æ•°æ®æµï¼Œæˆ–è€…è¯´ä¸€æ¬¡å¾ªç¯ã€‚æ‰€ä»¥ä¸ç®¡æ˜¯mapè¿˜æ˜¯filteréƒ½æ˜¯åœ¨è¿™ä¸€æ¬¡å¾ªç¯ä¸­æ¯ä¸ªå…ƒç´ æ‰§è¡Œçš„ä¸€ä¸ªjobã€‚ç„¶è€Œstreamå´æœ‰.parallel()å’Œ.sequential()çš„è¯­æ„ï¼Œæ„Ÿè§‰èµ·æ¥å°±åƒæ˜¯å¯ä»¥éšæ„æ”¹å˜å½“å‰è¿™ä¸€æ¬¡æ•°æ®æµçš„æ‰§è¡Œæ–¹å¼ï¼Œä½†å®é™…ä¸Šä¸€æ¬¡æ•°æ®æµåªèƒ½æœ‰ä¸€ç§æ‰§è¡Œæ–¹å¼ã€‚<br>ç»“è®ºï¼šåº”è¯¥æ˜¯getå‡ºå¹¶è¡Œçš„parallelStream()æˆ–è€…getå‡ºä¸²è¡Œçš„sequentiaStream()ï¼Œè¿™æ ·åœ¨è¯­æ„ä¸Šä¼šæ›´æ˜ç¡®äº›ã€‚æ¯•ç«Ÿæ‰§è¡Œæ–¹å¼åœ¨streamä¸­æ˜¯ä¸€ä¸ªæ’ä»–é¡¹ï¼Œä»–ä¸è¯¥è¢«å˜æ›´ã€‚","like_count":6,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514799,"discussion_content":".parallel()å’Œ.sequential()ï¼Œé™¤éæ˜ç¡®åœ°çŸ¥é“æ‰§è¡Œç»“æœï¼Œå¦åˆ™ï¼Œä¸è¦ä½¿ç”¨ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1612234031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":276707,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1612085554,"is_pvip":false,"replies":[{"id":"100692","content":"å¤šè°¢æç¤ºï¼Œå·²ç»ä¿®æ”¹ã€‚<br><br>å¿ƒæ™ºæ¨¡å‹å°±æ˜¯è¦ä¸æ–­æå‡çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1612491921,"ip_address":"","comment_id":276707,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18791954738","product_id":100068401,"comment_content":"1.å‹˜è¯¯<br><br>Optional&lt;Author&gt; author = book.getAuthor();<br>String name = author.orElse(null);<br>-&gt; String name = author.map(Author::getName).orElse(null);<br><br>åŸç†: å› ä¸ºOptionalå†…éƒ¨åšäº†åˆ¤ç©ºå¤„ç†<br>å¥½å¤„: æ›´è¯­æ„åŒ–çš„è¡¨è¾¾<br>ä¸ªäººè§è§£: è¿™é‡Œ author.map(Author::getName).orElse(null); åˆšå¼€å§‹ç”¨æ—¶ï¼Œä¼šè§‰å¾—mapé‡Œé¢ä¼šæŠ¥ç©ºæŒ‡é’ˆçš„é—®é¢˜,å› ä¸ºåœ¨æ‰§è¡Œmapæ—¶æ„Ÿè§‰å°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ä¸ªäººè®¤ä¸ºè¿™æœ‰è¿å¸¸è§„javaå¼€å‘çš„å¿ƒæ™ºæ¨¡å‹ã€‚å› ä¸ºjavaå¼€å‘ä¹ æƒ¯äº†nullçš„å­˜åœ¨ï¼Œå› è€Œåœ¨mapä¸­åšç©ºåˆ¤æ–­ï¼Œå°±åƒæ˜¯åœ¨mapä¸­å·å·å¤šåšäº†ä¸€ä»¶äº‹ï¼Œæœ‰ç‚¹è¶…å‡ºé¢„æœŸï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514797,"discussion_content":"å¤šè°¢æç¤ºï¼Œå·²ç»ä¿®æ”¹ã€‚\n\nå¿ƒæ™ºæ¨¡å‹å°±æ˜¯è¦ä¸æ–­æå‡çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612491921,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":276234,"user_name":"æ¡ƒå­-å¤å‹‡æ°","can_delete":false,"product_type":"c1","uid":1158436,"ip_address":"","ucode":"5D5F38AABA980F","user_header":"https://static001.geekbang.org/account/avatar/00/11/ad/24/c6b763b4.jpg","comment_is_top":false,"comment_ctime":1611840816,"is_pvip":true,"replies":[{"id":"100407","content":"çœ‹ä½ æ€ä¹ˆè¯„ä»·ä»€ä¹ˆç®—æ˜¯ç´¯èµ˜äº†ï¼Œè¿™æ˜¯ä¸€ç§å‡å°‘çŠ¯é”™å‡ ç‡çš„åšæ³•ï¼Œå¦å¤–ï¼ŒOptional æœ¬èº«æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥ç®€åŒ–ä»£ç çš„ç¼–å†™ã€‚Optional ä¹Ÿæ˜¯ä¸€ç§éœ€è¦ä¹ æƒ¯çš„æ„é€ å—ï¼Œå’Œå‡½æ•°å¼ç¼–ç¨‹çš„å…¶å®ƒå†…å®¹æ˜¯ä¸€æ ·çš„ï¼Œéœ€è¦é€‚åº”ä¸€ä¸‹ï¼Œé€‚åº”ä¹‹åï¼Œå®ƒå°±æ˜¯å’Œ ifã€for ä¹‹ç±»ä¸€æ ·çš„ä¸œè¥¿ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1612091321,"ip_address":"","comment_id":276234,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18791710000","product_id":100068401,"comment_content":"æ„Ÿè§‰å¤šå†™äº†Optional ï¼Œä»£ç å˜å¾—æ›´åŠ ç´¯èµ˜äº†ï¼Ÿæ¯•ç«Ÿè¿™æ˜¯ä¸€ç§å®ç°ç»†èŠ‚ï¼Œå¦‚æœæ··åœ¨ä¸šåŠ¡ä»£ç é‡Œé¢ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿæ˜¯ä¸€ç§åå‘³é“å‘¢ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1251111,"avatar":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","nickname":"Jxin","note":"","ucode":"4C03928388C413","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346872,"discussion_content":"\bä¸ºäº§å“è€å“¥ç‚¹ä¸ªèµï¼Œæˆ‘æ¥å›ç­”ä¸‹ã€‚ 1.ä¸ä¼šå˜ç´¯èµ˜ï¼Œä¼šå˜å¾—æ›´ä¼˜é›…ã€‚å› ä¸ºOptionalçš„å­˜åœ¨ï¼Œé€»è¾‘ä»£ç çš„å®ç°å¯ä»¥æ›´é¢å‘æ„å›¾è€Œéå®ç°ã€‚å…·ä½“å¯ä»¥ç†è§£ä¸‹Monadã€‚ 2.è¿™çœ‹ä½ å ä»€ä¹ˆè§’åº¦çœ‹ï¼Œç«™è®¾è®¡çš„è§’åº¦çœ‹ï¼Œå†™ä»£ç åŒ…æ‹¬å†™æ¥å£éƒ½æ˜¯å®ç°ç»†èŠ‚ã€‚Optçš„å­˜åœ¨ä¸æ‰€è°“çš„å®ç°ç»†èŠ‚æ— å…³ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§è¯­è¨€ç‰¹æ€§ï¼Œä¹‹æ‰€ä»¥ä»¥ç¨‹åºåº“çš„æ–¹å¼å‡ºç°ï¼Œä¸»è¦åº”è¯¥æ˜¯è€ƒè™‘javaè¯­è¨€æœ¬èº«çš„å‘åå…¼å®¹ï¼Œå®ƒåº”è¯¥æ˜¯ä¸€ç§è¯­è¨€ç‰¹æ€§ã€‚ 3.æ··åœ¨ä¸šåŠ¡ä»£ç é‡Œé¢ä¸æ˜¯ä¸€ç§æ€€å‘³é“ï¼ŒåŒ2ï¼Œåªæ˜¯æ¢äº†ä¸€ç§è¯­è¨€ç‰¹æ€§æ¥è¡¨è¾¾ä¸šåŠ¡ï¼Œä¸å­˜åœ¨æ··è¿›æ¥è¿™ç§è®¤çŸ¥ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1612087751,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514636,"discussion_content":"çœ‹ä½ æ€ä¹ˆè¯„ä»·ä»€ä¹ˆç®—æ˜¯ç´¯èµ˜äº†ï¼Œè¿™æ˜¯ä¸€ç§å‡å°‘çŠ¯é”™å‡ ç‡çš„åšæ³•ï¼Œå¦å¤–ï¼ŒOptional æœ¬èº«æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥ç®€åŒ–ä»£ç çš„ç¼–å†™ã€‚Optional ä¹Ÿæ˜¯ä¸€ç§éœ€è¦ä¹ æƒ¯çš„æ„é€ å—ï¼Œå’Œå‡½æ•°å¼ç¼–ç¨‹çš„å…¶å®ƒå†…å®¹æ˜¯ä¸€æ ·çš„ï¼Œéœ€è¦é€‚åº”ä¸€ä¸‹ï¼Œé€‚åº”ä¹‹åï¼Œå®ƒå°±æ˜¯å’Œ ifã€for ä¹‹ç±»ä¸€æ ·çš„ä¸œè¥¿ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1612091321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328165,"user_name":"Luke","can_delete":false,"product_type":"c1","uid":1004462,"ip_address":"","ucode":"8F7DE6E7B3D74F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/53/ae/a08024b2.jpg","comment_is_top":false,"comment_ctime":1640582487,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14525484375","product_id":100068401,"comment_content":"æˆ‘çš„ç»éªŒæ˜¯ï¼Œåªæœ‰äº†è§£äº†æ–°è¯­æ±‡è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œæ‰èƒ½æ”¹å˜è‡ªå·±çš„ç¼–å†™ä¹ æƒ¯ã€‚<br><br>ä¸æ–­å­¦ä¹ æ–°çš„ä»£ç é£æ ¼ï¼Œä¸ä»…è¦çŸ¥é“å¦‚ä½•åšï¼Œä¹Ÿéœ€è¦æŒæ¡æ–°çš„ä»£ç é£æ ¼æ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆæ ·çš„é—®é¢˜è€Œäº§ç”Ÿçš„ï¼Œæˆ‘è§‰å¾—è¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œå°±åƒä¹‹å‰å¦‚æœä¸äº†è§£ optional æ˜¯ä¸ºäº†è§£å†³ null å¿˜è®°åˆ¤æ–­ï¼Œæˆ–è€…åœ¨Java è¯­æ±‡ä¸­ï¼Œåˆ¤æ–­null æ¯”è¾ƒç¹çè€Œäº§ç”Ÿçš„ï¼Œé‚£ä¹ˆ optional å¯¹äºæˆ‘å……å…¶é‡æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ã€‚<br><br>å¾ˆå¤šæ–°ç‰¹æ€§ï¼Œåœ¨è¯»äº†éƒ‘å¤§çš„è§£æåï¼Œæˆ‘æ‰ä»æ„è¯†ä¸Šåˆ‡æ¢äº†è¿‡æ¥ã€‚<br><br>å—ç›ŠåŒªæµ…ï¼","like_count":3},{"had_liked":false,"id":278131,"user_name":"Geek_344b93","can_delete":false,"product_type":"c1","uid":2406471,"ip_address":"","ucode":"648BAAC8211CC5","user_header":"https://static001.geekbang.org/account/avatar/00/24/b8/47/0fbeeadc.jpg","comment_is_top":false,"comment_ctime":1612772647,"is_pvip":false,"replies":[{"id":"101129","content":"å¦‚æœæœ‰æ›´å¥½çš„ Optional è§£å†³æ–¹æ¡ˆï¼Œå¯èƒ½æ˜¯è¯­æ³•çš„æ”¹è¿›ï¼Œå°±åƒ Groovy å’Œ Kotlin é‚£æ ·ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1612927527,"ip_address":"","comment_id":278131,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14497674535","product_id":100068401,"comment_content":"æˆ‘è§‰å¾—åº”è¯¥æ˜¯æŠŠOptionalç»™å°è£…åˆ°ä¸€ä¸ªæ¨¡å‹ä¸­ï¼Œç„¶åæ¨¡å‹æ ‡è®°å¯èƒ½@Nullableã€‚ä¸€æ¥æˆ‘è®¤ä¸ºéšè—äº†äºä¸šåŠ¡æ— å…³çš„ç©ºåˆ¤æ–­ï¼ŒäºŒæ¥ï¼Œå…¶ä»–è°ƒç”¨è€…ä¸ç”¨å†å†™ä¸€ä¸ªç›¸åŒçš„åˆ¤æ–­è¯­å¥","like_count":3,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515287,"discussion_content":"å¦‚æœæœ‰æ›´å¥½çš„ Optional è§£å†³æ–¹æ¡ˆï¼Œå¯èƒ½æ˜¯è¯­æ³•çš„æ”¹è¿›ï¼Œå°±åƒ Groovy å’Œ Kotlin é‚£æ ·ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612927527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325152,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1638843998,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10228778590","product_id":100068401,"comment_content":"å¼€å§‹ä½¿ç”¨ Java Stream + Lambda æ—¶éå¸¸ä¸ä¹ æƒ¯ï¼Œé¡¹ç›®ä¸­è·Ÿç€ã€ŠJava 8å®æˆ˜ã€‹çš„ä¾‹å­ä¸€èµ·ç»ƒä¹ ï¼Œæ…¢æ…¢å°±ç”¨çš„è¶Šæ¥è¶Šå¼€å¿ƒäº†ï¼Œå¾ˆä¹…æ²¡ç”¨å†™ for è¯­å¥äº†ã€‚å¸¸ç”¨çš„ Lambda è¡¨è¾¾å¼åšäº†ç¬”è®°ï¼ŒæŒæ¡ä¹‹ååŸºæœ¬å¯ä»¥ç†Ÿç»ƒä½¿ç”¨https:&#47;&#47;www.wyyl1.com&#47;post&#47;0&#47;03&#47;","like_count":2},{"had_liked":false,"id":276205,"user_name":"NiceBen","can_delete":false,"product_type":"c1","uid":1332256,"ip_address":"","ucode":"793679E3520E84","user_header":"https://static001.geekbang.org/account/avatar/00/14/54/20/90ad5247.jpg","comment_is_top":false,"comment_ctime":1611831005,"is_pvip":false,"replies":[{"id":"100387","content":"ç°åœ¨çš„IDEå¯ä»¥åœ¨lambdaé‡Œè®¾ç½®æ–­ç‚¹ï¼Œä¹Ÿè¿˜å¥½ï¼Œä¸è¿‡ï¼Œè¿˜æ˜¯å†™æµ‹è¯•æ›´å¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1612061576,"ip_address":"","comment_id":276205,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10201765597","product_id":100068401,"comment_content":"lambdaè¡¨è¾¾å¼è™½ç„¶ç®€æ´ï¼Œä½†æ˜¯åœ¨ä»£ç å‡ºç°bugçš„æ—¶å€™ï¼Œä¸å¥½è°ƒè¯•ã€‚ä¹Ÿè®¸æ˜¯é›†åˆä¸­æŸä¸ªå‚æ•°é—®é¢˜ï¼Œä½†æ˜¯é€šè¿‡lambdaçš„debugæ—¶ï¼Œæ²¡åŠæ³•ç²¾ç¡®å®šä½åˆ°ã€‚","like_count":2,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514629,"discussion_content":"ç°åœ¨çš„IDEå¯ä»¥åœ¨lambdaé‡Œè®¾ç½®æ–­ç‚¹ï¼Œä¹Ÿè¿˜å¥½ï¼Œä¸è¿‡ï¼Œè¿˜æ˜¯å†™æµ‹è¯•æ›´å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612061576,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":276087,"user_name":"adang","can_delete":false,"product_type":"c1","uid":1143712,"ip_address":"","ucode":"0F2ECF8B92D46B","user_header":"https://static001.geekbang.org/account/avatar/00/11/73/a0/7dcc9212.jpg","comment_is_top":false,"comment_ctime":1611792022,"is_pvip":false,"replies":[{"id":"100273","content":"è¿™æ˜¯å¯¹çš„ï¼Œç»Ÿä¸€é£æ ¼å¾ˆé‡è¦ï¼Œè¿™æ˜¯ä¸Šä¸€è®²çš„ä¸»é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1611843136,"ip_address":"","comment_id":276087,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10201726614","product_id":100068401,"comment_content":"å¯¹äº Optionalï¼Œåœ¨ Ruby ä¸Šæ—©æœŸä¼šç”¨ try åæ¥ç‰ˆæœ¬å‡çº§æ”¹ä¸º &amp;. å†™èµ·æ¥å¾ˆæ–¹ä¾¿ã€‚<br>å†™ Ruby çš„é‚£ä¼šå„¿ï¼Œæœ‰å¾ˆå¤šç¨‹åºå‘˜æ˜¯ä»å…¶å®ƒè¯­è¨€è½¬è¿‡å»çš„ï¼Œå†™å‡ºæ¥çš„ä»£ç æœ‰å¾ˆå¤šå‰ä¸€ç§è¯­è¨€çš„&quot;çƒ™å°&quot;ï¼Œå›¢é˜Ÿ Leader ä¼šè¦æ±‚å¤§å®¶æ—¶å¸¸ç¿»çœ‹ Ruby çš„ä»£ç è§„èŒƒï¼Œè§„èŒƒé‡Œæœ‰æ˜ç¡®è¦æ±‚çš„ä¸¥æ ¼æŒ‰ç…§è§„èŒƒæ¥ï¼Œè¿™æ ·å°½é‡ä¿æŒä»£ç é£æ ¼ç»Ÿä¸€ã€‚","like_count":2,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514596,"discussion_content":"è¿™æ˜¯å¯¹çš„ï¼Œç»Ÿä¸€é£æ ¼å¾ˆé‡è¦ï¼Œè¿™æ˜¯ä¸Šä¸€è®²çš„ä¸»é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611843136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323114,"user_name":"kougazhang","can_delete":false,"product_type":"c1","uid":1200650,"ip_address":"","ucode":"E9AD678FCEC75D","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/0a/65976e95.jpg","comment_is_top":false,"comment_ctime":1637734199,"is_pvip":false,"replies":[{"id":"117310","content":"æœ¬è´¨ä¸Šï¼Œè¿˜æ˜¯ä¸ä¹ æƒ¯å‡½æ•°å¼çš„åŸè¯­mapã€filterã€reduceï¼Œæˆ‘åœ¨ã€Šè½¯ä»¶è®¾è®¡ä¹‹ç¾ã€‹ä¸­ä¸“é—¨è®²äº†ï¼Œä¸å¦¨å»çœ‹çœ‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1258861","ctime":1637850460,"ip_address":"","comment_id":323114,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5932701495","product_id":100068401,"comment_content":"è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼šä¸šåŠ¡å®è·µä¸­æ„Ÿè§‰å‡½æ•°å¼çš„æ‰©å±•æ€§ä¸å¤ªå¥½ã€‚<br><br>æ¯”å¦‚æ–‡ä¸­çš„ä¾‹å­ï¼š<br><br>public ChapterParameters toParameters(final List&lt;Chapter&gt; chapters) {<br>  List&lt;ChapterParameter&gt; parameters = chapters.stream()<br>    .filter(Chapter::isApproved)<br>    .map(this::toChapterParameter)<br>    .collect(Collectors.toList());<br>  return new ChapterParameters(parameters);<br>}<br><br>è¿™æ®µä»£ç åœ¨åç»­çš„ç»´æŠ¤ä¸­ï¼Œç»å¸¸ä¼šå‡ºç°â€œåç»­ç»´æŠ¤æ—¶éœ€è¦ map çš„æ—¶å€™éœ€è¦åŠ  if æ¡ä»¶ï¼Œå°½æ—©æ‰“ç ´å¾ªç¯â€çš„æƒ…å†µã€‚<br><br>æ‰€ä»¥ï¼Œç¬¬ä¸€æ¬¡å®ç°éœ€æ±‚æ—¶å†™æˆè€å¸ˆè¯´çš„è¿™ä¸ªæ ·å­ä¸éš¾ï¼Œå¯æ˜¯åç»­éšç€é¡¹ç›®æ¼”è¿›è¿˜æ˜¯è§‰å¾—æ‹†æˆ for æ–¹ä¾¿ã€‚<br><br>è¿™ç§æƒ…å†µè¯¥æ€ä¹ˆé¿å…å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533390,"discussion_content":"æœ¬è´¨ä¸Šï¼Œè¿˜æ˜¯ä¸ä¹ æƒ¯å‡½æ•°å¼çš„åŸè¯­mapã€filterã€reduceï¼Œæˆ‘åœ¨ã€Šè½¯ä»¶è®¾è®¡ä¹‹ç¾ã€‹ä¸­ä¸“é—¨è®²äº†ï¼Œä¸å¦¨å»çœ‹çœ‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637850460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":276086,"user_name":"Hobo","can_delete":false,"product_type":"c1","uid":1041960,"ip_address":"","ucode":"BE991F04E66ECD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e6/28/1d3aace3.jpg","comment_is_top":false,"comment_ctime":1611791797,"is_pvip":false,"replies":[{"id":"100274","content":"ä¸å®Œå…¨æ˜¯ï¼ŒLinq çš„ç›®æ ‡æ˜¯æ„å»ºä¸€ç§æŸ¥è¯¢çš„æ–¹å¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1611843533,"ip_address":"","comment_id":276086,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5906759093","product_id":100068401,"comment_content":"æˆ‘æ˜¯å†™Cï¼ƒçš„ï¼Œåƒè¿™ä¸ªåˆ—è¡¨è½¬æ¢åœ¨Cï¼ƒä¸­çš„ä½“ç°å°±æ˜¯Linqå§ï¼Œä¸è¿‡ä¸€äº›å¤æ‚æŸ¥è¯¢æˆ‘éƒ½å†™çš„å¾ˆé•¿ğŸ˜“ğŸ˜“","like_count":1,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514595,"discussion_content":"ä¸å®Œå…¨æ˜¯ï¼ŒLinq çš„ç›®æ ‡æ˜¯æ„å»ºä¸€ç§æŸ¥è¯¢çš„æ–¹å¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611843533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356569,"user_name":"HappyHasson","can_delete":false,"product_type":"c1","uid":2911084,"ip_address":"å¹¿ä¸œ","ucode":"B84CC43E349CFA","user_header":"https://static001.geekbang.org/account/avatar/00/2c/6b/6c/3e80afaf.jpg","comment_is_top":false,"comment_ctime":1662426364,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1662426364","product_id":100068401,"comment_content":"public ChapterParameters toParameters(final List&lt;Chapter&gt; chapters) {<br>  List&lt;ChapterParameter&gt; parameters = chapters.stream()<br>    .filter(Chapter::isApproved)<br>    .map(this::toChapterParameter)<br>    .collect(Collectors.toList());<br>  return new ChapterParameters(parameters);<br>}<br><br>è¯·æ•™ä¸ªé—®é¢˜ï¼ŒåŸæ¥è¡¨ç°ç»†èŠ‚çš„å¾ªç¯è¢«æ›¿æ¢æ‰äº†ï¼Œä½†æ˜¯æœ¬è´¨é€»è¾‘é‡Œè‚¯å®šè¿˜æ˜¯æœ‰ä¸€ä¸ªéå†æ“ä½œçš„ï¼Œè¿™ä¸ªéå†æ“ä½œæ˜¯ç”±è¯­è¨€ç‰¹æ€§å®ç°çš„å—ï¼Ÿ<br>å¯¹javaä¸äº†è§£","like_count":0},{"had_liked":false,"id":347466,"user_name":"if...else...","can_delete":false,"product_type":"c1","uid":2550743,"ip_address":"","ucode":"D0565908C99695","user_header":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","comment_is_top":false,"comment_ctime":1654059033,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1654059033","product_id":100068401,"comment_content":"ä¸æ–­å­¦ä¹ â€œæ–°â€çš„ä»£ç é£æ ¼ï¼Œä¸æ–­æ”¹å–„è‡ªå·±çš„ä»£ç --è®°ä¸‹æ¥","like_count":0},{"had_liked":false,"id":347090,"user_name":"Bumblebee","can_delete":false,"product_type":"c1","uid":2051293,"ip_address":"","ucode":"B879C8A511D08D","user_header":"https://static001.geekbang.org/account/avatar/00/1f/4c/dd/c6035349.jpg","comment_is_top":false,"comment_ctime":1653709025,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1653709025","product_id":100068401,"comment_content":"ä»Šæ—¥æ”¶è·<br><br>lambdaè¡¨è¾¾å¼æœ¬èº«æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œä¸è¦å†lambdaè¡¨è¾¾å¼å†…å†™è¿‡å¤šçš„ä»£ç ï¼›","like_count":0},{"had_liked":false,"id":281977,"user_name":"crtmsvc","can_delete":false,"product_type":"c1","uid":2201323,"ip_address":"","ucode":"A00D3FB17CB614","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/CV9kk5M26pdxvFhbrkicjZa4avHTfWWPJCKCIrkhgws8WN9RJAJ5D4oGAPgAOVXmDk9gKEQ9nbrhia9Qjsqk4DyA/132","comment_is_top":false,"comment_ctime":1615000953,"is_pvip":false,"replies":[{"id":"102432","content":"å¯ä»¥è½¬å‘åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1615092206,"ip_address":"","comment_id":281977,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1615000953","product_id":100068401,"comment_content":"éå¸¸å–œæ¬¢è¿™ä¸€è®²","like_count":0,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516568,"discussion_content":"å¯ä»¥è½¬å‘åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615092206,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
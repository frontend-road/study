{"id":93790,"title":"40 | 如何高效地使用Mock数据进行开发","content":"<h1>源代码及课件地址</h1><p><a href=\"https://gitee.com/geektime-geekbang/geektime-vue-1\">https://gitee.com/geektime-geekbang/geektime-vue-1</a><br>\n<a href=\"https://gitee.com/geektime-geekbang/ant-design-vue-pro\">https://gitee.com/geektime-geekbang/ant-design-vue-pro</a></p>","comments":[{"had_liked":false,"id":124816,"user_name":"zker-non","can_delete":false,"product_type":"c3","uid":1388586,"ip_address":"","ucode":"5A1C3212ED0912","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/5tO3rCyAaJAnXITSxSnWhntTb5URuVh0nibtZ6oIXzeRqPG1MZVe6HpXxXOgrG4IiaYY2MzQlVTkxeOv228muCEQ/132","comment_is_top":false,"comment_ctime":1566000800,"is_pvip":false,"replies":[{"id":46144,"content":"最好在官方仓库中能给出复现demo  方便给出解决方案","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1566224341,"ip_address":"","comment_id":124816,"utype":1}],"discussion_count":5,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"老师能回答下吗，很多人遇到这种问题样\n\n报错 Proxy error: Could not proxy request &#47;api&#47;dashboard&#47;chart?ID=12345 from localhost:8080 to http:&#47;&#47;localhost:8080&#47;.\nSee https:&#47;&#47;nodejs.org&#47;api&#47;errors.html#errors_common_system_errors for more information (ECONNREFUSED).\n\nnpm run server 一开始正常，后面开始频繁在终端报出上面的错误","like_count":1,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463331,"discussion_content":"最好在官方仓库中能给出复现demo  方便给出解决方案","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566224341,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1087348,"avatar":"https://static001.geekbang.org/account/avatar/00/10/97/74/49d150d7.jpg","nickname":"发光如星","note":"","ucode":"1176C2EB6CC401","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":21337,"discussion_content":"复现demo也很难找到啊，除非自己的仓库，上边还有哥们贴了，同样的代码，仓库的tag的没问题，但本项目就报错，是还需要配置什么码？？？？？？？？？希望老师真的能认真回答下，这不是个别现象","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1569469001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1141004,"avatar":"https://static001.geekbang.org/account/avatar/00/11/69/0c/525b3008.jpg","nickname":"冯正义","note":"","ucode":"CB1097D1E96599","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1087348,"avatar":"https://static001.geekbang.org/account/avatar/00/10/97/74/49d150d7.jpg","nickname":"发光如星","note":"","ucode":"1176C2EB6CC401","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":73921,"discussion_content":"我也遇到了此问题，应该是一个普遍现象，望老师解答","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575611225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":21337,"ip_address":"","group_id":0},"score":73921,"extra":""}]},{"author":{"id":1896537,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f0/59/28fd58e8.jpg","nickname":"黄帝内经","note":"","ucode":"94CB6D8494B425","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":238880,"discussion_content":"看是不是在获取 req.path 的时候出现了问题，可以使用debug 模式，在vue.config.js 里进行断点，看看获取到的path 是否正确，我使用的cli/service 是 4.2.0 的版本，所以在获取req.path 的时候需要修改为 req.url，因为没有req.path 这个参数了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587258285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1025850,"avatar":"","nickname":"工画师","note":"","ucode":"FFABE897B2CF8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202457,"discussion_content":"我也遇到了这个问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583920113,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161963,"user_name":"~鸵鸟蛋~","can_delete":false,"product_type":"c3","uid":1416642,"ip_address":"","ucode":"0A400EC8075955","user_header":"https://static001.geekbang.org/account/avatar/00/15/9d/c2/216fae0c.jpg","comment_is_top":false,"comment_ctime":1576416699,"is_pvip":false,"replies":[{"id":66678,"content":"讲解图标按需加载的时候做了相关配置，可以看看图标章节的具体改动","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1579064303,"ip_address":"","comment_id":161963,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"为什么我拉取项目下来运行之后，页面上有些图标却显示不出来？类名没问题","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477927,"discussion_content":"讲解图标按需加载的时候做了相关配置，可以看看图标章节的具体改动","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579064303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":104788,"user_name":"如果我说","can_delete":false,"product_type":"c3","uid":1547289,"ip_address":"","ucode":"8329EE1BB9A9AD","user_header":"https://static001.geekbang.org/account/avatar/00/17/9c/19/095aa07f.jpg","comment_is_top":false,"comment_ctime":1560838062,"is_pvip":false,"replies":[{"id":38104,"content":"如果不是mock数据  你得自己配服务器","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1560943536,"ip_address":"","comment_id":104788,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100024601,"comment_content":" http:&#47;&#47;localhost:8080&#47;api&#47;dashboard&#47;chart?ID=12345接口报404没找到， vue.config.js中已经设置了？是怎么回事？","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454424,"discussion_content":"如果不是mock数据  你得自己配服务器","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560943536,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2268012,"avatar":"https://static001.geekbang.org/account/avatar/00/22/9b/6c/0dfbf6ef.jpg","nickname":"元訢","note":"","ucode":"8FC3853139850F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329101,"discussion_content":"请问你这个问题怎么解决的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606311855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97883,"user_name":"流年、จุ๊บ","can_delete":false,"product_type":"c3","uid":1465375,"ip_address":"","ucode":"A500CA4F3E4D3B","user_header":"https://static001.geekbang.org/account/avatar/00/16/5c/1f/ea11daf8.jpg","comment_is_top":false,"comment_ctime":1558826140,"is_pvip":false,"replies":[{"id":35046,"content":"可以的，mock方案很多种，选择适合自己的","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1558877866,"ip_address":"","comment_id":97883,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"一般后台接口也是按模块划分的，比如 user&#47;login、user&#47;register，那老师的这种mock好像不太好划分模块了，我一般是建立一个server文件夹，里面用express或者koa模拟真正的接口请求去返回数据，这样就能和后台一样模块划分了，通过mockjs生产假数据。","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451461,"discussion_content":"可以的，mock方案很多种，选择适合自己的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558877866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":92348,"user_name":"Levon","can_delete":false,"product_type":"c3","uid":1472097,"ip_address":"","ucode":"F112832F5FDC73","user_header":"https://static001.geekbang.org/account/avatar/00/16/76/61/33d13087.jpg","comment_is_top":false,"comment_ctime":1557238463,"is_pvip":false,"replies":[{"id":33200,"content":"默认是8080","user_name":"作者回复","user_name_real":"唐","uid":1316874,"ctime":1557409871,"ip_address":"","comment_id":92348,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"mock地址应该是http:&#47;&#47;localhost:8080吧？","like_count":0,"discussions":[{"author":{"id":1316874,"avatar":"https://static001.geekbang.org/account/avatar/00/14/18/0a/28206510.jpg","nickname":"唐金州","note":"","ucode":"563B97D87C66AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449221,"discussion_content":"默认是8080","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557409871,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1141004,"avatar":"https://static001.geekbang.org/account/avatar/00/11/69/0c/525b3008.jpg","nickname":"冯正义","note":"","ucode":"CB1097D1E96599","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":73923,"discussion_content":"默认的是3000啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575611358,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1087348,"avatar":"https://static001.geekbang.org/account/avatar/00/10/97/74/49d150d7.jpg","nickname":"发光如星","note":"","ucode":"1176C2EB6CC401","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":21342,"discussion_content":"改成8080没问题，但我想知道官方仓库tag0.0.9 端口3000就没问题，这是什么原因，真的希望老师能够解释一下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569469290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94452,"user_name":"bolingboling","can_delete":false,"product_type":"c3","uid":1374549,"ip_address":"","ucode":"29BF8D25F664BD","user_header":"https://static001.geekbang.org/account/avatar/00/14/f9/55/a9256641.jpg","comment_is_top":false,"comment_ctime":1557815946,"is_pvip":false,"replies":null,"discussion_count":7,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"跟着老师做的，mock数据也能拿到，数据也能渲染，但总有个报错：\nProxy error: Could not proxy request &#47;api&#47;dashboard&#47;chart?ID=12345 from localhost:8080 to http:&#47;&#47;localhost:3000.\n\n运行老师的项目就没这个错误，找了一上午也没发现问题在哪。甚至最后直接把老师项目中的 vue.config.js 和 analysis.vue两个文件直接拷贝到我自己的项目中也还是有错误。\n\n这是我项目地址 https:&#47;&#47;github.com&#47;zhangxiaoshang&#47;ant-design-vue-pro&#47;tree&#47;0.0.9","like_count":4,"discussions":[{"author":{"id":1464651,"avatar":"","nickname":"深爱Vue的小迷弟","note":"","ucode":"28F9B724396B60","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":44372,"discussion_content":"需要把代理的地址改成你本地的端口号  因为老师是3000 我自己是8080所以我改了后就没有报错了 希望能解决你的问题","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1572944672,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1607721,"avatar":"https://static001.geekbang.org/account/avatar/00/18/88/29/90d9ba80.jpg","nickname":"流花","note":"","ucode":"E1B3C07536BB05","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":56531,"discussion_content":"代理地址不匹配，你本地项目 http://localhost:8080/ 起的，地址替换下就对了","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1574495260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1422517,"avatar":"https://static001.geekbang.org/account/avatar/00/15/b4/b5/b7ac4724.jpg","nickname":"胖达","note":"","ucode":"C930A33E1CEBCD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":314641,"discussion_content":"Sometimes you don&#39;t want to proxy everything. It is possible to bypass the proxy based on the return value of a function.\n\nIn the function you get access to the request, response, and proxy options.\n\nReturn null or undefined to continue processing the request with proxy.\nReturn false to produce a 404 error for the request.\nReturn a path to serve from, instead of continuing to proxy the request.\n最后面设置一个null的return 试试\n  devServer: {\n    proxy: {\n      &#39;/api&#39;: {\n        target: &#34;http://localhost:3000&#34;,\n        bypass: function(req, res) {\n          console.log(req.path);\n          console.log(process.env.MOCK);\n          if (req.headers.accept.indexOf(&#34;html&#34;) !== -1) {\n            console.log(&#34;Skipping proxy for browser request.&#34;);\n            return &#34;/index.html&#34;;\n          } else if(process.env.MOCK !== &#34;none&#34;) {\n            const name = req.path\n              .split(&#34;/api/&#34;)[1]\n              .split(&#34;/&#34;)\n              .join(&#34;_&#34;);\n            console.log(name);\n            const mock = require(`./mock/${name}`);\n            const result = mock(req.method);\n            delete require.cache[require.resolve(`./mock/${name}`)];\n            return res.send(result);\n          }\n          return null;\n        }\n      }\n    }\n  },\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603181337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1212581,"avatar":"https://static001.geekbang.org/account/avatar/00/12/80/a5/1a9921de.jpg","nickname":"稚鸿同学","note":"","ucode":"989804DB990385","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":210835,"discussion_content":"代理的端口是8080吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584780307,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1152875,"avatar":"https://static001.geekbang.org/account/avatar/00/11/97/6b/2c186414.jpg","nickname":"Geek_149579","note":"","ucode":"1CEC01E76898DD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":165645,"discussion_content":"我也是这个问题  打印res.path结果是&#39;*&#39;  然后导致终端一直报错split未定义\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581308604,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1141004,"avatar":"https://static001.geekbang.org/account/avatar/00/11/69/0c/525b3008.jpg","nickname":"冯正义","note":"","ucode":"CB1097D1E96599","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":73919,"discussion_content":"我也遇到一样的问题了，感觉像是跨域的问题，但是加上changeOrigin: true,也不顶用，希望老师给解答下。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575611053,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1131600,"avatar":"https://static001.geekbang.org/account/avatar/00/11/44/50/02c99866.jpg","nickname":"刘文生","note":"","ucode":"14DE340D264A9E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":14905,"discussion_content":"这个问题,你解决了吗?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568788613,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":209561,"user_name":"喵大仙","can_delete":false,"product_type":"c3","uid":1196950,"ip_address":"","ucode":"6B77136E829896","user_header":"https://static001.geekbang.org/account/avatar/00/12/43/96/1f509e43.jpg","comment_is_top":false,"comment_ctime":1587566457,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"有点疑问，按照打印的日志来看，为啥这个mock的请求接口1s内请求了好几次，停留在这个分析页面，log还不停的刷？？请求老师解答","like_count":3},{"had_liked":false,"id":136550,"user_name":"发光如星","can_delete":false,"product_type":"c3","uid":1087348,"ip_address":"","ucode":"1176C2EB6CC401","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/74/49d150d7.jpg","comment_is_top":false,"comment_ctime":1569469523,"is_pvip":false,"replies":null,"discussion_count":4,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"访问时，控制台报错Proxy error: Could not proxy request &#47;api&#47;dashboard&#47;chart?ID=12345 from localhost:8080 to http:&#47;&#47;localhost:3000&#47;.\nSee https:&#47;&#47;nodejs.org&#47;api&#47;errors.html#errors_common_system_errors for more information (ECONNREFUSED).\n使用仓库项目，定位到tag0.0.9，启动不报错，后来将vue.config.js和Analysis.vue改为仓库的代码，还是报错，参照评论，将proxy的target的端口由3000改为8080，无报错，但此疑问始终存在，为什么会报上述错误，而且不止一人报错，希望老师能真的给个解答","like_count":2,"discussions":[{"author":{"id":2272998,"avatar":"https://static001.geekbang.org/account/avatar/00/22/ae/e6/0c41e48d.jpg","nickname":"龙彦极客","note":"","ucode":"20D380C00D8B05","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342919,"discussion_content":"遇到同样的问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610879789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1670446,"avatar":"https://static001.geekbang.org/account/avatar/00/19/7d/2e/f4cdf808.jpg","nickname":"戏如人生","note":"","ucode":"7D7DD6ACB23F8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300578,"discussion_content":"就是3000的服务器根本就没启动","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598179071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2068004,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/8e/24/4958f6b4.jpg","nickname":"Colouful.","note":"","ucode":"18A6A2007F91EC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296843,"discussion_content":"同样问题+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596684005,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1141004,"avatar":"https://static001.geekbang.org/account/avatar/00/11/69/0c/525b3008.jpg","nickname":"冯正义","note":"","ucode":"CB1097D1E96599","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":73920,"discussion_content":"遇到同样的问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575611129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":148897,"user_name":"笑笑泥人","can_delete":false,"product_type":"c3","uid":1373680,"ip_address":"","ucode":"2E227A63B28E1E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKYSnE15eXcZ7G1FF0CDSQNjJZcxcAVAS8xA0jZyubt8AcS8kBtgEyeIp7gaqF16ENVjiavFjZ9u0A/132","comment_is_top":false,"comment_ctime":1573105228,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"接口路径中有包含动态内容，如何映射到某个js文件呢？ 比如接口 &#47;model&#47;delete&#47;5 ， 5是id，是动态变化的， 对应的mock 数据文件是model_delete_5.js 或是model_delete_X.js 。 这个要如何处理呢？","like_count":1,"discussions":[{"author":{"id":1896537,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f0/59/28fd58e8.jpg","nickname":"黄帝内经","note":"","ucode":"94CB6D8494B425","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":238877,"discussion_content":"我在做的时候是把后面的随机数字去掉之后执行的匹配，比如 model_delete_5.js 就只匹配 model_delete，把 _5 去掉","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587258092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1373680,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKYSnE15eXcZ7G1FF0CDSQNjJZcxcAVAS8xA0jZyubt8AcS8kBtgEyeIp7gaqF16ENVjiavFjZ9u0A/132","nickname":"笑笑泥人","note":"","ucode":"2E227A63B28E1E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":46721,"discussion_content":"没有人回答一下这个问题吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573198507,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":92240,"user_name":"Geek_y2zmhj","can_delete":false,"product_type":"c3","uid":1041151,"ip_address":"","ucode":"BEC445820AD09E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e2/ff/34cc77d1.jpg","comment_is_top":false,"comment_ctime":1557210047,"is_pvip":false,"replies":null,"discussion_count":5,"race_medal":0,"score":2,"product_id":100024601,"comment_content":"\n找不到 .&#47;mock&#47;dashboard_chart module","like_count":1,"discussions":[{"author":{"id":1590227,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIw0Nnvrrt9fYTZCKS5klEvSDSWqdq5BcXJbx29UcblS7AlHgQmOgnoz3c8vACWQ9axhlyRORia82A/132","nickname":"码仔","note":"","ucode":"C5D50C27EBBE24","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":854,"discussion_content":"路径有问题，前面多加个src就好了","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1562124319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1998843,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/7f/fb/8c826365.jpg","nickname":"黑色幽默","note":"","ucode":"4FAFD21D979282","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1590227,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIw0Nnvrrt9fYTZCKS5klEvSDSWqdq5BcXJbx29UcblS7AlHgQmOgnoz3c8vACWQ9axhlyRORia82A/132","nickname":"码仔","note":"","ucode":"C5D50C27EBBE24","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":279791,"discussion_content":"感谢，没注意到","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591416584,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":854,"ip_address":"","group_id":0},"score":279791,"extra":""}]},{"author":{"id":1212581,"avatar":"https://static001.geekbang.org/account/avatar/00/12/80/a5/1a9921de.jpg","nickname":"稚鸿同学","note":"","ucode":"989804DB990385","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":210836,"discussion_content":"你的mock文件夹是在vue.config.js同级目录下的才行","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584780357,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1998843,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/7f/fb/8c826365.jpg","nickname":"黑色幽默","note":"","ucode":"4FAFD21D979282","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1212581,"avatar":"https://static001.geekbang.org/account/avatar/00/12/80/a5/1a9921de.jpg","nickname":"稚鸿同学","note":"","ucode":"989804DB990385","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":279790,"discussion_content":"感谢，没注意到","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591416581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":210836,"ip_address":"","group_id":0},"score":279790,"extra":""}]},{"author":{"id":1590227,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIw0Nnvrrt9fYTZCKS5klEvSDSWqdq5BcXJbx29UcblS7AlHgQmOgnoz3c8vACWQ9axhlyRORia82A/132","nickname":"码仔","note":"","ucode":"C5D50C27EBBE24","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":851,"discussion_content":"Cannot find module &#39;./mock/dashboard_chart&#39;\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562122446,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":380839,"user_name":"hanwei","can_delete":false,"product_type":"c3","uid":1810237,"ip_address":"上海","ucode":"8792B8E4A60581","user_header":"https://static001.geekbang.org/account/avatar/00/1b/9f/3d/94883528.jpg","comment_is_top":false,"comment_ctime":1694263598,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"npm run serve:no-mock","like_count":0},{"had_liked":false,"id":308747,"user_name":"☆Zokie_Y☆","can_delete":false,"product_type":"c3","uid":2653133,"ip_address":"","ucode":"825C1374F06B80","user_header":"https://static001.geekbang.org/account/avatar/00/28/7b/cd/91e34882.jpg","comment_is_top":false,"comment_ctime":1629781001,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"为什么if (req.headers.accept.indexOf(&#39;html&#39;) !== -1) {\n              console.log(&#39;Skipping proxy for browser request.&#39;);\n              return &#39;&#47;index.html&#39;;\n            } 中的req.headers.accept.indexOf(&#39;html&#39;) 的值为5，一直跳转到第一个if，不进入else，这可能是什么原因","like_count":0},{"had_liked":false,"id":307744,"user_name":"张翀","can_delete":false,"product_type":"c3","uid":1241064,"ip_address":"","ucode":"835A01424FDD5E","user_header":"https://static001.geekbang.org/account/avatar/00/12/ef/e8/076a6f59.jpg","comment_is_top":false,"comment_ctime":1629245068,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"那老师如果等上生产以后如何关闭mock数据","like_count":0},{"had_liked":false,"id":282269,"user_name":"Geek_e4616a","can_delete":false,"product_type":"c3","uid":2463572,"ip_address":"","ucode":"95150FDDC368E7","user_header":"","comment_is_top":false,"comment_ctime":1615180319,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"我的妈呀...devServer拦截的是本地的请求, 并从本地获取数据, 所以target要设置为本地的地址和端口号, 即http:&#47;&#47;localhost: 8080;   如果dashboard_chart.js中的swith语句中的方法名是小写的, 要注意在vue.config.js中要写成const result = mock(req.method.toLowerCase());   无限循环是因为在Analysis.js中每3秒就获取一次数据,   我的妈呀....什么老师哦","like_count":0},{"had_liked":false,"id":262167,"user_name":"从远方过来","can_delete":false,"product_type":"c3","uid":1797551,"ip_address":"","ucode":"4791DBC7E05B1D","user_header":"","comment_is_top":false,"comment_ctime":1605632690,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"这个问题老师麻烦解答下呗，感觉不是我一个人的问题。\n\nProxy error: Could not proxy request &#47;api&#47;dashboard&#47;chart?ID=12345 from 127.0.0.1:8080 to http:&#47;&#47;localhost:3000&#47;.\nSee https:&#47;&#47;nodejs.org&#47;api&#47;errors.html#errors_common_system_errors for more information (ECONNREFUSED).\n\nevents.js:292\n      throw er; &#47;&#47; Unhandled &#39;error&#39; event\n      ^\n\nError [ERR_STREAM_WRITE_AFTER_END]: write after end\n    at writeAfterEnd (_http_outgoing.js:668:15)\n    at ServerResponse.end (_http_outgoing.js:788:7)\n    at ProxyServer.&lt;anonymous&gt; (D:\\GitProject\\vue01\\ant-design-vue-pro\\node_modules\\@vue\\cli-service\\lib\\util\\prepareProxy.js:193:9)\n    at ProxyServer.emit (D:\\GitProject\\vue01\\ant-design-vue-pro\\node_modules\\eventemitter3\\index.js:210:27)\n    at ClientRequest.proxyError (D:\\GitProject\\vue01\\ant-design-vue-pro\\node_modules\\http-proxy\\lib\\http-proxy\\passes\\web-incoming.js:165:18)\n    at ClientRequest.emit (events.js:327:22)\n    at Socket.socketErrorListener (_http_client.js:469:9)\n    at Socket.emit (events.js:315:20)\n    at emitErrorNT (internal&#47;streams&#47;destroy.js:106:8)\n    at emitErrorCloseNT (internal&#47;streams&#47;destroy.js:74:3)\n    at processTicksAndRejections (internal&#47;process&#47;task_queues.js:80:21)\nEmitted &#39;error&#39; event on ServerResponse instance at:\n    at writeAfterEndNT (_http_outgoing.js:727:7)\n    at processTicksAndRejections (internal&#47;process&#47;task_queues.js:81:21) {\n  code: &#39;ERR_STREAM_WRITE_AFTER_END&#39;\n}\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! ant-design-vue-pro@0.1.0 serve: `vue-cli-service serve`\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the ant-design-vue-pro@0.1.0 serve script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     D:\\node_global\\_logs\\2020-11-17T16_37_01_990Z-debug.log","like_count":0},{"had_liked":false,"id":254309,"user_name":"胖达","can_delete":false,"product_type":"c3","uid":1422517,"ip_address":"","ucode":"C930A33E1CEBCD","user_header":"https://static001.geekbang.org/account/avatar/00/15/b4/b5/b7ac4724.jpg","comment_is_top":false,"comment_ctime":1603099308,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"Proxy error: Could not proxy request &#47;api&#47;dashboard&#47;chart?ID=123456 from localhost:8080 to http:&#47;&#47;localhost:3000&#47;.\nSee https:&#47;&#47;nodejs.org&#47;api&#47;errors.html#errors_common_system_errors for more information (ECONNREFUSED).\n这个问题有可能和版本有关系.我做了很多的测试\n首先,webpack上的原文是module.exports = {\n  &#47;&#47;...\n  devServer: {\n    proxy: {\n      &#39;&#47;api&#39;: &#39;http:&#47;&#47;localhost:3000&#39;\n    }\n  }\n};\nA request to &#47;api&#47;users will now proxy the request to http:&#47;&#47;localhost:3000&#47;api&#47;users.\n截获对应的path,然后发送给指定的target,所以target的端口和对应的dev-server端口不一致报错可能其中还有什么逻辑在里面没有搞明白\n\nIf you don&#39;t want &#47;api to be passed along, we need to rewrite the path:\n         foo:&#47;&#47;example.com:8042&#47;over&#47;there?name=ferret#nose\n         \\_&#47;   \\______________&#47;\\_________&#47; \\_________&#47; \\__&#47;\n          |           |            |            |        |\n       scheme     authority       path        query   fragment\n有一种处理可以保证不报错,\n在vue.config.js中\nmodule.exports = {\n  devServer: {\n    proxy: {\n      &quot;@(&#47;api)&quot;: {}\n    }\n  }\n}\n改成这个&quot;@(&#47;api)&quot;: {}就可以,\n还有我发现了一个问题是View&#47;DashBoard&#47;Analysis.vue的watch上要判断option里面的val有可能是undefined,\n我不太清楚问题在哪里?\n我的源码在这里\nhttps:&#47;&#47;github.com&#47;sunmd&#47;vue_awesome_study&#47;tree&#47;master&#47;actualCombat&#47;ant-design-vue-pro-test\n commit c3ee368330c7b7c4d99d360d27c55a7bb695deda","like_count":0,"discussions":[{"author":{"id":1422517,"avatar":"https://static001.geekbang.org/account/avatar/00/15/b4/b5/b7ac4724.jpg","nickname":"胖达","note":"","ucode":"C930A33E1CEBCD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":314642,"discussion_content":"Sometimes you don&#39;t want to proxy everything. It is possible to bypass the proxy based on the return value of a function.\n\nIn the function you get access to the request, response, and proxy options.\n\nReturn null or undefined to continue processing the request with proxy.\nReturn false to produce a 404 error for the request.\nReturn a path to serve from, instead of continuing to proxy the request.\n最后面设置一个null的return 试试\n  devServer: {\n    proxy: {\n      &#39;/api&#39;: {\n        target: &#34;http://localhost:3000&#34;,\n        bypass: function(req, res) {\n          console.log(req.path);\n          console.log(process.env.MOCK);\n          if (req.headers.accept.indexOf(&#34;html&#34;) !== -1) {\n            console.log(&#34;Skipping proxy for browser request.&#34;);\n            return &#34;/index.html&#34;;\n          } else if(process.env.MOCK !== &#34;none&#34;) {\n            const name = req.path\n              .split(&#34;/api/&#34;)[1]\n              .split(&#34;/&#34;)\n              .join(&#34;_&#34;);\n            console.log(name);\n            const mock = require(`./mock/${name}`);\n            const result = mock(req.method);\n            delete require.cache[require.resolve(`./mock/${name}`)];\n            return res.send(result);\n          }\n          return null;\n        }\n      }\n    }\n  },","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603181361,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":191555,"user_name":"稚鸿同学","can_delete":false,"product_type":"c3","uid":1212581,"ip_address":"","ucode":"989804DB990385","user_header":"https://static001.geekbang.org/account/avatar/00/12/80/a5/1a9921de.jpg","comment_is_top":false,"comment_ctime":1584780798,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"为什么去打印devserver的访问路径的时候，会不停地打印，req","like_count":0,"discussions":[{"author":{"id":1765894,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/f2/06/ebb5b764.jpg","nickname":"NikkiZeng","note":"","ucode":"F669C811773394","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282002,"discussion_content":"因为你开的定时器去请求的啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591859314,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":184233,"user_name":"Daybreak","can_delete":false,"product_type":"c3","uid":1353231,"ip_address":"","ucode":"1B530E8BD60637","user_header":"https://static001.geekbang.org/account/avatar/00/14/a6/0f/35f24873.jpg","comment_is_top":false,"comment_ctime":1583251729,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"npm i --save-dev @vue&#47;cli-service 将 &quot;@vue&#47;cli-service&quot; 从3.5版本升到4.2版本后，就会出现Proxy error: Could not proxy request &#47;api&#47;dashboard&#47;chart?ID=12345 from localhost:8080 to http:&#47;&#47;localhost:3000.的错误。具体背后什么原因，估计要看cli-service源码了，希望老师有时间解答一下。\nTag 0.0.9的 cli-service版本是 3.5的。","like_count":0,"discussions":[{"author":{"id":1896537,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f0/59/28fd58e8.jpg","nickname":"黄帝内经","note":"","ucode":"94CB6D8494B425","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":238898,"discussion_content":"我觉得你这个问题不是版本造成的，因为devServer 在启动的时候实际上默认只有8080端口是启动的，3000端口的server并没有启动，所以无法代理过去，除非在devServer 里配置 port = 3000，这样才能代理过去","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1587259008,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2272998,"avatar":"https://static001.geekbang.org/account/avatar/00/22/ae/e6/0c41e48d.jpg","nickname":"龙彦极客","note":"","ucode":"20D380C00D8B05","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1896537,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f0/59/28fd58e8.jpg","nickname":"黄帝内经","note":"","ucode":"94CB6D8494B425","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342923,"discussion_content":"有效","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610880133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":238898,"ip_address":"","group_id":0},"score":342923,"extra":""}]}]},{"had_liked":false,"id":174218,"user_name":"Geek_47218d","can_delete":false,"product_type":"c3","uid":1800654,"ip_address":"","ucode":"FAFD644FAC0495","user_header":"","comment_is_top":false,"comment_ctime":1580093615,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"Antv可以集成到自己的软件中商用吗？","like_count":0},{"had_liked":false,"id":159352,"user_name":"冯正义","can_delete":false,"product_type":"c3","uid":1141004,"ip_address":"","ucode":"CB1097D1E96599","user_header":"https://static001.geekbang.org/account/avatar/00/11/69/0c/525b3008.jpg","comment_is_top":false,"comment_ctime":1575604580,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":3,"product_id":100024601,"comment_content":"在dashboard_chart.js中添加console.log打印数据，发现node终端上回一直打印，这样的话，node会把内存吃完。这是怎么回事儿呢?\n\n不应该是我调用一次就打印一次么，难道是nodejs在轮询?","like_count":0,"discussions":[{"author":{"id":2014384,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/bc/b0/ff998d0a.jpg","nickname":"mumingv","note":"","ucode":"2691D39F7D5915","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297539,"discussion_content":"我也遇到了，getChartData每被调用一次，devServer的bypass函数会被调用363次","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596963426,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1196950,"avatar":"https://static001.geekbang.org/account/avatar/00/12/43/96/1f509e43.jpg","nickname":"喵大仙","note":"","ucode":"6B77136E829896","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":243979,"discussion_content":"我也碰到了这个问题，很想了解答案","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587566214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143618,"user_name":"sss洁亮~","can_delete":false,"product_type":"c3","uid":1378780,"ip_address":"","ucode":"2FD396B5860F09","user_header":"https://static001.geekbang.org/account/avatar/00/15/09/dc/137fa00c.jpg","comment_is_top":false,"comment_ctime":1571745637,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"老师这里讲的是get请求,那么如果使用的是post请求呢,我该怎么拿到传过来的参数?可以提供一些参考文章吗?其实我非常希望老师能在每个视频的下方多放些参考文章之类的供我们深入了解与拓展,因为如果自己去找的话有点太浪费时间了","like_count":0},{"had_liked":false,"id":121765,"user_name":"zker-non","can_delete":false,"product_type":"c3","uid":1388586,"ip_address":"","ucode":"5A1C3212ED0912","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/5tO3rCyAaJAnXITSxSnWhntTb5URuVh0nibtZ6oIXzeRqPG1MZVe6HpXxXOgrG4IiaYY2MzQlVTkxeOv228muCEQ/132","comment_is_top":false,"comment_ctime":1565221649,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"报错 Proxy error: Could not proxy request &#47;api&#47;dashboard&#47;chart?ID=12345 from localhost:8080 to http:&#47;&#47;localhost:8080&#47;.\nSee https:&#47;&#47;nodejs.org&#47;api&#47;errors.html#errors_common_system_errors for more information (ECONNREFUSED).\n\nnpm run server 一开始正常，后面开始频繁在终端报出上面的错误","like_count":0},{"had_liked":false,"id":119644,"user_name":"Libby","can_delete":false,"product_type":"c3","uid":1467374,"ip_address":"","ucode":"16AC92BC23AC85","user_header":"https://static001.geekbang.org/account/avatar/00/16/63/ee/7121c621.jpg","comment_is_top":false,"comment_ctime":1564644657,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"我的可以请求成功，但是终端还会报这个错，这是怎么回事呢？\nTypeError: Cannot read property &#39;split&#39; of undefined\n    at Object.bypass (G:\\vue\\vuex-demo\\vue.config.js:13:15)\n    at app.use (G:\\vue\\vuex-demo\\node_modules\\webpack-dev-server\\lib\\Server.js:313:25)","like_count":0},{"had_liked":false,"id":119413,"user_name":"欧阳寂岚","can_delete":false,"product_type":"c3","uid":1573136,"ip_address":"","ucode":"E22C2893FAF545","user_header":"https://static001.geekbang.org/account/avatar/00/18/01/10/8c3a7ca6.jpg","comment_is_top":false,"comment_ctime":1564582164,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"请问老师为什么我不能像您这样用const mock = require(&#39;.&#47;mock&#47;${name}&#39;)呢，我的${name}这个变量没生效呢","like_count":0,"discussions":[{"author":{"id":1573136,"avatar":"https://static001.geekbang.org/account/avatar/00/18/01/10/8c3a7ca6.jpg","nickname":"欧阳寂岚","note":"","ucode":"E22C2893FAF545","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4226,"discussion_content":"找到问题原因了，老师用的不是单引号，是键盘左上角的~，手机看视频太费劲了，后退了好几次才看明白","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565238766,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":98891,"user_name":"卷","can_delete":false,"product_type":"c3","uid":1355918,"ip_address":"","ucode":"BABBB86C4D5C97","user_header":"https://static001.geekbang.org/account/avatar/00/14/b0/8e/68092fd5.jpg","comment_is_top":false,"comment_ctime":1559113385,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"控制台报 Could not proxy request 那个的错误，吧配置里的端口改成8080就不会报错了","like_count":0},{"had_liked":false,"id":97884,"user_name":"流年、จุ๊บ","can_delete":false,"product_type":"c3","uid":1465375,"ip_address":"","ucode":"A500CA4F3E4D3B","user_header":"https://static001.geekbang.org/account/avatar/00/16/5c/1f/ea11daf8.jpg","comment_is_top":false,"comment_ctime":1558826778,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"接口获取到数据了，但是控制台总是提示： Could not proxy request &#47;api&#47;dashboard_chart from 192.168.101.44:8080 to http:&#47;&#47;localhost:3000.怎么让他不提示呢","like_count":0},{"had_liked":false,"id":94946,"user_name":"young","can_delete":false,"product_type":"c3","uid":1472571,"ip_address":"","ucode":"4B5285A404E637","user_header":"https://static001.geekbang.org/account/avatar/00/16/78/3b/19ef632a.jpg","comment_is_top":false,"comment_ctime":1557927451,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"老师，我用axios请求我本地的搭建的php脚本，有ajax跨域问题！！因为我用npm run serve启动的是127.0.0.1:8080端口，我php服务器是127.0.0.1:80端口\n测试阶段只能用Mock数据吗？是不是要打包后运行web服务才可以？而且在开发环境下我用手机也访问页面\n我是新手没有开发经验，问题太多了老是麻烦老师都不好意思了\n","like_count":0},{"had_liked":false,"id":92242,"user_name":"Geek_y2zmhj","can_delete":false,"product_type":"c3","uid":1041151,"ip_address":"","ucode":"BEC445820AD09E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e2/ff/34cc77d1.jpg","comment_is_top":false,"comment_ctime":1557210547,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100024601,"comment_content":"前面找不到mock是路径有问题解决了，又出现代理不能到3000端口\nProxy error: Could not proxy request &#47;api&#47;dashboard&#47;chart?ID=12345 from 127.0.0.1:8080 to http:&#47;&#47;localhost:3000&#47;.\nSee https:&#47;&#47;nodejs.org&#47;api&#47;errors.html#errors_common_system_errors for more information (ECONNREFUSED).\n","like_count":0,"discussions":[{"author":{"id":1896537,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/f0/59/28fd58e8.jpg","nickname":"黄帝内经","note":"","ucode":"94CB6D8494B425","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":238904,"discussion_content":"是端口配置有问题，需要将代理的端口地址修改为8080 即可","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587259319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":87749,"title":"13 | ç†è®ºåŸºç¡€æ¨¡å—çƒ­ç‚¹é—®é¢˜ç­”ç–‘","content":"<p>åˆ°è¿™é‡Œï¼Œä¸“æ çš„ç¬¬ä¸€æ¨¡å—â€”â€”å¹¶å‘ç¼–ç¨‹çš„ç†è®ºåŸºç¡€ï¼Œæˆ‘ä»¬å·²ç»è®²è§£å®Œäº†ï¼Œæ€»å…±12ç¯‡ï¼Œä¸ç®—å°‘ï¼Œä½†â€œè·³å‡ºæ¥ï¼Œçœ‹å…¨æ™¯â€ä½ ä¼šå‘ç°è¿™12ç¯‡çš„å†…å®¹åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªâ€œä¸²è¡Œçš„æ•…äº‹â€ã€‚æ‰€ä»¥ï¼Œåœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œå»ºè®®ä½ ä»ä¸€ä¸ªä¸ªå•ä¸€çš„çŸ¥è¯†å’ŒæŠ€æœ¯ä¸­â€œè·³å‡ºæ¥â€ï¼Œçœ‹å…¨å±€ï¼Œæ­å»ºè‡ªå·±çš„å¹¶å‘ç¼–ç¨‹çŸ¥è¯†ä½“ç³»ã€‚</p><p>ä¸ºäº†ä¾¿äºä½ æ›´å¥½åœ°å­¦ä¹ å’Œç†è§£ï¼Œä¸‹é¢æˆ‘ä¼šå…ˆå°†è¿™äº›çŸ¥è¯†ç‚¹å†ç®€å•åœ°ä¸ºä½ â€œä¸²â€ä¸€ä¸‹ï¼Œå’±ä»¬ä¸€èµ·å¤ä¹ ä¸‹ï¼›ç„¶åå°±æ¯ç¯‡æ–‡ç« çš„è¯¾åæ€è€ƒé¢˜ã€ç•™è¨€åŒºçš„çƒ­é—¨è¯„è®ºï¼Œæˆ‘ä¹Ÿé›†ä¸­æ€»ç»“å’Œå›å¤ä¸€ä¸‹ã€‚</p><p><strong>é‚£è¿™ä¸ªâ€œä¸²è¡Œçš„æ•…äº‹â€æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</strong></p><p>èµ·æºæ˜¯ä¸€ä¸ªç¡¬ä»¶çš„æ ¸å¿ƒçŸ›ç›¾ï¼šCPUä¸å†…å­˜ã€I/Oçš„é€Ÿåº¦å·®å¼‚ï¼Œç³»ç»Ÿè½¯ä»¶ï¼ˆæ“ä½œç³»ç»Ÿã€ç¼–è¯‘å™¨ï¼‰åœ¨è§£å†³è¿™ä¸ªæ ¸å¿ƒçŸ›ç›¾çš„åŒæ—¶ï¼Œå¼•å…¥äº†å¯è§æ€§ã€åŸå­æ€§å’Œæœ‰åºæ€§é—®é¢˜ï¼Œè¿™ä¸‰ä¸ªé—®é¢˜å°±æ˜¯å¾ˆå¤šå¹¶å‘ç¨‹åºçš„Bugä¹‹æºã€‚è¿™ï¼Œå°±æ˜¯<a href=\"https://time.geekbang.org/column/article/83682\">01</a>çš„å†…å®¹ã€‚</p><p>é‚£å¦‚ä½•è§£å†³è¿™ä¸‰ä¸ªé—®é¢˜å‘¢ï¼ŸJavaè¯­è¨€è‡ªç„¶æœ‰æ‹›å„¿ï¼Œå®ƒæä¾›äº†Javaå†…å­˜æ¨¡å‹å’Œäº’æ–¥é”æ–¹æ¡ˆã€‚æ‰€ä»¥ï¼Œåœ¨<a href=\"https://time.geekbang.org/column/article/84017\">02</a>æˆ‘ä»¬ä»‹ç»äº†Javaå†…å­˜æ¨¡å‹ï¼Œä»¥åº”å¯¹å¯è§æ€§å’Œæœ‰åºæ€§é—®é¢˜ï¼›é‚£å¦ä¸€ä¸ªåŸå­æ€§é—®é¢˜è¯¥å¦‚ä½•è§£å†³ï¼Ÿå¤šæ–¹è€ƒé‡ç”¨å¥½äº’æ–¥é”æ‰æ˜¯å…³é”®ï¼Œè¿™å°±æ˜¯<a href=\"https://time.geekbang.org/column/article/84344\">03</a>å’Œ<a href=\"https://time.geekbang.org/column/article/84601\">04</a>çš„å†…å®¹ã€‚</p><p>è™½è¯´äº’æ–¥é”æ˜¯è§£å†³å¹¶å‘é—®é¢˜çš„æ ¸å¿ƒå·¥å…·ï¼Œä½†å®ƒä¹Ÿå¯èƒ½ä¼šå¸¦æ¥æ­»é”é—®é¢˜ï¼Œæ‰€ä»¥<a href=\"https://time.geekbang.org/column/article/85001\">05</a>å°±ä»‹ç»äº†æ­»é”çš„äº§ç”ŸåŸå› ä»¥åŠè§£å†³æ–¹æ¡ˆï¼›åŒæ—¶è¿˜å¼•å‡ºä¸€ä¸ªçº¿ç¨‹é—´åä½œçš„é—®é¢˜ï¼Œè¿™ä¹Ÿå°±å¼•å‡ºäº†<a href=\"https://time.geekbang.org/column/article/85241\">06</a>è¿™ç¯‡æ–‡ç« çš„å†…å®¹ï¼Œä»‹ç»çº¿ç¨‹é—´çš„åä½œæœºåˆ¶ï¼šç­‰å¾…-é€šçŸ¥ã€‚</p><!-- [[[read_end]]] --><p>ä½ åº”è¯¥ä¹Ÿçœ‹å‡ºæ¥äº†ï¼Œå‰å…­ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬æ›´å¤šåœ°æ˜¯ç«™åœ¨å¾®è§‚çš„è§’åº¦çœ‹å¾…å¹¶å‘é—®é¢˜ã€‚è€Œ<a href=\"https://time.geekbang.org/column/article/85702\">07</a>åˆ™æ˜¯æ¢ä¸€ä¸ªè§’åº¦ï¼Œç«™åœ¨å®è§‚çš„è§’åº¦é‡æ–°å®¡è§†å¹¶å‘ç¼–ç¨‹ç›¸å…³çš„æ¦‚å¿µå’Œç†è®ºï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¯¹å‰å…­ç¯‡æ–‡ç« çš„æŸ¥æ¼è¡¥ç¼ºã€‚</p><p><a href=\"https://time.geekbang.org/column/article/86089\">08</a>ä»‹ç»çš„ç®¡ç¨‹ï¼Œæ˜¯Javaå¹¶å‘ç¼–ç¨‹æŠ€æœ¯çš„åŸºç¡€ï¼Œæ˜¯è§£å†³å¹¶å‘é—®é¢˜çš„ä¸‡èƒ½é’¥åŒ™ã€‚å¹¶å‘ç¼–ç¨‹é‡Œä¸¤å¤§æ ¸å¿ƒé—®é¢˜â€”â€”äº’æ–¥å’ŒåŒæ­¥ï¼Œéƒ½æ˜¯å¯ä»¥ç”±ç®¡ç¨‹æ¥è§£å†³çš„ã€‚æ‰€ä»¥ï¼Œå­¦å¥½ç®¡ç¨‹ï¼Œå°±ç›¸å½“äºæŒæ¡äº†ä¸€æŠŠå¹¶å‘ç¼–ç¨‹çš„ä¸‡èƒ½é’¥åŒ™ã€‚</p><p>è‡³æ­¤ï¼Œå¹¶å‘ç¼–ç¨‹ç›¸å…³çš„é—®é¢˜ï¼Œç†è®ºä¸Šä½ éƒ½åº”è¯¥èƒ½æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ï¼Œå¹¶èƒ½ç»™å‡ºç†è®ºä¸Šçš„è§£å†³æ–¹æ¡ˆäº†ã€‚</p><p>è€Œååœ¨<a href=\"https://time.geekbang.org/column/article/86366\">09</a>ã€<a href=\"https://time.geekbang.org/column/article/86666\">10</a>å’Œ<a href=\"https://time.geekbang.org/column/article/86695\">11</a>æˆ‘ä»¬åˆä»‹ç»äº†çº¿ç¨‹ç›¸å…³çš„çŸ¥è¯†ï¼Œæ¯•ç«ŸJavaå¹¶å‘ç¼–ç¨‹æ˜¯è¦é å¤šçº¿ç¨‹æ¥å®ç°çš„ï¼Œæ‰€ä»¥æœ‰é’ˆå¯¹æ€§åœ°å­¦ä¹ è¿™éƒ¨åˆ†çŸ¥è¯†ä¹Ÿæ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼ŒåŒ…æ‹¬çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸã€å¦‚ä½•è®¡ç®—åˆé€‚çš„çº¿ç¨‹æ•°ä»¥åŠçº¿ç¨‹å†…éƒ¨æ˜¯å¦‚ä½•æ‰§è¡Œçš„ã€‚</p><p>æœ€åï¼Œåœ¨<a href=\"https://time.geekbang.org/column/article/87365\">12</a>æˆ‘ä»¬è¿˜ä»‹ç»äº†å¦‚ä½•ç”¨é¢å‘å¯¹è±¡æ€æƒ³å†™å¥½å¹¶å‘ç¨‹åºï¼Œå› ä¸ºåœ¨Javaè¯­è¨€é‡Œï¼Œé¢å‘å¯¹è±¡æ€æƒ³èƒ½å¤Ÿè®©å¹¶å‘ç¼–ç¨‹å˜å¾—æ›´ç®€å•ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/7f/8e/7fed6a485a694c794ee205c346b5338e.png?wh=2820*1178\" alt=\"\"></p><center><span class=\"reference\">å¹¶å‘ç¼–ç¨‹ç†è®ºåŸºç¡€æ¨¡å—æ€ç»´å¯¼å›¾</span></center><p>ç»è¿‡è¿™æ ·ä¸€ä¸ªç®€è¦çš„æ€»ç»“ï¼Œç›¸ä¿¡ä½ æ­¤æ—¶å¯¹äºå¹¶å‘ç¼–ç¨‹ç›¸å…³çš„æ¦‚å¿µã€ç†è®ºã€äº§ç”Ÿçš„èƒŒæ™¯ä»¥åŠå®ƒä»¬èƒŒåçš„å…³ç³»å·²ç»éƒ½æœ‰äº†ä¸€ä¸ªç›¸å¯¹å…¨é¢çš„è®¤è¯†ã€‚è‡³äºæ›´æ·±åˆ»çš„è®¤è¯†å’Œåº”ç”¨ä½“éªŒï¼Œè¿˜æ˜¯éœ€è¦ä½ â€œé’»è¿›å»ï¼Œçœ‹æœ¬è´¨â€ï¼ŒåŠ æ·±å¯¹æŠ€æœ¯æœ¬èº«çš„è®¤è¯†ï¼Œæ‹“å±•çŸ¥è¯†æ·±åº¦å’Œå¹¿åº¦ã€‚</p><p>å¦å¤–ï¼Œåœ¨æ¯ç¯‡æ–‡ç« çš„æœ€åï¼Œæˆ‘éƒ½é™„ä¸Šäº†ä¸€ä¸ªæ€è€ƒé¢˜ï¼Œè¿™äº›æ€è€ƒé¢˜è™½ç„¶å¤§éƒ¨åˆ†éƒ½å¾ˆç®€å•ï¼Œä½†æ˜¯éšè—çš„é—®é¢˜å´å¾ˆå®¹æ˜“è®©äººå¿½ç•¥ï¼Œä»è€Œä¸ç»æ„é—´å°±å¼•å‘äº†Bugï¼›å†åŠ ä¸Šç•™è¨€åŒºçš„ä¸€äº›çƒ­é—¨è¯„è®ºï¼Œæ‰€ä»¥æˆ‘æƒ³ç€<strong>å°†è¿™äº›éšè—çš„é—®é¢˜æˆ–è€…æ˜“æ··æ·†çš„é—®é¢˜ï¼Œåšä¸€ä¸ªæ€»ç»“ä¹Ÿæ˜¯å¾ˆæœ‰å¿…è¦çš„</strong>ã€‚</p><h2>1. ç”¨é”çš„æœ€ä½³å®è·µ</h2><p>ä¾‹å¦‚ï¼Œåœ¨<a href=\"https://time.geekbang.org/column/article/84344\">ã€Š03 | äº’æ–¥é”ï¼ˆä¸Šï¼‰ï¼šè§£å†³åŸå­æ€§é—®é¢˜ã€‹</a>å’Œ<a href=\"https://time.geekbang.org/column/article/84601\">ã€Š04 | äº’æ–¥é”ï¼ˆä¸‹ï¼‰ï¼šå¦‚ä½•ç”¨ä¸€æŠŠé”ä¿æŠ¤å¤šä¸ªèµ„æºï¼Ÿã€‹</a>è¿™ä¸¤ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬çš„æ€è€ƒé¢˜éƒ½æ˜¯å…³äºå¦‚ä½•åˆ›å»ºæ­£ç¡®çš„é”ï¼Œè€Œæ€è€ƒé¢˜é‡Œçš„åšæ³•éƒ½æ˜¯é”™è¯¯çš„ã€‚</p><p><a href=\"https://time.geekbang.org/column/article/84344\">03</a>çš„æ€è€ƒé¢˜çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼Œ<code>synchronized (new Object())</code> è¿™è¡Œä»£ç å¾ˆå¤šåŒå­¦å·²ç»åˆ†æå‡ºæ¥äº†ï¼Œæ¯æ¬¡è°ƒç”¨æ–¹æ³•get()ã€addOne()éƒ½åˆ›å»ºäº†ä¸åŒçš„é”ï¼Œç›¸å½“äºæ— é”ã€‚è¿™é‡Œéœ€è¦ä½ å†æ¬¡åŠ æ·±ä¸€ä¸‹è®°å¿†ï¼Œâ€œ<strong>ä¸€ä¸ªåˆç†çš„å—ä¿æŠ¤èµ„æºä¸é”ä¹‹é—´çš„å…³è”å…³ç³»åº”è¯¥æ˜¯N:1</strong>â€ã€‚åªæœ‰å…±äº«ä¸€æŠŠé”æ‰èƒ½èµ·åˆ°äº’æ–¥çš„ä½œç”¨ã€‚</p><p>å¦å¤–ï¼Œå¾ˆå¤šåŒå­¦ä¹Ÿæåˆ°ï¼ŒJVMå¼€å¯é€ƒé€¸åˆ†æä¹‹åï¼Œ<code>synchronized (new Object())</code> è¿™è¡Œä»£ç åœ¨å®é™…æ‰§è¡Œçš„æ—¶å€™ä¼šè¢«ä¼˜åŒ–æ‰ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨çœŸå®æ‰§è¡Œçš„æ—¶å€™ï¼Œè¿™è¡Œä»£ç å‹æ ¹å°±ä¸å­˜åœ¨ã€‚ä¸è¿‡æ— è®ºä½ æ˜¯å¦æ‡‚â€œé€ƒé€¸åˆ†æâ€éƒ½ä¸å½±å“ä½ å­¦å¥½å¹¶å‘ç¼–ç¨‹ï¼Œå¦‚æœä½ å¯¹â€œé€ƒé€¸åˆ†æâ€æ„Ÿå…´è¶£ï¼Œå¯ä»¥å‚è€ƒä¸€äº›JVMç›¸å…³çš„èµ„æ–™ã€‚</p><pre><code>class SafeCalc {\n  long value = 0L;\n  long get() {\n    synchronized (new Object()) {\n      return value;\n    }\n  }\n  void addOne() {\n    synchronized (new Object()) {\n      value += 1;\n    }\n  }\n}\n</code></pre><p><a href=\"https://time.geekbang.org/column/article/84601\">04</a>çš„æ€è€ƒé¢˜è½¬æ¢æˆä»£ç ï¼Œæ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ã€‚å®ƒçš„æ ¸å¿ƒé—®é¢˜æœ‰ä¸¤ç‚¹ï¼šä¸€ä¸ªæ˜¯é”æœ‰å¯èƒ½ä¼šå˜åŒ–ï¼Œå¦ä¸€ä¸ªæ˜¯ Integer å’Œ String ç±»å‹çš„å¯¹è±¡ä¸é€‚åˆåšé”ã€‚å¦‚æœé”å‘ç”Ÿå˜åŒ–ï¼Œå°±æ„å‘³ç€å¤±å»äº†äº’æ–¥åŠŸèƒ½ã€‚ Integer å’Œ String ç±»å‹çš„å¯¹è±¡åœ¨JVMé‡Œé¢æ˜¯å¯èƒ½è¢«é‡ç”¨çš„ï¼Œé™¤æ­¤ä¹‹å¤–ï¼ŒJVMé‡Œå¯èƒ½è¢«é‡ç”¨çš„å¯¹è±¡è¿˜æœ‰Booleanï¼Œé‚£é‡ç”¨æ„å‘³ç€ä»€ä¹ˆå‘¢ï¼Ÿæ„å‘³ç€ä½ çš„é”å¯èƒ½è¢«å…¶ä»–ä»£ç ä½¿ç”¨ï¼Œå¦‚æœå…¶ä»–ä»£ç  <code>synchronized(ä½ çš„é”)</code>ï¼Œè€Œä¸”ä¸é‡Šæ”¾ï¼Œé‚£ä½ çš„ç¨‹åºå°±æ°¸è¿œæ‹¿ä¸åˆ°é”ï¼Œè¿™æ˜¯éšè—çš„é£é™©ã€‚</p><pre><code>class Account {\n  // è´¦æˆ·ä½™é¢  \n  private Integer balance;\n  // è´¦æˆ·å¯†ç \n  private String password;\n  // å–æ¬¾\n  void withdraw(Integer amt) {\n    synchronized(balance) {\n      if (this.balance &gt; amt){\n        this.balance -= amt;\n      }\n    }\n  } \n  // æ›´æ”¹å¯†ç \n  void updatePassword(String pw){\n    synchronized(password) {\n      this.password = pw;\n    }\n  } \n}\n</code></pre><p>é€šè¿‡è¿™ä¸¤ä¸ªåä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºè¿™æ ·ä¸€ä¸ªåŸºæœ¬çš„åŸåˆ™ï¼š<strong>é”ï¼Œåº”æ˜¯ç§æœ‰çš„ã€ä¸å¯å˜çš„ã€ä¸å¯é‡ç”¨çš„</strong>ã€‚æˆ‘ä»¬ç»å¸¸çœ‹åˆ°åˆ«äººå®¶çš„é”ï¼Œéƒ½é•¿æˆä¸‹é¢ç¤ºä¾‹ä»£ç è¿™æ ·ï¼Œè¿™ç§å†™æ³•è²Œä¸æƒŠäººï¼Œå´èƒ½é¿å…å„ç§æ„æƒ³ä¸åˆ°çš„å‘ï¼Œè¿™ä¸ªå…¶å®å°±æ˜¯æœ€ä½³å®è·µã€‚æœ€ä½³å®è·µè¿™æ–¹é¢çš„èµ„æ–™æ¨èä½ çœ‹ã€ŠJavaå®‰å…¨ç¼–ç æ ‡å‡†ã€‹è¿™æœ¬ä¹¦ï¼Œç ”è¯»é‡Œé¢çš„æ¯ä¸€æ¡è§„åˆ™éƒ½ä¼šè®©ä½ å—ç›ŠåŒªæµ…ã€‚</p><pre><code>// æ™®é€šå¯¹è±¡é”\nprivate final Object \n  lock = new Object();\n// é™æ€å¯¹è±¡é”\nprivate static final Object\n  lock = new Object(); \n</code></pre><h2>2. é”çš„æ€§èƒ½è¦çœ‹åœºæ™¯</h2><p><a href=\"https://time.geekbang.org/column/article/85001\">ã€Š05 | ä¸€ä¸å°å¿ƒå°±æ­»é”äº†ï¼Œæ€ä¹ˆåŠï¼Ÿã€‹</a>çš„æ€è€ƒé¢˜æ˜¯æ¯”è¾ƒ<code>while(!actr.apply(this, target));</code>è¿™ä¸ªæ–¹æ³•å’Œ<code>synchronized(Account.class)</code>çš„æ€§èƒ½å“ªä¸ªæ›´å¥½ã€‚</p><p>è¿™ä¸ªè¦çœ‹å…·ä½“çš„åº”ç”¨åœºæ™¯ï¼Œä¸åŒåº”ç”¨åœºæ™¯å®ƒä»¬çš„æ€§èƒ½è¡¨ç°æ˜¯ä¸åŒçš„ã€‚åœ¨è¿™ä¸ªæ€è€ƒé¢˜é‡Œé¢ï¼Œå¦‚æœè½¬è´¦æ“ä½œéå¸¸è´¹æ—¶ï¼Œé‚£ä¹ˆå‰è€…çš„æ€§èƒ½ä¼˜åŠ¿å°±æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œå› ä¸ºå‰è€…å…è®¸A-&gt;Bã€C-&gt;Dè¿™ç§è½¬è´¦ä¸šåŠ¡çš„å¹¶è¡Œã€‚ä¸åŒçš„å¹¶å‘åœºæ™¯ç”¨ä¸åŒçš„æ–¹æ¡ˆï¼Œè¿™æ˜¯å¹¶å‘ç¼–ç¨‹é‡Œé¢çš„ä¸€é¡¹åŸºæœ¬åŸåˆ™ï¼›æ²¡æœ‰é€šåƒçš„æŠ€æœ¯å’Œæ–¹æ¡ˆï¼Œå› ä¸ºæ¯ç§æŠ€æœ¯å’Œæ–¹æ¡ˆéƒ½æ˜¯ä¼˜ç¼ºç‚¹å’Œé€‚ç”¨åœºæ™¯çš„ã€‚</p><h2>3. ç«æ€æ¡ä»¶éœ€è¦æ ¼å¤–å…³æ³¨</h2><p><a href=\"https://time.geekbang.org/column/article/85702\">ã€Š07 | å®‰å…¨æ€§ã€æ´»è·ƒæ€§ä»¥åŠæ€§èƒ½é—®é¢˜ã€‹</a>é‡Œçš„æ€è€ƒé¢˜æ˜¯ä¸€ç§å…¸å‹çš„ç«æ€æ¡ä»¶é—®é¢˜ï¼ˆå¦‚ä¸‹æ‰€ç¤ºï¼‰ã€‚ç«æ€æ¡ä»¶é—®é¢˜éå¸¸å®¹æ˜“è¢«å¿½ç•¥ï¼Œcontains()å’Œadd()æ–¹æ³•è™½ç„¶éƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½†æ˜¯ç»„åˆåœ¨ä¸€èµ·å´ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚æ‰€ä»¥ä½ çš„ç¨‹åºé‡Œå¦‚æœå­˜åœ¨ç±»ä¼¼çš„ç»„åˆæ“ä½œï¼Œä¸€å®šè¦å°å¿ƒã€‚</p><pre><code>void addIfNotExist(Vector v, \n    Object o){\n  if(!v.contains(o)) {\n    v.add(o);\n  }\n}\n</code></pre><p>è¿™é“æ€è€ƒé¢˜çš„è§£å†³æ–¹æ³•ï¼Œå¯ä»¥å‚è€ƒ<a href=\"https://time.geekbang.org/column/article/87365\">ã€Š12 | å¦‚ä½•ç”¨é¢å‘å¯¹è±¡æ€æƒ³å†™å¥½å¹¶å‘ç¨‹åºï¼Ÿã€‹</a>ï¼Œä½ éœ€è¦å°†å…±äº«å˜é‡vå°è£…åœ¨å¯¹è±¡çš„å†…éƒ¨ï¼Œè€Œåæ§åˆ¶å¹¶å‘è®¿é—®çš„è·¯å¾„ï¼Œè¿™æ ·å°±èƒ½æœ‰æ•ˆé˜²æ­¢å¯¹Vector vå˜é‡çš„æ»¥ç”¨ï¼Œä»è€Œå¯¼è‡´å¹¶å‘é—®é¢˜ã€‚ä½ å¯ä»¥å‚è€ƒä¸‹é¢çš„ç¤ºä¾‹ä»£ç æ¥åŠ æ·±ç†è§£ã€‚</p><pre><code>class SafeVector{\n  private Vector v; \n  // æ‰€æœ‰å…¬å…±æ–¹æ³•å¢åŠ åŒæ­¥æ§åˆ¶\n  synchronized \n  void addIfNotExist(Object o){\n    if(!v.contains(o)) {\n      v.add(o);\n    }\n  }\n}\n</code></pre><h2>4. æ–¹æ³•è°ƒç”¨æ˜¯å…ˆè®¡ç®—å‚æ•°</h2><p>ä¸è¿‡ï¼Œè¿˜æœ‰åŒå­¦å¯¹<a href=\"https://time.geekbang.org/column/article/85702\">07</a>æ–‡ä¸­æ‰€ä¸¾çš„ä¾‹å­æœ‰ç–‘è®®ï¼Œè®¤ä¸º<code>set(get()+1);</code>è¿™æ¡è¯­å¥æ˜¯è¿›å…¥set()æ–¹æ³•ä¹‹åæ‰æ‰§è¡Œget()æ–¹æ³•ï¼Œå…¶å®å¹¶ä¸æ˜¯è¿™æ ·çš„ã€‚æ–¹æ³•çš„è°ƒç”¨ï¼Œæ˜¯å…ˆè®¡ç®—å‚æ•°ï¼Œç„¶åå°†å‚æ•°å‹å…¥è°ƒç”¨æ ˆä¹‹åæ‰ä¼šæ‰§è¡Œæ–¹æ³•ä½“ï¼Œæ–¹æ³•è°ƒç”¨çš„è¿‡ç¨‹åœ¨<a href=\"https://time.geekbang.org/column/article/86695\">11</a>è¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬å·²ç»åšäº†è¯¦ç»†çš„ä»‹ç»ï¼Œä½ å¯ä»¥å†æ¬¡é‡æ¸©ä¸€ä¸‹ã€‚</p><pre><code>while(idx++ &lt; 10000) {\n  set(get()+1);   \n}\n</code></pre><p>å…ˆè®¡ç®—å‚æ•°è¿™ä¸ªäº‹æƒ…ä¹Ÿæ˜¯å®¹æ˜“è¢«å¿½è§†çš„ç»†èŠ‚ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢å†™æ—¥å¿—çš„ä»£ç ï¼Œå¦‚æœæ—¥å¿—çº§åˆ«è®¾ç½®ä¸ºINFOï¼Œè™½ç„¶è¿™è¡Œä»£ç ä¸ä¼šå†™æ—¥å¿—ï¼Œä½†æ˜¯ä¼šè®¡ç®—<code>\"The var1ï¼š\" + var1 + \", var2:\" + var2</code>çš„å€¼ï¼Œå› ä¸ºæ–¹æ³•è°ƒç”¨å‰ä¼šå…ˆè®¡ç®—å‚æ•°ã€‚</p><pre><code>logger.debug(&quot;The var1ï¼š&quot; + \n  var1 + &quot;, var2:&quot; + var2);\n</code></pre><p>æ›´å¥½åœ°å†™æ³•åº”è¯¥æ˜¯ä¸‹é¢è¿™æ ·ï¼Œè¿™ç§å†™æ³•ä»…ä»…æ˜¯è®²å‚æ•°å‹æ ˆï¼Œè€Œæ²¡æœ‰å‚æ•°çš„è®¡ç®—ã€‚ä½¿ç”¨{}å ä½ç¬¦æ˜¯å†™æ—¥å¿—çš„ä¸€ä¸ªè‰¯å¥½ä¹ æƒ¯ã€‚</p><pre><code>logger.debug(&quot;The var1ï¼š{}, var2:{}&quot;, \n  var1, var2);\n</code></pre><h2>5. InterruptedExceptionå¼‚å¸¸å¤„ç†éœ€å°å¿ƒ</h2><p><a href=\"https://time.geekbang.org/column/article/86366\">ã€Š 09 | Javaçº¿ç¨‹ï¼ˆä¸Šï¼‰ï¼šJavaçº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸã€‹</a>çš„æ€è€ƒé¢˜ä¸»è¦æ˜¯å¸Œæœ›ä½ èƒ½å¤Ÿæ³¨æ„InterruptedExceptionçš„å¤„ç†æ–¹å¼ã€‚å½“ä½ è°ƒç”¨Javaå¯¹è±¡çš„wait()æ–¹æ³•æˆ–è€…çº¿ç¨‹çš„sleep()æ–¹æ³•æ—¶ï¼Œéœ€è¦æ•è·å¹¶å¤„ç†InterruptedExceptionå¼‚å¸¸ï¼Œåœ¨æ€è€ƒé¢˜é‡Œé¢ï¼ˆå¦‚ä¸‹æ‰€ç¤ºï¼‰ï¼Œæœ¬æ„æ˜¯é€šè¿‡isInterrupted()æ£€æŸ¥çº¿ç¨‹æ˜¯å¦è¢«ä¸­æ–­äº†ï¼Œå¦‚æœä¸­æ–­äº†å°±é€€å‡ºwhileå¾ªç¯ã€‚å½“å…¶ä»–çº¿ç¨‹é€šè¿‡è°ƒç”¨<code>th.interrupt().</code>æ¥ä¸­æ–­thçº¿ç¨‹æ—¶ï¼Œä¼šè®¾ç½®thçº¿ç¨‹çš„ä¸­æ–­æ ‡å¿—ä½ï¼Œä»è€Œä½¿<code>th.isInterrupted()</code>è¿”å›trueï¼Œè¿™æ ·å°±èƒ½é€€å‡ºwhileå¾ªç¯äº†ã€‚</p><pre><code>Thread th = Thread.currentThread();\nwhile(true) {\n  if(th.isInterrupted()) {\n    break;\n  }\n  // çœç•¥ä¸šåŠ¡ä»£ç æ— æ•°\n  try {\n    Thread.sleep(100);\n  }catch (InterruptedException e){\n    e.printStackTrace();\n  }\n}\n</code></pre><p>è¿™çœ‹ä¸Šå»ä¸€ç‚¹é—®é¢˜æ²¡æœ‰ï¼Œå®é™…ä¸Šå´æ˜¯å‡ ä¹èµ·ä¸äº†ä½œç”¨ã€‚åŸå› æ˜¯è¿™æ®µä»£ç åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯é˜»å¡åœ¨sleep(100)ä¸Šï¼Œå½“å…¶ä»–çº¿ç¨‹é€šè¿‡è°ƒç”¨<code>th.interrupt().</code>æ¥ä¸­æ–­thçº¿ç¨‹æ—¶ï¼Œå¤§æ¦‚ç‡åœ°ä¼šè§¦å‘InterruptedException å¼‚å¸¸ï¼Œ<strong>åœ¨è§¦å‘InterruptedException å¼‚å¸¸çš„åŒæ—¶ï¼ŒJVMä¼šåŒæ—¶æŠŠçº¿ç¨‹çš„ä¸­æ–­æ ‡å¿—ä½æ¸…é™¤</strong>ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™<code>th.isInterrupted()</code>è¿”å›çš„æ˜¯falseã€‚</p><p>æ­£ç¡®çš„å¤„ç†æ–¹å¼åº”è¯¥æ˜¯æ•è·å¼‚å¸¸ä¹‹åé‡æ–°è®¾ç½®ä¸­æ–­æ ‡å¿—ä½ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢è¿™æ ·ï¼š</p><pre><code>try {\n  Thread.sleep(100);\n}catch(InterruptedException e){\n  // é‡æ–°è®¾ç½®ä¸­æ–­æ ‡å¿—ä½\n  th.interrupt();\n}\n</code></pre><h2>6. ç†è®ºå€¼ or ç»éªŒå€¼</h2><p><a href=\"https://time.geekbang.org/column/article/86666\">ã€Š10 | Javaçº¿ç¨‹ï¼ˆä¸­ï¼‰ï¼šåˆ›å»ºå¤šå°‘çº¿ç¨‹æ‰æ˜¯åˆé€‚çš„ï¼Ÿã€‹</a>çš„æ€è€ƒé¢˜æ˜¯ï¼šç»éªŒå€¼ä¸ºâ€œæœ€ä½³çº¿ç¨‹=2 * CPUçš„æ ¸æ•° + 1â€ï¼Œæ˜¯å¦åˆç†ï¼Ÿ</p><p>ä»ç†è®ºä¸Šæ¥è®²ï¼Œè¿™ä¸ªç»éªŒå€¼ä¸€å®šæ˜¯é ä¸ä½çš„ã€‚ä½†æ˜¯ç»éªŒå€¼å¯¹äºå¾ˆå¤šâ€œI/Oè€—æ—¶ / CPUè€—æ—¶â€ä¸å¤ªå®¹æ˜“ç¡®å®šçš„ç³»ç»Ÿæ¥è¯´ï¼Œå´æ˜¯ä¸€ä¸ªå¾ˆå¥½åˆ°åˆå§‹å€¼ã€‚</p><p>æˆ‘ä»¬æ›¾è®²åˆ°æœ€ä½³çº¿ç¨‹æ•°æœ€ç»ˆè¿˜æ˜¯é å‹æµ‹æ¥ç¡®å®šçš„ï¼Œå®é™…å·¥ä½œä¸­å¤§å®¶é¢ä¸´çš„ç³»ç»Ÿï¼Œâ€œI/Oè€—æ—¶ / CPUè€—æ—¶â€å¾€å¾€éƒ½å¤§äº1ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨è¿™ä¸ª<strong>åˆå§‹å€¼çš„åŸºç¡€ä¸Šå¢åŠ </strong>ã€‚å¢åŠ çš„è¿‡ç¨‹ä¸­ï¼Œåº”å…³æ³¨çº¿ç¨‹æ•°æ˜¯å¦‚ä½•å½±å“ååé‡å’Œå»¶è¿Ÿçš„ã€‚ä¸€èˆ¬æ¥è®²ï¼Œéšç€çº¿ç¨‹æ•°çš„å¢åŠ ï¼Œååé‡ä¼šå¢åŠ ï¼Œå»¶è¿Ÿä¹Ÿä¼šç¼“æ…¢å¢åŠ ï¼›ä½†æ˜¯å½“çº¿ç¨‹æ•°å¢åŠ åˆ°ä¸€å®šç¨‹åº¦ï¼Œååé‡å°±ä¼šå¼€å§‹ä¸‹é™ï¼Œå»¶è¿Ÿä¼šè¿…é€Ÿå¢åŠ ã€‚è¿™ä¸ªæ—¶å€™åŸºæœ¬ä¸Šå°±æ˜¯çº¿ç¨‹èƒ½å¤Ÿè®¾ç½®çš„æœ€å¤§å€¼äº†ã€‚</p><p>å®é™…å·¥ä½œä¸­ï¼Œä¸åŒçš„I/Oæ¨¡å‹å¯¹æœ€ä½³çº¿ç¨‹æ•°çš„å½±å“éå¸¸å¤§ï¼Œä¾‹å¦‚å¤§åé¼é¼çš„Nginxç”¨çš„æ˜¯éé˜»å¡I/Oï¼Œé‡‡ç”¨çš„æ˜¯å¤šè¿›ç¨‹å•çº¿ç¨‹ç»“æ„ï¼ŒNginxæœ¬æ¥æ˜¯ä¸€ä¸ªI/Oå¯†é›†å‹ç³»ç»Ÿï¼Œä½†æ˜¯æœ€ä½³è¿›ç¨‹æ•°è®¾ç½®çš„å´æ˜¯CPUçš„æ ¸æ•°ï¼Œå®Œå…¨å‚è€ƒçš„æ˜¯CPUå¯†é›†å‹çš„ç®—æ³•ã€‚æ‰€ä»¥ï¼Œç†è®ºæˆ‘ä»¬è¿˜æ˜¯è¦æ´»å­¦æ´»ç”¨ã€‚</p><h2>æ€»ç»“</h2><p>è¿™ä¸ªæ¨¡å—ï¼Œå†…å®¹ä¸»è¦èšç„¦åœ¨å¹¶å‘ç¼–ç¨‹ç›¸å…³çš„ç†è®ºä¸Šï¼Œä½†æ˜¯æ€è€ƒé¢˜åˆ™æ˜¯èšç„¦åœ¨ç»†èŠ‚ä¸Šï¼Œæˆ‘ä»¬ç»å¸¸è¯´ç»†èŠ‚å†³å®šæˆè´¥ï¼Œåœ¨å¹¶å‘ç¼–ç¨‹é¢†åŸŸå°¤å…¶å¦‚æ­¤ã€‚ç†è®ºä¸»è¦ç”¨æ¥ç»™æˆ‘ä»¬æä¾›è§£å†³é—®é¢˜çš„æ€è·¯å’Œæ–¹æ³•ï¼Œä½†åœ¨å…·ä½“å®è·µçš„æ—¶å€™ï¼Œè¿˜å¿…é¡»é‡ç‚¹å…³æ³¨æ¯ä¸€ä¸ªç»†èŠ‚ï¼Œå“ªæ€•æœ‰ä¸€ä¸ªç»†èŠ‚æ²¡æœ‰å¤„ç†å¥½ï¼Œéƒ½ä¼šå¯¼è‡´å¹¶å‘é—®é¢˜ã€‚è¿™æ–¹é¢æ¨èä½ è®¤çœŸé˜…è¯»ã€ŠJavaå®‰å…¨ç¼–ç æ ‡å‡†ã€‹è¿™æœ¬ä¹¦ï¼Œå¦‚æœä½ è‹±æ–‡è¶³å¤Ÿå¥½ï¼Œä¹Ÿå¯ä»¥å‚è€ƒ<a href=\"https://wiki.sei.cmu.edu/confluence/display/java/2+Rules\">è¿™ä»½æ–‡æ¡£</a>ã€‚</p><p>æœ€åæ€»ç»“ä¸€å¥ï¼Œå­¦å¥½ç†è®ºæœ‰æ€è·¯ï¼Œå…³æ³¨ç»†èŠ‚å®šæˆè´¥ã€‚</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºä¸æˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºè®°å½•ä½ çš„æ€è€ƒè¿‡ç¨‹ã€‚æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œä¹Ÿæ¬¢è¿æŠŠå®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p><p></p>","comments":[{"had_liked":false,"id":80729,"user_name":"binary","can_delete":false,"product_type":"c1","uid":1365147,"ip_address":"","ucode":"084B71B8695727","user_header":"https://static001.geekbang.org/account/avatar/00/14/d4/9b/5d69d4d3.jpg","comment_is_top":false,"comment_ctime":1553704354,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"555604485538","product_id":100023901,"comment_content":"è¿™ä¸ªä¸“æ å†…å®¹å€¼å¾—åå¤é˜…è¯»ï¼","like_count":130,"discussions":[{"author":{"id":1099706,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c7/ba/4c449be2.jpg","nickname":"zhaozp","note":"","ucode":"BF390F5ED762CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300373,"discussion_content":"è‡³å°‘è¦åˆ·5é~","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598067125,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80820,"user_name":"Jialin","can_delete":false,"product_type":"c1","uid":1112955,"ip_address":"","ucode":"12583269732A75","user_header":"https://static001.geekbang.org/account/avatar/00/10/fb/7b/2d4b38fb.jpg","comment_is_top":false,"comment_ctime":1553738148,"is_pvip":false,"replies":[{"id":"29416","content":"æ„Ÿè°¢å¸®å¿™å›å¤ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553776673,"ip_address":"","comment_id":80820,"utype":1}],"discussion_count":2,"race_medal":0,"score":"276431645092","product_id":100023901,"comment_content":"å»ºè®®iamNigelåŒå­¦å»æœç´¢ä¸‹Integer String Booleanç›¸å…³çš„çŸ¥è¯†ï¼ŒIntegerä¼šç¼“å­˜-128ï½127è¿™ä¸ªèŒƒå›´å†…çš„æ•°å€¼ï¼ŒStringå¯¹è±¡åŒæ ·ä¼šç¼“å­˜å­—ç¬¦ä¸²å¸¸é‡åˆ°å­—ç¬¦ä¸²å¸¸é‡æ± ï¼Œå¯ä¾›é‡å¤ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨æ¥ç”¨ä½œé”å¯¹è±¡ï¼Œç½‘ä¸Šæœ‰ç›¸å…³çš„çŸ¥è¯†è®²è§£å’Œé¢è¯•é—®é¢˜<br>è€å¸ˆè®²è§£çš„éå¸¸ä¸é”™ï¼Œå•çœ‹æ¯ä¸€èŠ‚ï¼Œè§‰å¾—è‡ªå·±å·²ç•¥ä¸€äºŒï¼Œå­¦å®Œè¿™èŠ‚æ‰å‘ç°è¦è‡ªå·±çš„çŸ¥è¯†ç‚¹è¦ä¸²èµ·æ¥ï¼Œæ•´ä½“äº†è§£å¹¶å‘","like_count":65,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444989,"discussion_content":"æ„Ÿè°¢å¸®å¿™å›å¤ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553776673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1309592,"avatar":"https://static001.geekbang.org/account/avatar/00/13/fb/98/6f238b8e.jpg","nickname":"åŠä¸ªæŸšå­","note":"","ucode":"CF5D1190D970A9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":71830,"discussion_content":"Integerå¯¹è±¡ä½œä¸ºé”åº”è¯¥åˆ†ä¸ºç¼“å­˜èŒƒå›´å†…å’ŒèŒƒå›´å¤–ä¸¤éƒ¨åˆ†æ¥è¯´å§ï¼Œç¼“å­˜èŒƒå›´å†…çš„å¯èƒ½ä¼šå’Œæ„æ–™ä¹‹å¤–çš„çº¿ç¨‹ç«äº‰é”ï¼Œç¼“å­˜èŒƒå›´å¤–çš„å¯èƒ½ä¼šå¯¼è‡´é”çš„å˜åŒ–","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1575460892,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81444,"user_name":"linqw","can_delete":false,"product_type":"c1","uid":1134138,"ip_address":"","ucode":"09DCFE98C54DD8","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/3a/86196508.jpg","comment_is_top":false,"comment_ctime":1553915258,"is_pvip":false,"replies":[{"id":"29511","content":"å¾ˆå…¨é¢äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553926063,"ip_address":"","comment_id":81444,"utype":1}],"discussion_count":3,"race_medal":0,"score":"259251953018","product_id":100023901,"comment_content":"å­¦å®Œè¿™æ¨¡å—ï¼Œè‡ªå·±ç†ä¸‹ï¼Œè€å¸ˆå¸®å¿™çœ‹ä¸‹å“¦<br>1ã€äº§ç”Ÿå¹¶å‘çš„åŸå› ï¼šcpuã€å†…å­˜ã€ç£ç›˜é€Ÿåº¦çš„å·®å¼‚ï¼Œåœ¨ç¡¬ä»¶å’Œè½¯ä»¶æ–¹é¢è§£å†³é€Ÿåº¦å·®å¼‚å¼•å‘çš„å¹¶å‘é—®é¢˜ï¼Œcpuç¼“å­˜-&gt;å¯è§æ€§ï¼Œçº¿ç¨‹åˆ‡æ¢-&gt;åŸå­æ€§ï¼Œç¼–è¯‘ä¼˜åŒ–-&gt;é‡æ’åºï¼Œå¼•å‘å¹¶å‘é—®é¢˜çš„æ ¹æºã€‚<br>2ã€å¹¶å‘çš„è§£å†³ï¼šå¯è§æ€§è§£å†³æ–¹æ³•-&gt;volatileã€synchronized,åŸå­æ€§çš„è§£å†³æ–¹æ³•-&gt;äº’æ–¥é”ï¼Œé‡æ’åº-&gt;volatile,ç¦æ‰ç¼–è¯‘ä¼˜åŒ–<br>3ã€è§£å†³å¹¶å‘åŸå­æ€§äº§ç”Ÿçš„é—®é¢˜ï¼šæ­»é”ï¼Œæ­»é”äº§ç”Ÿçš„æ‰€æœ‰æ¡ä»¶-&gt;â‘ èµ„æºäº’æ–¥â‘¡ä¸èƒ½æŠ¢å â‘¢å æœ‰ä¸”ç­‰å¾…â‘£å¾ªç¯ç­‰å¾…ï¼Œæ­»é”çš„è§£å†³åŠæ³•-&gt;â‘ æŒ‰é”çš„é¡ºåºè·å–â‘¡å¢åŠ é”çš„åˆ†é…å™¨ã€‚<br>4ã€å®è§‚è§’åº¦åˆ†æï¼Œä»¥ä¸Šéƒ½æ˜¯ä»å¾®è§‚è§’åº¦è¿›è¡Œåˆ†æå¹¶å‘é—®é¢˜ï¼Œå®è§‚ï¼Œå³å®‰å…¨é—®é¢˜ï¼Œæ€§èƒ½é—®é¢˜ï¼Œæ´»è·ƒæ€§é—®é¢˜<br>5ã€æœ¬è´¨çœ‹é—®é¢˜ï¼Œç®¡ç¨‹<br>6ã€å®é™…çœ‹é—®é¢˜ï¼Œjavaç”Ÿå‘½å‘¨æœŸï¼Œçº¿ç¨‹æ•°çš„åˆ†é…ï¼Œçº¿ç¨‹çš„æ‰§è¡Œ<br>7ã€ä»¥å­ä¹‹çŸ›æ”»å­ä¹‹ç›¾ï¼Œé¢å‘å¯¹è±¡è§£å†³å¹¶å‘é—®é¢˜ï¼Œ å±æ€§finalã€ç§æœ‰ã€åªæœ‰getteræ–¹æ³•æ²¡æœ‰setteræ–¹æ³•ï¼Œå±æ€§çš„èµ‹å€¼ï¼Œæ·±å¤åˆ¶å†è¿›è¡Œæ“ä½œç­‰ç­‰","like_count":61,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445200,"discussion_content":"å¾ˆå…¨é¢äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553926063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2708370,"avatar":"https://static001.geekbang.org/account/avatar/00/29/53/92/21c78176.jpg","nickname":"å°é»„é¸­","note":"","ucode":"2800E3A723AEBD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537896,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639235821,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1253310,"avatar":"https://static001.geekbang.org/account/avatar/00/13/1f/be/551454e0.jpg","nickname":"zxy","note":"","ucode":"FFAA3F6667305D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":251759,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588118422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":95532,"user_name":"å°è¾‰è¾‰","can_delete":false,"product_type":"c1","uid":1189661,"ip_address":"","ucode":"9FF25E25C85350","user_header":"https://static001.geekbang.org/account/avatar/00/12/27/1d/1cb36854.jpg","comment_is_top":false,"comment_ctime":1558077036,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"242076245612","product_id":100023901,"comment_content":"å­¦äº†ä¸“æ ä¹‹åï¼Œåœ¨é¡¹ç›®é‡Œé¢å†™å¹¶å‘çš„BUGæ›´æœ‰ä¿¡å¿ƒäº†","like_count":57},{"had_liked":false,"id":80876,"user_name":"Demon.Lee","can_delete":false,"product_type":"c1","uid":1052859,"ip_address":"","ucode":"7F0E5493A8E345","user_header":"https://static001.geekbang.org/account/avatar/00/10/10/bb/f1061601.jpg","comment_is_top":false,"comment_ctime":1553747239,"is_pvip":false,"replies":[{"id":"29419","content":"è¿™ä¸ªå»ºè®®å¯ä»¥å¤šæğŸ˜ƒ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553780360,"ip_address":"","comment_id":80876,"utype":1}],"discussion_count":7,"race_medal":1,"score":"134697733415","product_id":100023901,"comment_content":"è¿™ä¸ªè¯¾ç¨‹99ä¾¿å®œäº†ï¼Œå»ºè®®æ¶¨ä»·ï¼Œä¸€å®šè¦åå¤å¤šçœ‹å‡ é","like_count":31,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445007,"discussion_content":"è¿™ä¸ªå»ºè®®å¯ä»¥å¤šæğŸ˜ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553780360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2011501,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoEcoSRAWRtibKK8RHPc7XibzcyGEfDsUFOXRJWtfd2u549Qa4KpicFNpeq16IqK2KSp9rkF2hrMXDLg/132","nickname":"å°å°ç±³","note":"","ucode":"D2928A29154FBD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277031,"discussion_content":"æˆ‘æ˜¯æ–°å®¢19.9ä¹°çš„ï¼Œæ„Ÿè§‰èµšäº†ä¸€ä¸ªäº¿ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1590986431,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1987202,"avatar":"","nickname":"Geek_783cc7","note":"","ucode":"C43F76B1978FA9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":409274,"discussion_content":"ä½ æ˜¯é­”é¬¼å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635407096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1179224,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/58/2cddaca4.jpg","nickname":"FH","note":"","ucode":"E47F6765CF1EEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370480,"discussion_content":"æå®¢ç©·Bå–œè¿è¯¾ä»·ä¸Šæ¶¨ğŸ¤¡ğŸ¤¡ğŸ¤¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619430165,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2137652,"avatar":"https://static001.geekbang.org/account/avatar/00/20/9e/34/5db691f2.jpg","nickname":"å¼ å±•å¹³","note":"","ucode":"562B22DDA51D12","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328647,"discussion_content":"æˆ‘å·²ç»ä¹°äº†ï¼Œå¯¹æ¶¨ä»·ä¸åå¯¹å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606202388,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1634978,"avatar":"https://static001.geekbang.org/account/avatar/00/18/f2/a2/f68ebec2.jpg","nickname":"ç–¯å­","note":"","ucode":"18E6740317A96A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":324888,"discussion_content":"æˆ‘å­¦ç”Ÿï¼ŒåŠä»·ä¹°çš„ï¼Œå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605186296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1812970,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a9/ea/5bfce6c5.jpg","nickname":"mgs2002","note":"","ucode":"F5931108BD509B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277109,"discussion_content":"æˆ‘å»ï¼Œè¿™ä¹ˆä¾¿å®œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591002459,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127677,"user_name":"æ¢ç´¢æ— æ­¢å¢ƒ","can_delete":false,"product_type":"c1","uid":1044178,"ip_address":"","ucode":"91D2A9907DFA79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ee/d2/7024431c.jpg","comment_is_top":false,"comment_ctime":1566778399,"is_pvip":false,"replies":[{"id":"47358","content":"æ­£ç¡®ï¼Œnginxé‡Œä¸€èˆ¬éƒ½æ˜¯è®¾ç½®æˆworkerè¿›ç¨‹å’ŒCPUä¸€ä¸€å¯¹åº”çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1566793929,"ip_address":"","comment_id":127677,"utype":1}],"discussion_count":1,"race_medal":0,"score":"65991287839","product_id":100023901,"comment_content":"å¯¹äºNginxä¸ºä»€ä¹ˆå±äºIOå¯†é›†å‹çš„ï¼Ÿæˆ‘çš„ç†è§£æ˜¯è¿™æ ·ï¼Œè¿™ä¸ªä¹Ÿè¦çœ‹åœºæ™¯ï¼ŒNginxä½œä¸ºåå‘ä»£ç†æœåŠ¡å™¨ï¼Œé‚£ä¹ˆå®ƒä¼šé€šè¿‡è´Ÿè½½å‡è¡¡ç­–ç•¥è°ƒç”¨åç«¯çš„æœåŠ¡å™¨ï¼Œè€Œè¿œç¨‹è°ƒç”¨å±äºIOæ“ä½œï¼Œæ‰€ä»¥æ­¤å¤„Nginxä½œä¸ºIOå¯†é›†å‹çš„æ“ä½œã€‚ä½†å› ä¸ºå®ƒ é‡‡ç”¨çš„æ˜¯éé˜»å¡IOæ¨¡å‹ï¼Œæ‰€ä»¥å·¥ä½œçš„æ–¹å¼åˆç±»ä¼¼äºCPUå¯†é›†å‹ï¼Œæ‰€ä»¥è®¾ç½®çš„æœ€ä½³çº¿ç¨‹æ•°ä¸ºCPUçš„æ ¸æ•°ã€‚ä¸çŸ¥é“è¿™æ ·çš„ç†è§£æ˜¯å¦æ­£ç¡®ï¼Ÿè¯·è€å¸ˆæŒ‡æ­£","like_count":15,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464604,"discussion_content":"æ­£ç¡®ï¼Œnginxé‡Œä¸€èˆ¬éƒ½æ˜¯è®¾ç½®æˆworkerè¿›ç¨‹å’ŒCPUä¸€ä¸€å¯¹åº”çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566793929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80751,"user_name":"zhangtnty","can_delete":false,"product_type":"c1","uid":1180553,"ip_address":"","ucode":"3C9A14BD7CF432","user_header":"https://static001.geekbang.org/account/avatar/00/12/03/89/e1621a01.jpg","comment_is_top":false,"comment_ctime":1553730691,"is_pvip":false,"replies":[{"id":"29421","content":"çº¿ç¨‹ä¹Ÿæ˜¯ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„å¼•ç”¨åœ¨æ ˆé‡Œï¼Œå¯¹è±¡åœ¨å †é‡Œ<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553780559,"ip_address":"","comment_id":80751,"utype":1}],"discussion_count":1,"race_medal":0,"score":"61683272835","product_id":100023901,"comment_content":"ç‹è€å¸ˆå¥½ï¼Œåœ¨ç¬¬11è®²ä¸­ï¼Œnewå‡ºçš„å¯¹è±¡æ”¾å…¥å †ï¼Œå±€éƒ¨å˜é‡æ”¾å…¥æ ˆæ¡¢ã€‚é‚£ä¹ˆnewå‡ºçš„çº¿ç¨‹ä¼šæ”¾åˆ°å“ªé‡Œï¼Ÿéº»çƒ¦è€å¸ˆè¿™å—èƒ½å¦å±•å¼€è®²ä¸€ä¸‹ï¼Œè°¢è°¢ğŸ˜Š","like_count":14,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444963,"discussion_content":"çº¿ç¨‹ä¹Ÿæ˜¯ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„å¼•ç”¨åœ¨æ ˆé‡Œï¼Œå¯¹è±¡åœ¨å †é‡Œ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553780559,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80811,"user_name":"çš®å¡çš®å¡ä¸˜","can_delete":false,"product_type":"c1","uid":1106062,"ip_address":"","ucode":"6764F465FF975B","user_header":"https://static001.geekbang.org/account/avatar/00/10/e0/8e/0e4bc2a9.jpg","comment_is_top":false,"comment_ctime":1553737110,"is_pvip":false,"replies":[{"id":"29417","content":"æ„Ÿè°¢å¸®å¿™å›å¤ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553776692,"ip_address":"","comment_id":80811,"utype":1}],"discussion_count":1,"race_medal":0,"score":"53093344662","product_id":100023901,"comment_content":"çœ‹ä¸‹æºç å°±çŸ¥é“äº†ï¼ŒIntegeré‡Œæœ‰ä¸ªå†…éƒ¨ç±»ï¼Œä¼šç¼“å­˜ä¸€å®šèŒƒå›´çš„æ•´æ•°","like_count":12,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444985,"discussion_content":"æ„Ÿè°¢å¸®å¿™å›å¤ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553776692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118312,"user_name":"æ±Ÿæ¹–å¤œé›¨","can_delete":false,"product_type":"c1","uid":1282575,"ip_address":"","ucode":"C64913C7000899","user_header":"https://static001.geekbang.org/account/avatar/00/13/92/0f/cff30522.jpg","comment_is_top":false,"comment_ctime":1564319103,"is_pvip":false,"replies":[{"id":"43338","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1564358508,"ip_address":"","comment_id":118312,"utype":1}],"discussion_count":3,"race_medal":0,"score":"44513992063","product_id":100023901,"comment_content":"redisæ˜¯ä¸æ˜¯ä¹Ÿæ˜¯IOå¯†é›†å‹ï¼Œæ‰€ä»¥è®¾ç½®ä¸ºå•çº¿ç¨‹ï¼Ÿ","like_count":10,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460354,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564358508,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1120057,"avatar":"https://static001.geekbang.org/account/avatar/00/11/17/39/3274257b.jpg","nickname":"ple","note":"","ucode":"E1C4519C325994","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549098,"discussion_content":"redisçš„ç¡®æ˜¯ioå¯†é›†å‹ï¼Œä½†æ˜¯æˆå•çº¿ç¨‹ä¸»è¦åŸå› æ˜¯ä¸æƒ³å¼•å…¥é”ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643551276,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1554995,"avatar":"https://static001.geekbang.org/account/avatar/00/17/ba/33/2d83d174.jpg","nickname":"æ—¶å…‰å®ˆæŠ¤è€…-åŸºå…°","note":"","ucode":"F0B0887B1979D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":362784,"discussion_content":"ä¸ºå•¥redisæ˜¯IOå¯†é›†å‹ï¼Œæ‰€ä»¥è®¾ç½®ä¸ºå•çº¿ç¨‹å‘¢ï¼Ÿä¹‹å‰è®²çš„ioå¯†é›†å‹åœºæ™¯ æœ€ä½³çº¿ç¨‹æ•° =CPU æ ¸æ•° * [ 1 +ï¼ˆI/O è€—æ—¶ / CPU è€—æ—¶ï¼‰]ï¼Œè¿™ä¸ªç»“æœç®—å‡ºæ¥è‚¯å®šæ˜¯å¤šä¸ªçº¿ç¨‹çš„ï¼Œä¸å¤ªæ‡‚äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617027048,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80829,"user_name":"å½­é”","can_delete":false,"product_type":"c1","uid":1179669,"ip_address":"","ucode":"F2CB53DE42026D","user_header":"https://static001.geekbang.org/account/avatar/00/12/00/15/6e399ec7.jpg","comment_is_top":false,"comment_ctime":1553739376,"is_pvip":false,"replies":[{"id":"29393","content":"è¿™ä¸ªä¾‹å­å¥½<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553746872,"ip_address":"","comment_id":80829,"utype":1}],"discussion_count":2,"race_medal":0,"score":"35913477744","product_id":100023901,"comment_content":"String s1 = &quot;lock&quot;; <br>String s2 = &quot;lock&quot;;<br>è¿™ä¸¤ä¸ªæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå³é‡ç”¨äº†ã€‚ä»£ç ä¸Šçœ‹èµ·æ¥æ˜¯æ“ä½œäº†ä¸€ä¸ªï¼Œå…¶å®æ˜¯æ“ä½œäº†ä¸¤ä¸ªã€‚","like_count":8,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444993,"discussion_content":"è¿™ä¸ªä¾‹å­å¥½\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553746872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2330905,"avatar":"https://static001.geekbang.org/account/avatar/00/23/91/19/6a3e7efc.jpg","nickname":"ç¨‹åºå‘˜9527","note":"","ucode":"1A1609F6BEAD84","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380385,"discussion_content":"lockå˜é‡è¢«å­—ç¬¦ä¸²å¸¸äº®æ± ç¼“å­˜äº†ï¼Œä¸ä¼šåˆ›å»ºs2ï¼Œå…¶å®æ˜¯ä¸€ä¸ªå¯¹è±¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624462149,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161186,"user_name":"Carpoorå¥‡","can_delete":false,"product_type":"c1","uid":1668276,"ip_address":"","ucode":"8E87A9836B5C63","user_header":"https://static001.geekbang.org/account/avatar/00/19/74/b4/5b8ac2a9.jpg","comment_is_top":false,"comment_ctime":1576140162,"is_pvip":false,"replies":[{"id":"62409","content":"å¯¹","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1576911229,"ip_address":"","comment_id":161186,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27345943938","product_id":100023901,"comment_content":"è€å¸ˆï¼Œå› ä¸ºString ï¼ŒIntegerï¼ŒBooleanæœ‰ç¼“å­˜ä¹‹åï¼Œè™½ç„¶æˆ‘ä»¬ä»£ç å®šä¹‰äº†ä¸¤ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯å®é™…ä¸Šè¿™ä¸¤ä¸ªå¼•ç”¨éƒ½æŒ‡å‘å †é‡Œçš„åŒä¸ªå¯¹è±¡ï¼Œï¼ˆå€¼ç›¸åŒçš„æƒ…å†µï¼‰æ‰€ä»¥é€‰æ‹©å…¶ä¸­ä¸€ä¸ªå¯¹è±¡åŠ é”äº†ï¼Œå®é™…ä¸Šå¦ä¸€ä¸ªå¯¹è±¡ä¹Ÿè¢«åŠ é”äº†<br><br>å¦‚æœä¸¤ä¸ªå¼•ç”¨æŒ‡å‘çš„å€¼ä¸åŒå°±æ²¡æœ‰é—®é¢˜ï¼Œå½“ä¸¤ä¸ªå¼•ç”¨æŒ‡å‘çš„å€¼ç›¸åŒå°±æœ‰é—®é¢˜äº†<br><br>è¿™æ ·ç†è§£å¯¹å—ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477631,"discussion_content":"å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576911229,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2308075,"avatar":"","nickname":"Geek_89e362","note":"","ucode":"E596C2CFE1CFAF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326825,"discussion_content":"Integer çš„é‡ç”¨åªé™äº è°ƒç”¨valueOfæ–¹æ³•ï¼Œå¦‚æœæ˜¯new ä¸¤ä¸ªIntegeråˆ™æ˜¯ä¸ä¸€æ ·çš„ã€‚\n\næ¯”å¦‚ Integer lock1 = new Integer(123);\n        Integer lock2 = new Integer(123); è¿™ä¸¤ä¸ªæ˜¯ä¸ä¸€æ ·çš„ï¼Œ\nå¦‚æœæ˜¯ \n        Integer lock1 = Integer.valueOf(123););\n        Integer lock2 = Integer.valueOf(123);; è¿™ä¸¤ä¸ªåˆ™æ˜¯ä¸€æ ·çš„ï¼Œ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1605683581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":83540,"user_name":"çº¢è¡£é—ªé—ªäº®æ™¶æ™¶","can_delete":false,"product_type":"c1","uid":1442879,"ip_address":"","ucode":"34DE6E9D94CA18","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIZTw0bzR4licHwZW59AoJNzwN0oANiaYUWdTfmib9nfhMw6ubxEMDibwAeOWXkiad4FoALb5TOGTstYVw/132","comment_is_top":false,"comment_ctime":1554643506,"is_pvip":false,"replies":[{"id":"30259","content":"å¦‚æœ100ä¸ªäººçš„é¡¹ç›®éƒ½ç”¨è¿™ä¸ªç¼“å­˜çš„å¯¹è±¡åšé”ï¼Œè¿˜æœ‰äººä¸€ç›´ä¸é‡Šæ”¾ï¼Œé‚£æ•´ä¸ªç³»ç»Ÿéƒ½ä¸äº†ç”¨äº†ï¼Œé”ä¹Ÿè¦éš”ç¦»çš„<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1554697267,"ip_address":"","comment_id":83540,"utype":1}],"discussion_count":3,"race_medal":0,"score":"27324447282","product_id":100023901,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸€ç‚¹ä¸æ˜ç™½ï¼Œæˆ‘çœ‹åˆ°å…¶ä»–å¤§ä½¬çš„è¯„è®ºå»æœäº†å…³äºintegerçš„çŸ¥è¯†ï¼Œæˆ‘æ˜ç™½integerå†…éƒ¨æœ‰ç¼“å­˜ï¼Œæ¯”å¦‚è¶…è¿‡127ä¼šé‡æ–°æ–°å»ºä¸€ä¸ªç±»ï¼Œè¿™æ ·çš„syncé”çš„å°±æ˜¯ä¸åŒçš„å¯¹è±¡äº†ï¼Œå¯æ˜¯å¦‚æœæ˜¯-128 - 127ä¹‹é—´ï¼Œä¼šé‡ç”¨ç¼“å­˜ï¼Œé‚£ä»–ä»¬ä¸å°±æ˜¯åŒä¸€ä¸ªå¯¹è±¡äº†å—ï¼Œä¸ºä»€ä¹ˆè¿˜ä¼šé”ä¸ä½å‘¢ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446064,"discussion_content":"å¦‚æœ100ä¸ªäººçš„é¡¹ç›®éƒ½ç”¨è¿™ä¸ªç¼“å­˜çš„å¯¹è±¡åšé”ï¼Œè¿˜æœ‰äººä¸€ç›´ä¸é‡Šæ”¾ï¼Œé‚£æ•´ä¸ªç³»ç»Ÿéƒ½ä¸äº†ç”¨äº†ï¼Œé”ä¹Ÿè¦éš”ç¦»çš„\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554697267,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1743868,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/9b/fc/a3abbe53.jpg","nickname":"ç™½æ¨","note":"","ucode":"B56DD94706F80B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339808,"discussion_content":"æˆ‘ä¹Ÿæ˜¯çœ‹äº†å‰é¢è¯¾ç¨‹é‡Œå¾ˆå¤šäººçš„å›å¤åå¾ˆæ··ä¹±ï¼Œæˆ‘è‡ªå·±çš„ç†è§£ï¼ŒIntegerå› ä¸ºå¯é‡ç”¨ï¼Œå¯¼è‡´ç”¨å®ƒåšé”å¯¹è±¡ï¼Œä¼šå‡ºç°æ˜æ˜ä½ æ˜¯ç¬¬ä¸€æ¬¡æ‰‹åŠ¨æ˜¾å¼åŠ é”å´å¯èƒ½è·å–ä¸åˆ°é”çš„æƒ…å†µï¼Œå› ä¸ºåœ¨åˆ«çš„åœ°æ–¹ä¹Ÿå¯èƒ½æœ‰ç¨‹åºåœ¨å¯¹Integerå¯¹è±¡åŠ é”ï¼Œè¿™é‡Œçš„é—®é¢˜ä¸æ˜¯é”ä¸é”çš„ä¸Šçš„é—®é¢˜ï¼Œè€Œæ˜¯è·å–ä¸åˆ°é”çš„é—®é¢˜ã€‚é—®é¢˜çš„æ ¹æºä¹Ÿæ˜¯å¯¹ä¸€ä¸ªå¯é‡ç”¨çš„å¯¹è±¡åŠ é”ï¼Œè€Œä¸æ˜¯å¯¹å¯å˜çš„å¯¹è±¡åŠ é”","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1609812170,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1202443,"avatar":"https://static001.geekbang.org/account/avatar/00/12/59/0b/27420fd7.jpg","nickname":"@è¯´äº†å†è§","note":"","ucode":"FA8EE493F4553F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":20898,"discussion_content":"è€å¸ˆæƒ³å¼ºè°ƒçš„åº”è¯¥æ˜¯é”ç²’åº¦çš„é—®é¢˜ï¼Œ integer å¯¹è±¡ç”±äºå†…éƒ¨æœ‰ç¼“å­˜æœºåˆ¶ï¼Œå› æ­¤è¿™ä¸ªé”çš„å½±å“èŒƒå›´æ˜¯å…¨å±€çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569390408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81127,"user_name":"zws","can_delete":false,"product_type":"c1","uid":1240091,"ip_address":"","ucode":"18EC6E85F3431E","user_header":"https://static001.geekbang.org/account/avatar/00/12/ec/1b/650e3dbe.jpg","comment_is_top":false,"comment_ctime":1553821015,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"27323624791","product_id":100023901,"comment_content":"æ¨è java å¹¶å‘ç¼–ç¨‹å®æˆ˜ åŠ æ·±ç†è§£ã€‚","like_count":6,"discussions":[{"author":{"id":1015754,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7f/ca/ea85bfdd.jpg","nickname":"helloworld","note":"","ucode":"00DF2FEC58D2E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2945,"discussion_content":"ä¼°è®¡æ˜¯ç”±äºæ•´å½¢-127åˆ°128è¿™ä¸ªèŒƒå›´çš„å¸¸é‡æ± çš„åŸå› ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564055450,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80828,"user_name":"åˆ˜å¾—æ·¼","can_delete":false,"product_type":"c1","uid":1030555,"ip_address":"","ucode":"2C76F394266D97","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b9/9b/a842776c.jpg","comment_is_top":false,"comment_ctime":1553739317,"is_pvip":false,"replies":[{"id":"29394","content":"çœ‹æ¥å­¦çš„å¾ˆå¥½ğŸ˜ƒ<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553746954,"ip_address":"","comment_id":80828,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27323543093","product_id":100023901,"comment_content":"â€œå­¦å¥½ç†è®ºæœ‰æ€è·¯ï¼Œå…³æ³¨ç»†èŠ‚å®šæˆè´¥ã€‚â€é€šè¿‡å­¦å‰å‡ ç« ï¼Œå¸®åŠ©é¡¹ç›®ç»„é‡Œè§£å†³ä¸ªå¹¶å‘çš„bugã€‚ç°å­¦ç°å–ã€‚","like_count":7,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444992,"discussion_content":"çœ‹æ¥å­¦çš„å¾ˆå¥½ğŸ˜ƒ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553746954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80755,"user_name":"IamNigel","can_delete":false,"product_type":"c1","uid":1435709,"ip_address":"","ucode":"388064ADD5A38C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJS0jwYKhjm1pRfCu5X6U0VyVS4ibgdhoAkEyV7FNdIMlXoibCyticb0kGYfDUibGcNrHtmkd8SWJekAA/132","comment_is_top":false,"comment_ctime":1553730965,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27323534741","product_id":100023901,"comment_content":"Integer string Booleançš„å¯é‡ç”¨æ²¡å¤ªæ˜ç™½ï¼Œå¸Œæœ›è€å¸ˆè®²è§£ä¸‹","like_count":6},{"had_liked":false,"id":249815,"user_name":"maybe","can_delete":false,"product_type":"c1","uid":1475528,"ip_address":"","ucode":"93D160F617E750","user_header":"https://static001.geekbang.org/account/avatar/00/16/83/c8/5ce842f6.jpg","comment_is_top":false,"comment_ctime":1600822391,"is_pvip":false,"discussion_count":0,"race_medal":4,"score":"18780691575","product_id":100023901,"comment_content":"1ã€äº§ç”Ÿå¹¶å‘é—®é¢˜çš„æ ¹æºï¼š<br>\taã€cpuç¼“å­˜å¯¼è‡´å¯è§æ€§é—®é¢˜ã€‚cpuã€å†…å­˜ã€i&#47;oè®¾å¤‡é€Ÿåº¦å·®å¼‚ï¼Œcpuå¢åŠ äº†ç¼“å­˜æ¥å¹³è¡¡é€Ÿåº¦å·®å¼‚ï¼Œå°±æ˜¯cpuä¼šä½¿ç”¨ç¼“å­˜ï¼Œå¤šæ ¸æƒ…å†µä¸‹å°±ä¼šäº§ç”Ÿå¯è§æ€§é—®é¢˜ã€‚<br>\tbã€å¤šçº¿ç¨‹åˆ‡æ¢å¯¼è‡´åŸå­æ€§é—®é¢˜ã€‚cpuèƒ½ä¿è¯çš„åŸå­æ€§æ“ä½œæ˜¯ä¸€æ¡æŒ‡ä»¤ï¼Œè€Œä¸æ˜¯ç¼–ç¨‹è¯­è¨€çš„ä¸€æ¡è¯­å¥ã€‚å¾€å¾€ç¼–ç¨‹è¯­è¨€çš„ä¸€æ¡æŒ‡ä»¤åŒ…å«å¤šæ¡cpuæŒ‡ä»¤ï¼Œè¿™ç‚¹å¾€å¾€äº§ç”Ÿè¯¯å¯¼æ€§ã€‚<br>\tcã€ç¼–è¯‘ä¼˜åŒ–å¸¦æ¥æœ‰åºæ€§é—®é¢˜ã€‚ä¸ºäº†æ›´å¥½çš„ä½¿ç”¨cpuç¼“å­˜ï¼Œç¼–è¯‘å™¨ä¼šä¼˜åŒ–æŒ‡ä»¤æ‰§è¡Œé¡ºåºï¼ŒæŒ‡ä»¤é‡æ’åºå¯¼è‡´äº†é¡ºåºæ€§é—®é¢˜ã€‚<br><br>2ã€javaå¼•å…¥å†…å­˜æ¨¡å‹è§£å†³å¹¶å‘é—®é¢˜ï¼ˆå¯è§æ€§ã€åŸå­æ€§ã€æœ‰åºæ€§ï¼‰ï¼Œå®é™…ä¸Šå°±æ˜¯æŒ‰éœ€ç¦ç”¨ç¼“å­˜å’Œç¼–è¯‘ä¼˜åŒ–ï¼Œå…·ä½“å°±æ˜¯synchronizedã€finalã€volatileï¼Œä»¥åŠhappens-beforeè§„åˆ™ã€‚<br>    aã€ç¨‹åºé¡ºåºæ€§è§„åˆ™ã€‚æŒ‰ç…§ç¨‹åºé¡ºåºï¼Œhappens-beforeåç»­çš„æ“ä½œã€‚<br>\tbã€volatileè§„åˆ™ã€‚å¯¹volatileå˜é‡çš„å†™æ“ä½œhappens-beforeåç»­å¯¹è¿™ä¸ªvolatileå˜é‡çš„è¯»æ“ä½œã€‚<br>\tcã€ä¼ é€’æ€§è§„åˆ™ã€‚a happens-before bï¼Œb happens-before cï¼Œé‚£ä¹ˆa happens-before cã€‚<br>\tdã€ç®¡ç¨‹ä¸­é”çš„è§„åˆ™ã€‚ä¸€ä¸ªé”çš„è§£é”æ“ä½œhappens-beforeåç»­è¿™ä¸ªé”çš„åŠ é”æ“ä½œã€‚<br>\teã€çº¿ç¨‹startè§„åˆ™ã€‚Aå¯åŠ¨å­çº¿ç¨‹Bï¼ŒBèƒ½çœ‹åˆ°å¯åŠ¨å‰ä¸»çº¿ç¨‹çš„æ“ä½œã€‚<br>\tfã€çº¿ç¨‹joinè§„åˆ™ã€‚Açº¿ç¨‹è°ƒç”¨Bçº¿ç¨‹çš„joinæ–¹æ³•ï¼ŒBçº¿ç¨‹å®Œæˆåï¼ŒAçº¿ç¨‹èƒ½çœ‹åˆ°Bçº¿ç¨‹çš„æ“ä½œã€‚<br><br>3ã€è§£å†³æ–¹æ³•åŸå­æ€§é—®é¢˜ï¼Œä¿è¯ä¸­é—´çŠ¶æ€å¯¹å¤–å¯è§ã€‚ä½¿ç”¨äº’æ–¥é”å¯ä»¥ä¿è¯åŸå­æ€§ã€‚é”å’Œå—ä¿æŠ¤èµ„æºä¸€å®šè¦å¯¹åº”ï¼Œåˆ‡ä¸å¯å‡ºç°ç”¨è‡ªå®¶é”ä¿æŠ¤ä»–å®¶è´¢äº§çš„å¯ç¬‘ç”¨æ³•ã€‚è§£å†³å¯è§æ€§é—®é¢˜ï¼Œä½¿ç”¨volatileã€synchronizedéƒ½èƒ½ä¿è¯å¯è§æ€§ã€‚volatileå¯ä»¥ä¿è¯<br><br>4ã€aã€æ­»é”äº§ç”Ÿçš„4ä¸ªæ¡ä»¶ï¼š1ã€äº’æ–¥ï¼ŒXã€Yèµ„æºåªèƒ½åŒæ—¶è¢«ä¸€ä¸ªçº¿ç¨‹å æœ‰ã€‚2ã€ä¸å¯æŠ¢å ï¼ŒAçº¿ç¨‹ä¸å¯å¼ºè¡ŒæŠ¢å¤ºBçº¿ç¨‹å æœ‰çš„èµ„æºã€‚3ã€å æœ‰ä¸”ç­‰å¾…ã€‚Açº¿ç¨‹å ç”¨èµ„æºXï¼Œå†å»è·å–Yèµ„æºçš„æ—¶å€™ä¸é‡Šæ”¾Xã€‚4ã€å¾ªç¯ç­‰å¾…ã€‚Açº¿ç¨‹å ç”¨èµ„æºXï¼Œç­‰å¾…èµ„æºYï¼Œçº¿ç¨‹Bå ç”¨èµ„æºYï¼Œç­‰å¾…èµ„æºXã€‚<br>   bã€ç ´ç¯2ã€3ã€4è¿™ä¸‰ä¸ªæ¡ä»¶ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œéƒ½å¯ä»¥é˜²æ­¢æ­»é”ã€‚å¯¹äºæ¡ä»¶3ï¼Œå¯ä»¥ä¸€æ¬¡æ€§è·å–å…¨éƒ¨çš„èµ„æºï¼Œè¿™æ ·å°±ä¸å­˜åœ¨ç­‰å¾…äº†ã€‚å¯¹äºæ¡ä»¶2ï¼Œå¯ä»¥å°è¯•å¦‚æœå†å»è·å–èµ„æºè€Œå¾—ä¸åˆ°çš„æ—¶å€™é‡Šæ”¾è‡ªèº«å æœ‰çš„èµ„æºã€‚å¯¹äºæ¡ä»¶4ï¼Œå¯ä»¥æŒ‰ç…§ç»Ÿä¸€çš„èµ„æºé¡ºåºè·å–é”ã€‚<br>   <br>5ã€aã€å®è§‚çœ‹é—®é¢˜ï¼Œå¹¶å‘é—®é¢˜ä¸»è¦è§£å†³ä¸‰å¤§é—®é¢˜ï¼Œå®‰å…¨æ€§ï¼ˆåŸå­æ€§ã€å¯è§æ€§ã€æœ‰åºæ€§ï¼‰ã€æ´»è·ƒæ€§é—®é¢˜ï¼ˆæ­»é”ã€æ´»é”ã€çº¿ç¨‹é¥¥é¥¿ï¼‰ã€æ€§èƒ½é—®é¢˜ï¼ˆä½¿ç”¨é”è¿‡åº¦å¯¼è‡´ä¸²è¡ŒèŒƒå›´è¿‡å¤§ï¼‰ã€‚<br>   bã€è§£å†³å®‰å…¨æ€§é—®é¢˜ï¼šå¯ä»¥ä½¿ç”¨ä½¿ç”¨äº’æ–¥é”ã€‚<br>   cã€è§£å†³æ´»è·ƒæ€§é—®é¢˜ï¼šæ­»é”ï¼šæ‰“ç ´æ­»é”çš„ä¸‰ä¸ªå¿…è¦æ¡ä»¶ä¸­çš„ä¸€ä¸ªã€‚æ´»é”ï¼šå¯ä»¥è®©çº¿ç¨‹éšæœºç­‰å¾…ä¸€ä¸ªæ—¶é—´åå†æ‰§è¡Œã€‚çº¿ç¨‹é¥¥é¥¿ï¼šå¼•å‘çº¿ç¨‹é¥¥é¥¿çš„é—®é¢˜å¯èƒ½æ˜¯çº¿ç¨‹ä¼˜å…ˆçº§æ¯”è¾ƒä½ï¼Œå¦‚æœcpuæ¯”è¾ƒç¹å¿™ï¼Œé‚£ä¹ˆä½ä¼˜å…ˆçº§çš„çº¿ç¨‹è·å¾—æ‰§è¡Œçš„æœºä¼šå¾ˆå°ã€‚æˆ–è€…è·å–é”çš„çº¿ç¨‹æ‰§è¡Œæ—¶é—´è¿‡é•¿ã€‚<br>   dã€è§£å†³æ€§èƒ½é—®é¢˜ï¼šé”çš„ç»†ç²’åº¦å°½é‡å‡å°‘ï¼Œå‡å°‘ä¸²è¡Œåº¦ã€‚<br> ","like_count":4},{"had_liked":false,"id":228102,"user_name":"æ”¾ç©º","can_delete":false,"product_type":"c1","uid":1249827,"ip_address":"","ucode":"A52C3B5D3A872D","user_header":"https://static001.geekbang.org/account/avatar/00/13/12/23/d024dbdf.jpg","comment_is_top":false,"comment_ctime":1592556191,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10182490783","product_id":100023901,"comment_content":"çœ‹äº†è€å¸ˆçš„è¿™ç¯‡ï¼Œå—ç›ŠåŒªæµ…ï¼ç«‹é©¬é”®å…¥ç‹å®ä»¤æœç´¢è¯¾ç¨‹ï¼Œå‘ç°è¿™ç¯‡æ˜¯ç‹¬è‹—ï¼Œæœ‰ç‚¹å°å¤±æœ›ã€‚å¸Œæœ›è€å¸ˆä¹‹åå‘å¸ƒæ›´å¤šè¯¾ç¨‹ï¼ï¼ï¼","like_count":2},{"had_liked":false,"id":226809,"user_name":"è®¾è®¡æ¨¡å¼å¹¶å‘ç¼–ç¨‹","can_delete":false,"product_type":"c1","uid":2020762,"ip_address":"","ucode":"9EB371149F19EF","user_header":"https://static001.geekbang.org/account/avatar/00/1e/d5/9a/515fd6f2.jpg","comment_is_top":false,"comment_ctime":1592208243,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10182142835","product_id":100023901,"comment_content":"è®¢é˜…äº†4ä¸ªä¸“æ , å°±è¿™ä¸ªä¸“æ è®²å¾—æœ€å¥½, å…¶å®ƒå‡ ä¸ªä¸“æ çš„ä»£ç ä¾‹å­ä¸€è¡Œå†™çš„éå¸¸é•¿, è¦å·¦å³æ¥å›æ»‘åŠ¨é˜…è¯»éå¸¸ä½æ•ˆ. <br>å†å°±æ˜¯æ–‡ç« å†™çš„é€»è¾‘éå¸¸ç»•, è®²å¾—å¥½ä¹å‘³,  æ¯”çœ‹åº·å¾·, é»‘æ ¼å°” ä¼‘è°Ÿçš„å“²å­¦ä¹¦ç±è¿˜éš¾æ‡‚ . . .","like_count":2},{"had_liked":false,"id":123368,"user_name":"å‡Œå°˜","can_delete":false,"product_type":"c1","uid":1487541,"ip_address":"","ucode":"972B8CEF3C9C20","user_header":"https://static001.geekbang.org/account/avatar/00/16/b2/b5/b1b42785.jpg","comment_is_top":false,"comment_ctime":1565662437,"is_pvip":false,"replies":[{"id":"50599","content":"ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1568085484,"ip_address":"","comment_id":123368,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10155597029","product_id":100023901,"comment_content":"çœŸçš„ä¸é”™ï¼Œè®©äººå—ç›ŠåŒªæµ…ï½","like_count":2,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462639,"discussion_content":"ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568085484,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81053,"user_name":"ææ¹˜æ²³","can_delete":false,"product_type":"c1","uid":1349528,"ip_address":"","ucode":"DB078B5DAAE82E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoViaN0hP07cXOl7vOIvHPu7DZ3wxHBz4iaLVEqG1TFfiagm1wUaiczbCyicwib7oDWw0vD4cXg9eZ0Okqg/132","comment_is_top":false,"comment_ctime":1553786285,"is_pvip":false,"replies":[{"id":"29457","content":"èƒ½è§£å†³æœ‰åºæ€§ï¼Œä¼šç¦æ­¢é‡æ’çš„<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553833784,"ip_address":"","comment_id":81053,"utype":1}],"discussion_count":8,"race_medal":0,"score":"10143720877","product_id":100023901,"comment_content":"å¤ä¹ äº†ä¸€éæƒ³é—®è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘å¯¹javaä¸­synchronizedç†è§£æ˜¯åªèƒ½è§£å†³å¯è§æ€§å’ŒåŸå­æ€§é—®é¢˜ï¼Œä¸èƒ½è§£å†³æœ‰ç»­æ€§é—®é¢˜ï¼Œä½†æ˜¯javaä¸­synchronizedæ˜¯ç®¡ç¨‹æ¨¡å‹çš„å®ç°ï¼Œè€Œç®¡ç¨‹æ¨¡å‹å¯ä»¥è§£å†³å¹¶å‘ç¼–ç¨‹é‡Œçš„æ‰€æœ‰é—®é¢˜(åŒæ­¥å’Œäº’æ–¥)ï¼Œè¿™ä¸ªæ„æ€æ˜¯ä¹Ÿå¯ä»¥è§£å†³javaå†…å­˜æ¨¡å‹ä¸­çš„æœ‰ç»­æ€§é—®é¢˜å—ï¼Ÿä¸çŸ¥é“æˆ‘çš„ç†è§£å¯¹ä¸å¯¹ï¼Œè¿˜è¯·è€å¸ˆè§£ç­”ä¸€ä¸‹ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445061,"discussion_content":"èƒ½è§£å†³æœ‰åºæ€§ï¼Œä¼šç¦æ­¢é‡æ’çš„\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553833784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1095136,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b5/e0/fc3ac264.jpg","nickname":"stronger.","note":"","ucode":"AD0F2BE338824C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533193,"discussion_content":"æˆ‘è§‰å¾—è¿™ä¸ªæœ‰åºæ€§æœ‰è¯¯å¯¼ï¼Œä»¥ä¸‹æ˜¯æˆ‘çš„ç†è§£\næ ¹æ®happens-beforeåŸåˆ™ï¼Œå¯¹ä¸€ä¸ªé”çš„è§£é”ï¼Œhappens-beforeäºéšåå¯¹è¿™ä¸ªé”çš„åŠ é”\næ‰€ä»¥synchronizedçš„è§£é”happens-beforeåŠ é”ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰åºæ€§ä¿è¯çš„æ˜¯è§£é”ä¹‹åçš„åŠ¨ä½œä¸ä¼šé‡æ’åºåˆ°åŠ é”ä¹‹å‰çš„åŠ¨ä½œï¼Œä½†æ˜¯åœ¨synchronizedåŒæ­¥çš„è¿‡ç¨‹ä¸­ï¼ŒæŒ‡ä»¤è¿˜æ˜¯ä¼šé‡æ’åºçš„ã€‚ä¾‹ä»¥ä¸‹åŒæ­¥ä»£ç ï¼š\n\n//æŒ‡ä»¤1\nsynchronized(this){\n//æŒ‡ä»¤2\n//æŒ‡ä»¤3\n}\n//æŒ‡ä»¤4\n\næ ¹æ®happens-beforeåŸåˆ™ï¼Œsynchronizedåªä¿è¯æŒ‡ä»¤4ä¸ä¼šæ’åˆ°æŒ‡ä»¤123ä¹‹å‰ï¼ŒæŒ‡ä»¤1ä¸ä¼šé‡æ’åºåˆ°æŒ‡ä»¤234ä¹‹åï¼Œä½†æ˜¯synchronizedåŒæ­¥ä¸­çš„æŒ‡ä»¤2å’ŒæŒ‡ä»¤3è¿˜æ˜¯ä¼šé‡æ’åºçš„ï¼Œå¯èƒ½æ˜¯å…ˆæ‰§è¡ŒæŒ‡ä»¤3å†æ‰§è¡ŒæŒ‡ä»¤2\n\næ‰€ä»¥ä¹Ÿå°±è§£é‡Šäº†@ZHAO.ä¸ºä»€ä¹ˆè¿˜éœ€è¦åŠ volatileå…³é”®å­—ï¼Œå› ä¸ºé˜²æ­¢åŒæ­¥ä¸­ä»£ç å—ä¸­çš„æŒ‡ä»¤2å’ŒæŒ‡ä»¤3é‡æ’åº\n\nä»¥ä¸Šæ˜¯æˆ‘çš„ç†è§£ï¼Œå¦‚æœä¸å¯¹ï¼Œè¯·æŒ‡æ­£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637811650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":1,"child_discussions":[{"author":{"id":1594508,"avatar":"https://static001.geekbang.org/account/avatar/00/18/54/8c/a3b98f6c.jpg","nickname":"denofiend","note":"","ucode":"FC9A750C96E01C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1095136,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b5/e0/fc3ac264.jpg","nickname":"stronger.","note":"","ucode":"AD0F2BE338824C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533982,"discussion_content":"æœ‰å®é™…è·‘ä»£ç éªŒè¯è¿‡å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638055202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":533193,"ip_address":""},"score":533982,"extra":""}]},{"author":{"id":1234462,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d6/1e/859c1baa.jpg","nickname":"pngyul","note":"","ucode":"E3A7949DB08438","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408686,"discussion_content":"0","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635303228,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2307954,"avatar":"https://static001.geekbang.org/account/avatar/00/23/37/72/bce6a15b.jpg","nickname":"ZHAO.","note":"","ucode":"2325D5E896735C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393417,"discussion_content":"æ—¢ç„¶synchronizedå¯ä»¥è§£å†³æœ‰åºæ€§ï¼Œä¼šç¦æ­¢é‡æ’ï¼Œé‚£ä¸ºä»€ä¹ˆç”¨åŒé‡æ£€æŸ¥é”å®ç°å•ä¾‹éœ€è¦åŠ volatileç¦æ­¢é‡æ’ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631424522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1580185,"avatar":"https://static001.geekbang.org/account/avatar/00/18/1c/99/5e1a2118.jpg","nickname":"mylife","note":"","ucode":"D802160BFB29FC","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2307954,"avatar":"https://static001.geekbang.org/account/avatar/00/23/37/72/bce6a15b.jpg","nickname":"ZHAO.","note":"","ucode":"2325D5E896735C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591181,"discussion_content":"ä¸ªäººç†è§£ï¼šè¿™æ˜¯å› ä¸ºé”å¤–é¢æœ‰ä¸ªåˆ¤æ–­ã€‚å®ƒåªæ˜¯ä¿è¯äº†é”ç›¸å…³å†…å®¹çš„æœ‰åºæ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666342353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":393417,"ip_address":"å¹¿ä¸œ"},"score":591181,"extra":""}]},{"author":{"id":2343086,"avatar":"https://static001.geekbang.org/account/avatar/00/23/c0/ae/e5e62510.jpg","nickname":"å¾å¿—è¶…-Klaus","note":"","ucode":"CF26B39965F2A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389595,"discussion_content":"æ€»ç®—ç¿»åˆ°ä¸€ä¸ªå’Œæˆ‘æœ‰åŒæ ·ç–‘é—®çš„åŒå­¦äº†ï¼ŒåŸºç¡€ç¯‡éƒ½å­¦å®Œäº†ï¼Œç«Ÿç„¶å‘ç°æœ‰åºæ€§çš„çŸ¥è¯†è¿˜æ˜¯ç©ºç™½çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629352041,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2046055,"avatar":"","nickname":"æœæ€»","note":"","ucode":"C6600875A265E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":286456,"discussion_content":"hb","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593179527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325925,"user_name":"å°é»„é¸­","can_delete":false,"product_type":"c1","uid":2708370,"ip_address":"","ucode":"2800E3A723AEBD","user_header":"https://static001.geekbang.org/account/avatar/00/29/53/92/21c78176.jpg","comment_is_top":false,"comment_ctime":1639235749,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5934203045","product_id":100023901,"comment_content":"éå¸¸éå¸¸æ„Ÿè°¢è€å¸ˆï¼ï¼","like_count":1},{"had_liked":false,"id":225315,"user_name":"Monday","can_delete":false,"product_type":"c1","uid":1250907,"ip_address":"","ucode":"77B9BACC783598","user_header":"https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg","comment_is_top":false,"comment_ctime":1591713846,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5886681142","product_id":100023901,"comment_content":"è¿™ä¸ªä¸“æ ï¼Œçœ‹å‰é¢13èŠ‚å°±å¤Ÿäº†ï¼Œå…¶ä¸­13èŠ‚æ˜¯å­¦ä¹ åœ°å›¾ï¼Œå€¼å¾—åå¤ç¢ç£¨","like_count":1},{"had_liked":false,"id":192636,"user_name":"wkq2786130","can_delete":false,"product_type":"c1","uid":1256821,"ip_address":"","ucode":"0F3A9DF9928C67","user_header":"https://static001.geekbang.org/account/avatar/00/13/2d/75/e7c29de4.jpg","comment_is_top":false,"comment_ctime":1584864633,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879831929","product_id":100023901,"comment_content":"å¹¶å‘ç¼–ç¨‹çš„ç†è®ºè¿™éƒ¨åˆ†è®²çš„å¾ˆå¥½ï¼Œæœ‰ç§é†é†çŒé¡¶çš„æ„Ÿè§‰ã€‚","like_count":1},{"had_liked":false,"id":147217,"user_name":"Joker","can_delete":false,"product_type":"c1","uid":1156592,"ip_address":"","ucode":"126AF848001A1E","user_header":"https://static001.geekbang.org/account/avatar/00/11/a5/f0/8648c464.jpg","comment_is_top":false,"comment_ctime":1572842138,"is_pvip":false,"replies":[{"id":"57080","content":"ä¸å·®æŒ‡å—é’ˆäº†å§ğŸ˜‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1572955417,"ip_address":"","comment_id":147217,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5867809434","product_id":100023901,"comment_content":"è°¢è°¢è€å¸ˆï¼Œè€å¸ˆä¸ä»…æä¾›äº†åœ°å›¾ï¼Œè¿˜æ•™æˆ‘ä»¬æ€ä¹ˆçœ‹åœ°å›¾ï¼Œå®å±éš¾èƒ½å¯è´µï¼Œè°¢è°¢è€å¸ˆã€‚","like_count":1,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473203,"discussion_content":"ä¸å·®æŒ‡å—é’ˆäº†å§ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572955417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":139676,"user_name":"MindController","can_delete":false,"product_type":"c1","uid":1159113,"ip_address":"","ucode":"3B9CECCD12CF6E","user_header":"https://static001.geekbang.org/account/avatar/00/11/af/c9/d9c72c60.jpg","comment_is_top":false,"comment_ctime":1570702979,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5865670275","product_id":100023901,"comment_content":"è®²çš„å®åœ¨å¤ªå¥½äº†ï¼Œè¿™æ‰æ˜¯ç²¾é€šå¹¶å‘ç¼–ç¨‹","like_count":1},{"had_liked":false,"id":115571,"user_name":"Shine","can_delete":false,"product_type":"c1","uid":1022568,"ip_address":"","ucode":"C8C617B87C63C7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9a/68/92caeed6.jpg","comment_is_top":false,"comment_ctime":1563631971,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5858599267","product_id":100023901,"comment_content":"è€å¸ˆè®²å¾—æ·±å…¥æµ…å‡º","like_count":1},{"had_liked":false,"id":113201,"user_name":"å°æ–‡åŒå­¦","can_delete":false,"product_type":"c1","uid":1001893,"ip_address":"","ucode":"48F2AEB989C12A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/49/a5/e4c1c2d4.jpg","comment_is_top":false,"comment_ctime":1562914546,"is_pvip":false,"replies":[{"id":"41241","content":"æ‚¨å®¢æ°”å•¦ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1562940715,"ip_address":"","comment_id":113201,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5857881842","product_id":100023901,"comment_content":"ä¸­é—´æš‚åœäº†æœ‰1å‘¨ï¼Œæ€»ç®—æŠŠç¬¬ä¸€éƒ¨åˆ†å­¦ä¹ å®Œäº†ã€‚æ”¶ç›ŠåŒªæµ…ï¼Œç¼–å†™æ¸¸æˆä»£ç çš„æ—¶å€™å¯¹å¹¶å‘çš„è¦æ±‚æ¯”è¾ƒé«˜ï¼Œä¹‹å‰ç§¯ç´¯äº†ä¸å°‘çš„å°ç»éªŒã€‚è¿™éƒ¨åˆ†çš„ç†è®ºè™½ç„¶æ²¡å®é™…æŒ‡å¯¼æˆ‘å†™å¹¶å‘ä»£ç çš„æŠ€å·§ï¼Œä½†è‡ªå·±æ€»ç®—èƒ½é¡ºç€çš„æ–‡ç« æ”¶æ‹¾äº†ä¹‹å‰é›¶é›¶ç¢ç¢çš„å°ç»éªŒå’ŒçŸ¥è¯†ã€‚æœŸå¾…å‰©ä¸‹çš„å†…å®¹ï¼Œæœ€åæ„Ÿè°¢å®ä»¤è€å¸ˆç¼–å†™çš„ä¸“æ ã€‚","like_count":1,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458109,"discussion_content":"æ‚¨å®¢æ°”å•¦ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562940715,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81114,"user_name":"Ryan","can_delete":false,"product_type":"c1","uid":1443765,"ip_address":"","ucode":"8EDD856C6FA7D2","user_header":"https://static001.geekbang.org/account/avatar/00/16/07/b5/b8a73cfa.jpg","comment_is_top":false,"comment_ctime":1553818969,"is_pvip":false,"replies":[{"id":"29460","content":"å‘¨å…­å‡º","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553834847,"ip_address":"","comment_id":81114,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5848786265","product_id":100023901,"comment_content":"ç¬¬äºŒæ¨¡å—å‡ºäº†ä¹ˆï¼Ÿè€å¸ˆ","like_count":1,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445085,"discussion_content":"å‘¨å…­å‡º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553834847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81007,"user_name":"QQæ€ª","can_delete":false,"product_type":"c1","uid":1211223,"ip_address":"","ucode":"1A39B8433D9208","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/57/a9b04544.jpg","comment_is_top":false,"comment_ctime":1553774107,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5848741403","product_id":100023901,"comment_content":"æ€»ç»“çš„çœŸå¥½","like_count":1},{"had_liked":false,"id":80759,"user_name":"wypsmall","can_delete":false,"product_type":"c1","uid":1317144,"ip_address":"","ucode":"5E46543D47F2C4","user_header":"https://static001.geekbang.org/account/avatar/00/14/19/18/33b7e63b.jpg","comment_is_top":false,"comment_ctime":1553731836,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5848699132","product_id":100023901,"comment_content":"çœ‹æ¥è¦é‡è¯»å‰12ç« å•¦","like_count":1},{"had_liked":false,"id":349702,"user_name":"ç å°å‘†","can_delete":false,"product_type":"c1","uid":2055809,"ip_address":"","ucode":"44532D6ABF9340","user_header":"https://static001.geekbang.org/account/avatar/00/1f/5e/81/82709d6e.jpg","comment_is_top":false,"comment_ctime":1656235775,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1656235775","product_id":100023901,"comment_content":"ç¡®å®,æ€»ç»“çš„å¾ˆåˆ°ä½!","like_count":0},{"had_liked":false,"id":348758,"user_name":"freesocean","can_delete":false,"product_type":"c1","uid":1529210,"ip_address":"","ucode":"CAD4C80CF569D3","user_header":"https://static001.geekbang.org/account/avatar/00/17/55/7a/d44df1d6.jpg","comment_is_top":false,"comment_ctime":1655370598,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1655370598","product_id":100023901,"comment_content":"Javaçš„åŒ…è£…ç±»å‹éƒ½æœ‰ç¼“å­˜ï¼ŒåŒ…æ‹¬Integer, Long ,Boolean ç­‰ç­‰ã€‚<br>å…·ä½“å¯ä»¥çœ‹ï¼š<br>https:&#47;&#47;howtodoinjava.com&#47;java-examples&#47;internal-cache-wrapper-classes&#47;","like_count":0},{"had_liked":false,"id":346507,"user_name":"EnjoyCode","can_delete":false,"product_type":"c1","uid":1680772,"ip_address":"","ucode":"B1EF6D28E3051D","user_header":"https://static001.geekbang.org/account/avatar/00/19/a5/84/fcab6626.jpg","comment_is_top":false,"comment_ctime":1653206444,"is_pvip":true,"discussion_count":0,"race_medal":4,"score":"1653206444","product_id":100023901,"comment_content":"çœŸçš„å¯ä»¥è¯´æ˜¯æ·±å…¥æµ…å‡ºäº†","like_count":0},{"had_liked":false,"id":346039,"user_name":"wont","can_delete":false,"product_type":"c1","uid":2956657,"ip_address":"","ucode":"F9CBCC8410084B","user_header":"https://static001.geekbang.org/account/avatar/00/2d/1d/71/86c54fb7.jpg","comment_is_top":false,"comment_ctime":1652782080,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1652782080","product_id":100023901,"comment_content":"è¿™13èŠ‚è¯¾æ˜¯å†…åŠŸå¿ƒæ³•ï¼Œåé¢è®²çš„æ˜¯æ­¦åŠŸæ‹›å¼ï¼çœŸæ­£çš„é«˜æ‰‹éƒ½æ˜¯æ— æ‹›èƒœæœ‰æ‹›ï¼","like_count":0},{"had_liked":false,"id":335471,"user_name":"helloWorld","can_delete":false,"product_type":"c1","uid":2793822,"ip_address":"","ucode":"E7D28A9F456959","user_header":"https://static001.geekbang.org/account/avatar/00/2a/a1/5e/4c53cb49.jpg","comment_is_top":false,"comment_ctime":1645530081,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645530081","product_id":100023901,"comment_content":"niceï¼Œç¬¬äºŒç¯‡çœ‹åˆ°è¿™ä¸ªæ€»ç»“çœŸæ˜¯ç»äº†ï¼Œä¸€ä¸‹å­å°±ä¸²èµ·æ¥äº† ","like_count":0},{"had_liked":false,"id":332775,"user_name":"ææ—å‘","can_delete":false,"product_type":"c1","uid":2337950,"ip_address":"","ucode":"9B5DF0E2687C44","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/fmhWQeJqq0iaTZOl06HfkowAsQIU08vccCNLUH1thib7GSFJAm2WKgjmI3OMXMNQQbchHAy403KgicGLzMDKD1Kyw/132","comment_is_top":false,"comment_ctime":1643596175,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1643596175","product_id":100023901,"comment_content":"æƒ³é—®ä¸‹ï¼Œ100ä¸ªçº¿ç¨‹åŒæ—¶æŠ¢ä¸€ä¸ªé”ï¼Œ1ä¸ªæˆåŠŸï¼Œå‰©ä¸‹99ä¸ªè¿›å…¥é˜»å¡ç­‰å¾…å¯¹åˆ—ã€‚<br>é‚£ä¹ˆï¼Œ99ä¸ªçº¿ç¨‹è¿›å…¥é˜»å¡ç­‰å¾…å¯¹åˆ—çš„è¿‡ç¨‹æ˜¯æ€ä¹ˆä¿è¯çº¿ç¨‹å®‰å…¨çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":324548,"user_name":"Geek_ee0dec","can_delete":false,"product_type":"c1","uid":2856565,"ip_address":"","ucode":"00C5F07A421F29","user_header":"","comment_is_top":false,"comment_ctime":1638497634,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638497634","product_id":100023901,"comment_content":"æŒ‡å‡ºä¿©ä¸ªå°é”™è¯¯å§<br>1. while(!actr.apply(this, target));è¿™ä¸ªæ–¹æ³•å’Œsynchronized(Account.class)çš„æ€§èƒ½å“ªä¸ªæ›´å¥½ å¦‚æœè½¬è´¦æ“ä½œéå¸¸è´¹æ—¶ï¼Œé‚£ä¹ˆå‰è€…çš„æ€§èƒ½ä¼˜åŠ¿å°±æ˜¾ç¤ºå‡ºæ¥äº†<br>å¦‚æœéå¸¸è€—æ—¶ é‚£while(!actr.apply(this, target)); ä¼šä¸€ç›´è‡ªæ—‹æ¶ˆè€—cpu è¿jdkéƒ½æŠŠsyncææˆæ‰€å‡çº§äº† å°±æ˜¯å› ä¸ºè‡ªæ—‹æ¶ˆè€—cpu é€‚åˆè¾ƒçŸ­æ—¶é—´å†…èƒ½è·å–åˆ°é”çš„åœºæ™¯<br>2.å¦‚æœæ—¥å¿—çº§åˆ«è®¾ç½®ä¸º INFOï¼Œè™½ç„¶è¿™è¡Œä»£ç ä¸ä¼šå†™æ—¥å¿— logger.debug(&quot;The var1ï¼š&quot; + var1 + &quot;, var2:&quot; + var2);<br>infoçº§åˆ«ä¼šæ‰“å°debug debugçº§åˆ«ä¸ä¼šæ‰“å°info è¯´åäº†å§ ","like_count":0},{"had_liked":false,"id":305570,"user_name":"è‹å½§","can_delete":false,"product_type":"c1","uid":1622448,"ip_address":"","ucode":"C016B28DF7449C","user_header":"https://static001.geekbang.org/account/avatar/00/18/c1/b0/b52d9ade.jpg","comment_is_top":false,"comment_ctime":1628050561,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1628050561","product_id":100023901,"comment_content":"è€å¸ˆï¼Œæ™®é€šå¯¹è±¡é”å’Œé™æ€å¯¹è±¡é”çš„ä½œç”¨åŸŸæ˜¯å’Œsynchronizedé”æ™®é€šæ–¹æ³•å’Œé™æ€æ–¹æ³•ä¸€æ ·ä¹ˆ<br>","like_count":0},{"had_liked":false,"id":289498,"user_name":"M","can_delete":false,"product_type":"c1","uid":1810576,"ip_address":"","ucode":"06F26E1D62E9C9","user_header":"https://wx.qlogo.cn/mmopen/vi_32/eLNeJNaEkwGSK7xvtamMibVLMy2MpbIqX3iaEhT7JtSnTRMRTwZ2j4HX7WAapiashbiaBDVriaXKSP0Oeic6ZAEVEXag/132","comment_is_top":false,"comment_ctime":1619054798,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1619054798","product_id":100023901,"comment_content":"set(get()+1);è¿™æ¡è¯­å¥æ˜¯è¿›å…¥ set() æ–¹æ³•ä¹‹åæ‰æ‰§è¡Œ get() æ–¹æ³•ï¼Œå…¶å®å¹¶ä¸æ˜¯è¿™æ ·çš„ã€‚æ–¹æ³•çš„è°ƒç”¨ï¼Œæ˜¯å…ˆè®¡ç®—å‚æ•°ï¼Œç„¶åå°†å‚æ•°å‹å…¥è°ƒç”¨æ ˆä¹‹åæ‰ä¼šæ‰§è¡Œæ–¹æ³•ä½“  <br><br><br>è€å¸ˆï¼Œè¿™å¥è¯æˆ‘æœ‰ä¸ªç–‘é—®ï¼Œ<br>å‡è®¾æ˜¯å…ˆè®¡ç®—å‚æ•°ï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œset(get()+1)æ—¶ï¼Œgetæ–¹æ³•åœ¨æ ˆä¸­åˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼Œç„¶åå…¥æ ˆï¼Œç„¶åå†æŠŠsetæ–¹æ³•å¯¹åº”çš„æ ˆå¸§ä¹Ÿå‹å…¥æ ˆä¸­ï¼Œç”±äºæ ˆæ˜¯å…ˆè¿›åå‡ºçš„ç»“æ„ï¼Œé‚£ä¹ˆï¼Œsetæ–¹æ³•æ˜¯æ¯”getæ–¹æ³•å…ˆå‡ºæ ˆçš„ï¼Œå°±æ²¡æ³•å¾—åˆ°getæ–¹æ³•çš„ç»“æœäº†ã€‚       åæ­£setæ–¹æ³•å…ˆå…¥æ ˆï¼Œgetæ–¹æ³•åå…¥æ ˆï¼Œåˆšå¥½getæ–¹æ³•è®¡ç®—å®Œç»“æœï¼Œå‡ºæ ˆæŠŠç»“æœè¿”å›ç»™setæ–¹æ³•       <br><br>è€å¸ˆï¼Œè¿™ä¸ªè¦æ€ä¹ˆç†è§£å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2904498,"avatar":"","nickname":"æäº®äº®","note":"","ucode":"8A5E08520DF6D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554693,"discussion_content":"setæ–¹æ³•å’Œgetæ–¹æ³•æ˜¯é¡ºåºå…³ç³»ï¼Œä¸æ˜¯è°ƒç”¨å…³ç³»ï¼Œä¹Ÿå°±æ˜¯getæ–¹æ³•å‹æ ˆå‡ºæ ˆæ‰§è¡Œå®Œäº†æ‰å°†setå‹æ ˆï¼Œæˆ‘æ˜¯è¿™ä¹ˆç†è§£çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646554534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":289495,"user_name":"M","can_delete":false,"product_type":"c1","uid":1810576,"ip_address":"","ucode":"06F26E1D62E9C9","user_header":"https://wx.qlogo.cn/mmopen/vi_32/eLNeJNaEkwGSK7xvtamMibVLMy2MpbIqX3iaEhT7JtSnTRMRTwZ2j4HX7WAapiashbiaBDVriaXKSP0Oeic6ZAEVEXag/132","comment_is_top":false,"comment_ctime":1619053475,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619053475","product_id":100023901,"comment_content":"<br>void addIfNotExist(Vector v, <br>    Object o){<br>  if(!v.contains(o)) {<br>    v.add(o);<br>  }<br>}  <br><br>è€å¸ˆï¼Œç›´æ¥åœ¨voidå‰é¢åŠ ä¸Šsyä¹Ÿè¡Œå§ï¼Œä¸ºä»€ä¹ˆéè¦æŠŠvæ‹†å‡ºæ¥å°è£…å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":285834,"user_name":"æ—¶å…‰å®ˆæŠ¤è€…-åŸºå…°","can_delete":false,"product_type":"c1","uid":1554995,"ip_address":"","ucode":"F0B0887B1979D2","user_header":"https://static001.geekbang.org/account/avatar/00/17/ba/33/2d83d174.jpg","comment_is_top":false,"comment_ctime":1617026996,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617026996","product_id":100023901,"comment_content":"è€å¸ˆçœ‹åˆ°ä½ çš„å›å¤redisæ˜¯IOå¯†é›†å‹ï¼Œæ‰€ä»¥è®¾ç½®ä¸ºå•çº¿ç¨‹å‘¢ï¼Ÿä¹‹å‰è®²çš„ioå¯†é›†å‹åœºæ™¯ æœ€ä½³çº¿ç¨‹æ•° =CPU æ ¸æ•° * [ 1 +ï¼ˆI&#47;O è€—æ—¶ &#47; CPU è€—æ—¶ï¼‰]ï¼Œè¿™ä¸ªç»“æœç®—å‡ºæ¥è‚¯å®šæ˜¯å¤šä¸ªçº¿ç¨‹çš„ï¼Œè¯·è€å¸ˆè§£æƒ‘","like_count":0},{"had_liked":false,"id":282906,"user_name":"Geek_aq","can_delete":false,"product_type":"c1","uid":2033256,"ip_address":"","ucode":"6FFE7A9D746964","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKHxicHW07jz5vB9I8QAonrDXrcFmOS9CtqufVexs0wY1YxH7picctcTMOiaibgVvwkQX3UcicqqUXWTYQ/132","comment_is_top":false,"comment_ctime":1615459350,"is_pvip":false,"replies":[{"id":"102725","content":"å®¢æ°”ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1615619705,"ip_address":"","comment_id":282906,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1615459350","product_id":100023901,"comment_content":"æ„Ÿè°¢è€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516876,"discussion_content":"å®¢æ°”ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615619705,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272847,"user_name":"Insomnia","can_delete":false,"product_type":"c1","uid":1751214,"ip_address":"","ucode":"5986A48988D6E3","user_header":"https://static001.geekbang.org/account/avatar/00/1a/b8/ae/085484e7.jpg","comment_is_top":false,"comment_ctime":1610331355,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610331355","product_id":100023901,"comment_content":"è¿™ä¸ªä¸“æ çš„è´¨é‡çœŸçš„å¤ªé«˜äº†, å”¯ä¸€ä¸è¶³çš„ä¸€ç‚¹: ç†è®ºåŸºç¡€ç¯‡ä¸­æ²¡æœ‰åŠ å…¥ AQS çš„è®²è§£.","like_count":0},{"had_liked":false,"id":249816,"user_name":"maybe","can_delete":false,"product_type":"c1","uid":1475528,"ip_address":"","ucode":"93D160F617E750","user_header":"https://static001.geekbang.org/account/avatar/00/16/83/c8/5ce842f6.jpg","comment_is_top":false,"comment_ctime":1600822397,"is_pvip":false,"replies":[{"id":"91643","content":"ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1600956082,"ip_address":"","comment_id":249816,"utype":1}],"discussion_count":1,"race_medal":4,"score":"1600822397","product_id":100023901,"comment_content":"   <br>6ã€ç®¡ç¨‹æ¨¡å‹è§£å†³å¹¶å‘é—®é¢˜ï¼ˆäº’æ–¥ï¼šåŒä¸€ä¸ªæ—¶åˆ»åªå…è®¸ä¸€ä¸ªçº¿ç¨‹è®¿é—®å…±äº«èµ„æºã€‚åŒæ­¥ï¼šçº¿ç¨‹é—´é€šä¿¡ã€åä½œï¼‰ã€‚javaç®¡ç¨‹æ¨¡å‹æ˜¯mesaæ¨¡å‹ã€‚ç®¡ç¨‹æ¨¡å‹å‘å±•å†å²ï¼š<br>   aã€hensonæ¨¡å‹ï¼šè¦æ±‚notifyå¿…é¡»æ”¾åœ¨ä»£ç çš„æœ€åï¼Œè¿™æ ·T2é€šçŸ¥å®ŒT1åï¼ŒT2é©¬ä¸Šç»“æŸï¼ŒT1å†æ‰§è¡Œï¼Œè¿™æ ·ä¿è¯åŒä¸€ä¸ªæ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚<br>   bã€hoareæ¨¡å‹ï¼Œè¦æ±‚T2é€šçŸ¥T1åï¼ŒT2é©¬ä¸Šé˜»å¡ï¼ŒT1å¼€å§‹æ‰§è¡Œï¼Œç„¶åT1æ‰§è¡Œå®Œåå”¤é†’T2ã€‚è¿™æ ·ä¹Ÿä¿è¯äº†åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚ä¸è¿‡ç›¸æ¯”hensonæ¨¡å‹ï¼Œå¤šäº†ä¸€æ¬¡å”¤é†’æ“ä½œã€‚<br>   cã€mesaæ¨¡å‹ï¼ŒT2æ‰§è¡Œnotify T1åT2è¿˜æ˜¯æ¥ç€æ‰§è¡Œï¼ŒT1å¹¶ä¸ä¼šé©¬ä¸Šæ‰§è¡Œã€‚è€ŒT1ä»…ä»…æ˜¯ä»æ¡ä»¶å˜é‡ç­‰å¾…é˜Ÿåˆ—è½¬ç§»åˆ°äº†å…¥å£ç­‰å¾…é˜Ÿåˆ—é‡Œé¢ã€‚è¿™æ ·notifyå°±ä¸å¿…æ”¾åˆ°ä»£ç çš„æœ€åï¼Œæœ€åT2ä¹Ÿä¸å¿…æœ‰å¤šä½™çš„å”¤é†’æ“ä½œã€‚ä½†æ˜¯æœ‰ä¸ªå‰¯ä½œç”¨ï¼Œå°±æ˜¯T1çœŸæ­£è·å¾—é”æ‰§è¡Œçš„æ—¶å€™ï¼Œå¯èƒ½æ¡ä»¶å˜é‡å·²ç»ä¸æ»¡è¶³äº†ï¼Œè¿™æ—¶å€™T1åˆå¾—ç»§ç»­ç­‰å¾…ã€‚æ‰€ä»¥mesaæ¨¡å‹å¿…é¡»åœ¨å¾ªç¯ä¸­åˆ¤æ–­æ¡ä»¶æ˜¯å¦æ»¡è¶³ã€‚<br><br>7ã€aã€æ“ä½œç³»ç»Ÿçº¿ç¨‹ç”Ÿå‘½å‘¨æœŸï¼šåˆå§‹çŠ¶æ€ã€å¯è¿è¡ŒçŠ¶æ€ã€è¿è¡ŒçŠ¶æ€ã€ä¼‘çœ çŠ¶æ€ã€ç»ˆæ­¢çŠ¶æ€ã€‚ä¼‘çœ çŠ¶æ€æ˜¯ä¸å¯èƒ½è·å¾—cpuåˆ†é…çš„ã€‚<br>   bã€javaçº¿ç¨‹ç”Ÿå‘½å‘¨æœŸï¼šåˆå§‹çŠ¶æ€ï¼ˆNewï¼‰ã€å¯è¿è¡ŒçŠ¶æ€&#47;è¿è¡ŒçŠ¶æ€ï¼ˆRunningï¼‰ã€ä¼‘çœ çŠ¶æ€(Blockedï¼šé˜»å¡çŠ¶æ€ã€waittingï¼šæ— æ—¶é™ç­‰å¾…çŠ¶æ€ã€timed_wattingï¼šæœ‰æ—¶é™ç­‰å¾…çŠ¶æ€)ã€ç»ˆæ­¢çŠ¶æ€(Terminalï¼‰ã€‚<br>   cã€åˆå§‹çŠ¶æ€ï¼ˆNewï¼‰ï¼šçº¿ç¨‹åˆšåˆ›å»ºï¼ˆé€šè¿‡ç»§æ‰¿Threadã€å®ç°Runnableï¼‰<br>   dã€å¯è¿è¡Œ&#47;è¿è¡ŒçŠ¶æ€ï¼šæ‰§è¡Œäº†çº¿ç¨‹çš„startæ–¹æ³•ã€‚<br>   eã€ä¼‘çœ çŠ¶æ€-Blockedï¼šçº¿ç¨‹æŠ¢å¤ºä¸åˆ°synchronizedéšå¼é”è€Œé˜»å¡ã€‚<br>   fã€ä¼‘çœ çŠ¶æ€-waittingï¼šçº¿ç¨‹è·å–åˆ°äº†é”è€Œè°ƒç”¨äº†æ— å‚æ•°çš„waitã€joinã€parkæ–¹æ³•ã€‚<br>   gã€ä¼‘çœ çŠ¶æ€-timed_watting:çº¿ç¨‹è·å–åˆ°äº†é”è€Œè°ƒç”¨äº†æœ‰å‚æ•°çš„waitã€joinã€parkNanoã€parkUntilã€sleepæ–¹æ³•ã€‚<br>   hã€ç»ˆæ­¢çŠ¶æ€ï¼šçº¿ç¨‹æ‰§è¡Œå®Œæˆ–è€…å‘ç”Ÿäº†å¼‚å¸¸ã€‚<br>   <br>8ã€çº¿ç¨‹æ•°å¦‚ä½•è‹¹æœåˆå§‹å€¼ï¼š<br>   aã€cpuå¯†é›†å‹ï¼šçº¿ç¨‹æ•°=cpuæ ¸æ•°+1<br>   bã€i&#47;oå¯†é›†å‹ï¼šçº¿ç¨‹æ•°=cpuæ ¸æ•°*ï¼ˆ1 + ioè€—æ—¶&#47;cpuè€—æ—¶ï¼‰<br><br>9ã€å±€éƒ¨å˜é‡æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼šå±€éƒ¨å˜é‡æ˜¯å­˜åœ¨æ ˆå¸§ä¸­ã€æ ˆå¸§æ˜¯æ–¹æ³•è°ƒç”¨è€Œåˆ›å»ºçš„ç»“æ„ã€æ ˆå¸§æ˜¯å­˜åœ¨è°ƒç”¨æ ˆä¸­ã€è€Œè°ƒç”¨æ ˆæ˜¯æ¯ä¸ªçº¿ç¨‹ç‹¬äº«çš„ã€‚<br><br>10ã€å¦‚ä½•ç¼–å†™å¥½å¤šçº¿ç¨‹ç¨‹åºï¼š1ã€å°è£…å¥½å…±äº«å˜é‡ï¼Œé˜²æ­¢é€ƒé€¸ã€‚2ã€è¯†åˆ«å…±äº«å˜é‡çš„çº¦æŸå…³ç³»ã€‚3ã€è®¾è®¡è®¿é—®æ§åˆ¶ç­–ç•¥ã€‚","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506024,"discussion_content":"ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600956082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":237981,"user_name":"å†°æ²³æ—¶ä»£","can_delete":false,"product_type":"c1","uid":1098504,"ip_address":"","ucode":"F4375FB7CE4FD4","user_header":"https://static001.geekbang.org/account/avatar/00/10/c3/08/28c327d0.jpg","comment_is_top":false,"comment_ctime":1596021178,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596021178","product_id":100023901,"comment_content":" é”ï¼Œåº”æ˜¯ç§æœ‰çš„ã€ä¸å¯å˜çš„ã€ä¸å¯é‡ç”¨çš„<br>ç†è§£äº†private Object lock = new Obect();<br>çœ‹å®Œè€å¸ˆçš„æ€»ç»“,æœ‰å¯èƒ½åˆ«äººä¼šä½¿ç”¨ä½ çš„é”ï¼Œä½ ä¹Ÿä¸çŸ¥é“åˆ«äººå¹²å˜›äº†ã€‚ç†è§£äº†ï¼Œ å¹¶ä¸”ä¹‹å‰Springæºç é‡Œå¤§é‡è¿™æ ·çš„å†™æ³•ï¼Œå½“æ—¶ä¸æ˜¯å¾ˆç†è§£","like_count":0},{"had_liked":false,"id":209895,"user_name":"M","can_delete":false,"product_type":"c1","uid":1810576,"ip_address":"","ucode":"06F26E1D62E9C9","user_header":"https://wx.qlogo.cn/mmopen/vi_32/eLNeJNaEkwGSK7xvtamMibVLMy2MpbIqX3iaEhT7JtSnTRMRTwZ2j4HX7WAapiashbiaBDVriaXKSP0Oeic6ZAEVEXag/132","comment_is_top":false,"comment_ctime":1587632963,"is_pvip":false,"replies":[{"id":"78694","content":"å¯ä»¥","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1588032890,"ip_address":"","comment_id":209895,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587632963","product_id":100023901,"comment_content":"å…³äºâ€œç«æ€æ¡ä»¶3â€è¿™ä¸ªæ€è€ƒé¢˜ï¼Œåº”è¯¥å¯ä»¥ç›´æ¥åŠ synchronizedå…³é”®å­—,è¿™æ ·æŠŠcontainsæ–¹æ³•å’Œaddæ–¹æ³•æ”¾å…¥ä¸€ä¸ªä¸´ç•ŒåŒºå†…äº’æ–¥ã€‚è€å¸ˆè¿™æ ·ä¹Ÿå¯ä»¥å§ï¼Ÿ<br><br>synchronized void addIfNotExist(Vector v, <br>    Object o){<br>  if(!v.contains(o)) {<br>    v.add(o);<br>  }<br>}","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492891,"discussion_content":"å¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588032890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207873,"user_name":"ç‹ä¸°","can_delete":false,"product_type":"c1","uid":1084423,"ip_address":"","ucode":"E4A668D873A32A","user_header":"https://static001.geekbang.org/account/avatar/00/10/8c/07/b4ea8f10.jpg","comment_is_top":false,"comment_ctime":1587201653,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587201653","product_id":100023901,"comment_content":"ç¬¬ä¸€æ€§åŸç† å°±æ˜¯æŒæ¡åŸºç¡€å’Œç†è®ºæ˜¯ ä¸‡ä¸ˆé«˜æ¥¼å¹³åœ°èµ·çš„å¼€å§‹","like_count":0},{"had_liked":false,"id":196788,"user_name":"å†¬é£å‘å·¦å¹","can_delete":false,"product_type":"c1","uid":1066928,"ip_address":"","ucode":"376C45C5134F93","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/b0/a9b77a1e.jpg","comment_is_top":false,"comment_ctime":1585313612,"is_pvip":false,"replies":[{"id":"75067","content":"æ„ŸåŠ¨ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1585631075,"ip_address":"","comment_id":196788,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585313612","product_id":100023901,"comment_content":"è¿™æ˜¯æˆ‘çœ‹çš„ç¬¬å››éï¼ï¼ï¼éå¸¸æ£’ï¼","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489387,"discussion_content":"æ„ŸåŠ¨ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585631075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":191639,"user_name":"zhangchao","can_delete":false,"product_type":"c1","uid":1508339,"ip_address":"","ucode":"E665D153A85DE0","user_header":"https://static001.geekbang.org/account/avatar/00/17/03/f3/0bd094ad.jpg","comment_is_top":false,"comment_ctime":1584786317,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584786317","product_id":100023901,"comment_content":"nioä¹Ÿå…³è”ä¸Šäº†ï¼Œç‰›","like_count":0},{"had_liked":false,"id":185786,"user_name":"torres","can_delete":false,"product_type":"c1","uid":1108761,"ip_address":"","ucode":"34DABCFC7B74EA","user_header":"https://static001.geekbang.org/account/avatar/00/10/eb/19/76b0b98c.jpg","comment_is_top":false,"comment_ctime":1583678723,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583678723","product_id":100023901,"comment_content":"è€å¸ˆçš„è§£é‡Šå¤ªèµäº†ï¼ï¼ï¼  å—ç›ŠåŒªæµ…","like_count":0},{"had_liked":false,"id":182739,"user_name":"kevin","can_delete":false,"product_type":"c1","uid":1629537,"ip_address":"","ucode":"8A0F58E2723893","user_header":"https://static001.geekbang.org/account/avatar/00/18/dd/61/544c2838.jpg","comment_is_top":false,"comment_ctime":1582858119,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1582858119","product_id":100023901,"comment_content":"stringä¸èƒ½ç”¨ä½œé”å¯¹è±¡ï¼Œä¸ºä»€ä¹ˆstring.intern()å¯ä»¥ä½œä¸ºé”å¯¹è±¡ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1256821,"avatar":"https://static001.geekbang.org/account/avatar/00/13/2d/75/e7c29de4.jpg","nickname":"wkq2786130","note":"","ucode":"0F3A9DF9928C67","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211555,"discussion_content":"String s1 = &#34;lock&#34;;\nString s2 = &#34;lock&#34;;\nè¿™ä¸¤ä¸ªæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå³é‡ç”¨äº†ã€‚ä»£ç ä¸Šçœ‹èµ·æ¥æ˜¯æ“ä½œäº†ä¸€ä¸ªï¼Œå…¶å®æ˜¯æ“ä½œäº†ä¸¤ä¸ªã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584864819,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":182659,"user_name":"Kevinâš¡ï¸Zhou","can_delete":false,"product_type":"c1","uid":1440772,"ip_address":"","ucode":"C0FC2673705212","user_header":"https://static001.geekbang.org/account/avatar/00/15/fc/04/d83a555e.jpg","comment_is_top":false,"comment_ctime":1582845084,"is_pvip":false,"replies":[{"id":"71265","content":"ä¸»è¦è¿˜æ˜¯ç†è§£åŸç†ï¼Œæ¨æ–­å‡ºçŸ¥è¯†ï¼Œåå¤åœ°çœ‹å°±èƒ½è®°ä½","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1583235099,"ip_address":"","comment_id":182659,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1582845084","product_id":100023901,"comment_content":"è€å¸ˆ, æœ‰ä¸ªç–‘æƒ‘, å¾ˆå¤šåŸºç¡€çŸ¥è¯†, å¦‚æœè®°ä¸ä½çš„è¯æ˜¯ä¸æ˜¯ä¸ä¸€å®šè¦æ­»è®°ç¡¬èƒŒ, é‡åœ¨æŒæ¡?","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485400,"discussion_content":"ä¸»è¦è¿˜æ˜¯ç†è§£åŸç†ï¼Œæ¨æ–­å‡ºçŸ¥è¯†ï¼Œåå¤åœ°çœ‹å°±èƒ½è®°ä½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583235099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":180079,"user_name":"èŒ¶æ²¡å–å®Œ","can_delete":false,"product_type":"c1","uid":1644104,"ip_address":"","ucode":"D72D88C42A1258","user_header":"https://static001.geekbang.org/account/avatar/00/19/16/48/09493874.jpg","comment_is_top":false,"comment_ctime":1582182499,"is_pvip":false,"replies":[{"id":"70316","content":"æ‚¨å®¢æ°”å•¦ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1582553919,"ip_address":"","comment_id":180079,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1582182499","product_id":100023901,"comment_content":"æˆ‘çœŸçš„å¤ªä½©æœè€å¸ˆäº†ï¼Œæ€è·¯æ¸…æ™°ï¼Œæè¿°ç®€æ´æ˜äº†ã€‚<br>èƒ½è¯»åˆ°è¿™ä¸ªä¸“æ çœŸçš„å¹¸è¿ã€‚<br>ä¹‹å‰çœ‹ä¹¦ç§¯ç´¯çš„ç–‘é—®å¥½å¤šéƒ½è§£å¼€äº†ã€‚<br>è°¢è°¢è€å¸ˆã€‚","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484511,"discussion_content":"æ‚¨å®¢æ°”å•¦ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582553919,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":148154,"user_name":"è€ƒä¼‘","can_delete":false,"product_type":"c1","uid":1053955,"ip_address":"","ucode":"968DFC00D6D0CF","user_header":"https://static001.geekbang.org/account/avatar/00/10/15/03/c0fe1dbf.jpg","comment_is_top":false,"comment_ctime":1572950839,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572950839","product_id":100023901,"comment_content":"nginxé‡‡ç”¨å¤šè¿›ç¨‹å•çº¿ç¨‹å°±å¯ä»¥å®ç°é«˜å¹¶å‘è®¿é—®çš„å¤„ç†ï¼Œå…·ä½“æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":130644,"user_name":"éšå¿ƒè€Œè‡³","can_delete":false,"product_type":"c1","uid":1097836,"ip_address":"","ucode":"31866865255101","user_header":"https://static001.geekbang.org/account/avatar/00/10/c0/6c/29be1864.jpg","comment_is_top":false,"comment_ctime":1567501121,"is_pvip":false,"replies":[{"id":"48964","content":"ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1567554585,"ip_address":"","comment_id":130644,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567501121","product_id":100023901,"comment_content":"èµï¼Œå†™å¾—çœŸå¥½","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466047,"discussion_content":"ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567554585,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":114915,"user_name":"å°”å†¬æ©™","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1563432761,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563432761","product_id":100023901,"comment_content":"è€å¸ˆï¼Œä»»ä½•é‡‡ç”¨å°è£…å…±äº«å˜é‡åœ¨ç±»é‡Œï¼Œéœ€è¦ä¿è¯è¯¥ç±»æ˜¯å•ä¾‹ï¼Œä¸ç„¶æ— æ³•ä¿è¯äº’æ–¥ï¼Œä¸çŸ¥é“æˆ‘ç†è§£çš„å¯¹ä¸å¯¹è€å¸ˆ","like_count":0},{"had_liked":false,"id":106709,"user_name":"é£èµ·æ—¶","can_delete":false,"product_type":"c1","uid":1125840,"ip_address":"","ucode":"41E3E457F1E970","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/d0/1fe7144e.jpg","comment_is_top":false,"comment_ctime":1561375831,"is_pvip":false,"replies":[{"id":"53894","content":"containsæ–¹æ³•æ‰§è¡Œå®Œï¼Œé”å°±é‡Šæ”¾äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1570709353,"ip_address":"","comment_id":106709,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1561375831","product_id":100023901,"comment_content":"è€å¸ˆï¼Œæˆ‘å¾ˆç–‘æƒ‘è¿™ä¸ªaddIfNotExistä¸ºå•¥ä¸å®‰å…¨ï¼Œæˆ‘ç†è§£containså’Œaddéƒ½æ˜¯çº¿ç¨‹å®‰å…¨ï¼Œä¸”é”æ˜¯å½“å‰vectorï¼Œæ˜¯å¯é‡å…¥é”ï¼Œcontainsæ‰§è¡Œå®Œå†æ‰§è¡Œaddä¸è¦ç«äº‰ï¼Œé‚£ä¹ˆä¸€ä¸ªçº¿ç¨‹å¿…ç„¶æ˜¯ä¸€æ¬¡æ€§æ‰§è¡Œå®Œcontainså’Œaddï¼Œè¯·è€å¸ˆç»™æˆ‘è§£ç­”ä¸‹","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455188,"discussion_content":"containsæ–¹æ³•æ‰§è¡Œå®Œï¼Œé”å°±é‡Šæ”¾äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570709353,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2330905,"avatar":"https://static001.geekbang.org/account/avatar/00/23/91/19/6a3e7efc.jpg","nickname":"ç¨‹åºå‘˜9527","note":"","ucode":"1A1609F6BEAD84","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380391,"discussion_content":" containsæ˜¯ä¸€æŠŠé”ï¼Œaddä¹Ÿæ˜¯ä¸€æŠŠé”ï¼Œæœ‰å¯èƒ½catainsæŒ‡æœ›é‡Šæ”¾äº†é”ï¼Œä½†æ˜¯addæ‰åˆšåˆšå¼€å§‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624464009,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102267,"user_name":"ppyh","can_delete":false,"product_type":"c1","uid":1351148,"ip_address":"","ucode":"14022ADEC9B53F","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/ec/235b74c0.jpg","comment_is_top":false,"comment_ctime":1560172844,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560172844","product_id":100023901,"comment_content":"åŸºç¡€æ¨¡å—çœ‹åˆ°è¿™å‰é¢å¿˜å¾—å·®ä¸å¤šäº†ï¼Œè¿˜å¥½å›å¤´å¤ä¹ äº†ä¸€é","like_count":0},{"had_liked":false,"id":101743,"user_name":"å°”å†¬æ©™","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1559955797,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559955797","product_id":100023901,"comment_content":"è€å¸ˆä¼šè®²åç¨‹ä¹ˆ","like_count":0},{"had_liked":false,"id":99302,"user_name":"lantianqiongfeng","can_delete":false,"product_type":"c1","uid":1171486,"ip_address":"","ucode":"72E675F2BDDC79","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLPRrWeonJqRzw89DTy9gcsUj50hoP27tauQP0qlsDMmHdo00aHz9mpfBJ5IciafDhia5v4nr97O0YA/132","comment_is_top":false,"comment_ctime":1559188592,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559188592","product_id":100023901,"comment_content":"è¿™å«äº«å…ƒæ¨¡å¼","like_count":0},{"had_liked":false,"id":93354,"user_name":"åˆ˜é¹","can_delete":false,"product_type":"c1","uid":1524765,"ip_address":"","ucode":"48A831C5D2031C","user_header":"https://static001.geekbang.org/account/avatar/00/17/44/1d/833b3890.jpg","comment_is_top":false,"comment_ctime":1557455557,"is_pvip":false,"replies":[{"id":"33507","content":"çº¿ç¨‹ä¸ä¼šé˜»å¡ï¼Œéƒ½æ˜¯çº¯cpuè®¡ç®—","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1557643861,"ip_address":"","comment_id":93354,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1557455557","product_id":100023901,"comment_content":"nginxä¸ºä»€ä¹ˆå®Œå…¨å‚è€ƒçš„æ˜¯ CPU å¯†é›†å‹çš„ç®—æ³•ï¼Ÿï¼Ÿï¼Ÿï¼Ÿlogæ—¥å¿—å“ªé‡Œè¯´çš„æ˜¯ä»€ä¹ˆæ„æ€<br>","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":449595,"discussion_content":"çº¿ç¨‹ä¸ä¼šé˜»å¡ï¼Œéƒ½æ˜¯çº¯cpuè®¡ç®—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1557643861,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":88450,"user_name":"xuery","can_delete":false,"product_type":"c1","uid":1027584,"ip_address":"","ucode":"F461B61BE06131","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ae/00/025f37e7.jpg","comment_is_top":false,"comment_ctime":1555920644,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1555920644","product_id":100023901,"comment_content":"è·³å‡ºæ¥ï¼Œçœ‹å…¨å±€ï¼›é’ˆå¯¹å…¨å±€çš„æ¯ä¸€ç‚¹é’»è¿›å»ï¼Œæ·±å…¥æ€è€ƒ","like_count":0},{"had_liked":false,"id":85692,"user_name":"ç½—ç¦","can_delete":false,"product_type":"c1","uid":1033161,"ip_address":"","ucode":"C4A7AE3A04DA23","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c3/c9/f83b0109.jpg","comment_is_top":false,"comment_ctime":1555201857,"is_pvip":true,"replies":[{"id":"30816","content":"è¦çœ‹rpcçš„ç½‘ç»œæ¨¡å‹æ˜¯ä»€ä¹ˆæ ·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1555211639,"ip_address":"","comment_id":85692,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1555201857","product_id":100023901,"comment_content":"å¦‚æœå¤šçº¿ç¨‹ä¸­çš„IOæ“ä½œæ˜¯ç½‘ç»œIOï¼Œæ¯”å¦‚RPCè°ƒç”¨ï¼Œä¼šå¯¹çº¿ç¨‹æ•°çš„è®¾å®šæœ‰ä»€ä¹ˆå½±å“ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":446768,"discussion_content":"è¦çœ‹rpcçš„ç½‘ç»œæ¨¡å‹æ˜¯ä»€ä¹ˆæ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555211639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":85311,"user_name":"kk","can_delete":false,"product_type":"c1","uid":1001181,"ip_address":"","ucode":"4C96F29C822E1D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/dd/8281f351.jpg","comment_is_top":false,"comment_ctime":1555033936,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555033936","product_id":100023901,"comment_content":"è¿™ä¸ªä¸“æ å¥½","like_count":0},{"had_liked":false,"id":83680,"user_name":"çº¢è¡£é—ªé—ªäº®æ™¶æ™¶","can_delete":false,"product_type":"c1","uid":1442879,"ip_address":"","ucode":"34DE6E9D94CA18","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIZTw0bzR4licHwZW59AoJNzwN0oANiaYUWdTfmib9nfhMw6ubxEMDibwAeOWXkiad4FoALb5TOGTstYVw/132","comment_is_top":false,"comment_ctime":1554697940,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554697940","product_id":100023901,"comment_content":"è°¢è°¢è€å¸ˆå›å¤æˆ‘çš„ç•™è¨€ï¼ŒçœŸæ˜¯è±ç„¶å¼€æœ—","like_count":0},{"had_liked":false,"id":82212,"user_name":"on the way","can_delete":false,"product_type":"c1","uid":1323807,"ip_address":"","ucode":"77B29D60168D7F","user_header":"https://static001.geekbang.org/account/avatar/00/14/33/1f/35b68f47.jpg","comment_is_top":false,"comment_ctime":1554164566,"is_pvip":false,"replies":[{"id":"29861","content":"internå†…éƒ¨æ˜¯å…±äº«çš„ï¼Œä½ çœ‹è¿‡çš„ä»£ç è¦ä¹ˆæ˜¯å†™é”™äº†ï¼Œè¦ä¹ˆæ˜¯ç‚«æŠ€ï¼Œæ€»ä¹‹éƒ½ä¸æ¨è<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1554217458,"ip_address":"","comment_id":82212,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1554164566","product_id":100023901,"comment_content":"æˆ‘çœ‹è¿‡ä¸€ä¸ªä»£ç ï¼Œç”¨string.internï¼ˆï¼‰åšé”çš„ã€‚æœ‰ç‚¹ä¸å¤ªæ˜ç™½å’Œstringæœ‰ä»€ä¹ˆåŒºåˆ«â€¦","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445509,"discussion_content":"internå†…éƒ¨æ˜¯å…±äº«çš„ï¼Œä½ çœ‹è¿‡çš„ä»£ç è¦ä¹ˆæ˜¯å†™é”™äº†ï¼Œè¦ä¹ˆæ˜¯ç‚«æŠ€ï¼Œæ€»ä¹‹éƒ½ä¸æ¨è\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554217458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81724,"user_name":"å¼ å¾·","can_delete":false,"product_type":"c1","uid":1101929,"ip_address":"","ucode":"31FE63E8725EFC","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/69/5dbdc245.jpg","comment_is_top":false,"comment_ctime":1554020555,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554020555","product_id":100023901,"comment_content":"è¿™ä¸ªé¢è¯•ä¼šç»å¸¸è¢«é—®åˆ°","like_count":0},{"had_liked":false,"id":81145,"user_name":"siouty","can_delete":false,"product_type":"c1","uid":1260799,"ip_address":"","ucode":"915D2C65662318","user_header":"https://static001.geekbang.org/account/avatar/00/13/3c/ff/cbc0ee37.jpg","comment_is_top":false,"comment_ctime":1553822239,"is_pvip":false,"replies":[{"id":"29454","content":"å»ºè®®å…ˆå»çœ‹çœ‹javaç¼–ç¨‹åŸºç¡€å§ï¼Œä»–ä»¬è®²çš„æ¯”æˆ‘ä¸“ä¸š<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553833352,"ip_address":"","comment_id":81145,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1553822239","product_id":100023901,"comment_content":"å»ºè®®æœ‰ä¸€ä¸ªå®Œæ•´çš„ä»£ç é“¾æ¥è´´å‡ºæ¥<br>å•ä¸ªç‰‡æ®µå°±åƒè€å¸ˆå‰é¢è¯´çš„ä»¥ç‚¹çœ‹é¢ç»•æ™•äº†<br><br>è¿˜æœ‰æœ¬äººå°ç™½å¯¹è®¡ç®—æœºå’ŒJAVAç¨‹åºæ˜¯æ€ä¹ˆäº¤äº’çš„ä¸å¤ªæ‡‚ï¼Œè¿˜æœ›è€å¸ˆèƒ½ç»†å¿ƒè§£ç­”ä¸€ä¸‹ã€‚<br><br>JAVAè™šæ‹Ÿæœºå†…å­˜å’Œè®¡ç®—æœºå†…å­˜æ˜¯æ˜¯ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br><br>ä»¥å‰ç†è§£çš„å†…å­˜æ˜¯ä¸€ä¸ªå†…å­˜å¡å’Œç§»åŠ¨ç¡¬ç›˜ç­‰å¯ä»¥å­˜å‚¨ä¸œè¥¿çš„å®ä½“ï¼Œå¯æ˜¯çœ‹äº†æ–‡ç« åˆè§‰å¾—è®¡ç®—æœºå†…å­˜æ˜¯ä¸ªè™šæ‹Ÿçš„ä¸œè¥¿ï¼Œæå¾—å¥½ä¹±ã€‚","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445094,"discussion_content":"å»ºè®®å…ˆå»çœ‹çœ‹javaç¼–ç¨‹åŸºç¡€å§ï¼Œä»–ä»¬è®²çš„æ¯”æˆ‘ä¸“ä¸š\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553833352,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1210016,"avatar":"https://static001.geekbang.org/account/avatar/00/12/76/a0/1a6db8ac.jpg","nickname":"æ— å¿ƒæ°´","note":"","ucode":"0890F6617D8462","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573223,"discussion_content":"ä½ ç†è§£çš„æ²¡é”™ï¼Œå†…å­˜å¡å’Œç§»åŠ¨ç¡¬ç›˜ç­‰å¯ä»¥å­˜å‚¨ä¸œè¥¿çš„å®ä½“ã€‚Javaé‡Œé¢çš„å†…å­˜æ¨¡å‹ï¼Œæ˜¯ä¸ªé€»è¾‘ç»“æ„ï¼Œä¸æ˜¯çœŸæ­£çš„ç‰©ç†ç»“æ„ï¼Œæ¯•ç«Ÿæ˜¯è¦ç¼–è¯‘ä¸€æ¬¡åˆ°å¤„è¿è¡Œçš„ï¼Œä¸å¯èƒ½ä¾èµ–å…·ä½“çš„ç‰©ç†ç»“æ„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653277154,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81060,"user_name":"å°å‘†å¨ƒ","can_delete":false,"product_type":"c1","uid":1252131,"ip_address":"","ucode":"ECAB1883E1C701","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/UPGlgUiaSPVEhqiboDqkTMY1oGAImROZRfyrCvnVfvDKrpaaQ15qBZsEn3Q83mKYYyiaUDib3qsyV31VlRqUibpjUmQ/132","comment_is_top":false,"comment_ctime":1553787846,"is_pvip":false,"replies":[{"id":"29458","content":"æ­å–œæ‰¾åˆ°é€‚åˆè‡ªå·±çš„ä¸“æ ï¼<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553833833,"ip_address":"","comment_id":81060,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553787846","product_id":100023901,"comment_content":"å“ˆå“ˆç¬¬ä¸€æ¬¡ç•™è¨€ï¼Œæ˜¯çœŸå¿ƒè§‰å¾—è€å¸ˆçš„è¿™äº›æ–‡ç« è®²å¾—å¾ˆé€šä¿—æ˜“æ‡‚ï¼Œç‰¹åˆ«å¥½ï¼Œç­‰æ–°ç”µè„‘åˆ°äº†å°±é‡å­¦ä¸€è¾¹ï¼Œè®°ç¬”è®°ï¼Œå¤šæ€è€ƒã€‚æœŸå¾…åé¢çš„å†…å®¹â€¦â€¦PSï¼šè¿™æ˜¯æˆ‘ä¹°çš„8ä¸ªä¸“æ é‡Œé¢æœ€å–œæ¬¢ä¹Ÿæ˜¯è§‰å¾—è®²å¾—æœ€åå¥½çš„ä¸€ä¸ªğŸ˜„","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445064,"discussion_content":"æ­å–œæ‰¾åˆ°é€‚åˆè‡ªå·±çš„ä¸“æ ï¼\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553833833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81058,"user_name":"Zå¬é£é€å¤œ","can_delete":false,"product_type":"c1","uid":1401040,"ip_address":"","ucode":"5DB8E0766D590E","user_header":"https://static001.geekbang.org/account/avatar/00/15/60/d0/76dd7348.jpg","comment_is_top":false,"comment_ctime":1553787263,"is_pvip":false,"replies":[{"id":"29459","content":"æ„Ÿè°¢ä¿¡ä»»ï¼Œæˆ‘ç»§ç»­ä¿æŒğŸ˜‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553833876,"ip_address":"","comment_id":81058,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553787263","product_id":100023901,"comment_content":"ç”±æµ…å…¥æ·±ï¼Œè®²çš„å¾ˆåˆ°ä½ï¼Œå¸Œæœ›è€å¸ˆå¯ä»¥ç»§ç»­ä¿æŒã€‚æ¯ç« éƒ½è·Ÿï¼Œå—ç›ŠåŒªæµ…","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445063,"discussion_content":"æ„Ÿè°¢ä¿¡ä»»ï¼Œæˆ‘ç»§ç»­ä¿æŒğŸ˜‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553833876,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":81045,"user_name":"æ‹’ç»","can_delete":false,"product_type":"c1","uid":1335155,"ip_address":"","ucode":"CB0264C4D3FE17","user_header":"https://static001.geekbang.org/account/avatar/00/14/5f/73/bb3dc468.jpg","comment_is_top":false,"comment_ctime":1553784085,"is_pvip":false,"replies":[{"id":"29494","content":"è®¡ç®—å‡ºæ‰§è¡Œioçš„æ—¶é—´ï¼Œæ€»æ—¶é—´å‡å»ioçš„æ—¶é—´ï¼Œå°±æ˜¯cpuæ—¶é—´äº†ã€‚æœ€ç®€å•çš„å°±æ˜¯æ‰“æ—¥å¿—","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å®ä»¤","uid":"1269969","ctime":1553907407,"ip_address":"","comment_id":81045,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553784085","product_id":100023901,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œé—®çš„é—®é¢˜å¯èƒ½æœ‰äº›å°ç™½ã€‚å°±æ˜¯ç¨‹åºioè€—æ—¶è·Ÿcpuè€—æ—¶ï¼Œå¦‚ä½•ç»Ÿè®¡å‡ºæ¥ï¼Ÿèƒ½æ¦‚æ‹¬çš„è¯´ä¸€ä¸‹å—ï¼Ÿæˆ–è€…ç»™å‡ºç›¸åº”çš„åšå®¢å‚è€ƒ","like_count":0,"discussions":[{"author":{"id":1269969,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/d1/8efa89ab.jpg","nickname":"ç‹å®ä»¤","note":"","ucode":"4FE19F5BC32FCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":445058,"discussion_content":"è®¡ç®—å‡ºæ‰§è¡Œioçš„æ—¶é—´ï¼Œæ€»æ—¶é—´å‡å»ioçš„æ—¶é—´ï¼Œå°±æ˜¯cpuæ—¶é—´äº†ã€‚æœ€ç®€å•çš„å°±æ˜¯æ‰“æ—¥å¿—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553907407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80870,"user_name":"è§ä¸€ç‹¼","can_delete":false,"product_type":"c1","uid":1266160,"ip_address":"","ucode":"35CC9C8FC8DDD6","user_header":"https://static001.geekbang.org/account/avatar/00/13/51/f0/9b7d40fc.jpg","comment_is_top":false,"comment_ctime":1553745196,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553745196","product_id":100023901,"comment_content":"èµï¼Œå‰é¢çš„é—®é¢˜å¾ˆå¤šéƒ½ä¸ç¡®å®šï¼Œç°åœ¨ä¸€èµ·æ¢³ç†ä¸€è¾¹å°±æ¸…æ™°å¾ˆå¤š","like_count":0},{"had_liked":false,"id":80806,"user_name":"å¿ è‰¾ä¸€ç”Ÿ","can_delete":false,"product_type":"c1","uid":1445386,"ip_address":"","ucode":"DE8DF66F379054","user_header":"https://static001.geekbang.org/account/avatar/00/16/0e/0a/1564a5e1.jpg","comment_is_top":false,"comment_ctime":1553736673,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553736673","product_id":100023901,"comment_content":"å‰é¢å­¦çš„å¿˜å¾—å·®ä¸å¤šäº†","like_count":0},{"had_liked":false,"id":80753,"user_name":"ç¨‹åºå‘˜äººç”Ÿ","can_delete":false,"product_type":"c1","uid":1113668,"ip_address":"","ucode":"C5C5073D89AAA2","user_header":"https://static001.geekbang.org/account/avatar/00/10/fe/44/3e3040ac.jpg","comment_is_top":false,"comment_ctime":1553730872,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553730872","product_id":100023901,"comment_content":"æˆ‘è¦åå¤ç¢ç£¨ç¢ç£¨","like_count":0}]}
{"id":281857,"title":"13 | Flink On Kubernetes实操：Session模式","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-Flink\">https://gitee.com/geektime-geekbang/geektime-Flink</a></p>","comments":[{"had_liked":false,"id":255123,"user_name":"zhh","can_delete":false,"product_type":"c3","uid":2255479,"ip_address":"","ucode":"F46CF4D9A486C9","user_header":"https://static001.geekbang.org/account/avatar/00/22/6a/77/39bc943d.jpg","comment_is_top":false,"comment_ctime":1603269955,"is_pvip":false,"replies":[{"id":93230,"content":"有的，可以结合代码看，所有课上的例子都可以在实验代码中找到，https:&#47;&#47;gitee.com&#47;geektime-geekbang&#47;geektime-Flink","user_name":"作者回复","user_name_real":"张利兵","uid":1119779,"ctime":1603524546,"ip_address":"","comment_id":255123,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"git上没有这些例子的文件，比如flink on k8s的yaml文件","like_count":0,"discussions":[{"author":{"id":1119779,"avatar":"https://static001.geekbang.org/account/avatar/00/11/16/23/99c7ede5.jpg","nickname":"张利兵","note":"","ucode":"DBAE17970AB143","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507614,"discussion_content":"有的，可以结合代码看，所有课上的例子都可以在实验代码中找到，https://gitee.com/geektime-geekbang/geektime-Flink","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603524546,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1234998,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d8/36/badf4003.jpg","nickname":"卡洛梅特","note":"","ucode":"A9997083BF684A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378611,"discussion_content":"flink官方都有\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623303955,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":379955,"user_name":"Geek_ecd17b","can_delete":false,"product_type":"c3","uid":3693925,"ip_address":"上海","ucode":"9FA47900882F82","user_header":"","comment_is_top":false,"comment_ctime":1692764301,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"老师请教下，k8s application模式和session模式如何选型呢","like_count":0},{"had_liked":false,"id":322883,"user_name":"花棉裤男孩","can_delete":false,"product_type":"c3","uid":2851007,"ip_address":"","ucode":"40FBCDCD5C6A04","user_header":"https://static001.geekbang.org/account/avatar/00/2b/80/bf/afba6f22.jpg","comment_is_top":false,"comment_ctime":1637644952,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"我按照例子操作好像报错  session 模式\nERROR StatusLogger Unable to access file:&#47;opt&#47;flink&#47;conf&#47;log4j-cli.properties\n java.io.FileNotFoundException: &#47;opt&#47;flink&#47;conf&#47;log4j-cli.properties (No such file or directory)\n\tat java.io.FileInputStream.open0(Native Method)\n\tat java.io.FileInputStream.open(FileInputStream.java:195)\n\tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\n\tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\n\tat sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:90)\n\tat sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:188)\n\tat org.apache.logging.log4j.core.config.ConfigurationSource.fromUri(ConfigurationSource.java:321)\n\tat org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:443)\n\tat org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:385)\n\tat org.apache.logging.log4j.core.config.ConfigurationFactory.getConfiguration(ConfigurationFactory.java:293)\n\tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:647)\n\tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:668)\n\tat org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:253)\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:153)\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:45)\n\tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:194)\n\tat org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:138)\n\tat org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:45)\n\tat org.apache.flink.client.cli.CliFrontend.&lt;clinit&gt;(CliFrontend.java:91)\nERROR StatusLogger Reconfiguration failed: No configuration found for &#39;677327b6&#39; at &#39;null&#39; in &#39;null&#39;\n\n\n","like_count":0},{"had_liked":false,"id":303844,"user_name":"老胡","can_delete":false,"product_type":"c3","uid":1101923,"ip_address":"","ucode":"D0DF088B7BD29A","user_header":"https://static001.geekbang.org/account/avatar/00/10/d0/63/83236814.jpg","comment_is_top":false,"comment_ctime":1627023094,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100058801,"comment_content":"kubectl create -f jobmanager-job-deployment.yaml\n\nkubectl logs -f  \n\n发现异常\n\norg.apache.flink.util.FlinkException: Could not find the provided job class (org.apache.flink.streaming.examples.windowing.TopSpeedWindowing) in the user lib directory (&#47;opt&#47;flink&#47;usrlib).","like_count":0}]}
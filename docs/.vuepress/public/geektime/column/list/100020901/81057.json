{"id":81057,"title":"34 | å…³äº Linux ç½‘ç»œï¼Œä½ å¿…é¡»çŸ¥é“è¿™äº›ï¼ˆä¸‹ï¼‰","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å€ªæœ‹é£ã€‚</p><p>ä¸Šä¸€èŠ‚ï¼Œæˆ‘å¸¦ä½ å­¦ä¹ äº† Linux ç½‘ç»œçš„åŸºç¡€åŸç†ã€‚ç®€å•å›é¡¾ä¸€ä¸‹ï¼ŒLinux ç½‘ç»œæ ¹æ® TCP/IP æ¨¡å‹ï¼Œæ„å»ºå…¶ç½‘ç»œåè®®æ ˆã€‚TCP/IP æ¨¡å‹ç”±åº”ç”¨å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€ç½‘ç»œæ¥å£å±‚ç­‰å››å±‚ç»„æˆï¼Œè¿™ä¹Ÿæ˜¯ Linux ç½‘ç»œæ ˆæœ€æ ¸å¿ƒçš„æ„æˆéƒ¨åˆ†ã€‚</p><p>åº”ç”¨ç¨‹åºé€šè¿‡å¥—æ¥å­—æ¥å£å‘é€æ•°æ®åŒ…æ—¶ï¼Œå…ˆè¦åœ¨ç½‘ç»œåè®®æ ˆä¸­ä»ä¸Šåˆ°ä¸‹é€å±‚å¤„ç†ï¼Œç„¶åæ‰æœ€ç»ˆé€åˆ°ç½‘å¡å‘é€å‡ºå»ï¼›è€Œæ¥æ”¶æ•°æ®åŒ…æ—¶ï¼Œä¹Ÿè¦å…ˆç»è¿‡ç½‘ç»œæ ˆä»ä¸‹åˆ°ä¸Šçš„é€å±‚å¤„ç†ï¼Œæœ€åé€åˆ°åº”ç”¨ç¨‹åºã€‚</p><p>äº†è§£Linux ç½‘ç»œçš„åŸºæœ¬åŸç†å’Œæ”¶å‘æµç¨‹åï¼Œä½ è‚¯å®šè¿«ä¸åŠå¾…æƒ³çŸ¥é“ï¼Œå¦‚ä½•å»è§‚å¯Ÿç½‘ç»œçš„æ€§èƒ½æƒ…å†µã€‚å…·ä½“è€Œè¨€ï¼Œå“ªäº›æŒ‡æ ‡å¯ä»¥ç”¨æ¥è¡¡é‡ Linux çš„ç½‘ç»œæ€§èƒ½å‘¢ï¼Ÿ</p><h2>æ€§èƒ½æŒ‡æ ‡</h2><p>å®é™…ä¸Šï¼Œæˆ‘ä»¬é€šå¸¸ç”¨å¸¦å®½ã€ååé‡ã€å»¶æ—¶ã€PPSï¼ˆPacket Per Secondï¼‰ç­‰æŒ‡æ ‡è¡¡é‡ç½‘ç»œçš„æ€§èƒ½ã€‚</p><ul>\n<li>\n<p><strong>å¸¦å®½</strong>ï¼Œè¡¨ç¤ºé“¾è·¯çš„æœ€å¤§ä¼ è¾“é€Ÿç‡ï¼Œå•ä½é€šå¸¸ä¸º b/s ï¼ˆæ¯”ç‰¹/ç§’ï¼‰ã€‚</p>\n</li>\n<li>\n<p><strong>ååé‡</strong>ï¼Œè¡¨ç¤ºå•ä½æ—¶é—´å†…æˆåŠŸä¼ è¾“çš„æ•°æ®é‡ï¼Œå•ä½é€šå¸¸ä¸º b/sï¼ˆæ¯”ç‰¹/ç§’ï¼‰æˆ–è€… B/sï¼ˆå­—èŠ‚/ç§’ï¼‰ã€‚ååé‡å—å¸¦å®½é™åˆ¶ï¼Œè€Œååé‡/å¸¦å®½ï¼Œä¹Ÿå°±æ˜¯è¯¥ç½‘ç»œçš„ä½¿ç”¨ç‡ã€‚</p>\n</li>\n<li>\n<p><strong>å»¶æ—¶</strong>ï¼Œè¡¨ç¤ºä»ç½‘ç»œè¯·æ±‚å‘å‡ºåï¼Œä¸€ç›´åˆ°æ”¶åˆ°è¿œç«¯å“åº”ï¼Œæ‰€éœ€è¦çš„æ—¶é—´å»¶è¿Ÿã€‚åœ¨ä¸åŒåœºæ™¯ä¸­ï¼Œè¿™ä¸€æŒ‡æ ‡å¯èƒ½ä¼šæœ‰ä¸åŒå«ä¹‰ã€‚æ¯”å¦‚ï¼Œå®ƒå¯ä»¥è¡¨ç¤ºï¼Œå»ºç«‹è¿æ¥éœ€è¦çš„æ—¶é—´ï¼ˆæ¯”å¦‚ TCP æ¡æ‰‹å»¶æ—¶ï¼‰ï¼Œæˆ–ä¸€ä¸ªæ•°æ®åŒ…å¾€è¿”æ‰€éœ€çš„æ—¶é—´ï¼ˆæ¯”å¦‚ RTTï¼‰ã€‚</p>\n</li>\n<li>\n<p><strong>PPS</strong>ï¼Œæ˜¯ Packet Per Secondï¼ˆåŒ…/ç§’ï¼‰çš„ç¼©å†™ï¼Œè¡¨ç¤ºä»¥ç½‘ç»œåŒ…ä¸ºå•ä½çš„ä¼ è¾“é€Ÿç‡ã€‚PPS é€šå¸¸ç”¨æ¥è¯„ä¼°ç½‘ç»œçš„è½¬å‘èƒ½åŠ›ï¼Œæ¯”å¦‚ç¡¬ä»¶äº¤æ¢æœºï¼Œé€šå¸¸å¯ä»¥è¾¾åˆ°çº¿æ€§è½¬å‘ï¼ˆå³ PPS å¯ä»¥è¾¾åˆ°æˆ–è€…æ¥è¿‘ç†è®ºæœ€å¤§å€¼ï¼‰ã€‚è€ŒåŸºäº Linux æœåŠ¡å™¨çš„è½¬å‘ï¼Œåˆ™å®¹æ˜“å—ç½‘ç»œåŒ…å¤§å°çš„å½±å“ã€‚</p>\n</li>\n</ul><!-- [[[read_end]]] --><p>é™¤äº†è¿™äº›æŒ‡æ ‡ï¼Œ<strong>ç½‘ç»œçš„å¯ç”¨æ€§</strong>ï¼ˆç½‘ç»œèƒ½å¦æ­£å¸¸é€šä¿¡ï¼‰ã€<strong>å¹¶å‘è¿æ¥æ•°</strong>ï¼ˆTCPè¿æ¥æ•°é‡ï¼‰ã€<strong>ä¸¢åŒ…ç‡</strong>ï¼ˆä¸¢åŒ…ç™¾åˆ†æ¯”ï¼‰ã€<strong>é‡ä¼ ç‡</strong>ï¼ˆé‡æ–°ä¼ è¾“çš„ç½‘ç»œåŒ…æ¯”ä¾‹ï¼‰ç­‰ä¹Ÿæ˜¯å¸¸ç”¨çš„æ€§èƒ½æŒ‡æ ‡ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œè¯·ä½ æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼ŒSSHç™»å½•åˆ°æœåŠ¡å™¨ä¸Šï¼Œç„¶åè·Ÿæˆ‘ä¸€èµ·æ¥æ¢ç´¢ã€è§‚æµ‹è¿™äº›æ€§èƒ½æŒ‡æ ‡ã€‚</p><h2><strong>ç½‘ç»œé…ç½®</strong></h2><p>åˆ†æç½‘ç»œé—®é¢˜çš„ç¬¬ä¸€æ­¥ï¼Œé€šå¸¸æ˜¯æŸ¥çœ‹ç½‘ç»œæ¥å£çš„é…ç½®å’ŒçŠ¶æ€ã€‚ä½ å¯ä»¥ä½¿ç”¨ ifconfig æˆ–è€… ip å‘½ä»¤ï¼Œæ¥æŸ¥çœ‹ç½‘ç»œçš„é…ç½®ã€‚æˆ‘ä¸ªäººæ›´æ¨èä½¿ç”¨ ip å·¥å…·ï¼Œå› ä¸ºå®ƒæä¾›äº†æ›´ä¸°å¯Œçš„åŠŸèƒ½å’Œæ›´æ˜“ç”¨çš„æ¥å£ã€‚</p><blockquote>\n<p>ifconfig å’Œ ip åˆ†åˆ«å±äºè½¯ä»¶åŒ… net-tools å’Œ iproute2ï¼Œiproute2 æ˜¯ net-tools çš„ä¸‹ä¸€ä»£ã€‚é€šå¸¸æƒ…å†µä¸‹å®ƒä»¬ä¼šåœ¨å‘è¡Œç‰ˆä¸­é»˜è®¤å®‰è£…ã€‚ä½†å¦‚æœä½ æ‰¾ä¸åˆ° ifconfig æˆ–è€… ip å‘½ä»¤ï¼Œå¯ä»¥å®‰è£…è¿™ä¸¤ä¸ªè½¯ä»¶åŒ…ã€‚</p>\n</blockquote><p>ä»¥ç½‘ç»œæ¥å£ eth0 ä¸ºä¾‹ï¼Œä½ å¯ä»¥è¿è¡Œä¸‹é¢çš„ä¸¤ä¸ªå‘½ä»¤ï¼ŒæŸ¥çœ‹å®ƒçš„é…ç½®å’ŒçŠ¶æ€ï¼š</p><pre><code>$ ifconfig eth0\neth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500\n      inet 10.240.0.30 netmask 255.240.0.0 broadcast 10.255.255.255\n      inet6 fe80::20d:3aff:fe07:cf2a prefixlen 64 scopeid 0x20&lt;link&gt;\n      ether 78:0d:3a:07:cf:3a txqueuelen 1000 (Ethernet)\n      RX packets 40809142 bytes 9542369803 (9.5 GB)\n      RX errors 0 dropped 0 overruns 0 frame 0\n      TX packets 32637401 bytes 4815573306 (4.8 GB)\n      TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0\nâ€‹\n$ ip -s addr show dev eth0\n2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000\n  link/ether 78:0d:3a:07:cf:3a brd ff:ff:ff:ff:ff:ff\n  inet 10.240.0.30/12 brd 10.255.255.255 scope global eth0\n      valid_lft forever preferred_lft forever\n  inet6 fe80::20d:3aff:fe07:cf2a/64 scope link\n      valid_lft forever preferred_lft forever\n  RX: bytes packets errors dropped overrun mcast\n   9542432350 40809397 0       0       0       193\n  TX: bytes packets errors dropped carrier collsns\n   4815625265 32637658 0       0       0       0\n</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œifconfig å’Œ ip å‘½ä»¤è¾“å‡ºçš„æŒ‡æ ‡åŸºæœ¬ç›¸åŒï¼Œåªæ˜¯æ˜¾ç¤ºæ ¼å¼ç•¥å¾®ä¸åŒã€‚æ¯”å¦‚ï¼Œå®ƒä»¬éƒ½åŒ…æ‹¬äº†ç½‘ç»œæ¥å£çš„çŠ¶æ€æ ‡å¿—ã€MTU å¤§å°ã€IPã€å­ç½‘ã€MAC åœ°å€ä»¥åŠç½‘ç»œåŒ…æ”¶å‘çš„ç»Ÿè®¡ä¿¡æ¯ã€‚</p><p>è¿™äº›å…·ä½“æŒ‡æ ‡çš„å«ä¹‰ï¼Œåœ¨æ–‡æ¡£ä¸­éƒ½æœ‰è¯¦ç»†çš„è¯´æ˜ï¼Œä¸è¿‡ï¼Œè¿™é‡Œæœ‰å‡ ä¸ªè·Ÿç½‘ç»œæ€§èƒ½å¯†åˆ‡ç›¸å…³çš„æŒ‡æ ‡ï¼Œéœ€è¦ä½ ç‰¹åˆ«å…³æ³¨ä¸€ä¸‹ã€‚</p><p>ç¬¬ä¸€ï¼Œç½‘ç»œæ¥å£çš„çŠ¶æ€æ ‡å¿—ã€‚ifconfig è¾“å‡ºä¸­çš„ RUNNING ï¼Œæˆ– ip è¾“å‡ºä¸­çš„ LOWER_UP ï¼Œéƒ½è¡¨ç¤ºç‰©ç†ç½‘ç»œæ˜¯è¿é€šçš„ï¼Œå³ç½‘å¡å·²ç»è¿æ¥åˆ°äº†äº¤æ¢æœºæˆ–è€…è·¯ç”±å™¨ä¸­ã€‚å¦‚æœä½ çœ‹ä¸åˆ°å®ƒä»¬ï¼Œé€šå¸¸è¡¨ç¤ºç½‘çº¿è¢«æ‹”æ‰äº†ã€‚</p><p>ç¬¬äºŒï¼ŒMTU çš„å¤§å°ã€‚MTU é»˜è®¤å¤§å°æ˜¯ 1500ï¼Œæ ¹æ®ç½‘ç»œæ¶æ„çš„ä¸åŒï¼ˆæ¯”å¦‚æ˜¯å¦ä½¿ç”¨äº† VXLAN ç­‰å åŠ ç½‘ç»œï¼‰ï¼Œä½ å¯èƒ½éœ€è¦è°ƒå¤§æˆ–è€…è°ƒå° MTU çš„æ•°å€¼ã€‚</p><p>ç¬¬ä¸‰ï¼Œç½‘ç»œæ¥å£çš„ IP åœ°å€ã€å­ç½‘ä»¥åŠ MAC åœ°å€ã€‚è¿™äº›éƒ½æ˜¯ä¿éšœç½‘ç»œåŠŸèƒ½æ­£å¸¸å·¥ä½œæ‰€å¿…éœ€çš„ï¼Œä½ éœ€è¦ç¡®ä¿é…ç½®æ­£ç¡®ã€‚</p><p>ç¬¬å››ï¼Œç½‘ç»œæ”¶å‘çš„å­—èŠ‚æ•°ã€åŒ…æ•°ã€é”™è¯¯æ•°ä»¥åŠä¸¢åŒ…æƒ…å†µï¼Œç‰¹åˆ«æ˜¯ TX å’Œ RX éƒ¨åˆ†çš„ errorsã€droppedã€overrunsã€carrier ä»¥åŠ collisions ç­‰æŒ‡æ ‡ä¸ä¸º 0 æ—¶ï¼Œé€šå¸¸è¡¨ç¤ºå‡ºç°äº†ç½‘ç»œ I/O é—®é¢˜ã€‚å…¶ä¸­ï¼š</p><ul>\n<li>\n<p>errors è¡¨ç¤ºå‘ç”Ÿé”™è¯¯çš„æ•°æ®åŒ…æ•°ï¼Œæ¯”å¦‚æ ¡éªŒé”™è¯¯ã€å¸§åŒæ­¥é”™è¯¯ç­‰ï¼›</p>\n</li>\n<li>\n<p>dropped è¡¨ç¤ºä¸¢å¼ƒçš„æ•°æ®åŒ…æ•°ï¼Œå³æ•°æ®åŒ…å·²ç»æ”¶åˆ°äº† Ring Bufferï¼Œä½†å› ä¸ºå†…å­˜ä¸è¶³ç­‰åŸå› ä¸¢åŒ…ï¼›</p>\n</li>\n<li>\n<p>overruns è¡¨ç¤ºè¶…é™æ•°æ®åŒ…æ•°ï¼Œå³ç½‘ç»œ I/O é€Ÿåº¦è¿‡å¿«ï¼Œå¯¼è‡´ Ring Buffer ä¸­çš„æ•°æ®åŒ…æ¥ä¸åŠå¤„ç†ï¼ˆé˜Ÿåˆ—æ»¡ï¼‰è€Œå¯¼è‡´çš„ä¸¢åŒ…ï¼›</p>\n</li>\n<li>\n<p>carrier è¡¨ç¤ºå‘ç”Ÿ carrirer é”™è¯¯çš„æ•°æ®åŒ…æ•°ï¼Œæ¯”å¦‚åŒå·¥æ¨¡å¼ä¸åŒ¹é…ã€ç‰©ç†ç”µç¼†å‡ºç°é—®é¢˜ç­‰ï¼›</p>\n</li>\n<li>\n<p>collisions è¡¨ç¤ºç¢°æ’æ•°æ®åŒ…æ•°ã€‚</p>\n</li>\n</ul><h2><strong>å¥—æ¥å­—ä¿¡æ¯</strong></h2><p>ifconfig å’Œ ip åªæ˜¾ç¤ºäº†ç½‘ç»œæ¥å£æ”¶å‘æ•°æ®åŒ…çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œä½†åœ¨å®é™…çš„æ€§èƒ½é—®é¢˜ä¸­ï¼Œç½‘ç»œåè®®æ ˆä¸­çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œæˆ‘ä»¬ä¹Ÿå¿…é¡»å…³æ³¨ã€‚ä½ å¯ä»¥ç”¨ netstat æˆ–è€… ss ï¼Œæ¥æŸ¥çœ‹å¥—æ¥å­—ã€ç½‘ç»œæ ˆã€ç½‘ç»œæ¥å£ä»¥åŠè·¯ç”±è¡¨çš„ä¿¡æ¯ã€‚</p><p>æˆ‘ä¸ªäººæ›´æ¨èï¼Œä½¿ç”¨ ss æ¥æŸ¥è¯¢ç½‘ç»œçš„è¿æ¥ä¿¡æ¯ï¼Œå› ä¸ºå®ƒæ¯” netstat æä¾›äº†æ›´å¥½çš„æ€§èƒ½ï¼ˆé€Ÿåº¦æ›´å¿«ï¼‰ã€‚</p><p>æ¯”å¦‚ï¼Œä½ å¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ŒæŸ¥è¯¢å¥—æ¥å­—ä¿¡æ¯ï¼š</p><pre><code># head -n 3 è¡¨ç¤ºåªæ˜¾ç¤ºå‰é¢3è¡Œ\n# -l è¡¨ç¤ºåªæ˜¾ç¤ºç›‘å¬å¥—æ¥å­—\n# -n è¡¨ç¤ºæ˜¾ç¤ºæ•°å­—åœ°å€å’Œç«¯å£(è€Œä¸æ˜¯åå­—)\n# -p è¡¨ç¤ºæ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯\n$ netstat -nlp | head -n 3\nActive Internet connections (only servers)\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name\ntcp        0      0 127.0.0.53:53           0.0.0.0:*               LISTEN      840/systemd-resolve\n\n# -l è¡¨ç¤ºåªæ˜¾ç¤ºç›‘å¬å¥—æ¥å­—\n# -t è¡¨ç¤ºåªæ˜¾ç¤º TCP å¥—æ¥å­—\n# -n è¡¨ç¤ºæ˜¾ç¤ºæ•°å­—åœ°å€å’Œç«¯å£(è€Œä¸æ˜¯åå­—)\n# -p è¡¨ç¤ºæ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯\n$ ss -ltnp | head -n 3\nState    Recv-Q    Send-Q        Local Address:Port        Peer Address:Port\nLISTEN   0         128           127.0.0.53%lo:53               0.0.0.0:*        users:((&quot;systemd-resolve&quot;,pid=840,fd=13))\nLISTEN   0         128                 0.0.0.0:22               0.0.0.0:*        users:((&quot;sshd&quot;,pid=1459,fd=3))\n</code></pre><p>netstat å’Œ ss çš„è¾“å‡ºä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œéƒ½å±•ç¤ºäº†å¥—æ¥å­—çš„çŠ¶æ€ã€æ¥æ”¶é˜Ÿåˆ—ã€å‘é€é˜Ÿåˆ—ã€æœ¬åœ°åœ°å€ã€è¿œç«¯åœ°å€ã€è¿›ç¨‹ PID å’Œè¿›ç¨‹åç§°ç­‰ã€‚</p><p>å…¶ä¸­ï¼Œæ¥æ”¶é˜Ÿåˆ—ï¼ˆRecv-Qï¼‰å’Œå‘é€é˜Ÿåˆ—ï¼ˆSend-Qï¼‰éœ€è¦ä½ ç‰¹åˆ«å…³æ³¨ï¼Œå®ƒä»¬é€šå¸¸åº”è¯¥æ˜¯ 0ã€‚å½“ä½ å‘ç°å®ƒä»¬ä¸æ˜¯ 0 æ—¶ï¼Œè¯´æ˜æœ‰ç½‘ç»œåŒ…çš„å †ç§¯å‘ç”Ÿã€‚å½“ç„¶è¿˜è¦æ³¨æ„ï¼Œåœ¨ä¸åŒå¥—æ¥å­—çŠ¶æ€ä¸‹ï¼Œå®ƒä»¬çš„å«ä¹‰ä¸åŒã€‚</p><p>å½“å¥—æ¥å­—å¤„äºè¿æ¥çŠ¶æ€ï¼ˆEstablishedï¼‰æ—¶ï¼Œ</p><ul>\n<li>\n<p>Recv-Q è¡¨ç¤ºå¥—æ¥å­—ç¼“å†²è¿˜æ²¡æœ‰è¢«åº”ç”¨ç¨‹åºå–èµ°çš„å­—èŠ‚æ•°ï¼ˆå³æ¥æ”¶é˜Ÿåˆ—é•¿åº¦ï¼‰ã€‚</p>\n</li>\n<li>\n<p>è€Œ Send-Q è¡¨ç¤ºè¿˜æ²¡æœ‰è¢«è¿œç«¯ä¸»æœºç¡®è®¤çš„å­—èŠ‚æ•°ï¼ˆå³å‘é€é˜Ÿåˆ—é•¿åº¦ï¼‰ã€‚</p>\n</li>\n</ul><p>å½“å¥—æ¥å­—å¤„äºç›‘å¬çŠ¶æ€ï¼ˆListeningï¼‰æ—¶ï¼Œ</p><ul>\n<li>\n<p>Recv-Q è¡¨ç¤ºå…¨è¿æ¥é˜Ÿåˆ—çš„é•¿åº¦ã€‚</p>\n</li>\n<li>\n<p>è€Œ Send-Q è¡¨ç¤ºå…¨è¿æ¥é˜Ÿåˆ—çš„æœ€å¤§é•¿åº¦ã€‚</p>\n</li>\n</ul><p>æ‰€è°“å…¨è¿æ¥ï¼Œæ˜¯æŒ‡æœåŠ¡å™¨æ”¶åˆ°äº†å®¢æˆ·ç«¯çš„ ACKï¼Œå®Œæˆäº† TCP ä¸‰æ¬¡æ¡æ‰‹ï¼Œç„¶åå°±ä¼šæŠŠè¿™ä¸ªè¿æ¥æŒªåˆ°å…¨è¿æ¥é˜Ÿåˆ—ä¸­ã€‚è¿™äº›å…¨è¿æ¥ä¸­çš„å¥—æ¥å­—ï¼Œè¿˜éœ€è¦è¢« accept() ç³»ç»Ÿè°ƒç”¨å–èµ°ï¼ŒæœåŠ¡å™¨æ‰å¯ä»¥å¼€å§‹çœŸæ­£å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</p><p>ä¸å…¨è¿æ¥é˜Ÿåˆ—ç›¸å¯¹åº”çš„ï¼Œè¿˜æœ‰ä¸€ä¸ªåŠè¿æ¥é˜Ÿåˆ—ã€‚æ‰€è°“åŠè¿æ¥æ˜¯æŒ‡è¿˜æ²¡æœ‰å®Œæˆ TCP ä¸‰æ¬¡æ¡æ‰‹çš„è¿æ¥ï¼Œè¿æ¥åªè¿›è¡Œäº†ä¸€åŠã€‚æœåŠ¡å™¨æ”¶åˆ°äº†å®¢æˆ·ç«¯çš„ SYN åŒ…åï¼Œå°±ä¼šæŠŠè¿™ä¸ªè¿æ¥æ”¾åˆ°åŠè¿æ¥é˜Ÿåˆ—ä¸­ï¼Œç„¶åå†å‘å®¢æˆ·ç«¯å‘é€ SYN+ACK åŒ…ã€‚</p><h2><strong>åè®®æ ˆç»Ÿè®¡ä¿¡æ¯</strong></h2><p>ç±»ä¼¼çš„ï¼Œä½¿ç”¨ netstat æˆ– ss ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹åè®®æ ˆçš„ä¿¡æ¯ï¼š</p><pre><code>$ netstat -s\n...\nTcp:\n    3244906 active connection openings\n    23143 passive connection openings\n    115732 failed connection attempts\n    2964 connection resets received\n    1 connections established\n    13025010 segments received\n    17606946 segments sent out\n    44438 segments retransmitted\n    42 bad segments received\n    5315 resets sent\n    InCsumErrors: 42\n...\n\n$ ss -s\nTotal: 186 (kernel 1446)\nTCP:   4 (estab 1, closed 0, orphaned 0, synrecv 0, timewait 0/0), ports 0\n\nTransport Total     IP        IPv6\n*\t  1446      -         -\nRAW\t  2         1         1\nUDP\t  2         2         0\nTCP\t  4         3         1\n...\n</code></pre><p>è¿™äº›åè®®æ ˆçš„ç»Ÿè®¡ä¿¡æ¯éƒ½å¾ˆç›´è§‚ã€‚ss åªæ˜¾ç¤ºå·²ç»è¿æ¥ã€å…³é—­ã€å­¤å„¿å¥—æ¥å­—ç­‰ç®€è¦ç»Ÿè®¡ï¼Œè€Œnetstat åˆ™æä¾›çš„æ˜¯æ›´è¯¦ç»†çš„ç½‘ç»œåè®®æ ˆä¿¡æ¯ã€‚</p><p>æ¯”å¦‚ï¼Œä¸Šé¢ netstat çš„è¾“å‡ºç¤ºä¾‹ï¼Œå°±å±•ç¤ºäº† TCP åè®®çš„ä¸»åŠ¨è¿æ¥ã€è¢«åŠ¨è¿æ¥ã€å¤±è´¥é‡è¯•ã€å‘é€å’Œæ¥æ”¶çš„åˆ†æ®µæ•°é‡ç­‰å„ç§ä¿¡æ¯ã€‚</p><h2><strong>ç½‘ç»œååå’Œ PPS</strong></h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ï¼Œå¦‚ä½•æŸ¥çœ‹ç³»ç»Ÿå½“å‰çš„ç½‘ç»œååé‡å’Œ PPSã€‚åœ¨è¿™é‡Œï¼Œæˆ‘æ¨èä½¿ç”¨æˆ‘ä»¬çš„è€æœ‹å‹ sarï¼Œåœ¨å‰é¢çš„ CPUã€å†…å­˜å’Œ I/O æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬å·²ç»å¤šæ¬¡ç”¨åˆ°å®ƒã€‚</p><p>ç»™ sar å¢åŠ  -n å‚æ•°å°±å¯ä»¥æŸ¥çœ‹ç½‘ç»œçš„ç»Ÿè®¡ä¿¡æ¯ï¼Œæ¯”å¦‚ç½‘ç»œæ¥å£ï¼ˆDEVï¼‰ã€ç½‘ç»œæ¥å£é”™è¯¯ï¼ˆEDEVï¼‰ã€TCPã€UDPã€ICMP ç­‰ç­‰ã€‚æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä½ å°±å¯ä»¥å¾—åˆ°ç½‘ç»œæ¥å£ç»Ÿè®¡ä¿¡æ¯ï¼š</p><pre><code># æ•°å­—1è¡¨ç¤ºæ¯éš”1ç§’è¾“å‡ºä¸€ç»„æ•°æ®\n$ sar -n DEV 1\nLinux 4.15.0-1035 (ubuntu) \t01/06/19 \t_x86_64_\t(2 CPU)\n\n13:21:40        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil\n13:21:41         eth0     18.00     20.00      5.79      4.25      0.00      0.00      0.00      0.00\n13:21:41      docker0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n13:21:41           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00\n</code></pre><p>è¿™å„¿è¾“å‡ºçš„æŒ‡æ ‡æ¯”è¾ƒå¤šï¼Œæˆ‘æ¥ç®€å•è§£é‡Šä¸‹å®ƒä»¬çš„å«ä¹‰ã€‚</p><ul>\n<li>\n<p>rxpck/s å’Œ txpck/s åˆ†åˆ«æ˜¯æ¥æ”¶å’Œå‘é€çš„ PPSï¼Œå•ä½ä¸ºåŒ…/ç§’ã€‚</p>\n</li>\n<li>\n<p>rxkB/s å’Œ txkB/s åˆ†åˆ«æ˜¯æ¥æ”¶å’Œå‘é€çš„ååé‡ï¼Œå•ä½æ˜¯KB/ç§’ã€‚</p>\n</li>\n<li>\n<p>rxcmp/s å’Œ txcmp/s åˆ†åˆ«æ˜¯æ¥æ”¶å’Œå‘é€çš„å‹ç¼©æ•°æ®åŒ…æ•°ï¼Œå•ä½æ˜¯åŒ…/ç§’ã€‚</p>\n</li>\n<li>\n<p>%ifutil æ˜¯ç½‘ç»œæ¥å£çš„ä½¿ç”¨ç‡ï¼Œå³åŠåŒå·¥æ¨¡å¼ä¸‹ä¸º (rxkB/s+txkB/s)/Bandwidthï¼Œè€Œå…¨åŒå·¥æ¨¡å¼ä¸‹ä¸º max(rxkB/s, txkB/s)/Bandwidthã€‚</p>\n</li>\n</ul><p>å…¶ä¸­ï¼ŒBandwidth å¯ä»¥ç”¨ ethtool æ¥æŸ¥è¯¢ï¼Œå®ƒçš„å•ä½é€šå¸¸æ˜¯ Gb/s æˆ–è€… Mb/sï¼Œä¸è¿‡æ³¨æ„è¿™é‡Œå°å†™å­—æ¯ b ï¼Œè¡¨ç¤ºæ¯”ç‰¹è€Œä¸æ˜¯å­—èŠ‚ã€‚æˆ‘ä»¬é€šå¸¸æåˆ°çš„åƒå…†ç½‘å¡ã€ä¸‡å…†ç½‘å¡ç­‰ï¼Œå•ä½ä¹Ÿéƒ½æ˜¯æ¯”ç‰¹ã€‚å¦‚ä¸‹ä½ å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘çš„ eth0 ç½‘å¡å°±æ˜¯ä¸€ä¸ªåƒå…†ç½‘å¡ï¼š</p><pre><code>$ ethtool eth0 | grep Speed\n\tSpeed: 1000Mb/s\n</code></pre><h2><strong>è¿é€šæ€§å’Œå»¶æ—¶</strong></h2><p>æœ€åï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ ping ï¼Œæ¥æµ‹è¯•è¿œç¨‹ä¸»æœºçš„è¿é€šæ€§å’Œå»¶æ—¶ï¼Œè€Œè¿™åŸºäº ICMP åè®®ã€‚æ¯”å¦‚ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä½ å°±å¯ä»¥æµ‹è¯•æœ¬æœºåˆ° 114.114.114.114 è¿™ä¸ª IP åœ°å€çš„è¿é€šæ€§å’Œå»¶æ—¶ï¼š</p><pre><code># -c3è¡¨ç¤ºå‘é€ä¸‰æ¬¡ICMPåŒ…ååœæ­¢\n$ ping -c3 114.114.114.114\nPING 114.114.114.114 (114.114.114.114) 56(84) bytes of data.\n64 bytes from 114.114.114.114: icmp_seq=1 ttl=54 time=244 ms\n64 bytes from 114.114.114.114: icmp_seq=2 ttl=47 time=244 ms\n64 bytes from 114.114.114.114: icmp_seq=3 ttl=67 time=244 ms\n\n--- 114.114.114.114 ping statistics ---\n3 packets transmitted, 3 received, 0% packet loss, time 2001ms\nrtt min/avg/max/mdev = 244.023/244.070/244.105/0.034 ms\n</code></pre><p>ping çš„è¾“å‡ºï¼Œå¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚</p><ul>\n<li>\n<p>ç¬¬ä¸€éƒ¨åˆ†ï¼Œæ˜¯æ¯ä¸ª ICMP è¯·æ±‚çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ ICMP åºåˆ—å·ï¼ˆicmp_seqï¼‰ã€TTLï¼ˆç”Ÿå­˜æ—¶é—´ï¼Œæˆ–è€…è·³æ•°ï¼‰ä»¥åŠå¾€è¿”å»¶æ—¶ã€‚</p>\n</li>\n<li>\n<p>ç¬¬äºŒéƒ¨åˆ†ï¼Œåˆ™æ˜¯ä¸‰æ¬¡ ICMP è¯·æ±‚çš„æ±‡æ€»ã€‚</p>\n</li>\n</ul><p>æ¯”å¦‚ä¸Šé¢çš„ç¤ºä¾‹æ˜¾ç¤ºï¼Œå‘é€äº† 3 ä¸ªç½‘ç»œåŒ…ï¼Œå¹¶ä¸”æ¥æ”¶åˆ° 3 ä¸ªå“åº”ï¼Œæ²¡æœ‰ä¸¢åŒ…å‘ç”Ÿï¼Œè¿™è¯´æ˜æµ‹è¯•ä¸»æœºåˆ° 114.114.114.114 æ˜¯è¿é€šçš„ï¼›å¹³å‡å¾€è¿”å»¶æ—¶ï¼ˆRTTï¼‰æ˜¯ 244msï¼Œä¹Ÿå°±æ˜¯ä»å‘é€ ICMP å¼€å§‹ï¼Œåˆ°æ¥æ”¶åˆ° 114.114.114.114 å›å¤çš„ç¡®è®¤ï¼Œæ€»å…±ç»å† 244msã€‚</p><h2>å°ç»“</h2><p>æˆ‘ä»¬é€šå¸¸ä½¿ç”¨å¸¦å®½ã€ååé‡ã€å»¶æ—¶ç­‰æŒ‡æ ‡ï¼Œæ¥è¡¡é‡ç½‘ç»œçš„æ€§èƒ½ï¼›ç›¸åº”çš„ï¼Œä½ å¯ä»¥ç”¨ ifconfigã€netstatã€ssã€sarã€ping ç­‰å·¥å…·ï¼Œæ¥æŸ¥çœ‹è¿™äº›ç½‘ç»œçš„æ€§èƒ½æŒ‡æ ‡ã€‚</p><p>åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæˆ‘å°†ä»¥ç»å…¸çš„ C10K å’Œ C100K é—®é¢˜ï¼Œå¸¦ä½ è¿›ä¸€æ­¥æ·±å…¥ Linux ç½‘ç»œçš„å·¥ä½œåŸç†ã€‚</p><h2>æ€è€ƒ</h2><p>æœ€åï¼Œæˆ‘æƒ³è¯·ä½ æ¥èŠèŠï¼Œä½ ç†è§£çš„ Linux ç½‘ç»œæ€§èƒ½ã€‚ä½ å¸¸ç”¨ä»€ä¹ˆæŒ‡æ ‡æ¥è¡¡é‡ç½‘ç»œçš„æ€§èƒ½ï¼Ÿåˆç”¨ä»€ä¹ˆæ€è·¯åˆ†æç›¸åº”æ€§èƒ½é—®é¢˜å‘¢ï¼Ÿä½ å¯ä»¥ç»“åˆä»Šå¤©å­¦åˆ°çš„çŸ¥è¯†ï¼Œæå‡ºè‡ªå·±çš„è§‚ç‚¹ã€‚</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºå’Œæˆ‘è®¨è®ºï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„åŒäº‹ã€æœ‹å‹ã€‚æˆ‘ä»¬ä¸€èµ·åœ¨å®æˆ˜ä¸­æ¼”ç»ƒï¼Œåœ¨äº¤æµä¸­è¿›æ­¥ã€‚</p>","neighbors":{"left":{"article_title":"33 | å…³äº Linux ç½‘ç»œï¼Œä½ å¿…é¡»çŸ¥é“è¿™äº›ï¼ˆä¸Šï¼‰","id":80898},"right":{"article_title":"35 | åŸºç¡€ç¯‡ï¼šC10K å’Œ C1000K å›é¡¾","id":81268}},"comments":[{"had_liked":false,"id":71710,"user_name":"åˆ†æ¸…äº‘æ·¡","can_delete":false,"product_type":"c1","uid":1269873,"ip_address":"","ucode":"7045AE6BF72D31","user_header":"https://static001.geekbang.org/account/avatar/00/13/60/71/895ee6cf.jpg","comment_is_top":false,"comment_ctime":1551418919,"is_pvip":false,"replies":[{"id":"26315","content":"ğŸ‘è°¢è°¢åˆ†äº«","user_name":"ä½œè€…å›å¤","comment_id":71710,"uid":"1001282","ip_address":"","utype":1,"ctime":1551704489,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":6,"race_medal":0,"score":"138990372391","product_id":100020901,"comment_content":"å°ç‹—åŒå­¦é—®åˆ°ï¼š è€å¸ˆï¼Œæ‚¨å¥½ ss â€”lntp è¿™ä¸ª å½“sessionå¤„äºlisteningä¸­ rec-q ç¡®å®šæ˜¯ synçš„backlogå—ï¼Ÿ  <br>A:  Recv-Qä¸ºå…¨è¿æ¥é˜Ÿåˆ—å½“å‰ä½¿ç”¨äº†å¤šå°‘ã€‚ ä¸­æ–‡èµ„æ–™é‡Œè¿™ä¸ªé—®é¢˜è®²å¾—æœ€æ˜ç™½çš„æ–‡ç« ï¼šhttps:&#47;&#47;mp.weixin.qq.com&#47;s&#47;yH3PzGEFopbpA-jw4MythQ","like_count":32,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441291,"discussion_content":"ğŸ‘è°¢è°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551704489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1198055,"avatar":"https://static001.geekbang.org/account/avatar/00/12/47/e7/53416498.jpg","nickname":"æ›¹é¾™é£","note":"","ucode":"DD2DF8C0E89E38","race_medal":2,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4392,"discussion_content":"çœ‹äº†æºç å‘ç°ï¼Œè¿™ä¸ªåœ°æ–¹è®²çš„æœ‰é—®é¢˜.å…³äºssè¾“å‡ºä¸­listençŠ¶æ€å¥—æ¥å­—çš„Recv-Qè¡¨ç¤ºå…¨è¿æ¥é˜Ÿåˆ—å½“å‰ä½¿ç”¨äº†å¤šå°‘,ä¹Ÿå°±æ˜¯å…¨è¿æ¥é˜Ÿåˆ—çš„å½“å‰é•¿åº¦,è€ŒSend-Qè¡¨ç¤ºå…¨è¿æ¥é˜Ÿåˆ—çš„æœ€å¤§é•¿åº¦","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1565348171,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1269873,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/71/895ee6cf.jpg","nickname":"åˆ†æ¸…äº‘æ·¡","note":"","ucode":"7045AE6BF72D31","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1198055,"avatar":"https://static001.geekbang.org/account/avatar/00/12/47/e7/53416498.jpg","nickname":"æ›¹é¾™é£","note":"","ucode":"DD2DF8C0E89E38","race_medal":2,"user_type":1,"is_pvip":true},"discussion":{"id":350332,"discussion_content":"ç¬”è¯¯äº†ï¼Œä½ è¯´çš„å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613812819,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4392,"ip_address":""},"score":350332,"extra":""}]},{"author":{"id":1318534,"avatar":"https://static001.geekbang.org/account/avatar/00/14/1e/86/33ccfeb7.jpg","nickname":"Aoser","note":"","ucode":"B356387524BAA7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":128365,"discussion_content":"åœ¨é˜¿é‡ŒæŠ€æœ¯åšå®¢ä¸­ï¼Œä¹Ÿçœ‹åˆ°è¿™ä¸¤ä¸ªå€¼æŒ‡çš„æ˜¯å…¨è¿æ¥ï¼šhttp://jm.taobao.org/2017/05/25/525-1/","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1578632162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1269873,"avatar":"https://static001.geekbang.org/account/avatar/00/13/60/71/895ee6cf.jpg","nickname":"åˆ†æ¸…äº‘æ·¡","note":"","ucode":"7045AE6BF72D31","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1318534,"avatar":"https://static001.geekbang.org/account/avatar/00/14/1e/86/33ccfeb7.jpg","nickname":"Aoser","note":"","ucode":"B356387524BAA7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350331,"discussion_content":"æ˜¯åŒä¸€ç¯‡æ–‡ç« ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613812768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":128365,"ip_address":""},"score":350331,"extra":""}]},{"author":{"id":1519189,"avatar":"","nickname":"Geek_00711d","note":"","ucode":"2B0B98853D4CCF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":102,"discussion_content":"è¿™ç¯‡å¸–å­é‡Œ è¿æ¥å’ŒåŠè¿æ¥ æåäº†å§","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1561099409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143348,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1571672086,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"108945854486","product_id":100020901,"comment_content":"ä»Šå¤©æŸ¥ä¸€ä¸ªé—®é¢˜ï¼ŒèŠ±äº†åŠå¤©åŠŸå¤«ã€‚<br>å¦‚æœæ–‡ä¸­çš„ä¸€å¥è¯è¿˜è®°å¾—çš„è¯ï¼Œå¯èƒ½å°±åªéœ€è¦å‡ åˆ†é’Ÿäº†ã€‚<br><br>è€Œ Send-Q è¡¨ç¤ºè¿˜æ²¡æœ‰è¢«è¿œç«¯ä¸»æœºç¡®è®¤çš„å­—èŠ‚æ•°ï¼ˆå³å‘é€é˜Ÿåˆ—é•¿åº¦ï¼‰ã€‚<br><br>åŸæœ¬ngnixåœ¨ç‰©ç†æœºä¸Šæ˜¯æ²¡é—®é¢˜çš„ï¼Œç»“æœæœ‰ä¸ªç¯å¢ƒä¸­æ”¾åˆ°äº†dockeré‡Œï¼Œä¸”è¿˜æ˜¯èµ°çš„æ™®é€šç«¯å£æ˜ å°„æ¨¡å¼ï¼Œè¿˜ä¸æ˜¯â€”net=hostæ¨¡å¼ï¼Œç»“æœwebsocketå‘å¾€ngnixçš„æ•°æ®è¿‡å¤§åå°±è¢«é˜»å¡äº†ã€‚<br>æœ€åå‘ç°ç›¸åº”è¢«é˜»å¡çš„ç«¯å£ send-qä¸€ç›´å¾ˆå¤§ã€‚<br>æœ€ådockerå°è¯•ä½¿ç”¨net=hoståæ•…éšœæ¶ˆé™¤ã€‚<br>å…·ä½“çš„åŸå› è¿˜æ²¡æœ‰ç»†ç©¶ã€‚<br><br>ç•™ä¸ªè¨€ï¼Œç»™åé¢çœ‹ä¸“æ çš„åŒå­¦ä¸€ä¸ªæ•™è®­å§ã€‚","like_count":25,"discussions":[{"author":{"id":1443017,"avatar":"https://static001.geekbang.org/account/avatar/00/16/04/c9/ef585c96.jpg","nickname":"ç¢Œèˆ°è™¾","note":"","ucode":"B947C229E767D3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":564998,"discussion_content":"ä¹‹å‰ä¸­è¿‡æ‹›ï¼Œä¸è¿‡åæ¥ä¿®æ”¹äº†å®¹å™¨ä¸­çš„å†…æ ¸å‚æ•°è§£å†³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650369718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1257022,"avatar":"http://thirdwx.qlogo.cn/mmopen/KFgDEHIEpnT0EXnh02VHqBptd0b8mtG3h3IX3wibjaxjoVia2VYb1W8x1GXYwtLibyKicBJowvJ97CcvlDh9WrSL5xZmFWYKN6Rt/132","nickname":"å—å†¥","note":"","ucode":"07BDAF8B0CFF5F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304445,"discussion_content":"æ˜¯ä¸æ˜¯dockerb æ¡¥æ¨¡å¼ä¸‹ï¼Œveth-pairæœ‰æ€§èƒ½é—®é¢˜ï¼Œæˆ–è€…é™é€Ÿäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599572551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1205253,"avatar":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","nickname":"æˆ‘æ¥ä¹Ÿ","note":"","ucode":"773D6104F56767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1257022,"avatar":"http://thirdwx.qlogo.cn/mmopen/KFgDEHIEpnT0EXnh02VHqBptd0b8mtG3h3IX3wibjaxjoVia2VYb1W8x1GXYwtLibyKicBJowvJ97CcvlDh9WrSL5xZmFWYKN6Rt/132","nickname":"å—å†¥","note":"","ucode":"07BDAF8B0CFF5F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304465,"discussion_content":"åº”è¯¥ä¸æ˜¯docker0å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ã€‚\n\nå°±åœ¨ä¸Šå‘¨ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­åˆè¸©äº†ä¸€æ¬¡å‘ï¼Œä½†æ˜¯æ²¡æ³•é€šè¿‡ä¿®æ”¹â€”net=hostçš„æ–¹å¼å¤„ç†äº†ã€‚å› ä¸ºæ˜¯åœ¨k8sä¸­é‡åˆ°çš„é—®é¢˜ã€‚\n\nåæ¥å‘ç°ï¼Œæ˜¯å®¿ä¸»æœºå†…æ ¸ç‰ˆæœ¬å¯¼è‡´çš„bugã€‚\nå…·ä½“çš„åˆ†æè¿‡ç¨‹ä¹Ÿæ˜¯å‚è€ƒäº†è¿™ç¯‡æ–‡ç« ï¼Œæ¨èä½ ä¸€çœ‹ã€‚\n\nTCP SACK è¡¥ä¸å¯¼è‡´çš„å‘é€é˜Ÿåˆ—æŠ¥æ–‡ç§¯å‹\nhttps://runsisi.com/2019-12-19/tcp-sack-hang/","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1599576423,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":304445,"ip_address":""},"score":304465,"extra":""}]}]},{"had_liked":false,"id":122359,"user_name":"æ›¹é¾™é£","can_delete":false,"product_type":"c1","uid":1198055,"ip_address":"","ucode":"DD2DF8C0E89E38","user_header":"https://static001.geekbang.org/account/avatar/00/12/47/e7/53416498.jpg","comment_is_top":false,"comment_ctime":1565348190,"is_pvip":true,"discussion_count":3,"race_medal":2,"score":"57399923038","product_id":100020901,"comment_content":"çœ‹äº†æºç å‘ç°ï¼Œè¿™ä¸ªåœ°æ–¹è®²çš„æœ‰é—®é¢˜.å…³äºssè¾“å‡ºä¸­listençŠ¶æ€å¥—æ¥å­—çš„Recv-Qè¡¨ç¤ºå…¨è¿æ¥é˜Ÿåˆ—å½“å‰ä½¿ç”¨äº†å¤šå°‘,ä¹Ÿå°±æ˜¯å…¨è¿æ¥é˜Ÿåˆ—çš„å½“å‰é•¿åº¦,è€ŒSend-Qè¡¨ç¤ºå…¨è¿æ¥é˜Ÿåˆ—çš„æœ€å¤§é•¿åº¦","like_count":14,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":157792,"discussion_content":"æ˜¯çš„ï¼Œè°¢è°¢æŒ‡å‡º","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1580520217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1241939,"avatar":"https://static001.geekbang.org/account/avatar/00/12/f3/53/c5a17618.jpg","nickname":"ä¸ƒè‰²å‡‰æ©™","note":"","ucode":"8F39B511B15C57","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293438,"discussion_content":"åå­—å¾ˆå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595548525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1007254,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5e/96/a03175bc.jpg","nickname":"è«å","note":"","ucode":"E28F2602BA25DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":51598,"discussion_content":"èµåŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573906528,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65807,"user_name":"Days","can_delete":false,"product_type":"c1","uid":1317834,"ip_address":"","ucode":"4DDB1CD8F493E1","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/ca/9afb89a2.jpg","comment_is_top":false,"comment_ctime":1549672948,"is_pvip":false,"replies":[{"id":"23688","content":"è¿™äº›åœ¨åé¢çš„æ¡ˆä¾‹ä¸­ä¼šæ¶‰åŠ","user_name":"ä½œè€…å›å¤","comment_id":65807,"uid":"1001282","ip_address":"","utype":1,"ctime":1550065946,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"53089280500","product_id":100020901,"comment_content":"è€å¸ˆæ˜¥èŠ‚ä¸ä¼‘æ¯ï¼Œå¤§èµå•Šï¼Œè€å¸ˆå¯å¦è®²è§£ä¸€ä¸‹ä¸€ä¸ªåŒ…ä»ç½‘å¡æ¥æ”¶ï¼Œå‘é€åœ¨å†…æ ¸åè®®æ ˆçš„æ•´ä¸ªæµç¨‹ï¼Œè¿™æ ·æ€§èƒ½åˆ†æçš„æ—¶å€™ï¼Œæ›´å¥½çš„ç†è§£æ•°æ®åŒ…é˜»å¡åœ¨å“ªé‡Œï¼Ÿ","like_count":12,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438596,"discussion_content":"è¿™äº›åœ¨åé¢çš„æ¡ˆä¾‹ä¸­ä¼šæ¶‰åŠ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550065946,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65886,"user_name":"[å°ç‹—]","can_delete":false,"product_type":"c1","uid":1237070,"ip_address":"","ucode":"090AEAC8A86134","user_header":"https://static001.geekbang.org/account/avatar/00/12/e0/4e/c266bdb4.jpg","comment_is_top":false,"comment_ctime":1549724035,"is_pvip":false,"replies":[{"id":"23686","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","comment_id":65886,"uid":"1001282","ip_address":"","utype":1,"ctime":1550065866,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":2,"race_medal":0,"score":"31614495107","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½  ss â€”lntp  è¿™ä¸ª  å½“sessionå¤„äºlisteningä¸­  rec-q  ç¡®å®šæ˜¯  synçš„backlogå—ï¼Ÿ  æˆ‘ä¹‹å‰éƒ½æ˜¯å½“åšå…¨é˜Ÿåˆ—çš„é•¿åº¦","like_count":7,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438629,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550065866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1543040,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","nickname":"evan","note":"","ucode":"491B073D5AFEDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318037,"discussion_content":"æ˜¯å…¨é˜Ÿåˆ—çš„é•¿åº¦.","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603631593,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65917,"user_name":"code2","can_delete":false,"product_type":"c1","uid":1281792,"ip_address":"","ucode":"BBA5748FB6A01C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/8OPzdpDraQMvCNWAicicDt54sDaIYJZicBLfMyibXVs4V0ZibEdkZlbzxxL7aGpRoeyvibag5LaAaaGKSdwYQMY2hUrQ/132","comment_is_top":false,"comment_ctime":1549771204,"is_pvip":false,"replies":[{"id":"23685","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","comment_id":65917,"uid":"1001282","ip_address":"","utype":1,"ctime":1550065684,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"23024607684","product_id":100020901,"comment_content":"æ¯æœŸè¯»ä¸¤éï¼Œçœ‹çœ‹åˆ«äººæ€ä¹ˆåš!","like_count":5,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438642,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550065684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170557,"user_name":"Aoser","can_delete":false,"product_type":"c1","uid":1318534,"ip_address":"","ucode":"B356387524BAA7","user_header":"https://static001.geekbang.org/account/avatar/00/14/1e/86/33ccfeb7.jpg","comment_is_top":false,"comment_ctime":1578632100,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"18758501284","product_id":100020901,"comment_content":"è€å¸ˆï¼ŒlisteningçŠ¶æ€ä¸‹ï¼ŒRecv-Qå’ŒSend-Qåº”è¯¥åˆ†åˆ«æŒ‡çš„æ˜¯ï¼Œå½“å‰å…¨è¿æ¥çš„ä½¿ç”¨æ•°é‡å’Œæœ€å¤§å…¨è¿æ¥å¯ç”¨æ•°é‡ï¼Œä½†æ˜¯æ–‡ä¸­è¯´æˆäº†æ˜¯åŠè¿æ¥ã€‚å‚è€ƒé˜¿é‡ŒæŠ€æœ¯åšå®¢ï¼šhttp:&#47;&#47;jm.taobao.org&#47;2017&#47;05&#47;25&#47;525-1&#47;","like_count":4,"discussions":[{"author":{"id":2068424,"avatar":"","nickname":"Geek_9815f1","note":"","ucode":"34EE8566A53F10","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292559,"discussion_content":"ç‰›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595254994,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137517,"user_name":"mfj1st","can_delete":false,"product_type":"c1","uid":1316619,"ip_address":"","ucode":"33CA6040122817","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/u8g8UoUaBZTGpDgAQKDwL5IzicBILfpDmz0tOXibSQWkmTjr3m57ofUKVPgRiaFTRYZkE7dBxOmmJBhqCpYJWd2GA/132","comment_is_top":false,"comment_ctime":1569759418,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14454661306","product_id":100020901,"comment_content":"å€ªè€å¸ˆï¼Œè™šæ‹Ÿæœºç”¨ethtoolè·å–ä¸åˆ°ç½‘å¡å¸¦å®½ï¼Œæœ‰å…¶ä»–æ–¹æ³•å—ï¼Ÿ","like_count":3},{"had_liked":false,"id":65838,"user_name":"æˆ‘æ¥ä¹Ÿ","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1549695638,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14434597526","product_id":100020901,"comment_content":"[D34æ‰“å¡]<br>å¹³å¸¸åªç”¨netstat å’Œ ifconfig ï¼Œå‰é¢çš„ä¸“æ é‡Œå­¦äº†sarè§‚æµ‹ç½‘ç»œæŒ‡æ ‡ï¼Œä»Šå¤©åˆæ¥è§¦äº†ä¸¤ä¸ªç±»ä¼¼çš„ï¼šsså’Œipã€‚<br>å¹³å¸¸é‡åˆ°çš„ç½‘ç»œé—®é¢˜æ¯”è¾ƒç®€å•ï¼Œå…ˆçœ‹èƒ½å¦æ­£å¸¸è¿ä¸Šï¼Œå†çœ‹çœ‹å¹¶å‘è¿æ¥æ•°ã€‚æœ‰æ—¶å¿˜è®°æ‰§è¡Œulimit -nä¼šå¯¼è‡´é»˜è®¤è´¦å·çš„ä¸€ä¸ªè¿›ç¨‹åŒæ—¶æ‰“å¼€æ–‡ä»¶æ•°åªæœ‰1024ã€‚<br>é™¤äº†å¸¦å®½æ²¡ä¹°å¤Ÿï¼Œå¹³å¸¸ä¸ä¼šé‡åˆ°ç½‘ç»œæ–¹é¢çš„ç“¶é¢ˆï¼Œæ¯•ç«Ÿæˆ‘ä»¬çš„ä¸šåŠ¡å¤„ç†æ•°æ®çš„æ¶ˆè€—æ¯”æ”¶å‘æ•°æ®çš„æ¶ˆè€—å¤§å¾—å¤šã€‚","like_count":3},{"had_liked":false,"id":69582,"user_name":"Gaoyc","can_delete":false,"product_type":"c1","uid":1303119,"ip_address":"","ucode":"0320CEE480B4C5","user_header":"https://static001.geekbang.org/account/avatar/00/13/e2/4f/0748c63e.jpg","comment_is_top":false,"comment_ctime":1550794239,"is_pvip":false,"replies":[{"id":"24848","content":"æ˜¯çš„ï¼Œéƒ½æ˜¯ç´¯åŠ å€¼ï¼Œæ‰€ä»¥ä¸å»ºè®®æ¸…ç©ºè¿™äº›ç»Ÿè®¡ä¿¡æ¯ã€‚å¹¶ä¸”ï¼ŒçœŸæ­£è¦æ¸…çš„åŒ–ï¼Œä¹Ÿéœ€è¦åœæ­¢ç½‘å¡å¹¶ä¸”å¸è½½ï¼ˆrmmodï¼‰ç½‘å¡å†…æ ¸æ¨¡å—ï¼Œè¿™åœ¨å®é™…ç¯å¢ƒä¸­é€šå¸¸æ˜¯ä¸å…è®¸çš„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":69582,"uid":"1001282","ip_address":"","utype":1,"ctime":1550850559,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"10140728831","product_id":100020901,"comment_content":"é€šè¿‡ifconfigå’Œssçœ‹åˆ°çš„é”™è¯¯åŒ…æˆ–ä¸¢å¼ƒåŒ…ç­‰çš„ä¸€äº›é”™è¯¯æ˜¯ç´¯åŠ çš„å˜›ï¼Ÿæ˜¯å¦å¯ä»¥æ¸…ç©ºè¿™äº›é”™è¯¯åŒ…ä¿¡æ¯ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440174,"discussion_content":"æ˜¯çš„ï¼Œéƒ½æ˜¯ç´¯åŠ å€¼ï¼Œæ‰€ä»¥ä¸å»ºè®®æ¸…ç©ºè¿™äº›ç»Ÿè®¡ä¿¡æ¯ã€‚å¹¶ä¸”ï¼ŒçœŸæ­£è¦æ¸…çš„åŒ–ï¼Œä¹Ÿéœ€è¦åœæ­¢ç½‘å¡å¹¶ä¸”å¸è½½ï¼ˆrmmodï¼‰ç½‘å¡å†…æ ¸æ¨¡å—ï¼Œè¿™åœ¨å®é™…ç¯å¢ƒä¸­é€šå¸¸æ˜¯ä¸å…è®¸çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550850559,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65734,"user_name":"èŠ¥èœ","can_delete":false,"product_type":"c1","uid":1089833,"ip_address":"","ucode":"FDF57F34E09A80","user_header":"https://static001.geekbang.org/account/avatar/00/10/a1/29/ac0f2c83.jpg","comment_is_top":false,"comment_ctime":1549611750,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10139546342","product_id":100020901,"comment_content":"æ˜¥èŠ‚æœŸé—´ç»ˆäºè·Ÿä¸ŠèŠ‚å¥ï¼Œæ˜¥èŠ‚é‡Œåšåˆ°åªé•¿çŸ¥è¯†ä¸é•¿è‚‰ï¼šï¼‰","like_count":2},{"had_liked":false,"id":206819,"user_name":"Frank","can_delete":false,"product_type":"c1","uid":1111985,"ip_address":"","ucode":"9DADD72C193296","user_header":"https://static001.geekbang.org/account/avatar/00/10/f7/b1/982ea185.jpg","comment_is_top":false,"comment_ctime":1586940847,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5881908143","product_id":100020901,"comment_content":"è€å¸ˆï¼Œ ç½‘å¡  dropped  ä¸ä¸ºé›¶ï¼Œè€Œä¸”è¿˜åœ¨å¢åŠ ï¼Œæ€ä¹ˆæ’æŸ¥é—®é¢˜å“¦ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1688629,"avatar":"https://static001.geekbang.org/account/avatar/00/19/c4/35/2cc10d43.jpg","nickname":"Wade_é˜¿ä¼Ÿ","note":"","ucode":"5AE2E846A13443","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334795,"discussion_content":"å¯ä»¥çœ‹ä¸‹ç³»ç»Ÿæ—¥å¿—ï¼Œiptablesè½¬å‘è¡¨æ˜¯å¦æ»¡äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1607993995,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":199028,"user_name":"hellojd_gk","can_delete":false,"product_type":"c1","uid":1679543,"ip_address":"","ucode":"319AF4C1AD568D","user_header":"https://static001.geekbang.org/account/avatar/00/19/a0/b7/1327ae60.jpg","comment_is_top":false,"comment_ctime":1585476621,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5880443917","product_id":100020901,"comment_content":"åœ¨é˜¿é‡Œäº‘ECSä¸Šæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œæ€ä¹ˆå•¥ä¹Ÿä¸è¿”å›<br>[root@iZ8vb31waukedizc39ffofZ ~]# ethtool eth0<br>Settings for eth0:<br>        Link detected: yes","like_count":1,"discussions":[{"author":{"id":1226968,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/d8/f81b5604.jpg","nickname":"hcyycb","note":"","ucode":"77FF6CA41F9E66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394966,"discussion_content":"è¿™ä¸ªåº”è¯¥ç”¨ä½ äº‘ä¸»æœºç»™çš„å¸¦å®½å°±æ˜¯äº†ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632148789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":198849,"user_name":"å—å±±","can_delete":false,"product_type":"c1","uid":1119593,"ip_address":"","ucode":"94656FE4A6C378","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","comment_is_top":false,"comment_ctime":1585470448,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5880437744","product_id":100020901,"comment_content":"æœ‰ç‚¹çœ‹åˆ°æœ¬è´¨çš„æ„Ÿè§‰ï¼Œèµ","like_count":1},{"had_liked":false,"id":165737,"user_name":"arch","can_delete":false,"product_type":"c1","uid":1078931,"ip_address":"","ucode":"A69EBFE0520B85","user_header":"https://static001.geekbang.org/account/avatar/00/10/76/93/64ed7385.jpg","comment_is_top":false,"comment_ctime":1577292339,"is_pvip":true,"discussion_count":4,"race_medal":0,"score":"5872259635","product_id":100020901,"comment_content":"&lt;b&gt;ethtool eth0 | grep Speed&lt;&#47;b&gt; è¿™ä¸ªå‘½ä»¤ä¸ç®¡ç”¨ï¼ŒæŸ¥ä¸å‡ºå¸¦å®½å¤§å°ï¼Ÿ ","like_count":1,"discussions":[{"author":{"id":1318941,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/1d/0c1a184c.jpg","nickname":"ç½—è¾‘æ€ç»´","note":"","ucode":"D257A06EDE928E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":195820,"discussion_content":"ç¡®è®¤ç½‘å¡åç§°æ˜¯ä¸æ˜¯eth0\nifconfig -a","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1583312654,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2066801,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/W0VEO7Hxzd61mia6Ls2EpBmaZ0l9q7SFUAErbu4XKIjWLmlALr4ybpicDoI8SoXY8XJNKmk04Ep1ibTCuFvfCF8GQ/132","nickname":"Chen","note":"","ucode":"5D0F3DF807706E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":345964,"discussion_content":"ifconfig -a | moreå…ˆç¡®è®¤è‡ªå·±çš„ç½‘å¡åç§°ï¼Œç„¶åå†ç”¨ethtool ç½‘å¡åå»æŸ¥è¯¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611824542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2330999,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/KhQRc8hIxHHyPV3Og2Fc5l8w2y7ibGwGn6odmzl3wTt6fPrNv589uHmia1rgiaZhRiaLVHv9ibhzkxFx1zo42uNIS9A/132","nickname":"é“é•¿","note":"","ucode":"15B2E9CEF84634","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335914,"discussion_content":"æˆ‘çš„ä¹Ÿæ˜¯æç¤ºSpeedï¼šUnknown","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608382118,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2791742,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/aCVlj0fom8geRoXFkO34Jbpf9oia79QxdbwDuyyLqL1WAVC7iaViaE4YNUvcatEwwUF6102MeH6kBxo5CwLibrCiajg/132","nickname":"Geek_9e9d56","note":"","ucode":"F6333DA18E4EB0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2330999,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/KhQRc8hIxHHyPV3Og2Fc5l8w2y7ibGwGn6odmzl3wTt6fPrNv589uHmia1rgiaZhRiaLVHv9ibhzkxFx1zo42uNIS9A/132","nickname":"é“é•¿","note":"","ucode":"15B2E9CEF84634","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559104,"discussion_content":"åªæœ‰ç‰©ç†æœºæ‰å¯ä»¥æŸ¥çœ‹å¸¦å®½å§ï¼Œä½ æŸ¥çœ‹çš„æ˜¯è™šæ‹Ÿæœºå—ï¼Ÿå¦‚æœä¸€å°ä¸»æœºä¸Šæœ‰å¤šå°è™šæœºï¼Œç‰©ç†æœºçš„å¸¦å®½æ˜¯ç¡®å®šçš„ï¼Œå¤šå°è™šæœºä¼šäº’ç›¸äº‰æŠ¢å¸¦å®½ï¼Œè™šæ‹Ÿæœºçš„å¸¦å®½æŸ¥ä¸åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648610891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":335914,"ip_address":""},"score":559104,"extra":""}]}]},{"had_liked":false,"id":96264,"user_name":"zhoufeng","can_delete":false,"product_type":"c1","uid":1447741,"ip_address":"","ucode":"6F92F7866F9EB4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKq0oQVibKcmYJqmpqaNNQibVgia7EsEgW65LZJIpDZBMc7FyMcs7J1JmFCtp06pY8ibbcpW4ibRtG7Frg/132","comment_is_top":false,"comment_ctime":1558369319,"is_pvip":false,"replies":[{"id":"34558","content":"ä¸æ˜¯ï¼Œè¿™åªæ˜¯åŠè¿æ¥çš„æœ€å¤§æ•°é‡","user_name":"ä½œè€…å›å¤","comment_id":96264,"uid":"1001282","ip_address":"","utype":1,"ctime":1558447376,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5853336615","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œå†è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼ŒæŸ¥çœ‹max_syn_backlogå€¼ä¸º2048ï¼Œè¡¨ç¤ºåŒæ—¶æœ€å¤§åªèƒ½æ¥å—2048ä¸ªè¯·æ±‚å—ï¼Ÿ<br># cat &#47;proc&#47;sys&#47;net&#47;ipv4&#47;tcp_max_syn_backlog <br>2048<br>","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450802,"discussion_content":"ä¸æ˜¯ï¼Œè¿™åªæ˜¯åŠè¿æ¥çš„æœ€å¤§æ•°é‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558447376,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96263,"user_name":"zhoufeng","can_delete":false,"product_type":"c1","uid":1447741,"ip_address":"","ucode":"6F92F7866F9EB4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKq0oQVibKcmYJqmpqaNNQibVgia7EsEgW65LZJIpDZBMc7FyMcs7J1JmFCtp06pY8ibbcpW4ibRtG7Frg/132","comment_is_top":false,"comment_ctime":1558369068,"is_pvip":false,"replies":[{"id":"34559","content":"å‰ä¸€ä¸ªæ˜¯å¥—æ¥å­—çº§çš„ï¼Œåä¸€ä¸ªæ˜¯ç³»ç»Ÿçº§çš„","user_name":"ä½œè€…å›å¤","comment_id":96263,"uid":"1001282","ip_address":"","utype":1,"ctime":1558447547,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5853336364","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œ<br>â€œå½“å¥—æ¥å­—å¤„äºlistençŠ¶æ€æ—¶ï¼Œä½¿ç”¨sså‘½ä»¤çœ‹åˆ°çš„Send-Qè¡¨ç¤ºæœ€å¤§çš„syn_backlogå€¼â€<br>ä½†æ˜¯å’Œ&#47;proc&#47;sys&#47;net&#47;ipv4&#47;tcp_max_syn_backlog   æŸ¥çœ‹åˆ°çš„å€¼ä¸ä¸€è‡´ï¼Œæ˜¯æˆ‘ç†è§£é”™äº†å—ï¼Ÿ<br>è°¢è°¢","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450801,"discussion_content":"å‰ä¸€ä¸ªæ˜¯å¥—æ¥å­—çº§çš„ï¼Œåä¸€ä¸ªæ˜¯ç³»ç»Ÿçº§çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558447547,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":75092,"user_name":"MJ","can_delete":false,"product_type":"c1","uid":1237145,"ip_address":"","ucode":"FCEC0C21444D2A","user_header":"https://static001.geekbang.org/account/avatar/00/12/e0/99/5d603697.jpg","comment_is_top":false,"comment_ctime":1552355011,"is_pvip":false,"replies":[{"id":"27487","content":"å—¯å—¯ï¼Œè¯´è½¬å‘æ€§èƒ½çš„æ—¶å€™ä¸€èˆ¬éƒ½æ˜¯æŒ‡ä¸€ä¸ªæ–¹å‘çš„","user_name":"ä½œè€…å›å¤","comment_id":75092,"uid":"1001282","ip_address":"","utype":1,"ctime":1552399926,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5847322307","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸€äº‹ç–‘æƒ‘ï¼Œå¸Œæœ›å¸®å¿™è§£æƒ‘ã€‚<br><br>ä¸€å°64ä¸ªåƒå…†ç«¯å£çš„äº¤æ¢æœºï¼Œå…¨åŒå·¥æ¨¡å¼ï¼Œäº¤æ¢å®¹é‡è®¡ç®—ï¼š64*1000*2<br>åŒ…è½¬å‘é€Ÿç‡è®¡ç®—ï¼š64*1.488Mpp<br><br>äº¤æ¢å®¹é‡æœ‰ä¸ªä¹˜ä»¥2ï¼Œä¸ºä»€ä¹ˆåŒ…è½¬å‘é€Ÿç‡ä¸éœ€è¦ä¹˜ä»¥2ï¼Ÿ<br>ï¼ˆæˆ‘ç†è§£ï¼Œç«¯å£é€Ÿç‡1000bpsï¼Œåœ¨å…¨åŒå·¥æ¨¡å¼ä¸‹ï¼ŒæŒ‰ç…§åŒå‘é€Ÿç‡è®¡ç®—ï¼Œå³æ€»é€Ÿç‡æ˜¯2000bpsï¼‰","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442796,"discussion_content":"å—¯å—¯ï¼Œè¯´è½¬å‘æ€§èƒ½çš„æ—¶å€™ä¸€èˆ¬éƒ½æ˜¯æŒ‡ä¸€ä¸ªæ–¹å‘çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552399926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74196,"user_name":"å¥½å¥½å­¦ä¹ ","can_delete":false,"product_type":"c1","uid":1258789,"ip_address":"","ucode":"63A002997462E3","user_header":"https://static001.geekbang.org/account/avatar/00/13/35/25/bab760a1.jpg","comment_is_top":false,"comment_ctime":1552140369,"is_pvip":false,"replies":[{"id":"27330","content":"ç½‘ç»œæ¥å£çš„ä¸€äº›æ ‡å¿—ï¼Œå«ä¹‰åœ¨å°–æ‹¬å·ä¸­","user_name":"ä½œè€…å›å¤","comment_id":74196,"uid":"1001282","ip_address":"","utype":1,"ctime":1552349069,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5847107665","product_id":100020901,"comment_content":"eth0: flags=4163<br>è¿™ä¸ªä»€ä¹ˆæ„æ€ï¼Œæœ‰ç‚¹å¥½å¥‡","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442492,"discussion_content":"ç½‘ç»œæ¥å£çš„ä¸€äº›æ ‡å¿—ï¼Œå«ä¹‰åœ¨å°–æ‹¬å·ä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552349069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73569,"user_name":"bzadhere","can_delete":false,"product_type":"c1","uid":1045920,"ip_address":"","ucode":"8A3CC56EF76A65","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f5/a0/c342c50e.jpg","comment_is_top":false,"comment_ctime":1551927162,"is_pvip":false,"replies":[{"id":"27322","content":"å¯èƒ½æ˜¯ç‰ˆæœ¬é—®é¢˜ï¼Œå¯ä»¥æŸ¥æŸ¥ ss çš„ manual ä¸Šå«ä¹‰æ˜¯ä¸€æ ·çš„å—","user_name":"ä½œè€…å›å¤","comment_id":73569,"uid":"1001282","ip_address":"","utype":1,"ctime":1552348120,"user_name_real":"å€ªæœ‹é£"}],"discussion_count":1,"race_medal":0,"score":"5846894458","product_id":100020901,"comment_content":"netstat -nta  å‘½ä»¤çœ‹åˆ°ListeningçŠ¶æ€ä¸‹çš„Send-Q å€¼éƒ½æ˜¯0ï¼Œç”¨man netstat çœ‹åˆ°è¯´æ˜å’Œå®é™…æƒ…å†µä¸ä¸€æ ·ï¼› ç„¶åç”¨ss -lnt çœ‹åˆ°Send-Q  é0ï¼Œåº”è¯¥æ€ä¹ˆç†è§£ï¼Ÿ<br><br>[root@localhost ~]# man netstat<br>......<br>   Recv-Q<br>       Established:  The count of bytes not copied by the user program connected to this socket.  Listening: Since<br>       Kernel 2.6.18 this column contains the current syn backlog.<br><br>   Send-Q<br>       Established: The count of bytes not acknowledged by the remote host.  Listening: Since Kernel  2.6.18  this<br>       column contains the maximum size of the syn backlog.<br>.......<br><br>[root@localhost ~]# netstat -tna<br>Active Internet connections (servers and established)<br>Proto Recv-Q Send-Q Local Address           Foreign Address         State      <br>tcp        0      0 0.0.0.0:21              0.0.0.0:*               LISTEN     <br>tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN     <br>tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN     <br>tcp        0      0 192.168.137.20:22       192.168.137.1:52521     ESTABLISHED<br>tcp6       0      0 :::22                   :::*                    LISTEN     <br>tcp6       0      0 ::1:25                  :::*                    LISTEN     <br><br>[root@localhost ~]# ss -lnt<br>State       Recv-Q Send-Q             Local Address:Port                            Peer Address:Port              <br>LISTEN      0      32                             *:21                                         *:*                  <br>LISTEN      0      128                            *:22                                         *:*                  <br>LISTEN      0      100                    127.0.0.1:25                                         *:*                  <br>LISTEN      0      128                           :::22                                        :::*                  <br>LISTEN      0      100                          ::1:25                                        :::*  ","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442162,"discussion_content":"å¯èƒ½æ˜¯ç‰ˆæœ¬é—®é¢˜ï¼Œå¯ä»¥æŸ¥æŸ¥ ss çš„ manual ä¸Šå«ä¹‰æ˜¯ä¸€æ ·çš„å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552348120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67514,"user_name":"ninuxer","can_delete":false,"product_type":"c1","uid":1243135,"ip_address":"","ucode":"5394ADAF2667D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQMM4m7NHuicr55aRiblTSEWIYe0QqbpyHweaoAbG7j2v7UUElqqeP3Ihrm3UfDPDRb1Hv8LvPwXqA/132","comment_is_top":false,"comment_ctime":1550190047,"is_pvip":false,"replies":[{"id":"24035","content":"ğŸ‘å—¯å—¯","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550325413,"ip_address":"","comment_id":67514,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5845157343","product_id":100020901,"comment_content":"æ‰“å¡day36<br>å»å¹´ä¹‹å‰å–œæ¬¢ç”¨netstatï¼Œifconfigï¼Œå»å¹´å¹´ä¸­çš„æ—¶å€™å…¥å‘ssï¼Œip","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439225,"discussion_content":"ğŸ‘å—¯å—¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550325413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":66085,"user_name":"xfan","can_delete":false,"product_type":"c1","uid":1315147,"ip_address":"","ucode":"48ED8D498D7F56","user_header":"https://static001.geekbang.org/account/avatar/00/14/11/4b/fa64f061.jpg","comment_is_top":false,"comment_ctime":1549874876,"is_pvip":false,"replies":[{"id":"23698","content":"å¯èƒ½è·Ÿç½‘å¡çŠ¶æ€å’Œé©±åŠ¨æœ‰å…³ï¼Œå¯ä»¥è¯•è¯•å…ˆé…ç½®å¥½ IP å¹¶å¼€å¯ç½‘å¡åå†æŸ¥çœ‹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550067823,"ip_address":"","comment_id":66085,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5844842172","product_id":100020901,"comment_content":"Speed æœ‰çš„é€šè¿‡ethtoolæŸ¥ä¸åˆ°ï¼Œæ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Œé‚£æŸ¥ä¸åˆ°çš„è¯ï¼Œé»˜è®¤å€¼æ˜¯å¤šå°‘å‘¢","like_count":1,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438696,"discussion_content":"å¯èƒ½è·Ÿç½‘å¡çŠ¶æ€å’Œé©±åŠ¨æœ‰å…³ï¼Œå¯ä»¥è¯•è¯•å…ˆé…ç½®å¥½ IP å¹¶å¼€å¯ç½‘å¡åå†æŸ¥çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550067823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358658,"user_name":"mkcaptain","can_delete":false,"product_type":"c1","uid":2341231,"ip_address":"åŒ—äº¬","ucode":"0BF1BAE12B0C11","user_header":"https://static001.geekbang.org/account/avatar/00/23/b9/6f/b40d1acf.jpg","comment_is_top":false,"comment_ctime":1664521744,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1664521744","product_id":100020901,"comment_content":"å¦‚æœæ”¶åˆ°çš„åŒ…æ˜¯å‘ç»™ç›¸åŒäºŒå±‚å…¶ä»–ä¸»æœºçš„ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿä¼šç»Ÿè®¡åœ¨ifconfig -açš„droppedé‡Œï¼Ÿ","like_count":0},{"had_liked":false,"id":352851,"user_name":"è‚¥low","can_delete":false,"product_type":"c1","uid":1043480,"ip_address":"åŒ—äº¬","ucode":"A158AFAAB8C742","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/18/bf7254d3.jpg","comment_is_top":false,"comment_ctime":1658980990,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1658980990","product_id":100020901,"comment_content":"å¸¸ç”¨ä»€ä¹ˆæŒ‡æ ‡æ¥è¡¡é‡ç½‘ç»œçš„æ€§èƒ½ï¼Ÿ<br><br>æˆ‘å¼€å‘æ¥å£è¾ƒå¤šï¼Œå› æ­¤å•æœºçš„tps &#47; qps ä¼šä½œä¸ºè¡¡é‡æ€§èƒ½æˆ–è€…æ‰¿è½½èƒ½åŠ›çš„æ ‡å‡†å§<br><br>åˆç”¨ä»€ä¹ˆæ€è·¯åˆ†æç›¸åº”æ€§èƒ½é—®é¢˜å‘¢ï¼Ÿ<br><br>1ã€é¦–å…ˆä¸šåŠ¡ä»£ç ä¸­è¦é˜¶æ®µæ€§çš„æ‰“æ—¶é—´ç‚¹ä¿¡æ¯ï¼Œçœ‹æœ‰æ²¡æœ‰ç‰¹åˆ«é•¿çš„è€—æ—¶ï¼Œå¯¹åº”è§£å†³æ‰<br>2ã€å…¶æ¬¡ç”¨å‹æµ‹å·¥å…·å¦‚ wrk å»å‹ä¸€ä¸‹ï¼Œç”¨ topã€vmstat è§‚å¯Ÿç³»ç»Ÿçš„ç“¶é¢ˆæ˜¯åœ¨å“ªå„¿ï¼Œéœ€è¦æ’é™¤ç³»ç»Ÿè‡ªèº«è®¾ç½®çš„å½±å“ï¼Œå¦‚å•è¿›ç¨‹æœ€å¤§æ‰“å¼€æ–‡ä»¶ä¸ªæ•°é™åˆ¶ï¼Œç³»ç»Ÿæœ€å¤§fdä¸ªæ•°é™åˆ¶ã€nginxæœ€å¤§connectionsç­‰é™åˆ¶<br>3ã€å…¶å®ƒçš„æˆ‘æš‚æ—¶æ²¡æ¶‰åŠåˆ°ï¼Œå¾…è¡¥å……ğŸ¥·â€¦â€¦","like_count":0},{"had_liked":false,"id":350213,"user_name":"ç«¹å½±","can_delete":false,"product_type":"c1","uid":1211289,"ip_address":"","ucode":"182FC1A9ECBEF3","user_header":"https://static001.geekbang.org/account/avatar/00/12/7b/99/4f5857a8.jpg","comment_is_top":false,"comment_ctime":1656663434,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1656663434","product_id":100020901,"comment_content":"è€å¸ˆï¼Œä¸ä½¿ç”¨sudoå¯ä»¥æŸ¥åˆ°æœ¬æœºç›‘å¬çš„ç«¯å£å¯¹åº”çš„è¿›ç¨‹ä¿¡æ¯å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1211289,"avatar":"https://static001.geekbang.org/account/avatar/00/12/7b/99/4f5857a8.jpg","nickname":"ç«¹å½±","note":"","ucode":"182FC1A9ECBEF3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580458,"discussion_content":"çœ‹èµ·æ¥ä¸è¡Œï¼Œå¯ä»¥ç»™netstatåŠ sæƒé™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658193161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337119,"user_name":"return","can_delete":false,"product_type":"c1","uid":1135528,"ip_address":"","ucode":"42B8A3380DF04B","user_header":"https://static001.geekbang.org/account/avatar/00/11/53/a8/abc96f70.jpg","comment_is_top":false,"comment_ctime":1646634119,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646634119","product_id":100020901,"comment_content":"è¯·å‡è€å¸ˆï¼Œ æŸ¥ä¸¢åŒ…ç‡å°±æ˜¯ç”¨ ping æ˜¯å—ã€‚","like_count":0},{"had_liked":false,"id":327687,"user_name":"Ansyear","can_delete":false,"product_type":"c1","uid":1629257,"ip_address":"","ucode":"489CE96852EA2C","user_header":"https://static001.geekbang.org/account/avatar/00/18/dc/49/43ae1627.jpg","comment_is_top":false,"comment_ctime":1640238684,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640238684","product_id":100020901,"comment_content":"ä»€ä¹ˆæ˜¯å­¤å„¿å¥—æ¥å­—ï¼Ÿ","like_count":0},{"had_liked":false,"id":323231,"user_name":"kevinsu","can_delete":false,"product_type":"c1","uid":1078506,"ip_address":"","ucode":"BAD46B815D6A5C","user_header":"https://static001.geekbang.org/account/avatar/00/10/74/ea/10661bdc.jpg","comment_is_top":false,"comment_ctime":1637776250,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637776250","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæœ‰æ²¡æœ‰å…³äºåè®®æ ˆä¼˜åŒ–çš„æ–‡ç« ï¼Ÿ","like_count":0},{"had_liked":false,"id":320659,"user_name":"Ansyear","can_delete":false,"product_type":"c1","uid":1629257,"ip_address":"","ucode":"489CE96852EA2C","user_header":"https://static001.geekbang.org/account/avatar/00/18/dc/49/43ae1627.jpg","comment_is_top":false,"comment_ctime":1636442059,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636442059","product_id":100020901,"comment_content":"å½“å¥—æ¥å­—å¤„äºç›‘å¬çŠ¶æ€ï¼ˆListeningï¼‰æ—¶ï¼Œæ­¤æ—¶ä¸åº”è¯¥æ˜¯åŠé˜Ÿåˆ—å—ï¼Œä¸ºä»€ä¹ˆSend-Q è¡¨ç¤ºå…¨è¿æ¥é˜Ÿåˆ—çš„æœ€å¤§é•¿åº¦ï¼ŒRecv-Qä¹Ÿæ˜¯è¯´çš„å…¨é˜Ÿåˆ—ï¼Ÿ","like_count":0},{"had_liked":false,"id":311450,"user_name":"AceslupK","can_delete":false,"product_type":"c1","uid":1284474,"ip_address":"","ucode":"048F84D019CBBB","user_header":"https://static001.geekbang.org/account/avatar/00/13/99/7a/558666a5.jpg","comment_is_top":false,"comment_ctime":1631240527,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631240527","product_id":100020901,"comment_content":"ç½‘ç»œé—®é¢˜æ›´å¤æ‚ï¼Œç»§ç»­è®¤çœŸå­¦ä¹ ","like_count":0},{"had_liked":false,"id":289305,"user_name":"è„±ç¼°çš„é‡é©¬__","can_delete":false,"product_type":"c1","uid":1447569,"ip_address":"","ucode":"D5F993E7232C61","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/WtHCCMoLJ2DvzqQwPYZyj2RlN7eibTLMHDMTSO4xIKjfKR1Eh9L98AMkkZY7FmegWyGLahRQJ5ibPzeeFtfpeSow/132","comment_is_top":false,"comment_ctime":1618974379,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618974379","product_id":100020901,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæ€¥é—®ä¸€ä¸ªé—®é¢˜ï¼Œæœ‰ä¸€ä¸ªçº¿ä¸ŠæœåŠ¡æˆ‘é€šè¿‡netstat -anlp | grep port æŸ¥çœ‹æœ‰ä¸€åƒå¤šæ¡ä¿¡æ¯ï¼Œç™¾åˆ†ä¹‹95ä¸€ç›´å¤„äºclose_waitçŠ¶æ€ï¼Œå¹¶ä¸”Recv-Qéƒ½æ˜¾ç¤ºçš„æ˜¯257ï¼Œæœ‰äº›ESTABLISHEDçŠ¶æ€çš„Recv-QåŸºæœ¬éƒ½æ˜¯625ã€626ï¼Œè¿˜æœ‰å°±æ˜¯è¿™ä¸ªå‘½ä»¤æ˜¾ç¤ºçš„è¡Œé‡Œé¢è¿˜æœ‰å¾ˆå¤šForeign Addressæ˜¯è¿™å°æœºå™¨è‡ªå·±çš„IPï¼Œåªæ˜¯ç«¯å£å·æ˜¯ä¸´æ—¶çš„ç«¯å£å·ï¼Œè€Œä¸”è¿™ç§è¡Œçš„Recv-Qéƒ½æ˜¯1ï¼Œè€å¸ˆçœ‹çœ‹è¿™å¯èƒ½æ˜¯ä»€ä¹ˆé—®é¢˜å‘¢","like_count":0},{"had_liked":false,"id":277900,"user_name":"Geek_leesom","can_delete":false,"product_type":"c1","uid":2407946,"ip_address":"","ucode":"47DE1CFF50556A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Pf1R6hXvuoBny0Gc3mwyQLic8GUDogYpxehHOlq3pbgnTlIvyMDjkRXNWoa7DNeY249QuhRaTtyiaTqEay5YCfMg/132","comment_is_top":false,"comment_ctime":1612665299,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612665299","product_id":100020901,"comment_content":"æ˜¥èŠ‚å±…å®¶å°±é è¿™ä¸ªäº†","like_count":0},{"had_liked":false,"id":270438,"user_name":"Geek_77a14f","can_delete":false,"product_type":"c1","uid":2116919,"ip_address":"","ucode":"EB71258E219A6D","user_header":"","comment_is_top":false,"comment_ctime":1609126657,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609126657","product_id":100020901,"comment_content":" sar å‘½ä»¤ä¸­çš„ rxcmp&#47;s å’Œ txcmp&#47;s åˆ†åˆ«æ˜¯æ¥æ”¶å’Œå‘é€çš„å‹ç¼©æ•°æ®åŒ…æ•°ï¼Œå•ä½æ˜¯åŒ… &#47; ç§’ã€‚è¿™ä¸ªå‹ç¼©æ•°æ®åŒ…æŒ‡çš„ä»€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":228293,"user_name":"Roy","can_delete":false,"product_type":"c1","uid":1930723,"ip_address":"","ucode":"909B8B605C317A","user_header":"https://static001.geekbang.org/account/avatar/00/1d/75/e3/ef489d57.jpg","comment_is_top":false,"comment_ctime":1592635590,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592635590","product_id":100020901,"comment_content":"å¹³æ—¶ç†è§£çš„ç½‘ç»œæ€§èƒ½æŒ‡æ ‡æœ‰ï¼Œå¸¦å®½ï¼Œç½‘ç»œé€Ÿåº¦ï¼Œååé‡ï¼Œä»¥å‰å­¦æ ¡ä¹Ÿæœ‰å­¦ä¹ è¯¾ç¨‹é‡Œçš„æŒ‡æ ‡ï¼Œä¸è¿‡ç»™å¿˜äº†","like_count":0},{"had_liked":false,"id":217120,"user_name":"Bitstream","can_delete":false,"product_type":"c1","uid":1434089,"ip_address":"","ucode":"51FB631A70B52C","user_header":"https://static001.geekbang.org/account/avatar/00/15/e1/e9/29b62c57.jpg","comment_is_top":false,"comment_ctime":1589422699,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589422699","product_id":100020901,"comment_content":"å¸¦å®½è¡¨ç¤ºâ€œæœ€å¤§â€ä¼ è¾“é€Ÿç‡ï¼Œè¿™ä¸ªâ€œæœ€å¤§â€ç†è®ºå’Œå®é™…å¯èƒ½æœ‰å·®åˆ«ï¼ŒåŒ…æ‹¬å—åˆ°æµ‹è¯•ç”¨æœºå™¨çš„æ€§èƒ½å½±å“ã€‚é‚£ä¹ˆå¦‚ä½•å®¢è§‚çš„æµ‹é‡å¸¦å®½å‘¢ï¼Ÿåªæ˜¯ç®€å•çš„è·‘ä¸€è·‘iperfï¼Œæ„Ÿè§‰ä¸å¤ªèƒ½è¯´æ˜é—®é¢˜å•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":185129,"user_name":"winfield","can_delete":false,"product_type":"c1","uid":1216930,"ip_address":"","ucode":"6A5E1B449328C9","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIQMh5jMlvAibnTgiaVXmsb333JBjpdvLVcptc232zQey5wkBOEPiauepQpv8UlRcOFqnTyhEQiadaHMA/132","comment_is_top":false,"comment_ctime":1583491414,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1583491414","product_id":100020901,"comment_content":"%ifutil æ˜¯ç½‘ç»œæ¥å£çš„ä½¿ç”¨ç‡ï¼Œå³åŠåŒå·¥æ¨¡å¼ä¸‹ä¸º (rxkB&#47;s+txkB&#47;s)&#47;Bandwidthï¼Œè€Œå…¨åŒå·¥æ¨¡å¼ä¸‹ä¸º max(rxkB&#47;s, txkB&#47;s)&#47;Bandwidth<br>æ„Ÿè§‰è¿™é‡Œåäº†ï¼Œä¸çŸ¥é“ç†è§£å¾—å¯¹ä¸å¯¹","like_count":0,"discussions":[{"author":{"id":1811495,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a4/27/15e75982.jpg","nickname":"å°è¢","note":"","ucode":"3F5D8721F577D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":268007,"discussion_content":"åŠåŒå·¥æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªæ–¹å‘workï¼Œä½ å“ï¼Œç»†å“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589723042,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000004,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/44/d3d67640.jpg","nickname":"Hillså½•","note":"","ucode":"779020947ACABA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":214431,"discussion_content":"å¦‚æœå¸¦å®½ç›¸åŒï¼Œç›¸åŒè¯»å†™é€Ÿç‡çš„æƒ…å†µçš„ï¼Œå…¨åŒå·¥çš„ä½¿ç”¨ç‡ä¼šæ›´ä½ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰å","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585192524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":153407,"user_name":"é¡ºåˆ©","can_delete":false,"product_type":"c1","uid":1618652,"ip_address":"","ucode":"C904941C8BA6DA","user_header":"https://static001.geekbang.org/account/avatar/00/18/b2/dc/67e0e985.jpg","comment_is_top":false,"comment_ctime":1574231498,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574231498","product_id":100020901,"comment_content":"æ„Ÿè§‰ç½‘ç»œç« èŠ‚æœ‰ç‚¹éš¾å‘€è€å¸ˆ","like_count":0},{"had_liked":false,"id":143818,"user_name":"å¤©è‰äºŒåå…­","can_delete":false,"product_type":"c1","uid":1360712,"ip_address":"","ucode":"3165EE3007527B","user_header":"https://static001.geekbang.org/account/avatar/00/14/c3/48/3a739da6.jpg","comment_is_top":false,"comment_ctime":1571795183,"is_pvip":false,"replies":[{"id":"55573","content":"ç‰¹å®šç¨‹åºçš„ä¸¢åŒ…ç‡ï¼Œæœ€ç®€å•çš„æ˜¯åœ¨ç¨‹åºä¸­è®¡ç®—æ±‡æ€»","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1571839405,"ip_address":"","comment_id":143818,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1571795183","product_id":100020901,"comment_content":"è¯·æ•™ä¸‹ï¼šä¸¢åŒ…ç‡ï¼Œè®¡ç®—å®¢æˆ·ç«¯ç¨‹åºåˆ°IDCæœºæˆ¿çš„ï¼Œä¸€èˆ¬ä½¿ç”¨ä»€ä¹ˆé‡åŒ–å·¥å…·ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471704,"discussion_content":"ç‰¹å®šç¨‹åºçš„ä¸¢åŒ…ç‡ï¼Œæœ€ç®€å•çš„æ˜¯åœ¨ç¨‹åºä¸­è®¡ç®—æ±‡æ€»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571839405,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122346,"user_name":"å±±é·¹Â·China","can_delete":false,"product_type":"c1","uid":1146178,"ip_address":"","ucode":"1A13AAC813C1C8","user_header":"https://static001.geekbang.org/account/avatar/00/11/7d/42/c324a7de.jpg","comment_is_top":false,"comment_ctime":1565344025,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565344025","product_id":100020901,"comment_content":"è€å¸ˆ æ€ä¹ˆæŸ¥çœ‹tcpè¢«æ‹’ç»è¿æ¥çš„ç»Ÿè®¡ä¿¡æ¯ï¼Ÿ","like_count":0},{"had_liked":false,"id":110879,"user_name":"é­ä¹","can_delete":false,"product_type":"c1","uid":1233832,"ip_address":"","ucode":"B6D50018BE67E7","user_header":"https://static001.geekbang.org/account/avatar/00/12/d3/a8/91eed372.jpg","comment_is_top":false,"comment_ctime":1562382884,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562382884","product_id":100020901,"comment_content":"æ‰“å¡","like_count":0},{"had_liked":false,"id":101259,"user_name":"å­™æˆå­","can_delete":false,"product_type":"c1","uid":1317819,"ip_address":"","ucode":"7DF58E9202FC60","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/bb/4a749b6c.jpg","comment_is_top":false,"comment_ctime":1559753400,"is_pvip":false,"replies":[{"id":"37107","content":"è°¢è°¢ï¼Œä¹Ÿæ¬¢è¿åˆ†äº«ä½ çš„ç»éªŒ","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1560261322,"ip_address":"","comment_id":101259,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1559753400","product_id":100020901,"comment_content":"æ¯ä¸€ç¯‡éƒ½æ˜¯ç²¾åï¼Œ éœ€è¦å¤šçœ‹å‡ éï¼Œå¤šæ€è€ƒã€‚è°¢è°¢è€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452876,"discussion_content":"è°¢è°¢ï¼Œä¹Ÿæ¬¢è¿åˆ†äº«ä½ çš„ç»éªŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560261322,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":97412,"user_name":"æé€é¥","can_delete":false,"product_type":"c1","uid":1109750,"ip_address":"","ucode":"DB74823527E203","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/xzHDjCSFicNY3MUMECtNz6sM8yDJhBoyGk5IRoOtUat6ZIkGzxjqEqwqKYWMD3GjehScKvMjicGOGDog5FF18oyg/132","comment_is_top":false,"comment_ctime":1558666180,"is_pvip":false,"replies":[{"id":"34978","content":"è¯·å‚è€ƒæœ¬æ–‡çš„â€œå¥—æ¥å­—ä¿¡æ¯â€éƒ¨åˆ†","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1558794065,"ip_address":"","comment_id":97412,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558666180","product_id":100020901,"comment_content":"æ¸©ä¹ ä¸€éï¼Œæœ‰ä¸ªç–‘é—®ï¼Œå¥—æ¥å­— ListeningçŠ¶æ€æ—¶ï¼Œ Send-Q è¡¨ç¤ºçš„æ˜¯å…¨è¿æ¥ æœ€å¤§å€¼å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":451274,"discussion_content":"è¯·å‚è€ƒæœ¬æ–‡çš„â€œå¥—æ¥å­—ä¿¡æ¯â€éƒ¨åˆ†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558794065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96599,"user_name":"zhoufeng","can_delete":false,"product_type":"c1","uid":1447741,"ip_address":"","ucode":"6F92F7866F9EB4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKq0oQVibKcmYJqmpqaNNQibVgia7EsEgW65LZJIpDZBMc7FyMcs7J1JmFCtp06pY8ibbcpW4ibRtG7Frg/132","comment_is_top":false,"comment_ctime":1558456454,"is_pvip":false,"replies":[{"id":"34976","content":"ğŸ˜Š","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1558794020,"ip_address":"","comment_id":96599,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558456454","product_id":100020901,"comment_content":"å¤ªèµäº†ï¼Œç»“è¯¾è¿™ä¹ˆä¹…äº†è¿˜èƒ½æ”¶åˆ°è€å¸ˆçš„å›å¤ï¼Œè€å¸ˆä¸¥è°¨è´Ÿè´£ã€‚","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450928,"discussion_content":"ğŸ˜Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558794020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80031,"user_name":"Maxwell","can_delete":false,"product_type":"c1","uid":1086275,"ip_address":"","ucode":"720A00AD472616","user_header":"https://static001.geekbang.org/account/avatar/00/10/93/43/0e84492d.jpg","comment_is_top":false,"comment_ctime":1553596319,"is_pvip":false,"replies":[{"id":"29199","content":"æ˜¯çš„ï¼Œè¦å‡çº§åˆ°æ–°ç‰ˆæœ¬çš„saræ‰æœ‰","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1553610749,"ip_address":"","comment_id":80031,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553596319","product_id":100020901,"comment_content":"centos 6.8æ‰§è¡Œ sar å‘½ä»¤æ²¡æœ‰%ifutil,è¿™ä¸ªæŒ‡æ ‡å¯ä»¥ç†è§£ä¸ºç½‘ç»œåˆ©ç”¨ç‡å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444730,"discussion_content":"æ˜¯çš„ï¼Œè¦å‡çº§åˆ°æ–°ç‰ˆæœ¬çš„saræ‰æœ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553610749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78780,"user_name":"å¦‚æœ","can_delete":false,"product_type":"c1","uid":1320638,"ip_address":"","ucode":"138A3EEEE50850","user_header":"","comment_is_top":false,"comment_ctime":1553239855,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553239855","product_id":100020901,"comment_content":"DAY34ï¼Œæ‰“å¡","like_count":0},{"had_liked":false,"id":75880,"user_name":"Griffin","can_delete":false,"product_type":"c1","uid":1087329,"ip_address":"","ucode":"CF766B92A65261","user_header":"https://static001.geekbang.org/account/avatar/00/10/97/61/34a0da09.jpg","comment_is_top":false,"comment_ctime":1552487102,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552487102","product_id":100020901,"comment_content":"æ‰“å¡ï½","like_count":0},{"had_liked":false,"id":70203,"user_name":"MJ","can_delete":false,"product_type":"c1","uid":1237145,"ip_address":"","ucode":"FCEC0C21444D2A","user_header":"https://static001.geekbang.org/account/avatar/00/12/e0/99/5d603697.jpg","comment_is_top":false,"comment_ctime":1551051171,"is_pvip":false,"replies":[{"id":"25348","content":"å—¯å—¯ï¼Œåˆ†ä¸ºæ¥æ”¶å’Œå‘é€","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1551194736,"ip_address":"","comment_id":70203,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551051171","product_id":100020901,"comment_content":"è€å¸ˆï¼Œå¸¦å®½å’Œååé‡æŒ‡æ ‡ã€‚åŒºåˆ†ä¸Šä¸‹è¡Œå—ï¼Œï¼Ÿè¿˜æ˜¯ç»Ÿè®¡æ€»é‡ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440490,"discussion_content":"å—¯å—¯ï¼Œåˆ†ä¸ºæ¥æ”¶å’Œå‘é€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551194736,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69196,"user_name":"--SNIPER","can_delete":false,"product_type":"c1","uid":1389362,"ip_address":"","ucode":"7439EC0458BD7F","user_header":"https://static001.geekbang.org/account/avatar/00/15/33/32/8f304f6c.jpg","comment_is_top":false,"comment_ctime":1550676047,"is_pvip":false,"replies":[{"id":"25325","content":"æ³¨æ„åŒºåˆ†ä¸‹çŠ¶æ€ï¼ŒEstablished çŠ¶æ€è¡¨ç¤ºå­—èŠ‚æ•°ï¼Œ500åº”è¯¥æ˜¯æ­£å¸¸çš„ï¼›Listening çŠ¶æ€çš„è¯ï¼Œå¯ä»¥å»æŸ¥æŸ¥åŠè¿æ¥","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1551193047,"ip_address":"","comment_id":69196,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550676047","product_id":100020901,"comment_content":"è€å¸ˆå¥½ï¼Œnetstat -anu è¾“å‡ºä¸­ï¼šç½‘å¡æ”¶å‘é˜Ÿåˆ—æ—¶ä¸æ—¶çš„ä¼šæ’é˜Ÿ500ï¼Œè¿™ç§è¯¥å¦‚ä½•å†æ·±å…¥æ’æŸ¥ä¸‹æ˜¯å“ªé‡Œçš„é—®é¢˜","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439994,"discussion_content":"æ³¨æ„åŒºåˆ†ä¸‹çŠ¶æ€ï¼ŒEstablished çŠ¶æ€è¡¨ç¤ºå­—èŠ‚æ•°ï¼Œ500åº”è¯¥æ˜¯æ­£å¸¸çš„ï¼›Listening çŠ¶æ€çš„è¯ï¼Œå¯ä»¥å»æŸ¥æŸ¥åŠè¿æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551193047,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":66462,"user_name":"èš‚èšå†…æ¨+v","can_delete":false,"product_type":"c1","uid":1050508,"ip_address":"","ucode":"24B10AEE54B3FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/8c/0d886dcc.jpg","comment_is_top":false,"comment_ctime":1549942149,"is_pvip":false,"replies":[{"id":"23733","content":"å—¯å—¯ï¼Œæœ‰ç‚¹åˆ«æ‰­ï¼Œæˆ‘æ¥ç¨å¾®è°ƒæ•´ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550070954,"ip_address":"","comment_id":66462,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1549942149","product_id":100020901,"comment_content":"ååé‡ï¼Œè¡¨ç¤ºæ²¡ä¸¢åŒ…æ—¶çš„æœ€å¤§æ•°æ®ä¼ è¾“é€Ÿç‡<br>è¿™ä¸ªç¿»è¯‘æœ‰ç‚¹é—®é¢˜ï¼Ÿ<br>Throughput is how much data actually does travel through the &#39;channel&#39; successfully.","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438808,"discussion_content":"å—¯å—¯ï¼Œæœ‰ç‚¹åˆ«æ‰­ï¼Œæˆ‘æ¥ç¨å¾®è°ƒæ•´ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550070954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65960,"user_name":"Geek_33409b","can_delete":false,"product_type":"c1","uid":1112756,"ip_address":"","ucode":"9C64C42F799403","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/b4/6892eabe.jpg","comment_is_top":false,"comment_ctime":1549802676,"is_pvip":false,"replies":[{"id":"23681","content":"ç›‘æ§å°±æ˜¯æœ€å¥½çš„æ–¹æ³•äº†ã€‚ä»å…¶ä»–æœºå™¨ä¸Šä¹Ÿå¯ä»¥Telnetåˆ°è·¯ç”±å™¨ä¸ŠæŸ¥çœ‹","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550065542,"ip_address":"","comment_id":65960,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1549802676","product_id":100020901,"comment_content":"è€å¸ˆï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥çŸ¥é“è·¯ç”±å™¨çš„å¸¦å®½æ˜¯ä¸æ˜¯è¢«æ‰“æ»¡äº†ï¼Ÿé™¤äº†è·¯ç”±å™¨çš„å›¾å½¢ç›‘æ§ä¹‹å¤–ã€‚æ€ä¹ˆä»è¿æ¥åˆ°è·¯ç”±å™¨ä¸Šçš„æœºå™¨çŸ¥é“è·¯ç”±å™¨çš„å¸¦å®½æƒ…å†µï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438659,"discussion_content":"ç›‘æ§å°±æ˜¯æœ€å¥½çš„æ–¹æ³•äº†ã€‚ä»å…¶ä»–æœºå™¨ä¸Šä¹Ÿå¯ä»¥Telnetåˆ°è·¯ç”±å™¨ä¸ŠæŸ¥çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550065542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65765,"user_name":"Scott","can_delete":false,"product_type":"c1","uid":1014800,"ip_address":"","ucode":"7E57FDCB5E5D49","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/10/165cb374.jpg","comment_is_top":false,"comment_ctime":1549630668,"is_pvip":false,"replies":[{"id":"23689","content":"ç”¨äº† -l é€‰é¡¹æŠŠå…¶ä»–éç›‘å¬çš„è¿æ¥éƒ½è¿‡æ»¤æ‰äº†ï¼Œå»æ‰ -l å°±å¯ä»¥äº†","user_name":"ä½œè€…å›å¤","user_name_real":"å€ªæœ‹é£","uid":"1001282","ctime":1550066166,"ip_address":"","comment_id":65765,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1549630668","product_id":100020901,"comment_content":"ä½ å¥½ï¼Œæˆ‘manä¸€ä¸‹netstatï¼Œçœ‹åˆ°Foreign Addressçš„å®šä¹‰å¦‚ä¸‹<br>Foreign Address<br>       Address and port number of the remote end of the socket.  Analogous to &quot;Local Address.&quot;<br><br>è¯·æ•™ä¸€ä¸‹ï¼Œæˆ‘ç”¨netstat -nlpçœ‹åˆ°çš„Foreign Addresséƒ½æ˜¯0.0.0.0:*ï¼Œæˆ‘ç‰¹æ„æµè§ˆå™¨å¼€äº†ä¸€ä¸ªä¸‹è½½ï¼Œä¾ç„¶çœ‹åˆ°éƒ½æ˜¯è¿™æ ·ã€‚<br>","like_count":0,"discussions":[{"author":{"id":1001282,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/47/42/5b55bd1a.jpg","nickname":"å€ªæœ‹é£","note":"","ucode":"F0FAC195CDE7AC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438577,"discussion_content":"ç”¨äº† -l é€‰é¡¹æŠŠå…¶ä»–éç›‘å¬çš„è¿æ¥éƒ½è¿‡æ»¤æ‰äº†ï¼Œå»æ‰ -l å°±å¯ä»¥äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550066166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
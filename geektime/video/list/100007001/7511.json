{"id":7511,"title":"23 | ä¸‹ä¸€ä»£å¾®æœåŠ¡å®‰å…¨æ¶æ„","content":"æ— ","comments":[{"had_liked":false,"id":54966,"user_name":"å°çŒ´å­","can_delete":false,"product_type":"c3","uid":1297538,"ip_address":"","ucode":"0BC6903BBEC7B0","user_header":"https://static001.geekbang.org/account/avatar/00/13/cc/82/cbf38ad4.jpg","comment_is_top":false,"comment_ctime":1545989602,"is_pvip":false,"replies":[{"id":19934,"content":"jwtæ˜¯æ— çŠ¶æ€è‡ªåŒ…å«è‡ªéªŒè¯ï¼Œå®ç°æ¯”è¾ƒè½»é‡ï¼Œç›®å‰ä¸šç•Œè›®æµè¡Œçš„ï¼Œå¾ˆå¤šåº”ç”¨é‡‡ç”¨jwtï¼Œå› ä¸ºå¤§éƒ¨åˆ†åº”ç”¨åœºæ™¯å®‰å…¨å¹¶ä¸éå¸¸ä¸¥æ ¼ï¼Œå¦å¤–jwtä¹Ÿå¯åˆç†ç¼©çŸ­æœ‰æ•ˆæœŸï¼Œæˆ–åœ¨ç½‘å…³ä¸Šè¿›ä¸€æ­¥å®šåˆ¶åŠ å¼ºå®‰å…¨éªŒè¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1546004651,"ip_address":"","comment_id":54966,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"è€å¸ˆä½ çš„ä¸‹ä¸€ä»£å¾®æœåŠ¡å®‰å…¨æ¶æ„ä¸­ç¬¬äºŒç§æ¨¡å¼ç”¨æˆ·å¸¦ç€JWTåˆ°ç½‘å…³ä¸ç»è¿‡æˆæƒæœåŠ¡å™¨å†æ¬¡éªŒè¯å®Œå…¨å°±æ˜¯æœ‰é—®é¢˜ä¸å®‰å…¨çš„ä¸ºå•¥è¿˜è®²è¿™ç§ï¼Ÿä¸ºå•¥è¦çœä¸€æ­¥æ“ä½œåŸ‹ä¸‹è¿™ä¹ˆå¤§çš„éšæ‚£ï¼Ÿè¿™æ˜¯ä¼ä¸šçº§åº”ç”¨ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434632,"discussion_content":"jwtæ˜¯æ— çŠ¶æ€è‡ªåŒ…å«è‡ªéªŒè¯ï¼Œå®ç°æ¯”è¾ƒè½»é‡ï¼Œç›®å‰ä¸šç•Œè›®æµè¡Œçš„ï¼Œå¾ˆå¤šåº”ç”¨é‡‡ç”¨jwtï¼Œå› ä¸ºå¤§éƒ¨åˆ†åº”ç”¨åœºæ™¯å®‰å…¨å¹¶ä¸éå¸¸ä¸¥æ ¼ï¼Œå¦å¤–jwtä¹Ÿå¯åˆç†ç¼©çŸ­æœ‰æ•ˆæœŸï¼Œæˆ–åœ¨ç½‘å…³ä¸Šè¿›ä¸€æ­¥å®šåˆ¶åŠ å¼ºå®‰å…¨éªŒè¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546004651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1388421,"avatar":"https://static001.geekbang.org/account/avatar/00/15/2f/85/9d1230c9.jpg","nickname":"Bootis","note":"","ucode":"834251DC0FE2E7","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5631,"discussion_content":"æ‰€ä»¥è¯´JWTä¹Ÿæ˜¯ç»è¿‡åŠ å¯†çš„å•Š...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566393202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":24511,"user_name":"shine","can_delete":false,"product_type":"c3","uid":1071839,"ip_address":"","ucode":"433D7B2527DA31","user_header":"https://static001.geekbang.org/account/avatar/00/10/5a/df/bdf673f7.jpg","comment_is_top":false,"comment_ctime":1537095689,"is_pvip":false,"replies":[{"id":9639,"content":"oauth2æ˜¯ä¸€ä¸ªæˆæƒæ¡†æ¶å’Œè§„èŒƒï¼Œè¿™ä¸ªè§„èŒƒè¯•å›¾è¦†ç›–ä¸»è¦çš„å¾®æœåŠ¡å®‰å…¨åœºæ™¯ï¼ˆç¬¬ä¸‰æ–¹è®¿é—®ï¼Œæ— çº¿åº”ç”¨ï¼Œä¼ä¸šå†…éƒ¨åº”ç”¨ï¼‰ï¼Œç›®å‰åœ¨ç¬¬ä¸‰æ–¹è®¿é—®å’Œæ— çº¿åº”ç”¨ç”¨å¾—æ¯”è¾ƒå¤šï¼Œä¼ä¸šå†…éƒ¨ï¼ˆåŒ…æ‹¬å†…éƒ¨å¾®æœåŠ¡é—´è°ƒç”¨ï¼‰å…¶å®æ²¡æœ‰è¿™ä¹ˆä¸¥æ ¼ï¼Œå„ç§ä¸åŒåšæ³•ï¼ˆä¼ ç»Ÿtokenï¼Œkeyï¼Œç”¨æˆ·å&#47;å¯†ç ï¼Œipé»‘ç™½åå•ç­‰ï¼‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1537678886,"ip_address":"","comment_id":24511,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"OAuthæ˜¯ä¸ºè®¿é—®ç¬¬ä¸‰æ–¹èµ„æºè®¾è®¡çš„ï¼Œå¾®æœåŠ¡æ¶æ„ä¸‹ï¼Œè®¿é—®çš„éƒ½æ˜¯è‡ªèº«çš„èµ„æºï¼Œä¼ ç»ŸåŸºäºTokenæˆæƒæ¡†æ¶å®Œå…¨é€‚ç”¨ï¼Œæ•´ä½“å®ç°æ¯”OAuthè¦ç®€åŒ–ä¸å°‘ï¼Œé‚£ä¹ˆå¼•å…¥OAuthä½œä¸ºåº”ç”¨çš„æˆæƒæ¡†æ¶çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424013,"discussion_content":"oauth2æ˜¯ä¸€ä¸ªæˆæƒæ¡†æ¶å’Œè§„èŒƒï¼Œè¿™ä¸ªè§„èŒƒè¯•å›¾è¦†ç›–ä¸»è¦çš„å¾®æœåŠ¡å®‰å…¨åœºæ™¯ï¼ˆç¬¬ä¸‰æ–¹è®¿é—®ï¼Œæ— çº¿åº”ç”¨ï¼Œä¼ä¸šå†…éƒ¨åº”ç”¨ï¼‰ï¼Œç›®å‰åœ¨ç¬¬ä¸‰æ–¹è®¿é—®å’Œæ— çº¿åº”ç”¨ç”¨å¾—æ¯”è¾ƒå¤šï¼Œä¼ä¸šå†…éƒ¨ï¼ˆåŒ…æ‹¬å†…éƒ¨å¾®æœåŠ¡é—´è°ƒç”¨ï¼‰å…¶å®æ²¡æœ‰è¿™ä¹ˆä¸¥æ ¼ï¼Œå„ç§ä¸åŒåšæ³•ï¼ˆä¼ ç»Ÿtokenï¼Œkeyï¼Œç”¨æˆ·å/å¯†ç ï¼Œipé»‘ç™½åå•ç­‰ï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537678886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":9637,"user_name":"å¼ é¡ºé’","can_delete":false,"product_type":"c3","uid":1134920,"ip_address":"","ucode":"C706CB3C7A242A","user_header":"https://static001.geekbang.org/account/avatar/00/11/51/48/b650e854.jpg","comment_is_top":false,"comment_ctime":1526997969,"is_pvip":false,"replies":[{"id":3051,"content":"è°¢è°¢åé¦ˆğŸŒ¹ä¼šåé¦ˆç»™æå®¢æ—¶é—´","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1527162937,"ip_address":"","comment_id":9637,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"ä¸èƒ½ç¼“å­˜ä¸‹æ¥çœ‹å—","like_count":3,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418144,"discussion_content":"è°¢è°¢åé¦ˆğŸŒ¹ä¼šåé¦ˆç»™æå®¢æ—¶é—´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1527162937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":24510,"user_name":"shine","can_delete":false,"product_type":"c3","uid":1071839,"ip_address":"","ucode":"433D7B2527DA31","user_header":"https://static001.geekbang.org/account/avatar/00/10/5a/df/bdf673f7.jpg","comment_is_top":false,"comment_ctime":1537095293,"is_pvip":false,"replies":[{"id":9640,"content":"pptä¸­ï¼Œç½‘å…³ä¸Šçš„OAuth Filterä¸»è¦ç”¨äºaccess tokenæ ¡éªŒï¼Œè·å–jwt tokenï¼›æœåŠ¡ä¸Šçš„OAuth Filterï¼Œä¸»è¦ç”¨äºjwtçš„è§£é‡Šï¼Œè·å–ç”¨æˆ·å’Œæƒé™ç­‰ä¿¡æ¯ï¼Œå¡«å……SecurityContextç±»ä¼¼æ„ä»¶ã€‚ç”¨æˆ·æƒé™åœ¨å“ªé‡Œåšï¼Ÿæ—¢å¯ä»¥åœ¨ç½‘å…³ä¸Šé›†ä¸­åšï¼Œä¹Ÿå¯ä»¥åœ¨æœåŠ¡ç«¯è‡ªå·±åšï¼Œéƒ½èƒ½åšåˆ°ï¼Œå„æœ‰ä¼˜åŠ£ï¼Œè§†ä¼ä¸šå’Œæ¶æ„ä¸Šä¸‹æ–‡é€‰æ‹©å³å¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1537679188,"ip_address":"","comment_id":24510,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"ç½‘å…³çš„OAuth Filterå’ŒæœåŠ¡çš„OAuth Filterå…·ä½“åˆ†åˆ«å¤„ç†ä»€ä¹ˆï¼Ÿè¯·æ±‚èµ„æºæœåŠ¡æ¥å£æ—¶ï¼Œæƒé™è®¿é—®æ§åˆ¶çš„æ­¥éª¤åº”è¯¥æ˜¯æ”¾åœ¨ç½‘å…³è¿˜æ˜¯å…·ä½“çš„æœåŠ¡ä¸Šï¼Ÿæ„Ÿè§‰ä½¿ç”¨ç½‘å…³ç»Ÿä¸€æ§åˆ¶å¤„ç†ï¼Œèƒ½è¦†ç›–å¤§éƒ¨åˆ†åœºæ™¯ï¼Œåº”è¯¥ä¼šæœ‰ä¸€äº›åœºæ™¯è¿˜æ˜¯éš¾ä»¥æ»¡è¶³ï¼Œæ¯”å¦‚ä¸€äº›æ•°æ®çº§çš„æƒé™ã€‚æ¯”å¦‚è®ºå›åˆ å¸–çš„åœºæ™¯ï¼Œç”¨æˆ·å¯ä»¥åˆ é™¤è‡ªå·±çš„å¸–å­ï¼Œç‰ˆä¸»å¯ä»¥åˆ ç®¡ç†çš„ç‰ˆå—ä¸‹çš„å¸–å­ï¼Œç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥åˆ æ‰€æœ‰å¸–å­ï¼Œå¦‚æœè¦åœ¨ç½‘å…³ç»Ÿä¸€å¤„ç†ï¼Œéœ€è¦åˆ†æˆ3ä¸ªç‹¬ç«‹çš„æœåŠ¡æ¥å£ï¼Œå¦‚æœåœ¨æœåŠ¡è‡ªèº«å¤„ç†ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªæ¥å£å†…æä¾›ã€‚","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424012,"discussion_content":"pptä¸­ï¼Œç½‘å…³ä¸Šçš„OAuth Filterä¸»è¦ç”¨äºaccess tokenæ ¡éªŒï¼Œè·å–jwt tokenï¼›æœåŠ¡ä¸Šçš„OAuth Filterï¼Œä¸»è¦ç”¨äºjwtçš„è§£é‡Šï¼Œè·å–ç”¨æˆ·å’Œæƒé™ç­‰ä¿¡æ¯ï¼Œå¡«å……SecurityContextç±»ä¼¼æ„ä»¶ã€‚ç”¨æˆ·æƒé™åœ¨å“ªé‡Œåšï¼Ÿæ—¢å¯ä»¥åœ¨ç½‘å…³ä¸Šé›†ä¸­åšï¼Œä¹Ÿå¯ä»¥åœ¨æœåŠ¡ç«¯è‡ªå·±åšï¼Œéƒ½èƒ½åšåˆ°ï¼Œå„æœ‰ä¼˜åŠ£ï¼Œè§†ä¼ä¸šå’Œæ¶æ„ä¸Šä¸‹æ–‡é€‰æ‹©å³å¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537679188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22080,"user_name":"å®›ç©","can_delete":false,"product_type":"c3","uid":1215965,"ip_address":"","ucode":"1DB61C7B54F6DC","user_header":"https://static001.geekbang.org/account/avatar/00/12/8d/dd/61f67f99.jpg","comment_is_top":false,"comment_ctime":1535472804,"is_pvip":false,"replies":[{"id":8126,"content":"access tokenå¦‚æœæ˜¯bearerçš„è¯ï¼Œå°±åƒé’±ä¸€æ ·ï¼Œåˆ«äººå·èµ°ä¹Ÿå¯ä»¥ç”¨çš„ï¼Œæ²¡æœ‰ç»å¯¹çš„å®‰å…¨ï¼Œä¸€èˆ¬ä¼ è¾“å±‚ç”¨httpsé˜²æˆªå–ï¼Œç„¶åç¼©çŸ­tokenè¿‡æœŸæ—¶é—´åˆ°å®‰å…¨å¯æ¥å—èŒƒå›´ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1535865357,"ip_address":"","comment_id":22080,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"access token è¢«ä»–ä»¬æˆªå–åï¼Œå¦‚ä½•ä¿è¯å…¶å®‰å…¨æ€§ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422991,"discussion_content":"access tokenå¦‚æœæ˜¯bearerçš„è¯ï¼Œå°±åƒé’±ä¸€æ ·ï¼Œåˆ«äººå·èµ°ä¹Ÿå¯ä»¥ç”¨çš„ï¼Œæ²¡æœ‰ç»å¯¹çš„å®‰å…¨ï¼Œä¸€èˆ¬ä¼ è¾“å±‚ç”¨httpsé˜²æˆªå–ï¼Œç„¶åç¼©çŸ­tokenè¿‡æœŸæ—¶é—´åˆ°å®‰å…¨å¯æ¥å—èŒƒå›´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535865357,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":20098,"user_name":"å­¦æ˜","can_delete":false,"product_type":"c3","uid":1033677,"ip_address":"","ucode":"1A499A2557F74D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c5/cd/7d3e4355.jpg","comment_is_top":false,"comment_ctime":1534259544,"is_pvip":false,"replies":[{"id":7235,"content":"ä¼ ç»Ÿå•å—webåº”ç”¨å¸¸ç”¨sessionå¼ä¼šè¯ï¼Œç°ä»£å¾®æœåŠ¡ä¸€èˆ¬ç”¨åŸºäºä»¤ç‰Œçš„åˆ†å¸ƒå¼ä¼šè¯ã€‚ä»¤ç‰Œtokenæœ‰æœ‰æ•ˆæœŸï¼Œå¯åœ¨èµ„æºç«¯ï¼ˆæˆ–é€šè¿‡ç½‘å…³é›†ä¸­ï¼‰é€šè¿‡æˆæƒæœåŠ¡å™¨é›†ä¸­æ ¡éªŒï¼Œè¿‡æœŸæ ¡éªŒä¸é€šè¿‡ã€‚å¦‚æœç”¨jwtä»¤ç‰Œï¼Œå†…å«è¿‡æœŸæ—¶é—´ï¼Œèµ„æºç«¯å¯è‡ªæ ¡éªŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1534650201,"ip_address":"","comment_id":20098,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"å“ï¼Œè¿™ä¸ªç•™è¨€ç‚¹åŠå¤©æ‰ç‚¹å¼€ã€‚\nè¯·æ•™é—®é¢˜ï¼Œä»¥å‰ä½¿ç”¨sessionæ¥ç®¡ç†ä¼šè¯ï¼ŒåŒäº‹æ§åˆ¶5åˆ†é’Ÿæ— æ´»è·ƒè¯·æ±‚å¤±æ•ˆï¼Œé‡æ–°ç™»å½•ã€‚å¦‚æœä½¿ç”¨tokençš„æ–¹å¼ï¼Œå¦‚ä½•æ–¹ä¾¿å®ç°å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422107,"discussion_content":"ä¼ ç»Ÿå•å—webåº”ç”¨å¸¸ç”¨sessionå¼ä¼šè¯ï¼Œç°ä»£å¾®æœåŠ¡ä¸€èˆ¬ç”¨åŸºäºä»¤ç‰Œçš„åˆ†å¸ƒå¼ä¼šè¯ã€‚ä»¤ç‰Œtokenæœ‰æœ‰æ•ˆæœŸï¼Œå¯åœ¨èµ„æºç«¯ï¼ˆæˆ–é€šè¿‡ç½‘å…³é›†ä¸­ï¼‰é€šè¿‡æˆæƒæœåŠ¡å™¨é›†ä¸­æ ¡éªŒï¼Œè¿‡æœŸæ ¡éªŒä¸é€šè¿‡ã€‚å¦‚æœç”¨jwtä»¤ç‰Œï¼Œå†…å«è¿‡æœŸæ—¶é—´ï¼Œèµ„æºç«¯å¯è‡ªæ ¡éªŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1534650201,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231540,"user_name":"Cutler","can_delete":false,"product_type":"c3","uid":1228136,"ip_address":"","ucode":"2EDECFE039845B","user_header":"https://static001.geekbang.org/account/avatar/00/12/bd/68/3fd6428d.jpg","comment_is_top":false,"comment_ctime":1593701213,"is_pvip":false,"replies":[{"id":85640,"content":"å¾ˆä¸“ä¸šğŸ‘\n\nåœ¨æˆ‘çš„å¦å¤–ä¸€é—¨è¯¾ã€ŠSpring Bootå’ŒKubernetesäº‘åŸç”Ÿå¾®æœåŠ¡å®è·µã€‹ä¸­ï¼Œä¸“é—¨è®²è§£äº†åŸºäºJWTä»¤ç‰Œçš„å¾®æœåŠ¡è®¤è¯æˆæƒæœºåˆ¶ã€‚JWTæ”¯æŒå¯¹ç§°æˆ–è€…å…¬ç§é’¥ç­¾åã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1593870862,"ip_address":"","comment_id":231540,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"å¦‚æœç”¨æˆ·è¢«è¯±å¯¼å®‰è£…äº†éæ³•çš„è¯ä¹¦ï¼Œhttpsä¹Ÿæ˜¯å¯ä»¥è¢«åŠ«æŒçš„ï¼Œç”¨æˆ·çš„access_tokenä¼šè¢«æ³„éœ²ï¼Œé»‘å®¢å°±å¯ä»¥åšä»»ä½•äº‹æƒ…äº†ã€‚\nè¿™ç§æƒ…å†µå¯ä»¥å¯¹è¯·æ±‚å‚æ•°è¿›è¡Œç­¾åï¼Œä¸ºé˜²æ­¢é‡æ”¾æ”»å‡»è¿˜å¯ä»¥åœ¨å‚æ•°ä¸­åŠ å…¥éšæœºnonceå€¼ã€‚\né‡‘èçº§äº§å“åº”è¯¥é‡‡ç”¨éå¯¹ç§°ç­¾å+å¯¹ç§°åŠ å¯†çš„æ–¹å¼å¯¹è¯·æ±‚å‚æ•°è¿›è¡Œä¿æŠ¤ã€‚","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500341,"discussion_content":"å¾ˆä¸“ä¸šğŸ‘\n\nåœ¨æˆ‘çš„å¦å¤–ä¸€é—¨è¯¾ã€ŠSpring Bootå’ŒKubernetesäº‘åŸç”Ÿå¾®æœåŠ¡å®è·µã€‹ä¸­ï¼Œä¸“é—¨è®²è§£äº†åŸºäºJWTä»¤ç‰Œçš„å¾®æœåŠ¡è®¤è¯æˆæƒæœºåˆ¶ã€‚JWTæ”¯æŒå¯¹ç§°æˆ–è€…å…¬ç§é’¥ç­¾åã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593870862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":103787,"user_name":"rajon","can_delete":false,"product_type":"c3","uid":1519647,"ip_address":"","ucode":"13A2875D54F3E4","user_header":"https://static001.geekbang.org/account/avatar/00/17/30/1f/4942fea3.jpg","comment_is_top":false,"comment_ctime":1560510329,"is_pvip":false,"replies":[{"id":37709,"content":"Spring Cloud Gatewayæ¯”è¾ƒæ–°ï¼Œè¿™ä¸ªæˆ‘è¿˜æ²¡æœ‰å®ç°è¿‡ï¼Œæ‰¾äº†ä¸€äº›æ ·ä¾‹ä¾›ä½ å‚è€ƒï¼Œä½ è‡ªå·±éœ€è¦è¿›ä¸€æ­¥è°ƒç ”å’Œå°è¯•ï¼š\n\nhttps:&#47;&#47;github.com&#47;artemMartynenko&#47;spring-cloud-gateway-oauth2-sso-sample-application\n\nhttps:&#47;&#47;github.com&#47;spring-cloud-samples&#47;sample-gateway-oauth2login\n\nhttps:&#47;&#47;github.com&#47;spring-cloud&#47;spring-cloud-gateway&#47;issues&#47;179#issuecomment-406238177","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1560681898,"ip_address":"","comment_id":103787,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"æœ‰spring cloud gatewayç½‘å…³é›†æˆoauth2çš„ä¾‹å­å—","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454004,"discussion_content":"Spring Cloud Gatewayæ¯”è¾ƒæ–°ï¼Œè¿™ä¸ªæˆ‘è¿˜æ²¡æœ‰å®ç°è¿‡ï¼Œæ‰¾äº†ä¸€äº›æ ·ä¾‹ä¾›ä½ å‚è€ƒï¼Œä½ è‡ªå·±éœ€è¦è¿›ä¸€æ­¥è°ƒç ”å’Œå°è¯•ï¼š\n\nhttps://github.com/artemMartynenko/spring-cloud-gateway-oauth2-sso-sample-application\n\nhttps://github.com/spring-cloud-samples/sample-gateway-oauth2login\n\nhttps://github.com/spring-cloud/spring-cloud-gateway/issues/179#issuecomment-406238177","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560681898,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101085,"user_name":"å¤§é¹","can_delete":false,"product_type":"c3","uid":1270632,"ip_address":"","ucode":"F4611B80B08A3A","user_header":"https://static001.geekbang.org/account/avatar/00/13/63/68/14b98bbc.jpg","comment_is_top":false,"comment_ctime":1559712168,"is_pvip":false,"replies":[{"id":36633,"content":"ä½ å¥½ï¼Œ1ï¼Œå¦‚æœé‡‡ç”¨ç½‘å…³ç»Ÿä¸€è®¤è¯ï¼Œé‚£ä¹ˆæ‰€æœ‰APIè¯·æ±‚å¿…é¡»ç»è¿‡ç½‘å…³ï¼Œè¿™ä¸ªåœ¨ç‰©ç†éƒ¨ç½²æ¶æ„ä¸Šå¯ä»¥åšåˆ°ã€‚2ï¼Œaccess tokenæ¢æˆjwt tokenï¼Œæ˜¯å› ä¸ºä¼ ç»Ÿè®¿é—®ä»¤ç‰Œaccess tokenä¸€èˆ¬æ˜¯æ— æ„ä¹‰çš„éšæœºå­—ç¬¦ä¸²ï¼Œä¸€èˆ¬ä¸åŒ…å«ç”¨æˆ·å&#47;è§’è‰²ç­‰ç”¨æˆ·ä¿¡æ¯ï¼ˆåå°æœåŠ¡é€šå¸¸éœ€è¦è¿™äº›ä¿¡æ¯ï¼‰ï¼Œè½¬æˆjwtçš„è¯ï¼Œé‡Œå¤´å¯ä»¥åŒ…å«è¿™äº›ä¿¡æ¯ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä¸è½¬jwtï¼Œç›´æ¥æŠŠç”¨æˆ·åç­‰ä¿¡æ¯é€šè¿‡HTTP Headerå¾€åä¼ é€’ï¼Œæ›´ç®€å•ä¸€ç‚¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1559912726,"ip_address":"","comment_id":101085,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸¤ä¸ªé—®é¢˜:\n1.å®¢æˆ·æœ‰æ²¡æœ‰å¯èƒ½ç»•è¿‡ç½‘å…³ï¼Œç›´æ¥è®¿é—®åå°å¾®æœåŠ¡ã€‚è¿™æ ·å³ä½¿tokenè¢«gatewayåœ¨redisä¸­æ‰é”€äº†ï¼Œä¹Ÿèƒ½è®¿é—®åˆ°åå°æ•°æ®ã€‚åå°å¾®æœåŠ¡jwtè‡ªæ£€éªŒå¯¹è¿™ç§æƒ…å†µä¸èµ·ä½œç”¨ã€‚\n2.ä¸ºä»€ä¹ˆé¢å‘çš„æ˜¯access token ,ç»è¿‡gatewayçš„æ—¶å€™å†æ¢æˆjwt token ï¼Œå› ä¸ºaccess tokenæ›´è½»é‡çº§å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452797,"discussion_content":"ä½ å¥½ï¼Œ1ï¼Œå¦‚æœé‡‡ç”¨ç½‘å…³ç»Ÿä¸€è®¤è¯ï¼Œé‚£ä¹ˆæ‰€æœ‰APIè¯·æ±‚å¿…é¡»ç»è¿‡ç½‘å…³ï¼Œè¿™ä¸ªåœ¨ç‰©ç†éƒ¨ç½²æ¶æ„ä¸Šå¯ä»¥åšåˆ°ã€‚2ï¼Œaccess tokenæ¢æˆjwt tokenï¼Œæ˜¯å› ä¸ºä¼ ç»Ÿè®¿é—®ä»¤ç‰Œaccess tokenä¸€èˆ¬æ˜¯æ— æ„ä¹‰çš„éšæœºå­—ç¬¦ä¸²ï¼Œä¸€èˆ¬ä¸åŒ…å«ç”¨æˆ·å/è§’è‰²ç­‰ç”¨æˆ·ä¿¡æ¯ï¼ˆåå°æœåŠ¡é€šå¸¸éœ€è¦è¿™äº›ä¿¡æ¯ï¼‰ï¼Œè½¬æˆjwtçš„è¯ï¼Œé‡Œå¤´å¯ä»¥åŒ…å«è¿™äº›ä¿¡æ¯ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä¸è½¬jwtï¼Œç›´æ¥æŠŠç”¨æˆ·åç­‰ä¿¡æ¯é€šè¿‡HTTP Headerå¾€åä¼ é€’ï¼Œæ›´ç®€å•ä¸€ç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559912726,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":49452,"user_name":"ç‹ç››æ­¦","can_delete":false,"product_type":"c3","uid":1182516,"ip_address":"","ucode":"DE7EF246D3DCE8","user_header":"https://static001.geekbang.org/account/avatar/00/12/0b/34/f41d73a4.jpg","comment_is_top":false,"comment_ctime":1544691264,"is_pvip":false,"replies":[{"id":17793,"content":"ä¸ç”¨ç»ç½‘å…³ï¼Œç›´è¦èƒ½é€šè¿‡http headerå¾€åä¼ é€’å³å¯ï¼Œæ¯”å¦‚åœ¨springä¸­å¾ˆå®¹æ˜“åšåˆ°ï¼Œæ¯”å¦‚ä»request contexté‡Œå¤´è·å–jwtï¼Œé€šè¿‡http clientå†ä»¥http headeræ–¹å¼å¾€åä¼ é€’ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1544704697,"ip_address":"","comment_id":49452,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"æ³¢æ³¢è€å¸ˆï¼Œè¯·é—®ï¼Œå¦‚æœç½‘å…³-&gt;AæœåŠ¡,  AæœåŠ¡è°ƒç”¨BæœåŠ¡ï¼›\nç½‘å…³æŠŠJWTä¼ ç»™äº†Aï¼Œ ä½†æ˜¯Aè°ƒç”¨äº†BæœåŠ¡çš„æ—¶å€™å¦‚ä½•å¸¦JWTå‘¢ï¼Ÿ  æ˜¯å¦A-&gt;Bä¹Ÿè¦ç»è¿‡ç½‘å…³å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432623,"discussion_content":"ä¸ç”¨ç»ç½‘å…³ï¼Œç›´è¦èƒ½é€šè¿‡http headerå¾€åä¼ é€’å³å¯ï¼Œæ¯”å¦‚åœ¨springä¸­å¾ˆå®¹æ˜“åšåˆ°ï¼Œæ¯”å¦‚ä»request contexté‡Œå¤´è·å–jwtï¼Œé€šè¿‡http clientå†ä»¥http headeræ–¹å¼å¾€åä¼ é€’ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544704697,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":16738,"user_name":"chengUFO","can_delete":false,"product_type":"c3","uid":1046589,"ip_address":"","ucode":"C9EB74F153815C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/3d/f911fa4c.jpg","comment_is_top":false,"comment_ctime":1532145643,"is_pvip":false,"replies":[{"id":5935,"content":"tokenæ­£å¸¸è¿‡æœŸç”¨æˆ·ä¸€èˆ¬éœ€é‡æ–°ç™»å½•è·å–æ–°ä»¤ç‰Œï¼Œä¹Ÿå¯é‡‡ç”¨refreshtokenç›´æ¥è·å–æ–°ä»¤ç‰Œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1532424699,"ip_address":"","comment_id":16738,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100007001,"comment_content":"tokenè¿‡æœŸæ€ä¹ˆåŠï¼Ÿ  ","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420914,"discussion_content":"tokenæ­£å¸¸è¿‡æœŸç”¨æˆ·ä¸€èˆ¬éœ€é‡æ–°ç™»å½•è·å–æ–°ä»¤ç‰Œï¼Œä¹Ÿå¯é‡‡ç”¨refreshtokenç›´æ¥è·å–æ–°ä»¤ç‰Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1532424699,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":13831,"user_name":"å†¯è¤š","can_delete":false,"product_type":"c3","uid":1112991,"ip_address":"","ucode":"CE07E4267E3039","user_header":"https://static001.geekbang.org/account/avatar/00/10/fb/9f/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1530009952,"is_pvip":false,"replies":[{"id":4642,"content":"æ©ï¼Œæˆ‘è®¡åˆ’æŠŠè¿™å—æ”¾åœ¨ç¬¬9æ¨¡å—æ¡ˆä¾‹åˆ†æéƒ¨åˆ†è®²è§£ï¼Œä¸€ç§æ€è·¯æ˜¯ç”Ÿæˆtokenæ—¶åŒæ—¶ç”Ÿæˆjw-tokenå­˜èµ·æ¥ï¼Œé€šè¿‡tokenæ ¡éªŒç«¯ç‚¹æ¢å–jwt-token","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1530109140,"ip_address":"","comment_id":13831,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100007001,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæ‚¨ä¹‹å‰å›å¤å…¶ä»–äººè¯´ä¹‹åä¼šå†™tokenæ¢jwtçš„æ–‡ç« ï¼Œä¸çŸ¥é“ç°åœ¨å¯ä¸å¯ä»¥çœ‹ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419775,"discussion_content":"æ©ï¼Œæˆ‘è®¡åˆ’æŠŠè¿™å—æ”¾åœ¨ç¬¬9æ¨¡å—æ¡ˆä¾‹åˆ†æéƒ¨åˆ†è®²è§£ï¼Œä¸€ç§æ€è·¯æ˜¯ç”Ÿæˆtokenæ—¶åŒæ—¶ç”Ÿæˆjw-tokenå­˜èµ·æ¥ï¼Œé€šè¿‡tokenæ ¡éªŒç«¯ç‚¹æ¢å–jwt-token","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1530109140,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":10623,"user_name":"Coder Cat","can_delete":false,"product_type":"c3","uid":1136920,"ip_address":"","ucode":"AF0291604CCB11","user_header":"https://static001.geekbang.org/account/avatar/00/11/59/18/87898f15.jpg","comment_is_top":false,"comment_ctime":1527636619,"is_pvip":false,"replies":[{"id":3662,"content":"æœ‰ç‚¹ç±»ä¼¼ç”¨æˆ·åå¯†ç æ¨¡å¼ï¼Œä¸èƒ½ç®—ä¸¥æ ¼çš„OAUTH2ã€‚ç°å®ä¸­æœ‰ä¸å°‘åœºæ™¯æœªå¿…ç”¨oauth2ï¼Œç”¨æˆ·åå¯†ç ç™»å½•è·å¾—jwtæ˜¯ä¸€ç§çœ‹è§è¾ƒæµè¡Œçš„æ— çŠ¶æ€è®¤è¯æ–¹å¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1528130145,"ip_address":"","comment_id":10623,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100007001,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘ä»¬ç°åœ¨å‰åç«¯åˆ†ç¦»ä¹Ÿæ˜¯ç”¨çš„jwt ä½†å¹¶ä¸æ˜¯OAuth2 ã€‚é‚£æˆ‘ä»¬è¿™ä¸ªæ¨¡å¼ä¹Ÿæ˜¯æˆæƒå—ã€‚æˆ‘ä»¬æ˜¯ç”¨æˆ·è¾“å…¥è´¦å·å¯†ç ä»¥åè¿”å›ä¸€ä¸ªtoken,appå†æ‹¿ç€è¿™ä¸ªtoken å»åå°è®¿é—®æ•°æ®ã€‚","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418543,"discussion_content":"æœ‰ç‚¹ç±»ä¼¼ç”¨æˆ·åå¯†ç æ¨¡å¼ï¼Œä¸èƒ½ç®—ä¸¥æ ¼çš„OAUTH2ã€‚ç°å®ä¸­æœ‰ä¸å°‘åœºæ™¯æœªå¿…ç”¨oauth2ï¼Œç”¨æˆ·åå¯†ç ç™»å½•è·å¾—jwtæ˜¯ä¸€ç§çœ‹è§è¾ƒæµè¡Œçš„æ— çŠ¶æ€è®¤è¯æ–¹å¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528130145,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":9328,"user_name":"frog3","can_delete":false,"product_type":"c3","uid":1029029,"ip_address":"","ucode":"D48C88F87A83EB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b3/a5/f712dd94.jpg","comment_is_top":false,"comment_ctime":1526788784,"is_pvip":false,"replies":[{"id":2851,"content":"æŒ‰oauth2æ ‡å‡†åšæ³•ï¼Œå†…éƒ¨æœåŠ¡é—´è°ƒç”¨å¯ä»¥é‡‡ç”¨å®¢æˆ·å‡­è¯æ–¹å¼ï¼ˆclient credentialsï¼‰è·å–ä»¤ç‰Œå¹¶è®¿é—®ç›®æ ‡æœåŠ¡ï¼ŒæœåŠ¡ç«¯æ ¡éªŒä»¤ç‰Œã€‚å¦‚æœç”¨ç®€å•åšæ³•ï¼Œå¯ä»¥åšç™½åå•ï¼Œåœ¨ç½‘å…³æˆ–æœåŠ¡å™¨ç«¯è¿‡æ»¤ã€‚è¿˜æœ‰ä¸€ç§å¸¸è§åŠæ³•ï¼Œç”Ÿäº§ç¯å¢ƒéš”ç¦»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1526913182,"ip_address":"","comment_id":9328,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100007001,"comment_content":"æ³¢æ³¢è€å¸ˆï¼Œèƒ½å¦è®²ä¸‹å¾®æœåŠ¡å†…éƒ¨è°ƒç”¨çš„å®‰å…¨é—®é¢˜ï¼Œå¦‚ä½•è§£å†³å‘¢?ä¸»è¦æ˜¯ä¸¤ç§ï¼Œ1ï¼Œå¾®æœåŠ¡å†…éƒ¨ç›¸äº’è°ƒç”¨ï¼Œ2,éå¾®æœåŠ¡ä½“ç³»ä¸‹æ—¢æœ‰å­˜é‡ç³»ç»Ÿä¹Ÿè¦è°ƒç”¨å¾®æœåŠ¡çš„æŸæ¥å£å¦‚ä½•ä¿è¯å®‰å…¨é—®é¢˜","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418032,"discussion_content":"æŒ‰oauth2æ ‡å‡†åšæ³•ï¼Œå†…éƒ¨æœåŠ¡é—´è°ƒç”¨å¯ä»¥é‡‡ç”¨å®¢æˆ·å‡­è¯æ–¹å¼ï¼ˆclient credentialsï¼‰è·å–ä»¤ç‰Œå¹¶è®¿é—®ç›®æ ‡æœåŠ¡ï¼ŒæœåŠ¡ç«¯æ ¡éªŒä»¤ç‰Œã€‚å¦‚æœç”¨ç®€å•åšæ³•ï¼Œå¯ä»¥åšç™½åå•ï¼Œåœ¨ç½‘å…³æˆ–æœåŠ¡å™¨ç«¯è¿‡æ»¤ã€‚è¿˜æœ‰ä¸€ç§å¸¸è§åŠæ³•ï¼Œç”Ÿäº§ç¯å¢ƒéš”ç¦»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1526913182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":106365,"user_name":"Song","can_delete":false,"product_type":"c3","uid":1111252,"ip_address":"","ucode":"666CFF5C00E543","user_header":"https://static001.geekbang.org/account/avatar/00/10/f4/d4/39858da0.jpg","comment_is_top":false,"comment_ctime":1561280807,"is_pvip":false,"replies":[{"id":38583,"content":"åŠ æ²¹ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1561383289,"ip_address":"","comment_id":106365,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100007001,"comment_content":"æ„Ÿè°¢æ³¢æ³¢è€å¸ˆçš„è®²è§£ï¼Œå¯¹OAuth2çš„ç†è®ºä»¥åŠä¼ä¸šé‡Œçš„ä¸€äº›åœºæ™¯åº”ç”¨æœ‰äº†ä¸€å®šçš„äº†è§£ã€‚","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":455062,"discussion_content":"åŠ æ²¹ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561383289,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":102088,"user_name":"å¤§é¹","can_delete":false,"product_type":"c3","uid":1270632,"ip_address":"","ucode":"F4611B80B08A3A","user_header":"https://static001.geekbang.org/account/avatar/00/13/63/68/14b98bbc.jpg","comment_is_top":false,"comment_ctime":1560133447,"is_pvip":false,"replies":[{"id":36858,"content":"1ï¼Œå¦‚æœç½‘å…³åšäº†é›†ä¸­æ ¡éªŒï¼Œåå°æœåŠ¡å†è‡ªæ ¡éªŒå¹¶éå¿…é¡»ï¼Œå‡è®¾ç½‘å…³å’Œåå°æœåŠ¡åœ¨åŒä¸€ä¸ªä¿¡ä»»åŸŸã€‚ä½†ä¹Ÿæœ‰å…¬å¸ç½‘å…³å’Œåå°æœåŠ¡å¯èƒ½å¹¶ä¸ä¸€å®šå®Œå…¨ä¿¡ä»»ï¼Œæˆ–è€…åå°æœåŠ¡å®‰å…¨ç‰¹åˆ«æ•æ„Ÿ(æ¯”å¦‚äº¤æ˜“ç›¸å…³)ï¼Œéœ€è¦ä¸¥æ ¼å†æ¬¡æ ¡éªŒã€‚\n2ï¼Œ jwtæœ‰ä¸ªé—®é¢˜æ˜¯ä»¤ç‰Œé‡Œå¤´ç¼–ç çš„ä¿¡æ¯æ˜¯å¯è§çš„ï¼Œæœ‰äº›åœºæ™¯ä¸‹ï¼Œä¸æƒ³è®©ç”¨æˆ·ç«¯çœ‹è§jwté‡Œå¤´ä¿¡æ¯ï¼ˆæ¯”å¦‚ç”¨æˆ·åè§’è‰²ç­‰ï¼‰ï¼Œæ‰€ä»¥å¯¹å¤–å¯ä»¥ç”¨é€æ˜ä»¤ç‰Œï¼Œå¯¹å†…å¯ä»¥å†è½¬æˆjwtã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1560169385,"ip_address":"","comment_id":102088,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100007001,"comment_content":"è°¢è°¢è€å¸ˆå›ç­”ï¼Œè¿˜æœ‰ç‚¹ç–‘æƒ‘ï¼š\n1.æ—¢ç„¶èƒ½æ§åˆ¶clientå¿…é¡»é€šè¿‡gatewayå»è®¿é—®åå°å¾®æœåŠ¡ï¼Œé‚£ä¹ˆåªè¦åœ¨gatewayä¸Šè¿›è¡Œä¸€æ¬¡tokenæ ¡éªŒå°±å¯ä»¥äº†ï¼Œåå°æœåŠ¡ä¸ºä»€ä¹ˆè¿˜è¦å†è¿›è¡Œä¸€æ¬¡è‡ªæ ¡éªŒï¼Ÿå¦‚æœåå°æœåŠ¡ä¸è¿›è¡Œè‡ªæ ¡éªŒï¼Œè¿™æ ·çš„å®‰å…¨ç¼ºé™·æ˜¯ä»€ä¹ˆã€‚\n2.ä¸ºä»€ä¹ˆä¸ç›´æ¥é¢å‘jwtï¼Œè€Œæ˜¯å­˜å‚¨access tokenå’Œjwtï¼Œå¹¶ä¸”åœ¨åé¢äº¤æ¢ã€‚æ˜¯å› ä¸ºgatewayä¸Šçš„æ ¡éªŒaccess tokenå°±å¤Ÿäº†ï¼Œaccess tokenæ›´è½»é‡å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":453254,"discussion_content":"1ï¼Œå¦‚æœç½‘å…³åšäº†é›†ä¸­æ ¡éªŒï¼Œåå°æœåŠ¡å†è‡ªæ ¡éªŒå¹¶éå¿…é¡»ï¼Œå‡è®¾ç½‘å…³å’Œåå°æœåŠ¡åœ¨åŒä¸€ä¸ªä¿¡ä»»åŸŸã€‚ä½†ä¹Ÿæœ‰å…¬å¸ç½‘å…³å’Œåå°æœåŠ¡å¯èƒ½å¹¶ä¸ä¸€å®šå®Œå…¨ä¿¡ä»»ï¼Œæˆ–è€…åå°æœåŠ¡å®‰å…¨ç‰¹åˆ«æ•æ„Ÿ(æ¯”å¦‚äº¤æ˜“ç›¸å…³)ï¼Œéœ€è¦ä¸¥æ ¼å†æ¬¡æ ¡éªŒã€‚\n2ï¼Œ jwtæœ‰ä¸ªé—®é¢˜æ˜¯ä»¤ç‰Œé‡Œå¤´ç¼–ç çš„ä¿¡æ¯æ˜¯å¯è§çš„ï¼Œæœ‰äº›åœºæ™¯ä¸‹ï¼Œä¸æƒ³è®©ç”¨æˆ·ç«¯çœ‹è§jwté‡Œå¤´ä¿¡æ¯ï¼ˆæ¯”å¦‚ç”¨æˆ·åè§’è‰²ç­‰ï¼‰ï¼Œæ‰€ä»¥å¯¹å¤–å¯ä»¥ç”¨é€æ˜ä»¤ç‰Œï¼Œå¯¹å†…å¯ä»¥å†è½¬æˆjwtã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560169385,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":78390,"user_name":"è¬ç‰©ä¸€é¦¬","can_delete":false,"product_type":"c3","uid":1041405,"ip_address":"","ucode":"A28AC9B37ADCB7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e3/fd/499bbb36.jpg","comment_is_top":false,"comment_ctime":1553138149,"is_pvip":false,"replies":[{"id":29010,"content":"å†…éƒ¨è°ƒç”¨(å®šæ—¶ä»»åŠ¡ä¹‹ç±»)ï¼Œå¯ä»¥é‡‡ç”¨OAuth2çš„å®¢æˆ·ç«¯æ¨¡å¼ï¼ˆclient credentialsï¼‰ï¼Œç”±æœºå™¨ç›´æ¥å‘èµ·ï¼Œä¸éœ€è¦äººçš„å‚ä¸ã€‚å½“ç„¶ï¼Œå¯¹äºå†…éƒ¨è°ƒç”¨ï¼Œä½ ä¹Ÿéœ€è¦è¯„ä¼°æ˜¯å¦éœ€è¦oauth2è¿™ç§è¾ƒä¸¥æ ¼å®‰å…¨æˆæƒæœºåˆ¶ï¼Œæ¯•ç«Ÿä¼šå¼•å…¥å¾ˆå¤šå¤æ‚æ€§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1553518860,"ip_address":"","comment_id":78390,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100007001,"comment_content":"æ³¢æ³¢è€å¸ˆ,è¯·æ•™ åŒä¸€ä¸ªBæœåŠ¡æä¾›çš„æ–¹æ³•, ä»ç½‘å…³-AæœåŠ¡-BæœåŠ¡ å¯ä»¥é€šè¿‡OAuth2 è¿›è¡Œè®¤è¯...ä½†å¦‚æœAæœåŠ¡-BæœåŠ¡,å†…éƒ¨è°ƒç”¨(è¯¸å¦‚,å®šæ—¶ä»»åŠ¡)è¿™æ ·æ²¡æœ‰æ¡ä»¶è¿›è¡Œoauth2è®¤è¯çš„...è¿™2ç§æƒ…å†µæ€ä¹ˆåŒºåˆ†?","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444077,"discussion_content":"å†…éƒ¨è°ƒç”¨(å®šæ—¶ä»»åŠ¡ä¹‹ç±»)ï¼Œå¯ä»¥é‡‡ç”¨OAuth2çš„å®¢æˆ·ç«¯æ¨¡å¼ï¼ˆclient credentialsï¼‰ï¼Œç”±æœºå™¨ç›´æ¥å‘èµ·ï¼Œä¸éœ€è¦äººçš„å‚ä¸ã€‚å½“ç„¶ï¼Œå¯¹äºå†…éƒ¨è°ƒç”¨ï¼Œä½ ä¹Ÿéœ€è¦è¯„ä¼°æ˜¯å¦éœ€è¦oauth2è¿™ç§è¾ƒä¸¥æ ¼å®‰å…¨æˆæƒæœºåˆ¶ï¼Œæ¯•ç«Ÿä¼šå¼•å…¥å¾ˆå¤šå¤æ‚æ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553518860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73724,"user_name":"è¡ŒçŸ¥","can_delete":false,"product_type":"c3","uid":1220593,"ip_address":"","ucode":"A5D46908B73E5A","user_header":"https://static001.geekbang.org/account/avatar/00/12/9f/f1/5808246a.jpg","comment_is_top":false,"comment_ctime":1551964564,"is_pvip":false,"replies":[{"id":27653,"content":"å…¶å®acces tokenæ²¡æœ‰åº”ç”¨çš„å’Œç”¨æˆ·çš„ä¹‹åˆ†ï¼Œå®ƒæ˜¯æˆæƒæœåŠ¡å™¨æˆäºˆåº”ç”¨(æ­£å¼å«å®¢æˆ·åº”ç”¨)çš„å‡­è¯ï¼Œé€šè¿‡è¿™ä¸ªå‡­è¯åº”ç”¨å°±å¯ä»¥ä»£è¡¨ç”¨æˆ·å»è®¿é—®ç”¨æˆ·çš„èµ„æºï¼Œè¿™ä¸ªæ˜¯å®˜æ–¹å®šä¹‰ã€‚å®é™…åº”ç”¨ä¸­ï¼Œä¼ä¸šä¸€èˆ¬ä¼šåŸºäºoauth2åè®®åšä¸€äº›å®šåˆ¶æ‰©å±•ï¼Œå¾®ä¿¡çš„åšæ³•æˆ‘è®¤ä¸ºå°±æ˜¯ä¸€ç§å®šåˆ¶æ‰©å±•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1552481583,"ip_address":"","comment_id":73724,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100007001,"comment_content":"åº”ç”¨çš„access token å’Œç”¨æˆ·çš„ access token åªæ˜¯é’ˆå¯¹çš„å¯¹è±¡ä¸åŒï¼Œä½†ä½¿ç”¨oauth2.0çš„åè®®å¯ä»¥ç›¸åŒçš„ã€‚åº”ç”¨çš„access token æ›´å¤šçš„ä½¿ç”¨client è¿™ç§flowã€‚ä¸çŸ¥é“ï¼Œæˆ‘çš„ç†è§£å¯¹å—ï¼Ÿ\nå¾®ä¿¡çš„äºŒç»´ç ç™»å½•ï¼Œç”Ÿæˆçš„äºŒç»´ç çš„æµç¨‹:1ã€æ›´åŠ æˆæƒç flowè·å–åº”ç”¨access tokenï¼›2ã€æ ¹æ®access tokenç”Ÿæˆæ—¶æ•ˆæ€§çš„ticketï¼›3ã€åœ¨å¯¹è¿™äº›ä¿¡æ¯è¿›è¡ŒåŠ å¯†(è¿™å…¶å®å°±æ˜¯jwtï¼‰ç”Ÿæˆå¯¹åº”çš„äºŒç»´ç ï¼›","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442246,"discussion_content":"å…¶å®acces tokenæ²¡æœ‰åº”ç”¨çš„å’Œç”¨æˆ·çš„ä¹‹åˆ†ï¼Œå®ƒæ˜¯æˆæƒæœåŠ¡å™¨æˆäºˆåº”ç”¨(æ­£å¼å«å®¢æˆ·åº”ç”¨)çš„å‡­è¯ï¼Œé€šè¿‡è¿™ä¸ªå‡­è¯åº”ç”¨å°±å¯ä»¥ä»£è¡¨ç”¨æˆ·å»è®¿é—®ç”¨æˆ·çš„èµ„æºï¼Œè¿™ä¸ªæ˜¯å®˜æ–¹å®šä¹‰ã€‚å®é™…åº”ç”¨ä¸­ï¼Œä¼ä¸šä¸€èˆ¬ä¼šåŸºäºoauth2åè®®åšä¸€äº›å®šåˆ¶æ‰©å±•ï¼Œå¾®ä¿¡çš„åšæ³•æˆ‘è®¤ä¸ºå°±æ˜¯ä¸€ç§å®šåˆ¶æ‰©å±•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552481583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":63230,"user_name":"james","can_delete":false,"product_type":"c3","uid":1049208,"ip_address":"","ucode":"5701899403917C","user_header":"https://static001.geekbang.org/account/avatar/00/10/02/78/23c56bce.jpg","comment_is_top":false,"comment_ctime":1548302360,"is_pvip":false,"replies":[{"id":22555,"content":"å¯¹ï¼Œæ–¹æ¡ˆ3ä¸»è¦å°±æ˜¯å¢åŠ redisç¼“å­˜ï¼Œæå‡ä»¤ç‰Œæ ¡éªŒæ€§èƒ½ï¼Œå› ä¸ºç½‘å…³é›†ä¸­æ ¡éªŒä»¤ç‰Œä¼šæ¯”è¾ƒé¢‘ç¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1548507239,"ip_address":"","comment_id":63230,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100007001,"comment_content":"æ‚¨å¥½, æ–¹æ¡ˆ3å…¶å®å°±æ˜¯æˆæƒæœåŠ¡å™¨è¿™ä¸ªå¾®æœåŠ¡å°†accessTokenå­˜å‚¨åˆ°äº†è‡ªå·±çš„MySQL, å¹¶ç¼“å­˜åˆ°äº†è‡ªå·±çš„Redisçš„æ„æ€æ˜¯æŠŠ?  Rediså±äºæˆæƒæœåŠ¡å™¨çš„èŒƒç•´,  è€Œä¸å±äºç½‘å…³èŒƒç•´, ç½‘å…³æ˜¯é€šè¿‡http&#47;rpcè°ƒç”¨æˆæƒæœåŠ¡å™¨çš„æ¥å£æ¥å®ç°è¿™ä¸€æ­¥","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437509,"discussion_content":"å¯¹ï¼Œæ–¹æ¡ˆ3ä¸»è¦å°±æ˜¯å¢åŠ redisç¼“å­˜ï¼Œæå‡ä»¤ç‰Œæ ¡éªŒæ€§èƒ½ï¼Œå› ä¸ºç½‘å…³é›†ä¸­æ ¡éªŒä»¤ç‰Œä¼šæ¯”è¾ƒé¢‘ç¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548507239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":34354,"user_name":"å¼ æŒ¯å","can_delete":false,"product_type":"c3","uid":1201810,"ip_address":"","ucode":"292EFD886FC55A","user_header":"https://static001.geekbang.org/account/avatar/00/12/56/92/5cea89e6.jpg","comment_is_top":false,"comment_ctime":1540123825,"is_pvip":false,"replies":[{"id":12658,"content":"oauth2å°±æ˜¯é’ˆå¯¹æ— çº¿&#47;å•é¡µ&#47;ç¬¬ä¸‰æ–¹ç­‰åœºæ™¯è®¿é—®å¾®æœåŠ¡è€Œè®¾è®¡çš„æˆæƒåè®®ã€‚å¦‚æœè‡ªå·±å®ç°ï¼Œå…·ä½“å®ç°å“ªå‡ ç§æˆæƒæ–¹å¼ï¼Œå¯æ ¹æ®éœ€æ±‚å®šã€‚ä¹Ÿå¯åŸºäºspring security oauth2ç­‰ç»„ä»¶æ‰©å±•ï¼Œå®ƒå†…ç½®å·²å®ç°4ç§ä¸»è¦çš„oauth2æˆæƒæ–¹å¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1540732579,"ip_address":"","comment_id":34354,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100007001,"comment_content":"å¦‚æœä¸€ä¸ªæ¯”è¾ƒå¤§ç‚¹çš„ä¼ä¸šï¼Œæƒ³åšä¸€ä¸ªç»Ÿä¸€çš„è®¤è¯æˆæƒç³»ç»Ÿï¼ˆå‡å¦‚è¯´å«ä¸‰ç»Ÿä¸€ç³»ç»Ÿï¼‰ï¼Œå…¶ä»–è½¯ä»¶ï¼ˆå¤šç§å½¢å¼çš„ï¼Œå•é¡µçš„æˆ–è€…æ‰‹æœºç«¯çš„ï¼Œä¹Ÿæœ‰å¾®æœåŠ¡ï¼‰çš„è®¤è¯æˆæƒéƒ½å¯¹æ¥è¿™ä¸ªä¸‰ç»Ÿä¸€ç³»ç»Ÿï¼Œè¯·é—®è€å¸ˆï¼Œç”¨OAuth2å¯ä»¥æ»¡è¶³éœ€æ±‚å—ï¼Ÿæ˜¯ä¸æ˜¯4ä¸­æˆæƒæ–¹å¼éƒ½éœ€è¦è¿›è¡Œå®ç°ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427183,"discussion_content":"oauth2å°±æ˜¯é’ˆå¯¹æ— çº¿/å•é¡µ/ç¬¬ä¸‰æ–¹ç­‰åœºæ™¯è®¿é—®å¾®æœåŠ¡è€Œè®¾è®¡çš„æˆæƒåè®®ã€‚å¦‚æœè‡ªå·±å®ç°ï¼Œå…·ä½“å®ç°å“ªå‡ ç§æˆæƒæ–¹å¼ï¼Œå¯æ ¹æ®éœ€æ±‚å®šã€‚ä¹Ÿå¯åŸºäºspring security oauth2ç­‰ç»„ä»¶æ‰©å±•ï¼Œå®ƒå†…ç½®å·²å®ç°4ç§ä¸»è¦çš„oauth2æˆæƒæ–¹å¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1540732579,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":26306,"user_name":"å®‰é™","can_delete":false,"product_type":"c3","uid":1212634,"ip_address":"","ucode":"7C4DB6D81A48EB","user_header":"https://static001.geekbang.org/account/avatar/00/12/80/da/9c0c458c.jpg","comment_is_top":false,"comment_ctime":1537540827,"is_pvip":false,"replies":[{"id":9627,"content":"æ©ï¼Œæœ€åä¸€ä¸ªæ¨¡å—ï¼ˆç¬¬9æ¨¡å—ï¼‰ï¼Œä¼šæœ‰ä¸€ä¸ªç»¼åˆæ¡ˆä¾‹ï¼Œä¼šè®²è§£oauth2æœåŠ¡å™¨å’Œzuulç½‘å…³çš„é›†æˆï¼Œä½¿ç”¨ç±»ä¼¼ç¬¬ä¸‰ç§æ–¹æ¡ˆï¼Œç½‘å…³é›†ä¸­éªŒä»¤ç‰Œï¼ŒéªŒé€šè¿‡åˆ™å°†ç”¨æˆ·ä¿¡æ¯å‘åå°æœåŠ¡ä¼ é€’","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1537674397,"ip_address":"","comment_id":26306,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100007001,"comment_content":"ç»†ç»†æƒ³æ¥ï¼Œè‡ªå·±ä¹‹å‰çš„å…¬å¸ä¹Ÿæ˜¯ä½¿ç”¨çš„ç¬¬ä¸‰ç§æ–¹æ¡ˆï¼Œä»¥å‰åœ¨å…¬å¸æ²¡æœ‰ç»†ç»†æ·±å…¥äº†è§£è¿™å—ã€‚æ³¢æ³¢è€å¸ˆæ¡ˆä¾‹å†™å¥½åï¼Œæ–‡ç« åœ°å€è´´å‡ºæ¥æˆ‘æ¥å‚è€ƒä¸‹ã€‚","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424594,"discussion_content":"æ©ï¼Œæœ€åä¸€ä¸ªæ¨¡å—ï¼ˆç¬¬9æ¨¡å—ï¼‰ï¼Œä¼šæœ‰ä¸€ä¸ªç»¼åˆæ¡ˆä¾‹ï¼Œä¼šè®²è§£oauth2æœåŠ¡å™¨å’Œzuulç½‘å…³çš„é›†æˆï¼Œä½¿ç”¨ç±»ä¼¼ç¬¬ä¸‰ç§æ–¹æ¡ˆï¼Œç½‘å…³é›†ä¸­éªŒä»¤ç‰Œï¼ŒéªŒé€šè¿‡åˆ™å°†ç”¨æˆ·ä¿¡æ¯å‘åå°æœåŠ¡ä¼ é€’","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537674397,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":24592,"user_name":"shine","can_delete":false,"product_type":"c3","uid":1071839,"ip_address":"","ucode":"433D7B2527DA31","user_header":"https://static001.geekbang.org/account/avatar/00/10/5a/df/bdf673f7.jpg","comment_is_top":false,"comment_ctime":1537158201,"is_pvip":false,"replies":[{"id":9636,"content":"ä½ å¥½ï¼Œä½ çš„å›å¤å¾ˆé•¿ï¼Œåº”è¯¥å¯¹oauth2æœ‰è‡ªå·±çš„ç†è§£å’Œæ€è€ƒï¼Œå¦‚éœ€è¿›ä¸€æ­¥äº¤æµï¼Œå¯ä»¥åŠ æˆ‘å¾®ä¿¡å·bulldog2015(æ³¨æ˜æ¥è‡ªæå®¢æ—¶é—´çš„å®¢æˆ·)ã€‚æˆ‘è¿™è¾¹ç®€å•å›å¤å‡ ç‚¹ï¼š1)refresh tokenä¸€èˆ¬åªåœ¨æˆæƒç æ¨¡å¼æ‰æœ‰ï¼ŒOAuth Client WebæœåŠ¡å™¨éœ€è¦ä¿å­˜ç›¸å…³æ˜ å°„å…³ç³»(æ¯”å¦‚å¯ä»¥å­˜ç”¨æˆ·è¡¨ä¸­)ï¼Œä¸»è¦ç›®çš„æ˜¯é¿å…ç”¨æˆ·æ¯æ¬¡éƒ½è¦èµ°ä¸€ä¸ªå®Œæ•´çš„æˆæƒç æ¨¡å¼æµç¨‹å»è·å–access tokenï¼Œè¿™ä¸ªå¾ˆçƒ¦ï¼Œrefresh tokenå¯ä»¥ç®€åŒ–è¿™ä¸ªæµç¨‹ï¼ŒWebæœåŠ¡å™¨åå°ç”¨refresh tokenè‡ªåŠ¨è·å–æ–°çš„access tokenã€‚2ï¼‰åœ¨æˆæƒç æ¨¡å¼ä¸­ï¼Œaccess token&#47;refresh tokenåªåœ¨OAuth Client WebæœåŠ¡å™¨ä¸Šï¼Œä¸€èˆ¬ä¸ä¼šæµåˆ°ç”¨æˆ·æµè§ˆå™¨User Agentä¸Šå»ï¼Œä¿è¯å®‰å…¨æ€§ï¼Œ3ï¼‰åœ¨é€šè¿‡ç½‘å…³é›†ä¸­æ ¡éªŒtokençš„åœºæ™¯ä¸­ï¼ˆæ–¹å¼ä¸€å’Œä¸‰ï¼‰ï¼Œæœ‰äº†access tokenåï¼Œjwtç¡®å®æ²¡æœ‰ç‰¹åˆ«å¿…è¦çš„ï¼Œå¾ˆå¤šå…¬å¸é€šè¿‡access tokenæ ¡éªŒåï¼Œç›´æ¥è·å–ç”¨æˆ·ä¿¡æ¯(æ¯”å¦‚userIdï¼‰ï¼Œç›´æ¥å‘åå°æœåŠ¡ä¼ é€’ï¼Œæ²¡æœ‰å¿…è¦jwtï¼Œè¿™ä¸ªåœ¨è§†é¢‘ä¸­ä¹Ÿæœ‰è¯´æ˜ï¼Œå¦‚æœä½¿ç”¨jwtä¹Ÿå¯ä»¥ï¼Œå¯¹å†…éƒ¨æœåŠ¡è°ƒç”¨ä¼šæ›´è§„èŒƒå’Œå®‰å…¨ï¼Œå½“ç„¶æˆæœ¬æ›´é«˜ä¸€ç‚¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1537677787,"ip_address":"","comment_id":24592,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100007001,"comment_content":"1.Refresh Tokenåº”è¯¥ä¿å­˜åœ¨ç”¨æˆ·å®¢æˆ·ç«¯ï¼ˆç”¨æˆ·çš„æµè§ˆå™¨&#47;Appï¼Œå¯¹åº”OAuthä¸­çš„User Agentï¼‰è¿˜æ˜¯å‘èµ·è¯·æ±‚çš„æœåŠ¡å™¨ï¼ˆå¯¹åº”OAuthä¸­çš„Clientï¼‰ï¼š\nï¼ˆ1ï¼‰å¦‚æœä¿å­˜åœ¨ç”¨æˆ·å®¢æˆ·ç«¯ï¼Œæœ‰æ³„éœ²é£é™©ï¼Œå®‰å…¨æ€§å¦‚ä½•ä¿è¯ï¼Ÿ\nï¼ˆ2ï¼‰å¦‚æœä¿å­˜åœ¨æœåŠ¡å™¨ï¼Œç”¨æˆ·å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´åªç”¨access tokenï¼ŒæœåŠ¡å™¨åˆ¤æ–­access tokenæ˜¯å¦è¿‡æœŸï¼ˆjwtçš„åœºæ™¯ï¼‰æˆ–è€…å‘é€èµ„æºè¯·æ±‚å‘ç°tokenè¿‡æœŸï¼Œå†æ‹¿Refresh Tokenå»åˆ·æ–°ï¼Œé‚£ä¹ˆæœåŠ¡å™¨éœ€è¦é•¿æœŸä¿å­˜access tokenå’Œrefresh tokençš„å¯¹åº”å…³ç³»ï¼Œå³ä½¿access tokenå·²è¿‡æœŸï¼Œaccess tokençš„ä¿å­˜æ—¶é—´éœ€è¦ä¸refresh tokenä¸€è‡´ï¼Œç›´åˆ°è·å–æ–°çš„access tokenä¸ºæ­¢æ‰èƒ½æ¸…é™¤ï¼Œå¦åˆ™ç”¨æˆ·åç»­è¯·æ±‚æ—¶å°±æ— æ³•ç”¨è¿‡æœŸçš„access tokenæ‰¾åˆ°å¯¹åº”çš„refresh tokenï¼Œå¦‚æœæ˜¯ä¸Šè¿°åœºæ™¯ï¼Œé‚£ä¹ˆåŒºåˆ†access token&#47;refresh tokenäº‹å®ä¸Šæ¯«æ— æ„ä¹‰ï¼Œä½¿ç”¨ä¸€ä¸ªtokenå°±å¯ä»¥äº†\n\n2.JWTä¸OAuthç»“åˆçš„åœºæ™¯ï¼Œå¦‚æœä»éœ€è¦å¯¹æ¯æ¬¡è¯·æ±‚åšä¸­å¿ƒåŒ–çš„éªŒè¯ï¼Œä¹Ÿå°±æ˜¯1ã€3ä¸¤ç§æ¶æ„ï¼Œé‚£ä¹ˆJWTçš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Œæ„Ÿè§‰æ²¡æœ‰å¿…è¦é‡‡ç”¨JWTï¼Œç›´æ¥ä½¿ç”¨æ— æ„ä¹‰éšæœºå­—ç¬¦ä¸²åšTokenå°±è¡Œäº†ï¼Œå‰ææ˜¯è¯·æ±‚å‚æ•°å·²åšäº†ç­¾åï¼Œé˜²æ­¢ç¯¡æ”¹\n\nå¯¹äºä¸Šé¢ä¸¤ä¸ªé—®é¢˜ï¼Œä¸ªäººç†è§£OAuth2å¼•å…¥Refresh Tokençš„æœ¬æ„æ˜¯ç¼©çŸ­access tokençš„æ—¶æ•ˆï¼Œå®ç°access tokençš„â€œåŠæ—¶â€å›æ”¶ï¼ŒåŒ…å«äº†ä¸€ä¸ªéšè—æ¡ä»¶å°±æ˜¯è®¤è¯æœåŠ¡å™¨ç»™clientçš„access tokenä¸€å®šæ˜¯èµ„æºæœåŠ¡å™¨å¯ä»¥è¯†åˆ«å’Œæ ¡éªŒçš„ï¼Œä¹Ÿå°±æ˜¯JWTè¿™ç±»è‡ªåŒ…å«ä¸šåŠ¡ä¿¡æ¯ã€è¿‡æœŸæ—¶é—´ã€ä¸å¯ä¼ªé€ çš„Tokenï¼Œé‡‡ç”¨ç¬¬2ç§æ¶æ„æ‰ç¬¦åˆOAuth2çš„è®¾è®¡ç†å¿µï¼Œå½“ç„¶å› ä¸ºæ²¡æœ‰ä¸­å¿ƒåŒ–çš„éªŒè¯ï¼Œaccess tokençš„å›æ”¶å…¶å®å¹¶ä¸â€œåŠæ—¶â€ï¼Œéœ€è¦ç­‰åˆ°JWTè®¾ç½®çš„è¿‡æœŸæ—¶é—´ã€‚å¦‚æœä¸šåŠ¡è¦æ±‚access tokenèƒ½å¤Ÿå®æ—¶æ’¤é”€ï¼Œé‚£ä¹ˆåº”é‡‡ç”¨ä¸­å¿ƒåŒ–çš„éªŒè¯ï¼Œè¿™ä¸ªæ—¶å€™æ²¡æœ‰å¿…è¦ç”¨refresh tokenå’ŒJWTäº†ã€‚\n\nå¦‚æœé‡‡ç”¨refresh tokenï¼Œå¯¹äºå¾®æœåŠ¡æ¶æ„é‡‡ç”¨OAuthä¸ºè‡ªèº«åº”ç”¨æä¾›æˆæƒæ¡†æ¶çš„åœºæ™¯ï¼Œrefresh tokenå­˜ç”¨æˆ·å®¢æˆ·ç«¯ï¼Œé€šè¿‡åŠ å¯†å­˜å‚¨ä¿éšœå­˜å‚¨å®‰å…¨æ€§ï¼Œåªåœ¨è°ƒç”¨åˆ·æ–°æ¥å£æ—¶è§£å¯†ï¼Œå¹¶ç”¨HTTPSä¿éšœä¼ è¾“å®‰å…¨æ€§ï¼Œä½†å®¢æˆ·ç«¯å¤©ç„¶ä¸èƒ½å®Œå…¨é¿å…é£é™©ï¼Œå¦‚æœ‰å¿…è¦å¯ä»¥é€šè¿‡2ç§æ–¹å¼å¼ºåŒ–ï¼š\n1.ä¸è®¾å¤‡æŒ‡çº¹çš„ç»‘å®šï¼Œè°ƒç”¨åˆ·æ–°æ¥å£æ—¶åœ¨æœåŠ¡å™¨ç«¯æ£€æµ‹refresh tokenæ˜¯å¦ä¸é¢å‘æ—¶çš„è®¾å¤‡ç¯å¢ƒä¸€è‡´ï¼Œæ˜¯å¦å·²å­˜åœ¨æ³„éœ²éšæ‚£\n2.æ¯æ¬¡è°ƒç”¨åˆ·æ–°æ¥å£ï¼ŒåŒæ—¶æ›´æ¢æ–°çš„refresh tokenï¼Œå¦‚æœç”¨æˆ·ç«¯æ‹¿æ—§çš„refresh tokenå†æ¬¡è°ƒç”¨åˆ·æ–°æ¥å£ï¼Œæç¤ºç”¨æˆ·å­˜åœ¨æ³„éœ²çš„å¯èƒ½\n\nå¯¹äºè°ƒç”¨ç¬¬ä¸‰æ–¹å¹³å°çš„åœºæ™¯ï¼Œç”¨æˆ·å®¢æˆ·ç«¯å¹¶ä¸éœ€è¦ä¸ç¬¬ä¸‰æ–¹çš„access token&#47;refresh tokenç›´æ¥æ‰“äº¤é“ï¼Œæ‰€ä»¥access token&#47;refresh tokenéƒ½åº”è¯¥ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šã€‚","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":424049,"discussion_content":"ä½ å¥½ï¼Œä½ çš„å›å¤å¾ˆé•¿ï¼Œåº”è¯¥å¯¹oauth2æœ‰è‡ªå·±çš„ç†è§£å’Œæ€è€ƒï¼Œå¦‚éœ€è¿›ä¸€æ­¥äº¤æµï¼Œå¯ä»¥åŠ æˆ‘å¾®ä¿¡å·bulldog2015(æ³¨æ˜æ¥è‡ªæå®¢æ—¶é—´çš„å®¢æˆ·)ã€‚æˆ‘è¿™è¾¹ç®€å•å›å¤å‡ ç‚¹ï¼š1)refresh tokenä¸€èˆ¬åªåœ¨æˆæƒç æ¨¡å¼æ‰æœ‰ï¼ŒOAuth Client WebæœåŠ¡å™¨éœ€è¦ä¿å­˜ç›¸å…³æ˜ å°„å…³ç³»(æ¯”å¦‚å¯ä»¥å­˜ç”¨æˆ·è¡¨ä¸­)ï¼Œä¸»è¦ç›®çš„æ˜¯é¿å…ç”¨æˆ·æ¯æ¬¡éƒ½è¦èµ°ä¸€ä¸ªå®Œæ•´çš„æˆæƒç æ¨¡å¼æµç¨‹å»è·å–access tokenï¼Œè¿™ä¸ªå¾ˆçƒ¦ï¼Œrefresh tokenå¯ä»¥ç®€åŒ–è¿™ä¸ªæµç¨‹ï¼ŒWebæœåŠ¡å™¨åå°ç”¨refresh tokenè‡ªåŠ¨è·å–æ–°çš„access tokenã€‚2ï¼‰åœ¨æˆæƒç æ¨¡å¼ä¸­ï¼Œaccess token/refresh tokenåªåœ¨OAuth Client WebæœåŠ¡å™¨ä¸Šï¼Œä¸€èˆ¬ä¸ä¼šæµåˆ°ç”¨æˆ·æµè§ˆå™¨User Agentä¸Šå»ï¼Œä¿è¯å®‰å…¨æ€§ï¼Œ3ï¼‰åœ¨é€šè¿‡ç½‘å…³é›†ä¸­æ ¡éªŒtokençš„åœºæ™¯ä¸­ï¼ˆæ–¹å¼ä¸€å’Œä¸‰ï¼‰ï¼Œæœ‰äº†access tokenåï¼Œjwtç¡®å®æ²¡æœ‰ç‰¹åˆ«å¿…è¦çš„ï¼Œå¾ˆå¤šå…¬å¸é€šè¿‡access tokenæ ¡éªŒåï¼Œç›´æ¥è·å–ç”¨æˆ·ä¿¡æ¯(æ¯”å¦‚userIdï¼‰ï¼Œç›´æ¥å‘åå°æœåŠ¡ä¼ é€’ï¼Œæ²¡æœ‰å¿…è¦jwtï¼Œè¿™ä¸ªåœ¨è§†é¢‘ä¸­ä¹Ÿæœ‰è¯´æ˜ï¼Œå¦‚æœä½¿ç”¨jwtä¹Ÿå¯ä»¥ï¼Œå¯¹å†…éƒ¨æœåŠ¡è°ƒç”¨ä¼šæ›´è§„èŒƒå’Œå®‰å…¨ï¼Œå½“ç„¶æˆæœ¬æ›´é«˜ä¸€ç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1537677787,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2230909,"avatar":"https://static001.geekbang.org/account/avatar/00/22/0a/7d/ac715471.jpg","nickname":"ç‹¬å­¤ä¹å‰‘","note":"","ucode":"6C1253E2B8C1D4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374829,"discussion_content":"æ³¢æ³¢è€å¸ˆçš„å¾®ä¿¡å·å˜æ›´äº†å—ï¼Ÿç”³è¯·æ·»åŠ  bulldog2015 å¥½å‡ å¤©äº†æ— å“åº”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621384738,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22587,"user_name":"siesteven","can_delete":false,"product_type":"c3","uid":1223746,"ip_address":"","ucode":"29F6B11EE074A6","user_header":"https://static001.geekbang.org/account/avatar/00/12/ac/42/740ff7e6.jpg","comment_is_top":false,"comment_ctime":1535808979,"is_pvip":false,"replies":[{"id":8130,"content":"è°¢æ”¯æŒğŸŒ¹åŠ æ²¹ğŸ’ª","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1535865961,"ip_address":"","comment_id":22587,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100007001,"comment_content":"æƒ³ç¼“å­˜ï¼Œè·¯ä¸Šçœ‹ã€‚ã€‚ã€‚","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423176,"discussion_content":"è°¢æ”¯æŒğŸŒ¹åŠ æ²¹ğŸ’ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535865961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15928,"user_name":"é’“é±¼çš„çŒ«","can_delete":false,"product_type":"c3","uid":1048675,"ip_address":"","ucode":"D9308507843FCB","user_header":"https://static001.geekbang.org/account/avatar/00/10/00/63/b0a2e411.jpg","comment_is_top":false,"comment_ctime":1531658693,"is_pvip":false,"replies":[{"id":5715,"content":"è°¢è°¢æ”¯æŒğŸŒ¹","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1531973007,"ip_address":"","comment_id":15928,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100007001,"comment_content":"æ³¢æ³¢è€å¸ˆè®²çš„çœŸå¥½ï¼Œä¹‹å‰äº†è§£oauth2ï¼Œç°åœ¨è€å¸ˆç³»ç»Ÿçš„å¸®æˆ‘æ¢³ç†æ¸…æ™°äº†ï¼Œè°¢è°¢æ³¢æ³¢è€å¸ˆã€‚","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420603,"discussion_content":"è°¢è°¢æ”¯æŒğŸŒ¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531973007,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15609,"user_name":"æµ·é˜”å¤©ç©º","can_delete":false,"product_type":"c3","uid":1104511,"ip_address":"","ucode":"1FCE7980B0832E","user_header":"https://static001.geekbang.org/account/avatar/00/10/da/7f/e3b9bc05.jpg","comment_is_top":false,"comment_ctime":1531323908,"is_pvip":false,"replies":[{"id":5394,"content":"è¿™ä¸ªä½ ä»¬çš„å…·ä½“åšæ³•è¦çœ‹ä»£ç å’Œé…ç½®æ‰èƒ½çœ‹å‡ºï¼Œå…‰ä»ä½ æè¿°è¿˜æ— æ³•åˆ¤æ–­ï¼ŒåŸç†å¯èƒ½ç±»ä¼¼oauth2ä¸­çš„æŸç§flow","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1531404821,"ip_address":"","comment_id":15609,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100007001,"comment_content":"æ³¢æ³¢è€å¸ˆï¼Œæˆ‘ä»¬å¾®æœåŠ¡æ¡†æ¶ä¸çŸ¥é“æ€ä¹ˆåšçš„ï¼Œå°±è®©åœ¨é…ç½®ç›®å½•ä¸­åŠ ä¸€äº›é…ç½®æ–‡ä»¶ï¼Œç„¶åå°±èƒ½å®ç°è®¤è¯ï¼Œä¹Ÿæœ‰jwtæ–‡ä»¶ï¼Œä½†æ˜¯æˆ‘ä»¬é…ç½®è°ƒç”¨ç«¯æ—¶å´æ²¡æœ‰ç”¨åˆ°è¿™ä¸ªjwtæ–‡ä»¶ï¼Œè¿™æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420471,"discussion_content":"è¿™ä¸ªä½ ä»¬çš„å…·ä½“åšæ³•è¦çœ‹ä»£ç å’Œé…ç½®æ‰èƒ½çœ‹å‡ºï¼Œå…‰ä»ä½ æè¿°è¿˜æ— æ³•åˆ¤æ–­ï¼ŒåŸç†å¯èƒ½ç±»ä¼¼oauth2ä¸­çš„æŸç§flow","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531404821,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":12236,"user_name":"é’Ÿæ£®","can_delete":false,"product_type":"c3","uid":1122030,"ip_address":"","ucode":"C55141BF30064A","user_header":"https://static001.geekbang.org/account/avatar/00/11/1e/ee/f42b5cf8.jpg","comment_is_top":false,"comment_ctime":1528709680,"is_pvip":false,"replies":[{"id":4135,"content":"å¯ä»¥ä¸€èµ·ç”¨ï¼Œspring security oauth2æœ¬èº«ä¹Ÿä¾èµ–spring securityï¼Œå¯ä»¥è®©spring securityä¿æŠ¤ä¸€éƒ¨åˆ†pathï¼Œå¦ä¸€éƒ¨åˆ†pathç”±spring security oauth2ä¿æŠ¤ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1528906175,"ip_address":"","comment_id":12236,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100007001,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œoauth2æ˜¯ä¸æ˜¯ä¸èƒ½å’Œspringsecurity åŒæ—¶ä½¿ç”¨ï¼Œå› ä¸ºä¸€æ¬¡è¯·æ±‚åªä¼šè¢«filterproxychainä¸­æœ€å¤šä¸€ä¸ªè¿‡æ»¤å™¨æ‹¦æˆªã€‚æˆ‘æœ¬æ¥æƒ³åšä¸€ä¸ªå•ä½“æœåŠ¡å™¨ï¼Œwebç«¯ç”¨Springsecurityæ¥æ§åˆ¶æƒé™ï¼ŒAPPç”¨auth2çš„å®‰å…¨æ¨¡å¼ã€‚è¿™ç§æ··ç”¨æ¨¡å¼å¯ä»¥åšå—ï¼Ÿæˆ–è€…æ˜¯å¦æœ‰å…¶ä»–è§£å†³æ–¹æ¡ˆ","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":419173,"discussion_content":"å¯ä»¥ä¸€èµ·ç”¨ï¼Œspring security oauth2æœ¬èº«ä¹Ÿä¾èµ–spring securityï¼Œå¯ä»¥è®©spring securityä¿æŠ¤ä¸€éƒ¨åˆ†pathï¼Œå¦ä¸€éƒ¨åˆ†pathç”±spring security oauth2ä¿æŠ¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528906175,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":11360,"user_name":"éº¦..","can_delete":false,"product_type":"c3","uid":1085358,"ip_address":"","ucode":"486676F7950287","user_header":"https://static001.geekbang.org/account/avatar/00/10/8f/ae/c048fd8e.jpg","comment_is_top":false,"comment_ctime":1528087005,"is_pvip":false,"replies":[{"id":3658,"content":"ç½‘å…³ä½œä¸ºä¸€ä¸ªé€æ˜ä»£ç†ï¼ŒæˆæƒæœåŠ¡èº²åœ¨ç½‘å…³åé¢ï¼ŒæŠ€æœ¯ä¸Šæ˜¯å¯ä»¥åšåˆ°çš„ã€‚æˆæƒæœåŠ¡å™¨ç‹¬ç«‹å¸ƒç½²ï¼Œå’Œç½‘å…³å¹³è¡Œï¼Œä¹Ÿæ˜¯å¸¸è§åšæ³•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1528129208,"ip_address":"","comment_id":11360,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100007001,"comment_content":"æˆæƒæœåŠ¡å™¨æ˜¯å¦èƒ½å¯¹å®¢æˆ·ç«¯é€æ˜ï¼Ÿæ„æ€æ˜¯è¯´ï¼šæˆæƒæœåŠ¡å™¨ä½œä¸ºä¸€ä¸ªå¾®æœåŠ¡ï¼Œå®¢æˆ·ç«¯è·å–accept token å¯ä»¥ç›´æ¥é€šè¿‡ç½‘å…³æ— æ¡ä»¶ï¼ˆä¸€ä¸ªç‰¹ä¾‹ï¼‰æ”¾æƒè·¯ç”±åˆ°æˆæƒæœåŠ¡å™¨ï¼ŒæˆæƒæœåŠ¡å™¨ä¸€ç³»åˆ—æ“ä½œåï¼Œæœ€åè¿”å›accept tokenç»™å®¢æˆ·ç«¯","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418805,"discussion_content":"ç½‘å…³ä½œä¸ºä¸€ä¸ªé€æ˜ä»£ç†ï¼ŒæˆæƒæœåŠ¡èº²åœ¨ç½‘å…³åé¢ï¼ŒæŠ€æœ¯ä¸Šæ˜¯å¯ä»¥åšåˆ°çš„ã€‚æˆæƒæœåŠ¡å™¨ç‹¬ç«‹å¸ƒç½²ï¼Œå’Œç½‘å…³å¹³è¡Œï¼Œä¹Ÿæ˜¯å¸¸è§åšæ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1528129208,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":10357,"user_name":"é’Ÿæ£®","can_delete":false,"product_type":"c3","uid":1122030,"ip_address":"","ucode":"C55141BF30064A","user_header":"https://static001.geekbang.org/account/avatar/00/11/1e/ee/f42b5cf8.jpg","comment_is_top":false,"comment_ctime":1527502563,"is_pvip":false,"replies":[{"id":3366,"content":"ğŸ‘Œæ­£åœ¨åŠªåŠ›åˆ¶ä½œä¸­","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1527610666,"ip_address":"","comment_id":10357,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100007001,"comment_content":"æ³¢æ³¢è€å¸ˆï¼ŒæœŸå¾…æ‚¨ç¬¬ä¸‰æ–¹æ¡ˆç›¸å…³çš„æ–‡ç« å’Œå®ä¾‹ã€‚æœ€è¿‘åˆšå¥½è¦åšç›¸åº”çš„ä¸œè¥¿","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418454,"discussion_content":"ğŸ‘Œæ­£åœ¨åŠªåŠ›åˆ¶ä½œä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1527610666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":9724,"user_name":"å±…å°š","can_delete":false,"product_type":"c3","uid":1072817,"ip_address":"","ucode":"8AEF26AEE125B7","user_header":"https://static001.geekbang.org/account/avatar/00/10/5e/b1/7d1b29ca.jpg","comment_is_top":false,"comment_ctime":1527047533,"is_pvip":false,"replies":[{"id":3049,"content":"å¯ä»¥åŒæ—¶ç”Ÿæˆï¼Œå­˜åœ¨DBï¼Œæˆ–ç¼“å­˜èµ·æ¥ï¼Œkeyæ˜¯access tokenï¼Œvalueæ˜¯jwt tokenï¼Œåé¢ä¼šå†™æ–‡ç« +æ¡ˆä¾‹","user_name":"ä½œè€…å›å¤","user_name_real":"æ¨æ³¢","uid":1030344,"ctime":1527162766,"ip_address":"","comment_id":9724,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100007001,"comment_content":"æ³¢æ³¢è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œæ€æ ·æ‰èƒ½é€šè¿‡tokenæ¢å–jwtï¼Œæ˜¯åŒæ—¶ç”Ÿæˆè¿˜æ˜¯æ€ä¹ˆæ ·ï¼Œå¦‚ä½•å®ç°","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"æ¨æ³¢","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":418180,"discussion_content":"å¯ä»¥åŒæ—¶ç”Ÿæˆï¼Œå­˜åœ¨DBï¼Œæˆ–ç¼“å­˜èµ·æ¥ï¼Œkeyæ˜¯access tokenï¼Œvalueæ˜¯jwt tokenï¼Œåé¢ä¼šå†™æ–‡ç« +æ¡ˆä¾‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1527162766,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
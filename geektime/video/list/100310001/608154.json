{"id":608154,"title":"39｜再回首：“判断循环”单元小结","content":"<p>你好，我是尹会生。</p><p>在本章里，我给你介绍了Python的逻辑判断和循环语句的写法，即通过if、match、while、for等关键字改变程序的执行顺序，通过判断语句可以为原本顺序执行的程序，增加一定的判断条件，基于判断的结果来执行不同的代码段，而循环语句可以根据你设定好的条件，重复执行多次，可以大大减少程序的复杂性。</p><p>增加了逻辑判断和循环功能以后，程序更加灵活了，也更容易出错了。所以在这节课我从运行逻辑、运行效率两方面，为你总结一下新手经常犯的错误，帮你避坑。</p><h2>运行逻辑</h2><p>首先，我们还是先从判断和循环的常规写法说起。</p><p>判断和循环语句的编写，和之前我们学过的语法最大的区别就是，多行代码组成的语句块和多行代码间的缩进对齐。</p><p>上一章我们学变量赋值和输出的时候，我和你强调了在编写程序时，前面不能出现空格这种语法。一旦出现空格会出现“IndentationError”错误，比如下面的代码。</p><pre><code class=\"language-python\">&nbsp;var = 123\n\n# 输出结果\n&nbsp; File \"d:\\demo.py\", line 1\n&nbsp; &nbsp; var = 123\nIndentationError: unexpected indent\n</code></pre><p>代码中，我在为变量var赋值时，不小心在var变量前多加了一个空格。Python解释器无法理解这个缩进，提示我这是一个让解释器很意外（unexpected）的代码编写方式。</p>","comments":[{"had_liked":false,"id":363558,"user_name":"PatrickL","can_delete":false,"product_type":"c3","uid":1341431,"ip_address":"上海","ucode":"EF0EC18639B9B2","user_header":"https://static001.geekbang.org/account/avatar/00/14/77/f7/11548247.jpg","comment_is_top":false,"comment_ctime":1669808135,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"fib = [1,1]\nwhile fib[-1] + fib[-2] &lt;= 200:\n    fib.append(fib[-1]+fib[-2])\nprint(fib)","like_count":10,"discussions":[{"author":{"id":1591293,"avatar":"https://static001.geekbang.org/account/avatar/00/18/47/fd/895f0c27.jpg","nickname":"Cy23","note":"","ucode":"8DC561C5151758","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":599102,"discussion_content":"倒着读取后追加进去，挺好，符合要求","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1673336827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"辽宁","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":377252,"user_name":"Geek_Mike","can_delete":false,"product_type":"c3","uid":3196376,"ip_address":"云南","ucode":"CFA942192C3B74","user_header":"https://static001.geekbang.org/account/avatar/00/30/c5/d8/c5509b9c.jpg","comment_is_top":false,"comment_ctime":1688138260,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"list_100 = [0,1,1,2,3,5,8,13,21,34,55,89]\ni = int(input(&#39;如果你需要100以内的斐波那契数列，请输入100：\\n如果需要200以内的斐波那契数列，请输入200:&#39;))\nif i == 100:\n    print(f&#39;100以内的斐波那契数列：{list_100}&#39;)\nelse:\n    list_200 = list_100.copy()\n    while list_200[-1] + list_200[-2] &lt; 200:\n        list_200.append(list_200[-1] + list_200[-2])\n        print(f&#39;200以内的斐波那契数列：{list_200}&#39;)","like_count":1},{"had_liked":false,"id":366995,"user_name":"yanyu-xin","can_delete":false,"product_type":"c3","uid":1899757,"ip_address":"广东","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1674784070,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"i , j = 0 , 1 # 斐波那契数列的初始值\nfib_list_100 =[1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89] # 预设100以内的斐波那契数列\nprint(f&#39;100以内的斐波那契数列:{fib_list_100}&#39;) # 不需要计算直接打印\nfib_list = fib_list_100.copy() #用浅拷贝，避免修改100内的原始值\ni,j = 55, 89  # 斐波那契数列大于100的初始值\nwhile i+j &lt; 200 :\n    i,j= j , i+j \n    fib_list.append(j)\nprint(f&#39;200以内的斐波那契数列:{fib_list}&#39;)","like_count":1},{"had_liked":false,"id":394819,"user_name":"尹长拟","can_delete":false,"product_type":"c3","uid":3074007,"ip_address":"北京","ucode":"1EBD42B5BBD934","user_header":"","comment_is_top":false,"comment_ctime":1728470180,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"def feibona(n):\n    fib_list = [0,1]\n    while len(fib_list) &lt; n:\n        fib_list.append(fib_list[-1]+fib_list[-2])\n    return fib_list\n\nn=200\nfeibona_shulie=feibona(n)\nprint(feibona_shulie)","like_count":0},{"had_liked":false,"id":384238,"user_name":"760418","can_delete":false,"product_type":"c3","uid":3768167,"ip_address":"上海","ucode":"C160176FE97575","user_header":"","comment_is_top":false,"comment_ctime":1700568790,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"match month:\n    case 1 | 2 | 3:\n        print(f&#39;{month}月是春季&#39;)\n    case 4 | 5 | 6:\n        print(f&#39;{month}月是夏季&#39;)\n    case 7 | 8 | 9:\n        print(f&#39;{month}月是秋季&#39;)\n    case 10 | 11 | 12:\n        print(f&#39;{month}月是冬季&#39;)\n    case _:\n        print(f&#39;输入了错误的月份：{month}&#39;)","like_count":0},{"had_liked":false,"id":380947,"user_name":"William","can_delete":false,"product_type":"c3","uid":1346215,"ip_address":"吉林","ucode":"55F5D9DEE485B1","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/a7/674c1864.jpg","comment_is_top":false,"comment_ctime":1694495880,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"打卡!","like_count":0},{"had_liked":false,"id":380234,"user_name":"小昭","can_delete":false,"product_type":"c3","uid":1326905,"ip_address":"浙江","ucode":"149540DCFDF43E","user_header":"https://static001.geekbang.org/account/avatar/00/14/3f/39/a4c2154b.jpg","comment_is_top":false,"comment_ctime":1693237273,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"学完打卡，这个月比较懈怠。。。","like_count":0}]}
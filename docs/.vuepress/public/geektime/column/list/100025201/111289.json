{"id":111289,"title":"29 | å®æˆ˜ï¼ˆå››ï¼‰ï¼šæ€ä¹ˆè®¾è®¡ä¸€ä¸ªâ€œç”»å›¾â€ç¨‹åºï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ä¸ƒç‰›äº‘è®¸å¼ä¼Ÿã€‚</p><p>ä»Šå¤©ç»§ç»­æˆ‘ä»¬çš„ç”»å›¾ç¨‹åºã€‚ä¸Šä¸€è®²å®Œæˆåï¼Œæˆ‘ä»¬çš„ç”»å›¾ç¨‹åºä¸åªæ˜¯åŠŸèƒ½å®ç”¨ï¼Œå¹¶ä¸”è¿˜æ”¯æŒäº†ç¦»çº¿ç¼–è¾‘ä¸å­˜å‚¨ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬å¼€å§‹è€ƒè™‘æœåŠ¡ç«¯ã€‚</p><p>æˆ‘ä»¬ä»å“ªé‡Œå¼€å§‹ï¼Ÿ</p><p>ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬è¦è€ƒè™‘çš„æ˜¯ç½‘ç»œåè®®ã€‚</p><h2>ç½‘ç»œåè®®</h2><p>ä¸ºäº†ç®€åŒ–ï¼Œæˆ‘ä»¬æš‚æ—¶ä¸è€ƒè™‘å¤šç§Ÿæˆ·å¸¦æˆæƒçš„åœºæ™¯ã€‚åé¢æˆ‘ä»¬åœ¨ä¸‹ä¸€ç« æœåŠ¡ç«¯å¼€å‘ç¯‡ä¼šç»§ç»­å®æˆ˜è¿™ä¸ªç”»å›¾ç¨‹åºï¼Œå°†å…¶æ”¹é€ ä¸ºå¤šç§Ÿæˆ·ã€‚</p><p>åœ¨æµè§ˆå™¨ä¸­ï¼Œä¸€ä¸ªæµè§ˆå™¨çš„é¡µé¢ç¼–è¾‘çš„æ˜¯ä¸€ä¸ªæ–‡æ¡£ï¼Œä¸åŒé¡µé¢ç¼–è¾‘ä¸åŒçš„æ–‡æ¡£ã€‚æ‰€ä»¥åœ¨æˆ‘ä»¬çš„æµè§ˆå™¨ç«¯çš„ dom.js é‡Œé¢ï¼Œå¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„ DOM æ¨¡å‹æ˜¯å•æ–‡æ¡£çš„è®¾è®¡ã€‚</p><p>ä½†æ˜¾ç„¶ï¼ŒæœåŠ¡ç«¯å’Œæµè§ˆå™¨ç«¯è¿™ä¸€ç‚¹æ˜¯ä¸åŒçš„ï¼Œå°±ç®—æ²¡æœ‰å¤šç§Ÿæˆ·ï¼Œä½†æ˜¯å¤šæ–‡æ¡£æ˜¯è·‘ä¸äº†çš„ã€‚æˆ‘ä»¬ä¸å¦¨æŠŠ QPaint çš„æ–‡æ¡£å«drawingï¼Œå¦‚æ­¤æœåŠ¡ç«¯çš„åŠŸèƒ½åŸºæœ¬ä¸Šæ˜¯ä»¥ä¸‹è¿™äº›ï¼š</p><ul>\n<li>åˆ›å»ºæ–° drawing æ–‡æ¡£ï¼›</li>\n<li>è·å– drawing æ–‡æ¡£ï¼›</li>\n<li>åˆ é™¤ drawing æ–‡æ¡£ï¼›</li>\n<li>åœ¨ drawing æ–‡æ¡£ä¸­åˆ›å»ºä¸€ä¸ªæ–° shapeï¼›</li>\n<li>å– drawing æ–‡æ¡£ä¸­çš„ä¸€ä¸ª shapeï¼›</li>\n<li>ä¿®æ”¹ drawing æ–‡æ¡£ä¸­çš„ä¸€ä¸ª shapeï¼ŒåŒ…æ‹¬ç§»åŠ¨ä½ç½®ã€ä¿®æ”¹å›¾å½¢æ ·å¼ï¼›</li>\n<li>ä¿®æ”¹ drawing æ–‡æ¡£ä¸­çš„ä¸€ä¸ª shape çš„ zorder æ¬¡åºï¼ˆæµè§ˆå™¨ç«¯æœªå®ç°ï¼‰ï¼›</li>\n<li>åˆ é™¤ drawing æ–‡æ¡£çš„ä¸€ä¸ª shapeã€‚</li>\n</ul><p>å®Œæ•´çš„ç½‘ç»œåè®®è§ä¸‹è¡¨ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/1b/c3/1b174cea94808537e21c5328ad2b8bc3.png?wh=760*1115\" alt=\"\"></p><p>å…¶ä¸­<code>&lt;Shape&gt;</code>æ˜¯è¿™æ ·çš„ï¼š</p><!-- [[[read_end]]] --><pre><code>&quot;path&quot;: {\n    &quot;points&quot;: [\n        {&quot;x&quot;: &lt;X&gt;, &quot;y&quot;: &lt;Y&gt;},\n        ...\n    ],\n    &quot;close&quot;: &lt;Boolean&gt;,\n    &quot;style&quot;: &lt;ShapeStyle&gt;\n}\n</code></pre><p>æˆ–:</p><pre><code>&quot;line&quot;: {\n    &quot;pt1&quot;: {&quot;x&quot;: &lt;X&gt;, &quot;y&quot;: &lt;Y&gt;},\n    &quot;pt2&quot;: {&quot;x&quot;: &lt;X&gt;, &quot;y&quot;: &lt;Y&gt;},\n    &quot;style&quot;: &lt;ShapeStyle&gt;\n}\n</code></pre><p>æˆ–ï¼š</p><pre><code>&quot;rect&quot;: {\n    &quot;x&quot;: &lt;X&gt;,\n    &quot;y&quot;: &lt;Y&gt;,\n    &quot;width&quot;: &lt;Width&gt;,\n    &quot;height&quot;: &lt;Height&gt;,\n    &quot;style&quot;: &lt;ShapeStyle&gt;\n}\n</code></pre><p>æˆ–ï¼š</p><pre><code>&quot;ellipse&quot;: {\n    &quot;x&quot;: &lt;X&gt;,\n    &quot;y&quot;: &lt;Y&gt;,\n    &quot;radiusX&quot;: &lt;RadiusX&gt;,\n    &quot;radiusY&quot;: &lt;RadiusY&gt;,\n    &quot;style&quot;: &lt;ShapeStyle&gt;\n}\n</code></pre><p>å…¶ä¸­<code>&lt;ShapeStyle&gt;</code>æ˜¯è¿™æ ·çš„ï¼š</p><pre><code>{\n    &quot;lineWidth&quot;: &lt;Width&gt;,  // çº¿å®½\n    &quot;lineColor&quot;: &lt;Color&gt;,  // çº¿å‹é¢œè‰²\n    &quot;fillColor&quot;: &lt;Color&gt;   // å¡«å……è‰²\n}\n</code></pre><p>å…¶ä¸­<code>&lt;ZorderOperation&gt;</code>å¯èƒ½çš„å€¼ä¸ºï¼š</p><ul>\n<li>\"top\": åˆ°æœ€é¡¶</li>\n<li>\"bottom\": åˆ°æœ€åº•</li>\n<li>\"front\": å¾€å‰ä¸€å±‚</li>\n<li>\"back\": å¾€åä¸€å±‚</li>\n</ul><p>æ•´ä½“æ¥è¯´ï¼Œè¿™å¥—ç½‘ç»œåè®®æ¯”è¾ƒç›´ç™½ä½“ç°äº†å…¶å¯¹åº”çš„åŠŸèƒ½å«ä¹‰ã€‚æˆ‘ä»¬éµå¾ªè¿™æ ·ä¸€å¥—ç½‘ç»œåè®®å®šä¹‰çš„èŒƒå¼ï¼š</p><ul>\n<li>åˆ›å»ºå¯¹è±¡ï¼šPOST /objects</li>\n<li>ä¿®æ”¹å¯¹è±¡ï¼šPOST /objects/<code>&lt;ObjectID&gt;</code></li>\n<li>åˆ é™¤å¯¹è±¡ï¼šDELETE /objects/<code>&lt;ObjectID&gt;</code></li>\n<li>æŸ¥è¯¢å¯¹è±¡ï¼šGET /objects/<code>&lt;ObjectID&gt;</code></li>\n</ul><p>å…¶å®è¿˜æœ‰ä¸€ä¸ªåˆ—å‡ºå¯¹è±¡ï¼Œåªä¸è¿‡æˆ‘ä»¬è¿™é‡Œæ²¡æœ‰ç”¨åˆ°ï¼š</p><ul>\n<li>åˆ—å‡ºæ‰€æœ‰å¯¹è±¡ï¼šGET /objects</li>\n<li>åˆ—å‡ºç¬¦åˆæ¡ä»¶çš„å¯¹è±¡ï¼šGET /objects?key=value</li>\n</ul><p>å¦å¤–ï¼Œæœ‰ä¸€ä¸ªåœ¨ç½‘ç»œè®¾è®¡æ—¶éœ€è¦ç‰¹åˆ«æ³¨æ„çš„ç‚¹æ˜¯ï¼šå¯¹é‡è¯•çš„å‹å¥½æ€§ã€‚</p><p>ä¸ºä»€ä¹ˆæˆ‘ä»¬å¿…é¡»è¦å……åˆ†è€ƒè™‘é‡è¯•çš„å‹å¥½æ€§ï¼Ÿå› ä¸ºç½‘ç»œæ˜¯ä¸ç¨³å®šçš„ã€‚è¿™æ„å‘³ç€ï¼Œåœ¨å‘ç”Ÿä¸€æ¬¡ç½‘ç»œè¯·æ±‚å¤±è´¥æ—¶ï¼Œåœ¨ä¸€äº›åœºæ™¯ä¸‹ä½ ä¸ä¸€å®šèƒ½ç¡®å®šè¯·æ±‚çš„çœŸå®çŠ¶æ€ã€‚</p><p>åœ¨å°æ¦‚ç‡çš„æƒ…å†µä¸‹ï¼Œæœ‰å¯èƒ½æœåŠ¡ç«¯å·²ç»æ‰§è¡Œäº†é¢„æœŸçš„æ“ä½œï¼Œåªä¸è¿‡è¿”è¿˜ç»™å®¢æˆ·ç«¯çš„æ—¶å€™ç½‘ç»œå‡ºç°äº†é—®é¢˜ã€‚åœ¨é‡è¯•æ—¶ä½ ä»¥ä¸ºåªæ˜¯é‡è¯•ï¼Œä½†å®é™…ä¸Šæ˜¯åŒä¸€ä¸ªæ“ä½œæ‰§è¡Œäº†ä¸¤éã€‚</p><p>æ‰€è°“é‡è¯•çš„å‹å¥½æ€§ï¼Œæ˜¯æŒ‡åŒä¸€ä¸ªæ“ä½œæ‰§è¡Œä¸¤éï¼Œå…¶æ‰§è¡Œç»“æœå’Œåªæ‰§è¡Œä¸€éä¸€è‡´ã€‚</p><p>åªè¯»æ“ä½œï¼Œæ¯”å¦‚æŸ¥è¯¢å¯¹è±¡æˆ–åˆ—å‡ºå¯¹è±¡ï¼Œæ¯«æ— ç–‘é—®æ˜¾ç„¶æ˜¯é‡è¯•å‹å¥½çš„ã€‚</p><p>åˆ›å»ºå¯¹è±¡ï¼ˆPOST /objectsï¼‰å¾€å¾€å®¹æ˜“è¢«å®ç°ä¸ºé‡è¯•ä¸å‹å¥½çš„ï¼Œæ‰§è¡Œä¸¤éä¼šåˆ›å»ºå‡ºä¸¤ä¸ªå¯¹è±¡æ¥ã€‚æˆ‘ä»¬å¯¹æ¯”ä¸€ä¸‹è¿™é‡Œåˆ›å»ºæ–°drawingå’Œåˆ›å»ºæ–°shapeçš„å·®åˆ«ï¼š</p><pre><code>POST /drawings\n</code></pre><pre><code>POST /drawings/&lt;DrawingID&gt;/shapes\nContent-Type: application/json\n\n{\n    &quot;id&quot;: &lt;ShapeID&gt;,\n    &lt;Shape&gt;\n}\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œåˆ›å»ºæ–° shape æ—¶ä¼ å…¥äº† ShapeIDï¼Œä¹Ÿå°±æ˜¯è¯´æ˜¯ç”±å®¢æˆ·ï¼ˆæµè§ˆå™¨ç«¯ï¼‰åˆ†é… ShapeIDã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å¦‚æœä¸Šä¸€æ¬¡æœåŠ¡ç«¯å·²ç»æ‰§è¡Œè¿‡è¯¥å¯¹è±¡çš„åˆ›å»ºï¼Œå¯ä»¥è¿”å›å¯¹è±¡å·²ç»å­˜åœ¨çš„é”™è¯¯ï¼ˆæˆ‘ä»¬ç”¨ status = 409 å†²çªæ¥è¡¨ç¤ºï¼‰ã€‚</p><p>è€Œåˆ›å»ºæ–° drawing å¹¶æ²¡æœ‰ä¼ å…¥ä»€ä¹ˆå‚æ•°ï¼Œæ‰€ä»¥ä¸ä¼šå‘ç”Ÿä»€ä¹ˆå†²çªï¼Œé‡å¤è°ƒç”¨å°±ä¼šåˆ›å»ºä¸¤ä¸ªæ–° drawing å‡ºæ¥ã€‚</p><p>é€šè¿‡ä»¥ä¸Šåˆ†æï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºï¼šåˆ›å»ºæ–° shape æ˜¯é‡è¯•å‹å¥½çš„ï¼Œè€Œåˆ›å»º drawing ä¸æ˜¯é‡è¯•å‹å¥½çš„ã€‚é‚£ä¹ˆæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿæœ‰è¿™ä¹ˆå‡ ç§å¯èƒ½ï¼š</p><ul>\n<li>å®¢æˆ·ç«¯ä¼  idï¼ˆå’Œä¸Šé¢åˆ›å»ºæ–° shape ä¸€æ ·ï¼‰ï¼›</li>\n<li>å®¢æˆ·ç«¯ä¼  nameï¼›</li>\n<li>å®¢æˆ·ç«¯ä¼  uuidã€‚</li>\n</ul><p>å½“ç„¶è¿™ä¸‰ç§æ–¹å¼æœ¬è´¨ä¸Šçš„å·®åˆ«å¹¶ä¸å¤§ã€‚æ¯”å¦‚å®¢æˆ·ç«¯ä¼  nameï¼Œå¦‚æœåé¢å…¶ä»–æ“ä½œå¼•ç”¨æ—¶ç”¨çš„ä¹Ÿæ˜¯ nameï¼Œé‚£ä¹ˆæœ¬è´¨ä¸Šè¿™ä¸ª name å°±æ˜¯ idã€‚</p><p>ä¼  uuid å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§å¸¸è§„é‡è¯•å‹å¥½çš„æ”¹é€ æ‰‹æ³•ã€‚è¿™é‡Œ uuid å¹¶æ²¡æœ‰å®é™…å«ä¹‰ï¼Œä½ å¯ä»¥ç†è§£ä¸ºå®ƒæ˜¯ drawing çš„å”¯ä¸€åºåˆ—å·ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºç½‘ç»œè¯·æ±‚çš„å”¯ä¸€åºåˆ—å·ã€‚å½“ç„¶è¿™ä¸¤ç§ä¸åŒç†è§£çš„ç½‘ç»œåè®®è¡¨ç°ä¸Šä¼šç•¥æœ‰ä¸åŒï¼Œå¦‚ä¸‹ï¼š</p><pre><code>POST /drawings\nContent-Type: application/json\n\n{\n    &quot;uuid&quot;: &lt;DrawingUUID&gt;\n}\n</code></pre><pre><code>POST /drawings\nContent-Type: application/json\nX-Req-Uuid: &lt;RequestUUID&gt;\n</code></pre><p>ä¿®æ”¹å¯¹è±¡å’Œåˆ é™¤å¯¹è±¡ï¼Œå¾€å¾€æ˜¯æ¯”è¾ƒå®¹æ˜“åšåˆ°é‡è¯•å‹å¥½ã€‚ä½†è¿™å¹¶ä¸ç»å¯¹ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™ä¸ªä¾‹å­ä¸­ â€œä¿®æ”¹shapeçš„é¡ºåºâ€ï¼Œå®ƒçš„ç½‘ç»œåè®®æ˜¯è¿™æ ·çš„ï¼š</p><pre><code>POST /drawings/&lt;DrawingID&gt;/shapes/&lt;ShapeID&gt;\nContent-Type: application/json\n\n{\n    &quot;zorder&quot;: &lt;ZorderOperation&gt;\n}\n</code></pre><p>å…¶ä¸­<code>&lt;ZorderOperation&gt;</code>å¯èƒ½çš„å€¼ä¸ºï¼š</p><ul>\n<li>\"top\": åˆ°æœ€é¡¶</li>\n<li>\"bottom\": åˆ°æœ€åº•</li>\n<li>\"front\": å¾€å‰ä¸€å±‚</li>\n<li>\"back\": å¾€åä¸€å±‚</li>\n</ul><p>åœ¨ ZorderOperation ä¸º \"front\" æˆ– \"back\" æ—¶ï¼Œé‡å¤æ‰§è¡Œä¸¤éå°±ä¼šå¯¼è‡´ shape å¾€å‰ï¼ˆæˆ–å¾€åï¼‰ç§»åŠ¨ 2 å±‚ã€‚</p><p>æ€ä¹ˆè°ƒæ•´ï¼Ÿ</p><p>æœ‰ä¸¤ä¸ªåŠæ³•ã€‚ä¸€ä¸ªæ–¹æ³•æ˜¯æŠŠä¿®æ”¹æ“ä½œç”¨ç»å¯¹å€¼è¡¨ç¤ºï¼Œè€Œä¸æ˜¯ç›¸å¯¹å€¼ã€‚æ¯”å¦‚ ZorderOperation ä¸º \"front\" æˆ– \"back\" æ˜¯ç›¸å¯¹å€¼ï¼Œä½†æ˜¯ Zorder = 5 æ˜¯ç»å¯¹å€¼ã€‚</p><p>å¦ä¸€ä¸ªæ–¹æ³•æ˜¯é€šç”¨çš„ï¼Œå°±æ˜¯ç”¨è¯·æ±‚çš„åºåˆ—å·ï¼ˆRequestUUIDï¼‰ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨ä¸Šé¢åˆ›å»ºæ–° drawing å·²ç»ç”¨è¿‡äº†ï¼Œè¿™é‡Œè¿˜å¯ä»¥ç”¨ï¼š</p><pre><code>POST /drawings/&lt;DrawingID&gt;/shapes/&lt;ShapeID&gt;\nContent-Type: application/json\nX-Req-Uuid: &lt;RequestUUID&gt;\n\n{\n    &quot;zorder&quot;: &lt;ZorderOperation&gt;\n}\n</code></pre><p>å½“ç„¶ç”¨è¯·æ±‚åºåˆ—å·æ˜¯æœ‰é¢å¤–ä»£ä»·çš„ï¼Œå› ä¸ºè¿™æ„å‘³ç€æœåŠ¡ç«¯è¦æŠŠæœ€è¿‘æ‰§è¡ŒæˆåŠŸçš„æ‰€æœ‰çš„è¯·æ±‚åºåˆ—å·ï¼ˆRequestUUIDï¼‰è®°å½•ä¸‹æ¥ï¼Œåœ¨æ”¶åˆ°å¸¦è¯·æ±‚åºåˆ—å·çš„è¯·æ±‚æ—¶ï¼Œæ£€æŸ¥è¯¥åºåˆ—å·çš„è¯·æ±‚æ˜¯å¦å·²ç»æˆåŠŸæ‰§è¡Œï¼Œå·²ç»æ‰§è¡Œè¿‡å°±æŠ¥å†²çªã€‚</p><p>åœ¨ç½‘ç»œåè®®çš„è®¾è®¡ä¸Šï¼Œè¿˜æœ‰ä¸€ä¸ªä¸šåŠ¡ç›¸å…³çš„ç»†èŠ‚å€¼å¾—ä¸€æã€‚</p><p>ç»†å¿ƒçš„ä½ å¯èƒ½ç•™æ„åˆ°ï¼Œæˆ‘ä»¬ Shape çš„ json è¡¨ç¤ºï¼Œåœ¨ç½‘ç»œåè®®å’Œ localStorage å­˜å‚¨çš„æ ¼å¼å¹¶ä¸åŒã€‚åœ¨ç½‘ç»œåè®®ä¸­æ˜¯ï¼š</p><pre><code>{\n    &quot;id&quot;: &lt;ShapeID&gt;,\n    &quot;path&quot;: {\n        &quot;points&quot;: [\n            {&quot;x&quot;: &lt;X&gt;, &quot;y&quot;: &lt;Y&gt;},\n            ...\n        ],\n        &quot;close&quot;: &lt;Boolean&gt;,\n        &quot;style&quot;: &lt;ShapeStyle&gt;\n    }  \n}\n</code></pre><p>è€Œåœ¨ localStorage ä¸­çš„æ˜¯ï¼š</p><pre><code>{\n    &quot;type&quot;: &quot;path&quot;,\n    &quot;id&quot;: &lt;ShapeID&gt;,\n    &quot;points&quot;: [\n        {&quot;x&quot;: &lt;X&gt;, &quot;y&quot;: &lt;Y&gt;},\n        ...\n    ],\n    &quot;close&quot;: &lt;Boolean&gt;,\n    &quot;style&quot;: &lt;ShapeStyle&gt;\n}\n</code></pre><p>ä»ç»“æ„åŒ–æ•°æ®çš„ Schema è®¾è®¡è§’åº¦ï¼ŒlocalStorage ä¸­çš„å®ç°æ˜¯æ—  Schema æ¨¡å¼ï¼Œè¿‡äºéšæ„ã€‚è¿™æ˜¯å› ä¸º localStorage åªæ˜¯æœ¬åœ°è‡ªå·±ç”¨çš„ç¼“å­˜ï¼Œå½±å“èŒƒå›´æ¯”è¾ƒå°ï¼Œæ•…è€Œæˆ‘ä»¬é€‰æ‹©äº†æ€ä¹ˆæ–¹ä¾¿æ€ä¹ˆæ¥çš„æ¨¡å¼ã€‚è€Œç½‘ç»œåè®®æœªæ¥æœ‰å¯èƒ½ä½œä¸ºä¸šåŠ¡çš„å¼€æ”¾ API ï¼Œéœ€è¦ä¸¥è°¨å¯¹å¾…ã€‚</p><h2>ç‰ˆæœ¬å‡çº§</h2><p>å¦å¤–ï¼Œè¿™ä¸ªç”»å›¾ç¨‹åºæ¯•ç«Ÿåªæ˜¯ä¸€ä¸ª DEMO ç¨‹åºï¼Œæ‰€ä»¥è¿˜æœ‰ä¸€äº›å¸¸è§ç½‘ç»œåè®®çš„é—®é¢˜å¹¶æ²¡æœ‰åœ¨è€ƒè™‘èŒƒå›´ä¹‹å†…ã€‚</p><p>æ¯”å¦‚ä»æ›´é•¿è¿œçš„è§’åº¦ï¼Œç½‘ç»œåè®®å¾€å¾€è¿˜æ¶‰åŠåè®®çš„ç‰ˆæœ¬ç®¡ç†é—®é¢˜ã€‚ç½‘ç»œåè®®æ˜¯ä¸€ç»„å¼€æ”¾ API æ¥å£ï¼Œä¸€æ—¦æ”¾å‡ºå»äº†å°±å¾ˆéš¾æ”¶å›ï¼Œéœ€è¦è€ƒè™‘åè®®çš„å…¼å®¹ã€‚</p><p>ä¸ºäº†ä¾¿äºæœªæ¥åè®®å‡çº§çš„è¾¹ç•Œï¼Œå¾ˆå¤šç½‘ç»œåè®®éƒ½ä¼šå¸¦ä¸Šç‰ˆæœ¬å·ã€‚æ¯”å¦‚ï¼š</p><pre><code>POST /v1/objects\nPOST /v1/objects/&lt;ObjectID&gt;\nDELETE /v1/objects/&lt;ObjectID&gt;\nGET /v1/objects/&lt;ObjectID&gt;\nGET /v1/objects?key=value\n</code></pre><p>åœ¨åè®®å‘ç”Ÿäº†ä¸å…¼å®¹çš„å˜æ›´æ—¶ï¼Œæˆ‘ä»¬ä¼šå€¾å‘äºå‡çº§ç‰ˆæœ¬ï¼Œæ¯”å¦‚å‡ä¸º v2 ç‰ˆæœ¬ï¼š</p><pre><code>POST /v2/objects\nPOST /v2/objects/&lt;ObjectID&gt;\nDELETE /v2/objects/&lt;ObjectID&gt;\nGET /v2/objects/&lt;ObjectID&gt;\nGET /v2/objects?key=value\n</code></pre><p>è¿™æ ·åšæœ‰è¿™ä¹ˆä¸€äº›å¥½å¤„ï¼š</p><ul>\n<li>å¯ä»¥é€æ­¥ä¸‹çº¿æ—§ç‰ˆæœ¬çš„æµé‡ï¼Œä¸€æ®µæ—¶é—´å†…è®©ä¸¤ä¸ªç‰ˆæœ¬çš„åè®®å¹¶å­˜ï¼›</li>\n<li>å¯ä»¥æ–°è€ç‰ˆæœ¬çš„ä¸šåŠ¡æœåŠ¡å™¨ç›¸äº’ç‹¬ç«‹ï¼Œå‰ç«¯ç”± nginx æˆ–å…¶ä»–çš„åº”ç”¨ç½‘å…³æ¥åˆ†æ´¾ã€‚</li>\n</ul><h2>ç¬¬ä¸€ä¸ªå®ç°ç‰ˆæœ¬</h2><p>èŠå®Œäº†ç½‘ç»œåè®®ï¼Œæˆ‘ä»¬å°±è¦å¼€å§‹è€ƒè™‘æœåŠ¡ç«¯çš„å®ç°ã€‚åœ¨é€‰æ‹©ç¬¬ä¸€ä¸ªå®ç°ç‰ˆæœ¬æ€ä¹ˆåšæ—¶ï¼Œæœ‰è¿™æ ·å‡ ç§å¯èƒ½æ€§ã€‚</p><p>ç¬¬ä¸€ç§ï¼Œå½“ç„¶æ˜¯å¸¸è§„çš„æ†‹å¤§æ‹›æ¨¡å¼ã€‚ç›´æ¥åšä¸šåŠ¡æ¶æ„è®¾è®¡ã€æ¶æ„è¯„å®¡ã€ç¼–ç ã€æµ‹è¯•ï¼Œå¹¶æœ€åä¸Šçº¿ã€‚</p><p>ç¬¬äºŒç§ï¼Œæ˜¯åšä¸€ä¸ª Mock ç‰ˆæœ¬çš„æœåŠ¡ç«¯ç¨‹åºã€‚</p><p>ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><p>åŒºåˆ«åœ¨äºï¼ŒæœåŠ¡ç«¯ç¨‹åºä»æ¶æ„è®¾è®¡è§’åº¦ï¼Œå°±ç®—æ˜¯éä¸šåŠ¡ç›¸å…³çš„é€šç”¨å‹é—®é¢˜ä¹Ÿæ˜¯å¾ˆå¤šçš„ï¼Œæ¯”å¦‚é«˜å¯é å’Œé«˜å¯ç”¨ã€‚</p><p>é«˜å¯é æ˜¯æŒ‡æ•°æ®ä¸èƒ½ä¸¢ã€‚å°±ç®—æœåŠ¡å™¨çš„ç¡¬ç›˜åäº†ï¼Œæ•°æ®ä¹Ÿä¸èƒ½ä¸¢ã€‚è¿™è¿˜æ²¡ä»€ä¹ˆï¼Œå¾ˆå¤šæœåŠ¡ç”šè‡³è¦æ±‚ï¼Œåœ¨æœºæˆ¿å±‚é¢å‡ºç°å¤§é¢ç§¯äº‹æ•…æ¯”å¦‚åœ°éœ‡ï¼Œä¹Ÿä¸èƒ½å‡ºç°æ•°æ®ä¸¢å¤±ã€‚</p><p>é«˜å¯ç”¨æ˜¯æŒ‡æœåŠ¡ä¸èƒ½å­˜åœ¨å•ç‚¹æ•…éšœã€‚ä»»ä½•ä¸€å°ç”šè‡³å‡ å°æœåŠ¡å™¨åœæœºäº†ï¼Œç”¨æˆ·è¿˜è¦èƒ½å¤Ÿæ­£å¸¸è®¿é—®ã€‚ä¸€äº›æœåŠ¡æ¯”å¦‚æ”¯ä»˜å®ï¼Œç”šè‡³è¦æ±‚åšåˆ°è·¨æœºæˆ¿çš„å¼‚åœ°åŒæ´»ã€‚åœ¨ä¸€ä¸ªæœºæˆ¿æ•…éšœæ—¶ï¼Œæ•´ä¸ªä¸šåŠ¡ä¸èƒ½å‡ºç°ä¸­æ–­ã€‚</p><p>åœ¨æ²¡æœ‰å¥½çš„åŸºç¡€è®¾æ–½ä¸‹ï¼Œè¦åšå¥½ä¸€ä¸ªå¥½çš„æœåŠ¡ç«¯ç¨‹åºå¹¶ä¸é‚£ä¹ˆå®¹æ˜“ã€‚æ‰€ä»¥å¦ä¸€ä¸ªé€‰æ‹©æ˜¯å…ˆåšä¸€ä¸ª Mock ç‰ˆæœ¬çš„æœåŠ¡ç«¯ç¨‹åºã€‚</p><p>è¿™ä¸æ˜¯å¢åŠ äº†å·¥ä½œé‡ï¼Ÿæœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ</p><p>å…¶ä¸€ï¼Œæ˜¯è®©å›¢é˜Ÿå·¥ä½œå¹¶è¡Œã€‚ä¸åŒå›¢é˜Ÿåä½œçš„åŸºç¡€å°±æ˜¯ç½‘ç»œåè®®ã€‚ä¸€ä¸ªå¿«é€Ÿè¢«æ‰“é€ çš„ Mock çš„æœ€å°åŒ–ç‰ˆæœ¬æœåŠ¡ç«¯ï¼Œå¯ä»¥è®©å‰ç«¯ä¸ç”¨ç­‰å¾…åç«¯ã€‚è€Œåç«¯åˆ™å¯ä»¥éå¸¸ä¾¿æ·åœ°è‡ªä¸»é’ˆå¯¹ç½‘ç»œåè®®è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œåšå¾ˆé«˜çš„æµ‹è¯•è¦†ç›–ç‡ä»¥ä¿è¯è´¨é‡ï¼Œè¿›åº¦ä¸å—å‰ç«¯å½±å“ã€‚</p><p>å…¶äºŒ ï¼Œæ˜¯è®©ä¸šåŠ¡é€»è¾‘æœ€å¿«è¢«ä¸²è”ï¼Œå¿«é€ŸéªŒè¯ç½‘ç»œåè®®çš„æœ‰æ•ˆæ€§ã€‚ä¸­é€”å¦‚æœå‘ç°ç½‘ç»œåè®®ä¸æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ï¼Œå¯ä»¥åŠæ—¶è°ƒæ•´è¿‡æ¥ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬ç¬¬ä¸€ç‰ˆçš„æœåŠ¡ç«¯ç¨‹åºï¼Œæ˜¯ Mock çš„ç‰ˆæœ¬ã€‚Mock ç‰ˆæœ¬ä¸å¿…è€ƒè™‘å¤ªå¤šæœåŠ¡ç«¯é¢†åŸŸçš„é—®é¢˜ï¼Œå®ƒçš„æ ¸å¿ƒä»·å€¼å°±æ˜¯ä¸²è”ä¸šåŠ¡ã€‚æ‰€ä»¥ Mock ç‰ˆæœ¬çš„æœåŠ¡å™¨ç”šè‡³ä¸éœ€è¦ä¾èµ–æ•°æ®åº“ï¼Œç›´æ¥æ‰€æœ‰çš„ä¸šåŠ¡é€»è¾‘åŸºäºå†…å­˜ä¸­çš„æ•°æ®ç»“æ„å°±è¡Œã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><ul>\n<li><a href=\"https://github.com/qiniu/qpaint/tree/v29/paintdom\">https://github.com/qiniu/qpaint/tree/v29/paintdom</a></li>\n</ul><p>æ­£å¼ç‰ˆç”»å›¾ç¨‹åºçš„æœåŠ¡ç«¯ï¼Œæˆ‘ä»¬ä¼šåœ¨åé¢æœåŠ¡ç«¯å¼€å‘ä¸€ç« çš„å®æˆ˜ä¸­ç»§ç»­å»å®Œæˆã€‚</p><p>ä»æ¶æ„è§’åº¦æ¥è¯´ï¼Œè¿™ä¸ª paintdom ç¨‹åºåˆ†ä¸ºä¸¤å±‚ï¼šModel å±‚å’Œ Controller å±‚ã€‚</p><p>æˆ‘ä»¬é¦–å…ˆçœ‹ä¸€ä¸‹ Model å±‚ã€‚å®ƒçš„æºä»£ç æ˜¯ï¼š</p><ul>\n<li><a href=\"https://github.com/qiniu/qpaint/blob/v29/paintdom/shape.go\">paintdom/shape.go</a></li>\n<li><a href=\"https://github.com/qiniu/qpaint/blob/v29/paintdom/drawing.go\">paintdom/drawing.go</a></li>\n</ul><p>Model å±‚ä¸ç½‘ç»œæ— å…³ï¼Œæœ‰çš„åªæ˜¯çº¯çº¯ç²¹ç²¹çš„ä¸šåŠ¡æ ¸å¿ƒé€»è¾‘ã€‚å®ƒå®ç°äº†ä¸€ä¸ªå¤šæ–‡æ¡£ç‰ˆæœ¬çš„ç”»å›¾ç¨‹åºï¼Œé€»è¾‘ç»“æ„ä¹Ÿæ˜¯ä¸€æ£µ DOM æ ‘ï¼Œåªä¸è¿‡æ¯”æµè§ˆå™¨ç«¯å¤šäº†ä¸€å±‚ï¼š</p><ul>\n<li>Document =&gt; Drawing =&gt; Shape =&gt; ShapeStyle</li>\n</ul><p>æµè§ˆå™¨ç«¯çš„ QPaintDocï¼Œå¯¹åº”çš„æ˜¯è¿™é‡Œçš„ Drawingï¼Œè€Œä¸æ˜¯è¿™é‡Œçš„ Documentã€‚</p><p>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ Controller å±‚ã€‚å®ƒçš„æºä»£ç æ˜¯ï¼š</p><ul>\n<li><a href=\"https://github.com/qiniu/qpaint/blob/v29/paintdom/service.go\">paintdom/service.go</a></li>\n</ul><p>Controller å±‚å®ç°çš„æ˜¯ç½‘ç»œåè®®ã€‚ä½ å¯èƒ½è§‰å¾—å¥‡æ€ªï¼Œæˆ‘ä¸ºä»€ä¹ˆä¼šæŠŠç½‘ç»œåè®®å±‚çœ‹ä½œ Controller å±‚ï¼Œé‚£ä¹ˆ MVC ä¸­ View å±‚å»äº†å“ªé‡Œã€‚</p><p>é¦–å…ˆæœåŠ¡ç«¯ç¨‹åºå¤§éƒ¨åˆ†æƒ…å†µä¸‹å¹¶ä¸éœ€è¦æ˜¾ç¤ºæ¨¡å—ï¼Œæ‰€ä»¥ä¸å­˜åœ¨ View å±‚ã€‚ç½‘ç»œåè®®å±‚ä¸ºä»€ä¹ˆå¯ä»¥çœ‹ä½œ Controller å±‚ï¼Œæ˜¯å› ä¸ºå®ƒè´Ÿè´£æ¥å—ç”¨æˆ·è¾“å…¥ã€‚åªä¸è¿‡ç”¨æˆ·è¾“å…¥ä¸æ˜¯æˆ‘ä»¬æ—¥å¸¸ç†è§£çš„ç”¨æˆ·äº¤äº’ï¼Œè€Œæ˜¯æ¥è‡ªæŸä¸ªè‡ªåŠ¨åŒ–æ§åˆ¶ï¼ˆAutomationï¼‰ç¨‹åºçš„ API è¯·æ±‚ã€‚</p><p>è™½ç„¶è¿™ä¸ª paintdom ç¨‹åºçš„å®ç°ï¼Œæœ‰ä¸€äº› Go è¯­è¨€ç›¸å…³çš„çŸ¥è¯†ç‚¹æ˜¯æŒºå€¼å¾—è®²çš„ï¼Œå°¤å…¶æ˜¯ç½‘ç»œåè®®å®ç°ç›¸å…³çš„éƒ¨åˆ†ã€‚ä¸è¿‡æˆ‘è¿™é‡Œå°±ä¸åšå±•å¼€äº†ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡Œå­¦ä¹ ä¸€ä¸‹ Go è¯­è¨€ã€‚</p><p>æ€»ä½“æ¥è¯´ï¼Œä¸šåŠ¡é€»è¾‘ç›¸å…³çš„éƒ¨åˆ†ç†è§£èµ·æ¥ç›¸å¯¹å®¹æ˜“ï¼Œæˆ‘ä»¬è¿™é‡Œä¸å†èµ˜è¿°ã€‚</p><h2>ç»“è¯­</h2><p>ä»Šå¤©æˆ‘ä»¬é‡ç‚¹è®¨è®ºäº† â€œç”»å›¾â€ ç¨‹åºçš„ç½‘ç»œåè®®ï¼Œç»™å‡ºäº†å¸¸è§„ç½‘ç»œåè®®è®¾è®¡ä¸Šçš„ä¸€äº›è€ƒé‡ç‚¹ã€‚ç½‘ç»œåè®®çš„åœ°ä½éå¸¸å…³é”®ï¼Œå®ƒæ˜¯ä¸€ä¸ª B/S æˆ– C/S ç¨‹åºå‰åç«¯è€¦åˆçš„ä½¿ç”¨ç•Œé¢ï¼Œå› è€Œä¹Ÿæ˜¯å½±å“å›¢é˜Ÿå¼€å‘æ•ˆç‡çš„å…³é”®ç‚¹ã€‚</p><p>å¦‚ä½•åŠæ—©ç¨³å®šç½‘ç»œåè®®ï¼Ÿå¦‚ä½•åŠæ—©è®©å‰ç«¯ç¨‹åºå‘˜å¯ä»¥ä¸æœåŠ¡ç«¯è”è°ƒï¼Ÿè¿™äº›éƒ½æ˜¯æˆ‘ä»¬åº”è¯¥é‡ç‚¹å…³æ³¨çš„åœ°æ–¹ã€‚</p><p>å®šä¹‰æ¸…æ¥šç½‘ç»œåè®®åï¼Œæˆ‘ä»¬ç»™å‡ºäº†æ»¡è¶³æˆ‘ä»¬å®šä¹‰çš„ç½‘ç»œåè®®çš„ç¬¬ä¸€ä¸ªæœåŠ¡ç«¯å®ç°ç‰ˆæœ¬ paintdom ç¨‹åºï¼Œç”¨äºä¸²è”ä¸šåŠ¡é€»è¾‘ã€‚è¿™ä¸ªå®ç°ç‰ˆæœ¬æ˜¯ Mock ç¨‹åºï¼Œå®ƒåªå…³æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œä¸å…³å¿ƒæœåŠ¡ç«¯ç¨‹åºçš„å›ºæœ‰çš„é«˜å¯é ã€é«˜å¯ç”¨ç­‰éœ€æ±‚ã€‚åç»­åœ¨ä¸‹ä¸€ç« æœåŠ¡ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šç»§ç»­è¿­ä»£å®ƒã€‚</p><p>å¦‚æœä½ å¯¹ä»Šå¤©çš„å†…å®¹æœ‰ä»€ä¹ˆæ€è€ƒä¸è§£è¯»ï¼Œæ¬¢è¿ç»™æˆ‘ç•™è¨€ï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºã€‚ä¸‹ä¸€è®²æˆ‘ä»¬ä¼šæŠŠè¿™ä¸ª paintdom æœåŠ¡ç«¯ç¨‹åºï¼Œå’Œæˆ‘ä»¬çš„ paintweb ç”»å›¾ç¨‹åºä¸²è”èµ·æ¥ã€‚</p><p>å¦‚æœä½ è§‰å¾—æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿æŠŠæ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæˆ‘ä»¬ä¸‹æœŸå†è§ã€‚</p>","comments":[{"had_liked":false,"id":119341,"user_name":"ä¸”çœ‹æµ·æ£ ç¬‘ä¸€å›","can_delete":false,"product_type":"c1","uid":1461404,"ip_address":"","ucode":"B5DD9C590253B8","user_header":"https://static001.geekbang.org/account/avatar/00/16/4c/9c/9d0d4692.jpg","comment_is_top":false,"comment_ctime":1564565791,"is_pvip":false,"replies":[{"id":"43815","content":"ä¸€èµ·åŠ æ²¹ï¼ä¸‹ä¸€è®²ç»“æŸå®æˆ˜ï¼Œä¸è¿‡ä¹Ÿæ˜¯æ¯”è¾ƒéš¾çš„ä¸€å—ç¡¬éª¨å¤´ã€‚æˆ‘åé¢ä¼šåå¤æ‰³å¼€æ¥è°ˆè¿™ä¸ªæ¡ˆä¾‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1564586545,"ip_address":"","comment_id":119341,"utype":1}],"discussion_count":2,"race_medal":0,"score":"57399140639","product_id":100025201,"comment_content":"è¿›å…¥â€œç”»å›¾â€ç¨‹åºå®æˆ˜åï¼Œæ–‡ç« ä»ä¸€å¼€å§‹çš„é«˜å±‹å»ºç“´é€æ¸è¿›å…¥åˆ°æ¶æ„å…·ä½“çš„ç¹æç»†èŠ‚ï¼Œæ¯ä¸€ç« çš„å†…å®¹éƒ½éœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½æ¶ˆåŒ–ï¼Œä¹Ÿæ„è¯†åˆ°è‡ªå·±åœ¨å®è§‚æ¶æ„å±‚é¢ä»£ç åº”è¯¥å¦‚ä½•æœ‰æ•ˆç»„ç»‡çš„èƒ½åŠ›éå¸¸æ¬ ç¼ºã€‚<br>ç•™è¨€åŒºå’Œæ”¶è—æ•°ç›¸æ¯”å‰é¢ç« èŠ‚ä¹Ÿå°‘äº†è®¸å¤šï¼Œä¸çŸ¥é“åˆ°åº•æœ‰å¤šå°‘åŒå­¦å¯ä»¥åšæŒåˆ°è¿™é‡Œï¼Œæ¶æ„ä¹‹è·¯ä»»é‡é“è¿œï¼Œè®¸è€å¸ˆåŠ æ²¹ï¼Œå¤§å®¶ä¸€èµ·åŠ æ²¹ï¼","like_count":13,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460858,"discussion_content":"ä¸€èµ·åŠ æ²¹ï¼ä¸‹ä¸€è®²ç»“æŸå®æˆ˜ï¼Œä¸è¿‡ä¹Ÿæ˜¯æ¯”è¾ƒéš¾çš„ä¸€å—ç¡¬éª¨å¤´ã€‚æˆ‘åé¢ä¼šåå¤æ‰³å¼€æ¥è°ˆè¿™ä¸ªæ¡ˆä¾‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564586545,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1046424,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/98/e39aad6b.jpg","nickname":"å°æ—æ«","note":"","ucode":"F811592BE1E27E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344535,"discussion_content":"åªèƒ½æ…¢æ…¢ç†è§£äº†,æ¯•ç«Ÿå¤§éƒ¨éƒ½æ˜¯æ™®é€šäºº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611491303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118854,"user_name":"æœ‰é“­","can_delete":false,"product_type":"c1","uid":1046302,"ip_address":"","ucode":"2C7CB36CA5C04C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/3XbCueYYVWTiclv8T5tFpwiblOxLphvSZxL4ujMdqVMibZnOiaFK2C5nKRGv407iaAsrI0CDICYVQJtiaITzkjfjbvrQ/132","comment_is_top":false,"comment_ctime":1564452823,"is_pvip":false,"replies":[{"id":"43580","content":"æˆ‘åªè®¤è¿™ç§ï¼Œç›¸å¯¹ä¼˜é›…","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1564454972,"ip_address":"","comment_id":118854,"utype":1}],"discussion_count":5,"race_medal":0,"score":"27334256599","product_id":100025201,"comment_content":"è€å¸ˆï¼Œæˆ‘å¯¹ä½ è¯´çš„é‚£ä¸ªâ€œç½‘ç»œåè®®çš„ç‰ˆæœ¬å‡çº§é—®é¢˜â€å¾ˆæœ‰å…´è¶£ï¼Œè™½ç„¶ä½ åªæåˆ°äº†å…¶ä¸­ä¸€ç§ï¼Œå°±æ˜¯åœ¨urlä¸­åŠ ç‰ˆæœ¬å·v1ï¼Œv2è¿™ç§å½¢å¼ï¼Œä½†æ˜¯æˆ‘çœ‹è¿‡ä¸å°‘æ–‡ç« ï¼Œæœ‰ä¸å°‘æ–‡ç« æŒ‡è´£åœ¨urlä¸Šæ·»åŠ ç‰ˆæœ¬å·æ˜¯éå¸¸å…¸å‹çš„ç ´åRESTè¯­ä¹‰çš„è¡Œä¸ºï¼Œå¯¹ç½‘ç»œåè®®çš„ç‰ˆæœ¬å‡çº§é—®é¢˜ï¼Œä¼¼ä¹æ²¡æœ‰ä¸€ä¸ªç‰¹åˆ«å¥½çš„æ–¹æ¡ˆï¼Œæ— è®ºæ˜¯å†™åœ¨urlä¸Šï¼Œè¿˜æ˜¯å†™åœ¨queryStringä¸Šï¼Œéƒ½æœ‰å„è‡ªçš„é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜èƒ½å¦æ·±å…¥æ¢è®¨ä¸€ä¸‹","like_count":6,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460616,"discussion_content":"æˆ‘åªè®¤è¿™ç§ï¼Œç›¸å¯¹ä¼˜é›…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564454972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330065,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/N0NACGUr8dNAbN6BdiagPHBaB0EnyDsI9zWpwJteqTY38apOEnTOA7JkBAQnzYKJBgxu3Q8YMUILwLAB6camn4w/132","nickname":"Swing","note":"","ucode":"55FCA9ECEFBBEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":210900,"discussion_content":"åŠ åˆ° headerï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584789682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1332463,"avatar":"https://static001.geekbang.org/account/avatar/00/14/54/ef/3cdfd916.jpg","nickname":"yuhao0x0628","note":"","ucode":"BFD472974828A5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3479,"discussion_content":"æˆ‘å®¶çš„è§£æ±ºæ–¹æ¡ˆæ˜¯æ”¾åœ¨ header è£¡é¢ï¼Œä¸ç ´å£è·¯ç”±ï¼Œä¹Ÿä¸å¤šå¸¶åƒæ•¸","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1564529513,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1598272,"avatar":"https://static001.geekbang.org/account/avatar/00/18/63/40/b9615c81.jpg","nickname":"Jeyrce.Lu","note":"","ucode":"11D2607A2FDEA8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558353,"discussion_content":"æ”¾åœ¨è¯·æ±‚å¤´ï¼Œæˆ–è€…è·¯ç”±ï¼Œæˆ–è€…querystringï¼Œè¦ä¹ˆé€šè¿‡åŸŸåæ¥è½¬æ¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648229602,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1503506,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f1/12/7dac30d6.jpg","nickname":"ä½ ä¸ºå•¥é‚£ä¹ˆç‰›","note":"","ucode":"1ABC604A54A8F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53344,"discussion_content":"å‡çº§ç³»ç»Ÿ æˆ‘ä¹Ÿæ˜¯ç”¨v1æ¥è¡¨ç¤ºï¼Œå½“æ—¶è¢«äººå—¤ä¹‹ä»¥é¼»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574160271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118765,"user_name":"tingye","can_delete":false,"product_type":"c1","uid":1391463,"ip_address":"","ucode":"54F7A44066DF5D","user_header":"https://static001.geekbang.org/account/avatar/00/15/3b/67/c188d3bc.jpg","comment_is_top":false,"comment_ctime":1564446430,"is_pvip":false,"replies":[{"id":"43558","content":"ç½‘ç»œåè®®çš„ç¡®æ˜¯ä¸€ä¸ªæœ‰æ­§ä¹‰çš„è¯","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1564452144,"ip_address":"","comment_id":118765,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23039282910","product_id":100025201,"comment_content":"æ–‡ä¸­ç½‘ç»œåè®®æ”¹æˆæ¥å£åè®®ä¼¼ä¹æ›´å¥½ç†è§£","like_count":5,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460564,"discussion_content":"ç½‘ç»œåè®®çš„ç¡®æ˜¯ä¸€ä¸ªæœ‰æ­§ä¹‰çš„è¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564452144,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1012205,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/71/ed/45ab9f03.jpg","nickname":"å…«å“¥","note":"","ucode":"ED2E09CBBFC060","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3406,"discussion_content":"æ¥å£ç¡®å®æ›´é€šä¿—ä¸€äº›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564460588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118791,"user_name":"é£æ¸…æ‰¬","can_delete":false,"product_type":"c1","uid":1244612,"ip_address":"","ucode":"2D8F82FE6877FF","user_header":"https://static001.geekbang.org/account/avatar/00/12/fd/c4/26217aa4.jpg","comment_is_top":false,"comment_ctime":1564447924,"is_pvip":false,"replies":[{"id":"43576","content":"è·¯ç”±æ€ä¹ˆè§£é‡Šå¯ä»¥çœ‹ä¸€ä¸‹goä»£ç ã€‚è‡³äºç”¨postè¿˜æ˜¯putï¼Œè¿™ä¸ªä¸€å®šç¨‹åº¦æ¥è¯´åªæ˜¯ä¸€ä¸ªä¹ æƒ¯é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1564453191,"ip_address":"","comment_id":118791,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18744317108","product_id":100025201,"comment_content":"è€å¸ˆï¼Œå’±ä»¬é‡‡ç”¨çš„åº”è¯¥æ˜¯restfulåè®®ï¼Œé‚£ä¸ºå•¥ä¿®æ”¹ä¸ç”¨putï¼Œè€Œæ˜¯è·Ÿæ–°å»ºåŒä¸€ä¸ªpostå‘¢ï¼Ÿè¿™æ ·åšè·¯ç”±å±‚åŒºåˆ†æ€ä¹ˆåšå‘¢ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460579,"discussion_content":"è·¯ç”±æ€ä¹ˆè§£é‡Šå¯ä»¥çœ‹ä¸€ä¸‹goä»£ç ã€‚è‡³äºç”¨postè¿˜æ˜¯putï¼Œè¿™ä¸ªä¸€å®šç¨‹åº¦æ¥è¯´åªæ˜¯ä¸€ä¸ªä¹ æƒ¯é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564453191,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124690,"user_name":"ç«‹è€³","can_delete":false,"product_type":"c1","uid":1497753,"ip_address":"","ucode":"99C8E4DC67ED01","user_header":"https://static001.geekbang.org/account/avatar/00/16/da/99/80222c2a.jpg","comment_is_top":false,"comment_ctime":1565945360,"is_pvip":false,"replies":[{"id":"45807","content":"æ˜¯ä¸€ä¸ªå¯èƒ½æ€§ï¼Œåªä¸è¿‡è¿™æ„å‘³ç€url routeæ¨¡å—éœ€è¦æ ¹æ®http headeræ¥è·¯ç”±ï¼Œè¿™å¤§éƒ¨åˆ†æ ‡å‡†url routeå¯èƒ½å¹¶ä¸æ”¯æŒï¼Œéœ€è¦è‡ªå·±å®ç°ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1565971279,"ip_address":"","comment_id":124690,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14450847248","product_id":100025201,"comment_content":"APIç‰ˆæœ¬æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥æ”¾åˆ°Headerä¸­æ¥å®Œæˆï¼Œç±»ä¼¼äºUUIDï¼Œè¿™æ ·æ¥å£å½¢å¼åŸºæœ¬ä¿æŒä¸€è‡´ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463279,"discussion_content":"æ˜¯ä¸€ä¸ªå¯èƒ½æ€§ï¼Œåªä¸è¿‡è¿™æ„å‘³ç€url routeæ¨¡å—éœ€è¦æ ¹æ®http headeræ¥è·¯ç”±ï¼Œè¿™å¤§éƒ¨åˆ†æ ‡å‡†url routeå¯èƒ½å¹¶ä¸æ”¯æŒï¼Œéœ€è¦è‡ªå·±å®ç°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565971279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":125026,"user_name":"Geek_88604f","can_delete":false,"product_type":"c1","uid":1501234,"ip_address":"","ucode":"33DD1318E53814","user_header":"","comment_is_top":false,"comment_ctime":1566048372,"is_pvip":false,"replies":[{"id":"45870","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1566060215,"ip_address":"","comment_id":125026,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10155982964","product_id":100025201,"comment_content":"ç®€å•æ¢³ç†ä¸€ä¸‹æœåŠ¡ç«¯çš„æµç¨‹:<br>        sharp.goå®šä¹‰äº†å„ç§å›¾å½¢ç›¸å…³çš„ç»“æ„ä½“ï¼Œdrawing.goæè¿°äº†docçš„ç»„æˆã€æ“ä½œdrawing<br>å’Œsharpçš„å„ç§æ–¹æ³•ã€‚<br>        service.goå®šä¹‰äº†æœåŠ¡ç«¯å®é™…çš„å¤„ç†æµç¨‹ï¼Œé¦–å…ˆåˆå§‹åŒ–docå¯¹è±¡ï¼Œç„¶ååˆ›å»ºserviceå®ä¾‹å¹¶å°†docå¯¹è±¡ä½œä¸ºserviceçš„å‚æ•°ä¼ å…¥ä»¥ä¾¿æ“ä½œdocå¯¹è±¡ã€‚æ¥ä¸‹æ¥å¯åŠ¨httpç«¯å£ä¾¦å¬ï¼ŒæŒ‡å®šäº†ä¾¦å¬ç«¯å£å’Œè¯·æ±‚å¤„ç†handleã€‚è¿™æ ·å½“å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚æ—¶ï¼Œä¾¦å¬ç«¯å£å°±ä¼šæ¥æ”¶åˆ°ã€‚æœåŠ¡ç«¯æ¥æ”¶åˆ°è¯·æ±‚åï¼Œè°ƒç”¨ServerHTTPåœ¨å†…éƒ¨è¿›è¡Œè·¯ç”±è§£æå¹¶è°ƒç”¨å¯¹åº”çš„è¯·æ±‚å¤„ç†å‡½æ•°ã€‚<br>        åœ¨å…·ä½“è¯·æ±‚å‡½æ•°å†…éƒ¨åˆè°ƒç”¨äº†docå¯¹è±¡çš„ç›¸å…³å¤„ç†å‡½æ•°å®ç°å¯¹æ¨¡å‹æ•°æ®çš„æ“ä½œã€‚","like_count":2,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463404,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566060215,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119205,"user_name":"Charles","can_delete":false,"product_type":"c1","uid":1001410,"ip_address":"","ucode":"32646D78CC0389","user_header":"https://static001.geekbang.org/account/avatar/00/0f/47/c2/e9fa4cf6.jpg","comment_is_top":false,"comment_ctime":1564536793,"is_pvip":false,"replies":[{"id":"43754","content":"1ã€çœ‹mockå’Œå®é™…ç¨‹åºçš„å·®è·ï¼Œä¸¤ç§å¯èƒ½éƒ½æœ‰ï¼›2ã€mockä»·å€¼å¾€å¾€æ˜¯é˜¶æ®µæ€§çš„ï¼Œåˆ°åæœŸç»´æŠ¤åè®®å’Œæ­£å¼ç¨‹åºçš„ä¸€è‡´æ€§æˆæœ¬ä¼šé«˜äºä»·å€¼ï¼Œè€Œä¸”å¾€å¾€å·²ç»æœ‰ç¨³å®šç‰ˆæœ¬çš„æœåŠ¡ç«¯ç¨‹åºå¯ç”¨","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1564548325,"ip_address":"","comment_id":119205,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10154471385","product_id":100025201,"comment_content":"è¯·é—®è®¸è€å¸ˆï¼Œè¿­ä»£æ˜¯ç›´æ¥åœ¨mockç¨‹åºä¸Šä¸€ç‚¹ç‚¹ä¿®æ”¹å®ç°äº†å—ï¼Ÿç­‰è¿­ä»£å®Œæˆï¼Œmockç¨‹åºæ˜¯å¦è¿˜æœ‰å­˜åœ¨å¿…è¦ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460787,"discussion_content":"1ã€çœ‹mockå’Œå®é™…ç¨‹åºçš„å·®è·ï¼Œä¸¤ç§å¯èƒ½éƒ½æœ‰ï¼›2ã€mockä»·å€¼å¾€å¾€æ˜¯é˜¶æ®µæ€§çš„ï¼Œåˆ°åæœŸç»´æŠ¤åè®®å’Œæ­£å¼ç¨‹åºçš„ä¸€è‡´æ€§æˆæœ¬ä¼šé«˜äºä»·å€¼ï¼Œè€Œä¸”å¾€å¾€å·²ç»æœ‰ç¨³å®šç‰ˆæœ¬çš„æœåŠ¡ç«¯ç¨‹åºå¯ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564548325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":125801,"user_name":"é—«é£","can_delete":false,"product_type":"c1","uid":1013162,"ip_address":"","ucode":"30C782D30108D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/aa/21275b9d.jpg","comment_is_top":false,"comment_ctime":1566261395,"is_pvip":false,"replies":[{"id":"46238","content":"ç¡®å®æ˜¯å¼±å…±è¯†","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1566266913,"ip_address":"","comment_id":125801,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5861228691","product_id":100025201,"comment_content":"ç¨å¾®è¾ƒçœŸä¸€ç‚¹è®¨è®ºä¸€ä¸‹RESTful APIé‡Œé¢å…³äºverbçš„ç”¨æ³•ï¼Œå› ä¸ºç›¸å…³çš„è®¨è®ºå®åœ¨æ˜¯å¤ªå¤šäº†ï¼Œgoogleä¸€æœå°±å¯ä»¥å¾—åˆ°ä¸€å¤§æŠŠã€‚<br><br>ä¸€ç§æƒ¯ä¾‹æ˜¯:æŠŠå¯¹èµ„æºçš„å±€éƒ¨ä¿®æ”¹æ˜¯ç”¨patchæ“ä½œçš„ï¼Œè€Œpostæç°çš„æ˜¯èµ„æºä»æ— åˆ°æœ‰çš„åˆ›å»ºåŠ¨ä½œï¼Œç±»ä¼¼åœ°putæ“ä½œç”¨æ¥è¡¨ç¤ºç§»åŠ¨èµ„æºï¼Œé‡Œé¢çš„å†…å®¹å¯èƒ½ä¸å˜åŒ–ã€‚<br><br>ä¸Šé¢è¡¨è¿°çš„æƒ¯ç”¨æ³•è²Œä¼¼æ˜¯ä¸€ç§å¼±å…±è¯†ï¼Œå…·ä½“ä¾‹å­å¯å‚è€ƒKubernetesçš„APIè®¾è®¡ã€‚","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463697,"discussion_content":"ç¡®å®æ˜¯å¼±å…±è¯†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566266913,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119598,"user_name":"ä¸€ç²Ÿ","can_delete":false,"product_type":"c1","uid":1584386,"ip_address":"","ucode":"005282A0ED315A","user_header":"https://static001.geekbang.org/account/avatar/00/18/2d/02/61490096.jpg","comment_is_top":false,"comment_ctime":1564632778,"is_pvip":false,"replies":[{"id":"43890","content":"è¿˜åœ¨ç†è§£ï¼Œç›®å‰è¿˜æ²¡æœ‰çœ‹æ¸…æ¥šè¶‹åŠ¿","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1564646915,"ip_address":"","comment_id":119598,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5859600074","product_id":100025201,"comment_content":"è¯·é—®è€å¸ˆçœ‹å¥½GraphQLå—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460971,"discussion_content":"è¿˜åœ¨ç†è§£ï¼Œç›®å‰è¿˜æ²¡æœ‰çœ‹æ¸…æ¥šè¶‹åŠ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564646915,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118817,"user_name":"Luke","can_delete":false,"product_type":"c1","uid":1216016,"ip_address":"","ucode":"C34D4C44DBCE03","user_header":"https://static001.geekbang.org/account/avatar/00/12/8e/10/10092bb1.jpg","comment_is_top":false,"comment_ctime":1564449401,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5859416697","product_id":100025201,"comment_content":"æ‰“å¡è·Ÿè¿›ï¼Œè¿™å‡ èŠ‚è¯¾éœ€è¦æ—¶é—´æ¶ˆåŒ–ä¸€ä¸‹","like_count":1},{"had_liked":false,"id":337020,"user_name":"FOCUS","can_delete":false,"product_type":"c1","uid":1140080,"ip_address":"","ucode":"DFE3078B632026","user_header":"https://static001.geekbang.org/account/avatar/00/11/65/70/7e137498.jpg","comment_is_top":false,"comment_ctime":1646555540,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646555540","product_id":100025201,"comment_content":"æˆ‘å¥½åƒæ²¡æœ‰get dao","like_count":0},{"had_liked":false,"id":288358,"user_name":"ä¸æ¸©æš–å•Šä¸çº¯è‰¯","can_delete":false,"product_type":"c1","uid":2079117,"ip_address":"","ucode":"204474A214E00C","user_header":"https://static001.geekbang.org/account/avatar/00/1f/b9/8d/00bded19.jpg","comment_is_top":false,"comment_ctime":1618423286,"is_pvip":false,"replies":[{"id":"104708","content":"å‰åŠæˆªæ­£è§£ï¼ŒååŠæˆªå…³äºé‡å¤æäº¤ï¼Œå¯ä»¥æœ‰æ›´ä¼˜é›…çš„æ–¹æ¡ˆï¼Œä¸éœ€è¦ä¸å‰ç«¯è€¦åˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1618523854,"ip_address":"","comment_id":288358,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1618423286","product_id":100025201,"comment_content":"åœ¨ç”»å›¾ç¨‹åºä¸­,æˆ‘ä»¬çš„ä¸šåŠ¡å°è£…å’Œå®ç°ä¸»è¦åœ¨å‰ç«¯,åç«¯çš„åŠŸèƒ½å¥½åƒå°±æä¾›äº†æ•°æ®çš„æŒä¹…åŒ–,ä»¥åŠåŸºäºæŒä¹…åŒ–çš„crudæ“ä½œ,ä½†æ˜¯åœ¨æˆ‘ä»¬çš„å¼€å‘ä¸­,åç«¯è´Ÿè´£çš„äº‹æƒ…å¾ˆå¤šå¾ˆæ‚,ä¸šåŠ¡çš„å°è£…å°±æ˜¯ä¸€ä¸ªå®ä½“ç±»,æ‰€æœ‰çš„å¤„ç†éƒ½åœ¨serviceå±‚å®Œæˆ.ä»¥å‰æˆ‘è§‰å¾—è¿™æ ·ä¹Ÿä»£ç ä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰,ä½†æ˜¯å­¦ä¹ äº†æ¶æ„è¯¾å,æˆ‘æ‰æ„è¯†åˆ°,æˆ‘ä»¥å‰æ˜¯åœ¨ç”¨é¢å‘å¯¹è±¡è¯­è¨€å†™é¢å‘è¿‡ç¨‹ä»£ç .è¦æ˜¯èƒ½å¤Ÿåƒè€å¸ˆä¸€æ ·åˆ†è£…ä¸šåŠ¡æ¨¡å‹,åç«¯ä»£ç ä¹Ÿä¼šå¥½äº›ä¼˜é›…å¾ˆå¤š.<br><br>è¿˜æœ‰å…³äºé‡å¤æäº¤çš„é—®é¢˜,æˆ‘çš„è§£å†³åŠæ³•æ˜¯åˆ©ç”¨æäº¤æŒ‰é’®æ¥è§£å†³.æäº¤æŒ‰é’®ç‚¹å‡»å,ç›´åˆ°è¯·æ±‚å“åº”å®Œæˆä¹‹å‰éƒ½ä¸èƒ½å†ç‚¹.<br>","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518600,"discussion_content":"å‰åŠæˆªæ­£è§£ï¼ŒååŠæˆªå…³äºé‡å¤æäº¤ï¼Œå¯ä»¥æœ‰æ›´ä¼˜é›…çš„æ–¹æ¡ˆï¼Œä¸éœ€è¦ä¸å‰ç«¯è€¦åˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618523854,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":181192,"user_name":"æ²‰ç¡çš„æœ¨æœ¨å¤•","can_delete":false,"product_type":"c1","uid":1036362,"ip_address":"","ucode":"2C6B23B34C44E7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d0/4a/7e3d158d.jpg","comment_is_top":false,"comment_ctime":1582515488,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1582515488","product_id":100025201,"comment_content":"å…¶å®é€šè¿‡request-uuidæ¥åšåˆ°postè¯·æ±‚å¯†ç­‰é˜²æ²»å†²çªï¼Œè¿™é‡Œé¢è¿˜æ˜¯ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šå®¢æˆ·ç«¯ç”¨æˆ·ç‚¹å‡»è¡¨å•åˆ›å»ºæŒ‰é’®ï¼Œç”±äºç½‘ç»œé—®é¢˜ä¸€æ®µæ—¶é—´å†…æ²¡æœ‰å“åº”ï¼Œé‚£ä¹ˆç”¨æˆ·å°±ä¼šå†æ¬¡ç‚¹å‡»åˆ›å»ºæŒ‰é’®ï¼ˆæˆ‘è¯´çš„è¿™ç§æƒ…å†µå½“ç„¶æ˜¯å‰ç«¯æ²¡æœ‰åšâ€œæŒ‰é’®å˜ç°â€ç­‰æªæ–½ï¼Œåšäº†æ•ˆæœä¹Ÿä¸å¤§ï¼‰é‚£ä¹ˆåç«¯å°±å¿…å®šè¦æ ¹æ®æ¥å£åè®®ç»“æ„æ¥åˆ¤æ–­å‡ºæ˜¯å¦æ˜¯åŒä¸€ä¸ªè¯·æ±‚ï¼Œæ¯”å¦‚é€šè¿‡å®šä¹‰å€¼å¯¹è±¡æ¥åˆ¤æ–­ä¸€ä¸ªrequest bodyæ˜¯å¦ç›¸ç­‰ï¼Œä½†è¿™æ ·å°±æ˜¾å¾—è¿™ä¸ªapiå¾ˆåšé‡ã€‚æƒ³é—®ä¸‹è¿™ç§æƒ…å†µä¸‹ä¸€èˆ¬æ˜¯å¦‚ä½•è§£å†³çš„","like_count":0,"discussions":[{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"æ¨å®‡","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388628,"discussion_content":"å¦‚æœåˆ›å»ºæˆåŠŸï¼Œå‰ç«¯åº”è¯¥è·³è½¬å§ã€‚ä¸è·³è½¬å°±ä¸ç”Ÿæˆæ–°çš„uuid","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628857696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142398,"user_name":"Fs","can_delete":false,"product_type":"c1","uid":1083184,"ip_address":"","ucode":"0AD0EFB5544B9A","user_header":"https://static001.geekbang.org/account/avatar/00/10/87/30/4626c8c0.jpg","comment_is_top":false,"comment_ctime":1571363207,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571363207","product_id":100025201,"comment_content":"åç«¯çœ‹ç€ä¸€ç« ç®€å•","like_count":0},{"had_liked":false,"id":132632,"user_name":"ç§‘æ˜¥","can_delete":false,"product_type":"c1","uid":1500869,"ip_address":"","ucode":"5766A7E9B9F497","user_header":"https://static001.geekbang.org/account/avatar/00/16/e6/c5/d7aa290b.jpg","comment_is_top":false,"comment_ctime":1568181040,"is_pvip":false,"replies":[{"id":"50732","content":"åº”ç”¨å±‚åè®®ä¸ºä»€ä¹ˆå°±ä¸ç®—ç½‘ç»œåè®®ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","uid":"1228022","ctime":1568182429,"ip_address":"","comment_id":132632,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1568181040","product_id":100025201,"comment_content":"httpæ˜¯åº”ç”¨å±‚åè®®ï¼Œå¹¶ä¸æ˜¯ç½‘ç»œåè®®å•Šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1228022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/bc/f6/e61d4b8f.jpg","nickname":"è®¸å¼ä¼Ÿ-ä¸ƒç‰›äº‘(å·²æ»¡)","note":"","ucode":"1A2F8AA6F6DB54","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467046,"discussion_content":"åº”ç”¨å±‚åè®®ä¸ºä»€ä¹ˆå°±ä¸ç®—ç½‘ç»œåè®®ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568182429,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1500869,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e6/c5/d7aa290b.jpg","nickname":"ç§‘æ˜¥","note":"","ucode":"5766A7E9B9F497","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":9534,"discussion_content":"ä»OSIæ¨¡å‹æ¥ç†è§£ï¼Œåœ¨ç½‘ç»œå±‚çš„åè®®æ‰æ˜¯ç½‘ç»œåè®®ï¼Œä¾‹å¦‚ripã€ospfã€ipã€eigrpç­‰ã€‚å¦‚æœä»ç¼–ç¨‹è€…è§’åº¦çœ‹ï¼Œåªè¦æ˜¯åˆ©ç”¨ç½‘ç»œçš„åè®®å°±å«ç½‘ç»œåè®®æ„Ÿè§‰æœ‰äº›ä¸å¦¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568182820,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":118781,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1564447471,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564447471","product_id":100025201,"comment_content":"è¯·é—®è¿™ä¹ˆçœ‹ä¹‹å‰çš„æµè§ˆå™¨ç«¯æ˜¯MVPï¼Œåç«¯æ˜¯MC? ","like_count":0},{"had_liked":false,"id":118723,"user_name":"Aaron Cheung","can_delete":false,"product_type":"c1","uid":1079816,"ip_address":"","ucode":"03972759C53667","user_header":"https://static001.geekbang.org/account/avatar/00/10/7a/08/4d3e47dd.jpg","comment_is_top":false,"comment_ctime":1564440832,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564440832","product_id":100025201,"comment_content":"èµ·åºŠæ‰“å¡ 29","like_count":0}]}
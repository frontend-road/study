{"id":120991,"title":"35 | è·¨é›†ç¾¤å¤‡ä»½è§£å†³æ–¹æ¡ˆMirrorMaker","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯èƒ¡å¤•ã€‚ä»Šå¤©æˆ‘è¦å’Œä½ åˆ†äº«çš„ä¸»é¢˜æ˜¯ï¼šKafkaçš„è·¨é›†ç¾¤æ•°æ®é•œåƒå·¥å…·MirrorMakerã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ä¸€å¥—Kafkaé›†ç¾¤æ¥å®Œæˆä¸šåŠ¡ï¼Œä½†æœ‰äº›åœºæ™¯ç¡®å®ä¼šéœ€è¦å¤šå¥—Kafkaé›†ç¾¤åŒæ—¶å·¥ä½œï¼Œæ¯”å¦‚ä¸ºäº†ä¾¿äºå®ç°ç¾éš¾æ¢å¤ï¼Œä½ å¯ä»¥åœ¨ä¸¤ä¸ªæœºæˆ¿åˆ†åˆ«éƒ¨ç½²å•ç‹¬çš„Kafkaé›†ç¾¤ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªæœºæˆ¿å‡ºç°æ•…éšœï¼Œä½ å°±èƒ½å¾ˆå®¹æ˜“åœ°æŠŠæµé‡æ‰“åˆ°å¦ä¸€ä¸ªæ­£å¸¸è¿è½¬çš„æœºæˆ¿ä¸‹ã€‚å†æ¯”å¦‚ï¼Œä½ æƒ³ä¸ºåœ°ç†ç›¸è¿‘çš„å®¢æˆ·æä¾›ä½å»¶æ—¶çš„æ¶ˆæ¯æœåŠ¡ï¼Œè€Œä½ çš„ä¸»æœºæˆ¿åˆç¦»å®¢æˆ·å¾ˆè¿œï¼Œè¿™æ—¶ä½ å°±å¯ä»¥åœ¨é è¿‘å®¢æˆ·çš„åœ°æ–¹éƒ¨ç½²ä¸€å¥—Kafkaé›†ç¾¤ï¼Œè®©è¿™å¥—é›†ç¾¤æœåŠ¡ä½ çš„å®¢æˆ·ï¼Œä»è€Œæä¾›ä½å»¶æ—¶çš„æœåŠ¡ã€‚</p><p>å¦‚æœè¦å®ç°è¿™äº›éœ€æ±‚ï¼Œé™¤äº†éƒ¨ç½²å¤šå¥—Kafkaé›†ç¾¤ä¹‹å¤–ï¼Œä½ è¿˜éœ€è¦æŸç§å·¥å…·æˆ–æ¡†æ¶ï¼Œæ¥å¸®åŠ©ä½ å®ç°æ•°æ®åœ¨é›†ç¾¤é—´çš„æ‹·è´æˆ–é•œåƒã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<strong>é€šå¸¸æˆ‘ä»¬æŠŠæ•°æ®åœ¨å•ä¸ªé›†ç¾¤ä¸‹ä¸åŒèŠ‚ç‚¹ä¹‹é—´çš„æ‹·è´ç§°ä¸ºå¤‡ä»½ï¼Œè€ŒæŠŠæ•°æ®åœ¨é›†ç¾¤é—´çš„æ‹·è´ç§°ä¸ºé•œåƒ</strong>ï¼ˆMirroringï¼‰ã€‚</p><p>ä»Šå¤©ï¼Œæˆ‘æ¥é‡ç‚¹ä»‹ç»ä¸€ä¸‹Apache Kafkaç¤¾åŒºæä¾›çš„MirrorMakerå·¥å…·ï¼Œå®ƒå¯ä»¥å¸®æˆ‘ä»¬å®ç°æ¶ˆæ¯æˆ–æ•°æ®ä»ä¸€ä¸ªé›†ç¾¤åˆ°å¦ä¸€ä¸ªé›†ç¾¤çš„æ‹·è´ã€‚</p><h2>ä»€ä¹ˆæ˜¯MirrorMakerï¼Ÿ</h2><p>ä»æœ¬è´¨ä¸Šè¯´ï¼ŒMirrorMakerå°±æ˜¯ä¸€ä¸ªæ¶ˆè´¹è€…+ç”Ÿäº§è€…çš„ç¨‹åºã€‚æ¶ˆè´¹è€…è´Ÿè´£ä»æºé›†ç¾¤ï¼ˆSource Clusterï¼‰æ¶ˆè´¹æ•°æ®ï¼Œç”Ÿäº§è€…è´Ÿè´£å‘ç›®æ ‡é›†ç¾¤ï¼ˆTarget Clusterï¼‰å‘é€æ¶ˆæ¯ã€‚æ•´ä¸ªé•œåƒæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/a7/e2/a771601d702eb35187a0a8894307eee2.jpg?wh=3681*787\" alt=\"\"></p><p>MirrorMakerè¿æ¥çš„æºé›†ç¾¤å’Œç›®æ ‡é›†ç¾¤ï¼Œä¼šå®æ—¶åŒæ­¥æ¶ˆæ¯ã€‚å½“ç„¶ï¼Œä½ ä¸è¦è®¤ä¸ºä½ åªèƒ½ä½¿ç”¨ä¸€å¥—MirrorMakeræ¥è¿æ¥ä¸Šä¸‹æ¸¸é›†ç¾¤ã€‚äº‹å®ä¸Šï¼Œå¾ˆå¤šç”¨æˆ·ä¼šéƒ¨ç½²å¤šå¥—é›†ç¾¤ï¼Œç”¨äºå®ç°ä¸åŒçš„ç›®çš„ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹çœ‹ä¸‹é¢è¿™å¼ å›¾ã€‚å›¾ä¸­éƒ¨ç½²äº†ä¸‰å¥—é›†ç¾¤ï¼šå·¦è¾¹çš„æºé›†ç¾¤è´Ÿè´£ä¸»è¦çš„ä¸šåŠ¡å¤„ç†ï¼›å³ä¸Šè§’çš„ç›®æ ‡é›†ç¾¤å¯ä»¥ç”¨äºæ‰§è¡Œæ•°æ®åˆ†æï¼›è€Œå³ä¸‹è§’çš„ç›®æ ‡é›†ç¾¤åˆ™å……å½“æºé›†ç¾¤çš„çƒ­å¤‡ä»½ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/03/70/036955f42db6fe759849fb24a0d16070.jpg?wh=3535*1835\" alt=\"\"></p><h2>è¿è¡ŒMirrorMaker</h2><p>Kafkaé»˜è®¤æä¾›äº†MirrorMakerå‘½ä»¤è¡Œå·¥å…·kafka-mirror-makerè„šæœ¬ï¼Œå®ƒçš„å¸¸è§ç”¨æ³•æ˜¯æŒ‡å®šç”Ÿäº§è€…é…ç½®æ–‡ä»¶ã€æ¶ˆè´¹è€…é…ç½®æ–‡ä»¶ã€çº¿ç¨‹æ•°ä»¥åŠè¦æ‰§è¡Œæ•°æ®é•œåƒçš„ä¸»é¢˜æ­£åˆ™è¡¨è¾¾å¼ã€‚æ¯”å¦‚ä¸‹é¢çš„è¿™ä¸ªå‘½ä»¤ï¼Œå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„MirrorMakeræ‰§è¡Œå‘½ä»¤ã€‚</p><pre><code>$ bin/kafka-mirror-maker.sh --consumer.config ./config/consumer.properties --producer.config ./config/producer.properties --num.streams 8 --whitelist &quot;.*&quot;\n</code></pre><p>ç°åœ¨æˆ‘æ¥è§£é‡Šä¸€ä¸‹è¿™æ¡å‘½ä»¤ä¸­å„ä¸ªå‚æ•°çš„å«ä¹‰ã€‚</p><ul>\n<li>\n<p>consumer.configå‚æ•°ã€‚å®ƒæŒ‡å®šäº†MirrorMakerä¸­æ¶ˆè´¹è€…çš„é…ç½®æ–‡ä»¶åœ°å€ï¼Œæœ€ä¸»è¦çš„é…ç½®é¡¹æ˜¯<strong>bootstrap.servers</strong>ï¼Œä¹Ÿå°±æ˜¯è¯¥MirrorMakerä»å“ªä¸ªKafkaé›†ç¾¤è¯»å–æ¶ˆæ¯ã€‚å› ä¸ºMirrorMakeræœ‰å¯èƒ½åœ¨å†…éƒ¨åˆ›å»ºå¤šä¸ªæ¶ˆè´¹è€…å®ä¾‹å¹¶ä½¿ç”¨æ¶ˆè´¹è€…ç»„æœºåˆ¶ï¼Œå› æ­¤ä½ è¿˜éœ€è¦è®¾ç½®group.idå‚æ•°ã€‚å¦å¤–ï¼Œæˆ‘å»ºè®®ä½ é¢å¤–é…ç½®auto.offset.reset=earliestï¼Œå¦åˆ™çš„è¯ï¼ŒMirrorMakeråªä¼šæ‹·è´é‚£äº›åœ¨å®ƒå¯åŠ¨ä¹‹ååˆ°è¾¾æºé›†ç¾¤çš„æ¶ˆæ¯ã€‚</p>\n</li>\n<li>\n<p>producer.configå‚æ•°ã€‚å®ƒæŒ‡å®šäº†MirrorMakerå†…éƒ¨ç”Ÿäº§è€…ç»„ä»¶çš„é…ç½®æ–‡ä»¶åœ°å€ã€‚é€šå¸¸æ¥è¯´ï¼ŒKafka Java Producerå¾ˆå‹å¥½ï¼Œä½ ä¸éœ€è¦é…ç½®å¤ªå¤šå‚æ•°ã€‚å”¯ä¸€çš„ä¾‹å¤–ä¾ç„¶æ˜¯<strong>bootstrap.servers</strong>ï¼Œä½ å¿…é¡»æ˜¾å¼åœ°æŒ‡å®šè¿™ä¸ªå‚æ•°ï¼Œé…ç½®æ‹·è´çš„æ¶ˆæ¯è¦å‘é€åˆ°çš„ç›®æ ‡é›†ç¾¤ã€‚</p>\n</li>\n<li>\n<p>num.streamså‚æ•°ã€‚æˆ‘ä¸ªäººè§‰å¾—ï¼Œè¿™ä¸ªå‚æ•°çš„åå­—å¾ˆå®¹æ˜“ç»™äººé€ æˆè¯¯è§£ã€‚ç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ä¸ªå‚æ•°åçš„æ—¶å€™ï¼Œæˆ‘ä¸€åº¦ä»¥ä¸ºMirrorMakeræ˜¯ç”¨Kafka Streamsç»„ä»¶å®ç°çš„å‘¢ã€‚å…¶å®å¹¶ä¸æ˜¯ã€‚è¿™ä¸ªå‚æ•°å°±æ˜¯å‘Šè¯‰MirrorMakerè¦åˆ›å»ºå¤šå°‘ä¸ªKafkaConsumerå®ä¾‹ã€‚å½“ç„¶ï¼Œå®ƒä½¿ç”¨çš„æ˜¯å¤šçº¿ç¨‹çš„æ–¹æ¡ˆï¼Œå³åœ¨åå°åˆ›å»ºå¹¶å¯åŠ¨å¤šä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹ç»´æŠ¤ä¸“å±çš„æ¶ˆè´¹è€…å®ä¾‹ã€‚åœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„æœºå™¨æ€§èƒ½é…Œæƒ…è®¾ç½®å¤šä¸ªçº¿ç¨‹ã€‚</p>\n</li>\n<li>\n<p>whitelistå‚æ•°ã€‚å¦‚å‘½ä»¤æ‰€ç¤ºï¼Œè¿™ä¸ªå‚æ•°æ¥æ”¶ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚æ‰€æœ‰åŒ¹é…è¯¥æ­£åˆ™è¡¨è¾¾å¼çš„ä¸»é¢˜éƒ½ä¼šè¢«è‡ªåŠ¨åœ°æ‰§è¡Œé•œåƒã€‚åœ¨è¿™ä¸ªå‘½ä»¤ä¸­ï¼Œæˆ‘æŒ‡å®šäº†â€œ.*â€ï¼Œè¿™è¡¨æ˜æˆ‘è¦åŒæ­¥æºé›†ç¾¤ä¸Šçš„æ‰€æœ‰ä¸»é¢˜ã€‚</p>\n</li>\n</ul><h2>MirrorMakeré…ç½®å®ä¾‹</h2><p>ç°åœ¨ï¼Œæˆ‘å°±åœ¨æµ‹è¯•ç¯å¢ƒä¸­ä¸ºä½ æ¼”ç¤ºä¸€ä¸‹MirrorMakerçš„ä½¿ç”¨æ–¹æ³•ã€‚</p><p>æ¼”ç¤ºçš„æµç¨‹å¤§è‡´æ˜¯è¿™æ ·çš„ï¼šé¦–å…ˆï¼Œæˆ‘ä»¬ä¼šå¯åŠ¨ä¸¤å¥—Kafkaé›†ç¾¤ï¼Œå®ƒä»¬æ˜¯å•èŠ‚ç‚¹çš„ä¼ªé›†ç¾¤ï¼Œç›‘å¬ç«¯å£åˆ†åˆ«æ˜¯9092å’Œ9093ï¼›ä¹‹åï¼Œæˆ‘ä»¬ä¼šå¯åŠ¨MirrorMakerå·¥å…·ï¼Œå®æ—¶åœ°å°†9092é›†ç¾¤ä¸Šçš„æ¶ˆæ¯åŒæ­¥é•œåƒåˆ°9093é›†ç¾¤ä¸Šï¼›æœ€åï¼Œæˆ‘ä»¬å¯åŠ¨é¢å¤–çš„æ¶ˆè´¹è€…æ¥éªŒè¯æ¶ˆæ¯æ˜¯å¦æ‹·è´æˆåŠŸã€‚</p><h3>ç¬¬1æ­¥ï¼šå¯åŠ¨ä¸¤å¥—Kafkaé›†ç¾¤</h3><p>å¯åŠ¨æ—¥å¿—å¦‚ä¸‹æ‰€ç¤ºï¼š</p><blockquote>\n<p>[2019-07-23 17:01:40,544] INFO Kafka version: 2.3.0 (org.apache.kafka.common.utils.AppInfoParser)<br>\n[2019-07-23 17:01:40,544] INFO Kafka commitId: fc1aaa116b661c8a (org.apache.kafka.common.utils.AppInfoParser)<br>\n[2019-07-23 17:01:40,544] INFO Kafka startTimeMs: 1563872500540 (org.apache.kafka.common.utils.AppInfoParser)<br>\n[2019-07-23 17:01:40,545] INFO [KafkaServer id=0] started (kafka.server.KafkaServer)</p>\n</blockquote><blockquote>\n<p>[2019-07-23 16:59:59,462] INFO Kafka version: 2.3.0 (org.apache.kafka.common.utils.AppInfoParser)<br>\n[2019-07-23 16:59:59,462] INFO Kafka commitId: fc1aaa116b661c8a (org.apache.kafka.common.utils.AppInfoParser)<br>\n[2019-07-23 16:59:59,462] INFO Kafka startTimeMs: 1563872399459 (org.apache.kafka.common.utils.AppInfoParser)<br>\n[2019-07-23 16:59:59,463] INFO [KafkaServer id=1] started (kafka.server.KafkaServer)</p>\n</blockquote><h3>ç¬¬2æ­¥ï¼šå¯åŠ¨MirrorMakerå·¥å…·</h3><p>åœ¨å¯åŠ¨MirrorMakerå·¥å…·ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»å‡†å¤‡å¥½åˆšåˆšæè¿‡çš„Consumeré…ç½®æ–‡ä»¶å’ŒProduceré…ç½®æ–‡ä»¶ã€‚å®ƒä»¬çš„å†…å®¹åˆ†åˆ«å¦‚ä¸‹ï¼š</p><pre><code>consumer.propertiesï¼š\nbootstrap.servers=localhost:9092\ngroup.id=mirrormaker\nauto.offset.reset=earliest\n</code></pre><pre><code>producer.properties:\nbootstrap.servers=localhost:9093\n</code></pre><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥è¿è¡Œå‘½ä»¤å¯åŠ¨MirrorMakerå·¥å…·ã€‚</p><pre><code>$ bin/kafka-mirror-maker.sh --producer.config ../producer.config --consumer.config ../consumer.config --num.streams 4 --whitelist &quot;.*&quot;\nWARNING: The default partition assignment strategy of the mirror maker will change from 'range' to 'roundrobin' in an upcoming release (so that better load balancing can be achieved). If you prefer to make this switch in advance of that release add the following to the corresponding config: 'partition.assignment.strategy=org.apache.kafka.clients.consumer.RoundRobinAssignor'\n</code></pre><p>è¯·ä½ ä¸€å®šè¦ä»”ç»†é˜…è¯»è¿™ä¸ªå‘½ä»¤è¾“å‡ºä¸­çš„è­¦å‘Šä¿¡æ¯ã€‚è¿™ä¸ªè­¦å‘Šçš„æ„æ€æ˜¯ï¼Œåœ¨æœªæ¥ç‰ˆæœ¬ä¸­ï¼ŒMirrorMakerå†…éƒ¨æ¶ˆè´¹è€…ä¼šä½¿ç”¨è½®è¯¢ç­–ç•¥ï¼ˆRound-robinï¼‰æ¥ä¸ºæ¶ˆè´¹è€…å®ä¾‹åˆ†é…åˆ†åŒºï¼Œç°é˜¶æ®µä½¿ç”¨çš„é»˜è®¤ç­–ç•¥ä¾ç„¶æ˜¯åŸºäºèŒƒå›´çš„åˆ†åŒºç­–ç•¥ï¼ˆRangeï¼‰ã€‚Rangeç­–ç•¥çš„æ€æƒ³å¾ˆæœ´ç´ ï¼Œå®ƒæ˜¯å°†æ‰€æœ‰åˆ†åŒºæ ¹æ®ä¸€å®šçš„é¡ºåºæ’åˆ—åœ¨ä¸€èµ·ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…ä¾æ¬¡é¡ºåºæ‹¿èµ°å„ä¸ªåˆ†åŒºã€‚</p><p>Round-robinç­–ç•¥çš„æ¨å‡ºæ—¶é—´è¦æ¯”Rangeç­–ç•¥æ™šã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºï¼Œç¤¾åŒºæ¨å‡ºçš„æ¯”è¾ƒæ™šçš„åˆ†åŒºåˆ†é…ç­–ç•¥ä¼šæ¯”ä¹‹å‰çš„ç­–ç•¥å¥½ã€‚è¿™é‡Œçš„å¥½æŒ‡çš„æ˜¯èƒ½å®ç°æ›´å‡åŒ€çš„åˆ†é…æ•ˆæœã€‚è¯¥è­¦å‘Šä¿¡æ¯çš„æœ€åä¸€éƒ¨åˆ†å†…å®¹æç¤ºæˆ‘ä»¬ï¼Œ<strong>å¦‚æœæˆ‘ä»¬æƒ³æå‰â€œäº«ç”¨â€è½®è¯¢ç­–ç•¥ï¼Œéœ€è¦æ‰‹åŠ¨åœ°åœ¨consumer.propertiesæ–‡ä»¶ä¸­å¢åŠ partition.assignment.strategyçš„è®¾ç½®</strong>ã€‚</p><h3>ç¬¬3æ­¥ï¼šéªŒè¯æ¶ˆæ¯æ˜¯å¦æ‹·è´æˆåŠŸ</h3><p>å¥½äº†ï¼Œå¯åŠ¨MirrorMakerä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å‘æºé›†ç¾¤å‘é€å¹¶æ¶ˆè´¹ä¸€äº›æ¶ˆæ¯ï¼Œç„¶åéªŒè¯æ˜¯å¦æ‰€æœ‰çš„ä¸»é¢˜éƒ½èƒ½æ­£ç¡®åœ°åŒæ­¥åˆ°ç›®æ ‡é›†ç¾¤ä¸Šã€‚</p><p>å‡è®¾æˆ‘ä»¬åœ¨æºé›†ç¾¤ä¸Šåˆ›å»ºäº†ä¸€ä¸ª4åˆ†åŒºçš„ä¸»é¢˜testï¼Œéšåä½¿ç”¨kafka-producer-perf-testè„šæœ¬æ¨¡æ‹Ÿå‘é€äº†500ä¸‡æ¡æ¶ˆæ¯ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸‹é¢è¿™ä¸¤æ¡å‘½ä»¤æ¥æŸ¥è¯¢ä¸€ä¸‹ï¼Œç›®æ ‡Kafkaé›†ç¾¤ä¸Šæ˜¯å¦å­˜åœ¨åä¸ºtestçš„ä¸»é¢˜ï¼Œå¹¶ä¸”æˆåŠŸåœ°é•œåƒäº†è¿™äº›æ¶ˆæ¯ã€‚</p><pre><code>$ bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list localhost:9093 --topic test --time -2\ntest:0:0\n</code></pre><pre><code>$ bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list localhost:9093 --topic test --time -1\ntest:0:5000000\n</code></pre><p>-1å’Œ-2åˆ†åˆ«è¡¨ç¤ºè·å–æŸåˆ†åŒºæœ€æ–°çš„ä½ç§»å’Œæœ€æ—©çš„ä½ç§»ï¼Œè¿™ä¸¤ä¸ªä½ç§»å€¼çš„å·®å€¼å°±æ˜¯è¿™ä¸ªåˆ†åŒºå½“å‰çš„æ¶ˆæ¯æ•°ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå·®å€¼æ˜¯500ä¸‡æ¡ã€‚è¿™è¯´æ˜ä¸»é¢˜testå½“å‰å…±å†™å…¥äº†500ä¸‡æ¡æ¶ˆæ¯ã€‚æ¢å¥è¯è¯´ï¼ŒMirrorMakerå·²ç»æˆåŠŸåœ°æŠŠè¿™500ä¸‡æ¡æ¶ˆæ¯åŒæ­¥åˆ°äº†ç›®æ ‡é›†ç¾¤ä¸Šã€‚</p><p>è®²åˆ°è¿™é‡Œï¼Œä½ ä¸€å®šä¼šè§‰å¾—å¾ˆå¥‡æ€ªå§ï¼Œæˆ‘ä»¬æ˜æ˜åœ¨æºé›†ç¾¤åˆ›å»ºäº†ä¸€ä¸ª4åˆ†åŒºçš„ä¸»é¢˜ï¼Œä¸ºä»€ä¹ˆåˆ°äº†ç›®æ ‡é›†ç¾¤ï¼Œå°±å˜æˆå•åˆ†åŒºäº†å‘¢ï¼Ÿ</p><p>åŸå› å¾ˆç®€å•ã€‚<strong>MirrorMakeråœ¨æ‰§è¡Œæ¶ˆæ¯é•œåƒçš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå‘ç°è¦åŒæ­¥çš„ä¸»é¢˜åœ¨ç›®æ ‡é›†ç¾¤ä¸Šä¸å­˜åœ¨çš„è¯ï¼Œå®ƒå°±ä¼šæ ¹æ®Brokerç«¯å‚æ•°num.partitionså’Œdefault.replication.factorçš„é»˜è®¤å€¼ï¼Œè‡ªåŠ¨å°†ä¸»é¢˜åˆ›å»ºå‡ºæ¥</strong>ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨ç›®æ ‡é›†ç¾¤ä¸Šæ²¡æœ‰åˆ›å»ºè¿‡ä»»ä½•ä¸»é¢˜ï¼Œå› æ­¤ï¼Œåœ¨é•œåƒå¼€å§‹æ—¶ï¼ŒMirrorMakerè‡ªåŠ¨åˆ›å»ºäº†ä¸€ä¸ªåä¸ºtestçš„å•åˆ†åŒºå•å‰¯æœ¬çš„ä¸»é¢˜ã€‚</p><p><strong>åœ¨å®é™…ä½¿ç”¨åœºæ™¯ä¸­ï¼Œæˆ‘æ¨èä½ æå‰æŠŠè¦åŒæ­¥çš„æ‰€æœ‰ä¸»é¢˜æŒ‰ç…§æºé›†ç¾¤ä¸Šçš„è§„æ ¼åœ¨ç›®æ ‡é›†ç¾¤ä¸Šç­‰ä»·åœ°åˆ›å»ºå‡ºæ¥</strong>ã€‚å¦åˆ™ï¼Œææœ‰å¯èƒ½å‡ºç°åˆšåˆšçš„è¿™ç§æƒ…å†µï¼Œè¿™ä¼šå¯¼è‡´ä¸€äº›å¾ˆä¸¥é‡çš„é—®é¢˜ã€‚æ¯”å¦‚åŸæœ¬åœ¨æŸä¸ªåˆ†åŒºçš„æ¶ˆæ¯åŒæ­¥åˆ°äº†ç›®æ ‡é›†ç¾¤ä»¥åï¼Œå´ä½äºå…¶ä»–çš„åˆ†åŒºä¸­ã€‚å¦‚æœä½ çš„æ¶ˆæ¯å¤„ç†é€»è¾‘ä¾èµ–äºè¿™æ ·çš„åˆ†åŒºæ˜ å°„ï¼Œå°±å¿…ç„¶ä¼šå‡ºç°é—®é¢˜ã€‚</p><p>é™¤äº†å¸¸è§„çš„Kafkaä¸»é¢˜ä¹‹å¤–ï¼ŒMirrorMakeré»˜è®¤è¿˜ä¼šåŒæ­¥å†…éƒ¨ä¸»é¢˜ï¼Œæ¯”å¦‚åœ¨ä¸“æ å‰é¢æˆ‘ä»¬é¢‘ç¹æåˆ°çš„ä½ç§»ä¸»é¢˜ã€‚MirrorMakeråœ¨é•œåƒä½ç§»ä¸»é¢˜æ—¶ï¼Œå¦‚æœå‘ç°ç›®æ ‡é›†ç¾¤å°šæœªåˆ›å»ºè¯¥ä¸»é¢˜ï¼Œå®ƒå°±ä¼šæ ¹æ®Brokerç«¯å‚æ•°offsets.topic.num.partitionså’Œoffsets.topic.replication.factorçš„å€¼æ¥åˆ¶å®šè¯¥ä¸»é¢˜çš„è§„æ ¼ã€‚é»˜è®¤é…ç½®æ˜¯50ä¸ªåˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒº3ä¸ªå‰¯æœ¬ã€‚</p><p>åœ¨0.11.0.0ç‰ˆæœ¬ä¹‹å‰ï¼ŒKafkaä¸ä¼šä¸¥æ ¼ä¾ç…§offsets.topic.replication.factorå‚æ•°çš„å€¼ã€‚è¿™ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ è®¾ç½®äº†è¯¥å‚æ•°å€¼ä¸º3ï¼Œè€Œå½“å‰å­˜æ´»çš„Brokeræ•°é‡å°‘äº3ï¼Œä½ç§»ä¸»é¢˜ä¾ç„¶èƒ½è¢«æˆåŠŸåˆ›å»ºï¼Œåªæ˜¯å‰¯æœ¬æ•°å–è¯¥å‚æ•°å€¼å’Œå­˜æ´»Brokeræ•°ä¹‹é—´çš„è¾ƒå°å€¼ã€‚</p><p>è¿™ä¸ªç¼ºé™·åœ¨0.11.0.0ç‰ˆæœ¬è¢«ä¿®å¤äº†ï¼Œè¿™å°±æ„å‘³ç€ï¼ŒKafkaä¼šä¸¥æ ¼éµå®ˆä½ è®¾å®šçš„å‚æ•°å€¼ï¼Œå¦‚æœå‘ç°å­˜æ´»Brokeræ•°é‡å°äºå‚æ•°å€¼ï¼Œå°±ä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œå‘Šè¯‰ä½ ä¸»é¢˜åˆ›å»ºå¤±è´¥ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨MirrorMakeræ—¶ï¼Œä½ ä¸€å®šè¦ç¡®ä¿è¿™äº›é…ç½®éƒ½æ˜¯åˆç†çš„ã€‚</p><h2>å…¶ä»–è·¨é›†ç¾¤é•œåƒæ–¹æ¡ˆ</h2><p>è®²åˆ°è¿™é‡Œï¼ŒMirrorMakerçš„ä¸»è¦åŠŸèƒ½æˆ‘å°±ä»‹ç»å®Œäº†ã€‚ä½ å¤§è‡´å¯ä»¥æ„Ÿè§‰åˆ°æ‰§è¡ŒMirrorMakerçš„å‘½ä»¤æ˜¯å¾ˆç®€å•çš„ï¼Œè€Œä¸”å®ƒæä¾›çš„åŠŸèƒ½å¾ˆæœ‰é™ã€‚å®é™…ä¸Šï¼Œå®ƒçš„è¿ç»´æˆæœ¬ä¹Ÿæ¯”è¾ƒé«˜ï¼Œæ¯”å¦‚ä¸»é¢˜çš„ç®¡ç†å°±éå¸¸ä¸ä¾¿æ·ï¼ŒåŒæ—¶ä¹Ÿå¾ˆéš¾å°†å…¶ç®¡é“åŒ–ã€‚</p><p>åŸºäºè¿™äº›åŸå› ï¼Œä¸šç•Œå¾ˆå¤šå…¬å¸é€‰æ‹©è‡ªå·±å¼€å‘è·¨é›†ç¾¤é•œåƒå·¥å…·ã€‚æˆ‘æ¥ç®€å•ä»‹ç»å‡ ä¸ªã€‚</p><p>1.<strong>Uberçš„uReplicatorå·¥å…·</strong></p><p>Uberå…¬å¸ä¹‹å‰ä¹Ÿæ˜¯ä½¿ç”¨MirrorMakerçš„ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä»–ä»¬å‘ç°äº†ä¸€äº›æ˜æ˜¾çš„ç¼ºé™·ï¼Œæ¯”å¦‚MirrorMakerä¸­çš„æ¶ˆè´¹è€…ä½¿ç”¨çš„æ˜¯æ¶ˆè´¹è€…ç»„çš„æœºåˆ¶ï¼Œè¿™ä¸å¯é¿å…åœ°ä¼šç¢°åˆ°å¾ˆå¤šRebalanceçš„é—®é¢˜ã€‚</p><p>ä¸ºæ­¤ï¼ŒUberè‡ªå·±ç ”å‘äº†uReplicatorã€‚å®ƒä½¿ç”¨Apache Helixä½œä¸ºé›†ä¸­å¼çš„ä¸»é¢˜åˆ†åŒºç®¡ç†ç»„ä»¶ï¼Œå¹¶ä¸”é‡å†™äº†æ¶ˆè´¹è€…ç¨‹åºï¼Œæ¥æ›¿æ¢ä¹‹å‰MirrorMakerä¸‹çš„æ¶ˆè´¹è€…ï¼Œä½¿ç”¨Helixæ¥ç®¡ç†åˆ†åŒºçš„åˆ†é…ï¼Œä»è€Œé¿å…äº†Rebalanceçš„å„ç§é—®é¢˜ã€‚</p><p>è®²åˆ°è¿™é‡Œï¼Œæˆ‘ä¸ªäººæœ‰ä¸ªå°å°çš„æ„Ÿæ…¨ï¼šç¤¾åŒºæœ€è¿‘æ­£åœ¨èŠ±å¤§åŠ›æ°”å»ä¼˜åŒ–æ¶ˆè´¹è€…ç»„æœºåˆ¶ï¼ŒåŠ›æ±‚æ”¹å–„å› Rebalanceå¯¼è‡´çš„å„ç§åœºæ™¯ï¼Œä½†å…¶å®ï¼Œå…¶ä»–æ¡†æ¶å¼€å‘è€…åè€Œæ˜¯ä¸ç”¨Groupæœºåˆ¶çš„ã€‚ä»–ä»¬å®æ„¿è‡ªå·±å¼€å‘ä¸€å¥—æœºåˆ¶æ¥ç»´æŠ¤åˆ†åŒºåˆ†é…çš„æ˜ å°„ã€‚è¿™äº›éƒ½è¯´æ˜Kafkaä¸­çš„æ¶ˆè´¹è€…ç»„è¿˜æ˜¯æœ‰å¾ˆå¤§çš„æå‡ç©ºé—´çš„ã€‚</p><p>å¦å¤–ï¼ŒUberä¸“é—¨å†™äº†ä¸€ç¯‡<a href=\"https://eng.uber.com/ureplicator/\">åšå®¢</a>ï¼Œè¯¦ç»†è¯´æ˜äº†uReplicatorçš„è®¾è®¡åŸç†ï¼Œå¹¶ç½—åˆ—äº†ç¤¾åŒºçš„MirrorMakerå·¥å…·çš„ä¸€äº›ç¼ºé™·ä»¥åŠuReplicatorçš„åº”å¯¹æ–¹æ³•ã€‚æˆ‘å»ºè®®ä½ ä¸€å®šè¦è¯»ä¸€è¯»è¿™ç¯‡åšå®¢ã€‚</p><p>2.<strong>LinkedInå¼€å‘çš„Brooklin Mirror Makerå·¥å…·</strong></p><p>é’ˆå¯¹ç°æœ‰MirrorMakerå·¥å…·ä¸æ˜“å®ç°ç®¡é“åŒ–çš„ç¼ºé™·ï¼Œè¿™ä¸ªå·¥å…·è¿›è¡Œäº†æœ‰é’ˆå¯¹æ€§çš„æ”¹è¿›ï¼ŒåŒæ—¶ä¹Ÿå¯¹æ€§èƒ½åšäº†ä¸€äº›ä¼˜åŒ–ã€‚ç›®å‰ï¼Œåœ¨LinkedInå…¬å¸ï¼ŒBrooklin Mirror Makerå·²ç»å®Œå…¨æ›¿ä»£äº†ç¤¾åŒºç‰ˆçš„MirrorMakerã€‚å¦‚æœä½ æƒ³æ·±å…¥äº†è§£å®ƒæ˜¯å¦‚ä½•åšåˆ°çš„ï¼Œæˆ‘ç»™ä½ æ¨èä¸€ç¯‡<a href=\"https://www.slideshare.net/jyouping/brooklin-mirror-maker-how-and-why-we-moved-away-from-kafka-mirror-maker\">åšå®¢</a>ï¼Œä½ å¯ä»¥è¯¦ç»†é˜…è¯»ä¸€ä¸‹ã€‚</p><p>3.<strong>Confluentå…¬å¸ç ”å‘çš„Replicatorå·¥å…·</strong></p><p>è¿™ä¸ªå·¥å…·æä¾›çš„æ˜¯ä¼ä¸šçº§çš„è·¨é›†ç¾¤é•œåƒæ–¹æ¡ˆï¼Œæ˜¯å¸‚é¢ä¸Šå·²çŸ¥çš„åŠŸèƒ½æœ€ä¸ºå¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥ä¾¿æ·åœ°ä¸ºä½ æä¾›Kafkaä¸»é¢˜åœ¨ä¸åŒé›†ç¾¤é—´çš„è¿ç§»ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒReplicatorå·¥å…·è¿˜èƒ½è‡ªåŠ¨åœ¨ç›®æ ‡é›†ç¾¤ä¸Šåˆ›å»ºä¸æºé›†ç¾¤ä¸Šé…ç½®ä¸€æ¨¡ä¸€æ ·çš„ä¸»é¢˜ï¼Œæå¤§åœ°æ–¹ä¾¿äº†è¿ç»´ç®¡ç†ã€‚ä¸è¿‡å‡¡äº‹æœ‰åˆ©å°±æœ‰å¼Šï¼ŒReplicatoræ˜¯è¦æ”¶è´¹çš„ã€‚å¦‚æœä½ æ‰€åœ¨çš„å…¬å¸é¢„ç®—å……è¶³ï¼Œè€Œä¸”ä½ ä»¬å…³å¿ƒæ•°æ®åœ¨å¤šä¸ªé›†ç¾¤ç”šè‡³æ˜¯å¤šä¸ªæ•°æ®ä¸­å¿ƒé—´çš„è¿ç§»è´¨é‡ï¼Œä¸å¦¨å…³æ³¨ä¸€ä¸‹Confluentå…¬å¸çš„<a href=\"https://www.confluent.io/confluent-replicator/\">Replicatorå·¥å…·</a>ã€‚</p><h2>å°ç»“</h2><p>å¥½äº†ï¼Œæˆ‘ä»¬æ€»ç»“ä¸€ä¸‹ä»Šå¤©æ‰€è®²çš„MirrorMakerã€‚å®ƒæ˜¯Apache Kafkaç¤¾åŒºæä¾›çš„è·¨é›†ç¾¤é•œåƒè§£å†³æ–¹æ¡ˆï¼Œä¸»è¦å®ç°å°†Kafkaæ¶ˆæ¯å®æ—¶ä»ä¸€ä¸ªé›†ç¾¤åŒæ­¥å¤åˆ¶æˆ–é•œåƒåˆ°å¦ä¸€ä¸ªé›†ç¾¤ã€‚ä½ å¯ä»¥æŠŠMirrorMakeråº”ç”¨åˆ°å¾ˆå¤šå®é™…çš„åœºæ™¯ä¸­ï¼Œæ¯”å¦‚æ•°æ®å¤‡ä»½ã€ä¸»å¤‡é›†ç¾¤ç­‰ã€‚MirrorMakeræœ¬èº«åŠŸèƒ½ç®€å•ï¼Œåº”ç”¨çµæ´»ï¼Œä½†ä¹Ÿæœ‰è¿ç»´æˆæœ¬é«˜ã€æ€§èƒ½å·®ç­‰åŠ£åŠ¿ï¼Œå› æ­¤ä¸šç•Œæœ‰å‚å•†ç ”å‘äº†è‡ªå·±çš„é•œåƒå·¥å…·ã€‚ä½ å¯ä»¥æ ¹æ®è‡ªèº«çš„ä¸šåŠ¡éœ€æ±‚ï¼Œé€‰æ‹©åˆé€‚çš„å·¥å…·æ¥å¸®åŠ©ä½ å®Œæˆè·¨é›†ç¾¤çš„æ•°æ®å¤‡ä»½ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c0/5e/c0b75891bf37c1086dea98358c481d5e.jpg?wh=2069*2560\" alt=\"\"></p><h2>å¼€æ”¾è®¨è®º</h2><p>ä»Šå¤©æˆ‘åªæ¼”ç¤ºäº†MirrorMakeræœ€åŸºæœ¬çš„ä½¿ç”¨æ–¹æ³•ï¼Œå³æŠŠæ¶ˆæ¯åŸæ ·æ¬ç§»ã€‚å¦‚æœæˆ‘ä»¬æƒ³åœ¨æ¶ˆæ¯è¢«é•œåƒå‰åšä¸€äº›å¤„ç†ï¼Œæ¯”å¦‚ä¿®æ”¹æ¶ˆæ¯ä½“å†…å®¹ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿï¼ˆæç¤ºï¼šæŒ‡å®škafka-mirror-makerè„šæœ¬çš„ --message.handlerå‚æ•°ã€‚ï¼‰</p><p>æ¬¢è¿å†™ä¸‹ä½ çš„æ€è€ƒå’Œç­”æ¡ˆï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºã€‚å¦‚æœä½ è§‰å¾—æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿æŠŠæ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"34 | äº‘ç¯å¢ƒä¸‹çš„æˆæƒè¯¥æ€ä¹ˆåšï¼Ÿ","id":120099},"right":{"article_title":"36 | ä½ åº”è¯¥æ€ä¹ˆç›‘æ§Kafkaï¼Ÿ","id":126109}},"comments":[{"had_liked":false,"id":130232,"user_name":"æ— è‡æœ‹å‹","can_delete":false,"product_type":"c1","uid":1035562,"ip_address":"","ucode":"80482C5F0464A3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/2a/bdbed6ed.jpg","comment_is_top":false,"comment_ctime":1567409689,"is_pvip":false,"replies":[{"id":"48588","content":"è®¾ç½®zookeeper.connectæ—¶ä½¿ç”¨ä¸åŒçš„chrootï¼Œæ¯”å¦‚ä¸€ä¸ªæ˜¯zk:2181&#47;kafka1ï¼Œå¦ä¸€ä¸ªæ˜¯zk:2181&#47;kafka2","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1567414568,"ip_address":"","comment_id":130232,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40222115353","product_id":100029201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œé—®ä¸€ä¸‹æ€ä¹ˆåœ¨æœ¬åœ°æ­å»ºä¸¤ä¸ªkafkaé›†ç¾¤","like_count":9,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465867,"discussion_content":"è®¾ç½®zookeeper.connectæ—¶ä½¿ç”¨ä¸åŒçš„chrootï¼Œæ¯”å¦‚ä¸€ä¸ªæ˜¯zk:2181/kafka1ï¼Œå¦ä¸€ä¸ªæ˜¯zk:2181/kafka2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567414568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126591,"user_name":"è’™å¼€å¼º","can_delete":false,"product_type":"c1","uid":1317706,"ip_address":"","ucode":"61B3183781B9F7","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/4a/f9df2d06.jpg","comment_is_top":false,"comment_ctime":1566434166,"is_pvip":false,"replies":[{"id":"46839","content":"LinkedInçš„Brooklin MMå¥½åƒæ²¡æœ‰å¼€æºï¼ŒConfluentçš„Replicatorè¦æ”¶è´¹ï¼ŒUberçš„uReplicatoråº”è¯¥å¼€æºäº†","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1566440833,"ip_address":"","comment_id":126591,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23041270646","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œä½ æçš„è¿™å‡ æ¬¾å·¥å…·ï¼ŒMirrorMakeræ˜¯å…è´¹çš„ï¼Œå…¶å®ƒçš„ä¹Ÿæ˜¯å…è´¹å¯ä»¥ç”¨çš„ä¹ˆ","like_count":6,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464072,"discussion_content":"LinkedInçš„Brooklin MMå¥½åƒæ²¡æœ‰å¼€æºï¼ŒConfluentçš„Replicatorè¦æ”¶è´¹ï¼ŒUberçš„uReplicatoråº”è¯¥å¼€æºäº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566440833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1132861,"avatar":"https://static001.geekbang.org/account/avatar/00/11/49/3d/4ac37cc2.jpg","nickname":"å¤–æ˜Ÿäºº","note":"","ucode":"D8469B13F2AB37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6191,"discussion_content":"Brooklinä¹Ÿå¼€æºäº†å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566779526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187760,"user_name":"å’¸æ·¡ä¸€é¦–è¯—","can_delete":false,"product_type":"c1","uid":1435869,"ip_address":"","ucode":"FEE5A9B5139BF1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLl9nj9b6RydKADq82ZwOad0fQcvXWyQKk5U5RFC2kzHGI4GjIQsIZvHsEm7mFELgMiaGx3lGq9vag/132","comment_is_top":false,"comment_ctime":1584234592,"is_pvip":false,"replies":[{"id":"72593","content":"å¾ˆéš¾ã€‚æˆ‘æŒ‡çš„æ˜¯å®é™…ç¯å¢ƒä¸­ï¼Œè‡³å°‘ä»£ä»·æå¤§ã€‚å°±æ‹¿ä½ç§»æ¥è¯´ä½ å°±å¾ˆéš¾ä¿è¯ä¸¥æ ¼ä¸€è‡´ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1584320907,"ip_address":"","comment_id":187760,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18764103776","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆï¼Œæƒ³é—®ä¸€ä¸‹ï¼ŒMirrorMaker å·¥å…·èƒ½ä¿è¯åŒæ­¥å‰ååˆ†åŒºåºå·ï¼Œä»¥åŠåˆ†åŒºä½ç§»æ˜¯ä¸€æ ·çš„å—ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487231,"discussion_content":"å¾ˆéš¾ã€‚æˆ‘æŒ‡çš„æ˜¯å®é™…ç¯å¢ƒä¸­ï¼Œè‡³å°‘ä»£ä»·æå¤§ã€‚å°±æ‹¿ä½ç§»æ¥è¯´ä½ å°±å¾ˆéš¾ä¿è¯ä¸¥æ ¼ä¸€è‡´ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584320907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2649276,"avatar":"https://static001.geekbang.org/account/avatar/00/28/6c/bc/f751786b.jpg","nickname":"Leo","note":"","ucode":"CEBAD9CDCFC2A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":537134,"discussion_content":"é‚£è¯·é—®ï¼Œä½ç§»ä¸ä¸€è‡´ï¼Œé‚£MirrorMakeræ˜¯æ€ä¹ˆä¿è¯æ¶ˆè´¹æ¶ˆæ¯çš„å”¯ä¸€æ€§åŠå‡†ç¡®æ€§ï¼›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638965584,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":487231,"ip_address":""},"score":537134,"extra":""}]}]},{"had_liked":false,"id":154735,"user_name":"wgcris","can_delete":false,"product_type":"c1","uid":1527666,"ip_address":"","ucode":"842B76EB6B8320","user_header":"","comment_is_top":false,"comment_ctime":1574525613,"is_pvip":false,"replies":[{"id":"59504","content":"é»˜è®¤æ˜¯ä¸åŒæ­¥å†…éƒ¨topicï¼Œå¦‚æœè¦åŒæ­¥çš„è¯ï¼Œéœ€è¦ä¸¤ä¸ªæ¡ä»¶ï¼šåœ¨consumer.configä¸­è®¾ç½®exclude.internal.topics=falseä»¥åŠåœ¨producer.configä¸­è®¾ç½®client.id=__admin_clientã€‚å…·ä½“å‚è§è¿™ä¸ªjiraï¼š<br>https:&#47;&#47;issues.apache.org&#47;jira&#47;browse&#47;KAFKA-6524<br><br>å¦‚æœä¸»æŒ‚äº†ï¼Œclientéœ€è¦è‡ªè¡Œå¤„ç†åˆ‡æ¢çš„é—®é¢˜ï¼Œç›®å‰Kafkaç«¯å°šæœªè‡ªåŠ¨åˆ‡æ¢çš„è§£å†³æ–¹æ¡ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1574644161,"ip_address":"","comment_id":154735,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14459427501","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼Œå¦‚æœä½¿ç”¨mirrormakeråšé›†ç¾¤æ•°æ®åŒæ­¥ï¼Œæ˜¯ä¸æ˜¯å†…éƒ¨topicæ•°æ®ä¹Ÿä¸€èµ·è¿›è¡ŒåŒæ­¥ï¼Ÿå¦å¤–åœ¨ä¸»å¤‡åœºæ™¯ä¸‹ï¼Œå¦‚æœä¸»é›†ç¾¤æŒ‚äº†ï¼Œå¦‚ä½•ä¿è¯å¤‡é›†ç¾¤èƒ½æ­£å¸¸æä¾›æœåŠ¡ï¼Œå®¢æˆ·ç«¯æ¶ˆè´¹æ•°æ®æ˜¯æ­£ç¡®çš„","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475567,"discussion_content":"é»˜è®¤æ˜¯ä¸åŒæ­¥å†…éƒ¨topicï¼Œå¦‚æœè¦åŒæ­¥çš„è¯ï¼Œéœ€è¦ä¸¤ä¸ªæ¡ä»¶ï¼šåœ¨consumer.configä¸­è®¾ç½®exclude.internal.topics=falseä»¥åŠåœ¨producer.configä¸­è®¾ç½®client.id=__admin_clientã€‚å…·ä½“å‚è§è¿™ä¸ªjiraï¼š\nhttps://issues.apache.org/jira/browse/KAFKA-6524\n\nå¦‚æœä¸»æŒ‚äº†ï¼Œclientéœ€è¦è‡ªè¡Œå¤„ç†åˆ‡æ¢çš„é—®é¢˜ï¼Œç›®å‰Kafkaç«¯å°šæœªè‡ªåŠ¨åˆ‡æ¢çš„è§£å†³æ–¹æ¡ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574644161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126592,"user_name":"å¤–æ˜Ÿäºº","can_delete":false,"product_type":"c1","uid":1132861,"ip_address":"","ucode":"D8469B13F2AB37","user_header":"https://static001.geekbang.org/account/avatar/00/11/49/3d/4ac37cc2.jpg","comment_is_top":false,"comment_ctime":1566434350,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14451336238","product_id":100029201,"comment_content":"æ‚¨å¥½ï¼Œæˆ‘ä»¬æœ€è¿‘ä¹Ÿåœ¨è°ƒç ”brooklinå’ŒuReplicatorï¼Œèƒ½å¦æ¯”è¾ƒä¸‹äºŒè€…çš„ä¼˜ç¼ºç‚¹å•Šï¼Ÿ","like_count":3},{"had_liked":false,"id":135782,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1569279857,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10159214449","product_id":100029201,"comment_content":"kafkaé›†ç¾¤é—´æ•°æ®åŒæ­¥å·¥å…·ï¼ŒMirrorMakerâ€”â€”æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ¶ˆè´¹è€…+ä¸€ä¸ªç”Ÿäº§è€…ç¨‹åºï¼Œåˆ©ç”¨è¿™ä¸€å–ä¸€æ”¾å°†æ•°æ®åœ¨ä¸¤ä¸ªkafkaé›†ç¾¤ä¸­åˆ°ä¸€é“æ‰‹ã€‚ä¸è¿‡è¿™ä¸ªå·¥å…·æ€§èƒ½å·®ä¸€äº›ï¼Œä¹Ÿå­˜åœ¨å…¶ä»–ä¸€äº›é—®é¢˜ï¼Œæ‰€ä»¥ï¼Œç‰›ä¸€ç‚¹çš„å…¬å¸éƒ½åœ¨å¥¹çš„åŸºç¡€ä¸Šå¼€å‘äº†è‡ªå·±çš„é›†ç¾¤é—´æ•°æ®åŒæ­¥å·¥å…·ã€‚","like_count":2},{"had_liked":false,"id":126722,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1566458516,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10156393108","product_id":100029201,"comment_content":"è·Ÿç€è€å¸ˆä¸€èµ·ç²¾è¿›ã€‚","like_count":2},{"had_liked":false,"id":155908,"user_name":"wgcris","can_delete":false,"product_type":"c1","uid":1527666,"ip_address":"","ucode":"842B76EB6B8320","user_header":"","comment_is_top":false,"comment_ctime":1574777460,"is_pvip":false,"replies":[{"id":"59943","content":"è¿™ä¸ªKIPè¿˜åœ¨è®¨è®ºä¸­å•Šï¼Œæ²¡æœ‰è¿›2.3ç‰ˆæœ¬ã€‚åŸºæœ¬ä¸Šéƒ½æ˜¯å› ä¸ºåŠ è½½æ—¥å¿—æ®µæ—¶é—´è¿‡é•¿å¯¼è‡´çš„ã€‚ç›®å‰ç¤¾åŒºé’ˆå¯¹è¿™ä¸ªé—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆæ˜¯KIP-500","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1574816377,"ip_address":"","comment_id":155908,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5869744756","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œå†è¯·æ•™ä¸ªé—®é¢˜æœ€è¿‘æˆ‘ä»¬ç”Ÿäº§ç¯å¢ƒå‘ç°ï¼Œbrokerè¿›ç¨‹æ„å¤–æŒ‚æ‰ä¹‹åï¼Œé‡å¯brokeræ—¶é—´ä¼šå¾ˆé•¿ï¼Œå½“æ•°æ®é‡å¾ˆå¤§çš„æ—¶å€™ï¼Œæµè§ˆäº†ä¸€ä¸‹ç¤¾åŒºï¼ŒKIP-263æäº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œè€Œä¸”å·²ç»åˆå…¥åˆ°2.3ç‰ˆæœ¬ï¼Œä½†æµ‹è¯•å‘ç°å¹¶æ²¡æœ‰ä»€ä¹ˆæ•ˆæœï¼Œä¸çŸ¥é“æ‚¨æœ‰äº†è§£è¿™æ–¹é¢çš„ä¼˜åŒ–å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":475922,"discussion_content":"è¿™ä¸ªKIPè¿˜åœ¨è®¨è®ºä¸­å•Šï¼Œæ²¡æœ‰è¿›2.3ç‰ˆæœ¬ã€‚åŸºæœ¬ä¸Šéƒ½æ˜¯å› ä¸ºåŠ è½½æ—¥å¿—æ®µæ—¶é—´è¿‡é•¿å¯¼è‡´çš„ã€‚ç›®å‰ç¤¾åŒºé’ˆå¯¹è¿™ä¸ªé—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆæ˜¯KIP-500","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574816377,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1527666,"avatar":"","nickname":"wgcris","note":"","ucode":"842B76EB6B8320","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":62082,"discussion_content":"å“¦ï¼Œä½†æ˜¯æˆ‘çœ‹åˆ°ä»–æäº†ä¸ªpatchï¼ŒKAFKA-7283ï¼Œè¿™ä¸ªå·²ç»åˆå…¥åˆ°2.3ç‰ˆæœ¬äº†ï¼Œä½†å‘ç°è¿™ä¸ªå¹¶æ²¡æœ‰è§£å†³å®é™…é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574816563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145835,"user_name":"è“è‰²æµ·æ´‹","can_delete":false,"product_type":"c1","uid":1122512,"ip_address":"","ucode":"74F0C097750F96","user_header":"https://static001.geekbang.org/account/avatar/00/11/20/d0/ad12060d.jpg","comment_is_top":false,"comment_ctime":1572393564,"is_pvip":false,"replies":[{"id":"56349","content":"ä¸ªäººè§‰å¾—ä½¿ç”¨MirrorMakerä¼¼ä¹ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œåªæ˜¯ç‰ˆæœ¬è·¨åº¦æœ‰ç‚¹å¤§~ 0.8å’Œ2.0çš„æ¶ˆæ¯æ ¼å¼éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œ","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1572420806,"ip_address":"","comment_id":145835,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5867360860","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®é—®ï¼Œä½ç‰ˆæœ¬çš„é›†ç¾¤æ¶ˆæ¯å¯ä»¥åŒæ­¥åˆ°é«˜ç‰ˆæœ¬é›†ç¾¤å—ï¼Œç›®å‰ç‰ˆæœ¬æ˜¯0.8æƒ³åŒæ­¥åˆ°2.0é›†ç¾¤","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472593,"discussion_content":"ä¸ªäººè§‰å¾—ä½¿ç”¨MirrorMakerä¼¼ä¹ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œåªæ˜¯ç‰ˆæœ¬è·¨åº¦æœ‰ç‚¹å¤§~ 0.8å’Œ2.0çš„æ¶ˆæ¯æ ¼å¼éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572420806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1122512,"avatar":"https://static001.geekbang.org/account/avatar/00/11/20/d0/ad12060d.jpg","nickname":"è“è‰²æµ·æ´‹","note":"","ucode":"74F0C097750F96","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":41588,"discussion_content":"å¥½çš„ï¼Œè°¢è°¢è€å¸ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572475413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128329,"user_name":"RJZ","can_delete":false,"product_type":"c1","uid":1222492,"ip_address":"","ucode":"14FEBE3A7E0814","user_header":"https://static001.geekbang.org/account/avatar/00/12/a7/5c/977d714c.jpg","comment_is_top":false,"comment_ctime":1566871134,"is_pvip":false,"replies":[{"id":"47559","content":"Kafka Connectå¤šæ˜¯å®ç°Kafkaä¸å…¶ä»–å¤–éƒ¨ç³»ç»Ÿä¹‹é—´çš„äº’è¿ï¼Œä¸æ˜¯ç”¨äºKafkaå¤šé›†ç¾¤é—´çš„æ•°æ®è¿ç§»ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰å¯¹åº”çš„kafka connector....","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1566871568,"ip_address":"","comment_id":128329,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5861838430","product_id":100029201,"comment_content":"ç”¨kafka connectorå®ç°å¯ä»¥ä¸","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464899,"discussion_content":"Kafka Connectå¤šæ˜¯å®ç°Kafkaä¸å…¶ä»–å¤–éƒ¨ç³»ç»Ÿä¹‹é—´çš„äº’è¿ï¼Œä¸æ˜¯ç”¨äºKafkaå¤šé›†ç¾¤é—´çš„æ•°æ®è¿ç§»ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰å¯¹åº”çš„kafka connector....","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566871568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336902,"user_name":"Geek_ea21df","can_delete":false,"product_type":"c1","uid":1316537,"ip_address":"","ucode":"1FCCD97587DB97","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/b9/a8a7a6af.jpg","comment_is_top":false,"comment_ctime":1646458149,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1646458149","product_id":100029201,"comment_content":"å¦‚æœé›†ç¾¤ä½¿ç”¨äº†è®¤è¯ï¼ŒMirrorMakeræ€ä¹ˆæŒ‡å®šç”¨æˆ·åå’Œå¯†ç ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2707289,"avatar":"","nickname":"Geek_cdbba2","note":"","ucode":"8C439240FBC2B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572180,"discussion_content":"æ¶ˆè´¹å’Œç”Ÿäº§çš„é…ç½®æ–‡ä»¶å¢åŠ è®¤è¯ç›¸å…³å‚æ•°ä¸å°±è¡Œäº†ã€‚æœ¬è´¨ä¸Šmmè¿˜æ˜¯ç”Ÿäº§å’Œæ¶ˆè´¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652626670,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":265908,"user_name":"å¤æœ«?ç§‹åˆ","can_delete":false,"product_type":"c1","uid":2237987,"ip_address":"","ucode":"480ECB8ADAD0B5","user_header":"https://static001.geekbang.org/account/avatar/00/22/26/23/e8356436.jpg","comment_is_top":false,"comment_ctime":1607066020,"is_pvip":false,"replies":[{"id":"96623","content":"å¯ä»¥ä¿è¯ï¼Œå› ä¸ºmirrormakerä¹Ÿå¯ä»¥è¿ç§»__consumer_offsetsï¼Œåªæ˜¯æˆ‘ä¸¥é‡æ€€ç–‘åœ¨å®è·µä¸­åšåˆ°è¿™ç‚¹è¿˜æ˜¯æœ‰ç‚¹æŠ€æœ¯å«é‡ï¼šï¼‰<br>","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1607077515,"ip_address":"","comment_id":265908,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1607066020","product_id":100029201,"comment_content":"è€å¸ˆï¼Œå¦‚æœç”¨mirrormakerä½œä¸ºé›†ç¾¤é—´æ•°æ®è¿ç§»å·¥å…·ï¼Œè¿ç§»åèƒ½å¦ä¿è¯æ¶ˆè´¹ä½ç§»ä¸€è‡´ï¼Œå‰ææ˜¯æºç«¯ç›®çš„ç«¯æ‰€æœ‰é…ç½®ã€ä¸»é¢˜ã€åˆ†åŒºæ•°è¿™äº›éƒ½ä¸€è‡´ï¼Œmirrormakerèƒ½å¦è¾¾åˆ°è¿™ç§åœºæ™¯ä¸‹çš„è¿ç§»å•Š?","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511088,"discussion_content":"å¯ä»¥ä¿è¯ï¼Œå› ä¸ºmirrormakerä¹Ÿå¯ä»¥è¿ç§»__consumer_offsetsï¼Œåªæ˜¯æˆ‘ä¸¥é‡æ€€ç–‘åœ¨å®è·µä¸­åšåˆ°è¿™ç‚¹è¿˜æ˜¯æœ‰ç‚¹æŠ€æœ¯å«é‡ï¼šï¼‰\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607077515,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":257969,"user_name":"Dev.lu","can_delete":false,"product_type":"c1","uid":1266108,"ip_address":"","ucode":"A1F727C92A1E5F","user_header":"https://static001.geekbang.org/account/avatar/00/13/51/bc/c7514a30.jpg","comment_is_top":false,"comment_ctime":1604228058,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604228058","product_id":100029201,"comment_content":"å¦‚æœæ˜¯ç”¨confluent replicator å¯ä»¥è‡ªå·±build SMT æ’ä»¶, cstomize transformation","like_count":0},{"had_liked":false,"id":232233,"user_name":"James","can_delete":false,"product_type":"c1","uid":1134861,"ip_address":"","ucode":"48B0F2A334D1C1","user_header":"https://static001.geekbang.org/account/avatar/00/11/51/0d/fc1652fe.jpg","comment_is_top":false,"comment_ctime":1593931807,"is_pvip":false,"replies":[{"id":"85761","content":"å°±æ˜¯åœ¨consumeræ¶ˆè´¹å‰å¯¹æ¶ˆæ¯è¿›è¡Œå¤„ç†","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1593997659,"ip_address":"","comment_id":232233,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593931807","product_id":100029201,"comment_content":"--message.handler æ‰§è¡Œç”Ÿäº§è€…é›·ä¿®æ”¹æ¶ˆæ¯ä½“å—","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500577,"discussion_content":"å°±æ˜¯åœ¨consumeræ¶ˆè´¹å‰å¯¹æ¶ˆæ¯è¿›è¡Œå¤„ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593997659,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221417,"user_name":"çŒªå“¥ç°","can_delete":false,"product_type":"c1","uid":1056113,"ip_address":"","ucode":"5682FB624D7795","user_header":"https://static001.geekbang.org/account/avatar/00/10/1d/71/4d3d2a62.jpg","comment_is_top":false,"comment_ctime":1590496560,"is_pvip":false,"replies":[{"id":"81706","content":"mirrormaker 1æ˜¯ä¸æ”¯æŒçš„ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨MM2","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1590547077,"ip_address":"","comment_id":221417,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590496560","product_id":100029201,"comment_content":"è€å¸ˆå¥½ï¼Œæƒ³è¯·æ•™ä¸€ä¸‹mirrormakeræ˜¯å¦æ”¯æŒä¸¤ä¸ªåˆ†åˆ«æ”¯æŒä¸åŒè®¤è¯æ–¹å¼çš„kafkaé›†ç¾¤ï¼Œæˆ–è€…ä¸¤ä¸ªä¸åŒkerberosè®¤è¯çš„é›†ç¾¤","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496450,"discussion_content":"mirrormaker 1æ˜¯ä¸æ”¯æŒçš„ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨MM2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590547077,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190746,"user_name":"å¤§åç‹ç‹¸","can_delete":false,"product_type":"c1","uid":1325678,"ip_address":"","ucode":"5044F89A505C5B","user_header":"https://static001.geekbang.org/account/avatar/00/14/3a/6e/e39e90ca.jpg","comment_is_top":false,"comment_ctime":1584689543,"is_pvip":false,"replies":[{"id":"73360","content":"MMåé¢åº”ç”¨çš„åœºæ™¯è¿˜æ˜¯å¾ˆå¤šçš„ï¼ŒåŠ æ²¹<br>","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1584753713,"ip_address":"","comment_id":190746,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1584689543","product_id":100029201,"comment_content":"å®Œäº† æˆ‘å’‹æ„Ÿè§‰ ç”¨ä¸åˆ°è¿™ä¸œè¥¿ã€‚æˆ‘åˆæ€•ä»¥åç”¨åˆ°äº†ã€‚","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488050,"discussion_content":"MMåé¢åº”ç”¨çš„åœºæ™¯è¿˜æ˜¯å¾ˆå¤šçš„ï¼ŒåŠ æ²¹\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584753713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":128616,"user_name":"RJZ","can_delete":false,"product_type":"c1","uid":1222492,"ip_address":"","ucode":"14FEBE3A7E0814","user_header":"https://static001.geekbang.org/account/avatar/00/12/a7/5c/977d714c.jpg","comment_is_top":false,"comment_ctime":1566914320,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566914320","product_id":100029201,"comment_content":"æ¥ä¸Šæ¡ï¼Œåªæ˜¯æ„Ÿè§‰connectå°±æ˜¯æ¥åšæ•°æ®å¯¹æ¥åœºæ™¯çš„ğŸ˜‚ï¼Œå¦å¤–confluentçš„å¤åˆ¶å·¥å…·å‡ºç°åœ¨confluent hubé‡Œï¼Œä¸€åº¦æ€€ç–‘ä»–ä»¬æ˜¯å¼€å‘äº†ä¸ªconnector","like_count":0},{"had_liked":false,"id":126629,"user_name":"lmtoo","can_delete":false,"product_type":"c1","uid":1133918,"ip_address":"","ucode":"FCD5B9C941D448","user_header":"https://static001.geekbang.org/account/avatar/00/11/4d/5e/c5c62933.jpg","comment_is_top":false,"comment_ctime":1566438841,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1566438841","product_id":100029201,"comment_content":"æ˜¯ä¸æ˜¯é€šè¿‡MirrorMakeræ‹·è´ï¼Œåªè¦æ˜¯ç›®æ ‡é›†ç¾¤çš„ä¸»é¢˜åˆ†åŒºæ•°é‡å’Œæºä¸»é¢˜åˆ†åŒºæ•°é‡ä¸€è‡´ï¼Œæ‹·è´çš„ä¸»é¢˜åˆ†åŒºæ•°æ®å°±æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2237987,"avatar":"https://static001.geekbang.org/account/avatar/00/22/26/23/e8356436.jpg","nickname":"å¤æœ«?ç§‹åˆ","note":"","ucode":"480ECB8ADAD0B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332103,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607065851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
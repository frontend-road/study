{"id":109128,"title":"33 | 带你初探量化世界","content":"<p>你好，我是景霄。</p><p>在2000 年顶峰时期，高盛雇佣了 600 名交易员为机构客户买卖现金股票。可如今，这个数字只有 2 名（Ref. 经济学人）。到了2009 年，金融危机余音未散，专家面对股票和证券交易中越来越多的机器参与提出了警告，因为机器的崛起，逐渐导致了手操交易工作的消失。</p><p>很久之前，瑞银集团（UBS）的交易大厅是下面这样的：</p><p><img src=\"https://static001.geekbang.org/resource/image/38/f7/3814a699e324b7958a08c793a5d58df7.png?wh=500*335\" alt=\"\"></p><p>8 年之后，交易大厅就已经只有这些人了：</p><p><img src=\"https://static001.geekbang.org/resource/image/59/af/59390119c9f7cb17ca9642bf2d30b3af.jpg?wh=500*377\" alt=\"\"></p><p>事实上，随着数据处理技术的飞速发展，和量化交易模型研究理论的逐渐成熟，现金股票交易、债券市场、期货市场以及投行的相当一部分业务，都在朝着自动化的方向迈进。</p><p>而发展到2017 年，WannyCry 席卷全球，随之而来的比特币，在短短几个月内从小众玩家走入了公众视野，币价也是一飞冲天，很多炒币的人赚得盆满钵满。更有一部分人，将金融业的量化策略应用其中，无论是搬砖（套利），还是波段，在不成熟的市场初期都赚了个爽快。</p><p>这节课开始，我们就来探索一下量化的世界。作为我们 Python 专栏的综合实践模块，希望你能在这一部分内容中，收获自己独特的东西。</p><h2>交易是什么？</h2><p>市场，是人类有史以来最伟大的发明之一。亚当·斯密在国富论中，用“看不见的手”这个概念，生动形象地阐释了市场和理性人之间是如何交互，最终让整个社会受益的。</p><!-- [[[read_end]]] --><p>而市场的核心，是交换。人类发展最开始是物物交换，原始的“以物易物”的方式产生于货币诞生之前。不过，这种方式非常低效，不便于流通交换，经常会出现的情况是，要走很长的交换链条才能拿到自己想要的物品。于是，一般等价物出现了，社会分工也逐渐出现了。人们把自己生产的商品换成一般等价物，然后再换成自己需要的其他商品。</p><p>而交换的核心，就是买和卖。当买卖双方对价格预期相等的时候，交易达成。随着金融和技术的发展，逐渐出现了股票、债券、期权、期货等越来越多的金融工具，金融衍生品也朝着复杂的方向发展。</p><p>在我们经常听到的投资银行中，量化基金交易员这种角色，所做的事情，就是在这些复杂的衍生品基础上，分析投资标的的价值，然后以某种策略来管理持有仓位，进行买进和卖出。</p><p>为什么交易能赚钱，是很多人疑惑不解的地方。市场究竟有没有规律可循呢？可以肯定是有的，但虽有迹可循却无法可依。交易的多样性和人性的复杂性，使得金融数据的噪音极大，我们无法简单地从某一两个因子来确定地推导行情变化。</p><p>所以交易员这个行业本身，对自身素质要求是极高的。除了要具备扎实的专业素养（包括金融功底、数理逻辑、分析能力、决策能力），对心理素质的要求也非常高。这种直接和钱打交道、并直面人性深处欲望的行业，也因此吸引了无数高手的参与，很多人因此暴富，也有不少人破产，一无所有。</p><p>那么，有什么办法可以规避这种，因为心理素质原因带来的风险呢？</p><h2>量化交易</h2><p>回答这个问题之前，我先插一句题外话。刚接触量化交易的朋友，都很容易被这几个词绕晕：量化交易（Quantitative Trading）、程序化交易（Program Trading）、算法交易（Algo-Trading）、高频交易（High Frequency Trading）和自动化交易平台（Automated Trading System）。</p><p>虽然我遇到过不少行业内的人也混用这词，但是作为初学者来说，厘清这些术语还是很有帮助的。至少，在别人说出这些高大上的词时，我们心里不用犯怵了。</p><p>先来看程序化交易，它通常用计算机程序代替交易员，来具体执行金融产品的买卖。比如，一个基金经理需要卖出大量股票。如果直接挂一个大的卖单，可能会影响市场，那就用计算机程序拆分成小单慢慢执行。所以，量化交易的下层通常是程序交易。</p><p>而算法交易通常用于高频交易中。它指的是，通过算法快速判定买卖的时间点，快速买卖多个产品。</p><p>量化交易则通常是指使用数学、统计甚至机器学习的方法，去找寻合适的买卖时机。所以，在这个维度的定义之下，算法交易、高频交易还有统计套利（Statistical Arbitrage）都可以算作量化交易。</p><p>简单而言，我们可以认为量化交易的涵盖范围最大。因此，<strong>当你不确定用哪个词的时候，用量化交易就行了。</strong></p><p>回到我们刚刚的问题，规避心理素质原因带来的风险的方法，自然就是量化交易了。量化交易的好处显而易见。最直观来看，计算机不眠不休，不需要交易员实时操盘，满足了人们“躺着挣钱”的愿景。当然，这只是美好的想象，真要这么做的话，不久之后就要回工地搬砖了。现实场景中，成熟的量化交易也需要有人蹲守，适时干预，防止算法突然失效造成巨额的交易亏损。</p><p>在数字货币领域的交易，这一点更加显著。数字货币的交易在全球许多交易所进行，和股票不同，一支股票可能只在少数几个交易所交易，而一种数字货币可以在所有的交易所同时进行交易。同时，因为没有股市的开盘、收盘限制，数字货币的交易通常是 7 x 24 小时不眠不休，比前世的 “996 福报”凶残多了。要是真有交易员能在这个市场活下来，我们尊称一声“神仙”也不为过了。</p><p>多交易所交易，也意味着全球数字货币市场每时每刻都是紧密相连的。一个市场、一个局部的巨大变动，都会影响所有的市场。比如，2017年朝鲜氢弹炸了的当天，新闻还没出来，隔壁韩国、日本的比特币价格马上拉升了一波；再比如，当比特币的负面消息半夜里传出来的时候，其价格也马上跟着暴跌一波。</p><p><img src=\"https://static001.geekbang.org/resource/image/bf/02/bfae52c5cc5252e006652d73a1e1b502.png?wh=1600*805\" alt=\"\"></p><center>2019年6月比特币在全球头部交易所的价格</center><p>因此，我们经常看到比特币的价格波动巨大。很有可能今天还是财富自由状态，明天的财富就没那么自由了。显然，在这种市场中交易，人力很难持久支撑，而量化交易就很合适了。</p><p>通常的电子盘交易（比如股票，数字货币），是通过券商或者软件，直接把买卖请求发送给交易所；而算法交易的底层，就是让程序来自动实现这类操作。券商或者交易所，通常也会提供API接口给投资者。比如，盈透证券（Interactive Broker）的接口，就可以支持股票、期权的行情数据获取和交易；而 Gemini、OKCoin等交易所，也提供了对应的接口进行数字货币行情获取和交易。</p><p>Gemini交易所的<a href=\"https://api.gemini.com/v1/pubticker/btcusd\">公开行情API</a>，就可以通过下面这种简单的HTTP GET请求，来获取最近的比特币（BTC）对美元（USD）的价格和最近的成交量。</p><pre><code>########## GEMINI行情接口 ##########\n## https://api.gemini.com/v1/pubticker/:symbol\n\nimport json\nimport requests\n\ngemini_ticker = 'https://api.gemini.com/v1/pubticker/{}'\nsymbol = 'btcusd'\nbtc_data = requests.get(gemini_ticker.format(symbol)).json()\nprint(json.dumps(btc_data, indent=4))\n\n########## 输出 ##########\n\n{\n   &quot;bid&quot;: &quot;8825.88&quot;,\n   &quot;ask&quot;: &quot;8827.52&quot;,\n   &quot;volume&quot;: {\n       &quot;BTC&quot;: &quot;910.0838782726&quot;,\n       &quot;USD&quot;: &quot;7972904.560901317851&quot;,\n       &quot;timestamp&quot;: 1560643800000\n   },\n   &quot;last&quot;: &quot;8838.45&quot;\n}\n</code></pre><p>对算法交易系统来说，API只是最下层的结构。通常而言，一个基本的交易系统应该包括：行情模块、策略模块和执行模块。为了辅助策略的开发，通常还有回测系统辅助。它们的分工示意图大致如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/d2/f7/d290da8da3bb149858ce1a0be79215f7.png?wh=1379*677\" alt=\"\"></p><p>其中，</p><ul>\n<li>行情模块的主要功能是，尝试获取市场的行情数据，通常也负责获取交易账户的状态。</li>\n<li>策略模块的主要功能是，订阅市场的数据，根据设定的算法发出买、卖指令给执行模块。</li>\n<li>执行模块的主要功能是，接受并把策略模块发过来的买、卖指令封装并转发到交易所；同时，监督并确保策略买卖的完整执行。</li>\n</ul><h2>Python算法交易</h2><p>了解了这么多关于量化交易的知识，接下来我们就来说说Python算法交易。Python 在金融行业的许多方面都有用到，在算法交易领域，更是发挥了日益重要的作用。 Python 之所以能在这个行业这么流行，主要是因为下面四个原因。</p><h3>数据分析能力</h3><p>第一个原因，是Python的数据分析能力。算法交易领域的一个基本需求，就是高效数据处理能力，而数据处理则是Python的强项。特别是NumPy+Pandas的组合，简直让算法交易开发者的生活质量直线上升。</p><p>我们可以用一个简单的例子来展示一下，如何抓取、格式化和绘制，比特币过去一个小时在Gemini交易所的价格曲线。相关的代码我都附了详细注释，这里就不再多讲，你阅读了解一下即可。</p><pre><code>import matplotlib.pyplot as plt\nimport pandas as pd\nimport requests\n\n# 选择要获取的数据时间段\nperiods = '3600'\n\n# 通过Http抓取btc历史价格数据\nresp = requests.get('https://api.cryptowat.ch/markets/gemini/btcusd/ohlc', \n  params={\n    'periods': periods\n  })\ndata = resp.json()\n\n# 转换成pandas data frame\ndf = pd.DataFrame(\n  data['result'][periods], \n  columns=[\n    'CloseTime',\n    'OpenPrice',\n    'HighPrice',\n    'LowPrice',\n    'ClosePrice',\n    'Volume',\n    'NA'])\n\n# 输出DataFrame的头部几行\nprint(df.head())\n\n# 绘制btc价格曲线\ndf['ClosePrice'].plot(figsize=(14, 7))\nplt.show()\n\n\n########### 输出 ###############\nCloseTime  OpenPrice  HighPrice  ...  ClosePrice     Volume             NA\n0  1558843200    8030.55    8046.30  ...     8011.20  11.642968   93432.459964\n1  1558846800    8002.76    8050.33  ...     8034.48   8.575682   68870.145895\n2  1558850400    8031.61    8036.14  ...     8000.00  15.659680  125384.519063\n3  1558854000    8000.00    8016.29  ...     8001.46  38.171420  304342.048892\n4  1558857600    8002.69    8023.11  ...     8009.24   3.582830   28716.385009\n</code></pre><p>通过执行这样的一段代码，我们便可以得到下面这张图所示的价格曲线。</p><p><img src=\"https://static001.geekbang.org/resource/image/8c/1f/8c7d9f54db86181f87422a3543747a1f.png?wh=837*407\" alt=\"\"></p><h3>大量专有库</h3><p>除了强大的数据处理能力之外，Python 还有许许多多已经开发成熟的算法交易库可供使用。比如，你可以使用Zipline进行策略回测，或者用Pyfolio进行投资组合分析。而许多交易所也都提供了基于Python的API客户端。</p><h3>便利的交易平台</h3><p>第三个原因，是因为便利的交易平台。有一些算法交易平台可以执行自定义 Python 策略，无需搭建量化交易框架。算法交易平台，实际上等效于帮用户完成了行情模块和执行模块。用户只需要在其中定义策略模块，即可进行算法交易和回测。</p><p>比如，Quantopian，就提供了基于Zipline的标准回测环境。用户可以选择Python作为开发语言，并且和社区的网友分享自己的策略。此外，国内也有诸如BigQuant、果仁网等类似平台，提供不同市场和金融产品的交易。</p><h3>广泛的行业应用</h3><p>最后一个原因，则是Python本身广泛的行业应用了。目前，越来越多投资机构的交易部门，都开始使用Python，因此也对优秀的Python开发者产生了更多的需求。自然，这也让学习Python，成为了更有意义的“投资”。</p><h2>总结</h2><p>这一节课，我们介绍了交易，以及算法交易中的基本概念，也简单介绍了为什么要学习 Python 来搭建量化交易系统。量化交易是交易行业的大趋势；同时， Python 作为最适合量化从业者的语言之一，对于初学者而言也有着非常重要的地位。</p><p>接下来的几节课，我们将从细节深入量化交易的每一个模块，由浅入深地为你揭开量化交易神秘的面纱。</p><h2>思考题</h2><p>最后给你留一道思考题。高频交易和中低频交易，哪个更适合使用 Python？为什么？欢迎在留言区写下你的想法，也欢迎你把这篇文章分享给更多对量化交易感兴趣的人，我们一起交流和探讨。</p>","comments":[{"had_liked":false,"id":118017,"user_name":"Jingxiao","can_delete":false,"product_type":"c1","uid":1259521,"ip_address":"","ucode":"EB966BB87132F6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","comment_is_top":true,"comment_ctime":1564213293,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"9.2233722918221005e+18","product_id":100026901,"comment_content":"思考题答案：Python 更适合中低频量化交易中的使用，高频交易以 C++ 等速度更快，对系统底层访问更友好的编程语言为主。","like_count":58,"discussions":[{"author":{"id":1115232,"avatar":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","nickname":"Fan","note":"","ucode":"3BF28670FD9407","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342550,"discussion_content":"能不能介绍下c++相关的内容","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610713625,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116889,"user_name":"SCAR","can_delete":false,"product_type":"c1","uid":1031209,"ip_address":"","ucode":"38C0927FA3C5FC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bc/29/022905e6.jpg","comment_is_top":false,"comment_ctime":1563934493,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"448240533277","product_id":100026901,"comment_content":"1.高频交易是不太依靠数学模型来预测的，主要是靠掌握的信息量来择时的，而信息量更多是靠最好的it技术来达到目的。隔壁专栏深入浅出计算机组成原理里第37讲SpreadNetwork公司化3亿美元修建一条从芝加哥到新泽西的光缆，就是为了把原来两地的网络访问延时，从17ms降低到13ms，而光缆最大的客户就是所谓的高频交易公司。<br>2.相反中低频交易在用计算机根据历史数据拟合股票价格走势，然后再根据当下获得的数据预测未来的量化交易相对是适合的。量化交易的回报取决于你的模型的好坏以及你是否能够找到别人不知道的因子。<br>3.综上，python相对是适合中低频交易的。<br>4.量化交易终究是对过去经验的某种再现，而股票价格是非连续，再者不确定性是这个世界固有特性，所以量化交易风险还是很高很高的。","like_count":104},{"had_liked":false,"id":116936,"user_name":"程序员人生","can_delete":false,"product_type":"c1","uid":1113668,"ip_address":"","ucode":"C5C5073D89AAA2","user_header":"https://static001.geekbang.org/account/avatar/00/10/fe/44/3e3040ac.jpg","comment_is_top":false,"comment_ctime":1563941699,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"70283418435","product_id":100026901,"comment_content":"1，要显示那张图的话，是不是漏了一行代码plt.show()?<br>2, “算法交易属于高频交易，Numpy+Pandas是算法交易开发者的福音”。<br>    “Numpy是通过C来实现的”，所有处理速度不会慢<br>    所以python是适合高频交易的","like_count":16,"discussions":[{"author":{"id":1032464,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c1/10/28d5a686.jpg","nickname":"Longerian","note":"","ucode":"0B74EE70D09A2A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":216069,"discussion_content":"我用 jupyter ，也得调用 plt.show() 才会显示图\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585404522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1124574,"avatar":"https://static001.geekbang.org/account/avatar/00/11/28/de/54667f13.jpg","nickname":"jutsu","note":"","ucode":"95CEDEF5D085CF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2912,"discussion_content":"👍\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564035083,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1206774,"avatar":"https://static001.geekbang.org/account/avatar/00/12/69/f6/40c497a3.jpg","nickname":"Jon徐","note":"","ucode":"D203B6848C1D9C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2803,"discussion_content":"老师用的jupyter不用plt.show()就能绘图，其他工具是要用plt.show()才能看见图","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1563948500,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1113668,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fe/44/3e3040ac.jpg","nickname":"程序员人生","note":"","ucode":"C5C5073D89AAA2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1206774,"avatar":"https://static001.geekbang.org/account/avatar/00/12/69/f6/40c497a3.jpg","nickname":"Jon徐","note":"","ucode":"D203B6848C1D9C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3131,"discussion_content":"哦，是这样子的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564209712,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":2803,"ip_address":""},"score":3131,"extra":""}]}]},{"had_liked":false,"id":116797,"user_name":"张贺","can_delete":false,"product_type":"c1","uid":1283181,"ip_address":"","ucode":"0254E40FB3EB5F","user_header":"https://static001.geekbang.org/account/avatar/00/13/94/6d/5cd6e8c7.jpg","comment_is_top":false,"comment_ctime":1563927665,"is_pvip":true,"replies":[{"id":"48150","content":"嗯嗯","user_name":"作者回复","user_name_real":"Jingxiao","uid":"1259521","ctime":1567124010,"ip_address":"","comment_id":116797,"utype":1}],"discussion_count":1,"race_medal":0,"score":"70283404401","product_id":100026901,"comment_content":"中低频比较适合，python 处理速度比较慢，高频一般用C++","like_count":16,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459689,"discussion_content":"嗯嗯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567124010,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124767,"user_name":"Isaac Zhou","can_delete":false,"product_type":"c1","uid":1497157,"ip_address":"","ucode":"6A6569D10BA129","user_header":"https://static001.geekbang.org/account/avatar/00/16/d8/45/a74136fc.jpg","comment_is_top":false,"comment_ctime":1565966892,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"27335770668","product_id":100026901,"comment_content":"另外好多回答提到高频交易用C++ 其实很多在芝加哥的期货量化交易用的多是硬件编程 比如Verilog之类的","like_count":6},{"had_liked":false,"id":132083,"user_name":"王帅帅","can_delete":false,"product_type":"c1","uid":1526719,"ip_address":"","ucode":"84424192B61D47","user_header":"https://static001.geekbang.org/account/avatar/00/17/4b/bf/d714f592.jpg","comment_is_top":false,"comment_ctime":1568020172,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23042856652","product_id":100026901,"comment_content":"老师是否可以推荐国内 比如股票 期货等交易品种 提供自动化交易接口的交易所？","like_count":5},{"had_liked":false,"id":116818,"user_name":"fy","can_delete":false,"product_type":"c1","uid":1152186,"ip_address":"","ucode":"EDB661C3A05910","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/jsMMDDzhbsTzhicsGZiaeV0PWSnAS0fBlb1r6CsuB32vr3hRwV9UubmfHQx45v7jtaXajPlQ8kQ17b3zpQzHmqVw/132","comment_is_top":false,"comment_ctime":1563929694,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23038766174","product_id":100026901,"comment_content":"老师你的综合实战终于来了。一直期待着","like_count":5},{"had_liked":false,"id":168565,"user_name":"东方奇骥","can_delete":false,"product_type":"c1","uid":1354850,"ip_address":"","ucode":"DEE7085F7E55A4","user_header":"https://static001.geekbang.org/account/avatar/00/14/ac/62/37912d51.jpg","comment_is_top":false,"comment_ctime":1578110903,"is_pvip":true,"replies":[{"id":"66518","content":"看你怎么定义“高频”二字，真正的高频都是毫秒必争，go 语言相比 C++ 和底层汇编以及 FPGA 没有优势；但对于不是那么“高频”的高频交易，go 语言已经够用了","user_name":"作者回复","user_name_real":"高山流水","uid":"1513504","ctime":1578979189,"ip_address":"","comment_id":168565,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18757980087","product_id":100026901,"comment_content":"不知道老师如何看待go语言呢，是否高频量化交易可以考虑go语言，毕竟go语言在并发编程上有着很大的优势","like_count":4,"discussions":[{"author":{"id":1513504,"avatar":"https://static001.geekbang.org/account/avatar/00/17/18/20/75ea3b20.jpg","nickname":"高山流水","note":"","ucode":"71E513B5937481","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480252,"discussion_content":"看你怎么定义“高频”二字，真正的高频都是毫秒必争，go 语言相比 C++ 和底层汇编以及 FPGA 没有优势；但对于不是那么“高频”的高频交易，go 语言已经够用了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578979189,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116971,"user_name":"hlz-123","can_delete":false,"product_type":"c1","uid":1433586,"ip_address":"","ucode":"B7E5EF0C260BD2","user_header":"","comment_is_top":false,"comment_ctime":1563948965,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14448850853","product_id":100026901,"comment_content":"高频交易和中低频交易，高频交易更适合使用python，理由说明如下：<br>1、高频交易，属于投资中技术流派，关注日常交易价格、交易量等技术指标，根据技术指标的变化确定买卖时间和数量，系统需要根据历史数据以及预测模型来进行计算，时间性要求很高，这正是python强项，能处理大数据，成熟的算法交易库，这时要求的速度不仅仅是响应速度，更要求数据处理与预测的速度。<br>2、中低频交易，属于投资中价值流派，注重投资产品的长期价值，根据价值的高低进行买卖，不是根据平常的交易价格和交易量进行买卖，当然价值高低也有很多计算方法和计算模型，但是，时间要求不高，可以有各种工具实现，包括各种计算机语言，甚至EXCEL电子表格都可以实现。","like_count":3},{"had_liked":false,"id":238537,"user_name":"Geek_Jack","can_delete":false,"product_type":"c1","uid":2087650,"ip_address":"","ucode":"EC952E155BED1D","user_header":"https://static001.geekbang.org/account/avatar/00/1f/da/e2/2ea70d63.jpg","comment_is_top":false,"comment_ctime":1596190257,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10186124849","product_id":100026901,"comment_content":"这部分内容我喜欢","like_count":2},{"had_liked":false,"id":194956,"user_name":"董鑫 BI1EKK","can_delete":false,"product_type":"c1","uid":1366450,"ip_address":"","ucode":"2284F580866F76","user_header":"https://static001.geekbang.org/account/avatar/00/14/d9/b2/09361194.jpg","comment_is_top":false,"comment_ctime":1585123766,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10175058358","product_id":100026901,"comment_content":"中低频交易更适合python，因为高频交易对于交易延时，决策时间都有很高要求，甚至需要专用的低延时网络和交易席位配合，而python的脚本执行效率，注定在低延时，高效率的场景没有天生优势。","like_count":2},{"had_liked":false,"id":162276,"user_name":"建强","can_delete":false,"product_type":"c1","uid":1397126,"ip_address":"","ucode":"62B03D0E0C64EC","user_header":"https://static001.geekbang.org/account/avatar/00/15/51/86/b5fd8dd8.jpg","comment_is_top":false,"comment_ctime":1576491242,"is_pvip":false,"replies":[{"id":"62992","content":"高频一般用C++，因为其速度更快","user_name":"作者回复","user_name_real":"Jingxiao","uid":"1259521","ctime":1577190680,"ip_address":"","comment_id":162276,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10166425834","product_id":100026901,"comment_content":"个人理解，应该是高频交易更适合用Python，高频交易操作频繁，需要高效地对数据进行分析，及时地把控各种市场机会，而Python内置的各种数据获取，数据分析的API可以满足这方面的需求。不知道这样理解是否正确。","like_count":2,"discussions":[{"author":{"id":1259521,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJOlibibPFEWOib8ib7RtfAtxND5FUqCxxoeTuLAbBI9ic23xuwdXT4IyiaWq3Fic9RgEAYI0lBTbEp2rcg/132","nickname":"Jingxiao","note":"","ucode":"EB966BB87132F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477999,"discussion_content":"高频一般用C++，因为其速度更快","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577190680,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140629,"user_name":"扶幽","can_delete":false,"product_type":"c1","uid":1322612,"ip_address":"","ucode":"1400EDFF8970D3","user_header":"https://static001.geekbang.org/account/avatar/00/14/2e/74/88c613e0.jpg","comment_is_top":false,"comment_ctime":1571018633,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10160953225","product_id":100026901,"comment_content":"虽然不知道高频交易和中低频交易的特点、定义跟差别，但直觉告诉我Python适合中低频交易。:-P","like_count":2},{"had_liked":false,"id":143647,"user_name":"自由民","can_delete":false,"product_type":"c1","uid":1346236,"ip_address":"","ucode":"435C67531697F1","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/bc/cb39ed38.jpg","comment_is_top":false,"comment_ctime":1571751332,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5866718628","product_id":100026901,"comment_content":"中低频交易更适合，因为Python相较c&#47;c++速度较慢，用Python来做高频交易影响较大。","like_count":1},{"had_liked":false,"id":132103,"user_name":"王帅帅","can_delete":false,"product_type":"c1","uid":1526719,"ip_address":"","ucode":"84424192B61D47","user_header":"https://static001.geekbang.org/account/avatar/00/17/4b/bf/d714f592.jpg","comment_is_top":false,"comment_ctime":1568022755,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5862990051","product_id":100026901,"comment_content":"老师，抓取比特币价格曲线的例子中，df语句画的图怎么显示呢？","like_count":1,"discussions":[{"author":{"id":1220945,"avatar":"https://static001.geekbang.org/account/avatar/00/12/a1/51/9512bf48.jpg","nickname":"玲珑塔，塔玲珑","note":"","ucode":"009E8A7D219DDD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":187848,"discussion_content":"在代码的最后加一行 plt.show() 就能显示图表了","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582772939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116838,"user_name":"","can_delete":false,"product_type":"c1","uid":1322330,"ip_address":"","ucode":"FA2983C5AD320C","user_header":"https://static001.geekbang.org/account/avatar/00/14/2d/5a/cc637589.jpg","comment_is_top":false,"comment_ctime":1563930982,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5858898278","product_id":100026901,"comment_content":"中低频肯定没错，高频更容易产生样本，老师能不能在第二天的课程简单把头天的答案公布下？ 提前问个问题，通过量化算法交易挣钱的可能性大不大？毕竟所有行业，只有股票这些是一直存在的。","like_count":1},{"had_liked":false,"id":359883,"user_name":"钱鹏 Allen","can_delete":false,"product_type":"c1","uid":2518863,"ip_address":"上海","ucode":"7E95E82C0717DA","user_header":"https://static001.geekbang.org/account/avatar/00/26/6f/4f/3cf1e9c4.jpg","comment_is_top":false,"comment_ctime":1666012110,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1666012110","product_id":100026901,"comment_content":"高频交易还是中频交易？<br>python的处理速度不见得优于c，但是其能构建更优质的算法，帮助你更好决策","like_count":0},{"had_liked":false,"id":344099,"user_name":"Geek_95e94b","can_delete":false,"product_type":"c1","uid":2846192,"ip_address":"","ucode":"6BB4969064028E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKBM5AlegB72q5rwbwdibCib3HuZwic4b2IskOHgdMMcFc8XxpZhC7qGOCxoKwuj2Ob4spcPefSUiaDLA/132","comment_is_top":false,"comment_ctime":1651238743,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1651238743","product_id":100026901,"comment_content":"这个API国内是连不上的","like_count":0},{"had_liked":false,"id":343821,"user_name":"徐李","can_delete":false,"product_type":"c1","uid":1213325,"ip_address":"","ucode":"41550F6CA1E112","user_header":"https://static001.geekbang.org/account/avatar/00/12/83/8d/03cac826.jpg","comment_is_top":false,"comment_ctime":1651069588,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1651069588","product_id":100026901,"comment_content":"高频交易和中低频交易的一个区别是，交易人的心里状态变化吗？交易人都是假定理性人，但实际人都是会有心理波动的，这个时候需要像一个机器人自动化交易，这就是量化交易。针对这个问题，我觉得高频交易更适合python<br>","like_count":0},{"had_liked":false,"id":336700,"user_name":"Fan","can_delete":false,"product_type":"c1","uid":1115232,"ip_address":"","ucode":"3BF28670FD9407","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","comment_is_top":false,"comment_ctime":1646297911,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646297911","product_id":100026901,"comment_content":"高频交易和中低频交易，哪个更适合使用 Python?<br>中低频交易更适合使用 Python, 因为python效率不高。<br>","like_count":0},{"had_liked":false,"id":159864,"user_name":"隰有荷","can_delete":false,"product_type":"c1","uid":1357944,"ip_address":"","ucode":"2BE9A32AB28963","user_header":"https://static001.geekbang.org/account/avatar/00/14/b8/78/2828195b.jpg","comment_is_top":false,"comment_ctime":1575813447,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575813447","product_id":100026901,"comment_content":"只有我一个人理解的中低频交易是指几个月买卖一次吗？😂","like_count":0},{"had_liked":false,"id":130756,"user_name":"Custer","can_delete":false,"product_type":"c1","uid":1020822,"ip_address":"","ucode":"8AEA5544C94D57","user_header":"https://static001.geekbang.org/account/avatar/00/0f/93/96/575d42c3.jpg","comment_is_top":false,"comment_ctime":1567525916,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1567525916","product_id":100026901,"comment_content":"老师这个量化交易实战有对应的代码仓库吗？","like_count":0},{"had_liked":false,"id":124765,"user_name":"Isaac Zhou","can_delete":false,"product_type":"c1","uid":1497157,"ip_address":"","ucode":"6A6569D10BA129","user_header":"https://static001.geekbang.org/account/avatar/00/16/d8/45/a74136fc.jpg","comment_is_top":false,"comment_ctime":1565966661,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565966661","product_id":100026901,"comment_content":"出于速度考量，Python不太适合高频交易。高频交易是利用在极端时间内的同一个金融产品产生的差价","like_count":0},{"had_liked":false,"id":121869,"user_name":"SHAWN.GU","can_delete":false,"product_type":"c1","uid":1347173,"ip_address":"","ucode":"A381267CC64060","user_header":"https://static001.geekbang.org/account/avatar/00/14/8e/65/01a5b52f.jpg","comment_is_top":false,"comment_ctime":1565237472,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565237472","product_id":100026901,"comment_content":"一步一步来到了实战阶段，很棒","like_count":0},{"had_liked":false,"id":118037,"user_name":"小侠龙旋风","can_delete":false,"product_type":"c1","uid":1126441,"ip_address":"","ucode":"073F3924A99835","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/29/d6816ebf.jpg","comment_is_top":false,"comment_ctime":1564215926,"is_pvip":false,"replies":[{"id":"43829","content":"这也是一个原因","user_name":"作者回复","user_name_real":"高山流水","uid":"1513504","ctime":1564623198,"ip_address":"","comment_id":118037,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564215926","product_id":100026901,"comment_content":"因为有GIL的存在所以python不太适合做高频交易。","like_count":0,"discussions":[{"author":{"id":1513504,"avatar":"https://static001.geekbang.org/account/avatar/00/17/18/20/75ea3b20.jpg","nickname":"高山流水","note":"","ucode":"71E513B5937481","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460233,"discussion_content":"这也是一个原因","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564623198,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":117368,"user_name":"jutsu","can_delete":false,"product_type":"c1","uid":1124574,"ip_address":"","ucode":"95CEDEF5D085CF","user_header":"https://static001.geekbang.org/account/avatar/00/11/28/de/54667f13.jpg","comment_is_top":false,"comment_ctime":1564035223,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1564035223","product_id":100026901,"comment_content":"中低频吧，py的高并发没有这么强大，再有希望跟着老师搞一套简单的量化系统出来","like_count":0},{"had_liked":false,"id":117314,"user_name":"我是传奇","can_delete":false,"product_type":"c1","uid":1357543,"ip_address":"","ucode":"0019CECC4B701B","user_header":"https://static001.geekbang.org/account/avatar/00/14/b6/e7/460a6870.jpg","comment_is_top":false,"comment_ctime":1564022390,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564022390","product_id":100026901,"comment_content":"是quantitative么","like_count":0},{"had_liked":false,"id":117081,"user_name":"enjoylearning","can_delete":false,"product_type":"c1","uid":1000237,"ip_address":"","ucode":"DCAF8538DEA277","user_header":"https://static001.geekbang.org/account/avatar/00/0f/43/2d/af86d73f.jpg","comment_is_top":false,"comment_ctime":1563964094,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563964094","product_id":100026901,"comment_content":"觉得是中低频吧，利用python的数据分析能力","like_count":0},{"had_liked":false,"id":116967,"user_name":"Jon徐","can_delete":false,"product_type":"c1","uid":1206774,"ip_address":"","ucode":"D203B6848C1D9C","user_header":"https://static001.geekbang.org/account/avatar/00/12/69/f6/40c497a3.jpg","comment_is_top":false,"comment_ctime":1563948427,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563948427","product_id":100026901,"comment_content":"numpy和pandas是用c写的，只要用法没错处理大量数据并不慢。<br>不过还是不太适合高频吧，高频一般都要毫秒级了，直接写硬件计算<br>python适合中低频，用日间数据来做计算<br>","like_count":0},{"had_liked":false,"id":116954,"user_name":"夜路破晓","can_delete":false,"product_type":"c1","uid":1353577,"ip_address":"","ucode":"9B875F94B759B9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/3hZfficKPGCq2kjFBu9SgaMjibJTEl7iaW1ta6pZNyiaWP8XEsNpunlnsiaOtBpWTXfT5BvRP3qNByml6p9rtBvqewg/132","comment_is_top":false,"comment_ctime":1563945413,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563945413","product_id":100026901,"comment_content":"python适合全频交易。<br>若在高频与中低频之间有个价值倾向，从老师的课程设置可以推断python适合算法交易，即高频交易。但从“价值派”出身，个人倾向于python适合做中低频交易，因为借助python的数据分析结果所做的投资策略获利概率要高些。","like_count":0},{"had_liked":false,"id":116939,"user_name":"somenzz","can_delete":false,"product_type":"c1","uid":1187197,"ip_address":"","ucode":"EA59A170DF8910","user_header":"https://static001.geekbang.org/account/avatar/00/12/1d/7d/368df396.jpg","comment_is_top":false,"comment_ctime":1563942288,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563942288","product_id":100026901,"comment_content":"一个成功的高频交易策略，大部分由其短时间内处理大量数据的能力来驱动，而 Python 非常适合处理大量数据的分析，对于 I&#47;O 密集型任务， Python 的性能完全不用担心，并发有多线程和协程来处理。","like_count":0},{"had_liked":false,"id":116893,"user_name":"Claywoow","can_delete":false,"product_type":"c1","uid":1524797,"ip_address":"","ucode":"1F1C70BCE33536","user_header":"https://static001.geekbang.org/account/avatar/00/17/44/3d/35d6670d.jpg","comment_is_top":false,"comment_ctime":1563935164,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563935164","product_id":100026901,"comment_content":"看到前面同学对于思考题的解答，有个疑问，如果是只是速度效率的考量，完全python完全可以接入cpython的接口来处理高频交易呀。为什么还要区别于高频，中低频之分呢？","like_count":0},{"had_liked":false,"id":116891,"user_name":"李","can_delete":false,"product_type":"c1","uid":1025478,"ip_address":"","ucode":"044D5C47939824","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a5/c6/5ead3889.jpg","comment_is_top":false,"comment_ctime":1563934764,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563934764","product_id":100026901,"comment_content":"列表L切片和L1=L有什么区别？","like_count":0},{"had_liked":false,"id":116830,"user_name":"ZJY😇","can_delete":false,"product_type":"c1","uid":1524683,"ip_address":"","ucode":"766DB464A0403C","user_header":"https://static001.geekbang.org/account/avatar/00/17/43/cb/665048ce.jpg","comment_is_top":false,"comment_ctime":1563930327,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563930327","product_id":100026901,"comment_content":"高频交易要求对性能和延迟要求高，python适合中低频","like_count":0},{"had_liked":false,"id":116828,"user_name":"周平","can_delete":false,"product_type":"c1","uid":1047936,"ip_address":"","ucode":"CA1869B139A4F6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fd/80/52763d62.jpg","comment_is_top":false,"comment_ctime":1563930161,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1563930161","product_id":100026901,"comment_content":"思考题：相对而言低频更适合吧，毕竟Python的运行效率不是其优势","like_count":0,"discussions":[{"author":{"id":1187197,"avatar":"https://static001.geekbang.org/account/avatar/00/12/1d/7d/368df396.jpg","nickname":"somenzz","note":"","ucode":"EA59A170DF8910","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2797,"discussion_content":"请问在这种I/O 密集型任务情况下，其他语言能比 Python 快多少？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563940680,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116812,"user_name":"无法言喻.","can_delete":false,"product_type":"c1","uid":1322328,"ip_address":"","ucode":"7F375BE388D4FC","user_header":"https://static001.geekbang.org/account/avatar/00/14/2d/58/aa35c402.jpg","comment_is_top":false,"comment_ctime":1563929277,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563929277","product_id":100026901,"comment_content":"高频数据量大的话，速度跟不上。中低频稳一些。","like_count":0},{"had_liked":false,"id":116769,"user_name":"ikimiy","can_delete":false,"product_type":"c1","uid":1067295,"ip_address":"","ucode":"CC67E87B99EE3C","user_header":"https://static001.geekbang.org/account/avatar/00/10/49/1f/37e18877.jpg","comment_is_top":false,"comment_ctime":1563924902,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563924902","product_id":100026901,"comment_content":"老师是否可以推荐国内 比如股票 期货等交易品种 提供自动化交易接口的交易所或平台 好像国内这块已经被封了","like_count":0},{"had_liked":false,"id":116762,"user_name":"KaitoShy","can_delete":false,"product_type":"c1","uid":1038415,"ip_address":"","ucode":"E2E2E9BD3F5048","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d8/4f/65abc6f0.jpg","comment_is_top":false,"comment_ctime":1563919913,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563919913","product_id":100026901,"comment_content":"思考题：高频比较适合，统计样本越多，最后的数据越准确？","like_count":0}]}
{"id":40906,"title":"17 | ç»å…¸PaaSçš„è®°å¿†ï¼šä½œä¸šå‰¯æœ¬ä¸æ°´å¹³æ‰©å±•","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å¼ ç£Šã€‚ä»Šå¤©æˆ‘å’Œä½ åˆ†äº«çš„ä¸»é¢˜æ˜¯ï¼šç»å…¸PaaSçš„è®°å¿†ä¹‹ä½œä¸šå‰¯æœ¬ä¸æ°´å¹³æ‰©å±•ã€‚</p><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä¸ºä½ è¯¦ç»†ä»‹ç»äº†Kubernetesé¡¹ç›®ä¸­ç¬¬ä¸€ä¸ªé‡è¦çš„è®¾è®¡æ€æƒ³ï¼šæ§åˆ¶å™¨æ¨¡å¼ã€‚</p><p>è€Œåœ¨ä»Šå¤©è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°±æ¥ä¸ºä½ è¯¦ç»†è®²è§£ä¸€ä¸‹ï¼ŒKubernetesé‡Œç¬¬ä¸€ä¸ªæ§åˆ¶å™¨æ¨¡å¼çš„å®Œæ•´å®ç°ï¼šDeploymentã€‚</p><p>Deploymentçœ‹ä¼¼ç®€å•ï¼Œä½†å®é™…ä¸Šï¼Œå®ƒå®ç°äº†Kubernetesé¡¹ç›®ä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„åŠŸèƒ½ï¼š<span class=\"orange\">Podçš„â€œæ°´å¹³æ‰©å±•/æ”¶ç¼©â€ï¼ˆhorizontal scaling out/inï¼‰</span>ã€‚è¿™ä¸ªåŠŸèƒ½ï¼Œæ˜¯ä»PaaSæ—¶ä»£å¼€å§‹ï¼Œä¸€ä¸ªå¹³å°çº§é¡¹ç›®å°±å¿…é¡»å…·å¤‡çš„ç¼–æ’èƒ½åŠ›ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä½ æ›´æ–°äº†Deploymentçš„Podæ¨¡æ¿ï¼ˆæ¯”å¦‚ï¼Œä¿®æ”¹äº†å®¹å™¨çš„é•œåƒï¼‰ï¼Œé‚£ä¹ˆDeploymentå°±éœ€è¦éµå¾ªä¸€ç§å«ä½œâ€œæ»šåŠ¨æ›´æ–°â€ï¼ˆrolling updateï¼‰çš„æ–¹å¼ï¼Œæ¥å‡çº§ç°æœ‰çš„å®¹å™¨ã€‚</p><p>è€Œè¿™ä¸ªèƒ½åŠ›çš„å®ç°ï¼Œä¾èµ–çš„æ˜¯Kubernetesé¡¹ç›®ä¸­çš„ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼ˆAPIå¯¹è±¡ï¼‰ï¼šReplicaSetã€‚</p><p>ReplicaSetçš„ç»“æ„éå¸¸ç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªYAMLæ–‡ä»¶æŸ¥çœ‹ä¸€ä¸‹ï¼š</p><pre><code>apiVersion: apps/v1\nkind: ReplicaSet\nmetadata:\n  name: nginx-set\n  labels:\n    app: nginx\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.7.9\n</code></pre><p>ä»è¿™ä¸ªYAMLæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<strong>ä¸€ä¸ªReplicaSetå¯¹è±¡ï¼Œå…¶å®å°±æ˜¯ç”±å‰¯æœ¬æ•°ç›®çš„å®šä¹‰å’Œä¸€ä¸ªPodæ¨¡æ¿ç»„æˆçš„</strong>ã€‚ä¸éš¾å‘ç°ï¼Œå®ƒçš„å®šä¹‰å…¶å®æ˜¯Deploymentçš„ä¸€ä¸ªå­é›†ã€‚</p><!-- [[[read_end]]] --><p><strong>æ›´é‡è¦çš„æ˜¯ï¼ŒDeploymentæ§åˆ¶å™¨å®é™…æ“çºµçš„ï¼Œæ­£æ˜¯è¿™æ ·çš„ReplicaSetå¯¹è±¡ï¼Œè€Œä¸æ˜¯Podå¯¹è±¡ã€‚</strong></p><p>è¿˜è®°ä¸è®°å¾—æˆ‘åœ¨ä¸Šä¸€ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/40583\">ã€Šç¼–æ’å…¶å®å¾ˆç®€å•ï¼šè°ˆè°ˆâ€œæ§åˆ¶å™¨â€æ¨¡å‹ã€‹</a>ä¸­æ›¾ç»æå‡ºè¿‡è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šå¯¹äºä¸€ä¸ªDeploymentæ‰€ç®¡ç†çš„Podï¼Œå®ƒçš„ownerReferenceæ˜¯è°ï¼Ÿ</p><p>æ‰€ä»¥ï¼Œè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆå°±æ˜¯ï¼šReplicaSetã€‚</p><p>æ˜ç™½äº†è¿™ä¸ªåŸç†ï¼Œæˆ‘å†æ¥å’Œä½ ä¸€èµ·åˆ†æä¸€ä¸ªå¦‚ä¸‹æ‰€ç¤ºçš„Deploymentï¼š</p><pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\n  labels:\n    app: nginx\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.7.9\n        ports:\n        - containerPort: 80\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªæˆ‘ä»¬å¸¸ç”¨çš„nginx-deploymentï¼Œå®ƒå®šä¹‰çš„Podå‰¯æœ¬ä¸ªæ•°æ˜¯3ï¼ˆspec.replicas=3ï¼‰ã€‚</p><p>é‚£ä¹ˆï¼Œåœ¨å…·ä½“çš„å®ç°ä¸Šï¼Œè¿™ä¸ªDeploymentï¼Œä¸ReplicaSetï¼Œä»¥åŠPodçš„å…³ç³»æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥ç”¨ä¸€å¼ å›¾æŠŠå®ƒæè¿°å‡ºæ¥ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/71/58/711c07208358208e91fa7803ebc73058.jpg?wh=2248*1346\" alt=\"\"></p><p>é€šè¿‡è¿™å¼ å›¾ï¼Œæˆ‘ä»¬å°±å¾ˆæ¸…æ¥šåœ°çœ‹åˆ°ï¼Œä¸€ä¸ªå®šä¹‰äº†replicas=3çš„Deploymentï¼Œä¸å®ƒçš„ReplicaSetï¼Œä»¥åŠPodçš„å…³ç³»ï¼Œå®é™…ä¸Šæ˜¯ä¸€ç§â€œå±‚å±‚æ§åˆ¶â€çš„å…³ç³»ã€‚</p><p>å…¶ä¸­ï¼ŒReplicaSetè´Ÿè´£é€šè¿‡â€œæ§åˆ¶å™¨æ¨¡å¼â€ï¼Œä¿è¯ç³»ç»Ÿä¸­Podçš„ä¸ªæ•°æ°¸è¿œç­‰äºæŒ‡å®šçš„ä¸ªæ•°ï¼ˆæ¯”å¦‚ï¼Œ3ä¸ªï¼‰ã€‚è¿™ä¹Ÿæ­£æ˜¯Deploymentåªå…è®¸å®¹å™¨çš„restartPolicy=Alwaysçš„ä¸»è¦åŸå› ï¼šåªæœ‰åœ¨å®¹å™¨èƒ½ä¿è¯è‡ªå·±å§‹ç»ˆæ˜¯RunningçŠ¶æ€çš„å‰æä¸‹ï¼ŒReplicaSetè°ƒæ•´Podçš„ä¸ªæ•°æ‰æœ‰æ„ä¹‰ã€‚</p><p>è€Œåœ¨æ­¤åŸºç¡€ä¸Šï¼ŒDeploymentåŒæ ·é€šè¿‡â€œæ§åˆ¶å™¨æ¨¡å¼â€ï¼Œæ¥æ“ä½œReplicaSetçš„ä¸ªæ•°å’Œå±æ€§ï¼Œè¿›è€Œå®ç°â€œæ°´å¹³æ‰©å±•/æ”¶ç¼©â€å’Œâ€œæ»šåŠ¨æ›´æ–°â€è¿™ä¸¤ä¸ªç¼–æ’åŠ¨ä½œã€‚</p><p>å…¶ä¸­ï¼Œâ€œæ°´å¹³æ‰©å±•/æ”¶ç¼©â€éå¸¸å®¹æ˜“å®ç°ï¼ŒDeployment Controlleråªéœ€è¦ä¿®æ”¹å®ƒæ‰€æ§åˆ¶çš„ReplicaSetçš„Podå‰¯æœ¬ä¸ªæ•°å°±å¯ä»¥äº†ã€‚</p><p>æ¯”å¦‚ï¼ŒæŠŠè¿™ä¸ªå€¼ä»3æ”¹æˆ4ï¼Œé‚£ä¹ˆDeploymentæ‰€å¯¹åº”çš„ReplicaSetï¼Œå°±ä¼šæ ¹æ®ä¿®æ”¹åçš„å€¼è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–°çš„Podã€‚è¿™å°±æ˜¯â€œæ°´å¹³æ‰©å±•â€äº†ï¼›â€œæ°´å¹³æ”¶ç¼©â€åˆ™åä¹‹ã€‚</p><p>è€Œç”¨æˆ·æƒ³è¦æ‰§è¡Œè¿™ä¸ªæ“ä½œçš„æŒ‡ä»¤ä¹Ÿéå¸¸ç®€å•ï¼Œå°±æ˜¯kubectl scaleï¼Œæ¯”å¦‚ï¼š</p><pre><code>$ kubectl scale deployment nginx-deployment --replicas=4\ndeployment.apps/nginx-deployment scaled\n</code></pre><p>é‚£ä¹ˆï¼Œ<span class=\"orange\">â€œæ»šåŠ¨æ›´æ–°â€åˆæ˜¯ä»€ä¹ˆæ„æ€ï¼Œæ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ</span></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘è¿˜ä»¥è¿™ä¸ªDeploymentä¸ºä¾‹ï¼Œæ¥ä¸ºä½ è®²è§£â€œæ»šåŠ¨æ›´æ–°â€çš„è¿‡ç¨‹ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥åˆ›å»ºè¿™ä¸ªnginx-deploymentï¼š</p><pre><code>$ kubectl create -f nginx-deployment.yaml --record\n</code></pre><p>æ³¨æ„ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘é¢å¤–åŠ äº†ä¸€ä¸ªâ€“recordå‚æ•°ã€‚å®ƒçš„ä½œç”¨ï¼Œæ˜¯è®°å½•ä¸‹ä½ æ¯æ¬¡æ“ä½œæ‰€æ‰§è¡Œçš„å‘½ä»¤ï¼Œä»¥æ–¹ä¾¿åé¢æŸ¥çœ‹ã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬æ¥æ£€æŸ¥ä¸€ä¸‹nginx-deploymentåˆ›å»ºåçš„çŠ¶æ€ä¿¡æ¯ï¼š</p><pre><code>$ kubectl get deployments\nNAME               DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE\nnginx-deployment   3         0         0            0           1s\n</code></pre><p>åœ¨è¿”å›ç»“æœä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å››ä¸ªçŠ¶æ€å­—æ®µï¼Œå®ƒä»¬çš„å«ä¹‰å¦‚ä¸‹æ‰€ç¤ºã€‚</p><ol>\n<li>\n<p>DESIREDï¼šç”¨æˆ·æœŸæœ›çš„Podå‰¯æœ¬ä¸ªæ•°ï¼ˆspec.replicasçš„å€¼ï¼‰ï¼›</p>\n</li>\n<li>\n<p>CURRENTï¼šå½“å‰å¤„äºRunningçŠ¶æ€çš„Podçš„ä¸ªæ•°ï¼›</p>\n</li>\n<li>\n<p>UP-TO-DATEï¼šå½“å‰å¤„äºæœ€æ–°ç‰ˆæœ¬çš„Podçš„ä¸ªæ•°ï¼Œæ‰€è°“æœ€æ–°ç‰ˆæœ¬æŒ‡çš„æ˜¯Podçš„Specéƒ¨åˆ†ä¸Deploymenté‡ŒPodæ¨¡æ¿é‡Œå®šä¹‰çš„å®Œå…¨ä¸€è‡´ï¼›</p>\n</li>\n<li>\n<p>AVAILABLEï¼šå½“å‰å·²ç»å¯ç”¨çš„Podçš„ä¸ªæ•°ï¼Œå³ï¼šæ—¢æ˜¯RunningçŠ¶æ€ï¼Œåˆæ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶ä¸”å·²ç»å¤„äºReadyï¼ˆå¥åº·æ£€æŸ¥æ­£ç¡®ï¼‰çŠ¶æ€çš„Podçš„ä¸ªæ•°ã€‚</p>\n</li>\n</ol><p>å¯ä»¥çœ‹åˆ°ï¼Œåªæœ‰è¿™ä¸ªAVAILABLEå­—æ®µï¼Œæè¿°çš„æ‰æ˜¯ç”¨æˆ·æ‰€æœŸæœ›çš„æœ€ç»ˆçŠ¶æ€ã€‚</p><p>è€ŒKubernetesé¡¹ç›®è¿˜ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€æ¡æŒ‡ä»¤ï¼Œè®©æˆ‘ä»¬å¯ä»¥å®æ—¶æŸ¥çœ‹Deploymentå¯¹è±¡çš„çŠ¶æ€å˜åŒ–ã€‚è¿™ä¸ªæŒ‡ä»¤å°±æ˜¯kubectl rollout statusï¼š</p><pre><code>$ kubectl rollout status deployment/nginx-deployment\nWaiting for rollout to finish: 2 out of 3 new replicas have been updated...\ndeployment.apps/nginx-deployment successfully rolled out\n</code></pre><p>åœ¨è¿™ä¸ªè¿”å›ç»“æœä¸­ï¼Œâ€œ2 out of 3 new replicas have been updatedâ€æ„å‘³ç€å·²ç»æœ‰2ä¸ªPodè¿›å…¥äº†UP-TO-DATEçŠ¶æ€ã€‚</p><p>ç»§ç»­ç­‰å¾…ä¸€ä¼šå„¿ï¼Œæˆ‘ä»¬å°±èƒ½çœ‹åˆ°è¿™ä¸ªDeploymentçš„3ä¸ªPodï¼Œå°±è¿›å…¥åˆ°äº†AVAILABLEçŠ¶æ€ï¼š</p><pre><code>NAME               DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE\nnginx-deployment   3         3         3            3           20s\n</code></pre><p>æ­¤æ—¶ï¼Œä½ å¯ä»¥å°è¯•æŸ¥çœ‹ä¸€ä¸‹è¿™ä¸ªDeploymentæ‰€æ§åˆ¶çš„ReplicaSetï¼š</p><pre><code>$ kubectl get rs\nNAME                          DESIRED   CURRENT   READY   AGE\nnginx-deployment-3167673210   3         3         3       20s\n</code></pre><p>å¦‚ä¸Šæ‰€ç¤ºï¼Œåœ¨ç”¨æˆ·æäº¤äº†ä¸€ä¸ªDeploymentå¯¹è±¡åï¼ŒDeployment Controllerå°±ä¼šç«‹å³åˆ›å»ºä¸€ä¸ªPodå‰¯æœ¬ä¸ªæ•°ä¸º3çš„ReplicaSetã€‚è¿™ä¸ªReplicaSetçš„åå­—ï¼Œåˆ™æ˜¯ç”±Deploymentçš„åå­—å’Œä¸€ä¸ªéšæœºå­—ç¬¦ä¸²å…±åŒç»„æˆã€‚</p><p>è¿™ä¸ªéšæœºå­—ç¬¦ä¸²å«ä½œpod-template-hashï¼Œåœ¨æˆ‘ä»¬è¿™ä¸ªä¾‹å­é‡Œå°±æ˜¯ï¼š3167673210ã€‚ReplicaSetä¼šæŠŠè¿™ä¸ªéšæœºå­—ç¬¦ä¸²åŠ åœ¨å®ƒæ‰€æ§åˆ¶çš„æ‰€æœ‰Podçš„æ ‡ç­¾é‡Œï¼Œä»è€Œä¿è¯è¿™äº›Podä¸ä¼šä¸é›†ç¾¤é‡Œçš„å…¶ä»–Podæ··æ·†ã€‚</p><p>è€ŒReplicaSetçš„DESIREDã€CURRENTå’ŒREADYå­—æ®µçš„å«ä¹‰ï¼Œå’ŒDeploymentä¸­æ˜¯ä¸€è‡´çš„ã€‚æ‰€ä»¥ï¼Œ<strong>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒDeploymentåªæ˜¯åœ¨ReplicaSetçš„åŸºç¡€ä¸Šï¼Œæ·»åŠ äº†UP-TO-DATEè¿™ä¸ªè·Ÿç‰ˆæœ¬æœ‰å…³çš„çŠ¶æ€å­—æ®µã€‚</strong></p><p>è¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬ä¿®æ”¹äº†Deploymentçš„Podæ¨¡æ¿ï¼Œâ€œæ»šåŠ¨æ›´æ–°â€å°±ä¼šè¢«è‡ªåŠ¨è§¦å‘ã€‚</p><p>ä¿®æ”¹Deploymentæœ‰å¾ˆå¤šæ–¹æ³•ã€‚æ¯”å¦‚ï¼Œæˆ‘å¯ä»¥ç›´æ¥ä½¿ç”¨kubectl editæŒ‡ä»¤ç¼–è¾‘Etcdé‡Œçš„APIå¯¹è±¡ã€‚</p><pre><code>$ kubectl edit deployment/nginx-deployment\n... \n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.9.1 # 1.7.9 -&gt; 1.9.1\n        ports:\n        - containerPort: 80\n...\ndeployment.extensions/nginx-deployment edited\n</code></pre><p>è¿™ä¸ªkubectl editæŒ‡ä»¤ï¼Œä¼šå¸®ä½ ç›´æ¥æ‰“å¼€nginx-deploymentçš„APIå¯¹è±¡ã€‚ç„¶åï¼Œä½ å°±å¯ä»¥ä¿®æ”¹è¿™é‡Œçš„Podæ¨¡æ¿éƒ¨åˆ†äº†ã€‚æ¯”å¦‚ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘å°†nginxé•œåƒçš„ç‰ˆæœ¬å‡çº§åˆ°äº†1.9.1ã€‚</p><blockquote>\n<p>å¤‡æ³¨ï¼škubectl editå¹¶ä¸ç¥ç§˜ï¼Œå®ƒä¸è¿‡æ˜¯æŠŠAPIå¯¹è±¡çš„å†…å®¹ä¸‹è½½åˆ°äº†æœ¬åœ°æ–‡ä»¶ï¼Œè®©ä½ ä¿®æ”¹å®Œæˆåå†æäº¤ä¸Šå»ã€‚</p>\n</blockquote><p>kubectl editæŒ‡ä»¤ç¼–è¾‘å®Œæˆåï¼Œä¿å­˜é€€å‡ºï¼ŒKuberneteså°±ä¼šç«‹åˆ»è§¦å‘â€œæ»šåŠ¨æ›´æ–°â€çš„è¿‡ç¨‹ã€‚ä½ è¿˜å¯ä»¥é€šè¿‡kubectl rollout statusæŒ‡ä»¤æŸ¥çœ‹nginx-deploymentçš„çŠ¶æ€å˜åŒ–ï¼š</p><pre><code>$ kubectl rollout status deployment/nginx-deployment\nWaiting for rollout to finish: 2 out of 3 new replicas have been updated...\ndeployment.extensions/nginx-deployment successfully rolled out\n</code></pre><p>è¿™æ—¶ï¼Œä½ å¯ä»¥é€šè¿‡æŸ¥çœ‹Deploymentçš„Eventsï¼Œçœ‹åˆ°è¿™ä¸ªâ€œæ»šåŠ¨æ›´æ–°â€çš„æµç¨‹ï¼š</p><pre><code>$ kubectl describe deployment nginx-deployment\n...\nEvents:\n  Type    Reason             Age   From                   Message\n  ----    ------             ----  ----                   -------\n...\n  Normal  ScalingReplicaSet  24s   deployment-controller  Scaled up replica set nginx-deployment-1764197365 to 1\n  Normal  ScalingReplicaSet  22s   deployment-controller  Scaled down replica set nginx-deployment-3167673210 to 2\n  Normal  ScalingReplicaSet  22s   deployment-controller  Scaled up replica set nginx-deployment-1764197365 to 2\n  Normal  ScalingReplicaSet  19s   deployment-controller  Scaled down replica set nginx-deployment-3167673210 to 1\n  Normal  ScalingReplicaSet  19s   deployment-controller  Scaled up replica set nginx-deployment-1764197365 to 3\n  Normal  ScalingReplicaSet  14s   deployment-controller  Scaled down replica set nginx-deployment-3167673210 to 0\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œé¦–å…ˆï¼Œå½“ä½ ä¿®æ”¹äº†Deploymenté‡Œçš„Podå®šä¹‰ä¹‹åï¼ŒDeployment Controllerä¼šä½¿ç”¨è¿™ä¸ªä¿®æ”¹åçš„Podæ¨¡æ¿ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ReplicaSetï¼ˆhash=1764197365ï¼‰ï¼Œè¿™ä¸ªæ–°çš„ReplicaSetçš„åˆå§‹Podå‰¯æœ¬æ•°æ˜¯ï¼š0ã€‚</p><p>ç„¶åï¼Œåœ¨Age=24 sçš„ä½ç½®ï¼ŒDeployment Controllerå¼€å§‹å°†è¿™ä¸ªæ–°çš„ReplicaSetæ‰€æ§åˆ¶çš„Podå‰¯æœ¬æ•°ä»0ä¸ªå˜æˆ1ä¸ªï¼Œå³ï¼šâ€œæ°´å¹³æ‰©å±•â€å‡ºä¸€ä¸ªå‰¯æœ¬ã€‚</p><p>ç´§æ¥ç€ï¼Œåœ¨Age=22 sçš„ä½ç½®ï¼ŒDeployment Controlleråˆå°†æ—§çš„ReplicaSetï¼ˆhash=3167673210ï¼‰æ‰€æ§åˆ¶çš„æ—§Podå‰¯æœ¬æ•°å‡å°‘ä¸€ä¸ªï¼Œå³ï¼šâ€œæ°´å¹³æ”¶ç¼©â€æˆä¸¤ä¸ªå‰¯æœ¬ã€‚</p><p>å¦‚æ­¤äº¤æ›¿è¿›è¡Œï¼Œæ–°ReplicaSetç®¡ç†çš„Podå‰¯æœ¬æ•°ï¼Œä»0ä¸ªå˜æˆ1ä¸ªï¼Œå†å˜æˆ2ä¸ªï¼Œæœ€åå˜æˆ3ä¸ªã€‚è€Œæ—§çš„ReplicaSetç®¡ç†çš„Podå‰¯æœ¬æ•°åˆ™ä»3ä¸ªå˜æˆ2ä¸ªï¼Œå†å˜æˆ1ä¸ªï¼Œæœ€åå˜æˆ0ä¸ªã€‚è¿™æ ·ï¼Œå°±å®Œæˆäº†è¿™ä¸€ç»„Podçš„ç‰ˆæœ¬å‡çº§è¿‡ç¨‹ã€‚</p><p>åƒè¿™æ ·ï¼Œ<strong>å°†ä¸€ä¸ªé›†ç¾¤ä¸­æ­£åœ¨è¿è¡Œçš„å¤šä¸ªPodç‰ˆæœ¬ï¼Œäº¤æ›¿åœ°é€ä¸€å‡çº§çš„è¿‡ç¨‹ï¼Œå°±æ˜¯â€œæ»šåŠ¨æ›´æ–°â€ã€‚</strong></p><p>åœ¨è¿™ä¸ªâ€œæ»šåŠ¨æ›´æ–°â€è¿‡ç¨‹å®Œæˆä¹‹åï¼Œä½ å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹æ–°ã€æ—§ä¸¤ä¸ªReplicaSetçš„æœ€ç»ˆçŠ¶æ€ï¼š</p><pre><code>$ kubectl get rs\nNAME                          DESIRED   CURRENT   READY   AGE\nnginx-deployment-1764197365   3         3         3       6s\nnginx-deployment-3167673210   0         0         0       30s\n</code></pre><p>å…¶ä¸­ï¼Œæ—§ReplicaSetï¼ˆhash=3167673210ï¼‰å·²ç»è¢«â€œæ°´å¹³æ”¶ç¼©â€æˆäº†0ä¸ªå‰¯æœ¬ã€‚</p><p><strong>è¿™ç§â€œæ»šåŠ¨æ›´æ–°â€çš„å¥½å¤„æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚</strong></p><p>æ¯”å¦‚ï¼Œåœ¨å‡çº§åˆšå¼€å§‹çš„æ—¶å€™ï¼Œé›†ç¾¤é‡Œåªæœ‰1ä¸ªæ–°ç‰ˆæœ¬çš„Podã€‚å¦‚æœè¿™æ—¶ï¼Œæ–°ç‰ˆæœ¬Podæœ‰é—®é¢˜å¯åŠ¨ä¸èµ·æ¥ï¼Œé‚£ä¹ˆâ€œæ»šåŠ¨æ›´æ–°â€å°±ä¼šåœæ­¢ï¼Œä»è€Œå…è®¸å¼€å‘å’Œè¿ç»´äººå‘˜ä»‹å…¥ã€‚è€Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œç”±äºåº”ç”¨æœ¬èº«è¿˜æœ‰ä¸¤ä¸ªæ—§ç‰ˆæœ¬çš„Podåœ¨çº¿ï¼Œæ‰€ä»¥æœåŠ¡å¹¶ä¸ä¼šå—åˆ°å¤ªå¤§çš„å½±å“ã€‚</p><p>å½“ç„¶ï¼Œè¿™ä¹Ÿå°±è¦æ±‚ä½ ä¸€å®šè¦ä½¿ç”¨Podçš„Health Checkæœºåˆ¶æ£€æŸ¥åº”ç”¨çš„è¿è¡ŒçŠ¶æ€ï¼Œè€Œä¸æ˜¯ç®€å•åœ°ä¾èµ–äºå®¹å™¨çš„RunningçŠ¶æ€ã€‚è¦ä¸ç„¶çš„è¯ï¼Œè™½ç„¶å®¹å™¨å·²ç»å˜æˆRunningäº†ï¼Œä½†æœåŠ¡å¾ˆæœ‰å¯èƒ½å°šæœªå¯åŠ¨ï¼Œâ€œæ»šåŠ¨æ›´æ–°â€çš„æ•ˆæœä¹Ÿå°±è¾¾ä¸åˆ°äº†ã€‚</p><p>è€Œä¸ºäº†è¿›ä¸€æ­¥ä¿è¯æœåŠ¡çš„è¿ç»­æ€§ï¼ŒDeployment Controllerè¿˜ä¼šç¡®ä¿ï¼Œåœ¨ä»»ä½•æ—¶é—´çª—å£å†…ï¼Œåªæœ‰æŒ‡å®šæ¯”ä¾‹çš„Podå¤„äºç¦»çº¿çŠ¶æ€ã€‚åŒæ—¶ï¼Œå®ƒä¹Ÿä¼šç¡®ä¿ï¼Œåœ¨ä»»ä½•æ—¶é—´çª—å£å†…ï¼Œåªæœ‰æŒ‡å®šæ¯”ä¾‹çš„æ–°Podè¢«åˆ›å»ºå‡ºæ¥ã€‚è¿™ä¸¤ä¸ªæ¯”ä¾‹çš„å€¼éƒ½æ˜¯å¯ä»¥é…ç½®çš„ï¼Œé»˜è®¤éƒ½æ˜¯DESIREDå€¼çš„25%ã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨ä¸Šé¢è¿™ä¸ªDeploymentçš„ä¾‹å­ä¸­ï¼Œå®ƒæœ‰3ä¸ªPodå‰¯æœ¬ï¼Œé‚£ä¹ˆæ§åˆ¶å™¨åœ¨â€œæ»šåŠ¨æ›´æ–°â€çš„è¿‡ç¨‹ä¸­æ°¸è¿œéƒ½ä¼šç¡®ä¿è‡³å°‘æœ‰2ä¸ªPodå¤„äºå¯ç”¨çŠ¶æ€ï¼Œè‡³å¤šåªæœ‰4ä¸ªPodåŒæ—¶å­˜åœ¨äºé›†ç¾¤ä¸­ã€‚è¿™ä¸ªç­–ç•¥ï¼Œæ˜¯Deploymentå¯¹è±¡çš„ä¸€ä¸ªå­—æ®µï¼Œåå«RollingUpdateStrategyï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\n  labels:\n    app: nginx\nspec:\n...\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxSurge: 1\n      maxUnavailable: 1\n</code></pre><p>åœ¨ä¸Šé¢è¿™ä¸ªRollingUpdateStrategyçš„é…ç½®ä¸­ï¼ŒmaxSurgeæŒ‡å®šçš„æ˜¯é™¤äº†DESIREDæ•°é‡ä¹‹å¤–ï¼Œåœ¨ä¸€æ¬¡â€œæ»šåŠ¨â€ä¸­ï¼ŒDeploymentæ§åˆ¶å™¨è¿˜å¯ä»¥åˆ›å»ºå¤šå°‘ä¸ªæ–°Podï¼›è€ŒmaxUnavailableæŒ‡çš„æ˜¯ï¼Œåœ¨ä¸€æ¬¡â€œæ»šåŠ¨â€ä¸­ï¼ŒDeploymentæ§åˆ¶å™¨å¯ä»¥åˆ é™¤å¤šå°‘ä¸ªæ—§Podã€‚</p><p>åŒæ—¶ï¼Œè¿™ä¸¤ä¸ªé…ç½®è¿˜å¯ä»¥ç”¨å‰é¢æˆ‘ä»¬ä»‹ç»çš„ç™¾åˆ†æ¯”å½¢å¼æ¥è¡¨ç¤ºï¼Œæ¯”å¦‚ï¼šmaxUnavailable=50%ï¼ŒæŒ‡çš„æ˜¯æˆ‘ä»¬æœ€å¤šå¯ä»¥ä¸€æ¬¡åˆ é™¤â€œ50%*DESIREDæ•°é‡â€ä¸ªPodã€‚</p><p>ç»“åˆä»¥ä¸Šè®²è¿°ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥æ‰©å±•ä¸€ä¸‹Deploymentã€ReplicaSetå’ŒPodçš„å…³ç³»å›¾äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/bb/5d/bbc4560a053dee904e45ad66aac7145d.jpg?wh=2248*1346\" alt=\"\"></p><p>å¦‚ä¸Šæ‰€ç¤ºï¼ŒDeploymentçš„æ§åˆ¶å™¨ï¼Œå®é™…ä¸Šæ§åˆ¶çš„æ˜¯ReplicaSetçš„æ•°ç›®ï¼Œä»¥åŠæ¯ä¸ªReplicaSetçš„å±æ€§ã€‚</p><p>è€Œä¸€ä¸ªåº”ç”¨çš„ç‰ˆæœ¬ï¼Œå¯¹åº”çš„æ­£æ˜¯ä¸€ä¸ªReplicaSetï¼›è¿™ä¸ªç‰ˆæœ¬åº”ç”¨çš„Podæ•°é‡ï¼Œåˆ™ç”±ReplicaSeté€šè¿‡å®ƒè‡ªå·±çš„æ§åˆ¶å™¨ï¼ˆReplicaSet Controllerï¼‰æ¥ä¿è¯ã€‚</p><p>é€šè¿‡è¿™æ ·çš„å¤šä¸ªReplicaSetå¯¹è±¡ï¼ŒKubernetesé¡¹ç›®å°±å®ç°äº†å¯¹å¤šä¸ªâ€œåº”ç”¨ç‰ˆæœ¬â€çš„æè¿°ã€‚</p><p>è€Œæ˜ç™½äº†â€œåº”ç”¨ç‰ˆæœ¬å’ŒReplicaSetä¸€ä¸€å¯¹åº”â€çš„è®¾è®¡æ€æƒ³ä¹‹åï¼Œæˆ‘å°±å¯ä»¥ä¸ºä½ è®²è§£ä¸€ä¸‹<span class=\"orange\">Deploymentå¯¹åº”ç”¨è¿›è¡Œç‰ˆæœ¬æ§åˆ¶çš„å…·ä½“åŸç†</span>äº†ã€‚</p><p>è¿™ä¸€æ¬¡ï¼Œæˆ‘ä¼šä½¿ç”¨ä¸€ä¸ªå«<strong>kubectl set image</strong>çš„æŒ‡ä»¤ï¼Œç›´æ¥ä¿®æ”¹nginx-deploymentæ‰€ä½¿ç”¨çš„é•œåƒã€‚è¿™ä¸ªå‘½ä»¤çš„å¥½å¤„å°±æ˜¯ï¼Œä½ å¯ä»¥ä¸ç”¨åƒkubectl edité‚£æ ·éœ€è¦æ‰“å¼€ç¼–è¾‘å™¨ã€‚</p><p>ä¸è¿‡è¿™ä¸€æ¬¡ï¼Œæˆ‘æŠŠè¿™ä¸ªé•œåƒåå­—ä¿®æ”¹æˆä¸ºäº†ä¸€ä¸ªé”™è¯¯çš„åå­—ï¼Œæ¯”å¦‚ï¼šnginx:1.91ã€‚è¿™æ ·ï¼Œè¿™ä¸ªDeploymentå°±ä¼šå‡ºç°ä¸€ä¸ªå‡çº§å¤±è´¥çš„ç‰ˆæœ¬ã€‚</p><p>æˆ‘ä»¬ä¸€èµ·æ¥å®è·µä¸€ä¸‹ï¼š</p><pre><code>$ kubectl set image deployment/nginx-deployment nginx=nginx:1.91\ndeployment.extensions/nginx-deployment image updated\n</code></pre><p>ç”±äºè¿™ä¸ªnginx:1.91é•œåƒåœ¨Docker Hubä¸­å¹¶ä¸å­˜åœ¨ï¼Œæ‰€ä»¥è¿™ä¸ªDeploymentçš„â€œæ»šåŠ¨æ›´æ–°â€è¢«è§¦å‘åï¼Œä¼šç«‹åˆ»æŠ¥é”™å¹¶åœæ­¢ã€‚</p><p>è¿™æ—¶ï¼Œæˆ‘ä»¬æ¥æ£€æŸ¥ä¸€ä¸‹ReplicaSetçš„çŠ¶æ€ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>$ kubectl get rs\nNAME                          DESIRED   CURRENT   READY   AGE\nnginx-deployment-1764197365   2         2         2       24s\nnginx-deployment-3167673210   0         0         0       35s\nnginx-deployment-2156724341   2         2         0       7s\n</code></pre><p>é€šè¿‡è¿™ä¸ªè¿”å›ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ–°ç‰ˆæœ¬çš„ReplicaSetï¼ˆhash=2156724341ï¼‰çš„â€œæ°´å¹³æ‰©å±•â€å·²ç»åœæ­¢ã€‚è€Œä¸”æ­¤æ—¶ï¼Œå®ƒå·²ç»åˆ›å»ºäº†ä¸¤ä¸ªPodï¼Œä½†æ˜¯å®ƒä»¬éƒ½æ²¡æœ‰è¿›å…¥READYçŠ¶æ€ã€‚è¿™å½“ç„¶æ˜¯å› ä¸ºè¿™ä¸¤ä¸ªPodéƒ½æ‹‰å–ä¸åˆ°æœ‰æ•ˆçš„é•œåƒã€‚</p><p>ä¸æ­¤åŒæ—¶ï¼Œæ—§ç‰ˆæœ¬çš„ReplicaSetï¼ˆhash=1764197365ï¼‰çš„â€œæ°´å¹³æ”¶ç¼©â€ï¼Œä¹Ÿè‡ªåŠ¨åœæ­¢äº†ã€‚æ­¤æ—¶ï¼Œå·²ç»æœ‰ä¸€ä¸ªæ—§Podè¢«åˆ é™¤ï¼Œè¿˜å‰©ä¸‹ä¸¤ä¸ªæ—§Podã€‚</p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œ æˆ‘ä»¬å¦‚ä½•è®©è¿™ä¸ªDeploymentçš„3ä¸ªPodï¼Œéƒ½å›æ»šåˆ°ä»¥å‰çš„æ—§ç‰ˆæœ¬å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬åªéœ€è¦æ‰§è¡Œä¸€æ¡kubectl rollout undoå‘½ä»¤ï¼Œå°±èƒ½æŠŠæ•´ä¸ªDeploymentå›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼š</p><pre><code>$ kubectl rollout undo deployment/nginx-deployment\ndeployment.extensions/nginx-deployment\n</code></pre><p>å¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œåœ¨å…·ä½“æ“ä½œä¸Šï¼ŒDeploymentçš„æ§åˆ¶å™¨ï¼Œå…¶å®å°±æ˜¯è®©è¿™ä¸ªæ—§ReplicaSetï¼ˆhash=1764197365ï¼‰å†æ¬¡â€œæ‰©å±•â€æˆ3ä¸ªPodï¼Œè€Œè®©æ–°çš„ReplicaSetï¼ˆhash=2156724341ï¼‰é‡æ–°â€œæ”¶ç¼©â€åˆ°0ä¸ªPodã€‚</p><p>æ›´è¿›ä¸€æ­¥åœ°ï¼Œå¦‚æœæˆ‘æƒ³å›æ»šåˆ°æ›´æ—©ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè¦æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p><strong>é¦–å…ˆï¼Œæˆ‘éœ€è¦ä½¿ç”¨kubectl rollout historyå‘½ä»¤ï¼ŒæŸ¥çœ‹æ¯æ¬¡Deploymentå˜æ›´å¯¹åº”çš„ç‰ˆæœ¬</strong>ã€‚è€Œç”±äºæˆ‘ä»¬åœ¨åˆ›å»ºè¿™ä¸ªDeploymentçš„æ—¶å€™ï¼ŒæŒ‡å®šäº†â€“recordå‚æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ›å»ºè¿™äº›ç‰ˆæœ¬æ—¶æ‰§è¡Œçš„kubectlå‘½ä»¤ï¼Œéƒ½ä¼šè¢«è®°å½•ä¸‹æ¥ã€‚è¿™ä¸ªæ“ä½œçš„è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>$ kubectl rollout history deployment/nginx-deployment\ndeployments &quot;nginx-deployment&quot;\nREVISION    CHANGE-CAUSE\n1           kubectl create -f nginx-deployment.yaml --record\n2           kubectl edit deployment/nginx-deployment\n3           kubectl set image deployment/nginx-deployment nginx=nginx:1.91\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å‰é¢æ‰§è¡Œçš„åˆ›å»ºå’Œæ›´æ–°æ“ä½œï¼Œåˆ†åˆ«å¯¹åº”äº†ç‰ˆæœ¬1å’Œç‰ˆæœ¬2ï¼Œè€Œé‚£æ¬¡å¤±è´¥çš„æ›´æ–°æ“ä½œï¼Œåˆ™å¯¹åº”çš„æ˜¯ç‰ˆæœ¬3ã€‚</p><p>å½“ç„¶ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡è¿™ä¸ªkubectl rollout historyæŒ‡ä»¤ï¼Œçœ‹åˆ°æ¯ä¸ªç‰ˆæœ¬å¯¹åº”çš„Deploymentçš„APIå¯¹è±¡çš„ç»†èŠ‚ï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>$ kubectl rollout history deployment/nginx-deployment --revision=2\n</code></pre><p><strong>ç„¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨kubectl rollout undoå‘½ä»¤è¡Œæœ€åï¼ŒåŠ ä¸Šè¦å›æ»šåˆ°çš„æŒ‡å®šç‰ˆæœ¬çš„ç‰ˆæœ¬å·ï¼Œå°±å¯ä»¥å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬äº†</strong>ã€‚è¿™ä¸ªæŒ‡ä»¤çš„ç”¨æ³•å¦‚ä¸‹ï¼š</p><pre><code>$ kubectl rollout undo deployment/nginx-deployment --to-revision=2\ndeployment.extensions/nginx-deployment\n</code></pre><p>è¿™æ ·ï¼ŒDeployment Controllerè¿˜ä¼šæŒ‰ç…§â€œæ»šåŠ¨æ›´æ–°â€çš„æ–¹å¼ï¼Œå®Œæˆå¯¹Deploymentçš„é™çº§æ“ä½œã€‚</p><p>ä¸è¿‡ï¼Œä½ å¯èƒ½å·²ç»æƒ³åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼šæˆ‘ä»¬å¯¹Deploymentè¿›è¡Œçš„æ¯ä¸€æ¬¡æ›´æ–°æ“ä½œï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ReplicaSetå¯¹è±¡ï¼Œæ˜¯ä¸æ˜¯æœ‰äº›å¤šä½™ï¼Œç”šè‡³æµªè´¹èµ„æºå‘¢ï¼Ÿ</p><p>æ²¡é”™ã€‚</p><p>æ‰€ä»¥ï¼ŒKubernetesé¡¹ç›®è¿˜æä¾›äº†ä¸€ä¸ªæŒ‡ä»¤ï¼Œä½¿å¾—æˆ‘ä»¬å¯¹Deploymentçš„å¤šæ¬¡æ›´æ–°æ“ä½œï¼Œæœ€å åªç”Ÿæˆä¸€ä¸ªReplicaSetã€‚</p><p>å…·ä½“çš„åšæ³•æ˜¯ï¼Œåœ¨æ›´æ–°Deploymentå‰ï¼Œä½ è¦å…ˆæ‰§è¡Œä¸€æ¡kubectl rollout pauseæŒ‡ä»¤ã€‚å®ƒçš„ç”¨æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>$ kubectl rollout pause deployment/nginx-deployment\ndeployment.extensions/nginx-deployment paused\n</code></pre><p>è¿™ä¸ªkubectl rollout pauseçš„ä½œç”¨ï¼Œæ˜¯è®©è¿™ä¸ªDeploymentè¿›å…¥äº†ä¸€ä¸ªâ€œæš‚åœâ€çŠ¶æ€ã€‚</p><p>æ‰€ä»¥æ¥ä¸‹æ¥ï¼Œä½ å°±å¯ä»¥éšæ„ä½¿ç”¨kubectl editæˆ–è€…kubectl set imageæŒ‡ä»¤ï¼Œä¿®æ”¹è¿™ä¸ªDeploymentçš„å†…å®¹äº†ã€‚</p><p>ç”±äºæ­¤æ—¶Deploymentæ­£å¤„äºâ€œæš‚åœâ€çŠ¶æ€ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯¹Deploymentçš„æ‰€æœ‰ä¿®æ”¹ï¼Œéƒ½ä¸ä¼šè§¦å‘æ–°çš„â€œæ»šåŠ¨æ›´æ–°â€ï¼Œä¹Ÿä¸ä¼šåˆ›å»ºæ–°çš„ReplicaSetã€‚</p><p>è€Œç­‰åˆ°æˆ‘ä»¬å¯¹Deploymentä¿®æ”¹æ“ä½œéƒ½å®Œæˆä¹‹åï¼Œåªéœ€è¦å†æ‰§è¡Œä¸€æ¡kubectl rollout resumeæŒ‡ä»¤ï¼Œå°±å¯ä»¥æŠŠè¿™ä¸ªDeploymentâ€œæ¢å¤â€å›æ¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>$ kubectl rollout resume deployment/nginx-deployment\ndeployment.extensions/nginx-deployment resumed\n</code></pre><p>è€Œåœ¨è¿™ä¸ªkubectl rollout resumeæŒ‡ä»¤æ‰§è¡Œä¹‹å‰ï¼Œåœ¨kubectl rollout pauseæŒ‡ä»¤ä¹‹åçš„è¿™æ®µæ—¶é—´é‡Œï¼Œæˆ‘ä»¬å¯¹Deploymentè¿›è¡Œçš„æ‰€æœ‰ä¿®æ”¹ï¼Œæœ€ååªä¼šè§¦å‘ä¸€æ¬¡â€œæ»šåŠ¨æ›´æ–°â€ã€‚</p><p>å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ£€æŸ¥ReplicaSetçŠ¶æ€çš„å˜åŒ–ï¼Œæ¥éªŒè¯ä¸€ä¸‹kubectl rollout pauseå’Œkubectl rollout resumeæŒ‡ä»¤çš„æ‰§è¡Œæ•ˆæœï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>$ kubectl get rs\nNAME               DESIRED   CURRENT   READY     AGE\nnginx-1764197365   0         0         0         2m\nnginx-3196763511   3         3         3         28s\n</code></pre><p>é€šè¿‡è¿”å›ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåªæœ‰ä¸€ä¸ªhash=3196763511çš„ReplicaSetè¢«åˆ›å»ºäº†å‡ºæ¥ã€‚</p><p>ä¸è¿‡ï¼Œå³ä½¿ä½ åƒä¸Šé¢è¿™æ ·å°å¿ƒç¿¼ç¿¼åœ°æ§åˆ¶äº†ReplicaSetçš„ç”Ÿæˆæ•°é‡ï¼Œéšç€åº”ç”¨ç‰ˆæœ¬çš„ä¸æ–­å¢åŠ ï¼ŒKubernetesä¸­è¿˜æ˜¯ä¼šä¸ºåŒä¸€ä¸ªDeploymentä¿å­˜å¾ˆå¤šå¾ˆå¤šä¸åŒçš„ReplicaSetã€‚</p><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬åˆè¯¥å¦‚ä½•æ§åˆ¶è¿™äº›â€œå†å²â€ReplicaSetçš„æ•°é‡å‘¢ï¼Ÿ</p><p>å¾ˆç®€å•ï¼ŒDeploymentå¯¹è±¡æœ‰ä¸€ä¸ªå­—æ®µï¼Œå«ä½œspec.revisionHistoryLimitï¼Œå°±æ˜¯Kubernetesä¸ºDeploymentä¿ç•™çš„â€œå†å²ç‰ˆæœ¬â€ä¸ªæ•°ã€‚æ‰€ä»¥ï¼Œå¦‚æœæŠŠå®ƒè®¾ç½®ä¸º0ï¼Œä½ å°±å†ä¹Ÿä¸èƒ½åšå›æ»šæ“ä½œäº†ã€‚</p><h2>æ€»ç»“</h2><p>åœ¨ä»Šå¤©è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä¸ºä½ è¯¦ç»†è®²è§£äº†Deploymentè¿™ä¸ªKubernetesé¡¹ç›®ä¸­æœ€åŸºæœ¬çš„ç¼–æ’æ§åˆ¶å™¨çš„å®ç°åŸç†å’Œä½¿ç”¨æ–¹æ³•ã€‚</p><p>é€šè¿‡è¿™äº›è®²è§£ï¼Œä½ åº”è¯¥äº†è§£åˆ°ï¼šDeploymentå®é™…ä¸Šæ˜¯ä¸€ä¸ª<strong>ä¸¤å±‚æ§åˆ¶å™¨</strong>ã€‚é¦–å…ˆï¼Œå®ƒé€šè¿‡<strong>ReplicaSetçš„ä¸ªæ•°</strong>æ¥æè¿°åº”ç”¨çš„ç‰ˆæœ¬ï¼›ç„¶åï¼Œå®ƒå†é€šè¿‡<strong>ReplicaSetçš„å±æ€§</strong>ï¼ˆæ¯”å¦‚replicasçš„å€¼ï¼‰ï¼Œæ¥ä¿è¯Podçš„å‰¯æœ¬æ•°é‡ã€‚</p><blockquote>\n<p>å¤‡æ³¨ï¼šDeploymentæ§åˆ¶ReplicaSetï¼ˆç‰ˆæœ¬ï¼‰ï¼ŒReplicaSetæ§åˆ¶Podï¼ˆå‰¯æœ¬æ•°ï¼‰ã€‚è¿™ä¸ªä¸¤å±‚æ§åˆ¶å…³ç³»ä¸€å®šè¦ç‰¢è®°ã€‚</p>\n</blockquote><p>ä¸è¿‡ï¼Œç›¸ä¿¡ä½ ä¹Ÿèƒ½å¤Ÿæ„Ÿå—åˆ°ï¼ŒKubernetesé¡¹ç›®å¯¹Deploymentçš„è®¾è®¡ï¼Œå®é™…ä¸Šæ˜¯ä»£æ›¿æˆ‘ä»¬å®Œæˆäº†å¯¹â€œåº”ç”¨â€çš„æŠ½è±¡ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªDeploymentå¯¹è±¡æ¥æè¿°åº”ç”¨ï¼Œä½¿ç”¨kubectl rolloutå‘½ä»¤æ§åˆ¶åº”ç”¨çš„ç‰ˆæœ¬ã€‚</p><p>å¯æ˜¯ï¼Œåœ¨å®é™…ä½¿ç”¨åœºæ™¯ä¸­ï¼Œåº”ç”¨å‘å¸ƒçš„æµç¨‹å¾€å¾€åƒå·®ä¸‡åˆ«ï¼Œä¹Ÿå¯èƒ½æœ‰å¾ˆå¤šçš„å®šåˆ¶åŒ–éœ€æ±‚ã€‚æ¯”å¦‚ï¼Œæˆ‘çš„åº”ç”¨å¯èƒ½æœ‰ä¼šè¯é»è¿ï¼ˆsession stickyï¼‰ï¼Œè¿™å°±æ„å‘³ç€â€œæ»šåŠ¨æ›´æ–°â€çš„æ—¶å€™ï¼Œå“ªä¸ªPodèƒ½ä¸‹çº¿ï¼Œæ˜¯ä¸èƒ½éšä¾¿é€‰æ‹©çš„ã€‚</p><p>è¿™ç§åœºæ™¯ï¼Œå…‰é Deploymentè‡ªå·±å°±å¾ˆéš¾åº”å¯¹äº†ã€‚å¯¹äºè¿™ç§éœ€æ±‚ï¼Œæˆ‘åœ¨ä¸“æ åç»­æ–‡ç« ä¸­é‡ç‚¹ä»‹ç»çš„â€œè‡ªå®šä¹‰æ§åˆ¶å™¨â€ï¼Œå°±å¯ä»¥å¸®æˆ‘ä»¬å®ç°ä¸€ä¸ªåŠŸèƒ½æ›´åŠ å¼ºå¤§çš„Deployment Controllerã€‚</p><p>å½“ç„¶ï¼ŒKubernetesé¡¹ç›®æœ¬èº«ï¼Œä¹Ÿæä¾›äº†å¦å¤–ä¸€ç§æŠ½è±¡æ–¹å¼ï¼Œå¸®æˆ‘ä»¬åº”å¯¹å…¶ä»–ä¸€äº›ç”¨Deploymentæ— æ³•å¤„ç†çš„åº”ç”¨ç¼–æ’åœºæ™¯ã€‚è¿™ä¸ªè®¾è®¡ï¼Œå°±æ˜¯å¯¹æœ‰çŠ¶æ€åº”ç”¨çš„ç®¡ç†ï¼Œä¹Ÿæ˜¯æˆ‘åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­è¦é‡ç‚¹è®²è§£çš„å†…å®¹ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>ä½ å¬è¯´è¿‡é‡‘ä¸é›€å‘å¸ƒï¼ˆCanary Deploymentï¼‰å’Œè“ç»¿å‘å¸ƒï¼ˆBlue-Green Deploymentï¼‰å—ï¼Ÿä½ èƒ½è¯´å‡ºå®ƒä»¬æ˜¯ä»€ä¹ˆæ„æ€å—ï¼Ÿ</p><p>å®é™…ä¸Šï¼Œæœ‰äº†Deploymentçš„èƒ½åŠ›ä¹‹åï¼Œä½ å¯ä»¥éå¸¸è½»æ¾åœ°ç”¨å®ƒæ¥å®ç°é‡‘ä¸é›€å‘å¸ƒã€è“ç»¿å‘å¸ƒï¼Œä»¥åŠA/Bæµ‹è¯•ç­‰å¾ˆå¤šåº”ç”¨å‘å¸ƒæ¨¡å¼ã€‚è¿™äº›é—®é¢˜çš„ç­”æ¡ˆéƒ½åœ¨<a href=\"https://github.com/ContainerSolutions/k8s-deployment-strategies/tree/master/canary\">è¿™ä¸ªGitHubåº“</a>ï¼Œå»ºè®®ä½ åœ¨è¯¾åå®è·µä¸€ä¸‹ã€‚</p><p>æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæ¬¢è¿ä½ ç»™æˆ‘ç•™è¨€ï¼Œä¹Ÿæ¬¢è¿åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p>","neighbors":{"left":{"article_title":"16 | ç¼–æ’å…¶å®å¾ˆç®€å•ï¼šè°ˆè°ˆâ€œæ§åˆ¶å™¨â€æ¨¡å‹","id":40583},"right":{"article_title":"18 | æ·±å…¥ç†è§£StatefulSetï¼ˆä¸€ï¼‰ï¼šæ‹“æ‰‘çŠ¶æ€","id":41017}},"comments":[{"had_liked":false,"id":29404,"user_name":"å°é¾™","can_delete":false,"product_type":"c1","uid":1085610,"ip_address":"","ucode":"67E982CDA1D009","user_header":"https://static001.geekbang.org/account/avatar/00/10/90/aa/83c31ba3.jpg","comment_is_top":false,"comment_ctime":1538363564,"is_pvip":false,"replies":[{"id":"10577","content":"17é—¨ï¼Œä½ ä¹Ÿå‰å®³ï¼","user_name":"ä½œè€…å›å¤","comment_id":29404,"uid":"1218095","ip_address":"","utype":1,"ctime":1538391456,"user_name_real":"Geek_6ef93d"}],"discussion_count":21,"race_medal":0,"score":"637193523372","product_id":100015201,"comment_content":"è€å¸ˆçœŸçš„æ˜¯å‰å®³ï¼Œæˆ‘åœ¨æå®¢æ—¶é—´ä¹°äº†17é—¨è¯¾äº†ï¼Œè¿™ä¸ªæ˜¯å«é‡‘é‡æœ€é«˜çš„ä¸€é—¨","like_count":149,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":425584,"discussion_content":"17é—¨ï¼Œä½ ä¹Ÿå‰å®³ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1538391456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2099265,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI7hsTibhnpQP4b5vRDibt7X9K5XDshqLWJtksQuaXtibPBLS9vJjaySv1oRjnKMtEMMyN4pJnBicM9LQ/132","nickname":"Geek_762bc5","note":"","ucode":"3547DF1DD5B144","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335868,"discussion_content":"æ–°äººä¸€å—é’±ä¹°çš„ï¼Œè¿™æ˜¯æˆ‘2020å¹´æœ€ç‰›é€¼çš„ä¸€æ¬¡æŠ•èµ„","likes_number":14,"is_delete":false,"is_hidden":false,"ctime":1608360072,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1209160,"avatar":"https://static001.geekbang.org/account/avatar/00/12/73/48/ced94e09.jpg","nickname":"å°è¶…åœ¨åŠªåŠ›","note":"","ucode":"5C04AA8A96532F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5004,"discussion_content":"ä¹°çš„ç¬¬6é—¨ï¼Œè¿™ä¸ªæ˜¯æœ€å¥½çš„ï¼Œä¸ƒç‰›äº‘è®¸ä¸–ä¼Ÿçš„ä¹Ÿå¾ˆå¥½","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1565869657,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2853149,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/89/1d/d1d8edcc.jpg","nickname":"æ¢…æ–Œ","note":"","ucode":"DDE15A3FD12738","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1209160,"avatar":"https://static001.geekbang.org/account/avatar/00/12/73/48/ced94e09.jpg","nickname":"å°è¶…åœ¨åŠªåŠ›","note":"","ucode":"5C04AA8A96532F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545310,"discussion_content":"è®¸å¼ä¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641901153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":5004,"ip_address":""},"score":545310,"extra":""}]},{"author":{"id":1445744,"avatar":"https://static001.geekbang.org/account/avatar/00/16/0f/70/f59db672.jpg","nickname":"æ§‘Â·å…ˆç”Ÿ","note":"","ucode":"897F0475592E3A","race_medal":2,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378735,"discussion_content":"æˆ‘ç›´æ¥ä¹°äº†ä¸ªå…¨å¹´ä¼šå‘˜ï¼Œæ‰€æœ‰ä¸“æ éƒ½å¯ä»¥çœ‹","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1623379334,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1095819,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b8/8b/68555cbf.jpg","nickname":"Geek_122dd9","note":"","ucode":"12BDEF1FC06633","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1445744,"avatar":"https://static001.geekbang.org/account/avatar/00/16/0f/70/f59db672.jpg","nickname":"æ§‘Â·å…ˆç”Ÿ","note":"","ucode":"897F0475592E3A","race_medal":2,"user_type":1,"is_pvip":true},"discussion":{"id":585979,"discussion_content":"ä»Šå¹´ç»­è´¹äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661924437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":378735,"ip_address":"å¹¿ä¸œ"},"score":585979,"extra":""}]},{"author":{"id":1218501,"avatar":"https://static001.geekbang.org/account/avatar/00/12/97/c5/84491beb.jpg","nickname":"ç½—å³°","note":"","ucode":"5F3D6AF8F28322","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373964,"discussion_content":"æˆ‘42é—¨","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1620953840,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1325101,"avatar":"https://static001.geekbang.org/account/avatar/00/14/38/2d/9c971119.jpg","nickname":"è‹¥ä¸¶ç›¸ä¾","note":"","ucode":"6482339C859C40","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366892,"discussion_content":"27é—¨","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1618212960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1105161,"avatar":"https://static001.geekbang.org/account/avatar/00/10/dd/09/feca820a.jpg","nickname":"helloworld","note":"","ucode":"1EECCA0F43E278","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350840,"discussion_content":"éƒ½è®©ä¸€è®©, æˆ‘å·²ç»ä¹°äº†46é—¨äº†...","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1614049166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1064018,"avatar":"https://static001.geekbang.org/account/avatar/00/10/3c/52/5951ffb4.jpg","nickname":"Sinvi","note":"","ucode":"2A90976980CA3C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579595,"discussion_content":"78é—¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657547737,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2930234,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/KqZeIjNOVQJnsIFkDBWl5wfaxWDGLpIMUdFbF7SQhXFavmxgpwQPj9FrGAV4xNrqd733qicT4IZVibELyziaLokDQ/132","nickname":"ç½—è‰º","note":"","ucode":"9D4E1A377BCF23","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575215,"discussion_content":"ä¸ºå•¥æˆ‘ä¹°çš„è¿™é—¨èŠ±äº†å¿«100å…ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654668368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1678432,"avatar":"","nickname":"Geek_e34009","note":"","ucode":"1D6FA1FB1411FB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555607,"discussion_content":"å’±èƒ½ä¸èƒ½ä¸€èµ·èµ„æºå…±äº«ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646990351,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1315147,"avatar":"https://static001.geekbang.org/account/avatar/00/14/11/4b/fa64f061.jpg","nickname":"xfan","note":"","ucode":"48ED8D498D7F56","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393046,"discussion_content":"æˆ‘ä¹°äº†30é—¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631236209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2404887,"avatar":"https://static001.geekbang.org/account/avatar/00/24/b2/17/3161b49c.jpg","nickname":"è¾¾å”ç¬","note":"","ucode":"5CCBAF13548F02","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391151,"discussion_content":"æˆ‘ä»¥ä¸º12é—¨çš„æˆ‘ä¸€å®¶å¤Ÿå¤š æ²¡æƒ³åˆ°ã€‚ã€‚ã€‚ã€‚  å¤§æ„äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630316654,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1226862,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/6e/0aae08d6.jpg","nickname":"VincentQ","note":"","ucode":"BDA2CE2453881C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373568,"discussion_content":"å…„å°å­¦å®Œäº†å‡ é—¨...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620786938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1129632,"avatar":"https://static001.geekbang.org/account/avatar/00/11/3c/a0/8b9d5aca.jpg","nickname":"eagle","note":"","ucode":"D7601A2AFC1D17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":345523,"discussion_content":"æˆ‘æ•°äº†ä¸€ä¸‹ï¼Œç«Ÿç„¶æ˜¯20é—¨ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611732806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2370990,"avatar":"https://static001.geekbang.org/account/avatar/00/24/2d/ae/238c75a4.jpg","nickname":"ğŸ­","note":"","ucode":"6AFCEAAD828DBB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343058,"discussion_content":"è¿™ä¸ªå’Œmysqlï¼Œæˆ‘èŠ±é’±ä¹°çš„å”¯äºŒçš„è¯¾ç¨‹ï¼Œç”¨ä¸¤ä¸ªè´¦å·ä¹°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610935551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2312457,"avatar":"https://static001.geekbang.org/account/avatar/00/23/49/09/bc54d395.jpg","nickname":"suntj","note":"","ucode":"4A0A9F7619E765","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328247,"discussion_content":"çœ‹æ¥éœ€è¦æ‰¾17ä¸ªæ–°çš„æ‰‹æœºå·ç ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606112705,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2169373,"avatar":"https://static001.geekbang.org/account/avatar/00/21/1a/1d/1295e244.jpg","nickname":"TiAmo","note":"","ucode":"99F7EFB4204EF9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2312457,"avatar":"https://static001.geekbang.org/account/avatar/00/23/49/09/bc54d395.jpg","nickname":"suntj","note":"","ucode":"4A0A9F7619E765","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384367,"discussion_content":"å¥½å®¶ä¼™ï¼Œæˆ‘ç›´æ¥å¥½å®¶ä¼™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626527754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":328247,"ip_address":""},"score":384367,"extra":""},{"author":{"id":1488020,"avatar":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","nickname":"è¿½é£ç­çš„äºº","note":"","ucode":"2993D60F94C396","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2312457,"avatar":"https://static001.geekbang.org/account/avatar/00/23/49/09/bc54d395.jpg","nickname":"suntj","note":"","ucode":"4A0A9F7619E765","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530651,"discussion_content":"æ–°æ‰‹æœºå·ä¹°äº†  å†èµ è¯¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637117675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":328247,"ip_address":""},"score":530651,"extra":"{\"user_type\":1}"}]},{"author":{"id":1284091,"avatar":"https://static001.geekbang.org/account/avatar/00/13/97/fb/2737a4e4.jpg","nickname":"xuelangos","note":"","ucode":"E05A015BF8957A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304729,"discussion_content":"19é—¨ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599648667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":29369,"user_name":"èƒ–å®ç‹","can_delete":false,"product_type":"c1","uid":1005367,"ip_address":"","ucode":"E1B58EF4354CB0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/37/8877f206.jpg","comment_is_top":false,"comment_ctime":1538359180,"is_pvip":false,"replies":[{"id":"10567","content":"è¯´çš„æ²¡é”™ï¼Œå¯ä»¥çœ‹çœ‹æ–‡æœ«çš„ä¾‹å­å®è·µä¸€ä¸‹","user_name":"ä½œè€…å›å¤","comment_id":29369,"uid":"1218095","ip_address":"","utype":1,"ctime":1538373719,"user_name_real":"Geek_6ef93d"}],"discussion_count":4,"race_medal":0,"score":"452509925260","product_id":100015201,"comment_content":"é‡‘ä¸é›€éƒ¨ç½²ï¼šä¼˜å…ˆå‘å¸ƒä¸€å°æˆ–å°‘é‡æœºå™¨å‡çº§ï¼Œç­‰éªŒè¯æ— è¯¯åå†æ›´æ–°å…¶ä»–æœºå™¨ã€‚ä¼˜ç‚¹æ˜¯ç”¨æˆ·å½±å“èŒƒå›´å°ï¼Œä¸è¶³ä¹‹å¤„æ˜¯è¦é¢å¤–æ§åˆ¶å¦‚ä½•åšè‡ªåŠ¨æ›´æ–°ã€‚<br>è“ç»¿éƒ¨ç½²ï¼š2ç»„æœºå™¨ï¼Œè“ä»£è¡¨å½“å‰çš„V1ç‰ˆæœ¬ï¼Œç»¿ä»£è¡¨å·²ç»å‡çº§å®Œæˆçš„V2ç‰ˆæœ¬ã€‚é€šè¿‡LBå°†æµé‡å…¨éƒ¨å¯¼å…¥V2å®Œæˆå‡çº§éƒ¨ç½²ã€‚ä¼˜ç‚¹æ˜¯åˆ‡æ¢å¿«é€Ÿï¼Œç¼ºç‚¹æ˜¯å½±å“å…¨éƒ¨ç”¨æˆ·ã€‚<br>æœ¬æ–‡å­¦ä¹ çš„æ»šåŠ¨æ›´æ–°ï¼Œæˆ‘è§‰å¾—å°±æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æ›´æ–°çš„é‡‘ä¸é›€å‘å¸ƒã€‚","like_count":106,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":425566,"discussion_content":"è¯´çš„æ²¡é”™ï¼Œå¯ä»¥çœ‹çœ‹æ–‡æœ«çš„ä¾‹å­å®è·µä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1538373719,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2147220,"avatar":"https://static001.geekbang.org/account/avatar/00/20/c3/94/e89ebc50.jpg","nickname":"ç¥æ¯“é€é¥","note":"","ucode":"83351CB18B190E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388280,"discussion_content":"LB(LoadBalance ) è´Ÿè½½å‡è¡¡","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1628677890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1447739,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eou1BMETumU21ZI4yiaLenOMSibzkAgkw944npIpsJRicmdicxlVQcgibyoQ00rdGk9Htp1j0dM5CP2Fibw/132","nickname":"å¯¥è‹¥æ™¨æ˜Ÿ","note":"","ucode":"2E87E43687DE72","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394278,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631806869,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1837179,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/08/7b/7f086546.jpg","nickname":"Alex","note":"","ucode":"70806CEA9AB15E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348890,"discussion_content":"ä¸é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612769511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52640,"user_name":"é»‘ç±³","can_delete":false,"product_type":"c1","uid":1018706,"ip_address":"","ucode":"E7DBEA7867862A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8b/52/6659dc1b.jpg","comment_is_top":false,"comment_ctime":1545463660,"is_pvip":false,"replies":[{"id":"19227","content":"ä¸æ˜¯ç¬¬ä¸€é«˜ä¸å¼€å¿ƒ","user_name":"ä½œè€…å›å¤","comment_id":52640,"uid":"1218095","ip_address":"","utype":1,"ctime":1545578565,"user_name_real":"Geek_6ef93d"}],"discussion_count":34,"race_medal":0,"score":"164754220908","product_id":100015201,"comment_content":"è€å¸ˆçœŸçš„æ˜¯å‰å®³ï¼Œæˆ‘åœ¨æå®¢æ—¶é—´ä¹°äº†24é—¨è¯¾äº†ï¼Œè¿™ä¸ªæ˜¯å«é‡‘é‡ç¬¬äºŒé«˜çš„ä¸€é—¨","like_count":39,"discussions":[{"author":{"id":1246178,"avatar":"https://static001.geekbang.org/account/avatar/00/13/03/e2/5768d26e.jpg","nickname":"inrtyx","note":"","ucode":"81CD18FF34ABAB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":273137,"discussion_content":"æˆ‘è§‰å¾—ç¬¬ä¸€æ˜¯ä¸å¥‡çš„mysql","likes_number":11,"is_delete":false,"is_hidden":false,"ctime":1590415413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1807117,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM6GcSnUMzR0H9haiaAxssjibGLQMLAsPKonh50g9W2Iz38LcZNGH39HPaANLtovXTp1YvsINIZoH6F0iaSGuxJMXZS/132","nickname":"Geek_10d981","note":"","ucode":"AF4E774D17F7B9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":229408,"discussion_content":"è´Ÿè´£çš„è¯´ï¼Œæˆ‘åœ¨å¤šä¼¦å¤š ï¼Œçœ‹è¿‡è‹±æ–‡ç‰ˆæœ¬çš„åŸè‘—å’ŒYOUTUBEä»‹ç»ï¼Œè¿™ä¸ªè¯¾ç¨‹æ¯”ç»å¤§å¤šæ•°è‹±æ–‡æ•™æéƒ½è¦ä»”ç»†å’Œæ·±å…¥ï¼Œå½“ç„¶ï¼Œè¿™ä¸ªæ˜¯æˆ‘ä¸ªäººè§‚ç‚¹","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1586644655,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1807117,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM6GcSnUMzR0H9haiaAxssjibGLQMLAsPKonh50g9W2Iz38LcZNGH39HPaANLtovXTp1YvsINIZoH6F0iaSGuxJMXZS/132","nickname":"Geek_10d981","note":"","ucode":"AF4E774D17F7B9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302868,"discussion_content":"åœ¨å¤–å›½å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599052796,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":229408,"ip_address":""},"score":302868,"extra":""}]},{"author":{"id":1675771,"avatar":"https://static001.geekbang.org/account/avatar/00/19/91/fb/b7ec1659.jpg","nickname":"Adam HU","note":"","ucode":"342EC2A0CEAA97","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":182695,"discussion_content":"éƒ½æ˜¯æ¥è¿½æ€ç¬¬ä¸€çš„... å“ˆå“ˆå“ˆ","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1582448527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433932,"discussion_content":"ä¸æ˜¯ç¬¬ä¸€é«˜ä¸å¼€å¿ƒ","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1545578565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1276795,"avatar":"https://static001.geekbang.org/account/avatar/00/13/7b/7b/5b39b47b.jpg","nickname":"TIAN","note":"","ucode":"CCCF80602C1753","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296413,"discussion_content":"æˆ‘è§‰å¾—åº”è¯¥æ˜¯ä¸å¥‡çš„mysql,ä¸€æ ·ç‰¹åˆ«è´Ÿè´£äººçš„è€å¸ˆï¼Œæ°å¼€äº†æ‰ç¢äº†çš„è®²è§£","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1596535030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1445744,"avatar":"https://static001.geekbang.org/account/avatar/00/16/0f/70/f59db672.jpg","nickname":"æ§‘Â·å…ˆç”Ÿ","note":"","ucode":"897F0475592E3A","race_medal":2,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":378734,"discussion_content":"æˆ‘ä¹ŸæŠ•ä¸å¥‡çš„MySQL45è®²ä¸€ç¥¨","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1623379264,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2334257,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/4fZ9thib248ZkR1N3Eekeyb8N1V1Ud0uePctlI4VQUibPSmEZvgoP0VYl6IsVHJc7ZMiczQMtU76y6E6ag1zNAK4Q/132","nickname":"Geek_336577","note":"","ucode":"4826355EBA4950","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":347791,"discussion_content":"Mysqlç¬¬ä¸€ï¼Œä¸é»‘ä¸å¹ã€‚ä¸è¿‡è¿™é—¨è¯¾è´¨é‡ä¹ŸæŒºé«˜ï¼ŒåŸç†è®²çš„ç‰¹åˆ«é€å½»ï¼Œç‚¹ä¸ªèµã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1612321368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1581862,"avatar":"https://static001.geekbang.org/account/avatar/00/18/23/26/0e0dbf3a.jpg","nickname":"å‰‘ä¸‹æµ®äº‘","note":"","ucode":"88C243AD628312","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2334257,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/4fZ9thib248ZkR1N3Eekeyb8N1V1Ud0uePctlI4VQUibPSmEZvgoP0VYl6IsVHJc7ZMiczQMtU76y6E6ag1zNAK4Q/132","nickname":"Geek_336577","note":"","ucode":"4826355EBA4950","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":357052,"discussion_content":"ä¹¦åæ˜¯å•¥ï¼Œæ±‚æ™®åŠ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615730185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":347791,"ip_address":""},"score":357052,"extra":""}]},{"author":{"id":1046714,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f8/ba/14e05601.jpg","nickname":"çº¦ä¹¦äºš","note":"","ucode":"81EA27ADD9EC1A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":244765,"discussion_content":"MySQLï¼Œå¯ä¸æ­¤è¯¾å¹¶é©¾é½é©±","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1587628335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1007575,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5f/d7/4e036beb.jpg","nickname":"AE","note":"","ucode":"57E32DCEC92245","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":230521,"discussion_content":"é‚£ç¬¬ä¸€é«˜çš„æ˜¯å•¥...ï¼Œ ä¿¡ä¸ä¿¡æ‰“å±ä½ ï¼ ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1586750203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1226862,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b8/6e/0aae08d6.jpg","nickname":"VincentQ","note":"","ucode":"BDA2CE2453881C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373560,"discussion_content":"NGINXä¸€ç¥¨ hahaha","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1620784978,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1458200,"avatar":"https://static001.geekbang.org/account/avatar/00/16/40/18/cc3804e2.jpg","nickname":"æ²ˆæ´ªå½¬","note":"","ucode":"F9911236D0BA1C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342495,"discussion_content":"mysql ä¸€ç¥¨","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610698716,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1185156,"avatar":"https://static001.geekbang.org/account/avatar/00/12/15/84/fa6937b9.jpg","nickname":"é‚“ä¿Š","note":"","ucode":"FF1D20131DC05F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329641,"discussion_content":"ç¬¬ä¸€é«˜åº”è¯¥æ˜¯ä¸å¥‡çš„Mysqlï¼Œæ‰€å¹¸ï¼Œä¸¤æœ¬æˆ‘éƒ½ä¹°äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1606440773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2052521,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/51/a9/741b5ad9.jpg","nickname":"FD","note":"","ucode":"ED396BD322489E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312522,"discussion_content":"ç¬¬ä¸€é«˜æ˜¯å•¥ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602728230,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1266698,"avatar":"https://static001.geekbang.org/account/avatar/00/13/54/0a/9a002ad5.jpg","nickname":"Adam Lau","note":"","ucode":"7E542D6E789500","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295345,"discussion_content":"æˆ‘ä¹Ÿæ˜¯æ¥é—®ç¬¬ä¸€é«˜çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1596171256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1102557,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d2/dd/9d706f15.jpg","nickname":"èµµç¦","note":"","ucode":"E58701AFE398C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":209885,"discussion_content":"åŒé—®ç¬¬ä¸€å“ˆå“ˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584685453,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1305633,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ec/21/b0fe1bfd.jpg","nickname":"Adam","note":"","ucode":"338BA720880E4F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":96698,"discussion_content":"æˆ‘ä¹Ÿæƒ³çŸ¥é“ç¬¬ä¸€é«˜æ˜¯è°ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1577087327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1313181,"avatar":"https://static001.geekbang.org/account/avatar/00/14/09/9d/8af6cb1e.jpg","nickname":"è‡­çŒ«","note":"","ucode":"5C3D1ED80055B7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":86901,"discussion_content":"æˆ‘ä¹Ÿæƒ³çŸ¥é“ç¬¬ä¸€é«˜æ˜¯å•¥","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576631669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1196302,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/YVZRK2qibiblXm45TNejiaCtdJ4qnzC1cRyUB0vmJ5ibqenLicH1v2L0WeFAxDNjpXURKEZDXjsnjKp6SBkeqQAMurw/132","nickname":"kz","note":"","ucode":"ADDE6623EAB882","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37000,"discussion_content":"ç¬¬ä¸€é«˜æ˜¯ä»€ä¹ˆ\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1571478808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1080395,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epBV3x04t9IOXZLO1PNwkUCYkCOrzHgUfoDvkG2cfrSht5icoPUpXOQTYiaraEnZEpGXyTwO9lWC9JA/132","nickname":"zjycff","note":"","ucode":"1FBEE1AACACCB3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8169,"discussion_content":"è€å¸ˆè¿™ä¸ªåº”è¯¥æ˜¯ç¬¬ä¸€é«˜ï¼Œæ ¹æœ¬æ²¡æœ‰ç¬¬äºŒé«˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1567816561,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1199348,"avatar":"https://static001.geekbang.org/account/avatar/00/12/4c/f4/8eda0b19.jpg","nickname":"åƒé¸¡åƒé¸¡","note":"","ucode":"7C54E2C1A3E8B2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588859,"discussion_content":"æ•°æ®åº“çš„éš¾åº¦æœ¬èº«ä¹Ÿæ¯”å®¹å™¨ç¼–æ’é«˜çš„å¤šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664181782,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1033169,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c3/d1/bdf895bf.jpg","nickname":"penng","note":"","ucode":"6087CFCB0AC434","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583404,"discussion_content":"ç‹äº‰çš„ç®—æ³•è¯¾ä¹Ÿèƒ½ç¬¬ä¸€ï¼Œå¹¶é©¾é½é©±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660101168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"é‡åº†"},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1134895,"avatar":"https://static001.geekbang.org/account/avatar/00/11/51/2f/7b04140c.jpg","nickname":"å­«ã‚„ã•ã‚“","note":"","ucode":"C60877C1C71685","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573877,"discussion_content":"çœ‹æ¥è‹±é›„æ‰€è§ç•¥åŒå•Š å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653706013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1057843,"avatar":"https://static001.geekbang.org/account/avatar/00/10/24/33/bcf37f50.jpg","nickname":"é˜¿ç”˜","note":"","ucode":"BC93175B70E05D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546946,"discussion_content":"MySQLå®æˆ˜45è®² å’Œ è¶£è°ˆç½‘ç»œåè®® éƒ½å¾ˆå€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642475797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1250003,"avatar":"https://static001.geekbang.org/account/avatar/00/13/12/d3/6c201082.jpg","nickname":"æ²™åŠ ","note":"","ucode":"265953125C599E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384278,"discussion_content":"éƒ½æ˜¯æ¥çœ‹ç¬¬ä¸€æ˜¯å•¥ï¼Ÿèƒ½æ¯”è¿™é—¨è¯¾å«é‡‘é‡è¿˜é«˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626478135,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1106845,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e3/9d/aa3ec804.jpg","nickname":"Mr.å˜¿","note":"","ucode":"E551D83B8E4850","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285301,"discussion_content":"ç¬¬ä¸€é«˜çš„æ˜¯ä½œè€…çš„å¦ä¸€éƒ¨ä½œå“ï¼Œæˆ‘ç­”åº”ä½œè€…è¦ä¿å¯†çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592799883,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1747559,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/aa/67/613a7d2d.jpg","nickname":"fei","note":"","ucode":"0737275720BCD6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1106845,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e3/9d/aa3ec804.jpg","nickname":"Mr.å˜¿","note":"","ucode":"E551D83B8E4850","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297579,"discussion_content":"æ˜¯å•¥ï¼Œæˆ‘è¦ä¹°ä¹°ä¹°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596976317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":285301,"ip_address":""},"score":297579,"extra":""},{"author":{"id":1393961,"avatar":"https://static001.geekbang.org/account/avatar/00/15/45/29/2478f7d0.jpg","nickname":"NierDaye","note":"","ucode":"BC2E5739529CCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1106845,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e3/9d/aa3ec804.jpg","nickname":"Mr.å˜¿","note":"","ucode":"E551D83B8E4850","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323968,"discussion_content":"å“ªä¸ªä½œè€…ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605017548,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":285301,"ip_address":""},"score":323968,"extra":""}]},{"author":{"id":1845394,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/28/92/436735f5.jpg","nickname":"æ™æœˆ520","note":"","ucode":"4F05E02A5C1608","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283165,"discussion_content":"ç¬¬ä¸€é«˜åˆ°åº•æ˜¯ä»€ä¹ˆå•Š å¥½å¥‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592200933,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1067943,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4b/a7/abb7bfe3.jpg","nickname":"dhyuan","note":"","ucode":"7086D1871DD9A8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":256575,"discussion_content":"è¿™è¯¾åœ¨ï¼Œå°±æ²¡æœ‰è¯¾èƒ½ç§°ç¬¬ä¸€å§...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588497701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1209089,"avatar":"https://static001.geekbang.org/account/avatar/00/12/73/01/0aeba3d6.jpg","nickname":"ç«ã®é¾æœ","note":"","ucode":"D59EDD5A4D3072","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":255469,"discussion_content":"é‚£ç¬¬ä¸€é«˜çš„æ˜¯å•¥ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588404100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1221633,"avatar":"https://static001.geekbang.org/account/avatar/00/12/a4/01/22729368.jpg","nickname":"Havid","note":"","ucode":"2933B4F49D7520","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7619,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567588493,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1162284,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKerhicfTMvNOuzHYu0iciaA5WGUjNlREuRwric0ib9SGPlR7MV0eibdeW7IsibDcb97zd8ys6pXe3fiaeC7w/132","nickname":"kurisu","note":"","ucode":"494B213C460C60","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1222,"discussion_content":"é‚£ç¬¬ä¸€é«˜çš„æ˜¯å•¥...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562411696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":30508,"user_name":"Pixar","can_delete":false,"product_type":"c1","uid":1197659,"ip_address":"","ucode":"E653387BA8EA16","user_header":"https://static001.geekbang.org/account/avatar/00/12/46/5b/07858c33.jpg","comment_is_top":false,"comment_ctime":1538897706,"is_pvip":false,"replies":[{"id":"11021","content":"éƒ½é€šè¿‡","user_name":"ä½œè€…å›å¤","comment_id":30508,"uid":"1218095","ip_address":"","utype":1,"ctime":1538953507,"user_name_real":"Geek_6ef93d"}],"discussion_count":1,"race_medal":0,"score":"91733210922","product_id":100015201,"comment_content":"å…³äºPodçš„çŠ¶æ€ä¸€ç›´æœ‰ä¸€äº›ç–‘é—®, å­¦å®Œè¿™èŠ‚è¯¾å°±æ›´æ··äº†, å›§.   è¿˜æœ›è€å¸ˆèƒ½è§£ç­”ä¸‹.<br><br>`kubectl get deployments` å¾—åˆ°çš„ available å­—æ®µè¡¨ç¤ºçš„æ˜¯å¤„äºRunningçŠ¶æ€ä¸”å¥åº·æ£€æŸ¥é€šè¿‡çš„Pod, è¿™é‡Œæœ‰ä¸€ä¸ªç–‘é—®: å¥åº·æ£€æŸ¥ä¸æ˜¯é’ˆå¯¹Podé‡Œé¢çš„Containerå—? å¦‚æœæŸä¸€ä¸ªPodé‡Œé¢åŒ…å«å¤šä¸ªContainer, ä½†æ˜¯è¿™äº›Containerå¥åº·æ£€æŸ¥æœ‰äº›å¹¶æ²¡æœ‰é€šè¿‡, é‚£ä¹ˆæ­¤æ—¶è¯¥Podä¼šå‡ºç°åœ¨ availableé‡Œé¢å—? <br><br>Podé€šè¿‡å¥åº·æ£€æŸ¥æ˜¯æŒ‡é‡Œé¢æ‰€æœ‰çš„Containeréƒ½é€šè¿‡å—?","like_count":22,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426028,"discussion_content":"éƒ½é€šè¿‡","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1538953507,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124679,"user_name":"é˜¿æ–‡","can_delete":false,"product_type":"c1","uid":1106209,"ip_address":"","ucode":"BB4DB62141971F","user_header":"https://static001.geekbang.org/account/avatar/00/10/e1/21/5f0bf9a0.jpg","comment_is_top":false,"comment_ctime":1565943154,"is_pvip":false,"replies":[{"id":"46507","content":"å¯¹","user_name":"ä½œè€…å›å¤","comment_id":124679,"uid":"1218095","ip_address":"","utype":1,"ctime":1566350981,"user_name_real":"Geek_6ef93d"}],"discussion_count":1,"race_medal":0,"score":"87465289074","product_id":100015201,"comment_content":"æ³¨æ„ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘é¢å¤–åŠ äº†ä¸€ä¸ªâ€“record å‚æ•°ã€‚å®ƒçš„ä½œç”¨ï¼Œ...<br><br>è¿™ä¸ªåº”è¯¥è¦è§£é‡Šä¸‹--record æ˜¯åªè®°å½•å½“å‰å‘½ä»¤ï¼Œè€å¸ˆï¼Œä½ ä¸‹é¢çš„å‘½ä»¤æ²¡æœ‰åŠ ã€‚history é‡Œé¢åªçœ‹åˆ°<br>   kubectl create --filename=nginx-deployment.yaml --record=true","like_count":21,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463275,"discussion_content":"å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566350981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179840,"user_name":"bus801","can_delete":false,"product_type":"c1","uid":1777680,"ip_address":"","ucode":"7BBF63E76DC395","user_header":"https://static001.geekbang.org/account/avatar/00/1b/20/10/5786e0d8.jpg","comment_is_top":false,"comment_ctime":1582107901,"is_pvip":false,"replies":[{"id":"72848","content":"å› ä¸ºrs controller ä¸å¤„ç†rollouté€»è¾‘","user_name":"ä½œè€…å›å¤","comment_id":179840,"uid":"1218095","ip_address":"","utype":1,"ctime":1584423835,"user_name_real":"Geek_6ef93d"}],"discussion_count":3,"race_medal":0,"score":"83186486525","product_id":100015201,"comment_content":"å¦‚æœæˆ‘ç›´æ¥edit rsï¼Œå°†imageä¿®æ”¹æˆæ–°çš„ç‰ˆæœ¬ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿèƒ½å®ç°podä¸­å®¹å™¨é•œåƒçš„æ›´æ–°ï¼Ÿæˆ‘è¯•äº†ä¸€ä¸‹ï¼Œä»€ä¹ˆååº”ä¹Ÿæ²¡æœ‰ã€‚æ—¢ç„¶rsæ§åˆ¶podï¼Œä¸ºä»€ä¹ˆè¿™æ ·æ”¹ä¸èƒ½ç”Ÿæ•ˆå‘¢ï¼Ÿè¿˜è¯·æŒ‡æ•™ä¸€ä¸‹","like_count":20,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484424,"discussion_content":"å› ä¸ºrs controller ä¸å¤„ç†rollouté€»è¾‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584423835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1522168,"avatar":"https://static001.geekbang.org/account/avatar/00/17/39/f8/b5a1b669.jpg","nickname":"Brilliant","note":"","ucode":"CFF4F5BCAF21EE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586133,"discussion_content":"ç›´æ¥edit rsé‡Œçš„pod imageç‰ˆæœ¬ï¼Œè¿™è¾¹çœ‹åˆ°ä¼šç”Ÿæˆæ–°ç‰ˆæœ¬çš„rs","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662000518,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413696,"discussion_content":"Mark.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636545391,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50868,"user_name":"ç‹ç”±å","can_delete":false,"product_type":"c1","uid":1080681,"ip_address":"","ucode":"355CC4668A4921","user_header":"https://static001.geekbang.org/account/avatar/00/10/7d/69/21b4b5cb.jpg","comment_is_top":false,"comment_ctime":1545057632,"is_pvip":false,"replies":[{"id":"18750","content":"å…ˆterm å†killã€‚éœ€è¦å¤„ç†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":50868,"uid":"1218095","ip_address":"","utype":1,"ctime":1545238106,"user_name_real":"Geek_6ef93d"}],"discussion_count":6,"race_medal":0,"score":"78854468960","product_id":100015201,"comment_content":"æœ‰ä¸ªé—®é¢˜ï¼Œscale downæ—¶ï¼Œk8sæ˜¯å¯¹podé‡Œçš„å®¹å™¨å‘é€kill ä¿¡å·å—ï¼Ÿæ‰€ä»¥åº”ç”¨éœ€è¦å¤„ç†å¥½è¿™ä¸ªä¿¡å·ï¼Ÿ","like_count":18,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433151,"discussion_content":"å…ˆterm å†killã€‚éœ€è¦å¤„ç†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545238106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1486268,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/SKmvhbNe9LMPQ0ib8ZqbJEYQdkHs9B4icOsU9mcbDh0XpeEibC1zXIq0q7ZS12dRzv32hOdzpubUKLFgAeIKQYZgg/132","nickname":"amither","note":"","ucode":"2F13956D35B752","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":22957,"discussion_content":"å¦‚æœæœ‰prestopï¼Œå…ˆæ‰§è¡Œprestopã€‚å†å‘termï¼Œgraceperiodåˆ°äº†åå‘killã€‚æ”¶åˆ°termååº”ç”¨å°±è¦graceful stopäº†ï¼Œå¤„ç†å®Œè€çš„è¯·æ±‚ï¼Œä¸å†æ¥å—æ–°çš„è¯·æ±‚ã€‚","likes_number":13,"is_delete":false,"is_hidden":false,"ctime":1569730875,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1837179,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/08/7b/7f086546.jpg","nickname":"Alex","note":"","ucode":"70806CEA9AB15E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1486268,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/SKmvhbNe9LMPQ0ib8ZqbJEYQdkHs9B4icOsU9mcbDh0XpeEibC1zXIq0q7ZS12dRzv32hOdzpubUKLFgAeIKQYZgg/132","nickname":"amither","note":"","ucode":"2F13956D35B752","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348892,"discussion_content":"nice","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1612769832,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":22957,"ip_address":""},"score":348892,"extra":""}]},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413697,"discussion_content":"Mark.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636545451,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2030670,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLrbCic7BckSd3xrawFH5KW0yYtI1uSsIEPFh0FIHxvHv9u6XBKgZCqH13qPbZDHTdqgevXLdGQlEw/132","nickname":"Geek_2a4536","note":"","ucode":"640A0D228B275C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296355,"discussion_content":"web serveråº”è¯¥éƒ½æœ‰ä¿¡å·å¤„ç†æœºåˆ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596519019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1297017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ca/79/139615aa.jpg","nickname":"Magic Star Trace","note":"","ucode":"15360D39BC32D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":226239,"discussion_content":"ä¸šåŠ¡é¡¹ç›®ä¸Šå¤„ç†è¿˜æ˜¯é›†ç¾¤å¤„ç†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586429378,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":36735,"user_name":"æˆ‘æ˜¯ä¸€æ ¹è‘±","can_delete":false,"product_type":"c1","uid":1028331,"ip_address":"","ucode":"6208D18E65DB2F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b0/eb/112e7d16.jpg","comment_is_top":false,"comment_ctime":1541297531,"is_pvip":false,"replies":[{"id":"13034","content":"ä¸šåŠ¡éœ€è¦ä¼˜é›…å¤„ç†sig term","user_name":"ä½œè€…å›å¤","comment_id":36735,"uid":"1218095","ip_address":"","utype":1,"ctime":1541338596,"user_name_real":"Geek_6ef93d"}],"discussion_count":4,"race_medal":1,"score":"61670839675","product_id":100015201,"comment_content":"è¯·æ•™ä¸ªé—®é¢˜ï¼Œå¦‚æœæ°´å¹³æ”¶ç¼©çš„è¿‡ç¨‹ä¸­ï¼ŒæŸä¸ªpodä¸­çš„å®¹å™¨æœ‰æ­£åœ¨è¿è¡Œçš„ä¸šåŠ¡ï¼Œè€Œä¸šåŠ¡å¦‚æœä¸­æ–­çš„è¯å¯èƒ½ä¼šå¯¼è‡´æ•°æ®åº“æ•°æ®å‡ºé”™ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿå¦‚ä½•ä¿è¯æŠŠpodçš„ä¸šåŠ¡æ‰§è¡Œå®Œå†æ”¶ç¼©ï¼Ÿ","like_count":15,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427989,"discussion_content":"ä¸šåŠ¡éœ€è¦ä¼˜é›…å¤„ç†sig term","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1541338596,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1045877,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f5/75/abb7bfe3.jpg","nickname":"wwb1984","note":"","ucode":"6F398C5541503B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202629,"discussion_content":"ä½†æ˜¯å¯èƒ½30åˆ†é’Ÿæ²¡å¤„ç†å®Œ","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1583937556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2107375,"avatar":"https://static001.geekbang.org/account/avatar/00/20/27/ef/a7f94eda.jpg","nickname":"Jerry You","note":"","ucode":"679A44B505482F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381787,"discussion_content":"å› ä¸ºä¸šåŠ¡ä¸­ä½¿ç”¨äº†streamingçš„grpcæœåŠ¡ï¼Œå¯¼è‡´åœ¨æ»šåŠ¨æ›´æ–°çš„æ—¶å€™ç¨‹åºé‡Œé¢è™½ç„¶åšäº†grpcçš„graceful shutdownï¼Œä½†æ˜¯podæ”¶åˆ°sig termçš„ä¿¡å·æ—¶è¿˜æ˜¯ä¼šç›´æ¥killæ‰ï¼Œæ‰€æœ‰é…åˆå‚æ•°ï¼š terminationGracePeriodSecondsè®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ï¼Œæ¥è®©podç»´æŒå·²ç»è¿æ¥åˆ°æ”¹podä¸‹çš„connectionï¼Œè¿™é‡ŒåŒæ—¶éœ€è¦å°†è€podçš„livenessprobeå¥åº·æ£€æŸ¥å…³æ‰ï¼Œä¸ç„¶è¿™ä¸ªpodè¿˜æ˜¯ä¼šæœ‰æ–°çš„æµé‡è¿›æ¥ï¼Œç”¨æˆ·è¯·æ±‚å¯èƒ½åœ¨terminationGracePeriodSecondsä¹‹åå—åˆ°å½±å“ã€‚ å…³äºterminationGracePeriodSecondsçš„è®¾ç½®ï¼š å®šä¹‰ä¸€ä¸ªåœºæ™¯ä¸‹è¯¥ä¸šåŠ¡æœ€å¤§å¯èƒ½æŒç»­çš„æ—¶é—´å€¼ï¼Œæ˜¯ä¸€ä¸ªé¢„ä¼°å€¼ï¼Œåªæ˜¯ä¸ºäº†å°½å¯èƒ½å‡å°‘å—è¯·æ±‚ä¸­æ–­ç”¨æˆ·çš„èŒƒå›´ã€‚è¯·é—®ï¼šè¿˜æœ‰æ¯”è¾ƒä¼˜é›…çš„åšæ³•ä¹ˆï¼Ÿ ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1625211111,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1297017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ca/79/139615aa.jpg","nickname":"Magic Star Trace","note":"","ucode":"15360D39BC32D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":226238,"discussion_content":"å¹³æ»‘ä¸‹çº¿å˜›ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586429325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":29346,"user_name":"åƒå¯»","can_delete":false,"product_type":"c1","uid":1058635,"ip_address":"","ucode":"44A559E38819C0","user_header":"https://static001.geekbang.org/account/avatar/00/10/27/4b/170654bb.jpg","comment_is_top":false,"comment_ctime":1538356625,"is_pvip":false,"replies":[{"id":"10569","content":"serviceåªä¼šä»£ç†readinessæ£€æŸ¥è¿”å›æ­£ç¡®çš„pod","user_name":"ä½œè€…å›å¤","comment_id":29346,"uid":"1218095","ip_address":"","utype":1,"ctime":1538373807,"user_name_real":"Geek_6ef93d"}],"discussion_count":1,"race_medal":0,"score":"57372931473","product_id":100015201,"comment_content":"åœ¨æ»šåŠ¨æ›´æ–°çš„è¿‡ç¨‹ä¸­ï¼ŒServiceçš„æµé‡è½¬å‘ä¼šæœ‰æ€æ ·çš„å˜åŒ–å‘¢ï¼Ÿ","like_count":13,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":425558,"discussion_content":"serviceåªä¼šä»£ç†readinessæ£€æŸ¥è¿”å›æ­£ç¡®çš„pod","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1538373807,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":29363,"user_name":"èƒ–å®ç‹","can_delete":false,"product_type":"c1","uid":1005367,"ip_address":"","ucode":"E1B58EF4354CB0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/37/8877f206.jpg","comment_is_top":false,"comment_ctime":1538358497,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"53077966049","product_id":100015201,"comment_content":"é‡‘ä¸é›€å‘å¸ƒï¼šå…ˆå‘å¸ƒä¸€å°æœºå™¨æˆ–å°‘é‡æœºå™¨ï¼Œåšæµé‡éªŒè¯ã€‚å¦‚æœæ–°ç‰ˆæ²¡é—®é¢˜åœ¨æŠŠå‰©ä½™æœºå™¨å…¨éƒ¨æ›´æ–°ã€‚ä¼˜ç‚¹æ˜¯å½±å“èŒƒå›´å°ï¼Œä¸è¶³çš„æ˜¯è¦è‡ªå·±æƒ³åŠæ³•å¦‚ä½•æ§åˆ¶è‡ªåŠ¨æ›´æ–°ã€‚<br>è“ç»¿éƒ¨ç½²ï¼šäº‹å…ˆå‡†å¤‡å¥½ä¸€ç»„æœºå™¨(ç»¿ç»„)å…¨éƒ¨æ›´æ–°ï¼Œç„¶åè°ƒæ•´LBå°†æµé‡å…¨éƒ¨å¼•åˆ°ç»¿ç»„ã€‚ä¼˜ç‚¹æ˜¯åˆ‡æ¢å¿«æ·å›æ»šæ–¹ä¾¿ã€‚ä¸è¶³çš„æ˜¯æœ‰é—®é¢˜åˆ™å½±å“å…¨éƒ¨ç”¨æˆ·ã€‚<br>å¯¹äºæœ¬æ–‡å­¦ä¹ çš„ rolling updateï¼Œæˆ‘ç†è§£çš„åƒæ˜¯è‡ªåŠ¨åŒ–æ›´æ–°çš„é‡‘ä¸é›€å‘å¸ƒã€‚","like_count":12},{"had_liked":false,"id":29299,"user_name":"Tigerfive","can_delete":false,"product_type":"c1","uid":1221781,"ip_address":"","ucode":"D29522D4EFABEF","user_header":"https://static001.geekbang.org/account/avatar/00/12/a4/95/474d5eaf.jpg","comment_is_top":false,"comment_ctime":1538332129,"is_pvip":false,"replies":[{"id":"10544","content":"å›½åº†å¯ä»¥å……ç”µå•¦","user_name":"ä½œè€…å›å¤","comment_id":29299,"uid":"1218095","ip_address":"","utype":1,"ctime":1538356796,"user_name_real":"Geek_6ef93d"}],"discussion_count":1,"race_medal":0,"score":"44488005089","product_id":100015201,"comment_content":"åŠå¤œä»ç«è½¦ä¸Šé†’æ¥ï¼Œå°±æ¥çœ‹çœ‹æœ‰æ²¡æœ‰æ›´æ–°ï¼Œæœç„¶æ²¡æœ‰è®©æˆ‘å¤±æœ›ï¼","like_count":10,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":425543,"discussion_content":"å›½åº†å¯ä»¥å……ç”µå•¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1538356796,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":50288,"user_name":"åŸæ¥åªæ˜¯æ¢¦","can_delete":false,"product_type":"c1","uid":1111624,"ip_address":"","ucode":"C12C59BA333C5D","user_header":"https://static001.geekbang.org/account/avatar/00/10/f6/48/b7054856.jpg","comment_is_top":false,"comment_ctime":1544944652,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"40199650316","product_id":100015201,"comment_content":"è€å¸ˆä½ å¥½ï¼ä¹‹å‰æœ‰åŒå­¦æåˆ°è¿™ä¸ªrolloutåƒè‡ªåŠ¨åŒ–çš„é‡‘ä¸é›€å‘å¸ƒï¼Œå¯¹äºè¿™ä¸€ç‚¹æˆ‘ä¸å¤ªç†è§£ã€‚å‘å¸ƒçš„æ—¶å€™ä¼šæ˜¯ä¸€ä¸ªè½®æ¢çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´ç”¨ä¸äº†å¤šå°‘æ—¶é—´ï¼Œå°±ä¼šéƒ½è¿è¡Œåœ¨æ–°çš„rsï¼Œæˆ–è€…éƒ½å›æ»šåˆ°è€çš„rs(å‡ºé”™)ã€‚æˆ‘çš„ç†è§£è¦é‡‘ä¸é›€çš„è¯ï¼Œéœ€è¦ä¿æŒåŒæ—¶å­˜åœ¨ä¸¤ä¸ªrsä¸€å®šæ—¶é—´ï¼Œä»¥ç¡®ä¿æ–°ç‰ˆæœ¬æ²¡é—®é¢˜ã€‚é‚£ä¹ˆè¿™ä¸ªåœ¨k8sé‡Œæ˜¯æ€ä¹ˆå®ç°å‘¢ï¼Ÿ","like_count":9,"discussions":[{"author":{"id":1086319,"avatar":"https://static001.geekbang.org/account/avatar/00/10/93/6f/5ab3da19.jpg","nickname":"æ…•å®¹","note":"","ucode":"BEE694935853E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":267683,"discussion_content":"è€å¸ˆéƒ½é¢å¤–å¼ºè°ƒäº†ï¼Œç¡®ä¿æ–°ç‰ˆæœ¬æ²¡é—®é¢˜ï¼Œéœ€è¦å€ŸåŠ©å¥åº·æ£€æŸ¥æ¥å®ç°ï¼Œå¦åˆ™æ–°ç‰ˆæœ¬æ˜¯runningçŠ¶æ€ï¼Œä½†å®é™…å¹¶ä¸å¹²æ´»ã€‚å®é™…å±‚é¢ï¼Œä¸ªäººè®¤ä¸ºæ›´å¤šçš„è¿˜æ˜¯éœ€è¦å‘å¸ƒå‰çš„è¶³å¤Ÿæµ‹è¯•æ¥ç¡®ä¿æ–°ç‰ˆæœ¬æ˜¯ç¬¦åˆé¢„æœŸçš„","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1589677585,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1201009,"avatar":"https://static001.geekbang.org/account/avatar/00/12/53/71/a4e9f20e.jpg","nickname":"è¨€åˆæœ¨æ‰","note":"","ucode":"300BEDC1B07DF1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392369,"discussion_content":"ç¡®ä¿æ–°ç‰ˆæœ¬æ²¡é—®é¢˜æ˜¯æ ¹æ®å¥åº·æ£€æŸ¥æ¥å®ç°çš„ï¼Œè€Œä¸”åœ¨ deployment æ»šåŠ¨æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œç¡®å®å°±æ˜¯ä¼šä¿å­˜æ—§ç‰ˆæœ¬çš„ replicateSetï¼Œç¬¬ä¸€æ˜¯ä¸ºäº†å›æ»šæ—§ç‰ˆæœ¬ï¼Œç¬¬äºŒæ˜¯å½“å‡çº§å‡ºé”™çš„æ—¶å€™å¯ä»¥å›é€€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630983147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1351066,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/9a/7f064a9f.jpg","nickname":"é¾™è¡Œç§€","note":"","ucode":"2DA088D199EA9D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":53912,"discussion_content":"è¿™ä¸ªæ»šåŠ¨å‡çº§è¿˜æ˜¯éœ€è¦äººä¸ºå¤„ç†çš„å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574233867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":121887,"user_name":"å“ˆå¸Œç¢°æ’","can_delete":false,"product_type":"c1","uid":1244496,"ip_address":"","ucode":"DF82678E60095D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM49ONuR097wB6LqR8nn5kWiaQiaPic1y8UznibDOScQergTj5qeL6zQ4bIicYEkqlMiash3CUCAYmSt9tQA/132","comment_is_top":false,"comment_ctime":1565244329,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"35924982697","product_id":100015201,"comment_content":"ä¸€ä¸ª ReplicaSet å¯¹è±¡,ä¸éš¾å‘ç°æ˜¯ Deployment çš„ä¸€ä¸ªå­é›†ï¼Ÿ<br>è¯·é—®æ€ä¹ˆä¸éš¾å‘ç°ï¼Ÿ æˆ‘è§‰å¾—å¾ˆéš¾å‘ç°ã€‚ã€‚ã€‚ä»ç¤ºä¾‹çš„YAMLæ–‡ä»¶å†…å®¹ä¸Šçœ‹ï¼Œçœ‹ä¸å‡ºä»»ä½•å…³è¿ã€‚","like_count":8,"discussions":[{"author":{"id":1710119,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/18/27/fa608a19.jpg","nickname":"å°æµ·å­","note":"","ucode":"00C79AC90A165A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":44983,"discussion_content":"å¯ä»¥çœ‹replicaSetçš„ownerReference","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1572998436,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1311001,"avatar":"https://static001.geekbang.org/account/avatar/00/14/01/19/f4da2829.jpg","nickname":"ä¸€ç§’","note":"","ucode":"F149B7F60620BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1710119,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/18/27/fa608a19.jpg","nickname":"å°æµ·å­","note":"","ucode":"00C79AC90A165A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352066,"discussion_content":"åœ¨Deploymentçš„yamlæ–‡ä»¶ä¸­çœ‹ä¸å‡ºæ¥å•Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1614588701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":44983,"ip_address":""},"score":352066,"extra":""}]},{"author":{"id":2070152,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/96/88/360b9b7f.jpg","nickname":"Free","note":"","ucode":"ABD6430AEB4183","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549832,"discussion_content":"æ§åˆ¶çš„æ˜¯åŒä¸€ä¸ªå®¹å™¨ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644249478,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53072,"user_name":"é»‘ç±³","can_delete":false,"product_type":"c1","uid":1018706,"ip_address":"","ucode":"E7DBEA7867862A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8b/52/6659dc1b.jpg","comment_is_top":false,"comment_ctime":1545579253,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"35905317621","product_id":100015201,"comment_content":"ä¸ç”¨ä¸é«˜å…´ï¼Œä½ ç¬¬äºŒæ²¡äººæ•¢è®¤ç¬¬ä¸€ğŸ‘","like_count":8},{"had_liked":false,"id":31764,"user_name":"Nokiak8","can_delete":false,"product_type":"c1","uid":1230506,"ip_address":"","ucode":"8063D1A3F06842","user_header":"","comment_is_top":false,"comment_ctime":1539299926,"is_pvip":false,"replies":[{"id":"11462","content":"successfulJobsHistoryLimitå’ŒfailedJobsHistoryLimit","user_name":"ä½œè€…å›å¤","comment_id":31764,"uid":"1218095","ip_address":"","utype":1,"ctime":1539308896,"user_name_real":"Geek_6ef93d"}],"discussion_count":1,"race_medal":0,"score":"35899038294","product_id":100015201,"comment_content":"Cronjob ç±»å‹ä¹Ÿæœ‰spec.revisionHistoryLimitä¹ˆï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426499,"discussion_content":"successfulJobsHistoryLimitå’ŒfailedJobsHistoryLimit","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1539308896,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":29495,"user_name":"å°å°ç¬‘å„¿","can_delete":false,"product_type":"c1","uid":1040354,"ip_address":"","ucode":"CA63CC50DC2091","user_header":"https://static001.geekbang.org/account/avatar/00/0f/df/e2/823a04b4.jpg","comment_is_top":false,"comment_ctime":1538394897,"is_pvip":false,"replies":[{"id":"10639","content":"å›æ»šåˆä¸æ˜¯åˆ›å»ºæ–°ç‰ˆæœ¬ï¼Œç‰ˆæœ¬ä¸rsä¸€ä¸€å¯¹åº”ï¼Œæ€ä¹ˆä¼šå‡ºç°æ–°çš„rså‘¢ï¼Ÿæ»šåŠ¨å‡çº§åå‘æ“ä½œå³å¯ã€‚<br><br>å®ƒåªå…³å¿ƒpodè¢«å…¨åˆ é™¤çš„æƒ…å†µï¼Œå› ä¸ºæœ‰ä¸€ç§æ»šåŠ¨æ›´æ–°ç­–ç•¥æ˜¯è¿™æ—¶å€™é‡æ–°åˆ›å»ºæ–°çš„deployment ","user_name":"ä½œè€…å›å¤","comment_id":29495,"uid":"1218095","ip_address":"","utype":1,"ctime":1538438486,"user_name_real":"Geek_6ef93d"}],"discussion_count":2,"race_medal":0,"score":"35898133265","product_id":100015201,"comment_content":"æœ‰å‡ ä¸ªé—®é¢˜æƒ³è¯·é—®ä¸€ä¸‹:<br>1æ˜¯åœ¨ deployment rollout undo çš„æ—¶å€™ï¼Œæ˜¯ä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„rså¯¹è±¡å—ï¼Ÿå¦‚æœæ˜¯çš„è¯é‚£ä¹ˆè¿™ä¸ªrsçš„template hashä¸å°±é‡å¤äº†ï¼Ÿå¦‚æœä¸æ˜¯å¾—è¯åˆæ˜¯å¦‚ä½•å¤„ç†çš„å‘¢ï¼Ÿ<br>2æ˜¯deployment å…³æ³¨çš„åº”è¯¥æ˜¯è‡ªèº«çš„apiå¯¹è±¡å’Œrsçš„apiå¯¹è±¡ï¼Œä½†æ˜¯æˆ‘çœ‹deployment controller çš„æºç ä¸­ä¹Ÿå…³æ³¨äº†podçš„å˜æ›´ï¼Œè¿™æ˜¯ä¸ºäº†å¤„ç†å“ªç§æƒ…å†µï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":425641,"discussion_content":"å›æ»šåˆä¸æ˜¯åˆ›å»ºæ–°ç‰ˆæœ¬ï¼Œç‰ˆæœ¬ä¸rsä¸€ä¸€å¯¹åº”ï¼Œæ€ä¹ˆä¼šå‡ºç°æ–°çš„rså‘¢ï¼Ÿæ»šåŠ¨å‡çº§åå‘æ“ä½œå³å¯ã€‚\n\nå®ƒåªå…³å¿ƒpodè¢«å…¨åˆ é™¤çš„æƒ…å†µï¼Œå› ä¸ºæœ‰ä¸€ç§æ»šåŠ¨æ›´æ–°ç­–ç•¥æ˜¯è¿™æ—¶å€™é‡æ–°åˆ›å»ºæ–°çš„deployment ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1538438486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1113864,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ff/08/7c18d8a4.jpg","nickname":"å›¢","note":"","ucode":"D56ABBCE4E4D90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413700,"discussion_content":"Mark.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636545624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130909,"user_name":"æ€ç»´å†³å®šæœªæ¥","can_delete":false,"product_type":"c1","uid":1412891,"ip_address":"","ucode":"88CC245B3C6E2D","user_header":"","comment_is_top":false,"comment_ctime":1567571175,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"27337374951","product_id":100015201,"comment_content":"é‡‘ä¸é›€å’Œè“ç»¿å‘å¸ƒå®é™…æ˜¯åœ¨æµé‡å…¥å£(Ingress)æ¥æ§åˆ¶çš„ï¼Œå¹¶ä¸æ˜¯é€šè¿‡å…¶ä»–Controlleræ¥æ§åˆ¶Deploymentï¼Œåœ¨æ›´æ–°æ—¶ï¼Œç›´æ¥éƒ¨ç½²ä¸€ä¸ªæ–°çš„Deploymentï¼Œç„¶åé€šè¿‡è°ƒæ•´æµé‡æ¯”ä¾‹åˆ°ä¸åŒçš„Deploymentä»è€Œå®ç°å¯¹åº”æ›´æ–°ï¼Œè€Œè“ç»¿å’Œé‡‘ä¸é›€çš„åŒºåˆ«å°±æ˜¯æ–°ç‰ˆæœ¬çš„Deploymentæ˜¯å¦ä¸€æ¬¡æ€§å°†å‰¯æœ¬æ•°å¼€åˆ°è·ŸåŸDeploymentä¸€æ ·å¤šã€‚","like_count":7,"discussions":[{"author":{"id":1073666,"avatar":"https://static001.geekbang.org/account/avatar/00/10/62/02/2370d8c0.jpg","nickname":"æµ®ç™½","note":"","ucode":"6FB94B1EB3D4F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301484,"discussion_content":"ISTIOé‡Œæ˜¯åœ¨serviceå±‚æ§åˆ¶çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598536730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1412891,"avatar":"","nickname":"æ€ç»´å†³å®šæœªæ¥","note":"","ucode":"88CC245B3C6E2D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1073666,"avatar":"https://static001.geekbang.org/account/avatar/00/10/62/02/2370d8c0.jpg","nickname":"æµ®ç™½","note":"","ucode":"6FB94B1EB3D4F6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301988,"discussion_content":"æ±‚æŒ‡å¯¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598751138,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301484,"ip_address":""},"score":301988,"extra":""}]},{"author":{"id":1228340,"avatar":"https://static001.geekbang.org/account/avatar/00/12/be/34/de6d9ce7.jpg","nickname":"ææ˜¾è‰¯","note":"","ucode":"0A79CB419E4F89","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282944,"discussion_content":"é‡‘ä¸é›€çš„æµé‡ä¸ä¸€å®šæµé‡ä»ingressæ§åˆ¶ï¼Œä¹Ÿå¯ä»¥æ˜¯service\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592124401,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1412891,"avatar":"","nickname":"æ€ç»´å†³å®šæœªæ¥","note":"","ucode":"88CC245B3C6E2D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1228340,"avatar":"https://static001.geekbang.org/account/avatar/00/12/be/34/de6d9ce7.jpg","nickname":"ææ˜¾è‰¯","note":"","ucode":"0A79CB419E4F89","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301989,"discussion_content":"å¦‚ä½•åšï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598751178,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":282944,"ip_address":""},"score":301989,"extra":""}]}]},{"had_liked":false,"id":320394,"user_name":"ä¸å›å…±å‹‰","can_delete":false,"product_type":"c1","uid":1763046,"ip_address":"","ucode":"1FB5EBFCF510A1","user_header":"","comment_is_top":false,"comment_ctime":1636291644,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14521193532","product_id":100015201,"comment_content":"æˆ‘çœ‹å®Œäº†â€œkubenetesæƒå¨æŒ‡å—â€è¿™æœ¬ä¹¦ï¼Œæ„Ÿè§‰è¿™æœ¬ä¹¦å¾ˆåƒæ˜¯ä½¿ç”¨æŒ‡å¯¼ï¼Œæ·±åº¦ä¸å¤Ÿï¼Œè¿˜æ˜¯å¼ è€å¸ˆçš„è¯¾ç¨‹æœ‰äº›æ·±åº¦ã€‚â€œkubenetesæƒå¨æŒ‡å—â€æ˜¯è¿™æ ·è®²Deploymentå’ŒReplicateSetçš„åŒºåˆ«çš„ï¼šDeploymentç»§æ‰¿äº†ReplicateSetçš„æ‰€æœ‰åŠŸèƒ½ï¼Œè®©æˆ‘ä»¥ä¸ºä»–ä»¬æ˜¯ç»§æ‰¿å…³ç³»ï¼Œè®¤ä¸ºDeploymentæ˜¯å¢å¼ºç‰ˆçš„ReplicateSetã€‚çœ‹äº†è€å¸ˆçš„æ–‡ç« æ‰çŸ¥é“ï¼ŒDeploymentæ§åˆ¶çš„æ˜¯ReplicateSetï¼ŒReplicateSetæ§åˆ¶çš„æ˜¯podsæ•°é‡ï¼ŒDeploymentæ˜¯é€šè¿‡ReplicateSeté—´æ¥æ§åˆ¶äº†podçš„æ•°ç›®ã€‚","like_count":4},{"had_liked":false,"id":29450,"user_name":"é˜¿é¹","can_delete":false,"product_type":"c1","uid":1207915,"ip_address":"","ucode":"88C847A20EEA9A","user_header":"https://static001.geekbang.org/account/avatar/00/12/6e/6b/9c3f3abb.jpg","comment_is_top":false,"comment_ctime":1538377708,"is_pvip":false,"replies":[{"id":"10575","content":"ä¸ºä»€ä¹ˆæ˜¯ æˆ–è€…ï¼Ÿå®¿ä¸»æœºå’Œå®¹å™¨ç½‘ç»œäº’é€šæ˜¯åŸºæœ¬å‡è®¾ã€‚","user_name":"ä½œè€…å›å¤","comment_id":29450,"uid":"1218095","ip_address":"","utype":1,"ctime":1538387819,"user_name_real":"Geek_6ef93d"}],"discussion_count":2,"race_medal":0,"score":"14423279596","product_id":100015201,"comment_content":"è€å¸ˆï¼Œæˆ‘ä»¬å…¬å¸å‡†å¤‡è¯•æ°´k8sï¼Œæˆ‘çœ‹ç½‘ä¸Šå¾ˆå¤šæ–‡ç« éƒ½åœ¨è¯´è·¨ä¸»æœºå®¹å™¨é—´é€šä¿¡çš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚æœæˆ‘ä»¬çš„æœåŠ¡åˆ†æ‰¹å®¹å™¨åŒ–ï¼Œéœ€è¦è§£å†³å®¿ä¸»æœºç½‘ç»œå’Œå®¹å™¨ç½‘ç»œçš„äº’é€šï¼Œæˆ‘ç”¨flannelæˆ–è€…calicoç›®å‰éƒ½åªèƒ½åšåˆ°å®¿ä¸»æœºèƒ½è®¿é—®å®¹å™¨ç½‘ç»œæˆ–è€…å®¹å™¨èƒ½è®¿é—®å®¿ä¸»æœºç½‘ç»œï¼Œä¸èƒ½åšåˆ°åŒå‘é€šè®¯ï¼Œè€å¸ˆèƒ½æŒ‡ç‚¹ä¸€ä¸‹å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":425613,"discussion_content":"ä¸ºä»€ä¹ˆæ˜¯ æˆ–è€…ï¼Ÿå®¿ä¸»æœºå’Œå®¹å™¨ç½‘ç»œäº’é€šæ˜¯åŸºæœ¬å‡è®¾ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1538387819,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1207457,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6c/a1/80d83f0a.jpg","nickname":"Ellison","note":"","ucode":"A2FB94D4F6A332","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327467,"discussion_content":"å¦‚æœè·Ÿå®¿ä¸»æœºå…±äº«ç½‘ç»œï¼Œ å¯ä»¥ç”¨hostNetwork: true","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1605845617,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":244305,"user_name":"ch_ort","can_delete":false,"product_type":"c1","uid":1580926,"ip_address":"","ucode":"B79746E687F29E","user_header":"","comment_is_top":false,"comment_ctime":1598454726,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10188389318","product_id":100015201,"comment_content":"æ§åˆ¶å™¨æ¨¡å¼ï¼š è·å–å¯¹è±¡çš„æœŸæœ›çŠ¶æ€å’Œå½“å‰çŠ¶æ€ï¼Œå¯¹æ¯”è¿™ä¸¤ä¸ªçŠ¶æ€ï¼Œå¦‚æœä¸ä¸€è‡´å°±åšç›¸åº”çš„åŠ¨ä½œæ¥è®©å½“å‰çŠ¶æ€å’ŒæœŸæœ›çŠ¶æ€ä¸€è‡´ã€‚<br><br>Deploymenté€šè¿‡æ§åˆ¶å™¨æ¨¡å¼æ§åˆ¶ReplicaSetæ¥å®ç°â€œæ°´å¹³æ‰©å±•&#47;æ”¶ç¼©â€ã€â€œæ»šåŠ¨æ›´æ–°â€ï¼Œâ€œç‰ˆæœ¬æ§åˆ¶â€ã€‚ReplicaSeté€šè¿‡æ§åˆ¶å™¨æ¨¡å¼æ¥ç»´æŒPodçš„å‰¯æœ¬æ•°é‡ã€‚<br><br>æ»šåŠ¨æ›´æ–°ï¼š ä½ çš„æ¸¸æˆè§’è‰²è£…å¤‡äº†ä¸€å¥—ä¸€çº§é“­æ–‡ï¼Œç°åœ¨æœ‰ä¸€å¥—äºŒçº§é“­æ–‡å¯ä»¥æ›¿æ¢ã€‚ä¸€ä¸ªä¸ªæ›¿æ¢ï¼Œä¸€æ¬¡æ›¿æ¢ä¸€ä¸ªé“­æ–‡ï¼Œè¿™å°±æ˜¯æ»šåŠ¨æ›´æ–°ã€‚<br>","like_count":2},{"had_liked":false,"id":235210,"user_name":"stackWarn","can_delete":false,"product_type":"c1","uid":1002005,"ip_address":"","ucode":"89672E452DEBA5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/15/106eaaa8.jpg","comment_is_top":false,"comment_ctime":1594944929,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10184879521","product_id":100015201,"comment_content":"æ›´æ­£ä¸€ä¸ªé”™è¯¯ revisionè¯»éŸ³    [è‹±] [rÉªËˆvÉªÊ’(É™)n]ï¼Œä¿®è®¢çš„æ„æ€ã€‚è¯»reversion è¯¯è®¤ä¸ºæ˜¯re-ç‰ˆæœ¬çš„æ„æ€","like_count":2},{"had_liked":false,"id":219385,"user_name":"along2018","can_delete":false,"product_type":"c1","uid":1109053,"ip_address":"","ucode":"181A4C5266DCFE","user_header":"https://static001.geekbang.org/account/avatar/00/10/ec/3d/a8b38ce3.jpg","comment_is_top":false,"comment_ctime":1590021109,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10179955701","product_id":100015201,"comment_content":"ä¸€ä¸ª ReplicaSet å¯¹è±¡ï¼Œå…¶å®å°±æ˜¯ç”±å‰¯æœ¬æ•°ç›®çš„å®šä¹‰å’Œä¸€ä¸ª Pod æ¨¡æ¿ç»„æˆçš„ã€‚ä¸éš¾å‘ç°ï¼Œå®ƒçš„å®šä¹‰å…¶å®æ˜¯ Deployment çš„ä¸€ä¸ªå­é›†ã€‚<br>æ€ä¹ˆçœ‹å‡ºæ˜¯ä¸€ä¸ªDeploymentçš„å­é›†ï¼Ÿæ±‚è§£é‡Š","like_count":2,"discussions":[{"author":{"id":1579113,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLGTgnCUZbXpDCeia2RdXVmP5aQdxTPNR5iaGUhhUfyEMHL9wnOHIsTmt4FJicceB0DBQZlUYTcqkLkw/132","nickname":"jumpingwa","note":"","ucode":"78005B31EFF335","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287919,"discussion_content":"å¯ä»¥çœ‹replicaSetçš„metadata:ownerReference","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1593589134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":276335,"user_name":"æ¨","can_delete":false,"product_type":"c1","uid":1971269,"ip_address":"","ucode":"7EFEFE285975C6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/oltLEqTrmHm2aJP99BK6tHu5h7hp4aj08wR5Wt6H31iadFduDAVvjYKmhQ2nvGbLV3lkVdiat2GRasgWXoJeTibUg/132","comment_is_top":false,"comment_ctime":1611887998,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5906855294","product_id":100015201,"comment_content":"é‡‘ä¸é›€å‘å¸ƒï¼šå°†ä¸€éƒ¨åˆ†æœºå™¨æ›´æ–°ä¸ºæ–°ç‰ˆæœ¬  ç„¶åé€šè¿‡æ—¥å¿—ç­‰ç›‘æ§æ‰‹æ®µæ¥æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ï¼Œå¦‚æœæ­£å¸¸å°†å‰©ä¸‹çš„æœºå™¨æ›´æ–°ä¸ºæ–°ç‰ˆæœ¬ï¼Œä¸æ­£å¸¸å›é€€ã€‚ä¼˜ç‚¹å½±å“å°ï¼Œç¼ºç‚¹å‘å¸ƒéº»çƒ¦<br>è“ç»¿å‘å¸ƒï¼šå‘å¸ƒä¸¤å¥—ç¯å¢ƒï¼Œä¸€å¥—è“ç»„(è€çš„ç‰ˆæœ¬)ã€ä¸€å¥—ç»¿ç»„(æ–°çš„ç‰ˆæœ¬) å‘å¸ƒæ—¶å°†è“ç»„åˆ‡æ¢ä¸ºç»¿ç»„,æœ‰é—®é¢˜ç«‹å³å›é€€è“ç»„ã€‚ä¼˜ç‚¹ï¼šå‘å¸ƒè¿…é€Ÿå›é€€è¿…é€Ÿ ç¼ºç‚¹ï¼šéœ€è¦ä¸¤å¥—è®¾å¤‡<br>æ»šåŠ¨æ›´æ–°å‘å¸ƒ:ç±»ä¼¼k8sä¹Ÿæ˜¯ç°åœ¨æœ€ä¸»æµçš„å‘å¸ƒæ–¹å¼ï¼Œå…ˆç§»é™¤ä¸€ä¸ªè€ç‰ˆæœ¬ï¼Œç„¶åæ–°å¢ä¸€ä¸ªæ–°ç‰ˆæœ¬ï¼Œå¾ªç¯æ›´æ–°ï¼Œå°†æ‰€æœ‰çš„æ—§ç‰ˆæœ¬å˜ä¸ºæ–°ç‰ˆæœ¬ã€‚å½“ç„¶å¦‚æœæ–°ç‰ˆæœ¬æœ‰é—®é¢˜ï¼Œå°±å¯ä»¥è¿›è¡Œå›æ»šï¼Œå›æ»šè¿‡ç¨‹å’Œå‘å¸ƒè¿‡ç¨‹ä¸€æ ·ï¼Œåªæ˜¯ä¸€ä¸ªé€†å‘è¿‡ç¨‹","like_count":1},{"had_liked":false,"id":223983,"user_name":"å°å­©","can_delete":false,"product_type":"c1","uid":1112367,"ip_address":"","ucode":"A7F587FC641E63","user_header":"https://static001.geekbang.org/account/avatar/00/10/f9/2f/01b32495.jpg","comment_is_top":false,"comment_ctime":1591249467,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5886216763","product_id":100015201,"comment_content":"æ»šåŠ¨æ›´æ–°ä¼šä¸ä¼šå­˜åœ¨æ–°æ—§ç‰ˆæœ¬æœåŠ¡è¿”å›ä¸ä¸€è‡´æƒ…å†µ","like_count":1,"discussions":[{"author":{"id":1207457,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6c/a1/80d83f0a.jpg","nickname":"Ellison","note":"","ucode":"A2FB94D4F6A332","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327466,"discussion_content":"è¿™ä¸ªå°±è¦çœ‹ä½ çš„å¥åº·æ£€æŸ¥æœºåˆ¶äº†ï¼Œ serviceä»£ç†çš„å‰ææ˜¯ï¼Œ readlivessé€šè¿‡æ£€æŸ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605845539,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219247,"user_name":"ben","can_delete":false,"product_type":"c1","uid":1107408,"ip_address":"","ucode":"023B9DBDA43554","user_header":"https://static001.geekbang.org/account/avatar/00/10/e5/d0/c93e55aa.jpg","comment_is_top":false,"comment_ctime":1589975217,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5884942513","product_id":100015201,"comment_content":"é—®å¤§å®¶ä¸ªé—®é¢˜å“ˆï¼Œå‡å¦‚åœ¨åšå‡çº§çš„æ—¶å€™ï¼Œæœ‰ä¸ªpodæ­£åœ¨è·‘ä¸€ä¸ªé•¿çš„äº‹åŠ¡ï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™å‡çº§æŠŠè¿™ä¸ªpodç»™æ€äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªäº‹åŠ¡ä¹Ÿå°±æ–­äº†ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥æ§åˆ¶ç­‰podé‡Œé¢çš„ç¨‹åºè·‘å®Œäº†åœ¨æ»šåŠ¨æ›´æ–°å‘¢ï¼Ÿæˆ–è€…è¯´k8sæ˜¯æ€ä¹ˆå¤„ç†è¿™ç§æƒ…å†µå‘¢ï¼Ÿè°¢è°¢ï¼","like_count":1,"discussions":[{"author":{"id":2238479,"avatar":"https://static001.geekbang.org/account/avatar/00/22/28/0f/e0abc71b.jpg","nickname":"ç«™åœ¨æ ‘ä¸Šçš„æ¾é¼ ","note":"","ucode":"10D1D71BF988AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339550,"discussion_content":"è¿™ä¸ªåº”è¯¥æ˜¯ä¸šåŠ¡ç¨‹åºéœ€è¦ä¼˜é›…çš„å¤„ç†sig termä¿¡å·å‘¢ï¼Œæ€podæ˜¯å…ˆå‘é€termä¿¡å·ï¼Œé—´éš”ä¸€æ®µæ—¶é—´å¦‚æœæ²¡ååº”ï¼Œå†å‘é€killä¿¡å·ç»™podã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1609729987,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1174491,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/YlhEhLOxBkVdWfggdGeZmibw3PRXQicuicVsN2nwdrfZhsTLye2MR0nYvmYGO9TjTjEiceIEjIkxZ9bTXdtzNDLa3Q/132","nickname":"stone","note":"","ucode":"336DDEC95DF202","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":279151,"discussion_content":"å‰é¢è®²äº†prestopï¼Œæ˜¯åŒæ­¥çš„å•Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1591285785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":187686,"user_name":"çŒªå°¾å·´","can_delete":false,"product_type":"c1","uid":1169487,"ip_address":"","ucode":"4BDA1DB1A8A1B3","user_header":"https://static001.geekbang.org/account/avatar/00/11/d8/4f/4ec15857.jpg","comment_is_top":false,"comment_ctime":1584192872,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879160168","product_id":100015201,"comment_content":"é‡‘ä¸é›€å‘å¸ƒçš„è¯ åº”è¯¥è¦å’Œprobe æ¢é’ˆåšé…åˆ æ¥å®Œæˆå§ã€‚ ","like_count":1},{"had_liked":false,"id":135110,"user_name":"äº‘å­¦","can_delete":false,"product_type":"c1","uid":1027233,"ip_address":"","ucode":"366AE90BA06356","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ac/a1/43d83698.jpg","comment_is_top":false,"comment_ctime":1569030335,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5863997631","product_id":100015201,"comment_content":"deploymentä¸replicasetçš„å…³ç³»åœ¨æš‚æ€(å‡çº§&#47;æ‰©å®¹)æ—¶æ˜¯1:2ï¼Œåœ¨ç¨³å®šæ€æ˜¯1:1ï¼Œä»è½¯ä»¶è®¾è®¡çš„è§’åº¦çœ‹ï¼Œdeployment~replicaset~pod è¿™æ ·åˆ’åˆ†ä½¿å¾—èŒè´£éå¸¸æ¸…æ™°","like_count":1},{"had_liked":false,"id":124233,"user_name":"DI-é™ˆèµœï¼ˆzeï¼‰","can_delete":false,"product_type":"c1","uid":1021421,"ip_address":"","ucode":"2EDABDDB80F2C5","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJUSUdGJFtQolpA8mANMZnjXB18ibmx5JRhI0byF4jb29qNghKoEk9EDJNIIiayJDCnqZLSutX3pXnQ/132","comment_is_top":false,"comment_ctime":1565838753,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5860806049","product_id":100015201,"comment_content":"revisionHistoryLimité»˜è®¤æ˜¯10ä¸ªç‰ˆæœ¬<br>","like_count":1,"discussions":[{"author":{"id":1579113,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLGTgnCUZbXpDCeia2RdXVmP5aQdxTPNR5iaGUhhUfyEMHL9wnOHIsTmt4FJicceB0DBQZlUYTcqkLkw/132","nickname":"jumpingwa","note":"","ucode":"78005B31EFF335","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288382,"discussion_content":"ä¸å…¨å¯¹ï¼Œè·ŸapiVersionæœ‰å…³ï¼Œæœ‰çš„æ˜¯2æœ‰çš„æ˜¯10","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1593739550,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51334,"user_name":"Sir","can_delete":false,"product_type":"c1","uid":1204383,"ip_address":"","ucode":"B79B31FC543700","user_header":"https://static001.geekbang.org/account/avatar/00/12/60/9f/f939681f.jpg","comment_is_top":false,"comment_ctime":1545174669,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5840141965","product_id":100015201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªé›†ç¾¤ï¼Œæ»šåŠ¨å‡çº§ï¼Œé‡åˆ°æ–°çš„deployå·²ç»å¥åº·äº†ï¼Œè€çš„deployä¸€ç›´è¿˜åœ¨ï¼ŒæŒç»­å¾ˆä¹…ï¼ä¸çŸ¥é“è€å¸ˆé‡åˆ°è¿‡å˜›~","like_count":1},{"had_liked":false,"id":36435,"user_name":"Yao1931","can_delete":false,"product_type":"c1","uid":1219014,"ip_address":"","ucode":"FDF907E94C5574","user_header":"https://static001.geekbang.org/account/avatar/00/12/99/c6/fcb91141.jpg","comment_is_top":false,"comment_ctime":1541118227,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5836085523","product_id":100015201,"comment_content":"çŸ¥è¯†ç‚¹å¥½å¤šçš„ä¸€èŠ‚è¯¾ï¼ï¼è€å¸ˆå†™çš„éƒ½å¾ˆé€å½»ï¼","like_count":1},{"had_liked":false,"id":29353,"user_name":"è™è™â¤ï¸","can_delete":false,"product_type":"c1","uid":1086535,"ip_address":"","ucode":"157F261E80291A","user_header":"https://static001.geekbang.org/account/avatar/00/10/94/47/75875257.jpg","comment_is_top":false,"comment_ctime":1538357280,"is_pvip":false,"replies":[{"id":"10568","content":"å°±æ˜¯desired * 0.25","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1538373760,"ip_address":"","comment_id":29353,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5833324576","product_id":100015201,"comment_content":"æ»šåŠ¨å‡çº§æŒ‡å®šæ¯”ä¾‹çš„podå¤„äºç¦»çº¿æˆ–æ–°å»ºï¼Œè¿™ä¸ªdesired å€¼25%æ€ä¹ˆç®—çš„å‘¢ï¼Ÿåˆ†å­å’Œåˆ†æ¯å„æ˜¯ä»€ä¹ˆï¼Ÿ<br>å›½åº†æœ‰æ—¶é—´å……ç”µï¼Œå¤šæ¥ç‚¹å†…å®¹å‘€ï¼åŠ æ²¹ï¼","like_count":1,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":425561,"discussion_content":"å°±æ˜¯desired * 0.25","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1538373760,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351472,"user_name":"looper","can_delete":false,"product_type":"c1","uid":1238396,"ip_address":"","ucode":"DA4BCE83836C04","user_header":"https://static001.geekbang.org/account/avatar/00/12/e5/7c/2a5a418b.jpg","comment_is_top":false,"comment_ctime":1657812426,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1657812426","product_id":100015201,"comment_content":"æ‰“å¡ï¼ŒæŠŠæœ¬èŠ‚çš„æŒ‡ä»¤éƒ½æ•²äº†ä¸€é","like_count":0},{"had_liked":false,"id":342322,"user_name":"å¯’ä¿Š","can_delete":false,"product_type":"c1","uid":1398674,"ip_address":"","ucode":"5D679B0BC5A60B","user_header":"https://static001.geekbang.org/account/avatar/00/15/57/92/46721c5f.jpg","comment_is_top":false,"comment_ctime":1650189377,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650189377","product_id":100015201,"comment_content":"deployment.yaml<br>--------<br>apiVersion: apps&#47;v1<br>kind: Deployment<br>metadata:<br>  name: ktest-deployment<br>spec:<br>  selector:<br>    matchLabels:<br>      app: ktest<br>  replicas: 4<br>  template:<br>    metadata:<br>      labels:<br>        app: ktest<br>    spec:<br>      containers:<br>      - name: ktestct<br>        image: yusj&#47;ktest:1.0<br>        ports:<br>        - containerPort: 8080<br><br><br><br>æ–‡ä»¶é‡Œè¾¹çš„ é•œåƒæ˜¯æˆ‘è‡ªå·±æ‰“åŒ…çš„ä¸€ä¸ªspringboot helloworldã€‚kubectl apply -f **.yaml   é‡æ–°deployment  æ—¶ã€‚æ˜¯æ»šåŠ¨æ›´æ–°çš„ã€‚ä½†ä¸ºä»€ä¹ˆä¼šæœ‰ 10å‡ ç§’çš„ æœåŠ¡ä¸èƒ½è®¿é—®å‘¢ï¼Ÿæ—¢ç„¶æ»šåŠ¨æ›´æ–°ï¼Œåº”è¯¥æ€»ä¼šæœ‰pod å¯ç”¨æ‰å¯¹ï¼Ÿ<br><br><br>","like_count":0},{"had_liked":false,"id":335670,"user_name":"æ— å…³é£æœˆ","can_delete":false,"product_type":"c1","uid":1950389,"ip_address":"","ucode":"F5979EB048F7FE","user_header":"","comment_is_top":false,"comment_ctime":1645620926,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645620926","product_id":100015201,"comment_content":"è€å¸ˆï¼Œå¦‚æœå…ˆç”¨kubectl apply -f deployment.yml åï¼Œç«‹å³ç”¨kubectl rollout pause ï¼Œèƒ½å¤Ÿæš‚åœdeploymentçš„éƒ¨ç½²å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":321960,"user_name":"è¿½é£ç­çš„äºº","can_delete":false,"product_type":"c1","uid":1488020,"ip_address":"","ucode":"2993D60F94C396","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","comment_is_top":false,"comment_ctime":1637118074,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637118074","product_id":100015201,"comment_content":"å¤‡æ³¨ï¼šDeployment æ§åˆ¶ ReplicaSetï¼ˆç‰ˆæœ¬ï¼‰ï¼ŒReplicaSet æ§åˆ¶ Podï¼ˆå‰¯æœ¬æ•°ï¼‰ã€‚è¿™ä¸ªä¸¤å±‚æ§åˆ¶å…³ç³»ä¸€å®šè¦ç‰¢è®°ã€‚","like_count":0},{"had_liked":false,"id":321958,"user_name":"è¿½é£ç­çš„äºº","can_delete":false,"product_type":"c1","uid":1488020,"ip_address":"","ucode":"2993D60F94C396","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","comment_is_top":false,"comment_ctime":1637117792,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637117792","product_id":100015201,"comment_content":"Deployment æ§åˆ¶ ReplicaSetï¼ˆç‰ˆæœ¬ï¼‰ï¼ŒReplicaSet æ§åˆ¶ Podï¼ˆå‰¯æœ¬æ•°ï¼‰ã€‚è¿™ä¸ªä¸¤å±‚æ§åˆ¶å…³ç³»ä¸€å®šè¦ç‰¢è®°ã€‚","like_count":0},{"had_liked":false,"id":321957,"user_name":"è¿½é£ç­çš„äºº","can_delete":false,"product_type":"c1","uid":1488020,"ip_address":"","ucode":"2993D60F94C396","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","comment_is_top":false,"comment_ctime":1637117749,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637117749","product_id":100015201,"comment_content":"Deployment å®é™…ä¸Šæ˜¯ä¸€ä¸ªä¸¤å±‚æ§åˆ¶å™¨ã€‚é¦–å…ˆï¼Œå®ƒé€šè¿‡ ReplicaSet çš„ä¸ªæ•°æ¥æè¿°åº”ç”¨çš„ç‰ˆæœ¬ï¼›ç„¶åï¼Œå®ƒå†é€šè¿‡ ReplicaSet çš„å±æ€§ï¼ˆæ¯”å¦‚ replicas çš„å€¼ï¼‰ï¼Œæ¥ä¿è¯ Pod çš„å‰¯æœ¬æ•°é‡ã€‚å¤‡æ³¨ï¼šDeployment æ§åˆ¶ ReplicaSetï¼ˆç‰ˆæœ¬ï¼‰ï¼ŒReplicaSet æ§åˆ¶ Podï¼ˆå‰¯æœ¬æ•°ï¼‰ã€‚è¿™ä¸ªä¸¤å±‚æ§åˆ¶å…³ç³»ä¸€å®šè¦ç‰¢è®°ã€‚","like_count":0},{"had_liked":false,"id":320962,"user_name":"éšç¼˜","can_delete":false,"product_type":"c1","uid":1333602,"ip_address":"","ucode":"0A787D3BC7A9A3","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI3C6aiaBgp29xyRr0cqdf6EDDlIukyTT5w9JxJeY4Vgouzr0o47wp4ibTutS0h8R8g4IC25FZ3icicDw/132","comment_is_top":false,"comment_ctime":1636598836,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636598836","product_id":100015201,"comment_content":"pause å’Œ resume å®é™…ä¸Šæ˜¯ä¸æ˜¯å°±æ˜¯ç±»æ¯”äºedit ç¼–è¾‘äº†ä¸€æ¬¡","like_count":0},{"had_liked":false,"id":314939,"user_name":"é™ˆæ–¯ä½³","can_delete":false,"product_type":"c1","uid":1259323,"ip_address":"","ucode":"C236F874FC767A","user_header":"https://static001.geekbang.org/account/avatar/00/13/37/3b/495e2ce6.jpg","comment_is_top":false,"comment_ctime":1633599169,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633599169","product_id":100015201,"comment_content":"ç¬¬åä¸ƒè¯¾:ç»å…¸PaaSçš„è®°å¿†:ä½œä¸šå‰¯æœ¬ä¸æ°´å¹³æ‰©å±•<br>deploymenté€šè¿‡æ“æ§replicasetæ¥å®ç°å¯¹podçš„å‰¯æœ¬æ§åˆ¶ã€æ°´å¹³æ‰©å±•ä»¥åŠæ»šåŠ¨æ›´æ–°ï¼Œå¹¶ä¸”é€šè¿‡åˆ›å»ºä¸åŒçš„replicasetæ¥å®ç°ä¸åŒçš„å‘å¸ƒç‰ˆæœ¬æ§åˆ¶","like_count":0},{"had_liked":false,"id":313482,"user_name":"DramaColin","can_delete":false,"product_type":"c1","uid":2747868,"ip_address":"","ucode":"F505F21FD45042","user_header":"","comment_is_top":false,"comment_ctime":1632457241,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632457241","product_id":100015201,"comment_content":"ReplicaSeté€šè¿‡æ§åˆ¶å™¨æ¨¡å¼æ¥ä½¿å¾—Podæ•°é‡æ¥è¾¾åˆ°æœŸæœ›å€¼ï¼Œé‚£ä¹ˆDeploymenté€šè¿‡æ§åˆ¶å™¨æ¨¡å¼æƒ³è®©ReplicaSetè¾¾åˆ°ä»€ä¹ˆæ ·çš„ä¸€ä¸ªæœŸæœ›çŠ¶æ€å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":312986,"user_name":"ç†Šä¼Ÿæ¥ ","can_delete":false,"product_type":"c1","uid":1930602,"ip_address":"","ucode":"3677EE3957CAA2","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/mstClEX5QgywKCOMj0R8DkX3FiayxxQNhyxw1xQia1sSMcbciavpu0fiay4uoAD0RcDyphB1YGgxC4U7tLsD13CbeQ/132","comment_is_top":false,"comment_ctime":1632188946,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632188946","product_id":100015201,"comment_content":"å¦‚æœapplyçš„æ—¶å€™æ²¡æœ‰åŠ --recordå¦‚ä½•é€šè¿‡rollout historyæ‰¾åˆ°ä¹‹å‰çš„versionå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":311309,"user_name":"æ²¡ä¼çš„å­©å­å¾—ä½¿åŠ²å¥”è·‘","can_delete":false,"product_type":"c1","uid":1145779,"ip_address":"","ucode":"D015B4EF12E536","user_header":"https://static001.geekbang.org/account/avatar/00/11/7b/b3/194f7f90.jpg","comment_is_top":false,"comment_ctime":1631167225,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1631167225","product_id":100015201,"comment_content":"ç±»ä¼¼è…¾è®¯äº‘ä¸Šé¢ï¼Œå›æ»šæ—¶ï¼Œå¦‚æœé€‰æ‹©ç‰ˆæœ¬å·ï¼Ÿ <br>æ¯”å¦‚ï¼š<br>REVISION  CHANGE-CAUSE<br>1         v1.0<br>2         v1.1<br>3         v1.2","like_count":0},{"had_liked":false,"id":307586,"user_name":"èƒ¡å¿—è°","can_delete":false,"product_type":"c1","uid":2500335,"ip_address":"","ucode":"7003A094FAB027","user_header":"https://static001.geekbang.org/account/avatar/00/26/26/ef/86944a28.jpg","comment_is_top":false,"comment_ctime":1629166558,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629166558","product_id":100015201,"comment_content":"è¿™æ˜¯å”¯ä¸€ä¸€é—¨æˆ‘è¿½ç€çœ‹çš„è¯¾ã€‚","like_count":0},{"had_liked":false,"id":300310,"user_name":"é‡‘æ—¶","can_delete":false,"product_type":"c1","uid":1120428,"ip_address":"","ucode":"3491B2367A7238","user_header":"https://static001.geekbang.org/account/avatar/00/11/18/ac/4d68ba46.jpg","comment_is_top":false,"comment_ctime":1625107370,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625107370","product_id":100015201,"comment_content":"æ–‡ç« ä¸­è¯´æ»šåŠ¨æ›´æ–°å¤±è´¥äº†ï¼Œ æ—§ç‰ˆæœ¬podçš„åˆ é™¤äº†ä¸€ä¸ªã€‚è¿™é‡Œæˆ‘æœ‰ä¸ªæ··æ·†ç‚¹ï¼Œæ»šåŠ¨æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œæ˜¯æ–°ç‰ˆæœ¬readyäº†ï¼Œå†åˆ é™¤æ—§ç‰ˆæœ¬çš„ï¼Œè¿˜æ˜¯æ–°ç‰ˆæœ¬åˆ›å»ºå’Œå°±ç‰ˆæœ¬åˆ é™¤åŒæ—¶è¿›è¡Œçš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":297091,"user_name":"Dream","can_delete":false,"product_type":"c1","uid":2647659,"ip_address":"","ucode":"01B8AAF5D4DDD7","user_header":"","comment_is_top":false,"comment_ctime":1623306566,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623306566","product_id":100015201,"comment_content":"è€å¸ˆæœ‰ä¸€ä¸ªç–‘é—®ï¼šåœ¨ä½¿ç”¨ â€kubectl set image deployâ€œæ›´æ–°é•œåƒä»¥åï¼Œä¼šåŒæ—¶ç”Ÿæˆä¸€ä¸ªrsã€‚ä½†æ˜¯ä»¥å‰çš„rsåœ¨æ–°çš„é•œåƒæ›´æ–°å®Œæˆä»¥åä¸ºä»€ä¹ˆè¿˜ä¸€ç›´å­˜åœ¨æ²¡æœ‰æ¶ˆå¤±ã€‚<br><br>[root@k8s-master1 ~]# kubectl get rs <br>NAME                                           DESIRED   CURRENT   READY   AGE<br>nginx-6799fc88d8                               1         1         1       27h<br>nginx-test-6969c7bb7f                          0         0         0       21h<br>nginx-test-6b949ccd5d                          1         1         1       35s<br>nginx-test-795d659f45                          0         0         0       21h","like_count":0},{"had_liked":false,"id":287414,"user_name":"ææ˜¾è‰¯","can_delete":false,"product_type":"c1","uid":1228340,"ip_address":"","ucode":"0A79CB419E4F89","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/34/de6d9ce7.jpg","comment_is_top":false,"comment_ctime":1617936832,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617936832","product_id":100015201,"comment_content":"é‡‘ä¸é›€éƒ¨ç½²ï¼šå°‘é‡æµé‡åˆ‡æ¢åˆ°æ–°ç‰ˆæœ¬ï¼Œé€šè¿‡å°‘é‡æµé‡éªŒè¯æœåŠ¡æ­£ç¡®æ€§ï¼›åç»­æ¸è¿›æ›¿æ¢è€ç‰ˆæœ¬ï¼Œå¯ä»¥ç†è§£ä¸ºæ»šåŠ¨æµé‡åˆ‡æ¢<br>è“ç»¿å‘å¸ƒï¼šéƒ¨ç½²å’Œè€ç‰ˆæœ¬åŒç­‰è§„æ¨¡çš„æ–°ç‰ˆæœ¬åº”ç”¨ï¼Œé€šè¿‡LBåšæµé‡åˆ‡æ¢ï¼›éœ€è¦é¢å¤–å¤šä¸€å€çš„æœºå™¨èµ„æº","like_count":0},{"had_liked":false,"id":281267,"user_name":"å•è¶…","can_delete":false,"product_type":"c1","uid":1740409,"ip_address":"","ucode":"B36883984BE16B","user_header":"https://static001.geekbang.org/account/avatar/00/1a/8e/79/f9d5dd3a.jpg","comment_is_top":false,"comment_ctime":1614671097,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1614671097","product_id":100015201,"comment_content":"æˆ‘å‘å‘åˆ›å»ºdeploymentçš„æ—¶å€™ä¸å¸¦--recordï¼Œåé¢editä¹‹åï¼Œä¹Ÿæ˜¯å¯ä»¥undoçš„ï¼Œåªä¸è¿‡historyé‡Œåªæ˜¾ç¤ºä¸€æ’&lt;none&gt;ï¼Œæ‰€ä»¥--recordçš„ç›®çš„åªæ˜¯å•çº¯çš„ç½—åˆ—ä¿®æ”¹è®°å½•ï¼Œè€Œdeploymentçš„ç‰ˆæœ¬ç®¡ç†æ˜¯æœ¬èº«å°±è‡ªå¸¦çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1970516,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLK4NPyaFDl4rzrd4A9z42tQDibFLdCicbrAdyUa5P2B5u8UCUBenpHX7VgUCibvHvhpza4icMBKVnhmA/132","nickname":"å­¦æ— æ­¢å¢ƒ","note":"","ucode":"2C28E8E54DAB4E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389430,"discussion_content":"æ˜¯è‡ªå¸¦ï¼Œè€å¸ˆæ„æ€åŠ --recordï¼Œå¯ä»¥è¯¦ç»†è®°å½•ä½ çš„æ“ä½œç»†èŠ‚ï¼Œè¿™æ ·å›æ»šæ›´æœ‰ç›®çš„æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629275074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":277936,"user_name":"å¶å³¥ç‘¶","can_delete":false,"product_type":"c1","uid":1797584,"ip_address":"","ucode":"170E0F29BC6D4D","user_header":"","comment_is_top":false,"comment_ctime":1612675834,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612675834","product_id":100015201,"comment_content":"Deploymentçš„ç‰ˆæœ¬ç®¡ç†ï¼Œrollingupdateè¿˜æ˜¯éœ€è¦ç”¨ç‰ˆæœ¬ç®¡ç†å·¥å…·ç®¡ç†èµ·æ¥çš„ å®é™…ä½¿ç”¨æ—¶ä¸ä¼šè¿™æ ·æ•²å‘½ä»¤æ¥å®Œæˆ ","like_count":0},{"had_liked":false,"id":238545,"user_name":"é™ˆæ°´é‡‘","can_delete":false,"product_type":"c1","uid":1085908,"ip_address":"","ucode":"2CF1FDE6E5EE4D","user_header":"https://static001.geekbang.org/account/avatar/00/10/91/d4/f530914a.jpg","comment_is_top":false,"comment_ctime":1596193836,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1596193836","product_id":100015201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼ŒReplicaSetä¸­çš„replicasæ§åˆ¶podå‰¯æœ¬æ•°ï¼Œé‚£Deployment çš„yamlæ–‡ä»¶ä¸­replicaså­—æ®µçš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼ŒæœŸå¾…è€å¸ˆæ‚¨çš„æŒ‡ç‚¹","like_count":0,"discussions":[{"author":{"id":1637475,"avatar":"https://static001.geekbang.org/account/avatar/00/18/fc/63/bcda2f87.jpg","nickname":"ç†Š","note":"","ucode":"B6423D29701EC5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":304508,"discussion_content":"rs æ˜¯ç”±deploymentç”Ÿæˆçš„å‘€ æ‰€ä»¥rsä¸­çš„replicaså­—æ®µå°±æ˜¯ç”±deploymentçš„replicaså­—æ®µç”Ÿæˆçš„ è¿™æ˜¯ä¸ªä¸¤å±‚æ§åˆ¶å™¨","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1599583623,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228389,"user_name":"æ™æœˆ520","can_delete":false,"product_type":"c1","uid":1845394,"ip_address":"","ucode":"4F05E02A5C1608","user_header":"https://static001.geekbang.org/account/avatar/00/1c/28/92/436735f5.jpg","comment_is_top":false,"comment_ctime":1592655946,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1592655946","product_id":100015201,"comment_content":"ä¸€èˆ¬ç”Ÿäº§ç¯å¢ƒå›æ»šä¸ä¼šç”¨ä»€ä¹ˆ rollout å§ ï¼Ÿç›´æ¥æŠŠ yaml æ–‡ä»¶çš„ é•œåƒæ”¹å›ä¹‹å‰çš„  ä¸å°±å›æ»šäº†å˜›","like_count":0,"discussions":[{"author":{"id":1579113,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLGTgnCUZbXpDCeia2RdXVmP5aQdxTPNR5iaGUhhUfyEMHL9wnOHIsTmt4FJicceB0DBQZlUYTcqkLkw/132","nickname":"jumpingwa","note":"","ucode":"78005B31EFF335","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287920,"discussion_content":"æ”¹yamlåˆæ‰§è¡Œä¸€érolling updateäº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1593589266,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1103556,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d6/c4/27343f76.jpg","nickname":"SHift","note":"","ucode":"36BD4A38F7FA2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293647,"discussion_content":"å› ä¸ºåº”ç”¨ç‰ˆæœ¬ä¸ä»…ä»…åªæœ‰ä»£ç æˆ–è€…é•œåƒï¼Œè¿˜æœ‰åŒ…æ‹¬å†…å­˜å’Œcpuèµ„æºç­‰ç­‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595604628,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219321,"user_name":"æœ¨æ¨ç“œ","can_delete":false,"product_type":"c1","uid":1157981,"ip_address":"","ucode":"B8824E09C41611","user_header":"https://static001.geekbang.org/account/avatar/00/11/ab/5d/c15b2e88.jpg","comment_is_top":false,"comment_ctime":1589988197,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589988197","product_id":100015201,"comment_content":"æƒ³ç¡®è®¤ä¸€ä¸‹ï¼Œå½“ Deployment åœ¨åšæ»šåŠ¨æ›´æ–°çš„æ—¶å€™ï¼Œæ¯æ¬¡ Reconcile loop ä¸­æ‰©å®¹æ–°çš„ ReplicaSet åï¼Œæ˜¯éœ€è¦ç­‰å¾…æ–° Pod é€šè¿‡ readinessProbe åï¼Œæ‰ä¼šè¿›è¡Œæ—§çš„ ReplicaSet çš„ç¼©å®¹æ˜¯ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":213301,"user_name":"é»„çŒ›","can_delete":false,"product_type":"c1","uid":1986193,"ip_address":"","ucode":"6A8F76316661EE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/v2NFObAXQDHYSQpBqeab9M1hEGbaz3RAgOst4njjmiaWAzYNRLo2XqIcj1HRbmJKf5Vq1bWoq4vqfITEfWoicAMA/132","comment_is_top":false,"comment_ctime":1588380691,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1588380691","product_id":100015201,"comment_content":"è¿™é‡Œæœ‰ä¸ªç–‘é—®ï¼Œæ»šåŠ¨æ›´æ–°æ—¶æ§åˆ¶çš„æ˜¯å‰¯æœ¬é›†ï¼Œå¯¹äºä¸Šå±‚çš„service,ä»€ä¹ˆæ—¶å€™åˆ‡æ¢åˆ°æ–°çš„pod,æœŸé—´ä¼šæ¶‰åŠåˆ°å¤–éƒ¨è¯·æ±‚è´Ÿè½½åˆ°æ—§ç‰ˆæœ¬çš„podå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1086319,"avatar":"https://static001.geekbang.org/account/avatar/00/10/93/6f/5ab3da19.jpg","nickname":"æ…•å®¹","note":"","ucode":"BEE694935853E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":267698,"discussion_content":"ç†è®ºä¸Šåˆ†æè‚¯å®šæœ‰è¿™ä¸ªæƒ…å†µï¼Œä¸ç„¶å°±ä¸ä¼šæŠ›å‡ºé‡‘ä¸é›€å‘å¸ƒå’Œè“ç»¿å‘å¸ƒçš„æ¦‚å¿µäº†ã€‚åªè¦podæ˜¯å°±ç»ªçŠ¶æ€ï¼Œä¸ç®¡ç‰ˆæœ¬è€æ—§ï¼Œéƒ½ä¼šè¢«è®¿é—®åˆ°ï¼Œè€ç‰ˆæœ¬åœ¨æ»šåŠ¨æ›´æ–°è¿‡ç¨‹ä¸­è¢«ä¸‹çº¿ï¼ŒçŠ¶æ€å˜ä¸ºä¸å¯ç”¨åï¼Œæ‰ä¼šä»serviceé‡Œé¢å‰”é™¤æ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589678566,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190883,"user_name":"Geek_c22199","can_delete":false,"product_type":"c1","uid":1441876,"ip_address":"","ucode":"1CE5B65513E360","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI2vn8hyjICTCletGs0omz28lhriaZKX2XX9icYzAEon2IEoRnlXqyOia2bEPP0j7T6xexTnr77JJic8w/132","comment_is_top":false,"comment_ctime":1584705010,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584705010","product_id":100015201,"comment_content":"å‘ç°ä¸€å¤„æè¿°å¯èƒ½ä¸å¤ªå‡†ç¡®ï¼Œä»Šå¤©éƒ¨ç½²çš„æ—¶å€™å‘ç°nginx-deployment éƒ¨ç½²års çš„åç§°æ˜¯nginx-deployment-d7b764d88ï¼Œä½¿ç”¨describeå‘½ä»¤æŸ¥çœ‹è¿™ä¸ªrsï¼ŒLabelså­—æ®µä¸­pod-template-hash=83632084ï¼Œåç§°åçš„éšæœºå­—ç¬¦ä¸²ä¸pod-template-hashå€¼å¹¶ä¸ä¸€æ ·ï¼å®˜ç½‘æè¿°ä¸­å†™çš„æ˜¯éšæœºå­—ç¬¦ä¸²æ˜¯éšæœºç”Ÿæˆå¹¶ä»¥pod-template-hashä½œä¸ºç§å­","like_count":0},{"had_liked":false,"id":184367,"user_name":"å›å›","can_delete":false,"product_type":"c1","uid":1046711,"ip_address":"","ucode":"0E8F1058F01C28","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erRDnCKfAWyOSUfU9hI8gYu2qsMOUwnFlCSngM0a9hbdnMmqHmBlziajorVdm9NGjx23SlAJXvicHGQ/132","comment_is_top":false,"comment_ctime":1583299541,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583299541","product_id":100015201,"comment_content":"è€å¸ˆè®²çš„çœŸå¥½ã€‚k8sçš„ç»„ä»¶ï¼Œæ¦‚å¿µï¼Œé…ç½®é¡¹å®åœ¨å¤ªå¤šäº†ï¼Œè¦æ…¢æ…¢æ¶ˆåŒ–","like_count":0},{"had_liked":false,"id":117272,"user_name":"èƒ¡å®¶é¹","can_delete":false,"product_type":"c1","uid":1109940,"ip_address":"","ucode":"1636F84062948B","user_header":"https://static001.geekbang.org/account/avatar/00/10/ef/b4/61fb4dba.jpg","comment_is_top":false,"comment_ctime":1564017693,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1564017693","product_id":100015201,"comment_content":"æ›´æ–°æ‰§è¡Œæš‚åœåï¼Œä¼šæš‚åœpodå¯¹å¤–æä¾›æœåŠ¡å—","like_count":0,"discussions":[{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"æ¨å®‡","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":405862,"discussion_content":"ä¸ä¼šï¼ŒDeploymentä¸æ’æ‰‹å°±ä»£è¡¨ç»´æŒç°çŠ¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634654142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":107466,"user_name":"GLADIATOR","can_delete":false,"product_type":"c1","uid":1448564,"ip_address":"","ucode":"6FE14E0BCD6240","user_header":"https://static001.geekbang.org/account/avatar/00/16/1a/74/8f7f8786.jpg","comment_is_top":false,"comment_ctime":1561540145,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561540145","product_id":100015201,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œä¹‹å‰æ¨èä½¿ç”¨ç”¨applyï¼Œä¸ºå•¥åé¢åˆéƒ½ç”¨äº†createå•Šï¼Œæ˜¯ä¸æ˜¯è¿˜è¦åˆ†åœºæ™¯ï¼Ÿ","like_count":0},{"had_liked":false,"id":105992,"user_name":"Geek_8b2e4b","can_delete":false,"product_type":"c1","uid":1563174,"ip_address":"","ucode":"ED340997291CBE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJibVR9eYu1n8ibPrZhZ0vp7x2AIKrPdibOIhnOkIjiaiaHiauy935ROM7NoiaicGxRPpKst5gMbqp9Jaibiarw/132","comment_is_top":false,"comment_ctime":1561122136,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561122136","product_id":100015201,"comment_content":"imagepullallowè¿™ä¸ªå‚æ•°åªé’ˆå¯¹podå¼€å§‹è¿è¡Œçš„æ—¶å€™å¦‚æœpodåœ¨è¿è¡Œä¸­æ€ä¹ˆå¼ºåˆ¶æ›´æ–°ï¼Ÿæˆ‘æ˜¯æŠŠpodè‡³ä¸º0åœ¨ä¿®æ”¹ä¸º1æœ‰å…¶ä»–æ›´å¥½çš„æ–¹æ³•ä¹ˆ","like_count":0},{"had_liked":false,"id":78533,"user_name":"åˆå­¦è€…","can_delete":false,"product_type":"c1","uid":1042833,"ip_address":"","ucode":"9471A905D07CE1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e9/91/4219d305.jpg","comment_is_top":false,"comment_ctime":1553169943,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1553169943","product_id":100015201,"comment_content":"daemonsetå’Œstatefulset çš„history revision éƒ½æ˜¯ç”±ä¸€ä¸ªä¸ªcontrollerrevison æ¥è®°å½•ï¼Œé‚£deployment history revision è®°å½•åœ¨å“ªé‡Œï¼Ÿ","like_count":0},{"had_liked":false,"id":56772,"user_name":"hgf","can_delete":false,"product_type":"c1","uid":1085297,"ip_address":"","ucode":"A9649ECFDBD9E8","user_header":"https://static001.geekbang.org/account/avatar/00/10/8f/71/29fb7bc2.jpg","comment_is_top":false,"comment_ctime":1546560813,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546560813","product_id":100015201,"comment_content":"æ¯ä¸ªreplicasetå¯¹åº”åº”ç”¨ä¸€ä¸ªç‰ˆæœ¬ï¼Œdeploymenté€šè¿‡æ§åˆ¶åŒä¸€åº”ç”¨ä¸ç”¨ç‰ˆæœ¬çš„replicasetå‰¯æœ¬æ•°å®ç°æ»šåŠ¨æ›´æ–°çš„æ“ä½œï¼Œæ›´æ–°æˆåŠŸåä¸ä¼šåˆ é™¤replicasetï¼Œä»…ä»…åªä¿®æ”¹å‰¯æœ¬æ•°é‡ï¼Œæ‰€ä»¥å¯ä»¥æŸ¥åˆ°å†å²çš„ç‰ˆæœ¬ï¼Œè¿›è€Œæ”¯æŒå›æ»šã€‚","like_count":0},{"had_liked":false,"id":45770,"user_name":"tianming","can_delete":false,"product_type":"c1","uid":1009932,"ip_address":"","ucode":"0BAB735AC9017A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/69/0c/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1543793722,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543793722","product_id":100015201,"comment_content":"è¯·é—®è€å¸ˆï¼Œå½“æˆ‘çš„deploymentè®¾ç½®ä¼¸ç¼©æˆæ¯”å¦‚3ä¸ªpodï¼Œä½†æ˜¯ä»–çš„yml å®šä¹‰é‡Œé¢è®¾ç½®äº†2ä¸ªreplicaï¼Œé‚£è¿™ä¸ªæ—¶å€™æ˜¯ä¸æ˜¯è¿™ä¸ªyml å®šä¹‰æ˜¯ä¸èµ·ä½œç”¨çš„ï¼Ÿå› ä¸ºæˆ‘çœ‹å®é™…ä¼šäº§ç”Ÿä¸‰ä¸ªçš„","like_count":0},{"had_liked":false,"id":43256,"user_name":"Mr.Yang","can_delete":false,"product_type":"c1","uid":1267639,"ip_address":"","ucode":"C2F6A361F3FFD8","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/b7/a37f1bc5.jpg","comment_is_top":false,"comment_ctime":1543201259,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543201259","product_id":100015201,"comment_content":"è€å¸ˆä½ å¥½ï¼šè¯·é—®ReplicationControllerå’ŒDeploymentçš„æœ‰å“ªäº›åŒºåˆ«å’Œè”ç³»ï¼Ÿ","like_count":0},{"had_liked":false,"id":41268,"user_name":"chen","can_delete":false,"product_type":"c1","uid":1219168,"ip_address":"","ucode":"2CEBB256A77A8D","user_header":"https://static001.geekbang.org/account/avatar/00/12/9a/60/006b6fe6.jpg","comment_is_top":false,"comment_ctime":1542763225,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1542763225","product_id":100015201,"comment_content":"è€å¸ˆä¸€å®šæ˜¯ä¸€ä¸ªåŠ¡å®çš„äººï¼Œè®²çš„é€ä¾§ï¼Œéƒ½æ˜¯å¹²è´§","like_count":0},{"had_liked":false,"id":37382,"user_name":"å°è°¢åŒå­¦","can_delete":false,"product_type":"c1","uid":1032544,"ip_address":"","ucode":"E809E6BC470631","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c1/60/fc3689d0.jpg","comment_is_top":false,"comment_ctime":1541562664,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1541562664","product_id":100015201,"comment_content":"è¯·é—®å“ªç§æƒ…å†µä¸‹æœ‰å¿…è¦åœ¨ä¸€ä¸ªpodä¸­åŒ…å«å¤šä¸ªå®¹å™¨ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"æ¨å®‡","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":405865,"discussion_content":"å‰é¢è®²è¿‡ï¼Œâ€œè¶…äº²å¯†å…³ç³»â€ï¼Œ æ¯”å¦‚è¦é€šè¿‡å…±äº«å†…å­˜æ¥é€šä¿¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634654299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":37133,"user_name":"Kevin Wang","can_delete":false,"product_type":"c1","uid":1042073,"ip_address":"","ucode":"D4BC9EFCB086EE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e6/99/276eaeaa.jpg","comment_is_top":false,"comment_ctime":1541465740,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1541465740","product_id":100015201,"comment_content":"è¯·é—®ï¼Œå¯¹äºrolling updateè€Œè¨€ï¼Œå¦‚æœæˆ‘æƒ³æ”¹çš„ä¸æ˜¯imageï¼Œè€Œæ˜¯æŒ‚è½½çš„nfsç›®å½•ï¼ˆimageä¸€æˆä¸å˜ï¼Œé€šè¿‡æŒ‚è½½ç›®å½•å†³å®šæœåŠ¡å†…æ¶µï¼‰ï¼Œåº”è¯¥å¦‚ä½•æ“ä½œå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":37103,"user_name":"å°è°¢åŒå­¦","can_delete":false,"product_type":"c1","uid":1032544,"ip_address":"","ucode":"E809E6BC470631","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c1/60/fc3689d0.jpg","comment_is_top":false,"comment_ctime":1541463628,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1541463628","product_id":100015201,"comment_content":"è¯·é—®revision history limited æœ‰é»˜è®¤å€¼ä¹ˆï¼Ÿéš¾é“æ˜¯æ— é™ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1970516,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLK4NPyaFDl4rzrd4A9z42tQDibFLdCicbrAdyUa5P2B5u8UCUBenpHX7VgUCibvHvhpza4icMBKVnhmA/132","nickname":"å­¦æ— æ­¢å¢ƒ","note":"","ucode":"2C28E8E54DAB4E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389431,"discussion_content":"é»˜è®¤æ˜¯10ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629275257,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1311254,"avatar":"https://static001.geekbang.org/account/avatar/00/14/02/16/6fe3fe44.jpg","nickname":"tangzc1","note":"","ucode":"78CB596D2F33DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3581,"discussion_content":"å¤§æ¦‚æ˜¯10","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564617871,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":34918,"user_name":"Tylar","can_delete":false,"product_type":"c1","uid":1219676,"ip_address":"","ucode":"682412C5E7540D","user_header":"https://static001.geekbang.org/account/avatar/00/12/9c/5c/69ca7575.jpg","comment_is_top":false,"comment_ctime":1540353510,"is_pvip":false,"replies":[{"id":"12539","content":"dnsæ’ä»¶æœ‰é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1540440040,"ip_address":"","comment_id":34918,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1540353510","product_id":100015201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹è¿è¡Œä¸€æ®µæ—¶é—´ä»¥åï¼Œåœ¨å®¹å™¨ä¸­æ— æ³•é€šè¿‡å…¶ä»–å®¹å™¨çš„podåè§£æå‡ºå¯¹åº”çš„å®¹å™¨ipæ˜¯ä»€ä¹ˆæƒ…å†µå‘¢","like_count":0,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":427388,"discussion_content":"dnsæ’ä»¶æœ‰é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1540440040,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1111120,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f4/50/3b604b3b.jpg","nickname":"chenjt","note":"","ucode":"341AF6A98B32DB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":25026,"discussion_content":"è¯·é—®  æ€ä¹ˆé€šè¿‡podåç§°è·å–å¯¹åº”çš„ip?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570371839,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":32313,"user_name":"xjjksj","can_delete":false,"product_type":"c1","uid":1029446,"ip_address":"","ucode":"2322DB549D387F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b5/46/fb410a77.jpg","comment_is_top":false,"comment_ctime":1539524953,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1539524953","product_id":100015201,"comment_content":"å¼ è€å¸ˆï¼Œæˆ‘è¿è¡Œrollout historyä¸€ç›´éƒ½æ˜¯kubectl create â€”filename=nginx-deployment.yanl â€”recordï¼Œæ²¡æœ‰editã€set imageï¼Œhaoâ€†qiâ€†gâ€†w","like_count":0,"discussions":[{"author":{"id":1026608,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/aa/30/acc91f01.jpg","nickname":"honnkyou","note":"","ucode":"FD5EC4120EE803","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295086,"discussion_content":"edit ä¹Ÿæ˜¯æœ‰--record å‚æ•°çš„åº”è¯¥ä¹Ÿéœ€è¦åŠ ä¸Š\n$ kubectl edit deployments nginx-deployment --record","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1596085409,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1311254,"avatar":"https://static001.geekbang.org/account/avatar/00/14/02/16/6fe3fe44.jpg","nickname":"tangzc1","note":"","ucode":"78CB596D2F33DC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3582,"discussion_content":"åŒé—®ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564617907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":30476,"user_name":"ä»˜ç›¼æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1055542,"ip_address":"","ucode":"E0E4B74E8B361F","user_header":"https://static001.geekbang.org/account/avatar/00/10/1b/36/abe6d066.jpg","comment_is_top":false,"comment_ctime":1538881150,"is_pvip":false,"replies":[{"id":"11024","content":"imagepullpolicy=always ","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1538953710,"ip_address":"","comment_id":30476,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1538881150","product_id":100015201,"comment_content":"è€å¸ˆå¥½ï¼Œå¦‚æœä¸ä¿®æ”¹é•œåƒåç§°å’Œtagï¼Œå¦‚ä½•åšåˆ°å¼ºåˆ¶æ‹‰å–é•œåƒï¼Œè§¦å‘æ›´æ–°ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":426017,"discussion_content":"imagepullpolicy=always ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1538953710,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":29468,"user_name":"uncleli","can_delete":false,"product_type":"c1","uid":1088359,"ip_address":"","ucode":"0215D0D7735592","user_header":"","comment_is_top":false,"comment_ctime":1538383215,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1538383215","product_id":100015201,"comment_content":"k8sè®¾è®¡çš„çœŸå¥½ï¼Œè€å¸ˆè®²çš„ä¹ŸçœŸæ˜¯å¥½ï¼","like_count":0},{"had_liked":false,"id":29372,"user_name":"æ··æ²Œæ¸ºæ— æ","can_delete":false,"product_type":"c1","uid":1221896,"ip_address":"","ucode":"A8517768BF1E77","user_header":"https://static001.geekbang.org/account/avatar/00/12/a5/08/10b18682.jpg","comment_is_top":false,"comment_ctime":1538360048,"is_pvip":false,"replies":[{"id":"10566","content":"æœ‰é—®é¢˜çš„æ—¶å€™å†çœ‹ä¸è¿Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_6ef93d","uid":"1218095","ctime":1538373617,"ip_address":"","comment_id":29372,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1538360048","product_id":100015201,"comment_content":"å›½åº†ç¬¬ä¸€å¤© çœ‹åˆ°å¹²è´§ï¼<br>ç©k8så¤šä¹…å å¯ä»¥å°è¯•çœ‹æºç å‘¢ï¼Ÿæºç å…¥é—¨ï¼Œå¤§ä½¬ä¼šå‡ºæ–‡ç« å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1218095,"avatar":"https://static001.geekbang.org/account/avatar/00/12/96/2f/876085fa.jpg","nickname":"å¼ ç£Š Kubernetes","note":"","ucode":"16E29BDAB1F5BC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":425567,"discussion_content":"æœ‰é—®é¢˜çš„æ—¶å€™å†çœ‹ä¸è¿Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1538373617,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":29364,"user_name":"é’å³°","can_delete":false,"product_type":"c1","uid":1215903,"ip_address":"","ucode":"6FB19A41AC7232","user_header":"https://static001.geekbang.org/account/avatar/00/12/8d/9f/776d9b2e.jpg","comment_is_top":false,"comment_ctime":1538358567,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1538358567","product_id":100015201,"comment_content":"å¾ˆæ£’ï¼å“ˆå“ˆğŸ˜„ã€‚å›½åº†ç¤¼ç‰©æœç„¶æ²¡è®©æˆ‘å¤±æœ›ï¼","like_count":0}]}
{"id":503115,"title":"04ï½œStateï¼šå¦‚ä½•è®©é¡µé¢â€œåŠ¨â€èµ·æ¥ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯è’‹å®ä¼Ÿã€‚</p><p>é‚£ä¹ˆè¿™ä¸€è®²ï¼Œæˆ‘ä»¬æ¥è®²æ­å»ºé¡µé¢çš„ç¬¬äºŒæ­¥ï¼Œè®©é¡µé¢â€œåŠ¨â€èµ·æ¥ï¼Œè¿™é‡Œçš„â€œåŠ¨â€è¯´çš„æ˜¯åœ¨ä¸åŒåœºæ™¯ä¸‹ï¼Œè®©é¡µé¢å±•ç¤ºå‡ºä¸åŒçš„å†…å®¹ã€‚</p><p>æ€ä¹ˆè®©é¡µé¢â€œåŠ¨â€èµ·æ¥å‘¢ï¼Ÿè¿™å°±è¦ç”¨åˆ°çŠ¶æ€ State äº†ã€‚</p><p>ä¸€ä¸ªé¡µé¢ä¹Ÿå¥½ï¼Œä¸€ä¸ªåº”ç”¨ä¹Ÿå¥½ï¼Œåªæœ‰æŠŠçŠ¶æ€è®¾è®¡æ¸…æ¥šäº†ï¼Œç¨‹åºæ‰èƒ½å†™å¾—å¥½ã€‚è®²åˆ°çŠ¶æ€ï¼Œæœ‰äº›äººå¯èƒ½ä¼šè¯´ï¼ŒçŠ¶æ€ä¸å°±æ˜¯é¡µé¢ä¸­é‚£äº›ä¼šâ€œåŠ¨â€çš„æ•°æ®å—ï¼Ÿè¿™å¾ˆç®€å•ï¼Œè¿˜æœ‰ä»€ä¹ˆå¥½è®²çš„ã€‚</p><p>è¿™æ²¡é”™ï¼ŒçŠ¶æ€ç¡®å®æ˜¯é¡µé¢ä¸­ä¼šâ€œåŠ¨â€çš„æ•°æ®ï¼Œä½†æ˜¯è¦æŠŠçŠ¶æ€ç”¨å¥½ä¸å®¹æ˜“ï¼Œæœ‰æ—¶å€™å®¹æ˜“æŠŠçŠ¶æ€è®¾è®¡å¤æ‚äº†ï¼Œä¸ä»…ä»£ç è¦å†™å¾—æ›´å¤šï¼Œè¿˜å®¹æ˜“å¯¼è‡´ç¨‹åºç»´æŠ¤èµ·æ¥æ›´éº»çƒ¦ã€‚</p><p>è¿™æ¬¡ï¼Œæˆ‘ä¼šä»¥æ­å»ºä¸€ä¸ªä¼šâ€œåŠ¨â€çš„ç®€æ˜“è´­ç‰©è½¦é¡µé¢ä¸ºä¾‹ï¼Œå’Œä½ åˆ†äº«ä¸‹æˆ‘åœ¨è¿™æ–¹é¢çš„ç»éªŒã€‚ç®€æ˜“è´­ç‰©è½¦é¡µé¢æ˜¯è¿™æ ·çš„ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/dd/9e/dd69765bb8fcb1f9dffyy2df4d2b789e.png?wh=1000x784\" alt=\"å›¾ç‰‡\"></p><p>å®ƒæ¯”ä¸Šä¸€è®²çš„å•†å“è¡¨å•é¡µå¤šäº†ä¸€äº›äº¤äº’ï¼Œå®ƒçš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯ä»ç½‘ç»œè¯·æ±‚è¿‡æ¥çš„ï¼Œè¿™äº›æ•°æ®åŒ…æ‹¬å•†å“åç§°ã€å•†å“ä»·æ ¼ã€å•†å“æ•°é‡ï¼Œæ•°æ®ä»ç½‘ç»œè¯·æ±‚å›æ¥åä¼šå±•ç¤ºåœ¨é¡µé¢ä¸Šã€‚ä½ å¯ä»¥ç‚¹å‡»é¡µé¢ä¸­çš„åŠ å·æˆ–å‡å·ï¼Œæ¥æ·»åŠ æ•°é‡æˆ–å‡å°‘å•†å“æ•°é‡ï¼Œåº•éƒ¨çš„ç»“ç®—æ€»ä»·ä¼šéšç€å•†å“æ•°é‡çš„å˜åŒ–è€Œå˜åŒ–ã€‚</p><p>è¦å®ç°è¿™ä¸ªç®€æ˜“è´­ç‰©è½¦çš„é™æ€å¾ˆç®€å•ï¼Œå®ƒåªåŒ…æ‹¬ä¸¤ä¸ªç»„ä»¶ï¼Œå•†å“è¡¨å•ç»„ä»¶ ProductTable å’Œå•†å“ç»„ä»¶  ProductRowã€‚å®Œæˆé™æ€é¡µé¢çš„æ­å»ºåï¼Œæ¥ä¸‹æ¥å°±<strong>è¦è®©é¡µé¢â€œåŠ¨â€èµ·æ¥äº†</strong>ï¼Œæˆ‘æŠŠè¿™ä¸ªè¿‡ç¨‹åˆ†æˆäº† 4 æ­¥æ¥å®ç°ï¼ŒçŠ¶æ€åˆé€‰ã€çŠ¶æ€ç¡®å®šã€çŠ¶æ€å£°æ˜ã€çŠ¶æ€æ›´æ–°ã€‚</p><!-- [[[read_end]]] --><h2>ç¬¬ä¸€æ­¥ï¼šçŠ¶æ€åˆé€‰</h2><p>çŠ¶æ€åˆé€‰è¯´çš„æ˜¯ï¼Œå…ˆçœ‹çœ‹é¡µé¢é‚£äº›æ•°æ®æ˜¯ä¼šå˜åŒ–çš„ï¼Œè¿™äº›ä¼šå˜åŒ–çš„æ•°æ®éƒ½å¯èƒ½æ˜¯çŠ¶æ€ï¼Œæˆ‘ä»¬å…ˆæŠŠå®ƒä»¬æ‰¾å‡ºæ¥ã€‚</p><p>ç¨‹åºæœ¬èº«çš„äº‹ä»¶å’Œç”¨æˆ·æ“ä½œéƒ½æœ‰å¯èƒ½å¯¼è‡´é¡µé¢å‘ç”Ÿå˜åŒ–ï¼Œå› æ­¤æˆ‘ä»¬ä»è¿™ä¸¤ä¸ªæ–¹å‘æ¥è¿›è¡Œåˆé€‰ã€‚</p><p>ç¨‹åºæœ¬èº«çš„äº‹ä»¶ï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚ã€ setTimeoutï¼Œéƒ½å¯èƒ½å¯¼è‡´é¡µé¢å‘ç”Ÿå˜åŒ–ã€‚åœ¨è´­ç‰©è½¦é¡µé¢ä¸­ï¼Œå•†å“åˆ—è¡¨çš„æ•°æ®æ˜¯ä»æœåŠ¡ç«¯è¯·æ±‚è¿‡æ¥ï¼Œåœ¨åˆ—è¡¨æ•°æ®ä»æœåŠ¡ç«¯å›æ¥ä¹‹å‰ï¼Œé¡µé¢æ˜¯ç©ºç™½çš„ï¼Œåœ¨è¯·æ±‚è¿‡ç¨‹ä¸­ä¼šæœ‰åŠ è½½æç¤ºï¼Œè¯·æ±‚æˆåŠŸåè´­ç‰©è½¦é¡µé¢å°±ä¼šå±•ç¤ºå‡ºæ¥ï¼Œå½“ç„¶è¿˜è¦æŠŠè¯·æ±‚å¤±è´¥çš„æƒ…å†µè€ƒè™‘è¿›å»ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘åœˆé€‰å‡ºæ¥çš„ç¬¬ä¸€æ¡åŠ¨æ€æ•°æ®æ˜¯è¯·æ±‚è¿‡ç¨‹ï¼Œç¬¬äºŒæ¡æ˜¯å¯èƒ½çš„è¯·æ±‚å¤±è´¥æƒ…å†µï¼›ç¬¬ä¸‰æ¡æ˜¯å•†å“è¡¨å•æœ¬èº«ï¼Œç¬¬å››æ¡æ˜¯æ‰€æœ‰å•†å“çš„ç»“ç®—æ€»ä»·ã€‚</p><p>ç”¨æˆ·æ“ä½œï¼Œæ¯”å¦‚ç‚¹å‡»ã€æ»‘åŠ¨ã€ç¼©æ”¾ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´é¡µé¢å‘ç”Ÿå˜åŒ–ã€‚åœ¨è´­ç‰©è½¦é¡µé¢ä¸­ï¼Œç”¨æˆ·ç‚¹å‡»åŠ å·è´­ç‰©è½¦ä¸­çš„å•†å“æ•°é‡ä¼šå¢åŠ ï¼Œç‚¹å‡»å‡å·æ•°é‡ä¼šå‡å°‘ã€‚åæ˜ å•†å“æ•°é‡çš„æ•°æ®ï¼Œå°±æ˜¯ç¬¬äº”æ¡çš„åŠ¨æ€æ•°æ®ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘å·²ç»æŠŠè¿™ 5 ä¸ªåˆé€‰çš„çŠ¶æ€ç»™ä½ åœ¨å›¾ä¸­æ ‡å‡ºæ¥äº†ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/43/f3/43bc848544fb40b449c097e6054ac0f3.png?wh=1920x1541\" alt=\"å›¾ç‰‡\"></p><h2>ç¬¬äºŒæ­¥ï¼šçŠ¶æ€ç¡®å®š</h2><p>æœ‰äº›äººå®ŒæˆçŠ¶æ€åˆé€‰è¿™ä¸€æ­¥åï¼Œå°±ç›´æ¥å†™èµ·ä»£ç æ¥äº†ï¼Œä¸€å£æ°”å£°æ˜äº† 5 ä¸ªçŠ¶æ€ï¼Œç„¶åæƒ³åŠæ³•å»æ“ä½œè¿™ 5 ä¸ªçŠ¶æ€å¦‚ä½•å˜åŒ–ã€‚</p><p>ä½†æˆ‘çš„ç»éªŒæ˜¯ï¼ŒçŠ¶æ€åˆé€‰å®Œæˆåï¼Œä¸èƒ½æ€¥ç€å†™ä»£ç ï¼Œè¦å…ˆç¡®å®šä¸€ä¸‹è¿™äº›åˆé€‰çŠ¶æ€ä¸­é‚£äº›æ˜¯çœŸæ­£çš„çŠ¶æ€ï¼ŒæŠŠå…¶ä¸­æ— ç”¨çš„çŠ¶æ€å‰”é™¤æ‰ï¼Œç„¶åå†å»å†™ä»£ç ã€‚è¿™æ ·ä»£ç å†™å¾—å°‘ã€å†™å¾—å¿«ï¼Œä»£ç é€»è¾‘ä¹Ÿä¼šæ›´ç®€å•ä¸€äº›ï¼Œä¹Ÿæ›´éš¾å‡º BUG ä¸€äº›ã€‚</p><p>è¿™äº›éƒ½æ˜¯æˆ‘ä»¬è¦åœ¨çŠ¶æ€ç¡®å®šè¿™ä¸€æ­¥è¦åšçš„ï¼Œæˆ‘æ€»ç»“äº†ä¸‰æ¡ç»éªŒï¼š</p><p><strong>é¦–å…ˆï¼Œä¸€ä»¶äº‹æƒ…ä¸€ä¸ªçŠ¶æ€ã€‚</strong>æˆ‘å‘ç°æœ‰äº›åŒå­¦å†™ä»£ç çš„æ—¶å€™ï¼Œåœ¨å®šä¹‰è¯·æ±‚çŠ¶æ€æ—¶ï¼Œå–œæ¬¢ç”¨å¸ƒå°”å€¼ isLoading æ¥è¡¨ç¤ºç©ºé—²çŠ¶æ€æˆ–è¯·æ±‚ä¸­çš„çŠ¶æ€ï¼Œç”¨ isError æ¥è¡¨ç¤ºæˆåŠŸçŠ¶æ€æˆ–å¤±è´¥çŠ¶æ€ï¼Œæ˜æ˜å°±æ˜¯ç½‘ç»œè¯·æ±‚è¿™ä¸€ä»¶äº‹ï¼Œå´ç”¨äº†ä¸¤ä¸ªçŠ¶æ€æ¥è¡¨ç¤ºï¼Œè¿™å°±æœ‰ç‚¹å¤šä½™äº†ï¼Œç”šè‡³åœ¨ä¸€äº›ä¸å¥½æµ‹è¯•çš„è¾¹ç•Œæ¡ä»¶ä¸‹å¯èƒ½è¿˜ä¼šç•™å‘ã€‚</p><p>è¿™æ—¶å…¶å®åªéœ€è¦å®šä¹‰ä¸€ä¸ªçŠ¶æ€ ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">const requestStatus = {\n  IDLE : 'IDLE',\n  PENDING : 'PENDING',\n  SUCCESS : 'SUCCESS',\n  ERROR : 'ERROR',\n}\n</code></pre><p>è¿™é‡Œï¼Œæˆ‘å®šä¹‰çš„æ˜¯ä¸€ä¸ªæšä¸¾å¯¹è±¡ requestStatusï¼Œç”¨å®ƒæ¥è¡¨ç¤ºè¯·æ±‚çŠ¶æ€ã€‚è¿™ä¸ªå¯¹è±¡æœ‰ 4 ä¸ªå€¼ï¼ŒåŒ…æ‹¬è¯·æ±‚ç©ºé—²IDLEã€è¯·æ±‚ä¸­PENDINGã€è¯·æ±‚æˆåŠŸSUCCESSã€è¯·æ±‚å¤±è´¥ERRORã€‚ä½ çœ‹ï¼Œç”¨ä¸€ä¸ªçŠ¶æ€æ˜¯ä¸æ˜¯æ¯”ç”¨ä¸¤ä¸ªçŠ¶æ€æ›´åŠ è´´åˆè¯·æ±‚çš„å®é™…æƒ…å†µå‘¢ï¼Ÿ</p><p><strong>ç¬¬äºŒï¼Œé‡å¤çŠ¶æ€ä¸æ˜¯çŠ¶æ€ã€‚</strong>å•†å“ç»„ä»¶ ProductRow ä¸­çš„è¿™ä¸ªå•†å“æ•°é‡ç¡®å®æ˜¯ä¸€ä¸ªçŠ¶æ€ï¼Œä½†å®ƒå´å’Œä»ç½‘ç»œè¯·æ±‚ä¸­å›æ¥çš„å•†å“è¡¨å•çŠ¶æ€é‡å¤äº†ã€‚ä»ä»£ç å±‚é¢ä¸Šï¼Œæˆ‘ä»¬ç¡®å®æœ‰åŠæ³•åŒæ—¶ä¿ç•™ä¸¤ä¸ªçŠ¶æ€ï¼Œä½†è¿™æ ·åšå°±ç»•å¼¯å­äº†ã€‚</p><p>æ›´å¥½çš„åšæ³•æ˜¯ï¼ŒæŠŠè¿™ä¸¤ä¸ªåœ¨ä¸åŒç»„ä»¶ä¹‹é—´çš„é‡å¤çŠ¶æ€è¿›è¡Œåˆå¹¶ï¼Œå»æ‰åº•å±‚ç»„ä»¶çš„é‡å¤çŠ¶æ€ï¼Œåªä¿ç•™é¡¶å±‚ç»„ä»¶ä¸­çš„å•†å“æ•°é‡ä½œä¸ºå”¯ä¸€çš„çŠ¶æ€ã€‚</p><p><strong>æœ€åï¼Œå¯è®¡ç®—å‡ºæ¥çš„çŠ¶æ€ä¸æ˜¯çŠ¶æ€ã€‚</strong>ä¸€ä¸ªçŠ¶æ€å¿…é¡»ä¸èƒ½é€šè¿‡å…¶ä»–çŠ¶æ€ã€å±æ€§æˆ–å˜é‡ç›´æ¥è®¡ç®—å‡ºæ¥ï¼Œèƒ½é€šè¿‡å…¶ä»–å€¼è®¡ç®—å‡ºæ¥çš„çŠ¶æ€ï¼Œéƒ½ä¸æ˜¯çŠ¶æ€ã€‚æ¯”å¦‚ï¼Œåœ¨è´­ç‰©è½¦é¡µé¢ä¸­ï¼Œç»“ç®—æ€»ä»·è¿™ä¸ªåŠ¨æ€æ•°æ®ï¼Œæ˜¯å¯ä»¥é€šè¿‡å¯¹æ‰€æœ‰å•†å“çš„å•ä»·å’Œæ•°é‡çš„ç§¯è¿›è¡Œæ±‚å’Œå¾—å‡ºæ¥çš„ï¼Œæ‰€ä»¥å®ƒä¸æ˜¯çŠ¶æ€ã€‚</p><pre><code class=\"language-plain\">ç»“ç®—æ€»ä»· = âˆ‘(å•†å“çš„å•ä»· * æ•°é‡)\n</code></pre><p>åˆé€‰çš„çŠ¶æ€ç»è¿‡ä»¥ä¸Šä¸‰æ­¥ç­›é€‰ä¹‹åï¼Œåˆå¹¶äº†â‘ è¯·æ±‚ä¸­å’Œâ‘¡è¯·æ±‚å¤±è´¥ï¼Œé¿å…äº†é‡å¤æ•°æ®â‘¢å•†å“åˆ—è¡¨å’Œâ‘¤å•†å“æ•°é‡ï¼Œæ ¹æ®å·²æœ‰çŠ¶æ€æ¨å¯¼å‡ºäº†â‘£ç»“ç®—æ€»ä»·ã€‚åˆé€‰çŠ¶æ€ä¸€å…± 5 ä¸ªï¼Œæœ€ç»ˆç¡®å®šä¸‹æ¥å°±åªå‰©ä¸‹ç½‘ç»œè¯·æ±‚çŠ¶æ€å’Œå•†å“åˆ—è¡¨è¿™ä¸¤ä¸ªçŠ¶æ€äº†ã€‚</p><p>åªæœ‰ç¡®å®šçŠ¶æ€è¿™ä¸€æ­¥åšå¥½äº†ï¼Œä½ å£°æ˜çŠ¶æ€å’Œæ”¹å˜çŠ¶æ€ï¼Œæ‰ä¼šå˜å¾—å®¹æ˜“ã€‚</p><h2>ç¬¬ä¸‰æ­¥ï¼šçŠ¶æ€å£°æ˜</h2><p>React æä¾›äº† useState çŠ¶æ€å£°æ˜å‡½æ•°ï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥ç®¡ç†å‡½æ•°ç»„ä»¶çš„çŠ¶æ€ã€‚</p><p>ä½¿ç”¨ useState å£°æ˜çŠ¶æ€æ—¶ï¼ŒçŠ¶æ€å’Œç»„ä»¶æ˜¯ç»‘å®šçš„å…³ç³»ï¼ŒuseState åœ¨å“ªä¸ªç»„ä»¶ä¸­ä½¿ç”¨ï¼Œå®ƒç”Ÿæˆçš„çŠ¶æ€å°±å±äºé‚£ä¸ªç»„ä»¶ã€‚ç”±äºå•å‘æ•°æ®æµçš„åŸå› ï¼ŒReact æŠŠçˆ¶ç»„ä»¶çš„çŠ¶æ€ä¼ ç»™å­ç»„ä»¶åªéœ€è¦ä¼ ä¸€æ¬¡ï¼Œä¼ ç»™å­å­ç»„ä»¶éœ€è¦ä¼ é€’ä¸¤æ¬¡ã€‚</p><p>å› æ­¤ï¼Œä½ åœ¨å®šä¹‰çŠ¶æ€çš„æ—¶å€™ï¼Œä¸€å®šè¦å…ˆè€ƒè™‘å¥½æŠŠçŠ¶æ€ç»‘å®šåˆ°å“ªä¸ªç»„ä»¶ä¸Šã€‚æˆ‘å»ºè®®ä½ ç”¨<strong>å°±è¿‘åŸåˆ™</strong>æ¥ç»‘å®šçŠ¶æ€ï¼Œå°±è¿‘åŸåˆ™çš„æ„æ€æ˜¯å“ªä¸ªç»„ä»¶ç”¨ä¸Šäº†çŠ¶æ€ï¼Œå°±ä¼˜å…ˆè€ƒè™‘å°†çŠ¶æ€ç»‘å®šåˆ°è¯¥ç»„ä»¶ä¸Šï¼Œå¦‚æœæœ‰å¤šä¸ªç»„ä»¶ä½¿ç”¨äº†åŒä¸€ä¸ªçŠ¶æ€ï¼Œåˆ™å°†å…¶ç»‘å®šåˆ°æœ€è¿‘çš„çˆ¶ç»„ä»¶ä¸Šã€‚è¿™æ ·åšèƒ½è®©ä½¿ç”¨ props ä¼ é€’çŠ¶æ€çš„æ¬¡æ•°æœ€å°‘ã€‚</p><p>åœ¨æˆ‘ä»¬çš„è´­ç‰©è½¦æ¡ˆä¾‹é‡Œï¼Œä½ ä½¿ç”¨å°±è¿‘åŸåˆ™åˆ¤æ–­ä¸€ä¸‹ï¼Œ<s>ä½ </s>å°±å¯ä»¥ç¡®å®šè´­ç‰©è½¦é¡µé¢çš„ä¸¤ä¸ªçŠ¶æ€ï¼Œå…¶å®æ”¾åœ¨ ProductTable ç»„ä»¶ä¸­æ¯”è¾ƒåˆé€‚ã€‚</p><p>é‚£æ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯ï¼ŒçŠ¶æ€å£°æ˜ä»£ç åº”è¯¥å¦‚ä½•å†™ï¼Ÿ</p><p>é¦–å…ˆï¼Œæˆ‘éœ€è¦å’Œä½ å¼ºè°ƒçš„æ˜¯ï¼Œåœ¨ React/React Native ä¸­ï¼Œæ‰€æœ‰ä½¿ç”¨ use å¼€å¤´çš„å‡½æ•°ï¼Œæ¯”å¦‚æ¥ä¸‹æ¥è¦ç”¨åˆ° useState å‡½æ•°ï¼Œå®ƒä»¬éƒ½å«<strong>é’©å­å‡½æ•°ï¼ˆhook functionï¼‰</strong>ã€‚å’Œæ™®é€šå‡½æ•°ä¸åŒï¼Œä½ ä¸èƒ½æŠŠé’©å­å‡½æ•°å†™åœ¨ if æ¡ä»¶åˆ¤æ–­ä¸­ã€äº‹ä»¶å¾ªç¯ä¸­ã€åµŒå¥—çš„å‡½æ•°ä¸­ï¼Œè¿™äº›éƒ½ä¼šå¯¼è‡´æŠ¥é”™ã€‚</p><p>é’©å­å‡½æ•°ç±»ä¼¼äº JavaScript çš„ <code>import</code> ï¼Œä½ æœ€å¥½åœ¨å‡½æ•°ç»„ä»¶çš„é¡¶éƒ¨ä½¿ç”¨å®ƒä»¬ã€‚</p><p>å…·ä½“å£°æ˜å•†å“è¡¨å•çŠ¶æ€ products å’Œè¯·æ±‚çŠ¶æ€ requestStatus ä»£ç æ˜¯è¿™æ ·çš„ï¼š</p><pre><code class=\"language-plain\">import React, {useState} from 'react';\n\nexport default function ProductTable() {\n  const [products, setProducts] = useState([]);\n  const [requestStatus, setRequestStatus] = useState('IDLE');\n  // ...\n}\n</code></pre><p>åœ¨æ–‡ä»¶çš„ç¬¬ä¸€è¡Œä»£ç ä¸­ï¼Œæˆ‘ä»¬ä» React ä¸­å¼•å…¥ useState å‡½æ•°ï¼Œç„¶ååœ¨å‡½æ•°ç»„ä»¶ ProductTable çš„é¡¶éƒ¨ä½¿ç”¨äº† useState å£°æ˜äº†ä¸¤ä¸ªçŠ¶æ€ã€‚</p><p>useState å‡½æ•°çš„å…¥å‚æ˜¯çŠ¶æ€çš„é»˜è®¤å€¼ï¼Œå‡½æ•°çš„è¿”å›å€¼æ˜¯çŠ¶æ€å’Œæ›´æ–°è¯¥çŠ¶æ€çš„å‡½æ•°ã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨ useState å‡½æ•°åï¼Œå°±ç”Ÿæˆäº†é»˜è®¤å€¼æ˜¯ç©ºæ•°ç»„<code>[]</code> çš„å•†å“è¡¨å•çŠ¶æ€ <code>products</code> ï¼Œä»¥åŠè®¾ç½®è¯¥çŠ¶æ€çš„å‡½æ•°<code>setProducts</code>ã€‚ç¬¬äºŒæ¬¡è°ƒç”¨ useState å‡½æ•°åç”Ÿæˆäº†é»˜è®¤å€¼æ˜¯å­—ç¬¦ä¸²<code>'IDLE'</code> çš„è¯·æ±‚çŠ¶æ€ requestStatus ï¼Œä»¥åŠè®¾ç½®è¯¥çŠ¶æ€çš„å‡½æ•°å«åš<code>setRequestStatus</code>ã€‚</p><p>å¦‚æœåœ¨ if ä¸­ä½¿ç”¨äº†ä»»ä½•çš„é’©å­å‡½æ•°ï¼Œå°±ä¼šæŠ¥é”™ï¼š</p><pre><code class=\"language-plain\">import React, {useState, useEffect} from 'react';\n\n// é”™è¯¯\nexport default function ProductTable() {\n  const [requestStatus, setRequestStatus] = useState('IDLE');\n  // ...\n  if(requestStatus === 'ERROR') return &lt;Text&gt;ç½‘ç»œå‡ºé”™äº†&lt;/Text&gt;\n\n  // åœ¨ else åˆ†æ”¯ä¸­ï¼Œä½¿ç”¨ä»»ä½• use å¼€å¤´çš„é’©å­å‡½æ•°ï¼Œéƒ½ä¼šæŠ¥é”™\n  const [products, setProducts] = useState([]);\n  useEffect(() =&gt; {})\n  \n  return &lt;Text&gt;è´­ç‰©è½¦é¡µé¢&lt;/Text&gt;\n}\n</code></pre><p>åœ¨è¿™ä¸ªé”™è¯¯ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å…ˆä½¿ç”¨äº† <code>if(requestStatus === 'ERROR')</code> åˆ¤æ–­äº†ç½‘ç»œè¯·æ±‚çŠ¶æ€ã€‚å¦‚æœè¯·æ±‚å¤±è´¥ï¼Œåˆ™æç¤ºç”¨æˆ·â€œç½‘ç»œå‡ºé”™äº†â€ï¼Œå¦åˆ™å°±è¿”å›çœŸæ­£çš„è´­ç‰©è½¦é¡µé¢ã€‚ä½† <code>if return</code> åé¢çš„ä»£ç ï¼Œå°±ç›¸å½“äº<code>else</code>åˆ†æ”¯ï¼Œåœ¨åˆ†æ”¯ä¸­ä½¿ç”¨äº†é’©å­å‡½æ•°ï¼Œæ¯”å¦‚ useStateã€useEffectï¼Œä»£ç å°±ä¼šæŠ¥é”™ã€‚</p><p>å‡ºç°è¿™ç§æŠ¥é”™ï¼Œæ˜¯å› ä¸º if ç ´åäº† React çš„ <a href=\"https://zh-hans.reactjs.org/docs/hooks-rules.html\">Hook è§„åˆ™</a>ã€‚åœ¨ React çš„ Hook æœºåˆ¶ä¸­ï¼Œæ˜¯æŠŠ Hook çš„è°ƒç”¨é¡ºåºä½œä¸ºç´¢å¼•ï¼Œç”¨å®ƒæŠŠ React æ¡†æ¶å†…éƒ¨ state å’Œå…¶å‡½æ•°ç»„ä»¶çš„ useState è¿”å›å€¼ä¸­çš„ state ç»™å…³è”èµ·æ¥äº†ã€‚å½“ä½ ä½¿ç”¨äº† if çš„æ—¶å€™ï¼Œå°±å®¹æ˜“ç ´å Hook çš„è°ƒç”¨é¡ºåºï¼Œå¯¼è‡´ React ä¸èƒ½æ­£ç¡®åœ°å°†æ¡†æ¶å†…éƒ¨ state ä¸å‡½æ•°ç»„ä»¶ useState çš„è¿”å›å€¼å…³è”èµ·æ¥ï¼Œå› æ­¤ React åœ¨æ‰§è¡Œçš„æ—¶å€™å°±ä¼šæŠ¥é”™ã€‚</p><p>æœ‰æ—¶å€™ä¸€ä¸ªå‡½æ•°ç»„ä»¶å¾ˆé•¿ï¼Œå†™åˆ°åé¢äº†ï¼Œå‰é¢çš„ä¸€äº›é€»è¾‘å°±è®°ä¸é‚£ä¹ˆæ¸…æ¥šäº†ï¼Œå¦‚æœä»£ç å†™åˆ°å“ªå°±åœ¨å“ªå„¿å£°æ˜ä¸€ä¸ªæ–°çŠ¶æ€ï¼Œä¸€ä¸å°å¿ƒå°±å¯èƒ½ä¼šè¸©å‘ã€‚å› æ­¤ï¼Œä½ åº”è¯¥æŠŠ use å¼€å¤´çš„é’©å­å‡½æ•°éƒ½å†™åœ¨ç»„ä»¶çš„é¡¶éƒ¨ï¼ŒæŠŠ JSX éƒ½å†™åœ¨å‡½æ•°ç»„ä»¶çš„æœ€åé¢ï¼Œå¹¶ä½¿ç”¨ <a href=\"https://www.npmjs.com/package/eslint-plugin-react-hooks\">eslint-plugin-react-hooks</a> æ’ä»¶æ¥ä¿éšœ Hook è§„åˆ™çš„ä¼šè¢«æ­£ç¡®æ‰§è¡Œã€‚</p><h2>ç¬¬å››æ­¥ï¼šçŠ¶æ€æ›´æ–°</h2><p>ç°åœ¨ï¼Œåˆ°äº†æœ€åä¸€æ­¥äº†ã€‚ä¸è¿‡ï¼Œè¿™ä¸€æ­¥ä¸­æ¶‰åŠè´­ç‰©è½¦é¡µé¢ä¸šåŠ¡å®ç°é€»è¾‘çš„éƒ¨åˆ†ï¼Œæˆ‘å°±ä¸ä¸€ä¸€ä»‹ç»äº†ï¼Œå…·ä½“å®ç°ä»£ç æˆ‘æ”¾åˆ°äº†é™„åŠ ææ–™ä¸­ï¼Œè¿™é‡Œæˆ‘æƒ³é‡ç‚¹å’Œä½ å¼ºè°ƒçš„æ˜¯å¦‚ä½•æ›´æ–°å¯¹è±¡ç±»å‹çš„çŠ¶æ€ã€‚</p><p>åœ¨ JavaScript ä¸­çš„æ•°æ®ç±»å‹å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œå¯¹è±¡æ•°æ®ç±»å‹ï¼ˆObjectsï¼‰å’ŒåŸå§‹æ•°æ®ç±»å‹ï¼ˆPrimitive valuesï¼‰ï¼Œå¯¹è±¡æ•°æ®ç±»å‹åŒ…æ‹¬å¯¹è±¡ï¼ˆObjectï¼‰ã€æ•°ç»„ï¼ˆArrayï¼‰ï¼ŒåŸå§‹æ•°æ®ç±»å‹æœ‰ 7 ç§ï¼Œæ¯”å¦‚æ•°å­—ï¼ˆnumberï¼‰ã€å­—ç¬¦ä¸²ï¼ˆstringï¼‰ç­‰ç­‰ã€‚</p><p>åœ¨ React/React Native ä¸­ï¼Œä½¿ç”¨è¿™ä¸¤ç±»æ•°æ®ç±»å‹ä½œä¸ºçŠ¶æ€éƒ½æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ›´æ–°è¿™ä¸¤ç±»çŠ¶æ€çš„æ–¹æ³•ä¸ä¸€æ ·ï¼Œå¦‚æœä½ æ²¡æœ‰ç†è§£æ¸…æ¥šäºŒè€…çš„åŒºåˆ«ï¼Œå°±å®¹æ˜“å‡ºç°ä¸€äº›ä½çº§çš„ BUGã€‚</p><p>æˆ‘ä»¬å…ˆæ¥çœ‹åŸå§‹æ•°æ®ç±»å‹çš„çŠ¶æ€å¦‚ä½•æ›´æ–°ã€‚</p><p>åœ¨è´­ç‰©è½¦é¡µé¢ä¸­ï¼Œå•†å“æ•°é‡å¯ä»¥é€šè¿‡ç‚¹å‡»åŠ å·è¿›è¡ŒåŠ ä¸€ï¼Œé€šè¿‡ç‚¹å‡»å‡å·å‡ä¸€ã€‚æˆ‘ä»¬ç”¨åŸå§‹æ•°æ®ç±»å‹æ•°å­—æ¥è¡¨ç¤ºå•†å“æ•°é‡çŠ¶æ€ï¼Œå…¶ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">export default function Count() {\n  const [count, setCount] = useState(0);\n\n  return (\n    &lt;View&gt;\n      &lt;Text&gt;{count}&lt;/Text&gt;\n      &lt;Button title=\"+\" onPress={() =&gt; setCount(count + 1)} /&gt;\n      &lt;Button title=\"-\" onPress={() =&gt; setCount(count - 1 &gt;=0? count - 1: 0)} /&gt;\n    &lt;/View&gt;\n)};\n</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä½¿ç”¨ useState å£°æ˜äº†å•†å“æ•°é‡çŠ¶æ€ count å’Œæ›´æ–°çŠ¶æ€çš„å‡½æ•° setCountã€‚<br>\nç»„ä»¶åˆå§‹åŒ–æ—¶ï¼Œä¹Ÿå°±æ˜¯ç»„ä»¶å‡½æ•°ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶ï¼Œå•†å“æ•°é‡çŠ¶æ€ count çš„é»˜è®¤å€¼æ˜¯ 0ï¼Œé¡µé¢å±•ç¤ºçš„æ•°å­—å°±æ˜¯ 0.</p><p>å½“ä½ ç‚¹å‡»é¡µé¢ä¸­çš„åŠ å·ï¼ˆâ€œ+â€ï¼‰æ—¶ï¼Œå°±ä¼šè§¦å‘åŠ å·ï¼ˆâ€œ+â€ï¼‰ç‚¹æŒ‰ç»„ä»¶ï¼ˆButtonï¼‰çš„ç‚¹å‡»äº‹ä»¶ï¼ˆonPressï¼‰ï¼Œæ­¤æ—¶ä¼šè°ƒç”¨ setCount å‡½æ•°æ›´æ–°çŠ¶æ€ã€‚</p><p>setCount å‡½æ•°çš„å…¥å‚æ˜¯ count + 1ï¼Œå…¶ä¸­ count å–çš„æ˜¯ç»„ä»¶ç¬¬ä¸€æ¬¡è°ƒç”¨çš„é»˜è®¤å€¼ 0ï¼Œ0 + 1 = 1ï¼Œå› æ­¤æ–°çŠ¶æ€å°±æ˜¯ 1ï¼Œä¹‹å React/ React Native ä¼šå†è°ƒç”¨ä¸€æ¬¡ç»„ä»¶å‡½æ•°ï¼Œè¿™ä¸€æ¬¡è°ƒç”¨æ—¶ useState å£°æ˜çš„çŠ¶æ€ count çš„å€¼å°±æ˜¯æ–°çŠ¶æ€çš„å€¼ 1ï¼Œæ­¤æ—¶ Text ç»„ä»¶æ”¶åˆ°çš„å€¼ä¹Ÿæ˜¯ 1ï¼Œæœ€åé¡µé¢åˆ·æ–°å±•ç¤ºæ–°çŠ¶æ€ 1ã€‚</p><p>ç¬¬äºŒæ¬¡ç‚¹å‡»åŠ å·æ—¶ï¼Œä¹Ÿæ˜¯å…ˆæ›´æ–° React/ React Native å†…éƒ¨çš„<s>æ–°</s>çŠ¶æ€ï¼Œå°†å®ƒæ›´æ–°åˆ° 2ï¼Œç„¶åå†æ‰§è¡Œä¸€æ¬¡ç»„ä»¶å‡½æ•°ï¼Œå°†å†…éƒ¨çš„æ–°çŠ¶æ€åŒæ­¥ç»™ countï¼Œæœ€ååˆ·æ–°é¡µé¢å±•ç¤ºæ–°çŠ¶æ€ 2ã€‚</p><p>ä»¥æ­¤ç±»æ¨ï¼Œ<strong>å¯¹äºåŸå§‹æ•°æ®ç±»å‹è€Œè¨€ï¼Œè°ƒç”¨ setCount æ›´æ–°åŸå§‹æ•°æ®ç±»å‹çŠ¶æ€çš„å€¼ï¼Œé¡µé¢å°±ä¼šå‘ç”Ÿæ›´æ–°ã€‚</strong></p><p>é‚£å¯¹è±¡å’Œæ•°ç»„ç±»å‹çš„çŠ¶æ€å¦‚ä½•æ›´æ–°å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å…ˆå£°æ˜ä¸€ä¸ªå¯¹è±¡çŠ¶æ€å’Œä¸€ä¸ªæ•°ç»„çŠ¶æ€ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">const [countObject, setCountObject] = useState({num: 0});\nconst [countArray, setCountArray] = useState([0]);\n</code></pre><p>è¿™æ®µä»£ç ä¸­ï¼Œè°ƒç”¨äº†ä¸¤æ¬¡ useStateï¼Œå£°æ˜ä¸€ä¸ªå¯¹è±¡çŠ¶æ€ countObject å’Œä¸€ä¸ªæ•°ç»„çŠ¶æ€ countArrayï¼Œä»¥åŠå¯¹åº”çš„çŠ¶æ€æ›´æ–°å‡½æ•°ã€‚</p><p>ç†è®ºä¸Šï¼Œä½ å¯ä»¥ç›´æ¥æ”¹å˜å¯¹è±¡çŠ¶æ€æˆ–æ•°ç»„çŠ¶æ€çš„å€¼ï¼Œå†è°ƒç”¨çŠ¶æ€æ›´æ–°å‡½æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">countObject.num++;\nsetCountObject(countObject)\n\ncountArray[0]++;\nsetCountArray(countArray)\n</code></pre><p>ä½†æ˜¯ä½ è¯•è¿‡åä¼šå‘ç°ï¼Œè°ƒç”¨çŠ¶æ€æ›´æ–°å‡½æ•°åï¼Œé¡µé¢ä»€ä¹ˆå˜åŒ–éƒ½æ²¡æœ‰ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ<br>\nå¼„æ¸…æ¥šäº†å¯¹è±¡æ•°æ®ç±»å‹ï¼ˆObjectsï¼‰å’ŒåŸå§‹æ•°æ®ç±»å‹çš„åŒºåˆ«åï¼Œä½ å°±æ˜ç™½äº†ã€‚æˆ‘ç»™ä½ ä¸¾ä¸ªä¾‹å­ï¼š</p><pre><code class=\"language-plain\">const countObject = {num: 0}\ncountObject.num++;\n\ncountObject.num === countObject.num // false\ncountObject === countObject // true\nsetCountObject(countObject) // ä¸æ›´æ–°\n</code></pre><p>ä½ çœ‹ï¼Œå½“ä½ æ›´æ–° countObject.num æ—¶ï¼ŒcountObject.num ç¡®å®æ›´æ–°äº†ï¼Œä½†æ˜¯ countObject çš„å¼•ç”¨å¹¶æ²¡æœ‰æ›´æ–°ï¼Œæ‰€ä»¥è°ƒç”¨ setCountObject æ›´æ–°çŠ¶æ€æ—¶ï¼Œé¡µé¢æ²¡æœ‰ä»»ä½•å˜åŒ–ã€‚</p><p>è¿™æ˜¯å› ä¸ºï¼Œå¯¹è±¡å®ƒæ˜¯ä¸€ç§å¤åˆæ•°æ®ç±»å‹ï¼Œå®ƒå†…éƒ¨çš„å€¼æ˜¯å¯å˜çš„ï¼ˆmutableï¼‰ï¼Œä½†å®ƒçš„å¼•ç”¨æ˜¯ä¸å¯å˜äº†ï¼ˆimmutableï¼‰ï¼Œä½ æ›´æ–°äº†å¯¹è±¡çš„å†…éƒ¨å€¼åï¼Œå®ƒçš„å¼•ç”¨å¹¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚</p><p>é‚£çŠ¶æ€æ˜¯å¯¹è±¡æˆ–æ•°ç»„æ—¶ï¼Œåº”è¯¥æ€ä¹ˆæ›´æ–°å‘¢ï¼Ÿ</p><p>ä¸šå†…ä¹Ÿæœ‰å½¢ä¼¼ mutable çš„æ›´æ–°æ–¹æ¡ˆ useImmerï¼Œå¯ä»¥é€šè¿‡ç›´æ¥ä¿®æ”¹å˜é‡çš„å€¼æ¥æ›´æ–°çŠ¶æ€ã€‚ä½†å…¶åº•å±‚åŸç†ä¹Ÿæ˜¯ï¼Œæ–°å»ºä¸€ä¸ªå¯¹è±¡æˆ–æ•°ç»„ä¼ ç»™çŠ¶æ€æ›´æ–°å‡½æ•°ï¼Œè®©çŠ¶æ€æ›´æ–°å‡½æ•°çŸ¥é“å¯¹è±¡æˆ–æ•°ç»„ç¡®å®å‘ç”Ÿäº†å˜åŒ–ï¼Œè¿™æ—¶ React/React Native æ¡†æ¶æ‰ä¼šå¸®ä½ æ›´æ–°é¡µé¢ã€‚</p><p>è¿™é‡Œï¼Œæˆ‘ç”¨çš„ä¹Ÿæ˜¯ç›´æ¥æ–°å»ºå¯¹è±¡ã€æ–°å»ºæ•°ç»„çš„æ–¹å¼ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">setCountObject({...countObject, num: countObject.num+1});\n\nconst newCountArray = [...newCountArray]\nnewCountArray[0]++;\nsetCountArray(newCountArray)\n</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºå¯¹è±¡çŠ¶æ€çš„æ›´æ–°æˆ‘æ˜¯è¿™ä¹ˆå¤„ç†çš„ï¼Œæˆ‘å…ˆåˆ›å»ºäº†ä¸€ä¸ªæ–°å¯¹è±¡<code>{}</code>ï¼Œç„¶åç”¨<code>...</code>çš„è§£æ„çš„æ–¹å¼å°†è€å¯¹è±¡ countObject çš„å†…éƒ¨å€¼é‡æ–°èµ‹å€¼ç»™äº†æ–°å¯¹è±¡<code>{}</code>ï¼Œå†æŒ‡å®š<code>num</code>å±æ€§è¿›è¡Œäº†å¤å†™ã€‚å¯¹äºæ•°ç»„çŠ¶æ€çš„æ›´æ–°ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œä½ å¯ä»¥è‡ªå·±è¯•è¯•ã€‚</p><h2>æ€»ç»“</h2><p>è¿™ä¸€è®²ï¼Œæˆ‘ä»¬å®Œæˆæ­å»ºé¡µé¢çš„ç¬¬äºŒæ­¥ï¼šè®©é¡µé¢â€œåŠ¨â€èµ·æ¥ã€‚è®©é¡µé¢â€œåŠ¨â€èµ·æ¥ï¼Œå°±è¦ç”¨åˆ°çŠ¶æ€ï¼Œæˆ‘ä»¬è¿™ä¸€è®²çš„å…·ä½“å®ç°åˆ†ä¸º 4 ä¸ªæ­¥éª¤ï¼ŒçŠ¶æ€åˆé€‰ã€çŠ¶æ€ç¡®å®šã€çŠ¶æ€å£°æ˜ã€çŠ¶æ€æ›´æ–°ã€‚</p><ul>\n<li>çŠ¶æ€åˆé€‰ï¼Œå°±æ˜¯æŠŠè®¾è®¡ç¨¿ä¸­çš„é‚£äº›ä¼šâ€œåŠ¨â€çš„æ•°æ®å…ˆé€‰å‡ºæ¥ï¼›</li>\n<li>çŠ¶æ€ç¡®å®šï¼Œå°±æ˜¯åˆå¹¶åŒç±»çŠ¶æ€ã€åˆ é™¤æ— ç”¨çŠ¶æ€å’Œè¡ç”ŸçŠ¶æ€ï¼›</li>\n<li>çŠ¶æ€å£°æ˜ï¼Œåœ¨å½“å‰çš„åˆå­¦é˜¶æ®µï¼Œåªéœ€è¦å­¦ä¼šä½¿ç”¨ useState æ¥å£°æ˜ç»„ä»¶çŠ¶æ€å³å¯ï¼›</li>\n<li>çŠ¶æ€æ›´æ–°æ˜¯æœ€åä¸€æ­¥ã€‚äº¤äº’äº‹ä»¶å’Œç¨‹åºäº‹ä»¶ä¼šè§¦å‘çŠ¶æ€çš„æ›´æ–°ï¼Œä½†çŠ¶æ€æ›´æ–°å‡½æ•°å¹¶ä¸ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨åˆå¹¶ä¸Šä¸€ä¸ªçŠ¶æ€ï¼Œå› æ­¤åœ¨å¤„ç†å¯¹è±¡çŠ¶æ€å’Œæ•°ç»„çŠ¶æ€æ—¶ï¼Œæ¯æ¬¡æ›´æ–°æ—¶å¿…é¡»æ–°å»ºä¸€ä¸ªå®Œæ•´çš„å¯¹è±¡æˆ–æ•°ç»„ã€‚</li>\n</ul><p>è¡Œå†›ä½œæˆ˜æ˜¯å…µé©¬æœªåŠ¨ç²®è‰å…ˆè¡Œï¼Œè®²ç©¶çš„æ˜¯è°‹è€ŒååŠ¨ã€‚æ­å»ºé¡µé¢ã€å¼€å‘ç»„ä»¶ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿè¦<strong>ä»£ç æœªåŠ¨æ„æ€å…ˆè¡Œ</strong>ï¼Œå…ˆæŠŠç»„ä»¶çŠ¶æ€è®¾è®¡å¥½äº†ï¼Œç®€å•å³ç¾ï¼Œè¦æ˜¯æ²¡æƒ³æ¸…æ¥šå¼„å¤æ‚äº†ï¼Œåé¢å¡«å‘æˆæœ¬ä¼šå¾ˆé«˜ã€‚</p><h2>é™„åŠ ææ–™</h2><ol>\n<li>å†æ¬¡å¼ºè°ƒï¼Œå­¦ä¹  React æœ€å¥½çš„ææ–™å°±æ˜¯ React æ–°å®˜ç½‘ï¼Œæˆ‘æ¨èä½ å»è¯»ä¸€è¯»<a href=\"https://beta.reactjs.org/learn/reacting-to-input-with-state\">ã€Šå¦‚ä½•ä½¿ç”¨çŠ¶æ€å“åº”ç”¨æˆ·çš„è¾“å…¥æ—¶é—´ã€‹</a>ã€<a href=\"https://beta.reactjs.org/learn/updating-objects-in-state\">ã€Šæ›´æ–°çŠ¶æ€å¯¹è±¡ã€‹</a>å’Œ<a href=\"https://beta.reactjs.org/learn/updating-arrays-in-state\">ã€Šæ›´æ–°çŠ¶æ€æ•°ç»„ã€‹</a>ã€‚</li>\n<li>å®ç°è´­ç‰©è½¦é¡µé¢çš„å®Œæ•´ä»£ç ï¼Œæˆ‘æ”¾åœ¨äº†<a href=\"https://github.com/jiangleo/react-native-classroom/tree/main/src/04_State\">GitHub</a>ä¸Šã€‚</li>\n</ol><h2>ä½œä¸š</h2><ol>\n<li>è¯·ä½ å®ç°ä¸€ä¸ªäº•å­—æ£‹ã€‚äº•å­—æ£‹çš„è§„åˆ™å’Œäº”å­æ£‹ç±»ä¼¼ï¼Œä¸¤äººåœ¨ 3 * 3 æ ¼å­ä¸Šè¿›è¡Œè¿ç æ¸¸æˆï¼Œä»»æ„ 3 ä¸ªæ ‡è®°å½¢æˆä¸€æ¡ç›´çº¿ï¼Œåˆ™ä¸ºè·èƒœã€‚åœ¨å†™ä¹‹å‰ï¼Œæ¨èä½ å…ˆç©ä¸€ä¸‹è¿™ä¸ªäº•å­—æ£‹ï¼Œäº†è§£ä¸€ä¸‹<a href=\"https://codepen.io/gaearon/pen/aWWQOG?editors=0010\">äº•å­—æ£‹çš„æœ€ç»ˆæ•ˆæœ</a>ã€‚</li>\n<li>è¯·ä½ æ€è€ƒä¸€ä¸‹å®ç°ä¸€ä¸ªäº•å­—æ£‹ï¼Œæœ€å°‘éœ€è¦å£°æ˜å‡ ä¸ªçŠ¶æ€ï¼Ÿ</li>\n</ol><p><img src=\"https://static001.geekbang.org/resource/image/59/e0/599257d6cc84ceda0fc5ebe8174af7e0.png?wh=474x347\" alt=\"å›¾ç‰‡\"></p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºåˆ†äº«ä½ çš„æƒ³æ³•ã€‚ä¸‹ä¸€èŠ‚è¯¾æˆ‘ä»¬å°†æ¥è®¨è®ºReact Nativeä¸­å›¾ç‰‡ç»„ä»¶çš„ç”¨æ³•å’Œæœ€ä½³å®è·µï¼Œä½ å¯ä»¥åšäº›å‡†å¤‡ã€‚æˆ‘æ˜¯è’‹å®ä¼Ÿï¼Œå’±ä»¬ä¸‹èŠ‚è¯¾è§ã€‚</p>","neighbors":{"left":{"article_title":"03ï½œStyleï¼šå…³äºæ ·å¼ä½ éœ€è¦çŸ¥é“çš„ä¸‰ä»¶äº‹","id":501650},"right":{"article_title":"05ï½œImageï¼šé€‰æ‹©é€‚åˆä½ çš„å›¾ç‰‡åŠ è½½æ–¹å¼","id":503636}},"comments":[{"had_liked":false,"id":344180,"user_name":"beetcb","can_delete":false,"product_type":"c1","uid":2105664,"ip_address":"","ucode":"9436830F6CBF59","user_header":"","comment_is_top":false,"comment_ctime":1651326400,"is_pvip":false,"replies":[{"id":125671,"content":"ç»™å­¦ä¹ ç‚¹èµğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1088541,"ctime":1651382707,"ip_address":"","comment_id":344180,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"æ„Ÿè°¢è€å¸ˆæ¨èï¼æˆ‘è‡ªå·±ä¹Ÿå»å­¦ä¹ äº† beta æ–‡æ¡£ï¼ŒçŠ¶æ€ç®¡ç†é‚£ç« å†™å¾—çœŸå¥½ï¼Œé™¤äº†æœ‰æœ¬æ–‡ä¸­æåˆ°çš„æ–¹æ³•ï¼Œè¿˜æŠŠ useState useReducer Context éƒ½ä¸²èµ·æ¥å•¦ï¼Œéå¸¸æ¸…æ™°ã€‚","like_count":0,"discussions":[{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"è’‹å®ä¼Ÿ","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":569251,"discussion_content":"ç»™å­¦ä¹ ç‚¹èµğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651382707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343333,"user_name":"Le vent se lÃ¨ve","can_delete":false,"product_type":"c1","uid":2542255,"ip_address":"","ucode":"241F32F635AC6D","user_header":"https://static001.geekbang.org/account/avatar/00/26/ca/af/8e93c68c.jpg","comment_is_top":false,"comment_ctime":1650784729,"is_pvip":false,"replies":[{"id":125362,"content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1088541,"ctime":1650795714,"ip_address":"","comment_id":343333,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"ç»ˆäºè¿è¡Œèµ·æ¥äº†","like_count":0,"discussions":[{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"è’‹å®ä¼Ÿ","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":566905,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650795714,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343326,"user_name":"Le vent se lÃ¨ve","can_delete":false,"product_type":"c1","uid":2542255,"ip_address":"","ucode":"241F32F635AC6D","user_header":"https://static001.geekbang.org/account/avatar/00/26/ca/af/8e93c68c.jpg","comment_is_top":false,"comment_ctime":1650782184,"is_pvip":false,"replies":[{"id":125363,"content":".tsx æ–‡ä»¶æ˜¯ Typescript æ–‡ä»¶ï¼ŒProducts æ˜¯ products çš„ç±»å‹å£°æ˜","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1088541,"ctime":1650795813,"ip_address":"","comment_id":343326,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸‹productTableã€‚tsxæ–‡ä»¶é‡Œè¾¹çš„fetchè¯·æ±‚ç¬¬äºŒä¸ªthenä¸­products: Productsï¼Œè¿™ä¸ªProductsæ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå¯ä»¥å¸®æˆ‘åˆ†æä¸‹å—æ²¡å¤ªçœ‹æ‡‚ï¼Ÿ\n","like_count":0,"discussions":[{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"è’‹å®ä¼Ÿ","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":566906,"discussion_content":".tsx æ–‡ä»¶æ˜¯ Typescript æ–‡ä»¶ï¼ŒProducts æ˜¯ products çš„ç±»å‹å£°æ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650795813,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342741,"user_name":"è¯·åŠ¡å¿…ä¼˜ç§€","can_delete":false,"product_type":"c1","uid":2025816,"ip_address":"","ucode":"2B7AE4EF41C972","user_header":"https://static001.geekbang.org/account/avatar/00/1e/e9/58/7bb2c561.jpg","comment_is_top":false,"comment_ctime":1650441573,"is_pvip":true,"replies":[{"id":125213,"content":"ç¼–è¯‘æ—¶å°±ç”Ÿæ•ˆã€‚å…¥é—¨ Typescript å‚è€ƒï¼š\n\n&lt;å…¥é—¨-ä¸­æ–‡&gt;1.2Wå­— | äº†ä¸èµ·çš„ TypeScript å…¥é—¨æ•™ç¨‹ï¼šè¿™æ˜¯æ˜é‡‘æœ€å—æ¬¢è¿çš„ TypeScript å…¥é—¨è¯¾ç¨‹ï¼Œä½œè€…å°† TypeScript çš„å…¥é—¨çŸ¥è¯†åˆ†ä¸ºäº†åå››ä¸ªçŸ¥è¯†ç‚¹ï¼Œä¸€æ­¥æ­¥å¸¦ä½ å­¦ä¹ ã€‚\n\nhttps:&#47;&#47;juejin.cn&#47;post&#47;6844904182843965453","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1088541,"ctime":1650463650,"ip_address":"","comment_id":342741,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"interfaceå£°æ˜æ–¹å¼åœ¨jsxæ–‡ä»¶æ€ä¹ˆç”Ÿæ•ˆå‘¢\n","like_count":0,"discussions":[{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"è’‹å®ä¼Ÿ","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":565429,"discussion_content":"ç¼–è¯‘æ—¶å°±ç”Ÿæ•ˆã€‚å…¥é—¨ Typescript å‚è€ƒï¼š\n\n&lt;å…¥é—¨-ä¸­æ–‡&gt;1.2Wå­— | äº†ä¸èµ·çš„ TypeScript å…¥é—¨æ•™ç¨‹ï¼šè¿™æ˜¯æ˜é‡‘æœ€å—æ¬¢è¿çš„ TypeScript å…¥é—¨è¯¾ç¨‹ï¼Œä½œè€…å°† TypeScript çš„å…¥é—¨çŸ¥è¯†åˆ†ä¸ºäº†åå››ä¸ªçŸ¥è¯†ç‚¹ï¼Œä¸€æ­¥æ­¥å¸¦ä½ å­¦ä¹ ã€‚\n\nhttps://juejin.cn/post/6844904182843965453","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1650463650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342739,"user_name":"è¯·åŠ¡å¿…ä¼˜ç§€","can_delete":false,"product_type":"c1","uid":2025816,"ip_address":"","ucode":"2B7AE4EF41C972","user_header":"https://static001.geekbang.org/account/avatar/00/1e/e9/58/7bb2c561.jpg","comment_is_top":false,"comment_ctime":1650441523,"is_pvip":true,"replies":[{"id":125214,"content":"è¿™æ˜¯é‚£ä¸ªæ¥å£ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1088541,"ctime":1650463713,"ip_address":"","comment_id":342739,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"fetch(&#39;https:&#47;&#47;61c48e65f1af4a0017d9966d.mockapi.io&#47;products&#39;)è¿™ä¸ªæ¥å£æ²¡æœ‰æ€ä¹ˆæ¨¡æ‹Ÿå‘¢","like_count":0,"discussions":[{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"è’‹å®ä¼Ÿ","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":565430,"discussion_content":"è¿™æ˜¯é‚£ä¸ªæ¥å£ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650463713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2542255,"avatar":"https://static001.geekbang.org/account/avatar/00/26/ca/af/8e93c68c.jpg","nickname":"Le vent se lÃ¨ve","note":"","ucode":"241F32F635AC6D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":565791,"discussion_content":"é¡¹ç›®ä»£ç ä¸­è·å–åˆ—è¡¨çš„é‚£ä¸ªæ¥å£ï¼Œæˆ‘åœ¨è‡ªå·±æ¨¡æ‹Ÿä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650543626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360083,"user_name":"Asterisk","can_delete":false,"product_type":"c1","uid":2307798,"ip_address":"åŒ—äº¬","ucode":"7BF0654B1141F1","user_header":"https://static001.geekbang.org/account/avatar/00/23/36/d6/343ab8c7.jpg","comment_is_top":false,"comment_ctime":1666167726,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"è®²çš„ä¹Ÿæœ‰ç‚¹å¤ªç®€å•äº†ï¼Œèƒ½ä¸èƒ½æŠŠå…³é”®çš„åœ°æ–¹ï¼Œæˆ–è€…å®¹æ˜“å…¥å‘çš„åœ°æ–¹å¥½å¥½è®²è®²ã€‚è‡³äºåŸºç¡€çŸ¥è¯†è¿™ä¸ªå®˜ç½‘è®²çš„å°±æŒºå¥½äº†ã€‚","like_count":4},{"had_liked":false,"id":340807,"user_name":"Sunny","can_delete":false,"product_type":"c1","uid":1305257,"ip_address":"","ucode":"BB7B274CE0672E","user_header":"https://static001.geekbang.org/account/avatar/00/13/ea/a9/0a917f2c.jpg","comment_is_top":false,"comment_ctime":1649153027,"is_pvip":false,"replies":null,"discussion_count":5,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"export default function ProductTable() {\n    &#47;&#47; ...\n}\nè¯·æ•™ä¸€ä¸‹ï¼Œè¿™ä¹Ÿæ˜¯å£°æ˜ç»„ä»¶ä¹ˆ ï¼Ÿä¸ºä»€ä¹ˆä¸ç”¨ class å£°æ˜ ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1081683,"avatar":"https://static001.geekbang.org/account/avatar/00/10/81/53/47be0908.jpg","nickname":"å››æœˆä¸€æ—¥","note":"","ucode":"798A5713A846C6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560150,"discussion_content":"è¿™æ˜¯å‡½æ•°ç»„ä»¶çš„å£°æ˜æ–¹å¼ã€‚å› ä¸ºuseStateè¿™ç§hooksï¼ˆé’©å­ï¼‰è¦å‡½æ•°ç»„ä»¶æ­é…ä½¿ç”¨ã€‚ç±»ç»„ä»¶å°±ä¸ç”¨hooksè€Œæ˜¯ç”¨setStateäº†ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1649213086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"è’‹å®ä¼Ÿ","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560183,"discussion_content":"æ˜¯çš„ï¼Œå‡½æ•°å’Œç±»éƒ½å¯ä»¥å£°æ˜ React/React Native ç»„ä»¶ã€‚é™¤äº†éƒ¨åˆ†è€ä»£ç ï¼Œç°åœ¨çš„ä¸šå†…çš„ä¸»æµå®è·µæ˜¯éƒ½æ˜¯åŸºäº Function æ¥å£°æ˜ç»„ä»¶äº†ï¼Œæˆ‘ä»¬ä¸“æ ä¹Ÿä¼šä½¿ç”¨ Function è¿™ç§æ–¹å¼è¿›è¡Œç»„ä»¶å£°æ˜ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1649222686,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1395511,"avatar":"https://static001.geekbang.org/account/avatar/00/15/4b/37/97caebe6.jpg","nickname":"Då…ˆç”Ÿ","note":"","ucode":"B8E1727D04375F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563398,"discussion_content":"éƒ½2022å¹´äº†ï¼Œclass componentå¯ä»¥æŠ›å¼ƒäº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1649988816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1591721,"avatar":"https://static001.geekbang.org/account/avatar/00/18/49/a9/225c041f.jpg","nickname":"é™ˆå½¦ç¥–","note":"","ucode":"75D5ED5BB67B4E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616099,"discussion_content":"è¿™æ˜¯å‡½æ•°å¼ç»„ä»¶çš„å†™æ³•ã€‚å‡½æ•°å¼ç»„ä»¶æ¯” class æ›´é€‚åˆå‰ç«¯ UI æ¸²æŸ“çš„ç‰¹ç‚¹ï¼Œä¹Ÿæ›´å®¹å®¹æ˜“å¤ç”¨å’Œç»´æŠ¤ã€‚å¯ä»¥å»çœ‹çœ‹ç‹æ²›è€å¸ˆçš„æå®¢æ—¶é—´ React çš„å…¥é—¨è¯¾ï¼Œé‡Œé¢å¾ˆæ¸…æ¥šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682586679,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1367950,"avatar":"https://static001.geekbang.org/account/avatar/00/14/df/8e/844ee007.jpg","nickname":"å¾çƒ½","note":"","ucode":"FBD812F14946D5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563861,"discussion_content":"å¯ä»¥å…ˆè¿‡ä¸‹React Nativeæ–‡æ¡£ï¼ŒåŸºç¡€æ¦‚å¿µå¾—å…ˆäº†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650097776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351233,"user_name":"æ±Ÿå·¦å°æµ·","can_delete":false,"product_type":"c1","uid":1591374,"ip_address":"","ucode":"7FABA95F5C34C2","user_header":"https://static001.geekbang.org/account/avatar/00/18/48/4e/ff28a022.jpg","comment_is_top":false,"comment_ctime":1657628604,"is_pvip":false,"replies":null,"discussion_count":3,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"ä¸ºä»€ä¹ˆæœ‰jsxï¼Œtsxï¼Œä¸éƒ½æ˜¯JSå—ï¼ŒAndroidå¼€å‘ï¼Œå¯¹è¿™ä¸€å—ä¸æ‡‚ï¼Œè¿™ä¸ªé¡¹ç›®ä¹Ÿè¿è¡Œä¸èµ·æ¥ï¼Œç¬¬ä¸€ä¸ªProductTabledçš„idæ‰¾ä¸åˆ°ï¼Œåˆ é™¤åï¼Œåˆè¯´ProductRowæ²¡æœ‰å¼•å…¥","like_count":1,"discussions":[{"author":{"id":3202151,"avatar":"https://static001.geekbang.org/account/avatar/00/30/dc/67/04a590fa.jpg","nickname":"æ—å¹³å›","note":"","ucode":"3AB8CBB6D214A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":593469,"discussion_content":"jsx, tsxæ˜¯ç”¨äºreactçš„å¼€å‘æ‰æœ‰çš„åç¼€åï¼Œæœ¬è´¨å†…éƒ¨ä¹Ÿæ˜¯å†™jsï¼Œä½¿ç”¨typescriptçš„å°±æ˜¯å†™tsã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1668242445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3169783,"avatar":"https://static001.geekbang.org/account/avatar/00/30/5d/f7/936e32e3.jpg","nickname":"é›¨çŒ«","note":"","ucode":"3CDBCB9D6D0081","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586703,"discussion_content":"é¡¹ç›®ä½¿ç”¨äº†tsçš„è¯ï¼Œç»„ä»¶çš„åç¼€éƒ½æ˜¯tsxï¼Œå¦‚æœæ²¡æœ‰å¼•å…¥tsçš„è¯ï¼Œç»„ä»¶åç¼€æ˜¯å¯ä»¥å†™æˆjsæˆ–è€…jsxçš„ï¼Œä¸çŸ¥é“æ™šä¸æ™š,å¯ä»¥æ‹·è´æˆ‘çš„é¡¹ç›®ï¼šhttps://github.com/yumaocc/kanabn.git","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1662447929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1591374,"avatar":"https://static001.geekbang.org/account/avatar/00/18/48/4e/ff28a022.jpg","nickname":"æ±Ÿå·¦å°æµ·","note":"","ucode":"7FABA95F5C34C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":3169783,"avatar":"https://static001.geekbang.org/account/avatar/00/30/5d/f7/936e32e3.jpg","nickname":"é›¨çŒ«","note":"","ucode":"3CDBCB9D6D0081","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":596217,"discussion_content":"æˆ‘æ¥çœ‹çœ‹ï¼Œå‰æ®µæ—¶é—´åœ¨å­¦ä¹ åŸºç¡€è¯­æ³•å•¦ï¼Œè°¢è°¢å¤§ä½¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1670803168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":586703,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":596217,"extra":""}]}]},{"had_liked":false,"id":384470,"user_name":"angelajing","can_delete":false,"product_type":"c1","uid":2152437,"ip_address":"è¾½å®","ucode":"96EA4DEAE8B398","user_header":"https://static001.geekbang.org/account/avatar/00/20/d7/f5/df6b6b60.jpg","comment_is_top":false,"comment_ctime":1701001786,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"githubèƒ½å¦æ·»åŠ ä¸€ä¸ªreadme.mdæ–‡ä»¶ï¼Œè¯¦ç»†ä»‹ç»ä¸‹æ€æ ·æ‰§è¡Œæ¯ä¸ªç¤ºä¾‹çš„ä»£ç ã€‚å› ä¸ºæ˜¯åˆå­¦è€…ï¼Œå¯¹Android studioçš„runé…ç½®å’Œnpmã€npx react-nativeå‘½ä»¤è¡Œéƒ½ä¸å¤ªç†Ÿæ‚‰ã€‚","like_count":0},{"had_liked":false,"id":379616,"user_name":"å·¦æ‰‹æŒ‡æœˆ","can_delete":false,"product_type":"c1","uid":2004938,"ip_address":"å¹¿ä¸œ","ucode":"216A4CE1CC8FEC","user_header":"https://static001.geekbang.org/account/avatar/00/1e/97/ca/1297b401.jpg","comment_is_top":false,"comment_ctime":1692194761,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"countObject.num === countObject.num &#47;&#47; false\n\nçœŸçš„æ²¡é—®é¢˜ä¹ˆï¼Œå¤åˆ¶åˆ°æµè§ˆå™¨æ˜¯trueè€¶","like_count":0},{"had_liked":false,"id":378335,"user_name":"kittyE","can_delete":false,"product_type":"c1","uid":1025944,"ip_address":"æ±Ÿè‹","ucode":"B6F59C96498EAF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a7/98/1491b4a3.jpg","comment_is_top":false,"comment_ctime":1690100386,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"å£°æ˜ä¸€ä¸ª3*3çš„äºŒç»´æ•°æ®æˆ–è€…9ä½çš„ä¸€ç»´æ•°ç»„ï¼Œå¾ªç¯æ•°ç»„æ¸²æŸ“","like_count":0},{"had_liked":false,"id":377689,"user_name":"ç®€ä¹‹è¯­","can_delete":false,"product_type":"c1","uid":1455895,"ip_address":"ä¸Šæµ·","ucode":"B4E35E0688A341","user_header":"https://static001.geekbang.org/account/avatar/00/16/37/17/ebb55b28.jpg","comment_is_top":false,"comment_ctime":1689040603,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"æ­¤æ¬¡ç»†çœ‹çœŸçš„æ˜¯è¡Œäº‘æµæ°´ä¸€èˆ¬é€šç•…çš„æ–‡ç« ï¼Œä¿¡æ¯å¯†åº¦è¿˜ä¸ä½ï¼ŒğŸ‘","like_count":0},{"had_liked":false,"id":373512,"user_name":"é™ˆå½¦ç¥–","can_delete":false,"product_type":"c1","uid":1591721,"ip_address":"åŒ—äº¬","ucode":"75D5ED5BB67B4E","user_header":"https://static001.geekbang.org/account/avatar/00/18/49/a9/225c041f.jpg","comment_is_top":false,"comment_ctime":1682587266,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"äº•å­—æ£‹åªéœ€è¦ä¸€ä¸ªçŠ¶æ€ç”¨äºè®°å½•æ£‹ç›˜å†…å®¹å³å¯ã€‚éœ€è¦å¯è¯»æ€§çš„å¥½å°±æ˜¯ä¸€ä¸ª 3Ã—3 çš„æ•°ç»„ï¼Œä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„æ¥è¡¨ç¤ºã€‚ä¸€ç»´æ•°ç»„åœ¨è®¡ç®—çš„æ—¶å€™éº»çƒ¦ä¸€äº›ã€‚ä¾‹å¦‚ï¼š\nlet chessStatus: number[] = [1,null,0,null,null,null,null,null,null]\n1. ä»å·¦è‡³å³ï¼Œä»ä¸Šåˆ°ä¸‹åˆ†åˆ«å¯¹åº”æ•°ç»„ç´¢å¼• 0~8\n2. æ•°ç»„å…ƒç´  1 è¡¨ç¤º X åœ¨è¿™ä¸ªä½å­è½å­ï¼Œ0 è¡¨ç¤ºåœˆåœ¨è¿™ä¸ªä½å­è½å­ï¼›null è¡¨ç¤ºè¯¥ä½ç½®æ²¡æœ‰è½å­\n\n\n","like_count":0},{"had_liked":false,"id":360133,"user_name":"Geek_7831b0","can_delete":false,"product_type":"c1","uid":3201681,"ip_address":"ç¾å›½","ucode":"9E42CB0BA30ABF","user_header":"","comment_is_top":false,"comment_ctime":1666210201,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"æ¥å£ä¼¼ä¹å¤±æ•ˆäº†ï¼Œæœ‰äººèƒ½ç»™ä¸ªexample jsonå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":359837,"user_name":"ç‹æ˜­ç­–","can_delete":false,"product_type":"c1","uid":2877237,"ip_address":"å±±ä¸œ","ucode":"E05401083249F7","user_header":"https://static001.geekbang.org/account/avatar/00/2b/e7/35/ba2cc0d7.jpg","comment_is_top":false,"comment_ctime":1665971660,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"è€å¸ˆèƒ½ä¸èƒ½è®²ä¸€ä¸‹ä½œä¸šå•Šï¼Ÿå…‰å¸ƒç½®ä¸è®²æˆ‘ä¹Ÿä¸çŸ¥é“è‡ªå·±æƒ³æ³•å¯¹ä¸å¯¹ã€‚\n","like_count":0},{"had_liked":false,"id":355678,"user_name":"å¶å­","can_delete":false,"product_type":"c1","uid":1506026,"ip_address":"æµ™æ±Ÿ","ucode":"F38B23A1C775FD","user_header":"https://static001.geekbang.org/account/avatar/00/16/fa/ea/344d0f73.jpg","comment_is_top":false,"comment_ctime":1661627829,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"ä¸ªäººæ„Ÿè§‰2ä¸ªçŠ¶æ€ï¼Œä¸€ä¸ªç”¨æ¥è®°å½•9ä¸ªæ ¼å­çš„å†…å®¹ï¼ˆæ¯”å¦‚æ•°ç»„ï¼ŒæŒ‰åºå·ä½ç½®å¡«å€¼ï¼Œé‚£ä¸ªç”¨æˆ·ä¸‹åœ¨å“ªé‡Œå°±æŠŠæ•°ç»„å¯¹åº”ä½ç½®å€¼å†™å…¥ç”¨æˆ·çš„åå­—ï¼‰ï¼Œè¿˜æœ‰ä¸€ä¸ªç”¨æ¥è®°å½•æ¸¸æˆçš„çŠ¶æ€ï¼ˆå¼€å§‹çŠ¶æ€ï¼›ä½ç½®é‡å¤çŠ¶æ€ï¼›è·èƒœçŠ¶æ€ï¼šæœ‰äººç«™çš„ä½ç½®è¾¾åˆ°ä¸‰ä¸ªä¸”ç¬¦åˆè·èƒœçš„æ’åˆ—ç»„åˆï¼ˆç»„åˆç”¨æšä¸¾æ¥æå‰å‡†å¤‡å¥½ï¼‰ï¼›å¹³æ‰‹ï¼šæ‰€æœ‰ä½ç½®ä¸‹æ»¡ä½†æ— äººè·èƒœï¼‰","like_count":0,"discussions":[{"author":{"id":1591721,"avatar":"https://static001.geekbang.org/account/avatar/00/18/49/a9/225c041f.jpg","nickname":"é™ˆå½¦ç¥–","note":"","ucode":"75D5ED5BB67B4E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616101,"discussion_content":"1. æ¸¸æˆçŠ¶æ€è¿™ä¸ªçŠ¶æ€å¯ä»¥é€šè¿‡æ£‹ç›˜çŠ¶æ€æ¥è®¡ç®—ï¼Œä¸éœ€è¦é¢å¤–ç”³æ˜ã€‚åªéœ€è¦åœ¨æ£‹ç›˜çŠ¶æ€å˜åŒ–åè®¡ç®—ä¸€ä¸‹å³å¯ã€‚\n2. çœ‹æœ€åçš„æ•ˆæœå›¾ä¹Ÿä¸éœ€è¦ç”¨æˆ·åå­—ï¼Œåªéœ€è¦åœ¨æ£‹ç›˜çŠ¶æ€å˜åŒ–åè®¡ç®—æœ€åè·èƒœè€…æ˜¯Ã—è¿˜æ˜¯åœˆå³å¯ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1682586984,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355583,"user_name":"Geek_bb718b","can_delete":false,"product_type":"c1","uid":3166002,"ip_address":"åŒ—äº¬","ucode":"194D08F9D71074","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKTcgPkeGEEYks7Kgd1zstn9rFjsXfDLwRLTfEIXh5TZtU9yIeibBXIsFQAbFxlGPUI0ZqptrDOPOA/132","comment_is_top":false,"comment_ctime":1661511598,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"å…³äºä¸ºä»€ä¹ˆHooksä¸èƒ½åœ¨if else é‡Œä½¿ç”¨ï¼Œè¿˜æ˜¯æ²¡å¤ªç†è§£","like_count":0,"discussions":[{"author":{"id":3173858,"avatar":"https://static001.geekbang.org/account/avatar/00/30/6d/e2/35705abe.jpg","nickname":"fall","note":"","ucode":"ECC701ECD6934A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586707,"discussion_content":"hooksæ˜¯ç”¨é“¾è¡¨å­˜å‚¨çš„ å¦‚æœæœ‰æ¡ä»¶åˆ¤æ–­å¾ªç¯çš„ é“¾è¡¨å–å€¼çš„é¡ºåºå°±æœ‰å¯èƒ½ä¹±æ‰","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1662448953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¤©æ´¥","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":347703,"user_name":"Geek_874d38","can_delete":false,"product_type":"c1","uid":3018941,"ip_address":"","ucode":"444E78CB26CDAC","user_header":"https://static001.geekbang.org/account/avatar/00/2e/10/bd/aafba045.jpg","comment_is_top":false,"comment_ctime":1654330881,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"é¡¹ç›®ä»£ç ä¸åŒ¹é…ï¼Œè¯·é‡æ–°ä¸Šä¼ ä»£ç ï¼Œè°¢è°¢ï¼","like_count":0,"discussions":[{"author":{"id":1591374,"avatar":"https://static001.geekbang.org/account/avatar/00/18/48/4e/ff28a022.jpg","nickname":"æ±Ÿå·¦å°æµ·","note":"","ucode":"7FABA95F5C34C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579804,"discussion_content":"è¿™ä¸ªè€å¸ˆä¹Ÿä¸å›å¤ä¿¡æ¯ï¼Œæˆ‘ä¹Ÿæ˜¯é†‰äº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657696630,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":347047,"user_name":"é™å¿ƒ","can_delete":false,"product_type":"c1","uid":1335457,"ip_address":"","ucode":"EB264FA6519FDA","user_header":"https://static001.geekbang.org/account/avatar/00/14/60/a1/45ffdca3.jpg","comment_is_top":false,"comment_ctime":1653641302,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"ä¸é”™ä¸é”™ğŸ‘è®²çš„æŒºæ˜ç™½","like_count":0}]}
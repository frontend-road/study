{"id":436915,"title":"11ï½œä»£ç å—ä¸ä½œç”¨åŸŸï¼šå¦‚ä½•ä¿è¯å˜é‡ä¸ä¼šè¢«é®è”½ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯Tony Baiã€‚</p><p>åœ¨ä¸Šä¸€èŠ‚è¯¾ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å˜é‡çš„å‡ ç§å£°æ˜å½¢å¼ï¼Œè¿˜æŒæ¡äº†ä¸åŒç±»å‹çš„å˜é‡åº”è¯¥é‡‡ç”¨å“ªç§å£°æ˜å½¢å¼ã€‚åœ¨è¿™ä¸€èŠ‚è¯¾é‡Œï¼Œæˆ‘ä»¬è¿˜æ˜¯ç»§ç»­èŠèŠæœ‰å…³å˜é‡çš„äº‹æƒ…ã€‚èŠä»€ä¹ˆå‘¢ï¼Ÿåˆ«æ€¥ï¼Œæˆ‘ä»¬ä»ä¸€ä¸ªGoå˜é‡é®è”½ï¼ˆVariable Shadowingï¼‰çš„é—®é¢˜è¯´èµ·ã€‚</p><p>ä»€ä¹ˆæ˜¯å˜é‡é®è”½å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸‹é¢è¿™æ®µç¤ºä¾‹ä»£ç ï¼š</p><pre><code class=\"language-plain\">var a = 11\n\nfunc foo(n int) {\n\ta := 1\n\ta += n\n}\n\nfunc main() {\n\tfmt.Println(\"a =\", a) // 11\n\tfoo(5)\n\tfmt.Println(\"after calling foo, a =\", a) // 11\n}\n</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™æ®µä»£ç ä¸­ï¼Œå‡½æ•°fooè°ƒç”¨å‰åï¼ŒåŒ…çº§å˜é‡açš„å€¼éƒ½æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚è¿™æ˜¯å› ä¸ºï¼Œè™½ç„¶fooå‡½æ•°ä¸­ä¹Ÿä½¿ç”¨äº†å˜é‡aï¼Œä½†æ˜¯fooå‡½æ•°ä¸­çš„å˜é‡aé®è”½äº†å¤–é¢çš„åŒ…çº§å˜é‡aï¼Œè¿™ä½¿å¾—åŒ…çº§å˜é‡aæ²¡æœ‰å‚ä¸åˆ°fooå‡½æ•°çš„é€»è¾‘ä¸­ï¼Œæ‰€ä»¥å°±æ²¡æœ‰å‘ç”Ÿå˜åŒ–äº†ã€‚</p><p>å˜é‡é®è”½æ˜¯Goå¼€å‘äººå‘˜åœ¨æ—¥å¸¸å¼€å‘å·¥ä½œä¸­æœ€å®¹æ˜“çŠ¯çš„ç¼–ç é”™è¯¯ä¹‹ä¸€ï¼Œå®ƒä½çº§åˆä¸å®¹æ˜“æŸ¥æ‰¾ï¼Œå¸¸å¸¸ä¼šè®©ä½ é™·å…¥æ¼«é•¿çš„è°ƒè¯•è¿‡ç¨‹ã€‚ä¸Šé¢çš„å®ä¾‹è¾ƒä¸ºç®€å•ï¼Œä½ å¯ä»¥é€šè¿‡è‚‰çœ¼å¾ˆå¿«æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ï¼Œä½†ä¸€æ—¦é‡åˆ°æ›´ä¸ºå¤æ‚çš„å˜é‡é®è”½çš„é—®é¢˜ï¼Œä½ å°±å¯èƒ½ä¼šè¢«æŠ˜è…¾å¾ˆä¹…ï¼Œç”šè‡³åªèƒ½é€šè¿‡å·¥å…·æ‰èƒ½å¸®åŠ©æ•æ‰é—®é¢˜æ‰€åœ¨ã€‚</p><!-- [[[read_end]]] --><p>å˜é‡é®è”½åªæ˜¯ä¸ªå¼•å­ï¼Œæˆ‘çœŸæ­£æƒ³è·Ÿä½ è¯´çš„æ˜¯<strong>ä»£ç å—</strong>ï¼ˆBlockï¼Œä¹Ÿå¯è¯‘ä½œè¯æ³•å—ï¼‰å’Œ<strong>ä½œç”¨åŸŸ</strong>ï¼ˆScopeï¼‰è¿™ä¸¤ä¸ªæ¦‚å¿µï¼Œå› ä¸ºè¦æƒ³å½»åº•ä¿è¯ä¸å‡ºç°å˜é‡é®è”½é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æ·±å…¥äº†è§£è¿™ä¸¤ä¸ªæ¦‚å¿µä»¥åŠå…¶èƒŒåçš„è§„åˆ™ã€‚</p><p>ç°åœ¨äº†ï¼Œæˆ‘ä»¬å°±æ¥å…ˆå­¦ä¹ ä¸€ä¸‹ä»£ç å—ä¸ä½œç”¨åŸŸçš„æ¦‚å¿µã€‚</p><h2>ä»£ç å—ä¸ä½œç”¨åŸŸ</h2><p>æˆ‘ä»¬å…ˆæ¥è§£æä¸€ä¸‹Goé‡Œé¢çš„ä»£ç å—ã€‚</p><p>Goè¯­è¨€ä¸­çš„ä»£ç å—æ˜¯åŒ…è£¹åœ¨ä¸€å¯¹å¤§æ‹¬å·å†…éƒ¨çš„å£°æ˜å’Œè¯­å¥åºåˆ—ï¼Œå¦‚æœä¸€å¯¹å¤§æ‹¬å·å†…éƒ¨æ²¡æœ‰ä»»ä½•å£°æ˜æˆ–å…¶ä»–è¯­å¥ï¼Œæˆ‘ä»¬å°±æŠŠå®ƒå«åš<strong>ç©ºä»£ç å—</strong>ã€‚Goä»£ç å—æ”¯æŒåµŒå¥—ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªä»£ç å—ä¸­åµŒå…¥å¤šä¸ªå±‚æ¬¡çš„ä»£ç å—ï¼Œå¦‚ä¸‹é¢ç¤ºä¾‹ä»£ç æ‰€ç¤ºï¼š</p><pre><code class=\"language-plain\">func foo() { //ä»£ç å—1\n    { // ä»£ç å—2\n        { // ä»£ç å—3\n            { // ä»£ç å—4\n\n            }\n        }\n    }\n}\n</code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œå‡½æ•°fooçš„å‡½æ•°ä½“æ˜¯æœ€å¤–å±‚çš„ä»£ç å—ï¼Œè¿™é‡Œæˆ‘ä»¬å°†å®ƒç¼–å·ä¸ºâ€œä»£ç å—1â€ã€‚è€Œä¸”ï¼Œåœ¨å®ƒçš„å‡½æ•°ä½“å†…éƒ¨ï¼ŒåˆåµŒå¥—äº†ä¸‰å±‚ä»£ç å—ï¼Œç”±å¤–å‘å†…çœ‹åˆ†åˆ«ä¸ºä»£ç å—2ã€ä»£ç å—3ä»¥åŠä»£ç å—4ã€‚</p><p>åƒä»£ç å—1åˆ°ä»£ç å—4è¿™æ ·çš„ä»£ç å—ï¼Œå®ƒä»¬éƒ½æ˜¯ç”±ä¸¤ä¸ªè‚‰çœ¼å¯è§çš„ä¸”é…å¯¹çš„å¤§æ‹¬å·åŒ…è£¹èµ·æ¥çš„ï¼Œæˆ‘ä»¬ç§°è¿™æ ·çš„ä»£ç å—ä¸ºæ˜¾å¼ä»£ç å—ï¼ˆExplicit Blocksï¼‰ã€‚æ—¢ç„¶æåˆ°äº†æ˜¾å¼ä»£ç å—ï¼Œæˆ‘ä»¬è‚¯å®šä¹Ÿä¸èƒ½å¿½ç•¥å¦å¤–ä¸€ç±»ä»£ç å—çš„å­˜åœ¨ï¼Œä¹Ÿå°±æ˜¯éšå¼ä»£ç å—ï¼ˆImplicit Blockï¼‰ã€‚é¡¾åæ€ä¹‰ï¼Œéšå¼ä»£ç å—æ²¡æœ‰æ˜¾å¼ä»£ç å—é‚£æ ·çš„è‚‰çœ¼å¯è§çš„é…å¯¹å¤§æ‹¬å·åŒ…è£¹ï¼Œæˆ‘ä»¬æ— æ³•é€šè¿‡å¤§æ‹¬å·æ¥è¯†åˆ«éšå¼ä»£ç å—ã€‚</p><p>è™½ç„¶éšå¼ä»£ç å—èº«ç€â€œéšèº«è¡£â€ï¼Œä½†æˆ‘ä»¬ä¹Ÿä¸æ˜¯æ²¡æœ‰æ–¹æ³•æ¥è¯†åˆ«å®ƒï¼Œå› ä¸ºGoè¯­è¨€è§„èŒƒå¯¹ç°å­˜çš„å‡ ç±»éšå¼ä»£ç å—åšäº†æ˜ç¡®çš„å®šä¹‰ï¼Œä½ å¯ä»¥å…ˆèŠ±ä¸€ä¸¤åˆ†é’Ÿçœ‹çœ‹ä¸‹é¢è¿™å¼ å›¾\bã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/3d/85/3d02138cf8f8a7a85fe0cfe5c29a6585.jpg?wh=1920x1047\" alt=\"å›¾ç‰‡\"></p><p>æˆ‘ä»¬æŒ‰ä»£ç å—èŒƒå›´ä»å¤§åˆ°å°ï¼Œé€ä¸€è¯´æ˜ä¸€ä¸‹ã€‚</p><p>é¦–å…ˆæ˜¯ä½äºæœ€å¤–å±‚çš„<strong>å®‡å®™ä»£ç å—ï¼ˆUniverse Blockï¼‰</strong>ï¼Œå®ƒå›Šæ‹¬çš„èŒƒå›´æœ€å¤§ï¼Œæ‰€æœ‰Goæºç éƒ½åœ¨è¿™ä¸ªéšå¼ä»£ç å—ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥å°†è¯¥éšå¼ä»£ç å—æƒ³è±¡ä¸ºåœ¨æ‰€æœ‰Goä»£ç çš„æœ€å¤–å±‚åŠ ä¸€å¯¹å¤§æ‹¬å·ï¼Œå°±åƒå›¾ä¸­æœ€å¤–å±‚çš„é‚£å¯¹å¤§æ‹¬å·é‚£æ ·ã€‚</p><p>åœ¨<strong>å®‡å®™ä»£ç å—</strong>å†…éƒ¨åµŒå¥—äº†<strong>åŒ…ä»£ç å—ï¼ˆPackage Blockï¼‰</strong>ï¼Œæ¯ä¸ªGoåŒ…éƒ½å¯¹åº”ä¸€ä¸ªéšå¼åŒ…ä»£ç å—ï¼Œæ¯ä¸ªåŒ…ä»£ç å—åŒ…å«äº†è¯¥åŒ…ä¸­çš„æ‰€æœ‰Goæºç ï¼Œä¸ç®¡è¿™äº›ä»£ç åˆ†å¸ƒåœ¨è¿™ä¸ªåŒ…é‡Œçš„å¤šå°‘ä¸ªçš„æºæ–‡ä»¶ä¸­ã€‚</p><p>æˆ‘ä»¬å†å¾€é‡Œé¢çœ‹ï¼Œåœ¨åŒ…ä»£ç å—çš„å†…éƒ¨åµŒå¥—ç€è‹¥å¹²<strong>æ–‡ä»¶ä»£ç å—ï¼ˆFile Blockï¼‰</strong>ï¼Œæ¯ä¸ªGoæºæ–‡ä»¶éƒ½å¯¹åº”ç€ä¸€ä¸ªæ–‡ä»¶ä»£ç å—ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªGoåŒ…å¦‚æœæœ‰å¤šä¸ªæºæ–‡ä»¶ï¼Œé‚£ä¹ˆå°±ä¼šæœ‰å¤šä¸ªå¯¹åº”çš„æ–‡ä»¶ä»£ç å—ã€‚</p><p>å†ä¸‹ä¸€ä¸ªçº§åˆ«çš„éšå¼ä»£ç å—å°±åœ¨æ§åˆ¶è¯­å¥å±‚é¢äº†ï¼ŒåŒ…æ‹¬ifã€forä¸switchã€‚æˆ‘ä»¬å¯ä»¥æŠŠæ¯ä¸ªæ§åˆ¶è¯­å¥éƒ½è§†ä¸ºåœ¨å®ƒè‡ªå·±çš„éšå¼ä»£ç å—é‡Œã€‚ä¸è¿‡ä½ è¦æ³¨æ„ï¼Œè¿™é‡Œçš„æ§åˆ¶è¯­å¥éšå¼ä»£ç å—ä¸æ§åˆ¶è¯­å¥ä½¿ç”¨å¤§æ‹¬å·åŒ…è£¹çš„æ˜¾å¼ä»£ç å—å¹¶ä¸æ˜¯ä¸€ä¸ªä»£ç å—ã€‚ä½ å†çœ‹ä¸€ä¸‹å‰é¢çš„å›¾ï¼Œswitchæ§åˆ¶è¯­å¥çš„éšå¼ä»£ç å—çš„ä½ç½®æ˜¯åœ¨å®ƒæ˜¾å¼ä»£ç å—çš„å¤–é¢çš„ã€‚</p><p>æœ€åï¼Œä½äºæœ€å†…å±‚çš„éšå¼ä»£ç å—æ˜¯switchæˆ–selectè¯­å¥çš„æ¯ä¸ªcase/defaultå­å¥ä¸­ï¼Œè™½ç„¶æ²¡æœ‰å¤§æ‹¬å·åŒ…è£¹ï¼Œä½†å®è´¨ä¸Šï¼Œæ¯ä¸ªå­å¥éƒ½è‡ªæˆä¸€ä¸ªä»£ç å—ã€‚</p><p>æœ‰äº†è¿™äº›ä»£ç å—çš„æ¦‚å¿µåï¼Œä½ èƒ½æ›´å¥½ç†è§£ä½œç”¨åŸŸçš„æ¦‚å¿µäº†ã€‚ä½œç”¨åŸŸçš„æ¦‚å¿µæ˜¯é’ˆå¯¹æ ‡è¯†ç¬¦çš„ï¼Œä¸å±€é™äºå˜é‡ã€‚æ¯ä¸ªæ ‡è¯†ç¬¦éƒ½æœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œè€Œ<strong>ä¸€ä¸ªæ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸå°±æ˜¯æŒ‡è¿™ä¸ªæ ‡è¯†ç¬¦åœ¨è¢«å£°æ˜åå¯ä»¥è¢«æœ‰æ•ˆä½¿ç”¨çš„æºç åŒºåŸŸ</strong>ã€‚</p><p>æ˜¾ç„¶ï¼Œä½œç”¨åŸŸæ˜¯ä¸€ä¸ªç¼–è¯‘æœŸçš„æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ä¼šå¯¹æ¯ä¸ªæ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸè¿›è¡Œæ£€æŸ¥ï¼Œå¯¹äºåœ¨æ ‡è¯†ç¬¦ä½œç”¨åŸŸå¤–ä½¿ç”¨è¯¥æ ‡è¯†ç¬¦çš„è¡Œä¸ºä¼šç»™å‡ºç¼–è¯‘é”™è¯¯çš„æŠ¥é”™ã€‚</p><p>ä¸è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»£ç å—çš„æ¦‚å¿µæ¥åˆ’å®šæ¯ä¸ªæ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸã€‚è¿™ä¸ªåˆ’å®šåŸåˆ™æ˜¯ä»€ä¹ˆå‘¢ï¼ŸåŸåˆ™å°±æ˜¯<strong>å£°æ˜äºå¤–å±‚ä»£ç å—ä¸­çš„æ ‡è¯†ç¬¦ï¼Œå…¶ä½œç”¨åŸŸåŒ…æ‹¬æ‰€æœ‰å†…å±‚ä»£ç å—</strong>ã€‚è€Œä¸”ï¼Œè¿™ä¸€åŸåˆ™åŒæ—¶é€‚äºæ˜¾å¼ä»£ç å—ä¸éšå¼ä»£ç å—ã€‚ç°åœ¨ï¼Œå¯¹ç…§ä¸Šé¢çš„ç¤ºæ„å›¾ï¼Œæˆ‘ä»¬å†ä¸¾ä¸€äº›å…¸å‹çš„ä¾‹å­ï¼Œè®©ä½ å¯¹ä½œç”¨åŸŸè¿™ä¸ªæŠ½è±¡çš„æ¦‚å¿µæœ‰æ›´è¿›ä¸€æ­¥çš„äº†è§£ã€‚</p><p><strong>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ä½äºæœ€å¤–å±‚çš„å®‡å®™éšå¼ä»£ç å—çš„æ ‡è¯†ç¬¦ã€‚</strong></p><p>æˆ‘ä»¬å…ˆæ¥çœ‹ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šæˆ‘ä»¬è¦æ€ä¹ˆå£°æ˜è¿™ä¸€åŒºåŸŸçš„æ ‡è¯†ç¬¦å‘¢ï¼Ÿ</p><p>è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½å£°æ˜è¿™ä¸€å—çš„æ ‡è¯†ç¬¦ï¼Œå› ä¸ºè¿™ä¸€åŒºåŸŸæ˜¯Goè¯­è¨€<strong>é¢„å®šä¹‰æ ‡è¯†ç¬¦</strong>çš„è‡ªç•™åœ°ã€‚è¿™é‡Œæˆ‘æ•´ç†äº†Goè¯­è¨€å½“å‰ç‰ˆæœ¬å®šä¹‰é‡Œçš„æ‰€æœ‰é¢„å®šä¹‰æ ‡è¯†ç¬¦ï¼Œä½ å¯ä»¥çœ‹çœ‹ä¸‹é¢è¿™å¼ è¡¨ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/01/95/01b8135e83c9fc39afcecdb26d4e1495.jpg?wh=1920x748\" alt=\"å›¾ç‰‡\"></p><p>ç”±äºè¿™äº›é¢„å®šä¹‰æ ‡è¯†ç¬¦ä½äºåŒ…ä»£ç å—çš„å¤–å±‚ï¼Œæ‰€ä»¥å®ƒä»¬çš„ä½œç”¨åŸŸæ˜¯èŒƒå›´æœ€å¤§çš„ï¼Œå¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œå®ƒä»¬çš„ä½œç”¨åŸŸå°±æ˜¯æºä»£ç ä¸­çš„ä»»ä½•ä½ç½®ã€‚ä¸è¿‡ï¼Œè¿™äº›é¢„å®šä¹‰æ ‡è¯†ç¬¦ä¸æ˜¯å…³é”®å­—ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥åœ¨å†…å±‚ä»£ç å—ä¸­å£°æ˜åŒåçš„æ ‡è¯†ç¬¦ã€‚</p><p><strong>é‚£ç°åœ¨ç¬¬äºŒä¸ªé—®é¢˜å°±æ¥äº†ï¼šæ—¢ç„¶å®‡å®™ä»£ç å—é‡Œå­˜åœ¨é¢„å®šä¹‰æ ‡è¯†ç¬¦ï¼Œè€Œä¸”å®‡å®™ä»£ç å—çš„ä¸‹ä¸€å±‚æ˜¯åŒ…ä»£ç å—ï¼Œé‚£è¿˜æœ‰å“ªäº›æ ‡è¯†ç¬¦å…·æœ‰åŒ…ä»£ç å—çº§ä½œç”¨åŸŸå‘¢ï¼Ÿ</strong></p><p>ç­”æ¡ˆæ˜¯ï¼ŒåŒ…é¡¶å±‚å£°æ˜ä¸­çš„å¸¸é‡ã€ç±»å‹ã€å˜é‡æˆ–å‡½æ•°ï¼ˆä¸åŒ…æ‹¬æ–¹æ³•ï¼‰å¯¹åº”çš„æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸæ˜¯åŒ…ä»£ç å—ã€‚</p><p>ä¸è¿‡ï¼Œå¯¹äºä½œç”¨åŸŸä¸ºåŒ…ä»£ç å—çš„æ ‡è¯†ç¬¦ï¼Œæˆ‘éœ€è¦ä½ çŸ¥é“ä¸€ä¸ªç‰¹æ®Šæƒ…å†µã€‚é‚£å°±æ˜¯å½“ä¸€ä¸ªåŒ…Aå¯¼å…¥å¦å¤–ä¸€ä¸ªåŒ…Båï¼ŒåŒ…Aä»…å¯ä»¥ä½¿ç”¨è¢«å¯¼å…¥åŒ…åŒ…Bä¸­çš„å¯¼å‡ºæ ‡è¯†ç¬¦ï¼ˆExported Identifierï¼‰ã€‚</p><p>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè€Œä¸”ï¼Œä»€ä¹ˆæ˜¯å¯¼å‡ºæ ‡è¯†ç¬¦å‘¢ï¼Ÿ</p><p>æŒ‰ç…§Goè¯­è¨€å®šä¹‰ï¼Œä¸€ä¸ªæ ‡è¯†ç¬¦è¦æˆä¸ºå¯¼å‡ºæ ‡è¯†ç¬¦éœ€åŒæ—¶å…·å¤‡ä¸¤ä¸ªæ¡ä»¶ï¼šä¸€æ˜¯è¿™ä¸ªæ ‡è¯†ç¬¦å£°æ˜åœ¨åŒ…ä»£ç å—ä¸­ï¼Œæˆ–è€…å®ƒæ˜¯ä¸€ä¸ªå­—æ®µåæˆ–æ–¹æ³•åï¼›äºŒæ˜¯å®ƒåå­—ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ªå¤§å†™çš„Unicodeå­—ç¬¦ã€‚è¿™ä¸¤ä¸ªæ¡ä»¶ç¼ºä¸€ä¸å¯ã€‚</p><p>ä»æˆ‘ä»¬å‰é¢çš„è®²è§£ä¸­ï¼Œä½ ä¸€å®šå‘ç°äº†å¤§éƒ¨åˆ†åœ¨åŒ…é¡¶å±‚å£°æ˜çš„æ ‡è¯†ç¬¦éƒ½å…·æœ‰åŒ…ä»£ç å—èŒƒå›´çš„ä½œç”¨åŸŸï¼Œé‚£<strong>è¿˜æœ‰æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸæ˜¯æ–‡ä»¶ä»£ç å—èŒƒå›´çš„å—ï¼Ÿ</strong></p><p>ç¡®å®ä¸å¤šäº†ã€‚ä½†è¿˜æœ‰ä¸€ä¸ªï¼Œæˆ‘ä¸€è¯´ä½ è‚¯å®šä¼šæœ‰ä¸€ç§æç„¶å¤§æ‚Ÿçš„æ„Ÿè§‰ï¼Œå®ƒå°±æ˜¯å¯¼å…¥çš„åŒ…åã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸€ä¸ªåŒ…Aæœ‰ä¸¤ä¸ªæºæ–‡ä»¶è¦å®ç°ï¼Œè€Œä¸”è¿™ä¸¤ä¸ªæºæ–‡ä»¶ä¸­çš„ä»£ç éƒ½ä¾èµ–åŒ…Bä¸­çš„æ ‡è¯†ç¬¦ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæºæ–‡ä»¶éƒ½éœ€è¦å¯¼å…¥åŒ…Bã€‚</p><p>åœ¨æºæ–‡ä»¶å±‚é¢ï¼Œå»æ‰æ‹¥æœ‰åŒ…ä»£ç å—ä½œç”¨åŸŸçš„æ ‡è¯†ç¬¦åï¼Œå‰©ä½™çš„å°±éƒ½æ˜¯ä¸€ä¸ªä¸ªå‡½æ•°/æ–¹æ³•çš„å®ç°äº†ã€‚åœ¨è¿™äº›å‡½æ•°/æ–¹æ³•ä½“ä¸­ï¼Œæ ‡è¯†ç¬¦ä½œç”¨åŸŸåˆ’åˆ†åŸåˆ™æ›´ä¸ºç®€å•ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥å‡­å€Ÿè‚‰çœ¼å¯è§çš„ã€é…å¯¹çš„å¤§æ‹¬å·æ¥æ˜ç¡®ç•Œå®šä¸€ä¸ªæ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸèŒƒå›´ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹é¢è¿™ä¸ªç¤ºä¾‹ï¼š</p><pre><code class=\"language-plain\">func (t T) M1(x int) (err error) {\n// ä»£ç å—1\n    m := 13\n\n    // ä»£ç å—1æ˜¯åŒ…å«mã€tã€xå’Œerrä¸‰ä¸ªæ ‡è¯†ç¬¦çš„æœ€å†…éƒ¨ä»£ç å—\n    { // ä»£ç å—2\n        \n        // \"ä»£ç å—2\"æ˜¯åŒ…å«ç±»å‹baræ ‡è¯†ç¬¦çš„æœ€å†…éƒ¨çš„é‚£ä¸ªåŒ…å«ä»£ç å—\n        type bar struct {} // ç±»å‹æ ‡è¯†ç¬¦barçš„ä½œç”¨åŸŸå§‹äºæ­¤\n        { // ä»£ç å—3\n            \n            // \"ä»£ç å—3\"æ˜¯åŒ…å«å˜é‡aæ ‡è¯†ç¬¦çš„æœ€å†…éƒ¨çš„é‚£ä¸ªåŒ…å«ä»£ç å—\n            a := 5 // aä½œç”¨åŸŸå¼€å§‹äºæ­¤\n            {  // ä»£ç å—4 \n                //... ...\n            }\n            // aä½œç”¨åŸŸç»ˆæ­¢äºæ­¤\n        }\n        // ç±»å‹æ ‡è¯†ç¬¦barçš„ä½œç”¨åŸŸç»ˆæ­¢äºæ­¤\n    }\n    // mã€tã€xå’Œerrçš„ä½œç”¨åŸŸç»ˆæ­¢äºæ­¤\n}\n</code></pre><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢ç¤ºä¾‹ä¸­å®šä¹‰äº†ç±»å‹Tçš„ä¸€ä¸ªæ–¹æ³•M1ï¼Œæ–¹æ³•æ¥æ”¶å™¨(receiver)å˜é‡tã€å‡½æ•°å‚æ•°xï¼Œä»¥åŠè¿”å›å€¼å˜é‡errå¯¹åº”çš„æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸèŒƒå›´æ˜¯M1å‡½æ•°ä½“å¯¹åº”çš„æ˜¾å¼ä»£ç å—1ã€‚è™½ç„¶tã€xå’Œerrå¹¶æ²¡æœ‰è¢«å‡½æ•°ä½“çš„å¤§æ‹¬å·æ‰€æ˜¾å¼åŒ…è£¹ï¼Œä½†å®ƒä»¬å±äºå‡½æ•°å®šä¹‰çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥ä½œç”¨åŸŸä¾æ—§æ˜¯ä»£ç å—1ã€‚</p><p>è¯´å®Œäº†å‡½æ•°ä½“å¤–éƒ¨çš„è¯¸å¦‚å‡½æ•°å‚æ•°ã€è¿”å›å€¼ç­‰å…ƒç´ çš„ä½œç”¨åŸŸåï¼Œæˆ‘ä»¬ç°åœ¨å°±æ¥åˆ†æ<strong>å‡½æ•°ä½“å†…éƒ¨çš„é‚£äº›è¯­æ³•å…ƒç´ </strong>ã€‚</p><p>å‡½æ•°å†…éƒ¨å£°æ˜çš„å¸¸é‡æˆ–å˜é‡å¯¹åº”çš„æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸèŒƒå›´å¼€å§‹äºå¸¸é‡æˆ–å˜é‡å£°æ˜è¯­å¥çš„æœ«å°¾ï¼Œå¹¶ç»ˆæ­¢äºå…¶æœ€å†…éƒ¨çš„é‚£ä¸ªåŒ…å«å—çš„æœ«å°¾ã€‚åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œå˜é‡mã€è‡ªå®šä¹‰ç±»å‹barä»¥åŠåœ¨ä»£ç å—3ä¸­å£°æ˜çš„å˜é‡aå‡ç¬¦åˆè¿™ä¸ªåˆ’åˆ†è§„åˆ™ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†çœ‹çœ‹<strong>ä½äºæ§åˆ¶è¯­å¥éšå¼ä»£ç å—ä¸­çš„æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸåˆ’åˆ†</strong>ã€‚æˆ‘ä»¬ä»¥ä¸‹é¢è¿™ä¸ªifæ¡ä»¶åˆ†æ”¯è¯­å¥ä¸ºä¾‹æ¥åˆ†æä¸€ä¸‹ï¼š</p><pre><code class=\"language-plain\">func bar() {\n    if a := 1; false {\n    } else if b := 2; false {\n    } else if c := 3; false {\n    } else {\n        println(a, b, c)\n    }\n}\n</code></pre><p>è¿™æ˜¯ä¸€ä¸ªå¤æ‚çš„â€œif - else if - elseâ€æ¡ä»¶åˆ†æ”¯è¯­å¥ç»“æ„ï¼Œæ ¹æ®æˆ‘ä»¬å‰é¢è®²è¿‡çš„éšå¼ä»£ç å—è§„åˆ™ï¼Œæˆ‘ä»¬å°†ä¸Šé¢ç¤ºä¾‹ä¸­éšå¼ä»£ç å—è½¬æ¢ä¸ºæ˜¾å¼ä»£ç å—åï¼Œä¼šå¾—åˆ°ä¸‹é¢è¿™æ®µç­‰ä»·çš„ä»£ç ï¼š</p><pre><code class=\"language-plain\">func bar() {\n    { // ç­‰ä»·äºç¬¬ä¸€ä¸ªifçš„éšå¼ä»£ç å—\n        a := 1 // å˜é‡aä½œç”¨åŸŸå§‹äºæ­¤\n        if false {\n\n        } else {\n            { // ç­‰ä»·äºç¬¬ä¸€ä¸ªelse ifçš„éšå¼ä»£ç å—\n                b := 2 // å˜é‡bçš„ä½œç”¨åŸŸå§‹äºæ­¤\n                if false {\n\n                } else {\n                    { // ç­‰ä»·äºç¬¬äºŒä¸ªelse ifçš„éšå¼ä»£ç å—\n                        c := 3 // å˜é‡cä½œç”¨åŸŸå§‹äºæ­¤\n                        if false {\n\n                        } else {\n                            println(a, b, c)\n                        }\n                        // å˜é‡cçš„ä½œç”¨åŸŸç»ˆæ­¢äºæ­¤\n                    }\n                }\n                // å˜é‡bçš„ä½œç”¨åŸŸç»ˆæ­¢äºæ­¤\n            }\n        }\n        // å˜é‡aä½œç”¨åŸŸç»ˆæ­¢äºæ­¤\n    }\n}\n</code></pre><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œç»è¿‡è¿™ä¹ˆä¸€ä¸ªç­‰ä»·è½¬æ¢ï¼Œå„ä¸ªå£°æ˜äºifè¡¨è¾¾å¼ä¸­çš„å˜é‡çš„ä½œç”¨åŸŸå°±å˜å¾—ä¸€ç›®äº†ç„¶äº†ã€‚å£°æ˜äºä¸åŒå±‚æ¬¡çš„éšå¼ä»£ç å—ä¸­çš„å˜é‡aã€bå’Œcçš„å®é™…ä½œç”¨åŸŸéƒ½ä½äºæœ€å†…å±‚çš„elseæ˜¾å¼ä»£ç å—ä¹‹å¤–ï¼Œäºæ˜¯åœ¨printlnçš„é‚£ä¸ªæ˜¾å¼ä»£ç å—ä¸­ï¼Œå˜é‡aã€bã€céƒ½æ˜¯åˆæ³•çš„ï¼Œè€Œä¸”è¿˜ä¿æŒäº†åˆå§‹å€¼ã€‚</p><p>å¥½äº†ï¼Œåˆ°è¿™é‡Œæˆ‘ä»¬å·²ç»äº†è§£ä»£ç å—ä¸ä½œç”¨åŸŸçš„æ¦‚å¿µä¸è§„åˆ™äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦æ€ä¹ˆåˆ©ç”¨è¿™äº›çŸ¥è¯†é¿å…åœ¨å®é™…ç¼–ç ä¸­çš„å˜é‡é®è”½é—®é¢˜å‘¢ï¼Ÿé¿å…å˜é‡é®è”½çš„åŸåˆ™åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><h2>é¿å…å˜é‡é®è”½çš„åŸåˆ™</h2><p>å˜é‡æ˜¯æ ‡è¯†ç¬¦çš„ä¸€ç§ï¼Œæ‰€ä»¥æˆ‘ä»¬å‰é¢è¯´çš„æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸè§„åˆ™åŒæ ·é€‚ç”¨äºå˜é‡ã€‚åœ¨å‰é¢çš„è®²è¿°ä¸­ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†ï¼Œä¸€ä¸ªå˜é‡çš„ä½œç”¨åŸŸèµ·å§‹äºå…¶å£°æ˜æ‰€åœ¨çš„ä»£ç å—ï¼Œå¹¶ä¸”å¯ä»¥ä¸€ç›´æ‰©å±•åˆ°åµŒå…¥åˆ°è¯¥ä»£ç å—ä¸­çš„æ‰€æœ‰å†…å±‚ä»£ç å—ï¼Œè€Œæ­£æ˜¯è¿™æ ·çš„ä½œç”¨åŸŸè§„åˆ™ï¼Œæˆä¸ºäº†æ»‹ç”Ÿâ€œå˜é‡é®è”½é—®é¢˜â€çš„åœŸå£¤ã€‚</p><p>å˜é‡é®è”½é—®é¢˜çš„æ ¹æœ¬åŸå› ï¼Œå°±æ˜¯å†…å±‚ä»£ç å—ä¸­å£°æ˜äº†ä¸€ä¸ªä¸å¤–å±‚ä»£ç å—åŒåä¸”åŒç±»å‹çš„å˜é‡ï¼Œè¿™æ ·ï¼Œå†…å±‚ä»£ç å—ä¸­çš„åŒåå˜é‡å°±ä¼šæ›¿ä»£é‚£ä¸ªå¤–å±‚å˜é‡ï¼Œå‚ä¸æ­¤å±‚ä»£ç å—å†…çš„ç›¸å…³è®¡ç®—ï¼Œæˆ‘ä»¬ä¹Ÿå°±è¯´å†…å±‚å˜é‡é®è”½äº†å¤–å±‚åŒåå˜é‡ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹è¿™ä¸ªç¤ºä¾‹ä»£ç ï¼Œå®ƒå°±å­˜åœ¨ç€å¤šç§å˜é‡é®è”½çš„é—®é¢˜ï¼š</p><pre><code class=\"language-plain\">... ...\n var a int = 2020\n  \n func checkYear() error {\n     err := errors.New(\"wrong year\")\n \n     switch a, err := getYear(); a {\n     case 2020:\n         fmt.Println(\"it is\", a, err)\n     case 2021:\n         fmt.Println(\"it is\", a)\n         err = nil\n     }\n     fmt.Println(\"after check, it is\", a)\n     return err\n }\n \n type new int\n \n func getYear() (new, error) {\n     var b int16 = 2021\n     return new(b), nil\n }\n\n func main() {\n     err := checkYear()\n     if err != nil {\n         fmt.Println(\"call checkYear error:\", err)\n         return\n     }\n     fmt.Println(\"call checkYear ok\")\n }\n</code></pre><p>è¿™ä¸ªå˜é‡é®è”½çš„ä¾‹å­è¿˜æ˜¯æœ‰ç‚¹å¤æ‚çš„ï¼Œä¸ºäº†è®²è§£æ–¹ä¾¿ï¼Œæˆ‘ç»™ä»£ç åŠ ä¸Šäº†è¡Œç¼–å·ã€‚æˆ‘ä»¬é¦–å…ˆè¿è¡Œä¸€ä¸‹è¿™ä¸ªä¾‹å­ï¼š</p><pre><code class=\"language-plain\">$go run complex.go\nit is 2021\nafter check, it is 2020\ncall checkYear error: wrong year\n</code></pre><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç¬¬20è¡Œå®šä¹‰çš„getYearå‡½æ•°è¿”å›äº†æ­£ç¡®çš„å¹´ä»½(2021)ï¼Œä½†æ˜¯checkYearåœ¨ç»“å°¾å´è¾“å‡ºâ€œafter check, it is 2020â€ï¼Œå¹¶ä¸”è¿”å›çš„errå¹¶éä¸ºnilï¼Œè¿™æ˜¾ç„¶æ˜¯å˜é‡é®è”½çš„â€œé”…â€ï¼</p><p>æ ¹æ®æˆ‘ä»¬å‰é¢ç»™å‡ºçš„å˜é‡é®è”½çš„æ ¹æœ¬åŸå› ï¼Œæˆ‘ä»¬æ¥â€œæ‰¾æ‰¾èŒ¬â€ï¼Œçœ‹çœ‹ä¸Šé¢è¿™æ®µä»£ç ç©¶ç«Ÿæœ‰å‡ å¤„å˜é‡é®è”½é—®é¢˜ï¼ˆåŒ…æ‹¬æ ‡è¯†ç¬¦é®è”½é—®é¢˜ï¼‰ã€‚</p><p><strong>ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šé®è”½é¢„å®šä¹‰æ ‡è¯†ç¬¦ã€‚</strong></p><p>é¢å¯¹ä¸Šé¢ä»£ç ï¼Œæˆ‘ä»¬ä¸€çœ¼å°±çœ‹åˆ°äº†ä½äºç¬¬18è¡Œçš„newï¼Œè¿™æœ¬æ˜¯Goè¯­è¨€çš„ä¸€ä¸ªé¢„å®šä¹‰æ ‡è¯†ç¬¦ï¼Œä½†ä¸Šé¢ç¤ºä¾‹ä»£ç å‘¢ï¼Œå´ç”¨newè¿™ä¸ªåå­—å®šä¹‰äº†ä¸€ä¸ªæ–°ç±»å‹ï¼Œäºæ˜¯newè¿™ä¸ªæ ‡è¯†ç¬¦å°±è¢«é®è”½äº†ã€‚å¦‚æœè¿™ä¸ªæ—¶å€™ä½ åœ¨mainå‡½æ•°ä¸‹æ–¹æ”¾ä¸Šä¸‹é¢ä»£ç ï¼š</p><pre><code class=\"language-plain\">p := new(int)\n*p = 11\n</code></pre><p>ä½ å°±ä¼šæ”¶åˆ°Goç¼–è¯‘å™¨çš„é”™è¯¯æç¤ºï¼šâ€œtype int is not an expressionâ€ï¼Œå¦‚æœæ²¡æœ‰æ„è¯†åˆ°newè¢«é®è”½æ‰ï¼Œè¿™ä¸ªæç¤ºå°±ä¼šè®©ä½ ä¸çŸ¥æ‰€æªã€‚ä¸è¿‡ï¼Œåœ¨ä¸Šé¢ç¤ºä¾‹ä»£ç ä¸­ï¼Œé®è”½newå¹¶ä¸æ˜¯ç¤ºä¾‹æœªæŒ‰é¢„æœŸè¾“å‡ºç»“æœçš„çœŸå®åŸå› ï¼Œæˆ‘ä»¬è¿˜å¾—ç»§ç»­å¾€ä¸‹çœ‹ã€‚</p><p><strong>è¿™æ—¶æˆ‘ä»¬å‘ç°äº†ç¬¬äºŒä¸ªé—®é¢˜ï¼šé®è”½åŒ…ä»£ç å—ä¸­çš„å˜é‡ã€‚</strong></p><p>ä½ çœ‹ï¼Œä½äºç¬¬7è¡Œçš„switchè¯­å¥åœ¨å®ƒè‡ªèº«çš„éšå¼ä»£ç å—ä¸­ï¼Œé€šè¿‡çŸ­å˜é‡å£°æ˜å½¢å¼é‡æ–°å£°æ˜äº†ä¸€ä¸ªå˜é‡aï¼Œè¿™ä¸ªå˜é‡aå°±é®è”½äº†å¤–å±‚åŒ…ä»£ç å—ä¸­çš„åŒ…çº§å˜é‡aï¼Œè¿™å°±æ˜¯æ‰“å°â€œafter check, it is 2020â€çš„åŸå› ã€‚åŒ…çº§å˜é‡aæ²¡æœ‰å¦‚é¢„æœŸé‚£æ ·è¢«getYearçš„è¿”å›å€¼èµ‹å€¼ä¸ºæ­£ç¡®çš„å¹´ä»½2021ï¼Œ2021è¢«èµ‹å€¼ç»™äº†é®è”½å®ƒçš„switchè¯­å¥éšå¼ä»£ç å—ä¸­çš„é‚£ä¸ªæ–°å£°æ˜çš„aã€‚</p><p><strong>ä¸è¿‡ï¼ŒåŒä¸€è¡Œé‡Œï¼Œå…¶å®è¿˜æœ‰ç¬¬ä¸‰ä¸ªé—®é¢˜ï¼šé®è”½å¤–å±‚æ˜¾å¼ä»£ç å—ä¸­çš„å˜é‡ã€‚</strong></p><p>åŒæ ·è¿˜æ˜¯ç¬¬7è¡Œçš„switchè¯­å¥ï¼Œé™¤äº†å£°æ˜ä¸€ä¸ªæ–°çš„å˜é‡aä¹‹å¤–ï¼Œå®ƒè¿˜å£°æ˜äº†ä¸€ä¸ªåä¸ºerrçš„å˜é‡ï¼Œè¿™ä¸ªå˜é‡å°±é®è”½äº†ç¬¬4è¡ŒcheckYearå‡½æ•°åœ¨æ˜¾å¼ä»£ç å—ä¸­å£°æ˜çš„errå˜é‡ï¼Œè¿™å¯¼è‡´ç¬¬12è¡Œçš„nilèµ‹å€¼åŠ¨ä½œä½œç”¨åˆ°äº†switchéšå¼ä»£ç å—ä¸­çš„errå˜é‡ä¸Šï¼Œè€Œä¸æ˜¯å¤–å±‚checkYearå£°æ˜çš„æœ¬åœ°å˜é‡errå˜é‡ä¸Šï¼Œåè€…å¹¶énilï¼Œè¿™æ ·checkYearè™½ç„¶ä»getYearå¾—åˆ°äº†æ­£ç¡®çš„å¹´ä»½å€¼ï¼Œä½†å´è¿”å›äº†ä¸€ä¸ªé”™è¯¯ç»™mainå‡½æ•°ï¼Œè¿™ç›´æ¥å¯¼è‡´äº†mainå‡½æ•°æ‰“å°äº†é”™è¯¯ï¼šâ€œcall checkYear error: wrong yearâ€ã€‚</p><p>é€šè¿‡è¿™ä¸ªç¤ºä¾‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼ŒçŸ­å˜é‡å£°æ˜ä¸æ§åˆ¶è¯­å¥çš„ç»“åˆååˆ†å®¹æ˜“å¯¼è‡´å˜é‡é®è”½é—®é¢˜ï¼Œå¹¶ä¸”å¾ˆä¸å®¹æ˜“è¯†åˆ«ï¼Œå› æ­¤åœ¨æ—¥å¸¸goä»£ç å¼€å‘ä¸­ä½ è¦å°¤å…¶æ³¨æ„ä¸¤è€…ç»“åˆä½¿ç”¨çš„åœ°æ–¹ã€‚</p><p>ä¸è¿‡ï¼Œä¾é è‚‰çœ¼è¯†åˆ«å˜é‡é®è”½é—®é¢˜ç»ˆå½’ä¸æ˜¯é•¿ä¹…ä¹‹è®¡ï¼Œæœ‰æ²¡æœ‰å·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¯†åˆ«è¿™ç±»é—®é¢˜å‘¢ï¼Ÿå…¶å®æ˜¯æœ‰çš„ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥ä»‹ç»ä¸€ä¸‹å¯ä»¥æ£€æµ‹å˜é‡é®è”½é—®é¢˜çš„å·¥å…·ã€‚</p><h2>åˆ©ç”¨å·¥å…·æ£€æµ‹å˜é‡é®è”½é—®é¢˜</h2><p>Goå®˜æ–¹æä¾›äº†go vetå·¥å…·å¯ä»¥ç”¨äºå¯¹Goæºç åšä¸€ç³»åˆ—é™æ€æ£€æŸ¥ï¼Œåœ¨Go 1.14ç‰ˆä»¥å‰é»˜è®¤æ”¯æŒå˜é‡é®è”½æ£€æŸ¥ï¼ŒGo 1.14ç‰ˆä¹‹åï¼Œå˜é‡é®è”½æ£€æŸ¥çš„æ’ä»¶å°±éœ€è¦æˆ‘ä»¬å•ç‹¬å®‰è£…äº†ï¼Œå®‰è£…æ–¹æ³•å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">$go install golang.org/x/tools/go/analysis/passes/shadow/cmd/shadow@latest\ngo: downloading golang.org/x/tools v0.1.5\ngo: downloading golang.org/x/mod v0.4.2\n</code></pre><p>ä¸€æ—¦å®‰è£…æˆåŠŸï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡go vetæ‰«æä»£ç å¹¶æ£€æŸ¥è¿™é‡Œé¢æœ‰æ²¡æœ‰å˜é‡é®è”½çš„é—®é¢˜äº†ã€‚æˆ‘ä»¬ç°åœ¨å°±æ¥æ£€æŸ¥ä¸€ä¸‹å‰é¢çš„ç¤ºä¾‹ä»£ç ï¼Œçœ‹çœ‹æ•ˆæœæ€ä¹ˆæ ·ã€‚æ‰§è¡Œæ£€æŸ¥çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">$go vet -vettool=$(which shadow) -strict complex.go \n./complex.go:13:12: declaration of \"err\" shadows declaration at line 11\n</code></pre><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œgo vetåªç»™å‡ºäº†errå˜é‡è¢«é®è”½çš„æç¤ºï¼Œå˜é‡aä»¥åŠé¢„å®šä¹‰æ ‡è¯†ç¬¦newè¢«é®è”½çš„æƒ…å†µå¹¶æ²¡æœ‰ç»™å‡ºæç¤ºã€‚å¯ä»¥çœ‹åˆ°ï¼Œå·¥å…·ç¡®å®å¯ä»¥è¾…åŠ©æ£€æµ‹ï¼Œä½†ä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„ï¼Œä¸èƒ½ç©·å°½æ‰¾å‡ºä»£ç ä¸­çš„æ‰€æœ‰é—®é¢˜ï¼Œæ‰€ä»¥ä½ è¿˜æ˜¯è¦æ·±å…¥ç†è§£ä»£ç å—ä¸ä½œç”¨åŸŸçš„æ¦‚å¿µï¼Œå°½å¯èƒ½åœ¨æ—¥å¸¸ç¼–ç æ—¶å°±ä¸»åŠ¨è§„é¿æ‰æ‰€æœ‰é®è”½é—®é¢˜ã€‚</p><h2>å°ç»“</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„è¯¾è®²åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œç°åœ¨æˆ‘ä»¬ä¸€èµ·æ¥å›é¡¾ä¸€ä¸‹å§ã€‚</p><p>åœ¨è¿™ä¸€è®²ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦å¤–ä¸¤ä¸ªå˜é‡ç›¸å…³çš„æ¦‚å¿µï¼šä»£ç å—ä¸ä½œç”¨åŸŸã€‚</p><p>ä»£ç å—æœ‰æ˜¾å¼ä¸éšå¼ä¹‹åˆ†ï¼Œæ˜¾å¼ä»£ç å—å°±æ˜¯åŒ…è£¹åœ¨ä¸€å¯¹é…å¯¹å¤§æ‹¬å·å†…éƒ¨çš„è¯­å¥åºåˆ—ï¼Œè€Œéšå¼ä»£ç å—åˆ™ä¸å®¹æ˜“è‚‰çœ¼åˆ†è¾¨ï¼Œå®ƒæ˜¯é€šè¿‡Goè¯­è¨€è§„èŒƒæ˜ç¡®è§„å®šçš„ã€‚éšå¼ä»£ç å—æœ‰äº”ç§ï¼Œåˆ†åˆ«æ˜¯å®‡å®™ä»£ç å—ã€åŒ…ä»£ç å—ã€æ–‡ä»¶ä»£ç å—ã€åˆ†æ”¯æ§åˆ¶è¯­å¥éšå¼ä»£ç å—ï¼Œä»¥åŠswitch/selectçš„å­å¥éšå¼ä»£ç å—ï¼Œç†è§£éšå¼ä»£ç å—æ˜¯ç†è§£ä»£ç å—æ¦‚å¿µä»¥åŠåç»­ä½œç”¨åŸŸæ¦‚å¿µçš„å‰æä¸åŸºç¡€ã€‚</p><p>ä½œç”¨åŸŸçš„æ¦‚å¿µæ˜¯Goæºç ç¼–è¯‘è¿‡ç¨‹ä¸­æ ‡è¯†ç¬¦ï¼ˆåŒ…æ‹¬å˜é‡ï¼‰çš„ä¸€ä¸ªå±æ€§ã€‚Goç¼–è¯‘å™¨ä¼šæ ¡éªŒæ¯ä¸ªæ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸï¼Œå¦‚æœå®ƒçš„ä½¿ç”¨èŒƒå›´è¶…å‡ºå…¶ä½œç”¨åŸŸï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</p><p>ä¸è¿‡å‘¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»£ç å—çš„æ¦‚å¿µæ¥åˆ’å®šæ¯ä¸ªæ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸã€‚åˆ’å®šåŸåˆ™å°±æ˜¯å£°æ˜äºå¤–å±‚ä»£ç å—ä¸­çš„æ ‡è¯†ç¬¦ï¼Œå…¶ä½œç”¨åŸŸåŒ…æ‹¬æ‰€æœ‰å†…å±‚ä»£ç å—ã€‚ä½†æ˜¯ï¼ŒGoçš„è¿™ç§ä½œç”¨åŸŸåˆ’å®šä¹Ÿå¸¦æ¥äº†å˜é‡é®è”½é—®é¢˜ã€‚ç®€å•çš„é®è”½é—®é¢˜ï¼Œæˆ‘ä»¬é€šè¿‡åˆ†æä»£ç å¯ä»¥å¾ˆå¿«æ‰¾å‡ºï¼Œå¤æ‚çš„é®è”½é—®é¢˜ï¼Œå³ä¾¿æ˜¯é€šè¿‡go vetè¿™æ ·çš„é™æ€ä»£ç åˆ†æå·¥å…·ä¹Ÿéš¾äºæ‰¾å…¨ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬åªæœ‰äº†è§£å˜é‡é®è”½é—®é¢˜æœ¬è´¨ï¼Œåœ¨æ—¥å¸¸ç¼–å†™ä»£ç æ—¶æ³¨æ„åŒåå˜é‡çš„å£°æ˜ï¼Œæ³¨æ„çŸ­å˜é‡å£°æ˜ä¸æ§åˆ¶è¯­å¥çš„ç»“åˆï¼Œæ‰èƒ½ä»æ ¹æºä¸Šå°½é‡é¿å…å˜é‡é®è”½é—®é¢˜çš„å‘ç”Ÿã€‚</p><h2>æ€è€ƒé¢˜</h2><p>ä»Šå¤©çš„æ€è€ƒé¢˜ï¼Œä½ çŸ¥é“æ€ä¹ˆæ¥ä¿®æ­£æˆ‘ä»¬è¿™èŠ‚è¯¾æœ€åé‚£ä¸ªå¤æ‚çš„å˜é‡é®è”½çš„ä¾‹å­å—ï¼ŸæœŸå¾…åœ¨ç•™è¨€åŒºè§åˆ°ä½ çš„ç­”æ¡ˆã€‚</p><p>æ„Ÿè°¢ä½ å’Œæˆ‘ä¸€èµ·å­¦ä¹ ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™æ›´å¤šå¯¹Goè¯­è¨€æ„Ÿå…´è¶£çš„æœ‹å‹ã€‚æˆ‘æ˜¯Tony Baiï¼Œæˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ã€‚</p>","neighbors":{"left":{"article_title":"10ï½œå˜é‡å£°æ˜ï¼šé™æ€è¯­è¨€æœ‰åˆ«äºåŠ¨æ€è¯­è¨€çš„é‡è¦ç‰¹å¾","id":435858},"right":{"article_title":"12ï½œåŸºæœ¬æ•°æ®ç±»å‹ï¼šGoåŸç”Ÿæ”¯æŒçš„æ•°å€¼ç±»å‹æœ‰å“ªäº›ï¼Ÿ","id":439782}},"comments":[{"had_liked":false,"id":321021,"user_name":"Geek_b6da5d","can_delete":false,"product_type":"c1","uid":2840222,"ip_address":"","ucode":"5DD79D2367ADA4","user_header":"","comment_is_top":false,"comment_ctime":1636623179,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"113305772875","product_id":100093501,"comment_content":"golandå…¶å®èƒ½å¤Ÿçœ‹å‡ºå˜é‡çš„ä½œç”¨åŸŸ é¢œè‰²ä¸Šæ˜¯ä¸ä¸€æ ·çš„ ","like_count":27,"discussions":[{"author":{"id":2611193,"avatar":"https://static001.geekbang.org/account/avatar/00/27/d7/f9/4c08ed90.jpg","nickname":"é‚µåº·","note":"","ucode":"B7E84309EE9C43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574415,"discussion_content":"goland YYDS","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654049942,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1019807,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8f/9f/e49b68ea.jpg","nickname":"å¹½å¼¥ç‹‚","note":"","ucode":"5AECEA7D6ADF33","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":568451,"discussion_content":"è¿˜çœŸæ˜¯å“Ÿ 666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651139689,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320186,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1636111970,"is_pvip":false,"replies":[{"id":"116272","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":"1026224","ctime":1636427036,"ip_address":"","comment_id":320186,"utype":1}],"discussion_count":7,"race_medal":0,"score":"35995850338","product_id":100093501,"comment_content":"å…³äºè¿™ä¸€å—å„¿çš„çŸ¥è¯†å…¶å®è¿˜æŒºç»•çš„ã€‚<br><br>ä¸åŒä»£ç å—ä¸­çš„é‡åå˜é‡ä¸å˜é‡é‡å£°æ˜ä¸­çš„å˜é‡åŒºåˆ«åˆ°åº•åœ¨å“ªå„¿ï¼Ÿä¸ºäº†æ–¹ä¾¿æè¿°ï¼Œæˆ‘å°±æŠŠä¸åŒä»£ç å—ä¸­çš„é‡åå˜é‡å«åšâ€œå¯é‡åå˜é‡â€å§ã€‚æ³¨æ„ï¼Œåœ¨åŒä¸€ä¸ªä»£ç å—ä¸­ä¸å…è®¸å‡ºç°é‡åçš„å˜é‡ï¼Œè¿™è¿èƒŒäº† Go è¯­è¨€çš„è¯­æ³•ã€‚å…³äºè¿™ä¸¤è€…çš„è¡¨è±¡å’Œæœºç†ï¼Œæˆ‘ä»¬å·²ç»è®¨è®ºå¾—è¶³å¤Ÿå……åˆ†äº†ã€‚ä½ ç°åœ¨å¯ä»¥è¯´å‡ºå‡ æ¡åŒºåˆ«ï¼Ÿè¯·æƒ³ä¸€æƒ³ï¼Œç„¶åå†çœ‹ä¸‹é¢çš„åˆ—è¡¨ã€‚<br><br>1. å˜é‡é‡å£°æ˜ä¸­çš„å˜é‡ä¸€å®šæ˜¯åœ¨æŸä¸€ä¸ªä»£ç å—å†…çš„ã€‚æ³¨æ„ï¼Œè¿™é‡Œçš„â€œæŸä¸€ä¸ªä»£ç å—å†…â€å¹¶ä¸åŒ…å«å®ƒçš„ä»»ä½•å­ä»£ç å—ï¼Œå¦åˆ™å°±å˜æˆäº†â€œå¤šä¸ªä»£ç å—ä¹‹é—´â€ã€‚è€Œå¯é‡åå˜é‡æŒ‡çš„æ­£æ˜¯åœ¨å¤šä¸ªä»£ç å—ä¹‹é—´ç”±ç›¸åŒçš„æ ‡è¯†ç¬¦ä»£è¡¨çš„å˜é‡ã€‚<br><br>2. å˜é‡é‡å£°æ˜æ˜¯å¯¹åŒä¸€ä¸ªå˜é‡çš„å¤šæ¬¡å£°æ˜ï¼Œè¿™é‡Œçš„å˜é‡åªæœ‰ä¸€ä¸ªã€‚è€Œå¯é‡åå˜é‡ä¸­æ¶‰åŠçš„å˜é‡è‚¯å®šæ˜¯æœ‰å¤šä¸ªçš„ã€‚<br><br>3. ä¸è®ºå¯¹å˜é‡é‡å£°æ˜å¤šå°‘æ¬¡ï¼Œå…¶ç±»å‹å¿…é¡»å§‹ç»ˆä¸€è‡´ï¼Œå…·ä½“éµä»å®ƒç¬¬ä¸€æ¬¡è¢«å£°æ˜æ—¶ç»™å®šçš„ç±»å‹ã€‚è€Œå¯é‡åå˜é‡ä¹‹é—´ä¸å­˜åœ¨ç±»ä¼¼çš„é™åˆ¶ï¼Œå®ƒä»¬çš„ç±»å‹å¯ä»¥æ˜¯ä»»æ„çš„ã€‚<br><br>4. å¦‚æœå¯é‡åå˜é‡æ‰€åœ¨çš„ä»£ç å—ä¹‹é—´ï¼Œå­˜åœ¨ç›´æ¥æˆ–é—´æ¥çš„åµŒå¥—å…³ç³»ï¼Œé‚£ä¹ˆå®ƒä»¬ä¹‹é—´ä¸€å®šä¼šå­˜åœ¨â€œå±è”½â€çš„ç°è±¡ã€‚ä½†æ˜¯è¿™ç§ç°è±¡ç»å¯¹ä¸ä¼šåœ¨å˜é‡é‡å£°æ˜çš„åœºæ™¯ä¸‹å‡ºç°ã€‚","like_count":9,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529910,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636427036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3017168,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/09/d0/8609bddc.jpg","nickname":"æˆ’è´ªå—”ç—´","note":"","ucode":"D53EA3525DBD71","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574759,"discussion_content":"è¿˜æ˜¯çœ‹ä»£ç ç†è§£å§ï¼Œä½ è¿™è½¦çš„ï¼Œé¬¼æ‰¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654322476,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572777,"discussion_content":"å°±ä¸€ä¸ªå­—ï¼Œè¶Šè¯´è¶Šç»•ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652952197,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2806043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBFkSq1oiaEMRjtyyv4ZpCI0OuaSsqs04ODm0OkZF6QhsAh3SvqhxibS2n7PLAVZE3QRSn5Hic0DyXg/132","nickname":"ddh","note":"","ucode":"8E852375365F16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413638,"discussion_content":"ä¸ä»”ç»†çœ‹éƒ½è¢«ä½ ç»•è¿›å»äº†ï¼Œå¯é‡åå˜é‡ï¼Œå˜é‡é‡å£°æ˜ã€‚ã€‚ã€‚ ä¸ºå•¥å¼€å‘ä¸­æ„Ÿè§‰è‡ªç„¶è€Œç„¶æ„Ÿè§‰å¾ˆç®€å•çš„é—®é¢˜ï¼Œè¿™æ€»ç»“çš„çŒ›çš„ä¸€çœ‹ï¼Œçœ‹ä¸æ‡‚ã€‚ã€‚ã€‚ æ˜¯ä¸æ˜¯æˆ‘åŸºç¡€ä¸æ‰å®ï¼ï¼ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636532004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2806043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBFkSq1oiaEMRjtyyv4ZpCI0OuaSsqs04ODm0OkZF6QhsAh3SvqhxibS2n7PLAVZE3QRSn5Hic0DyXg/132","nickname":"ddh","note":"","ucode":"8E852375365F16","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414867,"discussion_content":"å“ˆå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636905564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":413638,"ip_address":""},"score":414867,"extra":""},{"author":{"id":2354184,"avatar":"https://static001.geekbang.org/account/avatar/00/23/ec/08/68cf2f1b.jpg","nickname":"116153","note":"","ucode":"FDB596BA11A24C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2806043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBFkSq1oiaEMRjtyyv4ZpCI0OuaSsqs04ODm0OkZF6QhsAh3SvqhxibS2n7PLAVZE3QRSn5Hic0DyXg/132","nickname":"ddh","note":"","ucode":"8E852375365F16","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560397,"discussion_content":"åŒæ„Ÿï¼Œæœ¬æ¥å°±æ˜¯ä¸€ä¸ªå˜é‡å¤šæ¬¡èµ‹å€¼é—®é¢˜ï¼Œè®²äº†è¿™ä¹ˆå¤šæ–°åè¯ï¼Œåè€Œå˜å¤æ‚äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649314437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":413638,"ip_address":""},"score":560397,"extra":""},{"author":{"id":1435913,"avatar":"https://static001.geekbang.org/account/avatar/00/15/e9/09/dacdf280.jpg","nickname":"cczyWyc","note":"","ucode":"C4141007379250","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2806043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBFkSq1oiaEMRjtyyv4ZpCI0OuaSsqs04ODm0OkZF6QhsAh3SvqhxibS2n7PLAVZE3QRSn5Hic0DyXg/132","nickname":"ddh","note":"","ucode":"8E852375365F16","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":563885,"discussion_content":"ä»–è¿™é‡Œçš„è¿™ä¸ªè¯„è®ºæ˜¯æŠ„çš„å¦å¤–ä¸€ä¸ªgoä¸“æ çš„è€å¸ˆæ€»ç»“çš„ï¼Œè¿™é‡Œç¡®å®æäº†å¾ˆå¤šæ–°åè¯ï¼Œå¤ªç»•äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650103899,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":413638,"ip_address":""},"score":563885,"extra":""}]}]},{"had_liked":false,"id":324443,"user_name":"æ‰£å‰‘ä¹¦ç”Ÿ","can_delete":false,"product_type":"c1","uid":2855599,"ip_address":"","ucode":"6F5FD189D2916C","user_header":"https://static001.geekbang.org/account/avatar/00/2b/92/af/ad02ae4b.jpg","comment_is_top":false,"comment_ctime":1638436144,"is_pvip":false,"replies":[{"id":"117976","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1638829862,"ip_address":"","comment_id":324443,"utype":1}],"discussion_count":3,"race_medal":0,"score":"27408239920","product_id":100093501,"comment_content":"func checkYear() error {<br>\terr := errors.New(&quot;wrong year&quot;)<br><br>\t&#47;&#47; çŸ­å˜é‡å½¢å¼ï¼Œå±è”½äº†å¤–å±‚çš„åŒ…çº§å˜é‡ aï¼Œä»£æ›¿ å…¶æ¥æ”¶å€¼<br>\t&#47;&#47; errä»£æ›¿ä¸Šé¢ çš„ erræ¥æ”¶å€¼<br>\t<br>\t&#47;&#47; æ¥æ”¶æ”¾åœ¨ switch ä½œç”¨åŸŸå¤– <br>\ta, err := getYear()<br><br>\tswitch a {<br>\tcase 2020:<br>\t\tfmt.Println(&quot;å“¦å“¦å“¦it is&quot;, a, err)<br>\tcase 2021:<br>\t\tfmt.Println(&quot;it is&quot;, a)<br>\t\terr = nil<br>\t}<br>\tfmt.Println(&quot;after check, it is&quot;, a)<br>\treturn err<br>}","like_count":6,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536603,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638829862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2831170,"avatar":"","nickname":"Geek_8de965","note":"","ucode":"75880FD1790C37","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576424,"discussion_content":"è¿™æ ·å†™çš„è¯ï¼Œaå’ŒåŒ…å˜é‡ä¸æ˜¯åŒä¸€ä¸ªï¼Œä½†æ˜¯errå’Œå±€éƒ¨å˜é‡æ˜¯åŒä¸€ä¸ªã€‚å¹¶ä¸”æˆ‘è¯•äº†ä¸‹ï¼Œ:=è¿™ç§æ–¹å¼ï¼Œå·¦ä¾§å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªæ–°å˜é‡å£°æ˜ï¼Œå¦åˆ™ç¼–è¯‘ä¸è¿‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655536682,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572783,"discussion_content":"FYI\nä¸èƒ½ç®€å•å°†a, err := getYear();æåˆ°switchå¤–é¢ï¼Œå¦åˆ™è¾“å‡ºä¸ä¸€è‡´ï¼Œéœ€è¦åŠ ä¸ª{}åŒ…è£¹èµ·æ¥\n\nä¸‹é¢æ˜¯ä¿®æ”¹çš„ä»£ç ï¼Œè¾“å‡ºç»“æœä¿æŒä¸€è‡´\nfunc checkYearExplain() error {\n\terr := errors.New(&#34;wrong year&#34;)\n\n\t{\n\t\ta, err := getYear()\n\t\tswitch a {\n\t\tcase 2020:\n\t\t\t{\n\t\t\t\tfmt.Println(&#34;it is&#34;, a, err)\n\t\t\t}\n\t\tcase 2021:\n\t\t\t{\n\t\t\t\tfmt.Println(&#34;it is&#34;, a)\n\t\t\t\terr = nil\n\t\t\t}\n\t\t}\n\t}\n\n\tfmt.Println(&#34;after check, it is&#34;, a)\n\treturn err\n}\n\nâœ  golearning go run demo1.go \nit is 2021\nafter check, it is 2020\ncall checkYear error: wrong year\nâœ  golearning go run demo1.go\nit is 2021\nafter check, it is 2020\ncall checkYear error: wrong year\nâœ  golearning ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652953061,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321245,"user_name":"æ–‡ç»","can_delete":false,"product_type":"c1","uid":1072346,"ip_address":"","ucode":"2C059BD2A4276B","user_header":"https://static001.geekbang.org/account/avatar/00/10/5c/da/0a8bc27b.jpg","comment_is_top":false,"comment_ctime":1636724269,"is_pvip":true,"replies":[{"id":"116792","content":"ä¹Ÿç®—æ˜¯ä¸€ä¸ªåŠæ³•ã€‚å‰ææ˜¯æ˜ç¡®è§„åˆ™ï¼Œä¸”å¤§å®¶éƒ½éµå®ˆã€‚è¿™æ ·æ‰èƒ½åœ¨åä½œä¸­ï¼Œå‡å°‘é®è”½é—®é¢˜çš„å‘ç”Ÿé¢‘åº¦ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":"1026224","ctime":1636966243,"ip_address":"","comment_id":321245,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23111560749","product_id":100093501,"comment_content":"çº¦å®šå·åŒ…çº§åˆ«çš„å˜é‡ç”¨é•¿çš„åå­—ï¼Œè¶Šæ˜¯å±€éƒ¨çš„å˜é‡ç”¨è¶ŠçŸ­å°çš„åå­—ï¼Œåº”è¯¥èƒ½å¤Ÿè§£å†³ä¸€å¤§éƒ¨åˆ†å˜é‡zheé®è”½çš„é—®é¢˜ã€‚","like_count":5,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530250,"discussion_content":"ä¹Ÿç®—æ˜¯ä¸€ä¸ªåŠæ³•ã€‚å‰ææ˜¯æ˜ç¡®è§„åˆ™ï¼Œä¸”å¤§å®¶éƒ½éµå®ˆã€‚è¿™æ ·æ‰èƒ½åœ¨åä½œä¸­ï¼Œå‡å°‘é®è”½é—®é¢˜çš„å‘ç”Ÿé¢‘åº¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636966243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320074,"user_name":"Amosãƒ¾","can_delete":false,"product_type":"c1","uid":1567014,"ip_address":"","ucode":"833F6FCB4042AD","user_header":"https://static001.geekbang.org/account/avatar/00/17/e9/26/afc08398.jpg","comment_is_top":false,"comment_ctime":1636076212,"is_pvip":true,"replies":[{"id":"116244","content":"ä¸é‡åè‚¯å®šä¸ä¼šé®è”½ã€‚ä½†æ˜¯å®é™…ç¼–ç ä¸­ï¼Œä¸€äº›å¸¸ç”¨çš„åŠŸèƒ½å˜é‡ï¼Œæ¯”å¦‚è¡¨ç¤ºé”™è¯¯çš„errã€è¡¨ç¤ºä¸‹æ ‡çš„iï¼Œè¡¨ç¤ºkeyå’Œvalueçš„kã€vç­‰ï¼Œå¦‚æœè¦åšä¸åŒå‘½åï¼Œå¾ˆå®¹æ˜“åœ¨ä»£ç ä¸­å‡ºç°å¤§é‡çš„k1,v1,k2,v2ç­‰ï¼Œé˜…è¯»èµ·æ¥æ€»æ˜¯æ„Ÿè§‰ç¼ºå°‘äº†ä¸€äº›ä¼˜é›…æ„Ÿã€‚ä¸çŸ¥ä½ æ˜¯å¦æœ‰åŒæ„Ÿã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":"1026224","ctime":1636422100,"ip_address":"","comment_id":320074,"utype":1}],"discussion_count":3,"race_medal":1,"score":"18815945396","product_id":100093501,"comment_content":"å¯ä¸å¯ä»¥é€šè¿‡å˜é‡å°½é‡ä¸é‡åæ¥é¿å…å˜é‡é®è”½å‘¢ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529863,"discussion_content":"ä¸é‡åè‚¯å®šä¸ä¼šé®è”½ã€‚ä½†æ˜¯å®é™…ç¼–ç ä¸­ï¼Œä¸€äº›å¸¸ç”¨çš„åŠŸèƒ½å˜é‡ï¼Œæ¯”å¦‚è¡¨ç¤ºé”™è¯¯çš„errã€è¡¨ç¤ºä¸‹æ ‡çš„iï¼Œè¡¨ç¤ºkeyå’Œvalueçš„kã€vç­‰ï¼Œå¦‚æœè¦åšä¸åŒå‘½åï¼Œå¾ˆå®¹æ˜“åœ¨ä»£ç ä¸­å‡ºç°å¤§é‡çš„k1,v1,k2,v2ç­‰ï¼Œé˜…è¯»èµ·æ¥æ€»æ˜¯æ„Ÿè§‰ç¼ºå°‘äº†ä¸€äº›ä¼˜é›…æ„Ÿã€‚ä¸çŸ¥ä½ æ˜¯å¦æœ‰åŒæ„Ÿã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636422100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556375,"discussion_content":"åˆçœ‹äº†ä¸€éï¼Œæœç„¶çœ‹ä¸€éæ˜¯è®°ä¸ä½çš„ï¼Œå¹³æ—¶ä¸»è¦å†™PHPä»£ç ï¼Œå› ä¸ºåªæ”¯æŒå‡½æ•°ä½œç”¨åŸŸï¼Œæ‰€ä»¥ï¼Œä¸ä¼šå‡ºç°ä¸Šé¢çš„é—®é¢˜ï¼Œè€Œä¸”ä½¿ç”¨é‡åçš„å˜é‡å¥½å¤„ä¹‹ä¸€ï¼Œå‡å°‘å†…å­˜å ç”¨ã€‚\næ‰€ä»¥ï¼Œè€å¸ˆï¼ŒåŒå­¦ï¼Œæˆ‘æƒ³é—®ï¼Œåˆ’åˆ†è¿™ä¹ˆç»†çš„ä½œç”¨åŸŸçš„ç›®çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647334082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553552,"discussion_content":"å“ˆå“ˆ æˆ‘è§‰å¾—è¿˜å¥½å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645965442,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320292,"user_name":"ç¨‹æ—­é˜³","can_delete":false,"product_type":"c1","uid":1027691,"ip_address":"","ucode":"54BEAD957CEF21","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ae/6b/b72b0d90.jpg","comment_is_top":false,"comment_ctime":1636204353,"is_pvip":true,"replies":[{"id":"116269","content":"æ­£ç¡®âœ…","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":"1026224","ctime":1636426577,"ip_address":"","comment_id":320292,"utype":1}],"discussion_count":3,"race_medal":0,"score":"14521106241","product_id":100093501,"comment_content":"go1.17.1 `type new int`ä¼šæŠ¥é”™ï¼š <br>cannot assign new to a (type int) in multiple assignment<br>cannot use new value as type int in assignment<br>ä¿®æ”¹ä¸º `type new = int` ä¹‹åä¸å†æŠ¥é”™<br><br>æ€è€ƒé¢˜è§£å†³æ–¹æ³•ï¼š<br>package main<br><br>import (<br>    &quot;fmt&quot;<br>    &quot;errors&quot;<br>)<br><br>var a int = 2020<br><br>func checkYear() error {<br><br>    err := errors.New(&quot;wrong year&quot;)<br><br>    switch a, err = getYear(); a {<br>    case 2020:<br>        fmt.Println(&quot;it is&quot;, a, err)<br>    case 2021:<br>        fmt.Println(&quot;it is&quot;, a)<br>        err = nil<br>    }<br>    fmt.Println(&quot;after check, it is&quot;, a)<br>    return err<br>}<br><br>type year = int<br><br>func getYear() (year, error) {<br>    var b int16 = 2021<br>    return year(b), nil<br>}<br><br>func main() {<br>    err := checkYear()<br>    if err != nil {<br>        fmt.Println(&quot;call checkYear error:&quot;, err)<br>        return<br>    }<br>    fmt.Println(&quot;call checkYear ok&quot;)<br>}","like_count":3,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529942,"discussion_content":"æ­£ç¡®âœ…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636426577,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572784,"discussion_content":"type new int æˆ‘æœ¬åœ°æ‰§è¡Œï¼Œå¹¶æ²¡æœ‰çœ‹åˆ°æŠ¥é”™ï¼ŸTBD\n\nâœ  golearning go run demo1.go\nit is 2021\nafter check, it is 2020\ncall checkYear error: wrong year\nâœ  golearning go version\ngo version go1.17.6 darwin/amd64\nâœ  golearning ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652953197,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1006786,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5c/c2/8ffd2ad0.jpg","nickname":"qqq","note":"","ucode":"91B0ACF8CBE7BD","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555913,"discussion_content":"switch å…³é”®å­—é‚£ä¸€è¡Œå°‘äº†ä¸ªå†’å·ï¼Œå£°æ˜å˜æˆäº†èµ‹å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647099077,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320268,"user_name":"Rayjun","can_delete":false,"product_type":"c1","uid":1002514,"ip_address":"","ucode":"61A3D1A3D03569","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4c/12/f0c145d4.jpg","comment_is_top":false,"comment_ctime":1636188969,"is_pvip":true,"replies":[{"id":"116271","content":"æœ‰ä¸€ç‚¹æé†’ä¸€ä¸‹ï¼šæ—¢ç„¶æˆ‘ä»¬çŸ¥é“äº†newæ˜¯é¢„å®šä¹‰çš„æ ‡è¯†ç¬¦ï¼Œæˆ‘ä»¬åœ¨æ—¥å¸¸ç¼–å†™ä»£ç ä¸­å°½é‡è¦é¿å…é‡æ–°å®šä¹‰new.","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":"1026224","ctime":1636426850,"ip_address":"","comment_id":320268,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10226123561","product_id":100093501,"comment_content":"ä¿®æ”¹ä¸¤ä¸ªåœ°æ–¹ï¼ŒæŠŠ a çš„ç±»å‹æ”¹æˆ newï¼Œå¹¶ å»æ‰ switch é‚£çš„ä¸€ä¸ªå¼•å·<br><br>var a new = 2020 <br><br>func checkYear() error { <br>\terr := errors.New(&quot;wrong year&quot;) <br>\tswitch a, err = getYear(); a { <br>\tcase 2020: <br>\t\tfmt.Println(&quot;it is&quot;, a, err) <br>\tcase 2021: <br>\t\tfmt.Println(&quot;it is&quot;, a) <br>\t\terr = nil <br>\t} <br>\tfmt.Println(&quot;after check, it is&quot;, a) <br>\treturn err <br>} <br><br>type new int <br><br>func getYear() (new, error) { <br>\tvar b int16 = 2021 <br>\treturn new(b), nil <br>} <br><br>func main() { <br>\terr := checkYear() <br>\tif err != nil { <br>\t\tfmt.Println(&quot;call checkYear error:&quot;, err) <br>\t\treturn <br>\t} <br>\tfmt.Println(&quot;call checkYear ok&quot;) <br>}","like_count":2,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529934,"discussion_content":"æœ‰ä¸€ç‚¹æé†’ä¸€ä¸‹ï¼šæ—¢ç„¶æˆ‘ä»¬çŸ¥é“äº†newæ˜¯é¢„å®šä¹‰çš„æ ‡è¯†ç¬¦ï¼Œæˆ‘ä»¬åœ¨æ—¥å¸¸ç¼–å†™ä»£ç ä¸­å°½é‡è¦é¿å…é‡æ–°å®šä¹‰new.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636426850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320190,"user_name":"ç½—æ°","can_delete":false,"product_type":"c1","uid":1320487,"ip_address":"","ucode":"96BAFAA147341F","user_header":"https://static001.geekbang.org/account/avatar/00/14/26/27/eba94899.jpg","comment_is_top":false,"comment_ctime":1636113323,"is_pvip":false,"discussion_count":0,"race_medal":2,"score":"10226047915","product_id":100093501,"comment_content":"è¿™èŠ‚è¯¾é€‚åº”åœ¨ç”µè„‘ä¸Šé˜…è¯»ï¼Œè€Œä¸”è¦ç”¨å¿ƒçœ‹","like_count":2},{"had_liked":false,"id":330851,"user_name":"ç‹¬é’“å¯’æ±Ÿ","can_delete":false,"product_type":"c1","uid":2812836,"ip_address":"","ucode":"53C15891B7E800","user_header":"https://static001.geekbang.org/account/avatar/00/2a/eb/a4/b247e9b7.jpg","comment_is_top":false,"comment_ctime":1642223902,"is_pvip":false,"replies":[{"id":"121587","content":"ä¸€æ—¦â€œç¦æ­¢ç”¨é¢„å®šä¹‰æ ‡è¯†ç¬¦å®šä¹‰æ–°ç±»å‹æˆ–è€…å˜é‡çš„è¡Œä¸ºâ€ï¼Œé‚£ä¹ˆnewè¿™æ ·çš„é¢„å®šä¹‰æ ‡è¯†ç¬¦å°±å’Œå…³é”®å­—æ²¡å•¥åŒºåˆ«äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1643521917,"ip_address":"","comment_id":330851,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5937191198","product_id":100093501,"comment_content":"â€œä½äºç¬¬ 18 è¡Œçš„ newï¼Œè¿™æœ¬æ˜¯ Go è¯­è¨€çš„ä¸€ä¸ªé¢„å®šä¹‰æ ‡è¯†ç¬¦ï¼Œä½†ä¸Šé¢ç¤ºä¾‹ä»£ç å‘¢ï¼Œå´ç”¨ new è¿™ä¸ªåå­—å®šä¹‰äº†ä¸€ä¸ªæ–°ç±»å‹ï¼Œäºæ˜¯ new è¿™ä¸ªæ ‡è¯†ç¬¦å°±è¢«é®è”½äº†â€<br>ä¸ºä»€ä¹ˆä¸ç¦æ­¢ç”¨é¢„å®šä¹‰æ ‡è¯†ç¬¦å®šä¹‰æ–°ç±»å‹æˆ–è€…å˜é‡çš„è¡Œä¸ºå‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549028,"discussion_content":"ä¸€æ—¦â€œç¦æ­¢ç”¨é¢„å®šä¹‰æ ‡è¯†ç¬¦å®šä¹‰æ–°ç±»å‹æˆ–è€…å˜é‡çš„è¡Œä¸ºâ€ï¼Œé‚£ä¹ˆnewè¿™æ ·çš„é¢„å®šä¹‰æ ‡è¯†ç¬¦å°±å’Œå…³é”®å­—æ²¡å•¥åŒºåˆ«äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643521917,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320556,"user_name":"è¿›åŒ–èŒ","can_delete":false,"product_type":"c1","uid":1276861,"ip_address":"","ucode":"B30A5F78BB4171","user_header":"https://static001.geekbang.org/account/avatar/00/13/7b/bd/ccb37425.jpg","comment_is_top":false,"comment_ctime":1636377931,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"5931345227","product_id":100093501,"comment_content":"è¿™ä¹ˆæ¥çœ‹çš„è¯ï¼Œä»£ç è¿˜æ˜¯ä¸è¦åµŒå¥—å¤ªæ·±çš„å¥½ï¼ŒåŒæ–‡ä»¶ä¸­çš„å˜é‡å‘½åä¹Ÿå°½é‡ä¸é‡åï¼Œå¤§æ¦‚ç‡èƒ½å‡å°‘å˜é‡é®è”½çš„é—®é¢˜ã€‚","like_count":2},{"had_liked":false,"id":320196,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1636115610,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5931082906","product_id":100093501,"comment_content":"ä¸ä½¿ç”¨ä¸€æ ·çš„åå­—å°±è¡Œå•Š","like_count":2},{"had_liked":false,"id":357861,"user_name":"Min","can_delete":false,"product_type":"c1","uid":1325498,"ip_address":"åŒ—äº¬","ucode":"068EBBA531BB21","user_header":"https://static001.geekbang.org/account/avatar/00/14/39/ba/a2b48904.jpg","comment_is_top":false,"comment_ctime":1663689824,"is_pvip":true,"replies":[{"id":"130249","content":"ğŸ‘ã€‚æ„Ÿè°¢è¡¥å……ï¼Œæˆ‘ä¸ªäººå¾ˆå°‘ä½¿ç”¨windowsï¼Œæ‰€ä»¥ä»£ç éƒ½æ˜¯åœ¨macæˆ–linuxä¸Šæ‰§è¡Œçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1663745222,"ip_address":"åŒ—äº¬","comment_id":357861,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1663689824","product_id":100093501,"comment_content":"è®°å½•ä¸‹åœ¨ Windows Gitbash ç»ˆç«¯ä½¿ç”¨ go vet é‡åˆ°çš„å‘ï¼š<br><br>$ go vet -vettool=$(which shadow) -strict main.go<br>shadow: open C:\\Users\\myangvgo\\go\\bin\\shadow: The system cannot find the file specified.<br>go: error obtaining buildID for C:\\Users\\myangvgo\\go\\bin\\shadow: exit status 1<br><br>åŸå› æ˜¯ shadow åœ¨ windows ä¸‹å« shadow.exeï¼Œè€Œä¸æ˜¯ Unix ç³»ç»Ÿä¸‹çš„ shadowã€‚è§£å†³åŠæ³•å°±æ˜¯åŠ ä¸Š.exe<br><br>$ go vet -vettool=$(which shadow).exe -strict main.go<br># command-line-arguments<br>.\\main.go:14:12: declaration of &quot;err&quot; shadows declaration at line 11<br>","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588406,"discussion_content":"ğŸ‘ã€‚æ„Ÿè°¢è¡¥å……ï¼Œæˆ‘ä¸ªäººå¾ˆå°‘ä½¿ç”¨windowsï¼Œæ‰€ä»¥ä»£ç éƒ½æ˜¯åœ¨macæˆ–linuxä¸Šæ‰§è¡Œçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663745222,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355098,"user_name":"ğŸ","can_delete":false,"product_type":"c1","uid":1054094,"ip_address":"åŒ—äº¬","ucode":"DD325A4DD40153","user_header":"https://static001.geekbang.org/account/avatar/00/10/15/8e/8fc00a53.jpg","comment_is_top":false,"comment_ctime":1661076618,"is_pvip":false,"replies":[{"id":"129211","content":"å…¶å®è¿™æ˜¯ä¸€ä¸ªç¼–ç¨‹é€šç”¨åŸåˆ™ï¼Œåˆ©äºæå‡å¯è¯»æ€§","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1661135535,"ip_address":"åŒ—äº¬","comment_id":355098,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1661076618","product_id":100093501,"comment_content":"æ„Ÿè§‰å’Œjsä¸€æ ·ï¼Œå˜é‡å°±è¿‘ä½¿ç”¨","like_count":1,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584784,"discussion_content":"å…¶å®è¿™æ˜¯ä¸€ä¸ªç¼–ç¨‹é€šç”¨åŸåˆ™ï¼Œåˆ©äºæå‡å¯è¯»æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661135535,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350079,"user_name":"He","can_delete":false,"product_type":"c1","uid":2175841,"ip_address":"","ucode":"7F5FF5BEE48AF1","user_header":"https://static001.geekbang.org/account/avatar/00/21/33/61/16505a1a.jpg","comment_is_top":false,"comment_ctime":1656557957,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1656557957","product_id":100093501,"comment_content":"package main<br><br>import (<br>\t&quot;errors&quot;<br>\t&quot;fmt&quot;<br>)<br>var a int = 2020<br><br>func checkYear() error {<br>\terr := errors.New(&quot;wrong year&quot;)<br>\tvar a new\t&#47;&#47;\tå£°æ˜ a<br>\tswitch a, err = getYear(); a {\t&#47;&#47; ä¸åˆ›å»ºæ–°å˜é‡ï¼Œä½¿ç”¨èµ‹å€¼æ“ä½œ<br>\tcase 2020:<br>\t\tfmt.Println(&quot;it is&quot;, a, err)<br>\tcase 2021:<br>\t\tfmt.Println(&quot;it is&quot;, a)<br>\t\terr = nil<br>\t}<br>\tfmt.Println(&quot;after check, it is&quot;, a)<br>\treturn err<br>}<br><br>type new int<br><br>func getYear() (new, error) {<br>\tvar b int16 = 2021<br>\treturn new(b), nil<br>}<br><br>func main() {<br>\terr := checkYear()<br>\tif err != nil {<br>\t\tfmt.Println(&quot;call checkYear error:&quot;, err)<br>\t\treturn<br>\t}<br>\tfmt.Println(&quot;call checkYear ok&quot;)<br>}","like_count":0},{"had_liked":false,"id":350077,"user_name":"He","can_delete":false,"product_type":"c1","uid":2175841,"ip_address":"","ucode":"7F5FF5BEE48AF1","user_header":"https://static001.geekbang.org/account/avatar/00/21/33/61/16505a1a.jpg","comment_is_top":false,"comment_ctime":1656557879,"is_pvip":false,"replies":[{"id":"127393","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1656598472,"ip_address":"","comment_id":350077,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1656557879","product_id":100093501,"comment_content":"package main<br><br>import (<br>\t&quot;errors&quot;<br>\t&quot;fmt&quot;<br>)<br>var a int = 2020<br><br>func checkYear() error {<br>\terr := errors.New(&quot;wrong year&quot;)<br>\tvar a new<br>\tswitch a, err = getYear(); a {\t&#47;&#47; é‡æ–°å£°æ˜ï¼Œä½¿ç”¨èµ‹å€¼<br>\tcase 2020:<br>\t\tfmt.Println(&quot;it is&quot;, a, err)<br>\tcase 2021:<br>\t\tfmt.Println(&quot;it is&quot;, a)<br>\t\terr = nil<br>\t}<br>\tfmt.Println(&quot;after check, it is&quot;, a)<br>\treturn err<br>}<br><br>type new int<br><br>func getYear() (new, error) {<br>\tvar b int16 = 2021<br>\treturn new(b), nil<br>}<br><br>func main() {<br>\terr := checkYear()<br>\tif err != nil {<br>\t\tfmt.Println(&quot;call checkYear error:&quot;, err)<br>\t\treturn<br>\t}<br>\tfmt.Println(&quot;call checkYear ok&quot;)<br>}","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578244,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656598472,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344388,"user_name":"westfall","can_delete":false,"product_type":"c1","uid":1632773,"ip_address":"","ucode":"F3F5CB7DF695FC","user_header":"https://static001.geekbang.org/account/avatar/00/18/ea/05/b164dc15.jpg","comment_is_top":false,"comment_ctime":1651503662,"is_pvip":false,"replies":[{"id":"125766","content":"å®‰è£…åçš„shadowä¸€èˆ¬åœ¨$GOPATH&#47;binä¸‹ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼è®¾ç½®GOPATHï¼Œåˆ™åœ¨~&#47;go&#47;binä¸‹ã€‚å¦‚æœè¯¥ç›®å½•æ²¡æœ‰è¢«åŠ å…¥åˆ°PATHç¯å¢ƒå˜é‡ä¸­ï¼Œwhichå‘½ä»¤æ˜¯æ‰¾ä¸åˆ°shadowçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1651700881,"ip_address":"","comment_id":344388,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1651503662","product_id":100093501,"comment_content":"å¥‡æ€ªäº†ï¼Œmac ä¸Šæ‰§è¡Œ <br>go install golang.org&#47;x&#47;tools&#47;go&#47;analysis&#47;passes&#47;shadow&#47;cmd&#47;shadow@latest <br>å®‰è£…æˆåŠŸä¹‹åï¼Œæ‰§è¡Œ which shadow æ€»æ˜¯ shadow not found","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570195,"discussion_content":"å®‰è£…åçš„shadowä¸€èˆ¬åœ¨$GOPATH/binä¸‹ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼è®¾ç½®GOPATHï¼Œåˆ™åœ¨~/go/binä¸‹ã€‚å¦‚æœè¯¥ç›®å½•æ²¡æœ‰è¢«åŠ å…¥åˆ°PATHç¯å¢ƒå˜é‡ä¸­ï¼Œwhichå‘½ä»¤æ˜¯æ‰¾ä¸åˆ°shadowçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651700882,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1632773,"avatar":"https://static001.geekbang.org/account/avatar/00/18/ea/05/b164dc15.jpg","nickname":"westfall","note":"","ucode":"F3F5CB7DF695FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":570264,"discussion_content":"åŸæ¥å¦‚æ­¤ï¼Œæ„Ÿè°¢è€å¸ˆï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651720224,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":570195,"ip_address":""},"score":570264,"extra":""}]}]},{"had_liked":false,"id":342634,"user_name":"æ—¶é—´å¸¦èµ°åˆå¿ƒ","can_delete":false,"product_type":"c1","uid":2640610,"ip_address":"","ucode":"EE593130177745","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI2doZU8iaFwEWjyVB095OxmUxGN0ZFJNhicDpAneHEaHWicOa3ClHbZ0rs5gtTIPI1OicxYL68icGmNmg/132","comment_is_top":false,"comment_ctime":1650375537,"is_pvip":true,"replies":[{"id":"125225","content":"è¿™ä¸ªå‘½ä»¤è¡Œä¸é€‚ç”¨windowsï¼Œwindowsä¸‹é»˜è®¤æ²¡æœ‰whichè¿™ä¸ªå‘½ä»¤ã€‚ä½ å¯ä»¥åœ¨windowsä¸‹å®‰è£…ä¸€ä¸ªlinuxè™šæ‹Ÿæœºæˆ–ç”¨wsl2å®‰è£…ä¸€ä¸ªubuntuæ¥è¿è¡Œä¸Šé¢å‘½ä»¤ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1650493814,"ip_address":"","comment_id":342634,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1650375537","product_id":100093501,"comment_content":"è€å¸ˆ,æƒ³è¯·é—®ä¸€ä¸‹ä¸ºå•¥åœ¨windowä¸‹æ‰§è¡Œgo vet -vettool=$(which shadow) -strict complex.go ä¼šå‡ºç°è¿™æ ·çš„æç¤ºwhich : æ— æ³•å°†â€œwhichâ€é¡¹è¯†åˆ«ä¸º cmdletã€å‡½æ•°ã€è„šæœ¬æ–‡ä»¶æˆ–å¯è¿è¡Œç¨‹åºçš„åç§°<br>ã€‚è¯·æ£€æŸ¥åç§°çš„æ‹¼å†™ï¼Œå¦‚æœåŒ…æ‹¬è·¯å¾„ï¼Œè¯·ç¡®ä¿è·¯å¾„æ­£ç¡®ï¼Œç„¶åå†è¯•ä¸€æ¬¡ã€‚<br>æ‰€åœ¨ä½ç½® è¡Œ:1 å­—ç¬¦: 19","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":565544,"discussion_content":"è¿™ä¸ªå‘½ä»¤è¡Œä¸é€‚ç”¨windowsï¼Œwindowsä¸‹é»˜è®¤æ²¡æœ‰whichè¿™ä¸ªå‘½ä»¤ã€‚ä½ å¯ä»¥åœ¨windowsä¸‹å®‰è£…ä¸€ä¸ªlinuxè™šæ‹Ÿæœºæˆ–ç”¨wsl2å®‰è£…ä¸€ä¸ªubuntuæ¥è¿è¡Œä¸Šé¢å‘½ä»¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650493814,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339792,"user_name":"å²åŠªæ¯”","can_delete":false,"product_type":"c1","uid":1922171,"ip_address":"","ucode":"20D1EC05778BC6","user_header":"https://static001.geekbang.org/account/avatar/00/1d/54/7b/780c04ff.jpg","comment_is_top":false,"comment_ctime":1648387627,"is_pvip":false,"replies":[{"id":"124189","content":"æˆ‘å€’æ˜¯è§‰å¾—â€œå®‡å®™ä»£ç å—â€æ›´å½¢è±¡ç”ŸåŠ¨ç½’Ï‰ç½’ã€‚å¦åˆ™goå®˜æ–¹ä¹Ÿä¸ä¼šç”¨universe blockï¼Œè€Œä¼šç”¨global blockäº†ã€‚<br><br>å¦å¤–ä»£ç å—ä¸è¦ä¸ä½œç”¨åŸŸæ··æ·†ã€‚åŒ…ä»£ç å—ä¸­å£°æ˜çš„é¦–å­—æ¯å¤§å†™çš„æ ‡è¯†ç¬¦å®é™…æ˜¯ä¹Ÿæ˜¯æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸçš„ï¼Œå¯ä»¥è¢«ä»»æ„å…¶ä»–ä»£ç æ‰€å¼•ç”¨çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1648425359,"ip_address":"","comment_id":339792,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1648387627","product_id":100093501,"comment_content":"Universe Blockæ˜¯ä¸æ˜¯ç¿»è¯‘æˆâ€œå…¨å±€ä»£ç å—â€æ›´è´´åˆ‡ä¸€äº›ï¼Œâ€œå®‡å®™ä»£ç å—â€æ€»è§‰å¾—æ€ªæ€ªçš„ã€‚","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558630,"discussion_content":"æˆ‘å€’æ˜¯è§‰å¾—â€œå®‡å®™ä»£ç å—â€æ›´å½¢è±¡ç”ŸåŠ¨ç½’Ï‰ç½’ã€‚å¦åˆ™goå®˜æ–¹ä¹Ÿä¸ä¼šç”¨universe blockï¼Œè€Œä¼šç”¨global blockäº†ã€‚\n\nå¦å¤–ä»£ç å—ä¸è¦ä¸ä½œç”¨åŸŸæ··æ·†ã€‚åŒ…ä»£ç å—ä¸­å£°æ˜çš„é¦–å­—æ¯å¤§å†™çš„æ ‡è¯†ç¬¦å®é™…æ˜¯ä¹Ÿæ˜¯æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸçš„ï¼Œå¯ä»¥è¢«ä»»æ„å…¶ä»–ä»£ç æ‰€å¼•ç”¨çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648425359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338563,"user_name":"è‚–è‚–","can_delete":false,"product_type":"c1","uid":1034524,"ip_address":"","ucode":"6BB1DC60110435","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c9/1c/596749c8.jpg","comment_is_top":false,"comment_ctime":1647573128,"is_pvip":true,"replies":[{"id":"123864","content":"ç”¨æœ€æ–°çš„go 1.18ç‰ˆæœ¬åœ¨macosä¸‹è·‘äº†ä¸€ä¸‹ï¼ŒåŸæ–‡ä¸­çš„å‘½ä»¤æ²¡æœ‰é—®é¢˜ï¼š<br><br>go vet -vettool=$(which shadow) -strict complex.go<br># command-line-arguments<br>.&#47;complex.go:13:12: declaration of &quot;err&quot; shadows declaration at line 11<br><br>ä¸åŠ -strictä¹Ÿæ˜¯å¯ä»¥çš„ï¼š<br><br>$go vet -vettool=$(which shadow)  complex.go <br># command-line-arguments<br>.&#47;complex.go:13:12: declaration of &quot;err&quot; shadows declaration at line 11<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1647824964,"ip_address":"","comment_id":338563,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647573128","product_id":100093501,"comment_content":"è¿™ä¸ªé—®é¢˜æœ‰äººç¢°åˆ°è¿‡å—ï¼Œè¯¥æ€ä¹ˆè§£å†³å‘¢ã€‚ <br>ä¸åŠ -strict å°±æ˜¯å¥½çš„ï¼Œä½†ä¸ä¼šæŠ¥å˜é‡é®è”½æç¤ºï¼›è€ŒåŠ äº† -strict å°±ä¼šæŠ¥é”™<br>go vet -vettool=$(which shaow) -strict test.go <br>flag provided but not defined: -strict","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557446,"discussion_content":"ç”¨æœ€æ–°çš„go 1.18ç‰ˆæœ¬åœ¨macosä¸‹è·‘äº†ä¸€ä¸‹ï¼ŒåŸæ–‡ä¸­çš„å‘½ä»¤æ²¡æœ‰é—®é¢˜ï¼š\n\ngo vet -vettool=$(which shadow) -strict complex.go\n# command-line-arguments\n./complex.go:13:12: declaration of &#34;err&#34; shadows declaration at line 11\n\nä¸åŠ -strictä¹Ÿæ˜¯å¯ä»¥çš„ï¼š\n\n$go vet -vettool=$(which shadow)  complex.go \n# command-line-arguments\n./complex.go:13:12: declaration of &#34;err&#34; shadows declaration at line 11\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647824965,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338169,"user_name":"William Ning","can_delete":false,"product_type":"c1","uid":1592279,"ip_address":"","ucode":"4DB8D05E69E5F3","user_header":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","comment_is_top":false,"comment_ctime":1647334119,"is_pvip":true,"replies":[{"id":"123641","content":"è¦é—®å°±æ˜¯è¯­è¨€è®¾è®¡éœ€è¦:)ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1647401041,"ip_address":"","comment_id":338169,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647334119","product_id":100093501,"comment_content":"å¤–å±‚è¯„è®ºä¸€ä¸‹ï¼š<br><br>åˆçœ‹äº†ä¸€éï¼Œæœç„¶çœ‹ä¸€éæ˜¯è®°ä¸ä½çš„ï¼Œå¹³æ—¶ä¸»è¦å†™PHPä»£ç ï¼Œå› ä¸ºåªæ”¯æŒå‡½æ•°ä½œç”¨åŸŸï¼Œæ‰€ä»¥ï¼Œä¸ä¼šå‡ºç°ä¸Šé¢çš„é—®é¢˜ï¼Œè€Œä¸”ä½¿ç”¨é‡åçš„å˜é‡å¥½å¤„ä¹‹ä¸€ï¼Œå‡å°‘å†…å­˜å ç”¨ã€‚<br>æ‰€ä»¥ï¼Œè€å¸ˆï¼ŒåŒå­¦ï¼Œæˆ‘æƒ³é—®ï¼Œåˆ’åˆ†è¿™ä¹ˆç»†çš„ä½œç”¨åŸŸçš„ç›®çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556491,"discussion_content":"è¦é—®å°±æ˜¯è¯­è¨€è®¾è®¡éœ€è¦:)ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647401042,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336909,"user_name":"Kepler","can_delete":false,"product_type":"c1","uid":1214303,"ip_address":"","ucode":"0C9CA3DB8B3CF0","user_header":"https://static001.geekbang.org/account/avatar/00/12/87/5f/6bf8b74a.jpg","comment_is_top":false,"comment_ctime":1646463198,"is_pvip":true,"replies":[{"id":"123236","content":"å¯ä»¥æŒ‰ä½ çš„æ–¹å¼ä¿®æ”¹å¹¶runä¸€ä¸‹ï¼Œå¦‚æœæ²¡åˆ¤æ–­é”™çš„è¯ï¼Œä¼šæŠ¥ç¼–è¯‘é”™è¯¯ã€‚å†æƒ³æƒ³ğŸ’ªã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1646722560,"ip_address":"","comment_id":336909,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1646463198","product_id":100093501,"comment_content":"å»æ‰ç¬¬7è¡Œçš„:","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555017,"discussion_content":"å¯ä»¥æŒ‰ä½ çš„æ–¹å¼ä¿®æ”¹å¹¶runä¸€ä¸‹ï¼Œå¦‚æœæ²¡åˆ¤æ–­é”™çš„è¯ï¼Œä¼šæŠ¥ç¼–è¯‘é”™è¯¯ã€‚å†æƒ³æƒ³ğŸ’ªã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646722560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1214303,"avatar":"https://static001.geekbang.org/account/avatar/00/12/87/5f/6bf8b74a.jpg","nickname":"Kepler","note":"","ucode":"0C9CA3DB8B3CF0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":555269,"discussion_content":"å—¯ï¼Œè€å¸ˆæˆ‘æ˜¯è¯•äº†ä¸‹ï¼Œæœç„¶ä¸è¡Œã€‚åŸå› åœ¨äºç¬¬ä¸€ä¸ªè¿”å›å€¼ç±»å‹new å’Œint ä¸èƒ½ç›´æ¥èµ‹å€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646828230,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":555017,"ip_address":""},"score":555269,"extra":""}]},{"author":{"id":1214303,"avatar":"https://static001.geekbang.org/account/avatar/00/12/87/5f/6bf8b74a.jpg","nickname":"Kepler","note":"","ucode":"0C9CA3DB8B3CF0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555271,"discussion_content":"æ”¹æˆtype new = int ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646828325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336437,"user_name":"Rayjun","can_delete":false,"product_type":"c1","uid":1002514,"ip_address":"","ucode":"61A3D1A3D03569","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4c/12/f0c145d4.jpg","comment_is_top":false,"comment_ctime":1646146202,"is_pvip":true,"replies":[{"id":"123108","content":"å¥½é—®é¢˜ï¼ä¸è¿‡è¿™æ˜¯ç¼–ç¨‹è¯­è¨€è®¾è®¡èŒƒç•´çš„é—®é¢˜ï¼Œæˆ‘ä¸æ˜¯ç¼–ç¨‹è¯­è¨€è®¾è®¡ä¸“å®¶ï¼Œä¸èƒ½ä»åŸç†ä¸Šç»™äºˆè§£é‡Šã€‚ä½†ä»ç›®å‰æƒ…å†µæ¥çœ‹ï¼Œä¼¼ä¹æ²¡æœ‰å“ªé—¨ç¼–ç¨‹è¯­è¨€ç¦æ­¢ä¸åŒä½œç”¨åŸŸçš„åŒåå˜é‡å£°æ˜ï¼Œæ˜¾ç„¶è¿™æ˜¯ä¸€ä¸ªè¯­è¨€è®¾è®¡ä¸å®ç°çš„æƒ¯ä¾‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1646472373,"ip_address":"","comment_id":336437,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1646146202","product_id":100093501,"comment_content":"è€å¸ˆï¼Œè¿™é‡Œæˆ‘è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘å‘ç°å¦‚æœæ˜¯åœ¨åŒçº§çš„ä½œç”¨åŸŸä¸­ï¼Œå£°æ˜ä¸¤ä¸ªä¸€æ ·çš„å˜é‡å°±ä¼šæŠ¥é”™ï¼Œä½†æ˜¯åœ¨ä¸åŒçº§çš„ä½œç”¨åŸŸä¸­å°±ä¸ä¼šï¼Œé‚£ä¹ˆ go è¯­è¨€ä¸ºä½•ä¸ç¦æ­¢åŒåå˜é‡çš„å£°æ˜ï¼Œè¿™æ ·ä¸å°±å¯ä»¥è§£å†³å˜é‡é®è”½çš„é—®é¢˜ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554576,"discussion_content":"å¥½é—®é¢˜ï¼ä¸è¿‡è¿™æ˜¯ç¼–ç¨‹è¯­è¨€è®¾è®¡èŒƒç•´çš„é—®é¢˜ï¼Œæˆ‘ä¸æ˜¯ç¼–ç¨‹è¯­è¨€è®¾è®¡ä¸“å®¶ï¼Œä¸èƒ½ä»åŸç†ä¸Šç»™äºˆè§£é‡Šã€‚ä½†ä»ç›®å‰æƒ…å†µæ¥çœ‹ï¼Œä¼¼ä¹æ²¡æœ‰å“ªé—¨ç¼–ç¨‹è¯­è¨€ç¦æ­¢ä¸åŒä½œç”¨åŸŸçš„åŒåå˜é‡å£°æ˜ï¼Œæ˜¾ç„¶è¿™æ˜¯ä¸€ä¸ªè¯­è¨€è®¾è®¡ä¸å®ç°çš„æƒ¯ä¾‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646472374,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":336289,"user_name":"Rayjun","can_delete":false,"product_type":"c1","uid":1002514,"ip_address":"","ucode":"61A3D1A3D03569","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4c/12/f0c145d4.jpg","comment_is_top":false,"comment_ctime":1646052046,"is_pvip":true,"replies":[{"id":"122903","content":"æ–‡ä¸­è¯´è¿‡å•Šï¼Œåƒå‡½æ•°&#47;æ–¹æ³•éƒ½æ˜¯ç”¨è‚‰çœ¼å¯è§çš„å¤§æ‹¬å·æ‹¬èµ·çš„ï¼Œæ˜¯æ˜¾å¼ä»£ç å—ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1026224","ctime":1646057020,"ip_address":"","comment_id":336289,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1646052046","product_id":100093501,"comment_content":"ä¸ºå•¥æ²¡æœ‰å‡½æ•°&#47;æ–¹æ³•ä»£ç å—å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553761,"discussion_content":"æ–‡ä¸­è¯´è¿‡å•Šï¼Œåƒå‡½æ•°/æ–¹æ³•éƒ½æ˜¯ç”¨è‚‰çœ¼å¯è§çš„å¤§æ‹¬å·æ‹¬èµ·çš„ï¼Œæ˜¯æ˜¾å¼ä»£ç å—ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646057020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1002514,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/4c/12/f0c145d4.jpg","nickname":"Rayjun","note":"","ucode":"61A3D1A3D03569","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553967,"discussion_content":"æ˜¯çš„ï¼Œæ˜¯æˆ‘çœ‹æ–‡ç« ä¸ä»”ç»†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646145988,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334037,"user_name":"Geek_7254f2","can_delete":false,"product_type":"c1","uid":2275448,"ip_address":"","ucode":"D5770398168983","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK4iaBTGZFCibGEWH3YavQO3e1FB9wnODiaYzexxGqTWRMiay6THfZNVSLDaIOz5RClHefVIYibZxm8G2Q/132","comment_is_top":false,"comment_ctime":1644684674,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1644684674","product_id":100093501,"comment_content":"å¦‚æœåŸæ¥æœ‰cè¯­è¨€åŸºç¡€æˆ–javaåŸºç¡€å†æˆ–è€…åˆ«çš„è¯­è¨€åŸºç¡€ï¼Œè¿™ä¸€èŠ‚å¾ˆå¥½ç†è§£ï¼Œå¦‚æœçœŸçš„0åŸºç¡€ï¼Œé‚£ç¡®å®å¾ˆéš¾äº†","like_count":0},{"had_liked":false,"id":333979,"user_name":"MClink","can_delete":false,"product_type":"c1","uid":1435733,"ip_address":"","ucode":"F479190923355C","user_header":"https://static001.geekbang.org/account/avatar/00/15/e8/55/92f82281.jpg","comment_is_top":false,"comment_ctime":1644650967,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1644650967","product_id":100093501,"comment_content":"å­¦ä¼šäº†ä¸€ä¸ªæ–°çš„åè¯ï¼šå˜é‡é®è”½<br>å®é™…ä¸Šå°±æ˜¯ä¸€ç¯‡è®²å˜é‡ä½œç”¨åŸŸçš„æ–‡ç« ã€‚å’Œå…¶ä»–è¯­è¨€å…¶å®æ²¡æœ‰å·®å¤ªå¤šã€‚","like_count":0},{"had_liked":false,"id":320878,"user_name":"é™…é‡ã€‚","can_delete":false,"product_type":"c1","uid":1169428,"ip_address":"","ucode":"E6BAE87225743B","user_header":"https://static001.geekbang.org/account/avatar/00/11/d8/14/d7d7af20.jpg","comment_is_top":false,"comment_ctime":1636537320,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1636537320","product_id":100093501,"comment_content":"é€šç¯‡è¯»ä¸‹æ¥ï¼Œç¡®å®æ²¡æœ‰ç†è§£è¿™é‡Œâ€œæˆ‘ä»¬ä¸€çœ¼å°±çœ‹åˆ°äº†ä½äºç¬¬ 18 è¡Œçš„ newï¼Œè¿™æœ¬æ˜¯ Go è¯­è¨€çš„ä¸€ä¸ªé¢„å®šä¹‰æ ‡è¯†ç¬¦ï¼Œä½†ä¸Šé¢ç¤ºä¾‹ä»£ç å‘¢ï¼Œå´ç”¨ new è¿™ä¸ªåå­—å®šä¹‰äº†ä¸€ä¸ªæ–°ç±»å‹ï¼Œäºæ˜¯ new è¿™ä¸ªæ ‡è¯†ç¬¦å°±è¢«é®è”½äº†ã€‚â€çš„æ„æ€ã€‚é‚£æ–‡ä¸­åº”è¯¥æŠŠä¸‹é¢çš„funcå‡½æ•°ç”¨å¤§æ‹¬å·å’Œtype new intæ”¾åœ¨ä¸€èµ·é˜²æ­¢é®è”½ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2323716,"avatar":"https://static001.geekbang.org/account/avatar/00/23/75/04/d26cd437.jpg","nickname":"lemon","note":"","ucode":"47626025C55E5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533020,"discussion_content":"ä¸ªäººç†è§£ï¼šnewæ˜¯ä¸€ä¸ªé¢„å®šä¹‰æ ‡è¯†ç¬¦ï¼Œæˆ–è€…è¯´æ˜¯å…³é”®å­—ï¼Œç”¨æ¥æ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè€Œtype new intæ„æ€æ˜¯è‡ªå®šä¹‰äº†ä¸€ç§æ•°æ®ç±»å‹å«newï¼Œæœ¬è´¨æ˜¯intç±»å‹ï¼Œä¹‹åå®šä¹‰å˜é‡å¯ä»¥å†™æˆvar x newä¹Ÿå°±ç›¸å½“äºvar x int;ä½œè€…çš„ä¾‹å­é‡Œé¢çš„é®è”½ä½“ç°å‡ºæ¥çš„æ˜¯æœ¬æ¥çš„newå…³é”®å­—è¢«é®è”½äº†ï¼Œå¤±å»äº†å®ƒåŸæœ¬çš„ä½œç”¨ï¼Œé®è”½ä»¥åä¾‹å­ä¸­new(b)çš„å«ä¹‰å˜æˆäº†å°†bæ˜¾ç¤ºè½¬æ¢æˆnewè¿™ä¸ªæ•°æ®ç±»å‹ï¼›â€œæŠŠä¸‹é¢çš„funcå‡½æ•°ç”¨å¤§æ‹¬å·å’Œtype new intæ”¾åœ¨ä¸€èµ·é˜²æ­¢é®è”½â€è¿™æ ·åšåªæ˜¯æŠŠnewè¿™ä¸ªè‡ªå®šä¹‰typeçš„ä½œç”¨åŸŸé™å®šåœ¨äº†å¤§æ‹¬å·èŒƒå›´å†…ï¼ŒèŒƒå›´å¤–çš„newå…³é”®å­—åº”è¯¥æ˜¯ä¸ä¼šè¢«é®è”½çš„ï¼Œä½†æœ€æ ¹æœ¬çš„è§£å†³æ–¹å¼è¿˜æ˜¯ä¸è¦ç”¨å…³é”®å­—æ¥ä½œä¸ºè‡ªå®šä¹‰æ•°æ®ç±»å‹çš„åå­—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637756912,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320418,"user_name":"Calvin","can_delete":false,"product_type":"c1","uid":1603004,"ip_address":"","ucode":"0EEF5B207623B5","user_header":"https://static001.geekbang.org/account/avatar/00/18/75/bc/e24e181e.jpg","comment_is_top":false,"comment_ctime":1636300195,"is_pvip":false,"replies":[{"id":"116265","content":"ä½ æ˜¯åœ¨ä»€ä¹ˆosä¸‹æ‰§è¡Œçš„ï¼Ÿæ˜¯åœ¨å‘½ä»¤è¡Œç»ˆç«¯ä¸‹æ‰§è¡Œçš„ä¹ˆï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":"1026224","ctime":1636425366,"ip_address":"","comment_id":320418,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1636300195","product_id":100093501,"comment_content":"è€å¸ˆï¼Œä¸ºä»€ä¹ˆæˆ‘æŒ‰æ–‡ç« ä¸­è¿™æ ·å®‰è£…äº†å˜é‡å±è”½æ£€æŸ¥çš„æ’ä»¶ä¹‹åæ‰§è¡Œä¼šæŠ¥é”™ï¼ˆæˆ‘çš„ go ç‰ˆæœ¬æ˜¯ 1.17.3)ï¼š<br>which : æ— æ³•å°†â€œwhichâ€é¡¹è¯†åˆ«ä¸º cmdletã€å‡½æ•°ã€è„šæœ¬æ–‡ä»¶æˆ–å¯è¿è¡Œç¨‹åºçš„åç§°ã€‚è¯·æ£€æŸ¥åç§°çš„æ‹¼å†™ï¼Œå¦‚æœåŒ…æ‹¬è·¯å¾„ï¼Œè¯·ç¡®ä¿è·¯å¾„æ­£ç¡®ï¼Œç„¶åå†è¯•ä¸€æ¬¡ã€‚<br>æ‰€åœ¨ä½ç½® è¡Œ:1 å­—ç¬¦: 19<br>+ go vet -vettool=$(which bodyclose) main.go<br>+                   ~~~~~<br>    + CategoryInfo          : ObjectNotFound: (which:String) [], CommandNotFoundException<br>    + FullyQualifiedErrorId : CommandNotFoundException","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529983,"discussion_content":"ä½ æ˜¯åœ¨ä»€ä¹ˆosä¸‹æ‰§è¡Œçš„ï¼Ÿæ˜¯åœ¨å‘½ä»¤è¡Œç»ˆç«¯ä¸‹æ‰§è¡Œçš„ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636425366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":1603004,"avatar":"https://static001.geekbang.org/account/avatar/00/18/75/bc/e24e181e.jpg","nickname":"Calvin","note":"","ucode":"0EEF5B207623B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":531864,"discussion_content":"åœ¨windows11ä¸‹ï¼Œgolandé‡Œé¢çš„terminal (windows powershell)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637427061,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":529983,"ip_address":""},"score":531864,"extra":"{\"user_type\":1}"},{"author":{"id":2323716,"avatar":"https://static001.geekbang.org/account/avatar/00/23/75/04/d26cd437.jpg","nickname":"lemon","note":"","ucode":"47626025C55E5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1603004,"avatar":"https://static001.geekbang.org/account/avatar/00/18/75/bc/e24e181e.jpg","nickname":"Calvin","note":"","ucode":"0EEF5B207623B5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533021,"discussion_content":"whichæ˜¯linuxçš„å‘½ä»¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637757031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":531864,"ip_address":""},"score":533021,"extra":"{\"user_type\":1}"}]}]},{"had_liked":false,"id":320363,"user_name":"qinsi","can_delete":false,"product_type":"c1","uid":1667175,"ip_address":"","ucode":"090D9C4068FF12","user_header":"https://static001.geekbang.org/account/avatar/00/19/70/67/0c1359c2.jpg","comment_is_top":false,"comment_ctime":1636277680,"is_pvip":true,"replies":[{"id":"116268","content":"ä½ è¿™ç§ä¼¼ä¹å°±ä¸é€‚åˆåœ¨ifçš„initstmtä¸­è¿›è¡Œval1,val2,val3çš„å£°æ˜ï¼Œæ˜¯å¦å¯ä»¥æ‹¿åˆ°å¤–é¢å»å‘¢ï¼Ÿ<br>","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":"1026224","ctime":1636426516,"ip_address":"","comment_id":320363,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636277680","product_id":100093501,"comment_content":"ifè¯­å¥çš„éšå¼ä»£ç å—å¯¼è‡´åœ¨ifçš„åˆå§‹åŒ–è¯­å¥ä¸­å£°æ˜çš„å˜é‡éƒ½åªèƒ½åœ¨ifçš„æ˜¾å¼ä»£ç å—ä¸­å¤„ç†ï¼Œè¿™å°±å¾ˆå®¹æ˜“å†™å‡ºåµŒå¥—çš„ifï¼š<br><br>```go<br>if val1, ok := getVal1(); ok {<br>  if val2, ok := getVal2(); ok {<br>    if val3, ok := getVal3(); ok {<br>      val := val1 + val2 + val3<br>      ...<br>```<br><br>æœ‰æ²¡æœ‰ä»€ä¹ˆç®€æ´çš„å»æ‰åµŒå¥—çš„å†™æ³•ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529968,"discussion_content":"ä½ è¿™ç§ä¼¼ä¹å°±ä¸é€‚åˆåœ¨ifçš„initstmtä¸­è¿›è¡Œval1,val2,val3çš„å£°æ˜ï¼Œæ˜¯å¦å¯ä»¥æ‹¿åˆ°å¤–é¢å»å‘¢ï¼Ÿ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636426516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320105,"user_name":"liaomars","can_delete":false,"product_type":"c1","uid":2104856,"ip_address":"","ucode":"4FCA97EE9FB57D","user_header":"https://static001.geekbang.org/account/avatar/00/20/1e/18/9d1f1439.jpg","comment_is_top":false,"comment_ctime":1636082545,"is_pvip":false,"replies":[{"id":"116249","content":"ä¼šä¸ä¼šè®©é—®é¢˜å˜å¾—å¤æ‚åŒ–:)ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†é®è”½é—®é¢˜ï¼ŒæŠŠé®è”½é—®é¢˜æ¶ˆé™¤äº†å°±å¥½äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":"1026224","ctime":1636422571,"ip_address":"","comment_id":320105,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636082545","product_id":100093501,"comment_content":"è€å¸ˆæ˜¯ä¸æ˜¯å¯ä»¥ç”¨é—­åŒ…æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529876,"discussion_content":"ä¼šä¸ä¼šè®©é—®é¢˜å˜å¾—å¤æ‚åŒ–:)ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†é®è”½é—®é¢˜ï¼ŒæŠŠé®è”½é—®é¢˜æ¶ˆé™¤äº†å°±å¥½äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636422571,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320104,"user_name":"ä¸€æ­¥","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1636082435,"is_pvip":true,"replies":[{"id":"116248","content":"ä¸å¦¨å±•å¼€è¯´è¯´ï¼Œä½ æåˆ°çš„å˜é‡å‘½åè¯­ä¹‰åŒ–æ˜¯æŒ‡ç”¨å°½é‡è¡¨æ„çš„é•¿å‘½åä¹ˆï¼Ÿæ¯”å¦‚the_name_of_that_personæ›¿ä»£nï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":"1026224","ctime":1636422418,"ip_address":"","comment_id":320104,"utype":1}],"discussion_count":3,"race_medal":1,"score":"1636082435","product_id":100093501,"comment_content":"å˜é‡å‘½åè¯­ä¹‰åŒ– å°±å¯ä»¥é¿å…å¾ˆå¤šé—®é¢˜","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529875,"discussion_content":"ä¸å¦¨å±•å¼€è¯´è¯´ï¼Œä½ æåˆ°çš„å˜é‡å‘½åè¯­ä¹‰åŒ–æ˜¯æŒ‡ç”¨å°½é‡è¡¨æ„çš„é•¿å‘½åä¹ˆï¼Ÿæ¯”å¦‚the_name_of_that_personæ›¿ä»£nï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636422418,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413243,"discussion_content":"æ ¹æ®å˜é‡åœ¨å¯¹åº”ä»£ç å—ä¸­çš„ä½ç½®ï¼Œæ‰€èµ·åˆ°çš„ä½œç”¨è¯­æ„åŒ–ã€‚å¿…è¦çš„æ—¶å€™å¯ä»¥è¿›è¡Œå‰ç¼€ç¼©å†™ï¼Œå¤§å®¶å¯¹å‰ç¼€ç¼©å†™çš„è§„åˆ™è¾¾æˆä¸€è‡´å°±å¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636423675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1627670,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d6/16/107f0d04.jpg","nickname":"å±±é’","note":"","ucode":"904AE3C23D3B92","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1005391,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","nickname":"ä¸€æ­¥","note":"","ucode":"73CEA468CE70C3","race_medal":1,"user_type":1,"is_pvip":true},"discussion":{"id":552405,"discussion_content":"object-cå°±æ˜¯è¿™æ ·çš„è¯­ä¹‰åŒ–çš„è¯­è¨€ è‡ªè§£é‡Šã€å†™å®Œä»£ç ä¸ç”¨å†™æ³¨é‡Š è€Œä¸”è‹¹æœä¹Ÿå¾ˆæå€¡è¿™æ ·å¹²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645450642,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":413243,"ip_address":""},"score":552405,"extra":""}]}]},{"had_liked":false,"id":320092,"user_name":"éƒ­çº¯","can_delete":false,"product_type":"c1","uid":1314521,"ip_address":"","ucode":"2613860B4642C4","user_header":"https://static001.geekbang.org/account/avatar/00/14/0e/d9/e61ce097.jpg","comment_is_top":false,"comment_ctime":1636080692,"is_pvip":false,"replies":[{"id":"116246","content":"è¿™æ˜¯ä¸€ä¸ªå–èˆé—®é¢˜ï¼Œåœ¨å¯èƒ½å˜é‡é®è”½ä¸ä»£ç ä¼˜é›…æ€§æ–¹é¢çš„å–èˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tony Bai","uid":"1026224","ctime":1636422299,"ip_address":"","comment_id":320092,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1636080692","product_id":100093501,"comment_content":"å…¶å®å®šä¹‰å˜é‡çš„æ—¶å€™åŠ å‰ç¼€å¯ä»¥è§£å†³å˜é‡é®è”½çš„é—®é¢˜ã€‚ä½†æ˜¯è¿™æ ·ä¼šé€ æˆç”Ÿå‘½å˜é‡ä½“ç§¯å˜å¤§ã€‚å¦‚æœé…åˆçŸ­å‰ç¼€è¿˜æ˜¯å¯ä»¥çš„ã€‚ä½†æ˜¯è¿™æ ·éœ€è¦æ•´ä½“çš„å›¢é˜Ÿä¸€èµ·é…åˆã€‚ æ¯”å¦‚ã€‚local_. global_.   å‰ç¼€ã€‚ è¿˜æœ‰å°½é‡ä¸è¦åœ¨ if switchã€‚select  æ§åˆ¶è¯­å¥å®šä¹‰å˜é‡ã€‚ if a:=10;b &gt; 10 {} è¿™æ ·çš„å†™æ³•ã€‚","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529869,"discussion_content":"è¿™æ˜¯ä¸€ä¸ªå–èˆé—®é¢˜ï¼Œåœ¨å¯èƒ½å˜é‡é®è”½ä¸ä»£ç ä¼˜é›…æ€§æ–¹é¢çš„å–èˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636422299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1592279,"avatar":"https://static001.geekbang.org/account/avatar/00/18/4b/d7/f46c6dfd.jpg","nickname":"William Ning","note":"","ucode":"4DB8D05E69E5F3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553553,"discussion_content":"èµåŒï¼Œç¡®å®æ˜¯ä¸€ä¸ªå–èˆé—®é¢˜ã€‚ç¼–ç¨‹æœ¬èº«ä»æ¥å°±æ˜¯ä¸€ä¸ªå–èˆé—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645965716,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320042,"user_name":"åŠŸå¤«ç†ŠçŒ«","can_delete":false,"product_type":"c1","uid":2732243,"ip_address":"","ucode":"D124F4FA4E816F","user_header":"https://static001.geekbang.org/account/avatar/00/29/b0/d3/200e82ff.jpg","comment_is_top":false,"comment_ctime":1636050344,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1636050344","product_id":100093501,"comment_content":"å¦‚æœç¬¬ä¸€ä¸ªä¾‹å­ä¸­çš„ä¸­ç¬¬å››å¥å¦‚æœæ˜¯a=1çš„è¯ï¼Œè€Œä¸æ˜¯a:=1.ï¼Œåº”è¯¥ä¼šå˜ã€‚","like_count":0}]}
{"id":221269,"title":"67 | è¿­ä»£å™¨æ¨¡å¼ï¼ˆä¸‹ï¼‰ï¼šå¦‚ä½•è®¾è®¡å®ç°ä¸€ä¸ªæ”¯æŒâ€œå¿«ç…§â€åŠŸèƒ½çš„iteratorï¼Ÿ","content":"<p>ä¸Šä¸¤èŠ‚è¯¾ï¼Œæˆ‘ä»¬å­¦ä¹ äº†è¿­ä»£å™¨æ¨¡å¼çš„åŸç†ã€å®ç°ï¼Œå¹¶ä¸”åˆ†æäº†åœ¨éå†é›†åˆçš„åŒæ—¶å¢åˆ é›†åˆå…ƒç´ ï¼Œäº§ç”Ÿä¸å¯é¢„æœŸç»“æœçš„åŸå› ä»¥åŠåº”å¯¹ç­–ç•¥ã€‚</p><p>ä»Šå¤©ï¼Œæˆ‘ä»¬å†æ¥çœ‹è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šå¦‚ä½•å®ç°ä¸€ä¸ªæ”¯æŒâ€œå¿«ç…§â€åŠŸèƒ½çš„è¿­ä»£å™¨ï¼Ÿè¿™ä¸ªé—®é¢˜ç®—æ˜¯å¯¹ä¸Šä¸€èŠ‚è¯¾å†…å®¹çš„å»¶ä¼¸æ€è€ƒï¼Œä¸ºçš„æ˜¯å¸®ä½ åŠ æ·±å¯¹è¿­ä»£å™¨æ¨¡å¼çš„ç†è§£ï¼Œä¹Ÿæ˜¯å¯¹ä½ åˆ†æã€è§£å†³é—®é¢˜çš„ä¸€ç§é”»ç‚¼ã€‚ä½ å¯ä»¥æŠŠå®ƒå½“ä½œä¸€ä¸ªé¢è¯•é¢˜æˆ–è€…ç»ƒä¹ é¢˜ï¼Œåœ¨çœ‹æˆ‘çš„è®²è§£ä¹‹å‰ï¼Œå…ˆè¯•ä¸€è¯•è‡ªå·±èƒ½å¦é¡ºåˆ©å›ç­”ä¸Šæ¥ã€‚</p><p>è¯ä¸å¤šè¯´ï¼Œè®©æˆ‘ä»¬æ­£å¼å¼€å§‹ä»Šå¤©çš„å­¦ä¹ å§ï¼</p><h2>é—®é¢˜æè¿°</h2><p>æˆ‘ä»¬å…ˆæ¥ä»‹ç»ä¸€ä¸‹é—®é¢˜çš„èƒŒæ™¯ï¼šå¦‚ä½•å®ç°ä¸€ä¸ªæ”¯æŒâ€œå¿«ç…§â€åŠŸèƒ½çš„è¿­ä»£å™¨æ¨¡å¼ï¼Ÿ</p><p>ç†è§£è¿™ä¸ªé—®é¢˜æœ€å…³é”®çš„æ˜¯ç†è§£â€œå¿«ç…§â€ä¸¤ä¸ªå­—ã€‚æ‰€è°“â€œå¿«ç…§â€ï¼ŒæŒ‡æˆ‘ä»¬ä¸ºå®¹å™¨åˆ›å»ºè¿­ä»£å™¨çš„æ—¶å€™ï¼Œç›¸å½“äºç»™å®¹å™¨æ‹äº†ä¸€å¼ å¿«ç…§ï¼ˆSnapshotï¼‰ã€‚ä¹‹åå³ä¾¿æˆ‘ä»¬å¢åˆ å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œå¿«ç…§ä¸­çš„å…ƒç´ å¹¶ä¸ä¼šåšç›¸åº”çš„æ”¹åŠ¨ã€‚è€Œè¿­ä»£å™¨éå†çš„å¯¹è±¡æ˜¯å¿«ç…§è€Œéå®¹å™¨ï¼Œè¿™æ ·å°±é¿å…äº†åœ¨ä½¿ç”¨è¿­ä»£å™¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œå¢åˆ å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œå¯¼è‡´çš„ä¸å¯é¢„æœŸçš„ç»“æœæˆ–è€…æŠ¥é”™ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä¸¾ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šä¸€ä¸‹ä¸Šé¢è¿™æ®µè¯ã€‚å…·ä½“çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚å®¹å™¨listä¸­åˆå§‹å­˜å‚¨äº†3ã€8ã€2ä¸‰ä¸ªå…ƒç´ ã€‚å°½ç®¡åœ¨åˆ›å»ºè¿­ä»£å™¨iter1ä¹‹åï¼Œå®¹å™¨liståˆ é™¤äº†å…ƒç´ 3ï¼Œåªå‰©ä¸‹8ã€2ä¸¤ä¸ªå…ƒç´ ï¼Œä½†æ˜¯ï¼Œé€šè¿‡iter1éå†çš„å¯¹è±¡æ˜¯å¿«ç…§ï¼Œè€Œéå®¹å™¨listæœ¬èº«ã€‚æ‰€ä»¥ï¼Œéå†çš„ç»“æœä»ç„¶æ˜¯3ã€8ã€2ã€‚åŒç†ï¼Œiter2ã€iter3ä¹Ÿæ˜¯åœ¨å„è‡ªçš„å¿«ç…§ä¸Šéå†ï¼Œè¾“å‡ºçš„ç»“æœå¦‚ä»£ç ä¸­æ³¨é‡Šæ‰€ç¤ºã€‚</p><!-- [[[read_end]]] --><pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nlist.add(3);\nlist.add(8);\nlist.add(2);\n\nIterator&lt;Integer&gt; iter1 = list.iterator();//snapshot: 3, 8, 2\nlist.remove(new Integer(2));//listï¼š3, 8\nIterator&lt;Integer&gt; iter2 = list.iterator();//snapshot: 3, 8\nlist.remove(new Integer(3));//listï¼š8\nIterator&lt;Integer&gt; iter3 = list.iterator();//snapshot: 3\n\n// è¾“å‡ºç»“æœï¼š3 8 2\nwhile (iter1.hasNext()) {\n  System.out.print(iter1.next() + &quot; &quot;);\n}\nSystem.out.println();\n\n// è¾“å‡ºç»“æœï¼š3 8\nwhile (iter2.hasNext()) {\n  System.out.print(iter1.next() + &quot; &quot;);\n}\nSystem.out.println();\n\n// è¾“å‡ºç»“æœï¼š8\nwhile (iter3.hasNext()) {\n  System.out.print(iter1.next() + &quot; &quot;);\n}\nSystem.out.println();\n</code></pre><p>å¦‚æœç”±ä½ æ¥å®ç°ä¸Šé¢çš„åŠŸèƒ½ï¼Œä½ ä¼šå¦‚ä½•æ¥åšå‘¢ï¼Ÿä¸‹é¢æ˜¯é’ˆå¯¹è¿™ä¸ªåŠŸèƒ½éœ€æ±‚çš„éª¨æ¶ä»£ç ï¼Œå…¶ä¸­åŒ…å«ArrayListã€SnapshotArrayIteratorä¸¤ä¸ªç±»ã€‚å¯¹äºè¿™ä¸¤ä¸ªç±»ï¼Œæˆ‘åªå®šä¹‰äº†å¿…é¡»çš„å‡ ä¸ªå…³é”®æ¥å£ï¼Œå®Œæ•´çš„ä»£ç å®ç°æˆ‘å¹¶æ²¡æœ‰ç»™å‡ºã€‚ä½ å¯ä»¥è¯•ç€å»å®Œå–„ä¸€ä¸‹ï¼Œç„¶åå†çœ‹æˆ‘ä¸‹é¢çš„è®²è§£ã€‚</p><pre><code>public ArrayList&lt;E&gt; implements List&lt;E&gt; {\n  // TODO: æˆå‘˜å˜é‡ã€ç§æœ‰å‡½æ•°ç­‰éšä¾¿ä½ å®šä¹‰\n  \n  @Override\n  public void add(E obj) {\n    //TODO: ç”±ä½ æ¥å®Œå–„\n  }\n  \n  @Override\n  public void remove(E obj) {\n    // TODO: ç”±ä½ æ¥å®Œå–„\n  }\n  \n  @Override\n  public Iterator&lt;E&gt; iterator() {\n    return new SnapshotArrayIterator(this);\n  }\n}\n\npublic class SnapshotArrayIterator&lt;E&gt; implements Iterator&lt;E&gt; {\n  // TODO: æˆå‘˜å˜é‡ã€ç§æœ‰å‡½æ•°ç­‰éšä¾¿ä½ å®šä¹‰\n  \n  @Override\n  public boolean hasNext() {\n    // TODO: ç”±ä½ æ¥å®Œå–„\n  }\n  \n  @Override\n  public E next() {//è¿”å›å½“å‰å…ƒç´ ï¼Œå¹¶ä¸”æ¸¸æ ‡åç§»ä¸€ä½\n    // TODO: ç”±ä½ æ¥å®Œå–„\n  }\n}\n</code></pre><h2>è§£å†³æ–¹æ¡ˆä¸€</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹æœ€ç®€å•çš„ä¸€ç§è§£å†³åŠæ³•ã€‚åœ¨è¿­ä»£å™¨ç±»ä¸­å®šä¹‰ä¸€ä¸ªæˆå‘˜å˜é‡snapshotæ¥å­˜å‚¨å¿«ç…§ã€‚æ¯å½“åˆ›å»ºè¿­ä»£å™¨çš„æ—¶å€™ï¼Œéƒ½æ‹·è´ä¸€ä»½å®¹å™¨ä¸­çš„å…ƒç´ åˆ°å¿«ç…§ä¸­ï¼Œåç»­çš„éå†æ“ä½œéƒ½åŸºäºè¿™ä¸ªè¿­ä»£å™¨è‡ªå·±æŒæœ‰çš„å¿«ç…§æ¥è¿›è¡Œã€‚å…·ä½“çš„ä»£ç å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>public class SnapshotArrayIterator&lt;E&gt; implements Iterator&lt;E&gt; {\n  private int cursor;\n  private ArrayList&lt;E&gt; snapshot;\n\n  public SnapshotArrayIterator(ArrayList&lt;E&gt; arrayList) {\n    this.cursor = 0;\n    this.snapshot = new ArrayList&lt;&gt;();\n    this.snapshot.addAll(arrayList);\n  }\n\n  @Override\n  public boolean hasNext() {\n    return cursor &lt; snapshot.size();\n  }\n\n  @Override\n  public E next() {\n    E currentItem = snapshot.get(cursor);\n    cursor++;\n    return currentItem;\n  }\n}\n</code></pre><p>è¿™ä¸ªè§£å†³æ–¹æ¡ˆè™½ç„¶ç®€å•ï¼Œä½†ä»£ä»·ä¹Ÿæœ‰ç‚¹é«˜ã€‚æ¯æ¬¡åˆ›å»ºè¿­ä»£å™¨çš„æ—¶å€™ï¼Œéƒ½è¦æ‹·è´ä¸€ä»½æ•°æ®åˆ°å¿«ç…§ä¸­ï¼Œä¼šå¢åŠ å†…å­˜çš„æ¶ˆè€—ã€‚å¦‚æœä¸€ä¸ªå®¹å™¨åŒæ—¶æœ‰å¤šä¸ªè¿­ä»£å™¨åœ¨éå†å…ƒç´ ï¼Œå°±ä¼šå¯¼è‡´æ•°æ®åœ¨å†…å­˜ä¸­é‡å¤å­˜å‚¨å¤šä»½ã€‚ä¸è¿‡ï¼Œåº†å¹¸çš„æ˜¯ï¼ŒJavaä¸­çš„æ‹·è´å±äºæµ…æ‹·è´ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®¹å™¨ä¸­çš„å¯¹è±¡å¹¶éçœŸçš„æ‹·è´äº†å¤šä»½ï¼Œè€Œåªæ˜¯æ‹·è´äº†å¯¹è±¡çš„å¼•ç”¨è€Œå·²ã€‚å…³äºæ·±æ‹·è´ã€æµ…æ‹·è´ï¼Œæˆ‘ä»¬åœ¨<a href=\"https://time.geekbang.org/column/article/200786\">ç¬¬47è®²</a>ä¸­æœ‰è¯¦ç»†çš„è®²è§£ï¼Œä½ å¯ä»¥å›è¿‡å¤´å»å†çœ‹ä¸€ä¸‹ã€‚</p><p>é‚£æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•ï¼Œæ—¢å¯ä»¥æ”¯æŒå¿«ç…§ï¼Œåˆä¸éœ€è¦æ‹·è´å®¹å™¨å‘¢ï¼Ÿ</p><h2>è§£å†³æ–¹æ¡ˆäºŒ</h2><p>æˆ‘ä»¬å†æ¥çœ‹ç¬¬äºŒç§è§£å†³æ–¹æ¡ˆã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨å®¹å™¨ä¸­ï¼Œä¸ºæ¯ä¸ªå…ƒç´ ä¿å­˜ä¸¤ä¸ªæ—¶é—´æˆ³ï¼Œä¸€ä¸ªæ˜¯æ·»åŠ æ—¶é—´æˆ³addTimestampï¼Œä¸€ä¸ªæ˜¯åˆ é™¤æ—¶é—´æˆ³delTimestampã€‚å½“å…ƒç´ è¢«åŠ å…¥åˆ°é›†åˆä¸­çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°†addTimestampè®¾ç½®ä¸ºå½“å‰æ—¶é—´ï¼Œå°†delTimestampè®¾ç½®æˆæœ€å¤§é•¿æ•´å‹å€¼ï¼ˆLong.MAX_VALUEï¼‰ã€‚å½“å…ƒç´ è¢«åˆ é™¤æ—¶ï¼Œæˆ‘ä»¬å°†delTimestampæ›´æ–°ä¸ºå½“å‰æ—¶é—´ï¼Œè¡¨ç¤ºå·²ç»è¢«åˆ é™¤ã€‚</p><p>æ³¨æ„ï¼Œè¿™é‡Œåªæ˜¯æ ‡è®°åˆ é™¤ï¼Œè€ŒéçœŸæ­£å°†å®ƒä»å®¹å™¨ä¸­åˆ é™¤ã€‚</p><p>åŒæ—¶ï¼Œæ¯ä¸ªè¿­ä»£å™¨ä¹Ÿä¿å­˜ä¸€ä¸ªè¿­ä»£å™¨åˆ›å»ºæ—¶é—´æˆ³snapshotTimestampï¼Œä¹Ÿå°±æ˜¯è¿­ä»£å™¨å¯¹åº”çš„å¿«ç…§çš„åˆ›å»ºæ—¶é—´æˆ³ã€‚å½“ä½¿ç”¨è¿­ä»£å™¨æ¥éå†å®¹å™¨çš„æ—¶å€™ï¼Œåªæœ‰æ»¡è¶³addTimestamp&lt;snapshotTimestamp&lt;delTimestampçš„å…ƒç´ ï¼Œæ‰æ˜¯å±äºè¿™ä¸ªè¿­ä»£å™¨çš„å¿«ç…§ã€‚</p><p>å¦‚æœå…ƒç´ çš„addTimestamp&gt;snapshotTimestampï¼Œè¯´æ˜å…ƒç´ åœ¨åˆ›å»ºäº†è¿­ä»£å™¨ä¹‹åæ‰åŠ å…¥çš„ï¼Œä¸å±äºè¿™ä¸ªè¿­ä»£å™¨çš„å¿«ç…§ï¼›å¦‚æœå…ƒç´ çš„delTimestamp&lt;snapshotTimestampï¼Œè¯´æ˜å…ƒç´ åœ¨åˆ›å»ºè¿­ä»£å™¨ä¹‹å‰å°±è¢«åˆ é™¤æ‰äº†ï¼Œä¹Ÿä¸å±äºè¿™ä¸ªè¿­ä»£å™¨çš„å¿«ç…§ã€‚</p><p>è¿™æ ·å°±åœ¨ä¸æ‹·è´å®¹å™¨çš„æƒ…å†µä¸‹ï¼Œåœ¨å®¹å™¨æœ¬èº«ä¸Šå€ŸåŠ©æ—¶é—´æˆ³å®ç°äº†å¿«ç…§åŠŸèƒ½ã€‚å…·ä½“çš„ä»£ç å®ç°å¦‚ä¸‹æ‰€ç¤ºã€‚æ³¨æ„ï¼Œæˆ‘ä»¬æ²¡æœ‰è€ƒè™‘ArrayListçš„æ‰©å®¹é—®é¢˜ï¼Œæ„Ÿå…´è¶£çš„è¯ï¼Œä½ å¯ä»¥è‡ªå·±å®Œå–„ä¸€ä¸‹ã€‚</p><pre><code>public class ArrayList&lt;E&gt; implements List&lt;E&gt; {\n  private static final int DEFAULT_CAPACITY = 10;\n\n  private int actualSize; //ä¸åŒ…å«æ ‡è®°åˆ é™¤å…ƒç´ \n  private int totalSize; //åŒ…å«æ ‡è®°åˆ é™¤å…ƒç´ \n\n  private Object[] elements;\n  private long[] addTimestamps;\n  private long[] delTimestamps;\n\n  public ArrayList() {\n    this.elements = new Object[DEFAULT_CAPACITY];\n    this.addTimestamps = new long[DEFAULT_CAPACITY];\n    this.delTimestamps = new long[DEFAULT_CAPACITY];\n    this.totalSize = 0;\n    this.actualSize = 0;\n  }\n\n  @Override\n  public void add(E obj) {\n    elements[totalSize] = obj;\n    addTimestamps[totalSize] = System.currentTimeMillis();\n    delTimestamps[totalSize] = Long.MAX_VALUE;\n    totalSize++;\n    actualSize++;\n  }\n\n  @Override\n  public void remove(E obj) {\n    for (int i = 0; i &lt; totalSize; ++i) {\n      if (elements[i].equals(obj)) {\n        delTimestamps[i] = System.currentTimeMillis();\n        actualSize--;\n      }\n    }\n  }\n\n  public int actualSize() {\n    return this.actualSize;\n  }\n\n  public int totalSize() {\n    return this.totalSize;\n  }\n\n  public E get(int i) {\n    if (i &gt;= totalSize) {\n      throw new IndexOutOfBoundsException();\n    }\n    return (E)elements[i];\n  }\n\n  public long getAddTimestamp(int i) {\n    if (i &gt;= totalSize) {\n      throw new IndexOutOfBoundsException();\n    }\n    return addTimestamps[i];\n  }\n\n  public long getDelTimestamp(int i) {\n    if (i &gt;= totalSize) {\n      throw new IndexOutOfBoundsException();\n    }\n    return delTimestamps[i];\n  }\n}\n\npublic class SnapshotArrayIterator&lt;E&gt; implements Iterator&lt;E&gt; {\n  private long snapshotTimestamp;\n  private int cursorInAll; // åœ¨æ•´ä¸ªå®¹å™¨ä¸­çš„ä¸‹æ ‡ï¼Œè€Œéå¿«ç…§ä¸­çš„ä¸‹æ ‡\n  private int leftCount; // å¿«ç…§ä¸­è¿˜æœ‰å‡ ä¸ªå…ƒç´ æœªè¢«éå†\n  private ArrayList&lt;E&gt; arrayList;\n\n  public SnapshotArrayIterator(ArrayList&lt;E&gt; arrayList) {\n    this.snapshotTimestamp = System.currentTimeMillis();\n    this.cursorInAll = 0;\n    this.leftCount = arrayList.actualSize();;\n    this.arrayList = arrayList;\n\n    justNext(); // å…ˆè·³åˆ°è¿™ä¸ªè¿­ä»£å™¨å¿«ç…§çš„ç¬¬ä¸€ä¸ªå…ƒç´ \n  }\n\n  @Override\n  public boolean hasNext() {\n    return this.leftCount &gt;= 0; // æ³¨æ„æ˜¯&gt;=, è€Œé&gt;\n  }\n\n  @Override\n  public E next() {\n    E currentItem = arrayList.get(cursorInAll);\n    justNext();\n    return currentItem;\n  }\n\n  private void justNext() {\n    while (cursorInAll &lt; arrayList.totalSize()) {\n      long addTimestamp = arrayList.getAddTimestamp(cursorInAll);\n      long delTimestamp = arrayList.getDelTimestamp(cursorInAll);\n      if (snapshotTimestamp &gt; addTimestamp &amp;&amp; snapshotTimestamp &lt; delTimestamp) {\n        leftCount--;\n        break;\n      }\n      cursorInAll++;\n    }\n  }\n}\n</code></pre><p>å®é™…ä¸Šï¼Œä¸Šé¢çš„è§£å†³æ–¹æ¡ˆç›¸å½“äºè§£å†³äº†ä¸€ä¸ªé—®é¢˜ï¼Œåˆå¼•å…¥äº†å¦å¤–ä¸€ä¸ªé—®é¢˜ã€‚ArrayListåº•å±‚ä¾èµ–æ•°ç»„è¿™ç§æ•°æ®ç»“æ„ï¼ŒåŸæœ¬å¯ä»¥æ”¯æŒå¿«é€Ÿçš„éšæœºè®¿é—®ï¼Œåœ¨O(1)æ—¶é—´å¤æ‚åº¦å†…è·å–ä¸‹æ ‡ä¸ºiçš„å…ƒç´ ï¼Œä½†ç°åœ¨ï¼Œåˆ é™¤æ•°æ®å¹¶éçœŸæ­£çš„åˆ é™¤ï¼Œåªæ˜¯é€šè¿‡æ—¶é—´æˆ³æ¥æ ‡è®°åˆ é™¤ï¼Œè¿™å°±å¯¼è‡´æ— æ³•æ”¯æŒæŒ‰ç…§ä¸‹æ ‡å¿«é€Ÿéšæœºè®¿é—®äº†ã€‚å¦‚æœä½ å¯¹æ•°ç»„éšæœºè®¿é—®è¿™å—çŸ¥è¯†ç‚¹ä¸äº†è§£ï¼Œå¯ä»¥å»çœ‹æˆ‘çš„ã€Šæ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹ç¾ã€‹ä¸“æ ï¼Œè¿™é‡Œæˆ‘å°±ä¸å±•å¼€è®²è§£äº†ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥çœ‹æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼šè®©å®¹å™¨æ—¢æ”¯æŒå¿«ç…§éå†ï¼Œåˆæ”¯æŒéšæœºè®¿é—®ï¼Ÿ</p><p>è§£å†³çš„æ–¹æ³•ä¹Ÿä¸éš¾ï¼Œæˆ‘ç¨å¾®æç¤ºä¸€ä¸‹ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ArrayListä¸­å­˜å‚¨ä¸¤ä¸ªæ•°ç»„ã€‚ä¸€ä¸ªæ”¯æŒæ ‡è®°åˆ é™¤çš„ï¼Œç”¨æ¥å®ç°å¿«ç…§éå†åŠŸèƒ½ï¼›ä¸€ä¸ªä¸æ”¯æŒæ ‡è®°åˆ é™¤çš„ï¼ˆä¹Ÿå°±æ˜¯å°†è¦åˆ é™¤çš„æ•°æ®ç›´æ¥ä»æ•°ç»„ä¸­ç§»é™¤ï¼‰ï¼Œç”¨æ¥æ”¯æŒéšæœºè®¿é—®ã€‚å¯¹åº”çš„ä»£ç æˆ‘è¿™é‡Œå°±ä¸ç»™å‡ºäº†ï¼Œæ„Ÿå…´è¶£çš„è¯ä½ å¯ä»¥è‡ªå·±å®ç°ä¸€ä¸‹ã€‚</p><h2>é‡ç‚¹å›é¡¾</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„å†…å®¹åˆ°æ­¤å°±è®²å®Œäº†ã€‚æˆ‘ä»¬ä¸€å—æ¥æ€»ç»“å›é¡¾ä¸€ä¸‹ï¼Œä½ éœ€è¦é‡ç‚¹æŒæ¡çš„å†…å®¹ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬è®²äº†å¦‚ä½•å®ç°ä¸€ä¸ªæ”¯æŒâ€œå¿«ç…§â€åŠŸèƒ½çš„è¿­ä»£å™¨ã€‚å…¶å®è¿™ä¸ªé—®é¢˜æœ¬èº«å¹¶ä¸æ˜¯å­¦ä¹ çš„é‡ç‚¹ï¼Œå› ä¸ºåœ¨çœŸå®çš„é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å‡ ä¹ä¸ä¼šé‡åˆ°è¿™æ ·çš„éœ€æ±‚ã€‚æ‰€ä»¥ï¼ŒåŸºäºä»Šå¤©çš„å†…å®¹æˆ‘ä¸æƒ³åšè¿‡å¤šçš„æ€»ç»“ã€‚æˆ‘æƒ³å’Œä½ è¯´ä¸€è¯´ï¼Œä¸ºä»€ä¹ˆæˆ‘è¦æ¥è®²ä»Šå¤©çš„å†…å®¹å‘¢ï¼Ÿ</p><p>å®é™…ä¸Šï¼Œå­¦ä¹ æœ¬èŠ‚è¯¾çš„å†…å®¹ï¼Œå¦‚æœä½ åªæ˜¯ä»å‰å¾€åçœ‹ä¸€éï¼Œçœ‹æ‡‚å°±è§‰å¾—okäº†ï¼Œé‚£æ”¶è·å‡ ä¹æ˜¯é›¶ã€‚ä¸€ä¸ªå¥½å­¦ä¹ æ–¹æ³•æ˜¯ï¼ŒæŠŠå®ƒå½“ä½œä¸€ä¸ªæ€è€ƒé¢˜æˆ–è€…é¢è¯•é¢˜ï¼Œåœ¨çœ‹æˆ‘çš„è®²è§£ä¹‹å‰ï¼Œè‡ªå·±ä¸»åŠ¨æ€è€ƒå¦‚ä½•è§£å†³ï¼Œå¹¶ä¸”æŠŠè§£å†³æ–¹æ¡ˆç”¨ä»£ç å®ç°ä¸€éï¼Œç„¶åå†æ¥çœ‹è·Ÿæˆ‘çš„è®²è§£æœ‰å“ªäº›åŒºåˆ«ã€‚è¿™ä¸ªè¿‡ç¨‹å¯¹ä½ åˆ†æé—®é¢˜ã€è§£å†³é—®é¢˜çš„èƒ½åŠ›çš„é”»ç‚¼ï¼Œä»£ç è®¾è®¡èƒ½åŠ›ã€ç¼–ç èƒ½åŠ›çš„é”»ç‚¼ï¼Œæ‰æ˜¯æœ€æœ‰ä»·å€¼çš„ï¼Œæ‰æ˜¯æˆ‘ä»¬è¿™ç¯‡æ–‡ç« çš„æ„ä¹‰æ‰€åœ¨ã€‚æ‰€è°“â€œçŸ¥è¯†æ˜¯æ­»çš„ï¼Œèƒ½åŠ›æ‰æ˜¯æ´»çš„â€å°±æ˜¯è¿™ä¸ªé“ç†ã€‚</p><p>å…¶å®ï¼Œä¸ä»…ä»…æ˜¯è¿™ä¸€èŠ‚çš„å†…å®¹ï¼Œæ•´ä¸ªä¸“æ çš„å­¦ä¹ éƒ½æ˜¯è¿™æ ·çš„ã€‚</p><p>åœ¨ã€Šæ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹ç¾ã€‹ä¸“æ ä¸­ï¼Œæœ‰åŒå­¦æ›¾ç»å¯¹æˆ‘è¯´ï¼Œä»–çœ‹äº†å¾ˆå¤šéæˆ‘çš„ä¸“æ ï¼Œå‡ ä¹çœ‹æ‡‚äº†æ‰€æœ‰çš„å†…å®¹ï¼Œä»–è§‰å¾—éƒ½æŒæ¡äº†ï¼Œä½†æ˜¯ï¼Œåœ¨æœ€è¿‘ç¬¬ä¸€æ¬¡é¢è¯•ä¸­ï¼Œé¢è¯•å®˜ç»™ä»–å‡ºäº†ä¸€ä¸ªç»“åˆå®é™…å¼€å‘çš„ç®—æ³•é¢˜ï¼Œä»–è¿˜æ˜¯æ²¡æœ‰æ€è·¯ï¼Œå½“æ—¶è„‘å­ä¸€ç‰‡æ”¾ç©ºï¼Œé—®æˆ‘å­¦å®Œè¿™ä¸ªä¸“æ ä¹‹åï¼Œè¦æƒ³åº”ä»˜ç®—æ³•é¢è¯•ï¼Œè¿˜è¦å­¦å“ªäº›ä¸œè¥¿ï¼Œæœ‰æ²¡æœ‰æ¨èçš„ä¹¦ç±ã€‚</p><p>æˆ‘çœ‹äº†ä»–çš„é¢è¯•é¢˜ä¹‹åå‘ç°ï¼Œç”¨æˆ‘ä¸“æ é‡Œè®²çš„çŸ¥è¯†æ˜¯å®Œå…¨å¯ä»¥è§£å†³çš„ï¼Œè€Œä¸”ï¼Œä¸“æ é‡Œå·²ç»è®²è¿‡ç±»ä¼¼çš„é—®é¢˜ï¼Œåªæ˜¯æ¢äº†ä¸ªä¸šåŠ¡èƒŒæ™¯è€Œå·²ã€‚ä¹‹æ‰€ä»¥ä»–æ²¡æ³•å›ç­”ä¸Šæ¥ï¼Œè¿˜æ˜¯æ²¡æœ‰å°†çŸ¥è¯†è½¬åŒ–æˆè§£å†³é—®é¢˜çš„èƒ½åŠ›ï¼Œå› ä¸ºä»–åªæ˜¯è¢«åŠ¨åœ°â€œçœ‹â€ï¼Œä»æ¥æ²¡æœ‰ä¸»åŠ¨åœ°â€œæ€è€ƒâ€ã€‚<strong>åªæŒæ¡äº†çŸ¥è¯†ï¼Œæ²¡é”»ç‚¼èƒ½åŠ›ï¼Œé‡åˆ°å®é™…çš„é—®é¢˜è¿˜æ˜¯æ²¡æ³•è‡ªå·±å»åˆ†æã€æ€è€ƒã€è§£å†³</strong>ã€‚</p><p>æˆ‘ç»™ä»–çš„å»ºè®®æ˜¯ï¼ŒæŠŠä¸“æ é‡Œçš„æ¯ä¸ªå¼€ç¯‡é—®é¢˜éƒ½å½“åšé¢è¯•é¢˜ï¼Œè‡ªå·±å»æ€è€ƒä¸€ä¸‹ï¼Œç„¶åå†çœ‹è§£ç­”ã€‚è¿™æ ·æ•´ä¸ªä¸“æ å­¦ä¸‹æ¥ï¼Œå¯¹èƒ½åŠ›çš„é”»ç‚¼å°±å¤šäº†ï¼Œå†é‡åˆ°ç®—æ³•é¢è¯•ä¹Ÿå°±ä¸ä¼šä¸€ç‚¹æ€è·¯éƒ½æ²¡æœ‰äº†ã€‚åŒç†ï¼Œå­¦ä¹ ã€Šè®¾è®¡æ¨¡å¼ä¹‹ç¾ã€‹è¿™ä¸ªä¸“æ ä¹Ÿåº”è¯¥å¦‚æ­¤ã€‚</p><h2>è¯¾å ‚è®¨è®º</h2><p>åœ¨ä»Šå¤©è®²çš„è§£å†³æ–¹æ¡ˆäºŒä¸­ï¼Œåˆ é™¤å…ƒç´ åªæ˜¯è¢«æ ‡è®°åˆ é™¤ã€‚è¢«åˆ é™¤çš„å…ƒç´ å³ä¾¿åœ¨æ²¡æœ‰è¿­ä»£å™¨ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œä¹Ÿä¸ä¼šä»æ•°ç»„ä¸­çœŸæ­£ç§»é™¤ï¼Œè¿™å°±ä¼šå¯¼è‡´ä¸å¿…è¦çš„å†…å­˜å ç”¨ã€‚é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œä½ æœ‰è¿›ä¸€æ­¥ä¼˜åŒ–çš„æ–¹æ³•å—ï¼Ÿ</p><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘åˆ†äº«ä½ çš„æ€è€ƒã€‚å¦‚æœæœ‰æ”¶è·ï¼Œæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"66 | è¿­ä»£å™¨æ¨¡å¼ï¼ˆä¸­ï¼‰ï¼šéå†é›†åˆçš„åŒæ—¶ï¼Œä¸ºä»€ä¹ˆä¸èƒ½å¢åˆ é›†åˆå…ƒç´ ï¼Ÿ","id":219964},"right":{"article_title":"68 | è®¿é—®è€…æ¨¡å¼ï¼ˆä¸Šï¼‰ï¼šæ‰‹æŠŠæ‰‹å¸¦ä½ è¿˜åŸè®¿é—®è€…æ¨¡å¼è¯ç”Ÿçš„æ€ç»´è¿‡ç¨‹","id":221852}},"comments":[{"had_liked":false,"id":203045,"user_name":"LJK","can_delete":false,"product_type":"c1","uid":1199213,"ip_address":"","ucode":"12B2441099FF1D","user_header":"https://static001.geekbang.org/account/avatar/00/12/4c/6d/c20f2d5a.jpg","comment_is_top":false,"comment_ctime":1586127101,"is_pvip":false,"discussion_count":11,"race_medal":0,"score":"362363379965","product_id":100039001,"comment_content":"æ€è€ƒé¢˜æ„Ÿè§‰åƒæ˜¯æ•°æ®åº“çš„MVCCï¼Ÿ<br>- å®¹å™¨ä¸­ç»´æŠ¤ä¸€ä¸ªæ¯ä¸ªè¿­ä»£å™¨åˆ›å»ºæ—¶é—´çš„åˆ—è¡¨<br>- æ¯æ¬¡æœ‰è¿­ä»£å™¨åˆ›å»ºæ—¶å°±åœ¨è¿™ä¸ªåˆ—è¡¨ä¸­åŠ å…¥è‡ªå·±çš„åˆ›å»ºæ—¶é—´<br>- è¿­ä»£å™¨è¿­ä»£å®Œæˆåå°†åˆ—è¡¨ä¸­å¯¹åº”æ—¶é—´ç‚¹åˆ é™¤<br>- æ¸…ç†å®¹å™¨æ—¶ï¼Œå¯¹äºå®¹å™¨ä¸­æ¯ä¸ªå…ƒç´ ï¼Œå¦‚æœaddTimeå°äºè¿™ä¸ªåˆ—è¡¨ä¸­çš„æœ€å°æ—¶é—´ç‚¹å°±å¯ä»¥è¿›è¡Œåˆ é™¤","like_count":84,"discussions":[{"author":{"id":1132661,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","nickname":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","note":"","ucode":"C4C9915866E769","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":81830,"discussion_content":"å°±æ˜¯è¿™ä¸ªç†å„¿","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576286330,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2550743,"avatar":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","nickname":"if...else...","note":"","ucode":"D0565908C99695","race_medal":4,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377672,"discussion_content":"casæ“ä½œå¤§å“¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622770963,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2062402,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKOnpl8fRB9r2vED2s8j7Arwbn2K6M6HUBWNjgoqV4uqe94fTGK4WGpOJLeRxXcBXk3dp23eQR0AQ/132","nickname":"å´é’©","note":"","ucode":"0EB50E8144BCDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350959,"discussion_content":"æˆ‘è§‰å¾—ä¸å®Œå…¨å‡†ç¡®ã€‚getå’Œincrementä¹‹é—´å¯ä»¥è¢«æ‰“æ–­çš„ï¼Œåªæ˜¯incrementæ˜¯CASå®ç°çš„ï¼Œè‹¥æ£€æµ‹åˆ°å¹¶å‘å†²çªå°±é‡æ–°æ‰§è¡Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614082460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1004264,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/52/e8/92a2e66d.jpg","nickname":"ç¬¬äºŒå°‘","note":"","ucode":"4A09D1E7589F67","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302563,"discussion_content":"ã€åœºæ™¯éœ€è¦ä¿è¯ get ä¸ increment ä¸­é—´ä¸æ’å…¥å…¶ä»–æ“ä½œï¼Œå¦åˆ™å‡½æ•°çš„æ­£ç¡®æ€§æ— æ³•ä¿è¯ã€ä¹Ÿè¯´ä¸é€šï¼Œå•ç‹¬çš„getæ“ä½œæ˜¯æœ‰çš„ï¼Œè¦æŒ‰è¿™ä¸ªè¯´æ³•ï¼Œä¹Ÿä¸åº”è¯¥æœ‰å•ç‹¬çš„getæ“ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598956746,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1112747,"avatar":"https://static001.geekbang.org/account/avatar/00/10/fa/ab/0d39e745.jpg","nickname":"æå°å››","note":"","ucode":"2A766BE16B276B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1004264,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/52/e8/92a2e66d.jpg","nickname":"ç¬¬äºŒå°‘","note":"","ucode":"4A09D1E7589F67","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":308639,"discussion_content":"ä¸æ˜ç™½ä½ è®¤ä¸ºé”™è¯¯çš„ç‚¹åœ¨å“ªé‡Œï¼Œgetæ˜¯åªè¯»çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601016367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":302563,"ip_address":""},"score":308639,"extra":""}]},{"author":{"id":1501505,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e9/41/7cb2cf64.jpg","nickname":"Poppy","note":"","ucode":"AF656A00521037","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":222938,"discussion_content":"èµåŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586180996,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1397298,"avatar":"https://static001.geekbang.org/account/avatar/00/15/52/32/bb570f48.jpg","nickname":"å‘å¾€çš„ç”Ÿæ´»","note":"","ucode":"0E8DB45357820F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":81168,"discussion_content":"è¯´çš„å¾ˆæœ‰é“ç†å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576228859,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":264726,"user_name":"ä¸‡å†åäº”å¹´","can_delete":false,"product_type":"c1","uid":1122150,"ip_address":"","ucode":"3D8CF5DF847AE8","user_header":"https://static001.geekbang.org/account/avatar/00/11/1f/66/59e0647a.jpg","comment_is_top":false,"comment_ctime":1606617890,"is_pvip":false,"replies":[{"id":"96065","content":"å—¯å—¯ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½<br>","user_name":"ä½œè€…å›å¤","comment_id":264726,"uid":"1190123","ip_address":"","utype":1,"ctime":1606700557,"user_name_real":"ç‹äº‰"}],"discussion_count":2,"race_medal":0,"score":"139045571362","product_id":100039001,"comment_content":"æ€è€ƒé¢˜ï¼šä¸ºè¿­ä»£å™¨åˆ›å»ºè™šå¼•ç”¨ï¼Œå½“è¿­ä»£å™¨è¢«å›æ”¶æ—¶ï¼Œæ¸…ç©ºå®¹å™¨ä¸­ç›¸åº”å…ƒç´ ã€‚","like_count":33,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477693,"discussion_content":"é›†ä¸­ç­”ç–‘ä¸€ä¸‹å§ è¯¾éƒ½æå‰å½•å¥½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576198161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1162242,"avatar":"https://static001.geekbang.org/account/avatar/00/11/bc/02/3f7a7197.jpg","nickname":"è·¨æ±Ÿå¤§æ¡¥","note":"","ucode":"4629B23F1BB9F0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":415246,"discussion_content":"æ²¡æœ‰ç­”ç–‘ï¼Œæœ‰åŠ é¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637037547,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2277251,"avatar":"https://static001.geekbang.org/account/avatar/00/22/bf/83/c83be5a3.jpg","nickname":"eHackyd","note":"","ucode":"E6E7994FBDF0A5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379088,"discussion_content":"æ‰€ä»¥ä»–æœ‰æ²¡é›†ä¸­ç­”ç–‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623677168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203099,"user_name":"Monday","can_delete":false,"product_type":"c1","uid":1250907,"ip_address":"","ucode":"77B9BACC783598","user_header":"https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg","comment_is_top":false,"comment_ctime":1586139748,"is_pvip":false,"discussion_count":9,"race_medal":0,"score":"83190518372","product_id":100039001,"comment_content":"åœ¨é˜…è¯»æœ¬èŠ‚ä»£ç å®ç°å°±æƒ³åˆ°äº†ç¬¬äºŒç§æ–¹æ¡ˆå­˜åœ¨ç±»ä¼¼æ€è€ƒé¢˜çš„é—®é¢˜<br>è§£å†³æ–¹æ¡ˆå¯ä»¥åœ¨åˆé€‚çš„æ—¶å€™æ¸…ç†å¸¦åˆ é™¤æ ‡è®°çš„å…ƒç´ ã€‚æœ¬æƒ³ä½¿ç”¨æ•°æ®åº“çš„å¤šç‰ˆæœ¬æ§åˆ¶ï¼ˆMVCC)çš„æ–¹æ¡ˆï¼ŒæŠŠæ‰€æœ‰çš„è¿­ä»£å™¨å¯¹è±¡å­˜èµ·æ¥ï¼Œå¹¶æ·»åŠ åˆ›å»ºæ—¶é—´ã€‚ä½†æ˜¯å†’å‡ºä¸€ä¸ªæ–°é—®é¢˜ï¼Œæ•°æ®åº“äº‹åŠ¡æœ‰commitæ¥è¡¨ç¤ºäº‹åŠ¡å·²å®Œæˆï¼Œè€Œè¿­ä»£å™¨çš„ä½¿ç”¨å®Œæˆæ— æ³•çŸ¥æ™“ï¼Œè¿˜åœ¨æ€è€ƒæ–¹æ¡ˆä¸­â€¦â€¦","like_count":19,"discussions":[{"author":{"id":2028956,"avatar":"","nickname":"å‹¿æ›´æ”¹ä»»ä½•ä¿¡æ¯","note":"","ucode":"575185C69C05A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":408711,"discussion_content":"æ‰€è§ç•¥åŒ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635305772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203256,"user_name":"è¾£ä¹ˆå¤§","can_delete":false,"product_type":"c1","uid":1396951,"ip_address":"","ucode":"AB308B6DCA0108","user_header":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","comment_is_top":false,"comment_ctime":1586161680,"is_pvip":true,"discussion_count":3,"race_medal":0,"score":"61715703824","product_id":100039001,"comment_content":"è¯¾åæ€è€ƒé¢˜ï¼šç±»ä¼¼æ•°ç»„åŠ¨æ€æ‰©å®¹å’Œç¼©å®¹ï¼Œåˆ é™¤å…ƒç´ æ—¶å¯ä»¥æ¯”è¾ƒè¢«åˆ é™¤å…ƒç´ çš„æ€»æ•°ï¼Œåœ¨è¢«åˆ é™¤å…ƒç´ æ€»æ•° &lt; æ€»æ•°çš„ 1&#47;2 æ—¶ï¼Œ è¿›è¡Œresizeæ•°ç»„ï¼Œæ¸…ç©ºè¢«åˆ é™¤çš„å…ƒç´ ï¼Œå›æ”¶ç©ºé—´ã€‚","like_count":15,"discussions":[{"author":{"id":1590960,"avatar":"https://static001.geekbang.org/account/avatar/00/18/46/b0/4f45e06e.jpg","nickname":"å¤©é›¨æµèŠ³","note":"","ucode":"81657BA9C900FE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":213463,"discussion_content":"â€œé€šè¿‡è°ƒç”¨è€…å¦‚ä½•ä½¿ç”¨æ¥å£æ¥é—´æ¥åœ°åˆ¤å®šã€‚å¦‚æœè°ƒç”¨è€…åªä½¿ç”¨éƒ¨åˆ†æ¥å£æˆ–æ¥å£çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œé‚£æ¥å£çš„è®¾è®¡å°±ä¸å¤ŸèŒè´£å•ä¸€â€˜â€™ æœ‰é“ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585096925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203664,"user_name":"smartjia","can_delete":false,"product_type":"c1","uid":1330509,"ip_address":"","ucode":"704BCDE56251D2","user_header":"https://static001.geekbang.org/account/avatar/00/14/4d/4d/58c2ffa1.jpg","comment_is_top":false,"comment_ctime":1586250203,"is_pvip":false,"discussion_count":9,"race_medal":0,"score":"57420825051","product_id":100039001,"comment_content":"æ„Ÿè§‰ä»£ç æœ‰ä¸¤ä¸ªå°é—®é¢˜ï¼Œè‹¥ç†è§£æœ‰è¯¯ï¼Œè¯·å¸®æŒ‡æ­£ï¼š<br><br>é—®é¢˜1. é‡å¤åˆ é™¤åŒä¸€ä¸ªå…ƒç´ æ—¶ï¼ŒactualSize åº”è¯¥ä¿æŒä¸å˜ã€‚<br>ä»¥ä¸‹æ˜¯ä¿®æ”¹åçš„ä»£ç ï¼š<br>@Override <br>public void remove(E obj) <br>{<br> for (int i = 0; i &lt; totalSize; ++i) {<br> if (elements[i].equals(obj) &amp;&amp; delTimestamps[i] == Long.MAX_VALUE) { &#47;&#47; é˜²æ­¢é‡å¤åˆ é™¤<br> delTimestamps[i] = System.currentTimeMillis(); <br> actualSize--; }<br> } <br>}<br><br>é—®é¢˜2ï¼š éå†å®Œä¸€ä¸ªå…ƒç´ åéœ€è¦è®© cursorInAll è‡ªå¢ï¼Œå¦åˆ™ cursorInAll ä¸€ç›´æŒ‡å‘ç¬¬ä¸€ä¸ªå¾…éå†çš„å…ƒç´ ã€‚åŒæ—¶hasNext() æ’ä¸ºtrueï¼Œ ä¹Ÿéœ€è¦ä¿®æ”¹ã€‚<br>ä»¥ä¸‹æ˜¯ä¿®æ”¹åçš„ä»£ç ï¼š<br><br>@Override <br>public E next() { <br> E currentItem = arrayList.get(cursorInAll); <br> cursorInAll++ï¼› &#47;&#47;è‡ªå¢ï¼Œå¦åˆ™ cursorInAll ä¸€ç›´ä¸å˜<br> justNext(); <br> return currentItem; <br>}<br><br>@Override <br>public boolean hasNext() { <br>      return this.leftCount &gt;= 0; &#47;&#47; æ³¨æ„æ˜¯&gt;=, è€Œé&gt; ï¼ˆ ä¿®æ”¹å leftCount &gt;= 0 æ’æˆç«‹ï¼Œ æ€»æ˜¯è¿”å› trueï¼‰<br>      æ”¹ä¸ºï¼š<br>      return cursorInAll &lt; arrayList.totalSize()ï¼›<br>} ","like_count":14,"discussions":[{"author":{"id":1132661,"avatar":"https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg","nickname":"ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ","note":"","ucode":"C4C9915866E769","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":81829,"discussion_content":"å¦‚æœé«˜å¹¶å‘çš„è¯ï¼Œæ¥å£éš”ç¦»çš„è¯ï¼Œåˆ†åˆ«è°ƒç”¨ä¸¤ä¸ªå‡½æ•°ï¼Œæ˜¯å¦ä¼šäº§ç”Ÿå¹¶å‘ä¸åŒæ­¥çš„é—®é¢˜ã€‚æœ‰æ¶‰åŠåˆ°äº†åŠ é”ï¼ŒåŠ é”å°±ä¼šå½±å“æ€§èƒ½ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1576286209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203515,"user_name":"è¾‰å“¥","can_delete":false,"product_type":"c1","uid":1236983,"ip_address":"","ucode":"21A65F4EE6CD04","user_header":"","comment_is_top":false,"comment_ctime":1586225148,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"31650996220","product_id":100039001,"comment_content":"è¯¾å ‚è®¨è®ºï¼šå¯ä»¥åˆ›å»ºä¸€ä¸ªobjectç±»å‹çš„å¸¸é‡ï¼Œåˆ é™¤æ•°ç»„å…ƒç´ æ—¶ï¼Œå¯ä»¥å°†è¢«åˆ é™¤æ•°ç»„å…ƒç´ çš„å¼•ç”¨æŒ‡å‘è¯¥å¸¸é‡ã€‚Androidä¸­çš„SparseArrayå°±æ˜¯é‡‡ç”¨æ­¤æ–¹å¼å®ç°çš„","like_count":7,"discussions":[{"author":{"id":1282715,"avatar":"https://static001.geekbang.org/account/avatar/00/13/92/9b/65f98192.jpg","nickname":"Wh1","note":"","ucode":"6D28506B99A285","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":201824,"discussion_content":"å…³äºä½ çš„1å’Œ2ï¼ŒAtomicIntegerå…¶å®ä¹Ÿç»™å‡ºäº†ç›¸åº”çš„get() å’Œ set() æ–¹æ³•ï¼Œä½†AtomicIntegerçš„ä¹˜å’Œé™¤æˆ‘å€’æ˜¯çœŸæ²¡çœ‹è§...\nå…³äºä½ çš„3ï¼ŒAtomicIntegeræ˜¯ä¸ºäº†ä¿è¯ &#34;è‡ªå¢ + è¿”å›ç»“æœ&#34; è¿™ä¸ªæ“ä½œçš„åŸå­æ€§ï¼ŒAtomicIntegeræ‰è®¾ç«‹äº†getAndIncrement()ï¼Œå¦‚æœæ˜¯å¢åŠ ä¸€äº›å…¶ä»–æ“ä½œï¼Œå°±æ— æ³•ä¿è¯åŸå­æ€§äº† ã€‚\nè‡³äºä¸ºä»€ä¹ˆè¿™ä¸ªæ“ä½œæ˜¯åŸå­çš„ï¼Œå› ä¸ºå†…éƒ¨é€šè¿‡Unsafeæä¾›çš„CASè‡ªæ—‹ä¿®æ”¹å†…å­˜åç§»åœ°å€å®ç°çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583842464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203409,"user_name":"é©¬ä»¥","can_delete":false,"product_type":"c1","uid":1344431,"ip_address":"","ucode":"3FEA06CA14DE28","user_header":"https://static001.geekbang.org/account/avatar/00/14/83/af/1cb42cd3.jpg","comment_is_top":false,"comment_ctime":1586185172,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"27355988948","product_id":100039001,"comment_content":"è®°å½•ä¸€ä¸ªè¿­ä»£å˜é‡ï¼Œæ¯è¿­ä»£ä¸€æ¬¡ï¼Œè®¡æ•°åŠ ä¸€ï¼Œè¿­ä»£å®Œä¸€æ¬¡å‡ä¸€ï¼Œå½“ä¸º0çš„æ—¶å€™å°±å¯ä»¥åˆ é™¤æ ‡è®°ä¸ºdeleteçš„å…ƒç´ äº†","like_count":7,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478382,"discussion_content":"ä¸ä¸€æ ·å‘¢ä½ å†çœ‹çœ‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576796900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1632462,"avatar":"https://static001.geekbang.org/account/avatar/00/18/e8/ce/b5576a7f.jpg","nickname":"hotdog5225","note":"","ucode":"3FC53FEDBEE34A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":215190,"discussion_content":"æˆ‘è§‰å¾—ï¼Œä½œè€…çš„æ„æ€åº”è¯¥æ˜¯ï¼šç¬¬ä¸€ä¸ªç†è§£æ˜¯ä»å®ç°ç±»çš„è§’åº¦æ¥è¯´çš„ï¼Œè¦æ±‚å®ç°ç±»å®ç°çš„æ¥å£ä¸­ä¸åº”è¯¥æœ‰å®ç°ç±»ä¸èƒ½å®ç°/æˆ–è€…ä¸éœ€è¦å®ç°çš„APIã€‚ç¬¬ä¸‰ä¸ªç†è§£æ˜¯ä»æ¥å£çš„è°ƒç”¨è€…æ¥è¯´çš„ï¼Œè°ƒç”¨è€…ä¸åº”å½“ä¾èµ–è‡ªå·±ä¸éœ€è¦çš„æ¥å£ã€‚ï¼ˆå½“ç„¶åœ¨ä½œè€…çš„ä»£ç ä¸­ï¼Œç¬¬ä¸‰ä¸ªç†è§£ä¸­çš„ä»£ç ï¼Œä¹ŸåŒ…å«äº†æè¿°ç¬¬ä¸€ä¸ªç†è§£çš„ä»£ç ï¼‰ã€‚ä¸ªäººç†è§£ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585298451,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2286788,"avatar":"https://static001.geekbang.org/account/avatar/00/22/e4/c4/065f8c0c.jpg","nickname":"Tom-TTC","note":"","ucode":"36AB0797D6FD3A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325957,"discussion_content":"æ„Ÿè§‰ï¼Œç¬¬ä¸€ä¸ªè¯´çš„æ˜¯apiæ¥å£ï¼Œç¬¬ä¸‰ä¸ªæ˜¯javaçš„interfaceç±»ï¼Œåˆ†åˆ«å¯¹åº”æ–‡ç« ä¸­ä¸¾çš„ç”¨æˆ·ç®¡ç†å’Œredisç­‰é…ç½®çš„ä¾‹å­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605489974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2071327,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/9b/1f/9f3379d3.jpg","nickname":"Geek_7f21d2","note":"","ucode":"12204FDAD951BE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302330,"discussion_content":"ç¬¬ä¸€ç§ï¼Œ ä½ å¯¹å¤–è¾“å‡ºçš„ä¸€ç§èƒ½åŠ›ï¼Œå®¢æˆ·ç«¯å¯èƒ½åªä½¿ç”¨éƒ¨åˆ†çš„èƒ½åŠ› ï¼Œè¿™æ ·ä¸ç¬¦åˆæ¥å£éš”ç¦»ï¼› ç¬¬ä¸‰ç§ï¼Œ ä½ å†…éƒ¨å¼€å‘ï¼Œ æœ‰å¤šç§çš„èƒ½åŠ›ï¼Œä¸åŒçš„æ¥å£å®šä¹‰å„è‡ªçš„èƒ½åŠ›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598879864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1448126,"avatar":"https://static001.geekbang.org/account/avatar/00/16/18/be/ad3127e0.jpg","nickname":"æ…•é«˜è¿ª","note":"","ucode":"EB1CB5EA4E3A90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290533,"discussion_content":"ç¬¬ä¸€ç§å¾®æœåŠ¡è°ƒç”¨éƒ½æ˜¯è¿œç¨‹æ¥å£è°ƒç”¨ï¼Œå¦‚æœæ¥å£ä¸­åŒ…å«äº†ä¸éœ€è¦çš„å†…å®¹ï¼Œé‚£å°±æ˜¯è¿åäº†æ¥å£éš”ç¦»åŸåˆ™ã€‚è€Œç¬¬ä¸‰ç§OOPä¸­çš„æ¥å£ï¼Œå±äºç³»ç»Ÿå†…çš„è°ƒç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594526303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1397298,"avatar":"https://static001.geekbang.org/account/avatar/00/15/52/32/bb570f48.jpg","nickname":"å‘å¾€çš„ç”Ÿæ´»","note":"","ucode":"0E8DB45357820F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287896,"discussion_content":"æˆ‘ä¹Ÿæœ‰åŒæ ·çš„æ„Ÿè§‰ å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593582828,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1053853,"avatar":"https://static001.geekbang.org/account/avatar/00/10/14/9d/19dcdd42.jpg","nickname":"ç“œç“œ","note":"","ucode":"2E98377E48399E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":277666,"discussion_content":"æˆ‘æƒ³ï¼Œç°åœ¨æˆ‘ä»¬å°±åº”è¯¥è¿™ä¹ˆç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591089573,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1817921,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erBJ1vppuwhTibCia7P24TQMz7TiaMId5QQjZuQJGicn4HynQEFGhC0x0wRUO2JlPzVPWK0sGtMwlvBLQ/132","nickname":"Onlyhalo","note":"","ucode":"ABDE0C48BCDD78","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":163811,"discussion_content":"æˆ‘æ€ä¹ˆæ„Ÿè§‰ä¹Ÿå·®ä¸å¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581098486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1328354,"avatar":"https://static001.geekbang.org/account/avatar/00/14/44/e2/763526e9.jpg","nickname":"ç¨‹æ™“æ“˜","note":"","ucode":"96986D5AE2B96C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":114821,"discussion_content":"æˆ‘å’Œä½ æœ‰ä¸€æ ·çš„æ„Ÿè§‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577977694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203280,"user_name":"å­è±ªsirius","can_delete":false,"product_type":"c1","uid":1117023,"ip_address":"","ucode":"E8D08D2D33E785","user_header":"https://static001.geekbang.org/account/avatar/00/11/0b/5f/2cc4060c.jpg","comment_is_top":false,"comment_ctime":1586165061,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"23061001541","product_id":100039001,"comment_content":"ç¬¬äºŒä¸ªé—®é¢˜ï¼Œæˆ‘æƒ³å¯ä¸å¯ç”¨ä¸ªæ•°ç»„è®°å½•å½“å‰æœ‰å¤šå°‘ä¸ªè¿­ä»£å™¨ã€‚æ¯è°ƒç”¨ä¸€æ¬¡iterratoræ–¹æ³•ï¼Œè¿­ä»£å™¨åŠ ä¸€ï¼›æœ‰å…ƒç´ åˆ é™¤æ—¶ï¼Œè®°å½•è¿™ä¸ªæ—¶é—´ç‚¹çš„è¿­ä»£å™¨çš„æ•°é‡ï¼›å½“è¿­ä»£å™¨è®¿é—®åˆ°è¯¥å…ƒç´ æ—¶ï¼Œå‡ä¸€ï¼Œå‡åˆ°0ï¼Œè¯´æ˜ä¸å†æœ‰åˆ é™¤è¯¥å…ƒç´ æ—¶é—´ç‚¹ä¹‹å‰ç”Ÿæˆçš„è¿­ä»£å™¨æ¥è®¿é—®äº†ï¼Œå°±å¯ä»¥å®é™…åˆ é™¤è¯¥å…ƒç´ ã€‚","like_count":5},{"had_liked":false,"id":213117,"user_name":"xk_","can_delete":false,"product_type":"c1","uid":1514305,"ip_address":"","ucode":"DFE1AC38EA78A7","user_header":"https://static001.geekbang.org/account/avatar/00/17/1b/41/dbb7d785.jpg","comment_is_top":false,"comment_ctime":1588304962,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"14473206850","product_id":100039001,"comment_content":"è¯¾åé¢˜ï¼š<br>æˆ‘ä»¬å¯ä»¥åœ¨é›†åˆç±»ä¸­è®°å½•æ¯ä¸€ä¸ªè¿­ä»£å™¨åˆ›å»ºæ—¶é—´åˆ—è¡¨iteratorCreateTimeListã€‚<br><br>åœ¨è¿­ä»£å™¨åˆ›å»ºçš„æ—¶å€™ï¼Œåˆ é™¤iteratorCreateTimeList[0]ä¹‹å‰çš„è¢«æ ‡è®°åˆ é™¤çš„å…ƒç´ ã€‚<br><br>åœ¨è¿­ä»£å™¨ä¸­éœ€è¦å†™ä¸€ä¸ªé”€æ¯çš„æ–¹æ³•ï¼Œåˆ æ‰iteratorCreateTimeListä¸­å¯¹åº”çš„åˆ›å»ºæ—¶é—´ï¼Œåˆ é™¤iteratorCreateTimeList[0]ä¹‹å‰çš„è¢«æ ‡è®°åˆ é™¤çš„å…ƒç´ ã€‚","like_count":3,"discussions":[{"author":{"id":1385377,"avatar":"https://static001.geekbang.org/account/avatar/00/15/23/a1/b08f3ee7.jpg","nickname":"ä½•å¦¨","note":"","ucode":"EC3983BFF7992A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":80837,"discussion_content":"è¡¥å……ä¸€ä¸‹é‡ç‚¹:å¯¹äºapiæ¥å£ï¼Œè°ƒç”¨è€…ä¸åº”è¯¥å¼ºè¿«ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼Œå¯ä»¥è€ƒè™‘æ‹†åˆ†å‡ºæ¥ï¼Œä¾‹å¦‚æ–‡ä¸­ç”¨æˆ·åˆ é™¤æ¥å£ã€‚å¯¹äºå‡½æ•°æ¥è¯´åº”è¯¥åªå®ç°å•ä¸€åŠŸèƒ½ï¼Œä¾‹å¦‚æ–‡ä¸­ count å‡½æ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576199318,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203343,"user_name":"webmin","can_delete":false,"product_type":"c1","uid":1047014,"ip_address":"","ucode":"98B0CA882454E8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f9/e6/47742988.jpg","comment_is_top":false,"comment_ctime":1586177333,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"14471079221","product_id":100039001,"comment_content":"å¯ä»¥å‚è€ƒGCçš„ç®—æ³•ï¼Œå¼„ä¸€ä¸ªå‡åŒ–ç‰ˆçš„ä¼˜åŒ–æ–¹æ³•ï¼š<br>1. è¢«åˆ é™¤çš„å…ƒç´ æ˜¯å¦è¿˜æœ‰å¯èƒ½è¢«å·²ç»åˆ›å»ºçš„iteratoræ‰€è®¿é—®ï¼Œå³è¢«åˆ é™¤çš„å…ƒç´ è¿˜è¢«å¼•ç”¨ç€ï¼›ï¼ˆiteratorä½¿ç”¨å®Œéœ€è¦æœ‰è°ƒç”¨å…³é—­åŠ¨ä½œï¼‰<br>2. è¢«åˆ é™¤çš„å…ƒç´ è¾¾åˆ°ä¸€å®šé‡æ—¶ï¼ŒæŒ‰ç…§åˆ é™¤æ—¶é—´æ¸…ç†æ‰æ•ˆæ—©åˆ é™¤çš„å…ƒç´ ï¼Œæ¸…ç†æ‰çš„æœ€æ™šçš„è¢«åˆ é™¤å…ƒç´ çš„åˆ é™¤æ—¶é—´æ”¾ç½®åœ¨æ¸…ç†æ ‡è¯†å­—æ®µï¼Œiteratorè¿­ä»£æ—¶æ£€æŸ¥æ¸…ç†æ ‡è¯†å­—æ®µï¼Œå¦‚æœiteratoråˆ›å»ºæ—¶é—´æ—©äºæ¸…ç†æ ‡è¯†å­—æ®µä¸­çš„æ—¶é—´ä¸¢å‡ºå¼‚å¸¸ï¼›","like_count":3,"discussions":[{"author":{"id":1219438,"avatar":"https://static001.geekbang.org/account/avatar/00/12/9b/6e/edd2da0c.jpg","nickname":"è“é­”ä¸¶","note":"","ucode":"2AE4359E263558","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281398,"discussion_content":"è¿™ä¸ªè¦æ±‚æ˜¯ä¸æ˜¯éœ€è¦è¢«åˆ é™¤çš„å…ƒç´ éœ€è¦æœ‰åºï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591718867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1095857,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/bvj76PmeUvW8kokyu91IZWuRATKmabibDWbzAj2TajeEic7WvKCJOLaOh6jibEmdQ36EO3sBUZ0HibAiapsrZo64U8w/132","nickname":"æ¢¦å€šæ æ†","note":"","ucode":"BDEB97F2822445","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":223816,"discussion_content":"ğŸ¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586257100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203051,"user_name":"eason2017","can_delete":false,"product_type":"c1","uid":1009422,"ip_address":"","ucode":"E070BA624FA490","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/0e/c77ad9b1.jpg","comment_is_top":false,"comment_ctime":1586128376,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14471030264","product_id":100039001,"comment_content":"å®šæ—¶æ¸…ç†é‡Œé¢çš„æ•°æ®ï¼Œåšä¸€æ¬¡åŒæ­¥ã€‚æœŸé—´å¯èƒ½ä¼šåŠ é”æ¥ä¿è¯æ•°æ®çš„æœ‰æ•ˆæ€§ã€‚","like_count":3},{"had_liked":false,"id":210956,"user_name":"æ¡ƒèŠ±æ²³é€†æµè€Œä¸Š","can_delete":false,"product_type":"c1","uid":1464183,"ip_address":"","ucode":"A88A60296743CF","user_header":"https://static001.geekbang.org/account/avatar/00/16/57/77/ad6b2b8b.jpg","comment_is_top":false,"comment_ctime":1587870124,"is_pvip":false,"replies":[{"id":"78924","content":"1. æˆ‘å†çœ‹ä¸‹<br>2. å¯ä»¥å–çº³ç§’æ—¶é—´ï¼Œä¹Ÿå¯ä»¥ç”¨ç‰ˆæœ¬å·","user_name":"ä½œè€…å›å¤","comment_id":210956,"uid":"1190123","ip_address":"","utype":1,"ctime":1588129833,"user_name_real":"ç‹äº‰"}],"discussion_count":3,"race_medal":0,"score":"10177804716","product_id":100039001,"comment_content":"1.ä»£ç è²Œä¼¼è·‘å¾—ä¸å¯¹ï¼Œåªæœ‰justNextæ–¹æ³•è‡ªå¢äº†cursorInAllï¼Œå‡è®¾ç¬¬ä¸€ä¸ªå…ƒç´ æ²¡æœ‰è¢«åˆ é™¤ï¼Œé‚£ä¹ˆæ€»æ˜¯cursorInAllæ€»æ˜¯0ï¼›<br>2.æ—¶é—´æˆ³è·å–æœ‰ç‚¹é—®é¢˜ï¼Œè¿ç»­æ“ä½œè·å–æ—¶é—´æˆ³å¾ˆæœ‰å¯èƒ½éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåº”è¯¥å°†æ—¶é—´æˆ³è¿›è¡Œé€’å¢æ“ä½œï¼Œé˜²æ­¢ç›¸ç­‰","like_count":2,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493155,"discussion_content":"1. æˆ‘å†çœ‹ä¸‹\n2. å¯ä»¥å–çº³ç§’æ—¶é—´ï¼Œä¹Ÿå¯ä»¥ç”¨ç‰ˆæœ¬å·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588129833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2206073,"avatar":"","nickname":"å¤§è™«ç¬è¿‡å¤§æ±Ÿ","note":"","ucode":"FBF248F35A35B3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":377330,"discussion_content":"ä»£ç cursorInAllç¡®å®æ²¡æœ‰åŠæ³•å¢åŠ ä¸Šå»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622604180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1121758,"avatar":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","nickname":"aoe","note":"","ucode":"1C6201EDB4E954","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":299881,"discussion_content":"é€†æµå¤§ä½¬ï¼Œä½ è¿™æ˜¯è¦é€†è¢­å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597848077,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203630,"user_name":"tt","can_delete":false,"product_type":"c1","uid":1489957,"ip_address":"","ucode":"7753B79AD5A9AC","user_header":"https://static001.geekbang.org/account/avatar/00/16/bc/25/1c92a90c.jpg","comment_is_top":false,"comment_ctime":1586243840,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10176178432","product_id":100039001,"comment_content":"æƒ³èµ·æ¥MySQLä¸­çš„å¤šç‰ˆæœ¬æ§åˆ¶ï¼Œç”¨äºå®ç°äº‹ç‰©é—´ä¸åŒçš„éš”ç¦»çº§åˆ«","like_count":2},{"had_liked":false,"id":203304,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1586168546,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"10176103138","product_id":100039001,"comment_content":"1.ç»™å…ƒç´ æ‰“æ—¶é—´æˆªå®ç°å¿«ç…§ï¼Œç©ºé—´æˆæœ¬ä¼šæ¯”è¾ƒå¤§ã€‚è¿™é‡Œå…¶å®é‡‡ç”¨å¤åˆ¶çŠ¶æ€æœºä¸€æ ·èƒ½èµ·åˆ°æ•ˆæœï¼Œåªæ˜¯ç©ºé—´æˆæœ¬å°±å˜æˆäº†æ—¶é—´æˆæœ¬ã€‚<br><br>2.è‡³äºæ ä¸»çš„è¯¾åé¢˜ï¼Œè¿™å·²ç»æ˜¯ä»å®ç°å¿«ç…§ï¼Œå˜æˆå¿«ç…§æ“ä½œåœ¨å¤šçº¿ç¨‹å¯è§äº†ã€‚é‚£ä¹ˆå½“å‰çš„å®ç°æ˜¯ä¸ä¸¥è°¨çš„ï¼Œå¹¶å‘ä¼šæœ‰æ•°æ®ä¸ç¬¦åˆé¢„æœŸçš„æƒ…å†µã€‚<br><br>3.ä¸è€ƒè™‘å¹¶å‘é—®é¢˜ï¼Œä»…çœ‹å¦‚ä½•é‡Šæ”¾å†…å­˜è¿™ä¸ªé—®é¢˜ã€‚å¤åˆ¶çŠ¶æ€æœºå¯ä»¥å°†ä¸€æ®µæ—¶é—´çš„logæ•´åˆï¼Œå®ç°å¿«ç…§å¾€å‰ç§»åŠ¨ï¼ˆæ¯”å¦‚redisï¼‰ã€‚æ”¾åœ¨è¿™é‡Œä¹Ÿä¸€æ ·ï¼Œå®šæ—¶å¯¹å…ƒç´ åšæ•´åˆï¼Œå°†è¢«åˆ é™¤çš„å…ƒç´ ç§»é™¤å³å¯ã€‚ï¼ˆé—æ†¾çš„æ—¶ï¼ŒåŸºäºæ—¶é—´æˆªè¿™ç§ï¼Œæ— æ³•åœ¨æŸä¸ªå¿«ç…§ï¼ˆçŠ¶æ€ï¼‰ï¼Œç»“åˆlogï¼Œåšå¾€åå€’é€€çš„æ“ä½œï¼‰","like_count":2,"discussions":[{"author":{"id":1095857,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/bvj76PmeUvW8kokyu91IZWuRATKmabibDWbzAj2TajeEic7WvKCJOLaOh6jibEmdQ36EO3sBUZ0HibAiapsrZo64U8w/132","nickname":"æ¢¦å€šæ æ†","note":"","ucode":"BDEB97F2822445","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":223819,"discussion_content":"èµ‹å€¼çŠ¶æ€æœºæ˜¯ä»€ä¹ˆæ„æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586257179,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1251111,"avatar":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","nickname":"Jxin","note":"","ucode":"4C03928388C413","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1095857,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/bvj76PmeUvW8kokyu91IZWuRATKmabibDWbzAj2TajeEic7WvKCJOLaOh6jibEmdQ36EO3sBUZ0HibAiapsrZo64U8w/132","nickname":"æ¢¦å€šæ æ†","note":"","ucode":"BDEB97F2822445","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224334,"discussion_content":"ç™¾åº¦å°±æœ‰ã€‚ä¸€èˆ¬å­˜å‚¨ç³»ç»Ÿéƒ½ä¼šåŸºäºè¿™ä¸ªåšä¸ºæ•°æ®çš„å®ç°æ¨¡å¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586277699,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":223819,"ip_address":""},"score":224334,"extra":""}]}]},{"had_liked":false,"id":203260,"user_name":"zj","can_delete":false,"product_type":"c1","uid":1100064,"ip_address":"","ucode":"E3329CCF694AC2","user_header":"https://static001.geekbang.org/account/avatar/00/10/c9/20/e4f1b17c.jpg","comment_is_top":false,"comment_ctime":1586162126,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"10176096718","product_id":100039001,"comment_content":"æˆ‘æœ‰ä¸ªæƒ³æ³•ï¼Œå½“è¿­ä»£å™¨åˆ›å»ºåï¼Œå®¹å™¨å…ƒç´ å¦‚æœè¢«åˆ é™¤äº†ï¼Œåˆ™åœ¨è¿­ä»£å™¨åˆ›å»ºå¼ºå¼•ç”¨æŒ‡å‘è¿™ä¸ªå®¹å™¨å…ƒç´ ï¼Œå®¹å™¨ä¸­å…ƒç´ å°†ä¹‹å‰å…ƒç´ çš„å¼ºå¼•ç”¨å˜ä¸ºå¼±å¼•ç”¨ã€‚<br> å½“è¿­ä»£å™¨ä¸å†ä½¿ç”¨åï¼Œä¼šè¢«gcæ‰ï¼Œä»è€Œåˆ é™¤çš„å…ƒç´ åªå‰©ä¸‹å¼±å¼•ç”¨äº†ï¼Œé‚£ä¸‹ä¸€æ¬¡gcï¼Œè¿™ä¸ªåˆ é™¤çš„å…ƒç´ å°±ä¼šè¢«gcæ‰ã€‚","like_count":2,"discussions":[{"author":{"id":1775076,"avatar":"","nickname":"ä¸¥","note":"","ucode":"9704161D1B317C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":251930,"discussion_content":"æ•°ç»„å¼•ç”¨ç€å¼±å¼•ç”¨ï¼Œå¼±å¼•ç”¨ä¸ä¼šåˆ é™¤å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588126675,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1181055,"avatar":"https://static001.geekbang.org/account/avatar/00/12/05/7f/d35ab9a1.jpg","nickname":"z.l","note":"","ucode":"805CC5784D3F76","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":245608,"discussion_content":"æˆ‘çš„æƒ³æ³•è·Ÿä½ ä¸€æ ·ï¼Œä½†æ˜¯æ„Ÿè§‰è¿˜å°‘äº†ç‚¹ï¼Œå…ƒç´ è¢«gcæ‰ä¹‹åï¼Œæ•°ç»„çš„é•¿åº¦è¿˜æ˜¯æ²¡å˜ï¼Œæ•°ç»„ä¸­ä¼šæœ‰å¾ˆå¤šnullå…ƒç´ ï¼Œè¿˜éœ€è¦å¦å¤–ä¸€ç§æœºåˆ¶æ¥å‹ç¼©æ•°ç»„å¤§å°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587688914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1100064,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c9/20/e4f1b17c.jpg","nickname":"zj","note":"","ucode":"E3329CCF694AC2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1181055,"avatar":"https://static001.geekbang.org/account/avatar/00/12/05/7f/d35ab9a1.jpg","nickname":"z.l","note":"","ucode":"805CC5784D3F76","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":246087,"discussion_content":"å¯ä»¥åœ¨å®¹å™¨çš„addï¼Œremove getæ–¹æ³•æ£€æŸ¥æ˜¯å¦æœ‰nullï¼Œæˆ‘çœ‹ThreadLocalMapæ˜¯è¿™æ ·å¤„ç†çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587726239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":245608,"ip_address":""},"score":246087,"extra":""}]}]},{"had_liked":false,"id":329373,"user_name":"Geek_b71d2c","can_delete":false,"product_type":"c1","uid":2731263,"ip_address":"","ucode":"3E44D6B22E4451","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKB2930aZlw66wLtB5jnTzUBWKP750AKl2f2C7QxoWBzOVxdCh5PEL7viaalYE7bKUdpTYTDAS7iaDg/132","comment_is_top":false,"comment_ctime":1641304551,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5936271847","product_id":100039001,"comment_content":"åœ¨æ–¹æ¡ˆä¸€ä¸­è€å¸ˆè¯´äº†Javaå±äºæµ…æ‹·è´ï¼Œåªæ‹·è´å®¹å™¨çš„å¼•ç”¨ï¼Œé‚£åŸæœ‰å®¹å™¨ä¸­çš„æ•°æ®å‘ç”Ÿå¢åˆ æ—¶ä¼šåŒæ­¥å½±å“åˆ°è¿­ä»£å™¨ä¸­çš„å®¹å™¨ï¼Œé‚£è¿™æ ·åˆå¦‚ä½•èƒ½å®ç°å¿«ç…§åŠŸèƒ½å‘¢ï¼Ÿ","like_count":1},{"had_liked":false,"id":203527,"user_name":"å®ˆæ‹™","can_delete":false,"product_type":"c1","uid":1738326,"ip_address":"","ucode":"F594B2DA3F6D4F","user_header":"https://static001.geekbang.org/account/avatar/00/1a/86/56/509535da.jpg","comment_is_top":false,"comment_ctime":1586227243,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5881194539","product_id":100039001,"comment_content":"è¯¾å ‚è®¨è®º: <br>åœ¨è°ƒç”¨List#iterator()ä¹‹å‰, åˆ é™¤deltimestamp &lt; å½“å‰æ—¶é—´çš„å…ƒç´ .","like_count":1},{"had_liked":false,"id":203402,"user_name":"é©¬ä»¥","can_delete":false,"product_type":"c1","uid":1344431,"ip_address":"","ucode":"3FEA06CA14DE28","user_header":"https://static001.geekbang.org/account/avatar/00/14/83/af/1cb42cd3.jpg","comment_is_top":false,"comment_ctime":1586184739,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5881152035","product_id":100039001,"comment_content":"æ˜¯çš„ï¼Œè¿™ä¸ªæ˜¯å’Œæ•°æ®åº“çš„äº‹åŠ¡éš”ç¦»å·®ä¸å¤šï¼Œè€å¸ˆè¿™é‡Œç”¨çš„æ˜¯æ—¶é—´æˆ³ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨ä¸€ä¸ªè‡ªå¢çš„åºåˆ—å·æ¥æ§åˆ¶ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ï¼›","like_count":1,"discussions":[{"author":{"id":1092169,"avatar":"https://static001.geekbang.org/account/avatar/00/10/aa/49/51790edb.jpg","nickname":"è½å°˜kira","note":"","ucode":"D203B519E43F85","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":263921,"discussion_content":"ä½¿ç”¨ç‰ˆæœ¬å·çš„è¿˜éœ€è¦é¢å¤–ç»´æŠ¤å”¯ä¸€æ€§ï¼ˆä¿è¯æ¯ä¸ªå¿«ç…§ç‰ˆæœ¬è¦ä¸ä¸€è‡´ï¼‰ï¼Œæ—¶é—´æˆ³ç›¸å¯¹æ›´è½»ä¾¿ä¸€äº›\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589266249,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203366,"user_name":"Kenå¼ äº‘å¿ ","can_delete":false,"product_type":"c1","uid":1134288,"ip_address":"","ucode":"D0BAC9FC17DE2B","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/d0/d8a5f720.jpg","comment_is_top":false,"comment_ctime":1586179890,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5881147186","product_id":100039001,"comment_content":"åœ¨é›†åˆå¢åŠ ä¸€ä¸ªæ•°ç»„fieldï¼Œä¸“é—¨ç”¨æ¥è®°å½•å¼•ç”¨è¯¥å…ƒç´ çš„è¿­ä»£å™¨ä¸ªæ•°ï¼Œå½“è¿­ä»£å™¨ä¸ªæ•°ä¸º0ä¸”è¯¥å…ƒç´ å·²ç»æ ‡è®°ä¸ºåˆ é™¤å…ƒç´ æ—¶æ‰çœŸæ­£çš„åˆ é™¤å…ƒç´ ï¼Œå½“éœ€è¦è¿­ä»£å™¨ä½¿ç”¨è€…åœ¨ä½¿ç”¨å®Œè¿­ä»£å™¨åéœ€è¦æ˜¾ç¤ºå¾—è°ƒç”¨è¿­ä»£å™¨æ³¨é”€è¯¥å…ƒç´ çš„å‡½æ•°ï¼Œå¯¹äºä½¿ç”¨è€…ä¸å¤ªå‹å¥½äº†ã€‚","like_count":1},{"had_liked":false,"id":203315,"user_name":"ç­±ä¹ä¹å“¦","can_delete":false,"product_type":"c1","uid":1307611,"ip_address":"","ucode":"AE92539F0419C3","user_header":"https://static001.geekbang.org/account/avatar/00/13/f3/db/5b7a8fd8.jpg","comment_is_top":false,"comment_ctime":1586170341,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"5881137637","product_id":100039001,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜ï¼šä½ åœ¨æ–‡ç« ä¸­è¯´åˆ°ï¼šè®©å®¹å™¨æ—¢æ”¯æŒå¿«ç…§éå†ï¼Œåˆæ”¯æŒéšæœºè®¿é—®ï¼Ÿæˆ‘ä»¬å¯ä»¥åœ¨ ArrayList ä¸­å­˜å‚¨ä¸¤ä¸ªæ•°ç»„ã€‚ä¸€ä¸ªæ”¯æŒæ ‡è®°åˆ é™¤çš„ï¼Œç”¨æ¥å®ç°å¿«ç…§éå†åŠŸèƒ½ï¼›ä¸€ä¸ªä¸æ”¯æŒæ ‡è®°åˆ é™¤çš„ï¼ˆä¹Ÿå°±æ˜¯å°†è¦åˆ é™¤çš„æ•°æ®ç›´æ¥ä»æ•°ç»„ä¸­ç§»é™¤ï¼‰ï¼Œç”¨æ¥æ”¯æŒéšæœºè®¿é—®<br>å¦‚æœæ˜¯è¿™æ ·æ“ä½œï¼Œé‚£å’Œæµ…æ‹·è´çš„é‚£ä¸ªæ¯”è¾ƒï¼Œæ²¡å‘ç°æœ‰ä¼˜åŠ¿å‘€ï¼Œè€å¸ˆå¯ä»¥è¯´ä¸‹è¿™å—å—","like_count":1,"discussions":[{"author":{"id":1945605,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/b0/05/c9da834e.jpg","nickname":"å°äººç‰©å¤§å¸Œæœ›","note":"","ucode":"8EF313AA26D4B8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":263514,"discussion_content":"åˆ é™¤å…ƒç´ çš„æ—¶å€™é‡å»º æ”¯æŒéšæœºè®¿é—® çš„é‚£ä¸ªæ•°ç»„ï¼ˆæ·»åŠ å…ƒç´ çš„æ—¶å€™ï¼Œç›´æ¥æ’å…¥åˆ°å°¾éƒ¨å³å¯ï¼‰ï¼Œåæ­£åˆ é™¤çš„æ—¶é—´å¤æ‚åº¦æ˜¯æœ¬èº«å°±æ˜¯O(n)ï¼Œå¤šä¸€ä¸ªO(n)çš„æ“ä½œè¿˜æ˜¯O(n)ã€‚\nè¿™æ ·è¿­ä»£çš„æ—¶å€™ï¼Œå°±ä¸ç”¨æµ…æ‹·è´äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1589209866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1385377,"avatar":"https://static001.geekbang.org/account/avatar/00/15/23/a1/b08f3ee7.jpg","nickname":"ä½•å¦¨","note":"","ucode":"EC3983BFF7992A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":223375,"discussion_content":"å¤šä¸ªè¿­ä»£å™¨éå†çš„æ—¶å€™æ˜¯æœ‰ä¼˜åŠ¿çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586220492,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203269,"user_name":"å¾å‡¯","can_delete":false,"product_type":"c1","uid":1244991,"ip_address":"","ucode":"12F82BA3649CD5","user_header":"https://static001.geekbang.org/account/avatar/00/12/ff/3f/bbb8a88c.jpg","comment_is_top":false,"comment_ctime":1586163671,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5881130967","product_id":100039001,"comment_content":"å®¹å™¨å¯ä»¥æ”¾æŒ‡å‘å…ƒç´ çš„æŒ‡é’ˆï¼Œå½“ä¸ç”¨æ—¶ç›´æ¥å°†æŒ‡é’ˆé‡Šæ”¾å¹¶ç½®ä¸ºç©º","like_count":1},{"had_liked":false,"id":360694,"user_name":"Geek_7e0e83","can_delete":false,"product_type":"c1","uid":2142423,"ip_address":"å¹¿ä¸œ","ucode":"554DEE2AAAE33C","user_header":"","comment_is_top":false,"comment_ctime":1666764624,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1666764624","product_id":100039001,"comment_content":"è¿™ä¸ªæ€è€ƒé¢˜ æ²¡æœ‰æƒ³å‡ºæ¥æ€è·¯ã€‚å…ˆå‚è€ƒäº†ä¸€ä¸‹ ç²¾é€‰çš„ç•™è¨€ ç„¶åå†åŠ ä¸Šè‡ªå·±çš„ç†è§£ æä¾›ç»™å¤§å®¶å‚è€ƒ<br><br>1.ç»´æŠ¤ä¸€ä¸ªè¿­ä»£å™¨çš„åˆ›å»ºæ—¶é—´æˆ³åˆ—è¡¨ï¼Œè®°å½•äº†æ¯ä¸€ä¸ªè¿­ä»£å™¨åˆ›å»ºçš„æ—¶é—´ã€‚è¿­ä»£å™¨ä½¿ç”¨å®Œæ¯•åã€‚å°†æ—¶é—´ä¿¡æ¯ç§»é™¤ã€‚å½“å…ƒç´ æ‰§è¡Œåˆ é™¤åŠ¨ä½œçš„æ—¶å€™ï¼Œå¦‚æœå…ƒç´ çš„åˆ é™¤æ—¶é—´æ»¡è¶³ï¼Œå°äºæœ€å°çš„è¿­ä»£å™¨æ—¶é—´æˆ³åˆ—è¡¨æ—¶é—´ã€‚åˆ™å½“å‰å…ƒç´ å¯ä»¥åˆ é™¤ã€‚æ„å‘³ç€æ²¡æœ‰è¿­ä»£å™¨ä½¿ç”¨äº†è¿™ä¸ªå…ƒç´ ã€‚æ•´ä¸ªæ ¸å¿ƒçš„å…³é”®åœ¨äº å…ƒç´ åˆ é™¤çš„æ—¶é—´èŠ‚ç‚¹æ˜¯å¦æœ‰è¿­ä»£å™¨å¼•ç”¨æ­¤å…ƒç´ ã€‚<br><br>2.å¼±å¼•ç”¨<br><br>å®é™…ä¸Šæ˜¯åœ¨ä¸Šä¸€æ­¥çš„åŸºç¡€ä¸Šè‡ªåŠ¨åŒ–çš„è§£å†³äº†è¿­ä»£å™¨ä½¿ç”¨å®Œæ¯•ä¹‹åçš„ä¸»åŠ¨åˆ é™¤æ“ä½œã€‚å¯ä»¥å°†è¿­ä»£å™¨å­˜å‚¨åœ¨å¼±å¼•ç”¨å¯¹è±¡ä¸­ï¼Œç„¶åå»ºç«‹ä¸€ä¸ªé›†åˆå­˜å‚¨è¿™äº›å¼±å¼•ç”¨çš„è¿­ä»£å™¨å¯¹è±¡ã€‚é‚£ä¹ˆå½“è¿­ä»£å™¨ä¸å†ä½¿ç”¨çš„æ—¶å€™ï¼Œå¼±å¼•ç”¨å¯¹è±¡ä¼šè‡ªåŠ¨è¢«GCå›æ”¶ã€‚å®¹å™¨æ‰§è¡Œå…ƒç´ çš„åˆ é™¤åŠ¨ä½œ(size() æ‰©å®¹ç­‰ç­‰ä¼šå’Œå…ƒç´ æ•°æ®æœ‰äº¤äº’çš„æ“ä½œçš„æ—¶å€™)æ—¶ï¼Œåªéœ€è¦éå†å¼±å¼•ç”¨è¿­ä»£å™¨é›†åˆï¼Œçœ‹å½“å‰è¿­ä»£å™¨å¯¹è±¡è¿˜å­˜åœ¨çš„è¿­ä»£å™¨çš„åˆ›å»ºæ—¶é—´ æ˜¯å¦å¤§äº åˆ é™¤å…ƒç´ çš„åˆ é™¤æ—¶é—´ å¦‚æœå¤§äº å°±å¯ä»¥åˆ é™¤æ­¤å…ƒç´ ã€‚å› ä¸ºè¿™ä»£è¡¨ç€è¿™ä¸ªå…ƒç´ è¢«åˆ é™¤çš„ä¹‹åæ‰åˆ›å»ºçš„è¿­ä»£å™¨ã€‚","like_count":0},{"had_liked":false,"id":349420,"user_name":"ZQY","can_delete":false,"product_type":"c1","uid":1213349,"ip_address":"","ucode":"48C681D8E05118","user_header":"https://static001.geekbang.org/account/avatar/00/12/83/a5/9312bc8c.jpg","comment_is_top":false,"comment_ctime":1655962899,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1655962899","product_id":100039001,"comment_content":"å¼‚æ›²åŒå·¥ï¼šLeetcode1146-Snapshot Array","like_count":0},{"had_liked":false,"id":345102,"user_name":"ğŸš¦æ³¨æ„æœ‰è½¦              à¼½","can_delete":false,"product_type":"c1","uid":2113645,"ip_address":"","ucode":"F638673227ECB1","user_header":"https://static001.geekbang.org/account/avatar/00/20/40/6d/61caf56b.jpg","comment_is_top":false,"comment_ctime":1652023706,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1652023706","product_id":100039001,"comment_content":"æ–¹æ¡ˆäºŒå…¶å®ä¿å­˜ä¸¤ä»½æ•°æ®ï¼Œä¸€ä»½å®é™…ç‰©ç†åˆ é™¤ï¼Œä¸€ä»½é€»è¾‘åˆ é™¤ï¼Œå¦‚æœæ•°æ®å¢åŠ äº†ï¼Œè«åçš„è¿˜æ˜¯ä¼šå¢åŠ å†…å­˜æ¶ˆè€—","like_count":0},{"had_liked":false,"id":337473,"user_name":"Marco","can_delete":false,"product_type":"c1","uid":1397516,"ip_address":"","ucode":"796A4B9D1DE55D","user_header":"https://static001.geekbang.org/account/avatar/00/15/53/0c/b4907516.jpg","comment_is_top":false,"comment_ctime":1646838561,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646838561","product_id":100039001,"comment_content":"åˆ›å»ºè¿­ä»£å™¨çš„æ—¶å€™å¯ä»¥åšä¸€æ¬¡æ¸…ç†å·¥ä½œï¼ŒdelTimestamp &lt; snapshotTimestamp çš„å…ƒç´ å…¶å®å¯ä»¥æ¸…ç†æ‰","like_count":0},{"had_liked":false,"id":323789,"user_name":"MrVito","can_delete":false,"product_type":"c1","uid":1252169,"ip_address":"","ucode":"716FF6F8871706","user_header":"https://static001.geekbang.org/account/avatar/00/13/1b/49/ddefc656.jpg","comment_is_top":false,"comment_ctime":1638163096,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638163096","product_id":100039001,"comment_content":"åŠ å…¥ä¸€ä¸ªgcçš„æ¦‚å¿µï¼Œ è¢«å¼•ç”¨çš„å…ƒç´ +1ï¼Œè¢«åˆ é™¤å…ƒç´ -1ï¼Œæœ€åéå†å¼•ç”¨ä¸º0çš„å…ƒç´ ï¼Œåˆ é™¤ã€‚","like_count":0},{"had_liked":false,"id":322552,"user_name":"é™†ä¸€é¸£çŒœä¸åŠ¨","can_delete":false,"product_type":"c1","uid":2831163,"ip_address":"","ucode":"68E89A037F9A0C","user_header":"https://static001.geekbang.org/account/avatar/00/2b/33/3b/0b25b622.jpg","comment_is_top":false,"comment_ctime":1637480395,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637480395","product_id":100039001,"comment_content":"ä¸æ˜¯å¾ˆæ˜ç™½è¿™ä¸€ç« åšå¿«ç…§çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ä¸ºäº†è§£å†³ä¸€ä¸ªiteratorè¿›è¡Œäº†åˆ é™¤æ“ä½œï¼Œè€Œå¯¼è‡´å¦å¤–ä¸€ä¸ªiteratoræŠ¥é”™ä¹ˆï¼Ÿæ„Ÿè§‰ä¸å®šä¹‰æ¸…æ¥šè¿™ä¸ªï¼Œè®¨è®ºéƒ¨åˆ†çš„é—®é¢˜çš„ç­”æ¡ˆå°±æ¯”è¾ƒæ¨¡ç³Š","like_count":0},{"had_liked":false,"id":317753,"user_name":"Kevinâš¡ï¸Zhou","can_delete":false,"product_type":"c1","uid":1440772,"ip_address":"","ucode":"C0FC2673705212","user_header":"https://static001.geekbang.org/account/avatar/00/15/fc/04/d83a555e.jpg","comment_is_top":false,"comment_ctime":1634926004,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634926004","product_id":100039001,"comment_content":"public void add(E obj)é‡Œé¢, éš¾é“ä¸åº”è¯¥æ˜¯<br>addTimestamps[actualSize] = System.currentTimeMillis(); <br>delTimestamps[actualSize] = Long.MAX_VALUE; <br>å—?","like_count":0},{"had_liked":false,"id":317470,"user_name":"freesocean","can_delete":false,"product_type":"c1","uid":1529210,"ip_address":"","ucode":"CAD4C80CF569D3","user_header":"https://static001.geekbang.org/account/avatar/00/17/55/7a/d44df1d6.jpg","comment_is_top":false,"comment_ctime":1634805820,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634805820","product_id":100039001,"comment_content":"å¯¹æ–‡ä¸­ä»£ç ä¼˜åŒ–åï¼Œå¹¶å¢åŠ äº†æ‰©å®¹æœºåˆ¶ï¼š<br>æœ¬èŠ‚ä»£ç ç›®å½•ï¼šjava_parent&#47;zx_jvm&#47;src&#47;main&#47;java&#47;com&#47;zx&#47;design&#47;iterator&#47;demo04_scale<br>gitä»“åº“åœ°å€ï¼šhttps:&#47;&#47;bitbucket.org&#47;xiaomao016&#47;java_parent&#47;src&#47;master&#47;<br>","like_count":0},{"had_liked":false,"id":311954,"user_name":"èŒ¶æ²¡å–å®Œ","can_delete":false,"product_type":"c1","uid":1644104,"ip_address":"","ucode":"D72D88C42A1258","user_header":"https://static001.geekbang.org/account/avatar/00/19/16/48/09493874.jpg","comment_is_top":false,"comment_ctime":1631549844,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631549844","product_id":100039001,"comment_content":"é€»è¾‘åˆ é™¤çš„å…ƒç´ æ²¡æœ‰è¢«ä»»ä½•è¿­ä»£å™¨ä½¿ç”¨æ—¶ï¼Œå¦‚ä½•åˆ é™¤ï¼Ÿ<br>å®¹å™¨å†…éƒ¨ç»´æŠ¤ä¸€ä¸ªList&lt;WeakReference&gt; iteratorsä¿å­˜æ´»è·ƒçš„è¿­ä»£å™¨ï¼Œå¦‚æœiteratorsä¿å­˜çš„æ˜¯è™šå¼•ç”¨ï¼Œå½“è¿­ä»£å™¨æ²¡æœ‰å¼ºå¼•ç”¨æ—¶ï¼Œä¼šè¢«å›æ”¶ï¼Œiteratorsçš„å€¼ä¼šä¸ºnullã€‚<br>æ‰€ä»¥å¯ä»¥éå†iteratorsï¼Œæ‰¾åˆ°ä¸€ä¸ªæœ€å°snapshotTimestamp(å¦‚æœiteratorså…ƒç´ éƒ½ä¸ºnull,æˆ–è€…ä¸ºç©º)ï¼Œå°±å»å½“å‰æ—¶é—´ã€‚å…ƒç´ çš„deleTimestamp&lt;snapshotTimestampéƒ½å¯ä»¥åˆ é™¤ã€‚","like_count":0},{"had_liked":false,"id":307657,"user_name":"é¢ã€‚","can_delete":false,"product_type":"c1","uid":1371888,"ip_address":"","ucode":"99B1942BAEC011","user_header":"https://static001.geekbang.org/account/avatar/00/14/ee/f0/f2577e45.jpg","comment_is_top":false,"comment_ctime":1629192047,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629192047","product_id":100039001,"comment_content":"çœ‹è¿™ä¸ªä»£ç ï¼Œæ€ä¹ˆä¿è¯getæ–¹æ³•èƒ½æ‹¿åˆ°æœªè¢«åˆ é™¤çš„è®°å½•ï¼Ÿçœ‹èµ·æ¥æ˜¯ä¸è¡Œï¼Œæ„Ÿè§‰è¿˜æ˜¯cowçš„æ€è·¯æ›´å¥½","like_count":0},{"had_liked":false,"id":300200,"user_name":"é’å¹´ç¥­å¸","can_delete":false,"product_type":"c1","uid":1259156,"ip_address":"","ucode":"C88EDAE3FF09AE","user_header":"https://static001.geekbang.org/account/avatar/00/13/36/94/0b969588.jpg","comment_is_top":false,"comment_ctime":1625044706,"is_pvip":false,"discussion_count":0,"race_medal":5,"score":"1625044706","product_id":100039001,"comment_content":"æˆ‘ä»¬å¯ä»¥åœ¨ ArrayList ä¸­å­˜å‚¨ä¸¤ä¸ªæ•°ç»„ã€‚ä¸€ä¸ªæ”¯æŒæ ‡è®°åˆ é™¤çš„ï¼Œç”¨æ¥å®ç°å¿«ç…§éå†åŠŸèƒ½ï¼›ä¸€ä¸ªä¸æ”¯æŒæ ‡è®°åˆ é™¤çš„ï¼ˆä¹Ÿå°±æ˜¯å°†è¦åˆ é™¤çš„æ•°æ®ç›´æ¥ä»æ•°ç»„ä¸­ç§»é™¤ï¼‰ï¼Œç”¨æ¥æ”¯æŒéšæœºè®¿é—®ã€‚<br>è¿™æ ·çš„è¯ï¼Œæ˜¯ä¸æ˜¯åªæœ‰æœ€æ–°çš„è¿­ä»£å™¨æ‰æ”¯æŒéšæœºè®¿é—®ï¼Œè€Œä¸­é—´å¿«ç…§çš„è¿­ä»£å™¨è¿˜æ˜¯ä¸è¡Œ","like_count":0},{"had_liked":false,"id":289097,"user_name":"å¸ƒå‡¡","can_delete":false,"product_type":"c1","uid":1202465,"ip_address":"","ucode":"346FCD332F8BFA","user_header":"https://static001.geekbang.org/account/avatar/00/12/59/21/d2efde18.jpg","comment_is_top":false,"comment_ctime":1618874771,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618874771","product_id":100039001,"comment_content":"ä¸»åŠ¨æ€è€ƒ","like_count":0},{"had_liked":false,"id":287070,"user_name":"Yeyw","can_delete":false,"product_type":"c1","uid":1463740,"ip_address":"","ucode":"C9D20DB91C3BE5","user_header":"https://static001.geekbang.org/account/avatar/00/16/55/bc/fad0090b.jpg","comment_is_top":false,"comment_ctime":1617765253,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617765253","product_id":100039001,"comment_content":"åˆ›å»ºè¿­ä»£å™¨æ—¶æ³¨å†Œè¿­ä»£å™¨çš„åˆ›å»ºæ—¶é—´ï¼Œå½“è¿­ä»£å™¨é”€æ¯æ—¶åˆ¤æ–­æ˜¯å¦æœ‰æ¯”è‡ªå·±æ—¶é—´å°çš„è¿­ä»£å™¨ï¼Œå½“è¿­ä»£å™¨é”€æ¯æ—¶ï¼Œæ¸…æ¥šç›¸åº”çš„æ³¨å†Œä»¥åŠå®¹å™¨ä¸­åˆ é™¤æ—¶é—´å°äºåˆ›å»ºæ—¶é—´çš„æ•°æ®","like_count":0},{"had_liked":false,"id":275646,"user_name":"å­æˆ¿","can_delete":false,"product_type":"c1","uid":1438860,"ip_address":"","ucode":"CB05938C248BB3","user_header":"https://static001.geekbang.org/account/avatar/00/15/f4/8c/0866b228.jpg","comment_is_top":false,"comment_ctime":1611631138,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611631138","product_id":100039001,"comment_content":"å­¦ä¹ äº†","like_count":0},{"had_liked":false,"id":272357,"user_name":"David","can_delete":false,"product_type":"c1","uid":1021825,"ip_address":"","ucode":"22CBBC13FC97A9","user_header":"https://static001.geekbang.org/account/avatar/00/0f/97/81/e1eaf621.jpg","comment_is_top":false,"comment_ctime":1610069074,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1610069074","product_id":100039001,"comment_content":"è¿­ä»£çš„æ—¶å€™ä½¿ç”¨å…¨é‡æ•°ç»„<br>éšæœºè®¿é—®çš„æ—¶å€™ä½¿ç”¨æ­£å¸¸æ•°ç»„<br>åœ¨æ·»åŠ å’Œåˆ é™¤çš„æ—¶å€™åŒæ—¶æ“ä½œä¸¤ä¸ªæ•°ç»„","like_count":0},{"had_liked":false,"id":268616,"user_name":"Janetï¼æ—","can_delete":false,"product_type":"c1","uid":1093701,"ip_address":"","ucode":"29B4CCE6D6890B","user_header":"https://static001.geekbang.org/account/avatar/00/10/b0/45/8a223c24.jpg","comment_is_top":false,"comment_ctime":1608274215,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608274215","product_id":100039001,"comment_content":"è¯¾åæ€è€ƒé¢˜ï¼Œæƒ³äº†ä¸€ä¸‹å®¹å™¨ç»´æŠ¤è¿­ä»£å™¨åˆ›å»ºæ—¶é—´ï¼Œè¿­ä»£å™¨åœ¨è¿­ä»£æ—¶åˆ¤æ–­æ—¶é—´æ˜¯å¦ç›´æ¥åˆ é™¤çš„åšæ³•ï¼Œå†å¯¹æ¯”æ‰©å®¹å†è§¦å‘å›æ”¶çš„åšæ³•ï¼Œæ„Ÿè§‰æ‰©å®¹è§¦å‘ä¼šæ›´å¥½","like_count":0},{"had_liked":false,"id":260360,"user_name":"æ¨±å°è·¯ä¾ç„¶","can_delete":false,"product_type":"c1","uid":1269957,"ip_address":"","ucode":"DBA9FF68015FE5","user_header":"https://static001.geekbang.org/account/avatar/00/13/60/c5/69286d58.jpg","comment_is_top":false,"comment_ctime":1604991746,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604991746","product_id":100039001,"comment_content":"å‚è€ƒpythonåƒåœ¾å›æ”¶å¼•ç”¨è®¡æ•°æ³•,<br>æ¯ä¸ªå…ƒç´ å¢åŠ ä¸€ä¸ªå±æ€§, å¼•ç”¨æ¬¡æ•°<br>æ¯åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨,æ ¹æ®æ—¶é—´åŒºé—´,ç»™å¯¹åº”çš„å…ƒç´ å¢åŠ ä¸€ä¸ªå¼•ç”¨è®¡æ•°.<br>æ¯å½“ä¸€ä¸ªè¿­ä»£å™¨è¿­ä»£åˆ°è¿™ä¸ªå…ƒç´ ä¹‹å,å‡å°‘ä¸€ä¸ªå¼•ç”¨è®¡æ•°.<br>åˆ›å»ºè¿­ä»£å™¨æ—¶,æ¸…ç†æ‰å¼•ç”¨è®¡æ•°ä¸º0,ä¸”æœ‰é€»è¾‘åˆ é™¤æ—¶é—´èŠ‚ç‚¹çš„å…ƒç´ ","like_count":0},{"had_liked":false,"id":256400,"user_name":"flyCoder","can_delete":false,"product_type":"c1","uid":1074897,"ip_address":"","ucode":"82FB7B60775978","user_header":"https://static001.geekbang.org/account/avatar/00/10/66/d1/8664c464.jpg","comment_is_top":false,"comment_ctime":1603617609,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1603617609","product_id":100039001,"comment_content":"è¿™ä¸ªå¿«ç…§çš„å®ç°æ–¹å¼åˆç»™æˆ‘æä¾›äº†ä¸€äº›æ–°çš„æ€è·¯","like_count":0},{"had_liked":false,"id":251719,"user_name":"å°ä¹™å“¥","can_delete":false,"product_type":"c1","uid":1063308,"ip_address":"","ucode":"C77E79BEA0C325","user_header":"https://static001.geekbang.org/account/avatar/00/10/39/8c/089525aa.jpg","comment_is_top":false,"comment_ctime":1601807303,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601807303","product_id":100039001,"comment_content":"åˆ é™¤çš„å…ƒç´ å¼•å…¥è¿‡æœŸæ—¶é—´çš„æ¦‚å¿µï¼Œå½“è¶…è¿‡è¿‡æœŸæ—¶é—´ä¹‹åå°±ä»£è¡¨å¯ä»¥ç‰©ç†åˆ é™¤äº†","like_count":0},{"had_liked":false,"id":247669,"user_name":"ä»»å›½å®","can_delete":false,"product_type":"c1","uid":1960963,"ip_address":"","ucode":"FE47D8DB5FA4C7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoXoqDLvF3l8OzIwDBVlbgZ2FtbPFoncicFjQPqMFkKqdG5BnRVIxxrN40zUhTkynsd6yLhqqYiblAQ/132","comment_is_top":false,"comment_ctime":1599789646,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599789646","product_id":100039001,"comment_content":"æ€è€ƒé¢˜ï¼Œå‚è€ƒæ•°æ®åº“mvcc,æ˜¯ä¸æ˜¯å¯ä»¥åœ¨é›†åˆå†…éƒ¨ä¿å­˜æ‰€æœ‰è¿­ä»£å™¨å¯¹è±¡ï¼Œåªä¸è¿‡ç”¨å¼±å¼•ç”¨ï¼Œç­‰æ£€æµ‹åˆ°æ‰€æœ‰å¼±å¼•ç”¨å¯¹è±¡éƒ½è¢«å›æ”¶äº†ï¼Œå°±é”å®šä¸è®©åˆ›å»ºæ–°çš„è¿­ä»£å™¨ï¼Œç„¶åè¿›è¡Œå¿«ç…§çš„æ¸…é™¤","like_count":0},{"had_liked":false,"id":240896,"user_name":"Mew151","can_delete":false,"product_type":"c1","uid":1002201,"ip_address":"","ucode":"D4793F5874F345","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/d9/75dd7cf9.jpg","comment_is_top":false,"comment_ctime":1597112452,"is_pvip":false,"replies":[{"id":"89269","content":"è¦çœ‹è¿™ä¸ªå‡½æ•°çš„å®šä¹‰äº†ï¼Œæ–‡ç« ä¸­å¯¹ä½ çš„ç–‘é—®ï¼ˆæŒ‰ç…§ä¸‹æ ‡éšæœºè®¿é—®ï¼‰ä¹Ÿæœ‰ç‚¹è§£é‡Šï¼Œä½ å¯ä»¥å†çœ‹ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1597454177,"ip_address":"","comment_id":240896,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1597112452","product_id":100039001,"comment_content":"æ–¹æ¡ˆäºŒä¸­ï¼š<br>  public E get(int i) {<br>    if (i &gt;= totalSize) {<br>      throw new IndexOutOfBoundsException();<br>    }<br>    return (E)elements[i];<br>  }<br>è¿™ä¸ªæ–¹æ³•ä¸éœ€è¦åˆ¤æ–­ç¬¬iä¸ªå…ƒç´ æ˜¯ä¸æ˜¯å·²åˆ é™¤çš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503587,"discussion_content":"è¦çœ‹è¿™ä¸ªå‡½æ•°çš„å®šä¹‰äº†ï¼Œæ–‡ç« ä¸­å¯¹ä½ çš„ç–‘é—®ï¼ˆæŒ‰ç…§ä¸‹æ ‡éšæœºè®¿é—®ï¼‰ä¹Ÿæœ‰ç‚¹è§£é‡Šï¼Œä½ å¯ä»¥å†çœ‹ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597454177,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239953,"user_name":"Magic","can_delete":false,"product_type":"c1","uid":1272047,"ip_address":"","ucode":"FD9CEDAA419EB0","user_header":"https://static001.geekbang.org/account/avatar/00/13/68/ef/6264ca3d.jpg","comment_is_top":false,"comment_ctime":1596700427,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596700427","product_id":100039001,"comment_content":"ç±»å®¹å™¨ç”¨ä¸€ä¸ªé™æ€å˜é‡ï¼Œè®°å½•å½“å‰æœ€æ—©çš„åˆ›å»ºè¿­ä»£å™¨çš„åˆ›å»ºæ—¶é—´æˆ³ï¼Œå½“è¿­ä»£å™¨ææ„æ—¶ï¼Œç»Ÿä¸€åˆ¤æ–­ä¸‹æ˜¯å¦å¯ä»¥æ›´æ–°è¯¥æ—¶é—´æˆ³ï¼Œå¦‚æœå¯ä»¥ï¼Œæ„å‘³ç€è¢«æ›´æ–°çš„è€æ—¶é—´æˆ³å’Œæ›´æ–°åçš„æ–°æ—¶é—´æˆ³ä¹‹é—´æ ‡è®°åˆ é™¤çš„å…ƒç´ å¯ä»¥å®‰å…¨åˆ é™¤äº†","like_count":0},{"had_liked":false,"id":238432,"user_name":"Smile @ Life","can_delete":false,"product_type":"c1","uid":1293907,"ip_address":"","ucode":"320EDAD5A8BE56","user_header":"https://static001.geekbang.org/account/avatar/00/13/be/53/eda4b622.jpg","comment_is_top":false,"comment_ctime":1596165426,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596165426","product_id":100039001,"comment_content":"è¯¾å ‚è®¨è®ºé—®é¢˜å°±æ˜¯ä¸€ä¸ªåƒåœ¾å›æ”¶æœºåˆ¶çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ•°ç»„çš„ä½¿ç”¨é‡è®¾ç½®ä¸€ä¸ªé˜ˆå€¼ï¼Œç„¶ååœ¨æ·»åŠ å…ƒç´ çš„æ—¶å€™ï¼Œå½“ç”¨é‡è¶…è¿‡è¿™ä¸ªé˜ˆå€¼ï¼Œæ‰§è¡Œä¸€æ¬¡åƒåœ¾å›æ”¶ï¼Œå› ä¸ºæ‰§è¡Œåƒåœ¾å›æ”¶çš„æ—¶å€™è¦ç§»åŠ¨æ•°ç»„ï¼Œæ­¤æ—¶å¯èƒ½è¿˜æœ‰å¾ˆå¤šSnapshotArrayIteratoråœ¨éå†ï¼Œæ­¤æ—¶éœ€è¦ç±»ä¼¼stop-the-worldçš„æœºåˆ¶ï¼ŒåŠ å…¥ä¸€ä¸ªè¯»å†™é”ï¼Œè®©æ‰€æœ‰SnapshotArrayIteratoræš‚åœéå†ï¼Œç„¶åæ¸…é™¤è¢«æ ‡è®°åˆ é™¤çš„å…ƒç´ ï¼ŒåŒæ—¶æ›´æ–°æ¯ä¸ªSnapshotArrayIteratorçš„éå†ä½ç½®ã€‚","like_count":0},{"had_liked":false,"id":232921,"user_name":"ğŸ‘½","can_delete":false,"product_type":"c1","uid":1274117,"ip_address":"","ucode":"D313AF941B412D","user_header":"https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg","comment_is_top":false,"comment_ctime":1594169872,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594169872","product_id":100039001,"comment_content":"åˆæ­¥è§£å†³çš„æ–¹å¼æ˜¯ï¼š<br>ç‰©ç†ä¸ŠåŠ¨æ€æ‹·è´ä¸€ä»½ï¼Œæ¥å­˜å¿«ç…§ï¼›ä½†æ˜¯å ç”¨é¢å¤–å†…å­˜ã€‚<br>ä¼˜åŒ–åçš„æ–¹æ³•ä¸ºï¼š<br>åˆ é™¤æ—¶ä½¿ç”¨å‡åˆ é™¤ï¼Œé€»è¾‘ä¸Šåˆ é™¤ï¼Œå®é™…ä¸Šåªæ˜¯åˆ©ç”¨æ ‡è®°æ¥æ ‡è¯†å…ƒç´ è¢«åˆ é™¤ã€‚ç„¶åï¼Œå› ä¸ºå‡åˆ é™¤çš„åŸå› ï¼Œæ— æ³•é€šè¿‡ä¸‹æ ‡ç›´æ¥è®¿é—®ï¼Œä»è€Œåšäº†ä¸¤ä¸ªæ•°ç»„ï¼Œè¿›è¡Œæ˜ å°„æŒ‡å®šä¸‹æ ‡çš„æ•°ç»„ã€‚","like_count":0},{"had_liked":false,"id":225347,"user_name":"è“é­”ä¸¶","can_delete":false,"product_type":"c1","uid":1219438,"ip_address":"","ucode":"2AE4359E263558","user_header":"https://static001.geekbang.org/account/avatar/00/12/9b/6e/edd2da0c.jpg","comment_is_top":false,"comment_ctime":1591720632,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591720632","product_id":100039001,"comment_content":"è¯¾åé—®é¢˜æ€è€ƒï¼š<br>1.å¦‚æœå­˜åœ¨å¹¶å‘çš„è¯ï¼Œæ˜¯å¦åªèƒ½é€šè¿‡åŠ é”æ£€æµ‹å·²ç»ä¸ä¼šè¢«è®¿é—®åˆ°çš„åˆ é™¤çš„å…ƒç´ ï¼Œç„¶åè¿›è¡Œåˆ é™¤æ“ä½œ<br>2.å¦‚æœæ²¡æœ‰å¹¶å‘é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ä¸‹ä¸€æ¬¡è¿­ä»£åˆ›å»ºçš„æ—¶å€™æ¸…é™¤æ¯”åˆ›å»ºæ—¶é—´å°çš„å…ƒç´ ","like_count":0},{"had_liked":false,"id":221827,"user_name":"é©¬å›¾æ–¯","can_delete":false,"product_type":"c1","uid":1325779,"ip_address":"","ucode":"A78C2C7D7742C1","user_header":"https://static001.geekbang.org/account/avatar/00/14/3a/d3/f30fb4a9.jpg","comment_is_top":false,"comment_ctime":1590597365,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1590597365","product_id":100039001,"comment_content":"æ²¡æœ‰çœ‹åˆ°å“ªé‡Œæœ‰æµ…æ‹·è´å•Šï¼Œä¸æ˜¯newäº†ä¸€ä¸ªArrayListä¹ˆï¼Ÿå“ªä½èƒ½å¸®å¿™ç†è§£ä¸€ä¸‹ï¼Ÿ","like_count":0},{"had_liked":false,"id":217903,"user_name":"è€æ¨åŒå¿—","can_delete":false,"product_type":"c1","uid":1246199,"ip_address":"","ucode":"3F334F0CFD3DE6","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/f7/3a493bec.jpg","comment_is_top":false,"comment_ctime":1589642347,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589642347","product_id":100039001,"comment_content":"å›ç­”ä¸€ä¸‹æ€è€ƒé¢˜ï¼Œæœ‰åŒå­¦æåˆ°äº†mysqlçš„mvccæˆ‘ä¹Ÿæ˜¯è¿™ä¸ªæ€è·¯ï¼Œå¤§æ¦‚çš„å®ç°æ–¹å¼æ˜¯ï¼Œåˆ›å»ºè¿­ä»£å™¨æ—¶è®²è¿­ä»£å™¨åŠ å…¥å¼±å¼•ç”¨é›†åˆï¼Œå¹¶è®°å½•è¿­ä»£å™¨åˆ›å»ºæ—¶é—´ï¼Œè¿­ä»£å¼€å§‹æ—¶å¯ä»¥åˆ¤æ–­æœªè¢«å›æ”¶çš„è¿­ä»£å™¨å¦‚æœéƒ½æ˜¯åœ¨å…ƒç´ åˆ é™¤ååˆ›å»ºçš„ï¼Œé‚£ä¹ˆå…ƒç´ å°±å¯ä»¥çœŸåˆ é™¤äº†","like_count":0},{"had_liked":false,"id":213224,"user_name":"Yuuuuu","can_delete":false,"product_type":"c1","uid":1233780,"ip_address":"","ucode":"64FD04761D2111","user_header":"https://static001.geekbang.org/account/avatar/00/12/d3/74/578b169d.jpg","comment_is_top":false,"comment_ctime":1588335656,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588335656","product_id":100039001,"comment_content":"å°†iteratorçš„å¼±å¼•ç”¨å­˜å‚¨åœ¨listä¸­ã€‚æ¯æ¬¡è°ƒç”¨addã€getã€removeæ–¹æ³•æ—¶ï¼Œæ£€æŸ¥å¼±å¼•ç”¨å¯¹è±¡æ˜¯å¦è¢«å›æ”¶ï¼Œå¦‚æœéƒ½è¢«å›æ”¶åˆ™æ‰§è¡Œæ¸…ç†å·¥ä½œã€‚","like_count":0},{"had_liked":false,"id":209222,"user_name":"Viola","can_delete":false,"product_type":"c1","uid":1528096,"ip_address":"","ucode":"CF8FF5323AE43A","user_header":"","comment_is_top":false,"comment_ctime":1587521189,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587521189","product_id":100039001,"comment_content":"ç¬¬äºŒç§çš„ä¸¤ä¸ªæ—¶é—´æˆ³ï¼Œè·Ÿéš”å£æ—è€å¸ˆè®²MYSQLäº‹åŠ¡çš„æ•°æ®å¯è§æ€§ï¼Œä¸¾é«˜ä½æ°´ä½çš„ä¾‹å­æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™å“‡","like_count":0},{"had_liked":false,"id":208868,"user_name":"å˜‰ä¸€","can_delete":false,"product_type":"c1","uid":1196864,"ip_address":"","ucode":"8D16BD0B75B019","user_header":"https://static001.geekbang.org/account/avatar/00/12/43/40/e7ef18de.jpg","comment_is_top":false,"comment_ctime":1587454213,"is_pvip":false,"replies":[{"id":"78928","content":"å¯ä»¥ä½¿ç”¨çº³ç§’æ—¶é—´æˆ–è€…ç‰ˆæœ¬å·","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1588130249,"ip_address":"","comment_id":208868,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587454213","product_id":100039001,"comment_content":"å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåœ¨SnapshotArrayIteratoråˆ›å»ºå‰æ·»åŠ äº†å‡ ä¸ªæ•°æ®ï¼Œé‚£ä¹ˆä¼šä¸ä¼šå‡ºç°è¿™å‡ ä¸ªæ•°æ®çš„æ·»åŠ æ—¶é—´æˆ³å’ŒSnapshotArrayIteratoråˆ›å»ºçš„æ—¶é—´æˆ³æ˜¯ä¸€æ ·ï¼ˆå› ä¸ºè®¡ç®—æœºçš„æ—¶é—´æˆ³æœ€å°æ˜¯æ¯«ç§’ï¼Œè€Œæ·»åŠ æ•°æ®æ¯•ç«Ÿæ˜¯éå¸¸å¿«çš„æ“ä½œï¼Œå¯èƒ½åœ¨ä¸åˆ°ä¸€æ¯«ç§’çš„æ—¶é—´å°±å®Œæˆäº†ï¼‰çš„å¯¼è‡´è¿™å‡ ä¸ªæ•°æ®éå†ä¸äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492655,"discussion_content":"å¯ä»¥ä½¿ç”¨çº³ç§’æ—¶é—´æˆ–è€…ç‰ˆæœ¬å·","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588130249,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206593,"user_name":"javaadu","can_delete":false,"product_type":"c1","uid":1000519,"ip_address":"","ucode":"8C0B140F1C8992","user_header":"https://static001.geekbang.org/account/avatar/00/0f/44/47/3ddb94d0.jpg","comment_is_top":false,"comment_ctime":1586906130,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1586906130","product_id":100039001,"comment_content":"è¯¾å ‚è®¨è®ºï¼š æ¯éš”ä¸€æ®µæ—¶é—´å°±æ¸…ç†ä¸‹ï¼Œæ¸…ç†çš„æ—¶æœºï¼šæ²¡æœ‰è¿­ä»£å™¨åœ¨è¿­ä»£è¯¥æ•°ç»„çš„æ—¶å€™","like_count":0},{"had_liked":false,"id":206276,"user_name":"88591","can_delete":false,"product_type":"c1","uid":1254656,"ip_address":"","ucode":"04CE3E46455185","user_header":"https://static001.geekbang.org/account/avatar/00/13/25/00/3afbab43.jpg","comment_is_top":false,"comment_ctime":1586833263,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586833263","product_id":100039001,"comment_content":"åªæœ‰ä½¿ç”¨è¿‡è¿­ä»£å™¨æ‰è¿›è¡Œé€»è¾‘åˆ é™¤ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨è¿‡è¿­ä»£å™¨å°±è¿›è¡Œç‰©ç†åˆ é™¤","like_count":0},{"had_liked":false,"id":205231,"user_name":"ç§‹é£ç”»æ‰‡","can_delete":false,"product_type":"c1","uid":1132356,"ip_address":"","ucode":"5BCBC1422C51EC","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/44/964aa665.jpg","comment_is_top":false,"comment_ctime":1586574765,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586574765","product_id":100039001,"comment_content":"å®¹å™¨ç»´æŠ¤ä¸€ä¸ªæœ€æ—©è¿­ä»£å™¨åˆ›å»ºæ—¶é—´lastIteratorï¼Œå¯ä»¥ç”¨ä¸€ä¸ªçº¿ç¨‹å®šæœŸæ¸…ç†delTime &lt; lastIteratorçš„å…ƒç´ ã€‚<br><br>ä¸ºäº†æå‡æ€§èƒ½ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨å®šæœŸæ‰«æã€‚åœ¨å¯¹é›†åˆè¿›è¡Œéå†çš„æ—¶å€™é¡ºå¸¦åˆ é™¤","like_count":0},{"had_liked":false,"id":204518,"user_name":"Geek_41d472","can_delete":false,"product_type":"c1","uid":1247965,"ip_address":"","ucode":"DEC2B6329460CF","user_header":"https://static001.geekbang.org/account/avatar/00/13/0a/dd/88fa7b52.jpg","comment_is_top":false,"comment_ctime":1586415848,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586415848","product_id":100039001,"comment_content":"æ„Ÿè§‰è¿­ä»£å™¨æ¨¡å¼åœ¨å·¥ä½œä¸­æ²¡ä»€ä¹ˆåº”ç”¨åœºæ™¯å•Š","like_count":0},{"had_liked":false,"id":204159,"user_name":"å²æœˆ","can_delete":false,"product_type":"c1","uid":1337598,"ip_address":"","ucode":"29A2A2BC3C4FE4","user_header":"https://static001.geekbang.org/account/avatar/00/14/68/fe/1353168d.jpg","comment_is_top":false,"comment_ctime":1586343465,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586343465","product_id":100039001,"comment_content":"æœ‰å¥½å¤šç®—æ³•é¢˜æƒ³äº†å¾ˆä¹…éƒ½æ²¡æƒ³å‡ºæ¥, å¾ˆæ‰“å‡»ä¿¡å¿ƒçš„å‘€........è€Œä¸”ä¸€èˆ¬èƒ½æƒ³å‡ºæ¥çš„è§£æ³•, ä»£ç éƒ½åŸºæœ¬èƒ½å†™å‡ºæ¥, è€Œå†™å…·ä½“çš„ä»£ç è¦æ¶ˆè€—å¾ˆå¤šæ—¶é—´, è¿˜æ˜¯æŒºéš¾æŠ‰æ‹©çš„, æˆ‘ä¹‹å‰å­¦çš„æ•°æ®ç»“æ„å’Œç®—æ³•, å°±åŸºæœ¬æŠŠå…¨éƒ¨æ¶‰åŠåˆ°çš„ä»£ç éƒ½è‡ªå·±å®ç°ä¸€é.èŠ±äº†å¥½å‡ ä¸ªæœˆ....ä¸è¿‡åæ¥è¿˜æ˜¯å¿˜è®°äº†..........","like_count":0},{"had_liked":false,"id":204150,"user_name":"å²æœˆ","can_delete":false,"product_type":"c1","uid":1337598,"ip_address":"","ucode":"29A2A2BC3C4FE4","user_header":"https://static001.geekbang.org/account/avatar/00/14/68/fe/1353168d.jpg","comment_is_top":false,"comment_ctime":1586342168,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586342168","product_id":100039001,"comment_content":"æ€è€ƒé¢˜<br>åœ¨å®¹å™¨ç±»é‡Œé¢ä½¿ç”¨ä¸€ä¸ªè®¡æ•°, æ ‡è®°å½“å‰è¿­ä»£å™¨è¢«åˆ›å»ºäº†å¤šå°‘ä¸ª, ç„¶ååœ¨è¿­ä»£å™¨å†…å­˜è¦è¢«é‡Šæ”¾çš„æ—¶å€™, å¯¹å®¹å™¨çš„è®¡æ•°-1, æ¯æ¬¡è¿­ä»£å™¨è¢«åˆ›å»ºçš„æ—¶å€™, è®¡æ•°+1; å½“è®¡æ•°=0çš„æ—¶å€™, å®¹å™¨å°±è´Ÿè´£æŠŠé‚£ä¸ªå¿«ç…§æ•°ç»„æ•´ä¸ªéƒ½åˆ é™¤æ‰","like_count":0},{"had_liked":false,"id":203852,"user_name":"Geek_3b1096","can_delete":false,"product_type":"c1","uid":1549364,"ip_address":"","ucode":"A6BD92B79B3632","user_header":"","comment_is_top":false,"comment_ctime":1586274953,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586274953","product_id":100039001,"comment_content":"æ”¹å˜å­¦ä¹ æ–¹æ³•","like_count":0},{"had_liked":false,"id":203760,"user_name":"æå°å››","can_delete":false,"product_type":"c1","uid":1112747,"ip_address":"","ucode":"2A766BE16B276B","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/ab/0d39e745.jpg","comment_is_top":false,"comment_ctime":1586263774,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586263774","product_id":100039001,"comment_content":"è®¾è®¡æ¨¡å¼_67: è¿­ä»£å™¨æ¨¡å¼(ä¸‹)<br># ä½œä¸šï¼š<br>å½“è¢«åˆ é™¤çš„å…ƒç´ æ•°é‡å æ¯”è¶…è¿‡é˜ˆå€¼æ—¶ï¼Œè¿›è¡Œæ‰«ææ“ä½œï¼Œåˆ é™¤æ²¡æœ‰ä»»ä½•è¿­ä»£å™¨ä½¿ç”¨çš„å…ƒç´ ã€‚<br># æ„Ÿæƒ³ï¼š<br>äº²æ‰‹å†™äº†ä¸€éï¼Œçœ‹åˆ°æ–‡ç« ä¸­ç”¨åˆ°ä¸€äº›è¾…åŠ©çš„å˜é‡ï¼Œæƒ³å»æ‰è¿™äº›äº‹å®ï¼Œç»“æœæ˜¯é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œbugè°ƒäº†åŠå¤©æ‰è§£å¼€ï¼Œå¦å¤–ï¼Œ`remove`åï¼Œæœ€å¥½æ‰‹åŠ¨`Thread.sleep(xxx)`ä¸€æ®µæ—¶é—´ï¼Œå¦åˆ™æ—¶é—´æˆ³ä¼šä¸€è‡´ã€‚ã€‚ã€‚<br>","like_count":0},{"had_liked":false,"id":203600,"user_name":"å›å“¥èŠæŠ€æœ¯","can_delete":false,"product_type":"c1","uid":1325816,"ip_address":"","ucode":"2C9A22BCE4C79E","user_header":"https://static001.geekbang.org/account/avatar/00/14/3a/f8/c1a939e7.jpg","comment_is_top":false,"comment_ctime":1586239818,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586239818","product_id":100039001,"comment_content":"å¯¹äºåˆ—è¡¨æ¯ä¸ªå…ƒç´ ï¼Œç»´æŠ¤ä¸€ä¸ªå¯¹åº”çš„åˆ—è¡¨Aï¼Œç”¨æ¥å­˜å‚¨åœ¨åˆ é™¤ä¹‹å‰åˆ›å»ºçš„è¿­ä»£å™¨ï¼Œæ¯ä¸ªè¿­ä»£å™¨è¿è¡Œå®Œæˆåï¼Œä»åˆ—è¡¨ä¸­åˆ é™¤ï¼Œå½“åˆ—è¡¨ä¸ºç©ºå¹¶ä¸”è¿™ä¸ªå…ƒç´ æœ‰åˆ é™¤æ ‡å¿—æ—¶ï¼Œåˆ é™¤è¿™ä¸ªå…ƒç´ ã€‚","like_count":0},{"had_liked":false,"id":203590,"user_name":"å‰ç«¯è¥¿ç“œå“¥","can_delete":false,"product_type":"c1","uid":1248576,"ip_address":"","ucode":"150130C34CD1C1","user_header":"https://static001.geekbang.org/account/avatar/00/13/0d/40/f70e5653.jpg","comment_is_top":false,"comment_ctime":1586237882,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586237882","product_id":100039001,"comment_content":"å¯ä»¥å‚è€ƒ Java ä¸­å†…ç½®çš„ ArrayList.trimToSize() æ–¹æ³•çš„æ€è·¯ï¼Œè‡ªå®šä¹‰ä¸€ä¸ª removeDelItems æ–¹æ³•ï¼Œåœ¨ç¡®ä¿å½“å‰æ‰€æœ‰è¿­ä»£å™¨éƒ½è¿­ä»£å®Œçš„æƒ…å†µä¸‹ï¼Œæ˜¾å¼è°ƒç”¨è¯¥æ–¹æ³•ï¼Œç§»é™¤æ‰æ‰€æœ‰ delTimestamp ä¸ä¸º Long.MAX_VALUE çš„æ•°ç»„å…ƒç´ ï¼Œä»è€Œå‡å°‘å†…å­˜å ç”¨ã€‚","like_count":0},{"had_liked":false,"id":203552,"user_name":"Heaven","can_delete":false,"product_type":"c1","uid":1694207,"ip_address":"","ucode":"FA33FBCC66C911","user_header":"https://static001.geekbang.org/account/avatar/00/19/d9/ff/b23018a6.jpg","comment_is_top":false,"comment_ctime":1586231930,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586231930","product_id":100039001,"comment_content":"å¯¹äºä»Šå¤©ç»™å‡ºçš„æ–¹æ¡ˆäºŒä¸­,åˆ é™¤å…ƒç´ åªæ˜¯æ ‡è®°åˆ é™¤,è¢«åˆ é™¤çš„å…ƒç´ åœ¨æ²¡æœ‰è¿­ä»£å™¨ä½¿ç”¨çš„æƒ…å†µä¸‹,ä¹Ÿä¸ä¼šæ•°ç»„ä¸­çœŸæ­£çš„ç§»é™¤,å¯¼è‡´ä¸å¿…è¦çš„å ç”¨,å¦‚ä½•ä¼˜åŒ–<br>å¯¹äºè¿™ä¸ªé—®é¢˜,å®ç°èµ·æ¥å¹¶ä¸éš¾,å°±æ˜¯ä¿®æ”¹ä¸¤ä¸ªæ ‡è®°é›†åˆä¸­å¯¹åº”çš„æ—¶é—´,ä¿®æ”¹ä¸¤ä¸ªå±•ç¤ºç”¨çš„é›†åˆå¤§å°,ä½†æ˜¯éš¾ç‚¹åœ¨äºä»€ä¹ˆæ—¶å€™å»è°ƒç”¨åˆ é™¤çš„æ–¹æ³•,å¦‚ä½•å»çŸ¥é“ä»€ä¹ˆæ—¶å€™è¿­ä»£å™¨æ²¡æœ‰è°ƒç”¨,é¦–å…ˆæˆ‘æƒ³åˆ°äº†å…ˆå»åˆ©ç”¨ä¸€ä¸ªé›†åˆå°†æ‰€æœ‰çš„è¿­ä»£å™¨ä¿å­˜,åœ¨è°ƒç”¨åˆ é™¤æ–¹æ³•çš„æ—¶å€™æ£€æŸ¥è¿™ä¸ªè¿­ä»£å™¨æ•°ç»„,åªæœ‰è‡ªå·±æˆ–è€…æ²¡æœ‰æ•°ç»„çš„æ—¶å€™,è¿›è¡Œåˆ é™¤,ä½†æ˜¯å¸¦æ¥ä¸€ä¸ªé—®é¢˜,å¦‚ä½•çŸ¥é“è¿­ä»£å™¨ç»“æŸäº†å‘¢?ç¼–å†™ä¸€ä¸ªç»“æŸæ–¹æ³•?è¿™æ ·æ¯æ¬¡è¿­ä»£å®Œæˆéƒ½éœ€è¦è°ƒç”¨,æ˜¯å¦æ˜¯å¤ªç¹çäº†?é‚£ä¹ˆ,åªèƒ½è€ƒè™‘è®©çº¿ç¨‹ç»“æŸåè‡ªåŠ¨å›æ”¶äº†,é‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªå¼±å¼•ç”¨çš„æ•°ç»„.å½“ç„¶,è¿™å¹¶ä¸æ˜¯æœ€å¥½çš„æ–¹æ³•,å› ä¸ºçº¿ç¨‹å¾ˆé•¿,è¿­ä»£å¾ˆçŸ­,é‚£ä¹ˆæˆ‘æƒ³ç€,æ˜¯å¦å¯ä»¥åœ¨æ¯æ¬¡è°ƒç”¨removeçš„æ—¶å€™,å°†è¦removeçš„å…ƒç´ æ”¾åœ¨ä¸€ä¸ªé›†åˆä¸­,ç„¶åæ¯å‡ æ¬¡æ·»åŠ è§¦å‘ä¸€æ¬¡gc,æ¸…é™¤è¿­ä»£å™¨,é‚£ä¹ˆæ¥ä¸‹æ¥çš„å®ç°å°±å¾ˆæ¸…æ™°äº†,æœ‰ä¸¤ç§æ–¹å¼,ä¸€ç§æ˜¯ç­‰å¾…æ‰€æœ‰çš„è¿­ä»£å™¨éƒ½æ¸…ç©ºäº†,åœ¨å°†removeé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ æ‰¹é‡removeæ‰,æˆ–è€…æ˜¯åœ¨removeé›†åˆä¸­çš„å…ƒç´ æ•°é‡åˆ°è¾¾ä¸€å®šç¨‹åº¦çš„æ—¶å€™,å°†æ•´ä¸ªç±»åŠ ä¸Šé”,è®©è¿­ä»£å™¨å’Œæ­£å¸¸çš„ä¿®æ”¹éƒ½é˜»å¡,ç„¶ååˆ é™¤åæ”¾å¼€,ä¸è¿‡äº‹å…ˆæ›´éš¾,æˆ‘çš„æ•´ä½“æ€è·¯å°±å·®ä¸å¤šèµ°åˆ°è¿™äº†","like_count":0},{"had_liked":false,"id":203250,"user_name":"Jemmy","can_delete":false,"product_type":"c1","uid":1007330,"ip_address":"","ucode":"A979F4A5210225","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/e2/1fad3052.jpg","comment_is_top":false,"comment_ctime":1586160889,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1586160889","product_id":100039001,"comment_content":"Iteratorææ„å‡½æ•°ä¸­è°ƒä¸­ArrayListçš„æ¸…ç†å‡½æ•°ï¼Œæ¸…ç†å‡½æ•°å¹¶ä¸æ˜¯æ¯æ¬¡éƒ½æ¸…ç†ï¼Œè®¾ç½®ä¸€ä¸ªloadFactoryï¼Œå½“å·²åˆ é™¤å…ƒç´ è¶…è¿‡è¿™ä¸ªloadFactoryæ—¶ä¹‹è¡Œæ¸…ç†","like_count":0},{"had_liked":false,"id":203138,"user_name":"hanazawakana","can_delete":false,"product_type":"c1","uid":1251721,"ip_address":"","ucode":"E0F6FACBFE7D15","user_header":"https://static001.geekbang.org/account/avatar/00/13/19/89/20488013.jpg","comment_is_top":false,"comment_ctime":1586143512,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586143512","product_id":100039001,"comment_content":"è¿­ä»£å™¨ç»“æŸå¾ªç¯åï¼Œåˆ é™¤å¿«ç…§æ•°æ®ã€‚å¼€å§‹åˆ›å»ºåˆ—è¡¨æ—¶ï¼Œå†åˆ›å»ºä¸€ä¸ªæ–°çš„å¿«ç…§æ•°æ®","like_count":0},{"had_liked":false,"id":203084,"user_name":"å°æ™å­","can_delete":false,"product_type":"c1","uid":1132337,"ip_address":"","ucode":"3AAA6FB5ACB6AE","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/31/f35367c8.jpg","comment_is_top":false,"comment_ctime":1586138038,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1586138038","product_id":100039001,"comment_content":"å¯¹äºè¯¾åæ€è€ƒé¢˜çš„åŸºæœ¬æƒ³æ³•å°±æ˜¯çœŸæ­£åˆ é™¤é‚£äº›å·²ç»è¢«æ ‡è®°åˆ é™¤çš„å…ƒç´ ï¼Œåªæœ‰è¿™æ ·æ‰èƒ½èŠ‚çœå†…å­˜å ç”¨ï¼Œä¸»è¦çš„é—®é¢˜æ˜¯ä»€ä¹ˆæ—¶å€™åˆ é™¤å…ƒç´ ï¼Ÿå› ä¸ºæ˜¯å¿«ç…§ï¼Œé‚£ä¹ˆå‡è®¾ç”¨æˆ·åœ¨æŸæ®µæ—¶é—´å†…æ˜¯éœ€è¦è¿™ä¸ªå¿«ç…§åšä¸€äº›äº‹æƒ…çš„ï¼Œæ‰€ä»¥å°±éœ€è¦å¿«ç…§ä¿ç•™ä¸€æ®µæ—¶é—´ï¼Œä¸èƒ½ç«‹å³æ¸…ç†å…ƒç´ ï¼Œæ‰€ä»¥å¯ä»¥åœ¨æ–¹æ¡ˆäºŒçš„å®ç°ä¸­å¢åŠ å¿«ç…§ä¿å­˜æ—¶é—´çš„æ—¶é—´æˆ³ï¼Œç„¶åå¼€ä¸ªçº¿ç¨‹å®šæ—¶æ‰«ææ‰€æœ‰å…ƒç´ çš„åˆ é™¤æ—¶é—´æˆ³ï¼Œå’Œè¿™ä¸ªå¿«ç…§ä¿å­˜æ—¶é—´æˆ³è¿›è¡Œå¯¹æ¯”ï¼Œå½“å½“å‰æ—¶é—´-å…ƒç´ çš„åˆ é™¤æ—¶é—´&gt;å¿«ç…§ä¿å­˜æ—¶é—´çš„æ—¶å€™ï¼Œå°±æ¸…ç†æ‰è¿™ä¸ªå…ƒç´ ã€‚","like_count":0},{"had_liked":false,"id":203079,"user_name":"test","can_delete":false,"product_type":"c1","uid":1065849,"ip_address":"","ucode":"9A4973E591DD12","user_header":"https://static001.geekbang.org/account/avatar/00/10/43/79/18073134.jpg","comment_is_top":false,"comment_ctime":1586137519,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586137519","product_id":100039001,"comment_content":"è¯¾åæ€è€ƒé¢˜ï¼šå®šæœŸè¿›è¡Œæ¸…é™¤","like_count":0},{"had_liked":false,"id":203069,"user_name":"Lee","can_delete":false,"product_type":"c1","uid":1153239,"ip_address":"","ucode":"459D3303717703","user_header":"https://static001.geekbang.org/account/avatar/00/11/98/d7/7f7a0e6f.jpg","comment_is_top":false,"comment_ctime":1586135789,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1586135789","product_id":100039001,"comment_content":"è¯¾åé—®é¢˜å¯ä»¥åœ¨æ„å»ºSnapshotArrayIteratorçš„æ—¶å€™ï¼Œå°†ArrayListä¸­åˆ é™¤æ—¶é—´åœ¨å½“å‰æ—¶é—´ä¹‹å‰çš„å·²ç»æ ‡æ³¨åˆ é™¤çš„è®°å½•æ¸…ç†ä¸€æ¬¡ï¼Œå¹¶ä¸ä¼šå½±å“å¿«ç…§å®é™…æœ‰æ•ˆå†…å®¹ã€‚","like_count":0,"discussions":[{"author":{"id":1337598,"avatar":"https://static001.geekbang.org/account/avatar/00/14/68/fe/1353168d.jpg","nickname":"å²æœˆ","note":"","ucode":"29A2A2BC3C4FE4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":224984,"discussion_content":"è¿™æ ·ä¼šå¯¼è‡´å…ˆå‰çš„è¿­ä»£å™¨éå†ä¸æ­£ç¡®.","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1586342454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":203054,"user_name":"Geek_27a248","can_delete":false,"product_type":"c1","uid":1542778,"ip_address":"","ucode":"6AC3AC42E6EEC9","user_header":"https://static001.geekbang.org/account/avatar/00/17/8a/7a/54003392.jpg","comment_is_top":false,"comment_ctime":1586132624,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586132624","product_id":100039001,"comment_content":"å¦‚æœæœ‰ä¸¤ä¸ªæ•°ç»„ä¿å­˜æ•°æ®ï¼Œä¸€ä¸ªæœ‰æ ‡è®°æ—¶é—´æˆ³çš„ï¼Œä¸€ä¸ªæ²¡æœ‰æ ‡è®°æ—¶é—´æˆ³æ¥æ”¯æŒéšæœºè®¿é—®çš„ï¼Œé‚£ArraylistçœŸæ­£çš„åˆ é™¤æ•°æ®çš„æ–¹æ³•ä¹Ÿæ˜¯é‡‡ç”¨çš„è¿™ç§å—ï¼Œè¿™ä¸‰ç¯‡æ–‡ç« çœ‹çš„æœ‰ç‚¹è¿·ç³Šäº†ï¼Œå¾…æˆ‘ä»å¤´åœ¨æ…¢æ…¢çš„çœ‹æ¥å®éªŒä¸€éã€‚ã€‚æœ¬ç¯‡æ–‡ç« æœ€å¤§çš„æ”¶è·æ˜¯åˆåšå®šäº†æˆ‘æ¯ç¯‡æ–‡ç« éƒ½å†™ä»£ç å®éªŒä¸€ä¸‹çš„å†³å¿ƒ","like_count":0}]}
{"id":222522,"title":"04 | 元数据中心的关键目标和技术实现方案","content":"<p>你好，我是郭忆。</p><p>在上一节课程中，我从宏观的角度，系统性地带你了解了数据中台建设的方法论、支撑技术和组织架构，从这节课开始，我们正式进入实现篇，我会从微观的角度出发，带你具体分析数据中台的支撑技术，以电商场景为例，分别讲解元数据中心、指标管理、模型设计、数据质量等技术如何在企业落地。</p><p>这节课，咱们来聊聊元数据。</p><p>为什么要先讲元数据呢？我来举个例子。在原理篇中，我提到数据中台的构建，需要确保全局指标的业务口径一致，要把原先口径不一致的、重复的指标进行梳理，整合成一个统一的指标字典。而这项工作的前提，是要搞清楚这些指标的业务口径、数据来源和计算逻辑。而这些数据呢都是元数据。</p><p>你可以认为，如果没有这些元数据，就没法去梳理指标，更谈不上构建一个统一的指标体系。当你看到一个数700W，如果你不知道这个数对应的指标是每日日活，就没办法理解这个数据的业务含义，也就无法去整合这些数据。<strong>所以你必须要掌握元数据的管理，才能构建一个数据中台。</strong></p><p>那么问题来了：元数据中心应该包括哪些元数据呢？ 什么样的数据是元数据？</p><h2>元数据包括哪些？</h2><p>结合我的实践经验，我把元数据划为三类：数据字典、数据血缘和数据特征。我们还是通过一个例子来理解这三类元数据。</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/47/db/4792edac4ec5eefdbf5f2e71f404b0db.jpg?wh=1142*796\" alt=\"\"></p><p>在这个图中，dwd_trd_order_df 是一张订单交易明细数据，任务flow_dws_trd_sku_1d 读取这张表，按照sku粒度，计算每日sku的交易金额和订单数量，输出轻度汇总表dws_trd_sku_1d。</p><p>数据字典描述的是数据的结构信息，我们以dws_trd_sku_1d为例，数据字典包括：</p><p><img src=\"https://static001.geekbang.org/resource/image/70/b6/706050b3ef2c71001ecd94158efe55b6.jpg?wh=1142*392\" alt=\"\"></p><p>数据血缘是指一个表是直接通过哪些表加工而来，在上面的例子中，dws_trd_sku_1d是通过dwd_trd_order_df的数据计算而来，所以，dwd_trd_order_df是dws_trd_sku_1d的上游表。</p><p>数据血缘一般会帮我们做影响分析和故障溯源。比如说有一天，你的老板看到某个指标的数据违反常识，让你去排查这个指标计算是否正确，你首先需要找到这个指标所在的表，然后顺着这个表的上游表逐个去排查校验数据，才能找到异常数据的根源。</p><p>而数据特征主要是指数据的属性信息，我们以dws_trd_sku_1d为例：</p><p><img src=\"https://static001.geekbang.org/resource/image/d5/1b/d5303f16e5a969f039080e413d26201b.jpg?wh=1142*393\" alt=\"\"></p><p>通过这个例子，你了解了元数据了吗？ 不过元数据的种类非常多，为了管理这些元数据，你必须要构建一个元数据中心。那么接下来，我们就来看看如何搭建一个元数据中心，打通企业的元数据。</p><h2>业界元数据中心产品</h2><p>我做系统设计这么些年，一直有一个习惯，是先看看业界的产品都是怎么设计的，避免关门造车。业界的比较有影响力的产品：</p><ul>\n<li>开源的有Netflix的Metacat、Apache Atlas；</li>\n<li>商业化的产品有Cloudera Navigator。</li>\n</ul><p>我今天重点想带你了解Metacat和Atlas这两款产品，一个擅长于管理数据字典，一个擅长于管理数据血缘，通过了解这两款产品，你更能深入的理解元数据中心应该如何设计。</p><h3>Metacat 多数据源集成型架构设计</h3><p>关于<a href=\"https://github.com/Netflix/metacat\">Metacat</a>，你可以在GitHub上找到相关介绍，所以关于这个项目的背景和功能特性，我就不再多讲，我只想强调一个点，就是它多数据源的可扩展架构设计，因为这个点对于数据字典的管理，真的太重要！</p><p><img src=\"https://static001.geekbang.org/resource/image/ca/3f/ca1fd21c2109b921c680008469dd663f.jpg?wh=1142*520\" alt=\"\"></p><p>在一般的公司中，数据源类型非常多是很常见的现象，包括Hive、MySQL、Oracle、Greenplum等等。支持不同数据源，建立一个可扩展的、统一的元数据层是非常重要的，否则你的元数据是缺失的。</p><p>从上面Metacat的架构图中，你可以看到，Metacat的设计非常巧妙，它并没有单独再保存一份元数据，而是采取直连数据源拉的方式，一方面它不存在保存两份元数据一致性的问题，另一方面，这种架构设计很轻量化，每个数据源只要实现一个连接实现类即可，扩展成本很低，我把这种设计叫做集成型设计。我认为这种设计方式对于希望构建元数据中心的企业，是非常有借鉴意义的。</p><h3>Apache Atlas 实时数据血缘采集</h3><p>同样，关于<a href=\"http://atlas.apache.org/\">Apache Atlas</a>的背景和功能，我也不多说，只是想强调Atlas 实时数据血缘采集的架构设计，因为它为解决血缘采集的准确性和时效性难题提供了很多的解决思路。</p><p>血缘采集，一般可以通过三种方式：</p><ul>\n<li>通过静态解析SQL，获得输入表和输出表；</li>\n<li>通过实时抓取正在执行的SQL，解析执行计划，获取输入表和输出表；</li>\n<li>通过任务日志解析的方式，获取执行后的SQL 输入表和输出表。</li>\n</ul><p>第一种方式，面临准确性的问题，因为任务没有执行，这个SQL对不对都是一个问题。第三种方式，血缘虽然是执行后产生的，可以确保是准确的，但是时效性比较差，通常要分析大量的任务日志数据。所以第二种方式，我认为是比较理想的实现方式，而Atlas 就是这种实现。</p><p><img src=\"https://static001.geekbang.org/resource/image/b9/8c/b96e93b2ea7548fbd8bcb15eab93988c.jpg?wh=1142*673\" alt=\"\"></p><p>对于Hive 计算引擎，Atlas 通过Hook方式，实时地捕捉任务执行计划，获取输入表和输出表，推送给Kafka，由一个Ingest 模块负责将血缘写入JanusGraph图数据库中。然后通过API的方式，基于图查询引擎，获取血缘关系。对于Spark，Atlas 提供了Listener的实现方式，此外Sqoop、Flink 也有对应的实现方式。</p><p>这两款产品在设计网易元数据中心时，给了很多灵感，下面我就带你了解一下网易元数据中心的设计，以便你掌握一个元数据中心在设计时应该考虑哪些点。</p><h2>网易元数据中心设计</h2><p>在设计网易元数据中心之初，我设定了元数据中心必须实现的5个关键目标：</p><p><strong>其一，多业务线、多租户支持。</strong></p><p>在网易，电商、音乐都是不同的业务线，同一个业务线内，也分为算法、数仓、风控等多个租户，所以元数据中心必须支持多业务线、多租户。</p><p><strong>其二，多数据源的支持。</strong></p><p>元数据中心必须要能够支持不同类型的数据源（比如MySQL、Hive、Kudu等），同时还要支持相同数据源的多个集群。为了规范化管理，还需要考虑将半结构化的KV也纳入元数据中心的管理（比如Kafka、Redis、HBase等）。这些系统本身并没有表结构元数据，所以需要能够在元数据中心里定义Kafka每个Topic的每条记录JSON中的格式，每个字段代表什么含义。</p><p><strong>其三，数据血缘。</strong></p><p>元数据中心需要支持数据血缘的实时采集和高性能的查询。同时，还必须支持字段级别的血缘。</p><p>什么是字段级别的血缘，我们来举个例子。</p><blockquote>\n<p>insert overwrite table t2 select classid, count(userid) from t1 group<br>\nby classid;</p>\n</blockquote><p>t2表是由t1表的数据计算来的，所以t2和t1是表血缘上下游关系，t2的classid字段是由t1的classid字段产生的，count字段是由userid经过按照classid字段聚合计算得到的，所以t2表的classid与t1的classid存在字段血缘，t2表的count分别与t1表的classid和userid存在血缘关系。</p><p><img src=\"https://static001.geekbang.org/resource/image/10/31/10215ac91d081d84a53ee72deb1fad31.jpg?wh=1142*397\" alt=\"\"></p><p>字段血缘在做溯源的时候非常有用，因为大数据加工链路的下游是集市层，为了方便使用者使用，一般都是一些很宽的表（列很多的表，避免Join带来的性能损耗），这个表的上游可能是有几十个表产生的，如果不通过字段血缘限定溯源范围，就会导致搜索范围变得很大，无法快速地精准定位到有问题的表。</p><p>另外，数据血缘还必须要支持生命周期管理，已经下线的任务应该立即清理血缘，血缘要保留一段时间，如果没有继续被调度，过期的血缘关系应该予以清理。</p><p><strong>其四，与大数据平台集成。</strong></p><p>元数据中心需要与Ranger集成，实现基于tag 的权限管理方式。在元数据中心中可以为表定义一组标签，Ranger可以基于这个标签，对拥有某一个标签的一组表按照相同的权限授权。这种方式大幅提高了权限管理的效率。比如，对于会员、交易、毛利、成本，可以设定表的敏感等级，然后根据敏感等级，设定不同的人有权限查看。</p><p>另外，元数据中心作为基础元数据服务，包括自助取数分析系统，数据传输系统，数据服务，都应该基于元数据中心提供的统一接口获取元数据。</p><p><strong>其五，数据标签。</strong></p><p>元数据中心必须要支持对表和表中的字段打标签，通过丰富的不同类型的标签，可以完善数据中台数据的特征，比如指标可以作为一种类型的标签打在表上，主题域、分层信息都可以作为不同类型的标签关联到表。</p><p>基于这5个因素的考虑，我们设计了网易元数据中心。</p><p><img src=\"https://static001.geekbang.org/resource/image/d5/f4/d590abca0d8f54d19fa413696dfd97f4.jpg?wh=1142*623\" alt=\"\" title=\"网易元数据中心系统架构设计图\"></p><p>这个图按照功能模块分为数据血缘、数据字典和数据特征。</p><p>数据血缘由采集端、消息中间件、消费端以及血缘清理模块组成，基于Hive Hook，Spark Listener，Flink Hook ，可以获取任务执行时输入表和输出表，推送给统一的消息中间件（Kafka），然后消费端负责将血缘关系沉淀到图数据库中。</p><p>图数据库选择Neo4j，主要考虑是性能快、部署轻量化、依赖模块少，当然，开源的Neo4j没有高可用方案，并且不支持水平扩展，但是因为单个业务活跃的表规模基本也就在几万的规模，所以单机也够用，高可用可以通过双写的方式实现。</p><p>血缘还有一个清理的模块，主要负责定时清理过期的血缘，一般我们把血缘的生命周期设置为7天。</p><p>数据字典部分，我们参考了Metacat实现，我们由一个统一的Connector Mananger负责管理到各个数据源的连接。对于Hive、MySQL，元数据中心并不会保存系统元数据，而是直接连数据源实时获取。对于Kafka、HBase、Redis等KV，我们在元数据中心里内置了一个元数据管理模块，可以在这个模块中定义Value的schema信息。</p><p>数据特征主要是标签的管理以及数据的访问热度信息。元数据中心内置了不同类型的标签，同时允许用户自定义扩展标签类型。指标、分层信息、主题域信息都是以标签的形式存储在元数据中心的系统库里，同时元数据中心允许用户基于标签类型和标签搜索表和字段。</p><p>元数据中心统一对外提供了API访问接口，数据传输、数据地图、数据服务等其他的子系统都可以通过API接口获取元数据。另外Ranger 可以基于元数据中心提供的API接口，获取标签对应的表，然后根据标签更新表对应的权限，实现基于标签的权限控制。</p><p>元数据中心构建好以后，你肯定会问，这个元数据中心没有界面吗？它长什么样子？用户咋使用这个元数据中心？ 别急，我们接着往下看。</p><h2>数据地图：元数据中心的界面</h2><p>数据地图是基于元数据中心构建的一站式企业数据资产目录，可以看作是元数据中心的界面。数据开发、分析师、数据运营、算法工程师可以在数据地图上完成数据的检索，解决了“不知道有哪些数据？”“到哪里找数据？”“如何准确的理解数据”的难题。</p><p><img src=\"https://static001.geekbang.org/resource/image/7b/8c/7b0bb4f2555d4610a05b91c86416888c.png?wh=912*471\" alt=\"\"></p><p>数据地图提供了多维度的检索功能，使用者可以按照表名、列名、注释、主题域、分层、指标进行检索，结果按照匹配相关度进行排序。考虑到数据中台中有一些表是数仓维护的表，有一些表数仓已经不再维护，在结果排序的时候，增加了数仓维护的表优先展示的规则。同时数据地图还提供了按照主题域、业务过程导览，可以帮助使用者快速了解当前有哪些表可以使用。</p><p><img src=\"https://static001.geekbang.org/resource/image/a3/35/a315fc502a4f94ac3b77947d38de7535.jpg?wh=1142*615\" alt=\"\"></p><p>当使用者定位到某一个表打开时，会进入详情页，详情页中会展示表的基础信息，字段信息、分区信息、产出信息以及数据血缘。数据血缘可以帮助使用者了解这个表的来源和去向，这个表可能影响的下游应用和报表，这个表的数据来源。</p><p><img src=\"https://static001.geekbang.org/resource/image/17/ba/17516d5fb201cffc9d69f32e98993bba.png?wh=2658*1488\" alt=\"\"></p><p>数据地图同时还提供了数据预览的功能，考虑到安全性因素，只允许预览10条数据，用于判断数据是否符合使用者的预期。数据地图提供的收藏功能， 方便使用者快速找到自己经常使用的表。当数据开发、分析师、数据运营找到自己需要的表时，在数据地图上可以直接发起申请对该表的权限申请。</p><p>数据地图对于提高数据发现的效率，实现非技术人员自助取数有重要作用。经过我的实践，数据地图是数据中台中使用频率最高的一个工具产品，在网易，每天都有500以上人在使用数据地图查找数据。</p><h2>课程总结</h2><p>本节课，我以元数据作为起点，带你了解了元数据应该包括数据字典、数据血缘和数据特征，然后通过分析两个业界比较有影响力的元数据中心产品，结合我在网易数据中台实践，给出了元数据中心设计的5个关键特性和技术实现架构，最后介绍了基于元数据中心之上的数据地图产品。我想在最后强调几个关键点：</p><ul>\n<li>元数据中心设计上必须注意扩展性，能够支持多个数据源，所以宜采用集成型的设计方式。</li>\n<li>数据血缘需要支持字段级别的血缘，否则会影响溯源的范围和准确性。</li>\n<li>数据地图提供了一站式的数据发现服务，解决了检索数据，理解数据的“找数据的需求”。</li>\n</ul><p>最后，你要知道，元数据中心是数据中台的基石，它提供了我们做数据治理的必须的数据支撑，在后续的章节中，我们将逐一介绍指标、模型、质量、成本、安全等的治理，这些都离不开元数据中心的支撑。</p><p><img src=\"https://static001.geekbang.org/resource/image/06/63/069ede4c461619307896563cbf681063.jpg?wh=1142*857\" alt=\"\"></p><h2>课程思考</h2><p>在课程中，我介绍了血缘采集的三种方式，并且推荐了通过实时采集的方式，但是其实静态解析血缘也有它的优势应用场景，你能想到有哪些么？欢迎在留言区与我讨论。</p><p>最后，感谢你的阅读，如果这篇文章让你有所收获，也欢迎你将它分享给更多的朋友。</p>","comments":[{"had_liked":false,"id":205818,"user_name":"麻婆豆腐","can_delete":false,"product_type":"c1","uid":1731885,"ip_address":"","ucode":"F371FE05D081D6","user_header":"https://static001.geekbang.org/account/avatar/00/1a/6d/2d/de41f9cf.jpg","comment_is_top":false,"comment_ctime":1586743332,"is_pvip":true,"replies":[{"id":"77366","content":"感谢你的肯定，这也确实是我们在网易数据中台构建过程中遇到的真实问题沉淀总结而来的。<br><br>数据特征，标签的维护，其实是靠基于元数据中心之上的各个数据中台支撑产品下沉到元数据中心上的。比如指标系统创建了一个指标，在模型设计中，我们会为某个表的某个字段关联一个指标，然后指标和表就产生了关联关系，就会下沉到元数据中心中，以标签的形式存在。<br><br>标签的来源，来自各个基于元数据中心的数据中台工具产品。","user_name":"作者回复","comment_id":205818,"uid":"1319022","ip_address":"","utype":1,"ctime":1587007869,"user_name_real":"郭忆"}],"discussion_count":3,"race_medal":0,"score":"53126350884","product_id":100049101,"comment_content":"郭老师好，听了您的课，感觉个个都直击痛点啊！本节课里数据字典和数据血缘感觉都有开源的可以参考或者直接使用，那么数据特征的管理是怎么处理的呢？手动维护吗？比如标签、关联指标之类描述性的。","like_count":12,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491592,"discussion_content":"感谢你的肯定，这也确实是我们在网易数据中台构建过程中遇到的真实问题沉淀总结而来的。\n\n数据特征，标签的维护，其实是靠基于元数据中心之上的各个数据中台支撑产品下沉到元数据中心上的。比如指标系统创建了一个指标，在模型设计中，我们会为某个表的某个字段关联一个指标，然后指标和表就产生了关联关系，就会下沉到元数据中心中，以标签的形式存在。\n\n标签的来源，来自各个基于元数据中心的数据中台工具产品。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587007869,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1246887,"avatar":"https://static001.geekbang.org/account/avatar/00/13/06/a7/27b08dc8.jpg","nickname":"尹口原一","note":"","ucode":"870D62509F8D5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557926,"discussion_content":"上述回复中“下沉到元数据中心中，以标签的形式存在”的过程，是通过代码自动完成的，还是需要人工处理？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648026887,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1011273,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/6e/49/abb7bfe3.jpg","nickname":"小桥流水","note":"","ucode":"C1582AE2FB5299","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":239901,"discussion_content":"模型设计中 某个表的某个字段关联一个指标，这个是人工处理吧，","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587310360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205079,"user_name":"惜心（伟祺）","can_delete":false,"product_type":"c1","uid":1067846,"ip_address":"","ucode":"393DF1A9E81332","user_header":"https://static001.geekbang.org/account/avatar/00/10/4b/46/717d5cb9.jpg","comment_is_top":false,"comment_ctime":1586522907,"is_pvip":false,"replies":[{"id":"76861","content":"对的，其实思路是一致的，数据产品可以看成是一个C端产品，它的客户不是开发，而是运营，所以在产品设计上，要尽可能的降低门槛，注重引导。","user_name":"作者回复","comment_id":205079,"uid":"1319022","ip_address":"","utype":1,"ctime":1586702494,"user_name_real":"郭忆"}],"discussion_count":3,"race_medal":0,"score":"44536195867","product_id":100049101,"comment_content":"业务指标<br>数据来源<br>加工sql<br>把数据生命周期当作产品服务，提供给公司人员使用<br>和公司把具体产品提供给外面实验是一个思路<br>使用这些表的员工就是公司核心用户，平台上孵化更多产品服务客户<br>一层一层的内聚","like_count":10,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491380,"discussion_content":"对的，其实思路是一致的，数据产品可以看成是一个C端产品，它的客户不是开发，而是运营，所以在产品设计上，要尽可能的降低门槛，注重引导。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586702494,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1175495,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ef/c7/07bffbf3.jpg","nickname":"小土豆爸爸","note":"","ucode":"E3FED198AB803A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":228388,"discussion_content":"阿里的思路\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586533341,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1080578,"avatar":"https://static001.geekbang.org/account/avatar/00/10/7d/02/4862f849.jpg","nickname":"杉松壁","note":"","ucode":"ED904CE27CD3C4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":268847,"discussion_content":"谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589837848,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205232,"user_name":"Galen","can_delete":false,"product_type":"c1","uid":1955606,"ip_address":"","ucode":"24DC438B5B8B52","user_header":"","comment_is_top":false,"comment_ctime":1586574907,"is_pvip":false,"replies":[{"id":"76854","content":"你好，其实不然， 元数据中心业界有开源的产品，其实最差也可以用开源的来搭一套，只是没有那么易用罢了。元数据中心本身还是一个偏实现层的产品，基于元数据中心之上，我会为你介绍五个元数据的应用场景，这部分开源的产品会比较少涉及，但是如果你能深入理解这些产品背后设计思想，应用场景，解决的问题，即使你要选取外面的商业化产品，你也可以有自己的一个判断。<br><br>感谢你的阅读，期待与你在留言区再次相遇~","user_name":"作者回复","comment_id":205232,"uid":"1319022","ip_address":"","utype":1,"ctime":1586701287,"user_name_real":"郭忆"}],"discussion_count":4,"race_medal":0,"score":"40241280571","product_id":100049101,"comment_content":"感觉一般的小团队，搞不定啊","like_count":9,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491429,"discussion_content":"你好，其实不然， 元数据中心业界有开源的产品，其实最差也可以用开源的来搭一套，只是没有那么易用罢了。元数据中心本身还是一个偏实现层的产品，基于元数据中心之上，我会为你介绍五个元数据的应用场景，这部分开源的产品会比较少涉及，但是如果你能深入理解这些产品背后设计思想，应用场景，解决的问题，即使你要选取外面的商业化产品，你也可以有自己的一个判断。\n\n感谢你的阅读，期待与你在留言区再次相遇~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586701287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1215253,"avatar":"https://static001.geekbang.org/account/avatar/00/12/8b/15/5278f52a.jpg","nickname":"春暖花开","note":"","ucode":"8B7D3BA1C1DD1B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":233063,"discussion_content":"你好，开源的元数据中心都有哪些呢","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586908811,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2009494,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/a9/96/8dbf69a0.jpg","nickname":"wuwu","note":"","ucode":"08D0DD60250F34","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":279507,"discussion_content":"我也觉得一个小团队搞不定，我们公司对于数据地图、数据血缘都有规划，但是因为领导觉得不是必要，一直不愿意投入人力开发。现状就是数据开发人员开发成结果报表数据做呈现","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591358778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2586334,"avatar":"https://static001.geekbang.org/account/avatar/00/27/76/de/922aaaf4.jpg","nickname":"蓝白胖子","note":"","ucode":"90510453819687","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2009494,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/a9/96/8dbf69a0.jpg","nickname":"wuwu","note":"","ucode":"08D0DD60250F34","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":549692,"discussion_content":"确实如此","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644213068,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":279507,"ip_address":""},"score":549692,"extra":""}]}]},{"had_liked":false,"id":205783,"user_name":"Silence L","can_delete":false,"product_type":"c1","uid":1443247,"ip_address":"","ucode":"7EB7146820DC41","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIKa0PdjFnEpuzFYMZoibQp44cYsHOtgSdSXg7ZibDibicd99uvJrssUqDxpThtRM4AVcoCAYKNYgpDOA/132","comment_is_top":false,"comment_ctime":1586738958,"is_pvip":false,"replies":[{"id":"77363","content":"1. 元数据中心并没有依赖atlas，我们是参考atlas的数据血缘runtime血缘采集方式，实现了数据血缘部分，他与ranger是集成关系，可以基于tag实现授权。neo4j是元数据中心底层的图数据库，es提供了元数据的检索，kafka主要是接受采集来的实时血缘，这三个系统是元数据中心必须依赖的。<br><br>2. 数据权限，我们统一使用ranger来管理。产品的数据权限管理模块，底层是基于ranger实现包装的。<br><br>3. 在网易大数据环境中，我们基于kerberos实现用户认证。<br><br>我看你提到了很多关于用户、认证、权限相关的问题，我会在第10讲数据安全中，重点介绍网易数据中台安全保障的5大机制，欢迎你继续阅读。","user_name":"作者回复","comment_id":205783,"uid":"1319022","ip_address":"","utype":1,"ctime":1587007457,"user_name_real":"郭忆"}],"discussion_count":1,"race_medal":0,"score":"35946477326","product_id":100049101,"comment_content":"郭老师好，看了元数据我又两个问题请教一下：<br>1.文中元数据中心依赖了Atlas，ranger，neo4j，es，kafka等，是否依赖的太多，太重<br>2.ranger通过tag实现权限管理，是否数据权限管理都使用ranger，不会另外单独一个数据权限模块么？<br><br>还有一个额外的非本篇的问题，在网易大数据环境中，是否使用了kerberos？","like_count":8,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491582,"discussion_content":"1. 元数据中心并没有依赖atlas，我们是参考atlas的数据血缘runtime血缘采集方式，实现了数据血缘部分，他与ranger是集成关系，可以基于tag实现授权。neo4j是元数据中心底层的图数据库，es提供了元数据的检索，kafka主要是接受采集来的实时血缘，这三个系统是元数据中心必须依赖的。\n\n2. 数据权限，我们统一使用ranger来管理。产品的数据权限管理模块，底层是基于ranger实现包装的。\n\n3. 在网易大数据环境中，我们基于kerberos实现用户认证。\n\n我看你提到了很多关于用户、认证、权限相关的问题，我会在第10讲数据安全中，重点介绍网易数据中台安全保障的5大机制，欢迎你继续阅读。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587007457,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205115,"user_name":"Marco","can_delete":false,"product_type":"c1","uid":1138102,"ip_address":"","ucode":"78254AE72CB03A","user_header":"https://static001.geekbang.org/account/avatar/00/11/5d/b6/bedadca5.jpg","comment_is_top":false,"comment_ctime":1586531207,"is_pvip":false,"replies":[{"id":"76858","content":"目前，我们数据中台中所有的数据都是以表的形式存在的，血缘都是以表的血缘。并没有做文件、数据集的血缘。<br><br>感谢你的阅读，期待与你在留言区再次相遇。","user_name":"作者回复","comment_id":205115,"uid":"1319022","ip_address":"","utype":1,"ctime":1586702071,"user_name_real":"郭忆"}],"discussion_count":1,"race_medal":0,"score":"23061367687","product_id":100049101,"comment_content":"老师，如果表数据是通过java 程序的etl，又如何解析血缘关系？","like_count":6,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491393,"discussion_content":"目前，我们数据中台中所有的数据都是以表的形式存在的，血缘都是以表的血缘。并没有做文件、数据集的血缘。\n\n感谢你的阅读，期待与你在留言区再次相遇。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586702071,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231644,"user_name":"hantics","can_delete":false,"product_type":"c1","uid":1393027,"ip_address":"","ucode":"F0E5E0D60827F8","user_header":"https://static001.geekbang.org/account/avatar/00/15/41/83/a6550862.jpg","comment_is_top":false,"comment_ctime":1593741020,"is_pvip":false,"replies":[{"id":"87140","content":"所以数据中台，既要独立于业务，又不能脱离业务，数据中台，数据产品（互联网公司希望叫数据pd）角色很关键，他要深入业务，了解业务目标，要通过数据，帮助业务实现目标，孵化数据产品，收管指标。","user_name":"作者回复","comment_id":231644,"uid":"1319022","ip_address":"","utype":1,"ctime":1595249400,"user_name_real":"郭忆"}],"discussion_count":1,"race_medal":0,"score":"18773610204","product_id":100049101,"comment_content":"郭老师好，我们遇到一个组织架构问题，业务都不愿做数据治理，因为没有KPI，而中台方又对数据没那么了解，导致主题域&#47;指标梳理困难","like_count":4,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500390,"discussion_content":"所以数据中台，既要独立于业务，又不能脱离业务，数据中台，数据产品（互联网公司希望叫数据pd）角色很关键，他要深入业务，了解业务目标，要通过数据，帮助业务实现目标，孵化数据产品，收管指标。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595249400,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":218405,"user_name":"Olivia_饶","can_delete":false,"product_type":"c1","uid":1779565,"ip_address":"","ucode":"CD2CEC066C914E","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/AoXC8Dwxrs9cia2MFhHjvnjSJMbs0CmxqGR7qJQpwbWJ3M55VKiatlNRN5LF1X2uYTA42nbn3GicJd6JaKy8zaVbA/132","comment_is_top":false,"comment_ctime":1589798163,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18769667347","product_id":100049101,"comment_content":"老师,您好,看您写的文字看了不下5遍,想请教一下您,能详细描述一下关于元数据中心门户怎么提升用户的搜索效率吗?我看您展示的页面有数据查询和数仓管理两个模块,用户可以通过这两个模块都可以查找数据吗?对于在数仓管理的模块用户是怎么样去搜索数据呢?它和数据查询的区别在哪?","like_count":4},{"had_liked":false,"id":204824,"user_name":"JohnT3e","can_delete":false,"product_type":"c1","uid":1063982,"ip_address":"","ucode":"CF4AAAC933529C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLdWHFCr66TzHS2CpCkiaRaDIk3tU5sKPry16Q7ic0mZZdy8LOCYc38wOmyv5RZico7icBVeaPX8X2jcw/132","comment_is_top":false,"comment_ctime":1586479880,"is_pvip":false,"replies":[{"id":"76617","content":"我来举个场景，你来看看。<br><br>当我们要提交任务上线，建立任务依赖时，如果我们依赖的表，还没有被调度产生数据，此时就会导致我们根据这张表找不到表的产出任务，系统就无法自动推荐依赖任务。<br><br>所以此时就需要静态血缘的介入啦。 对于还未执行，但是保存，SQL语法检查通过的任务，我们可以通过解析SQL获取静态血缘，然后当其他任务读取这张表，要建立到这张表产出任务的依赖时，我们可以根据静态血缘，找到这张表的产出任务。<br><br>欢迎你继续在留言区与我互动~","user_name":"作者回复","comment_id":204824,"uid":"1319022","ip_address":"","utype":1,"ctime":1586514558,"user_name_real":"郭忆"}],"discussion_count":2,"race_medal":0,"score":"18766349064","product_id":100049101,"comment_content":"我能想到的一个场景是：静态血缘解析可以对一个正在开发的SQL提供参考信息，看系统中表有哪些SQL处理，避免SQL冗余和冲突。","like_count":5,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491300,"discussion_content":"我来举个场景，你来看看。\n\n当我们要提交任务上线，建立任务依赖时，如果我们依赖的表，还没有被调度产生数据，此时就会导致我们根据这张表找不到表的产出任务，系统就无法自动推荐依赖任务。\n\n所以此时就需要静态血缘的介入啦。 对于还未执行，但是保存，SQL语法检查通过的任务，我们可以通过解析SQL获取静态血缘，然后当其他任务读取这张表，要建立到这张表产出任务的依赖时，我们可以根据静态血缘，找到这张表的产出任务。\n\n欢迎你继续在留言区与我互动~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586514558,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1009216,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/40/ac949337.jpg","nickname":"吴慧民","note":"","ucode":"C46A045A55B434","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":227968,"discussion_content":"这个复杂度应该很高，和idea中重复代码检测功能类似","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586519203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232416,"user_name":"Geek_ba5f3b","can_delete":false,"product_type":"c1","uid":1519917,"ip_address":"","ucode":"4D20AE63FCE56B","user_header":"","comment_is_top":false,"comment_ctime":1593998494,"is_pvip":false,"replies":[{"id":"87141","content":"你说的是指元数据的查询是吧， 我们并不是每次都查数据源的，而是通过存到ES里面，提供给上层查询的。<br><br>感谢你的提问~祝好~","user_name":"作者回复","comment_id":232416,"uid":"1319022","ip_address":"","utype":1,"ctime":1595249471,"user_name_real":"郭忆"}],"discussion_count":2,"race_medal":0,"score":"14478900382","product_id":100049101,"comment_content":"老师，关于集成性设计，如果每次查询都是从数据源拉取，是否存在性能问题。且无法做到跨源查询，对数据源集群的性能要求也较高。为何不用etl先统一抽取，再进行统一的sql查询（非实时数据），对用户也相对友好。","like_count":3,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500635,"discussion_content":"你说的是指元数据的查询是吧， 我们并不是每次都查数据源的，而是通过存到ES里面，提供给上层查询的。\n\n感谢你的提问~祝好~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595249471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1063308,"avatar":"https://static001.geekbang.org/account/avatar/00/10/39/8c/089525aa.jpg","nickname":"小乙哥","note":"","ucode":"C77E79BEA0C325","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382715,"discussion_content":"数据源和es中的元数据信息怎么保证一致性的了？","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1625705364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219490,"user_name":"0xFFFFFFFF","can_delete":false,"product_type":"c1","uid":1110672,"ip_address":"","ucode":"E06B669AF2DD0D","user_header":"https://static001.geekbang.org/account/avatar/00/10/f2/90/e3e19c6e.jpg","comment_is_top":false,"comment_ctime":1590032060,"is_pvip":false,"replies":[{"id":"81536","content":"你好~<br><br>MR和Spark，非SQL的代码，在运行时，hadoop client和Spark client也可以通过Plugin的方式获取到输入表和输出表的关系，并不一定非要SQL。<br><br>感谢你的提问~祝好","user_name":"作者回复","comment_id":219490,"uid":"1319022","ip_address":"","utype":1,"ctime":1590409569,"user_name_real":"郭忆"}],"discussion_count":3,"race_medal":0,"score":"14474933948","product_id":100049101,"comment_content":"我看文章的时候一直在想，所有的处理和计算是如何都保证是由SQL完成的？如果数据的计算逻辑是用户的程序完成的，最后只是写到了table里面，这时候如何保证数据血缘？","like_count":3,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495825,"discussion_content":"你好~\n\nMR和Spark，非SQL的代码，在运行时，hadoop client和Spark client也可以通过Plugin的方式获取到输入表和输出表的关系，并不一定非要SQL。\n\n感谢你的提问~祝好","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590409569,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1013160,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/75/a8/dfe4cade.jpg","nickname":"电光火石","note":"","ucode":"3AD33BB4AA940F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301775,"discussion_content":"在运行时，hadoop client和Spark client也可以通过Plugin的方式获取到输入表和输出表的关系，这个有开源产品吗，还是要自己来做？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598628003,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1018685,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8b/3d/0c3a2fd4.jpg","nickname":"偶尔复活下","note":"","ucode":"18B1D525CD50D3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":271836,"discussion_content":"数据血缘 指的是表之间 表字段之间的关系。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590201171,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214097,"user_name":"旺仔","can_delete":false,"product_type":"c1","uid":1003686,"ip_address":"","ucode":"DA18890244A566","user_header":"https://static001.geekbang.org/account/avatar/00/0f/50/a6/1b468139.jpg","comment_is_top":false,"comment_ctime":1588657058,"is_pvip":false,"replies":[{"id":"79788","content":"查询的话，走的是ES， 我们会把对应数据源的表结构信息同步到ES一份，方便做快速的查询。标签也在ES中，标签分为表级别的和字段级别的，分别打在字段和表名上。<br><br>感谢你的提问~","user_name":"作者回复","comment_id":214097,"uid":"1319022","ip_address":"","utype":1,"ctime":1589015523,"user_name_real":"郭忆"}],"discussion_count":1,"race_medal":0,"score":"14473558946","product_id":100049101,"comment_content":"“数据字典部分，我们参考了 Metacat 实现，我们由一个统一的 Connector Mananger 负责管理到各个数据源的连接。对于 Hive、MySQL，元数据中心并不会保存系统元数据，而是直接连数据源实时获取。对于 Kafka、HBase、Redis 等 KV，我们在元数据中心里内置了一个元数据管理模块，可以在这个模块中定义 Value 的 schema 信息。”<br><br>老师您好，这部分有个细节的问题想了解下，你们在元数据平台会保存表基础信息么，比如保存表名作为一个关联的依据，然后查详情的时候 connector 去获取表的字典信息，因为平台本身要去加一些标签的话也需要有个载体，如果是这样的话，是定期同步表的列表到元数据平台吗？","like_count":4,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493954,"discussion_content":"查询的话，走的是ES， 我们会把对应数据源的表结构信息同步到ES一份，方便做快速的查询。标签也在ES中，标签分为表级别的和字段级别的，分别打在字段和表名上。\n\n感谢你的提问~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589015523,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206765,"user_name":"Geek_619bd4","can_delete":false,"product_type":"c1","uid":1943342,"ip_address":"","ucode":"B802F4804D6387","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/plBV61lCKIuMpsj2ZZdNwxLS7oNAQvnL9x5k0Hp4TQQNFFk26dl3nFxyZp5Ch6zLnk3hV069I6R2Q9JLu98bSg/132","comment_is_top":false,"comment_ctime":1586931232,"is_pvip":false,"replies":[{"id":"77370","content":"数据中台团队，主要包括数据开发、数据产品、平台开发和数据应用开发。<br><br>整体人员规模和你的业务规模要保持同步的。网易不同业务数据中台团队人员规模也相差比较大，多的100多人也是有的，少的十来个人的，其实刚开始，可以先从数据开发团队开始构建，上层通过BI报表的方式呈现，这样数据应用团队也可以先不需要。起步可以10个人以内的团队就可以开始。","user_name":"作者回复","comment_id":206765,"uid":"1319022","ip_address":"","utype":1,"ctime":1587008998,"user_name_real":"郭忆"}],"discussion_count":1,"race_medal":0,"score":"14471833120","product_id":100049101,"comment_content":"一个数据中台一般得由哪几部分人员组成，又大概需要多少人呢？","like_count":3,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491894,"discussion_content":"数据中台团队，主要包括数据开发、数据产品、平台开发和数据应用开发。\n\n整体人员规模和你的业务规模要保持同步的。网易不同业务数据中台团队人员规模也相差比较大，多的100多人也是有的，少的十来个人的，其实刚开始，可以先从数据开发团队开始构建，上层通过BI报表的方式呈现，这样数据应用团队也可以先不需要。起步可以10个人以内的团队就可以开始。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587008998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205412,"user_name":"Robbin","can_delete":false,"product_type":"c1","uid":1955190,"ip_address":"","ucode":"5AD0A026F6E934","user_header":"https://static001.geekbang.org/account/avatar/00/1d/d5/76/fe78c4bf.jpg","comment_is_top":false,"comment_ctime":1586611741,"is_pvip":false,"replies":[{"id":"76848","content":"你好，你说的很对，元数据中心本身是一个偏实现层的产品，领导其实根本就不关心是否存在这样的一个数据中台的底层。<br><br>但是数据地图，是元数据中心的界面，通过数据地图，领导可以看到数据中台的统一元数据视图，另外，结合数据地图的使用频率、使用范围，可以凸显数据地图的价值。<br><br>数据地图在设计时，一方面他的使用对象是数据开发，另外一方面，他的使用对象又是业务人员。让业务人员感受到数据地图的价值，主要是能够让业务人员搜索指标、数据报表，帮助他们快速找到自己想要的数据。无论是数据表，还是数据报表，还是指标，都能够通过数据地图进行搜索和导览。","user_name":"作者回复","comment_id":205412,"uid":"1319022","ip_address":"","utype":1,"ctime":1586700170,"user_name_real":"郭忆"}],"discussion_count":1,"race_medal":0,"score":"14471513629","product_id":100049101,"comment_content":"在传统企业里，高层领导都是业务出身，而像元数据中心这种产品，如何能说服业务领导同意建设，同时数据地图在设计时如何能让纯业务人员感受到其价值？","like_count":3,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491476,"discussion_content":"你好，你说的很对，元数据中心本身是一个偏实现层的产品，领导其实根本就不关心是否存在这样的一个数据中台的底层。\n\n但是数据地图，是元数据中心的界面，通过数据地图，领导可以看到数据中台的统一元数据视图，另外，结合数据地图的使用频率、使用范围，可以凸显数据地图的价值。\n\n数据地图在设计时，一方面他的使用对象是数据开发，另外一方面，他的使用对象又是业务人员。让业务人员感受到数据地图的价值，主要是能够让业务人员搜索指标、数据报表，帮助他们快速找到自己想要的数据。无论是数据表，还是数据报表，还是指标，都能够通过数据地图进行搜索和导览。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586700170,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":247946,"user_name":"Geek_0168a2","can_delete":false,"product_type":"c1","uid":1585092,"ip_address":"","ucode":"2D3F17B775FEB2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLqDHFficypYolzgcHRGnFt3YEt68TWmc6GTJl2RMckyIicibictXrLfIVOyMJC0mbdo3Hzr5ibibpEYViaQ/132","comment_is_top":false,"comment_ctime":1599927960,"is_pvip":false,"replies":[{"id":"91836","content":"感谢你的认可，你说的是对的，尤其是任务还没执行的时候，没有血缘生成，这个时候，需要依靠静态血缘~","user_name":"作者回复","comment_id":247946,"uid":"1319022","ip_address":"","utype":1,"ctime":1601380220,"user_name_real":"郭忆"}],"discussion_count":1,"race_medal":0,"score":"10189862552","product_id":100049101,"comment_content":"高老师，听了你的这课，简直是如梦初醒啊，自己辛苦一个月搞出来的元数据管理的平台，架构设计真的很缺少前瞻性，前期技术调研也不充分,有现成的开源的数据字典和数据血缘组件可以借鉴，缺忽略了。而且组织架构设计也不合理，大数据组件维护和使用也是人为的割裂的，各管一摊。元数据管理很不顺滑。<br>另外您说的 血缘采集的优势场景 ，应该是 任务挂调度时，确定该任务的上下游关系比较有优势吧，个人看法，希望老师给指正。","like_count":2,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505535,"discussion_content":"感谢你的认可，你说的是对的，尤其是任务还没执行的时候，没有血缘生成，这个时候，需要依靠静态血缘~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601380220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":244514,"user_name":"电光火石","can_delete":false,"product_type":"c1","uid":1013160,"ip_address":"","ucode":"3AD33BB4AA940F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/a8/dfe4cade.jpg","comment_is_top":false,"comment_ctime":1598544971,"is_pvip":false,"replies":[{"id":"90679","content":"你好，感谢你的提问，我来回答一下你的提问。<br><br>1. 第一个问题没太明白，数据中台团队，维护了公共数据层以及数据中台产出的集市层和应用层模型。其他分析师团队，会基于数据中台产出的模型，构建数据报表。数据中台管理的模型，是通过分层的方式来管理的。非中台管理的模型，原则上如果是临时表，应该是要过期删除的，固化下来的应该属于应用层。<br><br>2. 不是通过手工维护的，这个根本维护不过来。我们是通过Spark&#47;Hive提供的Listener&#47;Hook机制，获取执行计划中的input&#47;output table拿到执行时血缘实现的。这个好处在于，第一个，spark代码，MR代码也可以拿到。另外，执行引擎本身会对SQL做一些优化，有一些虽然from里面有这个表，但是实际没用到这个表，执行引擎的优化器会自动优化掉，如果你靠解析SQL的方式去获取血缘，那这部分是不准确的脏血缘。<br><br>3. 一般，我们不太建议多层嵌套的json，建议扁平化处理。多层嵌套不好维护。<br><br>希望我的回答对你所帮助~","user_name":"作者回复","comment_id":244514,"uid":"1319022","ip_address":"","utype":1,"ctime":1599477600,"user_name_real":"郭忆"}],"discussion_count":1,"race_medal":0,"score":"10188479563","product_id":100049101,"comment_content":"老师，关于数据分层和血缘有几个问题请教一下：<br>1. 我们数据开发做etl，根据数仓进行分层设计。同时，也会有一些模型的同学，在上面跑模型，得到分析结果，并且提供给应用使用，这部分数据，现在我们是放在ads层，不知道这部分模型跑出的结果数据是否要通过数仓的分层管理？<br>2. 如果上面这部分也要管理的话，血缘怎么处理，因为我看一般是通过sql来做分析，建立血缘，如果是模型的话，一般都是代码，比较难自动分析血缘，那是通过手动的方式添加吗？<br>3. 在建立元数据的时候，我们有些数据比较复杂，有些数据类型是一个json，而且是多个层次，这样的数据是把它全部转换出来，还是就记录成json字段类型呢？<br>谢谢！","like_count":2,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504613,"discussion_content":"你好，感谢你的提问，我来回答一下你的提问。\n\n1. 第一个问题没太明白，数据中台团队，维护了公共数据层以及数据中台产出的集市层和应用层模型。其他分析师团队，会基于数据中台产出的模型，构建数据报表。数据中台管理的模型，是通过分层的方式来管理的。非中台管理的模型，原则上如果是临时表，应该是要过期删除的，固化下来的应该属于应用层。\n\n2. 不是通过手工维护的，这个根本维护不过来。我们是通过Spark/Hive提供的Listener/Hook机制，获取执行计划中的input/output table拿到执行时血缘实现的。这个好处在于，第一个，spark代码，MR代码也可以拿到。另外，执行引擎本身会对SQL做一些优化，有一些虽然from里面有这个表，但是实际没用到这个表，执行引擎的优化器会自动优化掉，如果你靠解析SQL的方式去获取血缘，那这部分是不准确的脏血缘。\n\n3. 一般，我们不太建议多层嵌套的json，建议扁平化处理。多层嵌套不好维护。\n\n希望我的回答对你所帮助~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599477600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":219491,"user_name":"0xFFFFFFFF","can_delete":false,"product_type":"c1","uid":1110672,"ip_address":"","ucode":"E06B669AF2DD0D","user_header":"https://static001.geekbang.org/account/avatar/00/10/f2/90/e3e19c6e.jpg","comment_is_top":false,"comment_ctime":1590032130,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"10179966722","product_id":100049101,"comment_content":"另外老师有了解LinkedIn的Datahub(https:&#47;&#47;github.com&#47;linkedin&#47;datahub)吗? 如果了解的话，能介绍下和metacat的区别么","like_count":2,"discussions":[{"author":{"id":1088710,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/c6/05a6798f.jpg","nickname":"苗","note":"","ucode":"5ECCC6C855E541","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323711,"discussion_content":"datahub还不支持字段级别的血缘，文档案例也不多","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1604985371,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1652782,"avatar":"https://static001.geekbang.org/account/avatar/00/19/38/2e/6665e64a.jpg","nickname":"🎾🎾🎾🎾🎾","note":"","ucode":"F4ECDB1ACCEDE1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312520,"discussion_content":"同问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602727221,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1081059,"avatar":"https://static001.geekbang.org/account/avatar/00/10/7e/e3/e87db3c0.jpg","nickname":"Cobol","note":"","ucode":"A885F09D313A26","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290378,"discussion_content":"同问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594453091,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":215628,"user_name":"zhangdi","can_delete":false,"product_type":"c1","uid":1005445,"ip_address":"","ucode":"7B548E50620B8A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJlmPfHSQs6w0VTkCl9OpxLGxib18R6qxqKpcRbYviaXj71fnhpKFgeqew5K47WELm1lJ7dEFJPHPMg/132","comment_is_top":false,"comment_ctime":1589035562,"is_pvip":false,"replies":[{"id":"79989","content":"我用Visio画的，编辑小姐姐用keynote 重新编辑的哈！","user_name":"作者回复","comment_id":215628,"uid":"1319022","ip_address":"","utype":1,"ctime":1589209302,"user_name_real":"郭忆"}],"discussion_count":1,"race_medal":0,"score":"10178970154","product_id":100049101,"comment_content":"想请教下老师 文章中的图表是用哪个工具做出来的？很喜欢这种手写风格","like_count":2,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494501,"discussion_content":"我用Visio画的，编辑小姐姐用keynote 重新编辑的哈！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589209302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205724,"user_name":"杨柳","can_delete":false,"product_type":"c1","uid":1242767,"ip_address":"","ucode":"B9D92733544B10","user_header":"https://static001.geekbang.org/account/avatar/00/12/f6/8f/f96fe903.jpg","comment_is_top":false,"comment_ctime":1586711029,"is_pvip":false,"replies":[{"id":"77360","content":"网易元数据中心是自研的，中小企业，可以先尝试用metacate或者atlas，作为起步。但是想要用的好，还是得做一些改造。","user_name":"作者回复","comment_id":205724,"uid":"1319022","ip_address":"","utype":1,"ctime":1587007080,"user_name_real":"郭忆"}],"discussion_count":1,"race_medal":0,"score":"10176645621","product_id":100049101,"comment_content":"网易的元数据中心是完全自研的吗？中小型企业自建元数据中心是推荐在MetaCat或者Atlas上改还是自研呢？","like_count":2,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491569,"discussion_content":"网易元数据中心是自研的，中小企业，可以先尝试用metacate或者atlas，作为起步。但是想要用的好，还是得做一些改造。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587007080,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205340,"user_name":"aof","can_delete":false,"product_type":"c1","uid":1062864,"ip_address":"","ucode":"5815D63C4926BC","user_header":"https://static001.geekbang.org/account/avatar/00/10/37/d0/26975fba.jpg","comment_is_top":false,"comment_ctime":1586595035,"is_pvip":false,"replies":[{"id":"76850","content":"你好，其实这个问题，没有办法给出一个统一的标准答案，因为不同企业的业务复杂度，数据应用的水平、建设水平差异都很大。<br><br>我会在专栏第13节介绍网易电商数据中台项目从立项到实施的完成过程，可以给你一定的参考。<br><br>但是我要多说一句，既然问到这个问题，很可能就是你在担心数据中台建设，前期需要投入很多的资源。而我的建议是，数据中台的建设可以采取滚雪球的方式，逐步以场景化的方式落地。这样既可以控制前期的资源投入风险，又可以保证数据中台有一些阶段性成果的输出。<br><br>感谢你的阅读，期待你在留言区再次与我互动~","user_name":"作者回复","comment_id":205340,"uid":"1319022","ip_address":"","utype":1,"ctime":1586700754,"user_name_real":"郭忆"}],"discussion_count":1,"race_medal":0,"score":"10176529627","product_id":100049101,"comment_content":"郭老师，您觉得不同规模的企业，构建一个数据中台大概需要多少人手和多久时间？","like_count":2,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491451,"discussion_content":"你好，其实这个问题，没有办法给出一个统一的标准答案，因为不同企业的业务复杂度，数据应用的水平、建设水平差异都很大。\n\n我会在专栏第13节介绍网易电商数据中台项目从立项到实施的完成过程，可以给你一定的参考。\n\n但是我要多说一句，既然问到这个问题，很可能就是你在担心数据中台建设，前期需要投入很多的资源。而我的建议是，数据中台的建设可以采取滚雪球的方式，逐步以场景化的方式落地。这样既可以控制前期的资源投入风险，又可以保证数据中台有一些阶段性成果的输出。\n\n感谢你的阅读，期待你在留言区再次与我互动~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586700754,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205285,"user_name":"张战文","can_delete":false,"product_type":"c1","uid":1953023,"ip_address":"","ucode":"A32AFE92C2EAE0","user_header":"https://static001.geekbang.org/account/avatar/00/1d/cc/ff/4fbf3245.jpg","comment_is_top":false,"comment_ctime":1586583208,"is_pvip":false,"replies":[{"id":"76853","content":"好啊，数据中台与业务结合更紧密，具备行业属性，因为网易业务比较多元化，所以我们做过电商、在线音乐、新闻、在线教育等行业，对外也做过零售、物流、农业、制造业等行业，希望能够有更多的行业实践~","user_name":"作者回复","comment_id":205285,"uid":"1319022","ip_address":"","utype":1,"ctime":1586701057,"user_name_real":"郭忆"}],"discussion_count":2,"race_medal":0,"score":"10176517800","product_id":100049101,"comment_content":"郭老师我听了您数据中台实战课，我们单位有需求且量比较大，能军民融合一下么？特别需要您的指点","like_count":2,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491441,"discussion_content":"好啊，数据中台与业务结合更紧密，具备行业属性，因为网易业务比较多元化，所以我们做过电商、在线音乐、新闻、在线教育等行业，对外也做过零售、物流、农业、制造业等行业，希望能够有更多的行业实践~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586701057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1953023,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/cc/ff/4fbf3245.jpg","nickname":"张战文","note":"","ucode":"A32AFE92C2EAE0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":230754,"discussion_content":"郭老师怎么联系到您？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586769022,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204844,"user_name":"Terry郑💫","can_delete":false,"product_type":"c1","uid":1112796,"ip_address":"","ucode":"8A032B32396EC3","user_header":"https://static001.geekbang.org/account/avatar/00/10/fa/dc/d19b01d9.jpg","comment_is_top":false,"comment_ctime":1586481925,"is_pvip":true,"replies":[{"id":"76613","content":"你好，你所指的真实性是指什么？ <br><br>能有一个具体的例子么？ <br><br>因为在文章中，我也提到元数据中心，管理了所有数据中台的元数据，所有系统都与元数据中心打通，把元数据的管理入口都收归到元数据中心，可以确保元数据的一致。<br><br>期待与你再次在留言区相遇~","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1586514005,"ip_address":"","comment_id":204844,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10176416517","product_id":100049101,"comment_content":"这一期录音频真是辛苦老师了，哈哈。<br>老师有一个问题想请教下，元数据的初始真实性您在实战中是如何解决的呢。","like_count":2,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491305,"discussion_content":"你好，你所指的真实性是指什么？ \n\n能有一个具体的例子么？ \n\n因为在文章中，我也提到元数据中心，管理了所有数据中台的元数据，所有系统都与元数据中心打通，把元数据的管理入口都收归到元数据中心，可以确保元数据的一致。\n\n期待与你再次在留言区相遇~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586514005,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204818,"user_name":"臧洪友","can_delete":false,"product_type":"c1","uid":1197645,"ip_address":"","ucode":"99D232D545135C","user_header":"https://static001.geekbang.org/account/avatar/00/12/46/4d/3baeb97a.jpg","comment_is_top":false,"comment_ctime":1586479363,"is_pvip":false,"replies":[{"id":"76619","content":"元数据中心的建设，对于数据字典中直连数据源获取元数据的数据源，以及数据血缘部分，工具落地就可以统一收集到元数据。<br><br>但是对于数据特征，尤其是指标、维度标签，这部分是需要数据开发实施介入的，需要进行规范化梳理，一个表，哪些字段是指标，哪些字段是维度，这些不是工具落地就可以自动获取的。<br><br>感谢你的阅读，期待与你在留言区再次互动~","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1586514689,"ip_address":"","comment_id":204818,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10176413955","product_id":100049101,"comment_content":"郭老师,您好,元数据中心建设,是否可以理解主要以元数据管理工具进行落地,只是需要配置,就可以实现呢?还是需要有相关的代码开发的工作,才能落地元数据中心的建设?","like_count":3,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491297,"discussion_content":"元数据中心的建设，对于数据字典中直连数据源获取元数据的数据源，以及数据血缘部分，工具落地就可以统一收集到元数据。\n\n但是对于数据特征，尤其是指标、维度标签，这部分是需要数据开发实施介入的，需要进行规范化梳理，一个表，哪些字段是指标，哪些字段是维度，这些不是工具落地就可以自动获取的。\n\n感谢你的阅读，期待与你在留言区再次互动~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586514689,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1699740,"avatar":"https://static001.geekbang.org/account/avatar/00/19/ef/9c/9ba9dd72.jpg","nickname":"王芳","note":"","ucode":"C07049B7BE677A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":270944,"discussion_content":"老师，如果一个表的字段既不是指标，又不是维度，该如何处理呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590070192,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329372,"user_name":"希言自然","can_delete":false,"product_type":"c1","uid":1736720,"ip_address":"","ucode":"8D99A82B05636B","user_header":"https://static001.geekbang.org/account/avatar/00/1a/80/10/2406a662.jpg","comment_is_top":false,"comment_ctime":1641304515,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5936271811","product_id":100049101,"comment_content":"什么情况下利用静态SQL解析血缘，我谈谈我的看法：当我们i已经有一个数仓系统，现在想要在数仓旁边搭建一个中台系统，来管理元数据以及元数据的质量时，就可以用静态SQL解析的方式来做元数据的血缘分析了。因为接入数仓的方式都是通过IF形式，而这些IF的SQL都不会在运行时发生改变，所以静态解析最为合适。节省了动态解析运行时SQL的频率、效率，同时还能降低故障发生概率。不知道是不是理解的正确，期待老师的点评。","like_count":1},{"had_liked":false,"id":321427,"user_name":"青蛙叫","can_delete":false,"product_type":"c1","uid":2034925,"ip_address":"","ucode":"1554903603ADE1","user_header":"https://static001.geekbang.org/account/avatar/00/1f/0c/ed/214dd398.jpg","comment_is_top":false,"comment_ctime":1636872483,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5931839779","product_id":100049101,"comment_content":"看完了，就是不知咋实践到现有项目上。。。","like_count":1},{"had_liked":false,"id":296133,"user_name":"Geek_445cb9","can_delete":false,"product_type":"c1","uid":2638636,"ip_address":"","ucode":"1B6E52F4B22F9D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJjMATVMkxIFDicuv54APpEVsZ10icAtk526MJyFXZhsmcYEvxIHKFuyYIlKOYdnoCHN6J2Qa2JM3Jg/132","comment_is_top":false,"comment_ctime":1622773668,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5917740964","product_id":100049101,"comment_content":"郭老师，听了你的课很有感触，学习到了很多东西，我本身是才转的数据产品经理所以想问一些基础的问题，希望郭老师理解。我想知道数据血缘这块在前端页面上是怎么展示的呢，我能理解表、字段的血缘，但是一怎么样的展示方式才能让业务人员能够一目了然我还没想清楚。","like_count":1},{"had_liked":false,"id":272140,"user_name":"咸鱼","can_delete":false,"product_type":"c1","uid":1582528,"ip_address":"","ucode":"1DFFD77DC40641","user_header":"https://static001.geekbang.org/account/avatar/00/18/25/c0/70e822e9.jpg","comment_is_top":false,"comment_ctime":1609945705,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5904913001","product_id":100049101,"comment_content":"郭老师，你好，我现在正在负责数据中台的建设，我想问问，数据地图，是什么工具？名字叫什么？市面上有没有好用的开源的产品推荐，谢谢！","like_count":1},{"had_liked":false,"id":244713,"user_name":"电光火石","can_delete":false,"product_type":"c1","uid":1013160,"ip_address":"","ucode":"3AD33BB4AA940F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/75/a8/dfe4cade.jpg","comment_is_top":false,"comment_ctime":1598628041,"is_pvip":false,"replies":[{"id":"90674","content":"这个插件是自己开发的，通过获取运行时的执行计划，获取执行计划中input和output，拿到表的输入和输出数据，然后建立关联关系。但是Hive，MR，Spark都留有相应的接口可以实现。","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1599477059,"ip_address":"","comment_id":244713,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5893595337","product_id":100049101,"comment_content":"在分析血缘时，在运行时，hadoop client和Spark client也可以通过Plugin的方式获取到输入表和输出表的关系，这个有开源产品吗，还是要自己来做？","like_count":1,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504675,"discussion_content":"这个插件是自己开发的，通过获取运行时的执行计划，获取执行计划中input和output，拿到表的输入和输出数据，然后建立关联关系。但是Hive，MR，Spark都留有相应的接口可以实现。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599477059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":244088,"user_name":"唐永军","can_delete":false,"product_type":"c1","uid":1352737,"ip_address":"","ucode":"F4879648F85B8B","user_header":"https://static001.geekbang.org/account/avatar/00/14/a4/21/fda2ae09.jpg","comment_is_top":false,"comment_ctime":1598400799,"is_pvip":false,"replies":[{"id":"90675","content":"在第9章“数据服务到底解决了什么问题？”中有讲哈。数据服务的核心，在于数据通过服务化的方式对外提供数据，而不是直接暴漏表，好处在第9节内容中有讲哈，欢迎阅读~ 有问题再找我交流~","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1599477168,"ip_address":"","comment_id":244088,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5893368095","product_id":100049101,"comment_content":"郭老师，您刚才讲的元数据非常的细，都可以直接拿过来用了。非常的感谢。这块应该算是OneData.有机会您讲一下OneSetvice了。","like_count":1,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504475,"discussion_content":"在第9章“数据服务到底解决了什么问题？”中有讲哈。数据服务的核心，在于数据通过服务化的方式对外提供数据，而不是直接暴漏表，好处在第9节内容中有讲哈，欢迎阅读~ 有问题再找我交流~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599477168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243442,"user_name":"风轻云淡","can_delete":false,"product_type":"c1","uid":1495190,"ip_address":"","ucode":"95C3FC7D3DACCF","user_header":"https://static001.geekbang.org/account/avatar/00/16/d0/96/c8cb7862.jpg","comment_is_top":false,"comment_ctime":1598108744,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5893076040","product_id":100049101,"comment_content":"老师，你好。自助取数和即席查询、多维分析这些有啥区别呀？","like_count":1},{"had_liked":false,"id":239108,"user_name":"永健_何","can_delete":false,"product_type":"c1","uid":1271918,"ip_address":"","ucode":"7746F1B2A7542A","user_header":"https://static001.geekbang.org/account/avatar/00/13/68/6e/eb079ed7.jpg","comment_is_top":false,"comment_ctime":1596437573,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5891404869","product_id":100049101,"comment_content":"老师，你好。我最近刚接触atlas并通过开源的atlas进行平台的元数据管理，但将atlas服务集成到平台后（平台组件的元数据信息都写入到atlas中，并提供查询功能），发现有点跟平台脱离，就是没有启到文中所描述的核心地位，老师能在这块给一点建议吗，让atlas把元数据管理这块发挥更广的价值，谢谢了老师","like_count":1,"discussions":[{"author":{"id":1088710,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/c6/05a6798f.jpg","nickname":"苗","note":"","ucode":"5ECCC6C855E541","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":321370,"discussion_content":"你好，能交流一下吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604571417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":213930,"user_name":"Sandflass","can_delete":false,"product_type":"c1","uid":1917246,"ip_address":"","ucode":"7B75396EEC92B5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLCVPh0bcCMJAwtxBx0cCLlkqB9NckSp3I0LYSTlRezuRV0gpXGB0BCZbFDpvLbhBbzsk8cHvczZ7g/132","comment_is_top":false,"comment_ctime":1588591511,"is_pvip":false,"replies":[{"id":"80222","content":"你好，元数据中心并不维护元数据，但是为了对外提供查询的服务，会同步元数据到ES中，然后标签也会存在ES中，与表建立关联。<br><br>感谢你的提问~祝好~","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1589371019,"ip_address":"","comment_id":213930,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5883558807","product_id":100049101,"comment_content":"老师，您提到元数据中心本身不管理元数据，不存储元数据信息，但又提到给元数据打标签的场景，那打上这些标签是在哪个环节进行呢？标签与元数据的关联关系又存储在哪里呢？比较困惑，希望给予解答，谢谢！","like_count":1,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493903,"discussion_content":"你好，元数据中心并不维护元数据，但是为了对外提供查询的服务，会同步元数据到ES中，然后标签也会存在ES中，与表建立关联。\n\n感谢你的提问~祝好~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589371019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212875,"user_name":"外星人","can_delete":false,"product_type":"c1","uid":1060406,"ip_address":"","ucode":"4DB01CAE332F02","user_header":"https://static001.geekbang.org/account/avatar/00/10/2e/36/10a11413.jpg","comment_is_top":false,"comment_ctime":1588230278,"is_pvip":false,"replies":[{"id":"80226","content":"源数据结构变更，ods和dwd 需要处理是否要表结构变更，同时历史数据层面，需要数据开发来判断是否需要调整数据计算逻辑，一般来说，源系统数据结构变更，并不影响历史数据，只会影响新的数据计算过程。<br><br>感谢你的提问~","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1589371654,"ip_address":"","comment_id":212875,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5883197574","product_id":100049101,"comment_content":"老师好，有一个问题想请教下，如果源数据数据结构变更（增加&#47;修改&#47;删除字段），ods、dwd等的历史数据怎么处理？有自动处理的方案，还是手动的全流程修改所有数据？谢谢","like_count":1,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493635,"discussion_content":"源数据结构变更，ods和dwd 需要处理是否要表结构变更，同时历史数据层面，需要数据开发来判断是否需要调整数据计算逻辑，一般来说，源系统数据结构变更，并不影响历史数据，只会影响新的数据计算过程。\n\n感谢你的提问~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589371654,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212569,"user_name":"许友昌000","can_delete":false,"product_type":"c1","uid":1003289,"ip_address":"","ucode":"39A005E9748477","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4f/19/414a016a.jpg","comment_is_top":false,"comment_ctime":1588151906,"is_pvip":false,"replies":[{"id":"79007","content":"你好哈~ 我们没有直接使用metacat，我们的元数据中心是自己实现的，但是参考了metacat的设计实现。metacat 外面也有直接用的公司。<br><br>感谢你的阅读~","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1588161919,"ip_address":"","comment_id":212569,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5883119202","product_id":100049101,"comment_content":"听完这节课去试了一下 metacat ，但是官方几乎没什么说明文档，想问一下网易那边是怎么利用 metacat 的？用的公司多吗？","like_count":1,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493548,"discussion_content":"你好哈~ 我们没有直接使用metacat，我们的元数据中心是自己实现的，但是参考了metacat的设计实现。metacat 外面也有直接用的公司。\n\n感谢你的阅读~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588161919,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":209200,"user_name":"琦琦","can_delete":false,"product_type":"c1","uid":1809265,"ip_address":"","ucode":"B2B3A785B123F6","user_header":"https://static001.geekbang.org/account/avatar/00/1b/9b/71/6a0e5d16.jpg","comment_is_top":false,"comment_ctime":1587519230,"is_pvip":false,"replies":[{"id":"79006","content":"看一下isElasticSearchEnabled参数","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1588161828,"ip_address":"","comment_id":209200,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5882486526","product_id":100049101,"comment_content":"郭老师，metacat官网上说有数据发现功能会把数据发送到elasticearch 上，他这个发现是通过定时去拿那些数据源中元数据的信息吗？我在自己电脑上启动metacat服务，数据源，以及elasticsearch.，但是并没有发现元数据同步到es中，请问是我配置出问题了还是什么原因","like_count":1,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492737,"discussion_content":"看一下isElasticSearchEnabled参数","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588161828,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1207177,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6b/89/10fad700.jpg","nickname":"Jupiter","note":"","ucode":"7BA8A60E7834CB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284263,"discussion_content":"想问下matecat有前端页面吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592486901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206594,"user_name":"尹英順","can_delete":false,"product_type":"c1","uid":1099637,"ip_address":"","ucode":"455DE0B1A7DABB","user_header":"https://static001.geekbang.org/account/avatar/00/10/c7/75/0026ddfb.jpg","comment_is_top":false,"comment_ctime":1586906162,"is_pvip":false,"replies":[{"id":"77348","content":"Oracle，MySQL 的元数据，元数据本身并不会定义，他们本身在数据库里面就有表结构信息，元数据中心会直连这些数据源，然后同步到ES，支撑检索。<br><br>Hive 的元数据在metastore里面，元数据中心也会定期同步到ES里面检索。<br><br>对于HBase比较特殊，因为HBase是Key-Value，本身并没有对value里面的每个字段进行定义格式。所以元数据中心中会有一个nest meta，可以定义HBase的元数据信息。<br><br>感谢你的阅读~","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1587005335,"ip_address":"","comment_id":206594,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5881873458","product_id":100049101,"comment_content":"郭老师你好！请教个问题，oracle,mysql,hive,hbase等等，他们的元数据分别存储在哪些表？","like_count":1,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491837,"discussion_content":"Oracle，MySQL 的元数据，元数据本身并不会定义，他们本身在数据库里面就有表结构信息，元数据中心会直连这些数据源，然后同步到ES，支撑检索。\n\nHive 的元数据在metastore里面，元数据中心也会定期同步到ES里面检索。\n\n对于HBase比较特殊，因为HBase是Key-Value，本身并没有对value里面的每个字段进行定义格式。所以元数据中心中会有一个nest meta，可以定义HBase的元数据信息。\n\n感谢你的阅读~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587005335,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206101,"user_name":"千年准一会","can_delete":false,"product_type":"c1","uid":1050791,"ip_address":"","ucode":"B6F1E663FEBBF0","user_header":"","comment_is_top":false,"comment_ctime":1586787224,"is_pvip":false,"replies":[{"id":"77353","content":"你好，元数据中心并不会管理这些DB、Hive的元数据，但是为了方便快速的查询，会把DB和Hive的元数据同步一份到ES中，基于ES提供给数据地图进行检索。<br><br>感谢你的阅读~ ","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1587006256,"ip_address":"","comment_id":206101,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5881754520","product_id":100049101,"comment_content":"采取直连的方式固然是可以减少维护元数据的麻烦，但请问是怎么解决跨数据源搜索的问题呢？","like_count":1,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491670,"discussion_content":"你好，元数据中心并不会管理这些DB、Hive的元数据，但是为了方便快速的查询，会把DB和Hive的元数据同步一份到ES中，基于ES提供给数据地图进行检索。\n\n感谢你的阅读~ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587006256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1111870,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK2Az5uTh9ZGVA7yQCj1BXtXuicPRkvJicA97AoN9xX3bnPcUYglTMXJeZeoVbPQeJA7ICvQhR3KQ0w/132","nickname":"日不落帝国","note":"","ucode":"6A11ABBD8AC438","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":234761,"discussion_content":"同问","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586998333,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205410,"user_name":"Robbin","can_delete":false,"product_type":"c1","uid":1955190,"ip_address":"","ucode":"5AD0A026F6E934","user_header":"https://static001.geekbang.org/account/avatar/00/1d/d5/76/fe78c4bf.jpg","comment_is_top":false,"comment_ctime":1586611361,"is_pvip":false,"replies":[{"id":"76849","content":"你好，你是指的数据字典中字段级别的业务元数据信息？ 有的数据库中，并没有相关的commet描述，或者comment 不适合查看，此时可以通过标签的形式，作为一种特定类型的标签，关联到表的字段中。<br><br>本身这个梳理的工作是跑不掉的，但是也可以采取用到的时候再补充，数据源是数据集成阶段登记到数据中台的元数据中心中，此时再梳理补充，并不需要一口气全部补充完整。","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1586700354,"ip_address":"","comment_id":205410,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5881578657","product_id":100049101,"comment_content":"对于静态数据结构、动态血缘分析这种可以通过工具采集，但是数据库中没有中文，是否还是需要人工梳理录入登记？这个工作量也不小了。","like_count":1,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491474,"discussion_content":"你好，你是指的数据字典中字段级别的业务元数据信息？ 有的数据库中，并没有相关的commet描述，或者comment 不适合查看，此时可以通过标签的形式，作为一种特定类型的标签，关联到表的字段中。\n\n本身这个梳理的工作是跑不掉的，但是也可以采取用到的时候再补充，数据源是数据集成阶段登记到数据中台的元数据中心中，此时再梳理补充，并不需要一口气全部补充完整。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586700354,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204962,"user_name":"summer","can_delete":false,"product_type":"c1","uid":1857933,"ip_address":"","ucode":"D3B6E73D4EB4CD","user_header":"https://static001.geekbang.org/account/avatar/00/1c/59/8d/b5406e81.jpg","comment_is_top":false,"comment_ctime":1586501105,"is_pvip":false,"replies":[{"id":"76862","content":"其实，主要是解决SQL还没有执行过，没有血缘产生，而此时又需要用到血缘的场景~<br><br>感谢你的阅读，期待与你在留言区再次相遇~","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1586702549,"ip_address":"","comment_id":204962,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5881468401","product_id":100049101,"comment_content":"静态解析可以在任务开始之前提供给SQL开发者一些信息，如：上游表有问题、当前资源不足、已存在类似任务等信息，避免错误和资源浪费。<br>另外，提前统计也可以让数据中台开发者对任务量级有个预估","like_count":1,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491338,"discussion_content":"其实，主要是解决SQL还没有执行过，没有血缘产生，而此时又需要用到血缘的场景~\n\n感谢你的阅读，期待与你在留言区再次相遇~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586702549,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204951,"user_name":"咸蛋猫熊","can_delete":false,"product_type":"c1","uid":1044828,"ip_address":"","ucode":"B4C6954A5C89A2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f1/5c/7778cd1a.jpg","comment_is_top":false,"comment_ctime":1586499153,"is_pvip":true,"replies":[{"id":"76623","content":"你好，表的使用热度，是根据平台上调度运行的job和adhoc执行的query计算来的。<br><br>通过数据血缘，我们可以获取到表和任务、query的关联关系，然后可以计算这部分的引用热度。数据血缘是通过hive&#47;spark插件的方式获取的。<br><br>感谢你的交流，期待与你在留言区再次相遇~<br>","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1586515800,"ip_address":"","comment_id":204951,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5881466449","product_id":100049101,"comment_content":"请问下，元数据中心在项目运维中是怎么和调度系统结合的？ 比如表的使用热度等信息是基于什么指标进行判断的？","like_count":1,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491334,"discussion_content":"你好，表的使用热度，是根据平台上调度运行的job和adhoc执行的query计算来的。\n\n通过数据血缘，我们可以获取到表和任务、query的关联关系，然后可以计算这部分的引用热度。数据血缘是通过hive/spark插件的方式获取的。\n\n感谢你的交流，期待与你在留言区再次相遇~\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586515800,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":204831,"user_name":"张振华","can_delete":false,"product_type":"c1","uid":1201810,"ip_address":"","ucode":"292EFD886FC55A","user_header":"https://static001.geekbang.org/account/avatar/00/12/56/92/5cea89e6.jpg","comment_is_top":false,"comment_ctime":1586481179,"is_pvip":true,"replies":[{"id":"76615","content":"metastore是有owner属性的，它可以作为表的负责人角色。<br><br>另外，对于非hive表，负责人可以作为一种类型的标签，和表建立关联。<br><br>期待与你下一次在留言区互动~","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1586514327,"ip_address":"","comment_id":204831,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5881448475","product_id":100049101,"comment_content":"表字段信息是实时采集的，像表负责人这些信息怎么关联上的？","like_count":1,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491301,"discussion_content":"metastore是有owner属性的，它可以作为表的负责人角色。\n\n另外，对于非hive表，负责人可以作为一种类型的标签，和表建立关联。\n\n期待与你下一次在留言区互动~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586514327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1201810,"avatar":"https://static001.geekbang.org/account/avatar/00/12/56/92/5cea89e6.jpg","nickname":"张振华","note":"","ucode":"292EFD886FC55A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":228547,"discussion_content":"老师，对于sqlserver或者oracle这种数据源怎么办？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586560076,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351639,"user_name":"Geek_f6127b","can_delete":false,"product_type":"c1","uid":1582992,"ip_address":"","ucode":"CA6613EFDDA0E9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epRstZOx9oC1wO0tcbDSfT5HYlic1To0SEmIO8CO7ZOPEGZmVIeWKQTLHPDq2DAUCzyfcmy8Fk8lpw/132","comment_is_top":false,"comment_ctime":1658034890,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1658034890","product_id":100049101,"comment_content":"郭老师您好，我想问一下基于标签的权限管理，如何把标签和使用人员关联起来的？也就是说一类标签表授权给用户A ，那么这两者之间的关系如何保存的？也是保存在元数据中心里面吗？","like_count":0},{"had_liked":false,"id":345970,"user_name":"希言自然","can_delete":false,"product_type":"c1","uid":1736720,"ip_address":"","ucode":"8D99A82B05636B","user_header":"https://static001.geekbang.org/account/avatar/00/1a/80/10/2406a662.jpg","comment_is_top":false,"comment_ctime":1652744542,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652744542","product_id":100049101,"comment_content":"回过头来，再来看老师的课程，发现并没有介绍元数据的采集方式。对于多数据源如何采集元数据，老师能否帮忙补充下啊~","like_count":0},{"had_liked":false,"id":339302,"user_name":"尹口原一","can_delete":false,"product_type":"c1","uid":1246887,"ip_address":"","ucode":"870D62509F8D5E","user_header":"https://static001.geekbang.org/account/avatar/00/13/06/a7/27b08dc8.jpg","comment_is_top":false,"comment_ctime":1648028276,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648028276","product_id":100049101,"comment_content":"数据字典如果不在元数据中心存储，那相关的关于表或字段的描述信息如果原系统中没有，是不是在数据地图的展现界面中也就没有相应信息了？","like_count":0},{"had_liked":false,"id":336278,"user_name":"镜子中间","can_delete":false,"product_type":"c1","uid":1463674,"ip_address":"","ucode":"21673BD6CC41F4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/qsmAdOC3R3twep9xwiboiaNF6u3fk5jNZGibKrBuILKgyNMH0DAQMg3liaWQ7ntVAFGEBCg5uB9y9KdKrhD65TyGgQ/132","comment_is_top":false,"comment_ctime":1646046654,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646046654","product_id":100049101,"comment_content":"请问列级别的血缘关系是如何实现的呢？可以详细讲解一下吗？","like_count":0},{"had_liked":false,"id":335419,"user_name":"乔玉锦","can_delete":false,"product_type":"c1","uid":1888229,"ip_address":"","ucode":"BAC58BA6EEC525","user_header":"http://thirdwx.qlogo.cn/mmopen/uqaRIfRCAhIFR2KRVE2vYPoCU4nkIJjlEkpVNu9lEepYN18Yu0JIfInQo3cfHP8iaaZZMV3hDO2ecEzORxf1ia0R12w6icT57wt/132","comment_is_top":false,"comment_ctime":1645513328,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645513328","product_id":100049101,"comment_content":"郭老师好,有几个问题请教下：<br>例如MySQL这些常规的数据库没有统一管理元数据，那么<br>1、元数据检索如何快速查找数据，是到通过连接到各个源系统查找匹配么？<br>2、元数据模型设计覆盖到么，通过元数据平台设计数据模型，下发到业务系统？<br>3、元数据历史版本如何管理?","like_count":0},{"had_liked":false,"id":313046,"user_name":"Phoenix","can_delete":false,"product_type":"c1","uid":1923510,"ip_address":"","ucode":"305AADC0A79CA3","user_header":"https://static001.geekbang.org/account/avatar/00/1d/59/b6/b69611a4.jpg","comment_is_top":false,"comment_ctime":1632227357,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632227357","product_id":100049101,"comment_content":"老师好，我刚开始从事交易所元数据方面的工作，现在的一个难题是业务端的需求变更导致元数据中的字段频繁变更，开发端也要跟着改代码，再联测，时间成本巨大，我感觉这是设计数据模型时前瞻性不足导致的，请问有什么改善办法吗？","like_count":0},{"had_liked":false,"id":308092,"user_name":"Geek_76e38b","can_delete":false,"product_type":"c1","uid":2264651,"ip_address":"","ucode":"D468A05E75A58B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/d93icc3HaCnKibsCTt2CMYfcjRh1sobp0VTqofoxiaYZSU5vlD7ib0SukYibl1OpZicXTNKDhGd0RBLV2N9jDZtcOicPQ/132","comment_is_top":false,"comment_ctime":1629386749,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629386749","product_id":100049101,"comment_content":"初创公司就几个数据，还适合这个软件吗<br>","like_count":0},{"had_liked":false,"id":302253,"user_name":"fancyChuan","can_delete":false,"product_type":"c1","uid":1701740,"ip_address":"","ucode":"91531E0FA7AF5F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIdm9wHKKnSD9m1K4zl0abIZ8z1m7cpxK5iaVPAcibGO2DfpXBPm6GIVib5micpcH4Y1iauuSzTOicZek4g/132","comment_is_top":false,"comment_ctime":1626146941,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626146941","product_id":100049101,"comment_content":"郭老师好，听完这个课，我有个疑问。关于MetaCat通过直连元数据库的方式来避免版本不一致的问题，那在元数据管理场景中，不需要去管理元数据版本的差异么？比如业务系统上线前后，元数据发生了哪些变更，相对应会影响哪些数仓中的任务，这些不需要预警和管理么？期待老师的解答~","like_count":0},{"had_liked":false,"id":295856,"user_name":"Geek_445cb9","can_delete":false,"product_type":"c1","uid":2638636,"ip_address":"","ucode":"1B6E52F4B22F9D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJjMATVMkxIFDicuv54APpEVsZ10icAtk526MJyFXZhsmcYEvxIHKFuyYIlKOYdnoCHN6J2Qa2JM3Jg/132","comment_is_top":false,"comment_ctime":1622620503,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622620503","product_id":100049101,"comment_content":"老师，想问一下一个很小白的问题。关于血缘分析的第三种方法：“通过任务日志解析的方式，获取执行后的 SQL 输入表和输出表。”您文中提到由于时效性较差需要分析大量的任务日志数据，这是为什么呢？","like_count":0},{"had_liked":false,"id":290003,"user_name":"田同学","can_delete":false,"product_type":"c1","uid":2108158,"ip_address":"","ucode":"B2FADF38382ED6","user_header":"https://static001.geekbang.org/account/avatar/00/20/2a/fe/1e40ae73.jpg","comment_is_top":false,"comment_ctime":1619317152,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619317152","product_id":100049101,"comment_content":"郭老师您好，想请教下，您对于元数据是分为  数据字典，数据血缘，数据特征。网上查阅资料的时候经常会看到这样分类  技术元数据，业务元数据，管理元数据。<br><br>请问您对于元数据的治理是一个怎样的思路呢，为什么会是这样的分类方法呢<br><br>和我在网上查到的这种分类方式有什么区别和联系呢","like_count":1},{"had_liked":false,"id":283054,"user_name":"骑猪游世界","can_delete":false,"product_type":"c1","uid":2353174,"ip_address":"","ucode":"2DFAF36631574B","user_header":"https://static001.geekbang.org/account/avatar/00/23/e8/16/0b85d014.jpg","comment_is_top":false,"comment_ctime":1615532044,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615532044","product_id":100049101,"comment_content":"老师，你好！能讲解一下字段级别的数据血缘实现方式吗？比如一个数据模型的程序中又存在多个临时表（中间过程），怎么能做到字段级别解析呢？","like_count":0},{"had_liked":false,"id":282870,"user_name":"大鱼","can_delete":false,"product_type":"c1","uid":1020811,"ip_address":"","ucode":"1144A0E7EE3B8B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/93/8b/35fa42aa.jpg","comment_is_top":false,"comment_ctime":1615448312,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1615448312","product_id":100049101,"comment_content":"郭老师您好，数据字典是手动建的吗，如果不是手动建的，表的注释，字段的注释是怎么得到的？后期维护的吗？","like_count":0},{"had_liked":false,"id":282283,"user_name":"Geek_321e13","can_delete":false,"product_type":"c1","uid":1617271,"ip_address":"","ucode":"A54C9531C4F894","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/0qhP0dBESajdBSBibHOy9qndXlba9r1A2QBwFKHwjUXx70uPFmic8pxzUbR9Ksxs1yNnIDfu4nsQHibCpf8gEibIkQ/132","comment_is_top":false,"comment_ctime":1615186032,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1615186032","product_id":100049101,"comment_content":"郭老师，我在阿里的书中看到元数据的种类不仅仅包含数据字典、数据血缘和数据特征<br>还有一些运行元数据（yarn）、平台元数据（数据查询、t-collect、新建表工具等）、质量元数据（故障信息、任务监控等）<br>这些元数据怎么归类到我们的体系当中","like_count":0,"discussions":[{"author":{"id":1251905,"avatar":"https://static001.geekbang.org/account/avatar/00/13/1a/41/3d87f7ac.jpg","nickname":"橙生北国","note":"","ucode":"13E32479E111B7","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573829,"discussion_content":"你看的什么书？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653665020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":279934,"user_name":"滴滴滴","can_delete":false,"product_type":"c1","uid":1071409,"ip_address":"","ucode":"11FD0A6B79211B","user_header":"https://static001.geekbang.org/account/avatar/00/10/59/31/72a0e437.jpg","comment_is_top":false,"comment_ctime":1614006736,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1614006736","product_id":100049101,"comment_content":"请问业务表或者 ODS 层的表 的元信息属不属于元数据中心的管理范畴? 因为例子中都是 dws, dwd 的表, 感觉上来说 业务表或者 ODS 层也应该管理起来.","like_count":0},{"had_liked":false,"id":273406,"user_name":"罗霄","can_delete":false,"product_type":"c1","uid":1958414,"ip_address":"","ucode":"26EF4A5A33E744","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/lJu6F9jibXaRbt9MtGdiaa2E6Obdk8icCMymwhNScuJnvBwpvhk3EyPX7tOuiaBCkHwqms8vicAwqrKwka2Aj2DNKZQ/132","comment_is_top":false,"comment_ctime":1610589547,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610589547","product_id":100049101,"comment_content":"郭老师好，<br>1.想请问一下主题域的定义以及划分标准，不同的主题需要的指标可能是有交集的。<br>2.对于元数据既有hive也有mysql，oraclle,那对于mysql,oracle，不同数据源如何进行关联查询，最后还是要etl到hive吗","like_count":0},{"had_liked":false,"id":258862,"user_name":"苗","can_delete":false,"product_type":"c1","uid":1088710,"ip_address":"","ucode":"5ECCC6C855E541","user_header":"https://static001.geekbang.org/account/avatar/00/10/9c/c6/05a6798f.jpg","comment_is_top":false,"comment_ctime":1604569992,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604569992","product_id":100049101,"comment_content":"老师，我们公司现在有元数据管理方面的需求；感觉metacat文档很少，Atlas在功能上可以替代metacat吗？老师是否有微信群可以交流呢？","like_count":0},{"had_liked":false,"id":249739,"user_name":"junyicc","can_delete":false,"product_type":"c1","uid":2117874,"ip_address":"","ucode":"B912B0BEAA51E0","user_header":"https://static001.geekbang.org/account/avatar/00/20/50/f2/706705de.jpg","comment_is_top":false,"comment_ctime":1600775926,"is_pvip":false,"replies":[{"id":"91839","content":"你好，我来回答一下你的几个问题：<br>1. 主题域、表的分层信息，都是在元数据中心中，通过表的标签的方式维护的。<br><br>2. 相信第一个问题回答了，第二个问题应该不需要回答了，你应该已经懂啦。<br><br>3. metacat 没有实现标签的功能，我们会维护一个表和标签的映射关系，存储在元数据中心的数据库中。","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1601381091,"ip_address":"","comment_id":249739,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1600775926","product_id":100049101,"comment_content":"郭老师，您好，对于元数据中心该存哪些数据存在一些疑问，还望您能解答。<br>1. 问题：主题域、表分层等是数仓的概念，这些应该由元数据中心维护吗？<br>引用：第5讲有写“指标系统是基于元数据中心构建的一个指标管理工具，它从元数据中心自动同步数仓的主题域和业务过程，按照规范化定义创建指标。”<br><br>2. 问题：如果主题域、表分层不是由元数据中心维护，而是由其他模块，如数据地图维护，那怎么与表进行关联呢？场景举例：主题域存储在数据地图维护的数据库里，表、字段存储在元数据中心，数据地图需要查询某个主题域下有哪些表，或者列出一些表信息（带有主题域）；<br><br>3. 表、列等schema由connector实时从数据源获取，业务元数据维护在元数据本地数据库，那这两类数据是如何关联到一起？在metacat的源码中，没看到这部分的具体实现。","like_count":0,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506001,"discussion_content":"你好，我来回答一下你的几个问题：\n1. 主题域、表的分层信息，都是在元数据中心中，通过表的标签的方式维护的。\n\n2. 相信第一个问题回答了，第二个问题应该不需要回答了，你应该已经懂啦。\n\n3. metacat 没有实现标签的功能，我们会维护一个表和标签的映射关系，存储在元数据中心的数据库中。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601381091,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1061843,"avatar":"https://static001.geekbang.org/account/avatar/00/10/33/d3/30a89b21.jpg","nickname":"nick","note":"","ucode":"91263882076AC0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":572672,"discussion_content":"前面留言中不是说元数据中心的数据库不存储元数据信息，而是同步到ES，怎么这里又说元数据本地库","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652886927,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":506001,"ip_address":""},"score":572672,"extra":""}]}]},{"had_liked":false,"id":247870,"user_name":"御木沧海","can_delete":false,"product_type":"c1","uid":2177581,"ip_address":"","ucode":"08505DF8F1445C","user_header":"https://static001.geekbang.org/account/avatar/00/21/3a/2d/448b9b47.jpg","comment_is_top":false,"comment_ctime":1599898664,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599898664","product_id":100049101,"comment_content":"现实场景中有不少SQL是基于脚本、存储过程方式实现，SQL语句大而复杂，对于这种情况实现字段级血缘有什么好的建议。","like_count":0},{"had_liked":false,"id":228813,"user_name":"Jupiter","can_delete":false,"product_type":"c1","uid":1207177,"ip_address":"","ucode":"7BA8A60E7834CB","user_header":"https://static001.geekbang.org/account/avatar/00/12/6b/89/10fad700.jpg","comment_is_top":false,"comment_ctime":1592816410,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592816410","product_id":100049101,"comment_content":"请问下，metacat的话，有前端页面吗","like_count":0},{"had_liked":false,"id":227023,"user_name":"周源","can_delete":false,"product_type":"c1","uid":1019735,"ip_address":"","ucode":"C4792F4CA8C503","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8f/57/15e6ec1c.jpg","comment_is_top":false,"comment_ctime":1592268863,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592268863","product_id":100049101,"comment_content":"元数据中心设计中的数据标签与标签系统是什么关系？我们在设计标签的时候会有不同的标签类型(事实标签，规则标签等)对应具体的标签，标签系统中的标签都要沉淀到元数据中吗？","like_count":0},{"had_liked":false,"id":208828,"user_name":"胖子","can_delete":false,"product_type":"c1","uid":1037760,"ip_address":"","ucode":"E6371346288A87","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLIuRQaZX70dsBg6khub2VPM1eQAP9IWRWxgOFed3ia4kXyNJInFRicWJ0ibf2YmLsOvJa1sGygGpmJg/132","comment_is_top":false,"comment_ctime":1587445364,"is_pvip":false,"replies":[{"id":"78983","content":"你好，数据标准是指一条数据规范，包括数据的命名、数据的组织等等，概念比较大。元数据，就是指数据的字典、血缘、数据特征。<br><br>你说的标签是指业务标签还是元数据标签。我在04中提交，指标可以作为一种特定类型的标签，是指后者，元数据的标签。<br><br>现实中还存在一类业务标签，描述的是一个确定的数据集。这个标签在标签工厂中管理。<br><br>感谢你的阅读~","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1588158702,"ip_address":"","comment_id":208828,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587445364","product_id":100049101,"comment_content":"请问老师，1、数据标准与元数据的区别与联系？2、数字标签与指标如何区分？","like_count":0,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492640,"discussion_content":"你好，数据标准是指一条数据规范，包括数据的命名、数据的组织等等，概念比较大。元数据，就是指数据的字典、血缘、数据特征。\n\n你说的标签是指业务标签还是元数据标签。我在04中提交，指标可以作为一种特定类型的标签，是指后者，元数据的标签。\n\n现实中还存在一类业务标签，描述的是一个确定的数据集。这个标签在标签工厂中管理。\n\n感谢你的阅读~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588158702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207359,"user_name":"小熊","can_delete":false,"product_type":"c1","uid":1634686,"ip_address":"","ucode":"9E4CD1DA292076","user_header":"https://static001.geekbang.org/account/avatar/00/18/f1/7e/8925aba5.jpg","comment_is_top":false,"comment_ctime":1587054304,"is_pvip":false,"replies":[{"id":"77732","content":"感谢你的认可和鼓励，希望对你有所帮助~后面的内容会更加实用，相信会对你有所帮助~ 如果你在后面有问题，可以随时与我在留言区互动，我会第一时间回答你的问题。<br><br>感谢你的阅读，期待与你在留言区再次相遇~","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1587305803,"ip_address":"","comment_id":207359,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587054304","product_id":100049101,"comment_content":"内容不错，受教了","like_count":0,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492095,"discussion_content":"感谢你的认可和鼓励，希望对你有所帮助~后面的内容会更加实用，相信会对你有所帮助~ 如果你在后面有问题，可以随时与我在留言区互动，我会第一时间回答你的问题。\n\n感谢你的阅读，期待与你在留言区再次相遇~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587305803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206881,"user_name":"大鱼","can_delete":false,"product_type":"c1","uid":1020811,"ip_address":"","ucode":"1144A0E7EE3B8B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/93/8b/35fa42aa.jpg","comment_is_top":false,"comment_ctime":1586951324,"is_pvip":false,"replies":[{"id":"77274","content":"你好，这个示例确实有瑕疵哈，order_id 应该不是唯一键。在订单sku表中，一个商品包含多个sku，订单id会重复出现的。<br><br>感谢你的阅读~期待与你在留言区再次相遇。","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1586962413,"ip_address":"","comment_id":206881,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1586951324","product_id":100049101,"comment_content":"第一张dwd_trd_order_df 表里，订单ID不太可能是唯一值吧，一个订单多个sku。sku出现在这个表里，说明这是个明细表。","like_count":0,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491934,"discussion_content":"你好，这个示例确实有瑕疵哈，order_id 应该不是唯一键。在订单sku表中，一个商品包含多个sku，订单id会重复出现的。\n\n感谢你的阅读~期待与你在留言区再次相遇。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586962413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":234348,"discussion_content":"其实呢，还有一种实现的方式，如果一个订单里面包括多个sku，会拆成多个子订单方式实现。这种都是可以的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586963124,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205694,"user_name":"lansane","can_delete":false,"product_type":"c1","uid":1622278,"ip_address":"","ucode":"ADC71E637391FB","user_header":"https://static001.geekbang.org/account/avatar/00/18/c1/06/35a119a1.jpg","comment_is_top":false,"comment_ctime":1586703620,"is_pvip":false,"replies":[{"id":"77771","content":"你好，通过这篇文章，你可以看到，我们采取了直连数据源的方式获取元数据，仅在搜索的时候，会同步一份到ES。<br><br>","user_name":"作者回复","user_name_real":"郭忆","uid":"1319022","ctime":1587308621,"ip_address":"","comment_id":205694,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586703620","product_id":100049101,"comment_content":"郭老师，你好，就元数据的存储模型，是否能分享下经验？之前看了普元专门做元数据管理的公司，说底层都是兼容cwm模型","like_count":0,"discussions":[{"author":{"id":1319022,"avatar":"https://static001.geekbang.org/account/avatar/00/14/20/6e/ad4dac0a.jpg","nickname":"郭忆","note":"","ucode":"496AEB07A40140","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491560,"discussion_content":"你好，通过这篇文章，你可以看到，我们采取了直连数据源的方式获取元数据，仅在搜索的时候，会同步一份到ES。\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587308621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
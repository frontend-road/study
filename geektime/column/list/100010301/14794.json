{"id":14794,"title":"19 |  Javaå­—èŠ‚ç ï¼ˆåŸºç¡€ç¯‡ï¼‰","content":"<p>åœ¨å‰é¢çš„ç¯‡ç« ä¸­ï¼Œæœ‰ä¸å°‘åŒå­¦åé¦ˆå¯¹Javaå­—èŠ‚ç å¹¶ä¸æ˜¯ç‰¹åˆ«ç†Ÿæ‚‰ã€‚é‚£ä¹ˆä»Šå¤©æˆ‘ä¾¿æ¥ç³»ç»Ÿæ€§åœ°ä»‹ç»ä¸€éJavaå­—èŠ‚ç ã€‚</p><h2>æ“ä½œæ•°æ ˆ</h2><p>æˆ‘ä»¬çŸ¥é“ï¼ŒJavaå­—èŠ‚ç æ˜¯Javaè™šæ‹Ÿæœºæ‰€ä½¿ç”¨çš„æŒ‡ä»¤é›†ã€‚å› æ­¤ï¼Œå®ƒä¸Javaè™šæ‹ŸæœºåŸºäºæ ˆçš„è®¡ç®—æ¨¡å‹æ˜¯å¯†ä¸å¯åˆ†çš„ã€‚</p><p>åœ¨è§£é‡Šæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¯å½“ä¸ºJavaæ–¹æ³•åˆ†é…æ ˆæ¡¢æ—¶ï¼ŒJavaè™šæ‹Ÿæœºå¾€å¾€éœ€è¦å¼€è¾Ÿä¸€å—é¢å¤–çš„ç©ºé—´ä½œä¸ºæ“ä½œæ•°æ ˆï¼Œæ¥å­˜æ”¾è®¡ç®—çš„æ“ä½œæ•°ä»¥åŠè¿”å›ç»“æœã€‚</p><p>å…·ä½“æ¥è¯´ä¾¿æ˜¯ï¼šæ‰§è¡Œæ¯ä¸€æ¡æŒ‡ä»¤ä¹‹å‰ï¼ŒJavaè™šæ‹Ÿæœºè¦æ±‚è¯¥æŒ‡ä»¤çš„æ“ä½œæ•°å·²è¢«å‹å…¥æ“ä½œæ•°æ ˆä¸­ã€‚åœ¨æ‰§è¡ŒæŒ‡ä»¤æ—¶ï¼ŒJavaè™šæ‹Ÿæœºä¼šå°†è¯¥æŒ‡ä»¤æ‰€éœ€çš„æ“ä½œæ•°å¼¹å‡ºï¼Œå¹¶ä¸”å°†æŒ‡ä»¤çš„ç»“æœé‡æ–°å‹å…¥æ ˆä¸­ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/13/21/13720f6eb83d096ec600309648330821.png?wh=1158*290\" alt=\"\"></p><p>ä»¥åŠ æ³•æŒ‡ä»¤iaddä¸ºä¾‹ã€‚å‡è®¾åœ¨æ‰§è¡Œè¯¥æŒ‡ä»¤å‰ï¼Œæ ˆé¡¶çš„ä¸¤ä¸ªå…ƒç´ åˆ†åˆ«ä¸ºintå€¼1å’Œintå€¼2ï¼Œé‚£ä¹ˆiaddæŒ‡ä»¤å°†å¼¹å‡ºè¿™ä¸¤ä¸ªintï¼Œå¹¶å°†æ±‚å¾—çš„å’Œintå€¼3å‹å…¥æ ˆä¸­ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/13/db/138c20e60c081c8698770ff8d5d93fdb.png?wh=1134*176\" alt=\"\"></p><p>ç”±äºiaddæŒ‡ä»¤åªæ¶ˆè€—æ ˆé¡¶çš„ä¸¤ä¸ªå…ƒç´ ï¼Œå› æ­¤ï¼Œå¯¹äºç¦»æ ˆé¡¶è·ç¦»ä¸º2çš„å…ƒç´ ï¼Œå³å›¾ä¸­çš„é—®å·ï¼ŒiaddæŒ‡ä»¤å¹¶ä¸å…³å¿ƒå®ƒæ˜¯å¦å­˜åœ¨ï¼Œæ›´åŠ ä¸ä¼šå¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚</p><p>Javaå­—èŠ‚ç ä¸­æœ‰å¥½å‡ æ¡æŒ‡ä»¤æ˜¯ç›´æ¥ä½œç”¨åœ¨æ“ä½œæ•°æ ˆä¸Šçš„ã€‚æœ€ä¸ºå¸¸è§çš„ä¾¿æ˜¯dupï¼š å¤åˆ¶æ ˆé¡¶å…ƒç´ ï¼Œä»¥åŠpopï¼šèˆå¼ƒæ ˆé¡¶å…ƒç´ ã€‚</p><p>dupæŒ‡ä»¤å¸¸ç”¨äºå¤åˆ¶newæŒ‡ä»¤æ‰€ç”Ÿæˆçš„æœªç»åˆå§‹åŒ–çš„å¼•ç”¨ã€‚ä¾‹å¦‚åœ¨ä¸‹é¢è¿™æ®µä»£ç çš„fooæ–¹æ³•ä¸­ï¼Œå½“æ‰§è¡ŒnewæŒ‡ä»¤æ—¶ï¼ŒJavaè™šæ‹Ÿæœºå°†æŒ‡å‘ä¸€å—å·²åˆ†é…çš„ã€æœªåˆå§‹åŒ–çš„å†…å­˜çš„å¼•ç”¨å‹å…¥æ“ä½œæ•°æ ˆä¸­ã€‚</p><!-- [[[read_end]]] --><pre><code>  public void foo() {\n    Object o = new Object();\n  }\n  // å¯¹åº”çš„å­—èŠ‚ç å¦‚ä¸‹ï¼š\n  public void foo();\n    0  new java.lang.Object [3]\n    3  dup\n    4  invokespecial java.lang.Object() [8]\n    7  astore_1 [o]\n    8  return\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ä»¥è¿™ä¸ªå¼•ç”¨ä¸ºè°ƒç”¨è€…ï¼Œè°ƒç”¨å…¶æ„é€ å™¨ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢å­—èŠ‚ç ä¸­çš„invokespecialæŒ‡ä»¤ã€‚è¦æ³¨æ„ï¼Œè¯¥æŒ‡ä»¤å°†æ¶ˆè€—æ“ä½œæ•°æ ˆä¸Šçš„å…ƒç´ ï¼Œä½œä¸ºå®ƒçš„è°ƒç”¨è€…ä»¥åŠå‚æ•°ï¼ˆä¸è¿‡Objectçš„æ„é€ å™¨ä¸éœ€è¦å‚æ•°ï¼‰ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨dupæŒ‡ä»¤å¤åˆ¶ä¸€ä»½newæŒ‡ä»¤çš„ç»“æœï¼Œå¹¶ç”¨æ¥è°ƒç”¨æ„é€ å™¨ã€‚å½“è°ƒç”¨è¿”å›ä¹‹åï¼Œæ“ä½œæ•°æ ˆä¸Šä»æœ‰åŸæœ¬ç”±newæŒ‡ä»¤ç”Ÿæˆçš„å¼•ç”¨ï¼Œå¯ç”¨äºæ¥ä¸‹æ¥çš„æ“ä½œï¼ˆå³åç§»é‡ä¸º7çš„å­—èŠ‚ç ï¼Œä¸‹é¢ä¼šä»‹ç»åˆ°ï¼‰ã€‚</p><p>popæŒ‡ä»¤åˆ™å¸¸ç”¨äºèˆå¼ƒè°ƒç”¨æŒ‡ä»¤çš„è¿”å›ç»“æœã€‚ä¾‹å¦‚åœ¨ä¸‹é¢è¿™æ®µä»£ç çš„fooæ–¹æ³•ä¸­ï¼Œæˆ‘å°†è°ƒç”¨é™æ€æ–¹æ³•barï¼Œä½†æ˜¯å´ä¸ç”¨å…¶è¿”å›å€¼ã€‚</p><p>ç”±äºå¯¹åº”çš„invokestaticæŒ‡ä»¤ä»æ—§ä¼šå°†è¿”å›å€¼å‹å…¥fooæ–¹æ³•çš„æ“ä½œæ•°æ ˆä¸­ï¼Œå› æ­¤Javaè™šæ‹Ÿæœºéœ€è¦é¢å¤–æ‰§è¡ŒpopæŒ‡ä»¤ï¼Œå°†è¿”å›å€¼èˆå¼ƒã€‚</p><pre><code>  public static boolean bar() {\n    return false;\n  }\n\n  public void foo() {\n    bar();\n  }\n  // fooæ–¹æ³•å¯¹åº”çš„å­—èŠ‚ç å¦‚ä¸‹ï¼š\n  public void foo();\n    0  invokestatic FooTest.bar() : boolean [24]\n    3  pop\n    4  return\n</code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šè¿°ä¸¤æ¡æŒ‡ä»¤åªèƒ½å¤„ç†élongæˆ–è€…édoubleç±»å‹çš„å€¼ï¼Œè¿™æ˜¯å› ä¸ºlongç±»å‹æˆ–è€…doubleç±»å‹çš„å€¼ï¼Œéœ€è¦å æ®ä¸¤ä¸ªæ ˆå•å…ƒã€‚å½“é‡åˆ°è¿™äº›å€¼æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶å¤åˆ¶æ ˆé¡¶ä¸¤ä¸ªå•å…ƒçš„dup2æŒ‡ä»¤ï¼Œä»¥åŠå¼¹å‡ºæ ˆé¡¶ä¸¤ä¸ªå•å…ƒçš„pop2æŒ‡ä»¤ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œä¸ç®—å¸¸è§ä½†ä¹Ÿæ˜¯ç›´æ¥ä½œç”¨äºæ“ä½œæ•°æ ˆçš„è¿˜æœ‰swapæŒ‡ä»¤ï¼Œå®ƒå°†äº¤æ¢æ ˆé¡¶ä¸¤ä¸ªå…ƒç´ çš„å€¼ã€‚</p><p>åœ¨Javaå­—èŠ‚ç ä¸­ï¼Œæœ‰ä¸€éƒ¨åˆ†æŒ‡ä»¤å¯ä»¥ç›´æ¥å°†å¸¸é‡åŠ è½½åˆ°æ“ä½œæ•°æ ˆä¸Šã€‚ä»¥intç±»å‹ä¸ºä¾‹ï¼ŒJavaè™šæ‹Ÿæœºæ—¢å¯ä»¥é€šè¿‡iconstæŒ‡ä»¤åŠ è½½-1è‡³5ä¹‹é—´çš„intå€¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡bipushã€sipushåŠ è½½ä¸€ä¸ªå­—èŠ‚ã€ä¸¤ä¸ªå­—èŠ‚æ‰€èƒ½ä»£è¡¨çš„intå€¼ã€‚</p><p>Javaè™šæ‹Ÿæœºè¿˜å¯ä»¥é€šè¿‡ldcåŠ è½½å¸¸é‡æ± ä¸­çš„å¸¸é‡å€¼ï¼Œä¾‹å¦‚ldc&nbsp;#18å°†åŠ è½½å¸¸é‡æ± ä¸­çš„ç¬¬18é¡¹ã€‚</p><p>è¿™äº›å¸¸é‡åŒ…æ‹¬intç±»å‹ã€longç±»å‹ã€floatç±»å‹ã€doubleç±»å‹ã€Stringç±»å‹ä»¥åŠClassç±»å‹çš„å¸¸é‡ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/0c/99/0cd25310027d1fbcca1d6f3301186199.jpg?wh=1242x1120\" alt=\"\"></p><p><strong>å¸¸æ•°åŠ è½½æŒ‡ä»¤è¡¨</strong></p><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œæ“ä½œæ•°æ ˆçš„å‹å…¥å¼¹å‡ºéƒ½æ˜¯ä¸€æ¡æ¡æŒ‡ä»¤å®Œæˆçš„ã€‚å”¯ä¸€çš„ä¾‹å¤–æƒ…å†µæ˜¯åœ¨æŠ›å¼‚å¸¸æ—¶ï¼ŒJavaè™šæ‹Ÿæœºä¼šæ¸…é™¤æ“ä½œæ•°æ ˆä¸Šçš„æ‰€æœ‰å†…å®¹ï¼Œè€Œåå°†å¼‚å¸¸å®ä¾‹å‹å…¥æ“ä½œæ•°æ ˆä¸Šã€‚</p><h2>å±€éƒ¨å˜é‡åŒº</h2><p>Javaæ–¹æ³•æ ˆæ¡¢çš„å¦å¤–ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†åˆ™æ˜¯å±€éƒ¨å˜é‡åŒºï¼Œå­—èŠ‚ç ç¨‹åºå¯ä»¥å°†è®¡ç®—çš„ç»“æœç¼“å­˜åœ¨å±€éƒ¨å˜é‡åŒºä¹‹ä¸­ã€‚</p><p>å®é™…ä¸Šï¼ŒJavaè™šæ‹Ÿæœºå°†å±€éƒ¨å˜é‡åŒºå½“æˆä¸€ä¸ªæ•°ç»„ï¼Œä¾æ¬¡å­˜æ”¾thisæŒ‡é’ˆï¼ˆä»…éé™æ€æ–¹æ³•ï¼‰ï¼Œæ‰€ä¼ å…¥çš„å‚æ•°ï¼Œä»¥åŠå­—èŠ‚ç ä¸­çš„å±€éƒ¨å˜é‡ã€‚</p><p>å’Œæ“ä½œæ•°æ ˆä¸€æ ·ï¼Œlongç±»å‹ä»¥åŠdoubleç±»å‹çš„å€¼å°†å æ®ä¸¤ä¸ªå•å…ƒï¼Œå…¶ä½™ç±»å‹ä»…å æ®ä¸€ä¸ªå•å…ƒã€‚</p><pre><code>public void foo(long l, float f) {\n  {\n    int i = 0;\n  }\n  {\n    String s = &quot;Hello, World&quot;;\n  }\n}\n</code></pre><p>ä»¥ä¸Šé¢è¿™æ®µä»£ç ä¸­çš„fooæ–¹æ³•ä¸ºä¾‹ï¼Œç”±äºå®ƒæ˜¯ä¸€ä¸ªå®ä¾‹æ–¹æ³•ï¼Œå› æ­¤å±€éƒ¨å˜é‡æ•°ç»„çš„ç¬¬0ä¸ªå•å…ƒå­˜æ”¾ç€thisæŒ‡é’ˆã€‚</p><p>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºlongç±»å‹ï¼Œäºæ˜¯æ•°ç»„çš„1ã€2ä¸¤ä¸ªå•å…ƒå­˜æ”¾ç€æ‰€ä¼ å…¥çš„longç±»å‹å‚æ•°çš„å€¼ã€‚ç¬¬äºŒä¸ªå‚æ•°åˆ™æ˜¯floatç±»å‹ï¼Œäºæ˜¯æ•°ç»„çš„ç¬¬3ä¸ªå•å…ƒå­˜æ”¾ç€æ‰€ä¼ å…¥çš„floatç±»å‹å‚æ•°çš„å€¼ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/22/d9/228d0f5f2d6437e7aca87c6df2d01bd9.png?wh=1248*142\" alt=\"\"></p><p>åœ¨æ–¹æ³•ä½“é‡Œçš„ä¸¤ä¸ªä»£ç å—ä¸­ï¼Œæˆ‘åˆ†åˆ«å®šä¹‰äº†ä¸¤ä¸ªå±€éƒ¨å˜é‡iå’Œsã€‚ç”±äºè¿™ä¸¤ä¸ªå±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸæ²¡æœ‰é‡åˆä¹‹å¤„ï¼Œå› æ­¤ï¼ŒJavaç¼–è¯‘å™¨å¯ä»¥å°†å®ƒä»¬ç¼–æ’è‡³åŒä¸€å•å…ƒä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå±€éƒ¨å˜é‡æ•°ç»„çš„ç¬¬4ä¸ªå•å…ƒå°†ä¸ºiæˆ–è€…sã€‚</p><p>å­˜å‚¨åœ¨å±€éƒ¨å˜é‡åŒºçš„å€¼ï¼Œé€šå¸¸éœ€è¦åŠ è½½è‡³æ“ä½œæ•°æ ˆä¸­ï¼Œæ–¹èƒ½è¿›è¡Œè®¡ç®—ï¼Œå¾—åˆ°è®¡ç®—ç»“æœåå†å­˜å‚¨è‡³å±€éƒ¨å˜é‡æ•°ç»„ä¸­ã€‚è¿™äº›åŠ è½½ã€å­˜å‚¨æŒ‡ä»¤æ˜¯åŒºåˆ†ç±»å‹çš„ã€‚ä¾‹å¦‚ï¼Œintç±»å‹çš„åŠ è½½æŒ‡ä»¤ä¸ºiloadï¼Œå­˜å‚¨æŒ‡ä»¤ä¸ºistoreã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/60/73/60615f212fe3c40e152eb1829d5c0073.jpg?wh=1230x514\" alt=\"\"></p><p><strong>å±€éƒ¨å˜é‡åŒºè®¿é—®æŒ‡ä»¤è¡¨</strong></p><p>å±€éƒ¨å˜é‡æ•°ç»„çš„åŠ è½½ã€å­˜å‚¨æŒ‡ä»¤éƒ½éœ€è¦æŒ‡æ˜æ‰€åŠ è½½å•å…ƒçš„ä¸‹æ ‡ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œaload 0æŒ‡çš„æ˜¯åŠ è½½ç¬¬0ä¸ªå•å…ƒæ‰€å­˜å‚¨çš„å¼•ç”¨ï¼Œåœ¨å‰é¢ç¤ºä¾‹ä¸­çš„fooæ–¹æ³•é‡ŒæŒ‡çš„ä¾¿æ˜¯åŠ è½½thisæŒ‡é’ˆã€‚</p><p>åœ¨æˆ‘å°è±¡ä¸­ï¼ŒJavaå­—èŠ‚ç ä¸­å”¯ä¸€èƒ½å¤Ÿç›´æ¥ä½œç”¨äºå±€éƒ¨å˜é‡åŒºçš„æŒ‡ä»¤æ˜¯iinc M Nï¼ˆMä¸ºéè´Ÿæ•´æ•°ï¼ŒNä¸ºæ•´æ•°ï¼‰ã€‚è¯¥æŒ‡ä»¤æŒ‡çš„æ˜¯å°†å±€éƒ¨å˜é‡æ•°ç»„çš„ç¬¬Mä¸ªå•å…ƒä¸­çš„intå€¼å¢åŠ Nï¼Œå¸¸ç”¨äºforå¾ªç¯ä¸­è‡ªå¢é‡çš„æ›´æ–°ã€‚</p><pre><code>  public void foo() {\n    for (int i = 100; i&gt;=0; i--) {}\n  }\n  // å¯¹åº”çš„å­—èŠ‚ç å¦‚ä¸‹ï¼š\n  public void foo();\n     0  bipush 100\n     2  istore_1 [i]\n     3  goto 9\n     6  iinc 1 -1 [i] // i--\n     9  iload_1 [i]\n    10  ifge 6\n    13  return\n</code></pre><h2>ç»¼åˆç¤ºä¾‹</h2><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç»¼åˆçš„ä¾‹å­ï¼š</p><pre><code>public static int bar(int i) {\n  return ((i + 1) - 2) * 3 / 4;\n}\n// å¯¹åº”çš„å­—èŠ‚ç å¦‚ä¸‹ï¼š\nCode:\n  stack=2, locals=1, args_size=1\n     0: iload_0\n     1: iconst_1\n     2: iadd\n     3: iconst_2\n     4: isub\n     5: iconst_3\n     6: imul\n     7: iconst_4\n     8: idiv\n     9: ireturn\n</code></pre><p>è¿™é‡Œæˆ‘å®šä¹‰äº†ä¸€ä¸ªbaræ–¹æ³•ã€‚å®ƒå°†æ¥æ”¶ä¸€ä¸ªintç±»å‹çš„å‚æ•°ï¼Œè¿›è¡Œä¸€ç³»åˆ—è®¡ç®—ä¹‹åå†è¿”å›ã€‚</p><p>å¯¹åº”çš„å­—èŠ‚ç ä¸­çš„stack=2, locals=1ä»£è¡¨è¯¥æ–¹æ³•éœ€è¦çš„æ“ä½œæ•°æ ˆç©ºé—´ä¸º2ï¼Œå±€éƒ¨å˜é‡æ•°ç»„ç©ºé—´ä¸º1ã€‚å½“è°ƒç”¨bar(5)æ—¶ï¼Œæ¯æ¡æŒ‡ä»¤æ‰§è¡Œå‰åå±€éƒ¨å˜é‡æ•°ç»„ç©ºé—´ä»¥åŠæ“ä½œæ•°æ ˆçš„åˆ†å¸ƒå¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/c5/32/c57cb9c2222f0f79459bf4c58e1a4c32.png?wh=662*1406\" alt=\"\"></p><h2>Javaå­—èŠ‚ç ç®€ä»‹</h2><p>å‰é¢æˆ‘å·²ç»ä»‹ç»äº†åŠ è½½å¸¸é‡æŒ‡ä»¤ã€æ“ä½œæ•°æ ˆä¸“ç”¨æŒ‡ä»¤ä»¥åŠå±€éƒ¨å˜é‡åŒºè®¿é—®æŒ‡ä»¤ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹å…¶ä»–çš„ç±»åˆ«ã€‚</p><p>Javaç›¸å…³æŒ‡ä»¤ï¼ŒåŒ…æ‹¬å„ç±»å…·å¤‡é«˜å±‚è¯­ä¹‰çš„å­—èŠ‚ç ï¼Œå³newï¼ˆåè·Ÿç›®æ ‡ç±»ï¼Œç”Ÿæˆè¯¥ç±»çš„æœªåˆå§‹åŒ–çš„å¯¹è±¡ï¼‰ï¼Œinstanceofï¼ˆåè·Ÿç›®æ ‡ç±»ï¼Œåˆ¤æ–­æ ˆé¡¶å…ƒç´ æ˜¯å¦ä¸ºç›®æ ‡ç±»/æ¥å£çš„å®ä¾‹ã€‚æ˜¯åˆ™å‹å…¥1ï¼Œå¦åˆ™å‹å…¥0ï¼‰ï¼Œcheckcastï¼ˆåè·Ÿç›®æ ‡ç±»ï¼Œåˆ¤æ–­æ ˆé¡¶å…ƒç´ æ˜¯å¦ä¸ºç›®æ ‡ç±»/æ¥å£çš„å®ä¾‹ã€‚å¦‚æœä¸æ˜¯ä¾¿æŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œathrowï¼ˆå°†æ ˆé¡¶å¼‚å¸¸æŠ›å‡ºï¼‰ï¼Œä»¥åŠmonitorenterï¼ˆä¸ºæ ˆé¡¶å¯¹è±¡åŠ é”ï¼‰å’Œmonitorexitï¼ˆä¸ºæ ˆé¡¶å¯¹è±¡è§£é”ï¼‰ã€‚</p><p>æ­¤å¤–ï¼Œè¯¥ç±»å‹çš„æŒ‡ä»¤è¿˜åŒ…æ‹¬å­—æ®µè®¿é—®æŒ‡ä»¤ï¼Œå³é™æ€å­—æ®µè®¿é—®æŒ‡ä»¤getstaticã€putstaticï¼Œå’Œå®ä¾‹å­—æ®µè®¿é—®æŒ‡ä»¤getfieldã€putfieldã€‚è¿™å››æ¡æŒ‡ä»¤å‡é™„å¸¦ç”¨ä»¥å®šä½ç›®æ ‡å­—æ®µçš„ä¿¡æ¯ï¼Œä½†æ‰€æ¶ˆè€—çš„æ“ä½œæ•°æ ˆå…ƒç´ çš†ä¸åŒã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/da/d9/da3ff3aa4aaa2531d23286fec65b08d9.png?wh=1228*174\" alt=\"\"></p><p>ä»¥putfieldä¸ºä¾‹ï¼Œåœ¨ä¸Šå›¾ä¸­ï¼Œå®ƒä¼šæŠŠå€¼vå­˜å‚¨è‡³å¯¹è±¡objçš„ç›®æ ‡å­—æ®µä¹‹ä¸­ã€‚</p><p>æ–¹æ³•è°ƒç”¨æŒ‡ä»¤ï¼ŒåŒ…æ‹¬invokestaticï¼Œinvokespecialï¼Œinvokevirtualï¼Œinvokeinterfaceä»¥åŠinvokedynamicã€‚è¿™å‡ æ¡å­—èŠ‚ç æˆ‘ä»¬å·²ç»ååå¤å¤æåŠäº†ï¼Œå°±ä¸å†å…·ä½“ä»‹ç»å„è‡ªçš„å«ä¹‰äº†ã€‚</p><p>é™¤invokedynamicå¤–ï¼Œå…¶ä»–çš„æ–¹æ³•è°ƒç”¨æŒ‡ä»¤æ‰€æ¶ˆè€—çš„æ“ä½œæ•°æ ˆå…ƒç´ æ˜¯æ ¹æ®è°ƒç”¨ç±»å‹ä»¥åŠç›®æ ‡æ–¹æ³•æè¿°ç¬¦æ¥ç¡®å®šçš„ã€‚åœ¨è¿›è¡Œæ–¹æ³•è°ƒç”¨ä¹‹å‰ï¼Œç¨‹åºéœ€è¦ä¾æ¬¡å‹å…¥è°ƒç”¨è€…ï¼ˆinvokestaticä¸éœ€è¦ï¼‰ï¼Œä»¥åŠå„ä¸ªå‚æ•°ã€‚</p><pre><code>  public int neg(int i) {\n    return -i;\n  }\n\n  public int foo(int i) {\n    return neg(neg(i));\n  }\n  // fooæ–¹æ³•å¯¹åº”çš„å­—èŠ‚ç å¦‚ä¸‹ï¼šfooæ–¹æ³•å¯¹åº”çš„å­—èŠ‚ç å¦‚ä¸‹ï¼š\n  public int foo(int i);\n    0  aload_0 [this]\n    1  aload_0 [this]\n    2  iload_1 [i]\n    3  invokevirtual FooTest.neg(int) : int [25]\n    6  invokevirtual FooTest.neg(int) : int [25]\n    9  ireturn\n</code></pre><p>ä»¥ä¸Šé¢è¿™æ®µä»£ç ä¸ºä¾‹ï¼Œå½“è°ƒç”¨foo(2)æ—¶ï¼Œæ¯æ¡æŒ‡ä»¤æ‰§è¡Œå‰åå±€éƒ¨å˜é‡æ•°ç»„ç©ºé—´ä»¥åŠæ“ä½œæ•°æ ˆçš„åˆ†å¸ƒå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/47/95/476fa1bcb6b36b5b651c2a4101073295.png?wh=908*1292\" alt=\"\"></p><p>æ•°ç»„ç›¸å…³æŒ‡ä»¤ï¼ŒåŒ…æ‹¬æ–°å»ºåŸºæœ¬ç±»å‹æ•°ç»„çš„newarrayï¼Œæ–°å»ºå¼•ç”¨ç±»å‹æ•°ç»„çš„anewarrayï¼Œç”Ÿæˆå¤šç»´æ•°ç»„çš„multianewarrayï¼Œä»¥åŠæ±‚æ•°ç»„é•¿åº¦çš„arraylengthã€‚å¦å¤–ï¼Œå®ƒè¿˜åŒ…æ‹¬æ•°ç»„çš„åŠ è½½æŒ‡ä»¤ä»¥åŠå­˜å‚¨æŒ‡ä»¤ã€‚è¿™äº›æŒ‡ä»¤æ˜¯åŒºåˆ†ç±»å‹çš„ã€‚ä¾‹å¦‚ï¼Œintæ•°ç»„çš„åŠ è½½æŒ‡ä»¤ä¸ºialoadï¼Œå­˜å‚¨æŒ‡ä»¤ä¸ºiastoreã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/8e/f1/8ee0ed86242a63b566d55297a88da9f1.jpg?wh=1246x764\" alt=\"\"></p><p><strong>æ•°ç»„è®¿é—®æŒ‡ä»¤è¡¨</strong></p><p>æ§åˆ¶æµæŒ‡ä»¤ï¼ŒåŒ…æ‹¬æ— æ¡ä»¶è·³è½¬gotoï¼Œæ¡ä»¶è·³è½¬æŒ‡ä»¤ï¼Œtableswitchå’Œlookupswtichï¼ˆå‰è€…é’ˆå¯¹å¯†é›†çš„casesï¼Œåè€…é’ˆå¯¹ç¨€ç–çš„casesï¼‰ï¼Œè¿”å›æŒ‡ä»¤ï¼Œä»¥åŠè¢«åºŸå¼ƒçš„jsrï¼ŒretæŒ‡ä»¤ã€‚å…¶ä¸­è¿”å›æŒ‡ä»¤æ˜¯åŒºåˆ†ç±»å‹çš„ã€‚ä¾‹å¦‚ï¼Œè¿”å›intå€¼çš„æŒ‡ä»¤ä¸ºireturnã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/f5/f0/f5195b5425a9547af9ce8371aef5c4f0.jpg?wh=624*331\" alt=\"\"></p><p><strong>è¿”å›æŒ‡ä»¤è¡¨</strong></p><p>é™¤è¿”å›æŒ‡ä»¤å¤–ï¼Œå…¶ä»–çš„æ§åˆ¶æµæŒ‡ä»¤å‡é™„å¸¦ä¸€ä¸ªæˆ–è€…å¤šä¸ªå­—èŠ‚ç åç§»é‡ï¼Œä»£è¡¨éœ€è¦è·³è½¬åˆ°çš„ä½ç½®ã€‚ä¾‹å¦‚ä¸‹é¢çš„absæ–¹æ³•ä¸­åç§»é‡ä¸º1çš„æ¡ä»¶è·³è½¬æŒ‡ä»¤ï¼Œå½“æ ˆé¡¶å…ƒç´ å°äº0æ—¶ï¼Œè·³è½¬è‡³åç§»é‡ä¸º6çš„å­—èŠ‚ç ã€‚</p><pre><code>  public int abs(int i) {\n    if (i &gt;= 0) {\n      return i;\n    }\n    return -i;\n  }\n  // å¯¹åº”çš„å­—èŠ‚ç å¦‚ä¸‹æ‰€ç¤ºï¼š\n  public int abs(int i);\n    0  iload_1 [i]\n    1  iflt 6\n    4  iload_1 [i]\n    5  ireturn\n    6  iload_1 [i]\n    7  ineg\n    8  ireturn\n</code></pre><p>å‰©ä½™çš„Javaå­—èŠ‚ç å‡ ä¹éƒ½å’Œè®¡ç®—ç›¸å…³ï¼Œè¿™é‡Œå°±ä¸å†è¯¦ç»†é˜è¿°äº†ã€‚</p><h2>æ€»ç»“ä¸å®è·µ</h2><p>ä»Šå¤©æˆ‘ç®€å•ä»‹ç»äº†å„ç§ç±»å‹çš„Javaå­—èŠ‚ç ã€‚</p><p>Javaæ–¹æ³•çš„æ ˆæ¡¢åˆ†ä¸ºæ“ä½œæ•°æ ˆå’Œå±€éƒ¨å˜é‡åŒºã€‚é€šå¸¸æ¥è¯´ï¼Œç¨‹åºéœ€è¦å°†å˜é‡ä»å±€éƒ¨å˜é‡åŒºåŠ è½½è‡³æ“ä½œæ•°æ ˆä¸­ï¼Œè¿›è¡Œä¸€ç•ªè¿ç®—ä¹‹åå†å­˜å‚¨å›å±€éƒ¨å˜é‡åŒºä¸­ã€‚</p><p>Javaå­—èŠ‚ç å¯ä»¥åˆ’åˆ†ä¸ºå¾ˆå¤šç§ç±»å‹ï¼Œå¦‚åŠ è½½å¸¸é‡æŒ‡ä»¤ï¼Œæ“ä½œæ•°æ ˆä¸“ç”¨æŒ‡ä»¤ï¼Œå±€éƒ¨å˜é‡åŒºè®¿é—®æŒ‡ä»¤ï¼ŒJavaç›¸å…³æŒ‡ä»¤ï¼Œæ–¹æ³•è°ƒç”¨æŒ‡ä»¤ï¼Œæ•°ç»„ç›¸å…³æŒ‡ä»¤ï¼Œæ§åˆ¶æµæŒ‡ä»¤ï¼Œä»¥åŠè®¡ç®—ç›¸å…³æŒ‡ä»¤ã€‚</p><p>ä»Šå¤©çš„å®è·µç¯èŠ‚ï¼Œä½ å¯ä»¥å°è¯•è‡ªå·±åˆ†æä¸€æ®µè¾ƒä¸ºå¤æ‚çš„å­—èŠ‚ç ï¼Œåœ¨è‰ç¨¿ä¸Šç”»å‡ºå±€éƒ¨å˜é‡æ•°ç»„ä»¥åŠæ“ä½œæ•°æ ˆåˆ†å¸ƒå›¾ã€‚å½“ç¢°åˆ°ä¸ç†Ÿæ‚‰çš„æŒ‡ä»¤æ—¶ï¼Œä½ å¯ä»¥æŸ¥é˜…<a href=\"https://docs.oracle.com/javase/specs/jvms/se10/html/jvms-6.html#jvms-6.5\">Javaè™šæ‹Ÿæœºè§„èŒƒç¬¬6.5å°èŠ‚</a>  ï¼Œæˆ–è€…<a href=\"https://cs.au.dk/~mis/dOvs/jvmspec/ref-Java.html\">æ­¤é“¾æ¥</a>ã€‚</p>","comments":[{"had_liked":false,"id":22745,"user_name":"æ›²ä¸œæ–¹","can_delete":false,"product_type":"c1","uid":1177819,"ip_address":"","ucode":"6C3EA2F47A0B98","user_header":"https://static001.geekbang.org/account/avatar/00/11/f8/db/c4edf697.jpg","comment_is_top":false,"comment_ctime":1535947044,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"147564835108","product_id":100010301,"comment_content":"è¯¦å°½ï¼ŒèµğŸ‘<br><br>éšä¾¿æ‰¾å‡ æ–­ä»£ç ï¼Œjavapåç¼–è¯‘ï¼ŒæŸ¥jvmæ‰‹å†Œä¸€ä¼šå„¿å°±æ˜ç™½äº†","like_count":35},{"had_liked":false,"id":23308,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1536282788,"is_pvip":false,"replies":[{"id":"8466","content":"åŸºäºæ ˆçš„è®¡ç®—æ¨¡å‹ç¡®å®æ˜¯ä¸ºäº†å®ç°èµ·æ¥å®¹æ˜“ä¸€äº›ï¼Œä½†å®ƒå¹¶ä¸é«˜æ•ˆï¼Œå› ä¸ºæ²¡æœ‰ä½¿ç”¨åº•å±‚ä½“ç³»æ¶æ„çš„å¯„å­˜å™¨ã€‚<br><br>åœ¨JVMä¸­ï¼Œåªæœ‰è§£é‡Šå™¨å®Œæ•´åœ°æ¨¡æ‹Ÿå‡ºè¯¥è®¡ç®—æ¨¡å‹ã€‚å³æ—¶ç¼–è¯‘å™¨åœ¨è§£æå­—èŠ‚ç æ—¶ä¼šä½¿ç”¨ä¸€ä¸ªè™šæ‹Ÿçš„æ ˆè®¡ç®—æ¨¡å‹ï¼Œä½†æ˜¯åœ¨æ¥ä¸‹æ¥çš„ç¼–è¯‘ä¼˜åŒ–ï¼Œä»¥åŠç”Ÿæˆçš„æœºå™¨ç å°±ä¸ç”¨äº†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":23308,"uid":"1176688","ip_address":"","utype":1,"ctime":1536330676,"user_name_real":"éƒ‘é›¨è¿ª"}],"discussion_count":2,"race_medal":0,"score":"96025563300","product_id":100010301,"comment_content":"1:.Javaä»£ç ç”±Javaçš„è¯­è¨€è¯­æ³•ç»„æˆï¼Œæœ‰å¼€å‘äººå‘˜æ¥ç¼–å†™<br><br>2:.class ä»£ç æœ‰Javaç¼–è¯‘å™¨æ¥ç¼–è¯‘ï¼ŒJavaç¼–è¯‘å™¨ä¹Ÿæ˜¯æœ‰å¯¹åº”çš„å¼€å‘äººå‘˜æ¥ç¼–å†™çš„ï¼Œ.classä»£ç æœ‰å­—èŠ‚ç æŒ‡ä»¤æ¥ç»„æˆï¼Œå¦‚æœäººç†è§£Javaå­—èŠ‚ç æŒ‡ä»¤é›†æ¯”è¾ƒç®€å•ä¹Ÿå¯ä»¥ç›´æ¥ç¼–å†™.classä»£ç <br><br>3:Javaå¯¹åº”çš„æœºå™¨ç æœ‰JVMæ¥ç¼–è¯‘å‡ºæ¥ï¼ŒåŸæ–™æ˜¯.classä»£ç ï¼Œå¦‚æœäººç±»ç†è§£æœºå™¨ç æ¯”è¾ƒå®¹æ˜“ï¼Œé‚£ä¹ˆå¯èƒ½å˜æˆå°±ç›´æ¥åœ¨æœºå™¨ç¡¬ä»¶ä¸Šç›´æ¥ç¼–å†™æœºå™¨ç äº†<br><br>4:é«˜çº§è¯­è¨€çš„å‡ºç°æ˜¯ä¸ºæé«˜äººç¼–å†™ä»£ç çš„æ•ˆç‡ï¼Œæˆ‘ä»¬å­¦ä¹ .classå­—èŠ‚ç æŒ‡ä»¤é›†ã€JVMã€æœºå™¨ç ç­‰çš„çŸ¥è¯†ï¼Œæ˜¯ä¸ºäº†ä½¿æˆ‘ä»¬ç¼–å†™é«˜çº§è¯­è¨€ä»£ç èƒ½æ›´å¥½çš„åœ¨æœºå™¨ç¡¬ä»¶ä¸Šçš„æ‰§è¡Œæ•ˆç‡æ›´é«˜ï¼Œä»é«˜çº§è¯­è¨€çš„ä»£ç åˆ°èƒ½åœ¨æœºå™¨ä¸Šè¿è¡Œçš„æœºå™¨ç ï¼Œä¸­é—´ç»è¿‡äº†å¥½å‡ å±‚çš„è½¬æ¢ï¼Œæ‰€ä»¥ï¼Œäº†è§£æ¯ä¸€å±‚æ˜¯æ€ä¹ˆè½¬æ¢å°±èƒ½æ›´å¿«çš„å®šä½å‡ºé«˜çº§è¯­è¨€ä»£ç çš„æ€§èƒ½ç“¶é¢ˆäº†ï¼Œæ„Ÿè§‰æ˜¯ä¸ºäº†åœ¨äººçš„ç¼–ç æ•ˆç‡å’Œæœºå™¨çš„æ‰§è¡Œæ•ˆç‡ä¹‹é—´æ‰¾å¹³è¡¡ç‚¹<br><br>æœ‰ä¸ªç–‘é—®â“<br>æ²¡å¤ªç†è§£ï¼ŒJVMåŸºäºæ ˆçš„è®¡ç®—æ¨¡å‹çš„åŸå› ï¼Œæ¨æµ‹å¯èƒ½æ˜¯ä¸ºäº†æ›´ç®€å•çš„å®ç°å’Œæ›´é«˜çš„æ€§èƒ½ä½†æ˜¯æ˜¯æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Ÿè¯·è€å¸ˆè§£é‡Šä¸€ä¸‹","like_count":22,"discussions":[{"author":{"id":1176688,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f4/70/2f61fa20.jpg","nickname":"éƒ‘é›¨è¿ª","note":"","ucode":"F7CA1AE501EAFF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423505,"discussion_content":"åŸºäºæ ˆçš„è®¡ç®—æ¨¡å‹ç¡®å®æ˜¯ä¸ºäº†å®ç°èµ·æ¥å®¹æ˜“ä¸€äº›ï¼Œä½†å®ƒå¹¶ä¸é«˜æ•ˆï¼Œå› ä¸ºæ²¡æœ‰ä½¿ç”¨åº•å±‚ä½“ç³»æ¶æ„çš„å¯„å­˜å™¨ã€‚\n\nåœ¨JVMä¸­ï¼Œåªæœ‰è§£é‡Šå™¨å®Œæ•´åœ°æ¨¡æ‹Ÿå‡ºè¯¥è®¡ç®—æ¨¡å‹ã€‚å³æ—¶ç¼–è¯‘å™¨åœ¨è§£æå­—èŠ‚ç æ—¶ä¼šä½¿ç”¨ä¸€ä¸ªè™šæ‹Ÿçš„æ ˆè®¡ç®—æ¨¡å‹ï¼Œä½†æ˜¯åœ¨æ¥ä¸‹æ¥çš„ç¼–è¯‘ä¼˜åŒ–ï¼Œä»¥åŠç”Ÿæˆçš„æœºå™¨ç å°±ä¸ç”¨äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1536330676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1357311,"avatar":"https://static001.geekbang.org/account/avatar/00/14/b5/ff/d1f205b0.jpg","nickname":"L","note":"","ucode":"5B847B2378854E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293580,"discussion_content":"æŠŠç§‘ä»£è¡¨é¡¶ä¸Šå»","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1595586342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22731,"user_name":"æäºŒæœ¨","can_delete":false,"product_type":"c1","uid":1103091,"ip_address":"","ucode":"30E03BB84ADB27","user_header":"https://static001.geekbang.org/account/avatar/00/10/d4/f3/129d6dfe.jpg","comment_is_top":false,"comment_ctime":1535942740,"is_pvip":true,"replies":[{"id":"8214","content":"å¦‚æœæ˜¯è™šæ‹Ÿæœºåˆå§‹åŒ–å±€éƒ¨å˜é‡ï¼Œé‚£ä¹ˆå®ƒéœ€è¦æŒæ¡æ¯ä¸ªå˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼Œä»¥ä¾¿åˆå§‹åŒ–å…±äº«åŒä¸€ä¸‹æ ‡çš„å±€éƒ¨å˜é‡ã€‚å®ç°èµ·æ¥æ¯”è¾ƒè´¹äº‹ã€‚<br><br>å¦ä¸€æ–¹é¢ï¼Œä»ä»£ç è§„èŒƒæ¥çœ‹ï¼Œä½¿ç”¨æœªç»åˆå§‹åŒ–çš„å±€éƒ¨å˜é‡æ„ä¹‰ä¸æ˜ã€‚","user_name":"ä½œè€…å›å¤","comment_id":22731,"uid":"1176688","ip_address":"","utype":1,"ctime":1535969052,"user_name_real":"éƒ‘é›¨è¿ª"}],"discussion_count":2,"race_medal":0,"score":"48780582996","product_id":100010301,"comment_content":"ä¸ºä»€ä¹ˆå±€éƒ¨å˜é‡è¦åˆå§‹åŒ–ï¼Ÿæƒ³è¯·è€å¸ˆä¸“ä¸šè§£ç­”ä¸‹ï¼","like_count":12,"discussions":[{"author":{"id":1176688,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f4/70/2f61fa20.jpg","nickname":"éƒ‘é›¨è¿ª","note":"","ucode":"F7CA1AE501EAFF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423242,"discussion_content":"å¦‚æœæ˜¯è™šæ‹Ÿæœºåˆå§‹åŒ–å±€éƒ¨å˜é‡ï¼Œé‚£ä¹ˆå®ƒéœ€è¦æŒæ¡æ¯ä¸ªå˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼Œä»¥ä¾¿åˆå§‹åŒ–å…±äº«åŒä¸€ä¸‹æ ‡çš„å±€éƒ¨å˜é‡ã€‚å®ç°èµ·æ¥æ¯”è¾ƒè´¹äº‹ã€‚\n\nå¦ä¸€æ–¹é¢ï¼Œä»ä»£ç è§„èŒƒæ¥çœ‹ï¼Œä½¿ç”¨æœªç»åˆå§‹åŒ–çš„å±€éƒ¨å˜é‡æ„ä¹‰ä¸æ˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535969052,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1508990,"avatar":"https://static001.geekbang.org/account/avatar/00/17/06/7e/735968e2.jpg","nickname":"è¥¿é—¨å¹ç‰›","note":"","ucode":"E5D3624DDE1E83","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291388,"discussion_content":"è¿™ä¸ªå¥½ç†è§£ï¼Œä¸»è¦ä»è¿™ä¸ªå˜é‡åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œæœ‰ä»€ä¹ˆåœºæ™¯ï¼Œæ˜¯å…ˆèµ‹å€¼åœ¨ä½¿ç”¨è¿˜æ˜¯ä¸èµ‹å€¼å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚å°±ä¿©ç§ï¼Œå±€éƒ¨å’Œæˆå‘˜ï¼›\nå¯¹äºæˆå‘˜å˜é‡ï¼šåœ¨ç±»åŠ è½½è¿‡ç¨‹çš„å‡†å¤‡é˜¶æ®µå³å¯ç»™å®ƒèµ‹äºˆé»˜è®¤å€¼ï¼Œå…¶èµ‹å€¼å’Œå–å€¼è®¿é—®åœ¨è¿è¡Œæ—¶çš„å…ˆåé¡ºåºå…·æœ‰ä¸ç¡®å®šæ€§(æœ‰å¯èƒ½å…ˆå–å€¼åèµ‹å€¼)ï¼Œæ‰€ä»¥åŠ è½½é˜¶æ®µèµ‹äºˆé»˜è®¤å€¼ï¼Œä¿è¯äº†æˆå‘˜å˜é‡åªè¦è¢«å®šä¹‰ï¼Œå°±å¯ä»¥è¢«ä½¿ç”¨ã€‚å¯¹è±¡ä¸åˆ›å»ºï¼Œæˆ‘ä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒçš„æˆå‘˜å˜é‡ã€‚\nå¯¹äºå±€éƒ¨å˜é‡ï¼šæ˜¯åœ¨ç±»æ–¹æ³•ä¸­çš„å˜é‡ï¼Œåœ¨æ‰§è¡Œæ–¹æ³•(å­—èŠ‚ç æ‰§è¡Œæ—¶å€™)çš„æ—¶å€™æ‰ä¼šç”¨åˆ°ï¼Œå…¶èµ‹å€¼å’Œå–å€¼è®¿é—®é¡ºåºæ˜¯ç¡®å®šçš„ã€‚è¿è¡Œæ—¶è¢«åˆ†é…åœ¨æ ˆä¸­ï¼Œé‡å¤§ä¸”ç”Ÿå‘½å‘¨æœŸçŸ­ï¼Œå¦‚æœè™šæ‹Ÿæœºç»™æ¯ä¸ªå±€éƒ¨å˜é‡éƒ½åˆå§‹åŒ–ä¸€ä¸‹ï¼Œæ˜¯ä¸€ç¬”å¾ˆå¤§çš„å¼€é”€(ç±»ä¸­æ–¹æ³•å¾ˆå¤š)ï¼Œè¿™æ ·è®¾è®¡ä¹Ÿæ˜¯ä¸€ç§çº¦æŸï¼Œå°½æœ€å¤§ç¨‹åº¦å‡å°‘ä½¿ç”¨è€…çŠ¯é”™çš„å¯èƒ½ã€‚å‡ä½¿å±€éƒ¨å˜é‡å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ï¼Œå¯èƒ½ä¼šæ— æ„é—´å¿˜è®°èµ‹å€¼ï¼Œè¿›è€Œå¯¼è‡´ä¸å¯é¢„æœŸçš„æƒ…å†µå‡ºç°ã€‚åŒæ—¶å±€éƒ¨å˜é‡ä¸èµ‹å€¼å°±ä½¿ç”¨æ˜¯ä¸å®‰å…¨çš„ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1594801399,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":23400,"user_name":"ç†ŠçŒ«é…’ä»™","can_delete":false,"product_type":"c1","uid":1112078,"ip_address":"","ucode":"17002C7A355EC1","user_header":"https://static001.geekbang.org/account/avatar/00/10/f8/0e/de697f9b.jpg","comment_is_top":false,"comment_ctime":1536328924,"is_pvip":false,"replies":[{"id":"8602","content":"Javaå­—èŠ‚ç ä¸ä¼šï¼Œä½†æ˜¯åº•ä¸‹çš„å®ç°(æ¯”å¦‚è§£é‡Šæ‰§è¡Œå™¨ï¼Œå³æ—¶ç¼–è¯‘å™¨)æ˜¯ä¼šçš„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":23400,"uid":"1176688","ip_address":"","utype":1,"ctime":1536578785,"user_name_real":"éƒ‘é›¨è¿ª"}],"discussion_count":1,"race_medal":0,"score":"40191034588","product_id":100010301,"comment_content":"C&#47;C++çš„æ±‡ç¼–æŒ‡ä»¤ï¼Œä¼šæœ‰å¤§é‡å¯„å­˜å™¨çš„æ“ä½œ<br>è¯·é—®javaçš„æŒ‡ä»¤ä¼šç”¨åˆ°å¯„å­˜å™¨å—ï¼Ÿ","like_count":9,"discussions":[{"author":{"id":1176688,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f4/70/2f61fa20.jpg","nickname":"éƒ‘é›¨è¿ª","note":"","ucode":"F7CA1AE501EAFF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423549,"discussion_content":"Javaå­—èŠ‚ç ä¸ä¼šï¼Œä½†æ˜¯åº•ä¸‹çš„å®ç°(æ¯”å¦‚è§£é‡Šæ‰§è¡Œå™¨ï¼Œå³æ—¶ç¼–è¯‘å™¨)æ˜¯ä¼šçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1536578785,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":23183,"user_name":"Shine","can_delete":false,"product_type":"c1","uid":1022568,"ip_address":"","ucode":"C8C617B87C63C7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9a/68/92caeed6.jpg","comment_is_top":false,"comment_ctime":1536196062,"is_pvip":false,"replies":[{"id":"8468","content":"æ„é€ å™¨æ˜¯æ²¡æœ‰è¿”å›ç»“æœçš„ï¼Œæ‰€ä»¥ä¸ç”¨popã€‚å¦‚æœä¸dupçš„è¯ï¼Œå°±åªæœ‰ä¸€ä¸ªr0ï¼Œåœ¨è°ƒç”¨æ„é€ å™¨æ—¶ç”¨æ‰äº†ï¼Œç¨‹åºå°±å†æ²¡æœ‰å¯¹è¯¥æ–°å»ºå¯¹è±¡çš„å¼•ç”¨äº†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":23183,"uid":"1176688","ip_address":"","utype":1,"ctime":1536330921,"user_name_real":"éƒ‘é›¨è¿ª"}],"discussion_count":3,"race_medal":0,"score":"31600967134","product_id":100010301,"comment_content":"â€œå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨ dup æŒ‡ä»¤å¤åˆ¶ä¸€ä»½ new æŒ‡ä»¤çš„ç»“æœï¼Œå¹¶ç”¨æ¥è°ƒç”¨æ„é€ å™¨ã€‚å½“è°ƒç”¨è¿”å›ä¹‹åï¼Œæ“ä½œæ•°æ ˆä¸Šä»æœ‰åŸæœ¬ç”± new æŒ‡ä»¤ç”Ÿæˆçš„å¼•ç”¨å»...â€<br><br>ç¬¬ä¸€æ­¥æ ˆé¡¶å‹å…¥newå¯¹è±¡çš„å¼•ç”¨r0ï¼Œæ‰§è¡Œdupåå¤åˆ¶r0å¾—åˆ°r1ï¼Œå‹å…¥æ ˆé¡¶ã€‚r1ç”¨äºè°ƒç”¨æ„é€ å™¨,å®Œæˆåä¼špop, ç•™ä¸‹æ ˆé¡¶å…ƒç´ r0ã€‚ä¸çŸ¥æˆ‘è¿™æ ·ç†è§£å¯¹ä¸ï¼Ÿ<br>æˆ‘çš„é—®é¢˜æ˜¯ä¸ºä»€ä¹ˆè¦dupå‘¢ï¼Ÿç›´æ¥ç”¨r0ä¸åšpopä¸å¥½å—ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1176688,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f4/70/2f61fa20.jpg","nickname":"éƒ‘é›¨è¿ª","note":"","ucode":"F7CA1AE501EAFF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423455,"discussion_content":"æ„é€ å™¨æ˜¯æ²¡æœ‰è¿”å›ç»“æœçš„ï¼Œæ‰€ä»¥ä¸ç”¨popã€‚å¦‚æœä¸dupçš„è¯ï¼Œå°±åªæœ‰ä¸€ä¸ªr0ï¼Œåœ¨è°ƒç”¨æ„é€ å™¨æ—¶ç”¨æ‰äº†ï¼Œç¨‹åºå°±å†æ²¡æœ‰å¯¹è¯¥æ–°å»ºå¯¹è±¡çš„å¼•ç”¨äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1536330921,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1467309,"avatar":"https://static001.geekbang.org/account/avatar/00/16/63/ad/21f62e27.jpg","nickname":"wjyuian","note":"","ucode":"1DDDDBF869CFC6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543741,"discussion_content":"loadåº”è¯¥æ˜¯å°†å±€éƒ¨å˜é‡è¡¨å¯¹åº”çš„æ•°æ®å‹åˆ°æ“ä½œæ•°æ ˆï¼›ç›¸åçš„storeåº”è¯¥æ˜¯å°†æŒ‡å®šä½ç½®çš„æ•°æ®å¼¹å‡ºï¼Œä¿å­˜åˆ°å±€éƒ¨å˜é‡è¡¨ï¼›\næ‰€ä»¥ä¸Šé¢çš„astore_1 å°±æ˜¯æŠŠæ ˆé¡¶çš„æŒ‡é’ˆï¼ˆä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªnewçš„æ—¶å€™å‹å…¥çš„ï¼‰ï¼Œå­˜å‚¨åˆ°å˜é‡è¡¨1çš„ä½ç½®ï¼ˆ0çš„ä½ç½®æ˜¯thisæŒ‡é’ˆï¼‰ï¼›\nå› ä¸ºè€æ˜¯çš„ä¾‹å­æ–¹æ³•æ˜¯voidï¼Œæ‰€ä»¥returnï¼›å¦‚æœæ–¹æ³•è¿”å›å€¼æ˜¯Objectï¼Œä½ å¯ä»¥çœ‹ä¸‹ï¼Œareturnä¹‹å‰ä¼šæœ‰aload_1ï¼Œå°±æ˜¯å°†å±€éƒ¨å˜é‡è¡¨çš„1ä½ç½®çš„æŒ‡é’ˆå‹åˆ°æ ˆé¡¶ï¼Œareturnå¼¹å‡ºè¿”å›ï¼›","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1641291486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1467309,"avatar":"https://static001.geekbang.org/account/avatar/00/16/63/ad/21f62e27.jpg","nickname":"wjyuian","note":"","ucode":"1DDDDBF869CFC6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543739,"discussion_content":"è¿™æ˜¯æ“ä½œæ•°æ ˆï¼Œæ¯æ¡æŒ‡ä»¤è‡³å°‘ä¼šæ¶ˆè€—ä¸€ä¸ªæ ˆé¡¶ï¼›\n\nè¿™é‡Œçš„åˆå§‹åŒ–æ–¹æ³•ä¼šæ¶ˆè€—ä¸€ä¸ªè°ƒç”¨è€…ï¼Œå°±æ˜¯æ ˆé¡¶ï¼›é‚£ä¹ˆæœ€åçš„returnå°±æ²¡æœ‰äº†ï¼›æ‰€ä»¥dupä¸€ä¸ªæ˜¯ç»™åˆå§‹åŒ–ç”¨çš„\n\nnewé‚£ä¸€è¡Œå¯¹åº”æ˜¯åˆ†é…ç©ºé—´ï¼Œå¹¶æ²¡æœ‰åˆå§‹åŒ–ï¼›\nåº”è¯¥æ˜¯è¿™ä¸ªæ„æ€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641291060,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166584,"user_name":"Jerryé“¶é“¶","can_delete":false,"product_type":"c1","uid":1008404,"ip_address":"","ucode":"80DA1172A2360A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/14/06eff9a4.jpg","comment_is_top":false,"comment_ctime":1577509423,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14462411311","product_id":100010301,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸‹ï¼Œåœ¨ä¸“æ ä¸­ï¼ˆå…³äºè™šæ‹Ÿæœºçš„ä¹¦ç±ä¸­ï¼‰æœ‰æåˆ°ï¼šJavaè™šæ‹Ÿæœºå¤§éƒ¨åˆ†éƒ½æ˜¯åŸºäºæ ˆï¼Œæœ‰äº›è™šæ‹Ÿæœºæ˜¯åŸºäºå¯„å­˜å™¨çš„ï¼Œæ¯”å¦‚Androidçš„Dalvikå’ŒARTã€‚<br><br>è¿™å¬èµ·æ¥æŒºæŠ½è±¡çš„ï¼Œè€å¸ˆèƒ½å…·ä½“è®²è®²å®ƒä»¬çš„åŒºåˆ«ï¼Ÿ<br><br>æ˜¯å­—èŠ‚ç æ‰§è¡Œçš„æ—¶å€™æœ‰åŒºåˆ«çš„å—ï¼Ÿ  è¿˜æ˜¯è¯´å­—èŠ‚ç æœ¬èº«å°±æœ‰åŒºåˆ«ï¼Ÿ","like_count":3},{"had_liked":false,"id":164887,"user_name":"é¥­ç²’","can_delete":false,"product_type":"c1","uid":1153455,"ip_address":"","ucode":"4C3220B0D43997","user_header":"https://static001.geekbang.org/account/avatar/00/11/99/af/d29273e2.jpg","comment_is_top":false,"comment_ctime":1577105959,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14462007847","product_id":100010301,"comment_content":"å›¾æ–‡å¹¶èŒ‚ï¼Œæ€»ç»“è¯¦å°½ï¼æ„Ÿè§‰è¿™ç¯‡æ”¾åœ¨å‰é¢å¯èƒ½æ›´å¥½ã€‚","like_count":3},{"had_liked":false,"id":38299,"user_name":"å¯¹æ–¹æ­£åœ¨è¾“å…¥","can_delete":false,"product_type":"c1","uid":1257515,"ip_address":"","ucode":"57C3A444E33832","user_header":"https://static001.geekbang.org/account/avatar/00/13/30/2b/bc5873c6.jpg","comment_is_top":false,"comment_ctime":1542018068,"is_pvip":false,"replies":[{"id":"14128","content":"æ­£å¸¸æ‰§è¡Œè·¯å¾„ä¼šæœ‰returnï¼Œæœ‰è¿”å›å€¼çš„æ˜¯ireturnï¼Œareturnè¿™äº›ã€‚å¼‚å¸¸æ‰§è¡Œè·¯å¾„ä¼šæœ‰athrowã€‚ä½ å¯ä»¥è¯•è¯•æŸ¥çœ‹åªæœ‰ä¸€å¥throw new Exception()çš„æ–¹æ³•","user_name":"ä½œè€…å›å¤","comment_id":38299,"uid":"1176688","ip_address":"","utype":1,"ctime":1542281593,"user_name_real":"éƒ‘é›¨è¿ª"}],"discussion_count":1,"race_medal":0,"score":"14426919956","product_id":100010301,"comment_content":"åœ¨JVMä¸­,æ¯ä¸ªæ–¹æ³•ä¸­,ä»£ç è¯­å¥æ‰§è¡Œå®Œæ¯•,æ˜¯ä¸æ˜¯éƒ½ä¼šé»˜è®¤æœ‰ä¸ªreturn","like_count":4,"discussions":[{"author":{"id":1176688,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f4/70/2f61fa20.jpg","nickname":"éƒ‘é›¨è¿ª","note":"","ucode":"F7CA1AE501EAFF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":428668,"discussion_content":"æ­£å¸¸æ‰§è¡Œè·¯å¾„ä¼šæœ‰returnï¼Œæœ‰è¿”å›å€¼çš„æ˜¯ireturnï¼Œareturnè¿™äº›ã€‚å¼‚å¸¸æ‰§è¡Œè·¯å¾„ä¼šæœ‰athrowã€‚ä½ å¯ä»¥è¯•è¯•æŸ¥çœ‹åªæœ‰ä¸€å¥throw new Exception()çš„æ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1542281593,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136327,"user_name":"å¸ˆçˆ·","can_delete":false,"product_type":"c1","uid":1104287,"ip_address":"","ucode":"20E6831DABF755","user_header":"https://static001.geekbang.org/account/avatar/00/10/d9/9f/7b2f2a97.jpg","comment_is_top":false,"comment_ctime":1569409779,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10159344371","product_id":100010301,"comment_content":"æŸäº›æ–¹æ³•é˜»å¡ä¼šä¸ä¼šå¯¼è‡´å¼¹æ ˆé˜»å¡å‘¢","like_count":2},{"had_liked":false,"id":40363,"user_name":"æé‘«ç£Š","can_delete":false,"product_type":"c1","uid":1101615,"ip_address":"","ucode":"D06517CFCEEE00","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/2f/4f89f22a.jpg","comment_is_top":false,"comment_ctime":1542603270,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10132537862","product_id":100010301,"comment_content":"ç¬”è®°ï¼šhttps:&#47;&#47;www.jianshu.com&#47;p&#47;b395ed905e0d","like_count":2},{"had_liked":false,"id":22794,"user_name":"YIFENG","can_delete":false,"product_type":"c1","uid":1069423,"ip_address":"","ucode":"78C3EA8995DB3B","user_header":"https://static001.geekbang.org/account/avatar/00/10/51/6f/f33beea5.jpg","comment_is_top":false,"comment_ctime":1535976892,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"10125911484","product_id":100010301,"comment_content":"64ä½è™šæ‹Ÿæœºä¸­longå’Œdoubleä¹Ÿéƒ½æ˜¯å ç”¨ä¸¤ä¸ªæ ˆå•å…ƒå—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1564497,"avatar":"https://static001.geekbang.org/account/avatar/00/17/df/51/5151214d.jpg","nickname":"æ³¢ï½ï½ï½","note":"","ucode":"CB04A25B18AFC7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530430,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637072629,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1980201,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","nickname":"å‡¯æ–‡å°çŒª","note":"","ucode":"36D8AD0229547F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361014,"discussion_content":"è§£æå‡ºæ¥çš„æœºå™¨ç æ˜¯laddï¼Œæˆ‘åªèƒ½è¯´æ ‡å‡†åšæ³•æ˜¯ä¸¤ä¸ªæœºå™¨å­—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616579775,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328338,"user_name":"å•¸ç–¯","can_delete":false,"product_type":"c1","uid":1104225,"ip_address":"","ucode":"24792660595DA1","user_header":"https://static001.geekbang.org/account/avatar/00/10/d9/61/4999fbc3.jpg","comment_is_top":false,"comment_ctime":1640676742,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5935644038","product_id":100010301,"comment_content":"çœ‹çš„çœŸçˆ½ï¼Œäº†è§£äº†å¾ˆå¤šå­—èŠ‚ç å±‚é¢çš„ç»†èŠ‚ï¼Œä¾‹å¦‚å¸¸é‡ç›¸åŠ åèµ‹å€¼ç»™å˜é‡ï¼Œé‚£ä¹ˆåœ¨å­—èŠ‚ç å±‚é¢å…¶å®ç›´æ¥å°±æ˜¯ç›¸åŠ åçš„å€¼ï¼Œå†æ¯”å¦‚ä¸¤ä¸ªstringçš„ç›¸åŠ ï¼Œå­—èŠ‚ç å±‚é¢å…¶å®ä¹Ÿæ˜¯è°ƒç”¨stringbuilerä¸æ–­appendåtostringæ¥å®ç°çš„","like_count":2},{"had_liked":false,"id":186843,"user_name":"é­å…¨è¿","can_delete":false,"product_type":"c1","uid":1090798,"ip_address":"","ucode":"3FED702C724E2A","user_header":"https://static001.geekbang.org/account/avatar/00/10/a4/ee/cffd8ee6.jpg","comment_is_top":false,"comment_ctime":1583937389,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5878904685","product_id":100010301,"comment_content":"<br>  public void foo() {<br>    Object o = new Object();<br>  }<br>  &#47;&#47; å¯¹åº”çš„å­—èŠ‚ç å¦‚ä¸‹ï¼š<br>  public void foo();<br>    0  new java.lang.Object [3]<br>    3  dup<br>    4  invokespecial java.lang.Object() [8]<br>    7  astore_1 [o]<br>    8  return<br><br>é€šè¿‡å¯¹è±¡åˆ›å»ºçš„å­—èŠ‚ç å°±èƒ½æ˜ç™½å¯¹è±¡çš„åˆ›å»ºä¸æ˜¯åŸå­æ“ä½œï¼Œæ‰€ä»¥éœ€è¦åŒé‡æ£€æŸ¥é”ä¿è¯å•ä¾‹å®‰å…¨","like_count":2},{"had_liked":false,"id":88436,"user_name":"shenfl","can_delete":false,"product_type":"c1","uid":1184233,"ip_address":"","ucode":"607CD894152241","user_header":"https://static001.geekbang.org/account/avatar/00/12/11/e9/b6aa6364.jpg","comment_is_top":false,"comment_ctime":1555918455,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5850885751","product_id":100010301,"comment_content":"æƒ³è¯·æ•™ä¸‹ ç¼–è¯‘ååŒ¿åå†…éƒ¨ç±»ä¼šç”Ÿæˆä¸€ä¸ªclassæ–‡ä»¶ï¼Œä½†æ˜¯å‡½æ•°å¼æ¥å£å®ç°çš„ä»£ç å´ä¸ä¼šç”Ÿæˆä¸€ä¸ªclassæ–‡ä»¶ï¼Œè¿™æ˜¯ä»€ä¹ˆåŸç†ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":2033191,"avatar":"","nickname":"Geek_85fa88","note":"","ucode":"B2987B8A28C51D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":286176,"discussion_content":"æˆ‘è®°å¾—è€å¸ˆå‰é¢è®²è¿‡ï¼Œå®ç°å‡½æ•°æ¥å£çš„ï¼Œæ˜¯ç›´æ¥ç”¨çš„invokedynamicå®ç°ï¼Œåº•å±‚é‡‡ç”¨çš„æ–¹æ³•å¥æŸ„ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰ä½ æ‰€è¯´çš„classæ–‡ä»¶ï¼Œå¦‚æœä¸å¯¹è¿˜è¯·æŒ‡æ­£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593079844,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":22740,"user_name":"Void_seT","can_delete":false,"product_type":"c1","uid":1070863,"ip_address":"","ucode":"DD55CB0198A5CD","user_header":"https://static001.geekbang.org/account/avatar/00/10/57/0f/1f229bf5.jpg","comment_is_top":false,"comment_ctime":1535945435,"is_pvip":false,"replies":[{"id":"8207","content":"å¤šè°¢æŒ‡å‡ºï¼","user_name":"ä½œè€…å›å¤","comment_id":22740,"uid":"1176688","ip_address":"","utype":1,"ctime":1535967611,"user_name_real":"éƒ‘é›¨è¿ª"}],"discussion_count":1,"race_medal":0,"score":"5830912731","product_id":100010301,"comment_content":"æ•°ç»„è®¿é—®æŒ‡ä»¤è¡¨ï¼Œintæ–‡ç¨¿ä¸­å†™çš„ialoadï¼Œiastoreï¼›è¡¨æ ¼ä¸­åˆ—çš„iastoreå’Œistore","like_count":1,"discussions":[{"author":{"id":1176688,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f4/70/2f61fa20.jpg","nickname":"éƒ‘é›¨è¿ª","note":"","ucode":"F7CA1AE501EAFF","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":423247,"discussion_content":"å¤šè°¢æŒ‡å‡ºï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535967611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335783,"user_name":"ã€€ç´ ä¸¶ã€€ã€€","can_delete":false,"product_type":"c1","uid":1081535,"ip_address":"","ucode":"883B7EDBE76104","user_header":"https://static001.geekbang.org/account/avatar/00/10/80/bf/3041138b.jpg","comment_is_top":false,"comment_ctime":1645687825,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645687825","product_id":100010301,"comment_content":"å¯ä»¥é…åˆç¾å›¢çš„è¿™ç¯‡æ–‡ç« ä¸€èµ·è§‚çœ‹<br>https:&#47;&#47;tech.meituan.com&#47;2019&#47;09&#47;05&#47;java-bytecode-enhancement.html","like_count":1},{"had_liked":false,"id":285307,"user_name":"å°è¾‰è¾‰","can_delete":false,"product_type":"c1","uid":1189661,"ip_address":"","ucode":"9FF25E25C85350","user_header":"https://static001.geekbang.org/account/avatar/00/12/27/1d/1cb36854.jpg","comment_is_top":false,"comment_ctime":1616730405,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1616730405","product_id":100010301,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œå¦‚æœåœ¨æœ¬åœ°å˜é‡è¡¨ä¸­ç”¨ lload æˆ–è€… fload æ—¶ï¼Œæ€ä¹ˆä¿è¯ä¸¤ä¸ªå•å…ƒçš„æ•°å€¼åŒæ—¶è¢« load åˆ°æ ˆä¸­ã€‚æ¯”å¦‚è¯´æ–¹æ³•æœ‰ä¸€ä¸ªå±€éƒ¨å˜é‡ long a = 5ï¼Œç„¶ååœ¨æœ¬åœ°å˜é‡è¡¨ä¸­å ç”¨ä¸¤ä¸ªå•å…ƒæ ¼ï¼ŒJVMæ˜¯æ€ä¹ˆä¿è¯è¿™ä¸¤ä¸ªå•å…ƒæ ¼ä¸­çš„æ•°å€¼éƒ½è¢« load è¿‡å»ã€‚","like_count":0,"discussions":[{"author":{"id":2653715,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKib3vNM6TPT1umvR3TictnLurJPKuQq4iblH5upgBB3kHL9hoN3Pgh3MaR2rjz6fWgMiaDpicd8R5wsAQ/132","nickname":"é™ˆé˜³","note":"","ucode":"C8E676C967D23A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546057,"discussion_content":"lload å‰é¢çš„læŒ‡çš„æ˜¯longï¼Œ iloadå‰é¢çš„iæŒ‡çš„æ˜¯int  longç±»å‹ load2ä¸ªå•å…ƒï¼Œ intç±»å‹load1ä¸ªå•å‘˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642142813,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255012,"user_name":"track6688","can_delete":false,"product_type":"c1","uid":1088040,"ip_address":"","ucode":"0A9E893F8FD379","user_header":"https://static001.geekbang.org/account/avatar/00/10/9a/28/03613c22.jpg","comment_is_top":false,"comment_ctime":1603249501,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603249501","product_id":100010301,"comment_content":"å†™å¾—å¾ˆè¯¦ç»†ï¼Œæ¯”è¾ƒå¥½ç†è§£ï¼Œ ç›¸å½“äºæ€»ç»“äº†ä¸€ä¸‹ã€‚","like_count":0},{"had_liked":false,"id":226497,"user_name":"å‰‘å…«","can_delete":false,"product_type":"c1","uid":1297630,"ip_address":"","ucode":"0A09F41DB8A4E7","user_header":"https://static001.geekbang.org/account/avatar/00/13/cc/de/e28c01e1.jpg","comment_is_top":false,"comment_ctime":1592122445,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1592122445","product_id":100010301,"comment_content":"è®²çš„æ¯”è¾ƒæ¸…æ™°äº†<br>javaæ–¹æ³•çš„æ ˆå¸§åŒ…æ‹¬äº†ï¼š<br>å±€éƒ¨å˜é‡è¡¨ï¼Œæ“ä½œæ•°æ ˆ<br>å±€éƒ¨å˜é‡è¡¨æ˜¯åœ¨ç¼–ç»æ—¶åˆ»å°±ç¡®å®šçš„ï¼Œç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡<br>æ“ä½œæ•°æ ˆåˆ™ç”¨äºå­˜å‚¨åœ¨æ–¹æ³•å­—èŠ‚ç æ‰§è¡Œçš„æ—¶å€™æ¶‰åŠåˆ°çš„å˜é‡å€¼ï¼Œä»¥åŠè¿ç®—å®Œçš„ç»“æœ<br><br>javaè™šæ‹Ÿæœºåˆ¶å®šäº†ä¸€ç³»åˆ—çš„javaæ‰§è¡ŒæŒ‡ä»¤ï¼Œæœ‰ï¼š<br>dupï¼ˆç”¨äºå°†newæŒ‡ä»¤ç”Ÿæˆçš„çš„å¼•ç”¨å¤åˆ¶åˆ°æ“ä½œæ•°æ ˆï¼‰<br>iloadï¼šç”¨äºåŠ è½½å±€éƒ¨å˜é‡è¡¨ä¸­çš„å˜é‡åˆ°æ“ä½œæ•°æ ˆ<br>iadd&#47;imupç­‰ç”¨äºæ‰§è¡Œè¿ç®—<br>","like_count":0},{"had_liked":false,"id":137498,"user_name":"gogo","can_delete":false,"product_type":"c1","uid":1003104,"ip_address":"","ucode":"E8F0F3B000020A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4e/60/0d5aa340.jpg","comment_is_top":false,"comment_ctime":1569753782,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569753782","product_id":100010301,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œä»ç¬¬ä¸€ç¯‡çœ‹åˆ°ç°åœ¨ï¼Œå¯¹æŸä¸ªæ–¹æ³•çš„æ‰§è¡Œæµç¨‹è¿˜ä¸æ˜¯å¾ˆç†è§£ï¼Œæœ‰å“ªä¸€ç¯‡æ–‡ç« æ˜¯è¯´æ•´ä¸ªæµç¨‹çš„å—ï¼Œä»ä¸»ç±»åŠ è½½åˆå§‹åŒ–åˆ°æŸä¸ªæ–¹æ³•æ‰§è¡Œç»“æŸçš„","like_count":0},{"had_liked":false,"id":113671,"user_name":"èš‚èšå†…æ¨+v","can_delete":false,"product_type":"c1","uid":1050508,"ip_address":"","ucode":"24B10AEE54B3FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/8c/0d886dcc.jpg","comment_is_top":false,"comment_ctime":1563112892,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563112892","product_id":100010301,"comment_content":"å°±æ˜¯è¯´å¦‚æœæ˜¯è§£é‡Šæ‰§è¡Œå°±åœ¨æ ˆæ¡¢å†…å®Œæˆäº†ï¼Œä¸ç”¨å¯„å­˜å™¨ã€‚å¦‚æœæ˜¯å³æ—¶ç¼–è¯‘æ‰§è¡Œï¼Œå°±ç”¨å¯„å­˜å™¨æ¥å­˜æ”¾æ“ä½œæ•°ï¼Œå¯¹ä¹ˆ","like_count":0},{"had_liked":false,"id":80641,"user_name":"ã‚ï¹é›¨å¤©____ã‚›","can_delete":false,"product_type":"c1","uid":1451392,"ip_address":"","ucode":"9639F0340C6C91","user_header":"https://static001.geekbang.org/account/avatar/00/16/25/80/fdd5a88f.jpg","comment_is_top":false,"comment_ctime":1553692246,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553692246","product_id":100010301,"comment_content":"è®²è§£å†…å®¹ä¸­ï¼Œè¿™å‡ å¼ æ€»ç»“è¡¨ï¼Œå†™çš„çœŸçš„ç»™åŠ›ã€‚èµ","like_count":0}]}
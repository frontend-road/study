{"id":769618,"title":"05｜TypeScript类型系统全景","content":"","comments":[{"had_liked":false,"id":390223,"user_name":"鐘","can_delete":false,"product_type":"c3","uid":1518535,"ip_address":"中国台湾","ucode":"0106652D5F7BD9","user_header":"https://static001.geekbang.org/account/avatar/00/17/2b/c7/9c8647c8.jpg","comment_is_top":false,"comment_ctime":1714795481,"is_pvip":false,"replies":[{"id":141925,"content":"Q1: 是的。\n\nQ2: 原始类型（Primitive types）是ECMAScript规范中的定义，这个定义与typeof的结果并不相同。这两个类型规则之间的差异是早期JavaScript与它后期的标准规范（ECMAScript）中的主要矛盾之一。关于这一点，你可以从《JavaScript语言精髓与编程实践》中找到关于JS的6种类型系统的详细说明，或者从MDN中了解到一些细节的信息。可以参考这里：https:&#47;&#47;developer.mozilla.org&#47;zh-CN&#47;docs&#47;Web&#47;JavaScript&#47;Reference&#47;Operators&#47;typeof#typeof_null\n\nQ3: 这个问题比较简单。呵呵，简单地说就是你没看仔细呵。在全景图中，null&#47;undefined并不属于特殊类型。你注意看它并没有被括号括起来，而只是归在“字面风格的……”这个类别的下面。至于更复杂一点，需要补充的是它们还有两个特别的、类型上的语义，其一是“空值类型”，这个与JavaScript中的“空值检查”等运算相关；其二是它使用“等同”而不是“泛化”来说明它在字面风格与“原型类型”之间的抽象关系的不同。——这里说的“抽象关系”是类型概念上的，并且也与将来在第29讲谈到“泛型”时会再次提及这个“泛化”的概念。所以这里也就不细讲了。\n\nNOTE：这张全景图里面其实有很多细节没在这一节里面讲，根本讲不完，还是同学们自己去分析的好。 像 @鐘 同学这样查究细节就更是非常非常赞了。另外，这张图中很多的内容还散布在后续的其它章节中，还会被多次拿出来讲，所以说这一讲（05讲）也被称为第一大篇中最重要的“理论课”，是很多后续内容的基础。","user_name":"作者回复","user_name_real":"编辑","uid":1521669,"ctime":1714819094,"ip_address":"河南","comment_id":390223,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"關於全景圖\nQ1: 這邊所指的類型全部都是 TS 的類型對嗎? \nQ2: 我可以把原始類型這邊列出的類型, 理解成 JS 使用 typeof 會顯示的類型, 只是在 TS 當中使用了相同的字眼來表示(除了 null 以外, typeof null 會是 object, 所以 TS 給他設定成另外一個新的類型 null)\n```\n&#47;&#47; js\nconst a = 1 &#47;&#47; typeof a &gt; number\n&#47;&#47; ts\nconst a: number = 1\n```\nQ3: 承上兩個問題, 關於 null 和 undefined, 會分別列在特殊類型和原始類型的原因是?","like_count":2,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":643949,"discussion_content":"Q1: 是的。\n\nQ2: 原始类型（Primitive types）是ECMAScript规范中的定义，这个定义与typeof的结果并不相同。这两个类型规则之间的差异是早期JavaScript与它后期的标准规范（ECMAScript）中的主要矛盾之一。关于这一点，你可以从《JavaScript语言精髓与编程实践》中找到关于JS的6种类型系统的详细说明，或者从MDN中了解到一些细节的信息。可以参考这里：https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/typeof#typeof_null\n\nQ3: 这个问题比较简单。呵呵，简单地说就是你没看仔细呵。在全景图中，null/undefined并不属于特殊类型。你注意看它并没有被括号括起来，而只是归在“字面风格的……”这个类别的下面。至于更复杂一点，需要补充的是它们还有两个特别的、类型上的语义，其一是“空值类型”，这个与JavaScript中的“空值检查”等运算相关；其二是它使用“等同”而不是“泛化”来说明它在字面风格与“原型类型”之间的抽象关系的不同。——这里说的“抽象关系”是类型概念上的，并且也与将来在第29讲谈到“泛型”时会再次提及这个“泛化”的概念。所以这里也就不细讲了。\n\nNOTE：这张全景图里面其实有很多细节没在这一节里面讲，根本讲不完，还是同学们自己去分析的好。 像 @鐘 同学这样查究细节就更是非常非常赞了。另外，这张图中很多的内容还散布在后续的其它章节中，还会被多次拿出来讲，所以说这一讲（05讲）也被称为第一大篇中最重要的“理论课”，是很多后续内容的基础。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1714819094,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"河南","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1034451,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c8/d3/3020ae46.jpg","nickname":"fatme","note":"","ucode":"75A805D2BB2AD1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":643950,"discussion_content":"1. 原始类型都是 js 里面的类型，共 7 种。然后再加上 object 类型，这就是 js 里面的所有类型了\n2. js 里面 typeof null 返回 &#39;object&#39;, 这个实现没能反映 null 值的真正类型，所以也一直为人所诟病。js 里面，undefined 类型只有一个值，就是 undefined（可以搜索 void 操作符，更深入理解 undefined）；null 类型也只有一个值，就是 null\n3. 课程里面，原始类型的 null, undefined 是指 js 里面两种特殊的类型，而 ts 类型里面的 null, undefined，课程里面也标注了，是等同于 js 的 null, undefined 类型。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1714819654,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"广东","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393101,"user_name":"小高先生","can_delete":false,"product_type":"c3","uid":3870422,"ip_address":"江西","ucode":"56ED49043871C7","user_header":"https://static001.geekbang.org/account/avatar/00/3b/0e/d6/f5ab053c.jpg","comment_is_top":false,"comment_ctime":1722848861,"is_pvip":false,"replies":[{"id":142768,"content":"这一讲确实如此。因为是理论课，在前10讲中也唯有这一讲是理论课，非常重要的呵。看过几讲，回头再来看，就好了","user_name":"作者回复","user_name_real":"编辑","uid":1521669,"ctime":1722930974,"ip_address":"江苏","comment_id":393101,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"这一讲说实话我感觉很抽象，这些概念我听得一脸懵逼，先看完，回头有啥想法了在回来过一遍","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649173,"discussion_content":"这一讲确实如此。因为是理论课，在前10讲中也唯有这一讲是理论课，非常重要的呵。看过几讲，回头再来看，就好了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1722930974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"江苏","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":392020,"user_name":"Ming","can_delete":false,"product_type":"c3","uid":1358174,"ip_address":"湖南","ucode":"A94E8D8433E54F","user_header":"https://static001.geekbang.org/account/avatar/00/14/b9/5e/a8f6f7db.jpg","comment_is_top":false,"comment_ctime":1719733454,"is_pvip":false,"replies":[{"id":142516,"content":":)\n\n试试？","user_name":"作者回复","user_name_real":"编辑","uid":1521669,"ctime":1719820506,"ip_address":"江苏","comment_id":392020,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"视频 06:40，typeof MyClass 的结果应该是：&#39;object&#39;","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":647303,"discussion_content":":)\n\n试试？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1719820506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"江苏","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":390234,"user_name":"Tulane","can_delete":false,"product_type":"c3","uid":1242467,"ip_address":"广东","ucode":"E1F5108B9E738F","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/63/53639bb7.jpg","comment_is_top":false,"comment_ctime":1714815981,"is_pvip":false,"replies":[{"id":141930,"content":"应该可以试试这个：https:&#47;&#47;time.geekbang.org&#47;column&#47;intro&#47;100016901\n\n不过我不知道为什么这个课程下架了？","user_name":"作者回复","user_name_real":"编辑","uid":1521669,"ctime":1714901962,"ip_address":"河南","comment_id":390234,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"老师我想用typescript做vscode插件开发, 有什么推荐的中文学习网站吗","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":644028,"discussion_content":"应该可以试试这个：https://time.geekbang.org/column/intro/100016901\n\n不过我不知道为什么这个课程下架了？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1714901962,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"河南","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":390032,"user_name":"WGH丶","can_delete":false,"product_type":"c3","uid":1922568,"ip_address":"陕西","ucode":"02E43256770C62","user_header":"https://static001.geekbang.org/account/avatar/00/1d/56/08/bd75f114.jpg","comment_is_top":false,"comment_ctime":1714141660,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"“类实现接口并以此为外观交付实例”---牛啤！","like_count":3}]}
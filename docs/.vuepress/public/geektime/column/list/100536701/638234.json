{"id":638234,"title":"02ï½œæ‰©å±•Beanï¼šå¦‚ä½•é…ç½®constructorã€propertyå’Œinit-methodï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯éƒ­å±¹ã€‚</p><p>ä¸ŠèŠ‚è¯¾ï¼Œæˆ‘ä»¬åˆæ­¥å®ç°äº†ä¸€ä¸ªMiniSpringæ¡†æ¶ï¼Œå®ƒå¾ˆåŸå§‹ä¹Ÿå¾ˆç®€å•ã€‚æˆ‘ä»¬å®ç°äº†ä¸€ä¸ªBeanFactoryï¼Œä½œä¸ºä¸€ä¸ªå®¹å™¨å¯¹Beanè¿›è¡Œç®¡ç†ï¼Œæˆ‘ä»¬è¿˜å®šä¹‰äº†æ•°æ®æºæ¥å£Resourceï¼Œå¯ä»¥å°†å¤šç§æ•°æ®æºæ³¨å…¥Beanã€‚</p><p>è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬ç»§ç»­å¢å¼ºIoCå®¹å™¨ï¼Œæˆ‘ä»¬è¦åšçš„ä¸»è¦æœ‰3ç‚¹ã€‚</p><ol>\n<li>å¢åŠ å•ä¾‹Beançš„æ¥å£å®šä¹‰ï¼Œç„¶åæŠŠæ‰€æœ‰çš„Beané»˜è®¤ä¸ºå•ä¾‹æ¨¡å¼ã€‚</li>\n<li>é¢„ç•™äº‹ä»¶ç›‘å¬çš„æ¥å£ï¼Œæ–¹ä¾¿åç»­è¿›ä¸€æ­¥è§£è€¦ä»£ç é€»è¾‘ã€‚</li>\n<li>æ‰©å±•BeanDefinitionï¼Œæ·»åŠ ä¸€äº›å±æ€§ï¼Œç°åœ¨å®ƒåªæœ‰idå’Œclassä¸¤ä¸ªå±æ€§ï¼Œæˆ‘ä»¬è¦è¿›ä¸€æ­¥åœ°ä¸°å¯Œå®ƒã€‚</li>\n</ol><h2>æ„å»ºå•ä¾‹çš„Bean</h2><p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•æ„å»ºå•ä¾‹çš„Beanï¼Œå¹¶å¯¹è¯¥Beanè¿›è¡Œç®¡ç†ã€‚</p><p>å•ä¾‹ï¼ˆSingletonï¼‰æ˜¯æŒ‡æŸä¸ªç±»åœ¨æ•´ä¸ªç³»ç»Ÿå†…åªæœ‰å”¯ä¸€çš„å¯¹è±¡å®ä¾‹ã€‚åªè¦èƒ½è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œé‡‡ç”¨ä»€ä¹ˆæŠ€æœ¯æ‰‹æ®µéƒ½æ˜¯å¯ä»¥çš„ã€‚å¸¸ç”¨çš„å®ç°å•ä¾‹çš„æ–¹å¼æœ‰ä¸ä¸‹äº”ç§ï¼Œå› ä¸ºæˆ‘ä»¬æ„å»ºå•ä¾‹çš„ç›®çš„æ˜¯æ·±å…¥ç†è§£Springæ¡†æ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šæŒ‰ç…§Springçš„å®ç°æ–¹å¼æ¥åšã€‚</p><p>ä¸ºäº†å’ŒSpringæ¡†æ¶å†…çš„æ–¹æ³•åä¿æŒä¸€è‡´ï¼Œæˆ‘ä»¬æŠŠBeanFactoryæ¥å£ä¸­å®šä¹‰çš„registryBeanDefinitionæ–¹æ³•ä¿®æ”¹ä¸ºregistryBeanï¼Œå‚æ•°ä¿®æ”¹ä¸ºbeanNameä¸objã€‚å…¶ä¸­ï¼Œobjä¸ºObjectç±»ï¼ŒæŒ‡ä»£ä¸beanNameå¯¹åº”çš„Beançš„ä¿¡æ¯ã€‚ä½ å¯ä»¥çœ‹ä¸‹ä¿®æ”¹åçš„BeanFactoryã€‚</p><!-- [[[read_end]]] --><pre><code class=\"language-java\">public interface BeanFactory {\n&nbsp; &nbsp; Object getBean(String beanName) throws BeansException;\n&nbsp; &nbsp; Boolean containsBean(String name);\n&nbsp; &nbsp; void registerBean(String beanName, Object obj);\n}\n</code></pre><p>æ—¢ç„¶è¦ç®¡ç†å•ä¾‹Beanï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å®šä¹‰ä¸€ä¸‹SingletonBeanRegistryï¼Œå°†ç®¡ç†å•ä¾‹Beançš„æ–¹æ³•è§„èŒƒå¥½ã€‚</p><pre><code class=\"language-java\">public interface SingletonBeanRegistry {\n&nbsp; &nbsp; void registerSingleton(String beanName, Object singletonObject);\n&nbsp; &nbsp; Object getSingleton(String beanName);\n&nbsp; &nbsp; boolean containsSingleton(String beanName);\n&nbsp; &nbsp; String[] getSingletonNames();\n}\n</code></pre><p>ä½ çœ‹è¿™ä¸ªç±»çš„åç§°ä¸Šå¸¦æœ‰Registryå­—æ ·ï¼Œæ‰€ä»¥è®©äººä¸€çœ¼å°±èƒ½çŸ¥é“è¿™é‡Œé¢å­˜å‚¨çš„å°±æ˜¯Beanã€‚ä»ä»£ç å¯ä»¥çœ‹åˆ°é‡Œé¢çš„æ–¹æ³• åç§°ç®€å•ç›´æ¥ï¼Œåˆ†åˆ«å¯¹åº”å•ä¾‹çš„æ³¨å†Œã€è·å–ã€åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Œä»¥åŠè·å–æ‰€æœ‰çš„å•ä¾‹Beanç­‰æ“ä½œã€‚</p><p>æ¥å£å·²ç»å®šä¹‰å¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªé»˜è®¤çš„å®ç°ç±»ã€‚è¿™ä¹Ÿæ˜¯ä»Springé‡Œå­¦çš„æ–¹æ³•ï¼Œå®ƒä½œä¸ºä¸€ä¸ªæ¡†æ¶å¹¶ä¸ä¼šæŠŠä»£ç å†™æ­»ï¼Œæ‰€ä»¥è¿™é‡Œé¢çš„å¾ˆå¤šå®ç°ç±»éƒ½æ˜¯é»˜è®¤çš„ï¼Œé»˜è®¤æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯æˆ‘ä»¬å¯ä»¥å»æ›¿æ¢ï¼Œä¸ç”¨è¿™äº›é»˜è®¤çš„ç±»ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚æˆ‘ä»¬å°±æŒ‰ç…§åŒæ ·çš„æ–¹æ³•ï¼Œæ¥ä¸ºæˆ‘ä»¬çš„é»˜è®¤å®ç°ç±»å–ä¸ªåå­—DefaultSingletonBeanRegistryã€‚</p><pre><code class=\"language-java\">public class DefaultSingletonBeanRegistry implements SingletonBeanRegistry {\n    //å®¹å™¨ä¸­å­˜æ”¾æ‰€æœ‰beançš„åç§°çš„åˆ—è¡¨\n    protected List&lt;String&gt; beanNames = new ArrayList&lt;&gt;();\n    //å®¹å™¨ä¸­å­˜æ”¾æ‰€æœ‰beanå®ä¾‹çš„map\n    protected Map&lt;String, Object&gt; singletons = new ConcurrentHashMap&lt;&gt;(256);\n\n    public void registerSingleton(String beanName, Object singletonObject) {\n        synchronized (this.singletons) {\n            this.singletons.put(beanName, singletonObject);\n            this.beanNames.add(beanName);\n        }\n    }\n    public Object getSingleton(String beanName) {\n        return this.singletons.get(beanName);\n    }\n    public boolean containsSingleton(String beanName) {\n        return this.singletons.containsKey(beanName);\n    }\n    public String[] getSingletonNames() {\n        return (String[]) this.beanNames.toArray();\n    }\n    protected void removeSingleton(String beanName) {\n        synchronized (this.singletons) {\n            this.beanNames.remove(beanName);\n            this.singletons.remove(beanName);\n        }\n    }\n}\n</code></pre><p>æˆ‘ä»¬åœ¨é»˜è®¤çš„è¿™ä¸ªç±»ä¸­ï¼Œå®šä¹‰äº†beanNamesåˆ—è¡¨å’Œsingletonsçš„æ˜ å°„å…³ç³»ï¼ŒbeanNamesç”¨äºå­˜å‚¨æ‰€æœ‰å•ä¾‹Beançš„åˆ«åï¼Œsingletonsåˆ™å­˜å‚¨Beanåç§°å’Œå®ç°ç±»çš„æ˜ å°„å…³ç³»ã€‚</p><p>è¿™æ®µä»£ç ä¸­è¦ç•™æ„çš„æ˜¯ï¼Œæˆ‘ä»¬å°† singletons å®šä¹‰ä¸ºäº†ä¸€ä¸ªConcurrentHashMapï¼Œè€Œä¸”åœ¨å®ç° registrySingleton æ—¶å‰é¢åŠ äº†ä¸€ä¸ªå…³é”®å­—synchronizedã€‚è¿™ä¸€åˆ‡éƒ½æ˜¯ä¸ºäº†ç¡®ä¿åœ¨å¤šçº¿ç¨‹å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä»ç„¶èƒ½å®‰å…¨åœ°å®ç°å¯¹å•ä¾‹Beançš„ç®¡ç†ï¼Œæ— è®ºæ˜¯å•çº¿ç¨‹è¿˜æ˜¯å¤šçº¿ç¨‹ï¼Œæˆ‘ä»¬æ•´ä¸ªç³»ç»Ÿé‡Œé¢è¿™ä¸ªBeanæ€»æ˜¯å”¯ä¸€çš„ã€å•ä¾‹çš„ã€‚</p><p>è¿˜è®°å¾—æˆ‘ä»¬æœ‰SimpleBeanFactoryè¿™æ ·ä¸€ä¸ªç®€å•çš„BeanFactoryå®ç°ç±»å—ï¼Ÿæ¥ä¸‹æ¥æˆ‘ä»¬ä¿®æ”¹è¿™ä¸ªç±»ï¼Œè®©å®ƒç»§æ‰¿ä¸Šä¸€æ­¥åˆ›å»ºçš„DefaultSingletonBeanRegistryï¼Œç¡®ä¿æˆ‘ä»¬é€šè¿‡SimpleBeanFactoryåˆ›å»ºçš„Beané»˜è®¤å°±æ˜¯å•ä¾‹çš„ï¼Œè¿™ä¹Ÿå’ŒSpringæœ¬èº«çš„å¤„ç†æ–¹å¼ä¸€è‡´ã€‚</p><pre><code class=\"language-java\">public class SimpleBeanFactory extends DefaultSingletonBeanRegistry implements BeanFactory{\n    private Map&lt;String, BeanDefinition&gt; beanDefinitions = new ConcurrentHashMap&lt;&gt;(256);\n    public SimpleBeanFactory() {\n    }\n\n    //getBeanï¼Œå®¹å™¨çš„æ ¸å¿ƒæ–¹æ³•\n    public Object getBean(String beanName) throws BeansException {\n        //å…ˆå°è¯•ç›´æ¥æ‹¿beanå®ä¾‹\n        Object singleton = this.getSingleton(beanName);\n        //å¦‚æœæ­¤æ—¶è¿˜æ²¡æœ‰è¿™ä¸ªbeançš„å®ä¾‹ï¼Œåˆ™è·å–å®ƒçš„å®šä¹‰æ¥åˆ›å»ºå®ä¾‹\n        if (singleton == null) {\n            //è·å–beançš„å®šä¹‰\n            BeanDefinition beanDefinition = beanDefinitions.get(beanName);\n            if (beanDefinition == null) {\n                throw new BeansException(\"No bean.\");\n            }\n            try {\n                singleton = Class.forName(beanDefinition.getClassName()).newInstance();\n            } \n            //æ–°æ³¨å†Œè¿™ä¸ªbeanå®ä¾‹\n            this.registerSingleton(beanName, singleton);\n        }\n        return singleton;\n    }\n    public void registerBeanDefinition(BeanDefinition beanDefinition) {\n        this.beanDefinitions.put(beanDefinition.getId(), beanDefinition);\n    }\n    public Boolean containsBean(String name) {\n        return containsSingleton(name);\n    }\n    public void registerBean(String beanName, Object obj) {\n        this.registerSingleton(beanName, obj);\n    }\n}\n\n</code></pre><p>æˆ‘ä»¬å¯¹ SimpleBeanFactory çš„ä¸»è¦æ”¹åŠ¨æ˜¯å¢åŠ äº†å¯¹containsBeanå’ŒregisterBeançš„å®ç°ã€‚é€šè¿‡ä»£ç å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸¤å¤„å®ç°éƒ½æ˜¯å¯¹å•ä¾‹Beançš„æ“ä½œã€‚</p><p>è¿™éƒ¨åˆ†è¿˜æœ‰ä¸¤ä¸ªç±»éœ€è¦è°ƒæ•´ï¼šClassPathXmlApplicationContextå’ŒXmlBeanDefinitionReaderã€‚å…¶ä¸­ClassPathXmlApplicationContexté‡Œå¢åŠ äº†å¯¹containsBeanå’ŒregisterBeançš„å®ç°ã€‚</p><pre><code class=\"language-java\">public Boolean containsBean(String name) {\n    return this.beanFactory.containsBean(name);\n}\npublic void registerBean(String beanName, Object obj) {\n    this.beanFactory.registerBean(beanName, obj);\n}\n</code></pre><p>XmlBeanDefinitionReaderè°ƒæ•´åå¦‚ä¸‹ï¼š</p><pre><code class=\"language-java\">public class XmlBeanDefinitionReader {\n    SimpleBeanFactory simpleBeanFactory;\n    public XmlBeanDefinitionReader(SimpleBeanFactory simpleBeanFactory) {\n        this.simpleBeanFactory = simpleBeanFactory;\n    }\n    public void loadBeanDefinitions(Resource resource) {\n        while (resource.hasNext()) {\n            Element element = (Element) resource.next();\n            String beanID = element.attributeValue(\"id\");\n            String beanClassName = element.attributeValue(\"class\");\n            BeanDefinition beanDefinition = new BeanDefinition(beanID, beanClassName);\n            this.simpleBeanFactory.registerBeanDefinition(beanDefinition);\n        }\n    }\n}\n\n</code></pre><h2>å¢åŠ äº‹ä»¶ç›‘å¬</h2><p>æ„å»ºå¥½å•ä¾‹Beanä¹‹åï¼Œä¸ºäº†ç›‘æ§å®¹å™¨çš„å¯åŠ¨çŠ¶æ€ï¼Œæˆ‘ä»¬è¦å¢åŠ äº‹ä»¶ç›‘å¬ã€‚</p><p>æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸‹ApplicationEventå’ŒApplicationEventPublisherã€‚é€šè¿‡åå­—å¯ä»¥çœ‹å‡ºï¼Œä¸€ä¸ªæ˜¯ç”¨äºç›‘å¬åº”ç”¨çš„äº‹ä»¶ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯å‘å¸ƒäº‹ä»¶ã€‚</p><ul>\n<li>ApplicationEventPublisherçš„å®ç°</li>\n</ul><pre><code class=\"language-java\">public interface ApplicationEventPublisher {\n    void publishEvent(ApplicationEvent event);\n}\n</code></pre><ul>\n<li>ApplicationEventçš„å®ç°</li>\n</ul><pre><code class=\"language-java\">public class ApplicationEvent  extends EventObject {\n    private static final long serialVersionUID = 1L;\n    public ApplicationEvent(Object arg0) {\n        super(arg0);\n    }\n}\n</code></pre><p>å¯ä»¥çœ‹å‡ºï¼ŒApplicationEventç»§æ‰¿äº†Javaå·¥å…·åŒ…å†…çš„EventObjectï¼Œæˆ‘ä»¬æ˜¯åœ¨Javaçš„äº‹ä»¶ç›‘å¬çš„åŸºç¡€ä¸Šè¿›è¡Œäº†ç®€å•çš„å°è£…ã€‚è™½ç„¶ç›®å‰è¿˜æ²¡æœ‰ä»»ä½•å®ç°ï¼Œä½†è¿™ä¸ºæˆ‘ä»¬åç»­ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼è§£è€¦ä»£ç æä¾›äº†å…¥å£ã€‚</p><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥å¢å¼ºäº†IoCå®¹å™¨ï¼Œè¿˜å¼•å…¥äº†ä¸¤ä¸ªæ–°æ¦‚å¿µï¼š<strong>å•ä¾‹Beanå’Œäº‹ä»¶ç›‘å¬ã€‚</strong>å…¶ä¸­ï¼Œäº‹ä»¶ç›‘å¬è¿™éƒ¨åˆ†ç›®å‰åªé¢„ç•™äº†å…¥å£ï¼Œæ–¹ä¾¿æˆ‘ä»¬åç»­æ‰©å±•ã€‚è€Œå•ä¾‹Beanåˆ™æ˜¯Springæ¡†æ¶é»˜è®¤çš„å®ç°ï¼Œæˆ‘ä»¬æä¾›äº†ç›¸å…³å®ç°æ–¹æ³•ï¼Œå¹¶è€ƒè™‘åˆ°å¤šçº¿ç¨‹é«˜å¹¶å‘çš„åœºæ™¯ï¼Œå¼•å…¥äº†ConcurrentHashMapæ¥å­˜å‚¨Beanä¿¡æ¯ã€‚</p><p>åˆ°è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å®¹å™¨å°±å˜æˆäº†ç®¡ç†å•ä¾‹Beançš„å®¹å™¨äº†ã€‚ä¸‹é¢æˆ‘ä»¬åšä¸€ç‚¹å‡†å¤‡å·¥ä½œï¼Œä¸ºåé¢å¯¹è¿™äº›Beanæ³¨å…¥å±æ€§å€¼åšé“ºå«ã€‚</p><h2>æ³¨å…¥</h2><p>Springä¸­æœ‰ä¸‰ç§å±æ€§æ³¨å…¥çš„æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯<strong>Fieldæ³¨å…¥ã€Setteræ³¨å…¥å’Œæ„é€ å™¨ï¼ˆConstructorï¼‰æ³¨å…¥ã€‚</strong>Fieldæ³¨å…¥æ˜¯æŒ‡æˆ‘ä»¬ç»™Beané‡Œé¢æŸä¸ªå˜é‡èµ‹å€¼ã€‚Setteræ³¨å…¥æ˜¯æä¾›äº†ä¸€ä¸ªsetteræ–¹æ³•ï¼Œè°ƒç”¨setXXX()æ¥æ³¨å…¥å€¼ã€‚constructorå°±æ˜¯åœ¨æ„é€ å™¨/æ„é€ å‡½æ•°é‡Œä¼ å…¥å‚æ•°æ¥è¿›è¡Œæ³¨å…¥ã€‚Fieldæ³¨å…¥æˆ‘ä»¬åé¢ä¼šå®ç°ï¼Œè¿™èŠ‚è¯¾æˆ‘ä»¬å…ˆæ¢è®¨Setteræ³¨å…¥å’Œæ„é€ å™¨æ³¨å…¥ä¸¤ç§æ–¹å¼ã€‚</p><h3>é…ç½®Setteræ³¨å…¥</h3><p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸‹é…ç½®ï¼Œåœ¨XMLæ–‡ä»¶ä¸­æˆ‘ä»¬æ˜¯æ€ä¹ˆå£°æ˜ä½¿ç”¨Setteræ³¨å…¥æ–¹å¼çš„ã€‚</p><pre><code class=\"language-xml\">&lt;beans&gt;\n    &lt;bean id=\"aservice\" class=\"com.minis.test.AServiceImpl\"&gt;\n        &lt;property type=\"String\" name=\"property1\" value=\"Hello World!\"/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre><p>ç”±ä¸Šé¢çš„ç¤ºä¾‹å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬åœ¨ <code>&lt;bean&gt;</code> æ ‡ç­¾ä¸‹å¼•å…¥äº† <code>&lt;property&gt;</code> æ ‡ç­¾ï¼Œå®ƒåˆåŒ…å«äº†typeã€nameå’Œvalueï¼Œåˆ†åˆ«å¯¹åº”å±æ€§ç±»å‹ã€å±æ€§åç§°ä»¥åŠèµ‹å€¼ã€‚ä½ å¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªBeançš„ä»£ç ã€‚</p><pre><code class=\"language-java\">public class AServiceImpl {\n  private String property1;\n\n  public void setProperty1(String property1) {\n    this.property1 = property1;\n  }\n}\n</code></pre><h3>é…ç½®æ„é€ å™¨æ³¨å…¥</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬å†çœ‹çœ‹æ€ä¹ˆå£°æ˜æ„é€ å™¨æ³¨å…¥ï¼ŒåŒæ ·æ˜¯åœ¨XMLé‡Œé…ç½®ã€‚</p><pre><code class=\"language-xml\">&lt;beans&gt;\n    &lt;bean id=\"aservice\" class=\"com.minis.test.AServiceImpl\"&gt;\n      &lt;constructor-arg type=\"String\" name=\"name\" value=\"abc\"/&gt;\n      &lt;constructor-arg type=\"int\" name=\"level\" value=\"3\"/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸Setteræ³¨å…¥ç±»ä¼¼ï¼Œæˆ‘ä»¬åªæ˜¯æŠŠ <code>&lt;property&gt;</code> æ ‡ç­¾æ¢æˆäº† <code>&lt;constructor-args&gt;</code> æ ‡ç­¾ã€‚</p><pre><code class=\"language-java\">public class AServiceImpl {\n  \n  private String name;\n  private int level;\n\n  public AServiceImpl(String name, int level) {\n    this.name = name;\n    this.level = level;\n  }\n}\n</code></pre><p>ç”±ä¸Šè¿°ä¸¤ç§æ–¹å¼å¯ä»¥çœ‹å‡ºï¼Œ<strong>æ³¨å…¥æ“ä½œçš„æœ¬è´¨ï¼Œå°±æ˜¯ç»™Beançš„å„ä¸ªå±æ€§è¿›è¡Œèµ‹å€¼ã€‚</strong>å…·ä½“æ–¹å¼å–å†³äºå®é™…æƒ…å†µï¼Œå“ªä¸€ç§æ›´ä¾¿æ·å°±å¯ä»¥é€‰æ‹©å“ªä¸€ç§ã€‚å¦‚æœé‡‡ç”¨æ„é€ å™¨æ³¨å…¥çš„æ–¹å¼æ»¡è¶³ä¸äº†å¯¹åŸŸçš„èµ‹å€¼ï¼Œä¹Ÿå¯ä»¥å°†æ„é€ å™¨æ³¨å…¥å’ŒSetteræ³¨å…¥æ­é…ä½¿ç”¨ã€‚</p><pre><code class=\"language-xml\">&lt;beans&gt;\n    &lt;bean id=\"aservice\" class=\"com.minis.test.AServiceImpl\"&gt;\n        &lt;constructor-arg type=\"String\" name=\"name\" value=\"abc\"/&gt;\n        &lt;constructor-arg type=\"int\" name=\"level\" value=\"3\"/&gt;\n        &lt;property type=\"String\" name=\"property1\" value=\"Someone says\"/&gt;\n        &lt;property type=\"String\" name=\"property2\" value=\"Hello World!\"/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre><p>ç°åœ¨æˆ‘ä»¬å·²ç»æ˜ç¡®äº† <code>&lt;property&gt;</code> å’Œ <code>&lt;constructor-args&gt;</code> æ ‡ç­¾çš„å®šä¹‰ï¼Œä½†æ˜¯åªæœ‰å¤–éƒ¨çš„XMLæ–‡ä»¶é…ç½®å®šä¹‰è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œè¿˜è¦å»å®ç°ã€‚è¿™å°±æ˜¯æˆ‘ä»¬æ¥ä¸‹æ¥éœ€è¦å®Œæˆçš„å·¥ä½œã€‚</p><h2>å®ç°å±æ€§ç±»</h2><p>ä¸è¿™ä¸ªå®šä¹‰ç›¸å…³ï¼Œæˆ‘ä»¬è¦é…ç½®å¯¹åº”çš„å±æ€§ç±»ï¼Œåˆ†åˆ«å‘½åä¸ºArgumentValueå’ŒPropertyValueã€‚</p><pre><code class=\"language-java\">public class ArgumentValue {\n    private Object value;\n    private String type;\n    private String name;\n    public ArgumentValue(Object value, String type) {\n        this.value = value;\n        this.type = type;\n    }\n    public ArgumentValue(Object value, String type, String name) {\n        this.value = value;\n        this.type = type;\n        this.name = name;\n    }\n    //çœç•¥getterå’Œsetter\n}\n</code></pre><pre><code class=\"language-java\">public class PropertyValue {\n    private final String name;\n    private final Object value;\n    public PropertyValue(String name, Object value) {\n        this.name = name;\n        this.value = value;\n    }\n    //çœç•¥getter\n}\n</code></pre><p>æˆ‘ä»¬çœ‹Valueè¿™ä¸ªè¯ï¼Œåé¢ä¸å¸¦â€œsâ€å°±è¡¨ç¤ºä»–åªæ˜¯é’ˆå¯¹çš„æŸä¸€ä¸ªå±æ€§æˆ–è€…æŸä¸€ä¸ªå‚æ•°ï¼Œä½†ä¸€ä¸ªBeané‡Œé¢æœ‰å¾ˆå¤šå±æ€§ã€å¾ˆå¤šå‚æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªå¸¦â€œsâ€çš„é›†åˆç±»ã€‚ åœ¨Springä¸­ä¹Ÿæ˜¯è¿™æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å‚è€ƒSpringçš„æ–¹æ³•ï¼Œæä¾›äº†ArgumentValueså’ŒPropertyValuesä¸¤ä¸ªç±»ï¼Œå°è£…ã€ å¢åŠ ã€è·å–ã€åˆ¤æ–­ç­‰æ“ä½œæ–¹æ³•ï¼Œç®€åŒ–è°ƒç”¨ã€‚æ—¢ç»™å¤–é¢æä¾›å•ä¸ªçš„å‚æ•°/å±æ€§çš„å¯¹è±¡ï¼Œä¹Ÿæä¾›é›†åˆå¯¹è±¡ã€‚</p><ul>\n<li>ArgumentValuesç±»</li>\n</ul><pre><code class=\"language-java\">public class ArgumentValues {\n    private final Map&lt;Integer, ArgumentValue&gt; indexedArgumentValues = new HashMap&lt;&gt;(0);\n    private final List&lt;ArgumentValue&gt; genericArgumentValues = new LinkedList&lt;&gt;();\n    public ArgumentValues() {\n    }\n    private void addArgumentValue(Integer key, ArgumentValue newValue) {\n        this.indexedArgumentValues.put(key, newValue);\n    }\n    public boolean hasIndexedArgumentValue(int index) {\n        return this.indexedArgumentValues.containsKey(index);\n    }\n    public ArgumentValue getIndexedArgumentValue(int index) {\n        return this.indexedArgumentValues.get(index);\n    }\n    public void addGenericArgumentValue(Object value, String type) {\n        this.genericArgumentValues.add(new ArgumentValue(value, type));\n    }\n    private void addGenericArgumentValue(ArgumentValue newValue) {\n        if (newValue.getName() != null) {\n            for (Iterator&lt;ArgumentValue&gt; it =\n                 this.genericArgumentValues.iterator(); it.hasNext(); ) {\n                ArgumentValue currentValue = it.next();\n                if (newValue.getName().equals(currentValue.getName())) {\n                    it.remove();\n                }\n            }\n        }\n        this.genericArgumentValues.add(newValue);\n    }\n    public ArgumentValue getGenericArgumentValue(String requiredName) {\n        for (ArgumentValue valueHolder : this.genericArgumentValues) {\n            if (valueHolder.getName() != null &amp;&amp; (requiredName == null || !valueHolder.getName().equals(requiredName))) {\n                continue;\n            }\n            return valueHolder;\n        }\n        return null;\n    }\n    public int getArgumentCount() {\n        return this.genericArgumentValues.size();\n    }\n    public boolean isEmpty() {\n        return this.genericArgumentValues.isEmpty();\n    }\n}\n</code></pre><ul>\n<li>PropertyValuesç±»</li>\n</ul><pre><code class=\"language-java\">public class PropertyValues {\n    private final List&lt;PropertyValue&gt; propertyValueList;\n    public PropertyValues() {\n        this.propertyValueList = new ArrayList&lt;&gt;(0);\n    }\n    public List&lt;PropertyValue&gt; getPropertyValueList() {\n        return this.propertyValueList;\n    }\n    public int size() {\n        return this.propertyValueList.size();\n    }\n    public void addPropertyValue(PropertyValue pv) {\n        this.propertyValueList.add(pv);\n    }\n    public void addPropertyValue(String propertyName, Object propertyValue) {\n        addPropertyValue(new PropertyValue(propertyName, propertyValue));\n    }\n    public void removePropertyValue(PropertyValue pv) {\n        this.propertyValueList.remove(pv);\n    }\n    public void removePropertyValue(String propertyName) {\n        this.propertyValueList.remove(getPropertyValue(propertyName));\n    }\n    public PropertyValue[] getPropertyValues() {\n        return this.propertyValueList.toArray(new PropertyValue[this.propertyValueList.size()]);\n    }\n    public PropertyValue getPropertyValue(String propertyName) {\n        for (PropertyValue pv : this.propertyValueList) {\n            if (pv.getName().equals(propertyName)) {\n                return pv;\n            }\n        }\n        return null;\n    }\n    public Object get(String propertyName) {\n        PropertyValue pv = getPropertyValue(propertyName);\n        return pv != null ? pv.getValue() : null;\n    }\n    public boolean contains(String propertyName) {\n        return getPropertyValue(propertyName) != null;\n    }\n    public boolean isEmpty() {\n        return this.propertyValueList.isEmpty();\n    }\n}\n</code></pre><p>ä¸Šé¢è¿™äº›ä»£ç æ•´ä½“è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œæ ¹æ®å„ä¸ªå°è£…æ–¹æ³•çš„åç§°ï¼Œä¹ŸåŸºæœ¬èƒ½æ˜ç¡®å®ƒä»¬çš„ç”¨é€”ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚å¯¹äºæ„é€ å™¨æ³¨å…¥å’ŒSetteræ³¨å…¥ä¸¤ç§æ–¹å¼ï¼Œè¿™é‡Œæˆ‘ä»¬åªæ˜¯åˆæ­¥å®šä¹‰ç›¸å…³ç±»ï¼Œåšä¸€ç‚¹å‡†å¤‡ï¼Œåé¢æˆ‘ä»¬å°†å®ç°å…·ä½“è§£æä»¥åŠæ³¨å…¥çš„è¿‡ç¨‹ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¿˜è¦åšä¸¤ä»¶äº‹ã€‚</p><ol>\n<li>æ‰©å±•BeanDefinitionçš„å±æ€§ï¼Œåœ¨åŸæœ‰idä¸nameä¸¤ä¸ªå±æ€§çš„åŸºç¡€ä¸Šï¼Œæ–°å¢lazyInitã€dependsOnã€initMethodNameç­‰å±æ€§ã€‚</li>\n<li>ç»§ç»­æ‰©å±•BeanFactoryæ¥å£ï¼Œå¢å¼ºå¯¹Beançš„å¤„ç†èƒ½åŠ›ã€‚</li>\n</ol><h2>æ‰©å±•BeanDefinition</h2><p>æˆ‘ä»¬å…ˆç»™BeanDefinitionå’ŒBeanFactoryå¢åŠ æ–°çš„æ¥å£ï¼Œæ–°å¢æ¥å£åŸºæœ¬ä¸Šæ˜¯é€‚é…BeanDefinitionæ–°å¢å±æ€§çš„ã€‚</p><p>æˆ‘ä»¬ç»™BeanDefinitionç±»æ·»åŠ äº†å“ªäº›å±æ€§å‘¢ï¼Ÿä¸€èµ·æ¥çœ‹ä¸‹ã€‚</p><pre><code class=\"language-java\">public class BeanDefinition {\n    String SCOPE_SINGLETON = \"singleton\";\n    String SCOPE_PROTOTYPE = \"prototype\";\n    private boolean lazyInit = false;\n    private String[] dependsOn;\n    private ArgumentValues constructorArgumentValues;\n    private PropertyValues propertyValues;\n    private String initMethodName;\n    private volatile Object beanClass;\n    private String id;\n    private String className;\n    private String scope = SCOPE_SINGLETON;\n    public BeanDefinition(String id, String className) {\n        this.id = id;\n        this.className = className;\n    }\n    //çœç•¥getterå’Œsetter\n}\n</code></pre><p>ä»ä¸Šé¢ä»£ç å¯ä»¥çœ‹å‡ºï¼Œä¹‹å‰æˆ‘ä»¬åªæœ‰idå’ŒclassNameå±æ€§ï¼Œç°åœ¨å¢åŠ äº†scopeå±æ€§ï¼Œè¡¨ç¤ºbeanæ˜¯å•ä¾‹æ¨¡å¼è¿˜æ˜¯åŸå‹æ¨¡å¼ï¼Œè¿˜å¢åŠ äº†lazyInitå±æ€§ï¼Œè¡¨ç¤ºBeanè¦ä¸è¦åœ¨åŠ è½½çš„æ—¶å€™åˆå§‹åŒ–ï¼Œä»¥åŠåˆå§‹åŒ–æ–¹æ³•initMethodNameçš„å£°æ˜ï¼Œå½“ä¸€ä¸ªBeanæ„é€ å¥½å¹¶å®ä¾‹åŒ–ä¹‹åæ˜¯å¦è¦è®©æ¡†æ¶è°ƒç”¨åˆå§‹åŒ–æ–¹æ³•ã€‚è¿˜æœ‰dependsOnå±æ€§è®°å½•Beanä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œæœ€åè¿˜æœ‰æ„é€ å™¨å‚æ•°å’Œpropertyåˆ—è¡¨ã€‚</p><h2>é›†ä¸­å­˜æ”¾BeanDefinition</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ–°å¢BeanDefinitionRegistryæ¥å£ã€‚å®ƒç±»ä¼¼äºä¸€ä¸ªå­˜æ”¾BeanDefinitionçš„ä»“åº“ï¼Œå¯ä»¥å­˜æ”¾ã€ç§»é™¤ã€è·å–åŠåˆ¤æ–­BeanDefinitionå¯¹è±¡ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åˆæ­¥å®šä¹‰å››ä¸ªæ¥å£å¯¹åº”è¿™å››ä¸ªåŠŸèƒ½ï¼Œåˆ†åˆ«æ˜¯registerã€removeã€getã€containsã€‚</p><pre><code class=\"language-java\">public interface BeanDefinitionRegistry {\n&nbsp; &nbsp; void registerBeanDefinition(String name, BeanDefinition bd);\n&nbsp; &nbsp; void removeBeanDefinition(String name);\n&nbsp; &nbsp; BeanDefinition getBeanDefinition(String name);\n&nbsp; &nbsp; boolean containsBeanDefinition(String name);\n}\n</code></pre><p>éšåè°ƒæ•´BeanFactoryï¼Œæ–°å¢Singletonã€Prototypeçš„åˆ¤æ–­ï¼Œè·å–Beançš„ç±»å‹ã€‚</p><pre><code class=\"language-java\">public interface BeanFactory {\n&nbsp; &nbsp; Object getBean(String name) throws BeansException;\n&nbsp; &nbsp; boolean containsBean(String name);\n&nbsp; &nbsp; boolean isSingleton(String name);\n&nbsp; &nbsp; boolean isPrototype(String name);\n&nbsp; &nbsp; Class&lt;?&gt; getType(String name);\n}\n</code></pre><p>é€šè¿‡ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬è®©SimpleBeanFactoryå®ç°äº†BeanDefinitionRegistryï¼Œè¿™æ ·SimpleBeanFactoryæ—¢æ˜¯ä¸€ä¸ªå·¥å‚åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªä»“åº“ï¼Œä½ å¯ä»¥çœ‹ä¸‹è°ƒæ•´åçš„éƒ¨åˆ†ä»£ç ã€‚</p><pre><code class=\"language-java\">public class SimpleBeanFactory extends DefaultSingletonBeanRegistry implements BeanFactory, BeanDefinitionRegistry{\n    private Map&lt;String, BeanDefinition&gt; beanDefinitionMap = new ConcurrentHashMap&lt;&gt;(256);\n    private List&lt;String&gt; beanDefinitionNames = new ArrayList&lt;&gt;();\n\n    public void registerBeanDefinition(String name, BeanDefinition beanDefinition) {\n        this.beanDefinitionMap.put(name, beanDefinition);\n        this.beanDefinitionNames.add(name);\n        if (!beanDefinition.isLazyInit()) {\n            try {\n                getBean(name);\n            } catch (BeansException e) {\n            }\n        }\n    }\n    public void removeBeanDefinition(String name) {\n        this.beanDefinitionMap.remove(name);\n        this.beanDefinitionNames.remove(name);\n        this.removeSingleton(name);\n    }\n    public BeanDefinition getBeanDefinition(String name) {\n        return this.beanDefinitionMap.get(name);\n    }\n    public boolean containsBeanDefinition(String name) {\n        return this.beanDefinitionMap.containsKey(name);\n    }\n    public boolean isSingleton(String name) {\n        return this.beanDefinitionMap.get(name).isSingleton();\n    }\n    public boolean isPrototype(String name) {\n        return this.beanDefinitionMap.get(name).isPrototype();\n    }\n    public Class&lt;?&gt; getType(String name) {\n        return this.beanDefinitionMap.get(name).getClass();\n    }\n}\n</code></pre><p>ä¿®æ”¹å®ŒBeanFactoryè¿™ä¸ªæ ¸å¿ƒä¹‹åï¼Œä¸Šå±‚å¯¹åº”çš„ ClassPathXmlApplicationContextéƒ¨åˆ†ä½œä¸ºå¤–éƒ¨é›†æˆåŒ…è£…ä¹Ÿéœ€è¦ä¿®æ”¹ã€‚</p><pre><code class=\"language-java\">public class ClassPathXmlApplicationContext implements BeanFactory,&nbsp;\nApplicationEventPublisher{\n&nbsp; &nbsp; public void publishEvent(ApplicationEvent event) {\n&nbsp; &nbsp; }\n&nbsp; &nbsp; public boolean isSingleton(String name) {\n&nbsp; &nbsp; &nbsp; &nbsp; return false;\n&nbsp; &nbsp; }\n&nbsp; &nbsp; public boolean isPrototype(String name) {\n&nbsp; &nbsp; &nbsp; &nbsp; return false;\n&nbsp; &nbsp; }\n&nbsp; &nbsp; public Class&lt;?&gt; getType(String name) {\n&nbsp; &nbsp; &nbsp; &nbsp; return null;\n&nbsp; &nbsp; }\n}\n</code></pre><h2>å°ç»“</h2><p><img src=\"https://static001.geekbang.org/resource/image/48/8d/4868fb2cc4f11bd1e578c9c68430d58d.jpg?wh=3736x2085\" alt=\"\"></p><p>è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬æ¨¡ä»¿Springæ„é€ äº†å•ä¾‹Beanï¼Œè¿˜å¢åŠ äº†å®¹å™¨äº‹ä»¶ç›‘å¬å¤„ç†ï¼Œå®Œå–„äº†BeanDefinitionçš„å±æ€§ã€‚æ­¤å¤–ï¼Œå‚ç…§Springçš„å®ç°ï¼Œæˆ‘ä»¬å¢åŠ äº†ä¸€äº›æœ‰ç”¨çš„ç‰¹æ€§ï¼Œä¾‹å¦‚lazyInitï¼ŒinitMethodNameç­‰ç­‰ï¼ŒBeanFactoryä¹Ÿåšäº†ç›¸åº”çš„ä¿®æ”¹ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜æå‰ä¸ºæ„é€ å™¨æ³¨å…¥ã€Setteræ³¨å…¥æä¾›äº†åŸºæœ¬çš„å®ä¾‹ç±»ï¼Œè¿™ä¸ºåé¢å®ç°ä¸Šè¿°ä¸¤ç§ä¾èµ–æ³¨å…¥æ–¹å¼æä¾›äº†åŸºç¡€ã€‚</p><p>é€šè¿‡å¯¹ä¸Šä¸€èŠ‚è¯¾åŸå§‹IoCå®¹å™¨çš„æ‰©å±•å’Œä¸°å¯Œï¼Œå®ƒå·²ç»è¶Šæ¥è¶ŠåƒSpringæ¡†æ¶äº†ã€‚</p><p>å®Œæ•´æºä»£ç å‚è§ <a href=\"https://github.com/YaleGuo/minis\">https://github.com/YaleGuo/minis</a></p><h2>è¯¾åé¢˜</h2><p>å­¦å®Œè¿™èŠ‚è¯¾ï¼Œæˆ‘ä¹Ÿç»™ä½ ç•™ä¸€é“æ€è€ƒé¢˜ã€‚ä½ è®¤ä¸ºæ„é€ å™¨æ³¨å…¥å’ŒSetteræ³¨å…¥æœ‰ä»€ä¹ˆå¼‚åŒï¼Ÿå®ƒä»¬å„è‡ªçš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿæ¬¢è¿ä½ åœ¨ç•™è¨€åŒºä¸æˆ‘äº¤æµè®¨è®ºï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™éœ€è¦çš„æœ‹å‹ã€‚æˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ï¼</p>","neighbors":{"left":{"article_title":"01ï½œåŸå§‹IoCï¼šå¦‚ä½•é€šè¿‡BeanFactoryå®ç°åŸå§‹ç‰ˆæœ¬çš„IoCå®¹å™¨ï¼Ÿ","id":638222},"right":{"article_title":"03ï½œä¾èµ–æ³¨å…¥ï¼šå¦‚ä½•ç»™Beanæ³¨å…¥å€¼å¹¶è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜ï¼Ÿ","id":640085}},"comments":[{"had_liked":false,"id":371126,"user_name":"å§å§","can_delete":false,"product_type":"c1","uid":3021628,"ip_address":"æµ™æ±Ÿ","ucode":"1A615FA9B453DE","user_header":"https://static001.geekbang.org/account/avatar/00/2e/1b/3c/9c5fc55f.jpg","comment_is_top":false,"comment_ctime":1679561661,"is_pvip":false,"replies":[{"id":135401,"content":"èµï¼ä½ çš„ç¬”è®°å¥½å¥½æ•´ç†ï¼Œå¯ä»¥å¯¹å¤§å®¶åˆ†äº«äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1679607201,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":371126,"utype":1}],"discussion_count":5,"race_medal":0,"score":2,"product_id":100536701,"comment_content":"è¿™èŠ‚è¯¾çš„ç±»å¼€å§‹çˆ†ç‚¸äº†ï¼Œä¸€å¼€å§‹çœ‹å¾—å¾ˆæ²¡å¤´ç»ªï¼Œä½†æ˜¯ä¿—è¯è¯´â€œä¹¦è¯»ç™¾éï¼Œå…¶ä¹‰è‡ªè§â€ï¼Œä¿—è¯å¾ˆæœ‰é“ç†ï¼Œæœ€åå†³å®šä»simpleBeanFactoryå’ŒClassPathXmlApplicationContextä¸¤ä¸ªè§’åº¦ï¼Œæ€»ç»“ä¸€ä¸‹è‡ªå·±çš„ç†è§£å’Œæ„Ÿæ‚Ÿï¼Œå½“åšæ˜¯è‡ªå·±çš„ç¬”è®°ï¼š1. ä»SimpleBeanFactoryçš„è§’åº¦çœ‹ï¼Œé¦–å…ˆç†ç†ä¸‰ä¸ªæ¥å£BeanFactoryã€BeanDefinitionRegistryã€SingletonBeanRegistryï¼Œå¯¹äºè¿™ä¸‰ä¸ªæ¥å£ï¼Œå…¶ä¸­BeanFactoryã€BeanDefinitionRegistryæ˜¯ç”±SimpleBeanFactoryç›´æ¥å®ç°çš„ï¼Œè€Œå¯¹äºSingletonBeanRegistryï¼ŒSimpleBeanFactoryç»§æ‰¿äº†å®ƒçš„å®ç°ç±»DefaultSingletonBeanRegistryï¼Œèµ·åˆæˆ‘å¾ˆç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆSimpleBeanFactoryä¸åŒæ—¶å£°æ˜å®ç°SingletonBeanRegistryå¹¶ä¸”ç»§æ‰¿å®ƒçš„é»˜è®¤å®ç°ç±»å‘¢ï¼Œä½†æ˜¯åæ¥æƒ³æƒ³ä¹Ÿè®¸SimpleBeanFactoryå¯¹å¤–åªå¸Œæœ›å¤–ç•ŒçŸ¥é“è‡ªå·±æ˜¯ä¸€ä¸ªbeanFactoryå’ŒbeanDefinitionRegistryï¼Œè‡³äºsingletonBeanRegistryï¼Œå®ƒåªå¸Œæœ›ä½œä¸ºä¸€ç§å†…éƒ¨çš„èƒ½åŠ›æ¥ä½¿ç”¨ï¼Œæ‰€ä»¥ç»§æ‰¿ä¸€ä¸ªå·²ç»å®ç°çš„ç±»æ¥æ‹¥æœ‰èƒ½åŠ›ï¼Œä½†æ˜¯å£°æ˜æ¥å£çš„æ—¶å€™ä¸å£°æ˜è¿™ä¸ªæ¥å£ã€‚ç†æ¸…äº†è¿™ä¸‰ä¸ªä»¥åï¼Œå†æ¥çœ‹çœ‹å†…éƒ¨çš„ç»†èŠ‚é€»è¾‘ï¼ŒSimpleBeanFactoryçš„registerBeanDefinitionæ–¹æ³•ä¸­æ¯æ³¨å†Œä¸€ä¸ªbeanDefinitionï¼Œå¦‚æœä¸æ˜¯æ‡’åŠ è½½çš„å°±ç«‹åˆ»è°ƒç”¨getBeanï¼Œè€ŒgetBeanæ–¹æ³•ä¼šä»SimpleBeanFactoryç»§æ‰¿çš„DefaultSingletonBeanRegistryèƒ½åŠ›ä¸­åˆ¤æ–­beanæ˜¯å¦å­˜ï¼Œä¸å­˜åœ¨åˆ›å»ºå¹¶æ³¨å†Œè¿›DefaultSingletonBeanRegistryã€‚2.ClassPathXmlApplicationContext  å®ƒçš„ç»„è£…é€»è¾‘å’Œä¸Šä¸€èŠ‚ä¸€æ ·ï¼Œä½†æ˜¯ç°åœ¨XmlBeanDefinitionReaderåœ¨éå†resourceå‘simplebeanfactoryæ³¨å†Œçš„æ—¶å€™ï¼Œç”±äºsimplebeanfactoryæ³¨å†Œæ—¶å€™ä¼šåˆ›å»ºéæ‡’bean,æ‰€ä»¥ç°åœ¨applicationContextå¯åŠ¨çš„æ—¶å€™å°±ä¼šåˆ›å»ºæ‰€æœ‰éæ‡’åŠ è½½beanï¼Œä¸Šä¸€èŠ‚è¯¾çš„å®¹å™¨åˆ›å»ºå®Œå¹¶ä¸ä¼šåˆ›å»ºbean,è¦åˆ°è·å–beançš„æ—¶å€™æ‰åˆ›å»ºbeanï¼Œå¯¹getBeanæ–¹æ³•çš„è°ƒç”¨æå‰åˆ°æ³¨å†ŒbeanDefinitionçš„æ—¶å€™äº†ï¼›ClassPathXmlApplicationContextå®ç°äº†ApplicationEventPublisherï¼Œæ‰€ä»¥å¯ä»¥çŒœæµ‹ä»¥åå®¹å™¨ä¸ä»…æ˜¯å®¹å™¨ï¼Œè¿˜å…¼å…·å‘å¸ƒäº‹ä»¶çš„åŠŸèƒ½ã€‚ è¿™èŠ‚è¯¾æœ€å¤§æ”¶è·æ˜¯åŠ æ·±äº†å¯¹å®ç°æ¥å£å’Œç»§æ‰¿ç±»çš„ç†è§£ï¼Œå¦‚æœä¸€ä¸ªç±»å£°æ˜å®ƒå®ç°äº†æŸä¸ªæ¥å£ï¼Œé‚£ä¹ˆå®ƒåå‘äºå‘Šè¯‰å¤–éƒ¨å®ƒæ˜¯é‚£ä¸ªæ¥å£ï¼Œä½ å¯ä»¥æŠŠå®ƒå½“æˆé‚£ä¸ªæ¥å£æ¥ç”¨ï¼Œå¦‚æœä¸€ä¸ªç±»ç»§æ‰¿äº†æŸä¸ªå®ç°ç±»ï¼Œè¿™æ—¶å€™ä¹Ÿå¯ä»¥æŠŠå®ƒå½“æˆè¿™ä¸ªå®ç°ç±»æ¥ç”¨ï¼Œä½†æ˜¯æˆ‘æƒ³å®ƒæ›´åå‘äºè·å¾—è¯¥å®ç°ç±»çš„èƒ½åŠ›ï¼Œå¦‚æœå®ƒæ—¢æƒ³è·å¾—èƒ½åŠ›åˆæƒ³å¯¹å¤–æä¾›èƒ½åŠ›ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥åŒæ—¶å£°æ˜å®ç°æ¥å£å’Œç»§æ‰¿æ¥å£çš„æŸäº›å®ç°ç±»ï¼Œå†è‡ªå·±ä¿®æ”¹å¢å¼ºæŸäº›æ–¹æ³•ã€‚","like_count":36,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610533,"discussion_content":"èµï¼ä½ çš„ç¬”è®°å¥½å¥½æ•´ç†ï¼Œå¯ä»¥å¯¹å¤§å®¶åˆ†äº«äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679607202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1155275,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","nickname":"å¼ ä¸‰ä¸°","note":"","ucode":"3A6215A40B3B21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":614739,"discussion_content":"å…¶å®SimpleBeanFactoryå®Œå…¨æ²¡å¿…è¦å‘Šè¯‰å¤–ç•Œå®ƒä¹Ÿæ˜¯BeanDefinitionRegistryâ€œä»“åº“â€ï¼Œå®ƒåº”è¯¥å‘Šè¯‰å¤–ç•Œå®ƒå°±æ˜¯ä¸€ä¸ªBeanFactoryâ€œå·¥å‚â€å°±è¶³å¤Ÿäº†ï¼Œç„¶åå†å°†BeanDefinitionRegistryä½œä¸ºSimpleBeanFactoryä¸­çš„ä¸€ä¸ªå±æ€§ï¼Œåˆ©ç”¨ç»„åˆå…³ç³»ï¼Œæ”¾å¼ƒç»§æ‰¿å…³ç³»ï¼Œè¿™æ ·ä»ç»“æ„ä¸Šæ›´å®¹æ˜“è®©äººæ¥å—ï¼Œçº¯å±ä¸ªäººç†è§£ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1681892124,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1080653,"avatar":"https://static001.geekbang.org/account/avatar/00/10/7d/4d/d98865b2.jpg","nickname":"è€å®äººHoney","note":"","ucode":"EA4AB5C0C33090","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1155275,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","nickname":"å¼ ä¸‰ä¸°","note":"","ucode":"3A6215A40B3B21","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":625739,"discussion_content":"ç»„åˆä¼˜äºç»§æ‰¿â€”â€”åœ¨å…¶ä»–è¯­è¨€ä¸­å°±æ˜¯æ¨å´‡è¿™æ ·å­çš„æ–¹å¼çš„ã€‚çœ‹äº†å¥½å‡ éSpringçš„æºç ï¼Œè¢«ä»–çš„ç»§æ‰¿ä½“ç³»æåˆ°å¿ƒç´¯äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1692118991,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":614739,"ip_address":"å¹¿ä¸œ","group_id":0},"score":625739,"extra":""}]},{"author":{"id":3187242,"avatar":"","nickname":"Geek_2493f9","note":"","ucode":"C577130194DCFA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":650464,"discussion_content":"ä¼˜ç§€å‘€æˆ‘çš„å“¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1725039225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1190060,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/ac/37a2a265.jpg","nickname":"å¼±æ°´ç©¿äº‘å¤©","note":"","ucode":"80DC528A23ED7E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613305,"discussion_content":"æ¯æ¬¡çœ‹è¯„è®ºæ”¶è·å¾ˆå¤§ï¼è¿™ä¹Ÿæ˜¯é­ç­–è‡ªå·±çš„æ–¹å¼ï¼Œè‡ªå·±ä¹Ÿé¡ºç€å»æ€»ç»“è¿™äº›ä¾èµ–å…³ç³»ï¼Œèƒ½åŠ›ç­‰ç­‰ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681262758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370596,"user_name":"å’•å™œå’•å™œ","can_delete":false,"product_type":"c1","uid":2822832,"ip_address":"ä¸Šæµ·","ucode":"852A797378EEED","user_header":"https://static001.geekbang.org/account/avatar/00/2b/12/b0/63f71163.jpg","comment_is_top":false,"comment_ctime":1679016606,"is_pvip":false,"replies":[{"id":135238,"content":"èµä¸€ä¸ª","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1679047564,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":370596,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100536701,"comment_content":"æ„é€ å™¨æ³¨å…¥ï¼šé€‚åˆäºå¼ºåˆ¶ä¾èµ–ï¼Œé€‚åˆåœ¨åˆ›å»ºå¯¹è±¡çš„åŒæ—¶å¿…é¡»è¦åˆå§‹åŒ–çš„å˜é‡ã€‚ä½†æ˜¯è¦æ³¨å…¥çš„ä¾èµ–å¤šäº†å¯èƒ½æ„é€ å™¨ä¼šç›¸å¯¹è‡ƒè‚¿ï¼›å¾ªç¯ä¾èµ–é—®é¢˜æ— æ³•æœ‰æ•ˆè§£å†³ï¼Œä¼šåœ¨å¯åŠ¨çš„æ—¶å€™æŠ¥é”™ã€‚\nsetteræ³¨å…¥ï¼šé€‚åˆäºå¯é€‰ä¾èµ–ï¼Œå½“æ²¡æœ‰æä¾›å®ƒä»¬æ—¶ï¼Œç±»åº”è¯¥èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚ç›¸å¯¹æ›´åŠ çµæ´»ï¼Œå¯ä»¥å¤šæ¬¡è°ƒç”¨ï¼Œå¾ªç¯ä¾èµ–é—®é¢˜springå¯ä»¥é€šè¿‡ä¸‰çº§ç¼“å­˜è§£å†³ã€‚","like_count":10,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609604,"discussion_content":"èµä¸€ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679047564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370579,"user_name":"èªèªä¸åŒ†åŒ†","can_delete":false,"product_type":"c1","uid":1360095,"ip_address":"ä¸Šæµ·","ucode":"86CD1D2D85B8CA","user_header":"https://static001.geekbang.org/account/avatar/00/14/c0/df/d52e7244.jpg","comment_is_top":false,"comment_ctime":1678976534,"is_pvip":false,"replies":[{"id":135214,"content":"å¥½å»ºè®®ã€‚è¯¾ç¨‹å‘å¸ƒå®Œä¹‹åï¼Œæˆ‘ä»¬å¢å¼ºä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1679005365,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":370579,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100536701,"comment_content":"è€å¸ˆå¯ä»¥å°†æ¯ä¸€ç« çš„å„ä¸ªç±»ä¹‹é—´UMLå…³ç³»æä¾›ä¸€ä¸‹å— æ–¹ä¾¿å­¦ä¹ ç¼•æ¸…æ¥šåˆ›å»ºè¿‡ç¨‹ å’Œ å„ä¸ªç»„ä»¶ä¾èµ–å…³ç³» è°¢è°¢è€å¸ˆ","like_count":8,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609509,"discussion_content":"å¥½å»ºè®®ã€‚è¯¾ç¨‹å‘å¸ƒå®Œä¹‹åï¼Œæˆ‘ä»¬å¢å¼ºä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679005365,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1032755,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c2/33/ccbf2045.jpg","nickname":"sta","note":"","ucode":"D840070850EA5B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610716,"discussion_content":"è‡ªå·±æ‹ä¸€ä¸‹å¯èƒ½æ¯”ç›´æ¥æä¾›çš„æ›´æ¸…æ™°","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1679707070,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370715,"user_name":"é™ˆå°è¿œ","can_delete":false,"product_type":"c1","uid":2393550,"ip_address":"å››å·","ucode":"8C348A5FA8F539","user_header":"https://static001.geekbang.org/account/avatar/00/24/85/ce/df1c7a91.jpg","comment_is_top":false,"comment_ctime":1679127799,"is_pvip":false,"replies":[{"id":135274,"content":"Githubä¸Šæœ‰åå‡ ä¸ªåˆ†æ”¯ï¼Œå·®ä¸å¤šæ˜¯è·Ÿæ¯ä¸€èŠ‚å¯ä»¥å¯¹ä¸Šçš„ã€‚ä½ ä¸è¦åªçœ‹masteråˆ†æ”¯ï¼Œé‚£ä¸ªæ˜¯æœ€ç»ˆçš„æ ·å­ã€‚å…·ä½“åˆ°ä½ è¿™ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥çœ‹iocåˆ†æ”¯ã€‚å¥½å¤šäººä¸æ³¨æ„Githubä¸Šæœ‰å¤šä¸ªåˆ†æ”¯ï¼Œæˆ‘å¾ˆæ„å¤–ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1679222722,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":370715,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100536701,"comment_content":"è¿™èŠ‚è¯¾åœ¨å†…å®¹ä¸Šèƒ½çœ‹æ‡‚ï¼Œä½†æ˜¯åœ¨ç¼–ç å®æ“çš„æ—¶å€™æœ‰äº›éš¾å—â€”â€”è€å¸ˆçš„æºç éƒ½æ˜¯å®Œæˆå“ï¼Œè€Œè¯¾ä»¶ä¸­å¹¶æ²¡æœ‰ç»™å‡ºæ»¡è¶³å½“å‰è¿›åº¦çš„å¯è¿è¡Œä»£ç ï¼Œä¸€äº›è¿­ä»£æ€§çš„æ”¹åŠ¨ä¹Ÿå¹¶æ²¡æœ‰é¡¾åŠä¼šå¯¹å…¶å®ƒéƒ¨åˆ†å®ç°çš„å½±å“ï¼Œæ¯”å¦‚BeanFactoryä¸­registerBeançªç„¶æ²¡æœ‰äº†ï¼Œå¯¼è‡´è·Ÿè¿›è¯¾ç¨‹å®æ“æ–¹é¢æœ‰ç‚¹æ‰“è„‘å£³","like_count":6,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609810,"discussion_content":"Githubä¸Šæœ‰åå‡ ä¸ªåˆ†æ”¯ï¼Œå·®ä¸å¤šæ˜¯è·Ÿæ¯ä¸€èŠ‚å¯ä»¥å¯¹ä¸Šçš„ã€‚ä½ ä¸è¦åªçœ‹masteråˆ†æ”¯ï¼Œé‚£ä¸ªæ˜¯æœ€ç»ˆçš„æ ·å­ã€‚å…·ä½“åˆ°ä½ è¿™ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥çœ‹iocåˆ†æ”¯ã€‚å¥½å¤šäººä¸æ³¨æ„Githubä¸Šæœ‰å¤šä¸ªåˆ†æ”¯ï¼Œæˆ‘å¾ˆæ„å¤–ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1679222722,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3216356,"avatar":"https://static001.geekbang.org/account/avatar/00/31/13/e4/68e481a0.jpg","nickname":"éƒ­æ–°å®‡","note":"","ucode":"9EFFCDE90D6095","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609787,"discussion_content":"https://www.github.com/YaleGuo/minisã€‚\nå¯ä»¥é…åˆè€å¸ˆgithubğŸ˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679212555,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å±±ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375736,"user_name":"çˆ±å­¦ä¹ çš„ç‹å‘±å‘±","can_delete":false,"product_type":"c1","uid":2962972,"ip_address":"åŒ—äº¬","ucode":"F6703C9B1FE6DF","user_header":"https://static001.geekbang.org/account/avatar/00/2d/36/1c/adfeb6c4.jpg","comment_is_top":false,"comment_ctime":1685933677,"is_pvip":false,"replies":[{"id":137132,"content":"è¿™ä¸ªé—®é¢˜å¥½ä¹Ÿéš¾ï¼Œæˆ‘è¯•ç€è¯´ä¸€ä¸‹æˆ‘çš„æ€è€ƒã€‚\nJavaå¹¶å‘å®¹å™¨ConcurrentHashMapï¼Œå®ƒåªæ˜¯ä¿è¯å®¹å™¨æœ¬èº«çš„å¹¶å‘æ§åˆ¶ï¼Œå¯¹åŒä¸€ä¸ªbucketï¼Œä¼šä¿è¯å­˜å–æ—¶çš„åŸå­æ€§å’Œå¹¶å‘æ§åˆ¶ã€‚ä½†æ˜¯ï¼Œå®ƒåªæ˜¯è¿™ä¸ªå®¹å™¨å±‚é¢çš„ï¼Œæ‰©å¤§åˆ°ä¸šåŠ¡é€»è¾‘ï¼Œå¯èƒ½ç”±å¤šä¸ªæ“ä½œç»„æˆï¼Œä¸šåŠ¡æ“ä½œä¸Šå¯¹åŒä¸€ä¸ªkeyå€¼çš„ä¸šåŠ¡æ•°æ®åœ¨åŒæ—¶è¯»å†™ï¼Œè¿™ä¸ªä¸šåŠ¡é€»è¾‘å±‚é¢çš„å¹¶å‘æ§åˆ¶ä»ç„¶è¿˜æ˜¯è¦ç”±æˆ‘ä»¬è‡ªå·±æ¥æ§åˆ¶çš„ã€‚\næœ€ç®€å•çš„æ§åˆ¶å°±æ˜¯ç›´æ¥åœ¨ä¸šåŠ¡æ“ä½œä¸ŠåŠ ä¸Šsynchronizedï¼Œè¿™æ ·åªæœ‰ä¸€ä¸ªç»´æŠ¤çº¿ç¨‹ï¼ŒSpringCacheçš„syncå±æ€§ä¹Ÿæ˜¯è¿™ä¹ˆå¤„ç†çš„ã€‚ä½†æ˜¯è¿™æ ·å¹¶å‘æ€§åˆé™ä½äº†ï¼Œç›¸å½“äºæ•´ä¸ªæ“ä½œéƒ½æ’ä»–äº†ã€‚ç”¨ReentrantReadWriteLockä¹Ÿä¸è¡Œï¼Œè¿™åªæ˜¯è¯»å†™åˆ†å¼€äº†ï¼Œæ•´ä¸ªé”çš„èŒƒå›´ä»ç„¶æ˜¯æ•´ä¸ªæ•°æ®è€Œä¸æ˜¯æŸä¸ªkeyå€¼ã€‚\næ‰€ä»¥å®é™…å·¥ç¨‹ä¸­éœ€è¦è€ƒè™‘é¢—ç²’åº¦æ›´åŠ ç²¾ç»†çš„åŠ é”ï¼šåªå¯¹åŒä¸€ä¸ªkeyåŠ é”ï¼Œkeyä¹‹é—´äº’ä¸å½±å“ã€‚å¯ä»¥è¿™ä¹ˆè€ƒè™‘ï¼š\né™¤äº†ConcurrentHashMapå­˜å‚¨æ•°æ®ä¹‹å¤–ï¼Œå†ç”¨ä¸€ä¸ªConcurrentHashMapå•ç‹¬å­˜å‚¨é”ï¼Œå¦‚&lt;key, Object&gt;,(æ³¨æ„ï¼šJavaä¸­çš„é”æ—¶æ‰€åœ¨å¯¹è±¡ä¸Šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éšä¾¿ç”¨ä¸€ä¸ªObjectå°±å¯ä»¥å½“é”)ã€‚è¿›è¡Œä¸šåŠ¡æ“ä½œçš„æ—¶å€™ï¼Œä»locl mapä¸­å…ˆæ‹¿é”ï¼Œç„¶åç”¨synchronized(lock){}å°†ä¸šåŠ¡æ“ä½œåŒ…èµ·æ¥ä¿è¯å¹¶å‘å®‰å…¨å’ŒåŸå­æ€§ã€‚\nåˆ†å¸ƒå¼äº‹åŠ¡Seataçš„ä¸€æ®µä»£ç å¯ä»¥å€Ÿé‰´ï¼š\nåœ¨NettyClientChannelManagerç±»ä¸­ï¼Œå®šä¹‰äº†æ•°æ®åŠé”çš„mapï¼š\nprivate final ConcurrentMap&lt;String, Object&gt; channelLocks = new ConcurrentHashMap&lt;&gt;();\n    private final ConcurrentMap&lt;String, Channel&gt; channels = new ConcurrentHashMap&lt;&gt;();\n\nç„¶åæœ‰ä¸€ä¸ªæ–¹æ³•è¿™ä¹ˆå†™çš„ï¼š\n    void releaseChannel(Channel channel, String serverAddress) {\n        if (channel == null || serverAddress == null) { return; }\n        try {\n            synchronized (channelLocks.get(serverAddress)) {\n                Channel ch = channels.get(serverAddress);\n                if (ch == null) {\n                    nettyClientKeyPool.returnObject(poolKeyMap.get(serverAddress), channel);\n                    return;\n                }\n                if (ch.compareTo(channel) == 0) {\n                    if (LOGGER.isInfoEnabled()) {\n                        LOGGER.info(&quot;return to pool, rm channel:{}&quot;, channel);\n                    }\n                    destroyChannel(serverAddress, channel);\n                } else {\n                    nettyClientKeyPool.returnObject(poolKeyMap.get(serverAddress), channel);\n                }\n            }\n        } catch (Exception exx) {\n            LOGGER.error(exx.getMessage());\n        }\n    }\n\nå…³é”®æ˜¯æ³¨æ„è¿™ä¸¤è¡Œï¼š\n            synchronized (channelLocks.get(serverAddress)) {\n                Channel ch = channels.get(serverAddress);\nå…ˆä»é”mapä¸­è·å–é”ï¼Œåœ¨è¿™ä¸ªç»†å¯¹è±¡ä¸Šsynchronizedï¼Œç„¶åå†è·å–æ•°æ®ã€‚\nè¿™æ ·çš„æ§åˆ¶å°±ç²¾ç»†äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1685949998,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":375736,"utype":1}],"discussion_count":7,"race_medal":0,"score":2,"product_id":100536701,"comment_content":"è€å¸ˆå¥½ï¼Œæœ‰ç‚¹æ²¡ç†è§£ synchronized + ConcurrentHashMap åŒæ—¶ä½¿ç”¨çš„æ„ä¹‰ã€‚\næˆ‘ç†è§£HashMapåœ¨å¤šçº¿ç¨‹ä¸‹çš„é—®é¢˜æœ‰ä¸¤ä¸ª 1. ä¸åŒkeyä½†æ˜¯ç›¸åŒhashcodeä¼šé€ æˆå…ƒç´ è¦†ç›–ï¼›2. æ­»å¾ªç¯ã€‚ä½†æ˜¯ConcurrentHashMapä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜äº†ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦synchronizedå‘¢ã€‚","like_count":5,"discussions":[{"author":{"id":2962972,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/36/1c/adfeb6c4.jpg","nickname":"çˆ±å­¦ä¹ çš„ç‹å‘±å‘±","note":"","ucode":"F6703C9B1FE6DF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":620387,"discussion_content":"è€å¸ˆï¼Œæˆ‘æƒ³æˆ‘ç†è§£ä¸€äº›äº†ã€‚æˆ‘è§‰å¾—åŸå› åœ¨äºæ˜¯æ‰æ“ä½œä¸¤ä¸ªcollection:\n\nprotected List beanNames = new ArrayList&lt;&gt;(); \nprotected Map singletons = new ConcurrentHashMap&lt;&gt;(256);\n...\nsynchronized (this.singletons) { \n    this.beanNames.remove(beanName); \n    this.singletons.remove(beanName); \n}\n\nå³ä½¿ beanNames å’Œ singletons éƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„ï¼Œè¿™ä¸ªæ“ä½œåªèƒ½ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œä½†æ˜¯ä¸èƒ½ä¿è¯åŸå­æ€§ï¼Œå› ä¸ºæ¯•ç«Ÿæ˜¯ä¸¤ä¸ªæ“ä½œï¼Œæ‰€ä»¥å¯ä»¥ç”¨synchronizedã€‚\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1686127001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":2962972,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/36/1c/adfeb6c4.jpg","nickname":"çˆ±å­¦ä¹ çš„ç‹å‘±å‘±","note":"","ucode":"F6703C9B1FE6DF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":620419,"discussion_content":"æ˜¯ä½ ç†è§£çš„è¿™æ ·çš„ã€‚ miniSpringä¸æ˜¯å·¥ä¸šçº§çš„ï¼Œæ˜¯è®²è§£ç»“æ„åŸç†ï¼Œè¿™ä¸€å—ç®€åŒ–äº†ï¼Œä¸å¯¹å•ç‹¬çš„keyåŠ é”ï¼Œè€Œæ˜¯ç›´æ¥åŠ åˆ°æ•´ä¸ªmapä¸Šäº†ï¼Œè¿™ä¹ˆå†™ç®€åŒ–äº†ï¼Œæˆ–è€…è¯´å·æ‡’äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1686144020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":620387,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":620419,"extra":""}]},{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":620211,"discussion_content":"è¿™ä¸ªé—®é¢˜å¥½ä¹Ÿéš¾ï¼Œæˆ‘è¯•ç€è¯´ä¸€ä¸‹æˆ‘çš„æ€è€ƒã€‚\nJavaå¹¶å‘å®¹å™¨ConcurrentHashMapï¼Œå®ƒåªæ˜¯ä¿è¯å®¹å™¨æœ¬èº«çš„å¹¶å‘æ§åˆ¶ï¼Œå¯¹åŒä¸€ä¸ªbucketï¼Œä¼šä¿è¯å­˜å–æ—¶çš„åŸå­æ€§å’Œå¹¶å‘æ§åˆ¶ã€‚ä½†æ˜¯ï¼Œå®ƒåªæ˜¯è¿™ä¸ªå®¹å™¨å±‚é¢çš„ï¼Œæ‰©å¤§åˆ°ä¸šåŠ¡é€»è¾‘ï¼Œå¯èƒ½ç”±å¤šä¸ªæ“ä½œç»„æˆï¼Œä¸šåŠ¡æ“ä½œä¸Šå¯¹åŒä¸€ä¸ªkeyå€¼çš„ä¸šåŠ¡æ•°æ®åœ¨åŒæ—¶è¯»å†™ï¼Œè¿™ä¸ªä¸šåŠ¡é€»è¾‘å±‚é¢çš„å¹¶å‘æ§åˆ¶ä»ç„¶è¿˜æ˜¯è¦ç”±æˆ‘ä»¬è‡ªå·±æ¥æ§åˆ¶çš„ã€‚\næœ€ç®€å•çš„æ§åˆ¶å°±æ˜¯ç›´æ¥åœ¨ä¸šåŠ¡æ“ä½œä¸ŠåŠ ä¸Šsynchronizedï¼Œè¿™æ ·åªæœ‰ä¸€ä¸ªç»´æŠ¤çº¿ç¨‹ï¼ŒSpringCacheçš„syncå±æ€§ä¹Ÿæ˜¯è¿™ä¹ˆå¤„ç†çš„ã€‚ä½†æ˜¯è¿™æ ·å¹¶å‘æ€§åˆé™ä½äº†ï¼Œç›¸å½“äºæ•´ä¸ªæ“ä½œéƒ½æ’ä»–äº†ã€‚ç”¨ReentrantReadWriteLockä¹Ÿä¸è¡Œï¼Œè¿™åªæ˜¯è¯»å†™åˆ†å¼€äº†ï¼Œæ•´ä¸ªé”çš„èŒƒå›´ä»ç„¶æ˜¯æ•´ä¸ªæ•°æ®è€Œä¸æ˜¯æŸä¸ªkeyå€¼ã€‚\næ‰€ä»¥å®é™…å·¥ç¨‹ä¸­éœ€è¦è€ƒè™‘é¢—ç²’åº¦æ›´åŠ ç²¾ç»†çš„åŠ é”ï¼šåªå¯¹åŒä¸€ä¸ªkeyåŠ é”ï¼Œkeyä¹‹é—´äº’ä¸å½±å“ã€‚å¯ä»¥è¿™ä¹ˆè€ƒè™‘ï¼š\né™¤äº†ConcurrentHashMapå­˜å‚¨æ•°æ®ä¹‹å¤–ï¼Œå†ç”¨ä¸€ä¸ªConcurrentHashMapå•ç‹¬å­˜å‚¨é”ï¼Œå¦‚&lt;key, Object&gt;,(æ³¨æ„ï¼šJavaä¸­çš„é”æ—¶æ‰€åœ¨å¯¹è±¡ä¸Šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éšä¾¿ç”¨ä¸€ä¸ªObjectå°±å¯ä»¥å½“é”)ã€‚è¿›è¡Œä¸šåŠ¡æ“ä½œçš„æ—¶å€™ï¼Œä»locl mapä¸­å…ˆæ‹¿é”ï¼Œç„¶åç”¨synchronized(lock){}å°†ä¸šåŠ¡æ“ä½œåŒ…èµ·æ¥ä¿è¯å¹¶å‘å®‰å…¨å’ŒåŸå­æ€§ã€‚\nåˆ†å¸ƒå¼äº‹åŠ¡Seataçš„ä¸€æ®µä»£ç å¯ä»¥å€Ÿé‰´ï¼š\nåœ¨NettyClientChannelManagerç±»ä¸­ï¼Œå®šä¹‰äº†æ•°æ®åŠé”çš„mapï¼š\nprivate final ConcurrentMap&lt;String, Object&gt; channelLocks = new ConcurrentHashMap&lt;&gt;();\n    private final ConcurrentMap&lt;String, Channel&gt; channels = new ConcurrentHashMap&lt;&gt;();\n\nç„¶åæœ‰ä¸€ä¸ªæ–¹æ³•è¿™ä¹ˆå†™çš„ï¼š\n    void releaseChannel(Channel channel, String serverAddress) {\n        if (channel == null || serverAddress == null) { return; }\n        try {\n            synchronized (channelLocks.get(serverAddress)) {\n                Channel ch = channels.get(serverAddress);\n                if (ch == null) {\n                    nettyClientKeyPool.returnObject(poolKeyMap.get(serverAddress), channel);\n                    return;\n                }\n                if (ch.compareTo(channel) == 0) {\n                    if (LOGGER.isInfoEnabled()) {\n                        LOGGER.info(&#34;return to pool, rm channel:{}&#34;, channel);\n                    }\n                    destroyChannel(serverAddress, channel);\n                } else {\n                    nettyClientKeyPool.returnObject(poolKeyMap.get(serverAddress), channel);\n                }\n            }\n        } catch (Exception exx) {\n            LOGGER.error(exx.getMessage());\n        }\n    }\n\nå…³é”®æ˜¯æ³¨æ„è¿™ä¸¤è¡Œï¼š\n            synchronized (channelLocks.get(serverAddress)) {\n                Channel ch = channels.get(serverAddress);\nå…ˆä»é”mapä¸­è·å–é”ï¼Œåœ¨è¿™ä¸ªç»†å¯¹è±¡ä¸Šsynchronizedï¼Œç„¶åå†è·å–æ•°æ®ã€‚\nè¿™æ ·çš„æ§åˆ¶å°±ç²¾ç»†äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1685949998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2962972,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/36/1c/adfeb6c4.jpg","nickname":"çˆ±å­¦ä¹ çš„ç‹å‘±å‘±","note":"","ucode":"F6703C9B1FE6DF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":620385,"discussion_content":"æ„Ÿè°¢è€å¸ˆç™¾å¿™ä¹‹ä¸­çš„è¯¦å°½å›ç­”ã€‚æˆ‘ä¹Ÿè°ˆè°ˆæˆ‘çš„çœ‹æ³•å“ˆã€‚\n\n1ï¼‰æ–‡ç¨¿ä¸­çš„ synchronized ç›´æ¥é”åœ¨ this.singletons ä¸Šæ„Ÿè§‰è¿˜æ˜¯å…¨éƒ¨æ’ä»–äº†ï¼Œæ˜¯ä¸æ˜¯åº”è¯¥å’ŒSeataä¸­çš„é‚£ç§æ–¹ï¼ŒæŠŠé”æ”¾åœ¨å•ä¸ªkeyçš„å¯¹è±¡ä¸Šï¼Œæ¯”å¦‚ this.singletons.getOrDefault(beanName, defaultMutex)ï¼Œå…¶ä¸­ defaultMutex æ˜¯æå‰å£°æ˜çš„ä¸€ä¸ªObjectå¯¹è±¡ç”¨äºæ”¾é”ã€‚\n\n2ï¼‰å‡è®¾ç¡®å®1ï¼‰ä¸­çš„æ–¹æ³•å¯è¡Œï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯ä¸éœ€è¦ç”¨ConcurrentHashMapï¼Œå› ä¸ºsynchronize + hashMapå°±å·²ç»èƒ½ä¿è¯æ“ä½œå®‰å…¨äº†ã€‚\n\n3ï¼‰å¦‚æœ 2ï¼‰æˆç«‹ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯ç­‰åŒäºç”¨HashSetæˆ–Collections#SynchronizedMapè¿™æ ·çš„æ•°æ®ç»“æ„äº†ï¼ˆå½“ç„¶ä¹Ÿæ˜¯æ•´ä¸ªè¯»ã€å†™æ“ä½œå…¨éƒ¨æ’ä»–ï¼Œå¹¶ä¸æ˜¯ç›¸åŒçš„keyæ’ä»–ï¼Œæ€§èƒ½ä¸Šä¼šæœ‰é™ä½ï¼‰ã€‚\n\n4ï¼‰å¦‚æœ 3ï¼‰æˆç«‹ï¼Œé‚£æ—¢ç„¶HashSetèƒ½ä¿è¯æ“ä½œå®‰å…¨ï¼Œä¸ºä»€ä¹ˆå•ç‹¬ä½¿ç”¨ConcurrentHashMapå°±ä¸èƒ½ä¿è¯äº†å‘¢ã€‚\n\nå½“ç„¶æˆ‘çš„è§‚ç‚¹è¿˜æ˜¯ï¼Œä¸ç®¡ä¸šåŠ¡æ“ä½œå¦‚ä½•è§¦å‘ï¼Œæ—¢ç„¶ConcurrentHashMapåœ¨åº•å±‚ä¸Šä¿è¯äº†çº¿ç¨‹å®‰å…¨ï¼Œé‚£ä¹ˆå°±ä¸€å®šä¸ä¼šæœ‰é—®é¢˜ã€‚å½“ç„¶ä»¥ä¸Šæ˜¯æˆ‘ç²—æµ…çš„è§‚ç‚¹ï¼Œå¸Œæœ›è€å¸ˆå¯ä»¥ç»§ç»­æ¢è®¨å’ŒæŒ‡æ•™ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1686126088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":620211,"ip_address":"æ–°åŠ å¡","group_id":0},"score":620385,"extra":""}]},{"author":{"id":1102490,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d2/9a/d56bb650.jpg","nickname":"å¤šå¤š","note":"","ucode":"DA5AF8146AEF82","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":631774,"discussion_content":"è€å¸ˆå¥½ï¼Œä¸ºä»€ä¹ˆç”¨äº†synchronizedä¹‹åï¼Œä¸ç”¨HashMapï¼Œè€Œæ˜¯ç”¨ConcurrentHashMapå‘¢ï¼ŸåŒ…æ‹¬æˆ‘çœ‹springæºç ï¼Œæ²¡ä¸Šé”çš„æ“ä½œåªæœ‰getï¼Œä¸ºä»€ä¹ˆä¸ç”¨HashMapå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1699949692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1747803,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/ab/5b/eb3983f0.jpg","nickname":"liuchao90h","note":"","ucode":"30A89E766EED2B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":620409,"discussion_content":"æˆ‘ä¸€å¼€å§‹è¿˜ä»¥ä¸ºæ˜¯ä¸æ˜¯æˆ‘æ¼äº†ä»€ä¹ˆç»†èŠ‚ï¼Œçœ‹å®Œè€å¸ˆçš„ä¾‹å­ä¹‹åï¼Œæˆ‘ç¡®å®šé‚£ä¸ªsynchronizedåŠ äº†æ˜¯æ²¡æœ‰æ„ä¹‰å’Œä½œç”¨çš„ï¼Œè€å¸ˆçš„ä¾‹å­æ˜¯å› ä¸ºéœ€è¦é‡Šæ”¾æ¥æºäºä¸¤ä¸ªmapçš„å€¼ï¼Œå­˜åœ¨åˆ¤æ–­ï¼Œä¸ºé¿å…è¯¯åˆ¤è€Œå¯¼è‡´çš„é”™è¯¯é‡Šæ”¾è€Œå­˜åœ¨çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1686138138,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1747803,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/ab/5b/eb3983f0.jpg","nickname":"liuchao90h","note":"","ucode":"30A89E766EED2B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":620422,"discussion_content":"ä½ çš„ç¡®å®šå¹¶ä¸æ­£ç¡®ã€‚ä¸¤ä¸ªmapä¸­ï¼Œä¸€ä¸ªlocks mapå¹¶ä¸æ˜¯æ•°æ®ï¼Œè€Œæ˜¯ä¸“ç”¨äºå°†é”æ§åˆ¶åˆ°æ¯ä¸€ä¸ªkeyå€¼çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1686144626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":620409,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":620422,"extra":""}]}]},{"had_liked":false,"id":371870,"user_name":"Geek_e298ce","can_delete":false,"product_type":"c1","uid":2028431,"ip_address":"åŒ—äº¬","ucode":"ABD83935F43A5B","user_header":"","comment_is_top":false,"comment_ctime":1680449800,"is_pvip":false,"replies":[{"id":135653,"content":"è§’è‰²åˆ†ç¦»ã€‚ä¸€ä¸ªæ˜¯å·¥å‚ï¼Œå¦ä¸€ä¸ªæ˜¯ä»“åº“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1680499747,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":371870,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100536701,"comment_content":"æœ‰ä¸€ä¸ªé—®é¢˜ä¸å¤ªæ˜ç™½, ä¸ºä»€ä¹ˆè¦æœ‰BeanFactoryå’ŒSingletonBeanRegistryè¿™ä¸¤ä¸ªæ¥å£å‘¢","like_count":4,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612040,"discussion_content":"è§’è‰²åˆ†ç¦»ã€‚ä¸€ä¸ªæ˜¯å·¥å‚ï¼Œå¦ä¸€ä¸ªæ˜¯ä»“åº“ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1680499747,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1190060,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/ac/37a2a265.jpg","nickname":"å¼±æ°´ç©¿äº‘å¤©","note":"","ucode":"80DC528A23ED7E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":615428,"discussion_content":"ç²¾é«“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682258146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":612040,"ip_address":"ä¸Šæµ·","group_id":0},"score":615428,"extra":""}]},{"author":{"id":1318633,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJhxtIyXX4icMNAq5zEvchKYS3q7fwZXA3h7yV80iaibCRXniaLW95OnPC8PM2h5Ja5ibpkJ1VJowicqKZA/132","nickname":"Geek_7jwpfc","note":"","ucode":"CBCEA76E9EF33B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616586,"discussion_content":"å¯ä»¥ç†è§£ä¸ºæ˜¯æŒ‰æ¥å£ç¼–ç¨‹, BeanFactoryæ¥å£è´Ÿè´£Beançš„è·å–ï¼ŒSingletonBeanRegistryæ¥å£è´Ÿè´£Beançš„å­˜å‚¨ï¼Œä¸€ä¸ªç±»åŒæ—¶å®ç°è¿™ä¸¤ä¸ªæ¥å£ï¼Œå°±æœ‰å®Œæ•´çš„IOCå®ç°ï¼Œä¾‹å¦‚Springä¸­çš„DefaultListableBeanFactoryï¼›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682961092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ¹–å—","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":377245,"user_name":"æ•…ä½œ","can_delete":false,"product_type":"c1","uid":2629208,"ip_address":"æµ™æ±Ÿ","ucode":"F0E0238DED7AF9","user_header":"https://static001.geekbang.org/account/avatar/00/28/1e/58/2bfb3da0.jpg","comment_is_top":false,"comment_ctime":1688124458,"is_pvip":true,"replies":[{"id":137488,"content":"æ„Ÿè°¢æŒ‡æ•™ã€‚githubçš„docsç›®å½•ä¸‹æœ‰ä¸€ä¸ªreadmeæ–‡ä»¶ï¼Œé‡Œé¢æœ‰è¯´æ˜29å¤©é‡Œä¸€å¤©å¤©çš„æ¼”å˜ï¼Œè¯´çš„æ¯ä¸€å°æ­¥éƒ½èƒ½è¿è¡Œæ˜¯æŒ‡è¿™ä¸ªã€‚åæ¥å‡ºè¿™ä¸ªä¸“æ çš„æ—¶å€™ï¼Œå› ä¸ºæœ‰ç¯‡å¹…çš„ç¡¬æ€§è¦æ±‚ï¼Œå¼ºè¡Œåˆå¹¶äº†ç« èŠ‚ï¼Œä¸ºäº†å¤–åœ¨å½¢å¼ç¡®å®é€ æˆäº†æ–‡æœ¬ï¼Œé€»è¾‘å’Œä»£ç æœ‰æŸäº›å¯¹ä¸ä¸Šçš„åœ°æ–¹ã€‚å»ºè®®ä»”ç»†çœ‹githubä»£ç ï¼ŒåšæŒä¸€ä¸‹ï¼Œçœ‹å®Œçš„äººå¤§å¤šæ•°åé¦ˆè¿˜æ˜¯è§‰å¾—å¾ˆæœ‰æ”¶è·çš„ï¼Œå½“å¹´çº¿ä¸‹ç»™åˆè‚¥å·¥å¤§å’Œä¸­å—å¤§å­¦æœ¬ç§‘ç”Ÿç ”ç©¶ç”Ÿè®²è¯¾çš„æ—¶å€™ï¼Œå¤§å®¶ä¹Ÿæ˜¯è§‰å¾—æ”¶è·è›®å¤§çš„ã€‚â€œç‰¢éªšå¤ªç››é˜²è‚ æ–­ï¼Œé£ç‰©é•¿å®œæ”¾çœ¼é‡ã€‚è«é“æ˜†æ˜æ± æ°´æµ…ï¼Œè§‚é±¼èƒœè¿‡å¯Œæ˜¥æ±Ÿã€‚â€","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1688249764,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":377245,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100536701,"comment_content":"æ„Ÿè§‰ä»£ç çœŸçš„è´´çš„ä¸æ˜¯å¾ˆç”¨å¿ƒï¼Œçœ‹ä¸“æ é‡Œçš„ä»£ç ï¼Œä¼šè§‰å¾—æœ‰äº›ä¸œè¥¿è«åå…¶å¦™ï¼Œä»¥è‡³äºä¸€å¤´é›¾æ°´ï¼Œç„¶åå»çœ‹gitä¸Šçš„ä»£ç ï¼Œå‘ç°æ˜¯æ²¡æœ‰è¿™ä¸€çœ‹ä¸æ‡‚çš„å†…å®¹çš„ã€‚è›®æ°”æ„¤çš„ï¼Œæ˜æ˜å¼€ç¯‡è¯é‡Œè¯´æ¯ä¸€å°æ­¥éƒ½æ˜¯å¯è¿è¡Œçš„ï¼Œç»“æœï¼Œä»è¿™ä¸€ç« å¼€å§‹ï¼Œå°±ä¸è¡Œäº†ã€‚èƒ½ç†è§£æ— æ³•æŠŠæ‰€æœ‰ä»£ç éƒ½æ”¾é‡Œè¾¹ï¼Œä½†æ˜¯ï¼Œå› ä¸ºå¼€ç¯‡è¯é‡Œçš„è¿™å¥è¯ï¼Œå¯¼è‡´ç™½ç™½æµªè´¹äº†å¾ˆå¤šæ—¶é—´ã€‚è¿™ä¸€ç« ï¼Œè´¨é‡çœŸçš„å¾ˆä½ï¼Œå¾ˆä¸ç”¨å¿ƒ","like_count":3,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":622415,"discussion_content":"æ„Ÿè°¢æŒ‡æ•™ã€‚githubçš„docsç›®å½•ä¸‹æœ‰ä¸€ä¸ªreadmeæ–‡ä»¶ï¼Œé‡Œé¢æœ‰è¯´æ˜29å¤©é‡Œä¸€å¤©å¤©çš„æ¼”å˜ï¼Œè¯´çš„æ¯ä¸€å°æ­¥éƒ½èƒ½è¿è¡Œæ˜¯æŒ‡è¿™ä¸ªã€‚åæ¥å‡ºè¿™ä¸ªä¸“æ çš„æ—¶å€™ï¼Œå› ä¸ºæœ‰ç¯‡å¹…çš„ç¡¬æ€§è¦æ±‚ï¼Œå¼ºè¡Œåˆå¹¶äº†ç« èŠ‚ï¼Œä¸ºäº†å¤–åœ¨å½¢å¼ç¡®å®é€ æˆäº†æ–‡æœ¬ï¼Œé€»è¾‘å’Œä»£ç æœ‰æŸäº›å¯¹ä¸ä¸Šçš„åœ°æ–¹ã€‚å»ºè®®ä»”ç»†çœ‹githubä»£ç ï¼ŒåšæŒä¸€ä¸‹ï¼Œçœ‹å®Œçš„äººå¤§å¤šæ•°åé¦ˆè¿˜æ˜¯è§‰å¾—å¾ˆæœ‰æ”¶è·çš„ï¼Œå½“å¹´çº¿ä¸‹ç»™åˆè‚¥å·¥å¤§å’Œä¸­å—å¤§å­¦æœ¬ç§‘ç”Ÿç ”ç©¶ç”Ÿè®²è¯¾çš„æ—¶å€™ï¼Œå¤§å®¶ä¹Ÿæ˜¯è§‰å¾—æ”¶è·è›®å¤§çš„ã€‚â€œç‰¢éªšå¤ªç››é˜²è‚ æ–­ï¼Œé£ç‰©é•¿å®œæ”¾çœ¼é‡ã€‚è«é“æ˜†æ˜æ± æ°´æµ…ï¼Œè§‚é±¼èƒœè¿‡å¯Œæ˜¥æ±Ÿã€‚â€","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1688249764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1786951,"avatar":"","nickname":"Geek_50a5cc","note":"","ucode":"0F6C1C2552261F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":634010,"discussion_content":"æˆ‘è§‰å¾—è¿˜æ˜¯éœ€è¦è‡ªå·±ä¸»åŠ¨å»æ¢³ç†ä»£ç çš„æ€è·¯ï¼Œè¿è¡Œçš„å½¢å¼ä¸æ˜¯é‡è¦çš„ï¼›å…¶å®å¦‚æœé‡åˆ°äº†ä¸€äº›å›°æƒ‘ï¼Œåªæ˜¯è¯´æ˜ç†è§£çš„æœ‰ä¸€äº›è€Œåå·®ï¼Œå†å¤šçœ‹ä¸¤éï¼Œå®é™…æ¢³ç†ä¸‹ä»£ç ï¼Œè‡ªç„¶éƒ½æ˜¯å¯ä»¥è¿è¡Œçš„ï¼Œä¸è¿‡è¿™æœ¬èº«å¯èƒ½å°±éœ€è¦ä¸€äº›ç¼–ç¨‹ç»éªŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1702894247,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370455,"user_name":"æµ…è¡Œ","can_delete":false,"product_type":"c1","uid":3567438,"ip_address":"å±±ä¸œ","ucode":"E46560808902FC","user_header":"https://static001.geekbang.org/account/avatar/00/36/6f/4e/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1678845677,"is_pvip":false,"replies":[{"id":135115,"content":"ä½ æå‰æƒ³åˆ°äº†ï¼Œå¾ˆä¸“ä¸šï¼Œèµï¼\nåé¢ä¸€æ­¥æ­¥æ¼”å˜äº†ï¼Œæœ€åæ˜¯ï¼š\n\tpublic XmlBeanDefinitionReader(AbstractBeanFactory bf) {\n\t\tthis.bf = bf;\n\t}","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1678854446,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":370455,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100536701,"comment_content":"éƒ­è€å¸ˆï¼Œæœ‰ä¸ªåœ°æ–¹ä¸å¤ªç†è§£ï¼Œç»è¿‡å‰é¢çš„ä¸€äº›è®¾è®¡ï¼ŒXmlBeanDefinitionReaderæ„é€ æ–¹æ³•ä¸å¾—ä¸å°†BeanFactoryæ”¹ä¸ºå®ç°ç±»SimpleBeanFactoryï¼Œè¿™æ ·å¯æ‰©å±•æ€§æ˜¯å¦å°±å˜å·®äº†å‘¢ï¼Ÿå¦‚æœå®é™…å¼€å‘ä¸­é‡åˆ°è¿™ç§æƒ…å†µæœ‰ä»€ä¹ˆå¥½çš„è§£å†³æ€è·¯å—ï¼Ÿè¯·éƒ­è€å¸ˆæŒ‡ç‚¹ä¸€ä¸‹ï¼Œè°¢è°¢","like_count":3,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609167,"discussion_content":"ä½ æå‰æƒ³åˆ°äº†ï¼Œå¾ˆä¸“ä¸šï¼Œèµï¼\nåé¢ä¸€æ­¥æ­¥æ¼”å˜äº†ï¼Œæœ€åæ˜¯ï¼š\n\tpublic XmlBeanDefinitionReader(AbstractBeanFactory bf) {\n\t\tthis.bf = bf;\n\t}","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678854446,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":374344,"user_name":"__@Wong","can_delete":false,"product_type":"c1","uid":1422756,"ip_address":"å¹¿ä¸œ","ucode":"A54A5FC672F23D","user_header":"https://static001.geekbang.org/account/avatar/00/15/b5/a4/67d6e3cb.jpg","comment_is_top":false,"comment_ctime":1683967781,"is_pvip":false,"replies":[{"id":136693,"content":"æ˜¯è¿™æ ·çš„ã€‚å°±æ˜¯è¿™ä¸ªå®šä½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1684020728,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":374344,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100536701,"comment_content":"çœ‹äº†ä¸¤èŠ‚ï¼Œè¿™ä¸ªè¯¾ç¨‹å¯¹äºç¼ºå°‘åŸºç¡€çš„äººæ¥è¯´æœ‰ä¸€å®šçš„éš¾åº¦ã€‚æœ¬è¯¾ç¨‹å¯¹å­¦ä¹ è€…æ¥è¯´éœ€è¦å¯¹Spring, è®¾è®¡æ¨¡å¼å‡†åˆ™ä»¥åŠå¸¸ç”¨è®¾è®¡æ¨¡å¼æœ‰ä¸€å®šçš„åŸºç¡€ï¼Œå¹¶æœ‰ä¸€å®šä»£ç è®¾è®¡åŠŸåº•ã€‚å¦‚æœæƒ³è¦é€šè¿‡æœ¬è¯¾ç¨‹å­¦ä¹ ä¼ä¸šSpringå¼€å‘ï¼Œä¸å¤ªå»ºè®®ï¼Œä¸å¦‚çœ‹Springçš„ä¹¦ç±æ›´æ¥å¾—æœ‰æ•ˆã€‚å¦‚æœæƒ³è¦å­¦ä¹ ä¸‹Springçš„è®¾è®¡ï¼Œæœ¬è¯¾ç¨‹éå¸¸é€‚ç”¨ã€‚","like_count":2,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":618005,"discussion_content":"æ˜¯è¿™æ ·çš„ã€‚å°±æ˜¯è¿™ä¸ªå®šä½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684020728,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370870,"user_name":"æœªèèŠ±å","can_delete":false,"product_type":"c1","uid":2142672,"ip_address":"åŒ—äº¬","ucode":"8BE87AC2CEA286","user_header":"https://static001.geekbang.org/account/avatar/00/20/b1/d0/8c94d49e.jpg","comment_is_top":false,"comment_ctime":1679325734,"is_pvip":false,"replies":[{"id":135316,"content":"åé¢ä¼šåŠ ä¸Šçš„ã€‚æ„Ÿè°¢å»ºè®®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1679370062,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":370870,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100536701,"comment_content":"è€å¸ˆè´´ä»£ç å¯ä»¥ä¿ç•™ä¸‹åŒ…åï¼Œæˆ–è€…è„‘å›¾é‡Œçš„ç±»å¯ä»¥å¸¦ä¸ŠåŒ…åï¼Œè¿™æ ·å¯ä»¥æŒ‰ç€æ€è·¯å†™ï¼Œä¸ç”¨å»ç¿»githubçš„ä»£ç äº†","like_count":2,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610061,"discussion_content":"åé¢ä¼šåŠ ä¸Šçš„ã€‚æ„Ÿè°¢å»ºè®®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679370062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375069,"user_name":"KernelStone","can_delete":false,"product_type":"c1","uid":2736140,"ip_address":"å¹¿ä¸œ","ucode":"B75C0100AD52B8","user_header":"https://static001.geekbang.org/account/avatar/00/29/c0/0c/f726d4d0.jpg","comment_is_top":false,"comment_ctime":1684857778,"is_pvip":false,"replies":[{"id":136890,"content":"ç”¨å¿ƒäº†ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1684905827,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":375069,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100536701,"comment_content":"æˆ‘æ‰¾åˆ°çš„ä¸€æ¡ä¸»çº¿æ˜¯è¿™æ ·çš„ã€‚beans.xml -&gt; AServiceImpl -&gt; ArgumentValue &amp; PropertyValue -&gt; ArgumentValues &amp; PropertyValues -&gt; BeanDefinition -&gt; BeanDefinitionRegistry -&gt; XmlBeanDefinitionReader -&gt; BeanFactory -&gt; SingletonBeanRegistry -&gt; DefaultSingletonBeanRegistry -&gt; SimpleBeanFactoryã€‚ä¸»è¦è¿˜æ˜¯å›´ç»•ç€æ‰©å……Beanå®šä¹‰ï¼Œå±æ€§æ³¨å…¥å»å®Œæˆçš„ï¼Œè¿™ä¸ªé¡ºåºçœ‹ä¸‹æ¥æ¯”è¾ƒå¥½ç†è§£ã€‚å…¶ä½™çš„å°±æ˜¯ApplicationEvent +ApplicationEventPublisheré¢„ç•™äº‹ä»¶ç›‘å¬æœºåˆ¶çš„æ‰©å±•ç‚¹ã€å’Œé‡æ–°ç»„è£…ClassPathXmlApplicationContextã€‚\n\nå½“ç„¶åŒå­¦ä»¬è¯„è®ºå¾ˆç²¾å½©ï¼Œå­¦åˆ°äº†ä¸€äº›ä»£ç ç»†èŠ‚ã€‚å†æ¬¡æ„Ÿè°¢ã€‚\n\n","like_count":1,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619231,"discussion_content":"ç”¨å¿ƒäº†ï¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1684905827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372947,"user_name":"Fiftten2001","can_delete":false,"product_type":"c1","uid":3586465,"ip_address":"æµ™æ±Ÿ","ucode":"FE50A84B4C79ED","user_header":"https://static001.geekbang.org/account/avatar/00/36/b9/a1/cf741eca.jpg","comment_is_top":false,"comment_ctime":1681835199,"is_pvip":false,"replies":[{"id":136292,"content":"å•ä¾‹è‚¯å®šæ˜¯æŒ‡æ¯æ¬¡æ‹¿çš„singletonæ˜¯åŒä¸€ä»½ï¼Œè¿™ç‚¹ç¡®å®šæ— ç–‘çš„ã€‚ä½ è¯´çš„å¤šçº¿ç¨‹çš„æ—¶å€™new instanceä¼šæœ‰å¤šä¸ªå¯¹è±¡æ˜¯æ­£ç¡®çš„ï¼Œè¿™ä¸ªåœ°æ–¹è¦åŠ ä¸ŠåŒæ­¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1681908272,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":372947,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100536701,"comment_content":"æ›´æ”¹ä¸€ä¸‹æˆ‘çš„é—®é¢˜ï¼Œsingleton = Class.forName(beanDefinition.getClassName()).newInstance();è¿™è¡Œä»£ç åœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹è¿˜æ˜¯ä¼šç”Ÿæˆå¤šä¸ªå¯¹è±¡çš„å§ï¼Œè¿™æ ·çš„è¯å•ä¾‹æ˜¯æŒ‡å•ä¾‹äº†ä»€ä¹ˆï¼Œå¦‚æœæ˜¯è¯´getçš„æ—¶å€™æ¯æ¬¡éƒ½æ‹¿åˆ°çš„æ˜¯åŒä¸€ä¸ªsingletonï¼Œsynchronizedå’Œconcurrentä¿è¯äº†ä¸ä¼šåœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹ï¼Œputæˆ–è€…removeå‘ç”Ÿå¯¼è‡´çš„è¿è¡Œæ—¶å´©æºƒï¼Œä½†æ˜¯å‰åä¸¤æ¬¡è®¿é—®è¿”å›çš„singletonå¯èƒ½å¹¶ä¸æ˜¯åŒä¸€ä¸ªå§ï¼Œè¿™æ—¶å€™æ˜¯ä¸æ˜¯åº”è¯¥åœ¨synchronizedä»£ç å—ä¸­å†æ¬¡åˆ¤æ–­æ˜¯å¦å·²ç»æœ‰äº†beanNameå¯¹åº”çš„singletonObjectç„¶åå†æ‰§è¡Œputå’Œadd","like_count":1,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":614794,"discussion_content":"å•ä¾‹è‚¯å®šæ˜¯æŒ‡æ¯æ¬¡æ‹¿çš„singletonæ˜¯åŒä¸€ä»½ï¼Œè¿™ç‚¹ç¡®å®šæ— ç–‘çš„ã€‚ä½ è¯´çš„å¤šçº¿ç¨‹çš„æ—¶å€™new instanceä¼šæœ‰å¤šä¸ªå¯¹è±¡æ˜¯æ­£ç¡®çš„ï¼Œè¿™ä¸ªåœ°æ–¹è¦åŠ ä¸ŠåŒæ­¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681908272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372946,"user_name":"Fiftten2001","can_delete":false,"product_type":"c1","uid":3586465,"ip_address":"æµ™æ±Ÿ","ucode":"FE50A84B4C79ED","user_header":"https://static001.geekbang.org/account/avatar/00/36/b9/a1/cf741eca.jpg","comment_is_top":false,"comment_ctime":1681833927,"is_pvip":false,"replies":[{"id":136291,"content":"åˆå§‹åŒ–çš„æ—¶å€™ï¼Œæ²¡æœ‰å¹¶å‘çš„é—®é¢˜ã€‚ä½†æ˜¯è€ƒè™‘ä»Šåæœ‰refreshï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶å†åˆ·æ–°ï¼Œå¯èƒ½æ˜¯å¤šçº¿ç¨‹çš„ï¼Œéœ€è¦è€ƒè™‘å¹¶å‘ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1681908100,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":372946,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100536701,"comment_content":"ç–‘æƒ‘çš„æ˜¯ä¸Šä¸€è®²ä¸­ï¼ŒBeanå®ä¾‹æœ¬å°±æ˜¯æ³¨å†Œè¿›hashMapçš„ï¼Œå³BeanFactoryçš„singletonsä¸­æœ¬å°±ç”±beanDefinitionçš„idå’Œclasspathæ„æˆkeyå’Œvalueï¼Œæ— è®ºåŠ ä¸åŠ synchronizedä¸éƒ½æ˜¯åªæœ‰ä¸€ä¸ªä¹ˆ...ï¼ˆèœé¸¡å¤§å­¦ç”Ÿï¼Œå¦‚æœé—®é¢˜å¤ªè ¢ï¼Œè¯·è½»ç‚¹å˜²ç¬‘ï¼Œæœ›è§£æƒ‘ï¼‰","like_count":1,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":614793,"discussion_content":"åˆå§‹åŒ–çš„æ—¶å€™ï¼Œæ²¡æœ‰å¹¶å‘çš„é—®é¢˜ã€‚ä½†æ˜¯è€ƒè™‘ä»Šåæœ‰refreshï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶å†åˆ·æ–°ï¼Œå¯èƒ½æ˜¯å¤šçº¿ç¨‹çš„ï¼Œéœ€è¦è€ƒè™‘å¹¶å‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681908100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1422756,"avatar":"https://static001.geekbang.org/account/avatar/00/15/b5/a4/67d6e3cb.jpg","nickname":"__@Wong","note":"","ucode":"A54A5FC672F23D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617888,"discussion_content":"Springä¸åªæœ‰å•ä¾‹æ¨¡å¼ï¼Œè¿˜æœ‰å¤šä¾‹æ¨¡å¼ã€‚æˆ‘è§‰å¾—æ˜¯æƒ³è¦ä¸¤ç§æ¨¡å¼çš„å®ç°åˆ†å¼€ï¼ŒBeanFactoryå‰¥ç¦»èŒè´£ï¼Œä½¿ç”¨ä¸“é—¨çš„å®ç°Registryã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683966646,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370865,"user_name":"ç“œç“œç‹å‡ ","can_delete":false,"product_type":"c1","uid":1621553,"ip_address":"å¹¿ä¸œ","ucode":"93447D86C450D6","user_header":"https://static001.geekbang.org/account/avatar/00/18/be/31/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1679322424,"is_pvip":false,"replies":[{"id":135315,"content":"ç”¨å¿ƒäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1679370028,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":370865,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100536701,"comment_content":"ç¬¬äºŒç« ä»£ç çœ‹äº†3å¤©ï¼Œç»ˆäºè¿™ä¸€æ³¢ç®—æ˜¯çœ‹æ‡‚ç†è§£äº†ï¼ŒDefaultSingletonBeanRegistryå°†ç¬¬ä¸€ç« ä¸­SimpleBeanFactoryé‡Œé¢ä¿å­˜çš„singletonsæ‹†åˆ†å‡ºæ¥ç®¡ç†äº†ï¼Œç”¨äºå­˜å‚¨çœŸæ­£çš„Beanå¯¹è±¡(beanName,Object)ï¼ŒSimpleBeanFactoryä»…ä¿å­˜createBeanï¼ŒcontainsBeanç­‰å’ŒBeanæ“ä½œç›¸å…³çš„å†…å®¹ï¼Œå…¶ä½™ç›¸æ¯”ç¬¬ä¸€ç« å°±æ˜¯å¤šäº†setteræ³¨å…¥å’Œæ„é€ å™¨æ³¨å…¥çš„å†…å®¹ï¼Œè€å¸ˆçš„ä»£ç å¹¶ä¸å¤æ‚ï¼Œè‡ªå·±è¿˜æ˜¯è¦å¤šå¤šåŠªåŠ›ï¼Œè®¤çœŸçœ‹è¿˜æ˜¯èƒ½çœ‹æ‡‚æ»´~~~å¼€å¿ƒ.jpg","like_count":1,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610060,"discussion_content":"ç”¨å¿ƒäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679370028,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370459,"user_name":"æµ…è¡Œ","can_delete":false,"product_type":"c1","uid":3567438,"ip_address":"å±±ä¸œ","ucode":"E46560808902FC","user_header":"https://static001.geekbang.org/account/avatar/00/36/6f/4e/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1678847362,"is_pvip":false,"replies":[{"id":135105,"content":"æ˜¯å°‘äº†ä¸œè¥¿ï¼Œä¼°è®¡æ˜¯ä¿®æ”¹æ–‡ç¨¿è¿‡ç¨‹ä¸­æ‰‹è¯¯åˆ æ‰äº†ï¼Œå°±æ˜¯æŠŠpropertyæ¢æˆconstructor-argã€‚æ„Ÿè°¢æŒ‡å‡ºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1678853459,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":370459,"utype":1}],"discussion_count":2,"race_medal":0,"score":3,"product_id":100536701,"comment_content":"å‘ç°äº†ä¸ªå°é—®é¢˜ï¼Œé…ç½®æ„é€ å™¨æ³¨å…¥ç« èŠ‚ä¸‹ï¼š\nä¸ Setter æ³¨å…¥ç±»ä¼¼ï¼Œæˆ‘ä»¬åªæ˜¯æŠŠæ ‡ç­¾æ¢æˆäº†æ ‡ç­¾\nè¿™é‡Œå¥½åƒå°‘äº†ç‚¹ä»€ä¹ˆ","like_count":1,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609157,"discussion_content":"æ˜¯å°‘äº†ä¸œè¥¿ï¼Œä¼°è®¡æ˜¯ä¿®æ”¹æ–‡ç¨¿è¿‡ç¨‹ä¸­æ‰‹è¯¯åˆ æ‰äº†ï¼Œå°±æ˜¯æŠŠpropertyæ¢æˆconstructor-argã€‚æ„Ÿè°¢æŒ‡å‡ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678853459,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2843479,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/63/57/cba4c68b.jpg","nickname":"å°è™å­ğŸ¯","note":"","ucode":"4C9530B3FB407B","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609208,"discussion_content":"æ„Ÿè°¢æµ…è¡ŒåŒå­¦åé¦ˆï¼ŒæŸ¥çœ‹äº†ä¸‹åŸå› ï¼Œæœ‰&lt;&gt;ç¬¦å·æ—¶ï¼Œåå°å°±ä¸æ˜¾ç¤ºç¬¦å·é‡Œçš„å†…å®¹äº†ï¼Œåˆšåˆšå·²æ‰‹åŠ¨æ‰‹åŠ¨æ·»åŠ ï¼Œå¤šè°¢æé†’å“¦^_^","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678871922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ²³åŒ—","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":388643,"user_name":"ä¸”å°†æ–°ç«è¯•æ–°èŒ¶ï½","can_delete":false,"product_type":"c1","uid":1547839,"ip_address":"åŒ—äº¬","ucode":"F8FD956CF07B14","user_header":"https://static001.geekbang.org/account/avatar/00/17/9e/3f/00109670.jpg","comment_is_top":false,"comment_ctime":1710568286,"is_pvip":false,"replies":[{"id":141498,"content":"æ˜¯è¦ç»“åˆä»£ç ã€‚è¯¾ç¨‹æ–‡æœ¬ä¸ä¼šå°†æ¯ä¸€ä¸ªç»†èŠ‚è®²å‡ºæ¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1710751548,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":388643,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100536701,"comment_content":"ç¡®å®åœ¨æ•²ä»£ç è¿‡å±‚ä¸­é‡åˆ°äº†å¾ˆå¤šé˜»å¡ç‚¹ï¼Œè¦ç»“åˆä½œè€…çš„ä»£ç æ¥çœ‹ï¼Œå¦å¤–æŒ‰ç…§ä½œè€…çš„æ­¥éª¤æ¥æ•²ï¼Œæœ€å¥½æ˜¯ä¸€æ®µå°±è¿è¡Œä¸€ä¸‹ï¼Œç¼©å°é—®é¢˜èŒƒå›´ï¼Œä¿è¯ç¨‹åºèƒ½æ­£å¸¸è¿è¡Œã€‚ä¸ç„¶æœ€åæ•²å®Œå®Œå…¨æ²¡æœ‰å¤´ç»ªï¼Œä¸çŸ¥é“ä»å“ªé‡Œå»æ’æŸ¥ã€‚","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":639530,"discussion_content":"æ˜¯è¦ç»“åˆä»£ç ã€‚è¯¾ç¨‹æ–‡æœ¬ä¸ä¼šå°†æ¯ä¸€ä¸ªç»†èŠ‚è®²å‡ºæ¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1710751548,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":388642,"user_name":"ä¸”å°†æ–°ç«è¯•æ–°èŒ¶ï½","can_delete":false,"product_type":"c1","uid":1547839,"ip_address":"åŒ—äº¬","ucode":"F8FD956CF07B14","user_header":"https://static001.geekbang.org/account/avatar/00/17/9e/3f/00109670.jpg","comment_is_top":false,"comment_ctime":1710568189,"is_pvip":false,"replies":[{"id":141499,"content":"è‡ªå·±æ€»ç»“çš„å¾ˆå¥½","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1710751582,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":388642,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100536701,"comment_content":"è¿™èŠ‚ä¸»è¦æ˜¯ï¼š\n1. æ–°å¢äº†å•ä¾‹æ¨¡å¼ã€‚registerBeanDefinition è¿™ä¸ªæ–¹æ³•æŠŠå®ä¾‹æ”¾å…¥beanDefinitionMapä¸­ï¼Œç¬¬ä¸€æ¬¡getæ˜¯ä»è¿™ä¸ªmapä¸­æ‹¿å‡ºæ¥çš„ï¼Œç„¶åæ”¾å…¥å•ä¾‹çš„mapä¸­è¿›è¡Œç®¡ç†äº†ã€‚ä¸ªäººç†è§£SingletonBeanRegistryåªæ˜¯å¸®æˆ‘ä»¬ç®¡ç†å•ä¾‹çš„ä»“åº“ï¼Œåˆå§‹åŒ–çš„æ—¶å€™è¿™ä¸ªé‡Œé¢æ˜¯æ²¡æœ‰å€¼çš„ï¼Œæ„Ÿè§‰å®ƒç±»ä¼¼äºä¸€ä¸ªç¼“å­˜\n2.BeanDefinitionçš„ç±»å±æ€§åšäº†æ‰©å±•\n3. ä¸ºæ„é€ æ–¹æ³•å’Œsetteræ³¨å…¥å±æ€§åšäº†ä¸€äº›å‡†å¤‡å·¥ä½œ\n\nè¿™èŠ‚ä»£ç æ•²å®Œä¹‹åï¼Œåº”è¯¥ä¿è¯ï¼š\n1. ç¨‹åºèƒ½æ­£å¸¸å¯åŠ¨\n2.aService.sayHello(); æ–¹æ³•è°ƒç”¨ç»“æœæ˜¯null,null","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":639531,"discussion_content":"è‡ªå·±æ€»ç»“çš„å¾ˆå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1710751582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":388614,"user_name":"jhren","can_delete":false,"product_type":"c1","uid":1596987,"ip_address":"ç¾å›½","ucode":"60F7CCEA1E2C88","user_header":"https://static001.geekbang.org/account/avatar/00/18/5e/3b/845fb641.jpg","comment_is_top":false,"comment_ctime":1710483252,"is_pvip":false,"replies":[{"id":141497,"content":"ç”¨å¿ƒäº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1710751501,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":388614,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100536701,"comment_content":"ä»”ç»†ç ”ç©¶äº†ä¸‹ï¼ŒBeançš„propertyæ˜¯æ²¡æœ‰typeçš„ï¼Œé€šè¿‡setterçš„å‚æ•°æ¨æ–­å‡ºç±»å‹ã€‚\nè¿™æ®µä»£ç æ²¡æœ‰typeè·ŸSpringæ˜¯ä¸€è‡´çš„ã€‚\npublic class PropertyValue {\n    private final String name;\n    private final Object value;\n}\nXMLé‡Œé¢çš„typeåœ¨Springé‡Œæ˜¯ä¸åˆæ³•çš„\n&lt;beans&gt;\n    &lt;bean id=&quot;aservice&quot; class=&quot;com.minis.test.AServiceImpl&quot;&gt;\n        &lt;property type=&quot;String&quot; name=&quot;property1&quot; value=&quot;Hello World!&quot;&#47;&gt;\n    &lt;&#47;bean&gt;\n&lt;&#47;beans&gt;","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":639529,"discussion_content":"ç”¨å¿ƒäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1710751501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":386382,"user_name":"1184507801","can_delete":false,"product_type":"c1","uid":1141923,"ip_address":"å¹¿ä¸œ","ucode":"930E2F79C5582A","user_header":"https://static001.geekbang.org/account/avatar/00/11/6c/a3/7d60e2a0.jpg","comment_is_top":false,"comment_ctime":1704722607,"is_pvip":false,"replies":[{"id":140892,"content":"ä½ å¤šè¯•å‡ æ¬¡ï¼Œå›½å†…è®¿é—®Githubä¸ç¨³å®šã€‚æˆ‘åé¢çš„MiniTomcatè¯¾ç¨‹è®©åŠ©æ‰‹æ¬åˆ°å›½å†…çš„Giteeäº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1705023724,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":386382,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100536701,"comment_content":"è€å¸ˆæºç åœ°å€è¿›ä¸äº†","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":635648,"discussion_content":"ä½ å¤šè¯•å‡ æ¬¡ï¼Œå›½å†…è®¿é—®Githubä¸ç¨³å®šã€‚æˆ‘åé¢çš„MiniTomcatè¯¾ç¨‹è®©åŠ©æ‰‹æ¬åˆ°å›½å†…çš„Giteeäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1705023724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375056,"user_name":"æˆ‘æƒ³æˆ‘æ˜¯æµ·","can_delete":false,"product_type":"c1","uid":1901695,"ip_address":"ç¦å»º","ucode":"8FB2E63ABE1D15","user_header":"https://static001.geekbang.org/account/avatar/00/1d/04/7f/c4ce690c.jpg","comment_is_top":false,"comment_ctime":1684848196,"is_pvip":false,"replies":[{"id":136892,"content":"ä½ è¯´çš„å¯¹ã€‚åé¢ä¼šæ”¹æ‰ï¼ŒSimpleä¸å†ç”¨äº†ï¼Œä½ æ…¢æ…¢å¾€åçœ‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1684905924,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":375056,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100536701,"comment_content":"è€å¸ˆä½ å¥½æˆ‘æœ‰ä¸€ä¸ªç–‘é—®ï¼Œæ­¤æ—¶çš„DefaultSingletonBeanRegistryä¸­ä¸æ˜¯æœ‰ beanNames æ¥å­˜å‚¨æ‰€æœ‰beançš„åç§°äº†å—ï¼Ÿ å®ƒè¢«SimpleBeanFactoryç»§æ‰¿äº†ã€‚ ä½†è¿™èŠ‚çš„ä»£ç ä¸­ SimpleBeanFactory åˆè‡ªå·±å£°æ˜äº†ä¸€ä¸ª beanDefinitionNames ä¹Ÿæ˜¯æ¥å­˜æ”¾beançš„æ‰€æœ‰çš„åç§°çš„ã€‚ è¿™ä¸¤ä¸ªæ˜¯ç»§æ‰¿å…³ç³»ï¼Œè¿™å±æ€§åˆ—è¡¨åŠŸèƒ½ä¸é‡å¤äº†å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619233,"discussion_content":"ä½ è¯´çš„å¯¹ã€‚åé¢ä¼šæ”¹æ‰ï¼ŒSimpleä¸å†ç”¨äº†ï¼Œä½ æ…¢æ…¢å¾€åçœ‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684905924,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":374514,"user_name":"Geek_7jwpfc","can_delete":false,"product_type":"c1","uid":1318633,"ip_address":"æ¹–å—","ucode":"CBCEA76E9EF33B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJhxtIyXX4icMNAq5zEvchKYS3q7fwZXA3h7yV80iaibCRXniaLW95OnPC8PM2h5Ja5ibpkJ1VJowicqKZA/132","comment_is_top":false,"comment_ctime":1684150108,"is_pvip":false,"replies":[{"id":136720,"content":"åç»­æœ‰è¯´æ˜ã€‚çº¿ä¸‹ç­æ˜¯å­¦ç”Ÿè‡ªå·±å½“ç»ƒä¹ è¡¥ä¸Šçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1684154029,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":374514,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100536701,"comment_content":"çœ‹äº†è¿™èŠ‚è¯¾çš„ä»£ç ï¼Œè®¾è®¡çš„æ„é€ å™¨å’Œpropertyæ³¨å…¥ï¼Œæ˜¯ä¸æ˜¯åªè®¾è®¡åŸºæœ¬ç±»å‹ï¼Œåç»­ä¼šæœ‰æ”¹åŠ¨ï¼","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":618235,"discussion_content":"åç»­æœ‰è¯´æ˜ã€‚çº¿ä¸‹ç­æ˜¯å­¦ç”Ÿè‡ªå·±å½“ç»ƒä¹ è¡¥ä¸Šçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684154029,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":374306,"user_name":"Geek_7jwpfc","can_delete":false,"product_type":"c1","uid":1318633,"ip_address":"æ¹–å—","ucode":"CBCEA76E9EF33B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJhxtIyXX4icMNAq5zEvchKYS3q7fwZXA3h7yV80iaibCRXniaLW95OnPC8PM2h5Ja5ibpkJ1VJowicqKZA/132","comment_is_top":false,"comment_ctime":1683878491,"is_pvip":false,"replies":[{"id":136691,"content":"ä»¥githubä¸ºå‡†ã€‚æœ€åéƒ½æ˜¯ä¸€è‡´çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":1864890,"ctime":1684020658,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":374306,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100536701,"comment_content":"æ–‡ç¨¿ä¸­ArgumentValueså’Œgithubä¸Šé¢çš„ä¸ä¸€è‡´ï¼Œæˆ‘åˆ°åº•åº”è¯¥ç›¸ä¿¡è°çš„","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":618003,"discussion_content":"ä»¥githubä¸ºå‡†ã€‚æœ€åéƒ½æ˜¯ä¸€è‡´çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684020658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":374305,"user_name":"Geek_7jwpfc","can_delete":false,"product_type":"c1","uid":1318633,"ip_address":"æ¹–å—","ucode":"CBCEA76E9EF33B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJhxtIyXX4icMNAq5zEvchKYS3q7fwZXA3h7yV80iaibCRXniaLW95OnPC8PM2h5Ja5ibpkJ1VJowicqKZA/132","comment_is_top":false,"comment_ctime":1683878234,"is_pvip":false,"replies":[{"id":136722,"content":"å¯¹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1684154077,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":374305,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100536701,"comment_content":"ArgumentValueæœ‰ä¸¤ä¸ªæ„é€ å™¨ï¼Œç¬¬ä¸€ä¸ªæ˜¯#ArgumentValue(Object value, String type)ï¼Œç¬¬äºŒä¸ªæ˜¯#ArgumentValue(Object value, String type, String name)ï¼Œnameå­—æ®µä¸æ˜¯å¿…é¡»çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":618238,"discussion_content":"å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684154077,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372986,"user_name":"å¼ ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1155275,"ip_address":"åŒ—äº¬","ucode":"3A6215A40B3B21","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","comment_is_top":false,"comment_ctime":1681892292,"is_pvip":false,"replies":[{"id":136290,"content":"è¿™ä¸ªæ˜¯ä¸åŒçš„åšæ³•ï¼Œæˆ‘è§‰å¾—éƒ½å¯ä»¥ã€‚ä¸è¿‡æˆ‘åšMiniSpringçš„ç›®çš„æ˜¯å¼•å¯¼å­¦ç”Ÿå»ç†è§£Springæ¡†æ¶ï¼Œæ‰€ä»¥å°±æŒ‰ç…§Springçš„æ¥çš„ï¼Œè¿™æ ·ä»¥åè¯»Springæ¡†æ¶æºä»£ç çš„æ—¶å€™ï¼Œå°±è·Ÿç†Ÿæ‚‰äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1681895194,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":372986,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100536701,"comment_content":"è€å¸ˆè¯·æ•™ä¸ªé—®é¢˜ï¼Œ\nå…¶å®SimpleBeanFactoryå®Œå…¨æ²¡å¿…è¦å‘Šè¯‰å¤–ç•Œå®ƒä¹Ÿæ˜¯BeanDefinitionRegistryâ€œä»“åº“â€ï¼Œä¹Ÿå°±æ˜¯æ²¡å¿…è¦å®ç°è¿™ä¸ªæ¥å£ï¼Œå®ƒåº”è¯¥å‘Šè¯‰å¤–ç•Œå®ƒå°±åªæ˜¯ä¸€ä¸ªBeanFactoryâ€œå·¥å‚â€å°±è¶³å¤Ÿäº†ï¼Œç„¶åå†å°†BeanDefinitionRegistryä½œä¸ºSimpleBeanFactoryä¸­çš„ä¸€ä¸ªå±æ€§ï¼Œåˆ©ç”¨ç»„åˆå…³ç³»ï¼Œæ”¾å¼ƒç»§æ‰¿å…³ç³»ï¼Œè¿™æ ·ä»ç»“æ„ä¸Šæ›´å®¹æ˜“è®©äººæ¥å—ï¼Œçº¯å±ä¸ªäººç†è§£ã€‚","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":614752,"discussion_content":"è¿™ä¸ªæ˜¯ä¸åŒçš„åšæ³•ï¼Œæˆ‘è§‰å¾—éƒ½å¯ä»¥ã€‚ä¸è¿‡æˆ‘åšMiniSpringçš„ç›®çš„æ˜¯å¼•å¯¼å­¦ç”Ÿå»ç†è§£Springæ¡†æ¶ï¼Œæ‰€ä»¥å°±æŒ‰ç…§Springçš„æ¥çš„ï¼Œè¿™æ ·ä»¥åè¯»Springæ¡†æ¶æºä»£ç çš„æ—¶å€™ï¼Œå°±è·Ÿç†Ÿæ‚‰äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681895194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372038,"user_name":"å¤©æ•Œ","can_delete":false,"product_type":"c1","uid":1059944,"ip_address":"å››å·","ucode":"CD29A622197197","user_header":"https://static001.geekbang.org/account/avatar/00/10/2c/68/c299bc71.jpg","comment_is_top":false,"comment_ctime":1680620897,"is_pvip":false,"replies":[{"id":135794,"content":"æš‚æ—¶æ²¡æœ‰ã€‚è¿™ä¸€éƒ¨åˆ†æ˜¯ä»SpringèŠ‚é€‰çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1680675805,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":372038,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100536701,"comment_content":"Arguments#addArgumentValue(Integer key,ArgumentValue newValue) è¿™ä¸ªæ–¹æ³•æ˜¯ç§æœ‰æ–¹æ³•ä½†æ˜¯ç°åœ¨æ²¡æœ‰åœ°æ–¹è°ƒç”¨å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612426,"discussion_content":"æš‚æ—¶æ²¡æœ‰ã€‚è¿™ä¸€éƒ¨åˆ†æ˜¯ä»SpringèŠ‚é€‰çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680675805,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371598,"user_name":"å“‡!çŒª!!","can_delete":false,"product_type":"c1","uid":2181929,"ip_address":"å››å·","ucode":"42EC42CA7D50F1","user_header":"https://static001.geekbang.org/account/avatar/00/21/4b/29/9e5d963b.jpg","comment_is_top":false,"comment_ctime":1680084584,"is_pvip":false,"replies":[{"id":135580,"content":"æ²¡æœ‰é”™ã€‚æ˜¯ä½ å†™çš„æ›´å¥½ï¼Œèµï¼","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1680087453,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":371598,"utype":1}],"discussion_count":2,"race_medal":0,"score":4,"product_id":100536701,"comment_content":"public Class getType(String name) { return this.beanDefinitionMap.get(name).getClass(); }è¿™é‡Œè²Œä¼¼å†™é”™äº†ï¼Ÿåº”è¯¥æ˜¯ public Class&lt;?&gt; getType(String name) {\n        return (Class&lt;?&gt;) this.beanDefinitionMap.get(name).getBeanClass();\n    }","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611440,"discussion_content":"æ²¡æœ‰é”™ã€‚æ˜¯ä½ å†™çš„æ›´å¥½ï¼Œèµï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680087453,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2342711,"avatar":"https://static001.geekbang.org/account/avatar/00/23/bf/37/10f71592.jpg","nickname":"å¼€è½¦ç–¾å¦‚é£","note":"","ucode":"84B17E8FC5B0DF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":618635,"discussion_content":"è€å¸ˆï¼Œè¿™é‡Œåº”è¯¥æ˜¯æœ‰é—®é¢˜çš„this.beanDefinitionMap.get(name)å¾—åˆ°çš„æ˜¯BeanDefinitionå¯¹è±¡ï¼Œå†è°ƒç”¨çš„getClass()æ–¹æ³•æ˜¯Objectç±»çš„æ–¹æ³•ï¼Œå¾—åˆ°çš„æ˜¯BeanDefinitionç±»ï¼Œdebugç»“æœä¹Ÿæ˜¯å¦‚æ­¤ã€‚   \n\næˆ‘çŒœBeanDefinitioné‡Œé¢çš„beanClassæ˜¯ç”¨æ¥å­˜å‚¨beanå®ä¾‹åŒ–ä¹‹åçš„é¥®ç”¨ï¼Ÿæ‰€ä»¥æ„Ÿè§‰åº”è¯¥æ˜¯getBeanClass()åå†getClass()ã€‚ è¿˜æ²¡çœ‹è¿‡Springçš„å®ç°ï¼Œæ„Ÿè§‰åé¢çš„è¯¾ç¨‹ä¼šè§£ç­”æˆ‘è¿™ä¸ªç–‘é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684400834,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":611440,"ip_address":"å¹¿ä¸œ","group_id":0},"score":618635,"extra":""}]}]},{"had_liked":false,"id":371128,"user_name":"å§å§","can_delete":false,"product_type":"c1","uid":3021628,"ip_address":"æµ™æ±Ÿ","ucode":"1A615FA9B453DE","user_header":"https://static001.geekbang.org/account/avatar/00/2e/1b/3c/9c5fc55f.jpg","comment_is_top":false,"comment_ctime":1679562006,"is_pvip":false,"replies":[{"id":135402,"content":"æ„Ÿè°¢æ„Ÿè°¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1679607221,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":371128,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100536701,"comment_content":"æ„Ÿè°¢è€å¸ˆï¼Œè¿™ä¸ªè¯¾å¤ªç”¨å¿ƒäº†ï¼Œå±•ç°äº†springä»ä¸€é¢—ç§å­æˆé•¿ä¸ºå¤§æ ‘çš„è¿‡ç¨‹ï¼Œæ‰çœ‹äº†ä¸¤èŠ‚ï¼Œå·²ç»æ„Ÿè§‰æ”¶è·é¢‡å¤šï¼Œä¼šç»§ç»­è¿½ä¸‹å»ã€‚","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610534,"discussion_content":"æ„Ÿè°¢æ„Ÿè°¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679607221,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370843,"user_name":"å•Šè‰¯æ¢“æ˜¯æˆ‘","can_delete":false,"product_type":"c1","uid":1655117,"ip_address":"å¹¿ä¸œ","ucode":"E42FC1A60D331C","user_header":"https://static001.geekbang.org/account/avatar/00/19/41/4d/f6d6d13a.jpg","comment_is_top":false,"comment_ctime":1679313717,"is_pvip":false,"replies":[{"id":135312,"content":"æ–‡ç¨¿é‡Œé¢çš„ä»£ç ä¸å®Œæ•´ï¼Œä½ çœ‹Githubä¸Šçš„iocç›¸å…³åˆ†æ”¯","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1679369628,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":370843,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100536701,"comment_content":"public boolean isSingleton(String beanName) {\n        return beanDefinitionMap.get(beanName).isSingleton();\n    } \nè¿™é‡Œå¥½åƒBeanDefinition æ²¡æœ‰å®šä¹‰è¿™ä¸ªisSingleton()æ–¹æ³•å§ï¼Ÿå“ªæ¥çš„","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610055,"discussion_content":"æ–‡ç¨¿é‡Œé¢çš„ä»£ç ä¸å®Œæ•´ï¼Œä½ çœ‹Githubä¸Šçš„iocç›¸å…³åˆ†æ”¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679369629,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370766,"user_name":"escray","can_delete":false,"product_type":"c1","uid":1020525,"ip_address":"åŒ—äº¬","ucode":"1F4204930E47C4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/92/6d/becd841a.jpg","comment_is_top":false,"comment_ctime":1679229798,"is_pvip":true,"replies":[{"id":135287,"content":"èµä½ ï¼\nå…¶å®æˆ‘è§‰å¾—ä¸å¿…è¦çº ç»“beanNameså’Œsingletonsï¼ŒMiniSpringçš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†è§£æSpringæ¡†æ¶çš„ç»“æ„ï¼Œä»£ç ä¸æ˜¯å·¥ä¸šçº§çš„ï¼Œæ–¹ä¾¿ç†è§£å°±å¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1679282713,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":370766,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100536701,"comment_content":"ç»§ç»­é—·å¤´æŠ„ä»£ç ï¼Œä¸æ˜è§‰å‰ã€‚\n\nhttps:&#47;&#47;github.com&#47;escray&#47;miniSpring&#47;tree&#47;IoC02\n\nå¯¹äºæ€è€ƒé¢˜ï¼Œæ„é€ å™¨æ³¨å…¥æ˜¯ä¸æ˜¯ç›¸å¯¹æ›´æ­»æ¿ä¸€äº›ï¼Œè€Œ Setter æ³¨å…¥æ›´çµæ´»ï¼Œå¯ä»¥ä»é…ç½®æ–‡ä»¶è¯»å–ã€‚\n\nçœ‹åˆ°ç•™è¨€é‡Œé¢å¤§å®¶éƒ½åœ¨çº ç»“ beanNames å’Œ singletons çš„é‡å ï¼Œä¸€æ–¹é¢æ˜¯å®ç°é£æ ¼ï¼Œå¦å¤–æˆ‘è§‰å¾—ï¼Œæä¾› beanNames çš„æƒ…å†µä¸‹æ˜¯ä¸æ˜¯å¯ä»¥åšåˆ°æ›´å¥½çš„æ€§èƒ½ï¼Ÿç‰¹åˆ«æ˜¯åœ¨ä¸åªéœ€è¦åˆ¤æ–­åå­—çš„æ—¶å€™ï¼Œæ„Ÿè§‰ä¸Š singletons æœ‰å¯èƒ½ä¼šå˜çš„æ¯”è¾ƒåºå¤§ã€‚\n\nå¦å¤–å°±æ˜¯å…³äºä»£ç çš„ UML å›¾ï¼Œåœ¨ IDEA é‡Œé¢å¯ä»¥ç›´æ¥ç”Ÿæˆé¡¹ç›®çš„ UML å›¾ï¼Œè™½ç„¶ä¸æ€ä¹ˆç¾è§‚ï¼Œä½†æ˜¯è¯¥æœ‰çš„è¦ç´ éƒ½æ˜¯æœ‰çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609891,"discussion_content":"èµä½ ï¼\nå…¶å®æˆ‘è§‰å¾—ä¸å¿…è¦çº ç»“beanNameså’Œsingletonsï¼ŒMiniSpringçš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†è§£æSpringæ¡†æ¶çš„ç»“æ„ï¼Œä»£ç ä¸æ˜¯å·¥ä¸šçº§çš„ï¼Œæ–¹ä¾¿ç†è§£å°±å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679282713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370581,"user_name":"æå°æ±Ÿ","can_delete":false,"product_type":"c1","uid":1319192,"ip_address":"å¹¿ä¸œ","ucode":"F3F30C814866CA","user_header":"https://static001.geekbang.org/account/avatar/00/14/21/18/dde59ef9.jpg","comment_is_top":false,"comment_ctime":1678977879,"is_pvip":false,"replies":[{"id":135215,"content":"è¯»å¾—ç»†è‡´ã€‚æˆ‘çš„ä¹ æƒ¯ä¸€èˆ¬æ˜¯æ‰€æœ‰çš„æ–¹æ³•å…ˆå¼„æˆprivateï¼Œç„¶åç”¨åˆ°ä¸€ä¸ªæ”¾å¼€ä¸€ä¸ªã€‚è¿™ä¸ªç±»åé¢ä¼šæ”¹é€ çš„ï¼Œä½ å¾€åå­¦ã€‚ MiniSpringçš„é‡ç‚¹æ˜¯æ¼”ç¤ºSpringè¿™ä¸ªæ¡†æ¶çš„ç»“æ„æ€ä¹ˆä¸€æ­¥æ­¥æ­å»ºçš„ï¼Œå…·ä½“ä»£ç ç»†èŠ‚ä¸æ˜¯é‡ç‚¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1679006180,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":370581,"utype":1}],"discussion_count":1,"race_medal":0,"score":4,"product_id":100536701,"comment_content":"ArgumentValuesä¸­addArgumentValueæ–¹æ³•ä¸ºä»€ä¹ˆæ˜¯ç§æœ‰çš„ï¼Œä¹Ÿæ²¡æœ‰è°ƒç”¨åˆ°ã€‚æ˜¯åé¢ä¼šç”¨åˆ°çš„è¿˜æ˜¯ä»€ä¹ˆè®¾è®¡","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609510,"discussion_content":"è¯»å¾—ç»†è‡´ã€‚æˆ‘çš„ä¹ æƒ¯ä¸€èˆ¬æ˜¯æ‰€æœ‰çš„æ–¹æ³•å…ˆå¼„æˆprivateï¼Œç„¶åç”¨åˆ°ä¸€ä¸ªæ”¾å¼€ä¸€ä¸ªã€‚è¿™ä¸ªç±»åé¢ä¼šæ”¹é€ çš„ï¼Œä½ å¾€åå­¦ã€‚ MiniSpringçš„é‡ç‚¹æ˜¯æ¼”ç¤ºSpringè¿™ä¸ªæ¡†æ¶çš„ç»“æ„æ€ä¹ˆä¸€æ­¥æ­¥æ­å»ºçš„ï¼Œå…·ä½“ä»£ç ç»†èŠ‚ä¸æ˜¯é‡ç‚¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679006180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370557,"user_name":"ç¿æ™ºçš„ä»“é¼ ","can_delete":false,"product_type":"c1","uid":2781305,"ip_address":"æ¹–åŒ—","ucode":"914D56E47B01F2","user_header":"https://static001.geekbang.org/account/avatar/00/2a/70/79/bb591140.jpg","comment_is_top":false,"comment_ctime":1678954271,"is_pvip":false,"replies":[{"id":135218,"content":"å¥½å‡ ä¸ªäººé—®è¿™ä¸ªé—®é¢˜ï¼Œå¤§å®¶éƒ½å¾ˆç”¨å¿ƒï¼Œèµï¼\nå…¶å®ä¸ç”¨ä¹Ÿå¯ä»¥ï¼Œæ²¡æœ‰é—®é¢˜ã€‚é£æ ¼ä¸åŒï¼Œä¸åŒçš„äººè®¾è®¡çš„èŒƒå¼å’Œæ„Ÿè§‰ä¸åŒï¼Œæˆ‘ä¹ æƒ¯äºæŠŠä¸»ä½“ä¸å…³ç³»åˆ†å¼€ã€‚Springæ¡†æ¶æœ¬èº«ä¹Ÿæœ‰ä¸€ä¸ªç±»ä¼¼çš„setï¼Œå«registeredSingletonsï¼Œé‡Œé¢å°±æ˜¯beanNamesã€‚å¦å¤–ï¼ŒMiniSpringçš„ä¸»è¦ç›®çš„æ˜¯ä¾¿äºå­¦ä¹ Springæœ¬èº«ï¼Œæ‰€ä»¥ï¼Œç®€åŒ–äº†å¾ˆå¤šï¼Œä¸æ˜¯é‚£ä¹ˆä¸¥æ ¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1679007039,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":370557,"utype":1}],"discussion_count":4,"race_medal":0,"score":5,"product_id":100536701,"comment_content":"è¯·é—®éƒ­è€å¸ˆï¼Œåœ¨SimpleBeanFactoryå’Œä¹‹å‰çš„DefaultSingletonBeanRegistryä¸­ï¼Œä¸ºä»€ä¹ˆè¦é¢å¤–ç»´æŠ¤ä¸€ä¸ªnamesçš„Listï¼Ÿç›®å‰æ¥çœ‹å¦‚æœç”¨æ¥åˆ¤æ–­containsçš„è¯ï¼Œå­˜å‚¨æ˜ å°„å…³ç³»çš„mapä¹Ÿå¯ä»¥åšåˆ°ï¼Œliståœ¨åé¢æ˜¯æœ‰ä»€ä¹ˆå¦™ç”¨å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2431311,"avatar":"https://static001.geekbang.org/account/avatar/00/25/19/4f/a0757e5f.jpg","nickname":"æ±Ÿå®XYZ","note":"","ucode":"D2D1C3DF0809F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609482,"discussion_content":"å¯ä»¥çœ‹å°é©¬å“¥è®²çš„spring æ ¸å¿ƒç¼–ç¨‹æ€æƒ³ å› ä¸ºè¿™é‡Œçš„mapæ˜¯æ— åºçš„,Listçš„æ˜¯æœ‰é¡ºåºçš„,å½“ä½ å»è·å–æ‰€æœ‰çš„Beançš„æ—¶å€™,ä¼šéå†è¿™ä¸ªlist,ç„¶åå†æ ¹æ®nameä»mapä¸­æ‹¿å‡ºæ¥å±•ç¤º,ä¿è¯é¡ºåº","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1678982012,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2781305,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/70/79/bb591140.jpg","nickname":"ç¿æ™ºçš„ä»“é¼ ","note":"","ucode":"914D56E47B01F2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2431311,"avatar":"https://static001.geekbang.org/account/avatar/00/25/19/4f/a0757e5f.jpg","nickname":"æ±Ÿå®XYZ","note":"","ucode":"D2D1C3DF0809F8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609826,"discussion_content":"ä½ è¯´å¾—å¾ˆå¯¹ï¼Œæ–‡ä¸­æ²¡æœ‰æåŠæ‰€ä»¥å¿½ç•¥è¿™ä¸ªç‚¹äº†ï¼Œæ‚Ÿäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679230534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":609482,"ip_address":"æ¹–åŒ—","group_id":0},"score":609826,"extra":""},{"author":{"id":2419502,"avatar":"https://static001.geekbang.org/account/avatar/00/24/eb/2e/90fea784.jpg","nickname":"æŸ’","note":"","ucode":"D41241629321A1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2431311,"avatar":"https://static001.geekbang.org/account/avatar/00/25/19/4f/a0757e5f.jpg","nickname":"æ±Ÿå®XYZ","note":"","ucode":"D2D1C3DF0809F8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610223,"discussion_content":"è¿™æ ·ä¸€è¯´ï¼Œè¦ä¿è¯é¡ºåºï¼Œæœ€åçš„æ•ˆæœç›¸å½“äºä¸€ä¸ªLinkedHashMap()","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679463707,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":609482,"ip_address":"ä¸Šæµ·","group_id":0},"score":610223,"extra":""}]},{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609514,"discussion_content":"å¥½å‡ ä¸ªäººé—®è¿™ä¸ªé—®é¢˜ï¼Œå¤§å®¶éƒ½å¾ˆç”¨å¿ƒï¼Œèµï¼\nå…¶å®ä¸ç”¨ä¹Ÿå¯ä»¥ï¼Œæ²¡æœ‰é—®é¢˜ã€‚é£æ ¼ä¸åŒï¼Œä¸åŒçš„äººè®¾è®¡çš„èŒƒå¼å’Œæ„Ÿè§‰ä¸åŒï¼Œæˆ‘ä¹ æƒ¯äºæŠŠä¸»ä½“ä¸å…³ç³»åˆ†å¼€ã€‚Springæ¡†æ¶æœ¬èº«ä¹Ÿæœ‰ä¸€ä¸ªç±»ä¼¼çš„setï¼Œå«registeredSingletonsï¼Œé‡Œé¢å°±æ˜¯beanNamesã€‚å¦å¤–ï¼ŒMiniSpringçš„ä¸»è¦ç›®çš„æ˜¯ä¾¿äºå­¦ä¹ Springæœ¬èº«ï¼Œæ‰€ä»¥ï¼Œç®€åŒ–äº†å¾ˆå¤šï¼Œä¸æ˜¯é‚£ä¹ˆä¸¥æ ¼ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1679007039,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370549,"user_name":"Geek_09b0c3","can_delete":false,"product_type":"c1","uid":1647169,"ip_address":"å¹¿ä¸œ","ucode":"BD53D4B2C9201D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/uUNsibxx9EvpiaeG5VVd6slEia0QGFsIdOPwxxz7NmulA1dpSDktTmcV9pa6DPiaj1aj8T9eafVfDSYq8TiaKVxw8sg/132","comment_is_top":false,"comment_ctime":1678945838,"is_pvip":false,"replies":[{"id":135217,"content":"å†å›å¤ï¼š\nå…¶å®ä¸ç”¨ä¹Ÿå¯ä»¥ï¼Œæ²¡æœ‰é—®é¢˜ã€‚é£æ ¼ä¸åŒï¼Œä¸åŒçš„äººè®¾è®¡çš„èŒƒå¼å’Œæ„Ÿè§‰ä¸åŒï¼Œæˆ‘ä¹ æƒ¯äºæŠŠä¸»ä½“ä¸å…³ç³»åˆ†å¼€ã€‚Springæ¡†æ¶æœ¬èº«ä¹Ÿæœ‰ä¸€ä¸ªç±»ä¼¼çš„setï¼Œå«registeredSingletonsï¼Œé‡Œé¢å°±æ˜¯beanNamesã€‚å¦å¤–ï¼ŒMiniSpringçš„ä¸»è¦ç›®çš„æ˜¯ä¾¿äºå­¦ä¹ Springæœ¬èº«ï¼Œæ‰€ä»¥ï¼Œç®€åŒ–äº†å¾ˆå¤šï¼Œä¸æ˜¯é‚£ä¹ˆä¸¥æ ¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1679007008,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":370549,"utype":1}],"discussion_count":2,"race_medal":0,"score":5,"product_id":100536701,"comment_content":"è€å¸ˆ æœ‰ä¸ªç–‘é—®\nä»£ç ï¼š\n&#47;&#47;å®¹å™¨ä¸­å­˜æ”¾æ‰€æœ‰beançš„åç§°çš„åˆ—è¡¨ protected List beanNames = new ArrayList&lt;&gt;(); &#47;&#47;å®¹å™¨ä¸­å­˜æ”¾æ‰€æœ‰beanå®ä¾‹çš„map protected Map singletons = new ConcurrentHashMap&lt;&gt;(256);\n\n\næˆ‘ä»¬åœ¨é»˜è®¤çš„è¿™ä¸ªç±»ä¸­ï¼Œå®šä¹‰äº† beanNames åˆ—è¡¨å’Œ singletons çš„æ˜ å°„å…³ç³»ï¼ŒbeanNames ç”¨äºå­˜å‚¨æ‰€æœ‰å•ä¾‹ Bean çš„åˆ«åï¼Œsingletons åˆ™å­˜å‚¨ Bean åç§°å’Œå®ç°ç±»çš„æ˜ å°„å…³ç³»ã€‚\nsingletonså­˜å‚¨çš„keyå°±æ˜¯beançš„åˆ«å é‚£ä¸ºä»€ä¹ˆè¿˜è¦ç‰¹åœ°ç”¨ä¸€ä¸ªliståšå­˜å‚¨å‘¢ï¼Ÿä¼¼ä¹ä¸€ä¸ªmapå°±èƒ½æå®šé—®é¢˜äº†","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609513,"discussion_content":"å†å›å¤ï¼š\nå…¶å®ä¸ç”¨ä¹Ÿå¯ä»¥ï¼Œæ²¡æœ‰é—®é¢˜ã€‚é£æ ¼ä¸åŒï¼Œä¸åŒçš„äººè®¾è®¡çš„èŒƒå¼å’Œæ„Ÿè§‰ä¸åŒï¼Œæˆ‘ä¹ æƒ¯äºæŠŠä¸»ä½“ä¸å…³ç³»åˆ†å¼€ã€‚Springæ¡†æ¶æœ¬èº«ä¹Ÿæœ‰ä¸€ä¸ªç±»ä¼¼çš„setï¼Œå«registeredSingletonsï¼Œé‡Œé¢å°±æ˜¯beanNamesã€‚å¦å¤–ï¼ŒMiniSpringçš„ä¸»è¦ç›®çš„æ˜¯ä¾¿äºå­¦ä¹ Springæœ¬èº«ï¼Œæ‰€ä»¥ï¼Œç®€åŒ–äº†å¾ˆå¤šï¼Œä¸æ˜¯é‚£ä¹ˆä¸¥æ ¼ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1679007008,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2431311,"avatar":"https://static001.geekbang.org/account/avatar/00/25/19/4f/a0757e5f.jpg","nickname":"æ±Ÿå®XYZ","note":"","ucode":"D2D1C3DF0809F8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609483,"discussion_content":"æˆ‘å›å¤åˆ°æ¥¼ä¸Šäº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1678982062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370548,"user_name":"Geek_09b0c3","can_delete":false,"product_type":"c1","uid":1647169,"ip_address":"å¹¿ä¸œ","ucode":"BD53D4B2C9201D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/uUNsibxx9EvpiaeG5VVd6slEia0QGFsIdOPwxxz7NmulA1dpSDktTmcV9pa6DPiaj1aj8T9eafVfDSYq8TiaKVxw8sg/132","comment_is_top":false,"comment_ctime":1678945683,"is_pvip":false,"replies":[{"id":135216,"content":"å…¶å®ä¸ç”¨ä¹Ÿå¯ä»¥ï¼Œæ²¡æœ‰é—®é¢˜ã€‚é£æ ¼ä¸åŒï¼Œä¸åŒçš„äººè®¾è®¡çš„èŒƒå¼å’Œæ„Ÿè§‰ä¸åŒï¼Œæˆ‘ä¹ æƒ¯äºæŠŠä¸»ä½“ä¸å…³ç³»åˆ†å¼€ã€‚Springæ¡†æ¶æœ¬èº«ä¹Ÿæœ‰ä¸€ä¸ªç±»ä¼¼çš„setï¼Œå«registeredSingletonsï¼Œé‡Œé¢å°±æ˜¯beanNamesã€‚å¦å¤–ï¼ŒMiniSpringçš„ä¸»è¦ç›®çš„æ˜¯ä¾¿äºå­¦ä¹ Springæœ¬èº«ï¼Œæ‰€ä»¥ï¼Œç®€åŒ–äº†å¾ˆå¤šï¼Œä¸æ˜¯é‚£ä¹ˆä¸¥æ ¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1679006928,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":370548,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100536701,"comment_content":"è€å¸ˆ æœ‰ä¸ªç–‘é—®ï¼š\næˆ‘ä»¬åœ¨é»˜è®¤çš„è¿™ä¸ªç±»ä¸­ï¼Œå®šä¹‰äº† beanNames åˆ—è¡¨å’Œ singletons çš„æ˜ å°„å…³ç³»ï¼ŒbeanNames ç”¨äºå­˜å‚¨æ‰€æœ‰å•ä¾‹ Bean çš„åˆ«åï¼Œsingletons åˆ™å­˜å‚¨ Bean åç§°å’Œå®ç°ç±»çš„æ˜ å°„å…³ç³»ã€‚","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609512,"discussion_content":"å…¶å®ä¸ç”¨ä¹Ÿå¯ä»¥ï¼Œæ²¡æœ‰é—®é¢˜ã€‚é£æ ¼ä¸åŒï¼Œä¸åŒçš„äººè®¾è®¡çš„èŒƒå¼å’Œæ„Ÿè§‰ä¸åŒï¼Œæˆ‘ä¹ æƒ¯äºæŠŠä¸»ä½“ä¸å…³ç³»åˆ†å¼€ã€‚Springæ¡†æ¶æœ¬èº«ä¹Ÿæœ‰ä¸€ä¸ªç±»ä¼¼çš„setï¼Œå«registeredSingletonsï¼Œé‡Œé¢å°±æ˜¯beanNamesã€‚å¦å¤–ï¼ŒMiniSpringçš„ä¸»è¦ç›®çš„æ˜¯ä¾¿äºå­¦ä¹ Springæœ¬èº«ï¼Œæ‰€ä»¥ï¼Œç®€åŒ–äº†å¾ˆå¤šï¼Œä¸æ˜¯é‚£ä¹ˆä¸¥æ ¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679006928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370527,"user_name":"peter","can_delete":false,"product_type":"c1","uid":1058183,"ip_address":"åŒ—äº¬","ucode":"261C3FC001DE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","comment_is_top":false,"comment_ctime":1678928179,"is_pvip":false,"replies":[{"id":135142,"content":"niä½ çœ‹å¾—ç»†ï¼Œç•™è¨€å¾ˆæœ‰ä»·å€¼ã€‚ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œä¸Springçš„å¯¹å¤–åè®®æœ‰å…³ï¼Œapiä¸­è¿™ä¹ˆè¯´çš„:requiredName - the name to match (can be null to not match argument values by name, or empty String to match any name)ï¼Œä¸ºnullæ˜¯æœ‰ç‰¹æ®Šç”¨å¤„çš„ï¼Œæ‰€ä»¥ä¸èƒ½æ”¾åœ¨å‡½æ•°å¼€å¤´ç›´æ¥è·³è¿‡ã€‚\né—®é¢˜äºŒï¼Œåº”è¯¥æ˜¯ç¬”è¯¯ï¼Œæ˜¯å®ä½“ç±»ï¼Œå³å®šä¹‰å±æ€§å’Œæ„é€ å‡½æ•°å‚æ•°çš„é‚£ä¸¤ä¸ªç±»ï¼Œä¸ºåé¢çš„ç« èŠ‚é¢„ç•™çš„ã€‚\né—®é¢˜ä¸‰ï¼Œä¸€ä¸ªæ˜¯ä»“åº“ï¼Œä¸€ä¸ªæ˜¯å·¥å‚ï¼Œä»“åº“çš„ç®¡ç†å†…å®¹æ›´å°‘ä¸€ç‚¹ã€‚è¿™ä¹ˆåšä¸»è¦æ˜¯è¿›è¡Œè§’è‰²åˆ†è§£ï¼Œä¸€ä¸ªç±»åªåšä¸€ä»¶äº‹æƒ…ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1678968243,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":370527,"utype":1}],"discussion_count":1,"race_medal":0,"score":5,"product_id":100536701,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜ï¼š\nQ1ï¼šArgumentValues ç±»çš„getGenericArgumentValueæ–¹æ³•ä¸­ï¼Œ\nforä¸­çš„ifåˆ¤æ–­â€œrequiredName == nullâ€ï¼Œæ„Ÿè§‰åº”è¯¥æ”¾åœ¨å‡½æ•°å¼€å§‹çš„åœ°æ–¹ã€‚\nQ2ï¼šâ€œå®ä¾‹ç±»â€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ\næ–‡ä¸­æœ€åéƒ¨åˆ†æœ‰ä¸€å¥â€œæˆ‘ä»¬è¿˜æå‰ä¸ºæ„é€ å™¨æ³¨å…¥ã€Setter æ³¨å…¥æä¾›äº†åŸºæœ¬çš„å®ä¾‹ç±»â€ï¼Œå…¶ä¸­çš„â€œå®ä¾‹ç±»â€æ˜¯æŒ‡ä»€ä¹ˆï¼Ÿ\nQ3ï¼šBeanDefinitionRegistry å’ŒBeanFactory éƒ½æ˜¯æ¥å£ã€‚\nè€Œä¸”æ„Ÿè§‰åŠŸèƒ½æ¯”è¾ƒç±»ä¼¼ï¼Œè¿™ä¸¤ä¸ªæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609383,"discussion_content":"niä½ çœ‹å¾—ç»†ï¼Œç•™è¨€å¾ˆæœ‰ä»·å€¼ã€‚ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œä¸Springçš„å¯¹å¤–åè®®æœ‰å…³ï¼Œapiä¸­è¿™ä¹ˆè¯´çš„:requiredName - the name to match (can be null to not match argument values by name, or empty String to match any name)ï¼Œä¸ºnullæ˜¯æœ‰ç‰¹æ®Šç”¨å¤„çš„ï¼Œæ‰€ä»¥ä¸èƒ½æ”¾åœ¨å‡½æ•°å¼€å¤´ç›´æ¥è·³è¿‡ã€‚\né—®é¢˜äºŒï¼Œåº”è¯¥æ˜¯ç¬”è¯¯ï¼Œæ˜¯å®ä½“ç±»ï¼Œå³å®šä¹‰å±æ€§å’Œæ„é€ å‡½æ•°å‚æ•°çš„é‚£ä¸¤ä¸ªç±»ï¼Œä¸ºåé¢çš„ç« èŠ‚é¢„ç•™çš„ã€‚\né—®é¢˜ä¸‰ï¼Œä¸€ä¸ªæ˜¯ä»“åº“ï¼Œä¸€ä¸ªæ˜¯å·¥å‚ï¼Œä»“åº“çš„ç®¡ç†å†…å®¹æ›´å°‘ä¸€ç‚¹ã€‚è¿™ä¹ˆåšä¸»è¦æ˜¯è¿›è¡Œè§’è‰²åˆ†è§£ï¼Œä¸€ä¸ªç±»åªåšä¸€ä»¶äº‹æƒ…ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678968244,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370451,"user_name":"adelyn","can_delete":false,"product_type":"c1","uid":2981014,"ip_address":"åŒ—äº¬","ucode":"E7DD2F47EBD6DA","user_header":"https://static001.geekbang.org/account/avatar/00/2d/7c/96/079a158d.jpg","comment_is_top":false,"comment_ctime":1678843886,"is_pvip":false,"replies":[{"id":135113,"content":"ä½ è¯´çš„å¯¹ã€‚SimpleBeanFactoryçš„getBeançº¿ç¨‹ä¸å®‰å…¨ã€‚Springæœ¬èº«ä¹Ÿæ²¡æœ‰é‡ç‚¹è§£å†³å¤šçº¿ç¨‹çš„é—®é¢˜ï¼Œè¿™äº›æ˜¯äº¤ç»™åº”ç”¨ç¨‹åºçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1864890,"ctime":1678854259,"ip_address":"æ¾³å¤§åˆ©äºš","comment_id":370451,"utype":1}],"discussion_count":3,"race_medal":0,"score":5,"product_id":100536701,"comment_content":"è€å¸ˆï¼Œå‘ç°ä¸€ç‚¹é—®é¢˜\n1.DefaultSingletonBeanRegistryä¸­registerSingletonå·²ç»åŠ äº†é”ï¼Œsingletonså¯ä»¥ä¿è¯å†™å®‰å…¨ï¼Œæ•…ä¸ç”¨åŠ é”\n2.è¿™ä¸ªä¸å¤ªç¡®å®šï¼ŒSimpleBeanFactoryçš„getBeanæ–¹æ³•ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œæˆ‘ä¸å¤ªäº†è§£springæ˜¯å¦ä¸ºå•çº¿ç¨‹åŠ è½½ï¼Œå¦‚æœæ˜¯ï¼Œéœ€è¦åŠ åŒé‡é”","like_count":0,"discussions":[{"author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609165,"discussion_content":"ä½ è¯´çš„å¯¹ã€‚SimpleBeanFactoryçš„getBeançº¿ç¨‹ä¸å®‰å…¨ã€‚Springæœ¬èº«ä¹Ÿæ²¡æœ‰é‡ç‚¹è§£å†³å¤šçº¿ç¨‹çš„é—®é¢˜ï¼Œè¿™äº›æ˜¯äº¤ç»™åº”ç”¨ç¨‹åºçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678854259,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ¾³å¤§åˆ©äºš","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":2981014,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/7c/96/079a158d.jpg","nickname":"adelyn","note":"","ucode":"E7DD2F47EBD6DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1864890,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/cojb2AA3eM620kb7hj7YoOpq8XI0iaPyfajnQLO6icAhuSoYWR1vrdOZB2nmSuETxmuheo3sxec698SD6RhTFxgQ/132","nickname":"Yale Guo","note":"","ucode":"6736810620B3F0","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":609172,"discussion_content":"ç¬¬ä¸€ç‚¹æˆ‘å†™é”™äº†ï¼Œåº”ä¸º: é”å¯ä»¥ä¿è¯singletonså†™å®‰å…¨ï¼Œæ•…ä¸éœ€è¦ç”¨cocurrentHashmap","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678856352,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":609165,"ip_address":"åŒ—äº¬","group_id":0},"score":609172,"extra":""},{"author":{"id":2393550,"avatar":"https://static001.geekbang.org/account/avatar/00/24/85/ce/df1c7a91.jpg","nickname":"é™ˆå°è¿œ","note":"","ucode":"8C348A5FA8F539","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2981014,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/7c/96/079a158d.jpg","nickname":"adelyn","note":"","ucode":"E7DD2F47EBD6DA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609698,"discussion_content":"è¿™ç‚¹æ„Ÿè§‰åº”è¯¥æ˜¯ä¸ºäº†ä¿æŒå’ŒSpringç›¸å…³ç±»å®ç°çš„ä¸€è‡´æ€§ã€‚åœ¨Springçš„æºç ä¸­ä¹Ÿæ˜¯ä¸€æ ·ï¼Œè™½ç„¶ç”¨äº†åŒæ­¥åŸè¯­ï¼Œä½†æ˜¯è¿˜æ˜¯ä½¿ç”¨äº†å¹¶å‘å®¹å™¨ã€‚åœ¨æ›´å®Œå¤‡çš„æºç å®ç°é‡Œé¢ï¼Œè¯¥beanå®¹å™¨çš„å¼•ç”¨æ˜¯è¢«æ–¹æ³•æš´éœ²å‡ºå»äº†çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679125293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":609172,"ip_address":"å››å·","group_id":0},"score":609698,"extra":""}]}]},{"had_liked":false,"id":392430,"user_name":"åˆ˜å»ºæ¸¯","can_delete":false,"product_type":"c1","uid":3252324,"ip_address":"åŒ—äº¬","ucode":"F9FDF28CAE185C","user_header":"https://static001.geekbang.org/account/avatar/00/31/a0/64/203feff7.jpg","comment_is_top":false,"comment_ctime":1720932549,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100536701,"comment_content":"è€å¸ˆè¿™ä¸ªé¡¹ç›®çš„githubä»£ç åœ¨å“ªé‡Œ\n","like_count":0},{"had_liked":false,"id":388965,"user_name":"ç»˜ä¸–æµ®å¤¸ ã¤","can_delete":false,"product_type":"c1","uid":1763933,"ip_address":"æ±Ÿè‹","ucode":"6A3960195753BA","user_header":"https://static001.geekbang.org/account/avatar/00/1a/ea/5d/ccb4c205.jpg","comment_is_top":false,"comment_ctime":1711289897,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100536701,"comment_content":"BeanDefinitionä¸­beanclasså±æ€§ä¸ºä»€ä¹ˆè¦ç”¨volatileä¿®é¥°","like_count":0},{"had_liked":false,"id":385790,"user_name":"Howard","can_delete":false,"product_type":"c1","uid":1070123,"ip_address":"å¹¿ä¸œ","ucode":"0872DB9ACEB5D2","user_header":"https://static001.geekbang.org/account/avatar/00/10/54/2b/c8acb384.jpg","comment_is_top":false,"comment_ctime":1703389611,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100536701,"comment_content":"ä¸ºå•¥gitä¸Šå¾ˆå¤šæ–‡ä»¶å¤¹éƒ½æ˜¯ç©ºçš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":382467,"user_name":"å°éº¦","can_delete":false,"product_type":"c1","uid":1216881,"ip_address":"å¹¿ä¸œ","ucode":"55C7199A0D5659","user_header":"https://static001.geekbang.org/account/avatar/00/12/91/71/0b16655d.jpg","comment_is_top":false,"comment_ctime":1697428053,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100536701,"comment_content":"&quot;public class SimpleBeanFactory extends DefaultSingletonBeanRegistry implements BeanFactory&quot;\nçœ‹åˆ°è¿™é‡Œæœ‰ä¸ªç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆè¦ç”¨ç»§æ‰¿ï¼Œè€Œä¸æ˜¯ç»„åˆã€‚","like_count":0},{"had_liked":false,"id":379574,"user_name":"è€å®äººHoney","can_delete":false,"product_type":"c1","uid":1080653,"ip_address":"å¹¿ä¸œ","ucode":"EA4AB5C0C33090","user_header":"https://static001.geekbang.org/account/avatar/00/10/7d/4d/d98865b2.jpg","comment_is_top":false,"comment_ctime":1692118773,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100536701,"comment_content":"è¿™ä¸€èŠ‚è¯¾çš„å†…å®¹å±å®æœ‰ç‚¹å¤šï¼Œè¿˜æœ‰ç‚¹è·³è·ƒã€‚å¦‚æœå¯ä»¥è¡¥å……UMLç±»å›¾é‚£å°±æ›´å¥½äº†ã€‚","like_count":0},{"had_liked":false,"id":378928,"user_name":"Geek_f7230c","can_delete":false,"product_type":"c1","uid":3684313,"ip_address":"æ±Ÿè‹","ucode":"A0FF2CE8514905","user_header":"","comment_is_top":false,"comment_ctime":1690984922,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":6,"product_id":100536701,"comment_content":"å¤ªå¿«äº†ï¼Œå¥½éš¾ç†è§£ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡","like_count":0}]}
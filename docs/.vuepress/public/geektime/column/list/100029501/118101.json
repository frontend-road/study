{"id":118101,"title":"28ä¸¨ä»ç£ç›˜I/Oçš„è§’åº¦ç†è§£SQLæŸ¥è¯¢çš„æˆæœ¬","content":"<p>åœ¨å¼€å§‹ä»Šå¤©çš„å†…å®¹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å›å¿†ä¸€ä¸‹ä¹‹å‰çš„å†…å®¹ã€‚</p><p>æ•°æ®åº“å­˜å‚¨çš„åŸºæœ¬å•ä½æ˜¯é¡µï¼Œå¯¹äºä¸€æ£µB+æ ‘çš„ç´¢å¼•æ¥è¯´ï¼Œæ˜¯å…ˆä»æ ¹èŠ‚ç‚¹æ‰¾åˆ°å¶å­èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å…ˆæŸ¥æ‰¾æ•°æ®è¡Œæ‰€åœ¨çš„é¡µï¼Œå†å°†é¡µè¯»å…¥åˆ°å†…å­˜ä¸­ï¼Œåœ¨å†…å­˜ä¸­å¯¹é¡µçš„è®°å½•è¿›è¡ŒæŸ¥æ‰¾ï¼Œä»è€Œå¾—åˆ°æƒ³è¦æ•°æ®ã€‚ä½ çœ‹ï¼Œè™½ç„¶æˆ‘ä»¬æƒ³è¦æŸ¥æ‰¾çš„ï¼Œåªæ˜¯ä¸€è¡Œè®°å½•ï¼Œä½†æ˜¯å¯¹äºç£ç›˜I/Oæ¥è¯´å´éœ€è¦åŠ è½½ä¸€é¡µçš„ä¿¡æ¯ï¼Œå› ä¸ºé¡µæ˜¯æœ€å°çš„å­˜å‚¨å•ä½ã€‚</p><p>é‚£ä¹ˆå¯¹äºæ•°æ®åº“æ¥è¯´ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æŸ¥æ‰¾å¤šè¡Œè®°å½•ï¼ŒæŸ¥è¯¢æ—¶é—´æ˜¯å¦ä¼šæˆå€åœ°æå‡å‘¢ï¼Ÿå…¶å®æ•°æ®åº“ä¼šé‡‡ç”¨ç¼“å†²æ± çš„æ–¹å¼æå‡é¡µçš„æŸ¥æ‰¾æ•ˆç‡ã€‚</p><p>ä¸ºäº†æ›´å¥½åœ°ç†è§£SQLæŸ¥è¯¢æ•ˆç‡æ˜¯æ€ä¹ˆä¸€å›äº‹ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥çœ‹çœ‹ç£ç›˜I/Oæ˜¯å¦‚ä½•åŠ è½½æ•°æ®çš„ã€‚</p><p>è¿™éƒ¨åˆ†çš„å†…å®¹ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><ol>\n<li>æ•°æ®åº“çš„ç¼“å†²æ± åœ¨æ•°æ®åº“ä¸­èµ·åˆ°äº†æ€æ ·çš„ä½œç”¨ï¼Ÿå¦‚æœæˆ‘ä»¬å¯¹ç¼“å†²æ± å†…çš„æ•°æ®è¿›è¡Œæ›´æ–°ï¼Œæ•°æ®ä¼šç›´æ¥æ›´æ–°åˆ°ç£ç›˜ä¸Šå—ï¼Ÿ</li>\n<li>å¯¹æ•°æ®é¡µè¿›è¡ŒåŠ è½½éƒ½æœ‰å“ªäº›æ–¹å¼å‘¢ï¼Ÿ</li>\n<li>å¦‚ä½•æŸ¥çœ‹ä¸€æ¡SQLè¯­å¥éœ€è¦åœ¨ç¼“å†²æ± ä¸­è¿›è¡ŒåŠ è½½çš„é¡µçš„æ•°é‡å‘¢ï¼Ÿ</li>\n</ol><h2>æ•°æ®åº“ç¼“å†²æ± </h2><p>ç£ç›˜I/Oéœ€è¦æ¶ˆè€—çš„æ—¶é—´å¾ˆå¤šï¼Œè€Œåœ¨å†…å­˜ä¸­è¿›è¡Œæ“ä½œï¼Œæ•ˆç‡åˆ™ä¼šé«˜å¾ˆå¤šï¼Œä¸ºäº†èƒ½è®©æ•°æ®è¡¨æˆ–è€…ç´¢å¼•ä¸­çš„æ•°æ®éšæ—¶è¢«æˆ‘ä»¬æ‰€ç”¨ï¼ŒDBMSä¼šç”³è¯·å ç”¨å†…å­˜æ¥ä½œä¸ºæ•°æ®ç¼“å†²æ± ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥è®©ç£ç›˜æ´»åŠ¨æœ€å°åŒ–ï¼Œä»è€Œå‡å°‘ä¸ç£ç›˜ç›´æ¥è¿›è¡ŒI/Oçš„æ—¶é—´ã€‚è¦çŸ¥é“ï¼Œè¿™ç§ç­–ç•¥å¯¹æå‡SQLè¯­å¥çš„æŸ¥è¯¢æ€§èƒ½æ¥è¯´è‡³å…³é‡è¦ã€‚å¦‚æœç´¢å¼•çš„æ•°æ®åœ¨ç¼“å†²æ± é‡Œï¼Œé‚£ä¹ˆè®¿é—®çš„æˆæœ¬å°±ä¼šé™ä½å¾ˆå¤šã€‚</p><!-- [[[read_end]]] --><p>é‚£ä¹ˆç¼“å†²æ± å¦‚ä½•è¯»å–æ•°æ®å‘¢ï¼Ÿ</p><p>ç¼“å†²æ± ç®¡ç†å™¨ä¼šå°½é‡å°†ç»å¸¸ä½¿ç”¨çš„æ•°æ®ä¿å­˜èµ·æ¥ï¼Œåœ¨æ•°æ®åº“è¿›è¡Œé¡µé¢è¯»æ“ä½œçš„æ—¶å€™ï¼Œé¦–å…ˆä¼šåˆ¤æ–­è¯¥é¡µé¢æ˜¯å¦åœ¨ç¼“å†²æ± ä¸­ï¼Œå¦‚æœå­˜åœ¨å°±ç›´æ¥è¯»å–ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°±ä¼šé€šè¿‡å†…å­˜æˆ–ç£ç›˜å°†é¡µé¢å­˜æ”¾åˆ°ç¼“å†²æ± ä¸­å†è¿›è¡Œè¯»å–ã€‚</p><p>ç¼“å­˜åœ¨æ•°æ®åº“ä¸­çš„ç»“æ„å’Œä½œç”¨å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/05/9b/05e1692282d25768c87bbc31a1479b9b.png?wh=1102*622\" alt=\"\"><br>\nå¦‚æœæˆ‘ä»¬æ‰§è¡ŒSQLè¯­å¥çš„æ—¶å€™æ›´æ–°äº†ç¼“å­˜æ± ä¸­çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™äº›æ•°æ®ä¼šé©¬ä¸ŠåŒæ­¥åˆ°ç£ç›˜ä¸Šå—ï¼Ÿ</p><p>å®é™…ä¸Šï¼Œå½“æˆ‘ä»¬å¯¹æ•°æ®åº“ä¸­çš„è®°å½•è¿›è¡Œä¿®æ”¹çš„æ—¶å€™ï¼Œé¦–å…ˆä¼šä¿®æ”¹ç¼“å†²æ± ä¸­é¡µé‡Œé¢çš„è®°å½•ä¿¡æ¯ï¼Œç„¶åæ•°æ®åº“ä¼šä»¥ä¸€å®šçš„é¢‘ç‡åˆ·æ–°åˆ°ç£ç›˜ä¸Šã€‚æ³¨æ„å¹¶ä¸æ˜¯æ¯æ¬¡å‘ç”Ÿæ›´æ–°æ“ä½œï¼Œéƒ½ä¼šç«‹åˆ»è¿›è¡Œç£ç›˜å›å†™ã€‚ç¼“å†²æ± ä¼šé‡‡ç”¨ä¸€ç§å«åšcheckpointçš„æœºåˆ¶å°†æ•°æ®å›å†™åˆ°ç£ç›˜ä¸Šï¼Œè¿™æ ·åšçš„å¥½å¤„å°±æ˜¯æå‡äº†æ•°æ®åº“çš„æ•´ä½“æ€§èƒ½ã€‚</p><p>æ¯”å¦‚ï¼Œå½“ç¼“å†²æ± ä¸å¤Ÿç”¨æ—¶ï¼Œéœ€è¦é‡Šæ”¾æ‰ä¸€äº›ä¸å¸¸ç”¨çš„é¡µï¼Œå°±å¯ä»¥é‡‡ç”¨å¼ºè¡Œé‡‡ç”¨checkpointçš„æ–¹å¼ï¼Œå°†ä¸å¸¸ç”¨çš„è„é¡µå›å†™åˆ°ç£ç›˜ä¸Šï¼Œç„¶åå†ä»ç¼“å†²æ± ä¸­å°†è¿™äº›é¡µé‡Šæ”¾æ‰ã€‚è¿™é‡Œè„é¡µï¼ˆdirty pageï¼‰æŒ‡çš„æ˜¯ç¼“å†²æ± ä¸­è¢«ä¿®æ”¹è¿‡çš„é¡µï¼Œä¸ç£ç›˜ä¸Šçš„æ•°æ®é¡µä¸ä¸€è‡´ã€‚</p><h3>æŸ¥çœ‹ç¼“å†²æ± çš„å¤§å°</h3><p>äº†è§£å®Œç¼“å†²æ± çš„å·¥ä½œåŸç†åï¼Œä½ å¯èƒ½æƒ³é—®ï¼Œæˆ‘ä»¬å¦‚ä½•åˆ¤æ–­ç¼“å†²æ± çš„å¤§å°ï¼Ÿ</p><p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯MySQL MyISAMå­˜å‚¨å¼•æ“ï¼Œå®ƒåªç¼“å­˜ç´¢å¼•ï¼Œä¸ç¼“å­˜æ•°æ®ï¼Œå¯¹åº”çš„é”®ç¼“å­˜å‚æ•°ä¸ºkey_buffer_sizeï¼Œä½ å¯ä»¥ç”¨å®ƒè¿›è¡ŒæŸ¥çœ‹ã€‚</p><p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯InnoDBå­˜å‚¨å¼•æ“ï¼Œå¯ä»¥é€šè¿‡æŸ¥çœ‹innodb_buffer_pool_sizeå˜é‡æ¥æŸ¥çœ‹ç¼“å†²æ± çš„å¤§å°ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><pre><code>mysql &gt; show variables like 'innodb_buffer_pool_size'\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/93/16/93b1b8acaf39f46245c6b751200e8316.png?wh=1308*306\" alt=\"\"><br>\nä½ èƒ½çœ‹åˆ°æ­¤æ—¶InnoDBçš„ç¼“å†²æ± å¤§å°åªæœ‰8388608/1024/1024=8MBï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ç¼“å†²æ± å¤§å°ä¸º128MBï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/78/70/78fd83a2ff4f0a10ed20ec147ffbac70.png?wh=1384*130\" alt=\"\"><br>\nç„¶åå†æ¥çœ‹ä¸‹ä¿®æ”¹åçš„ç¼“å†²æ± å¤§å°ï¼Œæ­¤æ—¶å·²æˆåŠŸä¿®æ”¹æˆäº†128MBï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/a3/cc/a364961bda6d5c4742460620053ec1cc.png?wh=1380*381\" alt=\"\"><br>\nåœ¨InnoDBå­˜å‚¨å¼•æ“ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åŒæ—¶å¼€å¯å¤šä¸ªç¼“å†²æ± ï¼Œè¿™é‡Œæˆ‘ä»¬çœ‹ä¸‹å¦‚ä½•æŸ¥çœ‹ç¼“å†²æ± çš„ä¸ªæ•°ï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p><pre><code>mysql &gt; show variables like 'innodb_buffer_pool_instances'\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/d1/27/d1f7896087c58bfef202f9a21e96ed27.png?wh=1509*367\" alt=\"\"></p><p>ä½ èƒ½çœ‹åˆ°å½“å‰åªæœ‰ä¸€ä¸ªç¼“å†²æ± ã€‚å®é™…ä¸Š<code>innodb_buffer_pool_instances</code>é»˜è®¤æƒ…å†µä¸‹ä¸º8ï¼Œä¸ºä»€ä¹ˆåªæ˜¾ç¤ºåªæœ‰ä¸€ä¸ªå‘¢ï¼Ÿè¿™é‡Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œå¦‚æœæƒ³è¦å¼€å¯å¤šä¸ªç¼“å†²æ± ï¼Œä½ é¦–å…ˆéœ€è¦å°†<code>innodb_buffer_pool_size</code>å‚æ•°è®¾ç½®ä¸ºå¤§äºç­‰äº1GBï¼Œè¿™æ—¶<code>innodb_buffer_pool_instances</code>æ‰ä¼šå¤§äº1ã€‚ä½ å¯ä»¥åœ¨MySQLçš„é…ç½®æ–‡ä»¶ä¸­å¯¹<code>innodb_buffer_pool_size</code>è¿›è¡Œè®¾ç½®ï¼Œå¤§äºç­‰äº1GBï¼Œç„¶åå†é’ˆå¯¹<code>innodb_buffer_pool_instances</code>å‚æ•°è¿›è¡Œä¿®æ”¹ã€‚</p><h3>æ•°æ®é¡µåŠ è½½çš„ä¸‰ç§æ–¹å¼</h3><p>æˆ‘ä»¬åˆšæ‰å·²ç»å¯¹ç¼“å†²æ± æœ‰äº†åŸºæœ¬çš„äº†è§£ã€‚</p><p>å¦‚æœç¼“å†²æ± ä¸­æ²¡æœ‰è¯¥é¡µæ•°æ®ï¼Œé‚£ä¹ˆç¼“å†²æ± æœ‰ä»¥ä¸‹ä¸‰ç§è¯»å–æ•°æ®çš„æ–¹å¼ï¼Œæ¯ç§æ–¹å¼çš„è¯»å–æ•ˆç‡éƒ½æ˜¯ä¸åŒçš„ï¼š</p><p><strong>1. å†…å­˜è¯»å–</strong></p><p>å¦‚æœè¯¥æ•°æ®å­˜åœ¨äºå†…å­˜ä¸­ï¼ŒåŸºæœ¬ä¸Šæ‰§è¡Œæ—¶é—´åœ¨1mså·¦å³ï¼Œæ•ˆç‡è¿˜æ˜¯å¾ˆé«˜çš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a5/4f/a5d16af8d34ebdcfe327ef7b4841ad4f.png?wh=838*430\" alt=\"\"><br>\n<strong>2. éšæœºè¯»å–</strong></p><p>å¦‚æœæ•°æ®æ²¡æœ‰åœ¨å†…å­˜ä¸­ï¼Œå°±éœ€è¦åœ¨ç£ç›˜ä¸Šå¯¹è¯¥é¡µè¿›è¡ŒæŸ¥æ‰¾ï¼Œæ•´ä½“æ—¶é—´é¢„ä¼°åœ¨10mså·¦å³ï¼Œè¿™10msä¸­æœ‰6msæ˜¯ç£ç›˜çš„å®é™…ç¹å¿™æ—¶é—´ï¼ˆåŒ…æ‹¬äº†å¯»é“å’ŒåŠåœˆæ—‹è½¬æ—¶é—´ï¼‰ï¼Œæœ‰3msæ˜¯å¯¹å¯èƒ½å‘ç”Ÿçš„æ’é˜Ÿæ—¶é—´çš„ä¼°è®¡å€¼ï¼Œå¦å¤–è¿˜æœ‰1msçš„ä¼ è¾“æ—¶é—´ï¼Œå°†é¡µä»ç£ç›˜æœåŠ¡å™¨ç¼“å†²åŒºä¼ è¾“åˆ°æ•°æ®åº“ç¼“å†²åŒºä¸­ã€‚è¿™10msçœ‹èµ·æ¥å¾ˆå¿«ï¼Œä½†å®é™…ä¸Šå¯¹äºæ•°æ®åº“æ¥è¯´æ¶ˆè€—çš„æ—¶é—´å·²ç»éå¸¸é•¿äº†ï¼Œå› ä¸ºè¿™è¿˜åªæ˜¯ä¸€ä¸ªé¡µçš„è¯»å–æ—¶é—´ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/50/49/50fb2657341103548a76fce6f7769149.png?wh=1225*432\" alt=\"\"><br>\n<strong>3. é¡ºåºè¯»å–</strong></p><p>é¡ºåºè¯»å–å…¶å®æ˜¯ä¸€ç§æ‰¹é‡è¯»å–çš„æ–¹å¼ï¼Œå› ä¸ºæˆ‘ä»¬è¯·æ±‚çš„æ•°æ®åœ¨ç£ç›˜ä¸Šå¾€å¾€éƒ½æ˜¯ç›¸é‚»å­˜å‚¨çš„ï¼Œé¡ºåºè¯»å–å¯ä»¥å¸®æˆ‘ä»¬æ‰¹é‡è¯»å–é¡µé¢ï¼Œè¿™æ ·çš„è¯ï¼Œä¸€æ¬¡æ€§åŠ è½½åˆ°ç¼“å†²æ± ä¸­å°±ä¸éœ€è¦å†å¯¹å…¶ä»–é¡µé¢å•ç‹¬è¿›è¡Œç£ç›˜I/Oæ“ä½œäº†ã€‚å¦‚æœä¸€ä¸ªç£ç›˜çš„ååé‡æ˜¯40MB/Sï¼Œé‚£ä¹ˆå¯¹äºä¸€ä¸ª16KBå¤§å°çš„é¡µæ¥è¯´ï¼Œä¸€æ¬¡å¯ä»¥é¡ºåºè¯»å–2560ï¼ˆ40MB/16KBï¼‰ä¸ªé¡µï¼Œç›¸å½“äºä¸€ä¸ªé¡µçš„è¯»å–æ—¶é—´ä¸º0.4msã€‚é‡‡ç”¨æ‰¹é‡è¯»å–çš„æ–¹å¼ï¼Œå³ä½¿æ˜¯ä»ç£ç›˜ä¸Šè¿›è¡Œè¯»å–ï¼Œæ•ˆç‡ä¹Ÿæ¯”ä»å†…å­˜ä¸­åªå•ç‹¬è¯»å–ä¸€ä¸ªé¡µçš„æ•ˆç‡è¦é«˜ã€‚</p><h2>é€šè¿‡last_query_costç»Ÿè®¡SQLè¯­å¥çš„æŸ¥è¯¢æˆæœ¬</h2><p>æˆ‘ä»¬å…ˆå‰å·²ç»è®²è¿‡ï¼Œä¸€æ¡SQLæŸ¥è¯¢è¯­å¥åœ¨æ‰§è¡Œå‰éœ€è¦ç¡®å®šæŸ¥è¯¢è®¡åˆ’ï¼Œå¦‚æœå­˜åœ¨å¤šç§æŸ¥è¯¢è®¡åˆ’çš„è¯ï¼ŒMySQLä¼šè®¡ç®—æ¯ä¸ªæŸ¥è¯¢è®¡åˆ’æ‰€éœ€è¦çš„æˆæœ¬ï¼Œä»ä¸­é€‰æ‹©æˆæœ¬æœ€å°çš„ä¸€ä¸ªä½œä¸ºæœ€ç»ˆæ‰§è¡Œçš„æŸ¥è¯¢è®¡åˆ’ã€‚</p><p>å¦‚æœæˆ‘ä»¬æƒ³è¦æŸ¥çœ‹æŸæ¡SQLè¯­å¥çš„æŸ¥è¯¢æˆæœ¬ï¼Œå¯ä»¥åœ¨æ‰§è¡Œå®Œè¿™æ¡SQLè¯­å¥ä¹‹åï¼Œé€šè¿‡æŸ¥çœ‹å½“å‰ä¼šè¯ä¸­çš„last_query_costå˜é‡å€¼æ¥å¾—åˆ°å½“å‰æŸ¥è¯¢çš„æˆæœ¬ã€‚è¿™ä¸ªæŸ¥è¯¢æˆæœ¬å¯¹åº”çš„æ˜¯SQLè¯­å¥æ‰€éœ€è¦è¯»å–çš„é¡µçš„æ•°é‡ã€‚</p><p>æˆ‘ä»¥product_commentè¡¨ä¸ºä¾‹ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æŸ¥è¯¢comment_id=900001çš„è®°å½•ï¼Œç„¶åçœ‹ä¸‹æŸ¥è¯¢æˆæœ¬ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨èšé›†ç´¢å¼•ä¸Šè¿›è¡ŒæŸ¥æ‰¾ï¼š</p><pre><code>mysql&gt; SELECT comment_id, product_id, comment_text, user_id FROM product_comment WHERE comment_id = 900001;\n</code></pre><p>è¿è¡Œç»“æœï¼ˆ1æ¡è®°å½•ï¼Œè¿è¡Œæ—¶é—´ä¸º0.042sï¼‰ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/da/fd/da50c6f039b431fbab963be16f16b5fd.png?wh=1152*145\" alt=\"\"><br>\nç„¶åå†çœ‹ä¸‹æŸ¥è¯¢ä¼˜åŒ–å™¨çš„æˆæœ¬ï¼Œå®é™…ä¸Šæˆ‘ä»¬åªéœ€è¦æ£€ç´¢ä¸€ä¸ªé¡µå³å¯ï¼š</p><pre><code>mysql&gt; SHOW STATUS LIKE 'last_query_cost';\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/cd/43/cde712f5d9fc42f31310511677811543.png?wh=1113*319\" alt=\"\"><br>\nå¦‚æœæˆ‘ä»¬æƒ³è¦æŸ¥è¯¢comment_idåœ¨900001åˆ°9000100ä¹‹é—´çš„è¯„è®ºè®°å½•å‘¢ï¼Ÿ</p><pre><code>mysql&gt; SELECT comment_id, product_id, comment_text, user_id FROM product_comment WHERE comment_id BETWEEN 900001 AND 900100;\n</code></pre><p>è¿è¡Œç»“æœï¼ˆ100æ¡è®°å½•ï¼Œè¿è¡Œæ—¶é—´ä¸º0.046sï¼‰ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/be/a0/be4d6cd476fd0c9898df5f785aa0c0a0.png?wh=1048*313\" alt=\"\"><br>\nç„¶åå†çœ‹ä¸‹æŸ¥è¯¢ä¼˜åŒ–å™¨çš„æˆæœ¬ï¼Œè¿™æ—¶æˆ‘ä»¬å¤§æ¦‚éœ€è¦è¿›è¡Œ20ä¸ªé¡µçš„æŸ¥è¯¢ã€‚</p><pre><code>mysql&gt; SHOW STATUS LIKE 'last_query_cost';\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/62/fe/628138aa22d3244f8d08dc701a1f61fe.png?wh=1075*317\" alt=\"\"><br>\nä½ èƒ½çœ‹åˆ°é¡µçš„æ•°é‡æ˜¯åˆšæ‰çš„20å€ï¼Œä½†æ˜¯æŸ¥è¯¢çš„æ•ˆç‡å¹¶æ²¡æœ‰æ˜æ˜¾çš„å˜åŒ–ï¼Œå®é™…ä¸Šè¿™ä¸¤ä¸ªSQLæŸ¥è¯¢çš„æ—¶é—´åŸºæœ¬ä¸Šä¸€æ ·ï¼Œå°±æ˜¯å› ä¸ºé‡‡ç”¨äº†é¡ºåºè¯»å–çš„æ–¹å¼å°†é¡µé¢ä¸€æ¬¡æ€§åŠ è½½åˆ°ç¼“å†²æ± ä¸­ï¼Œç„¶åå†è¿›è¡ŒæŸ¥æ‰¾ã€‚è™½ç„¶é¡µæ•°é‡ï¼ˆlast_query_costï¼‰å¢åŠ äº†ä¸å°‘ï¼Œä½†æ˜¯é€šè¿‡ç¼“å†²æ± çš„æœºåˆ¶ï¼Œå¹¶æ²¡æœ‰å¢åŠ å¤šå°‘æŸ¥è¯¢æ—¶é—´ã€‚</p><h2>æ€»ç»“</h2><p>ä¸Šä¸€èŠ‚æˆ‘ä»¬äº†è§£åˆ°äº†é¡µæ˜¯æ•°æ®åº“å­˜å‚¨çš„æœ€å°å•ä½ï¼Œè¿™ä¸€èŠ‚æˆ‘ä»¬äº†è§£äº†åœ¨æ•°æ®åº“ä¸­æ˜¯å¦‚ä½•åŠ è½½ä½¿ç”¨é¡µçš„ã€‚SQLæŸ¥è¯¢æ˜¯ä¸€ä¸ªåŠ¨æ€çš„è¿‡ç¨‹ï¼Œä»é¡µåŠ è½½çš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»¥ä¸‹ä¸¤ç‚¹ç»“è®ºï¼š</p><ol>\n<li>ä½ç½®å†³å®šæ•ˆç‡ã€‚å¦‚æœé¡µå°±åœ¨æ•°æ®åº“ç¼“å†²æ± ä¸­ï¼Œé‚£ä¹ˆæ•ˆç‡æ˜¯æœ€é«˜çš„ï¼Œå¦åˆ™è¿˜éœ€è¦ä»å†…å­˜æˆ–è€…ç£ç›˜ä¸­è¿›è¡Œè¯»å–ï¼Œå½“ç„¶é’ˆå¯¹å•ä¸ªé¡µçš„è¯»å–æ¥è¯´ï¼Œå¦‚æœé¡µå­˜åœ¨äºå†…å­˜ä¸­ï¼Œä¼šæ¯”åœ¨ç£ç›˜ä¸­è¯»å–æ•ˆç‡é«˜å¾ˆå¤šã€‚</li>\n<li>æ‰¹é‡å†³å®šæ•ˆç‡ã€‚å¦‚æœæˆ‘ä»¬ä»ç£ç›˜ä¸­å¯¹å•ä¸€é¡µè¿›è¡Œéšæœºè¯»ï¼Œé‚£ä¹ˆæ•ˆç‡æ˜¯å¾ˆä½çš„ï¼ˆå·®ä¸å¤š10msï¼‰ï¼Œè€Œé‡‡ç”¨é¡ºåºè¯»å–çš„æ–¹å¼ï¼Œæ‰¹é‡å¯¹é¡µè¿›è¡Œè¯»å–ï¼Œå¹³å‡ä¸€é¡µçš„è¯»å–æ•ˆç‡å°±ä¼šæå‡å¾ˆå¤šï¼Œç”šè‡³è¦å¿«äºå•ä¸ªé¡µé¢åœ¨å†…å­˜ä¸­çš„éšæœºè¯»å–ã€‚</li>\n</ol><p>æ‰€ä»¥è¯´ï¼Œé‡åˆ°I/Oå¹¶ä¸ç”¨æ‹…å¿ƒï¼Œæ–¹æ³•æ‰¾å¯¹äº†ï¼Œæ•ˆç‡è¿˜æ˜¯å¾ˆé«˜çš„ã€‚æˆ‘ä»¬é¦–å…ˆè¦è€ƒè™‘æ•°æ®å­˜æ”¾çš„ä½ç½®ï¼Œå¦‚æœæ˜¯ç»å¸¸ä½¿ç”¨çš„æ•°æ®å°±è¦å°½é‡æ”¾åˆ°ç¼“å†²æ± ä¸­ï¼Œå…¶æ¬¡æˆ‘ä»¬å¯ä»¥å……åˆ†åˆ©ç”¨ç£ç›˜çš„ååèƒ½åŠ›ï¼Œä¸€æ¬¡æ€§æ‰¹é‡è¯»å–æ•°æ®ï¼Œè¿™æ ·å•ä¸ªé¡µçš„è¯»å–æ•ˆç‡ä¹Ÿå°±å¾—åˆ°äº†æå‡ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/f2/77/f254372aac175d6ac571ebe9ec024777.jpg?wh=3341*1887\" alt=\"\"><br>\næœ€åç»™ä½ ç•™ä¸¤é“æ€è€ƒé¢˜å§ã€‚ä½ èƒ½è§£é‡Šä¸‹ç›¸æ¯”äºå•ä¸ªé¡µé¢çš„éšæœºè¯»ï¼Œä¸ºä»€ä¹ˆé¡ºåºè¯»å–æ—¶å¹³å‡ä¸€ä¸ªé¡µé¢çš„åŠ è½½æ•ˆç‡ä¼šæé«˜å—ï¼Ÿå¦å¤–ï¼Œå¯¹äºä»Šå¤©å­¦ä¹ çš„ç¼“å†²æ± æœºåˆ¶å’Œæ•°æ®é¡µåŠ è½½çš„æ–¹å¼ï¼Œä½ æœ‰ä»€ä¹ˆå¿ƒå¾—ä½“ä¼šå—ï¼Ÿ</p><p>æ¬¢è¿åœ¨è¯„è®ºåŒºå†™ä¸‹ä½ çš„ç­”æ¡ˆï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©ï¼Œä¸å¦¨æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–è€…åŒäº‹å§ã€‚</p>","neighbors":{"left":{"article_title":"27ä¸¨ä»æ•°æ®é¡µçš„è§’åº¦ç†è§£B+æ ‘æŸ¥è¯¢","id":116766},"right":{"article_title":"29ä¸¨ä¸ºä»€ä¹ˆæ²¡æœ‰ç†æƒ³çš„ç´¢å¼•ï¼Ÿ","id":118746}},"comments":[{"had_liked":false,"id":126769,"user_name":"ğŸ„½ğŸ„¸ğŸ…‡ğŸ…„ğŸ…‚","can_delete":false,"product_type":"c1","uid":1000060,"ip_address":"","ucode":"853763C229A5AA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/42/7c/8ef14715.jpg","comment_is_top":false,"comment_ctime":1566469384,"is_pvip":false,"replies":[{"id":"47089","content":"é¦–å…ˆæˆ‘ä»¬éœ€è¦äº†è§£InnoDBå­˜å‚¨å¼•æ“ä¸­ç¼“å†²æ± éƒ½åŒ…æ‹¬äº†å“ªäº›ï¼Œåœ¨InnoDBå­˜å‚¨å¼•æ“ä¸­æœ‰ä¸€éƒ¨åˆ†æ•°æ®ä¼šæ”¾åˆ°å†…å­˜ä¸­ï¼Œç¼“å†²æ± åˆ™å äº†è¿™éƒ¨åˆ†å†…å­˜ï¼ˆIn-Memory Structuresï¼‰çš„å¤§éƒ¨åˆ†ï¼Œå®ƒæ˜¯ç”¨æ¥å­˜å‚¨å„ç§æ•°æ®çš„ç¼“å­˜ï¼ŒåŒ…æ‹¬äº†æ•°æ®é¡µï¼Œç´¢å¼•é¡µï¼Œæ’å…¥ç¼“å†²ï¼Œé”ä¿¡æ¯ï¼Œè‡ªé€‚åº”Hashï¼Œæ•°æ®å­—å…¸ä¿¡æ¯ç­‰ã€‚<br><br>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ç¼“å†²æ± æŠ€æœ¯å‘¢ï¼Œè¿™æ—¶å› ä¸ºInnoDBå­˜å‚¨å¼•æ“æ˜¯åŸºäºç£ç›˜æ–‡ä»¶å­˜å‚¨çš„ï¼Œæˆ‘ä»¬åœ¨è®¿é—®ç‰©ç†ç¡¬ç›˜å’Œåœ¨å†…å­˜ä¸­è¿›è¡Œè®¿é—®é€Ÿåº¦ç›¸å·®å¾ˆå¤§ï¼Œä¸ºäº†å°½å¯èƒ½å¼¥è¡¥è¿™ä¸­é—´çš„IOæ•ˆç‡é¸¿æ²Ÿï¼Œæˆ‘ä»¬å°±éœ€è¦æŠŠç»å¸¸ä½¿ç”¨çš„æ•°æ®åŠ è½½åˆ°ç¼“å†²æ± ä¸­ï¼Œé¿å…æ¯æ¬¡è®¿é—®éƒ½è¿›è¡Œç£ç›˜IOï¼Œä»è€Œæå‡æ•°æ®åº“æ•´ä½“çš„è®¿é—®æ€§èƒ½ã€‚æ‰€ä»¥è¯´â€œé¢‘æ¬¡Xä½ç½®â€çš„åŸåˆ™ï¼Œå¸®æˆ‘ä»¬å¯¹IOè®¿é—®æ•ˆç‡è¿›è¡Œäº†ä¼˜åŒ–ï¼š<br>1ï¼‰ä½ç½®å†³å®šæ•ˆç‡ï¼Œæä¾›ç¼“å†²æ± å°±æ˜¯åœ¨å†…å­˜ä¸­å¯ä»¥ç›´æ¥è®¿é—®åˆ°æ•°æ®ï¼Œå› æ­¤æ•ˆç‡å¯ä»¥å¤§å¹…æå‡<br>2ï¼‰é¢‘æ¬¡å†³å®šä¼˜å…ˆçº§é¡ºåºï¼Œå› ä¸ºç¼“å†²æ± çš„å¤§å°æ˜¯æœ‰é™çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ç£ç›˜æœ‰200Gï¼Œä½†æ˜¯å†…å­˜åªæœ‰16Gï¼Œç¼“å†²æ± å¤§å°åªæœ‰1Gï¼Œé‚£ä¹ˆè¿™æ—¶æ— æ³•å°†æ‰€æœ‰æ•°æ®éƒ½åŠ è½½åˆ°ç¼“å†²æ± é‡Œï¼Œè¿™é‡Œå°±æœ‰ä¸ªä¼˜å…ˆçº§é¡ºåºçš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯å¯¹ç»å¸¸ä½¿ç”¨é¢‘æ¬¡é«˜çš„çƒ­æ•°æ®è¿›è¡ŒåŠ è½½ã€‚<br>åœ¨äº†è§£äº†ç¼“å†²æ± ä½œç”¨ä¹‹åï¼Œæˆ‘ä»¬è¿˜éœ€è¦äº†è§£ç¼“å†²æ± çš„å¦ä¸€ä¸ªç‰¹æ€§ï¼šé¢„è¯»ã€‚<br>å› ä¸ºç¼“å†²æ± çš„ä½œç”¨å°±æ˜¯æå‡IOæ•ˆç‡ï¼Œè€Œæˆ‘ä»¬è¿›è¡Œè¯»å–æ•°æ®çš„å­˜åœ¨ä¸€ä¸ªâ€œå±€éƒ¨æ€§åŸç†â€ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä½¿ç”¨äº†ä¸€äº›æ•°æ®ï¼Œå¤§æ¦‚ç‡è¿˜ä¼šä½¿ç”¨å®ƒå‘¨å›´çš„ä¸€äº›æ•°æ®ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥é‡‡ç”¨â€œé¢„è¯»â€çš„æœºåˆ¶æ¥å‡å°‘æœªæ¥çš„ç£ç›˜IOæ“ä½œï¼Œè¿›è¡Œæå‰åŠ è½½ã€‚<br><br>æˆ‘ä»¬å†æ¥çœ‹ä¸‹ä»€ä¹ˆæ˜¯æŸ¥è¯¢ç¼“å­˜ï¼Ÿ<br>æŸ¥è¯¢ç¼“å­˜æ˜¯æå‰æŠŠæŸ¥è¯¢ç»“æœç¼“å­˜èµ·æ¥ï¼Œè¿™æ ·ä¸‹æ¬¡å°±ä¸éœ€è¦æ‰§è¡Œå¯ä»¥ç›´æ¥æ‹¿åˆ°ç»“æœã€‚éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œåœ¨MySQLä¸­çš„æŸ¥è¯¢ç¼“å­˜ï¼Œä¸æ˜¯ç¼“å­˜æŸ¥è¯¢è®¡åˆ’ï¼Œè€Œæ˜¯æŸ¥è¯¢åŠå¯¹åº”çš„æŸ¥è¯¢ç»“æœã€‚è¿™å°±æ„å‘³ç€æŸ¥è¯¢åŒ¹é…çš„é²æ£’æ€§å¤§å¤§é™ä½ï¼Œåªæœ‰ç›¸åŒçš„æŸ¥è¯¢æ“ä½œæ‰ä¼šå‘½ä¸­æŸ¥è¯¢ç¼“å­˜ã€‚å› æ­¤åœ¨MySQLçš„æŸ¥è¯¢ç¼“å­˜å‘½ä¸­ç‡ä¸é«˜ï¼Œåœ¨MySQL8.0ç‰ˆæœ¬ä¸­å·²ç»å¼ƒç”¨äº†æŸ¥è¯¢ç¼“å­˜åŠŸèƒ½ã€‚æŸ¥çœ‹æ˜¯å¦ä½¿ç”¨äº†æŸ¥è¯¢ç¼“å­˜ï¼Œä½¿ç”¨å‘½ä»¤ï¼šshow variables like &#39;%query_chache%&#39;;<br><br>æ‰€ä»¥è¯´ç¼“å†²æ± ä¸ç­‰äºæŸ¥è¯¢ç¼“å­˜ï¼Œä»–ä»¬ä¸¤ä¸ªå­˜åœ¨å…±åŒçš„ç‰¹ç‚¹å°±æ˜¯éƒ½æ˜¯é€šè¿‡ç¼“å­˜çš„æœºåˆ¶æ¥æå‡æ•ˆç‡ã€‚è€Œç¼“å†²æ± æ˜¯æœåŠ¡äºæ•°æ®åº“æ•´ä½“çš„IOæ“ä½œï¼Œé€šè¿‡å»ºç«‹ç¼“å†²æ± æœºåˆ¶æ¥å¼¥è¡¥å­˜å‚¨å¼•æ“çš„ç£ç›˜æ–‡ä»¶ä¸å†…å­˜è®¿é—®ä¹‹é—´çš„æ•ˆç‡é¸¿æ²Ÿï¼ŒåŒæ—¶ç¼“å†²æ± ä¼šé‡‡ç”¨â€œé¢„è¯»â€çš„æœºå™¨æå‰åŠ è½½ä¸€äº›é©¬ä¸Šä¼šç”¨åˆ°çš„æ•°æ®ï¼Œä»¥æå‡æ•´ä½“çš„æ•°æ®åº“æ€§èƒ½ã€‚è€ŒæŸ¥è¯¢ç¼“å­˜æ˜¯æœåŠ¡äºSQLæŸ¥è¯¢å’ŒæŸ¥è¯¢ç»“æœé›†çš„ï¼Œå› ä¸ºå‘½ä¸­æ¡ä»¶è‹›åˆ»ï¼Œè€Œä¸”åªè¦å½“æ•°æ®è¡¨å‘ç”Ÿäº†å˜åŒ–ï¼ŒæŸ¥è¯¢ç¼“å­˜å°±ä¼šå¤±æ•ˆï¼Œå› æ­¤å‘½ä¸­ç‡ä½ï¼Œåœ¨MySQL8.0ç‰ˆæœ¬ä¸­å·²ç»å¼ƒç”¨äº†è¯¥åŠŸèƒ½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1566629446,"ip_address":"","comment_id":126769,"utype":1}],"discussion_count":7,"race_medal":0,"score":"323689016584","product_id":100029501,"comment_content":"è¯·é—®ä¸‹è€å¸ˆï¼Œç¼“å†²æ± å’ŒæŸ¥è¯¢ç¼“å­˜æ˜¯ä¸€ä¸ªä¸œè¥¿å—ï¼Ÿ","like_count":76,"discussions":[{"author":{"id":1239992,"avatar":"https://static001.geekbang.org/account/avatar/00/12/eb/b8/22065888.jpg","nickname":"å°å¹´","note":"","ucode":"BDEF5315847236","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7920,"discussion_content":"æ„Ÿè°¢ï¼Œæˆ‘ä¹Ÿæƒ³é—®è¿™ä¸ªæ¥ç€","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1567730611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464159,"discussion_content":"é¦–å…ˆæˆ‘ä»¬éœ€è¦äº†è§£InnoDBå­˜å‚¨å¼•æ“ä¸­ç¼“å†²æ± éƒ½åŒ…æ‹¬äº†å“ªäº›ï¼Œåœ¨InnoDBå­˜å‚¨å¼•æ“ä¸­æœ‰ä¸€éƒ¨åˆ†æ•°æ®ä¼šæ”¾åˆ°å†…å­˜ä¸­ï¼Œç¼“å†²æ± åˆ™å äº†è¿™éƒ¨åˆ†å†…å­˜ï¼ˆIn-Memory Structuresï¼‰çš„å¤§éƒ¨åˆ†ï¼Œå®ƒæ˜¯ç”¨æ¥å­˜å‚¨å„ç§æ•°æ®çš„ç¼“å­˜ï¼ŒåŒ…æ‹¬äº†æ•°æ®é¡µï¼Œç´¢å¼•é¡µï¼Œæ’å…¥ç¼“å†²ï¼Œé”ä¿¡æ¯ï¼Œè‡ªé€‚åº”Hashï¼Œæ•°æ®å­—å…¸ä¿¡æ¯ç­‰ã€‚\n\nä¸ºä»€ä¹ˆè¦ä½¿ç”¨ç¼“å†²æ± æŠ€æœ¯å‘¢ï¼Œè¿™æ—¶å› ä¸ºInnoDBå­˜å‚¨å¼•æ“æ˜¯åŸºäºç£ç›˜æ–‡ä»¶å­˜å‚¨çš„ï¼Œæˆ‘ä»¬åœ¨è®¿é—®ç‰©ç†ç¡¬ç›˜å’Œåœ¨å†…å­˜ä¸­è¿›è¡Œè®¿é—®é€Ÿåº¦ç›¸å·®å¾ˆå¤§ï¼Œä¸ºäº†å°½å¯èƒ½å¼¥è¡¥è¿™ä¸­é—´çš„IOæ•ˆç‡é¸¿æ²Ÿï¼Œæˆ‘ä»¬å°±éœ€è¦æŠŠç»å¸¸ä½¿ç”¨çš„æ•°æ®åŠ è½½åˆ°ç¼“å†²æ± ä¸­ï¼Œé¿å…æ¯æ¬¡è®¿é—®éƒ½è¿›è¡Œç£ç›˜IOï¼Œä»è€Œæå‡æ•°æ®åº“æ•´ä½“çš„è®¿é—®æ€§èƒ½ã€‚æ‰€ä»¥è¯´â€œé¢‘æ¬¡Xä½ç½®â€çš„åŸåˆ™ï¼Œå¸®æˆ‘ä»¬å¯¹IOè®¿é—®æ•ˆç‡è¿›è¡Œäº†ä¼˜åŒ–ï¼š\n1ï¼‰ä½ç½®å†³å®šæ•ˆç‡ï¼Œæä¾›ç¼“å†²æ± å°±æ˜¯åœ¨å†…å­˜ä¸­å¯ä»¥ç›´æ¥è®¿é—®åˆ°æ•°æ®ï¼Œå› æ­¤æ•ˆç‡å¯ä»¥å¤§å¹…æå‡\n2ï¼‰é¢‘æ¬¡å†³å®šä¼˜å…ˆçº§é¡ºåºï¼Œå› ä¸ºç¼“å†²æ± çš„å¤§å°æ˜¯æœ‰é™çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ç£ç›˜æœ‰200Gï¼Œä½†æ˜¯å†…å­˜åªæœ‰16Gï¼Œç¼“å†²æ± å¤§å°åªæœ‰1Gï¼Œé‚£ä¹ˆè¿™æ—¶æ— æ³•å°†æ‰€æœ‰æ•°æ®éƒ½åŠ è½½åˆ°ç¼“å†²æ± é‡Œï¼Œè¿™é‡Œå°±æœ‰ä¸ªä¼˜å…ˆçº§é¡ºåºçš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯å¯¹ç»å¸¸ä½¿ç”¨é¢‘æ¬¡é«˜çš„çƒ­æ•°æ®è¿›è¡ŒåŠ è½½ã€‚\nåœ¨äº†è§£äº†ç¼“å†²æ± ä½œç”¨ä¹‹åï¼Œæˆ‘ä»¬è¿˜éœ€è¦äº†è§£ç¼“å†²æ± çš„å¦ä¸€ä¸ªç‰¹æ€§ï¼šé¢„è¯»ã€‚\nå› ä¸ºç¼“å†²æ± çš„ä½œç”¨å°±æ˜¯æå‡IOæ•ˆç‡ï¼Œè€Œæˆ‘ä»¬è¿›è¡Œè¯»å–æ•°æ®çš„å­˜åœ¨ä¸€ä¸ªâ€œå±€éƒ¨æ€§åŸç†â€ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä½¿ç”¨äº†ä¸€äº›æ•°æ®ï¼Œå¤§æ¦‚ç‡è¿˜ä¼šä½¿ç”¨å®ƒå‘¨å›´çš„ä¸€äº›æ•°æ®ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥é‡‡ç”¨â€œé¢„è¯»â€çš„æœºåˆ¶æ¥å‡å°‘æœªæ¥çš„ç£ç›˜IOæ“ä½œï¼Œè¿›è¡Œæå‰åŠ è½½ã€‚\n\næˆ‘ä»¬å†æ¥çœ‹ä¸‹ä»€ä¹ˆæ˜¯æŸ¥è¯¢ç¼“å­˜ï¼Ÿ\næŸ¥è¯¢ç¼“å­˜æ˜¯æå‰æŠŠæŸ¥è¯¢ç»“æœç¼“å­˜èµ·æ¥ï¼Œè¿™æ ·ä¸‹æ¬¡å°±ä¸éœ€è¦æ‰§è¡Œå¯ä»¥ç›´æ¥æ‹¿åˆ°ç»“æœã€‚éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œåœ¨MySQLä¸­çš„æŸ¥è¯¢ç¼“å­˜ï¼Œä¸æ˜¯ç¼“å­˜æŸ¥è¯¢è®¡åˆ’ï¼Œè€Œæ˜¯æŸ¥è¯¢åŠå¯¹åº”çš„æŸ¥è¯¢ç»“æœã€‚è¿™å°±æ„å‘³ç€æŸ¥è¯¢åŒ¹é…çš„é²æ£’æ€§å¤§å¤§é™ä½ï¼Œåªæœ‰ç›¸åŒçš„æŸ¥è¯¢æ“ä½œæ‰ä¼šå‘½ä¸­æŸ¥è¯¢ç¼“å­˜ã€‚å› æ­¤åœ¨MySQLçš„æŸ¥è¯¢ç¼“å­˜å‘½ä¸­ç‡ä¸é«˜ï¼Œåœ¨MySQL8.0ç‰ˆæœ¬ä¸­å·²ç»å¼ƒç”¨äº†æŸ¥è¯¢ç¼“å­˜åŠŸèƒ½ã€‚æŸ¥çœ‹æ˜¯å¦ä½¿ç”¨äº†æŸ¥è¯¢ç¼“å­˜ï¼Œä½¿ç”¨å‘½ä»¤ï¼šshow variables like &amp;#39;%query_chache%&amp;#39;;\n\næ‰€ä»¥è¯´ç¼“å†²æ± ä¸ç­‰äºæŸ¥è¯¢ç¼“å­˜ï¼Œä»–ä»¬ä¸¤ä¸ªå­˜åœ¨å…±åŒçš„ç‰¹ç‚¹å°±æ˜¯éƒ½æ˜¯é€šè¿‡ç¼“å­˜çš„æœºåˆ¶æ¥æå‡æ•ˆç‡ã€‚è€Œç¼“å†²æ± æ˜¯æœåŠ¡äºæ•°æ®åº“æ•´ä½“çš„IOæ“ä½œï¼Œé€šè¿‡å»ºç«‹ç¼“å†²æ± æœºåˆ¶æ¥å¼¥è¡¥å­˜å‚¨å¼•æ“çš„ç£ç›˜æ–‡ä»¶ä¸å†…å­˜è®¿é—®ä¹‹é—´çš„æ•ˆç‡é¸¿æ²Ÿï¼ŒåŒæ—¶ç¼“å†²æ± ä¼šé‡‡ç”¨â€œé¢„è¯»â€çš„æœºå™¨æå‰åŠ è½½ä¸€äº›é©¬ä¸Šä¼šç”¨åˆ°çš„æ•°æ®ï¼Œä»¥æå‡æ•´ä½“çš„æ•°æ®åº“æ€§èƒ½ã€‚è€ŒæŸ¥è¯¢ç¼“å­˜æ˜¯æœåŠ¡äºSQLæŸ¥è¯¢å’ŒæŸ¥è¯¢ç»“æœé›†çš„ï¼Œå› ä¸ºå‘½ä¸­æ¡ä»¶è‹›åˆ»ï¼Œè€Œä¸”åªè¦å½“æ•°æ®è¡¨å‘ç”Ÿäº†å˜åŒ–ï¼ŒæŸ¥è¯¢ç¼“å­˜å°±ä¼šå¤±æ•ˆï¼Œå› æ­¤å‘½ä¸­ç‡ä½ï¼Œåœ¨MySQL8.0ç‰ˆæœ¬ä¸­å·²ç»å¼ƒç”¨äº†è¯¥åŠŸèƒ½ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566629446,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2815900,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/f7/9c/69c5c5dc.jpg","nickname":"è¶Šé”‹åˆ©","note":"","ucode":"63E9E3F3C7D53D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411227,"discussion_content":"ä½ çš„æ˜µç§°å¥½é…·å•Šï¼Œæœäº†ä¸‹è¿˜æœ‰ä¸ªä¸“é—¨çš„ç½‘ç«™èƒ½ç”Ÿæˆè¿™ç§èŠ±èŠ±çš„å­—ä½“ï¼Œå¾ˆæœ‰è¶£","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635866375,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2076104,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/ad/c8/dd337107.jpg","nickname":"å¹²å°¾å·´","note":"","ucode":"718D7A8BFDD6D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376831,"discussion_content":"ç¼“å†²æ± æ²¡æœ‰ï¼Œå»å†…å­˜è¯»å–è¿™å¥è¯æ€ä¹ˆç†è§£å‘€ï¼Œæ“ä½œç³»ç»Ÿéƒ½å¿«å¿˜å¾—å·®ä¸å¤šäº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622368291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2076104,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/ad/c8/dd337107.jpg","nickname":"å¹²å°¾å·´","note":"","ucode":"718D7A8BFDD6D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376828,"discussion_content":"æˆ‘çœ‹ä¸Šé¢è¯´äº†ç¼“å†²æ± è¿˜æœ‰ä¸€äº›å›ä¼šç­–ç•¥ï¼Œè¿™äº›åº”è¯¥æ˜¯æŸ¥è¯¢ç¼“å­˜è¯´ä¸å…·å¤‡çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622367807,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1212902,"avatar":"https://static001.geekbang.org/account/avatar/00/12/81/e6/6cafed37.jpg","nickname":"æ—…é€”","note":"","ucode":"5022477E8E9441","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":105228,"discussion_content":"ç²¾å½©ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577459207,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000060,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/7c/8ef14715.jpg","nickname":"ğŸ„½ğŸ„¸ğŸ…‡ğŸ…„ğŸ…‚","note":"","ucode":"853763C229A5AA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6091,"discussion_content":"æ˜ç™½äº†ï¼Œè°¢è°¢è€å¸ˆï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566663431,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123759,"user_name":"DZ","can_delete":false,"product_type":"c1","uid":1132240,"ip_address":"","ucode":"452555FA0F9E0F","user_header":"https://static001.geekbang.org/account/avatar/00/11/46/d0/6bafd7d4.jpg","comment_is_top":false,"comment_ctime":1565752900,"is_pvip":false,"replies":[{"id":"63792","content":"æ•´ç†çš„ä¸é”™","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577542024,"ip_address":"","comment_id":123759,"utype":1}],"discussion_count":2,"race_medal":0,"score":"207724183108","product_id":100029501,"comment_content":"é¡ºåºè¯»çš„é¡µé¢å¹³å‡åŠ è½½æ•ˆç‡æ›´é«˜æ˜¯å› ä¸ºé¡ºåºè¯»æ›´è´´åˆå­˜å‚¨ä»‹è´¨çš„ç‰©ç†ç‰¹æ€§ï¼Œå³ä¸€æ¬¡é¡ºåºè¯»å–ä¸€æ‰¹ç›¸é‚»ç‰©ç†å—çš„æ•ˆç‡ï¼Œå¤§äºå¤šæ¬¡éšæœºè®¿é—®ä¸è¿ç»­çš„ç‰©ç†å—çš„æ•ˆç‡ã€‚<br><br>ç¼“å†²æ± æœºåˆ¶å’Œé¡µé¢åŠ è½½æ–¹å¼æ˜¯è®¡ç®—æœºä½“ç³»ç»“æ„çš„ç»å…¸æ–¹å¼ï¼Œé¦–å…ˆå¿…é¡»æ‰¿è®¤ä¸¤ä¸ªå®¢è§‚äº‹å®ï¼Œä¸€æ˜¯èµ„æºæœ‰é™ï¼ŒäºŒæ˜¯æ—¶é—´æœ‰é™ã€‚ä»ç¡¬ç›˜åˆ°å†…å­˜å†åˆ°CPUç¼“å­˜ï¼Œä»·æ ¼å’Œæ•ˆç‡æ°¸è¿œå­˜åœ¨çŸ›ç›¾ï¼Œåªèƒ½é€šè¿‡å¤šçº§ç¼“å­˜çš„å½¢å¼ï¼Œå°†æ›´è´µçš„èµ„æºç•™ç»™æ›´çƒ­çš„æ•°æ®ã€‚","like_count":49,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462805,"discussion_content":"æ•´ç†çš„ä¸é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577542024,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2076104,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/ad/c8/dd337107.jpg","nickname":"å¹²å°¾å·´","note":"","ucode":"718D7A8BFDD6D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376830,"discussion_content":"æƒ³å­¦å¥½æ•°æ®åº“ï¼Œé¦–å…ˆçš„å­¦å·æ“ä½œç³»ç»Ÿã€‚å¼„æ¸…æ¥šç£ç›˜ç»“æ„çš„æ‰‡åŒºï¼Œç£é“ï¼Œç›˜é¢è¿™äº›\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1622367922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188878,"user_name":"Ryoma","can_delete":false,"product_type":"c1","uid":1130590,"ip_address":"","ucode":"7F692369239692","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","comment_is_top":false,"comment_ctime":1584429650,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"53124037202","product_id":100029501,"comment_content":"åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œæ•°æ®ä¸åœ¨ç¼“å†²æ± ä¸­ï¼Œè€Œæ˜¯åœ¨å†…å­˜ä¸­ï¼Œæ­¤æ—¶ä»å†…å­˜ä¸­è¯»å–ï¼Ÿ","like_count":13},{"had_liked":false,"id":131362,"user_name":"å°å¹´","can_delete":false,"product_type":"c1","uid":1239992,"ip_address":"","ucode":"BDEF5315847236","user_header":"https://static001.geekbang.org/account/avatar/00/12/eb/b8/22065888.jpg","comment_is_top":false,"comment_ctime":1567730697,"is_pvip":false,"replies":[{"id":"63507","content":"SQLä¸»è¦å°±æ˜¯åŸºæœ¬è¯­æ³•å’Œæ€§èƒ½ä¼˜åŒ–","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577515307,"ip_address":"","comment_id":131362,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40222436361","product_id":100029501,"comment_content":"è€å¸ˆï¼Œä¸æ­¢å¯å¦åœ¨å“ªä¸€æœŸè®²ä¸€è®²é¢è¯•çš„æ—¶å€™å¸¸è€ƒçš„ä¸€äº›SQLç›¸å…³çš„å†…å®¹å‘€ï¼Ÿæ„Ÿè§‰è¿™äº›ç´¢å¼•æ·±å…¥äº†ä»¥åé¢è¯•ä¸å¤ªä¼šæ¶‰åŠåˆ°ï¼ŒæŠ±æ­‰åŠŸåˆ©äº†ç‚¹å› ä¸ºæœ€è¿‘åœ¨ç§‹æ‹›å„ç§é¢è¯•ï¼Œæ‹…å¿ƒçœ‹çš„å¤ªæ·±äº†åè€Œæš‚æ—¶ç”¨ä¸åˆ°...","like_count":10,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466411,"discussion_content":"SQLä¸»è¦å°±æ˜¯åŸºæœ¬è¯­æ³•å’Œæ€§èƒ½ä¼˜åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577515307,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123716,"user_name":"lmtoo","can_delete":false,"product_type":"c1","uid":1133918,"ip_address":"","ucode":"FCD5B9C941D448","user_header":"https://static001.geekbang.org/account/avatar/00/11/4d/5e/c5c62933.jpg","comment_is_top":false,"comment_ctime":1565746601,"is_pvip":false,"replies":[{"id":"63523","content":"å¯¹ æ€»å¤§å°","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577516809,"ip_address":"","comment_id":123716,"utype":1}],"discussion_count":4,"race_medal":0,"score":"27335550377","product_id":100029501,"comment_content":"innodb_buffer_pool_sizeæ˜¯ç¼“å­˜æ± æ€»å¤§å°å—ï¼Ÿå¦‚æœç¼“å­˜æ± ä¸ªæ•°å¤§äº1ï¼Œé‚£æ¯ä¸ªç¼“å†²æ± å¤§å°æ˜¯ä¸æ˜¯innodb_buffer_pool_size&#47;innodb_buffer_pool_instances?","like_count":7,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462785,"discussion_content":"å¯¹ æ€»å¤§å°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577516809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000060,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/7c/8ef14715.jpg","nickname":"ğŸ„½ğŸ„¸ğŸ…‡ğŸ…„ğŸ…‚","note":"","ucode":"853763C229A5AA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5820,"discussion_content":"æ ¹æ®ä¸Šä¸‹æ–‡ï¼Œæˆ‘è§‰å¾—åº”è¯¥æ˜¯nä¸ªç¼“å†²æ± å…±äº«1GBçš„ç©ºé—´ï¼Œä¸ç„¶å¦‚æœæ¯ä¸ªç¼“å†²æ± 1GBï¼Œé‚£å°±æ²¡å¿…è¦innodb_buffer_pool_sizeâ‰¥1GBæ—¶ï¼Œé»˜è®¤å€¼8æ‰ä¼šç”Ÿæ•ˆè¿™æ ·çš„è§„åˆ™äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1566472612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1133918,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4d/5e/c5c62933.jpg","nickname":"lmtoo","note":"","ucode":"FCD5B9C941D448","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4805,"discussion_content":"ä»å†…å­˜è¯»å–æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿç¼“å†²æ± ä¸å°±æ˜¯åœ¨å†…å­˜é‡Œå—ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1565747929,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1474214,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7e/a6/4e331ef4.jpg","nickname":"éª‘è¡Œçš„æŒæŸœJ","note":"","ucode":"3163102651C653","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1133918,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4d/5e/c5c62933.jpg","nickname":"lmtoo","note":"","ucode":"FCD5B9C941D448","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":263093,"discussion_content":"ä¸Šé¢è€å¸ˆä¸æ˜¯è¯´äº†å˜›ï¼Œå¦‚æœä½ æ­¤æ—¶è¦è¯»å–çš„æ•°æ®é¡µæ˜¯ä¸å­˜åœ¨è¯¥ç¼“å†²æ± ä¸­çš„æ—¶å€™ï¼Œä½†æ˜¯å®ƒåˆå­˜åœ¨äºå†…å­˜ä¸Šé¢ï¼Œæ‰€ä»¥ç›´æ¥å°±å¯ä»¥ä»å†…å­˜ä¸­æŠŠè¦æŸ¥è¯¢çš„è¯¥æ•°æ®åŠ è½½åˆ°è¯¥ç¼“å†²æ± ä¸­ã€‚ç®€å•æ¥è¯´å°±æ˜¯è¯¥ç¼“å†²æ± æ˜¯å†…å­˜ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯å®ƒçš„å­é›†ã€‚ä¸çŸ¥é“æˆ‘è¿™æ ·è¯´ä½ ç†è§£æ²¡æœ‰ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1589171947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4805,"ip_address":""},"score":263093,"extra":""}]}]},{"had_liked":false,"id":134249,"user_name":"å³»é“­","can_delete":false,"product_type":"c1","uid":1106202,"ip_address":"","ucode":"63AB23BADACA88","user_header":"https://static001.geekbang.org/account/avatar/00/10/e1/1a/20977779.jpg","comment_is_top":false,"comment_ctime":1568783063,"is_pvip":false,"replies":[{"id":"63780","content":"æ•´ç†æ€»ç»“çš„ä¸é”™","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577541291,"ip_address":"","comment_id":134249,"utype":1}],"discussion_count":3,"race_medal":0,"score":"23043619543","product_id":100029501,"comment_content":"SELECT comment_id, product_id, comment_text, user_id FROM product_comment WHERE comment_id = 900001;<br>SELECT comment_id, product_id, comment_text, user_id FROM product_comment WHERE comment_id BETWEEN 900001 AND 900100;<br>è¿™ä¸¤å¥æŸ¥è¯¢çš„last_query_costéƒ½æ˜¯4.724ï¼Œè¯´æ˜è¿™ä¸æ˜¯é¡µ<br>å®˜ç½‘ï¼šhttps:&#47;&#47;dev.mysql.com&#47;doc&#47;refman&#47;8.0&#47;en&#47;server-status-variables.html<br><br>The total cost of the last compiled query as computed by the query optimizer. This is useful for comparing the cost of different query plans for the same query. The default value of 0 means that no query has been compiled yet. The default value is 0. Last_query_cost has session scope<br>å¯¹åŒä¸€ä¸ªæŸ¥è¯¢è¯­å¥çš„ä¸åŒæŸ¥è¯¢è®¡åˆ’çš„ä»£ä»·è¿›è¡Œè®¡è¾ƒï¼Œé€‰æ‹©ä»£ä»·æœ€å°çš„ã€‚last_query_costå¾—åˆ°çš„å€¼åªæ˜¯ä¸€ä¸ªæŸ¥è¯¢è®¡åˆ’çš„è¯„åˆ†å€¼ï¼Œä¸æ˜¯é¡µ<br><br>","like_count":6,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467671,"discussion_content":"æ•´ç†æ€»ç»“çš„ä¸é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577541291,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1231369,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLLn1y9RSL9JcACGRVkkhkEmjH7z1eiag763CVKwn3Mzb3djbibwbx0fgZqyBpPozGLOicnllSfydEng/132","nickname":"qijj","note":"","ucode":"AAE7BAD5DABEE2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":220452,"discussion_content":"è¿™å¥½åƒå’Œè€å¸ˆè®²çš„ä¸ä¸€æ ·å•Šï¼Œæ­£æ–‡ä¸­last_query_cost æŸ¥è¯¢åˆ°çš„ç»“æœæ˜¯ é¡µ  ï¼Œé‚£ä¸ªæ˜¯å¯¹çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585878521,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1474214,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7e/a6/4e331ef4.jpg","nickname":"éª‘è¡Œçš„æŒæŸœJ","note":"","ucode":"3163102651C653","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1231369,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLLn1y9RSL9JcACGRVkkhkEmjH7z1eiag763CVKwn3Mzb3djbibwbx0fgZqyBpPozGLOicnllSfydEng/132","nickname":"qijj","note":"","ucode":"AAE7BAD5DABEE2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":263104,"discussion_content":"ä¸Šé¢é‚£ä¸ªè€å“¥çš„ç†è§£æœ‰é—®é¢˜å§ å®˜æ–¹æ–‡æ¡£å¯¹è¿™ä¸ªLast_query_costå˜é‡ä¸€å¼€å§‹æ˜¯è¯´è¿™ä¸ªå˜é‡æ˜¯â€œé€šè¿‡æŸ¥è¯¢ä¼˜åŒ–å™¨è®¡ç®—æœ€åç¼–è¯‘æŸ¥è¯¢çš„æ€»æˆæœ¬ã€‚â€ç„¶åæ¥ç€è§£é‡Šè¯´â€œè¿™ä¸ªå¯¹äºæ¯”è¾ƒåŒæ ·æŸ¥è¯¢çš„ä¸åŒæŸ¥è¯¢è®¡åˆ’çš„æˆæœ¬æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚â€æœ€åæ–‡æ¡£æ¥ç€è¯´â€œé»˜è®¤å€¼0è¡¨ç¤ºçš„å«ä¹‰æ˜¯è¿˜æ²¡æœ‰ç¼–è¯‘ä»»ä½•æŸ¥è¯¢ã€‚é»˜è®¤å€¼0. Last_query_costæ˜¯æœ‰ä¼šè¯èŒƒå›´çš„ã€‚â€ å¹¶æ²¡æœ‰è¯´åˆ°ä»€ä¹ˆè¯„åˆ†å•Šã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589173148,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":220452,"ip_address":""},"score":263104,"extra":""}]}]},{"had_liked":false,"id":149017,"user_name":"æ‰¶å¹½","can_delete":false,"product_type":"c1","uid":1322612,"ip_address":"","ucode":"1400EDFF8970D3","user_header":"https://static001.geekbang.org/account/avatar/00/14/2e/74/88c613e0.jpg","comment_is_top":false,"comment_ctime":1573127777,"is_pvip":false,"replies":[{"id":"63767","content":"ç¡¬ç›˜å¹³å‡å¯»é“æ—¶é—´ 7-14msï¼Œå‡è®¾ç¡¬ç›˜æ˜¯6000è½¬ï¼Œè½¬ä¸€åœˆï¼ˆ100ä¸ªå±±åŒºï¼‰æ—¶é—´æ˜¯0.01ï¼Œå¹³å‡ä¸€ä¸ªæ‰‡åŒºçš„æ—¶é—´æ˜¯0.1ms","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577540855,"ip_address":"","comment_id":149017,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18752996961","product_id":100029501,"comment_content":"æ˜¯å› ä¸ºç£ç›˜IOæ—¶å¯»é“å’ŒåŠåœˆæ—‹è½¬æ—¶é—´è¾ƒé•¿å—ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":473709,"discussion_content":"ç¡¬ç›˜å¹³å‡å¯»é“æ—¶é—´ 7-14msï¼Œå‡è®¾ç¡¬ç›˜æ˜¯6000è½¬ï¼Œè½¬ä¸€åœˆï¼ˆ100ä¸ªå±±åŒºï¼‰æ—¶é—´æ˜¯0.01ï¼Œå¹³å‡ä¸€ä¸ªæ‰‡åŒºçš„æ—¶é—´æ˜¯0.1ms","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577540855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":127383,"user_name":"NO.9","can_delete":false,"product_type":"c1","uid":1336970,"ip_address":"","ucode":"B92F14B493406F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/fUDCLLob6DFS8kZcMUfxOc4qQHeQfW4rIMK5Ty2u2AqLemcdhVRw7byx85HrVicSvy5AiabE0YGMj5gVt8ibgrusA/132","comment_is_top":false,"comment_ctime":1566687281,"is_pvip":false,"replies":[{"id":"63516","content":"å¯¹çš„ å¤šè°¢åˆ†äº«","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577516225,"ip_address":"","comment_id":127383,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18746556465","product_id":100029501,"comment_content":"è€å¸ˆ ä½ å¥½ï¼Œè¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œ<br>çœ‹å®Œæœ¬ç« å‰é¢çš„éƒ¨åˆ†ä¹‹åå¿½ç„¶é—´æ„è¯†åˆ°ï¼š<br>      æ•°æ®åº“Downæ‰ä¹‹åçš„Recoverï¼Œåªèƒ½æ˜¯ç”¨æœ€æ–°å¯¹backup+checkpoint+transactionçš„log æ¢å¤ï¼Œå°±æ˜¯å› ä¸ºcommitçš„å†…å®¹è¿˜æ²¡æœ‰ä»ç¼“å†²æ± å†™å…¥ç£ç›˜ã€‚","like_count":5,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464467,"discussion_content":"å¯¹çš„ å¤šè°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577516225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123714,"user_name":"ç”¨0å’Œ1æ”¹å˜è‡ªå·±","can_delete":false,"product_type":"c1","uid":1527530,"ip_address":"","ucode":"42B8F6ECF6BDD0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/lfMbV8RibrhFxjILg4550cZiaay64mTh5Zibon64TiaicC8jDMEK7VaXOkllHSpS582Jl1SUHm6Jib2AticVlHibiaBvUOA/132","comment_is_top":false,"comment_ctime":1565746178,"is_pvip":false,"replies":[{"id":"63524","content":"æ€»ç»“çš„ä¸é”™","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577516818,"ip_address":"","comment_id":123714,"utype":1}],"discussion_count":4,"race_medal":0,"score":"14450648066","product_id":100029501,"comment_content":"1,é¡ºåºè¯»å–æ˜¯ä¸€ç§æ‰¹é‡è¯»å–ï¼Œè¯»å–çš„æ•°æ®éƒ½æ˜¯ç›¸é‚»çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦æ¯ä¸€é¡µéƒ½è¿›è¡ŒI&#47;Oæ“ä½œï¼Œå¹³å‡ä¸‹æ¥å°±æ•ˆç‡æ›´é«˜äº†ã€‚<br>2.ç¼“å­˜æ± çš„åˆ·æ–°æœºåˆ¶å’Œè®¸å¤šç¼“å­˜éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè¾¾åˆ°ä¸€å®šæ•°é‡åè¿›è¡Œæ›´æ–°ï¼Œä»¥è¾¾åˆ°æå‡æ€§èƒ½éƒ½ç›®çš„ã€‚","like_count":4,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462784,"discussion_content":"æ€»ç»“çš„ä¸é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577516818,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1012325,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/72/65/68bd8177.jpg","nickname":"é›ªé£é¸¿","note":"","ucode":"65D7B030828809","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":37940,"discussion_content":"é¡ºåºè¯»å–æ€§èƒ½é«˜ä¸»è¦å› ä¸ºå‡å°‘äº†ç£ç›˜å¯»é“è€—æ—¶ï¼Œä½†å¯¹äºæ¯ä¸€é¡µçš„è¯»å–éƒ½éœ€è¦ä¸€æ¬¡ç£ç›˜I/0æ“ä½œ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1571704020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1583833,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/E3XKbwTv6WTssolgqZjZCkiazHgl2IdBYfwVfAcB7Ff3krsIQeBIBFQLQE1Kw91LFbl3lic2EzgdfNiciaYDlJlELA/132","nickname":"rike","note":"","ucode":"920AAD0BD9245C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1012325,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/72/65/68bd8177.jpg","nickname":"é›ªé£é¸¿","note":"","ucode":"65D7B030828809","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":117925,"discussion_content":"å›ºæ€ç¡¬ç›˜å°±ä¸éœ€è¦å¯»é“äº†å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578144977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":37940,"ip_address":""},"score":117925,"extra":""}]},{"author":{"id":1127175,"avatar":"https://static001.geekbang.org/account/avatar/00/11/33/07/8f351609.jpg","nickname":"JustDoDT","note":"","ucode":"6AF0B80F00EAEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4820,"discussion_content":"ä¼˜ç§€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565752898,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":165201,"user_name":"ç‹åŠ æ­¦","can_delete":false,"product_type":"c1","uid":1665471,"ip_address":"","ucode":"DDCFE578C6C428","user_header":"https://static001.geekbang.org/account/avatar/00/19/69/bf/50a824a4.jpg","comment_is_top":false,"comment_ctime":1577178847,"is_pvip":false,"replies":[{"id":"63863","content":"æ€»ç»“çš„ä¸é”™ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577594200,"ip_address":"","comment_id":165201,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10167113439","product_id":100029501,"comment_content":"ç¬¬ä¸€ä¸ªé—®é¢˜<br>æˆ‘ä»¬çš„æ•°æ®åœ¨ç£ç›˜ä¸Šæ˜¯ç›¸é‚»å­˜å‚¨çš„ï¼Œå½“æˆ‘ä»¬å°†æ•°æ®ä»ç£ç›˜ä¸­åŠ è½½è¯»å–åˆ°ç¼“å†²åŒºçš„æ—¶å€™ï¼Œå°±ç›´æ¥ä¸€å †ä¸€å †çš„è¯»å–ï¼Œæ ¹æœ¬ä¸éœ€è¦å•ç‹¬çš„å»å¯¹æŸä¸ªæ•°æ®è¿›è¡ŒI&#47;Oçš„æ“ä½œï¼Œè¿™æ ·æ•ˆç‡å°±ä¼šå¾ˆé«˜ï¼Œï¼ˆé‡ç‚¹åœ¨äºæ•°æ®åœ¨ç£ç›˜ä¸­æ˜¯ç›¸é‚»å­˜å‚¨çš„ï¼‰<br><br>ç¬¬äºŒä¸ªé—®é¢˜<br>ç¼“å†²æ± è¿™ä¸ªä¸œè¥¿åº”è¯¥è·Ÿè®¡ç®—æœºç»„æˆåŸç†ä¸­çš„é«˜é€Ÿç¼“å†²åŒºï¼ˆCpu Cache)æ˜¯ä¸€ä¸ªé“ç†çš„ï¼Œè®¿é—®é€Ÿåº¦æ¯”å†…å­˜å¿«ï¼Œå†…å­˜åˆæ¯”ç£ç›˜å¿«ï¼ŒCPUåœ¨è¿›è¡Œæ•°æ®è¯»å–çš„æ—¶å€™ï¼Œé¦–å…ˆå°±ä¼šå»è®¿é—®Cacheï¼Œåªæœ‰å½“Cacheä¸­æ‰¾ä¸åˆ°æ•°æ®çš„æ—¶å€™ï¼ŒCPUæ‰ä¼šå»è®¿é—®å†…å­˜ï¼Œå°†å†…å­˜ä¸­çš„æ•°æ®åŠ è½½åˆ°Cacheä¸­ï¼Œç„¶ååœ¨è¿›è¡Œè®¿é—®ï¼è¿™æ˜¯ç¼“å†²åŒºæ¯”è¾ƒå¿«çš„ä¸€æ–¹é¢åŸå› ï¼Œå…¶æ¬¡å°±æ˜¯æœ‰ä¸ªä¸œè¥¿å«åšâ€œå±€éƒ¨æ€§åŸç†â€œï¼ŒåŒ…æ‹¬äº†æ—¶é—´å±€éƒ¨æ€§å’Œç©ºé—´å±€éƒ¨æ€§ï¼Œåœ¨è®¿é—®æ•°æ®çš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶é—´å±€éƒ¨æ€§å°±èµ·ä½œç”¨äº†ï¼Œåˆšåˆšè¢«è®¿é—®è¿‡çš„æ•°æ®ï¼Œä¼šå¾ˆå¿«çš„è¢«è®¿é—®åˆ°ï¼Œè¿™æ ·CPUèŠ±åœ¨ç­‰å¾…å†…å­˜è®¿é—®çš„æ—¶é—´å°±å¤§å¤§çš„ç¼©çŸ­äº†ã€‚<br>æˆ‘è§‰å¾—CPUè¿™ä¸ªè®¿é—®æ•°æ®çš„æ–¹å¼å’Œæ•°æ®åº“ä¸­è®¿é—®çš„æ–¹å¼çš„åŸç†æ˜¯ä¸€æ ·çš„ï¼CPUä¸­æ˜¯CPU Cache,æ•°æ®åº“ä¸­å‘¢æ˜¯æ¯”å¦‚â€Redisç¼“å­˜ã€MemCacheç¼“å­˜â€ç­‰ï¼<br><br>ä¸çŸ¥é“ä¸Šè¿°æ€»ç»“æ˜¯å¦æ­£ç¡®ï¼Œä½†æ˜¯æˆ‘è§‰å¾—ä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œå¾ˆå¤šä¸œè¥¿åªæ˜¯æ¢äº†ä¸€ç§æ–¹å¼å»æ“ä½œè€Œå·²ï¼Œå…¶æ ¹æœ¬çš„åŸç†æ˜¯ä¸å˜çš„ï¼æœ‰ä¸å¯¹çš„åœ°æ–¹ï¼Œè¿˜è¯·è€å¸ˆæŒ‡æ­£ï¼<br>","like_count":3,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479071,"discussion_content":"æ€»ç»“çš„ä¸é”™ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577594200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186377,"user_name":"jacksnow","can_delete":false,"product_type":"c1","uid":1264732,"ip_address":"","ucode":"49693079973EEF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEJafX5kNYJKpD9czE7pjYJtDWnuHeWQLtkfyAtPYUicbiafAUBvUqSnKTM3bahib1wURcRg2miaOFGnpQ/132","comment_is_top":false,"comment_ctime":1583831850,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5878799146","product_id":100029501,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜è¯·æ•™ä¸€ä¸‹:<br>å¦‚æœæ˜¯ä¸¤ä¸ªè¡¨è¿›è¡Œjoinæ“ä½œï¼Œæ¯”å¦‚<br>select a.*, b.* <br>from a join b on a.xxx = b.xxx &#47;&#47; ç¬¬ä¸€æ­¥<br>where a.id = &#39;xxxx&#39; &#47;&#47; ç¬¬äºŒæ­¥<br>ç¬¬ä¸€æ­¥æ˜¯è¿›è¡Œæ•°æ®ç»„è£…<br>ç¬¬äºŒéƒ¨æ˜¯è¿›è¡Œæ¡ä»¶ç­›é€‰.<br>æˆ‘çš„é—®é¢˜æ˜¯ï¼š<br>ç¬¬ä¸€æ­¥ç»„è£…æ•°æ®çš„æ„æ€æ˜¯ä¸æ˜¯åœ¨ç£ç›˜ä¸Šé€šè¿‡aå’Œbä¸¤ä¸ªè¡¨çš„pageé¡µç»„è£…æˆæ–°çš„pageé¡µï¼Œå¹¶ä¸”éœ€è¦æ–°åˆ†é…ç£ç›˜ç©ºé—´æ¥å­˜å‚¨è¿™äº›æ–°çš„pageé¡µï¼ŒæŸ¥è¯¢å®Œæˆä¹‹åå†å°†è¿™äº›pageé¡µè¿›è¡Œå›æ”¶ï¼Ÿ<br>ç¬¬äºŒæ­¥æ˜¯å¦æ˜¯åœ¨æ–°ç»„è£…å‡ºæ¥çš„pageé¡µä¸­é€šè¿‡ç´¢å¼•è¿›è¡ŒæŸ¥è¯¢ï¼Œå¹¶å°†æŸ¥åˆ°çš„page loadåˆ°å†…å­˜ä¸­æ¥ï¼Ÿ","like_count":1},{"had_liked":false,"id":154465,"user_name":"æ¢","can_delete":false,"product_type":"c1","uid":1267198,"ip_address":"","ucode":"29A10759821D96","user_header":"https://static001.geekbang.org/account/avatar/00/13/55/fe/e8fb06fb.jpg","comment_is_top":false,"comment_ctime":1574436408,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5869403704","product_id":100029501,"comment_content":"æˆ‘æƒ³SSDç£ç›˜åœ¨å•ä¸ªé¡µé¢éšæœºè¯»çš„æ•ˆç‡æ˜¯å¦ä¸ä¼šæ¯”å•ä¸ªé¡µé¢é¡ºåºè¯»çš„æ•ˆç‡å·®äº†ï¼ŒSSDå¯»é“æ—¶é—´æ‰0.1msã€‚","like_count":1,"discussions":[{"author":{"id":1246178,"avatar":"https://static001.geekbang.org/account/avatar/00/13/03/e2/5768d26e.jpg","nickname":"inrtyx","note":"","ucode":"81CD18FF34ABAB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161522,"discussion_content":"ä¼šç•¥å·®ä¸€ç‚¹ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580907121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":154464,"user_name":"æ¢","can_delete":false,"product_type":"c1","uid":1267198,"ip_address":"","ucode":"29A10759821D96","user_header":"https://static001.geekbang.org/account/avatar/00/13/55/fe/e8fb06fb.jpg","comment_is_top":false,"comment_ctime":1574436278,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5869403574","product_id":100029501,"comment_content":"æˆ‘æƒ³è¦æ˜¯å…¨é—ªå­˜ç£ç›˜çš„è¯ï¼Œå°±ç®—æ˜¯å•ä¸ªé¡µé¢çš„éšæœºè¯»ï¼Œæ•ˆç‡ä¹Ÿä¸ä¼šæ¯”é¡ºåºè¯»å–æ—¶å¹³å‡ä¸€ä¸ªé¡µé¢çš„åŠ è½½æ•ˆç‡å·®ï¼Œ","like_count":1},{"had_liked":false,"id":129110,"user_name":"wonderq_gk","can_delete":false,"product_type":"c1","uid":1572636,"ip_address":"","ucode":"9A10DDC39DBB6B","user_header":"https://static001.geekbang.org/account/avatar/00/17/ff/1c/d049776e.jpg","comment_is_top":false,"comment_ctime":1567043838,"is_pvip":false,"replies":[{"id":"53398","content":"éœ€è¦çš„æ—¶å€™ï¼ŒMySQLä¼šè‡ªåŠ¨å°†æ•°æ®åŠ è½½åˆ°ç¼“å†²æ± çš„ï¼Œé¿å…æ¯æ¬¡æŸ¥è¯¢æ•°æ®éƒ½è¿›è¡Œç£ç›˜IOï¼ŒåŒæ ·å› ä¸ºç¼“å†²æ± çš„å¤§å°æœ‰é™ï¼Œå› æ­¤MySQLä¹Ÿä¼šç®¡ç†å’Œæ·˜æ±°ç¼“å†²æ± ï¼Œä½¿å¾—ç¼“å†²æ± æ€§èƒ½æœ€å¤§åŒ–","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1570433294,"ip_address":"","comment_id":129110,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5862011134","product_id":100029501,"comment_content":"å¦‚ä½•æŠŠæ•°æ®æ”¾åˆ°ç¼“å†²æ± <br><br>","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465282,"discussion_content":"éœ€è¦çš„æ—¶å€™ï¼ŒMySQLä¼šè‡ªåŠ¨å°†æ•°æ®åŠ è½½åˆ°ç¼“å†²æ± çš„ï¼Œé¿å…æ¯æ¬¡æŸ¥è¯¢æ•°æ®éƒ½è¿›è¡Œç£ç›˜IOï¼ŒåŒæ ·å› ä¸ºç¼“å†²æ± çš„å¤§å°æœ‰é™ï¼Œå› æ­¤MySQLä¹Ÿä¼šç®¡ç†å’Œæ·˜æ±°ç¼“å†²æ± ï¼Œä½¿å¾—ç¼“å†²æ± æ€§èƒ½æœ€å¤§åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570433294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129103,"user_name":"wonderq_gk","can_delete":false,"product_type":"c1","uid":1572636,"ip_address":"","ucode":"9A10DDC39DBB6B","user_header":"https://static001.geekbang.org/account/avatar/00/17/ff/1c/d049776e.jpg","comment_is_top":false,"comment_ctime":1567042868,"is_pvip":false,"replies":[{"id":"62740","content":"åº”è¯¥æ˜¯innodb_buffer_pool_sizeå‚æ•°è®¾ç½®ä¸ºå¤§äºç­‰äº 1GBçš„æ—¶å€™ï¼Œç¼“å†²æ± çš„æ•°é‡å¤§äº1æ‰ä¼šç”Ÿæ•ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577087867,"ip_address":"","comment_id":129103,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5862010164","product_id":100029501,"comment_content":"è€å¸ˆï¼Œæˆ‘è¿™é‡Œsizeæ˜¯32Mï¼Œä¸ºä»€ä¹ˆä¹Ÿæ˜¯æœ‰8ä¸ªç¼“å†²æ± ","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465279,"discussion_content":"åº”è¯¥æ˜¯innodb_buffer_pool_sizeå‚æ•°è®¾ç½®ä¸ºå¤§äºç­‰äº 1GBçš„æ—¶å€™ï¼Œç¼“å†²æ± çš„æ•°é‡å¤§äº1æ‰ä¼šç”Ÿæ•ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577087867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126421,"user_name":"ä¸€ç±³é˜³å…‰","can_delete":false,"product_type":"c1","uid":1301955,"ip_address":"","ucode":"E198243A39AD84","user_header":"https://static001.geekbang.org/account/avatar/00/13/dd/c3/6bb8b410.jpg","comment_is_top":false,"comment_ctime":1566385387,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5861352683","product_id":100029501,"comment_content":"è€å¸ˆï¼Œssdç¡¬ç›˜ä¹Ÿå­˜åœ¨éšæœºè¯»å—ï¼Œè¿˜æ˜¯åªæ˜¯å‡å°‘äº†æœºæ¢°ç¡¬ç›˜çš„å¯»é“","like_count":1,"discussions":[{"author":{"id":1246178,"avatar":"https://static001.geekbang.org/account/avatar/00/13/03/e2/5768d26e.jpg","nickname":"inrtyx","note":"","ucode":"81CD18FF34ABAB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":161524,"discussion_content":"å­˜åœ¨ï¼Œåªæ˜¯å‡å°‘å¯»é“æ—¶é—´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580907228,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124602,"user_name":"Geek_Wison","can_delete":false,"product_type":"c1","uid":1504371,"ip_address":"","ucode":"2CD880F07FDD57","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er4HlmmWfWicNmo3x3HKaOwz3ibcicDFlV5xILbILKGFCXbnaLf2fZRARfBdVBC5NhIPmXxaxA0T9Jhg/132","comment_is_top":false,"comment_ctime":1565926261,"is_pvip":false,"replies":[{"id":"63789","content":"MySQL 8.0 å–æ¶ˆçš„æ˜¯æŸ¥è¯¢ç¼“å­˜","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577541979,"ip_address":"","comment_id":124602,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5860893557","product_id":100029501,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ã€‚è¿™ä¸€èŠ‚è®²çš„æ•°æ®åº“ç¼“å­˜æ± å’Œæ–°ç‰ˆæœ¬MySQL8.0å–æ¶ˆçš„ç¼“å­˜æŒ‡çš„æ˜¯åŒä¸€ä¸ªä¸œè¥¿å—ï¼Ÿ<br>å¦‚æœæ˜¯çš„è¯ï¼Œé‚£è¿™èŠ‚è¯¾çš„å†…å®¹åªåœ¨æ—§ç‰ˆæœ¬çš„mysqlæˆç«‹ï¼Œåœ¨æ–°ç‰ˆæœ¬çš„mysqlï¼ˆå–æ¶ˆäº†ç¼“å­˜çš„ç‰ˆæœ¬ï¼‰å°±æ²¡ç”¨äº†ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":463245,"discussion_content":"MySQL 8.0 å–æ¶ˆçš„æ˜¯æŸ¥è¯¢ç¼“å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577541979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1573288,"avatar":"https://static001.geekbang.org/account/avatar/00/18/01/a8/2662a8d1.jpg","nickname":"å°ç™½é¼ ä¸¶","note":"","ucode":"76EFABC5DF8AEB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8908,"discussion_content":"MySQL8.0å–æ¶ˆçš„æ˜¯æŸ¥è¯¢ç¼“å­˜  è€Œä¸æ˜¯ç¼“å­˜æ± ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568097668,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":123776,"user_name":"è®¸ç«¥ç«¥","can_delete":false,"product_type":"c1","uid":1003005,"ip_address":"","ucode":"4B799C0C6BC678","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg","comment_is_top":false,"comment_ctime":1565754998,"is_pvip":false,"replies":[{"id":"45373","content":"å¯¹çš„ æ‰¹é‡å¤„ç†ï¼Œä»¥åŠç¼“å†²æ± æœºåˆ¶åœ¨ç³»ç»Ÿæ€§èƒ½è®¾è®¡ä¸­ä¼šç»å¸¸ç”¨åˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1565766993,"ip_address":"","comment_id":123776,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5860722294","product_id":100029501,"comment_content":"ä½ èƒ½è§£é‡Šä¸‹ç›¸æ¯”äºå•ä¸ªé¡µé¢çš„éšæœºè¯»ï¼Œä¸ºä»€ä¹ˆé¡ºåºè¯»å–æ—¶å¹³å‡ä¸€ä¸ªé¡µé¢çš„åŠ è½½æ•ˆç‡ä¼šæé«˜å—ï¼Ÿ<br>å’Œç¡¬ç›˜çš„ç»“æ„æœ‰å…³ï¼Œç¡¬ç›˜å¦‚æœè¯»å–è¿ç»­çš„é¡µï¼Œé‚£å¹³å‡å»¶æ—¶å’Œå¯»é“æ—¶é—´å¹³å‡åˆ°æ¯ä¸ªé¡µé¢å°±éå¸¸å°‘äº†ï¼Œç”šè‡³éå¸¸æ¥è¿‘è¯»å–ä¸€ä¸ªé¡µé¢çš„æ•ˆç‡ã€‚<br><br>å¦å¤–ï¼Œå¯¹äºä»Šå¤©å­¦ä¹ çš„ç¼“å†²æ± æœºåˆ¶å’Œæ•°æ®é¡µåŠ è½½çš„æ–¹å¼ï¼Œä½ æœ‰ä»€ä¹ˆå¿ƒå¾—ä½“ä¼šå—ï¼Ÿ<br>ç¼“å†²æœºåˆ¶åœ¨è®¡ç®—æœºæ€§èƒ½ä¼˜åŒ–éšå¤„å¯è§ï¼Œå…¶ç†è®ºä¾æ®å°±æ˜¯è®¡ç®—æœºçš„å±€éƒ¨æ€§åŸç†ï¼Œç©ºé—´å±€éƒ¨æ€§ï¼Œæ—¶é—´å±€éƒ¨æ€§ã€‚","like_count":1,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462810,"discussion_content":"å¯¹çš„ æ‰¹é‡å¤„ç†ï¼Œä»¥åŠç¼“å†²æ± æœºåˆ¶åœ¨ç³»ç»Ÿæ€§èƒ½è®¾è®¡ä¸­ä¼šç»å¸¸ç”¨åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565766993,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297432,"user_name":"çš®ç‰¹å°”","can_delete":false,"product_type":"c1","uid":1017161,"ip_address":"","ucode":"313862C91DD325","user_header":"https://static001.geekbang.org/account/avatar/00/0f/85/49/585c69c4.jpg","comment_is_top":false,"comment_ctime":1623550037,"is_pvip":false,"discussion_count":2,"race_medal":1,"score":"1623550037","product_id":100029501,"comment_content":"SSDä¸å­˜åœ¨é¡ºåºè¯»çš„é—®é¢˜ï¼Œæ‰€ä»¥æ•°æ®åº“ä¼˜åŒ–æœ‰ä¸€ä¸ªç®€å•ç²—æš´çš„æ–¹æ¡ˆï¼šä¸ŠSSD","like_count":0,"discussions":[{"author":{"id":2597449,"avatar":"https://static001.geekbang.org/account/avatar/00/27/a2/49/7e749be2.jpg","nickname":"Nick","note":"","ucode":"37E60C08183617","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390678,"discussion_content":"å¯¹å›ºæ€ç£ç›˜æ¥è¯´ï¼Œè™½ç„¶å®ƒçš„éšæœºæ€§èƒ½æ¯”æœºæ¢°ç¡¬ç›˜å¥½å¾ˆå¤šï¼Œä½†åŒæ ·å­˜åœ¨â€œå…ˆæ“¦é™¤å†å†™å…¥â€çš„é™åˆ¶ã€‚éšæœºè¯»å†™ä¼šå¯¼è‡´å¤§é‡çš„åƒåœ¾å›æ”¶ï¼Œæ‰€ä»¥ç›¸å¯¹åº”çš„ï¼Œéšæœº I/O çš„æ€§èƒ½æ¯”èµ·è¿ç»­ I/O æ¥ï¼Œä¹Ÿè¿˜æ˜¯å·®äº†å¾ˆå¤šã€‚æ­¤å¤–ï¼Œè¿ç»­ I/O è¿˜å¯ä»¥é€šè¿‡é¢„è¯»--è½¬è‡ªLinuxæ€§èƒ½ä¼˜åŒ–å®æˆ˜","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1629969111,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2962599,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/34/a7/52c4ea60.jpg","nickname":"å¹´å°‘æŒ½æ»‘ç¨½ä¸–æ— åŒ","note":"","ucode":"793DCBDE25A07B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2597449,"avatar":"https://static001.geekbang.org/account/avatar/00/27/a2/49/7e749be2.jpg","nickname":"Nick","note":"","ucode":"37E60C08183617","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587699,"discussion_content":"666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663228135,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":390678,"ip_address":"å››å·"},"score":587699,"extra":""}]}]},{"had_liked":false,"id":286669,"user_name":"Geek_dd3623","can_delete":false,"product_type":"c1","uid":2126054,"ip_address":"","ucode":"425D85E5DFFC85","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLg04lnicnUNWXFF2yyk7neSxl7fuI5LBZRYFRDEM8qhyPC3bDwFhz6FLx2NiaGFqa8ZpAz33Thj3cg/132","comment_is_top":false,"comment_ctime":1617468627,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617468627","product_id":100029501,"comment_content":"ç¼“å­˜æ± çš„æ•°æ®æ˜¯æ€ä¹ˆè¿›è¡Œæ·˜æ±°çš„å‘¢?  æ˜¯ç”¨ LRU ç®—æ³•å—","like_count":0},{"had_liked":false,"id":232424,"user_name":"ä½ çš„ä»£ç æœ‰çµé­‚å—ï¼Ÿ","can_delete":false,"product_type":"c1","uid":1688372,"ip_address":"","ucode":"0A276F30307965","user_header":"","comment_is_top":false,"comment_ctime":1594000789,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1594000789","product_id":100029501,"comment_content":"ç›¸æ¯”äºå•ä¸ªé¡µé¢çš„éšæœºè¯»å–ï¼Œé¡ºåºè¯»å–çš„é¡µé¢å¹³å‡è¯»å–æ—¶é—´æ›´å°‘çš„åŸå› æ˜¯ï¼šæ¯æ¬¡å•ä¸ªé¡µé¢éšæœºè¯»å–éƒ½è¦èŠ±è´¹ä¸å°‘æ—¶é—´ç”¨äºå¯»æ‰¾é¡µé¢æ‰€åœ¨çš„ä½ç½®ï¼Œè€Œé¡ºåºè¯»å–åªéœ€åœ¨å¼€å§‹æ—¶èŠ±è´¹ä¸€äº›æ—¶é—´å¯»æ‰¾ç¬¬ä¸€ä¸ªé¡µé¢çš„ä½ç½®ï¼Œä¹‹åå°±å¯ä»¥ç›´æ¥é¡ºåºè¯»å–äº†ï¼Œä¸ç”¨å†å»å¯»æ‰¾åç»­çš„é¡µé¢ä½ç½®ã€‚","like_count":0},{"had_liked":false,"id":230351,"user_name":"é™ˆæŸæ—","can_delete":false,"product_type":"c1","uid":1282562,"ip_address":"","ucode":"2636649821FAB9","user_header":"https://static001.geekbang.org/account/avatar/00/13/92/02/288a6b8c.jpg","comment_is_top":false,"comment_ctime":1593353947,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593353947","product_id":100029501,"comment_content":"æˆ‘å¯ä»¥ç†è§£æˆåˆ é™¤ä¹Ÿæ˜¯å…ˆæ“ä½œçš„æ•°æ®ç¼“å†²æ± å†å®šæ—¶æ›´æ–°åˆ°ç£ç›˜è¾¾åˆ°æ°¸ä¹…åˆ é™¤çš„æ•ˆæœå—ï¼Ÿè€Œåˆ é™¤ä¹Ÿå¯èƒ½åªæ˜¯æŠŠè®°å½•ä»é“¾è¡¨ï¼Œä½†å®é™…çš„æ•°æ®è¿˜å­˜åœ¨å†…å­˜ä¸­ï¼Œåªæ˜¯æˆ‘ä»¬æ²¡æœ‰åœ°å€æŒ‡å‘è¿™ä¸ªåœ°å€ï¼Œæ‰€ä»¥ç®—æ˜¯åˆ é™¤äº†","like_count":0},{"had_liked":false,"id":205949,"user_name":"UKNOW","can_delete":false,"product_type":"c1","uid":1887734,"ip_address":"","ucode":"FB048BA678DD67","user_header":"https://static001.geekbang.org/account/avatar/00/1c/cd/f6/30ff4666.jpg","comment_is_top":false,"comment_ctime":1586762599,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586762599","product_id":100029501,"comment_content":"â€œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯ MySQL MyISAM å­˜å‚¨å¼•æ“ï¼Œå®ƒåªç¼“å­˜ç´¢å¼•ï¼Œä¸ç¼“å­˜æ•°æ®ï¼Œå¯¹åº”çš„é”®ç¼“å­˜å‚æ•°ä¸º key_buffer_sizeï¼Œä½ å¯ä»¥ç”¨å®ƒè¿›è¡ŒæŸ¥çœ‹ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ InnoDB å­˜å‚¨å¼•æ“ï¼Œå¯ä»¥é€šè¿‡æŸ¥çœ‹ innodb_buffer_pool_size å˜é‡æ¥æŸ¥çœ‹ç¼“å†²æ± çš„å¤§å°â€  <br><br>è¿™å¥è¯ä¸å¤ªç†è§£ï¼Œ å­˜å‚¨å¼•æ“æ˜¯é’ˆå¯¹æ¯ä¸ªè¡¨è€Œä¸åŒçš„å§ï¼Œè€Œç¼“å†²æ± æ˜¯é’ˆå¯¹çœŸä¸ªæ•°æ®åº“å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":201931,"user_name":"qijj","can_delete":false,"product_type":"c1","uid":1231369,"ip_address":"","ucode":"AAE7BAD5DABEE2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLLn1y9RSL9JcACGRVkkhkEmjH7z1eiag763CVKwn3Mzb3djbibwbx0fgZqyBpPozGLOicnllSfydEng/132","comment_is_top":false,"comment_ctime":1585878818,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585878818","product_id":100029501,"comment_content":"oracle ä¹Ÿæ˜¯è¿™ä¹ˆå¤„ç†çš„å—ï¼Ÿ","like_count":1},{"had_liked":false,"id":201930,"user_name":"qijj","can_delete":false,"product_type":"c1","uid":1231369,"ip_address":"","ucode":"AAE7BAD5DABEE2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLLn1y9RSL9JcACGRVkkhkEmjH7z1eiag763CVKwn3Mzb3djbibwbx0fgZqyBpPozGLOicnllSfydEng/132","comment_is_top":false,"comment_ctime":1585878591,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1585878591","product_id":100029501,"comment_content":"last_query_cost æŸ¥è¯¢åˆ°çš„ç»“æœæ˜¯é¡µè¿˜æ˜¯æ‰§è¡Œè®¡åˆ’çš„è¯„åˆ†ï¼Ÿ çœ‹è€å¸ˆæ­£æ–‡çš„æ„æ€æ˜¯é¡µï¼Œè¿«åˆ‡å¸Œæœ›èƒ½ç»™ä¸ªæ˜ç¡®ç­”æ¡ˆ ","like_count":0,"discussions":[{"author":{"id":1111183,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f4/8f/06bd9544.jpg","nickname":"AlphaGao","note":"","ucode":"862000415389FE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303508,"discussion_content":"The total cost of the last compiled query as computed by the query optimizer. This is useful for comparing the cost of different query plans for the same query. The default value of 0 means that no query has been compiled yet. The default value is 0.\nIn MySQL 8.0.16 and later, this variable shows the cost of queries that have multiple query blocks, summing the cost estimates of each query block, estimating how many times non-cacheable subqueries are executed, and multiplying the cost of those query blocks by the number of subquery executions.\næ˜¯ä¸€ä¸ªç»¼åˆè¯„å®šå€¼ï¼Œå¯ä»¥è¯´æ˜¯è¯„åˆ†ï¼Œè¯´æ˜¯æŸ¥è¯¢çš„é¡µæ•°é‡å¥½åƒä¹Ÿå¯ä»¥","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1599288164,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":191141,"user_name":"fgdgtz","can_delete":false,"product_type":"c1","uid":1240401,"ip_address":"","ucode":"486CC4ACCC015C","user_header":"","comment_is_top":false,"comment_ctime":1584748729,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584748729","product_id":100029501,"comment_content":"ä½ å¥½è€å¸ˆï¼Œæˆ‘æƒ³é—®é—®å¦‚æœæ˜¯ order by å¤šä¸ªå­—æ®µæ’åºçš„æ‰§è¡Œæµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ<br>æ¯”å¦‚ æœ‰40000è¡Œ order by a desc,b desc limit 1000 ,aå­—æ®µæœ‰ç´¢å¼•ï¼Œbå­—æ®µæ— ç´¢å¼•ï¼Œaå­—æ®µä¿å­˜çš„æ˜¯æ—¶é—´æˆ³ï¼Œæœ‰å°‘éƒ¨åˆ†æ—¶é—´æˆ³æ˜¯åŒæ ·çš„ï¼Œæ­¤æ—¶explain ä¼šæœ‰ Using filesortï¼Œè¿™æ ·æ”¾å…¥sort_buffer æ˜¯40000è¡Œ è¿˜æ˜¯ å¤§äº1000è¡Œè€Œå°äº40000è¡Œå‘¢ï¼Ÿæˆ–æ˜¯æ‰«æäº†å¤šå°‘è¡Œï¼Ÿ","like_count":0},{"had_liked":false,"id":186387,"user_name":"jacksnow","can_delete":false,"product_type":"c1","uid":1264732,"ip_address":"","ucode":"49693079973EEF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEJafX5kNYJKpD9czE7pjYJtDWnuHeWQLtkfyAtPYUicbiafAUBvUqSnKTM3bahib1wURcRg2miaOFGnpQ/132","comment_is_top":false,"comment_ctime":1583833527,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583833527","product_id":100029501,"comment_content":"æˆ‘çœ‹å®˜ç½‘ä¸Šé¢è¯´ï¼Œbuffer poolçš„æ•°æ®ç»“æ„æ˜¯ä¸€ä¸ªlistçš„ç»“æ„ï¼Œlisté‡Œé¢å­˜å‚¨çš„pageï¼Œé‚£ä¹ˆä¸€ä¸ªsqlæ˜¯å¦‚ä½•å‘½ä¸­buffer poolä¸­ç¼“å­˜çš„pageçš„å‘¢ï¼Ÿå®˜ç½‘ä¸Šä¹Ÿæ²¡æœ‰è¯´æ˜åŸç†æ˜¯å•¥ï¼Œè€å¸ˆèƒ½è§£é‡Šä¸€ä¸‹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":186374,"user_name":"jacksnow","can_delete":false,"product_type":"c1","uid":1264732,"ip_address":"","ucode":"49693079973EEF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEJafX5kNYJKpD9czE7pjYJtDWnuHeWQLtkfyAtPYUicbiafAUBvUqSnKTM3bahib1wURcRg2miaOFGnpQ/132","comment_is_top":false,"comment_ctime":1583831530,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583831530","product_id":100029501,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜è¯·æ•™ä¸€ä¸‹:<br>å¦‚æœæ˜¯ä¸¤ä¸ªè¡¨è¿›è¡Œjoinæ“ä½œï¼Œæ¯”å¦‚<br>select a.*, b.* <br>from a join b on a.xxx = b.xxx &#47;&#47; ç¬¬ä¸€æ­¥<br>where a.id = &#39;xxxx&#39; &#47;&#47; ç¬¬äºŒæ­¥<br>ç¬¬ä¸€æ­¥æ˜¯è¿›è¡Œæ•°æ®ç»„è£…<br>ç¬¬äºŒéƒ¨æ˜¯è¿›è¡Œæ¡ä»¶ç­›é€‰.<br>æˆ‘çš„é—®é¢˜æ˜¯ï¼š<br>ç¬¬ä¸€æ­¥ç»„è£…æ•°æ®çš„æ„æ€æ˜¯ä¸æ˜¯åœ¨ç£ç›˜ä¸Šé€šè¿‡aå’Œbä¸¤ä¸ªè¡¨çš„ç£ç›˜é¡µç»„è£…æˆæ–°çš„ç£ç›˜é¡µï¼Œå¹¶ä¸”éœ€è¦æ–°åˆ†é…ç£ç›˜ç©ºé—´æ¥å­˜å‚¨è¿™äº›æ–°çš„ç£ç›˜é¡µï¼Ÿ<br>ç¬¬äºŒæ­¥æ˜¯å¦æ˜¯åœ¨æ–°ç»„è£…å‡ºæ¥çš„ç£ç›˜é¡µä¸­é€šè¿‡ç´¢å¼•è¿›è¡ŒæŸ¥è¯¢ï¼Œå¹¶å°†æŸ¥åˆ°çš„page loadåˆ°å†…å­˜ä¸­æ¥ï¼Ÿ","like_count":0},{"had_liked":false,"id":184008,"user_name":"æ—¶å…‰@1","can_delete":false,"product_type":"c1","uid":1585019,"ip_address":"","ucode":"0358732C5E80AE","user_header":"https://static001.geekbang.org/account/avatar/00/18/2f/7b/3f506234.jpg","comment_is_top":false,"comment_ctime":1583204280,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583204280","product_id":100029501,"comment_content":"æ–‡ä¸­æ€ä¹ˆè¯´ã€‚å¦‚æœç¼“å†²æ± ä¸­æ²¡æœ‰è¯¥é¡µæ•°æ®ï¼Œé‚£ä¹ˆç¼“å†²æ± æœ‰ä»¥ä¸‹ä¸‰ç§è¯»å–æ•°æ®çš„æ–¹å¼ï¼Œæ¯ç§æ–¹å¼çš„è¯»å–æ•ˆç‡éƒ½æ˜¯ä¸åŒçš„ï¼š","like_count":0},{"had_liked":false,"id":184007,"user_name":"æ—¶å…‰@1","can_delete":false,"product_type":"c1","uid":1585019,"ip_address":"","ucode":"0358732C5E80AE","user_header":"https://static001.geekbang.org/account/avatar/00/18/2f/7b/3f506234.jpg","comment_is_top":false,"comment_ctime":1583204254,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1583204254","product_id":100029501,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®ä¸‹æ•°æ®é¡µåŠ è½½çš„ä¸‰ç§æ–¹å¼ ç¬¬ä¸€ç§å†…å­˜è¯»å– å°±æ˜¯ä»ç¼“å†²æ± ä¸­è¯»æ•°æ®å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1706074,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/08/5a/4d709cf5.jpg","nickname":"Prayã€PF","note":"","ucode":"1E3E4073763490","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284993,"discussion_content":"ä¸æ˜¯ï¼Œæ˜¯åœ¨å†…å­˜ä¸­å´ä¸åœ¨ç¼“å†²æ± ä¸­ï¼Œç¼“å†²æ± æ˜¯å†…å­˜çš„ä¸€ä¸ªå­é›†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592707982,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1474214,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7e/a6/4e331ef4.jpg","nickname":"éª‘è¡Œçš„æŒæŸœJ","note":"","ucode":"3163102651C653","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":263111,"discussion_content":"ç¬¬ä¸€ç§å†…å­˜è¯»å–æ˜¯è¯´ å½“å‰ç¼“å†²æ± ä¸­æ²¡æœ‰ä½ ç°åœ¨è¦çš„æ•°æ®é¡µä¿¡æ¯ï¼Œè€Œæ­£å¥½å†…å­˜é‡Œé¢æœ‰è¿™ä¸ªæ•°æ®ï¼Œæ‰€ä»¥å°±ç›´æ¥ä»å†…å­˜ä¸­æŠŠè¯¥æ•°æ®åŠ è½½åˆ°å½“å‰ç¼“å†²æ± ä¸­å³å¯ä½¿ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589173380,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166498,"user_name":"æ—…é€”","can_delete":false,"product_type":"c1","uid":1212902,"ip_address":"","ucode":"5022477E8E9441","user_header":"https://static001.geekbang.org/account/avatar/00/12/81/e6/6cafed37.jpg","comment_is_top":false,"comment_ctime":1577459406,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577459406","product_id":100029501,"comment_content":"è€å¸ˆ ç¼“å­˜ä¸­çš„æ•°æ® å¦‚æœæ•°æ®åº“åœäº† è¿™ä¸ªæ•°æ®çš„å›å¤æ˜¯é æ—¥å¿—å—","like_count":0},{"had_liked":false,"id":163320,"user_name":"çˆ¬è¡Œçš„èœ—ç‰›","can_delete":false,"product_type":"c1","uid":1033956,"ip_address":"","ucode":"6623B62DE63CE9","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/QD6bf8hkS5dHrabdW7M7Oo9An1Oo3QSxqoySJMDh7GTraxFRX77VZ2HZ13x3R4EVYddIGXicRRDAc7V9z5cLDlA/132","comment_is_top":false,"comment_ctime":1576685375,"is_pvip":false,"replies":[{"id":"62650","content":"æ€»ç»“çš„ä¸é”™","user_name":"ä½œè€…å›å¤","user_name_real":"cy","uid":"1306094","ctime":1577081136,"ip_address":"","comment_id":163320,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576685375","product_id":100029501,"comment_content":"1. å› ä¸ºä¸€æ¬¡é¡ºåºè¯»å–çš„è¯ï¼Œå•æ¬¡è¯»å–çš„æ•°æ®é¡µæ¯”è¾ƒå¤§ï¼Œ è½å®åˆ°æ¯ä¸ªé¡µçš„å¹³å‡æ—¶é—´æ¯”è¾ƒä½ï¼Œ2. checkpoint çš„è½ç›˜æœºåˆ¶å°è±¡æ·±åˆ»ï¼Œ æœ‰ç‚¹ç±»ä¼¼å¼‚æ­¥çš„æœºåˆ¶ï¼›","like_count":0,"discussions":[{"author":{"id":1306094,"avatar":"https://static001.geekbang.org/account/avatar/00/13/ed/ee/c4779b67.jpg","nickname":"cy","note":"","ucode":"50D653399A31F6","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478346,"discussion_content":"æ€»ç»“çš„ä¸é”™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577081136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":154470,"user_name":"æ¢","can_delete":false,"product_type":"c1","uid":1267198,"ip_address":"","ucode":"29A10759821D96","user_header":"https://static001.geekbang.org/account/avatar/00/13/55/fe/e8fb06fb.jpg","comment_is_top":false,"comment_ctime":1574436857,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1574436857","product_id":100029501,"comment_content":"é‚£å­˜åœ¨ç¼“å­˜æ± æœºåˆ¶ï¼Œæˆ‘ä»¬åœ¨æ›´æ–°ä¸€æ¡è®°å½•æ—¶ï¼Œæ•°æ®åº“æ˜¯å¦ä¼šå…ˆå°†è¯¥é¡µè¯»åˆ°ç¼“å­˜ä¸­ï¼Œå†ä¿®æ”¹ç¼“å­˜ä¸­çš„é¡µé‡Œé¢å¯¹åº”çš„è®°å½•ï¼Œæœ€åç”±checkpointåˆ·å…¥ç£ç›˜å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":142992,"user_name":"é›ªé£é¸¿","can_delete":false,"product_type":"c1","uid":1012325,"ip_address":"","ucode":"65D7B030828809","user_header":"https://static001.geekbang.org/account/avatar/00/0f/72/65/68bd8177.jpg","comment_is_top":false,"comment_ctime":1571617624,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1571617624","product_id":100029501,"comment_content":"æ–‡ä¸­ä»¥MySQLä¸ºä¾‹è®²è§£ï¼ŒSQL Serverä¹Ÿæ˜¯è¿™æ ·å¤„ç†æ•°æ®çš„å—ï¼Ÿ<br>ä»€ä¹ˆæ ·çš„æ•°æ®æ”¾åˆ°äº†å†…å­˜ä½†ä¸æ”¾åˆ°ç¼“å†²æ± ï¼Ÿç¼“å†²æ± ä¹Ÿåœ¨å†…å­˜ä¸­ï¼Œä¸ºä»€ä¹ˆè¿˜è¦åŒºåˆ†æ•°æ®æ˜¯å¦å­˜åœ¨ä¸ç¼“å†²æ± ä¸­ï¼Ÿ","like_count":0},{"had_liked":false,"id":124723,"user_name":"ABC","can_delete":false,"product_type":"c1","uid":1054958,"ip_address":"","ucode":"7501AD9C0C4A70","user_header":"https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg","comment_is_top":false,"comment_ctime":1565951676,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565951676","product_id":100029501,"comment_content":"æ„Ÿè§‰ç¼“å†²æ± å¾ˆåƒMySQLé‡Œé¢çš„Redisã€‚ã€‚<br><br>è€å¸ˆï¼Œéšæœºè¯»å–çš„æ„æ€æ˜¯ä¸æ˜¯comment_id in (1001,10002,95230,5698)è¿™æ ·å•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":124328,"user_name":"èƒ¡ç²ç²","can_delete":false,"product_type":"c1","uid":1438315,"ip_address":"","ucode":"BA8C5190A13A74","user_header":"https://wx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEI9Fb9tYoBrjUa8zpvOTGibnKYI9fz1QnfXO1Dy5rp5DPJ7nQOHIIXzKOXet3DMqHNYIHJHyz6bm3g/132","comment_is_top":false,"comment_ctime":1565861494,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1565861494","product_id":100029501,"comment_content":"è€å¸ˆ,æœ‰ä¸ªé—®é¢˜è¯·æ•™ä¸€ä¸‹:<br>é¡¹ç›®ä¸­ä½¿ç”¨kafkaæ¥åšæ¶ˆæ¯ä¼ é€’,ç›‘æ§çš„ä¸»åº“çš„binlog;ä½†æ˜¯ç”±äºåŠŸèƒ½åœºæ™¯éœ€è¦å†æŸ¥è¯¢ä»åº“,è¿™æ—¶å€™ä¸»ä»å»¶è¿Ÿä¼šå¯¼è‡´æ•°æ®é—®é¢˜,å‡ºäº†é‡è¯•æœºåˆ¶è¿˜æœ‰å…¶ä»–è§£å†³åŠæ³•å—?<br>æ¯”å¦‚:èƒ½å¦åœ¨ä»åº“å†™å…¥æˆåŠŸä¹‹åå†å‘é€æ¶ˆæ¯","like_count":0},{"had_liked":false,"id":124048,"user_name":"Demon.Lee","can_delete":false,"product_type":"c1","uid":1052859,"ip_address":"","ucode":"7F0E5493A8E345","user_header":"https://static001.geekbang.org/account/avatar/00/10/10/bb/f1061601.jpg","comment_is_top":false,"comment_ctime":1565796846,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1565796846","product_id":100029501,"comment_content":"æ•°æ®é¡µçš„åŠ è½½æ–¹å¼ï¼Œæˆ‘å¯ä»¥æ‰‹å·¥è°ƒæ•´æ˜¯éšæœºè¯»å–è¿˜æ˜¯é¡ºåºè¯»å–å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":123939,"user_name":"asdf100","can_delete":false,"product_type":"c1","uid":1043738,"ip_address":"","ucode":"39D8D71453E575","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/ce7f7d54.jpg","comment_is_top":false,"comment_ctime":1565782909,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565782909","product_id":100029501,"comment_content":"å¯¹äºä¸Šé¢çš„é—®é¢˜æ˜¯ä¸æ˜¯æƒ³é—®çš„æ˜¯â€œæ‰€è°“é¡ºåºå¤šä¸ªé¡µï¼Œå¹³å‡ä¸‹æ¥æ¯ä¸ªé¡µçš„è¯»å–æ—¶é—´ä¸ºä»€ä¹ˆæ¯”éšæœºè¯»å–ä¸€ä¸ªé¡µçš„æ—¶å€™å°â€çš„ä¹ˆï¼Ÿå¦‚æœè¿™æ ·çš„è¯ï¼Œå°±å®¹æ˜“ç†è§£å¤šäº†ã€‚ä¸»è¦è¿˜æ˜¯å’Œç£ç›˜å­˜å‚¨åŸç†æœ‰å…³","like_count":0},{"had_liked":false,"id":123931,"user_name":"asdf100","can_delete":false,"product_type":"c1","uid":1043738,"ip_address":"","ucode":"39D8D71453E575","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/ce7f7d54.jpg","comment_is_top":false,"comment_ctime":1565782558,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565782558","product_id":100029501,"comment_content":"æ•°æ®ç¼“å†²æ± æ•°æ®æ¥æºï¼Œä¸€ç§æ˜¯å†…å­˜ï¼Œä¸€ç§æ˜¯ç£ç›˜ï¼Œå…¶ä¸­ç£ç›˜è¯»å–æ—¶ï¼Œåˆåˆ†ä¸ºéšæœºè¯»å–å’Œé¡ºåºè¯»å–ã€‚å¦å¤–æ•°æ®ç¼“å†²æ± ä¹Ÿæ˜¯ä¸€å—ç‰¹æ®Šçš„å†…å­˜ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœæºæ•°æ®åœ¨å†…å­˜çš„è¯ï¼Œç­‰äºå°†æ•°æ®ä»ä¸€å—å†…å­˜è½¬åˆ°äº†å¦ä¸€å—å†…å­˜é‡Œï¼Œè¿™æ ·ç†è§£å¯¹ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":123735,"user_name":"é©¬å“²å¯Œ","can_delete":false,"product_type":"c1","uid":1107917,"ip_address":"","ucode":"D6BDDFE3CC07ED","user_header":"https://static001.geekbang.org/account/avatar/00/10/e7/cd/08088f14.jpg","comment_is_top":false,"comment_ctime":1565748780,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565748780","product_id":100029501,"comment_content":"æ€æ ·æŠŠæ•°æ®å­˜æ”¾åœ¨æ•°æ®æ± ä¸­ï¼Œåˆæ€æ ·æ‰¹é‡çš„è¯»å–æ•°æ®å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":123729,"user_name":"ç©ºçŸ¥","can_delete":false,"product_type":"c1","uid":1013283,"ip_address":"","ucode":"C448E98238DD36","user_header":"https://static001.geekbang.org/account/avatar/00/0f/76/23/31e5e984.jpg","comment_is_top":false,"comment_ctime":1565748083,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565748083","product_id":100029501,"comment_content":"é¡ºåºè¯»å¿« ç£ç›˜æ‚¬è‡‚é™¤äº†ç¬¬ä¸€æ¬¡è½¬åŠåœˆ æ‰¾ç£é“ä¹‹åä¸ç”¨åšè¿™ä¸ªæ“ä½œäº†<br><br>è€å¸ˆé—®ä¸‹<br>1.innodb_buffer_pool_sizeæ˜¯å…¨éƒ¨ç¼“å­˜æ± å®ä¾‹çš„æ€»å¤§å°å—ï¼Ÿæ‰€æœ‰å®ä¾‹å‡åˆ†è¿™ä¸ª sizeå—ï¼Ÿ<br>2. mysqlæŸ¥è¯¢ä¹‹å‰ç‰ˆæœ¬æ˜¯å¼€å¯ç¼“å­˜å™¨çš„ è¿™ä¸ªè·Ÿç¼“å†²åŒºåŒºåˆ«æ˜¯å•¥ï¼Ÿ","like_count":0},{"had_liked":false,"id":123672,"user_name":"è’™å¼€å¼º","can_delete":false,"product_type":"c1","uid":1317706,"ip_address":"","ucode":"61B3183781B9F7","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/4a/f9df2d06.jpg","comment_is_top":false,"comment_ctime":1565742289,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565742289","product_id":100029501,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œè¿™ä¸ªç¼“å†²æ± é‡Œå­˜çš„æ˜¯ä¼˜åŒ–çš„è¯­å¥è¿˜æ˜¯æŸ¥è¯¢çš„ç»“æœé›†å‘¢","like_count":0}]}
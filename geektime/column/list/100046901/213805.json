{"id":213805,"title":"08 | 云上运维：云端究竟需不需要运维？需要怎样的运维？","content":"<p>你好，我是何恺铎。</p><p>谢谢你的努力和坚持，我们已经学习了IaaS篇中的大多数内容。今天是IaaS部分的最后一讲，我们来谈谈云上的运维工作。</p><h2>云端需要运维吗？</h2><p>既然要谈运维，我们得先回答这个必要性的问题。许多人都觉得，因为云服务大多都具有了非常高的可靠性和自动化程度，所以在云时代，运维就不那么重要了，甚至是可以省略的事情了。</p><p>这种观点有意无意地散播，其实会造成一些负面的影响。<strong>开发者会容易轻视运维工作的重要性，忽略架构设计中运维友好性问题；而从事运维方向的工程师们，可能更会有点儿焦虑，甚至于担心未来的职业生涯。</strong></p><p>但很显然，这是一种误解。云端当然需要运维，而且云上运维很重要。因为不管在什么样的运行环境下，运维的本质和需求都没有消失，一样要为业务保驾护航，要保证系统的正常运作、应对突发情况等等。</p><p>云时代的运维，正确的理解应该是这样的：<strong>云不但没有消灭运维，反而是助推了运维的发展</strong>。</p><p>这是因为，云的引入能够让我们在更高的层面去思考和解决问题。比如说，云端基础设施的存在，可以让运维从偏硬件服务器、偏物理机房的日常繁琐工作中解脱出来，更多地基于云在<strong>软件的层面</strong>，进行部署、监控、调整。而云上的高质量、高可用的服务，也能避免我们重复建设，不用自己造轮子，也大大减轻了运维负担。</p><!-- [[[read_end]]] --><p><span class=\"reference\">注意：底层的机房运维、基础架构运维仍然会继续存在，但会向头部的云供应商大规模集中。这属于云厂商的运维视角，是另一个宏大的话题，我们这里不多做讨论。</span></p><p><strong>所以，云其实是提高了运维的效率，改变了运维的形态。</strong></p><p>与此同时，由于云上运维的<strong>软件属性</strong>显著增强了，它就自然地和研发会有更强的融合。近期DevOps理念和云原生热潮的兴起，就说明了这一点。许多工作，你慢慢地会分不清它究竟是属于运维还是研发，因为两者的界限正在模糊。</p><p>另外，由于云独有的一些特点，它也会带来一些新的运维工作。比如我们课程中一直在涉及的<strong>成本控制</strong>，这也是云时代新运维所应当关注和包含的重要事项。因为云的成本消耗是动态、时刻发生着的，这和传统运维中的各类实时监控的对象，在形态上非常接近。</p><p>所以，云端需要运维吗？答案已经不言而喻了。</p><h2>云时代的运维利器</h2><p>工欲善其事，必先利其器。为了做好扎实的云上运维，首先我给你的一个建议是，你需要掌握云的<strong><span class=\"orange\">命令行工具</span></strong>。现在几乎每个云都推出了自己的命令行工具，比如AWS CLI、Azure CLI、阿里云CLI等等。</p><p>在前面各讲的例子中，为了便于你学习和理解，我都使用了公有云的网站门户来进行操作。但如果是在生产环境，你需要对很大规模的资源池逐个进行调整，或者同一件事情，你需要在不同时间反复地操作很多遍，那你就很可能需要将这些操作脚本化、程序化，这就需要用到云的命令行工具了。</p><p>虽然命令行工具有一定的学习曲线，但如果你熟悉了以后，其实是可以干脆利落地表达一个操作的。比如说，如果你要创建在<a href=\"https://time.geekbang.org/column/article/211071\">第6讲</a>的实验中，使用的虚拟机“vm1-in-vpc1”，你就可以使用下面的<strong>aliyun ecs命令</strong>来轻松表达：</p><pre><code>[client@clientVM ~]$ aliyun ecs CreateInstance --ImageId ubuntu_18_04_x64_20G_alibase_20191225.vhd --InstanceType ecs.g6.large --ZoneId cn-shanghai-e --VSwitchId vsw-uf6ls7t8l8lpt35xxxxxx\n{\n        &quot;InstanceId&quot;: &quot;i-uf6hn8z47kqve3xxxxxx&quot;,\n        &quot;RequestId&quot;: &quot;222DA83B-0269-44BF-A303-00CB98E4AB07&quot;\n}\n[client@clientVM ~]$ aliyun ecs StartInstance --InstanceId i-uf6hn8z47kqve3xxxxxx\n{\n        &quot;RequestId&quot;: &quot;8E4C43CA-8F36-422C-AEF1-14ED5023856D&quot;\n}\n</code></pre><p>现在各个云的CLI基本上都进化到了第二代，相比第一代，CLI在易用性和表达能力上都有了很大的提升，你不妨学习尝试一下。而且这些CLI都能和Shell编程进行比较好的融合，你可以通过脚本组合多个关联的操作。</p><p><span class=\"reference\">小提示：除了命令行工具，各云还都提供了开发者工具包（SDK）。如果你的资源调度逻辑相当复杂，或者需要与你自己的程序集成，那么你可以考虑使用相应语言的SDK，来进行云上的一些资源管理操作。</span></p><p>如果你要频繁地在云上部署一套包含众多资源项的复杂系统，你还有另外一个得力的帮手：<strong><span class=\"orange\">资源编排类云服务</span></strong>。属于这个领域的服务包括有AWS CloudFormation、 Azure的ARM Template、阿里云资源编排服务（ROS）等等，它们都可以通过使用一个JSON格式的文本文件，来描述和定义一个系统中所有的组件，以及它们互相之间的关系。</p><p>这个JSON文件，就是一个可以自动部署、可复用的单元了。这其实就是“基础设施即代码”（Infrastructure as Code）理念在云端的实现。</p><p>下面我给出了一个Azure的ARM Template的配置文件局部示例，可以让你有一个直观的感受：</p><pre><code>{\n    &quot;$schema&quot;: &quot;https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#&quot;,\n    &quot;contentVersion&quot;: &quot;1.0.0.0&quot;,\n    &quot;parameters&quot;: {\n      &quot;adminUsername&quot;: {\n        &quot;type&quot;: &quot;string&quot;,\n        &quot;metadata&quot;: { &quot;description&quot;: &quot;This is the username you wish to assign to your VMs admin account&quot; }\n      },      \n      ...\n    },\n    &quot;variables&quot;: {\n      &quot;nicName&quot;: &quot;VMNic&quot;,\n      &quot;addressPrefix&quot;: &quot;10.0.0.0/16&quot;,\n      &quot;imagePublisher&quot;: &quot;Canonical&quot;,\n      ...      \n    },\n    &quot;resources&quot;: [\n      {\n        &quot;apiVersion&quot;: &quot;2015-05-01-preview&quot;,\n        &quot;type&quot;: &quot;Microsoft.Network/publicIPAddresses&quot;,\n        &quot;name&quot;: &quot;[variables('publicIPAddressName')]&quot;,\n        &quot;location&quot;: &quot;[parameters('location')]&quot;,\n        &quot;properties&quot;: { &quot;publicIPAllocationMethod&quot;: &quot;[variables('publicIPAddressType')]&quot; }\n      },      \n      {\n        &quot;apiVersion&quot;: &quot;2015-05-01-preview&quot;,\n        &quot;type&quot;: &quot;Microsoft.Network/virtualNetworks&quot;,\n        &quot;name&quot;: &quot;[variables('virtualNetworkName')]&quot;,\n        &quot;location&quot;: &quot;[parameters('location')]&quot;,\n        &quot;dependsOn&quot;: [\n          &quot;[resourceId('Microsoft.Network/networkSecurityGroups', variables('networkSecurityGroupName'))]&quot;\n        ],\n        &quot;properties&quot;: { ... }\n      },\n      {\n        &quot;apiVersion&quot;: &quot;2017-03-30&quot;,\n        &quot;type&quot;: &quot;Microsoft.Compute/virtualMachines&quot;,\n        &quot;name&quot;: &quot;[variables('vmName')]&quot;,\n        &quot;location&quot;: &quot;[parameters('location')]&quot;,\n        &quot;dependsOn&quot;: [ &quot;[concat('Microsoft.Network/networkInterfaces/', variables('nicName'))]&quot; ],\n        &quot;properties&quot;: {\n          &quot;hardwareProfile&quot;: { &quot;vmSize&quot;: &quot;[parameters('vmSize')]&quot; },\n          &quot;networkProfile&quot;: {\n            &quot;networkInterfaces&quot;: [\n              { &quot;id&quot;: &quot;[resourceId('Microsoft.Network/networkInterfaces',variables('nicName'))]&quot; }\n            ]\n          },\n          ...\n        }\n      },\n      ...\n    ]\n  }\n</code></pre><p><span class=\"reference\">注：这个文件是用于配置单机WordPress网站的模板，这里略去了许多内容，其全貌可以参见<a href=\"https://github.com/Azure/azure-quickstart-templates/blob/master/wordpress-single-vm-ubuntu/azuredeploy.json\">这个链接</a>。</span></p><p>这类资源编排服务，理论上能够<strong>支持云上所有服务的组合，而且配置节点互相能够引用</strong>，功能十分强大。它还具有一定的灵活性，一般都有<strong>输入参数字段</strong>，允许你在部署时动态决定一些选项和参数值，还可以<strong>自定义结果输出字段</strong>，方便部署完成后告诉你一些结果信息。</p><p>在这类资源编排部署系统的帮助下，我们云端部署类的工作可以得到极大的自动化。</p><h2>云运维由哪些工作组成？</h2><p>有了趁手的工具之后，我们下一个需要讨论的问题就是，<strong>云时代的运维具体有哪些重要的工作呢？哪些是和传统运维一脉相承的事情，哪些又是在云环境下所特有的内容呢？</strong></p><p>现在，我就和你一起来简单梳理一下。</p><p><strong>首先，在云端，传统的运维工作仍然存在，其中包括你所熟知的监控、部署、升级、备份等等。</strong>只是操作手段会有所不同，比如在云上，我们可以利用前面说到的命令行工具和资源模板来进行部署。</p><p><strong><span class=\"orange\">监控</span></strong>一直是运维最核心的工作之一。几乎所有的云端服务都自带有一定的监控功能，默认提供了不少内置的维度指标和可视化图表，这些开箱即用的图表你要充分利用好，它们能够很好地帮助你了解相关服务的状态。</p><p>那么，如果自带的监控不够用怎么办？其实这些默认的统计监控的背后，往往都是由云的一个<strong>大型统一监控服务</strong>来支撑的，如AWS的CloudWatch和Azure的Monitor等等。你可以好好研究一下这类统一监控服务，通过它可以满足你更深度的自定义监控需求。</p><p>另外，这些你精心选择和设置的监控项，还能够和云上的仪表盘服务，以及报警服务联动，轻松实现运营监控的“大屏”和问题的实时报警。</p><p><img src=\"https://static001.geekbang.org/resource/image/cb/a6/cb3d812198998cd4cce5bfe6b72024a6.jpg?wh=1603*910\" alt=\"\"></p><center><span class=\"reference\">Azure上的自定义监控仪表盘示例</span></center><p>这里我还想再多谈一谈<strong><span class=\"orange\">备份</span></strong>。</p><p>备份是一个简单但又很容易被我们忽视的事项。即便是在云端，尽管云厂商已经做了许多如三副本之类的防护措施，但还是会存在出故障的可能，所以我们仍然需要做好备份，尤其是重要数据的备份。<strong>总之，我们在云上需要创造多层次的冗余，而备份在创造冗余方面也承担着重要的角色，有的时候，它会是我们的最后保障。</strong></p><p>在IaaS的虚拟机层面做备份，你的得力助手会是<strong>镜像</strong>和<strong>快照</strong>。</p><p>镜像我们在<a href=\"https://time.geekbang.org/column/article/212714\">上一讲</a>中已经接触过了，它可以用来恢复虚拟机；快照则是云磁盘级别对应的备份概念，它可以帮助你将某块磁盘某一时刻的状态进行封存和恢复，你还可以定期定时为一些重要磁盘自动生成快照。</p><p><img src=\"https://static001.geekbang.org/resource/image/c5/db/c57c8f11c1c1b3cda41c8b442f7621db.jpg?wh=853*176\" alt=\"\"></p><p><span class=\"reference\">注意：不要小看镜像和快照这样简单基础的操作，像在<a href=\"https://time.geekbang.org/column/article/210423\">第5讲</a>中提到过的创业公司严重事故，就完全可以通过简单的磁盘快照进行避免。因为快照的存储本身不依赖于云盘，这就是额外的冗余。</span></p><p>除了虚拟机和磁盘层面，文件层面的备份同样重要而有效。而且文件的备份最好还能以异地的方式来存储。云上的对象存储可以在这方面肩负重任，我在PaaS篇中会做专门讲解。</p><p><strong>其次，你的运维工作中很可能包含<span class=\"orange\">迁移</span>。</strong></p><p>这是带有云端特色的运维任务，因为<strong>只要不是在云上创建的全新业务，传统业务在逐步上云的过程中一定会面临迁移工作</strong>。</p><p>迁移显然是非常大的一个话题，有些复杂的迁移项目，持续的时间可能长达几个月。这里我想告诉你两点<strong>最核心</strong>的建议：</p><ul>\n<li>第一，在生产业务切换过来之前，一定要对云上的新架构、新方案进行充分而深入的POC测试，不可操之过急。对于复杂场景，可能要通过不断地实践，才能够逐步进化出完善的云上解决方案。</li>\n<li>第二，对于一些虚拟机、数据库等独立的软硬件单元，许多云厂商都提供了官方的迁移服务或工具，支持离线甚至在线迁移，妥善使用可以事半功倍。比如AWS的主机迁移服务SMS（Server Migration Service）、数据库迁移服务DMS（Database Migration Service）和阿里云的数据传输服务DTS（Data Transmission Service）等。</li>\n</ul><p>所以，当你遇到一些迁移场景时，不妨先查一查云厂商是否有官方的支持。由于迁移类服务能够直接为厂商导流获客，所以云厂商一般都会比较重视，往往能给你提供相当好的用户体验。</p><p><strong>再次，云上的运维会包含和云厂商进行<span class=\"orange\">对接</span>的工作。</strong></p><p>毕竟我们的大厦是建立在云厂商所提供的基础设施之上的。云虽然已经高度成熟，但作为一个高度复杂的系统，也总难免会有不按你所期望进行工作的时候，或者极为偶尔也会出些小Bug，这时和云厂商的对接渠道就显得尤为重要了。</p><p>所以，我们的运维团队中需要有相应的角色对云的工单机制，以及技术支持侧的对接方式了然于胸，以备不时之需。你也要熟读文档，要吃透云计算的许多特性，这样才能更准确地与客服沟通，更快地寻求到对口的帮助，最后解决好问题。</p><p><strong>最后，云上运维会具有很强的<span class=\"orange\">管理</span>属性。</strong></p><p>这里的管理，指的不仅仅是对云上资源的管理，更要深入到流程和制度的管理层面。比如对于云资源的命名、开通、清理等日常操作的规范，各类云上安全的控制和最佳实践，所有云资源的负责人、所属资源组和权限体系等等。这些都需要有效的管理手段，才能避免资源在云上的野蛮生长。</p><p><strong>所以，高明的云上运维，既要为应用开发赋能，要足够高效，也要有适当的管理和约束。我们团队的组织架构和分工，最好也能够配合和适应这个需要。</strong></p><p>好在云厂商也在不断推出和完善与云上管理相关的配套服务，比如说，Azure Policy能够限定只有某类型号的资源可以被创建，还可以扫描和检查各种最佳实践是否得到了应用；再比如，AWS CloudTrail能够对账户内的操作进行监控和审计。如果你的组织内用户（团队成员）较多，就值得好好探索研究一下这一类的云服务。</p><p>当然，管理层面还有一项重要事务，就是我们多次提到的<strong>成本管理</strong>。公司或团队中，应当有专人对成本进行监控和分析，以此提升每一位用户的成本意识。我自己曾使用的实践，是按月来组织资源的使用方进行成本消耗的回顾，分析资源使用的上升、下降趋势及其主要原因，同时还会检查月度账单明细，以杜绝成本浪费。</p><h2>课堂总结与思考</h2><p>今天这一讲，与其说是教程，不如说是和你一起探讨云上运维的相关要点。因为篇幅所限，今天我主要总结介绍了那些最重要的，和你最需要了解的内容，没有办法深入探究每一个与运维相关的细节。但你必须知道这些事务的存在，明白云上运维需要做哪些事情，这样在你需要的时候，才能有针对性地去查找资料，找到怎么做这些事情的方法。</p><p>当前业界的一个重要趋势是，运维和开发的边界正在模糊。所以我在前面提到的诸多运维工作，可能是由开发者来负责，也可能是运维人员来承担。这要根据你们公司和部门的具体情况来决定。但至少，这些工作很重要，无论由什么角色来完成，总是需要有人来扎实落地的。</p><p>所以从个人视角来看，作为开发者，你应该学习和掌握一些运维的知识和技巧，让自己变得更加全面和综合；如果作为运维人员，你也应该学习了解现代软件构建和系统架构方面的知识，尤其是学习云、掌握云，为云端架构的全面到来做好准备。</p><p><strong>今天留给你的思考题是：</strong></p><ul>\n<li>如果要执行一些云上的CLI命令，你当然可以在自己的机器上安装命令行工具包，但其实你还可以使用不少云都提供的非常方便的“Cloud Shell”。那你知道什么是Cloud Shell，以及要如何使用它吗？</li>\n<li>前面讲到云上资源管理时，我提到了“资源组”的概念。你知道资源组是什么吗？它起到什么作用呢？</li>\n</ul><p>好，至此我们课程IaaS部分的8篇内容就全部结束了，希望你有所收获。下一讲，我们将进入精彩的PaaS世界。欢迎你留言与我交流，咱们下期再见。</p>","comments":[{"had_liked":false,"id":191037,"user_name":"何恺铎","can_delete":false,"product_type":"c1","uid":1011765,"ip_address":"","ucode":"D7EDA2A7A8978E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","comment_is_top":true,"comment_ctime":1584719339,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"9.2233721114539008e+18","product_id":100046901,"comment_content":"[上讲问题参考回答] <br>1. “会话保持”用于保证客户端的多次连接都能够到达同一台后端机器，这样在负载均衡之后的应用服务可轻松实现和同一个客户的持续“会话”(Session)。在实现层面，负载均衡器主要通过IP地址信息或HTTP协议中的cookie来标记和定向客户端请求。<br>2. 包年包月虚拟机，和竞价示例虚拟机，都可以参与到弹性伸缩类服务中。前者常用作“保底”的机器，后者推荐作为按需创建的机型，这样结合起来可以最大化节约成本。","like_count":18,"discussions":[{"author":{"id":1205253,"avatar":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","nickname":"我来也","note":"","ucode":"773D6104F56767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211068,"discussion_content":"保底这个策略我喜欢.\n我现在的k8s中,就有一台是保底了,保持服务可用.\n后面如果要临时扩充, 就买竞价实例.\n想想2毛钱不到每小时的价格,4CPU 32G内存的配置,哈哈.\n多买几种不同规格的,也不会都同时被回收.","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584802200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":191891,"user_name":"摇滚诗人M","can_delete":false,"product_type":"c1","uid":1322082,"ip_address":"","ucode":"764F4EF205C406","user_header":"https://static001.geekbang.org/account/avatar/00/14/2c/62/94688493.jpg","comment_is_top":false,"comment_ctime":1584802711,"is_pvip":false,"replies":[{"id":"73793","content":"你好。在我们专栏的开篇词中已经提到了，这个专栏专注于“用云”而不是“做云”。如果你想了解云计算的实现，可以看看极客时间上刘超老师的Linux专栏，里面对虚拟化有精彩的介绍。如果想要更加深入，可以考虑直接啃一啃KVM、OpenStack这样的开源项目，学习文档和源码。<br><br>回到“用云”的角度，也请不要忽视专栏讨论的诸多“概念”。这些概念的诞生初衷、技术本质、产品形态和应用场景，正是云计算的核心知识体系，是我们需要了解和掌握的。","user_name":"作者回复","user_name_real":"何恺铎","uid":"1011765","ctime":1584973764,"ip_address":"","comment_id":191891,"utype":1}],"discussion_count":2,"race_medal":0,"score":"61714344855","product_id":100046901,"comment_content":"都是一些概念性介绍的文章，请问有在深入一点的关于技术实现层面的文章吗？","like_count":15,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"何恺铎","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488279,"discussion_content":"你好。在我们专栏的开篇词中已经提到了，这个专栏专注于“用云”而不是“做云”。如果你想了解云计算的实现，可以看看极客时间上刘超老师的Linux专栏，里面对虚拟化有精彩的介绍。如果想要更加深入，可以考虑直接啃一啃KVM、OpenStack这样的开源项目，学习文档和源码。\n\n回到“用云”的角度，也请不要忽视专栏讨论的诸多“概念”。这些概念的诞生初衷、技术本质、产品形态和应用场景，正是云计算的核心知识体系，是我们需要了解和掌握的。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584973764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1216016,"avatar":"https://static001.geekbang.org/account/avatar/00/12/8e/10/10092bb1.jpg","nickname":"Luke","note":"","ucode":"C34D4C44DBCE03","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583151,"discussion_content":"单单是把云服务配置好、用好就已经涉及了很多内容了，老师也得照顾我们这种没怎么接触过这块的人吧。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659934612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"中国香港"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190749,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1584689671,"is_pvip":true,"replies":[{"id":"73347","content":"是的，省去了创建虚拟机、安装云上CLI的麻烦。","user_name":"作者回复","user_name_real":"何恺铎","uid":"1011765","ctime":1584719566,"ip_address":"","comment_id":190749,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31649460743","product_id":100046901,"comment_content":"<br>Cloud Shell 基于云的 Shell ，可以直接在浏览器上或者app内使用的命令行进行操作","like_count":7,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"何恺铎","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488051,"discussion_content":"是的，省去了创建虚拟机、安装云上CLI的麻烦。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584719566,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190381,"user_name":"我来也","can_delete":false,"product_type":"c1","uid":1205253,"ip_address":"","ucode":"773D6104F56767","user_header":"https://static001.geekbang.org/account/avatar/00/12/64/05/6989dce6.jpg","comment_is_top":false,"comment_ctime":1584634335,"is_pvip":false,"replies":[{"id":"73346","content":"没错，善用资源组，能让云上资源井井有条。","user_name":"作者回复","user_name_real":"何恺铎","uid":"1011765","ctime":1584719496,"ip_address":"","comment_id":190381,"utype":1}],"discussion_count":1,"race_medal":0,"score":"31649405407","product_id":100046901,"comment_content":"资源组，正好是我最近在用的东西。<br>可以把不同的云资产归宿到不同的组，可以针对组设置一些规则，还可以方便的统计资源组内的整体费用支出。<br>有了它，就不再是笼统的一本糊涂账了。<br>知道那部分花的多了，可以有针对性的优化。","like_count":7,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"何恺铎","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487965,"discussion_content":"没错，善用资源组，能让云上资源井井有条。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584719496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190424,"user_name":"leslie","can_delete":false,"product_type":"c1","uid":1324255,"ip_address":"","ucode":"798E7C1CC98CC2","user_header":"https://static001.geekbang.org/account/avatar/00/14/34/df/64e3d533.jpg","comment_is_top":false,"comment_ctime":1584658928,"is_pvip":false,"replies":[{"id":"73350","content":"赞总结。<br>关于监控和备份，云厂商的功能是否足够取决于你的具体需求。但一个事实是，许多用户对云这方面的内置能力还都没有充分地了解和使用。","user_name":"作者回复","user_name_real":"何恺铎","uid":"1011765","ctime":1584719983,"ip_address":"","comment_id":190424,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23059495408","product_id":100046901,"comment_content":"不知道老师是否有这种感觉：上云之后似乎只要规划、部署和迁移。可能现实中确实看到了许多，觉得监控和备份-用好云厂商的就够了？不知道老师对此如何去看待，至少个人是觉得不够。<br>可能课程一路学习一路发现问题吧：CLI应当是更合乎云系统&#47;环境的制定化编程，就像老师开课时让我们寻找操作系统时去选择云厂商的linux系统。其实如果明白且会shell,换手其实很快的，这个就像真正掌握SQL语言，关系型数据库之间的轮换使用只要几天就够了；曾经有过3种以上关系型数据库全部在生产中使用的经历。<br>云上的资源组：主机监控中我们会看到许多硬件情况；资源组最简单的概念就是你所有拥有资源的组合，包括cpu、硬盘、内存，让你去明白这些东西在某种状态下的使用率以及是否合理。不过其实个人去看过不少；其中解决的层次只能是Public的东西。<br>概念的模糊其实源自去过分追求某个名字：就像有些觉得自己有敏捷开发有问题，不断努力，几年后还不满意，要做DevOps；可是咨询过后发现其实已经做成了90的DevOps了，只需稍微调整一下就好了。为了做而做反而会去迷失其本性的东西。<br>谢谢老师今天的分享：IaaS篇让我受益良多；至少我明确的知道要做什么了。","like_count":5,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"何恺铎","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487975,"discussion_content":"赞总结。\n关于监控和备份，云厂商的功能是否足够取决于你的具体需求。但一个事实是，许多用户对云这方面的内置能力还都没有充分地了解和使用。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584719983,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190492,"user_name":"夜空中最亮的星","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1584664549,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14469566437","product_id":100046901,"comment_content":"老师这一篇打消了我心中的恐惧，运维不是在消失，而是在升级","like_count":3},{"had_liked":false,"id":201267,"user_name":"艾利特-G","can_delete":false,"product_type":"c1","uid":1195204,"ip_address":"","ucode":"8C4DA0ABE77CDC","user_header":"https://static001.geekbang.org/account/avatar/00/12/3c/c4/4ee2968a.jpg","comment_is_top":false,"comment_ctime":1585742207,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10175676799","product_id":100046901,"comment_content":"资源组是成本管理里的重要逻辑单位。<br>云上的每个资源对象都应该被纳入相应的资源组。比如我公司有2个事业部，就可以创建2个资源组，各自使用的计算，存储，网络类资源在财务上就和事业部关联起来了。","like_count":2},{"had_liked":false,"id":191957,"user_name":"mrtwenty","can_delete":false,"product_type":"c1","uid":1147444,"ip_address":"","ucode":"FD1425A5E62505","user_header":"https://static001.geekbang.org/account/avatar/00/11/82/34/c47ccbeb.jpg","comment_is_top":false,"comment_ctime":1584805601,"is_pvip":false,"replies":[{"id":"73788","content":"当然是可以的，对象存储的重要应用场景之一就是文件备份。第10讲我们会专门讨论对象存储。","user_name":"作者回复","user_name_real":"何恺铎","uid":"1011765","ctime":1584970851,"ip_address":"","comment_id":191957,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10174740193","product_id":100046901,"comment_content":"老师，阿里云的oss能否存放数据库的备份文件 ，我想做一个定时任务，从ecs服务器里面将数据库到处备份到oss里。","like_count":2,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"何恺铎","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488297,"discussion_content":"当然是可以的，对象存储的重要应用场景之一就是文件备份。第10讲我们会专门讨论对象存储。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584970851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":191896,"user_name":"Eric","can_delete":false,"product_type":"c1","uid":1668357,"ip_address":"","ucode":"C441E2038B032E","user_header":"https://static001.geekbang.org/account/avatar/00/19/75/05/baf4beae.jpg","comment_is_top":false,"comment_ctime":1584802769,"is_pvip":false,"replies":[{"id":"73789","content":"我比较看好Cloud MSP的市场和业务。因为总体云计算的盘子在增长，而且对于许多传统企业来说这是个新生事物，需要帮助和指导，这里就有Cloud MSP的空间了。<br><br>另外，从商业模式上来讲，Cloud MSP如果有一些自研的产品，产品加咨询的方式来售卖，会更有发展潜力。","user_name":"作者回复","user_name_real":"何恺铎","uid":"1011765","ctime":1584971001,"ip_address":"","comment_id":191896,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10174737361","product_id":100046901,"comment_content":"老师，怎么看云管理服务商，cloud MSP的发展？上云后，客户对云上运维的需求少了很多，很少的人，做更多的事情，运维的路变窄了","like_count":2,"discussions":[{"author":{"id":1011765,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/70/35/28758547.jpg","nickname":"何恺铎","note":"","ucode":"D7EDA2A7A8978E","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488281,"discussion_content":"我比较看好Cloud MSP的市场和业务。因为总体云计算的盘子在增长，而且对于许多传统企业来说这是个新生事物，需要帮助和指导，这里就有Cloud MSP的空间了。\n\n另外，从商业模式上来讲，Cloud MSP如果有一些自研的产品，产品加咨询的方式来售卖，会更有发展潜力。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584971001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190408,"user_name":"戴斌","can_delete":false,"product_type":"c1","uid":1119385,"ip_address":"","ucode":"7DC53BEA432217","user_header":"https://static001.geekbang.org/account/avatar/00/11/14/99/5b1ed92b.jpg","comment_is_top":false,"comment_ctime":1584640389,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5879607685","product_id":100046901,"comment_content":"对运维提出来更高要求","like_count":1},{"had_liked":false,"id":349688,"user_name":"Geek_761876","can_delete":false,"product_type":"c1","uid":2989416,"ip_address":"","ucode":"D87D0B6D815DE1","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLia17ibYsLic20bEFNkvObLpXicfUpYd9OeWvKxml0rNic3NDyRQ6KHl7wtEp0x993tJsTDsLHX2UHRYw/132","comment_is_top":false,"comment_ctime":1656229822,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1656229822","product_id":100046901,"comment_content":"对于迁移，老师有推荐的比较干货的课程活资料吗？","like_count":0},{"had_liked":false,"id":205969,"user_name":"胖子","can_delete":false,"product_type":"c1","uid":1037760,"ip_address":"","ucode":"E6371346288A87","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLIuRQaZX70dsBg6khub2VPM1eQAP9IWRWxgOFed3ia4kXyNJInFRicWJ0ibf2YmLsOvJa1sGygGpmJg/132","comment_is_top":false,"comment_ctime":1586765489,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1586765489","product_id":100046901,"comment_content":"资源编排类云服务与k8s是何关系？里面包涵应用的自动化部署吗？","like_count":0,"discussions":[{"author":{"id":1676631,"avatar":"https://static001.geekbang.org/account/avatar/00/19/95/57/a2991536.jpg","nickname":"一省吾身","note":"","ucode":"D902357160BBD9","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553312,"discussion_content":"云资源的自动部署","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645846548,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":191714,"user_name":"戴斌","can_delete":false,"product_type":"c1","uid":1119385,"ip_address":"","ucode":"7DC53BEA432217","user_header":"https://static001.geekbang.org/account/avatar/00/11/14/99/5b1ed92b.jpg","comment_is_top":false,"comment_ctime":1584791962,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584791962","product_id":100046901,"comment_content":"等待期待更新","like_count":0},{"had_liked":false,"id":191712,"user_name":"丁乐洪","can_delete":false,"product_type":"c1","uid":1264392,"ip_address":"","ucode":"549CE57AB20B49","user_header":"https://static001.geekbang.org/account/avatar/00/13/4b/08/52954cd7.jpg","comment_is_top":false,"comment_ctime":1584791649,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584791649","product_id":100046901,"comment_content":"专栏看下来，跟运维相关内容比较多，期待专栏有跟开发部署等相关内容","like_count":0},{"had_liked":false,"id":190732,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1584688247,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1584688247","product_id":100046901,"comment_content":"我认为现在的云上运维要充分的了解云提供的各种服务，以及这些服务怎么组合在对外提供服务（必须要熟读文档）","like_count":0}]}
{"id":245022,"title":"93 | é¡¹ç›®å®æˆ˜äºŒï¼šè®¾è®¡å®ç°ä¸€ä¸ªé€šç”¨çš„æ¥å£å¹‚ç­‰æ¡†æ¶ï¼ˆåˆ†æï¼‰","content":"<p>ä¸Šä¸‰èŠ‚è¯¾ï¼Œæˆ‘å¸¦ä½ åˆ†æã€è®¾è®¡ã€å®ç°äº†ä¸€ä¸ªæ¥å£é™æµæ¡†æ¶ã€‚åœ¨åˆ†æé˜¶æ®µï¼Œæˆ‘ä»¬è®²åˆ°éœ€æ±‚åˆ†æçš„ä¸¤å¤§æ–¹é¢ï¼ŒåŠŸèƒ½æ€§éœ€æ±‚åˆ†æå’ŒéåŠŸèƒ½æ€§éœ€æ±‚åˆ†æã€‚åœ¨è®¾è®¡é˜¶æ®µï¼Œæˆ‘ä»¬è®²äº†å¦‚ä½•é€šè¿‡åˆç†çš„è®¾è®¡ï¼Œåœ¨å®åŠŸèƒ½æ€§éœ€æ±‚çš„å‰æä¸‹ï¼Œæ»¡è¶³æ˜“ç”¨ã€æ˜“æ‰©å±•ã€çµæ´»ã€é«˜æ€§èƒ½ã€é«˜å®¹é”™ç­‰éåŠŸèƒ½æ€§éœ€æ±‚ã€‚åœ¨å®ç°é˜¶æ®µï¼Œæˆ‘ä»¬è®²äº†å¦‚ä½•åˆ©ç”¨è®¾è®¡æ€æƒ³ã€åŸåˆ™ã€æ¨¡å¼ã€ç¼–ç è§„èŒƒç­‰ï¼Œç¼–å†™å¯è¯»ã€å¯æ‰©å±•ç­‰é«˜è´¨é‡çš„ä»£ç å®ç°ã€‚</p><p>ä»ä»Šå¤©å¼€å§‹ï¼Œæˆ‘ä»¬æ¥å®æˆ˜ä¸€ä¸ªæ–°çš„é¡¹ç›®ï¼Œå¼€å‘ä¸€ä¸ªé€šç”¨çš„æ¥å£å¹‚ç­‰æ¡†æ¶ã€‚è·Ÿé™æµæ¡†æ¶ä¸€æ ·ï¼Œæˆ‘ä»¬è¿˜æ˜¯åˆ†ä¸ºåˆ†æã€è®¾è®¡ã€å®ç°ä¸‰ä¸ªéƒ¨åˆ†ï¼Œå¯¹åº”ä¸‰èŠ‚è¯¾æ¥è®²è§£ã€‚</p><p>è¯ä¸å¤šè¯´ï¼Œè®©æˆ‘ä»¬æ­£å¼å¼€å§‹ä»Šå¤©çš„å­¦ä¹ å§ï¼</p><h2>éœ€æ±‚åœºæ™¯</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹å¹‚ç­‰æ¡†æ¶çš„éœ€æ±‚åœºæ™¯ã€‚</p><p>è¿˜è®°å¾—ä¹‹å‰è®²åˆ°çš„é™æµæ¡†æ¶çš„é¡¹ç›®èƒŒæ™¯å—ï¼Ÿä¸ºäº†å¤ç”¨ä»£ç ï¼Œæˆ‘ä»¬æŠŠé€šç”¨çš„åŠŸèƒ½è®¾è®¡æˆäº†å…¬å…±æœåŠ¡å¹³å°ã€‚å…¬å¸å†…éƒ¨çš„å…¶ä»–é‡‘èäº§å“çš„åå°ç³»ç»Ÿï¼Œä¼šè°ƒç”¨å…¬å…±æœåŠ¡å¹³å°çš„æœåŠ¡ï¼Œä¸éœ€è¦å®Œå…¨ä»é›¶å¼€å§‹å¼€å‘ã€‚å…¬å…±æœåŠ¡å¹³å°æä¾›çš„æ˜¯RESTfulæ¥å£ã€‚ä¸ºäº†ç®€åŒ–å¼€å‘ï¼Œè°ƒç”¨æ–¹ä¸€èˆ¬ä½¿ç”¨Feignæ¡†æ¶ï¼ˆä¸€ä¸ªHTTPæ¡†æ¶ï¼‰æ¥è®¿é—®å…¬å…±æœåŠ¡å¹³å°çš„æ¥å£ã€‚</p><p>è°ƒç”¨æ–¹è®¿é—®å…¬å…±æœåŠ¡å¹³å°çš„æ¥å£ï¼Œä¼šæœ‰ä¸‰ç§å¯èƒ½çš„ç»“æœï¼šæˆåŠŸã€å¤±è´¥å’Œè¶…æ—¶ã€‚å‰ä¸¤ç§ç»“æœéå¸¸æ˜ç¡®ï¼Œè°ƒç”¨æ–¹å¯ä»¥è‡ªå·±å†³å®šæ”¶åˆ°ç»“æœä¹‹åå¦‚ä½•å¤„ç†ã€‚ç»“æœä¸ºâ€œæˆåŠŸâ€ï¼Œä¸‡äº‹å¤§å‰ã€‚ç»“æœä¸ºâ€œå¤±è´¥â€ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè°ƒç”¨æ–¹ä¼šå°†å¤±è´¥çš„ç»“æœï¼Œåé¦ˆç»™ç”¨æˆ·ï¼ˆç§»åŠ¨ç«¯Appï¼‰ï¼Œè®©ç”¨æˆ·è‡ªè¡Œå†³å®šæ˜¯å¦é‡è¯•ã€‚</p><!-- [[[read_end]]] --><p>ä½†æ˜¯ï¼Œå½“æ¥å£è¯·æ±‚è¶…æ—¶æ—¶ï¼Œå¤„ç†èµ·æ¥å°±æ²¡é‚£ä¹ˆå®¹æ˜“äº†ã€‚æœ‰å¯èƒ½ä¸šåŠ¡é€»è¾‘å·²ç»æ‰§è¡ŒæˆåŠŸäº†ï¼Œåªæ˜¯å…¬å…±æœåŠ¡å¹³å°è¿”å›ç»“æœç»™è°ƒç”¨æ–¹çš„æ—¶å€™è¶…æ—¶äº†ï¼Œä½†ä¹Ÿæœ‰å¯èƒ½ä¸šåŠ¡é€»è¾‘æ²¡æœ‰æ‰§è¡ŒæˆåŠŸï¼Œæ¯”å¦‚ï¼Œå› ä¸ºæ•°æ®åº“å½“æ—¶å­˜åœ¨é›†ä¸­å†™å…¥ï¼Œå¯¼è‡´éƒ¨åˆ†æ•°æ®å†™å…¥è¶…æ—¶ã€‚æ€»ä¹‹ï¼Œè¶…æ—¶å¯¹åº”çš„æ‰§è¡Œç»“æœæ˜¯æœªå†³çš„ã€‚é‚£è°ƒç”¨æ–¹è°ƒç”¨æ¥å£è¶…æ—¶æ—¶ï¼ˆåŸºäºFeignæ¡†æ¶å¼€å‘çš„è¯ï¼Œä¸€èˆ¬æ˜¯æ”¶åˆ°Timeoutå¼‚å¸¸ï¼‰ï¼Œè¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ</p><p>å¦‚æœæ¥å£åªåŒ…å«æŸ¥è¯¢ã€åˆ é™¤ã€æ›´æ–°è¿™äº›æ“ä½œï¼Œé‚£æ¥å£å¤©ç„¶æ˜¯å¹‚ç­‰çš„ã€‚æ‰€ä»¥ï¼Œè¶…æ—¶ä¹‹åï¼Œé‡æ–°å†æ‰§è¡Œä¸€æ¬¡ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨ã€‚ä¸è¿‡ï¼Œè¿™é‡Œæœ‰ä¸¤ç‚¹éœ€è¦ç‰¹æ®Šè¯´æ˜ä¸€ä¸‹ã€‚</p><p>åˆ é™¤æ“ä½œéœ€è¦å½“å¿ƒABAé—®é¢˜ã€‚åˆ é™¤æ“ä½œè¶…æ—¶äº†ï¼Œåˆè§¦å‘ä¸€æ¬¡åˆ é™¤ï¼Œä½†åœ¨è¿™æ¬¡åˆ é™¤ä¹‹å‰ï¼Œåˆæœ‰ä¸€æ¬¡æ–°çš„æ’å…¥ã€‚åä¸€æ¬¡åˆ é™¤æ“ä½œåˆ é™¤äº†æ–°æ’å…¥çš„æ•°æ®ï¼Œè€Œæ–°æ’å…¥çš„æ•°æ®æœ¬ä¸åº”è¯¥åˆ é™¤ã€‚ä¸è¿‡ï¼Œå¤§éƒ¨åˆ†ä¸šåŠ¡éƒ½å¯ä»¥å®¹å¿ABAé—®é¢˜ã€‚å¯¹äºå°‘æ•°ä¸èƒ½å®¹å¿çš„ä¸šåŠ¡åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥é’ˆå¯¹æ€§çš„ç‰¹æ®Šå¤„ç†ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œç»†ç©¶èµ·æ¥ï¼Œupdate x = x+deltaè¿™æ ·æ ¼å¼çš„æ›´æ–°æ“ä½œå¹¶éå¹‚ç­‰ï¼Œåªæœ‰update x=yè¿™æ ·æ ¼å¼çš„æ›´æ–°æ“ä½œæ‰æ˜¯å¹‚ç­‰çš„ã€‚ä¸è¿‡ï¼Œåè€…ä¹Ÿå­˜åœ¨è·Ÿåˆ é™¤åŒæ ·çš„ABAé—®é¢˜ã€‚</p><p>å¦‚æœæ¥å£åŒ…å«ä¿®æ”¹æ“ä½œï¼ˆæ’å…¥æ“ä½œã€update x=x+deltaæ›´æ–°æ“ä½œï¼‰ï¼Œå¤šæ¬¡é‡å¤æ‰§è¡Œæœ‰å¯èƒ½ä¼šå¯¼è‡´ä¸šåŠ¡ä¸Šçš„é”™è¯¯ï¼Œè¿™æ˜¯ä¸èƒ½æ¥å—çš„ã€‚å¦‚æœæ’å…¥çš„æ•°æ®åŒ…å«æ•°æ®åº“å”¯ä¸€é”®ï¼Œå¯ä»¥åˆ©ç”¨æ•°æ®åº“å”¯ä¸€é”®çš„æ’ä»–æ€§ï¼Œä¿è¯ä¸ä¼šé‡å¤æ’å…¥æ•°æ®ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¸€èˆ¬æˆ‘ä¼šå»ºè®®è°ƒç”¨æ–¹æŒ‰ç…§è¿™æ ·å‡ ç§æ–¹å¼æ¥å¤„ç†ã€‚</p><p><strong>ç¬¬ä¸€ç§å¤„ç†æ–¹å¼</strong>æ˜¯ï¼Œè°ƒç”¨æ–¹è®¿é—®å…¬å…±æœåŠ¡å¹³å°æ¥å£è¶…æ—¶æ—¶ï¼Œè¿”å›æ¸…æ™°æ˜ç¡®çš„æé†’ç»™ç”¨æˆ·ï¼Œå‘ŠçŸ¥æ‰§è¡Œç»“æœæœªçŸ¥ï¼Œè®©ç”¨æˆ·è‡ªå·±åˆ¤æ–­æ˜¯å¦é‡è¯•ã€‚ä¸è¿‡ï¼Œä½ å¯èƒ½ä¼šè¯´ï¼Œå¦‚æœç”¨æˆ·çœ‹åˆ°äº†è¶…æ—¶æé†’ï¼Œä½†è¿˜æ˜¯é‡æ–°å‘èµ·äº†æ“ä½œï¼Œæ¯”å¦‚é‡æ–°å‘èµ·äº†è½¬è´¦ã€å……å€¼ç­‰æ“ä½œï¼Œé‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿå®é™…ä¸Šï¼Œå¯¹è¿™ç§æƒ…å†µï¼ŒæŠ€æœ¯æ˜¯æ— èƒ½ä¸ºåŠ›çš„ã€‚å› ä¸ºä¸¤æ¬¡æ“ä½œéƒ½æ˜¯ç”¨æˆ·ä¸»åŠ¨å‘èµ·çš„ï¼Œæˆ‘ä»¬æ— æ³•åˆ¤æ–­ç¬¬äºŒæ¬¡çš„è½¬è´¦ã€å……å€¼æ˜¯æ–°çš„æ“ä½œï¼Œè¿˜æ˜¯åŸºäºä¸Šä¸€æ¬¡è¶…æ—¶çš„é‡è¯•è¡Œä¸ºã€‚</p><p><strong>ç¬¬äºŒç§å¤„ç†æ–¹å¼</strong>æ˜¯ï¼Œè°ƒç”¨æ–¹è°ƒç”¨å…¶ä»–æ¥å£ï¼Œæ¥æŸ¥è¯¢è¶…æ—¶æ“ä½œçš„ç»“æœï¼Œæ˜ç¡®è¶…æ—¶æ“ä½œå¯¹åº”çš„ä¸šåŠ¡ï¼Œæ˜¯æ‰§è¡ŒæˆåŠŸäº†è¿˜æ˜¯å¤±è´¥äº†ï¼Œç„¶åå†åŸºäºæ˜ç¡®çš„ç»“æœåšå¤„ç†ã€‚ä½†æ˜¯è¿™ç§å¤„ç†æ–¹æ³•å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰çš„ä¸šåŠ¡æ“ä½œï¼Œéƒ½æ–¹ä¾¿æŸ¥è¯¢æ“ä½œç»“æœã€‚</p><p><strong>ç¬¬ä¸‰ç§å¤„ç†æ–¹å¼</strong>æ˜¯ï¼Œè°ƒç”¨æ–¹åœ¨é‡åˆ°æ¥å£è¶…æ—¶ä¹‹åï¼Œç›´æ¥å‘èµ·é‡è¯•æ“ä½œã€‚è¿™æ ·å°±éœ€è¦æ¥å£æ”¯æŒå¹‚ç­‰ã€‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©åœ¨ä¸šåŠ¡ä»£ç ä¸­è§¦å‘é‡è¯•ï¼Œä¹Ÿå¯ä»¥å°†é‡è¯•çš„æ“ä½œæ”¾åˆ°Feignæ¡†æ¶ä¸­å®Œæˆã€‚å› ä¸ºå¶å°”å‘ç”Ÿçš„è¶…æ—¶ï¼Œåœ¨æ­£å¸¸çš„ä¸šåŠ¡é€»è¾‘ä¸­ç¼–å†™ä¸€å¤§å¨è¡¥æ•‘ä»£ç ï¼Œè¿™æ ·åšä¼šå½±å“åˆ°ä»£ç çš„å¯è¯»æ€§ï¼Œæœ‰ç‚¹åˆ’ä¸æ¥ã€‚å½“ç„¶ï¼Œå¦‚æœé¡¹ç›®ä¸­éœ€è¦æ”¯æŒè¶…æ—¶é‡è¯•çš„ä¸šåŠ¡ä¸å¤šï¼Œé‚£å¯¹äºä»…æœ‰å‡ ä¸ªä¸šåŠ¡ï¼Œç‰¹æ®Šå¤„ç†ä¸€ä¸‹ä¹Ÿæœªå°ä¸å¯ã€‚ä½†æ˜¯ï¼Œå¦‚æœé¡¹ç›®ä¸­éœ€è¦æ”¯æŒè¶…æ—¶é‡è¯•çš„ä¸šåŠ¡æ¯”è¾ƒå¤šï¼Œæˆ‘ä»¬æœ€å¥½æ˜¯æŠŠè¶…æ—¶é‡è¯•è¿™äº›éä¸šåŠ¡ç›¸å…³çš„é€»è¾‘ï¼Œç»Ÿä¸€åœ¨æ¡†æ¶å±‚é¢è§£å†³ã€‚</p><p>å¯¹å“åº”æ—¶é—´æ•æ„Ÿçš„è°ƒç”¨æ–¹æ¥è¯´ï¼Œå®ƒä»¬æœåŠ¡çš„æ˜¯ç§»åŠ¨ç«¯çš„ç”¨æˆ·ï¼Œè¿‡é•¿çš„ç­‰å¾…æ—¶é—´ï¼Œè¿˜ä¸å¦‚ç›´æ¥è¿”å›è¶…æ—¶ç»™ç”¨æˆ·ã€‚æ‰€ä»¥ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œç¬¬ä¸€ç§å¤„ç†æ–¹å¼æ˜¯æ¯”è¾ƒæ¨èçš„ã€‚ä½†æ˜¯ï¼Œå¯¹å“åº”æ—¶é—´ä¸æ•æ„Ÿçš„è°ƒç”¨æ–¹æ¥è¯´ï¼Œæ¯”å¦‚Jobç±»çš„è°ƒç”¨æ–¹ï¼Œæˆ‘æ¨èé€‰æ‹©åä¸¤ç§å¤„ç†æ–¹å¼ï¼Œèƒ½å¤Ÿæé«˜å¤„ç†çš„æˆåŠŸç‡ã€‚è€Œç¬¬äºŒç§å¤„ç†æ–¹æ³•ï¼Œæœ¬èº«æœ‰ä¸€å®šçš„å±€é™æ€§ï¼Œå› ä¸ºå¹¶ä¸æ˜¯æ‰€æœ‰ä¸šåŠ¡æ“ä½œéƒ½æ–¹ä¾¿æŸ¥è¯¢æ˜¯å¦æ‰§è¡ŒæˆåŠŸã€‚ç¬¬ä¸‰ç§ä¿è¯æ¥å£å¹‚ç­‰çš„å¤„ç†æ–¹å¼ï¼Œæ˜¯æ¯”è¾ƒé€šç”¨çš„è§£å†³æ–¹æ¡ˆã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬é’ˆå¯¹è¿™ç§å¤„ç†æ–¹å¼ï¼ŒæŠ½è±¡å‡ºä¸€å¥—ç»Ÿä¸€çš„å¹‚ç­‰æ¡†æ¶ï¼Œç®€åŒ–å¹‚ç­‰æ¥å£çš„å¼€å‘ã€‚</p><h2>éœ€æ±‚åˆ†æ</h2><p>åˆšåˆšæˆ‘ä»¬ä»‹ç»äº†å¹‚ç­‰æ¡†æ¶çš„éœ€æ±‚èƒŒæ™¯ï¼šè¶…æ—¶é‡è¯•éœ€è¦æ¥å£å¹‚ç­‰çš„æ”¯æŒã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†å¯¹éœ€æ±‚è¿›è¡Œæ›´åŠ è¯¦ç»†çš„åˆ†æå’Œæ•´ç†ï¼Œè¿™å…¶ä¸­å°±åŒ…æ‹¬åŠŸèƒ½æ€§éœ€æ±‚å’ŒéåŠŸèƒ½æ€§éœ€æ±‚ã€‚</p><p><strong>ä¸è¿‡ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆææ¸…æ¥šä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼šå¹‚ç­‰å·ã€‚</strong></p><p>å‰é¢å¤šæ¬¡æåˆ°â€œå¹‚ç­‰â€ï¼Œé‚£â€œå¹‚ç­‰â€åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæ”¾åˆ°æ¥å£è°ƒç”¨çš„è¿™ä¸ªåœºæ™¯é‡Œï¼Œå¹‚ç­‰çš„æ„æ€æ˜¯ï¼Œé’ˆå¯¹åŒä¸€ä¸ªæ¥å£ï¼Œå¤šæ¬¡å‘èµ·åŒä¸€ä¸ªä¸šåŠ¡è¯·æ±‚ï¼Œå¿…é¡»ä¿è¯ä¸šåŠ¡åªæ‰§è¡Œä¸€æ¬¡ã€‚é‚£å¦‚ä½•åˆ¤å®šä¸¤æ¬¡æ¥å£è¯·æ±‚æ˜¯åŒä¸€ä¸ªä¸šåŠ¡è¯·æ±‚å‘¢ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚ä½•åˆ¤æ–­ä¸¤æ¬¡æ¥å£è¯·æ±‚æ˜¯é‡è¯•å…³ç³»ï¼Ÿè€Œéç‹¬ç«‹çš„ä¸¤ä¸ªä¸šåŠ¡è¯·æ±‚ï¼Ÿæ¯”å¦‚ï¼Œä¸¤æ¬¡è°ƒç”¨è½¬è´¦æ¥å£ï¼Œå°½ç®¡è½¬è´¦ç”¨æˆ·ã€é‡‘é¢ç­‰å‚æ•°éƒ½ä¸€æ ·ï¼Œä½†æˆ‘ä»¬ä¹Ÿæ— æ³•åˆ¤æ–­è¿™ä¸¤ä¸ªè½¬è´¦è¯·æ±‚å°±æ˜¯é‡è¯•å…³ç³»ã€‚</p><p>å®é™…ä¸Šï¼Œè¦ç¡®å®šé‡è¯•å…³ç³»ï¼Œæˆ‘ä»¬å°±éœ€è¦ç»™åŒä¸€ä¸šåŠ¡è¯·æ±‚ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼Œä¹Ÿå°±æ˜¯â€œå¹‚ç­‰å·â€ï¼å¦‚æœä¸¤ä¸ªæ¥å£è¯·æ±‚ï¼Œå¸¦æœ‰ç›¸åŒçš„å¹‚ç­‰å·ï¼Œé‚£æˆ‘ä»¬å°±åˆ¤æ–­å®ƒä»¬æ˜¯é‡è¯•å…³ç³»ï¼Œæ˜¯åŒä¸€ä¸ªä¸šåŠ¡è¯·æ±‚ï¼Œä¸è¦é‡å¤æ‰§è¡Œã€‚</p><p>å¹‚ç­‰å·éœ€è¦ä¿è¯å…¨å±€å”¯ä¸€æ€§ã€‚å®ƒå¯ä»¥æœ‰ä¸šåŠ¡å«ä¹‰ï¼Œæ¯”å¦‚ï¼Œç”¨æˆ·æ‰‹æœºå·ç æ˜¯å”¯ä¸€çš„ï¼Œå¯¹äºç”¨æˆ·æ³¨å†Œæ¥å£æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥æ‹¿å®ƒä½œä¸ºå¹‚ç­‰å·ã€‚ä¸è¿‡ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´å¹‚ç­‰æ¡†æ¶çš„å®ç°ï¼Œæ— æ³•å®Œå…¨è„±ç¦»å…·ä½“çš„ä¸šåŠ¡ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬æ›´åŠ å€¾å‘äºï¼Œé€šè¿‡æŸç§ç®—æ³•æ¥éšæœºç”Ÿæˆæ²¡æœ‰ä¸šåŠ¡å«ä¹‰çš„å¹‚ç­‰å·ã€‚</p><p><strong>å¹‚ç­‰å·çš„æ¦‚å¿µææ¸…æ¥šäº†ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹æ¡†æ¶çš„åŠŸèƒ½æ€§éœ€æ±‚ã€‚</strong></p><p>å‰é¢ä¹Ÿä»‹ç»äº†ä¸€äº›éœ€æ±‚åˆ†ææ•´ç†æ–¹æ³•ï¼Œæ¯”å¦‚ç”»çº¿æ¡†å›¾ã€å†™ç”¨æˆ·ç”¨ä¾‹ã€åŸºäºæµ‹è¯•é©±åŠ¨å¼€å‘ç­‰ã€‚è·Ÿé™æµæ¡†æ¶ç±»ä¼¼ï¼Œè¿™é‡Œæˆ‘ä»¬ä¹Ÿå€ŸåŠ©ç”¨æˆ·ç”¨ä¾‹å’Œæµ‹è¯•é©±åŠ¨å¼€å‘çš„æ€æƒ³ï¼Œå…ˆå»æ€è€ƒï¼Œå¦‚æœæ¡†æ¶æœ€ç»ˆè¢«å¼€å‘å‡ºæ¥ä¹‹åï¼Œå®ƒä¼šå¦‚ä½•è¢«ä½¿ç”¨ã€‚æˆ‘å†™äº†ä¸€ä¸ªæ¡†æ¶ä½¿ç”¨çš„Demoç¤ºä¾‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre><code>///////// ä½¿ç”¨æ–¹å¼ä¸€: åœ¨ä¸šåŠ¡ä»£ç ä¸­å¤„ç†å¹‚ç­‰ ////////////\n// æ¥å£è°ƒç”¨æ–¹\nIdempotence idempotence = new Idempotence();\nString idempotenceId = idempotence.createId();\nOrder order = createOrderWithIdempotence(..., idempotenceId);\n\n// æ¥å£å®ç°æ–¹\npublic class OrderController {\n  private Idempotence idempontence; // ä¾èµ–æ³¨å…¥\n  \n  public Order createOrderWithIdempotence(..., String idempotenceId) {\n    // å‰ç½®æ“ä½œ\n    boolean existed = idempotence.check(idempotenceId);\n    if (existed) {\n      // ä¸¤ç§å¤„ç†æ–¹å¼ï¼š\n      // 1. æŸ¥è¯¢orderï¼Œå¹¶ä¸”è¿”å›ï¼›\n      // 2. è¿”å›duplication operation Exception\n    }\n    idempotence.record(idempotenceId);\n        \n    //...æ‰§è¡Œæ­£å¸¸ä¸šåŠ¡é€»è¾‘\n  }\n  \n  public Order createOrder(...) {\n    //...\n  }\n}\n\n///////// ä½¿ç”¨æ–¹å¼äºŒï¼šåœ¨æ¡†æ¶å±‚é¢å¤„ç†å¹‚ç­‰ //////////////\n// æ¥å£è°ƒç”¨æ–¹\nIdempotence idempotence = new Idempotence();\nString idempotenceId = idempotence.createId();\n//...é€šè¿‡feignæ¡†æ¶å°†å¹‚ç­‰å·æ·»åŠ åˆ°http headerä¸­...\n\n// æ¥å£å®ç°æ–¹\npublic class OrderController {\n  @IdempotenceRequired\n  public Order createOrder(...) {\n    //...\n  }\n}\n\n// åœ¨AOPåˆ‡é¢ä¸­å¤„ç†å¹‚ç­‰\n@Aspect\npublic class IdempotenceSupportAdvice {\n  @Autowired\n  private Idempotence idempotence;\n\n@Pointcut(&quot;@annotation(com.xzg.cd.idempotence.annotation.IdempotenceRequired)&quot;)\n  public void controllerPointcut() {\n  }\n\n  @Around(value = &quot;controllerPointcut()&quot;)\n  public Object around(ProceedingJoinPoint joinPoint) throws Throwable {\n    // ä»HTTP headerä¸­è·å–å¹‚ç­‰å·idempotenceId\n    \n    // å‰ç½®æ“ä½œ\n    boolean existed = idempotence.check(idempotenceId);\n    if (existed) {\n      // ä¸¤ç§å¤„ç†æ–¹å¼ï¼š\n      // 1. æŸ¥è¯¢orderï¼Œå¹¶ä¸”è¿”å›ï¼›\n      // 2. è¿”å›duplication operation Exception\n    }\n    idempotence.record(idempotenceId)\n    \n    Object result = joinPoint.proceed();    \n    return result;\n  }\n}\n</code></pre><p>ç»“åˆåˆšåˆšçš„Demoï¼Œä»ä½¿ç”¨çš„è§’åº¦æ¥è¯´ï¼Œå¹‚ç­‰æ¡†æ¶çš„ä¸»è¦å¤„ç†æµç¨‹æ˜¯è¿™æ ·çš„ã€‚æ¥å£è°ƒç”¨æ–¹ç”Ÿæˆå¹‚ç­‰å·ï¼Œå¹¶ä¸”è·Ÿéšæ¥å£è¯·æ±‚ï¼Œå°†å¹‚ç­‰å·ä¼ é€’ç»™æ¥å£å®ç°æ–¹ã€‚æ¥å£å®ç°æ–¹æ¥æ”¶åˆ°æ¥å£è¯·æ±‚ä¹‹åï¼ŒæŒ‰ç…§çº¦å®šï¼Œä»HTTP Headeræˆ–è€…æ¥å£å‚æ•°ä¸­ï¼Œè§£æå‡ºå¹‚ç­‰å·ï¼Œç„¶åé€šè¿‡å¹‚ç­‰å·æŸ¥è¯¢å¹‚ç­‰æ¡†æ¶ã€‚å¦‚æœå¹‚ç­‰å·å·²ç»å­˜åœ¨ï¼Œè¯´æ˜ä¸šåŠ¡å·²ç»æ‰§è¡Œæˆ–æ­£åœ¨æ‰§è¡Œï¼Œåˆ™ç›´æ¥è¿”å›ï¼›å¦‚æœå¹‚ç­‰å·ä¸å­˜åœ¨ï¼Œè¯´æ˜ä¸šåŠ¡æ²¡æœ‰æ‰§è¡Œè¿‡ï¼Œåˆ™è®°å½•å¹‚ç­‰å·ï¼Œç»§ç»­æ‰§è¡Œä¸šåŠ¡ã€‚</p><p><strong>å¯¹äºå¹‚ç­‰æ¡†æ¶ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹ï¼Œå®ƒéƒ½æœ‰å“ªäº›éåŠŸèƒ½æ€§éœ€æ±‚ã€‚</strong></p><p>åœ¨æ˜“ç”¨æ€§æ–¹é¢ï¼Œæˆ‘ä»¬å¸Œæœ›æ¡†æ¶æ¥å…¥ç®€å•æ–¹ä¾¿ï¼Œå­¦ä¹ æˆæœ¬ä½ã€‚åªéœ€ç¼–å†™ç®€å•çš„é…ç½®ä»¥åŠå°‘è®¸ä»£ç ï¼Œå°±èƒ½å®Œæˆæ¥å…¥ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ¡†æ¶æœ€å¥½å¯¹ä¸šåŠ¡ä»£ç ä½ä¾µå…¥æ¾è€¦åˆï¼Œåœ¨ç»Ÿä¸€çš„åœ°æ–¹ï¼ˆæ¯”å¦‚Spring AOPä¸­ï¼‰æ¥å…¥å¹‚ç­‰æ¡†æ¶ï¼Œè€Œä¸æ˜¯å°†å®ƒè€¦åˆåœ¨ä¸šåŠ¡ä»£ç ä¸­ã€‚</p><p>åœ¨æ€§èƒ½æ–¹é¢ï¼Œé’ˆå¯¹æ¯ä¸ªå¹‚ç­‰æ¥å£ï¼Œåœ¨æ­£å¼å¤„ç†ä¸šåŠ¡é€»è¾‘ä¹‹å‰ï¼Œæˆ‘ä»¬éƒ½è¦æ·»åŠ ä¿è¯å¹‚ç­‰çš„å¤„ç†é€»è¾‘ã€‚è¿™æˆ–å¤šæˆ–å°‘åœ°ä¼šå¢åŠ æ¥å£è¯·æ±‚çš„å“åº”æ—¶é—´ã€‚è€Œå¯¹äºå“åº”æ—¶é—´æ¯”è¾ƒæ•æ„Ÿçš„æ¥å£æœåŠ¡æ¥è¯´ï¼Œæˆ‘ä»¬è¦è®©å¹‚ç­‰æ¡†æ¶å°½å¯èƒ½ä½å»¶è¿Ÿï¼Œå°½å¯èƒ½å‡å°‘å¯¹æ¥å£è¯·æ±‚æœ¬èº«å“åº”æ—¶é—´çš„å½±å“ã€‚</p><p>åœ¨å®¹é”™æ€§æ–¹é¢ï¼Œè·Ÿé™æµæ¡†æ¶ç›¸åŒï¼Œä¸èƒ½å› ä¸ºå¹‚ç­‰æ¡†æ¶æœ¬èº«çš„å¼‚å¸¸ï¼Œå¯¼è‡´æ¥å£å“åº”å¼‚å¸¸ï¼Œå½±å“æœåŠ¡æœ¬èº«çš„å¯ç”¨æ€§ã€‚æ‰€ä»¥ï¼Œå¹‚ç­‰æ¡†æ¶è¦æœ‰é«˜åº¦çš„å®¹é”™æ€§ã€‚æ¯”å¦‚ï¼Œå­˜å‚¨å¹‚ç­‰å·çš„å¤–éƒ¨å­˜å‚¨å™¨æŒ‚æ‰äº†ï¼Œå¹‚ç­‰é€»è¾‘æ— æ³•æ­£å¸¸è¿è¡Œï¼Œè¿™ä¸ªæ—¶å€™ä¸šåŠ¡æ¥å£ä¹Ÿè¦èƒ½æ­£å¸¸æœåŠ¡æ‰è¡Œã€‚</p><h2>é‡ç‚¹å›é¡¾</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„å†…å®¹åˆ°æ­¤å°±è®²å®Œäº†ã€‚æˆ‘ä»¬ä¸€å—æ¥æ€»ç»“å›é¡¾ä¸€ä¸‹ï¼Œä½ éœ€è¦é‡ç‚¹æŒæ¡çš„å†…å®¹ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬ä»‹ç»äº†å¹‚ç­‰æ¡†æ¶çš„ä¸€ä¸ªéœ€æ±‚åœºæ™¯ï¼Œé‚£å°±æ˜¯æ¥å£è¶…æ—¶é‡è¯•ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå¦‚æœæ¥å£åªåŒ…å«æŸ¥è¯¢ã€åˆ é™¤ã€æ›´æ–°è¿™äº›æ“ä½œï¼Œé‚£æ¥å£å¤©ç„¶æ˜¯å¹‚ç­‰çš„ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœæ¥å£åŒ…å«ä¿®æ”¹æ“ä½œï¼ˆæ’å…¥æ“ä½œæˆ–update x=x+deltaæ›´æ–°æ“ä½œï¼‰ï¼Œä¿è¯æ¥å£çš„å¹‚ç­‰æ€§å°±éœ€è¦åšä¸€äº›é¢å¤–çš„å·¥ä½œã€‚</p><p>ç°åœ¨å¼€æºçš„ä¸œè¥¿é‚£ä¹ˆå¤šï¼Œä½†å¹‚ç­‰æ¡†æ¶éå¸¸å°‘è§ã€‚åŸå› æ˜¯å¹‚ç­‰æ€§çš„ä¿è¯æ˜¯ä¸šåŠ¡å¼ºç›¸å…³çš„ã€‚å¤§éƒ¨åˆ†ä¿è¯å¹‚ç­‰æ€§çš„æ–¹å¼éƒ½æ˜¯é’ˆå¯¹å…·ä½“çš„ä¸šåŠ¡å…·ä½“å¤„ç†ï¼Œæ¯”å¦‚åˆ©ç”¨ä¸šåŠ¡æ•°æ®ä¸­çš„IDå”¯ä¸€æ€§æ¥å¤„ç†æ’å…¥æ“ä½œçš„å¹‚ç­‰æ€§ã€‚ä½†æ˜¯ï¼Œé’ˆå¯¹æ¯ä¸ªéœ€è¦å¹‚ç­‰çš„ä¸šåŠ¡é€»è¾‘ï¼Œå•ç‹¬ç¼–å†™ä»£ç å¤„ç†ï¼Œä¸€æ–¹é¢å¯¹ç¨‹åºå‘˜çš„å¼€å‘èƒ½åŠ›è¦æ±‚æ¯”è¾ƒé«˜ï¼Œå¦ä¸€æ–¹é¢å¼€å‘æˆæœ¬ä¹Ÿæ¯”è¾ƒé«˜ã€‚</p><p>ä¸ºäº†ç®€åŒ–æ¥å£å¹‚ç­‰çš„å¼€å‘ï¼Œæˆ‘ä»¬å¸Œæœ›å¼€å‘ä¸€å¥—ç»Ÿä¸€çš„å¹‚ç­‰æ¡†æ¶ï¼Œè„±ç¦»å…·ä½“çš„ä¸šåŠ¡ï¼Œè®©ç¨‹åºå‘˜é€šè¿‡ç®€å•çš„é…ç½®å’Œå°‘é‡ä»£ç ï¼Œå°±èƒ½å°†éå¹‚ç­‰æ¥å£æ”¹é€ æˆå¹‚ç­‰æ¥å£ã€‚</p><h2>è¯¾å ‚è®¨è®º</h2><ol>\n<li>é‡è¯•æ— å¤„ä¸åœ¨ï¼Œæ¯”å¦‚ï¼ŒNginxã€Dubboã€Feignç­‰é‡è¯•æœºåˆ¶ï¼Œä½ è¿˜èƒ½æƒ³åˆ°å“ªäº›å…¶ä»–çš„é‡è¯•åœºæ™¯å—ï¼Ÿ</li>\n<li>è¶…æ—¶é‡è¯•åªæ˜¯æ¥å£å¹‚ç­‰çš„ä¸€ä¸ªéœ€æ±‚åœºæ™¯ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¤„ç†æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ¶ˆæ¯é‡å¤çš„ä¸€ç§å¸¸ç”¨æ–¹æ³•ï¼Œå°±æ˜¯å°†æ¶ˆæ¯å¯¹åº”çš„ä¸šåŠ¡é€»è¾‘è®¾è®¡æˆå¹‚ç­‰çš„ã€‚å› ä¸ºä¸šåŠ¡é€»è¾‘æ˜¯å¹‚ç­‰çš„ï¼Œæ‰€ä»¥å¤šæ¬¡æ¥æ”¶é‡å¤æ¶ˆæ¯ä¸ä¼šå¯¼è‡´é‡å¤æ‰§è¡Œä¸šåŠ¡é€»è¾‘ã€‚é™¤äº†è¿™äº›åœºæ™¯ï¼Œä½ è¿˜çŸ¥é“æœ‰å“ªäº›å…¶ä»–åœºæ™¯éœ€è¦ç”¨åˆ°å¹‚ç­‰è®¾è®¡ï¼Ÿ</li>\n</ol><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘åˆ†äº«ä½ çš„æƒ³æ³•ã€‚å¦‚æœæœ‰æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"92 | é¡¹ç›®å®æˆ˜ä¸€ï¼šè®¾è®¡å®ç°ä¸€ä¸ªæ”¯æŒå„ç§ç®—æ³•çš„é™æµæ¡†æ¶ï¼ˆå®ç°ï¼‰","id":243961},"right":{"article_title":"94 | é¡¹ç›®å®æˆ˜äºŒï¼šè®¾è®¡å®ç°ä¸€ä¸ªé€šç”¨çš„æ¥å£å¹‚ç­‰æ¡†æ¶ï¼ˆè®¾è®¡ï¼‰","id":245788}},"comments":[{"had_liked":false,"id":247782,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1599835440,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"126153887024","product_id":100039001,"comment_content":"é‡è¯•åœºæ™¯ï¼š<br>1. å¾®ä¿¡å‘é€æ¶ˆæ¯å¤±è´¥ï¼Œå¯ä»¥æ‰‹åŠ¨è§¦å‘â€é‡å‘â€œ<br>2. ç½‘å§ç”µè„‘å¡é¡¿ã€æ­»æœºï¼Œå¯ä»¥é‡å¯<br>3. æ‹¨æ‰“ç”µè¯æ— äººæ¥å¬ï¼Œè¯·ç¨åå†æ‹¨<br>4. ç§’æ€æ²¡æœ‰æŠ¢åˆ°ï¼Œä¸‹ä¸€è½®å†æ¥å†å‰<br>5. æ¸¸æˆé€šå…³åå‡çº§éš¾åº¦ä»å¤´å¼€å§‹<br><br>éœ€è¦ç”¨åˆ°å¹‚ç­‰è®¾è®¡åœºæ™¯ï¼š<br>1. ä¸‹å•æ—¶ä¸è¦å‡ºç°é‡å¤è®¢å•<br>2. ææ¬¾æ—¶åƒä¸‡åˆ«å‡ºBug<br>3. ç«ç®­å‘å°„æ—¶ï¼ŒæŒ‰ä¸‹ç‚¹ç«æŒ‰é’®ï¼Œåªèƒ½ç‚¹ç«ä¸€æ¬¡<br>4. é€ å°å®å®çš„æ—¶å€™ï¼Œè‡ªç„¶ç•Œè¶…å¼ºå¹‚ç­‰","like_count":30,"discussions":[{"author":{"id":1239663,"avatar":"https://static001.geekbang.org/account/avatar/00/12/ea/6f/09de5f65.jpg","nickname":"å°å¸…","note":"","ucode":"4129A7E9427FFC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557645,"discussion_content":"4. é€ å°å®å®çš„æ—¶å€™ï¼Œè‡ªç„¶ç•Œè¶…å¼ºå¹‚ç­‰\nè¿™ä¸ªçœŸçš„æ˜¯ç‰›é€¼ ä½†æ˜¯ç»†æƒ³ä¸‹ç¡®å®å¦‚æ­¤","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1647916826,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1455958,"avatar":"https://static001.geekbang.org/account/avatar/00/16/37/56/11068390.jpg","nickname":"å€¡å°","note":"","ucode":"4F53AA5D017D89","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397985,"discussion_content":"ä¸‡ä¸€æ˜¯ä¸Šä¸€ä»»æ®‹ç•™å‘¢ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1632711075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1153702,"avatar":"https://static001.geekbang.org/account/avatar/00/11/9a/a6/3bddb98c.jpg","nickname":"å¤§å¶æ«","note":"","ucode":"224AC5533889AD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385833,"discussion_content":"é€ å°å®å®çš„æ—¶å€™ï¼Œè‡ªç„¶ç•Œè¶…å¼ºå¹‚ç­‰ ã€‚ç¬‘å°¿ğŸ¤£","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1627291800,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1591399,"avatar":"https://static001.geekbang.org/account/avatar/00/18/48/67/128eda8f.jpg","nickname":"å¸­å¸­","note":"","ucode":"656377E29D4F76","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351820,"discussion_content":"å¹‚ç­‰ï¼Œä¸èƒ½é¡¾åæ€ä¹‰ï¼Œä½†ç”¨ç”Ÿæ´»æ¡ˆä¾‹ä¸¾ä¾‹éšå¤„å¯è§ï¼Œè¯´ç®€å•ç‚¹ï¼Œå°±æ˜¯ä¿è¯å”¯ä¸€æ€§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1614478221,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1476490,"avatar":"https://static001.geekbang.org/account/avatar/00/16/87/8a/07ab933c.jpg","nickname":"ç’€ç’¨æ˜Ÿç©º","note":"","ucode":"CE6324C4261A52","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387071,"discussion_content":"æ¥è‡ªlspçš„å‰æ–¹é«˜èƒ½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627973833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224365,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1591355622,"is_pvip":false,"replies":[{"id":"85675","content":"åˆ¤æ–­æ˜¯å¦å­˜åœ¨+ä¸šåŠ¡æ‰§è¡Œ è¦ä¿æŒåŸå­","user_name":"ä½œè€…å›å¤","comment_id":224365,"uid":"1190123","ip_address":"","utype":1,"ctime":1593911090,"user_name_real":"ç‹äº‰"}],"discussion_count":5,"race_medal":0,"score":"66015865062","product_id":100039001,"comment_content":"â€œå¦‚æœå¹‚ç­‰å·å·²ç»å­˜åœ¨ï¼Œè¯´æ˜ä¸šåŠ¡å·²ç»æ‰§è¡Œæˆ–æ­£åœ¨æ‰§è¡Œï¼Œåˆ™ç›´æ¥è¿”å›ï¼›å¦‚æœå¹‚ç­‰å·ä¸å­˜åœ¨ï¼Œè¯´æ˜ä¸šåŠ¡æ²¡æœ‰æ‰§è¡Œè¿‡ï¼Œåˆ™è®°å½•å¹‚ç­‰å·ï¼Œç»§ç»­æ‰§è¡Œä¸šåŠ¡â€œ<br>-------------------------------------------------<br>è¿™ä¸ªåˆ¤æ–­å­˜åœ¨ä¸å¦ä¹Ÿè¦ä¿è¯åŸå­æ€§","like_count":15,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497453,"discussion_content":"åˆ¤æ–­æ˜¯å¦å­˜åœ¨+ä¸šåŠ¡æ‰§è¡Œ è¦ä¿æŒåŸå­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593911090,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1272047,"avatar":"https://static001.geekbang.org/account/avatar/00/13/68/ef/6264ca3d.jpg","nickname":"Magic","note":"","ucode":"FD9CEDAA419EB0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":298995,"discussion_content":"è¿™å°±è¦å¼•å…¥åˆ†å¸ƒå¼äº‹åŠ¡äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1597502092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1153239,"avatar":"https://static001.geekbang.org/account/avatar/00/11/98/d7/7f7a0e6f.jpg","nickname":"Lee","note":"","ucode":"459D3303717703","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282083,"discussion_content":"åå‘å…ˆè‡³çš„é—®é¢˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1591882325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2723850,"avatar":"https://static001.geekbang.org/account/avatar/00/29/90/0a/50f89814.jpg","nickname":"dexia","note":"","ucode":"5C60E049F7E7D5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":401468,"discussion_content":"å¹‚ç­‰å·è¦å­˜å¤šä¹…åˆé€‚ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633678883,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2309076,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/hvb2KFTy9wdlpTA5dPVPyow44pDtAFH3abXphxktutTlpe2yveiaTqicz68icsUXkZGTjQnQ5zjX6ZQSRn5C6OicaA/132","nickname":"Geek_904551","note":"","ucode":"8AE24B32FBCD24","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335732,"discussion_content":"æˆ‘è§‰å¾—æ²¡å¿…è¦ï¼Œä½œä¸ºå®¢æˆ·ç«¯ä½ åªç®¡å¯¹è¶…æ—¶çš„æ¥å£è¿›è¡Œé‡è¯•ï¼Œå…¶ä»–æƒ…å†µä½ éƒ½ä¸ä¼šé‡è¯•ï¼Œå¹¶ä¸ä¼šå­˜åœ¨å¹¶å‘é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608287193,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229838,"user_name":"cricket1981","can_delete":false,"product_type":"c1","uid":1001715,"ip_address":"","ucode":"758262F5958DA4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/f3/f1034ffd.jpg","comment_is_top":false,"comment_ctime":1593159585,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"40247865249","product_id":100039001,"comment_content":"åˆ†å¸ƒå¼äº‹åŠ¡éœ€è¦ç”¨åˆ°å¹‚ç­‰è®¾è®¡ï¼šat-least-once + å¹‚ç­‰ == exactly-once","like_count":10},{"had_liked":false,"id":224378,"user_name":"å°å–µå–µ","can_delete":false,"product_type":"c1","uid":1062444,"ip_address":"","ucode":"FDBBB2A59DB8B6","user_header":"https://static001.geekbang.org/account/avatar/00/10/36/2c/8bd4be3a.jpg","comment_is_top":false,"comment_ctime":1591358090,"is_pvip":false,"replies":[{"id":"85676","content":"1. å®šæœŸåˆ ä¸€ä¸‹å¾ˆè€çš„æ•°æ®<br>2. è®©æ¥å£æŠ¥é”™ï¼Œåé¢ä¼šè®²åˆ°çš„","user_name":"ä½œè€…å›å¤","comment_id":224378,"uid":"1190123","ip_address":"","utype":1,"ctime":1593911139,"user_name_real":"ç‹äº‰"}],"discussion_count":2,"race_medal":0,"score":"35951096458","product_id":100039001,"comment_content":"1 å¦‚æœå­˜å‚¨å¹‚ç­‰å·çš„å¤–éƒ¨å­˜å‚¨å™¨é‡Œé¢çš„æ•°æ®å¤ªå¤šäº†ï¼Œä¼šå½±å“æŸ¥è¯¢æ€§èƒ½ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ<br>2 å¦‚æœå­˜å‚¨å¹‚ç­‰æŒ‚æ‰äº†ï¼Œå¹‚ç­‰é€»è¾‘æ— æ³•æ­£å¸¸è¿è¡Œï¼Œé‚£è¿™ä¸ªå°±ç›¸å½“äºæ²¡æœ‰å¹‚ç­‰äº†ã€‚è¿™ä¸ªæ—¶å€™å’‹æå‘¢ï¼Ÿ","like_count":9,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497455,"discussion_content":"1. å®šæœŸåˆ ä¸€ä¸‹å¾ˆè€çš„æ•°æ®\n2. è®©æ¥å£æŠ¥é”™ï¼Œåé¢ä¼šè®²åˆ°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593911139,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1668982,"avatar":"https://static001.geekbang.org/account/avatar/00/19/77/76/56740001.jpg","nickname":"çŒ¿é£æ—¥æ–©","note":"","ucode":"9ABF88EAD3965C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283210,"discussion_content":"ç»“åˆé™æµæ¡†æ¶ä¸­å®¹é”™æ€§çš„æè¿°ï¼šå¯¹äº Redis çš„å„ç§å¼‚å¸¸æƒ…å†µï¼Œæˆ‘ä»¬å¤„ç†èµ·æ¥å¹¶ä¸éš¾ï¼Œæ•è·å¹¶å°è£…ä¸ºç»Ÿä¸€çš„å¼‚å¸¸ï¼Œå‘ä¸ŠæŠ›å‡ºæˆ–è€…åæ‰å°±å¯ä»¥äº†ï¼Œè¿™é‡Œå‘ä¸ŠæŠ›å‡ºå¼‚å¸¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592211117,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224223,"user_name":"å°æ™å­","can_delete":false,"product_type":"c1","uid":1132337,"ip_address":"","ucode":"3AAA6FB5ACB6AE","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/31/f35367c8.jpg","comment_is_top":false,"comment_ctime":1591319381,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"31656090453","product_id":100039001,"comment_content":"1. RocketMQæ”¯æŒæ¶ˆæ¯å¤±è´¥å®šæ—¶é‡è¯•ã€‚<br>2. ç”¨åˆ°å¹‚ç­‰è®¾è®¡çš„è¿˜æœ‰ï¼š1ï¼‰ç”¨æˆ·çŸ­æ—¶é—´å†…å¤šæ¬¡ç‚¹å‡»æäº¤ï¼Œ2ï¼‰ç¬¬ä¸‰æ–¹å¹³å°æ¥å£ä»¥ä¸ºå¼‚å¸¸å¤šæ¬¡å¼‚æ­¥å›è°ƒã€‚","like_count":7},{"had_liked":false,"id":225518,"user_name":"ï¼Œ","can_delete":false,"product_type":"c1","uid":1701867,"ip_address":"","ucode":"A5543C8DFEB198","user_header":"https://static001.geekbang.org/account/avatar/00/19/f7/eb/e7127bb8.jpg","comment_is_top":false,"comment_ctime":1591775405,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"27361579181","product_id":100039001,"comment_content":"åä¸ªé¢˜,æœ€è¿‘åˆšå¥½åœ¨åšç¡¬ä»¶è®¾å¤‡çš„æ–­ç‚¹é‡è¿,åœºæ™¯æ˜¯è¿™æ ·çš„:<br>åœ¨ç°åœºæœ‰wifi,æ‰€æœ‰çš„ç‰©è”ç½‘è®¾å¤‡é€šè¿‡wifiè¿æ¥,æœ‰çš„è®¾å¤‡åœ¨ä¸æ–­çš„ç§»åŠ¨è¿‡ç¨‹ä¸­,å¯èƒ½ç§»åŠ¨åˆ°wifièŒƒå›´ä¹‹å¤–,è¿™ä¸ªæ—¶å€™å°±éœ€è¦æ”¯æŒæ–­ç‚¹é‡è¿,åœ¨è®¾å¤‡è¿›å…¥wifièŒƒå›´æ—¶é‡æ–°å»ºç«‹è¿æ¥,ä¸ºæ­¤,æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ¡ˆ:<br>1.æé«˜wifiä¿¡å·çš„å¼ºåº¦,å‡å°‘è¿æ¥æ–­æ‰çš„å‡ ç‡<br>2.å½“å‰ä½¿ç”¨tcpè¿æ¥,å°†å…¶ä¿®æ”¹ä¸ºudpè¿æ¥,é€šè¿‡æœåŠ¡ä¸æ–­åœ°å‘è®¾å¤‡å‘åŒ…&#47;è®¾å¤‡å‘æœåŠ¡å‘åŒ…æ¥ä¿è¯,æ­¤æ—¶ä¸éœ€è¦ä¿æŒè¿æ¥,åšæ³•ç›¸å¯¹ç®€å•<br>3.å®šæ—¶é‡è¿,é€šè¿‡å®šæ—¶ä»»åŠ¡,æ¯éš”ä¸€æ®µæ—¶é—´å°±é‡æ–°å»ºç«‹è¿æ¥<br>æ–¹æ¡ˆ1ä¸é è°±,æ¯•ç«Ÿç°åœºçš„ç¯å¢ƒç›¸å½“å¤§,æ— æ³•ä¿è¯wifièƒ½è¦†ç›–åˆ°æ¯ä¸€ä¸ªè§’è½,æˆæœ¬ä¹Ÿé«˜<br>æ–¹æ¡ˆ2æ— æ³•ä½¿ç”¨,é€šè¿‡è§‚å¯Ÿè®¾å¤‡å‚å®¶æä¾›çš„sdk,å‘ç°åªæä¾›tcpè¿æ¥çš„è°ƒç”¨æ–¹å¼,å› æ­¤è¯¥æ–¹æ¡ˆæ— æ•ˆ<br>æ–¹æ¡ˆ3æ„Ÿè§‰ä¸Šå¯è¡Œ,ä½†æ˜¯å¦‚æœè®¾å¤‡æ­£åœ¨è¿›è¡Œä¸šåŠ¡å¤„ç†æ—¶é‡è¿,åˆ™å¿…ç„¶ä¼šæœ‰è´Ÿé¢å½±å“,ä¸šåŠ¡ä¸Šæœ‰å»¶è¿Ÿ,è¿æ¥ä¹Ÿæœ‰å¯èƒ½è¿Ÿè¿Ÿå»ºç«‹ä¸èµ·æ¥<br>åœ¨ä¸Šè¿°æ€è€ƒä¹‹å,æ„Ÿè§‰åœ¨å¤±å»è¿æ¥æ—¶é‡æ–°å»ºç«‹è¿æ¥å³å¯,äºæ˜¯é€šè¿‡å­¦ä¹ å‚å®¶çš„sdk,å‘ç°ç¡®å®æœ‰æä¾›è¿æ¥æ–­å¼€ä¹‹åçš„å›è°ƒ,äºæ˜¯ç°åœ¨çš„åšæ³•åƒæ˜¯æ–¹æ¡ˆ3çš„å‡çº§ç‰ˆ,æ¯å½“è¿æ¥æ–­æ‰åå°±å°†å…¶åŠ å…¥é‡è¿é˜Ÿåˆ—,å®šæ—¶è½®è¯¢é˜Ÿåˆ—,å»ºç«‹è¿æ¥,è¿æ¥æˆåŠŸåä»é˜Ÿåˆ—ä¸­å¼¹å‡º,ä¸æˆåŠŸåˆ™åœ¨ä¸‹ä¸€è½®å®šæ—¶ä»»åŠ¡ä¸­å¤„ç†<br>  è¿™ä¸€ç‰ˆæœ¬çš„æ–­ç‚¹é‡è¿ç¨³å®šæ€§å¾ˆå¥½,ä½†æ˜¯ä¾æ—§å­˜åœ¨é—®é¢˜,æœ‰äººå‘ç°äº†å—?é‚£ä¹ˆæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢?(æé†’ä¸€ä¸‹,è¿­ä»£å™¨)","like_count":7},{"had_liked":false,"id":321716,"user_name":"éº»è–¯ä¸æ˜¯å¹´ç³•ğŸ","can_delete":false,"product_type":"c1","uid":2829972,"ip_address":"","ucode":"E3F7898E6C0485","user_header":"https://static001.geekbang.org/account/avatar/00/2b/2e/94/e16c760e.jpg","comment_is_top":false,"comment_ctime":1637024914,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10226959506","product_id":100039001,"comment_content":"æˆ‘æœ‰ä¸ªç–‘é—®ã€‚å¹‚ç­‰å·é‡‡ç”¨éšæœºæ•°ç”Ÿæˆï¼Œä¼šä¸ä¼šè¿™ä¹ˆä¸ªåœºæ™¯ï¼Œæ¯”å¦‚ä¸‹è®¢å•è¿‡ç¨‹ä¸­ç”±äºç½‘ç»œæ³¢åŠ¨ï¼Œå¯¼è‡´ç”¨æˆ·ç‚¹äº†ä¸¤æ¬¡æŒ‰é’® è°ƒç”¨äº†ä¸¤æ¬¡æ¥å£ï¼Œè¿™ç§æƒ…å†µå¹‚ç­‰å·ä¸æ˜¯ç›¸å½“äºç”Ÿæˆä¸¤ä¸ªä¸åŒçš„éšæœºæ•°å—ï¼Ÿå¦‚æœæ˜¯è¿™æ ·ï¼Œå¦‚æœç¡®ä¿æ¥å£å¹‚ç­‰æ€§å‘¢","like_count":1},{"had_liked":false,"id":227655,"user_name":"é™é™è†å¬","can_delete":false,"product_type":"c1","uid":1263932,"ip_address":"","ucode":"0A8600CB928EFE","user_header":"https://static001.geekbang.org/account/avatar/00/13/49/3c/5d54c510.jpg","comment_is_top":false,"comment_ctime":1592449631,"is_pvip":false,"replies":[{"id":"83992","content":"æ˜¯çš„ï¼Œè·Ÿé™æµæ¡†æ¶å¯¹å¼‚å¸¸çš„å¤„ç†ä¸åŒã€‚åé¢ä¸¤ç¯‡æœ‰è§£ç­”ã€‚","user_name":"ä½œè€…å›å¤","comment_id":227655,"uid":"1190123","ip_address":"","utype":1,"ctime":1592525492,"user_name_real":"ç‹äº‰"}],"discussion_count":1,"race_medal":0,"score":"10182384223","product_id":100039001,"comment_content":"å¹‚ç­‰å¦‚æœå¤–éƒ¨å­˜å‚¨æŒ‚æ‰äº†ï¼Œå°±ä¸èƒ½è®©ä¸šåŠ¡æ­£å¸¸ä½¿ç”¨äº†å§ï¼Œå¦åˆ™ä¼šå‡ºé—®é¢˜","like_count":2},{"had_liked":false,"id":224467,"user_name":"jaryoung","can_delete":false,"product_type":"c1","uid":1077406,"ip_address":"","ucode":"6E72D107DB7E51","user_header":"https://static001.geekbang.org/account/avatar/00/10/70/9e/5095f881.jpg","comment_is_top":false,"comment_ctime":1591412009,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10181346601","product_id":100039001,"comment_content":"1. é‡è¯•æ— å¤„ä¸åœ¨ï¼Œæ¯”å¦‚ï¼Œnginxã€dubboã€feign éƒ½é‡è¯•æœºåˆ¶ï¼Œä½ è¿˜èƒ½æƒ³åˆ°å“ªäº›å…¶ä»–çš„é‡è¯•åœºæ™¯å—ï¼Ÿ<br>ç­”ï¼šé•¿è¿æ¥å› ä¸ºè¶…æ—¶è¢«æœåŠ¡ç«¯æ–­å¼€ï¼ˆæ­£å¸¸çš„è®¿é—®ï¼Œä½†æ˜¯åœ¨ç¼“å­˜æ± é‡Œé¢æ‹¿å‡ºæ¥çš„æ•°æ®ï¼Œåˆšåˆšå¥½è¢«æœåŠ¡ç«¯æ–­å¼€ã€‚ï¼‰ï¼Œå…¶å®è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦é‡æ–°å‘èµ·è¯·æ±‚ã€‚<br><br>2. è¶…æ—¶é‡è¯•åªæ˜¯æ¥å£å¹‚ç­‰çš„ä¸€ä¸ªéœ€æ±‚åœºæ™¯ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¤„ç†æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ¶ˆæ¯é‡å¤çš„ä¸€ç§å¸¸ç”¨æ–¹æ³•ï¼Œå°±æ˜¯å°†æ¶ˆæ¯å¯¹åº”çš„ä¸šåŠ¡é€»è¾‘è®¾è®¡æˆå¹‚ç­‰çš„ã€‚å› ä¸ºä¸šåŠ¡é€»è¾‘æ˜¯å¹‚ç­‰çš„ï¼Œæ‰€ä»¥å¤šæ¬¡æ¥æ”¶é‡å¤æ¶ˆæ¯ä¸ä¼šå¯¼è‡´é‡å¤æ‰§è¡Œä¸šåŠ¡é€»è¾‘ã€‚é™¤äº†è¿™äº›åœºæ™¯ï¼Œä½ è¿˜çŸ¥é“æœ‰å“ªäº›å…¶ä»–åœºæ™¯éœ€è¦ç”¨åˆ°å¹‚ç­‰è®¾è®¡ï¼Ÿ<br>ç­”ï¼šæˆ‘è§‰å¾—è¿™ä¸ªé—®é¢˜ï¼Œå¤šæ¬¡é‡è¯•æ¥å£ï¼Œä¼šä¸ä¼šäº§ç”Ÿå¼‚å¸¸çš„æƒ…å†µã€‚ä¾‹å¦‚ï¼Œäº§ç”Ÿè„æ•°æ®ï¼Œä¸¥é‡çš„äº§ç”Ÿäº†åŒèŠ±ç­‰ç­‰ã€‚","like_count":2},{"had_liked":false,"id":224327,"user_name":"ç³–é†‹æ’éª¨","can_delete":false,"product_type":"c1","uid":1620507,"ip_address":"","ucode":"00ED918A220077","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epTx3WM1A1hxjOmtfQNa0QQ01QUlhaaSHrZ3OcnzYibY1gFeNFAcZ7yQpxZsbyk7D9m6JA9X5j44tA/132","comment_is_top":false,"comment_ctime":1591345744,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10181280336","product_id":100039001,"comment_content":"åº”è¯¥ä¹Ÿè¦è€ƒè™‘å¹¶å‘çš„æƒ…å†µå§ï¼Œå¹¶å‘æƒ…å†µä¸‹ï¼Œè¿™æ ·çš„åˆ¤æ–­é€»è¾‘æ˜¯ä¸å®‰å…¨çš„","like_count":2},{"had_liked":false,"id":251228,"user_name":"ğŸ‘½","can_delete":false,"product_type":"c1","uid":1274117,"ip_address":"","ucode":"D313AF941B412D","user_header":"https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg","comment_is_top":false,"comment_ctime":1601430340,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5896397636","product_id":100039001,"comment_content":"è¿™ä¸ªè¦å…³è”ä¸€ä¸‹æœ±æ™”è€å¸ˆçš„ä¸“æ â€”â€”ç¬¬äº”è®²<br><br>éœ€è¦å…³æ³¨ä¸€ä¸‹ï¼Œéƒ¨åˆ†æ¡†æ¶ è¯·æ±‚çš„methodï¼Œgetè¯·æ±‚æ˜¯ä¼šè‡ªåŠ¨é‡è¯•çš„ï¼Œå› ä¸ºgeté»˜è®¤å°±è®¤ä¸ºå®ƒä¸­é—´ä¸ä¼šåšä»»ä½•æ“ä½œï¼Œæ˜¯å¹‚ç­‰çš„ã€‚æ‰€ä»¥ï¼Œå¦‚æœè¯·æ±‚ä¸­åŒ…å«æ¶‰åŠæ•°æ®æ“ä½œï¼Œæˆ–è€…çŸ­ä¿¡ï¼ŒæœåŠ¡è°ƒç”¨ä¸šåŠ¡çš„ï¼Œå°±éœ€è¦è€ƒè™‘æ˜¯å¦ä»ç„¶å°†å…¶è®¾ç½®ä¸ºget","like_count":1},{"had_liked":false,"id":224319,"user_name":"djfhchdh","can_delete":false,"product_type":"c1","uid":1484184,"ip_address":"","ucode":"E71D75328CE398","user_header":"https://static001.geekbang.org/account/avatar/00/16/a5/98/a65ff31a.jpg","comment_is_top":false,"comment_ctime":1591344215,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5886311511","product_id":100039001,"comment_content":"2ã€æ”¯ä»˜æ¥å£å¯¹äºåŒä¸€ç¬”æ”¯ä»˜è¯·æ±‚ï¼Œéœ€è¦å¹‚ç­‰","like_count":1},{"had_liked":false,"id":224298,"user_name":"Heaven","can_delete":false,"product_type":"c1","uid":1694207,"ip_address":"","ucode":"FA33FBCC66C911","user_header":"https://static001.geekbang.org/account/avatar/00/19/d9/ff/b23018a6.jpg","comment_is_top":false,"comment_ctime":1591339185,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5886306481","product_id":100039001,"comment_content":"1.TCPç»´æŠ¤çš„é‡è¯•æœºåˆ¶<br>2.å¯¹äºæ”¯ä»˜æ¥å£çš„å¹‚ç­‰æ€§éœ€æ±‚,ä¸€èˆ¬æ”¯ä»˜å‹æ¥å£éƒ½æ˜¯æœ‰ç€è°ƒç”¨å…¶ä»–æ¥å£æŸ¥è¯¢ç»“æœçš„æ–¹å¼","like_count":1,"discussions":[{"author":{"id":2833619,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/3c/d3/fab9d588.jpg","nickname":"æ¢é›ª","note":"","ucode":"2332650D9C8D54","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537835,"discussion_content":"åœ¨å‰ä¸¤å¤©ï¼Œlog4jçˆ†å‡ºæ¥æ¼æ´ï¼Œå“ˆå“ˆ~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639215345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224166,"user_name":"Jxin","can_delete":false,"product_type":"c1","uid":1251111,"ip_address":"","ucode":"4C03928388C413","user_header":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","comment_is_top":false,"comment_ctime":1591290350,"is_pvip":false,"replies":[{"id":"84005","content":"å“ˆå“ˆï¼Œçœ‹åé¢çš„ä¸¤ç¯‡æ–‡ç« ï¼Œæœ‰è§£é‡Šçš„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":224166,"uid":"1190123","ip_address":"","utype":1,"ctime":1592527030,"user_name_real":"ç‹äº‰"}],"discussion_count":1,"race_medal":0,"score":"5886257646","product_id":100039001,"comment_content":"1.å½“ç»™ä»£ç åˆ†è®ºåˆ«ç±»ä¹ æƒ¯äº†ã€‚é‚£ä¸šåŠ¡ä»£ç å’ŒæŠ€æœ¯ä»£ç çš„è€¦åˆå°±æŒºæ‰çœ¼ï¼Œæ€»æƒ³ç€åˆ†ç¦»ï¼Œé€æ˜æ‰æŠ€æœ¯ä»£ç ï¼Œä¿æŠ¤ä¸šåŠ¡ä»£ç çš„å¹²å‡€ã€‚<br><br>è¯¾åé¢˜<br>1.mqæ¶ˆè´¹é‡è¯•ï¼Œç½‘ç»œä¸¢åŒ…é‡è¯•ã€‚ã€‚ã€‚<br>2.æŠ€æœ¯ä¸Šçš„æƒ³ä¸åˆ°ã€‚æœ‰é‡è¯•çš„åœ°æ–¹å¥½åƒéƒ½è¦ã€‚<br><br>ç–‘é—®<br>å®¹é”™æ€§è¿™ä¸ªæœ‰ç‚¹ä¸ç†è§£ã€‚é™æµè¿™ä¸ªä¸ç”Ÿæ•ˆè¿˜å¥½è¯´ã€‚å¹‚ç­‰åŠŸèƒ½ä¸ç”Ÿæ•ˆï¼Ÿåˆ·æ•°å·²ç»åœ¨è·¯ä¸Šã€‚","like_count":1,"discussions":[{"author":{"id":2920655,"avatar":"","nickname":"Geek_69090b","note":"","ucode":"758C05A4865E4F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":553253,"discussion_content":"å‡è®¾å­ç±»è¦ç”¨ä¸€ä¸ªçˆ¶ç±»çš„æ–¹æ³•ï¼Œåªèƒ½ç”¨çˆ¶ç±»çš„ï¼Œæ— æ³•æ”¹å˜ï¼Œå¦‚æœç”¨æ³¨å…¥çš„è¯ï¼Œæ³¨å…¥çš„ç±»çš„æ–¹æ³•æ˜¯å¯ä»¥æ”¹å˜çš„ï¼Œåƒå¦‚ç­–ç•¥æ¨¡å¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645788244,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308980,"user_name":"è¿ˆå‘æ¶æ„å¸ˆ","can_delete":false,"product_type":"c1","uid":1637228,"ip_address":"","ucode":"2476594CF76001","user_header":"https://static001.geekbang.org/account/avatar/00/18/fb/6c/12fdc372.jpg","comment_is_top":false,"comment_ctime":1629878985,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1629878985","product_id":100039001,"comment_content":"æ–­ç‚¹ç»­ä¼ ç®—é‡è¯•å—","like_count":0},{"had_liked":false,"id":267753,"user_name":"Laughing","can_delete":false,"product_type":"c1","uid":1002134,"ip_address":"","ucode":"F68F1E000CA800","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/96/99466a06.jpg","comment_is_top":false,"comment_ctime":1607912585,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607912585","product_id":100039001,"comment_content":"æˆ‘ä¸€ç›´è®¤ä¸ºä¿æŒå¹‚ç­‰çš„åŒæ—¶ï¼Œé™ä½å¹‚ç­‰å¯¹ä¸šåŠ¡å½±å“çš„å»¶è¿Ÿæ˜¯æœ€éš¾çš„åœ°æ–¹ï¼Œæœ¬èº«å¹‚ç­‰çš„æ¦‚å¿µå’Œè®¾è®¡éƒ½ä¸ç®—å¾ˆå¤§çš„éš¾ç‚¹ã€‚","like_count":0},{"had_liked":false,"id":251058,"user_name":"æˆ‘å·²ç»è®¾ç½®äº†æ˜µç§°","can_delete":false,"product_type":"c1","uid":1364034,"ip_address":"","ucode":"ED672C5EBDBDC4","user_header":"https://static001.geekbang.org/account/avatar/00/14/d0/42/6fd01fb9.jpg","comment_is_top":false,"comment_ctime":1601347125,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601347125","product_id":100039001,"comment_content":"dubboæ¥å£é»˜è®¤è¶…æ—¶é‡è¯•ä¸‰æ¬¡ï¼Œä½†æœ‰å¯èƒ½å°±æ˜¯æä¾›è€…å¤„ç†æ—¶é—´å¾ˆé•¿ï¼Œè¿™é‡Œæˆ‘ç†è§£å…¶å®ä¸éœ€è¦é‡è¯•ã€‚<br>è€Œå¦‚æœæ˜¯å‡ºé”™é‡è¯•ï¼Œé‚£æˆ‘ç†è§£å°±æ˜¯éœ€è¦é‡è¯•ã€‚<br>é‡è¯•è¿™ä»¶äº‹æƒ…æ— æ³•ä¸€æ¦‚è€Œè®ºï¼Œå¦‚æœç»Ÿä¸€çš„åšäº†å¹‚ç­‰ï¼Œé‚£ä¹ˆå‡ºé”™é‡è¯•çš„æƒ…å†µä¸‹å°±ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±äº†ã€‚","like_count":0},{"had_liked":false,"id":241725,"user_name":"Magic","can_delete":false,"product_type":"c1","uid":1272047,"ip_address":"","ucode":"FD9CEDAA419EB0","user_header":"https://static001.geekbang.org/account/avatar/00/13/68/ef/6264ca3d.jpg","comment_is_top":false,"comment_ctime":1597402478,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597402478","product_id":100039001,"comment_content":"1 httpï¼Œcaså†²çª<br>2 caså†²çª","like_count":0},{"had_liked":false,"id":241502,"user_name":"æ±‰æ±Ÿ","can_delete":false,"product_type":"c1","uid":1788647,"ip_address":"","ucode":"01622D984B8F9B","user_header":"https://static001.geekbang.org/account/avatar/00/1b/4a/e7/6c16af5d.jpg","comment_is_top":false,"comment_ctime":1597312378,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597312378","product_id":100039001,"comment_content":"æ”¯ä»˜ä¸­çš„é€€æ¬¾ä¹Ÿæ˜¯å¹‚ç­‰çš„","like_count":0},{"had_liked":false,"id":232549,"user_name":"maybe","can_delete":false,"product_type":"c1","uid":1475528,"ip_address":"","ucode":"93D160F617E750","user_header":"https://static001.geekbang.org/account/avatar/00/16/83/c8/5ce842f6.jpg","comment_is_top":false,"comment_ctime":1594033659,"is_pvip":false,"discussion_count":0,"race_medal":4,"score":"1594033659","product_id":100039001,"comment_content":"1ã€httpclientè¯·æ±‚é‡è¯•ï¼Œæ•°æ®åº“è·å–é“¾æ¥é‡è¯•<br>2ã€å¤–éƒ¨ç³»ç»Ÿæ¶ˆæ¯å›è°ƒé‡å¤","like_count":0,"discussions":[{"author":{"id":1438860,"avatar":"https://static001.geekbang.org/account/avatar/00/15/f4/8c/0866b228.jpg","nickname":"å­æˆ¿","note":"","ucode":"CB05938C248BB3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340081,"discussion_content":"æ˜¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609899938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226691,"user_name":"ç¾ç¾","can_delete":false,"product_type":"c1","uid":1148422,"ip_address":"","ucode":"44CC95C45AF345","user_header":"https://static001.geekbang.org/account/avatar/00/11/86/06/72b01bb7.jpg","comment_is_top":false,"comment_ctime":1592185792,"is_pvip":false,"replies":[{"id":"83995","content":"æ²¡çœ‹æ‡‚ä½ è¯´çš„ç¬¬ä¸€å°æœºçš„æ—¥å¿—æ²¡æœ‰ä»·å€¼çš„æ„æ€å‘¢ï¼Ÿä¸¤å°æœºå™¨å¤§éƒ¨åˆ†éƒ½æ˜¯ç‹¬ç«‹æ‰§è¡Œä»»åŠ¡çš„å§ï¼Œæ—¥å¿—æœ¬æ¥å°±ä¸éœ€è¦äº’é€šçš„å§","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹äº‰","uid":"1190123","ctime":1592526241,"ip_address":"","comment_id":226691,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1592185792","product_id":100039001,"comment_content":"åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæœ‰ä¸€å°æœºå™¨æŒ‚äº†ï¼Œè¯·æ±‚ä¼šæ‰“åˆ°å¦ä¸€å°æœºå™¨ä¸Šï¼Œè¿™ä¸ªæ—¶å€™ï¼Œç¬¬äºŒå°æœºå™¨ä¸çŸ¥é“ç¬¬ä¸€å°æ˜¯ä»€ä¹ˆæƒ…å†µï¼Œç¬¬ä¸€å°çš„æ—¥å¿—ï¼Œæˆ‘è®¤ä¸ºä¹Ÿæ²¡æœ‰ä»€ä¹ˆä»·å€¼äº†ï¼Œé™¤éæœåŠ¡æœ‰çŠ¶æ€ï¼ŒæŸä¸€ä¸ªè¯·æ±‚ä¸€ç›´åªæ‰“åˆ°ä¸€å°æœåŠ¡å™¨ä¸Šï¼Œä½†è¿™ä¸ªè®¾è®¡å°±å¾ˆå¤æ‚äº†ï¼Œè€å¸ˆæœ‰åˆ«çš„å»ºè®®å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1190123,"avatar":"https://static001.geekbang.org/account/avatar/00/12/28/eb/af064421.jpg","nickname":"ç‹äº‰","note":"","ucode":"2B611BE0E0EDD4","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498334,"discussion_content":"æ²¡çœ‹æ‡‚ä½ è¯´çš„ç¬¬ä¸€å°æœºçš„æ—¥å¿—æ²¡æœ‰ä»·å€¼çš„æ„æ€å‘¢ï¼Ÿä¸¤å°æœºå™¨å¤§éƒ¨åˆ†éƒ½æ˜¯ç‹¬ç«‹æ‰§è¡Œä»»åŠ¡çš„å§ï¼Œæ—¥å¿—æœ¬æ¥å°±ä¸éœ€è¦äº’é€šçš„å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592526241,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1009422,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/67/0e/c77ad9b1.jpg","nickname":"eason2017","note":"","ucode":"E070BA624FA490","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290135,"discussion_content":"å…¶å®ï¼Œè¿™ä¸ªæƒ…å†µï¼Œæœ‰ç‚¹ç±»ä¼¼åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œéœ€è¦æœ‰ä¸€ä¸ªä¸­å¿ƒå™¨è®°å½•æ¯ä¸ªäº‹ç‰©æ‰§è¡Œçš„çŠ¶æ€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594353352,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226232,"user_name":"è¾£ä¹ˆå¤§","can_delete":false,"product_type":"c1","uid":1396951,"ip_address":"","ucode":"AB308B6DCA0108","user_header":"https://static001.geekbang.org/account/avatar/00/15/50/d7/f82ed283.jpg","comment_is_top":false,"comment_ctime":1592011478,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1592011478","product_id":100039001,"comment_content":"å¹‚ç­‰æ€§åŸæœ¬æ˜¯æ•°å­¦ä¸Šçš„æ¦‚å¿µï¼Œå³ä½¿å…¬å¼ï¼šf(x)=f(f(x)) èƒ½å¤Ÿæˆç«‹çš„æ•°å­¦æ€§è´¨ã€‚ ç”¨åœ¨ç¼–ç¨‹é¢†åŸŸï¼Œåˆ™æ„ä¸ºå¯¹åŒä¸€ä¸ªç³»ç»Ÿï¼Œä½¿ç”¨åŒæ ·çš„æ¡ä»¶ï¼Œä¸€æ¬¡è¯·æ±‚å’Œé‡å¤çš„å¤šæ¬¡è¯·æ±‚å¯¹ç³»ç»Ÿèµ„æºçš„å½±å“æ˜¯ä¸€è‡´çš„ã€‚<br><br>ä»å¹‚ç­‰æ€§çš„æ ¹æºè€ƒè™‘ï¼šCREATEå’ŒUPDATEæ—¶å€™éœ€è¦è€ƒè™‘å¹‚ç­‰æ€§ï¼Œä¸šåŠ¡è®¾è®¡åˆ°è·Ÿè¿™ä¸ªç›¸å…³çš„éœ€è¦è€ƒè™‘å¹‚ç­‰æ€§ã€‚ä¾‹å¦‚ç”³è¯·ï¼Œæ”¯ä»˜ï¼Œç½‘è´­æ”¯ä»˜ï¼Œæ¸¸æˆå……å€¼ã€‚å®ç°æ–¹å¼ï¼šå¯ä»¥æ˜¯TOKENï¼Œæ•°æ®åº“å”¯ä¸€IDï¼Œæˆ–è€…çŠ¶æ€æœºã€‚<br><br>æˆ‘ä¸‹ä½¿ç”¨ä¸‹è½½å·¥å…·ä¸‹è½½ç”µå½±çš„æ—¶å€™ä¼šè¶…æ—¶é‡è¯•ã€‚","like_count":0}]}
{"id":98364,"title":"38 | 网络基础及请求的封装","content":"<p><strong>PDF 课件和源代码下载地址：</strong></p><p><a href=\"https://gitee.com/geektime-geekbang/geektime-ios-course\">https://gitee.com/geektime-geekbang/geektime-ios-course</a></p>","comments":[{"had_liked":false,"id":127400,"user_name":"zero","can_delete":false,"product_type":"c3","uid":1640556,"ip_address":"","ucode":"C8CB775680F0AF","user_header":"","comment_is_top":false,"comment_ctime":1566698215,"is_pvip":false,"replies":[{"id":47289,"content":"iOS13+ 系统新增了NSURLSessionWebSocketTask 不知道是否能满足你的需求，在之前的话就需要自己实现了，有些相关的开源框架，比如CocoaAsyncSocket SocketRocket 等等","user_name":"作者回复","user_name_real":"朱德权","uid":1041455,"ctime":1566782280,"ip_address":"","comment_id":127400,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"ios可以发送socket请求吗\n","like_count":2,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":464475,"discussion_content":"iOS13+ 系统新增了NSURLSessionWebSocketTask 不知道是否能满足你的需求，在之前的话就需要自己实现了，有些相关的开源框架，比如CocoaAsyncSocket SocketRocket 等等","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566782280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":100418,"user_name":"memoryshy","can_delete":false,"product_type":"c3","uid":1149612,"ip_address":"","ucode":"7C81B54AA606D4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/mfS8oicmVTKoHkQnveMdIibGtibu6D8MgohXXK1VpwsOic1aVHud2rwt76xpODziaP17tQWpDHASXh0HZ87O4GHwnfQ/132","comment_is_top":false,"comment_ctime":1559552563,"is_pvip":false,"replies":[{"id":36241,"content":"最好上传下代码 发地址我看下哈","user_name":"作者回复","user_name_real":"dequanzhu","uid":1041455,"ctime":1559609885,"ip_address":"","comment_id":100418,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"有头文件却提示找不到，文件在同一个文件夹里却可以，是什么问题？","like_count":1,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452537,"discussion_content":"最好上传下代码 发地址我看下哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1559609885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1473048,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7a/18/b904e8ee.jpg","nickname":"CyberNinja","note":"","ucode":"168BF62361A400","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":362979,"discussion_content":"我当时也出的这个问题，报的错误是无法发现这个文件，我是新建了组忘了改组名了，用的是默认的NEW GROUP后面把名字改了就好了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617083516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":146480,"user_name":"vip3","can_delete":false,"product_type":"c3","uid":1317600,"ip_address":"","ucode":"2523A7625E0D92","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK5Mw07oqo74wricoE40vPU9xeSZHmyR6aZfDotibPBAQmb8AcUJ7xHicwjIBpNJ6lkXVxVLic2rH8Mzw/132","comment_is_top":false,"comment_ctime":1572533970,"is_pvip":false,"replies":[{"id":56670,"content":"不确定具体的业务逻辑，单纯的判断我们通过IP地址和子网掩码应该就可以吧，具体的获取方式：https:&#47;&#47;stackoverflow.com&#47;questions&#47;29845182&#47;how-to-get-local-and-subnet-mask-ip-address-in-swift 。同时类似的场景我的理解，单纯的判断不可靠吧，是否需要广播下，类似使用Bonjour，https:&#47;&#47;developer.apple.com&#47;library&#47;archive&#47;documentation&#47;Cocoa&#47;Conceptual&#47;NetServices&#47;Introduction.html","user_name":"作者回复","user_name_real":"zzz","uid":1041455,"ctime":1572576671,"ip_address":"","comment_id":146480,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"老师，请教一下我如果想检测一个iOS的pad应用是否与一个PC应用连接到了同一个子网上，有没有什么比较靠谱的检测方法？因为想让iOS的这个应用与PC端应用中启动的本地websocket server进行连接，以直接双向通信。","like_count":0,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472877,"discussion_content":"不确定具体的业务逻辑，单纯的判断我们通过IP地址和子网掩码应该就可以吧，具体的获取方式：https://stackoverflow.com/questions/29845182/how-to-get-local-and-subnet-mask-ip-address-in-swift 。同时类似的场景我的理解，单纯的判断不可靠吧，是否需要广播下，类似使用Bonjour，https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/NetServices/Introduction.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572576671,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137402,"user_name":"Rilakkuma","can_delete":false,"product_type":"c3","uid":1241274,"ip_address":"","ucode":"CEF56175ECF174","user_header":"https://static001.geekbang.org/account/avatar/00/12/f0/ba/55d67ed2.jpg","comment_is_top":false,"comment_ctime":1569731341,"is_pvip":false,"replies":[{"id":52961,"content":"https:&#47;&#47;static001.geekbang.org&#47;univer&#47;classes&#47;ios_dev&#47;lession&#47;45&#47;toutiao.json, 相应的代码可以直接clone课程代码哈，在https:&#47;&#47;github.com&#47;dequan1331&#47;geektime-ios-course","user_name":"作者回复","user_name_real":"朱德权","uid":1041455,"ctime":1569892570,"ip_address":"","comment_id":137402,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"代码里的url 能不能发一下啊 太长太复杂了😂","like_count":0,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469073,"discussion_content":"https://static001.geekbang.org/univer/classes/ios_dev/lession/45/toutiao.json, 相应的代码可以直接clone课程代码哈，在https://github.com/dequan1331/geektime-ios-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569892570,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105280,"user_name":"Storage","can_delete":false,"product_type":"c3","uid":1506973,"ip_address":"","ucode":"ABF019D3B3365D","user_header":"https://static001.geekbang.org/account/avatar/00/16/fe/9d/dc0db557.jpg","comment_is_top":false,"comment_ctime":1560954607,"is_pvip":false,"replies":[{"id":38175,"content":"网络 存储 图片 视频之后的模块 就是适配哈 主要是UI 图片 以及iphonex适配","user_name":"作者回复","user_name_real":"dequanzhu","uid":1041455,"ctime":1561008559,"ip_address":"","comment_id":105280,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"什么时候讲适配呢？老师","like_count":0,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454618,"discussion_content":"网络 存储 图片 视频之后的模块 就是适配哈 主要是UI 图片 以及iphonex适配","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561008559,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101438,"user_name":"memoryshy","can_delete":false,"product_type":"c3","uid":1149612,"ip_address":"","ucode":"7C81B54AA606D4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/mfS8oicmVTKoHkQnveMdIibGtibu6D8MgohXXK1VpwsOic1aVHud2rwt76xpODziaP17tQWpDHASXh0HZ87O4GHwnfQ/132","comment_is_top":false,"comment_ctime":1559809016,"is_pvip":false,"replies":[{"id":36896,"content":"我下载了代码运行是正常的哈，之后这种情况可以clean一下，在Product-clean build folder中，或者直接删除Derived Data. iOS13看时间哈，应该不会涉及，初步看对于iOS需要适配的方面也不多，大多是别的方面的新功能以及改动。","user_name":"作者回复","user_name_real":"dequanzhu","uid":1041455,"ctime":1560196668,"ip_address":"","comment_id":101438,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100025901,"comment_content":"不知道怎么的，运行又好了，接下来讲的会对ios13适配吗\n这个是项目文件地址：https:&#47;&#47;5.memoryshy.top&#47;SimpleApp.zip","like_count":0,"discussions":[{"author":{"id":1041455,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKJ3dLlYr6tznfnZXJNsD7Jw48BVnFSib3RO3VWEN0pgebRY1jaR8YXLQ6iaAjTsFiamOWSA3UPAa37A/132","nickname":"Geek_e7jq8k","note":"","ucode":"352964E5D793DA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452962,"discussion_content":"我下载了代码运行是正常的哈，之后这种情况可以clean一下，在Product-clean build folder中，或者直接删除Derived Data. iOS13看时间哈，应该不会涉及，初步看对于iOS需要适配的方面也不多，大多是别的方面的新功能以及改动。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560196668,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":773267,"title":"10ï½œç´¢å¼•ç­¾åä¸åˆ—è¡¨ï¼ˆæ•°ç»„å’Œå…ƒç»„ï¼‰","content":"","comments":[{"had_liked":false,"id":390587,"user_name":"westfall","can_delete":false,"product_type":"c3","uid":1632773,"ip_address":"ä¸­å›½é¦™æ¸¯","ucode":"F3F5CB7DF695FC","user_header":"https://static001.geekbang.org/account/avatar/00/18/ea/05/9976b871.jpg","comment_is_top":false,"comment_ctime":1715701621,"is_pvip":false,"replies":[{"id":142074,"content":"å‘µå‘µå‘µï¼Œæˆ‘æƒ³äº†æƒ³ï¼Œä¹Ÿæ²¡å…¶å®ƒä¸»æ„ã€‚^^.","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1521669,"ctime":1715744292,"ip_address":"æ±Ÿè‹","comment_id":390587,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"class MyClass {} ç›¸å½“äº class MyClass implements MyClassï¼Œå› ä¸º interface MyClass çš„ç´¢å¼•ç­¾åé™åˆ¶äº†ç±» MyClass çš„æˆå‘˜åªèƒ½æ˜¯ stringï¼Œæ‰€ä»¥ä¼šå¤±è´¥ã€‚å¥½å¥‡é—®ä¸€ä¸‹ï¼Œå¦‚æœæƒ³è®© foo å¯ä»¥åŠ ä¸Šå»ï¼Œåªæƒ³åˆ°è¿™ç§æ–¹æ³•ï¼Œä¸çŸ¥é“æ˜¯å¦æœ‰å…¶ä»–çš„æ–¹æ³•ï¼Ÿ\n```\ntype Foo = () =&gt; number;\n\ninterface MyClass {\n    [key: string | &#39;1&#39; | &#39;2&#39; | &#39;3&#39;]: string | Foo;\n}\n\nclass MyClass implements MyClass {\n    a: string = &#39;h&#39;;\n    foo() {\n        return 1;\n    }\n}\n```","like_count":2,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645063,"discussion_content":"å‘µå‘µå‘µï¼Œæˆ‘æƒ³äº†æƒ³ï¼Œä¹Ÿæ²¡å…¶å®ƒä¸»æ„ã€‚^^.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1715744292,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645534,"discussion_content":"å¯¹äº†ï¼Œä¹Ÿä¸ç®—æ²¡æœ‰åŠæ³•ã€‚å¯ä»¥å°†ç­¾åå†™åˆ°class MyClass {}çš„å£°æ˜ä½“å†…ï¼Œä½†å®é™…å†™æ³•å’Œæ„ä¹‰ä¸åœ¨å¤–é¢çš„æ¥å£æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1716304028,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":390784,"user_name":"Jack Q","can_delete":false,"product_type":"c3","uid":1160078,"ip_address":"å¹¿ä¸œ","ucode":"A7DBC311884FFA","user_header":"https://static001.geekbang.org/account/avatar/00/11/b3/8e/1c564eb2.jpg","comment_is_top":false,"comment_ctime":1716278045,"is_pvip":false,"replies":[{"id":142120,"content":"ç‚¹èµçš„ä½œä¸šã€‚ğŸ‘\n\nä½†æ˜¯ä½ åœ¨å‰é¢çš„ç­”æ¡ˆä¸­ç”¨åˆ°äº†â€œè¿”å›å€¼â€ä¸€è¯ï¼Œè¿™ä¸ªå¹¶ä¸æ­£ç¡®ã€‚åœ¨å¯¹è±¡ç±»å‹ä¸­å­˜åœ¨çš„ï¼Œè¦ä¹ˆæ˜¯â€œç´¢å¼•ï¼ˆçš„ï¼‰ç±»å‹â€ï¼Œè¦ä¹ˆæ˜¯â€œå€¼ï¼ˆçš„ï¼‰ç±»å‹â€ã€‚è€Œä¸æ˜¯â€œè¿”å›å€¼ç±»å‹â€ï¼Œå¹¶ä¸”ä¹Ÿä¸foo() { return ... }ä¸­çš„è¿”å›å€¼æ²¡æœ‰å…³ç³»ï¼Œçº¯ç²¹æ˜¯fooä½œä¸ºâ€œç´¢å¼•&#47;é”®â€ï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼‰ï¼Œå®ƒçš„å€¼ç±»å‹åªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œè€Œä¸èƒ½æ˜¯å‡½æ•°ç±»å‹ã€‚â€”â€”ä½ è¯•è¯•ä¿®æ”¹interface MyClassä¸­çš„ç´¢å¼•ç­¾åï¼Œæƒ³åŠæ³•è®©foo()å£°æ˜èƒ½é€šè¿‡ï¼ˆåªè¦èƒ½é€šè¿‡å£°æ˜ï¼Œä½ å°±æ˜ç™½äº†ï¼‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1521669,"ctime":1716290687,"ip_address":"æ±Ÿè‹","comment_id":390784,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"interface MyClass {\n  [key: string | &#39;1&#39; | &#39;2&#39; | &#39;3&#39; | &#39;4&#39;]:  string;\n}\n&#47;&#47; string | &#39;1&#39; | &#39;2&#39; | &#39;3&#39; | &#39;4&#39; ä¸­çš„ &#39;1&#39; | &#39;2&#39; | &#39;3&#39; | &#39;4&#39; å¹¶ä¸ä¼šæ”¹å˜ç´¢å¼•ç­¾åçš„æœ¬è´¨, æœ€ç»ˆéƒ½ä¼š æŠ½è±¡ä¸º string\n&#47;&#47; æ‰€ä»¥ interface MyClass æœ€ç»ˆå…¶å® ç­‰æ•ˆäº { [key: string]: string }\nclass MyClass {\n  a: string = &#39;1&#39;;\n  &#47;&#47; foo åœ¨ ts çš„ç±»å‹ç³»ç»Ÿ ä¸­ ä¼šè¢«è§†ä½œ æ–¹æ³•ç­¾å\n  &#47;&#47; foo å£°æ˜å¤±è´¥æ˜¯å› ä¸º\n  &#47;&#47; æ–¹æ³•ç­¾å æ˜¯ä¸æ»¡è¶³ interface MyClass ä¸­çš„å£°æ˜çš„ç´¢å¼•ç­¾åçš„è¦æ±‚(è¯¥ç´¢å¼•ç­¾åè¦æ±‚ ç´¢å¼•ä¸º stringçš„ å±æ€§ è¿”å›å€¼ä¸€å®šæ˜¯ number)\n  foo() {\n    return 1;\n  }\n}\n\nlet obj = new MyClass;\ntype A = Omit&lt;MyClass, never&gt;;\n&#47;&#47;   ^?\n&#47;&#47; interface MyClass ç­‰æ•ˆäº { [key: string]: string } \n&#47;&#47; å®é™…ä¸Šä¹Ÿéšå¼åœ°å…è®¸äº†ä½¿ç”¨æ•°å­—ä½œä¸ºç´¢å¼•\n&#47;&#47; å› ä¸º JavaScript åœ¨å¯¹è±¡ä¸Šè®¿é—®å±æ€§æ—¶ï¼Œä¼šå°†æ•°å­—ç´¢å¼•è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç´¢å¼•\n&#47;&#47; obj[1] èµ‹å€¼æç¤ºå¤±è´¥ æ˜¯å› ä¸º ç­‰å·å³ä¾§çš„ Assignment éƒ¨åˆ† ä¸æ»¡è¶³ ç´¢å¼•ç­¾åçš„å¯¹è¿”å›å€¼çš„è¦æ±‚\n&#47;&#47; è€Œä¸æ˜¯å› ä¸º ç´¢å¼•æ˜¯ 1 è¿™ä¸ª number çš„é—®é¢˜\nobj[1] = 100;\n\n&#47;&#47; ReadonlyArray(åªè¯»æ•°ç»„)\n&#47;&#47; ReadonlyArray ç”¨äºåˆ›å»ºä¸€ä¸ªå…¶å…ƒç´ ä¸å¯è¢«ä¿®æ”¹çš„æ•°ç»„,æ‰€ä»¥ä¸å­˜åœ¨ Array ä¸­ ä¿®æ”¹ç›¸å…³çš„ æ–¹æ³•ç­¾å\n&#47;&#47; æ–¹å¼1\nlet a: ReadonlyArray&lt;number&gt; = [1, 2, 3];\na[0] = 5; &#47;&#47; Index signature in type &#39;readonly number[]&#39; only permits reading\na.push(5); &#47;&#47; Property &#39;push&#39; does not exist on type &#39;readonly number[]&#39;\n&#47;&#47; æ–¹å¼2\nlet b: readonly number[] = [4, 5, 6];\nb[0] = 1; &#47;&#47; Index signature in type &#39;readonly number[]&#39; only permits reading\nb.push(1) &#47;&#47; Property &#39;push&#39; does not exist on type &#39;readonly number[]&#39;.\n&#47;&#47; æ–¹å¼3 (å…ƒç»„æ˜¯æ•°ç»„çš„ç‰¹ä¾‹)\nlet c: readonly [7,8,9] = [7, 8, 9];\nc[0] = 1; &#47;&#47; Cannot assign to &#39;0&#39; because it is a read-only property\nc.push(1); &#47;&#47; Property &#39;push&#39; does not exist on type &#39;readonly [7, 8, 9]&#39;.\n\n&#47;&#47; ArrayLike\n&#47;&#47; ArrayLike è¡¨ç¤ºå…·æœ‰ .length å±æ€§å’Œæ”¯æŒç´¢å¼•å…ƒç´ è®¿é—®çš„å¯¹è±¡ï¼Œä½†å®ƒä¸ä¸€å®šå…·æœ‰æ•°ç»„çš„æ‰€æœ‰æ–¹æ³•\n&#47;&#47; interface ArrayLike&lt;T&gt; {\n&#47;&#47;   readonly length: number;\n&#47;&#47;   [index: number]: T;\n&#47;&#47; }\ntype TextNodeListType = ArrayLike&lt;{ dom: string }&gt;\ntype FinalTextNodeListType = Omit&lt;TextNodeListType, never&gt;;\n&#47;&#47;   ^?","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645518,"discussion_content":"ç‚¹èµçš„ä½œä¸šã€‚ğŸ‘\n\nä½†æ˜¯ä½ åœ¨å‰é¢çš„ç­”æ¡ˆä¸­ç”¨åˆ°äº†â€œè¿”å›å€¼â€ä¸€è¯ï¼Œè¿™ä¸ªå¹¶ä¸æ­£ç¡®ã€‚åœ¨å¯¹è±¡ç±»å‹ä¸­å­˜åœ¨çš„ï¼Œè¦ä¹ˆæ˜¯â€œç´¢å¼•ï¼ˆçš„ï¼‰ç±»å‹â€ï¼Œè¦ä¹ˆæ˜¯â€œå€¼ï¼ˆçš„ï¼‰ç±»å‹â€ã€‚è€Œä¸æ˜¯â€œè¿”å›å€¼ç±»å‹â€ï¼Œå¹¶ä¸”ä¹Ÿä¸foo() { return ... }ä¸­çš„è¿”å›å€¼æ²¡æœ‰å…³ç³»ï¼Œçº¯ç²¹æ˜¯fooä½œä¸ºâ€œç´¢å¼•/é”®â€ï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼‰ï¼Œå®ƒçš„å€¼ç±»å‹åªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œè€Œä¸èƒ½æ˜¯å‡½æ•°ç±»å‹ã€‚â€”â€”ä½ è¯•è¯•ä¿®æ”¹interface MyClassä¸­çš„ç´¢å¼•ç­¾åï¼Œæƒ³åŠæ³•è®©foo()å£°æ˜èƒ½é€šè¿‡ï¼ˆåªè¦èƒ½é€šè¿‡å£°æ˜ï¼Œä½ å°±æ˜ç™½äº†ï¼‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1716290687,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":1,"child_discussions":[{"author":{"id":1160078,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b3/8e/1c564eb2.jpg","nickname":"Jack Q","note":"","ucode":"A7DBC311884FFA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":645559,"discussion_content":"interface MyClass {\n  [key: string | &#39;1&#39; | &#39;2&#39; | &#39;3&#39; | &#39;4&#39;]:  string | ((...args: any[]) =&gt; any);\n}\nclass MyClass {\n  a: string = &#39;1&#39;;\n  foo() {\n  }\n  foo0() {\n    return 1;\n  }\n  foo1() {\n  }\n  foo2(): Promise&lt;void&gt; {\n    return Promise.resolve();\n  }\n} å°†ç´¢å¼•ç­¾åä¸­çš„å€¼çš„ç±»å‹ å®šä¹‰ä¸ºäº† string ä¸((...args: any[]) =&gt; any)çš„è”åˆç±»å‹ å°±å¯ä»¥è®© fooå£°æ˜é€šè¿‡\né—®é¢˜: é™¤äº†è°ƒç”¨ç­¾å å’Œ æ„é€ ç­¾åï¼Œå±æ€§ç­¾å ã€æ–¹æ³•ç­¾å éƒ½ä¼šå—åˆ° ç´¢å¼•ç­¾åçš„é™åˆ¶ã€‚è¿™æ˜¯å› ä¸º ç´¢å¼•ç­¾å ç›¸å¯¹ å±æ€§ç­¾åå’Œæ–¹æ³•ç­¾å æ¥è¯´æ›´æŠ½è±¡çš„åŸå› å—ï¼Ÿ å±æ€§ç­¾å å’Œ æ–¹æ³•ç­¾åéƒ½æ˜¯ ç´¢å¼•ç­¾åçš„å…·è±¡å®ç°,æˆ‘èƒ½è¿™æ ·ç†è§£å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1716364232,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":645518,"ip_address":"å¹¿ä¸œ","group_id":0},"score":645559,"extra":""}]},{"author":{"id":1034451,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/c8/d3/3020ae46.jpg","nickname":"fatme","note":"","ucode":"75A805D2BB2AD1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645762,"discussion_content":"åœ¨è€å¸ˆçš„ &#34;TypeScript ç±»å‹ç³»ç»Ÿå…¨æ™¯&#34; é‡Œé¢ï¼Œå¹¶æ²¡æœ‰ &#34;å±æ€§ç­¾å&#34; å’Œ &#34;æ–¹æ³•ç­¾å&#34; è¿™ä¸¤ç§ç­¾åã€‚å±æ€§ å’Œ æ–¹æ³• åº”è¯¥éƒ½å±äº &#34;æˆå‘˜å£°æ˜&#34;ã€‚æˆ‘è§‰å¾—ï¼ŒæŠŠ &#34;æˆå‘˜å£°æ˜&#34; ç†è§£ä¸º &#34;ç´¢å¼•ç­¾å&#34; çš„ç‰¹æ®Šå½¢å¼åº”è¯¥æ˜¯å¯ä»¥çš„ã€‚äºŒè€…çš„åŒºåˆ«åœ¨äºï¼šæˆå‘˜å£°æ˜æ˜¯é™æ€çš„ï¼Œå®ƒå®šä¹‰äº†å¯¹è±¡å¿…é¡»æœ‰çš„ propertyï¼ˆé™¤éå®šä¹‰ä¸º optional)ï¼›è€Œç´¢å¼•ç­¾åæ˜¯åŠ¨æ€çš„ï¼Œå®ƒå®šä¹‰çš„æ˜¯å¯¹è±¡ property çš„è®¿é—®æ–¹å¼å’Œå­˜å‚¨çš„å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1716709296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645519,"discussion_content":"å‚è€ƒä¸€ä¸‹ @westfall çš„ç­”æ¡ˆã€‚:)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1716290757,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":390639,"user_name":"halo","can_delete":false,"product_type":"c3","uid":2866983,"ip_address":"å¹¿ä¸œ","ucode":"574BDA398A81C6","user_header":"https://static001.geekbang.org/account/avatar/00/2b/bf/27/7f7acf6c.jpg","comment_is_top":false,"comment_ctime":1715844092,"is_pvip":false,"replies":[{"id":142087,"content":"å‡½æ•°æ˜¯å¯è°ƒç”¨çš„å¯¹è±¡+1 :)","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1521669,"ctime":1715848521,"ip_address":"æ±Ÿè‹","comment_id":390639,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100761001,"comment_content":"å‡½æ•°å¼å¯è°ƒç”¨çš„å¯¹è±¡","like_count":0,"discussions":[{"author":{"id":1521669,"avatar":"https://static001.geekbang.org/account/avatar/00/17/38/05/7beecd5d.jpg","nickname":"Aiming","note":"","ucode":"66292B32F9960A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645176,"discussion_content":"å‡½æ•°æ˜¯å¯è°ƒç”¨çš„å¯¹è±¡+1 :)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1715848521,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ±Ÿè‹","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":117993,"title":"53 | CAT vs Zipkin vs Skywalking(上)","content":"<ul>\n<li>\n<p>代码：<a href=\"https://gitee.com/geektime-geekbang/staffjoy\">https://gitee.com/geektime-geekbang/staffjoy</a></p>\n</li>\n<li>\n<p>课件：<a href=\"https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ\">https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ</a> 提取码: 1aeh</p>\n</li>\n</ul>","comments":[{"had_liked":false,"id":135437,"user_name":"LSJ","can_delete":false,"product_type":"c3","uid":1299437,"ip_address":"","ucode":"3CF8A457AC6BA9","user_header":"https://static001.geekbang.org/account/avatar/00/13/d3/ed/8d5420ad.jpg","comment_is_top":false,"comment_ctime":1569160257,"is_pvip":false,"replies":[{"id":52031,"content":"调用链监控主要适用于同步场景。异步调用一般不建议，因为异步多线程没有明确调用先后时序关系。实际有些场景(比如异步消息追踪)确实需要的话，也是可以做到的，原理就是在跨越线程边界的时候(类似跨越进程边界)，需要把trace上下文向异步线程传递，具体做法一般需要定制。Skywalking的异步支持做的比较好，它提供的一些plugin有些已经支持异步追踪，如果你理解原理，也可以自己实现埋点，参考：\nhttps:&#47;&#47;github.com&#47;apache&#47;skywalking&#47;blob&#47;master&#47;docs&#47;en&#47;setup&#47;service-agent&#47;java-agent&#47;Application-toolkit-trace-cross-thread.md","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1569242808,"ip_address":"","comment_id":135437,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"老师 课程中提到的技术可以做异步调用的监控吗 或者说异步调用如何做监控","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468193,"discussion_content":"调用链监控主要适用于同步场景。异步调用一般不建议，因为异步多线程没有明确调用先后时序关系。实际有些场景(比如异步消息追踪)确实需要的话，也是可以做到的，原理就是在跨越线程边界的时候(类似跨越进程边界)，需要把trace上下文向异步线程传递，具体做法一般需要定制。Skywalking的异步支持做的比较好，它提供的一些plugin有些已经支持异步追踪，如果你理解原理，也可以自己实现埋点，参考：\nhttps://github.com/apache/skywalking/blob/master/docs/en/setup/service-agent/java-agent/Application-toolkit-trace-cross-thread.md","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569242808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":279882,"user_name":"刘剑","can_delete":false,"product_type":"c3","uid":1140328,"ip_address":"","ucode":"B530AE58C05788","user_header":"https://static001.geekbang.org/account/avatar/00/11/66/68/fe556f2f.jpg","comment_is_top":false,"comment_ctime":1613990290,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"通过traceId跟踪整个请求链路，整个请求耗时长短的监控，对一些耗时时间较长的接口能够提前预见","like_count":1}]}
{"id":131652,"title":"30 | å¦‚ä½•ä½¿ç”¨guardæ¥æ”¹å–„ä½ çš„æ¡ä»¶åˆ¤æ–­","content":"<p><strong>è¯¾ä»¶åœ°å€</strong></p><p><a href=\"https://gitee.com/geektime-geekbang/swift-course\">https://gitee.com/geektime-geekbang/swift-course</a></p>","comments":[{"had_liked":false,"id":185407,"user_name":"å°ç°","can_delete":false,"product_type":"c3","uid":1586696,"ip_address":"","ucode":"679E11CE2645CC","user_header":"https://static001.geekbang.org/account/avatar/00/18/36/08/4674855c.jpg","comment_is_top":false,"comment_ctime":1583575794,"is_pvip":false,"replies":[{"id":79915,"content":"è¿™æ²¡æœ‰é—®é¢˜ï¼Œä½ è¿™å…¶å®å°±æ˜¯æŠŠifå½“guardæ¥ç”¨ã€‚  ä½†æ˜¯ifä¸€èˆ¬æ˜¯å’Œelseé…å¯¹ä½¿ç”¨çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_f72435","uid":1341726,"ctime":1589165332,"ip_address":"","comment_id":185407,"utype":1}],"discussion_count":7,"race_medal":0,"score":2,"product_id":100034001,"comment_content":"æˆ‘åœ¨ç½‘ä¸Šæœç´¢äº†ä¸€ä¸‹ï¼Œéƒ½è¯´guard æ¯”èµ·if çš„ä¼˜åŠ¿æ˜¯å¯ä»¥è®©ä»£ç æ›´åŠ å¯è¯»ï¼Œ ä½†æ˜¯æˆ‘è§‰å¾—ä¸‹é¢çš„ä»£ç ä½¿ç”¨if å¯è¯»æ€§ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå“ªswiftä¸ºä»€ä¹ˆè¿˜è¦å¼•å…¥guardå‘¢? æœ›è€å¸ˆç»™æˆ‘æ¶¨æ¶¨å§¿åŠ¿ï½ ä»–ä»¬è¿˜æœ‰å…¶ä»–çš„åŒºåˆ«æˆ–ä¼˜åŠ¿ä¹ˆ\n\nfunc isIpAddress(ipString: String) -&gt; (Int, String) {\n    let components = ipString.split(separator: &quot;.&quot;)\n    \n    if (components.count != 4) {\n        return (100, &quot;ipåœ°å€å¿…é¡»ä¸ºå››éƒ¨åˆ†&quot;)\n    }\n    \n    if let first = Int(components[0]), (first &lt; 0 || first &gt; 255) {\n        return (1, &quot;ipåœ°å€ç¬¬ä¸€éƒ¨åˆ†ä¸å¯¹&quot;)\n    }\n    \n    if let second = Int(components[1]), (second &lt; 0 || second &gt; 255) {\n        return (2, &quot;ipåœ°å€ç¬¬äºŒéƒ¨åˆ†ä¸å¯¹&quot;)\n    }\n    \n    if let third = Int(components[2]), (third &lt; 0 || third &gt; 255) {\n        return (3, &quot;ipåœ°å€ç¬¬ä¸‰éƒ¨åˆ†ä¸å¯¹&quot;)\n    }\n    \n    if let fourth = Int(components[3]), (fourth &lt; 0 || fourth &gt; 255) {\n        return (3, &quot;ipåœ°å€ç¬¬å››éƒ¨åˆ†ä¸å¯¹&quot;)\n    }\n    \n    return (0, &quot;IP åœ°å€åˆæ³•&quot;)\n}\n\nprint(isIpAddress(ipString: &quot;127.0.0.1&quot;))","like_count":0,"discussions":[{"author":{"id":1341726,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLxtKhpmvzx2VB4iajicfJVFmQR3eP3xBpdpQEovpSqUfAOrNImvYwVb7P37ibI0ONziau9sbFEk8oDaA/132","nickname":"elfgate","note":"","ucode":"3C0B5F7C1F664C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486351,"discussion_content":"è¿™æ²¡æœ‰é—®é¢˜ï¼Œä½ è¿™å…¶å®å°±æ˜¯æŠŠifå½“guardæ¥ç”¨ã€‚  ä½†æ˜¯ifä¸€èˆ¬æ˜¯å’Œelseé…å¯¹ä½¿ç”¨çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589165332,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1461978,"avatar":"https://static001.geekbang.org/account/avatar/00/16/4e/da/5b347cb8.jpg","nickname":"Jabir_Zhang","note":"","ucode":"55BCE733F8DD25","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":209096,"discussion_content":"ä¹‹å‰æœ‰çœ‹åˆ°è¿‡ï¼Œifåé¢çš„æ¡ä»¶ä¸€èˆ¬æœ€å¥½ä¸è¦!=ä¹‹ç±»çš„ï¼Œè€å¤–è¯´è¿™æ ·ä¸å¥½ç†è§£ï¼Œä½ è¿™è¾¹çš„å¯è¯»æ€§è¿˜è¡Œï¼Œä½†æ˜¯ifé‡Œçš„æ¡ä»¶éƒ½æ˜¯åç€æ¥ï¼Œæ²¡æœ‰guardå¥½ç†è§£","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1584608997,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1133415,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4b/67/9a9fc124.jpg","nickname":"ä¸ƒå¨ƒzincğŸ’¨ğŸ’¨","note":"","ucode":"C1225E2CC596D3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613878,"discussion_content":"ä½¿ç”¨ if å’Œ guard éƒ½èƒ½è¾¾åˆ°åˆ¤æ–­æ•ˆæœï¼Œä½†æ˜¯æ‹¿è¿™é‡Œçš„åœºæ™¯è®¨è®ºï¼Œå¦‚æœä½¿ç”¨ if çš„è¯ï¼Œæœ€åçœŸæ­£é€»è¾‘é‚£é‡Œå°±æ²¡æ³•ä½¿ç”¨ firstã€second è¿™äº›å‚æ•°äº†ï¼Œä»–ä»¬åªèƒ½åœ¨è¢«è¿”å›çš„åˆ†æ”¯ä¸­ä½¿ç”¨ï¼Œæ‰€ä»¥åé¢åˆè¦é‡æ–°å†è·å–ä¸€éã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681564169,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1057332,"avatar":"https://static001.geekbang.org/account/avatar/00/10/22/34/580cdde0.jpg","nickname":"yalda","note":"","ucode":"1F782AB65DC0AA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554444,"discussion_content":"ä½ çš„è¿™ç§æ–¹å¼å±äºé…ç½®è¡¨æ¨¡å¼ï¼›å³åˆ—å‡ºå•ä¸ª if è¯­å¥çš„æ‰€æœ‰æœ€ç»†ç²’åº¦çš„é€»è¾‘æ¡ä»¶ï¼›åªé€‚åˆ3ä¸ªå‚æ•°åŠå…¶ä»¥ä¸‹çš„åœºæ™¯ï¼Œå¤ªå¤æ‚å…¶ä»–äººè¯»èµ·æ¥ä¼šå¾ˆç´¯ï¼›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646382063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1457784,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep8unibCib9rdHib0D6Rf6TjecPQu1yic0G9sjzriczlTcwGHP6DaxtEmHyN7pCrD9zV7OSegyf7EUBvaA/132","nickname":"Geek__2099","note":"","ucode":"01444B60F18A66","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373188,"discussion_content":"guardæ˜¯æ–­è¨€ï¼Œæ˜¯ä¿è¯é€»è¾‘çš„å‰æä¸‹ï¼Œåœ¨è¯­è¨€å±‚é¢å¼ºè°ƒå¿…é¡»ç¬¦åˆæŸä¸ªåœºæ™¯ï¼Œåç»­ä¸šåŠ¡å¤„ç†æ‰æœ‰æ„ä¹‰ã€‚ifåœ¨è¯­è¨€å±‚é¢ç¼ºå°‘è¿™ç§å¼ºè°ƒæ€§ï¼Œåªæœ‰ç®€å•çš„é€»è¾‘å†…æ¶µã€‚\nå¯ä»¥å¯¹æ¯”å…¶å«ä¹‰ï¼š\nguard:å¼ºè°ƒä¸€ä¸‹ï¼Œipåœ°å€å¿…é¡»æœ‰å››ä¸ªæ•°\nif:å¦‚æœipåœ°å€ä¸æ˜¯å››ä¸ªæ•°\nè¿™ç§è¯­è¨€å±‚é¢çš„å¼ºè°ƒï¼Œæ˜¯åœ¨é€»è¾‘å±‚é¢ä¹‹ä¸Šï¼Œå«æœ‰äººæ–‡ï¼Œæƒ…ç»ªçš„å› ç´ ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620645407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1330371,"avatar":"https://static001.geekbang.org/account/avatar/00/14/4c/c3/2ebdc487.jpg","nickname":"è‹¹æœå¨±ä¹é€‰å½©ç¥¨","note":"","ucode":"F75D75EA23D311","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":362221,"discussion_content":"ç”¨ifæ›´ä¹ æƒ¯, å¤šè¯­è¨€ç¼–ç¨‹çš„è¯, åˆ«çš„è¯­è¨€å¯æ²¡æœ‰guard","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616896110,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1505243,"avatar":"https://static001.geekbang.org/account/avatar/00/16/f7/db/4eb5da19.jpg","nickname":"star","note":"","ucode":"54D858422D1E27","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":241665,"discussion_content":"æ„Ÿè§‰è¿˜æ˜¯ifæ›´å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587432939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136415,"user_name":"æœˆå·´ æ£®","can_delete":false,"product_type":"c3","uid":1015619,"ip_address":"","ucode":"2AEED21352F28A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7f/43/4bfd8714.jpg","comment_is_top":false,"comment_ctime":1569427158,"is_pvip":false,"replies":[{"id":58048,"content":"å¯¹ï¼Œä»£ç é‡Œå†™é”™äº†","user_name":"ä½œè€…å›å¤","user_name_real":"Geek_f72435","uid":1341726,"ctime":1573635715,"ip_address":"","comment_id":136415,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100034001,"comment_content":"æ˜¯component","like_count":0,"discussions":[{"author":{"id":1341726,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLxtKhpmvzx2VB4iajicfJVFmQR3eP3xBpdpQEovpSqUfAOrNImvYwVb7P37ibI0ONziau9sbFEk8oDaA/132","nickname":"elfgate","note":"","ucode":"3C0B5F7C1F664C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468620,"discussion_content":"å¯¹ï¼Œä»£ç é‡Œå†™é”™äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573635715,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":622063,"title":"15ï½œå®¹å™¨åŒ–ï¼šå¦‚ä½•é€‰æ‹©æœ€é€‚åˆä¸šåŠ¡çš„åŸºç¡€é•œåƒï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ç‹ç‚œã€‚</p><p>åœ¨ä¸Šä¸€èŠ‚è¯¾ï¼Œæˆ‘ä»¬ä»‹ç»äº†ç¼©å°é•œåƒä½“ç§¯çš„æœ‰æ•ˆæ–¹æ³•ï¼Œå…¶ä¸­åŒ…æ‹¬æ›´æ¢åŸºç¡€é•œåƒå’Œå¤šé˜¶æ®µæ„å»ºã€‚åœ¨ç¼–å†™å¤šé˜¶æ®µæ„å»ºçš„ Dockerfile æ—¶ï¼Œæˆ‘æ¨èä½ ä½¿ç”¨ ubuntu:latest é•œåƒä½œä¸ºç¬¬äºŒé˜¶æ®µçš„åŸºç¡€é•œåƒï¼Œä¸æ¨èä½ åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ä½¿ç”¨ Alpine æˆ–è€… Scratch é•œåƒã€‚</p><p>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å½’æ ¹ç»“åº•ï¼ŒDocker é•œåƒåŒ…å«äº†è¿è¡Œç¯å¢ƒå’Œä¸šåŠ¡åº”ç”¨ã€‚æˆ‘ä»¬åœ¨é•œåƒæ„å»ºè¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä»ç¨‹åºä¾èµ–ã€å¯è°ƒè¯•ï¼ˆå¼€å‘ï¼‰ã€å®‰å…¨æ€§å’Œé•œåƒå¤§å°æ–¹é¢ç»¼åˆè€ƒè™‘ã€‚ç”±äºé•œåƒå¤§å°çš„ä¼˜å…ˆçº§å¹¶ä¸æ˜¯æœ€é«˜çš„ï¼Œå› æ­¤æˆ‘ä»¬é¦–å…ˆè¦ä¿è¯çš„æ˜¯ç¨‹åºçš„è¿è¡ŒåŠå…¶ä¾èµ–çš„å®Œæ•´æ€§ï¼Œæ²¡å¿…è¦ä¸€å‘³åœ°è¿½æ±‚å¤§å°çš„æé™ã€‚</p><p>ä½†æ˜¯ï¼Œåœ¨ä¸šåŠ¡å®¹å™¨åŒ–çš„è¿‡ç¨‹ä¸­ï¼ŒåŸºç¡€é•œåƒçš„æ•°é‡éå¸¸å¤šï¼Œæ¯ä¸€ç§ç¼–ç¨‹è¯­è¨€çš„å®è·µéƒ½æœ‰æ‰€ä¸åŒï¼Œæˆ‘ä»¬åˆè¯¥å¦‚ä½•é€‰æ‹©åŸºç¡€é•œåƒå‘¢ï¼Ÿå¦‚ä½•é¿å…é€‰æ‹©é”™è¯¯çš„é•œåƒåŸ‹ä¸‹éšæ‚£ï¼Ÿ</p><p>è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬å°±å»¶ä¼¸ä¸€ä¸‹ä¸ŠèŠ‚è¯¾çš„å†…å®¹ï¼Œçœ‹çœ‹é•œåƒé€‰æ‹©çš„å®è·µã€‚</p><h2>é€šç”¨é•œåƒ</h2><p>æˆ‘ä»¬çŸ¥é“ï¼Œé•œåƒå¹¶ä¸æ˜¯ä»å¤´å¼€å§‹æ„å»ºçš„ï¼Œæˆ‘ä»¬ä¼šåŸºäºä¸€ä¸ªåŸºç¡€é•œåƒæ¥æ„å»ºï¼Œè¿™ä¸ªåŸºç¡€é•œåƒåŒ…å«ç¼–è¯‘å·¥å…·å’Œè¿è¡Œç¯å¢ƒï¼Œå®ƒè´Ÿè´£æ„å»ºå’Œè¿è¡Œæˆ‘ä»¬çš„ä¸šåŠ¡ä»£ç ã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨ä¸ŠèŠ‚è¯¾å¤šé˜¶æ®µæ„å»ºçš„ç¬¬äºŒä¸ªé˜¶æ®µï¼Œæˆ‘ä»¬ç”¨äº† ubuntu:latest ä¸º Golang åº”ç”¨æä¾›è¿è¡Œç¯å¢ƒï¼Œä¹Ÿå°±æ˜¯åœ¨ Dockerfile ä¸­é€šè¿‡ FROM å…³é”®å­—å¼•ç”¨ ubuntu:latest ä¸ºåŸºç¡€é•œåƒã€‚</p><!-- [[[read_end]]] --><pre><code class=\"language-yaml\">FROM ubuntu:latest\n</code></pre><p>è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨ FROM å¼•ç”¨é•œåƒæ—¶ï¼Œé™¤éç»™å®šå®Œæ•´çš„é•œåƒåœ°å€ï¼Œå¦åˆ™ Docker é»˜è®¤ä¼šä»<a href=\"https://hub.docker.com/\">å®˜ç½‘</a>ä¸‹è½½é•œåƒï¼Œä½ ä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªç½‘ç«™é‡Œæœç´¢åˆ°ä½ æ‰€éœ€è¦çš„åŸºç¡€é•œåƒã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬å›å¿†ä¸€ä¸‹<a href=\"https://time.geekbang.org/column/article/621351\">ç¬¬ 14 è®²</a>æåˆ°çš„å¤šé˜¶æ®µæ„å»º Dockerfile çš„å†…å®¹ã€‚</p><pre><code class=\"language-yaml\">FROM golang:1.17 as builder\n# ç¬¬ä¸€é˜¶æ®µ\n\nFROM ubuntu:latest\n# ç¬¬äºŒèŠ‚é˜¶æ®µ\n</code></pre><p>ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨ç¬¬ä¸€ä¸ªé˜¶æ®µä½¿ç”¨ golang:1.17 è€Œä¸æ˜¯ ubuntu:latest å‘¢ï¼Ÿè¿™æ˜¯å› ä¸º golang:1.17 åŒ…å« Golang çš„æ„å»ºå·¥å…·ï¼Œè¿™æ˜¯ ubuntu:latest æ‰€æ²¡æœ‰çš„ã€‚ä¸ºäº†ä¸éœ€è¦æ‰‹åŠ¨åœ¨ Dockerfile ä¸­å®‰è£… Golangï¼Œæˆ‘ä»¬å¼•ç”¨äº†è¯­è¨€çš„ä¸“ç”¨é•œåƒã€‚</p><p>ä¸ºäº†æ›´å¥½åœ°å¸®åŠ©ä½ ç†è§£é•œåƒçš„ç±»åˆ«ï¼Œ<strong>æˆ‘å°†é•œåƒç±»å‹å½’çº³ä¸ºäº†é€šç”¨é•œåƒå’Œä¸“ç”¨é•œåƒã€‚</strong>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œubuntu:latest æ˜¯ä¸€ç§é€šç”¨é•œåƒï¼Œgolang:1.17 åˆ™æ˜¯ä¸€ç§ä¸“ç”¨é•œåƒã€‚</p><p>æˆ‘ä»¬å…ˆè¯´é€šç”¨é•œåƒã€‚</p><p>ä½ å¯ä»¥æŠŠé€šç”¨é•œåƒç†è§£æˆ Linux å‘è¡Œç‰ˆï¼Œä»–ä»¬æ˜¯ä¸€ä¸ªå…¨æ–°å®‰è£…çš„ Linux ç³»ç»Ÿï¼Œé™¤äº†ç³»ç»Ÿå·¥å…·ä»¥å¤–ï¼Œä¸åŒ…å«ä»»ä½•ç‰¹å®šè¯­è¨€çš„ç¼–è¯‘å’Œè¿è¡Œç¯å¢ƒã€‚ä¸€èˆ¬æ¥è¯´ï¼Œ<strong>é€šç”¨é•œåƒæœ‰ä¸‹é¢ä¸¤ç§ä½¿ç”¨åœºæ™¯ã€‚</strong></p><ol>\n<li><strong>ä½¿ç”¨é€šç”¨é•œåƒæ„å»ºç¬¦åˆä¸šåŠ¡ç‰¹å®šè¦æ±‚çš„é•œåƒï¼Œ</strong>ä¾‹å¦‚ç‰¹å®šçš„å·¥å…·é“¾å’Œä¾èµ–ï¼Œç‰¹å®šçš„æ„å»ºç¯å¢ƒå’Œå®‰å…¨å·¥å…·ç­‰ã€‚</li>\n<li><strong>å•çº¯ä½œä¸ºä¸šåŠ¡çš„è¿è¡Œç¯å¢ƒï¼Œ</strong>å¸¸è§äºå¤šé˜¶æ®µæ„å»ºã€‚</li>\n</ol><p>åƒç¬¬ä¸€ç§åœºæ™¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ ubuntu:latest ä½œä¸ºåŸºç¡€é•œåƒï¼Œç„¶åæ‰‹åŠ¨å®‰è£… Golang ç¼–è¯‘ç¯å¢ƒã€‚è¿™æ—¶ Dockerfile å¯ä»¥åƒä¸‹é¢è¿™ä¹ˆå†™ã€‚</p><pre><code class=\"language-yaml\"># syntax=docker/dockerfile:1\nFROM ubuntu:latest\nCOPY . .\nRUN apt-get update &amp;&amp; apt install -y golang-go\nRUN go build\n</code></pre><p>å½“ç„¶ï¼Œé™¤äº† ubuntu:latest ä»¥å¤–ï¼Œä½ è¿˜å¯ä»¥é€‰æ‹©å…¶ä»–çš„é€šç”¨é•œåƒã€‚æˆ‘ç»™ä½ ç”»äº†ä¸€å¼ è¡¨æ ¼ï¼Œåˆ—å‡ºåœ¨å·¥ä½œä¸­å¸¸ç”¨çš„é€šç”¨é•œåƒç‰ˆæœ¬åŠå…¶å‹ç¼©åçš„å¤§å°ï¼ˆä»¥Linux amd64 å¹³å°ä¸ºä¾‹ï¼‰ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/0e/21/0e7c3c4ddf40547e5ecb47f7a735d921.jpg?wh=1920x913\" alt=\"å›¾ç‰‡\"></p><p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œç»¼åˆé•œåƒçš„é€šç”¨æ€§ã€å¯è°ƒå¼ã€å®‰å…¨å’Œé•œåƒå¤§å°ç­‰å„æ–¹é¢å› ç´ ï¼Œæˆ‘æœ€æ¨èä½ ä½¿ç”¨è¿™ä¸‰ä¸ªé€šç”¨é•œåƒï¼šubuntu:latestã€debian:slim å’Œ alpine:latestã€‚å…¶ä¸­ï¼Œå‰ä¸¤ä¸ªé•œåƒåœ¨æœ¬è´¨ä¸Šå…¶å®æ˜¯åŒä¸€ä¸ªç±»å‹ï¼Œè€Œ Alpine åˆ™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ Linux å‘è¡Œç‰ˆï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯¹è¿™ä¸¤ä¸ªç±»å‹çš„é•œåƒåšç®€å•ä»‹ç»ã€‚</p><h3>Ubuntu/Debian</h3><p>Ubuntu å’Œ Debian æ˜¯ç»¼åˆèƒ½åŠ›éå¸¸å¼ºçš„ Linux å‘è¡Œç‰ˆï¼Œéå¸¸é€‚åˆä½œä¸ºé€šç”¨é•œåƒä½¿ç”¨ï¼Œå®ƒä»¬ä¸»è¦çš„ä¼˜ç‚¹å¦‚ä¸‹ã€‚</p><ul>\n<li>æ”¯æŒçš„è½¯ä»¶åŒ…ä¼—å¤šã€‚</li>\n<li>é•œåƒä½“ç§¯è¾ƒå°ã€‚</li>\n<li>ç”¨æˆ·æ•°é‡å¤§ï¼Œç¤¾åŒºæ´»è·ƒï¼Œå®¹æ˜“åŠæ—¶å‘ç°å’Œä¿®å¤å®‰å…¨é—®é¢˜ã€‚</li>\n<li>ç›¸æ¯”è¾ƒ Alpine å…·æœ‰æ›´é€šç”¨çš„ C è¯­è¨€æ ‡å‡†åº“ glibcã€‚</li>\n<li>æ–‡æ¡£å’Œæ•™ç¨‹ä¸°å¯Œã€‚</li>\n</ul><p>å½“ç„¶ï¼Œå®ƒä»¬ä¹Ÿæœ‰ä¸€å®šçš„ç¼ºç‚¹ï¼Œç”±äºå†…ç½®äº†æ›´å¤šçš„ç³»ç»Ÿçº§å·¥å…·ï¼Œæ‰€ä»¥ç›¸æ¯”è¾ƒ Alpine æ›´å®¹æ˜“å—åˆ°å®‰å…¨æ”»å‡»ã€‚ä¸è¿‡ï¼Œå¦‚æœä½ æ¯”è¾ƒå…³æ³¨è°ƒè¯•çš„ä¾¿åˆ©æ€§å’Œé€šç”¨æ€§ï¼Œé‚£ä¹ˆå®ƒä»¬ä»ç„¶æ˜¯ç”Ÿäº§ç¯å¢ƒä¸‹çš„é¦–é€‰é•œåƒã€‚</p><h3>Alpine</h3><p>æˆ‘ä»¬å†æ¥çœ‹å¦ä¸€ç§é€šç”¨é•œåƒ Alpineã€‚åœ¨å¾ˆé•¿çš„æ—¶é—´é‡Œï¼ŒAlpine å‘è¡Œç‰ˆå¹¶æ²¡æœ‰å—åˆ°å¤ªå¤šçš„å…³æ³¨ã€‚ç›´åˆ° Docker æ—¶ä»£ï¼Œå¤§å®¶ä¸ºäº†è¿½æ±‚æ›´å°çš„é•œåƒä½“ç§¯æ‰å¼€å§‹å¤§é‡ä½¿ç”¨ Alpine é•œåƒã€‚ç›¸æ¯”è¾ƒ Debianï¼ŒAlpine æœ‰ä¸‹é¢è¿™äº›ä¼˜ç‚¹ã€‚</p><ul>\n<li>å¿«é€Ÿçš„åŒ…å®‰è£…ä½“éªŒã€‚</li>\n<li>æå°çš„é•œåƒä½“ç§¯ã€‚</li>\n<li>åªåŒ…å«å°‘é‡çš„ç³»ç»Ÿçº§ç¨‹åºï¼Œå®‰å…¨æ€§æ›´é«˜ã€‚</li>\n<li>æ›´è½»é‡çš„åˆå§‹åŒ–ç³»ç»Ÿ OpenRCã€‚</li>\n</ul><p>ç›¸æ¯”è¾ƒæ™®é€šçš„ Linux å‘è¡Œç‰ˆï¼ŒApline ä¹Ÿæœ‰éå¸¸æ˜æ˜¾çš„å·®å¼‚ï¼Œå…¶ä¸­æœ€å¤§çš„å·®å¼‚åœ¨äºå®ƒä½¿ç”¨ musl libc è€Œä¸æ˜¯æ ‡å‡†çš„ glibcï¼Œå¯¹ç¼–è¯‘å‹è¯­è¨€ä¾‹å¦‚ C å’Œ Golangï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›ç¼–è¯‘æ–¹é¢çš„é—®é¢˜ï¼Œéœ€è¦é¢å¤–æ³¨æ„ã€‚</p><h2>ä¸“ç”¨é•œåƒ</h2><p>ä¸“ç”¨é•œåƒæä¾›äº†ç‰¹å®šè¯­è¨€çš„ç¼–è¯‘å’Œè¿è¡Œç¯å¢ƒï¼Œç»å¤§å¤šæ•°è¯­è¨€éƒ½æœ‰ Docker å®˜æ–¹ç»´æŠ¤çš„ä¸“ç”¨é•œåƒã€‚åœ¨å®é™…å·¥ä½œä¸­ï¼Œ<strong>ä¸“ç”¨é•œåƒä¸€èˆ¬æœ‰ä¸‹é¢ä¸¤ç§ä½¿ç”¨åœºæ™¯ã€‚</strong></p><ul>\n<li>ä½œä¸ºè§£é‡Šå‹è¯­è¨€çš„è¿è¡Œé•œåƒä½¿ç”¨ï¼Œä¾‹å¦‚ python:latestã€php:8.1-fpm-buster ç­‰ã€‚</li>\n<li>ä½œä¸ºç¼–è¯‘å‹è¯­è¨€å¤šé˜¶æ®µæ„å»ºä¸­ç¼–è¯‘é˜¶æ®µçš„åŸºç¡€é•œåƒä½¿ç”¨ï¼Œä¾‹å¦‚ golang:latestã€‚</li>\n</ul><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹ä¸åŒè¯­è¨€å¦‚ä½•é€‰æ‹©ä¸“ç”¨é•œåƒã€‚</p><h3>Golang</h3><p>å¯¹äºç¼–è¯‘å‹è¯­è¨€ï¼Œæˆ‘æ¨èä½ ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºçš„æ–¹æ³•å°†æ„å»ºç¯å¢ƒå’Œè¿è¡Œé•œåƒåŒºåˆ†å¼€ï¼ŒåŒ…æ‹¬ C è¯­è¨€ã€‚å½“æ„å»º Golang ä¸šåŠ¡é•œåƒæ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦é€‰æ‹©åˆé€‚çš„ç¬¬ä¸€é˜¶æ®µé•œåƒï¼ˆæ„å»ºé•œåƒï¼‰å’Œç¬¬äºŒé˜¶æ®µé•œåƒï¼ˆè¿è¡Œé•œåƒï¼‰ã€‚</p><p>åœ¨<a href=\"https://time.geekbang.org/column/article/620500\">ç¬¬13è®²</a>ï¼Œæˆ‘ä»‹ç»äº†å¦‚ä½•é€šè¿‡å¤šé˜¶æ®µæ„å»ºæ¥æ‰“åŒ… Docker é•œåƒï¼Œæˆ‘ä½¿ç”¨äº† golang:1.17 ä½œä¸ºæ„å»ºé•œåƒï¼Œubuntu:latest ä½œä¸ºè¿è¡Œé•œåƒã€‚</p><pre><code class=\"language-yaml\">FROM golang:1.17 as builder\n# ç¬¬ä¸€é˜¶æ®µ\n......\nRUN go build -o example\n\nFROM ubuntu:latest\n# ç¬¬äºŒé˜¶æ®µ\n......\nCOPY --from=builder /opt/app/example /opt/app/example\n</code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æœ€ç»ˆæ„å»ºçš„é•œåƒå¤§å°çº¦ä¸º 76Mã€‚</p><p>å®é™…ä¸Šï¼Œåœ¨é€‰æ‹©ç¬¬ä¸€é˜¶æ®µå’Œç¬¬äºŒé˜¶æ®µçš„é•œåƒæ—¶ï¼Œè¿˜æœ‰å…¶ä»–çš„ç»„åˆã€‚ä¾‹å¦‚ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ Alpine é•œåƒã€‚</p><pre><code class=\"language-yaml\">FROM golang:alpine\n# ç¬¬ä¸€é˜¶æ®µ\nRUN go build -o example\n\nFROM alpine:latest\n# ç¬¬äºŒé˜¶æ®µ\n</code></pre><p>è¿™ç§ç»„åˆæœ€ç»ˆæ„å»ºçš„é•œåƒå¤§å°ä¸º 12.4Mã€‚</p><p>è¿˜è®°å¾—æˆ‘åœ¨ä¸ŠèŠ‚è¯¾ç•™çš„æ€è€ƒé¢˜å—ï¼Ÿæˆ‘æåˆ°äº†å¦‚æœä½ å°è¯•åˆ é™¤ CGO_ENABLED=0 ä¹‹åï¼Œä¸‹é¢è¿™ç§é•œåƒç»„åˆå°†ä¼šå¯¼è‡´ Golang ç¨‹åºæ— æ³•è¿è¡Œã€‚</p><pre><code class=\"language-yaml\">FROM golang:1.17\n# ç¬¬ä¸€é˜¶æ®µ\nRUN go build -o example\n\nFROM alpine:latest\n# ç¬¬äºŒé˜¶æ®µ\n</code></pre><p>å½“æˆ‘ä»¬è¿è¡Œé•œåƒæ—¶ï¼Œä¼šå¾—åˆ°é”™è¯¯ä¿¡æ¯ã€‚</p><pre><code class=\"language-yaml\">exec /opt/app/example: no such file or directory\n</code></pre><p>è¿™æ˜¯å› ä¸º golang:1.17 é•œåƒçš„ C è¯­è¨€æ ‡å‡†åº“æ˜¯ glibcï¼Œè€Œ alpine:latest ä½¿ç”¨çš„æ˜¯ muslã€‚åœ¨ç¬¬ä¸€é˜¶æ®µ Golang çš„æ„å»ºè¿‡ç¨‹ä¸­ï¼Œè™½ç„¶æˆ‘ä»¬ç¼–è¯‘ç”Ÿæˆäº†äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä½†è¿™ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶å¹¶ä¸æ˜¯â€œçº¯é™æ€â€çš„ã€‚åœ¨é»˜è®¤æ¡ä»¶ä¸‹ï¼ŒCGO å°†è¢«å¼€å¯ï¼Œè¿™æ„å‘³ç€å½“ç¨‹åºå†…åŒ…å«åº•å±‚æ˜¯ç”± C è¯­è¨€åº“å®ç°çš„åŠŸèƒ½æ—¶ï¼ŒäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ä»ç„¶éœ€è¦ä¾èµ–å¤–éƒ¨çš„åŠ¨æ€é“¾æ¥åº“ã€‚æ‰€ä»¥ï¼Œåœ¨ç¬¬äºŒé˜¶æ®µçš„ Alpine é•œåƒä¸­ï¼Œè‡ªç„¶æ‰¾ä¸åˆ°ç¬¬ä¸€é˜¶æ®µçš„å¤–éƒ¨åŠ¨æ€é“¾æ¥åº“ï¼Œè¿™å°±ä¼šå¯¼è‡´æŠ›å‡ºâ€œno such file or directoryâ€çš„å¼‚å¸¸ã€‚</p><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><ul>\n<li>ç¦ç”¨ CGOï¼Œä¹Ÿå°±æ˜¯åœ¨å¤šé˜¶æ®µæ„å»ºçš„ç¼–è¯‘è¿‡ç¨‹ä¸­æŒ‡å®š CGO_ENABLED=0ï¼Œè¾¾åˆ°â€œçº¯é™æ€â€ç¼–è¯‘çš„æ•ˆæœï¼Œç„¶åï¼Œä½ å°±å¯ä»¥ä½¿ç”¨ä»»æ„çš„é€šç”¨é•œåƒæ¥è¿è¡Œäº†ã€‚</li>\n<li>åœ¨ç¬¬ä¸€é˜¶æ®µå’Œç¬¬äºŒé˜¶æ®µåŒæ—¶ä½¿ç”¨ Alpine ç‰ˆæœ¬çš„é•œåƒï¼Œä¾‹å¦‚ç¬¬ä¸€é˜¶æ®µä½¿ç”¨ golang:alpineï¼Œç¬¬äºŒé˜¶æ®µä½¿ç”¨ alpine:latest é•œåƒã€‚</li>\n</ul><p>ä¸è¿‡ï¼ŒAlpine musl å’Œ glibc è¿˜æ˜¯æœ‰ä¸€äº›å·®å¼‚çš„ï¼Œä½ å¯ä»¥é€šè¿‡<a href=\"https://wiki.musl-libc.org/functional-differences-from-glibc.html\">è¿™ä¸ªé“¾æ¥</a>æ¥è¿›ä¸€æ­¥å­¦ä¹ ã€‚</p><p>å¯¹äºåˆå­¦è€…è€Œè¨€ï¼Œåœ¨ä¸ç†Ÿæ‚‰è¿™äº›å·®å¼‚çš„æƒ…å†µä¸‹ï¼Œ<strong>æˆ‘å¹¶ä¸æ¨èä½ ä¸ºäº†ç¼©å°é•œåƒå°ºå¯¸è€Œç›²ç›®ä½¿ç”¨ Alpine é•œåƒã€‚</strong></p><h3>Java</h3><p>å¯¹äº Java æ¥è¯´ï¼Œæˆ‘åŒæ ·æ¨èä½ ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºæ¥å°†ç¼–è¯‘å’Œè¿è¡Œé•œåƒåŒºåˆ†å¼€ã€‚å’Œ Golang ä¸åŒçš„æ˜¯ï¼ŒJava ç¨‹åºéœ€è¦ JVM çš„æ”¯æŒæ‰èƒ½è¿è¡Œã€‚æ‰€ä»¥ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µï¼Œæˆ‘ä»¬éœ€è¦ JDK å·¥å…·æä¾›å®Œæ•´çš„ç¼–è¯‘ç¯å¢ƒï¼›è€Œåœ¨è¿è¡Œé˜¶æ®µï¼Œæˆ‘ä»¬åªéœ€è¦ JRE å³å¯ã€‚</p><p>ä¸‹é¢æˆ‘åˆ—å‡ºäº†å‡ ç§é•œåƒç»„åˆï¼Œä½ å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‰æ‹©ï¼Œé•œåƒå¤§å°ä»¥ Linux/amd64 ä¸ºä¾‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b8/19/b89f9e79d8187a1940f7d0f83564ec19.jpg?wh=1920x856\" alt=\"å›¾ç‰‡\"></p><h3>å…¶ä»–è§£é‡Šå‹è¯­è¨€</h3><p>å¸¸è§çš„è§£é‡Šå‹è¯­è¨€æœ‰ Pythonã€Nodeã€PHP å’Œ Rubyï¼Œå’Œç¼–è¯‘å‹è¯­è¨€ä¸åŒï¼Œå®ƒä¸éœ€è¦ç¼–è¯‘é˜¶æ®µï¼Œæ‰€ä»¥å¤šé˜¶æ®µæ„å»ºè‡ªç„¶ä¹Ÿå°±å¤±å»äº†ä»·å€¼ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬è¦å¦‚ä½•é€‰æ‹©è§£é‡Šå‹è¯­è¨€çš„é•œåƒå‘¢ï¼Ÿ</p><p>åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œå¦‚æœä½ ç¡®ä¿¡ä½ çš„ä¸šåŠ¡ç¨‹åºä¸ä¾èµ–äºå¤–éƒ¨çš„ C ä»£ç åº“ï¼Œé‚£ä¹ˆä½ å¯ä»¥è€ƒè™‘ä½¿ç”¨ä¸“ç”¨é•œåƒçš„ Alpine ç‰ˆæœ¬ä½œä¸ºåŸºç¡€é•œåƒï¼Œä¾‹å¦‚ python:alpine é•œåƒï¼Œå®ƒåªæœ‰ 18.15Mã€‚ä½†æ˜¯ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ˜¯å¾ˆéš¾ç¡®å®šçš„ã€‚æ‰€ä»¥ï¼Œå¯¹äºè§£é‡Šå‹è¯­è¨€ï¼Œæˆ‘å¹¶ä¸æ¨èä½ ä½¿ç”¨ä¸“ç”¨é•œåƒçš„ Alpine ç‰ˆæœ¬ä½œä¸ºåŸºç¡€é•œåƒã€‚</p><p>å®é™…ä¸Šï¼Œé™¤äº† Alpine ç‰ˆæœ¬ä»¥å¤–ï¼Œå¤§å¤šæ•°ä¸“ç”¨é•œåƒéƒ½ä¼šæä¾› Slim ç‰ˆæœ¬ï¼ŒSlim ç‰ˆæœ¬å¤§éƒ½åŸºäº Ubuntuã€Debian æˆ– CentOS ç­‰æ ‡å‡† Linux å‘è¡Œç‰ˆæ„å»ºï¼Œå¹¶ä¸”åˆ é™¤äº†ä¸€äº›ä¸å¿…è¦çš„ç³»ç»Ÿåº”ç”¨ï¼Œä½“ç§¯ä¹Ÿç›¸å¯¹è¾ƒå°ï¼Œéå¸¸é€‚åˆä½œä¸ºé¦–é€‰é•œåƒã€‚ä¸‹é¢æˆ‘åˆ—å‡ºäº†ä¸åŒè¯­è¨€ä¸“ç”¨é•œåƒçš„ Slim ç‰ˆæœ¬åŠå…¶ Linux/amd64 ç‰ˆæœ¬çš„å¤§å°ï¼Œä¾›ä½ å‚è€ƒã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a1/44/a178ee1ddae601d0d2b31ccac9e94744.jpg?wh=1920x941\" alt=\"å›¾ç‰‡\"></p><h2>æ€»ç»“</h2><p>å¥½äº†ï¼Œè¿™èŠ‚è¯¾å°±è®²åˆ°è¿™é‡Œã€‚è¿™èŠ‚è¯¾ï¼Œæˆ‘ä¸ºä½ æ€»ç»“äº†ä¸¤ç±»é•œåƒï¼Œåˆ†åˆ«æ˜¯é€šç”¨é•œåƒå’Œä¸“ç”¨é•œåƒã€‚å¯¹äºé€šç”¨é•œåƒï¼Œæˆ‘æ€»ç»“äº†ä¸¤ç§ä½¿ç”¨åœºæ™¯ï¼Œç¬¬ä¸€ç§æ˜¯åŸºäºé€šç”¨é•œåƒæ„å»ºé€‚åˆä¸šåŠ¡çš„ä¸“å±é•œåƒï¼Œå¦ä¸€ç§åœºæ™¯æ˜¯åœ¨å¤šé˜¶æ®µæ„å»ºï¼Œå•çº¯å°†å…¶ä½œä¸ºç¼–è¯‘å‹è¯­è¨€çš„è¿è¡Œé•œåƒæ¥ä½¿ç”¨ã€‚</p><p>å¯¹äºé€šç”¨é•œåƒçš„é€‰æ‹©å¹¶æ²¡æœ‰ä¸€å¥—é»„é‡‘è§„åˆ™ã€‚ä¸è¿‡ï¼Œå¯¹äºåˆå­¦è€…è€Œè¨€ï¼Œæˆ‘å»ºè®®ä½ é€‰æ‹©æ ‡å‡†çš„ Linux å‘è¡Œç‰ˆï¼Œä¾‹å¦‚ Debianã€Ubuntu å’Œ CentOSã€‚Alpine é•œåƒè™½ç„¶è¶³å¤Ÿå°ï¼Œä½†å¦‚æœä½ ä¸ç†Ÿæ‚‰å®ƒçš„å†…éƒ¨ç¯å¢ƒï¼Œå¯èƒ½ä¼šå¸¦æ¥ä¸€äº›ç¨‹åºç¼–è¯‘å’Œè¿è¡Œä¸Šçš„é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä¸æ¨èä½ åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å®ƒã€‚</p><p>è€Œå¯¹äºç‰¹å®šè¯­è¨€çš„ä¸“ç”¨é•œåƒå‘¢ï¼Œé¦–å…ˆä½ éœ€è¦æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡æƒ…å†µåŒºåˆ†ç¼–è¯‘å‹è¯­è¨€å’Œè§£é‡Šå‹è¯­è¨€ï¼Œç„¶åå†åœ¨è¿™ä¸ªåŸºç¡€ä¸Šé€‰æ‹©ä¸“ç”¨é•œåƒã€‚å¯¹äºç¼–è¯‘å‹è¯­è¨€ï¼Œæˆ‘æ¨èä½ ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºæŠŠç¼–è¯‘å’Œè¿è¡Œé•œåƒåŒºåˆ†å¼€ï¼Œä¸è¿‡ï¼Œåœ¨ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºæ—¶ï¼Œä½ éœ€è¦ç‰¹åˆ«æ³¨æ„ä¿æŒç¼–è¯‘å’Œè¿è¡Œé˜¶æ®µå¯¹åº”é•œåƒ C è¯­è¨€æ ‡å‡†åº“çš„ä¸€è‡´æ€§ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´ç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶æ— æ³•è¿è¡Œã€‚</p><p>å¯¹äºè§£é‡Šå‹è¯­è¨€ï¼Œè™½ç„¶åœ¨åšé•œåƒé€‰æ‹©æ—¶ä¼šæ›´å®¹æ˜“ï¼Œä½†ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬éƒ½ä¼šåŸºäºä¸“ç”¨é•œåƒå®‰è£…å…¶ä»–çš„ä¸€äº›å·¥å…·ï¼Œé…ç½®èµ·æ¥ä¹Ÿå¹¶ä¸å®¹æ˜“ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé€‰æ‹©ä¸€ä¸ªå…·æœ‰ä¸°å¯Œå®‰è£…åŒ…èµ„æºçš„ä¸“ç”¨é•œåƒå¯ä»¥å‡å°‘å·¥ä½œé‡ï¼Œæ¯”å¦‚é€‰æ‹©åŸºäº Debian æ„å»ºçš„ä¸“ç”¨é•œåƒã€‚åœ¨æˆ‘ä¸ºä½ åˆ—å‡ºçš„ä¸“ç”¨é•œåƒä¸­ï¼Œ php:8.1-fpm-buster å’Œ python:slim-bullseye éƒ½æ˜¯åŸºäº Debian æ„å»ºçš„ä¸“ç”¨é•œåƒã€‚</p><p>æ€»çš„æ¥è¯´ï¼ŒåŸºç¡€é•œåƒçš„é€‰æ‹©å¹¶æ²¡æœ‰ä¸€å¥—å›ºå®šè§„åˆ™ï¼Œä½ éœ€è¦ä»å¤šæ–¹é¢ï¼Œä¾‹å¦‚ä¸šåŠ¡ç¨‹åºçš„ä¾èµ–ã€å¯è°ƒè¯•æ€§ã€å®‰å…¨æ€§ã€ä½“ç§¯å¤§å°å’Œç¤¾åŒºç»´æŠ¤ç­‰è§’åº¦æ¥è€ƒè™‘ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æœ€åï¼Œç»™ä½ ç•™ä¸€é“æ€è€ƒé¢˜å§ã€‚</p><p>åœ¨æ„å»ºä¸šåŠ¡é•œåƒçš„è¿‡ç¨‹ä¸­ï¼Œä½ æœ‰å“ªäº›é¢å¤–çš„ç»éªŒå¯ä»¥å’Œæˆ‘ä»¬åˆ†äº«å‘¢ï¼Ÿ</p><p>æ¬¢è¿ä½ ç»™æˆ‘ç•™è¨€äº¤æµè®¨è®ºï¼Œä½ ä¹Ÿå¯ä»¥æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚æˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ã€‚</p>","neighbors":{"left":{"article_title":"14ï½œå®¹å™¨åŒ–ï¼šå¦‚ä½•å°†é•œåƒä½“ç§¯ç¼©å‡ 90%ï¼Ÿ","id":621351},"right":{"article_title":"16ï½œè‡ªåŠ¨æ„å»ºï¼šå¦‚ä½•ä½¿ç”¨ GitHub Action æ„å»ºé•œåƒï¼Ÿ","id":622743}},"comments":[{"had_liked":false,"id":366113,"user_name":"includestdio.h","can_delete":false,"product_type":"c1","uid":2314854,"ip_address":"é™•è¥¿","ucode":"5027BACE9319CD","user_header":"https://static001.geekbang.org/account/avatar/00/23/52/66/3e4d4846.jpg","comment_is_top":false,"comment_ctime":1673408328,"is_pvip":true,"replies":[{"id":133419,"content":"å¾ˆæ£’çš„æ€»ç»“ğŸ‘ğŸ»ï¼Œä¾‹å¦‚æåˆ°çš„å¤šé˜¶æ®µæ„å»ºå’Œå¤åˆ¶æ–‡ä»¶éƒ½æ˜¯åœ¨å®é™…ä½¿ç”¨åœºæ™¯ç”¨çš„å¾ˆå¤šçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1673444087,"ip_address":"å¹¿ä¸œ","comment_id":366113,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312001,"comment_content":"ä»¥å‰æ•´ç†çš„å…³äº dockerfile çš„æœ€ä½³å®è·µï¼š\n\n1. ä¸å®‰è£…æ— æ•ˆè½¯ä»¶åŒ…\n2. ç†æƒ³çŠ¶æ€ä¸‹ï¼Œæ¯ä¸ªé•œåƒåº”è¯¥åªæœ‰ä¸€ä¸ªè¿›ç¨‹\n3. æ— æ³•é¿å…å¤šè¿›ç¨‹è¿è¡Œæ—¶ï¼Œåº”é€‰æ‹©åˆç†çš„åˆå§‹åŒ–è¿›ç¨‹ã€1.éœ€è¦æ•è· SIGTERM ä¿¡å·å¹¶å®Œæˆå­è¿›ç¨‹çš„ä¼˜é›…ç»ˆæ­¢ï¼›2.è´Ÿè´£æ¸…ç†é€€å‡ºçš„å­è¿›ç¨‹ä»¥é¿å…åƒµå°¸è¿›ç¨‹ --init å‚æ•°ã€‘\n4. æœ€å°å±‚çº§æ•°ï¼š1.å¤šæ¡ RUN å‘½ä»¤å¯é€šè¿‡è¿æ¥ç¬¦è¿æ¥æˆä¸€æ¡æŒ‡ä»¤é›†ä»¥å‡å°‘å±‚æ•°ï¼›2.é€šè¿‡å¤šæ®µæ„å»ºå‡å°‘é•œåƒå±‚æ•°\n5. å¤šè¡Œå‚æ•°æŒ‰å­—æ¯æ’åºï¼Œå¯ä»¥å‡å°‘å¯èƒ½å‡ºç°çš„é‡å¤å‚æ•°ï¼Œå¹¶ä¸”æä¾›å¯è¯»æ€§\n6. æŠŠå˜æ›´é¢‘ç‡ä½çš„ç¼–è¯‘æŒ‡ä»¤æ”¾åœ¨é•œåƒåº•å±‚ï¼Œæœ‰æ•ˆåˆ©ç”¨ build cacheã€è€ƒè™‘ build cache ä¸‹å±‚å¤±æ•ˆï¼Œä¸Šå±‚åŒæ­¥å¤±æ•ˆçš„æœºåˆ¶ã€‘\n7.  å¤åˆ¶æ–‡ä»¶æ—¶ï¼Œæ¯ä¸ªæ–‡ä»¶åº”ç‹¬ç«‹å¤åˆ¶ï¼Œç¡®ä¿æŸä¸ªæ–‡ä»¶å˜æ›´æ—¶ï¼Œåªå½±å“è¯¥æ–‡ä»¶å¯¹åº”çš„ç¼“å­˜","like_count":8,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":599325,"discussion_content":"å¾ˆæ£’çš„æ€»ç»“ğŸ‘ğŸ»ï¼Œä¾‹å¦‚æåˆ°çš„å¤šé˜¶æ®µæ„å»ºå’Œå¤åˆ¶æ–‡ä»¶éƒ½æ˜¯åœ¨å®é™…ä½¿ç”¨åœºæ™¯ç”¨çš„å¾ˆå¤šçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1673444087,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366195,"user_name":"jeffery","can_delete":false,"product_type":"c1","uid":1219972,"ip_address":"é™•è¥¿","ucode":"35E2DAA386FB86","user_header":"https://static001.geekbang.org/account/avatar/00/12/9d/84/171b2221.jpg","comment_is_top":false,"comment_ctime":1673448042,"is_pvip":false,"replies":[{"id":133432,"content":"ğŸ‘ğŸ»å¾ˆå®Œæ•´çš„æ€»ç»“ï½","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1673488961,"ip_address":"å¹¿ä¸œ","comment_id":366195,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312001,"comment_content":"ä¼˜åŒ–é•œåƒå¤§å°\nFROM é€‚åˆä¸šåŠ¡åŸºç¡€é•œåƒ\nå‡å°‘é•œåƒå±‚\næ¸…ç†æ— ç”¨æ•°æ®\nä½¿ç”¨.dockerignoreå¿½ç•¥æ„å»ºé•œåƒæ—¶éå¿…éœ€çš„æ–‡ä»¶\nå¤šé˜¶æ®µæ„å»º","like_count":2,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":599369,"discussion_content":"ğŸ‘ğŸ»å¾ˆå®Œæ•´çš„æ€»ç»“ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1673488961,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366347,"user_name":"Jich","can_delete":false,"product_type":"c1","uid":2485491,"ip_address":"ä¸Šæµ·","ucode":"7127C10EBB27F0","user_header":"https://static001.geekbang.org/account/avatar/00/25/ec/f3/f140576e.jpg","comment_is_top":false,"comment_ctime":1673596500,"is_pvip":false,"replies":[{"id":133491,"content":"ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºä¸å½±å“åŸæœ‰çš„é•œåƒå‘å¸ƒè¿‡ç¨‹ï¼Œåªæ˜¯å¯ä»¥å¸®åŠ©ä½ å‡å°é•œåƒå¤§å°ï¼Œæ„å»ºå®Œæˆä¹‹åä»ç„¶èµ°è€çš„æµç¨‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1673600032,"ip_address":"å¹¿ä¸œ","comment_id":366347,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312001,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¤šé˜¶æ®µæ„å»ºï¼Œåœ¨å¯¹åº”å¤šç¯å¢ƒçš„è¯ï¼Œæ˜¯ä¸æ˜¯ä¼šå­˜åœ¨å‘å¸ƒæ•ˆç‡ä¸Šçš„é—®é¢˜ã€‚æˆ‘ä»¬ç°åœ¨æ˜¯åœ¨DEVç¯å¢ƒç¼–è¯‘å®Œä¹‹åï¼Œç›´æ¥å¯ä»¥ç”¨è¿™ä¸ªé•œåƒå‘å¸ƒtestæˆ–ç”Ÿäº§ã€‚å¦‚æœä½¿ç”¨å¤šé˜¶æ®µæ„å»ºçš„è¯ï¼Œæ˜¯ä¸æ˜¯æ„å‘³ç€æˆ‘åœ¨æ¯ä¸ªç¯å¢ƒéƒ½ä¼šè¦æ‰§è¡Œç¼–è¯‘çš„é˜¶æ®µã€‚","like_count":1,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":599592,"discussion_content":"ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºä¸å½±å“åŸæœ‰çš„é•œåƒå‘å¸ƒè¿‡ç¨‹ï¼Œåªæ˜¯å¯ä»¥å¸®åŠ©ä½ å‡å°é•œåƒå¤§å°ï¼Œæ„å»ºå®Œæˆä¹‹åä»ç„¶èµ°è€çš„æµç¨‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1673600033,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":379414,"user_name":"Geek_d3ac4e","can_delete":false,"product_type":"c1","uid":3033021,"ip_address":"å¹¿ä¸œ","ucode":"D574074F86CF37","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/p4eiaaeyWK5iaRIc1r09VPCCRWkmSHw668QQSPIicPib03veiawNOpztJbvRlsiazqG9JPeL4mTTuHfWDE2hFchZlMlw/132","comment_is_top":false,"comment_ctime":1691919281,"is_pvip":false,"replies":[{"id":138231,"content":"æŠ±æ­‰ï¼Œç¬”è¯¯ï¼Œç¨åä¿®æ­£ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1691977519,"ip_address":"å¹¿ä¸œ","comment_id":379414,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312001,"comment_content":"rustæ€ä¹ˆå’ŒPythonä¸€èµ·å˜è§£é‡Šå‹è¯­è¨€äº†","like_count":0,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":625601,"discussion_content":"æŠ±æ­‰ï¼Œç¬”è¯¯ï¼Œç¨åä¿®æ­£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1691977519,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":376005,"user_name":"Geek_c680d7","can_delete":false,"product_type":"c1","uid":3238999,"ip_address":"ç¾å›½","ucode":"8F0662C9182D97","user_header":"","comment_is_top":false,"comment_ctime":1686216974,"is_pvip":false,"replies":[{"id":137183,"content":"å¯ä»¥åˆ¶ä½œä¸€ä¸ªåŸºäº jre é•œåƒçš„ dockerfileï¼Œå¹¶å®‰è£…è¿™äº›å·¥å…·é‡æ–°æ‰“åŒ…é•œåƒå³å¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1686271129,"ip_address":"å¹¿ä¸œ","comment_id":376005,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312001,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œç°åœ¨jdk17çš„åŸºç¡€é•œåƒå¤ªå¤§äº†ï¼Œä¹Ÿä¸æä¾›jreé•œåƒï¼Œéœ€è¦è‡ªå·±å¯¼å‡ºjreé•œåƒï¼Œä½†æ˜¯æ€ä¹ˆåœ¨å¯¼å‡ºçš„jreé•œåƒä¸­ä½¿ç”¨jmapã€jstackç­‰å‘½ä»¤å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":620534,"discussion_content":"å¯ä»¥åˆ¶ä½œä¸€ä¸ªåŸºäº jre é•œåƒçš„ dockerfileï¼Œå¹¶å®‰è£…è¿™äº›å·¥å…·é‡æ–°æ‰“åŒ…é•œåƒå³å¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1686271129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366168,"user_name":"Wisdom","can_delete":false,"product_type":"c1","uid":1098980,"ip_address":"ä¸­å›½é¦™æ¸¯","ucode":"0787F954B66E93","user_header":"https://static001.geekbang.org/account/avatar/00/10/c4/e4/81ee2d8f.jpg","comment_is_top":false,"comment_ctime":1673430929,"is_pvip":false,"replies":[{"id":133421,"content":"æ„Ÿè°¢ä½ çš„è®¤å¯ï¼Œå›ºå®šæ¯å‘¨ä¸€ä¸‰äº”æ›´æ–°ï¼Œæ•¬è¯·æœŸå¾…ï½","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1275456,"ctime":1673444225,"ip_address":"å¹¿ä¸œ","comment_id":366168,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100312001,"comment_content":"æ€»ç»“çš„æŒºå¥½çš„ï¼Œä¸éš¾ç†è§£ã€‚è€å¸ˆå¯ä»¥å‡ºå“å¿«ä¸€ç‚¹å—ï¼Ÿ  ï¼šï¼‰","like_count":0,"discussions":[{"author":{"id":1275456,"avatar":"https://static001.geekbang.org/account/avatar/00/13/76/40/791d0f5e.jpg","nickname":"ç‹ç‚œ","note":"","ucode":"B6F98A1EC06BDB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":599327,"discussion_content":"æ„Ÿè°¢ä½ çš„è®¤å¯ï¼Œå›ºå®šæ¯å‘¨ä¸€ä¸‰äº”æ›´æ–°ï¼Œæ•¬è¯·æœŸå¾…ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1673444225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":382166,"user_name":"BertGeek","can_delete":false,"product_type":"c1","uid":1452799,"ip_address":"ä¸Šæµ·","ucode":"8E1D72C9F9778C","user_header":"https://static001.geekbang.org/account/avatar/00/16/2a/ff/a9d72102.jpg","comment_is_top":false,"comment_ctime":1696824644,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100312001,"comment_content":"1. ç¼–è¯‘å‹è¯­è¨€ï¼Œä½¿ç”¨å¤šé˜¶æ®µæ„å»ºçš„ç¡®æ˜¯å‡å°‘å¤§å°çš„æœ€ä½³æ–¹å¼\n2. å¯¹äºh5 å‰ç«¯ï¼Œnginx-alpine:latest ä¹Ÿå¯ä»¥æ¨èï¼Œæˆ‘ä»¬ç”Ÿäº§ç¯å¢ƒå¤§é‡ä½¿ç”¨\n3. python è§£é‡Šæ€§ï¼Œæ›´æ¨è python:slim","like_count":1},{"had_liked":false,"id":366109,"user_name":"å¥•","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"å¹¿ä¸œ","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1673406415,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100312001,"comment_content":"äº†è§£æ¯ä¸€ç§é•œåƒçš„ä¼˜ç¼ºç‚¹å’Œä½¿ç”¨åœºæ™¯ æ‰èƒ½æ›´å¥½çš„è¿›è¡Œé€‰æ‹©","like_count":0}]}
{"id":372609,"title":"03 | 黑盒之中有什么：内核结构与设计","content":"<p>你好，我是LMOS。</p><p>在上节课中，我们写了一个极简的操作系统——Hello OS，并成功运行，直观地感受了一下自己控制计算机的乐趣，或许你正沉浸在这种乐趣之中，但我不得不提醒你赶快从这种快乐中走出来。</p><p>因为我们的Hello OS虽然能使计算机运行起来，但其实没有任何实际的功能。</p><p>什么？没有实际功能，我们往里增加功能不就好了吗？</p><p>你可能会这样想，但是这样想就草率了，开发操作系统内核（以下简称内核）就像建房子一样，房子要建得好，就先要设计。比如用什么结构，什么材料，房间怎么布局，电路、水路等，最后画出设计图纸，依据图纸按部就班地进行建造。</p><p>而一个内核的复杂程度要比房子的复杂程度高出几个数量级，所以在开发内核之前先要对其进行设计。</p><p>下面我们就先搞清楚内核之中有些什么东西，然后探讨一下怎么组织它们、用什么架构来组织、并对比成熟的架构，最后设计出我们想要的内核架构。</p><h2>黑盒之中有什么</h2><p>从用户和应用程序的角度来看，内核之中有什么并不重要，能提供什么服务才是重要的，所以内核在用户和上层应用眼里，就像一个大黑盒，至于黑盒里面有什么，怎么实现的，就不用管了。</p><p>不过，作为内核这个黑盒的开发者，我们要实现它，就必先设计它，而要设计它，就必先搞清楚内核中有什么。</p><!-- [[[read_end]]] --><p>从抽象角度来看，内核就是计算机资源的管理者，当然管理资源是为了让应用使用资源。既然内核是资源的管理者，我们先来看看计算机中有哪些资源，然后通过资源的归纳，就能推导出内核这个大黑盒中应该有什么。</p><p>计算机中资源大致可以分为两类资源，一种是硬件资源，一种是软件资源。先来看看硬件资源有哪些，如下：</p><p>1.总线，负责连接各种其它设备，是其它设备工作的基础。<br>\n2.CPU，即中央处理器，负责执行程序和处理数据运算。<br>\n3.内存，负责储存运行时的代码和数据。<br>\n4.硬盘，负责长久储存用户文件数据。<br>\n5.网卡，负责计算机与计算机之间的通信。<br>\n6.显卡，负责显示工作。<br>\n7.各种I/O设备，如显示器，打印机，键盘，鼠标等。</p><p>下面给出一幅经典的计算机内部结构图，如下：</p><p><img src=\"https://static001.geekbang.org/resource/image/28/14/28cc064d767d792071a789a5b4e7d714.jpg?wh=4367*2105\" alt=\"\" title=\"经典计算机结构图\"></p><p>而计算机中的软件资源，则可表示为计算机中的各种形式的数据。如各种文件、软件程序等。</p><p>内核作为硬件资源和软件资源的管理者，其内部组成在逻辑上大致如下：</p><p>1.<strong>管理CPU，</strong>由于CPU是执行程序的，而内核把运行时的程序抽象成进程，所以又称为进程管理。<br>\n2.<strong>管理内存</strong>，由于程序和数据都要占用内存，内存是非常宝贵的资源，所以内核要非常小心地分配、释放内存。<br>\n3.<strong>管理硬盘</strong>，而硬盘主要存放用户数据，而内核把用户数据抽象成文件，即管理文件，文件需要合理地组织，方便用户查找和读写，所以形成了文件系统。<br>\n4.<strong>管理显卡</strong>，负责显示信息，而现在操作系统都是支持GUI（图形用户接口）的，管理显卡自然而然地就成了内核中的图形系统。<br>\n5.<strong>管理网卡</strong>，网卡主要完成网络通信，网络通信需要各种通信协议，最后在内核中就形成了网络协议栈，又称网络组件。<br>\n6.<strong>管理各种I/O设备</strong>，我们经常把键盘、鼠标、打印机、显示器等统称为I/O（输入输出）设备，在内核中抽象成I/O管理器。</p><p>内核除了这些必要组件之外，根据功能不同还有安全组件等，最值得一提的是，各种计算机硬件的性能不同，硬件型号不同，硬件种类不同，硬件厂商不同，内核要想管理和控制这些硬件就要编写对应的代码，通常这样的代码我们称之为<strong>驱动程序</strong>。</p><p>硬件厂商就可以根据自己不同的硬件编写不同的驱动，加入到内核之中。</p><p>以上我们已经大致知道了内核之中有哪些组件，但是另一个问题又出现了，即如何组织这些组件，让系统更加稳定和高效，这就需要我们从现有的一些<strong>经典内核结构</strong>里找灵感了。</p><h2>宏内核结构</h2><p>其实看这名字，就已经能猜到了，宏即大也，这种最简单适用，也是最早的一种内核结构。</p><p>宏内核就是把以上诸如管理进程的代码、管理内存的代码、管理各种I/O设备的代码、文件系统的代码、图形系统代码以及其它功能模块的代码，把这些所有的代码经过编译，最后链接在一起，形成一个大的可执行程序。</p><p>这个大程序里有实现支持这些功能的所有代码，向用户应用软件提供一些接口，这些接口就是常说的系统API函数。而这个大程序会在处理器的特权模式下运行，这个模式通常被称为宏内核模式。结构如下图所示。</p><p><img src=\"https://static001.geekbang.org/resource/image/eb/6b/eb8e9487475f960dccda0fd939999b6b.jpg?wh=4298*3328\" alt=\"\" title=\"宏内核结构图\"></p><p>尽管图中一层一层的，这并不是它们有层次关系，仅仅表示它们链接在一起。</p><p>为了理解宏内核的工作原理，我们来看一个例子，宏内核提供内存分配功能的服务过程，具体如下：</p><p>1.应用程序调用内存分配的API（应用程序接口）函数。<br>\n2.处理器切换到特权模式，开始运行内核代码。<br>\n3.内核里的内存管理代码按照特定的算法，分配一块内存。<br>\n4.把分配的内存块的首地址，返回给内存分配的API函数。<br>\n5.内存分配的API函数返回，处理器开始运行用户模式下的应用程序，应用程序就得到了一块内存的首地址，并且可以使用这块内存了。</p><p>上面这个过程和一个实际的操作系统中的运行过程，可能有差异，但大同小异。当然，系统API和应用程序之间可能还有库函数，也可能只是分配了一个虚拟地址空间，但是我们关注的只是这个过程。</p><p>上图的宏内核结构有明显的缺点，因为它没有模块化，没有扩展性、没有移植性，高度耦合在一起，一旦其中一个组件有漏洞，内核中所有的组件可能都会出问题。</p><p>开发一个新的功能也得重新编译、链接、安装内核。其实现在这种原始的宏内核结构已经没有人用了。这种宏内核唯一的优点是性能很好，因为在内核中，这些组件可以互相调用，性能极高。</p><p>为了方便我们了解不同内核架构间的优缺点，下面我们看一个和宏内核结构对应的反例。</p><h2>微内核结构</h2><p>微内核架构正好与宏内核架构相反，它提倡内核功能尽可能少：仅仅只有进程调度、处理中断、内存空间映射、进程间通信等功能（目前不懂没事，这是属于管理进程和管理内存的功能模块，后面课程里还会专门探讨的）。</p><p>这样的内核是不能完成什么实际功能的，开发者们把实际的进程管理、内存管理、设备管理、文件管理等服务功能，做成一个个服务进程。和用户应用进程一样，只是它们很特殊，宏内核提供的功能，在微内核架构里由这些服务进程专门负责完成。</p><p>微内核定义了一种良好的进程间通信的机制——<strong>消息</strong>。应用程序要请求相关服务，就向微内核发送一条与此服务对应的消息，微内核再把这条消息转发给相关的服务进程，接着服务进程会完成相关的服务。服务进程的编程模型就是循环处理来自其它进程的消息，完成相关的服务功能。其结构如下所示：</p><p><img src=\"https://static001.geekbang.org/resource/image/4b/64/4b190d617206379ee6cd77fcea231c64.jpg?wh=4195*2884\" alt=\"\" title=\"微内核结构图\"></p><p>为了理解微内核的工程原理，我们来看看微内核提供内存分配功能的服务过程，具体如下：</p><p>1.应用程序发送内存分配的消息，这个发送消息的函数是微内核提供的，相当于系统API，微内核的API（应用程序接口）相当少，极端情况下仅需要两个，一个接收消息的API和一个发送消息的API。<br>\n2.处理器切换到特权模式，开始运行内核代码。<br>\n3.微内核代码让当前进程停止运行，并根据消息包中的数据，确定消息发送给谁，分配内存的消息当然是发送给内存管理服务进程。<br>\n4.内存管理服务进程收到消息，分配一块内存。<br>\n5.内存管理服务进程，也会通过消息的形式返回分配内存块的地址给内核，然后继续等待下一条消息。<br>\n6.微内核把包含内存块地址的消息返回给发送内存分配消息的应用程序。<br>\n7.处理器开始运行用户模式下的应用程序，应用程序就得到了一块内存的首地址，并且可以使用这块内存了。</p><p>微内核的架构实现虽然不同，但是大致过程和上面一样。同样是分配内存，在微内核下拐了几个弯，一来一去的消息带来了非常大的开销，当然各个服务进程的切换开销也不小。这样系统性能就大打折扣。</p><p>但是微内核有很多优点，首先，系统结构相当清晰利于协作开发。其次，系统有良好的移植性，微内核代码量非常少，就算重写整个内核也不是难事。最后，微内核有相当好的伸缩性、扩展性，因为那些系统功能只是一个进程，可以随时拿掉一个服务进程以减少系统功能，或者增加几个服务进程以增强系统功能。</p><p>微内核的代表作有MACH、MINIX、L4系统，这些系统都是微内核，但是它们不是商业级的系统，商业级的系统不采用微内核主要还是因为性能差。</p><p>好了，粗略了解了宏内核和微内核两大系统内核架构的优、缺点，以后设计我们自己的系统内核时，心里也就有了底了，到时就可以扬长避短了，下面我们先学习一点其它的东西，即分离硬件相关性，为设计出我们自己的内核架构打下基础。</p><h2>分离硬件的相关性</h2><p>我们会经常听说，Windows内核有什么HAL层、Linux内核有什么arch层。这些xx层就是Windows和Linux内核设计者，给他们的系统内核分的第一个层。</p><p>今天如此庞杂的计算机，其实也是一层一层地构建起来的，从硬件层到操作系统层再到应用软件层这样构建。分层的主要目的和好处在于<strong>屏蔽底层细节，使上层开发更加简单。</strong></p><p>计算机领域的一个基本方法是增加一个抽象层，从而使得抽象层的上下两层独立地发展，所以在内核内部再分若干层也不足为怪。</p><p>分离硬件的相关性，就是要把操作硬件和处理硬件功能差异的代码抽离出来，形成一个独立的<strong>软件抽象层</strong>，对外提供相应的接口，方便上层开发。</p><p>为了让你更好理解，我们举进程管理中的一个模块实现细节的例子：进程调度模块。通过这个例子，来看看分层对系统内核的设计与开发有什么影响。</p><p>一般操作系统理论课程都会花大量篇幅去讲进程相关的概念，其实说到底，进程是操作系统开发者为了实现多任务而提出的，并让每个进程在CPU上运行一小段时间，这样就能实现多任务同时运行的假象。</p><p>当然，这种假象十分奏效。要实现这种假象，就要实现下面这两种机制：</p><p>1.<strong>进程调度</strong>，它的目的是要从众多进程中选择一个将要运行的进程，当然有各种选择的算法，例如，轮转算法、优先级算法等。<br>\n2.<strong>进程切换</strong>，它的目的是停止当前进程，运行新的进程，主要动作是保存当前进程的机器上下文，装载新进程的机器上下文。</p><p>我们不难发现，不管是在ARM硬件平台上还是在x86硬件平台上，选择一个进程的算法和代码是不容易发生改变的，需要改变的代码是进程切换的相关代码，因为不同的硬件平台的机器上下文是不同的。</p><p>所以，这时最好是将进程切换的代码放在一个独立的层中实现，比如硬件平台相关层，当操作系统要运行在不同的硬件平台上时，就只是需要修改硬件平台相关层中的相关代码，这样操作系统的<strong>移植性</strong>就大大增强了。</p><p>如果把所有硬件平台相关的代码，都抽离出来，放在一个独立硬件相关层中实现并且定义好相关的调用接口，再在这个层之上开发内核的其它功能代码，就会方便得多，结构也会清晰很多。操作系统的移植性也会大大增强，移植到不同的硬件平台时，就构造开发一个与之对应的硬件相关层。这就是分离硬件相关性的好处。</p><h2>我们的选择</h2><p>从前面内容中，我们知道了内核必须要完成的功能，宏内核架构和微内核架构各自的优、缺点，最后还分析了分离硬件相关层的重要性，其实说了这么多，就是为了设计我们自己的操作系统内核。</p><p>虽然前面的内容，对操作系统设计这个领域还远远不够，但是对于我们自己从零开始的操作系统内核这已经够了。</p><p>首先大致将我们的操作系统内核分为三个大层，分别是：</p><p>1.内核接口层。<br>\n2.内核功能层。<br>\n3.内核硬件层。</p><p>内核接口层，定义了一系列接口，主要有两点内容，如下：</p><p>1.定义了一套UNIX接口的子集，我们出于学习和研究的目的，使用UNIX接口的子集，优点之一是接口少，只有几个，并且这几个接口又能大致定义出操作系统的功能。<br>\n2.这套接口的代码，就是检查其参数是否合法，如果参数有问题就返回相关的错误，接着调用下层完成功能的核心代码。</p><p>内核功能层，主要完成各种实际功能，这些功能按照其类别可以分成各种模块，当然这些功能模块最终会用具体的算法、数据结构、代码去实现它，内核功能层的模块如下：</p><p>1.进程管理，主要是实现进程的创建、销毁、调度进程，当然这要设计几套数据结构用于表示进程和组织进程，还要实现一个简单的进程调度算法。<br>\n2.内存管理，在内核功能层中只有内存池管理，分两种内存池：页面内存池和任意大小的内存池，你现在可能不明白什么是内存池，这里先有个印象就行，后面课程研究它的时候再详细介绍。<br>\n3.中断管理，这个在内核功能层中非常简单：就是把一个中断回调函数安插到相关的数据结构中，一旦发生相关的中断就会调用这个函数。<br>\n4.设备管理，这个是最难的，需要用一系列的数据结构表示驱动程序模块、驱动程序本身、驱动程序创建的设备，最后把它们组织在一起，还要实现创建设备、销毁设备、访问设备的代码，这些代码最终会调用设备驱动程序，达到操作设备的目的。</p><p>内核硬件层，主要包括一个具体硬件平台相关的代码，如下：</p><p>1.初始化，初始化代码是内核被加载到内存中最先需要运行的代码，例如初始化少量的设备、CPU、内存、中断的控制、内核用于管理的数据结构等。<br>\n2. CPU控制，提供CPU模式设定、开、关中断、读写CPU特定寄存器等功能的代码。<br>\n3.中断处理，保存中断时机器的上下文，调用中断回调函数，操作中断控制器等。<br>\n4.物理内存管理，提供分配、释放大块内存，内存空间映射，操作MMU、Cache等。<br>\n5.平台其它相关的功能，有些硬件平台上有些特殊的功能，需要额外处理一下。</p><p>如果上述文字让你看得头晕，我们来画幅图，可能就会好很多，如下所示，当然这里没有画出用户空间的应用进程，<strong>API接口以下的为内核空间，这才是设计、开发内核的重点。</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/6c/3c/6cf68bebe4f114f00f848d1d5679d33c.jpg?wh=4843*3176\" alt=\"\" title=\"我们的内核结构\"></p><p>从上述文字和图示，可以发现，我们的操作系统内核没有任何设备驱动程序，甚至没有文件系统和网络组件，内核所实现的功能很少。这吸取了微内核的优势，内核小出问题的可能性就少，扩展性就越强。</p><p>同时，我们把文件系统、网络组件、其它功能组件作为虚拟设备交由设备管理，比如需要文件系统时就写一个文件系统虚拟设备的驱动，完成文件系统的功能，需要网络时就开发一个网络虚拟设备的驱动，完成网络功能。</p><p>这些驱动一旦被装载，就是内核的一部分了，并不是像微内核一样作为服务进程运行。这又吸取了宏内核的优势，代码高度耦合，性能强劲。</p><p>这样的内核架构既不是宏内核架构也不是微内核架构，而是这两种架构综合的结果，可以说是混合内核架构，也可以说这是我们自己的内核架构……</p><p>好了，到这里为止，我们已经设计了内核，确定了内核的功能并且设计了一种内核架构用来组织这些功能，这离完成我们自己的操作系统内核又进了一步。</p><h2>重点回顾</h2><p>内核设计真是件让人兴奋的事情，今天的内容讲完了，我们先停下赶路的脚步，回过头来看一看这一节课我们学到了什么。</p><p>我们一开始感觉内核是个大黑盒，但通过分析通用计算机有哪些资源，就能推导出内核作为资源管理者应该有这些组件：I/O管理组件、内存管理组件、文件系统组件、进程管理组件、图形系统组件、网络组件、安全组件等。</p><p>接着，我们探讨了用两种结构来组织这些组件，这两种结构分别是宏内核结构和微内核结构，知道了他们各自的优缺点，<strong>宏内核有极致的性能，微内核有极致的可移植性、可扩展性。</strong>还弄清楚了它们各自完成应用程序服务的机制与流程。</p><p>然后，我们研究了分层的重要性，为什么分离硬件相关性。用实例说明了分离硬件相关性的好处，这是为了更容易扩展和移植。</p><p>最后，在前面的基础上，我们为自己的内核设计作出了选择。</p><p>我们的内核结构分为三层：内核硬件层，内核功能层，内核接口层，内核接口层主要是定义了一套UNIX接口的子集，内核功能层主要完成I/O管理组件、内存管理组件、文件系统组件、进程管理组件、图形系统组件、网络组件、安全组件的通用功能型代码；内核硬件层则完成其内核组件对应的具体硬件平台相关的代码。</p><h2>思考题</h2><p>其实我们的内核架构不是我们首创的，它是属于微内核、宏内核之外的第三种架构，请问这是什么架构？</p><p>欢迎你在留言区跟我交流互动。如果这节课对你有启发，也欢迎分享给你的朋友或同事。</p>","comments":[{"had_liked":false,"id":292744,"user_name":"GAC·DU","can_delete":false,"product_type":"c1","uid":1385403,"ip_address":"","ucode":"7847FBE1C13740","user_header":"https://static001.geekbang.org/account/avatar/00/15/23/bb/a1a61f7c.jpg","comment_is_top":true,"comment_ctime":1620959197,"is_pvip":true,"replies":[{"id":"106024","content":"为你狂刷6666","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621001862,"ip_address":"","comment_id":292744,"utype":1}],"discussion_count":8,"race_medal":0,"score":"9.2233725796416e+18","product_id":100078401,"comment_content":"之前感觉内核很神秘，真的就是个黑盒子，但是通过老师的讲解，觉得也可以透过现象看本质。内核设计的演进貌似和软件系统架构演进惊人的相似。宏内核和单体架构一致，微内核和SOA架构一致，而课程里面讲的第三种架构更像是微服务架构。从整体的架构演进来看，核心就是拆分，从all in one到垂直拆分，再到水平拆分，更面向用户操作和技术专注。","like_count":127,"discussions":[{"author":{"id":1207293,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6b/fd/14e1f6bb.jpg","nickname":"大乌贼 (\\(●-●)/)","note":"","ucode":"B1FB489558F176","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374442,"discussion_content":"我感觉不对，我觉得宏内核好比单体架构，微内核好比微服务架构。混合内核好比模块化的加载，类似osgi","likes_number":19,"is_delete":false,"is_hidden":false,"ctime":1621176572,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1179654,"avatar":"https://static001.geekbang.org/account/avatar/00/12/00/06/05934575.jpg","nickname":"Interceptor","note":"","ucode":"8EEFB0C4974D03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1207293,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6b/fd/14e1f6bb.jpg","nickname":"大乌贼 (\\(●-●)/)","note":"","ucode":"B1FB489558F176","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":551339,"discussion_content":"+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644992136,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":374442,"ip_address":""},"score":551339,"extra":""}]},{"author":{"id":2698174,"avatar":"https://static001.geekbang.org/account/avatar/00/29/2b/be/9d2e84ec.jpg","nickname":"朱永超","note":"","ucode":"8E74394E634EBD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383690,"discussion_content":"宏内核就像社会主义，微内核就像资本主义，一个效率高，一个很灵活，结合起来就形成了高效的特色社会主义","likes_number":16,"is_delete":false,"is_hidden":false,"ctime":1626189108,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2051293,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/4c/dd/c6035349.jpg","nickname":"Bumblebee","note":"","ucode":"B879C8A511D08D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2698174,"avatar":"https://static001.geekbang.org/account/avatar/00/29/2b/be/9d2e84ec.jpg","nickname":"朱永超","note":"","ucode":"8E74394E634EBD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":541056,"discussion_content":"中国特色社会主义","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1640244181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":383690,"ip_address":""},"score":541056,"extra":""}]},{"author":{"id":2683210,"avatar":"https://static001.geekbang.org/account/avatar/00/28/f1/4a/bcba0456.jpg","nickname":"康Geek","note":"","ucode":"D54F1CFDA9F2D5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531610,"discussion_content":"垂直拆分是组件是实现功能的模块，每个功能的实现模块对应一个进程。水平拆分是分层实现功能，一层一层的叠加递进增加功能。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1637344211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1927222,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/68/36/478194f3.jpg","nickname":"Shawn Duan","note":"","ucode":"628BAD6473FBCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575167,"discussion_content":"我感觉要决定哪些需要拆分哪些需要整合是设计的关键，也是难点。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654646215,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519942,"discussion_content":"为你狂刷6666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621001862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2637401,"avatar":"https://static001.geekbang.org/account/avatar/00/28/3e/59/18423946.jpg","nickname":"没有免费午餐","note":"","ucode":"D7C596718D2228","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376542,"discussion_content":"好厉害，刚学完软件工程。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622183748,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293133,"user_name":"Hanks","can_delete":false,"product_type":"c1","uid":2620949,"ip_address":"","ucode":"F53CE94362F90E","user_header":"","comment_is_top":true,"comment_ctime":1621237525,"is_pvip":false,"replies":[{"id":"106194","content":"是的 你学到了 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621346011,"ip_address":"","comment_id":293133,"utype":1}],"discussion_count":1,"race_medal":0,"score":"9.2233721587350999e+18","product_id":100078401,"comment_content":"首先认识到内核是一个软件：管理硬件平台资源的底层软件，应用程序等都是借由它完成程序执行和硬件功能。内核设计的模式宏内核、微内核、外内核以及组合式内核，本文提到的内核结构类似于Linux内核，<br>首先它是一个宏内核，但是同时具备有微内核的特点，模块化设计，支持动态可加载和卸载。","like_count":29,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520088,"discussion_content":"是的 你学到了 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621346011,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292963,"user_name":"Geek_9a6f78","can_delete":false,"product_type":"c1","uid":2620266,"ip_address":"","ucode":"E27C253F967CB2","user_header":"https://static001.geekbang.org/account/avatar/00/27/fb/6a/7711f831.jpg","comment_is_top":true,"comment_ctime":1621099474,"is_pvip":false,"replies":[{"id":"106077","content":"好问题，可以先说说你的理解。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621115724,"ip_address":"","comment_id":292963,"utype":2}],"discussion_count":3,"race_medal":0,"score":"9.2233720556557005e+18","product_id":100078401,"comment_content":"mac OS属于混合内核架构吧","like_count":4,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520030,"discussion_content":"好问题，可以先说说你的理解。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621115724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2620266,"avatar":"https://static001.geekbang.org/account/avatar/00/27/fb/6a/7711f831.jpg","nickname":"Geek_9a6f78","note":"","ucode":"E27C253F967CB2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374362,"discussion_content":"macOS基于微核mach和魔改版BSD。微核只提供基础IPC，mm等功能。其余模块由BSD负责（不清楚BSD和mach是否处于同一特权级），BSD负责的部分各模块仍处于相同地址空间。估计是为了快速兼容POSIX生态而做出的选择。（青铜级理解，抛砖引玉哈）","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1621151034,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374383,"discussion_content":"小编剧透，下节课会涉及到MAC OS系统，精彩持续，敬请期待～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621159995,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292715,"user_name":"pedro","can_delete":false,"product_type":"c1","uid":1200704,"ip_address":"","ucode":"F40C839DDFD599","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","comment_is_top":false,"comment_ctime":1620950816,"is_pvip":false,"replies":[{"id":"106030","content":"对 对 对 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621002089,"ip_address":"","comment_id":292715,"utype":1}],"discussion_count":1,"race_medal":0,"score":"151944806176","product_id":100078401,"comment_content":"第一次听说混合内核(hybrid kernel)还是在《操作系统导论》这本书上，这本书相当不错，当时一直没有深入理解。<br>今天在整整一节的铺垫之后，我一下子就懂了，东哥对于操作系统的功力着实不一般，来龙去脉一目了然。<br>另外，本文中的内核接口层想必也没什么神秘的，应该就是所谓的system call了。","like_count":35,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519930,"discussion_content":"对 对 对 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621002089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296167,"user_name":"DARK FIRE","can_delete":false,"product_type":"c1","uid":1053951,"ip_address":"","ucode":"248F36F4B80601","user_header":"https://static001.geekbang.org/account/avatar/00/10/14/ff/4c087a2e.jpg","comment_is_top":false,"comment_ctime":1622788529,"is_pvip":false,"replies":[{"id":"107586","content":"大家里很多老师也不清楚的 再说大学是理论课","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622988612,"ip_address":"","comment_id":296167,"utype":1}],"discussion_count":2,"race_medal":0,"score":"121881872817","product_id":100078401,"comment_content":"大学里的操作系统要是这么讲该多好呀","like_count":29,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521345,"discussion_content":"大家里很多老师也不清楚的 再说大学是理论课","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622988612,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":3190883,"avatar":"https://static001.geekbang.org/account/avatar/00/30/b0/63/37df5440.jpg","nickname":"Ꮶ.","note":"","ucode":"DEF5CCBEA6C93B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":589141,"discussion_content":"理论课听多了以为自己啥都知道，到了动手的时候才发现自己啥也不知道，行是知之始","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1664442544,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":521345,"ip_address":"湖北"},"score":589141,"extra":""}]}]},{"had_liked":false,"id":292812,"user_name":"不刷完算法数据结构不改名","can_delete":false,"product_type":"c1","uid":2306127,"ip_address":"","ucode":"524D109BF830C7","user_header":"https://static001.geekbang.org/account/avatar/00/23/30/4f/fe069294.jpg","comment_is_top":false,"comment_ctime":1620989004,"is_pvip":true,"replies":[{"id":"106015","content":"正确","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621001592,"ip_address":"","comment_id":292812,"utype":1}],"discussion_count":1,"race_medal":0,"score":"48865629260","product_id":100078401,"comment_content":"混合内核。<br><br>特点是通过LKM充分利用了宏内核和微内核的优势。","like_count":11,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519966,"discussion_content":"正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621001592,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300053,"user_name":"Geek_6211b1","can_delete":false,"product_type":"c1","uid":2323757,"ip_address":"","ucode":"D1E8FC14FDAE61","user_header":"","comment_is_top":false,"comment_ctime":1624965744,"is_pvip":false,"replies":[{"id":"108819","content":"谢谢","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1625023999,"ip_address":"","comment_id":300053,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44574638704","product_id":100078401,"comment_content":"这课真的牛逼  转专业的小白都看懂了，恶补操作系统Ing","like_count":10,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522628,"discussion_content":"谢谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625023999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293253,"user_name":"Dicky","can_delete":false,"product_type":"c1","uid":2620703,"ip_address":"","ucode":"E4EFA34F877C76","user_header":"https://static001.geekbang.org/account/avatar/00/27/fd/1f/63ed5bd3.jpg","comment_is_top":false,"comment_ctime":1621306948,"is_pvip":false,"replies":[{"id":"106182","content":"对对对，总结的到位","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621345458,"ip_address":"","comment_id":293253,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44570979908","product_id":100078401,"comment_content":"宏内核强调组织间的相互关联性，感觉像是一种命令由上到下的一个传递过程。微内核强调的是独立，相互调用性，感觉就像部门与部门之间的合作关系。","like_count":10,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520132,"discussion_content":"对对对，总结的到位","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621345458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321071,"user_name":"秋天，不远了","can_delete":false,"product_type":"c1","uid":1238476,"ip_address":"","ucode":"C4FEA43BA69EBE","user_header":"https://static001.geekbang.org/account/avatar/00/12/e5/cc/49e74854.jpg","comment_is_top":false,"comment_ctime":1636645196,"is_pvip":false,"replies":[{"id":"116601","content":"是的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1636679742,"ip_address":"","comment_id":321071,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31701416268","product_id":100078401,"comment_content":"看到一半就想到《UNIX编译艺术》一书中的一句话：UNIX提供的是机制，而不是策略，策略命短，机制永存。","like_count":7,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530205,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636679742,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1927222,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/68/36/478194f3.jpg","nickname":"Shawn Duan","note":"","ucode":"628BAD6473FBCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575168,"discussion_content":"这应该是设计一个通用框架或者系统的基本原则了。但是实际应用中，处于性能的需要，有的把策略和机制混在一起。据个例子，CPU设计中的MMX技术。不知道我理解得对不对？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654646552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292899,"user_name":"张创","can_delete":false,"product_type":"c1","uid":2621245,"ip_address":"","ucode":"B083CE0A3336CC","user_header":"https://static001.geekbang.org/account/avatar/00/27/ff/3d/9e6dbda2.jpg","comment_is_top":false,"comment_ctime":1621062841,"is_pvip":true,"replies":[{"id":"106215","content":"谢谢鼓励，我们一周更新三篇，祝你学习进步!","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621347109,"ip_address":"","comment_id":292899,"utype":2}],"discussion_count":1,"race_medal":0,"score":"27390866617","product_id":100078401,"comment_content":"赶快更新后续课程吧，迫不及待了！","like_count":6,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520004,"discussion_content":"谢谢鼓励，我们一周更新三篇，祝你学习进步!","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621347109,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292774,"user_name":"大鱼Coo","can_delete":false,"product_type":"c1","uid":1184726,"ip_address":"","ucode":"94A695648681A3","user_header":"https://static001.geekbang.org/account/avatar/00/12/13/d6/278ad881.jpg","comment_is_top":false,"comment_ctime":1620973361,"is_pvip":false,"replies":[{"id":"106021","content":"是的 是的 商业系统 没有 微内核 的 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621001784,"ip_address":"","comment_id":292774,"utype":1}],"discussion_count":4,"race_medal":0,"score":"27390777137","product_id":100078401,"comment_content":"建立起一定的内核架构印象，从计算机资源角度为切入口，再到基本架构设计，有点工作中的需求--&gt;解决需求的模式，顺畅~，之前对linux启动后可以挂在不同的文件系统有疑问，现在感觉就是作为一种设备管理。商业的内核，应该都是基于混合的吧~","like_count":6,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519954,"discussion_content":"是的 是的 商业系统 没有 微内核 的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621001784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2620266,"avatar":"https://static001.geekbang.org/account/avatar/00/27/fb/6a/7711f831.jpg","nickname":"Geek_9a6f78","note":"","ucode":"E27C253F967CB2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374364,"discussion_content":"QNX VxWork 都属于微内核的商业操作系统吧。。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621151265,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1059152,"avatar":"https://static001.geekbang.org/account/avatar/00/10/29/50/2b2e6875.jpg","nickname":"慕士塔格","note":"","ucode":"B30AA3F6EDC4BF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374244,"discussion_content":"鸿蒙呢？应该算微内核吧","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621080153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1527366,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4e/46/e037c0df.jpg","nickname":"Let go","note":"","ucode":"30EC4EC53E2A81","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374094,"discussion_content":"通透","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620999692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292692,"user_name":"Geek_9c3134","can_delete":false,"product_type":"c1","uid":1141689,"ip_address":"","ucode":"479BC6B4CF22FA","user_header":"https://static001.geekbang.org/account/avatar/00/11/6b/b9/9b0630b1.jpg","comment_is_top":false,"comment_ctime":1620923066,"is_pvip":false,"replies":[{"id":"106037","content":"是啊 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621002203,"ip_address":"","comment_id":292692,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27390726842","product_id":100078401,"comment_content":"混合架构还是接近于微内核架构","like_count":6,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519918,"discussion_content":"是啊 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621002203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319510,"user_name":"明澄","can_delete":false,"product_type":"c1","uid":2776350,"ip_address":"","ucode":"D75A221E6C82BC","user_header":"https://static001.geekbang.org/account/avatar/00/2a/5d/1e/c2a6a5e4.jpg","comment_is_top":false,"comment_ctime":1635838976,"is_pvip":false,"replies":[{"id":"115837","content":"哈哈 6666","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1635906867,"ip_address":"","comment_id":319510,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18815708160","product_id":100078401,"comment_content":"做芯片的也来了解下<br>","like_count":4,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529656,"discussion_content":"哈哈 6666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635906867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293733,"user_name":"love and peace","can_delete":false,"product_type":"c1","uid":2622299,"ip_address":"","ucode":"06E51F1E08D39F","user_header":"https://static001.geekbang.org/account/avatar/00/28/03/5b/d74d126f.jpg","comment_is_top":false,"comment_ctime":1621511454,"is_pvip":false,"replies":[{"id":"106461","content":"对对对 ，你领悟到了","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621560937,"ip_address":"","comment_id":293733,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18801380638","product_id":100078401,"comment_content":"首先它是可扩展的，有微内核的特点<br>但是他提供的功能选比微内核提供的功能多，并且是加载到内核区，从这一点上吸取了宏内核的设计思想<br>那么为什么可加载呢？主要还是分层解耦合带来的，加代码直接加到内核功能区。<br><br>所以性能强，并且可扩展，吸收微内核和宏内核各自的优点<br>","like_count":4,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520335,"discussion_content":"对对对 ，你领悟到了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621560937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292778,"user_name":"陌天森","can_delete":false,"product_type":"c1","uid":2615861,"ip_address":"","ucode":"A6598FA2DF881F","user_header":"https://static001.geekbang.org/account/avatar/00/27/ea/35/66ed0121.jpg","comment_is_top":false,"comment_ctime":1620975158,"is_pvip":false,"replies":[{"id":"106020","content":"是的啊 哈哈","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621001733,"ip_address":"","comment_id":292778,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18800844342","product_id":100078401,"comment_content":"这个系统api函数是不是就是咱们说的系统调用","like_count":4,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519957,"discussion_content":"是的啊 哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621001733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":315351,"user_name":"test","can_delete":false,"product_type":"c1","uid":1129610,"ip_address":"","ucode":"C57A175CBC6547","user_header":"https://static001.geekbang.org/account/avatar/00/11/3c/8a/900ca88a.jpg","comment_is_top":false,"comment_ctime":1633853912,"is_pvip":false,"replies":[{"id":"114249","content":"是的 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1633937673,"ip_address":"","comment_id":315351,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14518755800","product_id":100078401,"comment_content":"内核说白了就是让cpu和内存等设备工作起来罢了，一点都不神秘","like_count":3,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527942,"discussion_content":"是的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633937673,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298189,"user_name":"王建峰","can_delete":false,"product_type":"c1","uid":1968013,"ip_address":"","ucode":"8BF1AEFFA7EA5F","user_header":"https://static001.geekbang.org/account/avatar/00/1e/07/8d/3e76560f.jpg","comment_is_top":false,"comment_ctime":1623940641,"is_pvip":false,"replies":[{"id":"108208","content":"哈哈 感谢支持","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1623980895,"ip_address":"","comment_id":298189,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14508842529","product_id":100078401,"comment_content":"学到了，这课买了不亏:)","like_count":3,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522047,"discussion_content":"哈哈 感谢支持","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623980895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292840,"user_name":"Let go","can_delete":false,"product_type":"c1","uid":1527366,"ip_address":"","ucode":"30EC4EC53E2A81","user_header":"https://static001.geekbang.org/account/avatar/00/17/4e/46/e037c0df.jpg","comment_is_top":false,"comment_ctime":1621004334,"is_pvip":false,"replies":[{"id":"106228","content":"windows 是 混合内核  可以看看《windows 内核实现》","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621348260,"ip_address":"","comment_id":292840,"utype":1}],"discussion_count":4,"race_medal":0,"score":"14505906222","product_id":100078401,"comment_content":"老师，windows是微内核。linux是宏内核。正确不。有没有点更详细的课外阅读，或者书籍。关于这一章。","like_count":3,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519978,"discussion_content":"windows 是 混合内核  可以看看《windows 内核实现》","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621348260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1902132,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/06/34/eae0112e.jpg","nickname":"Tim","note":"","ucode":"36C45511E07132","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374386,"discussion_content":"Windows不是微内核","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621160597,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1527366,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4e/46/e037c0df.jpg","nickname":"Let go","note":"","ucode":"30EC4EC53E2A81","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374794,"discussion_content":"感谢所有的回复。谢谢。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621349316,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374327,"discussion_content":"期待下一讲，从目录标题看应该会展开说。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621138036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292832,"user_name":"羽球","can_delete":false,"product_type":"c1","uid":1015015,"ip_address":"","ucode":"FC6E750828ABAB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/e7/65d06580.jpg","comment_is_top":false,"comment_ctime":1620999669,"is_pvip":true,"replies":[{"id":"106013","content":"是的，你说的非常正确","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621001541,"ip_address":"","comment_id":292832,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14505901557","product_id":100078401,"comment_content":"4. 内存管理服务进程收到消息，分配一块内存。<br><br>服务进程工作在用户态吗？如果是，那么就会有多次切换了？","like_count":3,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519974,"discussion_content":"是的，你说的非常正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621001541,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308607,"user_name":"@ei-qiaole","can_delete":false,"product_type":"c1","uid":2137422,"ip_address":"","ucode":"F2BDDA563F0BD8","user_header":"https://static001.geekbang.org/account/avatar/00/20/9d/4e/fef759a8.jpg","comment_is_top":false,"comment_ctime":1629701407,"is_pvip":false,"replies":[{"id":"111759","content":"哈哈 真相了","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1629771221,"ip_address":"","comment_id":308607,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10219635999","product_id":100078401,"comment_content":"其实，你会发现只要是解耦问题，都是再加一个中间层的问题","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525559,"discussion_content":"哈哈 真相了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629771221,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305881,"user_name":"Geek_f1cdef","can_delete":false,"product_type":"c1","uid":1995419,"ip_address":"","ucode":"2FEE9FA902D4C1","user_header":"","comment_is_top":false,"comment_ctime":1628217571,"is_pvip":false,"replies":[{"id":"110692","content":"对的 哈哈","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1628241614,"ip_address":"","comment_id":305881,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10218152163","product_id":100078401,"comment_content":"本文提到的操作系统内核是微内核架构，它兼具了宏内核的极致性能，又吸收了微内核的安全性和易拓展等特点。关于微内核和宏内核的优劣之争，让我想起了Linux之父和Minix之父的争吵，的确，混合内核这种兼收并蓄，弃粗取精的做法是非常好的","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524546,"discussion_content":"对的 哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628241614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1995419,"avatar":"","nickname":"Geek_f1cdef","note":"","ucode":"2FEE9FA902D4C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387556,"discussion_content":"害，才发现第一句话前半段打错了，应该是混合内核架构","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628242686,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305348,"user_name":"Daiver","can_delete":false,"product_type":"c1","uid":1466447,"ip_address":"","ucode":"9B1A03AFBC79BC","user_header":"https://static001.geekbang.org/account/avatar/00/16/60/4f/db0e62b3.jpg","comment_is_top":false,"comment_ctime":1627914041,"is_pvip":false,"replies":[{"id":"110447","content":"应该 是 进程的一部分","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1627954575,"ip_address":"","comment_id":305348,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10217848633","product_id":100078401,"comment_content":"宏内核模式下，内核本身是不是也被抽象成一个进程的方式再运行呢，如果不是，内核和应用进程分别是怎么运行的。","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524359,"discussion_content":"应该 是 进程的一部分","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627954575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1927222,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/68/36/478194f3.jpg","nickname":"Shawn Duan","note":"","ucode":"628BAD6473FBCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575169,"discussion_content":"我觉得这个可以讨论一下。如果以Linux为例，他的各个内核任务更象一堆线程，大家都看得见相互的内存。而且应用进程也能看到这一堆内核任务的内存。还有就是应用进程也有内核态运行的时候，这样的相关内核资源就成了进程的一部分。当然与一般进程资源不同的是，这些内核进程资源别的进程也可以访问。所以单单讨论概念似乎很难准确的描述。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654647119,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293670,"user_name":"超级励辰","can_delete":false,"product_type":"c1","uid":1017669,"ip_address":"","ucode":"94F34809B7D893","user_header":"https://static001.geekbang.org/account/avatar/00/0f/87/45/9edd38ba.jpg","comment_is_top":false,"comment_ctime":1621482421,"is_pvip":false,"replies":[{"id":"106486","content":"是的，你领悟到了","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621562016,"ip_address":"","comment_id":293670,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10211417013","product_id":100078401,"comment_content":"- 首先一点 操作系统 也是软件， 用来管理计算机资源。<br>- 开发一定要学会抽象和分层的思想。不要把所有的功能都放在一起，不利于维护和扩展。利用分层的特性，将服务和功能拆分化，最外层只负责封装的封装，功能的实现依次的向内核靠近。增加系统的可维护性和可扩展性。<br>- 计算机资源分为软件资源和硬件资源。硬件资源分为总线、cpu、内存、硬盘、网卡、显卡、IO。<br>   软件资源为计算机中各种形式的数据。文件、软件程序等。<br>- 管理资源就是管理硬件和软件<br>- 内核结构分为宏内核结构和微内核结构已经混合内核结构。<br>- 宏内核是把各种管理硬件设备的代码、文件系统的代码、图像系统代码以及各种模块代码都给链接到一起，形成一个超级大的可执行程序。宏内核结构不分层。<br>优缺点明显，优点：性能好。缺点：结构不分层，因此没有扩展性，没有移植性，高度耦合，一点一个地方有问题，可能会殃及到所有地方。<br><br>- 微内核。提倡内核功能尽可能的少，仅有基本的功能。其他功能诸如进程控制、内存管理、设备管理等功能都做成一个个服务进程。和用户的进程程序一样，微内核定义了一种良好的进程间通信机制-消息。<br>  优点：结构清晰，利于协作开发。有良好的移植性，微内核代码非常少。有良好的伸缩性、扩展性，可以随时拿掉一个服务，反正也只是一个进程。<br>  缺点：性能差。<br><br>- 分离硬件也只是运用了分层和抽象的思想。<br>- 混合内核架构。运用分层和抽象，将内核分为内核接口层、内核功能层和内核硬件层。","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520312,"discussion_content":"是的，你领悟到了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621562016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293163,"user_name":"Paul Shan","can_delete":false,"product_type":"c1","uid":1593140,"ip_address":"","ucode":"32D99989028284","user_header":"","comment_is_top":false,"comment_ctime":1621250001,"is_pvip":false,"replies":[{"id":"106191","content":"是的，这个思路正确","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621345845,"ip_address":"","comment_id":293163,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10211184593","product_id":100078401,"comment_content":"总体来讲，我们要取得微内核的优点：结构简单，调用清晰，扩展方便。但是不想为此付出太多的性能成本，这样不得不对微内核做一些功能上限制，采取宏内核的组织方式。设计上是微内核的，实现上是宏内核的，权衡了结构清晰和模块间的调用性能。","like_count":2,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520100,"discussion_content":"是的，这个思路正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621345845,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344469,"user_name":"一省吾身","can_delete":false,"product_type":"c1","uid":1676631,"ip_address":"","ucode":"D902357160BBD9","user_header":"https://static001.geekbang.org/account/avatar/00/19/95/57/a2991536.jpg","comment_is_top":false,"comment_ctime":1651572619,"is_pvip":true,"replies":[{"id":"125968","content":"不错啊","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1652065758,"ip_address":"","comment_id":344469,"utype":1}],"discussion_count":1,"race_medal":2,"score":"5946539915","product_id":100078401,"comment_content":"本节收获:<br>1.操作系统的组件<br>  计算机的工作逻辑---&gt;计算机需要那些硬件---&gt;操作系统需要管理那些资源---&gt;操作系统需要那些组件来管理这些资源<br>2.内核架构:<br>   微内核 : 扩展性强但性能差<br>   宏内核 : 耦合性高但性能好<br>   混合内核 : 分层降低硬件相关耦合,提升移植性,功能组件作为虚拟设备增强扩展性,这样性能、移植、扩展都还不错.<br>","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571074,"discussion_content":"不错啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652065759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333928,"user_name":"flyflypeng","can_delete":false,"product_type":"c1","uid":1224113,"ip_address":"","ucode":"7A40FC08D8ACC0","user_header":"https://static001.geekbang.org/account/avatar/00/12/ad/b1/2e96794c.jpg","comment_is_top":false,"comment_ctime":1644590405,"is_pvip":true,"replies":[{"id":"121977","content":"现在算混合 内核  以前不是  即使现在Linux内核代码偶合度 仍然相当高","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1644638675,"ip_address":"","comment_id":333928,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5939557701","product_id":100078401,"comment_content":"Linux 内核也支持模块加载和卸载，比如它支持不同类型文件系统ext4、zfs模块按需加载，那么Linux内核是叫宏内核还是混合内核呢？","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550609,"discussion_content":"现在算混合 内核  以前不是  即使现在Linux内核代码偶合度 仍然相当高","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644638676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323254,"user_name":"xiaolver希望自己变强","can_delete":false,"product_type":"c1","uid":2722260,"ip_address":"","ucode":"9771CC097E8273","user_header":"https://static001.geekbang.org/account/avatar/00/29/89/d4/c6f47fb9.jpg","comment_is_top":false,"comment_ctime":1637804931,"is_pvip":false,"replies":[{"id":"117352","content":"windows 内核支持动态链接 <br>内存管理 不能访问驱动","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1637916977,"ip_address":"","comment_id":323254,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5932772227","product_id":100078401,"comment_content":"老师老师<br>宏内核是链接成一个文件的话真的有应用场景吗 windows台式机下如果换显卡应该是加个驱动软件重启就可以的 是不是说明windows不是宏内核 还是说它重启就是在把这个驱动软件塞进内核？<br>另外微内核隔离硬件的时候驱动也在后面 那是不是系统调用内存分配的时候 先发消息给内核  内核发消息给内存管理  内存管理发消息给内核  内核发给驱动软件？？ 还是说内存管理可以直接调用驱动程序  那不是又耦合了吗","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533618,"discussion_content":"windows 内核支持动态链接 \n内存管理 不能访问驱动","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637916977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321072,"user_name":"秋天，不远了","can_delete":false,"product_type":"c1","uid":1238476,"ip_address":"","ucode":"C4FEA43BA69EBE","user_header":"https://static001.geekbang.org/account/avatar/00/12/e5/cc/49e74854.jpg","comment_is_top":false,"comment_ctime":1636645489,"is_pvip":false,"replies":[{"id":"116602","content":"总结到位","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1636679756,"ip_address":"","comment_id":321072,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5931612785","product_id":100078401,"comment_content":"1、宏内核进行垂直拆分，得到硬件控制和资源控制模块。<br><br>2、接上，进行定制机制，抛弃策略，将策略外放，得到：硬件控制、资源控制、API以及可拔插的驱动程序。<br>","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530206,"discussion_content":"总结到位","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636679756,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320298,"user_name":"今夜月色正好","can_delete":false,"product_type":"c1","uid":2837905,"ip_address":"","ucode":"D456739E217A68","user_header":"https://static001.geekbang.org/account/avatar/00/2b/4d/91/c62cd61c.jpg","comment_is_top":false,"comment_ctime":1636207802,"is_pvip":false,"replies":[{"id":"116166","content":"课程 信息量很大的  哈哈","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1636332389,"ip_address":"","comment_id":320298,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5931175098","product_id":100078401,"comment_content":"作为一个非科班的程序猿，这些知识真的是在给自己充电，目前这一点课程就已经收获了许多的知识，不知道这一套课程下来，我又会有多少的进步。","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529947,"discussion_content":"课程 信息量很大的  哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636332389,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309244,"user_name":"午夜河","can_delete":false,"product_type":"c1","uid":2121616,"ip_address":"","ucode":"D4A2E6D0539F27","user_header":"https://static001.geekbang.org/account/avatar/00/20/5f/90/4580b709.jpg","comment_is_top":false,"comment_ctime":1629998148,"is_pvip":false,"replies":[{"id":"112125","content":"你说的问题不是技术层面的问题 是商业成本的问题","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1630286709,"ip_address":"","comment_id":309244,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5924965444","product_id":100078401,"comment_content":"老早就了解到NT是混合内核架构，但作为小白并感受不出来两者的区别（用户的感受）<br>看完本节课才知道Linux的不足之处（之前一直以为Linux天下无敌）<br>但是Linux是宏内核，不方便移植、增加功能这些，那又是如何能够将各大神的提交糅合在一起的呢？<br>而且为什么嵌入式系统中大多数用的是Linux内核？Linux内核裁剪不是方便很多吗？buildroot这些构建系统也蛮方便的啊！这是目前我这个阶段无法感受到的。（难道因为免费开源？）<br>可移植性差的话，它咋又能够支持那么多架构？（X86、arm、ｍｉｐｓ）<br>而且NT内核这些方便增删功能，为什么没有在移动端流行起来？","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525796,"discussion_content":"你说的问题不是技术层面的问题 是商业成本的问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630286709,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301992,"user_name":"Ning","can_delete":false,"product_type":"c1","uid":2682931,"ip_address":"","ucode":"7F77F4C108E154","user_header":"https://static001.geekbang.org/account/avatar/00/28/f0/33/9007f032.jpg","comment_is_top":false,"comment_ctime":1626011450,"is_pvip":false,"replies":[{"id":"109266","content":"不一定的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1626015644,"ip_address":"","comment_id":301992,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5920978746","product_id":100078401,"comment_content":"宏内核是不是比微内核更适合做自动驾驶系统的架构呢？","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523145,"discussion_content":"不一定的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626015644,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1927222,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/68/36/478194f3.jpg","nickname":"Shawn Duan","note":"","ucode":"628BAD6473FBCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575170,"discussion_content":"我其实对车载操作系统很有兴趣了解。是不是它应该有一个嵌入式的RTOS作为控制系统，另外还有安卓系统来管理一些应用程序。这两个系统是不是目前还不能直接通信？@GreyFoss","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654647309,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2364366,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ0L9a0y8JQYK6ugqyD0ZkibU69C3McSZ2TCgjyDf3gpL9Esic91TicpLIH9iaTBZibMiaJG5bWOvibU0fNg/132","nickname":"GreyFoss","note":"","ucode":"83E523BB4602CC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":395708,"discussion_content":"安全性而言，分区操作系统是最适合用在实时嵌入式领域。但是车载还要兼容娱乐，很多实用安卓。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632324148,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296851,"user_name":"ㅤ","can_delete":false,"product_type":"c1","uid":2627934,"ip_address":"","ucode":"30E494BF22F150","user_header":"https://static001.geekbang.org/account/avatar/00/28/19/5e/ff08d28f.jpg","comment_is_top":false,"comment_ctime":1623202351,"is_pvip":false,"replies":[{"id":"107856","content":"是啊 都是因为性能","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1623245130,"ip_address":"","comment_id":296851,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5918169647","product_id":100078401,"comment_content":"微内核是各自循环检测消息，混合内核把功能挂载到内核功能区，挂载之后是不是就相当于添加到宏内核那样重新链接成一个程序中的总的大循环了呢<br>","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521609,"discussion_content":"是啊 都是因为性能","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623245130,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292719,"user_name":"Kevin","can_delete":false,"product_type":"c1","uid":2011420,"ip_address":"","ucode":"E4C8F4F6B20CB6","user_header":"https://static001.geekbang.org/account/avatar/00/1e/b1/1c/80bcdc8d.jpg","comment_is_top":false,"comment_ctime":1620951634,"is_pvip":false,"replies":[{"id":"106029","content":"QNX是用在特殊领域的 API  open read write close ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621002065,"ip_address":"","comment_id":292719,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5915918930","product_id":100078401,"comment_content":"老师，您好，QNX是商用微内核吧？您提到的API我理解是系统调用，能举例说一两个吗，比如QNX系统中，谢谢","like_count":1,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519932,"discussion_content":"QNX是用在特殊领域的 API  open read write close ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621002065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358398,"user_name":"singularity","can_delete":false,"product_type":"c1","uid":1951625,"ip_address":"","ucode":"C5355E67C5E311","user_header":"https://static001.geekbang.org/account/avatar/00/1d/c7/89/15f5a940.jpg","comment_is_top":false,"comment_ctime":1664269811,"is_pvip":false,"replies":[{"id":"130655","content":"哪里没看懂分享一下呗。","user_name":"编辑回复","user_name_real":"编辑","uid":"1501385","ctime":1665373749,"ip_address":"","comment_id":358398,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1664269811","product_id":100078401,"comment_content":"有点看不懂咋整，感觉好抽象","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589869,"discussion_content":"哪里没看懂分享一下呗。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665373749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":8}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351739,"user_name":"Vming","can_delete":false,"product_type":"c1","uid":3053417,"ip_address":"","ucode":"3723BC528DAA7C","user_header":"https://static001.geekbang.org/account/avatar/00/2e/97/69/6c201454.jpg","comment_is_top":false,"comment_ctime":1658139746,"is_pvip":false,"replies":[{"id":"128028","content":"是的 ","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1658374155,"ip_address":"","comment_id":351739,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1658139746","product_id":100078401,"comment_content":"举的例子中，微内核实现内存分配的第4步：内存管理服务分配内存。<br>这个过程是在用户态下完成的吗？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580791,"discussion_content":"是的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658374155,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1058421,"avatar":"https://static001.geekbang.org/account/avatar/00/10/26/75/33c017e1.jpg","nickname":"victor","note":"","ucode":"8793220FC8B6D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":582100,"discussion_content":"怎么会是用户态呢？明明这时候在内核态下嘛","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659232451,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":580791,"ip_address":"四川"},"score":582100,"extra":""}]}]},{"had_liked":false,"id":347391,"user_name":"Geek_7e1198","can_delete":false,"product_type":"c1","uid":3014838,"ip_address":"","ucode":"0011251E7523A5","user_header":"","comment_is_top":false,"comment_ctime":1653985805,"is_pvip":false,"replies":[{"id":"126877","content":"你自己可以动手 试试 啊    ","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1654911805,"ip_address":"","comment_id":347391,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1653985805","product_id":100078401,"comment_content":"看了之后感觉受益匪浅，老师。如果看完这45讲，可以移植到我的ARMV7的三星开发板上面吗","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575516,"discussion_content":"你自己可以动手 试试 啊    ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654911805,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338504,"user_name":"Qfeng","can_delete":false,"product_type":"c1","uid":1466121,"ip_address":"","ucode":"1248E70012BBA2","user_header":"https://static001.geekbang.org/account/avatar/00/16/5f/09/2ec44412.jpg","comment_is_top":false,"comment_ctime":1647528220,"is_pvip":false,"replies":[{"id":"123877","content":"666666","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1647830004,"ip_address":"","comment_id":338504,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647528220","product_id":100078401,"comment_content":"2点收获：<br>1. 对进程管理有了更清晰的认识，进程管理包含进程调度和进程切换两部分：<br>    1）调度：使用算法选择哪个进程停，哪个进程跑；<br>    2）切换：进程运行在硬件CPU上，需要将上一个进程的CPU环境保留并加载运行新进程，这属于CPU硬件上下文切换。<br>2. 微内核架构<br>    与宏内核不同的是，微内核仅保留进程调度、中断调度、内存管理等核心功能，将文件系统，外设管理等上提到用户空间。用户空间应用程序之间的交互以消息的机制介由微内核实现。<br>    优点是架构灵活，方便扩展，安全性更高。缺点是进程切换和消息开销大。<br><br>以上，谢谢。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557470,"discussion_content":"666666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647830004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337068,"user_name":"YH","can_delete":false,"product_type":"c1","uid":2932630,"ip_address":"","ucode":"2D52EACFA4009C","user_header":"https://static001.geekbang.org/account/avatar/00/2c/bf/96/0a54921a.jpg","comment_is_top":false,"comment_ctime":1646582455,"is_pvip":false,"replies":[{"id":"123378","content":"内存结束  怎么说","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1646973420,"ip_address":"","comment_id":337068,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1646582455","product_id":100078401,"comment_content":"老师，微内核分配内存结束的进程是什么","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555554,"discussion_content":"内存结束  怎么说","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646973420,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329374,"user_name":"Geek_26a4ad","can_delete":false,"product_type":"c1","uid":2734353,"ip_address":"","ucode":"C6370E1D59738B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/mVfKlUTRB4Y2OUtQicz6en8nmtuClAl8uGcSovico7WDbWO3DEoM480uEPcuuPJaN4A08CLh7qb7CI9zibohQfvXg/132","comment_is_top":false,"comment_ctime":1641306008,"is_pvip":false,"replies":[{"id":"120028","content":"不是 <br>","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1641434433,"ip_address":"","comment_id":329374,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1641306008","product_id":100078401,"comment_content":"问个问题，这个架构是在开发的时候采用微内核，然后最后要加载运行的时候在把他加载到一个程序中实现宏内核是吗","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544166,"discussion_content":"不是 \n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641434433,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324697,"user_name":"自由","can_delete":false,"product_type":"c1","uid":2576960,"ip_address":"","ucode":"4E3B53D29D86CA","user_header":"https://static001.geekbang.org/account/avatar/00/27/52/40/db9b0eb2.jpg","comment_is_top":false,"comment_ctime":1638548906,"is_pvip":false,"replies":[{"id":"117882","content":"是的 ","user_name":"作者回复","user_name_real":"编辑","uid":"1345199","ctime":1638753465,"ip_address":"","comment_id":324697,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638548906","product_id":100078401,"comment_content":"为什么要分层，往往复杂的程序都需要分层，不是吗？<br>东哥，真🐂！<br>宏内核就是单体架构，可维护性、扩展性必然受阻，一个错误，可能大家一起&#39;死亡&#39;。<br>微内核和咱自己的内核架构，我觉得就已经是微服务架构了，是面向功能进行拆分的，保证了可移植性、错误的隔离性。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":536291,"discussion_content":"是的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638753465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320992,"user_name":"树心","can_delete":false,"product_type":"c1","uid":1589523,"ip_address":"","ucode":"6C329F0FF798B9","user_header":"https://static001.geekbang.org/account/avatar/00/18/41/13/ab14ad25.jpg","comment_is_top":false,"comment_ctime":1636612217,"is_pvip":true,"replies":[{"id":"116597","content":"哈哈，学习加油，也推荐你用自己理解梳理重点。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1636646377,"ip_address":"","comment_id":320992,"utype":2}],"discussion_count":2,"race_medal":1,"score":"1636612217","product_id":100078401,"comment_content":"小结<br>03 | 黑盒之中有什么：内核结构与设计<br>黑盒之中有什么<br>宏内核结构<br>微内核结构<br>分离硬件的相关性<br>我们的选择","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530182,"discussion_content":"哈哈，学习加油，也推荐你用自己理解梳理重点。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636646377,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1589523,"avatar":"https://static001.geekbang.org/account/avatar/00/18/41/13/ab14ad25.jpg","nickname":"树心","note":"","ucode":"6C329F0FF798B9","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414114,"discussion_content":"谢谢建议 这只是第一遍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636647956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":317739,"user_name":"Geek_260041","can_delete":false,"product_type":"c1","uid":2822865,"ip_address":"","ucode":"9BF0B7892AC3A7","user_header":"","comment_is_top":false,"comment_ctime":1634915060,"is_pvip":false,"replies":[{"id":"115362","content":"对对","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1635211423,"ip_address":"","comment_id":317739,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1634915060","product_id":100078401,"comment_content":"混合架构大致是将需要频繁调用的功能放在内核中，这样性能比较好。而变化较频繁或者调用相对不频繁的地方放在内核外作为服务运行，这样也不会造成内核过度臃肿","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528951,"discussion_content":"对对","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635211423,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":315207,"user_name":"小飞","can_delete":false,"product_type":"c1","uid":2786065,"ip_address":"","ucode":"6700659B38BCC9","user_header":"","comment_is_top":false,"comment_ctime":1633749931,"is_pvip":false,"replies":[{"id":"114257","content":"机器上下文切换是进程切换的一部分","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1633937868,"ip_address":"","comment_id":315207,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1633749931","product_id":100078401,"comment_content":"老师，我有块概念迷糊，是进程切换和机器上下文切换，这两块是有什么具体的关系吗？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527903,"discussion_content":"机器上下文切换是进程切换的一部分","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633937868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313759,"user_name":"Smark","can_delete":false,"product_type":"c1","uid":2139453,"ip_address":"","ucode":"3776118E6E0858","user_header":"https://static001.geekbang.org/account/avatar/00/20/a5/3d/b6a80464.jpg","comment_is_top":false,"comment_ctime":1632650597,"is_pvip":false,"replies":[{"id":"113624","content":"是的","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1632705757,"ip_address":"","comment_id":313759,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632650597","product_id":100078401,"comment_content":"unix就是混合架构内核，其实本质上还是宏内核，只是吸取了微内核的一些优势。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527462,"discussion_content":"是的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632705757,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312846,"user_name":"zsw","can_delete":false,"product_type":"c1","uid":1182053,"ip_address":"","ucode":"8684966BA9785D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTItdNALRxuzFZ0d9vDW3z2DZmQQGnqKLNmgk1lWyPy3z9adkfgutHzxErd3ibqicKbicFBfpB44eeCpw/132","comment_is_top":false,"comment_ctime":1632056629,"is_pvip":false,"replies":[{"id":"113386","content":"不是","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1632215309,"ip_address":"","comment_id":312846,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632056629","product_id":100078401,"comment_content":"老师，请问驱动程序属于内核硬件层得吗","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527136,"discussion_content":"不是","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632215309,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312643,"user_name":"treebacker","can_delete":false,"product_type":"c1","uid":2768691,"ip_address":"","ucode":"D654B7E7BE07C4","user_header":"https://static001.geekbang.org/account/avatar/00/2a/3f/33/182a2fd2.jpg","comment_is_top":false,"comment_ctime":1631924958,"is_pvip":false,"replies":[{"id":"113306","content":"这是现在一种改进","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1631945127,"ip_address":"","comment_id":312643,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631924958","product_id":100078401,"comment_content":"属于运行时动态可加载、卸载模块的这种，Linux内核架构吧。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527062,"discussion_content":"这是现在一种改进","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631945127,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312542,"user_name":"tuyu","can_delete":false,"product_type":"c1","uid":1448863,"ip_address":"","ucode":"B235325B541408","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/BIRpwViaN51yynIeFonD7QRlwDCVtKibrG956NTxzEqibOZZVjhMMgibOPmd3VicfYxpknZsic1oJq8KicZvXkmmiajuQg/132","comment_is_top":false,"comment_ctime":1631858574,"is_pvip":false,"replies":[{"id":"113260","content":"哈哈","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1631926501,"ip_address":"","comment_id":312542,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631858574","product_id":100078401,"comment_content":"反复观看, 越看越牛逼","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527011,"discussion_content":"哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631926501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312265,"user_name":"ALink～ 富贵（搏学而三省）","can_delete":false,"product_type":"c1","uid":2766632,"ip_address":"","ucode":"4C44D99EC88479","user_header":"https://static001.geekbang.org/account/avatar/00/2a/37/28/04d1d0f4.jpg","comment_is_top":false,"comment_ctime":1631709624,"is_pvip":false,"replies":[{"id":"113134","content":"谢谢，后面更精彩，加油！","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1631709756,"ip_address":"","comment_id":312265,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1631709624","product_id":100078401,"comment_content":"六六六","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526917,"discussion_content":"谢谢，后面更精彩，加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631709756,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310596,"user_name":"言C","can_delete":false,"product_type":"c1","uid":2416076,"ip_address":"","ucode":"D1BA5A8665ADC1","user_header":"https://static001.geekbang.org/account/avatar/00/24/dd/cc/9c926552.jpg","comment_is_top":false,"comment_ctime":1630764295,"is_pvip":false,"replies":[{"id":"112576","content":"不不不，宏内核没有稳定性，宏内核就是高性能","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1630888841,"ip_address":"","comment_id":310596,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630764295","product_id":100078401,"comment_content":"思考题：第三中架构：混合架构，windows也是这种架构，集宏内核的稳定性，以及微内核的可拓展性于一身","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526288,"discussion_content":"不不不，宏内核没有稳定性，宏内核就是高性能","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630888841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308992,"user_name":"陈超","can_delete":false,"product_type":"c1","uid":2610622,"ip_address":"","ucode":"A28CA3E9B5A5C7","user_header":"https://static001.geekbang.org/account/avatar/00/27/d5/be/183c222b.jpg","comment_is_top":false,"comment_ctime":1629883546,"is_pvip":false,"replies":[{"id":"111839","content":"莫急，后面会讲的。正式跑代码前，先补充下必须的操作系统知识。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1629885202,"ip_address":"","comment_id":308992,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1629883546","product_id":100078401,"comment_content":"居然没人问课程代码运行环境是什么？就我不知道么？","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525706,"discussion_content":"莫急，后面会讲的。正式跑代码前，先补充下必须的操作系统知识。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629885202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":306365,"user_name":"霞荣","can_delete":false,"product_type":"c1","uid":2672928,"ip_address":"","ucode":"55EBB00CF5CD9C","user_header":"https://static001.geekbang.org/account/avatar/00/28/c9/20/dab5391f.jpg","comment_is_top":false,"comment_ctime":1628514596,"is_pvip":false,"replies":[{"id":"110937","content":"对的，哈哈","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1628562460,"ip_address":"","comment_id":306365,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1628514596","product_id":100078401,"comment_content":"万物皆可中庸","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524732,"discussion_content":"对的，哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628562460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304363,"user_name":"Matthew","can_delete":false,"product_type":"c1","uid":2712127,"ip_address":"","ucode":"DEC97D23EFC45E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/WUndm7hBa1HFhhhnSuSVoyxib8qYHk4ia2bZOjicsVg2k4v8aFfBkUjzpLW2XElrSKp6PM8cXUdMyIdsrqtYhXD0w/132","comment_is_top":false,"comment_ctime":1627373120,"is_pvip":false,"replies":[{"id":"110247","content":"哈哈，下节课见分晓～","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1627610062,"ip_address":"","comment_id":304363,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1627373120","product_id":100078401,"comment_content":"好像linux就是属于混合的吧，虽然采用宏内核，但是又有模块化的机制，一些驱动可以注册，装载进内核，还可以卸载。","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524022,"discussion_content":"哈哈，下节课见分晓～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627610062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303725,"user_name":"wenkin","can_delete":false,"product_type":"c1","uid":2226384,"ip_address":"","ucode":"0F9E623B1C4A75","user_header":"https://static001.geekbang.org/account/avatar/00/21/f8/d0/092f04df.jpg","comment_is_top":false,"comment_ctime":1626945604,"is_pvip":false,"replies":[{"id":"109950","content":"也可以这么理解 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1627006074,"ip_address":"","comment_id":303725,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1626945604","product_id":100078401,"comment_content":"混合内核（Hybrid Kernel):就是把一部分不常使用的内核模块，或者是原本需要的时间就很长模块移出内核，而其他的就会放在内核里。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523795,"discussion_content":"也可以这么理解 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627006074,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303521,"user_name":"Christopher","can_delete":false,"product_type":"c1","uid":2705665,"ip_address":"","ucode":"678648C384671A","user_header":"https://static001.geekbang.org/account/avatar/00/29/49/01/bd1d8672.jpg","comment_is_top":false,"comment_ctime":1626844244,"is_pvip":false,"replies":[{"id":"109877","content":"你应该是grub.cfg文件覆盖了 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1626861384,"ip_address":"","comment_id":303521,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1626844244","product_id":100078401,"comment_content":"搞是搞出来了，但是每次进Ubuntu都是hello os,咋整，","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523722,"discussion_content":"你应该是grub.cfg文件覆盖了 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626861384,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2753023,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/CN4AD6J2Kcgc4ywz1SSXXvVG2XBmdJQ1RC1mhVjyanmbyOOfWFo5vvIiaIXzVicrVgJ8pvBQC1YZkk6rYdZ9utVA/132","nickname":"野欲","note":"","ucode":"AE553494D3FC4F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397448,"discussion_content":"我也是......然后直接粗暴的换了个虚拟机","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632622938,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2121616,"avatar":"https://static001.geekbang.org/account/avatar/00/20/5f/90/4580b709.jpg","nickname":"午夜河","note":"","ucode":"D4A2E6D0539F27","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391153,"discussion_content":"哈哈哈哈，我想笑咋整","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630317306,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303188,"user_name":"冯威","can_delete":false,"product_type":"c1","uid":1100556,"ip_address":"","ucode":"6144A4816DF7E2","user_header":"https://static001.geekbang.org/account/avatar/00/10/cb/0c/0df4e373.jpg","comment_is_top":false,"comment_ctime":1626658378,"is_pvip":false,"replies":[{"id":"109724","content":"不一定哦","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1626660225,"ip_address":"","comment_id":303188,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1626658378","product_id":100078401,"comment_content":"实时操作系统会才用宏内核吗？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523582,"discussion_content":"不一定哦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626660225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2121616,"avatar":"https://static001.geekbang.org/account/avatar/00/20/5f/90/4580b709.jpg","nickname":"午夜河","note":"","ucode":"D4A2E6D0539F27","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391154,"discussion_content":"不是一般实时操作系统是微内核吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630317339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":302467,"user_name":"马杰","can_delete":false,"product_type":"c1","uid":2616849,"ip_address":"","ucode":"7178BC1209CF31","user_header":"https://static001.geekbang.org/account/avatar/00/27/ee/11/a92b6846.jpg","comment_is_top":false,"comment_ctime":1626232183,"is_pvip":false,"replies":[{"id":"109519","content":"当然可以","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1626312934,"ip_address":"","comment_id":302467,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1626232183","product_id":100078401,"comment_content":"接口层用UNIX 接口的子集，那后续可以实现在cosmos环境自己编写应用程序跑一跑吗。比如打开文件，读写文件，创建进程调度打印，还有类似malloc申请内存之类的测试demo","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523318,"discussion_content":"当然可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626312934,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301153,"user_name":"Sun","can_delete":false,"product_type":"c1","uid":2631457,"ip_address":"","ucode":"DB2254CE4206D5","user_header":"https://static001.geekbang.org/account/avatar/00/28/27/21/4359e520.jpg","comment_is_top":false,"comment_ctime":1625556574,"is_pvip":false,"replies":[{"id":"109110","content":"当然 不是","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1625625773,"ip_address":"","comment_id":301153,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1625556574","product_id":100078401,"comment_content":"关于“分离硬件的相关性”，是不是要兼容的硬件平台越多，分的层就越多，代码量就越大。而对于当前设别来说没有使用到的硬件平台相关的代码就是无用的了？<br>","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522911,"discussion_content":"当然 不是","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625625773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300836,"user_name":"袭","can_delete":false,"product_type":"c1","uid":1077573,"ip_address":"","ucode":"D5B8609CDFB145","user_header":"https://static001.geekbang.org/account/avatar/00/10/71/45/126cd913.jpg","comment_is_top":false,"comment_ctime":1625399964,"is_pvip":false,"replies":[{"id":"108991","content":"是的 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1625453787,"ip_address":"","comment_id":300836,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1625399964","product_id":100078401,"comment_content":"对比宏内核和微内核有助于理解操作系统设计上的重要的理念和结构。 宏内核简单说就是一个大的程序，所有的功能是不同的函数的互相调用。微内核是把最重要的内存管理，调度放在内核中，其他的服务以单独的程序形式提供，互相调用通过进程间的通讯进行。  所以结构，特点决定了微内核的稳定（单独进程不易造成系统崩溃），慢（进程间互相通讯的效率远低于单个程序不同函数的互相调用）","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522830,"discussion_content":"是的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625453787,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":299986,"user_name":"rain","can_delete":false,"product_type":"c1","uid":2677530,"ip_address":"","ucode":"A2E81AB7C4274C","user_header":"https://static001.geekbang.org/account/avatar/00/28/db/1a/52d1501f.jpg","comment_is_top":false,"comment_ctime":1624947957,"is_pvip":false,"replies":[{"id":"108794","content":"都 是 一种 抽象 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1624958542,"ip_address":"","comment_id":299986,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1624947957","product_id":100078401,"comment_content":"“同时，我们把文件系统、网络组件、其它功能组件作为虚拟设备交由设备管理，比如需要文件系统时就写一个文件系统虚拟设备的驱动，完成文件系统的功能，需要网络时就开发一个网络虚拟设备的驱动，完成网络功能。”<br>RE：关于这一段话的描述，我的理解其实就是综合了字符设备、块设备、网络设备驱动的内容，加以改造优化，充分利用单独编译驱动的优势，实现动态加载和撤销。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522606,"discussion_content":"都 是 一种 抽象 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624958542,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297389,"user_name":"haha","can_delete":false,"product_type":"c1","uid":2623098,"ip_address":"","ucode":"E8F99449B78882","user_header":"https://static001.geekbang.org/account/avatar/00/28/06/7a/9a60b72f.jpg","comment_is_top":false,"comment_ctime":1623493967,"is_pvip":false,"replies":[{"id":"108068","content":"嗯嗯 是的 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1623723676,"ip_address":"","comment_id":297389,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623493967","product_id":100078401,"comment_content":"东哥带大家设计的是新架构的内核，兼具宏内核的性能和微内核的灵活。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521817,"discussion_content":"嗯嗯 是的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623723676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296000,"user_name":"matheecs","can_delete":false,"product_type":"c1","uid":1367705,"ip_address":"","ucode":"00719CDB6B80C5","user_header":"https://static001.geekbang.org/account/avatar/00/14/de/99/067ed9c6.jpg","comment_is_top":false,"comment_ctime":1622698371,"is_pvip":false,"replies":[{"id":"107594","content":"不要评论鸿蒙 拉皮安卓 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622989097,"ip_address":"","comment_id":296000,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1622698371","product_id":100078401,"comment_content":"鸿蒙操作系统属于微内核吗？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521292,"discussion_content":"不要评论鸿蒙 拉皮安卓 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622989097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1967121,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM72LSGBkXDj3jpuhZp45mjwDDAJW6FS6PwtDjaTg03H64fhHyDAIrF9H8iazY3pM6earSr3cOu96ew/132","nickname":"royalfarmer","note":"","ucode":"2EB7F6CAA78703","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":396642,"discussion_content":"哈哈，操作系统大佬对鸿蒙的盖棺定论","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632468862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294825,"user_name":"freeme","can_delete":false,"product_type":"c1","uid":1991998,"ip_address":"","ucode":"37E7B62053344D","user_header":"https://static001.geekbang.org/account/avatar/00/1e/65/3e/6e83d499.jpg","comment_is_top":false,"comment_ctime":1622102945,"is_pvip":false,"replies":[{"id":"107313","content":"他用户多少呢  用在什么领域呢 对性能安全有什么侧重呢 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622473760,"ip_address":"","comment_id":294825,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1622102945","product_id":100078401,"comment_content":"QNX是商业操作系统，是微内核啊，老师！","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520828,"discussion_content":"他用户多少呢  用在什么领域呢 对性能安全有什么侧重呢 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622473760,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2616849,"avatar":"https://static001.geekbang.org/account/avatar/00/27/ee/11/a92b6846.jpg","nickname":"马杰","note":"","ucode":"7178BC1209CF31","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":383747,"discussion_content":"应该说现在soc性能越来越强，高通有个8155的车载soc用的QNX，QNX上再用虚拟机qvm进程运行android，QNX跑仪表，android跑车载中控。一些控制消息用消息通讯，一些性能要求高的，直接硬件passthrough给android。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1626230700,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1923399,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/59/47/af8200b4.jpg","nickname":"Jim_Ching","note":"","ucode":"E3467A79B2D491","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581683,"discussion_content":"居然，在课程中有QNX用户，课程有吸引力！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658916296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294485,"user_name":"Geek_2416a4","can_delete":false,"product_type":"c1","uid":2459544,"ip_address":"","ucode":"754BF7B56D4A80","user_header":"","comment_is_top":false,"comment_ctime":1621958947,"is_pvip":false,"replies":[{"id":"106936","content":"哈哈 MVC 是啥  前端 的 吗 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622040655,"ip_address":"","comment_id":294485,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621958947","product_id":100078401,"comment_content":"这个三层架构怎末感觉有MVC那味","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520671,"discussion_content":"哈哈 MVC 是啥  前端 的 吗 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622040655,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294437,"user_name":"Panda","can_delete":false,"product_type":"c1","uid":1095740,"ip_address":"","ucode":"911A200C7B18BE","user_header":"https://static001.geekbang.org/account/avatar/00/10/b8/3c/1a294619.jpg","comment_is_top":false,"comment_ctime":1621941535,"is_pvip":false,"replies":[{"id":"106965","content":"正确~","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1622043298,"ip_address":"","comment_id":294437,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1621941535","product_id":100078401,"comment_content":"混合内核   扬长避短     ","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520654,"discussion_content":"正确~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622043298,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294339,"user_name":"墨","can_delete":false,"product_type":"c1","uid":2616644,"ip_address":"","ucode":"8198903D2029D2","user_header":"https://static001.geekbang.org/account/avatar/00/27/ed/44/4399a41a.jpg","comment_is_top":false,"comment_ctime":1621904681,"is_pvip":false,"replies":[{"id":"106816","content":"欢迎继续阅读下一节课，有几个代表性商用操作系统的解读哦。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621923290,"ip_address":"","comment_id":294339,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1621904681","product_id":100078401,"comment_content":"我看文章说宏内核没什么人用了，微内核不能用来开发商业产品，那现在商业产品都用的啥啊，两种结合吗？","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520612,"discussion_content":"欢迎继续阅读下一节课，有几个代表性商用操作系统的解读哦。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621923290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294303,"user_name":"青玉白露","can_delete":false,"product_type":"c1","uid":2619436,"ip_address":"","ucode":"96FE2D4D2B94A0","user_header":"https://static001.geekbang.org/account/avatar/00/27/f8/2c/92969c48.jpg","comment_is_top":false,"comment_ctime":1621869405,"is_pvip":false,"replies":[{"id":"106862","content":"是混合内核，很赞！","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621995402,"ip_address":"","comment_id":294303,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1621869405","product_id":100078401,"comment_content":"这应该是一个混合内核架构，其实是基于微内核进行的改进，一定程度上解决了微内核的性能问题。","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520596,"discussion_content":"是混合内核，很赞！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621995402,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294226,"user_name":"吴国豪","can_delete":false,"product_type":"c1","uid":2635606,"ip_address":"","ucode":"0899104FDC2C97","user_header":"https://static001.geekbang.org/account/avatar/00/28/37/56/3a527963.jpg","comment_is_top":false,"comment_ctime":1621841635,"is_pvip":false,"replies":[{"id":"106948","content":"你好，这并不是层与层之间不是绝对 一一对应  功能层并不是一定要调用硬件层 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1622041397,"ip_address":"","comment_id":294226,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621841635","product_id":100078401,"comment_content":"三层：内核硬件层，内核功能层，内核接口层 这三层是完全的层级关系吗？就接口层通过调功能层的接口实现，功能层通过调硬件层的接口实现？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520565,"discussion_content":"你好，这并不是层与层之间不是绝对 一一对应  功能层并不是一定要调用硬件层 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622041397,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293890,"user_name":"宏典","can_delete":false,"product_type":"c1","uid":2616028,"ip_address":"","ucode":"63953F36596C28","user_header":"https://static001.geekbang.org/account/avatar/00/27/ea/dc/aa699264.jpg","comment_is_top":false,"comment_ctime":1621589375,"is_pvip":true,"replies":[{"id":"106616","content":"不完全是 主要是 分层 设计 模块独立","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621691445,"ip_address":"","comment_id":293890,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621589375","product_id":100078401,"comment_content":".这里说的混合内核，就是增加内核模块的机制吗？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520415,"discussion_content":"不完全是 主要是 分层 设计 模块独立","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621691445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293616,"user_name":"杰良","can_delete":false,"product_type":"c1","uid":2567349,"ip_address":"","ucode":"5DC1D1C58A4731","user_header":"https://static001.geekbang.org/account/avatar/00/27/2c/b5/10141329.jpg","comment_is_top":false,"comment_ctime":1621467252,"is_pvip":false,"replies":[{"id":"106490","content":"哈哈，正确的，你学的很好 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621562105,"ip_address":"","comment_id":293616,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621467252","product_id":100078401,"comment_content":"出于性能和灵活性的考虑，采用宏内核、微内核混合架构，分层为应用接口、内核功能、硬件抽象，实现硬件与软件资源的管理，达到为多个应用层服务的目的。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520293,"discussion_content":"哈哈，正确的，你学的很好 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621562105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293482,"user_name":"Khirye","can_delete":false,"product_type":"c1","uid":1080985,"ip_address":"","ucode":"6C54C126FA54B8","user_header":"https://static001.geekbang.org/account/avatar/00/10/7e/99/c4302030.jpg","comment_is_top":false,"comment_ctime":1621404758,"is_pvip":false,"replies":[{"id":"106508","content":"我不评论哄懵OS 哈哈","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621564272,"ip_address":"","comment_id":293482,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621404758","product_id":100078401,"comment_content":"华为的鸿蒙OS不就是微内核的吗？那岂不是意味着性能很差。。。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520235,"discussion_content":"我不评论哄懵OS 哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621564272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293366,"user_name":"ooooHao","can_delete":false,"product_type":"c1","uid":2616056,"ip_address":"","ucode":"C6283814064AC4","user_header":"https://static001.geekbang.org/account/avatar/00/27/ea/f8/26062850.jpg","comment_is_top":false,"comment_ctime":1621352411,"is_pvip":false,"replies":[{"id":"106526","content":"嗯 嗯  混合 内核 兼顾 二者","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621565713,"ip_address":"","comment_id":293366,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621352411","product_id":100078401,"comment_content":"兼具二者的优点，应该算是混合内核吧。Linux内核也是类似的架构，模块化的设计，需要时动态装载内核的其他模块，这样具备了良好的可移植性和可扩展性，然后装载的模块运行在内核下，属于内核的一部分，无需通过传递消息进行调用，又兼备了宏内核高性能的优点。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520177,"discussion_content":"嗯 嗯  混合 内核 兼顾 二者","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621565713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293336,"user_name":"d16ug-a1l","can_delete":false,"product_type":"c1","uid":1940100,"ip_address":"","ucode":"6077E36D382214","user_header":"https://static001.geekbang.org/account/avatar/00/1d/9a/84/bf43d333.jpg","comment_is_top":false,"comment_ctime":1621340449,"is_pvip":false,"replies":[{"id":"106163","content":"预知答案.，且看后面一课。","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1621340812,"ip_address":"","comment_id":293336,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1621340449","product_id":100078401,"comment_content":"Linux有内核模块功能，算不算混合内核呀？","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520166,"discussion_content":"预知答案.，且看后面一课。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621340812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293296,"user_name":"HellO","can_delete":false,"product_type":"c1","uid":2215842,"ip_address":"","ucode":"D80B73090E1E92","user_header":"https://static001.geekbang.org/account/avatar/00/21/cf/a2/cecf49b8.jpg","comment_is_top":false,"comment_ctime":1621326294,"is_pvip":false,"replies":[{"id":"106179","content":"好的 欢迎随时和我交流心得","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621345385,"ip_address":"","comment_id":293296,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621326294","product_id":100078401,"comment_content":"如果课程跟学完成后，我自己基于需求写出了一套OS，我会来告诉老师的","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520146,"discussion_content":"好的 欢迎随时和我交流心得","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621345385,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293196,"user_name":"Geek_5271d3","can_delete":false,"product_type":"c1","uid":1094469,"ip_address":"","ucode":"BEED3863ADEF38","user_header":"https://static001.geekbang.org/account/avatar/00/10/b3/45/de84ca02.jpg","comment_is_top":false,"comment_ctime":1621260808,"is_pvip":false,"replies":[{"id":"106185","content":"你好，回答正确","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621345600,"ip_address":"","comment_id":293196,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621260808","product_id":100078401,"comment_content":"混合内核架构","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520111,"discussion_content":"你好，回答正确","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621345600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293090,"user_name":"熊出没","can_delete":false,"product_type":"c1","uid":1145377,"ip_address":"","ucode":"6E39230CC87808","user_header":"https://static001.geekbang.org/account/avatar/00/11/7a/21/a33cc944.jpg","comment_is_top":false,"comment_ctime":1621212861,"is_pvip":true,"replies":[{"id":"106203","content":"混合内核 一个重要的特点是层次分明，内核模块可以动态加载","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621346538,"ip_address":"","comment_id":293090,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621212861","product_id":100078401,"comment_content":"混合内核 其实不太懂","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520069,"discussion_content":"混合内核 一个重要的特点是层次分明，内核模块可以动态加载","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621346538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293058,"user_name":"大乌贼 (\\(●-●)&#47;)","can_delete":false,"product_type":"c1","uid":1207293,"ip_address":"","ucode":"B1FB489558F176","user_header":"https://static001.geekbang.org/account/avatar/00/12/6b/fd/14e1f6bb.jpg","comment_is_top":false,"comment_ctime":1621176765,"is_pvip":true,"replies":[{"id":"106213","content":"你说的对","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621347013,"ip_address":"","comment_id":293058,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621176765","product_id":100078401,"comment_content":"<br>我感觉alk的比喻不太妥，我觉得宏内核好比单体架构，微内核好比微服务架构。混合内核好比模块化的加载，类似osgi","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520052,"discussion_content":"你说的对","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621347013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292956,"user_name":"sugar","can_delete":false,"product_type":"c1","uid":1167046,"ip_address":"","ucode":"454538FF253B5F","user_header":"https://static001.geekbang.org/account/avatar/00/11/ce/c6/958212b5.jpg","comment_is_top":false,"comment_ctime":1621095087,"is_pvip":false,"replies":[{"id":"106219","content":"对，二个CPU，就能实现二个进程的真正并行 ，但系统中的进程大多数情况下比CPU多","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621347351,"ip_address":"","comment_id":292956,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1621095087","product_id":100078401,"comment_content":"“进程是操作系统开发者为了实现多任务而提出的，并让每个进程在 CPU 上运行一小段时间，这样就能实现多任务同时运行的假象。” 老师，我一直以来都有个疑问：在如今多核CPU的硬件上，上述结论依然成立吗？因为多个核心之间我理解其实是可以实现物理层面真正的并行的...吧？另外，我们做应用软件开发的人经常喜欢做的一种性能优化手段就是把一个进程上面做的CPU密集性操作 拆分到多个进程&#47;多个线程上面，我们自认为这是“并行”优化，如果按照老师上面这句话...其实多任务同时运行只是个假象的话，我们把 A进程上的 123 拆成了三个ABC三个进程分别A执行1 B执行2 C执行3，这是不是自欺欺人了......","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520027,"discussion_content":"对，二个CPU，就能实现二个进程的真正并行 ，但系统中的进程大多数情况下比CPU多","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621347351,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1927210,"avatar":"","nickname":"Ted_Wei","note":"","ucode":"7925E1FCA9C08D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374655,"discussion_content":"虽然现在的计算机大多是多核了，但是和进程的数量比还是差远了，所以即便是多核，同一时间能够真正同时运行的进程还是很少的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621303878,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1167046,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ce/c6/958212b5.jpg","nickname":"sugar","note":"","ucode":"454538FF253B5F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374414,"discussion_content":"期待得到老师的回复…. 为啥回复把我这楼给跳过去了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621172466,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292845,"user_name":"送过快递的码农","can_delete":false,"product_type":"c1","uid":1587666,"ip_address":"","ucode":"66EA81B3BADC73","user_header":"https://static001.geekbang.org/account/avatar/00/18/39/d2/845c0e39.jpg","comment_is_top":false,"comment_ctime":1621007653,"is_pvip":false,"replies":[{"id":"106227","content":"linux是通过配置编译选项进行裁剪的 我没有了解过鸿蒙","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621348191,"ip_address":"","comment_id":292845,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1621007653","product_id":100078401,"comment_content":"好像Linux也是这么设计的？Linux得益于这种设计可以自己加载内核对应的相关功能，所以小到一块智能手表，大到一台性能变态的服务器，都有可能是Linux。另外，我理解的鸿蒙系统按照华为的宣传，应该算一款微内核系统。按照它的分布式应用来说，A设备，B设备通过分布式总线调用同一个内核，这也是我很看好的原因，也想学习一下内核的精髓，希望老师多多指导","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519979,"discussion_content":"linux是通过配置编译选项进行裁剪的 我没有了解过鸿蒙","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621348191,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1618756,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/8tEaBIYcml7QItPXw05xG0IQwYAS5euGsjiaPxDHse6pUiaW64ACbiawic0wyuyMbsp48ECYUnJyJAMYxoiaVywdY3w/132","nickname":"小印哥","note":"","ucode":"4EBB730AF391D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374872,"discussion_content":"鸿蒙os采用微内核分布式应用，微内核最大问题是通讯性能问题，像你说的A设备，B设备通过分布式总线调用同一个内核，那么基于5G的速度下算不算是解决了\n微内核的通讯性能问题呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621395676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292839,"user_name":"Let go","can_delete":false,"product_type":"c1","uid":1527366,"ip_address":"","ucode":"30EC4EC53E2A81","user_header":"https://static001.geekbang.org/account/avatar/00/17/4e/46/e037c0df.jpg","comment_is_top":false,"comment_ctime":1621004132,"is_pvip":false,"replies":[{"id":"106229","content":"不是，混合内核 是 可以动态加载内核模块，且组件层次分明","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621348348,"ip_address":"","comment_id":292839,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1621004132","product_id":100078401,"comment_content":"课外阅读了一下。没找到混合内核的概念。之所以叫混合内核，是因为我们要实现的系统内核中，多了中断和设备管理这两个功能吗？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519977,"discussion_content":"不是，混合内核 是 可以动态加载内核模块，且组件层次分明","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621348348,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374329,"discussion_content":"上面有个留言说了，可以看《操作系统导论》。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621138117,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292833,"user_name":"MatyTan","can_delete":false,"product_type":"c1","uid":2616869,"ip_address":"","ucode":"9753A8C5CD9A35","user_header":"https://static001.geekbang.org/account/avatar/00/27/ee/25/5c94a3ce.jpg","comment_is_top":false,"comment_ctime":1620999684,"is_pvip":false,"replies":[{"id":"106012","content":"有的，敬请期待","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621001514,"ip_address":"","comment_id":292833,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1620999684","product_id":100078401,"comment_content":"我们的内核构架在内核功能层是没有文件管理和网络组件的吧 为什么总结里面写了","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519975,"discussion_content":"有的，敬请期待","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621001514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292781,"user_name":"Aaron","can_delete":false,"product_type":"c1","uid":1123732,"ip_address":"","ucode":"BF0E7B3B1E33AA","user_header":"https://static001.geekbang.org/account/avatar/00/11/25/94/ac86c4fc.jpg","comment_is_top":false,"comment_ctime":1620976215,"is_pvip":false,"replies":[{"id":"106018","content":"你好，感谢支持","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621001670,"ip_address":"","comment_id":292781,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1620976215","product_id":100078401,"comment_content":"牛啊，牛啊","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519959,"discussion_content":"你好，感谢支持","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621001670,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292769,"user_name":"杰克🎸生而愚昧🕸","can_delete":false,"product_type":"c1","uid":2619818,"ip_address":"","ucode":"3BCF645C5250C7","user_header":"https://static001.geekbang.org/account/avatar/00/27/f9/aa/40b87d3c.jpg","comment_is_top":false,"comment_ctime":1620971408,"is_pvip":false,"replies":[{"id":"106022","content":"混合内核 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621001802,"ip_address":"","comment_id":292769,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1620971408","product_id":100078401,"comment_content":"我们的内核架构不是我们首创的，它是属于微内核、宏内核之外的第三种架构，请问这是什么架构？依然是 微内核的范畴，或者是 自制微内核。","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519952,"discussion_content":"混合内核 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621001802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292743,"user_name":"BrightLoong","can_delete":false,"product_type":"c1","uid":1165304,"ip_address":"","ucode":"361FB1840C2977","user_header":"https://static001.geekbang.org/account/avatar/00/11/c7/f8/6b311ad9.jpg","comment_is_top":false,"comment_ctime":1620958674,"is_pvip":false,"replies":[{"id":"106025","content":"是的 是的 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621001884,"ip_address":"","comment_id":292743,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1620958674","product_id":100078401,"comment_content":"看完之后还是不太明白，内核功能层和内核硬件层，可以理解为硬件层提供的是单纯操作硬件相关的功能，功能层是组合一些硬件操作形成具体的功能吗？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519941,"discussion_content":"是的 是的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621001884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292712,"user_name":"尼欧","can_delete":false,"product_type":"c1","uid":1260883,"ip_address":"","ucode":"39D4D1F5F51764","user_header":"https://static001.geekbang.org/account/avatar/00/13/3d/53/9d8a1207.jpg","comment_is_top":false,"comment_ctime":1620948922,"is_pvip":false,"replies":[{"id":"105972","content":"冲，继续往下学！","user_name":"编辑回复","user_name_real":"赵宇新","uid":"1501385","ctime":1620950620,"ip_address":"","comment_id":292712,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1620948922","product_id":100078401,"comment_content":"打卡","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519929,"discussion_content":"冲，继续往下学！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620950620,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292703,"user_name":"includestdio.h","can_delete":false,"product_type":"c1","uid":2314854,"ip_address":"","ucode":"5027BACE9319CD","user_header":"https://static001.geekbang.org/account/avatar/00/23/52/66/3e4d4846.jpg","comment_is_top":false,"comment_ctime":1620943547,"is_pvip":true,"replies":[{"id":"106031","content":"是 混合内核 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621002126,"ip_address":"","comment_id":292703,"utype":1}],"discussion_count":1,"race_medal":4,"score":"1620943547","product_id":100078401,"comment_content":"应该是混合内核吧，但是因为有点没弄清外核的概念，感觉又有点像外核。😂","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519925,"discussion_content":"是 混合内核 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621002126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292702,"user_name":"includestdio.h","can_delete":false,"product_type":"c1","uid":2314854,"ip_address":"","ucode":"5027BACE9319CD","user_header":"https://static001.geekbang.org/account/avatar/00/23/52/66/3e4d4846.jpg","comment_is_top":false,"comment_ctime":1620943061,"is_pvip":true,"replies":[{"id":"106032","content":"对","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621002132,"ip_address":"","comment_id":292702,"utype":1}],"discussion_count":1,"race_medal":4,"score":"1620943061","product_id":100078401,"comment_content":"混合内核吧","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519924,"discussion_content":"对","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621002132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292701,"user_name":"springXu","can_delete":false,"product_type":"c1","uid":2064750,"ip_address":"","ucode":"F5DB0B963C894F","user_header":"","comment_is_top":false,"comment_ctime":1620931433,"is_pvip":true,"replies":[{"id":"106033","content":"对 对 对","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621002148,"ip_address":"","comment_id":292701,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1620931433","product_id":100078401,"comment_content":"混合内核（hybrid kernel）","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519923,"discussion_content":"对 对 对","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621002148,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292695,"user_name":"Fan","can_delete":false,"product_type":"c1","uid":1115232,"ip_address":"","ucode":"3BF28670FD9407","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/60/64d166b6.jpg","comment_is_top":false,"comment_ctime":1620923863,"is_pvip":false,"replies":[{"id":"106035","content":"是的 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621002174,"ip_address":"","comment_id":292695,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1620923863","product_id":100078401,"comment_content":"混合内核?","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519920,"discussion_content":"是的 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621002174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292694,"user_name":"linker","can_delete":false,"product_type":"c1","uid":1803259,"ip_address":"","ucode":"6C5799F2FC2C82","user_header":"https://static001.geekbang.org/account/avatar/00/1b/83/fb/621adceb.jpg","comment_is_top":false,"comment_ctime":1620923083,"is_pvip":false,"replies":[{"id":"106036","content":"混合内核 ","user_name":"作者回复","user_name_real":"LMOS","uid":"1345199","ctime":1621002193,"ip_address":"","comment_id":292694,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1620923083","product_id":100078401,"comment_content":"关于思考题，应该不是指外核吧？","like_count":0,"discussions":[{"author":{"id":1345199,"avatar":"https://static001.geekbang.org/account/avatar/00/14/86/af/99219321.jpg","nickname":"LMOS","note":"","ucode":"B037712C8B8B3C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519919,"discussion_content":"混合内核 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621002193,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1967121,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM72LSGBkXDj3jpuhZp45mjwDDAJW6FS6PwtDjaTg03H64fhHyDAIrF9H8iazY3pM6earSr3cOu96ew/132","nickname":"royalfarmer","note":"","ucode":"2EB7F6CAA78703","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":396649,"discussion_content":"我擦，还有外核这一说，都外了还能叫核？是我孤陋寡闻，还是兄弟你脑洞离奇","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632469329,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1803259,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/83/fb/621adceb.jpg","nickname":"linker","note":"","ucode":"6C5799F2FC2C82","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374152,"discussion_content":"好吧，没听过","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621044327,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
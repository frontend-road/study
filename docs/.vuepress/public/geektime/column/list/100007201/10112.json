{"id":10112,"title":"ç¬¬15è®² | å¦‚ä½•è½½å…¥èƒŒæ™¯éŸ³ä¹å’ŒéŸ³æ•ˆï¼Ÿ","content":"<p>å¥½çš„éŸ³ä¹æ€»æ˜¯ä¼´éšç€æ¸¸æˆä¸€èµ·ï¼Œä¸€ç›´è¢«ç©å®¶æ‰€è®°å¿†ã€‚åœ¨æ¸¸æˆä¸­æ’­æ”¾éŸ³ä¹å’ŒéŸ³æ•ˆå¹¶ä¸æ˜¯ä»€ä¹ˆå›°éš¾çš„äº‹æƒ…ï¼Œä½†æ˜¯ç©¶ç«Ÿä»€ä¹ˆæ—¶å€™æ’­æ”¾ä»€ä¹ˆéŸ³æ•ˆï¼Œå…·ä½“æ€ä¹ˆå®ç°ï¼Œè¿™ææ€•å°±éœ€è¦ä¸€äº›æŠ€å·§äº†ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»Šå¤©è¦è®²çš„ï¼Œæˆ‘ä»¬å¯ä»¥å’ŒæŸäº›å‡½æ•°æ†ç»‘åœ¨ä¸€èµ·å®ç°ã€‚</p><p>Pygameæ”¯æŒmp3ã€oggã€wavéŸ³é¢‘å’ŒéŸ³æ•ˆçš„æ’­æ”¾ã€‚éŸ³ä¹çš„æ¨¡å—éƒ½åœ¨pygame.mixerä¸­ï¼Œè¿™é‡Œé¢åŒ…æ‹¬éŸ³ä¹å’ŒéŸ³æ•ˆã€‚</p><p>æˆ‘ä»¬åœ¨ä½¿ç”¨éŸ³é¢‘éƒ¨åˆ†æ¨¡å—çš„æ—¶å€™ï¼Œéœ€è¦å…ˆåˆå§‹åŒ–ä¸€æ¬¡ã€‚</p><pre><code>pygame.mixer.init()\n</code></pre><p>è¿™ä¸ªåˆå§‹åŒ–åº”è¯¥åœ¨pygame.init()çš„åˆå§‹åŒ–ä¹‹åã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å…·ä½“çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°ï¼Œå­˜åœ¨åœ¨pygame.mixer.Soundæ¨¡å—ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/29/4d/299c0650d736f939189c49b32eb2b54d.jpg?wh=728*556\" alt=\"\"></p><p>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹Pygame.mixer.musicéŸ³ä¹æ¨¡å—ã€‚æˆ‘ä»¬å¯ä»¥å°è¯•ä¸€ä¸‹è½½å…¥éŸ³é¢‘å¹¶ä¸”æ’­æ”¾ã€‚</p><pre><code>pygame.mixer.music.load('bgm.mp3')\npygame.mixer.music.set_volume(0.5)\npygame.mixer.music.play()\ns1 = pygame.mixer.Sound('a.wav') \ns1.set_volume(0.5)\ns2 = pygame.mixer.Sound('b.wav')\ns2.set_volume(0.5)\n</code></pre><p>æˆ‘æ¥è§£é‡Šä¸€ä¸‹è¿™æ®µä»£ç ã€‚</p><p>åˆšå¼€å§‹ï¼Œæˆ‘ä»¬è½½å…¥äº†ä¸€ä¸ªåå«bgmçš„mp3æ–‡ä»¶ï¼Œå‘Šè¯‰ç¨‹åºéœ€è¦è½½å…¥è¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åè°ƒæ•´éŸ³é‡åˆ°0.5ï¼Œéšåå°±æ˜¯playï¼Œä¹Ÿå°±æ˜¯æ’­æ”¾ï¼Œæ’­æ”¾æ˜¯åœ¨ç¨‹åºçš„åå°æ’­æ”¾ï¼Œç„¶åç¨‹åºä¼šæ¥ç€è·‘åˆ°ä¸‹é¢çš„ä»£ç è¡Œã€‚</p><p>éšåï¼Œæˆ‘ä»¬ä½¿ç”¨Soundæ¨¡å—ï¼ŒSoundæ¨¡å—åˆå§‹åŒ–ä¼šè½½å…¥a.wavï¼Œç„¶åè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡è®¾ç½®éŸ³é‡ä¸º0.5ï¼Œéšåå†åˆå§‹åŒ–ä¸€æ¬¡ï¼Œè½½å…¥b.wavï¼Œç„¶åè®¾ç½®éŸ³é‡ä¸º0.5ã€‚</p><!-- [[[read_end]]] --><p>åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å°†æ‰€æœ‰çš„åˆå§‹åŒ–ã€è®¾ç½®éƒ½åœ¨æ¸¸æˆçš„å¾ªç¯å¤–åšå¥½äº†ã€‚</p><p>éšåï¼Œæˆ‘ä»¬éœ€è¦ç»“åˆå‰å‡ èŠ‚çš„å†…å®¹ï¼Œåœ¨å¾ªç¯é‡Œé¢ï¼Œå¯¹é£æœºç¢°æ’è¿›è¡Œå£°éŸ³çš„æ“ä½œï¼Œæ¯”å¦‚å‡ºç°çˆ†ç‚¸å£°çš„æ—¶å€™ï¼Œæ’­æ”¾ä»€ä¹ˆå£°éŸ³ï¼›ç¢°æ’ç»“æŸï¼Œæ’­æ”¾å¦ä¸€ç§çš„å£°éŸ³ã€‚</p><pre><code>if True == collide(pln, (100,300+y1), enm, (100,20+y2)):\ns1.play()\nelse:\n  s2.play()\nfor event in pygame.event.get():\n   if event.type == QUIT:\n     pygame.quit()\n   if event.type == KEYDOWN:\n     if event.key == K_p:\n       pygame.mixer.music.pause()\n     if event.key == K_r:\n       pygame.mixer.music.unpause()\n</code></pre><p>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨<strong>collideå‡½æ•°</strong>ã€‚è¿™åœ¨å‰é¢å‡ ç« æœ‰è¿‡è¯¦ç»†çš„è¯´æ˜ã€‚</p><p>è¿™æ˜¯ä¸€æ®µæ£€æµ‹é£æœºç¢°æ’çš„ä»£ç ï¼Œå¦‚æœé£æœºç¢°æ’äº†çš„è¯ï¼Œå°±ä¼šè¿”å›Trueï¼Œå¦‚æœè¿”å›Trueçš„è¯ï¼Œæˆ‘ä»¬å°±æ’­æ”¾s1éŸ³é¢‘ï¼Œå¦åˆ™å°±æ’­æ”¾s2éŸ³é¢‘ã€‚å½“ç„¶ï¼Œè¿™ä¸ªs2éŸ³é¢‘å¯èƒ½ä¼šä¸€ç›´åœ¨æ’­æ”¾ï¼ˆå› ä¸ºä¸€ç›´æ²¡æœ‰ç¢°æ’ï¼‰ã€‚</p><p>éšåå°±æ˜¯<strong>äº‹ä»¶ç›‘æµ‹</strong>ï¼Œå¦‚æœæ£€æµ‹åˆ°K_pï¼Œå°±æ˜¯æŒ‰ä¸‹é”®ç›˜pï¼Œå°±è®©éŸ³ä¹åœæ­¢ï¼Œä½¿ç”¨pauseå‡½æ•°ï¼›å¦‚æœæŒ‰ä¸‹ré”®ï¼Œå°±æ¢å¤æ’­æ”¾ã€‚</p><p>æˆ‘ä»¬åœ¨Pygameä¸Šçš„æ“ä½œå·²ç»åŸºæœ¬ç»“æŸäº†ï¼Œä½†æ˜¯ï¼ŒéŸ³é¢‘å’ŒéŸ³æ•ˆçš„å†…å®¹å¹¶æ²¡æœ‰ç»“æŸã€‚</p><p>åœ¨æ¸¸æˆç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åµŒå…¥éŸ³é¢‘å’ŒéŸ³æ•ˆï¼Œç‰¹åˆ«æ˜¯åœ¨æ²¡æœ‰Pygameçš„æ—¶å€™ï¼Œå¦‚æœæœ‰ä¸€äº›æ¸¸æˆå¼•æ“æ²¡æœ‰æä¾›éŸ³é¢‘åº“çš„è¯ï¼Œæˆ‘ä»¬å°±éœ€è¦è‡ªå·±ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„éŸ³é¢‘åº“ã€‚è™½ç„¶å¯ä»¥ä½¿ç”¨è€³ç†Ÿèƒ½è¯¦çš„ffmpegï¼Œä½†æ˜¯æ„Ÿè§‰æœ‰ç‚¹å¤§æå°ç”¨äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªä¸“é—¨çš„éŸ³é¢‘åº“ã€‚</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘æ¨è<strong>BASSéŸ³é¢‘åº“</strong>ã€‚ä½ å¯ä»¥å» <a href=\"http://www.un4seen.com\">http://www.un4seen.com</a> ä¸‹è½½å¼€å‘åº“ã€‚è¿™ä¸ªéŸ³é¢‘åº“æ˜¯ä¸å¼€æºçš„ï¼Œå¦‚æœä½ åªæ˜¯è‡ªå·±å¼€å‘æ¸¸æˆç©ç©ï¼Œéå•†ä¸šç›®çš„ï¼Œå°±å¯ä»¥ä½¿ç”¨ã€‚å¦‚æœæ˜¯å•†ä¸šä½¿ç”¨ï¼Œé‚£å°±éœ€è¦è´­ä¹°è¯ä¹¦ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/90/e2/9022635f73854d8b464a188c585ee6e2.jpg?wh=782*410\" alt=\"\"></p><p>åœ¨è¿™ä¸ªé¡µé¢ä¸Šï¼Œæˆ‘ä»¬ç‚¹å‡»downloadæŒ‰é’®ï¼Œå°±ä¼šä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„å¼€å‘åº“ã€‚è§£å‹ç¼©ä¸‹æ¥ï¼Œä¼šå‡ºç°å¯¹åº”å‡ ä¸ªè¯­è¨€çš„å¼€å‘ç›®å½•ã€‚</p><p>å…¶ä¸­bass.dllæ–‡ä»¶æ˜¯åŠ¨æ€é“¾æ¥åº“ï¼Œè¦ä½¿ç”¨çš„è¯ï¼Œå¯ä»¥åœ¨cæ–‡ä»¶å¤¹ä¸‹ï¼Œä½¿ç”¨libåº“å’Œbass.hè¿›è¡Œå¤´æ–‡ä»¶åŒ…å«è¿›è¡Œç¼–ç¨‹ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼Œå¦‚ä½•ä½¿ç”¨C/C++è¯­è¨€åŠ å…¥Basså¼•æ“çš„ä»£ç ã€‚</p><pre><code>BASS_Init(-1, 44100, 0, hwnd, NULL);\nHSTREAM s = BASS_StreamCreateFile(false, &quot;a.mp3&quot;, 0, 0, 0);\nBASS_ChannelPlay(s, false);\nBASS_StreamFree(s)\n</code></pre><p>é¦–å…ˆï¼Œæˆ‘ä»¬å°† BASS åº“åˆå§‹åŒ–ï¼Œåˆå§‹åŒ–çš„å‚æ•°æ˜¯ï¼šè®¾å¤‡ã€è¾“å‡ºæ¯”ç‡ã€æ ‡å¿—ä½ï¼ˆæ¯”å¦‚8ä½éŸ³è´¨ã€ç«‹ä½“å£°ã€3Dç­‰ç­‰ï¼‰ã€Windowså¥æŸ„ã€‚ä½ ä¹Ÿå¯ä»¥è¾“å…¥0ã€‚æœ€åä¸€ä¸ªæ˜¯clsidï¼Œå°±æ˜¯ç”¨äºåˆå§‹åŒ–DirectSoundçš„ç±»çš„IDï¼Œä¸€èˆ¬ä¼šä½¿ç”¨NULLã€‚</p><p>éšåï¼Œå¼€å§‹ä»æ–‡ä»¶å»ºç«‹ä¸€ä¸ªæµï¼ŒBASS_StreamCreateFileå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªHSTREAMã€‚HSTREAMå…¶å®æ˜¯ä¸€ä¸ªDWORDç±»å‹ã€‚</p><p>è¿™ä¸ªå‡½æ•°é‡Œçš„å‚æ•°ï¼Œæˆ‘ä¹Ÿè§£é‡Šä¸€ä¸‹ã€‚</p><ul>\n<li>\n<p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å†…å­˜ã€‚å¦‚æœä¼ å…¥trueçš„è¯ï¼Œå°±å°†è¿™ä¸ªæµä¿å­˜åœ¨å†…å­˜ä¸­ï¼›å¦åˆ™çš„è¯ï¼Œå°±ä¸ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚</p>\n</li>\n<li>\n<p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯éŸ³é¢‘æ–‡ä»¶åã€‚è¿™ä¸ªå‚æ•°å’Œç¬¬ä¸€ä¸ªå‚æ•°ä¼šè”åŠ¨ã€‚å½“ç¬¬ä¸€ä¸ªå‚æ•°ä¿å­˜åœ¨å†…å­˜ä¸­çš„æ—¶å€™ï¼Œå°±å¡«å…¥å†…å­˜åœ°å€ï¼Œå¦åˆ™å°±å¡«å…¥æ–‡ä»¶åã€‚</p>\n</li>\n<li>\n<p>ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯åç§»é‡ï¼Œä¹Ÿå°±æ˜¯æ–‡ä»¶ä»å“ªé‡Œå¼€å§‹æ’­æ”¾ã€‚å½“ç„¶è¿™ä¸ªå‚æ•°åªåœ¨ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºfalseï¼Œä¸ä¿å­˜åœ¨å†…å­˜çš„æƒ…å†µä¸‹èµ·ä½œç”¨ã€‚</p>\n</li>\n<li>\n<p>ç¬¬å››ä¸ªå‚æ•°æ˜¯é•¿åº¦ï¼Œå¦‚æœå¡«å…¥0ï¼Œå°±æ˜¯æ‰€æœ‰é•¿åº¦ã€‚</p>\n</li>\n<li>\n<p>æœ€åä¸€ä¸ªæ˜¯æ ‡å¿—ä½ï¼Œå¡«å…¥çš„æ˜¯åˆ›å»ºæ¨¡å¼ï¼Œæ¯”å¦‚æ˜¯å¾ªç¯æ’­æ”¾æ–¹å¼ï¼Œè¿˜æ˜¯è½¯ä»¶è§£ç æ¨¡å¼ç­‰ç­‰ã€‚</p>\n</li>\n</ul><p>æ¥ä¸‹æ¥å°±æ˜¯å¼€å§‹æ’­æ”¾ï¼Œç¬¬ä¸€ä¸ªå¡«å…¥çš„æ˜¯åˆšæ‰è¿”å›çš„æµçš„å¥æŸ„ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ˜¯å¦é‡æ–°å¼€å§‹æ’­æ”¾ã€‚æœ€åä¸€ä¸ªå°±æ˜¯æ’­æ”¾å®Œåè¿›è¡Œå›æ”¶èµ„æºï¼Œåˆ é™¤å¥æŸ„ã€‚</p><pre><code>float v; DWORD r;\nBASS_SetConfig(BASS_CONFIG_GVOL_STREAM, 100);\nv = BASS_GetVolume();\nv = 200;\nBASS_SetVolume(v);\nr = BASS_ChannelIsActive(s);\nif(r == BASS_ACTIVE_PAUSED)\n...\nelse if(r == BASS_ACTIVE_PLAYING)\n...\nelse if(r == BASS_ACTIVE_STOPPED)\n...\nelse if (r == BASS_ACTIVE_STALLED)\n  ..\n</code></pre><p>æ¥ä¸‹æ¥å°±æ˜¯è°ƒæ•´éŸ³é‡ä»¥åŠè·å–æ’­æ”¾çš„çŠ¶æ€åŠŸèƒ½ã€‚</p><p>å…¶ä¸­BASS_SetConfigä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯é€‰é¡¹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è°ƒæ•´éŸ³é‡çš„å€¼ï¼ŒBASS_CONFIG_GVOL_STREAMçš„æ„ä¹‰æ˜¯å…¨å±€çš„æµçš„éŸ³é‡ã€‚</p><p>éšåæˆ‘ä»¬å°±å¼€å§‹å–å¾—éŸ³é‡ï¼ŒBASS_GetVolumeæ˜¯è·å–ç³»ç»Ÿçš„éŸ³é‡ï¼Œå¹¶ä¸æ˜¯æµçš„éŸ³é‡ï¼Œç¬¬äº”è¡Œä»£ç å°±æ˜¯è®¾ç½®ç³»ç»ŸéŸ³é‡ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¦è·å–æ’­æ”¾çš„çŠ¶æ€ã€‚åœ¨BASS_ChannelIsActiveçš„å‡½æ•°å†…å¡«å…¥æµçš„å¥æŸ„ï¼Œéšåè·å–è¿”å›å€¼ï¼Œç„¶åä½¿ç”¨è¿”å›å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå…¶ä¸­BASS_ACTIVE_PAUSEDï¼Œå°±æ˜¯æ’­æ”¾çŠ¶æ€æš‚åœï¼ŒBASS_ACTIVE_PLAYINGæ˜¯æ­£åœ¨æ’­æ”¾ä¸­æˆ–è€…å½•éŸ³çŠ¶æ€ï¼ŒBASS_ACTIVE_STOPPEDæ˜¯åœæ­¢çŠ¶æ€ï¼Œæˆ–è€…æµå¥æŸ„å¹¶ä¸æ˜¯æœ‰æ•ˆçš„ï¼ŒBASS_ACTIVE_STALLEDæ˜¯åœæ»çŠ¶æ€ã€‚</p><p>ä¸€èˆ¬çš„åŸå› æ˜¯ï¼Œæ’­æ”¾çš„çŠ¶æ€ç¼ºå°‘æ ·æœ¬æ•°æ®ï¼Œæµçš„æ’­æ”¾åœæ»äº†ï¼Œå¦‚æœæ•°æ®è¶³å¤Ÿæ’­æ”¾çš„è¯ï¼Œå°±ä¼šè‡ªåŠ¨æ¢å¤ã€‚</p><p>BASSåº“è¿˜æœ‰è®¸è®¸å¤šå¤šçš„å‡½æ•°å’ŒåŠŸèƒ½ï¼Œå°±ä¸åœ¨è¿™é‡Œè¿‡å¤šé˜è¿°äº†ã€‚</p><h2>å°ç»“</h2><p>æˆ‘æ¥æ€»ç»“ä¸€ä¸‹ã€‚ä»Šå¤©æˆ‘ä»¬è®²è§£äº†Pygameä¸­éŸ³é¢‘å’ŒéŸ³æ•ˆçš„æ’­æ”¾ã€‚ä½ åº”è¯¥è®°ä½è¿™äº›ä¸œè¥¿ã€‚</p><ul>\n<li>\n<p>åœ¨Pygameä¸­ï¼Œæ’­æ”¾éŸ³ä¹æ˜¯ä¸éœ€è¦è¿›è¡Œå¤šçº¿ç¨‹æ§åˆ¶çš„ã€‚å®ƒæœ¬èº«å°±ä¼šåœ¨åå°è¿›è¡Œæ’­æ”¾ã€‚</p>\n</li>\n<li>\n<p>æ‰€æœ‰çš„éŸ³ä¹å’ŒéŸ³æ•ˆéƒ½åœ¨pygame.mixeræ¨¡å—ä¸­ï¼Œå¦‚æœè½½å…¥çš„æ˜¯éŸ³ä¹ï¼Œå°±ä½¿ç”¨musicæ¨¡å—ï¼›å¦‚æœè½½å…¥çš„æ˜¯éŸ³æ•ˆï¼Œå°±ä½¿ç”¨Soundæ¨¡å—ã€‚</p>\n</li>\n<li>\n<p>éšåæˆ‘ä»¬ä»‹ç»äº†BASSéŸ³é¢‘åº“ã€‚è¿™å‡ ä¹æ˜¯æœ€ä¸“ä¸šçš„éŸ³é¢‘åº“äº†ã€‚ç”±äºæ˜¯Cæ¥å£ï¼Œæ‰€ä»¥é€šç”¨å¤šç§è¯­è¨€ï¼Œä½ å¯ä»¥ä½¿ç”¨.NETæˆ–è€…VBç­‰è¯­è¨€æ¥åº”ç”¨ã€‚å½“ç„¶å¦‚æœè¦è¿›è¡Œåå°æ’­æ”¾ã€å¤šä¸ªé¢‘é“æ’­æ”¾ç­‰åŠŸèƒ½ï¼Œä½ éœ€è¦ç¼–å†™å¤šçº¿ç¨‹çš„ä»£ç ï¼Œå¹¶æ²¡æœ‰Pygameé‚£ä¹ˆè½»æ¾ï¼Œè¿™é‡Œé¢å¾ˆå¤šäº‹æƒ…éœ€è¦è‡ªå·±å»åšã€‚</p>\n</li>\n</ul><p>ç°åœ¨ç»™ä½ ç•™ä¸€ä¸ªå°é—®é¢˜ã€‚</p><p>åœ¨pygame.mixer.musicæ¨¡å—ä¸­ï¼Œå¦‚ä½•æ’­æ”¾ä¸€é¦–éŸ³ä¹åç«‹åˆ»æ’­æ”¾å¦å¤–ä¸€é¦–éŸ³ä¹ï¼Ÿ</p><p>æ¬¢è¿ç•™è¨€è¯´å‡ºä½ çš„çœ‹æ³•ã€‚æˆ‘åœ¨ä¸‹ä¸€èŠ‚çš„æŒ‘æˆ˜ä¸­ç­‰ä½ ï¼</p>","neighbors":{"left":{"article_title":"ç¬¬14è®² | å¦‚ä½•åˆ¶ä½œæ¸¸æˆèµ„æºåŒ…å’Œä¿å­˜æœºåˆ¶ï¼Ÿ","id":10106},"right":{"article_title":"ç¬¬16è®² | å¦‚ä½•åœ¨æ¸¸æˆä¸­è½½å…¥UIå’Œèœå•ï¼Ÿ","id":10436}},"comments":[{"had_liked":false,"id":14985,"user_name":"zhuè§è§","can_delete":false,"product_type":"c1","uid":1141494,"ip_address":"","ucode":"22F745AA60503D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erwcUXd1YciaE2VmCRZUjbm0hscIAwvXJOQtibK2aor2DrmxxPszsfecZ11dibniakRSkMYrhp8ibsHWoA/132","comment_is_top":false,"comment_ctime":1530785748,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5825753044","product_id":100007201,"comment_content":"æœ‰æºä»£ç åœ°å€å—","like_count":0},{"had_liked":false,"id":30428,"user_name":"è‰¾å°”æ¬§å”¯ä¼Š","can_delete":false,"product_type":"c1","uid":1139716,"ip_address":"","ucode":"5BD50691342461","user_header":"https://static001.geekbang.org/account/avatar/00/11/64/04/18875529.jpg","comment_is_top":false,"comment_ctime":1538838999,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1538838999","product_id":100007201,"comment_content":"ä¸ºä»€ä¹ˆpygame å¿…é¡»è¦å¼€å¯çª—å£æ‰èƒ½æ’­æ”¾éŸ³ä¹ï¼Œå»æ‰pygame.display.set_mode()å°±æ²¡æœ‰å£°éŸ³ã€‚å¦å¤–æ­»å¾ªç¯æ˜¯å› ä¸ºé˜²æ­¢ç¨‹åºè‡ªå·±å…³é—­ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":16002,"user_name":"æ¢ä½ ç¡åºŠå³è¾¹","can_delete":false,"product_type":"c1","uid":1176363,"ip_address":"","ucode":"896D3AAF04F1A8","user_header":"https://static001.geekbang.org/account/avatar/00/11/f3/2b/4896a525.jpg","comment_is_top":false,"comment_ctime":1531729493,"is_pvip":false,"replies":[{"id":"5669","content":"ä¸èƒ½åŠ è½½æœ‰å¾ˆå¤šåŸå› ï¼Œå¯ä»¥è¯´å¾—æ›´æ˜ç™½ç‚¹çœ‹çœ‹ä»£ç ","user_name":"ä½œè€…å›å¤","user_name_real":"DarkSpy","uid":"1135118","ctime":1531897001,"ip_address":"","comment_id":16002,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1531729493","product_id":100007201,"comment_content":"è¡¥ä¸€ä¸ªå‘å§ï¼Œå¯èƒ½æˆ‘å’Œä½œè€…ç”¨çš„ç‰ˆæœ¬ä¸å¤ªä¸€æ ·ï¼Œæœ‰æ—¶å€™ä»£ç ä¼šæœ‰ä¸€äº›å·®å¼‚æ‰èƒ½åœ¨æˆ‘è¿™è¾¹è¿è¡Œï¼Œåœ¨pygame.mixer.loadå¯ä»¥åŠ è½½åŒ…æ‹¬mp3åœ¨å†…çš„éŸ³é¢‘ï¼Œè€Œpygame.mixer.Soundå´ä¸èƒ½åŠ è½½mp3ã€‚å°ç™½å¡«å‘ä¸­ğŸ¤”","like_count":0,"discussions":[{"author":{"id":1135118,"avatar":"https://static001.geekbang.org/account/avatar/00/11/52/0e/2988158e.jpg","nickname":"DarkSpy","note":"","ucode":"F440F4BA28E92F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420630,"discussion_content":"ä¸èƒ½åŠ è½½æœ‰å¾ˆå¤šåŸå› ï¼Œå¯ä»¥è¯´å¾—æ›´æ˜ç™½ç‚¹çœ‹çœ‹ä»£ç ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531897001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15234,"user_name":"ä¸‰ç¡åŸºç”²è‹¯","can_delete":false,"product_type":"c1","uid":1141929,"ip_address":"","ucode":"C492B058C2A5C0","user_header":"","comment_is_top":false,"comment_ctime":1531020793,"is_pvip":false,"replies":[{"id":"5152","content":"çœŸçš„å¤§å‹æ¸¸æˆä¹Ÿä¸ä¼šçœŸçš„æ‹¿æ¥åšä»£ç æµ‹è¯•ç”¨","user_name":"ä½œè€…å›å¤","user_name_real":"DarkSpy","uid":"1135118","ctime":1531043138,"ip_address":"","comment_id":15234,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1531020793","product_id":100007201,"comment_content":"pygame.mixer.init()\r<br>songs = [&quot;sugar-1.mp3&quot;,&quot;sugar-2.mp3&quot;,&quot;sugar-3.mp3&quot;]\r<br>current = 0\r<br>\r<br>while True:\r<br>\r<br>    if not (pygame.mixer.music.get_busy()):\r<br>        pygame.mixer.music.load(songs[current])\r<br>        pygame.mixer.music.set_volume(0.5)\r<br>        pygame.mixer.music.play()\r<br>        current = current + 1\r<br>        if current &gt; len(songs) - 1:\r<br>            current = 0\r<br>            \r<br>    for event in pygame.event.get():\r<br>        if event.type == pygame.QUIT:\r<br>            pygame.quit()<br><br><br>çœ‹äº†ä¸€çœ¼docã€‚è¯•äº†ä¸€ä¸‹ æ„Ÿè§‰è¿™æ ·åº”è¯¥æ²¡å•¥é—®é¢˜äº†ã€‚åªæ˜¯æ„Ÿè§‰å†™åœ¨å¾ªç¯é‡Œã€‚ å¦‚æœä»¥åæ¸¸æˆåšå¤§äº†ä¼šå‡ºäº‹æƒ…å§ã€‚","like_count":0,"discussions":[{"author":{"id":1135118,"avatar":"https://static001.geekbang.org/account/avatar/00/11/52/0e/2988158e.jpg","nickname":"DarkSpy","note":"","ucode":"F440F4BA28E92F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":420297,"discussion_content":"çœŸçš„å¤§å‹æ¸¸æˆä¹Ÿä¸ä¼šçœŸçš„æ‹¿æ¥åšä»£ç æµ‹è¯•ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1531043138,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":15167,"user_name":"wusiration","can_delete":false,"product_type":"c1","uid":1104438,"ip_address":"","ucode":"A9403377054F1E","user_header":"https://static001.geekbang.org/account/avatar/00/10/da/36/ac0ff6a7.jpg","comment_is_top":false,"comment_ctime":1530941193,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1530941193","product_id":100007201,"comment_content":"å½“éŸ³ä¹æ’­æ”¾å®Œæˆæ—¶ï¼Œè°ƒç”¨pygame.mixer.music.set_endevent()å‡½æ•°ï¼Œå‘é€ä¸€ä¸ªäº‹ä»¶æ ‡å¿—ã€‚åŒæ—¶ï¼Œåœ¨å¾ªç¯ä¸­ï¼Œå½“ç›‘å¬åˆ°æ’­æ”¾ç»“æŸçš„äº‹ä»¶æ ‡å¿—åï¼Œå¼€å§‹åŠ è½½å¦å¤–ä¸€é¦–æ­Œå¹¶æ’­æ”¾ã€‚<br><br>pygame.mixer.music.load(&quot;a.mp3&quot;)\r<br>pygame.mixer.music.set_endevent(pygame.USEREVENT)\r<br>pygame.mixer.music.play()\r<br>while True:\r<br>   for event in pygame.event.get():\r<br>      if event.type == pygame.USEREVENT: \r<br>            pygame.mixer.music.load(&quot;b.mp3&quot;)\r<br>            pygame.mixer.music.play()<br><br>pygameæ–‡æ¡£ä¸­è¯´pygame.mixer.music.queue()ä¹Ÿå¯ä»¥å®ç°è¯¥è¦æ±‚ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ä¸­æ ¹æœ¬æ²¡èµ·ä½œç”¨ã€‚","like_count":0}]}
{"id":369434,"title":"23 | ERæ¨¡å‹ï¼šå¦‚ä½•ç†æ¸…æ•°æ®åº“è®¾è®¡æ€è·¯ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æœ±æ™“å³°ã€‚</p><p>åœ¨è¶…å¸‚é¡¹ç›®çš„æ•°æ®åº“è®¾è®¡é˜¶æ®µï¼Œè¶…å¸‚ç»è¥è€…äº¤ç»™æˆ‘ä»¬ä¸€å¤§å †Excelè¡¨æ ¼ã€‚æˆ‘ä»¬éœ€è¦æŠŠè¿™äº›è¡¨æ ¼çš„æ•°æ®éƒ½æ•´ç†æ¸…æ¥šï¼Œå¹¶ä¸”æŒ‰ç…§ä¸€å®šçš„è§„åˆ™å­˜å‚¨èµ·æ¥ï¼Œä»è€Œè¿›è¡Œé«˜æ•ˆçš„ç®¡ç†ã€‚</p><p>æ¯”å¦‚ï¼Œå½“æ—¶æˆ‘ä»¬æœ‰è¿™æ ·ä¸€å¼ è¿›è´§è¡¨ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/b8/7c/b8c9688a5c3d9493840b8f17bf98567c.jpeg?wh=1914*844\" alt=\"\"></p><p>ä¸ºäº†æé«˜æ•°æ®å­˜å‚¨çš„æ•ˆç‡ï¼Œæˆ‘ä»¬æŒ‰ç…§ç¬¬ä¸‰èŒƒå¼çš„åŸåˆ™è¿›è¡Œæ‹†åˆ†ï¼Œè¿™æ ·å°±å¾—åˆ°äº†4ä¸ªè¡¨ï¼Œåˆ†åˆ«æ˜¯ä¾›è´§å•†è¡¨ã€è¿›è´§å•å¤´è¡¨ã€è¿›è´§å•æ˜ç»†è¡¨å’Œå•†å“ä¿¡æ¯è¡¨ã€‚</p><p>ä¾›è´§å•†è¡¨ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/0b/1b/0bea0395a5b596e695178a53fe69ef1b.jpeg?wh=1188*415\" alt=\"\"></p><p>è¿›è´§å•å¤´è¡¨ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ab/0f/ab5e18a0eafc78955096621a6bc34e0f.jpeg?wh=1205*479\" alt=\"\"></p><p>è¿›è´§å•æ˜ç»†è¡¨ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/44/3e/442cb5a11984011168c733009f57963e.jpeg?wh=1528*578\" alt=\"\"></p><p>å•†å“ä¿¡æ¯è¡¨ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/39/f5/39d06d2068f111c24021f617db2795f5.jpeg?wh=1619*588\" alt=\"\"></p><p>å…¶ä¸­ï¼Œå•†å“ä¿¡æ¯è¡¨ã€ä¾›è´§å•†è¡¨å’Œè¿›è´§å•å¤´è¡¨éƒ½æ»¡è¶³ç¬¬ä¸‰èŒƒå¼çš„åŸåˆ™ï¼Œè¿›è´§å•æ˜ç»†è¡¨è™½ç„¶ä¸æ»¡è¶³ç¬¬ä¸‰èŒƒå¼çš„åŸåˆ™ï¼Œä½†æ˜¯æ»¡è¶³ç¬¬äºŒèŒƒå¼çš„è¦æ±‚ï¼Œè€Œä¸”ä¿ç•™çš„å†—ä½™å­—æ®µä¹Ÿæ˜¯åŸºäºä¸šåŠ¡ä¼˜å…ˆçš„åŸåˆ™ä¿ç•™çš„ã€‚å› æ­¤ï¼Œè¶…å¸‚ç»è¥è€…ç»™æˆ‘ä»¬æä¾›çš„è¿›è´§å•è¡¨ï¼Œç»è¿‡æˆ‘ä»¬çš„æ‹†è§£ï¼Œå·²ç»æ˜¯å­˜å–æ•ˆç‡æœ€ä½³çš„æ–¹æ¡ˆäº†ã€‚åœ¨è¿›è´§ç®¡ç†è¿™ä¸ªå±€éƒ¨æ¨¡å—ä¸­ï¼Œæ˜¯æœ€ä¼˜çš„æ•°æ®åº“è®¾è®¡æ–¹æ¡ˆã€‚</p><p>ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬æŒ‰ç…§è¿™æ ·çš„æ–¹å¼æ‹†åˆ†ä¸€è¿ä¸²æ•°æ®è¡¨æ—¶ï¼Œå´å‘ç°è¶Šæ‹†è¶Šå¤šï¼Œè€Œä¸”æ”¯ç¦»ç ´ç¢ã€‚äº‹å®ä¸Šï¼Œ<strong>å±€éƒ¨æœ€ä¼˜çš„è¡¨ï¼Œä¸ä»…æœ‰å¯èƒ½å­˜åœ¨è¿›ä¸€æ­¥æ‹†åˆ†çš„æƒ…å†µï¼Œè¿˜æœ‰å¯èƒ½ä¼šå‡ºç°æ•°æ®ç¼ºå¤±</strong>ã€‚</p><p>æ¯•ç«Ÿï¼Œæ•°æ®åº“è®¾è®¡æ˜¯ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«çš„ã€‚é‚£æœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•æå‰çœ‹åˆ°æ•°æ®åº“çš„å…¨è²Œå‘¢ï¼Ÿæ¯”å¦‚éœ€è¦å“ªäº›æ•°æ®è¡¨ã€æ•°æ®è¡¨ä¸­åº”è¯¥æœ‰å“ªäº›å­—æ®µï¼Œæ•°æ®è¡¨ä¸æ•°æ®è¡¨ä¹‹é—´æœ‰ä»€ä¹ˆå…³ç³»ã€é€šè¿‡ä»€ä¹ˆå­—æ®µè¿›è¡Œè¿æ¥ï¼Œç­‰ç­‰ã€‚è¿™æ ·æˆ‘ä»¬æ‰èƒ½è¿›è¡Œæ•´ä½“çš„æ¢³ç†å’Œè®¾è®¡ã€‚</p><!-- [[[read_end]]] --><p>å…¶å®ï¼ŒERæ¨¡å‹å°±æ˜¯ä¸€ä¸ªè¿™æ ·çš„å·¥å…·ã€‚ERæ¨¡å‹ä¹Ÿå«ä½œå®ä½“å…³ç³»æ¨¡å‹ï¼Œæ˜¯ç”¨æ¥æè¿°ç°å®ç”Ÿæ´»ä¸­å®¢è§‚å­˜åœ¨çš„äº‹ç‰©ã€äº‹ç‰©çš„å±æ€§ï¼Œä»¥åŠäº‹ç‰©ä¹‹é—´å…³ç³»çš„ä¸€ç§æ•°æ®æ¨¡å‹ã€‚<strong>åœ¨å¼€å‘åŸºäºæ•°æ®åº“çš„ä¿¡æ¯ç³»ç»Ÿçš„è®¾è®¡é˜¶æ®µï¼Œé€šå¸¸ä½¿ç”¨ERæ¨¡å‹æ¥æè¿°ä¿¡æ¯éœ€æ±‚å’Œä¿¡æ¯ç‰¹æ€§ï¼Œå¸®åŠ©æˆ‘ä»¬ç†æ¸…ä¸šåŠ¡é€»è¾‘ï¼Œä»è€Œè®¾è®¡å‡ºä¼˜ç§€çš„æ•°æ®åº“</strong>ã€‚</p><p>ä»Šå¤©ï¼Œæˆ‘è¿˜æ˜¯å€ŸåŠ©å®é™…æ¡ˆä¾‹ï¼Œå¸¦ä½ ä½¿ç”¨ERæ¨¡å‹åˆ†æä¸€ä¸‹è¶…å¸‚çš„ä¸šåŠ¡æµç¨‹ï¼Œå…·ä½“ç»™ä½ è®²ä¸€è®²æ€ä¹ˆé€šè¿‡ERæ¨¡å‹æ¥ç†æ¸…æ•°æ®åº“è®¾è®¡çš„æ€è·¯ï¼Œä»è€Œè®¾è®¡å‡ºä¼˜ç§€çš„æ•°æ®åº“ã€‚</p><p>åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œå’±ä»¬å¾—å…ˆçŸ¥é“ERæ¨¡å‹é‡Œéƒ½åŒ…æ‹¬å•¥ã€‚</p><h1>ERæ¨¡å‹åŒ…æ‹¬å“ªäº›è¦ç´ ï¼Ÿ</h1><p><strong>åœ¨ERæ¨¡å‹é‡Œé¢ï¼Œæœ‰ä¸‰ä¸ªè¦ç´ ï¼Œåˆ†åˆ«æ˜¯å®ä½“ã€å±æ€§å’Œå…³ç³»</strong>ã€‚</p><ul>\n<li>å®ä½“ï¼Œå¯ä»¥çœ‹åšæ˜¯æ•°æ®å¯¹è±¡ï¼Œå¾€å¾€å¯¹åº”äºç°å®ç”Ÿæ´»ä¸­çš„çœŸå®å­˜åœ¨çš„ä¸ªä½“ã€‚æ¯”å¦‚ï¼Œè¿™ä¸ªè¿é”è¶…å¸‚å°±å¯ä»¥çœ‹åšä¸€ä¸ªå®ä½“ã€‚åœ¨ERæ¨¡å‹ä¸­ï¼Œç”¨çŸ©å½¢æ¥è¡¨ç¤ºã€‚å®ä½“åˆ†ä¸ºä¸¤ç±»ï¼Œåˆ†åˆ«æ˜¯<strong>å¼ºå®ä½“å’Œå¼±å®ä½“ã€‚</strong>å¼ºå®ä½“æ˜¯æŒ‡ä¸ä¾èµ–äºå…¶ä»–å®ä½“çš„å®ä½“ï¼›å¼±å®ä½“æ˜¯æŒ‡å¯¹å¦ä¸€ä¸ªå®ä½“æœ‰å¾ˆå¼ºçš„ä¾èµ–å…³ç³»çš„å®ä½“ã€‚</li>\n<li>å±æ€§ï¼Œåˆ™æ˜¯æŒ‡å®ä½“çš„ç‰¹æ€§ã€‚æ¯”å¦‚è¶…å¸‚çš„åœ°å€ã€è”ç³»ç”µè¯ã€å‘˜å·¥æ•°ç­‰ã€‚åœ¨ERæ¨¡å‹ä¸­ç”¨æ¤­åœ†å½¢æ¥è¡¨ç¤ºã€‚</li>\n<li>å…³ç³»ï¼Œåˆ™æ˜¯æŒ‡å®ä½“ä¹‹é—´çš„è”ç³»ã€‚æ¯”å¦‚è¶…å¸‚æŠŠå•†å“å–ç»™é¡¾å®¢ï¼Œå°±æ˜¯ä¸€ç§è¶…å¸‚ä¸é¡¾å®¢ä¹‹é—´çš„è”ç³»ã€‚åœ¨ERæ¨¡å‹ä¸­ç”¨è±å½¢æ¥è¡¨ç¤ºã€‚</li>\n</ul><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰çš„æ—¶å€™ï¼Œå®ä½“å’Œå±æ€§ä¸å®¹æ˜“åŒºåˆ†ã€‚æ¯”å¦‚åˆšåˆšå•†å“ä¿¡æ¯è¡¨ä¸­çš„å•†å“çš„å•ä½ï¼Œåˆ°åº•æ˜¯å®ä½“è¿˜æ˜¯å±æ€§å‘¢ï¼Ÿå¦‚æœä»è¿›è´§çš„è§’åº¦å‡ºå‘ï¼Œå•ä½æ˜¯å•†å“çš„å±æ€§ï¼Œä½†æ˜¯ä»è¶…å¸‚ä¿¡æ¯ç³»ç»Ÿçš„æ•´ä½“å‡ºå‘ï¼Œå•ä½å¯ä»¥çœ‹åšä¸€ä¸ªå®ä½“ã€‚</p><p><strong>é‚£ä¹ˆï¼Œè¯¥å¦‚ä½•åŒºåˆ†å®ä½“å’Œå±æ€§å‘¢ï¼Ÿ</strong></p><p>æˆ‘ç»™ä½ æä¾›ä¸€ä¸ªåŸåˆ™ï¼šæˆ‘ä»¬è¦ä»ç³»ç»Ÿæ•´ä½“çš„è§’åº¦å‡ºå‘å»çœ‹ï¼Œ<strong>å¯ä»¥ç‹¬ç«‹å­˜åœ¨çš„æ˜¯å®ä½“ï¼Œä¸å¯å†åˆ†çš„æ˜¯å±æ€§</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå±æ€§ä¸éœ€è¦è¿›ä¸€æ­¥æè¿°ï¼Œä¸èƒ½åŒ…å«å…¶ä»–å±æ€§ã€‚</p><p>åœ¨ERæ¨¡å‹çš„3ä¸ªè¦ç´ ä¸­ï¼Œå…³ç³»åˆå¯ä»¥åˆ†ä¸º3ç§ç±»å‹ï¼Œåˆ†åˆ«æ˜¯<strong>1å¯¹1ã€1å¯¹å¤šå’Œå¤šå¯¹å¤š</strong>ã€‚</p><ol>\n<li>1å¯¹1ï¼šæŒ‡å®ä½“ä¹‹é—´çš„å…³ç³»æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œæ¯”å¦‚ä¸ªäººä¸èº«ä»½è¯ä¿¡æ¯ä¹‹é—´çš„å…³ç³»å°±æ˜¯1å¯¹1çš„å…³ç³»ã€‚ä¸€ä¸ªäººåªèƒ½æœ‰ä¸€ä¸ªèº«ä»½è¯ä¿¡æ¯ï¼Œä¸€ä¸ªèº«ä»½è¯ä¿¡æ¯ä¹Ÿåªå±äºä¸€ä¸ªäººã€‚</li>\n<li>1å¯¹å¤šï¼šæŒ‡ä¸€è¾¹çš„å®ä½“é€šè¿‡å…³ç³»ï¼Œå¯ä»¥å¯¹åº”å¤šä¸ªå¦å¤–ä¸€è¾¹çš„å®ä½“ã€‚ç›¸åï¼Œå¦å¤–ä¸€è¾¹çš„å®ä½“é€šè¿‡è¿™ä¸ªå…³ç³»ï¼Œåˆ™åªèƒ½å¯¹åº”å”¯ä¸€çš„ä¸€è¾¹çš„å®ä½“ã€‚æ¯”å¦‚è¶…å¸‚ä¸è¶…å¸‚é‡Œçš„æ”¶æ¬¾æœºä¹‹é—´çš„ä»å±å…³ç³»ï¼Œè¶…å¸‚å¯ä»¥æ‹¥æœ‰å¤šå°æ”¶æ¬¾æœºï¼Œä½†æ˜¯æ¯ä¸€æ¡æ”¶æ¬¾æœºåªèƒ½ä»å±äºä¸€ä¸ªè¶…å¸‚ã€‚</li>\n<li>å¤šå¯¹å¤šï¼šæŒ‡å…³ç³»ä¸¤è¾¹çš„å®ä½“éƒ½å¯ä»¥é€šè¿‡å…³ç³»å¯¹åº”å¤šä¸ªå¯¹æ–¹çš„å®ä½“ã€‚æ¯”å¦‚åœ¨è¿›è´§æ¨¡å—ä¸­ï¼Œä¾›è´§å•†ä¸è¶…å¸‚ä¹‹é—´çš„å…³ç³»å°±æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ï¼Œä¸€ä¸ªä¾›è´§å•†å¯ä»¥ç»™å¤šä¸ªè¶…å¸‚ä¾›è´§ï¼Œä¸€ä¸ªè¶…å¸‚ä¹Ÿå¯ä»¥ä»å¤šä¸ªä¾›è´§å•†é‚£é‡Œé‡‡è´­å•†å“ã€‚</li>\n</ol><p>çŸ¥é“äº†è¿™äº›è¦ç´ ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»™è¶…å¸‚ä¸šåŠ¡åˆ›å»ºERæ¨¡å‹äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/b4/ba/b4d18c4ac6419de7c2acd69ae9b25bba.jpg?wh=2343*423\" alt=\"\"></p><p>æˆ‘æ¥ç®€å•è§£é‡Šä¸€ä¸‹è¿™ä¸ªå›¾ã€‚</p><p>åœ¨è¿™ä¸ªå›¾ä¸­ï¼Œä¾›è´§å•†å’Œè¶…å¸‚ä¹‹é—´çš„ä¾›è´§å…³ç³»ï¼Œä¸¤è¾¹çš„æ•°å­—éƒ½ä¸æ˜¯1ï¼Œè¡¨ç¤ºå¤šå¯¹å¤šçš„å…³ç³»ã€‚åŒæ ·ï¼Œè¶…å¸‚å’Œé¡¾å®¢ä¹‹é—´çš„é›¶å”®å…³ç³»ï¼Œä¹Ÿæ˜¯å¤šå¯¹å¤šçš„å…³ç³»ã€‚</p><p>è¿™ä¸ªERæ¨¡å‹ï¼ŒåŒ…æ‹¬äº†3ä¸ªå®ä½“ä¹‹é—´çš„2ç§å…³ç³»ï¼š</p><ol>\n<li>è¶…å¸‚ä»ä¾›è´§å•†é‚£é‡Œé‡‡è´­å•†å“ï¼›</li>\n<li>è¶…å¸‚æŠŠå•†å“å–ç»™é¡¾å®¢ã€‚</li>\n</ol><p>æœ‰äº†è¿™ä¸ªERæ¨¡å‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä»æ•´ä½“ä¸Šç†è§£è¶…å¸‚çš„ä¸šåŠ¡äº†ã€‚ä½†æ˜¯ï¼Œè¿™é‡Œæ²¡æœ‰åŒ…å«å±æ€§ï¼Œè¿™æ ·å°±æ— æ³•ä½“ç°å®ä½“å’Œå…³ç³»çš„å…·ä½“ç‰¹å¾ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå±æ€§åŠ ä¸Šï¼Œç”¨æ¤­åœ†æ¥è¡¨ç¤ºï¼Œè¿™æ ·æˆ‘ä»¬å¾—åˆ°çš„ERæ¨¡å‹å°±æ›´åŠ å®Œæ•´äº†ã€‚</p><h1>ERæ¨¡å‹çš„ç»†åŒ–</h1><p>åˆšåˆšçš„ERæ¨¡å‹å±•ç¤ºäº†è¶…å¸‚ä¸šåŠ¡çš„æ¡†æ¶ï¼Œä½†æ˜¯åªåŒ…æ‹¬äº†ä¾›è´§å•†ã€è¶…å¸‚å’Œé¡¾å®¢è¿™ä¸‰ä¸ªå®ä½“ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Œè¿˜ä¸èƒ½å¯¹åº”åˆ°å…·ä½“çš„è¡¨ï¼Œä»¥åŠè¡¨ä¸è¡¨ä¹‹é—´çš„å…³è”ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦è¿›ä¸€æ­¥å»è®¾è®¡ä¸€ä¸‹è¿™ä¸ªERæ¨¡å‹çš„å„ä¸ªå±€éƒ¨ï¼Œä¹Ÿå°±æ˜¯ç»†åŒ–ä¸‹è¶…å¸‚çš„å…·ä½“ä¸šåŠ¡æµç¨‹ï¼Œç„¶åæŠŠå®ƒä»¬ç»¼åˆåˆ°ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„ERæ¨¡å‹ã€‚è¿™æ ·å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†æ¸…æ•°æ®åº“çš„è®¾è®¡æ€è·¯ã€‚</p><p>æˆ‘ä»¬åˆšæ‰çš„è¶…å¸‚ä¸šåŠ¡æ¨¡å‹ï¼ŒåŒ…æ‹¬äº†ä¸¤ä¸ªæ¨¡å—ï¼Œåˆ†åˆ«æ˜¯è¿›è´§æ¨¡å—å’Œé”€å”®æ¨¡å—ã€‚ä¸‹é¢æˆ‘ä»¬åˆ†åˆ«å¯¹è¿™2ä¸ªæ¨¡å—è¿›è¡Œç»†åŒ–ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¶…å¸‚ä¸šåŠ¡ä¸­çš„è¿›è´§æ¨¡å—çš„ERæ¨¡å‹ï¼Œæ•´ç†ä¸€ä¸‹å…¶ä¸­åŒ…å«å“ªäº›å®ä½“ã€å“ªäº›å…³ç³»å’Œå“ªäº›å±æ€§ã€‚</p><p>åœ¨æˆ‘ä»¬çš„è¿›è´§æ¨¡å—é‡Œï¼Œæœ‰5ä¸ªå®ä½“ï¼š</p><ol>\n<li>ä¾›è´§å•†</li>\n<li>å•†å“</li>\n<li>é—¨åº—</li>\n<li>ä»“åº“</li>\n<li>å‘˜å·¥</li>\n</ol><p>å…¶ä¸­ï¼Œä¾›è´§å•†ã€å•†å“å’Œé—¨åº—æ˜¯å¼ºå®ä½“ï¼Œå› ä¸ºå®ƒä»¬ä¸éœ€è¦ä¾èµ–å…¶ä»–ä»»ä½•å®ä½“ã€‚è€Œä»“åº“å’Œå‘˜å·¥æ˜¯å¼±å®ä½“ï¼Œå› ä¸ºå®ƒä»¬è™½ç„¶éƒ½å¯ä»¥ç‹¬ç«‹å­˜åœ¨ï¼Œä½†æ˜¯å®ƒä»¬éƒ½ä¾èµ–é—¨åº—è¿™ä¸ªå®ä½“ï¼Œå› æ­¤éƒ½æ˜¯å¼±å®ä½“ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†åˆ†æä¸€ä¸‹å„ä¸ªå®ä½“éƒ½æœ‰å“ªäº›å±æ€§ã€‚</p><ul>\n<li>ä¾›è´§å•†ï¼šåç§°ã€åœ°å€ã€ç”µè¯ã€è”ç³»äººã€‚</li>\n<li>å•†å“ï¼šæ¡ç ã€åç§°ã€è§„æ ¼ã€å•ä½ã€ä»·æ ¼ã€‚</li>\n<li>é—¨åº—ï¼šç¼–å·ã€åœ°å€ã€ç”µè¯ã€è”ç³»äººã€‚</li>\n<li>ä»“åº“ï¼šç¼–å·ã€åç§°ã€‚</li>\n<li>å‘˜å·¥ï¼šå·¥å·ã€å§“åã€ä½å€ã€ç”µè¯ã€èº«ä»½è¯å·ã€èŒä½ã€‚</li>\n</ul><p>è¿™æ ·ç»†åˆ†ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡æ–°è®¾è®¡è¿›è´§æ¨¡å—äº†ï¼ŒERæ¨¡å‹å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/11/bb/113e674350171792fd7ceb3cd3bc41bb.jpg?wh=3216*1371\" alt=\"\"></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œæˆ‘æ˜¯ç”¨ç²—æ¡†çŸ©å½¢è¡¨ç¤ºå¼±å®ä½“ï¼Œç”¨ç²—æ¡†è±å½¢ï¼Œè¡¨ç¤ºå¼±å®ä½“ä¸å®ƒä¾èµ–çš„å¼ºå®ä½“ä¹‹é—´çš„å…³ç³»ã€‚</p><p>ç¬¬äºŒæ­¥ï¼Œæˆ‘ä»¬å†åˆ†æä¸€ä¸‹é›¶å”®æ¨¡å—ã€‚</p><p>ç»è¿‡åˆ†æï¼Œæˆ‘ä»¬å‘ç°ï¼Œåœ¨è¶…å¸‚çš„ä¸šåŠ¡æµç¨‹ä¸­ï¼Œé›¶å”®ä¸šåŠ¡åŒ…æ‹¬æ™®é€šé›¶å”®å’Œä¼šå‘˜é›¶å”®ä¸¤ç§æ¨¡å¼ã€‚æ™®é€šé›¶å”®åŒ…å«çš„å®ä½“ï¼ŒåŒ…æ‹¬é—¨åº—ã€å•†å“å’Œæ”¶é“¶æ¬¾å°ï¼›ä¼šå‘˜é›¶å”®åŒ…å«çš„å®ä½“ï¼ŒåŒ…æ‹¬é—¨åº—ã€å•†å“ã€ä¼šå‘˜å’Œæ”¶é“¶æ¬¾å°ã€‚</p><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æç‚¼å‡ºé›¶å”®ä¸šåŠ¡æ¨¡å—ä¸­çš„å®ä½“ï¼š</p><ol>\n<li>å•†å“</li>\n<li>é—¨åº—</li>\n<li>ä¼šå‘˜</li>\n<li>æ”¶é“¶æ¬¾å°</li>\n</ol><p>å…¶ä¸­ï¼Œå•†å“å’Œé—¨åº—ä¸ä¾èµ–äºä»»ä½•å…¶ä»–å®ä½“ï¼Œæ‰€ä»¥æ˜¯å¼ºå®ä½“ï¼›ä¼šå‘˜å’Œæ”¶é“¶æ¬¾å°éƒ½ä¾èµ–äºé—¨åº—ï¼Œæ‰€ä»¥æ˜¯å¼±å®ä½“ã€‚</p><p>æœ‰äº†å®ä½“ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç¡®å®šå®ä½“çš„å±æ€§äº†ã€‚</p><ul>\n<li>å•†å“ï¼šæ¡ç ã€åç§°ã€è§„æ ¼ã€å•ä½ã€ä»·æ ¼ã€‚</li>\n<li>ä¼šå‘˜ï¼šå¡å·ã€å‘å¡é—¨åº—ã€åç§°ã€ç”µè¯ã€èº«ä»½è¯ã€åœ°å€ã€ç§¯åˆ†ã€å‚¨å€¼ã€‚</li>\n<li>é—¨åº—ï¼šç¼–å·ã€åœ°å€ã€ç”µè¯ã€è”ç³»äººã€‚</li>\n<li>æ”¶é“¶æ¬¾å°ï¼šç¼–å·ã€åç§°ã€‚</li>\n</ul><p>ç°åœ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡æ–°è®¾è®¡é›¶å”®æ¨¡å—çš„ERæ¨¡å‹äº†ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/69/17/69ce5eb80e09b77ce13c5ea5bfac2b17.jpg?wh=2196*1566\" alt=\"\"></p><p>ç°åœ¨ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸¤ä¸ªå›¾æ•´åˆåˆ°ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„ERæ¨¡å‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/e8/85/e8684d383db36a08e137dc2b8f2fb685.jpg?wh=3273*1617\" alt=\"\"></p><h1>å¦‚ä½•æŠŠERæ¨¡å‹å›¾è½¬æ¢æˆæ•°æ®è¡¨ï¼Ÿ</h1><p>é€šè¿‡ç»˜åˆ¶ERæ¨¡å‹ï¼Œæˆ‘ä»¬å·²ç»ç†æ¸…äº†ä¸šåŠ¡é€»è¾‘ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬å°±è¦è¿›è¡Œéå¸¸é‡è¦çš„ä¸€æ­¥äº†ï¼š<strong>æŠŠç»˜åˆ¶å¥½çš„ERæ¨¡å‹ï¼Œè½¬æ¢æˆå…·ä½“çš„æ•°æ®è¡¨ã€‚</strong></p><p><strong>æˆ‘æ¥ä»‹ç»ä¸‹è½¬æ¢çš„åŸåˆ™</strong>ã€‚</p><ol>\n<li>ä¸€ä¸ªå®ä½“é€šå¸¸è½¬æ¢æˆä¸€ä¸ªæ•°æ®è¡¨ï¼›</li>\n<li>ä¸€ä¸ªå¤šå¯¹å¤šçš„å…³ç³»ï¼Œé€šå¸¸ä¹Ÿè½¬æ¢æˆä¸€ä¸ªæ•°æ®è¡¨ï¼›</li>\n<li>ä¸€ä¸ª1å¯¹1ï¼Œæˆ–è€…1å¯¹å¤šçš„å…³ç³»ï¼Œå¾€å¾€é€šè¿‡è¡¨çš„å¤–é”®æ¥è¡¨è¾¾ï¼Œè€Œä¸æ˜¯è®¾è®¡ä¸€ä¸ªæ–°çš„æ•°æ®è¡¨ï¼›</li>\n<li>å±æ€§è½¬æ¢æˆè¡¨çš„å­—æ®µã€‚</li>\n</ol><p>å¥½äº†ï¼Œä¸‹é¢æˆ‘å°±ç»“åˆå‰é¢çš„è¡¨æ ¼ï¼Œç»™ä½ å…·ä½“è®²è§£ä¸€ä¸‹æ€ä¹ˆè¿ç”¨è¿™äº›è½¬æ¢çš„åŸåˆ™ï¼ŒæŠŠERæ¨¡å‹è½¬æ¢æˆå…·ä½“çš„æ•°æ®è¡¨ï¼Œä»è€ŒæŠŠæŠ½è±¡å‡ºæ¥çš„æ•°æ®æ¨¡å‹ï¼Œè½å®åˆ°å…·ä½“çš„æ•°æ®åº“è®¾è®¡å½“ä¸­ã€‚</p><h2>ä¸€ä¸ªå®ä½“è½¬æ¢æˆä¸€ä¸ªæ•°æ®è¡¨</h2><p>å…ˆæ¥çœ‹ä¸€ä¸‹å¼ºå®ä½“è½¬æ¢æˆæ•°æ®è¡¨ã€‚</p><p>ä¾›è´§å•†å®ä½“è½¬æ¢æˆä¾›è´§å•†è¡¨ï¼ˆdemo.supplierï¼‰çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>mysql&gt; CREATE TABLE demo.supplier\n-&gt; (\n-&gt; -- æˆ‘ä»¬ç»™å®ƒæ·»åŠ ä¸€ä¸ªä¸ä¸šåŠ¡æ— å…³çš„å­—æ®µâ€œsupplieridâ€ä¸ºä¸»é”®ï¼Œå¹¶ä¸”è®¾ç½®è‡ªå¢çº¦æŸã€‚\n-&gt; supplierid INT PRIMARY KEY AUTO_INCREMENT,\n-&gt; suppliername TEXT,\n-&gt; address TEXT,\n-&gt; phone TEXT\n-&gt; );\nQuery OK, 0 rows affected (0.06 sec)\n</code></pre><p>å•†å“å®ä½“è½¬æ¢æˆå•†å“è¡¨ï¼ˆdemo.goodsmasterï¼‰ï¼š</p><pre><code>mysql&gt; CREATE TABLE demo.goodsmaster\n-&gt; (\n-&gt; --æˆ‘ä»¬ç»™å•†å“ä¿¡æ¯è¡¨æ·»åŠ ä¸€ä¸ªä¸ä¸šåŠ¡æ— å…³çš„å­—æ®µâ€œitemnumberâ€ä¸ºä¸»é”®ï¼Œé‡‡ç”¨æ‰‹åŠ¨èµ‹å€¼çš„æ–¹å¼ï¼ŒåŸå› æ˜¯å¯èƒ½å­˜åœ¨å¤šä¸ªé—¨åº—å½•å…¥æ–°å“ï¼Œå¯¼è‡´å†²çªçš„æƒ…å†µ\n-&gt; itemnumber INT PRIMARY KEY,\n-&gt; barcode TEXT,\n-&gt; goodsname TEXT,\n-&gt; specification TEXT,\n-&gt; unit TEXT,\n-&gt; salesprice DECIMAL(10,2)\n-&gt; );\nQuery OK, 0 rows affected (0.07 sec)\n</code></pre><p>é—¨åº—å®ä½“è½¬æ¢æˆé—¨åº—è¡¨ï¼ˆdemo.branchï¼‰ï¼š</p><pre><code>mysql&gt; CREATE TABLE demo.branch\n-&gt; (\n-&gt; -- å¢åŠ ä¸€ä¸ªä¸ä¸šåŠ¡æ— å…³çš„å­—æ®µä¸ºä¸»é”®ï¼Œå¹¶ä¸”è®¾ç½®è‡ªå¢çº¦æŸ\n-&gt; branchid INT PRIMARY KEY AUTO_INCREMENT,\n-&gt; branchno TEXT,\n-&gt; branchname TEXT,\n-&gt; address TEXT,\n-&gt; phone TEXT,\n-&gt; contacter TEXT\n-&gt; );\nQuery OK, 0 rows affected (0.06 sec)\n</code></pre><p>ä¸‹é¢æˆ‘ä»¬å†æŠŠå¼±å®ä½“è½¬æ¢æˆæ•°æ®è¡¨ã€‚</p><p>ä»“åº“è½¬æ¢æˆä»“åº“è¡¨ï¼ˆdemo.stockï¼‰ï¼š</p><pre><code>mysql&gt; CREATE TABLE demo.stock\n-&gt; (\n-&gt; --æ·»åŠ ä¸ä¸šåŠ¡æ— å…³çš„è‡ªå¢çº¦æŸå­—æ®µä¸ºä¸»é”®\n-&gt; stockid INT PRIMARY KEY AUTO_INCREMENT,\n-&gt; -- ä»“åº“æ˜¯å¼±å®ä½“ï¼Œä¾èµ–äºå¼ºå®ä½“é—¨åº—è¡¨ï¼Œæ‰€ä»¥è¦æŠŠé—¨åº—è¡¨çš„ä¸»é”®å­—æ®µåŒ…æ‹¬è¿›æ¥ï¼Œä½œä¸ºä¸é—¨åº—è¡¨å…³è”çš„å¤–é”®\n-&gt; branchid INT NOT NULL,\n-&gt; stockno TEXT NOT NULL,\n-&gt; stockname TEXT NOT NULL,\n-&gt; -- è®¾ç½®å¤–é”®çº¦æŸï¼Œä¸é—¨åº—è¡¨å…³è”\n-&gt; CONSTRAINT fk_stock_branch FOREIGN KEY (branchid) REFERENCES branch (branchid)\n-&gt; );\nQuery OK, 0 rows affected (0.07 sec)\n</code></pre><p>æ”¶é“¶æ¬¾å°å®ä½“è½¬æ¢æˆæ”¶é“¶æ¬¾å°è¡¨ï¼ˆdemo.cashierï¼‰ï¼š</p><pre><code>mysql&gt; CREATE TABLE demo.cashier\n-&gt; (\n-&gt; -- æ·»åŠ ä¸ä¸šåŠ¡æ— å…³çš„è‡ªå¢å­—æ®µä¸ºä¸»é”®\n-&gt; cashierid INT PRIMARY KEY AUTO_INCREMENT,\n-&gt; -- æ”¶é“¶æ¬¾å°æ˜¯å¼±å®ä½“ï¼Œä¾èµ–äºå¼ºå®ä½“é—¨åº—è¡¨ï¼Œæ‰€ä»¥è¦æŠŠé—¨åº—è¡¨çš„ä¸»é”®å­—æ®µåŒ…æ‹¬è¿›æ¥ï¼Œæ‰€ä¸ºä¸é—¨åº—è¡¨å…³è”çš„å¤–é”®\n-&gt; branchid INT NOT NULL,\n-&gt; cashierno TEXT NOT NULL,\n-&gt; cashiername TEXT NOT NULL,\n-&gt; -- è®¾ç½®å¤–é”®çº¦æŸï¼Œä¸é—¨åº—è¡¨å…³è”\n-&gt; CONSTRAINT fk_cashier_branch FOREIGN KEY (branchid) REFERENCES branch (branchid)\n-&gt; );\nQuery OK, 0 rows affected (0.07 sec)\n</code></pre><p>å‘˜å·¥å®ä½“è½¬æ¢æˆå‘˜å·¥è¡¨ï¼ˆdemo.operatorï¼‰ï¼š</p><pre><code>mysql&gt; CREATE TABLE demo.operator\n-&gt; (\n-&gt; -- æ·»åŠ ä¸ä¸šåŠ¡æ— å…³çš„è‡ªå¢å­—æ®µä¸ºä¸»é”®\n-&gt; operatorid INT PRIMARY KEY AUTO_INCREMENT,\n-&gt; -- å‘˜å·¥æ˜¯å¼±å®ä½“ï¼Œä¾èµ–äºå¼ºå®ä½“é—¨åº—è¡¨ï¼Œæ‰€ä»¥è¦æŠŠé—¨åº—è¡¨çš„ä¸»é”®å­—æ®µåŒ…æ‹¬è¿›æ¥ï¼Œæ‰€ä¸ºä¸é—¨åº—è¡¨å…³è”çš„å¤–é”®\n-&gt; branchid INT NOT NULL,\n-&gt; workno TEXT NOT NULL,\n-&gt; operatorname TEXT NOT NULL,\n-&gt; phone TEXT,\n-&gt; address TEXT,\n-&gt; pid TEXT,\n-&gt; duty TEXT,\n-&gt; -- è®¾ç½®å¤–é”®çº¦æŸï¼Œä¸é—¨åº—è¡¨å…³è”\n-&gt; CONSTRAINT fk_operator_branch FOREIGN KEY (branchid) REFERENCES branch (branchid)\n-&gt; );\nQuery OK, 0 rows affected (0.11 sec)\n</code></pre><p>ä¼šå‘˜å®ä½“è½¬æ¢æˆä¼šå‘˜è¡¨ï¼ˆdemo.membermasterï¼‰ï¼š</p><pre><code>mysql&gt; CREATE TABLE demo.membermaster\n-&gt; (\n-&gt; -- æ·»åŠ ä¸ä¸šåŠ¡æ— å…³çš„è‡ªå¢å­—æ®µä¸ºä¸»é”®\n-&gt; memberid INT PRIMARY KEY,\n-&gt; -- ä¼šå‘˜æ˜¯å¼±å®ä½“ï¼Œä¾èµ–äºå¼ºå®ä½“é—¨åº—è¡¨ï¼Œæ‰€ä»¥è¦æŠŠé—¨åº—è¡¨çš„ä¸»é”®å­—æ®µåŒ…æ‹¬è¿›æ¥ï¼Œæ‰€ä¸ºä¸é—¨åº—è¡¨å…³è”çš„å¤–é”®\n-&gt; branchid INT NOT NULL,\n-&gt; cardno TEXT NOT NULL,\n-&gt; membername TEXT,\n-&gt; address TEXT,\n-&gt; phone TEXT,\n-&gt; pid TEXT,\n-&gt; -- è®¾ç½®é»˜è®¤çº¦æŸï¼Œç§¯åˆ†é»˜è®¤ä¸º0\n-&gt; memberpoints DECIMAL(10,1) NOT NULL DEFAULT 0,\n-&gt; -- è®¾ç½®é»˜è®¤çº¦æŸï¼Œå‚¨å€¼é»˜è®¤ä¸º0\n-&gt; memberdeposit DECIMAL(10,2) NOT NULL DEFAULT 0,\n-&gt; -- è®¾ç½®å¤–é”®çº¦æŸï¼Œä¸é—¨åº—è¡¨å…³è”\n-&gt; CONSTRAINT fk_member_branch FOREIGN KEY (branchid) REFERENCES branch (branchid)\n-&gt; );\nQuery OK, 0 rows affected (0.07 sec)\n</code></pre><h2>ä¸€ä¸ªå¤šå¯¹å¤šçš„å…³ç³»è½¬æ¢æˆä¸€ä¸ªæ•°æ®è¡¨</h2><p>è¿™ä¸ªERæ¨¡å‹ä¸­çš„å¤šå¯¹å¤šçš„å…³ç³»æœ‰2ä¸ªï¼Œåˆ†åˆ«æ˜¯é›¶å”®å’Œè¿›è´§ã€‚æˆ‘ä»¬åˆ†åˆ«è®¾è®¡ä¸€ä¸ªç‹¬ç«‹çš„è¡¨æ¥è¡¨ç¤ºï¼Œè¿™ç§è¡¨ä¸€èˆ¬ç§°ä¸ºä¸­é—´è¡¨ã€‚</p><p>æˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸€ä¸ªç‹¬ç«‹çš„è¿›è´§å•è¡¨ï¼Œæ¥ä»£è¡¨è¿›è´§å…³ç³»ã€‚è¿™ä¸ªè¡¨å…³è”åˆ°4ä¸ªå®ä½“ï¼Œåˆ†åˆ«æ˜¯ä¾›è´§å•†ã€å•†å“ã€ä»“åº“ã€å‘˜å·¥ï¼Œæ‰€ä»¥ï¼Œè¡¨ä¸­å¿…é¡»è¦åŒ…æ‹¬è¿™4ä¸ªå®ä½“è½¬æ¢æˆçš„è¡¨çš„ä¸»é”®ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜è¦åŒ…æ‹¬è¿›è´§å…³ç³»è‡ªæœ‰çš„å±æ€§ï¼šè¿›è´§æ—¶é—´ã€ä¾›è´§æ•°é‡å’Œè¿›è´§ä»·æ ¼ã€‚</p><p>æŒ‰ç…§æ•°æ®è¡¨è®¾è®¡çš„ç¬¬ä¸‰èŒƒå¼çš„è¦æ±‚å’Œä¸šåŠ¡ä¼˜å…ˆçš„åŸåˆ™ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªè¿›è´§å•è¡¨æ‹†åˆ†æˆ2ä¸ªè¡¨ï¼Œåˆ†åˆ«æ˜¯è¿›è´§å•å¤´è¡¨å’Œè¿›è´§å•æ˜ç»†è¡¨ï¼š</p><pre><code>CREATE TABLE demo.importhead\n(\nimportid INT PRIMARY KEY,   -- æ·»åŠ ä¸ä¸šåŠ¡æ— å…³çš„å­—æ®µä¸ºä¸»é”® \nlistnumber TEXT NOT NULL,\nsupplierid INT NOT NULL,    -- ä¾›è´§å•†è¡¨çš„ä¸»é”®ï¼Œåæ˜ äº†å‚ä¸è¿›è´§å…³ç³»çš„ä¾›è´§å•†ä¿¡æ¯\nstockid INT NOT NULL,       -- ä»“åº“è¡¨çš„ä¸»é”®ï¼Œåæ˜ äº†å‚ä¸è¿›è´§å…³ç³»çš„ä»“åº“ä¿¡æ¯\noperatorid INT NOT NULL,    -- å‘˜å·¥è¡¨çš„ä¸»é”®ï¼Œåæ˜ äº†å‚ä¸è¿›è´§å…³ç³»çš„å‘˜å·¥ä¿¡æ¯\nrecordingdate DATETIME NOT NULL,\ntotalquantity DECIMAL(10,3) NOT NULL DEFAULT 0,\ntotalvalue DECIMAL(10,3) NOT NULL DEFAULT 0,\nCONSTRAINT fk_importhead_supplier FOREIGN KEY (supplierid) REFERENCES supplier (supplierid),\nCONSTRAINT fk_transactionhead_member FOREIGN KEY (memberid) REFERENCES membermaster (memberid),\nCONSTRAINT fk_importhead_operator FOREIGN KEY (operatorid) REFERENCES operator (operatorid)\n);\nCREATE TABLE demo.importdetails\n(\nimportid INT,\nitemnumber INT,              -- å•†å“è¡¨çš„ä¸»é”®ï¼Œåæ˜ äº†å‚ä¸è¿›è´§å…³ç³»çš„å•†å“ä¿¡æ¯\nimportquantity DECIMAL(10,3) NOT NULL DEFAULT 0,\nimportprice DECIMAL(10,2) NOT NULL DEFAULT 0,\nimportvalue DECIMAL(10,2) NOT NULL DEFAULT 0,\nPRIMARY KEY (importid,itemnumber),\nCONSTRAINT fk_importdetails_goodsmaster FOREIGN KEY (itemnumber) REFERENCES goodsmaster (itemnumber)\n);\n \n</code></pre><p>å¯¹äºé›¶å”®å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸€å¼ æµæ°´å•æ¥è¡¨ç¤ºã€‚</p><p>è¿™ä¸ªè¡¨å…³è”4ä¸ªå®ä½“ï¼Œåˆ†åˆ«æ˜¯æ”¶é“¶æ¬¾å°ã€å•†å“ã€ä¼šå‘˜å’Œå‘˜å·¥ã€‚æ‰€ä»¥ï¼Œè¡¨ä¸­ä¹Ÿå¿…é¡»è¦åŒ…æ‹¬è¿™4ä¸ªå®ä½“è½¬æ¢æˆçš„è¡¨çš„ä¸»é”®ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¡¨ä¸­è¿˜è¦åŒ…æ‹¬é›¶å”®å…³ç³»è‡ªæœ‰çš„å±æ€§ï¼šäº¤æ˜“æ—¶é—´ã€æ•°é‡ã€ä»·æ ¼ç­‰ã€‚</p><p>æŒ‰ç…§æ•°æ®è¡¨è®¾è®¡çš„ç¬¬ä¸‰èŒƒå¼çš„è¦æ±‚ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªæµæ°´å•è¡¨æ‹†åˆ†æˆ2ä¸ªè¡¨ï¼Œåˆ†åˆ«æ˜¯æµæ°´å•å¤´è¡¨å’Œæµæ°´å•æ˜ç»†è¡¨ï¼š</p><pre><code>CREATE TABLE demo.transactionhead\n(\ntransactionid INT PRIMARY KEY,   -- æ·»åŠ ä¸ä¸šåŠ¡æ— å…³çš„å­—æ®µä¸ºä¸»é”®\ntransactionno TEXT NOT NULL,\ncashierid INT NOT NULL,          -- æ”¶æ¬¾æœºè¡¨çš„ä¸»é”®ï¼Œåæ˜ äº†å‚ä¸é›¶å”®å…³ç³»çš„æ”¶æ¬¾æœºä¿¡æ¯\nmemberid INT,                    -- ä¼šå‘˜è¡¨çš„ä¸»é”®ï¼Œåæ˜ äº†å‚ä¸é›¶å”®å…³ç³»çš„ä¼šå‘˜çš„ä¿¡æ¯\noperatorid INT NOT NULL,         -- å‘˜å·¥è¡¨çš„ä¸»é”®ï¼Œåæ˜ äº†å‚ä¸é›¶å”®å…³ç³»çš„å‘˜å·¥ä¿¡æ¯\ntransdate DATETIME NOT NULL,\nCONSTRAINT fk_transactionhead_cashier FOREIGN KEY (cashierid) REFERENCES cashier (cashierid),\nCONSTRAINT fk_transactionhead_member FOREIGN KEY (memberid) REFERENCES member (memberid),\nCONSTRAINT fk_transactionhead_operator FOREIGN KEY (operatorid) REFERENCES operator (operatorid)\n);\nCREATE TABLE demo.transactiondetails\n(\ntransactionid INT,\nitemnumber INT,                 -- å•†å“è¡¨çš„ä¸»é”®ï¼Œåæ˜ äº†å‚ä¸é›¶å”®å…³ç³»çš„å•†å“ä¿¡æ¯\nquantity DECIMAL(10,3) NOT NULL DEFAULT 0,\nprice DECIMAL(10,2) NOT NULL DEFAULT 0,\nsalesvalue DECIMAL(10,2) NOT NULL DEFAULT 0,\nPRIMARY KEY (transactionid,itemnumber),\nCONSTRAINT fk_transactiondetails_goodsmaster FOREIGN KEY (itemnumber) REFERENCES goodsmaster (itemnumber)\n);\n \n</code></pre><h2>é€šè¿‡å¤–é”®æ¥è¡¨è¾¾1å¯¹å¤šçš„å…³ç³»</h2><p>åœ¨ä¸Šé¢çš„è¡¨çš„è®¾è®¡ä¸­ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ç”¨å¤–é”®æ¥è¡¨è¾¾1å¯¹å¤šçš„å…³ç³»ã€‚æ¯”å¦‚ï¼šåœ¨æµæ°´å•å¤´è¡¨ä¸­ï¼Œæˆ‘ä»¬åˆ†åˆ«æŠŠcashieridã€memberidå’Œoperatoridå®šä¹‰æˆäº†å¤–é”®ï¼š</p><pre><code>CONSTRAINT fk_transactionhead_cashier FOREIGN KEY (cashierid) REFERENCES cashier (cashierid),\nCONSTRAINT fk_transactionhead_member FOREIGN KEY (memberid) REFERENCES membermaster (memberid),\nCONSTRAINT fk_transactionhead_operator FOREIGN KEY (operatorid) REFERENCES operator (operatorid)\n</code></pre><p>åœ¨æµæ°´å•æ˜ç»†è¡¨ä¸­ï¼Œæˆ‘ä»¬æŠŠå•†å“ç¼–å·å®šä¹‰æˆäº†å¤–é”®ï¼š</p><pre><code>CONSTRAINT fk_transactiondetails_goodsmaster FOREIGN KEY (itemnumber) REFERENCES goodsmaster (itemnumber)\n</code></pre><h2>æŠŠå±æ€§è½¬æ¢æˆè¡¨çš„å­—æ®µ</h2><p>åœ¨åˆšåˆšçš„è®¾è®¡ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå®Œæˆäº†æŠŠå±æ€§éƒ½è½¬æ¢æˆäº†è¡¨çš„å­—æ®µï¼Œæ¯”å¦‚æŠŠå•†å“å±æ€§ï¼ˆåŒ…æ‹¬æ¡ç ã€åç§°ã€è§„æ ¼ã€å•ä½ã€ä»·æ ¼ï¼‰è½¬æ¢æˆäº†å•†å“ä¿¡æ¯è¡¨ä¸­çš„å­—æ®µï¼š</p><pre><code>mysql&gt; CREATE TABLE demo.goodsmaster\n-&gt; (\n-&gt; --æˆ‘ä»¬ç»™å•†å“ä¿¡æ¯è¡¨æ·»åŠ ä¸€ä¸ªä¸ä¸šåŠ¡æ— å…³çš„å­—æ®µâ€œitemnumberâ€ä¸ºä¸»é”®ï¼Œé‡‡ç”¨æ‰‹åŠ¨èµ‹å€¼çš„æ–¹å¼ï¼ŒåŸå› æ˜¯å¯èƒ½å­˜åœ¨å¤šä¸ªé—¨åº—å½•å…¥æ–°å“ï¼Œå¯¼è‡´å†²çªçš„æƒ…å†µ\n-&gt; itemnumber INT PRIMARY KEY,\n-&gt; barcode TEXT,                -- æ¡ç å±æ€§\n-&gt; goodsname TEXT,              -- åç§°å±æ€§\n-&gt; specification TEXT,          -- è§„æ ¼å±æ€§\n-&gt; unit TEXT,                   -- å•ä½å±æ€§\n-&gt; salesprice DECIMAL(10,2)     -- ä»·æ ¼å±æ€§\n-&gt; );\nQuery OK, 0 rows affected (0.07 sec)\n</code></pre><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ERæ¨¡å‹åˆ°MySQLæ•°æ®è¡¨çš„è½¬æ¢ã€‚</p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬é€šè¿‡åˆ›å»ºè¶…å¸‚é¡¹ç›®ä¸šåŠ¡æµç¨‹çš„ERæ¨¡å‹ï¼Œå†æŠŠERæ¨¡å‹è½¬æ¢æˆå…·ä½“çš„æ•°æ®è¡¨çš„è¿‡ç¨‹ï¼Œå®Œæˆäº†åˆ©ç”¨ERæ¨¡å‹è®¾è®¡è¶…å¸‚é¡¹ç›®æ•°æ®åº“çš„å·¥ä½œã€‚</p><p>å…¶å®ï¼Œä»»ä½•ä¸€ä¸ªåŸºäºæ•°æ®åº“çš„åº”ç”¨é¡¹ç›®ï¼Œéƒ½å¯ä»¥é€šè¿‡è¿™ç§å…ˆå»ºç«‹ERæ¨¡å‹ï¼Œå†è½¬æ¢æˆæ•°æ®è¡¨çš„æ–¹å¼ï¼Œå®Œæˆæ•°æ®åº“çš„è®¾è®¡å·¥ä½œã€‚ERæ¨¡å‹æ˜¯ä¸€ç§å·¥å…·ã€‚åˆ›å»ºERæ¨¡å‹ä¸æ˜¯ç›®çš„ï¼Œç›®çš„æ˜¯æŠŠä¸šåŠ¡é€»è¾‘æ¢³ç†æ¸…æ¥šï¼Œè®¾è®¡å‡ºä¼˜ç§€çš„æ•°æ®åº“ã€‚æˆ‘å»ºè®®ä½ ä¸æ˜¯ä¸ºäº†å»ºæ¨¡è€Œå»ºæ¨¡ï¼Œè¦åˆ©ç”¨åˆ›å»ºERæ¨¡å‹çš„è¿‡ç¨‹æ¥æ•´ç†æ€è·¯ï¼Œè¿™æ ·åˆ›å»ºERæ¨¡å‹æ‰æœ‰æ„ä¹‰ã€‚</p><h1>æ€»ç»“</h1><p>ä»Šå¤©ï¼Œæˆ‘ä»¬å­¦ä¹ äº†é€šè¿‡ç»˜åˆ¶ERæ¨¡å‹å›¾ç†æ¸…ä¸šåŠ¡é€»è¾‘ï¼Œä»¥åŠæ€ä¹ˆæŠŠERæ¨¡å‹è½¬æ¢æˆMySQLæ•°æ®è¡¨ï¼Œæœ€ç»ˆå®Œæˆé¡¹ç›®æ•°æ®åº“è®¾è®¡ã€‚</p><p>è¿™èŠ‚è¯¾çš„çŸ¥è¯†ç‚¹æ¯”è¾ƒå¤šï¼Œæˆ‘ç”¨ä¸€å¼ å›¾æ¥å¸®ä½ å›é¡¾ä¸‹é‡ç‚¹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/38/7d/38278a13445a597fe931e9f26852477d.jpg?wh=2250*1248\" alt=\"\"></p><p>æœ€åï¼Œæˆ‘è¿˜æƒ³å†æé†’ä½ ä¸€ä¸‹ï¼ŒERæ¨¡å‹çœ‹èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œä½†æ˜¯å¯¹æˆ‘ä»¬æŠŠæ§é¡¹ç›®æ•´ä½“éå¸¸é‡è¦ã€‚å¦‚æœä½ åªæ˜¯å¼€å‘ä¸€ä¸ªå°åº”ç”¨ï¼Œæˆ–è®¸ç®€å•è®¾è®¡å‡ ä¸ªè¡¨å¤Ÿç”¨äº†ï¼Œä¸€æ—¦è¦è®¾è®¡æœ‰ä¸€å®šè§„æ¨¡çš„åº”ç”¨ï¼Œåœ¨é¡¹ç›®çš„åˆå§‹é˜¶æ®µï¼Œå»ºç«‹å®Œæ•´çš„ERæ¨¡å‹å°±éå¸¸å…³é”®äº†ã€‚å¼€å‘åº”ç”¨é¡¹ç›®çš„å®è´¨ï¼Œå…¶å®å°±æ˜¯å»ºæ¨¡ã€‚èƒ¸ä¸­æœ‰ä¸˜å£‘ï¼Œæ‰èƒ½ä¸‹ç¬”å¦‚æœ‰ç¥ã€‚é“ç†å…¶å®æ˜¯ä¸€æ ·çš„ã€‚</p><h1>æ€è€ƒé¢˜</h1><p>è¶…å¸‚ç»è¥è€…æ¯ä¸ªæœˆéƒ½è¦è¿›è¡Œåº“æˆ¿ç›˜ç‚¹ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸€ä¸ªæœˆçš„æœ€åä¸€å¤©çš„è¥ä¸šç»“æŸä¹‹åï¼Œæ‰€æœ‰çš„å‘˜å·¥ä¸€èµ·æŠŠåº“æˆ¿é‡Œçš„è´§å“éƒ½æ•°ä¸€éï¼Œç„¶åè·Ÿç”µè„‘ä¸Šçš„åº“å­˜æ¯”å¯¹ï¼ŒæŸ¥çœ‹åº“å­˜æŸè€—ã€‚</p><p>æˆ‘æƒ³è¯·ä½ æ€è€ƒä¸€ä¸‹ï¼Œåœ¨è¿™ä¸ªä¸šåŠ¡æ¨¡å—ä¸­ï¼Œæ¶‰åŠäº†å“ªäº›å®ä½“ã€å±æ€§å’Œå…³ç³»ï¼Ÿå¦å¤–ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸‹ERæ¨¡å‹ï¼Œé€šè¿‡å®ƒæ¥æ•´ç†ä¸€ä¸‹æ•°æ®åº“è®¾è®¡çš„æ€è·¯ã€‚</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºå†™ä¸‹ä½ çš„æ€è€ƒå’Œç­”æ¡ˆï¼Œæˆ‘ä»¬ä¸€èµ·äº¤æµè®¨è®ºã€‚å¦‚æœä½ è§‰å¾—ä»Šå¤©çš„å†…å®¹å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–åŒäº‹ï¼Œæˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ã€‚</p>","neighbors":{"left":{"article_title":"22 | èŒƒå¼ï¼šå¦‚ä½•æ¶ˆé™¤å†—ä½™ï¼Œå®ç°é«˜æ•ˆå­˜å–ï¼Ÿ","id":367615},"right":{"article_title":"24 | æŸ¥è¯¢æœ‰ç‚¹æ…¢ï¼Œè¯­å¥è¯¥å¦‚ä½•å†™ï¼Ÿ","id":369451}},"comments":[{"had_liked":false,"id":293656,"user_name":"æœ±æ™“å³°","can_delete":false,"product_type":"c1","uid":2356905,"ip_address":"","ucode":"D2F84F44329C29","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","comment_is_top":true,"comment_ctime":1621479987,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"9.2233720556560998e+18","product_id":100073201,"comment_content":"ä½ å¥½ï¼Œæˆ‘æ˜¯æœ±æ™“å³°ï¼Œä¸‹é¢æˆ‘å°±æ¥å…¬å¸ƒä¸€ä¸‹ä¸ŠèŠ‚è¯¾æ€è€ƒé¢˜çš„ç­”æ¡ˆï¼š<br><br>ä¸ŠèŠ‚è¯¾ï¼Œæˆ‘ä»¬å­¦ä¹ äº†èŒƒå¼ã€‚ä¸‹é¢æ˜¯æ€è€ƒé¢˜çš„ç­”æ¡ˆï¼š<br><br>å¯ä»¥æ‹†åˆ†æˆ2ä¸ªè¡¨ï¼š<br><br>å•†å“ä¿¡æ¯è¡¨ï¼šåŒ…å«å•†å“ç¼–å·ï¼ˆitemnumberï¼‰ã€å•†å“åç§°ï¼ˆgoodsnameï¼‰ï¼Œä»·æ ¼ï¼ˆpriceï¼‰<br>é”€å”®æµæ°´è¡¨ï¼šåŒ…å«ç¼–å·ï¼ˆidï¼‰ã€æµæ°´å•å·ï¼ˆtransnoï¼‰ã€å•†å“ç¼–å·ï¼ˆitemnumberï¼‰ã€æ•°é‡ï¼ˆquantityï¼‰ã€å¡å·ï¼ˆcardnoï¼‰<br><br>åŸå› ï¼š<br>1. å•†å“åç§°ã€ä»·æ ¼åªä¾èµ–äºå•†å“ç¼–å·ï¼Œå¯ä»¥æ‹†åˆ†æˆå•ç‹¬çš„è¡¨<br>2. é”€å”®é‡‘é¢=æ•°é‡*ä»·æ ¼ï¼Œå¯ä»¥å»æ‰<br><br><br>","like_count":4,"discussions":[{"author":{"id":1481763,"avatar":"https://static001.geekbang.org/account/avatar/00/16/9c/23/af44efd8.jpg","nickname":"æ…§æœ‰æœªæ¥à¸ˆà¸¸à¹Šà¸š","note":"","ucode":"5EC1966D10D65A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587545,"discussion_content":"ä¸ºå•¥é”€å”®é‡‘é¢è¦å»æ‰ï¼Ÿä¸Šä¸€è®²ä¸æ˜¯ä¸è¦æ±‚å»æ‰å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663139463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1193874,"avatar":"https://static001.geekbang.org/account/avatar/00/12/37/92/961ba560.jpg","nickname":"æˆäººä»¥ğŸŸï¼Œä¸å¦‚æˆäººä»¥æ¸”","note":"","ucode":"BD53829E924B66","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582038,"discussion_content":"ä¸ºä½•è¦ä¸ºé”€å”®æµæ°´è¡¨æ·»åŠ  id å­—æ®µï¼Ÿæµæ°´å•å· transno ä½œä¸ºä¸»é”®ä¹Ÿæ˜¯å¯ä»¥çš„å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659154462,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1405256,"avatar":"https://static001.geekbang.org/account/avatar/00/15/71/48/44df7f4e.jpg","nickname":"å‡¯","note":"","ucode":"60DB11CF72C7B0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":379448,"discussion_content":"æˆ‘è§‰å¾—æµæ°´å¾—é”€å”®é‡‘é¢åº”è¯¥ä¿ç•™å§ï¼Œåœ¨è´­ä¹°çš„åœºæ™¯ä¸­ï¼Œæ¯æ‰«æä¸€ç§å•†å“ï¼Œè‡ªåŠ¨è®¡ç®—è¯¥å•†å“çš„æ€»ä»·ï¼Œåœ¨ç»“ç®—çš„æ—¶å€™ï¼Œåªéœ€è¦åšåŠ æ³•å°±å¯ä»¥ï¼Œå¦‚æœä¸Šé¢è¿™ä¹ˆåšï¼Œå¯èƒ½æœ€åçš„è®¡ç®—é€Ÿåº¦ç¨å¾®æ…¢ä¸€äº›å§ã€‚\n\nè¿˜æœ‰æƒ³é—®ä¸€ä¸‹ï¼Œä½¿ç”¨åŒä¸€è¡¨ä¸­æ•°æ®æ“ä½œï¼Œå’Œä½¿ç”¨joinè¿™ç§æ–¹å¼å¤šè¡¨å…³è”ï¼Œç„¶åè®¡ç®—ï¼Œå“ªç§æ•ˆç‡æ›´é«˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623911092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":291524,"user_name":"giteebravo","can_delete":false,"product_type":"c1","uid":1005290,"ip_address":"","ucode":"C087E8D6B5A98B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg","comment_is_top":false,"comment_ctime":1620347747,"is_pvip":false,"replies":[{"id":"106493","content":"På’ŒQè¡¨ç¤ºå¤šï¼Œåªæ˜¯ä¸ºäº†ä¸Mã€NåŒºåˆ«ã€‚è®¾è®¡ERæ¨¡å‹å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†æ¸…è®¾è®¡æ€è·¯ï¼Œä»æ•´ä½“ä¸ŠæŠŠæ¡éœ€æ±‚","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™“å³°","uid":"2356905","ctime":1621562394,"ip_address":"","comment_id":291524,"utype":1}],"discussion_count":3,"race_medal":1,"score":"14505249635","product_id":100073201,"comment_content":"<br>æ¨¡å‹å›¾ä¸­çš„ P å’Œ Q æœ‰ä»€ä¹ˆç‰¹æ®Šå«ä¹‰ä¹ˆï¼Ÿ<br><br>æ–‡ä¸­å¯¹ ER æ¨¡å‹çš„é˜è¿°ä¸åˆ†æåˆ·æ–°äº†æˆ‘çš„è®¤çŸ¥ï¼<br><br>ç‰¹åˆ«æ˜¯ï¼š<br>1. å¦‚ä½•è®¾è®¡ ER æ¨¡å‹<br>2. å¦‚ä½•ä» ER æ¨¡å‹å¾—åˆ°æ•°æ®è¡¨<br><br>å¯¹äºè¿™ä¸¤ç‚¹ï¼Œå·¥ä½œä¸­çŸ¥é“åº”è¯¥è¦æ€ä¹ˆåšï¼Œä½†ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšã€‚<br>","like_count":4,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519494,"discussion_content":"På’ŒQè¡¨ç¤ºå¤šï¼Œåªæ˜¯ä¸ºäº†ä¸Mã€NåŒºåˆ«ã€‚è®¾è®¡ERæ¨¡å‹å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†æ¸…è®¾è®¡æ€è·¯ï¼Œä»æ•´ä½“ä¸ŠæŠŠæ¡éœ€æ±‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621562394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1611025,"avatar":"https://static001.geekbang.org/account/avatar/00/18/95/11/eb431e52.jpg","nickname":"æ²ˆåº·","note":"","ucode":"02AFA50738AB8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374810,"discussion_content":"På’ŒQæ˜¯å’ŒMNä¸€æ ·çš„æ„æ€å§ï¼Œå¤šå¯¹å¤šï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1621357415,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1201022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/53/7e/b6829040.jpg","nickname":"SevenMonths","note":"","ucode":"62A9740FBD1FAE","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392136,"discussion_content":"æˆ‘æŸ¥äº†å¥½ä¹…ä¹Ÿæ²¡æŸ¥åˆ° Qä»£è¡¨ä»€ä¹ˆæ„æ€ã€‚åœ¨è¿™ç»ˆäºçœ‹åˆ°äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630851930,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344782,"user_name":"helloworld","can_delete":false,"product_type":"c1","uid":1105161,"ip_address":"","ucode":"1EECCA0F43E278","user_header":"https://static001.geekbang.org/account/avatar/00/10/dd/09/feca820a.jpg","comment_is_top":false,"comment_ctime":1651764092,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5946731388","product_id":100073201,"comment_content":"çœ‹åˆ°å¾ˆå¤šå¤§ä½¬è¯´ä¸å»ºè®®ä½¿ç”¨å¤–é”®ï¼Œæœ€å¥½é€šè¿‡ä¸šåŠ¡å±‚é€»è¾‘æ¥å®ç°å¤–é”®çš„åŠŸèƒ½ï¼Œæƒ³çŸ¥é“è€å¸ˆçš„çœ‹æ³•æ˜¯å•¥","like_count":2},{"had_liked":false,"id":344779,"user_name":"helloworld","can_delete":false,"product_type":"c1","uid":1105161,"ip_address":"","ucode":"1EECCA0F43E278","user_header":"https://static001.geekbang.org/account/avatar/00/10/dd/09/feca820a.jpg","comment_is_top":false,"comment_ctime":1651763035,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651763035","product_id":100073201,"comment_content":"æ€»ç»“ä¸­çš„è„‘å›¾ï¼Œè¦ç´ çš„æœ€åä¸€æ¡ç¬”è¯¯äº†å§ï¼Œåº”è¯¥æ˜¯ï¼šåŒºåˆ†å®ä½“å’Œå±æ€§çš„åŸåˆ™","like_count":0},{"had_liked":false,"id":335090,"user_name":"jjn0703","can_delete":false,"product_type":"c1","uid":1076652,"ip_address":"","ucode":"83AF403AC7DFB7","user_header":"https://static001.geekbang.org/account/avatar/00/10/6d/ac/6128225f.jpg","comment_is_top":false,"comment_ctime":1645323783,"is_pvip":true,"replies":[{"id":"123504","content":"æœ‰å¾ˆå¤šå·¥å…·å¯ä»¥ç”»ERå›¾ï¼Œæ¯”å¦‚VISIOï¼Œä¾›ä½ å‚è€ƒ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2356905","ctime":1647076146,"ip_address":"","comment_id":335090,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1645323783","product_id":100073201,"comment_content":"è¯·æ•™ä¸€ä¸‹è€å¸ˆï¼Œç”»çš„ERå›¾æ˜¯ç”¨äº†ä»€ä¹ˆå·¥å…·å—","like_count":0,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555821,"discussion_content":"æœ‰å¾ˆå¤šå·¥å…·å¯ä»¥ç”»ERå›¾ï¼Œæ¯”å¦‚VISIOï¼Œä¾›ä½ å‚è€ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647076146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":327931,"user_name":"å´æ¨æ˜","can_delete":false,"product_type":"c1","uid":1019959,"ip_address":"","ucode":"D20C0489D7CD21","user_header":"https://static001.geekbang.org/account/avatar/00/0f/90/37/9a35d0a2.jpg","comment_is_top":false,"comment_ctime":1640396783,"is_pvip":true,"replies":[{"id":"120770","content":"è¯·å‚è€ƒæ€è€ƒé¢˜ç­”æ¡ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2356905","ctime":1642309299,"ip_address":"","comment_id":327931,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640396783","product_id":100073201,"comment_content":"CREATE TABLE demo.importhead<br>(<br>importid INT PRIMARY KEY,   -- æ·»åŠ ä¸ä¸šåŠ¡æ— å…³çš„å­—æ®µä¸ºä¸»é”® <br>listnumber TEXT NOT NULL,<br>supplierid INT NOT NULL,    -- ä¾›è´§å•†è¡¨çš„ä¸»é”®ï¼Œåæ˜ äº†å‚ä¸è¿›è´§å…³ç³»çš„ä¾›è´§å•†ä¿¡æ¯<br>stockid INT NOT NULL,       -- ä»“åº“è¡¨çš„ä¸»é”®ï¼Œåæ˜ äº†å‚ä¸è¿›è´§å…³ç³»çš„ä»“åº“ä¿¡æ¯<br>operatorid INT NOT NULL,    -- å‘˜å·¥è¡¨çš„ä¸»é”®ï¼Œåæ˜ äº†å‚ä¸è¿›è´§å…³ç³»çš„å‘˜å·¥ä¿¡æ¯<br>memberid INT NOT NULL,<br>recordingdate DATETIME NOT NULL,<br>totalquantity DECIMAL(10,3) NOT NULL DEFAULT 0,<br>totalvalue DECIMAL(10,3) NOT NULL DEFAULT 0,<br>CONSTRAINT fk_importhead_supplier FOREIGN KEY (supplierid) REFERENCES supplier (supplierid),<br>CONSTRAINT fk_transactionhead_member FOREIGN KEY (memberid) REFERENCES membermaster (memberid),<br>CONSTRAINT fk_importhead_operator FOREIGN KEY (operatorid) REFERENCES operator (operatorid)<br>);<br><br>-- è¡¥å…… memberid INT NOT NULL,","like_count":0,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546409,"discussion_content":"è¯·å‚è€ƒæ€è€ƒé¢˜ç­”æ¡ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642309299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326583,"user_name":"æ£’æ£’ç³–","can_delete":false,"product_type":"c1","uid":2107111,"ip_address":"","ucode":"7DFFE4B517FCDA","user_header":"https://static001.geekbang.org/account/avatar/00/20/26/e7/1c2c341d.jpg","comment_is_top":false,"comment_ctime":1639570858,"is_pvip":true,"replies":[{"id":"120764","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2356905","ctime":1642308343,"ip_address":"","comment_id":326583,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1639570858","product_id":100073201,"comment_content":"å°½å¯èƒ½éµå¾ªä¸‰å¤§èŒƒå¼çš„åŸºç¡€ä¸Šï¼Œä¸šåŠ¡ä¼˜å…ˆï¼Œä¸‰å¤§èŒƒå¼å¯ä»¥é€‚å½“è®©æ­¥ï¼›<br>åŒºåˆ†å®ä½“å’Œå±æ€§çš„åŸåˆ™ï¼šä»ç³»ç»Ÿæ•´ä½“çš„è§’åº¦å‡ºå‘å»çœ‹ï¼Œå¯ä»¥ç‹¬ç«‹å­˜åœ¨çš„æ˜¯å®ä½“ï¼Œä¸å¯å†åˆ†çš„æ˜¯å±æ€§ã€‚","like_count":0,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546403,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642308343,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321635,"user_name":"Geek_30c439","can_delete":false,"product_type":"c1","uid":2739527,"ip_address":"","ucode":"275A87A34B2636","user_header":"","comment_is_top":false,"comment_ctime":1636969879,"is_pvip":false,"replies":[{"id":"120725","content":"è¿™ä¸ªé—®é¢˜åœ¨ç¬¬22è®²ä¸­æœ‰è¯¦ç»†çš„è®¨è®ºã€‚åŸå› æ˜¯æ ¹æ®ä¸šåŠ¡ä¼˜å…ˆçš„åŸåˆ™ï¼Œä¸ºäº†å‡å°‘è¯¯å·®ï¼Œéœ€è¦åŒæ—¶ä¿ç•™importpriceå’Œimportvalueå­—æ®µï¼Œè¿™æ ·ä¸€æ¥ï¼Œå°±ä¸ç¬¦åˆç¬¬ä¸‰èŒƒå¼çš„è¦æ±‚äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"2356905","ctime":1642304203,"ip_address":"","comment_id":321635,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636969879","product_id":100073201,"comment_content":"æƒ³é—®ä¸€ä¸‹ï¼Œè¿›è´§å•æ˜ç»†è¡¨ä¸ºä»€ä¹ˆæ˜¯ä¸ç¬¦åˆç¬¬ä¸‰èŒƒå¼ï¼Œè€Œç¬¦åˆç¬¬äºŒæ¨¡å¼","like_count":0,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546351,"discussion_content":"è¿™ä¸ªé—®é¢˜åœ¨ç¬¬22è®²ä¸­æœ‰è¯¦ç»†çš„è®¨è®ºã€‚åŸå› æ˜¯æ ¹æ®ä¸šåŠ¡ä¼˜å…ˆçš„åŸåˆ™ï¼Œä¸ºäº†å‡å°‘è¯¯å·®ï¼Œéœ€è¦åŒæ—¶ä¿ç•™importpriceå’Œimportvalueå­—æ®µï¼Œè¿™æ ·ä¸€æ¥ï¼Œå°±ä¸ç¬¦åˆç¬¬ä¸‰èŒƒå¼çš„è¦æ±‚äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642304203,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313872,"user_name":"å½­å½¬","can_delete":false,"product_type":"c1","uid":2680555,"ip_address":"","ucode":"5AF4F4D7163DFE","user_header":"https://static001.geekbang.org/account/avatar/00/28/e6/eb/7b7c0101.jpg","comment_is_top":false,"comment_ctime":1632725139,"is_pvip":false,"replies":[{"id":"116462","content":"è¯·å‚è€ƒæ€è€ƒé¢˜ç­”æ¡ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™“å³°","uid":"2356905","ctime":1636615080,"ip_address":"","comment_id":313872,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632725139","product_id":100073201,"comment_content":"é—¨åº—ã€å•†å“ä¹‹é—´å­˜åœ¨ç›˜ç‚¹å…³ç³»ï¼Œå…³ç³»çš„å±æ€§ï¼šç›˜ç‚¹æ—¶é—´ã€å®ç‰©æ•°é‡ã€æŸè€—","like_count":0,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527499,"discussion_content":"è¯·å‚è€ƒæ€è€ƒé¢˜ç­”æ¡ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636615080,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298599,"user_name":"ä²†ä¹ ä¹ ","can_delete":false,"product_type":"c1","uid":2664849,"ip_address":"","ucode":"9BD3538FE98400","user_header":"https://static001.geekbang.org/account/avatar/00/28/a9/91/2b5c9d55.jpg","comment_is_top":false,"comment_ctime":1624225952,"is_pvip":false,"replies":[{"id":"110373","content":"æ–‡ç¨¿ä¸­çš„ä»£ç ï¼Œæ˜¯åœ¨MySQLå‘½ä»¤è¡Œå®¢æˆ·ç«¯è¿è¡Œçš„ï¼Œä¸ºäº†å®Œæ•´ä½“ç°ä»£ç å’Œè¿è¡Œç»“æœï¼Œâ€œ-&gt;&quot;æ˜¯å¿…é¡»çš„ï¼Œå¦åˆ™å®¹æ˜“äº§ç”Ÿæ­§ä¹‰ï¼Œå½±å“å¯¹æ–‡ç¨¿å†…å®¹çš„ç†è§£ã€‚<br><br>å¤–é”®çº¦æŸå¤„çš„è¡¨memberï¼Œç¡®å®åº”è¯¥æ˜¯membermasterï¼Œå·²ç»æäº¤ç»™åå°ï¼Œç”³è¯·ä¿®æ­£ã€‚éå¸¸æ„Ÿè°¢ä½ çš„è®¤çœŸé˜…è¯»ï¼Œç»™æˆ‘æŒ‡å‡ºäº†é”™è¯¯ï¼Œä½¿è¯¾ç¨‹çš„å†…å®¹æ›´åŠ ä¸¥è°¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™“å³°","uid":"2356905","ctime":1627867075,"ip_address":"","comment_id":298599,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1624225952","product_id":100073201,"comment_content":"å°å»ºè®® å…³äºå¯å¤åˆ¶ä»£ç  åº”è¯¥ä¸åŒ…å«-&gt; å’Œè¾“å‡ºç»“æœ åªæœ‰runnable code ä¸ç„¶çš„è¯è¿˜è¦ä¸€ä¸ªä¸€ä¸ªç®­å¤´åˆ æ‰ã€‚ã€‚ã€‚ è¿˜æœ‰membermaster table å’Œforeignkey refer tablename member ä¸matchã€‚ã€‚åº”è¯¥æ˜¯typoï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522182,"discussion_content":"æ–‡ç¨¿ä¸­çš„ä»£ç ï¼Œæ˜¯åœ¨MySQLå‘½ä»¤è¡Œå®¢æˆ·ç«¯è¿è¡Œçš„ï¼Œä¸ºäº†å®Œæ•´ä½“ç°ä»£ç å’Œè¿è¡Œç»“æœï¼Œâ€œ-&amp;gt;&amp;quot;æ˜¯å¿…é¡»çš„ï¼Œå¦åˆ™å®¹æ˜“äº§ç”Ÿæ­§ä¹‰ï¼Œå½±å“å¯¹æ–‡ç¨¿å†…å®¹çš„ç†è§£ã€‚\n\nå¤–é”®çº¦æŸå¤„çš„è¡¨memberï¼Œç¡®å®åº”è¯¥æ˜¯membermasterï¼Œå·²ç»æäº¤ç»™åå°ï¼Œç”³è¯·ä¿®æ­£ã€‚éå¸¸æ„Ÿè°¢ä½ çš„è®¤çœŸé˜…è¯»ï¼Œç»™æˆ‘æŒ‡å‡ºäº†é”™è¯¯ï¼Œä½¿è¯¾ç¨‹çš„å†…å®¹æ›´åŠ ä¸¥è°¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627867075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":293374,"user_name":"æ²ˆåº·","can_delete":false,"product_type":"c1","uid":1611025,"ip_address":"","ucode":"02AFA50738AB8E","user_header":"https://static001.geekbang.org/account/avatar/00/18/95/11/eb431e52.jpg","comment_is_top":false,"comment_ctime":1621357433,"is_pvip":false,"replies":[{"id":"106552","content":"è¯·å‚è€ƒæ€è€ƒé¢˜ç­”æ¡ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æœ±æ™“å³°","uid":"2356905","ctime":1621569787,"ip_address":"","comment_id":293374,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1621357433","product_id":100073201,"comment_content":"å¤ªéœ€è¦è¿™ç¯‡æ–‡ç« äº†ï¼Œç¡®å®å¯¹æ•°æ®åº“å»ºæ¨¡ä¸€çªä¸é€šã€‚<br><br>è¯¾åé¢˜å¥½åƒè¿˜æ˜¯æœ‰ç‚¹è®¾è®¡ä¸å‡ºæ¥ã€‚<br>å®ä½“ï¼šä»“åº“ã€å•†å“<br>å…³ç³»ï¼šåº“å­˜ ï¼ˆæ—¶é—´ï¼‰<br><br>åº“å­˜è¡¨ï¼š<br>åº“å­˜ç¼–å·<br>ä»“åº“å¤–é”®<br>å•†å“å¤–é”®<br>åº“å­˜æ•°é‡","like_count":0,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520182,"discussion_content":"è¯·å‚è€ƒæ€è€ƒé¢˜ç­”æ¡ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621569787,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":178080,"title":"03丨性能综述：怎么理解TPS、QPS、RT、吞吐量这些性能指标？","content":"<p>在上一篇文章中，我们讲述了性能场景，下面就要说性能需求指标了。</p><p>通常我们都从两个层面定义性能场景的需求指标：业务指标和技术指标。</p><p>这两个层面需要有映射关系，技术指标不能脱离业务指标。一旦脱离，你会发现你能回答“一个系统在多少响应时间之下能支持多少TPS”这样的问题，但是回答不了“业务状态是什么”的问题。</p><p>举例来说，如果一个系统要支持1000万人在线，可能你能测试出来的结果是系统能支持1万TPS，可是如果问你，1000万人在线会不会有问题？这估计就很难回答了。</p><p>我在这里画一张示意图以便你理解业务指标和性能指标之间的关系。</p><p><img src=\"https://static001.geekbang.org/resource/image/1b/c2/1bb1222c53e8b16414458a8572e786c2.png?wh=2304*1556\" alt=\"\"></p><p>这个示意显然不够详细，但也能说明关系了。所有的技术指标都是在有业务场景的前提下制定的，而技术指标和业务指标之间也要有详细的换算过程。这样一来，技术指标就不会是一块飞地。同时，在回答了技术指标是否满足的同时，也能回答是否可以满足业务指标。</p><p>有了这样的关联关系，下面我们看一下性能测试行业常用的性能指标表示法。</p><p><img src=\"https://static001.geekbang.org/resource/image/53/83/533fa609f8607dbd65878fb52ef87183.jpg?wh=3934*2849\" alt=\"\"></p><p>我将现在网上能看到的性能指标做了罗列，其中不包括资源的指标。因为资源类的比较具体，并且理解误差并不大，但业务类的差别就比较大了。</p><h2>对这些性能指标都有哪些误解</h2><p>我记得我还年轻的时候，还没有QPS、RPS、CPS这样的概念，只有TPS。那个时候，天总是那么蓝，时间总是那么慢，“你锁了人家就懂了”。</p><!-- [[[read_end]]] --><p>QPS一开始是用来描述MySQL中SQL每秒执行数Query Per Second，所有的SQL都被称为Query。后来，由于一些文章的转来转去，QPS被慢慢地移到了压力工具中，用来描述吞吐量，于是这里就有些误解，QPS和TPS到底是什么关系呢？</p><p>RPS指的是每秒请求数。这个概念字面意思倒是容易理解，但是有个容易误解的地方就是，它指的到底是哪个层面的Request？如果说HTTP Request，那么和Hits Per Second又有什么关系呢？</p><p>HPS，这也是个在字面意思上容易理解的概念。只是Hit是什么？有人将它和HTTP Request等价，有人将它和用户点击次数等价。</p><p>CPS，用的人倒是比较少，在性能行业中引起的误解范围并不大。同时还有喜欢用CPM（Calls Per Minute，每分钟调用数）的。这两个指标通常用来描述Service层的单位时间内的被其他服务调用的次数，这也是为什么在性能行业中误解不大的原因，因为性能测试的人看Service层东西的次数并不多。</p><p>为了区分这些概念，我们先说一下TPS（Transactions Per Second）。我们都知道TPS是性能领域中一个关键的性能指标概念，它用来描述每秒事务数。我们也知道TPS在不同的行业、不同的业务中定义的粒度都是不同的。所以不管你在哪里用TPS，一定要有一个前提，就是<strong>所有相关的人都要知道你的T是如何定义的</strong>。</p><p>经常有人问，TPS应该如何定义？这个实在是没有具体的“法律规定”，那就意味着，你想怎么定就怎么定。</p><p>通常情况下，我们会根据场景的目的来定义TPS的粒度。如果是接口层性能测试，T可以直接定义为接口级；如果业务级性能测试，T可以直接定义为每个业务步骤和完整的业务流。</p><p>我们用一个示意图来说明一下。</p><p><img src=\"https://static001.geekbang.org/resource/image/d2/8d/d2093240be6f4151002d8019cabfac8d.png?wh=666*366\" alt=\"\"><br>\n如果我们要单独测试接口1、2、3，那T就是接口级的；如果我们要从用户的角度来下一个订单，那1、2、3应该在一个T中，这就是业务级的了。</p><p>当然，这时我们还要分析系统是如何设计的。通常情况下，积分我们都会异步，而库存不能异步哇。所以这个业务，你可以看成只有1、2两个接口，但是在做这样的业务级压力时，3接口也是必须要监控分析的。</p><p>所以，性能中TPS中T的定义取决于场景的目标和T的作用。一般我们都会这样来定事务。</p><ul>\n<li>接口级脚本：<br>\n——事务start（接口1）<br>\n接口1脚本<br>\n——事务end（接口1）<br>\n——事务start（接口2）<br>\n接口2脚本<br>\n——事务end（接口2）<br>\n——事务start（接口3）<br>\n接口3脚本<br>\n——事务end（接口3）</li>\n<li>业务级接口层脚本（就是用接口拼接出一个完整的业务流）：<br>\n——事务start（业务A）<br>\n接口1脚本 - 接口2（同步调用）<br>\n接口1脚本 - 接口3（异步调用）<br>\n——事务end（业务A）</li>\n<li>用户级脚本<br>\n——事务start（业务A）<br>\n点击0 - 接口1脚本 - 接口2（同步调用）<br>\n点击0 - 接口1脚本 - 接口3（异步调用）<br>\n——事务end（业务A）</li>\n</ul><p>你要创建什么级别的事务，完全取决于测试的目的是什么。</p><p>一般情况下，我们会按从上到下的顺序一一地来测试，这样路径清晰地执行是容易定位问题的。</p><h2>重新理解那些性能指标概念</h2><p>搞清楚了TPS的T是什么，下面就要说什么是TPS了。字面意思非常容易理解，就是：<strong>每秒事务数</strong>。</p><p>在性能测试过程中，TPS之所以重要，是因为它可以反应出一个系统的处理能力。我在很多场景中都说过，事务就是统计了一段脚本的执行时间，并没有什么特别的含义。而现在又多加了其他的几个概念。</p><p>首先是QPS，如果它描述的是数据库中的Query Per Second，从上面的示意图中来看，其实描述的是服务后面接的数据库中SQL的每秒执行条数。如果描述的是前端的每秒查询数，那就不包括插入、更新、删除操作了。显然这样的指标用来描述系统整体的性能是不够全面的。所以不建议用QPS来描述系统整体的性能，以免产生误解。</p><p>RPS（Request per second），每秒请求数。看似简单的理解，但是对于请求数来说，要看是在哪个层面看到的请求，因为请求这个词，实在是太泛了。我们把上面的图做一点点变化来描述一下请求数。</p><p><img src=\"https://static001.geekbang.org/resource/image/6d/9c/6d260efd23e2ea7e861070cd15e83e9c.png?wh=647*370\" alt=\"\"><br>\n如果一个用户点击了一次，发出来3个HTTP Request，调用了2次订单服务，调用了2次库存服务，调用了1次积分服务，那么这个Request该如何计算？如果你是算GDP的专家，我觉得可能会是：3+2+2+1=8（次）。而在具体的项目中，我们会单独描述每个服务，以便做性能统计。如果要描述整体，最多算是有3个RPS。如果从HTTP协议的角度去理解，那么HTTP Request算是一个比较准确的描述了，但它本身的定义并没有包含业务。如果赋予它业务的含义，那么用它来描述性能也是可以的。</p><p>HPS（Hits Per Second），每秒点击数。Hit一般在性能测试中，都用来描述HTTP Request。但是，也有一些人用它描述真正的客户在界面上的点击次数。关于这一点，就只有在具体的项目中才能规定得具体一些。当它描述HTTP Request时，如果RPS也在描述HTTP Request，那这两个概念就完全一样了。</p><p>CPS/CPM：Calls Per Second/ Calls Per Minutes，每秒/每分钟调用次数。这个描述在接口级是经常用到的，比如说上面的订单服务。显然一次客户界面上的点击调用两次。这个比较容易理解。但是，在操作系统级，我们也经常会听到系统调用用call来形容，比如说用strace时，你就会看见Calls这样的列名。</p><p>这些概念本身并没有问题，但是当上面的概念都用来描述一个系统的性能能力的时候，就混乱了。对于这种情况，我觉得有几种处理方式：</p><ol>\n<li>用一个概念统一起来。我觉得直接用TPS就行了，其他的都在各层面加上限制条件来描述。比如说，接口调用1000 Calls/s，这样不会引起混淆。</li>\n<li>在团队中定义清楚术语的使用层级。</li>\n<li>如果没有定义使用层级，那只能在说某个概念的时候，加上相应的背景条件。</li>\n</ol><p>所以，当你和同事在沟通性能指标用哪些概念时，应该描述得更具体一些。在一个团队中，应该先有这些术语统一的定义，再来说性能指标是否满足。</p><h2>响应时间RT</h2><p>在性能中，还有一个重要的概念就是响应时间（Response Time）。这个比较容易理解。我们接着用这张示意图说明：</p><p><img src=\"https://static001.geekbang.org/resource/image/7b/ac/7b2fb3aa4129a54ddb28d0e70cc551ac.png?wh=690*331\" alt=\"\"><br>\nRT = T2-T1。计算方式非常直接简单。但是，我们要知道，这个时间包括了后面一连串的链路。</p><p>响应时间的概念简单至极，但是，响应时间的定位就复杂了。</p><p>性能测试工具都会记录响应时间，但是，都不会给出后端链路到底哪里慢。经常有人问问题就直接说，我的响应时间很慢。问题在哪呢？在这种情况下，只能回答：不知道。</p><p>因为我们要先画架构图，看请求链路，再一层层找下去。比如说这样：</p><p><img src=\"https://static001.geekbang.org/resource/image/bd/eb/bd8a2056546c5917290af512be2342eb.png?wh=782*465\" alt=\"\"><br>\n在所有服务的进出口上都做记录，然后计算结果就行了。在做网关、总线这样的系统时，基本上都会考虑这个功能。</p><p>而现在，随着技术的发展，链路监控工具和一些Metrics的使用，让这个需求变得简单了不少。比如说这样的展示：</p><p><img src=\"https://static001.geekbang.org/resource/image/80/86/80a03dcc4a81d8bdff96546a1fa18186.png?wh=1905*934\" alt=\"\"></p><p>它很直观地显示了，在一个请求链路上，每个节点消耗的时间和请求的持续时间。</p><p>我顺便在这里说一下调优在当前性能项目中的状态。</p><p>对于响应时间来说，时间的拆分定位是性能瓶颈定位分析中非常重要的一节。但是请注意，这个环节并不是性能测试工程师的最后环节。</p><p>在工作中，我经常看到有很多性能测试工程师连时间拆分都不做，只报一个压力工具中看到的响应时间，就给一个通过不通过的结论，丝毫没有定位。</p><p>另外，有一些性能测试工程师，倒是用各种手段分析了时间的消耗点，但是也觉得自己的工作就此结束了，而不做根本原因的分析或协调其他团队来分析。</p><p>当然在不同的企业里，做分析的角色和要求各不相同，所以也要根据实际的企业现状来说。</p><p>在我的观点中，性能只测不调，那就是性能验证的工作，称不上是完整的性能项目。第三方性能测试的机构可以这样做，但是在一个企业内部这样做的话，性能团队的价值肯定就大打折扣了。</p><p>但是现在有很多人都不把性能调优做为性能团队的工作，主要原因有几点：</p><ol>\n<li>性能测试团队的人能力有限做不到；</li>\n<li>性能调优代价高，耗时长，不值得做。</li>\n</ol><p>在我带的性能项目中，基本上调优的工作都是我的团队主导的。性能团队当然不可能完全没有技术弱点，所以在很多时候都是协调其他团队的人一起来分析瓶颈点。那为什么是我的团队来主导这个分析的过程呢？</p><p>因为每个技术人员对性能瓶颈的定义并不相同，如果不细化到具体的计数器的值是多少才有问题，有误解的可能性就很大。</p><p>曾经我在某零售业大厂做性能咨询的时候，一房间的技术人员，开发、运维、DBA都有，结果性能瓶颈出现了，所有人都说自己的部分是没问题的。于是我一个个问他们是如何判断的，判断的是哪个计数器，值又是多少。结果发现很多人对瓶颈的判断都和我想像的不一样。</p><p>举例来说，DB的CPU使用率达到90%以上，DBA会觉得没有问题，因为都是业务的SQL，并不是DB本身有问题。开发觉得SQL执行时间慢是因为DB有问题，而不是自己写的有问题，因为业务逻辑并没有错，有问题的点应该是DB上索引不合理、配置不合理。</p><p>你看，同样的问题，每个人的看法都有区别。当然也不能排除有些人就是想推诿责任。</p><p>这时怎么办呢？如果你可以把执行计划拿出来，告诉大家，这里应该创建索引，而那里应该修改业务条件，这时就具体了。</p><h3>压力工具中的线程数和用户数与TPS</h3><p>总是有很多人在并发线程数和TPS之间游荡，搞不清两者的关系与区别。这两个概念混淆的点就是，好像线程是真实的用户一样，那并发的线程是多少就描述出了多少真实的用户。</p><p>但是做性能的都会知道，并发线程数在没有模拟真实用户操作的情况下，和真实的用户操作差别非常远。</p><p>在LoadRunner还比较红火的时候，Mercury提出一个BTO的概念，就是业务科技优化。在LoadRunner中也提出”思考时间“的概念，其实在其他的性能工具中是没有“思考时间”这个词的。这个词的提出就是为了性能工具模拟真实用户。</p><p>但是随着性能测试的地位不断下降，以及一些概念和名词不断地被以讹传讹，导致现在很多人都没有明白压力工具中的线程数和用户以及TPS之间是怎样的关系。同样，我们先画一个示意图来说明一下。</p><p><img src=\"https://static001.geekbang.org/resource/image/23/2b/23c22b843df28ae9092e76a566077b2b.png?wh=890*303\" alt=\"\"><br>\n这里先说明一个前提，上面的一个框中有四个箭头，每个都代表着相同的事务。</p><p>在说这个图之前，我们要先说明“并发”这个概念是靠什么数据来承载的。</p><p>在上面的内容中，我们说了好多的指标，但并发是需要具体的指标来承载的。你可以说，我的并发是1000TPS，或者1000RPS，或者1000HPS，这都随便你去定义。但是在一个具体的项目中，当你说到并发1000这样没有单位的词时，一定要让大家都能理解这是什么。</p><p>在上面这张示意图中，其实压力工具是4个并发线程，由于每个线程都可以在一秒内完成4个事务，所以总的TPS是16。这非常容易理解吧。而在大部分非技术人的脑子里，这样的场景就是并发数是4，而不是16。</p><p>要想解释清楚这个非常困难，我的做法就是，直接告诉别人并发是16就好了，不用关心4个线程这件事。这在我所有项目中几乎都是一样的，一直也没有什么误解。</p><p>那么用户数怎么来定义呢？涉及到用户就会比较麻烦一点。因为用户有了业务含义，所以有些人认为一个系统如果有1万个用户在线，那就应该测试1万的并发线程，这种逻辑实在是不技术。通常，我们会对在线的用户做并发度的分析，在很多业务中，并发度都会低于5%，甚至低于1%。</p><p>拿5%来计算，就是10000用户x5%=500(用户级TPS)，注意哦，这里是TPS，而不是并发线程数。如果这时响应时间是100ms，那显然并发线程数是500TPS/(1000ms/100ms)=50(并发线程)。</p><p>通过这样简单的计算逻辑，我们就可以看出来用户数、线程数和TPS之间的关系了。</p><p><img src=\"https://static001.geekbang.org/resource/image/72/e0/724b0e330ee9f8a97ac9b8326af370e0.png?wh=799*178\" alt=\"\"><br>\n但是！响应时间肯定不会一直都是100ms的嘛。所以通常情况下，上面的这个比例都不会固定，而是随着并发线程数的增加，会出现趋势上的关系。</p><p>所以，在性能分析中，我一直在强调着一个词：<strong>趋势！</strong></p><h3>业务模型的28原则是个什么鬼？</h3><p>我看到有些文章中写性能测试要按28原则来计算并发用户数。大概的意思就是，如果一天有1000万的用户在使用，系统如果开10个小时的话，在计算并发用户数的时候，就用2小时来计算，即1000万用户在2小时内完成业务。</p><p>我要说的是，这个逻辑在一个特定的业务系统中是没有任何价值的。因为每个系统的并发度都由业务来确定，而不是靠这样的所谓的定律来支配着业务。</p><p>如果我们做了大量的样本数据分析，最后确实得出了28的比例，我觉得那也是可以的。但是如果什么数据都没有分析，直接使用28比例来做评估和计算，那就跟耍流氓没有区别。</p><p>业务模型应该如何得到呢？这里有两种方式是比较合理的：</p><ol>\n<li>根据生产环境的统计信息做业务比例的统计，然后设定到压力工具中。有很多不能在线上直接做压力测试的系统，都通过这种方式获取业务模型。</li>\n<li>直接在生产环境中做流量复制的方式或压力工具直接对生产环境发起压力的方式做压力测试。这种方式被很多人称为全链路压测。其实在生产中做压力测试的方式，最重要的工作不是技术，而是组织协调能力。相信参与过的人都能体会这句话的重量。</li>\n</ol><h3>响应时间的258原则合理吗？</h3><p>对于响应时间，有很多人还在说着258或2510响应时间是业内的通用标准。然后我问他们这个标准的出处在哪里？谁写的？背景是什么？几乎没有人知道。真是不能想像，一个谁都不知道出处的原则居然会有那么大的传播范围，就像谣言一样，出来之后，再也找不到源头。</p><p>其实这是在80年代的时候，英国一家IT媒体对音乐缓冲服务做的一次调查。在那个年代，得到的结果是，2秒客户满意度不错；5秒满意度就下降了，但还有利润；8秒时，就没有利润了。于是他们就把这个统计数据公布了出来，这样就出现了258 principle，翻译成中文之后，它就像一个万年不变的定理，深深影响着很多人。</p><p>距离这个统计结果的出现，已经过去快40年了，IT发展的都能上天了，这个时间现在已经完全不适用了。所以，以后出去别再提258/2510响应时间原则这样的话了，太不专业。</p><p>那么响应时间如何设计比较合理呢？这里有两种思路推荐给你。</p><ol>\n<li>同行业的对比数据。</li>\n<li>找到使用系统的样本用户（越多越好），对他们做统计，将结果拿出来，就是最有效的响应时间的制定标准。</li>\n</ol><h3>性能指标的计算方式</h3><p>我们在网上经常可以看到有人引用这几个公式。</p><p>公式（1）：</p><p>并发用户数计算的通用公式：$C = \\frac{nL}{T}$</p><p>其中C是平均的并发用户数；n是login session的数量；L是login session的平均长度；T指考察的时间段长度。</p><p>公式（2）：</p><p>并发用户数峰值： $C’ ≈ C+3\\times\\sqrt{C}$</p><p>C’指并发用户数的峰值，C就是公式（1）中得到的平均的并发用户数。该公式是假设用户的login session产生符合泊松分布而估算得到的。</p><p>仔细搜索之后发现会发现这两个公式的出处是2004年一个叫Eric Man Wong的人写的一篇名叫《Method for Estimating the Number of Concurrent Users》的文章。中英文我都反复看到很多篇。同时也会网上看到有些文章中把这个文章描述成“业界公认”的计算方法。</p><p>在原文中，有几个地方的问题。</p><ol>\n<li>C并不是并发用户，而是在线用户。</li>\n<li>这两个公式做了很多的假设条件，比如说符合泊松分布什么的。为什么说这个假设有问题？我们都知道泊松分布是一个钟型分布，它分析的是一个系统在全周期中的整体状态。</li>\n<li>如果要让它在实际的项目中得到实用，还需要有大量的统计数据做样本，代入计算公式才能验证它的可信度。</li>\n<li>峰值的计算，我就不说了，我觉得如果你是做性能的，应该一看就知道这个比例不符合大部分真实系统的逻辑。</li>\n<li>有些人把这两个公式和Little定律做比较。我要说Little定律是最基础的排队论定律，并且这个定律只说明了：系统中物体的平均数量等于物体到达系统的平均速率和物体在系统中停留的平均时间的乘积。我觉得这句话，就跟秦腔中的”出门来只觉得脊背朝后“是一样一样的。</li>\n</ol><p>有人说应该如何来做系统容量的预估呢。我们现在很多系统的预估都是在一定的假设条件之下的，之所以是预估，说明系统还不在，或者还没达到那样的量。在这种情况下，我们可以根据现有的数据，做统计分析、做排队论模型，进而推导以后的系统容量。</p><p>但是我们所有做性能的人都应该知道，系统的容量是演进来的，而不是光凭预估就可以得出准确数值的。</p><h2>总结</h2><p>今天的这一篇和前两篇文章是一个体系，我利用这三篇文章对当前的性能测试市场上的一些关键概念进行一些拆解。性能测试策略、性能测试场景、性能测试指标，这些关键的概念在性能测试中深深地影响着很多人。我们简化它的逻辑，只需要记住几个关键字就可以，其他的都不必使用。</p><ol>\n<li>\n<p>性能测试概念中：性能指标、性能模型、性能场景、性能监控、性能实施、性能报告。</p>\n</li>\n<li>\n<p>性能场景中：基准场景、容量场景、稳定性场景、异常场景。</p>\n</li>\n<li>\n<p>性能指标中：TPS、RT。 （记住T的定义是根据不同的目标来的）</p>\n</li>\n</ol><p>有了这些之后，一个清晰的性能框架就已经出现了。</p><h2>思考题</h2><p>你能思考一下，为什么258响应时间不合理吗？像“业务模型用28原则”这些看似常识性的知识点，错在哪里呢？</p><p>欢迎你在评论区写下你的思考，我会和你一起交流，也欢迎把这篇文章分享给你的朋友或者同事，一起交流一下。</p>","neighbors":{"left":{"article_title":"02丨性能综述：TPS和响应时间之间是什么关系？","id":178076},"right":{"article_title":"04丨JMeter和LoadRunner：要知道工具仅仅只是工具","id":180770}},"comments":[{"had_liked":false,"id":162925,"user_name":"飞翔","can_delete":false,"product_type":"c1","uid":1786626,"ip_address":"","ucode":"FAEE37755D44C7","user_header":"","comment_is_top":false,"comment_ctime":1576631571,"is_pvip":false,"replies":[{"id":"61893","content":"对一个线程来说，如果响应时间是100ms，那这个线程在一秒内不就是：1000ms&#47;100ms = 10tps了吗？<br>如果要达到500TPS，那需要多少线程呢？就是500TPS&#47;10TPS=50线程。","user_name":"作者回复","comment_id":162925,"uid":"1785562","ip_address":"","utype":1,"ctime":1576632872,"user_name_real":"高楼(Zee)"}],"discussion_count":11,"race_medal":0,"score":"353763949843","product_id":100042501,"comment_content":"如果这时响应时间是 100ms，那显然并发线程数是 500TPS&#47;(1000ms&#47;100ms)=50(并发线程)。 这没看明白是什么意思","like_count":82,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478180,"discussion_content":"对一个线程来说，如果响应时间是100ms，那这个线程在一秒内不就是：1000ms/100ms = 10tps了吗？\n如果要达到500TPS，那需要多少线程呢？就是500TPS/10TPS=50线程。","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1576632872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1705643,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/06/ab/ba20f342.jpg","nickname":"餘生","note":"","ucode":"3F15F78D4004B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":97641,"discussion_content":"这样写不好理解吧，TPS的s不是second吗，1s=1000ms，如果按比例计算的话，500TPS/1000ms×100ms=50这样会不会让读者更好理解呢","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1577113772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":5,"child_discussions":[{"author":{"id":1748911,"avatar":"","nickname":"Geek_aa8017","note":"","ucode":"286195887103C2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1705643,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/06/ab/ba20f342.jpg","nickname":"餘生","note":"","ucode":"3F15F78D4004B5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155310,"discussion_content":"我也是这样理解的","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1580224230,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":97641,"ip_address":""},"score":155310,"extra":""},{"author":{"id":1539341,"avatar":"https://static001.geekbang.org/account/avatar/00/17/7d/0d/c753174e.jpg","nickname":"筱の简單","note":"","ucode":"B2E922D534A893","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1705643,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/06/ab/ba20f342.jpg","nickname":"餘生","note":"","ucode":"3F15F78D4004B5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":167416,"discussion_content":"同样这么理解😂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581491947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":97641,"ip_address":""},"score":167416,"extra":""},{"author":{"id":1004698,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg","nickname":"每天晒白牙","note":"","ucode":"A1B102CD933DEA","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":1705643,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/06/ab/ba20f342.jpg","nickname":"餘生","note":"","ucode":"3F15F78D4004B5","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":206561,"discussion_content":"500TPS/1000ms 指什么呢？ 然后在乘以 100ms 又代表啥，我还是有点没看明白，能帮忙解释一下吗？ 老师上面的解释，我理解了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584414829,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":97641,"ip_address":""},"score":206561,"extra":""}]},{"author":{"id":1050444,"avatar":"https://static001.geekbang.org/account/avatar/00/10/07/4c/1eec5844.jpg","nickname":"Duxuebing","note":"","ucode":"3902E4B0C9F63E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571679,"discussion_content":"这个问题我也是看的一脸懵，高楼的评论我也看的有点懵。倒是@餘生 和 @粟海军 的评论我可以更好的去理解","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652343726,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2902752,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJaaRiaBo5xtYPib3az6lBtSG8ibebDUVGgSMRPD3nGn9hr0Iz8dDZXxMzsUV2M7uiaicBg9HdBxcSFic7g/132","nickname":"Geek_b83fff","note":"","ucode":"AFA20C90BCBF02","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557861,"discussion_content":"这里的线程 是指服务端的线程还是测试工具的线程啊？按我理解应该是测试工具的线程，可是响应时间是由服务端决定的吧，服务端的响应时间 和测试客户端的线程做计算没有什么意义啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648004063,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1785821,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3f/dd/f918566d.jpg","nickname":"夏目","note":"","ucode":"038B4FDFE8A306","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261771,"discussion_content":"我发现了一个问题tps是每秒事务数，已经有秒这个条件了。是我的问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589004219,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1785821,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3f/dd/f918566d.jpg","nickname":"夏目","note":"","ucode":"038B4FDFE8A306","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261712,"discussion_content":"1s = 1000ms\n\n根据上面那个图中的例子来说，有三个关键点\n\n4个并发线程\n1秒完成4个事物。（这里面有两个条件1秒和4事物）\n\n这样我们就可以得出1秒完成的总事物数 = 4 * 4 = 16\n\n\n下面的这个例子中，有两个条件\n\n1500tps 响应时间 100ms\n\n求多少个线程，这里面少了一个重要的条件，一个线程1s处理多少个事务，少了这个条件是没法计算的。\n\n上面的例子还有一个前提说明&#34;上面的一个框中有四个箭头，每个都代表着相同的事务。&#34;\n\n没有这个说明计算也是有争论的，因为现实中不可能每个事务都相同。\n\n而你们说的直接用500tps / 1000s * 100ms 我不懂是什么逻辑。\n\n老师评论里面的例子也有一个关键点&#34;对一个线程来说，如果响应时间是100ms，那这个线程在一秒内不就是：1000ms/100ms = 10tps了吗？&#34; 后半段话中，老师自己定义了1个线程1秒是10个tps，而没有在文中体现。\n\n这样理解起来有些费力，毕竟确少条件怎么计算结果呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588995694,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163547,"user_name":"nana","can_delete":false,"product_type":"c1","uid":1258652,"ip_address":"","ucode":"C4AD21B5F52F71","user_header":"https://static001.geekbang.org/account/avatar/00/13/34/9c/30cd6840.jpg","comment_is_top":false,"comment_ctime":1576741336,"is_pvip":false,"replies":[{"id":"62233","content":"这里我把constant throughput timer设置为all threads来说。<br><br>1. 如果constant throughput timer里设置了10 samplers per min，即是不管你有多少threads，都是只发10个samplers per min出去。<br>如果你设置了1个thread，那就是6秒发一个。<br>如果你设置了2个threads，那就是一次发2个，12秒发一次。<br>如果你设置了20个threads，那就是一开始就会发20个出去，然后再等2分钟之后再发后面20个。<br><br>number of threads（users）和ramp-up period不管如何设置，都会受前面设置的constant throughput timer控制。即是按分钟来计算sampler，要是发多了，后面停的时间就长。 ","user_name":"作者回复","comment_id":163547,"uid":"1785562","ip_address":"","utype":1,"ctime":1576756377,"user_name_real":"高楼(Zee)"}],"discussion_count":4,"race_medal":0,"score":"83181119960","product_id":100042501,"comment_content":"老师好，有个问题麻烦问下jmeter压测constant throughput timer中设置的qps ，实际中的threads是怎么分配的？对于number of threads（users）和ramp-up period设置压上去的throughput和前面提到的qps这个不同点，麻烦解释下，辛苦多谢啦","like_count":19,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478443,"discussion_content":"这里我把constant throughput timer设置为all threads来说。\n\n1. 如果constant throughput timer里设置了10 samplers per min，即是不管你有多少threads，都是只发10个samplers per min出去。\n如果你设置了1个thread，那就是6秒发一个。\n如果你设置了2个threads，那就是一次发2个，12秒发一次。\n如果你设置了20个threads，那就是一开始就会发20个出去，然后再等2分钟之后再发后面20个。\n\nnumber of threads（users）和ramp-up period不管如何设置，都会受前面设置的constant throughput timer控制。即是按分钟来计算sampler，要是发多了，后面停的时间就长。 ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1576756377,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1786708,"avatar":"","nickname":"倪晓可","note":"","ucode":"481DD7F5F2CEC2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":102526,"discussion_content":"老师，6秒是从哪里来的？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577351812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1170955,"avatar":"https://static001.geekbang.org/account/avatar/00/11/de/0b/485945f1.jpg","nickname":"lostmango","note":"","ucode":"CA50FBD69E6DBB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1786708,"avatar":"","nickname":"倪晓可","note":"","ucode":"481DD7F5F2CEC2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":171272,"discussion_content":"1min/10","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581694749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":102526,"ip_address":""},"score":171272,"extra":""}]},{"author":{"id":1258652,"avatar":"https://static001.geekbang.org/account/avatar/00/13/34/9c/30cd6840.jpg","nickname":"nana","note":"","ucode":"C4AD21B5F52F71","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":91056,"discussion_content":"多谢多谢，受益良多，谢谢啦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576807568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162603,"user_name":"zuozewei","can_delete":false,"product_type":"c1","uid":1039631,"ip_address":"","ucode":"D594C9CBAF15A5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/dd/0f/ee37a7fe.jpg","comment_is_top":false,"comment_ctime":1576564191,"is_pvip":false,"replies":[{"id":"61873","content":"深得真传。哈哈。","user_name":"作者回复","comment_id":162603,"uid":"1785562","ip_address":"","utype":1,"ctime":1576585806,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"70296040927","product_id":100042501,"comment_content":"第一个问题：<br>这个命题的争论有个bug，问题在于「快、好」的定义上。做为不同业务下的性能水平，快的定义是不一样的，比如在数据处理业务中，常分OLAP（联机分析处理）、OLTP（联机事务处理），比如一个简单的 OLTP 查询有大厂是要求微妙级别的，OLAP 统计报表类的业务查询几分钟也是可以接受啊。<br><br>第二个问题：<br>在一个具体的业务场景中，性能场景中的业务模型和二八原则并没有什么关系，即使从宏观上来说有关系，也是很牵强的，至少至今为止，还没看到任何有数据和数学公式的支撑证明。","like_count":16,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478099,"discussion_content":"深得真传。哈哈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576585806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179149,"user_name":"顺利","can_delete":false,"product_type":"c1","uid":1618652,"ip_address":"","ucode":"C904941C8BA6DA","user_header":"https://static001.geekbang.org/account/avatar/00/18/b2/dc/67e0e985.jpg","comment_is_top":false,"comment_ctime":1581927552,"is_pvip":false,"replies":[{"id":"69624","content":"没理解这个问题是啥。<br>首先要测试每秒500用户并发，那就要看你设置事务的粒度了。要计算并发的线程应该有多少，才能支持500用户并发，也就是前文提到的并发度。<br>响应时间是10ms，梯度场景要根据系统能够支持的最大TPS来计算，这个最大TPS可以通过二分法来评估。当响应时间是10ms时，显然一个压力线程会产生100TPS，如果系统大概能支持2000TPS，在不考虑性能损耗的情况下，就是需要20个压力线程，一般在这种情况下，我会做4-5个梯度。","user_name":"作者回复","comment_id":179149,"uid":"1785562","ip_address":"","utype":1,"ctime":1581988439,"user_name_real":"高楼(Zee)"}],"discussion_count":3,"race_medal":0,"score":"53121535104","product_id":100042501,"comment_content":"同学提问： 那是不是jmeter测试每秒500个用户并发 就是设置50个线程 Ramp-Up为1秒？老师的回复: 不一定，要看响应时间是多长，做出有梯度的场景来。<br>我的问题是：如果响应时间是10ms，如何得出这个梯度的场景。求解答","like_count":12,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484112,"discussion_content":"没理解这个问题是啥。\n首先要测试每秒500用户并发，那就要看你设置事务的粒度了。要计算并发的线程应该有多少，才能支持500用户并发，也就是前文提到的并发度。\n响应时间是10ms，梯度场景要根据系统能够支持的最大TPS来计算，这个最大TPS可以通过二分法来评估。当响应时间是10ms时，显然一个压力线程会产生100TPS，如果系统大概能支持2000TPS，在不考虑性能损耗的情况下，就是需要20个压力线程，一般在这种情况下，我会做4-5个梯度。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581988439,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2902752,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJaaRiaBo5xtYPib3az6lBtSG8ibebDUVGgSMRPD3nGn9hr0Iz8dDZXxMzsUV2M7uiaicBg9HdBxcSFic7g/132","nickname":"Geek_b83fff","note":"","ucode":"AFA20C90BCBF02","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":557862,"discussion_content":"这个响应时间10ms是谁的响应时间？是压力工具发出一个事务请求到得到服务器反馈结果的时间吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648004613,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":484112,"ip_address":""},"score":557862,"extra":""}]},{"author":{"id":2252459,"avatar":"https://static001.geekbang.org/account/avatar/00/22/5e/ab/a32ca00c.jpg","nickname":"磊子","note":"","ucode":"7DAF87F84F5B40","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":322059,"discussion_content":"各位能讲讲这个并发度吗，有具体的实践测算方法吗？就是客户预估我有多少在线用户，然后推多少并发合适","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1604669098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163689,"user_name":"miminiMei","can_delete":false,"product_type":"c1","uid":1507297,"ip_address":"","ucode":"1DD6F0C75D1E85","user_header":"https://static001.geekbang.org/account/avatar/00/16/ff/e1/d2e4ed37.jpg","comment_is_top":false,"comment_ctime":1576767809,"is_pvip":false,"replies":[{"id":"62292","content":"多谢鼓励。不过还是要关注技术重点哦。哈。","user_name":"作者回复","comment_id":163689,"uid":"1785562","ip_address":"","utype":1,"ctime":1576811896,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"40231473473","product_id":100042501,"comment_content":"老师的声音好好听，可以一直听，反复听😉","like_count":9,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478507,"discussion_content":"多谢鼓励。不过还是要关注技术重点哦。哈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576811896,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163964,"user_name":"律飛","can_delete":false,"product_type":"c1","uid":1462608,"ip_address":"","ucode":"65394E437AD2DF","user_header":"https://static001.geekbang.org/account/avatar/00/16/51/50/f5f2a121.jpg","comment_is_top":false,"comment_ctime":1576835203,"is_pvip":false,"replies":[{"id":"62354","content":"理解的非常正确。希望后续的篇幅能让你满意。我也尽我所能。 ","user_name":"作者回复","comment_id":163964,"uid":"1785562","ip_address":"","utype":1,"ctime":1576846971,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"31641606275","product_id":100042501,"comment_content":"第一个问题，世界上没有一个放之四海而皆准的原则理论，拿来就用必出问题，唯有知其然，知其所依然，才能正确使用。感谢老师给我们上了生动的一课，在学习中始终保持一份好奇心，多思考，多问几个问题，才能学以致用。<br>第二个问题，二八定律是19世纪末20世纪初意大利经济学家帕累托发现的。帕累托从大量具体的事实中发现：社会上20%的人占有80%的社会财富，即：财富在人口中的分配是不平衡的。现在这个定律被广泛用在很多领域，比较有名如时间管理认为，20%的时间完成80%的工作。其实我个人认为，就时间管理而言，这个二八定律也是不合适的，是学渣们自我偷懒的借口。所以很喜欢老师说的，不要满口理论、定律等花架子，应该按照业务，按照样本数据分析结果，从实际出发，这样才能实事求是，做出符合实际的业务预估。<br>        这堂课还需好好消化，也建议老师结合自己的实践，提出你自己的模型，让我们学习参考借鉴！","like_count":7,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478597,"discussion_content":"理解的非常正确。希望后续的篇幅能让你满意。我也尽我所能。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576846971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":171468,"user_name":"大脸猫","can_delete":false,"product_type":"c1","uid":1168509,"ip_address":"","ucode":"5DD9035BF16012","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoYs6FqOibbPfLRJxV2E2l6ibQz5GgwtI9KibxqDs5o4Uklno24pulGoUI0W8QNL4ruO4gn7CmTLD5VQ/132","comment_is_top":false,"comment_ctime":1578927298,"is_pvip":false,"replies":[{"id":"66503","content":"通常我都不用吞吐量这个概念。因为它在不同人的脑子里会存在一些误解。<br>比如说，有些人说吞吐量就是在说TPS。有些人说吞吐量是说的每秒字节数。<br>所以不建议用这个概念来承载性能指标。有TPS就够了。","user_name":"作者回复","comment_id":171468,"uid":"1785562","ip_address":"","utype":1,"ctime":1578975290,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"27348731074","product_id":100042501,"comment_content":"老师，请问吞吐量怎么理解我一直没明白，吞吐量和TPS，响应时间之间有什么关系","like_count":6,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481364,"discussion_content":"通常我都不用吞吐量这个概念。因为它在不同人的脑子里会存在一些误解。\n比如说，有些人说吞吐量就是在说TPS。有些人说吞吐量是说的每秒字节数。\n所以不建议用这个概念来承载性能指标。有TPS就够了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578975290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162761,"user_name":"夜空中最亮的星","can_delete":false,"product_type":"c1","uid":1267566,"ip_address":"","ucode":"ADC3E7B6789955","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/6e/b6795c44.jpg","comment_is_top":false,"comment_ctime":1576585605,"is_pvip":false,"replies":[{"id":"61875","content":"有过性能经验的人都会有超值的感觉。哈哈。","user_name":"作者回复","comment_id":162761,"uid":"1785562","ip_address":"","utype":1,"ctime":1576587668,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"27346389381","product_id":100042501,"comment_content":"这一篇超值了","like_count":6,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478142,"discussion_content":"有过性能经验的人都会有超值的感觉。哈哈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576587668,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162575,"user_name":"棋子","can_delete":false,"product_type":"c1","uid":1085007,"ip_address":"","ucode":"6F08F05AA2D529","user_header":"https://static001.geekbang.org/account/avatar/00/10/8e/4f/2ba81594.jpg","comment_is_top":false,"comment_ctime":1576558842,"is_pvip":true,"replies":[{"id":"61842","content":"别急，后面的更新中就有你想要的测试场景的具体推演方法。<br>","user_name":"作者回复","comment_id":162575,"uid":"1785562","ip_address":"","utype":1,"ctime":1576562459,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"27346362618","product_id":100042501,"comment_content":"有没有一套相对普适的测试场景、衡量指标以及对应的测试方法论？看完3篇感觉思维有点儿混乱。也可能是自身想通过课程走捷径，有点急躁，谢谢🙏","like_count":6,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478091,"discussion_content":"别急，后面的更新中就有你想要的测试场景的具体推演方法。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576562459,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":222529,"user_name":"秋水共长天一色🌄","can_delete":false,"product_type":"c1","uid":1558942,"ip_address":"","ucode":"60ED887C419C3D","user_header":"https://static001.geekbang.org/account/avatar/00/17/c9/9e/ce7c8522.jpg","comment_is_top":false,"comment_ctime":1590828242,"is_pvip":false,"replies":[{"id":"84046","content":"1. 用户级会包括业务下的所有接口。<br>2. 理解的对。<br>3. 看时间长度。<br>4. 不管是调接口还是调方法，不都是调用 吗？<br>5. 基准测试场景的结果。","user_name":"作者回复","comment_id":222529,"uid":"1785562","ip_address":"","utype":1,"ctime":1592533413,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"23065664722","product_id":100042501,"comment_content":"老师你好，我在读了你的这篇文章之后也产生了几个疑问。<br>    1.就在文中你在解释TPS中的T的定义时，你提到了三种脚本情况，1是接口级，2是业务级，3是用户级。主要用户级中有提到一个点击的动作的这个步骤，如果在jmeter中进行压测是要怎样体现这个步骤？还有我们定义业务接口层脚本时是只将主流程的接口收录呢还是说会将这个页面下所有的接口都收录呢？（例如在一些商城项目中，确认订单页面有生成订单的接口，这个我们可以认为这是主流程的接口，但是也有可能有调一些关于获取广告信息的接口，但是这个接口与主流程下单流程没什么关系，但是又确实消耗了服务器资源了，那我们在写脚本时是否还需要把这部分也写进去）<br>    2.一个事务的完成我理解的是主要看这个脚本是如何编写的，如果这个事务的脚本中只有针对一个接口而已，那么接口请求完成后就算是完成一个事务。如果这个事务脚本中有10个接口组成的事务，那就需要10个接口都请求完成了才算一个事务的完成，这样理解对吗？<br>    3.对于QPS，我们在实际工作中我们要如何得知数据库查询在整个请求中所占的比重呢？<br>    4.在解释RPS的时候给出了一个例子（如果一个用户点击了一次，发出来 3 个 HTTP Request，调用了 2 次订单服务，调用了 2 次库存服务，调用了 1 次积分服务），这三个http请求我能理解，但是中间你是用了“调用”这个词，这里的调用是指订单服务内部去调用库存服务和积分服务的外放接口还是说调用的库存服务和积分服务公开的方法？<br>    5.还有在并发线程时有提到一个公式（500TPS&#47;(1000ms&#47;100ms)=50(并发线程)），我想知道其中的这个100ms的这个响应时间是如何得出的？是通过对一个脚本进行单一线程执行一次的方式得出的响应时间吗？<br>    6.还有这个课程解答了很大一部分我对与性能测试中想不通的点，这个课程很值，感谢老师的分享。<br>","like_count":6,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496830,"discussion_content":"1. 用户级会包括业务下的所有接口。\n2. 理解的对。\n3. 看时间长度。\n4. 不管是调接口还是调方法，不都是调用 吗？\n5. 基准测试场景的结果。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592533413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":201602,"user_name":"妍","can_delete":false,"product_type":"c1","uid":1434093,"ip_address":"","ucode":"9B4C219AC24E61","user_header":"https://static001.geekbang.org/account/avatar/00/15/e1/ed/b0284986.jpg","comment_is_top":false,"comment_ctime":1585810823,"is_pvip":false,"replies":[{"id":"75401","content":"当然是后者。","user_name":"作者回复","comment_id":201602,"uid":"1785562","ip_address":"","utype":1,"ctime":1585829743,"user_name_real":"高楼(Zee)"}],"discussion_count":3,"race_medal":0,"score":"23060647303","product_id":100042501,"comment_content":"老师您好，有个问题请教一下 ，在jmeter中，设置200 并发，1s内发出，，执行结果中 平均响应时间为6ms，，那我的TPS 计算是200还是200*（1&#47;0.006）呢？<br>","like_count":5,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490375,"discussion_content":"当然是后者。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585829743,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1608927,"avatar":"https://static001.geekbang.org/account/avatar/00/18/8c/df/8b57c8a1.jpg","nickname":"逆时针转向","note":"","ucode":"12F9399076A625","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":573942,"discussion_content":"老师您好，为什么要强调1/0.006,而不是200/0.006呢？那要是这么算的话，2s内发出，平均响应时间也是6ms，tps难道是200*(2/0.006)?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653740315,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":490375,"ip_address":""},"score":573942,"extra":""}]},{"author":{"id":2718372,"avatar":"https://static001.geekbang.org/account/avatar/00/29/7a/a4/e6e9640f.jpg","nickname":"kahoku","note":"","ucode":"9C2B82710742D0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589861,"discussion_content":"TPS不应该是每秒处理事务数吗？那TPS应该是1/0.006吧，就是166。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665368650,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"湖北"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163534,"user_name":"rainbowzhouj","can_delete":false,"product_type":"c1","uid":1786797,"ip_address":"","ucode":"F90723B1777EA4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Ce5DHQHpoeWBDMtibPAO9QKfRgRz9RvA3jgibMfJnyIXmOgZulVW02NYtn6ibF2fGNMQZ7z6LopHrknqB6MAzP1pw/132","comment_is_top":false,"comment_ctime":1576737909,"is_pvip":false,"replies":[{"id":"62182","content":"理解的非常正确。","user_name":"作者回复","comment_id":163534,"uid":"1785562","ip_address":"","utype":1,"ctime":1576749156,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"23051574389","product_id":100042501,"comment_content":"第一个问题：<br>不合理之处在于没有结合实际场景去规定它的响应时间。响应时间是否合理是要进行对比的，例如现在的大数据技术测试，在不同的条件配置下处理TB级的数据，响应时间半天、一天都可以说是合理的响应时间。因为影响响应时间的因素有很多（存储方式，调度方式，参数调优等），单独拿“258”说明是没有意义的。<br><br>第二个问题：<br>常识的适用情况在于通用，但实际场景中经常会有各种“意外”。以12306购票系统为例，以前春运抢票时经常会有朋友、家人吐槽12306好卡、好慢，我估计之前就是业务模型用了28原则，虽然已经进行过了压力测试、疲劳测试，但还是抵挡不住全国人民着急回家的心情，拼命的发送请求......所以实际情况要实际考虑，以通用估意外肯定会才很多坑，只有不断地优化，更新才能一步步满足用户地需要。（PS：现在12306系统已经好很多了）","like_count":5,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478434,"discussion_content":"理解的非常正确。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576749156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162552,"user_name":"漫漫","can_delete":false,"product_type":"c1","uid":1438433,"ip_address":"","ucode":"5B02D37DEF75A5","user_header":"https://static001.geekbang.org/account/avatar/00/15/f2/e1/3366ed5f.jpg","comment_is_top":false,"comment_ctime":1576552946,"is_pvip":false,"replies":[{"id":"61844","content":"所以就得有仲裁能力的人，而这个人就应该是性能测试团队中来，在我的工作经历中，我的团队就是干这个仲裁的事情。","user_name":"作者回复","comment_id":162552,"uid":"1785562","ip_address":"","utype":1,"ctime":1576562535,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"23051389426","product_id":100042501,"comment_content":"一模一样，每个人都认为不是自己的问题","like_count":5,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478084,"discussion_content":"所以就得有仲裁能力的人，而这个人就应该是性能测试团队中来，在我的工作经历中，我的团队就是干这个仲裁的事情。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576562535,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162510,"user_name":"Geek_618ac5","can_delete":false,"product_type":"c1","uid":1786449,"ip_address":"","ucode":"62F90C6F80B8A2","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/aCVlj0fom8geRoXFkO34JWPCbrsOEmDOOficXvxBZ3kic9pot0mbZ8p5FIkkkibvAXdxfoWJHdmLBV47aib78RTxQw/132","comment_is_top":false,"comment_ctime":1576546886,"is_pvip":false,"replies":[{"id":"61801","content":"新开发的产品当然不是收集线上业务数据的方式。而应该来自于产品设计的团队，或同行业的数据比对。<br>","user_name":"作者回复","comment_id":162510,"uid":"1785562","ip_address":"","utype":1,"ctime":1576547546,"user_name_real":"高楼(Zee)"}],"discussion_count":2,"race_medal":0,"score":"23051383366","product_id":100042501,"comment_content":"有点虚，都是讲一些 指标计算方式 不准，能否给一个准的？ 新的刚开发的系统什么都没有，怎么收集线上业务数据？ ","like_count":5,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478071,"discussion_content":"新开发的产品当然不是收集线上业务数据的方式。而应该来自于产品设计的团队，或同行业的数据比对。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576547546,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1785783,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3f/b7/142c2fef.jpg","nickname":"陈文琪","note":"","ucode":"B25099D146A078","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":106175,"discussion_content":"对于新项目，是否能够拿第一次压测的性能结果，作为下一次性能测试的指标？","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1577520001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162331,"user_name":"吃饭睡觉打豆豆","can_delete":false,"product_type":"c1","uid":1165319,"ip_address":"","ucode":"9D7B3748C2EDFA","user_header":"https://static001.geekbang.org/account/avatar/00/11/c8/07/09cc4bdc.jpg","comment_is_top":false,"comment_ctime":1576501140,"is_pvip":false,"replies":[{"id":"61813","content":"非常正的想法。响应时间从来都没有标准。","user_name":"作者回复","comment_id":162331,"uid":"1785562","ip_address":"","utype":1,"ctime":1576548149,"user_name_real":"高楼(Zee)"}],"discussion_count":2,"race_medal":0,"score":"23051337620","product_id":100042501,"comment_content":"其实我觉得这个什么所谓的28，258，25810原则都是虚的，直接点就是测目前系统实际的并发数和吞吐量","like_count":5,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478017,"discussion_content":"非常正的想法。响应时间从来都没有标准。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576548149,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1166705,"avatar":"https://static001.geekbang.org/account/avatar/00/11/cd/71/a1771310.jpg","nickname":"IT媚娘","note":"","ucode":"35FA61C50FFCB3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":85676,"discussion_content":"不理解你说的，TPS也是根据响应时间算的啊？关注TPS 就不需要关注响应时间了吗","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576565456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":253193,"user_name":"aoe","can_delete":false,"product_type":"c1","uid":1121758,"ip_address":"","ucode":"1C6201EDB4E954","user_header":"https://static001.geekbang.org/account/avatar/00/11/1d/de/62bfa83f.jpg","comment_is_top":false,"comment_ctime":1602645976,"is_pvip":false,"replies":[{"id":"93950","content":"风月是故事，岁月是人生。年纪大了，总是有岁月也有风月的。哈哈。 ","user_name":"作者回复","comment_id":253193,"uid":"1785562","ip_address":"","utype":1,"ctime":1604281949,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"18782515160","product_id":100042501,"comment_content":"老师是一个有故事的人，文章很精彩，例子很生动。把技术文章写成了小说。","like_count":4,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506999,"discussion_content":"风月是故事，岁月是人生。年纪大了，总是有岁月也有风月的。哈哈。 ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1604281949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169726,"user_name":"sharpdeep","can_delete":false,"product_type":"c1","uid":1486457,"ip_address":"","ucode":"DFA5F7D327095D","user_header":"https://static001.geekbang.org/account/avatar/00/16/ae/79/da524393.jpg","comment_is_top":false,"comment_ctime":1578416538,"is_pvip":false,"replies":[{"id":"65895","content":"等以后有机会再说这个大话题。操作过程基本上可以写一个新专栏。而说的太空洞，又不是我的风格。","user_name":"作者回复","comment_id":169726,"uid":"1785562","ip_address":"","utype":1,"ctime":1578459079,"user_name_real":"高楼(Zee)"}],"discussion_count":2,"race_medal":0,"score":"18758285722","product_id":100042501,"comment_content":"在这种情况下，我们可以根据现有的数据，做统计分析、做排队论模型，进而推导以后的系统容量。<br><br>做统计分析，做排队论模型，这个具体是怎么操作？","like_count":4,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480695,"discussion_content":"等以后有机会再说这个大话题。操作过程基本上可以写一个新专栏。而说的太空洞，又不是我的风格。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578459079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1281460,"avatar":"https://static001.geekbang.org/account/avatar/00/13/8d/b4/ff82483d.jpg","nickname":"邵俊达","note":"","ucode":"4B7DACE6DBCF95","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":250728,"discussion_content":"期待新专栏","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588037182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167421,"user_name":"钟","can_delete":false,"product_type":"c1","uid":1520194,"ip_address":"","ucode":"4DEE4E15FDDE45","user_header":"https://static001.geekbang.org/account/avatar/00/17/32/42/667cc7ab.jpg","comment_is_top":false,"comment_ctime":1577789129,"is_pvip":false,"replies":[{"id":"64995","content":"要说每一刻，并发肯定就是4了。<br>而我们描述服务端的性能指标时都不是时刻为单位的。","user_name":"作者回复","comment_id":167421,"uid":"1785562","ip_address":"","utype":1,"ctime":1577802747,"user_name_real":"高楼(Zee)"}],"discussion_count":5,"race_medal":0,"score":"18757658313","product_id":100042501,"comment_content":"在上面这张示意图中，其实压力工具是 4 个并发线程，由于每个线程都可以在一秒内完成 4 个事务，所以总的 TPS 是 16。这非常容易理解吧。而在大部分非技术人的脑子里，这样的场景就是并发数是 4，而不是 16。<br><br>——————————————<br>这里的场景tps是16没错， 并发数是4\b为什么错了呢？<br>并发的意思不就是同时请求数量吗？ 4个线程， 每一刻都是只有4个同时的请求在处理","like_count":4,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479858,"discussion_content":"要说每一刻，并发肯定就是4了。\n而我们描述服务端的性能指标时都不是时刻为单位的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577802747,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1721812,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/45/d4/39a662ef.jpg","nickname":"路客","note":"","ucode":"DE3765016947DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535614,"discussion_content":"怎么可以确定出一个线程1秒里头有4个事务的？这个数据怎么获取到呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638497013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2252459,"avatar":"https://static001.geekbang.org/account/avatar/00/22/5e/ab/a32ca00c.jpg","nickname":"磊子","note":"","ucode":"7DAF87F84F5B40","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":322082,"discussion_content":"其实可以理解为，业内会把压力端线程数等同于服务器能承载的并发数，实际情况是，当性能差时，50和500并发tps都在50笔/s，不能简单认为服务器并发从50到500，实际并发仍然是50，所以综合，作者找了一个tps来承载服务器并发的概念","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604672298,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2170649,"avatar":"","nickname":"taylor_53","note":"","ucode":"EFA50ED69F3B9C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309952,"discussion_content":"想问问老师，描述服务端的性能指标时以啥为单位呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601539059,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1122311,"avatar":"https://static001.geekbang.org/account/avatar/00/11/20/07/aef14454.jpg","nickname":"hoppaz","note":"","ucode":"2CBA5C1784AC6D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203173,"discussion_content":"此处是不是应该理解为四个线程分别触发了四个事务是以系统内部服务为粒度，每秒事务(0,1,2,3号服务之间的请求)数是16，但是对整个系统对外（每个线程模拟一个用户使用流程）来说，每秒事务(完成一个订单并计算积分)数应该是4？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584007475,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":165460,"user_name":"郭刚","can_delete":false,"product_type":"c1","uid":1292032,"ip_address":"","ucode":"22CB8ECE8E3DCA","user_header":"https://static001.geekbang.org/account/avatar/00/13/b7/00/12149f4e.jpg","comment_is_top":false,"comment_ctime":1577240541,"is_pvip":false,"replies":[{"id":"63129","content":"这种无脑的性能需求，只有强势的碾压沟通可以解决了，要不然就得扔鞋子了。","user_name":"作者回复","comment_id":165460,"uid":"1785562","ip_address":"","utype":1,"ctime":1577264859,"user_name_real":"高楼(Zee)"}],"discussion_count":1,"race_medal":0,"score":"14462142429","product_id":100042501,"comment_content":"我们经常遇到这样的问题，系统注册用户有2万，我们的公式是2万*5%*5%，第一个5%是在线用户数，第二个5%是压力测试的用户数。 用户不同意，至少要测试并发数1千，测试环境的机器又不行，经常鸡飞狗跳，无语啊！","like_count":3,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479166,"discussion_content":"这种无脑的性能需求，只有强势的碾压沟通可以解决了，要不然就得扔鞋子了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577264859,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":165138,"user_name":"月半虫工🍧","can_delete":false,"product_type":"c1","uid":1555819,"ip_address":"","ucode":"641511BEA17877","user_header":"https://static001.geekbang.org/account/avatar/00/17/bd/6b/9bf96783.jpg","comment_is_top":false,"comment_ctime":1577170294,"is_pvip":false,"replies":[{"id":"62919","content":"1. 通过监控可以得出。<br>2. 在我的经验中，其实主要业务才有1%~5%。<br>345. TPS、RT和压力机的并发线程数。都是不用计算的，是直接通过测试执行得出的。在文中所说的只是说明他们之间的关系而已。","user_name":"作者回复","comment_id":165138,"uid":"1785562","ip_address":"","utype":1,"ctime":1577175630,"user_name_real":"高楼(Zee)"}],"discussion_count":2,"race_medal":0,"score":"14462072182","product_id":100042501,"comment_content":"老师，我有些点不太确定：<br>1.在线用户数是通过监控得出的数据吗？<br>2.并发度是主要业务才会大些，其他业务的并发度在1%～5%？<br>3.TPS是有上面两个业务指标计算得出来的？<br>4.响应时间是通过生产数据得出的，算是已知条件？<br>5.并发线程是由TPS *响应时间得出的，是需要计算的？<br>我把我的理解写在笔记里，希望能得到解答：<br>https:&#47;&#47;mubu.com&#47;doc&#47;x98c71O2aZ","like_count":3,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479044,"discussion_content":"1. 通过监控可以得出。\n2. 在我的经验中，其实主要业务才有1%~5%。\n345. TPS、RT和压力机的并发线程数。都是不用计算的，是直接通过测试执行得出的。在文中所说的只是说明他们之间的关系而已。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577175630,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1798448,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELATia0VvDM22r9HiaZvcVsicrWWSRnr9VzvGPoictzNObibz5eHv699vledBqrvCricIMCsG1HFBTkeibxg/132","nickname":"王胖子","note":"","ucode":"30B72B0C2BA742","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333568,"discussion_content":"1是指的在线连接数吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607564861,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162730,"user_name":"漏沙","can_delete":false,"product_type":"c1","uid":1786762,"ip_address":"","ucode":"E5A93323F790B5","user_header":"https://static001.geekbang.org/account/avatar/00/1b/43/8a/cbf0a470.jpg","comment_is_top":false,"comment_ctime":1576582062,"is_pvip":false,"replies":[{"id":"61869","content":"所以要有有经验的人在项目中嘛，这样才能借鉴得了其他的竞品数据。<br>要是人也没经验，项目也没历史数据，那只能拍脑袋了哇。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1576585645,"ip_address":"","comment_id":162730,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14461483950","product_id":100042501,"comment_content":"新的系统没有业务数据支撑，很多都说参考行业或者竞品系统，行业数据或者竞品的信息也没有公开，要怎么收集呢，大神是怎么做的呀！","like_count":3,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478132,"discussion_content":"所以要有有经验的人在项目中嘛，这样才能借鉴得了其他的竞品数据。\n要是人也没经验，项目也没历史数据，那只能拍脑袋了哇。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576585645,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":307997,"user_name":"Geek_23ac57","can_delete":false,"product_type":"c1","uid":2648025,"ip_address":"","ucode":"8CE506A2E5D237","user_header":"","comment_is_top":false,"comment_ctime":1629353227,"is_pvip":false,"replies":[{"id":"111626","content":"请看一下《高楼的性能工程实战课》专栏中的第8章，里面有具体的计算逻辑。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1629476908,"ip_address":"","comment_id":307997,"utype":1}],"discussion_count":4,"race_medal":0,"score":"10219287819","product_id":100042501,"comment_content":"我想知道怎么分析这个并发度呀，我们实际业务场景是在一分钟会有10000多个用户进行登陆注册，那么这段时间的并发度取0.6%嘛还是怎么计算的，我懵了","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525361,"discussion_content":"请看一下《高楼的性能工程实战课》专栏中的第8章，里面有具体的计算逻辑。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629476908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2868700,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/c5/dc/4e81dc1e.jpg","nickname":"pengyang","note":"","ucode":"47958E6E586E9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538857,"discussion_content":"啥系统一分钟10000个用户注册   淘宝也没这么多吧","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1639540187,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1038245,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/d7/a5/6e047fbc.jpg","nickname":"Olivia","note":"","ucode":"BE840A032F1DF4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2868700,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/c5/dc/4e81dc1e.jpg","nickname":"pengyang","note":"","ucode":"47958E6E586E9B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587109,"discussion_content":"也不是完全没可能，比如一个大会上发布一个系统，直接给出个二维码让大家注册，加上分会场人数，即使没有10000人，几千人也是有可能的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662798862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":538857,"ip_address":"上海"},"score":587109,"extra":""}]},{"author":{"id":2528622,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJibVLTficPrvWKDSvMTbMWP98kboTp4wVj3XC2ct37icYVPicq91cV9bwcvQ6zjEVQng1qvNdNU8cCMA/132","nickname":"Wjw_nn","note":"","ucode":"BD6692EA011589","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397022,"discussion_content":"我也想知道并发度是怎样计算的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632542764,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":267820,"user_name":"Cyx","can_delete":false,"product_type":"c1","uid":1675707,"ip_address":"","ucode":"B041B820CA73FD","user_header":"https://static001.geekbang.org/account/avatar/00/19/91/bb/f1d1483f.jpg","comment_is_top":false,"comment_ctime":1607944138,"is_pvip":false,"replies":[{"id":"97297","content":"之前评论中发过书单，可以留意一下。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1608006582,"ip_address":"","comment_id":267820,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10197878730","product_id":100042501,"comment_content":"老师，没有性能基础，看完完全蒙掉，后面的课程也这么难吗？或者老师有没有推荐的基础点的东西？","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511756,"discussion_content":"之前评论中发过书单，可以留意一下。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608006582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2837136,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/4a/90/a2c162a3.jpg","nickname":"橙航","note":"","ucode":"3FD71E01A37BCE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412194,"discussion_content":"同问一下，书单哈哈\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636099042,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1675707,"avatar":"https://static001.geekbang.org/account/avatar/00/19/91/bb/f1d1483f.jpg","nickname":"Cyx","note":"","ucode":"B041B820CA73FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334891,"discussion_content":"老师，评论太多了，也不确定是哪个文章的评论，您可以发我一份吗？🙏","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608019553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235329,"user_name":"大白","can_delete":false,"product_type":"c1","uid":2030039,"ip_address":"","ucode":"41304E2743BDB0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/B7mcB2ZFuTbB4OgjR9nXQsL6nlZFLq6Y1XDicdp8KhoNmzLCRsvEJxD584SampUsialBgYuxN3ibfXJHqdx0RMWmA/132","comment_is_top":false,"comment_ctime":1594976153,"is_pvip":false,"replies":[{"id":"87961","content":"1. 基准测试就是一个单独的交易或接口，持续递增地加压，观察最大TPS。分析就是本专栏写的所有内容了。<br>2. 是的，服务端的处理能力才是并发数。我们是用TPS来承载并发的。而一个单独的线程在单位时间内，是可以产生多个TPS的，或者是几个单位时间内产生一个TPS，所以线程数和TPS并不是一一对应。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1596070323,"ip_address":"","comment_id":235329,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10184910745","product_id":100042501,"comment_content":"老师，有时间请踩一下我<br>1、如何进行基准测试，基准测试如何进行数据分析？<br>2、之前我理解的并发用户数 就是并发线程数（单接口）， TPS是服务器单位时间内事务处理数，看了文章后为什么并发用户数会是TPS呢? 难道是这么理解？--&gt;服务端的单位时间内的处理能力才是大家口中的并发数？ ","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501690,"discussion_content":"1. 基准测试就是一个单独的交易或接口，持续递增地加压，观察最大TPS。分析就是本专栏写的所有内容了。\n2. 是的，服务端的处理能力才是并发数。我们是用TPS来承载并发的。而一个单独的线程在单位时间内，是可以产生多个TPS的，或者是几个单位时间内产生一个TPS，所以线程数和TPS并不是一一对应。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596070323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2170649,"avatar":"","nickname":"taylor_53","note":"","ucode":"EFA50ED69F3B9C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":309951,"discussion_content":"对第二个问题我也有相同的疑问，而且老师的回答看不太明白","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1601538471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":195894,"user_name":"Geek_f20bfb","can_delete":false,"product_type":"c1","uid":1787169,"ip_address":"","ucode":"6A9C5E9605B1DF","user_header":"https://static001.geekbang.org/account/avatar/00/1b/45/21/4d3de923.jpg","comment_is_top":false,"comment_ctime":1585221974,"is_pvip":false,"replies":[{"id":"74357","content":"减少timewait时长，快速释放端口。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1585232478,"ip_address":"","comment_id":195894,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10175156566","product_id":100042501,"comment_content":"在并发的时候，TPS达1000左右，服务端的6w多个端口一下就满了，然后报错了，这种要怎么处理？","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489184,"discussion_content":"减少timewait时长，快速释放端口。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585232478,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1737941,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/84/d5/4945125f.jpg","nickname":"Echo","note":"","ucode":"D1A68260A1851B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577802,"discussion_content":"6万多端口满了这个我也没看懂","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656342526,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1344029,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/bdKibflkBxLON37Xzeltia5icCHgeHUrIhTttaerZxvQ3C6w0fI28wmeZrAer5mRhJuxN8leyzbLYsKAmia5EToFLA/132","nickname":"jkee","note":"","ucode":"93B1EFDF734FAC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550884,"discussion_content":"老师，这位同学问题中的6W多个端口满了是什么意思啊，没有看懂。。。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644775473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":164949,"user_name":"餘生","can_delete":false,"product_type":"c1","uid":1705643,"ip_address":"","ucode":"3F15F78D4004B5","user_header":"https://static001.geekbang.org/account/avatar/00/1a/06/ab/ba20f342.jpg","comment_is_top":false,"comment_ctime":1577115492,"is_pvip":false,"replies":[{"id":"62859","content":"以讹传讹的理念根深蒂固。而战斗在一线的都深受其苦。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577145313,"ip_address":"","comment_id":164949,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10167050084","product_id":100042501,"comment_content":"赞一个，对于刚做性能的我，这文章很好的查漏补缺。258原则那里之前一直被其他人误导，其实自己做的时候都觉得有点奇怪怎么还会按照258原则来做标准呢，现在这年代3秒都觉得慢了。。","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478965,"discussion_content":"以讹传讹的理念根深蒂固。而战斗在一线的都深受其苦。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577145313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162823,"user_name":"start","can_delete":false,"product_type":"c1","uid":1593006,"ip_address":"","ucode":"402CF635D6067C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/1uP7K0RUIQZ87oXE5GVDDclD3GRIDPRyhYfmSic7hq9GBYvjibgBaSPXLTWYjEqbSYbwFhunw6ibntgLa3C7VyibWw/132","comment_is_top":false,"comment_ctime":1576595658,"is_pvip":false,"replies":[{"id":"61877","content":"1，生产统计。<br>2，经验数据。<br>","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1576598146,"ip_address":"","comment_id":162823,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10166530250","product_id":100042501,"comment_content":"并发度一般怎么分析获取","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478157,"discussion_content":"1，生产统计。\n2，经验数据。\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576598146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162376,"user_name":"王心凌","can_delete":false,"product_type":"c1","uid":1593376,"ip_address":"","ucode":"A51E0C56B6AC73","user_header":"https://static001.geekbang.org/account/avatar/00/18/50/20/34bdc8e2.jpg","comment_is_top":false,"comment_ctime":1576506553,"is_pvip":false,"replies":[{"id":"61810","content":"多谢支持。多交流。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1576547896,"ip_address":"","comment_id":162376,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10166441145","product_id":100042501,"comment_content":"一口气看完三篇，很契合工作中的性能测试","like_count":2,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478033,"discussion_content":"多谢支持。多交流。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576547896,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311667,"user_name":"將","can_delete":false,"product_type":"c1","uid":2763069,"ip_address":"","ucode":"AFBB3404BF20B2","user_header":"https://static001.geekbang.org/account/avatar/00/2a/29/3d/e633bdf9.jpg","comment_is_top":false,"comment_ctime":1631373061,"is_pvip":false,"replies":[{"id":"114826","content":"厄，你有具体的案例要设计吗？可以描述一下你的需求。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1634690995,"ip_address":"","comment_id":311667,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5926340357","product_id":100042501,"comment_content":"通常情况下，积分我们都会异步，而库存不能异步哇。所以这个业务，你可以看成只有 1、2 两个接口，但是在做这样的业务级压力时，3 接口也是必须要监控分析的。<br>所以，性能中 TPS 中 T 的定义取决于场景的目标和 T 的作用。一般我们都会这样来定事务。<br>接口级脚本：<br>——事务 start（接口 1）<br>接口 1 脚本<br>——事务 end（接口 1）<br>——事务 start（接口 2）<br>接口 2 脚本<br>——事务 end（接口 2）<br>——事务 start（接口 3）<br>接口 3 脚本<br>——事务 end（接口 3）<br>业务级接口层脚本（就是用接口拼接出一个完整的业务流）：<br>——事务 start（业务 A）<br>接口 1 脚本 - 接口 2（同步调用）<br>接口 1 脚本 - 接口 3（异步调用）<br>——事务 end（业务 A）   ，大佬这个接口级脚本和业务级脚本我没看懂，能解释一下吗","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526697,"discussion_content":"厄，你有具体的案例要设计吗？可以描述一下你的需求。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634690995,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301346,"user_name":"章鱼","can_delete":false,"product_type":"c1","uid":2673745,"ip_address":"","ucode":"D44893DC2526D4","user_header":"","comment_is_top":false,"comment_ctime":1625641223,"is_pvip":false,"replies":[{"id":"109117","content":"动手操作会理解的快点。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1625647442,"ip_address":"","comment_id":301346,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5920608519","product_id":100042501,"comment_content":"每一篇都要看好几遍，初级小白，读起文章来是真的慢的很，还不容易理解","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522973,"discussion_content":"动手操作会理解的快点。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625647442,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1619847,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b7/87/a49eea43.jpg","nickname":"靓仔","note":"","ucode":"A6D0799C6CDBC5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386194,"discussion_content":"一样小白，看起来有点吃力，感觉挺盲目的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627463002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300626,"user_name":"johnny","can_delete":false,"product_type":"c1","uid":1210226,"ip_address":"","ucode":"54E78B7BBC6AF0","user_header":"https://static001.geekbang.org/account/avatar/00/12/77/72/8f77ddb0.jpg","comment_is_top":false,"comment_ctime":1625278724,"is_pvip":false,"replies":[{"id":"108929","content":"是的。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1625291835,"ip_address":"","comment_id":300626,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5920246020","product_id":100042501,"comment_content":"“拿 5% 来计算，就是 10000 用户 x5%=500(TPS)，注意哦，这里是 TPS，而不是并发线程数。”<br>老师， 10000 用户 x5%=500(TPS)这个计算过程是不是应该有个前提条件？这个前提就是一个用户只完成一个T(即事物)，或者说一个用户对应一个T(即事物)。<br>如果是每个用户对应2个T(即事物)，那么TPS还要翻倍，就是500(TPS)*2=1000(TPS)。","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522782,"discussion_content":"是的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625291835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295469,"user_name":"沙棘","can_delete":false,"product_type":"c1","uid":2025411,"ip_address":"","ucode":"2B1E258A5530B2","user_header":"https://static001.geekbang.org/account/avatar/00/1e/e7/c3/ad741cdf.jpg","comment_is_top":false,"comment_ctime":1622442706,"is_pvip":false,"replies":[{"id":"107365","content":"就是视角的不同。业务是由接口组装起来的。 <br>比如一个业务可以由3个接口组成的，那当业务容量是100TPS的时候，接口容量就是300TPS了。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1622535582,"ip_address":"","comment_id":295469,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5917410002","product_id":100042501,"comment_content":"老师，请教一下，接口容量和业务容量有什么区别？","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521092,"discussion_content":"就是视角的不同。业务是由接口组装起来的。 \n比如一个业务可以由3个接口组成的，那当业务容量是100TPS的时候，接口容量就是300TPS了。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622535582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":284466,"user_name":"赵云","can_delete":false,"product_type":"c1","uid":2221430,"ip_address":"","ucode":"634A0C51CFD4B5","user_header":"https://static001.geekbang.org/account/avatar/00/21/e5/76/91e4b3f8.jpg","comment_is_top":false,"comment_ctime":1616265768,"is_pvip":false,"replies":[{"id":"103230","content":"可能有人清楚，有人迷糊吧。我看还是有不少人在概念里迷糊。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1616422195,"ip_address":"","comment_id":284466,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5911233064","product_id":100042501,"comment_content":"已经具体从事性能测试这项工作的人，把概念搞混的可能性不大，因为具体的操作会去验证概念的实用性，不可能拿错误的含糊不清的概念去指导具体的测试工作。。。看概念看的我快不会中文了。。。","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517358,"discussion_content":"可能有人清楚，有人迷糊吧。我看还是有不少人在概念里迷糊。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1616422195,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":251037,"user_name":"路客","can_delete":false,"product_type":"c1","uid":1721812,"ip_address":"","ucode":"DE3765016947DA","user_header":"https://static001.geekbang.org/account/avatar/00/1a/45/d4/39a662ef.jpg","comment_is_top":false,"comment_ctime":1601341832,"is_pvip":false,"replies":[{"id":"93959","content":"因为一个线程一秒内可能执行了多次迭代呀。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1604282840,"ip_address":"","comment_id":251037,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5896309128","product_id":100042501,"comment_content":"我有个问题一直没想明白，比如用jmeter压测，工具并发10个线程，那tps为啥会比10还大呢？就是tps总是比并发线程数大，这个是怎么个原理呢？请老师或者同学帮我解答下这个疑惑","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506371,"discussion_content":"因为一个线程一秒内可能执行了多次迭代呀。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604282840,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1674059,"avatar":"https://static001.geekbang.org/account/avatar/00/19/8b/4b/9e0d334f.jpg","nickname":"⛽️🦆","note":"","ucode":"7D952CAFDBBD99","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349481,"discussion_content":"比如你使用Jmter压测时，压测5分钟， 那么总共就是300s，使用10个线程来跑， 比如在这300s内总共请求了接口6000次，那么你的TPS就是 20。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1613229005,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186825,"user_name":"小呀么小二郎","can_delete":false,"product_type":"c1","uid":1326905,"ip_address":"","ucode":"149540DCFDF43E","user_header":"https://static001.geekbang.org/account/avatar/00/14/3f/39/b1558fc9.jpg","comment_is_top":false,"comment_ctime":1583934618,"is_pvip":false,"replies":[{"id":"72100","content":"写这么多内容。认真思考的典范。<br><br>问题1：对于线上系统来说，处理的都是一个个业务，业务就是T。所以这个逻辑很简单就能理解。至于并发度，是指导在线的用户中有多少正在执行操作。<br>2. 压力工具的并发线程数必然不能理解为并发用户数。这个我反复提到压力线程、TPS、并发用户数这几个概念时都是严格分开的。<br><br>PS：我是狮子座，就没有不正确的地方！哈哈","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1583940783,"ip_address":"","comment_id":186825,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5878901914","product_id":100042501,"comment_content":"百度了一下原则的定义：原则是指经过长期经验总结所得出的合理化的现象。举例是“理论与实践的统一，是马克思主义的一个最基本的原则。” 连原则都告诉我们要理论结合实际了。这些所谓的原则和公式不感觉到脸红嘛<br><br>哈哈哈，老师最后讲的三个问题，28原则，258原则，性能指标计算公式。都是我一个个跳进去的坑啊。尤其是28原则，简直是哪儿哪儿都有。那个公式也是，我怎么都看不明白，一度怀疑是我智商问题。<br><br>这节课也是继续“辟谣”的一节，老师辛苦了。<br><br>我反思了一下，其实这些所谓的“原则”能一直这么盛行，也是因为很多人不爱进行深度思考（比如我），我甚至从来没想过去找一下这个原则、那个规则到底是谁提出来的，不然自己其实也不用主动往坑里跳了。固化的思维模式、简单的拿来主义，这都是不可取的。要时常带有批判精神，多进行深度思考，才能“知其所以然”并且不掉坑。话说，老师讲的是不是也会有不正确的地方呢？（偷笑）<br><br>我的疑问是：<br>1、为什么在线用户数×并发度=TPS？并发度这个概念我不是很理解。<br>2、并发线程数可以理解为并发用户数吗？","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486886,"discussion_content":"写这么多内容。认真思考的典范。\n\n问题1：对于线上系统来说，处理的都是一个个业务，业务就是T。所以这个逻辑很简单就能理解。至于并发度，是指导在线的用户中有多少正在执行操作。\n2. 压力工具的并发线程数必然不能理解为并发用户数。这个我反复提到压力线程、TPS、并发用户数这几个概念时都是严格分开的。\n\nPS：我是狮子座，就没有不正确的地方！哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583940783,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1122311,"avatar":"https://static001.geekbang.org/account/avatar/00/11/20/07/aef14454.jpg","nickname":"hoppaz","note":"","ucode":"2CBA5C1784AC6D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203157,"discussion_content":"拿 5% 来计算，就是 10000 用户 x5%=500(TPS)，注意哦，这里是 TPS，而不是并发线程数。如果这时响应时间是 100ms，那显然并发线程数是 500TPS/(1000ms/100ms)=50(并发线程)。 所以我们可以在jmeter脚本中，将线程数设置成50。                                                             \n                                                                                                                               \n那么并发用户数的计算公式是怎样的？应该如何落实到脚本中呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584005705,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179143,"user_name":"顺利","can_delete":false,"product_type":"c1","uid":1618652,"ip_address":"","ucode":"C904941C8BA6DA","user_header":"https://static001.geekbang.org/account/avatar/00/18/b2/dc/67e0e985.jpg","comment_is_top":false,"comment_ctime":1581926304,"is_pvip":false,"replies":[{"id":"69625","content":"ramp-up太短了，要设置长一些哦。比如300s。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1581988503,"ip_address":"","comment_id":179143,"utype":1}],"discussion_count":6,"race_medal":0,"score":"5876893600","product_id":100042501,"comment_content":"像文中的例子，线程组应该怎么设置呢？线程数：50，Ramp-Up：1，循环次数：永远。这样可以吗老师。","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484111,"discussion_content":"ramp-up太短了，要设置长一些哦。比如300s。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581988503,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1448728,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJxcn8jmPIKr0ibuEcNHXu1o5Ho7mITHdWOiaUjI7affqI6sXMVibtCQC7viaic139hlTblTkyYqqP6oFg/132","nickname":"Geek_659eaa","note":"","ucode":"7B81E2190E5511","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":532719,"discussion_content":"同问，ramp-up时间为什么是300ms呢？@高楼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637673267,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2362278,"avatar":"","nickname":"罗伟","note":"","ucode":"9A1E3AA6BF31AF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392243,"discussion_content":"我也有同样的疑问。如果是设置这么长时间是为了看递增的tps，那业务中，场景是类似春晚那种摇一摇瞬时上去的，这个时候ramp-up 需要怎么设置呢。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630919918,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1502735,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL06DePazHRU24iaGubbg5XOhvYQTkHRrItic9AvbZ24cjgFqfy620u9pOIoGu8FlK61oicEh8cGfHCw/132","nickname":"lazytortoise","note":"","ucode":"F597FB1F7C089C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2362278,"avatar":"","nickname":"罗伟","note":"","ucode":"9A1E3AA6BF31AF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589451,"discussion_content":"设置为0 不就瞬时了吗？  \n\nramp-up 设置为300s  ，还是有300ms 有答案了吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664958723,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":392243,"ip_address":"湖南"},"score":589451,"extra":""}]},{"author":{"id":1712509,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Cyuxk6Ej9B5G9icGd2h9OicjdbuWMsQsB0cOZoRXLN6zX5bfmCXB4yHiaicOcE5OUicGDIaodS9T4Ws6lGBibFWoSlKQ/132","nickname":"Geek_081377","note":"","ucode":"62FC733855B002","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282093,"discussion_content":"老师为什么要设置300s这么长时间呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591884944,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1608927,"avatar":"https://static001.geekbang.org/account/avatar/00/18/8c/df/8b57c8a1.jpg","nickname":"逆时针转向","note":"","ucode":"12F9399076A625","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1712509,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Cyuxk6Ej9B5G9icGd2h9OicjdbuWMsQsB0cOZoRXLN6zX5bfmCXB4yHiaicOcE5OUicGDIaodS9T4Ws6lGBibFWoSlKQ/132","nickname":"Geek_081377","note":"","ucode":"62FC733855B002","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573962,"discussion_content":"有没有这种可能，老师想打的是3s","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653747722,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":282093,"ip_address":""},"score":573962,"extra":""}]}]},{"had_liked":false,"id":177227,"user_name":"Geek_8e5c47","can_delete":false,"product_type":"c1","uid":1168193,"ip_address":"","ucode":"82ED291D6F661D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJUHvicvia3fpBfsNh78uuUIhsLyrk0AwSN1Dau7pR3hrEsERANT6UyrSd3gIBVyQibD2nPRzkibJLxibA/132","comment_is_top":false,"comment_ctime":1581326609,"is_pvip":false,"replies":[{"id":"68840","content":"如果不能确定，那就不是标准，也不是原则了。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1581346125,"ip_address":"","comment_id":177227,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5876293905","product_id":100042501,"comment_content":"258是前端页面打开响应时间吧，大家都是想做到越快越好，但是有时候加载数据，加载图片总是需要时间的。感觉也不能太绝对说258不太适用。","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483353,"discussion_content":"如果不能确定，那就不是标准，也不是原则了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581346125,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172950,"user_name":"私人领域","can_delete":false,"product_type":"c1","uid":1316545,"ip_address":"","ucode":"77662A2785849B","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/c1/db559c42.jpg","comment_is_top":false,"comment_ctime":1579383404,"is_pvip":false,"replies":[{"id":"67173","content":"这个我在专栏中有说明吧。<br>像nginx上就有request time和response time时间。tomcat也有。<br>mysql的处理逻辑或业务的时间耗时这句没看懂是什么意思？对SQL要看的是从执行到结束的每个环节。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1579485544,"ip_address":"","comment_id":172950,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5874350700","product_id":100042501,"comment_content":"请问下时间拆分这块怎么做，比如链路是（忽略硬件设备）jmeter-nginx-tomcat-mysql，比如jmeter-nginx中间，请求和返回的时间怎么计算？nginx到tomcat之间的耗时怎么计算，tomcat-mysql之间的耗时如何计算？而自身nginx，tomcat，mysql处理逻辑或者业务的时间耗时又如何计算呢？","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481913,"discussion_content":"这个我在专栏中有说明吧。\n像nginx上就有request time和response time时间。tomcat也有。\nmysql的处理逻辑或业务的时间耗时这句没看懂是什么意思？对SQL要看的是从执行到结束的每个环节。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579485544,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172638,"user_name":"李金涛","can_delete":false,"product_type":"c1","uid":1163417,"ip_address":"","ucode":"7F5461940141B3","user_header":"https://static001.geekbang.org/account/avatar/00/11/c0/99/ae61f7c6.jpg","comment_is_top":false,"comment_ctime":1579241592,"is_pvip":false,"replies":[{"id":"67017","content":"不一定，要看响应时间是多长，做出有梯度的场景来。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1579269296,"ip_address":"","comment_id":172638,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5874208888","product_id":100042501,"comment_content":"您好 那是不是jmeter测试每秒500个用户并发 就是设置50个线程 Ramp-Up为1秒？","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481801,"discussion_content":"不一定，要看响应时间是多长，做出有梯度的场景来。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579269296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1122311,"avatar":"https://static001.geekbang.org/account/avatar/00/11/20/07/aef14454.jpg","nickname":"hoppaz","note":"","ucode":"2CBA5C1784AC6D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":203150,"discussion_content":"响应时间是在脚本运行过程中一直变化的，如何在脚本运行前就知道响应时间数值去配置线程数？","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584005451,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169254,"user_name":"beyond","can_delete":false,"product_type":"c1","uid":1785687,"ip_address":"","ucode":"F9EA3C622A0EAC","user_header":"https://static001.geekbang.org/account/avatar/00/1b/3f/57/6e892566.jpg","comment_is_top":false,"comment_ctime":1578301494,"is_pvip":false,"replies":[{"id":"65694","content":"后面写。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1578360339,"ip_address":"","comment_id":169254,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5873268790","product_id":100042501,"comment_content":"可以讲讲其他性能指标么？比如常用数据库的、常用中间件的（Weblogic、kafka。。）等","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480483,"discussion_content":"后面写。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578360339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163717,"user_name":"刘毅","can_delete":false,"product_type":"c1","uid":1366538,"ip_address":"","ucode":"7BD1C57AC6F06C","user_header":"https://static001.geekbang.org/account/avatar/00/14/da/0a/edbab4c0.jpg","comment_is_top":false,"comment_ctime":1576772067,"is_pvip":false,"replies":[{"id":"62294","content":"非常对。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1576811907,"ip_address":"","comment_id":163717,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5871739363","product_id":100042501,"comment_content":"第一个问题：258不合理一方面理论过于陈旧，脱离时代；另一方面，空洞的指标不足以应对市场需求，市场是需要竞争的，所以指标同样是竞争的项目。","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478514,"discussion_content":"非常对。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576811907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162623,"user_name":"IT媚娘","can_delete":false,"product_type":"c1","uid":1166705,"ip_address":"","ucode":"35FA61C50FFCB3","user_header":"https://static001.geekbang.org/account/avatar/00/11/cd/71/a1771310.jpg","comment_is_top":false,"comment_ctime":1576568414,"is_pvip":false,"replies":[{"id":"61872","content":"现在应该算是完全不适用了。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1576585753,"ip_address":"","comment_id":162623,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5871535710","product_id":100042501,"comment_content":"258原则应该是指，用户打开页面到看到页面数据的时间，性能测试的场景有很多种，不一定适用所有","like_count":1,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478108,"discussion_content":"现在应该算是完全不适用了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576585753,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359685,"user_name":"taoc","can_delete":false,"product_type":"c1","uid":1972693,"ip_address":"四川","ucode":"0747FF231DEC6A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo5Jqmggkf2Zk4JfVqS4kAlVSM2oGUiaCpx4Sb0PdBuSxX5FEDmtxyKvEOMIVsY1s3FCeRf2NKvCTA/132","comment_is_top":false,"comment_ctime":1665748231,"is_pvip":false,"replies":[{"id":"130953","content":"在一个团队中只要说着出来的概念在每个人的脑子里是同一个含义就可以，这个倒不用纠结。关键是你们想不想用这个并发数来表达真实用户级的业务，如果想的话，那显然就不合理。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1666188730,"ip_address":"四川","comment_id":359685,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1665748231","product_id":100042501,"comment_content":"老师，我在公司里做压测，大家都喜欢用QPS去做一个压测结果的衡量，包括之前的压测报告。我也咨询过运维，他认为qps就是我压测服务所能支撑的并发数（另外运维做的监控也是针对QPS做的）。但是我看了这节文章后发现老师强调的是TPS更能准确的反映。我尝试说服他们，但他们说TPS更趋向于一个完整的事务，包含了多次请求，或者说是一个完整的业务，不能反映单个接口的性能。我有点凌乱了，到底该用什么去出测试报告。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590957,"discussion_content":"在一个团队中只要说着出来的概念在每个人的脑子里是同一个含义就可以，这个倒不用纠结。关键是你们想不想用这个并发数来表达真实用户级的业务，如果想的话，那显然就不合理。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666188730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"四川"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359575,"user_name":"Geek_27e511","can_delete":false,"product_type":"c1","uid":3191095,"ip_address":"四川","ucode":"68FE63A2F8A520","user_header":"","comment_is_top":false,"comment_ctime":1665652606,"is_pvip":false,"replies":[{"id":"130955","content":"在专栏中，我提过，是用tps来承载并发这个概念的。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1666188883,"ip_address":"四川","comment_id":359575,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1665652606","product_id":100042501,"comment_content":"&quot; 10000 用户 x5%=500(用户级 TPS)&quot;  这个地方我也有异议， 这里的时间单位S 是怎么突然蹦出来的？这么说不严谨吧？<br><br>我觉得似乎应该说：10000个用户的5%，就是说要完成总共500个T，然后再是说假定这一共500 个T要在1秒钟内完成， 而1s&#47;100ms 是单独一个线程的一秒钟可以做多少个T（TPS）,  所以一除就是总共需要多少个线程了(500&#47;10)。1S在这里是统一时间单位的， 并不是说一开始你就知道500TPS.","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590959,"discussion_content":"在专栏中，我提过，是用tps来承载并发这个概念的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666188883,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"四川"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359237,"user_name":"kahoku","can_delete":false,"product_type":"c1","uid":2718372,"ip_address":"四川","ucode":"9C2B82710742D0","user_header":"https://static001.geekbang.org/account/avatar/00/29/7a/a4/e6e9640f.jpg","comment_is_top":false,"comment_ctime":1665368216,"is_pvip":false,"replies":[{"id":"130958","content":"如果你说绝对的同时的话，那直接数cpu个数就行了。 ","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1666188966,"ip_address":"四川","comment_id":359237,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1665368216","product_id":100042501,"comment_content":"“在上面这张示意图中，其实压力工具是 4 个并发线程，由于每个线程都可以在一秒内完成 4 个事务，所以总的 TPS 是 16。这非常容易理解吧。而在大部分非技术人的脑子里，这样的场景就是并发数是 4，而不是 16。”  这句话颠覆了我对并发的认知，但是还是有疑问，我之前的理解并发应该是绝对的同时这个概念，而老师确说是在一秒内完成的事务量，那与TPS不就是一样了吗？那应该对客户可以说是每秒并发数是16，或者直接说TPS是16，但是内部技术人员在沟通时确实应该说并发就是4吧。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590962,"discussion_content":"如果你说绝对的同时的话，那直接数cpu个数就行了。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666188966,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"四川"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353473,"user_name":"挺好的","can_delete":false,"product_type":"c1","uid":3015165,"ip_address":"北京","ucode":"9C8F24830A00A8","user_header":"","comment_is_top":false,"comment_ctime":1659490944,"is_pvip":true,"replies":[{"id":"129302","content":"我括号里写了这是指的用户级的TPS，也就是说这个T是代表问题的，所以不用再看具体请求数了。 如果是http请求级的TPS，那需要再计算了。 ","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1661331062,"ip_address":"北京","comment_id":353473,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1659490944","product_id":100042501,"comment_content":"拿 5% 来计算，就是 10000 用户 x5%=500(用户级 TPS)，注意哦，这里是 TPS，而不是并发线程数。如果这时响应时间是 100ms，那显然并发线程数是 500TPS&#47;(1000ms&#47;100ms)=50(并发线程)。<br><br>老师好，上面这个描述，还需要每个并发用户在当前业务中产生的请求数吗，因为一个用户在一个业务可能会有十几个请求或者几十个。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585092,"discussion_content":"我括号里写了这是指的用户级的TPS，也就是说这个T是代表问题的，所以不用再看具体请求数了。 如果是http请求级的TPS，那需要再计算了。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661331062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350904,"user_name":"Geek6584","can_delete":false,"product_type":"c1","uid":2715303,"ip_address":"北京","ucode":"D12FEBA8D2EA2A","user_header":"","comment_is_top":false,"comment_ctime":1657330472,"is_pvip":false,"replies":[{"id":"129318","content":"这个话题有点大。 首先得先说性能分析决策树才能说具体的技术指标。在第二个专栏中有相应的描述。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1661333174,"ip_address":"北京","comment_id":350904,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1657330472","product_id":100042501,"comment_content":"业务指标和技术指标能展开说下吗？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585111,"discussion_content":"这个话题有点大。 首先得先说性能分析决策树才能说具体的技术指标。在第二个专栏中有相应的描述。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661333174,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350834,"user_name":"Geek6584","can_delete":false,"product_type":"c1","uid":2715303,"ip_address":"北京","ucode":"D12FEBA8D2EA2A","user_header":"","comment_is_top":false,"comment_ctime":1657248336,"is_pvip":false,"replies":[{"id":"129322","content":"这么明确也不明白？再仔细想想。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1661333460,"ip_address":"北京","comment_id":350834,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1657248336","product_id":100042501,"comment_content":"你好，我想请问下，RT=T2-T1是什么意思？没看明白","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585115,"discussion_content":"这么明确也不明白？再仔细想想。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661333460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":347348,"user_name":"追风筝的人","can_delete":false,"product_type":"c1","uid":1488020,"ip_address":"","ucode":"2993D60F94C396","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","comment_is_top":false,"comment_ctime":1653964933,"is_pvip":false,"replies":[{"id":"127153","content":"关键词都对。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1655906799,"ip_address":"","comment_id":347348,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1653964933","product_id":100042501,"comment_content":"性能测试概念中：性能指标、性能模型、性能场景、性能监控、性能实施、性能报告。<br>性能场景中：基准场景、容量场景、稳定性场景、异常场景。<br>性能指标中：TPS、RT。 （记住 T 的定义是根据不同的目标来的）","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577067,"discussion_content":"关键词都对。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655906799,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":347343,"user_name":"追风筝的人","can_delete":false,"product_type":"c1","uid":1488020,"ip_address":"","ucode":"2993D60F94C396","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/94/2796de72.jpg","comment_is_top":false,"comment_ctime":1653962194,"is_pvip":false,"replies":[{"id":"127151","content":"文学青年的功底伴随到中年。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1655906738,"ip_address":"","comment_id":347343,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1653962194","product_id":100042501,"comment_content":"我记得我还年轻的时候，还没有 QPS、RPS、CPS 这样的概念，只有 TPS。那个时候，天总是那么蓝，时间总是那么慢，“你锁了人家就懂了”。浪漫","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577065,"discussion_content":"文学青年的功底伴随到中年。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655906739,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":346727,"user_name":"静水潜流，润物无声","can_delete":false,"product_type":"c1","uid":1460672,"ip_address":"","ucode":"BA6B9636DAEA2A","user_header":"https://wx.qlogo.cn/mmopen/vi_32/ibXbRJ3yOT48IHc6mayIRxibutDz2bWHxBdicNoeJBG9EG6AXpuRMhtBRmjpFvmGPBIAYNrnq6nP9okwk5oU36GSA/132","comment_is_top":false,"comment_ctime":1653384454,"is_pvip":false,"replies":[{"id":"126613","content":"标准方差。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1653834102,"ip_address":"","comment_id":346727,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1653384454","product_id":100042501,"comment_content":"请教如何衡量系统的TPS稳定性？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574107,"discussion_content":"标准方差。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653834102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345793,"user_name":"Geek_992141","can_delete":false,"product_type":"c1","uid":2984513,"ip_address":"","ucode":"5F926094A824FA","user_header":"","comment_is_top":false,"comment_ctime":1652600736,"is_pvip":false,"replies":[{"id":"126620","content":"不用转换。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1653834571,"ip_address":"","comment_id":345793,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1652600736","product_id":100042501,"comment_content":"要想解释清楚这个非常困难，我的做法就是，直接告诉别人并发是 16 就好了，不用关心 4 个线程这件事。<br>老师，这里在测试时定义事务时是业务级别，但是为了别人更好理解，把结果转换为接口级别，所以就是并发16，是吗？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574115,"discussion_content":"不用转换。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653834571,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343528,"user_name":"doos","can_delete":false,"product_type":"c1","uid":1069269,"ip_address":"","ucode":"7C9AF67F90E65C","user_header":"https://static001.geekbang.org/account/avatar/00/10/50/d5/73334a95.jpg","comment_is_top":false,"comment_ctime":1650893237,"is_pvip":false,"replies":[{"id":"125947","content":"1秒呀。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1652058941,"ip_address":"","comment_id":343528,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1650893237","product_id":100042501,"comment_content":"1000ms&#47;100ms = 10tps这个为啥是1000而不是10000或者是数字，这个1000是如何得知的，老师给讲讲，比较懵<br>","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571039,"discussion_content":"1秒呀。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652058941,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343295,"user_name":"Jinxw。","can_delete":false,"product_type":"c1","uid":2976803,"ip_address":"","ucode":"EA20A9E8BFBB9A","user_header":"https://static001.geekbang.org/account/avatar/00/2d/6c/23/c0039306.jpg","comment_is_top":false,"comment_ctime":1650770230,"is_pvip":false,"replies":[{"id":"125952","content":"就是1秒呀。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1652061158,"ip_address":"","comment_id":343295,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1650770230","product_id":100042501,"comment_content":"拿 5% 来计算，就是 10000 用户 x5%=500(用户级 TPS)，注意哦，这里是 TPS，而不是并发线程数。如果这时响应时间是 100ms，那显然并发线程数是 500TPS&#47;(1000ms&#47;100ms)=50(并发线程)。其中1000ms是从哪里来的，没明白","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571045,"discussion_content":"就是1秒呀。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652061158,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342888,"user_name":"蛙蛙的叫.","can_delete":false,"product_type":"c1","uid":2973641,"ip_address":"","ucode":"B16BE8AEBC143C","user_header":"https://static001.geekbang.org/account/avatar/00/2d/5f/c9/e4cea78d.jpg","comment_is_top":false,"comment_ctime":1650522326,"is_pvip":true,"replies":[{"id":"125319","content":"并发度是针对所有业务。要不然就没法做生产的容量评估。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1650709030,"ip_address":"","comment_id":342888,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1650522326","product_id":100042501,"comment_content":"5%的并发度，是针对单个业务而言还是多个业务的总和呢？<br>如果是针对单个业务而言，10000 用户 x5%=500(用户级 TPS)  ，这个500在做容量场景测试的时候是不是就小了？？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":566509,"discussion_content":"并发度是针对所有业务。要不然就没法做生产的容量评估。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650709031,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341685,"user_name":"hello. world","can_delete":false,"product_type":"c1","uid":1410056,"ip_address":"","ucode":"3579A0BE22C0A8","user_header":"https://static001.geekbang.org/account/avatar/00/15/84/08/c88a9683.jpg","comment_is_top":false,"comment_ctime":1649767972,"is_pvip":false,"replies":[{"id":"124900","content":"因为用户不是在4小时内一直都有动作的。 ","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1649913820,"ip_address":"","comment_id":341685,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1649767972","product_id":100042501,"comment_content":"并发用户数计算的通用公式：C=nL&#47;T​，其中 C 是平均的并发用户数；n 是 login session 的数量；L 是 login session 的平均长度；T 指考察的时间段长度。<br>n4000人，L估算用户登录到退出该系统的平均时间为4小时，T根据8时&#47;天用户使用系统情况推算4000 * 4&#47;8=2000<br><br>老师你好，翻了一遍评论发现没人提到这个公式，请问为什么说这个2000不是并发用户？Tps=并发数&#47;响应时间，假如响应时间3s，那tps就是666","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":562943,"discussion_content":"因为用户不是在4小时内一直都有动作的。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649913820,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338462,"user_name":"章鱼","can_delete":false,"product_type":"c1","uid":2673745,"ip_address":"","ucode":"D44893DC2526D4","user_header":"","comment_is_top":false,"comment_ctime":1647508620,"is_pvip":false,"replies":[{"id":"123800","content":"理解的对！","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1647665815,"ip_address":"","comment_id":338462,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647508620","product_id":100042501,"comment_content":"不合理，四十年前的实践数据是基于当前那个年代来的，那个年代得到的结果就是2s很快了，那时候发展很慢；但是现在是40年后了，时代不一样 了，计算机发展也是大不相同，以前的2s算反应快，现在的2s响应速度，那真的就很慢了，所以系统基于的环境不同，得到的实践结果也不同，也不能同一个标准进行判定","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557114,"discussion_content":"理解的对！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647665816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338407,"user_name":"敢不敢y-- 不敢","can_delete":false,"product_type":"c1","uid":2231051,"ip_address":"","ucode":"BE712193624DDD","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLERLpErfNmox2qxXAcuIIgrMX9DOX5utibwDzORysQxAWAzKNkKHGgcdMH22aD7qdm0lgic0vvEZgw/132","comment_is_top":false,"comment_ctime":1647487602,"is_pvip":false,"replies":[{"id":"123801","content":"这个问题，不问度娘是不对的。 ","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1647665874,"ip_address":"","comment_id":338407,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647487602","product_id":100042501,"comment_content":"如果一个用户点击了一次，发出来 3 个 HTTP Request，调用了 2 次订单服务，调用了 2 次库存服务，调用了 1 次积分服务，那么这个 Request 该如何计算？如果你是算 GDP 的专家，我觉得可能会是：3+2+2+1=8（次）。这里面的GDP是什么意思？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557115,"discussion_content":"这个问题，不问度娘是不对的。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647665874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":338323,"user_name":"敢不敢y-- 不敢","can_delete":false,"product_type":"c1","uid":2231051,"ip_address":"","ucode":"BE712193624DDD","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLERLpErfNmox2qxXAcuIIgrMX9DOX5utibwDzORysQxAWAzKNkKHGgcdMH22aD7qdm0lgic0vvEZgw/132","comment_is_top":false,"comment_ctime":1647423036,"is_pvip":false,"replies":[{"id":"123803","content":"这是“如果”的呀。 ","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1647666104,"ip_address":"","comment_id":338323,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1647423036","product_id":100042501,"comment_content":"如果一个用户点击了一次，发出来 3 个 HTTP Request，调用了 2 次订单服务，调用了 2 次库存服务，调用了 1 次积分服务，那么这个 Request 该如何计算？-------订单服务为什么是调用了2次？这个有点不理解","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557117,"discussion_content":"这是“如果”的呀。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647666104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330983,"user_name":"Cathy","can_delete":false,"product_type":"c1","uid":1786203,"ip_address":"","ucode":"9C474FE2C70F38","user_header":"https://static001.geekbang.org/account/avatar/00/1b/41/5b/aa3ca816.jpg","comment_is_top":false,"comment_ctime":1642338138,"is_pvip":false,"replies":[{"id":"120998","content":"笔记有点简约呀。 哈哈。 ","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1642485038,"ip_address":"","comment_id":330983,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642338138","product_id":100042501,"comment_content":"笔记：<br>本讲：并发用户数， TPS， 响应时间， 趋势<br>02讲：基准场景、容量场景、稳定性场景、异常场景<br>01讲：性能指标、性能模型、性能场景、性能监控、性能实施、性能报告<br>","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546971,"discussion_content":"笔记有点简约呀。 哈哈。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642485039,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326481,"user_name":"pengyang","can_delete":false,"product_type":"c1","uid":2868700,"ip_address":"","ucode":"47958E6E586E9B","user_header":"https://static001.geekbang.org/account/avatar/00/2b/c5/dc/4e81dc1e.jpg","comment_is_top":false,"comment_ctime":1639538884,"is_pvip":false,"replies":[{"id":"118612","content":"是的。不过，这个是算的瞬间数据。你要是算一个时间段的话，估计不会这么精准。","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1639567133,"ip_address":"","comment_id":326481,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1639538884","product_id":100042501,"comment_content":"对一个线程来说，如果响应时间是100ms，那这个线程在一秒内不就是：1000ms&#47;100ms = 10tps了吗？ 如果要达到500TPS，那需要多少线程呢？就是500TPS&#47;10TPS=50线程。<br>想问一下这个时间是平均响应时间吗","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538970,"discussion_content":"是的。不过，这个是算的瞬间数据。你要是算一个时间段的话，估计不会这么精准。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639567133,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324430,"user_name":"happy-黑皮","can_delete":false,"product_type":"c1","uid":1177177,"ip_address":"","ucode":"F1B8F18BBAC6FB","user_header":"https://static001.geekbang.org/account/avatar/00/11/f6/59/5d33271d.jpg","comment_is_top":false,"comment_ctime":1638431473,"is_pvip":false,"replies":[{"id":"117794","content":"需要。 ","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1638535004,"ip_address":"","comment_id":324430,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638431473","product_id":100042501,"comment_content":"在【压力工具中的线程数和用户数与 TPS】这一节的知识中，假如客户提出系统需要满足承载100用户并发；那么站在客户角度，通常他想要的是系统能够支撑100个用户同时做某个操作。从这个角度来看，这应该是一个秒杀场景，要测试这类场景，假设事务是用户级的，是否需要创建100个线程进行测试？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535754,"discussion_content":"需要。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638535004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323565,"user_name":"罗桂才","can_delete":false,"product_type":"c1","uid":2673731,"ip_address":"","ucode":"D974932DB322A6","user_header":"","comment_is_top":false,"comment_ctime":1637992670,"is_pvip":false,"replies":[{"id":"117511","content":"100是TPS（T是下单过程）。 ","user_name":"作者回复","user_name_real":"编辑","uid":"1785562","ctime":1638154975,"ip_address":"","comment_id":323565,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1637992670","product_id":100042501,"comment_content":"老师，您好，我想问个问题？<br>假如我要测试下单这个接口的TPS，我从生产环境数据库知道一天中最高峰情况下，同一时间（秒级）下订单数为100，那么这个100是并发数还是100并发度？并发度就是指TPS吗","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534285,"discussion_content":"100是TPS（T是下单过程）。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638154975,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320873,"user_name":"七芯海棠","can_delete":false,"product_type":"c1","uid":1164473,"ip_address":"","ucode":"7D5A9AD08F5F82","user_header":"https://static001.geekbang.org/account/avatar/00/11/c4/b9/9f6e86d1.jpg","comment_is_top":false,"comment_ctime":1636535607,"is_pvip":false,"replies":[{"id":"116606","content":"这里的4个事务，不是指后端的这些接口调用，而是指一个压力线程在一秒内循环迭代了4次。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1636687430,"ip_address":"","comment_id":320873,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636535607","product_id":100042501,"comment_content":"由于每个线程都可以在一秒内完成 4 个事务，所以总的 TPS 是 16<br>怎么看出来的一个线程每秒可以处理四个事务。一个线程到达前端，然后前端应该先调用后端服务，后端调用库存和积分，这算几个事务，这个图画的有点问题。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530151,"discussion_content":"这里的4个事务，不是指后端的这些接口调用，而是指一个压力线程在一秒内循环迭代了4次。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636687430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313595,"user_name":"Rachel","can_delete":false,"product_type":"c1","uid":1170712,"ip_address":"","ucode":"BD500B41764660","user_header":"https://static001.geekbang.org/account/avatar/00/11/dd/18/a51730da.jpg","comment_is_top":false,"comment_ctime":1632545894,"is_pvip":false,"replies":[{"id":"114821","content":"那就对了。😊😊","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1634690670,"ip_address":"","comment_id":313595,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632545894","product_id":100042501,"comment_content":"看了你这些，发现更不好做性能测试了","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527406,"discussion_content":"那就对了。😊😊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634690670,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310105,"user_name":"桃","can_delete":false,"product_type":"c1","uid":2753403,"ip_address":"","ucode":"B463D3776D0959","user_header":"https://static001.geekbang.org/account/avatar/00/2a/03/7b/5a39ae9a.jpg","comment_is_top":false,"comment_ctime":1630486360,"is_pvip":false,"replies":[{"id":"112397","content":"这里的tps是指用户级的tps，就是T包括完整的用户级业务流。这一点在第二个专栏的第八章节有更细节的描述。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1630563477,"ip_address":"","comment_id":310105,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630486360","product_id":100042501,"comment_content":"10000用户×5%＝500（TPS），我怎么感觉这个不对，很难理解，在线用户数怎么会跟TPS有直接关系","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526128,"discussion_content":"这里的tps是指用户级的tps，就是T包括完整的用户级业务流。这一点在第二个专栏的第八章节有更细节的描述。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630563477,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":306650,"user_name":"学员141","can_delete":false,"product_type":"c1","uid":2559600,"ip_address":"","ucode":"8BC79DC3D7AF44","user_header":"","comment_is_top":false,"comment_ctime":1628656979,"is_pvip":false,"replies":[{"id":"111112","content":"如果把响应时间定死在50ms，不准多不准少，那确实是100压力线程。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1628730823,"ip_address":"","comment_id":306650,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1628656979","product_id":100042501,"comment_content":"如果业务方要求2000tps，响应是50ms，根据公司计算是不是线程数是2000&#47;（1000&#47;50）=100","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524858,"discussion_content":"如果把响应时间定死在50ms，不准多不准少，那确实是100压力线程。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628730823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2559600,"avatar":"","nickname":"学员141","note":"","ucode":"8BC79DC3D7AF44","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388614,"discussion_content":"响应时间只可以少，不可以多，谢谢老师","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628847952,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":306464,"user_name":"学员141","can_delete":false,"product_type":"c1","uid":2559600,"ip_address":"","ucode":"8BC79DC3D7AF44","user_header":"","comment_is_top":false,"comment_ctime":1628570704,"is_pvip":false,"replies":[{"id":"111016","content":"举例来说：如果一个系统的架构是 A系统 -  B系统 - C系统 串行调用关系。<br>但为了测试每个系统的最大容量，通常会先做每个系统的独立的测试，走各自的接口。这时就是最基本的接口测试。<br>而这时有一个接口是从A系统进来，但要调用B系统也要调C系统，并且这个接口可以完成一个业务级的操作，比如说电商系统中的下单、银行系统中的转帐，也都是一个接口，但会有后端有一连串的系统调用，这明显就是一个业务级的操作。<br>但业务级的操作本身不能构成完整的流程，因为下单需要先登录、转帐也需要先验证身份。所以对于用户下单这样的流程来说 登录 - 查询商品 - 下单 -  退出，这才是完整的用户级操作。<br>而定义事务就得看要评估的是什么级别的系统能力。 <br><br>异步脚本发请求就行，只是不以工具中的tps做为评估的关键数据，而是到系统中去采集系统处理能力。 <br><br>同步脚本就不用说了吧。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1628647366,"ip_address":"","comment_id":306464,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1628570704","product_id":100042501,"comment_content":"还是不是很明白上面对T的定义，如业务级和用户级在脚本编写上区别是什么？异步同步脚本上怎么编写？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524778,"discussion_content":"举例来说：如果一个系统的架构是 A系统 -  B系统 - C系统 串行调用关系。\n但为了测试每个系统的最大容量，通常会先做每个系统的独立的测试，走各自的接口。这时就是最基本的接口测试。\n而这时有一个接口是从A系统进来，但要调用B系统也要调C系统，并且这个接口可以完成一个业务级的操作，比如说电商系统中的下单、银行系统中的转帐，也都是一个接口，但会有后端有一连串的系统调用，这明显就是一个业务级的操作。\n但业务级的操作本身不能构成完整的流程，因为下单需要先登录、转帐也需要先验证身份。所以对于用户下单这样的流程来说 登录 - 查询商品 - 下单 -  退出，这才是完整的用户级操作。\n而定义事务就得看要评估的是什么级别的系统能力。 \n\n异步脚本发请求就行，只是不以工具中的tps做为评估的关键数据，而是到系统中去采集系统处理能力。 \n\n同步脚本就不用说了吧。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628647366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300915,"user_name":"何英","can_delete":false,"product_type":"c1","uid":2666843,"ip_address":"","ucode":"8747A2EB119EEF","user_header":"","comment_is_top":false,"comment_ctime":1625451016,"is_pvip":false,"replies":[{"id":"109125","content":"请看我的第二个专栏的08章。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1625649730,"ip_address":"","comment_id":300915,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1625451016","product_id":100042501,"comment_content":"老师并发度是怎么知道的呢","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522851,"discussion_content":"请看我的第二个专栏的08章。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625649730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298271,"user_name":"豆腐居士","can_delete":false,"product_type":"c1","uid":1100239,"ip_address":"","ucode":"F7C82FEB60C2B8","user_header":"https://static001.geekbang.org/account/avatar/00/10/c9/cf/af720d94.jpg","comment_is_top":false,"comment_ctime":1623988638,"is_pvip":false,"replies":[{"id":"108235","content":"请看第二个专栏的第8章。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1624004401,"ip_address":"","comment_id":298271,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623988638","product_id":100042501,"comment_content":"并发度怎么确定？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522079,"discussion_content":"请看第二个专栏的第8章。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624004401,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":298143,"user_name":"香茗已凉","can_delete":false,"product_type":"c1","uid":2528043,"ip_address":"","ucode":"CA9B4D80B62B22","user_header":"https://static001.geekbang.org/account/avatar/00/26/93/2b/13bf1014.jpg","comment_is_top":false,"comment_ctime":1623922653,"is_pvip":false,"replies":[{"id":"108237","content":"请看第二个专栏的第8章。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1624004489,"ip_address":"","comment_id":298143,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623922653","product_id":100042501,"comment_content":"性能指标的计算方式，指出了2个公式的不妥之处，但是你并没有说出你的计算方式，引用这2个方式有什么作用呢","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522031,"discussion_content":"请看第二个专栏的第8章。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624004489,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297590,"user_name":"heyman","can_delete":false,"product_type":"c1","uid":1173894,"ip_address":"","ucode":"92EF9EF1B1B1B3","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/86/d34800a4.jpg","comment_is_top":false,"comment_ctime":1623657911,"is_pvip":false,"replies":[{"id":"108093","content":"请看我第二个专栏中关于tps和并发度计算的过程那一篇。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1623728870,"ip_address":"","comment_id":297590,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623657911","product_id":100042501,"comment_content":"“通常，我们会对在线的用户做并发度的分析，在很多业务中，并发度都会低于 5%，甚至低于 1%。”<br><br>压测小白请教一下老师：<br>1. 并发度是什么？并发度分析怎么做？<br>2. 文中所说的线程数、用户数和TPS的关系，按我理解这些计算应该是为了估算出测试的时候要用多少个线程，不知道我理解有没有错？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521869,"discussion_content":"请看我第二个专栏中关于tps和并发度计算的过程那一篇。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623728870,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292579,"user_name":"13965063553","can_delete":false,"product_type":"c1","uid":1029155,"ip_address":"","ucode":"137190CA876EB1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqN2xolBsseL2sR3jyLLDZ9nX8npibsYnf72RTicsEZStiaQxVd0rlibFFibppsPNmmwID8Oxtn96R2hSQ/132","comment_is_top":false,"comment_ctime":1620883313,"is_pvip":false,"replies":[{"id":"105993","content":"就是得实践才有感觉。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1620976842,"ip_address":"","comment_id":292579,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1620883313","product_id":100042501,"comment_content":"概念被总结出来的时候永远那么清晰简单，但是从不懂到懂得过程却经历了很长的思考期和实践期，比如并发  响应时间和TPS的计算， 我真的是在16年一次偶然看到技术博客的时候突然明悟了。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519882,"discussion_content":"就是得实践才有感觉。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620976842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":288571,"user_name":"Rocky WANG","can_delete":false,"product_type":"c1","uid":1677031,"ip_address":"","ucode":"60B73B7D93B154","user_header":"https://static001.geekbang.org/account/avatar/00/19/96/e7/6907d724.jpg","comment_is_top":false,"comment_ctime":1618541822,"is_pvip":false,"replies":[{"id":"104756","content":"有些业务是需要多个接口的，并且有上下关联关系。所以这里分开来说。<br>如果你的场景是一个接口就是一个业务那就放在一起考虑就行，不用区分。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1618581687,"ip_address":"","comment_id":288571,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1618541822","product_id":100042501,"comment_content":"请教老师，该文开头对TPS中的&#39;T&#39;举例说明的时候，其中“接口级脚本”相对于“业务级接口层脚本”有什么不同吗？<br>我个人的理解是：后者是把前端之后的服务看成一个整体，只需要模拟前端发送的请求，而前者是需要增量考虑后台服务在处理前端一个请求时候的后台的接口调用？<br><br>我是初学者，麻烦老师可举个实例解答一下，感谢！","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518665,"discussion_content":"有些业务是需要多个接口的，并且有上下关联关系。所以这里分开来说。\n如果你的场景是一个接口就是一个业务那就放在一起考虑就行，不用区分。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618581687,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":284258,"user_name":"Geek_427e83","can_delete":false,"product_type":"c1","uid":2447151,"ip_address":"","ucode":"CA2FFC0FF34760","user_header":"","comment_is_top":false,"comment_ctime":1616142746,"is_pvip":false,"replies":[{"id":"103231","content":"不会有这么大差别吧，这个公式是对瞬间数据有效的，如果你看的整个场景的，那就会有大差别。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1616422257,"ip_address":"","comment_id":284258,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1616142746","product_id":100042501,"comment_content":"老师您好，想请教一下，tps=1000ms&#47;响应时间*线程数，我可以理解为：如果算出的tps远大于jmeter得出的tps，比如说我用公式算出的是126，但是实际压测jmeter的的只有30，这意味着存在性能瓶颈嘛","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517288,"discussion_content":"不会有这么大差别吧，这个公式是对瞬间数据有效的，如果你看的整个场景的，那就会有大差别。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616422257,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":277043,"user_name":"jy","can_delete":false,"product_type":"c1","uid":1785172,"ip_address":"","ucode":"F4E179C435451B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJJ6G2xZvNRmhyXBjmGbI5G8icGCCMPupr6yxZ1IcURwp7GTRHcpWGWpg9A0fLlyicmVdDwzqZqwiaOQ/132","comment_is_top":false,"comment_ctime":1612246462,"is_pvip":false,"replies":[{"id":"103278","content":"就是时间拆分。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1616423508,"ip_address":"","comment_id":277043,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1612246462","product_id":100042501,"comment_content":"文中：每个节点消耗的时间和请求的持续时间，这两个概念如何理解？谢谢","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514912,"discussion_content":"就是时间拆分。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616423508,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":270867,"user_name":"蔚来懿","can_delete":false,"product_type":"c1","uid":2363304,"ip_address":"","ucode":"815144E42094C3","user_header":"https://static001.geekbang.org/account/avatar/00/24/0f/a8/956452cd.jpg","comment_is_top":false,"comment_ctime":1609307853,"is_pvip":false,"replies":[{"id":"98274","content":"1，jmeter无法动态调整。<br>2，写多个线程，收发分开。自己代码处理。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1609334548,"ip_address":"","comment_id":270867,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1609307853","product_id":100042501,"comment_content":"老师，有几个问题请教一下，<br>1. 请问用jmeter如何做到梯度加压，我知道的只能提前设置好，如果在压测过程中，我如何根据系统的情况进行再加并发数呢？在我不启动新的jmeter的情况下。<br>2.请问异步回调的情况，如何统计响应时间比较好？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512772,"discussion_content":"1，jmeter无法动态调整。\n2，写多个线程，收发分开。自己代码处理。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609334548,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2363304,"avatar":"https://static001.geekbang.org/account/avatar/00/24/0f/a8/956452cd.jpg","nickname":"蔚来懿","note":"","ucode":"815144E42094C3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338822,"discussion_content":"果然，只能这样罗，还得靠自己组装，不能偷懒","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609391603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":270279,"user_name":"一步","can_delete":false,"product_type":"c1","uid":1005391,"ip_address":"","ucode":"73CEA468CE70C3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg","comment_is_top":false,"comment_ctime":1609050348,"is_pvip":true,"replies":[{"id":"98232","content":"理解正确。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1609243539,"ip_address":"","comment_id":270279,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1609050348","product_id":100042501,"comment_content":"这节课终于弄明白了 测试各个指标的概念。在团队中说各种指标的时候，一定要指明对应的业务场景，让大家认知保持一致","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512577,"discussion_content":"理解正确。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609243539,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269397,"user_name":"勼乄児亓","can_delete":false,"product_type":"c1","uid":2379844,"ip_address":"","ucode":"D33120C9B88D26","user_header":"https://static001.geekbang.org/account/avatar/00/24/50/44/aab77728.jpg","comment_is_top":false,"comment_ctime":1608632541,"is_pvip":false,"replies":[{"id":"97726","content":"1，可以用事务控制器来实现脚本整理的工作。<br>2，是的，所以在C中的处理结果也要体现出来，可以单独写一个脚本来实现C中的后续处理。<br>3，这个数据过于笼统，我们通常会要求得更细。场景只要实现连续递增就好。不用先确定并发数。但是也有逻辑可以先知道大概支持的并发数。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1608682292,"ip_address":"","comment_id":269397,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1608632541","product_id":100042501,"comment_content":"老师 有几个问题问下:<br>1,TPS中的T的粒度，接口级脚本  业务级脚本，用户级脚本，转换到jmeter中是 用“事务控制器”来实现吗？<br>2，对于异步接口的tps，在jmeter上没办法体现，假如业务级别的脚本，包含3个接口，调用链如:A调用B，B调用C，其中A和B是同步的，C是异步的。在jmeter上提现的只有AB的tps，C的tps没提现，那这整个业务的tps是多少呢？（我理解是不能之间拿jmeter上的tps当这个业务的tps，因为没提现C的）<br>3,一般情况下，别人就是给你线上业务量，要求你处个性能方案，例如：一天量的业务量为100w，其中9点-10点为高峰期，这样能算出tps是多少的时候 能满足他这个需求吗？还有并发数多少(jmeter上的线程数)。因为实际的执行中，并发数必须确定才能进行压测，不能从1个线程开始慢慢加吧？<br>期待回复，谢谢","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512260,"discussion_content":"1，可以用事务控制器来实现脚本整理的工作。\n2，是的，所以在C中的处理结果也要体现出来，可以单独写一个脚本来实现C中的后续处理。\n3，这个数据过于笼统，我们通常会要求得更细。场景只要实现连续递增就好。不用先确定并发数。但是也有逻辑可以先知道大概支持的并发数。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608682292,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269196,"user_name":"羊羊","can_delete":false,"product_type":"c1","uid":1162597,"ip_address":"","ucode":"B220CE8D1CA5DA","user_header":"https://static001.geekbang.org/account/avatar/00/11/bd/65/fbdf4fc1.jpg","comment_is_top":false,"comment_ctime":1608554066,"is_pvip":false,"replies":[{"id":"97685","content":"对完整的性能项目来说，肯定是先接口后业务的。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1608613609,"ip_address":"","comment_id":269196,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1608554066","product_id":100042501,"comment_content":"老师，想问下“我们会按从上到下的顺序一一地来测试”中的从上到下的顺序，具体是指什么顺序？先接口后业务","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512187,"discussion_content":"对完整的性能项目来说，肯定是先接口后业务的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608613609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":265000,"user_name":"澪凍","can_delete":false,"product_type":"c1","uid":1545985,"ip_address":"","ucode":"27F1BA049389C3","user_header":"https://static001.geekbang.org/account/avatar/00/17/97/01/cd37cd8e.jpg","comment_is_top":false,"comment_ctime":1606730482,"is_pvip":false,"replies":[{"id":"96671","content":"不正常。分析思路就在：1，拆分时间；2，画性能分析决策树；3，定位瓶颈。<br>整个才情横溢都是写些些细节的。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1607214565,"ip_address":"","comment_id":265000,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1606730482","product_id":100042501,"comment_content":"老师你好，我想咨询下，为什么我单个接口的tps能达到180，但是如果用两个接口跑同样的场景，两接口的tps分别为40，这正常吗，需要怎么分析tps，查看趋势图，两个接口的tps趋势是一模一样的","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510763,"discussion_content":"不正常。分析思路就在：1，拆分时间；2，画性能分析决策树；3，定位瓶颈。\n整个才情横溢都是写些些细节的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607214565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":260566,"user_name":"想做好性能测试的萌新","can_delete":false,"product_type":"c1","uid":1936352,"ip_address":"","ucode":"39BB5871D7DAE9","user_header":"","comment_is_top":false,"comment_ctime":1605062342,"is_pvip":false,"replies":[{"id":"94723","content":"正解。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1605144738,"ip_address":"","comment_id":260566,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1605062342","product_id":100042501,"comment_content":"258原则可以认为是当时数据分析得来的结果，而在当下很多大厂其实也会使用到大数据分析，来确定一个适合自己产品的一个数据原则，根据这个原则来设计相应的测试场景；","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509235,"discussion_content":"正解。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605144738,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":257386,"user_name":"Shawn","can_delete":false,"product_type":"c1","uid":2270502,"ip_address":"","ucode":"C1BE6F156A2C02","user_header":"","comment_is_top":false,"comment_ctime":1603952927,"is_pvip":false,"replies":[{"id":"93924","content":"5次是说接口级的后端调用。http request是指的前端请求。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1604280859,"ip_address":"","comment_id":257386,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1603952927","product_id":100042501,"comment_content":"&quot;如果一个用户点击了一次，发出来 3 个 HTTP Request，调用了 2 次订单服务，调用了 2 次库存服务，调用了 1 次积分服务.&quot;<br>这句话怎么理解？发出3个请求，但是调用了5次？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508316,"discussion_content":"5次是说接口级的后端调用。http request是指的前端请求。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604280859,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":251453,"user_name":"coder_dylan","can_delete":false,"product_type":"c1","uid":1930008,"ip_address":"","ucode":"1C7111F527BFE4","user_header":"","comment_is_top":false,"comment_ctime":1601567709,"is_pvip":false,"replies":[{"id":"93957","content":"简单理解一下就是时刻和时段的区别。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1604282219,"ip_address":"","comment_id":251453,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1601567709","product_id":100042501,"comment_content":"你说的这个并发度5%，直接折算成tps而不是“并发线程数”，你指的是相对并发（1s钟内的请求都算并发），而不是绝对并发。当然，单核CPU下也没有绝对并发，多核才能并行。至于所谓“同时”，什么才算同一时间点？同一秒？统一毫秒？同一纳秒？这个也都是相对的，没有定义的时候就默认同1秒了","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506498,"discussion_content":"简单理解一下就是时刻和时段的区别。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604282219,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":243763,"user_name":"张永志","can_delete":false,"product_type":"c1","uid":1208727,"ip_address":"","ucode":"E54B75EF3F63B3","user_header":"https://static001.geekbang.org/account/avatar/00/12/71/97/f1a3d398.jpg","comment_is_top":false,"comment_ctime":1598269190,"is_pvip":false,"replies":[{"id":"93973","content":"正解。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1604283648,"ip_address":"","comment_id":243763,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1598269190","product_id":100042501,"comment_content":"第一个问题，响应时间只有放到具体的业务场景中进行度量才有意义。不同场景对响应时间容忍度是不一样的，另外，响应时间快慢对系统吞吐量也会有直接影响，如果达不到吞吐要求，响应时间可能还需要进行优化。所以，不能简单的用258来概括。<br>第二个问题，二八原则是泛泛而论，具体到个体系统那就很难适应了。统计分析比这靠谱。<br>","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":504387,"discussion_content":"正解。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604283648,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":235535,"user_name":"Geek_7b3c4a","can_delete":false,"product_type":"c1","uid":2025863,"ip_address":"","ucode":"A20B25477E807F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epneC3LXv0Ve9VgSOVu8anNwKP4Nnylcsk5MSJicOr4icfNoNwgibziaowOWyoxIPPOh1QaSohHUZYUnA/132","comment_is_top":false,"comment_ctime":1595079098,"is_pvip":false,"replies":[{"id":"87957","content":"设置的并发量应该根据实际情况来判断。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1596070145,"ip_address":"","comment_id":235535,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1595079098","product_id":100042501,"comment_content":"jmeter进行阶梯测试的时候，一直使用constant throughput timer设定每个thread的并发量，然后逐步增加线程数，每次设置的并发量都比较小，保证线程有足够的能力应付响应时间增长带来的tps不稳定问题，不知道这种方式对不对","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501755,"discussion_content":"设置的并发量应该根据实际情况来判断。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596070145,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230398,"user_name":"陈靖","can_delete":false,"product_type":"c1","uid":1147418,"ip_address":"","ucode":"8C9596A54DB5C8","user_header":"https://static001.geekbang.org/account/avatar/00/11/82/1a/64ec25ff.jpg","comment_is_top":false,"comment_ctime":1593361260,"is_pvip":false,"replies":[{"id":"87987","content":"是指测试脚本。异步的返回时间长，但用户在提交时感觉不到。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1596077246,"ip_address":"","comment_id":230398,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593361260","product_id":100042501,"comment_content":"请问，1.订单服务，2.库存服务，3.积分服务的例子，1和 2 是同步的，3 是异步的，那么假如 1 和 2 的 tps 是 1000，3 是 500，那么从用户角度来说，系统的tps 应该是 500 吗？<br>没看懂这3 个事务里面的脚本是什么意思？是指测试脚本？还是事务的功能代码？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499866,"discussion_content":"是指测试脚本。异步的返回时间长，但用户在提交时感觉不到。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596077246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226623,"user_name":"拥抱黑夜的白天","can_delete":false,"product_type":"c1","uid":2004993,"ip_address":"","ucode":"07A272B553A77C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/98/01/02182390.jpg","comment_is_top":false,"comment_ctime":1592154001,"is_pvip":false,"replies":[{"id":"84033","content":"说的非常对。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1592532765,"ip_address":"","comment_id":226623,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1592154001","product_id":100042501,"comment_content":"1.响应时间258原则是40年前的对音乐缓存的一个数据统计，40年后的今天，技术发展迅猛，人们对响应时间的要求更加的严格了，而且对待不同的业务，人们对响应时间的要求也是不同的，不能用一个固定死的原则来作为衡量性能的标准。<br>2.业务模型28原则不合理是因为没有考虑具体的业务。不同的业务有不同的并发度，比如说限时抢购，在某一时间范围内并发度就会非常高，而图书系统的并发度就不会很高。要具体业务具体分析，不能没有做任何的统计和分析就直接使用，根本没有任何意义","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498307,"discussion_content":"说的非常对。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592532765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":218797,"user_name":"凯","can_delete":false,"product_type":"c1","uid":1405256,"ip_address":"","ucode":"60DB11CF72C7B0","user_header":"https://static001.geekbang.org/account/avatar/00/15/71/48/44df7f4e.jpg","comment_is_top":false,"comment_ctime":1589876637,"is_pvip":false,"replies":[{"id":"81906","content":"从技术角度来看，用user不太适合。如果你是要描述业务角度，可以的。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1590717278,"ip_address":"","comment_id":218797,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1589876637","product_id":100042501,"comment_content":"500TPS&#47;(1000ms&#47;100ms)=50(并发线程)<br><br>============================感觉应该修改一下，<br><br>并发在此场景中表示，每秒访问的用户数，<br>10000user * 5% &#47;(100ms&#47;1000) = 50 user&#47;s   此场景中并发是50个用户同时访问<br><br>1000是  1s= 1000ms","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495578,"discussion_content":"从技术角度来看，用user不太适合。如果你是要描述业务角度，可以的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590717278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":218099,"user_name":"钱","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1589713940,"is_pvip":false,"replies":[{"id":"81911","content":"似乎也没有其他路可以走了。哈哈。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1590717449,"ip_address":"","comment_id":218099,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1589713940","product_id":100042501,"comment_content":"怀疑的态度＋独立思考的能力＋追本溯源＋实际倒腾实验的思路值得借鉴，也最难能可贵。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495352,"discussion_content":"似乎也没有其他路可以走了。哈哈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590717449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":218065,"user_name":"山头","can_delete":false,"product_type":"c1","uid":1610142,"ip_address":"","ucode":"9CD45A7966F37E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/1R7lHGBvwPTVfb3BAQrPX3AhsYWnXyicbUJUYDgWagWxMGTnsNFvKibzeJ8v7fF2vJLQGf2EY9dV07rnn5Mhv9Uw/132","comment_is_top":false,"comment_ctime":1589706509,"is_pvip":false,"replies":[{"id":"81915","content":"就是一个事务的响应时间，压力工具中都有的。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1590717692,"ip_address":"","comment_id":218065,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1589706509","product_id":100042501,"comment_content":"但是！响应时间肯定不会一直都是 100ms 的嘛。所以通常情况下，上面的这个比例都不会固定，而是随着并发线程数的增加，会出现趋势上的关系。老师这个100ms你是怎么获取的，？一个线程一个事物用的时间吗？具体怎么获取","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495340,"discussion_content":"就是一个事务的响应时间，压力工具中都有的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590717692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":215406,"user_name":"LQQ","can_delete":false,"product_type":"c1","uid":1529915,"ip_address":"","ucode":"172A84730ED0A3","user_header":"https://static001.geekbang.org/account/avatar/00/17/58/3b/22dbe7c3.jpg","comment_is_top":false,"comment_ctime":1588987125,"is_pvip":false,"replies":[{"id":"81966","content":"根据生产数据来计算，这个以后我再写文章来说明。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1590743815,"ip_address":"","comment_id":215406,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1588987125","product_id":100042501,"comment_content":"老师，并法度具体怎么计算呢？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494420,"discussion_content":"根据生产数据来计算，这个以后我再写文章来说明。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590743815,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1529915,"avatar":"https://static001.geekbang.org/account/avatar/00/17/58/3b/22dbe7c3.jpg","nickname":"LQQ","note":"","ucode":"172A84730ED0A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":261691,"discussion_content":"怎么从生产统计中算出比并发度？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588992394,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212868,"user_name":"金面王朝","can_delete":false,"product_type":"c1","uid":1545625,"ip_address":"","ucode":"D0F531A7CE45D2","user_header":"https://static001.geekbang.org/account/avatar/00/17/95/99/b5bebd4e.jpg","comment_is_top":false,"comment_ctime":1588229522,"is_pvip":false,"replies":[{"id":"81985","content":"欢迎欢迎。Zee_7D联系我。哈哈。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1590749348,"ip_address":"","comment_id":212868,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1588229522","product_id":100042501,"comment_content":"我可以报名老师的性能团队做几个项目吗？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493634,"discussion_content":"欢迎欢迎。Zee_7D联系我。哈哈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590749348,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210457,"user_name":"Geek_0852ba","can_delete":false,"product_type":"c1","uid":1799946,"ip_address":"","ucode":"75792B749A0BF9","user_header":"","comment_is_top":false,"comment_ctime":1587749318,"is_pvip":false,"replies":[{"id":"82004","content":"不包括前端。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1590754128,"ip_address":"","comment_id":210457,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587749318","product_id":100042501,"comment_content":"老老师，jmeter中的响应时间是包括前端的展现时间吗？还是只是指后端的响应时间","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493025,"discussion_content":"不包括前端。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590754128,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205833,"user_name":"Geek_2a2147","can_delete":false,"product_type":"c1","uid":1957490,"ip_address":"","ucode":"71785FCCF95E54","user_header":"","comment_is_top":false,"comment_ctime":1586745291,"is_pvip":false,"replies":[{"id":"77263","content":"多谢支持。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1586958745,"ip_address":"","comment_id":205833,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1586745291","product_id":100042501,"comment_content":"谢谢老师，看完这讲，搞懂了好多了~ 继续关注！","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491593,"discussion_content":"多谢支持。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586958745,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":201132,"user_name":"wanj","can_delete":false,"product_type":"c1","uid":1259549,"ip_address":"","ucode":"BE9ECC67ABC004","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLnYfSUc8hJ3oLfa39qkNiaXNibs3VyAbgT7ZXasZXp89fRL7YBakIZdNNEE7kClOjN2KpBUuGpacfQ/132","comment_is_top":false,"comment_ctime":1585721111,"is_pvip":false,"replies":[{"id":"75234","content":"对的。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1585726450,"ip_address":"","comment_id":201132,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585721111","product_id":100042501,"comment_content":"个人感觉响应时间要根据系统的不同，应用场景的不同及用户群的不同具体定义，同一个用户在面对不同的系统，对于响应速度的心里预期也不一样。所以这个不能一概而论，具体问题，具体分析","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490250,"discussion_content":"对的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585726450,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":194207,"user_name":"kyra","can_delete":false,"product_type":"c1","uid":1241673,"ip_address":"","ucode":"26918E763F1D9A","user_header":"https://static001.geekbang.org/account/avatar/00/12/f2/49/43f222e4.jpg","comment_is_top":false,"comment_ctime":1585037646,"is_pvip":false,"replies":[{"id":"74059","content":"通透！","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1585061495,"ip_address":"","comment_id":194207,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585037646","product_id":100042501,"comment_content":"问题一<br>关于这个258原则，目前来说只是一个从个人的主观感受出发的一种感觉的总结，并没有什么科学的支撑。性能测试的很多指标，不仅是响应时间还是TPS等都需要根据具体的业务来，比如一个财务对账系统，一个月对一次这种的，和现在流行的互联网对比的话，明显对响应时间的要求是不一样的。所以只是笼统的用258这种原则，脱离实际的业务，是不具有借鉴性的。<br><br>问题二<br>所谓的二八原则就更搞笑了，目前没有任何数据支撑，说这个原则怎么样，也只是一个主观的想法。实际上要了解系统的业务等，还是要根据一些系统的日志，具体的数据来分析。还是不同的系统，业务不同，要求也不同","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488782,"discussion_content":"通透！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585061495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":188047,"user_name":"Geek_70990e","can_delete":false,"product_type":"c1","uid":1713957,"ip_address":"","ucode":"E3C42E3EC79EDF","user_header":"https://static001.geekbang.org/account/avatar/00/1a/27/25/14d6c358.jpg","comment_is_top":false,"comment_ctime":1584318545,"is_pvip":false,"replies":[{"id":"72713","content":"TPS和RT预计算出来是什么意思？你是说写出性能指标吗？<br>提指标肯定不能是自己给自己提。<br>如果不是说指标的话，你想推算预期结果是什么样？我从来没在测试方案里写过性能的预期TPS。这个似乎不现实。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1584362119,"ip_address":"","comment_id":188047,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1584318545","product_id":100042501,"comment_content":"高老师，你好:请教一个问题，现在我需要做一个性能测试的方案，需要提前把tps和rt预计算出来，业务那边只提供业务数据量是80万，这样我需要怎么计算呢！逻辑是什么呢！","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487327,"discussion_content":"TPS和RT预计算出来是什么意思？你是说写出性能指标吗？\n提指标肯定不能是自己给自己提。\n如果不是说指标的话，你想推算预期结果是什么样？我从来没在测试方案里写过性能的预期TPS。这个似乎不现实。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584362119,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1713957,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/27/25/14d6c358.jpg","nickname":"Geek_70990e","note":"","ucode":"E3C42E3EC79EDF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":206559,"discussion_content":"是的！我说的就是性能指标，","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584414794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":186259,"user_name":"kyo","can_delete":false,"product_type":"c1","uid":1219303,"ip_address":"","ucode":"7ECE099D34B9AE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoo6hOiaqGVOPOpicY4tKZZCSlNawfxSJ6jgYtLnYj0ByD3s5kUDwwV7wUSMsiar0Z3HRzl7rMiaAbr5w/132","comment_is_top":false,"comment_ctime":1583810351,"is_pvip":false,"replies":[{"id":"71997","content":"多谢支持。概念就得有用，不然就是废材。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1583839354,"ip_address":"","comment_id":186259,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1583810351","product_id":100042501,"comment_content":"老师这篇文章写的特别好. 把各种概念解释的很通透.  特别是在线用户数那块, 非常感谢. ","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486694,"discussion_content":"多谢支持。概念就得有用，不然就是废材。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583839354,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185560,"user_name":"莎莎","can_delete":false,"product_type":"c1","uid":1797871,"ip_address":"","ucode":"2831964CFC877E","user_header":"https://static001.geekbang.org/account/avatar/00/1b/6e/ef/a2aa218d.jpg","comment_is_top":false,"comment_ctime":1583633465,"is_pvip":true,"replies":[{"id":"71680","content":"看业务篇。根据业务比例设置场景。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1583646060,"ip_address":"","comment_id":185560,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1583633465","product_id":100042501,"comment_content":"老师我是一个新手测试，你说的我感觉听懂了，现在想问下，用户数按照并发度下发给每个功能点后，如何进行压测<br><br>我现在是先单接口压测找到每个tps对应的线程数，然后我就不清楚要怎么利用这些线程数来进行剩下的压测了？<br>求答疑，感谢老师","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486414,"discussion_content":"看业务篇。根据业务比例设置场景。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583646060,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":183630,"user_name":"炽焰","can_delete":false,"product_type":"c1","uid":1790322,"ip_address":"","ucode":"B69C5AE458B736","user_header":"https://static001.geekbang.org/account/avatar/00/1b/51/72/31a56f56.jpg","comment_is_top":false,"comment_ctime":1583080545,"is_pvip":false,"replies":[{"id":"71192","content":"秒杀的估计不了，只能根据实际业务来。几十倍，几百倍的都有。<br>像现在买口罩的，还是外国人居留权征集意见的，这种都没法估算，只能线上直接有问题直接处理了，因为没有可依照的东西。 <br>","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1583159492,"ip_address":"","comment_id":183630,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1583080545","product_id":100042501,"comment_content":"上个知识点评论了网上公式不合理的地方，在这里看到了部分解释。结论是，模拟的并发用户数要通过线上数据进行计算得到。按照您的经验，一般不超过5%。但是如果是秒杀业务，那应该怎么估算？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485735,"discussion_content":"秒杀的估计不了，只能根据实际业务来。几十倍，几百倍的都有。\n像现在买口罩的，还是外国人居留权征集意见的，这种都没法估算，只能线上直接有问题直接处理了，因为没有可依照的东西。 \n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583159492,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":183309,"user_name":"伊森","can_delete":false,"product_type":"c1","uid":1350461,"ip_address":"","ucode":"F28A0BD87B7220","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKfaQfj2oHpIYI9qX031jpT6N88mpy6MZ404tXK6XODplSnfXCbSibiaep7o6usI3dLsGr6PTXDJkqA/132","comment_is_top":false,"comment_ctime":1582991665,"is_pvip":true,"replies":[{"id":"70934","content":"如果你要算的是一个场景执行之后的平均，由于场景设置的不同，计算出来的结果就会不同。比如说加了时间控制等操作。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1583026849,"ip_address":"","comment_id":183309,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1582991665","product_id":100042501,"comment_content":"TPS=并发数&#47;平均响应时间，这个公式如果用在JMeter报告中使用来验证数据，发现并发数&#47;平均响应时间并不等于实际算出来的TPS，能帮忙解释这是不是测试有问题？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":485644,"discussion_content":"如果你要算的是一个场景执行之后的平均，由于场景设置的不同，计算出来的结果就会不同。比如说加了时间控制等操作。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583026849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179916,"user_name":"bettynie","can_delete":false,"product_type":"c1","uid":1580609,"ip_address":"","ucode":"84372D4B8761D6","user_header":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83epFQPMPrP3V6HhlGLPp0JKMiaHQDibFKnE7z8To27tYEH42XvvmmQGyYvL4CK1lLJBIUAw7jtBnezibA/132","comment_is_top":false,"comment_ctime":1582121350,"is_pvip":false,"replies":[{"id":"69869","content":"在我的理念中，除了说网络流量时用吞吐量这个词，其他地方都没有用过这一概念。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1582154011,"ip_address":"","comment_id":179916,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1582121350","product_id":100042501,"comment_content":"老师，请问吞吐量可以直接用TPS的值来替代么？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484448,"discussion_content":"在我的理念中，除了说网络流量时用吞吐量这个词，其他地方都没有用过这一概念。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582154011,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1580609,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83epFQPMPrP3V6HhlGLPp0JKMiaHQDibFKnE7z8To27tYEH42XvvmmQGyYvL4CK1lLJBIUAw7jtBnezibA/132","nickname":"bettynie","note":"","ucode":"84372D4B8761D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":178545,"discussion_content":"在很多文章和培训中老师都用了系统吞吐量和网络吞吐量来描述性能测试的指标，系统吞吐量的衡量指标是TPS，HPS等数值，这样理解正确么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582172699,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1326905,"avatar":"https://static001.geekbang.org/account/avatar/00/14/3f/39/b1558fc9.jpg","nickname":"小呀么小二郎","note":"","ucode":"149540DCFDF43E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1580609,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83epFQPMPrP3V6HhlGLPp0JKMiaHQDibFKnE7z8To27tYEH42XvvmmQGyYvL4CK1lLJBIUAw7jtBnezibA/132","nickname":"bettynie","note":"","ucode":"84372D4B8761D6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202588,"discussion_content":"我觉得，系统吞吐量可能是由网络中引申过来的含义。不过最终描述系统性能的还是TPS呀，至于它属不属于系统吞吐量，不重要吧。老师也不想我们因为各种杂乱的概念束缚，所以最后只给了几个关键的呀。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583935268,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":178545,"ip_address":""},"score":202588,"extra":""}]}]},{"had_liked":false,"id":179141,"user_name":"zhoufeng","can_delete":false,"product_type":"c1","uid":1447741,"ip_address":"","ucode":"6F92F7866F9EB4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKq0oQVibKcmYJqmpqaNNQibVgia7EsEgW65LZJIpDZBMc7FyMcs7J1JmFCtp06pY8ibbcpW4ibRtG7Frg/132","comment_is_top":false,"comment_ctime":1581926149,"is_pvip":false,"replies":[{"id":"69626","content":"是指统计出来的业务模型中的百分比。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1581988539,"ip_address":"","comment_id":179141,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1581926149","product_id":100042501,"comment_content":"老师您好，本文第一张图中，业务指标--&gt;性能场景--&gt;业务1:20%，业务2:10%  ，请问这里的业务百分比是指什么，谢谢。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484109,"discussion_content":"是指统计出来的业务模型中的百分比。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581988539,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2544112,"avatar":"https://static001.geekbang.org/account/avatar/00/26/d1/f0/7bace5b2.jpg","nickname":"春阳","note":"","ucode":"2DF80E0C50253E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":376010,"discussion_content":"这个业务模型怎样结合线上数据设计，还有怎样设置业务百分比？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621927704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179124,"user_name":"zwm","can_delete":false,"product_type":"c1","uid":1787187,"ip_address":"","ucode":"BDF98B3A1CD406","user_header":"https://static001.geekbang.org/account/avatar/00/1b/45/33/cdea4bca.jpg","comment_is_top":false,"comment_ctime":1581923589,"is_pvip":false,"replies":[{"id":"69518","content":"理解的不错哦。多谢支持。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1581930458,"ip_address":"","comment_id":179124,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1581923589","product_id":100042501,"comment_content":"你能思考一下，为什么 258 响应时间不合理吗？像“业务模型用 28 原则”这些看似常识性的知识点，错在哪里呢？<br>（1）258我感觉更像是一个约定俗成的东西，比如人们常说的前端响应要&lt;3s，只是一个常识标准没有任何决定性意义。258也同样可以是269，147<br>（2）28原则类似业务模型了吧，注意业务模型概念而不应该注意28这个比率，每个系统的业务模型都不相同。第一次听楼哥的并发率概念感觉这个更好用","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484098,"discussion_content":"理解的不错哦。多谢支持。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581930458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":177763,"user_name":"筱の简單","can_delete":false,"product_type":"c1","uid":1539341,"ip_address":"","ucode":"B2E922D534A893","user_header":"https://static001.geekbang.org/account/avatar/00/17/7d/0d/c753174e.jpg","comment_is_top":false,"comment_ctime":1581493633,"is_pvip":false,"replies":[{"id":"69011","content":"说的很对。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1581506333,"ip_address":"","comment_id":177763,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1581493633","product_id":100042501,"comment_content":"1. 258原则不合理的地方在于没有结合实际业务场景。该258原则也只是80年代某公司做的调查，在当时用户可以接受。对于21世纪的今天他的指导作用并不大。<br>2. 业务模型的28原则，错在脱离业务本身。每个系统的并发度都由业务来确定。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483531,"discussion_content":"说的很对。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581506333,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176725,"user_name":"呆熊","can_delete":false,"product_type":"c1","uid":1231364,"ip_address":"","ucode":"3735C673EFBCDC","user_header":"https://static001.geekbang.org/account/avatar/00/12/ca/04/06e8fe7c.jpg","comment_is_top":false,"comment_ctime":1581150440,"is_pvip":false,"replies":[{"id":"68595","content":"T是一个灵活的定义。取决于你把它设置的范围有多大。<br>QPS是一个我只在数据库中用的概念，所以我不觉得它和T有什么可直接关联的关联。<br>除非在一个特定的应用中，已经确定了一个T的范围，可以获取到这个T会产生多少个Q，如此而已。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1581165483,"ip_address":"","comment_id":176725,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1581150440","product_id":100042501,"comment_content":"QPS 和 TPS 到底是什么关系呢？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483192,"discussion_content":"T是一个灵活的定义。取决于你把它设置的范围有多大。\nQPS是一个我只在数据库中用的概念，所以我不觉得它和T有什么可直接关联的关联。\n除非在一个特定的应用中，已经确定了一个T的范围，可以获取到这个T会产生多少个Q，如此而已。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581165483,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":171350,"user_name":"郑波","can_delete":false,"product_type":"c1","uid":1550471,"ip_address":"","ucode":"54FC8B998551E7","user_header":"https://static001.geekbang.org/account/avatar/00/17/a8/87/b76f7cd3.jpg","comment_is_top":false,"comment_ctime":1578906461,"is_pvip":false,"replies":[{"id":"66510","content":"这个问题需要详细的场景数据。你这样的描述没判断做分析判断哦。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1578975728,"ip_address":"","comment_id":171350,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578906461","product_id":100042501,"comment_content":" 有个问题面试官问了我 但是我忘记问答案了 并发数不高的情况下 数据库和应用服务器资源维持在70%左右 吞吐量一直在增加 但是TPS在下降 这个什么原因造成的","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481308,"discussion_content":"这个问题需要详细的场景数据。你这样的描述没判断做分析判断哦。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578975728,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":171334,"user_name":"Richered","can_delete":false,"product_type":"c1","uid":1799465,"ip_address":"","ucode":"690AC030EE420B","user_header":"","comment_is_top":false,"comment_ctime":1578903967,"is_pvip":false,"replies":[{"id":"66513","content":"说的很对。我也这样认为。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1578975849,"ip_address":"","comment_id":171334,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578903967","product_id":100042501,"comment_content":"首先2&#47;8原则的业务模型划分就极为牵强，我认为IT行业业务变来变去玩的就是数据，没有数据来证明就下结论就跟耍流氓没啥区别，就相当与领导给你打绩效，没有说明你这个月有什么失误，认为给你一个表现不好的同事扣了绩效，也就给你扣了绩效，你难道就忍了？应该结合生产数据去做评估。<br>然后是2&#47;5&#47;8的响应时间，唉、都0202年了···不同行业，不同业务，不同场景~应该分别去对待吧。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481299,"discussion_content":"说的很对。我也这样认为。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578975849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169874,"user_name":"songyy","can_delete":false,"product_type":"c1","uid":1007201,"ip_address":"","ucode":"34D6443B91676D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/61/985f3eb7.jpg","comment_is_top":false,"comment_ctime":1578466429,"is_pvip":false,"replies":[{"id":"65932","content":"理解的很对。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1578486884,"ip_address":"","comment_id":169874,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578466429","product_id":100042501,"comment_content":"为什么不合理：这个响应时间是80年代的流媒体服务做的，那个时候人们对于系统的期待，和当今期待不同<br>二八原则 这类常识性的知识点，错在哪里：这个尝试性知识点忽略了具体业务场景，太过于笼统","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480757,"discussion_content":"理解的很对。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578486884,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":168769,"user_name":"abctao","can_delete":false,"product_type":"c1","uid":1764162,"ip_address":"","ucode":"49D8CC22DCC38F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIDlm1kyfBS5M8SfDZaNQd02ac8AlvkJakFzgWfe7UPLkwfBicHpbe4xHk8o64Znic6fV4fBDIHBOMg/132","comment_is_top":false,"comment_ctime":1578153587,"is_pvip":false,"replies":[{"id":"65413","content":"不是要在执行中去计算。<br>只是把他们的强关联性说明白。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1578183831,"ip_address":"","comment_id":168769,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1578153587","product_id":100042501,"comment_content":"老师你好，TPS 的多少不是应该关注系统本身的情况吗？为什么你会用测试工具的线程数去计算，甚是不解。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480329,"discussion_content":"不是要在执行中去计算。\n只是把他们的强关联性说明白。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578183831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167837,"user_name":"呆熊","can_delete":false,"product_type":"c1","uid":1231364,"ip_address":"","ucode":"3735C673EFBCDC","user_header":"https://static001.geekbang.org/account/avatar/00/12/ca/04/06e8fe7c.jpg","comment_is_top":false,"comment_ctime":1577947920,"is_pvip":false,"replies":[{"id":"65141","content":"1秒","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577950464,"ip_address":"","comment_id":167837,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1577947920","product_id":100042501,"comment_content":"并发线程数是 500TPS&#47;(1000ms&#47;100ms)=50(并发线程)。 请问下1000ms是什么，100ms是响应时间","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480019,"discussion_content":"1秒","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577950464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1150273,"avatar":"https://static001.geekbang.org/account/avatar/00/11/8d/41/bf78275d.jpg","nickname":"晴兲鮭鮭*.","note":"","ucode":"4372E23FB8D64E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":213572,"discussion_content":"我这块也没理解，我知道1000ms是1s，为什么分母是1s/100ms（响应时间）呢？求老师解答","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585106647,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":166407,"user_name":"宁静致远","can_delete":false,"product_type":"c1","uid":1790733,"ip_address":"","ucode":"20B6E8278FBE7F","user_header":"https://static001.geekbang.org/account/avatar/00/1b/53/0d/11e25b64.jpg","comment_is_top":false,"comment_ctime":1577443065,"is_pvip":false,"replies":[{"id":"63438","content":" 不知道你说的这个Q是个什么粒度？","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577458499,"ip_address":"","comment_id":166407,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577443065","product_id":100042501,"comment_content":"高老师你好，5w  QPS需要多少并发数，这个怎么算","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479499,"discussion_content":" 不知道你说的这个Q是个什么粒度？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577458499,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":165505,"user_name":"Geek_a098f8","can_delete":false,"product_type":"c1","uid":1785843,"ip_address":"","ucode":"2756E29C1F6D37","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/sVcgRxD37P1abmBb7ky5Hx9PMoaylZZtXguRvI9knZqydRCXfgNCCmVUECTorLSWic58S93ZRBdbYZGZyvm0pjg/132","comment_is_top":false,"comment_ctime":1577247625,"is_pvip":false,"replies":[{"id":"63111","content":"如果服务端的TPS是一样的，那就没有区别。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577263085,"ip_address":"","comment_id":165505,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577247625","product_id":100042501,"comment_content":"老师好，有个问题麻烦问下，一个客户端有300个用户和300个客户端有300个用户对服务器施压有什么区别呢","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479189,"discussion_content":"如果服务端的TPS是一样的，那就没有区别。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577263085,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":165162,"user_name":"你比昨天快乐🌻","can_delete":false,"product_type":"c1","uid":1786677,"ip_address":"","ucode":"159FED712949CD","user_header":"https://static001.geekbang.org/account/avatar/00/1b/43/35/04f1ad16.jpg","comment_is_top":false,"comment_ctime":1577173665,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577173665","product_id":100042501,"comment_content":"很期待后面的课哈","like_count":0},{"had_liked":false,"id":164468,"user_name":"liuliu","can_delete":false,"product_type":"c1","uid":1315513,"ip_address":"","ucode":"98F1FFF2C7DE71","user_header":"https://static001.geekbang.org/account/avatar/00/14/12/b9/95e37a48.jpg","comment_is_top":false,"comment_ctime":1577002110,"is_pvip":false,"replies":[{"id":"62553","content":"其实不是为了说概念，而是为了理清现在广为传唱的概念有什么误区。希望后面的内容能让你满意。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577065613,"ip_address":"","comment_id":164468,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1577002110","product_id":100042501,"comment_content":"前面4章概念有点多，期待后面有更多的实战内容","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478779,"discussion_content":"其实不是为了说概念，而是为了理清现在广为传唱的概念有什么误区。希望后面的内容能让你满意。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577065613,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":164329,"user_name":"Geek_alair俊","can_delete":false,"product_type":"c1","uid":1785933,"ip_address":"","ucode":"9250DB6DDEE85B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJBbpHBlZcGbwicdA9VN7YHegZALice19Rjo5MAhosU4Z34x2aaz5YiaJyqtpNibdkS89ItspIjSIFbPQ/132","comment_is_top":false,"comment_ctime":1576937718,"is_pvip":false,"replies":[{"id":"62554","content":"能有赞同感很欣慰。 ","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577065660,"ip_address":"","comment_id":164329,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576937718","product_id":100042501,"comment_content":"响应时间的258原则和业务模型的28原则，我在网上也看到过。听了老师的讲解，我觉得这样的原则其实是有年代或者一定的背景限制的，正如那个响应时间的258，说的是那个年代的音乐缓冲服务， 特定的年代，特定的系统，虽然经典，但很局限，它不能代表所有的系统，更何况随着科技发展和人们对时间和速度的要求，这样的原则显然不太符合。真正需要了解某个系统响应时间的需求，还真是靠同行业系统的参照或者对样本群体的统计分析更靠谱！","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478724,"discussion_content":"能有赞同感很欣慰。 ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577065660,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":164317,"user_name":"misty","can_delete":false,"product_type":"c1","uid":1144391,"ip_address":"","ucode":"92569F9B18E20E","user_header":"https://static001.geekbang.org/account/avatar/00/11/76/47/02ac460c.jpg","comment_is_top":false,"comment_ctime":1576934914,"is_pvip":false,"replies":[{"id":"62556","content":"并发度就是通过历史数据的统计计算。后面我也没有打算写这一环节。感觉没有可写的内容。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1577065794,"ip_address":"","comment_id":164317,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576934914","product_id":100042501,"comment_content":"高老师好，如何根据在线用户数计算并发度，这一块还不是很清楚，不知道后面会讲到吗？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478720,"discussion_content":"并发度就是通过历史数据的统计计算。后面我也没有打算写这一环节。感觉没有可写的内容。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577065794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163974,"user_name":"Subhuti","can_delete":false,"product_type":"c1","uid":1219987,"ip_address":"","ucode":"85D507082C67DA","user_header":"","comment_is_top":false,"comment_ctime":1576836958,"is_pvip":false,"replies":[{"id":"62353","content":"没有这样的讲解。像这样压力工具使用类的，上网找找资料，看看帮助，就可以了。要是写到这里，会有骗钱的嫌疑。哈。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1576846880,"ip_address":"","comment_id":163974,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576836958","product_id":100042501,"comment_content":"老师，后续的篇幅种有没有python Locust实战的讲解？期待您的更新。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478600,"discussion_content":"没有这样的讲解。像这样压力工具使用类的，上网找找资料，看看帮助，就可以了。要是写到这里，会有骗钱的嫌疑。哈。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576846880,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163647,"user_name":"加盐的咖啡","can_delete":false,"product_type":"c1","uid":1785899,"ip_address":"","ucode":"80EF2C9833A446","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIOzMhSUEsHKuo94TOSvsibaV2DHB2zd3aHxmkY9zz4Z5G1ibxwOFAbHoIwuaHfqUjb93HpQjZCkzsA/132","comment_is_top":false,"comment_ctime":1576759843,"is_pvip":false,"replies":[{"id":"62291","content":"现在还没有成熟的处理器可以直接处理protobuf，只有自己写前置处理器做传参，自己写后置处理器做断言。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1576811825,"ip_address":"","comment_id":163647,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1576759843","product_id":100042501,"comment_content":"想请教下老师，公司的数据传输是http协议但是data是以protobuf数据格式序列化传输的，我该怎么实现传参和断言啊","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478488,"discussion_content":"现在还没有成熟的处理器可以直接处理protobuf，只有自己写前置处理器做传参，自己写后置处理器做断言。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576811825,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1785899,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIOzMhSUEsHKuo94TOSvsibaV2DHB2zd3aHxmkY9zz4Z5G1ibxwOFAbHoIwuaHfqUjb93HpQjZCkzsA/132","nickname":"加盐的咖啡","note":"","ucode":"80EF2C9833A446","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":91144,"discussion_content":"我java不太会，并且参数还有加密再序列化处理，开发给的参数处理封装好的jar包还带有sdk，难搞哦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576813419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163353,"user_name":"max","can_delete":false,"product_type":"c1","uid":1003294,"ip_address":"","ucode":"9347A158EC04FA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4f/1e/9e69527e.jpg","comment_is_top":false,"comment_ctime":1576710671,"is_pvip":false,"replies":[{"id":"62093","content":"TPS中的S就是1秒，1秒是1000毫秒。1000ms就是这样来的。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1576712907,"ip_address":"","comment_id":163353,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576710671","product_id":100042501,"comment_content":"，那显然并发线程数是 500TPS&#47;(1000ms&#47;100ms)=50(并发线程)。这里的1000ms怎么来的？不懂这个计算方式","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478363,"discussion_content":"TPS中的S就是1秒，1秒是1000毫秒。1000ms就是这样来的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576712907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163220,"user_name":"吴小喵","can_delete":false,"product_type":"c1","uid":1392780,"ip_address":"","ucode":"A8CB5407A89593","user_header":"https://static001.geekbang.org/account/avatar/00/15/40/8c/bc76ecd3.jpg","comment_is_top":false,"comment_ctime":1576672475,"is_pvip":false,"replies":[{"id":"62033","content":"会提到，但是如果完全没用过。就先搜索下基础使用吧。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1576678155,"ip_address":"","comment_id":163220,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576672475","product_id":100042501,"comment_content":"老师您好，链路监控工具和Metrics以后会介绍吗？以前没用过想了解一下呢","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478303,"discussion_content":"会提到，但是如果完全没用过。就先搜索下基础使用吧。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576678155,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":163062,"user_name":"Bi","can_delete":false,"product_type":"c1","uid":1396117,"ip_address":"","ucode":"B1CF1F532CA022","user_header":"https://static001.geekbang.org/account/avatar/00/15/4d/95/e60ae320.jpg","comment_is_top":false,"comment_ctime":1576650065,"is_pvip":false,"replies":[{"id":"61934","content":"适用性很重要。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1576654494,"ip_address":"","comment_id":163062,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576650065","product_id":100042501,"comment_content":"错就错在想偷懒拿来就用，没有思考这个轮子合不合适自家的小车，一套方法走天下🙈🙈🙈，事实证明这是行不通的。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478234,"discussion_content":"适用性很重要。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576654494,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162947,"user_name":"悠悠天边云","can_delete":false,"product_type":"c1","uid":1786575,"ip_address":"","ucode":"2330CF4165F8D3","user_header":"https://static001.geekbang.org/account/avatar/00/1b/42/cf/a1767edd.jpg","comment_is_top":false,"comment_ctime":1576633425,"is_pvip":false,"replies":[{"id":"61899","content":"周一三五更新，课程上好像有写。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1576637290,"ip_address":"","comment_id":162947,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576633425","product_id":100042501,"comment_content":"什么时候更新，好着急啊，期待下面的课程。","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478187,"discussion_content":"周一三五更新，课程上好像有写。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576637290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162912,"user_name":"George","can_delete":false,"product_type":"c1","uid":1525339,"ip_address":"","ucode":"564D6E0D881E00","user_header":"https://static001.geekbang.org/account/avatar/00/17/46/5b/2b58f595.jpg","comment_is_top":false,"comment_ctime":1576630698,"is_pvip":false,"replies":[{"id":"61894","content":"定义不用太多，一个就够。只要团队内能统一认识，关注真正的性能重点就好。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1576632917,"ip_address":"","comment_id":162912,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576630698","product_id":100042501,"comment_content":"颠覆了之前的做法，不过之前的做法也是一直保持怀疑，希望在老师这里能获取到更加科学的性能测试方法","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478176,"discussion_content":"定义不用太多，一个就够。只要团队内能统一认识，关注真正的性能重点就好。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576632917,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162826,"user_name":"Geek_aa8017","can_delete":false,"product_type":"c1","uid":1748911,"ip_address":"","ucode":"286195887103C2","user_header":"","comment_is_top":false,"comment_ctime":1576596189,"is_pvip":false,"replies":[{"id":"61876","content":"接口1起点。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1576598086,"ip_address":"","comment_id":162826,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576596189","product_id":100042501,"comment_content":"为什么业务接口级脚本你举的例子两步都是有接口1的呢？不是不同的接口拼的吗","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478158,"discussion_content":"接口1起点。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576598086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162811,"user_name":"Eight Baby","can_delete":false,"product_type":"c1","uid":1333092,"ip_address":"","ucode":"1AB70D1E698E79","user_header":"https://static001.geekbang.org/account/avatar/00/14/57/64/9a729a58.jpg","comment_is_top":false,"comment_ctime":1576592661,"is_pvip":false,"replies":[{"id":"61878","content":"这一步不耗太多时间。数据量不大的话用命令就可以。如果数据量大就搭建个日志收集平台。","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1576598269,"ip_address":"","comment_id":162811,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1576592661","product_id":100042501,"comment_content":"现在最关键的问题时。就算产品在快速的迭代中。并没有人力资源收集这块的信息。 同时如何收集呢。比如如何计算呢？收集每分钟的某个业务的并发用户？","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478154,"discussion_content":"这一步不耗太多时间。数据量不大的话用命令就可以。如果数据量大就搭建个日志收集平台。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576598269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1333092,"avatar":"https://static001.geekbang.org/account/avatar/00/14/57/64/9a729a58.jpg","nickname":"Eight Baby","note":"","ucode":"1AB70D1E698E79","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":87085,"discussion_content":"统计唯独是用秒？还是分？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576641792,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162638,"user_name":"Geek_e580d9","can_delete":false,"product_type":"c1","uid":1786900,"ip_address":"","ucode":"C537FCDB8A9FCF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI4tSatQ0rLPloN8FJ7aeoqn51rHlibusjsMicJMeL04ksyicp43lTX38lIooe9VN1vrQXl5nzxktkoA/132","comment_is_top":false,"comment_ctime":1576570768,"is_pvip":false,"replies":[{"id":"61870","content":"TPS里的T就是事务呀。这还有什么区别？","user_name":"作者回复","user_name_real":"高楼(Zee)","uid":"1785562","ctime":1576585691,"ip_address":"","comment_id":162638,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1576570768","product_id":100042501,"comment_content":"没有说清楚TPS 和 事物两者之间的区别","like_count":0,"discussions":[{"author":{"id":1785562,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/3e/da/e686a72b.jpg","nickname":"高楼(Zee)","note":"","ucode":"149202404A5ABC","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":478114,"discussion_content":"TPS里的T就是事务呀。这还有什么区别？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576585691,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
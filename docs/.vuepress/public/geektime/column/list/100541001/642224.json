{"id":642224,"title":"04ï½œæ–°æ—¶ä»£æ¨¡å‹æ€§èƒ½å¤§æ¯”æ‹¼ï¼ŒGPT-3åˆ°åº•èƒœåœ¨å“ªé‡Œï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å¾æ–‡æµ©ã€‚</p><p>å‰é¢ä¸¤è®²ï¼Œæˆ‘å¸¦ä½ ä½“éªŒäº†OpenAIé€šè¿‡APIæä¾›çš„GPT-3.5ç³»åˆ—æ¨¡å‹çš„ä¸¤ä¸ªæ ¸å¿ƒæ¥å£ã€‚ä¸€ä¸ªæ˜¯è·å–ä¸€æ®µæ–‡æœ¬çš„Embeddingå‘é‡ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯æ ¹æ®æç¤ºè¯­ï¼Œç›´æ¥ç”Ÿæˆä¸€æ®µè¡¥å…¨çš„æ–‡æœ¬å†…å®¹ã€‚æˆ‘ä»¬ç”¨è¿™ä¸¤ç§æ–¹æ³•ï¼Œéƒ½å¯ä»¥å®ç°é›¶æ ·æœ¬ï¼ˆzero-shotï¼‰æˆ–è€…å°‘æ ·æœ¬ä¸‹çš„æƒ…æ„Ÿåˆ†æä»»åŠ¡ã€‚ä¸è¿‡ï¼Œä½ å¯èƒ½ä¼šæå‡ºè¿™æ ·ä¸¤ä¸ªç–‘é—®ã€‚</p><ol>\n<li>Embeddingä¸å°±æ˜¯æŠŠæ–‡æœ¬å˜æˆå‘é‡å—ï¼Ÿæˆ‘ä¹Ÿå­¦è¿‡ä¸€äº›è‡ªç„¶è¯­è¨€å¤„ç†ï¼Œç›´æ¥ç”¨ä¸ªå¼€æºæ¨¡å‹ï¼Œæ¯”å¦‚Word2Vecã€Bertä¹‹ç±»çš„å°±å¥½äº†å‘€ï¼Œä½•å¿…è¦å»è°ƒç”¨OpenAIçš„APIå‘¢ï¼Ÿ</li>\n<li>æˆ‘ä»¬åœ¨è¿™ä¸ªæƒ…æ„Ÿåˆ†æé‡Œåšäº†å¾ˆå¤šæŠ•æœºå–å·§çš„å·¥ä½œã€‚ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬æŠŠ3åˆ†è¿™ç§ç›¸å¯¹ä¸­æ€§çš„è¯„ä»·åˆ†æ•°æ’é™¤æ‰äº†ï¼›å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬æŠŠ1åˆ†2åˆ†å’Œ4åˆ†5åˆ†åˆ†åˆ«åˆå¹¶åœ¨äº†ä¸€èµ·ï¼ŒæŠŠä¸€ä¸ªåŸæœ¬éœ€è¦åˆ¤æ–­5ä¸ªåˆ†ç±»çš„é—®é¢˜ç®€åŒ–äº†ã€‚é‚£å¦‚æœæˆ‘ä»¬æƒ³è¦å‡†ç¡®åœ°é¢„æµ‹å¤šä¸ªåˆ†ç±»ï¼Œä¹Ÿä¼šè¿™ä¹ˆç®€å•å—ï¼Ÿ</li>\n</ol><p>é‚£ä¹ˆï¼Œè¿™ä¸€è®²æˆ‘ä»¬å°±å…ˆæ¥å›ç­”ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬è¿˜æ˜¯æ‹¿ä»£ç å’Œæ•°æ®æ¥è¯´è¯ï¼Œå°±æ‹¿å¸¸è§çš„å¼€æºæ¨¡å‹æ¥è¯•ä¸€è¯•ï¼Œçœ‹çœ‹èƒ½å¦é€šè¿‡é›¶æ ·æœ¬å­¦ä¹ çš„æ–¹å¼æ¥å–å¾—æ¯”è¾ƒå¥½çš„æ•ˆæœã€‚ç¬¬äºŒä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¸‹ä¸€è®²å†æ¥æ¢è®¨ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½åˆ©ç”¨Embeddingè¿›ä¸€æ­¥é€šè¿‡ä¸€äº›æœºå™¨å­¦ä¹ çš„ç®—æ³•ï¼Œæ¥æ›´å¥½åœ°å¤„ç†æƒ…æ„Ÿåˆ†æé—®é¢˜ã€‚</p><h2>ä»€ä¹ˆæ˜¯é¢„è®­ç»ƒæ¨¡å‹ï¼Ÿ</h2><!-- [[[read_end]]] --><p>ç»™å‡ºä¸€æ®µæ–‡æœ¬ï¼ŒOpenAIå°±èƒ½è¿”å›ç»™ä½ ä¸€ä¸ªEmbeddingå‘é‡ï¼Œè¿™æ˜¯å› ä¸ºå®ƒçš„èƒŒåæ˜¯GPT-3è¿™ä¸ªè¶…å¤§è§„æ¨¡çš„é¢„è®­ç»ƒæ¨¡å‹ï¼ˆPre-trained Modelï¼‰ã€‚äº‹å®ä¸Šï¼ŒGPTçš„è‹±æ–‡å…¨ç§°ç¿»è¯‘è¿‡æ¥å°±æ˜¯â€œç”Ÿæˆå¼é¢„è®­ç»ƒTransformerï¼ˆGenerative Pre-trained Transformerï¼‰â€ã€‚</p><p>æ‰€è°“é¢„è®­ç»ƒæ¨¡å‹ï¼Œå°±æ˜¯è™½ç„¶æˆ‘ä»¬æ²¡æœ‰çœ‹è¿‡ä½ æƒ³è¦è§£å†³çš„é—®é¢˜ï¼Œæ¯”å¦‚è¿™é‡Œæˆ‘ä»¬åœ¨æƒ…æ„Ÿåˆ†æé‡Œçœ‹åˆ°çš„ç”¨æˆ·è¯„è®ºå’Œè¯„åˆ†ã€‚ä½†æ˜¯ï¼Œæˆ‘å¯ä»¥æ‹¿å¾ˆå¤šæˆ‘èƒ½æ‰¾åˆ°çš„æ–‡æœ¬ï¼Œæ¯”å¦‚ç½‘é¡µæ–‡ç« ã€ç»´åŸºç™¾ç§‘é‡Œçš„æ–‡ç« ï¼Œå„ç§ä¹¦ç±çš„ç”µå­ç‰ˆç­‰ç­‰ï¼Œ<strong>ä½œä¸ºç†è§£æ–‡æœ¬å†…å®¹çš„ä¸€ä¸ªå­¦ä¹ èµ„æ–™</strong>ã€‚</p><p>æˆ‘ä»¬ä¸éœ€è¦å¯¹è¿™äº›æ•°æ®è¿›è¡Œäººå·¥æ ‡æ³¨ï¼Œåªæ ¹æ®è¿™äº›æ–‡æœ¬å‰åçš„å†…å®¹ï¼Œæ¥ä¹ å¾—æ–‡æœ¬ä¹‹é—´å†…åœ¨çš„å…³è”ã€‚æ¯”å¦‚ï¼Œç½‘ä¸Šçš„èµ„æ–™é‡Œï¼Œä¼šæœ‰å¾ˆå¤šâ€œå°çŒ«å¾ˆå¯çˆ±â€ã€â€œå°ç‹—å¾ˆå¯çˆ±â€è¿™æ ·çš„æ–‡æœ¬ã€‚å°çŒ«å’Œå°ç‹—åé¢éƒ½ä¼šè·Ÿç€â€œå¾ˆå¯çˆ±â€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¼šçŸ¥é“å°çŒ«å’Œå°ç‹—åº”è¯¥æ˜¯ç›¸ä¼¼çš„è¯ï¼Œéƒ½æ˜¯å® ç‰©ã€‚åŒæ—¶ï¼Œä¸€èˆ¬æˆ‘ä»¬å¯¹äºå®ƒä»¬çš„æƒ…æ„Ÿä¹Ÿæ˜¯æ­£é¢çš„ã€‚è¿™äº›éšå«çš„å†…åœ¨ä¿¡æ¯ï¼Œåœ¨æˆ‘ä»¬åšæƒ…æ„Ÿåˆ†æçš„æ—¶å€™ï¼Œå°±å¸¦æ¥äº†å°‘é‡ç”¨æˆ·è¯„è®ºå’Œè¯„åˆ†æ•°æ®é‡Œç¼ºå°‘çš„â€œå¸¸è¯†â€ï¼Œè¿™äº›â€œå¸¸è¯†â€ä¹Ÿæœ‰åŠ©äºæˆ‘ä»¬æ›´å¥½åœ°é¢„æµ‹ã€‚</p><p>æ¯”å¦‚ï¼Œæ–‡æœ¬é‡Œæœ‰â€œç™½æ—¥ä¾å±±å°½â€ï¼Œé‚£ä¹ˆæ¨¡å‹å°±çŸ¥é“åé¢åº”è¯¥è·Ÿâ€œé»„æ²³å…¥æµ·æµâ€ã€‚æ–‡æœ¬å‰é¢æ˜¯â€œä»Šå¤©å¤©æ°”çœŸâ€ï¼Œåé¢è·Ÿç€çš„å¤§æ¦‚ç‡æ˜¯â€œä¸é”™â€ï¼Œå°æ¦‚ç‡æ˜¯â€œç³Ÿç³•â€ã€‚è¿™äº›æ–‡æœ¬å…³ç³»ï¼Œæœ€åä»¥ä¸€å †å‚æ•°çš„å½¢å¼ä½“ç°å‡ºæ¥ã€‚å¯¹äºä½ è¾“å…¥çš„æ–‡æœ¬ï¼Œå®ƒå¯ä»¥æ ¹æ®è¿™äº›å‚æ•°è®¡ç®—å‡ºä¸€ä¸ªå‘é‡ï¼Œç„¶åæ ¹æ®è¿™ä¸ªå‘é‡ï¼Œæ¥æ¨ç®—è¿™ä¸ªæ–‡æœ¬åé¢çš„å†…å®¹ã€‚</p><p>å¯ä»¥è¿™æ ·æ¥ç†è§£ï¼š<strong>ç”¨æ¥è®­ç»ƒçš„è¯­æ–™æ–‡æœ¬è¶Šä¸°å¯Œï¼Œæ¨¡å‹ä¸­å¯ä»¥æ”¾çš„å‚æ•°è¶Šå¤šï¼Œé‚£æ¨¡å‹èƒ½å¤Ÿå­¦åˆ°çš„å…³ç³»ä¹Ÿå°±è¶Šå¤šã€‚ç±»ä¼¼çš„æƒ…å†µåœ¨æ–‡æœ¬é‡Œå‡ºç°å¾—è¶Šå¤šï¼Œé‚£ä¹ˆå°†æ¥æ¨¡å‹çŒœå¾—ä¹Ÿå°±è¶Šå‡†ã€‚</strong></p><p>é¢„è®­ç»ƒæ¨¡å‹åœ¨è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸå¹¶ä¸æ˜¯OpenAIçš„ä¸“åˆ©ã€‚æ—©åœ¨2013å¹´ï¼Œå°±æœ‰ä¸€ç¯‡å«åšWord2Vecçš„ç»å…¸è®ºæ–‡è°ˆåˆ°è¿‡ã€‚å®ƒèƒ½å¤Ÿé€šè¿‡é¢„è®­ç»ƒï¼Œæ ¹æ®åŒä¸€ä¸ªå¥å­é‡Œä¸€ä¸ªå•è¯å‰åå‡ºç°çš„å•è¯ï¼Œæ¥å¾—åˆ°æ¯ä¸ªå•è¯çš„å‘é‡ã€‚è€Œåœ¨2018å¹´ï¼ŒGoogleå…³äºBERTçš„è®ºæ–‡å‘è¡¨ä¹‹åï¼Œæ•´ä¸ªä¸šç•Œä¹Ÿéƒ½ä¼šä½¿ç”¨BERTè¿™æ ·çš„é¢„è®­ç»ƒæ¨¡å‹ï¼ŒæŠŠä¸€æ®µæ–‡æœ¬å˜æˆå‘é‡ç”¨æ¥è§£å†³è‡ªå·±çš„è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ã€‚åœ¨GPT-3è®ºæ–‡å‘è¡¨ä¹‹å‰ï¼Œå¤§å®¶æ™®éçš„ç»“è®ºæ˜¯ï¼ŒBERTä½œä¸ºé¢„è®­ç»ƒçš„æ¨¡å‹æ•ˆæœä¹Ÿæ˜¯ä¼˜äºGPTçš„ã€‚</p><h2>Fasttextã€T5ã€GPT-3æ¨¡å‹æ•ˆæœå¤§æ¯”æ‹¼</h2><p>ä»Šå¤©æˆ‘ä»¬å°±æ‹¿ä¸¤ä¸ªå¼€æºçš„é¢„è®­ç»ƒæ¨¡å‹ï¼Œæ¥çœ‹çœ‹ç›´æ¥ç”¨å®ƒä»¬å¯¹æ–‡æœ¬è¿›è¡Œå‘é‡åŒ–ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿèƒ½å–å¾—å’ŒOpenAIçš„APIä¸€æ ·å¥½çš„æ•ˆæœã€‚</p><p>ç¬¬ä¸€ä¸ªæ˜¯æ¥è‡ªFacebookçš„Fasttextï¼Œå®ƒç»§æ‰¿äº†Word2Vecçš„æ€è·¯ï¼Œèƒ½å¤ŸæŠŠä¸€ä¸ªä¸ªå•è¯è¡¨ç¤ºæˆå‘é‡ã€‚ç¬¬äºŒä¸ªæ˜¯æ¥è‡ªGoogleçš„T5ï¼ŒT5çš„å…¨ç§°æ˜¯Text-to-Text Transfer Trasnformerï¼Œæ˜¯é€‚åˆåšè¿ç§»å­¦ä¹ çš„ä¸€ä¸ªæ¨¡å‹ã€‚æ‰€è°“è¿ç§»å­¦ä¹ ï¼Œä¹Ÿå°±æ˜¯å®ƒæ¨ç†å‡ºæ¥å‘é‡çš„ç»“æœï¼Œå¸¸å¸¸è¢«æ‹¿æ¥å†è¿›è¡Œæœºå™¨å­¦ä¹ ï¼Œå»è§£å†³å…¶ä»–è‡ªç„¶è¯­è¨€å¤„ç†é—®é¢˜ã€‚é€šå¸¸å¾ˆå¤šæ–°å‘è¡¨çš„è®ºæ–‡ï¼Œä¼šæŠŠT5ä½œä¸ºé¢„è®­ç»ƒæ¨¡å‹è¿›è¡Œå¾®è°ƒå’Œè®­ç»ƒï¼Œæˆ–è€…æŠŠå®ƒå½“ä½œBenchmarkæ¥å¯¹æ¯”ã€è¯„ä¼°ã€‚</p><h3>Fasttextæ•ˆæœæµ‹è¯•</h3><p>æˆ‘ä»¬å…ˆæ¥è¯•ä¸€ä¸‹Fasttextï¼Œåœ¨å®é™…è¿è¡Œä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå®‰è£…Fasttextå’ŒGensimè¿™ä¸¤ä¸ªPythonåŒ…ã€‚</p><p>æˆ‘åœ¨ä¸‹é¢åˆ—å‡ºäº†é€šè¿‡pipå®‰è£…å¯¹åº”PythonåŒ…çš„ä»£ç ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯PIPæˆ–è€…å…¶ä»–çš„PythonåŒ…ç®¡ç†å·¥å…·ï¼Œä½ å°±æ¢æˆå¯¹åº”çš„å‘½ä»¤å°±å¥½äº†ã€‚å› ä¸ºè¿™ä¸€è®²åŠ è½½çš„AIæ¨¡å‹éœ€è¦çš„å†…å­˜æ¯”è¾ƒå¤§ï¼Œä¸ºäº†å¿«é€Ÿè¿è¡Œä¹Ÿéœ€è¦å¯¹åº”çš„GPUèµ„æºï¼Œæ¨èä½ å¯ä»¥ä½¿ç”¨Google Colabæ¥å®éªŒå¯¹åº”çš„ä»£ç ã€‚</p><pre><code class=\"language-bash\">%pip install gensim\n%pip install fasttext\n</code></pre><p>ç„¶åï¼Œæˆ‘ä»¬è¦æŠŠFasttextå¯¹åº”çš„æ¨¡å‹ä¸‹è½½åˆ°æœ¬åœ°ã€‚å› ä¸ºè¿™äº›å¼€æºåº“å’Œå¯¹åº”çš„è®ºæ–‡éƒ½æ˜¯Facebookå’ŒGoogleè¿™æ ·çš„æµ·å¤–å…¬å¸å‘å¸ƒçš„ï¼Œæ•ˆæœè‡ªç„¶æ˜¯åœ¨è‹±è¯­ä¸Šæ¯”è¾ƒå¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ä¸‹è½½å¯¹åº”çš„è‹±è¯­æ¨¡å‹ï¼Œåå­—å«åš â€œcc.en.300.binâ€ã€‚åŒæ ·çš„ï¼Œå¯¹åº”æ¨¡å‹çš„ä¸‹è½½é“¾æ¥ï¼Œæˆ‘ä¹Ÿæ”¾åœ¨<a href=\"https://dl.fbaipublicfiles.com/fasttext/vectors-crawl/cc.en.300.bin.gz\">è¿™é‡Œ</a>äº†ã€‚</p><p>ä¸‹è½½ä¹‹åè§£å‹ï¼Œç„¶åæŠŠæ–‡ä»¶æ”¾åœ¨å’ŒNotebookç›¸åŒçš„ç›®å½•ä¸‹ï¼Œæ–¹ä¾¿æˆ‘ä»¬æ¥ä¸‹æ¥è¿è¡Œä»£ç ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬æ‹¿æ¥æµ‹è¯•æ•ˆæœçš„æ•°æ®é›†è¿˜æ˜¯å’Œ<a href=\"https://time.geekbang.org/column/article/642179\">ç¬¬ 02 è®²</a>ä¸€æ ·ï¼Œç”¨çš„æ˜¯ 2.5w æ¡äºšé©¬é€Šé£Ÿç‰©è¯„è®ºçš„æ•°æ®ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/12/46/1288595dd50b5aa60250daa94f5fd346.png?wh=1258x415\" alt=\"\"></p><p><span class=\"reference\">æ³¨ï¼šå„ç§è¯­è¨€çš„ <a href=\"https://fasttext.cc/docs/en/crawl-vectors.html\">Fasttextæ¨¡å‹</a>ã€‚</span></p><p>ä»£ç çš„é€»è¾‘ä¹Ÿä¸å¤æ‚ï¼Œæˆ‘ä»¬å…ˆåˆ©ç”¨Gensimè¿™ä¸ªåº“ï¼ŒæŠŠFacebooké¢„è®­ç»ƒå¥½çš„æ¨¡å‹åŠ è½½è¿›æ¥ã€‚ç„¶åï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªè·å–æ–‡æœ¬å‘é‡çš„å‡½æ•°ã€‚å› ä¸ºFasttextå­¦åˆ°çš„æ˜¯å•è¯çš„å‘é‡ï¼Œè€Œä¸æ˜¯å¥å­çš„å‘é‡ã€‚åŒæ—¶ï¼Œå› ä¸ºæˆ‘ä»¬æƒ³è¦æµ‹è¯•ä¸€ä¸‹é›¶æ ·æœ¬å­¦ä¹ çš„æ•ˆæœï¼Œä¸èƒ½å†æ ¹æ®æ‹¿åˆ°çš„è¯„è®ºæ•°æ®è¿›ä¸€æ­¥è®­ç»ƒæ¨¡å‹äº†ã€‚æ‰€ä»¥æˆ‘ä»¬æŠŠä¸€å¥è¯é‡Œæ¯ä¸ªå•è¯çš„å‘é‡ï¼ŒåŠ åœ¨ä¸€èµ·å¹³å‡ä¸€ä¸‹ï¼ŒæŠŠå¾—åˆ°çš„å‘é‡ä½œä¸ºæ•´æ®µè¯„è®ºçš„å‘é‡ã€‚è¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯å½“å¹´å¸¸ç”¨çš„<strong>ä¸€ç§å°†ä¸€å¥è¯å˜æˆå‘é‡çš„åŠæ³•</strong>ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªæ“ä½œå®šä¹‰æˆäº† get_fasttext_vector è¿™ä¸ªå‡½æ•°ï¼Œä¾›åé¢çš„ç¨‹åºä½¿ç”¨ã€‚</p><pre><code class=\"language-python\">import gensim\nimport numpy as np\n# Load the FastText pre-trained model\nmodel = gensim.models.fasttext.load_facebook_model('cc.en.300.bin')\n\ndef get_fasttext_vector(line):\n    vec = np.zeros(300) # Initialize an empty 300-dimensional vector\n    for word in line.split():\n        vec += model.wv[word]\n    vec /= len(line.split()) # Take the average over all words in the line\n    return vec\n</code></pre><p>è€Œå¯¹åº”çš„é›¶æ ·æœ¬å­¦ä¹ ï¼Œæˆ‘ä»¬è¿˜æ˜¯å’Œ<a href=\"https://time.geekbang.org/column/article/642179\">ç¬¬ 02 è®²</a>ä¸€æ ·ï¼Œå°†éœ€è¦è¿›è¡Œæƒ…æ„Ÿåˆ¤æ–­çš„è¯„è®ºåˆ†åˆ«ä¸ â€œAn Amazon review with a positive sentiment.â€ ä»¥åŠ â€œAn Amazon review with a negative sentiment.â€ è¿™ä¸¤å¥è¯è¿›è¡Œå‘é‡è®¡ç®—ï¼Œç®—å‡ºå®ƒä»¬ä¹‹é—´çš„ä½™å¼¦è·ç¦»ã€‚</p><p><strong>ç¦»å‰ä¸€ä¸ªè¿‘ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºæ˜¯æ­£é¢æƒ…æ„Ÿï¼Œç¦»åä¸€ä¸ªè¿‘å°±æ˜¯è´Ÿé¢æƒ…æ„Ÿã€‚</strong></p><pre><code class=\"language-python\">positive_text = \"\"\"Wanted to save some to bring to my Chicago family but my North Carolina family ate all 4 boxes before I could pack. These are excellent...could serve to anyone\"\"\"\nnegative_text = \"\"\"First, these should be called Mac - Coconut bars, as Coconut is the #2 ingredient and Mango is #3.  Second, lots of people don't like coconut.  I happen to be allergic to it.  Word to Amazon that if you want happy customers to make things like this more prominent.  Thanks.\"\"\"\n\npositive_example_in_fasttext = get_fasttext_vector(positive_text)\nnegative_example_in_fasttext = get_fasttext_vector(negative_text)\n\npositive_review_in_fasttext = get_fasttext_vector(\"An Amazon review with a positive sentiment.\")\nnegative_review_in_fasttext = get_fasttext_vector('An Amazon review with a negative sentiment.')\n\nimport numpy as np\n\ndef get_fasttext_score(sample_embedding):\n  return cosine_similarity(sample_embedding, positive_review_in_fasttext) - cosine_similarity(sample_embedding, negative_review_in_fasttext)\n\npositive_score = get_fasttext_score(positive_example_in_fasttext)\nnegative_score = get_fasttext_score(negative_example_in_fasttext)\n\nprint(\"Fasttextå¥½è¯„ä¾‹å­çš„è¯„åˆ† : %f\" % (positive_score))\nprint(\"Fasttextå·®è¯„ä¾‹å­çš„è¯„åˆ† : %f\" % (negative_score))\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-python\">Fasttextå¥½è¯„ä¾‹å­çš„è¯„åˆ† : -0.000544\nFasttextå·®è¯„ä¾‹å­çš„è¯„åˆ† : 0.000369\n</code></pre><p>æˆ‘ä»¬ä»äºšé©¬é€Šé£Ÿç‰©è¯„è®ºçš„æ•°æ®é›†é‡Œï¼Œé€‰å–äº†ä¸€ä¸ªç”¨æˆ·æ‰“5åˆ†çš„æ­£é¢ä¾‹å­å’Œä¸€ä¸ªç”¨æˆ·æ‰“1åˆ†çš„ä¾‹å­è¯•äº†ä¸€ä¸‹ã€‚ç»“æœéå¸¸ä¸å¹¸ï¼Œé€šè¿‡è¿™ä¸ªé›¶æ ·æœ¬å­¦ä¹ çš„æ–¹å¼ï¼Œè¿™ä¸¤ä¸ªä¾‹å­ï¼Œç¨‹åºéƒ½åˆ¤æ–­é”™äº†ã€‚</p><p>ä¸è¿‡ï¼Œä»”ç»†æƒ³ä¸€ä¸‹ï¼Œè¿™æ ·çš„ç»“æœä¹Ÿæ­£å¸¸ã€‚å› ä¸ºè¿™é‡Œçš„æ•´å¥å‘é‡å°±æ˜¯æŠŠæ‰€æœ‰å•è¯çš„å‘é‡å¹³å‡äº†ä¸€ä¸‹ã€‚è¿™æ„å‘³ç€ï¼Œ<strong>å¯èƒ½ä¼šå‡ºç°æˆ‘ä»¬ä¹‹å‰è¯´è¿‡çš„å•è¯ç›¸åŒé¡ºåºä¸åŒçš„é—®é¢˜ã€‚</strong></p><p>â€œnot good, really badâ€ å’Œ â€œnot bad, really goodâ€ï¼Œåœ¨è¿™ä¸ªæƒ…å†µä¸‹ï¼Œæ„æ€å®Œå…¨ä¸åŒï¼Œä½†æ˜¯å‘é‡å®Œå…¨ç›¸åŒã€‚æ›´ä½•å†µï¼Œæˆ‘ä»¬æ‹¿æ¥åšå¯¹æ¯”çš„æ­£é¢æƒ…æ„Ÿå’Œè´Ÿé¢æƒ…æ„Ÿçš„ä¸¤å¥è¯ï¼Œåªå·®äº†positive/negativeè¿™æ ·ä¸€ä¸ªå•è¯ã€‚ä¸è€ƒè™‘å•è¯çš„é¡ºåºï¼Œè€Œåªè€ƒè™‘å‡ºç°äº†å“ªäº›å•è¯ï¼Œå¹¶ä¸”ä¸åŒå•è¯ä¹‹é—´è¿˜å¹³å‡ä¸€ä¸‹ã€‚è¿™ç§ç­–ç•¥è¦æ˜¯çœŸçš„æœ‰å¾ˆå¥½çš„æ•ˆæœï¼Œä½ åè€Œè¦æ‹…å¿ƒæ˜¯ä¸æ˜¯å“ªé‡Œæœ‰Bugã€‚</p><h3>T5æ•ˆæœæµ‹è¯•</h3><p>Fasttextå‡ºå¸ˆä¸åˆ©ï¼Œæ¯•ç«ŸWord2Vecå·²ç»æ˜¯10å¹´å‰çš„æŠ€æœ¯äº†ï¼Œå¯ä»¥ç†è§£ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å’ŒGPTä¸€æ ·ä½¿ç”¨äº†ç°åœ¨æœ€æµè¡Œçš„Transformerç»“æ„çš„T5æ¨¡å‹æ•ˆæœæ€ä¹ˆæ ·ã€‚</p><p>T5æ¨¡å‹çš„å…¨ç§°æ˜¯Text-to-Text Transfer Transformerï¼Œç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯â€œæ–‡æœ¬åˆ°æ–‡æœ¬çš„è¿ç§»Transformerâ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªæ¨¡å‹å°±æ˜¯ä¸ºäº†æ–¹ä¾¿é¢„è®­ç»ƒä¹‹åæ‹¿å»â€œè¿ç§»â€åˆ°åˆ«çš„ä»»åŠ¡ä¸Šè€Œåˆ›é€ å‡ºæ¥çš„ã€‚å½“æ—¶å‘è¡¨çš„æ—¶å€™ï¼Œå®ƒå°±åœ¨å„ç§æ•°æ®é›†çš„è¯„æµ‹ä¸Šé«˜å±…æ¦œé¦–ã€‚</p><p>T5æœ€å¤§çš„æ¨¡å‹ä¹Ÿæœ‰110äº¿ä¸ªå‚æ•°ï¼Œä¹Ÿæ˜¯åŸºäºTransformerï¼Œè™½ç„¶æ¯”èµ·GPT-3çš„1750äº¿å°äº†ä¸å°‘ï¼Œä½†æ˜¯å¯¹ç¡¬ä»¶çš„æ€§èƒ½è¦æ±‚ä¹Ÿä¸ä½ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å…ˆæµ‹è¯•ä¸€ä¸‹T5-Smallè¿™ä¸ªå°æ¨¡å‹çœ‹çœ‹æ•ˆæœã€‚</p><p>åŒæ ·çš„ï¼Œåœ¨å®é™…è¿è¡Œä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦å®‰è£…å¯¹åº”çš„PythonåŒ…ã€‚è¿™é‡Œæˆ‘ä»¬åˆ†åˆ«å®‰è£…äº†SentencePieceå’ŒPyTorchã€‚åœ¨å®‰è£…PyTorchçš„æ—¶å€™ï¼Œæˆ‘ä¸€å¹¶å®‰è£…äº†Torchvisionï¼Œåé¢è¯¾ç¨‹ä¼šç”¨åˆ°ã€‚</p><pre><code class=\"language-python\">conda install transformers -c conda-forge\nconda install pytorch torchvision -c pytorch\nconda install sentencepiece\n</code></pre><p>ä»£ç ä¹Ÿä¸å¤æ‚ï¼Œæˆ‘ä»¬å…ˆåŠ è½½é¢„è®­ç»ƒå¥½çš„T5æ¨¡å‹çš„åˆ†è¯å™¨ï¼ˆTokenizerï¼‰ï¼Œè¿˜æœ‰å¯¹åº”çš„æ¨¡å‹ã€‚ç„¶åï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªget_t5_vectorå‡½æ•°ï¼Œå®ƒä¼šæ¥æ”¶ä¸€æ®µä½ çš„æ–‡æœ¬è¾“å…¥ï¼Œç„¶åç”¨åˆ†è¯å™¨æ¥åˆ†è¯æŠŠç»“æœå˜æˆä¸€ä¸ªåºåˆ—ï¼Œç„¶åè®©æ¨¡å‹çš„ç¼–ç å™¨éƒ¨åˆ†å¯¹å…¶è¿›è¡Œç¼–ç ã€‚ç¼–ç åçš„ç»“æœï¼Œä»ç„¶æ˜¯åˆ†è¯åçš„ä¸€ä¸ªè¯ä¸€ä¸ªå‘é‡ï¼Œæˆ‘ä»¬è¿˜æ˜¯æŠŠè¿™äº›å‘é‡å¹³å‡ä¸€ä¸‹ï¼Œä½œä¸ºæ•´æ®µæ–‡æœ¬çš„å‘é‡ã€‚</p><p>ä¸è¿‡è¦æ³¨æ„ï¼Œè™½ç„¶åŒæ ·æ˜¯å¹³å‡ï¼Œä½†æ˜¯å’Œå‰é¢Fasttextä¸ä¸€æ ·çš„æ˜¯ï¼Œè¿™é‡Œæ¯ä¸ªè¯çš„å‘é‡ï¼Œéšç€ä½ç½®ä»¥åŠå‰åè¯çš„ä¸åŒï¼Œç¼–ç å‡ºæ¥çš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ã€‚æ‰€ä»¥<strong>è¿™ä¸ªå¹³å‡å€¼é‡Œï¼Œä»ç„¶åŒ…å«äº†é¡ºåºå¸¦æ¥çš„è¯­ä¹‰ä¿¡æ¯ã€‚</strong></p><p>è¿™æ®µä»£ç æ‰§è¡Œçš„è¿‡ç¨‹å¯èƒ½ä¼šæœ‰ç‚¹æ…¢ã€‚å› ä¸ºç¬¬ä¸€æ¬¡åŠ è½½æ¨¡å‹çš„æ—¶å€™ï¼ŒTransformeråº“ä¼šæŠŠæ¨¡å‹ä¸‹è½½åˆ°æœ¬åœ°å¹¶ç¼“å­˜èµ·æ¥ï¼Œæ•´ä¸ªä¸‹è½½è¿‡ç¨‹ä¼šèŠ±ä¸€äº›æ—¶é—´ã€‚</p><pre><code class=\"language-python\">from transformers import T5Tokenizer, T5Model\nimport torch\n\n# load the T5 tokenizer and model\ntokenizer = T5Tokenizer.from_pretrained('t5-small', model_max_length=512)\nmodel = T5Model.from_pretrained('t5-small')\n\n# set the model to evaluation mode\nmodel.eval()\n\n# encode the input sentence\ndef get_t5_vector(line):\n    input_ids = tokenizer.encode(line, return_tensors='pt', max_length=512, truncation=True)\n    # generate the vector representation\n    with torch.no_grad():\n        outputs = model.encoder(input_ids=input_ids)\n        vector = outputs.last_hidden_state.mean(dim=1)\n    return vector[0]\n</code></pre><p>æœ‰äº†æ¨¡å‹å’Œé€šè¿‡æ¨¡å‹è·å–çš„å‘é‡æ•°æ®ï¼Œæˆ‘ä»¬å°±å¯ä»¥å†è¯•ä¸€è¯•å‰é¢çš„é›¶æ ·æœ¬å­¦ä¹ çš„æ–¹å¼ï¼Œæ¥çœ‹çœ‹æ•ˆæœæ€ä¹ˆæ ·äº†ã€‚æˆ‘ä»¬ç®€å•åœ°æŠŠä¹‹å‰è·å–å‘é‡å’Œè®¡ç®—å‘é‡çš„å‡½æ•°è°ƒç”¨ï¼Œéƒ½æ¢æˆæ–°çš„get_t5_vectorï¼Œè¿è¡Œä¸€ä¸‹å°±èƒ½çœ‹åˆ°ç»“æœäº†ã€‚</p><pre><code class=\"language-python\">positive_review_in_t5 = get_t5_vector(\"An Amazon review with a positive sentiment.\")\nnegative_review_in_t5 = get_t5_vector('An Amazon review with a negative sentiment.')\n\ndef test_t5():\n  positive_example_in_t5 = get_t5_vector(positive_text)\n  negative_example_in_t5 = get_t5_vector(negative_text)\n\n  def get_t5_score(sample_embedding):\n    return cosine_similarity(sample_embedding, positive_review_in_t5) - cosine_similarity(sample_embedding, negative_review_in_t5)\n\n  positive_score = get_t5_score(positive_example_in_t5)\n  negative_score = get_t5_score(negative_example_in_t5)\n\n  print(\"T5å¥½è¯„ä¾‹å­çš„è¯„åˆ† : %f\" % (positive_score))\n  print(\"T5å·®è¯„ä¾‹å­çš„è¯„åˆ† : %f\" % (negative_score))\n\ntest_t5()\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-python\">T5å¥½è¯„ä¾‹å­çš„è¯„åˆ† : -0.010294\nT5å·®è¯„ä¾‹å­çš„è¯„åˆ† : -0.008990\n</code></pre><p>ä¸å¹¸çš„æ˜¯ï¼Œç»“æœè¿˜æ˜¯ä¸å¤ªå¥½ï¼Œä¸¤ä¸ªä¾‹å­éƒ½è¢«åˆ¤æ–­æˆäº†è´Ÿé¢æƒ…ç»ªï¼Œè€Œä¸”å¥½è¯„çš„åˆ†æ•°è¿˜æ›´ä½ä¸€ç‚¹ã€‚ä¸è¿‡åˆ«ç€æ€¥ï¼Œä¼šä¸ä¼šæ˜¯æˆ‘ä»¬ç”¨çš„æ¨¡å‹å¤ªå°äº†å‘¢ï¼Ÿæ¯•ç«ŸT5è®ºæ–‡é‡Œéœ¸å å„ä¸ªæ’è¡Œæ¦œçš„æ˜¯110äº¿ä¸ªå‚æ•°çš„å¤§æ¨¡å‹ï¼Œæˆ‘ä»¬è¿™é‡Œç”¨çš„æ˜¯T5-Smallè¿™ä¸ªåŒæ ·æ¶æ„ä¸‹çš„å°æ¨¡å‹ï¼Œå‚æ•°æ•°é‡åªæœ‰6000ä¸‡ä¸ªã€‚</p><p>110äº¿ä¸ªå‚æ•°è¦èŠ±å¤ªå¤šæ—¶é—´äº†ï¼Œæˆ‘ä»¬ä¸å¦¨æŠŠæ¨¡å‹æ”¾å¤§ä¸€ä¸‹ï¼Œè¯•è¯•æœ‰2.2äº¿ä¸ªå‚æ•°çš„ T5-Baseè¿™ä¸ªæ¨¡å‹ï¼Ÿè¯•ç”¨èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬å°±ç›´æ¥æŠŠä¸Šé¢æ¨¡å‹çš„åå­—ä» T5-small æ”¹æˆ T5-base å°±å¥½äº†ï¼Œå…¶ä»–ä»£ç ä¸éœ€è¦åŠ¨ï¼Œé‡æ–°è¿è¡Œä¸€éã€‚</p><pre><code class=\"language-python\">tokenizer = T5Tokenizer.from_pretrained('t5-base', model_max_length=512)\nmodel = T5Model.from_pretrained('t5-base')\n\n# set the model to evaluation mode\nmodel.eval()\n\n# encode the input sentence\ndef get_t5_vector(line):\n    input_ids = tokenizer.encode(line, return_tensors='pt', max_length=512, truncation=True)\n    # generate the vector representation\n    with torch.no_grad():\n        outputs = model.encoder(input_ids=input_ids)\n        vector = outputs.last_hidden_state.mean(dim=1)\n    return vector[0]\n\npositive_review_in_t5 = get_t5_vector(\"An Amazon review with a positive sentiment.\")\nnegative_review_in_t5 = get_t5_vector('An Amazon review with a negative sentiment.')\n\ntest_t5()\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-python\">T5å¥½è¯„ä¾‹å­çš„è¯„åˆ† : 0.010347\nT5å·®è¯„ä¾‹å­çš„è¯„åˆ† : -0.023935\n</code></pre><p>è¿™ä¸€æ¬¡ï¼Œç»“æœä¼¼ä¹æ˜¯æˆ‘ä»¬æƒ³è¦çš„äº†ï¼Œå¥½è¯„è¢«åˆ¤å®šä¸ºæ­£é¢æƒ…æ„Ÿï¼Œè€Œå·®è¯„è¢«åˆ¤å®šä¸ºè´Ÿé¢æƒ…æ„Ÿã€‚ä¸è¿‡ï¼Œä¹Ÿè®¸æˆ‘ä»¬åªæ˜¯è¿æ°”å¥½ï¼Œåœ¨è¿™ä¸€ä¸¤ä¸ªä¾‹å­ä¸Šæœ‰æ•ˆæœå‘¢ï¼Ÿæ‰€ä»¥ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬æŠŠæ•´ä¸ªæ•°æ®é›†é‡Œï¼Œ1åˆ†2åˆ†çš„å·®è¯„å’Œ4åˆ†5åˆ†çš„å¥½è¯„éƒ½æ‹¿å‡ºæ¥çœ‹ä¸€çœ‹ã€‚åœ¨OpenAIçš„APIæ‹¿åˆ°çš„Embeddingé‡Œï¼Œå®ƒçš„å‡†ç¡®ç‡èƒ½å¤Ÿè¾¾åˆ°95%ä»¥ä¸Šï¼Œæˆ‘ä»¬çœ‹çœ‹ç”¨è¿™ä¸ªæœ‰2.2äº¿ä¸ªå‚æ•°çš„T5-baseæ¨¡å‹èƒ½æœ‰ä»€ä¹ˆæ ·çš„ç»“æœã€‚</p><p>å¯¹åº”çš„ä»£ç ä¹Ÿä¸å¤æ‚ï¼ŒåŸºæœ¬ä¸Šå’Œ<a href=\"https://time.geekbang.org/column/article/642179\">ç¬¬ 02 è®²</a>é‡ŒOpenAIç»™åˆ°çš„Embeddingä»£ç æ˜¯ç±»ä¼¼çš„ã€‚æ— éæ˜¯é€šè¿‡pandasï¼Œæ ¹æ®è¯„è®ºçš„Textå­—æ®µï¼Œå…¨éƒ¨è®¡ç®—ä¸€éT5ä¸‹çš„Embeddingï¼Œç„¶åå­˜åˆ°DataFrameçš„t5_embedding é‡Œå»ã€‚</p><p>åŒæ ·çš„ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦é€šè¿‡T5çš„æ¨¡å‹ï¼Œæ¥è·å¾— â€œAn Amazon review with a positive sentiment.â€ ä»¥åŠ â€œAn Amazon review with a negative sentiment.â€ è¿™ä¸¤å¥è¯çš„Embeddingã€‚ç„¶åï¼Œæˆ‘ä»¬ç”¨åˆšåˆšè®¡ç®—çš„ç”¨æˆ·è¯„è®ºçš„Embeddingå’Œè¿™ä¸¤å¥è¯è®¡ç®—ä¸€ä¸‹ä½™å¼¦è·ç¦»ï¼Œæ¥åˆ¤æ–­è¿™äº›è¯„è®ºæ˜¯æ­£é¢è¿˜æ˜¯è´Ÿé¢çš„ã€‚</p><p>æœ€åï¼Œé€šè¿‡Scikit-learnçš„åˆ†ç±»æŠ¥å‘Šçš„ç±»åº“æŠŠè¯„ä¼°çš„æŠ¥å‘Šç»“æœæ‰“å°å‡ºæ¥ã€‚</p><pre><code class=\"language-python\">import pandas as pd\nfrom sklearn.metrics import classification_report\n\ndatafile_path = \"data/fine_food_reviews_with_embeddings_1k.csv\"\n\ndf = pd.read_csv(datafile_path)\n\ndf[\"t5_embedding\"] = df.Text.apply(get_t5_vector)\n# convert 5-star rating to binary sentiment\ndf = df[df.Score != 3]\ndf[\"sentiment\"] = df.Score.replace({1: \"negative\", 2: \"negative\", 4: \"positive\", 5: \"positive\"})\n\nfrom sklearn.metrics import PrecisionRecallDisplay\ndef evaluate_embeddings_approach():\n    def label_score(review_embedding):\n        return cosine_similarity(review_embedding, positive_review_in_t5) - cosine_similarity(review_embedding, negative_review_in_t5)\n\n    probas = df[\"t5_embedding\"].apply(lambda x: label_score(x))\n    preds = probas.apply(lambda x: 'positive' if x&gt;0 else 'negative')\n\n    report = classification_report(df.sentiment, preds)\n    print(report)\n\n    display = PrecisionRecallDisplay.from_predictions(df.sentiment, probas, pos_label='positive')\n    _ = display.ax_.set_title(\"2-class Precision-Recall curve\")\n\nevaluate_embeddings_approach()\n</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class=\"language-python\">              precision    recall  f1-score   support\n    negative       0.60      0.90      0.72       136\n    positive       0.98      0.90      0.94       789\n    accuracy                           0.90       925\n   macro avg       0.79      0.90      0.83       925\nweighted avg       0.93      0.90      0.91       925\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/ac/af/ac3b30d430fb855f1382bc845b6798af.png?wh=576x453\" alt=\"å›¾ç‰‡\"></p><p>ç»“æœæ˜¾ç¤ºï¼Œä½¿ç”¨T5çš„æ•ˆæœä¹Ÿè¿˜å¯ä»¥ï¼Œè€ƒè™‘æ‰€æœ‰æ ·æœ¬çš„å‡†ç¡®ç‡ä¹Ÿèƒ½è¾¾åˆ°90%ã€‚ä½†æ˜¯ï¼Œåœ¨æ¯”è¾ƒå›°éš¾çš„å·®è¯„çš„åˆ¤æ–­é‡Œï¼Œå®ƒçš„è¡¨ç°è¦æ¯”ç›´æ¥ç”¨OpenAIç»™åˆ°çš„Embeddingè¦å·®å¾ˆå¤šï¼Œæ•´ä½“çš„ç²¾åº¦åªæœ‰60%ã€‚æˆ‘ä»¬å»çœ‹æ•´ä½“æ¨¡å‹çš„å‡†ç¡®ç‡çš„è¯ï¼ŒOpenAIçš„Embeddingèƒ½å¤Ÿåˆ°è¾¾96%ï¼Œè¿˜æ˜¯æ¯”è¿™é‡Œçš„90%è¦å¥½ä¸Šä¸€äº›çš„ã€‚</p><pre><code class=\"language-python\">            precision    recall  f1-score   support\n    negative       0.98      0.73      0.84       136\n    positive       0.96      1.00      0.98       789\n    accuracy                           0.96       925\n   macro avg       0.97      0.86      0.91       925\nweighted avg       0.96      0.96      0.96       925\n</code></pre><p>è¿™é‡Œæˆ‘é‡æ–°è´´ä¸€ä¸‹ä½¿ç”¨OpenAIçš„Embeddingå–å¾—çš„æ•ˆæœï¼Œä½ å¯ä»¥åšä¸ªå¯¹æ¯”ã€‚</p><p>å½“ç„¶ï¼Œè¿™ä¸ªåˆ†æ•°ä¹Ÿè¿˜ä¸é”™ï¼Œä¹Ÿèƒ½ä½œä¸ºä¸€ä¸ªåˆæ ¼çš„æƒ…æ„Ÿåˆ†æåˆ†ç±»å™¨çš„åŸºå‡†çº¿äº†ã€‚æ¯•ç«Ÿï¼Œæˆ‘ä»¬è¿™é‡Œé‡‡ç”¨çš„æ˜¯é›¶æ ·æœ¬åˆ†ç±»çš„æ–¹æ³•ï¼Œæ²¡æœ‰å¯¹éœ€è¦åˆ†ç±»çš„æ•°æ®åšä»»ä½•è®­ç»ƒï¼Œä½¿ç”¨çš„å®Œå…¨æ˜¯é¢„è®­ç»ƒæ¨¡å‹ç»™å‡ºæ¥çš„å‘é‡ï¼Œç›´æ¥æ ¹æ®è·ç¦»åšçš„åˆ¤æ–­ã€‚æ‰€ä»¥ï¼Œçœ‹èµ·æ¥å¤§ä¸€ç‚¹çš„é¢„è®­ç»ƒæ¨¡å‹çš„ç¡®æœ‰ç”¨ï¼Œèƒ½å¤Ÿå–å¾—æ›´å¥½çš„æ•ˆæœã€‚è€Œä¸”ï¼Œå½“ä½ å› ä¸ºæˆæœ¬æˆ–è€…ç½‘ç»œå»¶æ—¶çš„é—®é¢˜ï¼Œä¸æ–¹ä¾¿ä½¿ç”¨OpenAIçš„APIçš„æ—¶å€™ï¼Œå¦‚æœåªæ˜¯è¦è·å–æ–‡æœ¬çš„Embeddingå‘é‡ï¼Œä½¿ç”¨T5è¿™æ ·çš„å¼€æºæ¨¡å‹å…¶å®æ•ˆæœä¹Ÿè¿˜ä¸é”™ã€‚</p><h2>å°ç»“</h2><p>æœ€åï¼Œæˆ‘ä»¬æ¥å¤ä¹ ä¸€ä¸‹è¿™ä¸€è®²çš„å†…å®¹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a2/af/a2d8bc53ca126473543868e262d42baf.jpg?wh=2844x1762\" alt=\"\"></p><p>è¿™ä¸€è®²æˆ‘ä»¬ä¸€èµ·ä½¿ç”¨ Fasttextã€T5-small å’Œ T5-base è¿™ä¸‰ä¸ªé¢„è®­ç»ƒæ¨¡å‹ï¼Œåšäº†é›¶æ ·æœ¬åˆ†ç±»æµ‹è¯•ã€‚åœ¨å’Œä¹‹å‰ç›¸åŒçš„é£Ÿç‰©è¯„è®ºçš„æ•°æ®é›†ä¸Šï¼Œä½¿ç”¨åªå­¦ä¹ äº†å•è¯å‘é‡è¡¨ç¤ºçš„Fasttextï¼Œæ•ˆæœå¾ˆç³Ÿç³•ã€‚å½“æˆ‘ä»¬æ¢ç”¨åŒæ ·åŸºäºTransformerçš„T5æ¨¡å‹çš„æ—¶å€™ï¼ŒT5-smallè¿™ä¸ª6000ä¸‡å‚æ•°çš„å°æ¨¡å‹å…¶å®æ•ˆæœä¹Ÿä¸å¥½ã€‚ä½†æ˜¯å½“æˆ‘ä»¬ç”¨ä¸Š2.2äº¿å‚æ•°çš„T5-baseæ¨¡å‹çš„æ—¶å€™ï¼Œç»“æœè¿˜å¯ä»¥ã€‚ä¸è¿‡ï¼Œè¿˜æ˜¯è¿œè¿œæ¯”ä¸ä¸Šç›´æ¥ä½¿ç”¨OpenAIçš„APIçš„æ•ˆæœã€‚å¯è§ï¼Œæ¨¡å‹çš„å¤§å°ï¼Œå³ä½¿æ˜¯å¯¹æƒ…æ„Ÿåˆ†æè¿™æ ·ç®€å•çš„é—®é¢˜ï¼Œä¹Ÿèƒ½äº§ç”Ÿæ˜æ˜¾çš„å·®è·ã€‚</p><h2>è¯¾åç»ƒä¹ </h2><ol>\n<li>æˆ‘ä»¬åœ¨å°è¯•ä½¿ç”¨T5-baseè¿™ä¸ªæ¨¡å‹ä¹‹åï¼Œä¸‹äº†ä¸ªåˆ¤æ–­è®¤ä¸ºå¤§ä¸€ç‚¹çš„æ¨¡å‹æ•ˆæœæ›´å¥½ã€‚ä¸è¿‡ï¼Œå…¶å®æˆ‘ä»¬å¹¶æ²¡æœ‰åœ¨æ•´ä¸ªæ•°æ®é›†ä¸Šä½¿ç”¨T5-smallè¿™ä¸ªæ¨¡å‹åšè¯„æµ‹ï¼Œä½ èƒ½è¯•ç€ä¿®æ”¹ä¸€ä¸‹ä»£ç ï¼Œç”¨T5-smallæµ‹è¯•ä¸€ä¸‹æ•´ä¸ªæ•°æ®é›†å—ï¼Ÿæµ‹è¯•ä¸‹æ¥çš„æ•ˆæœåˆæ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</li>\n<li>æˆ‘ä»¬ä½¿ç”¨Fasttextçš„æ—¶å€™ï¼ŒæŠŠæ‰€æœ‰çš„å•è¯å‘é‡å¹³å‡ä¸€ä¸‹ï¼Œç”¨æ¥åšæƒ…æ„Ÿåˆ†ææ•ˆæœå¾ˆç³Ÿç³•ã€‚é‚£ä¹ˆä»€ä¹ˆæ ·çš„åˆ†ç±»é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨è¿™æ ·çš„æ–¹å¼å‘¢ï¼Ÿç»™ä½ ä¸€ä¸ªå°æç¤ºï¼Œä½ è§‰å¾—ä»€ä¹ˆæ ·çš„æ–‡æœ¬åˆ†ç±»ï¼Œåªå…³å¿ƒå‡ºç°çš„å•è¯æ˜¯ä»€ä¹ˆï¼Œè€Œä¸å…³å¿ƒå®ƒä»¬çš„é¡ºåºï¼Ÿ</li>\n</ol><p>æœŸå¾…ä½ çš„æ€è€ƒï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™èŠ‚è¯¾åˆ†äº«ç»™æ„Ÿå…´è¶£çš„æœ‹å‹ï¼Œæˆ‘ä»¬ä¸‹ä¸€è®²å†è§ã€‚</p>","neighbors":{"left":{"article_title":"03ï½œå·§ç”¨æç¤ºè¯­ï¼Œè¯´è¯´è¯å°±èƒ½åšä¸ªèŠå¤©æœºå™¨äºº","id":642197},"right":{"article_title":"05ï½œå–„ç”¨Embeddingï¼Œæˆ‘ä»¬æ¥ç»™æ–‡æœ¬åˆ†åˆ†ç±»","id":643889}},"comments":[{"had_liked":false,"id":371464,"user_name":"Daniel","can_delete":false,"product_type":"c1","uid":2046024,"ip_address":"åŒ—äº¬","ucode":"8AF73DE4F435B6","user_header":"https://static001.geekbang.org/account/avatar/00/1f/38/48/557629d9.jpg","comment_is_top":false,"comment_ctime":1679973669,"is_pvip":false,"replies":[{"id":135721,"content":"BERTæ˜¯ \nç™½æ—¥ä¾å±±å°½ï¼Œ_____ï¼Œæ¬²ç©·åƒé‡Œç›®\n\nGPTæ˜¯\nç™½æ—¥ä¾å±±å°½ï¼Œ_____\n\nä¸€ä¸ªæ˜¯å®Œå½¢å¡«ç©ºï¼Œä¸€ä¸ªæ˜¯ç»­å†™ã€‚GPTæ²¡æ³•çœ‹åˆ°åé¢çš„ä¸œè¥¿ï¼Œæ‰€ä»¥åœ¨å¾ˆå¤šè¯­ä¹‰ç†è§£çš„æŒ‡æ ‡ä¸Šä¸å¦‚BERTã€‚\n\nä½†æ˜¯å¾ˆå¤šçœŸå®çš„ä½¿ç”¨åœºæ™¯ä½ çœ‹ä¸åˆ°åé¢çš„ä¸œè¥¿ï¼Œæ‰€ä»¥ä»AGIçš„è·¯çº¿ä¸Šï¼Œå¾ˆå¤šäººè§‰å¾—GPTæ‰æ˜¯æ­£ç¡®è·¯å¾„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680581943,"ip_address":"ä¸Šæµ·","comment_id":371464,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"BERTï¼šBERT åŸºäº Transformer çš„ï¼ˆEncoderï¼‰ã€‚BERT ä½¿ç”¨åŒå‘ï¼ˆbidirectionalï¼‰çš„è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼Œå¯ä»¥åŒæ—¶æ•æ‰æ–‡æœ¬ä¸­çš„å‰åä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚\nGPTï¼šGPT åŸºäº Transformer çš„ï¼ˆDecoderï¼‰ã€‚GPT ä½¿ç”¨å•å‘ï¼ˆunidirectionalï¼‰çš„è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼Œåªèƒ½æ•æ‰æ–‡æœ¬ä¸­çš„å‰æ–‡ï¼ˆleft contextï¼‰ä¿¡æ¯ã€‚\nèƒ½å¦è¯·è€å¸ˆè¯¦ç»†è®²ä¸€ä¸‹ï¼Œè¿™ä¸¤è€…çš„å·®åˆ«ï¼Ÿ","like_count":61,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612220,"discussion_content":"BERTæ˜¯ \nç™½æ—¥ä¾å±±å°½ï¼Œ_____ï¼Œæ¬²ç©·åƒé‡Œç›®\n\nGPTæ˜¯\nç™½æ—¥ä¾å±±å°½ï¼Œ_____\n\nä¸€ä¸ªæ˜¯å®Œå½¢å¡«ç©ºï¼Œä¸€ä¸ªæ˜¯ç»­å†™ã€‚GPTæ²¡æ³•çœ‹åˆ°åé¢çš„ä¸œè¥¿ï¼Œæ‰€ä»¥åœ¨å¾ˆå¤šè¯­ä¹‰ç†è§£çš„æŒ‡æ ‡ä¸Šä¸å¦‚BERTã€‚\n\nä½†æ˜¯å¾ˆå¤šçœŸå®çš„ä½¿ç”¨åœºæ™¯ä½ çœ‹ä¸åˆ°åé¢çš„ä¸œè¥¿ï¼Œæ‰€ä»¥ä»AGIçš„è·¯çº¿ä¸Šï¼Œå¾ˆå¤šäººè§‰å¾—GPTæ‰æ˜¯æ­£ç¡®è·¯å¾„ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1680581943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371516,"user_name":"stg609","can_delete":false,"product_type":"c1","uid":1073025,"ip_address":"æµ™æ±Ÿ","ucode":"FB70A75A891BB8","user_header":"https://static001.geekbang.org/account/avatar/00/10/5f/81/1c614f4a.jpg","comment_is_top":false,"comment_ctime":1680005311,"is_pvip":false,"replies":[{"id":135777,"content":"1. éƒ½æ˜¯ GPT å®¶æ—çš„æ¨¡å‹ï¼Œ ada, babbage, curie, davinci æ¨¡å‹ä»å°åˆ°å¤§\n2. adaæ¨¡å‹åº”è¯¥è¦å°å¾—å¤šï¼Œæ‰€ä»¥ä¾¿å®œ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680588847,"ip_address":"ä¸Šæµ·","comment_id":371516,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"è€å¸ˆèƒ½è¯´è¯´\n1.  davinci, ada ç­‰æ¨¡å‹ä¸gpt3çš„å…³ç³»å—ï¼Ÿ\n2. gpt3æœ‰1750äº¿å‚æ•°ï¼Œé‚£æ˜¯ä¸æ˜¯ ada ä¹Ÿæœ‰è¿™ä¹ˆå¤§é‡çš„å‚æ•°","like_count":8,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612288,"discussion_content":"1. éƒ½æ˜¯ GPT å®¶æ—çš„æ¨¡å‹ï¼Œ ada, babbage, curie, davinci æ¨¡å‹ä»å°åˆ°å¤§\n2. adaæ¨¡å‹åº”è¯¥è¦å°å¾—å¤šï¼Œæ‰€ä»¥ä¾¿å®œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680588847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371415,"user_name":"Roy Liang","can_delete":false,"product_type":"c1","uid":1098898,"ip_address":"å¹¿ä¸œ","ucode":"1DF5FC831A35DA","user_header":"https://static001.geekbang.org/account/avatar/00/10/c4/92/338b5609.jpg","comment_is_top":false,"comment_ctime":1679911265,"is_pvip":false,"replies":[{"id":135532,"content":"1. å¾€åçœ‹ä¸€è®²ï¼Œç¬¬5è®²é‡Œä¼šå…·ä½“è§£é‡Šè¿™äº›æŒ‡æ ‡çš„å«ä¹‰ã€‚\n2. å¯¹ï¼Œä¸»é¢˜åˆ†ç±»ä¸å¤ªå…³æ³¨è¯­åº","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679968796,"ip_address":"ä¸Šæµ·","comment_id":371415,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"1. å°æ•°æ®é›†éªŒè¯ç»“æœæ˜¯è¿™æ ·ï¼Œä½†æ˜¯é—¨å¤–æ±‰å…¶å®ä¸æ‡‚è¡¨æ ¼é‡Œä»€ä¹ˆæ„æ€\n              precision    recall  f1-score   support\n\n    negative       0.25      0.99      0.40       136\n    positive       1.00      0.48      0.65       789\n\n    accuracy                           0.56       925\n   macro avg       0.62      0.74      0.52       925\nweighted avg       0.89      0.56      0.61       925\n\n2. å¯èƒ½é€‚åˆæ–°é—»åˆ†ç±»ã€åƒåœ¾é‚®ä»¶åˆ†ç±»ç­‰ä¸å…³å¿ƒè¯è¯­æ¬¡åºçš„åœºæ™¯å§","like_count":6,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611154,"discussion_content":"1. å¾€åçœ‹ä¸€è®²ï¼Œç¬¬5è®²é‡Œä¼šå…·ä½“è§£é‡Šè¿™äº›æŒ‡æ ‡çš„å«ä¹‰ã€‚\n2. å¯¹ï¼Œä¸»é¢˜åˆ†ç±»ä¸å¤ªå…³æ³¨è¯­åº","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1679968796,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1294597,"avatar":"https://static001.geekbang.org/account/avatar/00/13/c1/05/fd1d47b6.jpg","nickname":"ç©ºé—´","note":"","ucode":"2C83162E9E914A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":647824,"discussion_content":"ç›´æ¥ç‚¹â€œè§£é‡Šä»£ç â€ï¼Œè¿™é‡Œå†…åµŒçš„AIå°±å¯ä»¥è§£é‡Šæ¸…æ¥šäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1720659387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1811277,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a3/4d/59390ba9.jpg","nickname":"æ’éª¨","note":"","ucode":"A413CF46211E1F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":645600,"discussion_content":"è¯•ç€é—®ä¸‹gptçœ‹ä¸‹ä»–æ€ä¹ˆå›ç­”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1716424216,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2063962,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/7e/5a/da39f489.jpg","nickname":"Ethan New","note":"","ucode":"9CA2EF39E58030","race_medal":4,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611086,"discussion_content":"è€å“¥ï¼Œæ”¹ä»£ç çš„å“ªä¸ªåœ°æ–¹å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679923139,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371372,"user_name":"Geek_61af67","can_delete":false,"product_type":"c1","uid":3572011,"ip_address":"åŒ—äº¬","ucode":"09A8DC7C3686C0","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKPJb1k8zia02BAFmutyQ3jmlNpI9libqhtmNp6bTlJAYEj083ViaM048yuMHKs8na5TvLIkRDFRibiaZA/132","comment_is_top":false,"comment_ctime":1679849841,"is_pvip":false,"replies":[{"id":135550,"content":"tagsçš„ç¡®ä¸å¤ªå…³æ³¨é¡ºåº","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679970818,"ip_address":"ä¸Šæµ·","comment_id":371372,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"ä¸å…³å¿ƒé¡ºåºçš„è¯ï¼Œå¯¹tagsè¿›è¡Œåˆ†æä¼šä¸ä¼šæ¯”è¾ƒåˆé€‚ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611181,"discussion_content":"tagsçš„ç¡®ä¸å¤ªå…³æ³¨é¡ºåº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679970818,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373100,"user_name":"qingtama","can_delete":false,"product_type":"c1","uid":1069042,"ip_address":"åŒ—äº¬","ucode":"765040243ECE01","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/f2/6ac3bdcf.jpg","comment_is_top":false,"comment_ctime":1682042185,"is_pvip":false,"replies":[{"id":136491,"content":"ä¸èƒ½ï¼Œè¾“å‡ºçš„å‘é‡ç»´åº¦æ²¡æœ‰é‚£ä¹ˆå¤§ã€‚\n\næ˜¯æŒ‡æ‰€è°“çš„ transformeræ¨¡å‹é‡Œé¢çš„å„ç§å˜é‡å‚æ•°æœ‰2.2äº¿ä¸ªã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683087112,"ip_address":"ä¸Šæµ·","comment_id":373100,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"è¯·é—®è€å¸ˆï¼Œè¿™é‡Œçš„2.2äº¿å‚æ•°ï¼Œå¯ä»¥ç†è§£æˆå‘é‡æ‰€åœ¨çš„ç»´åº¦æ˜¯2.2äº¿ä¸ªå—ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616727,"discussion_content":"ä¸èƒ½ï¼Œè¾“å‡ºçš„å‘é‡ç»´åº¦æ²¡æœ‰é‚£ä¹ˆå¤§ã€‚\n\næ˜¯æŒ‡æ‰€è°“çš„ transformeræ¨¡å‹é‡Œé¢çš„å„ç§å˜é‡å‚æ•°æœ‰2.2äº¿ä¸ªã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683087112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371865,"user_name":"HXL","can_delete":false,"product_type":"c1","uid":2631455,"ip_address":"åŒ—äº¬","ucode":"97298EEC95BFCA","user_header":"https://static001.geekbang.org/account/avatar/00/28/27/1f/42059b0f.jpg","comment_is_top":false,"comment_ctime":1680446072,"is_pvip":false,"replies":[{"id":135783,"content":"é¢„è®­ç»ƒæ¨¡å‹ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯â€œé¢„å…ˆè®­ç»ƒå¥½çš„æ¨¡å‹â€\nä¹Ÿå°±æ˜¯è¿™ä¸ªæ¨¡å‹ï¼Œç”¨äº†åˆ«çš„å¾ˆå¤šå¾ˆå¤šæ•°æ®è®­ç»ƒå¥½äº†ã€‚å¯èƒ½å’Œæˆ‘ä»¬ç°åœ¨è¦è§£å†³çš„é—®é¢˜çš„æ•°æ®æœ‰å…³ï¼Œä¹Ÿæœ‰å¯èƒ½æ²¡æœ‰å…³ç³»ã€‚\n\nä½†æ˜¯å› ä¸º é¢„è®­ç»ƒæ¨¡å‹ é€šå¸¸é€šè¿‡æµ·é‡çš„æ•°æ®è®­ç»ƒçš„ï¼Œå®ƒå¤šå°‘å¯¹ä½ ç°åœ¨è¦è§£å†³çš„é—®é¢˜çš„çŸ¥è¯†æ˜¯æœ‰äº†è§£å’Œå¸®åŠ©çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680590129,"ip_address":"ä¸Šæµ·","comment_id":371865,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"è¿˜æ˜¯æ²¡æ˜ç™½ä»€ä¹ˆæ˜¯ é¢„è®­ç»ƒæ¨¡å‹","like_count":4,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612300,"discussion_content":"é¢„è®­ç»ƒæ¨¡å‹ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯â€œé¢„å…ˆè®­ç»ƒå¥½çš„æ¨¡å‹â€\nä¹Ÿå°±æ˜¯è¿™ä¸ªæ¨¡å‹ï¼Œç”¨äº†åˆ«çš„å¾ˆå¤šå¾ˆå¤šæ•°æ®è®­ç»ƒå¥½äº†ã€‚å¯èƒ½å’Œæˆ‘ä»¬ç°åœ¨è¦è§£å†³çš„é—®é¢˜çš„æ•°æ®æœ‰å…³ï¼Œä¹Ÿæœ‰å¯èƒ½æ²¡æœ‰å…³ç³»ã€‚\n\nä½†æ˜¯å› ä¸º é¢„è®­ç»ƒæ¨¡å‹ é€šå¸¸é€šè¿‡æµ·é‡çš„æ•°æ®è®­ç»ƒçš„ï¼Œå®ƒå¤šå°‘å¯¹ä½ ç°åœ¨è¦è§£å†³çš„é—®é¢˜çš„çŸ¥è¯†æ˜¯æœ‰äº†è§£å’Œå¸®åŠ©çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680590129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372025,"user_name":"ç‹æ˜Šç¿”Harry","can_delete":false,"product_type":"c1","uid":3573206,"ip_address":"è‹±å›½","ucode":"D4B5FDFF6E1A50","user_header":"https://static001.geekbang.org/account/avatar/00/36/85/d6/0221579f.jpg","comment_is_top":false,"comment_ctime":1680604430,"is_pvip":false,"replies":[{"id":135886,"content":"æˆ‘åœ¨ https:&#47;&#47;github.com&#47;xuwenhao&#47;geektime-ai-course æ”¾äº†å¯ä»¥åœ¨Colabè¿è¡Œçš„Notebookä»£ç ï¼Œåªè¦é€šè¿‡ pip å®‰è£…å¥½ä¾èµ–çš„åŒ…å°±èƒ½å¤Ÿè¿è¡Œã€‚\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680974340,"ip_address":"æ—¥æœ¬","comment_id":372025,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"è¿™ä¸€å¥—æµç¨‹æœ‰æ²¡æœ‰åœ¨Colabå‹å¥½çš„ã€‚æœ¬èº«æ²¡æœ‰ç¼–ç¨‹ç»éªŒè¯¥æ€ä¹ˆç€æ‰‹ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612882,"discussion_content":"æˆ‘åœ¨ https://github.com/xuwenhao/geektime-ai-course æ”¾äº†å¯ä»¥åœ¨Colabè¿è¡Œçš„Notebookä»£ç ï¼Œåªè¦é€šè¿‡ pip å®‰è£…å¥½ä¾èµ–çš„åŒ…å°±èƒ½å¤Ÿè¿è¡Œã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680974340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ—¥æœ¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372796,"user_name":"æ‘©è¥¿","can_delete":false,"product_type":"c1","uid":1004110,"ip_address":"å¹¿ä¸œ","ucode":"4E5736D525B765","user_header":"https://static001.geekbang.org/account/avatar/00/0f/52/4e/c7c5b256.jpg","comment_is_top":false,"comment_ctime":1681634892,"is_pvip":false,"replies":[{"id":136258,"content":"transformers æ˜¯æŒ‡ä¸€ç§æ·±åº¦å­¦ä¹ çš„åŸºç¡€æ¨¡å‹æ¶æ„ï¼Œhuggingfaceçš„transformersåº“ï¼Œç›¸å½“äºä¸ºè¿™ç±»æ¨¡å‹æ¶æ„çš„å¼€å‘ã€éƒ¨ç½²ã€è¯•ç”¨å®šä¹‰äº†ä¸€ä¸ªé€šç”¨çš„æ¥å£å½¢å¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681794428,"ip_address":"ä¸Šæµ·","comment_id":372796,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"åˆšæ¥è§¦æœºå™¨å­¦ä¹ ï¼ŒåŸºç¡€æ¯”è¾ƒè–„å¼±ï¼Œè¯·é—®è€å¸ˆ Transformer æ˜¯æŒ‡ä»€ä¹ˆï¼Ÿè¿™é‡Œçš„transformer è·Ÿ huggingface ä¸­çš„transformeræ˜¯ç›¸åŒçš„å†…å®¹å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":614460,"discussion_content":"transformers æ˜¯æŒ‡ä¸€ç§æ·±åº¦å­¦ä¹ çš„åŸºç¡€æ¨¡å‹æ¶æ„ï¼Œhuggingfaceçš„transformersåº“ï¼Œç›¸å½“äºä¸ºè¿™ç±»æ¨¡å‹æ¶æ„çš„å¼€å‘ã€éƒ¨ç½²ã€è¯•ç”¨å®šä¹‰äº†ä¸€ä¸ªé€šç”¨çš„æ¥å£å½¢å¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681794428,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371793,"user_name":"yanyu-xin","can_delete":false,"product_type":"c1","uid":1899757,"ip_address":"å¹¿ä¸œ","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1680332849,"is_pvip":false,"replies":[{"id":135733,"content":"ğŸ‘ \n\nhttps:&#47;&#47;github.com&#47;xuwenhao&#47;geektime-ai-course\n\nå¯ä»¥çœ‹ä¸€äº›æˆ‘æ”¾åœ¨çº¿ä¸Šçš„Notebookæ˜¯å¦ä»ä¸Šåˆ°ä¸‹æŒ‰æ­¥éª¤æ‰§è¡Œæ˜¯å¦å¯ä»¥ã€‚\næ–‡ç« é‡Œé¢å¯¹æ‰§è¡Œé¡ºåºåšäº†ä¸€äº›å‡è®¾ã€‚\n\n","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680583114,"ip_address":"ä¸Šæµ·","comment_id":371793,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"fasttext æ— æ³•å®‰è£…æˆåŠŸï¼Œç¨‹åºæ²¡æœ‰è°ƒè¯•ã€‚\nT5çš„ç¨‹åºç»è¿‡ä¿®æ”¹ï¼Œå¯ä»¥å®‰è£…ä½¿ç”¨ã€‚éœ€è¦ä¿®æ”¹äº†ä»¥ä¸‹å¥å­ï¼š\nä¸€ã€å°†fasttextä¸­çš„å¥å­ï¼š\npositive_text = &quot;&quot;&quot;Wanted to save some to bring to â€¦â€¦\nnegative_text = &quot;&quot;&quot;First, these shoulâ€¦â€¦\nå®Œæ•´é»è´´åˆ°T5ç¨‹åºå¼€å§‹ä¸­ã€‚\näºŒã€å¢åŠ ï¼šfrom sklearn.metrics.pairwise import cosine_similarity\nä¸‰ã€å°†è°ƒç”¨cosine_similarity å‡½æ•°å‚æ•°ä½¿ç”¨ NumPy çš„ reshape()ç”±ä¸€ç»´æ•°ç»„è½¬æ¢ä¸ºäºŒç»´æ•°ç»„,å…·ä½“å¦‚ä¸‹:\ndef get_t5_score(sample_embedding):\n    return cosine_similarity(sample_embedding.reshape(1, -1), positive_review_in_t5.reshape(1, -1)) - cosine_similarity(sample_embedding.reshape(1, -1), negative_review_in_t5.reshape(1, -1))\n\ndef evaluate_embeddings_approach():\n    def label_score(review_embedding):\n        return cosine_similarity(review_embedding.reshape(1, -1), positive_review_in_t5.reshape(1, -1)) - cosine_similarity(review_embedding.reshape(1, -1), negative_review_in_t5.reshape(1, -1))\n\nå››ã€å°†datafile_path = â€œfine_food_reviews_with_embeddings_1k.csvçš„åœ°å€â€ #æŒ‰ä½ ç”µè„‘å®é™…è·¯å¾„å¡«å†™\näº”ã€å‡å°‘æ•°é‡é‡ï¼Œå°†fine_food_reviews_with_embeddings_1k.csv çš„æ•°æ®å‡å°‘åˆ°100ä¸ªï¼Œè¿è¡Œé€Ÿåº¦å¿«å¾ˆå¤š","like_count":2,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612233,"discussion_content":"ğŸ‘ \n\nhttps://github.com/xuwenhao/geektime-ai-course\n\nå¯ä»¥çœ‹ä¸€äº›æˆ‘æ”¾åœ¨çº¿ä¸Šçš„Notebookæ˜¯å¦ä»ä¸Šåˆ°ä¸‹æŒ‰æ­¥éª¤æ‰§è¡Œæ˜¯å¦å¯ä»¥ã€‚\næ–‡ç« é‡Œé¢å¯¹æ‰§è¡Œé¡ºåºåšäº†ä¸€äº›å‡è®¾ã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680583114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":374326,"user_name":"Geek_93970d","can_delete":false,"product_type":"c1","uid":1452167,"ip_address":"åŒ—äº¬","ucode":"52AC308BEC7737","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJcwXucibksEYRSYg6icjibzGa7efcMrCsGec2UwibjTd57icqDz0zzkEEOM2pXVju60dibzcnQKPfRkN9g/132","comment_is_top":false,"comment_ctime":1683904127,"is_pvip":false,"replies":[{"id":136861,"content":"pip install fasttext ä¸è¡Œä¹ˆï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1684752362,"ip_address":"ä¸Šæµ·","comment_id":374326,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100541001,"comment_content":"load_facebook_model è¿™ä¸ªå‡½æ•°å°±å¾—å¡å¥½åŠå¤©ï¼Œæ¨¡å‹æ–‡ä»¶6.7Gï¼ŒåŠ è½½å¾ˆæ…¢ã€‚å¦å¤– fasttext æ—¢ç„¶ç”¨çš„æ˜¯ gensim é‡Œçš„ï¼Œé‚£å°±ä¸ç”¨å•ç‹¬å®‰è£…äº†å§ï¼Ÿå®‰è£…ä¹Ÿå®‰è£…ä¸ä¸Šï¼ŒPackagesNotFoundErrorã€‚","like_count":1,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619044,"discussion_content":"pip install fasttext ä¸è¡Œä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684752363,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":374333,"user_name":"ç‹çŸ³ç£Š","can_delete":false,"product_type":"c1","uid":1905809,"ip_address":"åœŸè€³å…¶","ucode":"CD8E0C5CF120E1","user_header":"https://static001.geekbang.org/account/avatar/00/1d/14/91/794687ef.jpg","comment_is_top":false,"comment_ctime":1683937415,"is_pvip":false,"replies":[{"id":136834,"content":"çœ‹ä¸€ä¸‹å“ªé‡Œæœ‰é—®é¢˜ï¼ŸT5-Baseæ²¡æœ‰é‚£ä¹ˆå·®ï¼Œè¿™ä¸ªçœ‹èµ·æ¥åƒT5-Smallä¹ƒè‡³æ›´å°çš„æ¨¡å‹çš„ç»“æœã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1684744842,"ip_address":"ä¸Šæµ·","comment_id":374333,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"å‚è€ƒæ–‡ä¸­çš„ç”¨ä¾‹ï¼Œç”¨T5-base æ¨ç†çš„ç»“æœå¦‚ä¸‹ï¼Œå‡†ç¡®åº¦ä¸º56%ï¼Œè¿™å¤§æ¦‚æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ \nprecision    recall  f1-score   support\n\n    negative       0.25      0.99      0.40       136\n    positive       1.00      0.48      0.65       789\n\n    accuracy                           0.56       925\n   macro avg       0.62      0.74      0.52       925\nweighted avg       0.89      0.56      0.61       925\n","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619003,"discussion_content":"çœ‹ä¸€ä¸‹å“ªé‡Œæœ‰é—®é¢˜ï¼ŸT5-Baseæ²¡æœ‰é‚£ä¹ˆå·®ï¼Œè¿™ä¸ªçœ‹èµ·æ¥åƒT5-Smallä¹ƒè‡³æ›´å°çš„æ¨¡å‹çš„ç»“æœã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684744842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373205,"user_name":"Geek_40e894","can_delete":false,"product_type":"c1","uid":3604039,"ip_address":"æ±Ÿè‹","ucode":"36D9102F832C8E","user_header":"","comment_is_top":false,"comment_ctime":1682241155,"is_pvip":false,"replies":[{"id":136454,"content":"åº”è¯¥æ˜¯å¤Ÿçš„å‘€ï¼ŒColabçš„æœºå™¨æœ‰12Gå†…å­˜ï¼Œçœ‹çœ‹æ˜¯å¦æœ‰åˆ«çš„ä»€ä¹ˆå·²ç»å äº†å¤ªå¤šå†…å®¹ restart jupyter runtimeä¸€ä¸‹ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683082849,"ip_address":"ä¸Šæµ·","comment_id":373205,"utype":1}],"discussion_count":3,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"colab Load the FastText pre-trained model å†…å­˜ä¸å¤Ÿï¼Œå´©æºƒ","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616676,"discussion_content":"åº”è¯¥æ˜¯å¤Ÿçš„å‘€ï¼ŒColabçš„æœºå™¨æœ‰12Gå†…å­˜ï¼Œçœ‹çœ‹æ˜¯å¦æœ‰åˆ«çš„ä»€ä¹ˆå·²ç»å äº†å¤ªå¤šå†…å®¹ restart jupyter runtimeä¸€ä¸‹ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683082849,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3556486,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLNWRTm9x25GZc5iaG09soGTsS6le9Ykv8aktXs3wzxakPIic0HmFS7CNKnhnicXNibTfcQxAia7w6jiaxQ/132","nickname":"Geek_a496d7","note":"","ucode":"AF011554DB7A14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":638754,"discussion_content":"fastteståœ¨colabä¸Šç¡®å®ä¼šå´©ï¼Œæœ¬åœ°è·‘å§ï¼Œè¿™ä¸ªä¾‹å­åæ­£ä¸ç”¨open aiï¼Œæœ¬åœ°ä¹Ÿæ²¡ç½‘ç»œé—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1709876746,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æµ™æ±Ÿ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1052643,"avatar":"https://static001.geekbang.org/account/avatar/00/10/0f/e3/c49aa508.jpg","nickname":"é²¸é±¼","note":"","ucode":"71437C1C601040","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":621819,"discussion_content":"æˆ‘çš„colabä¹Ÿæ˜¯åœ¨åŠ è½½æ¨¡å‹æ—¶å´©æºƒï¼Œå†…å­˜ä»1gä¸€è·¯æ¶¨åˆ°12gï¼Œç„¶åå´©æºƒã€‚è¯•äº†å¾ˆå¤šæ¬¡éƒ½æ˜¯è¿™æ ·ã€‚æ˜¯ä¸æ˜¯æ¨¡å‹å¤ªå¤§äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1687676480,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373202,"user_name":"buffett","can_delete":false,"product_type":"c1","uid":1145599,"ip_address":"åŒ—äº¬","ucode":"6606929852E095","user_header":"https://static001.geekbang.org/account/avatar/00/11/7a/ff/df4eab46.jpg","comment_is_top":false,"comment_ctime":1682239012,"is_pvip":false,"replies":[{"id":136453,"content":"ä¸æ˜¯ï¼Œæœ¬åœ°åŠ è½½æ¨¡å‹äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683082794,"ip_address":"ä¸Šæµ·","comment_id":373202,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"from transformers import T5Tokenizer, T5Modelï¼Œè¿™ä¸ªä»£ç è°ƒç”¨T5æ¨¡å‹çš„ä¹Ÿæ˜¯é€šè¿‡é€šè¿‡apiè¯·æ±‚å—ï¼Ÿæ˜¯maasçš„æ–¹å¼å—ï¼Ÿè¿˜æ˜¯æœ¬åœ°loadäº†æ¨¡å‹äº†","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616675,"discussion_content":"ä¸æ˜¯ï¼Œæœ¬åœ°åŠ è½½æ¨¡å‹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683082794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373089,"user_name":"æ„æ— å°½","can_delete":false,"product_type":"c1","uid":1234489,"ip_address":"é‡åº†","ucode":"DA179626C46B81","user_header":"https://static001.geekbang.org/account/avatar/00/12/d6/39/6b45878d.jpg","comment_is_top":false,"comment_ctime":1682008682,"is_pvip":false,"replies":[{"id":136523,"content":"1. Fasttextæ²¡æœ‰è¯­åºä¿¡æ¯ï¼Œåªæœ‰å•ä¸ªå•è¯çš„æ–‡æœ¬ä¿¡æ¯\n2. æ¨¡å‹è§„æ¨¡ä¹Ÿæœ‰æ¯”è¾ƒå¤§å·®è·","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1683093903,"ip_address":"ä¸Šæµ·","comment_id":373089,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"è€å¸ˆï¼Œæœ‰ç‚¹ä¸æ˜¯å¾ˆç†è§£çš„ï¼Œå°±æ˜¯æ–‡ä¸­è®²çš„å‘é‡ï¼Œå¯ä¸å¯ä»¥è¿™ä¹ˆç†è§£ï¼šFasttext å’Œ GPT3 çš„ä¸€ä¸ªå·®åˆ«æ˜¯ Fasttext ä½¿ç”¨åˆ°çš„ä¸Šä¸‹æ–‡æ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥å¾ˆå¤šåœºæ™¯ä¸‹ç¼ºä¹è¯­ä¹‰ï¼Œå¯¼è‡´åˆ¤æ–­å¤±è´¥ï¼Œè€Œ GPT3 åŒ…å«çš„å¾ˆå¤šï¼Œæ‰€ä»¥æ›´ç²¾å‡†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616764,"discussion_content":"1. Fasttextæ²¡æœ‰è¯­åºä¿¡æ¯ï¼Œåªæœ‰å•ä¸ªå•è¯çš„æ–‡æœ¬ä¿¡æ¯\n2. æ¨¡å‹è§„æ¨¡ä¹Ÿæœ‰æ¯”è¾ƒå¤§å·®è·","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1683093903,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372382,"user_name":"yanger2004","can_delete":false,"product_type":"c1","uid":1009644,"ip_address":"ä¸Šæµ·","ucode":"0A2CD03EF31052","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erms9qcIFYZ4npgLYPu1QgxQyaXcj64ZBicNVeBRWcYUpCZ9p0BGsrEcX8heibMLCV4Gde4P9pf7PjA/132","comment_is_top":false,"comment_ctime":1681082110,"is_pvip":false,"replies":[{"id":135935,"content":"ä¸€èˆ¬æ¥è¯´æ˜¯è¿™æ ·çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1681128773,"ip_address":"ç¾å›½","comment_id":372382,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"å¦‚æœç”¨å®Œæ•´çš„110äº¿å‚æ•°æ¥æµ‹è¯•ï¼Œå‡†ç¡®ç‡åº”è¯¥ä¼šæ›´é«˜å§","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":613104,"discussion_content":"ä¸€èˆ¬æ¥è¯´æ˜¯è¿™æ ·çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1681128773,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ç¾å›½","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":372122,"user_name":"æµ·æ»¨","can_delete":false,"product_type":"c1","uid":1009518,"ip_address":"æµ™æ±Ÿ","ucode":"F1B94D2DB944DC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/6e/f5ee46e8.jpg","comment_is_top":false,"comment_ctime":1680760348,"is_pvip":false,"replies":[{"id":135899,"content":"æŒºå¤šçš„ flan-t5, albert ç­‰ç­‰ä¸€ç³»åˆ—ï¼Œéœ€è¦çœ‹ä½ å…·ä½“æƒ³è¦è§£å†³çš„ä»»åŠ¡æ˜¯ä»€ä¹ˆ\nä¸€èˆ¬æ¥è¯´ï¼Œå¤§å®¶å–œæ¬¢ç”¨ flan-t5 ä½œä¸ºæœ€å¸¸ç”¨çš„æ¨¡å‹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680975137,"ip_address":"æ—¥æœ¬","comment_id":372122,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"é™¤äº†T5ä¹‹å¤–ï¼Œæœ‰å…¶ä»–åšNLPä»»åŠ¡æ•ˆæœæ›´å¥½çš„å¤§æ¨¡å‹æ¨èå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612895,"discussion_content":"æŒºå¤šçš„ flan-t5, albert ç­‰ç­‰ä¸€ç³»åˆ—ï¼Œéœ€è¦çœ‹ä½ å…·ä½“æƒ³è¦è§£å†³çš„ä»»åŠ¡æ˜¯ä»€ä¹ˆ\nä¸€èˆ¬æ¥è¯´ï¼Œå¤§å®¶å–œæ¬¢ç”¨ flan-t5 ä½œä¸ºæœ€å¸¸ç”¨çš„æ¨¡å‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680975137,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"æ—¥æœ¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371604,"user_name":"Warren","can_delete":false,"product_type":"c1","uid":1186273,"ip_address":"å¹¿ä¸œ","ucode":"7518ED2E07AAF7","user_header":"https://static001.geekbang.org/account/avatar/00/12/19/e1/a7fbc963.jpg","comment_is_top":false,"comment_ctime":1680094121,"is_pvip":true,"replies":[{"id":135745,"content":"æ„Ÿè°¢ï¼Œæˆ‘è®©ç¼–è¾‘ä¿®æ­£ä¸€ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1680586046,"ip_address":"ä¸Šæµ·","comment_id":371604,"utype":1}],"discussion_count":1,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"\nconda install transformer -c conda-forge è¿™ä¸ªå‘½ä»¤ä¸­çš„transformerè¦æ”¹æˆtransformers","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":612251,"discussion_content":"æ„Ÿè°¢ï¼Œæˆ‘è®©ç¼–è¾‘ä¿®æ­£ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1680586046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371387,"user_name":"Xä¸¶æ¥“","can_delete":false,"product_type":"c1","uid":1079760,"ip_address":"åŒ—äº¬","ucode":"F5402FBD150BC1","user_header":"https://static001.geekbang.org/account/avatar/00/10/79/d0/63ac112e.jpg","comment_is_top":false,"comment_ctime":1679892646,"is_pvip":false,"replies":[{"id":135537,"content":"ç›¸ä¿¡å¤§éƒ¨åˆ†äººè¿˜æ²¡æœ‰æ’é˜Ÿæ‹¿åˆ° gpt-4 çš„API\nå¯¹äºå®é™…åº”ç”¨å¼€å‘å’Œæ•ˆæœæ¯”è¾ƒæ¥è¯´ï¼Œgpt-3å·²ç»è¶³å¤ŸæƒŠè‰³äº†\nAPIä¸Šæœ¬èº«ä¹Ÿæ²¡æœ‰ä»€ä¹ˆåˆ†åˆ«","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1053568,"ctime":1679969452,"ip_address":"ä¸Šæµ·","comment_id":371387,"utype":1}],"discussion_count":4,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"ç°åœ¨æœ€æ–°çš„æ˜¯gpt4ï¼Œä¸åº”è¯¥è¯´gpt4ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1053568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/13/80/8de66543.jpg","nickname":"å¾æ–‡æµ©","note":"","ucode":"1D39AC564172E9","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611161,"discussion_content":"ç›¸ä¿¡å¤§éƒ¨åˆ†äººè¿˜æ²¡æœ‰æ’é˜Ÿæ‹¿åˆ° gpt-4 çš„API\nå¯¹äºå®é™…åº”ç”¨å¼€å‘å’Œæ•ˆæœæ¯”è¾ƒæ¥è¯´ï¼Œgpt-3å·²ç»è¶³å¤ŸæƒŠè‰³äº†\nAPIä¸Šæœ¬èº«ä¹Ÿæ²¡æœ‰ä»€ä¹ˆåˆ†åˆ«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679969452,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1009368,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/d8/e0c20492.jpg","nickname":"ç‰›ä¸ç™½","note":"","ucode":"B8DF5D88D9B7A7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611071,"discussion_content":"å¤§éƒ¨åˆ†äººéƒ½æ²¡æœ‰ GPT4 çš„æƒé™.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679918412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2354198,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKib5EEL89P7Mpz2ib8QYmUwibiblzeziacHYCeIRCWv43l8E0FPPLtoDibsJ5xO56XSGLBaOFoSIA6dQ5A/132","nickname":"115121","note":"","ucode":"1DDB6FCA0788A5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":611012,"discussion_content":"gpt4æ²¡å¼€æ”¾ä¸ªäººè´¦æˆ·åº”ç”¨å•Šï¼Œè°ƒç”¨çš„æ¥å£æ˜¯gpt3æˆ–è€…3.5çš„å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679904023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1182967,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0c/f7/d6547adb.jpg","nickname":"åŠªåŠ›åŠªåŠ›å†åŠªåŠ›","note":"","ucode":"F71E16290CB58C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":610993,"discussion_content":"ä¼°è®¡æ˜¯ä¹‹å‰çš„ç¨¿å­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679898283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":371408,"user_name":"å°ç¥david","can_delete":false,"product_type":"c1","uid":1206959,"ip_address":"åŒ—äº¬","ucode":"F593F5ECEC58BA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epmAicDUiaUdtLhVwSs6fT0yx69ibWy6ia46ZD4vblGtyee8QFz71icKZJkzccAFG3zHnMngSz7WeGBtKw/132","comment_is_top":false,"comment_ctime":1679906352,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"é‰´é»„é‰´æš´","like_count":5},{"had_liked":false,"id":372310,"user_name":"Steven","can_delete":false,"product_type":"c1","uid":1253652,"ip_address":"è¾½å®","ucode":"3FE64459842015","user_header":"https://static001.geekbang.org/account/avatar/00/13/21/14/423a821f.jpg","comment_is_top":false,"comment_ctime":1680956335,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100541001,"comment_content":"Fasttext æ•ˆæœæµ‹è¯•æ—¶ç¢°åˆ°å¼‚å¸¸ï¼š\nDLL load failed while importing _imaging\n\næ›´æ–° pillow ç‰ˆæœ¬ï¼Œç„¶åé‡å¯ Notebook å³å¯\npip install --upgrade pillow","like_count":2},{"had_liked":false,"id":373820,"user_name":"ç‹å°¼ç›","can_delete":false,"product_type":"c1","uid":3579262,"ip_address":"åŒ—äº¬","ucode":"0F48004336502A","user_header":"https://static001.geekbang.org/account/avatar/00/36/9d/7e/83524ccd.jpg","comment_is_top":false,"comment_ctime":1683201202,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"mac å®‰è£…pytorch  pip3 install torch torchvision torchaudio  ","like_count":1},{"had_liked":false,"id":372287,"user_name":"Steven","can_delete":false,"product_type":"c1","uid":1253652,"ip_address":"è¾½å®","ucode":"3FE64459842015","user_header":"https://static001.geekbang.org/account/avatar/00/13/21/14/423a821f.jpg","comment_is_top":false,"comment_ctime":1680943283,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"Win10 ä¸‹ fasttext å®‰è£…ï¼ˆLinux ç¯å¢ƒæœªå°è¯•ï¼‰ï¼š\n1ï¼Œä» https:&#47;&#47;www.lfd.uci.edu&#47;~gohlke&#47;pythonlibs&#47;#fasttext ä¸‹è½½fasttextâ€‘0.9.2â€‘cp310â€‘cp310â€‘win_amd64.whl æ–‡ä»¶\n2ï¼Œæ‰§è¡Œ pip install fasttextâ€‘0.9.2â€‘cp310â€‘cp310â€‘win_amd64.whl å®‰è£…","like_count":1,"discussions":[{"author":{"id":1452167,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJcwXucibksEYRSYg6icjibzGa7efcMrCsGec2UwibjTd57icqDz0zzkEEOM2pXVju60dibzcnQKPfRkN9g/132","nickname":"Geek_93970d","note":"","ucode":"52AC308BEC7737","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617843,"discussion_content":"æ„Ÿè°¢åˆ†äº«ï¼Œä¸è¿‡ fasttext å¥½åƒä¸éœ€è¦å®‰è£…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683904591,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":391146,"user_name":"å¼ ç”³å‚²","can_delete":false,"product_type":"c1","uid":1182372,"ip_address":"åŒ—äº¬","ucode":"22D46BC529BA8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/0a/a4/828a431f.jpg","comment_is_top":false,"comment_ctime":1717417467,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":2,"score":4,"product_id":100541001,"comment_content":"ç¬¬4è®²æ‰“å¡","like_count":0},{"had_liked":false,"id":389049,"user_name":"Prometheus","can_delete":false,"product_type":"c1","uid":2881916,"ip_address":"ç¦å»º","ucode":"C99BF7E0EE8BF8","user_header":"https://static001.geekbang.org/account/avatar/00/2b/f9/7c/75d613e8.jpg","comment_is_top":false,"comment_ctime":1711445281,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"FileNotFoundError                         Traceback (most recent call last)\n&lt;ipython-input-2-75fd75f5cd90&gt; in &lt;cell line: 4&gt;()\n      2 import numpy as np\n      3 # Load the FastText pre-trained model\n----&gt; 4 model = gensim.models.fasttext.load_facebook_model(&#39;cc.en.300.bin&#39;)\n      5 \n      6 def get_fasttext_vector(line):","like_count":0},{"had_liked":false,"id":381055,"user_name":"èƒ¡è´ºé¹","can_delete":false,"product_type":"c1","uid":2398372,"ip_address":"å¹¿ä¸œ","ucode":"D03369FEEDCA92","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/wr3qiaXYeAaLHyPBArO8ThtgMns5icVkv7SWasTbGeic8QsIkAIC2XCG7ibTTibdicLB6WCibjj5b50kcV7rPKxqVW8Dw/132","comment_is_top":false,"comment_ctime":1694615441,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"AttributeError: &#39;DataFrame&#39; object has no attribute &#39;Text&#39; å‡ºç°è¿™ä¸ªæŠ¥é”™æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":380098,"user_name":"Geek_d54869","can_delete":false,"product_type":"c1","uid":1953765,"ip_address":"åŒ—äº¬","ucode":"CF55462EF65B9E","user_header":"","comment_is_top":false,"comment_ctime":1692957327,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"å¾ˆæƒ³çœ‹çœ‹bertè¿è¡Œçš„æ•ˆæœæŒ‡æ ‡ å¯¹æ¯”ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":377780,"user_name":"Qweasd","can_delete":false,"product_type":"c1","uid":3003302,"ip_address":"å¹¿ä¸œ","ucode":"1157FC1EE1E9B4","user_header":"https://static001.geekbang.org/account/avatar/00/2d/d3/a6/cb3d35fc.jpg","comment_is_top":false,"comment_ctime":1689176365,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"ä¹Ÿæ²¡æœ‰GitHubä¸Šçš„ä»£ç ","like_count":0},{"had_liked":false,"id":377419,"user_name":"silentyears","can_delete":false,"product_type":"c1","uid":1061748,"ip_address":"åŒ—äº¬","ucode":"6E137BFEB874CA","user_header":"https://static001.geekbang.org/account/avatar/00/10/33/74/d9d143fa.jpg","comment_is_top":false,"comment_ctime":1688469938,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"è¯·é—®è€å¸ˆï¼Œæ‰€è°“çš„å¤§æ¨¡å‹å°±æ˜¯æŒ‡å‚æ•°å¤šå—ï¼Ÿ\né¢„è®­ç»ƒæ¨¡å‹å­¦ä¹ çš„æ•°æ®è¶Šå¤šï¼Œå‚æ•°ä¼šå˜å¾—è¶Šå¤šå—ï¼Ÿæ–‡ä¸­æ‰€è¯´çš„ç”¨æ¥è®­ç»ƒçš„è¯­æ–™æ–‡æœ¬è¶Šä¸°å¯Œï¼Œæ¨¡å‹ä¸­å¯ä»¥æ”¾çš„å‚æ•°è¶Šå¤šæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ å’Œé‡‡ç”¨çš„æ¨¡å‹ada, babbage, curie, davinci å†³å®šçš„å‚æ•°æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ\nè°¢è°¢\n","like_count":0},{"had_liked":false,"id":376659,"user_name":"å‘¼å‘¼","can_delete":false,"product_type":"c1","uid":1038798,"ip_address":"å››å·","ucode":"5D7B57C05B5D8C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d9/ce/4528cb4b.jpg","comment_is_top":false,"comment_ctime":1687172131,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"æˆ‘è¯•äº†ä¸‹T5-baseæ¨¡å‹ã€‚å¦‚æœæ˜¯ä¸­æ–‡çš„è¯ï¼Œå¯¹åº”å›½å†…çš„å¥½è¯„å’Œå·®è¯„ï¼Œå¾—åˆ†éƒ½æ˜¯0ã€‚æ˜¯ä¸æ˜¯T5æ¨¡å‹ä¸æ”¯æŒä¸­æ–‡ï¼Ÿ","like_count":0},{"had_liked":false,"id":375705,"user_name":"ä¹€å›—å›—ä¸¿","can_delete":false,"product_type":"c1","uid":3577874,"ip_address":"ä¸Šæµ·","ucode":"2409C87DB3D7BB","user_header":"https://static001.geekbang.org/account/avatar/00/36/98/12/91d22998.jpg","comment_is_top":false,"comment_ctime":1685884387,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100541001,"comment_content":"T5-smallçš„ä¸€ä¸ªå¼‚å¸¸çš„è§£å†³\nå¼‚å¸¸ï¼šSSLError: HTTPSConnectionPool(host=&#39;huggingface.co&#39;, port=443): Max retries exceeded with url: &#47;t5-small&#47;resolve&#47;main&#47;spiece.model (Caused by SSLError(SSLEOFError(8, &#39;EOF occurred in violation of protocol (_ssl.c:997)&#39;)))\nè§£å†³å¦‚ä¸‹ï¼š\n1ã€conda install requests==2.27.1\n2ã€åœ¨æºä»£ç åŸºç¡€ä¸Šå¢åŠ å¦‚ä¸‹ä»£ç ï¼š\nimport os\nos.environ[&#39;CURL_CA_BUNDLE&#39;] = &#39;&#39;\nå‚è€ƒé“¾æ¥ï¼šhttps:&#47;&#47;stackoverflow.com&#47;questions&#47;75110981&#47;sslerror-httpsconnectionpoolhost-huggingface-co-port-443-max-retries-exce","like_count":0},{"had_liked":false,"id":375243,"user_name":"ç‰§æµ·","can_delete":false,"product_type":"c1","uid":2014489,"ip_address":"å¹¿ä¸œ","ucode":"2152440A1A1D8C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/bd/19/ad8fe585.jpg","comment_is_top":false,"comment_ctime":1685106547,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\nCell In[11], line 3\n      1 # %load &#47;Users&#47;zongxi.lzx&#47;gensim.py\n      2 #!&#47;usr&#47;bin&#47;env python3\n----&gt; 3 import gensim\n      4 import numpy as np\n      5 # Load the FastText pre-trained model\n\nFile ~&#47;gensim.py:5\n      3 import numpy as np\n      4 # Load the FastText pre-trained model\n----&gt; 5 model = gensim.models.fasttext.load_facebook_model(&#39;cc.en.300.bin&#39;)\n      7 def get_fasttext_vector(line):\n      8     vec = np.zeros(300) # Initialize an empty 300-dimensional vector\n\nAttributeError: partially initialized module &#39;gensim&#39; has no attribute &#39;models&#39; (most likely due to a circular import)\n\nè€å¸ˆï¼ŒæŠ¥è¿™ä¸ªé”™æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":374077,"user_name":"Geek_b7449f","can_delete":false,"product_type":"c1","uid":2957535,"ip_address":"æ–°åŠ å¡","ucode":"07E7023A3ECD5A","user_header":"https://static001.geekbang.org/account/avatar/00/2d/20/df/55bacf31.jpg","comment_is_top":false,"comment_ctime":1683565401,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":5,"product_id":100541001,"comment_content":"1ã€è¯¾åé¢˜çš„ Embedding\n              precision    recall  f1-score   support\n\n    negative       0.25      0.99      0.40       136\n    positive       1.00      0.48      0.65       789\n\n    accuracy                           0.56       925\n   macro avg       0.62      0.74      0.52       925\nweighted avg       0.89      0.56      0.61       925\n\n2ã€ä¸ªäººè®¤ä¸ºåº”è¯¥å±äºæ–‡ç« åˆ†ç±»ï¼Œè¯åº“åˆ†ç±»ç­‰åœºæ™¯æ›´é€‚åˆè¿™ç§åªå…³æ³¨å•è¯ï¼Œè€Œéè¯åºçš„ã€‚","like_count":0}]}
{"id":70848,"title":"09 | æ™®é€šç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•ï¼Œåº”è¯¥æ€ä¹ˆé€‰æ‹©ï¼Ÿ","content":"<p><span class=\"reference\">ä»Šå¤©çš„æ­£æ–‡å¼€å§‹å‰ï¼Œæˆ‘è¦ç‰¹æ„æ„Ÿè°¢ä¸€ä¸‹è¯„è®ºåŒºå‡ ä½ç•™ä¸‹é«˜è´¨é‡ç•™è¨€çš„åŒå­¦ã€‚</span></p><p><span class=\"reference\">ç”¨æˆ·åæ˜¯ @æŸã€äºº çš„åŒå­¦ï¼Œå¯¹æ–‡ç« çš„çŸ¥è¯†ç‚¹åšäº†æ¢³ç†ï¼Œç„¶åæäº†å…³äºäº‹åŠ¡å¯è§æ€§çš„é—®é¢˜ï¼Œå°±æ˜¯å…ˆå¯åŠ¨ä½†æ˜¯åæäº¤çš„äº‹åŠ¡ï¼Œå¯¹æ•°æ®å¯è§æ€§çš„å½±å“ã€‚@å¤æ—¥é›¨åŒå­¦ä¹Ÿæåˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘åœ¨ç½®é¡¶è¯„è®ºä¸­å›å¤äº†ï¼Œä»Šå¤©çš„æ–‡ç« æœ«å°¾ä¹Ÿä¼šå†å±•å¼€è¯´æ˜ã€‚@Justinå’Œ@å€ªå¤§äººä¸¤ä½åŒå­¦æäº†ä¸¤ä¸ªå¥½é—®é¢˜ã€‚</span></p><p><span class=\"reference\">å¯¹äºèƒ½å¤Ÿå¼•å‘æ›´æ·±ä¸€æ­¥æ€è€ƒçš„é—®é¢˜ï¼Œæˆ‘ä¼šåœ¨å›å¤çš„å†…å®¹ä¸­å†™ä¸Šâ€œå¥½é—®é¢˜â€ä¸‰ä¸ªå­—ï¼Œæ–¹ä¾¿ä½ æœç´¢ï¼Œä½ ä¹Ÿå¯ä»¥å»çœ‹çœ‹ä»–ä»¬çš„ç•™è¨€ã€‚</span></p><p><span class=\"reference\">éå¸¸æ„Ÿè°¢å¤§å®¶å¾ˆç»†è‡´åœ°çœ‹æ–‡ç« ï¼Œå¹¶ä¸”ç•™ä¸‹äº†é‚£ä¹ˆå¤šå’Œå¾ˆé«˜è´¨é‡çš„ç•™è¨€ã€‚çŸ¥é“æ–‡ç« æœ‰ç»™å¤§å®¶å¸¦æ¥ä¸€äº›æ–°ç†è§£ï¼Œå¯¹æˆ‘æ¥è¯´æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é¼“åŠ±ã€‚åŒæ—¶ï¼Œä¹Ÿè®©å…¶ä»–è®¤çœŸçœ‹è¯„è®ºåŒºçš„åŒå­¦ï¼Œæœ‰æœºä¼šå‘ç°ä¸€äº›è‡ªå·±è¿˜æ²¡æœ‰æ„è¯†åˆ°çš„ã€ä½†å¯èƒ½è¿˜ä¸æ¸…æ™°çš„çŸ¥è¯†ç‚¹ï¼Œè¿™ä¹Ÿåœ¨æ€»ä½“ä¸Šæé«˜äº†æ•´ä¸ªä¸“æ çš„è´¨é‡ã€‚å†æ¬¡è°¢è°¢ä½ ä»¬ã€‚</span></p><p><span class=\"reference\">å¥½äº†ï¼Œç°åœ¨å°±å›åˆ°æˆ‘ä»¬ä»Šå¤©çš„æ­£æ–‡å†…å®¹ã€‚</span></p><p>åœ¨å‰é¢çš„åŸºç¡€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ç»™ä½ ä»‹ç»è¿‡ç´¢å¼•çš„åŸºæœ¬æ¦‚å¿µï¼Œç›¸ä¿¡ä½ å·²ç»äº†è§£äº†å”¯ä¸€ç´¢å¼•å’Œæ™®é€šç´¢å¼•çš„åŒºåˆ«ã€‚ä»Šå¤©æˆ‘ä»¬å°±ç»§ç»­æ¥è°ˆè°ˆï¼Œåœ¨ä¸åŒçš„ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œåº”è¯¥é€‰æ‹©æ™®é€šç´¢å¼•ï¼Œè¿˜æ˜¯å”¯ä¸€ç´¢å¼•ï¼Ÿ</p><p>å‡è®¾ä½ åœ¨ç»´æŠ¤ä¸€ä¸ªå¸‚æ°‘ç³»ç»Ÿï¼Œæ¯ä¸ªäººéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„èº«ä»½è¯å·ï¼Œè€Œä¸”ä¸šåŠ¡ä»£ç å·²ç»ä¿è¯äº†ä¸ä¼šå†™å…¥ä¸¤ä¸ªé‡å¤çš„èº«ä»½è¯å·ã€‚å¦‚æœå¸‚æ°‘ç³»ç»Ÿéœ€è¦æŒ‰ç…§èº«ä»½è¯å·æŸ¥å§“åï¼Œå°±ä¼šæ‰§è¡Œç±»ä¼¼è¿™æ ·çš„SQLè¯­å¥ï¼š</p><!-- [[[read_end]]] --><pre><code>select name from CUser where id_card = 'xxxxxxxyyyyyyzzzzz';\n</code></pre><p>æ‰€ä»¥ï¼Œä½ ä¸€å®šä¼šè€ƒè™‘åœ¨id_cardå­—æ®µä¸Šå»ºç´¢å¼•ã€‚</p><p>ç”±äºèº«ä»½è¯å·å­—æ®µæ¯”è¾ƒå¤§ï¼Œæˆ‘ä¸å»ºè®®ä½ æŠŠèº«ä»½è¯å·å½“åšä¸»é”®ï¼Œé‚£ä¹ˆç°åœ¨ä½ æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œè¦ä¹ˆç»™id_cardå­—æ®µåˆ›å»ºå”¯ä¸€ç´¢å¼•ï¼Œè¦ä¹ˆåˆ›å»ºä¸€ä¸ªæ™®é€šç´¢å¼•ã€‚å¦‚æœä¸šåŠ¡ä»£ç å·²ç»ä¿è¯äº†ä¸ä¼šå†™å…¥é‡å¤çš„èº«ä»½è¯å·ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªé€‰æ‹©é€»è¾‘ä¸Šéƒ½æ˜¯æ­£ç¡®çš„ã€‚</p><p>ç°åœ¨æˆ‘è¦é—®ä½ çš„æ˜¯ï¼Œä»æ€§èƒ½çš„è§’åº¦è€ƒè™‘ï¼Œä½ é€‰æ‹©å”¯ä¸€ç´¢å¼•è¿˜æ˜¯æ™®é€šç´¢å¼•å‘¢ï¼Ÿé€‰æ‹©çš„ä¾æ®æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>ç®€å•èµ·è§ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç”¨ç¬¬4ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/69236\">ã€Šæ·±å…¥æµ…å‡ºç´¢å¼•ï¼ˆä¸Šï¼‰ã€‹</a>ä¸­çš„ä¾‹å­æ¥è¯´æ˜ï¼Œå‡è®¾å­—æ®µ k ä¸Šçš„å€¼éƒ½ä¸é‡å¤ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/1e/46/1ed9536031d6698570ea175a7b7f9a46.png?wh=1142*856\" alt=\"\"></p><center>å›¾1 InnoDBçš„ç´¢å¼•ç»„ç»‡ç»“æ„</center><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä»è¿™ä¸¤ç§ç´¢å¼•å¯¹æŸ¥è¯¢è¯­å¥å’Œæ›´æ–°è¯­å¥çš„æ€§èƒ½å½±å“æ¥è¿›è¡Œåˆ†æã€‚</p><h1>æŸ¥è¯¢è¿‡ç¨‹</h1><p>å‡è®¾ï¼Œæ‰§è¡ŒæŸ¥è¯¢çš„è¯­å¥æ˜¯ select id from T where k=5ã€‚è¿™ä¸ªæŸ¥è¯¢è¯­å¥åœ¨ç´¢å¼•æ ‘ä¸ŠæŸ¥æ‰¾çš„è¿‡ç¨‹ï¼Œå…ˆæ˜¯é€šè¿‡B+æ ‘ä»æ ‘æ ¹å¼€å§‹ï¼ŒæŒ‰å±‚æœç´¢åˆ°å¶å­èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­å³ä¸‹è§’çš„è¿™ä¸ªæ•°æ®é¡µï¼Œç„¶åå¯ä»¥è®¤ä¸ºæ•°æ®é¡µå†…éƒ¨é€šè¿‡äºŒåˆ†æ³•æ¥å®šä½è®°å½•ã€‚</p><ul>\n<li>å¯¹äºæ™®é€šç´¢å¼•æ¥è¯´ï¼ŒæŸ¥æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªè®°å½•(5,500)åï¼Œéœ€è¦æŸ¥æ‰¾ä¸‹ä¸€ä¸ªè®°å½•ï¼Œç›´åˆ°ç¢°åˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³k=5æ¡ä»¶çš„è®°å½•ã€‚</li>\n<li>å¯¹äºå”¯ä¸€ç´¢å¼•æ¥è¯´ï¼Œç”±äºç´¢å¼•å®šä¹‰äº†å”¯ä¸€æ€§ï¼ŒæŸ¥æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„è®°å½•åï¼Œå°±ä¼šåœæ­¢ç»§ç»­æ£€ç´¢ã€‚</li>\n</ul><p>é‚£ä¹ˆï¼Œè¿™ä¸ªä¸åŒå¸¦æ¥çš„æ€§èƒ½å·®è·ä¼šæœ‰å¤šå°‘å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼Œå¾®ä¹å…¶å¾®ã€‚</p><p>ä½ çŸ¥é“çš„ï¼ŒInnoDBçš„æ•°æ®æ˜¯æŒ‰æ•°æ®é¡µä¸ºå•ä½æ¥è¯»å†™çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“éœ€è¦è¯»ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯å°†è¿™ä¸ªè®°å½•æœ¬èº«ä»ç£ç›˜è¯»å‡ºæ¥ï¼Œè€Œæ˜¯ä»¥é¡µä¸ºå•ä½ï¼Œå°†å…¶æ•´ä½“è¯»å…¥å†…å­˜ã€‚åœ¨InnoDBä¸­ï¼Œæ¯ä¸ªæ•°æ®é¡µçš„å¤§å°é»˜è®¤æ˜¯16KBã€‚</p><p>å› ä¸ºå¼•æ“æ˜¯æŒ‰é¡µè¯»å†™çš„ï¼Œæ‰€ä»¥è¯´ï¼Œå½“æ‰¾åˆ°k=5çš„è®°å½•çš„æ—¶å€™ï¼Œå®ƒæ‰€åœ¨çš„æ•°æ®é¡µå°±éƒ½åœ¨å†…å­˜é‡Œäº†ã€‚é‚£ä¹ˆï¼Œå¯¹äºæ™®é€šç´¢å¼•æ¥è¯´ï¼Œè¦å¤šåšçš„é‚£ä¸€æ¬¡â€œæŸ¥æ‰¾å’Œåˆ¤æ–­ä¸‹ä¸€æ¡è®°å½•â€çš„æ“ä½œï¼Œå°±åªéœ€è¦ä¸€æ¬¡æŒ‡é’ˆå¯»æ‰¾å’Œä¸€æ¬¡è®¡ç®—ã€‚</p><p>å½“ç„¶ï¼Œå¦‚æœk=5è¿™ä¸ªè®°å½•åˆšå¥½æ˜¯è¿™ä¸ªæ•°æ®é¡µçš„æœ€åä¸€ä¸ªè®°å½•ï¼Œé‚£ä¹ˆè¦å–ä¸‹ä¸€ä¸ªè®°å½•ï¼Œå¿…é¡»è¯»å–ä¸‹ä¸€ä¸ªæ•°æ®é¡µï¼Œè¿™ä¸ªæ“ä½œä¼šç¨å¾®å¤æ‚ä¸€äº›ã€‚</p><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¹‹å‰è®¡ç®—è¿‡ï¼Œå¯¹äºæ•´å‹å­—æ®µï¼Œä¸€ä¸ªæ•°æ®é¡µå¯ä»¥æ”¾è¿‘åƒä¸ªkeyï¼Œå› æ­¤å‡ºç°è¿™ç§æƒ…å†µçš„æ¦‚ç‡ä¼šå¾ˆä½ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è®¡ç®—å¹³å‡æ€§èƒ½å·®å¼‚æ—¶ï¼Œä»å¯ä»¥è®¤ä¸ºè¿™ä¸ªæ“ä½œæˆæœ¬å¯¹äºç°åœ¨çš„CPUæ¥è¯´å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</p><h1>æ›´æ–°è¿‡ç¨‹</h1><p>ä¸ºäº†è¯´æ˜æ™®é€šç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•å¯¹æ›´æ–°è¯­å¥æ€§èƒ½çš„å½±å“è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘éœ€è¦å…ˆè·Ÿä½ ä»‹ç»ä¸€ä¸‹change bufferã€‚</p><p>å½“éœ€è¦æ›´æ–°ä¸€ä¸ªæ•°æ®é¡µæ—¶ï¼Œå¦‚æœæ•°æ®é¡µåœ¨å†…å­˜ä¸­å°±ç›´æ¥æ›´æ–°ï¼Œè€Œå¦‚æœè¿™ä¸ªæ•°æ®é¡µè¿˜æ²¡æœ‰åœ¨å†…å­˜ä¸­çš„è¯ï¼Œåœ¨ä¸å½±å“æ•°æ®ä¸€è‡´æ€§çš„å‰æä¸‹ï¼ŒInnoDBä¼šå°†è¿™äº›æ›´æ–°æ“ä½œç¼“å­˜åœ¨change bufferä¸­ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä»ç£ç›˜ä¸­è¯»å…¥è¿™ä¸ªæ•°æ®é¡µäº†ã€‚åœ¨ä¸‹æ¬¡æŸ¥è¯¢éœ€è¦è®¿é—®è¿™ä¸ªæ•°æ®é¡µçš„æ—¶å€™ï¼Œå°†æ•°æ®é¡µè¯»å…¥å†…å­˜ï¼Œç„¶åæ‰§è¡Œchange bufferä¸­ä¸è¿™ä¸ªé¡µæœ‰å…³çš„æ“ä½œã€‚é€šè¿‡è¿™ç§æ–¹å¼å°±èƒ½ä¿è¯è¿™ä¸ªæ•°æ®é€»è¾‘çš„æ­£ç¡®æ€§ã€‚</p><p>éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè™½ç„¶åå­—å«ä½œchange bufferï¼Œå®é™…ä¸Šå®ƒæ˜¯å¯ä»¥æŒä¹…åŒ–çš„æ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œchange bufferåœ¨å†…å­˜ä¸­æœ‰æ‹·è´ï¼Œä¹Ÿä¼šè¢«å†™å…¥åˆ°ç£ç›˜ä¸Šã€‚</p><p>å°†change bufferä¸­çš„æ“ä½œåº”ç”¨åˆ°åŸæ•°æ®é¡µï¼Œå¾—åˆ°æœ€æ–°ç»“æœçš„è¿‡ç¨‹ç§°ä¸ºmergeã€‚é™¤äº†è®¿é—®è¿™ä¸ªæ•°æ®é¡µä¼šè§¦å‘mergeå¤–ï¼Œç³»ç»Ÿæœ‰åå°çº¿ç¨‹ä¼šå®šæœŸmergeã€‚åœ¨æ•°æ®åº“æ­£å¸¸å…³é—­ï¼ˆshutdownï¼‰çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿä¼šæ‰§è¡Œmergeæ“ä½œã€‚</p><p>æ˜¾ç„¶ï¼Œå¦‚æœèƒ½å¤Ÿå°†æ›´æ–°æ“ä½œå…ˆè®°å½•åœ¨change bufferï¼Œå‡å°‘è¯»ç£ç›˜ï¼Œè¯­å¥çš„æ‰§è¡Œé€Ÿåº¦ä¼šå¾—åˆ°æ˜æ˜¾çš„æå‡ã€‚è€Œä¸”ï¼Œæ•°æ®è¯»å…¥å†…å­˜æ˜¯éœ€è¦å ç”¨buffer poolçš„ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼è¿˜èƒ½å¤Ÿé¿å…å ç”¨å†…å­˜ï¼Œæé«˜å†…å­˜åˆ©ç”¨ç‡ã€‚</p><p>é‚£ä¹ˆï¼Œ<strong>ä»€ä¹ˆæ¡ä»¶ä¸‹å¯ä»¥ä½¿ç”¨change bufferå‘¢ï¼Ÿ</strong></p><p>å¯¹äºå”¯ä¸€ç´¢å¼•æ¥è¯´ï¼Œæ‰€æœ‰çš„æ›´æ–°æ“ä½œéƒ½è¦å…ˆåˆ¤æ–­è¿™ä¸ªæ“ä½œæ˜¯å¦è¿åå”¯ä¸€æ€§çº¦æŸã€‚æ¯”å¦‚ï¼Œè¦æ’å…¥(4,400)è¿™ä¸ªè®°å½•ï¼Œå°±è¦å…ˆåˆ¤æ–­ç°åœ¨è¡¨ä¸­æ˜¯å¦å·²ç»å­˜åœ¨k=4çš„è®°å½•ï¼Œè€Œè¿™å¿…é¡»è¦å°†æ•°æ®é¡µè¯»å…¥å†…å­˜æ‰èƒ½åˆ¤æ–­ã€‚å¦‚æœéƒ½å·²ç»è¯»å…¥åˆ°å†…å­˜äº†ï¼Œé‚£ç›´æ¥æ›´æ–°å†…å­˜ä¼šæ›´å¿«ï¼Œå°±æ²¡å¿…è¦ä½¿ç”¨change bufferäº†ã€‚</p><p>å› æ­¤ï¼Œå”¯ä¸€ç´¢å¼•çš„æ›´æ–°å°±ä¸èƒ½ä½¿ç”¨change bufferï¼Œå®é™…ä¸Šä¹Ÿåªæœ‰æ™®é€šç´¢å¼•å¯ä»¥ä½¿ç”¨ã€‚</p><p>change bufferç”¨çš„æ˜¯buffer poolé‡Œçš„å†…å­˜ï¼Œå› æ­¤ä¸èƒ½æ— é™å¢å¤§ã€‚change bufferçš„å¤§å°ï¼Œå¯ä»¥é€šè¿‡å‚æ•°innodb_change_buffer_max_sizeæ¥åŠ¨æ€è®¾ç½®ã€‚è¿™ä¸ªå‚æ•°è®¾ç½®ä¸º50çš„æ—¶å€™ï¼Œè¡¨ç¤ºchange bufferçš„å¤§å°æœ€å¤šåªèƒ½å ç”¨buffer poolçš„50%ã€‚</p><p>ç°åœ¨ï¼Œä½ å·²ç»ç†è§£äº†change bufferçš„æœºåˆ¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬å†ä¸€èµ·æ¥çœ‹çœ‹<strong>å¦‚æœè¦åœ¨è¿™å¼ è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ–°è®°å½•(4,400)çš„è¯ï¼ŒInnoDBçš„å¤„ç†æµç¨‹æ˜¯æ€æ ·çš„ã€‚</strong></p><p>ç¬¬ä¸€ç§æƒ…å†µæ˜¯ï¼Œ<strong>è¿™ä¸ªè®°å½•è¦æ›´æ–°çš„ç›®æ ‡é¡µåœ¨å†…å­˜ä¸­</strong>ã€‚è¿™æ—¶ï¼ŒInnoDBçš„å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š</p><ul>\n<li>å¯¹äºå”¯ä¸€ç´¢å¼•æ¥è¯´ï¼Œæ‰¾åˆ°3å’Œ5ä¹‹é—´çš„ä½ç½®ï¼Œåˆ¤æ–­åˆ°æ²¡æœ‰å†²çªï¼Œæ’å…¥è¿™ä¸ªå€¼ï¼Œè¯­å¥æ‰§è¡Œç»“æŸï¼›</li>\n<li>å¯¹äºæ™®é€šç´¢å¼•æ¥è¯´ï¼Œæ‰¾åˆ°3å’Œ5ä¹‹é—´çš„ä½ç½®ï¼Œæ’å…¥è¿™ä¸ªå€¼ï¼Œè¯­å¥æ‰§è¡Œç»“æŸã€‚</li>\n</ul><p>è¿™æ ·çœ‹æ¥ï¼Œæ™®é€šç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•å¯¹æ›´æ–°è¯­å¥æ€§èƒ½å½±å“çš„å·®åˆ«ï¼Œåªæ˜¯ä¸€ä¸ªåˆ¤æ–­ï¼Œåªä¼šè€—è´¹å¾®å°çš„CPUæ—¶é—´ã€‚</p><p>ä½†ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬å…³æ³¨çš„é‡ç‚¹ã€‚</p><p>ç¬¬äºŒç§æƒ…å†µæ˜¯ï¼Œ<strong>è¿™ä¸ªè®°å½•è¦æ›´æ–°çš„ç›®æ ‡é¡µä¸åœ¨å†…å­˜ä¸­</strong>ã€‚è¿™æ—¶ï¼ŒInnoDBçš„å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š</p><ul>\n<li>å¯¹äºå”¯ä¸€ç´¢å¼•æ¥è¯´ï¼Œéœ€è¦å°†æ•°æ®é¡µè¯»å…¥å†…å­˜ï¼Œåˆ¤æ–­åˆ°æ²¡æœ‰å†²çªï¼Œæ’å…¥è¿™ä¸ªå€¼ï¼Œè¯­å¥æ‰§è¡Œç»“æŸï¼›</li>\n<li>å¯¹äºæ™®é€šç´¢å¼•æ¥è¯´ï¼Œåˆ™æ˜¯å°†æ›´æ–°è®°å½•åœ¨change bufferï¼Œè¯­å¥æ‰§è¡Œå°±ç»“æŸäº†ã€‚</li>\n</ul><p>å°†æ•°æ®ä»ç£ç›˜è¯»å…¥å†…å­˜æ¶‰åŠéšæœºIOçš„è®¿é—®ï¼Œæ˜¯æ•°æ®åº“é‡Œé¢æˆæœ¬æœ€é«˜çš„æ“ä½œä¹‹ä¸€ã€‚change bufferå› ä¸ºå‡å°‘äº†éšæœºç£ç›˜è®¿é—®ï¼Œæ‰€ä»¥å¯¹æ›´æ–°æ€§èƒ½çš„æå‡æ˜¯ä¼šå¾ˆæ˜æ˜¾çš„ã€‚</p><p>ä¹‹å‰æˆ‘å°±ç¢°åˆ°è¿‡ä¸€ä»¶äº‹å„¿ï¼Œæœ‰ä¸ªDBAçš„åŒå­¦è·Ÿæˆ‘åé¦ˆè¯´ï¼Œä»–è´Ÿè´£çš„æŸä¸ªä¸šåŠ¡çš„åº“å†…å­˜å‘½ä¸­ç‡çªç„¶ä»99%é™ä½åˆ°äº†75%ï¼Œæ•´ä¸ªç³»ç»Ÿå¤„äºé˜»å¡çŠ¶æ€ï¼Œæ›´æ–°è¯­å¥å…¨éƒ¨å µä½ã€‚è€Œæ¢ç©¶å…¶åŸå› åï¼Œæˆ‘å‘ç°è¿™ä¸ªä¸šåŠ¡æœ‰å¤§é‡æ’å…¥æ•°æ®çš„æ“ä½œï¼Œè€Œä»–åœ¨å‰ä¸€å¤©æŠŠå…¶ä¸­çš„æŸä¸ªæ™®é€šç´¢å¼•æ”¹æˆäº†å”¯ä¸€ç´¢å¼•ã€‚</p><h1>change bufferçš„ä½¿ç”¨åœºæ™¯</h1><p>é€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œä½ å·²ç»æ¸…æ¥šäº†ä½¿ç”¨change bufferå¯¹æ›´æ–°è¿‡ç¨‹çš„åŠ é€Ÿä½œç”¨ï¼Œä¹Ÿæ¸…æ¥šäº†change bufferåªé™äºç”¨åœ¨æ™®é€šç´¢å¼•çš„åœºæ™¯ä¸‹ï¼Œè€Œä¸é€‚ç”¨äºå”¯ä¸€ç´¢å¼•ã€‚é‚£ä¹ˆï¼Œç°åœ¨æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼šæ™®é€šç´¢å¼•çš„æ‰€æœ‰åœºæ™¯ï¼Œä½¿ç”¨change bufferéƒ½å¯ä»¥èµ·åˆ°åŠ é€Ÿä½œç”¨å—ï¼Ÿ</p><p>å› ä¸ºmergeçš„æ—¶å€™æ˜¯çœŸæ­£è¿›è¡Œæ•°æ®æ›´æ–°çš„æ—¶åˆ»ï¼Œè€Œchange bufferçš„ä¸»è¦ç›®çš„å°±æ˜¯å°†è®°å½•çš„å˜æ›´åŠ¨ä½œç¼“å­˜ä¸‹æ¥ï¼Œæ‰€ä»¥åœ¨ä¸€ä¸ªæ•°æ®é¡µåšmergeä¹‹å‰ï¼Œchange bufferè®°å½•çš„å˜æ›´è¶Šå¤šï¼ˆä¹Ÿå°±æ˜¯è¿™ä¸ªé¡µé¢ä¸Šè¦æ›´æ–°çš„æ¬¡æ•°è¶Šå¤šï¼‰ï¼Œæ”¶ç›Šå°±è¶Šå¤§ã€‚</p><p>å› æ­¤ï¼Œå¯¹äºå†™å¤šè¯»å°‘çš„ä¸šåŠ¡æ¥è¯´ï¼Œé¡µé¢åœ¨å†™å®Œä»¥åé©¬ä¸Šè¢«è®¿é—®åˆ°çš„æ¦‚ç‡æ¯”è¾ƒå°ï¼Œæ­¤æ—¶change bufferçš„ä½¿ç”¨æ•ˆæœæœ€å¥½ã€‚è¿™ç§ä¸šåŠ¡æ¨¡å‹å¸¸è§çš„å°±æ˜¯è´¦å•ç±»ã€æ—¥å¿—ç±»çš„ç³»ç»Ÿã€‚</p><p>åè¿‡æ¥ï¼Œå‡è®¾ä¸€ä¸ªä¸šåŠ¡çš„æ›´æ–°æ¨¡å¼æ˜¯å†™å…¥ä¹‹åé©¬ä¸Šä¼šåšæŸ¥è¯¢ï¼Œé‚£ä¹ˆå³ä½¿æ»¡è¶³äº†æ¡ä»¶ï¼Œå°†æ›´æ–°å…ˆè®°å½•åœ¨change bufferï¼Œä½†ä¹‹åç”±äºé©¬ä¸Šè¦è®¿é—®è¿™ä¸ªæ•°æ®é¡µï¼Œä¼šç«‹å³è§¦å‘mergeè¿‡ç¨‹ã€‚è¿™æ ·éšæœºè®¿é—®IOçš„æ¬¡æ•°ä¸ä¼šå‡å°‘ï¼Œåè€Œå¢åŠ äº†change bufferçš„ç»´æŠ¤ä»£ä»·ã€‚æ‰€ä»¥ï¼Œå¯¹äºè¿™ç§ä¸šåŠ¡æ¨¡å¼æ¥è¯´ï¼Œchange bufferåè€Œèµ·åˆ°äº†å‰¯ä½œç”¨ã€‚</p><h1>ç´¢å¼•é€‰æ‹©å’Œå®è·µ</h1><p>å›åˆ°æˆ‘ä»¬æ–‡ç« å¼€å¤´çš„é—®é¢˜ï¼Œæ™®é€šç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•åº”è¯¥æ€ä¹ˆé€‰æ‹©ã€‚å…¶å®ï¼Œè¿™ä¸¤ç±»ç´¢å¼•åœ¨æŸ¥è¯¢èƒ½åŠ›ä¸Šæ˜¯æ²¡å·®åˆ«çš„ï¼Œä¸»è¦è€ƒè™‘çš„æ˜¯å¯¹æ›´æ–°æ€§èƒ½çš„å½±å“ã€‚æ‰€ä»¥ï¼Œæˆ‘å»ºè®®ä½ å°½é‡é€‰æ‹©æ™®é€šç´¢å¼•ã€‚</p><p>å¦‚æœæ‰€æœ‰çš„æ›´æ–°åé¢ï¼Œéƒ½é©¬ä¸Šä¼´éšç€å¯¹è¿™ä¸ªè®°å½•çš„æŸ¥è¯¢ï¼Œé‚£ä¹ˆä½ åº”è¯¥å…³é—­change bufferã€‚è€Œåœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œchange bufferéƒ½èƒ½æå‡æ›´æ–°æ€§èƒ½ã€‚</p><p>åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œä½ ä¼šå‘ç°ï¼Œæ™®é€šç´¢å¼•å’Œchange bufferçš„é…åˆä½¿ç”¨ï¼Œå¯¹äºæ•°æ®é‡å¤§çš„è¡¨çš„æ›´æ–°ä¼˜åŒ–è¿˜æ˜¯å¾ˆæ˜æ˜¾çš„ã€‚</p><p>ç‰¹åˆ«åœ°ï¼Œåœ¨ä½¿ç”¨æœºæ¢°ç¡¬ç›˜æ—¶ï¼Œchange bufferè¿™ä¸ªæœºåˆ¶çš„æ”¶æ•ˆæ˜¯éå¸¸æ˜¾è‘—çš„ã€‚æ‰€ä»¥ï¼Œå½“ä½ æœ‰ä¸€ä¸ªç±»ä¼¼â€œå†å²æ•°æ®â€çš„åº“ï¼Œå¹¶ä¸”å‡ºäºæˆæœ¬è€ƒè™‘ç”¨çš„æ˜¯æœºæ¢°ç¡¬ç›˜æ—¶ï¼Œé‚£ä½ åº”è¯¥ç‰¹åˆ«å…³æ³¨è¿™äº›è¡¨é‡Œçš„ç´¢å¼•ï¼Œå°½é‡ä½¿ç”¨æ™®é€šç´¢å¼•ï¼Œç„¶åæŠŠchange buffer å°½é‡å¼€å¤§ï¼Œä»¥ç¡®ä¿è¿™ä¸ªâ€œå†å²æ•°æ®â€è¡¨çš„æ•°æ®å†™å…¥é€Ÿåº¦ã€‚</p><h1>change buffer å’Œ redo log</h1><p>ç†è§£äº†change bufferçš„åŸç†ï¼Œä½ å¯èƒ½ä¼šè”æƒ³åˆ°æˆ‘åœ¨å‰é¢æ–‡ç« ä¸­å’Œä½ ä»‹ç»è¿‡çš„redo logå’ŒWALã€‚</p><p>åœ¨å‰é¢æ–‡ç« çš„è¯„è®ºä¸­ï¼Œæˆ‘å‘ç°æœ‰åŒå­¦æ··æ·†äº†redo logå’Œchange bufferã€‚WAL æå‡æ€§èƒ½çš„æ ¸å¿ƒæœºåˆ¶ï¼Œä¹Ÿçš„ç¡®æ˜¯å°½é‡å‡å°‘éšæœºè¯»å†™ï¼Œè¿™ä¸¤ä¸ªæ¦‚å¿µç¡®å®å®¹æ˜“æ··æ·†ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œæˆ‘æŠŠå®ƒä»¬æ”¾åˆ°äº†åŒä¸€ä¸ªæµç¨‹é‡Œæ¥è¯´æ˜ï¼Œä¾¿äºä½ åŒºåˆ†è¿™ä¸¤ä¸ªæ¦‚å¿µã€‚</p><blockquote>\n<p>å¤‡æ³¨ï¼šè¿™é‡Œï¼Œä½ å¯ä»¥å†å›é¡¾ä¸‹ç¬¬2ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/68633\">ã€Šæ—¥å¿—ç³»ç»Ÿï¼šä¸€æ¡SQLæ›´æ–°è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Ÿã€‹</a>ä¸­çš„ç›¸å…³å†…å®¹ã€‚</p>\n</blockquote><p>ç°åœ¨ï¼Œæˆ‘ä»¬è¦åœ¨è¡¨ä¸Šæ‰§è¡Œè¿™ä¸ªæ’å…¥è¯­å¥ï¼š</p><pre><code>mysql&gt; insert into t(id,k) values(id1,k1),(id2,k2);\n</code></pre><p>è¿™é‡Œï¼Œæˆ‘ä»¬å‡è®¾å½“å‰kç´¢å¼•æ ‘çš„çŠ¶æ€ï¼ŒæŸ¥æ‰¾åˆ°ä½ç½®åï¼Œk1æ‰€åœ¨çš„æ•°æ®é¡µåœ¨å†…å­˜(InnoDB buffer pool)ä¸­ï¼Œk2æ‰€åœ¨çš„æ•°æ®é¡µä¸åœ¨å†…å­˜ä¸­ã€‚å¦‚å›¾2æ‰€ç¤ºæ˜¯å¸¦change bufferçš„æ›´æ–°çŠ¶æ€å›¾ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/98/a3/980a2b786f0ea7adabef2e64fb4c4ca3.png?wh=1142*856\" alt=\"\"></p><center>å›¾2 å¸¦change bufferçš„æ›´æ–°è¿‡ç¨‹</center><p>åˆ†æè¿™æ¡æ›´æ–°è¯­å¥ï¼Œä½ ä¼šå‘ç°å®ƒæ¶‰åŠäº†å››ä¸ªéƒ¨åˆ†ï¼šå†…å­˜ã€redo logï¼ˆib_log_fileXï¼‰ã€ æ•°æ®è¡¨ç©ºé—´ï¼ˆt.ibdï¼‰ã€ç³»ç»Ÿè¡¨ç©ºé—´ï¼ˆibdata1ï¼‰ã€‚</p><p>è¿™æ¡æ›´æ–°è¯­å¥åšäº†å¦‚ä¸‹çš„æ“ä½œï¼ˆæŒ‰ç…§å›¾ä¸­çš„æ•°å­—é¡ºåºï¼‰ï¼š</p><ol>\n<li>\n<p>Page 1åœ¨å†…å­˜ä¸­ï¼Œç›´æ¥æ›´æ–°å†…å­˜ï¼›</p>\n</li>\n<li>\n<p>Page 2æ²¡æœ‰åœ¨å†…å­˜ä¸­ï¼Œå°±åœ¨å†…å­˜çš„change bufferåŒºåŸŸï¼Œè®°å½•ä¸‹â€œæˆ‘è¦å¾€Page 2æ’å…¥ä¸€è¡Œâ€è¿™ä¸ªä¿¡æ¯</p>\n</li>\n<li>\n<p>å°†ä¸Šè¿°ä¸¤ä¸ªåŠ¨ä½œè®°å…¥redo logä¸­ï¼ˆå›¾ä¸­3å’Œ4ï¼‰ã€‚</p>\n</li>\n</ol><p>åšå®Œä¸Šé¢è¿™äº›ï¼Œäº‹åŠ¡å°±å¯ä»¥å®Œæˆäº†ã€‚æ‰€ä»¥ï¼Œä½ ä¼šçœ‹åˆ°ï¼Œæ‰§è¡Œè¿™æ¡æ›´æ–°è¯­å¥çš„æˆæœ¬å¾ˆä½ï¼Œå°±æ˜¯å†™äº†ä¸¤å¤„å†…å­˜ï¼Œç„¶åå†™äº†ä¸€å¤„ç£ç›˜ï¼ˆä¸¤æ¬¡æ“ä½œåˆåœ¨ä¸€èµ·å†™äº†ä¸€æ¬¡ç£ç›˜ï¼‰ï¼Œè€Œä¸”è¿˜æ˜¯é¡ºåºå†™çš„ã€‚</p><p>åŒæ—¶ï¼Œå›¾ä¸­çš„ä¸¤ä¸ªè™šçº¿ç®­å¤´ï¼Œæ˜¯åå°æ“ä½œï¼Œä¸å½±å“æ›´æ–°çš„å“åº”æ—¶é—´ã€‚</p><p>é‚£åœ¨è¿™ä¹‹åçš„è¯»è¯·æ±‚ï¼Œè¦æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬ç°åœ¨è¦æ‰§è¡Œ select * from t where k in (k1, k2)ã€‚è¿™é‡Œï¼Œæˆ‘ç”»äº†è¿™ä¸¤ä¸ªè¯»è¯·æ±‚çš„æµç¨‹å›¾ã€‚</p><p>å¦‚æœè¯»è¯­å¥å‘ç”Ÿåœ¨æ›´æ–°è¯­å¥åä¸ä¹…ï¼Œå†…å­˜ä¸­çš„æ•°æ®éƒ½è¿˜åœ¨ï¼Œé‚£ä¹ˆæ­¤æ—¶çš„è¿™ä¸¤ä¸ªè¯»æ“ä½œå°±ä¸ç³»ç»Ÿè¡¨ç©ºé—´ï¼ˆibdata1ï¼‰å’Œ redo logï¼ˆib_log_fileXï¼‰æ— å…³äº†ã€‚æ‰€ä»¥ï¼Œæˆ‘åœ¨å›¾ä¸­å°±æ²¡ç”»å‡ºè¿™ä¸¤éƒ¨åˆ†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/6d/8e/6dc743577af1dbcbb8550bddbfc5f98e.png?wh=1142*856\" alt=\"\"></p><center>å›¾3 å¸¦change bufferçš„è¯»è¿‡ç¨‹</center><p>ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼š</p><ol>\n<li>\n<p>è¯»Page 1çš„æ—¶å€™ï¼Œç›´æ¥ä»å†…å­˜è¿”å›ã€‚æœ‰å‡ ä½åŒå­¦åœ¨å‰é¢æ–‡ç« çš„è¯„è®ºä¸­é—®åˆ°ï¼ŒWALä¹‹åå¦‚æœè¯»æ•°æ®ï¼Œæ˜¯ä¸æ˜¯ä¸€å®šè¦è¯»ç›˜ï¼Œæ˜¯ä¸æ˜¯ä¸€å®šè¦ä»redo logé‡Œé¢æŠŠæ•°æ®æ›´æ–°ä»¥åæ‰å¯ä»¥è¿”å›ï¼Ÿå…¶å®æ˜¯ä¸ç”¨çš„ã€‚ä½ å¯ä»¥çœ‹ä¸€ä¸‹å›¾3çš„è¿™ä¸ªçŠ¶æ€ï¼Œè™½ç„¶ç£ç›˜ä¸Šè¿˜æ˜¯ä¹‹å‰çš„æ•°æ®ï¼Œä½†æ˜¯è¿™é‡Œç›´æ¥ä»å†…å­˜è¿”å›ç»“æœï¼Œç»“æœæ˜¯æ­£ç¡®çš„ã€‚</p>\n</li>\n<li>\n<p>è¦è¯»Page 2çš„æ—¶å€™ï¼Œéœ€è¦æŠŠPage 2ä»ç£ç›˜è¯»å…¥å†…å­˜ä¸­ï¼Œç„¶ååº”ç”¨change bufferé‡Œé¢çš„æ“ä½œæ—¥å¿—ï¼Œç”Ÿæˆä¸€ä¸ªæ­£ç¡®çš„ç‰ˆæœ¬å¹¶è¿”å›ç»“æœã€‚</p>\n</li>\n</ol><p>å¯ä»¥çœ‹åˆ°ï¼Œç›´åˆ°éœ€è¦è¯»Page 2çš„æ—¶å€™ï¼Œè¿™ä¸ªæ•°æ®é¡µæ‰ä¼šè¢«è¯»å…¥å†…å­˜ã€‚</p><p>æ‰€ä»¥ï¼Œå¦‚æœè¦ç®€å•åœ°å¯¹æ¯”è¿™ä¸¤ä¸ªæœºåˆ¶åœ¨æå‡æ›´æ–°æ€§èƒ½ä¸Šçš„æ”¶ç›Šçš„è¯ï¼Œ<strong>redo log ä¸»è¦èŠ‚çœçš„æ˜¯éšæœºå†™ç£ç›˜çš„IOæ¶ˆè€—ï¼ˆè½¬æˆé¡ºåºå†™ï¼‰ï¼Œè€Œchange bufferä¸»è¦èŠ‚çœçš„åˆ™æ˜¯éšæœºè¯»ç£ç›˜çš„IOæ¶ˆè€—ã€‚</strong></p><h1>å°ç»“</h1><p>ä»Šå¤©ï¼Œæˆ‘ä»æ™®é€šç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•çš„é€‰æ‹©å¼€å§‹ï¼Œå’Œä½ åˆ†äº«äº†æ•°æ®çš„æŸ¥è¯¢å’Œæ›´æ–°è¿‡ç¨‹ï¼Œç„¶åè¯´æ˜äº†change bufferçš„æœºåˆ¶ä»¥åŠåº”ç”¨åœºæ™¯ï¼Œæœ€åè®²åˆ°äº†ç´¢å¼•é€‰æ‹©çš„å®è·µã€‚</p><p>ç”±äºå”¯ä¸€ç´¢å¼•ç”¨ä¸ä¸Šchange bufferçš„ä¼˜åŒ–æœºåˆ¶ï¼Œå› æ­¤å¦‚æœä¸šåŠ¡å¯ä»¥æ¥å—ï¼Œä»æ€§èƒ½è§’åº¦å‡ºå‘æˆ‘å»ºè®®ä½ ä¼˜å…ˆè€ƒè™‘éå”¯ä¸€ç´¢å¼•ã€‚</p><p>æœ€åï¼Œåˆåˆ°äº†æ€è€ƒé¢˜æ—¶é—´ã€‚</p><p>é€šè¿‡å›¾2ä½ å¯ä»¥çœ‹åˆ°ï¼Œchange bufferä¸€å¼€å§‹æ˜¯å†™å†…å­˜çš„ï¼Œé‚£ä¹ˆå¦‚æœè¿™ä¸ªæ—¶å€™æœºå™¨æ‰ç”µé‡å¯ï¼Œä¼šä¸ä¼šå¯¼è‡´change bufferä¸¢å¤±å‘¢ï¼Ÿchange bufferä¸¢å¤±å¯ä¸æ˜¯å°äº‹å„¿ï¼Œå†ä»ç£ç›˜è¯»å…¥æ•°æ®å¯å°±æ²¡æœ‰äº†mergeè¿‡ç¨‹ï¼Œå°±ç­‰äºæ˜¯æ•°æ®ä¸¢å¤±äº†ã€‚ä¼šä¸ä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿ</p><p>ä½ å¯ä»¥æŠŠä½ çš„æ€è€ƒå’Œè§‚ç‚¹å†™åœ¨ç•™è¨€åŒºé‡Œï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« çš„æœ«å°¾å’Œä½ è®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><p><strong>è¡¥å……ï¼š</strong><br>\nè¯„è®ºåŒºå¤§å®¶å¯¹â€œæ˜¯å¦ä½¿ç”¨å”¯ä¸€ç´¢å¼•â€æœ‰æ¯”è¾ƒå¤šçš„è®¨è®ºï¼Œä¸»è¦æ˜¯çº ç»“åœ¨â€œä¸šåŠ¡å¯èƒ½æ— æ³•ç¡®ä¿â€çš„æƒ…å†µã€‚è¿™é‡Œï¼Œæˆ‘å†è¯´æ˜ä¸€ä¸‹ï¼š</p><ul>\n<li>é¦–å…ˆï¼Œä¸šåŠ¡æ­£ç¡®æ€§ä¼˜å…ˆã€‚å’±ä»¬è¿™ç¯‡æ–‡ç« çš„å‰ææ˜¯â€œä¸šåŠ¡ä»£ç å·²ç»ä¿è¯ä¸ä¼šå†™å…¥é‡å¤æ•°æ®â€çš„æƒ…å†µä¸‹ï¼Œè®¨è®ºæ€§èƒ½é—®é¢˜ã€‚å¦‚æœä¸šåŠ¡ä¸èƒ½ä¿è¯ï¼Œæˆ–è€…ä¸šåŠ¡å°±æ˜¯è¦æ±‚æ•°æ®åº“æ¥åšçº¦æŸï¼Œé‚£ä¹ˆæ²¡å¾—é€‰ï¼Œå¿…é¡»åˆ›å»ºå”¯ä¸€ç´¢å¼•ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæœ¬ç¯‡æ–‡ç« çš„æ„ä¹‰åœ¨äºï¼Œå¦‚æœç¢°ä¸Šäº†å¤§é‡æ’å…¥æ•°æ®æ…¢ã€å†…å­˜å‘½ä¸­ç‡ä½çš„æ—¶å€™ï¼Œå¯ä»¥ç»™ä½ å¤šæä¾›ä¸€ä¸ªæ’æŸ¥æ€è·¯ã€‚</li>\n<li>ç„¶åï¼Œåœ¨ä¸€äº›â€œå½’æ¡£åº“â€çš„åœºæ™¯ï¼Œä½ æ˜¯å¯ä»¥è€ƒè™‘ä½¿ç”¨æ™®é€šç´¢å¼•çš„ã€‚æ¯”å¦‚ï¼Œçº¿ä¸Šæ•°æ®åªéœ€è¦ä¿ç•™åŠå¹´ï¼Œç„¶åå†å²æ•°æ®ä¿å­˜åœ¨å½’æ¡£åº“ã€‚è¿™æ—¶å€™ï¼Œå½’æ¡£æ•°æ®å·²ç»æ˜¯ç¡®ä¿æ²¡æœ‰å”¯ä¸€é”®å†²çªäº†ã€‚è¦æé«˜å½’æ¡£æ•ˆç‡ï¼Œå¯ä»¥è€ƒè™‘æŠŠè¡¨é‡Œé¢çš„å”¯ä¸€ç´¢å¼•æ”¹æˆæ™®é€šç´¢å¼•ã€‚</li>\n</ul><h1>ä¸ŠæœŸé—®é¢˜æ—¶é—´</h1><p>ä¸ŠæœŸçš„é—®é¢˜æ˜¯ï¼šå¦‚ä½•æ„é€ ä¸€ä¸ªâ€œæ•°æ®æ— æ³•ä¿®æ”¹â€çš„åœºæ™¯ã€‚è¯„è®ºåŒºé‡Œå·²ç»æœ‰ä¸å°‘åŒå­¦ç»™å‡ºäº†æ­£ç¡®ç­”æ¡ˆï¼Œè¿™é‡Œæˆ‘å†æè¿°ä¸€ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/be/ae/be7a4d8af04cdf93aaa11108933559ae.png?wh=937*263\" alt=\"\"><br>\nè¿™æ ·ï¼Œsession Açœ‹åˆ°çš„å°±æ˜¯æˆ‘æˆªå›¾çš„æ•ˆæœäº†ã€‚</p><p>å…¶å®ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§åœºæ™¯ï¼ŒåŒå­¦ä»¬åœ¨ç•™è¨€åŒºéƒ½è¿˜æ²¡æœ‰æåˆ°ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/e2/fa/e24a0689571337959138d787c408defa.png?wh=933*352\" alt=\"\"></p><p>è¿™ä¸ªæ“ä½œåºåˆ—è·‘å‡ºæ¥ï¼Œsession  Açœ‹çš„å†…å®¹ä¹Ÿæ˜¯èƒ½å¤Ÿå¤ç°æˆ‘æˆªå›¾çš„æ•ˆæœçš„ã€‚è¿™ä¸ªsession Bâ€™å¯åŠ¨çš„äº‹åŠ¡æ¯”Aè¦æ—©ï¼Œå…¶å®æ˜¯ä¸ŠæœŸæˆ‘ä»¬æè¿°äº‹åŠ¡ç‰ˆæœ¬çš„å¯è§æ€§è§„åˆ™æ—¶ç•™çš„å½©è›‹ï¼Œå› ä¸ºè§„åˆ™é‡Œè¿˜æœ‰ä¸€ä¸ªâ€œæ´»è·ƒäº‹åŠ¡çš„åˆ¤æ–­â€ï¼Œæˆ‘æ˜¯å‡†å¤‡ç•™åˆ°è¿™é‡Œå†è¡¥å……çš„ã€‚</p><p>å½“æˆ‘è¯•å›¾åœ¨è¿™é‡Œè®²è¿°å®Œæ•´è§„åˆ™çš„æ—¶å€™ï¼Œå‘ç°ç¬¬8ç¯‡æ–‡ç« <a href=\"https://time.geekbang.org/column/article/70562\">ã€Šäº‹åŠ¡åˆ°åº•æ˜¯éš”ç¦»çš„è¿˜æ˜¯ä¸éš”ç¦»çš„ï¼Ÿã€‹</a>ä¸­çš„è§£é‡Šå¼•å…¥äº†å¤ªå¤šçš„æ¦‚å¿µï¼Œä»¥è‡´äºåˆ†æèµ·æ¥éå¸¸å¤æ‚ã€‚</p><p>å› æ­¤ï¼Œæˆ‘é‡å†™äº†ç¬¬8ç¯‡ï¼Œè¿™æ ·æˆ‘ä»¬äººå·¥å»åˆ¤æ–­å¯è§æ€§çš„æ—¶å€™ï¼Œæ‰ä¼šæ›´æ–¹ä¾¿ã€‚ã€çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘å»ºè®®ä½ èƒ½å¤Ÿå†é‡æ–°æ‰“å¼€ç¬¬8ç¯‡æ–‡ç« å¹¶è®¤çœŸå­¦ä¹ ä¸€æ¬¡ã€‚å¦‚æœå­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä»»ä½•é—®é¢˜ï¼Œä¹Ÿæ¬¢è¿ä½ ç»™æˆ‘ç•™è¨€ã€‘</p><p>ç”¨æ–°çš„æ–¹å¼æ¥åˆ†æsession Bâ€™çš„æ›´æ–°ä¸ºä»€ä¹ˆå¯¹session Aä¸å¯è§å°±æ˜¯ï¼šåœ¨session Aè§†å›¾æ•°ç»„åˆ›å»ºçš„ç¬é—´ï¼Œsession Bâ€™æ˜¯æ´»è·ƒçš„ï¼Œå±äºâ€œç‰ˆæœ¬æœªæäº¤ï¼Œä¸å¯è§â€è¿™ç§æƒ…å†µã€‚</p><p>ä¸šåŠ¡ä¸­å¦‚æœè¦ç»•è¿‡è¿™ç±»é—®é¢˜ï¼Œ@çº¦ä¹¦äºšæä¾›äº†ä¸€ä¸ªâ€œä¹è§‚é”â€çš„è§£æ³•ï¼Œå¤§å®¶å¯ä»¥å»ä¸Šä¸€ç¯‡çš„ç•™è¨€åŒºçœ‹ä¸€ä¸‹ã€‚</p><p>è¯„è®ºåŒºç•™è¨€ç‚¹èµæ¿ï¼š</p><blockquote>\n<p>@æŸã€äººã€@å¤æ—¥é›¨ã€@å‘¨å·˜ã€@æé‡‘åˆš ç­‰åŒå­¦æäº†ä¸€ä¸ªå¾ˆå¥½çš„é—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬ä»Šå¤©ç­”æ¡ˆçš„session Bâ€™ çš„æƒ…å†µï¼›<br>\n@justin æåˆ°äº†æäº¤å’Œæœªæäº¤ç‰ˆæœ¬çš„åŒºåˆ«å¯¹å¾…ï¼Œ@å€ªå¤§äºº æåˆ°äº†è¯»æäº¤å’Œå½“å‰è¯»çš„åŒºåˆ«ï¼Œéƒ½æ˜¯ç»è¿‡äº†æ€è€ƒåæå‡ºçš„å¥½é—®é¢˜ï¼Œå¤§å®¶å¯ä»¥å»ç•™è¨€åŒºçœ‹çœ‹ã€‚</p>\n</blockquote>","neighbors":{"left":{"article_title":"08 | äº‹åŠ¡åˆ°åº•æ˜¯éš”ç¦»çš„è¿˜æ˜¯ä¸éš”ç¦»çš„ï¼Ÿ","id":70562},"right":{"article_title":"10 | MySQLä¸ºä»€ä¹ˆæœ‰æ—¶å€™ä¼šé€‰é”™ç´¢å¼•ï¼Ÿ","id":71173}},"comments":[{"had_liked":false,"id":46093,"user_name":"æŸã€äºº","can_delete":false,"product_type":"c1","uid":1308784,"ip_address":"","ucode":"ADB42AA12A11C1","user_header":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","comment_is_top":true,"comment_ctime":1543845071,"is_pvip":false,"replies":[{"id":"16480","content":"åˆ†æå¾ˆèµï¼ŒæŠŠ02ç¯‡å’Œè¿™ç¯‡æ–‡ç« è´¯é€šäº†.<br><br>é—®é¢˜<br>1. è¿™æ—¶å€™è¦â€œå…ˆè¯»åå†™â€ï¼Œè¯»çš„æ—¶å€™æ•°æ®ä¼šè¯»å…¥å†…å­˜ï¼Œæ›´æ–°çš„æ—¶å€™ç›´æ¥æ”¹å†…å­˜ï¼Œå°±ä¸éœ€è¦change bufferäº†<br><br>2. Gapé”å–å†³äºä¸šåŠ¡æ€ä¹ˆç”¨å“ˆã€‚æˆ‘æ„Ÿè§‰ä¸»è¦æ˜¯å› ä¸ºgapé”æ¦‚å¿µæ¯”è¾ƒéš¾è¯´æ¸…ï¼Œå¤§å®¶æœ‰ç‚¹æ”¾å¤§å®ƒçš„æ„æ€äº†å“ˆå“ˆ<br><br>3. Hit rate <br><br>4. æˆ‘ä¸å¤Ÿç†Ÿæ‚‰ï¼Œä¸èƒ½ä¹±å›ç­”è¯¯å¯¼ä½ ğŸ˜„","user_name":"ä½œè€…å›å¤","comment_id":46093,"uid":"1264162","ip_address":"","utype":1,"ctime":1543846743,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":61,"race_medal":0,"score":"9.223373090665599e+18","product_id":100020801,"comment_content":"å…ˆå›ç­”ä»Šå¤©çš„é—®é¢˜,ä»Šå¤©çš„ç­”æ¡ˆåº”è¯¥åœ¨æ–‡ç« é‡Œå°±èƒ½æ‰¾åˆ°<br>1.change bufferæœ‰ä¸€éƒ¨åˆ†åœ¨å†…å­˜æœ‰ä¸€éƒ¨åˆ†åœ¨ibdata.<br>åšpurgeæ“ä½œ,åº”è¯¥å°±ä¼šæŠŠchange bufferé‡Œç›¸åº”çš„æ•°æ®æŒä¹…åŒ–åˆ°ibdata<br>2.redo logé‡Œè®°å½•äº†æ•°æ®é¡µçš„ä¿®æ”¹ä»¥åŠchange bufferæ–°å†™å…¥çš„ä¿¡æ¯<br>å¦‚æœæ‰ç”µ,æŒä¹…åŒ–çš„change bufferæ•°æ®å·²ç»purge,ä¸ç”¨æ¢å¤ã€‚ä¸»è¦åˆ†ææ²¡æœ‰æŒä¹…åŒ–çš„æ•°æ®<br>æƒ…å†µåˆåˆ†ä¸ºä»¥ä¸‹å‡ ç§:<br>(1)change bufferå†™å…¥,redo logè™½ç„¶åšäº†fsyncä½†æœªcommit,binlogæœªfsyncåˆ°ç£ç›˜,è¿™éƒ¨åˆ†æ•°æ®ä¸¢å¤±<br>(2)change bufferå†™å…¥,redo logå†™å…¥ä½†æ²¡æœ‰commit,binlogä»¥åŠfsyncåˆ°ç£ç›˜,å…ˆä»binlogæ¢å¤redo log,å†ä»redo logæ¢å¤change buffer<br>(3)change bufferå†™å…¥,redo logå’Œbinlogéƒ½å·²ç»fsync.é‚£ä¹ˆç›´æ¥ä»redo logé‡Œæ¢å¤ã€‚<br><br>è€å¸ˆ,æˆ‘æœ‰å‡ ä¸ªé—®é¢˜æƒ³è¯·æ•™ä¸‹:<br>1.å¦‚æœæ˜¯é’ˆå¯¹éå”¯ä¸€ç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•çš„æ›´æ–°å’Œdeleteè€Œä¸”æ¡ä»¶æ˜¯where ç´¢å¼•å€¼=è¿™ç§æƒ…å†µ,<br>æ˜¯å¦äºŒçº§ç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•å°±æ²¡æœ‰åŒºåˆ«å‘¢<br>2.rræ¨¡å¼ä¸‹,éå”¯ä¸€ç´¢å¼•è¿˜ä¼šåŠ gap,å¼€é”€åº”è¯¥ä¹Ÿä¸ç®—å°å§<br>3.è¿˜æœ‰è€å¸ˆä½ æ˜¯æ€ä¹ˆåˆ¤æ–­å†…å­˜å‘½ä¸­ç‡çš„,æ˜¯hit rateå˜›ï¼Ÿ<br>4.obå¥½åƒå°±æ˜¯è¿™ä¸ªæ€è·¯æ¥åšçš„èšç°‡ç´¢å¼•çš„insertä¼˜åŒ–,ä¸çŸ¥é“æ˜¯æ€ä¹ˆåˆ¤æ–­çš„å”¯ä¸€æ€§<br><br>ç‰¹åˆ«æ„Ÿè°¢è€å¸ˆ,ä»¥å‰çš„çŸ¥è¯†éƒ½æ˜¯å¾ˆç¢ç‰‡åŒ–,æ²¡æœ‰æ·±å…¥çš„å»æ€è€ƒã€‚<br>ç»è¿‡å‡ æœŸçš„å­¦ä¹ ä»¥å,æ„Ÿè§‰æ€è·¯è¶Šæ¥è¶Šå¼€é˜”,ä»¥å‰è§‰å¾—å¾ˆé«˜æ·±çš„çŸ¥è¯†ç‚¹,ç°åœ¨ä¹Ÿæœ‰ç‚¹è±ç„¶å¼€æœ—çš„æ„Ÿè§‰ã€‚","like_count":246,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431333,"discussion_content":"åˆ†æå¾ˆèµï¼ŒæŠŠ02ç¯‡å’Œè¿™ç¯‡æ–‡ç« è´¯é€šäº†.\n\né—®é¢˜\n1. è¿™æ—¶å€™è¦â€œå…ˆè¯»åå†™â€ï¼Œè¯»çš„æ—¶å€™æ•°æ®ä¼šè¯»å…¥å†…å­˜ï¼Œæ›´æ–°çš„æ—¶å€™ç›´æ¥æ”¹å†…å­˜ï¼Œå°±ä¸éœ€è¦change bufferäº†\n\n2. Gapé”å–å†³äºä¸šåŠ¡æ€ä¹ˆç”¨å“ˆã€‚æˆ‘æ„Ÿè§‰ä¸»è¦æ˜¯å› ä¸ºgapé”æ¦‚å¿µæ¯”è¾ƒéš¾è¯´æ¸…ï¼Œå¤§å®¶æœ‰ç‚¹æ”¾å¤§å®ƒçš„æ„æ€äº†å“ˆå“ˆ\n\n3. Hit rate \n\n4. æˆ‘ä¸å¤Ÿç†Ÿæ‚‰ï¼Œä¸èƒ½ä¹±å›ç­”è¯¯å¯¼ä½ ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543846743,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":1446494,"avatar":"https://static001.geekbang.org/account/avatar/00/16/12/5e/77b67a85.jpg","nickname":"é£˜äº‘","note":"","ucode":"C6FE0310D6853C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":558674,"discussion_content":"binlogæ˜¯ä»€ä¹ˆæ—¶å€™ç”Ÿæˆçš„å‘¢ï¼Ÿå¦‚æœbinlogç”Ÿæˆçš„æ—¶é—´ä¸ä¸šåŠ¡ä¿®æ”¹æ•°æ®åº“çš„æ—¶é—´ä¸ä¸€è‡´ä¼šæœ‰é—®é¢˜ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648434387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":431333,"ip_address":""},"score":558674,"extra":""},{"author":{"id":2786848,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/86/20/1f1221f5.jpg","nickname":"å¬é£","note":"","ucode":"EC2EB012E8DB6D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":589011,"discussion_content":"è€å¸ˆçªç„¶æƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œç¬¬äºŒç¯‡ä¸­è®²åˆ°redologåœ¨å†™æ»¡åæˆ–ç©ºé—²çš„æ—¶å€™ä¼šéšæœºå†™ç›˜ï¼Œç„¶åè‹¥æ˜¯åœ¨å”¯ä¸€ç´¢å¼•æƒ…å†µä¸‹ï¼Œä¸èµ°changeBufferçš„æƒ…å†µä¸‹ï¼Œredologä¹Ÿæ²¡æœ‰éšæœºå†™ç›˜ï¼Œè¯»åˆ°çš„æ•°æ®ä¼šä¸ä¼šæœ‰é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664333959,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":431333,"ip_address":"æµ™æ±Ÿ"},"score":589011,"extra":""}]},{"author":{"id":1087490,"avatar":"https://static001.geekbang.org/account/avatar/00/10/98/02/14e24394.jpg","nickname":"Zhikun Lao","note":"","ucode":"C39A437FCE1C8B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1185,"discussion_content":"ä¸æ˜ç™½è¿™ç§è¯„è®ºä¸ºä»€ä¹ˆè¦ç½®é¡¶ï¼Œé‡Œé¢è¯´åˆ°çš„ä¸œè¥¿æœ‰ä¸€å¤§éƒ¨åˆ†éƒ½ä¸æ˜¯è¿™é—¨è¯¾åˆ°è¿™ä¸ªç¨‹åº¦æ‰€æ¶‰åŠåˆ°çš„ï¼Œå°¤å…¶æ˜¯é‚£äº›é—®é¢˜ã€‚è¿™ç»™å…¶ä»–äººçœ‹åˆ°çœŸçš„æ˜¯ä¸€å¤´é›¾æ°´ã€‚","likes_number":57,"is_delete":false,"is_hidden":false,"ctime":1562363659,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1314724,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/a4/0b49469f.jpg","nickname":"æœ¨å­00","note":"","ucode":"8F78CA722EB29B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1087490,"avatar":"https://static001.geekbang.org/account/avatar/00/10/98/02/14e24394.jpg","nickname":"Zhikun Lao","note":"","ucode":"C39A437FCE1C8B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275590,"discussion_content":"è¯´çš„æœ‰é“ç†ã€‚æˆ‘ä¹‹å‰å°±æœ‰è¿™ä¸ªæƒ³æ³•ï¼Œä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆè®²ã€‚é¡¶èµ·æ¥ã€‚å“ˆå“ˆã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1590735209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":1185,"ip_address":""},"score":275590,"extra":""},{"author":{"id":1780797,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2c/3d/0bd58aa4.jpg","nickname":"Em","note":"","ucode":"32012A5C603C8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1087490,"avatar":"https://static001.geekbang.org/account/avatar/00/10/98/02/14e24394.jpg","nickname":"Zhikun Lao","note":"","ucode":"C39A437FCE1C8B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576468,"discussion_content":"è€Œä¸”è¯´çš„ä¹Ÿä¸å¯¹","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1655565584,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":1185,"ip_address":""},"score":576468,"extra":""},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1087490,"avatar":"https://static001.geekbang.org/account/avatar/00/10/98/02/14e24394.jpg","nickname":"Zhikun Lao","note":"","ucode":"C39A437FCE1C8B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587236,"discussion_content":"è¯´å¾—å¾ˆå¥½å•Šæˆ‘è§‰å¾—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662893635,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":1185,"ip_address":"å¹¿ä¸œ"},"score":587236,"extra":""}]},{"author":{"id":1115724,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLwSoTjHPX5tm4whBSfoZLX6toZxrZGUaLABQywKNf4MDc9toK3QSV7Z99ATcGicFCysoleQ5ISzmw/132","nickname":"ä¹˜é£","note":"","ucode":"0420C5535DACB7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":45766,"discussion_content":"(2)change bufferå†™å…¥,redo logå†™å…¥ä½†æ²¡æœ‰commit,binlogä»¥åŠfsyncåˆ°ç£ç›˜,å…ˆä»binlogæ¢å¤redo log,å†ä»redo logæ¢å¤change buffer\n\nå…³äºè¿™ä¸€é¡¹çš„å¼‚è®®:\n1.binlogæ˜¯mysqlçš„æœºåˆ¶,redologæ˜¯innoDBçš„æœºåˆ¶,é€šè¿‡binlogæ˜¯ç›´æ¥æ¢å¤ç‰©ç†æ•°æ®çš„,å¹¶éæ¢å¤redolog,è¿™ä¸ªè¿‡ç¨‹éœ€è¦æ‰‹åŠ¨æ‰§è¡Œ\n\n2.change bufferä¸éœ€è¦æ¢å¤,å› ä¸ºæ— è®ºbinlog æˆ–redolog åœ¨æ¢å¤æ—¶éƒ½æ˜¯å°†ä¸¢å¤±æ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜,é‚£ä¹ˆå°±ä¸å­˜åœ¨change bufferè¿™ä¸ªä¸œè¥¿äº†\n\n","likes_number":22,"is_delete":false,"is_hidden":false,"ctime":1573085016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1518795,"avatar":"","nickname":"Geek_2ac804","note":"","ucode":"EDF69B20030BB8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1115724,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLwSoTjHPX5tm4whBSfoZLX6toZxrZGUaLABQywKNf4MDc9toK3QSV7Z99ATcGicFCysoleQ5ISzmw/132","nickname":"ä¹˜é£","note":"","ucode":"0420C5535DACB7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554287,"discussion_content":"change bufferè·Ÿæ•°æ®é¡µä¸€æ ·ï¼Œä¹Ÿæ˜¯éœ€è¦è®°å½•å…¶æ”¹åŠ¨çš„ï¼Œä¹Ÿæ˜¯éœ€è¦æ¢å¤çš„ï¼Œåªæœ‰æ¢å¤äº†ï¼Œæ‰çŸ¥é“æ•°æ®é¡µè¯¥æ€ä¹ˆæ›´æ–°ã€‚redologè®°å½•çš„æ˜¯å†…å­˜ä¸­å·²ç»æ›´æ–°é¡µçš„æ”¹åŠ¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646298161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":45766,"ip_address":""},"score":554287,"extra":""},{"author":{"id":2446024,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/GA9AqKGEdib009iaPw3FSluiaeibCXmen7yFIKicZB8qqEtczZJF2WmwBJ738eExnxDmPREIGjqc4BFVXiamyhuCZASw/132","nickname":"ä¸€ç¼•é˜³å…‰","note":"","ucode":"CA89C1B7CB16C0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1518795,"avatar":"","nickname":"Geek_2ac804","note":"","ucode":"EDF69B20030BB8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585991,"discussion_content":"change buffer æœ‰æ²¡æœ‰éƒ½ä¸å½±å“æ•°æ®æ¢å¤ï¼Œä¸¢äº†å°±ä¸¢äº†(æ¯•ç«Ÿè¿˜æœ‰å…³é—­ä¸ä½¿ç”¨change bufferçš„å‚æ•°ï¼Œè¿™ç©æ„å„¿å°±è·Ÿæ•°æ®æ¢å¤æ— å…³)ã€‚Mysqlå¯åŠ¨çš„æ—¶å€™ä¼šåŠ è½½redologå’Œbinlogçš„å†…å®¹ï¼Œæ¥åˆ¤æ–­åˆ°åº•æ€ä¹ˆæ¢å¤æ•°æ®","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1661930005,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":554287,"ip_address":"å¹¿ä¸œ"},"score":585991,"extra":""},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2446024,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/GA9AqKGEdib009iaPw3FSluiaeibCXmen7yFIKicZB8qqEtczZJF2WmwBJ738eExnxDmPREIGjqc4BFVXiamyhuCZASw/132","nickname":"ä¸€ç¼•é˜³å…‰","note":"","ucode":"CA89C1B7CB16C0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587241,"discussion_content":"å½±å“çš„ã€‚å¼€äº†redoå°±å¾—ä¿è¯å®ƒçš„æŒä¹…åŒ–å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662900775,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":585991,"ip_address":"å¹¿ä¸œ"},"score":587241,"extra":""}]},{"author":{"id":1475972,"avatar":"","nickname":"å°éœ¸ç‹å­¦ä¹ æœº","note":"","ucode":"522112D5F72FF9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155779,"discussion_content":"ä½ çš„æ€è€ƒå¾ˆåˆ°ä½ã€‚ä½†æˆ‘è§‰å¾—æœªæŒä¹…åŒ–çš„é‚£å‡ ç§æƒ…å†µï¼Œç‰¹åˆ«æ˜¯ä»binlogæ¢å¤redo logï¼Œæˆ‘è§‰å¾—ä¸å¯¹ã€‚redo log åº”è¯¥ä¸éœ€è¦ä»binlogé‡Œé¢æ¢å¤å§ï¼Œæ²¡æœ‰å¼€å¯binlogçš„æƒ…å†µå‘¢ï¼Ÿè¿™ä¿©æ—¥å¿—çš„å…³è”ï¼Œåº”è¯¥åªæ˜¯åœ¨å´©æºƒæ¢å¤çš„æ—¶å€™ï¼Œå…³è”åˆ¤æ–­è¿™ä¸ªäº‹åŠ¡æ˜¯commitè¿˜æ˜¯rollbackã€‚ä¹Ÿå¯èƒ½æ˜¯æˆ‘æ²¡ç†è§£ä½ çš„è¡¨è¿°ï¼Œè¯·èµæ•™ã€‚","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1580288608,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1475972,"avatar":"","nickname":"å°éœ¸ç‹å­¦ä¹ æœº","note":"","ucode":"522112D5F72FF9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":169011,"discussion_content":"æˆ‘åŒæ„ã€‚redo logå’Œbinlogæ˜¯ä¸¤å¥—é€»è¾‘ï¼Œåªæ˜¯æœ‰äºŒé˜¶æ®µæäº¤çš„åˆä½œè¡Œä¸ºï¼Œæœ€ç»ˆä»¥binlogä¸ºå‡†è€Œå·²ã€‚redo logæœ¬èº«ä¹Ÿæ˜¯æŒä¹…åŒ–çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581601020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":155779,"ip_address":""},"score":169011,"extra":""},{"author":{"id":1335293,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKR3ibELhjgVicCNShZCBwvaDxibnzibggG4wUzVkS2mkDxUBZyIs87nDEdJ7PiahJBVoZcuhQ84RxAziag/132","nickname":"å‘¨æ²»æ…§","note":"","ucode":"7D56C4E66BEE17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1475972,"avatar":"","nickname":"å°éœ¸ç‹å­¦ä¹ æœº","note":"","ucode":"522112D5F72FF9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":184877,"discussion_content":"é—®ä¸­æƒ³è¯´çš„æ„æ€æ˜¯redo log perpareçŠ¶æ€,binlog fsyncæˆåŠŸ,ä½†æ˜¯redo logæœªcommitçŠ¶æ€,ä¹Ÿä¸æ˜¯è¯´ä»binlogæ¥æ¢å¤redo log,åªæ˜¯é€šè¿‡binlogæ¥åˆ¤æ–­redo log prepareçŠ¶æ€è¡Œä¸ºè¢«è®¤å¯ä¸ºcommitçŠ¶æ€","likes_number":20,"is_delete":false,"is_hidden":false,"ctime":1582581329,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":155779,"ip_address":""},"score":184877,"extra":""}]},{"author":{"id":1646052,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1d/e4/517fbbbf.jpg","nickname":"ç™½èŠ·","note":"","ucode":"D37530955CF919","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":167464,"discussion_content":"å€Ÿä¸€ä¸ªå‰æ’ï¼šä»€ä¹ˆæƒ…å†µä¸‹æ‰ä¼šåœ¨update å’Œ delete æ—¶ä½¿ç”¨åˆ°change buffer å‘¢ ï¼Ÿ\n@æ˜¯æˆ‘çš„æµ·çš„æé—®ï¼š\nçœ‹è§ä¸€ä¸ªåŒå­¦é—®çš„é—®é¢˜ï¼š\n1.å¦‚æœæ˜¯é’ˆå¯¹éå”¯ä¸€ç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•çš„æ›´æ–°å’Œdeleteè€Œä¸”æ¡ä»¶æ˜¯where ç´¢å¼•å€¼=è¿™ç§æƒ…å†µ,\næ˜¯å¦äºŒçº§ç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•å°±æ²¡æœ‰åŒºåˆ«å‘¢ï¼Ÿ\nè€å¸ˆçš„å›ç­”æ˜¯å…ˆè¦è¯»å†æ›´æ–°ã€‚ã€‚ã€‚\n\næˆ‘çš„é—®é¢˜æ˜¯ï¼š\nä¸ºä»€ä¹ˆæœ‰where æ¡ä»¶æ—¶å°±éœ€è¦å…ˆè¯»å‘¢ ï¼Ÿ æ˜¯å› ä¸ºcurrent read ä¹ˆ ï¼Ÿ\né‚£æ—¢ç„¶æ”¹æˆäº†change buffer ï¼Œä»€ä¹ˆæƒ…å†µä¸‹æ‰ä¼šåœ¨update å’Œ delete æ—¶ä½¿ç”¨åˆ°change buffer å‘¢ ï¼Ÿ\n\nä½œè€…å›å¤: ç›´æ¥å›ç­”ä½ ç¬¬äºŒä¸ªé—®é¢˜ï¼Œ æ¯”å¦‚delete çš„æ—¶å€™where ä¸»é”®ID=N","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1581500361,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1788647,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/4a/e7/6c16af5d.jpg","nickname":"æ±‰æ±Ÿ","note":"","ucode":"01622D984B8F9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1646052,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1d/e4/517fbbbf.jpg","nickname":"ç™½èŠ·","note":"","ucode":"D37530955CF919","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340054,"discussion_content":"è°¢è°¢å…„å¼Ÿï¼Œä»€ä¹ˆæƒ…å†µä¸‹æ‰ä¼šåœ¨update å’Œ delete æ—¶ä½¿ç”¨åˆ°change buffer å‘¢ ï¼Œè¿™ä¸ªé—®é¢˜ä¹Ÿå›°æ‰°äº†æˆ‘å¥½ä¹…  ï¼Œä½ è¿™ä¹ˆä¸€ç­” æ„Ÿè§‰è±ç„¶å¼€æœ—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609894672,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":167464,"ip_address":""},"score":340054,"extra":""},{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1646052,"avatar":"https://static001.geekbang.org/account/avatar/00/19/1d/e4/517fbbbf.jpg","nickname":"ç™½èŠ·","note":"","ucode":"D37530955CF919","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543372,"discussion_content":"æ²¡çœ‹æ‡‚æœ€å&#34;æ¯”å¦‚delete çš„æ—¶å€™where ä¸»é”®ID=N&#34;è¿™å¥ï¼Œä¸»é”®ä¼šç”¨åˆ°change bufferå—ï¼Ÿä¸æ˜¯ä¸€èˆ¬æ™®é€šç´¢å¼•æ‰ä¼šç”¨åˆ°change buffer?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641109595,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":167464,"ip_address":""},"score":543372,"extra":""}]},{"author":{"id":1155275,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","nickname":"å¼ ä¸‰ä¸°","note":"","ucode":"3A6215A40B3B21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":384768,"discussion_content":"æ„Ÿè§‰ä½ çš„å›å¤æœ‰ç‚¹é—®é¢˜ï¼Œbinlogæ˜¯æ— æ³•æ¢å¤redo logçš„ï¼Œæ¢å¥è¯è¯´ï¼Œåœ¨redo logè¿›å…¥prepareä¹‹å‰ï¼Œæ˜¯æ— æ³•å†™å…¥binlogçš„ï¼Œå¦‚æœredo logè¿›å…¥prepareä¹‹å‰å®•æœºï¼Œäº‹åŠ¡å°±ä¼šå›æ»šï¼Œå¦‚æœprepareä¹‹åï¼Œbinlogè½ç›˜ä¹‹å‰å®•æœºäº‹åŠ¡ä¹Ÿå›æ»šï¼Œæ‰€ä»¥ä¸åœ¨æœ‰binlogæ— redo logçš„æƒ…å†µï¼Œå¦åˆ™å¤‡åº“å²‚ä¸æ˜¯æŠŠè¿™ä¸ªbinlogå¤åˆ¶äº†ï¼Ÿ","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1626745743,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1308784,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","nickname":"æŸã€äºº","note":"","ucode":"ADB42AA12A11C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1155275,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","nickname":"å¼ ä¸‰ä¸°","note":"","ucode":"3A6215A40B3B21","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393206,"discussion_content":"ç¡®å®binlogæ²¡æœ‰å›å¤redo logå¾—èƒ½åŠ›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631287473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":384768,"ip_address":""},"score":393206,"extra":""},{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1155275,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","nickname":"å¼ ä¸‰ä¸°","note":"","ucode":"3A6215A40B3B21","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398666,"discussion_content":"è¯´çš„æ˜¯è¿™ç§åœºæ™¯ï¼š  redo log æ˜¯prepareçŠ¶æ€ï¼Œ ä½†æ˜¯æ­¤äº‹åŠ¡å¯¹åº”çš„binlogæ˜¯å®Œæ•´çš„ï¼Œ è¿™ä¸ªæ—¶å€™å°±ä¼šç›´æ¥åº”ç”¨è¿™ä¸ªredo logï¼Œä¸ç”¨å›æ»š","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1632828711,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":384768,"ip_address":""},"score":398666,"extra":""},{"author":{"id":2837603,"avatar":"","nickname":"Geek_18e6f5","note":"","ucode":"3700BC57DD6FF3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":413331,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636448391,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":398666,"ip_address":""},"score":413331,"extra":""}]},{"author":{"id":1272996,"avatar":"https://static001.geekbang.org/account/avatar/00/13/6c/a4/7f7c1955.jpg","nickname":"æ­»ç£•éƒä¸€ä¸–","note":"","ucode":"86C1197C3FB2A0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":381623,"discussion_content":"è¯·é—®â€œé€šè¿‡binlogæ¥åˆ¤æ–­redo log prepareçŠ¶æ€è¡Œä¸ºâ€æ˜¯é€šè¿‡äº‹åŠ¡idæ¥å…³è”çš„å—ï¼Ÿæ¢å¤çš„æ—¶å€™æ˜¯mysqlè‡ªåŠ¨è¿›è¡Œå…³è”å¹¶æ¢å¤å—","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1625147351,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1272996,"avatar":"https://static001.geekbang.org/account/avatar/00/13/6c/a4/7f7c1955.jpg","nickname":"æ­»ç£•éƒä¸€ä¸–","note":"","ucode":"86C1197C3FB2A0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398667,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632828735,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":381623,"ip_address":""},"score":398667,"extra":""},{"author":{"id":1780797,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/2c/3d/0bd58aa4.jpg","nickname":"Em","note":"","ucode":"32012A5C603C8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":576474,"discussion_content":"äº‹åŠ¡æ˜¯å¼•æ“å±‚çš„, binlogå¦‚ä½•å…³è”redologçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655567427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":398667,"ip_address":""},"score":576474,"extra":""}]},{"author":{"id":1264111,"avatar":"https://static001.geekbang.org/account/avatar/00/13/49/ef/02401473.jpg","nickname":"æœˆè¿·æ´¥æ¸¡","note":"","ucode":"2B18B2FE3DAC3B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":167551,"discussion_content":"ç¬¬äºŒç‚¹æŒä¹…åŒ–çš„change bufferæ•°æ®å·²ç»purgeä¸å¤ªç†è§£ï¼Œchangebufferå†™å…¥ç³»ç»Ÿè¡¨çš„æ—¶æœºæ˜¯ä»€ä¹ˆï¼Ÿmergeä¹‹åæ•°æ®ä¹Ÿæ˜¯åœ¨å†…å­˜é‡Œï¼Œæ€ä¹ˆèƒ½ä¿è¯redologæ‰€è®°å½•çš„è¡Œä¸ºå·²ç»åˆ·åˆ°ç”¨æˆ·è¡¨ä¸­å‘¢ï¼Ÿæœ‰ç‚¹æ™•","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581508484,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1335293,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKR3ibELhjgVicCNShZCBwvaDxibnzibggG4wUzVkS2mkDxUBZyIs87nDEdJ7PiahJBVoZcuhQ84RxAziag/132","nickname":"å‘¨æ²»æ…§","note":"","ucode":"7D56C4E66BEE17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264111,"avatar":"https://static001.geekbang.org/account/avatar/00/13/49/ef/02401473.jpg","nickname":"æœˆè¿·æ´¥æ¸¡","note":"","ucode":"2B18B2FE3DAC3B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":184878,"discussion_content":"å½“äº‹ç‰©æäº¤çš„æ—¶å€™ä¼šæœ‰purgeçº¿ç¨‹æ¥æ‰§è¡Œå°†change bufferçš„æ•°æ®åˆ·æ–°åˆ°ibdataä¸­;redo logä¼šç”±master threadæ¥è®²è„é¡µä¸­çš„æ•°æ®åˆ·æ–°åˆ°ç£ç›˜ä¸­(å› ä¸ºredo logå·²ç»commitè¯´æ˜è¿™éƒ¨åˆ†æ—¥å¿—æ˜¯å®Œæ•´çš„,æ‰€ä»¥ä¸ä¼šå‡ºç°æœ€ç»ˆå†…å­˜å’Œç£ç›˜ä¸ä¸€è‡´æ€§çš„æƒ…å†µ)","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1582582236,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":167551,"ip_address":""},"score":184878,"extra":""}]},{"author":{"id":1652836,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epKJlW7sqts2ZbPuhMbseTAdvHWnrc4ficAeSZyKibkvn6qyxflPrkKKU3mH6XCNmYvDg11tB6y0pxg/132","nickname":"pc","note":"","ucode":"1AD538B9A900B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":80978,"discussion_content":"è€å¸ˆè¯´çš„deleteã€updateæ—¶ä¼šå…ˆè¯»åå†™ç›´æ¥å¼„å†…å­˜ï¼Œä½†æ˜¯æˆ‘çœ‹åˆ°ä¸€ç¯‡æ–‡ç« è¯´â€œInnoDBå¼•æ“(1.0.xç‰ˆæœ¬å)å¯ä»¥å¯¹ insertã€deleteã€update éƒ½è¿›è¡Œç¼“å­˜ï¼Œç›¸å½“äºå°†insert bufferæ”¹ä¸ºäº†change bufferâ€----æ±‚è§£ç­”","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1576208890,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1386818,"avatar":"https://static001.geekbang.org/account/avatar/00/15/29/42/43d4b1a8.jpg","nickname":"çƒ«çƒ«çƒ«","note":"","ucode":"C06018670DE76A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1652836,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epKJlW7sqts2ZbPuhMbseTAdvHWnrc4ficAeSZyKibkvn6qyxflPrkKKU3mH6XCNmYvDg11tB6y0pxg/132","nickname":"pc","note":"","ucode":"1AD538B9A900B6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318527,"discussion_content":"ä½ å¯ä»¥çœ‹ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£å°±æ‡‚äº†ï¼š14.5.2 Change Buffer","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603773246,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":80978,"ip_address":""},"score":318527,"extra":""},{"author":{"id":1275980,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoicSMibHxGmeNXCLAnB6S7icPh814icIsw7VZ5vYzLOyKKUJYmFC5WGPekH5qI7rRbH3n4Y2obiaKlBTQ/132","nickname":"konh","note":"","ucode":"1CAD0D67067CC1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1386818,"avatar":"https://static001.geekbang.org/account/avatar/00/15/29/42/43d4b1a8.jpg","nickname":"çƒ«çƒ«çƒ«","note":"","ucode":"C06018670DE76A","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":318928,"discussion_content":"åˆšçœ‹äº†8.0 æ˜¯15.5.2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603885456,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":318527,"ip_address":""},"score":318928,"extra":""}]},{"author":{"id":3179092,"avatar":"https://static001.geekbang.org/account/avatar/00/30/82/54/1c825ec8.jpg","nickname":"ä»–ä»–ä»–ä»–ä»–ä»–","note":"","ucode":"F0E5A1BC1A0CD1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588327,"discussion_content":"é—®é¢˜å¾ˆå¥½å•Šï¼Œçœ‹äº†è¿™ä¸ªé—®é¢˜æ‰çœŸæ­£ç†è§£å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663666698,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"é™•è¥¿"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2650951,"avatar":"https://static001.geekbang.org/account/avatar/00/28/73/47/0dc38e56.jpg","nickname":"á´¢Êœá´œÊÉªÇ«ÉªÉ´É¢","note":"","ucode":"CD093C6FA7B871","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":573400,"discussion_content":"redolog å’Œ binlogä»¥ä¸€å¥—ä¸ºå‡†å°±è¡Œäº†æŠŠï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653388818,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1516786,"avatar":"https://static001.geekbang.org/account/avatar/00/17/24/f2/cc025396.jpg","nickname":"simplezero","note":"","ucode":"43B0DA19BC0325","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548003,"discussion_content":"è¿™é‡Œé¢å¦‚æœ äº‹åŠ¡1 å’Œäº‹åŠ¡2 å¹¶å‘æ‰§è¡Œ è¿™æ—¶å€™éœ€è¦è®°å½•é”çš„ä¿¡æ¯ï¼Œæ˜¯ä¸æ˜¯å°±ä¸èƒ½ä½¿ç”¨ change buffer äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642993194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1516786,"avatar":"https://static001.geekbang.org/account/avatar/00/17/24/f2/cc025396.jpg","nickname":"simplezero","note":"","ucode":"43B0DA19BC0325","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548002,"discussion_content":"å¯¹äº 1 æˆ‘çš„ç†è§£ä¸å¤ªä¸€æ · ï¼Œå¯¹äº update ï¼Œä¾‹å¦‚ï¼šäº‹åŠ¡1 update t set k = 1 where k =3 ï¼Œäº‹åŠ¡2 update t set k = 2  where k = 3ï¼Œå› ä¸ºéƒ½è¿›è¡Œäº†ç¼“å­˜ï¼Œå¯ä»¥ç†è§£åœ¨ merge æ—¶ å…ˆæ‰§è¡Œäº‹åŠ¡1 å†æ‰§è¡Œäº‹åŠ¡2 æ•°æ®çš„ä¸€è‡´æ€§ä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642992998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1813207,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/aa/d7/a417ad5b.jpg","nickname":"CharAt","note":"","ucode":"D7D44B48FC4E79","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380752,"discussion_content":"æ±‚æ¥¼ä¸»è§£ç­”ï¼š1ã€insert ä¸€æ¡è¯­å¥ï¼ŒæœŸé—´æ¶‰åŠåˆ°ä¸»é”®å’ŒäºŒçº§éå”¯ä¸€ç´¢å¼•ï¼Œé‚£redologæ˜¯å¦‚ä½•è¿›è¡Œè®°å½•çš„ï¼Ÿä¸»é”®ç´¢å¼•æ˜¯ ç›´æ¥åœ¨å†…å­˜ä¸­ä¿®æ”¹çš„ï¼Œå°†æ•°æ®é¡µåŠ åˆ°å†…å­˜ä¸­è¿›è¡Œä¿®æ”¹ï¼Œå†å°†æ“ä½œè®°å½•åˆ°redologï¼Œæ­¤æ—¶å‡å¦‚äºŒçº§ç´¢å¼•ä¸åœ¨å†…å­˜ä¸­ï¼Œç¼“å­˜åˆ°changebuffer logï¼Œå¹¶å†™å…¥è¿™æ¬¡çš„redologã€‚ å¦‚æœè¦flushï¼ŒäºŒçº§ç´¢å¼•è¿˜ä¸åœ¨å†…å­˜ä¸­ï¼Œè¿™æ—¶å€™ä¸æ˜¯ä¸æ˜¯è¦åˆ°changebuffeé‡Œé¢å»æŸ¥æ‰¾æ˜¯å¦æœ‰è¯¥trx_idçš„æ—¥å¿—ï¼Ÿå¦‚æœæœ‰ï¼Œé‚£ä¹ˆå°±å°†äºŒçº§ç´¢å¼•åŠ åˆ°å†…å­˜ä¸­è¿›è¡Œä¿®æ”¹ï¼Œç„¶åå°†å†…å­˜çš„è„é¡µåˆ·åˆ°ç£ç›˜ä¸­ï¼Œè¿™æ—¶å€™äºŒçº§ç´¢å¼•å’Œ æ•°æ®é¡µéƒ½å°†ä¿®æ”¹å®Œæˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624686800,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1308784,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","nickname":"æŸã€äºº","note":"","ucode":"ADB42AA12A11C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1813207,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/aa/d7/a417ad5b.jpg","nickname":"CharAt","note":"","ucode":"D7D44B48FC4E79","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393207,"discussion_content":"redo logè®°å½•ä¸»é”®ç´¢å¼•æ•°æ®é¡µçš„ä¿®æ”¹ï¼Œä»¥åŠchange bufferæ•°æ®é¡µçš„ä¿®æ”¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631287632,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":380752,"ip_address":""},"score":393207,"extra":""}]},{"author":{"id":2254917,"avatar":"https://static001.geekbang.org/account/avatar/00/22/68/45/ddf89612.jpg","nickname":"bestgopher","note":"","ucode":"D89735C8CA9C6E","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":369245,"discussion_content":"purge: æ¸…é™¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618986014,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1901428,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLwIAiaxOJWE3Ut6hRvTzvFkCIibcURojC0XrQI1lC3h58enlNcpXQ98rmUOr5lA6ST3m24micj191Gw/132","nickname":"ä¸ç–¾","note":"","ucode":"18AA0F294C1586","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2254917,"avatar":"https://static001.geekbang.org/account/avatar/00/22/68/45/ddf89612.jpg","nickname":"bestgopher","note":"","ucode":"D89735C8CA9C6E","race_medal":1,"user_type":1,"is_pvip":false},"discussion":{"id":370946,"discussion_content":"å¾€ä¸‹ç¿»ç¿»è¯„è®ºï¼Œè¿™é‡Œåº”è¯¥æ˜¯mergeï¼Œè€å¸ˆå¼€å§‹å†™é”™äº†ï¼Œç„¶åè¯„è®ºéƒ½è·Ÿç€æ­ªäº†= =","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619589575,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":369245,"ip_address":""},"score":370946,"extra":""}]},{"author":{"id":2064501,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/80/75/c00e3116.jpg","nickname":"niss","note":"","ucode":"7449D8B30EE0E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365373,"discussion_content":"é—®ä¸‹æ¥¼ä¸»ï¼Œé—®é¢˜ä¸€è€å¸ˆå›ç­”çš„æ„æ€æ˜¯åªæœ‰insertæ‰ç”¨åˆ°change bufferå—?updateå’Œdeleteç›´æ¥è¯»åˆ°buffer poolæ›´æ–°å°±ç”¨ä¸åˆ°change bufferäº†ï¼Œè¿™æ ·ç†è§£å¯¹å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617784507,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1308784,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","nickname":"æŸã€äºº","note":"","ucode":"ADB42AA12A11C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2064501,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/80/75/c00e3116.jpg","nickname":"niss","note":"","ucode":"7449D8B30EE0E1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365519,"discussion_content":"ä¸æ˜¯ï¼Œå‡è®¾è¡¨ä¸Šæœ‰ä¸¤ä¸ªäºŒçº§ç´¢å¼•ã€‚æ›´æ–°æ˜¯å…ˆæŸ¥åæ”¹ï¼ŒæŸ¥çš„æ—¶å€™åªç”¨äº†ä¸€ä¸ªï¼Œé‚£ä¹ˆå‰©ä¸‹é‚£ä¸ªå°±èƒ½ç”¨åˆ°change buffer","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1617810962,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":365373,"ip_address":""},"score":365519,"extra":""}]},{"author":{"id":1111434,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f5/8a/e0fa8730.jpg","nickname":"å­¦æ¸£è¦æ¯æ—¥è¿›æ­¥","note":"","ucode":"0EB5CB54F2E890","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":324238,"discussion_content":"Change buffering is not supported for a secondary index if the index contains a descending index column or if the primary key includes a descending index column. \n\nä½ å¥½ï¼Œ è¿™ä¸ªæ˜¯åœ¨5.6çš„æ–‡æ¡£æ‰¾åˆ°ï¼Œè¯·é—®ä¸‹è¿™ä¸ªæ€ä¹ˆè§£é‡Šå‘¢ï¼Œéº»çƒ¦å¸®å¿™è§£é‡Šä¸‹å‘¢ï¼Œè°¢è°¢äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605076550,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1308784,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f8/70/f3a33a14.jpg","nickname":"æŸã€äºº","note":"","ucode":"ADB42AA12A11C1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1111434,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f5/8a/e0fa8730.jpg","nickname":"å­¦æ¸£è¦æ¯æ—¥è¿›æ­¥","note":"","ucode":"0EB5CB54F2E890","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":324691,"discussion_content":"ä½ åº”è¯¥æ˜¯çœ‹çš„8.0çš„æ–‡æ¡£å§,Descending Indexesæ˜¯mysql8.0æ–°å¢çš„åŠŸèƒ½ã€‚å‡å¦‚a bå­—æ®µè”åˆç´¢å¼•,åœ¨è¿™ä¸ªç´¢å¼•ä¸Š,æ•°æ®å­˜å‚¨é¡ºåºæ˜¯ï¼šæŒ‰ç…§aå€¼é€’å¢ï¼Œå¯¹äºaå€¼ç›¸åŒçš„æƒ…å†µï¼ŒæŒ‰ç…§bå€¼é€’å¢ã€‚Descending Indexesæ„æ€æ˜¯aå€¼é€’å¢,å¯¹äºaå€¼ç›¸åŒçš„æƒ…å†µ,æŒ‰ç…§bå€¼é€’å‡ã€‚è¿™æ®µè¯çš„æ„æ€æ˜¯,change bufferå¯¹äºäºŒçº§ç´¢å¼•æ˜¯Descending Indexesä¸æ”¯æŒæˆ–è€…è”åˆä¸»é”®å­˜åœ¨Descending Indexesä¹Ÿä¸æ”¯æŒã€‚ä¹Ÿå°±æ˜¯è¯´change bufferå¯¹äºä¸Šè¿°ä¸¤ç§æƒ…å†µæ˜¯å¤±æ•ˆçš„","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1605152908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":324238,"ip_address":""},"score":324691,"extra":""}]},{"author":{"id":2076283,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/ae/7b/47200692.jpg","nickname":"è´ºå­","note":"","ucode":"A64DC9D9CF7CCD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305943,"discussion_content":"ä½ å¥½ï¼Œ(2)change bufferå†™å…¥,redo logå†™å…¥ä½†æ²¡æœ‰commit,binlogä»¥åŠfsyncåˆ°ç£ç›˜,å…ˆä»binlogæ¢å¤redo log,å†ä»redo logæ¢å¤change bufferï¼Œè¿™éƒ¨åˆ†å†…å®¹ï¼Œæœ‰ç‚¹ç–‘é—®ï¼Œå°±æ˜¯æ²¡æœ‰commitä½†æ˜¯å·²ç»åˆ·æ–°è„å¶åˆ°ç£ç›˜ï¼Œè¿™æ—¶å€™éœ€è¦å›æ»šï¼Œå€ŸåŠ©undoå›æ»šï¼Œæ€ä¹ˆè¿˜ç”¨åˆ°binlogå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600135218,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1386818,"avatar":"https://static001.geekbang.org/account/avatar/00/15/29/42/43d4b1a8.jpg","nickname":"çƒ«çƒ«çƒ«","note":"","ucode":"C06018670DE76A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2076283,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/ae/7b/47200692.jpg","nickname":"è´ºå­","note":"","ucode":"A64DC9D9CF7CCD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318521,"discussion_content":"ç¬¬äºŒç§æƒ…å†µä¸æ˜¯å›æ»šï¼Œè€Œæ˜¯commitï¼Œå› ä¸ºæ•°æ®éƒ½åœ¨","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1603771328,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":305943,"ip_address":""},"score":318521,"extra":""}]},{"author":{"id":1993986,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIn0FpbcH9JA9ztMoCZ24BjypZtXCmptVJ6G7ofj3mExRzVaAc4YLgRo6Mlj1OSvbQQicQh3EA2VqQ/132","nickname":"summer","note":"","ucode":"6F34505ECE6BAF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297337,"discussion_content":"purgeæ˜¯ç¬”è¯¯è¿˜æ˜¯å°±æœ‰è¿™ä¸ªåŠ¨ä½œï¼Ÿä¸æ˜¯å¾ˆç†è§£è¿™ä¸ªæ˜¯å‘½ä»¤æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596879487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1624574,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c9/fe/874b172b.jpg","nickname":"benxiong","note":"","ucode":"F6498059D439D9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1993986,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIn0FpbcH9JA9ztMoCZ24BjypZtXCmptVJ6G7ofj3mExRzVaAc4YLgRo6Mlj1OSvbQQicQh3EA2VqQ/132","nickname":"summer","note":"","ucode":"6F34505ECE6BAF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303908,"discussion_content":"è€å¸ˆè¯´çš„æ˜¯ mergeï¼Œè¿™äº›è¯„è®ºå±…ç„¶éƒ½æ˜¯ purgeï¼Œä»–ä»¬å±…ç„¶è¿˜èƒ½äº¤æµï¼Œä½©æœä½©æœ","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1599404263,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":297337,"ip_address":""},"score":303908,"extra":""},{"author":{"id":2056201,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/60/09/a8e7913b.jpg","nickname":"SandCarving","note":"","ucode":"6B97DB71613A46","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1993986,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIn0FpbcH9JA9ztMoCZ24BjypZtXCmptVJ6G7ofj3mExRzVaAc4YLgRo6Mlj1OSvbQQicQh3EA2VqQ/132","nickname":"summer","note":"","ucode":"6F34505ECE6BAF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":321304,"discussion_content":"è¿™æˆ‘ä¹Ÿå¾ˆç–‘æƒ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604561581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":297337,"ip_address":""},"score":321304,"extra":""},{"author":{"id":2162784,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/9ExlO4FktmTib5RRJKaxic2bbS7AicJodsnms8jOGibG53ibNyqicHO1F7LKOaDjDNTlyqCO91NXTlLcYlFia2sO5SPQw/132","nickname":"æ¼‚æ³Šçš„å°ç å†œ","note":"","ucode":"8557471627BA6C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1624574,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c9/fe/874b172b.jpg","nickname":"benxiong","note":"","ucode":"F6498059D439D9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334519,"discussion_content":"innodbåå°æœ‰purgeçº¿ç¨‹åšä¸€äº›æŒä¹…åŒ–å’Œåˆå¹¶change bufferçš„å·¥ä½œ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1607870243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":303908,"ip_address":""},"score":334519,"extra":""}]},{"author":{"id":1347935,"avatar":"https://static001.geekbang.org/account/avatar/00/14/91/5f/45a7c796.jpg","nickname":"yuzhiteng","note":"","ucode":"3F1FA537E67A5C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292254,"discussion_content":"é—®ä¸ªé—®é¢˜ï¼Œæ›´æ–°å†…å®¹ change buffer ä¸åº”è¯¥æ˜¯èŠ‚çº¦å†™å…¥å—ï¼Ÿä¸ºå•¥æ˜¯è¯»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595156180,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1347935,"avatar":"https://static001.geekbang.org/account/avatar/00/14/91/5f/45a7c796.jpg","nickname":"yuzhiteng","note":"","ucode":"3F1FA537E67A5C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302262,"discussion_content":"ç¡®å®ï¼Œæˆ‘ä¹‹å‰ä¹Ÿæ˜¯è¿™ä¹ˆæƒ³çš„ã€‚å¦‚æœä½ æ¢ä¸ªè§’åº¦æ¥çœ‹çš„è¯ï¼Œå°±èƒ½ç†è§£äº†ã€‚æ›´æ–°æ•°æ®ï¼Œä¹Ÿéœ€è¦å°†æ•°æ®é¡µè¯»å…¥å†…å­˜ä¸­ä¿®æ”¹å®Œæ¯•åæ‰èƒ½å†™å…¥ç£ç›˜çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598861958,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":292254,"ip_address":""},"score":302262,"extra":""},{"author":{"id":1083768,"avatar":"https://static001.geekbang.org/account/avatar/00/10/89/78/16c56f99.jpg","nickname":"æ¯›æ´ªåš","note":"","ucode":"D5DDE602FDA816","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1347935,"avatar":"https://static001.geekbang.org/account/avatar/00/14/91/5f/45a7c796.jpg","nickname":"yuzhiteng","note":"","ucode":"3F1FA537E67A5C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311108,"discussion_content":"buffer poolçš„æ•°æ®é¡µï¼Œæœ¬æ¥å°±æ˜¯æ‰¹é‡å†™å…¥çš„ï¼Œä¸æ˜¯æ¯æ¬¡æ•°æ®æ›´æ–°éƒ½æŠŠå†…å­˜ä¸­çš„è„é¡µå†™åˆ°ç£ç›˜ä¸­çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦change bufferæ¥åšè¿™ä¸ªäº‹æƒ…ã€‚é’ˆå¯¹æ•°æ®é¡µçš„å†™æ“ä½œï¼Œéœ€è¦å…ˆè¯»åˆ°å†…å­˜ä¸­ï¼Œå†å†™å›ç¡¬ç›˜ï¼Œå¦‚æœæƒ³å‡å°‘è¿™æ¬¡è¯»æ“ä½œï¼Œå°±å¯ä»¥ç›´æ¥æŠŠå†™çš„åŠ¨ä½œä¿å­˜åœ¨å†…å­˜ï¼ˆchange bufferï¼‰ä¸­ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1602224156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":292254,"ip_address":""},"score":311108,"extra":""},{"author":{"id":2705752,"avatar":"https://static001.geekbang.org/account/avatar/00/29/49/58/9b56e567.jpg","nickname":"lllkk","note":"","ucode":"26BC0A474F145C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1347935,"avatar":"https://static001.geekbang.org/account/avatar/00/14/91/5f/45a7c796.jpg","nickname":"yuzhiteng","note":"","ucode":"3F1FA537E67A5C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583966,"discussion_content":"ä½ åšä¿®æ”¹ä¹‹å‰ æ˜¯ä¸æ˜¯éœ€è¦å°†æ•°æ®è¯»å†…å­˜å‘¢, mysql å…ˆæŠŠæ“ä½œè®°å½•å†™å…¥change bufferä¸­, åé¢åœ¨åŒä¸€merge,é¿å…äº†ä¸€æ¬¡IO","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660533282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":292254,"ip_address":"ç¦å»º"},"score":583966,"extra":""}]},{"author":{"id":1623626,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c6/4a/3bd896fc.jpg","nickname":"Heiky","note":"","ucode":"03AA79E1BC4AE4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":20141,"discussion_content":"æœ‰ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªfsync æ˜¯æƒ³è¯´asyncå—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569283850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1512836,"avatar":"https://static001.geekbang.org/account/avatar/00/17/15/84/a0cfdb9a.jpg","nickname":"æŠ˜æ³","note":"","ucode":"A361B63AAE52D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1623626,"avatar":"https://static001.geekbang.org/account/avatar/00/18/c6/4a/3bd896fc.jpg","nickname":"Heiky","note":"","ucode":"03AA79E1BC4AE4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":91369,"discussion_content":"fsyncï¼šæŠŠæ–‡ä»¶åœ¨å†…å­˜ä¸­çš„éƒ¨åˆ†å†™å›ç£ç›˜","likes_number":18,"is_delete":false,"is_hidden":false,"ctime":1576830399,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":20141,"ip_address":""},"score":91369,"extra":""}]},{"author":{"id":1101332,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ce/14/b488f241.jpg","nickname":"o9","note":"","ucode":"E373E82A39BBFE","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":4074,"discussion_content":"å…„å¼Ÿ, æˆ‘æœ‰ä¸ªç–‘é—®å•Š, æ‚¨è¯´çš„ &#34;å…ˆä»binlogæ¢å¤redo log,å†ä»redo logæ¢å¤change buffer&#34; å‡å¦‚æ•°æ®åº“å¼‚å¸¸é‡å¯äº†, æ•°æ®åº“ä¼šè‡ªå·±æ ¹æ® binlogæ¢å¤redo log? èµ°ä½ è¯´çš„æµç¨‹å—?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565094932,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":4,"extra":"","child_discussion_number":6,"child_discussions":[{"author":{"id":1554570,"avatar":"https://static001.geekbang.org/account/avatar/00/17/b8/8a/7367a69e.jpg","nickname":"å˜‰å…´","note":"","ucode":"6997E7A3E25EE4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1101332,"avatar":"https://static001.geekbang.org/account/avatar/00/10/ce/14/b488f241.jpg","nickname":"o9","note":"","ucode":"E373E82A39BBFE","race_medal":1,"user_type":1,"is_pvip":false},"discussion":{"id":6344,"discussion_content":"æˆ‘ç†è§£çš„æ˜¯äº‹åŠ¡çš„ä¸¤é˜¶æ®µæäº¤\n1. å†™å…¥redolog ï¼ˆprepareï¼‰\n2. å†™å…¥binlog\næ­¤æ—¶æ•°æ®åº“crashï¼Œé‡å¯ä¹‹åå‘ç°binlogå­˜åœ¨å¯¹åº”è®°å½•ï¼Œåˆ™å°†ä¹‹å‰å¤„äºprepareé˜¶æ®µçš„redolog commitï¼Œè¿™æ—¶å€™å¼€å§‹æ ¹æ®redo logé‡Œè®°å½•çš„change bufferæ“ä½œæ¢å¤change buffer","likes_number":20,"is_delete":false,"is_hidden":false,"ctime":1566862814,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":4074,"ip_address":""},"score":6344,"extra":""},{"author":{"id":1701867,"avatar":"https://static001.geekbang.org/account/avatar/00/19/f7/eb/e7127bb8.jpg","nickname":"ï¼Œ","note":"","ucode":"A5543C8DFEB198","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1554570,"avatar":"https://static001.geekbang.org/account/avatar/00/17/b8/8a/7367a69e.jpg","nickname":"å˜‰å…´","note":"","ucode":"6997E7A3E25EE4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":151989,"discussion_content":"æˆ‘å¯¹ä¸¤é˜¶æ®µæäº¤é‡Œäº‹åŠ¡çš„ç†è§£:\n1. å†™å…¥redolog ï¼ˆprepareï¼‰\n2. å†™å…¥binlog\nè¿™ä¸¤æ­¥åº”è¯¥éƒ½åœ¨äº‹åŠ¡é‡Œå§,è€Œä¸æ˜¯åªæœ‰ å†™å…¥redolog ï¼ˆprepareï¼‰åœ¨äº‹åŠ¡é‡Œ,ä¹Ÿå°±æ˜¯è¯´äº‹åŠ¡æäº¤çš„è¯,ä¸¤è€…å°±éƒ½æœ‰è®°å½•,æ²¡æäº¤çš„è¯ä¸¤è€…éƒ½æ²¡è®°å½•,è¿™æ‰æ˜¯ä¿è¯ä¸€è‡´æ€§å§?å¦‚æœæŒ‰ç…§ä½ çš„è¯´æ³•å’Œè¿™ä¸ªç½®é¡¶è¯„è®ºçš„è¯´æ³•,å…¶å®å°±æ˜¯å…ˆå†™å…¥binlogåœ¨å†™å…¥redologæ²¡åŒºåˆ«äº†å§?é‚£è¿™ä¸ªäº‹åŠ¡ä¹Ÿæ²¡å•¥å­˜åœ¨çš„æ„ä¹‰äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579926620,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":6344,"ip_address":""},"score":151989,"extra":""},{"author":{"id":1107690,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e6/ea/cf8ffc85.jpg","nickname":"shijiazo","note":"","ucode":"E2F32581829F11","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1701867,"avatar":"https://static001.geekbang.org/account/avatar/00/19/f7/eb/e7127bb8.jpg","nickname":"ï¼Œ","note":"","ucode":"A5543C8DFEB198","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":152258,"discussion_content":"å¯¹äºä¸¤é˜¶æ®µæäº¤ï¼Œredo log prepareé˜¶æ®µä¹Ÿæœ‰è®°å½•çš„ï¼Œç¬¬3æ­¥æ˜¯æŠŠredo logçš„prepareæ ‡å¿—æ”¹æˆcommitï¼Œå¦‚æœåœ¨ç¬¬3æ­¥ä¹‹å‰crashï¼Œé‚£ä¹ˆå†æ¬¡å¯åŠ¨æ—¶è¿›è¡Œå´©æºƒæ¢å¤ï¼Œå°±ä¼šæ‰§è¡Œâ€œå˜‰å…´â€åŒå­¦æ‰€è¯´çš„æ­¥éª¤ï¼Œå…ˆæ ¹æ®binlogè¿›è¡Œç¬¬3æ­¥ï¼Œå†æ¢å¤change bufferã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1579955471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":151989,"ip_address":""},"score":152258,"extra":""}]}]},{"had_liked":false,"id":46260,"user_name":"æ—æ™“æ–Œ","can_delete":false,"product_type":"c1","uid":1264162,"ip_address":"","ucode":"CDE42D44F26240","user_header":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","comment_is_top":true,"comment_ctime":1543890584,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"9.2233724893702001e+18","product_id":100020801,"comment_content":"æŠ±æ­‰åšä¸€ä¸ªåè¯å‹˜è¯¯ï¼ŒæŠŠchange bufferåº”ç”¨åˆ°æ—§çš„æ•°æ®é¡µï¼Œå¾—åˆ°æ–°çš„æ•°æ®é¡µçš„è¿‡ç¨‹ï¼Œåº”è¯¥ç§°ä¸ºmergeæ›´åˆé€‚ã€‚","like_count":105,"discussions":[{"author":{"id":1528379,"avatar":"https://static001.geekbang.org/account/avatar/00/17/52/3b/7a2610a6.jpg","nickname":"çˆ±å› è¯—è´¤","note":"","ucode":"150C439B87CED1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307948,"discussion_content":"&#34;æŠŠchange bufferåº”ç”¨åˆ°æ—§çš„æ•°æ®é¡µï¼Œå¾—åˆ°æ–°çš„æ•°æ®é¡µçš„è¿‡ç¨‹ï¼Œç§°ä¸º merge&#34;ï¼Œä¹‹å‰ç¬¬ 02 èŠ‚è¯´è¿‡ redo log ä¼šåœ¨ CPU ç©ºé—²çš„æ—¶å€™å»æ›´æ–°ç£ç›˜ï¼Œè¿™ä¸ªä¼šä¸ä¼šå’Œè¿™ä¸ª merge é‡å¤äº†ï¼Ÿæ¯”å¦‚ä½ åœ¨ æ‰§è¡Œ &#34;update t set c = 10 where id = 1&#34;ï¼Œä½ çš„æ›´æ–°æ“ä½œä¼šè®°å½•åˆ° change buffer,è¿™ä¸ªæ—¶å€™ä¸ä¼šå»æŸ¥ ç£ç›˜ï¼Œç›®çš„æ˜¯ä¸ºäº†å‡å°‘éšæœºè¯»ç£ç›˜ IO,ä½† æ˜¯redo log ä¸æ˜¯ä¼šæ›´æ–°ç£ç›˜æ•°æ®å—?å½“ä½ ä¸‹æ¬¡å†å»æŸ¥çš„æ—¶å€™ ç£ç›˜ä¸å°±æ˜¯å·²ç»æœ€æ–°æ•°æ®å—?è¿™ä¸ªé‡Œé¢çš„ change buffer ä¸å°±æ²¡ç”¨äº†å—?","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1600791620,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1975331,"avatar":"","nickname":"Geek_247d5f","note":"","ucode":"3B69CD116FDC01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1528379,"avatar":"https://static001.geekbang.org/account/avatar/00/17/52/3b/7a2610a6.jpg","nickname":"çˆ±å› è¯—è´¤","note":"","ucode":"150C439B87CED1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312076,"discussion_content":"redo logåˆ·ç£ç›˜çš„è¿‡ç¨‹æˆ‘çŒœæƒ³åŒ…æ‹¬äº†change buffer mergeçš„è¿‡ç¨‹","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1602579112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":307948,"ip_address":""},"score":312076,"extra":""},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1528379,"avatar":"https://static001.geekbang.org/account/avatar/00/17/52/3b/7a2610a6.jpg","nickname":"çˆ±å› è¯—è´¤","note":"","ucode":"150C439B87CED1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312344,"discussion_content":"çœ‹å›¾åƒæ˜¯redo log è®°å½•äº† chang bufferå†…å®¹","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1602667855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":307948,"ip_address":""},"score":312344,"extra":""}]},{"author":{"id":2678569,"avatar":"https://static001.geekbang.org/account/avatar/00/28/df/29/3c956177.jpg","nickname":"ä¸Šæµ·","note":"","ucode":"6A4F9D80D25028","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411802,"discussion_content":"è¿™é‡Œæƒ³è¯·æ•™è€å¸ˆä¸€ä¸‹ï¼š\næŒ‰ç…§å®˜æ–¹çš„è¯´æ³•ï¼Œå› ä¸ºå¯¹äºŒçº§ç´¢å¼•çš„æ¯ä¸€æ¬¡æ›´æ–°å½±å“åˆ°çš„ç´¢å¼•é¡µéƒ½å¯èƒ½ä¸æ˜¯ç›¸é‚»çš„ï¼Œä¸ºäº†å‡å°‘ç£ç›˜çš„éšæœºioè®¿é—®ï¼Œå¼•å…¥äº†change bufferã€‚å¦å¤–ï¼Œchang bufferçš„åˆ·ç›˜ç­–ç•¥æ˜¯å¾ˆbuffer poolä¿æŒä¸€è‡´çš„ã€‚\n\næŒ‰ç…§è€å¸ˆçš„è¯´æ³•ï¼š\n1. å”¯ä¸€ç´¢å¼•å› ä¸ºè¦åˆ¤æ–­æ•°æ®æ˜¯å¦å·²å­˜åœ¨ï¼Œéœ€è¦å…ˆå°†ç´¢å¼•é¡µä»ç£ç›˜ä¸Šè¯»å‡ºæ¥ï¼Œè¿™ä¸ªæ—¶å€™å¿…ç„¶å·²ç»å‘ç”Ÿäº†mergeï¼Œæ‰€ä»¥ä¸èƒ½åº”ç”¨change bufferã€‚\n2. merge=purgeï¼Ÿ\n\n\næ‰€ä»¥æˆ‘æœ‰ä»¥ä¸‹é—®é¢˜ï¼š\n1.  å³ä½¿å”¯ä¸€ç´¢å¼•çš„æ¯æ¬¡æ›´æ–°éƒ½ä¼šå¼•å‘mergeï¼Œä½†æ˜¯ä¾ç„¶å¯ä»¥é€šè¿‡å»¶è¿Ÿåˆ·ç›˜æ¥ç§¯ç´¯æ›´å¤šçš„ç›¸é‚»ç´¢å¼•é¡µï¼Œä»è€Œå‡å°‘éšæœºç£ç›˜ioè®¿é—®\n2. Mergeè·Ÿåˆ·ç›˜æ²¡æœ‰å¿…ç„¶çš„å› æœå…³ç³»å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636008274,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45897,"user_name":"è™šçˆ±å‡¯å¹³","can_delete":false,"product_type":"c1","uid":1260564,"ip_address":"","ucode":"EA8A7A4498BC86","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/AwEHMTGSmVsia3WZDyIicBQPAfS11lBZ0yUappicPzfmGDmMwkje1UoqKK3UJ6FCBdsZyiauuV1SEfcrFzWfx9n1RQ/132","comment_is_top":true,"comment_ctime":1543815277,"is_pvip":false,"replies":[{"id":"16393","content":"ç¬¬ä¸€æ®µçš„ç†è§£ä¸å‡†ç¡®å“ˆã€‚<br>insertçš„æ—¶å€™ï¼Œå†™ä¸»é”®æ˜¯è‚¯å®šä¸èƒ½ç”¨change bufferäº†ï¼Œä½†æ˜¯åŒæ—¶ä¹Ÿä¼šè¦å†™å…¶å®ƒç´¢å¼•ï¼Œè€Œå…¶å®ƒç´¢å¼•ä¸­çš„â€œéå”¯ä¸€ç´¢å¼•â€æ˜¯å¯ä»¥ç”¨çš„è¿™ä¸ªæœºåˆ¶çš„ï¼›<br><br>ç¬¬äºŒæ®µï¼Œä½ æœå‡ºæ¥çš„è¿™ä¸ªä¸å¤ªå®Œæ•´ã€‚æ˜¯è¿™æ ·çš„ï¼Œchange bufferçš„å‰èº«æ˜¯insert buffer,åªèƒ½å¯¹insert æ“ä½œä¼˜åŒ–ï¼›åæ¥å‡çº§äº†ï¼Œå¢åŠ äº†update&#47;deleteçš„æ”¯æŒï¼Œåå­—ä¹Ÿæ”¹å«change buffer.<br><br><br><br>","user_name":"ä½œè€…å›å¤","comment_id":45897,"uid":"1264162","ip_address":"","utype":1,"ctime":1543819217,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":19,"race_medal":0,"score":"9.2233724893702001e+18","product_id":100020801,"comment_content":"æ„Ÿè§‰ä»Šå¤©è¿™ç¯‡é—®é¢˜å¾ˆä¸¥é‡å•Š, é¦–å…ˆè¯´ä¸€ä¸‹æˆ‘æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦ change bufferè¿™ä¸ªæ¦‚å¿µ, å¯èƒ½äº§ç”Ÿäº†ä»€ä¹ˆè¯¯ä¼š..<br>æˆ‘ç†è§£çš„æ–‡ä¸­è®²è¿°change bufferçš„ä½œç”¨ä½“ç°åœ¨ é’ˆå¯¹æ™®é€šç´¢å¼•(éä¸»é”®çš„éƒ½æ˜¯äºŒçº§ç´¢å¼•, äºŒçº§ç´¢å¼•åˆåŒ…æ‹¬äº†å”¯ä¸€ç´¢å¼•å’Œæ™®é€šç´¢å¼•)åœ¨æœ‰æ•°æ®updateæ“ä½œ(ä¸åŒ…æ‹¬insert)çš„æ—¶å€™,èƒ½æœ‰å‡å°‘ioå†™æ“ä½œçš„åŠŸèƒ½, è€Œä¸”è¿™ä¸ªæ“ä½œæ˜¯æç°åœ¨æ›´æ–°è¡¨æ•°æ®ä¸Šçš„. ä¸ºä»€ä¹ˆæˆ‘åœ¨è¿™é‡Œä¼šç†è§£æˆupdateæ“ä½œå‘¢.. (InnoDBä¸­è¡¨å°±æ˜¯æŒ‰ç´¢å¼•çš„æ–¹å¼å­˜æ”¾çš„, å³ä½¿æˆ‘ä»¬ä¸ä¸»åŠ¨åˆ›å»ºä¸»é”® ä¹Ÿä¼šç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„row_idæ¥å½“åšä¸»é”®, æ„å‘³ç€è¡¨ä¸€å®šæ˜¯æœ‰ä¸€ä¸ªä¸»é”®, å³å”¯ä¸€ç´¢å¼•. insertæ“ä½œ ä¸€å®šä¼šæ¶‰åŠä¸»é”®ç´¢å¼•çš„å˜åŠ¨, æ‰€ä»¥change bufferé’ˆå¯¹ insert æ˜¯å®Œå…¨æ²¡æœ‰ç”¨çš„å—??) <br><br>é’ˆå¯¹change buffer æˆ‘ç™¾åº¦äº†ä¸€ä¸‹, æœ‰æ–‡ç« æè¿° change buffer æ˜¯é’ˆå¯¹è¡¨ä¸­åŒ…å«æ™®é€šç´¢å¼•çš„è¡¨åœ¨insertæ“ä½œæ—¶, ä¼˜åŒ– æ™®é€šç´¢å¼•çš„æ›´æ–°(åœ¨insertæ—¶,ä¸ä¼šç«‹å³æ›´æ–°æ™®é€šç´¢å¼• è€Œæ˜¯ä¿å­˜åˆ°change bufferå»¶è¿Ÿå¤„ç†). è¿™ä¹ˆä¸€ä¸ªåŠŸèƒ½. ä¸çŸ¥é“ è¿™ä¸ªç†è§£æ˜¯å¦æ­£ç¡®å‘¢?","like_count":105,"discussions":[{"author":{"id":1601661,"avatar":"","nickname":"GEEKBANG_8559966","note":"","ucode":"C3C87C3D7164FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":404882,"discussion_content":"æˆ‘è¯´è¯´æˆ‘çš„ç†è§£ï¼Œé¦–å…ˆå…ˆæ˜ç¡®ä¸‹å‡ ç‚¹ï¼Œ1.å‡å¦‚æ’å…¥æˆ–è€…ä¿®æ”¹ä¸€æ¡æ•°æ®ï¼Œé‚£å°±å¾—ç»´æŠ¤æ‰€æœ‰çš„ç´¢å¼•ã€‚ 2.ä¸»é”®ç´¢å¼•å¶å­èŠ‚ç‚¹å­˜çš„æ˜¯åŒ…å«è¡Œçš„é¡µï¼ŒäºŒçº§ç´¢å¼•å¶å­èŠ‚ç‚¹å­˜çš„æ˜¯åŒ…å«ä¸»é”®çš„é¡µã€‚å‡å¦‚ç°åœ¨æœ‰å¼ è¡¨(a,b,c) ,å…¶ä¸­aæ˜¯å”¯ä¸€ç´¢å¼•ï¼Œbæ˜¯éå”¯ä¸€ç´¢å¼•ï¼Œcæ˜¯æ™®é€šæ— ç´¢å¼•çš„åˆ—ã€‚å‡å¦‚ç°åœ¨insetä¸€æ¡æ•°æ®ï¼Œæ•°æ®åº“ä¼šä¸ºæˆ‘ä»¬éšå½¢çš„åˆ›å»ºä¸€ä¸ªä¸»é”®idï¼Œå¯¹äºä¸»é”®æ¥è¯´ï¼Œæ¯‹åº¸ç½®ç–‘ï¼Œä½ ä¸€å®šè¦å®šä½åˆ°è¿™ä¸ªæ•°æ®é¡µåœ¨å“ªé‡Œï¼Œå› ä¸ºè¿™è¡Œæ•°æ®è¦è½åœ¨è¿™ä¸ªæ•°æ®é¡µä¸Šï¼Œå¹¶ä¸”è¿˜è¦åˆ¤æ–­ä¸»é”®å†²çªçš„é—®é¢˜ï¼Œæ‰€ä»¥ä»–ä¸èƒ½ä½¿ç”¨change buffer,ç„¶åå°±åœ¨redologé‡Œé¢è®°å½•æ•°æ®é¡µpageI1æ’å…¥ä¸€æ¡æ•°æ®ï¼Œåˆ°è¿™é‡Œä¸»é”®ç´¢å¼•å·²ç»ç»´æŠ¤å®Œäº†ï¼Œä½†æ˜¯è¿˜è¦ç»´æŠ¤å…¶ä»–ç´¢å¼•ï¼ˆaï¼Œbï¼‰ã€‚æ¥ç€é€šè¿‡æ’å…¥çš„aå€¼åœ¨aç´¢å¼•ä¸Šæ‰¾ï¼Œåˆ°å¶å­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œå‘ç°è¿™ä¸ªå¶å­èŠ‚ç‚¹çš„é¡µä¸åœ¨å†…å­˜ï¼Œå› ä¸ºaæ˜¯å”¯ä¸€ç´¢å¼•ï¼Œé‚£æ²¡è¾™ï¼Œè¿˜æ˜¯å¾—è¯»è¿™å—é¡µä¸Šçš„å†…å®¹ï¼Œå¯¹æ¯”ä¸‹ï¼Œè¿™ä¸ªæ—¶å€™æœ‰æ²¡æœ‰å”¯ä¸€ç´¢å¼•å†²çªä¹‹ç±»çš„ï¼Œæ‰€ä»¥è¿˜æ˜¯å¾—åŠ è½½è¿™å—æ•°æ®é¡µpageA1ï¼Œæ²¡é—®é¢˜çš„è¯å†™åˆ°redologï¼ˆpageA1ï¼‰ã€‚å¯¹äºbï¼Œä»–æ˜¯éå”¯ä¸€ç´¢å¼•ï¼Œå®šä½åˆ°bè¿™ä¸ªå¶å­èŠ‚ç‚¹ï¼Œä¸éœ€è¦åˆ¤æ–­ï¼Œä»–çš„æ•°æ®é¡µä¸åœ¨å†…å­˜ï¼Œç›´æ¥è®°å½•åˆ°channebuffer,ç„¶åå†™redolog (pageB1)ã€‚æ’ä¸€æ¡æ•°æ®ï¼Œå†™ä¸‰æ¬¡redologæ˜¯å› ä¸ºä¸‰ä¸ªpageå€¼æ˜¯ä¸ä¸€æ ·çš„å‘€ï¼ŒpageI1è®°å¾—æ˜¯è¡Œï¼ŒpageA1å³çš„æ˜¯aå’Œä¸»é”®ï¼ŒpageB1è®°å¾—æ˜¯bå’Œä¸»é”®ã€‚æˆ‘çŒœçš„","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1634446936,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431260,"discussion_content":"ç¬¬ä¸€æ®µçš„ç†è§£ä¸å‡†ç¡®å“ˆã€‚\ninsertçš„æ—¶å€™ï¼Œå†™ä¸»é”®æ˜¯è‚¯å®šä¸èƒ½ç”¨change bufferäº†ï¼Œä½†æ˜¯åŒæ—¶ä¹Ÿä¼šè¦å†™å…¶å®ƒç´¢å¼•ï¼Œè€Œå…¶å®ƒç´¢å¼•ä¸­çš„â€œéå”¯ä¸€ç´¢å¼•â€æ˜¯å¯ä»¥ç”¨çš„è¿™ä¸ªæœºåˆ¶çš„ï¼›\n\nç¬¬äºŒæ®µï¼Œä½ æœå‡ºæ¥çš„è¿™ä¸ªä¸å¤ªå®Œæ•´ã€‚æ˜¯è¿™æ ·çš„ï¼Œchange bufferçš„å‰èº«æ˜¯insert buffer,åªèƒ½å¯¹insert æ“ä½œä¼˜åŒ–ï¼›åæ¥å‡çº§äº†ï¼Œå¢åŠ äº†update/deleteçš„æ”¯æŒï¼Œåå­—ä¹Ÿæ”¹å«change buffer.\n\n\n\n","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1543819217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1293877,"avatar":"https://static001.geekbang.org/account/avatar/00/13/be/35/dd79037e.jpg","nickname":"a...Z","note":"","ucode":"5A5A44903785FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":70513,"discussion_content":"ç½®é¡¶çš„ç¬¬ä¸€æ¡å’Œè¿™æ¡è¯´æ˜ update å’Œdeleteçš„æ—¶å€™ æœ‰whereæ¡ä»¶çš„æ—¶å€™,ä¹Ÿç”¨ä¸åˆ°change buffer","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1575364067,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":9,"child_discussions":[{"author":{"id":1061748,"avatar":"https://static001.geekbang.org/account/avatar/00/10/33/74/d9d143fa.jpg","nickname":"silentyears","note":"","ucode":"6E137BFEB874CA","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1293877,"avatar":"https://static001.geekbang.org/account/avatar/00/13/be/35/dd79037e.jpg","nickname":"a...Z","note":"","ucode":"5A5A44903785FD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":190563,"discussion_content":"åŒé—®ï¼Œè¿™ä¸ªchange bufferåšçš„é’ˆå¯¹update å’Œ deleteçš„å‡çº§æ˜¯ä»€ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582960268,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":70513,"ip_address":""},"score":190563,"extra":""},{"author":{"id":1697605,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/KUWZH9adGNsjZ6m9hYh6ttoibgcUnaplS7XGlYuyUybLpdLPZDB56QAlzfQ8wSfs8Pd1T9RiaY7sYibD2wgrCo0UQ/132","nickname":"xyh","note":"","ucode":"CD0C45A63F434E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1293877,"avatar":"https://static001.geekbang.org/account/avatar/00/13/be/35/dd79037e.jpg","nickname":"a...Z","note":"","ucode":"5A5A44903785FD","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335681,"discussion_content":"ä¸æ˜¯æœ‰whereæ¡ä»¶çš„æ—¶å€™ç”¨ä¸åˆ°ï¼Œè€Œæ˜¯change bufferå°±æ˜¯ä¸ºäº†å»¶è¿Ÿæ›´æ–°æ•°æ®çš„æ—¶å€™å¯¹äºŒçº§ç´¢å¼•çš„æ›´æ–°ï¼Œè€Œç½®é¡¶ç¬¬ä¸€æ¡è¯´çš„æƒ…å†µæ˜¯where ç´¢å¼•å€¼=ï¼Œå°±æ˜¯ç”¨çš„äºŒçº§ç´¢å¼•æ¥æ›´æ–°çš„ï¼Œæ›´æ–°ä¹‹å‰å¾—å…ˆæŠŠäºŒçº§ç´¢å¼•çš„æ ‘è¯»å‡ºæ¥ï¼Œæ—¢ç„¶å·²ç»è¯»å‡ºæ¥äº†ï¼Œå°±å¯ä»¥ç›´æ¥æ›´æ–°äº†ï¼Œæ²¡å¿…è¦ç”¨change bufferäº†","likes_number":13,"is_delete":false,"is_hidden":false,"ctime":1608270658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":70513,"ip_address":""},"score":335681,"extra":""},{"author":{"id":1526355,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","nickname":"moonfox","note":"","ucode":"902BFF40EFA9FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1697605,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/KUWZH9adGNsjZ6m9hYh6ttoibgcUnaplS7XGlYuyUybLpdLPZDB56QAlzfQ8wSfs8Pd1T9RiaY7sYibD2wgrCo0UQ/132","nickname":"xyh","note":"","ucode":"CD0C45A63F434E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336948,"discussion_content":"æ„æ€å°±æ˜¯update table set ç´¢å¼•åˆ—A =aaa where ç´¢å¼•åˆ—B= bbb çš„æ—¶å€™ï¼Œç´¢å¼•åˆ—Aå¯ä»¥ç”¨åˆ°ï¼Œå¯¹ä¹ˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1608732041,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":335681,"ip_address":""},"score":336948,"extra":""}]},{"author":{"id":1601661,"avatar":"","nickname":"GEEKBANG_8559966","note":"","ucode":"C3C87C3D7164FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":404883,"discussion_content":"æ‰€ä»¥æˆ‘è§‰å¾—ï¼Œè¿™channge buffer å¯èƒ½æ˜¯å¯¹é‚£ç§ä¸€å¼ è¡¨æœ‰å¾ˆå¤šçš„éå”¯ä¸€ç´¢å¼•çš„ä½œç”¨æ›´ä¸ºæ˜æ˜¾ ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1634447129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1003956,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/51/b4/0d402ae8.jpg","nickname":"å—æ¡¥ç•‚ç¿Š","note":"","ucode":"A97C49A6309A42","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":21266,"discussion_content":"change buffer é’ˆå¯¹è¡¨ä¸­åŒ…å«æ™®é€šç´¢å¼•çš„è¡¨åœ¨insertæ“ä½œæ—¶, ä¼˜åŒ– æ™®é€šç´¢å¼•çš„æ›´æ–°(åœ¨insertæ—¶,ä¸ä¼šç«‹å³æ›´æ–°æ™®é€šç´¢å¼• è€Œæ˜¯ä¿å­˜åˆ°change bufferå»¶è¿Ÿå¤„ç†)","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1569460901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1134688,"avatar":"https://static001.geekbang.org/account/avatar/00/11/50/60/7c954c92.jpg","nickname":"Tan","note":"","ucode":"D261A69A889696","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":326171,"discussion_content":"å†™ä¸»é”®ç´¢å¼•è‚¯å®šæ˜¯ç”¨ä¸ä¸Šäº†ï¼Œä½†å†™å…¶ä»–æ™®é€šç´¢å¼•å°±ç”¨å¾—ä¸Šäº†ï¼Œæ‰€ä»¥å¦‚æœæŠŠæ™®é€šç´¢å¼•æ”¹æˆäº†å”¯ä¸€ç´¢å¼•ï¼Œé‚£è¿™ä¸ªä¹Ÿç”¨ä¸ä¸Šäº†ã€‚æ‰€ä»¥ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605536507,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1179312,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/b0/260f41f0.jpg","nickname":"loris","note":"","ucode":"00842745CF4B31","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":50258,"discussion_content":"insert æ—¶å€™è¦å†™ä¸»é”®ï¼Œå†™ä¸»é”®è¿™ä¸ªchange bufferè‚¯å®šç”¨ä¸ä¸Šäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573697308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1225224,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","nickname":"å°”å†¬æ©™","note":"","ucode":"0B013A49BC18DA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":3672,"discussion_content":"insertæ—¶ï¼Œæ•°æ®ä¹Ÿä¸æ˜¯ä¼šè¯»å…¥å†…å­˜ä¹ˆï¼Œæ‰€æœ‰ç´¢å¼•ä¸€èµ·å†™ä¸å°±è¡Œäº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564683481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1334527,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/WuVCibYmuGqFLnfIrr0BmkdzHwkialB0DibJ0YnymNNO2Wicy76ZxSvjD66sPVsd9SjkicSS4Z2iadTeOn7zGfwh9sxg/132","nickname":"çµçŠ€andy","note":"","ucode":"3C3C36B070676C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1225224,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","nickname":"å°”å†¬æ©™","note":"","ucode":"0B013A49BC18DA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":109478,"discussion_content":"insert ä¸»é”®ç´¢å¼•çš„æ•°æ®ä¼šè¯»å…¥å†…å­˜ã€‚å¦‚æœæœ‰éå”¯ä¸€æ™®é€šç´¢å¼•çš„è¯ï¼Œå¯ä»¥èµ°change buffer","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1577696977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":3672,"ip_address":""},"score":109478,"extra":""},{"author":{"id":2028954,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/f5/9a/63dc81a2.jpg","nickname":"Geek1185","note":"","ucode":"47BEE492EF4C1A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1225224,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","nickname":"å°”å†¬æ©™","note":"","ucode":"0B013A49BC18DA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332636,"discussion_content":"ä¸æ˜¯åŒä¸€å—ç£ç›˜çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607272803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":3672,"ip_address":""},"score":332636,"extra":""}]}]},{"had_liked":false,"id":48022,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":true,"comment_ctime":1544323978,"is_pvip":false,"replies":[{"id":"17138","content":"ç³»ç»Ÿè¡¨ç©ºé—´å°±æ˜¯ç”¨æ¥æ”¾ç³»ç»Ÿä¿¡æ¯çš„ï¼Œæ¯”å¦‚æ•°æ®å­—å…¸ä»€ä¹ˆçš„ï¼Œå¯¹åº”çš„ç£ç›˜æ–‡ä»¶æ˜¯ibdata1, <br>æ•°æ®è¡¨ç©ºé—´å°±æ˜¯ä¸€ä¸ªä¸ªçš„è¡¨æ•°æ®æ–‡ä»¶ï¼Œå¯¹åº”çš„ç£ç›˜æ–‡ä»¶å°±æ˜¯ è¡¨å.ibd","user_name":"ä½œè€…å›å¤","comment_id":48022,"uid":"1264162","ip_address":"","utype":1,"ctime":1544354272,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":4,"race_medal":0,"score":"9.2233723734065009e+18","product_id":100020801,"comment_content":"æƒ³è¯·æ•™ä¸€ä¸‹è€å¸ˆç³»ç»Ÿè¡¨ç©ºé—´è·Ÿæ•°æ®è¡¨ç©ºé—´è¿™ä¸¤ä¸ªæ¦‚å¿µå„æ˜¯ä»€ä¹ˆæ„æ€.","like_count":79,"discussions":[{"author":{"id":1521451,"avatar":"https://static001.geekbang.org/account/avatar/00/17/37/2b/b32f1d66.jpg","nickname":"Ball","note":"","ucode":"1EE949E68D84CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":311251,"discussion_content":"è¡¥å……ä¸€ä¸‹ï¼ŒMySQL é…ç½®æ–‡ä»¶ file_per_table é€‰é¡¹æ‰“å¼€æ•°æ®è¡¨ç©ºé—´æ‰æ˜¯ç‹¬ç«‹çš„ï¼Œæ¯å¼ è¡¨ä¸€ä¸ª ibd æ–‡ä»¶ã€‚\nå¦‚æœæ²¡æ‰“å¼€ï¼Œæ‰€æœ‰çš„è¡¨æ•°æ®éƒ½åœ¨ä¸€ä¸ª ibdata æ–‡ä»¶é‡Œã€‚\né€‰é¡¹åç§°ä¸ä¸€å®šå‡†ç¡®ï¼Œä½†æ˜¯æ„æ€æˆ‘è¡¨è¾¾æ¸…æ¥šäº†ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1602291230,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431990,"discussion_content":"ç³»ç»Ÿè¡¨ç©ºé—´å°±æ˜¯ç”¨æ¥æ”¾ç³»ç»Ÿä¿¡æ¯çš„ï¼Œæ¯”å¦‚æ•°æ®å­—å…¸ä»€ä¹ˆçš„ï¼Œå¯¹åº”çš„ç£ç›˜æ–‡ä»¶æ˜¯ibdata1, \næ•°æ®è¡¨ç©ºé—´å°±æ˜¯ä¸€ä¸ªä¸ªçš„è¡¨æ•°æ®æ–‡ä»¶ï¼Œå¯¹åº”çš„ç£ç›˜æ–‡ä»¶å°±æ˜¯ è¡¨å.ibd","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1544354272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2355521,"avatar":"https://static001.geekbang.org/account/avatar/00/23/f1/41/76c0758f.jpg","nickname":"å›æˆ˜","note":"","ucode":"A8619A79A5CED9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":347947,"discussion_content":"show variables like &#39;%innodb_file_per_table%&#39;;","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1612395937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1657561,"avatar":"https://static001.geekbang.org/account/avatar/00/19/4a/d9/b8046b4b.jpg","nickname":"zhangm365","note":"","ucode":"60E7DEFB3F5840","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":395212,"discussion_content":"è¯·é—®ä¸‹ è¿™é‡Œä¸ºä»€ä¹ˆä¼šè®¾è®¡ç³»ç»Ÿè¡¨ç©ºé—´ï¼Ÿæœ‰ä»€ä¹ˆç”¨å•Šï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632272437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45849,"user_name":"çº¦ä¹¦äºš","can_delete":false,"product_type":"c1","uid":1046714,"ip_address":"","ucode":"81EA27ADD9EC1A","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f8/ba/14e05601.jpg","comment_is_top":true,"comment_ctime":1543803312,"is_pvip":false,"replies":[{"id":"16650","content":"1 3 å¥½é—®é¢˜<br><br>1. é”æ˜¯ä¸€ä¸ªå•ç‹¬çš„æ•°æ®ç»“æ„ï¼Œå¦‚æœæ•°æ®é¡µä¸Šæœ‰é”ï¼Œchange buffer åœ¨åˆ¤æ–­â€œæ˜¯å¦èƒ½ç”¨â€çš„æ—¶å€™ï¼Œå°±ä¼šè®¤ä¸ºå¦<br><br>2. å¢åŠ <br><br>3. æ˜¯è¿™æ ·çš„ï¼Œè¿™ä¸ªé—®é¢˜ä½ åˆ†æˆä¸¤æ­¥æ¥è€ƒè™‘ã€‚<br>ç¬¬ä¸€æ­¥ï¼Œmergeå…¶å®æ˜¯ä»ç£ç›˜è¯»æ•°æ®é¡µåˆ°å†…å­˜ï¼Œç„¶ååº”ç”¨ï¼Œè¿™ä¸€æ­¥éƒ½æ˜¯æ›´æ–°çš„å†…å­˜ï¼ŒåŒæ—¶å†™redolog<br><br>ç°åœ¨å†…å­˜å˜æˆè„é¡µäº†ï¼Œè·Ÿç£ç›˜æ•°æ®ä¸ä¸€æ ·ã€‚ä¹‹åå°±èµ°åˆ·è„é¡µçš„æµç¨‹ã€‚åˆ·è„é¡µä¹Ÿä¸ç”¨å†™ã€‚<br><br><br>=====<br><br>æ˜¯å¦ä½¿ç”¨å”¯ä¸€ç´¢å¼•ï¼Œè¿™ä¸ªè¦çœ‹ä¸šåŠ¡æœ‰æ²¡æœ‰ä¿è¯ï¼Œå’Œæ€§èƒ½æ˜¯å¦æœ‰é—®é¢˜ã€‚<br><br>æœ‰å‡ ä½åŒå­¦éƒ½æäº†ï¼Œæˆ‘åŠ åˆ°æ–‡æœ«è¯´æ˜ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","comment_id":45849,"uid":"1264162","ip_address":"","utype":1,"ctime":1543946827,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":24,"race_medal":0,"score":"9.2233722531469005e+18","product_id":100020801,"comment_content":"æ—©ï¼Œè¯·æ‚¨çœ‹çœ‹æˆ‘ä»¥ä¸‹ç–‘é—®ï¼š<br>1. çœ‹å®Œåæ„Ÿè§‰ç‰µæ‰¯åˆ°ä¹‹å‰çš„å†…å®¹ï¼Œåˆç³Šæ¶‚äº†ã€‚change bufferç›¸å½“äºæ¨è¿Ÿäº†æ›´æ–°æ“ä½œï¼Œé‚£å¯¹å¹¶å‘æ§åˆ¶ç›¸å…³çš„æ˜¯å¦æœ‰å½±å“ï¼Œæ¯”å¦‚åŠ é”ï¼Ÿæˆ‘ä¸€ç›´ä»¥ä¸ºåŠ é”éœ€è¦æŠŠå…·ä½“çš„æ•°æ®é¡µè¯»åˆ°å†…å­˜ä¸­æ¥ï¼Œæ‰èƒ½åŠ é”ï¼Œç„¶è€Œå¹¶ä¸æ˜¯ï¼Ÿ<br>2. åœ¨change bufferä¸­æœ‰æ­¤è¡Œè®°å½•çš„æƒ…å†µä¸‹ï¼Œå†æ¬¡æ›´æ”¹ï¼Œæ˜¯å¢åŠ ä¸€æ¡è¿˜æ˜¯åŸåœ°ä¿®æ”¹ï¼Ÿ<br>3. purgeè¡Œä¸ºä¹‹ååº”è¯¥ä¸ä¼šå†äº§ç”Ÿredo logäº†å§ï¼Ÿ<br><br>ä»åº”ç”¨å¼€å‘çš„è§’åº¦çœ‹ï¼Œè¿˜æ˜¯ç”±æ•°æ®åº“ä¿è¯å”¯ä¸€å¥½ã€‚","like_count":50,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431239,"discussion_content":"1 3 å¥½é—®é¢˜\n\n1. é”æ˜¯ä¸€ä¸ªå•ç‹¬çš„æ•°æ®ç»“æ„ï¼Œå¦‚æœæ•°æ®é¡µä¸Šæœ‰é”ï¼Œchange buffer åœ¨åˆ¤æ–­â€œæ˜¯å¦èƒ½ç”¨â€çš„æ—¶å€™ï¼Œå°±ä¼šè®¤ä¸ºå¦\n\n2. å¢åŠ \n\n3. æ˜¯è¿™æ ·çš„ï¼Œè¿™ä¸ªé—®é¢˜ä½ åˆ†æˆä¸¤æ­¥æ¥è€ƒè™‘ã€‚\nç¬¬ä¸€æ­¥ï¼Œmergeå…¶å®æ˜¯ä»ç£ç›˜è¯»æ•°æ®é¡µåˆ°å†…å­˜ï¼Œç„¶ååº”ç”¨ï¼Œè¿™ä¸€æ­¥éƒ½æ˜¯æ›´æ–°çš„å†…å­˜ï¼ŒåŒæ—¶å†™redolog\n\nç°åœ¨å†…å­˜å˜æˆè„é¡µäº†ï¼Œè·Ÿç£ç›˜æ•°æ®ä¸ä¸€æ ·ã€‚ä¹‹åå°±èµ°åˆ·è„é¡µçš„æµç¨‹ã€‚åˆ·è„é¡µä¹Ÿä¸ç”¨å†™ã€‚\n\n\n=====\n\næ˜¯å¦ä½¿ç”¨å”¯ä¸€ç´¢å¼•ï¼Œè¿™ä¸ªè¦çœ‹ä¸šåŠ¡æœ‰æ²¡æœ‰ä¿è¯ï¼Œå’Œæ€§èƒ½æ˜¯å¦æœ‰é—®é¢˜ã€‚\n\næœ‰å‡ ä½åŒå­¦éƒ½æäº†ï¼Œæˆ‘åŠ åˆ°æ–‡æœ«è¯´æ˜ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543946827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":2824858,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/1a/9a/f2f9f5dd.jpg","nickname":"æå¤é¾™","note":"","ucode":"68346B996EE22B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":536071,"discussion_content":"ç¬¬ä¸€æ­¥ï¼Œmergeå…¶å®æ˜¯ä»ç£ç›˜è¯»æ•°æ®é¡µåˆ°å†…å­˜ï¼Œç„¶ååº”ç”¨ï¼Œè¿™ä¸€æ­¥éƒ½æ˜¯æ›´æ–°çš„å†…å­˜ï¼ŒåŒæ—¶å†™redolog\n\nè¯·é—®æ—è€å¸ˆï¼Œredologåº”è¯¥æ˜¯åœ¨commitçš„æ—¶å€™å°±å†™äº†å§ï¼Œmerge çš„æ—¶å€™è¿˜éœ€è¦å†™ redolog å—ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1638674704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":431239,"ip_address":""},"score":536071,"extra":""},{"author":{"id":2925110,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/a2/36/c6c3fc17.jpg","nickname":"clearä¸¶ç®€","note":"","ucode":"6E23DA0B4F8D84","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":584322,"discussion_content":"é‚£updateã€insertã€deleteä¸æ˜¯éƒ½ä¼šåŠ é”å—ï¼Ÿè¿™ä¹ˆè¯´éƒ½ä¸èƒ½ç”¨change bufferï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660746598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":431239,"ip_address":"æµ™æ±Ÿ"},"score":584322,"extra":""}]},{"author":{"id":1547667,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","nickname":"æœ´ç´ æŸ æª¬c","note":"","ucode":"2D4CBB70D801B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":244505,"discussion_content":"mergeçš„æ—¶å€™ redologä¸æ˜¯å·²ç»è®°å½•äº†ä¹‹å‰çš„change bufferæ“ä½œäº†å—ï¼Œä¸ºå•¥è¿˜è¦å†™redolog,é‚£ä¹‹å‰å†™å…¥redologä¸­çš„changebufferæ“ä½œæ€ä¹ˆå¤„ç†ï¼Ÿ","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1587607078,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1110677,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f2/95/538d0348.jpg","nickname":"wrp000000","note":"","ucode":"4860119F2276FE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1547667,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","nickname":"æœ´ç´ æŸ æª¬c","note":"","ucode":"2D4CBB70D801B1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586816,"discussion_content":"ä¹‹å‰çš„changebufferçš„redologæ˜¯ä¸ºäº†ä¿è¯changebufferçš„æ­£å¸¸å†™å…¥ï¼Œmergeä¹‹åè®°å½•redologæ˜¯ä¸ºäº†ä¿è¯meigeçš„æ­£å¸¸ï¼Œå¯ä»¥è¯•æƒ³ï¼Œå¦‚æœmergeä¹‹åæ²¡æœ‰redologï¼Œåœ¨è„é¡µåˆ·æ–°ä¹‹å‰å®•æœºäº†ï¼Œè¿™æ—¶å…¶å®æ•°æ®æ˜¯ä¸¢å¤±çš„äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662529132,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":244505,"ip_address":"å®‰å¾½"},"score":586816,"extra":""},{"author":{"id":1911661,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDOKcx20Xxmu5j8WxiafoYvo3bIAFDg8OeicRic1icD597QuMC9O8FyV2Al9RxNfVZXK0gkGUx6M3CVQ/132","nickname":"å¤šå¹´ä»¥å","note":"","ucode":"D70E7A1ABE0F39","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1110677,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f2/95/538d0348.jpg","nickname":"wrp000000","note":"","ucode":"4860119F2276FE","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587908,"discussion_content":"æ²¡æ˜ç™½ è¿™ä¸æ˜¯è®°å½•é‡å¤äº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663386507,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":586816,"ip_address":"æ¹–åŒ—"},"score":587908,"extra":""}]},{"author":{"id":1116934,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKR4f3mAqslFT42Cp95y62vClKsDbIiaAgQh7vMcc58K2jc1BWnovkBJMDTWuREcA9TWbtbGUtVqjQ/132","nickname":"å¼ æ™¨è¾‰","note":"","ucode":"50710F2CE6594F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287974,"discussion_content":"change Buffer é’ˆå¯¹çš„å¯¹è±¡æ˜¯ç´¢å¼•é¡µï¼Œé”æ˜¯åŠ åœ¨æ•°æ®é¡µä¸Šçš„å§ã€‚æŒ‰ç…§è€å¸ˆçš„å›å¤ï¼Œå¦‚æœæ›´æ–°çš„æ—¶å€™å‘ç°æ•°æ®é¡µå·²ç»æœ‰é”äº†ï¼Œchange Bufferè‡ªç„¶ä¼šå¤±æ•ˆ æ‰¾åˆ°ä¸€ä¸ªä¾‹å­ https://www.lizenghai.com/archives/43575.html","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1593604670,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1874999,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/9c/37/253ea895.jpg","nickname":"æˆ‘ä¸æ˜¯ç å†œ","note":"","ucode":"EB4BB711CC54B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554446,"discussion_content":"å¯¹äºç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ä¸æ˜¯è¿™æ ·çš„ï¼Œåº”ç”¨change bufferä¹‹å‰ä¼šåˆ¤æ–­å½“å‰sqlèƒ½ä¸èƒ½è·å–é”ï¼Œä¸èƒ½è·å–é”ç›´æ¥å°±é˜»å¡äº†ï¼Œèƒ½è·å–é”å†ç»§ç»­ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646383168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2604432,"avatar":"https://static001.geekbang.org/account/avatar/00/27/bd/90/99ab3369.jpg","nickname":"å±€å¤–äºº","note":"","ucode":"B8E2ED7A8ABE11","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393273,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631335577,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2365806,"avatar":"https://static001.geekbang.org/account/avatar/00/24/19/6e/6c6fbea8.jpg","nickname":"choice","note":"","ucode":"AF8D36D7084CA1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352514,"discussion_content":"å°†æ›´æ–°æ“ä½œè®°å½•åˆ°change bufferæ—¶è®°å½•redologï¼Œè¿™æ—¶redologè®°å½•çš„æ˜¯changebufferçš„å˜åŠ¨ï¼›mergeçš„æ—¶å€™ï¼Œredologè®°å½•çš„æ˜¯å†…å­˜ä¸­çš„æ•°æ®é¡µå’Œchangebufferï¼ˆè¿™æ—¶åº”è¯¥æ˜¯æ›´æ–°changebufferä¸­å·²ç»åº”ç”¨çš„æ“ä½œçš„çŠ¶æ€å§ï¼‰ã€‚redologä¸­è®°å½•ä¸¤éƒ¨åˆ†ä¿¡æ¯çš„å˜åŒ–ï¼Œ1ã€å†…å­˜ä¸­æ•°æ®é¡µçš„å˜åŒ–ï¼›2ã€changebufferçš„å˜åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614759730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312348,"discussion_content":"æ™•äº†,ä¸æ‡‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602668392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1695207,"avatar":"https://static001.geekbang.org/account/avatar/00/19/dd/e7/0d923009.jpg","nickname":"Geek_Winy","note":"","ucode":"BEE395FC91E131","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":32566,"discussion_content":"å“¦ï¼Œåº”è¯¥æ˜¯mergeçš„redo-logï¼Œè®°å½•çš„æ˜¯è¿™æ¬¡çš„â€œmergeæ“ä½œâ€äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571048011,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1179312,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/b0/260f41f0.jpg","nickname":"loris","note":"","ucode":"00842745CF4B31","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1695207,"avatar":"https://static001.geekbang.org/account/avatar/00/19/dd/e7/0d923009.jpg","nickname":"Geek_Winy","note":"","ucode":"BEE395FC91E131","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":50262,"discussion_content":"mergeçš„æ—¶å€™ä¸å†™redo logäº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573697588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":32566,"ip_address":""},"score":50262,"extra":""},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1179312,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/b0/260f41f0.jpg","nickname":"loris","note":"","ucode":"00842745CF4B31","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":149770,"discussion_content":"å†™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579778388,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":50262,"ip_address":""},"score":149770,"extra":""}]},{"author":{"id":1695207,"avatar":"https://static001.geekbang.org/account/avatar/00/19/dd/e7/0d923009.jpg","nickname":"Geek_Winy","note":"","ucode":"BEE395FC91E131","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":32519,"discussion_content":"ç–‘æƒ‘çš„æ˜¯åœ¨å†™å…¥changed bufferçš„æ—¶å€™ï¼Œå°±å†™å…¥äº†redo-logäº†ï¼›ç­‰ä¸‹æ¬¡mergeçš„æ—¶å€™ï¼Œåˆå†ä¸€æ¬¡åœ°å†™å…¥redo-logï¼Œä¸ä¼šé‡å¤ä¹ˆï¼Œæ¯”å¦‚åšçš„æ“ä½œæ˜¯x=x+1;æ•°æ®åº“å´©æºƒæ¢å¤ï¼Œä¸æ˜¯ä¼šä»redo-logåšä¸¤æ¬¡è¯¥æ“ä½œä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571043951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":9,"child_discussions":[{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1695207,"avatar":"https://static001.geekbang.org/account/avatar/00/19/dd/e7/0d923009.jpg","nickname":"Geek_Winy","note":"","ucode":"BEE395FC91E131","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":111251,"discussion_content":"æˆ‘æ„Ÿè§‰mergeçš„æ—¶å€™åº”è¯¥ä¸æ˜¯å†™redologäº†ï¼Œè€Œæ˜¯æ¥æ›´æ–°redologçš„çŠ¶æ€ï¼ˆç±»ä¼¼æ ‡è®°ä¸ºmergeå®Œæˆï¼‰,è¿™é‡Œä¹Ÿæœ‰äº›æœ¦æœ¦èƒ§èƒ§ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577788112,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":32519,"ip_address":""},"score":111251,"extra":""},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1695207,"avatar":"https://static001.geekbang.org/account/avatar/00/19/dd/e7/0d923009.jpg","nickname":"Geek_Winy","note":"","ucode":"BEE395FC91E131","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149774,"discussion_content":"è°è¯´å†™å…¥change bufferå°±å†™å…¥redo logäº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579778549,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":32519,"ip_address":""},"score":149774,"extra":""},{"author":{"id":1335293,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKR3ibELhjgVicCNShZCBwvaDxibnzibggG4wUzVkS2mkDxUBZyIs87nDEdJ7PiahJBVoZcuhQ84RxAziag/132","nickname":"å‘¨æ²»æ…§","note":"","ucode":"7D56C4E66BEE17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":184880,"discussion_content":"ä¸å†™redo log,change bufferä¸­çš„æ•°æ®åˆ™ä¼šä¸¢å¤± æ›´æ–°æ“ä½œåˆ™ä¸¢å¤±äº† éœ€è¦é€šè¿‡redo logæ¥ä¿è¯change bufferæœªåˆ·æ–°åˆ°ibdataä¸­çš„æ•°æ®","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1582582494,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":149774,"ip_address":""},"score":184880,"extra":""}]}]},{"had_liked":false,"id":47153,"user_name":"åŒ…å­æœ¨æœ‰é¦…","can_delete":false,"product_type":"c1","uid":1318851,"ip_address":"","ucode":"9B8712D4DC7471","user_header":"https://static001.geekbang.org/account/avatar/00/14/1f/c3/1ef2bccf.jpg","comment_is_top":false,"comment_ctime":1544064683,"is_pvip":true,"replies":[{"id":"16835","content":"éå¸¸å¥½ï¼Œå°¤å…¶æ‹¬å·é‡Œé‚£å¥å’Œæœ€åä¸€å¥","user_name":"ä½œè€…å›å¤","comment_id":47153,"uid":"1264162","ip_address":"","utype":1,"ctime":1544071411,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":25,"race_medal":0,"score":"834767720107","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘è¯´ä¸‹æˆ‘çš„ç†è§£ï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰é—®é¢˜<br>1ã€changebufferè·Ÿæ™®é€šæ•°æ®é¡µä¸€æ ·ä¹Ÿæ˜¯å­˜åœ¨ç£ç›˜é‡Œï¼ŒåŒºåˆ«åœ¨äºchangebufferæ˜¯åœ¨å…±äº«è¡¨ç©ºé—´ibdata1é‡Œ<br>2ã€redologæœ‰ä¸¤ç§ï¼Œä¸€ç§è®°å½•æ™®é€šæ•°æ®é¡µçš„æ”¹åŠ¨ï¼Œä¸€ç§è®°å½•changebufferçš„æ”¹åŠ¨<br>3ã€åªè¦å†…å­˜é‡Œè„é¡µï¼ˆinnodb buffer poolï¼‰é‡Œçš„æ•°æ®å‘ç”Ÿäº†å˜åŒ–ï¼Œå°±ä¸€å®šä¼šè®°å½•2ä¸­å‰ä¸€ç§redolog<br>ï¼ˆå¯¹æ•°æ®çš„ä¿®æ”¹è®°å½•åœ¨changebufferé‡Œçš„æ—¶å€™ï¼Œå†…å­˜é‡Œæ˜¯æ²¡æœ‰è¿™ä¸ªç‰©ç†é¡µçš„ï¼Œä¸å­˜åœ¨è„é¡µï¼‰<br>3ã€çœŸæ­£å¯¹ç£ç›˜æ•°æ®é¡µçš„ä¿®æ”¹æ˜¯é€šè¿‡å°†å†…å­˜é‡Œè„é¡µçš„æ•°æ®åˆ·å›ç£ç›˜æ¥å®Œæˆçš„ï¼Œè€Œä¸æ˜¯æ ¹æ®redolog","like_count":194,"discussions":[{"author":{"id":1010957,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/6d/0d/e3fa096f.jpg","nickname":"æ‹“","note":"","ucode":"AC1940ECC25436","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":160709,"discussion_content":"ä¼¼æ‡‚éæ‡‚çš„æ„Ÿè§‰ï¼Œå¸Œæœ›è®²å¾—æ›´é€å½»ç‚¹","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1580824510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149789,"discussion_content":"è¯´çš„ä»€ä¹ˆç©æ„å„¿ï¼Œredo logè¿˜åˆ†ä¸¤ç§ï¼Ÿchange bufferè®°å½•åœ¨redo logä¸­ï¼Ÿä¸æ˜¯è®°å½•åœ¨buffer poolé‡Œé¢å—ï¼Ÿä½œè€…æ€ä¹ˆè¿˜è¯´éå¸¸å¥½ï¼Œèƒ½è®²çš„é€å½»ç‚¹å„¿å—ï¼Ÿ","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1579779430,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1207854,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6e/2e/008b5481.jpg","nickname":"è·¯è¿‡çš„çŒª","note":"","ucode":"5CC5FEB7977289","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":179981,"discussion_content":"redoæ—¥å¿—æœ‰åˆ†å‡ åç§ç±»å‹çš„ã€‚redoåšçš„äº‹æƒ…ï¼Œç®€å•è®²å°±æ˜¯è®°å½•é¡µçš„å˜åŒ–ï¼ˆWALå°†é¡µå˜åŒ–çš„ä¹±åºå†™è½¬æ¢æˆäº†é¡ºåºå†™ï¼‰ã€‚é¡µæ˜¯åˆ†å¤šç§çš„ï¼Œæ¯”å¦‚ B+æ ‘ç´¢å¼•é¡µï¼ˆä¸»é”® / äºŒçº§ç´¢å¼•ï¼‰ã€undoé¡µï¼ˆæ•°æ®çš„å¤šç‰ˆæœ¬MVCCï¼‰ã€ä»¥åŠç°åœ¨çš„change bufferé¡µç­‰ç­‰ï¼Œè¿™äº›é¡µè¢«redoè®°å½•åï¼Œå°±å¯ä»¥ä¸ç€æ€¥åˆ·ç›˜äº†ã€‚change bufferè®°å½•ç´¢å¼•é¡µçš„å˜åŒ–ï¼›ä½†æ˜¯change bufferæœ¬èº«ä¹Ÿæ˜¯è¦æŒä¹…åŒ–çš„ï¼Œè€Œå®ƒæŒä¹…åŒ–çš„å·¥ä½œå’Œå…¶ä»–é¡µä¸€æ ·ï¼Œäº¤ç»™äº†redoæ—¥å¿—æ¥å¸®å¿™å®Œæˆï¼›redoæ—¥å¿—è®°å½•çš„æ˜¯change bufferé¡µçš„å˜åŒ–ã€‚\nchange bufferæŒä¹…åŒ–æ–‡ä»¶æ˜¯ ibdata1ï¼Œç´¢å¼•é¡µæŒä¹…åŒ–æ–‡ä»¶æ˜¯ t.ibdã€‚","likes_number":100,"is_delete":false,"is_hidden":false,"ctime":1582267769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":149789,"ip_address":""},"score":179981,"extra":""},{"author":{"id":1543040,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8b/80/8702bd5f.jpg","nickname":"evan","note":"","ucode":"491B073D5AFEDE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1207854,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6e/2e/008b5481.jpg","nickname":"è·¯è¿‡çš„çŒª","note":"","ucode":"5CC5FEB7977289","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319764,"discussion_content":"å“‡ é€šäº†é€šäº†æ„Ÿè°¢å¤§ä½¬.. è¯­è¨€è¡¨è¾¾èƒ½åŠ›çš„å…‰è¾‰..","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1604115137,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":179981,"ip_address":""},"score":319764,"extra":""},{"author":{"id":1020492,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/92/4c/40783447.jpg","nickname":"ä½•éª§","note":"","ucode":"11DCC74CE2F300","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1207854,"avatar":"https://static001.geekbang.org/account/avatar/00/12/6e/2e/008b5481.jpg","nickname":"è·¯è¿‡çš„çŒª","note":"","ucode":"5CC5FEB7977289","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390918,"discussion_content":"é†é†çŒé¡¶ï¼å¾ˆå¼º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630140906,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":179981,"ip_address":""},"score":390918,"extra":""}]},{"author":{"id":1179312,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fe/b0/260f41f0.jpg","nickname":"loris","note":"","ucode":"00842745CF4B31","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":50269,"discussion_content":"redo logé‡Œçš„æ•°æ®ä¹Ÿè¦å…ˆæ¢å¤åˆ°å†…å­˜ï¼Œç„¶åäº‹åŠ¡æäº¤æˆ–å›æ»š","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1573698123,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1037190,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/d3/86/b5d72c87.jpg","nickname":"Zhaoyang","note":"","ucode":"131D83AC2566D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":129901,"discussion_content":"æˆ‘å¹¶æ²¡æœ‰çœ‹æ‡‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1578744104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1335293,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKR3ibELhjgVicCNShZCBwvaDxibnzibggG4wUzVkS2mkDxUBZyIs87nDEdJ7PiahJBVoZcuhQ84RxAziag/132","nickname":"å‘¨æ²»æ…§","note":"","ucode":"7D56C4E66BEE17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1037190,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/d3/86/b5d72c87.jpg","nickname":"Zhaoyang","note":"","ucode":"131D83AC2566D2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":184884,"discussion_content":"å’‹ä¸æ‡‚äº†\n1.è¯´çš„change bufferå’Œredo logåˆ·æ–°åˆ°ç£ç›˜æ–‡ä¸­å­˜å‚¨çš„ä½ç½®ä¸åŒ,ibdataå’Œt.ibd\n2.redo logè®°å½•å†…å­˜ä¸­æ•°æ®é¡µçš„å˜æ›´åŒæ—¶ä¹Ÿè¦è®°å½•change bufferçš„å˜æ›´,å› ä¸ºchange bufferçš„æ“ä½œæ˜¯ä¸ä¼šå°†ç£ç›˜ä¸­çš„æ•°æ®è¯»å–åˆ°å†…å­˜ä¸­è¿›è¡Œä¿®æ”¹,ä¹Ÿå°±æ˜¯è¯´å†…å­˜ä¸­ä¸å­˜åœ¨è¯¥æ•°æ®çš„è„é¡µ,é‚£ä¸ºäº†ä¿è¯æ›´æ–°æ“ä½œæ˜¯å­˜åœ¨åˆ™éœ€è¦é€šè¿‡redo logæ¥è®°å½•,é˜²æ­¢æ›´æ–°æ“ä½œçš„ä¸¢å¤±æ¯”å¦‚å®•æœºåä¿è¯æ›´æ–°æ“ä½œæœ‰\n3.å½“mysqlæœªå®•æœºæ—¶,redo logå†™æ»¡åéœ€è¦ç§»åŠ¨check pointç‚¹æ—¶,é€šè¿‡åˆ¤æ–­å†…å­˜ä¸­æ•°æ®å’Œç£ç›˜æ˜¯å¦ä¸€è‡´å³æ˜¯å¦æ˜¯è„é¡µæ¥åˆ·æ–°åˆ°ç£ç›˜ä¸­;å½“mysqlå®•æœºåæ²¡æœ‰å†…å­˜å³æ²¡æœ‰è„é¡µ,é€šè¿‡redo logæ¥æ¢å¤","likes_number":30,"is_delete":false,"is_hidden":false,"ctime":1582583359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":129901,"ip_address":""},"score":184884,"extra":""}]},{"author":{"id":2860954,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/wfRD8vz9zQDYgxwSqW6jnpIcQ3guZUE6EQuVXM5Wribtp9wDlJLO8SG76CCPEdmDviaTK99iarvTYLxJw71bKdeXw/132","nickname":"CheerJia","note":"","ucode":"5A2E4A956816C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546356,"discussion_content":"çœ‹æ¥è¿˜æ˜¯æˆ‘ç†è§£ä¸å¤Ÿï¼Œé‡Œé¢è¿˜æ˜¯å¾ˆå¤š è¡¨ç©ºé—´ï¼Œè¡¨æ•°æ®æ¦‚å¿µä¸å¤ªæ‡‚ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1642304609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431682,"discussion_content":"éå¸¸å¥½ï¼Œå°¤å…¶æ‹¬å·é‡Œé‚£å¥å’Œæœ€åä¸€å¥","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1544071411,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2131215,"avatar":"https://static001.geekbang.org/account/avatar/00/20/85/0f/5cb822d6.jpg","nickname":"shadow","note":"","ucode":"64DCFAEC37EFBC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301364,"discussion_content":"æ‰€ä»¥redolog çš„crash safeèƒ½åŠ›å°±æ˜¯æ¢å¤å†…å­˜çš„è„é¡µã€‚è€Œ change bufferä¸­çš„è®°å½•ä¸æ˜¯è„é¡µï¼Œä½†ä¹Ÿæ˜¯é redoæ¢å¤ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1598502718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2131215,"avatar":"https://static001.geekbang.org/account/avatar/00/20/85/0f/5cb822d6.jpg","nickname":"shadow","note":"","ucode":"64DCFAEC37EFBC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312351,"discussion_content":"redo log é‡æ”¾,ä½¿å†…å­˜å˜è„\nchange buffer ä¸è„,ä¸è¿‡mergeæ“ä½œä¼šå˜è„","likes_number":14,"is_delete":false,"is_hidden":false,"ctime":1602668750,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":301364,"ip_address":""},"score":312351,"extra":""}]},{"author":{"id":2893933,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/zwJKqvhjOj7nXBKmYW7Amvib4j26e0c7zKRg8GrEFlezicCzI61ABm7b1k75wiaib32TNicsfaV7otvRaC5RCIKCVwA/132","nickname":"å¤©æ®‡äº‘é›¾","note":"","ucode":"0BFDFA4218A2D4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578774,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657005622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1857149,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/08eYD2AQBX7ic0141IvkGicyqCB7BsIIvbTX3yq3whhOPnnAuYrrXiaCMw56SIkryM65MibVpia0kedyqILVBxBg8Vg/132","nickname":"å°¼é‡‡","note":"","ucode":"077188784E9B0D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548897,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643441769,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2770660,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/46/e4/0860c82f.jpg","nickname":"ä¸œæ³½","note":"","ucode":"7B621B43909E07","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":400883,"discussion_content":"Mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633453089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2604432,"avatar":"https://static001.geekbang.org/account/avatar/00/27/bd/90/99ab3369.jpg","nickname":"å±€å¤–äºº","note":"","ucode":"B8E2ED7A8ABE11","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393275,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631335979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1651441,"avatar":"https://static001.geekbang.org/account/avatar/00/19/32/f1/fd24d52b.jpg","nickname":"é’ç¦¾qingh","note":"","ucode":"453FC435B03790","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391228,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630341128,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1627397,"avatar":"https://static001.geekbang.org/account/avatar/00/18/d5/05/8fd8ca4c.jpg","nickname":"å¿«å¿«ä¹ä¹","note":"","ucode":"D093D8D5836FF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":342422,"discussion_content":"å…ˆmarkä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610678765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1210035,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqdsd8qbkOFkcKQO0EZzg3p7yEw6cGl47zJzGl12jHQgMUnKpMWib0ZnibRH4LZPYqhfkWH0oYt31mQ/132","nickname":"é›·é›·","note":"","ucode":"648204DABB1AD5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":328719,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606217049,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1140175,"avatar":"https://static001.geekbang.org/account/avatar/00/11/65/cf/326c0eea.jpg","nickname":"x-rayîŒº","note":"","ucode":"8363F0C4D0AC0B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":323624,"discussion_content":"æ„Ÿè°¢ä½ çš„è¯„è®ºï¼Œè®©æˆ‘çš„å…¶ä¸­ä¸€ä¸ªç–‘é—®è§£å†³äº†ï¼Œå³åˆ·è„é¡µè¡Œä¸ºä¸ä¼šç‰µæ‰¯åˆ°change bufferã€‚ä½†æˆ‘è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœredo log å†™æ»¡äº†ï¼Œchange bufferè¿˜æ²¡æœ‰mergeï¼Œè€Œredo log è¦æ“¦é™¤çš„éƒ¨åˆ†æ¶‰åŠåˆ°äº†change bufferï¼Œæ­¤æ—¶ï¼Œä¼šå¼ºè¡Œmergeå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604976464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1140175,"avatar":"https://static001.geekbang.org/account/avatar/00/11/65/cf/326c0eea.jpg","nickname":"x-rayîŒº","note":"","ucode":"8363F0C4D0AC0B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398695,"discussion_content":"æˆ‘è§‰å¾—ä¼šã€‚  redo log å†™æ»¡äº†ï¼Œ ä¼šå¼ºåˆ¶è§¦å‘checkpointï¼Œ å°†redo logå¯¹åº”çš„æ•°æ®è„é¡µåˆ·åˆ°ç£ç›˜ï¼Œ æ­¤æ—¶ ï¼Œ change bufferä¸­çš„ä¿¡æ¯ä¹Ÿä¼šåˆå…¥åˆ°å†…å­˜é¡µä¸­ä¸€èµ·åˆ·åˆ°ç£ç›˜ä¸­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632832611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":323624,"ip_address":""},"score":398695,"extra":""}]},{"author":{"id":1691243,"avatar":"https://static001.geekbang.org/account/avatar/00/19/ce/6b/ae7489a0.jpg","nickname":"Ccc","note":"","ucode":"EAEA0284948959","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":47947,"discussion_content":"æœ€åä¸€å¥ï¼šçœŸæ­£å¯¹ç£ç›˜æ•°æ®é¡µçš„ä¿®æ”¹æ˜¯é€šè¿‡å°†å†…å­˜é‡Œè„é¡µçš„æ•°æ®åˆ·å›ç£ç›˜æ¥å®Œæˆçš„ï¼Œè€Œä¸æ˜¯æ ¹æ®redolog\nå¦‚æœæ˜¯è¿™æ ·ï¼Œé‚£æ˜¯æ€ä¹ˆåšåˆ°crash-safeçš„å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573437370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":3,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1762252,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e3/cc/0947ff0b.jpg","nickname":"nestle","note":"","ucode":"469800BED81B54","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1691243,"avatar":"https://static001.geekbang.org/account/avatar/00/19/ce/6b/ae7489a0.jpg","nickname":"Ccc","note":"","ucode":"EAEA0284948959","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":75880,"discussion_content":"è¿›ç¨‹æ­£å¸¸å·¥ä½œçš„æƒ…å†µä¸‹æ˜¯å°†å†…å­˜æ•°æ®åˆ·ä¼šç£ç›˜ï¼Œå¦‚æœæ˜¯å´©æºƒååˆšå¯åŠ¨ï¼Œå†…å­˜æ ¹æœ¬æ²¡æœ‰è„é¡µï¼Œå°±åªèƒ½é redologäº†ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1575792418,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":47947,"ip_address":""},"score":75880,"extra":""},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1762252,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/e3/cc/0947ff0b.jpg","nickname":"nestle","note":"","ucode":"469800BED81B54","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":314683,"discussion_content":"å¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603185941,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":75880,"ip_address":""},"score":314683,"extra":""}]}]},{"had_liked":false,"id":45769,"user_name":"æ°¸å…‰","can_delete":false,"product_type":"c1","uid":1102702,"ip_address":"","ucode":"0C54531ABED1B0","user_header":"https://static001.geekbang.org/account/avatar/00/10/d3/6e/281b85aa.jpg","comment_is_top":false,"comment_ctime":1543792934,"is_pvip":false,"replies":[{"id":"16347","content":"ä¼˜ç§€","user_name":"ä½œè€…å›å¤","comment_id":45769,"uid":"1264162","ip_address":"","utype":1,"ctime":1543799971,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":8,"race_medal":0,"score":"495465031974","product_id":100020801,"comment_content":"ä¼šå¯¼è‡´change bufferä¸¢å¤±ï¼Œä¼šå¯¼è‡´æœ¬æ¬¡æœªå®Œæˆçš„æ“ä½œæ•°æ®ä¸¢å¤±ï¼Œä½†ä¸ä¼šå¯¼è‡´å·²å®Œæˆæ“ä½œçš„æ•°æ®ä¸¢å¤±ã€‚<br>1.change bufferä¸­åˆ†ä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯æœ¬æ¬¡å†™å…¥æœªå†™å®Œçš„ï¼Œä¸€éƒ¨åˆ†æ˜¯å·²ç»å†™å…¥å®Œæˆçš„ã€‚<br>2.é’ˆå¯¹æœªå†™å®Œçš„ï¼Œæ­¤éƒ¨åˆ†æ“ä½œï¼Œè¿˜æœªå†™å…¥redo logï¼Œå› æ­¤äº‹åŠ¡è¿˜æœªæäº¤ï¼Œæ‰€ä»¥æ²¡å½±å“ã€‚<br>2.é’ˆå¯¹ï¼Œå·²ç»å†™å®Œæˆçš„ï¼Œå¯ä»¥é€šè¿‡redo logæ¥è¿›è¡Œæ¢å¤ã€‚<br><br>æ‰€ä»¥ï¼Œä¸ä¼šå¯¹æ•°æ®åº“é€ æˆå½±å“ã€‚","like_count":115,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431202,"discussion_content":"ä¼˜ç§€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543799971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1615539,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI6LXcIqb5K48nia8d4zmdsD1M9AZeyXoGrLzX5xvqfN0fqXOsYKUWLbZvZ8TtJCXWmYbCkCXg93dQ/132","nickname":"æ¼è„šè„–","note":"","ucode":"214AE52EC201E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":188070,"discussion_content":"ä½ æœ€ä¼˜ç§€ï¼Œç®€æ´æ˜äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582793324,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1874999,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/9c/37/253ea895.jpg","nickname":"æˆ‘ä¸æ˜¯ç å†œ","note":"","ucode":"EB4BB711CC54B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554458,"discussion_content":"ä¼šä¸ä¼šå‡ºç°å†™redo logåªå†™äº†ä¸€åŠå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646388436,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1795793,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/zxkns28cIAUZIt3WjDb8G26qiccT84d9GMr9ZpbYR60TU1ibqSj9NoYVHlJvGF1kOltkqNDmEfJCqPuYVkue3WHg/132","nickname":"Geek_55e386","note":"","ucode":"5A727F1323C2D0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1874999,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/9c/37/253ea895.jpg","nickname":"æˆ‘ä¸æ˜¯ç å†œ","note":"","ucode":"EB4BB711CC54B6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":585253,"discussion_content":"å†™ä¸€åŠè‚¯å®šæ˜¯æœªæäº¤, ä¸šåŠ¡æ–¹ä¹Ÿæ²¡æ‹¿åˆ°æˆåŠŸå“åº”çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661423092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":554458,"ip_address":"æµ™æ±Ÿ"},"score":585253,"extra":""}]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312356,"discussion_content":"æ ¹æ®æ–‡ä¸­æè¿°,\næ‰§è¡Œé¡ºåº,å…ˆæ‰§è¡Œchange buffer,å†æ‰§è¡Œ redo log","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602669121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1559178,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/a5U0nqaicLy5ZJkESxBd5lMicNQcTTDK8vURyyWiabHxic7vS1VVk7HWTZg6ltyWJ3n9jb3Gq554ibfjsf7bv1v1Sdw/132","nickname":"åå¤§æ°å‡ºé’å¹´","note":"","ucode":"BAB4AA12604CF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":158622,"discussion_content":"æœªå†™å®Œçš„æ„æ€æ˜¯è¿˜æ²¡è½ç›˜ä¹ˆï¼Œè¿˜æ˜¯è¯´è¿å†…å­˜éƒ½æ²¡æœ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580608397,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1335293,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKR3ibELhjgVicCNShZCBwvaDxibnzibggG4wUzVkS2mkDxUBZyIs87nDEdJ7PiahJBVoZcuhQ84RxAziag/132","nickname":"å‘¨æ²»æ…§","note":"","ucode":"7D56C4E66BEE17","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1559178,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/a5U0nqaicLy5ZJkESxBd5lMicNQcTTDK8vURyyWiabHxic7vS1VVk7HWTZg6ltyWJ3n9jb3Gq554ibfjsf7bv1v1Sdw/132","nickname":"åå¤§æ°å‡ºé’å¹´","note":"","ucode":"BAB4AA12604CF6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":184893,"discussion_content":"æœªå†™å®Œçš„éƒ¨åˆ†åªçš„æ˜¯å†™å…¥äº†change buffer,ä½†æ˜¯æœªå†™å…¥redo log,å› ä¸ºæ²¡æœ‰commitä¹Ÿå°±æ²¡æœ‰change bufferåˆ·æ–°åˆ°ibdata","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1582584949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":158622,"ip_address":""},"score":184893,"extra":""},{"author":{"id":2206043,"avatar":"https://static001.geekbang.org/account/avatar/00/21/a9/5b/791d0f5e.jpg","nickname":"ä¸å·æ€ä¹ˆæé’±","note":"","ucode":"F01CA83CF99047","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1335293,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKR3ibELhjgVicCNShZCBwvaDxibnzibggG4wUzVkS2mkDxUBZyIs87nDEdJ7PiahJBVoZcuhQ84RxAziag/132","nickname":"å‘¨æ²»æ…§","note":"","ucode":"7D56C4E66BEE17","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312674,"discussion_content":"ä½ çš„æ„æ€æ˜¯commit äº†ï¼Œå°±ç«‹é©¬åˆ·ç›˜å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602766481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":184893,"ip_address":""},"score":312674,"extra":""}]}]},{"had_liked":false,"id":233820,"user_name":"ging_96","can_delete":false,"product_type":"c1","uid":1993133,"ip_address":"","ucode":"F8936FC04BBFFC","user_header":"https://static001.geekbang.org/account/avatar/00/1e/69/ad/0ba9f9f0.jpg","comment_is_top":false,"comment_ctime":1594463685,"is_pvip":false,"discussion_count":15,"race_medal":0,"score":"297947207109","product_id":100020801,"comment_content":"é¦–å…ˆæ˜ç¡®ä¸€ä¸ªè§‚ç‚¹ï¼Œredo logæœ€å¤§çš„ä½œç”¨ï¼Œå°±æ˜¯ç”¨äºæ•°æ®åº“å¼‚å¸¸å®•æœºçš„æ¢å¤å·¥ä½œã€‚<br>å¦‚æœæ•°æ®åº“æ°¸è¿œä¸ä¼šå®•æœºï¼Œé‚£ä¹ˆä¸éœ€è¦ redo logã€‚redo log å’Œ change bufferå…¶å®å…³æ³¨çš„æ˜¯ä¸¤ä¸ªäº‹æƒ…ï¼Œä¸èƒ½æ··ä¸ºä¸€è°ˆã€‚<br><br>å…¶æ¬¡ï¼Œæ•°æ®åº“ç¼“å†²æ± ä¸­æœ‰å¦‚ä¸‹å†…å®¹ï¼šæ•°æ®é¡µï¼Œç´¢å¼•é¡µï¼Œæ’å…¥ç¼“å†²ï¼Œç­‰ç­‰å…¶ä»–é¡µï¼ˆå…¶ä»–é¡µç›®å‰ä¸éœ€è¦äº†è§£ï¼‰ï¼Œæ•°æ®é¡µå¯ä»¥ç†è§£ä¸ºå¶å­èŠ‚ç‚¹ï¼Œç´¢å¼•é¡µå¯ä»¥ç†è§£ä¸ºéå¶å­èŠ‚ç‚¹ï¼Œæ’å…¥ç¼“å†²å°±æ˜¯è€å¸ˆè¿™èŠ‚è¯¾è®²çš„ change bufferã€‚<br><br>å½“åšinsert update deleteæ“ä½œæ—¶ï¼Œä¼šæ¶‰åŠåˆ°ä¸¤æ–¹é¢çš„æ›´æ–°ï¼Œä¸€ç±»æ˜¯ä¸»é”®ç´¢å¼•B+æ ‘ï¼Œå¦ä¸€ç±»çš„éä¸»é”®ç´¢å¼•B+æ ‘ã€‚é’ˆå¯¹ï¼Œä¸»é”®ç´¢å¼•B+æ ‘å’Œ éä¸»é”®ç´¢å¼•ä¸­çš„å”¯ä¸€ç´¢å¼•B+æ ‘ï¼Œå¦‚æœåœ¨å†…å­˜ä¸­ï¼Œç›´æ¥æ›´æ–°å†…å­˜ï¼›å¦‚æœä¸åœ¨å†…å­˜ï¼Œç›´æ¥ä»æ•°æ®åº“ä¸­è¯»å–é¡µåˆ°å†…å­˜ä¸­æ¥ï¼Œæ›´æ–°å†…å­˜å³å¯ã€‚é’ˆå¯¹éä¸»é”®ç´¢å¼•çš„æ™®é€šç´¢å¼•B+æ ‘ï¼Œå¦‚æœæ ‘åœ¨å†…å­˜ä¸­ï¼Œç›´æ¥æ›´æ–°å†…å­˜ï¼›å¦‚æœä¸åœ¨å†…å­˜ä¸­ï¼Œæ›´æ–°change bufferï¼Œç­‰åˆ°åé¢éœ€è¦ä½¿ç”¨è¿™ä¸ªæ ‘çš„æ—¶å€™ï¼Œä¼šä»ç£ç›˜ä¸­è¯»å–ï¼Œç„¶ååšmergeæ“ä½œã€‚<br><br>æœ‰åŒå­¦é—®ï¼Œåˆ°åº•æ˜¯ä¾æ®change bufferç£ç›˜è¿˜æ˜¯ä¾æ®redo logæ›´æ–°ç£ç›˜ï¼Œæˆ‘çš„å›ç­”æ˜¯ï¼Œä»–ä»¬éƒ½ä¸ä¼šç›´æ¥æ›´æ–°ç£ç›˜ï¼Œåˆ·æ–°ç£ç›˜çš„å·¥ä½œæ˜¯innodbå­˜å‚¨å¼•æ“ä¸­çš„çº¿ç¨‹å»åšçš„ã€‚redo logè´Ÿè´£çš„æ˜¯ å¼‚å¸¸å®•æœºçš„æ¢å¤ï¼›change bufferç”¨äº æé«˜æ™®é€šç´¢å¼•æ›´æ–°çš„æ€§èƒ½ã€‚","like_count":70,"discussions":[{"author":{"id":1993133,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/69/ad/0ba9f9f0.jpg","nickname":"ging_96","note":"","ucode":"F8936FC04BBFFC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":290423,"discussion_content":"ç»§ç»­è¡¥å……ä¸€ä¸‹ï¼Œåˆ·æ–°ç£ç›˜çš„å·¥ä½œæ˜¯innodbå­˜å‚¨å¼•æ“ä¸­çš„çº¿ç¨‹å»åšçš„ï¼Œå¹¶ä¸”ä¾æ®çš„æ˜¯æ•°æ®åº“ç¼“å†²æ± ä¸­çš„è„é¡µæ¥åšï¼Œæ—¢ä¸æ˜¯ä¾æ®redo logï¼Œä¹Ÿä¸æ˜¯ä¾æ®change bufferã€‚","likes_number":8,"is_delete":false,"is_hidden":false,"ctime":1594467099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1120025,"avatar":"https://static001.geekbang.org/account/avatar/00/11/17/19/46fcde38.jpg","nickname":"yonyoupht","note":"","ucode":"9B3AC96150B8AD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1993133,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/69/ad/0ba9f9f0.jpg","nickname":"ging_96","note":"","ucode":"F8936FC04BBFFC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297751,"discussion_content":"æ¸…æ™°æ˜äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597046800,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":290423,"ip_address":""},"score":297751,"extra":""},{"author":{"id":2694146,"avatar":"https://static001.geekbang.org/account/avatar/00/29/1c/02/5aa8b087.jpg","nickname":"WayneğŸ‘¿","note":"","ucode":"A8AD5481052D9F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1993133,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/69/ad/0ba9f9f0.jpg","nickname":"ging_96","note":"","ucode":"F8936FC04BBFFC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545871,"discussion_content":"å¦‚æœæ˜¯ä¸€å¥è„é¡µæ¥åšï¼Œé‚£åˆ·æ–°ç£ç›˜ä¹‹åï¼Œæ˜¯å¦‚ä½•æ›´æ–°redo logçš„checkpointå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642068611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":290423,"ip_address":""},"score":545871,"extra":""},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1993133,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/69/ad/0ba9f9f0.jpg","nickname":"ging_96","note":"","ucode":"F8936FC04BBFFC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587248,"discussion_content":"redoæœ¬èº«å°±æ˜¯å¯¹è„é¡µçš„æŒä¹…åŒ–ï¼Œåªæœ‰åˆ·è„äº†redoæ‰èƒ½åšæ¨è¿›ï¼Œæ€ä¹ˆèƒ½è¯´æ¯«æ— å…³ç³»äº†ã€‚æˆ‘çœ‹innodbå¼•æ“çš„ä¹¦å°±æœ‰æåˆ°åˆ·è„ä¹Ÿä¼šå› ä¸ºredoæ»¡è€Œè§¦å‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662906701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":290423,"ip_address":"å¹¿ä¸œ"},"score":587248,"extra":""}]},{"author":{"id":1601661,"avatar":"","nickname":"GEEKBANG_8559966","note":"","ucode":"C3C87C3D7164FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":404892,"discussion_content":"è¿™ç§æ„Ÿè§‰å°±åƒä¾¿ç§˜äº†ä¹‹åï¼Œæ¥äº†ä¸€åªå¼€å¡éœ²ã€‚å†è¯´ä¸€å¥ï¼Œredologä¸ä»…æ˜¯è§£å†³å®•æœºé—®é¢˜ï¼Œè¿˜è§£å†³äº†éšæœºioå»¶è¿Ÿå†™ï¼Œå˜é¡ºåºioçš„é—®é¢˜ï¼Œå˜ç›¸åŠ å¿«äº†é€Ÿåº¦","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1634452568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2604432,"avatar":"https://static001.geekbang.org/account/avatar/00/27/bd/90/99ab3369.jpg","nickname":"å±€å¤–äºº","note":"","ucode":"B8E2ED7A8ABE11","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393278,"discussion_content":"mark  \nchange bufferæ˜¯ç”¨æ¥ æ›´æ–° éä¸»é”®/å”¯ä¸€ç´¢å¼•çš„äºŒçº§ç´¢å¼•B+æ ‘çš„\nredolog æ˜¯ä¿éšœcrash-safeçš„ï¼Œæ‰€ä»¥ å¯¹äºchange bufferçš„ä¿å­˜è½åœ°ä¹Ÿè¦æœ‰ä¿éšœï¼Œæ‰€ä»¥ä¼šè®°å½•redolog","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1631337161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1722479,"avatar":"","nickname":"é©¬é’è‰³","note":"","ucode":"388E4689BED388","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303433,"discussion_content":"åˆ·æ–°è„é¡µçš„æ—¶å€™ä¼šä¼´éšç§»åŠ¨redo log çš„checkpointå—ï¼Ÿ  ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1599242143,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1526355,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","nickname":"moonfox","note":"","ucode":"902BFF40EFA9FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1722479,"avatar":"","nickname":"é©¬é’è‰³","note":"","ucode":"388E4689BED388","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336995,"discussion_content":"ä¸ä¼š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608741669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":303433,"ip_address":""},"score":336995,"extra":""},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1722479,"avatar":"","nickname":"é©¬é’è‰³","note":"","ucode":"388E4689BED388","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587249,"discussion_content":"ä¼šæ ‡è®°redo logçš„checkpointä½ç‚¹ï¼Œè¡¨ç¤ºè¿™éƒ¨åˆ†å¯å¤ç”¨ã€‚ä¸ªäººç†è§£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662906782,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":303433,"ip_address":"å¹¿ä¸œ"},"score":587249,"extra":""}]},{"author":{"id":1250580,"avatar":"https://static001.geekbang.org/account/avatar/00/13/15/14/21e0807e.jpg","nickname":"gm","note":"","ucode":"0E39AE5BE34E27","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537001,"discussion_content":"mk","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638932135,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2325111,"avatar":"https://static001.geekbang.org/account/avatar/00/23/7a/77/bb17e879.jpg","nickname":"å¾€äº‹,ä¼˜é›…è€Œå·²","note":"","ucode":"737776381821F7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533871,"discussion_content":"ç¬¬2è®²é‡Œè¯´ï¼Œæ²¡æœ‰å®•æœºçš„è¯æœ‰redo logçš„WALä¼˜åŒ–ï¼Œæ€ä¹ˆä¼šç”¨ä¸åˆ°å‘¢\nchange bufferé’ˆå¯¹çš„æ˜¯æœ‰ç´¢å¼•ä¸”æ˜¯æ™®é€šç´¢å¼•çš„æƒ…å†µï¼Œå…ˆæ ¹æ®ç´¢å¼•æ‰¾åˆ°å¯¹åº”çš„é¡µï¼Œå†å†™redo logï¼Œæœ‰äº†å¯¹åº”çš„é¡µï¼Œè‡ªç„¶æ¯”æ²¡æœ‰é¡µçš„æ›´æ–°è¦å¿«ã€‚\n\nredo logå…ˆæ›´æ–°çš„åº”è¯¥æ˜¯å†…å­˜ï¼Œæœ€ååˆ·ç›˜ã€‚\nä¸çŸ¥é“è¯´çš„å¯¹ä¸å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638002608,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1261530,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKDKsicmpne7xQNocwRQ80DDZ3CzjsDoVIcH0SBiaYzS056oVOx4pEeEVeCaXE3QtsjUIEI0x1xQVTw/132","nickname":"muggle","note":"","ucode":"D78087BCAD0860","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414273,"discussion_content":"ç¬¬äºŒç« ä¸­å¯¹redlogçš„chekpointæè¿°è¯´ï¼Œæ“¦é™¤è®°å½•å‰ï¼Œè¦æŠŠè®°å½•æ›´æ–°åˆ°æ•°æ®æ–‡ä»¶ï¼Œè¿™é‡Œè«éæ˜¯å°†change bufferä¸­çš„æ•°æ®æ›´æ–°åˆ°æ•°æ®æ–‡ä»¶ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636706556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2837603,"avatar":"","nickname":"Geek_18e6f5","note":"","ucode":"3700BC57DD6FF3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413333,"discussion_content":"å°è€å¼Ÿ666","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636448889,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2420723,"avatar":"https://static001.geekbang.org/account/avatar/00/24/ef/f3/2515c89d.jpg","nickname":"äº‘å¼€æœˆæ˜","note":"","ucode":"50BCE5A3E77159","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":347832,"discussion_content":"ç‰›é€¼ï¼Œå¤§ä½¬ç›´æ¥è§£ç­”äº†æˆ‘çš„ç–‘æƒ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612336086,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1813207,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/aa/d7/a417ad5b.jpg","nickname":"CharAt","note":"","ucode":"D7D44B48FC4E79","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":319859,"discussion_content":"æˆ‘å°±ä¸æ˜ç™½ï¼Œåœ¨æ’å…¥çš„æ—¶å€™æŒ‡å®šäº†ä¸»é”®ï¼Œä¼šå°†é¡µè¯»å–åˆ°å†…å­˜ä¸­ï¼Œè¿›è¡Œæ›´è¡Œå§ï¼Ÿè€Œä¸”inndeçš„ç»“æ„æ˜¯ä¸»é”®å’Œæ•°æ®æ˜¯åœ¨ä¸€èµ·çš„ã€‚é‚£ä¹ˆæ—¢ç„¶æ›´æ–°äº†æœ€æ–°æ•°æ®ï¼Œä¸ºä½•è¿˜éœ€è¦å¯¹äºŒçº§ç´¢å¼•è¿›è¡Œç¼“å­˜ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604146107,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46044,"user_name":"Ivan","can_delete":false,"product_type":"c1","uid":1302381,"ip_address":"","ucode":"57090A053A247F","user_header":"https://static001.geekbang.org/account/avatar/00/13/df/6d/44cf0de4.jpg","comment_is_top":false,"comment_ctime":1543838494,"is_pvip":false,"replies":[{"id":"16477","content":"ğŸ‘ğŸ¿","user_name":"ä½œè€…å›å¤","comment_id":46044,"uid":"1264162","ip_address":"","utype":1,"ctime":1543846186,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":12,"race_medal":0,"score":"276421745438","product_id":100020801,"comment_content":"å›ç­”ä¸€ä¸‹melonçš„é—®é¢˜ã€‚<br>change Bufferå’Œæ•°æ®é¡µä¸€æ ·ï¼Œä¹Ÿæ˜¯ç‰©ç†é¡µçš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œæ•°æ®ç»“æ„ä¹Ÿæ˜¯ä¸€é¢—B+æ ‘ï¼Œè¿™æ£µB+æ ‘æ”¾åœ¨å…±äº«è¡¨ç©ºé—´ä¸­ï¼Œé»˜è®¤ibdata1ä¸­ã€‚change buffer  å†™å…¥ç³»ç»Ÿè¡¨ç©ºé—´æœºåˆ¶åº”è¯¥å’Œæ™®é€šè¡¨çš„è„é¡µåˆ·æ–°åˆ°ç£ç›˜æ˜¯ç›¸åŒçš„æœºåˆ¶--Checkpointæœºåˆ¶ï¼›<br>ä¹‹æ‰€ä»¥change bufferè¦å†™å…¥ç³»ç»Ÿè¡¨ç©ºé—´ï¼Œæ˜¯ä¸ºäº†ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œchange bufferåšä¿®æ”¹æ—¶éœ€è¦å†™redoï¼Œåœ¨åšæ¢å¤æ—¶éœ€è¦æ ¹æ®redoæ¥æ¢å¤change bufferï¼Œè‹¥æ˜¯ä¸è¿›è¡Œchange bufferå†™å…¥ç³»ç»Ÿè¡¨ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯ä¸è¿›è¡ŒæŒä¹…åŒ–ï¼Œé‚£ä¹ˆåœ¨change bufferå†™å…¥å†…å­˜åæ‰ç”µï¼ˆä¹Ÿå°±æ˜¯ç¯‡å°¾æå‡ºçš„é—®é¢˜ï¼‰ï¼Œåˆ™æ— æ³•è¿›è¡Œæ•°æ®æ¢å¤ã€‚è¿™æ ·ä¹Ÿä¼šå¯¼è‡´ç´¢å¼•ä¸­çš„æ•°æ®å’Œç›¸åº”è¡¨çš„ç›¸åº”åˆ—ä¸­çš„æ•°æ®ä¸ä¸€è‡´ã€‚<br>change buffer å†™å…¥åˆ°äº†ç³»ç»Ÿè¡¨ç©ºé—´ï¼Œpurge çš„æ—¶å€™ä¼šå…ˆæŸ¥è¯¢change bufferé‡Œå¯¹åº”çš„è®°å½•ï¼Œç„¶åè¿›è¡Œpurgeï¼Œå› ä¸ºchange buffer B+æ ‘çš„keyæ˜¯è¡¨ç©ºé—´IDï¼Œæ‰€ä»¥æŸ¥è¯¢æ ¹æ®è¡¨ç©ºé—´ID æŸ¥è¯¢change bufferä¼šå¾ˆå¿«ã€‚","like_count":64,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431315,"discussion_content":"ğŸ‘ğŸ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543846186,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1364141,"avatar":"https://static001.geekbang.org/account/avatar/00/14/d0/ad/584a4aa1.jpg","nickname":"NieXY","note":"","ucode":"C131B9A44CB55C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":147971,"discussion_content":"æœ‰ä¸ªç–‘é—®ï¼Œå°±ç®—change bufferä¸å†™å…¥ç³»ç»Ÿè¡¨ç©ºé—´ï¼Œå†™å…¥å†…å­˜æ‰ç”µåä¸æ˜¯ä¸€æ ·èƒ½å¤Ÿé€šè¿‡redologæ¥æ¢å¤å—ï¼Ÿæ¯•ç«Ÿredologé‡Œé¢æœ‰è®°å½•æ›´æ–° change buffer çš„æ—¥å¿—ã€‚èƒ½å¦è§£ç­”ä¸€ä¸‹ï¼Ÿ","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1579683772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":6,"child_discussions":[{"author":{"id":1302381,"avatar":"https://static001.geekbang.org/account/avatar/00/13/df/6d/44cf0de4.jpg","nickname":"Ivan","note":"","ucode":"57090A053A247F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1364141,"avatar":"https://static001.geekbang.org/account/avatar/00/14/d0/ad/584a4aa1.jpg","nickname":"NieXY","note":"","ucode":"C131B9A44CB55C","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":189585,"discussion_content":"redologæ˜¯ç‰©ç†æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯â€œæŸä¸ªæ•°æ®é¡µä¸Šåšçš„ä»€ä¹ˆå˜æ›´â€ï¼Œchange bufferåªå†™å…¥å†…å­˜ï¼Œæ‰ç”µååœ¨å¯åŠ¨ï¼Œå†…å­˜æ˜¯ç©ºçš„ï¼Œredologæ˜¯æ²¡åŠæ³•æ¢å¤çš„ã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1582893296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":147971,"ip_address":""},"score":189585,"extra":""},{"author":{"id":1123171,"avatar":"https://static001.geekbang.org/account/avatar/00/11/23/63/4fb6fee0.jpg","nickname":"æ·±ç™½è‰²","note":"","ucode":"C4B26AB70D8A6D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1302381,"avatar":"https://static001.geekbang.org/account/avatar/00/13/df/6d/44cf0de4.jpg","nickname":"Ivan","note":"","ucode":"57090A053A247F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202164,"discussion_content":"æ‰€æœ‰change bufferéƒ½è®°å½•åœ¨redoä¸­ï¼Œé‡å¯ä¸€æ ·å¯ä»¥æ¢å¤å•Šï¼Œä¸ªäººè§‚ç‚¹ï¼šredoæ˜¯æœ‰å¤§å°é™åˆ¶çš„ï¼Œé‡‡ç”¨å¾ªç¯å†™ï¼Œä¼šå­˜åœ¨è¦†ç›–çš„æƒ…å†µï¼Œredoä¸­å¹¶ä¸èƒ½ä¿å­˜æ‰€æœ‰çš„change bufferï¼Œæ‰€ä»¥æ‰éœ€è¦æŒä¹…åŒ–ï¼Ÿå¦‚æœæ˜¯è¿™æ ·ï¼Œredoåœ¨è¦†ç›–çš„æ—¶å€™æŠŠä¹‹å‰çš„change bufferè¿›è¡Œmergeæ“ä½œï¼Œæ˜¯ä¸æ˜¯change bufferå°±å¯ä»¥ä¸ç”¨æŒä¹…åŒ–äº†ï¼Ÿ","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1583885106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":189585,"ip_address":""},"score":202164,"extra":""},{"author":{"id":1357311,"avatar":"https://static001.geekbang.org/account/avatar/00/14/b5/ff/d1f205b0.jpg","nickname":"L","note":"","ucode":"5B847B2378854E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1364141,"avatar":"https://static001.geekbang.org/account/avatar/00/14/d0/ad/584a4aa1.jpg","nickname":"NieXY","note":"","ucode":"C131B9A44CB55C","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":313088,"discussion_content":"åŒé—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602935841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":147971,"ip_address":""},"score":313088,"extra":""}]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312361,"discussion_content":"ä¸æ˜¯å¤ªæ‡‚,\nä¸ºå•¥change buffer ä¸æŒä¹…åŒ–çš„æƒ…å†µä¸‹,ä½†æ˜¯è®°å½•äº†redo log,\nå´©æºƒæ¢å¤çš„æ—¶å€™ä¸èƒ½é€šè¿‡redo log è¿›è¡Œæ¢å¤å‘¢?","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1602669560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2546239,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqUP1oawANUYEHD8XmDgt0rvcYXWKDOAZT4h6W50UiadpJ51icLhZibS2qpia8eSibUuOsTrKtxfBRN2Lg/132","nickname":"runoob","note":"","ucode":"86B22C4FF45703","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":365061,"discussion_content":"redo logå¾ªç¯å†™çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1617698706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":312361,"ip_address":""},"score":365061,"extra":""},{"author":{"id":1518795,"avatar":"","nickname":"Geek_2ac804","note":"","ucode":"EDF69B20030BB8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554239,"discussion_content":"å› ä¸ºredologè®°å½•çš„æ˜¯æ•°æ®é¡µçš„æ”¹åŠ¨ï¼Œå¦‚æœåœ¨ç£ç›˜ä¸Šéƒ½æ²¡æœ‰æŒä¹…åŒ–è¿‡ï¼Œä½•æ¥æ•°æ®é¡µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646278017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":312361,"ip_address":""},"score":554239,"extra":""}]},{"author":{"id":2604432,"avatar":"https://static001.geekbang.org/account/avatar/00/27/bd/90/99ab3369.jpg","nickname":"å±€å¤–äºº","note":"","ucode":"B8E2ED7A8ABE11","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393276,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631336624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45833,"user_name":"å£¹ç¬™â˜æ¼‚æ³Š","can_delete":false,"product_type":"c1","uid":1092577,"ip_address":"","ucode":"3A0B8EC881665C","user_header":"https://static001.geekbang.org/account/avatar/00/10/ab/e1/f6b921fa.jpg","comment_is_top":false,"comment_ctime":1543801606,"is_pvip":false,"replies":[{"id":"16387","content":"èµğŸ‘ğŸ¿<br><br>ä¸ä¼šä¸¢å¤±è¿˜æœ‰redologçš„åŠŸåŠ³å“ˆ","user_name":"ä½œè€…å›å¤","comment_id":45833,"uid":"1264162","ip_address":"","utype":1,"ctime":1543809439,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":10,"race_medal":0,"score":"254946872070","product_id":100020801,"comment_content":"å‰ä¸¤æ¬¡å­¦äº†ä¹‹åæ²¡æ—¶é—´æ€»ç»“ã€‚ã€‚ä»Šå¤©ç»§ç»­<br>æ€»ç»“:<br>é€‰æ‹©æ™®é€šç´¢å¼•è¿˜æ˜¯å”¯ä¸€ç´¢å¼•ï¼Ÿ<br>å¯¹äºæŸ¥è¯¢è¿‡ç¨‹æ¥è¯´ï¼š<br>aã€æ™®é€šç´¢å¼•ï¼ŒæŸ¥åˆ°æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªè®°å½•åï¼Œç»§ç»­æŸ¥æ‰¾ä¸‹ä¸€ä¸ªè®°å½•ï¼ŒçŸ¥é“ç¬¬ä¸€ä¸ªä¸æ»¡è¶³æ¡ä»¶çš„è®°å½•<br>bã€å”¯ä¸€ç´¢å¼•ï¼Œç”±äºç´¢å¼•å”¯ä¸€æ€§ï¼ŒæŸ¥åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„è®°å½•åï¼Œåœæ­¢æ£€ç´¢<br>ä½†æ˜¯ï¼Œä¸¤è€…çš„æ€§èƒ½å·®è·å¾®ä¹å…¶å¾®ã€‚å› ä¸ºInnoDBæ ¹æ®æ•°æ®é¡µæ¥è¯»å†™çš„ã€‚<br>å¯¹äºæ›´æ–°è¿‡ç¨‹æ¥è¯´ï¼š<br>æ¦‚å¿µï¼šchange buffer<br>å½“éœ€è¦æ›´æ–°ä¸€ä¸ªæ•°æ®é¡µï¼Œå¦‚æœæ•°æ®é¡µåœ¨å†…å­˜ä¸­å°±ç›´æ¥æ›´æ–°ï¼Œå¦‚æœä¸åœ¨å†…å­˜ä¸­ï¼Œåœ¨ä¸å½±å“æ•°æ®ä¸€è‡´æ€§çš„å‰æä¸‹ï¼ŒInnoDBä¼šå°†è¿™äº›æ›´æ–°æ“ä½œç¼“å­˜åœ¨change bufferä¸­ã€‚ä¸‹æ¬¡æŸ¥è¯¢éœ€è¦è®¿é—®è¿™ä¸ªæ•°æ®é¡µçš„æ—¶å€™ï¼Œå°†æ•°æ®é¡µè¯»å…¥å†…å­˜ï¼Œç„¶åæ‰§è¡Œchange bufferä¸­çš„ä¸è¿™ä¸ªé¡µæœ‰å…³çš„æ“ä½œã€‚<br><br>change bufferæ˜¯å¯ä»¥æŒä¹…åŒ–çš„æ•°æ®ã€‚åœ¨å†…å­˜ä¸­æœ‰æ‹·è´ï¼Œä¹Ÿä¼šè¢«å†™å…¥åˆ°ç£ç›˜ä¸Š<br><br>purge:å°†change bufferä¸­çš„æ“ä½œåº”ç”¨åˆ°åŸæ•°æ®é¡µä¸Šï¼Œå¾—åˆ°æœ€æ–°ç»“æœçš„è¿‡ç¨‹ï¼Œæˆä¸ºpurge<br>è®¿é—®è¿™ä¸ªæ•°æ®é¡µä¼šè§¦å‘purgeï¼Œç³»ç»Ÿæœ‰åå°çº¿ç¨‹å®šæœŸpurgeï¼Œåœ¨æ•°æ®åº“æ­£å¸¸å…³é—­çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿä¼šæ‰§è¡Œpurge<br><br>å”¯ä¸€ç´¢å¼•çš„æ›´æ–°ä¸èƒ½ä½¿ç”¨change buffer<br><br>change bufferç”¨çš„æ˜¯buffer poolé‡Œçš„å†…å­˜ï¼Œchange bufferçš„å¤§å°ï¼Œå¯ä»¥é€šè¿‡å‚æ•°innodb_change_buffer_max_sizeæ¥åŠ¨æ€è®¾ç½®ã€‚è¿™ä¸ªå‚æ•°è®¾ç½®ä¸º50çš„æ—¶å€™ï¼Œè¡¨ç¤ºchange bufferçš„å¤§å°æœ€å¤šåªèƒ½å ç”¨buffer poolçš„50%ã€‚<br><br>å°†æ•°æ®ä»ç£ç›˜è¯»å…¥å†…å­˜æ¶‰åŠéšæœºIOçš„è®¿é—®ï¼Œæ˜¯æ•°æ®åº“é‡Œé¢æˆæœ¬æœ€é«˜çš„æ“ä½œä¹‹ä¸€ã€‚ <br>change buffer å› ä¸ºå‡å°‘äº†éšæœºç£ç›˜è®¿é—®ï¼Œæ‰€ä»¥å¯¹æ›´æ–°æ€§èƒ½çš„æå‡å¾ˆæ˜æ˜¾ã€‚<br><br>change bufferä½¿ç”¨åœºæ™¯<br>åœ¨ä¸€ä¸ªæ•°æ®é¡µåšpurgeä¹‹å‰ï¼Œchange bufferè®°å½•çš„å˜æ›´è¶Šå¤šï¼Œæ”¶ç›Šå°±è¶Šå¤§ã€‚<br>å¯¹äºå†™å¤šè¯»å°‘çš„ä¸šåŠ¡æ¥è¯´ï¼Œé¡µé¢åœ¨å†™å®Œä»¥åé©¬ä¸Šè¢«è®¿é—®åˆ°çš„æ¦‚ç‡æ¯”è¾ƒå°ï¼Œæ­¤æ—¶change bufferçš„ä½¿ç”¨æ•ˆæœæœ€å¥½ã€‚è¿™ç§ä¸šåŠ¡æ¨¡å‹å¸¸è§çš„å°±æ˜¯è´¦å•ç±»ã€æ—¥å¿—ç±»çš„ç³»ç»Ÿã€‚<br><br>åè¿‡æ¥ï¼Œå‡è®¾ä¸€ä¸ªä¸šåŠ¡çš„æ›´æ–°æ¨¡å¼æ˜¯å†™å…¥ä¹‹åé©¬ä¸Šä¼šåšæŸ¥è¯¢ï¼Œé‚£ä¹ˆå³ä½¿æ»¡è¶³äº†æ¡ä»¶ï¼Œå°†æ›´æ–°å…ˆè®°å½•åœ¨change buffer,ä½†ä¹‹åç”±äºé©¬ä¸Šè¦è®¿é—®è¿™ä¸ªæ•°æ®é¡µï¼Œä¼šç«‹å³è§¦å‘purgeè¿‡ç¨‹ã€‚<br>è¿™æ ·éšæœºè®¿é—®IOçš„æ¬¡æ•°ä¸ä¼šå‡å°‘ï¼Œåè€Œå¢åŠ äº†change bufferçš„ç»´æŠ¤ä»£ä»·ã€‚æ‰€ä»¥ï¼Œå¯¹äºè¿™ç§ä¸šåŠ¡æ¨¡å¼æ¥è¯´ï¼Œchange bufferåè€Œèµ·åˆ°äº†å‰¯ä½œç”¨ã€‚<br><br>ç´¢å¼•çš„é€‰æ‹©å’Œå®è·µï¼š<br>å°½å¯èƒ½ä½¿ç”¨æ™®é€šç´¢å¼•ã€‚<br>redo logä¸»è¦èŠ‚çœçš„æ˜¯éšæœºå†™ç£ç›˜çš„IOæ¶ˆè€—(è½¬æˆé¡ºåºå†™)ï¼Œè€Œchange bufferä¸»è¦èŠ‚çœçš„åˆ™æ˜¯éšæœºè¯»ç£ç›˜çš„IOæ¶ˆè€—ã€‚<br><br>æ€è€ƒé¢˜ï¼š<br>change bufferä¸ä¼šä¸¢å¤±ï¼Œå› ä¸ºchange bufferæ˜¯å¯ä»¥æŒä¹…åŒ–çš„æ•°æ®ï¼Œåœ¨ç£ç›˜ä¸Šå æ®äº†ç³»ç»Ÿè¡¨ç©ºé—´ibdataï¼Œå¯¹åº”çš„å†…éƒ¨ç³»ç»Ÿè¡¨åä¸ºSYS_IBUF_TABLEã€‚å› æ­¤åœ¨å¼‚å¸¸å…³æœºçš„æ—¶å€™ï¼Œä¸ä¼šä¸¢å¤±ã€‚","like_count":59,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431229,"discussion_content":"èµğŸ‘ğŸ¿\n\nä¸ä¼šä¸¢å¤±è¿˜æœ‰redologçš„åŠŸåŠ³å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543809439,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3040193,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/63/c1/791d0f5e.jpg","nickname":"éª‘å¢™å¤´åƒç“œå” å—‘","note":"","ucode":"A4B9CF783F08E9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584096,"discussion_content":"å‰å®³\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660630972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1050411,"avatar":"https://static001.geekbang.org/account/avatar/00/10/07/2b/d111e75d.jpg","nickname":"Lion","note":"","ucode":"21AA6AE4A90789","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387294,"discussion_content":"m","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628090549,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1499743,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e2/5f/94595b9e.jpg","nickname":"frank","note":"","ucode":"4888174B90B28F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":305730,"discussion_content":">>> å¯¹åº”çš„å†…éƒ¨ç³»ç»Ÿè¡¨åä¸ºSYS_IBUF_TABLEã€‚\nè¿™ä¸ªè¡¨åœ¨å“ªä¸ªåº“ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600071010,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2068623,"avatar":"","nickname":"123","note":"","ucode":"FDE06A009F51FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296603,"discussion_content":"æ•°æ®ä¿®æ”¹è¿‡ç¨‹ï¼ˆæ—  whereæƒ…å†µï¼‰\n\nåœ¨å†…å­˜ä¸­\n\nå”¯ä¸€ç´¢å¼•ï¼Œä¿®æ”¹æ•°æ®ï¼Œç›´æ¥è¿”å›\n\næ™®é€šç´¢å¼•ï¼Œä¿®æ”¹æ•°æ®ï¼Œç›´æ¥è¿”å›\n\nä¸åœ¨å†…å­˜ä¸­\n\nå”¯ä¸€ç´¢å¼•ï¼ŒåŠ è½½æ•°æ®æ‰€åœ¨é¡µï¼Œåˆ¤æ–­å”¯ä¸€æ€§ï¼Œä¿®æ”¹æ•°æ®\n\næ™®é€šç´¢å¼•ï¼Œä¿®æ”¹æ•°æ®åˆ°change bufferï¼Œè¿”å›\n\næ™®é€šå’Œå”¯ä¸€ç´¢å¼•çš„æœ€å¤§åŒºåˆ«åœ¨äº\n\næ•°æ®ä¸åœ¨å†…å­˜æ—¶å€™ï¼Œå”¯ä¸€ç´¢å¼•è¦åŠ è½½æ•°æ®åˆ¤æ–­å”¯ä¸€æ€§ï¼Œæ™®é€šç›´æ¥å­˜å…¥change bufferï¼Œè¿”å›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596598835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1039813,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/dd/c5/9ae99a7f.jpg","nickname":"Â¾é˜³å…‰","note":"","ucode":"C67D0E18F6158D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288898,"discussion_content":"æ—¥å¸¸çœ‹è¯„è®ºå·©å›ºå­¦ä¹ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593927227,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1721168,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/43/50/abb4ca1e.jpg","nickname":"å‡¡","note":"","ucode":"80C2A6452AB9EA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":113509,"discussion_content":"ä¸å¯¹å…ˆåˆ«æ€¥ç€èµçœ‹æ¸…æ¥šé¢˜ç›®ã€‚è€å¸ˆçš„é—®é¢˜æ˜¯ï¼Œchange buffer ä¸€å¼€å§‹æ˜¯å†™å†…å­˜çš„ï¼Œè¿˜æœªæŒä¹…è¯ä¸ºç³»ç»Ÿè¡¨ç©ºé—´ï¼Œè¿™æ—¶å€™æ–­ç”µäº†ã€‚ä¸è¿‡ç­”æ¡ˆåœ¨è¯„è®ºé‡Œäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577898216,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1037406,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/d4/5e/b8bfa75d.jpg","nickname":"è¾°æ˜Ÿ","note":"","ucode":"C05AF875B85718","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":85527,"discussion_content":"ä¼˜ç§€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576552142,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1453027,"avatar":"","nickname":"kkk","note":"","ucode":"FB4BFD00618699","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":38703,"discussion_content":"zan\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571821296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1463873,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIO2hQgGGq9htCBJNNAMH33VFvCBicwOjwCVXTg3WxYBkI3of3ibfQWib4ibF8m2y9vORT5mSibuqw5LNA/132","nickname":"å¸¦å¤´å¤§å“¥","note":"","ucode":"DA49D606C1E6DF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5434,"discussion_content":"ä¼˜ç§€å•Šã€‚è€é“ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566266794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45988,"user_name":"Ivan","can_delete":false,"product_type":"c1","uid":1302381,"ip_address":"","ucode":"57090A053A247F","user_header":"https://static001.geekbang.org/account/avatar/00/13/df/6d/44cf0de4.jpg","comment_is_top":false,"comment_ctime":1543828684,"is_pvip":false,"replies":[{"id":"16433","content":"ğŸ‘ğŸ¿<br><br>æ‹†å¼€äº†åˆ†æå¾ˆå¥½","user_name":"ä½œè€…å›å¤","comment_id":45988,"uid":"1264162","ip_address":"","utype":1,"ctime":1543832358,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":2,"race_medal":0,"score":"173342520524","product_id":100020801,"comment_content":"ä¸ä¼šå¯¼è‡´change bufferä¸¢å¤±ã€‚å› ä¸ºåœ¨æ›´æ”¹change buffer æ—¶ä¹Ÿä¼šå†™redo logï¼Œä¹Ÿéœ€è¦æŒä¹…åŒ–ã€‚<br>change buffer æ›´æ–°å®Œæˆå¹¶ä¸”ç›¸åº”äº‹åŠ¡æäº¤çš„æƒ…å†µä¸‹ï¼Œé¦–å…ˆè¦ä¿è¯redo logè½ç›˜ï¼ˆäºŒé˜¶æ®µæäº¤ï¼‰ï¼Œè‹¥æ­¤æ—¶æ‰ç”µé‡å¯ï¼Œåˆ™å¯ä»¥æ ¹æ® redo è¿›è¡Œæ¢å¤;<br>è‹¥change buffer æ›´æ–°å®Œæˆä½†æ˜¯ç›¸åº”äº‹åŠ¡æœªæäº¤çš„æƒ…å†µä¸‹ï¼Œåˆ™redo æœ‰å¯èƒ½è½ç›˜äº†ï¼ˆredo çš„ç»„æäº¤ï¼‰ï¼Œä¹Ÿæœ‰å¯èƒ½æœªè½ç›˜ï¼Œè‹¥è½ç›˜äº†ï¼Œè¯»å–redoå‘ç°æ²¡æœ‰commitæ ‡å¿—ï¼ˆè¿˜ä¼šè¿›è¡Œlsnï¼Œbinlogçš„å¯¹æ¯”ï¼‰ï¼Œåˆ™å›æ»šï¼›è‹¥redoæœªè½ç›˜åˆ™ä¹Ÿå°±ä¸ä¼šå‡ºç°å‰æ»šå’Œå›æ»šçš„æƒ…å†µï¼Œæ•°æ®ä¾æ—§ä¸€è‡´ã€‚","like_count":40,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431296,"discussion_content":"ğŸ‘ğŸ¿\n\næ‹†å¼€äº†åˆ†æå¾ˆå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543832358,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1874999,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/9c/37/253ea895.jpg","nickname":"æˆ‘ä¸æ˜¯ç å†œ","note":"","ucode":"EB4BB711CC54B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554461,"discussion_content":"å‰æå¾—æ˜¯innodb_flush_log_at_trx_commitè®¾ç½®æˆ1æˆ–2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646389697,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129947,"user_name":"è‡§å˜ä¸ªæ…§","can_delete":false,"product_type":"c1","uid":1144320,"ip_address":"","ucode":"7639747FBC2F90","user_header":"https://static001.geekbang.org/account/avatar/00/11/76/00/c3f8a78f.jpg","comment_is_top":false,"comment_ctime":1567333167,"is_pvip":false,"replies":[{"id":"48707","content":"æ˜¯çš„ï¼ŒæŸ¥æ‰¾è¿‡ç¨‹é¿ä¸å¼€ï¼Œä½†æ˜¯äºŒçº§ç´¢å¼•æ ‘çš„éå¶å­èŠ‚ç‚¹æ²¡å¤šå°‘ï¼Œä¸»è¦åœ¨ç£ç›˜ä¸Šçš„è¿˜æ˜¯å¶å­èŠ‚ç‚¹ã€‚<br>å¥½é—®é¢˜","user_name":"ä½œè€…å›å¤","comment_id":129947,"uid":"1264162","ip_address":"","utype":1,"ctime":1567481170,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":10,"race_medal":0,"score":"164776090415","product_id":100020801,"comment_content":"è€å¸ˆè®²çš„çœŸæ¸…æ¥šï¼ä½†æ˜¯æˆ‘çªç„¶æƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œæ–‡ä¸­è®²change bufferä¸­å­˜çš„å†…å®¹æ˜¯â€œåœ¨æŸä¸ªæ•°æ®é¡µæ›´æ–°ä»€ä¹ˆâ€ï¼Œä½†æ˜¯åœ¨update&#47;insertæ—¶ï¼Œç¡®å®šè¿™æ¡è®°å½•æ›´æ–°&#47;æ’å…¥åœ¨å“ªä¸ªæ•°æ®é¡µï¼Œä¸ä¹Ÿæ˜¯æœ‰ä¸€ä¸ªæŸ¥æ‰¾çš„è¿‡ç¨‹ä¹ˆï¼Ÿï¼ˆè‚¯å®šæœ‰ä¸€ä¸ªä¸€å±‚å±‚æŸ¥æ‰¾çš„è¿‡ç¨‹ï¼Œä¼šè·¯è¿‡å¾ˆå¤šæ•°æ®é¡µå•Šï¼‰ä¸ºäº†ç¡®å®šåœ¨å“ªä¸ªæ•°æ®é¡µæ“ä½œè€Œéå†è¿‡çš„æ•°æ®é¡µä¹Ÿä¼šè¯»è¿›å†…å­˜ä½œç¼“å­˜å—ï¼Ÿ","like_count":39,"discussions":[{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577771,"discussion_content":"ä¹Ÿå°±è¯´ï¼Œå®šä½é¡µçš„è¿‡ç¨‹ï¼Œéœ€è¦æŸ¥è¯¢éå¶å­èŠ‚ç‚¹ï¼ˆæœ€åä¸€å±‚éå¶å­ç»“ç‚¹å°±èƒ½ç¡®å®šè¦å†™åˆ°å“ªä¸ªå¶å­èŠ‚ç‚¹ï¼Œå³å“ªä¸ªé¡µï¼‰ï¼Œè€Œéå¶å­èŠ‚ç‚¹ä¸€èˆ¬éƒ½æ˜¯åœ¨å†…å­˜ä¸­ï¼Œæ‰€ä»¥æ­£å¸¸ä¸ä¼šæœ‰IO","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1656325718,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":314708,"discussion_content":"å¥½é—®é¢˜ï¼Œå†™ change buffer çš„æ—¶å€™ï¼Œè¿˜æ˜¯æœ‰æŸ¥æ‰¾æ•°æ®æ‰€åœ¨é¡µã€‚ä¸è¿‡è¿™ä¸ªé¡µæŸ¥æ‰¾ç°å¸¸å¿«ï¼ˆæŸ¥çš„æ˜¯éå¶å­èŠ‚ç‚¹ï¼‰ï¼","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1603187911,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465729,"discussion_content":"æ˜¯çš„ï¼ŒæŸ¥æ‰¾è¿‡ç¨‹é¿ä¸å¼€ï¼Œä½†æ˜¯äºŒçº§ç´¢å¼•æ ‘çš„éå¶å­èŠ‚ç‚¹æ²¡å¤šå°‘ï¼Œä¸»è¦åœ¨ç£ç›˜ä¸Šçš„è¿˜æ˜¯å¶å­èŠ‚ç‚¹ã€‚\nå¥½é—®é¢˜","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1567481170,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1155275,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","nickname":"å¼ ä¸‰ä¸°","note":"","ucode":"3A6215A40B3B21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371945,"discussion_content":"æŸ¥æ‰¾çš„æ˜¯ç´¢å¼•é¡µï¼Œå¹¶ä¸æ˜¯æ•°æ®é¡µã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1620094856,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587255,"discussion_content":"æœ€æ ¸å¿ƒçš„æ¦‚å¿µï¼›èŠ‚çœçš„åªæ˜¯å¶å­èŠ‚ç‚¹çš„ioå¼€é”€ï¼Œå› ä¸ºå¶å­èŠ‚ç‚¹å¤ç”¨å¾ˆä½ï¼›è€Œéå¶å­èŠ‚ç‚¹é¡µå¸¸é©»å†…å­˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662909096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2667025,"avatar":"","nickname":"Geek_a39aea","note":"","ucode":"94E6C8088AE0CB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389115,"discussion_content":"å‡†ç¡®æ¥è¯´åœ¨äºŒçº§ç´¢å¼•çš„å¶å­èŠ‚ç‚¹çš„ä¸Šä¸€å±‚èŠ‚ç‚¹ä¸­å°±å¯ä»¥ç¡®å®šè¦æ’å…¥åˆ°å“ªä¸€é¡µä¸­ï¼Œå› ä¸ºåœ¨äºŒçº§ç´¢å¼•çš„å¶å­èŠ‚ç‚¹æ—¶ç´¢å¼•åˆ—+ä¸»é”®å€¼ï¼Œä»–çš„éå¶å­èŠ‚ç‚¹ä¸­æ¯é¡µå­˜å‚¨çš„æ˜¯å¶å­èŠ‚ç‚¹ä¸­æ¯ä¸€é¡µä¸­æœ€å°çš„é‚£ä¸ªç´¢å¼•åˆ—+ä¸»é”®çš„ä¸€æ¡è®°å½•+é¡µå·ï¼Œå½“æˆ‘ä»¬æ’å…¥çš„æ—¶å€™å°±å¯ä»¥ä»æœ€åä¸€å±‚çš„éå¶å­èŠ‚ç‚¹ä¸­æ‰¾åˆ°åº”è¯¥æ’å…¥çš„é¡µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629124783,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2083270,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/c9/c6/cf8e9852.jpg","nickname":"dhlpj","note":"","ucode":"250ADDFEBC969D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382894,"discussion_content":"å¯¹è€å¸ˆçš„å›ç­”è¿˜æ˜¯æœ‰äº›ç–‘é—®ï¼šå¦‚æœæ­¤æ—¶ç´¢å¼•æ ‘çš„é«˜åº¦ä¸º4ï¼Œé‚£ä¹ˆä¸ºäº†å®šä½æ’å…¥æ•°æ®æ‰€åœ¨é¡µï¼Œä¼šè¿›è¡Œ3æ¬¡IOï¼Œåªæ˜¯æ²¡æœ‰çœŸæ­£æŸ¥è¯¢å¶å­èŠ‚ç‚¹æ‰€åœ¨é¡µçš„æ•°æ®ã€‚æŸ¥è¯¢å¶å­èŠ‚ç‚¹æ‰€åœ¨é¡µçš„æ•°æ®çš„è¿™ä¸€æ¬¡IOæŸè€— ä¼š é«˜äºç»´æŠ¤change bufferçš„ä»£ä»·å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625757524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2083270,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/c9/c6/cf8e9852.jpg","nickname":"dhlpj","note":"","ucode":"250ADDFEBC969D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398933,"discussion_content":"æ­¤å¤„å°±æ²¡æœ‰3æ¬¡IOäº†ï¼Œ å‰ä¸‰æ¬¡æŸ¥éå¶å­èŠ‚ç‚¹ï¼Œéƒ½æ˜¯åœ¨å†…å­˜ä¸­è¿›è¡Œçš„ã€‚æŸ¥å¶å­èŠ‚ç‚¹ï¼Œå¹¶ä¸”å°†è¿™é¡µè½½å…¥åˆ°å†…å­˜ï¼Œ è¿™ä¸ªæ¯”è¾ƒè€—æ—¶ï¼Œç‰¹åˆ«æ˜¯åœ¨å†™å¤šè¯»å°‘çš„åœºæ™¯ä¸‹ï¼Œæ€§èƒ½å·®å¾ˆå¤š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1632877366,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":382894,"ip_address":""},"score":398933,"extra":""}]},{"author":{"id":2449777,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDUJyeq54fiaXAgF62tNeocO3lHsKT4mygEcNoZLnibg6ONKicMgCgUHSfgW8hrMUXlwpNSzR8MHZwg/132","nickname":"types","note":"","ucode":"8B50927EF1804F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382659,"discussion_content":"ä¸ä»…ä»…åªæœ‰äºŒçº§ç´¢å¼•éœ€è¦æŸ¥è¯¢å§ï¼Œ ä¸»é”®ç´¢å¼•é¡µéœ€è¦æŸ¥è¯¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625662022,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1446494,"avatar":"https://static001.geekbang.org/account/avatar/00/16/12/5e/77b67a85.jpg","nickname":"é£˜äº‘","note":"","ucode":"C6FE0310D6853C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":346164,"discussion_content":"åªæŸ¥éå¶å­èŠ‚ç‚¹èƒ½ç¡®å®šä¸€ä¸ªkeyå­˜åœ¨ä¸å­˜åœ¨ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611883568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45760,"user_name":"è™šçˆ±å‡¯å¹³","can_delete":false,"product_type":"c1","uid":1260564,"ip_address":"","ucode":"EA8A7A4498BC86","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/AwEHMTGSmVsia3WZDyIicBQPAfS11lBZ0yUappicPzfmGDmMwkje1UoqKK3UJ6FCBdsZyiauuV1SEfcrFzWfx9n1RQ/132","comment_is_top":false,"comment_ctime":1543779634,"is_pvip":false,"replies":[{"id":"16345","content":"æ‰€ä»¥ä¸»é”®ç´¢å¼•ç”¨ä¸ä¸Šï¼Œéƒ½æ˜¯å¯¹äºé‚£äº›äºŒçº§ç´¢å¼•çš„æ‰æœ‰æ•ˆã€‚ <br><br>ä¸€ä¸ªinsertè¯­å¥è¦æ“ä½œæ‰€æœ‰ç´¢å¼•çš„å˜›ï¼Œæ”¶ç›Šåœ¨äºŒçº§ç´¢å¼•","user_name":"ä½œè€…å›å¤","comment_id":45760,"uid":"1264162","ip_address":"","utype":1,"ctime":1543799865,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":12,"race_medal":0,"score":"147572667698","product_id":100020801,"comment_content":"æœ‰ç‚¹ç–‘æƒ‘: ä¸»é”®idä¹Ÿæ˜¯å”¯ä¸€ç´¢å¼•å§? é‚£æˆ‘ä»¬çš„æ–°å¢æ“ä½œå¦‚ä½•åˆ©ç”¨ change bufferå‘¢? ","like_count":34,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431197,"discussion_content":"æ‰€ä»¥ä¸»é”®ç´¢å¼•ç”¨ä¸ä¸Šï¼Œéƒ½æ˜¯å¯¹äºé‚£äº›äºŒçº§ç´¢å¼•çš„æ‰æœ‰æ•ˆã€‚ \n\nä¸€ä¸ªinsertè¯­å¥è¦æ“ä½œæ‰€æœ‰ç´¢å¼•çš„å˜›ï¼Œæ”¶ç›Šåœ¨äºŒçº§ç´¢å¼•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543799865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1104568,"avatar":"https://static001.geekbang.org/account/avatar/00/10/da/b8/01b76df7.jpg","nickname":"è“è‰²éª¨å¤´","note":"","ucode":"79F0F2153F4E29","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":117538,"discussion_content":"æ”¶ç›Šåœ¨éå”¯ä¸€ç´¢å¼•å§ï¼Œå› ä¸ºéä¸»é”®çš„å”¯ä¸€ç´¢å¼•ä¹Ÿæ˜¯äºŒçº§ç´¢å¼•ï¼›å¦‚æœä¸€ä¸ªè¡¨æ²¡æœ‰éå”¯ä¸€ç´¢å¼•ï¼ˆé™¤ä¸»é”®å¤–å‰©ä½™éƒ½æ˜¯å”¯ä¸€ç´¢å¼•ï¼‰ï¼Œå®é™…ä¸Šå°±äº«å—ä¸åˆ°change bufferå¸¦æ¥çš„å¥½å¤„ï¼Œè€å¸ˆï¼Œæˆ‘åº”è¯¥å¯ä»¥è¿™æ ·ç†è§£å§ï¼Ÿ","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1578125868,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1589284,"avatar":"","nickname":"Huodefa_0426","note":"","ucode":"0980487D49F9D0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2780,"discussion_content":"çœ‹åˆ°è¿™æ ·çš„å›å¤ï¼Œæˆ‘è¿·ç³Šäº†ï¼Œæˆ‘æƒ³è¯·æ•™ä¸‹ã€‚æ˜¯ä¸æ˜¯ä¸€æ¡insertè¯­å¥ï¼Œä¼šç”Ÿæˆå¤šæ¡è®°å½•åœ¨redologä¸­ï¼ˆä¸»é”®ç´¢å¼•æ˜¯ä¸»é”®ç´¢å¼•çš„redologè®°å½• äºŒçº§ç´¢å¼•æ˜¯äºŒçº§ç´¢å¼•çš„redologè®°å½•ï¼Œè¿˜æœ‰å…¶ä»–è®°å½•æ€ä¹ˆè®°å½•å‘¢ï¼Ÿï¼‰","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1563932139,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1589284,"avatar":"","nickname":"Huodefa_0426","note":"","ucode":"0980487D49F9D0","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":111282,"discussion_content":"æ¯ä¸ªç´¢å¼•éƒ½æ˜¯è‡ªå·±ç‹¬ç«‹çš„æ ‘ï¼Œä¹Ÿå°±æ˜¯è‡ªå·±å•ç‹¬çš„æ–‡ä»¶ï¼Œåº”è¯¥æ˜¯è¦å•ç‹¬è®°å½•çš„ã€‚æˆ‘è§‰çš„&#34;æ”¶ç›Šåœ¨äºŒçº§ç´¢å¼•&#34;ï¼Œæ”¹ä¸º&#34;æ”¶ç›Šåœ¨äºŒçº§å”¯ä¸€ç´¢å¼•&#34;æ‰æ›´å‡†ç¡®ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1577789835,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":2780,"ip_address":""},"score":111282,"extra":""},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149799,"discussion_content":"æ”¶ç›Šåœ¨æ™®é€šç´¢å¼•æ‰æ›´å‡†ç¡®ã€‚","likes_number":10,"is_delete":false,"is_hidden":false,"ctime":1579780166,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":111282,"ip_address":""},"score":149799,"extra":""},{"author":{"id":2671212,"avatar":"","nickname":"Geek_3c0861","note":"","ucode":"233634E724D514","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380915,"discussion_content":"æ™®é€šç´¢å¼•ï¼ŒäºŒçº§ç´¢å¼•ä¸æ˜¯ä¸€å›äº‹éº¼ã€‚ã€‚ã€‚ã€‚ğŸ˜…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624791749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":149799,"ip_address":""},"score":380915,"extra":""}]},{"author":{"id":2384157,"avatar":"https://static001.geekbang.org/account/avatar/00/24/61/1d/07e4d68e.jpg","nickname":"æŒ–åœŸè±†","note":"","ucode":"BB1939900AC8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391317,"discussion_content":"å•¥æ„æ€å®Œå…¨æ²¡æ‡‚  insertæ’å…¥è‚¯å®šä¼šæ¶‰åŠåˆ°ä¸»é”®å•Šï¼Œä¹Ÿè‚¯å®šä¼šæ ¡éªŒä¸»é”®çš„å”¯ä¸€æ€§ï¼ŒæŒ‰é“ç†æ€æ ·éƒ½ä¸èƒ½ç”¨åˆ°changer bufferå‘€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630397956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1736650,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyuuhxu0HH4cIKCClCqx0LTurCCYWmNcFwfTWV5te5afsibp2yuDmC9mibEHx0Xy8QlvqvMWWcAib8g/132","nickname":"æˆ‘çš„å–µ","note":"","ucode":"A7435BDBDD2587","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344499,"discussion_content":"å•¥æ„æ€å•Šï¼Œæ²¡æ‡‚ï¼Œä¸å°±æ’å…¥ä¸€æ¡æ•°æ®å—ï¼Œæ™®é€šç´¢å¼•å’‹äº«å—å¥½å¤„çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611480105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1758825,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/d6/69/f59d4f6f.jpg","nickname":"Ryan","note":"","ucode":"387955FD53E98C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1736650,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyuuhxu0HH4cIKCClCqx0LTurCCYWmNcFwfTWV5te5afsibp2yuDmC9mibEHx0Xy8QlvqvMWWcAib8g/132","nickname":"æˆ‘çš„å–µ","note":"","ucode":"A7435BDBDD2587","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":347843,"discussion_content":"ä¸€å¼ è¡¨ï¼ŒåŒ…å«å¤šä¸ªç´¢å¼•ï¼Œæ¯ä¸ªç´¢å¼•æœ‰è‡ªå·±å•ç‹¬çš„æ–‡ä»¶ã€‚æ’å…¥ä¸€æ¡æ•°æ®è¦æ›´æ–°æ‰€æœ‰ç´¢å¼•çš„æ–‡ä»¶ï¼Œè¿™æ—¶å€™æ›´æ–°ä¸»é”®å’Œå”¯ä¸€ç´¢å¼•ä¸èƒ½ç”¨ change bufferï¼Œåªæœ‰æ›´æ–°æ™®é€šç´¢å¼•æ‰èƒ½ç”¨ä¸Š change buffer æœºåˆ¶","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1612338408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":344499,"ip_address":""},"score":347843,"extra":""}]},{"author":{"id":1316451,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/2W9qKibEiaSBbvBt5Om6HU52oNfbxCvjmheFLcYkMiahP8ca5g7CzuywFMaYMhSMSauVlWiatn44QXJc8SpgIwUMtw/132","nickname":"æµ·ä¹‹éŸµ","note":"","ucode":"C7C3F4E32A2DEF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339682,"discussion_content":"åŒä¸ç†è§£ï¼Œæ”¶ç›Šåœ¨äºŒçº§ç´¢å¼•ä¸Šã€‚\nçœ‹å›¾æ›´æ–°page1å’Œpage2ï¼ˆchange bufferä¸Šï¼‰ï¼Œå“ªé‡Œè·Ÿç´¢å¼•ç›¸å…³äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609756827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2369450,"avatar":"https://static001.geekbang.org/account/avatar/00/24/27/aa/140f1f8e.jpg","nickname":"Curiosity","note":"","ucode":"FB89ED4E0FD2B7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1316451,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/2W9qKibEiaSBbvBt5Om6HU52oNfbxCvjmheFLcYkMiahP8ca5g7CzuywFMaYMhSMSauVlWiatn44QXJc8SpgIwUMtw/132","nickname":"æµ·ä¹‹éŸµ","note":"","ucode":"C7C3F4E32A2DEF","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":354646,"discussion_content":"ä¸»é”®ç´¢å¼•çš„insertè‚¯å®šæ˜¯ä¸èƒ½ç”¨changebuffer,è€ŒäºŒçº§ç´¢å¼•çš„insertæœ‰å¯èƒ½ç”¨ä¸Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615306590,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":339682,"ip_address":""},"score":354646,"extra":""}]}]},{"had_liked":false,"id":63761,"user_name":"çœ‹ä¸åˆ°deé¢œè‰²","can_delete":false,"product_type":"c1","uid":1162714,"ip_address":"","ucode":"88348CCAE81931","user_header":"https://static001.geekbang.org/account/avatar/00/11/bd/da/3d76ea74.jpg","comment_is_top":false,"comment_ctime":1548490558,"is_pvip":false,"replies":[{"id":"22564","content":"â€œæ€»è§‰å¾—å°† change bufferè½ç›˜æ„ä¹‰ä¸å¤§ã€‚æ¯•ç«Ÿredo logä¸­ä¹Ÿä¼šè®°å½•ï¼Œå½“æ•°æ®åº“å´©æºƒæ—¶å¯ä»¥é€šè¿‡redo logå°†change bufferå†…å®¹å›æ”¾å‡ºæ¥ã€‚â€ æ˜¯çš„ï¼Œæ‰€ä»¥change bufferå…¶å®ä¹Ÿæ˜¯ç”¨äº†WALæœºåˆ¶ã€‚<br><br>â€œå†…å­˜ä¸è¶³éœ€è¦å›æ”¶change bufferè¿™éƒ¨åˆ†å†…å­˜â€œï¼Œåªéœ€è¦è®©change bufferæœ¬èº«æŒä¹…åŒ–å¯ä»¥ï¼Œä¸éœ€è¦æ‰§è¡Œmergeæ“ä½œã€‚mergeæ“ä½œæ˜¯åœ¨è¯»æ•°æ®é¡µçš„æ—¶å€™åšçš„<br><br>èµå›é¡¾çš„ä¹ æƒ¯å“ˆğŸ‘<br>","user_name":"ä½œè€…å›å¤","comment_id":63761,"uid":"1264162","ip_address":"","utype":1,"ctime":1548515598,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":12,"race_medal":0,"score":"143282411326","product_id":100020801,"comment_content":"æ—¶éš”ä¸€æ®µæ—¶é—´å†æ¥å›é¡¾ä¸€éï¼Œçªç„¶æœ‰äº†ä¸€ä¸ªå°é—®é¢˜ï¼Œè¿˜æœ›è€å¸ˆå¯ä»¥è§£ç­”ä¸€ä¸‹ã€‚<br>æ€»è§‰å¾—å°† change bufferè½ç›˜æ„ä¹‰ä¸å¤§ã€‚æ¯•ç«Ÿredo logä¸­ä¹Ÿä¼šè®°å½•ã€‚å½“æ•°æ®åº“å´©æºƒæ—¶å¯ä»¥é€šè¿‡redo logå°†change bufferå†…å®¹å›æ”¾å‡ºæ¥ã€‚å¦‚æœè¯´å› ä¸ºå†…å­˜ä¸è¶³éœ€è¦å›æ”¶change bufferè¿™éƒ¨åˆ†å†…å­˜ï¼Œé‚£ä¹Ÿåº”å½“å°†æ•°æ®mergeååˆ·å…¥ç£ç›˜å§ã€‚<br>ä¸çŸ¥é“ç†è§£çš„æ˜¯ä¸æ˜¯æœ‰è¯¯ï¼Œè¿˜æœ›è€å¸ˆæŒ‡ç‚¹è¿·æ´¥ã€‚","like_count":33,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437710,"discussion_content":"â€œæ€»è§‰å¾—å°† change bufferè½ç›˜æ„ä¹‰ä¸å¤§ã€‚æ¯•ç«Ÿredo logä¸­ä¹Ÿä¼šè®°å½•ï¼Œå½“æ•°æ®åº“å´©æºƒæ—¶å¯ä»¥é€šè¿‡redo logå°†change bufferå†…å®¹å›æ”¾å‡ºæ¥ã€‚â€ æ˜¯çš„ï¼Œæ‰€ä»¥change bufferå…¶å®ä¹Ÿæ˜¯ç”¨äº†WALæœºåˆ¶ã€‚\n\nâ€œå†…å­˜ä¸è¶³éœ€è¦å›æ”¶change bufferè¿™éƒ¨åˆ†å†…å­˜â€œï¼Œåªéœ€è¦è®©change bufferæœ¬èº«æŒä¹…åŒ–å¯ä»¥ï¼Œä¸éœ€è¦æ‰§è¡Œmergeæ“ä½œã€‚mergeæ“ä½œæ˜¯åœ¨è¯»æ•°æ®é¡µçš„æ—¶å€™åšçš„\n\nèµå›é¡¾çš„ä¹ æƒ¯å“ˆğŸ‘\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548515598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1446494,"avatar":"https://static001.geekbang.org/account/avatar/00/16/12/5e/77b67a85.jpg","nickname":"é£˜äº‘","note":"","ucode":"C6FE0310D6853C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":202675,"discussion_content":"â€œå†…å­˜ä¸è¶³éœ€è¦å›æ”¶change bufferè¿™éƒ¨åˆ†å†…å­˜â€œï¼Œåªéœ€è¦è®©change bufferæœ¬èº«æŒä¹…åŒ–å¯ä»¥ï¼Œä¸éœ€è¦æ‰§è¡Œmergeæ“ä½œã€‚mergeæ“ä½œæ˜¯åœ¨è¯»æ•°æ®é¡µçš„æ—¶å€™åšçš„\n-----------------------------------------------------------------------\nå¦‚æœchange bufferæŒä¹…åŒ–äº†ï¼Œå½“éœ€è¦mergeçš„æ—¶å€™ä¸è¿˜å¾—å°†change bufferä»æŒä¹…åŒ–å­˜å‚¨è¯»åˆ°å†…å­˜ä¹ˆï¼Ÿ  å°†change bufferç›´æ¥mergeä¸æ˜¯æ›´å¥½ï¼Ÿ","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1583939465,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1159645,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b1/dd/c814190f.jpg","nickname":"å·´å­å°","note":"","ucode":"1C3D35AEC235BB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1446494,"avatar":"https://static001.geekbang.org/account/avatar/00/16/12/5e/77b67a85.jpg","nickname":"é£˜äº‘","note":"","ucode":"C6FE0310D6853C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556545,"discussion_content":"mergeè¿‡ç¨‹æ˜¯éšæœºIOï¼Œchange bufferè¯»å†™éƒ½æ˜¯éšæœºIOï¼Œæ€§èƒ½æ›´å¥½ï¼Œæˆ‘æ˜¯è¿™ä¹ˆç†è§£çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647413237,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":202675,"ip_address":""},"score":556545,"extra":""}]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312369,"discussion_content":"å¯ä»¥,ç›®å‰ä¸ªäººæ‰€å¾—ç»“è®º:\nchange buffer å¯ä»¥ä¸è½ç›˜.","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1602671068,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1518795,"avatar":"","nickname":"Geek_2ac804","note":"","ucode":"EDF69B20030BB8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554248,"discussion_content":"æˆ‘æ€€ç–‘è€å¸ˆè¿™é‡Œæ˜¯è¯¯è§£è¿™ä½åŒå­¦çš„æ„æ€äº†ï¼Œä¸è½ç›˜æŒ‡çš„æ˜¯å½“æ—¶ä¸è½ç›˜ï¼Œé‡‡ç”¨WALæœºåˆ¶ï¼Œäº‹åè¿˜æ˜¯è¦è½ç›˜çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646284599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":312369,"ip_address":""},"score":554248,"extra":""}]},{"author":{"id":1301978,"avatar":"https://static001.geekbang.org/account/avatar/00/13/dd/da/78ed5312.jpg","nickname":"Mr jun","note":"","ucode":"C1C8CDB38C30FB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303787,"discussion_content":"æˆ‘çŒœæƒ³ã€‚changebufferå¦‚æœèƒ½è¿›å…¥ç£ç›˜çš„è¯ï¼Œè‚¯å®šæ˜¯é‡Œé¢çš„æ•°æ®å·²ç»åŒæ­¥åˆ°ibdataé‡Œäº†(ç£ç›˜é‡Œçš„æ•°æ®æ˜¯æœ€æ–°çš„äº†ï¼Œä¸éœ€è¦å°†ç£ç›˜é‡Œè¯»å‡ºæ¥è¿˜éœ€è¦mergeäº†ï¼Œå°±æ˜¯è„é¡µå·²ç»åŒæ­¥åˆ°ç£ç›˜äº†)ï¼Œä¸è¿‡ç¡®å®æœ‰äº†redologï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆä¼šéœ€è¦changebufferç£ç›˜åŒ–ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1599381605,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1155646,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKotsBr2icbYNYlRSlicGUD1H7lulSTQUAiclsEz9gnG5kCW9qeDwdYtlRMXic3V6sj9UrfKLPJnQojag/132","nickname":"ppd0705","note":"","ucode":"EB63D4E3FD1E9A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":227486,"discussion_content":"æ‰€ä»¥change bufferè½ç›˜æ„ä¹‰åœ¨å“ªé‡Œï¼Ÿ \nå¦å¤–mergeçš„æ—¶å€™æ˜¯å¦éœ€è¦åˆ é™¤æŒä¹…åŒ–äº†çš„change bufferæ•°æ®","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1586496615,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2218209,"avatar":"","nickname":"Geek_a54de5","note":"","ucode":"750C8522F61B4B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1155646,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKotsBr2icbYNYlRSlicGUD1H7lulSTQUAiclsEz9gnG5kCW9qeDwdYtlRMXic3V6sj9UrfKLPJnQojag/132","nickname":"ppd0705","note":"","ucode":"EB63D4E3FD1E9A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317052,"discussion_content":"çŒœæµ‹ç±»ä¼¼äºlinux swapæœºåˆ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603502745,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":227486,"ip_address":""},"score":317052,"extra":""}]},{"author":{"id":1986739,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","nickname":"LWD","note":"","ucode":"DDA444DB113C01","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587254,"discussion_content":"redoä¿è¯äº†change bufferçš„crash safeï¼Œå¹¶ä¸”é€šè¿‡walæœºåˆ¶ä¿è¯äº†æ•ˆç‡ï¼›è‡³äºä¸ºä»€ä¹ˆchange bufferåœ¨å‘ç”Ÿcheckpointä¸è¿›è¡Œmergeè½åº“åˆ°æ•°æ®é¡µè€Œæ˜¯æŒä¹…åŒ–åœ¨å…±äº«è¡¨ç©ºé—´ä¸­å³ibdata1ä¸ªäººè®¤ä¸ºæ˜¯å› ä¸ºè¿™é‡Œçš„mergeè¿˜éœ€è¦éšæœºåŠ è½½æ•°æ®é¡µï¼Œåè€Œä¼šé›ªä¸ŠåŠ éœœï¼›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662908776,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1275690,"avatar":"https://static001.geekbang.org/account/avatar/00/13/77/2a/244d98aa.jpg","nickname":"cpâ˜…é’Šî€¢îˆ±î€²","note":"","ucode":"6B86D4D538BDF7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":375608,"discussion_content":"åŒæ ·çš„ç–‘é—®ï¼Œæˆ‘èƒ½æƒ³åˆ°change bufferå¦‚æœä¸ç›´æ¥mergeï¼Œè€Œæ˜¯æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œéš¾é“æ˜¯ä¸ºäº†æå‡æ€§èƒ½ï¼Ÿæ¯•ç«Ÿbufferé‡Œä¸€ä¸ªè®°å½•çš„mergeå°±æ¶‰åŠä¸€æ¬¡è¯»å†™éšæœºIOï¼Œé›†ä¸­mergeçš„æ—¶é—´å ç”¨å¤ªé•¿ã€‚å¦‚æœåªæ˜¯æŒä¹…åŒ–bufferï¼Œå¯ä»¥ç›´æ¥é¡ºåºå†™IOã€‚\nåªæ˜¯ä¸ªäººçŒœæµ‹ï¼Œå¦‚æœåˆå¤§ä½¬äº†è§£äº†å…·ä½“åŸå› éº»çƒ¦å›å¤ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621765809,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149829,"discussion_content":"å•¥æ„æ€ï¼Œchange bufferä»€ä¹ˆæ—¶å€™å†™åˆ°redo logä¸­ï¼Œæ–‡ç« é‡Œé¢æ²¡æœ‰æåˆ°å•Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579781349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":169505,"discussion_content":"æåˆ°äº†ï¼Œåœ¨å›¾è§£é‡Œã€‚change bufferçš„æ“ä½œä¼šè¢«è®°å½•åˆ°redo logé‡Œã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1581609082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":149829,"ip_address":""},"score":169505,"extra":""}]}]},{"had_liked":false,"id":46668,"user_name":"é™ä»¥å‚¨åŠ¿Â·Shuke","can_delete":false,"product_type":"c1","uid":1119090,"ip_address":"","ucode":"98736831B73028","user_header":"https://static001.geekbang.org/account/avatar/00/11/13/72/434a40f1.jpg","comment_is_top":false,"comment_ctime":1543970473,"is_pvip":false,"replies":[{"id":"16702","content":"ğŸ‘ğŸ¿","user_name":"ä½œè€…å›å¤","comment_id":46668,"uid":"1264162","ip_address":"","utype":1,"ctime":1543985065,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":4,"race_medal":0,"score":"143277891241","product_id":100020801,"comment_content":"è¦ç†è§£change bufferè¿˜å¾—å…ˆç†è§£buffer poolæ˜¯å•¥ï¼Œé¡¾åæ€ä¹‰ï¼Œç¡¬ç›˜åœ¨è¯»å†™é€Ÿåº¦ä¸Šç›¸æ¯”å†…å­˜æœ‰ç€æ•°é‡çº§å·®è·ï¼Œå¦‚æœæ¯æ¬¡è¯»å†™éƒ½è¦ä»ç£ç›˜åŠ è½½ç›¸åº”æ•°æ®é¡µï¼ŒDBçš„æ•ˆç‡å°±ä¸Šä¸æ¥ï¼Œå› è€Œä¸ºäº†åŒ–è§£è¿™ä¸ªå›°å±€ï¼Œå‡ ä¹æ‰€æœ‰çš„DBéƒ½ä¼šæŠŠç¼“å­˜æ± å½“åšæ ‡é…ï¼ˆåœ¨å†…å­˜ä¸­å¼€è¾Ÿçš„ä¸€æ•´å—ç©ºé—´ï¼Œç”±å¼•æ“åˆ©ç”¨ä¸€äº›å‘½ä¸­ç®—æ³•å’Œæ·˜æ±°ç®—æ³•è´Ÿè´£ç»´æŠ¤å’Œç®¡ç†ï¼‰ï¼Œchange bufferåˆ™æ›´è¿›ä¸€æ­¥ï¼ŒæŠŠåœ¨å†…å­˜ä¸­æ›´æ–°å°±èƒ½å¯ä»¥ç«‹å³è¿”å›æ‰§è¡Œç»“æœå¹¶ä¸”æ»¡è¶³ä¸€è‡´æ€§çº¦æŸï¼ˆæ˜¾å¼æˆ–éšå¼å®šä¹‰çš„çº¦æŸæ¡ä»¶ï¼‰çš„è®°å½•ä¹Ÿæš‚æ—¶æ”¾åœ¨ç¼“å­˜æ± ä¸­ï¼Œè¿™æ ·å¤§å¤§å‡å°‘äº†ç£ç›˜IOæ“ä½œçš„å‡ ç‡","like_count":33,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431502,"discussion_content":"ğŸ‘ğŸ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543985065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1759325,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","nickname":"æ¯è«åœ","note":"","ucode":"4FA1D5CBBEF702","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":360600,"discussion_content":"ä¼˜ç§€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616485651,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":314702,"discussion_content":"åœ¨ä¸å½±å“æ•°æ®ä¸€è‡´æ€§çº¦æŸçš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨ change buffer å¤§å¤§å‡å°‘IOæ“ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603187200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1759325,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","nickname":"æ¯è«åœ","note":"","ucode":"4FA1D5CBBEF702","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":360601,"discussion_content":"å¾—åˆ†åœºæ™¯ï¼Œæ›´æ–°åé©¬ä¸Šè¯»è¿™ç§åœºæ™¯å¹¶ä¸ä¼šå‡å°‘IO","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1616485712,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":314702,"ip_address":""},"score":360601,"extra":""}]}]},{"had_liked":false,"id":55044,"user_name":"ä¾¯å å±±","can_delete":false,"product_type":"c1","uid":1354670,"ip_address":"","ucode":"472EAA6813CD1C","user_header":"","comment_is_top":false,"comment_ctime":1546009140,"is_pvip":false,"discussion_count":6,"race_medal":0,"score":"134689995316","product_id":100020801,"comment_content":"è¿™æ˜¯åˆ°ç›®å‰ä¸ºæ­¢æˆ‘å”¯ä¸€ä¸€ç¯‡çœ‹ä¸æ‡‚çš„æ–‡ç« ","like_count":31,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149831,"discussion_content":"å“ˆå“ˆï¼Œæˆ‘çœ‹æ‡‚äº†æ–‡ç« ï¼Œä½†æ˜¯æˆ‘çœ‹ä¸æ‡‚è¯„è®ºäº†ã€‚","likes_number":17,"is_delete":false,"is_hidden":false,"ctime":1579781416,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1255277,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDVXsv6JOOficLK07867AkAb21eoG5KBgYFmwhMXKJooU5B6iaIZwyDxExicokVQSiaKEwZ4qPicqVFcg/132","nickname":"æ‹¼yinä¸–ç•Œ","note":"","ucode":"9571428A12B72A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":348742,"discussion_content":"å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆï¼ŒåŒçœ‹ä¸æ‡‚è¯„è®º","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612699866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":149831,"ip_address":""},"score":348742,"extra":""},{"author":{"id":1607424,"avatar":"https://static001.geekbang.org/account/avatar/00/18/87/00/18eea339.jpg","nickname":"ğŸ§","note":"","ucode":"ED54DE6D0CF497","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391648,"discussion_content":"çœ‹çœ‹å®˜ç½‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630565617,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":149831,"ip_address":""},"score":391648,"extra":""}]},{"author":{"id":2562181,"avatar":"https://static001.geekbang.org/account/avatar/00/27/18/85/83ac977e.jpg","nickname":"åŠå¹´ 2å·","note":"","ucode":"7F23C4532A5513","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411011,"discussion_content":"è¦ç†è§£change bufferè¿˜å¾—å…ˆç†è§£buffer poolæ˜¯å•¥ï¼Œé¡¾åæ€ä¹‰ï¼Œç¡¬ç›˜åœ¨è¯»å†™é€Ÿåº¦ä¸Šç›¸æ¯”å†…å­˜æœ‰ç€æ•°é‡çº§å·®è·ï¼Œå¦‚æœæ¯æ¬¡è¯»å†™éƒ½è¦ä»ç£ç›˜åŠ è½½ç›¸åº”æ•°æ®é¡µï¼ŒDBçš„æ•ˆç‡å°±ä¸Šä¸æ¥ï¼Œå› è€Œä¸ºäº†åŒ–è§£è¿™ä¸ªå›°å±€ï¼Œå‡ ä¹æ‰€æœ‰çš„DBéƒ½ä¼šæŠŠç¼“å­˜æ± å½“åšæ ‡é…ï¼ˆåœ¨å†…å­˜ä¸­å¼€è¾Ÿçš„ä¸€æ•´å—ç©ºé—´ï¼Œç”±å¼•æ“åˆ©ç”¨ä¸€äº›å‘½ä¸­ç®—æ³•å’Œæ·˜æ±°ç®—æ³•è´Ÿè´£ç»´æŠ¤å’Œç®¡ç†ï¼‰ï¼Œchange bufferåˆ™æ›´è¿›ä¸€æ­¥ï¼ŒæŠŠåœ¨å†…å­˜ä¸­æ›´æ–°å°±èƒ½å¯ä»¥ç«‹å³è¿”å›æ‰§è¡Œç»“æœå¹¶ä¸”æ»¡è¶³ä¸€è‡´æ€§çº¦æŸï¼ˆæ˜¾å¼æˆ–éšå¼å®šä¹‰çš„çº¦æŸæ¡ä»¶ï¼‰çš„è®°å½•ä¹Ÿæš‚æ—¶æ”¾åœ¨ç¼“å­˜æ± ä¸­ï¼Œè¿™æ ·å¤§å¤§å‡å°‘äº†ç£ç›˜IOæ“ä½œçš„å‡ ç‡","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1635828604,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312370,"discussion_content":"å“ˆå“ˆå“ˆ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1602671130,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2020865,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/d6/01/eaa50203.jpg","nickname":"zft","note":"","ucode":"74DEC5FBA610B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":275623,"discussion_content":"åŒæ„Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590741599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46940,"user_name":"yy","can_delete":false,"product_type":"c1","uid":1307788,"ip_address":"","ucode":"4F6E10E2D1FE8C","user_header":"","comment_is_top":false,"comment_ctime":1544005055,"is_pvip":false,"replies":[{"id":"16743","content":"æŠ±æ­‰ï¼Œè¿™é‡Œè¯´çš„éƒ½æ˜¯mergeå“ˆï¼Œæ˜¯å› ä¸ºæˆ‘ä¹‹å‰å†™é”™äº†ï¼Œä½ åœ¨è¿™é‡Œçœ‹åˆ°çš„è®¨è®ºéƒ½å½“ä½œmerge","user_name":"ä½œè€…å›å¤","comment_id":46940,"uid":"1264162","ip_address":"","utype":1,"ctime":1544011531,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":7,"race_medal":0,"score":"126098056639","product_id":100020801,"comment_content":"è€å¸ˆå¥½  çœ‹è¯„è®ºçœ‹è’™äº†  è¯„è®ºé‡Œè¯´çš„purgeä¸mergeæ˜¯ä¸€ä¸ªæ„æ€å— ","like_count":29,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431611,"discussion_content":"æŠ±æ­‰ï¼Œè¿™é‡Œè¯´çš„éƒ½æ˜¯mergeå“ˆï¼Œæ˜¯å› ä¸ºæˆ‘ä¹‹å‰å†™é”™äº†ï¼Œä½ åœ¨è¿™é‡Œçœ‹åˆ°çš„è®¨è®ºéƒ½å½“ä½œmerge","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544011531,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1599197,"avatar":"https://static001.geekbang.org/account/avatar/00/18/66/dd/c9f17139.jpg","nickname":"Damo","note":"","ucode":"F332EA67F5A40C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":286279,"discussion_content":"æ€ªä¸å¾—æˆ‘çœ‹è¯„è®ºä¸€è„¸æ‡µé€¼ï¼Œä¸çŸ¥é“ purge æ˜¯å•¥ï¼Œæˆ‘æœäº†å¥½å‡ éï¼Œæ–‡ç« é‡Œé¢ä¹Ÿæ²¡æœ‰ ğŸ˜‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1593099886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1057347,"avatar":"https://static001.geekbang.org/account/avatar/00/10/22/43/3bcecc0a.jpg","nickname":"å‡¡å°˜","note":"","ucode":"D49A49D6C076A7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":19984,"discussion_content":"å“ˆå“ˆï¼ŒçœŸæ˜¯å¤Ÿäº†","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1569246313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1901428,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLwIAiaxOJWE3Ut6hRvTzvFkCIibcURojC0XrQI1lC3h58enlNcpXQ98rmUOr5lA6ST3m24micj191Gw/132","nickname":"ä¸ç–¾","note":"","ucode":"18AA0F294C1586","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370938,"discussion_content":"ctrl + fæœäº†ä¸€éæ–‡ç« ç›´åˆ°çœ‹åˆ°ä½ è¿™ä¸ªè¯„è®º= =","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1619587188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":169514,"discussion_content":"ç»ˆäºæ˜ç™½äº†ã€‚ã€‚ã€‚æ‡µé€¼äº†åŠå¤©ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1581609245,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2408066,"avatar":"https://static001.geekbang.org/account/avatar/00/24/be/82/d7f602da.jpg","nickname":"Geek_czhh8","note":"","ucode":"8872D618FC5B46","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393740,"discussion_content":"é¡¶ä¸€é¡¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631582602,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1386818,"avatar":"https://static001.geekbang.org/account/avatar/00/15/29/42/43d4b1a8.jpg","nickname":"çƒ«çƒ«çƒ«","note":"","ucode":"C06018670DE76A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318536,"discussion_content":"æˆ‘ä¸€ç›´ä»¥ä¸ºæ˜¯purgeçº¿ç¨‹ï¼Œä½†çœ‹å†…å®¹æ€ä¹ˆéƒ½å¯¹ä¸ä¸Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603775719,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46334,"user_name":"æ™¨æ€æš®è¯­","can_delete":false,"product_type":"c1","uid":1304974,"ip_address":"","ucode":"F21D2FDCDD6B43","user_header":"https://static001.geekbang.org/account/avatar/00/13/e9/8e/6dc15a91.jpg","comment_is_top":false,"comment_ctime":1543902903,"is_pvip":false,"discussion_count":9,"race_medal":0,"score":"91738216119","product_id":100020801,"comment_content":"ä¸è€å¸ˆï¼Œæœ‰ä¸€ä¸ªé—®é¢˜ä¸æ˜¯å¾ˆæ˜ç™½ï¼æœ€åå°ç»“ä¹‹å‰ï¼Œè€Œchange buffer ä¸»è¦èŠ‚çœçš„åˆ™æ˜¯éšæœºè¯»ç£ç›˜çš„IOæ¶ˆè€—ã€‚è¿™å¥è¯æ€ä¹ˆç†è§£ï¼Œå› ä¸ºçœ‹å‰é¢çš„è®²è§£ï¼Œchange bufferå¯¹æ€§èƒ½çš„ä¸»è¦æå‡ï¼Œæ˜¯åœ¨ä¸€ä¸ªå†™å¤šè¯»å°‘çš„ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨æ™®é€šç´¢å¼•çš„æƒ…å†µä¸‹ï¼Œåˆå¹¶å¤šæ¬¡å†™ä¸ºä¸€æ¬¡æ¥æ›´æ–°ç£ç›˜ï¼","like_count":21,"discussions":[{"author":{"id":1308401,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f6/f1/5ccbe3fe.jpg","nickname":"è€é†‹","note":"","ucode":"D6DF921AAB9E7A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8257,"discussion_content":"æˆ‘è§‰å¾—è€å¸ˆçš„æ„æ€åº”è¯¥æ˜¯ï¼Œå¦‚æœæ²¡æœ‰change bufferï¼Œæ¯æ¬¡æ›´æ–°éƒ½è¦å»è¯»å–ç£ç›˜ï¼Œæ‰€ä»¥èŠ‚çº¦äº†éšæœºè¯»ç£ç›˜çš„æ—¶é—´ã€‚","likes_number":18,"is_delete":false,"is_hidden":false,"ctime":1567857722,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1937317,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/8f/a5/d613dfc7.jpg","nickname":"å°æ­£","note":"","ucode":"D6D68DCC9650FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1308401,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f6/f1/5ccbe3fe.jpg","nickname":"è€é†‹","note":"","ucode":"D6DF921AAB9E7A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332129,"discussion_content":"å—¯ï¼Œå› ä¸ºå†™ä¹‹å‰è‚¯å®šè¦å…ˆè¯»ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607070427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":8257,"ip_address":""},"score":332129,"extra":""}]},{"author":{"id":1015327,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7e/1f/b1d458a9.jpg","nickname":"iamjohnnyzhuang","note":"","ucode":"E694C1828907F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":57379,"discussion_content":"â€œå½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDB å¼•æ“å°±ä¼šæŠŠè®°å½•å…ˆå†™åˆ° redolog é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™å°±ç®—æ›´æ–°å®Œäº†ã€‚â€œ\n\nä»ä¸Šé¢çš„æ­¥éª¤ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœå†…å­˜ä¸­æœ‰å€¼é‚£ä¹ˆç›´æ¥åœ¨å†…å­˜æ›´æ–°ã€‚æ²¡æœ‰å€¼çš„æƒ…å†µï¼Œå°±è¦ä»ç£ç›˜éšæœºè®¿é—®å‡ºæ¥ï¼Œç„¶åå†…å­˜æ›´æ–°ï¼ˆä¸å†™ç£ç›˜ï¼‰ã€‚å¦‚æœæœ‰äº†change bufferï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦ç°åœ¨å»è¯»å–ï¼Œè€Œæ˜¯è®°å½•åœ¨change bufferä¸­ï¼Œç­‰è®¿é—®æ—¶åœ¨ç»Ÿä¸€è¯»å–ã€‚","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1574602831,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2365564,"avatar":"https://static001.geekbang.org/account/avatar/00/24/18/7c/91d6dd83.jpg","nickname":"çº¢é«˜ç²±","note":"","ucode":"0DD331C8E01A81","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1015327,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7e/1f/b1d458a9.jpg","nickname":"iamjohnnyzhuang","note":"","ucode":"E694C1828907F6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337036,"discussion_content":"å‡å¦‚æ˜¯æ›´æ–°æ“ä½œï¼Œæ›´æ–°çš„å­—æ®µä¸åŒ…æ‹¬å”¯ä¸€ç´¢å¼•å­—æ®µï¼Œé‚£ä¹Ÿå¯ä»¥ç”¨change buffer äº†å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608776783,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":57379,"ip_address":""},"score":337036,"extra":""},{"author":{"id":1732394,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLruKArGrtM9NQYUrQib3dicKHFoia1TnSyxfjv5eFPXVHc5SU6mnibPFk3IyLPj9xia40nKUaNEzIYIicQ/132","nickname":"gogolk","note":"","ucode":"94FF5F698F55BC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1015327,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7e/1f/b1d458a9.jpg","nickname":"iamjohnnyzhuang","note":"","ucode":"E694C1828907F6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":362053,"discussion_content":"ä½†è¿™ä¸ªå·¥ä½œredo logä¹Ÿèƒ½åšå•Š ä¸ºå•¥è¦å¤šåŠ ä¸€ä¸ªchange buffer","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616836287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":57379,"ip_address":""},"score":362053,"extra":""}]},{"author":{"id":1297858,"avatar":"https://static001.geekbang.org/account/avatar/00/13/cd/c2/4ffdf37b.jpg","nickname":"DJZhu","note":"","ucode":"82866CD74F1A6F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":45729,"discussion_content":"redologå°†éšæœºå†™å˜æˆé¡ºåºå†™ï¼ŒèŠ‚çœéšæœºå†™ç£ç›˜çš„ioï¼›è¯»æ•°æ®çš„æ—¶å€™è·Ÿredologæ— ç›´æ¥å…³ç³»ï¼Œå› æ­¤ä¸å½±å“éšæœºè¯»ç£ç›˜çš„ioæ¶ˆè€—ã€‚\nchange bufferå¯ä»¥å°†ä¿®æ”¹ç¼“å­˜åœ¨å†…å­˜ï¼ŒåŒæ ·é¿å…éšæœºå†™ç£ç›˜ï¼›å¦‚æœè¯»å–çš„æ•°æ®é¡µåˆšå¥½åœ¨å†…å­˜ï¼Œç”±äºå˜æ›´åœ¨change bufferï¼Œä¸éœ€è¦å†æ¬¡è¯»ç£ç›˜ï¼Œè¿™æ˜¯change bufferæ‰€å¸¦æ¥çš„å¥½å¤„ï¼ŒèŠ‚çº¦äº†éšæœºè¯»æ¶ˆè€—ã€‚\n","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1573063333,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1467767,"avatar":"https://static001.geekbang.org/account/avatar/00/16/65/77/ad710e3e.jpg","nickname":"luffy","note":"","ucode":"F45BEC4F28671B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":226104,"discussion_content":"change buffer ä¸æ˜¯é¿å…éšæœºå†™ç£ç›˜ï¼Œæ˜¯é¿å…å¿™æ—¶éšæœºå†™ç£ç›˜å§","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1586421173,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1015184,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/90/abb7bfe3.jpg","nickname":"fourge","note":"","ucode":"F3E3FFC4990358","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582538,"discussion_content":"ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºinsertï¼Œdeleteï¼Œupdateï¼ˆDMLï¼‰æ“ä½œï¼Œå…ˆå°†å…¶å˜æ›´æ“ä½œè®°å½•åœ¨innodb buffer poolä¸­çš„ä¸€å—å†…å­˜ä¸­ï¼Œå³change bufferç¼“å­˜ï¼Œæ­¤æ—¶ä¸éœ€è¦å°†æ•°æ®é¡µä»ç£ç›˜ä¸­è¯»å–åˆ°å†…å­˜ä¸­æ¥ï¼Œæ‰€ä»¥è¯´å‡å°‘äº†éšæœºè¯»IOæ“ä½œè¯·æ±‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659498121,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1307392,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f3/00/01137172.jpg","nickname":"Bobo","note":"","ucode":"7D5D9D84359B5B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":223474,"discussion_content":"æ²¡ç†è§£ï¼Œå¦‚æœå†…å­˜æ²¡æœ‰æ•°æ®é¡µï¼Œä¼šè¯»å–ç£ç›˜ï¼Œå¹¶ä¸”å°†change bufferä¸­å†…å®¹åˆå¹¶ï¼Œç£ç›˜è¿˜æ˜¯è¦è¯»çš„å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586228865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56434,"user_name":"Scott","can_delete":false,"product_type":"c1","uid":1014800,"ip_address":"","ucode":"7E57FDCB5E5D49","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/10/165cb374.jpg","comment_is_top":false,"comment_ctime":1546443244,"is_pvip":false,"replies":[{"id":"20340","content":"1. æ•°æ®æ›´æ–°åˆ°ç£ç›˜æ˜¯è¿™ä¸¤ä¸ªéƒ½ä¸å°‘ï¼Œæ˜¯å†…å­˜ç›´æ¥å†™åˆ°ç£ç›˜çš„ã€‚<br>2. æ’å…¥æ•°æ®çš„æ—¶å€™ï¼Œä¸»é”®ç´¢å¼•ç”¨ä¸ä¸Šï¼Œä½†æ˜¯æ™®é€šç´¢å¼•å¯ä»¥<br><br>çœ‹å¾—ç³Šé‡Œç³Šæ¶‚çš„æ—¶å€™å¯ä»¥çœ‹çœ‹è¯„è®ºåŒºå“ˆ","user_name":"ä½œè€…å›å¤","comment_id":56434,"uid":"1264162","ip_address":"","utype":1,"ctime":1546447876,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":14,"race_medal":0,"score":"61675985388","product_id":100020801,"comment_content":"è¿™ä¸€ç¯‡çœ‹å¾—ç³Šé‡Œç³Šæ¶‚ï¼Œæœ‰ä¸¤ä¸ªé—®é¢˜<br>1. çœŸæ­£æŠŠæ•°æ®æ›´æ–°åˆ°ç£ç›˜ï¼Œæ˜¯ç”±change bufferåšè¿˜æ˜¯redo logåšï¼Ÿ<br>2. æ’å…¥æ–°çš„ä¸€è¡Œçš„è¯ï¼Œä¸€å®šä¼šæœ‰å”¯ä¸€primary keyçš„å•Šï¼Œè¿™æ ·æ˜¯ä¸æ˜¯æ’å…¥å°±ä¸èƒ½ç”¨change buffer?","like_count":14,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435033,"discussion_content":"1. æ•°æ®æ›´æ–°åˆ°ç£ç›˜æ˜¯è¿™ä¸¤ä¸ªéƒ½ä¸å°‘ï¼Œæ˜¯å†…å­˜ç›´æ¥å†™åˆ°ç£ç›˜çš„ã€‚\n2. æ’å…¥æ•°æ®çš„æ—¶å€™ï¼Œä¸»é”®ç´¢å¼•ç”¨ä¸ä¸Šï¼Œä½†æ˜¯æ™®é€šç´¢å¼•å¯ä»¥\n\nçœ‹å¾—ç³Šé‡Œç³Šæ¶‚çš„æ—¶å€™å¯ä»¥çœ‹çœ‹è¯„è®ºåŒºå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546447876,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1327313,"avatar":"https://static001.geekbang.org/account/avatar/00/14/40/d1/fb6f402a.jpg","nickname":"melon","note":"","ucode":"AFBE9426C10AFA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":191963,"discussion_content":"æˆ‘ä¹Ÿæƒ³çŸ¥é“è°æ›´æ–°ç£ç›˜ è€å¸ˆä¸€ç›´è¯´ä»å†…å­˜ä¸­æ›´æ–°ç£ç›˜ é‚£ä¹ˆredo log å°±æ˜¯æŠŠéšæœºå†™å˜æˆé¡ºåºå†™æ˜¯å¼„å•¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583049933,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1327313,"avatar":"https://static001.geekbang.org/account/avatar/00/14/40/d1/fb6f402a.jpg","nickname":"melon","note":"","ucode":"AFBE9426C10AFA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288510,"discussion_content":"é¡ºåºå†™çš„æ˜¯redo log","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593765706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":191963,"ip_address":""},"score":288510,"extra":""},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1327313,"avatar":"https://static001.geekbang.org/account/avatar/00/14/40/d1/fb6f402a.jpg","nickname":"melon","note":"","ucode":"AFBE9426C10AFA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312371,"discussion_content":"redo æ˜¯ä¸ºäº†å´©æºƒæ¢å¤çš„.\næ­£å¸¸æµç¨‹ä¸æ¶‰åŠ.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602671313,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":191963,"ip_address":""},"score":312371,"extra":""},{"author":{"id":1386818,"avatar":"https://static001.geekbang.org/account/avatar/00/15/29/42/43d4b1a8.jpg","nickname":"çƒ«çƒ«çƒ«","note":"","ucode":"C06018670DE76A","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1327313,"avatar":"https://static001.geekbang.org/account/avatar/00/14/40/d1/fb6f402a.jpg","nickname":"melon","note":"","ucode":"AFBE9426C10AFA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318541,"discussion_content":"æœ‰ä¸ªåå°çº¿ç¨‹å«Page Cleaner Threadï¼Œä¸“é—¨ç”¨æ¥åˆ·æ–°è„é¡µåˆ°ç£ç›˜çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603776272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":191963,"ip_address":""},"score":318541,"extra":""}]},{"author":{"id":1692320,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d2/a0/c8714628.jpg","nickname":"ç‹¬ä¸€æ— äºŒ","note":"","ucode":"A7DE0EA2BD8FE3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":49471,"discussion_content":"æ›´æ­£ä¸€ä¸‹ï¼Œæ’å…¥çš„è¯å¯ä»¥ä¸åŒ…å«ä¸»é”®åˆ—ï¼Œå€’æ˜¯å¯èƒ½åŒ…å«å”¯ä¸€é”®åˆ—ã€‚ä¸Šä¸ªè¯„è®ºä¸­åº”è¯¥è¯´æ›´æ–°è¯­å¥æ˜¯å¦åŒ…å«ä¸»é”®å’Œå”¯ä¸€é”®çš„æƒ…å†µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573604609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1692320,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d2/a0/c8714628.jpg","nickname":"ç‹¬ä¸€æ— äºŒ","note":"","ucode":"A7DE0EA2BD8FE3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":49470,"discussion_content":"è€å¸ˆï¼Œæ’å…¥æ•°æ®ä¸»é”®ç´¢å¼•ç”¨ä¸ä¸Šchange buffer,æ™®é€šç´¢å¼•å¯ä»¥ï¼Œæˆ‘æ˜¯ä¸æ˜¯å¯ä»¥ç†è§£ä¸ºåªè¦æŸ¥å…¥çš„æ•°æ®åˆ—ä¸­ä¸åŒ…å«ä¸»é”®åˆ—å’Œå”¯ä¸€é”®åˆ—å°±å¯ä»¥ç”¨åˆ°changer bufferäº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573604415,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1341207,"avatar":"https://static001.geekbang.org/account/avatar/00/14/77/17/d16eef46.jpg","nickname":"tacitowang","note":"","ucode":"89B0370A46D229","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2327,"discussion_content":"2ã€æ’å…¥æ•°æ®ä¸»é”®è‚¯å®šè¦å¯¹æ¯”æ˜¯å¦é‡å¤å§ï¼Œé‚£å°±éœ€è¦æŠŠæ•°æ®åŠ è½½åˆ°å†…å­˜æ¥åˆ¤æ–­å—ï¼Ÿä¸ç„¶ç›´æ¥å°±å†™å…¥change bufferï¼Œè¿”å›æˆåŠŸæ˜¯ä¸å¯¹çš„å˜›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563463891,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1341207,"avatar":"https://static001.geekbang.org/account/avatar/00/14/77/17/d16eef46.jpg","nickname":"tacitowang","note":"","ucode":"89B0370A46D229","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":111290,"discussion_content":"åªè¦æ˜¯å”¯ä¸€ç´¢å¼•èµ°ä½ è¯´çš„æµç¨‹ï¼ˆä¸è¦ç®¡æ˜¯ä¸æ˜¯ä¸»é”®ï¼‰ï¼Œéå”¯ä¸€ç´¢å¼•åªè¦å†™change bufferå°±è¡Œäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577790217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":2327,"ip_address":""},"score":111290,"extra":""},{"author":{"id":1346234,"avatar":"https://static001.geekbang.org/account/avatar/00/14/8a/ba/8f48bdc6.jpg","nickname":"å°åŒºåæ‰‹ç‹","note":"","ucode":"69F9D46C82A690","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":212252,"discussion_content":"æˆ‘çš„å›°æƒ‘ä¹Ÿæ˜¯è¿™é‡Œï¼š\n1ã€ä¸€èˆ¬æƒ…å†µä¸‹è¡¨éƒ½ä¼šæœ‰ä¸»é”®ï¼›\n2ã€é€šå¸¸çš„æ’å…¥ä¸»é”®éƒ½ä¸æ˜¯ç©ºçš„ï¼›\nè¿™æ ·çš„è¯ï¼Œinsertä¸‹ï¼Œchange bufferèƒ½ç”¨çš„åœºæ™¯æ˜¯ä¸æ˜¯å¾ˆå°‘äº†ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1584950943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":111290,"ip_address":""},"score":212252,"extra":""},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1346234,"avatar":"https://static001.geekbang.org/account/avatar/00/14/8a/ba/8f48bdc6.jpg","nickname":"å°åŒºåæ‰‹ç‹","note":"","ucode":"69F9D46C82A690","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312372,"discussion_content":"äºŒçº§ç´¢å¼•èƒ½ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602671427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":212252,"ip_address":""},"score":312372,"extra":""}]},{"author":{"id":1341207,"avatar":"https://static001.geekbang.org/account/avatar/00/14/77/17/d16eef46.jpg","nickname":"tacitowang","note":"","ucode":"89B0370A46D229","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2326,"discussion_content":"1ã€æ•°æ®è·Ÿæ–°åˆ°ç£ç›˜ä¸ºä»€ä¹ˆæ˜¯ä¸¤ä¸ªéƒ½ä¸å¯å°‘å‘¢ï¼Œæ¯æ¬¡çš„æ›´æ–°æ“ä½œredo logéƒ½æœ‰è®°å½•ï¼Œå¿…ç„¶redo logéƒ½ä¼šæ›´æ–°åˆ°ç£ç›˜ã€‚éš¾é“change bufferè¿˜è¦å†åšä¸€æ¬¡æ›´æ–°ç£ç›˜å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563463766,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2070879,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/99/5f/9232a19f.jpg","nickname":"Lion","note":"","ucode":"BD8DDC17EAE6FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1341207,"avatar":"https://static001.geekbang.org/account/avatar/00/14/77/17/d16eef46.jpg","nickname":"tacitowang","note":"","ucode":"89B0370A46D229","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292798,"discussion_content":"è€å¸ˆçš„æ„æ€æ˜¯ï¼Œchange bufferå’Œredo logéƒ½åšåˆ°äº†æ›´æ–°å†…å­˜ã€‚åªä¸è¿‡change bufferæ˜¯å»¶è¿Ÿçš„æ›´æ–°ã€‚è€Œè½ç›˜å°±æ˜¯å°†å†…å­˜çš„æ•°æ®åˆ·åˆ°ç£ç›˜ä¸­ï¼Œæ‰€ä»¥ä¸¤ä¸ªéƒ½ä¸å°‘ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595334163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":2326,"ip_address":""},"score":292798,"extra":""},{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1341207,"avatar":"https://static001.geekbang.org/account/avatar/00/14/77/17/d16eef46.jpg","nickname":"tacitowang","note":"","ucode":"89B0370A46D229","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577774,"discussion_content":"æˆ‘è§‰å¾—å¯ä»¥æŒ‰ç…§ä»¥ä¸‹ä¸¤ç§æƒ…å†µæ¥åˆ†æï¼š\n1ï¼šæ›´æ–°æ‰€æ¶‰åŠçš„æ‰€æœ‰pageéƒ½åœ¨å†…å­˜ä¸­ï¼Œæ­¤æ—¶ä¼šæ›´ç»†è¿™äº›pageï¼Œå¹¶è®°å½•æ›´æ–°åˆ°redo logï¼Œè¿™ä¸ªæ—¶å€™æ ¹æœ¬ç”¨ä¸åˆ°change bufferï¼Œå› æ­¤åˆ·ç›˜ä¹Ÿåªä¼šç”¨åˆ°redo log\n2ï¼šæ›´æ–°æ‰€æ¶‰åŠçš„pageå…¨éƒ¨æˆ–è€…æ˜¯éƒ¨åˆ†ä¸åœ¨å†…å­˜ä¸­ï¼Œæ­¤æ—¶æŸ¥æ‰¾åˆ°å¯¹åº”çš„æ•°æ®é¡µï¼ˆå…¶å®åªæ˜¯æ‰¾åˆ°ç£ç›˜åç§»é‡ï¼Œä¸ç„¶è¿˜å¾—IOï¼‰åï¼Œä¼šå°†æ›´æ–°è®°å½•åˆ°change bufferä¸­ï¼Œç„¶åä¹Ÿä¼šåœ¨redo logä¸­è®°å½•change bufferçš„å˜æ›´æ¡ç›®ï¼ˆä¸ºä»€ä¹ˆéå¾—åœ¨redo logè®°å½•å‘¢ï¼Œä¸ºäº†crash safeï¼‰ï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœæ˜¯åˆ·ç›˜çš„è¯ï¼Œredo logå’Œchange bufferå°±éƒ½éœ€è¦ç”¨åˆ°äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656326851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":2326,"ip_address":""},"score":577774,"extra":""}]}]},{"had_liked":false,"id":46065,"user_name":"è°¢é˜³","can_delete":false,"product_type":"c1","uid":1019623,"ip_address":"","ucode":"A9ABD36885E7AA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8e/e7/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1543841504,"is_pvip":false,"replies":[{"id":"16485","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","comment_id":46065,"uid":"1264162","ip_address":"","utype":1,"ctime":1543846956,"user_name_real":"æ—æ™“æ–Œ"}],"discussion_count":4,"race_medal":0,"score":"53083449056","product_id":100020801,"comment_content":"ä¹‹å‰æˆ‘å°±ç¢°åˆ°è¿‡ä¸€ä»¶äº‹å„¿ï¼Œæœ‰ä¸ª DBA çš„åŒå­¦è·Ÿæˆ‘åé¦ˆè¯´ï¼Œä»–è´Ÿè´£çš„æŸä¸ªä¸šåŠ¡çš„åº“å†…å­˜å‘½ä¸­ç‡çªç„¶ä» 99% é™ä½åˆ°äº† 75%ï¼Œæ•´ä¸ªç³»ç»Ÿå¤„äºé˜»å¡çŠ¶æ€ï¼Œæ›´æ–°è¯­å¥å…¨éƒ¨å µä½ã€‚<br><br>è¯·é—®è€å¸ˆï¼Œå†…å­˜å‘½ä¸­ç‡é™ä½æ˜¯æŒ‡éœ€è¦é¢‘ç¹å»ç£ç›˜åŠ è½½ç›®æ ‡é¡µæ•°æ®å—ï¼Ÿ","like_count":12,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431322,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543846956,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1158138,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ab/fa/2967c8eb.jpg","nickname":"zhcc","note":"","ucode":"2AB9D306DBFAC2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":289843,"discussion_content":"å¥½å¥‡è¿™ä¸ªå‘½ä¸­ç‡æ˜¯æ€ä¹ˆç›‘æµ‹åˆ°çš„ï¼Ÿ MySQLè‡ªå¸¦è¿™ä¸ªåŠŸèƒ½å—ï¼Ÿå¦å¤–99%æ„Ÿè§‰å¥½é«˜å•Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1594224572,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1015184,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7d/90/abb7bfe3.jpg","nickname":"fourge","note":"","ucode":"F3E3FFC4990358","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1158138,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ab/fa/2967c8eb.jpg","nickname":"zhcc","note":"","ucode":"2AB9D306DBFAC2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582540,"discussion_content":"å°±æ˜¯innodb buffer poolçš„å‘½ä¸­ç‡ç›‘æ§æŒ‡æ ‡ï¼Œmysql_global_status_innodb_buffer_pool_reads/mysql_global_status_innodb_buffer_pool_read_requests","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659498305,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":289843,"ip_address":"å¹¿ä¸œ"},"score":582540,"extra":""}]},{"author":{"id":2562181,"avatar":"https://static001.geekbang.org/account/avatar/00/27/18/85/83ac977e.jpg","nickname":"åŠå¹´ 2å·","note":"","ucode":"7F23C4532A5513","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411107,"discussion_content":"å†…å­˜å‘½ä¸­ç‡é™ä½æ˜¯æŒ‡éœ€è¦é¢‘ç¹å»ç£ç›˜åŠ è½½ç›®æ ‡é¡µæ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635851823,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136336,"user_name":"looper","can_delete":false,"product_type":"c1","uid":1238396,"ip_address":"","ucode":"DA4BCE83836C04","user_header":"https://static001.geekbang.org/account/avatar/00/12/e5/7c/2a5a418b.jpg","comment_is_top":false,"comment_ctime":1569411843,"is_pvip":false,"replies":[{"id":"52303","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1569440043,"ip_address":"","comment_id":136336,"utype":1}],"discussion_count":3,"race_medal":0,"score":"48814052099","product_id":100020801,"comment_content":"æ€è€ƒé¢˜ï¼šæˆ‘è®¤ä¸ºåœ¨çªç„¶æ–­ç”µçš„æ—¶å€™ï¼Œchange bufferä¼šä¸¢å¤±ï¼Œä½†æ˜¯æ•°æ®ä¸ä¼šä¸¢å¤±ï¼Œå› ä¸ºchange bufferå¯¹è¡¨çš„æ“ä½œéƒ½è®°å½•åœ¨äº†redo logï¼Œredo logæ˜¯crash safeçš„","like_count":11,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468578,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569440043,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2009461,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/a9/75/dbccd12d.jpg","nickname":"ç¨»è‰äºº","note":"","ucode":"6694EE2CD36B8C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":354369,"discussion_content":"å¦‚æœchange bufferä¸¢å¤±äº†è€Œæ•°æ®æ²¡ä¸¢å¤±ï¼Œä¸å°±é€ æˆä¸ä¸€è‡´äº†å—ï¼Ÿå°±æ˜¯ç´¢å¼•ç¼ºå¤±äº†è€ŒçœŸå®æ•°æ®æ›´æ–°äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615281993,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2843604,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/63/d4/b63373c3.jpg","nickname":"é‡‘é‡‘","note":"","ucode":"807EDDCDB2E939","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2009461,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/a9/75/dbccd12d.jpg","nickname":"ç¨»è‰äºº","note":"","ucode":"6694EE2CD36B8C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559510,"discussion_content":"æ•°æ®ä¸æ˜¯æ²¡æœ‰ä¸¢å¤±ï¼Œæ˜¯å‹æ ¹å°±æ²¡å†™åˆ°è¡¨æ–‡ä»¶é‡Œï¼Œä½†æ˜¯å› ä¸ºredo logè®°å½•äº†change bufferçš„å†…å®¹æ‰€ä»¥å¯ä»¥æ¢å¤change bufferï¼Œè¿™ä¹Ÿå°±é—´æ¥æ¢å¤äº†æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648801958,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":354369,"ip_address":""},"score":559510,"extra":""}]}]},{"had_liked":false,"id":120737,"user_name":"ã€‚ã€‚ã€‚ã€‚ã€‚","can_delete":false,"product_type":"c1","uid":1612570,"ip_address":"","ucode":"985B1561AC9152","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Xibh27ZicBhXls5KsPibBXZI4RKlR0MUbUiaEuOS2ORibKaxWSicpIjd4lvWUWqtNAde7EeDDTpWKAiapGdHeaiaDqczWQ/132","comment_is_top":false,"comment_ctime":1564986970,"is_pvip":false,"replies":[{"id":"44570","content":"change bufferå°±æ˜¯ä¸ºäº†é¿å…å…ˆè¯»åå†™ï¼Œå› ä¸ºè¯»æœ‰éšæœºioçš„æ¶ˆè€—","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1565095075,"ip_address":"","comment_id":120737,"utype":1}],"discussion_count":21,"race_medal":0,"score":"48809627226","product_id":100020801,"comment_content":"updateæ“ä½œä¸æ˜¯å…ˆè¯»åå†™å—ï¼Ÿå¦‚æœæ˜¯å…ˆè¯»çš„è¯ï¼Œä¸æ˜¯åº”è¯¥æŠŠæ•°æ®å·²ç»è¯»åˆ°å†…å­˜äº†å—ï¼Ÿé‚£è¿™æ ·çš„è¯ç›´æ¥æ›´æ–°å†…å­˜ä¸å°±å¥½äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å†™change buffer","like_count":11,"discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398943,"discussion_content":"æˆ‘æ¥è§£é‡Šä¸€ä¸‹ã€‚  å¦‚æœä¸€ä¸ªè¡¨ä¸Šæœ‰å­—æ®µ a, b, ä¸”æœ‰æ™®é€šç´¢å¼•cï¼Œ updateè¯­å¥ä¸º  update xxx set a = &#39;xxx&#39; where c = &#39;xxx&#39;ï¼Œ æ‰§è¡Œè¿™ä¸ªè¯­å¥çš„æ—¶å€™ï¼Œ å› ä¸ºè¦åˆ¤æ–­c = &#39;xxx&#39; çš„è®°å½•æ˜¯å¦å­˜åœ¨ï¼Œ å­˜åœ¨çš„è¯æ‰ä¼šæ›´æ–°ï¼Œ æ­¤æ—¶å¿…å®šè¦å°†c ç´¢å¼•çš„å†…å­˜é¡µè½½å…¥åˆ°å†…å­˜ä¸­ï¼ˆæ‰§è¡Œè®¡åˆ’ä¼šèµ°ç´¢å¼•c) ï¼Œ  ä¿®æ”¹å†…å­˜é¡µï¼Œå†™redo log; åŒæ—¶ä¸»é”®ç´¢å¼•é¡µä¹Ÿè¦è½½å…¥å†…å­˜è¿›è¡Œä¿®æ”¹ï¼ˆä¸»é”®ç´¢å¼•æ°¸è¿œéƒ½éœ€è¦å…ˆè¯»åå†™ï¼Œè¿™ä¸ªå…ä¸äº†ï¼‰ã€‚è¿™ä¸ªå°±ç”¨ä¸åˆ°Change Bufferã€‚  \nä½†æ˜¯å¦‚æœæ˜¯å¦å¤–ä¸€ç§åœºæ™¯ï¼š  update xxx set a = &#39;xxx&#39; where b = &#39;xxx&#39; ï¼Œ è¿™ä¸ªæ—¶å€™å› ä¸ºæŸ¥è¯¢æ¡ä»¶ä¸èµ°ç´¢å¼•cï¼Œæ•…ä¸éœ€è¦å°†cçš„æ•°æ®é¡µè½½å…¥å†…å­˜ï¼Œ é’ˆå¯¹ç´¢å¼•cä¸Šçš„ä¿®æ”¹å°±å†™å…¥åˆ°Change Bufferï¼Œ ä½†æ˜¯é’ˆå¯¹ä¸»é”®ç´¢å¼•ï¼Œè¿˜æ˜¯è¦å…ˆè½½å…¥å†…å­˜å†ä¿®æ”¹ã€‚   æ­¤æ—¶çš„ä¼˜åŒ–å°±æ˜¯é’ˆå¯¹ç´¢å¼•cçš„é¡µçš„éšæœºioçš„ä¼˜åŒ–ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1632878290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":4,"child_discussions":[{"author":{"id":1601661,"avatar":"","nickname":"GEEKBANG_8559966","note":"","ucode":"C3C87C3D7164FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":404895,"discussion_content":"è¿˜æ˜¯æˆ’é…’åçš„æç™½å“¥æ¸…é†’å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634453053,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":398943,"ip_address":""},"score":404895,"extra":""},{"author":{"id":1008517,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/85/1dc41622.jpg","nickname":"å§‘å°„ä»™äºº","note":"","ucode":"3EFC1F3E592165","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":574094,"discussion_content":"update xxx set a = &#39;xxx&#39; where b = &#39;xxx&#39;  ä¸ç´¢å¼•cæ— å…³ï¼Œæ²¡æœ‰ä¿®æ”¹ç´¢å¼•cã€‚ä¸ºä»€ä¹ˆè¿˜è¦ &#34;é’ˆå¯¹ç´¢å¼•cä¸Šçš„ä¿®æ”¹å°±å†™å…¥åˆ°Change Buffer&#34;ï¼Ÿ è¿™æ¡æ›´æ–°è¯­å¥ä¼šæ›´æ–°ç´¢å¼•cçš„æ•°æ®å—ï¼Ÿä¸å¤ªæ˜ç™½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1653832954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":398943,"ip_address":""},"score":574094,"extra":""},{"author":{"id":3018735,"avatar":"","nickname":"Geek_0494e4","note":"","ucode":"ABFF5CAF62E602","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1008517,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/85/1dc41622.jpg","nickname":"å§‘å°„ä»™äºº","note":"","ucode":"3EFC1F3E592165","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574578,"discussion_content":"è¿™é‡Œåº”è¯¥æ˜¯å­—æ®µaæ˜¯ä¸»é”®ï¼Œç´¢å¼•cçš„å¶å­èŠ‚ç‚¹è¦å­˜å‚¨ä¸»é”®çš„å€¼ï¼Œä¸»é”®çš„å€¼å‘ç”Ÿå˜åŒ–ç´¢å¼•cçš„ç´¢å¼•æ ‘ä¹Ÿè¦æ›´æ–°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654157609,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":574094,"ip_address":""},"score":574578,"extra":""}]},{"author":{"id":1970443,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","nickname":"lleft","note":"","ucode":"D573EB509455AE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288512,"discussion_content":"æ˜¯ä¸æ˜¯æœ‰äº†change bufferå°±ä¸ç”¨ä»ç£ç›˜è¯»äº†å‘€ï¼Œå†…å­˜ä¸­æœ‰çš„ç›´æ¥æ›´æ–°å†…å­˜ä¸­çš„ï¼Œæ²¡æœ‰çš„å°±æŠŠä¿®æ”¹çš„è®°å½•å†™åˆ°change bufferä¸­ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1593766514,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461454,"discussion_content":"change bufferå°±æ˜¯ä¸ºäº†é¿å…å…ˆè¯»åå†™ï¼Œå› ä¸ºè¯»æœ‰éšæœºioçš„æ¶ˆè€—","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1565095075,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2350585,"avatar":"","nickname":"Geek_0ddc80","note":"","ucode":"57B8C059E6800D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335081,"discussion_content":"ä¸ªäººè®¤ä¸ºï¼šchangebufferéœ€è¦é…ç½®å¤§å°ï¼Œå¦‚æœæ²¡é…ç½®é»˜è®¤ä¸èµ°changebufferï¼Œå¦‚æœé…ç½®äº†ï¼Œå…ˆæŸ¥è¯¢å†…å­˜ï¼ˆbuffer poolæœ‰æ²¡æœ‰è¯¥æ•°æ®æ‰€åœ¨çš„æ•°æ®é¡µï¼‰å¦‚æœæ²¡æœ‰ï¼Œä¹Ÿé…ç½®äº†changebufferï¼Œé‚£å°±ä¸èµ°ç£ç›˜è®¿é—®è¯¥æ•°æ®é¡µäº†ï¼Œè€Œæ˜¯ç›´æ¥å˜æ›´çš„è®°å½•æ”¾å…¥åˆ°ChangeBufferä¸­","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1608086587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1237327,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e1/4f/00476b4c.jpg","nickname":"Rememberä¹ç¦»","note":"","ucode":"97EE6E6344689F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":278153,"discussion_content":"æ„Ÿè§‰ç­”éæ‰€é—®å•Šï¼Œä»–é—®çš„æ˜¯   updateæ“ä½œè¦å…ˆè¯»åå†™ã€‚å¦‚æœè¿™æ¡æ•°æ®æ²¡æœ‰åœ¨å†…å­˜ä¸­ï¼Œé‚£ä¹ˆä¸æ˜¯å¿…ç„¶è¦æŠŠæ•°æ®ä»ç£ç›˜è¯»åˆ°å†…å­˜ä¸­å—ï¼Œé‚£è¿™æ—¶å€™ä¸ºä»€ä¹ˆè¿˜è¦  change bufferï¼Œchange bufferä¸æ˜¯ä¸ºäº†ä¸ä»ç£ç›˜è¯»å—ï¼Ÿç°åœ¨ä½ éƒ½å¿…é¡»å»ç£ç›˜è¯»äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591155447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":12,"child_discussions":[{"author":{"id":1526355,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","nickname":"moonfox","note":"","ucode":"902BFF40EFA9FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1237327,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e1/4f/00476b4c.jpg","nickname":"Rememberä¹ç¦»","note":"","ucode":"97EE6E6344689F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296446,"discussion_content":"å¦‚æœæ²¡åœ¨å†…å­˜ï¼Œåˆ©ç”¨change buffer å…ˆè®°å½•ä¿®æ”¹çš„å†…å®¹å°±å¯ä»¥äº†ï¼Œè€Œä¸ç”¨æŠŠç›¸åº”çš„é¡µä»ç£ç›˜è¯»å–ï¼Œä¹‹åæœ‰è¯»å–è¿™æ¡è®°å½•çš„éœ€æ±‚ï¼Œå†ä»ç£ç›˜è¯»å–é¡µï¼Œæ­¤æ—¶è§¦å‘merge ï¼ŒæŠŠchange buffer çš„å†…å®¹å†™å…¥è¿™ä¸ªé¡µã€‚è¿™æ ·å°±å¯ä»¥åœ¨æ›´æ–°æ—¶é¿å…é‚£äº›å¯ä»¥é¿å…çš„éšæœºè¯»å–","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1596544443,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":278153,"ip_address":""},"score":296446,"extra":""},{"author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1237327,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e1/4f/00476b4c.jpg","nickname":"Rememberä¹ç¦»","note":"","ucode":"97EE6E6344689F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302276,"discussion_content":"è€å¸ˆå›ç­”å¾—ä¸€ç‚¹å„¿é—®é¢˜éƒ½æ²¡æœ‰ï¼Œæ˜¯ä½ è‡ªå·±è„‘å£³æ²¡è½¬è¿‡æ¥å¼¯å„¿ã€‚å¦‚æœä½ è¿™ä¸ªéƒ½æ²¡ç†è§£åˆ°çš„è¯ï¼Œå‰é¢è¯„è®ºåŒºè®¨è®ºçš„ä¸œè¥¿ä¼°è®¡ä½ æ›´æ‡µäº†ï¼Œä½ èƒ½çœ‹è¯„è®ºåˆ°è¿™å„¿ä¹Ÿæ˜¯å¾ˆå¼ºçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598865240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":278153,"ip_address":""},"score":302276,"extra":""},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1809802,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/9d/8a/a2d34896.jpg","nickname":"ä¸€å…ƒ(wx:abley1874)","note":"","ucode":"5E7A33642FC767","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312376,"discussion_content":"æ„æ€æ˜¯è¿™ä¸ªæ„æ€,ä¸è¿‡æ„Ÿè§‰update ç›´æ¥ä¸¢åˆ°change buffer åƒæ˜¯å¼‚æ­¥æ“ä½œå•Š?\nupdate æ“ä½œ,å¾—è¿”å›æ­£ç¡®çš„å½±å“è¡Œæ•°æ®å•Š?\nè¿™æœ‰ç‚¹ä¸å¥½è§£é‡Šå•Š","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1602672779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":302276,"ip_address":""},"score":312376,"extra":""}]}]},{"had_liked":false,"id":105795,"user_name":"å°”å†¬æ©™","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1561084506,"is_pvip":false,"replies":[{"id":"38358","content":"æ¯”å¦‚æœ‰ä¸€ä¸ªè¡¨a<br>é‚£ä¹ˆa.ibd å°±æ˜¯æ•°æ®è¡¨ç©ºé—´ï¼›<br>â€œè¡¨açš„è¡¨ç»“æ„â€è¿™ä¸ªä¿¡æ¯å­˜åœ¨ibdata1çš„ç³»ç»Ÿè¡¨ç©ºé—´é‡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1561184825,"ip_address":"","comment_id":105795,"utype":1}],"discussion_count":6,"race_medal":0,"score":"44510757466","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä»€ä¹ˆæ˜¯æ•°æ®è¡¨ç©ºé—´å’Œç³»ç»Ÿè¡¨ç©ºé—´","like_count":10,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":454814,"discussion_content":"æ¯”å¦‚æœ‰ä¸€ä¸ªè¡¨a\né‚£ä¹ˆa.ibd å°±æ˜¯æ•°æ®è¡¨ç©ºé—´ï¼›\nâ€œè¡¨açš„è¡¨ç»“æ„â€è¿™ä¸ªä¿¡æ¯å­˜åœ¨ibdata1çš„ç³»ç»Ÿè¡¨ç©ºé—´é‡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561184825,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1692320,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d2/a0/c8714628.jpg","nickname":"ç‹¬ä¸€æ— äºŒ","note":"","ucode":"A7DE0EA2BD8FE3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":49206,"discussion_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜è¯·æ•™ä¸€ä¸‹ï¼Œå”¯ä¸€ç´¢å¼•æ— æ³•ä½¿ç”¨change buffer,å› ä¸ºè¦åˆ¤æ–­å”¯ä¸€æ€§ï¼Œé‚£ä¹ˆä¸»é”®ä¹Ÿæ˜¯å”¯ä¸€çš„ï¼Œæ˜¯å¦åˆ©ç”¨change bufferåº”è¯¥æœ‰ä¸¤ç§æƒ…å†µã€‚â‘ æ’å…¥çš„æ•°æ®ä¸å«ä¸»é”®ï¼Œä¹Ÿå°±æ˜¯ä¸»é”®æ˜¯é€’å¢çš„ï¼Œæ­¤æ—¶è®°å½•åˆ°change bufferä¸­çš„è®°å½•æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿæ˜¯éƒ½è¿˜è¦è€ƒè™‘æ•°æ®é¡µåœ¨ä¸åœ¨å†…å­˜ä¸­ï¼Ÿâ‘¡æ’å…¥çš„æ•°æ®åŒ…å«ä¸»é”®ï¼Œé‚£ä¹ˆå®ƒè‚¯å®šç”¨ä¸åˆ°change bufferäº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573563775,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1442605,"avatar":"https://static001.geekbang.org/account/avatar/00/16/03/2d/404627dc.jpg","nickname":"Anryg Zhun","note":"","ucode":"76DF8560BA9D14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1692320,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d2/a0/c8714628.jpg","nickname":"ç‹¬ä¸€æ— äºŒ","note":"","ucode":"A7DE0EA2BD8FE3","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":185407,"discussion_content":"æ¯æ¬¡æ’å…¥æ•°æ®ä¸€å®šéƒ½åŒ…å«ä¸»é”®çš„ åªä¸è¿‡åªæœ‰æ™®é€šéå”¯ä¸€ç´¢å¼•æ‰èƒ½ä½¿ç”¨change buffer","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582627068,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":49206,"ip_address":""},"score":185407,"extra":""}]},{"author":{"id":2604432,"avatar":"https://static001.geekbang.org/account/avatar/00/27/bd/90/99ab3369.jpg","nickname":"å±€å¤–äºº","note":"","ucode":"B8E2ED7A8ABE11","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393281,"discussion_content":"æ˜¯ä¸æ˜¯å¯ä»¥è¿™ä¹ˆç†è§£\nä¸»é”®æ˜¯èšç°‡ç´¢å¼•ï¼Œè·Ÿæ•°æ®æ˜¯å­˜åœ¨ä¸€èµ·çš„éƒ½æ”¾åœ¨a.ibdä¸­ï¼Œä¹Ÿå°±æ˜¯æ•°æ®è¡¨ç©ºé—´ã€‚\näºŒçº§ç´¢å¼•ï¼Œä¸æ•°æ®æ˜¯åˆ†å¼€æ”¾çš„ï¼Œä¸ æ•°æ®è¡¨ç»“æ„æ”¾åœ¨ ibdataä¸­ï¼Œå³ç³»ç»Ÿè¡¨ç©ºé—´\nchange buffer æ˜¯å¯¹äºŒçº§ç´¢å¼•æ›´æ–°çš„WALæœºåˆ¶ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631337953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1692320,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d2/a0/c8714628.jpg","nickname":"ç‹¬ä¸€æ— äºŒ","note":"","ucode":"A7DE0EA2BD8FE3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":49210,"discussion_content":"è¡¨ç»“æ„ä¸æ˜¯å­˜åœ¨. frmæ–‡ä»¶ä¸­å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573564014,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1339082,"avatar":"https://static001.geekbang.org/account/avatar/00/14/6e/ca/66fbd7b3.jpg","nickname":"ä¹å±±çš„èŠ·å…°ã€‚","note":"","ucode":"28BA9773F617B9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1692320,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d2/a0/c8714628.jpg","nickname":"ç‹¬ä¸€æ— äºŒ","note":"","ucode":"A7DE0EA2BD8FE3","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":291858,"discussion_content":"mysqlç‰ˆæœ¬ä¸åŒ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1594977338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":49210,"ip_address":""},"score":291858,"extra":""}]}]},{"had_liked":false,"id":46856,"user_name":"æ®¿å°äºŒ","can_delete":false,"product_type":"c1","uid":1284986,"ip_address":"","ucode":"E979673B257C24","user_header":"https://static001.geekbang.org/account/avatar/00/13/9b/7a/58327b6d.jpg","comment_is_top":false,"comment_ctime":1543991664,"is_pvip":false,"replies":[{"id":"16799","content":"1. å°±æ˜¯æ•°æ®é¡µæ²¡åœ¨å†…å­˜ï¼Œæ‰èƒ½ç”¨ä¸Šchange buffer<br><br>2. B+æ ‘æœ‰åºçš„ã€‚èƒ½æ‰¾åˆ°ï¼ˆä½ æƒ³ï¼Œæ•°æ®åº“ä¸€å¼€å§‹å¯åŠ¨çš„æ—¶å€™ï¼Œè¦æ‰¾ä¸€ä¸ªç£ç›˜ä¸Šçš„è®°å½•æ˜¯æ€ä¹ˆæ‰¾åˆ°ï¼Œä¸€æ ·çš„è¿‡ç¨‹ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544027119,"ip_address":"","comment_id":46856,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44493664624","product_id":100020801,"comment_content":"è€å¸ˆ,ä½ å¥½,æ•°æ®æ›´æ–°æ—¶,å†™å…¥change buffer,ç«‹é©¬è¯»å–è¿™ä¸€æ¡ ä¸æ˜¯åº”è¯¥ç›´æ¥ä»å†…å­˜é¡µè¯»å–å—,æœ‰å¿…è¦æŠŠæ•´ä¸ªé¡µè¯»å…¥å†…å­˜å—,è€Œä¸”innoDBæ€ä¹ˆçŸ¥é“åº”è¯¥åŠ è½½å“ªä¸€é¡µåˆ°å†…å­˜,æˆ‘è¿™ä¸€æ¡è®°å½•å¹¶æ²¡æœ‰åœ¨æ•°æ®é¡µä¸Šæœ‰ä»»ä½•æ ‡ç¤ºä½å•Š","like_count":10,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431574,"discussion_content":"1. å°±æ˜¯æ•°æ®é¡µæ²¡åœ¨å†…å­˜ï¼Œæ‰èƒ½ç”¨ä¸Šchange buffer\n\n2. B+æ ‘æœ‰åºçš„ã€‚èƒ½æ‰¾åˆ°ï¼ˆä½ æƒ³ï¼Œæ•°æ®åº“ä¸€å¼€å§‹å¯åŠ¨çš„æ—¶å€™ï¼Œè¦æ‰¾ä¸€ä¸ªç£ç›˜ä¸Šçš„è®°å½•æ˜¯æ€ä¹ˆæ‰¾åˆ°ï¼Œä¸€æ ·çš„è¿‡ç¨‹ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544027119,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":75841,"user_name":"æ— è‡æœ‹å‹","can_delete":false,"product_type":"c1","uid":1035562,"ip_address":"","ucode":"80482C5F0464A3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/2a/bdbed6ed.jpg","comment_is_top":false,"comment_ctime":1552480114,"is_pvip":false,"discussion_count":7,"race_medal":0,"score":"40207185778","product_id":100020801,"comment_content":"è€å¸ˆ æˆ‘æƒ³è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼š<br>äº‹åŠ¡é‡Œçš„updateéƒ½æ˜¯å½“å‰è¯»ï¼Œå½“å‰è¯»æ˜¯å¦å°±æ˜¯è¦æŠŠéœ€è¦æ›´æ–°çš„æ•°æ®é¡µè¯»å–åˆ°å†…å­˜ä¸­ï¼Ÿå¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œé‚£ä¹ˆchange bufferåœ¨è¿™ä¸ªåœºæ™¯ä¸‹æ˜¯å¦å°±å¤±å»ä½œç”¨äº†","like_count":9,"discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398949,"discussion_content":"Change Bufferè§£å†³çš„æ˜¯æ‰§è¡ŒDMLè¯­å¥æ—¶çš„æ€§èƒ½é—®é¢˜ï¼ˆé¿å…ä»ç£ç›˜è½½å…¥æ•°æ®é¡µåˆ°å†…å­˜ä¸­ï¼‰ï¼Œ ä½ è¿™ä¸ªåœºæ™¯ æ˜¯è¯»çš„åœºæ™¯ï¼Œ è¯»çš„åœºæ™¯å½“ç„¶æ˜¯è¦è·å–æœ€æ–°çš„æ•°æ®é¡µï¼Œå¦‚æœæ•°æ®é¡µä¸åœ¨å†…å­˜ï¼Œä¼šä»ç£ç›˜è½½å…¥æ•°æ®é¡µåˆ°å†…å­˜ã€‚  å¦å¤–ï¼Œ ä¸ç®¡æ˜¯å½“å‰è¯»è¿˜æ˜¯ä¸€è‡´æ€§è¯»ï¼Œ éƒ½æ˜¯éœ€è¦æ•°æ®é¡µåœ¨å†…å­˜ä¸­çš„ï¼Œ åªä¸è¿‡å½“å‰è¯»è·å–çš„æ˜¯è¡Œçš„æœ€æ–°ç‰ˆæœ¬ï¼Œè€Œä¸€è‡´æ€§è¯»å¯èƒ½éœ€è¦é€šè¿‡undologè·å–è€çš„ç‰ˆæœ¬ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632878939,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2735132,"avatar":"https://static001.geekbang.org/account/avatar/00/29/bc/1c/3dbbfe6c.jpg","nickname":"ğŸ¢","note":"","ucode":"93034F72D84031","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":396526,"discussion_content":"å½“å‰è¯»æ•°æ®æœ¬èº«ä¼šè¯»åˆ°å†…å­˜ä¸­ï¼Œä½†å¯¹äºä¿®æ”¹çš„æ•°æ®è‹¥æ˜¯äºŒçº§ç´¢å¼•(æ•°æ®ä¿®æ”¹åŒæ—¶éœ€è¦ä¿®æ”¹ç´¢å¼•),è‹¥å¯¹åº”ç´¢å¼•é¡µä¸åœ¨å†…å­˜ä¸­å°±ä¼šå†™change buffer","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632447832,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1722479,"avatar":"","nickname":"é©¬é’è‰³","note":"","ucode":"388E4689BED388","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303430,"discussion_content":"å½“å‰è¯» åªæ˜¯è¯»å–æœ€æ–°çš„æ•°æ®ã€‚ è¿™ä¸ªæœ€æ–°çš„æ•°æ®å¯èƒ½åœ¨å†…å­˜ä¸­ï¼Œ å¦‚æœæœ€æ–°çš„æ•°æ® è¢«åˆ·è„é¡µäº†ã€‚ ç£ç›˜ä¸­ä¹Ÿä¼šä¿å­˜ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599241240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1197343,"avatar":"https://static001.geekbang.org/account/avatar/00/12/45/1f/5fd63f1b.jpg","nickname":"Mag","note":"","ucode":"031D6313C27568","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":253305,"discussion_content":"æ ¹æ®ä¸»é”®æ›´æ–°æ™®é€šç´¢å¼•å­—æ®µæ˜¯èƒ½å¤Ÿç”¨åˆ°çš„ï¼Œæ¶‰åŠæ™®é€šç´¢å¼•æ•°æ®å¶çš„å˜æ›´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588225134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1431293,"avatar":"https://static001.geekbang.org/account/avatar/00/15/d6/fd/71100e37.jpg","nickname":"å‘†ã€","note":"","ucode":"B9D92BE7D8DF8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":167957,"discussion_content":"æœ‰åŒæ ·çš„ç–‘é—®ï¼Œæ¥¼ä¸»æœ‰ç­”æ¡ˆäº†å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581525491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1293877,"avatar":"https://static001.geekbang.org/account/avatar/00/13/be/35/dd79037e.jpg","nickname":"a...Z","note":"","ucode":"5A5A44903785FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":70541,"discussion_content":"where æ¡ä»¶æ˜¯è¦è¯»å–æ•°æ®é¡µåˆ°å†…å­˜ä¸­çš„,ç›´æ¥ä¿®æ”¹,è¿”å›,ä¸è®°å½•change buffer\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575366119,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1185046,"avatar":"https://static001.geekbang.org/account/avatar/00/12/15/16/0aae41a1.jpg","nickname":"no13bus","note":"","ucode":"69FA1A719DA4F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":11950,"discussion_content":"å¸¦whereæ¡ä»¶çš„updateä¸çŸ¥é“æ˜¯ä¸æ˜¯å°±æ˜¯è¿™æ ·çš„ã€‚ä¸»è¦æ˜¯ä¸çŸ¥é“æœ‰ä»€ä¹ˆå¯ä»¥è‡ªå·±éªŒè¯çš„åŠæ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568451768,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71838,"user_name":"Li Yao","can_delete":false,"product_type":"c1","uid":1129838,"ip_address":"","ucode":"703E1E5505F70D","user_header":"https://static001.geekbang.org/account/avatar/00/11/3d/6e/60680aa4.jpg","comment_is_top":false,"comment_ctime":1551448364,"is_pvip":false,"replies":[{"id":"26024","content":"æœ‰ä¸ªhashè¡¨ï¼Œè¯»å‡ºæ¥çš„æ—¶å€™é¡ºæ‰‹åˆ¤æ–­","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551456800,"ip_address":"","comment_id":71838,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40206154028","product_id":100020801,"comment_content":"ä¸æ˜¯å¤ªæ˜ç™½è¯»æ•°æ®æ—¶æ˜¯æ€ä¹ˆåˆ¤æ–­å½“å‰è¦è¯»çš„æ•°æ®æ˜¯å¦åœ¨change bufferä¸­å­˜åœ¨å¾…mergeçš„æ•°æ®ï¼Ÿ","like_count":9,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441352,"discussion_content":"æœ‰ä¸ªhashè¡¨ï¼Œè¯»å‡ºæ¥çš„æ—¶å€™é¡ºæ‰‹åˆ¤æ–­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551456800,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52085,"user_name":"ziven","can_delete":false,"product_type":"c1","uid":1110461,"ip_address":"","ucode":"D13AC3D2D27A6F","user_header":"https://static001.geekbang.org/account/avatar/00/10/f1/bd/049a06b0.jpg","comment_is_top":false,"comment_ctime":1545307409,"is_pvip":false,"replies":[{"id":"18916","content":"ä¸æ˜¯ï¼Œå¦‚æœæ²¡æœ‰change buffer, æ‰§è¡Œæ›´æ–°çš„â€œå½“æ—¶é‚£ä¸€åˆ»â€ï¼Œå°±è¦æ±‚ä»ç£ç›˜æŠŠæ•°æ®é¡µè¯»å‡ºæ¥ï¼ˆè¿™ä¸ªæ“ä½œæ˜¯éšæœºè¯»ï¼‰ã€‚<br><br>Chsnge bufferçœäº†è¿™ä¸ªã€‚<br>å¥½é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545315505,"ip_address":"","comment_id":52085,"utype":1}],"discussion_count":4,"race_medal":0,"score":"40200013073","product_id":100020801,"comment_content":"å’Œ @æ™¨æ€æš®è¯­ æœ‰åŒæ ·çš„ç–‘é—®ã€‚å…³äºchange buffer ä¸»è¦èŠ‚çœçš„åˆ™æ˜¯éšæœºè¯»ç£ç›˜çš„ IOæ¶ˆè€—è¿™ä¸ªç‚¹ï¼Œæˆ‘çš„ç†è§£æ˜¯å¦‚æœæ²¡æœ‰change bufferæœºåˆ¶ï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œæ›´æ–°åï¼ˆå†™å…¥redologï¼‰ï¼Œè¯»å–æ•°æ®çš„æ—¶å€™éœ€è¦ä»æ¬¡ç£ç›˜éšæœºè¯»å–redologåˆå¹¶åˆ°æ•°æ®ä¸­ï¼Œä¸»è¦å‡å°‘çš„æ˜¯è¿™éƒ¨åˆ†æ¶ˆè€—ï¼Ÿ","like_count":9,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433735,"discussion_content":"ä¸æ˜¯ï¼Œå¦‚æœæ²¡æœ‰change buffer, æ‰§è¡Œæ›´æ–°çš„â€œå½“æ—¶é‚£ä¸€åˆ»â€ï¼Œå°±è¦æ±‚ä»ç£ç›˜æŠŠæ•°æ®é¡µè¯»å‡ºæ¥ï¼ˆè¿™ä¸ªæ“ä½œæ˜¯éšæœºè¯»ï¼‰ã€‚\n\nChsnge bufferçœäº†è¿™ä¸ªã€‚\nå¥½é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545315505,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1284659,"avatar":"https://static001.geekbang.org/account/avatar/00/13/9a/33/de01b796.jpg","nickname":"èƒ–ç‹ç‹¸","note":"","ucode":"810DFA27C80837","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":219526,"discussion_content":"redo logä¸æ˜¯åšæ•°æ®è½ç›˜çš„å·¥ä½œçš„ï¼Œæ˜¯åšcrash safeçš„ï¼Œmysqlå´©æºƒä»¥åä¿æŒæ•°æ®ä¸€è‡´ç”¨åˆ°äº†redo logï¼Œåˆ·è„ä¹Ÿä¸æ˜¯ç”¨çš„redo log","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1585757632,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1100064,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c9/20/e4f1b17c.jpg","nickname":"zj","note":"","ucode":"E3329CCF694AC2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302253,"discussion_content":"è¿™ä¸ªinsert æ›´æ–°æ“ä½œä¹Ÿéœ€è¦ä»ç£ç›˜æŠŠæ•°æ®é¡µè¯»å‡ºæ¥çš„å—ï¼Ÿæˆ‘ç†è§£åªæœ‰æŸ¥è¯¢æ‰éœ€è¦è¯»å–æ•°æ®é¡µå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598860085,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1722479,"avatar":"","nickname":"é©¬é’è‰³","note":"","ucode":"388E4689BED388","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1100064,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c9/20/e4f1b17c.jpg","nickname":"zj","note":"","ucode":"E3329CCF694AC2","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303431,"discussion_content":"insert éœ€è¦æŸ¥æ‰¾æ’å…¥çš„ä½ç½®ï¼Œ åœ¨æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­ä¼šè¯»å–ç£ç›˜æ•°æ®é¡µåˆ°å†…å­˜ä¸­","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1599241355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":302253,"ip_address":""},"score":303431,"extra":""}]}]},{"had_liked":false,"id":46095,"user_name":"wang","can_delete":false,"product_type":"c1","uid":1161200,"ip_address":"","ucode":"5D569805C6A923","user_header":"https://static001.geekbang.org/account/avatar/00/11/b7/f0/a570f68a.jpg","comment_is_top":false,"comment_ctime":1543845948,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"40198551612","product_id":100020801,"comment_content":"redo logæ„Ÿè§‰æ˜¯å¯¹å†™æ•°æ®çš„ä¼˜åŒ–ã€‚<br>change buffer æ˜¯å¯¹å†™æ™®é€šç´¢å¼•çš„ä¼˜åŒ–","like_count":9},{"had_liked":false,"id":236470,"user_name":"RecklesszZ ğŸ˜¶","can_delete":false,"product_type":"c1","uid":1548802,"ip_address":"","ucode":"8DF59BEAC079DD","user_header":"https://static001.geekbang.org/account/avatar/00/17/a2/02/bd5b398c.jpg","comment_is_top":false,"comment_ctime":1595422267,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"35955160635","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæœ‰ä¸ªå›°æ‰°äº†å¾ˆä¹…çš„é—®é¢˜ä¸€ç›´æ²¡æƒ³æ˜ç™½ï¼Œå¸Œæœ›æ‚¨èƒ½è§£ç­”ã€‚æˆ‘ä»¬è®²åˆ°å¯¹äºæ™®é€šç´¢å¼•æ¥è¯´ï¼Œchange bufferå¯ä»¥é¿å…update&#47;delete&#47;insertç­‰ä¿®æ”¹æ“ä½œçš„æ—¶å€™è®¿é—®ç£ç›˜ã€‚åç»­æŸ¥è¯¢çš„æ—¶å€™å†ä»ç£ç›˜ä¸­è¯»å‡ºå¹¶mergeï¼Œè¿™ä¸ªæ›´æ–°çš„æ“ä½œæ˜¯éå®æ—¶çš„(ä¿®æ”¹æ“ä½œçš„æ—¶å€™å¹¶æ²¡æœ‰æ›´æ–°æ•°æ®),ä½†æ˜¯æˆ‘åœ¨æ“ä½œæ•°æ®åº“çš„æ—¶å€™ï¼Œä½¿ç”¨deleteï¼Œupdateç­‰æ“ä½œçš„æ—¶å€™ä¼šç«‹åˆ»å¾—åˆ°ä¿®æ”¹å½±å“çš„è¡Œæ•°ã€‚è¿™é‡Œæˆ‘å°±å¾ˆä¸è§£ï¼Œæ¯”å¦‚deleteæ“ä½œï¼Œæˆ‘åˆ é™¤ä¸€è¡Œä¸å­˜åœ¨çš„æ•°æ®ï¼Œè¿™æ—¶å€™å¦‚æœä¸å»ç£ç›˜æŸ¥æ˜¯å¦å­˜åœ¨è¿™æ¡è®°å½•è€Œå•å•çš„è®°å½•åœ¨change bufferå¹¶è¿”å›çš„è¯ï¼Œæ€ä¹ˆçŸ¥é“æœ‰æ²¡æœ‰è¿™è¡Œæ•°æ®ä»¥åŠå½±å“çš„è¡Œæ•°å‘¢ï¼Ÿ<br>æœ›å›å¤ï¼Œè°¢è°¢","like_count":8,"discussions":[{"author":{"id":2843604,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/63/d4/b63373c3.jpg","nickname":"é‡‘é‡‘","note":"","ucode":"807EDDCDB2E939","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559514,"discussion_content":"change bufferçœŸæ­£èµ·ä½œç”¨çš„åœ°æ–¹åº”è¯¥æ˜¯æ“ä½œèšç°‡ç´¢å¼•ä¸Šçš„æ•°æ®ï¼Œè¿›è€Œå¼•å‘äº†è¾…åŠ©ç´¢å¼•çš„æ•°æ®çš„æ›´æ”¹çš„æ—¶å€™ã€‚ä½ ç›´æ¥é€šè¿‡è¾…åŠ©ç´¢å¼•å»æŸ¥ä¸œè¥¿ï¼Œè¿™ä¸ªæ—¶å€™è‚¯å®šè¦è¯»å‡ºç›¸åº”çš„è¾…åŠ©ç´¢å¼•é¡µäº†ï¼Œä¸ç„¶æ€ä¹ˆå¾—åˆ°è¾…åŠ©ç´¢å¼•ä¸Šçš„æ•°æ®å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648802487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1258560,"avatar":"https://static001.geekbang.org/account/avatar/00/13/34/40/99b10e7d.jpg","nickname":"é™ˆå°æ°","note":"","ucode":"7C6C7D7F43A171","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393587,"discussion_content":"åŒé—®ï¼Œæ€ä¹ˆçŸ¥é“è¦æ›´æ–°çš„æ•°æ®å­˜ä¸å­˜åœ¨ï¼Œä»¥åŠå½±å“è¡Œæ•°æ€ä¹ˆè·å¾—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631504595,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1314800,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/f0/37feaa1d.jpg","nickname":"é©¬æ—","note":"","ucode":"38AA3E2EB1CC5F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1258560,"avatar":"https://static001.geekbang.org/account/avatar/00/13/34/40/99b10e7d.jpg","nickname":"é™ˆå°æ°","note":"","ucode":"7C6C7D7F43A171","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":397887,"discussion_content":"chang bufferåªæ˜¯é’ˆå¯¹çš„äºŒçº§ç´¢å¼•ï¼Œdmlè‚¯å®šä¼šæ›´æ–°æ•°æ®é¡µçš„ï¼Œä¼šé€šè¿‡ä¸»é”®ç´¢å¼•æ›´æ”¹æ•°æ®é¡µå¾—åˆ°å½±å“è¡Œæ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632702337,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":393587,"ip_address":""},"score":397887,"extra":""},{"author":{"id":1603078,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/zAZv4NyuS21Y1qk45j8JiaoEYdA5Zgc1PqpJsBokz5bZVmdkf6kNWvT4cUAAKAdH6TgN52DWZhiaH6wNFhw14nRg/132","nickname":"Geek_4e4ec2","note":"","ucode":"6DAD5EE4FFB195","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1314800,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/f0/37feaa1d.jpg","nickname":"é©¬æ—","note":"","ucode":"38AA3E2EB1CC5F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531758,"discussion_content":"é—®é¢˜æ˜¯å¦‚æœä¸ä»ç£ç›˜è¯»å–äºŒçº§ç´¢å¼•ï¼Œå°±æ‹¿ä¸åˆ°ä¸»é”®å€¼ï¼Œä¸çŸ¥é“ä¸»é”®å€¼ï¼Œæ€ä¹ˆé€šè¿‡ä¸»é”®ç´¢å¼•æ›´æ”¹æ•°æ®é¡µå‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637409252,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":397887,"ip_address":""},"score":531758,"extra":"{\"user_type\":1}"}]},{"author":{"id":1335222,"avatar":"","nickname":"ç…œéœ„","note":"","ucode":"518CD869A2B656","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295128,"discussion_content":"åŒæœ‰è¿™ä¸ªç–‘é—®ï¼Œchange buffer mergeä¸ä¼šå¤±è´¥ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596097069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":101310,"user_name":"è¿½é©¬","can_delete":false,"product_type":"c1","uid":1333500,"ip_address":"","ucode":"FC78BF9A28A0BA","user_header":"https://static001.geekbang.org/account/avatar/00/14/58/fc/062ec8a1.jpg","comment_is_top":false,"comment_ctime":1559780946,"is_pvip":false,"replies":[{"id":"36729","content":"å¥½é—®é¢˜<br><br>1. change bufferæœ¬èº«æ˜¯å ç”¨å†…å­˜çš„ï¼›<br>2. ä½†æ˜¯chage bufferæœ¬èº«åªæ˜¯è®°å½•äº†â€œæ›´æ–°è¿‡ç¨‹â€ï¼Œè¿œè¿œæ¯”æ•°æ®é¡µï¼ˆä¸€ä¸ª16kï¼‰å°ã€‚ç›¸æ¯”äºæŠŠæ•°æ®é¡µè¯»å…¥å†…å­˜ï¼Œè¿™ä¸ªæ–¹å¼è¿˜æ˜¯çœäº†å†…å­˜çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1560041057,"ip_address":"","comment_id":101310,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31624552018","product_id":100020801,"comment_content":"æ•°æ®è¯»å…¥å†…å­˜æ˜¯éœ€è¦å ç”¨ buffer pool çš„ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼è¿˜èƒ½å¤Ÿé¿å…å ç”¨å†…å­˜ï¼Œæé«˜å†…å­˜åˆ©ç”¨ç‡ã€‚åé¢åˆè¯´changeæ˜¯å ç”¨poolå†…å­˜çš„ï¼Œé‚£åˆ°åº•å ä¸å ç”¨buffer poolçš„å†…å­˜","like_count":7,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":452904,"discussion_content":"å¥½é—®é¢˜\n\n1. change bufferæœ¬èº«æ˜¯å ç”¨å†…å­˜çš„ï¼›\n2. ä½†æ˜¯chage bufferæœ¬èº«åªæ˜¯è®°å½•äº†â€œæ›´æ–°è¿‡ç¨‹â€ï¼Œè¿œè¿œæ¯”æ•°æ®é¡µï¼ˆä¸€ä¸ª16kï¼‰å°ã€‚ç›¸æ¯”äºæŠŠæ•°æ®é¡µè¯»å…¥å†…å­˜ï¼Œè¿™ä¸ªæ–¹å¼è¿˜æ˜¯çœäº†å†…å­˜çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1560041057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2562181,"avatar":"https://static001.geekbang.org/account/avatar/00/27/18/85/83ac977e.jpg","nickname":"åŠå¹´ 2å·","note":"","ucode":"7F23C4532A5513","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411118,"discussion_content":"å°±æ˜¯è¯´åšDMLæ“ä½œæ—¶ï¼Œä¸”æ•°æ®ä¸åœ¨å†…å­˜ä¸­æ—¶ï¼Œæ‰ç”¨ä¸Šchange buffer.  å…ˆæŠŠæ•°æ®æ›´æ–°è®°å½•åˆ°change bufferä¸­ï¼Œç­‰éœ€è¦æŸ¥è¯¢æ—¶ å…ˆmergeæ•°æ®é¡µæ•°æ®ï¼Œå†åˆ·æ•°æ®åˆ°ç£ç›˜ä¸­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635852941,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46928,"user_name":"ä¼šç©code","can_delete":false,"product_type":"c1","uid":1325282,"ip_address":"","ucode":"9220B072AF68C7","user_header":"https://static001.geekbang.org/account/avatar/00/14/38/e2/28aa8e6c.jpg","comment_is_top":false,"comment_ctime":1544003464,"is_pvip":false,"replies":[{"id":"16782","content":"å¯èƒ½æ·˜æ±°çš„æ˜¯change buffer,ä½†æ›´å¯èƒ½æ·˜æ±°çš„æ˜¯æ•°æ®é¡µå“ˆã€‚éƒ½æœ‰å¯èƒ½","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544020278,"ip_address":"","comment_id":46928,"utype":1}],"discussion_count":2,"race_medal":0,"score":"31608774536","product_id":100020801,"comment_content":"ChangeBufferå°±æ˜¯å¯¹ã€Šæ—¥å¿—ç³»ç»Ÿï¼šä¸€æ¡ SQL æ›´æ–°è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Ÿã€‹ä¸­ update è¯­å¥æ‰§è¡Œæµç¨‹è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚æ›´æ–°æ­¥éª¤ï¼šå…ˆæ›´æ–°å†…å­˜ï¼Œå†é€šè¿‡redo logæ›´æ–°ç£ç›˜ã€‚<br>è€ŒChange Bufferçš„å¼•å…¥ä½¿å¾—æ›´æ–°å†…å­˜éƒ½æ˜¯æŒ‰éœ€æ›´æ–°ï¼Œåªæœ‰åœ¨éœ€è¦è¯»çš„æ—¶å€™æ‰æ›´æ–°ã€‚ å¦‚æœè¿™æ ·ç†è§£å¯¹çš„è¯ï¼Œå°±æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåœ¨purgeä¹‹å‰ï¼Œredo logæ‰§è¡Œäº†ç£ç›˜å†™ï¼Œé‚£change bufferé‡Œçš„æ“ä½œæ˜¯ä¸æ˜¯å°±æœ‰å†²çªæ€ä¹ˆè®©å¤±æ•ˆå‘¢ï¼Ÿ<br>2018-12-03<br>î˜ˆ ä½œè€…å›å¤<br>å‰é¢è¯´çš„å¯¹ï¼Œæœ€åä¸€å¥è¯é—®é¢˜æ²¡ç†è§£â€¦ ä½ å†å‘é‡å‘ä¸€ä¸‹é—®é¢˜ğŸ˜“<br>---------------------------------------------------------<br>é—®é¢˜ï¼šç°åœ¨ä¸€ä¸ªæ‰§è¡Œæµç¨‹æ˜¯ï¼Œæ“ä½œå†™å…¥change buffer, å†™å…¥redo log commit. ä½†è¿™ä¸ªæ—¶å€™åº”è¯¥æ²¡æœ‰purge,ä¹Ÿæ²¡æœ‰é€šè¿‡redo logå†™å…¥ç£ç›˜ã€‚ Purge æ˜¯åœ¨æœ‰çš„æŸ¥è¯¢æ“ä½œçš„æ—¶å€™å‘ç”Ÿï¼ˆä¸è€ƒè™‘ç³»ç»Ÿè‡ªåŠ¨purgeï¼‰ï¼Œé‚£è¿‡æ®µæ—¶é—´åº”è¯¥ä¼šé€šè¿‡redo logæ›´æ–°åˆ°ç£ç›˜ã€‚<br>æˆ‘çš„é—®é¢˜å°±æ˜¯é€šè¿‡redo logæ›´æ–°åˆ°ç£ç›˜çš„æ—¶å€™ï¼Œå¦‚æœè¿˜æ²¡æœ‰å‘ç”Ÿpurgeæ“ä½œï¼Œé‚£å¦‚æœå†æ¬¡è¯»è§¦å‘Purgeä»ç£ç›˜è¯»ï¼ˆç£ç›˜å·²ç»æ˜¯redo logæ›´æ–°åçš„æ•°æ®äº†), æ‰€ä»¥è¿™ä¸ªåœ°æ–¹æ˜¯é€šè¿‡ä»€ä¹ˆæœºåˆ¶ç¡®ä¿æ²¡æœ‰å†²çªçš„ï¼Ÿ è°¢è°¢ï¼Œè€å¸ˆè®²çš„å¾ˆå¥½ï¼Œä¸çŸ¥é“æˆ‘è¯´æ˜ç™½æ²¡æœ‰ï¼Ÿ<br>2018-12-03<br>î˜ˆ ä½œè€…å›å¤<br>æˆ‘å¤§æ¦‚ç†è§£ä½ çš„æ„æ€äº†ã€‚<br><br>å¦‚æœæ²¡æœ‰purge,ç£ç›˜ä¸Šçš„page 2ä¸ä¼šå˜çš„ï¼Œredologæ²¡å¸®ä»–åšæ›´æ–°ã€‚<br><br>åªæœ‰purge æ‰ä¼šè§¦å‘æ›´æ–°æ•°æ®ï¼Œå¾—åˆ°æ–°çš„page 2<br>-----------------------------------------------------<br>è¿™ä¸ªåœ°æ–¹å°±ä¸æ˜¯ç‰¹åˆ«ç†è§£ï¼Œredo logä¸å°±æ˜¯ç”¨æ¥æœé›†æ“ä½œï¼Œé€‚æ—¶æ›´æ–°åˆ°ç£ç›˜å—ï¼Œè€ŒğŸˆ¶äº†change bufferåï¼Œredo logæ›´æ–°ç£ç›˜çš„æœºåˆ¶å°±ä¸ç”Ÿæ•ˆäº†å—ï¼Ÿ ä¸çŸ¥é“æ˜¯å“ªä¸ªåœ°æ–¹ç†è§£é”™äº†ï¼Ÿ<br>2018-12-03<br>î˜ˆ ä½œè€…å›å¤<br>å¯¹äºpage 2, redologå¹¶ä¸çŸ¥é“ä»–è¦æ€ä¹ˆæ›´æ–°ï¼Œredologé‡Œé¢è®°å½•çš„æ˜¯change bufferä¸Šçš„æ›´æ–°ï¼Œè€Œchange bufferä¸Šè®°å½•çš„æ˜¯æ•°æ®é¡µçš„æ›´æ–°åŠ¨ä½œ<br>----------------------------------------------------<br>è€å¸ˆï¼Œæˆ‘ç»§ç»­ä½ ä»¬çš„è®¨è®ºå†æä¸ªé—®é¢˜å“ˆï¼Œæœ‰ç‚¹ä¸æ˜¯å¾ˆæ˜ç™½ï¼Œåœ¨ç¬¬äºŒèŠ‚çš„æ—¶å€™æœ‰è®²è¿‡ï¼Œå½“redologä¸Šçš„write posè¿½ä¸Šcheckpointçš„æ—¶å€™ï¼Œéœ€è¦åœä¸‹æ¥æ“¦æ‰redologä¸Šçš„ä¸€äº›æ•°æ®ï¼Œè¿™é‡Œæ˜¯æŒ‡è¿™ä¸ªæ—¶å€™ä¼šè§¦å‘mysqlä¸Šçš„è‡ªåŠ¨mergeå—ï¼Ÿå°†redologä¸Šçš„ä¸€äº›change bufferçš„æ›´æ–°ç›¸å…³çš„æ•°æ®è½ç›˜ï¼Œç„¶åå†åˆ é™¤redologä¸Šçš„ä¸€éƒ¨åˆ†æ•°æ®ï¼Œç©ºå‡ºç©ºé—´æ¥è®°å½•æ–°çš„change bufferæ›´æ–°ï¼Ÿ","like_count":7,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431605,"discussion_content":"å¯èƒ½æ·˜æ±°çš„æ˜¯change buffer,ä½†æ›´å¯èƒ½æ·˜æ±°çš„æ˜¯æ•°æ®é¡µå“ˆã€‚éƒ½æœ‰å¯èƒ½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544020278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1368090,"avatar":"https://static001.geekbang.org/account/avatar/00/14/e0/1a/3a77856a.jpg","nickname":"darwin","note":"","ucode":"2F93C0881AAC7B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394985,"discussion_content":"mark","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632152723,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":167722,"user_name":"yihang","can_delete":false,"product_type":"c1","uid":1012361,"ip_address":"","ucode":"A5506F085D1793","user_header":"https://static001.geekbang.org/account/avatar/00/0f/72/89/1a83120a.jpg","comment_is_top":false,"comment_ctime":1577922828,"is_pvip":false,"replies":[{"id":"65112","content":"èµé‡è¯»å‘ç°çš„é—®é¢˜ğŸ˜†<br><br>å¦‚æœæ˜¯åˆ¤æ–­å”¯ä¸€ç´¢å¼•çš„ï¼Œå°±åªè¯»ã€ç´¢å¼•é¡µã€‘å°±å¯ä»¥çš„ï¼Œ<br>ä½†æ˜¯å› ä¸ºprimary keyä¹Ÿæœ‰å”¯ä¸€çº¦æŸï¼Œæ‰€ä»¥è¿™ä¸ªâ€ç´¢å¼•â€œä¹Ÿéœ€è¦åˆ¤æ–­å†²çªã€‚è€Œä¸»é”®ç´¢å¼•ä¸Šå…¶å®å°±æ˜¯æ•°æ®äº†<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1577933195,"ip_address":"","comment_id":167722,"utype":1}],"discussion_count":4,"race_medal":0,"score":"27347726604","product_id":100020801,"comment_content":"é‡å­¦è¿˜æ˜¯å‘ç°äº†é—®é¢˜ï¼šã€å¯¹äºå”¯ä¸€ç´¢å¼•æ¥è¯´ï¼Œéœ€è¦å°†æ•°æ®é¡µè¯»å…¥å†…å­˜ï¼Œåˆ¤æ–­åˆ°æ²¡æœ‰å†²çªï¼Œæ’å…¥è¿™ä¸ªå€¼ï¼Œè¯­å¥æ‰§è¡Œç»“æŸã€‘é‚£ä¹ˆè¿™é‡Œæ˜¯åªè¯»ã€ç´¢å¼•é¡µã€‘å‘¢ï¼Œè¿˜æ˜¯ä¼šè¿å¸¦ã€æ•°æ®é¡µã€‘ä¸€èµ·è¯»å…¥å†…å­˜ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479963,"discussion_content":"èµé‡è¯»å‘ç°çš„é—®é¢˜ğŸ˜†\n\nå¦‚æœæ˜¯åˆ¤æ–­å”¯ä¸€ç´¢å¼•çš„ï¼Œå°±åªè¯»ã€ç´¢å¼•é¡µã€‘å°±å¯ä»¥çš„ï¼Œ\nä½†æ˜¯å› ä¸ºprimary keyä¹Ÿæœ‰å”¯ä¸€çº¦æŸï¼Œæ‰€ä»¥è¿™ä¸ªâ€ç´¢å¼•â€œä¹Ÿéœ€è¦åˆ¤æ–­å†²çªã€‚è€Œä¸»é”®ç´¢å¼•ä¸Šå…¶å®å°±æ˜¯æ•°æ®äº†\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577933195,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1722479,"avatar":"","nickname":"é©¬é’è‰³","note":"","ucode":"388E4689BED388","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303434,"discussion_content":"ä¸»é”®ç´¢å¼•æ˜¯ä¸€ä¸ªB+æ ‘ï¼Œ   æ™®é€šç´¢å¼•ä¹Ÿæ˜¯ä¸€ä¸ªB+æ ‘ï¼Œ ä»–ä»¬æ²¡æœ‰åŒºåˆ«(é™¤äº†å”¯ä¸€æ€§å’Œä¸»é”®ç´¢å¼•å«æ•°æ®å¤–)ï¼Ÿ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599242252,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1346234,"avatar":"https://static001.geekbang.org/account/avatar/00/14/8a/ba/8f48bdc6.jpg","nickname":"å°åŒºåæ‰‹ç‹","note":"","ucode":"69F9D46C82A690","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":212254,"discussion_content":"æˆ‘çš„å›°æƒ‘ä¹Ÿæ˜¯è¿™é‡Œï¼š\n1ã€ä¸€èˆ¬æƒ…å†µä¸‹è¡¨éƒ½ä¼šæœ‰ä¸»é”®ï¼›\n2ã€é€šå¸¸çš„æ’å…¥ä¸»é”®éƒ½ä¸æ˜¯ç©ºçš„ï¼›\nè¿™æ ·çš„è¯ï¼Œinsertä¸‹ï¼Œchange bufferèƒ½ç”¨çš„åœºæ™¯æ˜¯ä¸æ˜¯å¾ˆå°‘äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584951021,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1811210,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/a3/0a/90ddca9e.jpg","nickname":"æ¢ä¼Ÿ","note":"","ucode":"E92789FA3F1D05","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1346234,"avatar":"https://static001.geekbang.org/account/avatar/00/14/8a/ba/8f48bdc6.jpg","nickname":"å°åŒºåæ‰‹ç‹","note":"","ucode":"69F9D46C82A690","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":301678,"discussion_content":"changebufferåœ¨insertä¸‹çš„ä¼˜åŒ–ä¸»è¦æ˜¯é’ˆå¯¹çš„éå”¯ä¸€äºŒçº§ç´¢å¼•çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598605730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":212254,"ip_address":""},"score":301678,"extra":""}]}]},{"had_liked":false,"id":108679,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1561853699,"is_pvip":false,"replies":[{"id":"39545","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1561983580,"ip_address":"","comment_id":108679,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27331657475","product_id":100020801,"comment_content":"ä¸ºåŠ æ·±å°è±¡å°ç»“ä¸€ä¸‹<br><br>1ï¼šæ™®é€šç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•åœ¨è¯»æ€§èƒ½ä¸Šï¼Œç›¸å·®æ— å‡ ï¼Œç”±äºæ™®é€šç´¢å¼•è¿˜éœ€è¦å¤šåšä¸€äº›æ£€ç´¢å’Œåˆ¤æ–­æ“ä½œï¼Œæ€§èƒ½ç¨å·®ï¼Œä½†å¯å¿½ç•¥ï¼Œå› ä¸ºå¤§æ¦‚ç‡è¿™äº›æ“ä½œæ˜¯åœ¨å†…å­˜ä¸­çš„æ•°æ®é¡µä¸Šè¿›è¡Œæ“ä½œçš„<br><br>2ï¼šæ™®é€šç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•åœ¨å†™æ€§èƒ½ä¸Šï¼Œä¹Ÿç›¸å·®æ— å‡ ï¼Œç”±äºå”¯ä¸€ç´¢å¼•éœ€è¦åšå”¯ä¸€æ€§æ ¡éªŒï¼Œæ€§èƒ½ç¨å·®ï¼Œä¸è¿‡ç”±äºä¸èƒ½åˆ©ç”¨change bufferæ¥ä¼˜åŒ–æ€§èƒ½ï¼Œç›¸æ¯”è€Œè¨€æ™®é€šç´¢å¼•çš„å†™æ€§èƒ½æ›´åŠ ï¼Œæ™®é€šç´¢å¼•å¯ä»¥å€ŸåŠ©change bufferæ¥ä¼˜åŒ–æ€§èƒ½ï¼Œå†™æ€§èƒ½æ›´å¥½<br><br>æœ‰ä¸ªé—®é¢˜ï¼Œæ™®é€šç´¢å¼•å†™å…¥æ—¶è™½ç„¶ä¸éœ€è¦åˆ¤æ–­å”¯ä¸€æ€§ï¼Œä½†æ˜¯å¦‚æœé‡å¤çš„ç´¢å¼•å€¼è¾ƒå¤šï¼Œæ˜¯éœ€è¦å¤„ç†æ€ä¹ˆæ”¾ç½®è¿™äº›é‡å¤çš„å€¼çš„å§ï¼Ÿè¿™ä¸ªå…·ä½“æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ<br><br>3ï¼šå¦‚æœç¨‹åºé€»è¾‘å¯ä»¥ä¿è¯å­—æ®µå€¼çš„æ­£ç¡®æ€§ï¼Œå»ºè®®ä½¿ç”¨æ™®é€šç´¢å¼•ï¼Œå°¤å…¶æ˜¯å†™å¤šçš„åœºæ™¯æ›´æ˜¯å¦‚æ­¤ï¼Œå¦åˆ™å¯¹äºéœ€è¦ä½¿ç”¨å”¯ä¸€ç´¢å¼•æ¥ä¿è¯å”¯ä¸€æ€§çš„åªèƒ½ç”¨å”¯ä¸€ç´¢å¼•äº†<br><br>4ï¼šchange bufferæœ¬è´¨ä¸Šå°±æ˜¯ä¸€å—å†…å­˜åŒºåŸŸå¹¶ä¸”åœ¨buffer poolä¸­å¼€è¾Ÿå‡ºæ¥çš„ï¼Œå¯åŠ¨æ€è°ƒæ§å¤§å°ï¼Œä¿®æ”¹æ•°æ®æ—¶å¦‚æœæ•°æ®åœ¨å†…å­˜ä¸­ï¼Œåˆ™ç›´æ¥ä¿®æ”¹ï¼Œå¦‚æœä¸åœ¨ï¼Œåœ¨ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„å‰æä¸‹å¯ä»¥å…ˆå°†å¯¹æ•°æ®çš„ä¿®æ”¹ç¼“å­˜åœ¨change bufferä¸­ï¼Œè¿™æ ·å°±èƒ½å‡å°‘è¯»ç›˜çš„æ¬¡æ•°ï¼Œä»¥æé«˜ä¿®æ”¹æ•°æ®çš„æ•ˆç‡å•¦ï¼ç”±äºè¿™æ ·çš„ç‰¹æ€§ï¼Œchange bufferåªèƒ½å¯¹æ™®é€šç´¢å¼•é€‚ç”¨ï¼Œå”¯ä¸€ç´¢å¼•&#47;ä¸»é”®ç´¢å¼•éƒ½ä¸é€‚ç”¨ï¼Œå› ä¸ºå¥¹ä»¬éœ€è¦å”¯ä¸€æ€§çš„åˆ¤æ–­ï¼Œéœ€è¦å°†æ•°æ®åŠæ—¶æ‹¿åˆ°å†…å­˜ä¸­ã€‚<br><br>change bufferé’ˆå¯¹çš„æ“ä½œåŒ…æ‹¬ï¼šå¢åŠ ã€ä¿®æ”¹ã€åˆ é™¤<br><br>change bufferé’ˆå¯¹å†™å¤šåŠå†™åå»¶è¿Ÿè¯»çš„ä¼˜åŒ–æ›´ä½³<br><br>change bufferä¹Ÿä¼šè½ç›˜æŒä¹…åŒ–ä¹Ÿä½¿ç”¨äº†WALè®°æ—¥å¿—<br><br>change bufferä¸­è®°å½•çš„æ˜¯æ•°æ®æ“ä½œçš„å†å²è®°å½•<br><br>å°† change buffer ä¸­çš„æ“ä½œåº”ç”¨åˆ°åŸæ•°æ®é¡µï¼Œå¾—åˆ°æœ€æ–°ç»“æœçš„è¿‡ç¨‹ç§°ä¸º mergeã€‚é™¤äº†è®¿é—®è¿™ä¸ªæ•°æ®é¡µä¼šè§¦å‘ merge å¤–ï¼Œç³»ç»Ÿæœ‰åå°çº¿ç¨‹ä¼šå®šæœŸ mergeã€‚åœ¨æ•°æ®åº“æ­£å¸¸å…³é—­ï¼ˆshutdownï¼‰çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿä¼šæ‰§è¡Œ merge æ“ä½œã€‚å¦‚æœchange bufferå¿«æ»¡äº†ä¹Ÿä¼šè§¦å‘mergeæ“ä½œã€‚<br><br>æ„Ÿè°¢ï¼Œæ•°æ®åº“æ€§èƒ½ä¼˜åŒ–çœŸæ˜¯æ·±å…¥çµé­‚çš„ï¼Œæˆ‘æƒ³åº”è¯¥æœ‰ä¸€ä¸ªè¿‡ç¨‹ï¼Œä¸æ˜¯ä¸€ä¸‹å­å°±æƒ³åˆ°è¿™ä¹ˆç©å¯ä»¥çš„ã€‚<br>","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":456076,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1561983580,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":80178,"user_name":"Lukia","can_delete":false,"product_type":"c1","uid":1028698,"ip_address":"","ucode":"C19472337BCCC6","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b2/5a/574f5bb0.jpg","comment_is_top":false,"comment_ctime":1553614105,"is_pvip":false,"replies":[{"id":"29657","content":"1. æ˜¯çš„<br>2. change bufferçš„å†™ç›˜ç­–ç•¥è·Ÿæ•°æ®ä¸€æ ·ï¼Œå†…å­˜æ”¾ä¸ä¸‹ä¼šè§¦å‘è½ç›˜ï¼Œè¿˜æœ‰checkpointæ¨è¿›çš„æ—¶å€™ä¹Ÿæ˜¯å¯èƒ½ä¼šå‡ºå‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1554052904,"ip_address":"","comment_id":80178,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27323417881","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œå…³äºchange bufferä¸ºä»€ä¹ˆéœ€è¦æŒä¹…åŒ–çš„é—®é¢˜è¿˜æ˜¯æœ‰ç‚¹ç–‘é—®æƒ³è¯·æ•™ä¸€ä¸‹ï¼Œæˆ‘çš„ç†è§£å¦‚ä¸‹ï¼š<br>1.æ—¢ç„¶change bufferçš„ä¿®æ”¹åœ¨äº‹åŠ¡æäº¤æ—¶åœ¨redo logä¸­éƒ½æœ‰è®°å½•çš„ï¼Œé‚£ä¹ˆå·²ç»æ˜¯crash safeçš„å§<br>2.change bufferçš„æŒä¹…åŒ–æ˜¯ä¸æ˜¯è€ƒè™‘åˆ°éšç€äº‹åŠ¡çš„è¿è¡Œï¼Œå†…å­˜ä¸­å·²ç»å­˜æ”¾ä¸ä¸‹change bufferäº†ï¼Œæ‰€ä»¥æ‰è€ƒè™‘è¦æŒä¹…åŒ–åˆ°ç³»ç»Ÿè¡¨ç©ºé—´ä¸­å»çš„ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":444774,"discussion_content":"1. æ˜¯çš„\n2. change bufferçš„å†™ç›˜ç­–ç•¥è·Ÿæ•°æ®ä¸€æ ·ï¼Œå†…å­˜æ”¾ä¸ä¸‹ä¼šè§¦å‘è½ç›˜ï¼Œè¿˜æœ‰checkpointæ¨è¿›çš„æ—¶å€™ä¹Ÿæ˜¯å¯èƒ½ä¼šå‡ºå‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1554052904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312378,"discussion_content":"change buffer ç”Ÿäº§å®Œ redo log, æ˜¯ä¸æ˜¯å°±å¯ä»¥åˆ é™¤äº†å‘€?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602673329,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":62398,"user_name":"happyæ¶›","can_delete":false,"product_type":"c1","uid":1387892,"ip_address":"","ucode":"9D67FA68C40904","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIaxhA2xdIRKUeRaiaMAVxrGJcImhY0qWoDJbLLW3l8uCvXicrHJ4GaRBkZBz4RAdaSh0YsIOJFyrhQ/132","comment_is_top":false,"comment_ctime":1548046767,"is_pvip":false,"replies":[{"id":"22355","content":"1. è¿™ä¸ªç°è±¡è·Ÿchange bufferæ— å…³çš„ ï¼Œå³ä½¿æ˜¯ç›´æ¥æ›´æ–°æ•°æ®ï¼Œå¤‡åº“è¿˜æ˜¯æœ‰å»¶è¿Ÿï¼Œä½ çœ‹ä¸‹ç¬¬28ç¯‡<br>2. ä¸€ä¸ªinsertè¯­å¥ä¼šæ›´æ–°ä¸»é”®ç´¢å¼•å’Œå…¶ä»–æ™®é€šç´¢å¼•ï¼Œæ›´æ–°æ™®é€šç´¢å¼•çš„æ—¶å€™ï¼Œå°±æœ‰å¯èƒ½å¯ä»¥ç”¨ä¸Šchange bufferäº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548267883,"ip_address":"","comment_id":62398,"utype":1}],"discussion_count":2,"race_medal":0,"score":"27317850543","product_id":100020801,"comment_content":"è¯·å«è€å¸ˆï¼š<br>1. å¦‚æœä¸»ä»åŒæ­¥çš„æƒ…å†µä¸‹ï¼Œ å¦‚æœä¿®æ”¹å†™å…¥change bufferï¼ˆè¿˜æœªæŒä¹…åŒ–åˆ°ç£ç›˜ï¼‰, è¯»çš„æ—¶å€™ä»ä»åº“è¯»ã€‚å› ä¸ºæ˜¯ä¸¤å°æœºå™¨ï¼Œä»åº“æ‹¿åˆ°çš„æ•°æ®æ˜¯ä¸æ˜¯æœªä¿®æ”¹å‰çš„ã€‚<br> 2. è¿˜æœ‰æ·»åŠ æ•°æ®æ—¶ä¸»é”®é—®é¢˜ã€‚ çœ‹æ‚¨åœ¨è¯„è®ºåŒºä¸­å›å¤ï¼šinsertçš„æ—¶å€™ï¼Œå†™ä¸»é”®æ˜¯è‚¯å®šä¸èƒ½ç”¨change bufferäº†ã€‚ é‚£è¯·é—®ä»€ä¹ˆæƒ…å†µä¸‹insertèƒ½ç”¨åˆ°ï¼Ÿå› ä¸ºè¡¨ä¸­ï¼ŒåŸºæœ¬éƒ½æœ‰IDä¸»é”®ï¼Œé‚£insertè¯­å¥æ˜¯ä¸æ˜¯æ²¡æœ‰ç”¨ä¸Šchange bufferçš„æƒ…å†µäº†ã€‚","like_count":6,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437196,"discussion_content":"1. è¿™ä¸ªç°è±¡è·Ÿchange bufferæ— å…³çš„ ï¼Œå³ä½¿æ˜¯ç›´æ¥æ›´æ–°æ•°æ®ï¼Œå¤‡åº“è¿˜æ˜¯æœ‰å»¶è¿Ÿï¼Œä½ çœ‹ä¸‹ç¬¬28ç¯‡\n2. ä¸€ä¸ªinsertè¯­å¥ä¼šæ›´æ–°ä¸»é”®ç´¢å¼•å’Œå…¶ä»–æ™®é€šç´¢å¼•ï¼Œæ›´æ–°æ™®é€šç´¢å¼•çš„æ—¶å€™ï¼Œå°±æœ‰å¯èƒ½å¯ä»¥ç”¨ä¸Šchange bufferäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548267883,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1722479,"avatar":"","nickname":"é©¬é’è‰³","note":"","ucode":"388E4689BED388","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":303435,"discussion_content":"1.  å†™å…¥change bufferçš„æ—¶å€™ï¼Œ ä¹Ÿä¼šä¼´éšä¸­Binlogçš„å†™å…¥ï¼Œ è€Œä»åº“éƒ½æ˜¯é€šè¿‡Binlogæ¥åŒæ­¥çš„ï¼Œ æ‰€ä»¥å¯ä»¥åŒæ­¥åˆ°æ•°æ®\n2.  ä¸€å¼ è¡¨å¦‚æœåªæœ‰ä¸»é”®ç´¢å¼•ï¼Œ é‚£ä¹ˆå®ƒåªæœ‰ä¸€ä¸ªB+æ ‘ï¼Œ å¦‚æœè¿˜æœ‰ä¸¤ä¸ªæ™®é€šç´¢å¼•ï¼Œ é‚£ä¹ˆè¿˜ä¼šç»´æŠ¤å¦å¤–çš„ä¸¤ä¸ªB+æ ‘ï¼Œ å¦‚æœç´¢å¼•å¤ªå¤šï¼Œ é‚£ä¹ˆä¸€ä¸ªè¡¨å°±ä¼šç»´æŠ¤å¾ˆå¤šçš„B+ tree","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1599242516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301280,"user_name":"åˆ€æ¨","can_delete":false,"product_type":"c1","uid":2128887,"ip_address":"","ucode":"BAC6FF79A3D5AD","user_header":"https://static001.geekbang.org/account/avatar/00/20/7b/f7/062d1a9f.jpg","comment_is_top":false,"comment_ctime":1625620236,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23100456716","product_id":100020801,"comment_content":"å¾ˆå¤šåŒå­¦è¿™é‡Œçº ç»“ä¸ºä»€ä¹ˆchange bufferè¦æŒä¹…åŒ–åˆ° å…±äº«è¡¨ç©ºé—´ åˆè¦ä¿å­˜åˆ°redologé‡Œã€‚<br>okï¼Œè¿™é‡Œæˆ‘ä»¬å‡è®¾ä¸æŠŠchange bufferä¿å­˜åˆ°redologé‡Œï¼Œå°±åªæŒä¹…åŒ–åˆ° å…±äº«è¡¨ç©ºé—´é‡Œï¼Œ<br>é‚£ä¹ˆåœ¨ä¿®æ”¹éå”¯ä¸€ä¸åœ¨å†…å­˜çš„äºŒçº§ç´¢å¼•æ—¶ï¼Œæˆ‘ä»¬è¦æŠŠè¿™ä¸ªä¿®æ”¹è®°å½•ç”Ÿæˆä¸€ä»½change buffer,<br>å¹¶ä¸”åœ¨è¿™ä¸ªæ—¶å€™éœ€è¦ç«‹å³é©¬ä¸Šå°†è¿™ä¸ªå†…ä»ä¸­çš„change bufferæŒä¹…åŒ–åˆ°å…±äº«è¡¨ç©ºé—´ä¸­ï¼Œä»¥é˜²æ­¢<br>è¿™ä¸ªæ—¶å€™æ•°æ®åº“å®•æœºï¼Œå†…å­˜ä¸­çš„change bufferä¸¢äº†ï¼Œæ‰€ä»¥ï¼Œåœ¨ä¸å¼•å…¥redologçš„æƒ…å†µä¸‹ï¼Œ<br>ç”Ÿæˆçš„change bufferéœ€è¦ç«‹å³é©¬ä¸Šè¿›è¡ŒæŒä¹…åŒ–è‡³å…±äº«è¡¨ç©ºé—´ä¸­ï¼Œè¿™æ˜¯ä¸€æ¬¡éšæœºioï¼Œå¯å¼€é”€ä¸å°ã€‚<br>è¿™ä¸ªæ—¶å€™ä½ å°±è¦æƒ³æƒ³æœ‰ä»€ä¹ˆåŠæ³•èƒ½æŠŠè¿™ä¸ªéšæœºioå†™å˜æˆé¡ºåºioå†™å‘¢ï¼Œæˆ–è¯´è€…ä¸è¦ç«‹åˆ»éšæœºioå†™ï¼Œ<br>è€Œæ˜¯å…ˆé¡ºåºå†™ï¼Œç­‰æ•°æ®åº“ä¸å¿™çš„æ—¶å€™åœ¨æ¥éšæœºå†™å‘¢ï¼Ÿè¿™ä¸ªè‚¯å®šå°±æ˜¯redologçš„æ´»äº†ã€‚<br>åˆ°äº†è¿™é‡Œï¼Œæˆ‘ä»¬å‘ç°éœ€è¦å¼•å…¥redologäº†ï¼Œæ¥å§è¿™ä¸ªchange bufferçš„éšæœºioå†™æŒä¹…åŒ–å»¶åã€‚<br>æˆ‘ä»¬å¸¦å…¥redologå†æ¥é‡æ–°æ¨¡æ‹Ÿä¸‹ï¼Œä¿®æ”¹æ”¹éå”¯ä¸€ä¸åœ¨å†…å­˜çš„äºŒçº§ç´¢å¼•çš„ä¾‹å­ã€‚<br>æ•°æ®ä¿®æ”¹åç”Ÿæˆchange bufferï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬ç«‹åˆ»é©¬ä¸ŠæŠŠè¿™ä¸ªchange bufferä¿å­˜è‡³redologé‡Œï¼Œ<br>ç„¶åå°±ä¸‡äº‹å¤§å‰äº†ï¼Œå³ä½¿æ•°æ®åº“å®•æœºï¼Œè¿™ä¸ªchange bufferä¹Ÿèƒ½è¢«æ‰¾å›æ¥ï¼Œåœ¨æ­¤åˆ»ä¸€å…±æœ‰åœ¨å†…å­˜ä¸­<br>æœ‰ä¸€ä»½change bufferåœ¨redologä¸­ä¹Ÿæœ‰ä¸€ä»½change bufferï¼Œå¦‚æœåå°çº¿ç¨‹è¿™ä¸ªæ—¶å€™æŠŠchange buffer<br>æŒä¹…åŒ–åˆ°äº†å…±äº«è¡¨ç©ºé—´ä¸­ï¼Œé‚£ä¹ˆä¼šæ¨è¿›checkpointï¼Œredologé‡Œçš„å­˜çš„change bufferå°±æ²¡ç”¨äº†ï¼Œå°±ç®—<br>å®•æœºæ¢å¤ä¹Ÿä¼šä»ä¿å­˜change bufferä¹‹åçš„redologå¼€å§‹æ¢å¤ï¼Œchange bufferå°±å·²ç»æŒä¹…åŒ–åˆ°<br>å…±äº«è¡¨ç©ºé—´ä¸­ï¼Œä¸éœ€è¦redologäº†ã€‚","like_count":5},{"had_liked":false,"id":280502,"user_name":"çˆ±å­¦ä¹ ","can_delete":false,"product_type":"c1","uid":1820728,"ip_address":"","ucode":"6F49E3F66AAA94","user_header":"","comment_is_top":false,"comment_ctime":1614236571,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23089073051","product_id":100020801,"comment_content":"æ—¶éš”2å¹´ç”±äºå·¥ä½œä¸Šé‡åˆ°å¾ˆå¤šmysqlé—®é¢˜ï¼Œå¼€å§‹äºŒåˆ·è¯¾ç¨‹ï¼Œè¯»åˆ°è¿™ä¸ªç« èŠ‚å¯¹change bufferè¿˜æ˜¯äº‘é‡Œé›¾é‡Œï¼Œä¸ºäº†å½»åº•å¼„æ¸…æ¥šï¼Œç¿»è¯‘äº†mysql8.0çš„å®˜æ–¹å¯¹äºchangebufferçš„è¯´æ˜ï¼Œå‘åˆ°äº†åšå®¢ä¸Šï¼Œhttps:&#47;&#47;blog.csdn.net&#47;michaelrainy&#47;article&#47;details&#47;114081627ï¼Œå¸Œæœ›å¯¹åŒæ ·ç–‘æƒ‘çš„åŒå­¦æœ‰å¸®åŠ©ã€‚","like_count":5},{"had_liked":false,"id":222296,"user_name":"jiyoujiu","can_delete":false,"product_type":"c1","uid":2016574,"ip_address":"","ucode":"7A3EAA2DA97A78","user_header":"https://static001.geekbang.org/account/avatar/00/1e/c5/3e/3df0c488.jpg","comment_is_top":false,"comment_ctime":1590740200,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"23065576680","product_id":100020801,"comment_content":"å¿ä¸ä½åˆæ¥è¯„è®ºäº†ï¼š<br>ChangeBuffer :æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªB+æ•°ï¼Œå­˜æ”¾åœ¨å…±äº«è¡¨ç©ºé—´ä¸­ã€‚ä½¿ç”¨changebufferåå¯èƒ½å¯¼è‡´innodb_buffer_poolçš„ä½¿ç”¨å†…å­˜å˜å¤§(å› ä¸ºè¦åœ¨å†…å­˜é‡Œé¢ç»´æŠ¤è¿™æ ·ä¸€ä¸ªæ ‘ç»“æ„)<br>mergeçš„åˆå¹¶æ—¶æœºä¼šï¼š<br>1ã€masterçº¿ç¨‹æ¯1ç§’æˆ–è€…10ç§’åˆ·æ–°ï¼Œéšå³é€‰å–changbufferçš„å¶å­èŠ‚ç‚¹è¿›è¡Œmergeæ“ä½œ<br>2ã€æ’å…¥changebufferåï¼Œç«‹å³æ‰§è¡Œäº†è¯»å–æ“ä½œ<br>3ã€changebufferçš„ç©ºé—´ä¸æ»¡è¶³è¦æ±‚æ—¶ï¼ˆå½“æ£€æµ‹åˆ°æ’å…¥çš„æ•°æ®å¤§äºåˆ¶å®šå¶çš„å®¹é‡é™åº¦æ—¶ï¼‰","like_count":5},{"had_liked":false,"id":148094,"user_name":"å¤§æµ·è´¼","can_delete":false,"product_type":"c1","uid":1670668,"ip_address":"","ucode":"CB85D630BC4DE4","user_header":"https://static001.geekbang.org/account/avatar/00/19/7e/0c/aee4c0a3.jpg","comment_is_top":false,"comment_ctime":1572940185,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"23047776665","product_id":100020801,"comment_content":"è¿™ç¯‡æ–‡ä¸­ä¸»è¦è®¨è®ºçš„æ˜¯äºŒçº§ç´¢å¼•ï¼ˆå”¯ä¸€ç´¢å¼•ã€æ™®é€šç´¢å¼•)ï¼Œè¿›è¡Œå¦‚ä¸‹æ“ä½œæœ‰ä»€ä¹ˆå½±å“ï¼Œæåˆ°äº†change bufferçš„æ¦‚å¿µï¼Œä»¥åŠredo log<br>\tselect è¯­å¥ï¼šã€€å”¯ä¸€ç´¢å¼•å’Œæ™®é€šç´¢å¼•å¯¹æŸ¥è¯¢çš„æ€§èƒ½åŸºæœ¬ä¸Šå·®ä¸å¤šï¼Œåªæ˜¯æ™®é€šç´¢å¼•æ¯”å”¯ä¸€ç´¢å¼•å¤šä¸€æ¬¡åˆ¤æ–­ï¼Œå› ä¸ºæ™®é€šç´¢å¼•çš„éå”¯ä¸€æ€§<br><br>\tupdate&#47;insert è¯­å¥ï¼šæ›´æ–°æŒ‡çš„æ˜¯æ›´æ–°åˆ°äº†äºŒçº§æ™®é€šç´¢å¼•ã€‚æåˆ°äº†change bufferè¿™ä¸ªè§’è‰²ï¼Œè¿™å—æ–‡ä¸­ä½“ç°çš„ä¸å¥½(å¯¹è¿™å—æˆ‘è¯»äº†å¥½å‡ éï¼Œåæ¥å»å®˜ç½‘æ–‡æ¡£ä¸­çœ‹æ˜ç™½äº†https:&#47;&#47;dev.mysql.com&#47;doc&#47;refman&#47;5.7&#47;en&#47;innodb-change-buffer.html#innodb-change-buffer-configuration),æ–‡ä¸­æåˆ°æ•°æ®é¡µæŒ‡çš„æ™®é€šç´¢å¼•çš„æ•°æ®é¡µï¼Œä¸æ˜¯æ•°æ®æ•°æ®é¡µã€‚change bufferåœ¨5.5ä¹‹å‰ä¸å«change buffer å«insert bufferï¼Œå› ä¸ºæŒ‡æ”¯æŒinsert è¯­å¥ï¼Œåæ¥æ”¯æŒäº†update, delete, purgesç­‰ï¼Œå°±æŠŠåå­—æ”¹æˆäº†change bufferã€‚å¯¹äºäºŒçº§å”¯ä¸€ç´¢å¼•å’Œæ™®é€šç´¢å¼•åŒºåˆ«å°±ä½“ç°åœ¨è¿™é‡Œã€‚å”¯ä¸€ç´¢å¼•å› ä¸ºå…·æœ‰å”¯ä¸€æ€§ï¼Œå› ä¸ºè¿™ä¸ªçº¦æŸï¼Œç´¢å¼•æ’å…¥å’Œæ›´æ–°çš„æ—¶å€™éƒ½è¦å»éªŒè¯ï¼Œå¿…é¡»ç¡®ä¿æ•°æ®è¯»å…¥å†…å­˜ä¸­(ä¸å†åˆ™éœ€è¦ç‰©ç†è¯»)ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨change bufferã€‚å…¶å®change buffer åªæ˜¯é€‚ç”¨äºæ™®é€šç´¢å¼•(è¿™é‡Œæœ€æ—©ä¹Ÿæ˜¯ä¸æ˜ç™½ï¼Œåæ¥åˆæŠŠç´¢å¼•é‚£å—çœ‹äº†å‡ é)ï¼Œå…ˆè¯´è¯´change buffer çš„ä½œç”¨æŠŠï¼Œå®ƒçš„ä½œç”¨å¾ˆæ˜ç¡®ï¼Œå°±æ˜¯â€œå‡å°‘äºŒçº§ç´¢å¼•çš„éšæœºIOï¼Œåšæ“ä½œåˆå¹¶â€ï¼Œé‚£æ€ä¹ˆä¼šäº§ç”Ÿéšæœºioå‘¢ï¼ŒåŸå› æ˜¯äºŒçº§æ™®é€šç´¢ç´¢å¼•é€šå¸¸æ˜¯æ— åºçš„ã€‚<br>ä»¥ä¸Šä¸»è¦æ˜¯æˆ‘è‡ªå·±ä¸€å¼€å§‹æ²¡èƒ½ç†è§£çš„åœ°æ–¹ï¼Œå…¶ä»–å†…å®¹æ²¡æœ‰æ²¡é—®é¢˜ã€‚<br>ä¸é½è€å¸ˆè®²çš„æ€è·¯è¿˜æ˜¯æŒºæ¸…æ™°çš„ï¼Œå¥½çš„å†…å®¹éœ€è¦åå¤è¯»æŸ¥é˜…æ›´å¤šçš„èµ„æ–™ï¼Œæ‰èƒ½åå¤ç†è§£","like_count":5,"discussions":[{"author":{"id":1182802,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0c/52/f25c3636.jpg","nickname":"é•¿è„–å­æ ‘","note":"","ucode":"D9090EF67EEB1B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349707,"discussion_content":"ä¸€å¥è¯å°±æ˜¯ change buffer æ˜¯äºŒçº§ç´¢å¼•çš„å˜æ›´ç¼“å­˜, ç”¨äºå‡å°‘äºŒçº§ç´¢å¼•æ›´æ–°æ—¶å¸¦æ¥çš„éšæœº IO ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1613472461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1339082,"avatar":"https://static001.geekbang.org/account/avatar/00/14/6e/ca/66fbd7b3.jpg","nickname":"ä¹å±±çš„èŠ·å…°ã€‚","note":"","ucode":"28BA9773F617B9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":291868,"discussion_content":"ç´¢å¼•éƒ½æ˜¯æœ‰åºçš„ã€‚\n\næ‰€è°“çš„éšæœºIOï¼Œä¸ªäººç†è§£æŒ‡çš„æ˜¯ï¼šåœ¨ç´¢å¼•æœ‰åºçš„åŸºç¡€ä¸Šï¼Œåªèƒ½ä¸€è¡Œè¡Œçš„æŸ¥è¯¢åˆ¤æ–­ï¼ˆå¯èƒ½ä¼šæœ‰å…¶ä»–æ¡ä»¶ï¼‰ï¼Œæ— æ³•ç›´æ¥å®šä½åˆ°æŸä¸ªæ•°æ®é¡µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594980532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1182802,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0c/52/f25c3636.jpg","nickname":"é•¿è„–å­æ ‘","note":"","ucode":"D9090EF67EEB1B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1339082,"avatar":"https://static001.geekbang.org/account/avatar/00/14/6e/ca/66fbd7b3.jpg","nickname":"ä¹å±±çš„èŠ·å…°ã€‚","note":"","ucode":"28BA9773F617B9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349709,"discussion_content":"é€šå¸¸äºŒçº§ç´¢å¼•åœ¨æ›´æ–°æ—¶éƒ½æ˜¯éšæœº IO , æ‰€ä»¥è¯´æ˜¯ &#34;æ— åº&#34; çš„\næ¯”å¦‚ä¸€ä¸ª ç”¨æˆ·è¡¨ æœ‰ä¸¤ä¸ªå­—æ®µ id, name , id ä¸ºä¸»é”® , name åšäº†ä¸€ä¸ªäºŒçº§ç´¢å¼•\næˆ‘ä»¬å¯¹ name æ›´æ–°æ—¶, äºŒçº§ç´¢å¼•ä¹Ÿä¼šæ›´æ–°, æ˜¾ç„¶æ›´æ–°ä¹‹åçš„ name å¯¹åœ¨ äºŒçº§ç´¢å¼•ä¸­ä½ç½®æ˜¯ä¸å®šçš„, æ‰€ä»¥è¯´æ˜¯éšæœº IO , æ— åºçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613472622,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":291868,"ip_address":""},"score":349709,"extra":""}]}]},{"had_liked":false,"id":45861,"user_name":"æ†¶æµ·æ‹¾è²","can_delete":false,"product_type":"c1","uid":1054727,"ip_address":"","ucode":"99E883A8601DED","user_header":"https://static001.geekbang.org/account/avatar/00/10/18/07/9f5f5dd3.jpg","comment_is_top":false,"comment_ctime":1543804838,"is_pvip":false,"replies":[{"id":"16377","content":"å—¯è¿™é‡Œå…¶å®è¦è¯´ç­‰æ˜¯â€œä¸šåŠ¡è¦ä¿è¯â€<br>å½“è¦æ€§èƒ½é—®é¢˜çš„æ—¶å€™ï¼Œå¤šä¸€ä¸ªcheckçš„ç‚¹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543806062,"ip_address":"","comment_id":45861,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23018641318","product_id":100020801,"comment_content":"å”¯ä¸€å­—æ®µä¸åŠ å”¯ä¸€ç´¢å¼•, å¢¨è²å®šå¾‹ä¼šå‡ºæ¥æäº‹.  -- è®°ä¸€æ¬¡è¸©å‘ç»éªŒ..","like_count":5,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431242,"discussion_content":"å—¯è¿™é‡Œå…¶å®è¦è¯´ç­‰æ˜¯â€œä¸šåŠ¡è¦ä¿è¯â€\nå½“è¦æ€§èƒ½é—®é¢˜çš„æ—¶å€™ï¼Œå¤šä¸€ä¸ªcheckçš„ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543806062,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229697,"user_name":"é™é™è†å¬","can_delete":false,"product_type":"c1","uid":1263932,"ip_address":"","ucode":"0A8600CB928EFE","user_header":"https://static001.geekbang.org/account/avatar/00/13/49/3c/5d54c510.jpg","comment_is_top":false,"comment_ctime":1593102453,"is_pvip":false,"replies":[{"id":"84773","content":"åé¢çš„æ–‡ç« é‡Œé¢æœ‰å“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1593139703,"ip_address":"","comment_id":229697,"utype":1}],"discussion_count":4,"race_medal":0,"score":"18772971637","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³å¯¹äºæˆ‘è¿™æ ·ç¬¬ä¸€æ¬¡æ¥è§¦changebufferçš„äººæ¥è¯´ï¼Œçœ‹æœ¬ç¯‡æ–‡ç« ä¼šæœ‰äº›è¯¯è§£ï¼Œå› ä¸ºæ–‡ç« é€šç¯‡æåˆ°çš„éƒ½æ˜¯æ•°æ®é¡µï¼Œæˆ‘ä»¥ä¸ºä¿®æ”¹çš„å­—æ®µä¹Ÿä¼šç¼“å­˜åœ¨changebufferä¸­å‘¢ï¼Œæˆ‘æŸ¥æ‰¾èµ„æ–™åå‘ç°changebufferåªæ˜¯ç¼“å­˜å¯¹ç´¢å¼•é¡µçš„å¢åˆ æ”¹ï¼Œå¦‚æœæ˜¯è¿™æ ·ï¼Œè€å¸ˆå¯ä»¥åœ¨æ–‡ç« ä¸­è¯´æ˜changebufferåªåœ¨ç´¢å¼•é¡µç”Ÿæ•ˆï¼Œä»¥å…åƒæˆ‘ä¸€æ ·çš„äººäº§ç”Ÿè¯¯è§£ğŸ˜¬","like_count":4,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499597,"discussion_content":"åé¢çš„æ–‡ç« é‡Œé¢æœ‰å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593139703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2717360,"avatar":"https://static001.geekbang.org/account/avatar/00/29/76/b0/0c8ac01c.jpg","nickname":"cly_2","note":"","ucode":"25DAF9E47361BD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581484,"discussion_content":"ç¡®å®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658806078,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1106631,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e2/c7/f671bd93.jpg","nickname":"amy","note":"","ucode":"C6DAA11AFD3EC9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":295338,"discussion_content":"æˆ‘ä¹Ÿæ˜¯åŒæ ·çš„é—®é¢˜ï¼ï¼åˆ°åº•æ˜¯å¯¹ç¼“å­˜é¡µè¿˜æ˜¯æ•°æ®é¡µç”Ÿæ•ˆï¼Œæˆ‘éƒ½è¢«ææ™•äº†ï¼Œæ€»ç®—çœ‹åˆ°ä½ çš„è¯„è®ºè®©æˆ‘æ¸…æ¥šäº†ä¸€ç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596167667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1392326,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/7KvTibLByic8Eht03jsera25gTIoJEKnajulAVyRibaFic34rNjCSd3DBpjwWInJ72gBMuo1RNNoFdiay0PUSy8971Q/132","nickname":"hahahhh","note":"","ucode":"ED94DDF526F94D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292956,"discussion_content":"æˆ‘å’Œä½ åŒæ ·é—®é¢˜ï¼Œè‡ªå·±æ‰¾äº†å¥½ä¹…ï¼Œå®˜ç½‘éƒ½çœ‹äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595396331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46587,"user_name":"Tony Du","can_delete":false,"product_type":"c1","uid":1001661,"ip_address":"","ucode":"F5FCC400E615EA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/bd/6c7d4230.jpg","comment_is_top":false,"comment_ctime":1543940811,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"18723809995","product_id":100020801,"comment_content":"å¯¹äºredo logï¼Œåå°ä¼šå®šæœŸæŠŠredo logçš„å†…å®¹åˆ·åˆ°ç£ç›˜ï¼Œç„¶åå¯¹äºchange bufferï¼Œåå°ä¹Ÿä¼šå®šæœŸåšmergeæ“ä½œï¼ˆæˆ–è€…å½“è®¿é—®æ•°æ®é¡µçš„æ—¶å€™åšå®šæœŸæ“ä½œï¼‰ã€‚é‚£å½“redo logåˆ·åˆ°ç£ç›˜ä¸Šåï¼Œè¯»å–ç£ç›˜ä¸Šçš„æ•°æ®é¡µå°±æ˜¯æœ€æ–°çš„äº†ï¼Œåˆ™æ­¤æ—¶å½“è¯»å–æ•°æ®é¡µæ—¶çš„mergeæ“ä½œï¼ˆmergeæ“ä½œ ï¼ æ›´æ–°æ“ä½œ ï¼‹ è€çš„æ•°æ®é¡µé¢ï¼‰å°±æ˜¾å¾—ä¸validäº†ï¼Œæˆ–è€…è¯´ä¸æ­£ç¡®äº†ï¼Ÿ<br>æ¢ä¸€ä¸ªè§’åº¦é—®ï¼Œredo logå®šæœŸåˆ·åˆ°ç£ç›˜å’Œchange bufferå®šæœŸmergeæ“ä½œï¼Œä¹‹é—´æœ‰ä»€ä¹ˆè”ç³»ï¼Ÿå› ä¸ºå®ƒä»¬éƒ½ä¼šå°†æœ€æ–°çš„æ•°æ®åˆ·åˆ°ç£ç›˜ä¸Šã€‚å¦‚æœæœ‰ä¸¤æ¡å¹¶è¡Œçš„çº¿å»åˆ·æœ€æ–°çš„æ•°æ®åˆ°ç£ç›˜ï¼Œåˆ™ä¸¤è€…ä¹‹é—´å¦‚ä½•åŒæ­¥ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1518793,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2c/c9/462afe28.jpg","nickname":"å°ç™½","note":"","ucode":"11FC209D9ED65F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":33571,"discussion_content":"å¦‚æœæ²¡æœ‰merge,ç£ç›˜ä¸Šçš„æ•°æ®ä¸ä¼šå˜çš„ï¼Œredologæ²¡å¸®ä»–åšæ›´æ–°ï¼Œåªæœ‰ merge æ‰ä¼šè§¦å‘æ›´æ–°æ•°æ®","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1571136227,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1518793,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2c/c9/462afe28.jpg","nickname":"å°ç™½","note":"","ucode":"11FC209D9ED65F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":33577,"discussion_content":"redolog è®°å½•çš„æ˜¯ change buffer çš„æ“ä½œï¼Œè€Œchange bufferä¸Šè®°å½•çš„æ˜¯æ•°æ®é¡µçš„æ›´æ–°åŠ¨ä½œã€‚æ‰€ä»¥ redolog å¹¶ä¸çŸ¥é“æ•°æ®æ˜¯æ€ä¹ˆæ›´æ–°ï¼ŒçœŸæ­£æ•°æ®æ›´æ–°åˆ°ç£ç›˜æ˜¯ merge è§¦å‘çš„ï¼Œè€Œä¸æ˜¯ redologã€‚æˆ‘æ˜¯è¿™æ ·ç†è§£ï¼Œä¸çŸ¥é“å¯¹ä¸å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571136410,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1293877,"avatar":"https://static001.geekbang.org/account/avatar/00/13/be/35/dd79037e.jpg","nickname":"a...Z","note":"","ucode":"5A5A44903785FD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1518793,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2c/c9/462afe28.jpg","nickname":"å°ç™½","note":"","ucode":"11FC209D9ED65F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":70545,"discussion_content":"ä¸å¯¹å§,redo log è®°å½•çš„æ˜¯ç‰©ç†é€»è¾‘æ—¥å¿—,ä¹Ÿå°±æ˜¯æ•°æ®é¡µçš„å˜åŒ–,è¯»æ•°æ®è¿›è¡Œmergeçš„æ—¶å€™æ˜¯å¦éœ€è¦è¿›è¡Œmergeæ“ä½œæœ‰ä¸ªhashè¡¨,é‚£redo log åˆ·æ–°ç£ç›˜çš„æ—¶å€™åº”ç”¨çš„ä¹Ÿæ˜¯è¿™ä¸ªhashå§,redo log è¿›è¡Œæ“ä½œäº†,ä¼šé‡Šæ”¾change bufferä¸­çš„è¿™ä¸ªè¡Œè®°å½•æ“ä½œ,æˆ‘è§‰å¾—æ˜¯è¿™æ ·çš„","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1575366611,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":33577,"ip_address":""},"score":70545,"extra":""}]}]},{"had_liked":false,"id":276607,"user_name":"å°ç™½ç™½ä¸ç™½","can_delete":false,"product_type":"c1","uid":1757797,"ip_address":"","ucode":"270EC3A197A8D9","user_header":"https://static001.geekbang.org/account/avatar/00/1a/d2/65/79d89c77.jpg","comment_is_top":false,"comment_ctime":1612029214,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"14496931102","product_id":100020801,"comment_content":"çœ‹è¯„è®ºåŒºæœ‰å†™åŒå­¦è¯´ updateå’Œdeleteè¯­å¥èƒ½ç«‹é©¬ç»™å‡ºç»“æœï¼Œå¯¼è‡´ä¸èƒ½ç†è§£changBufferæœ‰ä»€ä¹ˆç”¨ã€‚è¿™é‡Œæˆ‘è¯´ä¸‹ä¸ªäººæ‹™è§ï¼Œä¸å¯¹è¯·æ–§æ­£ã€‚<br>changeBufferè¯¦ç»†ä¸€ç‚¹æ¥è¯´æ˜¯å¯¹æ™®é€šç´¢å¼•é¡µçš„ä¼˜åŒ–ã€‚<br>æ™®é€šç´¢å¼•ï¼ˆnameï¼‰ ï¼ˆageï¼‰ä¸»é”®ï¼ˆidï¼‰<br>ï¼ˆ4ï¼Œå¼ ä¸‰ï¼‰<br>è¯­å¥ä¸€:update name=æå›› where id = 4<br>è¯­å¥äºŒ:update age  where name=&#39;æå››&#39;<br>å¯çŸ¥ä¸»é”®ä¸ºèšç°‡ç´¢å¼•ï¼Œå­˜ç€æ•´è¡Œæ•°æ®ã€‚æ™®é€šç´¢å¼•å­˜ç€å½“å‰ç´¢å¼•æ®µçš„æ•°æ®å’Œä¸»é”®å€¼ã€‚<br>è¯­å¥ä¸€:<br>1.ä¸»é”®æ•°æ®ï¼ˆé¡µï¼‰è¯»åˆ°å†…å­˜ï¼Œä¿®æ”¹ä¸»é”®ä¸Šçš„æ•°æ®è¡Œã€‚<br>2.ä¿®æ”¹æ™®é€šç´¢å¼•nameä¸Šçš„nameå­—æ®µæ•°æ®ã€‚<br>ç¬¬ä¸€æ­¥æ˜¯å¿…é¡»è¯»ç›˜åˆ°å†…å­˜ä¸­çš„ï¼Œç„¶åä¿®æ”¹å¯¹åº”æ•°æ®,å¾—åˆ°ä¿®æ”¹æ•°æ®è¡Œã€‚ç¬¬äºŒæ­¥æ˜¯è¦å»ä¿®æ”¹nameç´¢å¼•çš„æ•°æ®ï¼Œè¿™æ—¶å°±å¯ä»¥å°†æ­¤æ“ä½œæ”¾åˆ°changeBufferé‡Œï¼Œç­‰å¾…ä¸‹æ¬¡ç”¨åˆ°nameç´¢å¼•æ—¶ï¼ˆç”¨åˆ°å°±ä¼šè¯»åˆ°å†…å­˜ä¸­ï¼‰ï¼Œå†å°†å…¶ä¿®æ”¹ï¼Œæ‰€ä»¥å°±çœäº†ç¬¬äºŒæ­¥çš„è¯»ç›˜æ“ä½œã€‚æ‰€ä»¥æ™®é€šç´¢å¼•çš„nameæš‚æ—¶æ˜¯å¼ ä¸‰ã€‚<br>è¯­å¥äºŒï¼ˆç´§æ¥ç€è¯­å¥ä¸€ï¼‰:<br>1.nameç´¢å¼•æ•°æ®è¯»åˆ°å†…å­˜ï¼Œæ ¹æ®hashå‘ç°changBufferä¸Šæœ‰æœ¬æ¬¡è¯»å–é¡µçš„æ•°æ®æ²¡æœ‰æ”¹ï¼Œå°±é¡ºä¾¿æ”¹ä¸€ä¸‹ã€‚<br>2.ç´¢å¼•åˆ°name=æå››çš„id,ç„¶åå»ä¿®æ”¹ä¸»é”®ä¸­çš„ageæ•°æ®ï¼Œä¿®æ”¹å®Œä¸»é”®çš„åï¼Œè¿™æ—¶å°±è¯¥å»ä¿®æ”¹ageç´¢å¼•çš„æ•°æ®äº†ï¼Œä½†ageæ˜¯æ™®é€šç´¢å¼•ï¼Œæ‰€ä»¥ä¼šå°†æ“ä½œæ”¾åˆ°changeBufferé‡Œï¼Œç­‰å¾…æ—¶æœºå»æ›´æ–°ã€‚","like_count":3,"discussions":[{"author":{"id":2945646,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/f2/6e/80875b9d.jpg","nickname":"æ—…è¡Œè€…R","note":"","ucode":"956B8AE5DFD61F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556656,"discussion_content":"è¿™ä¸ªæ˜¯æ­£ç¡®çš„ç†è§£å—ï¼Œæˆ‘çœŸçš„æœ‰ç‚¹æ‡µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647438537,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1105354,"avatar":"https://static001.geekbang.org/account/avatar/00/10/dd/ca/fe3f7f0e.jpg","nickname":"T.Y","note":"","ucode":"243C96604F1CAA","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398631,"discussion_content":"çœ‹åˆ°è¿™é‡Œç»ˆäºé‡Šæ€€äº†ï¼Œæ–‡ç« é‡Œæ²¡æœ‰å†™æ¸…æ¥šchangebufferå…¶å®ç¼“å­˜çš„æ˜¯äºŒçº§ç´¢å¼•æ•°æ®ï¼Œå¹¶ä¸æ˜¯ç¼“å­˜çš„æ•°æ®æœ¬èº«ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632823454,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1668117,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJLgibqHsl97Oq3nvnEVz7V3kaGKLmia0Ja8c4yXO7QeLKiakganRJomNGgYToW4RnFs60zibDTHicjE5w/132","nickname":"å­¦è€Œä¸æ€åˆ™æƒ˜","note":"","ucode":"8ED2B08AA5A755","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380773,"discussion_content":"æˆ‘çœ‹äº†çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œæ„Ÿè§‰change buffer ç¡®å®åªæ˜¯é’ˆå¯¹äºŒçº§ç´¢å¼•çš„æ”¹åŠ¨ï¼Œä¹Ÿå°±æ˜¯å¹³å¸¸èŠçš„æ‰€è°“æ”¹æ•°æ®ä¹Ÿä¼šæ”¹ç´¢å¼•ï¼Œåªæ˜¯æŠŠè¿™ä¸ªæ”¹ç´¢å¼•çš„æ¶ˆè€—ç”±åŒæ­¥è½¬åŒ–ä¸ºå»¶è¿Ÿæ‰§è¡Œäº†ä¸€ä¸‹å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624694256,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1668117,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJLgibqHsl97Oq3nvnEVz7V3kaGKLmia0Ja8c4yXO7QeLKiakganRJomNGgYToW4RnFs60zibDTHicjE5w/132","nickname":"å­¦è€Œä¸æ€åˆ™æƒ˜","note":"","ucode":"8ED2B08AA5A755","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":380772,"discussion_content":"æ‰€ä»¥change bufferåªæ˜¯å¼‚æ­¥æ”¹ä¸€ä¸‹åˆ«çš„éå”¯ä¸€ç´¢å¼•ï¼Ÿupdateè¯­å¥è‡ªèº«ç”¨åˆ°çš„ç´¢å¼•è¿˜æ˜¯ä¼šåŠ è½½è¿›buffer poolæ˜¯å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624693989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143235,"user_name":"kuku","can_delete":false,"product_type":"c1","uid":1303778,"ip_address":"","ucode":"1F8EBEFC45EADA","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ7EXTibmFXvhnibRuk7VP1hVcTuvB9xCAiaEHuzkhV23ic1Yv0OMzDemUmxzXreQgaCcicRPrg6gYtcCw/132","comment_is_top":false,"comment_ctime":1571652843,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14456554731","product_id":100020801,"comment_content":"ä¸å¥‡ï¼Œèƒ½å¦è¡¥ä¸€ç¯‡å­—æ®µå°½é‡ä¸ç”¨nullçš„ç†ç”±ï¼Ÿ","like_count":3},{"had_liked":false,"id":87387,"user_name":"Lane","can_delete":false,"product_type":"c1","uid":1008257,"ip_address":"","ucode":"F70459D1BBD9F4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/62/81/ad80f427.jpg","comment_is_top":false,"comment_ctime":1555580711,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"14440482599","product_id":100020801,"comment_content":"ç¼•äº†ä¸€ä¸‹ï¼Œæ›´æ–°æµç¨‹ï¼š<br>1ã€å†™å…¥change bufferã€‚<br>2ã€å†™å…¥redo logï¼ŒçŠ¶æ€prepare<br>3ã€ç”¨æˆ·commitäº‹åŠ¡ã€‚<br>4ã€å†™å…¥binlog<br>6ã€redo logçŠ¶æ€å˜æ›´ä¸ºcommitã€‚<br><br>ä¸çŸ¥å¯¹å—è€å¸ˆï¼Ÿ","like_count":3,"discussions":[{"author":{"id":2035912,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/10/c8/325f1463.jpg","nickname":"å«ç»ƒ","note":"","ucode":"ABAFDFE0FAFEA2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285420,"discussion_content":"ä¸¤é˜¶æ®µæäº¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592831934,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":74001,"user_name":"å­£ä¼Ÿæ»¨","can_delete":false,"product_type":"c1","uid":1445103,"ip_address":"","ucode":"CBF84145CAA986","user_header":"https://static001.geekbang.org/account/avatar/00/16/0c/ef/4c8850de.jpg","comment_is_top":false,"comment_ctime":1552056853,"is_pvip":false,"replies":[{"id":"27146","content":"1. æ²¡æœ‰ç‰¹åˆ«è¯´æ˜çš„ï¼Œé€šæŒ‡æ‰€æœ‰ç´¢å¼•çš„æ•°æ®é¡µå“ˆ<br>2. å¦‚æœæ˜¯where k= N æ˜¯è¦å…ˆè¯»çš„ï¼ˆç¡®ä¿æ•°æ®å­˜åœ¨ï¼‰<br>3. change bufferåªèƒ½å¯¹éå”¯ä¸€ç´¢å¼•æœ‰æ•ˆï¼Œå› æ­¤â€œrecordæ‰€åœ¨æ•°æ®é¡µé¢â€æ˜¯ä¸ä¼šç”¨ä¸Šchange bufferçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1552146824,"ip_address":"","comment_id":74001,"utype":1}],"discussion_count":4,"race_medal":0,"score":"14436958741","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæƒ³è¯·æ•™ä¸‹ï¼Œå¦‚ä¸‹å‡ ä¸ªé—®é¢˜ï¼š<br>1ã€æ–‡ä¸­æåˆ°çš„æ•°æ®é¡µæ˜¯æŒ‡ä¸»é”®ç´¢å¼•çš„æ•°æ®é¡µé¢è¿˜æ˜¯åŒ…æ‹¬æ‰€æœ‰ç´¢å¼•æ ‘çš„å¶å­ç»“ç‚¹ï¼Ÿ<br>2ã€å¯¹äºäºŒçº§æ™®é€šç´¢å¼•ï¼Œupdate t where k=ï¼Ÿè¿™ç§è¯­å¥ï¼Œæ‰§è¡Œçš„æ—¶å€™ï¼Œæ˜¯å…ˆè¯»åå†™å—ï¼Œä¹Ÿå°±æ˜¯å…ˆæŒ‰kç´¢å¼•æ ‘å°†ç›¸åº”ç´¢å¼•é¡µéƒ½åŠ è½½åˆ°å†…å­˜ï¼Œç„¶åå†æŒ‰ä¸»é”®ç´¢å¼•å°†æ•°æ®é¡µé¢åŠ è½½åˆ°å†…å­˜ï¼Ÿè¿˜æ˜¯æŒ‰ç…§æ–‡ä¸­æåˆ°çš„å…ˆè®°å½•åˆ°change bufferï¼Ÿ<br>3ã€change bufferåªè®°å½•ç´¢å¼•é¡µçš„å˜æ›´è¿˜æ˜¯ä¼šè®°å½•çœŸæ­£recordæ‰€åœ¨æ•°æ®é¡µé¢çš„å˜æ›´ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442376,"discussion_content":"1. æ²¡æœ‰ç‰¹åˆ«è¯´æ˜çš„ï¼Œé€šæŒ‡æ‰€æœ‰ç´¢å¼•çš„æ•°æ®é¡µå“ˆ\n2. å¦‚æœæ˜¯where k= N æ˜¯è¦å…ˆè¯»çš„ï¼ˆç¡®ä¿æ•°æ®å­˜åœ¨ï¼‰\n3. change bufferåªèƒ½å¯¹éå”¯ä¸€ç´¢å¼•æœ‰æ•ˆï¼Œå› æ­¤â€œrecordæ‰€åœ¨æ•°æ®é¡µé¢â€æ˜¯ä¸ä¼šç”¨ä¸Šchange bufferçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552146824,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1629257,"avatar":"https://static001.geekbang.org/account/avatar/00/18/dc/49/43ae1627.jpg","nickname":"Ansyear","note":"","ucode":"489CE96852EA2C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333868,"discussion_content":"çœ‹å®Œè¿™ä¸ªç³Šæ¶‚äº†ã€‚å°±æ˜¯è¯´å¸¦whereæ¡ä»¶çš„æ›´æ–°è¿˜æ˜¯è¦è¯»ç£ç›˜å•Šï¼Ÿé‚£change butterç”¨ä¸ä¸Šäº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607656085,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1197638,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoV6yaH2ib6B0GuGhOZrYHZdPTrgGs0AXEXEegXxNKliaegB4m51cV6voXFEF4Nj1t6ONtBLFQibnxRA/132","nickname":"ç´«éœä¸æ‚Ÿç©º","note":"","ucode":"42A8B1C87956D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1629257,"avatar":"https://static001.geekbang.org/account/avatar/00/18/dc/49/43ae1627.jpg","nickname":"Ansyear","note":"","ucode":"489CE96852EA2C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374926,"discussion_content":"è¯»çš„æ˜¯ä¸»é”®b+æ ‘ï¼Œå¸¦æ•°æ®ï¼Œä½†æ˜¯ä¸ç”¨è¯»æ™®é€šç´¢å¼•çš„B+æ ‘ï¼Œæ„æ€å°±æ˜¯change bufferåªç¼“å­˜äº†æ™®é€šç´¢å¼•çš„B+æ ‘çš„æ“ä½œï¼Œåªæœ‰è¦ä½¿ç”¨è¿™ä¸ªç´¢å¼•çš„æ—¶å€™ï¼Œè¿™äº›æ“ä½œæ‰èƒ½çœŸæ­£ç”Ÿæ•ˆï¼Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621412980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":333868,"ip_address":""},"score":374926,"extra":""}]},{"author":{"id":1145404,"avatar":"https://static001.geekbang.org/account/avatar/00/11/7a/3c/87e015f8.jpg","nickname":"å µè½¦","note":"","ucode":"7BC1E50A4F8D3D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":57588,"discussion_content":"recordæ‰€åœ¨çš„æ•°æ®é¡µä¸ä¼šç”¨change buff,é‚£ä¹ˆç›´æ¥å°†æ•°æ®è®°å½•åˆ°redo logä¸­ï¼Œä¸å†™ç£ç›˜ï¼Œä¸‹æ¬¡æŸ¥è¯¢è¿™æ¡è®°å½•çš„æ—¶å€™ï¼Œç›´æ¥ä»ç£ç›˜è¯»å‡ºæ¥ï¼Œå†ä»redo logä¸­æ‹¿åˆ°å˜æ›´è®°å½•åˆå¹¶æˆæ–°è®°å½•ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯.æ˜¯è¿™ä¹ˆç†è§£çš„å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574617724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":61756,"user_name":"miu","can_delete":false,"product_type":"c1","uid":1368901,"ip_address":"","ucode":"3D73FF3C09231A","user_header":"","comment_is_top":false,"comment_ctime":1547791958,"is_pvip":false,"replies":[{"id":"21926","content":"æŒ‰ç…§ä½ çš„æè¿°ï¼Œåº”è¯¥æ˜¯å‡è®¾<br> â€œåšupdateæ“ä½œï¼Œä¿®æ”¹(3,300)ä¸º(3,400)â€ è¿™ä¸ªæ“ä½œï¼Œæ˜¯è¦åœ¨page3åˆ é™¤è¿™ä¸ªè®°å½•ï¼Œç„¶åå¾€page4æ’å…¥ä¸€è¡Œå¯¹å§ï¼Ÿ<br><br>è¿™ä¸¤ä¸ªæ“ä½œéƒ½å¯èƒ½è¢«æ”¾åˆ°change bufferé‡Œé¢ã€‚<br>æ¥ä¸‹æ¥å¦‚æœæŸ¥è¯¢æ˜¯ where k=400ï¼Œ å°±åªä¼šè®¿é—®page 4.<br>page 4ä»ç£ç›˜è¯»å…¥å†…å­˜çš„æ—¶å€™ï¼Œåšmergeæ“ä½œï¼Œè¿”å›ç»“æœé‡Œé¢æœ‰ä¸¤æ¡æ»¡è¶³k=400çš„è®°å½•ã€‚<br><br>å°±å®Œæˆäº†ã€‚<br>è¿™ä¸ªæŸ¥è¯¢è¿‡ç¨‹è·Ÿpage3æ²¡å…³ç³»ï¼Œä¸ä¼šå‘ç°â€œpage 3é—æ¼â€è¿™ä¸ªé€»è¾‘å“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547813126,"ip_address":"","comment_id":61756,"utype":1}],"discussion_count":4,"race_medal":0,"score":"14432693846","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸ªé—®é¢˜ï¼Œåœºæ™¯å¦‚ä¸‹ï¼š<br>å‡è®¾è¡¨tæœ‰idï¼Œk ä¸¤åˆ—ã€‚idæ˜¯ä¸»é”®ï¼Œkæ˜¯äºŒçº§ç´¢å¼•ã€‚<br>æœ‰æ•°æ®(3,300)ï¼Œ(4,400)ã€‚(3,300)å­˜æ”¾åœ¨æ•°æ®å—page3,(4,400)å­˜æ”¾åœ¨æ•°æ®å—page4ã€‚è¿™ä¸¤è¡Œæ•°æ®å‡ä¸åœ¨buffer poolä¸­ã€‚<br>ç°åœ¨åšupdateæ“ä½œï¼Œä¿®æ”¹(3,300)ä¸º(3,400)ï¼Œè¿™æ—¶ä¼šæŠŠä¿®æ”¹æ“ä½œå†™å…¥åˆ°åˆ°change bufferä¸­ï¼›<br>å¹¶åœ¨change buffer mergeä¹‹å‰åšæŸ¥è¯¢æ“ä½œï¼šselect k from t where k=400;<br>å› ä¸ºæ•°æ®ä¸åœ¨buffer poolä¸­ï¼Œä¼šåˆ°ç£ç›˜ä¸Šè¯»å–æ•°æ®ï¼Œæ ¹æ®ç´¢å¼•ä¼šè¯»å–åˆ°page4ï¼Œå¹¶æŠŠpage4æ•°æ®åŠ è½½åˆ°buffer poolä¸­ï¼Œç„¶ååº”ç”¨change bufferæ—¶ï¼Œå‘ç°é—æ¼äº†page3ï¼Œå†é‡æ–°å»å–page3ã€‚<br>è¯·é—®è¿™ä¸ªè¿‡ç¨‹çš„æ¨å¯¼æ˜¯å¦æ­£ç¡®ï¼Œæ˜¯å¦ä¼šå‡ºç°è¿™ç§å¤šæ¬¡IOçš„æƒ…å†µ<br><br>","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436978,"discussion_content":"æŒ‰ç…§ä½ çš„æè¿°ï¼Œåº”è¯¥æ˜¯å‡è®¾\n â€œåšupdateæ“ä½œï¼Œä¿®æ”¹(3,300)ä¸º(3,400)â€ è¿™ä¸ªæ“ä½œï¼Œæ˜¯è¦åœ¨page3åˆ é™¤è¿™ä¸ªè®°å½•ï¼Œç„¶åå¾€page4æ’å…¥ä¸€è¡Œå¯¹å§ï¼Ÿ\n\nè¿™ä¸¤ä¸ªæ“ä½œéƒ½å¯èƒ½è¢«æ”¾åˆ°change bufferé‡Œé¢ã€‚\næ¥ä¸‹æ¥å¦‚æœæŸ¥è¯¢æ˜¯ where k=400ï¼Œ å°±åªä¼šè®¿é—®page 4.\npage 4ä»ç£ç›˜è¯»å…¥å†…å­˜çš„æ—¶å€™ï¼Œåšmergeæ“ä½œï¼Œè¿”å›ç»“æœé‡Œé¢æœ‰ä¸¤æ¡æ»¡è¶³k=400çš„è®°å½•ã€‚\n\nå°±å®Œæˆäº†ã€‚\nè¿™ä¸ªæŸ¥è¯¢è¿‡ç¨‹è·Ÿpage3æ²¡å…³ç³»ï¼Œä¸ä¼šå‘ç°â€œpage 3é—æ¼â€è¿™ä¸ªé€»è¾‘å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547813126,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1692713,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d4/29/5f52a82c.jpg","nickname":"èåœæ¡","note":"","ucode":"4BC975BBFE50A7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":43974,"discussion_content":"é¢˜ä¸»çš„æ„æ€æ˜¯ä¿®æ”¹(3,300)ä¸º(3,400)ï¼Œæ˜¯åœ¨page3ä¿®æ”¹ï¼Œä¸æ˜¯åˆ é™¤p3ï¼Œæ’p4","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572920079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1518795,"avatar":"","nickname":"Geek_2ac804","note":"","ucode":"EDF69B20030BB8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1692713,"avatar":"https://static001.geekbang.org/account/avatar/00/19/d4/29/5f52a82c.jpg","nickname":"èåœæ¡","note":"","ucode":"4BC975BBFE50A7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554251,"discussion_content":"åˆ é™¤çš„æ—¶å€™ï¼Œåªæ˜¯æ ‡è®°ï¼Œå› ä¸ºç´¢å¼•æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥æ˜¯è¦åˆ°page4å»æ’å…¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646286167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":43974,"ip_address":""},"score":554251,"extra":""}]},{"author":{"id":1177838,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f8/ee/2cf560f5.jpg","nickname":"Dthan","note":"","ucode":"B5DEB7D050981D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6920,"discussion_content":"æˆ‘æ˜¯ä¸æ˜¯å¯ä»¥è¿™æ ·ç†è§£ï¼Œåªè¦ä¸æ˜¯æ›´æ–°å”¯ä¸€ç´¢å¼•å­—æ®µä¸Šçš„å€¼éƒ½å¯ä»¥è¿›å»change buffer?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567174655,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46391,"user_name":"TiTi","can_delete":false,"product_type":"c1","uid":1127343,"ip_address":"","ucode":"58F19596A1EF4C","user_header":"https://static001.geekbang.org/account/avatar/00/11/33/af/dda311cf.jpg","comment_is_top":false,"comment_ctime":1543914147,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14428816035","product_id":100020801,"comment_content":"æ–‡ä¸­æåˆ°å†™change bufferçš„æ—¶å€™ä¼šåŒæ—¶å†™å…¥ibdataXå’Œredo logï¼Œå®ƒä»¬çš„å…ˆåé¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿè¿™ä¸‰æ ·ä¸œè¥¿çš„å†™å…¥æ“ä½œä¹‹é—´æœ‰æ²¡æœ‰åŸå­æ€§çš„ä¿è¯ï¼Ÿåœ¨çªç„¶æ–­ç”µçš„æƒ…å½¢ä¸‹åˆæ€ä¹ˆå»ä¿è¯åŸå­æ€§? æ­¤å¤–ï¼Œé‡å¯ä¹‹åæ¢å¤çš„æµç¨‹å¤§è‡´æ˜¯æ€ä¹ˆæ ·çš„ï¼Œæ€ä¹ˆåˆ©ç”¨ibdataXå’Œredo logæ¥æ¢å¤ä¸¢å¤±çš„æ•°æ®ï¼Ÿæœ›è€å¸ˆè§£ç­”ä¸‹ï¼Œè°¢è°¢ï¼","like_count":3},{"had_liked":false,"id":46107,"user_name":"é«˜åŸ","can_delete":false,"product_type":"c1","uid":1315634,"ip_address":"","ucode":"9E0C2EE595D0F0","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/32/4cfd28df.jpg","comment_is_top":false,"comment_ctime":1543847811,"is_pvip":true,"replies":[{"id":"16513","content":"å¯¹äºpage 2, redologå¹¶ä¸çŸ¥é“ä»–è¦æ€ä¹ˆæ›´æ–°ï¼Œredologé‡Œé¢è®°å½•çš„æ˜¯change bufferä¸Šçš„æ›´æ–°ï¼Œè€Œchange bufferä¸Šè®°å½•çš„æ˜¯æ•°æ®é¡µçš„æ›´æ–°åŠ¨ä½œ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543886695,"ip_address":"","comment_id":46107,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14428749699","product_id":100020801,"comment_content":"ChangeBufferå°±æ˜¯å¯¹ã€Šæ—¥å¿—ç³»ç»Ÿï¼šä¸€æ¡ SQL æ›´æ–°è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Ÿã€‹ä¸­ update è¯­å¥æ‰§è¡Œæµç¨‹è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚æ›´æ–°æ­¥éª¤ï¼šå…ˆæ›´æ–°å†…å­˜ï¼Œå†é€šè¿‡redo logæ›´æ–°ç£ç›˜ã€‚<br>è€ŒChange Bufferçš„å¼•å…¥ä½¿å¾—æ›´æ–°å†…å­˜éƒ½æ˜¯æŒ‰éœ€æ›´æ–°ï¼Œåªæœ‰åœ¨éœ€è¦è¯»çš„æ—¶å€™æ‰æ›´æ–°ã€‚ å¦‚æœè¿™æ ·ç†è§£å¯¹çš„è¯ï¼Œå°±æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåœ¨purgeä¹‹å‰ï¼Œredo logæ‰§è¡Œäº†ç£ç›˜å†™ï¼Œé‚£change bufferé‡Œçš„æ“ä½œæ˜¯ä¸æ˜¯å°±æœ‰å†²çªæ€ä¹ˆè®©å¤±æ•ˆå‘¢ï¼Ÿ<br>2018-12-03<br>î˜ˆ ä½œè€…å›å¤<br>å‰é¢è¯´çš„å¯¹ï¼Œæœ€åä¸€å¥è¯é—®é¢˜æ²¡ç†è§£â€¦ ä½ å†å‘é‡å‘ä¸€ä¸‹é—®é¢˜ğŸ˜“<br>---------------------------------------------------------<br>é—®é¢˜ï¼šç°åœ¨ä¸€ä¸ªæ‰§è¡Œæµç¨‹æ˜¯ï¼Œæ“ä½œå†™å…¥change buffer, å†™å…¥redo log commit. ä½†è¿™ä¸ªæ—¶å€™åº”è¯¥æ²¡æœ‰purge,ä¹Ÿæ²¡æœ‰é€šè¿‡redo logå†™å…¥ç£ç›˜ã€‚ Purge æ˜¯åœ¨æœ‰çš„æŸ¥è¯¢æ“ä½œçš„æ—¶å€™å‘ç”Ÿï¼ˆä¸è€ƒè™‘ç³»ç»Ÿè‡ªåŠ¨purgeï¼‰ï¼Œé‚£è¿‡æ®µæ—¶é—´åº”è¯¥ä¼šé€šè¿‡redo logæ›´æ–°åˆ°ç£ç›˜ã€‚<br>æˆ‘çš„é—®é¢˜å°±æ˜¯é€šè¿‡redo logæ›´æ–°åˆ°ç£ç›˜çš„æ—¶å€™ï¼Œå¦‚æœè¿˜æ²¡æœ‰å‘ç”Ÿpurgeæ“ä½œï¼Œé‚£å¦‚æœå†æ¬¡è¯»è§¦å‘Purgeä»ç£ç›˜è¯»ï¼ˆç£ç›˜å·²ç»æ˜¯redo logæ›´æ–°åçš„æ•°æ®äº†), æ‰€ä»¥è¿™ä¸ªåœ°æ–¹æ˜¯é€šè¿‡ä»€ä¹ˆæœºåˆ¶ç¡®ä¿æ²¡æœ‰å†²çªçš„ï¼Ÿ è°¢è°¢ï¼Œè€å¸ˆè®²çš„å¾ˆå¥½ï¼Œä¸çŸ¥é“æˆ‘è¯´æ˜ç™½æ²¡æœ‰ï¼Ÿ<br>2018-12-03<br>î˜ˆ ä½œè€…å›å¤<br>æˆ‘å¤§æ¦‚ç†è§£ä½ çš„æ„æ€äº†ã€‚<br><br>å¦‚æœæ²¡æœ‰purge,ç£ç›˜ä¸Šçš„page 2ä¸ä¼šå˜çš„ï¼Œredologæ²¡å¸®ä»–åšæ›´æ–°ã€‚<br><br>åªæœ‰purge æ‰ä¼šè§¦å‘æ›´æ–°æ•°æ®ï¼Œå¾—åˆ°æ–°çš„page 2<br>-----------------------------------------------------<br>è¿™ä¸ªåœ°æ–¹å°±ä¸æ˜¯ç‰¹åˆ«ç†è§£ï¼Œredo logä¸å°±æ˜¯ç”¨æ¥æœé›†æ“ä½œï¼Œé€‚æ—¶æ›´æ–°åˆ°ç£ç›˜å—ï¼Œè€ŒğŸˆ¶äº†change bufferåï¼Œredo logæ›´æ–°ç£ç›˜çš„æœºåˆ¶å°±ä¸ç”Ÿæ•ˆäº†å—ï¼Ÿ ä¸çŸ¥é“æ˜¯å“ªä¸ªåœ°æ–¹ç†è§£é”™äº†ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431338,"discussion_content":"å¯¹äºpage 2, redologå¹¶ä¸çŸ¥é“ä»–è¦æ€ä¹ˆæ›´æ–°ï¼Œredologé‡Œé¢è®°å½•çš„æ˜¯change bufferä¸Šçš„æ›´æ–°ï¼Œè€Œchange bufferä¸Šè®°å½•çš„æ˜¯æ•°æ®é¡µçš„æ›´æ–°åŠ¨ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543886695,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":257295,"user_name":"Aibo","can_delete":false,"product_type":"c1","uid":2115387,"ip_address":"","ucode":"2CE3E77BD2D014","user_header":"https://static001.geekbang.org/account/avatar/00/20/47/3b/70198ceb.jpg","comment_is_top":false,"comment_ctime":1603931643,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10193866235","product_id":100020801,"comment_content":"change bufferå’Œredologéƒ½æ˜¯åœ¨è®°å½•å¯¹äºæŸä¸€é¡µçš„æ“ä½œï¼Œä¸ºä»€ä¹ˆä¸èƒ½åªç”¨redologå»å®ç°ç£ç›˜çš„éšæœºè¯»å†™ä¼˜åŒ–å‘¢ï¼Ÿ","like_count":2},{"had_liked":false,"id":251614,"user_name":"Shan","can_delete":false,"product_type":"c1","uid":1666954,"ip_address":"","ucode":"4F158016B0D590","user_header":"https://static001.geekbang.org/account/avatar/00/19/6f/8a/bea966ac.jpg","comment_is_top":false,"comment_ctime":1601725157,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10191659749","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜æƒ³é—®ä¸‹ï¼Œæˆ‘çœ‹å›¾äºŒä¸­change bufferçš„å†…å®¹æ˜¯add data to page 2ï¼Œä»–æ˜¯æ€ä¹ˆåˆ¤æ–­è¿™ä¸ªè®°å½•éœ€è¦ä¿®æ”¹page 2çš„ï¼Ÿ","like_count":2},{"had_liked":false,"id":223369,"user_name":"Geek","can_delete":false,"product_type":"c1","uid":2016657,"ip_address":"","ucode":"07AD2487087D17","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/AkS4rJAdkt5icChtbYGLLP2TficUDBHYCwUDHsP8wtfPeq6YUWYyvcKbZWV5p1hQuxQNaZf0G4axI5ibqPR7ia6ZCg/132","comment_is_top":false,"comment_ctime":1591074657,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10181009249","product_id":100020801,"comment_content":"change bufferæ˜¯åŠ å¿«è¾…åŠ©ç´¢å¼•çš„æ›´æ–°è¿˜æ˜¯æ•°æ®è¡Œçš„æ›´æ–°ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":2034587,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/0b/9b/7fb4c3f9.jpg","nickname":"å¥”è·‘","note":"","ucode":"EC84EE7C97D965","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341356,"discussion_content":"è¾…åŠ©ç´¢å¼•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610386798,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":169676,"user_name":"LeoBing","can_delete":false,"product_type":"c1","uid":1068193,"ip_address":"","ucode":"3964DA5DBFBE46","user_header":"https://static001.geekbang.org/account/avatar/00/10/4c/a1/40b75a55.jpg","comment_is_top":false,"comment_ctime":1578403727,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"10168338319","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æ¥æ™šäº†ï¼Œæœ‰ä¸ªé—®é¢˜ï¼Œmergeä¸ºä»€ä¹ˆä¼šå†™å…¥åˆ°ç³»ç»Ÿè¡¨ç©ºé—´ï¼Œä¸åº”è¯¥æ˜¯æ•°æ®é¡µä¸Šä¹ˆ","like_count":2,"discussions":[{"author":{"id":2035912,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/10/c8/325f1463.jpg","nickname":"å«ç»ƒ","note":"","ucode":"ABAFDFE0FAFEA2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":285422,"discussion_content":"è¡¨ç©ºé—´å¯ä»¥ç†è§£æˆæ—¥å¿—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592832018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149933,"discussion_content":"å¯èƒ½è·Ÿinnodbå¼•æ“çš„å®ç°æœºåˆ¶æœ‰å…³å§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579784488,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140736,"user_name":"æµ‹å°è¯•","can_delete":false,"product_type":"c1","uid":1668301,"ip_address":"","ucode":"591F2D8CFBF503","user_header":"https://static001.geekbang.org/account/avatar/00/19/74/cd/158dc733.jpg","comment_is_top":false,"comment_ctime":1571039560,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10160974152","product_id":100020801,"comment_content":"ä¸ŠæœŸé—®é¢˜è§£ç­”é‡Œé¢ï¼ŒåŸæ–‡æ˜¯ï¼šç”¨æ–°çš„æ–¹å¼æ¥åˆ†æ session Bâ€™çš„æ›´æ–°ä¸ºä»€ä¹ˆå¯¹ session A ä¸å¯è§å°±æ˜¯ï¼šåœ¨ session A è§†å›¾æ•°ç»„åˆ›å»ºçš„ç¬é—´ï¼Œsession Bâ€™æ˜¯æ´»è·ƒçš„ï¼Œå±äºâ€œç‰ˆæœ¬æœªæäº¤ï¼Œä¸å¯è§â€è¿™ç§æƒ…å†µã€‚<br>æŒ‰ç…§â€œå½“å‰è¯»â€çš„è§£é‡Šï¼Œå¯ä»¥ç†è§£ä½ ç»™çš„ç¬¬äºŒç§æ–¹æ¡ˆã€‚ä½†æ˜¯æŒ‰ç…§ä¸Šé¢å¼•ç”¨çš„è¿™ä¹ˆè§£é‡Šï¼Œsession Bâ€™å¯¹session Aä¸å¯è§ï¼Œé‚£ä¹ˆsession Aä¸ºå•¥è¿˜ä¿®æ”¹ä¸æˆåŠŸï¼Ÿè¿™å¥è¯æˆ‘æŠŠæˆ‘æç³Šæ¶‚äº†","like_count":2,"discussions":[{"author":{"id":1615539,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI6LXcIqb5K48nia8d4zmdsD1M9AZeyXoGrLzX5xvqfN0fqXOsYKUWLbZvZ8TtJCXWmYbCkCXg93dQ/132","nickname":"æ¼è„šè„–","note":"","ucode":"214AE52EC201E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":193121,"discussion_content":"æˆ‘ä¹Ÿæ²¡æ‡‚ï¼Œupdateä¸æ˜¯å½“å‰è¯»å—ï¼Ÿï¼Ÿåº”è¯¥Aå½“å‰è¯»ï¼Œå¯ä»¥çœ‹åˆ°B&#39;çš„æ›´æ–°ï¼Œæ‰€ä»¥æ‰æ²¡æ›´æ–°æˆåŠŸå§ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1583126976,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89166,"user_name":"Break","can_delete":false,"product_type":"c1","uid":1508922,"ip_address":"","ucode":"6D1CCFC60E11EF","user_header":"https://static001.geekbang.org/account/avatar/00/17/06/3a/68bed1d9.jpg","comment_is_top":false,"comment_ctime":1556096164,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"10146030756","product_id":100020801,"comment_content":"æˆ‘æœ‰ä¸€ä¸ªç–‘é—®, ä¸šåŠ¡å¦‚ä½•ç¡®ä¿å”¯ä¸€æ€§æ’å…¥å‘¢? ä¸šåŠ¡å¦‚æœè¦ç¡®ä¿å”¯ä¸€æ€§, é‚£åº”è¯¥æ˜¯è¦å…ˆæŸ¥è¯¢ä¸€éæ˜¯å¦å­˜åœ¨, ä¸å­˜åœ¨å†æ’å…¥. è¿™æ ·çœ‹èµ·æ¥ä¹Ÿæ˜¯æ— æ³•åˆ©ç”¨åˆ°æ™®é€šç´¢å¼•çš„charge buffer, å› ä¸ºå³ä½¿æŠŠæ›´æ–°å†™å…¥charge buffer, ä½†æ˜¯ä¸‹ä¸€æ¬¡æ’å…¥çš„æ—¶å€™, åˆä¼šå…ˆselectä¸€æ¬¡æ•°æ®è¿™æ ·å°±ä¼šä»ç£ç›˜è¯»å–å¹¶æ‰§è¡Œä¸€ä¸ªmergeæ“ä½œ, çœ‹èµ·æ¥æ•ˆæœå’Œå”¯ä¸€ç´¢å¼•æ˜¯ä¸€æ ·çš„.","like_count":2,"discussions":[{"author":{"id":1810051,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK0uyg1IicbEhLwsgM2A2ROoyVdWdmUqZfQfs6G67w9m3hdRNBMOQJatQoACj3qNGgj2KVIgricaYiaQ/132","nickname":"æœ¨å¾—æ„Ÿæƒ…çš„ç¼–ç æœºå™¨","note":"","ucode":"9C6CD47ADCB8E6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":169553,"discussion_content":"ä½ è¯´çš„æ˜¯ä¸€ä¸ªå¾ˆæ·±å…¥çš„è¯é¢˜äº†ã€‚å¯¹äºå•æœºå•è¿›ç¨‹ç¨‹åºæ¥è¯´ï¼Œç»´æŠ¤ä¸€ä¸ªå†…å­˜å˜é‡å°±è¡Œã€‚å¯¹äºåˆ†å¸ƒå¼ç³»ç»Ÿæ¥è¯´ï¼Œå°±å¾—å€ŸåŠ©å…¶ä»–çš„kvæ•°æ®åº“æ¥å®ç°å”¯ä¸€æ€§æˆ–è€…idé€’å¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581609731,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1361746,"avatar":"https://static001.geekbang.org/account/avatar/00/14/c7/52/c5adf218.jpg","nickname":"å–œæ¬¢åœ°çƒçš„é˜¿åŸ¹åŒå­¦","note":"","ucode":"5F97037585F857","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6022,"discussion_content":"åœ¨ä»£ç ä¸­æ§åˆ¶ï¼Œæ¯”å¦‚æœ‰ä¸€ä¸ªå…¨å±€å˜é‡ iï¼Œæ¯æ¬¡ç¨‹åºæ‰§è¡Œå®Œï¼Œè¿™ä¸ªå˜é‡å°± i++ï¼Œç„¶åæ‹¿è¿™ä¸ªå˜é‡å»æ‰§è¡Œæ’å…¥æ“ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566616948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":67944,"user_name":"æ¸…é£","can_delete":false,"product_type":"c1","uid":1129749,"ip_address":"","ucode":"59932E13FAF607","user_header":"https://static001.geekbang.org/account/avatar/00/11/3d/15/7f5fd6d3.jpg","comment_is_top":false,"comment_ctime":1550330496,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10140265088","product_id":100020801,"comment_content":"ç‰›! çŸ¥é“æ•´ä¸ªæµç¨‹ä¹‹åï¼ŒæŸ¥æ‰¾é—®é¢˜çœŸæ˜¯å¯¹ç—‡ä¸‹è¯å•Šï¼ŒææŠ€æœ¯å¿…é¡»æœ‰äº›æ—¶å€™è¦éå¸¸æ·±ï¼Œæœ‰æ·±åº¦æ‰ä¼šåœ¨å…³é”®æ—¶åˆ»æ•‘å‘½å•Šã€‚","like_count":2},{"had_liked":false,"id":63954,"user_name":"å¥‹æ–—å¿ƒ","can_delete":false,"product_type":"c1","uid":1247286,"ip_address":"","ucode":"06A195AB0B6570","user_header":"https://static001.geekbang.org/account/avatar/00/13/08/36/98be3d69.jpg","comment_is_top":false,"comment_ctime":1548612887,"is_pvip":false,"replies":[{"id":"22630","content":"sessionA update t set c=0 where id=c; è¿™ä¸ªè¯­å¥æ˜¯å½“å‰è¯»ï¼›<br>ä¹Ÿæ­£æ˜¯å› ä¸ºå½“å‰è¯»ï¼Œidéƒ½ä¸ç­‰äºcï¼›<br>æ‰€ä»¥æ²¡æœ‰å‘½ä¸­è¡Œï¼Œå¯¼è‡´éƒ½æ²¡æœ‰æ›´æ–°ï¼›<br>è¿™æ ·è¿™äº›è¡Œçš„äº‹åŠ¡idæ²¡æœ‰å˜æˆsession Açš„äº‹åŠ¡idï¼Œsession B&#39;çš„æäº¤æ—¶é—´ï¼Œæ™šäºsession Açš„å¯åŠ¨æ—¶é—´ï¼Œæ‰€ä»¥è¿™äº›äº‹åŠ¡çš„æ›´æ–°å¯¹session Aä¸å¯è§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548636977,"ip_address":"","comment_id":63954,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10138547479","product_id":100020801,"comment_content":"ç¬¬äºŒç§è§£æ³• session Bâ€™ åº”ä¸ºæ´»è·ƒä¸å¯è§ã€‚sessionA update t set c=0 where id=c; ä¸æ˜¯å½“å‰è¯»å—ï¼Ÿå½“å‰è¯»å—ï¼Ÿåé¢çš„select ä¸åº”è¯¥å¯ä»¥æŸ¥è¯¢åˆ°sessionAçš„updateå—","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437779,"discussion_content":"sessionA update t set c=0 where id=c; è¿™ä¸ªè¯­å¥æ˜¯å½“å‰è¯»ï¼›\nä¹Ÿæ­£æ˜¯å› ä¸ºå½“å‰è¯»ï¼Œidéƒ½ä¸ç­‰äºcï¼›\næ‰€ä»¥æ²¡æœ‰å‘½ä¸­è¡Œï¼Œå¯¼è‡´éƒ½æ²¡æœ‰æ›´æ–°ï¼›\nè¿™æ ·è¿™äº›è¡Œçš„äº‹åŠ¡idæ²¡æœ‰å˜æˆsession Açš„äº‹åŠ¡idï¼Œsession B&amp;#39;çš„æäº¤æ—¶é—´ï¼Œæ™šäºsession Açš„å¯åŠ¨æ—¶é—´ï¼Œæ‰€ä»¥è¿™äº›äº‹åŠ¡çš„æ›´æ–°å¯¹session Aä¸å¯è§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548636977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47920,"user_name":"èš‚èšå†…æ¨+v","can_delete":false,"product_type":"c1","uid":1050508,"ip_address":"","ucode":"24B10AEE54B3FD","user_header":"https://static001.geekbang.org/account/avatar/00/10/07/8c/0d886dcc.jpg","comment_is_top":false,"comment_ctime":1544257529,"is_pvip":false,"replies":[{"id":"17103","content":"1. è¿™ä¸ªæ˜¯â€œflushâ€ç­–ç•¥ï¼Œä»Šæ™šä¼šå‘çš„æ–°çš„ä¸€ç¯‡å°±ä¼šè¯´åˆ°<br><br>2. ä¸ä¸€å®šä¸€æ ·<br><br>3. å¦‚æœå†…å­˜é‡Œæœ‰ï¼Œå†…å­˜é‡Œä¸€å®šæ˜¯å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544333377,"ip_address":"","comment_id":47920,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10134192121","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ­£æ–‡é‡Œé¢è¯´ï¼šéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè™½ç„¶åå­—å«ä½œ change bufferï¼Œå®é™…ä¸Šå®ƒæ˜¯å¯ä»¥æŒä¹…åŒ–çš„æ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œchange buffer åœ¨å†…å­˜ä¸­æœ‰æ‹·è´ï¼Œä¹Ÿä¼šè¢«å†™å…¥åˆ°ç£ç›˜ä¸Šã€‚<br>æˆ‘çš„é—®é¢˜æ˜¯ï¼šchange bufferå¤šä¹…å†™å…¥ä¸€æ¬¡ç£ç›˜ï¼Ÿå¦‚æœchange bufferç£ç›˜ä¸­çš„å†…å®¹ä¼šå®Œå…¨åœ¨å†…å­˜ä¸­å—ï¼Ÿå¦‚æœä¸æ˜¯çš„è¯ï¼Œé‚£mergeå²‚ä¸æ˜¯è¦è¯»ä¸¤æ¬¡ç£ç›˜ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431946,"discussion_content":"1. è¿™ä¸ªæ˜¯â€œflushâ€ç­–ç•¥ï¼Œä»Šæ™šä¼šå‘çš„æ–°çš„ä¸€ç¯‡å°±ä¼šè¯´åˆ°\n\n2. ä¸ä¸€å®šä¸€æ ·\n\n3. å¦‚æœå†…å­˜é‡Œæœ‰ï¼Œå†…å­˜é‡Œä¸€å®šæ˜¯å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544333377,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45784,"user_name":"åˆ°é“å¯é“","can_delete":false,"product_type":"c1","uid":1031181,"ip_address":"","ucode":"12B94B6C26BE0D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/bc/0d/00424e81.jpg","comment_is_top":false,"comment_ctime":1543796162,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"10133730754","product_id":100020801,"comment_content":"æœ‰äº† redo logï¼ŒInnoDB å°±å¯ä»¥ä¿è¯å³ä½¿æ•°æ®åº“å‘ç”Ÿå¼‚å¸¸é‡å¯ï¼Œä¹‹å‰æäº¤çš„è®°å½•éƒ½ä¸ä¼šä¸¢å¤±ï¼Œè¿™ä¸ªèƒ½åŠ›ç§°ä¸ºcrash-safeã€‚<br>å¯¹äºåœ¨change bufferä¸­çš„æ•°æ®ï¼Œä½†å·²æäº¤çš„éƒ¨åˆ†ï¼Œå·²ç»å†™äº†redo logï¼Œæ­¤æ—¶æ–­ç”µé‡å¯æ˜¯æ²¡æœ‰å½±å“çš„ï¼Œä½†å¯¹äºæœªå†™redo logçš„ï¼Œå³äº‹åŠ¡è¿˜æœªæäº¤çš„ï¼Œä¼šæ­£å¸¸ä¸¢å¤±è¿™éƒ¨åˆ†æ•°æ®ã€‚","like_count":2},{"had_liked":false,"id":45782,"user_name":"å³°","can_delete":false,"product_type":"c1","uid":1056019,"ip_address":"","ucode":"C53CB64E8E7D19","user_header":"https://static001.geekbang.org/account/avatar/00/10/1d/13/31ea1b0b.jpg","comment_is_top":false,"comment_ctime":1543795969,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10133730561","product_id":100020801,"comment_content":"å¶å›å¤ä¸‹å‡¯å¹³çš„é—®é¢˜ï¼Œä¸»é”®idæ˜¯ä¸»ç´¢å¼•ï¼Œåœ¨æ’å…¥çš„æ—¶å€™ï¼Œæ˜¯æ ¹æ®å®ƒæ¥å¯»æ‰¾æ’å…¥ä½ç½®çš„ï¼Œæ‰€ä»¥å·²ç»è€ƒè™‘äº†å®ƒçš„å”¯ä¸€æ€§ã€‚<br>ç„¶åæ€è€ƒé¢˜çš„è¯ï¼Œæ¯•ç«Ÿä¸ redoå†™å…¥changebufferçš„å˜åŒ–çš„æ“ä½œç»„æˆäº†äº‹åŠ¡ï¼Œæ‰€ä»¥ä¸ä¼šå‘ç”Ÿä¸¢å¤±ã€‚","like_count":2},{"had_liked":false,"id":320939,"user_name":"é‡‘å°š","can_delete":false,"product_type":"c1","uid":1661060,"ip_address":"","ucode":"70C19FE3C984B0","user_header":"https://static001.geekbang.org/account/avatar/00/19/58/84/a8aac073.jpg","comment_is_top":false,"comment_ctime":1636588008,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"5931555304","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸‹å”¯ä¸€ç´¢å¼•å’Œæ™®é€šç´¢å¼•å­˜å‚¨ç»“æ„ä¸€æ ·å—ã€‚æŠŠå”¯ä¸€ç´¢å¼•æ”¹æˆæ™®é€šç´¢å¼•ä¸ºä»€ä¹ˆè¦å…ˆåˆ é™¤åœ¨åˆ›å»ºã€‚","like_count":1,"discussions":[{"author":{"id":1661060,"avatar":"https://static001.geekbang.org/account/avatar/00/19/58/84/a8aac073.jpg","nickname":"é‡‘å°š","note":"","ucode":"70C19FE3C984B0","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414069,"discussion_content":"æœ‰äººå›ç­”ä¸‹å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636643689,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310232,"user_name":"é™ˆå°æ°","can_delete":false,"product_type":"c1","uid":1258560,"ip_address":"","ucode":"7C6C7D7F43A171","user_header":"https://static001.geekbang.org/account/avatar/00/13/34/40/99b10e7d.jpg","comment_is_top":false,"comment_ctime":1630563854,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5925531150","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜ï¼Œä¸€ç›´æƒ³ä¸æ˜ç™½ï¼Œæœ›è§£ç­”ï¼š<br>change buffer ä½¿ç”¨ä¹‹åï¼Œupdateã€deleteçš„æ—¶å€™ä¸ä¼šä»ç£ç›˜è¯»å–ç›´æ¥å†™å…¥å†…å­˜ã€‚é‚£ä¸è¯»å–ç£ç›˜æ€ä¹ˆçŸ¥é“éœ€è¦å˜æ›´çš„è®°å½•æ˜¯å¦çœŸçš„å­˜åœ¨ï¼Œä»¥åŠæœ¬æ¬¡SQLæ‰§è¡Œå½±å“è¡Œæ•°æ˜¯æ€ä¹ˆè¿”å›çš„å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398796,"discussion_content":"å¦‚æœupdateæˆ–è€…deleteæ¡ä»¶ä¸­éœ€è¦ç”¨åˆ°æŸä¸ªäºŒçº§ç´¢å¼•cï¼Œé‚£è¿™ä¸ªç´¢å¼•cä¸Šçš„æ•°æ®é¡µè‚¯å®šæ˜¯è¦å…ˆè½½å…¥å†…å­˜ä¸­çš„ï¼Œè¿™ä¸ªæ—¶å€™é€šè¿‡ç´¢å¼•cå¯ä»¥å¾—åˆ°å½±å“è¡Œæ•°ã€‚å¦‚æœæ¡ä»¶ä¸­æ²¡æœ‰ç”¨åˆ°ç´¢å¼•cå­—æ®µï¼Œé‚£æ ¹æ®ä¸»é”®ç´¢å¼•æˆ–è€…å…¶ä»–äºŒçº§ç´¢å¼•å°±å¯ä»¥ç®—å‡ºå½±å“è¡Œæ•°ã€‚æ‰€ä»¥è¿™ä¸¤ç§æƒ…å†µéƒ½ä¸ä¼šæœ‰é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632842407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286869,"user_name":"å­¦ä¹ ä¸­çš„å‘¨ç’","can_delete":false,"product_type":"c1","uid":1779524,"ip_address":"","ucode":"6B33C48765F041","user_header":"https://static001.geekbang.org/account/avatar/00/1b/27/44/5bb1c270.jpg","comment_is_top":false,"comment_ctime":1617642506,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5912609802","product_id":100020801,"comment_content":"updateæ“ä½œæ—¶å€™ï¼Œä½¿ç”¨change bufferï¼Œæ€ä¹ˆè¿”å›æ›´æ–°çš„æ¡æ•°ï¼›<br>åœ¨ä¸šåŠ¡ä»£ç ä¸­ï¼Œå¦‚æœæ•°æ®æ²¡æœ‰æ›´æ–°ï¼Œè·å–åˆ°çš„æ˜¯row = 0ï¼›ä½†æ˜¯å¼•å…¥ change buffer åï¼Œå‘ä¸‹ä»–åªæœ‰ åœ¨æŸ¥è¯¢æ—¶å€™ï¼Œæ‰ä¼šmergeï¼Œé‚£å¦‚æœæ›´æ–°çš„æ˜¯ä¸å­˜åœ¨çš„æ•°æ®å‘¢","like_count":1},{"had_liked":false,"id":278941,"user_name":"é•¿è„–å­æ ‘","can_delete":false,"product_type":"c1","uid":1182802,"ip_address":"","ucode":"D9090EF67EEB1B","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/52/f25c3636.jpg","comment_is_top":false,"comment_ctime":1613472726,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5908440022","product_id":100020801,"comment_content":"è¿˜æ˜¯çœ‹å®˜æ–¹æ–‡æ¡£æ¸…æ™°<br>ä¸€å¥è¯å°±æ˜¯ change buffer æ˜¯äºŒçº§ç´¢å¼•çš„å˜æ›´ç¼“å­˜, ç”¨äºå‡å°‘äºŒçº§ç´¢å¼•æ›´æ–°æ—¶å¸¦æ¥çš„éšæœº IO","like_count":1},{"had_liked":false,"id":275922,"user_name":"ç»¿ç®­ä¾ ","can_delete":false,"product_type":"c1","uid":1528536,"ip_address":"","ucode":"B994F558A98E29","user_header":"https://static001.geekbang.org/account/avatar/00/17/52/d8/123a4981.jpg","comment_is_top":false,"comment_ctime":1611718174,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5906685470","product_id":100020801,"comment_content":"è€å¸ˆï¼Œchange bufferæœ‰ä¸¤ä¸ªç–‘é—®ï¼š<br>1. change  buffer æŒä¹…åŒ–æœ‰ä»€ä¹ˆç”¨ï¼Œmysqlé‡å¯åä¼šé‡æ–°è¯»å–ä»–æŒä¹…åŒ–çš„æ•°æ®ï¼Ÿ<br>2. æˆ‘å·²ç»çŸ¥é“äº†æ–°äº§ç”Ÿçš„chang buffer ä¼šå†™åˆ°redologä¸­ï¼Œé‚£ä¹ˆchang  buffer è¢«mergeåï¼Œè¿™ä¸ªæ“ä½œä¹Ÿä¼šå†™åˆ°redo logä¸­ï¼Ÿ","like_count":1},{"had_liked":false,"id":246139,"user_name":"å–»èŒ‚","can_delete":false,"product_type":"c1","uid":1318661,"ip_address":"","ucode":"C8BD8086A17365","user_header":"https://static001.geekbang.org/account/avatar/00/14/1f/05/8a06692e.jpg","comment_is_top":false,"comment_ctime":1599187666,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5894154962","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¦‚æœæ•°æ®é¡µä¸åœ¨å†…å­˜æ™®é€šç´¢å¼•çš„æ›´æ–°æ“ä½œä¸å»ç£ç›˜è¯»å–æ•°æ®é¡µçš„è¯updateæ›´æ–°æ“ä½œæ€ä¹ˆç¡®å®šæ›´æ–°è¡Œæ•°ï¼Ÿ å”¯ä¸€ç´¢å¼•çš„æ›´æ–°æ“ä½œåº”è¯¥ä¹Ÿä¸ç”¨åˆ¤æ–­æ˜¯å¦é‡å¤å§åªæœ‰æ–°å¢æ“ä½œæ‰è¦åˆ¤æ–­å§ï¼Ÿ","like_count":1},{"had_liked":false,"id":185938,"user_name":"è›‹ç‚’é¥­åŠ é¸¡è›‹","can_delete":false,"product_type":"c1","uid":1628398,"ip_address":"","ucode":"C75E27B9FB3336","user_header":"https://static001.geekbang.org/account/avatar/00/18/d8/ee/17f220b6.jpg","comment_is_top":false,"comment_ctime":1583727519,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5878694815","product_id":100020801,"comment_content":"å°† change buffer ä¸­çš„æ“ä½œåº”ç”¨åˆ°åŸæ•°æ®é¡µï¼Œå¾—åˆ°æœ€æ–°ç»“æœçš„è¿‡ç¨‹ç§°ä¸º mergeã€‚é™¤äº†è®¿é—®è¿™ä¸ªæ•°æ®é¡µä¼šè§¦å‘ merge å¤–ï¼Œç³»ç»Ÿæœ‰åå°çº¿ç¨‹ä¼šå®šæœŸ mergeã€‚<br>è€å¸ˆï¼Œç³»ç»Ÿæœ‰åå°çº¿ç¨‹å®šæœŸmergeï¼Œé‚£è¿™ä¸ªè¿‡ç¨‹æ˜¯å®šæœŸä»ç£ç›˜è¯»é¡µåˆ°å†…å­˜åº”ç”¨change bufferè¿˜æ˜¯è¯´æŠŠchange bufferçš„æ”¹åŠ¨å†™å…¥åˆ°ç£ç›˜ï¼Œå¦‚æœæ˜¯åè€…ï¼Œé‚£ä¹ˆå’Œredo logçš„å†™å…¥ç£ç›˜æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ","like_count":1},{"had_liked":false,"id":134096,"user_name":"å•†ç¿é€†","can_delete":false,"product_type":"c1","uid":1142674,"ip_address":"","ucode":"FA9522CEDA5635","user_header":"https://static001.geekbang.org/account/avatar/00/11/6f/92/535160b0.jpg","comment_is_top":false,"comment_ctime":1568740489,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"5863707785","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘ç¿»çœ‹äº†è¯„è®ºåŒºæ‰€æœ‰ç›¸å…³é—®ç­”ï¼Œè¿˜æ˜¯æœ‰è¿™æ ·ä¸€ä¸ªç–‘é—®ï¼š<br>æ—¢ç„¶change bufferå’Œredo logéƒ½æœ‰æŠŠè®°å½•å†™åˆ°ç£ç›˜é‡Œçš„æœºåˆ¶ï¼Œé‚£ä¹ˆä¸€æ¡è®°å½•çš„æ›´æ–°æœ€ç»ˆè½ç›˜ï¼Œæ˜¯é€šè¿‡change bufferçš„mergeè¿‡ç¨‹ï¼Œè¿˜æ˜¯é€šè¿‡redo logçš„å†™å…¥è¿‡ç¨‹å‘¢ï¼Ÿè¿˜æ˜¯è¯´ï¼Œåœ¨æœ‰change bufferçš„æƒ…å†µä¸‹ï¼Œé€šè¿‡buffer poolé‡Œçš„è®°å½•å†™åˆ°ç£ç›˜ï¼›å¦‚æœæ²¡æœ‰ï¼Œå°±é€šè¿‡redo logå†™ç£ç›˜","like_count":1,"discussions":[{"author":{"id":1404261,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erAuyLVZlO4559FiaGgkd3QvwTyI9LxkwYagVdqV3BwyzK4WDm137X2OpH3yklxMickjw47eLXShw8Q/132","nickname":"conn4575","note":"","ucode":"EB6AE117376D97","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":92073,"discussion_content":"æˆ‘ä¹Ÿæ˜¯è¿™ä¸ªåœ°æ–¹å¡ä½äº†ï¼Œç°åœ¨æ›´æä¸æ‡‚ change buffer å’Œ redo log ä¸¤è€…çš„åŒºåˆ«äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576852323,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1518793,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2c/c9/462afe28.jpg","nickname":"å°ç™½","note":"","ucode":"11FC209D9ED65F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":33586,"discussion_content":"æˆ‘ä¹Ÿæ˜¯è¿™ä¸ªé—®é¢˜ï¼Œæ‰¾ä¸åˆ°ç­”æ¡ˆï¼Œå¡åœ¨è¿™ä¸ªç‚¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571136943,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1142674,"avatar":"https://static001.geekbang.org/account/avatar/00/11/6f/92/535160b0.jpg","nickname":"å•†ç¿é€†","note":"","ucode":"FA9522CEDA5635","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1518793,"avatar":"https://static001.geekbang.org/account/avatar/00/17/2c/c9/462afe28.jpg","nickname":"å°ç™½","note":"","ucode":"11FC209D9ED65F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":48150,"discussion_content":"åé¢è®²åˆ°äº†ï¼Œæœ‰flushè¿‡ç¨‹ï¼Œçœ‹ä¸‹å»å¯çŸ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573453687,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":33586,"ip_address":""},"score":48150,"extra":""}]}]},{"had_liked":false,"id":127217,"user_name":"ITæ©˜å­","can_delete":false,"product_type":"c1","uid":1066932,"ip_address":"","ucode":"1DBEE96BAF8B0B","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/b4/e8b3f53f.jpg","comment_is_top":false,"comment_ctime":1566613116,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5861580412","product_id":100020801,"comment_content":"â€å¦‚æœè¦åœ¨è¿™å¼ è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ–°è®°å½• (4,400) çš„è¯ï¼ŒInnoDB çš„å¤„ç†æµç¨‹æ˜¯æ€æ ·çš„ã€‚â€ä¸­çš„ç›®æ ‡é¡µæ˜¯kç´¢å¼•ä¸Šçš„æ•°æ®é¡µï¼ŸInnoDBæ˜¯ç´¢å¼•ç»„ç»‡è¡¨ï¼Œæ•°æ®è‚¯å®šæ˜¯è®°å½•åœ¨ä¸»é”®ç´¢å¼•ä¸Šçš„ï¼Œè€Œchange bufferä¸­ç¼“å­˜çš„æ›´æ–°æ“ä½œåº”è¯¥æ˜¯å¯¹ä¸»é”®ç´¢å¼•æ•°æ®é¡µçš„ç¼“å­˜å§ï¼Ÿæœ‰ç‚¹ä¸æ˜ç™½","like_count":1,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149883,"discussion_content":"æœ€åéƒ½åº”è¯¥è½åœ¨ä¸»é”®ç´¢å¼•ç»„ç»‡è¡¨ä¸Šå§ã€‚æ¯•ç«Ÿæ™®é€šç´¢å¼•çš„å¶å­èŠ‚ç‚¹çš„valueè¿˜æ˜¯ä¸»é”®å€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579783263,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126482,"user_name":"MrVito","can_delete":false,"product_type":"c1","uid":1252169,"ip_address":"","ucode":"716FF6F8871706","user_header":"https://static001.geekbang.org/account/avatar/00/13/1b/49/ddefc656.jpg","comment_is_top":false,"comment_ctime":1566392847,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5861360143","product_id":100020801,"comment_content":"å†™äº†change bufferè‚¯å®šä¹Ÿæ˜¯å†™äº†redo logè¦æ˜¯æ²¡å†™å®Œï¼Œå°±å®•æœºï¼Œchange bufferå°±æ²¡äº†ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡redo logæ¢å¤ï¼Œä½†æ˜¯è¦æ˜¯æ²¡å†™å®Œredo logï¼Œå°±ä¸èƒ½æ¢å¤äº†ã€‚çœ‹åˆ°è¯„è®ºï¼Œgapé”ï¼Œè„é¡µï¼ŒçœŸçš„ä¸çŸ¥é“ä»€ä¹ˆé¬¼ï¼Œæ„Ÿè§‰è¿™ä¸ªå°±æ˜¯è®²äº†æ™®é€šç´¢å¼•ä¸å”¯ä¸€ç´¢å¼•çš„æ€§èƒ½æ¯”è¾ƒï¼Œå¤§ç¥ä»¬è¡ç”Ÿå‡ºæ¥çš„é—®é¢˜å•Šï¼Œè®©æˆ‘é»˜é»˜ç‘Ÿç‘Ÿå‘æŠ–ï¼","like_count":1,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149885,"discussion_content":"å…¶å®ä¹Ÿæ²¡å•¥ï¼Œä»”ç»†åˆ†æä¸€ä¸‹å°±è¡Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579783330,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105304,"user_name":"Geek_e95920","can_delete":false,"product_type":"c1","uid":1344701,"ip_address":"","ucode":"193C44DAC1699C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/HLDjKFe3k6EsKg2AzW7UPp6EiaxotnDciaIxCHtBWibbb0GAJXc2LfDCJwv3sL2QZAudndqUU31cicq4oMrGXibLaTA/132","comment_is_top":false,"comment_ctime":1560959429,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5855926725","product_id":100020801,"comment_content":"æ›´æ–°éå”¯ä¸€äºŒçº§ç´¢å¼•è®°å½•æ—¶ï¼Œå¦‚æœåœ¨buffer poolä¸­ä¸å­˜åœ¨è¯¥ç´¢å¼•è®°å½•ï¼Œå°±ç›´æ¥å°†æ›´æ–°æ“ä½œè®°å½•åœ¨change bufferä¸­ã€‚<br>ç–‘é—®ï¼šå®ƒæ˜¯æ€ä¹ˆæ–­å®šè¯¥ç´¢å¼•è®°å½•å°±ä¸€å®šå­˜åœ¨å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149918,"discussion_content":"å¯ä»¥æ ¹æ®ç´¢å¼•æ ‘æ‰¾å‡ºä¸»é”®ï¼Œåˆ¤æ–­å†…å­˜ä¸­æ˜¯å¦æœ‰ç›¸åº”æ•°æ®å§ã€‚ä¸ªäººçŒœæµ‹ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1579784020,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":105075,"user_name":"chuanyi.huang","can_delete":false,"product_type":"c1","uid":1517952,"ip_address":"","ucode":"4981885BB2F05C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJwPkU9Ua5ggHHRNQ3HxU6aWRq9O6QMMUf4mDt9SkF6wuZycH0pCCUPrMFcoJXgRM4A3mBNibAC6LQ/132","comment_is_top":false,"comment_ctime":1560911766,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5855879062","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæˆ‘æƒ³è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œ  æˆ‘ç°åœ¨æœ‰ä¸€ä¸ªè”åˆç´¢å¼•(a,b) , å½“æˆ‘åœ¨whereæ¡ä»¶ä¸­ aå­—æ®µç”¨åˆ°èŒƒå›´æŸ¥è¯¢çš„æ—¶å€™ï¼Œbå­—æ®µç´¢å¼•ä¼šå¤±æ•ˆå—ï¼Ÿ å¦‚æœå¤±æ•ˆï¼Œä¸ºä»€ä¹ˆä¼šå¤±æ•ˆå‘¢ï¼Ÿ ","like_count":1,"discussions":[{"author":{"id":1465412,"avatar":"https://static001.geekbang.org/account/avatar/00/16/5c/44/d07c0865.jpg","nickname":"Geek_d960af","note":"","ucode":"C59AEF44BD8691","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":297998,"discussion_content":"båº”è¯¥æ˜¯å¤±æ•ˆçš„ã€‚\n(1,1)(1,2)(2,1)(2,4)(3,1)(3,2)\nå¯ä»¥çœ‹åˆ°açš„å€¼æ˜¯æœ‰é¡ºåºçš„ï¼Œ1ï¼Œ1ï¼Œ2ï¼Œ2ï¼Œ3ï¼Œ3ï¼Œè€Œbçš„å€¼æ˜¯æ²¡æœ‰é¡ºåºçš„1ï¼Œ2ï¼Œ1ï¼Œ4ï¼Œ1ï¼Œ2\nä¸è¿‡åº”è¯¥ä¼šç”¨åˆ°ç´¢å¼•ä¸‹æ¨ä¼˜åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597138104,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":100116,"user_name":"Clear","can_delete":false,"product_type":"c1","uid":1110680,"ip_address":"","ucode":"AD768DB7654F7B","user_header":"https://static001.geekbang.org/account/avatar/00/10/f2/98/e2c92588.jpg","comment_is_top":false,"comment_ctime":1559448203,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5854415499","product_id":100020801,"comment_content":"ä½ å¥½ï¼Œå¦‚æœä½¿ç”¨change bufferï¼Œæ’å…¥æ•°æ®æ—¶ï¼Œä¸»é”®ç´¢å¼•å”¯ä¸€æ˜¯å¦ä¹Ÿä¼šå¯¼è‡´æ•°æ®è¯»å…¥å†…å­˜å‘¢?  å¦‚æœä¸ç”¨è¯»ï¼Œå°±è¯´æ˜ä¸ç”¨æ£€æŸ¥ä¸»é”®ç´¢å¼•çš„å”¯ä¸€æ€§ï¼Œå¦‚æœè¦è¯»çš„è¯ï¼Œé‚£å°±æ²¡æœ‰æå‡æ€§èƒ½çš„æ•ˆæœäº†ã€‚","like_count":1,"discussions":[{"author":{"id":1185046,"avatar":"https://static001.geekbang.org/account/avatar/00/12/15/16/0aae41a1.jpg","nickname":"no13bus","note":"","ucode":"69FA1A719DA4F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":11962,"discussion_content":"ä¸€ä¸ªè¡¨é‡Œé¢çš„ä¸€è¡Œè®°å½•é™¤äº†ä¸»é”®ç´¢å¼•å¤–è¿˜æœ‰å”¯ä¸€ç´¢å¼•å’Œæ™®é€šç´¢å¼•ã€‚changeå¯¹æ™®é€šç´¢å¼•æ˜¯æœ‰æ•ˆçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568453148,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":89440,"user_name":"è«å","can_delete":false,"product_type":"c1","uid":1487905,"ip_address":"","ucode":"852C2321C45EE3","user_header":"https://static001.geekbang.org/account/avatar/00/16/b4/21/17a88779.jpg","comment_is_top":false,"comment_ctime":1556174984,"is_pvip":false,"replies":[{"id":"32460","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1556607088,"ip_address":"","comment_id":89440,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5851142280","product_id":100020801,"comment_content":"change bufferçš„å¼€å…³æ˜¯å…¨å±€çš„å—ï¼Ÿè¦ä¹ˆå¯ç”¨è¦ä¹ˆç¦ç”¨ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":448134,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1556607088,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":88032,"user_name":"zc","can_delete":false,"product_type":"c1","uid":1086631,"ip_address":"","ucode":"5A5D4C90DF591C","user_header":"https://static001.geekbang.org/account/avatar/00/10/94/a7/a582f0d0.jpg","comment_is_top":false,"comment_ctime":1555819927,"is_pvip":false,"replies":[{"id":"31689","content":"æ˜¯çš„ ä¸è¿‡è¿™ä¸ªä¹Ÿæ˜¯è€ç‰ˆæœ¬æ‰ä¼šå‡ºç°çš„äº†ï¼Œæ–°ç‰ˆæœ¬æ”¹ä¸ºhash_scanç®—æ³•ï¼Œæ™®é€šç´¢å¼•ä¹Ÿè¿˜è¡Œ<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1555860226,"ip_address":"","comment_id":88032,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5850787223","product_id":100020801,"comment_content":"æ²¡æœ‰ä¸»é”®å’Œéå”¯ä¸€ç´¢å¼•ï¼Œå¤‡æœºæ‰§è¡Œbinlogä¼šå¾ˆæ…¢","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":447691,"discussion_content":"æ˜¯çš„ ä¸è¿‡è¿™ä¸ªä¹Ÿæ˜¯è€ç‰ˆæœ¬æ‰ä¼šå‡ºç°çš„äº†ï¼Œæ–°ç‰ˆæœ¬æ”¹ä¸ºhash_scanç®—æ³•ï¼Œæ™®é€šç´¢å¼•ä¹Ÿè¿˜è¡Œ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1555860226,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":79436,"user_name":"ä¸ä¼¼æ—§æ—¥","can_delete":false,"product_type":"c1","uid":1161271,"ip_address":"","ucode":"DF4C5E3AB9570C","user_header":"https://static001.geekbang.org/account/avatar/00/11/b8/37/98991aeb.jpg","comment_is_top":false,"comment_ctime":1553483847,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5848451143","product_id":100020801,"comment_content":"æ™®é€šç´¢å¼•ä¸å”¯ä¸€ç´¢å¼•çš„æ•ˆç‡å·®ä¸å¤š, <br>ä¸åŒç´¢å¼•å¯ä»¥ä½¿ç”¨å…¨å±€bufferè€Œå”¯ä¸€ç´¢å¼•ä¸å¯ä»¥,<br>æœºæ¢°ç¡¬ç›˜ä½¿ç”¨å…¨å±€bufferæ•ˆç‡æ›´é«˜","like_count":1},{"had_liked":false,"id":74006,"user_name":"Shen","can_delete":false,"product_type":"c1","uid":1182167,"ip_address":"","ucode":"CFF7609A754392","user_header":"https://static001.geekbang.org/account/avatar/00/12/09/d7/ffe7b0bf.jpg","comment_is_top":false,"comment_ctime":1552057617,"is_pvip":false,"replies":[{"id":"27034","content":"ä¸ç”¨åˆ¤æ–­ï¼Œè¿™ä¸€è¡Œä¸€å®šå­˜åœ¨ï¼Œï¼ˆé™¤éå‡ºbugäº†ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1552091169,"ip_address":"","comment_id":74006,"utype":1}],"discussion_count":4,"race_medal":0,"score":"5847024913","product_id":100020801,"comment_content":"â€œæ›´æ–°ä¸€ä¸ªæ•°æ®é¡µæ—¶ï¼Œåœ¨ä¸å½±å“æ•°æ®ä¸€è‡´æ€§çš„å‰æä¸‹ï¼Œinnodbä¼šå°†è¿™äº›æ›´æ–°æ“ä½œç¼“å­˜åœ¨change bufferä¸­ã€‚â€<br>è¯·é—®è€å¸ˆï¼Œå…·ä½“æœ‰å“ªäº›æ“ä½œå‘¢ï¼Ÿ<br>æˆ‘æƒ³äº†ä¸€ä¸ªåœºæ™¯ï¼Œéå”¯ä¸€ç´¢å¼•çš„æ›´æ–°æ“ä½œï¼Œéœ€è¦åˆ¤æ–­è¯¥è¡Œæ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œè¿™æ ·è¿˜æ˜¯éœ€è¦å°†ç£ç›˜ä¸­çš„æ•°æ®é¡µè¯»å–åˆ°å†…å­˜ä¸­å‘¢ã€‚<br>","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442381,"discussion_content":"ä¸ç”¨åˆ¤æ–­ï¼Œè¿™ä¸€è¡Œä¸€å®šå­˜åœ¨ï¼Œï¼ˆé™¤éå‡ºbugäº†ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552091169,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1548802,"avatar":"https://static001.geekbang.org/account/avatar/00/17/a2/02/bd5b398c.jpg","nickname":"RecklesszZ ğŸ˜¶","note":"","ucode":"8DF59BEAC079DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293239,"discussion_content":"æŒ‰ç…§æˆ‘çš„ç†è§£æ˜¯ï¼Œé™¤éæ˜¯è¿™ä¸ªç´¢å¼•çš„ç´¢å¼•é¡µå…¨åœ¨å†…å­˜ä¸­ï¼Œè¿™æ ·æˆ‘æ‰çŸ¥é“æ•°æ®æ˜¯å¦å­˜åœ¨ã€‚ä½†æ˜¯ä¸æ˜¯è¯´ç´¢å¼•ä¹Ÿä¸ä¸€å®šæ˜¯ä¸€å®šåœ¨å†…å­˜ä¸­çš„å—ï¼Ÿé‚£æˆ‘updateä¸€ä¸ªæ™®é€šç´¢å¼•ä¸åœ¨å†…å­˜ä¸­çš„æ•°æ®è¡Œæ—¶ï¼Œæ€ä¹ˆèƒ½åˆ¤æ–­è¿™ä¸ªæ•°æ®ä¸€å®šå­˜åœ¨å‘¢ï¼Ÿ\nå¯æ˜¯æ— è®ºä»€ä¹ˆupdateè¯­å¥ï¼Œéƒ½ä¼šç«‹åˆ»è¿”å›å½±å“è¡Œæ•°ï¼Œå¦‚æœæ˜¯æ”¾å…¥change bufferä¸­ï¼Œä¸Šè¿°æƒ…å†µçš„æ—¶å€™ï¼Œæ€ä¹ˆèƒ½ä¸€å®šçŸ¥é“å½±å“è¡Œæ•°å‘¢ï¼Ÿ\nè¿™ä¸ªé—®é¢˜å›°æ‰°æˆ‘å‡ ä¸ªæœˆäº†ï¼Œéº»çƒ¦è€å¸ˆè§£ç­”ä¸€ä¸‹","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1595489588,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1736650,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyuuhxu0HH4cIKCClCqx0LTurCCYWmNcFwfTWV5te5afsibp2yuDmC9mibEHx0Xy8QlvqvMWWcAib8g/132","nickname":"æˆ‘çš„å–µ","note":"","ucode":"A7435BDBDD2587","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":344503,"discussion_content":"å“‡ä¹Ÿè§‰å¾—ä½œè€…å›å¤è¿˜æ˜¯ä¸ç†è§£ï¼Œå’‹ä¿è¯ä¸€å®šå­˜åœ¨çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611480376,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1548802,"avatar":"https://static001.geekbang.org/account/avatar/00/17/a2/02/bd5b398c.jpg","nickname":"RecklesszZ ğŸ˜¶","note":"","ucode":"8DF59BEAC079DD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":293236,"discussion_content":"è¿™ä¸€è¡Œä¸ºä»€ä¹ˆä¸€å®šå­˜åœ¨å‘¢ï¼Ÿæ™®é€šç´¢å¼•updateä¸€ä¸ªä¸å­˜åœ¨çš„æ•°æ®è¡Œï¼Œå®Œå…¨æ˜¯å¯ä»¥çš„å•Šï¼Œæ•°æ®åº“è¿”å›  0 rows affacted.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595489285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56999,"user_name":"Jowin","can_delete":false,"product_type":"c1","uid":1114356,"ip_address":"","ucode":"19017F7D06C22A","user_header":"https://static001.geekbang.org/account/avatar/00/11/00/f4/cc5f0896.jpg","comment_is_top":false,"comment_ctime":1546596598,"is_pvip":false,"replies":[{"id":"20572","content":"ğŸ‘ğŸ¿","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546609989,"ip_address":"","comment_id":56999,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5841563894","product_id":100020801,"comment_content":"åˆ¤å®šå‡†åˆ™ï¼šchange buffer çš„æ”¶ç›Šæ˜¯åœ¨è¦æ›´æ–°çš„æ•°æ®é¡µæˆ–éå”¯ä¸€ç´¢å¼•é¡µä¸åœ¨å†…å­˜çš„æ—¶å€™ã€‚å…¶ä»–æƒ…å†µæ¯”å¦‚æœ‰æ²¡æœ‰whereéƒ½å¯ä»¥æŒ‰è¿™ä¸ªå‡†åˆ™åˆ¤å®šã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435353,"discussion_content":"ğŸ‘ğŸ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546609989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55573,"user_name":"ç‰›ç‰›","can_delete":false,"product_type":"c1","uid":1194626,"ip_address":"","ucode":"CFCE68B4F92209","user_header":"https://static001.geekbang.org/account/avatar/00/12/3a/82/1ff83a38.jpg","comment_is_top":false,"comment_ctime":1546233981,"is_pvip":false,"replies":[{"id":"20082","content":"å¥½é—®é¢˜ï¼Œå°±æ˜¯è§¦å‘mergeç„¶åæ·˜æ±°<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546244184,"ip_address":"","comment_id":55573,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5841201277","product_id":100020801,"comment_content":"è€å¸ˆã€æƒ³è¯·æ•™ä¸‹<br>ä»æ–‡ç« ä¸­æˆ‘å¯ä»¥çœ‹åˆ°3ç§æƒ…å†µä¼šè§¦å‘mergeæ“ä½œï¼š<br>1. éœ€è¦è®¿é—®æ•°æ®é¡µæ—¶ã€ä¼šå°†æ•°æ®é¡µåŠ è½½åˆ°å†…å­˜ã€å°†changer bufferä¸­çš„å˜åŠ¨mergeåˆ°æ•°æ®é¡µå†…å®¹<br>2. åå°è¿›ç¨‹å®šæœŸmerge<br>3. dbæ­£å¸¸å…³é—­ ä¼šå°†change bufferä¸­çš„å†…å­˜ä¸æ•°æ®é¡µå†…å®¹è¿›è¡Œmerge<br><br>æˆ‘çš„ç–‘æƒ‘æ˜¯ï¼š<br>å› ä¸ºchange bufferå ç”¨çš„æ˜¯ buffer poolçš„å†…å­˜ã€ä¸æ˜¯æ— é™å¤§çš„ã€å¦‚æœæ›´æ–°æ¯”è¾ƒé¢‘ç¹ã€å¾ˆå°‘è¯»çš„åœºæ™¯ã€è¿™ä¸‰ç§mergeéƒ½æ²¡è§¦å‘ã€<br>è€Œchange bufferè¢«å†™æ»¡äº†(è¾¾åˆ°å¯ä½¿ç”¨buffer poolçš„æœ€å¤§å€¼)ã€ä¼šå‘ç”Ÿä»€ä¹ˆäº‹ ï¼Ÿè§¦å‘mergeï¼Ÿè¿˜æ˜¯change bufferå†…çš„æ•°æ®ä¸¢å¤± ï¼Ÿ<br>è‹¥buffer poolè¢«å†™æ»¡ä¼šå‘ç”Ÿä»€ä¹ˆ ï¼Ÿ<br><br>=== æ„Ÿè°¢è€å¸ˆã€çœ‹çš„å¾ˆç´¯ã€å¥½å¤šä¸æ‡‚çš„ã€ä½†å¾ˆæ¬£å–œã€å¯ä»¥çœ‹åˆ°è¿™ä¹ˆç»†è‡´çš„è§£è¯´~~~","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434800,"discussion_content":"å¥½é—®é¢˜ï¼Œå°±æ˜¯è§¦å‘mergeç„¶åæ·˜æ±°\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546244184,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48458,"user_name":"æ°ä¹‹7","can_delete":false,"product_type":"c1","uid":1297232,"ip_address":"","ucode":"F7DA2E21085332","user_header":"https://static001.geekbang.org/account/avatar/00/13/cb/50/66d0bd7f.jpg","comment_is_top":false,"comment_ctime":1544447833,"is_pvip":false,"replies":[{"id":"17314","content":"æ‰‹åŠ¨ç‚¹èµ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544451005,"ip_address":"","comment_id":48458,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839415129","product_id":100020801,"comment_content":"åŸºç¡€ç¯‡å­¦ä¹ å®Œä¹‹åï¼Œè¿›å…¥å®æˆ˜çš„ç¬¬ä¸€ç¯‡æ–‡ç« ã€‚æ™®é€šç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•ï¼Œå¯¹äºæŸ¥è¯¢æ¥è¯´ï¼Œä½¿ç”¨è¿™ä¸¤ç§ç´¢å¼•æ€§èƒ½è§’åº¦ä¸Šæ˜¯å·®ä¸å¤šçš„ï¼Œå› ä¸ºInnoDBæŒ‰æ•°æ®é¡µä¸ºå•å…ƒè¿›è¡Œè¯»å†™ã€‚å¯¹äºæ›´æ–°è¯­å¥æ¥è¯´ï¼Œå¯¹æ¥å†…å­˜ä¸­çš„æ•°æ®ç›´æ¥åœ¨å†…å­˜æ›´æ–°ï¼Œå¯¹äºä¸åœ¨å†…å­˜ä¸­çš„æ•°æ®ï¼Œå¯¹äºå”¯ä¸€ç´¢å¼•ï¼Œè¿˜æ˜¯éœ€è¦è¿›è¡Œè¯»å†…å­˜ï¼Œä½†å¯¹äºæ™®é€šç´¢å¼•å°±å¯ä»¥é€šè¿‡ä½¿ç”¨change bufferæ¥å‡å°‘å¯¹ç£ç›˜çš„è®¿é—®ã€‚æ ¹æ®è¿™ä¸€åŸç†ï¼Œè€å¸ˆåœ¨æ–‡ç« é€šè¿‡ä¸€ä¸ªè¯»å…¥å‘½ä¸­ç‡ç”±99%å˜æˆ75%ï¼ŒåŸå› å°±æ˜¯å› ä¸ºæ™®é€šæ‰€ä»¥ç´¢å¼•æ”¹æˆäº†å”¯ä¸€ç´¢å¼•ã€‚æ‰€ä»¥é€šè¿‡æœ¬èŠ‚çš„å­¦ä¹ ï¼Œç†è§£æ™®é€šç´¢å¼•å’ŒChange buffer é…åˆä½¿ç”¨çš„åŸç†ï¼Œå¯¹äºæ•°æ®é‡å¤§çš„è¡¨æ›´æ–°ä¼˜åŒ–æ•ˆç‡å¾ˆæ˜æ˜¾ã€‚é€šè¿‡è¿™äº›ç« èŠ‚çš„å­¦ä¹ ï¼Œåœ¨ç†è§£æ•°æ®åº“çš„æ ¸å¿ƒåŸç†ä¹‹åï¼Œç°åœ¨æˆ‘å›è¿‡åç»§ç»­å®è·µæ•°æ®åº“sqlè¯­å¥çš„çš„æ“ä½œï¼Œè‚¯å®šæ¯”ä¹‹å‰æ›´å¤§çš„è¿›æ­¥å’Œè‡ªä¿¡ã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432189,"discussion_content":"æ‰‹åŠ¨ç‚¹èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544451005,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47933,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1544259917,"is_pvip":false,"replies":[{"id":"17102","content":"ğŸ‘ğŸ¿","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544333280,"ip_address":"","comment_id":47933,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5839227213","product_id":100020801,"comment_content":"æŠŠè¯¥è®²å†…å®¹æ€»ç»“ä¸ºå‡ ä¸ªé—®é¢˜, å¤§å®¶å¤ä¹ çš„æ—¶å€™å¯ä»¥å…ˆå°è¯•å›ç­”è¿™äº›é—®é¢˜æ£€æŸ¥è‡ªå·±çš„æŒæ¡ç¨‹åº¦:<br><br>\t1. <br>ä½¿ç”¨æ™®é€šç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•çš„æŸ¥è¯¢è¿‡ç¨‹å„æ˜¯æ€ä¹ˆæ ·çš„, æ€§èƒ½å·®å¼‚åœ¨å“ªé‡Œä½“ç°?<br>\t2. <br>change bufferçš„ä½œç”¨æ˜¯ä»€ä¹ˆæ ·çš„? æ™®é€šç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•åœ¨æ›´æ–°æ—¶éƒ½ä½¿ç”¨change bufferå—? <br>\t3. <br>ç›®æ ‡é¡µåœ¨å†…å­˜ä¸­å’Œä¸åœ¨å†…å­˜ä¸­æ—¶, ä½¿ç”¨å”¯ä¸€ç´¢å¼•å’Œæ™®é€šç´¢å¼•æ›´æ–°æ•°æ®çš„æµç¨‹å„æ˜¯æ€ä¹ˆæ ·çš„?<br>\t4. <br>changebufferé€‚åˆä»€ä¹ˆæ ·çš„ä½¿ç”¨åœºæ™¯, ä¸é€‚åˆä»€ä¹ˆæ ·çš„ä½¿ç”¨åœºæ™¯?<br>\t5. <br>ç»“åˆbuffer pool, redo log, ç³»ç»Ÿè¡¨ç©ºé—´, æ•°æ®è¡¨ç©ºé—´å››ä¸ªéƒ¨åˆ†åˆ†æå¸¦change bufferçš„æ›´æ–°å’ŒæŸ¥è¯¢è¿‡ç¨‹å„æ˜¯æ€ä¹ˆæ ·çš„?<br><br>","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431951,"discussion_content":"ğŸ‘ğŸ¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544333280,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46459,"user_name":"é«˜æ•","can_delete":false,"product_type":"c1","uid":1310312,"ip_address":"","ucode":"20F6CF75EC9AA4","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/68/e0bebd9a.jpg","comment_is_top":false,"comment_ctime":1543929180,"is_pvip":false,"replies":[{"id":"16626","content":"å°±æ˜¯å›¾ä¸­Page 1é‚£æ ·çš„æµç¨‹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543933427,"ip_address":"","comment_id":46459,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5838896476","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œchange buffer ä¼šæ›´æ–°åˆ°äºŒçº§ç´¢å¼•æ‰€åœ¨çš„pageï¼Œä½†æ˜¯ä¸»é”®ç´¢å¼•çš„å¶å­ç»“ç‚¹çš„pageä½•æ—¶è¢«æ›´æ–°å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431465,"discussion_content":"å°±æ˜¯å›¾ä¸­Page 1é‚£æ ·çš„æµç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543933427,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46106,"user_name":"å¼ æ°¸å¿—","can_delete":false,"product_type":"c1","uid":1208727,"ip_address":"","ucode":"E54B75EF3F63B3","user_header":"https://static001.geekbang.org/account/avatar/00/12/71/97/f1a3d398.jpg","comment_is_top":false,"comment_ctime":1543847541,"is_pvip":false,"replies":[{"id":"16512","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543886524,"ip_address":"","comment_id":46106,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5838814837","product_id":100020801,"comment_content":"â€ç”¨æ–°çš„æ–¹å¼æ¥åˆ†æ session Bâ€™çš„æ›´æ–°ä¸ºä»€ä¹ˆå¯¹ session A ä¸å¯è§å°±æ˜¯ï¼šåœ¨ session A è§†å›¾æ•°ç»„åˆ›å»ºçš„ç¬é—´ï¼Œsession Bâ€™æ˜¯æ´»è·ƒçš„ï¼Œå±äºâ€œç‰ˆæœ¬æœªæäº¤ï¼Œä¸å¯è§â€è¿™ç§æƒ…å†µã€‚â€<br>session Bçš„æ›´æ–°å¯¹æŸ¥è¯¢ä¸å¯è§ï¼Œä½†æ˜¯å¯¹æ›´æ–°æ˜¯å¯è§çš„ã€‚æ›´æ–°æ—¶æ˜¯å½“å‰è¯»ï¼Œè€Œæ™®é€šæŸ¥è¯¢æ˜¯å¿«ç…§è¯»ã€‚æ‰€ä»¥ï¼Œå¯ä»¥æŸ¥è¯¢å‡ºæ•°æ®ï¼Œä½†æ˜¯å´å‡ºç°æ›´æ–°å¤±è´¥çš„æƒ…å†µã€‚","like_count":1,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431337,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543886524,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360183,"user_name":"mubai","can_delete":false,"product_type":"c1","uid":1099044,"ip_address":"å¹¿ä¸œ","ucode":"B0A6C7289E4A9A","user_header":"https://static001.geekbang.org/account/avatar/00/10/c5/24/466d9ba4.jpg","comment_is_top":false,"comment_ctime":1666257092,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1666257092","product_id":100020801,"comment_content":"è€å¸ˆï¼Œmysqlæ˜¯æ€ä¹ˆåˆ¤æ–­è®°å½•è¦æ›´æ–°çš„ç›®æ ‡é¡µåœ¨ä¸åœ¨å†…å­˜ä¸­å‘¢ï¼Ÿåº”è¯¥ä¼šå…ˆæœç´¢æ ‘å§ï¼Œå¦‚æœæœç´¢æ ‘çš„è¯é‚£å°±è¯»ç£ç›˜äº†å•Šï¼Œä¸æ¸…æ¥šæ˜¯å¦æœ‰å…¶ä»–æœºåˆ¶å¯ä»¥åˆ¤æ–­ã€‚","like_count":0},{"had_liked":false,"id":357685,"user_name":"å¤šå¹´ä»¥å","can_delete":false,"product_type":"c1","uid":1911661,"ip_address":"æ¹–åŒ—","ucode":"D70E7A1ABE0F39","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDOKcx20Xxmu5j8WxiafoYvo3bIAFDg8OeicRic1icD597QuMC9O8FyV2Al9RxNfVZXK0gkGUx6M3CVQ/132","comment_is_top":false,"comment_ctime":1663559889,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663559889","product_id":100020801,"comment_content":"æƒ³è¯·æ•™ä¸ªå…³äºç´¢å¼•çš„é—®é¢˜ï¼ŒæŸ¥è¯¢æˆ–è€…ä¿®æ”¹çš„æ—¶å€™ç”¨åˆ°ç´¢å¼•ï¼Œæ˜¯åªåŠ è½½ç”¨åˆ°çš„é¡µï¼Œè¿˜æ˜¯ä¼šæŠŠæ•´ä¸ªB+ç´¢å¼•æ ‘éƒ½åŠ è½½åˆ°å†…å­˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":356802,"user_name":"å°è‘±æ‹Œç™½èœ","can_delete":false,"product_type":"c1","uid":1530050,"ip_address":"åŒ—äº¬","ucode":"C27AA5D81F671F","user_header":"","comment_is_top":false,"comment_ctime":1662602667,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662602667","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸€ä¸ªç–‘é—®ï¼Œå‡è®¾æœ‰ä¸€ä¸ªè¡¨ï¼Œæœ‰id, a, bä¸‰ä¸ªå­—æ®µï¼Œç„¶åç»™aå»ºç«‹æ™®é€šç´¢å¼•<br>æ­¤æ—¶æˆ‘updateè¯­å¥ï¼Œå°†id=1çš„æ•°æ®çš„ aå˜æˆ3ï¼Œæ­¤æ—¶å› ä¸ºå†…å­˜é‡Œæ²¡æœ‰id=1çš„æ•°æ®ï¼Œæ‰€ä»¥ä¼šè¿›å» change buffé‡Œé¢ï¼Œç„¶åç«‹åˆ»æœ‰ä¸€æ¡æŸ¥è¯¢a=3çš„selectè¯­å¥è¿›æ¥ï¼Œå› ä¸ºç£ç›˜é‡Œid=1è¿™æ¡æ•°æ®ä¸å±äºæ­¤ç±»ï¼Œä¸ä¼šåˆ·æ–°è¿›å†…å­˜ä¸­ï¼Œä¹Ÿå°±ä¸ä¼šmerge chang buffï¼Œæ‰€ä»¥æ˜¯ä¹ŸæŸ¥ä¸åˆ°è¿™æ¡æ•°æ®å—ï¼Ÿè¿˜æ˜¯å› ä¸ºredo log, æ‰€ä»¥èƒ½è¢«æŸ¥åˆ°å•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":353359,"user_name":"åƒæ°´ä¸ç”¨é’±","can_delete":false,"product_type":"c1","uid":1797135,"ip_address":"å¹¿ä¸œ","ucode":"8A5D5978F0D4E5","user_header":"https://static001.geekbang.org/account/avatar/00/1b/6c/0f/7d242cc2.jpg","comment_is_top":false,"comment_ctime":1659403800,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1659403800","product_id":100020801,"comment_content":"å…ˆå›ç­”é—®é¢˜#ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œä½†è¿™ç§æƒ…å†µå¯¹å®¢æˆ·ç«¯æ¥è¯´æ˜¯æœ‰æ„ŸçŸ¥çš„ï¼Œå› ä¸ºæ²¡æœ‰èƒ½å¤Ÿå†™å…¥æ•°æ®åˆ°redo logï¼Œæ²¡æœ‰conmit ï¼Œå› æ­¤åœ¨å®¢æˆ·ç«¯çœ‹æ¥ï¼Œäº‹åŠ¡æ‰§è¡Œå¤±è´¥äº†ï¼Œå¯ä»¥é€šè¿‡é‡è¯•æ¥è§£å†³é—®é¢˜ã€‚","like_count":0},{"had_liked":false,"id":351831,"user_name":"é›ªè½","can_delete":false,"product_type":"c1","uid":1240357,"ip_address":"","ucode":"3D146C9661A0FB","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/25/3aa380d9.jpg","comment_is_top":false,"comment_ctime":1658219585,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1658219585","product_id":100020801,"comment_content":"è¯·æ•™è€å¸ˆä¸ªé—®é¢˜ï¼Œç°åœ¨æœ‰ä¸€ä¸ªè¡¨ï¼Œåªæœ‰ä¸€ä¸ªå”¯ä¸€ä¸»é”®ï¼Œç„¶åæˆ‘å¯¹è¿™ä¸ªè¡¨åšäº†ä¸€æ¬¡æ›´æ–°æ“ä½œï¼Œè¿™æ¬¡æ›´æ–°æ“ä½œæ›´æ–°äº†è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œå‡è®¾è¡¨ä¸­çš„éƒ¨åˆ†æ•°æ®é¡µåœ¨buffer poolï¼Œä¸€éƒ¨åˆ†ä¸åœ¨ï¼Œé‚£æ­¤æ—¶åœ¨å†…å­˜buffer pool ä¸­çš„æ•°æ®ä¼šè¢«ç›´æ¥æ›´æ–°ï¼Œç„¶åé¡µå˜æˆè„é¡µï¼›ä¸åœ¨buffer poolçš„æ•°æ®å°±åªè®°å½•äº†change bufferï¼Œå¦‚æœæˆ‘ç°åœ¨åˆå‘æ•°æ®åº“æ’å…¥äº†ä¸€æ¡æ–°æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™åªèƒ½è¯»å–åˆ°ç›¸åº”çš„æ•°æ®é¡µåˆ°å†…å­˜ï¼Œå¹¶ä¸”æ›´æ”¹æ•°æ®é¡µçš„å†…å®¹ï¼Œæ­¤æ—¶å¦‚æœåˆ·è„é¡µçš„çº¿ç¨‹æŠŠè„é¡µåˆ·å›äº†ç£ç›˜ï¼Œä¹‹åchange buufer å¼€å§‹mergeï¼Œè¿™ä¸ªæ—¶å€™ä¼šä¸ä¼šå¯¹æ–°æ’å…¥çš„æ•°æ®ä¹Ÿè¿›è¡Œmergeï¼Œæˆ–è€…å¯¹ä¹‹å‰å·²ç»mergeçš„æ•°æ®ä¹Ÿè¿›è¡Œmergeï¼Œå¦‚æœæ²¡æœ‰ï¼Œä»–å’‹è¯†åˆ«çš„å‘¢...","like_count":0},{"had_liked":false,"id":347122,"user_name":"è‹æˆ","can_delete":false,"product_type":"c1","uid":2668694,"ip_address":"","ucode":"80A8E7B243DD73","user_header":"https://static001.geekbang.org/account/avatar/00/28/b8/96/716ba431.jpg","comment_is_top":false,"comment_ctime":1653726967,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1653726967","product_id":100020801,"comment_content":"1.change bufferæ˜¯ä»€ä¹ˆï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿä»€ä¹ˆæ—¶å€™å†™å…¥ï¼Ÿ<br>2.æ’å…¥ä¸€æ¡æ–°è®°å½•ï¼Œå”¯ä¸€ç´¢å¼•å’Œæ™®é€šç´¢å¼•çš„è¿‡ç¨‹ï¼Ÿ<br>3.å¦‚ä½•é€‰æ‹©ç´¢å¼•å‘¢ï¼Ÿ<br>4.change bufferå’Œredo logçš„è”ç³»å’ŒåŒºåˆ«å’Œä½œç”¨ï¼Ÿ","like_count":0},{"had_liked":false,"id":346165,"user_name":"w ğŸ","can_delete":false,"product_type":"c1","uid":1228290,"ip_address":"","ucode":"F2386C971EC58B","user_header":"https://static001.geekbang.org/account/avatar/00/12/be/02/43202976.jpg","comment_is_top":false,"comment_ctime":1652863589,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1652863589","product_id":100020801,"comment_content":"â€œchange buffer ä¸»è¦èŠ‚çœçš„åˆ™æ˜¯éšæœºè¯»ç£ç›˜çš„ IO æ¶ˆè€—â€  æœ‰ä¸ªç–‘é—®æ˜¯ï¼Œå¦‚æœä¸è¯»å–çš„è¯ï¼Œå¦‚ä½•çŸ¥é“updateã€deleteè¯­å¥çš„å½±å“æ¡æ•°ï¼ˆaffected rowsï¼‰ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577860,"discussion_content":"å¦‚æœ‰éå”¯ä¸€ç´¢å¼•k(column),æˆ‘è§‰å¾—åšæ³•åº”è¯¥æ˜¯ï¼ŒæŸ¥æ‰¾äºŒçº§ç´¢å¼•kçš„æ‰€æœ‰éå¶å­èŠ‚ç‚¹ï¼ˆå½“ç„¶ä¹Ÿå¯èƒ½éƒ¨åˆ†ï¼‰ï¼Œå› ä¸ºéå¶å­ç»“ç‚¹å·²ç»åŒ…å«äº†æ‰€æœ‰çš„columnçš„ä¿¡æ¯ï¼Œè€Œä¸”æ­£å¸¸éå¶å­èŠ‚ç‚¹éƒ½æ˜¯åœ¨å†…å­˜ä¸­çš„ï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸éœ€è¦IOæ“ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656394696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344986,"user_name":"å¥½å¥½å­¦ä¹ ","can_delete":false,"product_type":"c1","uid":1110299,"ip_address":"","ucode":"327552B5924389","user_header":"https://static001.geekbang.org/account/avatar/00/10/f1/1b/d3165de8.jpg","comment_is_top":false,"comment_ctime":1651913780,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651913780","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®ä¸‹è¿™ä¸ªchangebufferï¼Œå¦‚æœæœ‰éƒ¨åˆ†ä¸šåŠ¡åœºæ™¯æ˜¯éœ€è¦ç”¨changebufferæ¥å‡å°‘éšæœºè¯»å†™IOçš„ï¼Œä½†æ˜¯æœ‰éƒ¨åˆ†ä¸šåŠ¡åœºæ™¯æ˜¯å±äºè¯»å¤šå†™å°‘çš„ï¼Œæˆ–è€…è¯´æ˜¯æ›´æ–°å®Œä¹‹åéœ€è¦é©¬ä¸Šè¯»çš„ï¼Œè¿™ç§å¯ä»¥æ‰‹åŠ¨æ§åˆ¶è¿™æ¡è¯­å¥ä¸èµ°changebufferå—ã€‚","like_count":0},{"had_liked":false,"id":342628,"user_name":"æºä¸æ¯","can_delete":false,"product_type":"c1","uid":2739750,"ip_address":"","ucode":"2B9FF0B611BC9E","user_header":"https://static001.geekbang.org/account/avatar/00/29/ce/26/f493253d.jpg","comment_is_top":false,"comment_ctime":1650368853,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1650368853","product_id":100020801,"comment_content":"è€å¸ˆè¯·é—®ï¼šåªæœ‰ç´¢å¼•æ‰ä¼šä½¿ç”¨ change bufferå—ï¼Œå…¶ä»–çš„åœ°æ–¹æœ‰ä½¿ç”¨å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":341644,"user_name":"å†è§ç†æƒ³","can_delete":false,"product_type":"c1","uid":1245999,"ip_address":"","ucode":"FAC88B3F6F6DFD","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/2f/0a5e0751.jpg","comment_is_top":false,"comment_ctime":1649748631,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1649748631","product_id":100020801,"comment_content":"æ™®é€šç´¢å¼•ä¸å”¯ä¸€ç´¢å¼•çš„ è¯»è¯»åŒºåˆ«<br>1ï¼Œæ ¹æ®æ™®é€šç´¢å¼•æ ‘æŸ¥åˆ°åŒ¹é…çš„è¡Œæ•°æ®æ—¶ï¼Œè¿˜è¦ç»§ç»­å‘ä¸‹æŸ¥è¯¢ï¼Œç›´åˆ°æŸ¥è¯¢åˆ°ç¬¬ä¸€ä¸ªä¸åŒ¹é…çš„æ•°æ®ä¸ºæ­¢ã€‚å½“ç¬¬ä¸€ä¸ªä¸åŒ¹é…çš„æ•°æ®åœ¨ä¸‹ä¸€ä¸ªæ•°æ®é¡µçš„æƒ…å†µï¼Œå½±å“è¾ƒå¤§ï¼Œå…¶å®ƒæƒ…å†µåªæ˜¯å¤šæ‰«æä¸€è¡Œæ•°æ®è€Œå·²ã€‚<br>2ï¼Œæ ¹æ®å”¯ä¸€ç´¢å¼•æ ‘æŸ¥åˆ°åŒ¹é…çš„è¡Œæ•°æ®æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥è¿”å›äº†ã€‚<br>æ™®é€šç´¢å¼•ä¸å”¯ä¸€ç´¢å¼•çš„æ›´æ–°åŒºåˆ«<br>å½“è¡Œæ•°æ®åœ¨å†…å­˜ä¸­æ—¶ï¼Œæ™®é€šç´¢å¼•ç›´æ¥æ›´æ–°å†…å­˜å³å¯ï¼Œå”¯ä¸€ç´¢å¼•å…ˆåˆ¤æ–­åç›´æ¥æ›´æ–°å†…å­˜ã€‚<br>è€Œå½“è¡Œæ•°æ®ä¸åœ¨å†…å­˜ä¸­æ—¶ï¼Œæ™®é€šç´¢å¼•çš„æ›´æ–°å¯ä»¥å°†æ›´æ–°æ“ä½œè®°å½•åˆ° changebufferä¸­ï¼Œç­‰åˆ°ä¸‹æ¬¡æŸ¥è¯¢æ—¶ï¼Œå†å°†changebufferä¸è¡Œæ•°æ®mergeåŠ è½½åˆ°å†…å­˜ã€‚è€Œå”¯ä¸€ç´¢å¼•çš„æ›´æ–°å¿…éœ€å°†è¡Œæ•°æ®ä»ç£ç›˜ä¸­åŠ è½½åˆ°å†…å­˜å†åšæ›´æ–°ï¼Œæ— æ³•åº”ç”¨åˆ°changebufferã€‚<br>changebuffer ä¸ redolog çš„ä½œç”¨åŒºåˆ«<br>redo log è§£å†³çš„æ˜¯  ç£ç›˜IOéšæœºå†™çš„é—®é¢˜ã€‚<br>changebuffer è§£å†³çš„æ˜¯ç£ç›˜IOéšæœºè¯»çš„é—®é¢˜ï¼Œä¸»è¦åº”ç”¨äºæ›´æ–°é¢‘ç¹ï¼ŒæŸ¥è¯¢ä¸é¢‘ç¹çš„åœºæ™¯ã€‚","like_count":0},{"had_liked":false,"id":341132,"user_name":"äºšæ—","can_delete":false,"product_type":"c1","uid":1018972,"ip_address":"","ucode":"4A5A6D24314B79","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/5c/3f164f66.jpg","comment_is_top":false,"comment_ctime":1649383304,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649383304","product_id":100020801,"comment_content":"æˆ‘å¬è¯´Oracleå°±æ˜¯æŠŠæŒä¹…åŒ–çš„æ•°æ®æ–‡ä»¶ä¸¢äº†ï¼Œä¹Ÿèƒ½é redo logæ–‡ä»¶æ¢å¤ã€‚çœ‹åŒå­¦ä»¬çš„è¯„è®ºï¼ŒMySQLä¹Ÿèƒ½è¿™ä¹ˆç©å§","like_count":0},{"had_liked":false,"id":341077,"user_name":"Geek_510666","can_delete":false,"product_type":"c1","uid":2941277,"ip_address":"","ucode":"111F869DDE2EB9","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKEkqJxpmLX8mOxVwbBMynxzRXqiaCpnTBvGEesXiajsutj1tqoGfcJEyAbPWE5OD4Omouo5N8ZmXEw/132","comment_is_top":false,"comment_ctime":1649332809,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649332809","product_id":100020801,"comment_content":"ä¾‹å¦‚ä¸€å¼  user è¡¨ä¸­æœ‰ä¸‰ä¸ªå­—æ®µ idï¼ˆä¸»é”®ï¼‰ã€usernameï¼ˆæ™®é€šç´¢å¼•ï¼‰ã€id_cardï¼ˆå”¯ä¸€ç´¢å¼•ï¼‰ã€ageï¼ˆæ™®é€šå­—æ®µï¼‰ã€‚<br><br>æ‰§è¡Œï¼šINSERT INTO user VALUES(1, â€™autumnâ€™, 1001, 15);<br><br>æ’å…¥åœºæ™¯æ˜¯ï¼š<br><br>1. id å’Œ id_card éƒ½æ˜¯å”¯ä¸€ç´¢å¼•éœ€è¦åˆ¤æ–­æ•°æ®é¡µï¼ˆå„è‡ªçš„ç´¢å¼•æ•°æ®é¡µï¼‰æ‰€ä»¥æ— æ³•ä½¿ç”¨ change bufferã€‚<br>2. username æ˜¯æ™®é€šç´¢å¼•æ— éœ€åˆ¤æ–­æ•°æ®é¡µä¸­çš„æ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœè¯¥å­—æ®µçš„æ•°æ®é¡µå­˜åœ¨å†…å­˜ä¸­ç›´æ¥æ’å…¥ä¸å­˜åœ¨åˆ™æ”¾å…¥åˆ° change buffer ä¸­ã€‚<br>3. æ·»åŠ æ•°æ®é¡µï¼ˆå­˜æ”¾æ•°æ®çš„æ•°æ®é¡µï¼‰ç›´æ¥æ’å…¥ã€‚<br>4. å½“æ’å…¥æˆåŠŸåï¼Œè¯»å–æ•°æ®çš„æ—¶å€™å†å°† change buffer ä¸­çš„æ•°æ®ä¸æ•°æ®é¡µï¼ˆusernameçš„ç´¢å¼•é¡µï¼‰åˆå¹¶ã€‚<br><br>æ‰§è¡Œï¼šUPDATE  user SET username = â€˜11â€™ ,age=â€™12â€™ WHERE = id = 1;<br><br>ä¿®æ”¹åœºæ™¯æ˜¯ï¼š<br><br>1. id å’Œ id_card éƒ½æ˜¯å”¯ä¸€ç´¢å¼•éœ€è¦åˆ¤æ–­æ•°æ®é¡µï¼ˆå„è‡ªçš„ç´¢å¼•æ•°æ®é¡µï¼‰æ‰€ä»¥æ— æ³•ä½¿ç”¨ change bufferã€‚<br>2. username æ˜¯æ™®é€šç´¢å¼•æ— éœ€åˆ¤æ–­æ•°æ®é¡µä¸­çš„æ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœè¯¥å­—æ®µçš„æ•°æ®é¡µå­˜åœ¨å†…å­˜ä¸­ç›´æ¥æ›´æ–°ä¸å­˜åœ¨åˆ™æ”¾å…¥åˆ° change buffer ä¸­ã€‚<br>3. ä¿®æ”¹æ•°æ®é¡µï¼ˆå­˜æ”¾æ•°æ®çš„æ•°æ®é¡µï¼‰ã€‚<br>4. ä¿®æ”¹æˆåŠŸåï¼Œè¯»å–æ•°æ®çš„æ—¶å€™å†å°† change buffer ä¸­çš„æ•°æ®ä¸æ•°æ®é¡µï¼ˆusernameçš„ç´¢å¼•é¡µï¼‰åˆå¹¶ã€‚<br><br>ç»“è®ºï¼šchange buffer åªä¼šå½±å“æ™®é€šç´¢å¼•æ’å…¥æ•°æ®é¡µï¼ˆå½“å‰ç´¢å¼•çš„æ•°æ®é¡µï¼‰çš„æ“ä½œã€‚<br><br>è€å¸ˆè¿™æ ·ç†è§£æ˜¯å¦æ˜¯æ­£ç¡®çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":340405,"user_name":"é‡‘é‡‘","can_delete":false,"product_type":"c1","uid":2843604,"ip_address":"","ucode":"807EDDCDB2E939","user_header":"https://static001.geekbang.org/account/avatar/00/2b/63/d4/b63373c3.jpg","comment_is_top":false,"comment_ctime":1648801290,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648801290","product_id":100020801,"comment_content":"æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæ—¢ç„¶mysqlæ˜¯WALï¼Œä¸ºä»€ä¹ˆå›¾äºŒçš„æµç¨‹æ˜¯å…ˆæ›´æ–°å†…å­˜å†å†™redo-logå‘¢ï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":339723,"user_name":"Bruincn","can_delete":false,"product_type":"c1","uid":2686033,"ip_address":"","ucode":"05A1D3672206F9","user_header":"http://thirdwx.qlogo.cn/mmopen/KFgDEHIEpnT0EXnh02VHqPr1CvGd7ibCG59k3vKzibdYjIYibOZvtIDEU7WXYiaicgntE9NEDqamZh0ZKZ5zt3Wja1C8tnoc3iaMZv/132","comment_is_top":false,"comment_ctime":1648321516,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648321516","product_id":100020801,"comment_content":"å¦‚æœè¦æ›´æ–°çš„æ•°æ®é¡µåœ¨å†…å­˜ä¸­ï¼Œé‚£ä¹ˆç›´æ¥æ›´æ–°å†…å­˜ã€‚è¯·é—®å†…å­˜æ›´æ–°ç»“æŸåä¼šç«‹å³åˆ·ç›˜å—ï¼Ÿè‹¥ä¸åˆ·ç›˜ï¼Œæ˜¯ä¸æ˜¯ä¸èƒ½ä¿è¯æ•°æ®æŒä¹…åŒ–ï¼Ÿ","like_count":0},{"had_liked":false,"id":337773,"user_name":"LWD","can_delete":false,"product_type":"c1","uid":1986739,"ip_address":"","ucode":"DDA444DB113C01","user_header":"https://static001.geekbang.org/account/avatar/00/1e/50/b3/9269cd59.jpg","comment_is_top":false,"comment_ctime":1647054887,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1647054887","product_id":100020801,"comment_content":"è€å¸ˆåœ¨å—ï¼Ÿchange bufferå¯ä»¥é¿å…éšæœºè¯»ä¸”è®°å½•çš„æ˜¯é¡µåœ°å€å³ç‰©ç†æ—¥å¿—,é‚£å®ƒæ˜¯æ€ä¹ˆçŸ¥é“è¿™ä¸ªè¯­å¥å¯¹åº”çš„é¡µåœ¨å“ªé‡Œå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":337187,"user_name":"ç¨‹åºçŒ¿é˜¿æ˜Ÿ","can_delete":false,"product_type":"c1","uid":1102568,"ip_address":"","ucode":"B8AB0CBD063EC4","user_header":"https://static001.geekbang.org/account/avatar/00/10/d2/e8/9046ae29.jpg","comment_is_top":false,"comment_ctime":1646666638,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646666638","product_id":100020801,"comment_content":"æœ‰äº›ç–‘é—®ï¼Œchange bufferåˆå¹¶æ“ä½œï¼Œæ˜¯åˆå¹¶åˆ°æ•°æ®é¡µè¿˜æ˜¯ç´¢å¼•é¡µ","like_count":0},{"had_liked":false,"id":335817,"user_name":"ä¾ç„¶didala","can_delete":false,"product_type":"c1","uid":1048487,"ip_address":"","ucode":"085ADABE1972F8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ff/a7/977e479c.jpg","comment_is_top":false,"comment_ctime":1645700372,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645700372","product_id":100020801,"comment_content":"14.5.2 Change Bufferï¼šhttps:&#47;&#47;dev.mysql.com&#47;doc&#47;refman&#47;5.7&#47;en&#47;innodb-change-buffer.htmlã€‚","like_count":0},{"had_liked":false,"id":335556,"user_name":"æ¢¯ç”°","can_delete":false,"product_type":"c1","uid":1021683,"ip_address":"","ucode":"671236E62375D2","user_header":"https://static001.geekbang.org/account/avatar/00/0f/96/f3/a4a680da.jpg","comment_is_top":false,"comment_ctime":1645585495,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645585495","product_id":100020801,"comment_content":"ä»Šå¤©æµ‹è¯•çš„æ—¶å€™ç¢°åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœè€å¸ˆèƒ½çœ‹åˆ°ï¼Œå¸Œæœ›è€å¸ˆè§£æƒ‘ä¸‹ï¼Œè°¢è°¢!<br><br>è¡¨ç»“æ„:<br>CREATE TABLE `user` (<br>  `id` int(11) NOT NULL,<br>  `account` varchar(255) COLLATE utf8_unicode_ci NOT NULL,<br>  PRIMARY KEY (`id`),<br>  UNIQUE KEY `uk_account` (`account`) USING BTREE<br>) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;<br><br>ç å­—é¡ºåºä¸ºæ“ä½œæ—¶åº.<br><br>ç¬¬ä¸€æ­¥:<br>Session A:<br>begin;<br>insert into user values (1, &#39;uu1&#39;);<br>ç¬¬äºŒæ­¥:<br>Session B;<br>begin;<br>insert into user values (2, &#39;uu2&#39;);<br><br>ç¬¬ä¸‰æ­¥:<br>Session A<br>insert into user values (3, &#39;uu2&#39;);<br>(ç­‰å¾…é”ing)<br><br>ç¬¬å››æ­¥:<br>Session B<br>commit;<br><br>ç»“æœ:<br>Session A æç¤º(1062, &quot;Duplicate entry &#39;uu2&#39; for key &#39;uk_account&#39;&quot;).<br><br>æŸ¥è¯¢userè¡¨æ•°æ®ï¼ŒSession Açš„ç¬¬ä¸€æ¡æ•°æ®å·²ç»å†™å…¥ï¼Œè¿™å—æˆ‘ä¸ç†è§£ï¼Œå¸Œæœ›è€å¸ˆè§£ç­”ä¸€ä¸‹.<br><br>","like_count":0},{"had_liked":false,"id":335335,"user_name":"é²Â·æœ¬","can_delete":false,"product_type":"c1","uid":1209939,"ip_address":"","ucode":"F1DEB30C21B48E","user_header":"https://static001.geekbang.org/account/avatar/00/12/76/53/21d62a23.jpg","comment_is_top":false,"comment_ctime":1645455318,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645455318","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ˜¯ä¸æ˜¯updateè¯­å¥æ‰§è¡Œå¤±è´¥äº†é‚£ä¹ˆç´§è·Ÿç€çš„selectè¯­å¥å°±æ˜¯ä¸€è‡´æ€§è¯»ï¼Œå¦‚æœæ›´æ–°æˆåŠŸäº†å°±æ˜¯å½“å‰è¯»ï¼Ÿ","like_count":0},{"had_liked":false,"id":334651,"user_name":"æç¶­é“","can_delete":false,"product_type":"c1","uid":1926057,"ip_address":"","ucode":"9A16ECAB2522E3","user_header":"https://static001.geekbang.org/account/avatar/00/1d/63/a9/abed781e.jpg","comment_is_top":false,"comment_ctime":1645059059,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1645059059","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œå¦‚æœæˆ‘å…³é—­äº†å”¯ä¸€æ€§ç´¢å¼•çš„æ£€æŸ¥ï¼Œæ˜¯å¦åœ¨å¢åˆ æ”¹æ—¶ï¼Œå°±ä¼šåˆ©ç”¨ä¸Šchange buffer äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":334650,"user_name":"æç¶­é“","can_delete":false,"product_type":"c1","uid":1926057,"ip_address":"","ucode":"9A16ECAB2522E3","user_header":"https://static001.geekbang.org/account/avatar/00/1d/63/a9/abed781e.jpg","comment_is_top":false,"comment_ctime":1645059044,"is_pvip":true,"discussion_count":0,"race_medal":5,"score":"1645059044","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œå¦‚æœæˆ‘å…³é—­äº†å”¯ä¸€æ€§ç´¢å¼•çš„æ£€æŸ¥ï¼Œæ˜¯å¦åœ¨å¢åˆ æ”¹æ—¶ï¼Œå°±ä¼šåˆ©ç”¨ä¸Šchange buffer äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":330865,"user_name":"Monday","can_delete":false,"product_type":"c1","uid":1250907,"ip_address":"","ucode":"77B9BACC783598","user_header":"https://static001.geekbang.org/account/avatar/00/13/16/5b/83a35681.jpg","comment_is_top":false,"comment_ctime":1642233706,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642233706","product_id":100020801,"comment_content":"æˆ‘ç†è§£ï¼šåœ¨æ²¡èƒ½å‘½ä¸­ç¼“å­˜ï¼Œéœ€è¦ä»ç£ç›˜è¯»å–æ•°æ®åï¼Œéƒ½è¦éå†æ•´ä¸ªchange bufferï¼Œè‹¥æ˜¯change bufferæœ‰ä¸Šç™¾G ï¼Œé‚£æ¯æ¬¡éå†change bufferä¼šä¸ä¼šæˆä¸ºç“¶é¢ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":330634,"user_name":"Geek_e5f501","can_delete":false,"product_type":"c1","uid":2317270,"ip_address":"","ucode":"72A713EBAAFE41","user_header":"","comment_is_top":false,"comment_ctime":1642079255,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642079255","product_id":100020801,"comment_content":"æƒ³é—®ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæ›´æ–°çš„è¿™ä¸ªå­—æ®µæ˜¯ä¸€ä¸ªæ™®é€šç´¢å¼•ï¼Œé‚£ä¹ˆæ˜¯éœ€è¦å…ˆæ‰¾åˆ°è¿™ä¸ªæ™®é€šç´¢å¼•çš„B+æ ‘å°†æ—§å€¼åˆ é™¤ï¼Œå†æ’å…¥æ–°å€¼å—ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":329991,"user_name":"ã€‚ã€‚","can_delete":false,"product_type":"c1","uid":2853618,"ip_address":"","ucode":"A52A6043D27D87","user_header":"https://static001.geekbang.org/account/avatar/00/2b/8a/f2/6c6f7886.jpg","comment_is_top":false,"comment_ctime":1641716480,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641716480","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰å‡ ä¸ªç–‘æƒ‘<br>1.æ–‡ä¸­æè¿°äº†åœ¨å¯¹æ•°æ®æ›´æ–°çš„æ—¶å€™ï¼Œæ™®é€šç´¢å¼•å¯ä»¥é€šè¿‡ change bufferæ¥å‡å°‘æ¯æ¬¡æ›´æ–°éƒ½è¦è¯»ç›˜çš„é—®é¢˜ï¼Œæˆ‘å¯¹è¿™ä¸ªæ›´æ–°çš„ç†è§£æ˜¯åœ¨ç»´æŠ¤æ›´æ–°çš„å„ä¸ªå­—æ®µä¸Šçš„å€¼ï¼Œæˆ–è€…è¯´æ˜¯åœ¨ç»´æŠ¤ç´¢å¼•æ ‘ï¼Œé‚£ä¹ˆå¯¹äºæ²¡æœ‰ç´¢å¼•çš„å­—æ®µå‘¢ï¼Œæˆ‘ç†è§£çš„æ˜¯ç»´æŠ¤ä¸»é”®ç´¢å¼•æ ‘ä¸­å¶å­èŠ‚ç‚¹çš„æ•°æ®ï¼Œå› ä¸ºä¸»é”®ç´¢å¼•æ ‘çš„å¶èŠ‚ç‚¹å­˜å‚¨äº†è¯¥è¡Œçš„å€¼ï¼Œä¸»é”®ç´¢å¼•åˆå±äºå”¯ä¸€ç´¢å¼•ï¼Œé‚£ä¹ˆæ›´æ–°æ²¡æœ‰ç´¢å¼•çš„å­—æ®µçš„æ—¶å€™ï¼Œéœ€è¦å…ˆæŠŠä¸»é”®ç´¢å¼•æ ‘çš„æ•°æ®é¡µè¯»åˆ°å†…å­˜ï¼Œç„¶ååœ¨å†…å­˜ä¸­æŠŠè¿™ä¸ªæ²¡æœ‰ç´¢å¼•çš„å­—æ®µæ›´æ–°ï¼Ÿä¸çŸ¥é“æˆ‘è¿™ä¹ˆç†è§£å¯¹ä¸å¯¹ğŸ˜‚<br>2.ç”±äºæ¯æ¬¡æŸ¥è¯¢æ“ä½œï¼Œéƒ½éœ€è¦è¯»ç£ç›˜æ•°æ®åˆ°å†…å­˜ä¸­ï¼Œæˆ‘ç–‘æƒ‘çš„ç‚¹æ˜¯ï¼Œå†…å­˜ä¸­çš„æ•°æ®ä»€ä¹ˆæ—¶å€™å¤±æ•ˆå‘¢ï¼Œæ€»ä¸èƒ½ä¸€ç›´å­˜åœ¨å†…å­˜ä¸­æŠŠï¼Œå¦‚æœä¸€æ¬¡è¯»å–çš„æ•°æ®é‡è¿‡å¤§ï¼Œå†…å­˜ä¸å¤Ÿäº†æ€ä¹ˆåŠå‘¢ï¼Ÿ<br>3.åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œä»€ä¹ˆæ—¶å€™å»åŠ ç´¢å¼•å‘¢ï¼Œæ€»ä¸èƒ½åˆšå†™å®Œä¸€ä¸ªsqlå°±åŠ å§ï¼Ÿæˆ‘æ„Ÿè§‰åº”è¯¥æ˜¯åœ¨å·²ç»æ˜ç¡®çŸ¥é“å“ªäº›æŸ¥è¯¢æ…¢ï¼Œå“ªäº›æ˜¯çƒ­ç‚¹æ•°æ®çš„æƒ…å†µä¸‹ï¼Œåœ¨å»åŠ ç´¢å¼•ï¼Œæˆ–è€…åæœŸä¼˜åŒ–çš„æ—¶å€™å»åŠ ç´¢å¼•ï¼Œä¸çŸ¥é“è¯´çš„å¯¹ä¸å¯¹ï¼Œä¸»è¦æ˜¯æ²¡æœ‰å¤ªå¤šçš„å®é™…ç»éªŒğŸ¤£ï¼Œè¿˜æœ‰å°±æ˜¯ç´¢å¼•åº”è¯¥ç”±è°å»åŠ å‘¢ï¼Œæ˜¯DBAï¼Œè¿˜æ˜¯å¼€å‘å‘¢ï¼Œå¦‚æœæ˜¯ DBAçš„è¯ï¼Œå²‚ä¸æ˜¯è¦çœ‹ç¨‹åºä¸­åˆ«äººå†™çš„SQLå—ï¼Œé‚£å²‚ä¸æ˜¯ä¸€ä»¶å¾ˆç—›è‹¦çš„äº‹æƒ…å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":329375,"user_name":"æé¾™","can_delete":false,"product_type":"c1","uid":1323030,"ip_address":"","ucode":"7B85A27E40D261","user_header":"https://static001.geekbang.org/account/avatar/00/14/30/16/4773d604.jpg","comment_is_top":false,"comment_ctime":1641306400,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1641306400","product_id":100020801,"comment_content":"æŒ‰ç…§â€œå†™å¤šè¯»å°‘â€é€‚åˆæ™®é€šç´¢å¼•+change bufferçš„åŸç†ï¼Œåœ¨éœ€è¦æºåº“å¾€ç›®æ ‡åº“å¤‡ä»½è½¬ç§»æ•°æ®çš„åœºæ™¯ï¼Œç›®æ ‡åº“çš„æ‰€æœ‰å”¯ä¸€ç´¢å¼•æ˜¯ä¸æ˜¯éƒ½å¯ä»¥ä¼˜åŒ–ä¸ºæ™®é€šç´¢å¼•ï¼Ÿ","like_count":0},{"had_liked":false,"id":328928,"user_name":"é‚“é¹é£","can_delete":false,"product_type":"c1","uid":2636070,"ip_address":"","ucode":"857EF8C861C870","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI6YQqjOk5gJSdZxAibnwl0lwRI6YQkbIbYbkS9Y4hQncHHiaFqk7RQAEFq5ibm9zPf75ewzPdKNHibxw/132","comment_is_top":false,"comment_ctime":1640940042,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1640940042","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå”¯ä¸€ç´¢å¼•ä¸‹çš„ä¿®æ”¹æ“ä½œä¸éœ€è¦å”¯ä¸€æ€§åˆ¤æ–­ï¼Œæ­¤æ—¶å’Œæ™®é€šç´¢å¼•å°±ä¸€æ ·äº†ï¼Œæ€ä¹ˆè¿˜æ˜¯ä¸èƒ½ç”¨change bufferå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":325040,"user_name":"è¶…","can_delete":false,"product_type":"c1","uid":1202105,"ip_address":"","ucode":"F33DC41DEC04AB","user_header":"https://static001.geekbang.org/account/avatar/00/12/57/b9/5b317572.jpg","comment_is_top":false,"comment_ctime":1638784974,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638784974","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½,è¯·æ•™ä¸ªé—®é¢˜ change buffer ä¸ºä»€ä¹ˆè¦æŒä¹…åŒ–åˆ°ibdata1 å‘€?<br><br>change buffer æ’å…¥æ—¶éœ€è¦å†™ redo logã€‚å½“å®•æœºæ—¶ï¼Œ change buffer ä¸¢å¤±ï¼Œredo log è®°å½•äº†æ•°æ®çš„å®Œæ•´ä¿®æ”¹è®°å½•ï¼Œæ¢å¤æ—¶æ ¹æ® redo log é‡å»º change buffer ã€‚æ„Ÿè§‰ä¸ç”¨æŒä¹…åŒ–ä¹Ÿå¯ä»¥å•Š <br><br>ä¸å¤ªæ¸…æ¥š è¿™ä¸ªchange buffer è½ç›˜åˆ° ibdata1 çš„æ„ä¹‰.  è¦æ˜¯åˆ·è„é¡µæ—¶è½ç›˜åˆ° ibd æˆ‘è¿˜èƒ½ç†è§£ç‚¹","like_count":0},{"had_liked":false,"id":324096,"user_name":"LKJ","can_delete":false,"product_type":"c1","uid":1952586,"ip_address":"","ucode":"395F8315562A36","user_header":"https://static001.geekbang.org/account/avatar/00/1d/cb/4a/63656c69.jpg","comment_is_top":false,"comment_ctime":1638287167,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1638287167","product_id":100020801,"comment_content":"ä½œè€…æ‚¨å¥½ï¼ŒInnodbæ¯å¼ è¡¨éƒ½ä¼šæœ‰ä¸»é”®ï¼Œå¦‚æœæ²¡æœ‰ä¸»é”®ä¹Ÿä¼šé»˜è®¤åˆ†é…6ä¸ªå­—èŠ‚å¤§å°çš„æŒ‡é’ˆï¼Œé‚£Innodbçš„æ•°æ®æ›´æ–°æ“ä½œï¼Œä¸æ˜¯ç”¨ä¸åˆ°change bufferäº†","like_count":0},{"had_liked":false,"id":323506,"user_name":"moonfox","can_delete":false,"product_type":"c1","uid":1526355,"ip_address":"","ucode":"902BFF40EFA9FA","user_header":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","comment_is_top":false,"comment_ctime":1637940164,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637940164","product_id":100020801,"comment_content":"æ„Ÿè§‰ ä½œè€…åœ¨æ–‡ç« é‡Œæ²¡æœ‰è¯´æ¸…æ¥š change buffer æ˜¯é’ˆå¯¹äºŒçº§ç´¢å¼•çš„ï¼Œchange bufferçš„æ”¶ç›Šåœ¨äºŒçº§ç´¢å¼•ï¼Œå¹¶éèšç°‡ç´¢å¼•(è¡¨æ•°æ®å¯¹åº”çš„æ•°æ®é¡µ)ï¼Œæ–‡ç« ä¸­æ‰€è¯´çš„æ•°æ®é¡µï¼Œéƒ½æ˜¯æŒ‡äºŒçº§ç´¢å¼•çš„æ•°æ®é¡µã€‚åº”è¯¥æ˜ç¡®è¯´æ˜ï¼Œä¸ç„¶å¤ªå®¹æ˜“è¯¯è§£ä¸ºæ˜¯ä¸»é”®ç´¢å¼•äº†ã€‚","like_count":0},{"had_liked":false,"id":322601,"user_name":"K","can_delete":false,"product_type":"c1","uid":1151163,"ip_address":"","ucode":"0ED6CDDE3A8F5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/90/bb/61dfc022.jpg","comment_is_top":false,"comment_ctime":1637495126,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637495126","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸‹ï¼Œinsert è¯­å¥çš„æ•°æ®ä¼šä¸ä¼šæ”¾åœ¨change bufferé‡Œï¼Œinsertè¯­å¥æ”¾å…¥åˆ°change buffer ä¼šåˆ¤æ–­ä¸ºèšç°‡ç´¢å¼•å’ŒäºŒçº§ç´¢å¼•å—","like_count":0},{"had_liked":false,"id":322599,"user_name":"K","can_delete":false,"product_type":"c1","uid":1151163,"ip_address":"","ucode":"0ED6CDDE3A8F5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/90/bb/61dfc022.jpg","comment_is_top":false,"comment_ctime":1637494324,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637494324","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸‹å¯¹äºå†™å¤šè¯»å°‘çš„ä¸šåŠ¡ï¼Œchange_buffer è®¾ç½®ä¸Buffer Pool çš„æ¯”ä¾‹ä¸º50æ˜¯å¦æœ‰åˆ©","like_count":0},{"had_liked":false,"id":321840,"user_name":"ç™½èœ","can_delete":false,"product_type":"c1","uid":2230467,"ip_address":"","ucode":"C3AE527ECE970E","user_header":"https://static001.geekbang.org/account/avatar/00/22/08/c3/bf4fe285.jpg","comment_is_top":false,"comment_ctime":1637060845,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1637060845","product_id":100020801,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼š<br>UPDATE table SET a=a+1 WHERE id=1 å¯ä»¥ç”¨åˆ° change buffer å—ï¼Ÿ<br> ","like_count":0},{"had_liked":false,"id":321658,"user_name":"æ ‘å¿ƒ","can_delete":false,"product_type":"c1","uid":1589523,"ip_address":"","ucode":"6C329F0FF798B9","user_header":"https://static001.geekbang.org/account/avatar/00/18/41/13/ab14ad25.jpg","comment_is_top":false,"comment_ctime":1636980552,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1636980552","product_id":100020801,"comment_content":"å°ç»“æ•´ç†<br>09 | æ™®é€šç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•ï¼Œåº”è¯¥æ€ä¹ˆé€‰æ‹©ï¼Ÿ<br>æŸ¥è¯¢è¿‡ç¨‹<br>æ›´æ–°è¿‡ç¨‹<br>change buffer çš„ä½¿ç”¨åœºæ™¯<br>ç´¢å¼•é€‰æ‹©å’Œå®è·µ<br>change buffer å’Œ redo log","like_count":0},{"had_liked":false,"id":321489,"user_name":"luxinfeng","can_delete":false,"product_type":"c1","uid":1259853,"ip_address":"","ucode":"51D0046C4D31AD","user_header":"https://static001.geekbang.org/account/avatar/00/13/39/4d/9ce28826.jpg","comment_is_top":false,"comment_ctime":1636902386,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636902386","product_id":100020801,"comment_content":"å‘å¤§å®¶è¯·æ•™ä¸ªé—®é¢˜ï¼Œå¦‚æœæ•°æ®åº“æ˜¯ä¸»ä»åº“çš„æ¨¡å¼ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ä¸»åº“å†™ï¼Œä»åº“è¯»ã€‚æˆ‘åœ¨ä»£ç ä¸­æ›´æ–°ä¸€æ¡è®°å½•ï¼Œç„¶åç«‹åˆ»å»è¯»ä¸€æ¡è®°å½•ï¼Œè¿™ç§æƒ…å†µä¸‹æ˜¯å»è¯»å†…å­˜è¿˜æ˜¯è¯»ä»åº“å•Šï¼Ÿæˆ‘æ€»æ„Ÿè§‰æ˜¯ä»åº“ï¼Œå› ä¸ºæˆ‘åœ¨å®é™…æ“ä½œä¸­å‘ç°æ›´æ–°åç«‹åˆ»å»è¯»ä¼šå­˜åœ¨è¯»ä¸åˆ°å¯¹åº”è®°å½•çš„æƒ…å†µï¼Œå¦‚æœæ˜¯è¯»å†…å­˜çš„è¯ä¸åº”è¯¥å­˜åœ¨è¿™ç§æƒ…å†µå§ï¼Ÿ","like_count":0},{"had_liked":false,"id":320685,"user_name":"ğŸŒ»","can_delete":false,"product_type":"c1","uid":1509651,"ip_address":"","ucode":"9B4D8CA8C09A70","user_header":"https://static001.geekbang.org/account/avatar/00/17/09/13/d762ce74.jpg","comment_is_top":false,"comment_ctime":1636451388,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636451388","product_id":100020801,"comment_content":"ä»æ™®é€šç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•çš„é€‰æ‹©å¼€å§‹ï¼Œå’Œä½ åˆ†äº«äº†æ•°æ®çš„æŸ¥è¯¢å’Œæ›´æ–°è¿‡ç¨‹ï¼Œç„¶åè¯´æ˜äº† change buffer çš„æœºåˆ¶ä»¥åŠåº”ç”¨åœºæ™¯ï¼Œæœ€åè®²åˆ°äº†ç´¢å¼•é€‰æ‹©çš„å®è·µã€‚<br><br>æ•°æ®æŸ¥è¯¢è¿‡ç¨‹ï¼š<br>1. æ•°æ®åœ¨å†…å­˜ä¸­ï¼šä»å†…å­˜ä¸­è¯»å–æ•°æ®<br>2. æ•°æ®åœ¨ç£ç›˜ä¸­ï¼šæŠŠæ•°æ®é¡µä»ç£ç›˜ä¸­è¯»å–åˆ°å†…å­˜ä¸­ï¼Œä»å†…å­˜ä¸­è¯»å–æ•°æ®<br><br>æ›´æ–°æ•°æ®è¿‡ç¨‹ï¼š<br>1. æ•°æ®åœ¨å†…å­˜ä¸­ï¼šç›´æ¥æ›´æ–°æ•°æ®<br>2. æ•°æ®åœ¨ç£ç›˜ä¸­ï¼šæ›´æ–°æ•°æ®æ“ä½œå†™å…¥change buffer, å¾…ä¸‹æ¬¡æœ‰æŸ¥è¯¢å°†æ•°æ®è¯»å–åˆ°å†…å­˜ä¸­ï¼Œæ›´æ–°change bufferã€‚  <br><br>change buffer æé«˜äº†æ›´æ–°é€Ÿåº¦ã€‚å¦‚æœæ›´æ–°çš„å†…å®¹ä¼šå¾ˆå¿«è¢«è¯»å†™ï¼Œå°±ä¸é€‚åˆä½¿ç”¨change buffer, change buffer é€‚åˆä½¿ç”¨åœ¨ä¸å¸¸è¯»å†™åœºæ™¯ï¼Œå¦‚æ—¥å¿—ï¼Œè´¦ç›®ç­‰æƒ…å†µã€‚<br>","like_count":0},{"had_liked":false,"id":319965,"user_name":"è·¯é¥çŸ¥ç åŠ›","can_delete":false,"product_type":"c1","uid":2698825,"ip_address":"","ucode":"1EF9655BEDAFA6","user_header":"https://static001.geekbang.org/account/avatar/00/29/2e/49/a04480a9.jpg","comment_is_top":false,"comment_ctime":1636021622,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1636021622","product_id":100020801,"comment_content":"å¤§æ¦‚ç†è§£çš„å°±æ˜¯å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯updateã€deleteæ—¶changebufferæœ‰ç”¨ï¼Œæ¯”å¦‚update test set æ™®é€šç´¢å¼•é¡¹ = 11 where ç´¢å¼•a = a ï¼Œç´¢å¼•aä¸ç®¡æ˜¯æ™®é€šè¿˜æ˜¯ä¸»é”®éƒ½ä¸å½±å“æ™®é€šç´¢å¼•é¡¹ï¼Œå› ä¸ºæ›´æ–°çš„æ˜¯æ™®é€šç´¢å¼•é¡¹ï¼Œè€Œè¿™ä¸€é¡¹ä¸éœ€è¦æ£€æŸ¥é‡å¤å†²çªï¼Œæ‰€ä»¥ä¸éœ€è¦æŠŠæ•°æ®é¡µä»ç£ç›˜åŠ è½½åˆ°å†…å­˜ï¼Œè¿™æ ·å°±ç›´æ¥å†™changebufferã€‚<br>è€Œinsertæ—¶å€™ï¼Œå¤§éƒ¨åˆ†è¡¨éƒ½æ˜¯æœ‰ä¸»é”®ï¼Œæˆ‘åœ¨è€ƒè™‘çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯ä¸»é”®éƒ½æ˜¯è‡ªå¢çš„ï¼Œå¦‚æœä¸æŒ‡å®šæ–°idçš„å€¼ï¼Œè¿™æ ·æ˜¯å¦å°±ä¸ä¼šä»ç£ç›˜è¯»æ•°æ®æ¥åˆ¤æ–­æ•°æ®æ˜¯å¦é‡å¤ã€‚","like_count":0},{"had_liked":false,"id":319911,"user_name":"ä¸Šæµ·","can_delete":false,"product_type":"c1","uid":2678569,"ip_address":"","ucode":"6A4F9D80D25028","user_header":"https://static001.geekbang.org/account/avatar/00/28/df/29/3c956177.jpg","comment_is_top":false,"comment_ctime":1636007591,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636007591","product_id":100020801,"comment_content":"è¿™é‡Œæƒ³è¯·æ•™è€å¸ˆä¸€ä¸‹ï¼š<br>æŒ‰ç…§å®˜æ–¹çš„è¯´æ³•ï¼Œå› ä¸ºå¯¹äºŒçº§ç´¢å¼•çš„æ¯ä¸€æ¬¡æ›´æ–°å½±å“åˆ°çš„ç´¢å¼•é¡µéƒ½å¯èƒ½ä¸æ˜¯ç›¸é‚»çš„ï¼Œä¸ºäº†å‡å°‘ç£ç›˜çš„éšæœºioè®¿é—®ï¼Œå¼•å…¥äº†change bufferã€‚å¦å¤–ï¼Œchang bufferçš„åˆ·ç›˜ç­–ç•¥æ˜¯å¾ˆbuffer poolä¿æŒä¸€è‡´çš„ã€‚<br><br>æŒ‰ç…§è€å¸ˆçš„è¯´æ³•ï¼š<br>1. å”¯ä¸€ç´¢å¼•å› ä¸ºè¦åˆ¤æ–­æ•°æ®æ˜¯å¦å·²å­˜åœ¨ï¼Œéœ€è¦å…ˆå°†ç´¢å¼•é¡µä»ç£ç›˜ä¸Šè¯»å‡ºæ¥ï¼Œè¿™ä¸ªæ—¶å€™å¿…ç„¶å·²ç»å‘ç”Ÿäº†mergeï¼Œæ‰€ä»¥ä¸èƒ½åº”ç”¨change bufferã€‚<br>2. merge=purgeï¼Ÿ<br><br><br>æ‰€ä»¥æˆ‘æœ‰ä»¥ä¸‹é—®é¢˜ï¼š<br>1.  å³ä½¿å”¯ä¸€ç´¢å¼•çš„æ¯æ¬¡æ›´æ–°éƒ½ä¼šå¼•å‘mergeï¼Œä½†æ˜¯ä¾ç„¶å¯ä»¥é€šè¿‡å»¶è¿Ÿåˆ·ç›˜æ¥ç§¯ç´¯æ›´å¤šçš„ç›¸é‚»ç´¢å¼•é¡µï¼Œä»è€Œå‡å°‘éšæœºç£ç›˜ioè®¿é—®<br>2. Mergeè·Ÿåˆ·ç›˜æ²¡æœ‰å¿…ç„¶çš„å› æœå…³ç³»å§","like_count":0},{"had_liked":false,"id":319909,"user_name":"ä¸Šæµ·","can_delete":false,"product_type":"c1","uid":2678569,"ip_address":"","ucode":"6A4F9D80D25028","user_header":"https://static001.geekbang.org/account/avatar/00/28/df/29/3c956177.jpg","comment_is_top":false,"comment_ctime":1636007401,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636007401","product_id":100020801,"comment_content":"è¿™é‡Œæƒ³è¯·æ•™è€å¸ˆä¸€ä¸‹ï¼š<br>æŒ‰ç…§å®˜æ–¹çš„è¯´æ³•ï¼Œå› ä¸ºå¯¹äºŒçº§ç´¢å¼•çš„æ¯ä¸€æ¬¡æ›´æ–°å½±å“åˆ°çš„ç´¢å¼•é¡µéƒ½å¯èƒ½ä¸æ˜¯ç›¸é‚»çš„ï¼Œä¸ºäº†å‡å°‘ç£ç›˜çš„éšæœºioè®¿é—®ï¼Œå¼•å…¥äº†change bufferã€‚å¦å¤–ï¼Œchang bufferçš„åˆ·ç›˜ç­–ç•¥æ˜¯å¾ˆbuffer poolä¿æŒä¸€è‡´çš„ã€‚<br><br>æŒ‰ç…§è€å¸ˆçš„è¯´æ³•ï¼š<br>1. å”¯ä¸€ç´¢å¼•å› ä¸ºè¦åˆ¤æ–­æ•°æ®æ˜¯å¦å·²å­˜åœ¨ï¼Œéœ€è¦å…ˆå°†ç´¢å¼•é¡µä»ç£ç›˜ä¸Šè¯»å‡ºæ¥ï¼Œè¿™ä¸ªæ—¶å€™å¿…ç„¶å·²ç»å‘ç”Ÿäº†mergeï¼Œæ‰€ä»¥ä¸èƒ½åº”ç”¨change bufferã€‚<br>2. merge=purgeï¼Ÿ<br><br><br>æ‰€ä»¥æˆ‘æœ‰ä»¥ä¸‹é—®é¢˜ï¼š<br>1.  å³ä½¿å”¯ä¸€ç´¢å¼•çš„æ¯æ¬¡æ›´æ–°éƒ½ä¼šå¼•å‘mergeï¼Œä½†æ˜¯ä¾ç„¶å¯ä»¥é€šè¿‡å»¶è¿Ÿåˆ·ç›˜æ¥ç§¯ç´¯æ›´å¤šçš„ç›¸é‚»ç´¢å¼•é¡µï¼Œä»è€Œå‡å°‘éšæœºç£ç›˜ioè®¿é—®<br>2. Mergeè·Ÿåˆ·ç›˜æ²¡æœ‰å¿…ç„¶çš„å› æœå…³ç³»å§","like_count":0},{"had_liked":false,"id":319230,"user_name":"åŸæ¸¸è¯—äºº","can_delete":false,"product_type":"c1","uid":2036366,"ip_address":"","ucode":"27CA90D3D9C5B6","user_header":"","comment_is_top":false,"comment_ctime":1635687152,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635687152","product_id":100020801,"comment_content":"è€å¸ˆæœ‰ä¸ªç–‘é—®ï¼Œè¯·é—®åœ¨æ•°æ®é¡µæ²¡æœ‰åŠ è½½åˆ°å†…å­˜è€Œåˆè¿›è¡Œæ›´æ–°æ“ä½œçš„æƒ…å†µä¸‹ï¼Œmysqlæ€ä¹ˆçŸ¥é“å“ªäº›æ•°æ®è®°å½•çš„æ›´æ–°éœ€è¦æ”¾åœ¨ä¸€ä¸ªchange bufferé¡µå‘¢","like_count":0},{"had_liked":false,"id":319102,"user_name":"å»ºå¼º","can_delete":false,"product_type":"c1","uid":1397126,"ip_address":"","ucode":"62B03D0E0C64EC","user_header":"https://static001.geekbang.org/account/avatar/00/15/51/86/b5fd8dd8.jpg","comment_is_top":false,"comment_ctime":1635585100,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635585100","product_id":100020801,"comment_content":"æ€è€ƒé¢˜ï¼šæˆ‘ä¸ªäººçš„ç†è§£ï¼Œå¦‚æœæœºå™¨æ‰ç”µï¼ŒChange Bufferå­˜åœ¨äºå†…å­˜ä¸­æ˜¯æœ‰å¯èƒ½ä¸¢å¤±çš„ï¼Œä½†å¦‚æœChange Bufferçš„å†…å®¹å·²ç»Mergeæˆ–æŒä¹…åŒ–äº†ï¼Œå°±ä¸ä¼šä¸¢å¤±ï¼›å¦å¤–ï¼Œå†™æ•°æ®æ—¶ï¼Œç”±äºåŒæ—¶å†™å…¥äº†redo logï¼Œå› æ­¤ï¼Œå³ä¾¿Change Bufferå†…å®¹ä¸¢å¤±äº†ï¼Œä¹Ÿå¯ä»¥é€šè¿‡redo logè¿›è¡Œæ¢å¤ã€‚","like_count":0},{"had_liked":false,"id":316037,"user_name":"å±±æ¸é’","can_delete":false,"product_type":"c1","uid":2631809,"ip_address":"","ucode":"1C9753865EBD6C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/pBwb5icFhsRZCumouaCqOIERPPFEOSOYQiaRBNQmMX4icYb4wz0HbibPt57Mj2qHLAo3fZF0Tvj4dL7EWThL2pA9yg/132","comment_is_top":false,"comment_ctime":1634113394,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634113394","product_id":100020801,"comment_content":"å¦‚æœæ›´æ–°çš„å­—æ®µæ˜¯éå”¯ä¸€ç´¢å¼•å­—æ®µï¼Œé‚£ä¹ˆæ­¤æ—¶è¿˜ä¼šæŠŠæ•°æ®æ‹‰åˆ°å†…å­˜ä¸­æ ¡éªŒå”¯ä¸€ç´¢å¼•å­—æ®µçš„å”¯ä¸€æ€§ä¹ˆ","like_count":0},{"had_liked":false,"id":315821,"user_name":"ç›˜èƒ§","can_delete":false,"product_type":"c1","uid":1650748,"ip_address":"","ucode":"5386CC4C92ECC2","user_header":"https://static001.geekbang.org/account/avatar/00/19/30/3c/0668d6ae.jpg","comment_is_top":false,"comment_ctime":1634009802,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634009802","product_id":100020801,"comment_content":"ç›¸å…³change buffer çš„å®˜æ–¹æ–‡æ¡£ï¼šhttps:&#47;&#47;dev.mysql.com&#47;doc&#47;refman&#47;8.0&#47;en&#47;innodb-change-buffer.html<br>ç›¸å…³change buffer é—®é¢˜çš„å®˜æ–¹æ–‡æ¡£ï¼šhttps:&#47;&#47;dev.mysql.com&#47;doc&#47;refman&#47;8.0&#47;en&#47;faqs-innodb-change-buffer.html<br>éƒ½æ˜¯mysql8.0 çš„å¥¥","like_count":0},{"had_liked":false,"id":314495,"user_name":"ä¸€é­„","can_delete":false,"product_type":"c1","uid":1134574,"ip_address":"","ucode":"71541125D4AA5A","user_header":"https://static001.geekbang.org/account/avatar/00/11/4f/ee/bd08cfab.jpg","comment_is_top":false,"comment_ctime":1633144335,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1633144335","product_id":100020801,"comment_content":"change buffer ä¼šæŒä¹…åŒ–ï¼Œä½†è¿™åªæ˜¯è®°å½•å˜æ›´çš„æ•°æ®ï¼Œchange buffer çš„æŒä¹…åŒ–æœ‰å¤±æ•ˆæ¸…é™¤æœºåˆ¶å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":313534,"user_name":"Â·_Â·","can_delete":false,"product_type":"c1","uid":1196341,"ip_address":"","ucode":"67EF0EAA031C4E","user_header":"https://static001.geekbang.org/account/avatar/00/12/41/35/556fc04c.jpg","comment_is_top":false,"comment_ctime":1632477165,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632477165","product_id":100020801,"comment_content":"å¦‚æœåªè€ƒè™‘change_buffer çš„æƒ…å†µä¸‹ï¼Œæ’å…¥æ•°æ®ç¡®å®ç”¨æ™®é€šç´¢å¼•æ¯”è¾ƒå¿«<br>ä½†å¦‚æœè€ƒè™‘åˆ°è¡¨é”å’Œè¡Œé”ï¼Œå¹¶å‘æ¡ä»¶ï¼Œå”¯ä¸€ç´¢å¼•æ˜¯ä¸æ˜¯æ›´å¥½ã€‚","like_count":0},{"had_liked":false,"id":313103,"user_name":"Geek_74bd7d","can_delete":false,"product_type":"c1","uid":2003853,"ip_address":"","ucode":"DA7B18B5B88994","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Nr5hUtYzFZHj0uibAAdpVoOFMQX4iaibwyGQolqcnJ9iaLR2CAt7JYWjLWmzkUCiaUEHPhjKG0eVNWtP9U1nmClRcxg/132","comment_is_top":false,"comment_ctime":1632280332,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1632280332","product_id":100020801,"comment_content":"æœ‰ä¸€ä¸ªç–‘é—®ï¼šå¦‚æœä¸€æ¡å†™æ“ä½œï¼Œæ—¢æœ‰å¯¹ä¸»é”®ç´¢å¼•å†™ï¼Œåˆæœ‰å¯¹æ™®é€šç´¢å¼•å†™ã€‚åŒä¸€æ¡è®°å½•ä¼šä¸»é”®ç´¢å¼•ä¸ç”¨change bufferï¼Œæ™®é€šç´¢å¼•ç”¨change bufferå—ï¼Ÿchange bufferæ˜¯é’ˆå¯¹è¿™ä¸ªå­—æ®µçš„ä¿®æ”¹è¿˜æ˜¯æ•´æ¡è®°å½•ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398780,"discussion_content":"å¯¹çš„ï¼Œå°±æ˜¯ä¸»é”®ç´¢å¼•ä¸ç”¨change buffer, æ™®é€šç´¢å¼•ç”¨change bufferã€‚change bufferè®°å½•çš„æ˜¯é’ˆå¯¹å“ªä¸ªé¡µä¿®æ”¹äº†ä»€ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632841551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313084,"user_name":"Geek_71d0f8","can_delete":false,"product_type":"c1","uid":2766787,"ip_address":"","ucode":"9CFD89F53A3625","user_header":"","comment_is_top":false,"comment_ctime":1632274665,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632274665","product_id":100020801,"comment_content":"+ ä¸€è‡´æ€§è§†å›¾ä¸ºä»€ä¹ˆå¯ä»¥å¾ˆå¿«åˆ›å»ºï¼Ÿ<br>  + è¿™é‡Œçš„ä¸€è‡´æ€§è§†å›¾ä¸æ˜¯æ‹çš„æ•°æ®åº“çš„å¿«ç…§ï¼Œè€Œæ˜¯å–çš„æœªæäº¤äº‹åŠ¡çš„æ•°ç»„å’Œå·²åˆ›å»ºçš„æœ€å¤§äº‹åŠ¡IDã€‚ä¸€ä¸ªæ•°ç»„å’Œä¸€ä¸ªå€¼æ‰€ä»¥ä¸€è‡´æ€§è§†å›¾åˆ›å»ºçš„å¾ˆå¿«<br>  + æœªæäº¤äº‹åŠ¡çš„æœ€å°äº‹åŠ¡IDæ˜¯ä½æ°´ä½ï¼Œå·²åˆ›å»ºçš„æœ€å¤§äº‹åŠ¡IDæ˜¯é«˜æ°´ä½<br>  + æ‰€è°“çš„å¤šç‰ˆæœ¬æ˜¯æŒ‡åœ¨æ•°æ®è¡Œä¸Šï¼Œæ¯ä¸ªäº‹åŠ¡IDæ›´æ–°å®Œåå½¢æˆä¸€ä¸ªç‰ˆæœ¬é“¾ã€‚<br><br>+ äº‹åŠ¡çš„å¯é‡è¯»åŠŸèƒ½æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ<br>  + å¯é‡è¯»çš„æ ¸å¿ƒå°±æ˜¯å¿«ç…§è¯»ï¼Œåˆ¤æ–­æ–¹æ³•æ˜¯è‡ªå·±äº‹åŠ¡çš„ä¿®æ”¹å¿…ç„¶æ˜¯å¯è§ï¼Œå…¶ä»–äº‹åŠ¡çš„éœ€è¦å…ˆåˆ¤æ–­ç‰ˆæœ¬æ˜¯å¦æäº¤<br>    + ç‰ˆæœ¬æ²¡æœ‰æäº¤ï¼Œé‚£ä¹ˆä¸å¯è§<br>    + ç‰ˆæœ¬å·²ç»æäº¤<br>      + åœ¨ä¸€è‡´æ€§è§†å›¾åˆ›å»ºå‰æäº¤ï¼Œé‚£ä¹ˆæ•°æ®å¯è§<br>      + åœ¨ä¸€è‡´æ€§è§†å›¾åˆ›å»ºåæäº¤ï¼Œé‚£ä¹ˆæ•°æ®ä¸å¯è§<br>  + åœ¨æ›´æ–°æ“ä½œï¼ˆinsertã€updateã€deleteã€select ..... for updateã€select ... in share modelï¼‰ä¸­ä¼šè§¦å‘å½“å‰è¯»ï¼Œå¦‚æœå½“å‰è®°å½•çš„è¡Œè¢«å…¶ä»–äº‹åŠ¡å ç”¨çš„è¯ï¼Œå°±è¿›å…¥é”ç­‰å¾…ã€‚ä¸Šè¿°æ›´æ–°æ“ä½œä¸­ï¼Œæœ€åä¸€ä¸ªæ“ä½œä¼šåŠ Sé”ï¼Œå…¶ä»–çš„åŠ çš„éƒ½æ˜¯Xé”<br>    + è§„åˆ™ï¼šæ€»æ˜¯è¯»å–å·²ç»æäº¤çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç›¸å½“äºä¹‹å‰è¯»åˆ°çš„æ•°æ®å·²ç»ä½œåºŸï¼Œä»æ–°å¼€å§‹è¯»ã€‚<br><br>+ è¯»æäº¤å’Œå¯é‡è¯»çš„åŒºåˆ«<br>  + è¯»æäº¤ç”Ÿæˆä¸€è‡´æ€§è§†å›¾çš„æ—¶æœºï¼Œæ¯ä¸ªè¯­å¥æ‰§è¡Œå‰éƒ½ä¼šç”Ÿæˆä¸€ä¸ªè§†å›¾<br>  + å¯é‡è¯»ç”Ÿæˆä¸€è‡´æ€§è§†å›¾çš„æ—¶æœºï¼Œåœ¨äº‹åŠ¡å¼€å§‹æ—¶ç”Ÿæˆä¸€è‡´æ€§è§†å›¾<br>  + ä½†äºŒè€…å‡éµå®ˆå¯é‡è¯»çš„åˆ¤æ–­é€»è¾‘ï¼ˆå‚ç…§ä¸Šé¢å³å¯ï¼‰","like_count":0},{"had_liked":false,"id":312215,"user_name":"å…‹å…‹","can_delete":false,"product_type":"c1","uid":2742451,"ip_address":"","ucode":"0FA7CA5AB26A6F","user_header":"https://static001.geekbang.org/account/avatar/00/29/d8/b3/38105dbb.jpg","comment_is_top":false,"comment_ctime":1631686525,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1631686525","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå¯¹äºredo logæˆ‘å…¶å®è¿˜æœ‰ä¸ªç–‘é—®ã€‚å¯¹äºå”¯ä¸€ç´¢å¼•æ²¡æœ‰change bufferçš„æƒ…å†µä¸‹ï¼Œredo logæ•°æ®è¿˜æ²¡æœ‰å†™è¿›åº“é‡Œï¼Œå¹¶ä¸”å†…å­˜ä¸­çš„æ•°æ®ä¹Ÿè¢«æ¸…äº†ï¼Œé‚£è¯»åˆ°ç›¸å…³æ•°æ®çš„æ—¶å€™ï¼Œmysqlæ˜¯æ€ä¹ˆå¤„ç†çš„å‘¢","like_count":0,"discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398788,"discussion_content":"ä½ è¯´çš„å†…å­˜ä¸­çš„æ•°æ®è¢«æ¸…äº†ï¼Œåº”è¯¥æŒ‡çš„æ˜¯mysqlæœåŠ¡å™¨é‡å¯äº†ï¼Œè¿™ä¸ªæ—¶å€™ä¼šèµ°å´©æºƒæ¢å¤çš„é€»è¾‘ï¼Œæ ¹æ®redo logæ‰¾åˆ°ç›¸åº”çš„é¡µåŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶merge redo logåˆ°å†…å­˜é¡µï¼Œåœ¨åˆé€‚çš„æ—¶æœºè„é¡µåˆ·ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632842056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2742451,"avatar":"https://static001.geekbang.org/account/avatar/00/29/d8/b3/38105dbb.jpg","nickname":"å…‹å…‹","note":"","ucode":"0FA7CA5AB26A6F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":402798,"discussion_content":"å¥½çš„ï¼Œè°¢è°¢ï¼Œå¤§è‡´æ˜ç™½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633950908,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":398788,"ip_address":""},"score":402798,"extra":""}]}]},{"had_liked":false,"id":311331,"user_name":"xtwny","can_delete":false,"product_type":"c1","uid":1473293,"ip_address":"","ucode":"C318D8D80C5A3C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIxD4lHNc9y1aFf4yU6vNPVqicMs3947ctnmymKSl6DGDKN9IXVAbtoxON8ciaAB26NF81TlBOWIwiaQ/132","comment_is_top":false,"comment_ctime":1631175557,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1631175557","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸‹ï¼Œæœ‰æ— change bufferæˆ‘çš„ç†è§£ä¸å½±å“redo logçš„è®°å½•ä»¥åŠæ ¼å¼æ‰å¯¹ï¼Œredo logä¸change bufferæœ‰ä»€ä¹ˆè”ç³»å—ï¼Ÿè¿˜æ˜¯è¯´æ¢å¤changeBufferè¦ç”¨redo logï¼Ÿè¿˜æœ‰change bufferæˆ‘çš„ç†è§£ä¸éœ€è¦æŒä¹…åŒ–ä¸æ¢å¤å•Šã€‚æ¯”å¦‚å®•æœºæ¢å¤æ—¶ï¼Œæ ¹æ®redo logèƒ½åšåˆ°crash-safeï¼Œè¿›è¡Œæ•°æ®çš„æ¢å¤ï¼Œæ­¤æ—¶changge bufferæ¢å¤ä¸å¦æ²¡ä»€ä¹ˆå®è´¨æ„ä¹‰å•Šã€‚å¸Œæœ›è€å¸ˆèƒ½å¸®å¿™è§£ç­”ä¸€ä¸‹<br>","like_count":0,"discussions":[{"author":{"id":1473293,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIxD4lHNc9y1aFf4yU6vNPVqicMs3947ctnmymKSl6DGDKN9IXVAbtoxON8ciaAB26NF81TlBOWIwiaQ/132","nickname":"xtwny","note":"","ucode":"C318D8D80C5A3C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393641,"discussion_content":"è€å¸ˆèƒ½çœ‹åˆ°å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631530759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310833,"user_name":"cz","can_delete":false,"product_type":"c1","uid":1008468,"ip_address":"","ucode":"96385190176F78","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/54/c9475cd0.jpg","comment_is_top":false,"comment_ctime":1630927595,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1630927595","product_id":100020801,"comment_content":"https:&#47;&#47;dev.mysql.com&#47;doc&#47;refman&#47;5.7&#47;en&#47;innodb-change-buffer.html<br><br>æ–‡ç« ç€é‡å¼ºè°ƒäº†å”¯ä¸€ç´¢å¼•ï¼Œå› ä¸ºæ‰€æœ‰ä¸»é”®ç´¢å¼•éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥buffer poolåªèƒ½ä½œç”¨äºæ™®é€šç´¢å¼•ä¸­çš„éuniqueç´¢å¼•æ•°æ®é¡µã€‚<br><br>The change buffer is a special data structure that caches changes to secondary index pages when those pages are not in the buffer pool. ","like_count":0},{"had_liked":false,"id":310132,"user_name":"Aî€² æ‹½ä¸«å¤´","can_delete":false,"product_type":"c1","uid":1470434,"ip_address":"","ucode":"F875D99D18DF6E","user_header":"https://static001.geekbang.org/account/avatar/00/16/6f/e2/f3b05833.jpg","comment_is_top":false,"comment_ctime":1630494770,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1630494770","product_id":100020801,"comment_content":"çœ‹åˆ°å”¯ä¸€ç´¢å¼•å’Œæ™®é€šç´¢å¼•åœ¨æ›´æ–°è¿‡ç¨‹çš„åŒºåˆ«<br>æ™®é€šç´¢å¼•åœ¨æ›´æ–°æ“ä½œæ—¶ï¼Œä¸ç”¨åˆ¤æ–­å”¯ä¸€æ€§æ‰€ä»¥å½“æ•°æ®æ‰€åœ¨çš„æ•°æ®é¡µä¸åœ¨å†…å­˜ä¸­æ—¶ï¼Œå¯ä»¥è®²æ“ä½œå…ˆå†™å…¥  change buffer ï¼Œç­‰å¾…è§¦å‘merge æ“ä½œã€‚<br>å”¯ä¸€ç´¢å¼•å› ä¸ºè¦åˆ¤æ–­å”¯ä¸€æ€§ï¼Œæ‰€ä»¥å½“æ•°æ®æ‰€åœ¨æ•°æ®é¡µä¸å­˜åœ¨å†…å­˜ä¸­æ—¶ï¼Œè¦å°†æ•°æ®é¡µåŠ è½½åˆ°å†…å­˜æ‰èƒ½åˆ¤æ–­<br><br>ä½†æ˜¯ç¬¬ä¸€ç¯‡æ–‡ç« ä¸­è¯´ï¼Œæ›´æ–°æ“ä½œéƒ½æ˜¯å…ˆè¯»å–æ•°æ®ç»™æ‰§è¡Œå™¨ï¼Œæ‰§è¡Œå™¨æ‹¿åˆ°è¿™ä¸€è¡Œæ•°æ®ä¹‹åï¼Œåœ¨åšæ›´æ–°æ“ä½œï¼Œé‚£ä¹ˆåœ¨ç¬¬ä¸€æ­¥è·å–æ•°æ®æ—¶ï¼Œå°±æ„å‘³ç€å¿…é¡»å°†æ•°æ®é¡µåŠ è½½åˆ°å†…å­˜ä¸­äº†<br><br>è¿™æ ·çœ‹ï¼Œä¸¤è€…æœ‰äº›çŸ›ç›¾ï¼Ÿé‚£åˆ°åº•æ˜¯ä»€ä¹ˆæ ·å­çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":310090,"user_name":"Geek_e6ffab","can_delete":false,"product_type":"c1","uid":1574298,"ip_address":"","ucode":"4782DBCF0B4829","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI7hsTibhnpQP19W3lBohXDnS4sGsrOpkCJgIQr0E3m62nmXOwiatNDBDxcMCkTlDw9B7j4xuERtvmA/132","comment_is_top":false,"comment_ctime":1630482874,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1630482874","product_id":100020801,"comment_content":"åœ¨ä¸è¯»ç£ç›˜çš„æƒ…å†µä¸‹ï¼Œdelete&#47;updateå½±å“è¡Œæ•°å¦‚ä½•è·å–ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398808,"discussion_content":"ä¸å¯èƒ½å®Œå…¨ä¸è¯»ç›˜çš„ï¼Œåªæ˜¯è¯´å¯èƒ½æŸäº›äºŒçº§ç´¢å¼•å¯ä»¥ä¸ç”¨è¯»ç›˜ï¼Œä¸ç®¡åšçš„æ˜¯insert, updateè¿˜æ˜¯deleteæ“ä½œï¼Œéƒ½æ¶‰åŠåˆ°ä¸»é”®ç´¢å¼•ä¸Šæ•°æ®çš„æ›´æ–°ï¼Œä¸»é”®ç´¢å¼•çš„ç›¸å…³é¡µéƒ½æ˜¯éœ€è¦è½½å…¥å†…å­˜çš„ï¼Œé€šè¿‡ä¸»é”®ç´¢å¼•çš„å˜åŒ–å°±å¯ä»¥è·å–å½±å“è¡Œæ•°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632842820,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308251,"user_name":"é¢œæµ·èˆª","can_delete":false,"product_type":"c1","uid":1308159,"ip_address":"","ucode":"5644F6328BF901","user_header":"https://static001.geekbang.org/account/avatar/00/13/f5/ff/523fb378.jpg","comment_is_top":false,"comment_ctime":1629472548,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1629472548","product_id":100020801,"comment_content":"æŒ‰é¡µè¯»å– æ˜¯InnoDBçš„å››å¤§ç‰¹æ€§çš„é¢„è¯»å—ï¼Ÿ<br>change bufferæ˜¯ä¸æ˜¯ä¹Ÿå«insert buffer ï¼Œä¹Ÿæ˜¯ç‰¹æ€§ä¹‹ä¸€ï¼Ÿ","like_count":0},{"had_liked":false,"id":306025,"user_name":"thewangzl","can_delete":false,"product_type":"c1","uid":1006661,"ip_address":"","ucode":"5968FDED0C5AC8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/45/2fa66e67.jpg","comment_is_top":false,"comment_ctime":1628306202,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1628306202","product_id":100020801,"comment_content":"è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼šå¢åŠ æ•°æ®ï¼Œç”±å¤–éƒ¨æä¾›idä¸»é”®çš„å€¼ï¼Œéœ€è¦å°†æ•°æ®è¯»åˆ°å†…å­˜åˆ¤æ–­ä¸»é”®æ˜¯å¦å†²çªå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398811,"discussion_content":"éœ€è¦å°†ä¸»é”®ç´¢å¼•ç›¸å…³é¡µè½½å…¥å†…å­˜ï¼Œåˆ¤æ–­æ˜¯å¦å†²çª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632842913,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305807,"user_name":"é»„å©·å©·","can_delete":false,"product_type":"c1","uid":1467134,"ip_address":"","ucode":"8B65636C9197A2","user_header":"https://static001.geekbang.org/account/avatar/00/16/62/fe/6d2fa6b9.jpg","comment_is_top":false,"comment_ctime":1628174575,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1628174575","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®ç³»ç»Ÿè¡¨ç©ºé—´ï¼ˆibdata1ï¼‰é‡Œé¢å­˜å‚¨çš„æ˜¯ä»€ä¹ˆï¼Ÿç³»ç»Ÿè¡¨ç©ºé—´çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398813,"discussion_content":"ç³»ç»Ÿè¡¨ç©ºé—´å­˜å‚¨çš„æ˜¯ç³»ç»Ÿå‚æ•°ï¼Œæ¯”å¦‚æ•°æ®å­—å…¸ï¼Œchange bufferï¼Œundo logç­‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632843016,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304989,"user_name":"æ¡€","can_delete":false,"product_type":"c1","uid":1204584,"ip_address":"","ucode":"939C1EEFCFC08E","user_header":"https://static001.geekbang.org/account/avatar/00/12/61/68/e5f0ba39.jpg","comment_is_top":false,"comment_ctime":1627735041,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1627735041","product_id":100020801,"comment_content":"æƒ³è¯·é—®ä¸€ä¸‹è€å¸ˆï¼Œæœ‰ä¸ªåœ°æ–¹å¾ˆå›°æƒ‘ï¼Œä¸»é”®ç´¢å¼•ä¸å°±æ˜¯å”¯ä¸€ç´¢å¼•ï¼Œé‚£ä¹ˆåœ¨æ•°æ®åº“æŸè¡¨åªæœ‰ä¸€ä¸ªä¸»é”®ç´¢å¼•çš„æƒ…å†µä¸‹ï¼Œæ‰§è¡Œæ›´æ–°è¯­å¥ä¼šç”¨åˆ°change bufferå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":398815,"discussion_content":"ç”¨ä¸äº†ï¼Œchange bufferåªå¯¹éå”¯ä¸€ç´¢å¼•ç”Ÿæ•ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632843061,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304668,"user_name":"å¤§æ¹¿å…„","can_delete":false,"product_type":"c1","uid":1660151,"ip_address":"","ucode":"587EBBBED90182","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL17rDiannrcyaUB5X6haqLic1183mfwyunJicRO8IYV9U8MaYiaZp8jRnW5kLQIqRmwTaPGIEVQZL5Uw/132","comment_is_top":false,"comment_ctime":1627545420,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627545420","product_id":100020801,"comment_content":"mysql&gt; insert into t(id,k) values(id1,k1),(id2,k2); <br>æ™®é€šç´¢å¼•æ›´æ–°åæ˜¯å¦è¿˜éœ€æ›´æ–°ä¸»é”®ç´¢å¼•å‘¢ï¼Œå¦‚æœè¦çš„è¯æˆ‘ç›´æ¥æ›´æ–°ä¸»é”®ç´¢å¼•ï¼Œä¸è¦æ™®é€šç´¢å¼•ï¼Œè¿™æ ·ä¸å°±å°‘äº†æ™®é€šç´¢å¼•æ›´æ–°çš„æ€§èƒ½æ¶ˆè€—äº†å—ã€‚æ›´æ–°å®Œæˆåå†å»ºæ™®é€šç´¢å¼•ï¼Œè¿™æ ·æ˜¯å¦ä¼šå¥½ä¸€äº›ã€‚","like_count":0},{"had_liked":false,"id":303963,"user_name":"FAN_èŒƒË‰","can_delete":false,"product_type":"c1","uid":1422210,"ip_address":"","ucode":"9B5999A55B217A","user_header":"https://static001.geekbang.org/account/avatar/00/15/b3/82/3c1b7a20.jpg","comment_is_top":false,"comment_ctime":1627130003,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627130003","product_id":100020801,"comment_content":"è€å¸ˆæƒ³è¯·æ•™ä¸‹ï¼Œæ–‡ä¸­è¯´çš„ä»ä¸šåŠ¡å±‚ä¿è¯å”¯ä¸€æ€§æ€ä¹ˆä¿è¯å‘¢ï¼Ÿå¦‚æœåœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œå…ˆselectçœ‹æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨å†æ’å…¥ï¼Œä¸€æ˜¯æ— æ³•ä¿è¯å¹¶å‘æ—¶ä¸¤æ¡è¯­å¥ä¸­é—´å°±æ’å…¥äº†å¯¹åº”æ•°æ®ï¼ŒäºŒæ˜¯æ„Ÿè§‰è¿™ç§æ–¹å¼è¿˜ä¸å¦‚å”¯ä¸€é”®æ•ˆç‡é«˜å‘¢","like_count":0},{"had_liked":false,"id":303899,"user_name":"èµ´","can_delete":false,"product_type":"c1","uid":2675954,"ip_address":"","ucode":"D47B3179BE3950","user_header":"https://static001.geekbang.org/account/avatar/00/28/d4/f2/3c0bfa0e.jpg","comment_is_top":false,"comment_ctime":1627057235,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1627057235","product_id":100020801,"comment_content":"mysql&gt; insert into t(id,k) values(id1,k1),(id2,k2);<br>å‡å¦‚id æ˜¯è‡ªå¢çš„ï¼Œé‚£ä»–æ˜¯é¡ºåºå†™ï¼Œæ‰€ä»¥æ•°æ®æ˜¯å·²ç»å†™å…¥è¿›å»çš„äº†ï¼Ÿ<br>&quot;è¿™æ¡æ›´æ–°è¯­å¥åšäº†å¦‚ä¸‹çš„æ“ä½œ&quot;, ä¸ºä»€ä¹ˆè¿™é‡Œå«æ›´æ–°ï¼Œä¸å« insert, æ˜¯insert è·Ÿ update ç»Ÿç§°ä¸ºchangeå—ï¼Ÿ<br>select * from t where k in (k1, k2)<br>å‡å¦‚ k æ˜¯ç´¢å¼•ï¼Œæ‰€ä»¥è¿™é‡Œçš„ ç´¢å¼•åœ¨b+æ ‘é‡Œå·²ç»å­˜åœ¨éå¶å­èŠ‚ç‚¹çš„å—ï¼Ÿç„¶åå‘ç°ç´¢å¼•é¡µçš„å¶å­èŠ‚ç‚¹ä¸åœ¨å†…å­˜é‡Œé¢ï¼Œ<br>æ‰€ä»¥ä»change bufferæ‰¾åˆ°ä¸»é”®idï¼Œå†load æ•°æ®åˆ° buffer poolï¼Ÿ","like_count":0},{"had_liked":false,"id":303750,"user_name":"èµ´","can_delete":false,"product_type":"c1","uid":2675954,"ip_address":"","ucode":"D47B3179BE3950","user_header":"https://static001.geekbang.org/account/avatar/00/28/d4/f2/3c0bfa0e.jpg","comment_is_top":false,"comment_ctime":1626961361,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1626961361","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼Œchange buffer è¯´ä¼šæŒä¹…åŒ–åˆ°ç³»ç»Ÿè¡¨ç©ºé—´ï¼Œé‚£ä»–ä»€ä¹ˆæ—¶å€™åˆ é™¤ï¼Œä¸åˆ é™¤é‚£è¡¨ç©ºé—´å²‚ä¸æ˜¯ä¸€ç›´å¢å¤§?","like_count":0,"discussions":[{"author":{"id":2675954,"avatar":"https://static001.geekbang.org/account/avatar/00/28/d4/f2/3c0bfa0e.jpg","nickname":"èµ´","note":"","ucode":"D47B3179BE3950","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385462,"discussion_content":"ç†è§£äº†ï¼Œåº”è¯¥æ˜¯mergeåé‚£ä¹ˆchange bufferæŒä¹…åŒ–æ—¶å°±ä¸å­˜åœ¨äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627052841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":303683,"user_name":"é‡‘è§’å¤§ç‹","can_delete":false,"product_type":"c1","uid":1221136,"ip_address":"","ucode":"AB1C4D07946612","user_header":"https://static001.geekbang.org/account/avatar/00/12/a2/10/4d474feb.jpg","comment_is_top":false,"comment_ctime":1626926560,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626926560","product_id":100020801,"comment_content":"ç¬¬äºŒç§æƒ…å†µï¼ŒSessionAè¿˜æ˜¯å¯ä»¥ä¿®æ”¹çš„å•Šï¼Œè™½ç„¶sessionBâ€˜ä¿®æ”¹çš„å†…å®¹å¯¹SessionAä¸å¯è§ï¼Œä½†æ˜¯SessionAçš„ä¿®æ”¹æ˜¯å»ºç«‹åœ¨sessionBâ€™æäº¤äº‹åŠ¡çš„åŸºç¡€ä¸Šçš„å•Šï¼Œupdateä¸æ€»æ˜¯åœ¨å½“å‰å€¼çš„åŸºç¡€ä¸Šè¿›è¡Œæ›´æ–°çš„å—ï¼Ÿæˆ‘ä¸å¤ªæ˜ç™½ä½ è¿™ä¸ªè¿™ä¸ªä¾‹å­å’Œæ„é€ ä¸€ä¸ªâ€œæ•°æ®æ— æ³•ä¿®æ”¹â€çš„åœºæ™¯æœ‰ä»€ä¹ˆå…³è”å‘¢","like_count":0},{"had_liked":false,"id":303101,"user_name":"â„ƒ","can_delete":false,"product_type":"c1","uid":2415717,"ip_address":"","ucode":"709DCE06A62F5B","user_header":"https://static001.geekbang.org/account/avatar/00/24/dc/65/663bda7e.jpg","comment_is_top":false,"comment_ctime":1626591440,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626591440","product_id":100020801,"comment_content":"æˆ‘æƒ³åˆ°äº†å¦ç±»çš„å”¯ä¸€ç´¢å¼•æŸ¥è¯¢ä¼˜åŠ¿ï¼Œå‡è®¾æŸ¥è¯¢å”¯ä¸€ç´¢å¼•å’Œæ™®é€šçš„éƒ½åœ¨å†…å­˜é¡µä¸­ï¼Œå¯¹äºå”¯ä¸€ç´¢å¼•ç›´æ¥è¿”å›ï¼Œå¯¹äºéå”¯ä¸€çš„è¿˜éœ€è¦ç»§ç»­è¯»ç›˜ï¼Œå› ä¸ºä¸ç¡®å®šæ˜¯å¦è¿˜æœ‰å…¶ä»–ç¬¦åˆæ¡ä»¶çš„å€¼","like_count":0},{"had_liked":false,"id":303099,"user_name":"ä¿¡å¤©æ¸¸","can_delete":false,"product_type":"c1","uid":1046101,"ip_address":"","ucode":"4B46403E169499","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f6/55/1065fce8.jpg","comment_is_top":false,"comment_ctime":1626588612,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1626588612","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘ä¸¤ä¸ªç–‘æƒ‘ï¼Œ1.æˆ‘è§‰å¾—updateè¯­å¥å¥½åƒç”¨ä¸äº†change bufferï¼Œæ¯”å¦‚ä¸€ä¸ªè¡¨æœ‰ä¸‰ä¸ªå­—æ®µï¼Œ idï¼Œk1ï¼Œk2ï¼Œidæ˜¯ä¸»é”®ç´¢å¼•ï¼Œk1æ˜¯æ™®é€šç´¢å¼•ï¼Œæ›´æ–°è¯­å¥æ˜¯update table set k2=5 where k1=3ï¼Œå¦‚æœk1ä¸åœ¨å†…å­˜ä¸­ï¼Œæˆ‘è¿˜æ˜¯è¦è¯»è¿›æ¥çš„ï¼Œä¸ç„¶æˆ‘ä¸çŸ¥é“å½±å“äº†å“ªä¸ªidï¼Œé‚£ä¹Ÿå°±ä¸çŸ¥é“åœ¨ä¸»é”®ç´¢å¼•ä¸Šå½±å“å“ªä¸ªpageï¼Œé‚£åé¢çœŸçš„è¯»åˆ°è¿™ä¸ªpageä¹Ÿæ— æ³•åˆå¹¶ 2.æˆ‘çœ‹æ›´æ–°çš„æ—¶å€™ä¼šæ˜¾ç¤ºå½±å“å¤šå°‘è¡Œï¼Œå¦‚æœä¸è¯»è¿›æ¥æ€ä¹ˆçŸ¥é“å‘¢","like_count":0},{"had_liked":false,"id":300497,"user_name":"prader26","can_delete":false,"product_type":"c1","uid":1433707,"ip_address":"","ucode":"5EFFFC374ADECE","user_header":"https://static001.geekbang.org/account/avatar/00/15/e0/6b/f61d7466.jpg","comment_is_top":false,"comment_ctime":1625196646,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625196646","product_id":100020801,"comment_content":"innoDb <br>ä¸€ æ™®é€šç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•çš„æŸ¥è¯¢è¿‡ç¨‹ï¼š  select id from T where k=5ã€‚<br>1 æ ¹æ®b+æ ‘ï¼Œæ™®é€šç´¢å¼•åœ¨æŸ¥è¯¢åˆ°ç¬¬ä¸€æ¡è®°å½•ä¹‹åï¼Œä¼šç»§ç»­æŸ¥è¯¢ä¸‹ä¸€æ¡è®°å½•ï¼Œåªåˆ°ç¢°åˆ°ç¬¬ä¸€ä¸ª  k=5 çš„è®°å½•ã€‚<br>2 å”¯ä¸€ç´¢å¼•ï¼Œä¼šç›´æ¥è¿”å› æŸ¥è¯¢åˆ°çš„ç¬¬ä¸€æ¡k= 5çš„è®°å½•ã€‚  <br> è™½ç„¶æ™®é€šç´¢å¼•å¤š ä¸€æ¬¡æŸ¥è¯¢ï¼Œä½†æ˜¯å¯¹äºæ€§èƒ½æ¥è¯´ï¼Œè¿™ä¸¤è€…å·®ä¸å¤šã€‚<br>äºŒ æ™®é€šç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•å¯¹æ›´æ–°æ€§èƒ½çš„å½±å“ã€‚<br> 1 åœ¨ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„æƒ…å†µä¸‹ï¼ŒinnoDb æ•°æ®æ›´æ–°çš„è¿‡ç¨‹ï¼š å¦‚æœæ•°æ®åœ¨å†…å­˜ä¸­ï¼Œç›´æ¥è¿›è¡Œæ›´æ–°ï¼Œå¦‚æœæ•°æ®æ²¡æœ‰åœ¨å†…å­˜ä¸­ï¼Œå°±å…ˆæŠŠæ›´æ–°ä¿¡æ¯è®°å½•åœ¨ change buffer ä¸­ï¼Œç­‰ä¸‹æ¬¡è¯»å–è¿™æ¡æ•°æ®çš„æ—¶å€™ï¼Œè¿›è¡Œæ›´æ–°æ“ä½œæˆ–è€…ï¼Œåå°çº¿ç¨‹è‡ªåŠ¨è¿›è¡Œæ›´æ–°æ“ä½œã€‚<br> 2 æ¯”å¦‚æ’å…¥ï¼ˆ4ï¼Œ400ï¼‰ï¼Œè¿™æ¡è®°å½•ï¼Œå”¯ä¸€ç´¢å¼•ï¼Œè¦å…ˆå»åˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œå› æ­¤è¦æŠŠæ•°æ®è¯»å–åˆ°å†…å­˜ä¸­ï¼Œå†è¿›è¡Œåˆ¤æ–­æ’å…¥ï¼Œæ•°æ®è¿›å…¥å†…å­˜å°±å¯ä»¥ç›´æ¥è¿›è¡Œæ›´æ–°æ•°æ®äº†ï¼Œå› æ­¤æ²¡å¿…è¦å†æ›´æ–°change buffer äº†ã€‚<br>   å› æ­¤ change buffer å’Œæ™®é€šç´¢å¼•ä¸€èµ·ä½¿ç”¨ï¼Œå†æ›´æ–°æ¯”è¾ƒå¤šï¼Œè€Œè¯»å–æ¯”è¾ƒå°‘ï¼ˆå› ä¸ºå†è¯»å–change buffer ä¸­åšå‡ºæ”¹å˜çš„æ•°æ®çš„æ—¶å€™ï¼Œä¼šç›´æ¥æŠŠæ•°æ®æ›´æ–°åŒæ­¥åˆ°ç£ç›˜ï¼‰çš„åœºæ™¯ æ€§èƒ½æ›´é«˜ã€‚æ¯”å¦‚è´¦å•ï¼Œæ—¥å¿—ç­‰ã€‚<br>3  change buffer å’Œredo log  çš„åŒºåˆ«ã€‚<br>   change buffer æ˜¯å†buffer pool ä¸­çš„ï¼Œæ•°æ®çš„ä¿®æ”¹å† changeBuffer ä¸­è®°å½•ä¸€ä»½ï¼Œ å¤šåˆ†è¿™ç§è®°å½•ä¸€èµ·å†™å…¥ redo log ä¸­ã€‚redo log åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯å†…å­˜ä¸­çš„redo log bufferï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯ ç£ç›˜å±±çš„ redo log file.<br>   å› æ­¤change buffer èƒ½å‡å°‘å¯¹ç£ç›˜éšæœºè¯»å–çš„æ¬¡æ•°ï¼Œredo log èƒ½èƒ½å‡å°‘å¯¹ ç£ç›˜æ•°æ®ï¼Œéšæœºæ›´æ–°æ¬¡æ•°ã€‚","like_count":0},{"had_liked":false,"id":300386,"user_name":"Ween","can_delete":false,"product_type":"c1","uid":1106418,"ip_address":"","ucode":"151822D02A107B","user_header":"https://static001.geekbang.org/account/avatar/00/10/e1/f2/c3aef303.jpg","comment_is_top":false,"comment_ctime":1625136179,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625136179","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼š<br>1.change bufferåå°çº¿ç¨‹å®šæœŸmergeçš„è¿‡ç¨‹ä¸­ï¼Œæ˜¯æŠŠç£ç›˜ä¸Šçš„æ•°æ®é¡µå…ˆè¯»åˆ°å†…å­˜ä¸­ï¼Œåœ¨å†…å­˜ä¸­mergeå—ï¼Ÿå¦‚æœæ˜¯åœ¨å†…å­˜ä¸­mergeï¼Œé‚£mergeåä¼šç«‹åˆ»åˆ·åˆ°ç£ç›˜å—ï¼Ÿ<br>2.å½“redo logæ»¡äº†éœ€è¦åˆ·ç£ç›˜çš„æ—¶å€™ï¼Œåˆšå¥½è¿™éƒ¨åˆ†è¦åˆ·çš„æ•°æ®é¡µæ˜¯åœ¨change bufferä¸­ï¼Œé‚£ä¹ˆè¿™äº›æ•°æ®é¡µå¦‚æœæ˜¯è°ƒåˆ°å†…å­˜ä¸­è¿›è¡Œmergeåï¼Œchange bufferä¸­çš„è¿™äº›è®°å½•æ˜¯ä¸æ˜¯ä¼šç›´æ¥ç‰©ç†åˆ é™¤ï¼Ÿ<br>3.change bufferä¼šæŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œé‚£ç£ç›˜ä¸­çš„change bufferæ–‡ä»¶ä¼šè¶Šæ¥è¶Šå¤§ï¼Ÿè¿˜æ˜¯ä¼šå®šæœŸåˆ é™¤çš„ï¼Ÿ<br><br>è°¢è°¢è€å¸ˆï¼Œæˆ‘åˆšå­¦mysqlï¼Œå¯èƒ½é—®é¢˜æœ‰äº›å¥‡æ€ªï¼Œå¸Œæœ›è€å¸ˆæŒ‡æ­£ã€‚","like_count":0},{"had_liked":false,"id":300300,"user_name":"æ­»ç£•éƒä¸€ä¸–","can_delete":false,"product_type":"c1","uid":1272996,"ip_address":"","ucode":"86C1197C3FB2A0","user_header":"https://static001.geekbang.org/account/avatar/00/13/6c/a4/7f7c1955.jpg","comment_is_top":false,"comment_ctime":1625102528,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1625102528","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œä¸šåŠ¡å±‚é¢ä¿è¯æ•°æ®å”¯ä¸€æ€§ï¼Œå¦‚æœæ˜¯é€šè¿‡å…ˆæŸ¥åº“ï¼Œå†æ’å…¥çš„æ–¹å¼æ¥ä¿è¯çš„ï¼ŒæŸ¥åº“è¿™ä¸€æ­¥ä¹Ÿæ˜¯éœ€è¦æ¶ˆè€—èµ„æºçš„ï¼Œè·Ÿå”¯ä¸€ç´¢å¼•æ¯”èµ·æ¥ï¼Œæ•ˆç‡æ›´ä½äº†","like_count":0},{"had_liked":false,"id":299391,"user_name":"å¼ ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1155275,"ip_address":"","ucode":"3A6215A40B3B21","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","comment_is_top":false,"comment_ctime":1624608476,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1624608476","product_id":100020801,"comment_content":"å‡å¦‚æ‰§è¡Œä¸€æ¡è¯­å¥ insert ï¼Œåªæœ‰idæ˜¯ç´¢å¼•ï¼Œå…¶ä»–å­—æ®µéƒ½ä¸æ˜¯ç´¢å¼•ï¼Œè¿™ä¸ªæ—¶å€™è¿˜éœ€è¦change bufferäº†ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":296720,"user_name":"Mcnulty","can_delete":false,"product_type":"c1","uid":1143536,"ip_address":"","ucode":"3DD71D84B58A16","user_header":"https://static001.geekbang.org/account/avatar/00/11/72/f0/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1623130203,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623130203","product_id":100020801,"comment_content":"ä¸ºäº†éªŒè¯change buffer çš„ä½œç”¨ï¼Œä½¿ç”¨å­˜å‚¨è¿‡ç¨‹è¿›è¡Œæ’å…¥100wæ¡æ•°æ®ï¼Œè€—æ—¶ æ™®é€šç´¢å¼•&gt;å”¯ä¸€ç´¢å¼•ã€‚è¿›è¡Œæ›´æ–° æ™®é€šæ‰€ä»¥&gt;å”¯ä¸€ç´¢å¼•ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿéš¾é“å­˜å‚¨è¿‡ç¨‹ä¸èµ°change bufferï¼Ÿinnodb_change_buffering = all ï¼Œinnodb_change_buffer_max_size=25%<br>CREATE TABLE `student_test_myb` (<br>  `id` int(11) DEFAULT NULL,<br>  `age` int(11) DEFAULT NULL,<br>  `name` varchar(255) DEFAULT NULL,<br>  `createTime` datetime DEFAULT NULL,<br>  KEY `idx_id` (`id`)<br>) ENGINE=InnoDB DEFAULT CHARSET=utf8;<br><br>CREATE TABLE `student_test_myb1` (<br>  `id` int(11) NOT NULL,<br>  `age` int(11) DEFAULT NULL,<br>  `name` varchar(255) DEFAULT NULL,<br>  `createTime` datetime DEFAULT NULL,<br>  PRIMARY KEY (`id`),<br>  UNIQUE KEY `primary_idx` (`id`)<br>) ENGINE=InnoDB DEFAULT CHARSET=utf8;<br>begin<br>\tdeclare i int default 0;<br>\tset @startTime =null;<br>\tset @endTime =null;<br>\tselect current_timestamp(3);<br>\tset autocommit=0;<br>\trepeat<br>\t\tset i=i+1;<br>\t\tinsert into student_test_myb (id,age,name,createTime) values(i, FLOOR(1 + (RAND() * 99)), &#39;zhangsan&#39;, NOW());<br>\t\tuntil i=max_num<br>\tend repeat;<br>\tselect current_timestamp(3);<br>\t-- select (@endTime-@startTime) as cost_time;<br>\tcommit;<br>end","like_count":0},{"had_liked":false,"id":295412,"user_name":"æŒ#æ¨","can_delete":false,"product_type":"c1","uid":1475876,"ip_address":"","ucode":"2974D70A62A406","user_header":"https://static001.geekbang.org/account/avatar/00/16/85/24/98d00055.jpg","comment_is_top":false,"comment_ctime":1622422663,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1622422663","product_id":100020801,"comment_content":"æœ‰ä¸€ç‚¹ä¸æ˜ç™½ï¼Œredo logæ€ä¹ˆå°±å˜æˆé¡ºåºå†™äº†å‘¢ï¼Œæœ‰å¤§ä½¬æ¥æŒ‡ç‚¹ä¸€ä¸‹å—ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1453053,"avatar":"https://static001.geekbang.org/account/avatar/00/16/2b/fd/7013289d.jpg","nickname":"æ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥ä¸ºå¸ˆçŸ£","note":"","ucode":"FADCDFA9F9E5E8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577863,"discussion_content":"é¡ºåºå†™æ˜¯å†™redo logï¼Œæœ€ç»ˆå†™ç£ç›˜è¿˜æ˜¯è¦éšæœºå†™çš„ï¼Œåªä¸è¿‡å»¶åäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656396113,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":294979,"user_name":"ç‰›ç‰›","can_delete":false,"product_type":"c1","uid":1194626,"ip_address":"","ucode":"CFCE68B4F92209","user_header":"https://static001.geekbang.org/account/avatar/00/12/3a/82/1ff83a38.jpg","comment_is_top":false,"comment_ctime":1622169815,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1622169815","product_id":100020801,"comment_content":"çœ‹è¿‡å¥½å‡ ä¸ªå¹³å°çš„MySQLä¸“æ æ–‡ç« ä¹‹ç±»çš„, ä¸å¥‡è€å¸ˆè®²è§£å’Œç­”ç–‘éƒ½å¾ˆæ·±å…¥ã€ç»†è‡´, ç¬¬å››éçœ‹, æ¯æ¬¡çœ‹éƒ½æœ‰æ–°çš„æ”¶è·, è¿™ä¸ªä¸“æ æ˜¯å€¼å¾—åå¤è¯»çš„, çœŸå¿ƒæ¨è, å¦‚æœè¯»ä¸ä¸‹å»ã€å°±åœä¸€åœå†è¯», æ…¢æ…¢è¯»ä¸‹å», ä¸€å®šä¼šæœ‰æ”¶ç›Š ~~~","like_count":0},{"had_liked":false,"id":294373,"user_name":"è¿·èŒ«çš„è€é¸Ÿ","can_delete":false,"product_type":"c1","uid":2601955,"ip_address":"","ucode":"CB74EF54ACD854","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/NxMQt9YhtMpcwOSXd1KXE4aaWQAlLp67pvMktogVHSFiaXRG7owGGWYuURg6FmotEwJBPUvMlsRdzatuiaKeYricg/132","comment_is_top":false,"comment_ctime":1621919024,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1621919024","product_id":100020801,"comment_content":"å­¦äº›äº†ä»Šå¤©çš„æ–‡ç« ï¼Œæƒ³å®é™…æ“ä½œä¸‹ï¼Œä½†æ˜¯change bufferå¦‚ä½•ä¿®æ”¹å‘¢","like_count":0},{"had_liked":false,"id":291713,"user_name":"æäºŒæœ¨","can_delete":false,"product_type":"c1","uid":1103091,"ip_address":"","ucode":"30E03BB84ADB27","user_header":"https://static001.geekbang.org/account/avatar/00/10/d4/f3/129d6dfe.jpg","comment_is_top":false,"comment_ctime":1620444829,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1620444829","product_id":100020801,"comment_content":"é™¤äº†ä¸»é”®ç´¢å¼•ï¼Œå…¶ä»–çš„ç´¢å¼•ç±»å‹éƒ½å±äºäºŒçº§ç´¢å¼•å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":291608,"user_name":"å…ˆå¬","can_delete":false,"product_type":"c1","uid":1151409,"ip_address":"","ucode":"82D8DA7A2FEB4B","user_header":"https://static001.geekbang.org/account/avatar/00/11/91/b1/fb117c21.jpg","comment_is_top":false,"comment_ctime":1620381722,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620381722","product_id":100020801,"comment_content":"è®¾è®¡æ•°æ®åº“è¡¨çš„æ—¶å€™ï¼Œå…³äºåˆ—çš„æ’åºï¼Œå¾ˆå¤šäººä¼šæŠŠä¸»é”®æ”¾åœ¨å‰é¢ã€‚ <br>è¯·é—®è¿™æ ·åšæœ‰ä»€ä¹ˆå¥½å¤„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":291483,"user_name":"å°é™ˆ","can_delete":false,"product_type":"c1","uid":1009385,"ip_address":"","ucode":"A03A299310AD18","user_header":"https://static001.geekbang.org/account/avatar/00/0f/66/e9/814d057a.jpg","comment_is_top":false,"comment_ctime":1620303500,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1620303500","product_id":100020801,"comment_content":"è¿™æ¡æ›´æ–°è¯­å¥åšäº†å¦‚ä¸‹çš„æ“ä½œï¼ˆæŒ‰ç…§å›¾ä¸­çš„æ•°å­—é¡ºåºï¼‰ï¼š<br>1.Page 1 åœ¨å†…å­˜ä¸­ï¼Œç›´æ¥æ›´æ–°å†…å­˜ï¼›<br>2.Page 2 æ²¡æœ‰åœ¨å†…å­˜ä¸­ï¼Œå°±åœ¨å†…å­˜çš„ change buffer åŒºåŸŸï¼Œè®°å½•ä¸‹â€œæˆ‘è¦å¾€ Page 2 æ’å…¥ä¸€è¡Œâ€è¿™ä¸ªä¿¡æ¯<br>3.å°†ä¸Šè¿°ä¸¤ä¸ªåŠ¨ä½œè®°å…¥ redo log ä¸­ï¼ˆå›¾ä¸­ 3 å’Œ 4ï¼‰ã€‚åšå®Œä¸Šé¢è¿™äº›ï¼Œäº‹åŠ¡å°±å¯ä»¥å®Œæˆäº†ã€‚<br><br>è€å¸ˆï¼Œæ˜¯ä¸æ˜¯3å…ˆæ‰§è¡Œå‘¢ï¼Ÿä¸ç„¶1ï¼Œ2æ‰§è¡Œå®Œäº†çªç„¶cashäº†ï¼Œè¿™æ ·ä¸å°±ä¸¢å¤±æ“ä½œäº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":290850,"user_name":"å¼ ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1155275,"ip_address":"","ucode":"3A6215A40B3B21","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","comment_is_top":false,"comment_ctime":1619779812,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619779812","product_id":100020801,"comment_content":"æ„Ÿè§‰é€šè¿‡redo logé‡åˆ·è„é¡µå°±å¤Ÿäº†ï¼Œä¸ºä½•è¿˜è¦é€šè¿‡redo logé‡æ”¾change buffer  ,å†é€šè¿‡change bufferé‡æ”¾è„é¡µ  è¿™æœ‰ç‚¹å¤šä½™äº†ã€‚ã€‚","like_count":0},{"had_liked":false,"id":290034,"user_name":"lleft","can_delete":false,"product_type":"c1","uid":1970443,"ip_address":"","ucode":"D573EB509455AE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIx1V1QAxC4NHaxYZGyuibBN8lcURJWc5nrnO4yic1kxnDemYV2FJGialf47kYX9qtDnZZOfe1SJeLicg/132","comment_is_top":false,"comment_ctime":1619332774,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1619332774","product_id":100020801,"comment_content":"è®¿é—®æ•°æ®é¡µä¸­çš„æ•°æ®å°±ä¼šè§¦å‘mergeè¿˜æ˜¯è¯´è®¿é—®change bufferä¸­è®°å½•å˜æ›´ä¿¡æ¯çš„æ•°æ®æ—¶è§¦å‘mergeï¼Ÿ","like_count":0},{"had_liked":false,"id":288961,"user_name":"let_me_go","can_delete":false,"product_type":"c1","uid":1510177,"ip_address":"","ucode":"A5936F5C5E3D65","user_header":"https://static001.geekbang.org/account/avatar/00/17/0b/21/f1aea35b.jpg","comment_is_top":false,"comment_ctime":1618799759,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618799759","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆ change buffer åªèƒ½ç”¨æˆ·æ™®é€šç´¢å¼•ï¼Œä¸èƒ½ç”¨äºå”¯ä¸€ç´¢å¼•ï¼Œä¸»é”®ç´¢å¼•ã€‚<br>æˆ‘çš„ç†è§£æ˜¯è¿™æ ·çš„ï¼š<br>å”¯ä¸€ç´¢å¼•å¢åŠ äº†å”¯ä¸€æ€§çš„åˆ¤æ–­ï¼Œä¸ç®¡ä¸šåŠ¡æ˜¯å¦ä¿è¯æ•°æ®æ˜¯å”¯ä¸€çš„ï¼Œåªè¦ç”¨äº†å”¯ä¸€ç´¢å¼•ï¼Œæ•°æ®åº“å°±å¾—æŒ‰ç…§è‡ªå·±çš„é€»è¾‘è¿›è¡Œåˆ¤æ–­ï¼Œè€Œæ€ä¹ˆåˆ¤æ–­å”¯ä¸€å‘¢ï¼Œå°±å¾—å°†æ•°æ®å¯¹åº”çš„æ•°æ®é¡µè¯»å–åˆ°å†…å­˜ä¸­æ¥è¿›è¡Œåˆ¤æ–­ã€‚ä¸èƒ½å…ˆæ”¾åœ¨ change buffer ä¸­ï¼Œç­‰åˆ°ç§¯ç´¯äº†ä¸€å®šçš„æ“ä½œï¼Œç„¶åå®é™…æ“ä½œç£ç›˜çš„æ—¶å€™å´å‘ç°æ•°æ®å†²çªäº†ï¼Œä¸æ˜¯å”¯ä¸€çš„ï¼Œè¿™æ ·å‰é¢åœ¨ change buffer ä¸­åšçš„æ“ä½œå°±ç™½åšäº†ã€‚<br>è€Œä¸»é”®ç´¢å¼•è‚¯å®šä¹Ÿæ˜¯å”¯ä¸€ç´¢å¼•ï¼Œå”¯ä¸€ç´¢å¼•ä¸ä¸€å®šæ˜¯ä¸»é”®ç´¢å¼•ã€‚<br>ç®€å•æ¥è¯´ï¼šå”¯ä¸€æ€§ç´¢å¼•å› ä¸ºéœ€è¦ä¿è¯å”¯ä¸€æ€§çš„éœ€æ±‚ï¼Œå¦‚æœæ•°æ®ä¸åœ¨å†…å­˜ä¸­å°±å¿…é¡»ä»ç£ç›˜ä¸­è¯»å…¥çœŸå®çš„æ•°æ®ï¼Œæ‰èƒ½åˆ¤æ–­éœ€è¦æ’å…¥æˆ–è€…ä¿®æ”¹çš„æ•°æ®ï¼Œæ˜¯å¦å”¯ä¸€ï¼Œæ˜¯å¦ä¼šä¸æ•°æ®åº“ä¸­å·²æœ‰çš„æ•°æ®äº§ç”Ÿå†²çªã€‚","like_count":0},{"had_liked":false,"id":288954,"user_name":"let_me_go","can_delete":false,"product_type":"c1","uid":1510177,"ip_address":"","ucode":"A5936F5C5E3D65","user_header":"https://static001.geekbang.org/account/avatar/00/17/0b/21/f1aea35b.jpg","comment_is_top":false,"comment_ctime":1618797954,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1618797954","product_id":100020801,"comment_content":"redo log ä¸»è¦èŠ‚çœçš„æ˜¯éšæœºå†™ç£ç›˜çš„ IO æ¶ˆè€—ï¼ˆè½¬æˆé¡ºåºå†™ï¼‰ï¼Œè€Œ change buffer ä¸»è¦èŠ‚çœçš„åˆ™æ˜¯éšæœºè¯»ç£ç›˜çš„ IO æ¶ˆè€—ï¼Œè¿™å¥è¯çš„ç†è§£ã€‚<br>redo logï¼šæ“ä½œè¡¨ä¸­çš„æ•°æ®çš„çš„æ—¶å€™ï¼Œä¸æ˜¯ç›´æ¥å°†æ•°æ®å†™å…¥ç£ç›˜ä¸­ï¼Œè€Œæ˜¯å…ˆå†™åˆ° redo log è¿™ä¸ªæ—¥å¿—æ–‡ä»¶ä¸­ã€‚å†™redo logåŒæ ·ä¹Ÿæ˜¯éœ€è¦å°†æ•°æ®å†™å…¥ç£ç›˜ï¼Œè¿™å’Œç›´æ¥å°†æ•°æ®å†™å…¥ç£ç›˜æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚åŒºåˆ«åœ¨äº redo log æ˜¯é¡ºåºå†™ï¼Œæ¯æ¬¡å¯¹è¡¨è¿›è¡Œç›¸åº”çš„æ“ä½œï¼Œå°±è®°å½•ä¸‹ç›¸åº”çš„æ“ä½œï¼Œå°±åƒåœ¨ä¸€ä¸ªæœ¬æœ¬ä¸Šå†™ç¬”è®°ä¸€æ ·ï¼ŒæŒ‰è¡Œå†™ï¼Œä¸€è¡Œä¸€è¡ŒæŒ¨ç€å†™ä¸‹å»ã€‚å°†æ•°æ®å†™å…¥ç£ç›˜ï¼Œå†™å…¥åˆ°çœŸå®å¯¹åº”çš„é‚£ä¸ªè¡¨ä¸­ï¼Œç”±äºæ•°æ®æ˜¯æŒ‰ç…§ä¸€å®šçš„é¡ºåºæ’åˆ—çš„ï¼Œæ¯”å¦‚è¿›è¡Œæ’å…¥ insert æˆ–è€…æ˜¯ update æ—¶éœ€è¦æ‰¾åˆ°ç›¸åº”çš„ä½ç½®å†è¿›è¡Œæ“ä½œï¼Œè¿™æ ·è¿›è¡Œå¯»æ‰¾çš„æ—¶å€™å°±è¦æ¶ˆè€—å¤§é‡æ—¶é—´ï¼ˆç›¸æ¯”é¡ºåºå†™ï¼‰ï¼Œè¿™å°±åƒæ˜¯æˆ‘ä»¬åœ¨å¤ä¹ ç¬”è®°çš„æ—¶å€™ï¼Œå¯èƒ½éœ€è¦åœ¨æŸä¸ªåœ°æ–¹è¿›è¡Œè¡¥å……ï¼Œæˆ‘ä»¬å¾—å…ˆæ‰¾åˆ°ä¹‹å‰è®°ç¬”è®°çš„ä½ç½®ï¼Œå†è¿›è¡Œä¿®æ”¹ã€‚<br>change bufferã€‚æˆ‘ä»¬å¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œ update æˆ–è€…æ›´æ–°çš„æ—¶å€™ï¼ŒæŒ‰ç…§ä¸€èˆ¬çš„é€»è¾‘æ˜¯è¿™æ ·çš„ï¼Œéœ€è¦å°†ç›¸åº”çš„æ•°æ®é¡µï¼ˆMySQL ä¸ºäº†æå‡IO åˆ©ç”¨ç‡ï¼Œä¸æ˜¯å°†æ•°æ®ä¸€è¡Œä¸€è¡Œçš„ä»ç£ç›˜è¿›è¡Œè¯»å–æˆ–è€…å†™å…¥ï¼Œè€Œæ˜¯æŒ‰é¡µï¼Œä¸€é¡µä¸º16kè¿›è¡Œè¯»å–æˆ–è€…å†™å…¥ï¼‰è¯»å…¥å†…å­˜ï¼ˆä»ç£ç›˜è¯»å…¥å†…å­˜ï¼‰ï¼Œç„¶ååœ¨å†…å­˜ä¸­æ“ä½œè¯¥æ•°æ®é¡µï¼Œå¯¹ç›¸åº”çš„æ•°æ®è¡Œè¿›è¡Œæ“ä½œï¼Œæœ€åå°†æ“ä½œçš„ç»“æœå†™å›ç£ç›˜ã€‚åœ¨ä½¿ç”¨æ™®é€šç´¢å¼•çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ change buffer äº†ï¼Œè¿™æ—¶å€™æ•°æ®çš„æ“ä½œæ˜¯è¿™æ ·çš„ï¼Œæ“ä½œæ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœè¿™éƒ¨åˆ†æ•°æ®å¯¹åº”çš„æ•°æ®é¡µå·²ç»åœ¨å†…å­˜ä¸­äº†ï¼Œç„¶åå°±åœ¨è¯¥å†…å­˜ä¸­è¿›è¡Œæ“ä½œï¼Œå¦‚æœå¯¹åº”çš„æ•°æ®é¡µä¸åœ¨å†…å­˜ä¸­ï¼Œåˆ™å…ˆå°†æ•°æ®çš„æ“ä½œè®°å½•åˆ° change buffer è¿™ä¸ªç¼“å†²åŒºï¼ˆæ³¨æ„è¿™é‡Œç”¨çš„æ˜¯è®°å½•ï¼Œè¿™å°±å’Œåœ¨ redo log ä¸­è®°æ—¥å¿—ç±»ä¼¼äº†ï¼‰ï¼Œè¿™ä¸ª change buffer æ˜¯åœ¨å†…å­˜ä¸­ï¼Œæ‰€ä»¥æ“ä½œé€Ÿåº¦è‡ªç„¶ä¼šå¾ˆå¿«ï¼Œç„¶åå†å°†è¿™äº›æ“ä½œè®°å½•åˆ° redo log ä¸­ï¼Œredo log è¿™ä¸ªè‚¯å®šä¸èƒ½çœï¼Œæ¯•ç«Ÿç³»ç»Ÿå´©äº†è¿˜æ˜¯çš„é å®ƒï¼ˆå¯¹äº Innodb å¼•æ“ï¼‰ã€‚ç„¶ååå°è¿›ç¨‹æœ‰ç©ºçš„æ—¶å€™å†å°†è¿™äº›æ”¾åœ¨ change buffer ä¸­çš„è®°å½•çœŸå®æ“ä½œåˆ°ç¡¬ç›˜ä¸­çœŸå®çš„è¡¨ä¸­ï¼Œè¿™æ ·å°±ä¸ç”¨å½“æ¯æ¬¡æ•°æ®é¡µä¸åœ¨å†…å­˜ä¸­æ—¶å°±è¦ä»ç£ç›˜ä¸­è¯»å–ç›¸åº”çš„æ•°æ®é¡µé¡µè¿›è¡Œæ“ä½œï¼Œå°±å¯ä»¥åˆå¹¶å¤šä¸ªæ“ä½œï¼Œç„¶åæœ‰ç©ºçš„æ—¶å€™å°†å¤šä¸ªæ“ä½œæ”¾åœ¨ä¸€èµ·æ“ä½œã€‚è¦æ˜ç™½è¿™ä¸€ç‚¹ï¼Œå†…å­˜å’Œç£ç›˜ä¹‹é—´çš„è¯»å†™é€Ÿåº¦ç›¸å·®å¾ˆå¤§å¾ˆå¤§å¾ˆå¤§ï¼Œå¯¹äº CPU è€Œè¨€ï¼Œä»å†…å­˜ä¸­è¯»ä¸€ä¸ªæ•°æ®é¡µèŠ±çš„æ—¶é—´å’Œä¸€ä¸‹å­è¯»å‡ åä¸ªæ•°æ®é¡µæ¶ˆè€—çš„æ—¶é—´å·®ä¸å¤šï¼Œæ‰€ä»¥CPU æ›´æ„¿æ„å°†å¤šæ¬¡ IO åˆå¹¶ä¸º1æ¬¡ IOã€‚","like_count":0},{"had_liked":false,"id":286616,"user_name":"HwH","can_delete":false,"product_type":"c1","uid":2285230,"ip_address":"","ucode":"870CAA34DED9FB","user_header":"","comment_is_top":false,"comment_ctime":1617431375,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617431375","product_id":100020801,"comment_content":"å¯¹äºå”¯ä¸€ç´¢å¼•æ¥è¯´ï¼Œæ‰€æœ‰çš„æ›´æ–°æ“ä½œéƒ½è¦å…ˆåˆ¤æ–­è¿™ä¸ªæ“ä½œæ˜¯å¦è¿åå”¯ä¸€æ€§çº¦æŸã€‚æ¯”å¦‚ï¼Œè¦æ’å…¥ (4,400) è¿™ä¸ªè®°å½•ï¼Œå°±è¦å…ˆåˆ¤æ–­ç°åœ¨è¡¨ä¸­æ˜¯å¦å·²ç»å­˜åœ¨ k=4 çš„è®°å½•ï¼Œè€Œè¿™å¿…é¡»è¦å°†æ•°æ®é¡µè¯»å…¥å†…å­˜æ‰èƒ½åˆ¤æ–­ã€‚<br>å¯¹äºè¿™é‡Œï¼Œè€å¸ˆæˆ‘æƒ³é—®ä¸‹ï¼Œè¦åˆ¤æ–­æ˜¯å¦æœ‰è¿™ä¸ªèŠ‚ç‚¹åªéœ€è¦è¦é€šè¿‡è¿™ä¸ªäºŒçº§çš„å”¯ä¸€ç´¢å¼•å°±å¯ä»¥åˆ¤æ–­äº†å‘€ï¼Œé‚£å¹¶ä¸éœ€è¦å°†æ•°æ®è¯»å…¥å†…å­˜ï¼Œé‚£ä¸æ˜¯ä¸€æ ·å¯ä»¥ä½¿ç”¨change bufferå˜›ã€‚","like_count":0},{"had_liked":false,"id":285657,"user_name":"Sheep Yang","can_delete":false,"product_type":"c1","uid":1114040,"ip_address":"","ucode":"7AA2E460270130","user_header":"https://static001.geekbang.org/account/avatar/00/10/ff/b8/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1616943806,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616943806","product_id":100020801,"comment_content":"é¦–å…ˆåŸºäºæ–‡ç« ï¼Œæˆ‘å¯¹äºchange bufferçš„ç†è§£æ˜¯ä½œä¸ºæ™®é€šç´¢å¼•çš„ä¿®æ”¹å†…å­˜èšåˆçš„ä¸€ä¸ªç¼“å†²ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å®Œå…¨æ˜ç™½è¯¥ç¼“å­˜mergeçš„å…·ä½“æ“ä½œã€‚<br>insert into t(id,k) values(id1,k1),(id2,k2);<br><br>å¯¹äºè¿™ä¸ªinsertä¾‹å­æœ‰äº›ç–‘é—®ã€‚<br>1ã€insertçš„æ—¶åº”è¯¥æŒ‡å®šä¸»é”®ï¼ŒæŒ‰é“ç†åº”è¯¥æ£€æŸ¥id2çš„å”¯ä¸€æ€§é‚£ä¹ˆä¸åº”è¯¥æœ‰ä½¿ç”¨change bufferçš„æƒ…å†µå‘ç”Ÿï¼Œæˆ‘ç†è§£åº”è¯¥æ˜¯ä½¿ç”¨æ™®é€šçš„buffer poolåŠ è½½pageæ›´æ–°ã€‚<br>2ã€ä½¿ç”¨change bufferä»¥åï¼Œmergeæ˜¯å¦å°†æ•°æ®å†™å›å”¯ä¸€ç´¢å¼•ã€‚ï¼ˆchange buffer mergeçš„å…·ä½“æƒ…å†µï¼Œä¾‹å­ä¸­å¥½åƒåªçœ‹åˆ°äº†mergeå›æ™®é€šç´¢å¼•è¡¨ï¼Œé‚£ä¹ˆèšé›†ç´¢å¼•å°±æ²¡æ›´æ–°äº†ï¼Ÿï¼‰","like_count":0},{"had_liked":false,"id":285485,"user_name":"gogolk","can_delete":false,"product_type":"c1","uid":1732394,"ip_address":"","ucode":"94FF5F698F55BC","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLruKArGrtM9NQYUrQib3dicKHFoia1TnSyxfjv5eFPXVHc5SU6mnibPFk3IyLPj9xia40nKUaNEzIYIicQ/132","comment_is_top":false,"comment_ctime":1616836513,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1616836513","product_id":100020801,"comment_content":"è¿˜æ˜¯æœ‰ç–‘æƒ‘ï¼Œæ„Ÿè§‰change bufferèƒ½åšçš„å·¥ä½œredo logä¹Ÿèƒ½åšçš„ã€‚æ˜¯ä¸æ˜¯æ•°æ®ç»“æ„ä¸ä¸€æ · å¯¼è‡´mergeçš„æ—¶å€™ åœ¨redo log ä¸æ–¹ä¾¿éšæœºè¯»ã€‚","like_count":0},{"had_liked":false,"id":284829,"user_name":"æ¯è«åœ","can_delete":false,"product_type":"c1","uid":1759325,"ip_address":"","ucode":"4FA1D5CBBEF702","user_header":"https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg","comment_is_top":false,"comment_ctime":1616488659,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1616488659","product_id":100020801,"comment_content":"change buffer changeåå’Œå†…å­˜ä¸­çš„æ•°æ®é¡µupdateåå†™redo logï¼Œåªæ˜¯ä¸ºäº†çªå‘æƒ…å†µï¼Œæ¯”å¦‚æ•°æ®åº“éæ­£å¸¸å…³é—­ååšæ•°æ®æ¢å¤ç”¨çš„å§ï¼Ÿè„é¡µåˆ·ç£ç›˜æ²¡æœ‰ç”¨åˆ°ã€‚<br>ç°å®é¡¹ç›®ä¸­çºªå½•å†å²æ•°æ®ï¼Œæµæ°´è´¦å•ï¼Œè¿™ç§ä¸ä¼šè¿åå”¯ä¸€æ€§çº¦æŸçš„æ•°æ®ç”¨change bufferæœ€åˆé€‚ï¼Œè¿˜å¯ä»¥å®šæ—¶æ¸…é™¤change bufferå ç”¨ä¹Ÿä¸ä¼šå¾ˆå¤§ã€‚","like_count":0},{"had_liked":false,"id":279342,"user_name":"è°äºˆç´ä¹±ã€‚","can_delete":false,"product_type":"c1","uid":1390879,"ip_address":"","ucode":"74774DEDFA34A7","user_header":"https://static001.geekbang.org/account/avatar/00/15/39/1f/ff9799de.jpg","comment_is_top":false,"comment_ctime":1613725324,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613725324","product_id":100020801,"comment_content":"å‡å¦‚æœ‰ä¸€æ¡æ•°æ®æ›´æ–°ç”¨åˆ°äº†change bufferï¼Œè¿™æ¡æ•°æ®æœ‰å…¶ä»–å”¯ä¸€å­—æ®µã€‚<br>ä½†æ˜¯åœ¨mergeçš„æ—¶å€™å‘ç°ï¼Œå…¶ä»–å”¯ä¸€å­—æ®µå·²ç»å­˜åœ¨å”¯ä¸€å†²çªäº†ã€‚<br>è¿™ç§æƒ…å†µè¦æ€ä¹ˆåˆ†æ?","like_count":0},{"had_liked":false,"id":279336,"user_name":"è°äºˆç´ä¹±ã€‚","can_delete":false,"product_type":"c1","uid":1390879,"ip_address":"","ucode":"74774DEDFA34A7","user_header":"https://static001.geekbang.org/account/avatar/00/15/39/1f/ff9799de.jpg","comment_is_top":false,"comment_ctime":1613723575,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613723575","product_id":100020801,"comment_content":"åœ¨ä¸å½±å“æ•°æ®ä¸€è‡´æ€§çš„å‰æä¸‹ï¼ŒInnoDB ä¼šå°†è¿™äº›æ›´æ–°æ“ä½œç¼“å­˜åœ¨ change buffer ä¸­<br><br>è¿™ä¸ªå½±å“æ•°æ®ä¸€è‡´æ€§æ€ä¹ˆç†è§£?","like_count":0},{"had_liked":false,"id":276980,"user_name":"Long","can_delete":false,"product_type":"c1","uid":1318970,"ip_address":"","ucode":"2417242560360A","user_header":"https://static001.geekbang.org/account/avatar/00/14/20/3a/90db6a24.jpg","comment_is_top":false,"comment_ctime":1612218793,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612218793","product_id":100020801,"comment_content":"äºŒåˆ·ç¬¬6å¤©ï¼šæ¸©æ•…çŸ¥æ–°<br><br>\t1. redo logå’Œchange bufferåˆ†åˆ«ä¼˜åŒ–äº†ä»€ä¹ˆéšæœºè¯»å†™ï¼Ÿ<br><br>ï¼ˆ1ï¼‰redo logèŠ‚çœéšæœºå†™ç£ç›˜I&#47;Oï¼ˆéšæœº--&gt;é¡ºåºï¼‰ã€‚è¦æ›´æ–°åˆ°ç£ç›˜çš„æ—¶å€™ï¼Œå»¶è¿Ÿæ›´æ–°<br>ï¼ˆ2ï¼‰change bufferï¼Œä¸»è¦èŠ‚çœéšæœºè¯»ç£ç›˜çš„I&#47;Oæ¶ˆè€—ã€‚è¦è¯»å–å¹¶ä¿®æ”¹çš„æ—¶å€™ï¼Œå…ˆè®°å½•ä¸‹æ¥ï¼Œç„¶åå»¶è¿Ÿè¯»å–+æ›´æ–°ã€‚<br><br><br>\t1. å”¯ä¸€ç´¢å¼•å’Œæ™®é€šç´¢å¼•çš„åŒºåˆ«ã€‚å¦‚æœæ‰€æ“ä½œçš„æ•°æ®é¡µï¼Œä¸åœ¨buffer poolï¼Œå”¯ä¸€ç´¢å¼•æ— æ³•ç”¨åˆ°change bufferï¼Œæ™®é€šç´¢å¼•å¯ä»¥ç”¨åˆ°change bufferã€‚<br>\t2. mergeçš„è¿‡ç¨‹ï¼Œåªæ˜¯æŠŠè€çš„ç£ç›˜ä¸Šçš„æ•°æ®é¡µåœ¨å†…å­˜ä¸­æ›´æ–°ï¼Œå¹¶æ²¡æœ‰æ›´æ–°ç£ç›˜åªä¼šå†™redoã€‚<br>\t3. æœ¬ç« çš„é—®é¢˜ï¼šchange buffer ä¸€å¼€å§‹æ˜¯å†™å†…å­˜çš„ï¼Œé‚£ä¹ˆå¦‚æœè¿™ä¸ªæ—¶å€™æœºå™¨æ‰ç”µé‡å¯ï¼Œä¼šä¸ä¼šå¯¼è‡´ change buffer ä¸¢å¤±å‘¢ï¼Ÿchange buffer ä¸¢å¤±å¯ä¸æ˜¯å°äº‹å„¿ï¼Œå†ä»ç£ç›˜è¯»å…¥æ•°æ®å¯å°±æ²¡æœ‰äº† merge è¿‡ç¨‹ï¼Œå°±ç­‰äºæ˜¯æ•°æ®ä¸¢å¤±äº†ã€‚ä¼šä¸ä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿç­”æ¡ˆï¼šè™½ç„¶æ˜¯åªæ›´æ–°å†…å­˜ï¼Œä½†æ˜¯åœ¨äº‹åŠ¡æäº¤çš„æ—¶å€™ï¼Œæˆ‘ä»¬æŠŠ change buffer çš„æ“ä½œä¹Ÿè®°å½•åˆ° redo log é‡Œäº†ï¼Œæ‰€ä»¥å´©æºƒæ¢å¤çš„æ—¶å€™ï¼Œchange buffer ä¹Ÿèƒ½æ‰¾å›æ¥ã€‚<br><br>ä¸æ‡‚çš„ç–‘é—®ï¼š<br><br>\t1. åˆ·æ–°çš„æ—¶å€™ï¼Œåˆ°åº•æ˜¯buffer poolåˆ·æ–°ç£ç›˜ï¼Œè¿˜æ˜¯redo logã€‚redo logåœ¨ç¬¬äºŒç« èŠ‚åªæ˜¯è¯´äº†ä¿è¯äº†safe crashçš„èƒ½åŠ›ï¼Œå½“ä¸‹é¢æœ‰åŒå­¦ç•™è¨€çš„æ—¶å€™ï¼Œè€å¸ˆè¯´ç­”å¾—å¯¹ï¼Œè¯´æ˜å°±æ˜¯buffer poolåˆ·æ–°çš„ï¼Œè¿™ä¸ªåé¢å†çœ‹ï¼ˆ3ã€çœŸæ­£å¯¹ç£ç›˜æ•°æ®é¡µçš„ä¿®æ”¹æ˜¯é€šè¿‡å°†å†…å­˜é‡Œè„é¡µçš„æ•°æ®åˆ·å›ç£ç›˜æ¥å®Œæˆçš„ï¼Œè€Œä¸æ˜¯æ ¹æ®redologï¼‰","like_count":0},{"had_liked":false,"id":276127,"user_name":"å‰æ³•å¸ˆ","can_delete":false,"product_type":"c1","uid":2232546,"ip_address":"","ucode":"F1E3F4F526CA13","user_header":"https://static001.geekbang.org/account/avatar/00/22/10/e2/35f2fc23.jpg","comment_is_top":false,"comment_ctime":1611803524,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1611803524","product_id":100020801,"comment_content":"æœåŠ¡å™¨çš„ç¡¬ç›˜è‚¯å®šæ˜¯æœºæ¢°ç¡¬ç›˜å‘€ï¼Œä¸€èˆ¬æ•°æ®åº“ç³»ç»Ÿçš„ç¡¬ç›˜éƒ½ä¸ä¼šæ˜¯ssd çš„ã€‚","like_count":0},{"had_liked":false,"id":272755,"user_name":"å³è€³","can_delete":false,"product_type":"c1","uid":2408591,"ip_address":"","ucode":"54CE8E54B9FD59","user_header":"https://static001.geekbang.org/account/avatar/00/24/c0/8f/b0d0a9cb.jpg","comment_is_top":false,"comment_ctime":1610265255,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1610265255","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æœ‰ä¸€ç‚¹ä¸æ˜ç™½ï¼Œæ›´æ–°çš„æ—¶å€™ä¸æ˜¯å…ˆè¯»åæ”¹å—ï¼Œé‚£å½“å‰è¯»çš„æ—¶å€™æ˜¯ä»å“ªé‡Œè¯»ï¼Ÿå¸Œæœ›å¯ä»¥è§£ç­”ä¸€ä¸‹æˆ‘çš„å›°æƒ‘è°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":271840,"user_name":"é›·é›·","can_delete":false,"product_type":"c1","uid":1516558,"ip_address":"","ucode":"2422F6150B6C0E","user_header":"https://static001.geekbang.org/account/avatar/00/17/24/0e/65d7d6ee.jpg","comment_is_top":false,"comment_ctime":1609835439,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1609835439","product_id":100020801,"comment_content":"buffer changeçš„æ˜¯é’ˆå¯¹äºŒçº§ç´¢å¼•åšçš„ä¼˜åŒ–ï¼Œç›®çš„æ˜¯ä¸ºäº†å‡å°‘æ¯æ¬¡updateï¼Œinsertï¼Œdeleteå¯¹äºŒçº§ç´¢å¼•ç»´æŠ¤çš„æ€§èƒ½æ¶ˆè€—","like_count":0},{"had_liked":false,"id":271701,"user_name":"æµ·ä¹‹éŸµ","can_delete":false,"product_type":"c1","uid":1316451,"ip_address":"","ucode":"C7C3F4E32A2DEF","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/2W9qKibEiaSBbvBt5Om6HU52oNfbxCvjmheFLcYkMiahP8ca5g7CzuywFMaYMhSMSauVlWiatn44QXJc8SpgIwUMtw/132","comment_is_top":false,"comment_ctime":1609761946,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1609761946","product_id":100020801,"comment_content":"æ—è€å¸ˆå¥½ï¼Œæœ€åä¾‹å­é‡Œè¯´k2æ‰€åœ¨æ•°æ®é¡µï¼Œæˆ‘æ„Ÿè§‰åº”è¯¥ä¸æ˜¯æ•°æ®é¡µï¼Œè€Œæ˜¯ç´¢å¼•é¡µ<br>å› ä¸ºæ•°æ®é¡µè·Ÿç´¢å¼•kå°±æ²¡å…³ç³»äº†å§<br>ä¸çŸ¥æ˜¯å¦æ­£ç¡®","like_count":0,"discussions":[{"author":{"id":1788647,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/4a/e7/6c16af5d.jpg","nickname":"æ±‰æ±Ÿ","note":"","ucode":"01622D984B8F9B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":340062,"discussion_content":"æˆ‘çš„ç†è§£ è¿™é‡Œæ˜¯ç´¢å¼•é¡µ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609895949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":271681,"user_name":"Edon du","can_delete":false,"product_type":"c1","uid":1074742,"ip_address":"","ucode":"1648624751AAE9","user_header":"https://static001.geekbang.org/account/avatar/00/10/66/36/b4a4e6fb.jpg","comment_is_top":false,"comment_ctime":1609754889,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1609754889","product_id":100020801,"comment_content":"è€å¸ˆçœ‹å®Œè¿™ç¯‡æ–‡ç« ï¼Œæœ‰å‡ ç‚¹ç–‘é—®ä¸æ˜¯å¾ˆç¡®å®šå‘¢ã€‚<br><br>ç–‘é—®1ï¼šæ’å…¥çš„æ•°æ®è‚¯å®šæ˜¯è¦ç»´æŠ¤ä¸€ä¸ªèšç°‡ç´¢å¼•çš„ï¼Œè€Œèšç°‡ç´¢å¼•åº”è¯¥éƒ½åœ¨buffer poolä¸­ï¼Œè¿™åº”è¯¥ä¹Ÿæ˜¯å®˜æ–¹ä¸ºä»€ä¹ˆå»ºè®®buffer poolçš„å†…å­˜å ç”¨ç‡æœ€å¥½è¶…è¿‡ç‰©ç†å†…å­˜çš„ï¼…80ï¼Œå¦‚æœå†™ä¸»é”®ç›´æ¥å†™å†…å­˜ï¼Œä¹Ÿå°±ç”¨ä¸åˆ°change buffer äº†ï¼Œä¸çŸ¥é“è¿™æ ·ç†è§£å¯¹ä¸å¯¹ï¼Œæœ‰æ²¡æœ‰æœ‰å¿—ä¹‹å£«æœ‰ä¸åŒçš„çœ‹æ³•ã€‚<br><br>ç–‘é—®2ï¼šçœ‹å®˜æ–¹æ–‡æ¡£è¯´innodbåœ¨buffer poolä¸­è®¿é—®è¡¨æ•°æ®å’Œç´¢å¼•æ•°æ®ï¼Œè¿™ä¸ªkæ˜¯äºŒçº§ç´¢å¼•çš„è¯ï¼Œå¯èƒ½å®ƒæ˜¯ä¸åœ¨å†…å­˜ä¸­ï¼Œé‚£æ˜¯ä¸æ˜¯buffer poolé™¤äº†ç¼“å­˜äº†ä¸€äº›èšç°‡ç´¢å¼•è¿˜ç¼“å­˜äº†ä¸€äº›æœ€è¿‘è¢«è®¿é—®åˆ°çš„äºŒçº§ç´¢å¼•ä¸‹æŸäº›æ•°æ®å—ï¼Œè¿˜æ˜¯æœ‰ç‚¹æ¨¡ç³Šï¼Œæ„æ€æ’å…¥æ•°æ®çš„æ—¶å€™æ˜¯è¿™ä¸ªäºŒçº§æ™®é€šç´¢å¼•è‚¯å®šä¸åœ¨å†…å­˜ä¸­ï¼Œæ‰€ä»¥è¦èµ°change bufferå—ï¼Ÿ<br>ç–‘é—®3: update  çš„æ—¶å€™ä¹Ÿæ˜¯å¦‚æœæ›´æ–°å”¯ä¸€ç´¢å¼•äºŒçº§ç´¢å¼•ï¼Œåˆ™éœ€è¦è¯»å–äºŒçº§ç´¢å¼•æ ‘åˆ°å†…å­˜ä¸­è¿›è¡Œåˆ¤æ–­ã€‚å¦‚æœæ˜¯æ™®é€šäºŒçº§ç´¢å¼•ï¼Œåˆ™ç›´æ¥å†™change bufferï¼Œæ˜¯è¿™ä¸ªæ„æ€å—ï¼Ÿ<br>ç–‘é—®4ï¼šdelete çš„æ—¶å€™æ˜¯åˆ¤æ–­çš„whereæ¡ä»¶å—?ç†è®ºä¸Šinsert å’Œ update ä¹Ÿå¯èƒ½whereæ¡ä»¶åé¢å­˜åœ¨å”¯ä¸€ç´¢å¼•æˆ–è€…æ™®é€šç´¢å¼•ï¼Œä¹Ÿæ˜¯èµ°è¿™ä¸ªé€»è¾‘å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":270007,"user_name":"å•Šè‰¯æ¢“æ˜¯æˆ‘","can_delete":false,"product_type":"c1","uid":1655117,"ip_address":"","ucode":"E42FC1A60D331C","user_header":"https://static001.geekbang.org/account/avatar/00/19/41/4d/f6d6d13a.jpg","comment_is_top":false,"comment_ctime":1608874370,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"1608874370","product_id":100020801,"comment_content":"æ€»ç»“ï¼šäº‹åŠ¡åœ¨åˆ›å»ºäº‹åŠ¡çš„å¼€å§‹ç¬é—´ï¼Œä¼šè·å–æ‰€æœ‰è¿˜æ²¡æœ‰æäº¤çš„äº‹åŠ¡ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œç§°ä¹‹ä¸ºæ´»è·ƒäº‹åŠ¡æ•°ç»„ï¼Œä»–ä»¬äº’ç›¸è¯»ä¸å¯è§ï¼Ÿç„¶åå…¶ä¸­æœ‰äº‹åŠ¡æäº¤äº†updateå¹¶ä¸”commit ä¹Ÿæ˜¯è¯»ä¸å¯è§çš„ï¼Œæ²¡æäº¤çš„æ›´åŠ è¯»ä¸å¯è§ã€‚è‡ªèº«äº‹åŠ¡è¯»å¯è§ã€‚<br>ä¸åœ¨æ´»è·ƒæ•°ç»„çš„å¹¶ä¸”å·²æäº¤çš„è¯»å¯è§ã€‚","like_count":0},{"had_liked":false,"id":269626,"user_name":"Geek_b7d291","can_delete":false,"product_type":"c1","uid":2281862,"ip_address":"","ucode":"923710DC56DD84","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKZSibeTatZ2In6yCdcMauh2vNlLmJ3ekuDb5Oj3tw2Z7hczC7AVQIdZK5cLsdP15bzMItenDV0ib8w/132","comment_is_top":false,"comment_ctime":1608719283,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608719283","product_id":100020801,"comment_content":"æœ‰ä¸€ç‚¹ä¸æ˜¯å¾ˆæ˜ç™½ï¼Œå¦‚æœè¯´è¿™ä¸ªæ›´æ–°è¯­å¥æ²¡æœ‰ç”¨åˆ°ä»»ä½•ç´¢å¼•æ˜¯ä¸æ˜¯å°±ä¸ä¼šç”¨çš„change buffer","like_count":0},{"had_liked":false,"id":269228,"user_name":"æ¨è½¦çš„è€ç‹","can_delete":false,"product_type":"c1","uid":1832751,"ip_address":"","ucode":"568A2E436CCFBE","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/HrblKDLM0uaYNgJo3ZbG3qzgvpq15vRDKadOkvktJuI6sWf4kUymXXXCM4ibicLcek22qAkd5oysSEVCTZuZJXGA/132","comment_is_top":false,"comment_ctime":1608561480,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608561480","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æœ‰ä¸ªç–‘é—®ï¼Œå¦‚æœè¯´change bufferå¯ä»¥ä¸ç”¨éšæœºè¯»å–ç£ç›˜çš„æ•°æ®åªæ˜¯å°†è¿™æ¬¡ä¿®æ”¹è®°å½•åˆ°å†…å­˜ä¸­ï¼Œé‚£ä¹ˆbinlog rowæ¨¡å¼ä¸‹é‡Œé¢çš„olddataçš„æ•°æ®æ˜¯ä»å“ªæ¥çš„å•¦ï¼Ÿredologæ˜¯æ€ä¹ˆçŸ¥é“å…·ä½“ä¿®æ”¹çš„é¡µçš„å“ªä¸ªä½ç½®çš„æ•°æ®å•¦","like_count":0},{"had_liked":false,"id":268566,"user_name":"openï¼ï¼Ÿ","can_delete":false,"product_type":"c1","uid":2278966,"ip_address":"","ucode":"53E6D336DB7F22","user_header":"https://static001.geekbang.org/account/avatar/00/22/c6/36/70f2083c.jpg","comment_is_top":false,"comment_ctime":1608259420,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1608259420","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆ ï¼Œ å¦‚æœæ²¡æœ‰ä½¿ç”¨åˆ°change bufferï¼Œæ¯”å¦‚ç”¨äº†å”¯ä¸€ç´¢å¼•ï¼Œæ­¤æ—¶updateä¿®æ”¹äº†å†…å­˜ä¸­çš„å€¼,å¹¶æŠŠå®ƒå†™å…¥redo log ä¸­ ï¼Œä½†å¦‚æœè¯¥å—å†…å­˜å€¼ æ¥ä¸‹é‡Œè¢«æ¸…ç©ºäº† ï¼Œæ­¤æ—¶ä¼šæŠŠæœ€æ–°å€¼å†™å›ç£ç›˜å—ï¼Œæˆ–è€…ä¸å†™ ç­‰è€çš„æ•°æ®è¢«æå–åå†çœ‹redo log å†æ›´æ–°å—ã€‚","like_count":0},{"had_liked":false,"id":267055,"user_name":"è‘£èˆª","can_delete":false,"product_type":"c1","uid":1231787,"ip_address":"","ucode":"9CA208FD26F849","user_header":"https://static001.geekbang.org/account/avatar/00/12/cb/ab/1aac53bf.jpg","comment_is_top":false,"comment_ctime":1607583909,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607583909","product_id":100020801,"comment_content":"ä½ å¥½ï¼Œè¯·é—®updateè¯­å¥ä¹Ÿä¼šç”¨åˆ°change bufferå—ï¼Œæˆ‘ç”¨show engine innodb statusæŸ¥çœ‹äº†ï¼Œåªæœ‰INSERT BUFFER AND ADAPTIVE HASH INDEX<br>-------------------------------------<br>Ibuf: size 1, free list len 0, seg size 2, 0 merges<br>merged operations:<br> insert 0, delete mark 0, delete 0<br>discarded operations:<br> insert 0, delete mark 0, delete 0","like_count":0},{"had_liked":false,"id":267029,"user_name":"AluAlu","can_delete":false,"product_type":"c1","uid":1309974,"ip_address":"","ucode":"ACDE9CD9D7B459","user_header":"https://static001.geekbang.org/account/avatar/00/13/fd/16/719fa5c3.jpg","comment_is_top":false,"comment_ctime":1607575988,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1607575988","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘çœ‹äº†å…¨æ–‡ï¼Œæœ‰ä¸ªé—®é¢˜:<br>å¯¹äºä¸€æ¡insertè¯­å¥ï¼Œchange bufferå·²ç»è®°å½• (add xxx to page x)ï¼Œè€Œredologå·²ç»è®°å½•(new changebuffer [add xxx to page x])ã€‚<br>æˆ‘æƒ³é—®:<br>1.å‡å¦‚è§¦å‘äº†mergeæ“ä½œï¼Œæ˜¯å¦å°†æœ¬æ¬¡mergeæ“ä½œä¹Ÿå†™å…¥redologï¼Ÿ<br>2.å¦‚æœå†™å…¥è·Ÿä¸Šé¢çš„new changebufferæ˜¯ä¸æ˜¯é‡å¤äº†ï¼Ÿé‡å¤å†™redologä¼šä¸ä¼šæœ‰é—®é¢˜ï¼Ÿ<br><br>æˆ‘ç†è§£çš„æ˜¯ï¼Œmergeæ“ä½œæ˜¯å†™å…¥redologã€‚å½“check posæ¨è¿›åˆ°è¿™éƒ¨åˆ†logæ—¶ï¼Œç”±äºæ•°æ®å·²ç»mergeè¿‡ï¼Œè·Ÿç£ç›˜æ•°æ®æ˜¯ä¸€è‡´çš„ï¼Œæ‰€ä»¥ä¸ç®—è„é¡µï¼Œä¹Ÿå°±ä¸ä¼šå†ä»redologåˆ·åˆ°ç›˜é‡Œã€‚<br>ç¬¬ä¸€ä¸ªé—®é¢˜æˆ‘ç†è§£çš„å¯¹å—ï¼Ÿè€å¸ˆï¼ŒæœŸå¾…æ‚¨çš„å›å¤ã€‚","like_count":0},{"had_liked":false,"id":264417,"user_name":"å¼ çˆ½","can_delete":false,"product_type":"c1","uid":1021129,"ip_address":"","ucode":"ED2969DA26E8E0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/94/c9/374a69f2.jpg","comment_is_top":false,"comment_ctime":1606461158,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1606461158","product_id":100020801,"comment_content":"CREATE TABLE `t_user` (<br>  `id` bigint(20) unsigned NOT NULL PRIMARY KEY AUTO_INCREMENT COMMENT &#39;ç”¨æˆ·id&#39;,<br>  `email` varchar(128) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;email&#39;,<br>  `password` varchar(32) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;ç™»å½•å¯†ç &#39;,<br>  key idx_email(email)<br>) ENGINE=InnoDB  DEFAULT CHARSET=utf8mb4 COMMENT=&#39;ç”¨æˆ·è¡¨&#39;;<br><br><br>insert into t_user(email, password) values(&quot;admin@admin.com&quot;, &quot;qwe123&quot;);<br><br>è·å–è¡¨t_userçš„è‡ªå¢ID,å°†id + email + passwordæ•°æ®å†™å…¥innodb buffer pool,<br>å°†email + idå†™å…¥channge buffer, å†™redo log(prepareé˜¶æ®µ)ï¼Œ å†™binlog, æäº¤redo log(commit)<br><br><br>update t_user set password = &#39;123456&#39; where email = &#39;admin@admin.com&#39;;<br>è‹¥emailä¸ºadmin@admin.comçš„æ•°æ®ä¸å­˜åœ¨äºå†…å­˜ä¸­ï¼Œå¦‚æœä¸æ ¹æ®äºŒçº§ç´¢å¼•ä»ç£ç›˜è¯»å–æ•°æ®ï¼Œæ€ä¹ˆçŸ¥é“è¦ä¿®æ”¹å“ªäº›idçš„passwordã€‚<br><br><br>update t_user set password = &#39;123456&#39;, email = &#39;admin@admin.com&#39; where email = &#39;admin@admin.com&#39;;<br>è‹¥åŒæ—¶ä¿®æ”¹äºŒçº§ç´¢å¼•è·Ÿèšç°‡ç´¢å¼•çš„å€¼ï¼Œåˆæ˜¯å¦‚ä½•æ“ä½œ<br><br><br>ä¸å¤ªæ˜ç™½change bufferå¦‚ä½•åº”ç”¨äºä¿®æ”¹æ“ä½œè€Œä¸å»è¯»å–ç£ç›˜ã€‚è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯æ›´æ–°æ“ä½œmysqlä¼šè¿”å›å½±å“çš„è¡Œæ•°ï¼Œä¸é€šè¿‡è¯»å–äºŒçº§ç´¢å¼•è·å–ä¸»é”®IDå¦‚ä½•çŸ¥é“æ“ä½œäº†å¤šå°‘è¡Œã€‚<br>è¿˜è¯·è€å¸ˆè§£ç­”ä¸€ä¸‹ã€‚","like_count":0},{"had_liked":false,"id":262421,"user_name":"luke Y","can_delete":false,"product_type":"c1","uid":2311463,"ip_address":"","ucode":"111F98D367235B","user_header":"https://static001.geekbang.org/account/avatar/00/23/45/27/4fbf8f6a.jpg","comment_is_top":false,"comment_ctime":1605713767,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1605713767","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜ï¼Œåœ¨æ’å…¥æ—¶ï¼Œå°±åœ¨å†…å­˜çš„ change buffer åŒºåŸŸï¼Œè®°å½•ä¸‹â€œæˆ‘è¦å¾€ Page 2 æ’å…¥ä¸€è¡Œâ€è¿™ä¸ªä¿¡æ¯ï¼Œå¦‚æœè¿™ä¸ªè¿™ä¸ªæ’å…¥æ“ä½œä¸»é”®å†²çªè¿™ç±»é”™è¯¯ï¼Œæ•°æ®æ€ä¹ˆæ“ä½œ","like_count":0},{"had_liked":false,"id":260641,"user_name":"å­¦æ¸£è¦æ¯æ—¥è¿›æ­¥","can_delete":false,"product_type":"c1","uid":1111434,"ip_address":"","ucode":"0EB5CB54F2E890","user_header":"https://static001.geekbang.org/account/avatar/00/10/f5/8a/e0fa8730.jpg","comment_is_top":false,"comment_ctime":1605076393,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1605076393","product_id":100020801,"comment_content":"The change buffer is a special data structure that caches changes to secondary index pages when those pages are not in the buffer pool. è¿™ä¸ªæ˜¯åœ¨5.6çš„æ–‡æ¡£é‡Œæ‰¾åˆ°çš„ï¼Œchange bufferæ˜¯ä¸æ˜¯å°±æ˜¯ç¼“å­˜äºŒçº§ç´¢å¼•çš„ã€‚è¿™èŠ‚è¶Šçœ‹è¶Šæ‡µ","like_count":0},{"had_liked":false,"id":260395,"user_name":"x-rayîŒº","can_delete":false,"product_type":"c1","uid":1140175,"ip_address":"","ucode":"8363F0C4D0AC0B","user_header":"https://static001.geekbang.org/account/avatar/00/11/65/cf/326c0eea.jpg","comment_is_top":false,"comment_ctime":1604997091,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604997091","product_id":100020801,"comment_content":"æˆ‘è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œupdate t set k=k+1  where id=1; è¿™ä¸ªæ“ä½œï¼Œå‡è®¾ä¸€å¼€å§‹æ•°æ®ä¸åœ¨å†…å­˜é¡µä¸­ï¼Œä½†å› ä¸ºè§¦å‘å½“å‰è¯»ï¼Œæ‰€ä»¥å°±ä¸€å®šéœ€è¦æŠŠæ•°æ®å…ˆä»ç£ç›˜é‡Œè¯»åˆ°å†…å­˜ï¼Œæ‰€ä»¥ä¸ä¼šå†™change bufferã€‚æ˜¯å¦å¯ä»¥è¿™æ ·ç†è§£ï¼Ÿç„¶åï¼Œupdate t set k=3  where id=1; å‡è®¾è¿™ä¸ªä¸€å¼€å§‹æ•°æ®ä¹Ÿä¸åœ¨å†…å­˜ä¸­ï¼Œä½†ä¸è§¦å‘å½“å‰è¯»ï¼Œæ‰€ä»¥ä¼šå…ˆå†™change bufferã€‚ä¸çŸ¥é“æ˜¯å¦å¯ä»¥è¿™æ ·ç†è§£ï¼Ÿ","like_count":0},{"had_liked":false,"id":259985,"user_name":"é’æ˜¥","can_delete":false,"product_type":"c1","uid":2290433,"ip_address":"","ucode":"E972B44378B4FF","user_header":"https://static001.geekbang.org/account/avatar/00/22/f3/01/01fc7d36.jpg","comment_is_top":false,"comment_ctime":1604903462,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604903462","product_id":100020801,"comment_content":"ä¸è€å¸ˆä½ å¥½ï¼Œæˆ‘æœ‰ç‚¹ä¸æ˜ç™½ä¸ŠæœŸçš„ç­”æ¡ˆä¸ºä»€ä¹ˆæ˜¯é‚£æ ·ï¼Œæ¯”å¦‚è¡¨ä¸­çš„æ•°æ®å°±å’Œæ‚¨ç»™çš„æˆªå›¾ä¸­ä¸€æ ·ï¼Œå¹¶ä¸”Bäº‹åŠ¡çš„æ‰§è¡Œæ˜¯æ›´æ–°c=c+1,é‚£ä¹ˆæ­¤æ—¶è¡¨ä¸­çš„æ•°æ®åº”è¯¥æ˜¯(1,2)(2,3),(3,4)(4,5)ï¼Œæ­¤æ—¶Aäº‹åŠ¡æ‰§è¡Œupdate t set c=0 where id = c,ä¹Ÿå°±æ˜¯è¯´æŠŠid=2,id=3,id=4,id=5çš„è¡Œå¯¹åº”çš„cå˜æˆ0å—ï¼Ÿè¿™æ ·éš¾é“ä¸å¯ä»¥å—ï¼Ÿè¡¨ä¸­æ˜¯æœ‰æ•°æ®ç¬¦åˆwhereæ¡ä»¶çš„å•Šã€‚ã€‚","like_count":0},{"had_liked":false,"id":258370,"user_name":"Acã€","can_delete":false,"product_type":"c1","uid":1610575,"ip_address":"","ucode":"7E7A8458372F33","user_header":"https://static001.geekbang.org/account/avatar/00/18/93/4f/61edeea6.jpg","comment_is_top":false,"comment_ctime":1604400113,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1604400113","product_id":100020801,"comment_content":"å¦‚æœæ˜¾å¼çš„æ’å…¥ä¸€ä¸ªä¸»é”®idï¼Œè¿™ç§æƒ…å†µæ˜¯ç”¨ä¸äº†change buffèƒ½ç†è§£ã€‚ä½†æ˜¯ï¼Œå¦‚æœidæ˜¯è‡ªå¢çš„ï¼Œæ’å…¥æ•°æ®æ—¶ï¼Œæ²¡æœ‰æ˜¾å¼çš„æ’å…¥ï¼Œä¹Ÿæ˜¯ç”¨ä¸äº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":257039,"user_name":"w","can_delete":false,"product_type":"c1","uid":2175594,"ip_address":"","ucode":"946342E3403658","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/G6oFFzWeEHQa54myibozBNw88hwOd8C5EjU1KWRkPlqmRlZ0ycC16jjCbvvovg9tyGhD70GFdibQTCsaYup6lPEg/132","comment_is_top":false,"comment_ctime":1603842040,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603842040","product_id":100020801,"comment_content":"è¯·æ•™ä¸€ä¸‹è€å¸ˆï¼Œè¿™æ ·ç†è§£å¯¹å—ï¼šchange bufferä¸­è®°å½•äº†å¯¹ä¸€ä¸ªä¸å­˜åœ¨buffer poolä¸­çš„pageçš„æ›´æ–°æˆ–æ’å…¥æ“ä½œï¼Œå¹¶è®°å½•äº†redo logï¼Œå½“è®¿é—®è¯¥æ•°æ®é¡µæ—¶ï¼Œè¯¥é¡µè¢«è¯»å…¥å†…å­˜ä¹‹åä¼šè§¦å‘mergeï¼Œå°†change bufferçš„æ“ä½œåº”ç”¨åˆ°å†…å­˜é¡µä¸­ï¼Œåœ¨ä¹‹ååˆ·è„é¡µæ—¶å°±ä¼šå†™å…¥ç£ç›˜äº†ï¼›<br><br>é—®é¢˜ï¼šå¦‚æœredo logå†™æ»¡äº†éœ€è¦å°†checkpointå¾€å‰æ¨è¿›ï¼Œä½†è¿™ä¸ªæ•°æ®é¡µä¸€ç›´æ²¡æœ‰è¢«è®¿é—®å’Œmergeï¼Œé‚£ä¹ˆåˆ·è„é¡µçš„è¿‡ç¨‹æ˜¯æ€æ ·çš„å‘¢ï¼Ÿä¼šå…ˆæŠŠæ•°æ®è¯»å…¥å†…å­˜mergeä¹‹ååˆ·è„é¡µå‘¢è¿˜æ˜¯ç›´æ¥æ‰§è¡Œredo logä¸Šçš„æ“ä½œåˆ°ç£ç›˜ï¼Œè¯¥é¡µå§‹ç»ˆæ²¡æœ‰è¢«è¯»å…¥å†…å­˜å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":256461,"user_name":"nickyang","can_delete":false,"product_type":"c1","uid":2257533,"ip_address":"","ucode":"E553ED42482DCD","user_header":"","comment_is_top":false,"comment_ctime":1603629789,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603629789","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘æœ‰ä¸ªç–‘æƒ‘ï¼Œæ˜¯ä¸æ˜¯å»ºç«‹äº†å”¯ä¸€ç´¢å¼•åï¼Œè¡¨ä¸­çš„æ•°æ®å°±ä»¥b+æ ‘çš„æ–¹å¼å­˜å‚¨äº†å‘¢ï¼Ÿ æ¯”å¦‚æ–‡ç« ä¸­è¯´çš„ï¼Œåœ¨å”¯ä¸€ä¸»é”®çš„æƒ…å†µä¸‹ï¼Œæ›´æ–°ä¸€æ¡æ•°æ®ï¼Œä½†æ˜¯æ‰€åœ¨æ•°æ®é¡µä¸åœ¨å†…å­˜ä¸­ï¼Œå°±ä»ç£ç›˜ä¸­å…ˆè¯»å‡ºæ•°æ®é¡µï¼Œè¿™ä¸ªè¯»å‡ºçš„æ•°æ®é¡µæ˜¯ä»¥b+æ ‘çš„æ–¹å¼ç»„ç»‡çš„ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":255721,"user_name":"CharAt","can_delete":false,"product_type":"c1","uid":1813207,"ip_address":"","ucode":"D7D44B48FC4E79","user_header":"https://static001.geekbang.org/account/avatar/00/1b/aa/d7/a417ad5b.jpg","comment_is_top":false,"comment_ctime":1603418205,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603418205","product_id":100020801,"comment_content":"ä¸€æ·±æ€å®Œå…¨ä¸æ‡‚ï¼Œå»ç½‘ä¸Šæ‰¾å‘ç°æ‰¾åˆ°çš„éƒ½æ˜¯è€å¸ˆåœ¨æ–‡ç« çš„æƒ…å†µï¼›å¸Œæœ›è€å¸ˆå¯ä»¥è§£ç­”<br>å‡è®¾ è¡¨t (id,b,c)    cæ˜¯æ™®é€šç´¢å¼•(ä»¥ä¸‹æƒ…å†µéƒ½æ˜¯ï¼Œbæ˜¯æ™®é€šå­—æ®µ)<br>1ã€åœ¨æ’å…¥ä¸€æ¡å®Œæ•´æ•°æ®æ—¶ï¼Œchangebuffer ä¼šå¾—åˆ°ä½¿ç”¨å—ï¼Ÿå‡è®¾ä½¿ç”¨äº†ï¼Œidä¹Ÿå±äºå”¯ä¸€ç´¢å¼•çš„ä¸€ç§ã€‚é‚£å‡è®¾bæ˜¯å”¯ä¸€ç´¢å¼•ï¼Œåœ¨æ’å…¥ä¸€æ¡å®Œæ•´çš„æ•°æ®ï¼Œæ˜¯ä¸æ˜¯å°±ä¸ä¼šä½¿ç”¨åˆ°changebufferäº†ï¼Ÿå’Œä¸é€‚ç”¨å”¯ä¸€ç´¢å¼•ç›¸è¿èƒŒã€‚<br>2ã€åœ¨æ›´æ–°æ“ä½œçš„æ—¶å€™ï¼Œæˆ‘çœ‹è§è€å¸ˆè¯„è®ºä¸­è¯´ï¼šupdate&#47;delete where id=N å°±ä¼šä½¿ç”¨åˆ°changebufferï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ é‚£å¦‚æœæ˜¯update t set b =1 where c=1; ä¹Ÿä¼šä½¿ç”¨åˆ°changebufferå§ï¼Ÿ<br>æ±‚ç¿»æ‹ï¼Œæ±‚è·¯äººè§£ç­”","like_count":0},{"had_liked":false,"id":255400,"user_name":"æœå…°ç‰¹æœ‰ä¸¶å°å¸…","can_delete":false,"product_type":"c1","uid":1320433,"ip_address":"","ucode":"9E1FA13BA68E87","user_header":"https://static001.geekbang.org/account/avatar/00/14/25/f1/f7a11901.jpg","comment_is_top":false,"comment_ctime":1603336882,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1603336882","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘è¿˜æœ‰ä¸ªç–‘é—®ã€‚å¦‚æœè¯´change bufferæ˜¯ä¸ºäº†å‡å°‘æ›´æ–°æ—¶ç£ç›˜çš„éšæœºè¯»å–ï¼Œé‚£å¯¹äºrawæ ¼å¼çš„binlogï¼Œä¼¼ä¹æ˜¯å¿…é¡»è¯»å–åŸæ¥çš„å€¼çš„ï¼Œé‚£ä¹ˆæ­¤æ—¶change bufferæ˜¯ä¸æ˜¯å°±ä¸ç”Ÿæ•ˆäº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":254894,"user_name":"çŒ´å“¥ä¸€ä¸€ cium","can_delete":false,"product_type":"c1","uid":1254801,"ip_address":"","ucode":"38EC64F8D1A0B4","user_header":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","comment_is_top":false,"comment_ctime":1603207697,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1603207697","product_id":100020801,"comment_content":"çœ‹ä¸‹æ¥æ€»ç»“çš„ç»“è®ºï¼Œè®°å½•ä¸€ä¸‹ï¼š<br>æˆ‘è¿™æ ·ç†è§£ä¸‹ï¼Œå¯¹ä¸å¯¹ï¼Ÿ<br>update t set name=xxx where k=xxx<br>name , k éƒ½æ˜¯æ™®é€šç´¢å¼•å­—æ®µ<br>å¸¦ç´¢å¼•æ¡ä»¶çš„æ›´æ–°ï¼Œå¦‚ where k = xxï¼Œå› ä¸ºå®šä½çš„è¿‡ç¨‹éœ€è¦æŸ¥è¯¢ç´¢å¼•Kï¼Œå°†ç´¢å¼•kè¯»åˆ°å†…å­˜ï¼Œæ‰€ä»¥å¯¹äºç´¢å¼•Kï¼Œä¸èƒ½äº«å—åˆ°change bufferçš„æ”¶ç›Šï¼Œ<br>ä½†æ˜¯å¯¹äºè¦æ›´æ–°çš„å­—æ®µï¼ˆæ™®é€šç´¢å¼•ï¼‰ï¼Œå¦‚ name =xxxï¼Œå°±ä¸éœ€è¦å†å»æŸ¥è¯¢äº†ï¼Œèƒ½äº«å—change bufferçš„æ”¶ç›Šã€‚","like_count":0},{"had_liked":false,"id":253750,"user_name":"å‡¡ä¸å‡¡","can_delete":false,"product_type":"c1","uid":1284568,"ip_address":"","ucode":"13F8511E0848B8","user_header":"https://static001.geekbang.org/account/avatar/00/13/99/d8/cea69b21.jpg","comment_is_top":false,"comment_ctime":1602852979,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602852979","product_id":100020801,"comment_content":"ğŸ‘","like_count":0},{"had_liked":false,"id":253286,"user_name":"çŒ´å“¥ä¸€ä¸€ cium","can_delete":false,"product_type":"c1","uid":1254801,"ip_address":"","ucode":"38EC64F8D1A0B4","user_header":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","comment_is_top":false,"comment_ctime":1602674219,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1602674219","product_id":100020801,"comment_content":"æ ¹æ®æ–‡ç« å†…å®¹+è¯„è®ºä¸­å¾—åˆ°ä¸€ä¸ªç»“è®º:<br>change buffer å¯ä»¥è§£å†³ update å…ˆè¯»åæ›´æ–°çš„é—®é¢˜,<br>update æ“ä½œ,ç›´æ¥ä¸¢ä¸ª change buffer æ“ä½œå°±è¿”å›äº†,æ„Ÿè§‰åƒæ˜¯ä¸€ä¸ªå¼‚æ­¥è¡Œä¸ºå‘¢?<br>è¿™ç§æƒ…å†µä¸‹,æ˜¯æ€ä¹ˆä¿è¯è¿”å›æ­£ç¡®çš„ affectted rows å‘¢?<br><br>ç–‘æƒ‘æ¥è‡ªä½œè€…å¯¹@ã€‚ã€‚ã€‚ã€‚åŒå­¦çš„å›ç­”<br>æ„Ÿè°¢èƒ½è§£é‡Šä¸€ä¸‹.","like_count":0},{"had_liked":false,"id":251197,"user_name":"å¿«ä¹çš„å¹³å¤´å“¥","can_delete":false,"product_type":"c1","uid":1635388,"ip_address":"","ucode":"D7D2FA5DA6D8BF","user_header":"https://static001.geekbang.org/account/avatar/00/18/f4/3c/60bf7a17.jpg","comment_is_top":false,"comment_ctime":1601403858,"is_pvip":false,"replies":[{"id":"92524","content":"è¿™ä¸¤ä¸ªæ¦‚å¿µæœ‰ç‚¹æ··æ·†äº†å“¦<br>å¦‚æœæ•°æ®æ²¡æœ‰åˆ·ç›˜ï¼Œå°±ä¸€å®šä¼šåœ¨å†…å­˜ä¸­ï¼ŒæŸ¥è¯¢è¿‡ç¨‹ä¸ä¼šéœ€è¦å»è¯»redologçš„<br>ï¼ˆå¦åˆ™è¿™ä¸ªé€Ÿåº¦å°±å¤ªæ…¢äº†ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1602664209,"ip_address":"","comment_id":251197,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1601403858","product_id":100020801,"comment_content":"çªç„¶æƒ³åˆ°ä¸€ä¸ªç¥å¥‡çš„é—®é¢˜ å°±æ˜¯å»ºäº†å”¯ä¸€ç´¢å¼• changebufferä¸ä¼šç”Ÿæ•ˆ.ç„¶åè¦æŸ¥è¯¢çš„æ•°æ®ä¹Ÿä¸åœ¨å†…å­˜ä¸­ è¿™æ—¶å€™ æ˜¯ä¸æ˜¯å°±è¦åˆå¹¶redologçš„æ•°æ® æ‰èƒ½å¾—åˆ°æ­£ç¡®çš„ç»“æœäº†ï¼ˆå‡è®¾è¿™æ—¶å€™redologè¿˜æ²¡åˆ·ç›˜ï¼‰","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506414,"discussion_content":"è¿™ä¸¤ä¸ªæ¦‚å¿µæœ‰ç‚¹æ··æ·†äº†å“¦\nå¦‚æœæ•°æ®æ²¡æœ‰åˆ·ç›˜ï¼Œå°±ä¸€å®šä¼šåœ¨å†…å­˜ä¸­ï¼ŒæŸ¥è¯¢è¿‡ç¨‹ä¸ä¼šéœ€è¦å»è¯»redologçš„\nï¼ˆå¦åˆ™è¿™ä¸ªé€Ÿåº¦å°±å¤ªæ…¢äº†ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602664209,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":251173,"user_name":"JOHN","can_delete":false,"product_type":"c1","uid":1692942,"ip_address":"","ucode":"6936DE275AA543","user_header":"https://static001.geekbang.org/account/avatar/00/19/d5/0e/dae566c7.jpg","comment_is_top":false,"comment_ctime":1601388339,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1601388339","product_id":100020801,"comment_content":"æˆ‘çœ‹mysqlçš„æ–‡æ¡£ï¼Œchange bufferæ˜¯ä½œç”¨äºäºŒçº§ç´¢å¼•çš„å•Š","like_count":0,"discussions":[{"author":{"id":1008468,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/63/54/c9475cd0.jpg","nickname":"cz","note":"","ucode":"96385190176F78","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392266,"discussion_content":"æ–‡ç« ä¸€ç›´åœ¨å¼ºè°ƒå”¯ä¸€ç´¢å¼•ï¼Œ å› ä¸ºä¸»é”®æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥change buffer è‚¯å®šåªèƒ½ä½œç”¨äºæ™®é€šç´¢å¼•ã€‚\n\næ–‡ç« ä¸€ç›´è¿™ä¹ˆå¼ºè°ƒï¼Œå…¶å®æœ‰ç‚¹è¯¯å¯¼ã€‚ æˆ‘ä¹Ÿæ˜¯ä»Šå¤©ç¿»MySQLæ–‡æ¡£æ‰è¯»åˆ°çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630927737,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312379,"discussion_content":"ä½ è¯´çš„å¯¹å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602673460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":248223,"user_name":"æœ¨å­00","can_delete":false,"product_type":"c1","uid":1314724,"ip_address":"","ucode":"8F78CA722EB29B","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/a4/0b49469f.jpg","comment_is_top":false,"comment_ctime":1600070509,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1600070509","product_id":100020801,"comment_content":"è€å¸ˆæœ‰ä¸ªé—®é¢˜ï¼š<br>è¿™ä¸ªè®°å½•çš„æ›´æ–°çš„æ•°æ®é¡µåœ¨å†…å­˜ä¸­ï¼Œè¿™ä¸¤ä¸ªç´¢å¼•çš„åŒºåˆ«å°±æ˜¯å”¯ä¸€ç´¢å¼•å¤šäº†ä¸€ä¸ªåˆ¤æ–­ã€‚åç»­çš„æ“ä½œå°±æ˜¯æ’å…¥æ›´æ–°çš„å€¼ã€‚æˆ‘æƒ³çŸ¥é“çš„æ˜¯ï¼š1.æ’å…¥è¿™ä¸ªå€¼çš„é€»è¾‘æ˜¯ä»€ä¹ˆï¼Ÿ2.æŸ¥è¯¢æ—¶å€™çš„é€»è¾‘æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":246456,"user_name":"Geek2808","can_delete":false,"product_type":"c1","uid":2028948,"ip_address":"","ucode":"835C9691723163","user_header":"","comment_is_top":false,"comment_ctime":1599359061,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599359061","product_id":100020801,"comment_content":"æœ€åçš„ä¾‹å­é‡Œï¼š<br>è¦è¯» Page 2 çš„æ—¶å€™ï¼Œéœ€è¦æŠŠ Page 2 ä»ç£ç›˜è¯»å…¥å†…å­˜ä¸­ï¼Œç„¶ååº”ç”¨ change buffer é‡Œé¢çš„æ“ä½œæ—¥å¿—ï¼Œç”Ÿæˆä¸€ä¸ªæ­£ç¡®çš„ç‰ˆæœ¬å¹¶è¿”å›ç»“æœã€‚<br>è¿™é‡Œè¯»page2çš„æ—¶å€™è¿˜æ˜¯ä¼šæœ‰ä¸€æ¬¡ç£ç›˜éšæœºè¯»å…¥ï¼Ÿ","like_count":0},{"had_liked":false,"id":245821,"user_name":"Magic","can_delete":false,"product_type":"c1","uid":1272047,"ip_address":"","ucode":"FD9CEDAA419EB0","user_header":"https://static001.geekbang.org/account/avatar/00/13/68/ef/6264ca3d.jpg","comment_is_top":false,"comment_ctime":1599061239,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1599061239","product_id":100020801,"comment_content":"change bufferä¹Ÿæ˜¯ä¼šè½ç›˜çš„ï¼Œå› æ­¤æ‰ç”µåå¯ä»¥è¯»ç›˜æ¢å¤ï¼Œä½†æ˜¯å› ä¸ºè½ç›˜æ˜¯åå°çº¿ç¨‹å®šæ—¶åˆ·ç›˜ï¼Œå› æ­¤å¯èƒ½éƒ¨åˆ†æ•°æ®æœªåŠæ—¶è½ç›˜è€Œä¸¢å¤±ã€‚ä¸ç”¨æ€•ï¼Œæˆ‘ä»¬è¿˜æœ‰redo logï¼Œè¿™æ­£æ˜¯å…¶å¤§å±•èº«æ‰‹çš„æ—¶åˆ»ã€‚æˆ‘ä»¬æ ¹æ®redo logä¸­checkpointä½ç½®ï¼Œè¯»å–å·²æäº¤äº‹åŠ¡ï¼Œå¦‚æœäº‹åŠ¡ä¿®æ”¹çš„æ•°æ®é¡µå·²ç»åœ¨å†…å­˜ä¸­ï¼Œåˆ™ç›´æ¥ä¿®æ”¹å†…å­˜ã€‚å¦åˆ™æ ¹æ®æƒ…å†µçœ‹æ˜¯ç›´æ¥å†™change bufferï¼Œè¿˜æ˜¯è¯»ç£ç›˜ã€‚","like_count":0},{"had_liked":false,"id":245253,"user_name":"zj","can_delete":false,"product_type":"c1","uid":1100064,"ip_address":"","ucode":"E3329CCF694AC2","user_header":"https://static001.geekbang.org/account/avatar/00/10/c9/20/e4f1b17c.jpg","comment_is_top":false,"comment_ctime":1598876866,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598876866","product_id":100020801,"comment_content":"ç»™å¤§å®¶è§£æƒ‘ä¸€ä¸‹ï¼Œçœ‹äº†ä¸‹å¾ˆå¤šè¯„è®ºï¼Œæœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼Œchange bufferç”¨äºæ›´æ–°éå”¯ä¸€ç´¢å¼•æ•°æ®é¡µçš„ï¼Œé€šè¿‡change bufferæ¥åšå†™ç¼“å†²ï¼Œä¹Ÿé™ä½äº†éšæœºè¯»å–æ•°æ®é¡µã€‚é€šè¿‡åå°çº¿ç¨‹mergeåˆ°åŸæ•°æ®é¡µ","like_count":0},{"had_liked":false,"id":244578,"user_name":"å¸…æ°”ã®boy","can_delete":false,"product_type":"c1","uid":1517767,"ip_address":"","ucode":"30DCA27B9F8459","user_header":"https://static001.geekbang.org/account/avatar/00/17/28/c7/c5c67391.jpg","comment_is_top":false,"comment_ctime":1598585173,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598585173","product_id":100020801,"comment_content":"è¿™ç¯‡æ–‡ç« è¯»äº†ä¸¤ä¸‰éæ‰æ˜ç™½ â€œchange buffer ä¸»è¦èŠ‚çœçš„åˆ™æ˜¯éšæœºè¯»ç£ç›˜çš„ IO æ¶ˆè€—â€ è¿™å¥è¯çš„æ„æ€ã€‚<br>change buffer çš„ä½œç”¨æ˜¯åœ¨æ›´æ–°æ•°æ®çš„æ—¶å€™ï¼Œå½“æ•°æ®é¡µä¸åœ¨å†…å­˜ä¸­ï¼Œé¿å…ä»ç£ç›˜ä¸­è¯»å–æ•°æ®è¿›å†…å­˜ä¸­ï¼ˆè¿™æ ·è¯»å–æ•°æ®å±äºéšæœºè¯»ç£ç›˜ï¼Œç£ç›˜éšæœºè¯»æ•°æ®éœ€è¦å¯»é“ç­‰æ“ä½œéå¸¸è€—æ—¶ï¼‰ï¼Œè€Œæ˜¯åœ¨çœŸæ­£éœ€è¦è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œæ‰è¿›è¡Œè¯»å–ç„¶ååº”ç”¨change bufferä¸­çš„æ“ä½œã€‚change buffer â€œèŠ‚çœçš„åˆ™æ˜¯éšæœºè¯»ç£ç›˜çš„ IO æ¶ˆè€—â€ æ˜¯èŠ‚çœæ›´æ–°æ•°æ®æ—¶å€™çš„è¯»ç£ç›˜æ“ä½œã€‚","like_count":0},{"had_liked":false,"id":243523,"user_name":"Geek_26d259","can_delete":false,"product_type":"c1","uid":2066952,"ip_address":"","ucode":"A754206C768474","user_header":"","comment_is_top":false,"comment_ctime":1598167822,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1598167822","product_id":100020801,"comment_content":"è€å¸ˆå¥½  ä¸ŠæœŸé—®é¢˜ä¸­çš„ç»“æœç»™céƒ½åŠ äº†1ä¸åº”è¯¥æ˜¯ 2 3 4 5å—? å¤ªæ‡µäº†","like_count":0},{"had_liked":false,"id":241715,"user_name":"Linster","can_delete":false,"product_type":"c1","uid":1116129,"ip_address":"","ucode":"D68D014AF51C81","user_header":"https://static001.geekbang.org/account/avatar/00/11/07/e1/9a8600dc.jpg","comment_is_top":false,"comment_ctime":1597398848,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1597398848","product_id":100020801,"comment_content":"è¯·é—®ä¸ºå•¥è¿™ç§é’ˆå¯¹å”¯ä¸€é”®çš„æ›´æ–°æ“ä½œï¼Œä¼šå±•ç¤º2 rows affectedå‘¢ï¼Ÿ<br>MariaDB [test]&gt; select * from user_info\\G<br>*************************** 1. row ***************************<br>    uid: 103<br>    age: 3<br>  score: 199.99<br>   name: uid_103<br>parents: NULL<br>address: NULL<br>  ctime: 2020-08-14 17:31:43<br>*************************** 2. row ***************************<br>    uid: 176<br>    age: 1<br>  score: 1.11<br>   name: a_new_user<br>parents: NULL<br>address: NULL<br>  ctime: 2020-06-18 14:12:44<br>2 rows in set (0.00 sec)<br><br>MariaDB [test]&gt; INSERT INTO user_info (`ctime`,`uid`,`age`,`score`,`name`) VALUES (&#39;2020-08-14 17:31:43&#39;, &#39;103&#39;, &#39;3&#39;, &#39;99.99&#39;, &#39;uid_103&#39;) ON DUPLICATE KEY UPDATE `name`=VALUES(`name`), `ctime`=VALUES(`ctime`), `uid`=VALUES(`uid`), `age`=VALUES(`age`), `score`=VALUES(`score`);<br>Query OK, 2 rows affected (0.04 sec)<br><br>MariaDB [test]&gt; select * from user_info\\G<br>*************************** 1. row ***************************<br>    uid: 103<br>    age: 3<br>  score: 99.99<br>   name: uid_103<br>parents: NULL<br>address: NULL<br>  ctime: 2020-08-14 17:31:43<br>*************************** 2. row ***************************<br>    uid: 176<br>    age: 1<br>  score: 1.11<br>   name: a_new_user<br>parents: NULL<br>address: NULL<br>  ctime: 2020-06-18 14:12:44<br>2 rows in set (0.00 sec)<br>","like_count":0},{"had_liked":false,"id":241339,"user_name":"youngitachi","can_delete":false,"product_type":"c1","uid":1214582,"ip_address":"","ucode":"88717CA8B8ED64","user_header":"https://static001.geekbang.org/account/avatar/00/12/88/76/c69b7fe5.jpg","comment_is_top":false,"comment_ctime":1597253147,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1597253147","product_id":100020801,"comment_content":"å¯¹äºâ€œredo logèŠ‚çœçš„æ˜¯éšæœºå†™ç£ç›˜IOçš„æ¶ˆè€—ï¼Œè€Œchange bufferä¸»è¦èŠ‚çœçš„æ˜¯éšæœºè¯»ç£ç›˜IOçš„æ¶ˆè€—â€çš„ç†è§£ï¼Œæˆ‘æ˜¯è¿™ä¹ˆæ€è€ƒçš„ï¼š<br>å‡è®¾å¯¹ä¸€é¡µæ•°æ®è¿›è¡Œäº†å¤šæ¬¡updateï¼Œé‚£ä¹ˆå¦‚æœä¸å†™redo logï¼Œåˆ™æ¯æ¬¡éƒ½è¦è®¿é—®ç£ç›˜å»å†™ï¼Œè‚¯å®šå¾ˆæ…¢ï¼Œå› æ­¤redo logå°±æ˜¯ä¸ºäº†èŠ‚çœè¿™æ ·çš„æ—¶é—´å¼€é”€ï¼Œä¸€æ¬¡å†™ç£ç›˜å¤šä¸ªæ•°æ®è€Œä¸æ˜¯å¤šæ¬¡å†™ç£ç›˜ï¼Œæ¯æ¬¡åªå†™ä¸€ä¸ªæ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¯´redo logèŠ‚çœçš„æ˜¯å†™ç£ç›˜IOçš„æ¶ˆè€—ã€‚<br>é‚£ä¹ˆå¦‚æœæ²¡æœ‰change bufferå‘¢ï¼Œç£ç›˜å°±åªèƒ½åœ¨è¯»çš„æ—¶å€™å¼ºè¡Œå…ˆæ‰§è¡Œredo logæŠŠä¿®æ”¹å…¨éƒ¨å†™å…¥ç£ç›˜ç„¶åå†è¯»å–ç£ç›˜ï¼›è€Œå¦‚æœæœ‰change bufferï¼Œåˆ™è¿™ä¸ªæ—¶å€™ä¹Ÿä¸å¿…éå¾—è®²redo logå†™å…¥ç£ç›˜ï¼Œç›´æ¥è¯»å–ç£ç›˜ï¼Œç„¶ååˆ©ç”¨change bufferçš„mergeæ“ä½œä¿®æ”¹å†…å­˜æ•°æ®è¿”å›å³å¯<br>æŒ‰æ—¶è¿™ä¹ˆæ¥çœ‹ï¼Œchange bufferå¥½åƒè¿˜æ˜¯èŠ‚çœäº†å†™çš„æ—¶é—´å‘¢ï¼Œè¯·è€å¸ˆæŒ‡æ­£","like_count":0},{"had_liked":false,"id":240114,"user_name":"å­¦æµ·æ±‚çŸ¥","can_delete":false,"product_type":"c1","uid":1087085,"ip_address":"","ucode":"9341438DBCD6E5","user_header":"https://static001.geekbang.org/account/avatar/00/10/96/6d/affdb86c.jpg","comment_is_top":false,"comment_ctime":1596764594,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596764594","product_id":100020801,"comment_content":"å¾ˆå¥½å¥‡ä¸€ä¸ªé—®é¢˜ï¼Œchangebuffç¼“å­˜äº†æ›´æ–°ï¼Œè¿™åº”è¯¥åªæ˜¯åœ¨binlog formatä¸ºsatementçš„æƒ…å†µä¸‹æŠŠï¼Ÿ<br>binlog formatä¸ºrowçš„æ—¶å€™ï¼Œbinlogå¤©ç„¶éœ€è¦è®°å½•æ›´æ–°å‰å’Œæ›´æ–°åçš„æ•°æ®ï¼Œå¿…ç„¶è¦è¿›è¡Œè¯»æ“ä½œï¼Œé‚£æ˜¯ä¸æ˜¯changebufferä¹Ÿæ— æ³•ç”Ÿæ•ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":240065,"user_name":"tito","can_delete":false,"product_type":"c1","uid":2083874,"ip_address":"","ucode":"26B3C23098B9E0","user_header":"https://static001.geekbang.org/account/avatar/00/1f/cc/22/6294d43b.jpg","comment_is_top":false,"comment_ctime":1596733167,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596733167","product_id":100020801,"comment_content":"è€å¸ˆ ä½ å¥½ ä¹‹å‰æˆ‘ä»¬çº¿ä¸Šç³»ç»Ÿåœ¨å¹¶å‘é‡è¾ƒå¤§çš„æ—¶å€™å‘ç”Ÿäº†äº›é—®é¢˜ï¼Œå½“æ—¶æ˜¯é€šè¿‡updateåçš„è¿”å›å€¼æ¥åˆ¤æ–­æ˜¯å¦ä¿å­˜æˆåŠŸï¼Œä½†æ˜¯å‘ç°æœ‰æ—¶å€™æˆåŠŸäº†ä¹Ÿè¿”å›0ï¼Œä»Šå¤©çœ‹äº†è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘åœ¨æƒ³æ˜¯ä¸æ˜¯å› ä¸ºchange bufferå¯¼è‡´çš„å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":239484,"user_name":"moonfox","can_delete":false,"product_type":"c1","uid":1526355,"ip_address":"","ucode":"902BFF40EFA9FA","user_header":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","comment_is_top":false,"comment_ctime":1596545675,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596545675","product_id":100020801,"comment_content":"æ›´æ–°æŸä¸€æ¡æ•°æ®ä¸æ˜¯éƒ½è¦å…ˆæŸ¥è¯¢ä¹ˆï¼Œè¿™æ ·çš„è¯è¦è®¿é—®ç£ç›˜å‘€ï¼Œä½†change buffer ä¸å°±æ˜¯ä¸ºäº†é¿å…è®¿é—®ç£ç›˜ä¹ˆï¼Œæˆ–å°½å¯èƒ½å¾—å°‘è®¿é—®ç£ç›˜","like_count":0},{"had_liked":false,"id":238821,"user_name":"Geek_e8d55e","can_delete":false,"product_type":"c1","uid":1602239,"ip_address":"","ucode":"5F13626B0E1E45","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKyobcyicicCQoldZofsS36xrjA2R2hk2F89pu1hCqwjlRaRG4xKkgCicZibEVdOwpfN5rWjEchrsxicSQ/132","comment_is_top":false,"comment_ctime":1596333434,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596333434","product_id":100020801,"comment_content":"æƒ³é—®ä¸‹ï¼Œå½“æ’å…¥ä¸€æ¡æ•°æ®ï¼Œæˆ–è€…ä¿®æ”¹æŸä¸ªç´¢å¼•å€¼ï¼Œå¼•èµ·çš„æ•°æ®é¡µæ‹†åˆ†æ˜¯ä»€ä¹ˆæ—¶å€™åšçš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":238022,"user_name":"jjyyun","can_delete":false,"product_type":"c1","uid":1592576,"ip_address":"","ucode":"8824654F673087","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLIzE6JOuXsOamCWiaq8sHHVyCK44bdIOEqnE42veoZPEqxs5IJ8RT1Hicz0ZlPQFcbEFSwjV7icrfEw/132","comment_is_top":false,"comment_ctime":1596029045,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1596029045","product_id":100020801,"comment_content":"æ²¡çœ‹æ‡‚ä¸ºä»€ä¹ˆéœ€è¦æ¢å¤change bufferï¼Ÿredologå’Œbinlogä¿è¯æ•°æ®çš„æ­£ç¡®æ€§å°±è¡Œäº†å•Š","like_count":0},{"had_liked":false,"id":237544,"user_name":"Geek","can_delete":false,"product_type":"c1","uid":2068208,"ip_address":"","ucode":"946001E85300BE","user_header":"https://static001.geekbang.org/account/avatar/00/1f/8e/f0/11994677.jpg","comment_is_top":false,"comment_ctime":1595859546,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595859546","product_id":100020801,"comment_content":"å¦‚ä½•å¿«é€Ÿè®°ä½å¹¶ç†è§£è¿™äº›çŸ¥è¯†","like_count":0},{"had_liked":false,"id":237543,"user_name":"Geek","can_delete":false,"product_type":"c1","uid":2068208,"ip_address":"","ucode":"946001E85300BE","user_header":"https://static001.geekbang.org/account/avatar/00/1f/8e/f0/11994677.jpg","comment_is_top":false,"comment_ctime":1595859327,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595859327","product_id":100020801,"comment_content":"ä¸€äº›ä¸œè¥¿å…¨é è®°å¿†ï¼Œå’Œé€»è¾‘æƒ³è±¡ï¼Œçœ‹èµ·æ¥æœ‰äº›åƒåŠ›ï¼Œè®°ä¸ä½ï¼Œè®°ä½åˆå¿˜ã€‚","like_count":0},{"had_liked":false,"id":237091,"user_name":"å‰è‰¯å‰å½±å¾—æ‰‹äº†","can_delete":false,"product_type":"c1","uid":2082871,"ip_address":"","ucode":"76ECBA001C7448","user_header":"https://static001.geekbang.org/account/avatar/00/1f/c8/37/60af0a24.jpg","comment_is_top":false,"comment_ctime":1595673103,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595673103","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¯¹äºæ–‡ä¸­çš„ä¾‹å­ï¼Œå¦‚æœæ²¡æœ‰å¼€change bufferï¼Œk2æ‰€åœ¨çš„æ•°æ®ä¸åœ¨å†…å­˜ä¸­ï¼Œè¿™ä¸ªæ—¶å€™å†™å…¥çš„è¿‡ç¨‹ï¼Œæ˜¯å…ˆæŠŠk2çš„æ•°æ®è¯»å…¥å†…å­˜ï¼Œç„¶ååœ¨å†…å­˜ä¸­æ›´æ–°ï¼Œå†å†™redo logï¼Ÿæ‰€ä»¥ï¼ŒåŠ äº†change bufferåœ¨å†™å…¥è¿‡ç¨‹ä¸­ï¼Œä¸éœ€è¦è¯»å…¥å†…å­˜ï¼Œå‡å°‘äº†è¯»ç£ç›˜çš„å¼€é”€ï¼Ÿ","like_count":0},{"had_liked":false,"id":236675,"user_name":"xinglichea","can_delete":false,"product_type":"c1","uid":1176447,"ip_address":"","ucode":"986DA07BF3CA89","user_header":"https://static001.geekbang.org/account/avatar/00/11/f3/7f/2dd9409b.jpg","comment_is_top":false,"comment_ctime":1595497963,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595497963","product_id":100020801,"comment_content":"1ã€è€å¸ˆï¼Œçœ‹äº†æœ¬ç¯‡æ–‡ç« ï¼Œæœ‰ä¸¤ä¸ªç–‘æƒ‘<br>ï¼ˆ1ï¼‰æ–‡ä¸­è¯´åˆ°change bufferæ˜¯å¯ä»¥åšæŒä¹…åŒ–çš„ï¼Œçœ‹å›¾ä¸­ç”»çš„æ˜¯å­˜åœ¨ç³»ç»Ÿè¡¨ç©ºé—´é‡Œçš„ï¼Œä½†change bufferçš„å¥”æºƒæ¢å¤æ˜¯ä»redo logä¸­å–å›çš„ï¼Œæ‰€ä»¥ï¼Œè¿™é‡Œæœ‰ç‚¹ä¸æ˜ç™½change bufferæœ¬èº«æŒä¹…åŒ–çš„åº”ç”¨åœºæ™¯ï¼Ÿ<br>ï¼ˆ2ï¼‰è®°å½•åœ¨å†…å­˜ä¸­çš„change bufferè®°å½•çš„æ˜¯æŸä¸ªæ•°æ®é¡µå¯¹åº”çš„ä¿®æ”¹ï¼Œå¦‚æœä»ç£ç›˜åŠ è½½æ•°æ®çš„æ—¶å€™ï¼Œå‘ç°æ•°æ®é¡µç”±äºè£‚å˜æˆ–è€…åˆå¹¶ï¼Œä¼šä¸ä¼šå¯¼è‡´ä¸å†…å­˜è®°å½•çš„ä¸ä¸€è‡´ï¼Œè€Œé‡æ–°åŠ è½½æ­£ç¡®çš„æ•°æ®é¡µï¼Ÿ","like_count":0},{"had_liked":false,"id":236585,"user_name":"å’¸é±¼","can_delete":false,"product_type":"c1","uid":1179028,"ip_address":"","ucode":"5E79636DE48155","user_header":"https://static001.geekbang.org/account/avatar/00/11/fd/94/0247f945.jpg","comment_is_top":false,"comment_ctime":1595472329,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595472329","product_id":100020801,"comment_content":"change bufferè¿™ä¸ªçœ‹çš„æŒºè¿·ï¼Œæ¥å›çœ‹äº†å‡ éï¼Œæœ‰äº†ç‚¹ç†è§£ï¼Œä½†æ˜¯è¿˜æœ‰å¾ˆå¤šç–‘é—®<br>é¦–å…ˆæ˜ç¡®ä¸€ç‚¹ï¼šåº”ç”¨change bufferçš„å‰æä¸€å®šæ˜¯è¡¨æœ‰ä¸”ä»…æœ‰æ™®é€šäºŒçº§ç´¢å¼•ï¼Œæˆ–è€…æ²¡æœ‰ç´¢å¼•ï¼Œä»¥åŠbuffer poolä¸­æ²¡æœ‰è¿™ä¸ªå†…å­˜é¡µï¼Œåªæœ‰åœ¨ä¸Šè¿°å‰æä¸‹æ‰æœ‰æœºä¼šåˆ©ç”¨åˆ°change bufferã€‚<br>1ã€å¦‚æœæ“ä½œæ˜¯insertï¼Œç›´æ¥å†™ change bufferã€‚<br>2ã€å¦‚æœæ˜¯updateæ“ä½œï¼Œè¿™é‡Œè¿˜æ˜¯è¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ›´æ–°æ¡ä»¶å¯¹åº”çš„æ•°æ®å§ï¼Ÿé‚£ä¹ˆæ˜¯å¦è¿˜æ˜¯å‘ç”Ÿè¯»æ•°æ®çš„æ“ä½œï¼Œä»è€Œæ²¡æ³•åº”ç”¨change bufferï¼Ÿè¿˜æ˜¯æœ‰åˆ«çš„æ–¹å¼èƒ½ç›´æ¥åˆ¤æ–­æ›´æ–°æ¡ä»¶æ˜¯å¦å­˜åœ¨è€Œæ— éœ€å°†æ•°æ®è¯»å…¥å†…å­˜ï¼Ÿ<br>insertç›´æ¥ä½¿ç”¨change bufferæ˜¯æ¯”è¾ƒå®¹æ˜“ç†è§£çš„ï¼Œä½†æ˜¯updateæ“ä½œä¸æ˜ç™½æ€ä¹ˆåº”ç”¨change bufferï¼Œæ±‚è§£é‡Šã€‚<br>èƒ½åº”ç”¨change bufferåï¼Œä¾æ¬¡æœ‰ä»¥ä¸‹æ“ä½œ<br>1ã€å†™change bufferï¼Œè®°å½•çš„æ˜¯å“ªä¸ªæ•°æ®é¡µåšäº†ä»€ä¹ˆæ”¹åŠ¨ï¼Œè¿™é‡Œæœ‰ç–‘é—®ï¼Œæ²¡æœ‰è¯»ç›˜æ€ä¹ˆç¡®å®šæ•°æ®é¡µå‘¢ï¼Ÿ<br>2ã€change bufferå†™å®Œåï¼Œåœ¨redo logä¸­è®°å½•ä¸€æ¡å†™å…¥change bufferçš„è®°å½•ï¼Œä¹‹åredo logå¤„äºprepareçŠ¶æ€<br>3ã€å†™binlogï¼Œå¾…binlogå†™å…¥ç£ç›˜åï¼Œè°ƒç”¨å¼•æ“æ¥å£æäº¤äº‹åŠ¡commit<br>è¿™æ ·å°±å®Œæˆäº†æ•´ä¸ªè¿‡ç¨‹<br>å…¶ä»–ç–‘é—®ï¼š<br>change bufferåœ¨é‡åˆ°æ•°æ®è®¿é—®æ—¶ä¸»åŠ¨mergeï¼Œè¯»å–ç£ç›˜æ•°æ®é¡µåˆ°å†…å­˜ä¸­ï¼Œåº”ç”¨change bufferï¼Œæ­¤æ—¶å†…å­˜é¡µæˆä¸ºè„é¡µï¼Œç„¶åè®°å½•redo logï¼ˆè¿™é‡Œçš„redo logè®°å½•çš„æ­£å¸¸çš„æ“ä½œè®°å½•ï¼Œéchange bufferæ•°æ®è®°å½•ï¼Œè¿™ä¸ªredo logçš„å†™å…¥åº”è¯¥æ˜¯ä¸éœ€è¦ç»å†ä¸¤é˜¶æ®µæäº¤å§ï¼Ÿä¹Ÿä¸ä¼šè§¦å‘binlogæ‰å¯¹ï¼Ÿï¼‰ï¼Œéšåè¿˜ä¼šå°†åº”ç”¨åçš„change bufferå†™å…¥åˆ°ç£ç›˜ï¼Œç³»ç»Ÿè¡¨ç©ºé—´ï¼Œè¿™é‡Œæœ‰ç–‘é—®ï¼Œä»è€å¸ˆæ–‡ä¸­å’Œè¯„è®ºä¸­è¢«è€å¸ˆè‚¯å®šçš„å›ç­”æ¥çœ‹ï¼ŒæŒä¹…åŒ–åˆ°ç³»ç»Ÿè¡¨ç©ºé—´çš„change bufferï¼Œéƒ½æ˜¯åº”ç”¨è¿‡çš„ï¼Œå…¶å®å°±å¯ä»¥è®¤ä¸ºæ˜¯æ²¡ç”¨çš„äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿˜æŒä¹…åŒ–åˆ°ç³»ç»Ÿè¡¨ç©ºé—´çš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹æ¸…ç†å‘¢ï¼Ÿè¿˜æœ‰å°±æ˜¯change bufferè¿˜ä¼šå†™å…¥åˆ°redo logï¼Œé‚£ä¹ˆåœ¨merge change bufferæ—¶ï¼Œæ˜¯å¦éœ€è¦åˆ é™¤redo logä¸­çš„è®°å½•å‘¢ï¼Ÿ è¿˜æ˜¯åœ¨ç³»ç»Ÿè¡¨ç©ºé—´æŒä¹…åŒ–change bufferçš„ç›®çš„åœ¨è¿™é‡Œå‘¢ï¼Ÿå¦‚æœä»redo logæ¢å¤change bufferï¼Œæ˜¯éå†æ•´ä¸ªredo logä¸ï¼Ÿ<br>æš‚æ—¶å°±æƒ³åˆ°è¿™äº›ï¼Œå¸Œæœ›ä½œè€…çœ‹åˆ°æ–¹ä¾¿æ—¶è§£ç­”ä¸‹ï¼Œçœ‹è¯„è®ºé‡Œå¤§å®¶å¯¹è¿™å—å…¶å®è¿˜æ˜¯å¾ˆè¿·æƒ‘çš„ï¼Œæˆ‘ä¹Ÿå¾ˆè¿·æƒ‘  :-(<br><br>","like_count":0},{"had_liked":false,"id":236288,"user_name":"å´”ç»åˆš","can_delete":false,"product_type":"c1","uid":1827943,"ip_address":"","ucode":"207FDF850860C4","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/P5lTnAkviacPGu5S5XJQGQdTpvkSjAVU9Nu2EYicIpMAjiaNP8aXDtfcIHicSnHw2fVIoqTWGGg48rZVzcficUlbgmw/132","comment_is_top":false,"comment_ctime":1595385757,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595385757","product_id":100020801,"comment_content":"å…³äº@xinzhongçš„æé—®<br>è€å¸ˆ,ä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹,æ¯”å¦‚update t set name=xxx where k=xxx,å…¶ä¸­kæ˜¯äºŒçº§ç´¢å¼•,å¦‚æœæ˜¯ä»¥ä¸‹å‡ ç§æƒ…å†µ:<br>1.å¯¹äºkæ˜¯äºŒçº§æ™®é€šç´¢å¼•çš„æƒ…å†µ,å¦‚æœç´¢å¼•çš„æ•°æ®é¡µä¸åœ¨å†…å­˜ä¸­,åˆ™å†™å…¥åˆ°change bufferä¸­,åç»­æŸäº›æ¡ä»¶ä¸‹(æ¯”å¦‚æŸ¥æ‰¾),ä¼šå°†è¯¥ç´¢å¼•æ•°æ®é¡µè¯»å…¥å†…å­˜,ç„¶åå†å›è¡¨æ›´æ–°è®°å½•çš„æ•°æ®é¡µä¸­çš„nameå­—æ®µä¸ºxxx?<br>2.å¯¹äºkæ˜¯äºŒçº§æ™®é€šç´¢å¼•çš„æƒ…å†µ,å¦‚æœç´¢å¼•çš„æ•°æ®é¡µåœ¨å†…å­˜ä¸­,ç„¶åå›è¡¨æ›´æ–°è®°å½•æ•°æ®é¡µä¸­çš„nameå­—æ®µä¸ºxxx?<br>3.å¯¹äºkæ˜¯äºŒçº§å”¯ä¸€ç´¢å¼•,å¦‚æœç´¢å¼•çš„æ•°æ®é¡µä¸åœ¨å†…å­˜ä¸­,å°†è¯¥ç´¢å¼•æ•°æ®é¡µè¯»å…¥å†…å­˜,ç„¶åå›è¡¨æ›´æ–°è®°å½•æ•°æ®é¡µä¸­çš„nameä¸ºxxx?<br>æ‚¨çš„å›ç­”æ˜¯:<br>å¦‚æœç”¨whereé‡Œé¢ç”¨kç´¢å¼•çš„è¯ï¼Œè¿˜æ˜¯è¦æŠŠè¿™ä¸€é¡µè¯»å‡ºæ¥çš„ï¼Œæ‰€ä»¥kè¿™ä¸ªé¡µç”¨ä¸ä¸Šchange buffer.<br>ä½†æ˜¯å¦‚æœnameä¹Ÿå»ºäº†æ™®é€šç´¢å¼•ï¼Œé‚£ä¹ˆæ›´æ–°nameå€¼è¿™ä¸ªè¡Œä¸ºå¯èƒ½è¢«æ”¾å…¥change buffer<br>æˆ‘çš„ç–‘æƒ‘æ˜¯ï¼šæ˜¯å¦å› ä¸ºchange bufferå­˜å‚¨çš„åº”è¯¥æ˜¯å¯¹äºŒçº§ç´¢å¼•æœ¬èº«çš„å˜æ›´ï¼Œå³å˜æ›´äºŒçº§ç´¢å¼•çš„å€¼ï¼Œè€Œä¸æ˜¯äºŒçº§ç´¢å¼•æ‰€åœ¨æ•°æ®é¡µçš„å¶å­èŠ‚ç‚¹ï¼Ÿ","like_count":0},{"had_liked":false,"id":234905,"user_name":"é»„æ—¶æ·","can_delete":false,"product_type":"c1","uid":2039257,"ip_address":"","ucode":"C9FC8F8812F7B1","user_header":"https://static001.geekbang.org/account/avatar/00/1f/1d/d9/746e45be.jpg","comment_is_top":false,"comment_ctime":1594823567,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594823567","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæ—¢ç„¶è¯´æ˜¯ç”±å¦å¤–çš„çº¿ç¨‹å°†å†…å­˜çš„æ•°æ®å†™å›åˆ°ç£ç›˜çš„ï¼Œé‚£å†™å›ç£ç›˜åï¼Œredo logå¯¹åº”çš„çš„æ—¥å¿—æ˜¯ä¸æ˜¯ä¹Ÿè¦åˆ æ‰ï¼Ÿä¸ç„¶å®•æœºå›å¤çš„æ—¶å€™ï¼Œä¼šä¸ä¼šå‡ºç°å·²ç»è¢«å†™å›å†…å­˜çš„change buffer(ä¸”åé¢è¢«å†™åˆ°ç£ç›˜)ï¼Œåˆå†æ¬¡å†™åˆ°change bufferé‡Œè¿™ç§æƒ…å†µï¼Ÿ","like_count":0},{"had_liked":false,"id":234250,"user_name":"è€¶è€¶è€¶","can_delete":false,"product_type":"c1","uid":2062187,"ip_address":"","ucode":"48C33A8A75D138","user_header":"https://static001.geekbang.org/account/avatar/00/1f/77/6b/0d66553d.jpg","comment_is_top":false,"comment_ctime":1594630093,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594630093","product_id":100020801,"comment_content":"æƒ³è¯·é—®ä¸€ä¸‹ï¼Œä¸»é”®åŒ…æ‹¬ä¸‰åˆ—A\\B\\Cï¼Œå‡å¦‚åªæœ‰ä¸€åˆ—Cæ˜¯æœ‰é€’å¢è§„å¾‹çš„ï¼Œé‚£ä¹ˆå°†ä¸»é”®è®¾ç½®ä¸ºCABæˆ–è€…CBAä¼šé¿å…é¡µåˆ†è£‚æ˜¯å˜›ï¼Œå°±æ˜¯å°†é€’å¢çš„åˆ—æ’åœ¨æœ€å‰é¢å¯ä»¥é¿å…é¡µåˆ†è£‚æ˜¯å—","like_count":0},{"had_liked":false,"id":233372,"user_name":"å°é±¼å„¿","can_delete":false,"product_type":"c1","uid":1053492,"ip_address":"","ucode":"989EC453936B91","user_header":"https://static001.geekbang.org/account/avatar/00/10/13/34/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1594300734,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1594300734","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘æœ‰ä¸€å¼ è¡¨ï¼Œé‡Œé¢å»ºäº†å”¯ä¸€ç´¢å¼•ï¼Œéœ€æ±‚æ˜¯ï¼Œæ‰¹é‡æ·»åŠ ï¼Œå¦‚æœæœ‰é‡å¤åˆ™æ›´æ–°ã€‚è¯·é—®å¦‚ä½•å†™å¯ä»¥åšåˆ°æ€§èƒ½æœ€ä¼˜å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":232218,"user_name":"Geek_2ac804","can_delete":false,"product_type":"c1","uid":1518795,"ip_address":"","ucode":"EDF69B20030BB8","user_header":"","comment_is_top":false,"comment_ctime":1593924782,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593924782","product_id":100020801,"comment_content":"å¯ä¸å¯ä»¥ç†è§£ä¸ºchange bufferè§£å†³çš„å°±æ˜¯å†…å­˜æ›´æ–°ï¼Œä»–ä¸ä¸è¿›è¡Œæ•°æ®çš„å®é™…è½ç›˜ï¼Œè€Œredo logè§£å†³çš„å°±æ˜¯è®°å½•å¯¹æ•°æ®é¡µçš„ä¿®æ”¹ï¼Œå¹¶æ ¹æ®ä»–è¿›è¡Œæ•°æ®è½ç›˜æ“ä½œ","like_count":0},{"had_liked":false,"id":231412,"user_name":"pedestrian","can_delete":false,"product_type":"c1","uid":1484461,"ip_address":"","ucode":"5A5B9AEA0781F0","user_header":"https://static001.geekbang.org/account/avatar/00/16/a6/ad/41b6e0be.jpg","comment_is_top":false,"comment_ctime":1593671255,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1593671255","product_id":100020801,"comment_content":"é‚£å¦‚æœæ˜¯æ•°æ®åº“åšäº†ä¸»ä»åŒæ­¥å‘¢ï¼Œä¸»åº“ä¸“é—¨è´Ÿè´£å†™å…¥ï¼Œä»åº“è´Ÿè´£æŸ¥è¯¢ï¼ˆå¯ä»¥ç†è§£ä¸ºè¯»å†™åˆ†ç¦»ï¼‰ã€‚å½“å»ä»åº“æŸ¥è¯¢æ•°æ®çš„è¯ï¼Œä¼šè§¦å‘ä¸»åº“å»purgeå—ï¼Ÿ  ","like_count":0},{"had_liked":false,"id":228874,"user_name":"é™é™è†å¬","can_delete":false,"product_type":"c1","uid":1263932,"ip_address":"","ucode":"0A8600CB928EFE","user_header":"https://static001.geekbang.org/account/avatar/00/13/49/3c/5d54c510.jpg","comment_is_top":false,"comment_ctime":1592831823,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592831823","product_id":100020801,"comment_content":"è€å¸ˆï¼Œé˜¿é‡Œç¼–ç è§„çº¦å‡ºäº†ï¼Œä¸šåŠ¡ä¸Šå”¯ä¸€çš„å­—æ®µè¦å»ºå”¯ä¸€ç´¢å¼•ï¼Œä»ä¸šåŠ¡è§’åº¦å‡ºå‘ï¼Œè¿˜æ˜¯è¦å°½é‡å»å»ºå”¯ä¸€ç´¢å¼•ï¼Œä»£ç æ§åˆ¶ä¼šæœ‰ç–æ¼ï¼Œä»æ•°æ®åº“å±‚é¢æ§åˆ¶æ˜¯æœ€ä½³çš„","like_count":0},{"had_liked":false,"id":227711,"user_name":"Geek_46b429","can_delete":false,"product_type":"c1","uid":2034451,"ip_address":"","ucode":"7BC56E4CDF9405","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIpk1UiawIpPeZ0Ew0L20EJzbricxrMLibKHJXODbjPJqbHAKO6OT0pib1q25myucmdeqibjcvZFR1pshg/132","comment_is_top":false,"comment_ctime":1592461547,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592461547","product_id":100020801,"comment_content":"è¯·é—®  change buffer  æ˜¯ç›¸å¯¹äºè¡¨çš„è¿˜æ˜¯ç›¸å¯¹äºæ•°æ®åº“çš„ï¼Œå¦‚æœæˆ‘å…³é—­change buffer æ˜¯å…³é—­æŸå¼ è¡¨çš„change buffer è¿˜æ˜¯æ•´ä¸ªæ•°æ®åº“çš„change buffer","like_count":0},{"had_liked":false,"id":226843,"user_name":"shiziwen","can_delete":false,"product_type":"c1","uid":1016917,"ip_address":"","ucode":"ADADC770D82D66","user_header":"https://static001.geekbang.org/account/avatar/00/0f/84/55/1e40bd61.jpg","comment_is_top":false,"comment_ctime":1592214277,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592214277","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæ–‡ä¸­æåˆ°äº†â€œchange buffer åœ¨å†…å­˜ä¸­æœ‰æ‹·è´ï¼Œä¹Ÿä¼šè¢«å†™å…¥åˆ°ç£ç›˜ä¸Šâ€ï¼Œè¯·é—®change bufferçš„å†…å®¹ï¼Œæ˜¯åœ¨ä»€ä¹ˆæ—¶å€™å†™å…¥ç£ç›˜è¿›è¡ŒæŒä¹…åŒ–çš„å‘¢ï¼Ÿ<br>å›¾2ä¸­å¯ä»¥çœ‹åˆ°ï¼Œchange bufferçš„å†…å®¹é™¤äº†åœ¨buffer pollä¸­å¤–ï¼Œè¿˜å­˜åœ¨äº†system table space(ibdata1)ï¼Œè¿™é‡Œçš„system table spaceï¼Œæ˜¯ä¸æ˜¯å°±æ˜¯æ‰€è°“çš„ç£ç›˜ä¸Šçš„æ•°æ®å‘¢ï¼Ÿ<br>è°¢è°¢","like_count":0},{"had_liked":false,"id":226595,"user_name":"å‚»å‚»çš„å¸…","can_delete":false,"product_type":"c1","uid":1668617,"ip_address":"","ucode":"14A795523A682E","user_header":"https://static001.geekbang.org/account/avatar/00/19/76/09/62a10668.jpg","comment_is_top":false,"comment_ctime":1592147991,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592147991","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜ä¸€ç›´æ²¡ææ˜ç™½ï¼Œchange bufferç¼“å­˜çš„æ˜¯æ•°æ®é¡µè¿˜æ˜¯æ™®é€šç´¢å¼•é¡µã€‚","like_count":0},{"had_liked":false,"id":226532,"user_name":"æ‰©æ•£æ€§ç™¾ä¸‡å’¸é¢åŒ…","can_delete":false,"product_type":"c1","uid":1905171,"ip_address":"","ucode":"6D703D51553B42","user_header":"https://static001.geekbang.org/account/avatar/00/1d/12/13/e103a6e3.jpg","comment_is_top":false,"comment_ctime":1592130325,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592130325","product_id":100020801,"comment_content":"è€å¸ˆï¼Œåœ¨ä½ ä¸¾çš„è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ„Ÿè§‰change bufferé‡Œè®°å½•çš„å’Œredo logæ“ä½œçš„ç›®çš„æœ‰ç‚¹ç±»ä¼¼ï¼Œåªä¸è¿‡change bufferè®°å½•pageä¸åœ¨å†…å­˜æ—¶çš„æ›´æ–°ï¼Œè€Œredo logåˆ™è®°å½•æ•´ä¸ªäº‹åŠ¡çš„æ“ä½œï¼Œå¹¶ä¸”æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¯»ä¸€ä¸ªè¢«ä¿®æ”¹è¿‡åçš„Pageåˆ°å†…å­˜ï¼Œå¦‚æœå¯ä»¥åœ¨change bufferé‡Œæœ‰å¯¹åº”è®°å½•åˆ™ç”¨mergeæ¥æ¢å¤ï¼Œå¦åˆ™å°±ç”¨redo log fileæ¥æ¢å¤ï¼Ÿ","like_count":0},{"had_liked":false,"id":226452,"user_name":"ç‹åŠ æ­¦","can_delete":false,"product_type":"c1","uid":1665471,"ip_address":"","ucode":"DDCFE578C6C428","user_header":"https://static001.geekbang.org/account/avatar/00/19/69/bf/50a824a4.jpg","comment_is_top":false,"comment_ctime":1592107058,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1592107058","product_id":100020801,"comment_content":"æ–­ç”µé‡å¯åchange bufferä¸ä¼šä¸¢å¤±ï¼Œè¿™ä¸ªåœ¨æ–‡ä¸­å°±å¯ä»¥æ‰¾åˆ°ã€change bufferæ˜¯å¯æŒä¹…åŒ–çš„æ•°æ®ã€change bufferåœ¨å†…å­˜ä¸­æ˜¯æœ‰æ‹·è´çš„ã€ä¹Ÿä¼šå†™å…¥ç£ç›˜","like_count":0},{"had_liked":false,"id":224300,"user_name":"Fox","can_delete":false,"product_type":"c1","uid":1024889,"ip_address":"","ucode":"273FD7DA55CA9F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a3/79/505dcca7.jpg","comment_is_top":false,"comment_ctime":1591339925,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1591339925","product_id":100020801,"comment_content":"å…³äºå”¯ä¸€ç´¢å¼•æœ‰ä¸ªé—®é¢˜æƒ³è¯·æ•™ä¸€ä¸‹ã€‚å”¯ä¸€ç´¢å¼•æ˜¯å…è®¸å¤šä¸ªnullå€¼å­˜åœ¨çš„ï¼Œè¿™æ ·ä¸æ˜¯å°±ä¸ç¬¦åˆå”¯ä¸€æ€§çš„çº¦æŸäº†å—ï¼ŸçŒœæƒ³MySQL åº”è¯¥æ˜¯æœ‰å¦å¤–çš„æœºåˆ¶å¤„ç†å¤šä¸ªnullï¼Œæƒ³è¯·æ•™ä¸€ä¸‹è¿™ä¸ªæœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ<br>å¦å¤–ï¼Œnullå€¼æ˜¯ä¸æ˜¯ä¹Ÿå­˜å‚¨åœ¨b+æ ‘é‡Œé¢å‘¢ï¼Ÿå¦‚æœæ˜¯çš„è¯ï¼Œé‚£æŸ¥æ‰¾çš„æ—¶å€™nullå€¼æ€ä¹ˆç”¨äºŒåˆ†æ³•æŸ¥æ‰¾å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1024889,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a3/79/505dcca7.jpg","nickname":"Fox","note":"","ucode":"273FD7DA55CA9F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":279464,"discussion_content":"æµ‹è¯•äº†ä¸€ä¸‹ï¼Œnullä¸èƒ½ç”¨ç­‰å€¼æŸ¥è¯¢ï¼Œæ‰€ä»¥åº”è¯¥ä¸æ˜¯åœ¨ç´¢å¼•æ ‘ä¸­æŸ¥è¯¢ï¼Œåº”è¯¥ä¸æ˜¯å­˜ç´¢å¼•æ ‘é‡Œé¢ï¼Œå¾ˆå¥½å¥‡nullå€¼æ˜¯æ€ä¹ˆå­˜å‚¨çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591349051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":223371,"user_name":"Geek","can_delete":false,"product_type":"c1","uid":2016657,"ip_address":"","ucode":"07AD2487087D17","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/AkS4rJAdkt5icChtbYGLLP2TficUDBHYCwUDHsP8wtfPeq6YUWYyvcKbZWV5p1hQuxQNaZf0G4axI5ibqPR7ia6ZCg/132","comment_is_top":false,"comment_ctime":1591075184,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1591075184","product_id":100020801,"comment_content":"æ’å…¥æ•°æ®æ—¶åº”è¯¥æ—¶æŒ‰ä¸»é”®é¡ºåºæ’å…¥çš„åº”è¯¥æ—¶é¡ºåºioå•Šï¼Œæ‰€ä»¥change bufferçš„ä½œç”¨æ˜¯æ›´æ–°è¾…åŠ©ç´¢å¼•çš„æ•°æ®æ—¶ä½¿ç”¨çš„å—","like_count":0},{"had_liked":false,"id":222509,"user_name":"å¤å…´","can_delete":false,"product_type":"c1","uid":1363230,"ip_address":"","ucode":"C172A87873001A","user_header":"https://static001.geekbang.org/account/avatar/00/14/cd/1e/692c3313.jpg","comment_is_top":false,"comment_ctime":1590824231,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590824231","product_id":100020801,"comment_content":"change bufferçš„åŠŸèƒ½ï¼Œå¯ä»¥ç”±redo logä»£åŠ³å˜›ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯»çš„æ—¶å€™ï¼Œä»ç£ç›˜è¯»å–çš„æ•°æ®å’Œredo logæ•°æ®åšmergeã€‚","like_count":0},{"had_liked":false,"id":222473,"user_name":"å¤å…´","can_delete":false,"product_type":"c1","uid":1363230,"ip_address":"","ucode":"C172A87873001A","user_header":"https://static001.geekbang.org/account/avatar/00/14/cd/1e/692c3313.jpg","comment_is_top":false,"comment_ctime":1590814547,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590814547","product_id":100020801,"comment_content":"â€œå› æ­¤ï¼Œå”¯ä¸€ç´¢å¼•çš„æ›´æ–°å°±ä¸èƒ½ä½¿ç”¨ change bufferï¼Œå®é™…ä¸Šä¹Ÿåªæœ‰æ™®é€šç´¢å¼•å¯ä»¥ä½¿ç”¨â€  é‚£ä¹ˆè€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸‹ï¼Œæ²¡æœ‰ç´¢å¼• å¯ä»¥ä½¿ç”¨change bufferå—ã€‚","like_count":0},{"had_liked":false,"id":220362,"user_name":"kakakovic","can_delete":false,"product_type":"c1","uid":1112164,"ip_address":"","ucode":"ADE35A09D6A9EC","user_header":"https://static001.geekbang.org/account/avatar/00/10/f8/64/5f3634ef.jpg","comment_is_top":false,"comment_ctime":1590226432,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1590226432","product_id":100020801,"comment_content":"ä¸ºä»€ä¹ˆå”¯ä¸€ç´¢å¼•åˆ¤æ–­å”¯ä¸€æ€§è¦æŠŠæ•°æ®é¡µåŠ è½½åˆ°å†…å­˜ä¸­","like_count":0},{"had_liked":false,"id":218799,"user_name":"Geek_a8be59","can_delete":false,"product_type":"c1","uid":1563985,"ip_address":"","ucode":"BEC0F57B51DC44","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKdiaUiaCYQe9tibemaNU5ya7RrU3MYcSGEIG7zF27u0ZDnZs5lYxPb7KPrAsj3bibM79QIOnPXAatfIw/132","comment_is_top":false,"comment_ctime":1589877154,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589877154","product_id":100020801,"comment_content":"CREATE TABLE `t1` (<br>  `id` int(11) NOT NULL AUTO_INCREMENT,<br>  `name` varchar(10) DEFAULT NULL,<br>  `city` varchar(10) DEFAULT NULL,<br>  `age` tinyint(4) DEFAULT &#39;1&#39;,<br>  PRIMARY KEY (`id`),<br>  UNIQUE KEY `index_city_name` (`city`,`name`)<br>) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4;<br>å¯¹åº”çš„æ•°æ®å¦‚ä¸‹ï¼š<br>------------------<br>1\tå°æ¥¼\tä¸Šæµ·\t1<br>2\t2\tåŒ—äº¬\t1<br>3\t3\tæ·±åœ³\t4<br>------------------<br>æˆ‘å”¯ä¸€ç´¢å¼•è®¾ç½®äº†cityå’Œnameï¼ˆåªæ˜¯è¯•éªŒéšä¾¿è®¾ç½®çš„ï¼‰ï¼Œå½“æˆ‘æŸ¥æ‰¾select id from t1 where name = 2ï¼Œè¿™æ¡è¯­å¥çš„æ—¶å€™æŒ‰ç…§ä¹‹å‰è¯´çš„æœ€å·¦åŒ¹é…åŸåˆ™ï¼Œåº”è¯¥æ˜¯åŒ¹é…ä¸åˆ°å”¯ä¸€ç´¢å¼•ï¼Œä½†æ˜¯ç»“æœä½¿ç”¨é€šè¿‡explainä½¿ç”¨çš„index_city_nameç´¢å¼•ï¼Œè€Œä¸”æ˜¯æ‰«æäº†3è¡Œã€‚<br>æ ¹æ®ä¸Šé¢ç°è±¡æœ‰ä¸¤ç‚¹ç–‘é—®ï¼š<br>ç¬¬ä¸€ç‚¹:<br>å¤šä¸ªç»„åˆçš„å”¯ä¸€ç´¢å¼•åªè¦æŸ¥è¯¢ä¸­åŒ…å«äº†å”¯ä¸€ç´¢å¼•ä¸­çš„ä¸€ä¸ªå­—æ®µä¸”æ²¡æœ‰æ»¡è¶³æœ€å·¦åŒ¹é…çš„å°±ä¼šä½¿ç”¨å”¯ä¸€ç´¢å¼•æ‰€æœ‰å­—æ®µä¹ˆï¼Ÿ å¦‚æœè¿™æ ·èµ° å”¯ä¸€ç´¢å¼•å’Œèµ°èšç°‡ç´¢å¼•çš„åŒºåˆ«åˆåœ¨å“ªé‡Œå‘¢ï¼Ÿ<br>ç¬¬äºŒç‚¹ï¼š<br>æˆ‘å‘ç°å½“ä¸‹é¢çš„sqlçš„æ—¶å€™ï¼Œselect * from t1 where city = 1ï¼Œå³cityæ˜¯varchar æˆ‘ç”¨intçš„ 1å»æŸ¥è¯¢ï¼Œè™½ç„¶æ»¡è¶³äº†æœ€å·¦åŒ¹é…ï¼Œä½†æ˜¯å®é™…å¹¶æ²¡æœ‰ç”¨ç´¢å¼•ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ å¦‚æœ1æ”¹æˆå­—ç¬¦ä¸²çš„1å°±ç”¨åˆ°äº†index_city_nameä¸­cityç´¢å¼•<br><br>æ•°æ®åº“ç‰ˆæœ¬ï¼š5.5.53<br><br>è¯·è€å¸ˆå›ç­”ä¸€ä¸‹ ï¼Œæ¯”è¾ƒç–‘æƒ‘ï¼Œè°¢è°¢","like_count":0},{"had_liked":false,"id":218674,"user_name":"æ”¶","can_delete":false,"product_type":"c1","uid":1599768,"ip_address":"","ucode":"EC3338DB7AEF34","user_header":"https://static001.geekbang.org/account/avatar/00/18/69/18/ca8a5c22.jpg","comment_is_top":false,"comment_ctime":1589852875,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589852875","product_id":100020801,"comment_content":"Buffer poolå­˜å…¥ç£ç›˜ï¼Œé¿å…å†™çŠ¶æ€ä¸¢å¤±ï¼Œæ˜¯ä¸æ˜¯å°±æ˜¯MySQLçš„&quot;double write&quot;","like_count":0},{"had_liked":false,"id":218535,"user_name":"è½çŸ³","can_delete":false,"product_type":"c1","uid":1184061,"ip_address":"","ucode":"11F60E700E96B6","user_header":"https://static001.geekbang.org/account/avatar/00/12/11/3d/7b9161ca.jpg","comment_is_top":false,"comment_ctime":1589814754,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589814754","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ã€‚è¿›æ¥æœ‰ç‚¹æ™šï¼Œä¸çŸ¥æ‚¨è¿˜èƒ½çœ‹åˆ°ä¸ã€‚è¯·é—®ä¸‹<br>æ›´æ–° changeBuffer æ—¶ä¼šå†™redo logã€‚é‚£åœ¨æ›´æ–°æ—¶ï¼Œå·²å‘½ä¸­ChangeBufferçš„æƒ…å†µä¸ºä½•ä¼šå†™ä¸¤æ¡è®°å½•ï¼Ÿæ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":217547,"user_name":"é›ªã®é›«Â·é›¨ã®éŸ³","can_delete":false,"product_type":"c1","uid":1997293,"ip_address":"","ucode":"0693DA3939A321","user_header":"https://static001.geekbang.org/account/avatar/00/1e/79/ed/4737a49b.jpg","comment_is_top":false,"comment_ctime":1589531424,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589531424","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼æˆ‘å¯¹äºchangebufferå’Œredologçš„ç†è§£æ˜¯ï¼Œchangebufferæ˜¯ç”¨äºå°†ç£ç›˜ä¸­çš„æ•°æ®é¡µè¯»å…¥åˆ°å†…å­˜ä»¥åè¿›è¡Œæ›´æ–°çš„ï¼Œè€Œredologæ˜¯ç”¨ä½œæŠŠå¯¹æ•°æ®çš„ä¿®æ”¹å†™å…¥ç£ç›˜çš„ã€‚è¿™æ ·çš„ç†è§£æ˜¯å¦æœ‰è¯¯ï¼Ÿè¿˜è¯·æ‚¨æŒ‡æ­£ï¼šï¼‰","like_count":0},{"had_liked":false,"id":217294,"user_name":"Geek_a8be59","can_delete":false,"product_type":"c1","uid":1563985,"ip_address":"","ucode":"BEC0F57B51DC44","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKdiaUiaCYQe9tibemaNU5ya7RrU3MYcSGEIG7zF27u0ZDnZs5lYxPb7KPrAsj3bibM79QIOnPXAatfIw/132","comment_is_top":false,"comment_ctime":1589456950,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589456950","product_id":100020801,"comment_content":"è€å¸ˆè¯·é—®ä¸€ä¸‹ ä¸ºä½•åœ¨mergeçš„æ—¶å€™è¦åœ¨redologå†è®°å½•ä¸€æ¬¡","like_count":0},{"had_liked":false,"id":216871,"user_name":"å†›å“¥å˜¹äº®","can_delete":false,"product_type":"c1","uid":1691709,"ip_address":"","ucode":"0CA718A723F312","user_header":"https://static001.geekbang.org/account/avatar/00/19/d0/3d/2a7508e9.jpg","comment_is_top":false,"comment_ctime":1589358482,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589358482","product_id":100020801,"comment_content":"è€å¸ˆã€‚è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¤„ç†æ•°æ®åœ¨ä¸€ä¸ªäº‹åŠ¡å†…insertï¼Œç„¶åæäº¤äº‹åŠ¡ã€‚ç´§æ¥ç€äº‹åŠ¡å¤–æŸ¥è¯¢ï¼Œå‘ç°æœ‰çš„æ—¶å€™æŸ¥è¯¢ä¸åˆ°æ•°æ®ã€‚","like_count":0},{"had_liked":false,"id":216792,"user_name":"ç‹é¹¤ç¿","can_delete":false,"product_type":"c1","uid":1795749,"ip_address":"","ucode":"38DC50B08E1A0E","user_header":"https://static001.geekbang.org/account/avatar/00/1b/66/a5/85d88ae3.jpg","comment_is_top":false,"comment_ctime":1589343292,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589343292","product_id":100020801,"comment_content":"change bufferçœŸæ˜¯å…¨å±€è®¾ç½®çš„ï¼Œå¦‚æœæ—¢æœ‰æ›´æ–°ç«‹å³è¯»ï¼Œä¹Ÿæœ‰æ›´æ–°ä¸ç«‹å³è¯»ï¼Œä¸¤ç§åœºæ™¯éƒ½æ¯”è¾ƒå¤šï¼Œé‚£changge bufferå¦‚ä½•è®¾ç½®å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":216111,"user_name":"è”¡æ¡¦","can_delete":false,"product_type":"c1","uid":1810077,"ip_address":"","ucode":"75487714CC3820","user_header":"https://static001.geekbang.org/account/avatar/00/1b/9e/9d/19984974.jpg","comment_is_top":false,"comment_ctime":1589191170,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589191170","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæƒ³é—®ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ç»™ä¸€åˆ—åŠ ä¸Šäº†å”¯ä¸€æ€§ï¼Œå†ç»™è¿™ä¸€åˆ—åˆ›å»ºæ™®é€šç´¢å¼•ï¼Œæ­¤æ—¶è¿™ä¸ªç´¢å¼•æ˜¯ä¸æ˜¯è·Ÿå”¯ä¸€ç´¢å¼•æ˜¯ä¸€æ ·çš„å•Šï¼Ÿ","like_count":0},{"had_liked":false,"id":214736,"user_name":"GaGiî","can_delete":false,"product_type":"c1","uid":1099053,"ip_address":"","ucode":"CC8D22E1DD8CA2","user_header":"https://static001.geekbang.org/account/avatar/00/10/c5/2d/1eebfc3c.jpg","comment_is_top":false,"comment_ctime":1588812193,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588812193","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ›´æ–°çš„æ—¶å€™ï¼Œchange bufferè¿˜æœ‰ç”¨å¤„å—ï¼Ÿ<br>æˆ‘ç†è§£æ›´æ–°éœ€è¦å…ˆçŸ¥é“å¯¹åº”çš„è¡Œè®°å½•ï¼Œè¿™æ—¶å°±è¦å°†innodbå¼•æ“å±‚çš„æ•°æ®åŠ è½½åˆ°buffer poolä¸­ï¼Œç„¶åå†åšæ›´æ–°æ“ä½œï¼Œé‚£è¿™æ ·å²‚ä¸æ˜¯åˆ©ç”¨ä¸äº†change bufferçš„å¥½å¤„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":213891,"user_name":"BugBean","can_delete":false,"product_type":"c1","uid":1834181,"ip_address":"","ucode":"B51232281AD9BC","user_header":"https://static001.geekbang.org/account/avatar/00/1b/fc/c5/ff8b770e.jpg","comment_is_top":false,"comment_ctime":1588585267,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588585267","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œä¸çŸ¥é“å¯ä¸å¯ä»¥è¿™æ ·ç†è§£ï¼Œå› ä¸ºInnoDBè‚¯å®šå­˜åœ¨ä¸»é”®ï¼Œæ‰€ä»¥æ¯æ¬¡insertçš„æ—¶å€™éƒ½ä¸èƒ½ç”¨change buffer","like_count":0},{"had_liked":false,"id":213885,"user_name":"BugBean","can_delete":false,"product_type":"c1","uid":1834181,"ip_address":"","ucode":"B51232281AD9BC","user_header":"https://static001.geekbang.org/account/avatar/00/1b/fc/c5/ff8b770e.jpg","comment_is_top":false,"comment_ctime":1588584401,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1588584401","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæœ‰çš„è¯´æ³•æ˜¯åœ¨è®¸å¤šæ“ä½œç³»ç»Ÿä¸­ï¼Œé¡µçš„å¤§å°é€šå¸¸ä¸º4kï¼Œè¯·é—®æ“ä½œç³»ç»Ÿçš„é¡µå’ŒInnoDBçš„é¡µæ˜¯ä¸€æ ·çš„æ¦‚å¿µå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":211362,"user_name":"è¾¾è¾¾é˜Ÿé•¿","can_delete":false,"product_type":"c1","uid":1117597,"ip_address":"","ucode":"1C3F2E4F6B7637","user_header":"https://static001.geekbang.org/account/avatar/00/11/0d/9d/58d09086.jpg","comment_is_top":false,"comment_ctime":1587952734,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587952734","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œchange buffer æŒä¹…åŒ–åˆ°ç³»ç»Ÿè¡¨ç©ºé—´æŒä¹…åŒ–çš„æ˜¯ä»€ä¹ˆå‘€ï¼Ÿ change bufferçš„æ“ä½œä¸æ˜¯è¢«redo log è®°å½•äº†ï¼Œè¿™ç‚¹æœ‰ç‚¹æä¸æ‡‚","like_count":0},{"had_liked":false,"id":211250,"user_name":"Mr_freezing37","can_delete":false,"product_type":"c1","uid":1061402,"ip_address":"","ucode":"BB605A6FEDCEB6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/y5NFbibdKCFCg0lHKK5ERGOQWXYYK7jhnqm2BxQ6r7tWvXx8uDmibglweejDWU39BTmDSAtBJGj1ibOZK2uIHQyqg/132","comment_is_top":false,"comment_ctime":1587923039,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587923039","product_id":100020801,"comment_content":"ã€ŠMYSQLæŠ€æœ¯å†…å¹•InnoDBå­˜å‚¨å¼•æ“ã€‹ä¸€ä¹¦çš„2.6.2ç« èŠ‚ä¸¤æ¬¡å†™ï¼Œæœ‰æåˆ°doublewrite bufferã€‚ä¹¦ä¸­ä¸¾ä¾‹æ‰ç”µç¬é—´æ•°æ®é¡µåªå†™äº†ä¸€éƒ¨åˆ†çš„æƒ…å†µï¼šéƒ¨åˆ†å†™å¤±æ•ˆã€‚æ•°æ®æ— æ³•ä»redoæ¢å¤ï¼Œå› ä¸ºæ•°æ®é¡µæŸæ¯äº†ã€‚è¿™æ—¶å¯ä»¥ä»doublewrite bufferçš„å…±äº«è¡¨ç©ºé—´æ‰¾åˆ°é¡µçš„å‰¯æœ¬ï¼Œæ®æ­¤å‰¯æœ¬æ¢å¤è¡¨ç©ºé—´çš„æ•°æ®é¡µï¼Œå†æ‰§è¡Œredoæ¢å¤ã€‚<br><br>ä¸¤ç‚¹ä¸ç†è§£ï¼š<br>1. change bufferè¿è¡Œæœºåˆ¶ä¸­ï¼Œæœ‰æ— æ•°æ®é¡µéƒ¨åˆ†å¤±æ•ˆçš„æƒ…å†µï¼Œå¦‚æœæœ‰æ˜¯å¦‚ä½•å¤„ç†çš„ï¼Ÿ<br>2. change buffer ä¸doublewrite bufferçš„åŠŸèƒ½å¾ˆåƒï¼Œæ˜¯ä¸€å›äº‹å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":210874,"user_name":"æ˜ç¿¼","can_delete":false,"product_type":"c1","uid":1068361,"ip_address":"","ucode":"E77F86BEB3D5C1","user_header":"https://static001.geekbang.org/account/avatar/00/10/4d/49/28e73b9c.jpg","comment_is_top":false,"comment_ctime":1587858705,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587858705","product_id":100020801,"comment_content":"è¯·æ•™ä¸‹è€å¸ˆå’Œå„ä½åŒå­¦ï¼Œå¯¹äºæ’å…¥æ¥è¯´ï¼ŒMySQLç”¨ç»‘å®šå˜é‡çš„æ–¹å¼å’Œä¸ç”¨ç»‘å®šå˜é‡æ–¹å¼å·®åˆ«å¤§ä¸ï¼Ÿæˆ‘çœ‹æ›´å¤šæ˜¯ç”¨æ‰¹é‡ä¼˜åŒ–æ’å…¥æ€§èƒ½ï¼Œæ˜¯ä¸æ˜¯è¯´ç»‘å®šå˜é‡æ–¹å¼æ€§èƒ½æå‡å°é‚£ï¼Œç‰ˆæœ¬8.0ä»¥ä¸Š","like_count":0},{"had_liked":false,"id":210302,"user_name":"ä¾§è€³å€¾å¬","can_delete":false,"product_type":"c1","uid":1512642,"ip_address":"","ucode":"5BF2A2440B54F0","user_header":"https://static001.geekbang.org/account/avatar/00/17/14/c2/46ebe3a0.jpg","comment_is_top":false,"comment_ctime":1587717492,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1587717492","product_id":100020801,"comment_content":"redo logå’Œchange bufferéƒ½ä¼šè®°å½•æ•°æ®çš„æ›´æ–°ä¿¡æ¯ï¼Œå½“RingBufferæ²¡æœ‰ç©ºé—´äº†ï¼Œéœ€è¦åŒæ­¥ä¸€éƒ¨åˆ†æ•°æ®åˆ°ç£ç›˜ï¼Œé‚£ä¹ˆæ­¤æ—¶change bufferä¸­è®°å½•çš„å¯¹åº”è¡Œçš„æ›´æ–°ä¿¡æ¯æ€ä¹ˆå¤„ç†ï¼Ÿcrash safeè¿‡ç¨‹ä¸­ï¼Œè®°å½•æ˜¯å¦‚ä½•åœ¨æ–‡ä»¶ä¸­ä¿å­˜çš„ï¼Ÿåº”è¯¥æ˜¯é¡ºåºè¿½åŠ ï¼Œæœ‰rowversionå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":210295,"user_name":"ä¾§è€³å€¾å¬","can_delete":false,"product_type":"c1","uid":1512642,"ip_address":"","ucode":"5BF2A2440B54F0","user_header":"https://static001.geekbang.org/account/avatar/00/17/14/c2/46ebe3a0.jpg","comment_is_top":false,"comment_ctime":1587715885,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1587715885","product_id":100020801,"comment_content":"èº«ä»½è¯å·çš„å”¯ä¸€ç´¢å¼•å’Œæ™®é€šç´¢å¼•çš„é—®é¢˜ï¼Œé¦–å…ˆå¦‚æœæ˜¯æ™®é€šç´¢å¼•ï¼Œé‚£ä¹ˆæˆ‘ä»¬å»ºç«‹çš„æ˜¯èº«ä»½è¯+åå­—çš„è”åˆç´¢å¼•ï¼Œé‚£ä¹ˆå¶å­èŠ‚ç‚¹é‡Œéœ€è¦ä¿å­˜çš„æ˜¯ä¸»é”®ï¼Œè¿™ä¹ˆçœ‹æ¥éœ€è¦é¢å¤–åŠ ä¸€åˆ—ã€‚ä»æ£€ç´¢ä¸Šæ¥è¯´ï¼Œå› ä¸ºæ˜¯è”åˆç´¢å¼•ï¼Œæ— æ³•åˆ¤å®šèº«ä»½è¯çš„å”¯ä¸€æ€§ï¼Œéœ€è¦è½åˆ°é¡µä¸Šï¼Œé¢å¤–éå†ä¸€æ¡æ•°æ®ï¼Œæ€§èƒ½å·®åˆ«ä¸å¤§ã€‚ä½†æ˜¯æœ‰ä¸ªé—®é¢˜éœ€è¦è€ƒè™‘ï¼Œå†…å­˜é¡µå¤§å°16kï¼Œæ™®é€šç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•ä¸€é¡µä¿å­˜çš„æ•°æ®é‡æ˜¯ä¸ä¸€æ ·çš„ï¼Œå”¯ä¸€ç´¢å¼•æœªå‘½ä¸­å†…å­˜é¡µçš„æ¦‚ç‡ä¼šä¸ä¼šç›¸å¯¹å¤§ä¸€äº›ï¼Ÿæ™®é€šç´¢å¼•ä¹Ÿæœ‰é—®é¢˜ï¼Œé¦–å…ˆå¦‚æœæ•°æ®åº“ä¸ä¿è¯èº«ä»½è¯çš„å”¯ä¸€æ€§ï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨ä¸šåŠ¡å±‚å»é¿å…ï¼Œéœ€è¦åšä¸€æ¬¡checkã€‚è¿˜æœ‰å¦‚æœåŠ ä¸€åˆ—è‡ªå¢åˆ—ä¸ºä¸»é”®ï¼Œåœ¨ç™»å½•çš„æ—¶å€™å°±éœ€è¦å–å¾—ä¸€ä¸ªè‡ªå¢IDï¼Œè¿™ä¸ªè·å–çš„è¿‡ç¨‹éœ€è¦åŠ é”ã€‚<br>è¿™ä¹ˆçœ‹æ¥éƒ½æ˜¯å„æœ‰åˆ©å¼Šã€‚<br>æˆ‘æœ‰å‡ ä¸ªé—®é¢˜éº»çƒ¦è€å¸ˆç¡®è®¤ä¸€ä¸‹<br>1ç´¢å¼•å’Œè®°å½•çš„mappingå…³ç³»ï¼Œæ„æ€æ˜¯å‘½ä¸­ç´¢å¼•åï¼Œè®°å½•æ˜¯å¦‚ä½•è¯»åˆ°å†…å­˜é¡µä¸­çš„ï¼Œå¦‚ä½•çŸ¥é“ç´¢å¼•çš„æ•°æ®åœ¨æ–‡ä»¶ä¸­ä»å“ªå¼€å§‹ï¼Ÿ<br>2å†…å­˜é¡µä¸­çš„æ•°æ®æ˜¯æŒ‰ç…§æ–‡ä»¶çš„å†™å…¥é¡ºåºæ’åˆ—å—ï¼ŸB+æ ‘çš„å¶å­èŠ‚ç‚¹æ˜¯é¡µï¼Œå¦‚æœæ˜¯ä¹±åºé‚£ä¹ˆèº«ä»½è¯çš„å”¯ä¸€æ€§ç¡®è®¤å¦‚ä½•åšï¼Ÿ<br>","like_count":0},{"had_liked":false,"id":209754,"user_name":"åˆéŸ³æœªæ¥","can_delete":false,"product_type":"c1","uid":1274518,"ip_address":"","ucode":"3AE23DBC649B97","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erKFNFAQl3ibwlic54a5SQYAMhQYeVtMnSmMahZZjyqG2d66whxbEE3I3IyD07pSmte5DSibr71m6A9g/132","comment_is_top":false,"comment_ctime":1587609112,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587609112","product_id":100020801,"comment_content":"å¯¹  â€è¿™ä¸ªè®°å½•è¦æ›´æ–°çš„ç›®æ ‡é¡µä¸åœ¨å†…å­˜ä¸­â€ è¿™æ®µè¯æœ‰ç–‘é—®<br>æ’å…¥ æ–‡ä¸­æ‰€è¯´çš„æ•°æ®ï¼ˆ4,400ï¼‰ï¼Œ<br>åœ¨æ’å…¥æ•°æ®ä¹‹å‰ï¼Œä¸šåŠ¡å±‚é¢ä¼šä¿è¯æ•°æ®çš„å”¯ä¸€æ€§ï¼Œä¸šåŠ¡åº”ç”¨ä¼šå…ˆselect è¿™ä¸ªæ•°æ®ï¼Œä»¥ç¡®ä¿è¿™ä¸ªæ•°æ®å”¯ä¸€ï¼Œè€å¸ˆè¯´è¯»å–æ•°æ®ä¼šæŠŠæ•°æ®é¡µè¯»å…¥å†…å­˜ï¼Œé‚£ä¸å°±ç›´æ¥æ›´æ”¹å†…å­˜æ›´å¥½å—ï¼Ÿ<br>å³ä½¿æ˜¯æ™®é€šç´¢å¼•æˆ‘è®¤ä¸ºä¹Ÿä¼šå…ˆæŠŠæ•°æ®è¯»å…¥å†…å­˜ï¼Œè€Œä¸æ˜¯ç›´æ¥å†™å…¥change bufferã€‚è¯·è€å¸ˆå¸®å¿™è§£ç­”ä¸€ä¸‹è¿™ä¸ªç–‘è™‘","like_count":0},{"had_liked":false,"id":209494,"user_name":"åˆéŸ³æœªæ¥","can_delete":false,"product_type":"c1","uid":1274518,"ip_address":"","ucode":"3AE23DBC649B97","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erKFNFAQl3ibwlic54a5SQYAMhQYeVtMnSmMahZZjyqG2d66whxbEE3I3IyD07pSmte5DSibr71m6A9g/132","comment_is_top":false,"comment_ctime":1587559249,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587559249","product_id":100020801,"comment_content":"è¯»å…¥æ²¡æœ‰ç´¢å¼•çš„å­—æ®µåˆ°å†…å­˜ä¸­ï¼Œæ•°æ®æ˜¯æœ‰åºçš„å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":208783,"user_name":"å¹¼å„¿ç¼–ç¨‹æ•™å­¦","can_delete":false,"product_type":"c1","uid":1237199,"ip_address":"","ucode":"F13F3150E6CAE9","user_header":"https://static001.geekbang.org/account/avatar/00/12/e0/cf/43f201f2.jpg","comment_is_top":false,"comment_ctime":1587437851,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587437851","product_id":100020801,"comment_content":"&gt;å¯¹äºå”¯ä¸€ç´¢å¼•æ¥è¯´ï¼Œéœ€è¦å°†æ•°æ®é¡µè¯»å…¥å†…å­˜ï¼Œåˆ¤æ–­åˆ°æ²¡æœ‰å†²çªï¼Œæ’å…¥è¿™ä¸ªå€¼ï¼Œè¯­å¥æ‰§è¡Œç»“æŸï¼›<br><br>è¿™é‡Œè¯´çš„æ•°æ®é¡µï¼Œæ˜¯æŒ‡åŒ…å«æ•°æ®çš„æ•°æ®é¡µä¹ˆï¼Ÿè¿˜æ˜¯äºŒçº§ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ï¼ˆåŒ…å«ä¸»é”®idï¼‰ï¼Ÿ<br>æˆ‘è§‰å¾—ï¼Œå¥½åƒåªè¦è¯»äºŒçº§ç´¢å¼•é‚£æ£µæ ‘å°±å¯ä»¥åˆ¤æ–­æ˜¯å¦å”¯ä¸€ï¼Ÿä¸éœ€è¦æœ‰å›è¡¨é‚£ä¸ªè¿‡ç¨‹ï¼Ÿ","like_count":0},{"had_liked":false,"id":208517,"user_name":"å¹¼å„¿ç¼–ç¨‹æ•™å­¦","can_delete":false,"product_type":"c1","uid":1237199,"ip_address":"","ucode":"F13F3150E6CAE9","user_header":"https://static001.geekbang.org/account/avatar/00/12/e0/cf/43f201f2.jpg","comment_is_top":false,"comment_ctime":1587374740,"is_pvip":false,"discussion_count":8,"race_medal":0,"score":"1587374740","product_id":100020801,"comment_content":"æœ‰ç‚¹è¿·ç³Šï¼Œè¯·æ•™<br><br>æ™®é€šç´¢å¼•ï¼Œè®°å½•ä¸åœ¨å†…å­˜ä¸­ï¼Œåªéœ€è¦æ‰§è¡Œ<br>&gt;å¯¹äºæ™®é€šç´¢å¼•æ¥è¯´ï¼Œåˆ™æ˜¯å°†æ›´æ–°è®°å½•åœ¨ change bufferï¼Œè¯­å¥æ‰§è¡Œå°±ç»“æŸäº†ã€‚<br><br>ç–‘é—®ï¼šå¦‚æœæ²¡ç´¢å¼•ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿèƒ½åˆ©ç”¨ change buffer æœºåˆ¶ï¼Ÿä½¿å¾—å†™å…¥æ•ˆç‡å¤§å¤§æé«˜ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1526355,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","nickname":"moonfox","note":"","ucode":"902BFF40EFA9FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336999,"discussion_content":"æ²¡ç´¢å¼•å°±ä¸éœ€è¦ change bufferäº†ï¼Œå› ä¸ºéœ€è¦æ’å…¥çš„åªæœ‰ä¸»é”®ç´¢å¼•äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608744783,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":7,"child_discussions":[{"author":{"id":1237199,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e0/cf/43f201f2.jpg","nickname":"å¹¼å„¿ç¼–ç¨‹æ•™å­¦","note":"","ucode":"F13F3150E6CAE9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1526355,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","nickname":"moonfox","note":"","ucode":"902BFF40EFA9FA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338823,"discussion_content":"æ’å…¥ä¸»é”®ç´¢å¼•ï¼Œç›´æ¥å†™ç¡¬ç›˜ï¼Ÿåº”è¯¥ä¹Ÿæ˜¯å†™åˆ°change bufferä¸­ï¼Œæé«˜æ€§èƒ½å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609391841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":336999,"ip_address":""},"score":338823,"extra":""},{"author":{"id":1526355,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","nickname":"moonfox","note":"","ucode":"902BFF40EFA9FA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1237199,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e0/cf/43f201f2.jpg","nickname":"å¹¼å„¿ç¼–ç¨‹æ•™å­¦","note":"","ucode":"F13F3150E6CAE9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338945,"discussion_content":"ä¸»é”®ç´¢å¼•è¦åˆ¤æ–­ä¸»é”®æ˜¯å¦å”¯ä¸€ï¼Œå°±å¿…é¡»æŠŠæ•°æ®é¡µè¯»å…¥å†…å­˜ï¼Œæ‰€ä»¥ä¸»é”®ç´¢å¼•ç”¨ä¸ä¸Šchange buffer","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609434051,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":338823,"ip_address":""},"score":338945,"extra":""},{"author":{"id":1237199,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e0/cf/43f201f2.jpg","nickname":"å¹¼å„¿ç¼–ç¨‹æ•™å­¦","note":"","ucode":"F13F3150E6CAE9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1526355,"avatar":"https://static001.geekbang.org/account/avatar/00/17/4a/53/063f9d17.jpg","nickname":"moonfox","note":"","ucode":"902BFF40EFA9FA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339543,"discussion_content":"ç›¸å½“äºæ˜¯æ¯ä¸ªç´¢å¼•ï¼Œä¸€ä¸ªchange bufferï¼Ÿ\nå¦‚æœæˆ‘è¡¨æœ‰ä¸»é”®ï¼Œä¸”æœ‰æ™®é€šç´¢å¼•ï¼Œæ™®é€šç´¢å¼•ç”¨change bufferï¼Ÿä¸»é”®å› ä¸ºåˆ¤æ–­å”¯ä¸€æ€§ï¼Œç”¨ä¸åˆ°ï¼Ÿ\n\næ‰€ä»¥ï¼Œæœ€ç»ˆï¼Œæ™®é€šç´¢å¼•ï¼Œè¿˜æ˜¯èƒ½ä½¿ç”¨change bufferåŠ é€Ÿï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609727417,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":338945,"ip_address":""},"score":339543,"extra":""}]}]},{"had_liked":false,"id":208364,"user_name":"ä¸€å¤©åˆ°æ™šæ¸¸æ³³çš„èœ—ç‰›","can_delete":false,"product_type":"c1","uid":1612985,"ip_address":"","ucode":"6899D26D5C6098","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoTibsAg7RIHibXA2uyyiauAv1rj0g4UuziaY6bc03YWEjic5Bd2Fd7UDdbHQ9rDdz6og7UGVBMuMnruEQ/132","comment_is_top":false,"comment_ctime":1587345370,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587345370","product_id":100020801,"comment_content":"è€å¸ˆï¼šå¯¹äºæ™®é€šç´¢å¼•çš„æŸ¥æ‰¾é—®é¢˜ï¼Œæ–‡ä¸­è¯´åˆ°â€œå¯¹äºæ™®é€šç´¢å¼•æ¥è¯´ï¼ŒæŸ¥æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªè®°å½•ï¼ˆ5ï¼Œ500ï¼‰åï¼Œéœ€è¦æŸ¥æ‰¾ä¸‹ä¸€ä¸ªè®°å½•ï¼Œç›´åˆ°ç¢°åˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³k=5æ¡ä»¶çš„è®°å½•â€æˆ‘æœ‰ä¸¤ä¸ªé—®é¢˜ä¸å¤ªæ˜ç™½ï¼š1ï¼Œæ™®é€šç´¢å¼•åœ¨æŸ¥æ‰¾åˆ°ç¬¬ä¸€æ¡ç¬¦åˆæ¡ä»¶çš„è®°å½•åéœ€è¦æŸ¥æ‰¾ä¸‹ä¸€ä¸ªè®°å½•ï¼Œä¸åº”è¯¥æ˜¯ä¸€ç›´å¾€ä¸‹æ‰¾ï¼Œä¸€ç›´æ‰¾åˆ°æœ€åä¸€æ¡è®°å½•ä¸ºæ­¢å—ï¼Ÿå¯¹äºæ–‡ä¸­è¯´çš„â€œç›´åˆ°ç¢°åˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³æ¡ä»¶çš„è®°å½•â€è¿™ä¸€å¥æˆ‘ä¸å¤ªç†è§£ï¼›2ï¼Œæ™®é€šç´¢å¼•çš„æŸ¥æ‰¾æ“ä½œæ˜¯ä¸æ˜¯æ„å‘³ç€è¦è¿›è¡Œè¯¥è¡¨ç´¢å¼•çš„å…¨éƒ¨æ‰«æï¼Ÿ","like_count":0},{"had_liked":false,"id":208219,"user_name":"çº¢é¢œé“­å¿ƒ","can_delete":false,"product_type":"c1","uid":1889026,"ip_address":"","ucode":"18F94E5444C71A","user_header":"","comment_is_top":false,"comment_ctime":1587303752,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587303752","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªç–‘é—®ï¼š<br>å½“äºŒçº§ç´¢å¼•çš„é¡µé¢ä¸åœ¨ç¼“å†²æ± ä¸­ï¼Œchange bufferä¼šç¼“å­˜å¯¹äºŒçº§ç´¢å¼•(éå”¯ä¸€ç´¢å¼•)çš„æ•°æ®æ“ä½œã€‚<br>change bufferåªä½œç”¨äºbuffer poolçš„index pageï¼Œè¦æ˜¯data pageæœ‰æ›´æ”¹ï¼Œè¿˜æ˜¯è¦ä»ç£ç›˜åˆ·å–æ•°æ®é¡µåˆ°å†…å­˜è¿›è¡Œæ›´æ–°ã€‚<br>æ–‡ä¸­ä¾‹å­å¤ªæœ‰è¯¯å¯¼æ€§äº†ï¼Œchange bufferå°±æ˜¯ä¸ºäº†ä¼˜åŒ–ç´¢å¼•æ•°æ®é¡µçš„æ›´æ–°ï¼Œå‡å°‘éå”¯ä¸€ç´¢å¼•æ›´æ–°æ“ä½œå¯¼è‡´çš„éšæœºIOï¼Œè‡³äºæ•°æ®é¡µæ›´æ–°çš„éšæœºè¯»IOä¸å¯é¿å…ã€‚","like_count":0},{"had_liked":false,"id":208209,"user_name":"çº¢é¢œé“­å¿ƒ","can_delete":false,"product_type":"c1","uid":1889026,"ip_address":"","ucode":"18F94E5444C71A","user_header":"","comment_is_top":false,"comment_ctime":1587302650,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1587302650","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰å‡ ä¸ªç–‘é—®ï¼š<br>1.å¯¹äºinsertæ“ä½œï¼Œè¡¨é‡Œä¸€å®šä¼šæœ‰ä¸»é”®ç´¢å¼•ï¼Œä¸»é”®ç´¢å¼•ä¸€å®šæ˜¯å”¯ä¸€ç´¢å¼•ï¼Œinnodb_change_bufferingè®¾ç½®ä¸ºinsertsä¼šç”Ÿæ•ˆå—ï¼Ÿ<br>2.Page 2 æ²¡æœ‰åœ¨å†…å­˜ä¸­ï¼Œå°±åœ¨å†…å­˜çš„ change buffer åŒºåŸŸï¼Œè®°å½•ä¸‹â€œæˆ‘è¦å¾€ Page 2 æ’å…¥ä¸€è¡Œâ€è¿™ä¸ªä¿¡æ¯<br>  å¯¹äºinsertæ“ä½œï¼Œchange bufferå¦‚ä½•è®°å½•æ•°æ®å†™åœ¨å“ªä¸€ä¸ªæ•°æ®é¡µä¸Šï¼Ÿ<br>  1.å¤§é‡å†™æ“ä½œï¼Œå•ä¸ªæ•°æ®é¡µå­˜å‚¨ä¸ä¸‹ï¼Œchange bufferè®°å½•çš„é¢„å†™æ•°æ®é¡µæ˜¯å¦‚ä½•è®¡ç®—çš„?<br>  2.å¦‚æœæ‰§è¡Œå†™æ“ä½œï¼Œä¸»é”®idå‡ºç°å¾ˆå¤§çš„gapï¼Œæ¯”å¦‚insert id 1 + insert id 10äº¿ï¼Œè¿™ä¸¤æ¡è®°å½•change bufferå¦‚ä½•ç¡®å®šæ•°æ®é¡µï¼Ÿä¼šä¸ä¼šé€ æˆæ•°æ®é¡µç©ºæ´ï¼Ÿ<br>3.changebufferå®šæ—¶åˆ·ç›˜&#47;redologå†™æ»¡&#47;æ•°æ®åº“ç©ºé—²æˆ–å…³é—­ï¼Œä¹Ÿä¼šå°†æ•°æ®é¡µåˆ·æ–°åˆ°å†…å­˜æ‰§è¡Œmergeæ“ä½œï¼ŒåŒæ—¶è¿˜ä¼šæ›´æ–°changebufferç§»é™¤ä¹‹å‰çš„è®°å½•ä¿¡æ¯å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":206181,"user_name":"åˆ˜éƒ‘æ¥¼","can_delete":false,"product_type":"c1","uid":1937853,"ip_address":"","ucode":"F4D4F03BA94392","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/IXFaqWA1whDcclqFtEkRu96icx1zqINCTzkl7k8MQFGyQ9aTsyO9plg5jgehDde9r0SPtNCvWMePKIrWokugqmA/132","comment_is_top":false,"comment_ctime":1586818454,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586818454","product_id":100020801,"comment_content":"â€œå¯¹äºå”¯ä¸€ç´¢å¼•æ¥è¯´ï¼Œæ‰€æœ‰çš„æ›´æ–°æ“ä½œéƒ½è¦å…ˆåˆ¤æ–­è¿™ä¸ªæ“ä½œæ˜¯å¦è¿åå”¯ä¸€æ€§çº¦æŸã€‚æ¯”å¦‚ï¼Œè¦æ’å…¥ (4,400) è¿™ä¸ªè®°å½•ï¼Œå°±è¦å…ˆåˆ¤æ–­ç°åœ¨è¡¨ä¸­æ˜¯å¦å·²ç»å­˜åœ¨ k=4 çš„è®°å½•ï¼Œè€Œè¿™å¿…é¡»è¦å°†æ•°æ®é¡µè¯»å…¥å†…å­˜æ‰èƒ½åˆ¤æ–­ã€‚å¦‚æœéƒ½å·²ç»è¯»å…¥åˆ°å†…å­˜äº†ï¼Œé‚£ç›´æ¥æ›´æ–°å†…å­˜ä¼šæ›´å¿«ï¼Œå°±æ²¡å¿…è¦ä½¿ç”¨ change buffer äº†ã€‚â€<br>é’ˆå¯¹è¿™ä¸ªè§£é‡Šä¸ºä»€ä¹ˆå”¯ä¸€ç´¢å¼•ç”¨ä¸ä¸Šchange  bufferï¼Œæœ‰å‡ ç‚¹ä¸å¤ªæ˜ç™½ï¼Œ<br>1. change  bufferä¹Ÿæ˜¯å†…å­˜ï¼Œä¸Šé¢è¯´ç›´æ¥è¯»åˆ°å†…å­˜ä¸­åšåˆ¤æ–­ï¼Œè¿™ä¸ªå†…å­˜æœ‰å•¥åŒºåˆ«ï¼Ÿ<br>2. å”¯ä¸€ç´¢å¼•æ“ä½œå‰ï¼Œä¸ºå•¥ä¸èƒ½å…ˆåœ¨å†…å­˜ä¸­åˆ¤æ–­å”¯ä¸€æ€§ï¼Œå¦‚æœæ‰¾ä¸åˆ°å†å°†æ•°æ®é¡µè¯»å…¥å†…å­˜ï¼Ÿåæ­£åªè¦åœ¨å†…å­˜ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆçš„å³å¯<br>3. å¯¹äºéå”¯ä¸€ç´¢å¼•éš¾é“ä¸éœ€è¦å°†æ•°æ®é¡µè¯»å…¥å†…å­˜ä¸­å—ï¼Ÿä¸¤è€…çš„åŒºåˆ«è¿˜æ˜¯æ²¡å¤ªæ˜ç™½<br><br>è°¢è°¢è€å¸ˆè®²è§£","like_count":0},{"had_liked":false,"id":205876,"user_name":"L-ä¼Ÿå½ª","can_delete":false,"product_type":"c1","uid":1930296,"ip_address":"","ucode":"9A21FD80FD7A93","user_header":"https://static001.geekbang.org/account/avatar/00/1d/74/38/93e4694a.jpg","comment_is_top":false,"comment_ctime":1586749731,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1586749731","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸‹ï¼Œå¦‚æœä¸€å¼ è¡¨table1æœ‰(id,k,l)ä¸‰ä¸ªå­—æ®µ,ç„¶åå»ºäº†(k)çš„ç´¢å¼•å’Œ (l,k)çš„è”åˆç´¢å¼•,åœ¨å¯¹kè¿›è¡Œæ›´æ–°æ“ä½œçš„æ—¶å€™,change buffè®°å½•äº†å˜æ›´,ç„¶åå¯¹kè¿›è¡ŒæŸ¥è¯¢(select * from table1 where k=2)ï¼Œè¿™ä¸ªæ—¶å€™change buffä¼šå¯¹kç´¢å¼•çš„å¯¹åº”æ•°æ®é¡µè¿›è¡Œmergeï¼Œé‚£è”åˆç´¢å¼•(l,k)çš„æ•°æ®è¦æ€ä¹ˆæ›´æ–°ï¼Ÿ","like_count":0},{"had_liked":false,"id":204440,"user_name":"Vongola","can_delete":false,"product_type":"c1","uid":1047073,"ip_address":"","ucode":"F2FDAEBC049CBC","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fa/21/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1586400467,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1586400467","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹change buffer åœ¨å†…å­˜ä¸­æœ‰æ‹·è´ï¼Œä¹Ÿä¼šè¢«å†™å…¥åˆ°ç£ç›˜ä¸Šï¼Œé‚£ä¹ˆå®ƒä»€ä¹ˆæ—¶å€™å†™å…¥ç£ç›˜å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":198644,"user_name":"ç‹ç«‹","can_delete":false,"product_type":"c1","uid":1904760,"ip_address":"","ucode":"44A4EF95403731","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKWiaZb7a2JAcDQ0kYYy2knpK8sTqicvG2Ukb1HdeE0fMMSINiagU401uibLicbIXVwRG7coDyDTOuYCSA/132","comment_is_top":false,"comment_ctime":1585461447,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585461447","product_id":100020801,"comment_content":"æ²¡å†™redo logä¹‹å‰æ•°æ®ä¸¢å¤±ï¼Œå†™äº†ä¹‹åä¸ä¸¢å¤±<br>","like_count":0},{"had_liked":false,"id":197595,"user_name":"tyy","can_delete":false,"product_type":"c1","uid":1302149,"ip_address":"","ucode":"C3B436E6562744","user_header":"https://static001.geekbang.org/account/avatar/00/13/de/85/da98e390.jpg","comment_is_top":false,"comment_ctime":1585387216,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585387216","product_id":100020801,"comment_content":"å¦‚æœä¼šæ»šäº†ï¼Œchange bufferé‡Œçš„æ•°æ®æ€ä¹ˆå¤„ç†","like_count":0},{"had_liked":false,"id":195465,"user_name":"åæŒ¯å®‡","can_delete":false,"product_type":"c1","uid":1908392,"ip_address":"","ucode":"2962084A13FE57","user_header":"https://static001.geekbang.org/account/avatar/00/1d/1e/a8/225e715b.jpg","comment_is_top":false,"comment_ctime":1585189718,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1585189718","product_id":100020801,"comment_content":"æˆ‘æ¥çš„æ™šï¼Œä»Šå¤©åˆšå­¦åˆ°è¿™é‡Œï¼Œæˆ‘æœ‰å‡ ä¸ªé—®é¢˜ï¼š<br>1ã€åªè¦æŸæ•°æ®é¡µæ•°æ®å·²ç»åœ¨å†…å­˜ä¸­äº†ï¼Œé‚£ä¹ˆchange buffå¯¹è¿™ä¸ªæ•°æ®é¡µä¹Ÿå°±æ²¡ç”¨äº†ï¼Œé‚£ä¹ˆchange buffé‡Œå…³äºè¿™ä¸ªæ•°æ®é¡µçš„æ›´æ–°è®°å½•ä¼šæ¸…æ‰å—ï¼Ÿä¼šåœ¨ä»€ä¹ˆæ—¶å€™æ¸…æ‰ï¼Ÿ<br>2ã€å¦‚æœchange buffæœ‰æŸæ•°æ®é¡µçš„æ•°æ®ï¼Œä½†æ­¤æ•°æ®é¡µçš„æ•°æ®ä¸€ç›´éƒ½æ²¡æœ‰åŒæ­¥çš„æ²¡å­˜ä¸­ï¼Œé‚£ä¹ˆæ•°æ®æœ€åæ˜¯æ€ä¹ˆåŒæ­¥åˆ°ç£ç›˜ä¸Šçš„<br>3ã€æˆ‘è®°å¾—åœ¨ç¬¬äºŒç« è®²æ›´æ–°è¯­å¥æµç¨‹çš„æ—¶å€™ï¼Œæ‰§è¡Œæ›´æ–°è¯­å¥ä¹‹å‰ä¼šæ‰§è¡ŒæŸ¥è¯¢è¯­å¥ï¼Œå¦‚æœè¿™æ ·åƒupdateå’Œdeleteè¯­å¥æ˜¯ä¸æ˜¯changge buffå°±ç”¨ä¸ä¸Šäº†<br>è°¢è°¢è€å¸ˆï¼ï¼ï¼","like_count":0},{"had_liked":false,"id":190989,"user_name":"while (1)ç­‰;","can_delete":false,"product_type":"c1","uid":1061991,"ip_address":"","ucode":"BAEC7258D65B69","user_header":"https://static001.geekbang.org/account/avatar/00/10/34/67/06a7f9be.jpg","comment_is_top":false,"comment_ctime":1584716295,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1584716295","product_id":100020801,"comment_content":"çœ‹å®Œè¯„è®ºæ›´ä¸æ‡‚äº†ï¼Œchange buffé‡Œåªæ˜¯è®°å½•çš„ä¿®æ”¹ï¼Œä¸æ˜¯è¿˜è¦è¯»ç£ç›˜æ‰¾åˆ°æºæ•°æ®mergeå—ï¼Ÿä¸æ˜¯æ¯”ç›´æ¥è¯»æºæ•°æ®è¿˜å¤šäº†å¾ˆå¤šæ“ä½œå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":189972,"user_name":"helloworld2018","can_delete":false,"product_type":"c1","uid":1210386,"ip_address":"","ucode":"2AE40C0DF5A9F7","user_header":"https://static001.geekbang.org/account/avatar/00/12/78/12/7df38a54.jpg","comment_is_top":false,"comment_ctime":1584587021,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584587021","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆï¼ŒåŸºç¡€ç¯‡02è¯´è¿‡ï¼Œupdateçš„æ—¶å€™ä¸éƒ½æ˜¯å…ˆå°†æ•°æ®é¡µè¯»å…¥åˆ°å†…å­˜ä¸­çš„å—ï¼Ÿæ‰€ä»¥è¯´updateçš„æ—¶å€™å†…å­˜é‡Œè‚¯å®šæ˜¯æœ‰æ•°æ®é¡µçš„å§","like_count":0},{"had_liked":false,"id":189326,"user_name":"Geek_103be1","can_delete":false,"product_type":"c1","uid":1787985,"ip_address":"","ucode":"31BB2DAFB7C06C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/LBiaGCiaccvTvibCJdLdFdnVkH1mPbZ4Sar84o74tRP7ld59HbhE0oqXibta80GezBC81Y20WtA99s9fmiaOKVmickwg/132","comment_is_top":false,"comment_ctime":1584500466,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584500466","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæ•°æ®åœ¨æ›´æ–°çš„æ—¶å€™ï¼Œæˆ‘è®°å¾—è¦å†™ä¸€æ¬¡log bufferçš„æ—¥å¿—åå†å†™redo logï¼Œæ˜¯è¿™æ ·å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":188791,"user_name":"è¯·å«æˆ‘ç´«çš®ä¹¦","can_delete":false,"product_type":"c1","uid":1203288,"ip_address":"","ucode":"29F98AB3A5D98E","user_header":"https://static001.geekbang.org/account/avatar/00/12/5c/58/590d0a43.jpg","comment_is_top":false,"comment_ctime":1584416164,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584416164","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æœ‰å‡ ä¸ªç–‘é—®ï¼Œchange bufferéƒ½ç¼“å­˜äº†å¯¹èšé›†ç´¢å¼•é¡µå’Œæ™®é€šç´¢å¼•é¡µçš„ä¿®æ”¹ä¹ˆï¼Ÿæ–‡ä¸­åˆ—å­page2ä¸åœ¨å†…å­˜ä¸­ï¼Œé‚£change bufferè®°å½•å¯¹é¡µä¿®æ”¹çš„æ˜¯ç‰©ç†æ—¥å¿—è¿˜æ˜¯é€»è¾‘æ—¥å¿—ï¼Œå¯¹page2ä¿®æ”¹çš„redo logæ˜¯åœ¨mergeæ—¶å†™å…¥çš„è¿˜æ˜¯åœ¨æ‰§è¡Œsqlæ—¶å†™å…¥çš„ï¼Œå¦‚æœæ˜¯åœ¨æ‰§è¡Œsqlæ—¶å†™å…¥çš„é‚£æ˜¯æ€ä¹ˆçŸ¥é“å¯¹page2ä¿®æ”¹ä½ç½®çš„ï¼Ÿæœ›è€å¸ˆè§£æƒ‘","like_count":0},{"had_liked":false,"id":187344,"user_name":"ç‹¬èˆŸæ³›æµ·","can_delete":false,"product_type":"c1","uid":1238514,"ip_address":"","ucode":"E35C8CEFAF062D","user_header":"https://static001.geekbang.org/account/avatar/00/12/e5/f2/21ea4d37.jpg","comment_is_top":false,"comment_ctime":1584087972,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584087972","product_id":100020801,"comment_content":"è€å¸ˆ,æˆ‘æœ‰å‡ ä¸ªé—®é¢˜æƒ³è¯·æ•™ä¸‹:<br>1.chenge bufferé‡Œé¢çš„æ•°æ®æ˜¯å¯¹é¡µçš„æ“ä½œï¼Œä½†æ˜¯è¿™æ—¶æ€ä¹ˆçŸ¥é“è¿™æ¡æ•°æ®åº”è¯¥åœ¨å“ªé¡µå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":187017,"user_name":"Kvicii.Y","can_delete":false,"product_type":"c1","uid":1442588,"ip_address":"","ucode":"446BFA633569EA","user_header":"https://static001.geekbang.org/account/avatar/00/16/03/1c/c9fe6738.jpg","comment_is_top":false,"comment_ctime":1583991988,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583991988","product_id":100020801,"comment_content":"â€œè¦è¯» Page 2 çš„æ—¶å€™ï¼Œéœ€è¦æŠŠ Page 2 ä»ç£ç›˜è¯»å…¥å†…å­˜ä¸­ï¼Œç„¶ååº”ç”¨ change buffer é‡Œé¢çš„æ“ä½œæ—¥å¿—ï¼Œç”Ÿæˆä¸€ä¸ªæ­£ç¡®çš„ç‰ˆæœ¬å¹¶è¿”å›ç»“æœã€‚â€ï¼Œè¿™ä¸ªæ—¶å€™æ˜¯ä¼šè§¦å‘mergeæ“ä½œçš„å§ï¼Ÿï¼Ÿå¦‚æœå‘ç”Ÿäº†ï¼Œæ˜¯ä¸æ˜¯æ„å‘³ç€è¯»å’Œmergeæ˜¯æœ‰å…ˆåé¡ºåºçš„è¿˜æ˜¯å¹¶è¡Œçš„ï¼Ÿ","like_count":0},{"had_liked":false,"id":186565,"user_name":"æ·±ç™½è‰²","can_delete":false,"product_type":"c1","uid":1123171,"ip_address":"","ucode":"C4B26AB70D8A6D","user_header":"https://static001.geekbang.org/account/avatar/00/11/23/63/4fb6fee0.jpg","comment_is_top":false,"comment_ctime":1583885248,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583885248","product_id":100020801,"comment_content":"å…³äºchange bufferæŒä¹…åŒ–çš„ç–‘é—®ï¼Œæ‰€æœ‰change bufferéƒ½è®°å½•åœ¨redoä¸­ï¼Œé‡å¯ä¸€æ ·å¯ä»¥æ¢å¤å•Šã€‚æ˜¯ä¸æ˜¯redoæ˜¯æœ‰å¤§å°é™åˆ¶çš„ï¼Œé‡‡ç”¨å¾ªç¯å†™ï¼Œä¼šå­˜åœ¨è¦†ç›–çš„æƒ…å†µï¼Œredoä¸­å¹¶ä¸èƒ½ä¿å­˜æ‰€æœ‰çš„change bufferï¼Œæ‰€ä»¥æ‰éœ€è¦æŒä¹…åŒ–ï¼Ÿå¦‚æœæ˜¯è¿™æ ·ï¼Œredoåœ¨è¦†ç›–çš„æ—¶å€™æŠŠä¹‹å‰çš„change bufferè¿›è¡Œmergeæ“ä½œï¼Œæ˜¯ä¸æ˜¯change bufferå°±å¯ä»¥ä¸ç”¨æŒä¹…åŒ–äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":184447,"user_name":"å¤©å¤©å‘ä¸Š","can_delete":false,"product_type":"c1","uid":1242455,"ip_address":"","ucode":"0CCCA6F4DCC480","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/57/ce10fb1b.jpg","comment_is_top":false,"comment_ctime":1583317313,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583317313","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜å“ˆï¼Œå¦‚æœæ›´æ–°æŸæ¡æ•°æ®ï¼Œæ—¢å†™äº†change bufferï¼Œåˆå†™äº†redo logï¼Œé‚£ç­‰åˆ°redo logç½—ç›˜åã€‚ä¸‹æ¬¡æŸ¥è¯¢è¯¥æ•°æ®ï¼Œä»ç£ç›˜è¯»å–åˆ°å†…å­˜ï¼Œè¿™æ—¶å€™ï¼Œè¯»å–åˆ°çš„æ•°æ®å·²ç»æ˜¯æ­£ç¡®çš„äº†å•Šï¼Œé‚£change bufferè¿˜éœ€è¦è¿›è¡Œmergeå—ï¼Œå¦‚æœéœ€è¦çš„è¯ï¼Œå¥½åƒæ²¡ä»€ä¹ˆå¿…è¦å§","like_count":0},{"had_liked":false,"id":183996,"user_name":"ã¾ã¦ã‚ˆ","can_delete":false,"product_type":"c1","uid":1744694,"ip_address":"","ucode":"427C036F414FF5","user_header":"https://static001.geekbang.org/account/avatar/00/1a/9f/36/16e8d324.jpg","comment_is_top":false,"comment_ctime":1583200791,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583200791","product_id":100020801,"comment_content":"å¯¹äº DML ä¸æ˜¯ä¼šè¿”å›å½±å“äº†å‡ è¡Œå—ï¼Ÿinsert è¿˜èƒ½è®¡ç®—ï¼Œå¯¹äº update å’Œ delete ï¼Œå¦‚æœåªå†™ change buffer æ²¡æœ‰è¯»å…¥å†…å­˜ï¼Œæ€ä¹ˆåˆ¤æ–­å½±å“çš„è¡Œæ•°å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":183937,"user_name":"å¤©å¤©å‘ä¸Š","can_delete":false,"product_type":"c1","uid":1242455,"ip_address":"","ucode":"0CCCA6F4DCC480","user_header":"https://static001.geekbang.org/account/avatar/00/12/f5/57/ce10fb1b.jpg","comment_is_top":false,"comment_ctime":1583164658,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1583164658","product_id":100020801,"comment_content":"å…³é—­change bufferæ˜¯å°†innodb_change_buffer_max_sizeè®¾ç½®ä¸º0å—ï¼Ÿ<br>å¦‚æœæ˜¯çš„è¯ï¼Œé‚£å°±è®¾ç½®äº†æ•´ä¸ªåº“çš„ã€‚ä½†æ˜¯æˆ‘æƒ³è®¾ç½®æŸä¸ªè¡¨çš„æ€ä¹ˆåŠã€‚","like_count":0},{"had_liked":false,"id":182858,"user_name":"ipofss","can_delete":false,"product_type":"c1","uid":1018620,"ip_address":"","ucode":"DE3061C9259F9E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8a/fc/d1dd57dd.jpg","comment_is_top":false,"comment_ctime":1582877432,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582877432","product_id":100020801,"comment_content":"æ²¡æœ‰change bufferæ—¶ï¼Œredo logåˆ†2é˜¶æ®µï¼Œå…ˆredo logçš„prepareçŠ¶æ€ï¼Œå†å†™binlogï¼Œæœ€åredo logçš„commitè£…å¡«ã€‚<br><br>æœ‰change bufferæ—¶ï¼Œåœ¨redo logä¹‹å‰å®Œæˆï¼Œä¹Ÿå°±æ˜¯change bufferé‡Œæœ‰2éƒ¨åˆ†æ•°æ®ï¼Œä¸€éƒ¨åˆ†å·²ç»å†™äº†redo logï¼Œè¿™éƒ¨åˆ†ä¸å­˜åœ¨æ•°æ®ä¸¢å¤±é—®é¢˜ï¼Œä¸€éƒ¨åˆ†æ²¡å†™redo logï¼Œè¿™éƒ¨åˆ†ä¼šä¸¢å¤±ï¼Œä½†ç”±äºè¿binlogé‡Œä¹Ÿæ²¡æœ‰ï¼Œä¹Ÿå°±ä¸å­˜åœ¨è„æ•°æ®ï¼Œå¯¹MySQLæ¥è¯´ï¼Œé‡å¯ä¹‹åï¼Œå¥½åƒä¸¢å¤±çš„é‚£äº›change bufferé‡Œçš„è¯­å¥ä»æ¥æ²¡è§è¿‡ä¼¼çš„ã€‚","like_count":0},{"had_liked":false,"id":182856,"user_name":"å¤©äº®å‰è¯´æ™šå®‰","can_delete":false,"product_type":"c1","uid":1541014,"ip_address":"","ucode":"1D82EE562A7C71","user_header":"https://static001.geekbang.org/account/avatar/00/17/83/96/73ff13a0.jpg","comment_is_top":false,"comment_ctime":1582876807,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582876807","product_id":100020801,"comment_content":"1ã€ä¸»é”®ç´¢å¼•æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯å”¯ä¸€ç´¢å¼•çš„æƒ…å†µï¼Ÿä¸ä¼šä½¿ç”¨change bufferï¼Œæ‰€ä»¥ä¸»é”®ç´¢å¼•æœ€å¥½è®¾è®¡æˆå•è°ƒé€’å¢ï¼Œè¿™æ ·å¯ä»¥é¡ºåºå†™ã€‚<br>2ã€æ™®é€šç´¢å¼•é¡µåˆ†è£‚æ˜¯ä¸æ˜¯æ¯”å”¯ä¸€ç´¢å¼•é¡µåˆ†è£‚å½±å“å°ï¼Œå› ä¸ºæœ‰change  bufferï¼Œåˆ†è£‚è¿‡ç¨‹æ˜¯å¼‚æ­¥çš„ï¼ŒMySQLä¼šåœ¨ç©ºé—²æ—¶é—´æ‰§è¡Œè¯¥è¿‡ç¨‹ã€‚","like_count":0},{"had_liked":false,"id":182700,"user_name":"ä¹”ä¸¹","can_delete":false,"product_type":"c1","uid":1217413,"ip_address":"","ucode":"D832A9F97A0C7E","user_header":"https://static001.geekbang.org/account/avatar/00/12/93/85/f5d9474c.jpg","comment_is_top":false,"comment_ctime":1582853009,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582853009","product_id":100020801,"comment_content":"å¯¹chang bufferå’Œredo logä¹‹é—´çš„ç†è§£ï¼šå…¶å®change bufferæ˜¯æ™®é€šç´¢å¼•ä¸ºäº†å‡å°‘io readçš„æ“ä½œè€Œè®¾ç½®çš„ã€‚å®ƒä¼šåœ¨åå°åšmergeã€‚<br>æˆ‘çš„ç–‘é—®å°±æ˜¯ï¼šä¸ºå•¥å®ƒmergeåˆ°äº†ç³»ç»Ÿè¡¨ç©ºé—´ï¼ˆibdata1)ï¼Œè€Œä¸æ˜¯æ•°æ®æœ€ç»ˆçš„å­˜æ”¾ä½ç½®æ•°æ®è¡¨ç©ºé—´ï¼ˆt.ibdï¼‰ï¼Ÿè¿™ä¸¤è€…ä¹‹é—´çš„è”ç³»æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":179474,"user_name":"é˜¿å¾·","can_delete":false,"product_type":"c1","uid":1602420,"ip_address":"","ucode":"186D5E19E3CB6E","user_header":"https://static001.geekbang.org/account/avatar/00/18/73/74/3bf4b74e.jpg","comment_is_top":false,"comment_ctime":1582011765,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1582011765","product_id":100020801,"comment_content":"changebufferçŸ¥è¯†ç‚¹ï¼Œè¯´åˆ°å¦‚æœè¦æ›´æ–°çš„æ•°æ®é¡µæ²¡æœ‰åœ¨å†…å­˜ï¼Œå°±å…ˆå†™å…¥changebufferã€‚  æˆ‘è¿™é‡Œæœ‰ä¸ªç–‘é—®ï¼Œå½“updateçš„æ—¶å€™ï¼Œæ¯”å¦‚update  è¡¨_t set aï¼1 where bï¼10; è¿™é‡Œbæ˜¯æ™®é€šç´¢å¼•ã€‚<br>æ˜¯å¦åº”è¯¥å…ˆè¯»å‡ºæ•°æ®é¡µæŸ¥æ‰¾bï¼10è¿™è¡Œæ•°æ®æ˜¯å¦å­˜åœ¨?â‘ å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆè¿™æ ·æ•°æ®é¡µå°±ä¼šåŠ è½½åˆ°å†…å­˜ï¼Œè‡ªç„¶æ›´æ–°å°±ç›´æ¥æ›´æ”¹å†…å­˜çš„ï¼Œé‚£ä¹ˆchangebufferå¥½åƒæ²¡æœ‰ç”¨åˆ°ã€‚  <br>â‘¡å¦‚æœä¸ç”¨å…ˆåˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Œé‚£ä¹ˆæ˜¯å¦å°±æ˜¯å…ˆå°†æ›´æ–°è®°å½•åœ¨changebufferï¼Œç„¶åç­‰åˆ°mergeæ—¶ï¼Œå‘ç°æ²¡æœ‰å­˜åœ¨ç›´æ¥ä¸¢å¼ƒè¿™ä¸ªæ›´æ–°","like_count":0},{"had_liked":false,"id":179246,"user_name":"æ˜Ÿæ˜Ÿ","can_delete":false,"product_type":"c1","uid":1259219,"ip_address":"","ucode":"0495A81BBC98A7","user_header":"https://static001.geekbang.org/account/avatar/00/13/36/d3/5d0f3222.jpg","comment_is_top":false,"comment_ctime":1581944059,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581944059","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æœ‰ä¸€ä¸ªç–‘é—®ï¼š<br>changebufferèƒ½å¤Ÿè®°å½•äºŒçº§ç´¢å¼•çš„æ›´æ–°æ“ä½œï¼Œä¸‹ä¸€æ¬¡æŸ¥è¯¢çš„æ—¶å€™å†åº”ç”¨åˆ°é¡µï¼Œè¿™æ ·çš„è¯changebufferæ˜¯å¦ç›¸å½“äºä¹‹å‰è®²å­”ä¹™å·±èµŠè´¦ä¾‹å­ä¸­çš„ç²‰æ¿ï¼Œredologçš„ä½œç”¨ä»…ä»…æ˜¯ä¿è¯äº†crash-safe","like_count":0},{"had_liked":false,"id":177790,"user_name":"æœˆè¿·æ´¥æ¸¡","can_delete":false,"product_type":"c1","uid":1264111,"ip_address":"","ucode":"2B18B2FE3DAC3B","user_header":"https://static001.geekbang.org/account/avatar/00/13/49/ef/02401473.jpg","comment_is_top":false,"comment_ctime":1581500615,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581500615","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜æ²¡å¤ªæ˜ç™½ redologç§¯æ”’ä¸€æ³¢å¯ä»¥å†™æ•°æ®æ–‡ä»¶ã€‚<br>ç”¨æˆ·åœ¨è¯»å–åˆ°å¯¹åº”æ•°æ®æ—¶å€™ä¼šç»“åˆdbæ•°æ®ç„¶åapply changebuffer è¿”å›å®¢æˆ·ç«¯ ç„¶åå­˜åœ¨å†…å­˜é‡Œï¼Ÿ<br>changeBufferæ¸…é™¤çš„æ—¶æœºæ˜¯ä»€ä¹ˆã€‚å’Œredologåˆ·ç›˜çš„æ—¶æœºæœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ<br>ä¼šä¸ä¼šå‡ºç°åŒåˆ·ï¼Ÿæ²¡å¤ªæƒ³æ˜ç™½è¿™å—å†…å®¹","like_count":0},{"had_liked":false,"id":176582,"user_name":"é£äº‘å˜","can_delete":false,"product_type":"c1","uid":1510011,"ip_address":"","ucode":"E586B6E3FD5157","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJgtVYia3HhaS65DjiaWBfTJj0yded6xBZbw0jT3IOxcqQibLz3yibw5KXK515tYXr3iaMibcywadst6C1w/132","comment_is_top":false,"comment_ctime":1581091933,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1581091933","product_id":100020801,"comment_content":"æœºå™¨æ‰ç”µåï¼Œchange bufferä¸­éƒ¨åˆ†æ•°æ®å¯ä»¥ä»system table spaceä¸­æ¢å¤ï¼Œå¦‚æœæ²¡æœ‰äº†ï¼Œè¿˜å¯ä»¥ä»redologä¸­æ‰¾å›ï¼Œç»“åˆæ—§çš„æ•°æ®é¡µè¿›è¡Œå‰æ»šã€‚","like_count":0},{"had_liked":false,"id":175311,"user_name":"åœ¨è·¯ä¸Š","can_delete":false,"product_type":"c1","uid":1215139,"ip_address":"","ucode":"258880ACE79448","user_header":"https://static001.geekbang.org/account/avatar/00/12/8a/a3/aee7ded7.jpg","comment_is_top":false,"comment_ctime":1580651364,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580651364","product_id":100020801,"comment_content":"è¿˜æ˜¯æœ‰ç–‘æƒ‘ <br>æœºå™¨æ‰ç”µé‡å¯ ï¼Œæ ¹æ® â€œéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè™½ç„¶åå­—å«ä½œ change bufferï¼Œå®é™…ä¸Šå®ƒæ˜¯å¯ä»¥æŒä¹…åŒ–çš„æ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œchange buffer åœ¨å†…å­˜ä¸­æœ‰æ‹·è´ï¼Œä¹Ÿä¼šè¢«å†™å…¥åˆ°ç£ç›˜ä¸Šã€‚â€ <br>change buffer ä¸­çš„æ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜å› æ­¤å¯ä»¥æ¢å¤åˆ°é‡å¯ä»¥å‰ï¼›<br>æ ¹æ®redologå’Œbinlogçš„çŠ¶æ€ç¡®ä¿æ•°æ®åº“çš„æ•°æ®ä¸€è‡´æ€§ã€‚<br>çœ‹åˆ°ç½®é¡¶çš„æ„Ÿè§‰å’Œè‡ªå·±çš„ç†è§£ä¸ä¸€æ ·<br>","like_count":0},{"had_liked":false,"id":175237,"user_name":"é›¨è’™è’™","can_delete":false,"product_type":"c1","uid":1813288,"ip_address":"","ucode":"06B17333308863","user_header":"","comment_is_top":false,"comment_ctime":1580625872,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580625872","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œå›¾3ä¸­ è¦è¯» Page 2 çš„æ—¶å€™ï¼Œéœ€è¦æŠŠ Page 2 ä»ç£ç›˜è¯»å…¥å†…å­˜ä¸­ï¼Œç„¶ååº”ç”¨ change buffer é‡Œé¢çš„æ“ä½œæ—¥å¿—ï¼Œç”Ÿæˆä¸€ä¸ªæ­£ç¡®çš„ç‰ˆæœ¬å¹¶è¿”å›ç»“æœã€‚æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š<br>1ã€è¿™ä¸ªè¯»å–è¿‡ç¨‹ä¸­å·²ç»å‘ç”Ÿmergeï¼Œè¿™æ—¶chang bufferè¿˜å­˜åœ¨è¿™ä¸ªå˜æ›´è®°å½•å—ï¼Ÿ<br>2ã€ä¸å­˜åœ¨çš„è¯ï¼Œibdataå…±äº«è¡¨ç©ºé—´ä¸­çš„è¿™ä¸ªchangeè®°å½•åœ¨å“ªä¸ªè¿‡ç¨‹ä¸­åˆ é™¤ï¼Ÿ","like_count":0},{"had_liked":false,"id":175186,"user_name":"åå¤§æ°å‡ºé’å¹´","can_delete":false,"product_type":"c1","uid":1559178,"ip_address":"","ucode":"BAB4AA12604CF6","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/a5U0nqaicLy5ZJkESxBd5lMicNQcTTDK8vURyyWiabHxic7vS1VVk7HWTZg6ltyWJ3n9jb3Gq554ibfjsf7bv1v1Sdw/132","comment_is_top":false,"comment_ctime":1580607318,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1580607318","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘çœ‹æ‚¨è¯„è®ºè¯´ï¼š<br>ç¬¬ä¸€æ­¥ï¼Œmergeå…¶å®æ˜¯ä»ç£ç›˜è¯»æ•°æ®é¡µåˆ°å†…å­˜ï¼Œç„¶ååº”ç”¨ï¼Œè¿™ä¸€æ­¥éƒ½æ˜¯æ›´æ–°çš„å†…å­˜ï¼ŒåŒæ—¶å†™redolog<br>ä½†æ–‡ä¸­ä¹Ÿè¯´page2ä¸åœ¨å†…å­˜ä¸­ï¼Œå†™äº†change bufferåå†å†™redo logï¼Œé‚£å†™redo logå…·ä½“æ˜¯åœ¨ä»€ä¹ˆæ—¶å€™å†™å‘€ï¼Ÿæ˜¯å†™å®Œchange bufferå†™è¿˜æ˜¯mergeçš„æ—¶å€™å†™å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":173917,"user_name":"SuperSnow","can_delete":false,"product_type":"c1","uid":1065351,"ip_address":"","ucode":"84C89AA8083E6A","user_header":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","comment_is_top":false,"comment_ctime":1579782142,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579782142","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸¤ä¸ªé—®é¢˜ï¼š<br>1ã€change bufferæ˜¯å ç”¨çš„buffer poolä¸€éƒ¨åˆ†ç©ºé—´çš„ï¼Œè€Œåªæœ‰æ‰§è¡Œç›¸åº”æ•°æ®é¡µçš„è¯»å–åï¼Œæ‰ä¼šè§¦å‘mergeæ“ä½œã€‚å¦‚æœæˆ‘è¿Ÿè¿Ÿæ²¡æœ‰æ‰§è¡Œç›¸åº”æ•°æ®é¡µçš„è¯»å–ï¼Œé‚£change bufferçš„æ›´æ–°çš„æ•°æ®å¾ˆå¤šï¼Œå æ»¡äº†ç›¸åº”çš„å†…å­˜ç©ºé—´ï¼Œé‚£ä¼šæ‰§è¡Œä»€ä¹ˆæ ·çš„åŠ¨ä½œï¼Œæˆ–è€…æœ‰ä»€ä¹ˆæ ·çš„æœºåˆ¶å‘¢ï¼Ÿ<br>2ã€æˆ‘åœ¨è¯„è®ºåŒºé‡Œé¢çœ‹åˆ°change bufferè¿˜æ¶‰åŠåˆ°å†™redo logï¼Œä½†æˆ‘åœ¨æ–‡ç« ä¸­å¹¶æ²¡æœ‰å‘ç°è¿™ç±»å­—çœ¼ï¼Œè¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":173916,"user_name":"SuperSnow","can_delete":false,"product_type":"c1","uid":1065351,"ip_address":"","ucode":"84C89AA8083E6A","user_header":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","comment_is_top":false,"comment_ctime":1579781362,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1579781362","product_id":100020801,"comment_content":"å•¥æ„æ€ï¼Œchange bufferä»€ä¹ˆæ—¶å€™å†™åˆ°redo logä¸­ï¼Œæ–‡ç« é‡Œé¢æ²¡æœ‰æåˆ°å•Šã€‚","like_count":0},{"had_liked":false,"id":170288,"user_name":"æœ€åˆçš„å°è±¡","can_delete":false,"product_type":"c1","uid":1228852,"ip_address":"","ucode":"4DD68307FA274E","user_header":"https://static001.geekbang.org/account/avatar/00/12/c0/34/0574bb44.jpg","comment_is_top":false,"comment_ctime":1578561654,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1578561654","product_id":100020801,"comment_content":"å¦‚æœä¸€å¼ è¡¨é‡Œ(å¦‚ï¼šusersè¡¨)å·²ç»æœ‰ä¸€ä¸ªå­—æ®µæ˜¯å”¯ä¸€ç´¢å¼•äº†æ¯”å¦‚card_idï¼Œé‚£åé¢å¦‚æœè¦æŠŠå…¶ä»–å­—æ®µï¼ˆå¦‚ï¼šuser_nameï¼‰åŠ ç´¢å¼•ï¼Œæ­¤æ—¶å¦‚æœåŠ æ™®é€šç´¢å¼•ä¹Ÿç”¨ä¸åˆ°change bufferäº†å§ï¼Œå› ä¸ºæ¯æ¬¡æ–°å¢çš„æ—¶å€™éƒ½å¾—æ£€æŸ¥card_idæ˜¯å¦å”¯ä¸€ï¼Œæ­¤æ—¶å·²ç»å’Œuser_nameçš„ç´¢å¼•ç±»å‹æ— å…³äº†å§","like_count":0},{"had_liked":false,"id":167892,"user_name":"â€¦","can_delete":false,"product_type":"c1","uid":1488435,"ip_address":"","ucode":"381A9A19857A6F","user_header":"","comment_is_top":false,"comment_ctime":1577958864,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1577958864","product_id":100020801,"comment_content":"è€å¸ˆé—®ä¸€ä¸‹,ä¸ŠæœŸé—®é¢˜ä¸­ï¼Œ ç¬¬2ç§æƒ…å†µ ä»€ä¹ˆæƒ…å†µä¸‹ SessionA è¯» SessionBæ˜¯ç‰ˆæœ¬æœªæäº¤?   çœ‹ä½ å†™çš„SessionBåœ¨SessionA updateçš„æ—¶å€™ä¸æ˜¯å·²ç»æäº¤äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":163351,"user_name":"å¾çš‡ä¸‡å²ä¸‡å²ä¸‡ä¸‡å²","can_delete":false,"product_type":"c1","uid":1135155,"ip_address":"","ucode":"8FDD608729A002","user_header":"https://static001.geekbang.org/account/avatar/00/11/52/33/abf321b7.jpg","comment_is_top":false,"comment_ctime":1576710446,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1576710446","product_id":100020801,"comment_content":"æˆ‘ä¸æ¸…æ¥šè€å¸ˆåˆ—å­ä¸­çš„ï¼ˆid2,k2ï¼‰æ˜¯åœ¨page2ä¸­ï¼›å› ä¸ºè¦çŸ¥é“ï¼ˆid2,k2ï¼‰åœ¨é‚£ä¸ªpageï¼Œä¸å¾—å»ç£ç›˜æŸ¥è¯¢ç´¢å¼•æ ‘æ‰çŸ¥é“å—ï¼Ÿè€Œå»æŸ¥è¯¢ç´¢å¼•æ ‘ä¸å°±è¿›è¡Œç£ç›˜ioäº†ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149937,"discussion_content":"ç´¢å¼•æ ‘å¤§æ¦‚ç‡æƒ…å†µä¸‹æ˜¯åœ¨å†…å­˜ä¸­çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579784643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":162756,"user_name":"Geek_eb2e49","can_delete":false,"product_type":"c1","uid":1637789,"ip_address":"","ucode":"21671F0C4E7872","user_header":"https://wx.qlogo.cn/mmopen/vi_32/4PvDe2mRia2vdMGyickA40y2libhpf8ibmIEQquLUZFMXUMqqDjfVb96Y69p7bS6USgxicOKCCHxQHczHBnNb5L9nfA/132","comment_is_top":false,"comment_ctime":1576585260,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1576585260","product_id":100020801,"comment_content":" ä¸å¥‡è€å¸ˆï¼Œ<br>mysql&gt; insert into t(id,k) values(id1,k1),(id2,k2);<br>è¯·é—®ä¸‹è¿™ä¸ªæ’å…¥è¯­å¥ä¸æ˜¯ä¹ŸåŒæ—¶å¾€ä¸»é”®IDæ’å…¥æ•°æ®æ•°æ®å—ï¼Ÿè¿™ç§æƒ…å†µä¸‹è¿˜ä¼šç”¨åˆ°chane bufferå—ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149941,"discussion_content":"å¦‚æœkå€¼æ˜¯æ™®é€šç´¢å¼•çš„è¯ï¼Œæ˜¯éœ€è¦change bufferçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579784684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161127,"user_name":"ç§‹å¤«äºº","can_delete":false,"product_type":"c1","uid":1383377,"ip_address":"","ucode":"D73BB70FCAFC83","user_header":"https://static001.geekbang.org/account/avatar/00/15/1b/d1/2228e57f.jpg","comment_is_top":false,"comment_ctime":1576123637,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1576123637","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¿™å¥è¯ï¼Œâ€œredo log ä¸»è¦èŠ‚çœçš„æ˜¯éšæœºå†™ç£ç›˜çš„ IO æ¶ˆè€—ï¼ˆè½¬æˆé¡ºåºå†™ï¼‰ï¼Œè€Œ change buffer ä¸»è¦èŠ‚çœçš„åˆ™æ˜¯éšæœºè¯»ç£ç›˜çš„ IO æ¶ˆè€—â€ä¸ç†è§£åŸç†ï¼Œæ‚¨èƒ½è§£ç­”ä¸€ä¸‹å—ï¼Ÿï¼Ÿ","like_count":0},{"had_liked":false,"id":160385,"user_name":"ä¸èƒ½æ‰®æ¼”å¤©ä½¿","can_delete":false,"product_type":"c1","uid":1046172,"ip_address":"","ucode":"9922330BFF7FFB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f6/9c/b457a937.jpg","comment_is_top":false,"comment_ctime":1575943600,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1575943600","product_id":100020801,"comment_content":"ç•™è¨€æ¯”è¾ƒæ™šä¸çŸ¥é“è€å¸ˆä¼šä¸ä¼šå›å¤ï¼Œæˆ‘çœ‹å®˜æ–¹æ–‡æ¡£ä¸Šè¯´ï¼šChange buffering is not supported for a secondary index if the index contains a descending index column or if the primary key includes a descending index column. ä¸€ç›´æ²¡æƒ³æ˜ç™½ä¸ºå•¥changebufferä¸æ”¯æŒåŒ…å«é™åºåˆ—çš„äºŒçº§ç´¢å¼•ï¼Ÿæœ›è€å¸ˆæŒ‡æ•™","like_count":0},{"had_liked":false,"id":159748,"user_name":"Geek_b617bf","can_delete":false,"product_type":"c1","uid":1220552,"ip_address":"","ucode":"9BAFC3B184B1D2","user_header":"https://static001.geekbang.org/account/avatar/00/12/9f/c8/0318c83e.jpg","comment_is_top":false,"comment_ctime":1575777982,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1575777982","product_id":100020801,"comment_content":"ä¸šåŠ¡ä¸Šå¦‚æœè¦ä¿è¯æ’å…¥å€¼å”¯ä¸€ï¼Œé‚£ä¹ˆä¼˜å…ˆæ˜¯ä½¿ç”¨å”¯ä¸€ç´¢å¼•å‘¢ï¼Œè¿˜æ˜¯å…ˆæŸ¥è¯¢ä¸‹æœ‰æ— å­˜åœ¨å†æ’å…¥æ¯”è¾ƒå¥½å‘¢","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149944,"discussion_content":"ä½ å¯ä»¥å…ˆåœ¨æ ¹æ®æŸ¥è¯¢æ¡ä»¶ä¸Šå»ºç«‹æ™®é€šç´¢å¼•ï¼Œç„¶åè·å–åè¿›è¡Œæ’å…¥å‰è¿›è¡Œåˆ¤æ–­ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1579784807,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":159585,"user_name":"Y%...............Y%","can_delete":false,"product_type":"c1","uid":1160593,"ip_address":"","ucode":"94089F09378F07","user_header":"https://static001.geekbang.org/account/avatar/00/11/b5/91/8750709f.jpg","comment_is_top":false,"comment_ctime":1575695451,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1575695451","product_id":100020801,"comment_content":"&quot;å¯¹äºå”¯ä¸€ç´¢å¼•æ¥è¯´ï¼Œéœ€è¦å°†æ•°æ®é¡µè¯»å…¥å†…å­˜ï¼Œåˆ¤æ–­åˆ°æ²¡æœ‰å†²çªï¼Œæ’å…¥è¿™ä¸ªå€¼ï¼Œè¯­å¥æ‰§è¡Œç»“æŸï¼›å¯¹äºæ™®é€šç´¢å¼•æ¥è¯´ï¼Œåˆ™æ˜¯å°†æ›´æ–°è®°å½•åœ¨ change bufferï¼Œè¯­å¥æ‰§è¡Œå°±ç»“æŸäº†&quot;<br>è€å¸ˆæˆ‘çš„é—®é¢˜æ˜¯ï¼Œæ’å…¥(4,400ï¼‰4æ˜¯å”¯ä¸€ç´¢å¼•(ä¸»é”®) 400æ˜¯æ™®é€šç´¢å¼•ã€‚åŠ å…¥å†…å­˜ä¸­ä¸å­˜åœ¨æ­¤æ•°æ®é¡µ,åˆ°åº•æ˜¯èµ°ä¸èµ°change buffer ï¼ŒæŒ‰ç…§400æ˜¯æ™®é€šç´¢å¼•ä»–ä¼šèµ°ï¼Œä½†æ˜¯åˆæœ‰ä¸»é”®ï¼Œä»–ä¸ä¼šèµ°ï¼Œè¿™ä¸æ˜¯çŸ›ç›¾å‘¢å—ï¼Ÿæ±‚è§£","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149950,"discussion_content":"ä¸»é”®ä¸èµ°ï¼Œæ™®é€šç´¢å¼•èµ°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579784930,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":159115,"user_name":"Heiky","can_delete":false,"product_type":"c1","uid":1623626,"ip_address":"","ucode":"03AA79E1BC4AE4","user_header":"https://static001.geekbang.org/account/avatar/00/18/c6/4a/3bd896fc.jpg","comment_is_top":false,"comment_ctime":1575539916,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1575539916","product_id":100020801,"comment_content":"ä¸å¥‡è€æ˜¯ï¼Œæœ‰ç‚¹ä¸å¤ªäº†è§£updateçš„æ—¶å€™ï¼Œchange bufferæ˜¯å¦‚ä½•è¿›è¡Œæ“ä½œçš„ï¼Ÿæ–‡ä¸­çš„ä¾‹å­åªæ˜¯è¯´äº†insertçš„æ—¶å€™ï¼Œä½¿ç”¨åˆ°äº†change bufferã€‚","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149957,"discussion_content":"updateæ“ä½œåŒæ ·æ˜¯è¿™ä¸ªæµç¨‹ã€‚æœ‰å†…å­˜ç›´æ¥æ›´æ–°å†…å­˜ä¸­çš„æ•°æ®ï¼Œä¸åœ¨å†…å­˜åˆ™ç›´æ¥ç”¨change buffer.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579785168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2229659,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKfuACe3aVEAkk3IGmI5gXeHgO15RuymKn8PKt9Q7bRQlL41O8ntFzHT2tSsMmBZgkmiaD3Dnic4WVg/132","nickname":"Geek_01fa84","note":"","ucode":"EA8CCA95CCCC21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":312286,"discussion_content":"é‚£æ€ä¹ˆåˆ¤æ–­å½±å“çš„è¡Œæ•°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602652538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":149957,"ip_address":""},"score":312286,"extra":""}]}]},{"had_liked":false,"id":156160,"user_name":"æ«","can_delete":false,"product_type":"c1","uid":1310357,"ip_address":"","ucode":"819CA7B97DD7E2","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/95/39856e4e.jpg","comment_is_top":false,"comment_ctime":1574826750,"is_pvip":false,"replies":[{"id":"59963","content":"å¯èƒ½æ˜¯ä¹‹å‰è¯»å–çš„æ—¶å€™ï¼Œä»ç£ç›˜è¯»å…¥çš„å‘€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1574830949,"ip_address":"","comment_id":156160,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1574826750","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸€ä¸ªé—®é¢˜ï¼Œæ›´æ–°çš„æ—¶å€™ï¼Œåˆ†ä¸¤ç§æƒ…å†µï¼š<br>è¿™ä¸ªè®°å½•è¦æ›´æ–°çš„ç›®æ ‡é¡µåœ¨å†…å­˜ä¸­<br>è¿™ä¸ªè®°å½•è¦æ›´æ–°çš„ç›®æ ‡é¡µä¸åœ¨å†…å­˜ä¸­<br>é—®é¢˜ï¼šä»€ä¹ˆæ—¶å€™æ•°æ®ä¼šåœ¨å†…å­˜ä¸­å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476013,"discussion_content":"å¯èƒ½æ˜¯ä¹‹å‰è¯»å–çš„æ—¶å€™ï¼Œä»ç£ç›˜è¯»å…¥çš„å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574830949,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1310357,"avatar":"https://static001.geekbang.org/account/avatar/00/13/fe/95/39856e4e.jpg","nickname":"æ«","note":"","ucode":"819CA7B97DD7E2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":63722,"discussion_content":"å¥¥å¥¥ï¼Œæˆ‘æŠŠæ›´æ–°ä¹‹å‰çš„å½“å‰è¯»å’Œè¿™ä¸ªææ··äº†ï¼Œæˆ‘ä¹‹å‰ä»¥ä¸ºæ›´æ–°ä¹‹å‰ä¹Ÿä¼šæŸ¥è¯¢ï¼Œå†…å­˜é‡Œæ²¡æœ‰å°±ä»ç£ç›˜IOåˆ°å†…å­˜é‡Œï¼Œé‚£æ•°æ®ä¸æ˜¯æ€»ä¼šåœ¨å†…å­˜é‡Œå˜›ã€‚ã€‚ã€‚å˜¿å˜¿","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574905290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":156060,"user_name":"æ²","can_delete":false,"product_type":"c1","uid":1326537,"ip_address":"","ucode":"678F6A0C778CDD","user_header":"https://static001.geekbang.org/account/avatar/00/14/3d/c9/a1e6a307.jpg","comment_is_top":false,"comment_ctime":1574816278,"is_pvip":false,"discussion_count":0,"race_medal":3,"score":"1574816278","product_id":100020801,"comment_content":"redo log ä¸»è¦èŠ‚çœçš„æ˜¯éšæœºå†™ç£ç›˜çš„ IO æ¶ˆè€—ï¼ˆè½¬æˆé¡ºåºå†™ï¼‰ï¼Œè€Œ change buffer ä¸»è¦èŠ‚çœçš„åˆ™æ˜¯éšæœºè¯»ç£ç›˜çš„ IO æ¶ˆè€—","like_count":0},{"had_liked":false,"id":151997,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1573830863,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1573830863","product_id":100020801,"comment_content":"è€å¸ˆï¼Œredo log+buffer poolä¸€èµ·ä½œç”¨ï¼Œæ‰å®ç°äº†å‡å°‘ç£ç›˜å†™å§ï¼Œåªæœ‰redo logåº”è¯¥æ˜¯åšä¸åˆ°çš„ï¼Œredo logæ›´ä¸»è¦çš„ä½œç”¨åº”è¯¥æ˜¯crash safeå§","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149967,"discussion_content":"redo logä¿è¯äº†é¡ºåºå†™ï¼Œè¿™æ ·ä¹Ÿæé«˜äº†ç£ç›˜å†™æ•ˆç‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579785282,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":151995,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1573830531,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573830531","product_id":100020801,"comment_content":"æˆ‘ä¹‹å‰ä»¥ä¸ºå”¯ä¸€ç´¢å¼•è¦æ£€æŸ¥æ˜¯å¦é‡å¤ï¼Œæ‰€ä»¥ä¼šè€—æ—¶ï¼Œè¿™ä¹Ÿæ²¡é”™ï¼Œä½†æ²¡æ·±æŒ–ã€‚æ£€æŸ¥æ—¶ï¼Œå¦‚æœå†…å­˜æ²¡è¯¥æ•°æ®é¡µï¼Œä¼šä»ç£ç›˜åŠ è½½ã€‚è€Œå¦‚æœç”¨æ™®é€šç´¢å¼•ï¼Œæ’å…¥æ—¶å¯ä»¥ç”¨change bufferï¼Œä¸ç”¨ä»ç£ç›˜è¯»ï¼Œä»è€Œå¤§å¤§æé«˜å†™å…¥é€Ÿåº¦ã€‚<br>æ€»ç»“ï¼šå¦‚æœå†™å®Œä¸ä¼šç«‹å³è¯»ï¼Œå»ºè®®ç”¨æ™®é€šç´¢å¼•ï¼Œå¦åˆ™ç”¨å”¯ä¸€ç´¢å¼•ã€‚<br>","like_count":0},{"had_liked":false,"id":151574,"user_name":"cc","can_delete":false,"product_type":"c1","uid":1592092,"ip_address":"","ucode":"FF41E5D87BAD76","user_header":"https://static001.geekbang.org/account/avatar/00/18/4b/1c/5eb03a91.jpg","comment_is_top":false,"comment_ctime":1573741902,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573741902","product_id":100020801,"comment_content":"å¤ªå–œæ¬¢è¿™ä¸ªä¸“æ äº†ï¼<br>å°¤å…¶æ˜¯åœ¨æ­£æ–‡ä¸­å¯¹ä¸ŠæœŸé—®é¢˜çš„å›é¡¾å’Œå¯¹è¯„è®ºçš„ç‚¹è¯„","like_count":0},{"had_liked":false,"id":150958,"user_name":"Geek_3004e0","can_delete":false,"product_type":"c1","uid":1732823,"ip_address":"","ucode":"441D39BDC39E4A","user_header":"https://static001.geekbang.org/account/avatar/00/1a/70/d7/d1049bae.jpg","comment_is_top":false,"comment_ctime":1573634852,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573634852","product_id":100020801,"comment_content":"æ„Ÿè§‰è¿˜æ˜¯å¯¹change bufferä¸ç†è§£ï¼š1.change buffer è¢«mergeåï¼Œè¿˜ä¼šå†™å…¥ibdataå—ï¼Ÿ2.change bufferä¸€ç›´æ²¡æœ‰mergeï¼Œå°±è¢«purgeåˆ°ibdataäº†ï¼Œåç»­è§¦å‘mergeåï¼Œibdataçš„ç›¸å…³è®°å½•ä¼šè¢«æ›´æ–°å—ï¼Ÿå…¶å®å°±æ˜¯ä¸å¤ªç†è§£change bufferåˆ·åˆ°ibdataçš„ä½œç”¨ï¼Œå·²ç»è®°å½•åˆ°redo logå¹¶ä¸”æŒä¹…åŒ–äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦åˆ·åˆ°ibdataä¸­ã€‚","like_count":0},{"had_liked":false,"id":150928,"user_name":"oh..","can_delete":false,"product_type":"c1","uid":1210187,"ip_address":"","ucode":"DB1398EA83A1A9","user_header":"https://static001.geekbang.org/account/avatar/00/12/77/4b/99d67d3d.jpg","comment_is_top":false,"comment_ctime":1573630445,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573630445","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæœ‰è¯„è®ºè¯´çœŸæ­£å¯¹ç£ç›˜æ•°æ®é¡µçš„ä¿®æ”¹æ˜¯é€šè¿‡å°†å†…å­˜é‡Œè„é¡µçš„æ•°æ®åˆ·å›ç£ç›˜æ¥å®Œæˆçš„ã€‚é‚£ä¹ˆè„é¡µçš„æ•°æ®æ˜¯ä»€ä¹ˆæ—¶å€™åˆ·å›ç£ç›˜å®Œæˆæ›´æ–°å‘¢ï¼Ÿå¦‚æœæ²¡åˆ·å›ç£ç›˜å‰æ–­ç”µäº†ï¼Œå†…å­˜è„é¡µæœ€æ–°çš„æ•°æ®ä¼šä¸ä¼šä¸¢å¤±ï¼Ÿ","like_count":0},{"had_liked":false,"id":150592,"user_name":"ray","can_delete":false,"product_type":"c1","uid":1717235,"ip_address":"","ucode":"10962C711CBC11","user_header":"","comment_is_top":false,"comment_ctime":1573564940,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1573564940","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œ<br>è¯·é—®æ‚¨mysql serveråœ¨change bufferå°šæœªæŒä¹…åŒ–åˆ°system tableä¹‹å‰å°±crashæ‰çš„è¯ï¼Œæœ‰åŠæ³•ä¾èµ–redo logå¤åŸèµ„æ–™å—ï¼Ÿ<br><br>å…ˆè¯´æˆ‘çš„æƒ³æ³•ï¼Œæˆ‘è§‰å¾—åº”è¯¥ä¸è¡Œï¼Œä¸ªäººè®¤ä¸ºredo logåªä¼šå‚¨å­˜æŒä¹…åŒ–çš„change bufferå‚¨å­˜åœ¨system tableçš„å“ªä¸ªä½ç½®ï¼Œè€Œä¸ä¼šå‚¨å­˜change bufferçš„å†…å®¹ã€‚å¦‚æœredo logä¼šå‚¨å­˜change bufferçš„å†…å®¹ï¼Œchange bufferå°±æ²¡å¿…è¦æŒä¹…åŒ–åˆ°system tableäº†ã€‚è¿˜è¯·è€å¸ˆç‚¹è¯„ï¼<br><br>è°¢è°¢è€å¸ˆ","like_count":0},{"had_liked":false,"id":150062,"user_name":"é˜¿ä¸½","can_delete":false,"product_type":"c1","uid":1170970,"ip_address":"","ucode":"C01D32E7165302","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erJFlHhylrbLANtehiaX50wgVa2Z1ibQAdLpgyW4gCpEyOKEI9bPNZZBiabrP2oCleZWc2KKyKADz8tg/132","comment_is_top":false,"comment_ctime":1573456654,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1573456654","product_id":100020801,"comment_content":"è€å¸ˆæ‰“æ‰°ä¸€ä¸‹ï¼Œmysqlæ˜¯æ€ä¹ˆåˆ¤æ–­æ•°æ®åœ¨change bufferæœ‰æ²¡æœ‰å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149973,"discussion_content":"è‚¯å®šä¼šæ£€æŸ¥buffer poolå§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579785495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":148181,"user_name":"èåœæ¡","can_delete":false,"product_type":"c1","uid":1692713,"ip_address":"","ucode":"4BC975BBFE50A7","user_header":"https://static001.geekbang.org/account/avatar/00/19/d4/29/5f52a82c.jpg","comment_is_top":false,"comment_ctime":1572955097,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572955097","product_id":100020801,"comment_content":"é’ˆå¯¹æ€è€ƒå†…å®¹ï¼š<br>change bufferå†™å†…å­˜åï¼Œä¼šå‘redo logä¸­æ’å…¥æ›´æ–°ä¿¡æ¯ã€‚<br>è‹¥æ–­ç”µæ—¶ï¼Œchange bufferä¸¢å¤±ï¼Œredo logæ²¡æœ‰å†™change bufferçš„ä¿®æ”¹å†…å®¹æ—¶ï¼Œåˆ™æ•°æ®æœªæ›´æ–°ï¼Œä¸å½±å“ä¸€è‡´æ€§ã€‚<br>è‹¥redo log å·²ç»è®°å½•ï¼Œæ ¹æ®redo logå¯ä»¥æ¢å¤æ•°æ®çš„ç»§ç»­å†™ï¼Œä¸å½±å“æ•°æ®çš„ä¸€è‡´æ€§","like_count":0},{"had_liked":false,"id":146346,"user_name":"ä¹¦æœ¨å­è°¢æ˜","can_delete":false,"product_type":"c1","uid":1259879,"ip_address":"","ucode":"3090C080A570BE","user_header":"https://static001.geekbang.org/account/avatar/00/13/39/67/743128f7.jpg","comment_is_top":false,"comment_ctime":1572503429,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572503429","product_id":100020801,"comment_content":"è€å¸ˆ,è¯·æ•™ä¸ªé—®é¢˜.åœ¨æœ‰å¾ˆå¤šé‡å¤å€¼çš„å­—æ®µä¸ŠåŠ ç´¢å¼•æ˜¯ä¸æ˜¯ä¸å¤ªåˆé€‚? æ¯”å¦‚,å…¬å¸-å‘˜å·¥åœºæ™¯,åœ¨å‘˜å·¥è¡¨çš„å…¬å¸idå­—æ®µä¸ŠåŠ ç´¢å¼•åˆé€‚å—?","like_count":0},{"had_liked":false,"id":144970,"user_name":"é™†å‡Œæ«","can_delete":false,"product_type":"c1","uid":1349513,"ip_address":"","ucode":"622DEFC9DACDBA","user_header":"https://static001.geekbang.org/account/avatar/00/14/97/89/51f532f8.jpg","comment_is_top":false,"comment_ctime":1572145021,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1572145021","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæƒ³è¯·æ•™ä¸‹å®é™…å·¥ä½œä¸­ï¼Œå¯¹äºè®¢å•Idè¿™ç§å­—æ®µï¼Œæˆ‘ä»¬é€šå¸¸ä¼šç”¨é‚£ç§æ•°æ®ç±»å‹å­˜å‚¨ï¼Ÿä¼šç›´æ¥ç”¨è®¢å•idä½œä¸ºä¸»é”®å—ï¼Ÿåˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œè¿™ç§idä¼šç”¨é‚£ç§æ–¹å¼ç”Ÿæˆå‘¢ï¼Ÿ<br>å¸Œæœ›è€å¸ˆèƒ½è§£ç­”ï¼Œè°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":143594,"user_name":"ğŸ˜ŠğŸ˜Š","can_delete":false,"product_type":"c1","uid":1305246,"ip_address":"","ucode":"8B8B5AB50289F6","user_header":"https://static001.geekbang.org/account/avatar/00/13/ea/9e/19e2cc53.jpg","comment_is_top":false,"comment_ctime":1571740549,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571740549","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå†…å­˜å‘½ä¸­ç‡æ€ä¹ˆè®¡ç®—ï¼Ÿ","like_count":0},{"had_liked":false,"id":143535,"user_name":"wong ka seng","can_delete":false,"product_type":"c1","uid":1338885,"ip_address":"","ucode":"C1A713082D0D64","user_header":"https://static001.geekbang.org/account/avatar/00/14/6e/05/d47cee18.jpg","comment_is_top":false,"comment_ctime":1571726876,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571726876","product_id":100020801,"comment_content":"&quot;å¦‚æœæ‰€æœ‰çš„æ›´æ–°åé¢ï¼Œéƒ½é©¬ä¸Šä¼´éšç€å¯¹è¿™ä¸ªè®°å½•çš„æŸ¥è¯¢ï¼Œé‚£ä¹ˆä½ åº”è¯¥å…³é—­ change bufferã€‚&quot;=&gt;ä¸ºä»€ä¹ˆè¦å…³é—­ change bufferå‘¢?","like_count":0},{"had_liked":false,"id":141052,"user_name":"Ryoma","can_delete":false,"product_type":"c1","uid":1130590,"ip_address":"","ucode":"7F692369239692","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","comment_is_top":false,"comment_ctime":1571107455,"is_pvip":true,"discussion_count":0,"race_medal":2,"score":"1571107455","product_id":100020801,"comment_content":"æœ‰ä¸ªé—®é¢˜é—®è€å¸ˆï¼š<br>```<br>è¿™ä¸ªè®°å½•è¦æ›´æ–°çš„ç›®æ ‡é¡µä¸åœ¨å†…å­˜ä¸­ã€‚è¿™æ—¶ï¼ŒInnoDB çš„å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š<br>å¯¹äºå”¯ä¸€ç´¢å¼•æ¥è¯´ï¼Œéœ€è¦å°†æ•°æ®é¡µè¯»å…¥å†…å­˜ï¼Œåˆ¤æ–­åˆ°æ²¡æœ‰å†²çªï¼Œæ’å…¥è¿™ä¸ªå€¼ï¼Œè¯­å¥æ‰§è¡Œç»“æŸï¼›<br>å¯¹äºæ™®é€šç´¢å¼•æ¥è¯´ï¼Œåˆ™æ˜¯å°†æ›´æ–°è®°å½•åœ¨ change bufferï¼Œè¯­å¥æ‰§è¡Œå°±ç»“æŸäº†ã€‚<br>```<br>å”¯ä¸€ç´¢å¼•ï¼šæ›´æ–°æ•°æ®æ—¶ï¼Œå¦‚æœæ˜¯é€šè¿‡å”¯ä¸€ç´¢å¼•æ¥æ›´æ–°æ•°æ®ï¼Œä¹Ÿéœ€è¦å°†æ•°æ®é¡µè¯»å…¥å†…å­˜æ¥åˆ¤æ–­æ˜¯å¦å†²çªä¹ˆï¼Ÿæ„Ÿè§‰å¿…è¦æ€§ä¸æ˜¯å¾ˆå¤§ã€‚è¿˜æ˜¯è¯´è¿™é‡Œè€å¸ˆæ˜¯æŒ‡è¦æ›´æ–°å”¯ä¸€ç´¢å¼•è¿™ä¸ªå­—æ®µçš„å€¼æ‰€ä»¥éœ€è¦è¯»å…¥å†…å­˜ã€‚<br><br>å¯¹äºæ™®é€šç´¢å¼•æ¥è¯´ï¼Œç›´æ¥å†™å…¥ change buffer è¯­å¥æ‰§è¡Œå°±ç»“æŸäº†ã€‚ä½†æ˜¯åœ¨å®é™… update è¯­å¥æ—¶ï¼Œè¿˜ä¼šè¿”å› affected rows ä¿¡æ¯ï¼Œè¿™ä¸€æ­¥æ“ä½œæ˜¯åœ¨å“ªå‘ç”Ÿçš„å‘¢ï¼Ÿ<br>å¦å¤–ï¼Œå½“åç»­å†å‘ç”Ÿæ›´æ–°æ“ä½œçš„æ—¶å€™ï¼Œå¯¹äºæ™®é€šç´¢å¼•ï¼Œå¦‚æœæœ‰æ•°æ®åœ¨ change buffer ä¸­ï¼Œæ˜¯ä¸æ˜¯å…ˆä¼šå°†ç›¸å…³æ•°æ®åŠ å…¥åˆ°å†…å­˜ä¸­å¹¶åº”ç”¨ change bufferï¼Œæ‰èƒ½åŠ  gap lock ç­‰","like_count":0},{"had_liked":false,"id":140728,"user_name":"çƒˆå†¬å†°å¤","can_delete":false,"product_type":"c1","uid":1060113,"ip_address":"","ucode":"F2875FC596D4FA","user_header":"https://static001.geekbang.org/account/avatar/00/10/2d/11/0ecbe9ea.jpg","comment_is_top":false,"comment_ctime":1571038983,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1571038983","product_id":100020801,"comment_content":"è¯·æ•™ä¸‹ Page 2 æ²¡æœ‰åœ¨å†…å­˜ä¸­ï¼Œå°±åœ¨å†…å­˜çš„ change bufferè®°å½•ä¸€æ¡æ›´æ–°è®°å½•å°±è¿”å› é‚£è¿”å›çš„å½±å“è¡Œæ•°æ˜¯æ€ä¹ˆç»Ÿè®¡çš„å‘¢<br><br>","like_count":0},{"had_liked":false,"id":139308,"user_name":"xiangxg8","can_delete":false,"product_type":"c1","uid":1634725,"ip_address":"","ucode":"710AB1E959A443","user_header":"","comment_is_top":false,"comment_ctime":1570608627,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1570608627","product_id":100020801,"comment_content":"1.æŸ¥è¯¢é€»è¾‘<br>InnoDB çš„æ•°æ®æ˜¯æŒ‰æ•°æ®é¡µä¸ºå•ä½æ¥è¯»å†™çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“éœ€è¦è¯»ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯å°†è¿™ä¸ªè®°å½•æœ¬èº«ä»ç£ç›˜è¯»å‡ºæ¥ï¼Œè€Œæ˜¯ä»¥é¡µä¸ºå•ä½ï¼Œå°†å…¶æ•´ä½“è¯»å…¥å†…å­˜<br>2.ä½¿ç”¨å”¯ä¸€ç´¢å¼•è¿˜æ˜¯æ™®é€šç´¢å¼•ï¼Ÿ<br>å”¯ä¸€ç´¢å¼•ç”±äºéœ€è¦å°†æ•°æ®é¡µè¯»å…¥å†…å­˜æ£€æŸ¥å”¯ä¸€æ€§ï¼Œè€Œä¸èƒ½ä½¿ç”¨change bufferã€‚å› æ­¤ï¼Œå”¯ä¸€ç´¢å¼•çš„æ›´æ–°å°±ä¸èƒ½ä½¿ç”¨ change bufferï¼Œå®é™…ä¸Šä¹Ÿåªæœ‰æ™®é€šç´¢å¼•å¯ä»¥ä½¿ç”¨<br>3.change buffer æ˜¯ä»€ä¹ˆï¼Œæ•°æ®çš„æ›´æ–°é€»è¾‘æ˜¯ä»€ä¹ˆï¼Ÿ<br>å½“éœ€è¦æ›´æ–°ä¸€ä¸ªæ•°æ®é¡µæ—¶ï¼Œå¦‚æœæ•°æ®é¡µåœ¨å†…å­˜ä¸­å°±ç›´æ¥æ›´æ–°ï¼Œè€Œå¦‚æœè¿™ä¸ªæ•°æ®é¡µè¿˜æ²¡æœ‰åœ¨å†…å­˜ä¸­çš„è¯ï¼ŒInooDB ä¼šå°†è¿™äº›æ›´æ–°æ“ä½œç¼“å­˜åœ¨ change buffer ä¸­ï¼Œ<br>è¿™æ ·å°±ä¸éœ€è¦ä»ç£ç›˜ä¸­è¯»å…¥è¿™ä¸ªæ•°æ®é¡µäº†ã€‚åœ¨ä¸‹æ¬¡æŸ¥è¯¢éœ€è¦è®¿é—®è¿™ä¸ªæ•°æ®é¡µçš„æ—¶å€™ï¼Œå°†æ•°æ®é¡µè¯»å…¥å†…å­˜ï¼Œç„¶åæ‰§è¡Œ change buffer ä¸­ä¸è¿™ä¸ªé¡µæœ‰å…³çš„æ“ä½œ<br>4.æ™®é€šç´¢å¼•çš„æ‰€æœ‰åœºæ™¯ï¼Œä½¿ç”¨ change buffer éƒ½å¯ä»¥èµ·åˆ°åŠ é€Ÿä½œç”¨å—ï¼Ÿ<br>ä¸€ä¸ªä¸šåŠ¡çš„æ›´æ–°æ¨¡å¼æ˜¯å†™å…¥ä¹‹åé©¬ä¸Šä¼šåšæŸ¥è¯¢ï¼Œå°†æ›´æ–°å…ˆè®°å½•åœ¨ change bufferï¼Œä½†ä¹‹åç”±äºé©¬ä¸Šè¦è®¿é—®è¿™ä¸ªæ•°æ®é¡µï¼Œä¼šç«‹å³è§¦å‘ merge è¿‡ç¨‹ã€‚è¿™æ ·éšæœºè®¿é—® IO çš„æ¬¡æ•°ä¸ä¼šå‡å°‘ï¼Œåè€Œå¢åŠ äº† change buffer çš„ç»´æŠ¤ä»£ä»·","like_count":0},{"had_liked":false,"id":139005,"user_name":"Eleven","can_delete":false,"product_type":"c1","uid":1168452,"ip_address":"","ucode":"FB4A0C8CA732BE","user_header":"https://static001.geekbang.org/account/avatar/00/11/d4/44/0ec958f4.jpg","comment_is_top":false,"comment_ctime":1570525715,"is_pvip":false,"replies":[{"id":"53978","content":"è£…ä¸ªå®ä¾‹ï¼ˆæˆ–è€…ä¹°ä¸ªäº‘å®ä¾‹ï¼‰ï¼Œç…§ç€ä¾‹å­è¯•è¯•ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1570725535,"ip_address":"","comment_id":139005,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1570525715","product_id":100020801,"comment_content":"mysqlä½¿ç”¨ç»éªŒä¸å¤šï¼Œçœ‹èµ·æ¥å¾ˆè´¹å°½ï¼Œæœ‰ä»€ä¹ˆå»ºè®®ä¹ˆï¼Ÿè€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469741,"discussion_content":"è£…ä¸ªå®ä¾‹ï¼ˆæˆ–è€…ä¹°ä¸ªäº‘å®ä¾‹ï¼‰ï¼Œç…§ç€ä¾‹å­è¯•è¯•ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570725535,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1168452,"avatar":"https://static001.geekbang.org/account/avatar/00/11/d4/44/0ec958f4.jpg","nickname":"Eleven","note":"","ucode":"FB4A0C8CA732BE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":31714,"discussion_content":"å¥½çš„ï¼Œè°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570949855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137734,"user_name":"è¿›å‡»çš„å°å­¦ç”Ÿ","can_delete":false,"product_type":"c1","uid":1283739,"ip_address":"","ucode":"2E10BF2D67F421","user_header":"https://static001.geekbang.org/account/avatar/00/13/96/9b/efd37116.jpg","comment_is_top":false,"comment_ctime":1569833442,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569833442","product_id":100020801,"comment_content":"å·²ç»mergeè¿‡çš„æ•°æ®ä¸ä¼šè‡ªåŠ¨ä»change bufferä¸­åˆ é™¤å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":137421,"user_name":"12.05","can_delete":false,"product_type":"c1","uid":1671354,"ip_address":"","ucode":"ED5FE10E52B28C","user_header":"https://static001.geekbang.org/account/avatar/00/19/80/ba/5b893a89.jpg","comment_is_top":false,"comment_ctime":1569737236,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1569737236","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘çœ‹å®Œè¿™ä¸€ç« åï¼Œç»“åˆåŸæ¥ç¬¬äºŒç« çš„çŸ¥è¯†(ä¸€ä¸ªupdateè¯­å¥çš„æ‰§è¡Œ)ï¼Œæˆ‘ä¾æˆ‘çš„ç†è§£ç”»äº†ä¸€ä¸ªupdateè¯­å¥çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæ¶‰åŠredo logï¼Œbinlogï¼Œchangebufferã€‚ä½†æˆ‘çœ‹å®Œè¯„è®ºåŒºçš„è®¨è®ºåï¼Œæˆ‘è§‰å¾—æˆ‘çš„ç†è§£æ˜¯æœ‰é—®é¢˜çš„ï¼Œæ‰€ä»¥ç‰¹æ„ç”»äº†å›¾ï¼Œéº»çƒ¦è€å¸ˆçœ‹ä¸‹<br>æ˜¯å“ªé‡Œæœ‰é—®é¢˜ã€‚(å›¾æ˜¯ç”¨umlå·¥å…·ç”»çš„é€šè®¯å›¾ï¼Œæ•°å­—è¡¨ç¤ºæ‰§è¡Œçš„å…ˆåé¡ºåºï¼Œurlæ˜¯å›¾ç‰‡é“¾æ¥)<br><br>https:&#47;&#47;upload-images.jianshu.io&#47;upload_images&#47;4139030-c1432eb51e5f1b36.png?imageMogr2&#47;auto-orient&#47;strip%7CimageView2&#47;2&#47;w&#47;1240","like_count":0},{"had_liked":false,"id":131473,"user_name":"jian","can_delete":false,"product_type":"c1","uid":1185102,"ip_address":"","ucode":"21CDBBB8000F0C","user_header":"https://static001.geekbang.org/account/avatar/00/12/15/4e/4636a81d.jpg","comment_is_top":false,"comment_ctime":1567760223,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567760223","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆ, æ€ä¹ˆç†è§£è¿™å¥è¯&quot;change buffer ä¸»è¦èŠ‚çœçš„åˆ™æ˜¯éšæœºè¯»ç£ç›˜çš„IOæ¶ˆè€—&quot;? å¦‚æœå…³é—­äº†change buffer, è¦å†™å…¥çš„æ•°æ®ä¸åœ¨å†…å­˜, å°±ç›´æ¥éšæœºè¯»ç£ç›˜. å¦‚æœå¼€å¯äº†change buffer, åˆ™åœ¨è¯»å–çš„æ—¶å€™ç›´æ¥éšæœºè¯»ç£ç›˜. å¹¶æ²¡æœ‰å‘ç°å‡å°‘äº†éšæœºè¯»ç£ç›˜çš„IOæ¶ˆè€—å•Š?","like_count":0},{"had_liked":false,"id":130513,"user_name":"yangmin","can_delete":false,"product_type":"c1","uid":1227341,"ip_address":"","ucode":"494A9D62C8C509","user_header":"https://static001.geekbang.org/account/avatar/00/12/ba/4d/73b29014.jpg","comment_is_top":false,"comment_ctime":1567476021,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567476021","product_id":100020801,"comment_content":"â€œredo log ä¸»è¦èŠ‚çœçš„æ˜¯éšæœºå†™ç£ç›˜çš„ IO æ¶ˆè€—ï¼ˆè½¬æˆé¡ºåºå†™ï¼‰â€ï¼Œ<br><br>è€å¸ˆï¼Œè¯·é—®ä¸‹ä»€ä¹ˆæ˜¯é¡ºåºå†™ï¼Ÿç£ç›˜æ˜¯åœ¨ä¸æ®µçš„æ—‹è½¬ï¼Œä¹Ÿæœ‰å…¶ä»–è¿›ç¨‹ä¼šè¯»å†™æ–‡ä»¶ï¼Œå…¶ç£å¤´è‚¯å®šä¸æ˜¯åœç•™åœ¨ä¸Šä¸€æ¬¡å†™ç»“æŸçš„ä½ç½®ï¼Œæˆ‘åœ¨ç½‘ä¸Šçœ‹åˆ°å°†â€œé¡ºåºå†™â€å®šä¹‰ä¸ºä¸€æ¬¡å†™å…¥å¤šä¸ªé¡µã€‚è¯·é—®ä¸‹è€å¸ˆæ‚¨çš„ç†è§£æ˜¯ï¼Ÿè°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":129792,"user_name":"æ¨é¢†well","can_delete":false,"product_type":"c1","uid":1145650,"ip_address":"","ucode":"3974A03855168C","user_header":"https://static001.geekbang.org/account/avatar/00/11/7b/32/60089a62.jpg","comment_is_top":false,"comment_ctime":1567253313,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567253313","product_id":100020801,"comment_content":"MySQL å®˜æ–¹æ–‡æ¡£åœ¨è®² MVCC çš„æ—¶å€™è¯´ï¼š<br>A 6-byte DB_ROW_ID field contains a row ID that increases monotonically as new rows are inserted. If InnoDB generates a clustered index automatically, the index contains row ID values. Otherwise, the DB_ROW_ID column does not appear in any index.ï¼ˆhttps:&#47;&#47;dev.mysql.com&#47;doc&#47;refman&#47;5.7&#47;en&#47;innodb-multi-versioning.htmlï¼‰<br>åœ¨è®² Clustered and Secondary Indexes åˆè¯´ï¼š<br>If the table has no PRIMARY KEY or suitable UNIQUE index, InnoDB internally generates a hidden clustered index named GEN_CLUST_INDEX on a synthetic column containing row ID values. ï¼ˆhttps:&#47;&#47;dev.mysql.com&#47;doc&#47;refman&#47;5.7&#47;en&#47;innodb-index-types.htmlï¼‰<br><br>æˆ‘æƒ³è¯·é—®ä¸€ä¸‹è€å¸ˆï¼šGEN_CLUST_INDEX å­—æ®µå’Œ  DB_ROW_ID å­—æ®µæ˜¯ä¸€ä¸ªå—?(æˆ‘è®¤ä¸ºæ˜¯ï¼Œä½†æ˜¯æ²¡æœ‰æ‰¾åˆ°è¯æ®ã€‚) å¦‚æœæ˜¯çš„è¯ï¼Œä¸ºä»€ä¹ˆæœ‰ä¸¤ä¸ªå­—æ®µåï¼Ÿå¦‚æœä¸æ˜¯çš„è¯ï¼Œä»–ä»¬æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br><br>æœŸå¾…æ‚¨çš„å›å¤ï¼Œè°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":129626,"user_name":"Dthan","can_delete":false,"product_type":"c1","uid":1177838,"ip_address":"","ucode":"B5DEB7D050981D","user_header":"https://static001.geekbang.org/account/avatar/00/11/f8/ee/2cf560f5.jpg","comment_is_top":false,"comment_ctime":1567175916,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1567175916","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜è¯·æ•™ä¸‹ï¼Œå¯ä¸å¯ä»¥ç†è§£ä¸ºåªè¦ä¸æ˜¯æ›´æ–°å”¯ä¸€ç´¢å¼•å­—æ®µä¸Šçš„å€¼éƒ½å¯ä»¥è¿›change buffer","like_count":0},{"had_liked":false,"id":128788,"user_name":"Viola","can_delete":false,"product_type":"c1","uid":1528096,"ip_address":"","ucode":"CF8FF5323AE43A","user_header":"","comment_is_top":false,"comment_ctime":1566963178,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566963178","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®å›¾2ä¸­ä¸¤æ¡è™šçº¿ï¼ŒPage1æ›´æ–°åˆ°æ•°æ®è¡¨ç©ºé—´å¯ä»¥ç†è§£ï¼Œchange bufferé‡Œçš„Page2ä¸ºä»€ä¹ˆæ˜¯æ›´æ–°åˆ°ç³»ç»Ÿè¡¨ç©ºé—´å‘¢ï¼Ÿè¯„è®ºåŒºé‡Œè¯´ç³»ç»Ÿè¡¨æ˜¯æ•°æ®å­—å…¸ç­‰ç³»ç»Ÿä¿¡æ¯ï¼Œè¿™ä¸ªæ’å…¥(id2,k2)çš„è¿‡ç¨‹ä¸ºä»€ä¹ˆä¼šæ›´æ–°åˆ°ç³»ç»Ÿè¡¨å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":128549,"user_name":"SIGHOR","can_delete":false,"product_type":"c1","uid":1439360,"ip_address":"","ucode":"411F85A8FD3DE1","user_header":"https://static001.geekbang.org/account/avatar/00/15/f6/80/830de85d.jpg","comment_is_top":false,"comment_ctime":1566899801,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566899801","product_id":100020801,"comment_content":"ä¸Šé¢æœ‰è¯´åˆ°ï¼Œåœ¨æ’å…¥æ•°æ®æ—¶ï¼Œå¦‚æœä¸åœ¨å†…å­˜ï¼Œå”¯ä¸€ç´¢å¼•è¦è¯»å…¥é¡µåˆ¤æ–­å”¯ä¸€æ€§æ‰èƒ½æ’å…¥ï¼Œè€Œæ™®é€šç´¢å¼•ç›´æ¥å†™change bufferï¼Œé‚£æœ‰ä¸ªé—®é¢˜ï¼Œæ›´æ–°æ—¶ä¸ºä»€ä¹ˆä¸»é”®ç´¢å¼•ä¸éœ€è¦åƒå”¯ä¸€ç´¢å¼•é‚£æ ·å…ˆè¯»é¡µåˆ¤æ®µå”¯ä¸€æ€§å‘¢ï¼ŸæŒ‰ç…§æˆ‘çš„ç†è§£ï¼Œæ¯ä¸ªè¡¨æˆ–æ˜æˆ–æš—éƒ½æœ‰ä¸»é”®ç´¢å¼•çš„å§ã€‚ã€‚ã€‚","like_count":0},{"had_liked":false,"id":127403,"user_name":"èµµå°æ´›","can_delete":false,"product_type":"c1","uid":1592232,"ip_address":"","ucode":"A326C12B1A1ABA","user_header":"https://static001.geekbang.org/account/avatar/00/18/4b/a8/14b8a860.jpg","comment_is_top":false,"comment_ctime":1566698609,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566698609","product_id":100020801,"comment_content":"è€å¸ˆèƒ½ä¸èƒ½æ¨èä¸€ä¸‹å­¦ä¹ MySQLçš„ä¹¦ç± ç‰¹åˆ«æ˜¯æ‚¨è®²çš„MySQLçš„ä¸¤é˜¶æ®µæäº¤.","like_count":0},{"had_liked":false,"id":127393,"user_name":"-W.LI-","can_delete":false,"product_type":"c1","uid":1210699,"ip_address":"","ucode":"3556786538664F","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","comment_is_top":false,"comment_ctime":1566695645,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566695645","product_id":100020801,"comment_content":"é€šè¿‡redo log æ„Ÿè§‰ä¹Ÿèƒ½å®ç°change buffer çš„åŠŸèƒ½ã€‚<br>åˆ†å¼€è®¾è®¡çš„å¥½å¤„:<br>1.change buffer é‡Œçš„æ•°æ®å…¨éƒ½æ˜¯æœ‰æ•ˆæ•°æ®ã€‚æ•°æ®é‡å°‘å°±æ˜¯å¿«<br>2.redo log å’Œ change bufferä¸¤ä¸ªåŠŸèƒ½æ¨¡å—å®Œå…¨ç‹¬ç«‹ï¼Œç¬¦åˆå•ä¸€èŒè´£ç­‰è®¾è®¡åŸåˆ™ã€‚<br>ç¼ºç‚¹:<br>å¤šç”¨äº†ç‚¹ç£ç›˜å’Œå†…å­˜ç©ºé—´ï¼Œè§¦å‘change bufferçš„åœ¨ä¸¤ä¸ªåœ°æ–¹å†™äº†ã€‚<br>","like_count":0},{"had_liked":false,"id":127390,"user_name":"-W.LI-","can_delete":false,"product_type":"c1","uid":1210699,"ip_address":"","ucode":"3556786538664F","user_header":"https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg","comment_is_top":false,"comment_ctime":1566695090,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566695090","product_id":100020801,"comment_content":"è€å¸ˆå¥½!è¿™ä¸ªchange bufferæ„Ÿè§‰å’Œé«˜é€Ÿç¼“å­˜çš„å†™ç¼“å­˜åŒºå¾ˆåƒå•Šã€‚åŠ é”æµç¨‹æ˜¯è¿™æ ·çš„å‘¢?<br>1.æ ¹æ®æ™®é€šç´¢å¼•æ‰§è¡Œupdateæ“ä½œ<br>2.å¯¹æ»¡è¶³æ¡ä»¶çš„è¡Œå°è¯•ï¼‹è¡Œé”ï¼Œ(äº‹åŠ¡Idå†™åˆ°å¯¹åº”çš„è¡Œä¸Šï¼Œæ˜¯å¯é‡å…¥é”ï¼ŒåŠåœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­å¯ä»¥å¯¹åŒä¸€è¡Œæ•°æ®æ‰§è¡Œå¤šæ¬¡updateæ“ä½œ)<br>3.åœ¨äº‹åŠ¡æäº¤çš„æ—¶å€™é‡Šæ”¾é”ã€‚(æœªå¼€å¯äº‹ç‰©çš„åœ¨è¯­å¥æ‰§è¡Œç»“æŸæ—¶å°±ä¼šé‡Šæ”¾é”ã€‚)<br>å¦‚æœé¢‘ç¹å¯¹åŒä¸€è¡Œåšupdateï¼Œæœ€å¥½æ”¾åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­è¿›è¡Œï¼Œå¯ä»¥è¾ƒå°‘é‡å¤è·å–é”çš„å¼€é”€?è¯·é—®è€å¸ˆæœ‰è¿™ç§è¯´æ³•ä¹ˆ<br>","like_count":0},{"had_liked":false,"id":127293,"user_name":"èµµå°æ´›","can_delete":false,"product_type":"c1","uid":1592232,"ip_address":"","ucode":"A326C12B1A1ABA","user_header":"https://static001.geekbang.org/account/avatar/00/18/4b/a8/14b8a860.jpg","comment_is_top":false,"comment_ctime":1566637665,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566637665","product_id":100020801,"comment_content":"è€å¸ˆ æˆ‘çš„MySQLçŸ¥è¯†å¾ˆæ¬ ç¼º ï¼Œæˆ‘åº”è¯¥æ€ä¹ˆå­¦è¿™ä¸ªè¯¾ç¨‹","like_count":0},{"had_liked":false,"id":126411,"user_name":"æ¾œå±¿","can_delete":false,"product_type":"c1","uid":1622852,"ip_address":"","ucode":"9249CE56CA4891","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKXb0MQrhQzFQSXLwpceibeHs1C8E0ia3uZjjh7o3NJadChWazF8iaFCZ74vGsDqPo423MRiavLQBbibag/132","comment_is_top":false,"comment_ctime":1566384129,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566384129","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæˆ‘æœ‰è¿™æ ·çš„ä¸€ä¸ªæƒ…å†µï¼Œæˆ‘å»ºäº†ä¸€ä¸ªå”¯ä¸€ç´¢å¼•ã€‚UNIQUE KEY `email_key` (`email`,`stype`,`agent_key`)<br>ç„¶åæŸ¥è¯¢è¯­å¥æ˜¯ï¼šSELECT stype, agent_key, agent_id, agent_mls_id FROM email_to_agent WHERE email=&#39;monique@wbrea.com&#39;<br>ç›®å‰æ•°æ®é‡300å¤šWã€‚è¿™ä¸€æ¡ SQL ä¸€å¤©ä¼šå‡ºç° 3-4 æ¬¡çš„æ…¢æŸ¥ã€‚æŸ¥è¯¢æ—¶é—´æœ‰ 5-6sï¼Œå¥‡æ€ªçš„æ˜¯è¿™æ¡ SQL æ²¡æœ‰è¿›æ…¢æŸ¥æ—¥å¿—ï¼Œæ…¢æŸ¥çš„æ—¶å€™æˆ‘çœ‹æœºå™¨è´Ÿè½½ä¹Ÿè¿˜å¥½ï¼Œç„¶åä¹Ÿæ²¡æœ‰å¤ªå¤šå…¶ä»–çš„è¯·æ±‚è¿›æ¥ï¼Œè¿™ä¸ªè¡¨ä¹Ÿä¸ç»å¸¸æ›´æ–°ã€‚ä½†æ˜¯ç½‘ç»œç¯å¢ƒæŒºå¥½ã€‚ç„¶åè¿™ç§æƒ…å†µæˆ‘å°±ä¸çŸ¥é“è¯¥æ€ä¹ˆæ’æŸ¥äº†ï¼Œå¸Œæœ›è€å¸ˆå¯ä»¥æŒ‡ç‚¹ä¸€ä¸‹","like_count":0},{"had_liked":false,"id":125196,"user_name":"è¡¬è¡«çš„ä»·æ ¼æ˜¯19ç¾å…ƒ","can_delete":false,"product_type":"c1","uid":1397631,"ip_address":"","ucode":"655F925451F772","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKVUskibDnhMt5MCIJ8227HWkeg2wEEyewps8GuWhWaY5fy7Ya56bu2ktMlxdla3K29Wqia9efCkWaQ/132","comment_is_top":false,"comment_ctime":1566116217,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566116217","product_id":100020801,"comment_content":"1.change bufferæ˜¯é€šè¿‡å‡å°‘éšæœºè¯»æ¥æé«˜æ›´æ–°æ—¶çš„æ€§èƒ½(è¯»æ•°æ®åº“(éšæœºè¯») -&gt; ä¸è¯»ï¼Œå†™æ–‡ä»¶ï¼Œè®°å½•å˜åŠ¨(é¡ºåºå†™))<br>2.redo logæ˜¯é€šè¿‡æ”¹éšæœºå†™ä¸ºé¡ºåºå†™æ¥æé«˜æ›´æ–°æ—¶çš„æ€§èƒ½(å†™æ•°æ®åº“(éšæœºå†™) -&gt; å†™æ–‡ä»¶(é¡ºåºå†™))","like_count":0},{"had_liked":false,"id":125155,"user_name":"å¼ ä¸‰ä¸°","can_delete":false,"product_type":"c1","uid":1155275,"ip_address":"","ucode":"3A6215A40B3B21","user_header":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","comment_is_top":false,"comment_ctime":1566101836,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1566101836","product_id":100020801,"comment_content":"ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¹‹å‰è®¡ç®—è¿‡ï¼Œå¯¹äºæ•´å‹å­—æ®µï¼Œä¸€ä¸ªæ•°æ®é¡µå¯ä»¥æ”¾è¿‘åƒä¸ª keyï¼Œ<br><br><br>è¯·é—®è¿™ä¸ªæ˜¯æ€ä¹ˆè®¡ç®—çš„ï¼Ÿæ•°æ®é¡µå­˜å‚¨çš„æ˜¯ä¸æ˜¯å¶å­ç»“ç‚¹ï¼Ÿ","like_count":0},{"had_liked":false,"id":122379,"user_name":"æå®¢â€”æœˆ","can_delete":false,"product_type":"c1","uid":1318468,"ip_address":"","ucode":"EE12EEBF242B1D","user_header":"","comment_is_top":false,"comment_ctime":1565352930,"is_pvip":true,"replies":[{"id":"44979","content":"å› ä¸ºç´¢å¼•æ˜¯æœ‰åºçš„ï¼Œç¬¬ä¸€ä¸ªä¸æ˜¯5ï¼Œå°±æ˜¯æ¯”5å¤§ï¼Œå®ƒä¹‹åçš„è®°å½•å°±éƒ½æ¯”5å¤§ï¼Œä¸éœ€è¦ç»§ç»­éå†äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1565446624,"ip_address":"","comment_id":122379,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1565352930","product_id":100020801,"comment_content":"å¯¹äºæ™®é€šç´¢å¼•æ¥è¯´ï¼ŒæŸ¥æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªè®°å½• (5,500) åï¼Œéœ€è¦æŸ¥æ‰¾ä¸‹ä¸€ä¸ªè®°å½•ï¼Œç›´åˆ°ç¢°åˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³ k=5 æ¡ä»¶çš„è®°å½•ã€‚<br>è€å¸ˆï¼Œè¿™æ®µä¸å¤ªæ‡‚ï¼Œä¸ºä»€ä¹ˆç¢°åˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³çš„å°±ä¸ç»§ç»­æ‰¾äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462228,"discussion_content":"å› ä¸ºç´¢å¼•æ˜¯æœ‰åºçš„ï¼Œç¬¬ä¸€ä¸ªä¸æ˜¯5ï¼Œå°±æ˜¯æ¯”5å¤§ï¼Œå®ƒä¹‹åçš„è®°å½•å°±éƒ½æ¯”5å¤§ï¼Œä¸éœ€è¦ç»§ç»­éå†äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565446624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122340,"user_name":"å­¦ä¹ ï¼Œå­¦ä¹ ï¼Œå†å­¦ä¹ ","can_delete":false,"product_type":"c1","uid":1178951,"ip_address":"","ucode":"3B07D19CCFB15C","user_header":"https://static001.geekbang.org/account/avatar/00/11/fd/47/78ee760d.jpg","comment_is_top":false,"comment_ctime":1565343588,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565343588","product_id":100020801,"comment_content":"æˆ‘æœ‰ä¸ªä¸æˆç†Ÿçš„é—®é¢˜ï¼šå­¦åˆ°ç°åœ¨æˆ‘ä»¬çŸ¥é“ç´¢å¼•å¯ä»¥åˆ†æˆä¸¤å¤§ç±»ä¸»é”®ç´¢å¼•å’Œéä¸»é”®ç´¢å¼•ã€‚å‡è®¾è¡¨é‡Œåªæœ‰idã€kè¿™ä¸¤ä¸ªå­—æ®µï¼Œidä¸ºä¸»é”®ç´¢å¼•ï¼Œkä¸ºæ™®é€šç´¢å¼•ï¼Œidå’Œkåˆ†åˆ«å¯¹åº”ä¸åŒçš„B+æ ‘ï¼Œé‚£å½“æˆ‘ä»¬å†™å…¥(id,k)çš„æ—¶å€™ï¼ŒæŒ‰ç†æ¥è¯´ä¼šåœ¨idæ ‘ä¸Šæ·»åŠ ï¼Œä¹Ÿä¼šåœ¨kæ ‘ä¸Šä¹Ÿæ·»åŠ ã€‚é‚£ä¹ˆä¼šä¸ä¼šå‡ºç°åœ¨idæ ‘ä¸Šæ·»åŠ äº†ï¼Œè€Œåœ¨kæ ‘ä¸Šæ·»åŠ å¤±è´¥çš„æƒ…å†µï¼Ÿä¹Ÿå°±æ˜¯é—®ï¼Œåœ¨æ’å…¥ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œä¸»é”®ç´¢å¼•æ·»åŠ è¿›å»äº†ï¼Œè€Œæ™®é€šç´¢å¼•æ²¡æ·»åŠ è¿›å»çš„æƒ…å†µï¼Ÿ","like_count":0},{"had_liked":false,"id":121614,"user_name":"o9","can_delete":false,"product_type":"c1","uid":1101332,"ip_address":"","ucode":"E373E82A39BBFE","user_header":"https://static001.geekbang.org/account/avatar/00/10/ce/14/b488f241.jpg","comment_is_top":false,"comment_ctime":1565167753,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1565167753","product_id":100020801,"comment_content":"è€å¸ˆ, æ‚¨å¥½, <br>çœ‹äº†è¯„è®ºåŒºçš„ç•™è¨€, å‘ç°å¤§å®¶çº ç»“çš„ç‚¹æ˜¯, è¡¨ä¸€èˆ¬æ˜¯ä¼šæœ‰ä¸»é”®çš„, é‚£ä¹ˆåœ¨æ’å…¥çš„æ—¶å€™è‚¯å®šæ˜¯ç”¨ä¸åˆ° change buffer çš„(ä¸»é”®æ˜¯èšç°‡ç´¢å¼•, è‚¯å®šæ˜¯å”¯ä¸€çš„), è€å¸ˆçš„å›å¤æ˜¯ äºŒçº§ç´¢å¼•ä¼šç”¨åˆ° cahnge buffer. <br><br>æˆ‘çš„ç†è§£æ˜¯: æˆ‘ä»¬å‘èšç°‡ç´¢å¼•æ’å…¥æ•°æ®çš„æ—¶å€™æ— æ³•ç”¨åˆ° change buffer, ä½†æ˜¯ å¦‚æœè¡¨é‡Œæœ‰å…¶å®ƒçš„äºŒçº§ç´¢å¼•, å‘äºŒçº§ç´¢å¼•æ’å…¥æ•°æ®(B+æ ‘)çš„æ—¶å€™ä¼šç”¨åˆ° change buffer, ä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹.","like_count":0},{"had_liked":false,"id":120826,"user_name":"å‡¯æ–‡1985","can_delete":false,"product_type":"c1","uid":1036921,"ip_address":"","ucode":"9A42344649072B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/d2/79/0a432fde.jpg","comment_is_top":false,"comment_ctime":1565002807,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1565002807","product_id":100020801,"comment_content":"å¦‚æœå¼•æ“åŠ è½½äº†æ•°æ®é¡µåœ¨å†…å­˜ä¸­äº†ï¼ˆpool bufferï¼‰ï¼Œé‚£ä¹ˆåšäº†ä¿®æ”¹å å†…å­˜ä¸­çš„æ•°æ®ä¹Ÿæ˜¯åå°çº¿ç¨‹ä¸å®šæ—¶çš„æ›´æ–°åˆ°å¯¹åº”çš„ç£ç›˜ä¸Šçš„å—ï¼Ÿæ¯”å¦‚page1çš„æ”¹åŠ¨ã€‚","like_count":0},{"had_liked":false,"id":119873,"user_name":"çˆ±å› è¯—è´¤","can_delete":false,"product_type":"c1","uid":1528379,"ip_address":"","ucode":"150C439B87CED1","user_header":"https://static001.geekbang.org/account/avatar/00/17/52/3b/7a2610a6.jpg","comment_is_top":false,"comment_ctime":1564716186,"is_pvip":false,"replies":[{"id":"44045","content":"åˆ°bufferé‡Œé¢æŸ¥ä¸€ä¸‹ï¼Œæœ‰å°±æœ‰ï¼Œæ²¡æœ‰å°±å†å»ç£ç›˜æ‰¾ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1564740960,"ip_address":"","comment_id":119873,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1564716186","product_id":100020801,"comment_content":"innodb æ˜¯å¦‚ä½•çŸ¥é“ å½“å‰è¦è¯»å–çš„æ•°æ® çš„é¡µåœ¨bufferé‡Œé¢ è€Œä¸ç”¨å»ç£ç›˜ä¸­åŠ è½½ä¸€æ¬¡","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":461105,"discussion_content":"åˆ°bufferé‡Œé¢æŸ¥ä¸€ä¸‹ï¼Œæœ‰å°±æœ‰ï¼Œæ²¡æœ‰å°±å†å»ç£ç›˜æ‰¾ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564740960,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119774,"user_name":"å°”å†¬æ©™","can_delete":false,"product_type":"c1","uid":1225224,"ip_address":"","ucode":"0B013A49BC18DA","user_header":"https://static001.geekbang.org/account/avatar/00/12/b2/08/92f42622.jpg","comment_is_top":false,"comment_ctime":1564678512,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1564678512","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå‰é¢è¿˜æ˜¯ä¸»é”®ç´¢å¼•å’Œéä¸»é”®ç´¢å¼•ï¼Œæ€ä¹ˆè¿™è¾¹å°±å˜æˆäº†äº†å”¯ä¸€ç´¢å¼•å’Œæ™®é€šç´¢å¼•ï¼Œæ˜¯ä¸€ä¸ªä¸œè¥¿ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149987,"discussion_content":"ä¸»é”®ç´¢å¼•è‚¯å®šæ˜¯å”¯ä¸€ç´¢å¼•ï¼Œå”¯ä¸€ç´¢å¼•ä¸ä¸€å®šæ˜¯ä¸»é”®ç´¢å¼•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579785634,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1185046,"avatar":"https://static001.geekbang.org/account/avatar/00/12/15/16/0aae41a1.jpg","nickname":"no13bus","note":"","ucode":"69FA1A719DA4F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":11961,"discussion_content":"éä¸»é”®ç´¢å¼•é‡Œé¢åŒ…æ‹¬2ç±»:  å”¯ä¸€ç´¢å¼•å’Œæ™®é€šç´¢å¼•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568452713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119434,"user_name":"ä¸€è¢‹å¤§è™¾","can_delete":false,"product_type":"c1","uid":1469366,"ip_address":"","ucode":"8E4FED94405475","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/wwDhoIeIqMZiaLLCLmCsuiaeEt7rEQMqdTVjjTicic0Pz9HHpgzboaia1hxu3H0IHovqEa6pJ8e1UQn1gqeUr3ibIdrA/132","comment_is_top":false,"comment_ctime":1564586559,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1564586559","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸ªé—®é¢˜ã€‚å½“æ•°æ®ä¸åœ¨change bufferçš„æ—¶å€™ï¼Œåšæ›´æ–°æ“ä½œï¼Œåªæ˜¯åœ¨change bufferæ›´æ–°ï¼Œè¿™é‡Œçš„æ›´æ–°æŒ‡çš„æ˜¯ä¿ç•™äº†ä¸€æ¡æ›´æ–°è¯­å¥å—ï¼ï¼Ÿchange bufferæ²¡æœ‰è¡Œè®°å½•å•Šã€‚è€Œå¦‚æœè®°å½•åœ¨change buffer çš„è¯æ›´æ–°çš„æ˜¯è¡Œæ•°æ®ï¼Œåªæ˜¯æ²¡æœ‰å†™å…¥ç£ç›˜è€Œå·²å—ï¼ï¼Ÿï¼Ÿ","like_count":0},{"had_liked":false,"id":117405,"user_name":"é”‹é£å°","can_delete":false,"product_type":"c1","uid":1116935,"ip_address":"","ucode":"8E1528DF975D82","user_header":"https://static001.geekbang.org/account/avatar/00/11/0b/07/9b0446a7.jpg","comment_is_top":false,"comment_ctime":1564041052,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1564041052","product_id":100020801,"comment_content":"è€å¸ˆå¥½æœ‰ä¸ªé—®é¢˜æƒ³ä¸é€šï¼šæ›´æ–°ä¸æ˜¯å½“å‰è¯»å—ï¼Ÿé‚£ä¹ˆä¸æ˜¯åº”è¯¥å·²ç»æŠŠæ•°æ®é¡µè¯»åˆ°å†…å­˜é‡Œäº†å—ï¼Œé‚£ä¸æ˜¯ç›´æ¥æ›´æ–°å—ï¼Ÿä¸ºä»€ä¹ˆè¿˜æœ‰change buffer","like_count":0,"discussions":[{"author":{"id":1136684,"avatar":"https://static001.geekbang.org/account/avatar/00/11/58/2c/92c7ce3b.jpg","nickname":"æ˜“è½»å°˜","note":"","ucode":"0D0CB9D6D45A70","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":9487,"discussion_content":"é™¤äº†æ•°æ®è¡¨æœ¬èº«è¦æ›´æ–°ï¼Œè¡¨ä¸Šçš„æ‰€æœ‰ç´¢å¼•æ ‘éƒ½è¦æ›´æ–°ï¼Œchange bufferä¸»è¦æ˜¯ç”¨äºæ›´æ–°æ™®é€šç´¢å¼•æ ‘çš„æ—¶å€™ã€‚ç¼“å­˜æ± é‡Œæœ‰ç´¢å¼•ç¼“å­˜å’Œæ•°æ®ç¼“å­˜ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1568173535,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":149992,"discussion_content":"æ›´æ–°æ˜¯å½“å‰è¯»ï¼ŒåŸºäºä¸Šé¢ä½œè€…çš„å›ç­”ï¼Œchange bufferçš„å­˜åœ¨å¹¶ä¸å†²çªã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579785761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1116935,"avatar":"https://static001.geekbang.org/account/avatar/00/11/0b/07/9b0446a7.jpg","nickname":"é”‹é£å°","note":"","ucode":"8E1528DF975D82","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":165010,"discussion_content":"æ˜¯çš„æ›´æ–°çš„changebufferåº”è¯¥æ˜¯é’ˆå¯¹è¦æ”¹ç´¢å¼•çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581248855,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":149992,"ip_address":""},"score":165010,"extra":""}]}]},{"had_liked":false,"id":116501,"user_name":"é•¿æœŸè§„åˆ’","can_delete":false,"product_type":"c1","uid":1019332,"ip_address":"","ucode":"5EF65E9115834B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8d/c4/6f97daea.jpg","comment_is_top":false,"comment_ctime":1563858828,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563858828","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¯¹äº&quot;å†å²æ•°æ®&quot;è¡¨ï¼Œä¸€èˆ¬éƒ½è¯»å¤šå†™å°‘å•Šï¼Œchange bufferåº”è¯¥æ²¡ä»€ä¹ˆç”¨å§","like_count":0},{"had_liked":false,"id":116423,"user_name":"Syrup","can_delete":false,"product_type":"c1","uid":1118132,"ip_address":"","ucode":"E8292C0B38228A","user_header":"https://static001.geekbang.org/account/avatar/00/11/0f/b4/4eaf4fa2.jpg","comment_is_top":false,"comment_ctime":1563848526,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563848526","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œçœ‹äº†æœ¬ç¯‡çš„change bufferä¹‹åæœ‰ä¸€ä¸ªé—®é¢˜æƒ³è¯·æ•™ä¸€ä¸‹ã€‚å°±æ˜¯åœ¨RRä¸‹ï¼Œé’ˆå¯¹æ™®é€šç´¢å¼•åœ¨insertæˆ–è€…updateï¼Œå¦‚æœå¯¹åº”çš„æ•°æ®é¡µæ²¡æœ‰åœ¨å†…å­˜ä¸­ï¼Œé‚£ä¹ˆä¼šå…ˆåœ¨change bufferä¸‹è®°å½•ï¼Œé‚£å¦‚æœæˆ‘å…ˆæ‰§è¡Œä¸€æ¡insert è¯­å¥ï¼Œå†™å…¥åˆ°change bufferä¸­äº†ï¼Œç„¶åå†ç´§æ¥ç€æ›´æ–°è¿™æ¡è®°å½•ã€‚é‚£è¿™ä¸ªæ—¶å€™Innodbæ˜¯ä¼šå…ˆmergeä¹‹åå†è¯»å–æ›´æ–°ï¼Œè¿˜æ˜¯ç›´æ¥åœ¨change bufferä¸­è¿›è¡Œæ›´æ–°å‘¢ï¼Ÿ ","like_count":0},{"had_liked":false,"id":115199,"user_name":"å°ç™½","can_delete":false,"product_type":"c1","uid":1325011,"ip_address":"","ucode":"CFC9A5BBD5F3EE","user_header":"https://static001.geekbang.org/account/avatar/00/14/37/d3/7e183a8c.jpg","comment_is_top":false,"comment_ctime":1563506194,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563506194","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œä¾‹å­ä¸­k2æ˜¯å¦‚ä½•å®šä½åˆ°æ‰€è¦æ“ä½œçš„ç´¢å¼•é¡µæ˜¯åœ¨page2çš„ï¼Œå¦‚æœæ˜¯éœ€è¦æ£€ç´¢æ‰èƒ½ç¡®è®¤ï¼Œé‚£ä¸æ˜¯è¿˜æ˜¯è¿›è¡Œäº†ç£ç›˜IOå—<br>å¯¹äºupdateæ“ä½œï¼Œéå”¯ä¸€ç´¢å¼•åº”è¯¥æ˜¯æ¶‰åŠåˆ°åŸç´¢å¼•æ ‡è®°åˆ é™¤ï¼Œæ–°ç´¢å¼•æ’å…¥å§ï¼Œè¯·é—®change bufferæ˜¯å¦‚ä½•æ“ä½œçš„<br>","like_count":0},{"had_liked":false,"id":115131,"user_name":"zhangwei","can_delete":false,"product_type":"c1","uid":1246639,"ip_address":"","ucode":"B71CBA5311846F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIvrwfqAuRkaK8Pl2apHKFZxd5mjnFhROMNcg5qXUT4AxE2ZTTia5Hg6pmFM1vozq3vZiagJoaJ4Pyg/132","comment_is_top":false,"comment_ctime":1563498338,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1563498338","product_id":100020801,"comment_content":"ä¸è€å¸ˆå¥½ï¼Œæˆ‘æœ‰å‡ ä¸ªé—®é¢˜æ²¡æœ‰çœ‹æ˜ç™½ï¼Œæœ›è§£ç­”ã€‚<br>1ï¼Œå”¯ä¸€ç´¢å¼•æ’å…¥ä¸ºä»€ä¹ˆè¦åŠ è½½æ•°æ®é¡µæ‰èƒ½åˆ¤æ–­æ˜¯å¦é‡å¤ï¼Ÿæˆ‘çš„ç†è§£æ ¹æ®ç´¢å¼•å°±èƒ½åˆ¤æ–­äº†ï¼Œå› ä¸ºåªè¦ç´¢å¼•èŠ‚ç‚¹å€¼ä¸é‡å¤å°±è¡Œã€‚<br>2ï¼Œæ‚¨å›å¤è¯„è®ºåŒºè¯´æ’å…¥æ—¶å€™ä¸»é”®ä¸èƒ½ç”¨change bufferä½†æ˜¯äºŒçº§ç´¢å¼•å¯ç”¨ï¼Œæˆ‘çš„ç†è§£æ˜¯æ’å…¥æ—¶å€™å·²ç»æŠŠæ•°æ®é¡µåŠ è½½åˆ°å†…å­˜äº†ï¼ŒäºŒçº§ç´¢å¼•ä¹Ÿä¸å¿…ç”¨change bufferäº†ã€‚<br>3ï¼Œupdateè¯­å¥å¦‚æœè¦ç”¨change bufferï¼Œå…¶whereæ¡ä»¶å­—æ®µå¿…é¡»è¢«ç´¢å¼•è¦†ç›–å§ï¼Ÿå¦‚æœæˆ‘æœ‰éç´¢å¼•å­—æ®µæ¯”å¦‚æƒ³ç”¨ä¹è§‚é”where id=100 and version=&#39;1001&#39;ï¼Œversionä¸æ˜¯ç´¢å¼•ï¼Œé‚£ä¹ˆè¿˜æ˜¯è¦åŠ è½½æ•°æ®é¡µåˆ°å†…å­˜çš„å§ï¼Œå› ä¸ºè¦è¿”å›updateè¡Œæ•°ã€‚<br>4ï¼Œè€å¸ˆåœ¨è¯„è®ºåŒºè¯´åˆ·æ•°æ®é¡µåˆ°ç£ç›˜æ˜¯change bufferå’Œredologå…±åŒåœ¨åšï¼Œæ˜¯ä¸æ˜¯ä¸€ä¸ªå…ˆåˆ·åˆ°ç£ç›˜ï¼ŒæŠŠå¦å¤–ä¸€ä¸ªè®¾ç½®æ— é™äº†ï¼Ÿ<br>æ„Ÿè§‰è‡ªå·±ç†è§£åŠ›æœ‰é—®é¢˜ï¼Œæœ›è€å¸ˆè§£ç­”ï¼Œè°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":112663,"user_name":"ç‹æ–¯æ‹‰","can_delete":false,"product_type":"c1","uid":1593957,"ip_address":"","ucode":"D00DD3CE432189","user_header":"https://static001.geekbang.org/account/avatar/00/18/52/65/320eccb3.jpg","comment_is_top":false,"comment_ctime":1562804124,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562804124","product_id":100020801,"comment_content":"redo logå’Œchange bufferæœ‰äº›æ··æ·†ï¼š<br>redologæ›´æ–°æ—¶ï¼š<br>\t1. æ•°æ®è¯»å…¥å†…å­˜ï¼Œå¹¶ä¿®æ”¹ ï¼ˆé—®é¢˜ï¼šè¿™ä¸€æ­¥éœ€è¦å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿï¼‰<br>\t2. redo logå†™å…¥ä¿®æ”¹å†…å®¹<br>\t3. ç­‰å…¶ä»–æ—¶é—´å¼‚æ­¥å†™å…¥ç£ç›˜<br>change bufferæ›´æ–°æˆ–æ’å…¥:<br>\t1. è‹¥æ•°æ®åœ¨å†…å­˜ä¸­ï¼Œåˆ™æ— éœ€<br>\t2. è‹¥æ•°æ®ä¸åœ¨å†…å­˜ï¼Œåˆ™å…ˆå†™å…¥change bufferï¼Œä¸éœ€è¦æŠŠæ•°æ®ä»å†…å­˜ä¸­è¯»å‡ºæ¥<br>\t3. ç­‰ä¸‹ä¸€æ¬¡æŸ¥è¯¢çš„æ—¶å€™ æ•°æ®è¯»å‡º å¹¶æŠŠchange bufferä¸­çš„æ•°æ®mergeè¿›å»<br>","like_count":0},{"had_liked":false,"id":112276,"user_name":"ä»»é¹æ–Œ","can_delete":false,"product_type":"c1","uid":1104086,"ip_address":"","ucode":"34319B05EA6E74","user_header":"https://static001.geekbang.org/account/avatar/00/10/d8/d6/47da34bf.jpg","comment_is_top":false,"comment_ctime":1562712688,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1562712688","product_id":100020801,"comment_content":"è€å¸ˆå¥½äºŒè¯»å‘ç°è¿™å¥è¯:åœ¨ InnoDB ä¸­ï¼Œæ¯ä¸ªæ•°æ®é¡µçš„å¤§å°é»˜è®¤æ˜¯ 16KBã€‚è®°å¾—æ“ä½œç³»ç»Ÿé»˜è®¤æ•°æ®é¡µå¤§å°æ˜¯4kbï¼Œä¸çŸ¥é“InnoDBè¿™æ ·åšçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿè¿˜èƒ½åˆ©ç”¨åˆ°æ“ä½œç³»ç»Ÿçš„é¡µç®¡ç†æœºåˆ¶å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1308783,"avatar":"https://static001.geekbang.org/account/avatar/00/13/f8/6f/080973cf.jpg","nickname":"Edward","note":"","ucode":"10FAADF92D05F4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":6894,"discussion_content":"å½“ç„¶å¯ä»¥ï¼Œinnodbé»˜è®¤æ•°æ®é¡µå¤§å°ä¸º16kï¼Œä¹Ÿæ˜¯ä¸ºäº†å¯ä»¥æ”¾æ›´å¤šç´¢å¼•å€¼ï¼ŒB+æ ‘ä¹Ÿä¼šå°½å¯èƒ½çŸ®ä¸€ç‚¹ã€‚æ—¢ç„¶æ“ä½œç³»ç»Ÿå†…å­˜å’Œç£ç›˜äº¤æ¢æ•°æ®é¡µä¸º4kå¤§å°ï¼Œä¸€ä¸ªæ•°æ®é¡µå¯ä»¥åˆ†å››æ¬¡é¢„è¯»å‘—ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567157158,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":110377,"user_name":"mofei","can_delete":false,"product_type":"c1","uid":1541887,"ip_address":"","ucode":"C0F8CCCD96B856","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJUjcPst52CBr05pvK4IB10vPknQjdyHQTMRSsNWkLTLdjHgVIQnZcC22KU7eIupybTfoM69OppYA/132","comment_is_top":false,"comment_ctime":1562245547,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1562245547","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¯·é—®å¦‚ä½•ç†è§£ ã€é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œã€‘ é‡Œé¢ç´¢å¼•è§„çº¦è®²çš„ï¼š<br>ã€å¼ºåˆ¶ã€‘ä¸šåŠ¡ä¸Šå…·æœ‰å”¯ä¸€ç‰¹æ€§çš„å­—æ®µï¼Œå³ä½¿æ˜¯å¤šä¸ªå­—æ®µçš„ç»„åˆï¼Œä¹Ÿå¿…é¡»å»ºæˆå”¯ä¸€ç´¢å¼•ã€‚ <br>è¯´æ˜ï¼šä¸è¦ä»¥ä¸ºå”¯ä¸€ç´¢å¼•å½±å“äº†inserté€Ÿåº¦ï¼Œè¿™ä¸ªé€Ÿåº¦æŸè€—å¯ä»¥å¿½ç•¥ï¼Œä½†æé«˜æŸ¥æ‰¾é€Ÿåº¦æ˜¯æ˜æ˜¾çš„ï¼›<br>é™„é“¾æ¥ï¼š<br>https:&#47;&#47;github.com&#47;alibaba&#47;p3c&#47;blob&#47;master&#47;%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4Java%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C%EF%BC%88%E5%8D%8E%E5%B1%B1%E7%89%88%EF%BC%89.pdf<br><br>æˆ‘æµ‹è¯•æ˜¯è¿™æ ·çš„ï¼Œä¸€ä¸ªè¡¨é‡Œé¢å·²ç»æœ‰ä¸€åƒä¸‡è®°å½•ï¼Œä¸»é”®ID bigintï¼Œæ²¡æœ‰å…¶ä»–äºŒçº§ç´¢å¼•ã€‚<br>åŠ æ™®é€šç´¢å¼•å†æ’å…¥ä¸€ç™¾ä¸‡è®°å½•è€—æ—¶ï¼š20m42.006s<br>åŠ å”¯ä¸€ç´¢å¼•å†æ’å…¥ä¸€ç™¾ä¸‡è®°å½•è€—æ—¶ï¼š20m37.323s<br>å”¯ä¸€ç´¢å¼•æ’å…¥é€Ÿåº¦ç”šè‡³ æ›´å¿«ï¼Œæœ‰ç‚¹é¢ è¦†æˆ‘çš„è®¤çŸ¥å•Šï¼Œè¯·æ•™å¦‚ä½•è§£é‡Šï¼Ÿ","like_count":0},{"had_liked":false,"id":110294,"user_name":"æ®‹å¤©å™¬é­‚","can_delete":false,"product_type":"c1","uid":1506609,"ip_address":"","ucode":"A2AD8303A4518D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/q2HwchogzNiavKhIB4GfAxH6B88NhSoC7B7keVEUqiaP6JPokDUNJLYehocOyqYqrhA3iaxywyRXLYkYJjDUQESZw/132","comment_is_top":false,"comment_ctime":1562223948,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562223948","product_id":100020801,"comment_content":"æˆ‘çš„ç†è§£ï¼šæ–‡ä¸­è¯´äº†change bufferæ˜¯æœ‰æŒä¹…åŒ–çš„ï¼Œæ‰€ä»¥æ•°æ®ä¹Ÿä¼šæŒä¹…åŒ–åˆ°ç£ç›˜ä¸­ï¼Œä½†å¦‚æœè¿˜æ²¡æœ‰æ¥å¾—åŠç¼“å­˜åˆ°ç£ç›˜ä¸­ï¼Œè€Œæ ¹æ®ä¸Šé¢çš„é¡ºåºï¼Œè¿™ä¸ªæ—¶å€™redo logä¹Ÿè¿˜æ²¡æœ‰å¯¹è¿™éƒ¨åˆ†æ“ä½œè¿›è¡Œè®°å½•ï¼Œæ‰€ä»¥è¿™æ—¶å€™è¿™ä¸€éƒ¨ä»½æ•°æ®åº”è¯¥ä¼šä¸¢å¤±","like_count":0},{"had_liked":false,"id":110245,"user_name":"å­¦æµ·æ— æ¶¯è«é","can_delete":false,"product_type":"c1","uid":1115674,"ip_address":"","ucode":"CE259CFEA14708","user_header":"https://static001.geekbang.org/account/avatar/00/11/06/1a/a8a9094d.jpg","comment_is_top":false,"comment_ctime":1562213757,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562213757","product_id":100020801,"comment_content":"è€å¸ˆçš„ä¸“æ è¦ä¸²èµ·æ¥è®¤çœŸè¯»æ‰èƒ½é¢†ä¼šï¼ˆå—ä¸“æ ç¯‡å¹…å½±å“ï¼‰ï¼Œè¯„è®ºåŒºé¡µå¾ˆç²¾å½©ã€‚å¸Œæœ›è€å¸ˆåœ¨ä¸“æ ä¹‹å¤–è¿˜èƒ½æ¨èç‚¹å…¶ä»–ä¹¦ç±ã€‚","like_count":0},{"had_liked":false,"id":108851,"user_name":"ä½•ç£Š","can_delete":false,"product_type":"c1","uid":1047604,"ip_address":"","ucode":"78934C3ED4A342","user_header":"https://static001.geekbang.org/account/avatar/00/0f/fc/34/c733b116.jpg","comment_is_top":false,"comment_ctime":1561901499,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561901499","product_id":100020801,"comment_content":"ä½¿ç”¨æ™®é€šç´¢å¼•è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œå¦‚æœè¯­å¥åé¢æœ‰ limit 1çš„é™åˆ¶ï¼Œåº”è¯¥ä¸ä¼šå†è¿›è¡Œä¸‹ä¸€æ¬¡çš„åˆ¤æ–­ã€‚","like_count":0},{"had_liked":false,"id":106691,"user_name":"è‹¦è¡Œåƒ§","can_delete":false,"product_type":"c1","uid":1055334,"ip_address":"","ucode":"726024A9A9CF44","user_header":"https://static001.geekbang.org/account/avatar/00/10/1a/66/2d9db9ed.jpg","comment_is_top":false,"comment_ctime":1561372468,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561372468","product_id":100020801,"comment_content":"ä¸šåŠ¡ä¼˜å…ˆ å”¯ä¸€æ€§ç´¢å¼•è¿˜æ˜¯æ™®é€šç´¢å¼•","like_count":0},{"had_liked":false,"id":106358,"user_name":"ææ¢¦å˜‰","can_delete":false,"product_type":"c1","uid":1141909,"ip_address":"","ucode":"4F9F29F9E96A55","user_header":"https://static001.geekbang.org/account/avatar/00/11/6c/95/bb237f51.jpg","comment_is_top":false,"comment_ctime":1561278921,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561278921","product_id":100020801,"comment_content":"1. checkpointæ˜¯å¦ä¼šè§¦å‘change bufferçš„mergeï¼Ÿè¿˜æ˜¯åªä¼šåœ¨è¯»å–ä¿®æ”¹æ•°æ®é¡µçš„æ—¶å€™æ‰ä¼šåšmergeï¼Ÿ<br>2. change bufferè®°å½•æ˜¯ç‰©ç†è¿˜æ˜¯é€»è¾‘çš„ï¼Ÿ<br>3. redo logè®°å½•äº†change bufferçš„æ”¹å˜, é‚£ä¹ˆåšcrash recoveryçš„æ—¶å€™, ä»redo logå³å¯æ¢å¤å‡ºæ•°æ®æ”¹å˜çš„è¿‡ç¨‹, é‚£ä¹ˆchange bufferè½ç›˜çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":105439,"user_name":"é»„å¼º","can_delete":false,"product_type":"c1","uid":1086093,"ip_address":"","ucode":"20231AC29CFD53","user_header":"https://static001.geekbang.org/account/avatar/00/10/92/8d/ab469ad5.jpg","comment_is_top":false,"comment_ctime":1561000501,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1561000501","product_id":100020801,"comment_content":"æ¢è®¨ä¸€ä¸ªé—®é¢˜ï¼Œç›®å‰æ•°æ®åº“ä½¿ç”¨Bæ—æ ‘æ•°æ®ç»“æ„æ¥è®¾è®¡ç´¢å¼•æ˜¯åŸºäºæœºæ¢°ç¡¬ç›˜çš„è¯»å–å¯»å€çš„åŸå› ï¼Œå‡è®¾åç»­å›ºæ€ç¡¬ç›˜å–ä»£æœºæ¢°ç¡¬ç›˜äº†ï¼Œæ•°æ®åº“çš„ç´¢å¼•ç»“æ„ä¼šæ€æ ·è®¾è®¡å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":105308,"user_name":"Geek_e95920","can_delete":false,"product_type":"c1","uid":1344701,"ip_address":"","ucode":"193C44DAC1699C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/HLDjKFe3k6EsKg2AzW7UPp6EiaxotnDciaIxCHtBWibbb0GAJXc2LfDCJwv3sL2QZAudndqUU31cicq4oMrGXibLaTA/132","comment_is_top":false,"comment_ctime":1560960524,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560960524","product_id":100020801,"comment_content":"1. change bufferä¸­æ˜¯ä¸æ˜¯æœ‰ä¸ªä»€ä¹ˆæ•°æ®ç»“æ„ï¼ˆä½å›¾æˆ–æ˜¯å“ˆå¸Œmapä¹‹ç±»çš„ï¼‰ä¿å­˜ç€å“ªäº›é¡µå­˜åœ¨å¾…mergeï¼Ÿå½“æœ‰æ•°æ®é¡µè¯»å…¥buffer poolæ—¶éƒ½ä¼šå»è¿™ä¸ªæ•°æ®ç»“æ„é‡ŒæŸ¥è¯¢ä¸‹æ˜¯å¦éœ€è¦mergeæ“ä½œï¼Ÿ<br>2. change bufferå¯ä»¥è®°å½•å¤šå°‘ä¸ªæ•°æ®é¡µçš„æ›´æ–°è®°å½•ï¼Œå®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸæ˜¯æ€æ ·çš„ï¼Ÿ<br>å‡å¦‚change bufferçš„å†…å­˜ä¸æ˜¯å¾ˆå¤§ï¼Œæ”¾ä¸ä¸‹äº†æ€ä¹ˆå¤„ç†ï¼Ÿä¼šå°†è¿™äº›è®°å½•å¯¹åº”çš„æ•°æ®é¡µä¸€ä¸ªä¸ªè¯»å…¥å†…å­˜ï¼Œç„¶åä¸€ä¸ªä¸ªmergeï¼Œå†ä¸€ä¸ªä¸ªåˆ·å›ç£ç›˜ï¼Ÿç„¶åå…¨éƒ¨æ¸…ç©ºæ‰change bufferï¼Ÿ<br>å¦‚æœæ­£åœ¨è¿›è¡Œè¿™ä¸ªè¿‡ç¨‹ï¼ŒMySQLæ˜¯ä¸æ˜¯åˆè¦â€œæŠ–â€èµ·æ¥äº†ï¼Œè€Œä¸”è¿˜æ˜¯éšæœºè¯»IO+å†™IOï¼ŒæŠ–çš„å‰å®³ä¸ï¼Ÿ","like_count":0},{"had_liked":false,"id":104909,"user_name":"ææ€ªè€…ğŸ˜˜ ğŸ˜’ ğŸ˜ ğŸ‘¿","can_delete":false,"product_type":"c1","uid":1300678,"ip_address":"","ucode":"40DFF5D3E3B24C","user_header":"https://static001.geekbang.org/account/avatar/00/13/d8/c6/2b2a58cf.jpg","comment_is_top":false,"comment_ctime":1560868119,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560868119","product_id":100020801,"comment_content":"æ’å…¥è¯­å¥çš„æ—¶å€™æ€ä¹ˆä½¿ç”¨change bufferå‘€","like_count":0},{"had_liked":false,"id":104901,"user_name":"ææ€ªè€…ğŸ˜˜ ğŸ˜’ ğŸ˜ ğŸ‘¿","can_delete":false,"product_type":"c1","uid":1300678,"ip_address":"","ucode":"40DFF5D3E3B24C","user_header":"https://static001.geekbang.org/account/avatar/00/13/d8/c6/2b2a58cf.jpg","comment_is_top":false,"comment_ctime":1560866562,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1560866562","product_id":100020801,"comment_content":"å¦‚æœæŸ¥è¯¢çš„æ—¶å€™change bufferå·²ç»mergeäº†ï¼Œé‚£ä¹ˆå½“redo logåˆ·è„é¡µçš„æ—¶å€™è¿˜ä¼šå¤„ç†è¿™æ¡æ•°æ®å—","like_count":0},{"had_liked":false,"id":99179,"user_name":"è¿è¾¹","can_delete":false,"product_type":"c1","uid":1391748,"ip_address":"","ucode":"54B5DA38449728","user_header":"https://static001.geekbang.org/account/avatar/00/15/3c/84/608f679b.jpg","comment_is_top":false,"comment_ctime":1559175200,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1559175200","product_id":100020801,"comment_content":"ç¬”è®°è®°å½•ï¼š<br>ç”±äºæŸ¥è¯¢ä¼šmerge change bufferï¼Œæ‰€æœ‰ä»ä¸šåŠ¡è§’åº¦å‡ºå‘ï¼Œå¦‚æœåœ¨ä¸€äº›æ’å…¥ä¹‹åæœ‰æŸ¥è¯¢çš„ä¸šåŠ¡ä¸ä½¿ç”¨change bufferï¼›æ’å…¥å¤šï¼ŒæŸ¥è¯¢å°‘ï¼Œå»ºè®®å¤šç”¨change bufferï¼Œå› ä¸ºmergeå¾—å°‘ï¼Œç»´æŠ¤æˆæœ¬ç›¸å¯¹è¾ƒä½ã€‚","like_count":0},{"had_liked":false,"id":97594,"user_name":"åˆ˜ä¹‰æ–¹","can_delete":false,"product_type":"c1","uid":1084338,"ip_address":"","ucode":"29793C7987225B","user_header":"https://static001.geekbang.org/account/avatar/00/10/8b/b2/d91e6d3d.jpg","comment_is_top":false,"comment_ctime":1558704527,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1558704527","product_id":100020801,"comment_content":"é’ˆå¯¹å”¯ä¸€ç´¢å¼•è¿›è¡Œupdateå’Œdelete æ—¶å€™ï¼Œéœ€è¦æŸ¥è¯¢æ•°æ®åº“ï¼Ÿè€Œä¸æ˜¯å†™å…¥change buffet.å¦‚æœæŸ¥æ•°æ®åº“åŸºäºä»€ä¹ˆè€ƒè™‘","like_count":0},{"had_liked":false,"id":97190,"user_name":"Geek_e7a036","can_delete":false,"product_type":"c1","uid":1497030,"ip_address":"","ucode":"65EA05C403441F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIUvKMecKzfLSgFuYicksMxz1BJHp2Qz1uJBZsrfMTwBmF39tibW7HvbRmompwr71x86qwW22hLTULw/132","comment_is_top":false,"comment_ctime":1558605001,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1558605001","product_id":100020801,"comment_content":"æœ‰ä¸¤ä¸ªç–‘é—®æƒ³è¯·è¯·æ•™ä¸‹ï¼Œè¯„è®ºä¸­çœ‹åˆ°ä¹Ÿæœ‰äººæé—®äº†ï¼Œæ‚¨ä¹Ÿå›ç­”äº†ï¼Œæˆ‘ç¡®è®¤ä¸‹æˆ‘çš„ç†è§£å“ˆ<br>1.æ—¢ç„¶redo log è®°å½•äº†change bufferä¸­çš„æ›´æ–°æ“ä½œï¼Œæ—¢ç„¶redo logæŒä¹…åŒ–äº†ï¼Œä¸ºå•¥è¿˜éœ€è¦å°†change bufferæŒä¹…åŒ–åˆ°ç³»ç»Ÿè¡¨ç©ºé—´ï¼Ÿ<br>æˆ‘çš„ç†è§£æ˜¯æœ‰ä¸¤ä¸ªåŸå› ï¼š1ï¼‰.change bufferå†…å­˜ä¼šå¤±æ•ˆï¼Œå¦‚æœæŒä¹…åŒ–å°±èƒ½ä¸€ç›´ä½¿ç”¨ï¼Œå†è€…redologæ˜¯å¾ªç¯è¯»å†™å¯èƒ½ä¼šæ“¦é™¤ï¼Œä½†æ˜¯è¿™ä¸ªå¥½åƒä¸å½±å“ï¼Œå› ä¸ºæ“¦é™¤çš„æ—¶å€™ä¸€å®šä¼šæ›´æ–°å†…å­˜å¹¶è½ç›˜ 2ï¼‰.change bufferå•ç‹¬ç‹¬ç«‹æŒä¹…åŒ–åœ¨è¡¨ç©ºé—´æ–¹ä¾¿å¿«é€Ÿè·å–å¹¶mergeã€‚<br>2. å¢åˆ æ”¹æ˜¯åŠ é”å½“å‰è¯»ï¼Œç­‰äºæ˜¯å¢åˆ æ”¹ä¹‹å‰æ˜¯è¦å…ˆè¯»å–ï¼Œç„¶åå†æ›´æ–°ï¼Œæ˜¯å¦å°±ç”¨ä¸åˆ°change bufferï¼Ÿ<br>æˆ‘çš„ç†è§£æ˜¯æ›´æ–°æ“ä½œå¦‚æœåœ¨å†…å­˜ï¼Œå½“å‰è¯»ä¹Ÿå¯ä»¥ï¼Œå¦‚æœä¸åœ¨å†…å­˜ä¹Ÿèƒ½ä½¿ç”¨change bufferï¼Œåªæ˜¯ä¸²è¡Œçš„å­˜å‚¨æ›´æ–°æ“ä½œï¼Œç­‰ä¸‹æ¬¡è®¿é—®(æ‰«æè¡Œå¯èƒ½æ‰«åˆ°çš„æ—¶å€™)æˆ–è€…å®šæœŸçš„æ—¶å€™æ‰§è¡Œæ›´æ–°æ“ä½œã€‚æ‚¨æåˆ°è¯´change bufferä¸»è¦åº”ç”¨åœ¨æ™®é€šç´¢å¼•çš„æ›´æ–°ä¸Šã€‚æˆ‘ä¸çŸ¥é“æˆ‘çš„ç†è§£æ˜¯å¦æ­£ç¡®<br>3. è¿˜æœ‰äººé—®åˆ°è¯´å¦‚æœæ›´æ–°æ“ä½œæœ‰whereæ¡ä»¶ï¼Œæ˜¯ä¸æ˜¯å°±å¯¹æ™®é€šç´¢å¼•æ›´æ–°å°±ä¸ä½¿ç”¨change bufferäº†ï¼Ÿä¸€äººå›ç­”æ˜¯ä¸çœ‹whereæ¡ä»¶åªçœ‹è¦æŸ¥è¯¢çš„æ•°æ®æ˜¯ä¸æ˜¯åœ¨å†…å­˜ä¸­ã€‚æˆ‘çš„ç–‘é—®æ˜¯æˆ‘ä»¬æ€ä¹ˆåˆ¤æ–­è¯´ä¸€ä¸ªsqlæ“ä½œï¼Œä¼šæ¶‰åŠæ›´æ–°å“ªäº›è¡Œçš„æ™®é€šç´¢å¼•å‘¢ï¼Ÿç‰¹åˆ«æ˜¯whereæ¡ä»¶ä¸­æ²¡æœ‰ç´¢å¼•ã€‚å¦‚æœwhereæ¡ä»¶æœ‰ç´¢å¼•å¯èƒ½èƒ½å®šä½æ˜¯å“ªäº›ä¸»é”®æ‰€åœ¨çš„è¡Œã€‚","like_count":0,"discussions":[{"author":{"id":1185046,"avatar":"https://static001.geekbang.org/account/avatar/00/12/15/16/0aae41a1.jpg","nickname":"no13bus","note":"","ucode":"69FA1A719DA4F6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":11965,"discussion_content":"ç¬¬ä¸‰ä¸ªæˆ‘ä¹Ÿæœ‰è¿™ä¸ªç–‘é—®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568453235,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":96147,"user_name":"çƒ­å¿ƒå¸‚æ°‘å°ä¾¯","can_delete":false,"product_type":"c1","uid":1347767,"ip_address":"","ucode":"0F7D64B5F7193B","user_header":"https://static001.geekbang.org/account/avatar/00/14/90/b7/711aa6f9.jpg","comment_is_top":false,"comment_ctime":1558345205,"is_pvip":false,"replies":[{"id":"34895","content":"å°±æ˜¯æ¯æ¬¡æ’å…¥å‰è‡ªå·±å¾—æŸ¥ä¸€ä¸‹ğŸ˜†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1558708784,"ip_address":"","comment_id":96147,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1558345205","product_id":100020801,"comment_content":"æ±‚å¤§ä½¬è§£ç­”ï¼Œå¦‚æœç”¨äº†æ™®é€šç´¢å¼•ï¼Œä¸šåŠ¡å®ç°ä¸Šè¯¥æ€ä¹ˆä¿è¯å”¯ä¸€æ€§å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":450737,"discussion_content":"å°±æ˜¯æ¯æ¬¡æ’å…¥å‰è‡ªå·±å¾—æŸ¥ä¸€ä¸‹ğŸ˜†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1558708784,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":94900,"user_name":"è€å¦–çº£ç‹","can_delete":false,"product_type":"c1","uid":1357582,"ip_address":"","ucode":"C07A398ADFC38E","user_header":"https://static001.geekbang.org/account/avatar/00/14/b7/0e/20ed751b.jpg","comment_is_top":false,"comment_ctime":1557918725,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557918725","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œåœ¨æ¢³ç†åŸç†æµç¨‹æ—¶ï¼Œæœ‰ä¸æ˜ä¹‹å¤„ï¼Œè¿˜æœ›è§£ç­”ã€‚<br>1. åœ¨æ›´æ–°æ•°æ®æ—¶ï¼Œåº”è¯¥å…ˆæ›´æ–°change bufferï¼Œæäº¤æ—¶æ›´æ–°redoï¼Œæ‰€ä»¥redoæœªæäº¤æ—¶ï¼Œé‡å¯MySQLåchange bufferæ²¡æœ‰ï¼Œä½†æ˜¯æ­£å¸¸å›æ»šï¼Œé‚£change bufferä¸­æ•°æ®æ€ä¹ˆå¤„ç†ï¼Ÿ<br>2. mergeåŸç†æ¯”è¾ƒç®€å•ï¼Œä¸»è¦æ˜¯mergeä¹Ÿä¼šè®°å½•åˆ°redoï¼Œå³ä½¿é‡å¯ä¹Ÿä¸ä¼šä¸¢å¤±åˆå¹¶ä¿¡æ¯ã€‚é‚£purgeåï¼Œæ˜¯ä¸æ˜¯å¯¹redo logè®°å½•è¦åˆ é™¤ï¼ŸåŒæ—¶ä¹Ÿè¦åˆ é™¤buffer poolå’Œibdata1ï¼Ÿæµç¨‹åŸç†æ˜¯æ€ä¹ˆæ ·ï¼Œpurgeä¼šä¸ä¼šå½±å“å…¶ä»–äº‹åŠ¡è·å–æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚","like_count":0},{"had_liked":false,"id":93343,"user_name":"å¦‚æœ","can_delete":false,"product_type":"c1","uid":1320638,"ip_address":"","ucode":"138A3EEEE50850","user_header":"","comment_is_top":false,"comment_ctime":1557454429,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557454429","product_id":100020801,"comment_content":"DAY9ï¼Œæ‰“å¡","like_count":0},{"had_liked":false,"id":91892,"user_name":"Jzzw","can_delete":false,"product_type":"c1","uid":1508208,"ip_address":"","ucode":"4B642AADF48BD6","user_header":"https://static001.geekbang.org/account/avatar/00/17/03/70/01dc4853.jpg","comment_is_top":false,"comment_ctime":1557129373,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557129373","product_id":100020801,"comment_content":"åˆšæ‰è‡ªå·±æƒ³å¤æ‚äº†ï¼Œchange bufferå’Œbuffer poolçš„ä¿®æ”¹éƒ½ä¼šå†™redoï¼Œè½ç›˜çš„æ–¹å¼éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡è½ç›˜çš„ä½ç½®ä¸ä¸€æ ·ï¼Œredoæ˜¯æ€ä¹ˆæ¢å¤buffer poolçš„ï¼ŒåŒæ ·ä¹Ÿä¼šæ€ä¹ˆæ¢å¤change bufferçš„ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šæ€§","like_count":0},{"had_liked":false,"id":91739,"user_name":"æµ©","can_delete":false,"product_type":"c1","uid":1394346,"ip_address":"","ucode":"BD7FE280C83152","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKoGnC6068nQia1bOiaPxMRmkOQsaDsw5ib2drXic4gKOLzIFyZnnFm4uJ6KniboKG1nQD3J15y4d3QxLA/132","comment_is_top":false,"comment_ctime":1557103535,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1557103535","product_id":100020801,"comment_content":"åŸæ–‡:å¯¹äºæ™®é€šç´¢å¼•æ¥è¯´ï¼ŒæŸ¥æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªè®°å½• (5,500) åï¼Œéœ€è¦æŸ¥æ‰¾ä¸‹ä¸€ä¸ªè®°å½•ï¼Œç›´åˆ°ç¢°åˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³ k=5 æ¡ä»¶çš„è®°å½•ã€‚ç–‘é—®æ˜¯:æ–‡ä¸­è¯´ï¼Œç›´åˆ°ç¢°åˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³k=5æ¡ä»¶çš„è®°å½•ç†è§£ä¸äº†ã€‚è¿™ä¸ªæ™®é€šç´¢å¼•åœ¨äºŒå‰æ ‘ä¸­ä¹Ÿæ˜¯æ’å¥½åºçš„å—ï¼Ÿä¹Ÿæ˜¯é‡‡ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾å—ï¼Ÿå¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œæˆ‘å°±èƒ½ç†è§£äº†","like_count":0},{"had_liked":false,"id":88343,"user_name":"Rocky","can_delete":false,"product_type":"c1","uid":1024647,"ip_address":"","ucode":"BDCD4B7B96C581","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a2/87/b08666e8.jpg","comment_is_top":false,"comment_ctime":1555908338,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555908338","product_id":100020801,"comment_content":"redo logä¸ºä»€ä¹ˆä¸éšæœºå†™ç£ç›˜ï¼Œè€Œé¡ºåºå†™ç£ç›˜ï¼Ÿ<br>å¯èƒ½éšæœºIOè¿™å—åŸºç¡€çŸ¥è¯†æˆ‘æŒæ¡çš„ä¸æ‰å®ã€‚","like_count":0},{"had_liked":false,"id":87593,"user_name":"18321926924","can_delete":false,"product_type":"c1","uid":1370296,"ip_address":"","ucode":"EDBD9C3D2E59BB","user_header":"https://static001.geekbang.org/account/avatar/00/14/e8/b8/fb1e2953.jpg","comment_is_top":false,"comment_ctime":1555638854,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555638854","product_id":100020801,"comment_content":"æŒ‰ç€è€å¸ˆçš„æ­¥éª¤ï¼Œéš”ç¦»çº§åˆ«ä¹Ÿæ˜¯RRï¼Œæ‰§è¡Œå®Œä¸æ˜¯1234ï¼Œè€Œæ˜¯2345.ã€‚ã€‚","like_count":0},{"had_liked":false,"id":86990,"user_name":"18817594820","can_delete":false,"product_type":"c1","uid":1301995,"ip_address":"","ucode":"13D74773C3CF72","user_header":"https://wx.qlogo.cn/mmopen/vi_32/N8WHcPZU6LCicH2nxoYhmxArF2bbqAibPPaaiauxTnzK9icY9Y7sTMyicjDff5uuRXmFLD4Lmw8wWdPZYdibDKwtxbmA/132","comment_is_top":false,"comment_ctime":1555493239,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555493239","product_id":100020801,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œå°±æ˜¯change bufferé‡Œçš„å†…å®¹å·²ç»å†™å…¥åˆ°redo logé‡Œé¢äº†ï¼Œå¦‚æœå¿½ç„¶å‘ç”Ÿæ‰ç”µï¼Œå°±å¯ä»¥é€šè¿‡redo logæ¥æ¢å¤åˆ°change bufferé‡Œé¢ï¼Œå°±ä¸éœ€è¦å†æŠŠchange bufferå†™å…¥åˆ°ibdataé‡Œé˜²æ­¢æ‰ç”µäº†å§ï¼Ÿ","like_count":0},{"had_liked":false,"id":85499,"user_name":"æ™“æ°","can_delete":false,"product_type":"c1","uid":1441546,"ip_address":"","ucode":"1174C88EEBF8A6","user_header":"https://static001.geekbang.org/account/avatar/00/15/ff/0a/12faa44e.jpg","comment_is_top":false,"comment_ctime":1555079906,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1555079906","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆchange bufferæ˜¯ä¸æ˜¯åœ¨insertçš„æ—¶å€™æ‰ç”Ÿæ•ˆï¼Œupdateå’Œdeleteæ˜¯ä¸ä¼šä½¿ç”¨change bufferçš„","like_count":0},{"had_liked":false,"id":84278,"user_name":"duang_duang","can_delete":false,"product_type":"c1","uid":1392130,"ip_address":"","ucode":"77AE4ADD4BF3F3","user_header":"https://static001.geekbang.org/account/avatar/00/15/3e/02/45e25bab.jpg","comment_is_top":false,"comment_ctime":1554818245,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1554818245","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ã€‚è¯·æ•™ä¸ªé—®é¢˜:åœ¨ä½¿ç”¨&lt;&gt; æ—¶ï¼Œä¸ºä»€ä¹ˆä¸»é”®å’Œå”¯ä¸€ç´¢å¼•å­—æ®µä¸Šèµ°ç´¢å¼•ï¼Œè€Œæ™®é€šç´¢å¼•æ— æ•ˆå‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":80459,"user_name":"zc","can_delete":false,"product_type":"c1","uid":1086631,"ip_address":"","ucode":"5A5D4C90DF591C","user_header":"https://static001.geekbang.org/account/avatar/00/10/94/a7/a582f0d0.jpg","comment_is_top":false,"comment_ctime":1553663746,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1553663746","product_id":100020801,"comment_content":"é—®é¢˜1<br>å¯¹äºéå”¯ä¸€ç´¢å¼•ï¼Œåœ¨ä¸ä½¿ç”¨gapé”çš„æƒ…å†µä¸‹ï¼Œæ’å…¥ä¸ä¼šå†²çªï¼Œå› æ­¤å¯ä¸åŠ è½½é¡µã€‚","like_count":0},{"had_liked":false,"id":79105,"user_name":"Jesson","can_delete":false,"product_type":"c1","uid":1212313,"ip_address":"","ucode":"EBADA87D9E5AE6","user_header":"https://static001.geekbang.org/account/avatar/00/12/7f/99/6a92ff95.jpg","comment_is_top":false,"comment_ctime":1553352912,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1553352912","product_id":100020801,"comment_content":"â€œå¯¹äºæ™®é€šç´¢å¼•æ¥è¯´ï¼ŒæŸ¥æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªè®°å½• (5,500)åï¼Œéœ€è¦æŸ¥æ‰¾ä¸‹ä¸€ä¸ªè®°å½•ï¼Œç›´åˆ°ç¢°åˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³ k=5 æ¡ä»¶çš„è®°å½•ã€‚â€<br>è¿™å¥è¯ä¸å¤ªç†è§£ï¼Œ ä¸åº”è¯¥æ˜¯ åˆ°æœ€åä¸€ä¸ªç¬¦åˆ k = 5 çš„è®°å½•å—ï¼Ÿ<br><br>","like_count":0,"discussions":[{"author":{"id":1043738,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/ce7f7d54.jpg","nickname":"asdf100","note":"","ucode":"39D8D71453E575","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":5195,"discussion_content":"åªæœ‰é‡åˆ°ç¬¬ä¸€ä¸ªä¸ç­‰äºK!=5çš„æ—¶å€™æ‰çŸ¥é“æ˜¯ä¸æ˜¯æœ€åä¸€æ¡ç¬¦åˆK=5çš„è®°å½•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1566039972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":77969,"user_name":"è”¡å‘†å‘†","can_delete":false,"product_type":"c1","uid":1074818,"ip_address":"","ucode":"51EDDEFB274CB3","user_header":"https://static001.geekbang.org/account/avatar/00/10/66/82/c2acd57e.jpg","comment_is_top":false,"comment_ctime":1553047192,"is_pvip":false,"replies":[{"id":"28806","content":"ä¸ä¼š<br>æ²¡æœ‰ç´¢å¼•æ„å‘³ç€å°±åªæœ‰ä¸€ä¸ªä¸»é”®ç´¢å¼•ï¼Œ<br><br>ä¸»é”®ç´¢å¼•ä¸Šæ˜¯ä¸èƒ½ä½¿ç”¨change bufferçš„é¢","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1553340000,"ip_address":"","comment_id":77969,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1553047192","product_id":100020801,"comment_content":"åœ¨æ²¡æœ‰ç´¢å¼•çš„æƒ…å†µä¸‹ï¼Œcahnge bufferä¼šèµ·ä½œç”¨å—ï¼Ÿæˆ‘è§‰å¾—æ˜¯ä¼š","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":443915,"discussion_content":"ä¸ä¼š\næ²¡æœ‰ç´¢å¼•æ„å‘³ç€å°±åªæœ‰ä¸€ä¸ªä¸»é”®ç´¢å¼•ï¼Œ\n\nä¸»é”®ç´¢å¼•ä¸Šæ˜¯ä¸èƒ½ä½¿ç”¨change bufferçš„é¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1553340000,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":76872,"user_name":"shawn","can_delete":false,"product_type":"c1","uid":1010221,"ip_address":"","ucode":"8F6A8C7920996E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6a/2d/ec4ed8ce.jpg","comment_is_top":false,"comment_ctime":1552734516,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552734516","product_id":100020801,"comment_content":"è€å¸ˆï¼š<br>1.è¯» Page 1 çš„æ—¶å€™ï¼Œç›´æ¥ä»å†…å­˜è¿”å›ã€‚<br>2.è¦è¯»page2 çš„æ—¶å€™ï¼Œéœ€è¦æŠŠpage2ä»ç£ç›˜è¯»å…¥å†…å­˜ã€‚<br>è¿™ä¸ªèƒŒæ™¯æˆ‘ä¸çŸ¥é“ï¼Œä¸ºä»€ä¹ˆpage1 ç›´æ¥è¿”å›è€Œpage2 éœ€è¦ä»ç£ç›˜è¯»å…¥å†…å­˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":75273,"user_name":"å”¯å¥¹å‘½","can_delete":false,"product_type":"c1","uid":1240398,"ip_address":"","ucode":"8F687E8D306840","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/4e/ef406442.jpg","comment_is_top":false,"comment_ctime":1552372098,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1552372098","product_id":100020801,"comment_content":"è€å¸ˆï¼Œ<br><br>â€œæ›´æ–°ä¸€ä¸ªæ•°æ®é¡µæ—¶ï¼Œåœ¨ä¸å½±å“æ•°æ®ä¸€è‡´æ€§çš„å‰æä¸‹ï¼Œinnodbä¼šå°†è¿™äº›æ›´æ–°æ“ä½œç¼“å­˜åœ¨change bufferä¸­ã€‚â€<br>è¯·é—®è€å¸ˆï¼Œå…·ä½“æœ‰å“ªäº›æ“ä½œå‘¢ï¼Ÿ<br>æˆ‘æƒ³äº†ä¸€ä¸ªåœºæ™¯ï¼Œéå”¯ä¸€ç´¢å¼•çš„æ›´æ–°æ“ä½œï¼Œéœ€è¦åˆ¤æ–­è¯¥è¡Œæ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œè¿™æ ·è¿˜æ˜¯éœ€è¦å°†ç£ç›˜ä¸­çš„æ•°æ®é¡µè¯»å–åˆ°å†…å­˜ä¸­å‘¢ã€‚<br>î˜»<br>2019-03-08<br>ä½œè€…å›å¤: ä¸ç”¨åˆ¤æ–­ï¼Œè¿™ä¸€è¡Œä¸€å®šå­˜åœ¨ï¼Œï¼ˆé™¤éå‡ºbugäº†ï¼‰<br><br><br>è€å¸ˆ ï¼Œæˆ‘å¯¹ä½ çš„å›å¤å¥½åƒä¸å¤ªèµåŒ<br>id 1 k 1<br>id 2 k 2<br><br>update id = 3 where k = 3<br>è¿™ä¸€è¡Œæ˜æ˜ä¸å­˜åœ¨ï¼Œä¸ºå•¥ è¯´ä¸ç”¨åˆ¤æ–­ï¼Œè¿™ä¸€è¡Œä¸€å®šå­˜åœ¨ï¼Œï¼ˆé™¤éå‡ºbugäº†ï¼‰ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1144320,"avatar":"https://static001.geekbang.org/account/avatar/00/11/76/00/c3f8a78f.jpg","nickname":"è‡§å˜ä¸ªæ…§","note":"","ucode":"7639747FBC2F90","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":7065,"discussion_content":"æˆ‘ä¹Ÿæƒ³é—®è¿™ä¸ªé—®é¢˜ï¼Œçœ‹è¯„è®ºæ²¡æœ‰æ‰¾åˆ°ç­”æ¡ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567333944,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":75271,"user_name":"ç©ºç©ºç©ºç©º","can_delete":false,"product_type":"c1","uid":1082938,"ip_address":"","ucode":"A1A50E16E02803","user_header":"https://static001.geekbang.org/account/avatar/00/10/86/3a/76dbbd0e.jpg","comment_is_top":false,"comment_ctime":1552372011,"is_pvip":false,"replies":[{"id":"27534","content":"ä¸æ˜¯ï¼Œä¹Ÿå­˜åœ¨æ™®é€šå”¯ä¸€ç´¢å¼•<br><br>åè¿‡æ¥ï¼Œ ä¸»é”®ç´¢å¼•éƒ½æ˜¯å”¯ä¸€çš„<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1552407118,"ip_address":"","comment_id":75271,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1552372011","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå”¯ä¸€ç´¢å¼•å°±æ˜¯ä¸»é”®ç´¢å¼•å—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442843,"discussion_content":"ä¸æ˜¯ï¼Œä¹Ÿå­˜åœ¨æ™®é€šå”¯ä¸€ç´¢å¼•\n\nåè¿‡æ¥ï¼Œ ä¸»é”®ç´¢å¼•éƒ½æ˜¯å”¯ä¸€çš„\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552407118,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":75197,"user_name":"å”¯å¥¹å‘½","can_delete":false,"product_type":"c1","uid":1240398,"ip_address":"","ucode":"8F687E8D306840","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/4e/ef406442.jpg","comment_is_top":false,"comment_ctime":1552362592,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1552362592","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œ@åŒ…å­æœ¨æœ‰é¦… . å¯¹äºè¿™ä½åŒå­¦è¯´çš„  ï¼ˆå¯¹æ•°æ®çš„ä¿®æ”¹è®°å½•åœ¨changebufferé‡Œçš„æ—¶å€™ï¼Œå†…å­˜é‡Œæ˜¯æ²¡æœ‰è¿™ä¸ªç‰©ç†é¡µçš„ï¼Œä¸å­˜åœ¨è„é¡µï¼‰ï¼Œï¼Œï¼Œå¦‚æœè¿™æ—¶redo log æ»¡äº†ï¼Œéœ€è¦æ“¦é™¤redo log ï¼Œè€Œæ“¦é™¤çš„æ­£å¥½æ˜¯changebufferéƒ¨åˆ†ï¼ŒæŒ‰ç…§è¿™ä½åŒå­¦è¯´çš„ï¼Œå†…å­˜é‡Œæ˜¯æ²¡æœ‰è¿™ä¸ªç‰©ç†é¡µçš„ï¼Œä¸å­˜åœ¨è„é¡µï¼Œä¸å­˜åœ¨è„é¡µï¼Œé‚£å°±ä¸éœ€è¦åˆ·ç£ç›˜ï¼Œé‚£å²‚ä¸æ˜¯changebufferé‡Œçš„æ•°æ®ä¼šä¸¢å¤±ï¼Ÿ","like_count":0},{"had_liked":false,"id":74011,"user_name":"Shen","can_delete":false,"product_type":"c1","uid":1182167,"ip_address":"","ucode":"CFF7609A754392","user_header":"https://static001.geekbang.org/account/avatar/00/12/09/d7/ffe7b0bf.jpg","comment_is_top":false,"comment_ctime":1552060432,"is_pvip":false,"replies":[{"id":"27033","content":"æ˜¯çš„ï¼Œchange bufferæ›´æ–°åˆ°å†…å­˜é¡µå°±å®Œæˆä½¿å‘½äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1552091114,"ip_address":"","comment_id":74011,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1552060432","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘çœ‹ã€ŠåŒ…å­æœ¨æœ‰é¦…ã€‹çš„è¯„è®ºæœ€åä¸€å¥â€œçœŸæ­£å¯¹ç£ç›˜æ•°æ®é¡µçš„ä¿®æ”¹æ˜¯é€šè¿‡å°†å†…å­˜é‡Œè„é¡µçš„æ•°æ®åˆ·å›ç£ç›˜æ¥å®Œæˆçš„ï¼Œè€Œä¸æ˜¯æ ¹æ®redologâ€<br>å¦‚æœåœ¨æ›´æ–°æ—¶ï¼Œæ•°æ®é¡µé¢åœ¨å†…å­˜ä¸­ï¼Œåˆ™ä¼šç›´æ¥æ›´æ–°å†…å­˜ï¼Œç„¶ååœ¨åˆ·åˆ°ç£ç›˜ä¸­ï¼Œè¿™ç§åœºæ™¯å¯¹åº”ä¸Šé¢çš„ç»“è®ºæ˜¯æ²¡é”™çš„ã€‚<br>ä½†å¦‚æœéœ€è¦æ›´æ–°çš„æ•°æ®é¡µä¸åœ¨å†…å­˜ä¸­ï¼Œå…ˆå†™change bufferï¼Œç„¶åç”±åå°çº¿ç¨‹å®šæœŸmergeï¼Œä¹Ÿæ˜¯å°†ç£ç›˜ä¸Šçš„æ•°æ®é¡µå…ˆè¯»åˆ°å†…å­˜ä¸­ï¼Œåœ¨å†…å­˜ä¿®æ”¹åï¼Œå†åŒæ­¥åˆ°ç£ç›˜ä¸Šçš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442384,"discussion_content":"æ˜¯çš„ï¼Œchange bufferæ›´æ–°åˆ°å†…å­˜é¡µå°±å®Œæˆä½¿å‘½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552091114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1593957,"avatar":"https://static001.geekbang.org/account/avatar/00/18/52/65/320eccb3.jpg","nickname":"ç‹æ–¯æ‹‰","note":"","ucode":"D00DD3CE432189","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1665,"discussion_content":"å¦‚æœåœ¨æ›´æ–°æ—¶ï¼Œæ•°æ®é¡µé¢åœ¨å†…å­˜ä¸­ï¼Œåˆ™ä¼šç›´æ¥æ›´æ–°å†…å­˜ï¼Œç„¶ååœ¨åˆ·åˆ°ç£ç›˜ä¸­ï¼Œè¿™ç§åœºæ™¯å¯¹åº”ä¸Šé¢çš„ç»“è®ºæ˜¯æ²¡é”™çš„ã€‚\n\nè¿™ä¸ªæˆ‘è§‰å¾—ä¸å¤ªå‡†ç¡®ï¼Œåº”è¯¥æ˜¯æ›´æ–°å†…å­˜ï¼Œç„¶åå†™redologï¼Œç„¶åæäº¤äº‹åŠ¡ã€‚åˆ·åˆ°ç£ç›˜åº”è¯¥ä¼šæ˜¯å¼‚æ­¥çš„å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562804444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":73735,"user_name":"æµ©æ¶›","can_delete":false,"product_type":"c1","uid":1390697,"ip_address":"","ucode":"DCF935D3F9FC6D","user_header":"https://static001.geekbang.org/account/avatar/00/15/38/69/7b11b341.jpg","comment_is_top":false,"comment_ctime":1551965810,"is_pvip":false,"replies":[{"id":"27150","content":"åº”è¯¥è¿˜æ˜¯ä¸šåŠ¡éœ€æ±‚æ¯”è¾ƒå¤š","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1552147196,"ip_address":"","comment_id":73735,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551965810","product_id":100020801,"comment_content":"è€å¸ˆå¥½,æ‚¨åœ¨æ–‡ç« ä¸­æŒ‡è¯´åˆ°æ™®é€šç´¢å¼•å¯¹å”¯ä¸€ç´¢å¼•çš„ä¼˜åŠ¿,é‚£å”¯ä¸€ç´¢å¼•é™¤äº†ä¸šåŠ¡è¦æ±‚å¤–è¿˜æœ‰åˆ«çš„é€‚ç”¨åœºæ™¯å—?æœ‰æ²¡æœ‰ä»€ä¹ˆæƒ…å†µæ˜¯å”¯ä¸€ç´¢å¼•ä¼šæ¯”æ™®é€šç´¢å¼•æ›´é€‚åˆçš„?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":442252,"discussion_content":"åº”è¯¥è¿˜æ˜¯ä¸šåŠ¡éœ€æ±‚æ¯”è¾ƒå¤š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1552147196,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":72290,"user_name":"èœé¸¡ä¸€åª","can_delete":false,"product_type":"c1","uid":1336004,"ip_address":"","ucode":"5FBA9A68E0E9B9","user_header":"https://static001.geekbang.org/account/avatar/00/14/62/c4/98a9e594.jpg","comment_is_top":false,"comment_ctime":1551578667,"is_pvip":false,"replies":[{"id":"26217","content":"1. ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç”¨ä¸€ä¸ªç´¢å¼•ã€‚å½“ç„¶MySQLä¹Ÿæœ‰merge index ç®—æ³•ï¼Œä¸è¿‡å‡ºç°å¾—æ¯”è¾ƒå°‘ï¼Œè€Œä¸”æ€§èƒ½ä¸€èˆ¬ä¹Ÿä¸å¤ªå¥½ã€‚<br><br>2. çœ‹ä¸€ä¸‹ä¸“æ åé¢å…³äºjoinçš„æ–‡ç« å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551608108,"ip_address":"","comment_id":72290,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551578667","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œä¸€æ¡æŸ¥è¯¢è¯­å¥åªèƒ½ä½¿ç”¨ä¸€ä¸ªç´¢å¼•å—ï¼Œæ¯”å¦‚whereé‡Œé¢æœ‰ä¸¤ä¸ªç´¢å¼•å­—æ®µï¼Œæ˜¯ä¸æ˜¯åªä¼šèµ°ä¸€ä¸ªç´¢å¼•ç„¶åå†å…¨éƒ¨æŸ¥è¯¢ï¼Ÿè¿˜æœ‰å°±æ˜¯å¤–é“¾æ¥å…¶ä»–è¡¨ï¼Œæ˜¯ä¸æ˜¯åªä¼šèµ°ä¸»è¡¨çš„ç´¢å¼•ï¼Œä»è¡¨çš„ç´¢å¼•ä¸èµ°ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441524,"discussion_content":"1. ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç”¨ä¸€ä¸ªç´¢å¼•ã€‚å½“ç„¶MySQLä¹Ÿæœ‰merge index ç®—æ³•ï¼Œä¸è¿‡å‡ºç°å¾—æ¯”è¾ƒå°‘ï¼Œè€Œä¸”æ€§èƒ½ä¸€èˆ¬ä¹Ÿä¸å¤ªå¥½ã€‚\n\n2. çœ‹ä¸€ä¸‹ä¸“æ åé¢å…³äºjoinçš„æ–‡ç« å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551608108,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":71806,"user_name":"å”¯å¥¹å‘½","can_delete":false,"product_type":"c1","uid":1240398,"ip_address":"","ucode":"8F687E8D306840","user_header":"https://static001.geekbang.org/account/avatar/00/12/ed/4e/ef406442.jpg","comment_is_top":false,"comment_ctime":1551439081,"is_pvip":false,"replies":[{"id":"26022","content":"åŒä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨ä½ç½®10å†™4ä¸ªå­—èŠ‚ï¼Œä¸‹ä¸€æ¬¡ä»ç¬¬14ä¸ªå­—èŠ‚å¼€å§‹å†™ï¼Œå°±æ˜¯é¡ºåºå†™","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1551456758,"ip_address":"","comment_id":71806,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1551439081","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä»éšæœºå†™  è½¬ä¸º  é¡ºåºå†™ï¼Œèƒ½è¯¦ç»†è§£é‡Šä¸‹è¿™é‡Œçš„&quot;é¡ºåº&quot;å—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":441337,"discussion_content":"åŒä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨ä½ç½®10å†™4ä¸ªå­—èŠ‚ï¼Œä¸‹ä¸€æ¬¡ä»ç¬¬14ä¸ªå­—èŠ‚å¼€å§‹å†™ï¼Œå°±æ˜¯é¡ºåºå†™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1551456758,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69784,"user_name":"null","can_delete":false,"product_type":"c1","uid":1024294,"ip_address":"","ucode":"F9039EFED6B55D","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELZPnUAiajaR5C25EDLWeJURggyiaOP5GGPe2qlwpQcm5e3ybib8OsP4tvddFDLVRSNNGL5I3SFPJHsA/132","comment_is_top":false,"comment_ctime":1550841382,"is_pvip":false,"replies":[{"id":"24845","content":"1.æ˜¯çš„<br>2ã€3 ä¼šåˆ é™¤<br>4. ç†è§£æ­£ç¡®ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550849981,"ip_address":"","comment_id":69784,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550841382","product_id":100020801,"comment_content":"è¯¾åä¹ é¢˜æ€è€ƒï¼š<br>ä¼šå‡ºç° change buffer ä¸¢å¤±çš„æƒ…å†µï¼Œä½†æ˜¯æ•°æ®åº”è¯¥æ²¡æœ‰ä¸¢å¤±ã€‚<br>1. change buffer å†™å…¥å†…å­˜ï¼Œä½†æ˜¯ redo log æœªå†™å…¥ï¼Œè¿™æ—¶äº‹åŠ¡æœªæäº¤ï¼Œé‡å¯åæ•°æ®ä¸æ›´æ–°å‰ä¸€è‡´ï¼Œæœªä¸¢å¤±ã€‚<br>2. change buffer å†™å…¥å†…å­˜æˆåŠŸï¼Œredo log å†™å…¥æˆåŠŸï¼Œäº‹åŠ¡æäº¤æˆåŠŸã€‚é‡å¯åä» redo log æ¢å¤æ•°æ®ï¼Œæœªä¸¢å¤±ã€‚<br><br>ä¸çŸ¥é“æ˜¯å¦è¿˜å­˜åœ¨å…¶ä»–æœªè€ƒè™‘åˆ°çš„åœºæ™¯ï¼Œçƒ¦è¯·è€å¸ˆæŒ‡ç‚¹è¿·æ´¥ï¼<br><br>---<br><br>è€å¸ˆï¼Œæ‚¨å¥½ï¼<br><br>å›¾ 2 ä¸­ï¼Œæ­¥éª¤ 2 çš„è™šç®­å¤´æ˜¯æŒ‡å‘ç³»ç»Ÿè¡¨ç©ºé—´ï¼Œè¡¨ç¤ºå°† change buffer çš„å†…å®¹æŒä¹…åŒ–åˆ°ç³»ç»Ÿè¡¨ç©ºé—´ä¹ˆï¼Ÿmerge æ“ä½œåï¼Œä¼šåˆ é™¤ç³»ç»Ÿè¡¨ç©ºé—´é‡Œçš„ change buffer å†…å®¹ä¹ˆï¼Ÿå¦‚æœä¸åˆ é™¤ï¼Œç³»ç»Ÿè¡¨ç©ºé—´å²‚ä¸æ˜¯è¶Šæ¥è¶Šå¤§ï¼Ÿ<br>æ­¥éª¤ 1 çš„è™šçº¿ç®­å¤´åº”è¯¥å°±æ˜¯åˆ·è„é¡µå§ï¼Œå“‡å“ˆå“ˆå“ˆğŸ˜ğŸ˜<br><br>è°¢è°¢è€å¸ˆ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":440280,"discussion_content":"1.æ˜¯çš„\n2ã€3 ä¼šåˆ é™¤\n4. ç†è§£æ­£ç¡®ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550849981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":69014,"user_name":"kuzicala","can_delete":false,"product_type":"c1","uid":1200531,"ip_address":"","ucode":"AD1C21328E9928","user_header":"https://static001.geekbang.org/account/avatar/00/12/51/93/ed274018.jpg","comment_is_top":false,"comment_ctime":1550645778,"is_pvip":false,"replies":[{"id":"24992","content":"è¿™ç¯‡çš„è¯¾åæ€è€ƒé¢˜æ²¡æœ‰ç»™æ“ä½œåºåˆ—å‘€ï¼Œä½ åšäº†ä»€ä¹ˆæ“ä½œã€‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550997902,"ip_address":"","comment_id":69014,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550645778","product_id":100020801,"comment_content":"è¯·æ•™ä¸‹ï¼Œæˆ‘åœ¨æ¨¡æ‹Ÿè¯¾åç»ƒä¹ æ—¶å€™ï¼Œå¼€äº†ä¸¤ä¸ªmysqlç»ˆç«¯ï¼ŒæŒ‰ç…§é¡ºåºï¼ŒsessionBå…ˆå¼€å¯äº‹ç‰© ç„¶åAå¼€å¯ï¼Œåœ¨Bæ›´æ–° updateçš„æ—¶å€™ä¼šå¡æ­»ï¼Œæœ€åæç¤º Lock wait timeout exceeded; try restarting transaction ä»€ä¹ˆåŸå› ï¼Ÿ<br>åœ¨Bäº‹ç‰©ä¸­æ›´æ–°ä¸ºä»€ä¹ˆä¼šç­‰å¾…å‘¢ï¼Ÿ<br>                                                <br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439914,"discussion_content":"è¿™ç¯‡çš„è¯¾åæ€è€ƒé¢˜æ²¡æœ‰ç»™æ“ä½œåºåˆ—å‘€ï¼Œä½ åšäº†ä»€ä¹ˆæ“ä½œã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550997902,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":68061,"user_name":"ä¸æƒ‘ing","can_delete":false,"product_type":"c1","uid":1207079,"ip_address":"","ucode":"AF04E417D38027","user_header":"https://static001.geekbang.org/account/avatar/00/12/6b/27/8c964e52.jpg","comment_is_top":false,"comment_ctime":1550400169,"is_pvip":false,"replies":[{"id":"24112","content":"1. å¯¹çš„<br>2. å¯¹çš„<br>3. ä¸æ˜¯å“ˆï¼ŒWALæ˜¯æ‰€æœ‰æ›´æ–°ï¼ˆåŒ…å«ä¸»é”®ç´¢å¼•çš„æ›´æ–°ï¼‰éƒ½æœ‰æ•ˆçš„ã€‚change bufferå…¶å®æ˜¯å¦å¤–ä¸€ä¸ªä¼˜åŒ–ã€‚è¿™ä¸¤ä¸ªæœºåˆ¶çš„è¿æ¥ç‚¹æ˜¯ï¼Œ change bufferæœ¬èº«ä¹Ÿæ˜¯æ•°æ®ï¼Œæœ¬èº«ä¹Ÿé€šè¿‡WALæœºåˆ¶æ¥åŠ é€Ÿå†™å…¥å’Œç¡®ä¿change bufferè‡ªå·±çš„æ•°æ®ä¸ä¸¢","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1550402148,"ip_address":"","comment_id":68061,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1550400169","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œçœ‹å®Œæ–‡ç« å’Œç•™è¨€è¿˜æœ‰å‡ ç‚¹æ¯”è¾ƒæ¨¡ç³Šï¼Œå¸Œæœ›å¸®å¿™ç¡®è®¤ä¸€ä¸‹æˆ‘çš„ç†è§£æœ‰å•¥é—®é¢˜<br><br>1.ä¸è€ƒè™‘tran commitçš„æƒ…å†µä¸‹ï¼Œæ•°æ®çš„æ›´æ–°æµç¨‹æ˜¯2ä¸ªï¼š<br>    a.ã€å†…å­˜ã€‘-&gt;ã€redo logã€‘<br>    b.ã€å†…å­˜ã€‘-&gt;ã€æ•°æ®è¡¨ç©ºé—´ã€‘<br>   aã€bä¸¤ä¸ªæµç¨‹æ˜¯å¹¶è¡Œçš„ï¼Œåªæ˜¯æœ‰æ—¶é—´å·®<br>æ•°æ®æ¢å¤çš„æµç¨‹æ˜¯:<br>    c.ã€redo logã€‘-&gt;ã€å†…å­˜ã€‘ <br>    d.ã€å†…å­˜ã€‘-&gt;ã€æ•°æ®è¡¨ç©ºé—´ã€‘<br>cã€dä¸¤ä¸ªæµç¨‹å¹¶è¡Œ<br><br>2.å¦‚æœè¡¨Aï¼ˆid,nameï¼‰,idæ˜¯ä¸»é”®ï¼Œnameæ˜¯æ™®é€šç´¢å¼•ï¼Œinsertæ“ä½œä¼šåˆ†æˆä¸¤ä¸ªæµç¨‹ï¼š<br>    a.æ’å…¥idåˆ—ï¼Œæ›´æ–°ä¸»é”®ç´¢å¼•ï¼Œä¸ä½¿ç”¨change buffer<br>    b.æ’å…¥nameåˆ—,æ›´æ–°æ™®é€šç´¢å¼•ï¼Œä½¿ç”¨change buffer<br>    ï¼ˆçœ‹@Scott ç•™è¨€åçš„ç†è§£ï¼‰<br><br>3.change buffer æ˜¯MySQL  WALæœºåˆ¶çš„ä¸€ç§å…·ä½“å®ç°æ–¹å¼ï¼Œæ‰€ä»¥æ›´æ–°æ•°æ®æ—¶å‡å°‘äº†ä¸€æ¬¡è¯»æ“ä½œ<br>   ï¼ˆçœ‹ @ziven çš„ç•™è¨€åçš„ç†è§£ï¼‰<br><br>å¸Œæœ›è€å¸ˆèƒ½çœ‹åˆ°~~","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":439494,"discussion_content":"1. å¯¹çš„\n2. å¯¹çš„\n3. ä¸æ˜¯å“ˆï¼ŒWALæ˜¯æ‰€æœ‰æ›´æ–°ï¼ˆåŒ…å«ä¸»é”®ç´¢å¼•çš„æ›´æ–°ï¼‰éƒ½æœ‰æ•ˆçš„ã€‚change bufferå…¶å®æ˜¯å¦å¤–ä¸€ä¸ªä¼˜åŒ–ã€‚è¿™ä¸¤ä¸ªæœºåˆ¶çš„è¿æ¥ç‚¹æ˜¯ï¼Œ change bufferæœ¬èº«ä¹Ÿæ˜¯æ•°æ®ï¼Œæœ¬èº«ä¹Ÿé€šè¿‡WALæœºåˆ¶æ¥åŠ é€Ÿå†™å…¥å’Œç¡®ä¿change bufferè‡ªå·±çš„æ•°æ®ä¸ä¸¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1550402148,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":65260,"user_name":"Jason_é¹","can_delete":false,"product_type":"c1","uid":1179329,"ip_address":"","ucode":"4A3DCAAC531724","user_header":"https://static001.geekbang.org/account/avatar/00/11/fe/c1/6c99fff4.jpg","comment_is_top":false,"comment_ctime":1549167145,"is_pvip":false,"replies":[{"id":"23163","content":"å¦‚æœèƒ½ç”¨ä¸Šchange buffer, é‚£ä¹ˆå°±ä¸æ›´æ–°è¿™ä¸ªæ•°æ®é¡µï¼Œä¸éœ€è¦è®°è¿™ä¸ªé¡µçš„undo äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1549202841,"ip_address":"","comment_id":65260,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1549167145","product_id":100020801,"comment_content":"æœ‰ä¸€ä¸ªé—®é¢˜ä¸æ˜ç™½ï¼Œç”±äºmvccæœºåˆ¶ï¼Œæ›´æ–°æ•°æ®éœ€è¦è®°å½•undo logï¼Œæ­¤æ—¶åº”è¯¥æŠŠè¦æ›´æ–°çš„æ•°æ®é¡µè¯»å…¥bufferé‡Œï¼Œå¦‚æœè®°äº†change log ä¸è¯»å†…å­˜ï¼Œä¹‹å‰è¿˜æœªæäº¤çš„äº‹åŠ¡å¦‚ä½•èƒ½æ‹¿åˆ°éœ€è¦çš„æ•°æ®å‘¢","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438378,"discussion_content":"å¦‚æœèƒ½ç”¨ä¸Šchange buffer, é‚£ä¹ˆå°±ä¸æ›´æ–°è¿™ä¸ªæ•°æ®é¡µï¼Œä¸éœ€è¦è®°è¿™ä¸ªé¡µçš„undo äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1549202841,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64573,"user_name":"Crayon","can_delete":false,"product_type":"c1","uid":1391055,"ip_address":"","ucode":"C15C899DF34B85","user_header":"","comment_is_top":false,"comment_ctime":1548827048,"is_pvip":false,"replies":[{"id":"22871","content":"ä¸æ˜¯ä¸¤ä¸ªç´¢å¼•éƒ½ç”¨ä¸Šäº†ï¼Œæ˜¯åªç”¨äº†ä¸€ä¸ª<br><br>å¦‚æœå»ºäº†å”¯ä¸€ç´¢å¼•ï¼Œå°±ä¸ç”¨å†åŒæ ·çš„å»ºä¸€ä¸ªæ™®é€šç´¢å¼•äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548828797,"ip_address":"","comment_id":64573,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548827048","product_id":100020801,"comment_content":"æ‚¨å¥½ï¼Œæˆ‘æƒ³é—®ä¸€ä¸ªé—®é¢˜ï¼Œé’ˆå¯¹åŒä¸€ä¸ªå­—æ®µï¼Œå»ºäº†å”¯ä¸€ç´¢å¼•ï¼Œè¿˜éœ€è¦å»ºæ™®é€šç´¢å¼•å—ï¼Ÿ<br><br>å°è¯•å¯¹åŒä¸€ä¸ªå­—æ®µå»ºäº†å”¯ä¸€ç´¢å¼•å’Œæ™®é€šç´¢å¼•ï¼Œè·‘SQLæ—¶å‘ç°ä¸¤ä¸ªç´¢å¼•éƒ½ç”¨ä¸Šäº†","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":438081,"discussion_content":"ä¸æ˜¯ä¸¤ä¸ªç´¢å¼•éƒ½ç”¨ä¸Šäº†ï¼Œæ˜¯åªç”¨äº†ä¸€ä¸ª\n\nå¦‚æœå»ºäº†å”¯ä¸€ç´¢å¼•ï¼Œå°±ä¸ç”¨å†åŒæ ·çš„å»ºä¸€ä¸ªæ™®é€šç´¢å¼•äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548828797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":64337,"user_name":"Rainman","can_delete":false,"product_type":"c1","uid":1025931,"ip_address":"","ucode":"6FD00E587EA4CF","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a7/8b/208d9e2c.jpg","comment_is_top":false,"comment_ctime":1548749128,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1548749128","product_id":100020801,"comment_content":"å†™çš„å¾ˆå¥½ï¼Œè°¢è°¢ä½œè€…ã€‚ change buffer å’Œ redo logè¿™éƒ¨åˆ†çœ‹äº†å—ç›ŠåŒªæµ…","like_count":0},{"had_liked":false,"id":63943,"user_name":"åˆ˜åä¸€","can_delete":false,"product_type":"c1","uid":1035899,"ip_address":"","ucode":"5927D77D248E30","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ce/7b/fa0f9368.jpg","comment_is_top":false,"comment_ctime":1548605466,"is_pvip":false,"replies":[{"id":"22606","content":"ä¼šåˆ†åˆ«è¯´ï¼Œ<br>ä¸»è¦æ˜¯ç”»åˆ°ä¸€ä¸ªå›¾é‡Œï¼Œå›¾å¤ªå¤§ï¼Œåˆå¾ˆéš¾å±•å¼€ã€‚<br>ä½ çœ‹æˆ‘ä»¬æ¯ä¸€ç¯‡ï¼Œæœ‰æ—¶å€™è®²ä¸€ä¸ªç»“æ„å°±è¦å¥½å‡ ä¸ªå›¾åˆ†ä¸åŒåœºæ™¯ç”»ã€‚ã€‚ç”»åˆ°ä¸€å¼ ææ€•ç”»ä¸æ¸…æ¥šğŸ˜…","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1548608534,"ip_address":"","comment_id":63943,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1548605466","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘çœ‹çš„æ¯”è¾ƒæ…¢ï¼Œæˆ‘ç°åœ¨å¯¹mysqlä¸­çš„å„ç§å†…å­˜ï¼Œæ•°æ®é¡µï¼Œç‰©ç†é¡µï¼Œå„ç§bufferï¼Œibdata1ç­‰ç­‰ä¹‹ç±»çš„æœ‰ç‚¹æ™•ï¼Œè™½ç„¶ç›®å‰æ–‡ç« ä¼šæåˆ°ä¸€äº›ï¼Œä½†æ˜¯æœ‰äº›æ•£ï¼Œå¯ä»¥ç”»å¼ å›¾å—ï¼Ÿä¸çŸ¥é“åé¢çš„æ–‡ç« æœ‰æ²¡æœ‰è¡¥å……è¿™ä¸ª","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":437774,"discussion_content":"ä¼šåˆ†åˆ«è¯´ï¼Œ\nä¸»è¦æ˜¯ç”»åˆ°ä¸€ä¸ªå›¾é‡Œï¼Œå›¾å¤ªå¤§ï¼Œåˆå¾ˆéš¾å±•å¼€ã€‚\nä½ çœ‹æˆ‘ä»¬æ¯ä¸€ç¯‡ï¼Œæœ‰æ—¶å€™è®²ä¸€ä¸ªç»“æ„å°±è¦å¥½å‡ ä¸ªå›¾åˆ†ä¸åŒåœºæ™¯ç”»ã€‚ã€‚ç”»åˆ°ä¸€å¼ ææ€•ç”»ä¸æ¸…æ¥šğŸ˜…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1548608534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":60161,"user_name":"huolang","can_delete":false,"product_type":"c1","uid":1346708,"ip_address":"","ucode":"FDC4A6B6151C5E","user_header":"https://static001.geekbang.org/account/avatar/00/14/8c/94/5282994c.jpg","comment_is_top":false,"comment_ctime":1547445938,"is_pvip":false,"replies":[{"id":"21542","content":"â€å³ä¾¿æ¡ä»¶æŸ¥è¯¢è¯­å¥åŠ ä¸Šfor updateï¼Œç”±äºè®°å½•æœ¬æ¥å°±ä¸å­˜åœ¨çš„ï¼Œæ‰€ä»¥ä¸èƒ½è¿›è¡Œä¸Šé” â€œ è¿™ä¸ªç»“è®ºä¸å¯¹å“¦ï¼Œçœ‹ä¸‹21ç¯‡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547456095,"ip_address":"","comment_id":60161,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547445938","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘å†è¯·æ•™ä¸ªé—®é¢˜ï¼š<br>æƒ³å®ç°æŸä¸ªå­—æ®µçš„å€¼åœ¨è¡¨ä¸­æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯ä¸è®¾ç½®å”¯ä¸€ç´¢å¼•ï¼Œæˆ‘åŸæ¥æƒ³åˆ°çš„ä¸€ä¸ªåŠæ³•æ˜¯ï¼šæ’å…¥æ•°æ®å‰ï¼Œå¼€å¯äº‹åŠ¡ï¼Œä½¿ç”¨whereæ¡ä»¶æŸ¥è¯¢è¡¨ä¸­è¯¥å­—æ®µçš„å€¼æ˜¯å¦å·²ç»å­˜åœ¨äº†ï¼Œå¦‚æœæ²¡æœ‰å­˜åœ¨å°±è¿›è¡Œæ’å…¥æäº¤ï¼Œå¦‚æœå­˜åœ¨å°±ä¸è¿›è¡Œæ’å…¥ã€‚åæ¥ä»”ç»†æƒ³äº†ä¸€ä¸‹ï¼Œè¿™æ ·çš„åŠæ³•å¥½åƒæ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºå¦‚æœåŒæ—¶æœ‰å¤šä¸ªçº¿ç¨‹æˆ–è¿›ç¨‹éƒ½æ’å…¥ä¸€æ¡è¯¥å­—æ®µçš„å€¼ç›¸åŒçš„è®°å½•ï¼Œè¿™å¤šä¸ªçº¿ç¨‹åŒæ—¶å¼€å¯äº‹åŠ¡å’Œè¿›è¡Œæ¡ä»¶æŸ¥è¯¢ï¼Œéƒ½ä¼šæŸ¥åˆ°è¡¨ä¸­ä¸å­˜åœ¨æ‹¥æœ‰è¯¥å­—æ®µä¸ºæŸå€¼çš„è®°å½•ï¼Œç„¶åå°±éƒ½è¿›è¡Œæ’å…¥æ“ä½œäº†ï¼Œå³ä¾¿æ¡ä»¶æŸ¥è¯¢è¯­å¥åŠ ä¸Šfor updateï¼Œç”±äºè®°å½•æœ¬æ¥å°±ä¸å­˜åœ¨çš„ï¼Œæ‰€ä»¥ä¸èƒ½è¿›è¡Œä¸Šé”ï¼ŒåŒæ—¶åˆæ²¡æœ‰å”¯ä¸€ç´¢å¼•ï¼Œæ‰€ä»¥æœ€åå°±ä¼šå‡ºç°æ’å…¥äº†å¤šæ¡è¯¥å­—æ®µçš„å€¼ç›¸åŒçš„è®°å½•ã€‚<br>æƒ³è¯·æ•™è€å¸ˆï¼Œæˆ‘çš„åˆ†ææ­£ç¡®å—ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436450,"discussion_content":"â€å³ä¾¿æ¡ä»¶æŸ¥è¯¢è¯­å¥åŠ ä¸Šfor updateï¼Œç”±äºè®°å½•æœ¬æ¥å°±ä¸å­˜åœ¨çš„ï¼Œæ‰€ä»¥ä¸èƒ½è¿›è¡Œä¸Šé” â€œ è¿™ä¸ªç»“è®ºä¸å¯¹å“¦ï¼Œçœ‹ä¸‹21ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547456095,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":59953,"user_name":"Pixar","can_delete":false,"product_type":"c1","uid":1197659,"ip_address":"","ucode":"E653387BA8EA16","user_header":"https://static001.geekbang.org/account/avatar/00/12/46/5b/07858c33.jpg","comment_is_top":false,"comment_ctime":1547433423,"is_pvip":false,"replies":[{"id":"21510","content":"è¿˜æœ‰åå°çº¿ç¨‹ä¼šåšçš„^_^ ç¢°åˆ°è¿™ç§æƒ…å†µåº”è¯¥å°±æ˜¯change bufferæ•ˆæœæœ€å¥½çš„æƒ…å†µå•¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547446779,"ip_address":"","comment_id":59953,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547433423","product_id":100020801,"comment_content":"æƒ³é—®ä¸‹è€å¸ˆï¼Œå†™å…¥change buffer çš„æŸä¸ªæ“ä½œåï¼Œæ¶‰åŠçš„é¡µåç»­ç”±äºä¸€ç›´æ²¡æœ‰ç›¸å…³æŸ¥è¯¢è€Œä¸€ç›´æ²¡æœ‰è¯»è‡³å†…å­˜ï¼Œé‚£ä¹ˆä½äºchange buffer çš„è¯¥æ“ä½œæ˜¯æ€ä¹ˆå†™å…¥ç£ç›˜é¡µå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436424,"discussion_content":"è¿˜æœ‰åå°çº¿ç¨‹ä¼šåšçš„^_^ ç¢°åˆ°è¿™ç§æƒ…å†µåº”è¯¥å°±æ˜¯change bufferæ•ˆæœæœ€å¥½çš„æƒ…å†µå•¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547446779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":59553,"user_name":"huolang","can_delete":false,"product_type":"c1","uid":1346708,"ip_address":"","ucode":"FDC4A6B6151C5E","user_header":"https://static001.geekbang.org/account/avatar/00/14/8c/94/5282994c.jpg","comment_is_top":false,"comment_ctime":1547385005,"is_pvip":false,"replies":[{"id":"21419","content":"æ˜¯çš„ï¼Œå°±æ˜¯ä¸šåŠ¡ç³»ç»Ÿé¢å¤–åšäº†å»é‡çš„é€»è¾‘ï¼Œä¸ä¾èµ–äºå”¯ä¸€ç´¢å¼•çš„çº¦æŸ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1547396993,"ip_address":"","comment_id":59553,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1547385005","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ è¯´çš„â€œå¦‚æœä¸šåŠ¡ä»£ç å·²ç»ä¿è¯äº†ä¸ä¼šå†™å…¥é‡å¤çš„èº«ä»½è¯å·â€çš„è¿™å¥è¯çš„æ„æ€æ˜¯ï¼Œä¸šåŠ¡ä»£ç å¯ä»¥ä¸ä¾èµ–æ•°æ®åº“å·²ç»ä¿å­˜çš„è®°å½•æ¥ä¿è¯æ’å…¥çš„ä¸æ˜¯é‡å¤çš„èº«ä»½è¯å·å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":436354,"discussion_content":"æ˜¯çš„ï¼Œå°±æ˜¯ä¸šåŠ¡ç³»ç»Ÿé¢å¤–åšäº†å»é‡çš„é€»è¾‘ï¼Œä¸ä¾èµ–äºå”¯ä¸€ç´¢å¼•çš„çº¦æŸ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1547396993,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56822,"user_name":"åˆ˜é¹","can_delete":false,"product_type":"c1","uid":1230417,"ip_address":"","ucode":"44F3D4DB3F5678","user_header":"https://static001.geekbang.org/account/avatar/00/12/c6/51/e39b5828.jpg","comment_is_top":false,"comment_ctime":1546564518,"is_pvip":false,"replies":[{"id":"20483","content":"è¿™æ¡è®°å½•å¦‚æœæ²¡æœ‰ç¢°ä¸Šå´©æºƒæ¢å¤å•¥çš„ï¼Œå°±çœ‹chepointæ¨è¿›åˆ°å®ƒçš„æ—¶å€™ï¼Œæœ‰æ²¡æœ‰å†™äº†ç›˜ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±æŠŠchange buffer å†…å®¹å†™ç›˜ï¼ˆå…¶å®è·Ÿæ•°æ®æ˜¯ä¸€æ ·çš„ç­–ç•¥ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546566141,"ip_address":"","comment_id":56822,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546564518","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ™®é€šç´¢å¼•çš„æ›´æ–°è®°å½•ä¼šæ”¾åˆ°change bufferä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿä¼šå­˜åˆ°redo log ï¼Œredo logä¼šæ€ä¹ˆå¤„ç†è¿™æ¡è®°å½•ï¼Ÿåœ¨å¾€ç£ç›˜æ›´æ–°çš„æ—¶å€™å¿½ç•¥æ‰å—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435256,"discussion_content":"è¿™æ¡è®°å½•å¦‚æœæ²¡æœ‰ç¢°ä¸Šå´©æºƒæ¢å¤å•¥çš„ï¼Œå°±çœ‹chepointæ¨è¿›åˆ°å®ƒçš„æ—¶å€™ï¼Œæœ‰æ²¡æœ‰å†™äº†ç›˜ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±æŠŠchange buffer å†…å®¹å†™ç›˜ï¼ˆå…¶å®è·Ÿæ•°æ®æ˜¯ä¸€æ ·çš„ç­–ç•¥ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546566141,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56529,"user_name":"Wesley","can_delete":false,"product_type":"c1","uid":1359325,"ip_address":"","ucode":"187A0185A2D3FD","user_header":"https://static001.geekbang.org/account/avatar/00/14/bd/dd/4620ba79.jpg","comment_is_top":false,"comment_ctime":1546483074,"is_pvip":false,"replies":[{"id":"20383","content":"é¢è¿™ä¸ªæˆ‘æƒ³æƒ³å“ˆï¼Œä¸è¿‡å¯ä»¥å…·ä½“æ“ä½œçš„åŸåˆ™ä¸å¤ªå¤šğŸ˜“ <br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546485930,"ip_address":"","comment_id":56529,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546483074","product_id":100020801,"comment_content":"æ–‡ç« ä¸­æåˆ°è¯»å¤šå†™å°‘æ—¶å¯ä»¥å…³æ‰change buffer è¿™å…¶å®æ˜¯åœ¨é¿å…mysqlçš„éšæœºè¯»ï¼Œé‚£ä¹ˆmysqlæœ‰å“ªäº›æ“ä½œä¼šæ¶‰åŠéšæœºè¯»å†™å‘¢ï¼Ÿå“ªäº›æ“ä½œæ˜¯é¡ºåºè¯»å†™å‘¢ï¼Ÿå»ºè®®è€å¸ˆå¯ä»¥æŠŠå¦‚ä½•é¿å…ä½æ€§èƒ½éšæœºè¯»å†™è®²è®²ğŸ˜„","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435096,"discussion_content":"é¢è¿™ä¸ªæˆ‘æƒ³æƒ³å“ˆï¼Œä¸è¿‡å¯ä»¥å…·ä½“æ“ä½œçš„åŸåˆ™ä¸å¤ªå¤šğŸ˜“ \n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546485930,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56517,"user_name":"Wesley","can_delete":false,"product_type":"c1","uid":1359325,"ip_address":"","ucode":"187A0185A2D3FD","user_header":"https://static001.geekbang.org/account/avatar/00/14/bd/dd/4620ba79.jpg","comment_is_top":false,"comment_ctime":1546480727,"is_pvip":false,"replies":[{"id":"20376","content":"éšæœºå†™çš„æ„æ€æ˜¯â€œä¸Šä¸€ä¸ªå†™å®Œæ•°æ®çš„ç»“æŸä½ç½®ï¼Œæ˜¯ä¸‹ä¸€ä¸ªå†™æ•°æ®çš„èµ·å§‹ä½ç½®â€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546481864,"ip_address":"","comment_id":56517,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1546480727","product_id":100020801,"comment_content":"ä»€ä¹ˆæƒ…å†µä¸‹æ˜¯éšæœºè¯»å†™ï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹æ˜¯é¡ºåºè¯»å†™å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435087,"discussion_content":"éšæœºå†™çš„æ„æ€æ˜¯â€œä¸Šä¸€ä¸ªå†™å®Œæ•°æ®çš„ç»“æŸä½ç½®ï¼Œæ˜¯ä¸‹ä¸€ä¸ªå†™æ•°æ®çš„èµ·å§‹ä½ç½®â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546481864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1442605,"avatar":"https://static001.geekbang.org/account/avatar/00/16/03/2d/404627dc.jpg","nickname":"Anryg Zhun","note":"","ucode":"76DF8560BA9D14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":185564,"discussion_content":"è€å¸ˆè¯´çš„åº”è¯¥æ˜¯é¡ºåºå†™å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582634749,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":56378,"user_name":"yarn","can_delete":false,"product_type":"c1","uid":1234970,"ip_address":"","ucode":"38A25F4A1C34AD","user_header":"https://static001.geekbang.org/account/avatar/00/12/d8/1a/9176e043.jpg","comment_is_top":false,"comment_ctime":1546432422,"is_pvip":false,"replies":[{"id":"20293","content":"1. æ˜¯çš„ï¼Œä½†æ˜¯ä¸æ˜¯in(1,2), éƒ½æ˜¯ä¸€ä¸ªä¸ªå›è¡¨çš„åˆ é™¤çš„<br>2. ä½ è¯´çš„Page2 æ˜¯æ”¾æ™®é€šç´¢å¼•çš„pageå—ï¼Ÿæµç¨‹æ˜¯è¿™æ ·ï¼Œid=1ä¸»é”®ç´¢å¼•å–å‡ºæ¥ï¼Œè¯»åˆ°kå€¼ï¼Œå†å»kç´¢å¼•æ ‘ä¸Šåˆ ã€‚å¦‚æœå‘ç°page2 åœ¨å†…å­˜å°±ç›´æ¥åˆ é™¤ã€‚å¦‚æœå‘ç°ä¸åœ¨ï¼Œå°±å¾€chang bufferä¸­è®°åˆ é™¤åŠ¨ä½œã€‚è¿˜æ˜¯è¦åœ¨kç´¢å¼•æ‰¾çš„ï¼Œä¸æ‰¾ä¸çŸ¥é“åœ¨ä¸åœ¨å†…å­˜é‡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546436511,"ip_address":"","comment_id":56378,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546432422","product_id":100020801,"comment_content":"è€å¸ˆ, æ‚¨å¥½, å…³äºä¸»é”®ç´¢å¼•å’ŒäºŒçº§ç´¢å¼•æ•°æ®åŒæ­¥çš„é—®é¢˜ä¸å¤ªæ˜ç™½:<br>id = 1, k = 5; id = 2, k = 5<br>æ‰§è¡Œdelete from T where k = 5;<br>å‡è®¾kå¯¹åº”çš„pageé¡µä¸åœ¨change_bufferä¸­, è¿™æ—¶å€™ä¼šåœ¨change_bufferä¸­è®°å½• delete from T where k = 5;<br>1: ä¸»é”®ç´¢å¼•æ˜¯æœ¬æ¥å°±ä¸èƒ½ç”¨ä¸Šchange bufferæœºåˆ¶çš„, <br>   é‚£ä¹ˆè¿™æ—¶å€™æ˜¯ç›´æ¥åœ¨ä¸»é”®å¯¹åº”çš„B+treeä¸Šåˆ é™¤ id in (1, 2)çš„æ•°æ®? (éšå³å†™?)<br>2: å¦‚æœæ‰§è¡Œdelete from T where id = 1; è¿™æ—¶å€™ä¼šç”¨åˆ°change_buffer, åœ¨change_bufferä¸­åšæ ‡è®°delete from page2 where id = 1 ?  ç±»ä¼¼è¿™æ ·å—? å¦‚æœè¿™æ · ä¼šé¦–å…ˆæŠŠid=1çš„pageé¡µè¯»åˆ°å†…å­˜ä¸­å§(å¦åˆ™ä¸çŸ¥é“åˆ é™¤çš„k = ?), page2 è¿™ä¸ªæ˜¯æ€ä¹ˆçŸ¥é“çš„? ä¼šå»Kå¯¹åº”çš„B-Treeä¸­æ‰¾å—?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435006,"discussion_content":"1. æ˜¯çš„ï¼Œä½†æ˜¯ä¸æ˜¯in(1,2), éƒ½æ˜¯ä¸€ä¸ªä¸ªå›è¡¨çš„åˆ é™¤çš„\n2. ä½ è¯´çš„Page2 æ˜¯æ”¾æ™®é€šç´¢å¼•çš„pageå—ï¼Ÿæµç¨‹æ˜¯è¿™æ ·ï¼Œid=1ä¸»é”®ç´¢å¼•å–å‡ºæ¥ï¼Œè¯»åˆ°kå€¼ï¼Œå†å»kç´¢å¼•æ ‘ä¸Šåˆ ã€‚å¦‚æœå‘ç°page2 åœ¨å†…å­˜å°±ç›´æ¥åˆ é™¤ã€‚å¦‚æœå‘ç°ä¸åœ¨ï¼Œå°±å¾€chang bufferä¸­è®°åˆ é™¤åŠ¨ä½œã€‚è¿˜æ˜¯è¦åœ¨kç´¢å¼•æ‰¾çš„ï¼Œä¸æ‰¾ä¸çŸ¥é“åœ¨ä¸åœ¨å†…å­˜é‡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546436511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55717,"user_name":"çœ‹ä¸åˆ°deé¢œè‰²","can_delete":false,"product_type":"c1","uid":1162714,"ip_address":"","ucode":"88348CCAE81931","user_header":"https://static001.geekbang.org/account/avatar/00/11/bd/da/3d76ea74.jpg","comment_is_top":false,"comment_ctime":1546267677,"is_pvip":false,"replies":[{"id":"20090","content":"æ™®é€šç´¢å¼•ä¸éœ€è¦å“¦ï¼Œ<br>å°±æ˜¯è¯´æ’å…¥çš„æ—¶å€™ï¼Œæ“ä½œä¸»é”®IDç´¢å¼•çš„å˜æ›´ç¡®å®ä¸èƒ½ç”¨change buffer,<br>ä½†æ˜¯æ™®é€šç´¢å¼•å¯ä»¥","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546270176,"ip_address":"","comment_id":55717,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546267677","product_id":100020801,"comment_content":"å†æ¬¡è¯»äº†ä¸€éï¼Œè¿˜æ˜¯æœ‰ç–‘æƒ‘çš„åœ°æ–¹ã€‚å°±æ˜¯change bufferè®°å½•çš„æ˜¯æ–°å¢æˆ–ä¿®æ”¹çš„æ•°æ®ï¼Œé‚£ä¹ˆmergeæ“ä½œæ˜¯é’ˆå¯¹äºŒçº§ç´¢å¼•è¿˜æ˜¯æ•°æ®ã€‚å¦‚æœè¯´å› ä¸ºå”¯ä¸€ç´¢å¼•éœ€è¦ç¡®ä¿æ•°æ®å”¯ä¸€ï¼Œé‚£ä¹ˆæ™®é€šç´¢å¼•åº”å½“ä¹Ÿæ˜¯éœ€è¦çš„ï¼Œæ¯•ç«Ÿæ’å…¥æ“ä½œé¿å…ä¸äº†è¦å¸¦å»ä¸»é”®ï¼ˆæˆ–ç³»ç»Ÿç”Ÿæˆï¼‰ã€‚è¿˜è¯·è€å¸ˆèƒ½å¤Ÿè§£ç­”ä¸€ä¸‹å›°æƒ‘ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434832,"discussion_content":"æ™®é€šç´¢å¼•ä¸éœ€è¦å“¦ï¼Œ\nå°±æ˜¯è¯´æ’å…¥çš„æ—¶å€™ï¼Œæ“ä½œä¸»é”®IDç´¢å¼•çš„å˜æ›´ç¡®å®ä¸èƒ½ç”¨change buffer,\nä½†æ˜¯æ™®é€šç´¢å¼•å¯ä»¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546270176,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55407,"user_name":"Lee","can_delete":false,"product_type":"c1","uid":1346556,"ip_address":"","ucode":"01ABE9D3AA4C66","user_header":"https://static001.geekbang.org/account/avatar/00/14/8b/fc/227d38a7.jpg","comment_is_top":false,"comment_ctime":1546163184,"is_pvip":false,"replies":[{"id":"20046","content":"ä½†æ˜¯redo logä¹Ÿæœ‰ç¼“å­˜äºŒçº§ç´¢å¼•çš„å˜æ›´ï¼Œæˆ‘æ€•ä½ è¿™æ ·ç†è§£è¯¯ä»¥ä¸ºredo log ä¸ç®¡äºŒçº§ç´¢å¼•","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546168027,"ip_address":"","comment_id":55407,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546163184","product_id":100020801,"comment_content":"è€å¸ˆï¼Œçœ‹äº†è¿™ä¸€èŠ‚redo logä¸change bufferçš„å¯¹æ¯”ï¼Œæˆ‘æœ‰äº›ç–‘é—®ã€‚<br>1ã€The change buffer is a special data structure that caches changes to secondary index pages when those pages are not in the buffer pool. è¿™æ˜¯ä¸€æ®µæˆªè‡ªmysqlå®˜ç½‘çš„è¯´æ˜ï¼Œchange bufferå­˜å‚¨çš„åº”è¯¥æ˜¯å¯¹äºŒçº§ç´¢å¼•æœ¬èº«çš„å˜æ›´ã€‚å› ä¸ºäºŒçº§ç´¢å¼•ä¸æ˜¯æŒ‰é¡ºåºå­˜å‚¨çš„ï¼Œæ‰€ä»¥è¿™ç§ç¼“å­˜å¯ä»¥å¤§å¤§å‡å°‘éšæœºå†™IOçš„æ¬¡æ•°ã€‚<br>2ã€è€Œredo logçš„ä½œç”¨æ˜¯ç¼“å­˜æ•°æ®æ›´æ–°ï¼Œä¹Ÿæ˜¯å‡å°‘éšæœºå†™IOçš„æ¬¡æ•°ã€‚<br><br>å› æ­¤ä»–ä»¬çš„ä½œç”¨åº”è¯¥æ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯å‡å°‘å†™IOçš„æ¬¡æ•°ï¼Œåªä¸è¿‡æ˜¯ä¸€ä¸ªå‡å°‘çš„æ˜¯indexå˜æ›´å¼•èµ·çš„çš„å†™IOï¼Œä¸€ä¸ªå‡å°‘çš„æ˜¯æ•°æ®æœ¬èº«å˜æ›´å¼•èµ·çš„å†™IOã€‚<br><br>ä¸çŸ¥é“æˆ‘è¿™ç§ç†è§£æ˜¯å¦æ­£ç¡®ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434763,"discussion_content":"ä½†æ˜¯redo logä¹Ÿæœ‰ç¼“å­˜äºŒçº§ç´¢å¼•çš„å˜æ›´ï¼Œæˆ‘æ€•ä½ è¿™æ ·ç†è§£è¯¯ä»¥ä¸ºredo log ä¸ç®¡äºŒçº§ç´¢å¼•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546168027,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55383,"user_name":"asdf100","can_delete":false,"product_type":"c1","uid":1043738,"ip_address":"","ucode":"39D8D71453E575","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ed/1a/ce7f7d54.jpg","comment_is_top":false,"comment_ctime":1546154165,"is_pvip":false,"replies":[{"id":"20049","content":"å®šæ—¶","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546169023,"ip_address":"","comment_id":55383,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546154165","product_id":100020801,"comment_content":"æ›´æ–°çš„æ—¶å€™ï¼Œå¦‚æœåœ¨å†…å­˜ç›´æ¥æ›´æ–°ï¼Œæ›´æ–°åæ˜¯å¦ç«‹å³å†™å›ç£ç›˜ï¼Ÿè¿˜æ˜¯å®šæ—¶å†™ç£ç›˜ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434757,"discussion_content":"å®šæ—¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546169023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55366,"user_name":"gesanri","can_delete":false,"product_type":"c1","uid":1121174,"ip_address":"","ucode":"AE3B97DC3ED668","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELtOO0HKrj5SI5JSlmwiaCvaF6GLiaTmf5NX88OZaO3HymTAGTeIoicBUjqzmMF6sF5raPFjuqLFibrrw/132","comment_is_top":false,"comment_ctime":1546149694,"is_pvip":false,"replies":[{"id":"20051","content":"è¯»å†™æ¯”ä¾‹å§ã€‚ä¸€èˆ¬æ˜¯äºŒçº§ç´¢å¼•å¤šçš„ã€ä¸»è¦æ˜¯insertæ•°æ®åœºæ™¯çš„åº“ï¼Œç”¨change bufferæ•ˆæœå¥½","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546169320,"ip_address":"","comment_id":55366,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546149694","product_id":100020801,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œå¦‚æœæ›´æ–°åé©¬ä¸Šå°±è¦æŸ¥è¯¢ï¼Œä½¿ç”¨change bufferå°±æœ‰ç‚¹å¾—ä¸å¿å¤±ï¼Œé‚£è¿™ä¸ªæ›´æ–°åå¤šé•¿æ—¶é—´æŸ¥è¯¢ï¼Œchange bufferæ‰èƒ½çœŸæ­£æå‡æ•ˆç‡å‘¢ï¼Ÿæœ‰ä¸ªå¤§æ¦‚çš„èŒƒå›´å—ï¼Ÿæˆ–è€…è·Ÿå“ªäº›å› ç´ æœ‰å…³","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434751,"discussion_content":"è¯»å†™æ¯”ä¾‹å§ã€‚ä¸€èˆ¬æ˜¯äºŒçº§ç´¢å¼•å¤šçš„ã€ä¸»è¦æ˜¯insertæ•°æ®åœºæ™¯çš„åº“ï¼Œç”¨change bufferæ•ˆæœå¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546169320,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55338,"user_name":"çœ‹ä¸åˆ°deé¢œè‰²","can_delete":false,"product_type":"c1","uid":1162714,"ip_address":"","ucode":"88348CCAE81931","user_header":"https://static001.geekbang.org/account/avatar/00/11/bd/da/3d76ea74.jpg","comment_is_top":false,"comment_ctime":1546138307,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1546138307","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œè¯»å®Œè¿™ç¯‡å‡ ä¸ªç–‘é—®æƒ³è¯·æ‚¨è§£ç­”ä¸€ä¸‹ã€‚<br><br>1.å›¾ä¸‰ä¸­å½“pageå­˜åœ¨æ—¶æ‰§è¡Œ1ï¼Œä¸å­˜åœ¨æ—¶æ‰§è¡Œ2ã€‚ç„¶åè®°å½•redo logã€‚é‚£ä¹ˆ1å’Œ2åˆ†åˆ«å¯¹åº”çš„æ˜¯redo logä¸­çš„3ï¼Œ4è¿˜æ˜¯è¯´æ— è®ºå¦‚ä½•redo logéƒ½ä¼šè®°å½•3ï¼Œ4ï¼Ÿ<br><br>2.æ—¢ç„¶redo logä¼šè®°å½•change bufferï¼Œé‚£ä¸ºä»€ä¹ˆchange bufferè¿˜éœ€è¦å•ç‹¬è½ç›˜ã€‚<br><br>3.å¦‚æœæ›´æ–°åä¸€ç›´æ²¡æœ‰è¯»æ“ä½œï¼Œé‚£ä¹ˆchange bufferä¼šä¸€ç›´ä¿ç•™åœ¨å†…å­˜ä¸­å—ï¼Ÿ<br><br>çƒ¦è¯·è€å¸ˆèƒ½å¤Ÿåœ¨ç™¾å¿™ä¹‹ä¸­è§£ç­”ä¸€ä¸‹ã€‚","like_count":0},{"had_liked":false,"id":55247,"user_name":"yarn","can_delete":false,"product_type":"c1","uid":1234970,"ip_address":"","ucode":"38A25F4A1C34AD","user_header":"https://static001.geekbang.org/account/avatar/00/12/d8/1a/9176e043.jpg","comment_is_top":false,"comment_ctime":1546076090,"is_pvip":false,"replies":[{"id":"20022","content":"1.2. Change bufferæ˜¯ä¸€ä¸ªå…±åŒçš„ç»“æ„ï¼Œè·Ÿbuffer pool ä¸€æ ·<br><br>3. å¦‚æœç”¨ä¸Šchange bufferå°±æš‚æ—¶æ²¡æœ‰ä¿®æ”¹æ•°æ®é¡µäº†ã€‚ æœ‰ä¿®æ”¹æ•°æ®é¡µçš„æ—¶å€™æ˜¯æ ‡è®°åˆ é™¤<br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546085617,"ip_address":"","comment_id":55247,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546076090","product_id":100020801,"comment_content":"è€å¸ˆ, æ‚¨å¥½, çœ‹å®Œä»¥åæœ‰å‡ ä¸ªé—®é¢˜, æœ›æ‚¨ä¸åèµæ•™!<br>å‡è®¾ id = 1, k= 5<br>delete from T where k = 5; delete from T where id = 1;<br>1: ä¸åŒå­—æ®µç´¢å¼• updateæˆ–è€…deleteçš„æ—¶å€™å†™å…¥ä»change bufferæ˜¯åŒä¸€ç‰‡å†…å­˜å—?<br>2: å¦‚æœæ˜¯ä¸åŒåŒºåŸŸ, é‚£ä¹ˆè¿™ä¸¤ä¸ªsqlå†…å­˜ä»¥åŠç£ç›˜æ˜¯æ€ä¹ˆåŒæ­¥æ•°æ®çš„?<br>3: ç´¢å¼•pageé¡µæ˜¯æ€ä¹ˆå˜åŒ–çš„?<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434712,"discussion_content":"1.2. Change bufferæ˜¯ä¸€ä¸ªå…±åŒçš„ç»“æ„ï¼Œè·Ÿbuffer pool ä¸€æ ·\n\n3. å¦‚æœç”¨ä¸Šchange bufferå°±æš‚æ—¶æ²¡æœ‰ä¿®æ”¹æ•°æ®é¡µäº†ã€‚ æœ‰ä¿®æ”¹æ•°æ®é¡µçš„æ—¶å€™æ˜¯æ ‡è®°åˆ é™¤\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546085617,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55045,"user_name":"å°˜å°","can_delete":false,"product_type":"c1","uid":1247006,"ip_address":"","ucode":"CEE0C006387A03","user_header":"https://static001.geekbang.org/account/avatar/00/13/07/1e/bdbe93f4.jpg","comment_is_top":false,"comment_ctime":1546009206,"is_pvip":false,"replies":[{"id":"19965","content":"å¯¹ï¼Œè¯´çš„å°±æ˜¯è¿™ä¸ªï¼Œæœ‰å½±å“çš„ï¼Œdynamic æ˜¯å› ä¸ºå¯ä»¥æŠŠæ•°æ®å­˜åœ¨å…¶å®ƒæ•°æ®é¡µï¼Œè®©è¡Œä¸Šåªç•™ä¸ªæŒ‡é’ˆï¼Œæ‰€ä»¥æ‰ä¸å—é™åˆ¶","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546009510,"ip_address":"","comment_id":55045,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546009206","product_id":100020801,"comment_content":"ä¸æ˜¯file formatï¼Œæ˜¯row_formatï¼Œä¸‹é¢æ˜¯æˆ‘çš„æµ‹è¯•è¿‡ç¨‹<br>db23 10:53:50&gt;show create table t888\\G<br>*************************** 1. row ***************************<br>       Table: t888<br>Create Table: CREATE TABLE `t888` (<br>  `a` varchar(300) DEFAULT NULL,<br>  `b` varchar(300) DEFAULT NULL<br>) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=COMPACT<br>1 row in set (0.00 sec)<br><br>db23 10:53:56&gt;alter table t888 add index idx_a_b(a,b);<br>ERROR 1709 (HY000): Index column size too large. The maximum column size is 767 bytes.<br><br>db23 10:54:15&gt;alter table t888 row_format=dynamic;<br>Query OK, 0 rows affected (0.01 sec)<br>Records: 0  Duplicates: 0  Warnings: 0<br><br>db23 10:54:36&gt;alter table t888 add index idx_a_b(a,b);<br>Query OK, 0 rows affected (0.02 sec)<br>Records: 0  Duplicates: 0  Warnings: 0","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434657,"discussion_content":"å¯¹ï¼Œè¯´çš„å°±æ˜¯è¿™ä¸ªï¼Œæœ‰å½±å“çš„ï¼Œdynamic æ˜¯å› ä¸ºå¯ä»¥æŠŠæ•°æ®å­˜åœ¨å…¶å®ƒæ•°æ®é¡µï¼Œè®©è¡Œä¸Šåªç•™ä¸ªæŒ‡é’ˆï¼Œæ‰€ä»¥æ‰ä¸å—é™åˆ¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546009510,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":55019,"user_name":"å°˜å°","can_delete":false,"product_type":"c1","uid":1247006,"ip_address":"","ucode":"CEE0C006387A03","user_header":"https://static001.geekbang.org/account/avatar/00/13/07/1e/bdbe93f4.jpg","comment_is_top":false,"comment_ctime":1546001161,"is_pvip":false,"replies":[{"id":"19963","content":"æ˜¯file formate å§ğŸ˜“","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1546008359,"ip_address":"","comment_id":55019,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1546001161","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä¸ºä»€ä¹ˆmysql 5.7æœ€å¤§ç´¢å¼•é•¿åº¦3072è¿˜å’Œrow formatæœ‰å…³ç³»ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434651,"discussion_content":"æ˜¯file formate å§ğŸ˜“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546008359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54866,"user_name":"Mr.é’§ğŸ‘»","can_delete":false,"product_type":"c1","uid":1249939,"ip_address":"","ucode":"D781E030E79245","user_header":"https://static001.geekbang.org/account/avatar/00/13/12/93/3470fc43.jpg","comment_is_top":false,"comment_ctime":1545972931,"is_pvip":false,"replies":[{"id":"19869","content":"é¡ºåºå†™æ¯”éšæœºå†™é«˜æ•ˆï¼Œæ˜¯ç£ç›˜çš„æœºåˆ¶å†³å®šçš„ã€‚<br>é¡ºåºå°±æ˜¯ä¸‹ä¸€æ¬¡å†™ä»ä¸Šä¸€æ¬¡ç»“æŸçš„ä½ç½®ç»§ç»­","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545975001,"ip_address":"","comment_id":54866,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545972931","product_id":100020801,"comment_content":"è¿˜æƒ³è¯·æ•™ä¸€ä¸‹è€å¸ˆï¼Œéšæœºioå†™ï¼Œå’Œé¡ºåºå†™æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿä¸ºä»€ä¹ˆé¡ºåºå†™æ›´åŠ é«˜æ•ˆå‘¢ï¼Ÿè€Œä¸”è¿™é‡Œçš„éšæœºï¼Œé¡ºåºï¼ŒæŒ‡çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434592,"discussion_content":"é¡ºåºå†™æ¯”éšæœºå†™é«˜æ•ˆï¼Œæ˜¯ç£ç›˜çš„æœºåˆ¶å†³å®šçš„ã€‚\né¡ºåºå°±æ˜¯ä¸‹ä¸€æ¬¡å†™ä»ä¸Šä¸€æ¬¡ç»“æŸçš„ä½ç½®ç»§ç»­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545975001,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54854,"user_name":"Mr.é’§ğŸ‘»","can_delete":false,"product_type":"c1","uid":1249939,"ip_address":"","ucode":"D781E030E79245","user_header":"https://static001.geekbang.org/account/avatar/00/13/12/93/3470fc43.jpg","comment_is_top":false,"comment_ctime":1545970094,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1545970094","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·é—®æ•°æ®é¡µçš„å¤§å°ï¼Œå¤šå°‘ï¼Œå’ŒNå‰æ ‘çš„Næœ‰ä»€ä¹ˆå…³è”å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1065351,"avatar":"https://static001.geekbang.org/account/avatar/00/10/41/87/d26efb2e.jpg","nickname":"SuperSnow","note":"","ucode":"84C89AA8083E6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":150006,"discussion_content":"page size:16k,æœ€å¼€å§‹å‡ ç« æœ‰ä»‹ç»è¿‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579786227,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54601,"user_name":"æ˜¯æˆ‘çš„æµ·","can_delete":false,"product_type":"c1","uid":1197457,"ip_address":"","ucode":"4BCE240829676A","user_header":"https://static001.geekbang.org/account/avatar/00/12/45/91/afda3094.jpg","comment_is_top":false,"comment_ctime":1545912135,"is_pvip":false,"replies":[{"id":"19817","content":"ç›´æ¥å›ç­”ä½ ç¬¬äºŒä¸ªé—®é¢˜ï¼Œ æ¯”å¦‚delete çš„æ—¶å€™where ä¸»é”®ID=N","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545917959,"ip_address":"","comment_id":54601,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545912135","product_id":100020801,"comment_content":"çœ‹è§ä¸€ä¸ªåŒå­¦é—®çš„é—®é¢˜ï¼š<br>1.å¦‚æœæ˜¯é’ˆå¯¹éå”¯ä¸€ç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•çš„æ›´æ–°å’Œdeleteè€Œä¸”æ¡ä»¶æ˜¯where ç´¢å¼•å€¼=è¿™ç§æƒ…å†µ,<br>æ˜¯å¦äºŒçº§ç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•å°±æ²¡æœ‰åŒºåˆ«å‘¢ï¼Ÿ<br>è€å¸ˆçš„å›ç­”æ˜¯å…ˆè¦è¯»å†æ›´æ–°ã€‚ã€‚ã€‚<br><br>æˆ‘çš„é—®é¢˜æ˜¯ï¼š<br>ä¸ºä»€ä¹ˆæœ‰where æ¡ä»¶æ—¶å°±éœ€è¦å…ˆè¯»å‘¢ ï¼Ÿ æ˜¯å› ä¸ºcurrent read ä¹ˆ ï¼Ÿ<br>é‚£æ—¢ç„¶æ”¹æˆäº†change buffer ï¼Œä»€ä¹ˆæƒ…å†µä¸‹æ‰ä¼šåœ¨update å’Œ delete æ—¶ä½¿ç”¨åˆ°change buffer å‘¢ ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434506,"discussion_content":"ç›´æ¥å›ç­”ä½ ç¬¬äºŒä¸ªé—®é¢˜ï¼Œ æ¯”å¦‚delete çš„æ—¶å€™where ä¸»é”®ID=N","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545917959,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":54372,"user_name":"é»„æ˜æ©","can_delete":false,"product_type":"c1","uid":1119409,"ip_address":"","ucode":"EF75C8BFA14D17","user_header":"https://static001.geekbang.org/account/avatar/00/11/14/b1/7d974f0a.jpg","comment_is_top":false,"comment_ctime":1545836098,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545836098","product_id":100020801,"comment_content":"æ›´æ–°æ•°æ®åˆ†ä¸ºä¸¤æ­¥çš„è¯ï¼Œä¸€æ­¥æ˜¯æå–å¾…æ›´æ–°çš„æ•°æ®ï¼Œå¦ä¸€æ­¥æ˜¯æ‰§è¡Œæ›´æ–°é€»è¾‘å¹¶å†™å›ã€‚change bufferä¼˜åŒ–ä½œç”¨äºç¬¬ä¸€æ­¥ï¼Œredo logä¼˜åŒ–äºç¬¬äºŒæ­¥","like_count":0},{"had_liked":false,"id":53888,"user_name":"Ryy","can_delete":false,"product_type":"c1","uid":1311939,"ip_address":"","ucode":"7CB78714F4BA9C","user_header":"https://static001.geekbang.org/account/avatar/00/14/04/c3/f3e4aed6.jpg","comment_is_top":false,"comment_ctime":1545748806,"is_pvip":false,"replies":[{"id":"19529","content":"æ²¡å…³ç³»ï¼Œå¦‚æœåœ¨è¿™ä¸¤ä¸ªé˜¶æ®µæ‰ç‚¹ï¼Œäº‹åŠ¡éƒ½æ˜¯è¦å›æ»šçš„ã€‚<br>å¯ä»¥çœ‹ä¸€ä¸‹ç¬¬15ç¯‡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545755864,"ip_address":"","comment_id":53888,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545748806","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå¯¹äºå‰æ’çš„ä¼˜è´¨å›ç­”çš„åŒå­¦åšå‡ºçš„ç­”æ¡ˆï¼Œæˆ‘æ²¡çœ‹æ‡‚ã€‚å¦‚æœchange bufferå’Œå†™å…¥redo logæ˜¯ä¸¤ä¸ªæ“ä½œçš„è¯ï¼Œé‚£åœ¨ä¸¤ä¸ªæ“ä½œä¸­é—´æ–­ç”µï¼Œè¿˜æ˜¯æœ‰æ•°æ®ä¸¢å¤±çš„é£é™©å•Šï¼Ÿä¸ºä»€ä¹ˆä»–ä»¬çš„å›ç­”é‡Œé»˜è®¤è¿™æ˜¯ä¸€ä¸ªåŸå­æ“ä½œå‘¢ï¼Ÿæ¯”å¦‚change bufferå†™å…¥åï¼Œå°±é»˜è®¤redo logä¹Ÿå†™å…¥äº†ï¼Œä¸ä¼šå‡ºç°change buffer å†™å…¥åæ–­ç”µï¼Œredo logè¿˜æ²¡å†™å…¥çš„æƒ…å†µå—ï¼Ÿè¯·è€å¸ˆè§£ç­”ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434282,"discussion_content":"æ²¡å…³ç³»ï¼Œå¦‚æœåœ¨è¿™ä¸¤ä¸ªé˜¶æ®µæ‰ç‚¹ï¼Œäº‹åŠ¡éƒ½æ˜¯è¦å›æ»šçš„ã€‚\nå¯ä»¥çœ‹ä¸€ä¸‹ç¬¬15ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545755864,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53489,"user_name":"è¿æ–¤æˆé£","can_delete":false,"product_type":"c1","uid":1350812,"ip_address":"","ucode":"BAFF69C29FDFA5","user_header":"https://static001.geekbang.org/account/avatar/00/14/9c/9c/e02a0daf.jpg","comment_is_top":false,"comment_ctime":1545656199,"is_pvip":false,"replies":[{"id":"19392","content":"1. ä¸€èˆ¬æ²¡å…·ä½“æŒ‡çš„æ—¶å€™ï¼Œæ•°æ®é¡µå°±åŒ…å«æ‰€æœ‰çš„ï¼Œå¹¶ä¸æ˜¯å•åªæ•°æ®<br>2. éç´¢å¼•å­—æ®µåœ¨ä¸»é”®ä¸Šï¼Œæ‰€ä»¥ç¡®å®ä¸èƒ½ç”¨ä¸Šchsnge buffer, æ‰¹é‡æ›´æ–°çš„è¯ï¼ŒWALå¯ä»¥ç®—ä¸€ç§","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545661772,"ip_address":"","comment_id":53489,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545656199","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼æ‚¨åœ¨æ–‡ç« æåˆ°çš„æ•°æ®é¡µæ˜¯ç´¢å¼•é¡µï¼ˆç´¢å¼•æ®µä¸­çš„é¡µï¼‰å’Œæ•°æ®é¡µï¼ˆæ•°æ®æ®µä¸­çš„é¡µï¼‰çš„åˆç§°å—ï¼Ÿè¿˜æ˜¯å•æŒ‡ç´¢å¼•é¡µï¼Ÿè‹¥change bufferæ˜¯çœŸå¯¹éå”¯ä¸€çš„è¾…åŠ©ç´¢å¼•æ¶‰åŠçš„ï¼Œé‚£è¦æ˜¯æ›´æ–°æ™®é€šéç´¢å¼•å­—æ®µæ—¶ï¼Œåˆæœ‰ä»€ä¹ˆæœºåˆ¶å®ç°æ‰¹é‡æ›´æ–°æˆ–å†™å…¥ï¼Ÿè°¢è°¢","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434154,"discussion_content":"1. ä¸€èˆ¬æ²¡å…·ä½“æŒ‡çš„æ—¶å€™ï¼Œæ•°æ®é¡µå°±åŒ…å«æ‰€æœ‰çš„ï¼Œå¹¶ä¸æ˜¯å•åªæ•°æ®\n2. éç´¢å¼•å­—æ®µåœ¨ä¸»é”®ä¸Šï¼Œæ‰€ä»¥ç¡®å®ä¸èƒ½ç”¨ä¸Šchsnge buffer, æ‰¹é‡æ›´æ–°çš„è¯ï¼ŒWALå¯ä»¥ç®—ä¸€ç§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545661772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":53357,"user_name":"Spring","can_delete":false,"product_type":"c1","uid":1222211,"ip_address":"","ucode":"8175463FB4705B","user_header":"https://static001.geekbang.org/account/avatar/00/12/a6/43/cb6ab349.jpg","comment_is_top":false,"comment_ctime":1545631849,"is_pvip":false,"replies":[{"id":"19315","content":"ç¬¬ä¸€ä¸ªç†è§£å¾ˆå¯¹<br><br>ç¬¬äºŒä¸ªï¼Œå†…å­˜ä¸­çš„æ•°æ®*æ·˜æ±°*ä¹‹å‰ï¼Œéœ€è¦å†™ç›˜ã€‚<br> è¿™é‡Œä¸¤ä¸ªè¯´æ˜ï¼š<br>1ï¼‰å†…å­˜æ— æ‰€è°“å¤±æ•ˆï¼Œå°±æ˜¯è¢«LRUæ·˜æ±°äº†ï¼Œæ•°æ®é¡µæ‰ä¼šç§»å‡ºå†…å­˜<br>2ï¼‰ è¿™æ—¶å€™ä¸éœ€è¦redologåšä»€ä¹ˆçš„ï¼Œå†…å­˜å†™åˆ°ç£ç›˜ï¼Œç›´æ¥å°±å†™äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545639822,"ip_address":"","comment_id":53357,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1545631849","product_id":100020801,"comment_content":"å¯ä¸å¯ä»¥è¿™æ ·ç†è§£ï¼Œchange bufferåœ¨mergeæ—¶æ˜¯å°†å†…å­˜ä¸­çš„æ•°æ®æ›´æ–°åˆ°æœ€æ–°ï¼Œè€Œredo logæ˜¯å°†ç£ç›˜ä¸­çš„æ•°æ®æ›´æ–°åˆ°æœ€æ–°ï¼Ÿåœ¨å†…å­˜ä¸­çš„æ•°æ®å¤±æ•ˆä¹‹å‰ï¼Œredo logæ˜¯ä¸æ˜¯å¿…é¡»è¦å°†æ•°æ®å†™ç›˜ï¼Œæœ‰è¿™æ ·ä¸€ç§æœºåˆ¶æ¥ä¿éšœå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":434109,"discussion_content":"ç¬¬ä¸€ä¸ªç†è§£å¾ˆå¯¹\n\nç¬¬äºŒä¸ªï¼Œå†…å­˜ä¸­çš„æ•°æ®*æ·˜æ±°*ä¹‹å‰ï¼Œéœ€è¦å†™ç›˜ã€‚\n è¿™é‡Œä¸¤ä¸ªè¯´æ˜ï¼š\n1ï¼‰å†…å­˜æ— æ‰€è°“å¤±æ•ˆï¼Œå°±æ˜¯è¢«LRUæ·˜æ±°äº†ï¼Œæ•°æ®é¡µæ‰ä¼šç§»å‡ºå†…å­˜\n2ï¼‰ è¿™æ—¶å€™ä¸éœ€è¦redologåšä»€ä¹ˆçš„ï¼Œå†…å­˜å†™åˆ°ç£ç›˜ï¼Œç›´æ¥å°±å†™äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545639822,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1145404,"avatar":"https://static001.geekbang.org/account/avatar/00/11/7a/3c/87e015f8.jpg","nickname":"å µè½¦","note":"","ucode":"7BC1E50A4F8D3D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":57589,"discussion_content":"å†…å­˜æ·˜æ±°ä¹‹å‰è¦å†™ç›˜ï¼Œä¸éœ€è¦redologåšä»€ä¹ˆã€‚é‚£ä¹ˆredologåœ¨åšæ¢å¤çš„æ—¶å€™æ€ä¹ˆçŸ¥é“change buffçš„è¿™æ¡è®°å½•å·²ç»å†™ç›˜äº†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574619022,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52961,"user_name":"sky","can_delete":false,"product_type":"c1","uid":1008071,"ip_address":"","ucode":"9FE5F43055D3AB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/61/c7/b64ac05e.jpg","comment_is_top":false,"comment_ctime":1545558941,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545558941","product_id":100020801,"comment_content":"å…³æ‰change-bufï¼Œ å½“ä¸€ä¸ªåº“ä¸Šçš„ä¸åŒè¡¨æœ‰çš„éœ€è¦change-buf æ¥æå‡å†™å…¥æ€§èƒ½ï¼Œæœ‰çš„éœ€è¦å”¯ä¸€ç´¢å¼•çš„æ—¶å€™ï¼Œèƒ½å¯¹å•ä¸ªè¡¨åšæ˜¯å¦ä½¿ç”¨change-buf ç‰¹æ€§ä¹ˆ","like_count":0},{"had_liked":false,"id":52155,"user_name":"ziven","can_delete":false,"product_type":"c1","uid":1110461,"ip_address":"","ucode":"D13AC3D2D27A6F","user_header":"https://static001.geekbang.org/account/avatar/00/10/f1/bd/049a06b0.jpg","comment_is_top":false,"comment_ctime":1545320948,"is_pvip":false,"replies":[{"id":"19011","content":"å¯¹ï¼Œä¸éœ€è¦è¯»å‡ºæ¥ï¼Œåªæ›´æ–°redolog,<br><br>è¿™ä¸å°±æ˜¯èŠ‚çœéšæœºç£ç›˜å—â€¦ å°‘è¯»äº†ä¸€æ¬¡ç£ç›˜å‘€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545362360,"ip_address":"","comment_id":52155,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545320948","product_id":100020801,"comment_content":"æ‚¨å¥½ï¼Œå…³äºâ€change buffer èŠ‚çœéšæœºè¯»ç£ç›˜æ¶ˆè€—â€è¿™ä¸ªé—®é¢˜ï¼Œæ‚¨çš„å›ç­”æ˜¯<br>â€œå¦‚æœæ²¡æœ‰change buffer, æ‰§è¡Œæ›´æ–°çš„â€œå½“æ—¶é‚£ä¸€åˆ»â€ï¼Œå°±è¦æ±‚ä»ç£ç›˜æŠŠæ•°æ®é¡µè¯»å‡ºæ¥ï¼ˆè¿™ä¸ªæ“ä½œæ˜¯éšæœºè¯»ï¼‰&quot;ã€‚<br>ä½†æ˜¯åœ¨ä»‹ç»WALçš„æ—¶å€™è¯´è¿‡â€œ å½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†â€ï¼Œè¿™æ˜¯ä¸æ˜¯æ„å‘³ç€åœ¨æ›´æ–°æ•°æ®çš„æ—¶å€™å¹¶ä¸éœ€è¦å°†æ•°æ®é¡µä»ç£ç›˜éšæœºè¯»å‡ºæ¥ï¼Œè€Œæ˜¯åªè¦é¡ºåºå†™redologå°±OKï¼Ÿ<br>å¦‚æœè¿™æ ·ï¼Œé‚£ä¹ˆchange buffer èŠ‚çœéšæœºç£ç›˜IOåˆæ˜¯ä½“ç°åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿ<br>é—®é¢˜æœ‰ç‚¹å¤šï¼Œå“ˆå“ˆ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433764,"discussion_content":"å¯¹ï¼Œä¸éœ€è¦è¯»å‡ºæ¥ï¼Œåªæ›´æ–°redolog,\n\nè¿™ä¸å°±æ˜¯èŠ‚çœéšæœºç£ç›˜å—â€¦ å°‘è¯»äº†ä¸€æ¬¡ç£ç›˜å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545362360,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":52005,"user_name":"xzy","can_delete":false,"product_type":"c1","uid":1002095,"ip_address":"","ucode":"1A44368083A19E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4a/6f/e36b3908.jpg","comment_is_top":false,"comment_ctime":1545292493,"is_pvip":false,"replies":[{"id":"18821","content":"æ–‡ä¸­è¯´äº†çš„ï¼Œå¤§é‡æ’å…¥çš„è¡¨ï¼Œè¡¨é‡Œæœ‰å¤šä¸ªéå”¯ä¸€ç´¢å¼•ï¼Œå°±æœ‰æ”¶ç›Š","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545293233,"ip_address":"","comment_id":52005,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545292493","product_id":100020801,"comment_content":"è€å¸ˆï¼Œèƒ½ä¸èƒ½ä¸¾ä¸€ä¸ªå¯ä»¥å®é™…æ“ä½œçš„ä¾‹å­","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433695,"discussion_content":"æ–‡ä¸­è¯´äº†çš„ï¼Œå¤§é‡æ’å…¥çš„è¡¨ï¼Œè¡¨é‡Œæœ‰å¤šä¸ªéå”¯ä¸€ç´¢å¼•ï¼Œå°±æœ‰æ”¶ç›Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545293233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51962,"user_name":"è€¶æ„¿","can_delete":false,"product_type":"c1","uid":1340960,"ip_address":"","ucode":"549E54F67FC000","user_header":"https://static001.geekbang.org/account/avatar/00/14/76/20/2f9c6763.jpg","comment_is_top":false,"comment_ctime":1545283438,"is_pvip":false,"replies":[{"id":"18824","content":"æ›´æ–°ä¹‹å‰åŠ çš„äº†ï¼Œè¡Œé”æ²¡æœ‰å­˜åœ¨æ•°æ®é¡µé‡Œå“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545293347,"ip_address":"","comment_id":51962,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1545283438","product_id":100020801,"comment_content":"æ—è€å¸ˆï¼Œé—®ä¸ªé—®é¢˜ï¼Œåœ¨poolé‡Œåšæ›´æ–°ï¼Œç„¶åmergeåˆ°ç£ç›˜ï¼Œé‚£ä¹ˆè¡Œé”æ˜¯ä»€ä¹ˆæ—¶å€™åŠ ä¸Šçš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433682,"discussion_content":"æ›´æ–°ä¹‹å‰åŠ çš„äº†ï¼Œè¡Œé”æ²¡æœ‰å­˜åœ¨æ•°æ®é¡µé‡Œå“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545293347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51880,"user_name":"xinzhong","can_delete":false,"product_type":"c1","uid":1334329,"ip_address":"","ucode":"8AC3B0349D10D1","user_header":"","comment_is_top":false,"comment_ctime":1545273205,"is_pvip":false,"replies":[{"id":"18800","content":"å¦‚æœç”¨whereé‡Œé¢ç”¨kç´¢å¼•çš„è¯ï¼Œè¿˜æ˜¯è¦æŠŠè¿™ä¸€é¡µè¯»å‡ºæ¥çš„ï¼Œæ‰€ä»¥kè¿™ä¸ªé¡µç”¨ä¸ä¸Šchange buffer.<br><br>ä½†æ˜¯å¦‚æœnameä¹Ÿå»ºäº†æ™®é€šç´¢å¼•ï¼Œé‚£ä¹ˆæ›´æ–°nameå€¼è¿™ä¸ªè¡Œä¸ºå¯èƒ½è¢«æ”¾å…¥change buffer","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1545277470,"ip_address":"","comment_id":51880,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1545273205","product_id":100020801,"comment_content":"è€å¸ˆ,ä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹,æ¯”å¦‚update t set name=xxx where k=xxx,å…¶ä¸­kæ˜¯äºŒçº§ç´¢å¼•,å¦‚æœæ˜¯ä»¥ä¸‹å‡ ç§æƒ…å†µ:<br>1.å¯¹äºkæ˜¯äºŒçº§æ™®é€šç´¢å¼•çš„æƒ…å†µ,å¦‚æœç´¢å¼•çš„æ•°æ®é¡µä¸åœ¨å†…å­˜ä¸­,åˆ™å†™å…¥åˆ°change bufferä¸­,åç»­æŸäº›æ¡ä»¶ä¸‹(æ¯”å¦‚æŸ¥æ‰¾),ä¼šå°†è¯¥ç´¢å¼•æ•°æ®é¡µè¯»å…¥å†…å­˜,ç„¶åå†å›è¡¨æ›´æ–°è®°å½•çš„æ•°æ®é¡µä¸­çš„nameå­—æ®µä¸ºxxx?<br>2.å¯¹äºkæ˜¯äºŒçº§æ™®é€šç´¢å¼•çš„æƒ…å†µ,å¦‚æœç´¢å¼•çš„æ•°æ®é¡µåœ¨å†…å­˜ä¸­,ç„¶åå›è¡¨æ›´æ–°è®°å½•æ•°æ®é¡µä¸­çš„nameå­—æ®µä¸ºxxx?<br>3.å¯¹äºkæ˜¯äºŒçº§å”¯ä¸€ç´¢å¼•,å¦‚æœç´¢å¼•çš„æ•°æ®é¡µä¸åœ¨å†…å­˜ä¸­,å°†è¯¥ç´¢å¼•æ•°æ®é¡µè¯»å…¥å†…å­˜,ç„¶åå›è¡¨æ›´æ–°è®°å½•æ•°æ®é¡µä¸­çš„nameä¸ºxxx?","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":433661,"discussion_content":"å¦‚æœç”¨whereé‡Œé¢ç”¨kç´¢å¼•çš„è¯ï¼Œè¿˜æ˜¯è¦æŠŠè¿™ä¸€é¡µè¯»å‡ºæ¥çš„ï¼Œæ‰€ä»¥kè¿™ä¸ªé¡µç”¨ä¸ä¸Šchange buffer.\n\nä½†æ˜¯å¦‚æœnameä¹Ÿå»ºäº†æ™®é€šç´¢å¼•ï¼Œé‚£ä¹ˆæ›´æ–°nameå€¼è¿™ä¸ªè¡Œä¸ºå¯èƒ½è¢«æ”¾å…¥change buffer","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545277470,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1254801,"avatar":"https://static001.geekbang.org/account/avatar/00/13/25/91/46600294.jpg","nickname":"çŒ´å“¥ä¸€ä¸€ cium","note":"","ucode":"38EC64F8D1A0B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":314905,"discussion_content":"å§æ§½ï¼Œæˆ‘è¿™æ ·ç†è§£ä¸‹ï¼Œå¯¹ä¸å¯¹\nupdate t set name=xxx where k=xxx\nå¸¦ç´¢å¼•æ¡ä»¶çš„æ›´æ–°ï¼Œå¦‚ where k = xxï¼Œå› ä¸ºå®šä½çš„è¿‡ç¨‹éœ€è¦æŸ¥è¯¢ç´¢å¼•Kï¼Œæ‰€ä»¥å¯¹äºç´¢å¼•Kï¼Œä¸èƒ½äº«å—åˆ°change bufferçš„æ”¶ç›Šï¼Œ\nä½†æ˜¯å¯¹äºè¦æ›´æ–°çš„å­—æ®µï¼ˆæ™®é€šç´¢å¼•ï¼‰ï¼Œå¦‚ name =xxxï¼Œå°±ä¸éœ€è¦å†å»æŸ¥è¯¢äº†ï¼Œèƒ½äº«å—change bufferçš„æ”¶ç›Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603207533,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":51480,"user_name":"Larwas","can_delete":false,"product_type":"c1","uid":1105436,"ip_address":"","ucode":"AF6BAA7769311A","user_header":"https://static001.geekbang.org/account/avatar/00/10/de/1c/60ff644d.jpg","comment_is_top":false,"comment_ctime":1545187802,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1545187802","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ã€‚æœ‰ä¸ªç–‘é—®ï¼š<br>æ–‡ä¸­æåˆ° change buffer æ˜¯å ç”¨ buffer pool å†…å­˜çš„ï¼Œæ‰€ä»¥å¯ä»¥é¿å…åªå ç”¨å†…å­˜ï¼Œæé«˜å†…å­˜åˆ©ç”¨ç‡ã€‚è¿™é‡Œæ˜¯æŒ‡çš„ buffer pool å†…å­˜ å’Œ å¦ä¸€ä¸ªå†…å­˜æ˜¯ä¸ä¸€æ ·çš„å—ï¼Ÿä½†åé¢è®² change buffer å’Œ redo log çš„æ—¶å€™ï¼Œå‡è®¾ â€œk1 æ‰€åœ¨çš„æ•°æ®é¡µåœ¨å†…å­˜ (InnoDB buffer pool) ä¸­â€œ, çœ‹ç€åˆåƒä¸¤è€…å°±æ˜¯ä¸€æ ·çš„ï¼Ÿ<br><br>è°¢è°¢~","like_count":0},{"had_liked":false,"id":50063,"user_name":"æ£’æ£’ç³–","can_delete":false,"product_type":"c1","uid":1306740,"ip_address":"","ucode":"C634E591E4098B","user_header":"https://static001.geekbang.org/account/avatar/00/13/f0/74/f574b540.jpg","comment_is_top":false,"comment_ctime":1544856351,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1544856351","product_id":100020801,"comment_content":"æ™®é€šç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•å¦‚ä½•é€‰æ‹©ï¼Ÿ<br>æŸ¥è¯¢ï¼šæ€§èƒ½ä¸ŠåŸºæœ¬ä¸€è‡´ï¼Œç›¸å·®å¾®ä¹å…¶å¾®ï¼Œå¯å¿½ç•¥ä¸è®¡<br>æ›´æ–°ï¼šä»£ç å±‚é¢å¯ä¿è¯æ•°æ®å”¯ä¸€æ€§çš„æƒ…å†µä¸‹ï¼Œé€‰æ‹©æ™®é€šç´¢å¼•ï¼Œåªæœ‰æ™®é€šç´¢å¼•å¯ä½¿ç”¨change buffer<br>","like_count":0},{"had_liked":false,"id":49083,"user_name":"everyok22","can_delete":false,"product_type":"c1","uid":1213878,"ip_address":"","ucode":"3A3304CCDC5C5C","user_header":"","comment_is_top":false,"comment_ctime":1544600654,"is_pvip":false,"replies":[{"id":"17619","content":"1. ä¸èƒ½ï¼Œæ²¡ç´¢å¼•è¡¨ç¤ºåªæœ‰ä¸»é”®ç´¢å¼•<br><br>2. MySQL ç°åœ¨è¿˜æ²¡ç‰ˆæœ¬æ”¯æŒè¿™ä¸ªâ€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544608564,"ip_address":"","comment_id":49083,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544600654","product_id":100020801,"comment_content":"è€å¸ˆï¼šæ­£å¸¸æ•°æ®çš„æ’å…¥æ“ä½œæ˜¯ä¸æ˜¯ä¹Ÿä¼šç”¨åˆ°change bufferå‘¢(æ²¡æœ‰ç´¢å¼•çš„æƒ…å†µ)ï¼Ÿ change bufferèƒ½åœ¨è¡¨çº§åˆ«è¿›è¡Œé…ç½®ä¹ˆï¼Œæ¯”å¦‚Aè¡¨æ”¯æŒchange buffer, Bè¡¨ç¦ç”¨ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432479,"discussion_content":"1. ä¸èƒ½ï¼Œæ²¡ç´¢å¼•è¡¨ç¤ºåªæœ‰ä¸»é”®ç´¢å¼•\n\n2. MySQL ç°åœ¨è¿˜æ²¡ç‰ˆæœ¬æ”¯æŒè¿™ä¸ªâ€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544608564,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48965,"user_name":"Mr.Strive.Z.H.L","can_delete":false,"product_type":"c1","uid":1030198,"ip_address":"","ucode":"6D97E159E2EECD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b8/36/542c96bf.jpg","comment_is_top":false,"comment_ctime":1544582652,"is_pvip":false,"replies":[{"id":"17576","content":"ä¸»é”®ç´¢å¼•å›ºå®šä¸è¿›change buffer, ä¸å†²çªä¹Ÿä¸è¿›","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544584422,"ip_address":"","comment_id":48965,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544582652","product_id":100020801,"comment_content":"å­¦ä¹ å®Œæœ¬ç« çš„ç–‘æƒ‘ï¼š<br>è¿™æ¬¡æ–‡ç« ä¸­çš„updateä¸»è¦é’ˆå¯¹insertè¯­å¥åˆ†æçš„ï¼Œä½¿ç”¨change bufferä¸å¦ï¼Œå°±æ˜¯åœ¨äºæ˜¯å¦éœ€è¦ç«‹åˆ»æŠŠæŸç§ç´¢å¼•çš„æ•°æ®é¡µè¯»å–åˆ°å†…å­˜ä¸­è¿›è¡Œä¿®æ”¹ï¼ˆä¸»é”®ç´¢å¼•ä¸ºäº†åˆ¤æ–­å†²çªï¼Œå¿…é¡»è¯»å…¥å†…å­˜ï¼Œæ™®é€šç´¢å¼•æ²¡æœ‰å†²çªé—®é¢˜ï¼Œå¯ä»¥å»¶æ—¶mergeï¼‰ã€‚<br>é‚£ä¹ˆæˆ‘çš„é—®é¢˜æ˜¯ï¼Œï¼ˆä½¿ç”¨å›¾1ï¼ŒKæ˜¯æ™®é€šç´¢å¼•ï¼ŒIDæ˜¯ä¸»é”®ç´¢å¼•ï¼‰å¦‚æœæ˜¯ä¸€å¥ update k = 4 where k = 3 æˆ–è€… update k = 4 where id = 300.è¿™ç§æ›´æ–°è¯­å¥å‘¢ï¼Ÿï¼ˆæ–‡ä¸­æ²¡æœ‰æåˆ°è¿™ç§æ›´æ–°æ“ä½œï¼‰<br>æˆ‘çš„ç­”æ¡ˆæ˜¯ï¼šå› ä¸ºè¿™ä¸¤ä¸ªè¯­å¥éƒ½ä¸ä¼šæ¶‰åŠåˆ° ä¸»é”®å†²çªçš„åˆ¤æ–­ï¼Œæ‰€ä»¥æ— è®ºæ˜¯ä¸»é”®ç´¢å¼•è¿˜æ˜¯é’ˆå¯¹kçš„æ™®é€šç´¢å¼•éƒ½å¯ä»¥æ”¾åˆ°change bufferé‡Œã€‚åç»­çœŸæ­£è¯»å–çš„æ—¶å€™æ‰mergeã€‚ï¼ˆå½“ç„¶å¦‚æœupdateè¯­å¥ä¸Šé”äº†ï¼Œå°±å¿…é¡»ç›´æ¥è¯»å–ç„¶åæ›´æ–°ï¼‰ã€‚<br>è€å¸ˆæˆ‘è¿™ä¹ˆç†è§£æ­£ç¡®å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432440,"discussion_content":"ä¸»é”®ç´¢å¼•å›ºå®šä¸è¿›change buffer, ä¸å†²çªä¹Ÿä¸è¿›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544584422,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48571,"user_name":"æ­¤é—´çš„å°‘å¹´","can_delete":false,"product_type":"c1","uid":1332298,"ip_address":"","ucode":"2E6FB850937375","user_header":"https://static001.geekbang.org/account/avatar/00/14/54/4a/868e65db.jpg","comment_is_top":false,"comment_ctime":1544490180,"is_pvip":false,"replies":[{"id":"17415","content":"â€œæŒ‚æ‰â€çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿé—®é¢˜æ²¡çœ‹æ˜ç™½ğŸ˜“","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544501217,"ip_address":"","comment_id":48571,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544490180","product_id":100020801,"comment_content":"è¿™ä¸ªæœ€è¿‘ä¹Ÿå›°æ‰°ç€æˆ‘çš„ä¸šåŠ¡ä»£ç ï¼Œæœ‰ä¸¤ä¸ªidæ„æˆä¸€ä¸ªå”¯ä¸€ç´¢å¼•ï¼Œåå°æœåŠ¡é€»è¾‘ï¼šæ¥åˆ°æ’å…¥canalæ¶ˆæ¯åˆ™ç›´æ¥æ’å…¥ï¼Œæ¥åˆ°æ›´æ–°canalæ¶ˆæ¯åˆ™å…ˆæ ¹æ®å”¯ä¸€ç´¢å¼•çš„ä¸¤ä¸ªidæŸ¥åº“æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨åˆ™æ›´æ–°ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™æ’å…¥ï¼Œæˆ‘åœ¨åº“çš„æ“ä½œä¹Ÿåšäº†å¼‚å¸¸æ•è·ï¼Œä½†æ˜¯æœåŠ¡æ€»æ˜¯è·‘äº†åŠå¤©ä¹‹åæŒ‚æ‰ï¼Œå”¯ä¸€ç´¢å¼•æœ‰å­˜åœ¨çš„å¿…è¦ï¼Œå¯¹äºé€»è¾‘å±‚é¢æˆ‘è¯¥æ€ä¹ˆå¤„ç†å¥½å‘¢ï¼Ÿæˆ‘é€šè¿‡ç¼“å­˜è§£å†³ä¸€ä¸‹åˆä¸åˆé€‚å‘¢ï¼Ÿå¤§ç¥æœ‰æ²¡æœ‰å¥½çš„å»ºè®®ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432250,"discussion_content":"â€œæŒ‚æ‰â€çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿé—®é¢˜æ²¡çœ‹æ˜ç™½ğŸ˜“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544501217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48445,"user_name":"linqw","can_delete":false,"product_type":"c1","uid":1134138,"ip_address":"","ucode":"09DCFE98C54DD8","user_header":"https://static001.geekbang.org/account/avatar/00/11/4e/3a/86196508.jpg","comment_is_top":false,"comment_ctime":1544445888,"is_pvip":false,"replies":[{"id":"17315","content":"1. è¿™ä¸ªè¢«ä½ é—®å€’äº†ğŸ˜„ï¼Œç°åœ¨æ²¡æœ‰è¿™ä¸ªæŒ‰è¡¨è®¾ç½®çš„æœºåˆ¶ã€‚ä¸è¿‡ç†è®ºä¸Šå¯ä»¥æœ‰çš„ã€‚ï¼ˆè€Œä¸”å±…ç„¶è¿˜ä¸éš¾å®ç°ï¼‰<br><br>2.  æ²¡å†™å®Œï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544451172,"ip_address":"","comment_id":48445,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544445888","product_id":100020801,"comment_content":"è€å¸ˆæˆ‘æœ‰å‡ ä¸ªåœ°æ–¹ä¸å¤ªæ¸…æ¥š<br>1ã€change bufferå¦‚æœåªæƒ³åœ¨æŸä¸ªè¡¨ç”Ÿæ•ˆï¼Œæ¯”å¦‚ä¸šåŠ¡çš„å†å²è¡¨ï¼Œå…¶ä»–æ›´æ–°åå°±æŸ¥è¯¢çš„è¡¨æ²¡æœ‰ä½¿ç”¨ï¼Œè¿™ä¸ªè¦æ€ä¹ˆè®¾ç½®ä¹ˆï¼Ÿ<br>2ã€change bufferä¸ºä»€ä¹ˆè¦å†™è¿›ç³»ç»Ÿè¡¨é‡Œï¼Œæˆ‘çš„ç†è§£æ˜¯åœ¨è¿›è¡Œä¸€äº›æ›´æ–°æˆ–è€…åˆ é™¤æ“ä½œçš„æ—¶å€™ä¸ºäº†é˜²æ­¢é¢‘ç¹çš„ä»ç£ç›˜ä¸­è¯»å…¥æ•°æ®é¡µï¼Œç”¨change bufferè¿›è¡Œåšç¼“å†²ï¼Œåå°çº¿ç¨‹åœ¨ç‰¹å®šæ—¶é—´è¿›è¡Œå°†æ•°æ®mergeï¼Œredoä¹Ÿä¼šè¿›è¡Œè®°å½•ï¼Œç”±äºä¸¤æ®µæäº¤ï¼Œå¯ä»¥åœ¨redoæ²¡å†™å®Œæ•´å¤„äºpreparingçŠ¶æ€è¿›è¡Œå›æ»šï¼Œå†™å®Œæ•´commitçŠ¶æ€ï¼Œå¯ä»¥åœ¨å¼‚å¸¸é‡å¯æ—¶å¯¹change bufferè¿›è¡Œå¤‡ä»½ï¼Œé‚£ä¸ºä»€ä¹ˆéœ€è¦å†å†™åˆ°ç³»ç»Ÿè¡¨é‡Œ<br><br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432183,"discussion_content":"1. è¿™ä¸ªè¢«ä½ é—®å€’äº†ğŸ˜„ï¼Œç°åœ¨æ²¡æœ‰è¿™ä¸ªæŒ‰è¡¨è®¾ç½®çš„æœºåˆ¶ã€‚ä¸è¿‡ç†è®ºä¸Šå¯ä»¥æœ‰çš„ã€‚ï¼ˆè€Œä¸”å±…ç„¶è¿˜ä¸éš¾å®ç°ï¼‰\n\n2.  æ²¡å†™å®Œï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544451172,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48370,"user_name":"liao xueqiang","can_delete":false,"product_type":"c1","uid":1310325,"ip_address":"","ucode":"68713441579F6B","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/75/46742f12.jpg","comment_is_top":false,"comment_ctime":1544429872,"is_pvip":false,"replies":[{"id":"17316","content":"è¯»çš„æ˜¯ä¸»é”®ç´¢å¼•ä¸Šçš„è®°å½•ï¼Œä¸»é”®ç´¢å¼•æ˜¯æœ¬æ¥å°±ä¸èƒ½ç”¨ä¸Šchange bufferæœºåˆ¶çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544451254,"ip_address":"","comment_id":48370,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544429872","product_id":100020801,"comment_content":"å½“éœ€è¦æ›´æ–°ä¸€ä¸ªæ•°æ®é¡µæ—¶ï¼Œå¦‚æœæ•°æ®é¡µåœ¨å†…å­˜ä¸­å°±ç›´æ¥æ›´æ–°ï¼Œè€Œå¦‚æœè¿™ä¸ªæ•°æ®é¡µè¿˜æ²¡æœ‰åœ¨å†…å­˜ä¸­çš„è¯ï¼Œåœ¨ä¸å½±å“æ•°æ®ä¸€è‡´æ€§çš„å‰æä¸‹ï¼ŒInooDB ä¼šå°†è¿™äº›æ›´æ–°æ“ä½œç¼“å­˜åœ¨ change buffer ä¸­ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä»ç£ç›˜ä¸­è¯»å…¥è¿™ä¸ªæ•°æ®é¡µäº†ã€‚   <br>          <br>è¿™é‡Œæœ‰ç‚¹æ²¡ç†è§£é€ï¼Œç¬¬å…«å ‚è¯¾è¯´æ›´æ–°ä¹‹å‰å¿…é¡»å…ˆè¯»ï¼Œæ‰€ä»¥æœ‰å½“å‰è¯»çš„æ¦‚å¿µã€‚è¯»ï¼Œå¦‚æœä¸åœ¨å†…å­˜ä¸­ï¼Œä¸å°±æ˜¯è¦å…ˆè¯»å–åˆ°å†…å­˜å—ã€‚é‚£æ„æ€ä¸å°±æ˜¯æ›´æ–°æ—¶ï¼Œæ•°æ®é¡µå¿…é¡»å…ˆå­˜åœ¨å†…å­˜ä¸­å—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432151,"discussion_content":"è¯»çš„æ˜¯ä¸»é”®ç´¢å¼•ä¸Šçš„è®°å½•ï¼Œä¸»é”®ç´¢å¼•æ˜¯æœ¬æ¥å°±ä¸èƒ½ç”¨ä¸Šchange bufferæœºåˆ¶çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544451254,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":48035,"user_name":"gentlemanâ™¥ï¸","can_delete":false,"product_type":"c1","uid":1119062,"ip_address":"","ucode":"0BAC746A70038C","user_header":"https://static001.geekbang.org/account/avatar/00/11/13/56/6a062937.jpg","comment_is_top":false,"comment_ctime":1544327789,"is_pvip":false,"replies":[{"id":"17142","content":"å¦‚æœè¯´ä¸¥æ ¼é¡ºåºï¼Œå…ˆæ›´æ–°ï¼ˆå› ä¸ºæ›´æ–°æ˜¯åœ¨äº‹åŠ¡æ‰§è¡ŒæœŸé—´ï¼‰ï¼Œå†å†™redolog(äº‹åŠ¡æäº¤æ—¶ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544357648,"ip_address":"","comment_id":48035,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544327789","product_id":100020801,"comment_content":"å›¾2.è¿™æ¡æ›´æ–°è¯­å¥åšäº†å¦‚ä¸‹çš„æ“ä½œ<br>ä¸‹é¢çš„æ“ä½œæ˜¯ä¸æ˜¯ æé”™é¡ºåºäº†å•Š<br><br>ä¹‹å‰ä¸€ç« ä¸æ˜¯è¯´ å…ˆredolog å† æ›´æ–°å˜›","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431996,"discussion_content":"å¦‚æœè¯´ä¸¥æ ¼é¡ºåºï¼Œå…ˆæ›´æ–°ï¼ˆå› ä¸ºæ›´æ–°æ˜¯åœ¨äº‹åŠ¡æ‰§è¡ŒæœŸé—´ï¼‰ï¼Œå†å†™redolog(äº‹åŠ¡æäº¤æ—¶ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544357648,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47911,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1544255326,"is_pvip":false,"replies":[{"id":"17104","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544333407,"ip_address":"","comment_id":47911,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544255326","product_id":100020801,"comment_content":"æ€è€ƒé¢˜: å› ä¸ºå†™åœ¨change bufferé‡Œé¢çš„æ•°æ®ä¼šé™¤äº†ä¼šmerge åˆ°system table spaceä¸­è¿˜ä¼šå†™å…¥åˆ°redo logä¸­, æ‰€ä»¥åªè¦redo logä¸­æœ‰è®°å½•commitçš„çŠ¶æ€, åº”è¯¥å°±ä¸ä¼šä¸¢å¤±.","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431939,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544333407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47778,"user_name":"24&#47;7","can_delete":false,"product_type":"c1","uid":1302973,"ip_address":"","ucode":"643654E1FA4A29","user_header":"https://static001.geekbang.org/account/avatar/00/13/e1/bd/294b77bb.jpg","comment_is_top":false,"comment_ctime":1544195180,"is_pvip":false,"replies":[{"id":"17017","content":"å› ä¸ºåœ¨è¿™ç¯‡ç­”ç–‘çš„ä¾‹å­é‡Œï¼Œåœ¨session B update ä¹‹å‰ï¼Œsession A æ²¡æœ‰æ›´æ–°å‘€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544196099,"ip_address":"","comment_id":47778,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544195180","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ ç­”æ¡ˆçš„ç¬¬ä¸€ç§æƒ…å†µï¼Œå’Œä½ ä¸Šä¸€ç« ä¸¾å¾—ä¾‹å­é‡Œé¢äº‹åŠ¡bä¸äº‹åŠ¡cçš„æƒ…å†µæœ‰ä»€ä¹ˆä¸ä¸€æ ·å—ï¼Œä¸ºä»€ä¹ˆä¸¾å¾—ä¾‹å­é‡Œé¢äº‹åŠ¡bçš„updateå¯ä»¥æ›´æ–°å‘€ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431886,"discussion_content":"å› ä¸ºåœ¨è¿™ç¯‡ç­”ç–‘çš„ä¾‹å­é‡Œï¼Œåœ¨session B update ä¹‹å‰ï¼Œsession A æ²¡æœ‰æ›´æ–°å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544196099,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47493,"user_name":"ç§‹å‡¯","can_delete":false,"product_type":"c1","uid":1235435,"ip_address":"","ucode":"0BD0F4F60556F5","user_header":"https://static001.geekbang.org/account/avatar/00/12/d9/eb/223c6c80.jpg","comment_is_top":false,"comment_ctime":1544147993,"is_pvip":false,"replies":[{"id":"16925","content":"åé¢æˆ‘å°½é‡æ–‡ç« é‡Œéƒ½å¸¦ä¾‹å­ğŸ¤","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544148530,"ip_address":"","comment_id":47493,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544147993","product_id":100020801,"comment_content":"å†…å®¹ç²¾å½©ä¸°å¯Œæ²¡å¾—è¯´ã€‚ä½†æ„Ÿè§‰æ˜¯è¿›é˜¶ç‰ˆï¼Œå¯èƒ½æ˜¯æˆ‘è¿™ç§é›¶åŸºç¡€çš„åŸå› ï¼Œæœ‰æ²¡æœ‰å“ªä¸ªä¹¦æ˜¯æ¯”è¾ƒé€‚åˆå…¥é—¨çš„ï¼Ÿè®©æˆ‘å¯ä»¥çœ‹ä¹¦æ¶ˆåŒ–ä¸€ä¸‹åŸºç¡€æ¦‚å¿µã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431781,"discussion_content":"åé¢æˆ‘å°½é‡æ–‡ç« é‡Œéƒ½å¸¦ä¾‹å­ğŸ¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544148530,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47231,"user_name":"csoulsi","can_delete":false,"product_type":"c1","uid":1227336,"ip_address":"","ucode":"96C9BBE9097FB3","user_header":"https://static001.geekbang.org/account/avatar/00/12/ba/48/c892a35b.jpg","comment_is_top":false,"comment_ctime":1544082970,"is_pvip":true,"replies":[{"id":"16844","content":"éƒ½è¦å—åˆ°å”¯ä¸€ç´¢å¼•çº¦æŸçš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544084260,"ip_address":"","comment_id":47231,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544082970","product_id":100020801,"comment_content":"è€å¸ˆï¼Œ<br>å¦‚æœå‘å”¯ä¸€ç´¢å¼•çš„åˆ—ï¼Œæ›´æ–°æ•°æ®ï¼Œå”¯ä¸€æ€§çš„åˆ¤æ–­æ˜¯ç”±è¿™ä¸ªå”¯ä¸€ç´¢å¼•æ¥çº¦æŸ<br>é‚£ä¹ˆå¦‚æœæ›´æ–°çš„sqlï¼Œä¸èµ°å”¯ä¸€ç´¢å¼•ï¼Œæ˜¯åœ¨å“ªå„¿åˆ¤æ–­å•Šï¼Ÿ<br>è¿˜æ˜¯è¯´å¯¹äºsqlæ¥è¯´ï¼Œä¸ç®¡èµ°ä¸èµ°ç´¢å¼•ï¼Œéƒ½æ”¶åˆ°å”¯ä¸€ç´¢å¼•çš„çº¦æŸï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431707,"discussion_content":"éƒ½è¦å—åˆ°å”¯ä¸€ç´¢å¼•çº¦æŸçš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544084260,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":47177,"user_name":"é…±äº†ä¸ªæ²¹","can_delete":false,"product_type":"c1","uid":1059627,"ip_address":"","ucode":"5A13CA4EAACB81","user_header":"https://static001.geekbang.org/account/avatar/00/10/2b/2b/bebf6eed.jpg","comment_is_top":false,"comment_ctime":1544067996,"is_pvip":false,"replies":[{"id":"16831","content":"å°±æ˜¯è¯¾åçš„æ€è€ƒé¢˜ï¼Œä½ çœ‹ä¸€ä¸‹ä¸‹ä¸€ç¯‡æœ«å°¾çš„ç­”å¤","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544071054,"ip_address":"","comment_id":47177,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544067996","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œä»Šå¤©å­¦ä¹ åˆ°äº†change bufferè¿™ç§å†™æ“ä½œçš„åŠ é€Ÿæœºåˆ¶ï¼Œæˆ‘æœ‰ä¸€ä¸ªé—®é¢˜ï¼š<br>æˆ‘ä»¬åœ¨åšæ•°æ®çš„ã€è¯»ç¼“å­˜ã€‘æ—¶ï¼Œç¼“å­˜æœåŠ¡ï¼ˆå¦‚Redisï¼‰æŒ‚äº†åï¼Œè¿˜å¯ä»¥å›æºåˆ°æ•°æ®åº“ï¼Œæœ‰ä¸€å®šçš„å®¹é”™æ€§ã€‚<br>change bufferè¿™ç§ã€å†™æ“ä½œç¼“å­˜ã€ï¼Œå¯é æ€§å¦‚ä½•ä¿è¯ï¼Ÿå¦‚æœchange buffer æŒ‚äº†ï¼Œæ•°æ®æ²¡æœ‰å†™å…¥åˆ°ç£ç›˜ï¼Œä¸æ˜¯ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431689,"discussion_content":"å°±æ˜¯è¯¾åçš„æ€è€ƒé¢˜ï¼Œä½ çœ‹ä¸€ä¸‹ä¸‹ä¸€ç¯‡æœ«å°¾çš„ç­”å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544071054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46945,"user_name":"é™ä»¥å‚¨åŠ¿Â·Shuke","can_delete":false,"product_type":"c1","uid":1119090,"ip_address":"","ucode":"98736831B73028","user_header":"https://static001.geekbang.org/account/avatar/00/11/13/72/434a40f1.jpg","comment_is_top":false,"comment_ctime":1544006754,"is_pvip":false,"replies":[{"id":"16781","content":"ä¸æ˜¯ç”¨mmapæ–¹å¼ï¼Œinnodbæœ‰è‡ªå·±çš„å†…å­˜ç®¡ç†æ–¹æ³•","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544020202,"ip_address":"","comment_id":46945,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1544006754","product_id":100020801,"comment_content":"ç³»ç»Ÿç©ºé—´å’Œbuffer poolä¹‹é—´æœ‰åšmmapæ˜ å°„ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431614,"discussion_content":"ä¸æ˜¯ç”¨mmapæ–¹å¼ï¼Œinnodbæœ‰è‡ªå·±çš„å†…å­˜ç®¡ç†æ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544020202,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46901,"user_name":"æ™“ä¸œ","can_delete":false,"product_type":"c1","uid":1003385,"ip_address":"","ucode":"8F18CDFD84A97B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4f/79/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1543999273,"is_pvip":false,"replies":[{"id":"16794","content":"ä¼šæ­»é”ï¼Œæœ‰é—´éš™é”gap lockå†²çªã€‚<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544025755,"ip_address":"","comment_id":46901,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543999273","product_id":100020801,"comment_content":"å‰æï¼š\r1.orderè¡¨åŒ…å«Idï¼ŒorderIdï¼ŒchannelIdä¸‰ä¸ªå­—æ®µï¼Œå…¶ä¸­idä¸ºè‡ªå¢ä¸»é”®ï¼ŒorderIdå’ŒchannelIdä¸ºè”åˆéå”¯ä¸€ç´¢å¼•ï¼ˆidx_order_channelï¼‰,\räº‹åŠ¡éš”ç¦»çº§åˆ«ä¸ºRepeatable Read\r2.è¡¨ä¸­åŒ…å«ä¸‰æ¡æ•°æ®ï¼š\rid    OrderId    channelId\r1678  JY005   1005\r1679  JY010   1047\r1680  JY015   1023\r\r3.ç”±äºidx_order_channelä¸ºéå”¯ä¸€ç´¢å¼•ï¼Œä¸‹å•æ—¶éœ€è¦æŒ‰ç…§orderId_channelIdåˆ é™¤æ•°æ®ï¼Œå†æ’å…¥æ•°æ®\r\rç°åœ¨æœ‰ä¸¤ä¸ªåŒæ—¶ä¸‹å•çš„è¯·æ±‚ï¼Œæ‰§è¡Œçš„äº‹åŠ¡å¦‚ä¸‹ï¼š\räº‹åŠ¡1ï¼šbegin;delete from order where orderId = &#39;JY007&#39; and channelId = 1007;insert...(&#39;JY007&#39;,1007);commit;\räº‹åŠ¡2ï¼šbegin;delete from order where orderId = &#39;JY008&#39; and channelId = 1025;insert...(&#39;JY008&#39;,1025);commit;\rè¯·é—®è¿™ç§æƒ…å†µä¼šå‘ç”Ÿæ­»é”å—ï¼Ÿä¼šæœ‰æŠ¢å¤ºé”çš„æƒ…å†µå‘ç”Ÿä¸ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431591,"discussion_content":"ä¼šæ­»é”ï¼Œæœ‰é—´éš™é”gap lockå†²çªã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544025755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46878,"user_name":"éƒ­ä¿Šæ°","can_delete":false,"product_type":"c1","uid":1095011,"ip_address":"","ucode":"3BA7F5CA0BA864","user_header":"https://static001.geekbang.org/account/avatar/00/10/b5/63/b66f3d37.jpg","comment_is_top":false,"comment_ctime":1543995739,"is_pvip":false,"replies":[{"id":"16792","content":"è¢«æ·˜æ±°ï¼Œå†…å­˜æœ‰é™,ä¸”ç”¨ä¸”çæƒœğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544022874,"ip_address":"","comment_id":46878,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543995739","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå‡å¦‚æ•°æ®é¡µpage2ï¼Œç°åœ¨åœ¨å†…å­˜ä¸­äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªpage2ï¼Œä»€ä¹ˆæ—¶å€™å°±ä¸åœ¨å†…å­˜ä¸­äº†å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431582,"discussion_content":"è¢«æ·˜æ±°ï¼Œå†…å­˜æœ‰é™,ä¸”ç”¨ä¸”çæƒœğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544022874,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46864,"user_name":"éƒ­ä¿Šæ°","can_delete":false,"product_type":"c1","uid":1095011,"ip_address":"","ucode":"3BA7F5CA0BA864","user_header":"https://static001.geekbang.org/account/avatar/00/10/b5/63/b66f3d37.jpg","comment_is_top":false,"comment_ctime":1543993840,"is_pvip":false,"replies":[{"id":"16793","content":"å¦‚æœè¿™ä¸ªè¡¨æ²¡æœ‰åˆ«çš„æ™®é€šç´¢å¼•ï¼Œé‚£ç¡®å®å°±ç”¨ä¸ä¸Š","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1544022904,"ip_address":"","comment_id":46864,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543993840","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œå”¯ä¸€ç´¢å¼•ä¸èƒ½ä½¿ç”¨change bufferï¼Œä¸€èˆ¬å»ºè¡¨çš„æ—¶å€™ï¼Œéƒ½æ˜¯è®¾ç½®ä¸»é”®ï¼Œä¸»é”®å°±æ˜¯ä¸€ä¸ªå”¯ä¸€ç´¢å¼•ï¼Œæ˜¯ä¸æ˜¯è¿™æ ·æ’å…¥æ“ä½œï¼Œéƒ½ä¸ç”¨ç”¨åˆ°chang  bufferå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431578,"discussion_content":"å¦‚æœè¿™ä¸ªè¡¨æ²¡æœ‰åˆ«çš„æ™®é€šç´¢å¼•ï¼Œé‚£ç¡®å®å°±ç”¨ä¸ä¸Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1544022904,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46759,"user_name":"HuaMax","can_delete":false,"product_type":"c1","uid":1118488,"ip_address":"","ucode":"2E78DE1AF098AF","user_header":"https://static001.geekbang.org/account/avatar/00/11/11/18/8cee35f9.jpg","comment_is_top":false,"comment_ctime":1543978105,"is_pvip":false,"replies":[{"id":"16699","content":"ç¡®å®æ˜¯å› ä¸ºBé‡Œé¢çš„æ›´æ–°å¯¼è‡´Açš„æ¡ä»¶ä¸æˆç«‹ã€‚<br><br>é‚£ä¸ªé—®é¢˜çš„ä¸»è¦å…³æ³¨ç‚¹äº‹ï¼Œåœ¨Açš„ä¸¤ä¸ªselectè¯­å¥çœ‹æ¥ï¼Œåº”è¯¥æ˜¯è¦æˆç«‹çš„ï¼Œè¿™é‡Œæœ‰â€œçŸ›ç›¾â€","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543983162,"ip_address":"","comment_id":46759,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543978105","product_id":100020801,"comment_content":"å…³äºä¸ŠæœŸé—®é¢˜çš„è§£é‡Šé‡Œçš„session B&#39;çš„æ–¹æ¡ˆï¼Œæœ‰ä¸€ä¸ªç–‘é—®æœ›è§£ç­”ã€‚session Aæœ€åçš„æŸ¥è¯¢è¯­å¥æŸ¥åˆ°çš„ç»“æœæ²¡æœ‰å˜åŒ–ï¼Œä¸éƒ½æ˜¯å› ä¸ºBå’ŒB&#39;é‡Œçš„æ›´æ–°è¯­å¥å¯¼è‡´Aé‡Œçš„update çš„æ¡ä»¶ä¸æˆç«‹å—ï¼ŸBä¸B&#39;çš„åŒºåˆ«åœ¨å“ªå„¿å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431534,"discussion_content":"ç¡®å®æ˜¯å› ä¸ºBé‡Œé¢çš„æ›´æ–°å¯¼è‡´Açš„æ¡ä»¶ä¸æˆç«‹ã€‚\n\né‚£ä¸ªé—®é¢˜çš„ä¸»è¦å…³æ³¨ç‚¹äº‹ï¼Œåœ¨Açš„ä¸¤ä¸ªselectè¯­å¥çœ‹æ¥ï¼Œåº”è¯¥æ˜¯è¦æˆç«‹çš„ï¼Œè¿™é‡Œæœ‰â€œçŸ›ç›¾â€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543983162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46577,"user_name":"æ™“ä¸œ","can_delete":false,"product_type":"c1","uid":1003385,"ip_address":"","ucode":"8F18CDFD84A97B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/4f/79/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1543938478,"is_pvip":false,"replies":[{"id":"16649","content":"å¯å¦è¯¦ç»†è¯´ä¸‹ä½ çš„åœºæ™¯","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543945957,"ip_address":"","comment_id":46577,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543938478","product_id":100020801,"comment_content":"å¯ä»¥è®²ä¸€ä¸‹deleteå¹¶å‘é€ æˆçš„æ­»é”åŸç†å—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431488,"discussion_content":"å¯å¦è¯¦ç»†è¯´ä¸‹ä½ çš„åœºæ™¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543945957,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46570,"user_name":"æ¸…å‡‰è–„è·ç³–","can_delete":false,"product_type":"c1","uid":1306125,"ip_address":"","ucode":"CDEA8E4D55F3DE","user_header":"https://static001.geekbang.org/account/avatar/00/13/ee/0d/892eb1bb.jpg","comment_is_top":false,"comment_ctime":1543937729,"is_pvip":false,"replies":[{"id":"16645","content":"Buffer poolï¼Œ å…¶å®redo logå¹¶æ²¡æœ‰ç›´æ¥å†™ç£ç›˜æ•°æ®é¡µçš„èƒ½åŠ›ï¼Œå› ä¸ºå®ƒæ²¡æœ‰æ•´é¡µçš„æ•°æ®","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543942008,"ip_address":"","comment_id":46570,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543937729","product_id":100020801,"comment_content":"æ­£å¸¸è¿è¡Œä¸­çš„å®ä¾‹ï¼Œæ•°æ®å†™å…¥åçš„æœ€ç»ˆè½ç›˜ï¼Œæ˜¯ä»redo logæ›´æ–°è¿‡å»è¿˜æ˜¯ä»buffer poolå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431486,"discussion_content":"Buffer poolï¼Œ å…¶å®redo logå¹¶æ²¡æœ‰ç›´æ¥å†™ç£ç›˜æ•°æ®é¡µçš„èƒ½åŠ›ï¼Œå› ä¸ºå®ƒæ²¡æœ‰æ•´é¡µçš„æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543942008,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46568,"user_name":"ä¿¡ä¿¡","can_delete":false,"product_type":"c1","uid":1303865,"ip_address":"","ucode":"8DF0EC045579FD","user_header":"https://static001.geekbang.org/account/avatar/00/13/e5/39/951f89c8.jpg","comment_is_top":false,"comment_ctime":1543937713,"is_pvip":false,"replies":[{"id":"16646","content":"Change buffer è‡ªå·±æ˜¯ä¸€ç§æ•°æ®ï¼Œå®ƒè‡ªå·±ä¼šæŒä¹…åŒ–ï¼›<br><br>ä¸ä¼šæ— é™å¢å¤§ï¼Œæ–‡ç« äº†ä»‹ç»äº†æœ‰å‚æ•°æ§åˆ¶å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543942116,"ip_address":"","comment_id":46568,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543937713","product_id":100020801,"comment_content":"è¯·é—®è€å¸ˆã€‚change buffer æ˜¯è¢«mergeä¹‹åæ‰è¢«æŒä¹…åŒ–åˆ°ç£ç›˜çš„å—ï¼Ÿé‚£æŒä¹…åŒ–ä¹‹åçš„å†…å®¹æœ‰æ¸…ç†æœºåˆ¶å—ï¼Œåº”è¯¥ä¸ä¼šæ— é™å¢å¤§å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431485,"discussion_content":"Change buffer è‡ªå·±æ˜¯ä¸€ç§æ•°æ®ï¼Œå®ƒè‡ªå·±ä¼šæŒä¹…åŒ–ï¼›\n\nä¸ä¼šæ— é™å¢å¤§ï¼Œæ–‡ç« äº†ä»‹ç»äº†æœ‰å‚æ•°æ§åˆ¶å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543942116,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46452,"user_name":"å´å°æ™º","can_delete":false,"product_type":"c1","uid":1310798,"ip_address":"","ucode":"C7C9F58B5C9F7B","user_header":"https://static001.geekbang.org/account/avatar/00/14/00/4e/be2b206b.jpg","comment_is_top":false,"comment_ctime":1543928997,"is_pvip":false,"replies":[{"id":"16623","content":"é¢â€¦æˆ‘ç¬¬äºŒç« å¦‚æœæŠŠè¿™ä¸ªä¹ŸåŠ è¿›æ¥ï¼Œé‚£ç¯‡æ–‡ç« å°±å·¨é•¿äº†ã€‚ <br>ç¬¬äºŒç« ç†è§£ä¸ºé’ˆå¯¹å”¯ä¸€ç´¢å¼•å’Œå†…å­˜ä¸­çš„äºŒç»´ç´¢å¼•å§","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543933350,"ip_address":"","comment_id":46452,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543928997","product_id":100020801,"comment_content":"å¯¹äºå›¾äºŒï¼ŒæŠŠchange logå†™å…¥ç£ç›˜æ˜¯åå°æ“ä½œçš„è¯ï¼Œå“ªå¯¹äºredo logï¼Œæ˜¯åœ¨å†…å­˜å†™å®Œchange logå°±å†™redo logå—ï¼Ÿè¿™æ—¶å€™ï¼Œè¿˜æ²¡æœ‰æŠŠç£ç›˜ä¸­çš„æ•°æ®è¯»åˆ°å†…å­˜å¹¶ä¸”ä¿®æ”¹ï¼Œå°±å·²ç»å†™äº†redo log,å¦‚æœè¿™æ ·ï¼Œè·Ÿç¬¬äºŒèŠ‚è®²çš„è¦å…ˆæ›´æ–°å†…å­˜åœ¨å†™redo logæ˜¯ä¸æ˜¯å°±çŸ›ç›¾äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431464,"discussion_content":"é¢â€¦æˆ‘ç¬¬äºŒç« å¦‚æœæŠŠè¿™ä¸ªä¹ŸåŠ è¿›æ¥ï¼Œé‚£ç¯‡æ–‡ç« å°±å·¨é•¿äº†ã€‚ \nç¬¬äºŒç« ç†è§£ä¸ºé’ˆå¯¹å”¯ä¸€ç´¢å¼•å’Œå†…å­˜ä¸­çš„äºŒç»´ç´¢å¼•å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543933350,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46439,"user_name":"é¸ ç¿±","can_delete":false,"product_type":"c1","uid":1116568,"ip_address":"","ucode":"7D498AF2BC4289","user_header":"https://static001.geekbang.org/account/avatar/00/11/09/98/b11c372b.jpg","comment_is_top":false,"comment_ctime":1543926279,"is_pvip":false,"replies":[{"id":"16625","content":"çœ‹å…³æ³¨é‡ç‚¹å§ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543933390,"ip_address":"","comment_id":46439,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543926279","product_id":100020801,"comment_content":"åœ¨é˜¿é‡Œå·´å·´çš„é‚£ä¸ªå¼€å‘æ‰‹å†Œæœ‰è¯´ä¸šåŠ¡å”¯ä¸€çš„å­—æ®µå¿…é¡»å»ºæˆå”¯ä¸€ç´¢å¼•å‘¢â€¦â€¦å³ä½¿åº”ç”¨å±‚åšäº†å®Œå–„çš„æ£€éªŒ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431460,"discussion_content":"çœ‹å…³æ³¨é‡ç‚¹å§ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543933390,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46375,"user_name":"Ivan","can_delete":false,"product_type":"c1","uid":1302381,"ip_address":"","ucode":"57090A053A247F","user_header":"https://static001.geekbang.org/account/avatar/00/13/df/6d/44cf0de4.jpg","comment_is_top":false,"comment_ctime":1543910339,"is_pvip":false,"replies":[{"id":"16581","content":"æˆ‘åŸæ¥å†™é”™äº†ï¼Œæœ¬æ–‡çš„æ“ä½œéƒ½æ˜¯å«merge ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543912927,"ip_address":"","comment_id":46375,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543910339","product_id":100020801,"comment_content":"åˆçœ‹äº†ä¸€ä¸‹è¯„è®ºåŒºï¼Œæœ‰äº›é—®é¢˜æ¯”è¾ƒæ‡µäº†ã€‚ã€‚ã€‚ã€‚<br>1. purgeå’Œmergeæ˜¯åŒæ ·çš„æ“ä½œå—ï¼Ÿè¿˜æ˜¯purgeæ˜¯å°†è„é¡µåˆ·ç›˜ï¼Œmergeæ˜¯åœ¨å†…å­˜ä¸­å‘ç”Ÿçš„åˆå¹¶æ“ä½œï¼Œå…ˆmergeåpurgeï¼Ÿ<br>2. purgeå’Œmerge ä¹Ÿä¼šè®°å½•redo logï¼Œè¿™æ—¶è®°å½•çš„redoå†…å®¹æ˜¯ç´¢å¼•é¡µçš„ç‰©ç†å˜åŒ–å—ï¼Ÿ<br>3. mergeæ—¶æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯é€šè¿‡Checkpointçš„æœºåˆ¶è®°å½•å“ªäº›å·²ç»mergeå“ªäº›æ²¡æœ‰mergeå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431434,"discussion_content":"æˆ‘åŸæ¥å†™é”™äº†ï¼Œæœ¬æ–‡çš„æ“ä½œéƒ½æ˜¯å«merge ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543912927,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46356,"user_name":"ä¼šç©code","can_delete":false,"product_type":"c1","uid":1325282,"ip_address":"","ucode":"9220B072AF68C7","user_header":"https://static001.geekbang.org/account/avatar/00/14/38/e2/28aa8e6c.jpg","comment_is_top":false,"comment_ctime":1543906332,"is_pvip":false,"replies":[{"id":"16631","content":"ä¼šã€‚<br>å¦‚æœmergeæ²¡åšï¼Œé‚£ä¹ˆæ•°æ®é¡µä¸Šå°±ä¸€ç›´æ˜¯æ—§æ•°æ®å“¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543933735,"ip_address":"","comment_id":46356,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543906332","product_id":100020801,"comment_content":"è€å¸ˆï¼Œçœ‹äº†è¿™ç¯‡æ–‡ç« åä¸ªé—®é¢˜ä¸å¤ªç†è§£ï¼Œæƒ³è¯·æ•™ä¸€ä¸‹ã€‚å…³äºæ•°æ®è½ç›˜ï¼Œæˆ‘ç†è§£çš„æ•°æ®è½ç›˜åº”è¯¥æ˜¯åˆ©ç”¨redologå°†ä¿®æ”¹æ›´æ–°åˆ°ç£ç›˜ä¸Šï¼Œæ•°æ®è½ç›˜çš„è¿›åº¦åœ¨redologè¡¨ç°ä¸ºcheckpointï¼Œä½†å¦‚æœè¿™æ ·çš„è¯å½“æ›´æ–°æ•°æ®åï¼Œä¿®æ”¹åœ¨change bufferä¸­ï¼Œç„¶åæ›´æ–°çš„æ•°æ®ä¸€ç›´æ²¡è¢«è®¿é—®ï¼Œä¿®æ”¹é€šè¿‡redologè½ç›˜åï¼Œæ‰è¢«è®¿é—®åˆ°ï¼Œè¿™æ—¶å€™ä»ç£ç›˜ä¸­å°†æ•°æ®é¡µè¯»å…¥å†…å­˜ï¼Œä¹‹åè¿˜ä¼šæ‰§è¡Œ change buffer ä¸­ä¸è¿™æ¬¡ä¿®æ”¹ç›¸å…³çš„æ“åšå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431430,"discussion_content":"ä¼šã€‚\nå¦‚æœmergeæ²¡åšï¼Œé‚£ä¹ˆæ•°æ®é¡µä¸Šå°±ä¸€ç›´æ˜¯æ—§æ•°æ®å“¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543933735,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46353,"user_name":"york","can_delete":false,"product_type":"c1","uid":1318852,"ip_address":"","ucode":"EE938B81A7FC04","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epGMibYc0m7cDHMsNRBUur2NPVnlBZFXoNjWomibfjnHeAO3XRt27VaH3WNtdUX11d3uIT1ZHWCxLeg/132","comment_is_top":false,"comment_ctime":1543905768,"is_pvip":false,"replies":[{"id":"16593","content":"1.  mergeå°±æ˜¯ä½ è¯´çš„è¿‡ç¨‹ï¼Œä¸åŒ…æ‹¬æŒä¹…åŒ–åˆ°ç£ç›˜<br>2. Purge, å°†è„é¡µå†…å­˜æ•°æ®ï¼ˆå¯èƒ½æ˜¯change buffer ã€æ™®é€šæ•°æ®ï¼‰ å†™å…¥åˆ°ç£ç›˜ä¸Š<br><br>æ‰€ä»¥é—®é¢˜1ä¸­ï¼Œpurgeåï¼Œå¾—åˆ°çš„æ•°æ®æ˜¯è„é¡µï¼Œå¯ä»¥ä¾é merge æ“ä½œå†™å…¥ç£ç›˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543921319,"ip_address":"","comment_id":46353,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543905768","product_id":100020801,"comment_content":"çœ‹äº†ç•™è¨€ï¼Œå…³äºmergeã€purgeä»€ä¹ˆçš„ï¼Œæ„Ÿè§‰æ··ä¹±äº†ï¼Œè¯·è€å¸ˆå¸®å¿™ç†æ¸…ä¸€ä¸‹ï¼š<br>1. mergeï¼šå°†å†å²æ•°æ®ï¼ˆæˆ‘çš„ç†è§£æ˜¯è¯»å…¥å†…å­˜åçš„æ•°æ®é¡µï¼‰å’Œchange bufferä¸­çš„å†…å®¹åˆå¹¶è®¡ç®—åäº§ç”Ÿæ–°çš„æ•°æ®ï¼Œè¿™ä¸ªæ–°çš„æ•°æ®åº”è¯¥å…ˆå†™åˆ°å†…å­˜ä¸­çš„æ•°æ®é¡µä¸­ã€‚é‚£ä¹ˆï¼Œmergeæ˜¯å¦åŒ…æ‹¬å°†å†…å­˜ä¸­çš„æ•°æ®é¡µåŒæ­¥æ›´æ–°åˆ°ç£ç›˜ä¸Šçš„è¡¨ç©ºé—´æ–‡ä»¶ï¼Ÿå¦‚æœä¸åŒ…æ‹¬ï¼Œé‚£ä¹ˆè¿™ä¸ªåŒæ­¥å†…å­˜æ•°æ®åˆ°ç£ç›˜ä¸Šçš„è¿‡ç¨‹ç”±è°è´Ÿè´£ï¼Ÿ<br>2. purgeï¼šå°†change bufferç”±å†…å­˜æŒä¹…åŒ–ï¼ˆæ‹·è´å‰¯æœ¬ï¼‰è‡³ç£ç›˜ï¼Œç£ç›˜ä¸Šå¯¹åº”çš„æ–‡ä»¶åæ˜¯ib_buffer_poolï¼Ÿå¦‚ç³»ç»Ÿæ‰ç”µï¼Œé‡å¯åé€šè¿‡è¯¥æ–‡ä»¶åœ¨å†…å­˜ä¸­æ¢å¤InnoDB buffer poolï¼ˆåŒ…æ‹¬change bufferå’Œæ•°æ®é¡µï¼‰ï¼Œæ²¡æ¥å¾—åŠpurgeçš„éƒ¨åˆ†ï¼Œé€šè¿‡redo logï¼ˆæˆ–å…ˆç”±binlogé‡æ„redo logï¼‰è¿›è¡Œé‡æ„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431429,"discussion_content":"1.  mergeå°±æ˜¯ä½ è¯´çš„è¿‡ç¨‹ï¼Œä¸åŒ…æ‹¬æŒä¹…åŒ–åˆ°ç£ç›˜\n2. Purge, å°†è„é¡µå†…å­˜æ•°æ®ï¼ˆå¯èƒ½æ˜¯change buffer ã€æ™®é€šæ•°æ®ï¼‰ å†™å…¥åˆ°ç£ç›˜ä¸Š\n\næ‰€ä»¥é—®é¢˜1ä¸­ï¼Œpurgeåï¼Œå¾—åˆ°çš„æ•°æ®æ˜¯è„é¡µï¼Œå¯ä»¥ä¾é merge æ“ä½œå†™å…¥ç£ç›˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543921319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46344,"user_name":"Richie","can_delete":false,"product_type":"c1","uid":1111377,"ip_address":"","ucode":"1426E1B2E82A43","user_header":"https://static001.geekbang.org/account/avatar/00/10/f5/51/60e91438.jpg","comment_is_top":false,"comment_ctime":1543904442,"is_pvip":false,"replies":[{"id":"16632","content":"å°±æ˜¯æŒ‡çš„ç´¢å¼•kä¸Šçš„æ•°æ®é¡µã€‚ä¸è¿‡ä½ è¯´çš„å¯¹ï¼Œæˆ‘åº”è¯¥ç”»(k1, id1), è¿™æ ·æ›´å‡†ç¡®","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543933971,"ip_address":"","comment_id":46344,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543904442","product_id":100020801,"comment_content":"è€å¸ˆ,change bufferæ˜¯å¯¹äºŒçº§ç´¢å¼•é¡µå»¶è¿Ÿå†™ï¼Œä½†çœ‹ä½ ç”»çš„å›¾æ˜¯æ•°æ®é¡µï¼Œä¸æ˜¯ç´¢å¼•é¡µ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431427,"discussion_content":"å°±æ˜¯æŒ‡çš„ç´¢å¼•kä¸Šçš„æ•°æ®é¡µã€‚ä¸è¿‡ä½ è¯´çš„å¯¹ï¼Œæˆ‘åº”è¯¥ç”»(k1, id1), è¿™æ ·æ›´å‡†ç¡®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543933971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46340,"user_name":"ä¸€å¤§åªğŸ˜´","can_delete":false,"product_type":"c1","uid":1310960,"ip_address":"","ucode":"92F3D2B7F63568","user_header":"https://static001.geekbang.org/account/avatar/00/14/00/f0/08409e78.jpg","comment_is_top":false,"comment_ctime":1543903657,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543903657","product_id":100020801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰å‡ ä¸ªé—®é¢˜æ²¡ç†è§£æ¸…æ¥šï¼Œ1ã€å›¾äºŒä¸­è¯´è¿›è¡Œäº†ä¸€æ¬¡ç£ç›˜çš„é¡ºåºå†™ï¼Œåˆ·çš„æ˜¯redoï¼Œé‚£change bufferåœ¨ä»€ä¹ˆæ—¶å€™è½åˆ°ç³»ç»Ÿè¡¨ç©ºé—´å‘¢ï¼Ÿ2ã€å¯¹äºæ™®é€šç´¢å¼•ï¼Œå¦‚æœç›®æ ‡é¡µä¸åœ¨å†…å­˜ä¸­ï¼Œå°†æ›´æ–°è®°å½•åˆ°changer buffer ï¼Œç„¶åè¿˜ä¼šå°†è¿™ä¸ªåŠ¨ä½œè®°å½•åˆ°redoï¼Œé‚£mergeæ—¶å€™ï¼Œå†è®°å½•redoä¼šä¸ä¼šé‡å¤äº†ï¼Ÿ","like_count":0},{"had_liked":false,"id":46302,"user_name":"aof","can_delete":false,"product_type":"c1","uid":1062864,"ip_address":"","ucode":"5815D63C4926BC","user_header":"https://static001.geekbang.org/account/avatar/00/10/37/d0/26975fba.jpg","comment_is_top":false,"comment_ctime":1543895575,"is_pvip":false,"replies":[{"id":"16563","content":"Chsnge bufferåœ¨å†…å­˜é‡Œä¹Ÿæœ‰ï¼Œç£ç›˜ä¸Šï¼ˆç³»ç»Ÿè¡¨ç©ºé—´ï¼‰ä¹Ÿæœ‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543898072,"ip_address":"","comment_id":46302,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543895575","product_id":100020801,"comment_content":"è€å¸ˆè¯·é—®ä¸‹ï¼šchange bufferå¯¹åº”çš„ä½ç½®æ˜¯ä»€ä¹ˆï¼Ÿå†…å­˜é‡Œé¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431417,"discussion_content":"Chsnge bufferåœ¨å†…å­˜é‡Œä¹Ÿæœ‰ï¼Œç£ç›˜ä¸Šï¼ˆç³»ç»Ÿè¡¨ç©ºé—´ï¼‰ä¹Ÿæœ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543898072,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46223,"user_name":"â˜","can_delete":false,"product_type":"c1","uid":1302793,"ip_address":"","ucode":"6FAEF05F234D2A","user_header":"https://static001.geekbang.org/account/avatar/00/13/e1/09/9483f537.jpg","comment_is_top":false,"comment_ctime":1543886258,"is_pvip":false,"replies":[{"id":"16549","content":"è¿›è¡Œmergeåˆå¹¶çš„æ—¶å€™ä¼šè®°redologçš„ï¼Œè¿™æ ·å¦‚æœä¹‹åå¼‚å¸¸é‡å¯äº†å°±ä¼šé€šè¿‡å´©æºƒæ¢å¤ï¼Œæ¢å¤å›æ¥ã€‚<br><br>å¥½é—®é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543891599,"ip_address":"","comment_id":46223,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543886258","product_id":100020801,"comment_content":"è€å¸ˆå›å¤ï¼šâ€œå…¶å®æ˜¯æ¢å¤change hufferçš„å†…å®¹ï¼Œä½†æ˜¯ä¸æ€•ä¸¢å¤±ï¼Œå› ä¸ºchange bufferä¹Ÿç¡®ä¿ä¸ä¼šä¸¢å“ˆâ€<br>è¿™ä¸ªæˆ‘æ˜ç™½ï¼Œå› ä¸ºredoæ§åˆ¶å®ƒä¸ä¼šä¸¢å¤±ï¼Œä½†æ˜¯change buffer  è¿›è¡Œpurgeåˆå¹¶çš„æ—¶å€™ä¸ä¼šè®°å½•redoäº†ï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœå½¢æˆçš„è„æ•°æ®è¿˜æ²¡è½ç›˜ç„¶åå°±å¼‚å¸¸å®•æœºäº†ï¼Œredoæ¢å¤çš„åº”è¯¥è¿˜æ˜¯change bufferæ²¡åˆå¹¶ä¹‹å‰çš„æ•°æ®å§ï¼Œåº”è¯¥ä¸ä¼šç›´æ¥æ¢å¤æˆåˆå¹¶åçš„è„æ•°æ®å§","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431385,"discussion_content":"è¿›è¡Œmergeåˆå¹¶çš„æ—¶å€™ä¼šè®°redologçš„ï¼Œè¿™æ ·å¦‚æœä¹‹åå¼‚å¸¸é‡å¯äº†å°±ä¼šé€šè¿‡å´©æºƒæ¢å¤ï¼Œæ¢å¤å›æ¥ã€‚\n\nå¥½é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543891599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46205,"user_name":"å¤©ç‹","can_delete":false,"product_type":"c1","uid":1239337,"ip_address":"","ucode":"C074B2F9A5F007","user_header":"https://static001.geekbang.org/account/avatar/00/12/e9/29/629d9bb0.jpg","comment_is_top":false,"comment_ctime":1543884651,"is_pvip":false,"replies":[{"id":"16551","content":"1. æ˜¯çš„<br><br>2. å‰é¢çš„mergeæ­¥éª¤ç£ç›˜ï¼Œå°±åˆ°å†…å­˜ã€‚ å”¯ä¸€ç´¢å¼•ç”¨ä¸ä¸Šchange buffer<br><br>3. å†…å­˜è¢«æ·˜æ±°","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543891800,"ip_address":"","comment_id":46205,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543884651","product_id":100020801,"comment_content":"æœ‰å‡ ä¸ªé—®é¢˜1 redo logé‡Œé¢å­˜å“ªå‡ ç§ä¿¡æ¯ï¼Œæœ‰insert,update,delete,è¿˜æœ‰change bufferä¿¡æ¯ï¼Œåœç”µä¹‹åæ²¡æœ‰purgeçš„change bufferæ¢å¤å°±æ˜¯ä»redo logæ¢å¤çš„ï¼Ÿ2 åº”ç”¨change bufferçš„åœºæ™¯ï¼Œæ˜¯ä¸æ˜¯ä¸€èˆ¬çš„insert,update,deleteéƒ½ä¼šå…ˆå†™å…¥change bufferï¼Œå†purgeåˆ°ç¡¬ç›˜ï¼Ÿé™¤äº†è¯´çš„å”¯ä¸€ç´¢å¼•ï¼Œå†…å­˜æœ‰pageçš„åœºæ™¯ï¼Ÿ3 pageåœ¨å†…å­˜ä¸­ä¸ä¼šä¸€ç›´å­˜åœ¨ï¼Œä¸€ä¸ªpageåŸæ¥åœ¨å†…å­˜ä¸­ï¼Œä»€ä¹ˆæ—¶å€™ä¼šæ‰¾ä¸åˆ°äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431374,"discussion_content":"1. æ˜¯çš„\n\n2. å‰é¢çš„mergeæ­¥éª¤ç£ç›˜ï¼Œå°±åˆ°å†…å­˜ã€‚ å”¯ä¸€ç´¢å¼•ç”¨ä¸ä¸Šchange buffer\n\n3. å†…å­˜è¢«æ·˜æ±°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543891800,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46204,"user_name":"Linuxer","can_delete":false,"product_type":"c1","uid":1153978,"ip_address":"","ucode":"272D9D8089C3D6","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg","comment_is_top":false,"comment_ctime":1543884624,"is_pvip":false,"replies":[{"id":"16554","content":"å½“ä½œæ•°æ®å­˜èµ·æ¥ã€‚<br><br>è¿™ä¸ªæ˜¯ä¸“é—¨æ”¾åœ¨ç³»ç»Ÿè¡¨ç©ºé—´ï¼Œå¾ˆå®¹æ˜“â€œæ‰¾â€çš„ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543891914,"ip_address":"","comment_id":46204,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543884624","product_id":100020801,"comment_content":"è¯·é—®ä¸ºä»€ä¹ˆchangebufferè¦åŒæ—¶å†™ç³»ç»Ÿè¡¨ç©ºé—´å’Œredologï¼Œæ¢å¤æ—¶å¦‚ä½•å¿«é€Ÿå®šä½æœªpurgeçš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431373,"discussion_content":"å½“ä½œæ•°æ®å­˜èµ·æ¥ã€‚\n\nè¿™ä¸ªæ˜¯ä¸“é—¨æ”¾åœ¨ç³»ç»Ÿè¡¨ç©ºé—´ï¼Œå¾ˆå®¹æ˜“â€œæ‰¾â€çš„ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543891914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46182,"user_name":"æ˜¯æˆ‘çš„æµ·","can_delete":false,"product_type":"c1","uid":1197457,"ip_address":"","ucode":"4BCE240829676A","user_header":"https://static001.geekbang.org/account/avatar/00/12/45/91/afda3094.jpg","comment_is_top":false,"comment_ctime":1543881689,"is_pvip":false,"replies":[{"id":"16558","content":"äºŒçº§ç´¢å¼•ç›¸å…³çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543892117,"ip_address":"","comment_id":46182,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543881689","product_id":100020801,"comment_content":"è€å¸ˆæœ‰ç‚¹æ²¡ç†è§£insert buffer å¾—ä½œç”¨ï¼šå½“æ’å…¥ä¸€æ¡æ•°æ®çš„æ—¶å€™ï¼Œæ˜¯å°†æ•´æ¡è®°å½•éƒ½æ”¾åœ¨é‚£ä¸ªbufferä¸­ï¼Œè¿˜æ˜¯è¯´åªæ˜¯äºŒçº§ç´¢å¼•é¡µç›¸å…³çš„å†…å®¹æ”¾å…¥insert  bufferä¸­ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431363,"discussion_content":"äºŒçº§ç´¢å¼•ç›¸å…³çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543892117,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46180,"user_name":"dancer","can_delete":false,"product_type":"c1","uid":1019036,"ip_address":"","ucode":"B8D5641A3AC490","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/9c/d48473ab.jpg","comment_is_top":false,"comment_ctime":1543881439,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543881439","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå‰é¢è®²çš„redo logå’Œchange bufferéƒ½æœ‰æŠŠæ›´æ–°è½ç›˜çš„åŠŸèƒ½ï¼Œè¯·é—®è¿™ä¸¤ç§æ›´æ–°è½ç›˜æ€ä¹ˆä¿è¯äº’ä¸å½±å“å‘¢ï¼Ÿæˆ–è€…è¯´å…¶ä¸­ä¸€ç§å·²ç»æŠŠæ›´æ–°å†™ç›˜äº†ï¼Œé‚£å¦ä¸€ç§åç»­æ€ä¹ˆé¿å…é‡å¤å†å†™ä¸€æ¬¡ï¼Ÿ","like_count":0},{"had_liked":false,"id":46138,"user_name":"J!","can_delete":false,"product_type":"c1","uid":1305003,"ip_address":"","ucode":"71C946119B59D1","user_header":"https://static001.geekbang.org/account/avatar/00/13/e9/ab/37903736.jpg","comment_is_top":false,"comment_ctime":1543852324,"is_pvip":false,"replies":[{"id":"16530","content":"â€œæ’å…¥ä¸€è¡Œå¸¦å”¯ä¸€é”®çš„æ•°æ®â€è¿˜æ˜¯å¯èƒ½æœ‰æ”¶ç›Šçš„ã€‚å”¯ä¸€é”®é‚£ä¸ªç´¢å¼•æ²¡æœ‰ï¼Œä½†æ˜¯æ™®é€šç´¢å¼•æœ‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543887885,"ip_address":"","comment_id":46138,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543852324","product_id":100020801,"comment_content":"åŒä¸€ä¸ªè¡¨çš„ä¸åŒçš„äºŒçº§æ™®é€šç´¢å¼•éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„b+æ ‘ç»“æ„ï¼Œæ’å…¥ä¸€è¡Œå¸¦å”¯ä¸€é”®çš„æ•°æ®å…¶å®ä¸ä¼šäºŒçº§ç´¢å¼•change bufferå¸¦æ¥çš„æ”¶ç›Šï¼Œchange buffer purge åŸºäºå“ªä¸ªçº¬åº¦çš„å‘¢? è¿˜æ˜¯ä¸åŒäºŒçº§ç´¢å¼•äº’ä¸å½±å“ æ— å…³è”","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431353,"discussion_content":"â€œæ’å…¥ä¸€è¡Œå¸¦å”¯ä¸€é”®çš„æ•°æ®â€è¿˜æ˜¯å¯èƒ½æœ‰æ”¶ç›Šçš„ã€‚å”¯ä¸€é”®é‚£ä¸ªç´¢å¼•æ²¡æœ‰ï¼Œä½†æ˜¯æ™®é€šç´¢å¼•æœ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543887885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46113,"user_name":"KnightÂ²ÂºÂ¹â¸","can_delete":false,"product_type":"c1","uid":1089754,"ip_address":"","ucode":"BDCB830B6A730F","user_header":"https://static001.geekbang.org/account/avatar/00/10/a0/da/4f50f1b2.jpg","comment_is_top":false,"comment_ctime":1543849004,"is_pvip":false,"replies":[{"id":"16515","content":"Purgeå°±æ˜¯æŠŠchange buffer åº”ç”¨åˆ°å†å²ç‰ˆæœ¬çš„æ•°æ®ä¸Šï¼Œå¾—åˆ°æ–°ç‰ˆæœ¬çš„è¿‡ç¨‹","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543886986,"ip_address":"","comment_id":46113,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543849004","product_id":100020801,"comment_content":"purge ä»€ä¹ˆï¼Ÿ purge çš„è¿‡ç¨‹æ˜¯æ€ä¹ˆæ ·çš„, éƒ½æ¶‰åŠå“ªäº›æ“ä½œï¼Ÿè¿™éƒ¨åˆ†ä¸å¤ªäº†è§£ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431340,"discussion_content":"Purgeå°±æ˜¯æŠŠchange buffer åº”ç”¨åˆ°å†å²ç‰ˆæœ¬çš„æ•°æ®ä¸Šï¼Œå¾—åˆ°æ–°ç‰ˆæœ¬çš„è¿‡ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543886986,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46090,"user_name":"å¯å‡¡ä¸å‡¡","can_delete":false,"product_type":"c1","uid":1296289,"ip_address":"","ucode":"9D42D6C5274D48","user_header":"https://static001.geekbang.org/account/avatar/00/13/c7/a1/273bff58.jpg","comment_is_top":false,"comment_ctime":1543844356,"is_pvip":false,"replies":[{"id":"16481","content":"è¿™ä¸ªè¯é¢˜å¾ˆå¤§â€¦ æˆ‘åœ¨ã€ŠMySQLé‡Œæœ‰å“ªäº›â€œé¥®é¸©æ­¢æ¸´â€çš„ä¼˜åŒ–æ–¹æ³•ã€‹é‡Œé¢ä¼šè¯´","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543846836,"ip_address":"","comment_id":46090,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543844356","product_id":100020801,"comment_content":"lvanè¯´çš„è½ç›˜å’Œç»„æäº¤ è¿˜æœ‰ä¸Šç¯‡æ–‡ç« è¯„è®ºé‡Œè¯´è¿‡çš„double write è€å¸ˆå¯ä»¥åœ¨å»¶ä¼¸ä¸€ä¸‹å—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431332,"discussion_content":"è¿™ä¸ªè¯é¢˜å¾ˆå¤§â€¦ æˆ‘åœ¨ã€ŠMySQLé‡Œæœ‰å“ªäº›â€œé¥®é¸©æ­¢æ¸´â€çš„ä¼˜åŒ–æ–¹æ³•ã€‹é‡Œé¢ä¼šè¯´","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543846836,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46086,"user_name":"å¼ æ°¸å¿—","can_delete":false,"product_type":"c1","uid":1208727,"ip_address":"","ucode":"E54B75EF3F63B3","user_header":"https://static001.geekbang.org/account/avatar/00/12/71/97/f1a3d398.jpg","comment_is_top":false,"comment_ctime":1543843371,"is_pvip":false,"replies":[{"id":"16487","content":"å¯ä»¥å…ˆæŸ¥åæ”¹å‘€ï¼Œå°±çœ‹ä¸šåŠ¡æ„¿ä¸æ„¿æ„â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543847015,"ip_address":"","comment_id":46086,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543843371","product_id":100020801,"comment_content":"è€å¸ˆä¸€ç›´åœ¨è¯´åœ¨åº”ç”¨ä¿è¯å”¯ä¸€æ€§çš„æƒ…å†µä¸‹ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬éƒ½çŸ¥é“æ•°æ®åº“é€šè¿‡è¡Œçº§é”æ¥ç¡®ä¿å”¯ä¸€æ€§çš„ï¼Œå¦‚æœåº”ç”¨ä¸åŠ é”ï¼Œé‚£åˆå¦‚ä½•æœ‰æ•ˆä¿è¯å”¯ä¸€å‘¢ï¼Ÿè¯·æŒ‡æ•™ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431331,"discussion_content":"å¯ä»¥å…ˆæŸ¥åæ”¹å‘€ï¼Œå°±çœ‹ä¸šåŠ¡æ„¿ä¸æ„¿æ„â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543847015,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46075,"user_name":"å°ç½—å¸Œå†€","can_delete":false,"product_type":"c1","uid":1311995,"ip_address":"","ucode":"88416458FF0041","user_header":"https://static001.geekbang.org/account/avatar/00/14/04/fb/40f298bb.jpg","comment_is_top":false,"comment_ctime":1543842110,"is_pvip":false,"replies":[{"id":"16483","content":"è·Ÿ æ•°æ®é¡µçš„æŒä¹…åŒ–ç­–ç•¥ä¸€æ ·ï¼Œå‚è€ƒ02ç¯‡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543846923,"ip_address":"","comment_id":46075,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543842110","product_id":100020801,"comment_content":"è€å¸ˆåŸè¯ -- â€œchange bufferï¼Œå®é™…ä¸Šå®ƒæ˜¯å¯ä»¥æŒä¹…åŒ–çš„æ•°æ®ã€‚â€<br>å¦‚æœåœ¨æ‰§è¡Œä¸€æ¡UpdateSQLçš„æ—¶å€™ï¼Œchange bufferåº”è¯¥æ˜¯ä¼šæŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œä½†æ˜¯æŒä¹…åŒ–çš„ç­–ç•¥ä¸å¤ªæ¸…æ¥šï¼Œå¯èƒ½ä¼šåƒRedisçš„RDBæŒä¹…åŒ–æ–¹æ¡ˆä¸€æ ·ï¼Œç¬¦åˆä¸€å®šæ¡ä»¶å°±è§¦å‘æŒä¹…åŒ–æ“ä½œï¼Œåˆæˆ–è€…ç±»ä¼¼AOFæŒä¹…åŒ–æ–¹å¼ä¸€æ ·ï¼Œæ¯æ¬¡å†™å…¥change bufferéƒ½ä¼šæŒä¹…åŒ–ï¼Œæˆ‘æƒ³MySQLä¹Ÿä¼šæä¾›å‚æ•°ï¼Œè°ƒèŠ‚æŒä¹…åŒ–çš„ç­–ç•¥<br>å¦‚æœupdateçš„æ—¶å€™çªç„¶æ–­ç”µï¼Œchange bufferè¿˜æ²¡æœ‰å†™å…¥ï¼Œåº”è¯¥ç®—æ˜¯äº‹åŠ¡æ²¡æœ‰å®Œæˆå§ï¼Œæ‰€ä»¥äº‹åŠ¡ä¼šå›æ»šï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431326,"discussion_content":"è·Ÿ æ•°æ®é¡µçš„æŒä¹…åŒ–ç­–ç•¥ä¸€æ ·ï¼Œå‚è€ƒ02ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543846923,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46056,"user_name":"å¯å‡¡ä¸å‡¡","can_delete":false,"product_type":"c1","uid":1296289,"ip_address":"","ucode":"9D42D6C5274D48","user_header":"https://static001.geekbang.org/account/avatar/00/13/c7/a1/273bff58.jpg","comment_is_top":false,"comment_ctime":1543839880,"is_pvip":false,"replies":[{"id":"16486","content":"ä¸ä¸€æ ·çš„ä¸œè¥¿å“¦ï¼Œä½ çœ‹å›¾é‡Œé¢æ ‡äº†æè¿°","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543846983,"ip_address":"","comment_id":46056,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543839880","product_id":100020801,"comment_content":"è€å¸ˆ ä¸ºå•¥ç³»ç»Ÿè¡¨ç©ºé—´å’Œæ•°æ®è¡¨ç©ºé—´å„å­˜äº†ä¸€ä»½å•Š","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431319,"discussion_content":"ä¸ä¸€æ ·çš„ä¸œè¥¿å“¦ï¼Œä½ çœ‹å›¾é‡Œé¢æ ‡äº†æè¿°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543846983,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46054,"user_name":"å¯å‡¡ä¸å‡¡","can_delete":false,"product_type":"c1","uid":1296289,"ip_address":"","ucode":"9D42D6C5274D48","user_header":"https://static001.geekbang.org/account/avatar/00/13/c7/a1/273bff58.jpg","comment_is_top":false,"comment_ctime":1543839789,"is_pvip":false,"replies":[{"id":"16478","content":"å°±æ˜¯æŒä¹…åŒ–å‘€ï¼Œå´©æºƒæ¢å¤å›æ¥è¿˜èƒ½ç”¨","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543846213,"ip_address":"","comment_id":46054,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543839789","product_id":100020801,"comment_content":"è€å¸ˆ å†™åˆ°ç³»ç»Ÿè¡¨ç©ºé—´æ˜¯å¹²å•¥ç”¨çš„","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431317,"discussion_content":"å°±æ˜¯æŒä¹…åŒ–å‘€ï¼Œå´©æºƒæ¢å¤å›æ¥è¿˜èƒ½ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543846213,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46050,"user_name":"é«˜åŸ","can_delete":false,"product_type":"c1","uid":1315634,"ip_address":"","ucode":"9E0C2EE595D0F0","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/32/4cfd28df.jpg","comment_is_top":false,"comment_ctime":1543839237,"is_pvip":true,"replies":[{"id":"16479","content":"æˆ‘å¤§æ¦‚ç†è§£ä½ çš„æ„æ€äº†ã€‚<br><br>å¦‚æœæ²¡æœ‰purge,ç£ç›˜ä¸Šçš„page 2ä¸ä¼šå˜çš„ï¼Œredologæ²¡å¸®ä»–åšæ›´æ–°ã€‚<br><br>åªæœ‰purge æ‰ä¼šè§¦å‘æ›´æ–°æ•°æ®ï¼Œå¾—åˆ°æ–°çš„page 2","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543846441,"ip_address":"","comment_id":46050,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543839237","product_id":100020801,"comment_content":"ChangeBufferå°±æ˜¯å¯¹ã€Šæ—¥å¿—ç³»ç»Ÿï¼šä¸€æ¡ SQL æ›´æ–°è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Ÿã€‹ä¸­ update è¯­å¥æ‰§è¡Œæµç¨‹è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚æ›´æ–°æ­¥éª¤ï¼šå…ˆæ›´æ–°å†…å­˜ï¼Œå†é€šè¿‡redo logæ›´æ–°ç£ç›˜ã€‚<br>è€ŒChange Bufferçš„å¼•å…¥ä½¿å¾—æ›´æ–°å†…å­˜éƒ½æ˜¯æŒ‰éœ€æ›´æ–°ï¼Œåªæœ‰åœ¨éœ€è¦è¯»çš„æ—¶å€™æ‰æ›´æ–°ã€‚ å¦‚æœè¿™æ ·ç†è§£å¯¹çš„è¯ï¼Œå°±æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåœ¨purgeä¹‹å‰ï¼Œredo logæ‰§è¡Œäº†ç£ç›˜å†™ï¼Œé‚£change bufferé‡Œçš„æ“ä½œæ˜¯ä¸æ˜¯å°±æœ‰å†²çªæ€ä¹ˆè®©å¤±æ•ˆå‘¢ï¼Ÿ<br>2018-12-03<br>î˜ˆ ä½œè€…å›å¤<br>å‰é¢è¯´çš„å¯¹ï¼Œæœ€åä¸€å¥è¯é—®é¢˜æ²¡ç†è§£â€¦ ä½ å†å‘é‡å‘ä¸€ä¸‹é—®é¢˜ğŸ˜“<br>---------------------------------------------------------<br>é—®é¢˜ï¼šç°åœ¨ä¸€ä¸ªæ‰§è¡Œæµç¨‹æ˜¯ï¼Œæ“ä½œå†™å…¥change buffer, å†™å…¥redo log commit. ä½†è¿™ä¸ªæ—¶å€™åº”è¯¥æ²¡æœ‰purge,ä¹Ÿæ²¡æœ‰é€šè¿‡redo logå†™å…¥ç£ç›˜ã€‚ Purge æ˜¯åœ¨æœ‰çš„æŸ¥è¯¢æ“ä½œçš„æ—¶å€™å‘ç”Ÿï¼ˆä¸è€ƒè™‘ç³»ç»Ÿè‡ªåŠ¨purgeï¼‰ï¼Œé‚£è¿‡æ®µæ—¶é—´åº”è¯¥ä¼šé€šè¿‡redo logæ›´æ–°åˆ°ç£ç›˜ã€‚<br>æˆ‘çš„é—®é¢˜å°±æ˜¯é€šè¿‡redo logæ›´æ–°åˆ°ç£ç›˜çš„æ—¶å€™ï¼Œå¦‚æœè¿˜æ²¡æœ‰å‘ç”Ÿpurgeæ“ä½œï¼Œé‚£å¦‚æœå†æ¬¡è¯»è§¦å‘Purgeä»ç£ç›˜è¯»ï¼ˆç£ç›˜å·²ç»æ˜¯redo logæ›´æ–°åçš„æ•°æ®äº†), æ‰€ä»¥è¿™ä¸ªåœ°æ–¹æ˜¯é€šè¿‡ä»€ä¹ˆæœºåˆ¶ç¡®ä¿æ²¡æœ‰å†²çªçš„ï¼Ÿ è°¢è°¢ï¼Œè€å¸ˆè®²çš„å¾ˆå¥½ï¼Œä¸çŸ¥é“æˆ‘è¯´æ˜ç™½æ²¡æœ‰ï¼Ÿ ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431316,"discussion_content":"æˆ‘å¤§æ¦‚ç†è§£ä½ çš„æ„æ€äº†ã€‚\n\nå¦‚æœæ²¡æœ‰purge,ç£ç›˜ä¸Šçš„page 2ä¸ä¼šå˜çš„ï¼Œredologæ²¡å¸®ä»–åšæ›´æ–°ã€‚\n\nåªæœ‰purge æ‰ä¼šè§¦å‘æ›´æ–°æ•°æ®ï¼Œå¾—åˆ°æ–°çš„page 2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543846441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46026,"user_name":"xumc","can_delete":false,"product_type":"c1","uid":1033274,"ip_address":"","ucode":"22D24AF9D52B65","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c4/3a/77bbc665.jpg","comment_is_top":false,"comment_ctime":1543835931,"is_pvip":false,"replies":[{"id":"16474","content":"è¦çœ‹ä½ çš„å”¯ä¸€ä¸»é”®æ€ä¹ˆæ¥çš„ã€‚æ¯”å¦‚æœ‰ä¸€ä¸ªå”¯ä¸€ä¸»é”®çš„å…¨å±€äº§ç”Ÿå™¨â€¦","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543845857,"ip_address":"","comment_id":46026,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543835931","product_id":100020801,"comment_content":"è€å¸ˆ<br>ä¸šåŠ¡è¦æ±‚æ•°æ®åº“ä¸­æŸä¸ªå­—æ®µæ˜¯å”¯ä¸€çš„ï¼Œå½“è¯·æ±‚å¹¶å‘çš„æ—¶å€™ï¼Œé™¤äº†åœ¨æ•°æ®åº“å±‚å—è®¾ç½®æˆå”¯ä¸€ç´¢å¼•ï¼Œè¿˜æœ‰åˆ«çš„åŠæ³•å—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431309,"discussion_content":"è¦çœ‹ä½ çš„å”¯ä¸€ä¸»é”®æ€ä¹ˆæ¥çš„ã€‚æ¯”å¦‚æœ‰ä¸€ä¸ªå”¯ä¸€ä¸»é”®çš„å…¨å±€äº§ç”Ÿå™¨â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543845857,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":46012,"user_name":"â˜","can_delete":false,"product_type":"c1","uid":1302793,"ip_address":"","ucode":"6FAEF05F234D2A","user_header":"https://static001.geekbang.org/account/avatar/00/13/e1/09/9483f537.jpg","comment_is_top":false,"comment_ctime":1543832828,"is_pvip":false,"replies":[{"id":"16472","content":"å…¶å®æ˜¯æ¢å¤change hufferçš„å†…å®¹ï¼Œä½†æ˜¯ä¸æ€•ä¸¢å¤±ï¼Œå› ä¸ºchange bufferä¹Ÿç¡®ä¿ä¸ä¼šä¸¢å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543845362,"ip_address":"","comment_id":46012,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543832828","product_id":100020801,"comment_content":"è€å¸ˆè¯·é—®ä¸‹ï¼š<br>        æ›´æ–°å†™å…¥change bufferæ—¶redo logè®°å½•çš„åˆ°åº•æ˜¯æ•°æ®æœ€åå˜æ›´è¿˜æ˜¯change bufferå˜æ›´<br>æ¢å¥è¯è¯´ï¼Œåœ¨change bufferè¿˜æ²¡æœ‰è¿›è¡Œpurgeæ“ä½œæ—¶å®•æœºï¼Œé€šè¿‡redoæ˜¯æ¢å¤change bufferä¸­å†…å®¹ï¼Œæœ€åé…åˆåŸæ•°æ®é¡µçš„åˆ°æœ€åè®°å½•ï¼Œè¿˜æ˜¯ç›´æ¥é€šè¿‡redoæ¢å¤purgeåçš„æœ€åè®°å½•ã€‚<br>       é’ˆå¯¹ä¸Šé¢ä¸¤ç§æƒ…å†µæœ‰ä¸¤ä¸ªé—®é¢˜<br>       1ã€å¦‚æœæ¢å¤çš„æ˜¯change buffer purgeåçš„è®°å½•ï¼Œé‚£ä¹ˆchange bufferä¸¢å¤±ä¸ä¼šæœ‰ä»€ä¹ˆå½±å“å•Š<br>       2ã€å¦‚æœæ¢å¤çš„æ˜¯change bufferçš„å†…å®¹ï¼Œé‚£ä¹ˆpurgeå¦‚æœä¸å†è®°redoï¼Œä¸€æ—¦purgeå®Œï¼Œè„é¡µè¿˜æ²¡å†™ç›˜å°±å®•æœºäº†ï¼Œå†æ¢å¤çš„æ—¶å€™è¿˜æ˜¯åªèƒ½æ¢å¤purge å‰çš„change bufferå†…å®¹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431303,"discussion_content":"å…¶å®æ˜¯æ¢å¤change hufferçš„å†…å®¹ï¼Œä½†æ˜¯ä¸æ€•ä¸¢å¤±ï¼Œå› ä¸ºchange bufferä¹Ÿç¡®ä¿ä¸ä¼šä¸¢å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543845362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45993,"user_name":"Tony Du","can_delete":false,"product_type":"c1","uid":1001661,"ip_address":"","ucode":"F5FCC400E615EA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/48/bd/6c7d4230.jpg","comment_is_top":false,"comment_ctime":1543829168,"is_pvip":false,"replies":[{"id":"16471","content":"æ˜¯çš„ï¼Œå´©æºƒæ¢å¤å…¶å®å°±æ˜¯æ¢å¤ç°åœºï¼Œé™¤äº†è¯»è¯·æ±‚ç•™åœ¨ç³»ç»Ÿçš„å¹²å‡€é¡µä»¥å¤–","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543845271,"ip_address":"","comment_id":45993,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543829168","product_id":100020801,"comment_content":"å¯¹æ€è€ƒé¢˜çš„æƒ³æ³•ï¼Œ<br>æœºå™¨æ‰ç”µçš„æ—¶å€™ change bufferæ˜¯ä¼šä¸¢å¤±çš„ï¼Œä½†æ˜¯æ•°æ®æ˜¯ä¸ä¼šä¸¢çš„ï¼Œå› ä¸ºæœ‰å†™redo logï¼Œåªæœ‰å½“redo logå†™å®Œä¹‹åï¼Œtransactionæ‰ä¼šæäº¤ã€‚<br><br>å¦å¤–ï¼Œåœ¨æ¢å¤redo logçš„æ—¶å€™ï¼ˆæ¯”å¦‚æ•°æ®æ‰ç”µååº“é‡å¯ï¼‰ï¼Œä»¥æ–‡ä¸­å›¾2ä¸ºä¾‹å­ï¼Œå¯¹äºç¬¬3å’Œç¬¬4æ­¥ï¼Œæ˜¯ä¸æ˜¯åœ¨applyç¬¬3æ­¥çš„æ—¶å€™ï¼ŒåŒæ—¶ä¹ŸæŠŠpage1 loadåˆ°å†…å­˜ï¼›åœ¨applyç¬¬4æ­¥çš„æ—¶å€™ï¼Œä¹Ÿåœ¨change bufferé‡Œåš â€œadd<br> (id2, k2) to Page2â€è¿™ä¸ªåŠ¨ä½œï¼Œä¹Ÿå°±æ˜¯æ¢å¤æˆå›¾2ä¸­ InnoDB buffer poolé‡Œçš„æ ·å­ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431298,"discussion_content":"æ˜¯çš„ï¼Œå´©æºƒæ¢å¤å…¶å®å°±æ˜¯æ¢å¤ç°åœºï¼Œé™¤äº†è¯»è¯·æ±‚ç•™åœ¨ç³»ç»Ÿçš„å¹²å‡€é¡µä»¥å¤–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543845271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45978,"user_name":"melon","can_delete":false,"product_type":"c1","uid":1023773,"ip_address":"","ucode":"7A80C20EBCAAA4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9f/1d/ec173090.jpg","comment_is_top":false,"comment_ctime":1543827154,"is_pvip":false,"replies":[{"id":"16469","content":"Change bufferçš„å†™ç›˜æœºåˆ¶è·Ÿæ•°æ®ç±»ä¼¼ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹03ç¯‡<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543845131,"ip_address":"","comment_id":45978,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543827154","product_id":100020801,"comment_content":"è€å¸ˆï¼Œchange buffer ä»€ä¹ˆæ—¶å€™ä¼šå†™å…¥ç³»ç»Ÿè¡¨ç©ºé—´ä¸­å‘¢ï¼Ÿæ˜¯åœ¨è¶…å‡º innodb_change_buffer_max_size è®¾å®šçš„æ—¶å€™å—ï¼Ÿå¦‚æœ change buffer å†™å…¥åˆ°äº†ç³»ç»Ÿè¡¨ç©ºé—´ï¼Œpurge çš„æ—¶å€™ä¼šå¸¦æ¥æ€æ ·çš„å½±å“ï¼Ÿè¿™å—çš„æœºç†èƒ½ç»™ä»‹ç»ä¸€ä¸‹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431294,"discussion_content":"Change bufferçš„å†™ç›˜æœºåˆ¶è·Ÿæ•°æ®ç±»ä¼¼ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹03ç¯‡\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543845131,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45973,"user_name":"è½å¶é£é€çš„æ‹","can_delete":false,"product_type":"c1","uid":1046429,"ip_address":"","ucode":"F9A95DB28BCF1E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f7/9d/be04b331.jpg","comment_is_top":false,"comment_ctime":1543826910,"is_pvip":false,"replies":[{"id":"16431","content":"è·Ÿè¯¾åæ€è€ƒé¢˜æ˜¯ç›¸åŒé€»è¾‘ï¼Œçœ‹ä¸€ä¸‹å…¶å®ƒåŒå­¦çš„å›ç­”å“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543832277,"ip_address":"","comment_id":45973,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543826910","product_id":100020801,"comment_content":"åœ¨æ•°æ®åº“æ­£å¸¸å…³é—­ï¼ˆshutdownï¼‰çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿä¼šæ‰§è¡Œ purgeã€‚ä¹Ÿå°±æ˜¯purgeæ˜¯è®¾è®¡çš„å…œåº•æ“ä½œã€‚æœ‰ä¸ªé—®é¢˜å°±æ˜¯ï¼Œè¿™æ—¶å€™çš„purgeæœªæ“ä½œå®Œchange bufferé‡Œé¢çš„æ•°æ®ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿä¼šäº§ç”Ÿæ•°æ®ä¸¢å¤±ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431293,"discussion_content":"è·Ÿè¯¾åæ€è€ƒé¢˜æ˜¯ç›¸åŒé€»è¾‘ï¼Œçœ‹ä¸€ä¸‹å…¶å®ƒåŒå­¦çš„å›ç­”å“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543832277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45964,"user_name":"ç„¦é˜³","can_delete":false,"product_type":"c1","uid":1334043,"ip_address":"","ucode":"460C4FB9FDAD23","user_header":"https://static001.geekbang.org/account/avatar/00/14/5b/1b/2f783978.jpg","comment_is_top":false,"comment_ctime":1543825756,"is_pvip":false,"replies":[{"id":"16429","content":"æ’å…¥æ•°æ®ï¼Œæ— å…³æ²¡æœ‰ä¸»é”®å†²çªå°±æ’å…¥ï¼Œå¦‚æœæœ‰ï¼Œå°±å¯¹å†²çªçš„ç¬¬ä¸€è¡Œä¿®æ”¹å®ƒçš„TIDå€¼","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543832213,"ip_address":"","comment_id":45964,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543825756","product_id":100020801,"comment_content":"è¯·æ•™ä¸€ä¸ªé—®é¢˜<br>INSERT INTO .. ON DUPLICATE KEY UPDATE TID = 2,...<br>èƒ½è¯¦æƒ…è§£é‡Šä¸‹è¿™ä¸ªSQLçš„æ‰§è¡Œè¿‡ç¨‹å—","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431290,"discussion_content":"æ’å…¥æ•°æ®ï¼Œæ— å…³æ²¡æœ‰ä¸»é”®å†²çªå°±æ’å…¥ï¼Œå¦‚æœæœ‰ï¼Œå°±å¯¹å†²çªçš„ç¬¬ä¸€è¡Œä¿®æ”¹å®ƒçš„TIDå€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543832213,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45960,"user_name":"è·¯è¿‡","can_delete":false,"product_type":"c1","uid":1316401,"ip_address":"","ucode":"7152C19ED024CC","user_header":"https://static001.geekbang.org/account/avatar/00/14/16/31/ae8adf82.jpg","comment_is_top":false,"comment_ctime":1543825369,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543825369","product_id":100020801,"comment_content":"æ€è€ƒé¢˜ï¼šå†™å®Œchange bufferï¼Œåº”è¯¥è¿˜éœ€è¦æŠŠä¿®æ”¹æ“ä½œå†™å…¥redo logåäº‹åŠ¡æ‰ç®—å®Œæˆã€‚å¦åˆ™åº”è¯¥ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚","like_count":0},{"had_liked":false,"id":45956,"user_name":"å°å­¦ç”Ÿ","can_delete":false,"product_type":"c1","uid":1166994,"ip_address":"","ucode":"6EF88756389547","user_header":"https://static001.geekbang.org/account/avatar/00/11/ce/92/f53c41ee.jpg","comment_is_top":false,"comment_ctime":1543825118,"is_pvip":false,"replies":[{"id":"16428","content":"å…¶å®å°±æ˜¯è¦æœ‰å……åˆ†é¢„çƒ­ï¼Œè¿™ä¸ªè¯é¢˜æ¯”è¾ƒå¤§ï¼Œæˆ‘åœ¨åé¢çš„æ–‡ç« ä¸­ä¼šæåˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543832143,"ip_address":"","comment_id":45956,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1543825118","product_id":100020801,"comment_content":"è€å¸ˆï¼Œè¯·æ•™æ‚¨ä¸€ä¸ªé—®é¢˜ï¼š<br>æˆ‘æ˜¯åšæ€§èƒ½æµ‹è¯•çš„ï¼Œåœ¨è¿›è¡Œå‹æµ‹çš„æ—¶å€™ï¼Œæ•°æ®æµè½¬æ˜¯æŸ¥è¯¢Mysql,é‚£ä¹ˆæˆ‘åœ¨å‹æµ‹æœŸé—´ï¼Œéœ€è¦ç›‘æ§æ•°æ®åº“çš„å“ªäº›æŒ‡æ ‡å‘¢ï¼Ÿæˆ–è€…è¯´ å“ªäº›æŒ‡æ ‡æ‰èƒ½æ›´å¥½çš„åæ˜ å‡ºæ•°æ®åº“çš„æ€§èƒ½è¾¾åˆ°äº†ç“¶é¢ˆï¼Ÿæ³è¯·è€å¸ˆäºˆä»¥è§£ç­”ï¼Œéå¸¸æ„Ÿè°¢ï¼ï¼","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431287,"discussion_content":"å…¶å®å°±æ˜¯è¦æœ‰å……åˆ†é¢„çƒ­ï¼Œè¿™ä¸ªè¯é¢˜æ¯”è¾ƒå¤§ï¼Œæˆ‘åœ¨åé¢çš„æ–‡ç« ä¸­ä¼šæåˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543832143,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1911661,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLDOKcx20Xxmu5j8WxiafoYvo3bIAFDg8OeicRic1icD597QuMC9O8FyV2Al9RxNfVZXK0gkGUx6M3CVQ/132","nickname":"å¤šå¹´ä»¥å","note":"","ucode":"D70E7A1ABE0F39","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588152,"discussion_content":"é¢„çƒ­æ˜¯æŒ‡æå‰æŠŠæ•°æ®éƒ½åŠ è½½åˆ°buffer poolé‡Œé¢å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663576793,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"æ¹–åŒ—"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45938,"user_name":"ğŸ“†","can_delete":false,"product_type":"c1","uid":1219314,"ip_address":"","ucode":"1D0C14DB6F40C4","user_header":"https://static001.geekbang.org/account/avatar/00/12/9a/f2/64d1c380.jpg","comment_is_top":false,"comment_ctime":1543822834,"is_pvip":false,"replies":[{"id":"16426","content":"å¯¹ï¼Œç­‰éœ€è¦è®¿é—®çš„æ—¶å€™æ‰ä¼šå»ç£ç›˜è¯»ï¼Œ<br>Change buffer çš„æ”¶ç›Šå°±æ˜¯åœ¨â€œå†™å®Œä¸ä¼šé©¬ä¸Šå»è¯»â€è¿™ç§åœºæ™¯","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543832025,"ip_address":"","comment_id":45938,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543822834","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®ä¸ºä»€ä¹ˆchange bufferä¼šèŠ‚çœéšæœºè¯»ç£ç›˜çš„ioæ¶ˆè€—ï¼Ÿ<br>â€œè¦è¯» Page 2 çš„æ—¶å€™ï¼Œéœ€è¦æŠŠ Page 2 ä»ç£ç›˜è¯»å…¥å†…å­˜ä¸­â€<br>è¿™é‡Œåº”è¯¥ä¹Ÿæ˜¯ä¸€ä¸ªéšæœºè¯»ioå§ï¼Œå¥½åƒæ²¡æœ‰çœ‹åˆ°èŠ‚çœioå•Š<br>å¦å¤–è¿™ä¸ªè¯»æ“ä½œåº”è¯¥ä¹Ÿä¼šè§¦å‘ä¹‹åçš„åŸæ•°æ®é¡µpurgeå§","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431279,"discussion_content":"å¯¹ï¼Œç­‰éœ€è¦è®¿é—®çš„æ—¶å€™æ‰ä¼šå»ç£ç›˜è¯»ï¼Œ\nChange buffer çš„æ”¶ç›Šå°±æ˜¯åœ¨â€œå†™å®Œä¸ä¼šé©¬ä¸Šå»è¯»â€è¿™ç§åœºæ™¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543832025,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45916,"user_name":"ch","can_delete":false,"product_type":"c1","uid":1202826,"ip_address":"","ucode":"C5D6E901928CF7","user_header":"https://static001.geekbang.org/account/avatar/00/12/5a/8a/a0ed5f5c.jpg","comment_is_top":false,"comment_ctime":1543817681,"is_pvip":false,"replies":[{"id":"16400","content":"æœ€åä¸€å¥æ²¡å¯¹ï¼Œé‡è¯»å“ˆï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543821034,"ip_address":"","comment_id":45916,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543817681","product_id":100020801,"comment_content":"å¯¹äºæ’å…¥æ“ä½œæ¥è¯´æ˜¯å¦æœ‰change bufferéƒ½è¦å†™redo log, éƒ½æ˜¯é¡ºåºå†™å…¥ï¼Œå”¯ä¸€åŒºåˆ«æ˜¯æœ‰å¤šä¸ªæ’å…¥æ—¶change bufferä¼šç¼“å­˜ä¸€ä¸‹ï¼Œç„¶åå†ä¸€æ¬¡å†™å…¥åˆ°redo logä¸­ï¼Ÿ<br><br>â€œè€Œ change buffer ä¸»è¦èŠ‚çœçš„åˆ™æ˜¯éšæœºè¯»ç£ç›˜çš„IOæ¶ˆè€—â€ï¼Œè¿™ä¸ªä¸å¤ªç†è§£ï¼Œæ„Ÿè§‰æ˜¯èŠ‚çœäº†é¡ºåºå†™redo logçš„æ¬¡æ•°ï¼Œè¯»çš„è¯ï¼Œå°±ç®—æœ‰change bufferè¿˜æ˜¯è¦åˆ°ç£ç›˜å»åŠ è½½æ•°æ®åˆ°å†…å­˜çš„ã€‚<br>","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431267,"discussion_content":"æœ€åä¸€å¥æ²¡å¯¹ï¼Œé‡è¯»å“ˆï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543821034,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45910,"user_name":"ch","can_delete":false,"product_type":"o","uid":1202826,"ip_address":"","ucode":"C5D6E901928CF7","user_header":"https://static001.geekbang.org/account/avatar/00/12/5a/8a/a0ed5f5c.jpg","comment_is_top":false,"comment_ctime":1543816680,"is_pvip":false,"replies":[{"id":"16398","content":"1. å¯¹çš„<br>2. å¯¹ä¸€åŠå“ˆã€‚ ä½†æ˜¯change bufferæ˜¯é’ˆå¯¹æ•°æ®é¡µçš„ï¼Œæ‰€ä»¥ä¸€ä¸ªæ•°æ®é¡µä¸Šæ˜¯å¯èƒ½ä¼šå¯¹åº”æ˜¯ä¸ªchange buffer itemçš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543820901,"ip_address":"","comment_id":45910,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543816680","product_id":999999999,"comment_content":"ä¸¤ç‚¹æ€è€ƒï¼š<br>1. redo logæ˜¯å†™ç£ç›˜ï¼Œç›´æ¥å†™æ•°æ®åˆ°ç£ç›˜ä¹Ÿæ˜¯å†™ç£ç›˜ï¼Œè¿™2ä¸ªæ•ˆç‡ä¸ä¸€æ ·å°±æ˜¯å› ä¸ºredo logæ˜¯é¡ºåºå†™ï¼Œç›´æ¥å†™æ•°æ®åˆ°ç£ç›˜æ˜¯éšæœºå†™å—ï¼Ÿ<br>2. change bufferé‡Œé¢çš„å†…å®¹è¿˜æ²¡æœ‰å†™å…¥åˆ°redo logé‡Œé¢çš„æƒ…å†µä¸‹ï¼Œå†æ¥ä¸€ä¸ªæ›´æ–°æ“ä½œï¼Œä¼šä¸ä¼šæŠŠä¹‹å‰çš„è¦†ç›–æ‰ï¼Œè¿™ä¸ªæˆ‘è®¤ä¸ºä¸ä¼šï¼Œå› ä¸ºæ›´æ–°æ˜¯ç‹¬å é”ï¼ŒåŒä¸€æ¡è®°å½•åªæœ‰äº‹åŠ¡æäº¤åæ‰ä¼šé‡Šæ”¾é”ï¼Œæ‰€ä»¥æ›´æ–°æ˜¯ä¸²è¡Œçš„ï¼Œåªè¦äº‹åŠ¡æäº¤æ‰å°±ä¼šæŠŠchange bufferçš„å†…å®¹å†™å…¥åˆ°redo logä¸­ã€‚ä¸çŸ¥é“ç†è§£çš„æ˜¯å¦æ­£ç¡®ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431265,"discussion_content":"1. å¯¹çš„\n2. å¯¹ä¸€åŠå“ˆã€‚ ä½†æ˜¯change bufferæ˜¯é’ˆå¯¹æ•°æ®é¡µçš„ï¼Œæ‰€ä»¥ä¸€ä¸ªæ•°æ®é¡µä¸Šæ˜¯å¯èƒ½ä¼šå¯¹åº”æ˜¯ä¸ªchange buffer itemçš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543820901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45892,"user_name":"é«˜åŸ","can_delete":false,"product_type":"c1","uid":1315634,"ip_address":"","ucode":"9E0C2EE595D0F0","user_header":"https://static001.geekbang.org/account/avatar/00/14/13/32/4cfd28df.jpg","comment_is_top":false,"comment_ctime":1543813977,"is_pvip":true,"replies":[{"id":"16397","content":"å‰é¢è¯´çš„å¯¹ï¼Œæœ€åä¸€å¥è¯é—®é¢˜æ²¡ç†è§£â€¦ ä½ å†å‘é‡å‘ä¸€ä¸‹é—®é¢˜ğŸ˜“","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543820779,"ip_address":"","comment_id":45892,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543813977","product_id":100020801,"comment_content":"ChangeBufferå°±æ˜¯å¯¹ã€Šæ—¥å¿—ç³»ç»Ÿï¼šä¸€æ¡ SQL æ›´æ–°è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Ÿã€‹ä¸­ update è¯­å¥æ‰§è¡Œæµç¨‹è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚æ›´æ–°æ­¥éª¤ï¼šå…ˆæ›´æ–°å†…å­˜ï¼Œå†é€šè¿‡redo logæ›´æ–°ç£ç›˜ã€‚<br>è€ŒChange Bufferçš„å¼•å…¥ä½¿å¾—æ›´æ–°å†…å­˜éƒ½æ˜¯æŒ‰éœ€æ›´æ–°ï¼Œåªæœ‰åœ¨éœ€è¦è¯»çš„æ—¶å€™æ‰æ›´æ–°ã€‚ å¦‚æœè¿™æ ·ç†è§£å¯¹çš„è¯ï¼Œå°±æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåœ¨purgeä¹‹å‰ï¼Œredo logæ‰§è¡Œäº†ç£ç›˜å†™ï¼Œé‚£change bufferé‡Œçš„æ“ä½œæ˜¯ä¸æ˜¯å°±æœ‰å†²çªæ€ä¹ˆè®©å¤±æ•ˆå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431256,"discussion_content":"å‰é¢è¯´çš„å¯¹ï¼Œæœ€åä¸€å¥è¯é—®é¢˜æ²¡ç†è§£â€¦ ä½ å†å‘é‡å‘ä¸€ä¸‹é—®é¢˜ğŸ˜“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543820779,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45891,"user_name":"è ¢è ¢æ¬²åŠ¨çš„è…¹è‚Œ","can_delete":false,"product_type":"c1","uid":1007326,"ip_address":"","ucode":"B10550BF463017","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5e/de/4e7ec66d.jpg","comment_is_top":false,"comment_ctime":1543813849,"is_pvip":false,"replies":[{"id":"16399","content":"Commitå†™redologï¼Œéƒ½æ˜¯åœ¨äº‹åŠ¡æäº¤è¿‡ç¨‹æ˜¯çš„ã€‚<br><br>Purge æ˜¯ä»¥åæ‰å‘ç”Ÿçš„äº‹æƒ…äº†","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543820953,"ip_address":"","comment_id":45891,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543813849","product_id":100020801,"comment_content":"è€å¸ˆï¼Œä½ å¥½<br>æƒ³é—®ä¸‹purgeä¸redologçš„commitçš„å…³ç³»æˆ–è€…æ‰§è¡Œé¡ºåºæ˜¯æ€æ ·çš„ï¼Œæ„Ÿè§‰è¿™é‡Œæ¯”è¾ƒæ¨¡ç³Š","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431255,"discussion_content":"Commitå†™redologï¼Œéƒ½æ˜¯åœ¨äº‹åŠ¡æäº¤è¿‡ç¨‹æ˜¯çš„ã€‚\n\nPurge æ˜¯ä»¥åæ‰å‘ç”Ÿçš„äº‹æƒ…äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543820953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45880,"user_name":"å²æœˆå®‰ç„¶","can_delete":false,"product_type":"c1","uid":1258557,"ip_address":"","ucode":"4538C24B67B513","user_header":"https://static001.geekbang.org/account/avatar/00/13/34/3d/51762e76.jpg","comment_is_top":false,"comment_ctime":1543810082,"is_pvip":false,"replies":[{"id":"16402","content":"1. è·Ÿè¡¨æ•°æ®çš„æœºåˆ¶ä¸€æ ·<br>2. å¥½é—®é¢˜ï¼Œå†…å­˜ä¸å¤Ÿçš„æ—¶å€™ä¼šæ·˜æ±°çš„ï¼ˆè¿˜æ˜¯è·Ÿæ•°æ®çš„æœºåˆ¶ä¸€æ ·ï¼‰<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543821439,"ip_address":"","comment_id":45880,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543810082","product_id":100020801,"comment_content":"ä¹‹å‰ç¬¬äºŒç« è¯´redo-logæ˜¯ä¼˜å…ˆè®°å½•çš„ï¼Œæƒ³é—®ä¸‹<br>1ã€charge-bufferæ˜¯åœ¨ä»€ä¹ˆæ—¶å€™æŒä¹…åŒ–å†™å…¥ç³»ç»Ÿè¡¨ç©ºé—´çš„ï¼Ÿ<br>2ã€æ—¢ç„¶redo-logä¹Ÿè®°å½•äº†charge-bufferçš„æ“ä½œï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦å†™å…¥ç³»ç»Ÿè¡¨ç©ºé—´ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431251,"discussion_content":"1. è·Ÿè¡¨æ•°æ®çš„æœºåˆ¶ä¸€æ ·\n2. å¥½é—®é¢˜ï¼Œå†…å­˜ä¸å¤Ÿçš„æ—¶å€™ä¼šæ·˜æ±°çš„ï¼ˆè¿˜æ˜¯è·Ÿæ•°æ®çš„æœºåˆ¶ä¸€æ ·ï¼‰\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543821439,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45875,"user_name":"è‚–é¹","can_delete":false,"product_type":"c1","uid":1302602,"ip_address":"","ucode":"BE1B8BD7053B9A","user_header":"https://static001.geekbang.org/account/avatar/00/13/e0/4a/c0a3cb3f.jpg","comment_is_top":false,"comment_ctime":1543808514,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543808514","product_id":100020801,"comment_content":"æ•°æ®çš„æŒä¹…æ€§æ˜¯ç”±redoä¿è¯çš„ï¼Œæ–­ç”µåçš„æ¢å¤æ˜¯ç”±redoå’Œæ‰«æœ€è¿‘çš„binlogå®Œæˆçš„ã€‚å’Œchange bufferæ— å…³ã€‚å¦å¤–å”¯ä¸€ç´¢å¼•ä¼šæ˜¯é”å˜å¾—éå¸¸å¤æ‚å§ï¼Œä¼šæœ‰gap lockï¼Ÿ","like_count":0},{"had_liked":false,"id":45869,"user_name":"è€æ¨åŒå¿—","can_delete":false,"product_type":"c1","uid":1246199,"ip_address":"","ucode":"3F334F0CFD3DE6","user_header":"https://static001.geekbang.org/account/avatar/00/13/03/f7/3a493bec.jpg","comment_is_top":false,"comment_ctime":1543807207,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543807207","product_id":100020801,"comment_content":"é¦–å…ˆæ„Ÿè°¢ä¸€ä¸‹è€å¸ˆï¼Œè¿™é—¨è¯¾å¾ˆæœ‰æ”¶è·ã€‚è€å¸ˆå¾ˆå‹¤å¥‹ï¼Œç•™è¨€å›å¤ç‰¹åˆ«å¤šã€‚<br><br>è¯•ç€å›ç­”ä¸€ä¸‹æ€è€ƒé¢˜ï¼š<br><br>ç»“è®ºæ˜¯ï¼šchange buffer åœ¨æ–­ç”µåä¸ä¼šä¸¢å¤±ã€‚åŸå› è€å¸ˆåœ¨æ–‡ä¸­å·²ç»å†™äº†ã€‚å†™change bufferçš„åŠ¨ä½œä¹Ÿè¢«å†™å…¥äº†redo logï¼Œç³»ç»Ÿé‡æ–°å¯åŠ¨çš„æ—¶å€™æ‰§è¡Œredo logä¼šæ¢å¤æ–­ç”µå‰çš„change buffer<br>","like_count":0},{"had_liked":false,"id":45850,"user_name":"å¼ ç«‹æ˜¥","can_delete":false,"product_type":"c1","uid":1124382,"ip_address":"","ucode":"D8B4523B95D839","user_header":"https://static001.geekbang.org/account/avatar/00/11/28/1e/76e19bd3.jpg","comment_is_top":false,"comment_ctime":1543803365,"is_pvip":false,"replies":[{"id":"16379","content":"ä½ è¯´å¾—å¾ˆå¯¹ï¼Œå¦‚æœæ˜¯æœ‰å¯è§‚æµ‹æ•ˆæœçš„ï¼Œæˆ‘ä¼šå°½é‡æ”¾ä¾‹å­ï¼ˆå¤ç°æ­¥éª¤ï¼‰å“ˆ<br><br>æ¯”å¦‚æ€ä¹ˆå¤ç°é”ç­‰å¾…å•Šã€ä¼˜åŒ–å™¨å•Šè¿™äº›çš„ï¼Œ<br><br>ä»Šå¤©è¿™ä¼šè¯é¢˜æ¯”è¾ƒç‰¹æ®Šï¼Œä¹Ÿæ˜¯æˆ‘ç¡®å®æ²¡æœ‰æœ‰æ„è®¾è®¡ï¼Œåé¢ä¼šå°½é‡ç»™å‡ºå¤ç°æ­¥éª¤ã€‚ï¼ˆç±»ä¼¼08ç¯‡ï¼‰<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543806958,"ip_address":"","comment_id":45850,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543803365","product_id":100020801,"comment_content":"è€å¸ˆå¥½ï¼mysqlæ•°æ®åº“æ˜¯ç å†œæ— æ³•ç»•è¿‡çš„çŸ¥è¯†ï¼Œç¬¬ä¸€æ—¶é—´çœ‹åˆ°æœ‰è¿™ä¸ªè¯¾å°±å®šä¸‹äº†ï¼Œçœ‹åˆ°æœ‰ä¸¤ä¸‡å¤šäººè®¢è´­ï¼Œå°±çŸ¥é“æœ‰å¤šç«çˆ†äº†ã€‚å·²ç»è·Ÿå­¦å‡ èŠ‚è¯¾ï¼Œæ€»çš„æ„Ÿè§‰æ–¹å‘å’Œå†…å®¹éƒ½æŒºå¥½ï¼Œä½†æˆ‘è‡ªå·±æ„Ÿè§‰åœ¨ç»†èŠ‚å’Œå®Œå¤‡æ€§ä¸Šå¯ä»¥å†æ·±å…¥æ‰“ç£¨ä¸€ä¸‹ï¼Œä¹Ÿè®¸å’Œæˆ‘è‡ªèº«æ°´å¹³æœ‰å…³ã€‚æœ‰äº›çŸ¥è¯†å¦‚æœè§‰å¾—å¤ªå°å„¿ç§‘ï¼Œå¯ä»¥åªç»™å‡ºå‚è€ƒé“¾æ¥ï¼Œä½†æœ€å¥½ä¸è¦ç¼ºå¤±ã€‚<br>æ¯”å¦‚æœ¬æ¬¡è¯¾ï¼Œè®²è§£ä¸€èˆ¬ç´¢å¼•å’Œæ™®é€šç´¢å¼•ï¼Œåˆ—ä¸¾æŸ¥è¯¢å’Œæ›´æ–°ä¸¤ç§æ“ä½œçš„å·®å¼‚ã€‚åœ¨æŸ¥è¯¢ä¸Šï¼Œæˆ‘çš„ç–‘é—®æ˜¯table schemaæ˜¯ä»€ä¹ˆï¼Ÿå»ºè¡¨å»ºåº“å‚æ•°æ˜¯ä»€ä¹ˆï¼ŸtableåªåŒ…æ‹¬æ™®é€šç´¢å¼•æˆ–å”¯ä¸€ç´¢å¼•æˆ–ä¸¤è€…éƒ½æœ‰çš„æƒ…å†µä¸‹æ˜¯å¦æœ‰åŒºåˆ«ï¼Ÿæ˜¯å¦åªæ˜¯æ ¹æ®æŸ¥è¯¢æ‰€ä¾èµ–çš„æ¡ä»¶å­—æ®µï¼Ÿ<br>å…³äºæ›´æ–°ï¼Œæœ‰å¢åˆ æ”¹ä¸‰ç§æ“ä½œï¼Œæ‰€ä¸¾ä¾‹å­åªæœ‰å¢åŠ ï¼Œå…¶å®ƒä¸¤ç§æœ‰ä»€ä¹ˆå·®å¼‚ï¼Ÿå¦‚æœä¸¤ç§ç´¢å¼•éƒ½å­˜åœ¨è¡¨ä¸­æ˜¯å¦ä¸åŒï¼Ÿ<br>æˆ‘å»ºè®®æ¯æ¬¡è¯¾éƒ½æŠŠä¸Šä¸‹æ–‡ç¯å¢ƒå†™æ¸…æ¥šï¼šmysqlç‰ˆæœ¬&#47;å»ºè¡¨å»ºåº“å‘½ä»¤ï¼Ÿè¿æ¥å‚æ•°ï¼Ÿæ•°æ®åº“é…ç½®å‚æ•°ï¼Ÿç›®çš„æ˜¯å¤§å®¶èƒ½å¤Ÿæ ¹æ®è¿™ä¸ªè‡ªå·±åŠ¨æ‰‹é‡ç°å’Œå®é™…æ„Ÿå—æ‰€è®²çš„çŸ¥è¯†ï¼Œæˆ‘å»ºè®®ä½ å»ºç«‹ç›¸åº”çš„dockerå’Œgithubï¼ŒæŠŠç›¸å…³ç¯å¢ƒã€è„šæœ¬å’Œä»£ç æ”¾ä¸Šå»ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥è‡ªç”±ä¿®æ”¹å’Œå‘è¡¨æƒ³æ³•ã€‚talk is cheapï¼Œshow me codeã€‚çœ‹æ‡‚-ç†è§£-ä¼šç”¨-è§£å†³é—®é¢˜ï¼Œæ¯ä¸€æ­¥éƒ½æœ‰å¾ˆå¤§å·®å¼‚ï¼Œæˆ‘å¸Œæœ›å­¦äº†è¿™é—¨è¯¾å¯ä»¥çœŸæ­£ç”¨åœ¨å®é™…å·¥ä½œä¸­å»è§£å†³é—®é¢˜ã€‚<br>æˆ‘ç›¸ä¿¡è¿™é—¨è¯¾å®Œç»“ä¹‹æ—¶ï¼Œå¤§å®¶å—ç›ŠåŒªæµ…ï¼Œä½†å¯èƒ½ä½œè€…åœ¨è®¤çŸ¥&#47;çŸ¥è¯†ä¸Šçš„æ”¶ç›Šå´æ˜¯æœ€å¤§çš„ã€‚å› ä¸ºè‚©è´Ÿä¸¤ä¸‡å¤šäººçš„ä¿¡ä»»å’ŒæœŸæœ›ï¼Œè¿™ä»½å‹åŠ›å’ŒåŠ¨åŠ›å¯èƒ½æ˜¯ç»æ— ä»…æœ‰çš„ï¼Œå¯¹ä¸ªäººçš„é”»ç‚¼ä¹Ÿæ˜¯æ— æ³•ç”¨è¨€è¯­è¡¨è¾¾çš„ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431240,"discussion_content":"ä½ è¯´å¾—å¾ˆå¯¹ï¼Œå¦‚æœæ˜¯æœ‰å¯è§‚æµ‹æ•ˆæœçš„ï¼Œæˆ‘ä¼šå°½é‡æ”¾ä¾‹å­ï¼ˆå¤ç°æ­¥éª¤ï¼‰å“ˆ\n\næ¯”å¦‚æ€ä¹ˆå¤ç°é”ç­‰å¾…å•Šã€ä¼˜åŒ–å™¨å•Šè¿™äº›çš„ï¼Œ\n\nä»Šå¤©è¿™ä¼šè¯é¢˜æ¯”è¾ƒç‰¹æ®Šï¼Œä¹Ÿæ˜¯æˆ‘ç¡®å®æ²¡æœ‰æœ‰æ„è®¾è®¡ï¼Œåé¢ä¼šå°½é‡ç»™å‡ºå¤ç°æ­¥éª¤ã€‚ï¼ˆç±»ä¼¼08ç¯‡ï¼‰\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543806958,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45843,"user_name":"Sinyo","can_delete":false,"product_type":"c1","uid":1307297,"ip_address":"","ucode":"57B243E7AB86A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJAibnPX9jW8kqLcIfibjic8GbkQkEUYyFKJkc39hZhibVlNrqwTjdLozkqibI2IwACd5YzofYickNxFnZg/132","comment_is_top":false,"comment_ctime":1543802724,"is_pvip":false,"replies":[{"id":"16383","content":"çœ‹ä¸€ä¸‹02ç¯‡","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543807676,"ip_address":"","comment_id":45843,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543802724","product_id":100020801,"comment_content":"è€å¸ˆï¼Œå†…å­˜ä¸­çš„æ•°æ®ä¸æ˜¯ä¸€æ–­ç”µå°±éƒ½æ²¡äº†å—ï¼Ÿæ•°æ®åº“çš„æ›´æ–°æ’å…¥éƒ½æ˜¯å…ˆå­˜åœ¨å†…å­˜ä¸­ï¼Œå®ƒæ€ä¹ˆé¿å…è¿™ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431236,"discussion_content":"çœ‹ä¸€ä¸‹02ç¯‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543807676,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45841,"user_name":"echoï¼¿é™ˆ","can_delete":false,"product_type":"c1","uid":1080794,"ip_address":"","ucode":"EFAEADA8A05906","user_header":"https://static001.geekbang.org/account/avatar/00/10/7d/da/780f149e.jpg","comment_is_top":false,"comment_ctime":1543802536,"is_pvip":false,"replies":[{"id":"16382","content":"å—¯å—¯ï¼Œè¿™ä¸ªè®¨è®ºæˆ‘è¡¥å……åˆ°æ–‡æœ«äº†ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543807638,"ip_address":"","comment_id":45841,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543802536","product_id":100020801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæ®æˆ‘æ‰€çŸ¥ï¼Œä¸šåŠ¡ä»£ç æ²¡æœ‰åŠæ³•ä¿è¯æ•°æ®åº“è®°å½•çš„å”¯ä¸€æ€§ï¼š<br>æ¯”å¦‚ï¼Œå…ˆselectï¼Œæ²¡æœ‰å°±insertâ€¦â€¦ç»å¸¸å‡ºç°å¹¶å‘é€ æˆçš„insertäº†2æ¡â€¦â€¦é‡å¤æ•°æ®ã€‚å› æ­¤æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ï¼šç»™æ•°æ®åº“éœ€è¦å”¯ä¸€çš„å­—æ®µæ·»åŠ å”¯ä¸€ç´¢å¼•ã€‚é€šè¿‡keyå†²çªå¼‚å¸¸ä¿è¯ä¸šåŠ¡æ–¹å¹‚ç­‰","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431234,"discussion_content":"å—¯å—¯ï¼Œè¿™ä¸ªè®¨è®ºæˆ‘è¡¥å……åˆ°æ–‡æœ«äº†ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543807638,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45839,"user_name":"willmeng","can_delete":false,"product_type":"c1","uid":1157065,"ip_address":"","ucode":"37367A728ABF88","user_header":"https://static001.geekbang.org/account/avatar/00/11/a7/c9/67bd5906.jpg","comment_is_top":false,"comment_ctime":1543802353,"is_pvip":false,"replies":[{"id":"16385","content":"å—¯ï¼Œä½ ä»¬è¿™å·²ç»å®Œå…¨æ²¡æ‰“ç®—è€ƒè™‘æ€§èƒ½ï¼Œå°±æ˜¯ç”¨â€œçº¦æŸâ€åŠŸèƒ½äº†ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543808398,"ip_address":"","comment_id":45839,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543802353","product_id":100020801,"comment_content":"æˆ‘å‚å¯¹äºå”¯ä¸€ç´¢å¼•æœ‰ä¸ªå¸¸ç”¨çš„åº”ç”¨åœºæ™¯ã€‚ä¼šæŠŠå¤§é‡æ•°æ®loadåˆ°æ•°æ®åº“ï¼Œä½¿ç”¨replace intoï¼Œè¿™ä¸ªæ—¶å€™å”¯ä¸€ç´¢å¼•å°±æ˜¯æ¯”è¾ƒå¥½çš„é€‰æ‹©äº†ï¼Œå› ä¸ºæœ‰å¯èƒ½ä¼šé‡åšæ•°æ®ã€‚","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431232,"discussion_content":"å—¯ï¼Œä½ ä»¬è¿™å·²ç»å®Œå…¨æ²¡æ‰“ç®—è€ƒè™‘æ€§èƒ½ï¼Œå°±æ˜¯ç”¨â€œçº¦æŸâ€åŠŸèƒ½äº†ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543808398,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45836,"user_name":"å¸†å¸†å¸†å¸†å¸†å¸†å¸†å¸†","can_delete":false,"product_type":"c1","uid":1304645,"ip_address":"","ucode":"0CB732FFD07463","user_header":"https://static001.geekbang.org/account/avatar/00/13/e8/45/c58cb283.jpg","comment_is_top":false,"comment_ctime":1543802046,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543802046","product_id":100020801,"comment_content":"æœºå™¨æ‰ç”µçš„è¯ï¼Œä¸ä¼šå¯¼è‡´change bufferä¸¢å¤±ã€‚change bufferå’Œæ™®é€šçš„æ•°æ®é¡µæ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿä¼šæŒä¹…åŒ–å­˜å‚¨åˆ°ç£ç›˜ä¸Šï¼Œå¹¶ä¸”åŒæ ·é‡‡ç”¨å…ˆå†™redoçš„æ–¹å¼ä¿è¯æŒä¹…æ€§ã€‚å½“ç„¶ï¼Œå¦‚æœè®¾ç½®äº†innodb_flush_log_at_trx_commitä¸ºé1å€¼ï¼Œå’Œå†™æ™®é€šæ•°æ®é¡µä¸€æ ·ï¼Œæ˜¯å¯èƒ½ä¸¢å¤±æ•°æ®çš„ã€‚","like_count":0},{"had_liked":false,"id":45831,"user_name":"å¤§ç¥ä»™","can_delete":false,"product_type":"c1","uid":1151944,"ip_address":"","ucode":"8179D170A97936","user_header":"https://static001.geekbang.org/account/avatar/00/11/93/c8/9eb6c644.jpg","comment_is_top":false,"comment_ctime":1543801592,"is_pvip":false,"replies":[{"id":"16388","content":"åæ¥è·Ÿä¸šåŠ¡ç¡®è®¤ï¼Œä¸šåŠ¡å·²ç»åšäº†ä¿è¯ï¼Œä»–åˆæ”¹å›æ™®é€šç´¢å¼•äº†ğŸ˜„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543809501,"ip_address":"","comment_id":45831,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543801592","product_id":100020801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæ–‡ç« å†…å®¹é‡Œæ‚¨dbaåŒäº‹å°†æ™®é€šç´¢å¼•æ”¹ä¸ºå”¯ä¸€ç´¢å¼•å¯¼è‡´å†…å­˜å‘½ä¸­ç‡ä¸‹é™ï¼ˆä¸šåŠ¡éœ€æ±‚å¯¼è‡´ï¼‰; æœ‰ä»€ä¹ˆå¥½çš„åŠæ³•ä¼˜åŒ–ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431227,"discussion_content":"åæ¥è·Ÿä¸šåŠ¡ç¡®è®¤ï¼Œä¸šåŠ¡å·²ç»åšäº†ä¿è¯ï¼Œä»–åˆæ”¹å›æ™®é€šç´¢å¼•äº†ğŸ˜„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543809501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45824,"user_name":"è‘£èˆª","can_delete":false,"product_type":"c1","uid":1231787,"ip_address":"","ucode":"9CA208FD26F849","user_header":"https://static001.geekbang.org/account/avatar/00/12/cb/ab/1aac53bf.jpg","comment_is_top":false,"comment_ctime":1543800749,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1543800749","product_id":100020801,"comment_content":"å“ˆå“ˆï¼Œç»ˆäºæ˜ç™½äº†ç¬¬äºŒç« æˆ‘é—®çš„é—®é¢˜äº†ï¼ŒåŸæ¥æ˜¯change buffer","like_count":0},{"had_liked":false,"id":45804,"user_name":"ç–¾é£ç‹‚è‰","can_delete":false,"product_type":"c1","uid":1283489,"ip_address":"","ucode":"05F899725048BC","user_header":"","comment_is_top":false,"comment_ctime":1543798607,"is_pvip":false,"replies":[{"id":"16352","content":"å¥½é—®é¢˜ï¼Œæ˜¯çš„ã€‚<br><br>å¯¹äºWAL æœºåˆ¶æ¥è¯´ï¼Œchange bufferå°±æ˜¯æ•°æ®çš„ä¸€ç§ï¼Œåœ¨commitçš„æ—¶å€™å¤„ç†æœºåˆ¶æ˜¯å’Œæ•°æ®é¡µä¸€æ ·çš„","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543801253,"ip_address":"","comment_id":45804,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543798607","product_id":100020801,"comment_content":"å…ˆå›ç­”é—®é¢˜ï¼Œä»æ•°æ®å®Œæ•´æ€§æ¥çœ‹ï¼Œç£ç›˜ä¸­æ˜¯æœ‰åŸå§‹æ•°æ®çš„ï¼Œredologä¸­åˆæœ‰æ“ä½œè®°å½•ï¼Œå¹¶ä¸”æœ‰æäº¤çŠ¶æ€ï¼Œå¯ä»¥å†³å®šæ–­ç”µå‰çš„äº‹åŠ¡æ˜¯è¦æäº¤è¿˜æ˜¯å›æ»šã€‚æ‰€ä»¥æˆ‘è®¤ä¸ºchange bufferä¸­çš„æ•°æ®å®Œå…¨å¯ä»¥æ¢å¤å¹¶purgeã€‚<br>å†é—®ä¸ªé—®é¢˜ï¼šcommitå¯¹change bufferçš„å½±å“æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ä»…ä»…æ”¹å˜redologè®°å½•çš„æäº¤çŠ¶æ€å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431215,"discussion_content":"å¥½é—®é¢˜ï¼Œæ˜¯çš„ã€‚\n\nå¯¹äºWAL æœºåˆ¶æ¥è¯´ï¼Œchange bufferå°±æ˜¯æ•°æ®çš„ä¸€ç§ï¼Œåœ¨commitçš„æ—¶å€™å¤„ç†æœºåˆ¶æ˜¯å’Œæ•°æ®é¡µä¸€æ ·çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543801253,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":45790,"user_name":"Justin","can_delete":false,"product_type":"c1","uid":1305601,"ip_address":"","ucode":"D49723FEA66731","user_header":"https://static001.geekbang.org/account/avatar/00/13/ec/01/978d54af.jpg","comment_is_top":false,"comment_ctime":1543796901,"is_pvip":false,"replies":[{"id":"16349","content":"åªçœ‹æ‡‚äº†ä½ æœ€åä¸€ä¸ªé—®å·â€¦<br><br>æ˜¯çš„ï¼Œè¿™æ—¶å€™å†…å­˜ç®—è„é¡µï¼Œè·Ÿç£ç›˜å†…å®¹ä¸ä¸€è‡´ã€‚åœ¨è¦è¢«æ·˜æ±°å‡ºå»ä¹‹å‰ï¼Œéœ€è¦å†™å›åˆ°ç£ç›˜ä¸­ã€‚<br><br><br>å…¶å®ƒé—®é¢˜æ²¡çœ‹æ˜ç™½ï¼Œä½ é‡å†™ä¸‹å§","user_name":"ä½œè€…å›å¤","user_name_real":"æ—æ™“æ–Œ","uid":"1264162","ctime":1543800269,"ip_address":"","comment_id":45790,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1543796901","product_id":100020801,"comment_content":"é‚£redo log è¿˜æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿåœ¨æ–‡ä¸­çš„æƒ…å†µï¼Œå¦‚æœredo logçœ‹åˆ°æ›´æ–°è¢«åŠ å…¥bufferæ˜¯ä¸æ˜¯ä¹Ÿå°±è®¤ä¸ºé‚£ä¸€è¡Œå·²ç»è¢«æˆåŠŸå†™å…¥äº†å‘¢ï¼Ÿè¿˜æ˜¯ä¼šå‚¬bufferè®©ä»–æŠŠå†…å­˜ä¸­çš„ä¿®æ”¹å†™å…¥ç£ç›˜å‘¢ï¼Ÿé‚£å¦‚æœæ²¡æœ‰åŠ å…¥buffer ç›´æ¥ä¿®æ”¹äº†å†…å­˜çš„è¯ï¼Œå¦‚æœé‚£éƒ¨åˆ†å†…å­˜è¢«æ¢æ‰çš„æ—¶å€™ä¼šç›´æ¥æ›´æ–°ç£ç›˜è¿˜æ˜¯ä¼šä¹‹åé€šè¿‡redo logè¿›è¡Œé‡æ–°å†™å…¥ç£ç›˜å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1264162,"avatar":"https://static001.geekbang.org/account/avatar/00/13/4a/22/2681d602.jpg","nickname":"æ—æ™“æ–Œ","note":"","ucode":"CDE42D44F26240","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":431211,"discussion_content":"åªçœ‹æ‡‚äº†ä½ æœ€åä¸€ä¸ªé—®å·â€¦\n\næ˜¯çš„ï¼Œè¿™æ—¶å€™å†…å­˜ç®—è„é¡µï¼Œè·Ÿç£ç›˜å†…å®¹ä¸ä¸€è‡´ã€‚åœ¨è¦è¢«æ·˜æ±°å‡ºå»ä¹‹å‰ï¼Œéœ€è¦å†™å›åˆ°ç£ç›˜ä¸­ã€‚\n\n\nå…¶å®ƒé—®é¢˜æ²¡çœ‹æ˜ç™½ï¼Œä½ é‡å†™ä¸‹å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543800269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":359702,"title":"14 | è§†å›¾ï¼šå¦‚ä½•ç®€åŒ–æŸ¥è¯¢ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯æœ±æ™“å³°ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬æ¥èŠä¸€èŠè§†å›¾ã€‚</p><p>è§†å›¾æ˜¯ä¸€ç§è™šæ‹Ÿè¡¨ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸€æ®µæŸ¥è¯¢è¯­å¥ä½œä¸ºè§†å›¾å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œåœ¨éœ€è¦çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠè§†å›¾çœ‹åšä¸€ä¸ªè¡¨ï¼Œå¯¹é‡Œé¢çš„æ•°æ®è¿›è¡ŒæŸ¥è¯¢ã€‚</p><p>ä¸¾ä¸ªå°ä¾‹å­ï¼Œåœ¨å­¦æ ¡çš„ä¿¡æ¯ç³»ç»Ÿé‡Œé¢ï¼Œä¸ºäº†å‡å°‘å†—ä½™æ•°æ®ï¼Œå­¦ç”Ÿæ¡£æ¡ˆï¼ˆåŒ…æ‹¬å§“åã€å¹´é¾„ç­‰ï¼‰å’Œè€ƒè¯•æˆç»©ï¼ˆåŒ…æ‹¬è€ƒè¯•æ—¶é—´ã€ç§‘ç›®ã€åˆ†æ•°ç­‰ï¼‰æ˜¯åˆ†åˆ«å­˜æ”¾åœ¨ä¸åŒçš„æ•°æ®è¡¨é‡Œé¢çš„ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦æŸ¥è¯¢å­¦ç”Ÿçš„è€ƒè¯•æˆç»©ï¼ˆåŒ…æ‹¬å­¦ç”Ÿå§“åã€ç§‘ç›®ã€åˆ†æ•°ï¼‰ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠæŸ¥è¯¢å­¦ç”Ÿè€ƒè¯•æˆç»©çš„è¿™ä¸ªå…³è”æŸ¥è¯¢ï¼Œç”¨è§†å›¾çš„å½¢å¼ä¿å­˜èµ·æ¥ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥ä»è§†å›¾ä¸­ç›´æ¥æŸ¥è¯¢å­¦ç”Ÿè€ƒè¯•æˆç»©ï¼Œè®©æŸ¥è¯¢å˜å¾—ç®€å•ï¼Œè€Œä¸”ï¼Œè§†å›¾æ²¡æœ‰å®é™…å­˜å‚¨æ•°æ®ï¼Œè¿˜é¿å…äº†æ•°æ®å­˜å‚¨è¿‡ç¨‹ä¸­å¯èƒ½äº§ç”Ÿçš„å†—ä½™ï¼Œæé«˜äº†å­˜å‚¨çš„æ•ˆç‡ã€‚</p><p>ä»Šå¤©ï¼Œæˆ‘å°±ç»“åˆè¶…å¸‚çš„é¡¹ç›®ï¼Œæ¥å…·ä½“è®²è§£ä¸€ä¸‹æ€ä¹ˆåˆ›å»ºå’Œæ“ä½œè§†å›¾ï¼Œæ¥å¸®åŠ©ä½ æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚</p><h2>è§†å›¾çš„åˆ›å»ºåŠå…¶å¥½å¤„</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥å­¦ä¹ ä¸‹åˆ›å»ºè§†å›¾çš„æ–¹æ³•ï¼Œä»¥åŠä½¿ç”¨è§†å›¾çš„ä¸€äº›å¥½å¤„ã€‚</p><p>åˆ›å»ºè§†å›¾çš„è¯­æ³•ç»“æ„ï¼š</p><pre><code>CREATE [OR REPLACE]\nVIEW è§†å›¾åç§° [(å­—æ®µåˆ—è¡¨)]\nAS æŸ¥è¯¢è¯­å¥\n</code></pre><p>ç°åœ¨ï¼Œå‡è®¾æˆ‘ä»¬è¦æŸ¥è¯¢ä¸€ä¸‹å•†å“çš„æ¯æ—¥é”€å”®æ˜ç»†ï¼Œè¿™å°±è¦ä»é”€å”®æµæ°´è¡¨ï¼ˆdemo.transï¼‰å’Œå•†å“ä¿¡æ¯è¡¨ï¼ˆdemo.goodsmasterï¼‰ä¸­è·å–åˆ°é”€å”®æ•°æ®å’Œå¯¹åº”çš„å•†å“ä¿¡æ¯æ•°æ®ã€‚</p><p>é”€å”®æµæ°´è¡¨åŒ…å«æµæ°´å•å·ã€å•†å“ç¼–å·ã€é”€å”®æ•°é‡ã€é”€å”®é‡‘é¢å’Œäº¤æ˜“æ—¶é—´ç­‰ä¿¡æ¯ï¼š</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/65/56/65168f6e248fcc848e8b9968a712c956.jpeg?wh=1563*516\" alt=\"\"></p><p>å•†å“ä¿¡æ¯è¡¨åŒ…å«å•†å“ç¼–å·ã€æ¡ç ã€åç§°å’Œå”®ä»·ç­‰ä¿¡æ¯ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/73/4b/73836142bbfd6cc0f69de418acb7444b.jpeg?wh=1257*561\" alt=\"\"></p><p>åœ¨ä¸ä½¿ç”¨è§†å›¾çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹é”€å”®æµæ°´è¡¨å’Œå•†å“ä¿¡æ¯è¡¨è¿›è¡Œå…³è”æŸ¥è¯¢ï¼Œå¾—åˆ°æ¯å¤©å•†å“é”€å”®ç»Ÿè®¡çš„ç»“æœï¼ŒåŒ…æ‹¬é”€å”®æ—¥æœŸã€å•†å“åç§°ã€æ¯å¤©é”€å”®æ•°é‡çš„åˆè®¡å’Œæ¯å¤©é”€å”®é‡‘é¢çš„åˆè®¡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>mysql&gt; SELECT\n-&gt; a.transdate,\n-&gt; a.itemnumber,\n-&gt; b.goodsname,\n-&gt; SUM(a.quantity) AS quantity,   -- ç»Ÿè®¡é”€å”®æ•°é‡\n-&gt; SUM(a.salesvalue) AS salesvalue -- ç»Ÿè®¡é”€å”®é‡‘é¢\n-&gt; FROM\n-&gt; demo.trans AS a\n-&gt; LEFT JOIN                 -- è¿æ¥æŸ¥è¯¢\n-&gt; demo.goodsmaster AS b ON (a.itemnumber = b.itemnumber)\n-&gt; GROUP BY a.transdate , a.itemnumber;\n+---------------------+------------+-----------+----------+------------+\n| transdate | itemnumber | goodsname | quantity | salesvalue |\n+---------------------+------------+-----------+----------+------------+\n| 2020-12-01 00:00:00 | 1 | æœ¬ | 1.000 | 89.00 |\n| 2020-12-01 00:00:00 | 2 | ç¬” | 1.000 | 5.00 |\n| 2020-12-02 00:00:00 | 3 | èƒ¶æ°´ | 2.000 | 20.00 |\n+---------------------+------------+-----------+----------+------------+\n3 rows in set (0.00 sec)\n</code></pre><p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å‘ç°ï¼Œæ¯æ—¥å•†å“é”€å”®æŸ¥è¯¢ä½¿ç”¨çš„é¢‘æ¬¡å¾ˆé«˜ï¼Œè€Œä¸”ç»å¸¸éœ€è¦ä»¥è¿™ä¸ªæŸ¥è¯¢çš„ç»“æœä¸ºåŸºç¡€ï¼Œè¿›è¡Œæ›´è¿›ä¸€æ­¥çš„ç»Ÿè®¡ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œè¶…å¸‚ç»è¥è€…è¦æŸ¥ä¸€ä¸‹â€œæ¯å¤©å•†å“çš„é”€å”®æ•°é‡å’Œå½“å¤©åº“å­˜æ•°é‡çš„å¯¹æ¯”â€ï¼Œå¦‚æœç”¨ä¸€ä¸ªSQLè¯­å¥æŸ¥è¯¢ï¼Œå°±ä¼šæ¯”è¾ƒå¤æ‚ã€‚å†å²åº“å­˜è¡¨ï¼ˆdemo.inventoryhistï¼‰å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ac/bc/ac3f59ba59e460bb4962391b20a8c1bc.jpeg?wh=1626*939\" alt=\"\"></p><p>æ¥ä¸‹æ¥æˆ‘ä»¬çš„æŸ¥è¯¢æ­¥éª¤ä¼šä½¿ç”¨åˆ°å­æŸ¥è¯¢å’Œæ´¾ç”Ÿè¡¨ï¼Œå¾ˆå®¹æ˜“ç†è§£ï¼Œä½ çŸ¥é“å«ä¹‰å°±è¡Œäº†ã€‚</p><ul>\n<li>å­æŸ¥è¯¢ï¼šå°±æ˜¯åµŒå¥—åœ¨å¦ä¸€ä¸ªæŸ¥è¯¢ä¸­çš„æŸ¥è¯¢ã€‚</li>\n<li>æ´¾ç”Ÿè¡¨ï¼šå¦‚æœæˆ‘ä»¬åœ¨æŸ¥è¯¢ä¸­æŠŠå­æŸ¥è¯¢çš„ç»“æœä½œä¸ºä¸€ä¸ªè¡¨æ¥ä½¿ç”¨ï¼Œè¿™ä¸ªè¡¨å°±æ˜¯æ´¾ç”Ÿè¡¨ã€‚</li>\n</ul><p>è¿™ä¸ªæŸ¥è¯¢çš„å…·ä½“æ­¥éª¤æ˜¯ï¼š</p><ol>\n<li>é€šè¿‡å­æŸ¥è¯¢è·å¾—å•å“é”€å”®ç»Ÿè®¡çš„æŸ¥è¯¢ç»“æœï¼›</li>\n<li>æŠŠç¬¬ä¸€æ­¥ä¸­çš„æŸ¥è¯¢ç»“æœä½œä¸ºä¸€ä¸ªæ´¾ç”Ÿè¡¨ï¼Œè·Ÿå†å²åº“å­˜è¡¨è¿›è¡Œè¿æ¥ï¼ŒæŸ¥è¯¢è·å¾—åŒ…æ‹¬é”€å”®æ—¥æœŸã€å•†å“åç§°ã€é”€å”®æ•°é‡å’Œå†å²åº“å­˜æ•°é‡åœ¨å†…çš„æœ€ç»ˆç»“æœã€‚</li>\n</ol><pre><code>mysql&gt; SELECT\n-&gt; a.transdate,\n-&gt; a.itemnumber,\n-&gt; a.goodsname,\n-&gt; a.quantity,       -- è·å–å•å“é”€å”®æ•°é‡\n-&gt; b.invquantity     -- è·å–å†å²åº“å­˜æ•°é‡\n-&gt; FROM\n-&gt; (SELECT           -- å­æŸ¥è¯¢ï¼Œç»Ÿè®¡å•å“é”€å”®         \n-&gt; a.transdate,\n-&gt; a.itemnumber,\n-&gt; b.goodsname,\n-&gt; SUM(a.quantity) AS quantity,\n-&gt; SUM(a.salesvalue) AS salesvalue\n-&gt; FROM\n-&gt; demo.trans AS a\n-&gt; LEFT JOIN demo.goodsmaster AS b ON (a.itemnumber = b.itemnumber)\n-&gt; GROUP BY a.transdate , a.itemnumber\n-&gt; ) AS a -- æ´¾ç”Ÿè¡¨ï¼Œä¸å†å²åº“å­˜è¿›è¡Œè¿æ¥\n-&gt; LEFT JOIN\n-&gt; demo.inventoryhist AS b\n-&gt; ON (a.transdate = b.invdate\n-&gt; AND a.itemnumber = b.itemnumber);\n+---------------------+------------+-----------+----------+-------------+\n| transdate | itemnumber | goodsname | quantity | invquantity |\n+---------------------+------------+-----------+----------+-------------+\n| 2020-12-01 00:00:00 | 1 | æœ¬ | 1.000 | 100.000 |\n| 2020-12-01 00:00:00 | 2 | ç¬” | 1.000 | 99.000 |\n| 2020-12-02 00:00:00 | 3 | èƒ¶æ°´ | 2.000 | 200.000 |\n+---------------------+------------+-----------+----------+-------------+\n3 rows in set (0.00 sec)\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªæŸ¥è¯¢è¯­å¥æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§éƒ½æ¯”è¾ƒå·®ã€‚é‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿå…¶å®ï¼Œé’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è§†å›¾ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æŠŠå•†å“çš„æ¯æ—¥é”€å”®ç»Ÿè®¡æŸ¥è¯¢åšæˆä¸€ä¸ªè§†å›¾ï¼Œå­˜å‚¨åœ¨æ•°æ®åº“é‡Œï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code> mysql&gt; CREATE VIEW demo.trans_goodsmaster AS  -- åˆ›å»ºè§†å›¾\n-&gt; SELECT\n-&gt; a.transdate,\n-&gt; a.itemnumber,\n-&gt; b.goodsname,                           -- ä»å•†å“ä¿¡æ¯è¡¨ä¸­è·å–åç§°\n-&gt; SUM(a.quantity) AS quantity,           -- ç»Ÿè®¡é”€å”®æ•°é‡\n-&gt; SUM(a.salesvalue) AS salesvalue        -- ç»Ÿè®¡é”€å”®é‡‘é¢\n-&gt; FROM\n-&gt; demo.trans AS a\n-&gt; LEFT JOIN\n-&gt; demo.goodsmaster AS b ON (a.itemnumber = b.itemnumber) -- ä¸å•†å“ä¿¡æ¯è¡¨å…³è”\n-&gt; GROUP BY a.transdate , a.itemnumber;   -- æŒ‰ç…§é”€å”®æ—¥æœŸå’Œå•†å“ç¼–å·åˆ†ç»„\nQuery OK, 0 rows affected (0.01 sec)\n</code></pre><p>è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬æ¯æ¬¡éœ€è¦æŸ¥è¯¢æ¯æ—¥å•†å“é”€å”®æ•°æ®çš„æ—¶å€™ï¼Œå°±å¯ä»¥ç›´æ¥æŸ¥è¯¢è§†å›¾ï¼Œä¸éœ€è¦å†å†™ä¸€ä¸ªå¤æ‚çš„å…³è”æŸ¥è¯¢è¯­å¥äº†ã€‚</p><p>æˆ‘ä»¬æ¥è¯•è¯•ç”¨ä¸€ä¸ªæŸ¥è¯¢è¯­å¥ç›´æ¥ä»è§†å›¾ä¸­è¿›è¡ŒæŸ¥è¯¢ï¼š</p><pre><code>mysql&gt; SELECT *                 -- ç›´æ¥æŸ¥è¯¢\n-&gt; FROM demo.trans_goodsmaster; -- è§†å›¾\n+---------------------+------------+-----------+----------+------------+\n| transdate | itemnumber | goodsname | quantity | salesvalue |\n+---------------------+------------+-----------+----------+------------+\n| 2020-12-01 00:00:00 | 1 | æœ¬ | 1.000 | 89.00 |\n| 2020-12-01 00:00:00 | 2 | ç¬” | 1.000 | 5.00 |\n| 2020-12-02 00:00:00 | 3 | èƒ¶æ°´ | 2.000 | 20.00 |\n+---------------------+------------+-----------+----------+------------+\n3 rows in set (0.01 sec)\n</code></pre><p>ç»“æœæ˜¾ç¤ºï¼Œè¿™ä¸¤ç§æŸ¥è¯¢æ–¹å¼å¾—åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚</p><p>å¦‚æœæˆ‘ä»¬è¦è¿›ä¸€æ­¥æŸ¥è¯¢â€œæ¯æ—¥å•å“é”€å”®çš„æ•°é‡ä¸å½“æ—¥çš„åº“å­˜æ•°é‡çš„å¯¹æ¯”â€ï¼Œå°±å¯ä»¥æŠŠåˆšåˆšå®šä¹‰çš„è§†å›¾ä½œä¸ºä¸€ä¸ªæ•°æ®è¡¨æ¥ä½¿ç”¨ã€‚æˆ‘ä»¬æŠŠå®ƒè·Ÿå†å²åº“å­˜è¡¨è¿æ¥èµ·æ¥ï¼Œæ¥è·å–é”€å”®æ•°é‡å’Œå†å²åº“å­˜æ•°é‡ã€‚å°±åƒä¸‹é¢çš„ä»£ç è¿™æ ·ï¼ŒæŸ¥è¯¢å°±ç®€å•å¤šäº†ï¼š</p><pre><code>mysql&gt; SELECT\n-&gt; a.transdate,               -- ä»è§†å›¾ä¸­è·å–é”€å”®æ—¥æœŸ\n-&gt; a.itemnumber,              -- ä»è§†å›¾ä¸­è·å–å•†å“ç¼–å·\n-&gt; a.goodsname,               -- ä»è§†å›¾ä¸­è·å–å•†å“åç§°\n-&gt; a.quantity,                -- ä»è§†å›¾ä¸­è·å–é”€å”®æ•°é‡\n-&gt; b.invquantity              -- ä»å†å²åº“å­˜è¡¨ä¸­è·å–å†å²åº“å­˜æ•°é‡\n-&gt; FROM\n-&gt; demo.trans_goodsmaster AS a -- è§†å›¾\n-&gt; LEFT JOIN\n-&gt; demo.inventoryhist AS b ON (a.transdate = b.invdate\n-&gt; AND a.itemnumber = b.itemnumber);  -- ç›´æ¥è¿æ¥åº“å­˜å†å²è¡¨\n+---------------------+------------+-----------+----------+-------------+\n| transdate | itemnumber | goodsname | quantity | invquantity |\n+---------------------+------------+-----------+----------+-------------+\n| 2020-12-01 00:00:00 | 1 | æœ¬ | 1.000 | 100.000 |\n| 2020-12-01 00:00:00 | 2 | ç¬” | 1.000 | 99.000 |\n| 2020-12-02 00:00:00 | 3 | èƒ¶æ°´ | 2.000 | 200.000 |\n+---------------------+------------+-----------+----------+-------------+\n3 rows in set (0.00 sec)\n</code></pre><p>ç»“æœæ˜¾ç¤ºï¼Œè¿™é‡Œçš„æŸ¥è¯¢ç»“æœå’Œæˆ‘ä»¬åˆšåˆšä½¿ç”¨æ´¾ç”Ÿè¡¨çš„æŸ¥è¯¢ç»“æœæ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯ï¼Œ<strong>ä½¿ç”¨è§†å›¾çš„æŸ¥è¯¢è¯­å¥æ˜æ˜¾ç®€å•å¤šäº†ï¼Œå¯è¯»æ€§æ›´å¥½ï¼Œä¹Ÿæ›´å®¹æ˜“ç»´æŠ¤</strong>ã€‚</p><h2>å¦‚ä½•æ“ä½œè§†å›¾å’Œè§†å›¾ä¸­çš„æ•°æ®ï¼Ÿ</h2><p>åˆ›å»ºå®Œäº†è§†å›¾ï¼Œæˆ‘ä»¬è¿˜ç»å¸¸éœ€è¦å¯¹è§†å›¾è¿›è¡Œä¸€äº›æ“ä½œï¼Œæ¯”å¦‚ä¿®æ”¹ã€æŸ¥çœ‹å’Œåˆ é™¤è§†å›¾ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬å¯èƒ½è¿˜éœ€è¦ä¿®æ”¹è§†å›¾ä¸­çš„æ•°æ®ã€‚å…·ä½“å’‹æ“ä½œå‘¢ï¼Ÿæˆ‘æ¥ä»‹ç»ä¸‹ã€‚</p><h3>å¦‚ä½•æ“ä½œè§†å›¾ï¼Ÿ</h3><p>ä¿®æ”¹ã€æŸ¥çœ‹ã€åˆ é™¤è§†å›¾çš„æ“ä½œæ¯”è¾ƒç®€å•ï¼Œä½ åªè¦æŒæ¡å…·ä½“çš„è¯­æ³•å°±è¡Œäº†ã€‚</p><p>ä¿®æ”¹è§†å›¾çš„è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>ALTER VIEW è§†å›¾å\nAS æŸ¥è¯¢è¯­å¥;\n</code></pre><p>æŸ¥çœ‹è§†å›¾çš„è¯­æ³•æ˜¯ï¼š</p><pre><code>æŸ¥çœ‹è§†å›¾ï¼š\nDESCRIBE è§†å›¾åï¼›\n</code></pre><p>åˆ é™¤è§†å›¾è¦ä½¿ç”¨DROPå…³é”®è¯ï¼Œå…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼š</p><pre><code>åˆ é™¤è§†å›¾ï¼š\nDROP VIEW è§†å›¾å;\n</code></pre><p>å¥½äº†ï¼Œåˆ°è¿™é‡Œï¼Œå¯¹è§†å›¾çš„æ“ä½œæˆ‘å°±ä»‹ç»å®Œäº†ï¼Œä¸‹é¢æˆ‘å†è®²è®²æ€ä¹ˆæ“ä½œè§†å›¾ä¸­çš„æ•°æ®ã€‚</p><h3>å¦‚ä½•æ“ä½œè§†å›¾ä¸­çš„æ•°æ®ï¼Ÿ</h3><p>åˆšåˆšè¯´è¿‡ï¼Œè§†å›¾æœ¬èº«æ˜¯ä¸€ä¸ªè™šæ‹Ÿè¡¨ï¼Œæ‰€ä»¥ï¼Œå¯¹è§†å›¾ä¸­çš„æ•°æ®è¿›è¡Œæ’å…¥ã€ä¿®æ”¹å’Œåˆ é™¤æ“ä½œï¼Œå®é™…éƒ½æ˜¯é€šè¿‡å¯¹å®é™…æ•°æ®è¡¨çš„æ“ä½œæ¥å®ç°çš„ã€‚</p><p><strong>1.åœ¨è§†å›¾ä¸­æ’å…¥æ•°æ®</strong></p><p>ä¸ºäº†æ–¹ä¾¿ä½ ç†è§£ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè§†å›¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>CREATE VIEW demo.view_goodsmaster AS \nSELECT itemnumber,barcode,goodsname,specification,salesprice\nFROM demo.goodsmaster;\n</code></pre><p>å‡è®¾å•†å“ä¿¡æ¯è¡¨ä¸­çš„è§„æ ¼å­—æ®µï¼ˆspecificationï¼‰è¢«åˆ é™¤äº†ï¼Œå½“æˆ‘ä»¬å°è¯•ç”¨INSERT INTO è¯­å¥å‘è§†å›¾ä¸­æ’å…¥ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œå°±ä¼šæç¤ºé”™è¯¯äº†ï¼š</p><pre><code>mysql&gt; INSERT INTO demo.view_goodsmaster\n-&gt; (itemnumber,barcode,goodsname,salesprice)\n-&gt; VALUES\n-&gt; (5,'0005','æµ‹è¯•',100);\nERROR 1471 (HY000): The target table view_goodsmaster of the INSERT is not insertable-into\n</code></pre><p>è¿™æ˜¯å› ä¸ºï¼Œ<strong>åªæœ‰è§†å›¾ä¸­çš„å­—æ®µè·Ÿå®é™…æ•°æ®è¡¨ä¸­çš„å­—æ®µå®Œå…¨ä¸€æ ·ï¼ŒMySQLæ‰å…è®¸é€šè¿‡è§†å›¾æ’å…¥æ•°æ®</strong>ã€‚åˆšåˆšçš„è§†å›¾ä¸­åŒ…å«äº†å®é™…æ•°æ®è¡¨æ‰€æ²¡æœ‰çš„å­—æ®µâ€œspecificationâ€ï¼Œæ‰€ä»¥åœ¨æ’å…¥æ•°æ®æ—¶ï¼Œç³»ç»Ÿå°±ä¼šæç¤ºé”™è¯¯ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ¥ä¿®æ”¹ä¸€ä¸‹è§†å›¾ï¼Œè®©å®ƒåªåŒ…å«å®é™…æ•°æ®è¡¨ä¸­æœ‰çš„å­—æ®µï¼Œä¹Ÿå°±æ˜¯å•†å“ç¼–å·ã€æ¡ç ã€åç§°å’Œå”®ä»·ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>mysql&gt; ALTER VIEW demo.view_goodsmaster\n-&gt; AS\n-&gt; SELECT itemnumber,barcode,goodsname,salesprice -- åªåŒ…å«å®é™…è¡¨ä¸­å­˜åœ¨çš„å­—æ®µ\n-&gt; FROM demo.goodsmaster\n-&gt; WHERE salesprice &gt; 50;\nQuery OK, 0 rows affected (0.01 sec)\n</code></pre><p>å¯¹è§†å›¾è¿›è¡Œä¿®æ”¹ä¹‹åï¼Œæˆ‘ä»¬é‡æ–°å°è¯•å‘è§†å›¾ä¸­æ’å…¥ä¸€æ¡è®°å½•ï¼š</p><pre><code>mysql&gt; INSERT INTO demo.view_goodsmaster\n-&gt; (itemnumber,barcode,goodsname,salesprice)\n-&gt; VALUES\n-&gt; (5,'0005','æµ‹è¯•',100);\nQuery OK, 1 row affected (0.02 sec)\n</code></pre><p>ç»“æœæ˜¾ç¤ºï¼Œæ’å…¥æˆåŠŸäº†ã€‚</p><p>ç°åœ¨æˆ‘ä»¬æ¥æŸ¥çœ‹ä¸€ä¸‹è§†å›¾ä¸­çš„æ•°æ®ï¼š</p><pre><code>mysql&gt; SELECT *\n-&gt; FROM demo.view_goodsmaster;\n+------------+---------+-----------+------------+\n| itemnumber | barcode | goodsname | salesprice |\n+------------+---------+-----------+------------+\n| 1 | 0001 | æœ¬ | 89.00 |\n| 5 | 0005 | æµ‹è¯• | 100.00 |                        -- é€šè¿‡è§†å›¾æ’å…¥çš„æ•°æ®\n+------------+---------+-----------+------------+\n2 rows in set (0.01 sec)\n</code></pre><p>ç»“æœæ˜¾ç¤ºï¼Œè¡¨ä¸­ç¡®å®åŒ…å«äº†æˆ‘ä»¬æ’å…¥çš„å•†å“ç¼–å·æ˜¯5çš„å•†å“ä¿¡æ¯ã€‚</p><p>ç°åœ¨ï¼Œè§†å›¾ä¸­å·²ç»åŒ…æ‹¬äº†åˆšæ‰æ’å…¥çš„æ•°æ®ï¼Œé‚£ä¹ˆï¼Œå®é™…æ•°æ®è¡¨ä¸­çš„æ•°æ®æƒ…å†µåˆæ˜¯æ€æ ·çš„å‘¢ï¼Ÿæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ï¼š</p><pre><code>mysql&gt; SELECT *\n-&gt; FROM demo.goodsmaster;\n+------------+---------+-----------+------------+\n| itemnumber | barcode | goodsname | salesprice |\n+------------+---------+-----------+------------+\n| 1 | 0001 | æœ¬ | 89.00 |\n| 2 | 0002 | ç¬” | 5.00 |\n| 3 | 0003 | èƒ¶æ°´ | 10.00 |\n| 5 | 0005 | æµ‹è¯• | 100.00 |                      -- é€šè¿‡è§†å›¾æ’å…¥çš„æ•°æ®\n+------------+---------+-----------+------------+\n4 rows in set (0.00 sec)\n</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œå®é™…æ•°æ®è¡¨demo.goodsmasterä¸­ï¼Œä¹Ÿå·²ç»åŒ…å«é€šè¿‡è§†å›¾æ’å…¥çš„å•†å“ç¼–å·æ˜¯5çš„å•†å“æ•°æ®äº†ã€‚</p><p><strong>2.åˆ é™¤è§†å›¾ä¸­çš„æ•°æ®</strong></p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡DELETEè¯­å¥ï¼Œåˆ é™¤è§†å›¾ä¸­çš„æ•°æ®ï¼š</p><pre><code>mysql&gt; DELETE FROM demo.view_goodsmaster   -- ç›´æ¥åœ¨è§†å›¾ä¸­åˆ é™¤æ•°æ®\n-&gt; WHERE itemnumber = 5;\nQuery OK, 1 row affected (0.02 sec)\n</code></pre><p>ç°åœ¨æˆ‘ä»¬æ¥æŸ¥çœ‹è§†å›¾å’Œå®é™…æ•°æ®è¡¨çš„å†…å®¹ï¼Œä¼šå‘ç°å•†å“ç¼–å·æ˜¯5çš„å•†å“éƒ½å·²ç»è¢«åˆ é™¤äº†ã€‚</p><pre><code>mysql&gt; SELECT *\n-&gt; FROM demo.view_goodsmaster;\n+------------+---------+-----------+------------+\n| itemnumber | barcode | goodsname | salesprice |\n+------------+---------+-----------+------------+\n| 1 | 0001 | æœ¬ | 89.00 |                         -- è§†å›¾ä¸­å·²ç»æ²¡æœ‰å•†å“ç¼–å·æ˜¯5çš„å•†å“äº†\n+------------+---------+-----------+------------+\n1 row in set (0.00 sec)\n\nmysql&gt; SELECT *\n-&gt; FROM demo.goodsmaster;\n+------------+---------+-----------+------------+\n| itemnumber | barcode | goodsname | salesprice |\n+------------+---------+-----------+------------+\n| 1 | 0001 | æœ¬ | 89.00 |\n| 2 | 0002 | ç¬” | 5.00 |\n| 3 | 0003 | èƒ¶æ°´ | 10.00 |                        -- å®é™…è¡¨ä¸­ä¹Ÿå·²ç»æ²¡æœ‰å•†å“ç¼–å·æ˜¯5çš„å•†å“äº†\n+------------+---------+-----------+------------+\n3 rows in set (0.00 sec)\n</code></pre><p><strong>3.ä¿®æ”¹è§†å›¾ä¸­çš„æ•°æ®</strong></p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡UPDATEè¯­å¥å¯¹è§†å›¾ä¸­çš„æ•°æ®è¿›è¡Œä¿®æ”¹ï¼š</p><pre><code>mysql&gt; UPDATE demo.view_goodsmaster             -- æ›´æ–°è§†å›¾ä¸­çš„æ•°æ®\n-&gt; SET salesprice = 100\n-&gt; WHERE itemnumber = 1;\nQuery OK, 1 row affected (0.01 sec)\nRows matched: 1 Changed: 1 Warnings: 0\n</code></pre><p>ç»“æœæ˜¾ç¤ºï¼Œæ›´æ–°æˆåŠŸäº†ã€‚ç°åœ¨æˆ‘ä»¬æ¥æŸ¥çœ‹ä¸€ä¸‹è§†å›¾å’Œå®é™…æ•°æ®è¡¨ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code>mysql&gt; SELECT *\n-&gt; FROM demo.view_goodsmaster;\n+------------+---------+-----------+------------+\n| itemnumber | barcode | goodsname | salesprice |\n+------------+---------+-----------+------------+\n| 1 | 0001 | æœ¬ | 100.00 |                        -- è§†å›¾ä¸­çš„å”®ä»·æ”¹è¿‡äº†\n+------------+---------+-----------+------------+\n1 row in set (0.01 sec)\n\nmysql&gt; SELECT *\n-&gt; FROM demo.goodsmaster;\n+------------+---------+-----------+------------+\n| itemnumber | barcode | goodsname | salesprice |\n+------------+---------+-----------+------------+\n| 1 | 0001 | æœ¬ | 100.00 |                        -- å®é™…æ•°æ®è¡¨ä¸­çš„å”®ä»·ä¹Ÿæ”¹è¿‡äº†\n| 2 | 0002 | ç¬” | 5.00 |\n| 3 | 0003 | èƒ¶æ°´ | 10.00 |\n+------------+---------+-----------+------------+\n3 rows in set (0.00 sec)\n</code></pre><p>å¯ä»¥å‘ç°ï¼Œè§†å›¾å’ŒåŸæ¥çš„æ•°æ®è¡¨éƒ½å·²ç»æ”¹è¿‡æ¥äº†ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>æˆ‘ä¸å»ºè®®ä½ å¯¹è§†å›¾çš„æ•°æ®è¿›è¡Œæ›´æ–°æ“ä½œ</strong>ï¼Œå› ä¸ºMySQLå…è®¸ç”¨æ¯”è¾ƒå¤æ‚çš„SQLæŸ¥è¯¢è¯­å¥æ¥åˆ›å»ºè§†å›¾ï¼ˆæ¯”å¦‚SQLæŸ¥è¯¢è¯­å¥ä¸­ä½¿ç”¨äº†åˆ†ç»„å’Œèšåˆå‡½æ•°ï¼Œæˆ–è€…æ˜¯UIONå’ŒDISTINCTå…³é”®å­—ï¼‰ï¼Œæ‰€ä»¥ï¼Œè¦é€šè¿‡å¯¹è¿™ä¸ªç»“æœé›†çš„æ›´æ–°æ¥æ›´æ–°å®é™…æ•°æ®è¡¨ï¼Œæœ‰å¯èƒ½ä¸è¢«å…è®¸ï¼Œå› ä¸ºMySQLæ²¡åŠæ³•ç²¾ç¡®å®šä½å®é™…æ•°æ®è¡¨ä¸­çš„è®°å½•ã€‚å°±æ¯”å¦‚åˆšåˆšè®²åˆ°çš„é‚£ä¸ªâ€œæ¯æ—¥é”€å”®ç»Ÿè®¡æŸ¥è¯¢â€è§†å›¾å°±æ²¡åŠæ³•æ›´æ”¹ï¼Œå› ä¸ºåˆ›å»ºè§†å›¾çš„SQLè¯­å¥æ˜¯ä¸€ä¸ªåŒ…å«äº†åˆ†ç»„å‡½æ•°ï¼ˆGROUP BYï¼‰çš„æŸ¥è¯¢ã€‚</p><h2>è§†å›¾æœ‰å“ªäº›ä¼˜ç¼ºç‚¹ï¼Ÿ</h2><p>åˆ°è¿™é‡Œï¼Œè§†å›¾çš„æ“ä½œæˆ‘å°±è®²å®Œäº†ï¼Œç°åœ¨æˆ‘ä»¬æŠŠè§†çº¿æ‹”é«˜ä¸€ç‚¹ï¼Œæ¥çœ‹çœ‹è§†å›¾éƒ½æœ‰å“ªäº›ä¼˜ç¼ºç‚¹ã€‚åªæœ‰å…¨é¢æŒæ¡è§†å›¾çš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬æ‰èƒ½å……åˆ†äº«å—å®ƒçš„é«˜æ•ˆï¼Œé¿å…è¸©å‘ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘æ¥ä»‹ç»ä¸‹è§†å›¾çš„ä¼˜ç‚¹ã€‚</p><p>ç¬¬ä¸€ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥æŠŠè§†å›¾çœ‹æˆä¸€å¼ è¡¨æ¥è¿›è¡ŒæŸ¥è¯¢ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨è§†å›¾çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸ç”¨è€ƒè™‘è§†å›¾æœ¬èº«æ˜¯å¦‚ä½•è·å–æ•°æ®çš„ï¼Œé‡Œé¢æœ‰ä»€ä¹ˆé€»è¾‘ï¼ŒåŒ…æ‹¬äº†å¤šå°‘ä¸ªè¡¨ï¼Œæœ‰å“ªäº›å…³è”æ“ä½œï¼Œè€Œæ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚è¿™æ ·ä¸€æ¥ï¼Œå®é™…ä¸Šå°±æŠŠæŸ¥è¯¢æ¨¡å—åŒ–äº†ï¼ŒæŸ¥è¯¢å˜å¾—æ›´åŠ ç®€å•ï¼Œæé«˜äº†å¼€å‘å’Œç»´æŠ¤çš„æ•ˆç‡ã€‚æ‰€ä»¥ï¼Œä½ å¯ä»¥æŠŠé‚£äº›ç»å¸¸ä¼šç”¨åˆ°çš„æŸ¥è¯¢å’Œå¤æ‚æŸ¥è¯¢çš„å­æŸ¥è¯¢å®šä¹‰æˆè§†å›¾ï¼Œå­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œè¿™æ ·å¯ä»¥ä¸ºä½ ä»¥åçš„ä½¿ç”¨æä¾›æ–¹ä¾¿ã€‚</p><p>ç¬¬äºŒï¼Œè§†å›¾è·Ÿå®é™…æ•°æ®è¡¨ä¸ä¸€æ ·ï¼Œå®ƒå­˜å‚¨çš„æ˜¯æŸ¥è¯¢è¯­å¥ã€‚æ‰€ä»¥ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦é€šè¿‡å®šä¹‰è§†å›¾çš„æŸ¥è¯¢è¯­å¥æ¥è·å–ç»“æœé›†ã€‚è€Œè§†å›¾æœ¬èº«ä¸å­˜å‚¨æ•°æ®ï¼Œä¸å ç”¨æ•°æ®å­˜å‚¨çš„èµ„æºã€‚</p><p>ç¬¬ä¸‰ï¼Œè§†å›¾å…·æœ‰éš”ç¦»æ€§ã€‚è§†å›¾ç›¸å½“äºåœ¨ç”¨æˆ·å’Œå®é™…çš„æ•°æ®è¡¨ä¹‹é—´åŠ äº†ä¸€å±‚è™šæ‹Ÿè¡¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>ç”¨æˆ·ä¸éœ€è¦æŸ¥è¯¢æ•°æ®è¡¨ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡è§†å›¾è·å–æ•°æ®è¡¨ä¸­çš„ä¿¡æ¯</strong>ã€‚è¿™æ ·æ—¢æé«˜äº†æ•°æ®è¡¨çš„å®‰å…¨æ€§ï¼ŒåŒæ—¶ä¹Ÿé€šè¿‡è§†å›¾æŠŠç”¨æˆ·å®é™…éœ€è¦çš„ä¿¡æ¯æ±‡æ€»åœ¨äº†ä¸€èµ·ï¼ŒæŸ¥è¯¢èµ·æ¥å¾ˆè½»æ¾ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a2/45/a2ca36c520ed6a6fee5f788d5dcb2845.jpg?wh=3270*1419\" alt=\"\"></p><p>ç¬¬å››ï¼Œ<strong>è§†å›¾çš„æ•°æ®ç»“æ„ç›¸å¯¹ç‹¬ç«‹ï¼Œå³ä¾¿å®é™…æ•°æ®è¡¨çš„ç»“æ„å‘ç”Ÿå˜åŒ–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹å®šä¹‰è§†å›¾çš„æŸ¥è¯¢è¯­å¥ï¼Œè®©æŸ¥è¯¢ç»“æœé›†é‡Œçš„å­—æ®µä¿æŒä¸å˜</strong>ã€‚è¿™æ ·ä¸€æ¥ï¼Œé’ˆå¯¹è§†å›¾çš„æŸ¥è¯¢å°±ä¸å—å®é™…æ•°æ®è¡¨ç»“æ„å˜åŒ–çš„å½±å“äº†ã€‚</p><p>è¿™ä¸€ç‚¹ä¸å®¹æ˜“ç†è§£ï¼Œæˆ‘ä¸¾ä¸ªå°ä¾‹å­æ¥è¯´æ˜ä¸€ä¸‹ã€‚</p><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå®é™…çš„æ•°æ®è¡¨ï¼ˆdemo.goodsmasterï¼‰ï¼ŒåŒ…æ‹¬å•†å“ç¼–å·ã€æ¡ç ã€åç§°ã€è§„æ ¼å’Œå”®ä»·ç­‰ä¿¡æ¯ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/63/8f/63f46f64a5007278b97235a00633d58f.jpeg?wh=1445*614\" alt=\"\"></p><p>åœ¨è¿™ä¸ªè¡¨çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å»ºä¸€ä¸ªè§†å›¾ï¼ŒæŸ¥è¯¢æ‰€æœ‰ä»·æ ¼è¶…è¿‡50å…ƒçš„å•†å“ï¼š</p><pre><code>mysql&gt; CREATE VIEW demo.view_goodsmaster AS\n-&gt; SELECT *\n-&gt; FROM demo.goodsmaster\n-&gt; WHERE salesprice &gt; 50;\nQuery OK, 0 rows affected (0.03 sec)\n</code></pre><p>æ¥ç€ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªè§†å›¾çš„åŸºç¡€ä¸Šåšä¸€ä¸ªæŸ¥è¯¢ï¼Œæ¥éªŒè¯ä¸€ä¸‹è§†å›¾çš„å†…å®¹ï¼š</p><pre><code>mysql&gt; SELECT barcode,goodsname,specification\n-&gt; FROM demo.view_goodsmaster;\n+---------+-----------+---------------+\n| barcode | goodsname | specification |\n+---------+-----------+---------------+\n| 0001 | æœ¬ | 16å¼€ |\n+---------+-----------+---------------+\n1 row in set (0.00 sec)\n</code></pre><p>ç»“æœæ˜¾ç¤ºï¼Œæˆ‘ä»¬å¾—åˆ°äº†å•†å“ä¿¡æ¯è¡¨ä¸­å”®ä»·å¤§äº50å…ƒçš„å•†å“ï¼šæœ¬ï¼ˆ16å¼€ï¼‰ã€‚</p><p>å‡è®¾ç°åœ¨æˆ‘ä»¬éœ€è¦æŠŠæ•°æ®è¡¨demo.goodsmasterä¸­çš„å­—æ®µâ€œspecificationâ€åˆ æ‰ï¼Œå°±å¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç ï¼š</p><pre><code>mysql&gt; ALTER TABLE demo.goodsmaster DROP COLUMN specification;\nQuery OK, 0 rows affected (0.13 sec)\nRecords: 0 Duplicates: 0 Warnings: 0\n</code></pre><p>è¿™æ ·ä¸€æ¥ï¼Œå› ä¸ºå°‘äº†ä¸€ä¸ªå­—æ®µï¼Œè€Œæˆ‘ä»¬çš„è¯­å¥åˆæ˜¯ç›´æ¥æŸ¥è¯¢æ•°æ®è¡¨çš„ï¼Œä»£ç å°±ä¼šæç¤ºé”™è¯¯ï¼š</p><pre><code>mysql&gt; SELECT barcode,goodsname,specification\n-&gt; FROM demo.goodsmaster;\nERROR 1054 (42S22): Unknown column 'specification' in 'field list'\n</code></pre><p>ä½ çœ‹ï¼Œä»£ç æç¤ºå­—æ®µâ€œspecificationâ€ä¸å­˜åœ¨ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœæŸ¥è¯¢çš„æ˜¯è§†å›¾ï¼Œå°±å¯ä»¥é€šè¿‡ä¿®æ”¹è§†å›¾æ¥è§„é¿è¿™ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æŠŠåˆšæ‰çš„è§†å›¾ä¿®æ”¹ä¸€ä¸‹ï¼š</p><pre><code>mysql&gt; ALTER VIEW demo.view_goodsmaster\n-&gt; AS\n-&gt; SELECT\n-&gt; itemnumber,\n-&gt; barcode,\n-&gt; goodsname,\n-&gt; '' as specification, -- ç”±äºå­—æ®µä¸å­˜åœ¨ï¼Œæ’å…¥ä¸€ä¸ªé•¿åº¦æ˜¯0çš„ç©ºå­—ç¬¦ä¸²ä½œä¸ºè¿™ä¸ªå­—æ®µçš„å€¼\n-&gt; salesprice\n-&gt; FROM demo.goodsmaster\n-&gt; WHERE salesprice &gt; 50;\nQuery OK, 0 rows affected (0.02 sec)\n</code></pre><p>ä½ çœ‹ï¼Œè™½ç„¶å®é™…æ•°æ®è¡¨ä¸­å·²ç»æ²¡æœ‰å­—æ®µâ€œspecificationâ€äº†ï¼Œä½†æ˜¯è§†å›¾ä¸­å´ä¿ç•™äº†è¿™ä¸ªå­—æ®µï¼Œè€Œä¸”å­—æ®µå€¼å§‹ç»ˆæ˜¯ç©ºå­—ç¬¦ä¸²ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸ç”¨ä¿®æ”¹åŸæœ‰è§†å›¾çš„æŸ¥è¯¢è¯­å¥ï¼Œå®ƒä¹Ÿä¼šæ­£å¸¸è¿è¡Œã€‚ä¸‹é¢çš„ä»£ç æŸ¥è¯¢çš„ç»“æœä¸­ï¼Œå°±åŒ…æ‹¬äº†å®é™…æ•°æ®è¡¨æ²¡æœ‰çš„å­—æ®µâ€œspecificationâ€ã€‚</p><pre><code>mysql&gt; SELECT barcode,goodsname,specification\n-&gt; FROM demo.view_goodsmaster;\n+---------+-----------+---------------+\n| barcode | goodsname | specification |\n+---------+-----------+---------------+\n| 0001 | æœ¬ | |\n+---------+-----------+---------------+\n1 row in set (0.00 sec)\n</code></pre><p>ç»“æœæ˜¾ç¤ºï¼Œè¿è¡ŒæˆåŠŸäº†ã€‚è¿™ä¸ªè§†å›¾æŸ¥è¯¢ï¼Œå°±æ²¡æœ‰å—åˆ°å®é™…æ•°æ®è¡¨ä¸­åˆ é™¤å­—æ®µçš„å½±å“ã€‚</p><p>çœ‹åˆ°è¿™å„¿ï¼Œä½ å¯èƒ½ä¼šè¯´ï¼Œè§†å›¾æœ‰è¿™ä¹ˆå¤šå¥½å¤„ï¼Œé‚£æˆ‘ä»¥åéƒ½ç”¨è§†å›¾å¯ä»¥å—ï¼Ÿå…¶å®ä¸æ˜¯çš„ï¼Œè§†å›¾ä¹Ÿæœ‰è‡ªèº«çš„ä¸è¶³ã€‚</p><p>å¦‚æœæˆ‘ä»¬åœ¨å®é™…æ•°æ®è¡¨çš„åŸºç¡€ä¸Šåˆ›å»ºäº†è§†å›¾ï¼Œé‚£ä¹ˆï¼Œ<strong>å¦‚æœå®é™…æ•°æ®è¡¨çš„ç»“æ„å˜æ›´äº†ï¼Œæˆ‘ä»¬å°±éœ€è¦åŠæ—¶å¯¹ç›¸å…³çš„è§†å›¾è¿›è¡Œç›¸åº”çš„ç»´æŠ¤</strong>ã€‚ç‰¹åˆ«æ˜¯å½“è§†å›¾æ˜¯ç”±è§†å›¾ç”Ÿæˆçš„æ—¶å€™ï¼Œç»´æŠ¤ä¼šå˜å¾—æ¯”è¾ƒå¤æ‚ã€‚å› ä¸ºåˆ›å»ºè§†å›¾çš„SQLæŸ¥è¯¢å¯èƒ½ä¼šå¯¹å­—æ®µé‡å‘½åï¼Œä¹Ÿå¯èƒ½åŒ…å«å¤æ‚çš„é€»è¾‘ï¼Œè¿™äº›éƒ½ä¼šå¢åŠ ç»´æŠ¤çš„æˆæœ¬ã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨åˆ›å»ºè§†å›¾çš„æ—¶å€™ï¼Œä½ è¦ç»“åˆå®é™…é¡¹ç›®éœ€æ±‚ï¼Œç»¼åˆè€ƒè™‘è§†å›¾çš„ä¼˜ç‚¹å’Œä¸è¶³ï¼Œè¿™æ ·æ‰èƒ½æ­£ç¡®ä½¿ç”¨è§†å›¾ï¼Œä½¿ç³»ç»Ÿæ•´ä½“è¾¾åˆ°æœ€ä¼˜ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿ä½ æŒæ¡ï¼Œæˆ‘ç”¨ä¸€å¼ å›¾æ¥æ±‡æ€»ä¸‹è§†å›¾çš„ä¼˜ç¼ºç‚¹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/d4/12/d4cb502799c8328d22774907d7b97212.jpeg?wh=1828*889\" alt=\"\"></p><h2>æ€»ç»“</h2><p>ä»Šå¤©ï¼Œæˆ‘ç»™ä½ ä»‹ç»äº†ç®€åŒ–æŸ¥è¯¢çš„å·¥å…·ï¼šè§†å›¾ï¼Œæˆ‘ä»¬å­¦ä¹ äº†åˆ›å»ºè§†å›¾ã€æ“ä½œè§†å›¾å’Œè§†å›¾ä¸­çš„æ•°æ®çš„æ–¹æ³•ä»¥åŠè§†å›¾çš„ä¼˜ç¼ºç‚¹ã€‚ä½ è¦é‡ç‚¹æŒæ¡æ“ä½œçš„è¯­æ³•ç»“æ„ã€‚</p><p>æœ€åï¼Œæˆ‘è¿˜æ˜¯æƒ³æé†’ä½ ä¸€ä¸‹ï¼Œè™½ç„¶å¯ä»¥æ›´æ–°è§†å›¾æ•°æ®ï¼Œä½†æ€»çš„æ¥è¯´ï¼Œè§†å›¾ä½œä¸ºè™šæ‹Ÿè¡¨ï¼Œä¸»è¦ç”¨äºæ–¹ä¾¿æŸ¥è¯¢ã€‚æˆ‘ä¸å»ºè®®ä½ æ›´æ–°è§†å›¾çš„æ•°æ®ï¼Œå› ä¸ºå¯¹è§†å›¾æ•°æ®çš„æ›´æ”¹ï¼Œéƒ½æ˜¯é€šè¿‡å¯¹å®é™…æ•°æ®è¡¨é‡Œæ•°æ®çš„æ“ä½œæ¥å®Œæˆçš„ï¼Œè€Œä¸”æœ‰å¾ˆå¤šé™åˆ¶æ¡ä»¶ã€‚</p><p>è§†å›¾è™½ç„¶æœ‰å¾ˆå¤šä¼˜ç‚¹ã€‚ä½†æ˜¯åœ¨åˆ›å»ºè§†å›¾ã€ç®€åŒ–æŸ¥è¯¢çš„åŒæ—¶ï¼Œä¹Ÿè¦è€ƒè™‘åˆ°è§†å›¾å¤ªå¤šè€Œå¯¼è‡´çš„æ•°æ®åº“ç»´æŠ¤æˆæœ¬çš„é—®é¢˜ã€‚</p><p>è§†å›¾ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œç‰¹åˆ«æ˜¯åµŒå¥—çš„è§†å›¾ï¼ˆå°±æ˜¯åœ¨è§†å›¾çš„åŸºç¡€ä¸Šåˆ›å»ºè§†å›¾ï¼‰ï¼Œæˆ‘ä¸å»ºè®®ä½ ä½¿ç”¨ï¼Œå› ä¸ºé€»è¾‘å¤æ‚ï¼Œå¯è¯»æ€§ä¸å¥½ï¼Œå®¹æ˜“å˜æˆç³»ç»Ÿçš„æ½œåœ¨éšæ‚£ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>å‡è®¾æŸå…¬å›­å”®ç¥¨ç³»ç»ŸåŒ…æ‹¬é—¨ç¥¨ä¿¡æ¯è¡¨å’Œç±»åˆ«ä¿¡æ¯è¡¨ï¼Œè¿™ä¸¤ä¸ªè¡¨ä¹‹é—´é€šè¿‡ç±»åˆ«ç¼–å·ç›¸å…³è”ã€‚</p><p>é—¨ç¥¨ä¿¡æ¯è¡¨åŒ…å«é—¨ç¥¨ç¼–å·ã€åç§°ã€ç±»åˆ«ç¼–å·å’Œå‰©ä½™æ•°é‡ç­‰ä¿¡æ¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/e1/6a/e1d07bcc301ec2929ff50d601b3c5a6a.jpeg?wh=1201*677\" alt=\"\"></p><p>ç±»åˆ«ä¿¡æ¯è¡¨åŒ…å«ç±»åˆ«ç¼–å·ã€å¼€é—¨æ—¶é—´å’Œé—­é¦†æ—¶é—´ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/8f/42/8f21b2f64c2bb51ab7719f27d40ed942.jpeg?wh=1210*592\" alt=\"\"></p><p>è¯·ç¼–å†™ä¸€ä¸ªè§†å›¾ï¼Œè§†å›¾è¿”å›çš„ç»“æœé›†åŒ…æ‹¬ï¼šå½“å‰æ—¶é—´å¯ä»¥å–çš„é—¨ç¥¨åç§°å’Œå‰©ä½™æ•°é‡ï¼ˆè¯´æ˜ï¼šå¼€é—¨å‰30åˆ†é’Ÿå¼€å§‹å”®ç¥¨ï¼Œç»“æŸå‰30åˆ†é’Ÿåœæ­¢å”®ç¥¨ï¼‰ã€‚</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºå†™ä¸‹ä½ çš„æ€è€ƒå’Œç­”æ¡ˆï¼Œæˆ‘ä»¬ä¸€èµ·äº¤æµè®¨è®ºã€‚å¦‚æœä½ è§‰å¾—ä»Šå¤©çš„å†…å®¹å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–åŒäº‹ï¼Œæˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ã€‚</p>","comments":[{"had_liked":false,"id":289374,"user_name":"æœ±æ™“å³°","can_delete":false,"product_type":"c1","uid":2356905,"ip_address":"","ucode":"D2F84F44329C29","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","comment_is_top":true,"comment_ctime":1618991794,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"9.2233720470636995e+18","product_id":100073201,"comment_content":"ä½ å¥½ï¼Œæˆ‘æ˜¯æœ±æ™“å³°ï¼Œä¸‹é¢æˆ‘å°±æ¥å…¬å¸ƒä¸€ä¸‹ä¸ŠèŠ‚è¯¾æ€è€ƒé¢˜çš„ç­”æ¡ˆï¼š<br><br>ä¸ŠèŠ‚è¯¾ï¼Œæˆ‘ä»¬å­¦ä¹ äº†ä¸´æ—¶è¡¨ã€‚ä¸‹é¢æ˜¯æ€è€ƒé¢˜çš„ç­”æ¡ˆï¼š<br><br>ç¬¬ä¸€æ­¥ï¼Œå…ˆè®¡ç®—é—¨åº—é”€å”®åˆè®¡<br>CREATE TEMPORARY TABLE demo.temp <br>SELECT branchnumber,sum(actualvalue) AS actualvalue<br>FROM demo.trans<br>GROUP BY branchnumber;<br><br>ç¬¬äºŒæ­¥ï¼Œå†æŒ‰ç…§é—¨åº—ã€æ”¶æ¬¾æœºï¼Œè®¡ç®—åˆè®¡<br>CREATE TEMPORARY TABLE demo.temp1<br>SELECT branchnumber,cashiernumber,sum(actualvalue) AS actualvalue<br>FROM demo.trans<br>GROUP BY branchnumber,cashiernumber;<br><br>ç¬¬ä¸‰æ­¥ï¼Œè®¡ç®—æŒ‰é—¨åº—ã€æ”¶æ¬¾æœºçš„é”€å”®å æ¯”<br>SELECT a.branchnumber,a.cashiernumber, a.actualvalue&#47;b.actualvalue<br>FROM demo.temp1 AS a,demo.temp AS b<br>WHERE (a.branchnumber=b.branchnumber)<br>ORDER BY a.branchnumber,a.cashiernumber<br>","like_count":2,"discussions":[{"author":{"id":1701572,"avatar":"https://static001.geekbang.org/account/avatar/00/19/f6/c4/e14686d4.jpg","nickname":"shk1230","note":"","ucode":"9E39279C23FF8F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555926,"discussion_content":"ä¿®æ­£ï¼šæœ‰ä¸ªç–‘é—®ï¼šå³ä½¿é—¨åº—ä¸ç›¸åŒï¼Œæ”¶æ¬¾æœºçš„ç¼–å·éƒ½æ˜¯å”¯ä¸€çš„å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647125973,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1701572,"avatar":"https://static001.geekbang.org/account/avatar/00/19/f6/c4/e14686d4.jpg","nickname":"shk1230","note":"","ucode":"9E39279C23FF8F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555925,"discussion_content":"ç¬¬ä¸€æ­¥ï¼Œå…ˆè®¡ç®—é—¨åº—é”€å”®åˆè®¡\nCREATE TEMPORARY TABLE demo.temp1\nSELECT branchnumber,sum(actualvalue) AS per_branch_sum-----æ¯é—¨åº—é”€å”®æ€»é‡‘é¢\nFROM demo.trans\nGROUP BY branchnumber;\n\nç¬¬äºŒæ­¥ï¼Œæ¯é—¨åº—ï¼Œæ¯æ”¶æ¬¾æœºçš„é‡‘é¢ï¼ˆæœ‰ä¸ªç–‘é—®ï¼šå³ä½¿é—¨åº—ç›¸åŒï¼Œæ”¶æ¬¾æœºçš„ç¼–å·éƒ½æ˜¯å”¯ä¸€çš„å§ï¼Ÿï¼‰\nCREATE TEMPORARY TABLE demo.temp2\nSELECT branchnumber,cashiernumber,cashiernumber AS per_cashier_sum---æ¯é—¨åº—æ¯å°æ”¶æ¬¾æœºçš„é‡‘é¢\nFROM demo.trans\n\nç¬¬ä¸‰æ­¥ï¼Œè®¡ç®—æŒ‰æ¯é—¨åº—ã€æ¯æ”¶æ¬¾æœºçš„é”€å”®å æ¯”\nSELECT a.branchnumber,a.cashiernumber, a.per_cashier_sum/b. per_branch_sum\nFROM demo.temp2 AS a,demo.temp1 AS b\nWHERE (a.branchnumber=b.branchnumber)\nORDER BY a.branchnumber,a.cashiernumber","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647125909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287946,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1618230693,"is_pvip":false,"replies":[{"id":"106402","content":"è°¢è°¢é¼“åŠ±ï¼Œè§†å›¾ç¡®å®ä¼šå¢åŠ ç»´æŠ¤æˆæœ¬ï¼Œè¦æ ¹æ®å®é™…æƒ…å†µå†³å®šæ˜¯å¦ä½¿ç”¨","user_name":"ä½œè€…å›å¤","comment_id":287946,"uid":"2356905","ip_address":"","utype":1,"ctime":1621504578,"user_name_real":"æœ±æ™“å³°"}],"discussion_count":1,"race_medal":0,"score":"23093067173","product_id":100073201,"comment_content":"åœ¨å…¬å¸ä¸‹ç­åç”¨äº†ä¸€ä¸ªå¤šç•ªèŒ„ç§å­¦å®Œäº†è¿™èŠ‚çš„å†…å®¹ã€‚è¦æƒ³ä¿æŒå·¥ä½œä¹‹å¤–æŒ¤å‡ºæ—¶é—´æ¥å­¦ä¹ ï¼Œå¿…é¡»è¦è®©è‡ªå·±ä¿æŒæ³¨æ„åŠ›é«˜åº¦é›†ä¸­ã€‚<br><br>è€å¸ˆã€Œè§†å›¾ã€è¿™ä¸€è®²çš„å†…å®¹å¾ˆæ¸…æ™°ï¼Œè¿™ä¸ªä¸“æ æ¯ä¸€è®²çš„å†…å®¹éƒ½ç®—å¾ˆå…·ä½“äº†ã€‚èµä¸€ä¸ªã€‚<br><br>å¯¹äºè§†å›¾æ¥è¯´ï¼Œå¥½å¤šå…¬å¸éƒ½æ˜ç¡®ç¦æ­¢ä½¿ç”¨äº†ã€‚æ¯”èµ·å®ƒçš„é‚£ç‚¹æŸ¥è¯¢çš„å°è£…ï¼ŒåæœŸçš„ç»´æŠ¤æˆæœ¬æ›´é«˜ã€‚å› ä¸ºå¼€å‘ä¸­è¦ç»å¸¸å¯¹æ•°æ®è¡¨ç»“æ„åšæ”¹åŠ¨ï¼Œå¦‚æœå¯¹ä¸šåŠ¡ä¸ç†Ÿçš„æ–°åŒäº‹ï¼Œå¾ˆå®¹æ˜“å°±å¿˜è®°ä¿®æ”¹å¯¹åº”çš„è§†å›¾åˆ›å»ºè¯­å¥ã€‚è€Œåœ¨ä»£ç ä¸­è¯¥SQLè¯­å¥ç›¸å¯¹æ¥è¯´ï¼Œæ›´åŠ ç›´è§‚å’Œä¸å®¹æ˜“é—å¿˜ã€‚","like_count":6,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518470,"discussion_content":"è°¢è°¢é¼“åŠ±ï¼Œè§†å›¾ç¡®å®ä¼šå¢åŠ ç»´æŠ¤æˆæœ¬ï¼Œè¦æ ¹æ®å®é™…æƒ…å†µå†³å®šæ˜¯å¦ä½¿ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621504578,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287662,"user_name":"undefined","can_delete":false,"product_type":"c1","uid":1100750,"ip_address":"","ucode":"768098DBDBE333","user_header":"https://static001.geekbang.org/account/avatar/00/10/cb/ce/d9e00eb5.jpg","comment_is_top":false,"comment_ctime":1618074892,"is_pvip":false,"replies":[{"id":"106394","content":"å¯¹çš„","user_name":"ä½œè€…å›å¤","comment_id":287662,"uid":"2356905","ip_address":"","utype":1,"ctime":1621504154,"user_name_real":"æœ±æ™“å³°"}],"discussion_count":1,"race_medal":0,"score":"23092911372","product_id":100073201,"comment_content":"ä¸´æ—¶è¡¨é’ˆå¯¹å½“å‰ä¼šè¯ç”Ÿæ•ˆï¼Œå®ƒæŠŠæ•°æ®ç¼“å­˜åœ¨å†…å­˜æˆ–ç£ç›˜ï¼›<br>è€Œè§†å›¾ä»…ä»…æ˜¯SQLï¼Œæ¯æ¬¡æ‰§è¡ŒQueryæ—¶è·å¾—åŸå§‹è¡¨çš„æ•°æ®ã€‚<br><br>è§†å›¾æ“ä½œæ•°æ®å¯¹åº”å®é™…çš„Tableï¼Œè€Œä¸´æ—¶è¡¨åˆ™æ˜¯å†…å­˜æˆ–ç£ç›˜ä¸Šçš„ä¸€ä»½æ‹·è´ã€‚<br><br>ç”±äºä¸´æ—¶è¡¨å¯ä»¥æ˜¯åŸå§‹æ•°æ®çš„ä¸€ä»½å­é›†ï¼Œæ‰€ä»¥ç”¨æ¥æå‡æŸ¥è¯¢é€Ÿåº¦ï¼Œé¿å…æ‰«ææ‰€æœ‰æ•°æ®ã€‚","like_count":5,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518380,"discussion_content":"å¯¹çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621504154,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324962,"user_name":"è‰ºè¶…(é²é¸£)","can_delete":false,"product_type":"c1","uid":1029436,"ip_address":"","ucode":"7F749FA543E0F1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b5/3c/967d7291.jpg","comment_is_top":false,"comment_ctime":1638759224,"is_pvip":false,"replies":[{"id":"120754","content":"ååˆ†æ„Ÿè°¢æ‚¨çš„æŒ‡æ­£ï¼Œå•†å“è¡¨ä¸­çš„å­—æ®µåæœ‰è¯¯ï¼Œåº”è¯¥æ˜¯â€œquantityâ€è€Œä¸æ˜¯â€œsalesquantityâ€ï¼Œæˆ‘å·²ç»è¯·åå°è¿›è¡Œä¿®æ­£ã€‚","user_name":"ä½œè€…å›å¤","comment_id":324962,"uid":"2356905","ip_address":"","utype":1,"ctime":1642308101,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"10228693816","product_id":100073201,"comment_content":"è®²è§£ç®€æ´æ˜äº†ï¼Œæ¡ˆä¾‹å¾ˆæœ‰ç”¨ï¼Œä½†æ˜¯æœ¬èŠ‚transè¡¨ä¸­é”€å”®æ•°é‡æ ä½ï¼Œå‰åæ–‡ä¸å¤ªä¸€è‡´ï¼Œæœ‰çš„åœ°æ–¹æ˜¯quantity,æœ‰çš„åœ°æ–¹æ˜¯salesquantityï¼Œå¯èƒ½ä¼šå¯¹åˆå­¦è€…é€ æˆå›°æ‰°ã€‚","like_count":2,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546392,"discussion_content":"ååˆ†æ„Ÿè°¢æ‚¨çš„æŒ‡æ­£ï¼Œå•†å“è¡¨ä¸­çš„å­—æ®µåæœ‰è¯¯ï¼Œåº”è¯¥æ˜¯â€œquantityâ€è€Œä¸æ˜¯â€œsalesquantityâ€ï¼Œæˆ‘å·²ç»è¯·åå°è¿›è¡Œä¿®æ­£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642308102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":290381,"user_name":"æœ«æ—¥ï¼Œæˆæ¬¢","can_delete":false,"product_type":"c1","uid":1812201,"ip_address":"","ucode":"BBAEBB9C93558A","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLm8skz4F7FGGBTXWUMia6qVEc00BddeXapicv5FkAx62GmOnUNEcE4scSR60AmappQoNdIQhccKsBA/132","comment_is_top":false,"comment_ctime":1619519602,"is_pvip":false,"replies":[{"id":"106477","content":"è§†å›¾å°±æ˜¯ä¸€æ®µSQLè¯­å¥ï¼Œå¦‚æœæ•°æ®è¡¨åˆ›å»ºäº†ç´¢å¼•ï¼Œé‚£ä¹ˆè§†å›¾ä¸­çš„æŸ¥è¯¢è¯­å¥å°±å¯èƒ½ä¼šç”¨åˆ°ç´¢å¼•","user_name":"ä½œè€…å›å¤","comment_id":290381,"uid":"2356905","ip_address":"","utype":1,"ctime":1621561716,"user_name_real":"æœ±æ™“å³°"}],"discussion_count":1,"race_medal":0,"score":"5914486898","product_id":100073201,"comment_content":"è§†å›¾ä¼šç”¨çš„ç´¢å¼•å—","like_count":1,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519190,"discussion_content":"è§†å›¾å°±æ˜¯ä¸€æ®µSQLè¯­å¥ï¼Œå¦‚æœæ•°æ®è¡¨åˆ›å»ºäº†ç´¢å¼•ï¼Œé‚£ä¹ˆè§†å›¾ä¸­çš„æŸ¥è¯¢è¯­å¥å°±å¯èƒ½ä¼šç”¨åˆ°ç´¢å¼•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621561716,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287616,"user_name":"bearlu","can_delete":false,"product_type":"c1","uid":1030862,"ip_address":"","ucode":"14F260C8B24E27","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ba/ce/fd45714f.jpg","comment_is_top":false,"comment_ctime":1618050626,"is_pvip":true,"replies":[{"id":"106393","content":"ç¬¬ä¸€ï¼Œè§†å›¾æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šçš„æŸ¥è¯¢è¯­å¥ï¼Œæ‰€æœ‰çš„è¿æ¥åªè¦æœ‰ç›¸åº”çš„æƒé™ï¼Œå°±å¯ä»¥ä½¿ç”¨ã€‚ä¸´æ—¶è¡¨åªé™äºå½“å‰è¿æ¥ï¼Œè¿æ¥ä¸­æ–­è‡ªåŠ¨åˆ é™¤çš„ã€‚<br>ç¬¬äºŒï¼Œè§†å›¾æ˜¯ä¸ä¿å­˜æ•°æ®çš„ï¼Œä¸´æ—¶è¡¨ä¿å­˜æ•°æ®ã€‚","user_name":"ä½œè€…å›å¤","comment_id":287616,"uid":"2356905","ip_address":"","utype":1,"ctime":1621503910,"user_name_real":"æœ±æ™“å³°"}],"discussion_count":3,"race_medal":0,"score":"5913017922","product_id":100073201,"comment_content":"è€å¸ˆï¼Œè§†å›¾å’Œä¸´æ—¶è¡¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518369,"discussion_content":"ç¬¬ä¸€ï¼Œè§†å›¾æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šçš„æŸ¥è¯¢è¯­å¥ï¼Œæ‰€æœ‰çš„è¿æ¥åªè¦æœ‰ç›¸åº”çš„æƒé™ï¼Œå°±å¯ä»¥ä½¿ç”¨ã€‚ä¸´æ—¶è¡¨åªé™äºå½“å‰è¿æ¥ï¼Œè¿æ¥ä¸­æ–­è‡ªåŠ¨åˆ é™¤çš„ã€‚\nç¬¬äºŒï¼Œè§†å›¾æ˜¯ä¸ä¿å­˜æ•°æ®çš„ï¼Œä¸´æ—¶è¡¨ä¿å­˜æ•°æ®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621503910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1201022,"avatar":"https://static001.geekbang.org/account/avatar/00/12/53/7e/b6829040.jpg","nickname":"SevenMonths","note":"","ucode":"62A9740FBD1FAE","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391527,"discussion_content":"ã€ç¬¬äºŒï¼Œè§†å›¾æ˜¯ä¸ä¿å­˜æ•°æ®çš„ï¼Œä¸´æ—¶è¡¨ä¿å­˜æ•°æ®ã€‚ã€‘\n æ¯æŸ¥è¯¢ä¸€æ¬¡è§†å›¾è¡¨ã€‚è§†å›¾è¡¨éƒ½è¦æ ¹æ®è¯­å¥å»åŸå§‹è¡¨æŸ¥ä¸€éå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630497164,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2016188,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/c3/bc/77549ce4.jpg","nickname":"å°æ˜é’ˆä¸æˆ³","note":"","ucode":"64D729196221E2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370048,"discussion_content":"å…±åŒç‚¹æ˜¯éƒ½å¯ä»¥èŠ‚çœç©ºé—´,ä¸åŒç‚¹æ˜¯ä¸´æ—¶è¡¨åªæœ‰è‡ªå·±å¯è§,è€Œè§†å›¾æ˜¯åŸºäºåŸå§‹è¡¨çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619267271,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":346064,"user_name":"é˜¿ç”˜","can_delete":false,"product_type":"c1","uid":1057843,"ip_address":"","ucode":"BC93175B70E05D","user_header":"https://static001.geekbang.org/account/avatar/00/10/24/33/bcf37f50.jpg","comment_is_top":false,"comment_ctime":1652798060,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1652798060","product_id":100073201,"comment_content":"æˆ‘è®°å¾—æœ‰ä¸€ç§è§†å›¾å«åš ç‰©åŒ–è§†å›¾ æ˜¯æœ‰ä¿å­˜å®é™…æŸ¥è¯¢ç»“æœçš„ã€‚","like_count":0},{"had_liked":false,"id":331410,"user_name":"æ«æ—è¡€èˆ","can_delete":false,"product_type":"c1","uid":2809867,"ip_address":"","ucode":"EE7F6DA78D21EA","user_header":"https://static001.geekbang.org/account/avatar/00/2a/e0/0b/6f667b2c.jpg","comment_is_top":false,"comment_ctime":1642578190,"is_pvip":true,"replies":[{"id":"123470","content":"è¯·å‚è€ƒæ€è€ƒé¢˜ç­”æ¡ˆ","user_name":"ä½œè€…å›å¤","comment_id":331410,"uid":"2356905","ip_address":"","utype":1,"ctime":1647072545,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1642578190","product_id":100073201,"comment_content":"äº¤ä½œä¸šï¼š<br>-- é—¨ç¥¨ä¿¡æ¯è¡¨<br>create table demo.ticket<br>(<br>id int primary key,<br>tname text,<br>typeid int,<br>balance int<br>);<br>insert into demo.ticket<br>(<br>id,<br>tname,<br>typeid,<br>balance<br>)<br>values<br>(1, &#39;å…¥å›­é—¨ç¥¨&#39;, 1, 100),<br>(2, &#39;æ”¶è´¹åœºé¦†Aé—¨ç¥¨&#39;, 2, 70),<br>(3, &#39;æ”¶è´¹åœºé¦†Bé—¨ç¥¨&#39;, 2, 50);<br><br>-- ç±»åˆ«ä¿¡æ¯è¡¨åŒ…å«ç±»åˆ«ç¼–å·ã€å¼€é—¨æ—¶é—´å’Œé—­é¦†æ—¶é—´ã€‚<br>create table demo.typeinfo<br>(<br>typeid int primary key,<br>opentime text,<br>closetime text<br>);<br>insert into demo.typeinfo<br>(<br>typeid,<br>opentime,<br>closetime<br>)<br>values<br>(1, &#39;9:00&#39;, &#39;17:00&#39;),<br>(2, &#39;10:00&#39;, &#39;14:00&#39;);<br><br>-- demo.typeinfo demo.ticket<br>select * from demo.ticket;<br>select * from demo.typeinfo;<br><br>-- è¯·ç¼–å†™ä¸€ä¸ªè§†å›¾ï¼Œè§†å›¾è¿”å›çš„ç»“æœé›†åŒ…æ‹¬ï¼šå½“å‰æ—¶é—´å¯ä»¥å–çš„é—¨ç¥¨åç§°å’Œå‰©ä½™æ•°é‡ï¼ˆè¯´æ˜ï¼šå¼€é—¨å‰ 30 åˆ†é’Ÿå¼€å§‹å”®ç¥¨ï¼Œç»“æŸå‰ 30 åˆ†é’Ÿåœæ­¢å”®ç¥¨ï¼‰<br>create view demo.ticket_typeinfo as <br>select <br>a.id,<br>a.tname,<br>a.balance<br>from <br>demo.ticket as a<br>join <br>demo.typeinfo as b<br>on a.typeid = b.typeid<br>where hour(current_time()) &gt; b.opentime<br>and hour(current_time()) &lt; b.closetime;","like_count":0,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555775,"discussion_content":"è¯·å‚è€ƒæ€è€ƒé¢˜ç­”æ¡ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647072545,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326545,"user_name":"Geek_9a859a","can_delete":false,"product_type":"c1","uid":2859417,"ip_address":"","ucode":"5FB3A43EFE6F6A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJOa3ev8pPVIEfM3jX2PfruhISTd1YduxgbAF7ELhYGibCdJRP9mtjsM4ib0SzNKIAHhiasoq5zAl8mQ/132","comment_is_top":false,"comment_ctime":1639556938,"is_pvip":false,"replies":[{"id":"120763","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","comment_id":326545,"uid":"2356905","ip_address":"","utype":1,"ctime":1642308243,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1639556938","product_id":100073201,"comment_content":"å¦‚æœè§†å›¾æ˜¯ä»¥æŸ¥è¯¢è¯­å¥å»ºç«‹çš„ï¼Œä¸åŸºç¡€è¡¨çš„æ•°æ®æ²¡æœ‰ä¸€ä¸€å¯¹åº”çš„å…³ç³»æˆ–è€…å­˜åœ¨ä¸€äº›ç‰¹æ®Šç»“æ„ï¼Œé‚£ä¹ˆè§†å›¾æ˜¯ä¸æ˜¯å°±åªæœ‰æŸ¥çœ‹æˆ–è€…ä½œä¸ºæ´¾ç”Ÿè¡¨è¿™ä¸¤ç§åŠŸèƒ½ï¼Œä¸èƒ½å¯¹è§†å›¾çš„æ•°æ®è¿›è¡Œæ›´æ–°äº†","like_count":0,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546402,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642308243,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310138,"user_name":"SevenMonths","can_delete":false,"product_type":"c1","uid":1201022,"ip_address":"","ucode":"62A9740FBD1FAE","user_header":"https://static001.geekbang.org/account/avatar/00/12/53/7e/b6829040.jpg","comment_is_top":false,"comment_ctime":1630497074,"is_pvip":true,"replies":[{"id":"113739","content":"ä¼šåé¦ˆç»™åå°","user_name":"ä½œè€…å›å¤","comment_id":310138,"uid":"2356905","ip_address":"","utype":1,"ctime":1632798532,"user_name_real":"æœ±æ™“å³°"}],"discussion_count":1,"race_medal":0,"score":"1630497074","product_id":100073201,"comment_content":"çœ‹åˆ°è¿™é‡Œå‘ç°è¯„è®ºä¾ç„¶ç‰¹åˆ«å°‘ã€‚åæ¥æ‰å‘ç°è¯„è®ºåéœ€è¦ä½œè€…åŒæ„æ‰èƒ½å±•ç¤ºã€‚<br>è‡ªæˆ‘æ„Ÿè§‰åœ¨è¯„è®ºåŒºä¹Ÿèƒ½å­¦åˆ°å¾ˆå¤šçŸ¥è¯†ï¼Œæœ‰æ—¶å€™è€å¸ˆæ²¡æ—¶é—´å›å¤çš„é—®é¢˜ï¼Œè¯„è®ºåŒºå…¶ä»–åŒå­¦å°±å›å¤äº†ã€‚<br>ç›´ç™½çš„è¯´æˆ‘æ˜¯å…ˆçœ‹çš„ç›—ç‰ˆï¼Œè§‰å¾—æŒºä¸é”™æ‰æ¥æ”¯æŒæ­£ç‰ˆçš„ã€‚<br>æœ€ä¸»è¦çš„åŸå› æ˜¯æƒ³å’Œè€å¸ˆè¿˜æœ‰è¯„è®ºåŒºçš„åŒå­¦äº’åŠ¨è®¨è®ºä¸‹ã€‚","like_count":0,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526142,"discussion_content":"ä¼šåé¦ˆç»™åå°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632798532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295794,"user_name":"è¿½å¿†ä¼¼æ°´å¹´å","can_delete":false,"product_type":"c1","uid":1160192,"ip_address":"","ucode":"C1D7C0DD7E7411","user_header":"https://static001.geekbang.org/account/avatar/00/11/b4/00/661fb98d.jpg","comment_is_top":false,"comment_ctime":1622600342,"is_pvip":true,"replies":[{"id":"109144","content":"éå¸¸æ„Ÿè°¢æ‚¨çš„ç•™è¨€ï¼Œè¿™ä¸ªåœ°æ–¹çš„ä¸¤ä¸ªviewæ„ä¹‰ä¸åŒï¼Œæˆ‘å·²ç»è¯·åå°åŠ ä»¥ä¿®æ­£ã€‚","user_name":"ä½œè€…å›å¤","comment_id":295794,"uid":"2356905","ip_address":"","utype":1,"ctime":1625711666,"user_name_real":"æœ±æ™“å³°"}],"discussion_count":1,"race_medal":0,"score":"1622600342","product_id":100073201,"comment_content":"è§†å›¾çš„åç§°æ˜¯ä¸æ˜¯å‰åä¸ä¸€è‡´ï¼Ÿå‰é¢æ˜¯ trans_goodsmasterï¼Œåé¢æˆäº† view_goodsmasterã€‚","like_count":0,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521219,"discussion_content":"éå¸¸æ„Ÿè°¢æ‚¨çš„ç•™è¨€ï¼Œè¿™ä¸ªåœ°æ–¹çš„ä¸¤ä¸ªviewæ„ä¹‰ä¸åŒï¼Œæˆ‘å·²ç»è¯·åå°åŠ ä»¥ä¿®æ­£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1625711666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":292225,"user_name":"èœé¸ŸğŸ¤è¦å…ˆé£","can_delete":false,"product_type":"c1","uid":1202379,"ip_address":"","ucode":"56668DB891F7BC","user_header":"https://static001.geekbang.org/account/avatar/00/12/58/cb/daf94c0e.jpg","comment_is_top":false,"comment_ctime":1620726818,"is_pvip":false,"replies":[{"id":"106534","content":"è¯·å‚è€ƒæ€è€ƒé¢˜ç­”æ¡ˆ","user_name":"ä½œè€…å›å¤","comment_id":292225,"uid":"2356905","ip_address":"","utype":1,"ctime":1621567010,"user_name_real":"æœ±æ™“å³°"}],"discussion_count":1,"race_medal":0,"score":"1620726818","product_id":100073201,"comment_content":"CREATE VIEW view_quantity_available AS SELECT<br>a.tname,<br>a.balance <br>FROM<br>\ttickets AS a<br>\tLEFT JOIN ticketstype AS b ON a.typeid = b.typeid <br>WHERE<br>\t( opentime - INTERVAL 30 MINUTE ) &lt;= time(<br>\tnow()) <br>\tAND time(<br>\t\tnow())&lt; (<br>\tclosetime - INTERVAL 30 MINUTE)","like_count":0,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519734,"discussion_content":"è¯·å‚è€ƒæ€è€ƒé¢˜ç­”æ¡ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621567010,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287767,"user_name":"giteebravo","can_delete":false,"product_type":"c1","uid":1005290,"ip_address":"","ucode":"C087E8D6B5A98B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg","comment_is_top":false,"comment_ctime":1618139643,"is_pvip":false,"replies":[{"id":"106397","content":"è§†å›¾ä¼šå¢åŠ æ•°æ®åº“çš„ç»´æŠ¤æˆæœ¬","user_name":"ä½œè€…å›å¤","comment_id":287767,"uid":"2356905","ip_address":"","utype":1,"ctime":1621504359,"user_name_real":"æœ±æ™“å³°"}],"discussion_count":1,"race_medal":1,"score":"1618139643","product_id":100073201,"comment_content":"<br>ä½¿ç”¨è§†å›¾åï¼Œä»£ç çš„å¯è¯»æ€§æ›´å¥½ï¼Œä¹Ÿæ›´å®¹æ˜“ç»´æŠ¤äº†ã€‚<br><br>ä¸å»ºè®®ç›´æ¥é€šè¿‡è§†å›¾æ’å…¥ã€ä¿®æ”¹å’Œåˆ é™¤æ•°æ®ï¼ŒåæœŸç»´æŠ¤ä¼šå‡ºç°ä¸å¯é¢„æ–™çš„éº»çƒ¦ã€‚<br><br>ä½¿ç”¨è§†å›¾æœ€å¤§çš„å¥½å¤„ï¼Œæˆ‘è®¤ä¸ºå°±æ˜¯è®©æŸ¥è¯¢å˜å¾—æ›´ç®€å•ï¼Œä¸”æ›´æ¨¡å—åŒ–ï¼Œæé«˜äº†å¼€å‘å’Œç»´æŠ¤çš„æ•ˆç‡ã€‚<br><br>è‡³äºåµŒå¥—çš„è§†å›¾ï¼Œæƒ³æƒ³è¿˜æ˜¯æˆ’äº†å§ã€‚<br>","like_count":0,"discussions":[{"author":{"id":2356905,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLZKoB7sooIiaCHqcdNGI97WI3ZJLJph4mibIiat1qRvrBmkicZTEYvyT5iax1vlLFFgk2xgUibmnWvkicWA/132","nickname":"æœ±æ™“å³°","note":"","ucode":"D2F84F44329C29","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518411,"discussion_content":"è§†å›¾ä¼šå¢åŠ æ•°æ®åº“çš„ç»´æŠ¤æˆæœ¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621504359,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":131317,"title":"10 | é—­åŒ…ï¼š ç†è§£äº†åŸç†ï¼Œå®ƒå°±ä¸åç›´è§‰äº†","content":"<p>åœ¨è®²ä½œç”¨åŸŸå’Œç”Ÿå­˜æœŸæ—¶ï¼Œæˆ‘æåˆ°å‡½æ•°é‡Œçš„æœ¬åœ°å˜é‡åªèƒ½åœ¨å‡½æ•°å†…éƒ¨è®¿é—®ï¼Œå‡½æ•°é€€å‡ºä¹‹åï¼Œä½œç”¨åŸŸå°±æ²¡ç”¨äº†ï¼Œå®ƒå¯¹åº”çš„æ ˆæ¡¢è¢«å¼¹å‡ºï¼Œä½œç”¨åŸŸä¸­çš„æ‰€æœ‰å˜é‡æ‰€å ç”¨çš„å†…å­˜ä¹Ÿä¼šè¢«æ”¶å›ã€‚</p><p>ä½†ååè·‘å‡ºæ¥<strong>é—­åŒ…ï¼ˆClosureï¼‰</strong>è¿™ä¸ªæ€ªç‰©ã€‚</p><p>åœ¨JavaScriptä¸­ï¼Œç”¨å¤–å±‚å‡½æ•°è¿”å›ä¸€ä¸ªå†…å±‚å‡½æ•°ä¹‹åï¼Œè¿™ä¸ªå†…å±‚å‡½æ•°èƒ½ä¸€ç›´è®¿é—®å¤–å±‚å‡½æ•°ä¸­çš„æœ¬åœ°å˜é‡ã€‚æŒ‰ç†è¯´ï¼Œè¿™ä¸ªæ—¶å€™å¤–å±‚å‡½æ•°å·²ç»é€€å‡ºäº†ï¼Œå®ƒé‡Œé¢çš„å˜é‡ä¹Ÿè¯¥ä½œåºŸäº†ã€‚å¯é—­åŒ…å´éå¸¸æ‰§ç€ï¼Œå³ä½¿å¤–å±‚å‡½æ•°å·²ç»é€€å‡ºï¼Œä½†å†…å±‚å‡½æ•°ä»¿ä½›ä¸çŸ¥é“è¿™ä¸ªäº‹å®ä¸€æ ·ï¼Œè¿˜ç»§ç»­è®¿é—®å¤–å±‚å‡½æ•°ä¸­å£°æ˜çš„å˜é‡ï¼Œå¹¶ä¸”è¿˜çœŸçš„èƒ½å¤Ÿæ­£å¸¸è®¿é—®ã€‚</p><p>ä¸è¿‡ï¼Œé—­åŒ…æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œå¯¹åº“çš„ç¼–å†™è€…æ¥è®²ï¼Œå®ƒèƒ½éšè—å†…éƒ¨å®ç°ç»†èŠ‚ï¼›å¯¹é¢è¯•è€…æ¥è®²ï¼Œå®ƒå‡ ä¹æ˜¯å‰ç«¯é¢è¯•å¿…é—®çš„ä¸€ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚å¦‚ä½•ç”¨é—­åŒ…ç‰¹æ€§å®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Ÿç­‰ç­‰ã€‚</p><p>æœ¬èŠ‚è¯¾ï¼Œæˆ‘ä¼šå¸¦ä½ ç ”ç©¶é—­åŒ…çš„å®ç°æœºåˆ¶ï¼Œè®©ä½ æ·±å…¥ç†è§£ä½œç”¨åŸŸå’Œç”Ÿå­˜æœŸï¼Œæ›´å¥½åœ°ä½¿ç”¨é—­åŒ…ç‰¹æ€§ã€‚ä¸ºæ­¤ï¼Œè¦è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul>\n<li><strong>å‡½æ•°è¦å˜æˆplayscriptçš„ä¸€ç­‰å…¬æ°‘ã€‚</strong>ä¹Ÿå°±æ˜¯è¦èƒ½æŠŠå‡½æ•°åƒæ™®é€šæ•°å€¼ä¸€æ ·èµ‹å€¼ç»™å˜é‡ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ï¼Œå¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ã€‚</li>\n<li><strong>è¦è®©å†…å±‚å‡½æ•°ä¸€ç›´è®¿é—®å®ƒç¯å¢ƒä¸­çš„å˜é‡ï¼Œä¸ç®¡å¤–å±‚å‡½æ•°é€€å‡ºä¸å¦ã€‚</strong></li>\n</ul><p>æˆ‘ä»¬å…ˆé€šè¿‡ä¸€ä¸ªä¾‹å­ï¼Œç ”ç©¶ä¸€ä¸‹é—­åŒ…çš„ç‰¹æ€§ï¼Œçœ‹çœ‹å®ƒå¦ç±»åœ¨å“ªé‡Œã€‚</p><h2>é—­åŒ…çš„å†…åœ¨çŸ›ç›¾</h2><!-- [[[read_end]]] --><p>æ¥æµ‹è¯•ä¸€ä¸‹JavaScriptçš„é—­åŒ…ç‰¹æ€§ï¼š</p><pre><code>/**\n * clojure.js\n * æµ‹è¯•é—­åŒ…ç‰¹æ€§\n * ä½œè€…ï¼šå®«æ–‡å­¦\n */\nvar a = 0;\n\nvar fun1 = function(){\n    var b = 0;                // å‡½æ•°å†…çš„å±€éƒ¨å˜é‡\n\n    var inner = function(){   // å†…éƒ¨çš„ä¸€ä¸ªå‡½æ•°\n        a = a+1;\n        b = b+1;\n        return b;             // è¿”å›å†…éƒ¨çš„æˆå‘˜\n    }\n\n    return inner;             // è¿”å›ä¸€ä¸ªå‡½æ•°\n}\n\nconsole.log(&quot;outside:  a=%d&quot;, a);\n\nvar fun2 = fun1();                            // ç”Ÿæˆé—­åŒ…\nfor (var i = 0; i&lt; 2; i++){\n    console.log(&quot;fun2: b=%d a=%d&quot;,fun2(), a); //é€šè¿‡fun2()æ¥è®¿é—®b\n}\n\nvar fun3 = fun1();                            // ç”Ÿæˆç¬¬äºŒä¸ªé—­åŒ…\nfor (var i = 0; i&lt; 2; i++){\n    console.log(&quot;fun3: b=%d a=%d&quot;,fun3(), a); // bç­‰äº1ï¼Œé‡æ–°å¼€å§‹\n}\n</code></pre><p>åœ¨Node.jsç¯å¢ƒä¸‹è¿è¡Œä¸Šé¢è¿™æ®µä»£ç çš„ç»“æœå¦‚ä¸‹ï¼š</p><pre><code>outside:  a=0\nfun2: b=1 a=1\nfun2: b=2 a=2\nfun3: b=1 a=3\nfun3: b=2 a=4\n</code></pre><p>è§‚å¯Ÿè¿™ä¸ªç»“æœï¼Œå¯ä»¥å¾—å‡ºä¸¤ç‚¹ï¼š</p><ul>\n<li>å†…å±‚çš„å‡½æ•°èƒ½è®¿é—®å®ƒâ€œçœ‹å¾—è§â€çš„å˜é‡ï¼ŒåŒ…æ‹¬è‡ªå·±çš„æœ¬åœ°å˜é‡ã€å¤–å±‚å‡½æ•°çš„å˜é‡bå’Œå…¨å±€å˜é‡aã€‚</li>\n<li>å†…å±‚å‡½æ•°ä½œä¸ºè¿”å›å€¼èµ‹å€¼ç»™å…¶ä»–å˜é‡ä»¥åï¼Œå¤–å±‚å‡½æ•°å°±ç»“æŸäº†ï¼Œä½†å†…å±‚å‡½æ•°ä»èƒ½è®¿é—®åŸæ¥å¤–å±‚å‡½æ•°çš„å˜é‡bï¼Œä¹Ÿèƒ½è®¿é—®å…¨å±€å˜é‡aã€‚</li>\n</ul><p>è¿™æ ·ä¼¼ä¹è®©äººæ„Ÿåˆ°å›°æƒ‘ï¼šç«™åœ¨å¤–å±‚å‡½æ•°çš„è§’åº¦çœ‹ï¼Œæ˜æ˜è¿™ä¸ªå‡½æ•°å·²ç»é€€å‡ºäº†ï¼Œå˜é‡båº”è¯¥å¤±æ•ˆäº†ï¼Œä¸ºä»€ä¹ˆè¿˜å¯ä»¥ç»§ç»­è®¿é—®ï¼Ÿä½†æ˜¯å¦‚æœæ¢ä¸ªç«‹åœºï¼Œç«™åœ¨innerè¿™ä¸ªå‡½æ•°çš„è§’åº¦æ¥çœ‹ï¼Œå£°æ˜innerå‡½æ•°çš„æ—¶å€™ï¼Œå‘Šè¯‰å®ƒå¯ä»¥è®¿é—®bï¼Œä¸èƒ½å› ä¸ºæŠŠinnerå‡½æ•°èµ‹å€¼ç»™äº†å…¶ä»–å˜é‡ï¼Œinnerå‡½æ•°é‡ŒåŸæœ¬æ­£ç¡®çš„è¯­å¥å°±ä¸èƒ½ç”¨äº†å•Šã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/25/eb/25c5a91dd544ac1801f759ccc5b85ceb.jpg?wh=1142*564\" alt=\"å›¾ç‰‡: https://uploader.shimo.im/f/ZmhV8tamLjo5KkP4.png\"></p><p>å…¶å®ï¼Œåªè¦å‡½æ•°èƒ½ä½œä¸ºå€¼ä¼ æ¥ä¼ å»ï¼Œå°±ä¸€å®šä¼šäº§ç”Ÿä½œç”¨åŸŸä¸åŒ¹é…çš„æƒ…å†µï¼Œè¿™æ ·çš„å†…åœ¨çŸ›ç›¾æ˜¯è¯­è¨€è®¾è®¡æ—¶å°±å†³å®šäº†çš„ã€‚<strong>æˆ‘è®¤ä¸ºï¼Œé—­åŒ…æ˜¯ä¸ºäº†è®©å‡½æ•°èƒ½å¤Ÿåœ¨è¿™ç§æƒ…å†µä¸‹ç»§ç»­è¿è¡Œæ‰€æä¾›çš„ä¸€ä¸ªæ–¹æ¡ˆã€‚</strong>è¿™ä¸ªæ–¹æ¡ˆæœ‰ä¸€äº›ä¸é”™çš„ç‰¹ç‚¹ï¼Œæ¯”å¦‚éšè—å‡½æ•°æ‰€ä½¿ç”¨çš„æ•°æ®ï¼Œæ­ªæ‰“æ­£ç€åå€’æˆäº†ä¸€ä¸ªä¼˜ç‚¹äº†ï¼</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘æƒ³è¡¥å……ä¸€ä¸‹<strong>é™æ€ä½œç”¨åŸŸï¼ˆStatic Scopeï¼‰</strong>è¿™ä¸ªçŸ¥è¯†ç‚¹ï¼Œå¦‚æœä¸€é—¨è¯­è¨€çš„ä½œç”¨åŸŸæ˜¯é™æ€ä½œç”¨åŸŸï¼Œé‚£ä¹ˆç¬¦å·ä¹‹é—´çš„å¼•ç”¨å…³ç³»èƒ½å¤Ÿæ ¹æ®ç¨‹åºä»£ç åœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šæ¸…æ¥šï¼Œåœ¨è¿è¡Œæ—¶ä¸ä¼šå˜ã€‚æŸä¸ªå‡½æ•°æ˜¯åœ¨å“ªå£°æ˜çš„ï¼Œå°±å…·æœ‰å®ƒæ‰€åœ¨ä½ç½®çš„ä½œç”¨åŸŸã€‚å®ƒèƒ½å¤Ÿè®¿é—®å“ªäº›å˜é‡ï¼Œé‚£ä¹ˆå°±è·Ÿè¿™äº›å˜é‡ç»‘å®šäº†ï¼Œåœ¨è¿è¡Œæ—¶å°±ä¸€ç›´èƒ½è®¿é—®è¿™äº›å˜é‡ã€‚</p><p>çœ‹ä¸€çœ‹ä¸‹é¢çš„ä»£ç ï¼Œå¯¹äºé™æ€ä½œç”¨åŸŸè€Œè¨€ï¼Œæ— è®ºåœ¨å“ªé‡Œè°ƒç”¨foo()å‡½æ•°ï¼Œè®¿é—®çš„å˜é‡iéƒ½æ˜¯å…¨å±€å˜é‡ï¼š</p><pre><code>int i = 1;\nvoid foo(){\n  println(i); // è®¿é—®å…¨å±€å˜é‡\n}\n\nfoo();        // è®¿é—®å…¨å±€å˜é‡\n\nvoid bar(){\n  int i = 2; \n  foo();      // åœ¨è¿™é‡Œè°ƒç”¨foo()ï¼Œè®¿é—®çš„ä»ç„¶æ˜¯å…¨å±€å˜é‡\n}\n</code></pre><p>æˆ‘ä»¬ç›®å‰ä½¿ç”¨çš„å¤§å¤šæ•°è¯­è¨€éƒ½æ˜¯é‡‡ç”¨é™æ€ä½œç”¨åŸŸçš„ã€‚playscriptè¯­è¨€ä¹Ÿæ˜¯åœ¨ç¼–è¯‘æ—¶å°±å½¢æˆä¸€ä¸ªScopeçš„æ ‘ï¼Œå˜é‡çš„å¼•ç”¨ä¹Ÿæ˜¯åœ¨ç¼–è¯‘æ—¶å°±åšäº†æ¶ˆè§£ï¼Œä¸å†æ”¹å˜ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯é‡‡ç”¨äº†é™æ€ä½œç”¨åŸŸã€‚</p><p>åè¿‡æ¥è®²ï¼Œå¦‚æœåœ¨bar()é‡Œè°ƒç”¨foo()æ—¶ï¼Œfoo()è®¿é—®çš„æ˜¯bar()å‡½æ•°ä¸­çš„æœ¬åœ°å˜é‡iï¼Œé‚£å°±è¯´æ˜è¿™é—¨è¯­è¨€ä½¿ç”¨çš„æ˜¯<strong>åŠ¨æ€ä½œç”¨åŸŸï¼ˆDynamic Scopeï¼‰</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå˜é‡å¼•ç”¨è·Ÿå˜é‡å£°æ˜ä¸æ˜¯åœ¨ç¼–è¯‘æ—¶å°±ç»‘å®šæ­»äº†çš„ã€‚åœ¨è¿è¡Œæ—¶ï¼Œå®ƒæ˜¯åœ¨è¿è¡Œç¯å¢ƒä¸­åŠ¨æ€åœ°æ‰¾ä¸€ä¸ªç›¸åŒåç§°çš„å˜é‡ã€‚åœ¨macOSæˆ–Linuxä¸­ç”¨çš„bashè„šæœ¬è¯­è¨€ï¼Œå°±æ˜¯åŠ¨æ€ä½œç”¨åŸŸçš„ã€‚</p><p>é™æ€ä½œç”¨åŸŸå¯ä»¥ç”±ç¨‹åºä»£ç å†³å®šï¼Œåœ¨ç¼–è¯‘æ—¶å°±èƒ½å®Œå…¨ç¡®å®šï¼Œæ‰€ä»¥åˆå«åšè¯æ³•ä½œç”¨åŸŸï¼ˆLexcical Scopeï¼‰ã€‚ä¸è¿‡è¿™ä¸ªè¯æ³•è·Ÿæˆ‘ä»¬åšè¯æ³•åˆ†ææ—¶è¯´çš„è¯æ³•ä¸å¤§ä¸€æ ·ã€‚è¿™é‡Œï¼Œè·ŸLexicalç›¸å¯¹åº”çš„è¯æ±‡å¯ä»¥è®¤ä¸ºæ˜¯Runtimeï¼Œä¸€ä¸ªæ˜¯ç¼–å†™æ—¶ï¼Œä¸€ä¸ªæ˜¯è¿è¡Œæ—¶ã€‚</p><p>ç”¨é™æ€ä½œç”¨åŸŸçš„æ¦‚å¿µæè¿°ä¸€ä¸‹é—­åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·è¯´ï¼šå› ä¸ºæˆ‘ä»¬çš„è¯­è¨€æ˜¯é™æ€ä½œç”¨åŸŸçš„ï¼Œå®ƒèƒ½å¤Ÿè®¿é—®çš„å˜é‡ï¼Œéœ€è¦ä¸€ç›´éƒ½èƒ½è®¿é—®ï¼Œä¸ºæ­¤ï¼Œéœ€è¦æŠŠæŸäº›å˜é‡çš„ç”Ÿå­˜æœŸå»¶é•¿ã€‚</p><p>å½“ç„¶äº†ï¼Œé—­åŒ…çš„äº§ç”Ÿè¿˜æœ‰å¦ä¸€ä¸ªæ¡ä»¶ï¼Œå°±æ˜¯è®©å‡½æ•°æˆä¸ºä¸€ç­‰å…¬æ°‘ã€‚è¿™æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿæˆ‘ä»¬åˆæ€æ ·å®ç°å‘¢ï¼Ÿ</p><h2>å‡½æ•°ä½œä¸ºä¸€ç­‰å…¬æ°‘</h2><p>åœ¨JavaScriptå’ŒPythonç­‰è¯­è¨€é‡Œï¼Œå‡½æ•°å¯ä»¥åƒæ•°å€¼ä¸€æ ·ä½¿ç”¨ï¼Œæ¯”å¦‚ç»™å˜é‡èµ‹å€¼ã€ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ï¼Œä½œä¸ºå‡½æ•°è¿”å›å€¼ç­‰ç­‰ã€‚<strong>è¿™æ—¶ï¼Œæˆ‘ä»¬å°±è¯´å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ã€‚</strong></p><p>ä½œä¸ºä¸€ç­‰å…¬æ°‘çš„å‡½æ•°å¾ˆæœ‰ç”¨ï¼Œæ¯”å¦‚å®ƒèƒ½å¤„ç†æ•°ç»„ç­‰é›†åˆã€‚æˆ‘ä»¬ç»™æ•°ç»„çš„mapæ–¹æ³•ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç»“æœä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚æ•´ä¸ªè¿‡ç¨‹å¾ˆç®€æ´ï¼Œæ²¡æœ‰å‡ºç°å•°å—¦çš„å¾ªç¯è¯­å¥ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šäººæå€¡å‡½æ•°å¼ç¼–ç¨‹çš„åŸå› ä¹‹ä¸€ï¼š</p><pre><code>var newArray = [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;].map(\n      fucntion(value,index,array){\n          return parseInt(value,10)\n      })\n</code></pre><p>é‚£ä¹ˆåœ¨playscriptä¸­ï¼Œæ€ä¹ˆæŠŠå‡½æ•°ä½œä¸ºä¸€ç­‰å…¬æ°‘å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬éœ€è¦æ”¯æŒå‡½æ•°ä½œä¸ºåŸºç¡€ç±»å‹ï¼Œè¿™æ ·å°±å¯ä»¥ç”¨è¿™ç§ç±»å‹å£°æ˜å˜é‡ã€‚ä½†é—®é¢˜æ¥äº†ï¼Œå¦‚ä½•å£°æ˜ä¸€ä¸ªå‡½æ•°ç±»å‹çš„å˜é‡å‘¢ï¼Ÿ</p><p>åœ¨JavaScriptè¿™ç§åŠ¨æ€ç±»å‹çš„è¯­è¨€é‡Œï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå‡½æ•°èµ‹å€¼ç»™ä»»ä½•ä¸€ä¸ªå˜é‡ï¼Œå°±åƒå‰é¢ç¤ºä¾‹ä»£ç é‡Œçš„é‚£æ ·ï¼šinnerå‡½æ•°ä½œä¸ºè¿”å›å€¼ï¼Œè¢«èµ‹ç»™äº†fun2å’Œfun3ä¸¤ä¸ªå˜é‡ã€‚</p><p>ç„¶è€Œåœ¨Goè¯­è¨€è¿™æ ·è¦æ±‚ä¸¥æ ¼ç±»å‹åŒ¹é…çš„è¯­è¨€é‡Œï¼Œå°±æ¯”è¾ƒå¤æ‚äº†ï¼š</p><pre><code>type funcType func(int) int // Goè¯­è¨€ï¼Œå£°æ˜äº†ä¸€ä¸ªå‡½æ•°ç±»å‹funcType\nvar myFun funType          // ç”¨è¿™ä¸ªå‡½æ•°ç±»å‹å£°æ˜äº†ä¸€ä¸ªå˜é‡\n</code></pre><p>å®ƒå¯¹å‡½æ•°çš„åŸå‹æœ‰æ¯”è¾ƒä¸¥æ ¼çš„è¦æ±‚ï¼šå‡½æ•°å¿…é¡»æœ‰ä¸€ä¸ªintå‹çš„å‚æ•°ï¼Œè¿”å›å€¼ä¹Ÿå¿…é¡»æ˜¯intå‹çš„ã€‚</p><p>è€ŒCè¯­è¨€ä¸­å‡½æ•°æŒ‡é’ˆçš„å£°æ˜ä¹Ÿæ˜¯æ¯”è¾ƒä¸¥æ ¼çš„ï¼Œåœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼ŒmyFunæŒ‡é’ˆèƒ½å¤ŸæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¹Ÿæ˜¯æœ‰ä¸€ä¸ªintç±»å‹çš„å‚æ•°ï¼Œè¿”å›å€¼ä¹Ÿæ˜¯intï¼š</p><pre><code>int (*myFun) (int);        //Cè¯­è¨€ï¼Œå£°æ˜ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆ\n</code></pre><p>playscriptä¹Ÿé‡‡ç”¨è¿™ç§æ¯”è¾ƒä¸¥æ ¼çš„å£°æ˜æ–¹å¼ï¼Œå› ä¸ºæˆ‘ä»¬æƒ³å®ç°ä¸€ä¸ªé™æ€ç±»å‹çš„è¯­è¨€ï¼š</p><pre><code>function int (int) myFun;  //playscriptä¸­å£°æ˜ä¸€ä¸ªå‡½æ•°å‹çš„å˜é‡\n</code></pre><p>å†™æˆä¸Šé¢è¿™æ ·æ˜¯å› ä¸ºæˆ‘ä¸ªäººå–œæ¬¢æŠŠå˜é‡åç§°å·¦è¾¹çš„éƒ¨åˆ†çœ‹åšç±»å‹çš„æè¿°ï¼Œä¸åƒGoè¯­è¨€æŠŠç±»å‹æ”¾åœ¨å˜é‡åç§°åé¢ã€‚æœ€éš¾è¯»çš„å°±æ˜¯Cè¯­è¨€é‚£ç§å£°æ˜æ–¹å¼äº†ï¼Œç«Ÿç„¶æŠŠå˜é‡åæ”¾åœ¨äº†ä¸­é—´ã€‚å½“ç„¶ï¼Œè¿™åªæ˜¯ä¸ªäººå–œå¥½ã€‚</p><p>æŠŠä¸Šé¢æè¿°å‡½æ•°ç±»å‹çš„è¯­æ³•å†™æˆAntlrçš„è§„åˆ™å¦‚ä¸‹ï¼š</p><pre><code>functionType\n    : FUNCTION typeTypeOrVoid '(' typeList? ')'\n    ;\n\ntypeList\n    : typeType (',' typeType)*\n    ;\n</code></pre><p>åœ¨playscriptä¸­ï¼Œæˆ‘ä»¬ç”¨FuntionTypeæ¥å£ä»£è¡¨ä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œé€šè¿‡è¿™ä¸ªæ¥å£å¯ä»¥è·å¾—è¿”å›å€¼ç±»å‹ã€å‚æ•°ç±»å‹è¿™ä¸¤ä¸ªä¿¡æ¯ï¼š</p><pre><code>package play;\nimport java.util.List;\n/**\n * å‡½æ•°ç±»å‹\n */\npublic interface FunctionType extends Type {\n    public Type getReturnType();        //è¿”å›å€¼ç±»å‹\n    public List&lt;Type&gt; getParamTypes();  //å‚æ•°ç±»å‹\n}\n</code></pre><p>è¯•ä¸€ä¸‹å®é™…ä½¿ç”¨æ•ˆæœå¦‚ä½•ï¼Œç”¨Antlrè§£æä¸‹é¢è¿™å¥çš„è¯­æ³•ï¼š</p><pre><code>function int(long, float) fun2 = fun1();\n</code></pre><p>å®ƒçš„æ„æ€æ˜¯ï¼šè°ƒç”¨fun1()å‡½æ•°ä¼šè¿”å›å¦ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œè¿”å›å€¼æ˜¯intå‹çš„ã€‚</p><p>æˆ‘ä»¬ç”¨grunæ˜¾ç¤ºä¸€ä¸‹ASTï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼Œå®ƒå·²ç»æŠŠfunctionTypeæ­£ç¡®åœ°è§£æå‡ºæ¥äº†ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/b8/fa/b83891a55f855783eb6b7fd2e9b387fa.jpg?wh=1142*809\" alt=\"å›¾ç‰‡: https://uploader.shimo.im/f/812ANkYxJU8Xc6Kp.png\"></p><p>ç›®å‰ï¼Œæˆ‘ä»¬åªæ˜¯è®¾è®¡å®Œäº†è¯­æ³•ï¼Œè¿˜è¦å®ç°è¿è¡ŒæœŸçš„åŠŸèƒ½ï¼Œè®©å‡½æ•°çœŸçš„èƒ½åƒæ•°å€¼ä¸€æ ·ä¼ æ¥ä¼ å»ï¼Œå°±åƒä¸‹é¢çš„æµ‹è¯•ä»£ç ï¼Œå®ƒæŠŠfoo()ä½œä¸ºå€¼èµ‹ç»™äº†bar()ï¼š</p><pre><code>/*\nFirstClassFunction.play å‡½æ•°ä½œä¸ºä¸€ç­‰å…¬æ°‘ã€‚\nä¹Ÿå°±æ˜¯å‡½æ•°å¯ä»¥æ•°å€¼ï¼Œèµ‹ç»™åˆ«çš„å˜é‡ã€‚\næ”¯æŒå‡½æ•°ç±»å‹ï¼Œå³FunctionTypeã€‚\n*/\nint foo(int a){\n    println(&quot;in foo, a = &quot; + a);\n    return a;\n}\n\nint bar (function int(int) fun){\n    int b = fun(6);\n    println(&quot;in bar, b = &quot; + b);\n    return b;\n}\n\nfunction int(int) a = foo;  //å‡½æ•°ä½œä¸ºå˜é‡åˆå§‹åŒ–å€¼\na(4);\n\nfunction int(int) b;        \nb = foo;                    //å‡½æ•°ç”¨äºèµ‹å€¼è¯­å¥\nb(5);\n\nbar(foo);                   //å‡½æ•°åšä¸ºå‚æ•°\n</code></pre><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><pre><code>in foo, a = 4\nin foo, a = 5\nin foo, a = 6\nin bar, b = 6\n</code></pre><p>è¿è¡Œè¿™æ®µä»£ç ï¼Œä½ ä¼šå‘ç°å®ƒå®ç°äº†ç”¨å‡½æ•°æ¥èµ‹å€¼ï¼Œè€Œå®ç°è¿™ä¸ªåŠŸèƒ½çš„é‡ç‚¹ï¼Œæ˜¯åšå¥½è¯­ä¹‰åˆ†æã€‚æ¯”å¦‚ç¼–è¯‘ç¨‹åºè¦èƒ½è¯†åˆ«èµ‹å€¼è¯­å¥ä¸­çš„fooæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä¼ ç»Ÿçš„å€¼ã€‚åœ¨è°ƒç”¨a()å’Œb()çš„æ—¶å€™ï¼Œå®ƒä¹Ÿè¦æ­£ç¡®åœ°è°ƒç”¨foo()çš„ä»£ç ï¼Œè€Œä¸æ˜¯æŠ¥â€œæ‰¾ä¸åˆ°a()å‡½æ•°çš„å®šä¹‰â€è¿™æ ·çš„é”™è¯¯ã€‚</p><p>å®ç°äº†ä¸€ç­‰å…¬æ°‘å‡½æ•°çš„åŠŸèƒ½ä»¥åï¼Œæˆ‘ä»¬è¿›å…¥æœ¬è®²æœ€é‡è¦çš„ä¸€ç¯ï¼š<strong>å®ç°é—­åŒ…åŠŸèƒ½ã€‚</strong></p><h2>å®ç°æˆ‘ä»¬è‡ªå·±çš„é—­åŒ…æœºåˆ¶</h2><p>åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘æƒ³å…ˆè®¾è®¡å¥½æµ‹è¯•ç”¨ä¾‹ï¼Œæ‰€ä»¥å…ˆæŠŠä¸€å¼€å§‹æåˆ°çš„é‚£ä¸ªJavaScriptçš„ä¾‹å­ç”¨playscriptçš„è¯­æ³•é‡å†™ä¸€éï¼Œæ¥æµ‹è¯•é—­åŒ…åŠŸèƒ½ï¼š</p><pre><code>/**\n * clojure.play\n * æµ‹è¯•é—­åŒ…ç‰¹æ€§\n */\nint a = 0;\n\nfunction int() fun1(){        //å‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå‡½æ•°\n    int b = 0;                //å‡½æ•°å†…çš„å±€éƒ¨å˜é‡\n\n    int inner(){              //å†…éƒ¨çš„ä¸€ä¸ªå‡½æ•°\n        a = a+1;\n        b = b+1;\n        return b;             //è¿”å›å†…éƒ¨çš„æˆå‘˜\n    }\n\n    return inner;             //è¿”å›ä¸€ä¸ªå‡½æ•°\n}\n\nfunction int() fun2 = fun1();  \nfor (int i = 0; i&lt; 3; i++){\n    println(&quot;b = &quot; + fun2() + &quot;, a = &quot;+a);\n}\n\nfunction int() fun3 = fun1();  \nfor (int i = 0; i&lt; 3; i++){\n    println(&quot;b = &quot; + fun3() + &quot;, a = &quot;+a);\n}\n</code></pre><p>ä»£ç çš„è¿è¡Œæ•ˆæœè·ŸJavaScriptç‰ˆæœ¬çš„ç¨‹åºæ˜¯ä¸€æ ·çš„ï¼š</p><pre><code>b = 1, a = 1\nb = 2, a = 2\nb = 3, a = 3\nb = 1, a = 4\nb = 2, a = 5\nb = 3, a = 6\n</code></pre><p>è¿™æ®µä»£ç çš„ASTæˆ‘ä¹Ÿè®©grunæ˜¾ç¤ºå‡ºæ¥äº†ï¼Œå¹¶æˆªäº†ä¸€éƒ¨åˆ†å›¾ï¼Œä½ å¯ä»¥ç›´è§‚åœ°çœ‹ä¸€ä¸‹å¤–å±‚å‡½æ•°å’Œå†…å±‚å‡½æ•°çš„å…³ç³»ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/cf/eb/cf93f6a6ffe3a63cc98023d2ea9d39eb.jpg?wh=1142*789\" alt=\"å›¾ç‰‡: https://uploader.shimo.im/f/vaWRcnserakKhNWs.png\"></p><p>ç°åœ¨ï¼Œæµ‹è¯•ç”¨ä¾‹å‡†å¤‡å¥½äº†ï¼Œæˆ‘ä»¬ç€æ‰‹å®ç°ä¸€ä¸‹é—­åŒ…çš„æœºåˆ¶ã€‚</p><p>å‰é¢æåˆ°ï¼Œé—­åŒ…çš„å†…åœ¨çŸ›ç›¾æ˜¯è¿è¡Œæ—¶çš„ç¯å¢ƒå’Œå®šä¹‰æ—¶çš„ä½œç”¨åŸŸä¹‹é—´çš„çŸ›ç›¾ã€‚é‚£ä¹ˆæˆ‘ä»¬æŠŠå†…éƒ¨ç¯å¢ƒä¸­éœ€è¦çš„å˜é‡ï¼Œæ‰“åŒ…äº¤ç»™é—­åŒ…å‡½æ•°ï¼Œå®ƒå°±å¯ä»¥éšæ—¶è®¿é—®è¿™äº›å˜é‡äº†ã€‚</p><p>åœ¨ASTä¸Šåšä¸€ä¸‹å›¾å½¢åŒ–çš„åˆ†æï¼Œçœ‹çœ‹ç»™fun2è¿™ä¸ªå˜é‡èµ‹å€¼çš„æ—¶å€™ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆäº‹æƒ…ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ef/10/ef2ce5e3cc4fa01c219ae4a7ab22a610.jpg?wh=1142*828\" alt=\"\"></p><p>ç®€å•åœ°æè¿°ä¸€ä¸‹ç»™fun2èµ‹å€¼æ—¶çš„æ‰§è¡Œè¿‡ç¨‹ï¼š</p><ul>\n<li>\n<p>å…ˆæ‰§è¡Œfun1()å‡½æ•°ï¼Œå†…éƒ¨çš„inner()å‡½æ•°ä½œä¸ºè¿”å›å€¼è¿”å›ç»™è°ƒç”¨è€…ã€‚è¿™æ—¶ï¼Œç¨‹åºèƒ½è®¿é—®ä¸¤å±‚ä½œç”¨åŸŸï¼Œæœ€è¿‘ä¸€å±‚æ˜¯fun1()ï¼Œé‡Œé¢æœ‰å˜é‡bï¼›å¤–å±‚è¿˜æœ‰ä¸€å±‚ï¼Œé‡Œé¢æœ‰å…¨å±€å˜é‡aã€‚è¿™æ—¶æ˜¯æŠŠç¯å¢ƒå˜é‡æ‰“åŒ…çš„æœ€åçš„æœºä¼šï¼Œå¦åˆ™é€€å‡ºfun1()å‡½æ•°ä»¥åï¼Œå˜é‡bå°±æ¶ˆå¤±äº†ã€‚</p>\n</li>\n<li>\n<p>ç„¶åæŠŠå†…éƒ¨å‡½æ•°è¿åŒæ‰“åŒ…å¥½çš„ç¯å¢ƒå˜é‡çš„å€¼ï¼Œåˆ›å»ºä¸€ä¸ªFunctionObjectå¯¹è±¡ï¼Œä½œä¸ºfun1()çš„è¿”å›å€¼ï¼Œç»™åˆ°è°ƒç”¨è€…ã€‚</p>\n</li>\n<li>\n<p>ç»™fun2è¿™ä¸ªå˜é‡èµ‹å€¼ã€‚</p>\n</li>\n<li>\n<p>è°ƒç”¨fun2()å‡½æ•°ã€‚å‡½æ•°æ‰§è¡Œæ—¶ï¼Œæœ‰ä¸€ä¸ªç§æœ‰çš„é—­åŒ…ç¯å¢ƒå¯ä»¥è®¿é—®bçš„å€¼ï¼Œè¿™ä¸ªç¯å¢ƒå°±æ˜¯ç¬¬äºŒæ­¥æ‰€åˆ›å»ºçš„FunctionObjectå¯¹è±¡ã€‚</p>\n</li>\n</ul><p><strong>æœ€ç»ˆï¼Œæˆ‘ä»¬å®ç°äº†é—­åŒ…çš„åŠŸèƒ½ã€‚</strong></p><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¦æå‰è®°å½•ä¸‹inner()å‡½æ•°éƒ½å¼•ç”¨äº†å“ªäº›å¤–éƒ¨å˜é‡ï¼Œä»¥ä¾¿å¯¹è¿™äº›å˜é‡æ‰“åŒ…ã€‚è¿™æ˜¯åœ¨å¯¹ç¨‹åºåšè¯­ä¹‰åˆ†ææ—¶å®Œæˆçš„ï¼Œä½ å¯ä»¥å‚è€ƒä¸€ä¸‹ClosureAnalyzer.javaä¸­çš„ä»£ç ï¼š</p><pre><code> /**\n     * ä¸ºæŸä¸ªå‡½æ•°è®¡ç®—é—­åŒ…å˜é‡ï¼Œä¹Ÿå°±æ˜¯å®ƒæ‰€å¼•ç”¨çš„å¤–éƒ¨ç¯å¢ƒå˜é‡ã€‚\n     * ç®—æ³•ï¼šè®¡ç®—æ‰€æœ‰çš„å˜é‡å¼•ç”¨ï¼Œå»æ‰å†…éƒ¨å£°æ˜çš„å˜é‡ï¼Œå‰©ä¸‹çš„å°±æ˜¯å¤–éƒ¨çš„ã€‚\n     * @param function\n     * @return\n     */\nprivate Set&lt;Variable&gt; calcClosureVariables(Function function){\n    Set&lt;Variable&gt; refered = variablesReferedByScope(function);\n    Set&lt;Variable&gt; declared = variablesDeclaredUnderScope(function);\n    refered.removeAll(declared);\n    return refered;\n}\n</code></pre><p>ä¸‹é¢æ˜¯ASTEvaluator.javaä¸­æŠŠç¯å¢ƒå˜é‡æ‰“åŒ…è¿›é—­åŒ…ä¸­çš„ä»£ç ç‰‡æ®µï¼Œå®ƒæ˜¯åœ¨å½“å‰çš„æ ˆé‡Œè·å–æ•°æ®çš„ï¼š</p><pre><code>/**\n * ä¸ºé—­åŒ…è·å–ç¯å¢ƒå˜é‡çš„å€¼\n * @param function é—­åŒ…æ‰€å…³è”çš„å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°ä¼šè®¿é—®ä¸€äº›ç¯å¢ƒå˜é‡ã€‚\n * @param valueContainer  å­˜æ”¾ç¯å¢ƒå˜é‡çš„å€¼çš„å®¹å™¨\n */\nprivate void getClosureValues(Function function, PlayObject valueContainer){\n    if (function.closureVariables != null) {\n        for (Variable var : function.closureVariables) {\n            // ç°åœ¨è¿˜å¯ä»¥ä»æ ˆé‡Œå–ï¼Œé€€å‡ºå‡½æ•°ä»¥åå°±ä¸è¡Œäº†\n            LValue lValue = getLValue(var); \n            Object value = lValue.getValue();\n            valueContainer.fields.put(var, value);\n        }\n    }\n}\n</code></pre><p>ä½ å¯ä»¥æŠŠæµ‹è¯•ç”¨ä¾‹è·‘ä¸€è·‘ï¼Œä¿®æ”¹ä¸€ä¸‹ï¼Œè¯•è¯•å…¶ä»–é—­åŒ…ç‰¹æ€§ã€‚</p><h2>ä½“éªŒä¸€ä¸‹å‡½æ•°å¼ç¼–ç¨‹</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»å®ç°äº†é—­åŒ…çš„æœºåˆ¶ï¼Œå‡½æ•°ä¹Ÿå˜æˆäº†ä¸€ç­‰å…¬æ°‘ã€‚ä¸ç»æ„é—´ï¼Œæˆ‘ä»¬ä¼¼ä¹åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ”¯æŒäº†å‡½æ•°å¼ç¼–ç¨‹ï¼ˆfunctional programmingï¼‰ã€‚</p><p>å®ƒæ˜¯ä¸€ç§è¯­è¨€é£æ ¼ï¼Œæœ‰å¾ˆå¤šä¼˜ç‚¹ï¼Œæ¯”å¦‚ç®€æ´ã€å®‰å…¨ç­‰ã€‚å¤‡å—å¾ˆå¤šç¨‹åºå‘˜æ¨å´‡çš„LISPè¯­è¨€å°±å…·å¤‡å‡½æ•°å¼ç¼–ç¨‹ç‰¹å¾ï¼ŒJavaç­‰è¯­è¨€ä¹Ÿå¢åŠ äº†å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹ç‚¹ã€‚</p><p>å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªå…¸å‹ç‰¹ç‚¹å°±æ˜¯é«˜é˜¶å‡½æ•°ï¼ˆHigh-order functionï¼‰åŠŸèƒ½ï¼Œé«˜é˜¶å‡½æ•°æ˜¯è¿™æ ·ä¸€ç§å‡½æ•°ï¼Œå®ƒèƒ½å¤Ÿæ¥å—å…¶ä»–å‡½æ•°ä½œä¸ºè‡ªå·±çš„å‚æ•°ï¼Œjavascriptä¸­æ•°ç»„çš„mapæ–¹æ³•ï¼Œå°±æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ã€‚æˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„ä¾‹å­æµ‹è¯•ä¸€ä¸‹é«˜é˜¶å‡½æ•°åŠŸèƒ½ï¼š</p><pre><code>/**\nLinkedList.play\nå®ç°äº†ä¸€ä¸ªç®€å•çš„é“¾è¡¨ï¼Œå¹¶æ¼”ç¤ºäº†é«˜é˜¶å‡½æ•°çš„åŠŸèƒ½ï¼Œæ¯”å¦‚åœ¨javascriptä¸­å¸¸ç”¨çš„mapåŠŸèƒ½ï¼Œ\nå®ƒèƒ½æ ¹æ®éå†åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œæ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„åˆ—è¡¨ã€‚ç»™å®ƒä¼ ä¸åŒçš„å‡½æ•°ï¼Œä¼šè¿”å›ä¸åŒçš„åˆ—è¡¨ã€‚\n*/\n//é“¾è¡¨çš„èŠ‚ç‚¹\nclass ListNode{\n    int value;\n    ListNode next; //ä¸‹ä¸€ä¸ªèŠ‚ç‚¹\n\n    ListNode (int v){\n        value = v;\n    }\n}\n\n//é“¾è¡¨\nclass LinkedList{\n    ListNode start;\n    ListNode end;\n\n    //æ·»åŠ æ–°èŠ‚ç‚¹\n    void add(int value){\n        ListNode node = ListNode(value);\n        if (start == null){\n            start = node;\n            end = node;\n        }\n        else{\n            end.next = node;\n            end = node;\n        }\n    }\n\n    //æ‰“å°æ‰€æœ‰èŠ‚ç‚¹å†…å®¹\n    void dump(){\n        ListNode node = start;\n        while (node != null){\n            println(node.value);\n            node = node.next;\n        }\n    }\n\n    //é«˜é˜¶å‡½æ•°åŠŸèƒ½ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯¹æ¯ä¸ªæˆå‘˜åšä¸€ä¸ªè®¡ç®—ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„LinkedList\n    LinkedList map(function int(int) fun){\n        ListNode node = start;\n        LinkedList newList = LinkedList();\n        while (node != null){\n            int newValue = fun(node.value);\n            newList.add(newValue);\n            node = node.next;\n        }\n        return newList;\n    }\n}\n\n//å‡½æ•°ï¼šå¹³æ–¹å€¼\nint square(int value){\n    return value * value;\n}\n\n//å‡½æ•°ï¼šåŠ 1\nint addOne(int value){\n    return value + 1;\n}\n\nLinkedList list = LinkedList();\nlist.add(2);\nlist.add(3);\nlist.add(5);\n\nprintln(&quot;original list:&quot;);\nlist.dump();\n\nprintln();\nprintln(&quot;add 1 to each element:&quot;);\nLinkedList list2 = list.map(addOne);\nlist2.dump();\n\nprintln();\nprintln(&quot;square of each element:&quot;);\nLinkedList list3 = list.map(square);\nlist3.dump();\n</code></pre><p>è¿è¡Œåå¾—åˆ°çš„ç»“æœå¦‚ä¸‹ï¼š</p><pre><code>original list:\n2\n3\n5\n\nadd 1 to each element:\n3\n4\n6\n\nsquare of each element:\n4\n9\n25\n</code></pre><p>é«˜é˜¶å‡½æ•°åŠŸèƒ½å¾ˆå¥½ç©ï¼Œä½ å¯ä»¥ä¿®æ”¹ç¨‹åºï¼Œå¥½å¥½ç©ä¸€ä¸‹ã€‚</p><h2>è¯¾ç¨‹å°ç»“</h2><p>é—­åŒ…è¿™ä¸ªæ¦‚å¿µï¼Œå¯¹äºåˆå­¦è€…æ¥è®²æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚å…¶å®ï¼Œé—­åŒ…å°±æ˜¯æŠŠå‡½æ•°åœ¨é™æ€ä½œç”¨åŸŸä¸­æ‰€è®¿é—®çš„å˜é‡çš„ç”Ÿå­˜æœŸæ‹‰é•¿ï¼Œå½¢æˆä¸€ä»½å¯ä»¥ç”±è¿™ä¸ªå‡½æ•°å•ç‹¬è®¿é—®çš„æ•°æ®ã€‚æ­£å› ä¸ºè¿™äº›æ•°æ®åªèƒ½è¢«é—­åŒ…å‡½æ•°è®¿é—®ï¼Œæ‰€ä»¥ä¹Ÿå°±å…·å¤‡äº†å¯¹ä¿¡æ¯è¿›è¡Œå°è£…ã€éšè—å†…éƒ¨ç»†èŠ‚çš„ç‰¹æ€§ã€‚</p><p>å¬ä¸Šå»æ˜¯ä¸æ˜¯æœ‰ç‚¹å„¿è€³ç†Ÿï¼Ÿå°è£…ï¼ŒæŠŠæ•°æ®å’Œå¯¹æ•°æ®çš„æ“ä½œå°åœ¨ä¸€èµ·ï¼Œè¿™ä¸å°±æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹å˜›ï¼ä¸€ä¸ªé—­åŒ…å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚åè¿‡æ¥çœ‹ï¼Œä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥çœ‹åšä¸€ä¸ªé—­åŒ…å‘¢ï¼Ÿå¯¹è±¡çš„å±æ€§ï¼Œä¹Ÿå¯ä»¥çœ‹åšè¢«æ–¹æ³•æ‰€ç‹¬å çš„ç¯å¢ƒå˜é‡ï¼Œå…¶ç”Ÿå­˜æœŸä¹Ÿå¿…é¡»ä¿è¯èƒ½å¤Ÿè¢«æ–¹æ³•ä¸€ç›´æ­£å¸¸çš„è®¿é—®ã€‚</p><p>ä½ çœ‹ï¼Œä¸¤ä¸ªä¸ç›¸å¹²çš„æ¦‚å¿µï¼Œåœ¨ç”¨ä½œç”¨åŸŸå’Œç”Ÿå­˜æœŸè¿™æ ·çš„è¯è¯­ä½“ç³»å»è§£è¯»ä¹‹åï¼Œå°±ä¼šå¾ˆç›¸ä¼¼ï¼Œåœ¨å†…éƒ¨å®ç°ä¸Šä¹Ÿå¯ä»¥å½“æˆä¸€å›äº‹ã€‚ç°åœ¨ï¼Œä½ åº”è¯¥æ›´æ¸…æ¥šäº†å§ï¼Ÿ</p><h2>ä¸€è¯¾ä¸€æ€</h2><p>æ€è€ƒä¸€ä¸‹æˆ‘åœ¨å¼€å¤´æåˆ°çš„é‚£ä¸ªé¢è¯•é¢˜ï¼šå¦‚ä½•ç”¨é—­åŒ…åšç±»ä¼¼é¢å‘å¯¹è±¡çš„ç¼–ç¨‹ï¼Ÿ</p><p>å…¶å®ï¼Œæˆ‘åœ¨è¯¾ç¨‹ä¸­æä¾›äº†ä¸€ä¸ªclosure-mammal.playçš„ç¤ºä¾‹ä»£ç ï¼Œå®ƒå®Œå…¨ç”¨é—­åŒ…çš„æ¦‚å¿µå®ç°äº†é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å¤šæ€ç‰¹å¾ã€‚è€Œè¿™ä¸ªé—­åŒ…çš„å®ç°ï¼Œæ˜¯ä¸€ç§æ›´é«˜çº§çš„é—­åŒ…ï¼Œæ¯”æ™®é€šçš„å‡½æ•°é—­åŒ…è¿˜å¤šäº†ä¸€ç‚¹æœ‰ç”¨çš„ç‰¹æ€§ï¼Œæ›´åƒå¯¹è±¡äº†ã€‚æˆ‘å¸Œæœ›ä½ èƒ½å‘ç°å®ƒåˆ°åº•ä¸åŒåœ¨å“ªé‡Œï¼Œä¹Ÿèƒ½åœ¨ä»£ç ä¸­æ‰¾åˆ°å®ç°è¿™äº›ç‰¹æ€§çš„ä½ç½®ã€‚</p><p>ä½ èƒ½å‘ç°ï¼Œæˆ‘ä¸€ç›´åœ¨è®²ä½œç”¨åŸŸå’Œç”Ÿå­˜æœŸï¼Œä¸è¦å«Œæˆ‘å•°å—¦ï¼ŒæŠŠå®ƒä»¬åƒé€ï¼Œä¼šå¯¹ä½ ä½¿ç”¨è¯­è¨€æœ‰å¾ˆå¤§å¸®åŠ©ã€‚æ¯”å¦‚ï¼Œæœ‰åŒå­¦éå¸¸å›°æ‰°JavaScriptçš„thisï¼Œæˆ‘è´Ÿè´£ä»»åœ°è®²ï¼Œåªè¦å¯¹ä½œç”¨åŸŸæœ‰æ¸…æ™°çš„äº†è§£ï¼Œä½ å°±èƒ½å¾ˆå®¹æ˜“åœ°æŒæ¡thisã€‚</p><p>é‚£ä¹ˆï¼Œå…³äºä½œç”¨åŸŸè·Ÿthisä¹‹é—´çš„å…³è”ï¼Œå¦‚æœä½ æœ‰ä»€ä¹ˆæƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿åœ¨ç•™è¨€åŒºåˆ†äº«ã€‚</p><p>æœ€åï¼Œæ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œå¦‚æœè¿™ç¯‡æ–‡ç« è®©ä½ æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ å°†å®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ï¼Œç‰¹åˆ«æ˜¯åˆ†äº«ç»™é‚£äº›è¿˜æ²¡ææ¸…æ¥šé—­åŒ…çš„æœ‹å‹ã€‚</p><p>æœ¬èŠ‚è¯¾çš„ç¤ºä¾‹ä»£ç æ”¾åœ¨äº†æ–‡æœ«ï¼Œä¾›ä½ å‚è€ƒã€‚</p><ul>\n<li>playscript-javaï¼ˆé¡¹ç›®ç›®å½•ï¼‰ï¼š <a href=\"https://gitee.com/richard-gong/PlayWithCompiler/tree/master/playscript-java\">ç äº‘</a>   <a href=\"https://github.com/RichardGong/PlayWithCompiler/tree/master/playscript-java\">GitHub</a></li>\n<li>PlayScript.javaï¼ˆå…¥å£ç¨‹åºï¼‰ï¼š   <a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/playscript-java/src/main/play/PlayScript.java\">ç äº‘</a>   <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/playscript-java/src/main/play/PlayScript.java\">GitHub</a></li>\n<li>PlayScript.g4ï¼ˆè¯­æ³•è§„åˆ™ï¼‰ï¼š     <a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/playscript-java/src/main/play/PlayScript.g4\">ç äº‘</a>   <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/playscript-java/src/main/play/PlayScript.g4\">GitHub</a></li>\n<li>ASTEvaluator.javaï¼ˆè§£é‡Šå™¨ï¼Œæ‰¾æ‰¾é—­åŒ…è¿è¡ŒæœŸæ—¶æ€ä¹ˆå®ç°çš„ï¼‰ï¼š <a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/playscript-java/src/main/play/ASTEvaluator.java\">ç äº‘</a>   <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/playscript-java/src/main/play/ASTEvaluator.java\">GitHub</a></li>\n<li>ClosureAnalyzer.javaï¼ˆåˆ†æé—­åŒ…æ‰€å¼•ç”¨çš„ç¯å¢ƒå˜é‡ï¼‰ï¼š<a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/playscript-java/src/main/play/ClosureAnalyzer.java\">ç äº‘</a>    <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/playscript-java/src/main/play/ClosureAnalyzer.java\">GitHub</a></li>\n<li>RefResolver.javaï¼ˆåœ¨è¿™é‡Œçœ‹çœ‹å‡½æ•°å‹å˜é‡æ˜¯æ€ä¹ˆæ¶ˆè§£çš„ï¼‰ï¼š <a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/playscript-java/src/main/play/RefResolver.java\">ç äº‘</a>   <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/playscript-java/src/main/play/RefResolver.java\">GitHub</a></li>\n<li>closure.playï¼ˆæ¼”ç¤ºåŸºæœ¬çš„é—­åŒ…ç‰¹å¾ï¼‰ï¼š <a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/playscript-java/src/examples/closure.play\">ç äº‘</a>   <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/playscript-java/src/examples/closure.play\">GitHub</a></li>\n<li>closure-fibonacci.playï¼ˆç”¨é—­åŒ…å®ç°äº†æ–æ³¢é‚£å¥‘æ•°åˆ—è®¡ç®—ï¼‰ï¼š<a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/playscript-java/src/examples/closure-fibonacci.play\">ç äº‘</a>    <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/playscript-java/src/examples/closure-fibonacci.play\">GitHub</a></li>\n<li>closure-mammal.playï¼ˆç”¨é—­åŒ…å®ç°äº†é¢å‘å¯¹è±¡ç‰¹æ€§ï¼Œè¯·æ‰¾æ‰¾å®ƒæ¯”æ™®é€šé—­åŒ…å¼ºåœ¨å“ªé‡Œï¼‰ï¼š<a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/playscript-java/src/examples/closure-mammal.play\">ç äº‘</a>    <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/playscript-java/src/examples/closure-mammal.play\">GitHub</a></li>\n<li>FirstClassFunction.playï¼ˆæ¼”ç¤ºä¸€ç­‰å…¬æ°‘å‡½æ•°çš„ç‰¹å¾ï¼‰ï¼š<a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/playscript-java/src/examples/FirstClassFunction.play\">ç äº‘</a>    <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/playscript-java/src/examples/FirstClassFunction.play\">GitHub</a></li>\n<li>LinkedList.playï¼ˆæ¼”ç¤ºäº†é«˜é˜¶å‡½æ•°mapï¼‰ï¼š<a href=\"https://gitee.com/richard-gong/PlayWithCompiler/blob/master/playscript-java/src/examples/LinkedList.play\">ç äº‘</a>    <a href=\"https://github.com/RichardGong/PlayWithCompiler/blob/master/playscript-java/src/examples/LinkedList.play\">GitHub</a></li>\n</ul><p></p>","comments":[{"had_liked":false,"id":171922,"user_name":"ç‹¬é’“å¯’æ±Ÿé›ª","can_delete":false,"product_type":"c1","uid":1625419,"ip_address":"","ucode":"76278A3EBCE0B8","user_header":"https://static001.geekbang.org/account/avatar/00/18/cd/4b/36396a18.jpg","comment_is_top":false,"comment_ctime":1579053851,"is_pvip":true,"replies":[{"id":"76758","content":"æ€»ç»“å¾—éå¸¸å¥½ï¼Greatï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1586663941,"ip_address":"","comment_id":171922,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44528726811","product_id":100034101,"comment_content":"é—­åŒ…çš„äº§ç”Ÿï¼ˆä»¥JavaScriptä¸ºä¾‹ï¼‰ï¼š<br>1. å› ä¸ºJavaScriptæ˜¯é™æ€ä½œç”¨åŸŸçš„ï¼Œæ‰€ä»¥å®ƒå†…éƒ¨ç¯å¢ƒä¸­éœ€è¦çš„å˜é‡åœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šäº†ï¼Œè¿è¡Œæ—¶ä¸ä¼šæ”¹å˜ï¼›<br>2. å› ä¸ºJavaScriptä¸­ï¼Œå‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œå¯ä»¥è¢«è°ƒç”¨ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œå¯ä»¥èµ‹å€¼ç»™å˜é‡ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‡½æ•°è¿”å›å€¼ï¼Œæ‰€ä»¥å®ƒçš„è¿è¡Œæ—¶ç¯å¢ƒå¾ˆå®¹æ˜“å˜åŒ–ï¼›<br>3. å½“å‡½æ•°ä½œä¸ºå‚æ•°è¿”å›æ—¶ï¼Œå…¶å¤–å±‚å‡½æ•°ä¸­çš„å˜é‡å·²ç»ä»è°ƒç”¨æ ˆå¼¹å‡ºï¼Œä½†æ˜¯æˆ‘ä»¬å¿…é¡»è®©å‡½æ•°å¯ä»¥è®¿é—®åˆ°å®ƒéœ€è¦çš„å˜é‡ï¼Œå› æ­¤è¿è¡Œæ—¶çš„ç¯å¢ƒå’Œå®šä¹‰æ—¶çš„ä½œç”¨åŸŸä¹‹é—´å°±äº§ç”ŸçŸ›ç›¾ï¼›<br>4. æ‰€ä»¥æˆ‘ä»¬æŠŠå†…éƒ¨ç¯å¢ƒä¸­éœ€è¦çš„å˜é‡ï¼Œæ‰“åŒ…äº¤ç»™å†…å±‚å‡½æ•°ï¼ˆé—­åŒ…å‡½æ•°ï¼‰ï¼Œå®ƒå°±å¯ä»¥éšæ—¶è®¿é—®è¿™äº›å˜é‡äº†ï¼Œå°±å½¢æˆäº†é—­åŒ…ã€‚","like_count":11,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481547,"discussion_content":"æ€»ç»“å¾—éå¸¸å¥½ï¼Greatï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586663941,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145081,"user_name":"åˆ˜å¼·","can_delete":false,"product_type":"c1","uid":1035612,"ip_address":"","ucode":"B2E41BB894A727","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/5c/e09eac13.jpg","comment_is_top":false,"comment_ctime":1572183004,"is_pvip":false,"replies":[{"id":"57673","content":"æˆ‘è¿™å‡ å¹´å¯¹å¤æ‚ç³»ç»Ÿæœ‰å…³çš„ç†è®ºå¾ˆæ„Ÿå…´è¶£ï¼Œæ›¾ç»åœ¨æ ¡å‹çš„ä¸€æ¬¡èšä¼šä¸Šåˆ†äº«äº†ä¸€ä¸ªä¸»é¢˜ï¼Œå…¶ä¸­çš„ä¸»è¦æ„æ€ï¼Œå°±æ˜¯ä»ç§‘å­¦ç”šè‡³å¯ä»¥æ¨å¯¼å‡ºå“²å­¦ï¼Œå°è¯å¤è€æ™ºæ…§ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1573433506,"ip_address":"","comment_id":145081,"utype":1}],"discussion_count":2,"race_medal":0,"score":"44521855964","product_id":100034101,"comment_content":"æœ‰äº›ä¸œè¥¿ç ”ç©¶çš„é€å½»ä»¥åï¼Œä½ å°±ä¼šä¸ç”±è‡ªä¸»çš„æˆä¸ºå“²å­¦å®¶äº†ã€‚","like_count":11,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472236,"discussion_content":"æˆ‘è¿™å‡ å¹´å¯¹å¤æ‚ç³»ç»Ÿæœ‰å…³çš„ç†è®ºå¾ˆæ„Ÿå…´è¶£ï¼Œæ›¾ç»åœ¨æ ¡å‹çš„ä¸€æ¬¡èšä¼šä¸Šåˆ†äº«äº†ä¸€ä¸ªä¸»é¢˜ï¼Œå…¶ä¸­çš„ä¸»è¦æ„æ€ï¼Œå°±æ˜¯ä»ç§‘å­¦ç”šè‡³å¯ä»¥æ¨å¯¼å‡ºå“²å­¦ï¼Œå°è¯å¤è€æ™ºæ…§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573433506,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2718510,"avatar":"","nickname":"jack123","note":"","ucode":"873D0046EF39D6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":400311,"discussion_content":"ç‰›é¡¿ å½“åˆå†™çš„ç¬¬ä¸€æœ¬è‘—ä½œ å°±å«åšã€Šè‡ªç„¶å“²å­¦ä¸­çš„æ•°å­¦åŸç†ã€‹ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633230858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":142147,"user_name":"nil","can_delete":false,"product_type":"c1","uid":1507193,"ip_address":"","ucode":"0F5D298C1CBB74","user_header":"https://static001.geekbang.org/account/avatar/00/16/ff/79/3b38c9e1.jpg","comment_is_top":false,"comment_ctime":1571300310,"is_pvip":false,"replies":[{"id":"57578","content":"éå¸¸å¥½ï¼<br>é‡åˆ°çœ‹ä¼¼ä¸æ­£å¸¸çš„ä¸œè¥¿çš„æ—¶å€™ï¼Œå…¶å®å°±æ˜¯è®©è®¤çŸ¥æ·±åŒ–çš„å¥‘æœºã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1573343308,"ip_address":"","comment_id":142147,"utype":1}],"discussion_count":3,"race_medal":0,"score":"40226005974","product_id":100034101,"comment_content":"è®°å¾—ç¬¬ä¸€æ¬¡é‡åˆ°é—­åŒ…æ˜¯åœ¨å­¦ä¹ pythonå¾—æ—¶å€™ï¼Œæ–¹å¼åˆšè§‰è¿™ä¸ªç©æ„å¥½ç‰›é€¼ã€‚åæ¥éšç€å¯¹å…¶ç†è§£çš„æ·±å…¥ï¼Œé—­åŒ…å®Œå…¨å¸¦æœ‰é¢å‘å¯¹è±¡çš„æ„æ€ï¼Œå¤–å±‚å‡½æ•°é€šè¿‡å‡½æ•°å‚æ•°çš„å½¢å¼ç»™å†…éƒ¨å‡½æ•°åˆ›å»ºè¿è¥æœŸå˜é‡ï¼Œè¿™ä¸ªè¿è¡ŒæœŸä½œç”¨çš„å˜é‡å’Œoopä¸­çš„æˆå‘˜å˜é‡æœ‰ç›¸ä¼¼çš„å‘³é“ã€‚é€šè¿‡è¿™ä¸€è®²ï¼Œå¯¹é—­åŒ…çš„å®ç°åŸç†æœ‰äº†è¿›ä¸€æ­¥çš„ç†è§£ï¼ŒåŸæ¥é—­åŒ…ä¸åäººç±»ï¼Œè®¾è®¡è¿˜ç›¸å½“å·§å¦™ğŸ˜","like_count":10,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471005,"discussion_content":"éå¸¸å¥½ï¼\né‡åˆ°çœ‹ä¼¼ä¸æ­£å¸¸çš„ä¸œè¥¿çš„æ—¶å€™ï¼Œå…¶å®å°±æ˜¯è®©è®¤çŸ¥æ·±åŒ–çš„å¥‘æœºã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1573343308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1378779,"avatar":"https://static001.geekbang.org/account/avatar/00/15/09/db/78996b11.jpg","nickname":"Gaollard","note":"","ucode":"1B200F5E73C3E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546143,"discussion_content":"åŒå­¦å¥½ç»†èŠ‚å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642175671,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1050269,"avatar":"","nickname":"minghu6","note":"","ucode":"F44058E21B14C9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":359596,"discussion_content":"æˆ‘çš„ç†è§£æ˜¯é—­åŒ…å¿…é¡»è¦æœ‰è¯æ³•ä½œç”¨åŸŸï¼ˆLexcical Scopeï¼‰è¿™ä¸ªä¸œè¥¿ã€‚\n\né€šä¿—è¯´å°±æ˜¯èƒ½éš”ç¦»å¤–éƒ¨çš„å˜é‡ï¼Œä¸€æ–¹é¢å½“å€¼ä¼ å…¥åæ—¶å€™ï¼Œå‡½æ•°çš„çŠ¶æ€å°±ä¸èƒ½è¢«å¤–éƒ¨æ”¹å˜äº†ï¼›å¦ä¸€æ–¹é¢ï¼Œå‡½æ•°çš„æ‰§è¡Œå†³ä¸èƒ½å½±å“å¤–éƒ¨çš„å˜é‡ï¼ˆæ— å‰¯ä½œç”¨ï¼‰ã€‚\n\nè€Œä¸”ç”¨è¯æ³•ä½œç”¨åŸŸä¸è¯­è¨€æ˜¯å¦æ˜¯åŠ¨æ€ç±»å‹ä¹Ÿæ²¡å…³ç³»ï¼Œæœ€ç»å…¸çš„æ¯”å¦‚Lispå°±æ˜¯åŠ¨æ€ç±»å‹ï¼Œè€Œæ‹¥æœ‰è¯æ³•ä½œç”¨åŸŸã€‚\n\nåƒ JSã€Pythonè¿™ç§è„šæœ¬è¯­è¨€æ ¹æœ¬å°±æ²¡æœ‰é—­åŒ…ï¼Œåªèƒ½å«åšåŠ¨æ€ä½œç”¨åŸŸï¼Œåœ¨å‡½æ•°å†…éƒ¨èƒ½è®¿é—®å¹¶ä¿®æ”¹å¤–éƒ¨çš„å˜é‡ï¼Œè€Œä¿®æ”¹å¤–éƒ¨çš„å˜é‡ç›´æ¥å½±å“äº†å‡½æ•°å†…éƒ¨çš„çŠ¶æ€ã€‚\n\nå¦‚æœè¿™èƒ½å«åšé—­åŒ…ï¼Œé‚£ä¹ˆCè¯­è¨€ä¹Ÿå¯ä»¥è¢«è®¤ä¸ºæ˜¯å…·æœ‰é¢å‘å¯¹è±¡çš„æ€§è´¨çš„è¯­è¨€äº†ï¼Œå› ä¸ºæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨Cè¯­è¨€é‡Œé€šè¿‡ä»£ç çš„ç¼–å†™è§„èŒƒæ¥å®ç°é¢å‘å¯¹è±¡çš„ç¼–ç¨‹ã€‚\n\nè‡³äºä»€ä¹ˆä»JSçš„é—­åŒ…è°ˆåˆ°é¢å‘å¯¹è±¡å’Œæ•°æ®å°è£…å½“ç„¶ä¹Ÿå°±æ˜¯è’è¯äº†ï¼Œé—­åŒ…åšä¸äº†é¢å‘å¯¹è±¡ï¼Œä½†åè¿‡æ¥åŸºäºå¯¹è±¡ï¼ˆç”±classå…³é”®å­—å®šä¹‰ï¼‰å¯ä»¥å®ç°é—­åŒ…ï¼Œå› ä¸ºå¯¹è±¡æä¾›äº†è¯æ³•ä½œç”¨åŸŸçš„æ›¿ä»£å®ç°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616236816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131388,"user_name":"æ²‰æ·€çš„æ¢¦æƒ³","can_delete":false,"product_type":"c1","uid":1177315,"ip_address":"","ucode":"BCB7C26F9D214B","user_header":"https://static001.geekbang.org/account/avatar/00/11/f6/e3/e4bcd69e.jpg","comment_is_top":false,"comment_ctime":1567736911,"is_pvip":false,"replies":[{"id":"50769","content":"éå¸¸å¥½ï¼Œä½ æ³¨æ„åˆ°äº†è¿™ä¸ªç»†èŠ‚ã€‚<br>å®é™…ä¸Šï¼Œæˆ‘åœ¨è¿è¡Œæ—¶ç”¨åˆ°äº†ä¸€ä¸ªå°æŠ€å·§ã€‚é¦–å…ˆæ˜¯æŒ‰ç…§ä½œç”¨åŸŸæŸ¥æ‰¾å˜é‡ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šæ‰¾åˆ°é‚£ä¸ªå…¨å±€å˜é‡ã€‚åœ¨ä½œç”¨åŸŸé‡Œæ‰¾ä¸åˆ°çš„æ—¶å€™ï¼Œå†åˆ°FunctionObjectä¸­å»æ‰¾ã€‚æ‰€ä»¥ï¼Œå…¶å®è¿è¡ŒæœŸé‡Œï¼Œå…¨å±€å˜é‡å­˜äº†ä¸¤ä»½ã€‚ä¸€ä»½æ˜¯åœ¨é¡¶å±‚çš„æ ˆæ¡¢é‡Œï¼Œä¸€ä»½åœ¨FunctionObjecté‡Œã€‚åªä¸è¿‡åè€…ä¸èµ·ä½œç”¨ç½¢äº†ã€‚<br><br>å½“å­˜åœ¨å¤šå±‚å‡½æ•°åµŒå¥—çš„æ—¶å€™ï¼Œä¸Šé¢çš„ç®—æ³•å¯ä»¥æ ¹æ®è¿è¡Œæ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œè®¿é—®æ­£ç¡®çš„å˜é‡ã€‚<br><br>è¿™ä¸ªæ–¹æ³•æœ‰äº›å·æ‡’ï¼Œå› ä¸ºæ¯•ç«ŸFunctionObjecté‡Œå†—ä½™äº†ä¸€ä»½ï¼Œæµªè´¹ç©ºé—´äº†ã€‚ä½ ä¹Ÿå¯ä»¥æ‰¾å…¶ä»–æœºåˆ¶æ¥å®ç°ã€‚åªè¦æ”¯æŒé—­åŒ…çš„åŸç†å°±è¡Œï¼<br><br>ä½ å¯ä»¥å‚è€ƒASTEvaluator.javaä¸­çš„getLValue()æ–¹æ³•ï¼Œé‡Œé¢æœ‰æ³¨é‡Šï¼Œè¯´äº†è¿™ä¸ªæ€è·¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1568184879,"ip_address":"","comment_id":131388,"utype":1}],"discussion_count":6,"race_medal":0,"score":"31632507983","product_id":100034101,"comment_content":"é—­åŒ…å¦‚æœå¼•ç”¨çš„æ˜¯å¤–éƒ¨å‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡ï¼Œç›´æ¥æŠŠè¿™ä¸ªå˜é‡ä»æ ˆä¸­å¤åˆ¶ä¸€ä»½åˆ°FunctionObjecté‡Œé¢å°±å¯ä»¥äº†ï¼Œä½†æ˜¯å¦‚æœåº”ç”¨äº†å…¨å±€å˜é‡çš„è¯ï¼Œæ„Ÿè§‰å¿…é¡»è¦å¼•ç”¨å…¨å±€å˜é‡æœ¬èº«ï¼Œè¿™æ ·æ‰èƒ½è‡ªå·±çš„ä¿®æ”¹ä½“ç°åœ¨å…¨å±€å˜é‡ä¸­ã€‚è€å¸ˆä»£ç ä¸­æ˜¯å¦‚ä½•å®ç°è¿™ä¸ªçš„å‘¢ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466428,"discussion_content":"éå¸¸å¥½ï¼Œä½ æ³¨æ„åˆ°äº†è¿™ä¸ªç»†èŠ‚ã€‚\nå®é™…ä¸Šï¼Œæˆ‘åœ¨è¿è¡Œæ—¶ç”¨åˆ°äº†ä¸€ä¸ªå°æŠ€å·§ã€‚é¦–å…ˆæ˜¯æŒ‰ç…§ä½œç”¨åŸŸæŸ¥æ‰¾å˜é‡ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šæ‰¾åˆ°é‚£ä¸ªå…¨å±€å˜é‡ã€‚åœ¨ä½œç”¨åŸŸé‡Œæ‰¾ä¸åˆ°çš„æ—¶å€™ï¼Œå†åˆ°FunctionObjectä¸­å»æ‰¾ã€‚æ‰€ä»¥ï¼Œå…¶å®è¿è¡ŒæœŸé‡Œï¼Œå…¨å±€å˜é‡å­˜äº†ä¸¤ä»½ã€‚ä¸€ä»½æ˜¯åœ¨é¡¶å±‚çš„æ ˆæ¡¢é‡Œï¼Œä¸€ä»½åœ¨FunctionObjecté‡Œã€‚åªä¸è¿‡åè€…ä¸èµ·ä½œç”¨ç½¢äº†ã€‚\n\nå½“å­˜åœ¨å¤šå±‚å‡½æ•°åµŒå¥—çš„æ—¶å€™ï¼Œä¸Šé¢çš„ç®—æ³•å¯ä»¥æ ¹æ®è¿è¡Œæ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œè®¿é—®æ­£ç¡®çš„å˜é‡ã€‚\n\nè¿™ä¸ªæ–¹æ³•æœ‰äº›å·æ‡’ï¼Œå› ä¸ºæ¯•ç«ŸFunctionObjecté‡Œå†—ä½™äº†ä¸€ä»½ï¼Œæµªè´¹ç©ºé—´äº†ã€‚ä½ ä¹Ÿå¯ä»¥æ‰¾å…¶ä»–æœºåˆ¶æ¥å®ç°ã€‚åªè¦æ”¯æŒé—­åŒ…çš„åŸç†å°±è¡Œï¼\n\nä½ å¯ä»¥å‚è€ƒASTEvaluator.javaä¸­çš„getLValue()æ–¹æ³•ï¼Œé‡Œé¢æœ‰æ³¨é‡Šï¼Œè¯´äº†è¿™ä¸ªæ€è·¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568184879,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1177315,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f6/e3/e4bcd69e.jpg","nickname":"æ²‰æ·€çš„æ¢¦æƒ³","note":"","ucode":"BCB7C26F9D214B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":8269,"discussion_content":"ä»”ç»†ç ”ç©¶äº†è€å¸ˆçš„ä»£ç ï¼ŒåŸæ¥åœ¨é—­åŒ…å‡½æ•°ä¸­è·å–å˜é‡å€¼çš„æ—¶å€™ï¼Œè¿˜æ˜¯ä¼˜å…ˆä»Scopeä¸­é€å±‚æŸ¥æ‰¾ï¼Œç›´åˆ°æœ€é¡¶å±‚çš„Scopeéƒ½æ‰¾ä¸åˆ°è¯¥å˜é‡æ—¶ï¼Œæ‰ä¼šå»é—­åŒ…ä¸­å¯»æ‰¾ã€‚è¿™æ ·é—­åŒ…åœ¨ä½¿ç”¨å…¨å±€å˜é‡çš„ä½¿ç”¨å°±ä¸ä¼šä½¿ç”¨ä¸€å¼€å§‹æ‰“åŒ…çš„é‚£ä¸ªè¿‡æ—¶çš„å…¨å±€å˜é‡ã€‚ã€‚ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1567866741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1385204,"avatar":"https://static001.geekbang.org/account/avatar/00/15/22/f4/9fd6f8f0.jpg","nickname":"æ ¸æ¡ƒ","note":"","ucode":"7AB05270CBCCCB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574870,"discussion_content":"è¿™é‡Œå»¶ä¼¸ä¸€ä¸‹ï¼Œé‚£ä¹ˆé¡¶å±‚å’Œé—­åŒ…é‡Œé¢çš„å…¨å±€å˜é‡æ˜¯ç‹¬ç«‹çš„è¿˜æ˜¯å…±ç”¨ä¸€ä»½å†…å­˜çš„å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654415015,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2102801,"avatar":"","nickname":"Ryan","note":"","ucode":"33BFC4C00D8279","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":331053,"discussion_content":"å“ªå‘¢ï¼Ÿæ–‡ç« ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606754614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1061517,"avatar":"https://static001.geekbang.org/account/avatar/00/10/32/8d/91cd624b.jpg","nickname":"å¹»å¢ƒä¹‹æ¡¥","note":"","ucode":"F9F4DD94CB554E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":220195,"discussion_content":"å¯æ˜¯å¦‚æœå¤–å±‚å˜é‡å’Œå…¨å±€å˜é‡åŒåï¼Œè¿™æ ·å…ˆæ‰¾å…¨å±€å˜é‡åº”è¯¥ä¸å¯¹äº†å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585840168,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1515149,"avatar":"https://static001.geekbang.org/account/avatar/00/17/1e/8d/5b242931.jpg","nickname":"Fish","note":"","ucode":"C20719F8B0F7C8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1061517,"avatar":"https://static001.geekbang.org/account/avatar/00/10/32/8d/91cd624b.jpg","nickname":"å¹»å¢ƒä¹‹æ¡¥","note":"","ucode":"F9F4DD94CB554E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":315074,"discussion_content":"å†…éƒ¨èƒ½åŒºåˆ†ï¼Œæ¯”å¦‚ä½¿ç”¨ä¸åŒçš„id","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603241038,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":220195,"ip_address":""},"score":315074,"extra":""}]}]},{"had_liked":false,"id":138477,"user_name":"é£","can_delete":false,"product_type":"c1","uid":1444483,"ip_address":"","ucode":"E1CE0825AAF805","user_header":"https://static001.geekbang.org/account/avatar/00/16/0a/83/f916f903.jpg","comment_is_top":false,"comment_ctime":1570266424,"is_pvip":false,"replies":[{"id":"53817","content":"ä½†åªå¯¹è¿™ä¸ªé—­åŒ…æœ‰ç”¨ã€‚å†è°ƒç”¨ä¸€æ¬¡å‡½æ•°ï¼Œæ–°ç”Ÿæˆä¸€ä¸ªé—­åŒ…ï¼Œå°±ä¼šå†ç”Ÿæˆå¦ä¸€ä¸ªå˜é‡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1570677284,"ip_address":"","comment_id":138477,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23045102904","product_id":100034101,"comment_content":"æ€ä¹ˆçœ‹èµ·æ¥åƒï¼š<br>é—­åŒ…å˜é‡ï¼Œå°±æ˜¯åœ¨è¯­ä¹‰åˆ†ææ—¶ï¼Œä¸ºé—­åŒ…å‡½æ•°ç”Ÿæˆçš„staticå˜é‡ã€‚","like_count":5,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469534,"discussion_content":"ä½†åªå¯¹è¿™ä¸ªé—­åŒ…æœ‰ç”¨ã€‚å†è°ƒç”¨ä¸€æ¬¡å‡½æ•°ï¼Œæ–°ç”Ÿæˆä¸€ä¸ªé—­åŒ…ï¼Œå°±ä¼šå†ç”Ÿæˆå¦ä¸€ä¸ªå˜é‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570677284,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1329408,"avatar":"https://static001.geekbang.org/account/avatar/00/14/49/00/d92bb51c.jpg","nickname":"sunbird","note":"","ucode":"99D76818CB4A8E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":330053,"discussion_content":"æ„Ÿè§‰ç†è§£ä¸ºjavaçš„æˆå‘˜å˜é‡æ›´åˆé€‚ã€‚æ¯è°ƒç”¨ä¸€æ¬¡å¤–å±‚å‡½æ•°ï¼Œéƒ½ä¼šä¸ºå†…å±‚å‡½æ•°ç”Ÿæˆä¸€ä¸ªé—­åŒ…ï¼Œå°±å¥½åƒnewå¯¹è±¡çš„æ—¶å€™åˆ†é…çš„ä¸€å—å†…å­˜ï¼Œç¡®å®å’Œå¯¹è±¡çš„å†…å­˜åˆ†é…æœºåˆ¶å¤ªåƒäº†ï¼Œåœ¨å†…å­˜ä¸­çš„ç”Ÿå‘½å‘¨æœŸä¹Ÿä¸€æ ·ã€‚å½»åº•ç†è§£javascriptä¸­çš„é—­åŒ…äº†ï¼Œä¹Ÿç†è§£äº†javascriptä¸­ç”¨é—­åŒ…æ¥å®ç°é¢å‘å¯¹è±¡çš„æœºåˆ¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606507300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":135445,"user_name":"Smallfly","can_delete":false,"product_type":"c1","uid":1013841,"ip_address":"","ucode":"D388D5E0249A69","user_header":"https://static001.geekbang.org/account/avatar/00/0f/78/51/4790e13e.jpg","comment_is_top":false,"comment_ctime":1569162278,"is_pvip":false,"replies":[{"id":"52075","content":"é‚£æ›´æ–¹ä¾¿äº†ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1569295659,"ip_address":"","comment_id":135445,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23043998758","product_id":100034101,"comment_content":"æˆ‘ä»Šå¤©å‘ç° IntelliJ å…¨å®¶æ¡¶æ”¯æŒ ANTLR æ’ä»¶ï¼Œå¯ä»¥é›†æˆåœ¨ç¼–è¯‘å™¨é‡Œç›´æ¥æŸ¥çœ‹ç”Ÿæˆçš„ ASTã€‚","like_count":6,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468198,"discussion_content":"é‚£æ›´æ–¹ä¾¿äº†ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569295659,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":181054,"user_name":"Tao","can_delete":false,"product_type":"c1","uid":1023008,"ip_address":"","ucode":"45339E42C997F3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/9c/20/37ec7b9b.jpg","comment_is_top":false,"comment_ctime":1582467213,"is_pvip":false,"replies":[{"id":"74251","content":"ä»è¯­è¨€çš„è®¾è®¡è§’åº¦è®²ï¼Œå¯¹è±¡çš„æ–¹æ³•å’Œå‡½æ•°æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚<br>æ¯”å¦‚ï¼Œjavaç¨‹åºåœ¨è°ƒç”¨æ–¹æ³•æ—¶ï¼Œä¼šåœ¨ç¬¬ä¸€ä¸ªå‚æ•°ä¸­ä¼ é€’å¯¹è±¡å¼•ç”¨ï¼Œè¿™å°±æ˜¯thisã€‚æ¯”å¦‚ä¸€ä¸ªvoid foo(int a)å‡½æ•°ï¼Œå®é™…ä¼šæ¥æ”¶åˆ°ä¸¤ä¸ªå‚æ•°ã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1585187447,"ip_address":"","comment_id":181054,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14467369101","product_id":100034101,"comment_content":"JavaScript å‡½æ•°ä¸­ this ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªå‡½æ•°æ˜¯å¯¹è±¡è°ƒç”¨æ¯”å¦‚ obj.foo()ï¼Œé‚£ä¹ˆfooä¸­è¿™ä¸ªthiså°±æ˜¯å½“å‰å¯¹è±¡obj<br>å¦‚æœè¿™ä¸ªfooå½“ä½œæ™®é€šå‡½æ•°è°ƒç”¨å¦‚ï¼š<br>var bar =obj.foo<br>bar()<br>è¿™ä¸ªæ—¶å€™thiså°±ä¸æ˜¯objè¿™ä¸ªå¯¹è±¡äº†ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹thisæ­¤æ—¶æ˜¯å…¨å±€å¯¹è±¡ window","like_count":3,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484901,"discussion_content":"ä»è¯­è¨€çš„è®¾è®¡è§’åº¦è®²ï¼Œå¯¹è±¡çš„æ–¹æ³•å’Œå‡½æ•°æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚\næ¯”å¦‚ï¼Œjavaç¨‹åºåœ¨è°ƒç”¨æ–¹æ³•æ—¶ï¼Œä¼šåœ¨ç¬¬ä¸€ä¸ªå‚æ•°ä¸­ä¼ é€’å¯¹è±¡å¼•ç”¨ï¼Œè¿™å°±æ˜¯thisã€‚æ¯”å¦‚ä¸€ä¸ªvoid foo(int a)å‡½æ•°ï¼Œå®é™…ä¼šæ¥æ”¶åˆ°ä¸¤ä¸ªå‚æ•°ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585187447,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207316,"user_name":"sugar","can_delete":false,"product_type":"c1","uid":1167046,"ip_address":"","ucode":"454538FF253B5F","user_header":"https://static001.geekbang.org/account/avatar/00/11/ce/c6/958212b5.jpg","comment_is_top":false,"comment_ctime":1587046714,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10176981306","product_id":100034101,"comment_content":"æ—¢ç„¶èŠåˆ°JavaScriptï¼Œæˆ‘è¿˜æ˜¯æƒ³é—®ä¸€å¥ å®«è€å¸ˆçœŸçš„è§‰å¾—jsçš„thisè®¾è®¡ä¸æ˜¯è´¥ç¬”å—ï¼Ÿæ„Ÿè§‰åœ¨esè§„èŒƒè¿­ä»£çš„å¤šä¸ªç‰ˆæœ¬ä¸­ï¼Œå½¢æˆäº†ä¸€ä¸ªç›¸å½“æ²‰é‡çš„å†å²åŒ…è¢±ã€‚ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¯­è¨€åˆ¶å®šè€…ï¼ˆæˆ–è€…è¯´å½“æ—¶æœ‰æƒä¿®æ”¹è¯­è¨€è§„èŒƒçš„äººï¼‰å°±å¯¹thisçš„å«ä¹‰åšäº†ä¿®æ”¹ã€‚å°±åƒå‰é¢è¯„è®ºçš„é‚£ä½æ‰€è¯´ï¼Œthisåœ¨éä¸¥æ ¼æ¨¡å¼æŒ‡å‘windowï¼Œè€Œå¦‚æœå¼€å¯ä¸¥æ ¼æ¨¡å¼è¿™é‡Œåˆæ˜¯æŠ¥é”™äº†...","like_count":2},{"had_liked":false,"id":188570,"user_name":"dbo","can_delete":false,"product_type":"c1","uid":1052678,"ip_address":"","ucode":"3C5343589E47C2","user_header":"","comment_is_top":false,"comment_ctime":1584369608,"is_pvip":false,"replies":[{"id":"77021","content":"æœ‰ä¸€ä¸ªæ¦‚å¿µï¼Œå«åšè¯æ³•ä½œç”¨åŸŸï¼ˆLexical Scopeï¼‰ï¼Œåˆå«åšé™æ€ä½œç”¨åŸŸã€‚ä¹Ÿå°±æ˜¯å˜é‡çš„å£°æ˜å’Œä½¿ç”¨çš„å…³ç³»ï¼ˆå˜é‡æ¶ˆè§£ï¼‰ï¼Œæ˜¯åœ¨ç¼–è¯‘æœŸå°±å¯ä»¥ç¡®å®šçš„ï¼Œæ˜¯å®Œå…¨ç”±å˜é‡åœ¨æºä»£ç ä¸­çš„ä½ç½®å†³å®šçš„ã€‚<br><br>å¯¹äºé—­åŒ…çš„æƒ…å†µï¼Œå†…éƒ¨å‡½æ•°ä½¿ç”¨äº†å¤–éƒ¨å‡½æ•°çš„å˜é‡ã€‚ä½†è¿™ä¸ªå†…éƒ¨å‡½æ•°åœ¨è¿è¡Œæ—¶åˆè¢«ä¼ åˆ°å…¶ä»–åœ°æ–¹å»ä½¿ç”¨ã€‚é‚£ä¹ˆå£°æ˜è¿™ä¸ªå‡½æ•°æ—¶æ‰€ä¾èµ–çš„å˜é‡ï¼Œåœ¨å®é™…è¿è¡Œæ—¶ï¼Œæ²¡æœ‰åŠæ³•ä»ä¸Šä¸€çº§çš„æ ˆå¸§é‡Œå»è·å–ï¼Œè¿™å°±æ˜¯çŸ›ç›¾çš„åœ°æ–¹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1586831248,"ip_address":"","comment_id":188570,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10174304200","product_id":100034101,"comment_content":"å…¶å®ï¼Œåªè¦å‡½æ•°èƒ½ä½œä¸ºå€¼ä¼ æ¥ä¼ å»ï¼Œå°±ä¸€å®šä¼šäº§ç”Ÿä½œç”¨åŸŸä¸åŒ¹é…çš„æƒ…å†µï¼Œè¿™æ ·çš„å†…åœ¨çŸ›ç›¾æ˜¯è¯­è¨€è®¾è®¡æ—¶å°±å†³å®šäº†çš„ã€‚<br><br>ä¸ç†è§£è¿™å¥è¯ï¼Œä¸ºä»€ä¹ˆå‡½æ•°ä½œä¸ºå€¼ä¼ æ¥ä¼ å»ä¼šäº§ç”Ÿä½œç”¨åŸŸä¸åŒ¹é…çš„æƒ…å†µï¼Œè€ƒè¯•èƒ½è§£é‡Šä¸‹å—ï¼Ÿè°¢è°¢ã€‚","like_count":3,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487452,"discussion_content":"æœ‰ä¸€ä¸ªæ¦‚å¿µï¼Œå«åšè¯æ³•ä½œç”¨åŸŸï¼ˆLexical Scopeï¼‰ï¼Œåˆå«åšé™æ€ä½œç”¨åŸŸã€‚ä¹Ÿå°±æ˜¯å˜é‡çš„å£°æ˜å’Œä½¿ç”¨çš„å…³ç³»ï¼ˆå˜é‡æ¶ˆè§£ï¼‰ï¼Œæ˜¯åœ¨ç¼–è¯‘æœŸå°±å¯ä»¥ç¡®å®šçš„ï¼Œæ˜¯å®Œå…¨ç”±å˜é‡åœ¨æºä»£ç ä¸­çš„ä½ç½®å†³å®šçš„ã€‚\n\nå¯¹äºé—­åŒ…çš„æƒ…å†µï¼Œå†…éƒ¨å‡½æ•°ä½¿ç”¨äº†å¤–éƒ¨å‡½æ•°çš„å˜é‡ã€‚ä½†è¿™ä¸ªå†…éƒ¨å‡½æ•°åœ¨è¿è¡Œæ—¶åˆè¢«ä¼ åˆ°å…¶ä»–åœ°æ–¹å»ä½¿ç”¨ã€‚é‚£ä¹ˆå£°æ˜è¿™ä¸ªå‡½æ•°æ—¶æ‰€ä¾èµ–çš„å˜é‡ï¼Œåœ¨å®é™…è¿è¡Œæ—¶ï¼Œæ²¡æœ‰åŠæ³•ä»ä¸Šä¸€çº§çš„æ ˆå¸§é‡Œå»è·å–ï¼Œè¿™å°±æ˜¯çŸ›ç›¾çš„åœ°æ–¹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586831248,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":136187,"user_name":"æ›¾ç»ç˜¦è¿‡","can_delete":false,"product_type":"c1","uid":1240106,"ip_address":"","ucode":"57C32575A1C1FD","user_header":"https://static001.geekbang.org/account/avatar/00/12/ec/2a/b11d5ad8.jpg","comment_is_top":false,"comment_ctime":1569379514,"is_pvip":false,"replies":[{"id":"57691","content":"åº”è¯¥è¯´ï¼Œthisæœ¬æ¥å°±ç”¨æ¥æŒ‡ä»£å½“å‰ä½œç”¨åŸŸçš„ã€‚å¯¹è±¡å°±æ˜¯ä¸€ä¸ªä½œç”¨åŸŸã€‚æ‰€ä»¥thisæ€»åœ¨å˜æ˜¯åº”è¯¥çš„ã€‚thisä¸éœ€è¦æˆ‘ä»¬åœ¨ä»£ç é‡Œå»å£°æ˜ï¼Œå®ƒæ˜¯ä¸€ä¸ªå†…åœ¨çš„æœºåˆ¶ã€‚<br><br>åŠ¨æ€ä½œç”¨åŸŸï¼Œæ˜¯æŒ‡æˆ‘ä»¬åœ¨ä»£ç é‡Œæ˜¾å¼å£°æ˜çš„å˜é‡ï¼Œå…¶å€¼ä¸æ˜¯å£°æ˜æ—¶çš„ä½œç”¨åŸŸé‡Œçš„å€¼ï¼Œè€Œæ˜¯è¿è¡Œç¯å¢ƒçš„ä½œç”¨åŸŸé‡Œçš„å€¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1573440909,"ip_address":"","comment_id":136187,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10159314106","product_id":100034101,"comment_content":"ä¸ªäººç†è§£ï¼š JavaScriptæ˜¯ é™æ€ä½œç”¨åŸŸ    ä½†æ˜¯JavaScriptä¸­this æ˜¯åŠ¨æ€ä½œç”¨åŸŸ","like_count":2,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468499,"discussion_content":"åº”è¯¥è¯´ï¼Œthisæœ¬æ¥å°±ç”¨æ¥æŒ‡ä»£å½“å‰ä½œç”¨åŸŸçš„ã€‚å¯¹è±¡å°±æ˜¯ä¸€ä¸ªä½œç”¨åŸŸã€‚æ‰€ä»¥thisæ€»åœ¨å˜æ˜¯åº”è¯¥çš„ã€‚thisä¸éœ€è¦æˆ‘ä»¬åœ¨ä»£ç é‡Œå»å£°æ˜ï¼Œå®ƒæ˜¯ä¸€ä¸ªå†…åœ¨çš„æœºåˆ¶ã€‚\n\nåŠ¨æ€ä½œç”¨åŸŸï¼Œæ˜¯æŒ‡æˆ‘ä»¬åœ¨ä»£ç é‡Œæ˜¾å¼å£°æ˜çš„å˜é‡ï¼Œå…¶å€¼ä¸æ˜¯å£°æ˜æ—¶çš„ä½œç”¨åŸŸé‡Œçš„å€¼ï¼Œè€Œæ˜¯è¿è¡Œç¯å¢ƒçš„ä½œç”¨åŸŸé‡Œçš„å€¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573440909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1905024,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/11/80/73ff198e.jpg","nickname":"VictorLee","note":"","ucode":"FF7C211DA853CE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306101,"discussion_content":"å°é»„ä¹¦é‡Œè®²è¿‡è¿™ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600169235,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1046304,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f7/20/e2dfa9c2.jpg","nickname":"èŠ±å„¿ä¸å°‘å¹´","note":"","ucode":"E2D685737E4F1B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":23158,"discussion_content":"å¯¹çš„, ä¸è¿‡ç®­å¤´å‡½æ•°é‡Œthis æ˜¯è¯æ³•this","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569763278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131735,"user_name":"æ²‰æ·€çš„æ¢¦æƒ³","can_delete":false,"product_type":"c1","uid":1177315,"ip_address":"","ucode":"BCB7C26F9D214B","user_header":"https://static001.geekbang.org/account/avatar/00/11/f6/e3/e4bcd69e.jpg","comment_is_top":false,"comment_ctime":1567868135,"is_pvip":false,"replies":[{"id":"50750","content":"çœ‹ä¸€ä¸‹closure.playç¤ºä¾‹ç¨‹åºï¼š<br><br>int a = 0;<br>function int() fun1(){<br>    int b = 0;                &#47;&#47;å‡½æ•°å†…çš„å±€éƒ¨å˜é‡<br>    int inner(){              &#47;&#47;å†…éƒ¨çš„ä¸€ä¸ªå‡½æ•°<br>        a = a+1;<br>        b = b+1;<br>        return b;             &#47;&#47;è¿”å›å†…éƒ¨çš„æˆå‘˜<br>    }<br>    return inner;             &#47;&#47;è¿”å›ä¸€ä¸ªå‡½æ•°<br>}<br>function int() fun2 = fun1();  <br><br>è¿™æ—¶å€™ï¼Œfun2æ˜¯ä¸ªå˜é‡ï¼Œè¿™ä¸ªå˜é‡å°±æ˜¯fun1()ä¸­çš„inner()å‡½æ•°çš„receiverã€‚è¿™ä¸ªæ—¶å€™ï¼Œinner()å‡½æ•°çš„è¿è¡Œæ—¶ååœ¨çš„ä½œç”¨åŸŸæ˜¯fun2è¿™ä¸ªå˜é‡çš„ã€‚<br><br>receiverè¿™ä¸ªæœºåˆ¶æ˜¯æˆ‘åˆ›é€ çš„ï¼Œä¸ç”¨æ‹˜æ³¥äºè¿™ç§å®ç°æ–¹å¼ã€‚åªè¦èƒ½å¤Ÿå®ç°é—­åŒ…çš„åŸç†ï¼Œå°±éƒ½å¯ä»¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1568183346,"ip_address":"","comment_id":131735,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10157802727","product_id":100034101,"comment_content":"                &#47;*<br>                è¿™æ˜¯é’ˆå¯¹å‡½æ•°å¯èƒ½æ˜¯ä¸€ç­‰å…¬æ°‘çš„æƒ…å†µã€‚è¿™ä¸ªæ—¶å€™ï¼Œå‡½æ•°è¿è¡Œæ—¶çš„ä½œç”¨åŸŸï¼Œä¸å£°æ˜æ—¶çš„ä½œç”¨åŸŸä¼šä¸ä¸€è‡´ã€‚<br>                æˆ‘åœ¨è¿™é‡Œè®¾è®¡äº†ä¸€ä¸ªâ€œreceiverâ€çš„æœºåˆ¶ï¼Œæ„æ€æ˜¯è¿™ä¸ªå‡½æ•°æ˜¯è¢«å“ªä¸ªå˜é‡æ¥æ”¶äº†ã€‚è¦æŒ‰ç…§è¿™ä¸ªreceiverçš„ä½œç”¨åŸŸæ¥åˆ¤æ–­ã€‚<br>                 *&#47;<br>                else if (frame.object instanceof FunctionObject){<br>                    FunctionObject functionObject = (FunctionObject)frame.object;<br>                    if (functionObject.receiver != null &amp;&amp; functionObject.receiver.enclosingScope == f.scope) {<br>                        frame.parentFrame = f;<br>                        break;<br>                    }<br>                }<br><br>ä¸æ˜¯å¾ˆç†è§£è€å¸ˆçš„è¿™ä¸ªreceiveræœºåˆ¶ï¼Œèƒ½ä¸¾ä¸ªä¾‹å­å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466601,"discussion_content":"çœ‹ä¸€ä¸‹closure.playç¤ºä¾‹ç¨‹åºï¼š\n\nint a = 0;\nfunction int() fun1(){\n    int b = 0;                //å‡½æ•°å†…çš„å±€éƒ¨å˜é‡\n    int inner(){              //å†…éƒ¨çš„ä¸€ä¸ªå‡½æ•°\n        a = a+1;\n        b = b+1;\n        return b;             //è¿”å›å†…éƒ¨çš„æˆå‘˜\n    }\n    return inner;             //è¿”å›ä¸€ä¸ªå‡½æ•°\n}\nfunction int() fun2 = fun1();  \n\nè¿™æ—¶å€™ï¼Œfun2æ˜¯ä¸ªå˜é‡ï¼Œè¿™ä¸ªå˜é‡å°±æ˜¯fun1()ä¸­çš„inner()å‡½æ•°çš„receiverã€‚è¿™ä¸ªæ—¶å€™ï¼Œinner()å‡½æ•°çš„è¿è¡Œæ—¶ååœ¨çš„ä½œç”¨åŸŸæ˜¯fun2è¿™ä¸ªå˜é‡çš„ã€‚\n\nreceiverè¿™ä¸ªæœºåˆ¶æ˜¯æˆ‘åˆ›é€ çš„ï¼Œä¸ç”¨æ‹˜æ³¥äºè¿™ç§å®ç°æ–¹å¼ã€‚åªè¦èƒ½å¤Ÿå®ç°é—­åŒ…çš„åŸç†ï¼Œå°±éƒ½å¯ä»¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568183346,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1177315,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f6/e3/e4bcd69e.jpg","nickname":"æ²‰æ·€çš„æ¢¦æƒ³","note":"","ucode":"BCB7C26F9D214B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":9729,"discussion_content":"æŒ‰ç…§æ–‡ä¸­çš„è¯´æ³•ï¼Œé—­åŒ…è¿è¡Œæ—¶çš„ä½œç”¨åŸŸä¸æ˜¯åº”è¯¥å’Œä»–å®šä¹‰æ—¶çš„ä½œç”¨åŸŸä¸€è‡´å—ï¼Ÿè¿™é‡Œæ€ä¹ˆåˆå’Œè¿è¡Œæ—¶æ‰€å±å˜é‡çš„ä½œç”¨åŸŸæœ‰å…³ç³»äº†å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568210188,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131530,"user_name":"Geek_d0aef1","can_delete":false,"product_type":"c1","uid":1632382,"ip_address":"","ucode":"DF89F1386049DC","user_header":"","comment_is_top":false,"comment_ctime":1567782857,"is_pvip":false,"replies":[{"id":"50763","content":"ä½ è¿è¡Œantlrå‘½ä»¤çš„æ—¶å€™ï¼Œé€šè¿‡å¸¦ä¸åŒçš„å‚æ•°ï¼Œä¼šç”Ÿæˆæ•°é‡ä¸ç­‰çš„javaæ–‡ä»¶ã€‚å·¥å…·ç”Ÿæˆçš„å¤´ä¸Šéƒ½å¸¦æœ‰æ³¨é‡Šï¼Œè¯´æ˜æ˜¯Antlrç”Ÿæˆçš„ã€‚<br>åœ¨playscript-javaé¡¹ç›®ä¸­ï¼Œåº”è¯¥æ˜¯æœ‰6ä¸ªã€‚1ä¸ªlexerï¼Œ1ä¸ªparserï¼Œ2ä¸ªæ˜¯æ”¯æŒlistenerï¼Œ2ä¸ªæ˜¯æ”¯æŒvisitorçš„ã€‚<br>å…¶ä»–æ˜¯æ‰‹åŠ¨å†™çš„:-)","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1568183914,"ip_address":"","comment_id":131530,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10157717449","product_id":100034101,"comment_content":"æƒ³é—®ä¸ªæ²¡æœ‰æŠ€æœ¯å«é‡çš„é—®é¢˜ï¼Œæƒ³ç¡®è®¤ä¸‹ï¼Œantlr è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç åªæœ‰4ä¸ªï¼Œå…¶ä»–éƒ½æ˜¯è‡ªå·±æ‰‹åŠ¨å†™çš„ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466506,"discussion_content":"ä½ è¿è¡Œantlrå‘½ä»¤çš„æ—¶å€™ï¼Œé€šè¿‡å¸¦ä¸åŒçš„å‚æ•°ï¼Œä¼šç”Ÿæˆæ•°é‡ä¸ç­‰çš„javaæ–‡ä»¶ã€‚å·¥å…·ç”Ÿæˆçš„å¤´ä¸Šéƒ½å¸¦æœ‰æ³¨é‡Šï¼Œè¯´æ˜æ˜¯Antlrç”Ÿæˆçš„ã€‚\nåœ¨playscript-javaé¡¹ç›®ä¸­ï¼Œåº”è¯¥æ˜¯æœ‰6ä¸ªã€‚1ä¸ªlexerï¼Œ1ä¸ªparserï¼Œ2ä¸ªæ˜¯æ”¯æŒlistenerï¼Œ2ä¸ªæ˜¯æ”¯æŒvisitorçš„ã€‚\nå…¶ä»–æ˜¯æ‰‹åŠ¨å†™çš„:-)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568183914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":233193,"user_name":"Nail","can_delete":false,"product_type":"c1","uid":1154906,"ip_address":"","ucode":"1781E6D8D758B1","user_header":"https://static001.geekbang.org/account/avatar/00/11/9f/5a/e7622ea3.jpg","comment_is_top":false,"comment_ctime":1594257631,"is_pvip":false,"replies":[{"id":"86337","content":"TSå®ç°visitorä¹Ÿå¾ˆç®€å•ã€‚ä¸€ä¸ªåŠæ³•ï¼Œæ˜¯è®©Antlrç»™ä½ ç”Ÿæˆä¸€ä¸‹ï¼Œç„¶åä½ å¯ä»¥å€Ÿé‰´ä¸€ä¸‹ã€‚Antlræ”¯æŒTSã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1594559959,"ip_address":"","comment_id":233193,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5889224927","product_id":100034101,"comment_content":"æˆ‘ç”¨çš„æ˜¯ tsï¼Œä» 7 å¼€å§‹ï¼Œå‘ç°å¾ˆéš¾è·Ÿä¸Šäº†ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚åœ¨å®ç° visitor æ—¶çš„å¾ˆå¤šæ–¹æ³•éƒ½å’Œ java çš„ä¸ä¸€æ ·ï¼Œä¹Ÿæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„æ–‡æ¡£ã€‚æƒ³è¯·é—®æœ‰æ²¡æœ‰ç¼“è§£çš„åŠæ³•","like_count":2,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500937,"discussion_content":"TSå®ç°visitorä¹Ÿå¾ˆç®€å•ã€‚ä¸€ä¸ªåŠæ³•ï¼Œæ˜¯è®©Antlrç»™ä½ ç”Ÿæˆä¸€ä¸‹ï¼Œç„¶åä½ å¯ä»¥å€Ÿé‰´ä¸€ä¸‹ã€‚Antlræ”¯æŒTSã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594559959,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":281953,"user_name":"xxx","can_delete":false,"product_type":"c1","uid":1096652,"ip_address":"","ucode":"E79CEA70430449","user_header":"https://static001.geekbang.org/account/avatar/00/10/bb/cc/fac12364.jpg","comment_is_top":false,"comment_ctime":1614990035,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1614990035","product_id":100034101,"comment_content":"ç°åœ¨ä»£ç ç¡®å®æ˜¯çœ‹ä¸å¤ªæ‡‚äº†ï¼Œå°±è¯»è¯»æ€æƒ³æŠŠã€‚æ„Ÿè§‰ä¿å­˜å˜é‡é‚£å—æœ¯è¯­å…¶å®å°±æ˜¯ Captureï¼Œç„¶åå¤§éƒ¨åˆ†è¯­è¨€åœ¨è¿™é‡Œæ˜¯å…è®¸è¿”å›çš„å‡½æ•°ä¿®æ”¹captureåˆ°çš„å˜é‡çš„ï¼Œä½†Javaä¸å¯ä»¥ï¼Œæ‰€ä»¥è¿˜å¾—ç”¨æ•°ç»„ç»•è¿‡ã€‚","like_count":0},{"had_liked":false,"id":248453,"user_name":"VictorLee","can_delete":false,"product_type":"c1","uid":1905024,"ip_address":"","ucode":"FF7C211DA853CE","user_header":"https://static001.geekbang.org/account/avatar/00/1d/11/80/73ff198e.jpg","comment_is_top":false,"comment_ctime":1600169318,"is_pvip":false,"replies":[{"id":"94666","content":"Great!","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1605085105,"ip_address":"","comment_id":248453,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1600169318","product_id":100034101,"comment_content":"é‚£ä¸ªæ˜¯é—­åŒ…é¢è¯•ç»å…¸é¢˜ï¼Œå¦å¤–jsä¸­çš„thiså®ç°äº†ç±»ä¼¼çš„åŠ¨æ€ä½œç”¨åŸŸæœºåˆ¶ï¼Œå…¶ç¡®å®šæœ‰ä¸€ä¸ªä¼˜å…ˆçº§","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505655,"discussion_content":"Great!","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605085105,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":229561,"user_name":"Geek_179681","can_delete":false,"product_type":"c1","uid":1994379,"ip_address":"","ucode":"62A639826107C5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ereQ8v2H89H7lGLMfk8Gw7iaskB7tJFL54ibXTvQoNJUhNoBPiaQG8bEsh2aUEITGMosaAbWzoAZajbQ/132","comment_is_top":false,"comment_ctime":1593057930,"is_pvip":false,"replies":[{"id":"85225","content":"æ²¡é”™ï¼ŒCè¯­è¨€ä¸­çš„å‡½æ•°æŒ‡é’ˆæ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥ç”¨æ¥ä½œä¸ºå‚æ•°ä¼ é€’æˆ–èµ‹å€¼ï¼Œä»è€Œå®ç°å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€äº›ä¼˜ç‚¹ã€‚<br><br>åœ¨æŠŠå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’æ–¹é¢ï¼Œæ¯ç§è¯­è¨€çš„å®ç°æœºåˆ¶æ˜¯ä¸ä¸€æ ·çš„ã€‚æ¯”å¦‚ï¼Œå¯¹äºPythonè€Œè¨€ï¼Œå‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè·Ÿä¸€ä¸ªæ•´æ•°ã€ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸€æ ·çš„ã€‚Pythonçš„è¿è¡Œæ—¶ä¼šæ ¹æ®è¿™ä¸ªå¯¹è±¡é‡Œçš„ä¿¡æ¯ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·ä½“çš„å‡½æ•°åœ°å€ï¼ˆæœºå™¨ç åœ°å€ï¼‰å»æ‰§è¡Œï¼Œæˆ–è€…å»è§£é‡Šæ‰§è¡Œä¸€æ®µå­—èŠ‚ç ã€‚æˆ‘åœ¨ã€Šç¼–è¯‘åŸç†å®æˆ˜è¯¾ã€‹å¯¹ä¸Šè¿°æœºåˆ¶åšäº†å‰–æã€‚<br><br>å…³äºæœ€åä¸€ä¸ªé—®é¢˜ï¼ŒCå’ŒC++çš„æ ‡å‡†è§„èŒƒé‡Œæ˜¯ä¸æ”¯æŒå‡½æ•°çš„åµŒå¥—å®šä¹‰çš„ã€‚ä½†æ˜¯ï¼Œç”±äºCè¯­è¨€å…·æœ‰é«˜åº¦çš„çµæ´»æ€§ï¼Œå®ƒå…¶å®å¯ä»¥æ¨¡æ‹Ÿå‡ºé—­åŒ…çš„æ•ˆæœæ¥ï¼Œä½ å¯ä»¥åœ¨ç½‘ç»œä¸Šæœç´¢ä¸€ä¸‹å…¶å®ç°æœºåˆ¶ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1593499036,"ip_address":"","comment_id":229561,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593057930","product_id":100034101,"comment_content":"è€å¸ˆå¥½ï¼ŒCè¯­è¨€é‡Œç”¨å‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ é€’ä¹Ÿèƒ½å®ç°æœ¬èŠ‚ä¸­ LinkedList ä¸­ map çš„ä½œç”¨ï¼Œå¯ä»¥è®¤ä¸ºå®ƒä»¬æ˜¯ç±»ä¼¼çš„ä¸œè¥¿å—ï¼Ÿæ¯”å¦‚è¯´å‡½æ•°èƒ½ä½œä¸ºå‚æ•°ä¼ é€’çš„åº•å±‚ä¹Ÿæ˜¯ä¼ é€’å‡½æ•°åœ°å€ï¼Ÿ<br>å¦å¤–ä¸€ä¸ªé—®é¢˜æ˜¯ï¼ŒC å’Œ C++ ä¸­æ²¡æœ‰å‡½æ•°åµŒå¥—å®šä¹‰çš„é—®é¢˜ï¼Œæ‰€ä»¥æ˜¯å¦ä¹Ÿå°±ä¸å­˜åœ¨é—­åŒ…çš„æ¦‚å¿µï¼Œå³ä¸å­˜åœ¨åœ¨å‡½æ•°ä¸­è¿”å›å¦ä¸€ä¸ªå‡½æ•°çš„æ“ä½œåœºæ™¯ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499534,"discussion_content":"æ²¡é”™ï¼ŒCè¯­è¨€ä¸­çš„å‡½æ•°æŒ‡é’ˆæ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥ç”¨æ¥ä½œä¸ºå‚æ•°ä¼ é€’æˆ–èµ‹å€¼ï¼Œä»è€Œå®ç°å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€äº›ä¼˜ç‚¹ã€‚\n\nåœ¨æŠŠå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’æ–¹é¢ï¼Œæ¯ç§è¯­è¨€çš„å®ç°æœºåˆ¶æ˜¯ä¸ä¸€æ ·çš„ã€‚æ¯”å¦‚ï¼Œå¯¹äºPythonè€Œè¨€ï¼Œå‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè·Ÿä¸€ä¸ªæ•´æ•°ã€ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸€æ ·çš„ã€‚Pythonçš„è¿è¡Œæ—¶ä¼šæ ¹æ®è¿™ä¸ªå¯¹è±¡é‡Œçš„ä¿¡æ¯ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·ä½“çš„å‡½æ•°åœ°å€ï¼ˆæœºå™¨ç åœ°å€ï¼‰å»æ‰§è¡Œï¼Œæˆ–è€…å»è§£é‡Šæ‰§è¡Œä¸€æ®µå­—èŠ‚ç ã€‚æˆ‘åœ¨ã€Šç¼–è¯‘åŸç†å®æˆ˜è¯¾ã€‹å¯¹ä¸Šè¿°æœºåˆ¶åšäº†å‰–æã€‚\n\nå…³äºæœ€åä¸€ä¸ªé—®é¢˜ï¼ŒCå’ŒC++çš„æ ‡å‡†è§„èŒƒé‡Œæ˜¯ä¸æ”¯æŒå‡½æ•°çš„åµŒå¥—å®šä¹‰çš„ã€‚ä½†æ˜¯ï¼Œç”±äºCè¯­è¨€å…·æœ‰é«˜åº¦çš„çµæ´»æ€§ï¼Œå®ƒå…¶å®å¯ä»¥æ¨¡æ‹Ÿå‡ºé—­åŒ…çš„æ•ˆæœæ¥ï¼Œä½ å¯ä»¥åœ¨ç½‘ç»œä¸Šæœç´¢ä¸€ä¸‹å…¶å®ç°æœºåˆ¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593499036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":177218,"user_name":"Aaaaaaaaaaayou","can_delete":false,"product_type":"c1","uid":1073601,"ip_address":"","ucode":"67BA315B87587D","user_header":"https://static001.geekbang.org/account/avatar/00/10/61/c1/93031a2a.jpg","comment_is_top":false,"comment_ctime":1581324290,"is_pvip":false,"replies":[{"id":"77026","content":"LValueçš„æ„æ€æ˜¯å·¦å€¼ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥å‡ºç°åœ¨èµ‹å€¼ç¬¦å·å·¦è¾¹çš„å€¼ã€‚å®ƒå¾—æ˜¯ä¸€ä¸ªå˜é‡çš„å¼•ç”¨ï¼ˆæˆ–Cè¯­è¨€ä¸­å˜é‡çš„åœ°å€ï¼‰ï¼Œè¿™æ ·æ‰èƒ½ä¿®æ”¹å˜é‡çš„å€¼ã€‚<br>ä¸ä¹‹å¯¹åº”çš„ï¼Œæ˜¯å³å€¼ã€‚å³å€¼å¯ä»¥ä»…ä»…æ˜¯ä¸€ä¸ªå€¼ã€‚ä¹Ÿå°±æ˜¯ç¤ºä¾‹ä»£ç ä¸­çš„Objectã€‚<br>å·¦å€¼å¯ä»¥å½“åšå³å€¼æ¥ç”¨ï¼Œè€Œå³å€¼ä¸èƒ½å½“åšå·¦å€¼æ¥ç”¨ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1586831894,"ip_address":"","comment_id":177218,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1581324290","product_id":100034101,"comment_content":"è€å¸ˆï¼Œæœ‰ä¸ªé—®é¢˜é—®ä¸€ä¸‹ï¼Œä»£ç ä¸­çš„ LValue ç±»å‹æ˜¯å¹²å˜›ç”¨çš„ï¼Œä¸ºä»€ä¹ˆæœ‰äº›èŠ‚ç‚¹çš„è¿”å›å€¼æ˜¯ Objectï¼Œæœ‰äº›æ˜¯ LValue","like_count":1,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483350,"discussion_content":"LValueçš„æ„æ€æ˜¯å·¦å€¼ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥å‡ºç°åœ¨èµ‹å€¼ç¬¦å·å·¦è¾¹çš„å€¼ã€‚å®ƒå¾—æ˜¯ä¸€ä¸ªå˜é‡çš„å¼•ç”¨ï¼ˆæˆ–Cè¯­è¨€ä¸­å˜é‡çš„åœ°å€ï¼‰ï¼Œè¿™æ ·æ‰èƒ½ä¿®æ”¹å˜é‡çš„å€¼ã€‚\nä¸ä¹‹å¯¹åº”çš„ï¼Œæ˜¯å³å€¼ã€‚å³å€¼å¯ä»¥ä»…ä»…æ˜¯ä¸€ä¸ªå€¼ã€‚ä¹Ÿå°±æ˜¯ç¤ºä¾‹ä»£ç ä¸­çš„Objectã€‚\nå·¦å€¼å¯ä»¥å½“åšå³å€¼æ¥ç”¨ï¼Œè€Œå³å€¼ä¸èƒ½å½“åšå·¦å€¼æ¥ç”¨ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586831894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131701,"user_name":"Sun Fei","can_delete":false,"product_type":"c1","uid":1032631,"ip_address":"","ucode":"092EC0992050BB","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c1/b7/57f153f6.jpg","comment_is_top":false,"comment_ctime":1567857670,"is_pvip":false,"replies":[{"id":"50752","content":":-)","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1568183503,"ip_address":"","comment_id":131701,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567857670","product_id":100034101,"comment_content":"ç²¾å½©ã€‚","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466578,"discussion_content":":-)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568183503,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":131217,"user_name":"èŒ¶åº•","can_delete":false,"product_type":"c1","uid":1188926,"ip_address":"","ucode":"687DD3686A84D2","user_header":"https://static001.geekbang.org/account/avatar/00/12/24/3e/692a93f7.jpg","comment_is_top":false,"comment_ctime":1567673271,"is_pvip":false,"replies":[{"id":"49542","content":"lexå’Œyaccéƒ½æ²¡è®¡åˆ’è®²ã€‚å› ä¸ºè¿™äº›å·¥å…·éƒ½å·®ä¸å¤šã€‚æŒæ¡åŸç†åï¼Œç”¨å“ªä¸ªåº”è¯¥éƒ½æ²¡é—®é¢˜ã€‚<br>lexï¼ˆæˆ–flexï¼‰æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥ä¼šç”¨Antlrä¸€å®šä¹Ÿä¼šç”¨lexã€‚<br>yaccï¼ˆæˆ–bisonï¼‰æ˜¯LRç®—æ³•çš„ï¼Œæˆ‘ä»¬è®²å®ŒLRç®—æ³•ä»¥åï¼Œä½ ç†è§£è¿™ä¸ªå·¥å…·çš„åŸç†åº”è¯¥ä¹Ÿæ²¡å•¥é—®é¢˜ã€‚<br>","user_name":"ä½œè€…å›å¤","user_name_real":"å®«æ–‡å­¦Richard","uid":"1543380","ctime":1567684302,"ip_address":"","comment_id":131217,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1567673271","product_id":100034101,"comment_content":"è€å¸ˆä»€ä¹ˆæ—¶å€™å¼€å§‹è®²lexå’Œyaccå•Š","like_count":0,"discussions":[{"author":{"id":1543380,"avatar":"https://static001.geekbang.org/account/avatar/00/17/8c/d4/5972b7cc.jpg","nickname":"å®«æ–‡å­¦Richard","note":"","ucode":"09EADF0CB62C91","race_medal":0,"user_type":2,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466340,"discussion_content":"lexå’Œyaccéƒ½æ²¡è®¡åˆ’è®²ã€‚å› ä¸ºè¿™äº›å·¥å…·éƒ½å·®ä¸å¤šã€‚æŒæ¡åŸç†åï¼Œç”¨å“ªä¸ªåº”è¯¥éƒ½æ²¡é—®é¢˜ã€‚\nlexï¼ˆæˆ–flexï¼‰æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥ä¼šç”¨Antlrä¸€å®šä¹Ÿä¼šç”¨lexã€‚\nyaccï¼ˆæˆ–bisonï¼‰æ˜¯LRç®—æ³•çš„ï¼Œæˆ‘ä»¬è®²å®ŒLRç®—æ³•ä»¥åï¼Œä½ ç†è§£è¿™ä¸ªå·¥å…·çš„åŸç†åº”è¯¥ä¹Ÿæ²¡å•¥é—®é¢˜ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567684302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
{"id":12720,"title":"84 | 参考资源和后续课程预览","content":"无","comments":[{"had_liked":false,"id":138510,"user_name":"在路上","can_delete":false,"product_type":"c3","uid":1205712,"ip_address":"","ucode":"18337C6DD5E618","user_header":"https://static001.geekbang.org/account/avatar/00/12/65/d0/b5b00bc2.jpg","comment_is_top":false,"comment_ctime":1570285805,"is_pvip":false,"replies":[{"id":53558,"content":"各有千秋，无侵入也是有利有弊的，无侵入埋点方式的灵活性和性能不如侵入式埋点方案。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1570533582,"ip_address":"","comment_id":138510,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"杨老师，CAT和Apache SkyWalking相比，是不是后者使用起来更友好，因为无侵入，而且有Apache社区维护。","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":469549,"discussion_content":"各有千秋，无侵入也是有利有弊的，无侵入埋点方式的灵活性和性能不如侵入式埋点方案。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1570533582,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":21859,"user_name":"AA","can_delete":false,"product_type":"c3","uid":1103583,"ip_address":"","ucode":"CADCB958D6DA1B","user_header":"https://static001.geekbang.org/account/avatar/00/10/d6/df/1e4ecd94.jpg","comment_is_top":false,"comment_ctime":1535378256,"is_pvip":false,"replies":[{"id":8125,"content":"现代做法一般像库存这样的数据同时放DB+缓存，读直接读缓存(没有的话读DB并更新缓存)，保证高并发，写双写，保证一致性。业务分库后一致性有很多办法，一般采用最终一致性，常依赖消息系统做异步同步+定期批量核对保证一致性。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1535865026,"ip_address":"","comment_id":21859,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"老师，您好，请问几个问题。电商的库存放DB还是缓存，放DB的话怎么保证高并发，放缓存的话怎么保证一致性，最后一个就是业务分库后怎么保证一致性","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422894,"discussion_content":"现代做法一般像库存这样的数据同时放DB+缓存，读直接读缓存(没有的话读DB并更新缓存)，保证高并发，写双写，保证一致性。业务分库后一致性有很多办法，一般采用最终一致性，常依赖消息系统做异步同步+定期批量核对保证一致性。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535865026,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":21497,"user_name":"🎸祥子","can_delete":false,"product_type":"c3","uid":1172458,"ip_address":"","ucode":"1AE4CA15D4FA73","user_header":"https://static001.geekbang.org/account/avatar/00/11/e3/ea/148f9a19.jpg","comment_is_top":false,"comment_ctime":1535115291,"is_pvip":false,"replies":[{"id":8122,"content":"抱歉，k8s我只是了解，没有实际使用经验，我们企业内部用自研容器调度平台。你的微服务耗内存问题，建议用工具（java的话visualVM等）探测一下内存耗在哪里了，再考虑优化。后继我有想法开持续交付相关课程，但不一定讲k8s，而是基于轻量级自研容器调度平台。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1535864160,"ip_address":"","comment_id":21497,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"老师，生产环境用centos部署k8s好还是ubuntu比较适合呢？为什么我的微服务很消耗内存，感觉7g内存根本不够用？是我设置有问题吗？老师有k8s课程吗？很期待！","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":422705,"discussion_content":"抱歉，k8s我只是了解，没有实际使用经验，我们企业内部用自研容器调度平台。你的微服务耗内存问题，建议用工具（java的话visualVM等）探测一下内存耗在哪里了，再考虑优化。后继我有想法开持续交付相关课程，但不一定讲k8s，而是基于轻量级自研容器调度平台。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1535864160,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
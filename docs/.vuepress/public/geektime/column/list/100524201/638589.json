{"id":638589,"title":"12ï½œäºŒå‰æ ‘ï¼šå¦‚ä½•å­˜å‚¨äºŒå‰æ ‘ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ç‹å¥ä¼Ÿã€‚</p><p>èŠè¿‡äº†äºŒå‰æ ‘çš„éå†é—®é¢˜ï¼Œç»ˆäºè¦å¼€å§‹å†™ç¨‹åºäº†ï¼Œæ‰€ä»¥ä»Šå¤©å°±æ¥èŠèŠå­˜å‚¨äºŒå‰æ ‘çš„å‡ ç§æ–¹æ³•ã€‚</p><p>äºŒå‰æ ‘çš„å­˜å‚¨ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯åŸºäºæ•°ç»„çš„<strong>é¡ºåº</strong>å­˜å‚¨æ–¹å¼ï¼Œä¸€ç§æ˜¯<strong>é“¾å¼</strong>å­˜å‚¨æ–¹å¼ã€‚å®ƒä»¬æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ</p><h2>é¡ºåºå­˜å‚¨æ–¹å¼</h2><p>é¡ºåºå­˜å‚¨æ–¹å¼æ˜¯ç”¨ä¸€æ®µè¿ç»­çš„å†…å­˜å•å…ƒ<span class=\"reference\">ï¼ˆæ•°ç»„ï¼‰</span>ä¾æ¬¡ä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³å­˜å‚¨äºŒå‰æ ‘å„ä¸ªèŠ‚ç‚¹å…ƒç´ ã€‚</p><p>å‡è®¾æˆ‘ä»¬å­˜å‚¨çš„æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œå¦‚æœæŠŠæ ¹èŠ‚ç‚¹å­˜å‚¨åœ¨æ•°ç»„ä¸­ä¸‹æ ‡i = 1çš„ä½ç½®ï¼Œé‚£ä¹ˆæ ¹æ®ä¹‹å‰è®²è§£çš„äºŒå‰æ ‘ç¼–å·è§„å¾‹<a href=\"https://time.geekbang.org/column/article/637022\">ï¼ˆäºŒå‰æ ‘æ€§è´¨6ï¼‰</a>ï¼Œå·¦å­èŠ‚ç‚¹å°±å­˜å‚¨åœ¨ä¸‹æ ‡2 * i = 2çš„ä½ç½®ï¼Œå³å­èŠ‚ç‚¹å°±å­˜å‚¨åœ¨2 * i + 1 = 3çš„ä½ç½®ã€‚è¿™æ ·å°±å¯ä»¥é€šè¿‡ä¸‹æ ‡æŠŠæ•´æ£µæ ‘ä¸²èµ·æ¥ã€‚</p><p>å› ä¸ºèŠ‚ç‚¹ç¼–å·ä»1å¼€å§‹ï¼Œæ‰€ä»¥æ•°ç»„ä¸­ä¸‹æ ‡ä¸º0çš„ä½ç½®å¯ä»¥ç©ºå‡ºæ¥ä¸ç”¨ï¼Œè®©æ•°ç»„ä¸‹æ ‡å’ŒèŠ‚ç‚¹ç¼–å·ä¿æŒä¸€è‡´ã€‚è™½ç„¶è¿™æ ·æµªè´¹äº†ä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œä¸è¿‡è¿™ç‚¹ä½ å¯ä»¥è‡ªç”±å†³å®šã€‚</p><p>å‚è€ƒä¸‹å›¾1ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a1/f7/a1f7281f030a3e2be14d6fe4a5392cf7.jpg?wh=2284x940\" alt=\"\" title=\"å›¾1 å­˜å‚¨å®Œå…¨äºŒå‰æ ‘èŠ‚ç‚¹æ—¶æ‰€å¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ç¤ºæ„å›¾\"></p><p>ä¸éš¾çœ‹åˆ°ï¼Œæ•°ç»„çš„ä¸‹æ ‡å¯ä»¥ä½“ç°å‡ºèŠ‚ç‚¹çš„å­˜å‚¨ä½ç½®ã€‚æ¢å¥è¯è¯´ï¼Œæ•°ç»„çš„ä¸‹æ ‡èƒ½å¤Ÿä½“ç°å‡ºèŠ‚ç‚¹ä¹‹é—´çš„é€»è¾‘å…³ç³»<span class=\"reference\">ï¼ˆçˆ¶å­ã€å…„å¼Ÿï¼‰</span>ã€‚</p><p>ä½†å¦‚æœå­˜å‚¨çš„ä¸æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œè€Œæ˜¯æ™®é€šäºŒå‰æ ‘ï¼Œé‚£ä¹ˆå­˜å‚¨çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦å°†å…¶æŒ‰ç…§å®Œå…¨äºŒå‰æ ‘çš„æ–¹å¼æ¥ç¼–å·å­˜å‚¨ï¼Œè¿™æ ·è‚¯å®šä¼šæµªè´¹è¾ƒå¤šçš„æ•°ç»„å­˜å‚¨ç©ºé—´ã€‚</p><p>å‚è€ƒä¸‹å›¾2ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/16/c0/16232c4d7120da479f622376cbc4aec0.jpg?wh=2284x940\" alt=\"\" title=\"å›¾2 å­˜å‚¨æ™®é€šäºŒå‰æ ‘èŠ‚ç‚¹æ—¶æ‰€å¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ç¤ºæ„å›¾\"></p><p>å›¾2ä¸­è™šçº¿è¡¨ç¤ºçš„èŠ‚ç‚¹è¡¨ç¤ºä¸å­˜åœ¨çš„èŠ‚ç‚¹ï¼Œä½†åœ¨å­˜å‚¨æ—¶å´è¦ç»™å…¶ç•™å‡ºä½ç½®ã€‚å¯ä»¥çœ‹åˆ°ï¼Œä¸‹æ ‡6ã€8çš„æ•°ç»„ç©ºé—´éƒ½è¢«æµªè´¹æ‰äº†ã€‚</p><!-- [[[read_end]]] --><p>ä½ å¯ä»¥æƒ³ä¸€ç§æç«¯çš„æƒ…å†µï¼šå¦‚æœæœ‰ä¸€æ£µæ·±åº¦ä¸º4çš„å³æ–œæ ‘éœ€è¦ä¿å­˜ï¼Œä¼šæµªè´¹å¤šå°‘ä¸ªæ•°ç»„ç©ºé—´å‘¢ï¼Ÿ</p><p><img src=\"https://static001.geekbang.org/resource/image/de/1e/de4cdd08d36df7caeaf9d658b084201e.jpg?wh=2284x940\" alt=\"\" title=\"å›¾3 å³æ–œæ ‘é¡ºåºå­˜å‚¨æ–¹å¼ä¼šæµªè´¹å¾ˆå¤§çš„ç©ºé—´\"></p><p>æ ¹æ®äºŒå‰æ ‘æ€§è´¨2ï¼Œâ€œé«˜åº¦ä¸ºkçš„äºŒå‰æ ‘è‡³å¤šæœ‰$2^{k}$-1ä¸ªèŠ‚ç‚¹â€ï¼Œå­˜å‚¨é«˜åº¦ä¸º4çš„äºŒå‰æ ‘ï¼Œæœ€åæƒ…å†µä¸‹ç©ºé—´éœ€æ±‚æ˜¯$2^{4}$-1=15ï¼Œå› ä¸ºä¸‹æ ‡ä¸º0çš„ç©ºé—´ä¸ä½¿ç”¨ï¼Œæ‰€ä»¥æœ€åæƒ…å†µä¸‹ç©ºé—´éœ€æ±‚æ˜¯$2^{4}$=16ï¼Œè€Œå›¾3çš„å³æ–œæ ‘æ°æ°éœ€è¦$2^{4}$=16ä¸ªå­˜å‚¨ç©ºé—´ã€‚å³ä¾¿ä¸‹æ ‡ä¸º0çš„ä½ç½®ä¸è®¡ç®—åœ¨å†…ï¼Œä¹Ÿæ•´æ•´æµªè´¹äº†11ä¸ªä½ç½®ã€‚</p><p>å¯æ˜¯ï¼Œå®Œå…¨äºŒå‰æ ‘å°±ä¸ä¼šå­˜åœ¨è¿™ä¸ªé—®é¢˜ã€‚è¿™å°±æ˜¯å®Œå…¨äºŒå‰æ ‘æœ€åä¸€å±‚å¶èŠ‚ç‚¹éƒ½é å·¦ä¾§æ’åˆ—è¿™ç§ç¡¬æ€§è§„å®šæ‰€å¸¦æ¥çš„å­˜å‚¨ç›Šå¤„ã€‚æ¢å¥è¯è¯´ï¼Œ<strong>é¡ºåºå­˜å‚¨ç»“æ„ä¸€èˆ¬æ˜¯ç”¨äºå­˜å‚¨å®Œå…¨äºŒå‰æ ‘</strong>ã€‚</p><h2>é“¾å¼å­˜å‚¨æ–¹å¼</h2><p>é“¾å¼å­˜å‚¨æ–¹å¼è¦å­˜å‚¨é¢å¤–çš„å·¦å³å­èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œè€Œé¡ºåºå­˜å‚¨æ–¹å¼æ˜¯ä¸éœ€è¦æŒ‡é’ˆçš„ï¼Œæ‰€ä»¥é€šå¸¸æ¥è®²ï¼Œ<strong>é“¾å¼å­˜å‚¨æ–¹å¼å¤šç”¨äºå­˜å‚¨æ™®é€šçš„äºŒå‰æ ‘ã€‚</strong></p><p>é“¾å¼å­˜å‚¨ä¸­ï¼ŒäºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¸ºæ¯ä¸ªèŠ‚ç‚¹è®¾è®¡ç»“æ„æ—¶ä¸€èˆ¬éƒ½åŒ…æ‹¬ä¸€ä¸ªæ•°æ®åŸŸå’Œä¸¤ä¸ªæŒ‡é’ˆåŸŸï¼Œåˆ†åˆ«æŒ‡å‘å·¦å­©å­èŠ‚ç‚¹å’Œå³å­©å­èŠ‚ç‚¹ã€‚è‡³äºæ²¡æœ‰ç”¨åˆ°çš„æŒ‡é’ˆï¼Œè®¾ç½®ä¸ºnullptrå³å¯ã€‚ç»“æ„ç¤ºæ„å›¾å¦‚å›¾4æ‰€ç¤ºï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/d3/dc/d31cbyy3811c780b94ab573643ed46dc.jpg?wh=2284x852\" alt=\"\" title=\"å›¾4 é“¾å¼å­˜å‚¨æ–¹å¼çš„ç»“æ„ç¤ºæ„å›¾\"></p><p>ä»å›¾4å¯ä»¥çœ‹åˆ°ï¼Œåªè¦<strong>æ‹ä½æœ€ä¸Šé¢çš„æ ¹èŠ‚ç‚¹</strong>ï¼Œå°±å¯ä»¥é€šè¿‡å·¦å³å­èŠ‚ç‚¹çš„æŒ‡é’ˆæŠŠæ•´æ£µæ ‘ä¸²èµ·æ¥ã€‚</p><p>åˆ©ç”¨è¿™ç§èŠ‚ç‚¹ç»“æ„æ‰€å¾—åˆ°çš„äºŒå‰æ ‘å­˜å‚¨ç»“æ„ï¼Œå«åš<strong>äºŒå‰é“¾è¡¨</strong>ï¼Œä¸€ä¸ªèŠ‚ç‚¹ç»“æ„ä¸­å¸¦ä¸¤ä¸ªæŒ‡é’ˆã€‚æœ‰æ—¶å€™ä¸ºäº†æ–¹ä¾¿æ‰¾åˆ°æŸä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œè¿˜å¯ä»¥åœ¨è®¾è®¡èŠ‚ç‚¹ç»“æ„çš„æ—¶å€™å†å¢åŠ ä¸€ä¸ªæŒ‡é’ˆï¼Œç”¨äºæŒ‡å‘å…¶çˆ¶èŠ‚ç‚¹ï¼Œè¿™ç§èŠ‚ç‚¹ç»“æ„æ‰€å¾—åˆ°çš„äºŒå‰æ ‘å­˜å‚¨ç»“æ„ï¼Œå°±å«åš<strong>ä¸‰å‰é“¾è¡¨</strong>ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ç»“æ„ä¸­å¸¦ä¸‰ä¸ªæŒ‡é’ˆã€‚</p><h2>äºŒå‰æ ‘é¡ºåºå­˜å‚¨çš„å¸¸ç”¨æ“ä½œ</h2><p>æ¦‚å¿µç†æ¸…ä¹‹åï¼Œæˆ‘ä»¬å°±è¦å¼€å§‹ä»£ç å±‚é¢çš„å­¦ä¹ äº†ã€‚è™½ç„¶é¡ºåºå­˜å‚¨ç»“æ„ä¸€èˆ¬æ˜¯ç”¨äºå­˜å‚¨å®Œå…¨äºŒå‰æ ‘ï¼Œä½†ä¸ºäº†è®©å†™å‡ºçš„ä»£ç ä¹Ÿæ”¯æŒæ™®é€šäºŒå‰æ ‘ï¼Œæ‰€ä»¥æˆ‘ä¼šç”¨äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨æ–¹å¼ï¼Œå­˜å‚¨å›¾5å·¦ä¾§æ‰€ç¤ºçš„æ™®é€šäºŒå‰æ ‘ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/6c/96/6c6677c3ee666c91951aaba931941196.jpg?wh=2284x728\" alt=\"\" title=\"å›¾5 å·¦ä¾§ä¸ºä¸€ä¸ªäºŒå‰æ ‘ï¼Œå³ä¾§ä¸ºä¸€ä¸ªäºŒå‰æ ‘çš„æ‰©å±•äºŒå‰æ ‘\"></p><p>äºŒå‰æ ‘é¡ºåºå­˜å‚¨çš„å®ç°ä»£ç <a href=\"https://gitee.com/jianw_wang/geektime_cpp_dsa/blob/master/14%EF%BD%9C%E4%BA%8C%E5%8F%89%E6%A0%91%EF%BC%9A%E5%A6%82%E4%BD%95%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E6%A0%91%EF%BC%9F/%EF%BC%881%EF%BC%89%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8/MyProject.cpp\">å‚è§è¯¾ä»¶</a>ã€‚</p><p>åœ¨mainä¸»å‡½æ•°ä¸­ï¼Œå¢åŠ å¦‚ä¸‹æµ‹è¯•ä»£ç ã€‚</p><pre><code class=\"language-plain\">BinaryTree&lt;int&gt; mytree;\n//åˆ›å»ºä¸€æ£µäºŒå‰æ ‘\nint indexRoot = mytree.CreateNode(-1, E_Root, 'A'); //åˆ›å»ºæ ‘æ ¹èŠ‚ç‚¹A\nint indexNodeB = mytree.CreateNode(indexRoot, E_ChildLeft, 'B');&nbsp; //åˆ›å»ºæ ‘æ ¹çš„å·¦å­èŠ‚ç‚¹B\nint indexNodeC = mytree.CreateNode(indexRoot, E_ChildRight, 'C'); //åˆ›å»ºæ ‘æ ¹çš„å³å­èŠ‚ç‚¹C\n\nint indexNodeD = mytree.CreateNode(indexNodeB, E_ChildLeft, 'D'); //åˆ›å»ºèŠ‚ç‚¹Bçš„å·¦å­èŠ‚ç‚¹D\nint indexNodeE = mytree.CreateNode(indexNodeC, E_ChildRight, 'E'); //åˆ›å»ºèŠ‚ç‚¹Cçš„å³å­èŠ‚ç‚¹E\t\n\nint iParentIndexE = mytree.getParentIdx(indexNodeE);&nbsp; &nbsp;//è·å–æŸä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„ä¸‹æ ‡\ncout &lt;&lt; \"èŠ‚ç‚¹Eçš„çˆ¶èŠ‚ç‚¹çš„ä¸‹æ ‡æ˜¯ï¼š\" &lt;&lt; iParentIndexE &lt;&lt; endl;\n\t\nint iLevel = mytree.getPointLevel(indexNodeD);&nbsp; //è·å–æŸä¸ªèŠ‚ç‚¹æ‰€åœ¨çš„é«˜åº¦\ncout &lt;&lt; \"èŠ‚ç‚¹Dæ‰€åœ¨çš„é«˜åº¦æ˜¯ï¼š\" &lt;&lt; iLevel &lt;&lt; endl;\niLevel = mytree.getPointLevel(indexNodeE);\ncout &lt;&lt; \"èŠ‚ç‚¹Eæ‰€åœ¨çš„é«˜åº¦æ˜¯ï¼š\" &lt;&lt; iLevel &lt;&lt; endl;\ncout &lt;&lt; \"äºŒå‰æ ‘çš„æ·±åº¦æ˜¯ï¼š\" &lt;&lt; mytree.getLevel() &lt;&lt; endl;\ncout &lt;&lt; \"äºŒå‰æ ‘æ˜¯ä¸ªå®Œå…¨äºŒå‰æ ‘å—ï¼Ÿ\" &lt;&lt; mytree.ifCompleteBT() &lt;&lt; endl;\n\t\ncout &lt;&lt; \"------------\" &lt;&lt; endl;\ncout &lt;&lt; \"å‰åºéå†åºåˆ—ä¸ºï¼š\";\nmytree.preOrder();&nbsp; &nbsp;//å‰åºéå†\n</code></pre><p>ä»£ç çš„æ‰§è¡Œç»“æœå¦‚ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a7/d8/a7858b75179409b43bd9b593143326d8.jpg?wh=1920x516\" alt=\"å›¾ç‰‡\"></p><p>ç‰¹åˆ«è¯´æ˜ï¼Œå› ä¸ºåœ¨é¢è¯•å’Œå®é™…åº”ç”¨ä¸­ï¼ŒäºŒå‰æ ‘çš„é“¾å¼å­˜å‚¨ä½¿ç”¨å¾—æ›´åŠ é¢‘ç¹ï¼Œå› æ­¤è®¸å¤šå¸¸ç”¨æ“ä½œæˆ‘ä¼šåœ¨ä¸‹é¢è®²è§£é“¾å¼å­˜å‚¨ä¸­å®ç°ï¼Œæœ‰å…´è¶£çš„è¯ï¼Œä½ ä¹Ÿå¯ä»¥å°è¯•å°†è¿™äº›å¸¸ç”¨æ“ä½œæ¬ç§»åˆ°äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨ä¸­å®ç°ã€‚</p><h2>äºŒå‰æ ‘é“¾å¼å­˜å‚¨çš„å¸¸ç”¨æ“ä½œ</h2><p>ä¸‹é¢æˆ‘ä»¬ç†Ÿæ‚‰ä¸€ä¸‹äºŒå‰æ ‘é“¾å¼å­˜å‚¨çš„å¸¸ç”¨æ“ä½œã€‚å®Œæ•´çš„<a href=\"https://gitee.com/jianw_wang/geektime_cpp_dsa/blob/master/14%EF%BD%9C%E4%BA%8C%E5%8F%89%E6%A0%91%EF%BC%9A%E5%A6%82%E4%BD%95%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E6%A0%91%EF%BC%9F/%EF%BC%882%EF%BC%89%E9%93%BE%E5%BC%8F%E5%AD%98%E5%82%A8/MyProject.cpp\">è¯¾ä»¶åœ¨è¿™é‡Œ</a>ã€‚</p><h3><strong>ç±»å®šä¹‰ã€åˆå§‹åŒ–å’Œé‡Šæ”¾æ“ä½œ</strong></h3><pre><code class=\"language-plain\">enum ECCHILDSIGN&nbsp; //èŠ‚ç‚¹æ ‡è®°\n{\n\tE_Root,&nbsp; &nbsp; &nbsp; &nbsp;//æ ‘æ ¹\n\tE_ChildLeft,&nbsp; //å·¦å­©å­\n\tE_ChildRight&nbsp; //å³å­©å­\n};\n//æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å®šä¹‰\ntemplate &lt;typename T&gt; //Tä»£è¡¨æ•°æ®å…ƒç´ çš„ç±»å‹\nstruct BinaryTreeNode\n{\n\tT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;data;&nbsp; &nbsp; &nbsp; &nbsp; //æ•°æ®åŸŸï¼Œå­˜æ”¾æ•°æ®å…ƒç´ \n\tBinaryTreeNode* leftChild,&nbsp; &nbsp;//å·¦å­èŠ‚ç‚¹æŒ‡é’ˆ\n\t\t\t&nbsp; &nbsp; &nbsp; * rightChild;&nbsp; //å³å­èŠ‚ç‚¹æŒ‡é’ˆ\n\t\t\n\t//BinaryTreeNode* parent;&nbsp; &nbsp; &nbsp; //çˆ¶èŠ‚ç‚¹æŒ‡é’ˆï¼Œå¯ä»¥æ ¹æ®éœ€è¦å†³å®šæ˜¯å¦å¼•å…¥\n};\n//äºŒå‰æ ‘çš„å®šä¹‰\ntemplate &lt;typename T&gt;\nclass BinaryTree\n{\npublic:\n\tBinaryTree();&nbsp; //æ„é€ å‡½æ•°\n\t~BinaryTree(); //ææ„å‡½æ•°\npublic:\n\t//åˆ›å»ºä¸€ä¸ªæ ‘èŠ‚ç‚¹\n\tBinaryTreeNode&lt;T&gt;* CreateNode(BinaryTreeNode&lt;T&gt;* parentnode, ECCHILDSIGN pointSign, const T&amp; e);\n\t//é‡Šæ”¾æ ‘èŠ‚ç‚¹\n\tvoid ReleaseNode(BinaryTreeNode&lt;T&gt;* pnode);\nprivate:\n\tBinaryTreeNode&lt;T&gt;* root; //æ ‘æ ¹æŒ‡é’ˆ\t\n};\n\t\n//æ„é€ å‡½æ•°\ntemplate&lt;class T&gt;\nBinaryTree&lt;T&gt;::BinaryTree()\n{\n\troot = nullptr;\n}\n\t\n//ææ„å‡½æ•°\ntemplate&lt;class T&gt;\nBinaryTree&lt;T&gt;::~BinaryTree()\n{\n\tReleaseNode(root);\n};\n\t\n//é‡Šæ”¾äºŒå‰æ ‘èŠ‚ç‚¹\ntemplate&lt;class T&gt;\nvoid BinaryTree&lt;T&gt;::ReleaseNode(BinaryTreeNode&lt;T&gt;* pnode)\n{\n\tif (pnode != nullptr)\n\t{\n\t\tReleaseNode(pnode-&gt;leftChild);\n\t\tReleaseNode(pnode-&gt;rightChild);\n\t}\n\tdelete pnode;\n}\n</code></pre><h3><strong>åˆ›å»ºæ ‘èŠ‚ç‚¹æ“ä½œ</strong></h3><pre><code class=\"language-plain\">//åˆ›å»ºä¸€ä¸ªæ ‘èŠ‚ç‚¹\ntemplate&lt;class T&gt;\n//å‚æ•°1ï¼šçˆ¶èŠ‚ç‚¹æŒ‡é’ˆï¼Œå‚æ•°2ï¼šæ ‡è®°æ‰€åˆ›å»ºçš„æ˜¯æ ‘æ ¹ã€å·¦å­©å­ã€å³å­©å­ï¼Œå‚æ•°3ï¼šæ’å…¥çš„æ ‘èŠ‚ç‚¹çš„å…ƒç´ å€¼\nBinaryTreeNode&lt;T&gt;* BinaryTree&lt;T&gt;::CreateNode(BinaryTreeNode&lt;T&gt;* parentnode, ECCHILDSIGN pointSign, const T&amp; e)\n{\n\t//å°†æ–°èŠ‚ç‚¹åˆ›å»ºå‡ºæ¥\n\tBinaryTreeNode&lt;T&gt;*&nbsp; tmpnode = new BinaryTreeNode&lt;T&gt;;&nbsp;\n\ttmpnode-&gt;data = e;\n\ttmpnode-&gt;leftChild = nullptr;\n\ttmpnode-&gt;rightChild = nullptr;\n\t\n\t//æŠŠæ–°èŠ‚ç‚¹æ”¾å…¥æ­£ç¡®çš„ä½ç½®\n\tif (pointSign == E_Root)\n\t{\n\t\t//åˆ›å»ºçš„æ˜¯æ ¹èŠ‚ç‚¹\n\t\troot = tmpnode;\n\t}\n\tif (pointSign == E_ChildLeft)\n\t{\n\t\t//åˆ›å»ºçš„æ˜¯å·¦å­©å­èŠ‚ç‚¹\n\t\tparentnode-&gt;leftChild = tmpnode;\n\t}\n\telse&nbsp; if (pointSign == E_ChildRight)\n\t{\n\t\t//åˆ›å»ºçš„æ˜¯å³å­©å­èŠ‚ç‚¹\n\t\tparentnode-&gt;rightChild = tmpnode;\n\t}\n\treturn tmpnode;\n}\n</code></pre><p>åœ¨mainä¸»å‡½æ•°ä¸­ï¼ŒåŠ å…¥å¦‚ä¸‹ä»£ç ï¼Œåˆ›å»ºä¸€ä¸ªå¦‚å‰é¢å›¾5å·¦ä¾§æ‰€ç¤ºçš„ä¸€æ£µäºŒå‰æ ‘ã€‚</p><pre><code class=\"language-plain\">BinaryTree&lt;int&gt; mytree;\t\n//åˆ›å»ºä¸€æ£µäºŒå‰æ ‘\nBinaryTreeNode&lt;int&gt;* rootpoint = mytree.CreateNode(nullptr, E_Root, 'A'); //åˆ›å»ºæ ‘æ ¹èŠ‚ç‚¹A\nBinaryTreeNode&lt;int&gt;* subpoint = mytree.CreateNode(rootpoint, E_ChildLeft, 'B'); //åˆ›å»ºæ ‘æ ¹çš„å·¦å­èŠ‚ç‚¹B\nsubpoint = mytree.CreateNode(subpoint, E_ChildLeft, 'D'); //åˆ›å»ºå·¦å­èŠ‚ç‚¹Bä¸‹çš„å·¦å­èŠ‚ç‚¹D\n\nsubpoint = mytree.CreateNode(rootpoint, E_ChildRight, 'C'); //åˆ›å»ºæ ‘æ ¹çš„å³å­èŠ‚ç‚¹C\nsubpoint = mytree.CreateNode(subpoint, E_ChildRight, 'E');&nbsp; //åˆ›å»ºå³å­èŠ‚ç‚¹Cä¸‹çš„å³å­èŠ‚ç‚¹E\n</code></pre><p>åœ¨å‰é¢è®²è§£æ‰©å±•äºŒå‰æ ‘æ—¶ï¼Œä½ å·²ç»çŸ¥é“ï¼Œç»™å‡ºä¸€ä¸ªæ‰©å±•äºŒå‰æ ‘çš„å‰åºéå†åºåˆ—ï¼Œèƒ½å¤Ÿå”¯ä¸€ç¡®å®šä¸€æ£µäºŒå‰æ ‘ã€‚å‰é¢å›¾5ä¸­å³ä¾§çš„æ‰©å±•äºŒå‰æ ‘ï¼Œå…¶å‰åºéå†åºåˆ—æ˜¯â€œABD###C#E##â€ï¼Œé‚£ä¹ˆå¦‚æœæƒ³é€šè¿‡è¿™ä¸ªéå†åºåˆ—æŠŠè¿™æ£µäºŒå‰æ ‘åˆ›å»ºï¼Œæ˜¯å¦å¯ä»¥åšåˆ°å‘¢ï¼Ÿå¯ä»¥ã€‚</p><p>æˆ‘ä»¬åœ¨ç±»æ¨¡æ¿BinaryTreeä¸­å¢åŠ å¦‚ä¸‹ä¸¤ä¸ªæˆå‘˜å‡½æ•°å£°æ˜ã€‚</p><pre><code class=\"language-plain\">public:\n\t//åˆ©ç”¨æ‰©å±•äºŒå‰æ ‘çš„å‰åºéå†åºåˆ—æ¥åˆ›å»ºä¸€æ£µäºŒå‰æ ‘\n\tvoid CreateBTreeAccordPT(char* pstr);\nprivate:\n\t//åˆ©ç”¨æ‰©å±•äºŒå‰æ ‘çš„å‰åºéå†åºåˆ—åˆ›å»ºäºŒå‰æ ‘çš„é€’å½’å‡½æ•°\n\tvoid CreateBTreeAccordPTRecu(BinaryTreeNode&lt;T&gt;*&amp; tnode, char*&amp; pstr);//å‚æ•°ä¸ºå¼•ç”¨ç±»å‹ï¼Œç¡®ä¿é€’å½’è°ƒç”¨ä¸­å¯¹å‚æ•°çš„æ”¹å˜ä¼šå½±å“åˆ°è°ƒç”¨è€…\n</code></pre><p>åœ¨ç±»æ¨¡æ¿BinaryTreeå®šä¹‰ä¹‹å¤–ï¼Œå®ç°ä¸Šè¿°ä¸¤ä¸ªæˆå‘˜å‡½æ•°ã€‚</p><pre><code class=\"language-plain\">//åˆ©ç”¨æ‰©å±•äºŒå‰æ ‘çš„å‰åºéå†åºåˆ—æ¥åˆ›å»ºä¸€æ£µäºŒå‰æ ‘\ntemplate&lt;class T&gt;\nvoid BinaryTree&lt;T&gt;::CreateBTreeAccordPT(char* pstr)\n{\n\tCreateBTreeAccordPTRecu(root, pstr);\n}\n\t\n//åˆ©ç”¨æ‰©å±•äºŒå‰æ ‘çš„å‰åºéå†åºåˆ—åˆ›å»ºäºŒå‰æ ‘çš„é€’å½’å‡½æ•°\ntemplate&lt;class T&gt;\nvoid BinaryTree&lt;T&gt;::CreateBTreeAccordPTRecu(BinaryTreeNode&lt;T&gt;* &amp;tnode, char* &amp;pstr)\n{\n\tif (*pstr == '#')\n\t{\n\t\ttnode = nullptr;\n\t}\n\telse\n\t{\n\t\ttnode = new BinaryTreeNode&lt;T&gt;; //åˆ›å»ºæ ¹èŠ‚ç‚¹\n\t\ttnode-&gt;data = *pstr;\n\t\tCreateBTreeAccordPTRecu(tnode-&gt;leftChild, ++pstr); //åˆ›å»ºå·¦å­æ ‘\n\t\tCreateBTreeAccordPTRecu(tnode-&gt;rightChild, ++pstr);//åˆ›å»ºå³å­æ ‘\n\t}\n}\n</code></pre><p>åœ¨mainä¸»å‡½æ•°ä¸­ï¼Œæ³¨é‡Šæ‰ä»¥å¾€çš„ä»£ç ï¼Œæ–°å¢å¦‚ä¸‹æµ‹è¯•ä»£ç ã€‚</p><pre><code class=\"language-plain\">BinaryTree&lt;int&gt; mytree2;\nmytree2.CreateBTreeAccordPT((char *)\"ABD###C#E##\");\n</code></pre><p>é€šè¿‡è·Ÿè¸ªè°ƒè¯•ï¼Œä¸éš¾çœ‹åˆ°ï¼Œä¸Šè¿°çš„mytree2æ‰€å­˜å‚¨çš„æ•°æ®æ­£æ˜¯å›¾5å·¦ä¾§æ‰€ç¤ºçš„äºŒå‰æ ‘ã€‚</p><h3><strong>éå†æ“ä½œ</strong></h3><p>äºŒå‰æ ‘åˆ›å»ºå‡ºæ¥åï¼Œå°±å¯ä»¥é€šè¿‡å‰é¢è®²è§£è¿‡çš„éå†æ–¹å¼ï¼Œå°†æ ‘ä¸­å„ä¸ªèŠ‚ç‚¹çš„å†…å®¹è¾“å‡ºå‡ºæ¥ä»¥æ–¹ä¾¿è§‚å¯Ÿã€‚æˆ‘ä»¬ä»æ·±åº¦ã€å¹¿åº¦ä¼˜å…ˆéå†ä¸¤ç§æ–¹å¼çš„è§’åº¦å»äº†è§£ã€‚</p><ul>\n<li><strong>æ·±åº¦ä¼˜å…ˆéå†</strong></li>\n</ul><p>å°†ä¸‹åˆ—å‰åºã€ä¸­åºã€ååºéå†çš„ä»£ç åŠ å…¥åˆ°ç±»æ¨¡æ¿BinaryTreeçš„å®šä¹‰ä¸­ï¼Œæ³¨æ„ç”¨publicä¿®é¥°ã€‚</p><pre><code class=\"language-plain\">//å‰åºéå†äºŒå‰æ ‘\nvoid preOrder()\n{\n\tpreOrder(root);\t\n}\nvoid preOrder(BinaryTreeNode&lt;T&gt;* tNode)&nbsp;\n{\n\tif (tNode != nullptr) //è‹¥äºŒå‰æ ‘éç©º\n\t{\n\t\t//æ ¹å·¦å³é¡ºåº\t\t\t\t\n\t\tcout &lt;&lt; (char) tNode-&gt;data &lt;&lt; \" \"; //è¾“å‡ºèŠ‚ç‚¹çš„æ•°æ®åŸŸçš„å€¼ï¼Œä¸ºæ–¹ä¾¿è§‚å¯Ÿï¼Œç”¨charä»¥æ˜¾ç¤ºå­—æ¯\n\t\tpreOrder(tNode-&gt;leftChild);&nbsp; //é€’å½’æ–¹å¼å‰åºéå†å·¦å­æ ‘\n\t\tpreOrder(tNode-&gt;rightChild); //é€’å½’æ–¹å¼å‰åºéå†å³å­æ ‘\n\t}\t\t\t\n}\n//--------------------------\n//ä¸­åºéå†äºŒå‰æ ‘\nvoid inOrder()\n{\n\tinOrder(root);\t\t\t\n}\nvoid inOrder(BinaryTreeNode&lt;T&gt;* tNode)&nbsp; //ä¸­åºéå†äºŒå‰æ ‘\n{\n\tif (tNode != nullptr) //è‹¥äºŒå‰æ ‘éç©º\n\t{\n\t\t//å·¦æ ¹å³é¡ºåº\n\t\tinOrder(tNode-&gt;leftChild);&nbsp; //é€’å½’æ–¹å¼ä¸­åºéå†å·¦å­æ ‘\n\t\tcout &lt;&lt; (char)tNode-&gt;data &lt;&lt; \" \"; //è¾“å‡ºèŠ‚ç‚¹çš„æ•°æ®åŸŸçš„å€¼\n\t\tinOrder(tNode-&gt;rightChild); //é€’å½’æ–¹å¼ä¸­åºéå†å³å­æ ‘\n\t}\n}\n//--------------------------\n//ååºéå†äºŒå‰æ ‘\nvoid postOrder()\n{\n\tpostOrder(root);\n}\nvoid postOrder(BinaryTreeNode&lt;T&gt;* tNode)&nbsp; //ååºéå†äºŒå‰æ ‘\n{\n\tif (tNode != nullptr) //è‹¥äºŒå‰æ ‘éç©º\n\t{\n\t\t//å·¦å³æ ¹é¡ºåº\n\t\tpostOrder(tNode-&gt;leftChild);&nbsp; //é€’å½’æ–¹å¼ååºéå†å·¦å­æ ‘\n\t\tpostOrder(tNode-&gt;rightChild); //é€’å½’æ–¹å¼ååºéå†å³å­æ ‘\n\t\tcout &lt;&lt; (char)tNode-&gt;data &lt;&lt; \" \"; //è¾“å‡ºèŠ‚ç‚¹çš„æ•°æ®åŸŸçš„å€¼\n\t}\n}\n</code></pre><p>åœ¨mainä¸»å‡½æ•°ä¸­ï¼Œç»§ç»­å¢åŠ å¦‚ä¸‹ä»£ç å¯¹åˆšåˆšåˆ›å»ºçš„æ ‘è¿›è¡Œå‰åºã€ä¸­åºå’Œååºéå†ã€‚</p><pre><code class=\"language-plain\">cout &lt;&lt; \"å‰åºéå†åºåˆ—ä¸ºï¼š\";&nbsp;\nmytree2.preOrder();&nbsp; &nbsp;//å‰åºéå†\ncout &lt;&lt; endl; //æ¢è¡Œ\n\t\ncout &lt;&lt; \"ä¸­åºéå†åºåˆ—ä¸ºï¼š\";\nmytree2.inOrder();&nbsp; &nbsp; //ä¸­åºéå†\ncout &lt;&lt; endl; //æ¢è¡Œ\n\t\ncout &lt;&lt; \"ååºéå†åºåˆ—ä¸ºï¼š\";\nmytree2.postOrder();&nbsp; //ååºéå†\n</code></pre><p>æ–°å¢ä»£ç çš„æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼Œæ­£æ˜¯å¯¹å›¾5å·¦ä¾§æ‰€ç¤ºçš„äºŒå‰æ ‘è¿›è¡Œå‰åºã€ä¸­åºã€ååºéå†å¾—åˆ°çš„ç»“æœã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/5a/64/5a3f272a75917445bf5bc45168f25a64.jpg?wh=1920x253\" alt=\"å›¾ç‰‡\"></p><ul>\n<li><strong>å¹¿åº¦ä¼˜å…ˆéå†</strong></li>\n</ul><p>é™¤äº†å¯¹äºŒå‰æ ‘è¿›è¡Œå‰åºã€ä¸­åºã€ååºéå†ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ç§éå†æ–¹å¼å«å±‚åºéå†ã€‚å‰é¢è¯´è¿‡ï¼ŒäºŒå‰æ ‘çš„å±‚åºéå†éœ€è¦å€ŸåŠ©é˜Ÿåˆ—æ¥å®Œæˆï¼Œå› ä¸ºéš¾ä»¥ä¼°è®¡äºŒå‰æ ‘èŠ‚ç‚¹ä¸ªæ•°ï¼Œæ‰€ä»¥ä½¿ç”¨é¡ºåºé˜Ÿåˆ—ä¸åˆé€‚ï¼Œè¿™é‡Œå°±ç”¨é“¾å¼é˜Ÿåˆ—ã€‚</p><p>æˆ‘ä»¬æŠŠä»¥å¾€è®²è§£çš„é“¾å¼é˜Ÿåˆ—ç›¸å…³çš„ä»£ç å¤åˆ¶åˆ°æœ¬é¡¹ç›®å½“å‰çš„MyProject.cppæ–‡ä»¶ä¸­æ¥ã€‚å°†ä¸‹åˆ—ä»£ç åŠ å…¥åˆ°ç±»æ¨¡æ¿BinaryTreeçš„å®šä¹‰ä¸­ã€‚</p><pre><code class=\"language-plain\">//--------------------------\n//å±‚åºéå†äºŒå‰æ ‘\nvoid levelOrder()\n{\n\tlevelOrder(root);\n}\nvoid levelOrder(BinaryTreeNode&lt;T&gt;* tNode)\n{\n\tif (tNode != nullptr) //è‹¥äºŒå‰æ ‘éç©º\n\t{\n\t\tBinaryTreeNode&lt;T&gt;* tmpnode;\n\t\tLinkQueue&lt;BinaryTreeNode&lt;T&gt;*&gt; lnobj;//æ³¨æ„ï¼Œé˜Ÿåˆ—çš„å…ƒç´ ç±»å‹æ˜¯â€œèŠ‚ç‚¹æŒ‡é’ˆâ€ç±»å‹\n\t\tlnobj.EnQueue(tNode); //å…ˆæŠŠæ ¹èŠ‚ç‚¹æŒ‡é’ˆå…¥é˜Ÿ\n\t\twhile (!lnobj.IsEmpty()) //å¾ªç¯åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º\n\t\t{\n\t\t\tlnobj.DeQueue(tmpnode); //å‡ºé˜Ÿåˆ—\n\t\t\tcout &lt;&lt; (char)tmpnode-&gt;data &lt;&lt; \" \";\n\t\t\tif(tmpnode-&gt;leftChild != nullptr)\n\t\t\t\tlnobj.EnQueue(tmpnode-&gt;leftChild);&nbsp; //å·¦å­©å­å…¥é˜Ÿ\n\t\t\tif (tmpnode-&gt;rightChild != nullptr)&nbsp; &nbsp; &nbsp;//å³å­©å­å…¥é˜Ÿ\n\t\t\t\tlnobj.EnQueue(tmpnode-&gt;rightChild);\n\t\t} //end while\n\t}\n}\n</code></pre><p>åœ¨mainä¸»å‡½æ•°ä¸­ï¼Œç»§ç»­å¢åŠ å¦‚ä¸‹ä»£ç å¯¹åˆšåˆšåˆ›å»ºçš„æ ‘è¿›è¡Œå±‚åºéå†ã€‚</p><pre><code class=\"language-plain\">cout &lt;&lt; endl; //æ¢è¡Œ\ncout &lt;&lt; \"å±‚åºéå†åºåˆ—ä¸ºï¼š\";\nmytree2.levelOrder();\n</code></pre><p>æ–°å¢ä»£ç çš„æ‰§è¡Œç»“æœå¦‚ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b7/0d/b7e67f458a353d980042e44ac796740d.jpg?wh=2838x138\" alt=\"\"></p><p>è¿™é‡Œå¯ä»¥è¿›ä¸€æ­¥æ€è€ƒä¸€ä¸‹ï¼Œå¦‚ä½•åœ¨ä¸Šè¿°å±‚åºéå†ä»£ç ä¸­åŠ å…¥ä¸€äº›ä»£ç æ¥<strong>åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘</strong>å‘¢ï¼Ÿ</p><p>å¦‚æœæŸä¸ªèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ä¸å­˜åœ¨è€Œå³å­èŠ‚ç‚¹å­˜åœ¨ï¼Œé‚£ä¹ˆè¿™æ£µäºŒå‰æ ‘å°±ä¸æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œæ‰€ä»¥ä¸Šè¿°å±‚åºéå†ä»£ç ä¸­ï¼Œåœ¨å‡ºé˜Ÿåˆ—ä¸€ä¸ªèŠ‚ç‚¹åï¼Œå¯ä»¥åŠ å…¥å¦‚ä¸‹ä»£ç æ¥åˆ¤æ–­ä¸€æ£µäºŒå‰æ ‘æ˜¯å¦æ˜¯å®Œå…¨äºŒå‰æ ‘ã€‚</p><pre><code class=\"language-plain\">if(tmpnode-&gt;leftChild == nullptr &amp;&amp; tmpnode-&gt;rightChild != nullptr)\n{\n\t//è¿™æ£µäºŒå‰æ ‘ä¸æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ã€‚\n}\n</code></pre><p>ä¸Šè¿°æ— è®ºä½•ç§éå†æ–¹å¼ï¼Œæ¯ä¸ªèŠ‚ç‚¹è¢«è®¿é—®çš„æ¬¡æ•°éƒ½æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥éå†æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å’ŒäºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°æˆæ­£æ¯”ï¼Œå³äºŒå‰æ ‘éå†çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚</p><h3><strong>å…¶ä»–å¸¸ç”¨æ“ä½œ</strong></h3><p>æœ€åï¼Œæˆ‘ä»¬å°†åˆ†åˆ«å®ç°äºŒå‰æ ‘çš„ä¸€äº›å¸¸ç”¨æ“ä½œï¼ŒåŒ…æ‹¬è®¡ç®—èŠ‚ç‚¹ä¸ªæ•°ã€æ±‚äºŒå‰æ ‘çš„é«˜åº¦ã€æ ¹æ®ç»™çš„èŠ‚ç‚¹å€¼æŸ¥æ‰¾æŸä¸ªèŠ‚ç‚¹ã€æŸ¥æ‰¾æŸä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€äºŒå‰æ ‘çš„æ‹·è´ã€‚è¿™äº›ä»£ç éƒ½å¯ä»¥åœ¨ç±»æ¨¡æ¿BinaryTreeçš„å®šä¹‰ä¸­å®ç°ã€‚</p><ul>\n<li><strong>è®¡ç®—äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°</strong></li>\n</ul><pre><code class=\"language-plain\">//æ±‚äºŒå‰æ ‘èŠ‚ç‚¹ä¸ªæ•°\nint getSize()\n{\n\treturn getSize(root);\n}\nint getSize(BinaryTreeNode&lt;T&gt;* tNode) //ä¹Ÿå¯ä»¥ç”¨éå†äºŒå‰æ ‘çš„æ–¹å¼æ±‚èŠ‚ç‚¹ä¸ªæ•°\n{\n\tif (tNode == nullptr)\n\t\treturn&nbsp; 0;\n\t\t\n\treturn getSize(tNode-&gt;leftChild) + getSize(tNode-&gt;rightChild) + 1; //ä¹‹æ‰€ä»¥+1ï¼Œæ˜¯å› ä¸ºè¿˜æœ‰ä¸ªæ ¹èŠ‚ç‚¹\n}\n</code></pre><p>å¢åŠ ä¸‹åˆ—æµ‹è¯•ä»£ç ï¼ˆåœ¨mainä¸»å‡½æ•°ä¸­ï¼‰ï¼Œç¡®ä¿å¢åŠ çš„æ“ä½œèƒ½å¤Ÿæ­£å¸¸è¿è¡Œã€‚</p><pre><code class=\"language-plain\">cout &lt;&lt; \"äºŒå‰æ ‘èŠ‚ç‚¹ä¸ªæ•°ä¸ºï¼š\" &lt;&lt; mytree2.getSize() &lt;&lt; endl;\n</code></pre><pre><code class=\"language-plain\">//æ±‚äºŒå‰æ ‘é«˜åº¦ï¼ˆå–å·¦å³å­æ ‘ä¸­é«˜åº¦æ›´é«˜çš„ï¼‰\nint getHeight()\n{\n\treturn getHeight(root);\n}\nint getHeight(BinaryTreeNode&lt;T&gt;* tNode)\n{\n\tif (tNode == nullptr)\n\t\treturn&nbsp; 0;\n\tint lheight = getHeight(tNode-&gt;leftChild); //å·¦å­æ ‘é«˜åº¦\n\tint rheight = getHeight(tNode-&gt;rightChild); //å³å­æ ‘é«˜åº¦\n\tif (lheight &gt; rheight)\n\t\treturn lheight + 1 ; //ä¹‹æ‰€ä»¥+1ï¼Œæ˜¯å› ä¸ºè¿˜åŒ…æ‹¬æ ¹èŠ‚ç‚¹çš„é«˜åº¦\n\treturn rheight + 1;&nbsp; &nbsp;//ä¹‹æ‰€ä»¥+1ï¼Œæ˜¯å› ä¸ºè¿˜åŒ…æ‹¬æ ¹èŠ‚ç‚¹çš„é«˜åº¦\n}\n</code></pre><p>å¢åŠ ä¸‹åˆ—æµ‹è¯•ä»£ç ã€‚</p><pre><code class=\"language-plain\">cout &lt;&lt; \"äºŒå‰æ ‘çš„é«˜åº¦ä¸ºï¼š\" &lt;&lt; mytree2.getHeight() &lt;&lt; endl;\n</code></pre><ul>\n<li><strong>æŸ¥æ‰¾æŸä¸ªèŠ‚ç‚¹ï¼ˆå‡è®¾äºŒå‰æ ‘çš„èŠ‚ç‚¹å„ä¸ç›¸åŒï¼‰</strong></li>\n</ul><pre><code class=\"language-plain\">BinaryTreeNode&lt;T&gt;* SearchElem(const T&amp; e)\n{\n\treturn SearchElem(root, e);\n}\nBinaryTreeNode&lt;T&gt;* SearchElem(BinaryTreeNode&lt;T&gt;* tNode,const T&amp; e)\n{\n\tif (tNode == nullptr)\n\t\treturn nullptr;\n\tif (tNode-&gt;data == e)&nbsp; //ä»æ ¹å¼€å§‹æ‰¾\n\t\treturn tNode;\n\tBinaryTreeNode&lt;T&gt;* p = SearchElem(tNode-&gt;leftChild, e); //æŸ¥æ‰¾å·¦å­æ ‘\n\tif (p != nullptr) //è¿™é‡Œçš„åˆ¤æ–­ä¸å¯ç¼ºå°‘\n\t\treturn p;\n\treturn SearchElem(tNode-&gt;rightChild, e); //å·¦å­æ ‘æŸ¥ä¸åˆ°ï¼Œç»§ç»­åˆ°å³å­æ ‘æŸ¥æ‰¾ï¼Œè¿™é‡Œå¯ä»¥ç›´æ¥return\n}\n</code></pre><p>å¢åŠ ä¸‹åˆ—æµ‹è¯•ä»£ç ã€‚</p><pre><code class=\"language-plain\">//æŸ¥æ‰¾æŸä¸ªèŠ‚ç‚¹\nint val = 'B';\nBinaryTreeNode&lt;int&gt;*&nbsp; p = mytree2.SearchElem(val);\nif (p != nullptr)\t\n\tcout &lt;&lt; \"æ‰¾åˆ°äº†å€¼ä¸º\" &lt;&lt; (char)val &lt;&lt; \"çš„èŠ‚ç‚¹\" &lt;&lt; endl;\t\nelse\t\n\tcout &lt;&lt; \"æ²¡æ‰¾åˆ°å€¼ä¸º\" &lt;&lt; (char)val &lt;&lt; \"çš„èŠ‚ç‚¹\" &lt;&lt; endl;\n</code></pre><ul>\n<li><strong>æŸ¥æ‰¾æŸä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</strong></li>\n</ul><pre><code class=\"language-plain\">BinaryTreeNode&lt;T&gt;* GetParent(BinaryTreeNode&lt;T&gt;* tSonNode)\n{\n\treturn GetParent(root, tSonNode);\n}\nBinaryTreeNode&lt;T&gt;* GetParent(BinaryTreeNode&lt;T&gt;* tParNode, BinaryTreeNode&lt;T&gt;* tSonNode)\n{\n\tif (tParNode == nullptr || tSonNode == nullptr)\n\t\treturn nullptr;\n\t\n\tif (tParNode-&gt;leftChild == tSonNode || tParNode-&gt;rightChild == tSonNode)\n\t\treturn tParNode;\n\t\t\n\tBinaryTreeNode&lt;T&gt;* pl = GetParent(tParNode-&gt;leftChild, tSonNode);\n\tif (pl != nullptr)\n\t\treturn pl;\n\t\t\n\treturn&nbsp; GetParent(tParNode-&gt;rightChild, tSonNode);\n}\n</code></pre><p>å¢åŠ ä¸‹åˆ—æµ‹è¯•ä»£ç ã€‚</p><pre><code class=\"language-plain\">//æŸ¥æ‰¾æŸä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹\nBinaryTreeNode&lt;int&gt;* parp = mytree2.GetParent(p);\nif (parp != nullptr)\n\tcout &lt;&lt; \"æ‰¾åˆ°äº†å€¼ä¸º\" &lt;&lt; (char)val &lt;&lt; \"çš„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹\" &lt;&lt; (char)parp-&gt;data &lt;&lt; endl;\nelse\n\tcout &lt;&lt; \"æ²¡æ‰¾åˆ°å€¼ä¸º\" &lt;&lt; (char)val &lt;&lt; \"çš„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹\" &lt;&lt; endl;\t\n</code></pre><ul>\n<li><strong>æ ‘çš„æ‹·è´</strong></li>\n</ul><pre><code class=\"language-plain\">void CopyTree(BinaryTree&lt;T&gt;* targetTree)\n{\n\tCopyTree(root,targetTree-&gt;root);\n}\nvoid CopyTree(BinaryTreeNode&lt;T&gt;* tSource,BinaryTreeNode&lt;T&gt;* &amp;tTarget) //æ³¨æ„ç¬¬äºŒä¸ªå‚æ•°ç±»å‹ä¸ºå¼•ç”¨\n{\n\tif (tSource == nullptr)\n\t{\n\t\ttTarget = nullptr;\n\t}\n\telse\n\t{\n\t\ttTarget = new BinaryTreeNode&lt;T&gt;;\n\t\ttTarget-&gt;data = tSource-&gt;data;\n\t\tCopyTree(tSource-&gt;leftChild, tTarget-&gt;leftChild);&nbsp; //å¯¹å·¦å­æ ‘è¿›è¡Œæ‹·è´\n\t\tCopyTree(tSource-&gt;rightChild, tTarget-&gt;rightChild);//å¯¹å³å­æ ‘è¿›è¡Œæ‹·è´\n\t}\n}\n</code></pre><p>å¢åŠ ä¸‹åˆ—æµ‹è¯•ä»£ç ã€‚</p><pre><code class=\"language-plain\">//æµ‹è¯•æ ‘çš„æ‹·è´\nBinaryTree&lt;int&gt; mytree3;\nmytree2.CopyTree(&amp;mytree3);\n</code></pre><h3>éé€’å½’éå†æ“ä½œ</h3><p>åœ¨å‰é¢çš„äºŒå‰æ ‘éå†ä»£ç å®ç°ä¸­ï¼Œé™¤å±‚åºéå†å¤–ï¼Œå‰åºã€ä¸­åºã€ååºéå†é‡‡ç”¨çš„éƒ½æ˜¯é€’å½’æ–¹å¼æ¥å®ç°çš„ï¼Œè¿™ç§å®ç°æ–¹æ³•ä»£ç æ¯”è¾ƒç®€å•ã€‚ä½†å®é™…çš„é¢è¯•ä¸­ï¼Œæœ‰æ—¶ä¹Ÿä¼šè¦æ±‚é‡‡ç”¨éé€’å½’çš„æ–¹å¼å®ç°å‰åºã€ä¸­åºã€ååºéå†ï¼Œè¿™å¾€å¾€éœ€è¦å€ŸåŠ©æ ˆæ¥å®ç°ã€‚å¹¶ä¸”å®é™…çš„åº”ç”¨ä¸­ï¼Œå¦‚æœäºŒå‰æ ‘çš„é«˜åº¦ç‰¹åˆ«é«˜ï¼ŒèŠ‚ç‚¹ç‰¹åˆ«å¤šï¼Œç”¨é€’å½’çš„æ–¹å¼éå†å¯èƒ½ä¼šå¯¼è‡´æ ˆæº¢å‡ºï¼Œæ­¤æ—¶å°±éœ€è¦é‡‡ç”¨éé€’å½’æ–¹å¼éå†äº†ã€‚</p><p>æŠŠ<a href=\"https://time.geekbang.org/column/article/635174\">ç¬¬10èŠ‚è¯¾</a>æåˆ°çš„é“¾å¼æ ˆç›¸å…³ä»£ç å¤åˆ¶åˆ°å½“å‰çš„MyProject.cppæ–‡ä»¶ä¸­æ¥ã€‚éé€’å½’éå†ä»£ç éƒ½å¯ä»¥åœ¨ç±»æ¨¡æ¿BinaryTreeçš„å®šä¹‰ä¸­å®ç°ã€‚</p><ul>\n<li><strong>å‰åºéå†ï¼ˆæ ¹å·¦å³ï¼‰</strong></li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/13/d0/139e0d2786111062de14ddbe604a43d0.jpg?wh=1920x552\" alt=\"å›¾ç‰‡\" title=\"å‰åºéå†è¿‡ç¨‹\"></p><p>ä½ å¯ä»¥æ ¹æ®å›¾ç‰‡æç¤ºï¼Œè‡ªå·±æ‰‹å·¥ç»˜åˆ¶ä¸€ä¸‹å…¥æ ˆå’Œå‡ºæ ˆçš„è¿‡ç¨‹ï¼Œè¿™æ ·ä¹Ÿä¼šå¯¹é€šè¿‡æ ˆå®ç°å‰åºéå†æœ‰ä¸€ä¸ªæ›´æ·±åˆ»çš„è®¤è¯†ã€‚</p><p>æˆ‘ä»¬æŠŠä»¥å¾€è®²è§£çš„é“¾å¼æ ˆç›¸å…³çš„ä»£ç å¤åˆ¶åˆ°æœ¬é¡¹ç›®å½“å‰çš„MyProject.cppæ–‡ä»¶ä¸­æ¥ã€‚å°†ä¸‹åˆ—ä»£ç åŠ å…¥åˆ°ç±»æ¨¡æ¿BinaryTreeçš„å®šä¹‰ä¸­ã€‚</p><pre><code class=\"language-plain\">//éé€’å½’æ–¹å¼å‰åºéå†äºŒå‰æ ‘\nvoid preOrder_noRecu()\n{\n\tpreOrder_noRecu(root);\n}\nvoid preOrder_noRecu(BinaryTreeNode&lt;T&gt;* tRoot)\n{\n\tif (tRoot == nullptr)&nbsp;\n\t\treturn;\t\t\t\n\t\n\tLinkStack&lt; BinaryTreeNode&lt;T&gt;* &gt; slinkobj;\n\tslinkobj.Push(tRoot); //æ ¹èŠ‚ç‚¹å…¥æ ˆ\n\t\t\n\tBinaryTreeNode&lt;T&gt;* tmpnode;\n\twhile (!slinkobj.Empty()) //æ ˆä¸ç©º\n\t{\t\t\t\t\t\n\t\tslinkobj.Pop(tmpnode);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//æ ˆé¡¶å…ƒç´ å‡ºæ ˆ\n\t\tcout &lt;&lt; (char)tmpnode-&gt;data &lt;&lt; \" \";&nbsp; //è®¿é—®æ ˆé¡¶å…ƒç´ \n\t\t\t\n\t\tif (tmpnode-&gt;rightChild != nullptr) //æ³¨æ„å…ˆåˆ¤æ–­å³æ ‘å†åˆ¤æ–­å·¦æ ‘\n\t\t{\n\t\t\tslinkobj.Push(tmpnode-&gt;rightChild); //æŠŠå³æ ‘å…¥æ ˆ\n\t\t}\n\t\tif (tmpnode-&gt;leftChild != nullptr)\n\t\t{\n\t\t\tslinkobj.Push(tmpnode-&gt;leftChild); //æŠŠå·¦æ ‘å…¥æ ˆ\n\t\t}\n\t} //end while\n}\n</code></pre><p>å¢åŠ ä¸‹åˆ—æµ‹è¯•ä»£ç ã€‚</p><pre><code class=\"language-plain\">cout &lt;&lt; \"éé€’å½’æ–¹å¼å‰åºéå†åºåˆ—ä¸ºï¼š\";&nbsp;\nmytree2.preOrder_noRecu();\ncout &lt;&lt; endl;\n</code></pre><p>æ–°å¢ä»£ç çš„æ‰§è¡Œç»“æœå¦‚ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/af/23/aff1b373902fb93c10b9dbe87ae70d23.jpg?wh=2838x146\" alt=\"\"></p><ul>\n<li><strong>ä¸­åºéå†ï¼ˆå·¦æ ¹å³ï¼‰</strong></li>\n</ul><p><img src=\"https://static001.geekbang.org/resource/image/07/5a/07435580da82f865bf6d6da409938b5a.jpg?wh=1920x765\" alt=\"å›¾ç‰‡\" title=\"ä¸­åºéå†è¿‡ç¨‹\"></p><p>ç›¸åº”çš„ä»£ç æˆ‘ä¹Ÿæ”¾åœ¨äº†ä¸‹é¢ï¼Œä¸è¿‡å†™æ³•ä¸é™äºè¿™ä¸€ç§ï¼Œæœ‰å…´è¶£å¯ä»¥å‘æŒ¥è‡ªå·±çš„æƒ³è±¡åŠ›ï¼Œæ ¹æ®â€œå·¦æ ¹å³â€è¿™ä¸ªéå†é¡ºåºå†™å‡ºä¸åŒçš„éé€’å½’éå†ä»£ç ã€‚</p><pre><code class=\"language-plain\">//éé€’å½’æ–¹å¼ä¸­åºéå†äºŒå‰æ ‘\nvoid inOrder_noRecu()\n{\n\tinOrder_noRecu(root);\n}\nvoid inOrder_noRecu(BinaryTreeNode&lt;T&gt;* tRoot)\n{\n\tif (tRoot == nullptr)\n\t\treturn;\n\t\t\t\n\tLinkStack&lt; BinaryTreeNode&lt;T&gt;* &gt; slinkobj;\n\tslinkobj.Push(tRoot);//æ ¹èŠ‚ç‚¹å…¥æ ˆ\n\t\t\n\tBinaryTreeNode&lt;T&gt;* tmpnode;\n\twhile (!slinkobj.Empty()) //æ ˆä¸ç©º\n\t{\t\t\t\t\n\t\twhile (tRoot-&gt;leftChild != nullptr)&nbsp;\n\t\t{\t\t\t\t\t\n\t\t\tslinkobj.Push(tRoot-&gt;leftChild);\t//å°†â€œå½“å‰èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹â€å…¥æ ˆ\n\t\t\ttRoot = tRoot-&gt;leftChild; //å°†â€œå½“å‰èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹â€é‡æ–°æ ‡è®°ä¸ºå½“å‰èŠ‚ç‚¹ã€‚\n\t\t} //end while\n\t\t\t\n\t\tslinkobj.Pop(tmpnode); //å¯¹æ ˆé¡¶å…ƒç´ å‡ºæ ˆ(åŒæ—¶è·å–äº†æ ˆé¡¶å…ƒç´ )\n\t\tcout &lt;&lt; (char)tmpnode-&gt;data &lt;&lt; \" \";\n\t\t\t\n\t\t//æŸ¥çœ‹å³æ ‘\n\t\tif (tmpnode-&gt;rightChild != nullptr)\n\t\t{\t\t\t\t\t\n\t\t\ttRoot = tmpnode-&gt;rightChild;&nbsp; //å°†åˆšåˆšä»æ ˆé¡¶å‡ºæ ˆçš„å…ƒç´ çš„å³èŠ‚ç‚¹æ ‡è®°ä¸ºå½“å‰èŠ‚ç‚¹\n\t\t\tslinkobj.Push(tRoot); //å³èŠ‚ç‚¹å…¥æ ˆ\n\t\t}\n\t}//end while\n}\n</code></pre><p>å¢åŠ ä¸‹åˆ—æµ‹è¯•ä»£ç ã€‚</p><pre><code class=\"language-plain\">cout &lt;&lt; \"éé€’å½’æ–¹å¼ä¸­åºéå†åºåˆ—ä¸ºï¼š\";\nmytree2.inOrder_noRecu();\ncout &lt;&lt; endl;\n</code></pre><p>æ–°å¢ä»£ç çš„æ‰§è¡Œç»“æœå¦‚ä¸‹ã€‚<br>\n<img src=\"https://static001.geekbang.org/resource/image/ee/18/ee4681a18c304d429af4a6246f929818.jpg?wh=2838x132\" alt=\"\"></p><ul>\n<li><strong>ååºéå†ï¼ˆå·¦å³æ ¹ï¼‰</strong></li>\n</ul><p>ååºéå†çš„å®ç°æ¯”å‰åºå’Œä¸­åºéå†æ›´ç¹çä¸€äº›ã€‚å› ä¸ºååºéå†çš„é¡ºåºæ˜¯â€œå·¦å³æ ¹â€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>æ˜¯å¦è®¿é—®æŸä¸ªèŠ‚ç‚¹ï¼Œå–å†³äºå½“å‰è®¿é—®å®Œæ¯•çš„æ˜¯è¯¥èŠ‚ç‚¹çš„å·¦å­æ ‘è¿˜æ˜¯å³å­æ ‘</strong>ã€‚</p><p>å¦‚æœæ˜¯å·¦å­æ ‘è®¿é—®å®Œæ¯•ï¼Œæ ¹æ®â€œå·¦å³æ ¹â€çš„éå†é¡ºåºï¼Œå¿…é¡»å»è®¿é—®å³å­æ ‘ï¼Œå¦‚æœæ˜¯å³å­æ ‘è®¿é—®å®Œæ¯•ï¼Œåˆ™å°±å¯ä»¥å»è®¿é—®è¯¥æ ¹èŠ‚ç‚¹ã€‚</p><p>å› æ­¤ï¼Œè¦å®ç°è¿™é‡Œçš„ååºéå†ï¼Œå½“å°†ä¸€ä¸ªèŠ‚ç‚¹å…¥æ ˆçš„æ—¶å€™ï¼Œå¿…é¡»<strong>åŒæ—¶æ ‡è®°åç»­å…¥æ ˆçš„æ˜¯è¯¥èŠ‚ç‚¹çš„å·¦å­æ ‘è¿˜æ˜¯å³å­æ ‘</strong>ï¼Œè¿™æ„å‘³ç€éœ€è¦å°†â€œ<strong>èŠ‚ç‚¹æŒ‡é’ˆå’Œæ ‡è®°</strong>â€åŒæ—¶å…¥æ ˆå’Œå‡ºæ ˆã€‚</p><p>æ‰€ä»¥ï¼Œå‰é¢ä»£ç ä¸­å®šä¹‰çš„ç”¨äºè¡¨ç¤ºæ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„BinaryTreeNodeç±»æ¨¡æ¿ä¸­ï¼Œç¼ºå°‘äº†ä¸€ä¸ªæ ‡è®°å­—æ®µç”¨æ¥æ ‡è®°å·¦å³å­æ ‘ã€‚</p><p>ä¸ºäº†å®ç°<strong>éé€’å½’ååºéå†</strong>ï¼Œå¯ä»¥è€ƒè™‘æ‰©å……BinaryTreeNodeç±»æ¨¡æ¿çš„å®šä¹‰ï¼Œä¹Ÿå°±æ˜¯å¢åŠ ä¸€ä¸ªå·¦å³èŠ‚ç‚¹çš„æ ‡è®°ï¼Œä¹Ÿå¯ä»¥å®šä¹‰ä¸€ä¸ªæ–°çš„ç±»æ¨¡æ¿å¢åŠ ä¸€ä¸ªå·¦å³èŠ‚ç‚¹çš„æ ‡è®°ï¼Œå¹¶å°†BinaryTreeNodeç±»æ¨¡æ¿åŒ…å«åœ¨å…¶ä¸­ã€‚</p><p>è¿™é‡Œé‡‡ç”¨åä¸€ç§å®ç°æ–¹å¼â€”â€”åœ¨BinaryTreeNodeç±»æ¨¡æ¿çš„å®ç°ä»£ç ä¹‹ä¸‹ï¼Œå¢åŠ æ–°çš„ç±»æ¨¡æ¿BTNode_extraï¼Œå®ç°ä»£ç å¦‚ä¸‹ã€‚</p><pre><code class=\"language-plain\">//ä¸ºå®ç°äºŒå‰æ ‘çš„éé€’å½’ååºéå†å¼•å…¥çš„æ–°ç±»æ¨¡æ¿\ntemplate &lt;typename T&gt; //Tä»£è¡¨æ•°æ®å…ƒç´ çš„ç±»å‹\nstruct BTNode_extra\n{\n\tBinaryTreeNode&lt;T&gt; * point;\n\tECCHILDSIGN pointSign;\n};\n</code></pre><p>åœ¨è¿™é‡Œå…ˆæŠŠååºéå†çš„è¿‡ç¨‹æè¿°ä¸€ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/9d/2d/9db7a9684c2617fb69dfd48c0ab04b2d.jpg?wh=1920x1223\" alt=\"å›¾ç‰‡\" title=\"ååºéå†è¿‡ç¨‹\"></p><p>éé€’å½’æ–¹å¼ååºéå†äºŒå‰æ ‘çš„ä»£ç å¦‚ä¸‹ã€‚</p><pre><code class=\"language-plain\">//éé€’å½’ååºéå†äºŒå‰æ ‘\nvoid postOrder_noRecu()\n{\n\tpostOrder_noRecu(root);\n}\nvoid postOrder_noRecu(BinaryTreeNode&lt;T&gt;* tRoot)\n{\n\tif (tRoot == nullptr)\n\t\treturn;\n\t\n\tLinkStack&lt; BTNode_extra&lt;T&gt; &gt; slinkobj;\n\tBTNode_extra&lt;T&gt; ext_tmpnode;\n\t\t\n\tdo\n\t{\n\t\twhile (tRoot != nullptr)\n\t\t{\n\t\t\text_tmpnode.point = tRoot;\n\t\t\text_tmpnode.pointSign = E_ChildLeft;&nbsp; //æ ‡è®°å…ˆå¤„ç†è¯¥èŠ‚ç‚¹çš„å·¦å­©å­\n\t\t\tslinkobj.Push(ext_tmpnode);\n\t\t\ttRoot = tRoot-&gt;leftChild;\n\t\t}\t\t\t\t\n\t\twhile (!slinkobj.Empty())\n\t\t{\n\t\t\tslinkobj.Pop(ext_tmpnode); //å‡ºæ ˆ\n\t\t\tif (ext_tmpnode.pointSign == E_ChildLeft)\n\t\t\t{\n\t\t\t\t//æŠŠå·¦æ ‡è®°æ›´æ”¹ä¸ºå³æ ‡è®°\n\t\t\t\text_tmpnode.pointSign = E_ChildRight; //æ ‡è®°è¯¥èŠ‚ç‚¹çš„å³å­©å­\n\t\t\t\tslinkobj.Push(ext_tmpnode);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//é‡æ–°å…¥æ ˆ\t\t\t\t\t\t\t\t\t\t\n\t\t\t\ttRoot = ext_tmpnode.point-&gt;rightChild;\n\t\t\t\tbreak;&nbsp; //ç»ˆæ­¢whileå¾ªç¯\n\t\t\t}\n\t\t\telse //if (ext_tmpnode.pointSign == E_ChildRight) è‚¯å®šæ˜¯å³å­æ ‘æ ‡è®°ï¼Œæ‰€ä»¥è¿™ä¸ªifä¸éœ€è¦\n\t\t\t{\n\t\t\t\t//æ ¹æ®å·¦å³æ ¹è§„åˆ™ï¼Œå³èŠ‚ç‚¹ä¹‹åå¯ä»¥è®¿é—®æ ¹èŠ‚ç‚¹\n\t\t\t\tcout &lt;&lt; (char)ext_tmpnode.point-&gt;data &lt;&lt; \" \";\n\t\t\t}\n\t\t} //end while\n\t} while (!slinkobj.Empty());\n}\n</code></pre><p>å¢åŠ ä¸‹åˆ—æµ‹è¯•ä»£ç ã€‚</p><pre><code class=\"language-plain\">cout &lt;&lt; \"éé€’å½’æ–¹å¼ååºéå†åºåˆ—ä¸ºï¼š\";\nmytree2.postOrder_noRecu();\ncout &lt;&lt; endl;\n</code></pre><p>æ–°å¢ä»£ç çš„æ‰§è¡Œç»“æœå¦‚ä¸‹ã€‚<br>\n<img src=\"https://static001.geekbang.org/resource/image/08/f9/0809106a804cdc5c1c69c711ed276bf9.jpg?wh=1920x88\" alt=\"å›¾ç‰‡\"></p><h3>é€šè¿‡éå†åºåˆ—åˆ›å»ºäºŒå‰æ ‘</h3><p>å‰é¢æˆ‘ä»¬è¯´è¿‡ä¸€ä¸ªç»“è®ºï¼š<strong>å·²çŸ¥å‰åºå’Œä¸­åºéå†åºåˆ—ï¼Œèƒ½å¤Ÿå”¯ä¸€ç¡®å®šä¸€æ£µäºŒå‰æ ‘</strong>ã€‚é‚£ä¹ˆï¼Œæ˜¯å¦å¯ä»¥å®ç°ä¸€ä¸ªè¿™æ ·çš„æˆå‘˜å‡½æ•°ï¼Œç”¨æ¥å®ç°è¿™æ£µäºŒå‰æ ‘çš„åˆ›å»ºå‘¢ï¼Ÿ</p><p>å®Œå…¨å¯ä»¥ã€‚åœ¨BinaryTreeç±»æ¨¡æ¿çš„å®šä¹‰ä¸­å®ç°ï¼Œä»£ç å¦‚ä¸‹ã€‚</p><pre><code class=\"language-plain\">//å¦‚ä½•æ ¹æ®å‰åºã€ä¸­åºéå†åºåˆ—æ¥åˆ›å»ºä¸€æ£µäºŒå‰æ ‘å‘¢ï¼Ÿ\t\n//pP_Tï¼šå‰åºéå†åºåˆ—ï¼Œæ¯”å¦‚æ˜¯â€œABDCEâ€ï¼ŒpI_Tï¼šä¸­åºéå†åºåˆ—ï¼Œæ¯”å¦‚æ˜¯â€œDBACEâ€\nvoid CreateBTreeAccordPI(char* pP_T, char* pI_T)&nbsp;\n{\n\tCreateBTreeAccordPI(root, pP_T, pI_T, strlen(pP_T));&nbsp;\n}\nvoid CreateBTreeAccordPI(BinaryTreeNode&lt;T&gt;*&amp; tnode, char* pP_T,char * pI_T,int n)//å‚æ•°1ä¸ºå¼•ç”¨ç±»å‹ï¼Œç¡®ä¿é€’å½’è°ƒç”¨ä¸­å¯¹å‚æ•°çš„æ”¹å˜ä¼šå½±å“åˆ°è°ƒç”¨è€…,n:èŠ‚ç‚¹ä¸ªæ•°\n{\n\tif (n == 0)\n\t{\n\t\ttnode = nullptr;\n\t}\n\telse\n\t{\n\t\t//(1)åœ¨ä¸­åºéå†åºåˆ—ä¸­æ‰¾æ ¹ï¼Œå‰åºéå†åºåˆ—ä¸­æ ¹åœ¨æœ€å‰é¢\n\t\tint tmpindex = 0;&nbsp; &nbsp;//ä¸‹æ ‡\n\t\twhile (pP_T[0] != pI_T[tmpindex])\n\t\t\t++tmpindex;\n\t\t\t\t\n\t\ttnode = new BinaryTreeNode&lt;T&gt;; //åˆ›å»ºæ ¹èŠ‚ç‚¹\n\t\ttnode-&gt;data = pI_T[tmpindex];&nbsp; //ç¬¬ä¸€æ¬¡tmpindex=2\n\t\t\n\t\t//(2)åˆ›å»ºå·¦å­©å­\n\t\tCreateBTreeAccordPI(\n\t\t\ttnode-&gt;leftChild,&nbsp; &nbsp;//åˆ›å»ºå·¦å­©å­\n\t\t\tpP_T + 1,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//æ‰¾åˆ°å‰åºéå†åºåˆ—ä¸­å·¦æ ‘å¼€å§‹èŠ‚ç‚¹çš„ä½ç½®ï¼Œè¿™é‡Œè·³è¿‡ç¬¬ä¸€ä¸ªï¼ˆæ ¹ï¼‰èŠ‚ç‚¹Aï¼Œå¾—åˆ°çš„æ˜¯â€œBDCEâ€\n\t\t\tpI_T,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//ä¸éœ€è¦æ”¹åŠ¨ï¼Œä»æ—§æ˜¯â€œDBACEâ€\n\t\t\ttmpindex&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //å·¦å­©å­æœ‰2ä¸ªèŠ‚ç‚¹&nbsp;\n\t\t);\n\t\t\n\t\t//(3)åˆ›å»ºå³å­©å­\n\t\tCreateBTreeAccordPI(\n\t\t\ttnode-&gt;rightChild,&nbsp; &nbsp;//åˆ›å»ºå³å­©å­\n\t\t\tpP_T + tmpindex + 1, //æ‰¾åˆ°å‰åºéå†ç³»åˆ—ä¸­å³æ ‘å¼€å§‹èŠ‚ç‚¹çš„ä½ç½®ï¼Œä¸éš¾å‘ç°ï¼Œå‰åºéå†åºåˆ—å’Œä¸­åºéå†åºåˆ—å³æ ‘å¼€å§‹èŠ‚ç‚¹çš„ä½ç½®ç›¸åŒï¼Œå¾—åˆ°çš„æ˜¯â€œCEâ€\n\t\t\tpI_T + tmpindex + 1, //æ‰¾åˆ°ä¸­åºéå†ç³»åˆ—ä¸­å³æ ‘å¼€å§‹èŠ‚ç‚¹çš„ä½ç½®ã€‚å¾—åˆ°çš„æ˜¯â€œCEâ€\n\t\t\tn - tmpindex - 1&nbsp; &nbsp;//å³å­©å­èŠ‚ç‚¹æ•°\n\t\t);\n\t}\n}\n</code></pre><p>åœ¨mainä¸»å‡½æ•°ä¸­ï¼ŒæŠŠå¦‚ä¸‹åˆ›å»ºäºŒå‰æ ‘çš„ä»£ç è¡Œã€‚</p><pre><code class=\"language-plain\">mytree2.CreateBTreeAccordPT((char *)\"ABD###C#E##\");\n</code></pre><p>æ›¿æ¢ä¸ºæ–°çš„ä»£ç è¡Œæ¥åˆ›å»ºä¸€æ£µå›¾5å·¦ä¾§æ‰€ç¤ºçš„äºŒå‰æ ‘ã€‚</p><pre><code class=\"language-plain\">mytree2.CreateBTreeAccordPI((char*)\"ABDCE\", (char*)\"DBACE\");\n</code></pre><p>å‘ç°äºŒå‰æ ‘åˆ›å»ºæˆåŠŸã€‚</p><h2>å°ç»“</h2><p>è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬å­¦ä¹ äº†äºŒå‰æ ‘çš„ä¸¤ç§å­˜å‚¨æ–¹å¼â€”â€”é¡ºåºå­˜å‚¨æ–¹å¼ã€é“¾å¼å­˜å‚¨æ–¹å¼ï¼Œä»¥åŠä»–ä»¬çš„å®ç°æ–¹å¼ã€‚</p><p><strong>äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨</strong>ï¼Œæ˜¯ç”¨ä¸€æ®µè¿ç»­çš„å†…å­˜ä¾æ¬¡ä»ä¸Šåˆ°ä¸‹ä»å·¦åˆ°å³å­˜å‚¨äºŒå‰æ ‘å„ä¸ªèŠ‚ç‚¹å…ƒç´ ï¼Œä½†æ˜¯å¾ˆå®¹æ˜“é€ æˆå­˜å‚¨ç©ºé—´çš„æµªè´¹ï¼Œå› æ­¤é¡ºåºå­˜å‚¨å¾€å¾€æ¯”è¾ƒé€‚åˆå­˜å‚¨å®Œå…¨äºŒå‰æ ‘ã€‚</p><p><strong>äºŒå‰æ ‘çš„é“¾å¼å­˜å‚¨</strong>ï¼Œéœ€è¦å­˜å‚¨é¢å¤–çš„å·¦å³èŠ‚ç‚¹æŒ‡é’ˆã€‚è™½ç„¶å¢åŠ äº†å­˜å‚¨çš„çµæ´»æ€§ï¼Œä½†ä¹Ÿæ¶ˆè€—äº†æ›´å¤šçš„å­˜å‚¨ç©ºé—´ã€‚é“¾å¼å­˜å‚¨æ–¹å¼ä¸­ï¼Œè¿˜æ¶‰åŠåˆ°äº†äºŒå‰é“¾è¡¨å’Œä¸‰å‰é“¾è¡¨çš„æ¦‚å¿µã€‚äºŒå‰é“¾è¡¨çš„ä¸€ä¸ªèŠ‚ç‚¹ç»“æ„å¸¦æœ‰ä¸¤æ ¹æŒ‡é’ˆä»¥æŒ‡å‘å·¦å³å­©å­èŠ‚ç‚¹ï¼Œè€Œä¸‰å‰é“¾è¡¨ä¸­ä¸€ä¸ªèŠ‚ç‚¹ç»“æ„å¸¦æœ‰ä¸‰æ ¹æŒ‡é’ˆï¼Œå…¶ä¸­ç¬¬ä¸‰ä¸ªæŒ‡é’ˆç”¨äºæŒ‡å‘å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œè¿™ç»™æ‰¾å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å¸¦æ¥äº†æœ€å¤§çš„ä¾¿åˆ©ã€‚</p><p>ç”±äºä¸é¡ºåºå­˜å‚¨ç›¸æ¯”ï¼ŒäºŒå‰æ ‘é“¾å¼å­˜å‚¨æ›´åŠ å¸¸ç”¨ï¼Œæ‰€ä»¥è¿™èŠ‚è¯¾æˆ‘å°†é‡ç‚¹æ”¾åœ¨äº†äºŒå‰æ ‘é“¾å¼å­˜å‚¨çš„å¸¸ç”¨æ“ä½œã€‚ç»™å‡ºäº†åˆ›å»ºæ ‘èŠ‚ç‚¹ï¼Œè·å–äºŒå‰æ ‘çš„å‰åºã€ä¸­åºã€ååºã€å±‚åºéå†åºåˆ—ï¼Œè·å–äºŒå‰æ ‘èŠ‚ç‚¹ä¸ªæ•°ï¼Œè·å–äºŒå‰æ ‘é«˜åº¦ï¼ŒæŸ¥æ‰¾æŸä¸ªèŠ‚ç‚¹ï¼ŒæŸ¥æ‰¾æŸä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œæ ‘çš„æ‹·è´ç­‰æ“ä½œä»£ç ã€‚è¿™é‡Œè¦é‡ç‚¹è®°å¿†äºŒå‰æ ‘å‰åºã€ä¸­åºã€ååºéå†ä»£ç ï¼Œç†è§£æ€§è®°å¿†å±‚åºéå†ä»£ç ï¼Œä»¥é˜²åœ¨é¢è¯•ä¸­å‡ºç°ã€‚</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬ä¹Ÿåˆ©ç”¨éé€’å½’çš„ç¼–ç¨‹æ–¹å¼å®ç°äº†äºŒå‰æ ‘çš„å‰åºã€ä¸­åºã€ååºéå†ã€‚æ³¨æ„ï¼Œ<strong>éé€’å½’çš„éå†æ“ä½œéœ€è¦å€ŸåŠ©æ ˆæ¥å®ç°</strong>ã€‚è¿™äº›ä»£ç éœ€è¦æˆ‘ä»¬ç®€å•ç†è§£ã€é€‚å½“è®°å¿†ï¼Œä¸‡ä¸€é¢è¯•ä¸­å‡ºç°ï¼Œèƒ½è¯´ä¸Šå‡ å¥å°±æ˜¯å¥½çš„ã€‚</p><p>æœ€åï¼Œå¦‚ä½•ä»æ— åˆ°æœ‰åˆ›å»ºå‡ºä¸€æ£µäºŒå‰æ ‘æ¥å‘¢ï¼Ÿæˆ‘ä»¬åœ¨æœ€åç”¨å‰åºã€ä¸­åºéå†åºåˆ—åˆ›å»ºäº†ä¸€æ£µäºŒå‰æ ‘ï¼Œè¿™äº›ä»£ç éƒ½ä¸å¤æ‚ï¼Œä½†ä¸€å®šå¯ä»¥ä½œä¸ºå‚è€ƒå’Œå€Ÿé‰´ï¼Œå¸®åŠ©ä½ è¿›ä¸€æ­¥æ‹“å±•åˆ›å»ºäºŒå‰æ ‘çš„æ€è·¯ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>å·²çŸ¥â€œ<strong>ä¸­åºå’Œååº</strong>éå†åºåˆ—â€ï¼Œä¹Ÿèƒ½å¤Ÿå”¯ä¸€ç¡®å®šä¸€æ£µäºŒå‰æ ‘ï¼Œè¯·ä½ å°è¯•å®ç°ç›¸å…³ä»£ç ã€‚</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºåˆ†äº«ä½ çš„æˆæœä»£ç ã€‚å¦‚æœè§‰å¾—æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿå¯ä»¥æŠŠè¯¾ç¨‹åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·å­¦ä¹ ã€‚æˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ï¼</p>","comments":[{"had_liked":false,"id":375771,"user_name":"Yj.yolo","can_delete":false,"product_type":"c1","uid":2814082,"ip_address":"å¹¿ä¸œ","ucode":"0ED1B41F124061","user_header":"https://static001.geekbang.org/account/avatar/00/2a/f0/82/f235d91d.jpg","comment_is_top":false,"comment_ctime":1685955475,"is_pvip":false,"replies":[{"id":137161,"content":"åŠ æ²¹åŠªåŠ›","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1104356,"ctime":1686135969,"ip_address":"å¹¿ä¸œ","comment_id":375771,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100524201,"comment_content":"è¶Šæ¥è¶Šè§‰å¾—è¿™é—¨è¯¾æ˜¯ä¸€é—¨æ˜¯éå¸¸å€¼å¾—ç ”è¯»çš„è¯¾ï¼Œå­¦åˆ°å¾ˆå¤šä¸œè¥¿ï¼Œè¶Šæ¥è¶ŠæœŸå¾…åé¢çš„å†…å®¹äº†","like_count":1,"discussions":[{"author":{"id":1104356,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d9/e4/791d0f5e.jpg","nickname":"KuangXiang","note":"","ucode":"BEEB53A49BA695","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":620407,"discussion_content":"åŠ æ²¹åŠªåŠ›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1686135969,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375911,"user_name":"é˜¿é˜³","can_delete":false,"product_type":"c1","uid":1165817,"ip_address":"æ±Ÿè‹","ucode":"20A35FB86B1C5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/c9/f9/39492855.jpg","comment_is_top":false,"comment_ctime":1686123729,"is_pvip":false,"replies":[{"id":137181,"content":"æ¯ä¸ªå¯¹å‘€","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1104356,"ctime":1686234161,"ip_address":"å¹¿ä¸œ","comment_id":375911,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100524201,"comment_content":"è€å¸ˆï¼Œå¥½ï¼Œåœ¨åˆ¤æ–­æ˜¯å¦å®Œå…¨äºŒå‰æ ‘çš„æ—¶å€™ï¼Œåœ¨å±‚åºéå†çš„å‡ºé˜Ÿåˆ—åˆ¤æ–­ï¼š\nif(tmpnode-&gt;leftChild == nullptr &amp;&amp; tmpnode-&gt;rightChild != nullptr)\n{\n  &#47;&#47;è¿™æ£µäºŒå‰æ ‘ä¸æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ã€‚\n}\nå¦‚æœä¸€æ£µäºŒå‰æ ‘æ˜¯å·¦æ–œæ ‘ï¼Œä¹Ÿä¸æ»¡è¶³è¿™ä¸ªé€»è¾‘ï¼Œä½†æ˜¯å·¦æ–œæ ‘ä¸æ˜¯å®Œå…¨äºŒå‰æ ‘ã€‚è¿™æ ·ç†è§£å¯¹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1104356,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d9/e4/791d0f5e.jpg","nickname":"KuangXiang","note":"","ucode":"BEEB53A49BA695","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":620517,"discussion_content":"æ¯ä¸ªå¯¹å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1686234161,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":375548,"user_name":"é˜¿é˜³","can_delete":false,"product_type":"c1","uid":1165817,"ip_address":"æ±Ÿè‹","ucode":"20A35FB86B1C5C","user_header":"https://static001.geekbang.org/account/avatar/00/11/c9/f9/39492855.jpg","comment_is_top":false,"comment_ctime":1685611555,"is_pvip":false,"replies":[{"id":137081,"content":"æ­å–œä½ æ…§çœ¼è¯†é‡‘ï¼Œé€‰æ‹©äº†è¿™é—¨è¯¾ã€‚ğŸ˜‚ğŸ˜‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1104356,"ctime":1685629730,"ip_address":"å¹¿ä¸œ","comment_id":375548,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100524201,"comment_content":"è¿™èŠ‚è¯¾å†…å®¹çœŸå®å¤ªå¤šäº†ï¼Œä¸¤ç§å­˜å‚¨æ–¹å¼ï¼Œæ ‘çš„éå†ï¼Œè¿˜æœ‰å¸¸ç”¨æ“ä½œã€‚å¹²è´§æ»¡æ»¡ã€‚å°¤å…¶æ˜¯CreateNodeçš„æ€è·¯å’Œä½¿ç”¨æ‰©å±•äºŒå‰æ ‘çš„å‰åºéå†åºåˆ—å»åˆ›å»ºäºŒå‰æ ‘ï¼ŒçœŸæ˜¯å­¦ä¹ åˆ°äº†ï¼Œè§£å†³äº†æ•°æ®ç»“æ„æ•™æä¸Šæ²¡æœ‰å…·ä½“å®ç°çš„ç¼ºç‚¹ã€‚","like_count":0,"discussions":[{"author":{"id":1104356,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d9/e4/791d0f5e.jpg","nickname":"KuangXiang","note":"","ucode":"BEEB53A49BA695","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619946,"discussion_content":"æ­å–œä½ æ…§çœ¼è¯†é‡‘ï¼Œé€‰æ‹©äº†è¿™é—¨è¯¾ã€‚ğŸ˜‚ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685629730,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":370815,"user_name":"wu526","can_delete":false,"product_type":"c1","uid":1022129,"ip_address":"ä¸Šæµ·","ucode":"69282EB175B48E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/98/b1/f89a84d0.jpg","comment_is_top":false,"comment_ctime":1679303091,"is_pvip":false,"replies":[{"id":135303,"content":"å¯¹ï¼Œä½ çœ‹æ¼äº†ï¼Œåœ¨CopyTreeé‡è½½å‡½æ•°ä¸­ï¼ŒtTargetæ˜¯ä¸ªå¼•ç”¨ç±»å‹ï¼Œä½ ç»†çœ‹ï¼Œä»–çš„å‰é¢æœ‰ä¸ª&amp;ç¬¦å·å‘¦ã€‚ğŸ˜¸ğŸ˜¸","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1104356,"ctime":1679321755,"ip_address":"å¹¿ä¸œ","comment_id":370815,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100524201,"comment_content":"CopyTree çš„é‡è½½å‡½æ•°ä¸­ï¼Œåªå¤åˆ¶äº†å€¼ï¼Œæ²¡æœ‰è®¾ç½® tTargetçš„æŒ‡é’ˆåŸŸï¼Œæ€ä¹ˆä¹Ÿå¯ä»¥å¾—åˆ°æ­£ç¡®çš„ç»“æœå‘¢ï¼Ÿæˆ‘æ˜¯å“ªé‡Œçœ‹æ¼äº†å—ï¼Œæœ›è€å¸ˆè§£æƒ‘~\n","like_count":0,"discussions":[{"author":{"id":1104356,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d9/e4/791d0f5e.jpg","nickname":"KuangXiang","note":"","ucode":"BEEB53A49BA695","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":609983,"discussion_content":"å¯¹ï¼Œä½ çœ‹æ¼äº†ï¼Œåœ¨CopyTreeé‡è½½å‡½æ•°ä¸­ï¼ŒtTargetæ˜¯ä¸ªå¼•ç”¨ç±»å‹ï¼Œä½ ç»†çœ‹ï¼Œä»–çš„å‰é¢æœ‰ä¸ª&amp;ç¬¦å·å‘¦ã€‚ğŸ˜¸ğŸ˜¸","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679321755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1022129,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/98/b1/f89a84d0.jpg","nickname":"wu526","note":"","ucode":"69282EB175B48E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1104356,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d9/e4/791d0f5e.jpg","nickname":"KuangXiang","note":"","ucode":"BEEB53A49BA695","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":609987,"discussion_content":"å¥½çš„ è°¢è°¢è€å¸ˆï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1679322970,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":609983,"ip_address":"é‡åº†","group_id":0},"score":609987,"extra":""}]}]},{"had_liked":false,"id":370208,"user_name":"peter","can_delete":false,"product_type":"c1","uid":1058183,"ip_address":"åŒ—äº¬","ucode":"261C3FC001DE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","comment_is_top":false,"comment_ctime":1678529436,"is_pvip":false,"replies":[{"id":134967,"content":"A1ï¼šé“¾å¼æ˜¯ä¸€ç§å®ç°é˜Ÿåˆ—çš„æ–¹å¼ï¼Œé‚£ä½ ç”¨æ•°ç»„ä¹Ÿå¯ä»¥å®ç°é˜Ÿåˆ—æ˜¯å§ï¼Œé˜Ÿåˆ—æ— éå°±æ˜¯å…ˆè¿›å…ˆå‡ºè¿™ç§ç‰¹æ€§ã€‚å½“ç„¶ä¹Ÿæœ‰åŒç«¯é˜Ÿåˆ—å¾ªç¯é˜Ÿåˆ—ç­‰ç®—æ˜¯å¯¹åŸºç¡€é˜Ÿåˆ—åŠŸèƒ½çš„æ‰©å±•ï¼Œæƒ³äº†è§£å¯ä»¥é€šè¿‡æœç´¢å¼•æ“æŸ¥ä¸€ä¸‹ã€‚\nA2ï¼šæ ‡å‡†åº“æ²¡å¬è¯´æœ‰é’ˆå¯¹äºŒå‰æ ‘æ“ä½œçš„å°è£…å¥½çš„ç±»æˆ–è€…APIï¼Œå› ä¸ºä¸€èˆ¬äººè¿˜çœŸç”¨ä¸å¥½è¿™ç§æ¥å£ã€‚ä¸è¿‡æ ‡å‡†åº“ä¸­çš„MAPå®¹å™¨æ˜¯ç”¨çº¢é»‘æ ‘ï¼ˆäºŒå‰æ ‘çš„ä¸€ç§ï¼‰è¿™ç§æ•°æ®ç»“æ„å­˜å‚¨æ•°æ®çš„ã€‚\nA3ï¼šäºŒå‰æ ‘æ˜¯ä¸ªé€šç§°ï¼Œåé¢ä½ ä¼šå­¦åˆ°å„ç§äºŒå‰æ ‘æ¯”å¦‚çº¢é»‘æ ‘ç­‰ã€‚è®¸å¤šç”¨åˆ°çº¢é»‘æ ‘çš„åœ°æ–¹ï¼Œæ¯”å¦‚LINUXä¸Šå®ç°å·ç§°å•æœºç™¾ä¸‡å¹¶å‘çš„epollæŠ€æœ¯ï¼Œåˆšæ‰æåˆ°çš„mapå®¹å™¨ç­‰ï¼Œæœ‰å…´è¶£åœ¨æœç´¢å¼•æ“é‡Œæœä¸€ä¸‹â€œäºŒå‰æ ‘å®é™…åº”ç”¨â€è¿™æ ·çš„å…³é”®å­—å³å¯æ‰¾åˆ°å¾ˆå¤šç»“æœã€‚\nA4ï¼šæ²¡æ³¨æ„åˆ°å“ªé‡Œæœ‰é™åˆ¶äºŒå‰æ ‘å¤§å°ï¼Œä¸è¿‡è‚¯å®šæœ‰å†…å­˜é™åˆ¶æ˜¯å§ã€‚å› ä¸ºæ¯ä¸ªäºŒå‰æ ‘èŠ‚ç‚¹éƒ½å å†…å­˜ã€‚å½“ç„¶ï¼Œä»å®ç”¨è§’åº¦ä¸€èˆ¬å‡ ä¸‡åˆ°å‡ åä¸‡ä¸ªèŠ‚ç‚¹å°±å·®ä¸å¤šäº†å§ã€‚äºŒå‰æ ‘æ·±åº¦å¤ªæ·±ä¹Ÿå¾ˆå½±å“æ’å…¥ï¼ŒæŸ¥æ‰¾ï¼Œåˆ é™¤ç­‰æ•ˆç‡æ˜¯å§ã€‚\næˆ‘ä¸ªäººå»ºè®®ä¸ç”¨æƒ³é‚£ä¹ˆå¤šï¼Œç”¨å°±æ˜¯äº†ã€‚é™¤éæœºå™¨æ€§èƒ½å¾ˆåƒç´§è®©ä½ ä¸å¾—ä¸ç²¾æ‰“ç»†ç®—ï¼Œä¸ç„¶è¿˜æ²¡å¬è¯´è¿‡æœ‰ä»€ä¹ˆé™åˆ¶ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½œè€…","uid":1104356,"ctime":1678544116,"ip_address":"å¹¿ä¸œ","comment_id":370208,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100524201,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜ï¼š\nQ1ï¼šé™¤äº†é“¾å¼é˜Ÿåˆ—ï¼Œè¿˜æœ‰å…¶ä»–é˜Ÿåˆ—å—ï¼Ÿ\nQ2ï¼šäºŒå‰æ ‘æ“ä½œï¼ŒC++æ ‡å‡†åº“æœ‰å°è£…å¥½çš„ç±»æˆ–APIå—ï¼Ÿ\nå¦‚æœæœ‰ï¼Œæ€§èƒ½æ€ä¹ˆæ ·ï¼Ÿ\nQ3ï¼šäºŒå‰æ ‘çš„å…¸å‹åº”ç”¨æ˜¯ä»€ä¹ˆï¼Ÿ\nQ4ï¼šå®é™…åº”ç”¨ä¸­ï¼ŒäºŒå‰æ ‘çš„å¤§å°æœ‰é™åˆ¶å—ï¼Ÿä¸€èˆ¬å¤šå¤§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1104356,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d9/e4/791d0f5e.jpg","nickname":"KuangXiang","note":"","ucode":"BEEB53A49BA695","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":608612,"discussion_content":"A1ï¼šé“¾å¼æ˜¯ä¸€ç§å®ç°é˜Ÿåˆ—çš„æ–¹å¼ï¼Œé‚£ä½ ç”¨æ•°ç»„ä¹Ÿå¯ä»¥å®ç°é˜Ÿåˆ—æ˜¯å§ï¼Œé˜Ÿåˆ—æ— éå°±æ˜¯å…ˆè¿›å…ˆå‡ºè¿™ç§ç‰¹æ€§ã€‚å½“ç„¶ä¹Ÿæœ‰åŒç«¯é˜Ÿåˆ—å¾ªç¯é˜Ÿåˆ—ç­‰ç®—æ˜¯å¯¹åŸºç¡€é˜Ÿåˆ—åŠŸèƒ½çš„æ‰©å±•ï¼Œæƒ³äº†è§£å¯ä»¥é€šè¿‡æœç´¢å¼•æ“æŸ¥ä¸€ä¸‹ã€‚\nA2ï¼šæ ‡å‡†åº“æ²¡å¬è¯´æœ‰é’ˆå¯¹äºŒå‰æ ‘æ“ä½œçš„å°è£…å¥½çš„ç±»æˆ–è€…APIï¼Œå› ä¸ºä¸€èˆ¬äººè¿˜çœŸç”¨ä¸å¥½è¿™ç§æ¥å£ã€‚ä¸è¿‡æ ‡å‡†åº“ä¸­çš„MAPå®¹å™¨æ˜¯ç”¨çº¢é»‘æ ‘ï¼ˆäºŒå‰æ ‘çš„ä¸€ç§ï¼‰è¿™ç§æ•°æ®ç»“æ„å­˜å‚¨æ•°æ®çš„ã€‚\nA3ï¼šäºŒå‰æ ‘æ˜¯ä¸ªé€šç§°ï¼Œåé¢ä½ ä¼šå­¦åˆ°å„ç§äºŒå‰æ ‘æ¯”å¦‚çº¢é»‘æ ‘ç­‰ã€‚è®¸å¤šç”¨åˆ°çº¢é»‘æ ‘çš„åœ°æ–¹ï¼Œæ¯”å¦‚LINUXä¸Šå®ç°å·ç§°å•æœºç™¾ä¸‡å¹¶å‘çš„epollæŠ€æœ¯ï¼Œåˆšæ‰æåˆ°çš„mapå®¹å™¨ç­‰ï¼Œæœ‰å…´è¶£åœ¨æœç´¢å¼•æ“é‡Œæœä¸€ä¸‹â€œäºŒå‰æ ‘å®é™…åº”ç”¨â€è¿™æ ·çš„å…³é”®å­—å³å¯æ‰¾åˆ°å¾ˆå¤šç»“æœã€‚\nA4ï¼šæ²¡æ³¨æ„åˆ°å“ªé‡Œæœ‰é™åˆ¶äºŒå‰æ ‘å¤§å°ï¼Œä¸è¿‡è‚¯å®šæœ‰å†…å­˜é™åˆ¶æ˜¯å§ã€‚å› ä¸ºæ¯ä¸ªäºŒå‰æ ‘èŠ‚ç‚¹éƒ½å å†…å­˜ã€‚å½“ç„¶ï¼Œä»å®ç”¨è§’åº¦ä¸€èˆ¬å‡ ä¸‡åˆ°å‡ åä¸‡ä¸ªèŠ‚ç‚¹å°±å·®ä¸å¤šäº†å§ã€‚äºŒå‰æ ‘æ·±åº¦å¤ªæ·±ä¹Ÿå¾ˆå½±å“æ’å…¥ï¼ŒæŸ¥æ‰¾ï¼Œåˆ é™¤ç­‰æ•ˆç‡æ˜¯å§ã€‚\næˆ‘ä¸ªäººå»ºè®®ä¸ç”¨æƒ³é‚£ä¹ˆå¤šï¼Œç”¨å°±æ˜¯äº†ã€‚é™¤éæœºå™¨æ€§èƒ½å¾ˆåƒç´§è®©ä½ ä¸å¾—ä¸ç²¾æ‰“ç»†ç®—ï¼Œä¸ç„¶è¿˜æ²¡å¬è¯´è¿‡æœ‰ä»€ä¹ˆé™åˆ¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1678544116,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":392205,"user_name":"Geek_845395","can_delete":false,"product_type":"c1","uid":3899042,"ip_address":"å››å·","ucode":"F31AF3B562323E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaELibhkZWN1BqDCeTKJdtu0UfbHNQ1KnjmOE4Zsy05nEyUKQ5AjTdh29iaGFAoXk2ic6juxI2Gxr294LzzUfIDI9YRgPCbfY84PKp9RuXXqFGibLCw/132","comment_is_top":false,"comment_ctime":1720254966,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100524201,"comment_content":"ç‹è€å¸ˆï¼Œè¯·é—®ä¸€ä¸‹\n\n\n&#47;&#47;è·å–æŸä¸ªèŠ‚ç‚¹æ‰€åœ¨çš„é«˜åº¦ï¼š\n\t&#47;&#47;æ ¹æ®äºŒå‰æ ‘æ€§è´¨äº”ï¼šå…·æœ‰nï¼ˆn &gt; 0ï¼‰ä¸ªèŠ‚ç‚¹çš„å®Œå…¨äºŒå‰æ ‘çš„é«˜åº¦ä¸ºâŒˆlog(â¡n + 1)âŒ‰æˆ–è€…âŒŠlog(â¡n)âŒ‹ + 1ã€‚è¿™é‡Œçš„å¯¹æ•°éƒ½æ˜¯ä»¥2ä¸ºåº•\n\tint getPointLevel(int index)\n\t{\n\t\tif (ifValidRangeIdx(index) == false) &#47;&#47;ä½ç½®ä¸åˆç†\n\t\t\treturn -1;\n\n\t\tif (SqBiTree[index].isValid == false)&#47;&#47;ä¸æ˜¯ä¸ªåˆç†çš„èŠ‚ç‚¹ï¼Œä¸è¦å°è¯•æ‰¾çˆ¶èŠ‚ç‚¹\n\t\t\treturn -1;\n\n\t\t&#47;&#47;é‡‡ç”¨å…¬å¼âŒŠlog(n)âŒ‹ + 1\n\t\tint level = int(log(index) &#47; log(2) + 1);&#47;&#47;c++ä¸­çš„logï¼ˆnï¼‰å‡½æ•°æ±‚çš„æ˜¯ä»¥e(2.71828)ä¸ºåº•çš„å¯¹æ•°å€¼ï¼Œå¦‚æœè¦æ±‚ä»¥æ•°å­—mä¸ºåº•çš„å¯¹æ•°å€¼ï¼Œåˆ™éœ€è¦log(n)&#47;log(m)\n\n\t\treturn level;\n\t}\n\næ‚¨çš„è¿™æ®µä»£ç ï¼Œæ˜¯ä¸æ˜¯æ—¢å¯ä»¥æ±‚æŸä¸ªèŠ‚ç‚¹çš„é«˜åº¦ï¼Œä¹Ÿå¯ä»¥æ±‚æ•´ä¸ªæ ‘çš„é«˜åº¦å‘¢ï¼Ÿ å¦‚æœä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘çš„æ€»èŠ‚ç‚¹æ˜¯10ï¼Œé‚£ä¹ˆä»£ç å°±æ˜¯ int(log(10)&#47;log(2),å¦‚æœæˆ‘åªæƒ³æ±‚å®ƒçš„ç¬¬äº”ä¸ªèŠ‚ç‚¹çš„é«˜åº¦ï¼Œä»£ç å°±å†™æˆint(log(5)&#47;log(2)\n\nå¯¹å—è€å¸ˆ\n","like_count":0},{"had_liked":false,"id":386324,"user_name":"Geek_5ddd2e","can_delete":false,"product_type":"c1","uid":3803927,"ip_address":"é‡åº†","ucode":"50D5D3FA897E8F","user_header":"","comment_is_top":false,"comment_ctime":1704583292,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100524201,"comment_content":"è¿™èŠ‚è¯¾å¼€å§‹éš¾åº¦â€å—–â€œåœ°ä¸€ä¸‹ä¸Šæ¥äº†&#47;å“­","like_count":0}]}
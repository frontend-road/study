{"id":344093,"title":"05 | å›¾åƒå¤„ç†åº“ï¼šå¦‚ä½•å®ç°é•¿å›¾æ‹¼æ¥ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å°¹ä¼šç”Ÿã€‚</p><p>æˆ‘ä»¬åœ¨å·¥ä½œä¸­ï¼Œé™¤äº†å’Œæ–‡å­—ã€è¡¨æ ¼æ‰“äº¤é“ä¹‹å¤–ï¼Œè¿˜ä¼šç»å¸¸æ¶‰åŠåˆ°æ‰¹é‡å¤„ç†å›¾ç‰‡å’Œè§†é¢‘çš„å·¥ä½œã€‚æ¯”å¦‚ï¼šåª’ä½“ä»ä¸šè€…åœ¨å‘å¾®åšé•¿å›¾æ–‡æ—¶ï¼Œéœ€è¦æŠŠå¤šä¸ªå›¾ç‰‡æ‹¼æ¥æˆä¸€å¹…é•¿å›¾ï¼›ä½œä¸ºè§†é¢‘å‰ªè¾‘äººå‘˜ï¼Œéœ€è¦ä»äº’è”ç½‘ä¸‹è½½å¤šæ®µè§†é¢‘ï¼Œå†è¿›è¡Œåˆå¹¶ã€‚</p><p>è¿™ç±»å·¥ä½œå¯ä»¥ç”¨åŠŸèƒ½å¼ºå¤§çš„å•†ä¸šè½¯ä»¶å®ç°ï¼Œä¸è¿‡è¿™äº›è½¯ä»¶å¤§éƒ½æ“ä½œç¹çï¼Œè€Œä¸”è¿˜éœ€è¦ä»˜è´¹ã€‚ä¸ºäº†é™ä½å­¦ä¹ æˆæœ¬å’Œè´­ä¹°è½¯ä»¶çš„æˆæœ¬ï¼Œæˆ‘ä»¬å¾€å¾€è¿˜ä¼šä½¿ç”¨å¼€æºè½¯ä»¶æ›¿ä»£å•†ä¸šè½¯ä»¶æ¥å®ç°å›¾ç‰‡å’Œè§†é¢‘å¤„ç†åŠŸèƒ½ã€‚ä½†æ˜¯å¼€æºè½¯ä»¶é€šå¸¸éƒ½æ˜¯ä»¥å‘½ä»¤è¡Œæ–¹å¼è¿è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ä»…è¦è®°ä½å‘½ä»¤ï¼Œè¿˜å¾—è®°ä½å‘½ä»¤çš„å¸¸ç”¨å‚æ•°ã€‚</p><p>ä¸è¿‡ï¼Œå¹¸è¿çš„æ˜¯ï¼Œè™½ç„¶ç›´æ¥ä½¿ç”¨å¼€æºè½¯ä»¶ä¸å¤Ÿå‹å¥½ï¼Œä½†å¦‚æœé€šè¿‡Pythonæ¥è°ƒç”¨è¿™äº›å¼€æºè½¯ä»¶ï¼Œé‚£å®ç°é•¿å›¾å’Œè§†é¢‘æ‹¼æ¥å°±è½»è€Œæ˜“ä¸¾äº†ï¼Œè€Œä¸”è¿˜èƒ½å¤§æ‰¹é‡åœ°å¤„ç†å›¾ç‰‡å’Œè§†é¢‘ã€‚</p><h1>Pythonæ˜¯å¦‚ä½•è°ƒç”¨å¤–éƒ¨å‘½ä»¤çš„</h1><p>ä¸ºäº†è®©ä½ äº†è§£Pythonæ˜¯å¦‚ä½•æ“ä½œè¿™äº›å¼€æºè½¯ä»¶çš„ï¼Œæˆ‘å…ˆæ¥ç»™ä½ ä»‹ç»ä¸€ä¸‹Pythonè°ƒç”¨å¤–éƒ¨ç¨‹åºçš„åŸç†ã€‚</p><p>æˆ‘ä»¬è¦æƒ³ä½¿ç”¨Pythonè¯­è¨€ä¹‹å¤–çš„åŠŸèƒ½ï¼Œè¦ä¾é ä¸¤å¤§é€”å¾„ï¼šå¯¼å…¥å‡½æ•°åº“å’Œè°ƒç”¨å¤–éƒ¨å‘½ä»¤ã€‚</p><p>åœ¨ç¬¬ä¸€è®²æˆ‘ä½¿ç”¨çš„xlrdåº“æ˜¯é€šè¿‡import xlrdå‘½ä»¤å¯¼å…¥åˆ°Pythonè¯­è¨€ä¸­çš„ï¼ŒPythonè¯­è¨€é»˜è®¤æ˜¯ä¸æ”¯æŒExcelçš„ã€‚é‚£ä¹ˆé€šè¿‡å¯¼å…¥å‡½æ•°åº“ï¼ŒPythonå°±å¯ä»¥è·å¾—å¯¹Excelçš„æ“ä½œèƒ½åŠ›ã€‚</p><!-- [[[read_end]]] --><p>è¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯ï¼Œéœ€è¦æ“ä½œPythonè¯­è¨€ä¹‹å¤–çš„åŠŸèƒ½ï¼Œä½†è¿™ä¸ªåŠŸèƒ½æ²¡æœ‰äººå°†å®ƒå¼€å‘æˆå‡½æ•°åº“ï¼Œé‚£å¦‚æœæˆ‘ä»¬æƒ³è¦ä½¿ç”¨è¿™äº›åŠŸèƒ½ï¼Œä½¿ç”¨çš„é€”å¾„å°±æ˜¯è°ƒç”¨å¤–éƒ¨å‘½ä»¤äº†ï¼Œè€Œè°ƒç”¨å¤–éƒ¨å‘½ä»¤å°±éœ€è¦Pythonå†…éƒ¨å‡½æ•°åº“çš„subprocessæ¨¡å—æ¥å®ç°ã€‚</p><p>è¿™ä¸ªæ¨¡å—çš„å®ç°æœºåˆ¶æ˜¯ï¼šå®ƒçš„run()å‡½æ•°çš„å‚æ•°å¯ä»¥æŒ‡å®šä¸€ä¸ªå¯ä»¥è¿è¡Œçš„ç¨‹åºçš„è·¯å¾„ï¼Œè€ŒPythonä¼šæ ¹æ®è¿™ä¸ªè·¯å¾„æ¥è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼Œç„¶åå†æ ¹æ®è¿è¡Œç»“æœï¼Œä»¥åŠPythonçš„é€»è¾‘åˆ¤æ–­å»è¿›è¡Œåç»­çš„è‡ªåŠ¨åŒ–å¤„ç†å·¥ä½œã€‚</p><p>è¿™ä¸ªå®ç°æœºåˆ¶å¹¶ä¸éš¾ï¼Œæˆ‘ç»™ä½ å†™ä¸€æ®µç®€å•çš„ç¨‹åºï¼Œå¸®ä½ ç†è§£Pythonæ˜¯æ€æ ·è°ƒç”¨å¤–éƒ¨å‘½ä»¤çš„ã€‚è¿™é‡Œä»¥macOSç³»ç»Ÿä¸ºä¾‹ï¼Œæˆ‘ä»¬é€šè¿‡Pythonè·å–å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„åŠŸèƒ½ã€‚</p><pre><code>from subprocess import run, Popen, PIPE\n\ncmd1 = [&quot;ls&quot;, &quot;.&quot;]\nreturncode = run(cmd1)\n\nprint(returncode)\n# CompletedProcess(args=['ls', '.'], returncode=0)\n# returncodeæ˜¯â€œls .â€çš„é€€å‡ºçŠ¶æ€ç .\n# é€šå¸¸æ¥è¯´, ä¸€ä¸ªä¸º 0 çš„é€€å‡ºç è¡¨ç¤ºè¿›ç¨‹è¿è¡Œæ­£å¸¸\n\n# ä½¿ç”¨Popenè·å–ç¨‹åºè¿è¡Œç»“æœ\nwith Popen(cmd1, shell=True, stdout=PIPE, stderr=PIPE, encoding=&quot;utf-8&quot;) as fs:\n    \n    # å¦‚æœç¨‹åºåœ¨ timeout ç§’åæœªæ‰§è¡Œå®Œæˆ,ä¼šæŠ›å‡º TimeoutExpired å¼‚å¸¸\n    fs.wait(2)\n\n    # ä»æ ‡å‡†è¾“å‡ºä¸­è¯»å–æ•°æ®,çŸ¥é“æ–‡ä»¶ç»“æŸ\n    files = fs.communicate()[0]\n    \nprint(files)\n\n</code></pre><p>è¿™æ®µä»£ç ä¸­æœ€æ ¸å¿ƒçš„å‡½æ•°æ˜¯run()å‡½æ•°å’ŒPopenç±»ã€‚subprocessæ¨¡å—å°±æ˜¯é€šè¿‡è¿™ä¸¤ä¸ªå‡½æ•°å®ç°çš„å¤–éƒ¨ç¨‹åºè°ƒç”¨ã€‚æˆ‘æ¥ä¸ºä½ é‡ç‚¹å‰–æä¸€ä¸‹å®ƒä»¬çš„åŠŸèƒ½ã€å‚æ•°ï¼Œä»¥åŠä½•æ—¶é€‰æ‹©run()å‡½æ•°ã€ä½•æ—¶é€‰æ‹©Popenç±»ã€‚</p><p>ä¸ºäº†å®ç°Pythonè°ƒç”¨å¯æ‰§è¡Œæ–‡ä»¶ï¼Œé¦–å…ˆåœ¨ä»£ç çš„ç¬¬ä¸€è¡Œï¼Œæˆ‘æ˜¯è¿™æ ·ç¼–å†™çš„ï¼š</p><pre><code>from subprocess import run, Popen, PIPE\n</code></pre><p>è¿™æ ·ä¸€è¡Œä»£ç ï¼Œå®ƒå’Œæˆ‘ç¬¬ä¸€è®²ä½¿ç”¨çš„importæ–¹å¼å¯¼å…¥å‡½æ•°åº“çš„åŒºåˆ«æ˜¯ï¼Œè¿™ç§å½¢å¼å¯ä»¥è®©ä½ ç›´æ¥ä½¿ç”¨æ¨¡å—ä¸­çš„ç±»å’Œæ–¹æ³•ã€‚</p><p>å¦‚æœä½ ä½¿ç”¨ â€œimport subprocessâ€æ–¹å¼å¯¼å…¥subprocessåº“çš„è¯ï¼Œåœ¨è°ƒç”¨run()å‡½æ•°çš„æ—¶å€™ï¼Œå°±éœ€è¦ç”¨ â€œåº“.å‡½æ•°â€çš„å½¢å¼åœ¨Pythonä¸­ä½¿ç”¨åº“å½“ä¸­çš„å‡½æ•°ï¼Œå³â€œsubprocess.run()â€ã€‚åœ¨ä½ å¤šæ¬¡è°ƒç”¨run()å‡½æ•°æ—¶ï¼Œä»£ç ä¼šè¾ƒé•¿ï¼Œé‚£ä¹ˆä½¿ç”¨â€œfrom importâ€æ–¹å¼å¯¼å…¥ï¼Œå°±å¯ä»¥åœ¨å½“å‰ä»£ç æ–‡ä»¶ä¸­ç›´æ¥ä½¿ç”¨run()å‡½æ•°ï¼Œä¸ºä»£ç çš„é˜…è¯»å¸¦æ¥æ›´å¥½çš„ä½“éªŒã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘å®šä¹‰äº†ä¸€ä¸ªå˜é‡cmd1ã€‚è¿™ä¸ªå˜é‡çš„å€¼æ˜¯macOSå‘½ä»¤è¡Œèƒ½å¤Ÿè¿è¡Œçš„â€œls .â€å‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤çš„æ‰§è¡Œç»“æœæ˜¯æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„åç§°ã€‚</p><p>run()å‡½æ•°çš„ä¸»è¦åŠŸèƒ½å°±æ˜¯æ‰§è¡Œä¸€ä¸ªæ–°çš„ç¨‹åºï¼Œå®ƒçš„ç”¨æ³•éå¸¸ç®€å•ï¼ŒæŠŠç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šä¸ºè¦æ‰§è¡Œç¨‹åºçš„è·¯å¾„å°±å¯ä»¥äº†ã€‚å¦‚æœè¦æ‰§è¡Œçš„ç¨‹åºå¸¦æœ‰å‚æ•°ï¼Œé‚£å°±å¯ä»¥ä½¿ç”¨åˆ—è¡¨æ•°æ®ç±»å‹å­˜æ”¾å¯æ‰§è¡Œç¨‹åºåç§°å’Œå‚æ•°ï¼Œåƒæ˜¯æˆ‘åœ¨ç¨‹åºä¸­å®šä¹‰çš„cmd1å˜é‡ä¸€æ ·ã€‚å¦‚æœä½ éœ€è¦è¿è¡Œå…¶ä»–å‘½ä»¤ï¼ŒæŠŠä»£ç ä¸­çš„lsæ›¿æ¢ä¸ºä½ æƒ³è¦è¿è¡Œçš„å…¶ä»–ç¨‹åºå°±è¡Œäº†ã€‚</p><p>ä¸ºäº†è®©Pythonè‡ªåŠ¨åŒ–å¤„ç†ç¨‹åºæ›´å¼ºå¤§ï¼Œé™¤äº†è¿è¡Œç¨‹åºå¤–ï¼Œä½ è¿˜å¯ä»¥å¾—åˆ°å¯æ‰§è¡Œç¨‹åºçš„è¿è¡Œç»“æœã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨Popenç±»æ›¿ä»£run()å‡½æ•°å®ç°å¤–éƒ¨ç¨‹åºçš„è°ƒç”¨ã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘åœ¨ä»£ç çš„ç¬¬12è¡Œå…ˆé€šè¿‡Popenç±»æ‰§è¡Œäº†â€œls .â€å‘½ä»¤ï¼Œæ¥ç€é€šè¿‡å‚æ•°stdout=PIPE å°†å‘½ä»¤çš„æ‰§è¡Œç»“æœæ”¾å…¥åˆ°PIPEå¯¹è±¡ä¸­, æœ€åå†é€šè¿‡communicate()å‡½æ•°å°†PIPEä¸­çš„å†…å®¹è¯»å–å‡ºæ¥ï¼Œå­˜æ”¾åˆ°fileså˜é‡ä¸­ï¼Œè¿™æ ·å°±å®ç°äº†è¯»å–å‘½ä»¤æ‰§è¡Œç»“æœçš„åŠŸèƒ½ã€‚</p><p>è¿™ä¸ªåŠŸèƒ½æ˜¯æ— æ³•åœ¨run()å‡½æ•°å®ç°çš„ï¼Œå› æ­¤åœ¨ä½ éœ€è¦é€šè¿‡Pythonè¯»å–ç¨‹åºæ‰§è¡Œç»“æœçš„æ—¶å€™ï¼Œå°±å¯ä»¥é€‰æ‹©Popenç±»ã€‚ä¸è¿‡å¦‚æœåªéœ€è¦è¿è¡Œå¯æ‰§è¡Œç¨‹åºï¼Œé‚£ä½¿ç”¨run()å‡½æ•°å°±èƒ½æ»¡è¶³ä½ çš„è¦æ±‚äº†ã€‚å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°äº†è§£å®ƒä»¬ï¼Œæˆ‘å»ºè®®ä½ é˜…è¯»<a href=\"https://docs.python.org/zh-cn/3.7/library/subprocess.html#subprocess.Popen\">subprocessåº“çš„å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><p>ä»¥ä¸Šå°±æ˜¯æˆ‘ç”¨subprocessåº“å®ç°Pythonè°ƒç”¨å¯æ‰§è¡Œç¨‹åºçš„æ–¹æ³•ã€‚Pythonä¹‹æ‰€ä»¥è¢«æˆ‘ä»¬ç§°ä½œæœ€ä½³çš„â€œèƒ¶æ°´è¯­è¨€â€ï¼Œå°±æ˜¯å› ä¸ºå®ƒèƒ½è½»æ˜“â€œç²˜åˆâ€å¯æ‰§è¡Œç¨‹åºã€‚åˆ©ç”¨Pythonçµæ´»çš„é€»è¾‘åˆ¤æ–­ã€å¾ªç¯è¯­æ³•å¯ä»¥å®ç°ç¨‹åºçš„æ‰¹é‡æ‰§è¡Œå’Œæµç¨‹ç®¡ç†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä½¿ç”¨subprocessæ¥å®ç°é•¿å›¾æ‹¼æ¥å’Œè§†é¢‘æ‹¼æ¥çš„åŠŸèƒ½ã€‚</p><h1>é•¿å›¾æ‹¼æ¥</h1><p>å½“æˆ‘è¿›è¡Œå¾®åšæ–‡æ¡ˆæ¨å¹¿çš„æ—¶å€™ï¼Œéœ€è¦å°†å¤šä¸ªå›¾ç‰‡æ‹¼æ¥æˆä¸€ä¸ªé•¿å›¾ã€‚æ‹¼æ¥å›¾ç‰‡çš„åŠŸèƒ½Pythonæœ¬èº«æ˜¯ä¸å…·å¤‡çš„ï¼Œå› æ­¤å°±éœ€è¦å¼•å…¥å¤–éƒ¨å‘½ä»¤æ¥å®ç°å›¾ç‰‡æ‹¼æ¥åŠŸèƒ½ã€‚</p><p>æˆ‘åœ¨macOSå¹³å°ä¸Šæ‰¾åˆ°äº†ä¸€ä¸ªéå¸¸å¼ºå¤§çš„å›¾åƒå¤„ç†è½¯ä»¶å«åš<strong>ImageMagick</strong><strong>ï¼Œ</strong>å®ƒèƒ½å¯¹å›¾ç‰‡è¿›è¡Œç¼–è¾‘ã€åˆå¹¶ã€åˆ‡å‰²ã€æ—‹è½¬ç­‰90å¤šç§æ“ä½œã€‚ ImageMagickè½¯ä»¶å®ç°å›¾ç‰‡æ‹¼æ¥çš„å‘½ä»¤æ ¼å¼æ˜¯è¿™æ ·çš„ï¼š</p><pre><code>composite å›¾ç‰‡1.jpg å›¾ç‰‡2.jpg ... å›¾ç‰‡n.jpg æœ€ç»ˆåˆæˆç»“æœ.jpg\n</code></pre><p>åœ¨è¿™æ®µå‘½ä»¤æ ¼å¼ä¸­ï¼Œcompositeå‘½ä»¤çš„å‚æ•°åŒ…å«äº†å¤šä¸ªå›¾ç‰‡æ–‡ä»¶ï¼Œæ¯ä¸ªå›¾ç‰‡éœ€è¦å¯¹ç…§ç€æ–‡ä»¶å°†å›¾ç‰‡çš„è·¯å¾„å’Œæ–‡ä»¶åå†™åœ¨å‚æ•°ä¸­ã€‚å¦‚æœæ‰‹å·¥è¾“å…¥å›¾ç‰‡åç§°ï¼Œä¸ä»…æ•ˆç‡ä½ï¼Œè€Œä¸”å®¹æ˜“é—æ¼ã€‚å¦å¤–ï¼Œå¦‚æœéœ€è¦å¤§é‡é‡å¤ä½¿ç”¨compositeï¼Œè¿˜éœ€è¦ç²¾ç»†è°ƒæ•´åˆå¹¶ç»“æœï¼Œç»™compositeç¨‹åºå¢åŠ å¾ˆå¤šå‚æ•°ã€‚</p><p>å› æ­¤ï¼Œæˆ‘å°±å¯ä»¥é€šè¿‡Pythonè°ƒç”¨å¯æ‰§è¡Œç¨‹åºçš„subprocessåº“ï¼Œå¯¹compositeæ‹¼é•¿å›¾çš„å·¥ä½œè¿›è¡Œè„šæœ¬åŒ–ç¼–ç¨‹ã€‚å®ƒçš„æ ¸å¿ƒå®ç°ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>p = Path(jpg_path)\n\n# å¢åŠ å‘½ä»¤\ncmd = [&quot;composite&quot;,]\n\n# å¢åŠ å‚æ•°\nfor x in p.iterdir() if  PurePath(x).match('*.jpg'):\n    cmd.append(x)\n\n# å¢åŠ ç»“æœ\ncmd.append(result_path)\n\nrun(cmd)\n</code></pre><p>ç”±äºcompositeå¯ä»¥æŠŠé•¿å›¾åˆæˆçš„ç»“æœç›´æ¥è¾“å‡ºä¸ºæ–‡ä»¶ï¼Œå› æ­¤é‡‡ç”¨run()å‡½æ•°å³å¯å®ç°ç¨‹åºæ‰§è¡Œçš„åŠŸèƒ½ã€‚å¦å¤–ï¼Œå½“ä½ éœ€è¦è°ƒæ•´compositeå‚æ•°æ—¶ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹cmdå˜é‡çš„å€¼ï¼Œå¹¶ä¸éœ€è¦æ”¹åŠ¨ç¨‹åºå…¶ä»–éƒ¨åˆ†ã€‚å½“ä½ è¦å¯¹æ–°çš„ä¸€ç»„å›¾ç‰‡è¿›è¡Œåˆæˆçš„æ—¶å€™ï¼Œé‡æ–°è®¾ç½®jpg_pathå˜é‡å°±è¡Œäº†ã€‚</p><p>æ€»ç»“æ¥è¯´ï¼Œä½¿ç”¨Pythonè°ƒç”¨compositeåˆå¹¶çš„å¥½å¤„å°±æ˜¯ï¼šä½ ä¸ç”¨è®°ä½ç¨‹åºä½¿ç”¨çš„ç¹æ‚çš„å‘½ä»¤è¡Œå‚æ•°ï¼Œä¹Ÿä¸ç”¨è®°ä½è¿è¡Œé€»è¾‘ï¼Œå› ä¸ºPythonç¨‹åºå·²ç»äº‹å…ˆæŠŠé€»è¾‘ç¼–å†™å¥½äº†ã€‚</p><h1>è§†é¢‘çš„æ‹†åˆ†ä¸åˆå¹¶</h1><p>åœ¨äº†è§£äº†å¦‚ä½•ä½¿ç”¨subprocessè°ƒç”¨compositeå®ç°é•¿å›¾æ‹¼æ¥ä¹‹åï¼Œæˆ‘å†ç»™ä½ è®²ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨subprocessåº“è°ƒç”¨å¯æ‰§è¡Œç¨‹åºï¼Œæ¥è¿›è¡Œè§†é¢‘çš„æ‹†åˆ†ä¸åˆå¹¶ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥å­¦ä¹ ä¸‹è§†é¢‘æ‹†åˆ†çš„åŸç†ã€‚</p><p>ä½ åœ¨ç”µè„‘æœ¬åœ°ç»å¸¸è§åˆ°çš„è§†é¢‘æ ¼å¼æ˜¯MP4ï¼Œä½†å¦‚æœè¦æŠŠè§†é¢‘æ”¾åœ¨äº’è”ç½‘ä¸Šï¼Œä¸ºäº†å‡å°‘é¦–æ¬¡æ’­æ”¾çš„åŠ è½½æ—¶é—´ï¼Œä½ å°±å¿…é¡»æŠŠä¸€ä¸ªMP4åˆ‡åˆ†æˆå¤šä¸ªæ–‡ä»¶ï¼Œè€Œä¸”åˆ‡åˆ†ä¹‹åè¿˜éœ€è¦æŠŠæ ¼å¼è½¬æ¢ä¸º.TSæ ¼å¼çš„è§†é¢‘æ–‡ä»¶ã€‚</p><p>ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨MP4æ ¼å¼ï¼Œè€Œæ˜¯è¦æŠŠMP4æ ¼å¼æ”¹æˆ.TSæ ¼å¼å‘¢ï¼Ÿè¿™æ˜¯å› ä¸º.TSæ ¼å¼å¯ä»¥ä¿è¯å¤šä¸ªæ–‡ä»¶ä¹‹é—´çš„è§†é¢‘æ— ç¼æ’­æ”¾ï¼Œè€Œä¸”è¿˜ä¼šä¿è¯è§†é¢‘ä¸ä¼šåœ¨æ’­æ”¾ä¸‹ä¸€ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œå‡ºç°ç ´éŸ³æˆ–ç”»é¢ä¸­æ–­ç­‰å½±å“ç”¨æˆ·ä½“éªŒçš„æƒ…å†µã€‚</p><p>å½“æˆ‘ä»¬å°†ä¸€ä¸ªè§†é¢‘åˆ‡åˆ†æˆå¤šä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œå°±è¦è€ƒè™‘æ–‡ä»¶çš„æ’­æ”¾é¡ºåºé—®é¢˜äº†ã€‚ä¸ºäº†è®°å½•é¡ºåºï¼Œæˆ‘ä»¬éœ€è¦åœ¨åˆ‡åˆ†ä¹‹åå¼•å…¥ä¸€ä¸ªç´¢å¼•æ–‡ä»¶ï¼Œè¿™ä¸ªç´¢å¼•æ–‡ä»¶ä¸ç”¨æ‰‹åŠ¨ç¼–å†™ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿FFmpegå‘½ä»¤å°±è¡Œäº†ï¼Œå®ƒå¯ä»¥å®ç°è§†é¢‘æ ¼å¼çš„è½¬æ¢ã€åˆå¹¶å’Œæ‹†åˆ†ã€‚FFmpegå‘½ä»¤ä¼šåœ¨åˆ‡åˆ†ä¹‹åï¼Œè‡ªåŠ¨äº§ç”Ÿä¸€ä¸ªä»¥.M3U8ç»“å°¾çš„ç´¢å¼•æ–‡ä»¶ã€‚</p><p>æˆ‘æ¥è§£é‡Šä¸€ä¸‹è¿™ä¸ªç´¢å¼•æ–‡ä»¶ã€‚M3U8æ–‡ä»¶æ˜¯æŒ‡UDF-8ç¼–ç æ ¼å¼ä¸‹çš„M3Uè§†é¢‘ç´¢å¼•ï¼Œæ’­æ”¾å™¨é€šè¿‡è¿™ä¸ªç´¢å¼•æ–‡ä»¶å°±å¯ä»¥æ‰¾åˆ°è§†é¢‘ä¸‹æ‰€æœ‰çš„åˆ†æ®µï¼Œå¹¶ä¾æ¬¡æ’­æ”¾è§†é¢‘ã€‚</p><p>çœ‹åˆ°è¿™å„¿ä½ åº”è¯¥å°±èƒ½æ˜ç™½äº†ï¼Œæƒ³è¦ä½¿ç”¨Pythonè¿›è¡Œè§†é¢‘æ‹†åˆ†ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦FFmpegå‘½ä»¤ï¼Œç„¶åé€šè¿‡Pythonè®¾ç½®FFmpegçš„å‚æ•°ï¼Œæœ€åå†æŒ‡å®šMP4æ–‡ä»¶å’Œ.TSæ–‡ä»¶çš„è·¯å¾„ï¼Œè¿™æ ·å°±èƒ½å®ç°æ‹†åˆ†è§†é¢‘çš„åŠŸèƒ½äº†ã€‚å› æ­¤æˆ‘ä½¿ç”¨è¿™æ ·çš„ä»£ç æ¥å®ç°è§†é¢‘æ‹†åˆ†ï¼š</p><pre><code>from subprocess import run\ninput_video = &quot;/Users/edz/Desktop/05/xxx.mp4&quot;\nsegment_time = 10\nm3u8_list = &quot;/Users/edz/Desktop/05/xxx.m3u8&quot;\noutput_video = &quot;/Users/edz/Desktop/05/video-%04d.ts&quot;\n\ncmd1 = [&quot;ffmpeg&quot;, &quot;-i&quot;, input_video, &quot;-f&quot;, &quot;segment&quot;, &quot;-segment_time&quot;, str(segment_time), &quot;-segment_format&quot;,\n    &quot;mpegts&quot;, &quot;-segment_list&quot;, m3u8_list, &quot;-c&quot;, &quot;copy&quot;, &quot;-bsf:v&quot;, &quot;h264_mp4toannexb&quot;, &quot;-map&quot;, &quot;0&quot;, output_video]\n\nrun(cmd1)\n\n</code></pre><p>åœ¨ä»£ç ä¸­ï¼Œæˆ‘é€šè¿‡FFmpegæŠŠMP4åˆ‡åˆ†æˆäº†å¤šæ®µTSæ–‡ä»¶ã€‚ä½ è¦æƒ³å®ç°ç›¸åŒåŠŸèƒ½ï¼Œé¦–å…ˆéœ€è¦åœ¨ç”µè„‘ä¸­å®‰è£…FFmpegå‘½ä»¤ï¼Œå®ƒçš„ä¸‹è½½åœ°å€ä¸ºï¼š<a href=\"https://ffmpeg.org/download.html\">https://ffmpeg.org/download.html</a>ã€‚</p><p>ä¸ºäº†å®ç°MP4æ–‡ä»¶æ ¼å¼çš„åˆ†å‰²ï¼Œéœ€è¦ä½¿ç”¨ffmpegéå¸¸å¤šçš„å‚æ•°ã€‚ä¸è¿‡ä½¿ç”¨Pythonè¿›è¡Œè°ƒç”¨çš„å¥½å¤„ï¼Œå°±æ˜¯ä½ ä¸ç”¨è®°ä½å¤æ‚çš„å‚æ•°ã€‚æˆ‘ä»¬æŠŠè¾“å…¥æ–‡ä»¶è·¯å¾„ã€åˆ‡åˆ†å¤§å°ã€è¾“å‡ºçš„M3U8å’ŒTSæ–‡ä»¶æŒ‡å®šä¸ºå››ä¸ªå˜é‡ï¼Œè¿™æ ·åªä¿®æ”¹è¿™å››ä¸ªå˜é‡ï¼Œå°±å¯ä»¥å®ç°æ‹†åˆ†åŠŸèƒ½äº†ã€‚</p><p>å¦‚æœä½ éœ€è¦ç¦»çº¿è§‚çœ‹è§†é¢‘ï¼Œå°±è¦å°†ç½‘ç»œä¸Šçš„è§†é¢‘ä¸‹è½½åˆ°æœ¬åœ°ï¼Œè¿™æ—¶ä½ ä¼šå‘ç°ä»äº’è”ç½‘ä¸‹è½½çš„æ ¼å¼æ˜¯M3U8å’ŒTSæ–‡ä»¶ã€‚é‚£åˆæ€ä¹ˆæŠŠå®ƒä»¬åˆå¹¶æˆMP4æ–‡ä»¶å‘¢ï¼Ÿ</p><p>ä½ åŒæ ·å¯ä»¥ä½¿ç”¨FFmpegå‘½ä»¤ï¼Œä½†æ˜¯FFmpegçš„å‚æ•°ä¸åŒã€‚æˆ‘å°†FFmpegçš„å‘½ä»¤å†™åœ¨è¿™é‡Œï¼š</p><pre><code>ffmpeg -allowed_extensions ALL -protocol_whitelist &quot;file,http,crypto,tcp,https&quot; -i index.m3u8 -c copy out.mp4\n</code></pre><p>å¦‚æœä½ ä¸æƒ³èƒŒè¯µè¿™ä¹ˆé•¿çš„å‚æ•°ï¼Œå®Œå…¨å¯ä»¥ä»¿ç…§Pythonæ•´åˆæ‹†åˆ†è§†é¢‘çš„ä»£ç æ¥å®ç°åˆå¹¶åŠŸèƒ½ã€‚å…ˆFFmpegå‘½ä»¤å’Œå‚æ•°æ”¾å…¥åˆ—è¡¨ï¼Œå†æŠŠM3U8æ–‡ä»¶å’ŒMP4æ–‡ä»¶æ”¾å…¥å˜é‡ï¼Œä¾¿äºä½ åˆå¹¶æ–°çš„è§†é¢‘çš„æ—¶å€™è¿›è¡Œé‡æ–°èµ‹å€¼ã€‚</p><p>æ‰€ä»¥ä½ çœ‹ï¼Œç›¸æ¯”ç›´æ¥ä½¿ç”¨FFmpegï¼Œsubprocessè°ƒç”¨FFmpegçš„ä¼˜åŠ¿å°±åœ¨äºä¸¤ç‚¹ï¼Œä¸€æ˜¯ä¸ç”¨è®°ä½å¤æ‚å‚æ•°ï¼ŒäºŒæ˜¯å¯¹æ‰¹é‡è½¬æ¢è§†é¢‘éå¸¸æœ‰åˆ©ã€‚ä¸¾ä¸¤ä¸ªä¾‹å­ã€‚</p><p>å¦‚æœä½ æ˜¯è§†é¢‘å‰ªè¾‘çš„ä¸“ä¸šå·¥ä½œè€…ï¼Œè‚¯å®šè¦å¤§é‡ä½¿ç”¨FFmpegæ›´å¤æ‚çš„åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½å¯¹åº”çš„å‚æ•°ä¸€èˆ¬éƒ½æ¯”è¾ƒå¤šï¼Œè€Œä¸”å‚æ•°å¾ˆå¤šéƒ½ä½¿ç”¨äº†ç®€å†™å’Œå¤§å°å†™, å¾ˆéš¾è®°å¿†ã€‚ä½†è¦æ˜¯ä½¿ç”¨Pythonè°ƒç”¨çš„è¯ï¼Œä½ å¯ä»¥ç›´æ¥æ›´æ”¹è¦æ“ä½œçš„æ–‡ä»¶è·¯å¾„ï¼Œå°±ä¸å¿…è®°å½•å¤§é‡çš„å‚æ•°ã€‚</p><p>å¦å¤–éœ€è¦è¿›è¡Œè§†é¢‘çš„æ‰¹é‡è½¬æ¢æ—¶ï¼Œå¯ä»¥é€šè¿‡ç¬¬ä¸€è®²çš„å¾ªç¯æ“ä½œå¯¹è§†é¢‘ä»»åŠ¡æ‰¹é‡å¤„ç†ï¼Œè¿™æ ·å°±é¿å…äº†æ‰‹åŠ¨é€ä¸ªä¿®æ”¹ä¹¦å†™æ–‡ä»¶çš„æ“ä½œï¼Œä»è€Œæé«˜è§†é¢‘è½¬æ¢çš„æ•ˆç‡ã€‚</p><h1>å°ç»“</h1><p>æœ€åï¼Œæˆ‘æ¥ä¸ºä½ æ€»ç»“ä¸€ä¸‹è¿™èŠ‚è¯¾çš„ä¸»è¦å†…å®¹ã€‚</p><p>é€šè¿‡å¯¹subprocessåº“çš„è®²è§£ï¼Œä½ çŸ¥é“äº†æ€æ ·é€šè¿‡å®ƒå®ç°PythonåŠ è½½å¤–éƒ¨å¯æ‰§è¡Œç¨‹åºï¼Œå¹¶ä¸”èƒ½å¤Ÿå¯¹ç¨‹åºæ‰§è¡Œçš„ç»“æœè¿›è¡Œå¤„ç†ã€‚</p><p>æˆ‘ä¹Ÿä¸ºä½ è®²è§£äº†é•¿å›¾æ‹¼æ¥å’Œè§†é¢‘æ‹†åˆ†åˆå¹¶çš„ä¸¤ä¸ªæ¡ˆä¾‹ï¼Œå¸®ä½ æ›´å¥½åœ°ç†è§£Pythonä¸ºä»€ä¹ˆä¼šè¢«ç§°ä½œâ€œèƒ¶æ°´â€è¯­è¨€ã€‚</p><p>æˆ‘è¿˜æƒ³å¼ºè°ƒä¸€ä¸‹ï¼Œé€šè¿‡Pythonè°ƒç”¨å¯æ‰§è¡Œç¨‹åºçš„ç”¨æ³•éå¸¸å¸¸è§ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤šåª’ä½“å¤„ç†ã€è‡ªç„¶ç§‘å­¦ã€AIç­‰é¢†åŸŸé‡Œã€‚åœ¨è¿™äº›ä¸“ä¸šé¢†åŸŸï¼Œä¸ºäº†åŠ å¿«è®¡ç®—é€Ÿåº¦ï¼Œé€šå¸¸ä¼šä½¿ç”¨C++è¯­è¨€å®ç°ä¸“ä¸šç¨‹åºã€‚</p><p>è¿™äº›ä¸“ä¸šç¨‹åºå‚æ•°å¤šã€åŠŸèƒ½å•ä¸€ï¼Œä¸”ä½¿ç”¨å‘½ä»¤è¡Œæ‰§è¡Œï¼Œå½“ä½ éœ€è¦å¤šæ¬¡æ‰§è¡Œè¿™äº›ç¨‹åºï¼Œåˆä¸æƒ³èƒŒè¯µå®ƒä»¬çš„å‚æ•°çš„æ—¶å€™ï¼Œå°±å¯ä»¥åˆ©ç”¨Pythonçš„åˆ¤æ–­å¾ªç¯åŠŸèƒ½ï¼Œç»“åˆC++è¯­è¨€å®ç°çš„ä¸“ä¸šç¨‹åºï¼Œæ¥å®ç°æ‰¹é‡æ‰§è¡Œå’Œå‡å°‘å‚æ•°æ‰‹åŠ¨è¾“å…¥çš„å·¥ä½œï¼Œæé«˜ä½ çš„å·¥ä½œæ•ˆç‡ã€‚</p><p>æœ€åï¼Œæˆ‘ä¹ŸæŠŠè¿™èŠ‚è¯¾çš„ä»£ç é™„ä¸Šï¼Œä½ å¯ä»¥æŸ¥çœ‹ã€‚<a href=\"https://github.com/wilsonyin123/python_productivity/blob/main/%E6%96%87%E7%AB%A05%E4%BB%A3%E7%A0%81.zip\">æœ¬è®²ä»£ç </a></p><h1>æ€è€ƒé¢˜</h1><p>åœ¨æœ€åä¹Ÿè¯·ä½ æ€è€ƒä¸€ä¸‹ï¼Œä½ åœ¨å·¥ä½œå½“ä¸­æ˜¯å¦ä¼šä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·å‘¢ï¼Ÿå®ƒä»¬èƒ½å¦ç”¨Pythonè¿›è¡ŒåŒ…è£…ï¼Œä»è€Œé¿å…æ‰‹å†™å¤æ‚å‚æ•°å‘¢ï¼Ÿ</p><p>å¦‚æœä½ è§‰å¾—è¿™èŠ‚è¯¾æœ‰ç”¨ï¼Œèƒ½è§£å†³ä½ çš„åŠå…¬æ•ˆç‡é—®é¢˜ï¼Œæ¬¢è¿ä½ ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€ï¼Œåˆ†äº«ç»™ä½ çš„æœ‹å‹æˆ–åŒäº‹ã€‚</p>","neighbors":{"left":{"article_title":"04 |  å‡½æ•°ä¸å­—å…¸ï¼šå¦‚ä½•å®ç°å¤šæ¬¡æ›¿æ¢","id":343457},"right":{"article_title":"06 | jiebaåˆ†è¯ï¼šå¦‚ä½•åŸºäºæ„Ÿæƒ…è‰²å½©è¿›è¡Œå•è¯æ•°é‡ç»Ÿè®¡ï¼Ÿ","id":345158}},"comments":[{"had_liked":false,"id":284367,"user_name":"SWC603","can_delete":false,"product_type":"c1","uid":2442565,"ip_address":"","ucode":"3BD12A75A15A9A","user_header":"","comment_is_top":false,"comment_ctime":1616213988,"is_pvip":false,"replies":[{"id":"103320","content":"ä½ å¥½ï¼Œå¯¹äºexcelä¸­çš„å›¾ç‰‡å¤„ç†ï¼Œæ­¥éª¤æ¯”è¾ƒå¤šï¼Œä½†æ˜¯æ“ä½œä¸éš¾ã€‚<br>é¦–å…ˆä½ éœ€è¦å°†excelæ–‡ä»¶çš„æ‰©å±•åæ”¹æˆzipæ ¼å¼ï¼Œ<br>ç„¶åå¯¹zipæ ¼å¼è¿›è¡Œè§£å‹ç¼©<br>åˆ©äºæˆ‘åœ¨åé¢è®²è§£çš„éå†æ–‡ä»¶çš„æ–¹å¼æ‰¾åˆ°å›¾ç‰‡ï¼Œå¹¶æ›¿æ¢æˆæ–°çš„å›¾ç‰‡<br>æœ€åï¼Œå†å°†æ–‡ä»¶å¤¹æ‰“åŒ…å›zipå¹¶é‡å‘½åä¸ºxlsx<br>","user_name":"ä½œè€…å›å¤","user_name_real":"å°¹ä¼šç”Ÿ","uid":"1056235","ctime":1616491716,"ip_address":"","comment_id":284367,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23091050468","product_id":100071001,"comment_content":"è€å¸«ï¼Œæ˜¯å¦å¯ä»¥åˆ©ç”¨python ä¸€æ¬¡éæ‰¹é‡æ›´æ”¹excelä¸­çš„å…¬å¸logo? å› åŸæœ‰excel æª”ä¸­å…¬å¸logoæ›´æ”¹äº†æ–°è¨­è¨ˆã€‚ è¬è¬ä½ ï¼","like_count":6,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"å°¹ä¼šç”Ÿ","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517321,"discussion_content":"ä½ å¥½ï¼Œå¯¹äºexcelä¸­çš„å›¾ç‰‡å¤„ç†ï¼Œæ­¥éª¤æ¯”è¾ƒå¤šï¼Œä½†æ˜¯æ“ä½œä¸éš¾ã€‚\né¦–å…ˆä½ éœ€è¦å°†excelæ–‡ä»¶çš„æ‰©å±•åæ”¹æˆzipæ ¼å¼ï¼Œ\nç„¶åå¯¹zipæ ¼å¼è¿›è¡Œè§£å‹ç¼©\nåˆ©äºæˆ‘åœ¨åé¢è®²è§£çš„éå†æ–‡ä»¶çš„æ–¹å¼æ‰¾åˆ°å›¾ç‰‡ï¼Œå¹¶æ›¿æ¢æˆæ–°çš„å›¾ç‰‡\næœ€åï¼Œå†å°†æ–‡ä»¶å¤¹æ‰“åŒ…å›zipå¹¶é‡å‘½åä¸ºxlsx\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616491716,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":279409,"user_name":"å°åŒš","can_delete":false,"product_type":"c1","uid":1611663,"ip_address":"","ucode":"78E800B23C457A","user_header":"https://static001.geekbang.org/account/avatar/00/18/97/8f/ccce7df1.jpg","comment_is_top":false,"comment_ctime":1613754975,"is_pvip":false,"replies":[{"id":"101624","content":" Windowsæ˜¯ä¸è¡Œçš„å“¦ï¼Œè¿™ä¸ªè½¯ä»¶æ˜¯ Linuxå’ŒMACä¸‹è¾¹å®ç° photoshopçš„ä¸€ä¸ªå·¥å…·ï¼Œä¸»æ‰“çš„å°±æ˜¯é€šè¿‡å‘½ä»¤è¡Œè¿›è¡Œæ‰¹é‡å¤„ç†ã€‚åœ¨windowsä¸‹æƒ³å®ç°è¿™ç§åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨photoshopçš„â€œåŠ¨ä½œâ€æ¥å®Œæˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å°¹ä¼šç”Ÿ","uid":"1056235","ctime":1613973803,"ip_address":"","comment_id":279409,"utype":1}],"discussion_count":3,"race_medal":0,"score":"14498656863","product_id":100071001,"comment_content":"å¼±å¼±çš„é—®ä¸€å¥Windowsç”¨æˆ·å¯ä»¥ä¸ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"å°¹ä¼šç”Ÿ","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515729,"discussion_content":" Windowsæ˜¯ä¸è¡Œçš„å“¦ï¼Œè¿™ä¸ªè½¯ä»¶æ˜¯ Linuxå’ŒMACä¸‹è¾¹å®ç° photoshopçš„ä¸€ä¸ªå·¥å…·ï¼Œä¸»æ‰“çš„å°±æ˜¯é€šè¿‡å‘½ä»¤è¡Œè¿›è¡Œæ‰¹é‡å¤„ç†ã€‚åœ¨windowsä¸‹æƒ³å®ç°è¿™ç§åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨photoshopçš„â€œåŠ¨ä½œâ€æ¥å®Œæˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613973803,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2436219,"avatar":"https://static001.geekbang.org/account/avatar/00/25/2c/7b/af5a711f.jpg","nickname":"æ¢å¥","note":"","ucode":"5A370A6156A3C3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350370,"discussion_content":"æˆ‘æ‰¾äº†ä¸€äº›æ•™ç¨‹ï¼Œéƒ½ä¸å¤ªè¡Œï¼ˆå¯æ€œï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613827397,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1611663,"avatar":"https://static001.geekbang.org/account/avatar/00/18/97/8f/ccce7df1.jpg","nickname":"å°åŒš","note":"","ucode":"78E800B23C457A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2436219,"avatar":"https://static001.geekbang.org/account/avatar/00/25/2c/7b/af5a711f.jpg","nickname":"æ¢å¥","note":"","ucode":"5A370A6156A3C3","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350391,"discussion_content":"ğŸ˜©å½“æ—¶æˆ‘æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯æ‰¹é‡ç‚¹ä¸€å †æŒ‰é’®è°·æ­Œæµè§ˆå™¨ä¼šå¼¹å‡ºæ‰“å°æ¡†ï¼Œå†ç‚¹æ‰“å°ï¼Œå‘ç°Pythonå¤„ç†ä¸æ¥ã€‚Pythonç›´æ¥æ‰“å°pdfçš„åŠŸèƒ½ï¼Œæ²¡åŠæ³•è°ƒèŠ‚è¾¹è·å•¥çš„ï¼Œå…‰æ•ˆä¹Ÿèƒ½çœ‹å‡ºæ¥å‡å‡çš„ã€‚ã€‚\nç ”ç©¶äº†ä¸€ä¸ªå°æ—¶å·¦å³ï¼Œæœ€ååŠä¸ªå°æ—¶äººå·¥è§£å†³çš„ğŸ˜‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613833999,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":350370,"ip_address":""},"score":350391,"extra":""}]}]},{"had_liked":false,"id":325354,"user_name":"å¤©å›½ä¹‹å½±","can_delete":false,"product_type":"c1","uid":1252620,"ip_address":"","ucode":"FBCB451EF0BA23","user_header":"https://static001.geekbang.org/account/avatar/00/13/1d/0c/c438c5df.jpg","comment_is_top":false,"comment_ctime":1638929924,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5933897220","product_id":100071001,"comment_content":"Windowsä¸‹çš„é•¿å›¾æ‹¼æ¥ä»£ç ç¤ºä¾‹ï¼ˆå®‰è£…ImageMagickè½¯ä»¶ï¼Œå®‰è£…å‚è€ƒåšå®¢ï¼šhttps:&#47;&#47;blog.csdn.net&#47;qq_37674858&#47;article&#47;details&#47;80361860ï¼‰ï¼š<br><br>from pathlib import Path, PurePath <br>from subprocess import run<br><br>jpg_path = &#39;data&#47;ch04&#39;<br>result_path = &#39;data&#47;ch04&#47;result.jpg&#39;<br>p = Path(jpg_path)<br><br># ä½¿ç”¨å‘½ä»¤<br>cmd = [&#39;magick&#39;, &#39;convert&#39;, &#39;-append&#39;]<br><br># å¢åŠ å‚æ•°<br>for x in p.iterdir(): <br>    if PurePath(x).match(&#39;*.jpg&#39;):<br>        cmd.append(x)<br>    <br># å¢åŠ æ‹¼æ¥ç»“æœ<br>cmd.append(result_path)<br><br>run(cmd, shell=True)","like_count":1,"discussions":[{"author":{"id":2367914,"avatar":"https://static001.geekbang.org/account/avatar/00/24/21/aa/3b1dbca7.jpg","nickname":"åšæœ","note":"","ucode":"480E112DF49A6A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":555658,"discussion_content":"TypeError: argument of type &#39;WindowsPath&#39; is not iterable\næ”¹ä¸º cmd.append(xas_posix())ä»ç”Ÿæˆä¸äº†result.jpg\n$convert image1.jpg image2.jpg image3.jpg -gravity south -append result.jpg\nä¼ å‚ä½ç½®æœ‰é—®é¢˜ï¼Œæ”¹ä¸º\nfrom pathlib import Path, PurePath \nfrom subprocess import run\n\njpg_path = &#39;C:/Users/thinkpad/Pictures/å…¨å±çœ‹å›¾&#39;\nresult_path = &#39;C:/Users/thinkpad/Pictures/å…¨å±çœ‹å›¾/result2.jpg&#39;\np = Path(jpg_path)\n\n# ä½¿ç”¨å‘½ä»¤\ncmd = [&#39;magick&#39;, &#39;convert&#39;]\n\n# å¢åŠ å‚æ•°\nfor x in p.iterdir(): \n    if PurePath(x).match(&#39;*.jpg&#39;):\n        cmd.append(x.as_posix())\ncmd.extend([&#39;-append&#39;,result_path])\nrun(cmd,shell=True)\nè¿˜æ˜¯ç”Ÿæˆä¸äº†result.jpg,è¯·è€å¸ˆæŒ‡ç‚¹ä¸‹\n\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647008385,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300121,"user_name":"å½­å®è±ª95","can_delete":false,"product_type":"c1","uid":1009404,"ip_address":"","ucode":"F2CC76BE498BCE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/66/fc/f057944a.jpg","comment_is_top":false,"comment_ctime":1625015402,"is_pvip":false,"replies":[{"id":"109632","content":"ä½ å¥½ï¼Œè¦è€ƒè™‘æ‹¼æ¥é¡ºåºï¼Œç¡®å®æ˜¯éœ€è¦åœ¨æ–‡ä»¶ååšæ–‡ç« çš„ã€‚<br>è¿™ä¹Ÿæ˜¯å‘½ä»¤è¡Œå·¥å…·èƒ½å¤Ÿæ‰¹é‡åŒ–ä½†æ˜¯æ²¡æœ‰å¯è§†åŒ–å·¥å…·äººæ€§åŒ–çš„åœ°æ–¹ï¼Œæœ‰å–æœ‰èˆ","user_name":"ä½œè€…å›å¤","user_name_real":"å°¹ä¼šç”Ÿ","uid":"1056235","ctime":1626489778,"ip_address":"","comment_id":300121,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5919982698","product_id":100071001,"comment_content":"è€å¸ˆå¥½ï¼Œé•¿å›¾æ‹¼æ¥å¦‚æœè¦è®¾ç½®å›¾ç‰‡æ‹¼æ¥çš„å…ˆåé¡ºåºï¼Œæ˜¯ä¸æ˜¯å›¾ç‰‡å‘½åè¦è§„èŒƒä¸€äº›ï¼Œæ¯”å¦‚å‡ºç°æ•°å­— 1ã€2ã€3ã€4 ä¹‹ç±»çš„ï¼Œç„¶åä¹¦å†™çš„ python ç¨‹åºä¹Ÿè¦æ·»åŠ ç›¸åº”çš„å‚æ•°å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"å°¹ä¼šç”Ÿ","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522648,"discussion_content":"ä½ å¥½ï¼Œè¦è€ƒè™‘æ‹¼æ¥é¡ºåºï¼Œç¡®å®æ˜¯éœ€è¦åœ¨æ–‡ä»¶ååšæ–‡ç« çš„ã€‚\nè¿™ä¹Ÿæ˜¯å‘½ä»¤è¡Œå·¥å…·èƒ½å¤Ÿæ‰¹é‡åŒ–ä½†æ˜¯æ²¡æœ‰å¯è§†åŒ–å·¥å…·äººæ€§åŒ–çš„åœ°æ–¹ï¼Œæœ‰å–æœ‰èˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626489778,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345371,"user_name":"stark","can_delete":false,"product_type":"c1","uid":1143399,"ip_address":"","ucode":"ADC5C2AE5B97C8","user_header":"https://static001.geekbang.org/account/avatar/00/11/72/67/aa52812a.jpg","comment_is_top":false,"comment_ctime":1652237603,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652237603","product_id":100071001,"comment_content":"æ‹¼æ¥é•¿å›¾çš„é‚£ä¸ªæ²¡æœ‰æˆåŠŸ ï¼Œé”™è¯¯æç¤ºFileNotFoundError: [Errno 2] No such file or directory: &#39;composite&#39;ï¼Œ<br><br>from pathlib import Path, PurePath<br>from subprocess import run<br><br>jpg_path = &#39;&#47;Users&#47;stark&#47;Desktop&#47;long_pic&#39;;<br>p = Path(jpg_path)<br><br># å¢åŠ å‘½ä»¤<br>cmd = [&quot;composite&quot;,&quot;&#47;Users&#47;stark&#47;Desktop&#47;long_pic&#47;WechatIMG427.jpeg&quot;,&quot;&#47;Users&#47;stark&#47;Desktop&#47;long_pic&#47;WechatIMG431.jpeg&quot;]<br><br>for x in p.iterdir() :<br>    if PurePath(x).match(&#39;*.jpeg&#39;):<br>        print(x);<br><br>result_path = &#39;&#47;Users&#47;stark&#47;Desktop&#47;long_pic&#47;result.jpeg&#39;;<br>cmd.append(result_path)<br><br>run(cmd)<br>","like_count":0},{"had_liked":false,"id":342041,"user_name":"data","can_delete":false,"product_type":"c1","uid":1010493,"ip_address":"","ucode":"4EEC3CE11E65F8","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6b/3d/ae41c2b3.jpg","comment_is_top":false,"comment_ctime":1649987861,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1649987861","product_id":100071001,"comment_content":"è¯·é—®ä¸‹è€å¸ˆ , Macä¸‹ <br>from subprocess import run<br><br>cmd1 = [&quot;ls&quot;, &quot;.&quot;]<br>returncode = run(&quot;ls&quot;, &quot;.&quot;, shell=True)<br><br>print(returncode)<br><br>ImportError: cannot import name &#39;run&#39; from &#39;subprocess&#39; ","like_count":0},{"had_liked":false,"id":340702,"user_name":"Geek_d4577b","can_delete":false,"product_type":"c1","uid":2957676,"ip_address":"","ucode":"839D3D1A0699B4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/j9hnRQ0xcmlMyLgdfCuDww7xWWmfxZnWMzZdBNOlR1GUL9kRYpc6MNR5nos2GY5EKCmC8Z9gcnToFKe356pHibQ/132","comment_is_top":false,"comment_ctime":1649061083,"is_pvip":false,"replies":[{"id":"124568","content":"å¼€ç¯‡è¯ã€01-03æ–‡ç« åº•éƒ¨éƒ½æœ‰é“¾æ¥<br><br>ä¸“æ çš„å®Œæ•´ä»£ç ä½ç½®æ˜¯https:&#47;&#47;github.com&#47;wilsonyin123&#47;python_productivityï¼Œå¯ç‚¹å‡»é“¾æ¥ä¸‹è½½æŸ¥çœ‹ã€‚<br><br>æˆ–è€…é€šè¿‡ç½‘ç›˜é“¾æ¥æå–åä¸‹è½½ï¼Œé“¾æ¥æ˜¯: https:&#47;&#47;pan.baidu.com&#47;s&#47;1UvEKDCGnU6yb0a7gHLSE4Q?pwd=5wf1ï¼Œæå–ç : 5wf1ã€‚","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ç¼–è¾‘","uid":"2189689","ctime":1649062852,"ip_address":"","comment_id":340702,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1649061083","product_id":100071001,"comment_content":"è€å¸ˆï¼Œè¯¾ç¨‹æ— ä»£ç åŒ…é‡Œï¼Œæ²¡æœ‰æ‹¼æ¥å›¾ç‰‡çš„ä»£ç ï¼Œèƒ½è¡¥å……ä¸€ä¸‹å—","like_count":0,"discussions":[{"author":{"id":2189689,"avatar":"https://static001.geekbang.org/account/avatar/00/21/69/79/b4132042.jpg","nickname":"ğŸ‘","note":"","ucode":"DE34B3B14287D1","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":559930,"discussion_content":"å¼€ç¯‡è¯ã€01-03æ–‡ç« åº•éƒ¨éƒ½æœ‰é“¾æ¥\n\nä¸“æ çš„å®Œæ•´ä»£ç ä½ç½®æ˜¯https://github.com/wilsonyin123/python_productivityï¼Œå¯ç‚¹å‡»é“¾æ¥ä¸‹è½½æŸ¥çœ‹ã€‚\n\næˆ–è€…é€šè¿‡ç½‘ç›˜é“¾æ¥æå–åä¸‹è½½ï¼Œé“¾æ¥æ˜¯: https://pan.baidu.com/s/1UvEKDCGnU6yb0a7gHLSE4Q?pwd=5wf1ï¼Œæå–ç : 5wf1ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649062853,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":301596,"user_name":"somenzz","can_delete":false,"product_type":"c1","uid":1187197,"ip_address":"","ucode":"EA59A170DF8910","user_header":"https://static001.geekbang.org/account/avatar/00/12/1d/7d/368df396.jpg","comment_is_top":false,"comment_ctime":1625755642,"is_pvip":false,"replies":[{"id":"109631","content":"windowså¯ä»¥ä½¿ç”¨subprocessä½†ä¸å¯ä½¿ç”¨forkï¼Œæ˜¯ä¸æ˜¯æ–‡ç« ä¸­çš„æè¿°ç»™ä½ é€ æˆäº†è¯¯è§£ï¼Ÿ<br>å‚è€ƒåœ°å€<br>https:&#47;&#47;docs.python.org&#47;zh-cn&#47;3&#47;library&#47;subprocess.html","user_name":"ä½œè€…å›å¤","user_name_real":"å°¹ä¼šç”Ÿ","uid":"1056235","ctime":1626489670,"ip_address":"","comment_id":301596,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1625755642","product_id":100071001,"comment_content":"èƒ½å¦æä¾›ä¸‹ä¸å€ŸåŠ© subprocess è°ƒç”¨å¤–éƒ¨å·¥å…·åˆå¹¶é•¿å›¾çš„ä»£ç å•Šï¼Œæˆ‘è¿™é‡Œæ˜¯ Windows ç”¨æˆ·ã€‚","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"å°¹ä¼šç”Ÿ","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":523037,"discussion_content":"windowså¯ä»¥ä½¿ç”¨subprocessä½†ä¸å¯ä½¿ç”¨forkï¼Œæ˜¯ä¸æ˜¯æ–‡ç« ä¸­çš„æè¿°ç»™ä½ é€ æˆäº†è¯¯è§£ï¼Ÿ\nå‚è€ƒåœ°å€\nhttps://docs.python.org/zh-cn/3/library/subprocess.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626489670,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1187197,"avatar":"https://static001.geekbang.org/account/avatar/00/12/1d/7d/368df396.jpg","nickname":"somenzz","note":"","ucode":"EA59A170DF8910","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386178,"discussion_content":"æˆ‘çš„æ„æ€æ˜¯ä½ å‹æ ¹æ²¡æ•™æ€ä¹ˆç”¨ python æ‹¼æ¥é•¿å›¾ï¼Œè€Œæ˜¯ç”¨çš„ ImageMagickï¼Œè¯·é—® windows æœ‰ ImageMagick å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627456177,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":287289,"user_name":"èŒƒ","can_delete":false,"product_type":"c1","uid":1574450,"ip_address":"","ucode":"D115514B2AA5CC","user_header":"https://static001.geekbang.org/account/avatar/00/18/06/32/3de6a189.jpg","comment_is_top":false,"comment_ctime":1617869916,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1617869916","product_id":100071001,"comment_content":"å€ŸåŠ©äºsubprocessåº“ï¼Œç­‰åŒäºåå°æ‰§è¡Œwindowså¹³å°çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œåªä¸è¿‡æ˜¯å°†å‘½ä»¤è¡Œå‚æ•°å°è£…åˆ°ä»£ç é‡Œã€‚èƒ½åšèŒƒå›´æ¯”è¾ƒå¹¿ï¼Œå¯ä»¥æ˜¯æ‰§è¡Œç”µè„‘å·²å®‰è£…è½¯ä»¶ï¼Œä¹Ÿå¯ä»¥æ‰§è¡Œè‡ªå®šä¹‰çš„åŠŸèƒ½ï¼ˆæ¯”å¦‚å¼€å‘çš„exeæ–‡ä»¶ï¼‰","like_count":0},{"had_liked":false,"id":282308,"user_name":"èµ¤ã„æ‚ªé­”","can_delete":false,"product_type":"c1","uid":1507299,"ip_address":"","ucode":"9DE42BBA5F780C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLM0zwERwtGScrdDo97baWgWyhHicajIQqWtVQhALGt6bF5nYG67BOg1lArTEJ0xf7PzfpF360vHog/132","comment_is_top":false,"comment_ctime":1615192643,"is_pvip":false,"replies":[{"id":"102528","content":"æˆ‘è§£é‡Šä¸€ä¸‹æŠ¥é”™çš„åŸå› ï¼Œæ˜¯å› ä¸ºlså‘½ä»¤åœ¨è¿è¡Œçš„æ—¶å€™éœ€è¦ç¯å¢ƒå˜é‡ï¼Œè€Œç¯å¢ƒå˜é‡æ˜¯å­˜åœ¨äºshellä¸­çš„ã€‚æ‰€ä»¥éœ€è¦å¢åŠ shell=Trueã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å°¹ä¼šç”Ÿ","uid":"1056235","ctime":1615206760,"ip_address":"","comment_id":282308,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1615192643","product_id":100071001,"comment_content":"MacOS<br>cmd1 = [&quot;ls&quot;, &quot;.&quot;]<br>returncode = run(cmd1)<br>æŠ¥é”™ï¼Œæ›¿æ¢äº†<br>returncode = run(&#39;ls&#39;, &#39;.&#39;, shell=True)<br>","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"å°¹ä¼šç”Ÿ","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516695,"discussion_content":"æˆ‘è§£é‡Šä¸€ä¸‹æŠ¥é”™çš„åŸå› ï¼Œæ˜¯å› ä¸ºlså‘½ä»¤åœ¨è¿è¡Œçš„æ—¶å€™éœ€è¦ç¯å¢ƒå˜é‡ï¼Œè€Œç¯å¢ƒå˜é‡æ˜¯å­˜åœ¨äºshellä¸­çš„ã€‚æ‰€ä»¥éœ€è¦å¢åŠ shell=Trueã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615206760,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":279624,"user_name":"xiaocao","can_delete":false,"product_type":"c1","uid":1726982,"ip_address":"","ucode":"1806DC03F4F871","user_header":"https://static001.geekbang.org/account/avatar/00/1a/5a/06/eb432b01.jpg","comment_is_top":false,"comment_ctime":1613877733,"is_pvip":false,"replies":[{"id":"101619","content":"å¤–éƒ¨å‘½ä»¤åŠŸèƒ½ï¼Œå¯ä»¥è°ƒç”¨ä»»ä½•å‘½ä»¤è¡Œæ‰§è¡Œçš„å‘½ä»¤ï¼Œæœ€å¸¸è§çš„å°±æ˜¯æ–‡ä»¶æ“ä½œç±»å‘½ä»¤ï¼Œ windowså¯ä»¥é€šè¿‡cmdå‘½ä»¤ä½œä¸ºå…³é”®å­—æœç´¢ï¼Œmacå¯ä»¥é€šè¿‡shellè„šæœ¬ä½œä¸ºå…³é”®å­—æœç´¢åˆ°","user_name":"ä½œè€…å›å¤","user_name_real":"å°¹ä¼šç”Ÿ","uid":"1056235","ctime":1613973225,"ip_address":"","comment_id":279624,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1613877733","product_id":100071001,"comment_content":"å¦å¤–é—®ä¸€ä¸‹ï¼šå¤–éƒ¨å‘½ä»¤è¿˜å¯ä»¥è°ƒç”¨å“ªäº›?å¦‚ä½•æŸ¥æ‰¾å’Œå­¦ä¹ ?","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"å°¹ä¼šç”Ÿ","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515802,"discussion_content":"å¤–éƒ¨å‘½ä»¤åŠŸèƒ½ï¼Œå¯ä»¥è°ƒç”¨ä»»ä½•å‘½ä»¤è¡Œæ‰§è¡Œçš„å‘½ä»¤ï¼Œæœ€å¸¸è§çš„å°±æ˜¯æ–‡ä»¶æ“ä½œç±»å‘½ä»¤ï¼Œ windowså¯ä»¥é€šè¿‡cmdå‘½ä»¤ä½œä¸ºå…³é”®å­—æœç´¢ï¼Œmacå¯ä»¥é€šè¿‡shellè„šæœ¬ä½œä¸ºå…³é”®å­—æœç´¢åˆ°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613973225,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":279572,"user_name":"æ¢å¥","can_delete":false,"product_type":"c1","uid":2436219,"ip_address":"","ucode":"5A370A6156A3C3","user_header":"https://static001.geekbang.org/account/avatar/00/25/2c/7b/af5a711f.jpg","comment_is_top":false,"comment_ctime":1613827364,"is_pvip":false,"replies":[{"id":"101622","content":"å…ˆä¸è¦ç—›å½»å¿ƒæ‰‰ï¼Œæˆ‘åœ¨è¿™èŠ‚è¯¾ä¸»è¦æƒ³æŠŠè°ƒç”¨å¤–éƒ¨å‘½ä»¤çš„æ–¹å¼äº¤ç»™ä½ ï¼Œwindowsä¸‹ä¹Ÿæœ‰å¾ˆå¤šè½¯ä»¶æ”¯æŒå‘½ä»¤è¡Œçš„ï¼Œæœ€å¸¸è§çš„å°±æ˜¯æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„æ“ä½œå‘½ä»¤ã€‚ä½ å¯ä»¥é€šè¿‡æœç´¢å¼•æ“æœç´¢windows å‘½ä»¤è¡Œè‡ªå¸¦çš„å‘½ä»¤ï¼Œæ¥æ‰¾åˆ°ä»–ä»¬ã€‚åœ¨æˆ‘å·¥ä½œçš„æ—©æœŸï¼Œæ¥è§¦çš„æœåŠ¡å™¨å¤§éƒ¨åˆ†å°±æ˜¯windowsçš„æ“ä½œç³»ç»Ÿï¼Œæˆ‘éœ€è¦è¿›è¡Œå®šæ—¶ä»»åŠ¡å’Œå„ç§å¤æ‚ä»»åŠ¡çš„ç¼–æ’çš„æ—¶å€™ï¼Œéƒ½ä¼šé€šè¿‡cmdå‘½ä»¤è¡Œçš„å‘½ä»¤æ¥å®Œæˆã€‚æœ‰äº†Pythonè¿›è¡Œå°è£…ä¹‹åï¼Œè¿™äº›å‘½ä»¤è‚¯å®šæ›´å¥½ç”¨äº†ã€‚ä½ å¯ä»¥å»äº†è§£ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"å°¹ä¼šç”Ÿ","uid":"1056235","ctime":1613973486,"ip_address":"","comment_id":279572,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1613827364","product_id":100071001,"comment_content":"æˆ‘å®¢è§‚åœ°è¯´ä¸ªå­˜åœ¨çš„é—®é¢˜ï¼Œæ‚¨ä½¿ç”¨Mac OSçš„æ“ä½œç³»ç»Ÿä¸‹çš„ ImageMagickè¿›è¡Œæ•™å­¦ï¼Œè¿™ç»™æˆ‘ä»¬è¿™äº›windowsç”¨æˆ·å¸¦æ¥å¾ˆå¤šçš„ä¸æ–¹ä¾¿ï¼Œå‘½ä»¤è¡Œæ‰§è¡Œä¸Šè¿™ä¸¤ä¸ªç³»ç»Ÿçš„å‘½ä»¤å®Œå…¨ä¸ä¸€æ ·ï¼ˆå“­äº†ï¼‰ï¼Œæˆ‘æ‰¾äº†å¥½å¤šæ•™ç¨‹éƒ½æ²¡æ‰¾åˆ°å¥½çš„è§£å†³åŠæ³•ã€‚å¸Œæœ›åé¢çš„å†…å®¹è¿˜æ˜¯èƒ½å¤Ÿå¤šåœ¨Windowsä¸Šåšã€‚psï¼šä»Šå¤©è¿™è¯¾æ˜¯å­¦çš„åˆ°ç°åœ¨æœ€çƒ¦ç‡¥çš„ä¸€èŠ‚ï¼ˆç—›å½»å¿ƒæ‰‰ï¼‰ã€‚","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"å°¹ä¼šç”Ÿ","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515776,"discussion_content":"å…ˆä¸è¦ç—›å½»å¿ƒæ‰‰ï¼Œæˆ‘åœ¨è¿™èŠ‚è¯¾ä¸»è¦æƒ³æŠŠè°ƒç”¨å¤–éƒ¨å‘½ä»¤çš„æ–¹å¼äº¤ç»™ä½ ï¼Œwindowsä¸‹ä¹Ÿæœ‰å¾ˆå¤šè½¯ä»¶æ”¯æŒå‘½ä»¤è¡Œçš„ï¼Œæœ€å¸¸è§çš„å°±æ˜¯æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„æ“ä½œå‘½ä»¤ã€‚ä½ å¯ä»¥é€šè¿‡æœç´¢å¼•æ“æœç´¢windows å‘½ä»¤è¡Œè‡ªå¸¦çš„å‘½ä»¤ï¼Œæ¥æ‰¾åˆ°ä»–ä»¬ã€‚åœ¨æˆ‘å·¥ä½œçš„æ—©æœŸï¼Œæ¥è§¦çš„æœåŠ¡å™¨å¤§éƒ¨åˆ†å°±æ˜¯windowsçš„æ“ä½œç³»ç»Ÿï¼Œæˆ‘éœ€è¦è¿›è¡Œå®šæ—¶ä»»åŠ¡å’Œå„ç§å¤æ‚ä»»åŠ¡çš„ç¼–æ’çš„æ—¶å€™ï¼Œéƒ½ä¼šé€šè¿‡cmdå‘½ä»¤è¡Œçš„å‘½ä»¤æ¥å®Œæˆã€‚æœ‰äº†Pythonè¿›è¡Œå°è£…ä¹‹åï¼Œè¿™äº›å‘½ä»¤è‚¯å®šæ›´å¥½ç”¨äº†ã€‚ä½ å¯ä»¥å»äº†è§£ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613973486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":279540,"user_name":"Soul of the Dragon","can_delete":false,"product_type":"c1","uid":2438011,"ip_address":"","ucode":"21603099E51B8A","user_header":"https://static001.geekbang.org/account/avatar/00/25/33/7b/9e012181.jpg","comment_is_top":false,"comment_ctime":1613813793,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1613813793","product_id":100071001,"comment_content":"åŒé—®ï¼Œè¯·é—®ä¸Šé¢çš„ä»£ç ä»…é€‚ç”¨äºmacOSæ“ä½œç³»ç»Ÿå—ï¼Ÿ","like_count":0}]}
{"id":651624,"title":"07ï½œæ•°æ®è·å–ï¼šä»€ä¹ˆæ˜¯Scrapyæ¡†æ¶ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é»„é¸¿æ³¢ã€‚</p><p>ä¸Šä¸€èŠ‚è¯¾æˆ‘ä»¬è®²è§£äº†ä»€ä¹ˆæ˜¯çˆ¬è™«ä»¥åŠçˆ¬è™«çš„åŸºæœ¬åŸç†ï¼Œä»è¿™èŠ‚è¯¾å¼€å§‹ï¼Œæˆ‘ä»¬å°±è¦å®é™…åœ°å»çˆ¬å–ä¸€äº›ç½‘ç»œä¸Šçš„å†…å®¹ï¼Œä¸ºåç»­æ¨èç³»ç»Ÿçš„ä½¿ç”¨åšå‡†å¤‡ã€‚</p><p>è¿™èŠ‚è¯¾æˆ‘ä»¬æ¥æ·±å…¥äº†è§£ä¸€ä¸‹Pythonä¸­çš„å¸¸è§çˆ¬è™«æ¡†æ¶ï¼šScrapyæ¡†æ¶ã€‚æˆ‘ä»¬å°†å­¦ä¹ ä»€ä¹ˆæ˜¯Scrapyæ¡†æ¶ã€å®ƒçš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆä»¥åŠå¦‚ä½•å®‰è£…å’Œä½¿ç”¨å®ƒã€‚</p><h2>Scrapyæ¡†æ¶æ¦‚è§ˆ</h2><p>Scrapyæ˜¯ä¸€ä¸ªé€‚ç”¨äºPythonçš„å¿«é€Ÿã€é«˜å±‚æ¬¡çš„å±å¹•æŠ“å–å’ŒWebæŠ“å–æ¡†æ¶ï¼Œç”¨äºæŠ“å–Webç«™ç‚¹å¹¶ä»é¡µé¢ä¸­æå–ç»“æ„åŒ–çš„æ•°æ®ã€‚å®ƒä¹Ÿæä¾›äº†å¤šç§ç±»å‹çˆ¬è™«çš„åŸºç±»ï¼Œå¦‚BaseSpiderã€Sitemapçˆ¬è™«ç­‰ã€‚æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°é€šè¿‡ Scrapy æ¡†æ¶å®ç°ä¸€ä¸ªçˆ¬è™«ç¨‹åºï¼ŒæŠ“å–æŒ‡å®šç½‘ç«™çš„å†…å®¹æˆ–å›¾ç‰‡ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/67/87/67220e129b726a764fa62f28fb46e587.png?wh=1200x482\" alt=\"\"></p><p>ä¸‹é¢æ˜¯Scrapyæ¡†æ¶çš„æ¶æ„å›¾ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/02/b8/02ce18db3937d494e05ddcbdd60ee1b8.png?wh=1766x1039\" alt=\"\"></p><p>é€šè¿‡è¿™å¼ å›¾æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒScrapyæ¡†æ¶æ€»å…±åˆ†æˆäº†ä¸‹é¢ä¸ƒä¸ªéƒ¨åˆ†ã€‚</p><ol>\n<li>Scrapy Engineï¼ˆScrapyå¼•æ“ï¼‰ã€‚</li>\n<li>Schedulerï¼ˆè°ƒåº¦å™¨ï¼‰ã€‚</li>\n<li>Downloaderï¼ˆä¸‹è½½å™¨ï¼‰ã€‚</li>\n<li>Spidersï¼ˆçˆ¬è™«ï¼‰ã€‚</li>\n<li>Item Piplineï¼ˆç®¡é“ï¼‰ã€‚</li>\n<li>Downloader Middlewaresï¼ˆä¸‹è½½ä¸­é—´ä»¶ï¼‰ã€‚</li>\n<li>Spider Middlewaresï¼ˆSpiderä¸­é—´ä»¶ï¼‰ã€‚</li>\n</ol><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ƒä¸ªéƒ¨åˆ†çš„å…·ä½“å«ä¹‰ï¼Œä»¥åŠå®ƒä»¬æ˜¯å¦‚ä½•åä½œçš„ã€‚</p><!-- [[[read_end]]] --><p><strong>Scrapy Engine</strong><strong>ï¼š</strong>Scrapyå¼•æ“æ˜¯æ•´ä¸ªScrapyæ¡†æ¶çš„æ ¸å¿ƒï¼Œè´Ÿè´£æ‰€æœ‰å­æ¨¡å—é—´çš„è°ƒåº¦ã€é€šä¿¡å’Œæ•°æ®ä¼ é€’ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒçœ‹ä½œæ•´ä¸ªScrapyæ¡†æ¶çš„æ€»æŒ‡æŒ¥ã€‚</p><p><strong>Spider</strong>ï¼šå®ƒè´Ÿè´£å¤„ç†æ‰€æœ‰çš„responsesã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“çˆ¬è™«ç¨‹åºè·å–åˆ°æœåŠ¡å™¨ç«¯çš„responseå“åº”ä¹‹åï¼Œæ¥ä¸‹æ¥å°±ä¼šäº¤ç”±Spiderå»å¤„ç†ï¼Œå®ƒä¼šæ ¹æ®éœ€æ±‚æå–æ•°æ®å’Œç›¸åº”çš„URLä¿¡æ¯ï¼Œå¹¶äº¤ç»™å¼•æ“ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒSpideræ¨¡å—è™½ç„¶æ˜¯Scrapyæ¡†æ¶è‡ªå¸¦çš„æ¨¡å—ï¼Œä½†æ˜¯å®ƒä»ç„¶éœ€è¦å¼€å‘è€…è‡ªå·±æ‰‹å†™ä»£ç å®ç°ã€‚</p><p><strong>Scheduler</strong>ï¼šè°ƒåº¦å™¨è´Ÿè´£æ¥æ”¶å¼•æ“å‘é€è¿‡æ¥çš„requestsè¯·æ±‚ï¼Œå¹¶å°†å®ƒä»¬æ”¾å…¥åˆ°é˜Ÿåˆ—å½“ä¸­ï¼Œåœ¨åç»­å¼•æ“æœ‰éœ€è¦çš„æ—¶å€™å†å°†è¯·æ±‚è¿”å›ç»™å¼•æ“ã€‚æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºä¸‹ä¸€æ­¥è¦æŠ“å–çš„ç½‘å€ç”±å®ƒå†³å®šï¼ŒåŒæ—¶ï¼Œåœ¨è°ƒåº¦å™¨é‡Œè¿˜ä¼šè‡ªåŠ¨å»æ‰é‡å¤çš„ç½‘å€ã€‚</p><p><strong>Downloader</strong>ï¼šä¸‹è½½å™¨ä¸»è¦è´Ÿè´£ä¸‹è½½Scrapy Engineå‘é€è¿‡æ¥çš„æ‰€æœ‰requestsè¯·æ±‚ï¼Œå¹¶å°†è·å–åˆ°çš„responsesä¿¡æ¯ç» Scrapy Engine  è¿”å›ç»™Spiderå¤„ç†ã€‚</p><p><strong>Item Pipeline</strong>ï¼šç®¡é“ï¼Œä¸»è¦è´Ÿè´£å¤„ç†Spiderä¸­è·å–åˆ°çš„itemå¹¶è¿›è¡ŒåæœŸå¤„ç†ï¼Œæ¯”å¦‚å¯¹æ•°æ®è¿›è¡Œåˆ†æã€è¿‡æ»¤ã€å­˜å‚¨ç­‰ã€‚</p><p><strong>Downloader Middlewares</strong>ï¼šä¸‹è½½ä¸­é—´ä»¶ï¼Œå¼€å‘è€…å¯ä»¥åœ¨è¿™é‡Œè‡ªå®šä¹‰æ‰©å±•ä¸‹è½½åŠŸèƒ½çš„ç»„ä»¶ã€‚</p><p><strong>Spider Middlewares</strong>ï¼šSpiderä¸­é—´ä»¶ï¼Œå¯ä»¥è‡ªå®šä¹‰requestè¯·æ±‚å’Œè¿›è¡Œresponseè¿‡æ»¤çš„ç»„ä»¶ã€‚</p><p>äº†è§£äº†è¿™ä¸ƒä¸ªç»„ä»¶çš„åŠŸèƒ½ä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å„ç»„ä»¶çš„å·¥ä½œæµç¨‹ã€‚åœ¨ä¸Šé¢è¿™å¼ å›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ ¸å¿ƒçš„ä½ç½®æ˜¯å¼•æ“ã€‚ä¹Ÿå°±æ˜¯è¯´åŸºæœ¬æ‰€æœ‰çš„æµç¨‹éƒ½å’Œå¼•æ“ç›¸å…³ï¼Œå€ŸåŠ©Scrapyæ¡†æ¶çˆ¬å–ä¿¡æ¯å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‹é¢å…­æ­¥ã€‚</p><ol>\n<li>çˆ¬è™«ç¨‹åºå·¥ä½œçš„æ—¶å€™ä¼šç»ç”±å¼•æ“å‘Spideræå‡ºç”³è¯·ï¼Œç´¢è¦ç¬¬ä¸€ä¸ªå¾…çˆ¬å–çš„URLã€‚å¾…å¼•æ“æ‹¿åˆ°URLä¹‹åï¼Œå°±å°†è¿™ä¸ªURLä¼ å…¥è°ƒåº¦ç¨‹åºSchedulerã€‚</li>\n<li>Schedulerä¼šå°†éœ€è¦ä¸‹è½½çš„URLåŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ï¼Œå½¢æˆä¸€ä¸ªURLé˜Ÿåˆ—ã€‚å½“Schedulerå®Œæˆè¯·æ±‚åï¼Œä¼šå–å‡ºé˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªURLï¼Œå°†å…¶è¿”å›ç»™å¼•æ“ã€‚</li>\n<li>å¼•æ“æ‹¿åˆ°URLä¹‹åï¼Œä¼šå°†è¿™ä¸ªURLç»ç”±Downloader Middlewaresäº¤ç»™Downloaderã€‚å®Œæˆä¸‹è½½åï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°æœåŠ¡ç«¯è¿”å›æ¥çš„responseå¯¹è±¡ã€‚</li>\n<li>å½“Downloaderæ‹¿åˆ°äº†responseå¯¹è±¡ä¹‹åï¼Œæ¥ä¸‹æ¥è¦åšçš„å°±æ˜¯æŠŠå®ƒäº¤ç»™å¼•æ“ï¼Œç„¶åå¼•æ“å†ç»ç”±Spider Middlewareså°†responseç»“æœäº¤ç»™Spideræ–‡ä»¶ã€‚</li>\n<li>Spideræ–‡ä»¶å¤„ç†å’Œåˆ†æresponseçš„ç»“æœï¼Œåœ¨æ­¤åŸºç¡€ä¸Šæ‹¿åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•°æ®ï¼Œè¿™é‡Œä¸€èˆ¬è¦åšçš„å°±æ˜¯æ ‡ç­¾è§£æã€å†…å®¹æå–ç­‰å·¥ä½œã€‚</li>\n<li>è§£æå®Œæ•°æ®ä¹‹åï¼Œæˆ‘ä»¬è¦æŠŠè¿™äº›æ•°æ®ç»ç”±Item Pipelineå­˜å‚¨èµ·æ¥ã€‚æ— è®ºæ˜¯å­˜æ–‡ä»¶è¿˜æ˜¯å­˜æ•°æ®åº“ï¼Œç†è®ºä¸Šéƒ½æ˜¯ç”±è¿™ä¸€ä¸ªç»„ä»¶æ¥å®Œæˆã€‚</li>\n</ol><p>å®Œæˆä¸Šé¢å…­ä¸ªæ­¥éª¤ä¹‹åï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªé“¾æ¥çˆ¬è™«å·¥ä½œå°±ç»“æŸäº†ã€‚ç´§æ¥ç€ï¼Œæˆ‘ä»¬ä¼šå¾ªç¯è¿™ä¸ªæ“ä½œï¼Œç›´è‡³æ‹¿åˆ°æˆ‘ä»¬è¦çˆ¬å–çš„æ‰€æœ‰æ–‡ä»¶ä¸ºæ­¢ï¼ˆä¹Ÿå°±æ˜¯ç›´åˆ°URLåˆ—è¡¨ç©ºäº†ï¼‰ï¼Œè¿™æ—¶æˆ‘ä»¬å°±å®Œæˆäº†ä¸€æ•´å¥—çˆ¬è™«å·¥ä½œã€‚</p><h2>Scrapyæ¡†æ¶çš„å®‰è£…å’Œä½¿ç”¨</h2><p>äº†è§£äº†Scrapyæ¡†æ¶çš„å·¥ä½œåŸç†ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´å¥½åœ°å®‰è£…å’Œä½¿ç”¨ Scrapy  ã€‚</p><p>Scrapyåœ¨Pythonä¸­è¢«å½“ä½œä¸€ä¸ªåº“æ¥ä½¿ç”¨ï¼Œè¦æƒ³åœ¨Pythonä¸­ä½¿ç”¨Scrapyï¼Œé¦–å…ˆæˆ‘ä»¬è¦å®‰è£…Scrapyã€‚è€Œè¦åœ¨Pythonä¸­å®‰è£…å„ç§å„æ ·çš„åº“ï¼Œæˆ‘æ¨èä½¿ç”¨Anacondaæ¥è¿›è¡ŒPythonç¯å¢ƒçš„ç®¡ç†ã€‚</p><h3>å®‰è£…Anacondaç¯å¢ƒ</h3><p>Anacondaæ˜¯ä¸€ä¸ªå¼€æºçš„Pythonå‘è¡Œç‰ˆæœ¬ï¼Œå®ƒåŒ…æ‹¬Condaã€Pythonä»¥åŠä¸€å¤§å †å®‰è£…å¥½çš„å·¥å…·åŒ…ï¼Œæ¯”å¦‚ï¼šNumpyã€Pandasç­‰ã€‚æˆ‘ä»¬å¯ä»¥æŠŠAnacondaçœ‹ä½œæ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æ‰©å±•åº“çš„é›†åˆï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Anacondaå¾ˆè½»æ¾åœ°ç®¡ç†æˆ‘ä»¬çš„æ‰©å±•åº“ï¼Œè¿˜å¯ä»¥ä½¿ç”¨Anacondaåˆ›å»ºå¤šä¸ªè™šæ‹Ÿç¯å¢ƒã€‚æ¯ä¸ªè™šæ‹Ÿç¯å¢ƒéƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å„ä¸ªç¯å¢ƒä¸Šåˆ†åˆ«å®‰è£…ç‹¬ç«‹çš„åŒ…ã€‚</p><p>Anacondaå®‰è£…åŒ…çš„è·å–æ–¹å¼æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬é¦–å…ˆæƒ³åˆ°çš„è‚¯å®šæ˜¯ä»å®˜ç½‘ä¸‹è½½ã€‚ä¸è¿‡ï¼Œæˆ‘ä¸ªäººå»ºè®®ä»æ¸…åæºä¸‹è½½ï¼Œå› ä¸ºåœ¨å›½å†…è®¿é—®æ¸…åæºé€Ÿåº¦ç›¸å¯¹è¾ƒå¿«ï¼Œä¸‹è½½èµ·æ¥æ¯”è¾ƒå®¹æ˜“ã€‚æˆ‘ä»¬ç›´æ¥ç™¾åº¦æœç´¢Anacondaæ¸…åæºï¼Œæˆ–è€…è¾“å…¥ä»¥ä¸‹ç½‘å€å³å¯ã€‚</p><pre><code>https://mirrors.bfsu.edu.cn/anaconda/archive/\n</code></pre><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¸‹è½½çš„ç‰ˆæœ¬ä¸º2022.05-Windows-x86_64ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/15/72/150fd5bd54d78894bbd59d2f4595be72.png?wh=1364x1792\" alt=\"\"></p><p>ä¸‹è½½å®Œæˆä¹‹åï¼Œæˆ‘ä»¬åŒå‡»å®‰è£…åŒ…è¿›è¡Œå®‰è£…ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d9/8f/d958fcc27c37788b7dbbb892d3yyc08f.png?wh=738x574\" alt=\"\"></p><p>ç„¶åä¸€è·¯ç‚¹å‡»Nextï¼Œç›´åˆ°é€‰æ‹©ç›®å½•é‚£ä¸€æ­¥ï¼Œä½ å¯ä»¥æ ¹æ®ä¹ æƒ¯é€‰æ‹©ç›®å½•ï¼Œç„¶åç‚¹å‡»Nextï¼Œå‡ºç°ä¸‹é¢çš„ç•Œé¢ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/49/9e/49acd833a68a154ae9b0114150d0099e.png?wh=741x575\" alt=\"\"></p><p>è¿™é‡Œæˆ‘å»ºè®®æŠŠä¸¤ä¸ªå¤é€‰æ¡†éƒ½é€‰ä¸­ï¼Œä¸Šé¢çš„å¤é€‰æ¡†æ˜¯è¯´è¦æŠŠAnaconda3åŠ å…¥åˆ°ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ä¸­ï¼Œä¸‹é¢çš„é€‰é¡¹å¤§æ„æ˜¯ä½¿ç”¨Anaconda3ä½œä¸ºé»˜è®¤çš„Python3.9ï¼Œç„¶åç‚¹å‡»Installã€‚å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬åœ¨å‘½ä»¤æ§åˆ¶å°è¾“å…¥condaï¼Œå¦‚æœå‡ºç°ä»¥ä¸‹ç•Œé¢ï¼Œè¯´æ˜å®‰è£…å®Œæˆäº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/aa/4d/aa63fe3372dyycefb7d292baa989254d.png?wh=2129x1229\" alt=\"\"></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒã€‚å› ä¸ºæˆ‘ä»¬è¿™ä¸ªè™šæ‹Ÿç¯å¢ƒä¸»è¦æ˜¯ç”¨æ¥åšçˆ¬è™«çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªåä¸ºscrapy_recommendationçš„è™šæ‹Ÿç¯å¢ƒï¼Œå¹¶æŒ‡å®šæˆ‘ä»¬ä½¿ç”¨çš„Pythonç‰ˆæœ¬ä¸º3.7ç‰ˆæœ¬ã€‚å…·ä½“åšæ³•æ˜¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤ã€‚</p><pre><code>conda create -n scrapy_recommendation python==3.7\n</code></pre><p>ç¨ç­‰ç‰‡åˆ»ï¼Œä¼šå‡ºç°ä¸‹é¢çš„ç•Œé¢ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/98/ef/98c8df3a921312398d94f8259e7yyaef.png?wh=2556x1089\" alt=\"\"></p><p>æˆ‘ä»¬è¾“å…¥Yï¼Œå¼€å§‹å®‰è£…ï¼Œå®‰è£…ç»“æŸåï¼Œä¼šå¼¹å‡ºå¦‚ä¸‹æç¤ºã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/cb/f3/cb437de0752bb31b4e8697e860db0cf3.png?wh=719x342\" alt=\"\"></p><p>ä½†æ˜¯è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œå®ƒä¼šå‘Šè¯‰ä½ å¦‚æœè¦æ¿€æ´»ä½ çš„ç¯å¢ƒï¼Œéœ€è¦è¾“å…¥conda activate scrapy_recommendationï¼Œä½†æ˜¯å®é™…ä¸Šåœ¨Windowsä¸­ï¼Œè¿™æ ·è¾“å…¥ä¼šäº§ç”ŸæŠ¥é”™ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/4e/8e/4e1e4108589e70726387e53bc33cd48e.png?wh=825x415\" alt=\"\"></p><p>è¿™ä¸ªåº”è¯¥å±äºAnacondaçš„ä¸€ä¸ªå°Bugï¼Œå› ä¸ºè¿™å®é™…ä¸Šæ˜¯åœ¨Linuxå’ŒMacç¯å¢ƒä¸‹çš„å‘½ä»¤ï¼Œåœ¨Windowsç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬ç›´æ¥è¾“å…¥activate scrapy_recommendationå³å¯ã€‚è¿™ä¸ªæ—¶å€™ä¼šæœ‰å¦‚ä¸‹æ˜¾ç¤ºã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/9f/ce/9f582124d1ecd5241d460fd9799139ce.png?wh=583x110\" alt=\"\"></p><h3>å®‰è£…Scrapyç¯å¢ƒ</h3><p>ç°åœ¨ï¼Œæˆ‘ä»¬çš„ Anaconda  ç¯å¢ƒå°±å·²ç»å®‰è£…å¥½äº†ï¼Œä¸‹ä¸€æ­¥æ˜¯å®‰è£…Scrapyç¯å¢ƒã€‚å®é™…ä¸Šè¦åœ¨Anacondaç¯å¢ƒä¸­å®‰è£…Scrapyå¾ˆç®€å•ï¼Œåªéœ€è¦æ‰§è¡Œpip install scrapyå³å¯ã€‚</p><p>ç­‰åˆ°å‡ºç°å¦‚ä¸‹ç•Œé¢æ—¶ï¼Œå®‰è£…å°±å®Œæˆäº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/7c/d9/7c67a8c7cf0c5b04244e5cf68cb618d9.png?wh=2615x988\" alt=\"\"></p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡  conda list  æ¥æŸ¥çœ‹æˆ‘ä»¬å·²æœ‰çš„åŒ…ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/b1/fa/b102327567450a48c5d7da442eec6cfa.png?wh=830x1082\" alt=\"\"></p><h3>ä½¿ç”¨Scrapyåˆ›å»ºçˆ¬è™«å¼€å‘ç¯å¢ƒ</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å°è¯•ä½¿ç”¨Scrapyåˆ›å»ºä¸€ä¸ªçˆ¬è™«å¼€å‘ç¯å¢ƒã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦ç¡®å®šå¥½ä¸€ä¸ªæˆ‘ä»¬è¦æ­å»ºç¯å¢ƒçš„ç›®å½•ï¼Œæˆ‘é€‰æ‹©äº†Iç›˜çš„geekbangä½œä¸ºæˆ‘è¦æ­å»ºç¯å¢ƒçš„æ ¹ç›®å½•ã€‚æ‰€ä»¥æˆ‘é¦–å…ˆè¦åšçš„å°±æ˜¯åˆ‡æ¢åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚å…·ä½“åšæ³•æ˜¯è¾“å…¥å¦‚ä¸‹æŒ‡ä»¤ã€‚</p><pre><code>cd I:\\geekbang\n</code></pre><p>åˆ‡æ¢åˆ°æŒ‡å®šç›®å½•ä¸‹ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºæˆ‘ä»¬çš„Scrapyå·¥ç¨‹äº†ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡Scrapyçš„ç›¸å…³å‘½ä»¤æ¥åˆ›å»ºçˆ¬è™«å·¥ç¨‹ã€‚å› ä¸ºæˆ‘ä»¬å‡†å¤‡çˆ¬å–æ–°æµªæ–°é—»é‡Œçš„æ–°é—»æ•°æ®ï¼ŒæŠŠå®ƒä½œä¸ºæˆ‘ä»¬åé¢æ¨èç³»ç»Ÿçš„åŸå§‹æ•°æ®ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå·¥ç¨‹åä¸ºsinaçš„çˆ¬è™«é¡¹ç›®ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ã€‚</p><pre><code>scrapy startproject sina\n</code></pre><p>åˆ›å»ºå®Œæˆé¡¹ç›®ä¹‹åï¼Œä¼šæ˜¯ä¸‹å›¾çš„æ ·å­ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/0b/80/0b47ca678b7d19155c3135f5b8dfeb80.png?wh=2088x333\" alt=\"\"></p><p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬è¿›å…¥åˆ°I:\\geekbangç›®å½•ä¸‹ï¼Œä¼šå‘ç°Scrapyå¸®æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸ºâ€œsinaâ€çš„ç›®å½•ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/20/60/20fba8d54353019e6e40bec938875960.png?wh=830x151\" alt=\"\"></p><p>æˆ‘ä»¬è¿›å…¥åˆ°è¿™ä¸ªç›®å½•ä¹‹åä¼šå‘ç°ï¼Œè¿™ä¸ªç›®å½•é‡Œï¼Œå·²ç»å¸®æˆ‘ä»¬åˆ›å»ºå¥½äº†ä¸€ä¸ªåŸºç¡€çš„Scrapyå·¥ç¨‹ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/cb/52/cb827d02fa8ayy277a8c894d2ba9b652.png?wh=830x279\" alt=\"\"></p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†é¡¹ç›®å¯¼å…¥åˆ°IDEç¯å¢ƒä¸­ï¼Œç„¶ååœ¨IDEç¯å¢ƒé‡ŒæŸ¥çœ‹æ•´ä½“çš„ç›®å½•ç»“æ„ã€‚è¿™é‡Œæˆ‘é€‰æ‹©äº†PyCharmä½œä¸ºæˆ‘ä»¬åç»­æ‰€æœ‰å¼€å‘çš„IDEã€‚æˆ‘ä»¬åœ¨PyCharmä¸­ä¾æ¬¡ç‚¹å‡»File-&gt;openï¼Œå¼¹å‡ºä¸€ä¸ªæ–‡ä»¶ç›®å½•é€‰æ‹©æ¡†ï¼Œæˆ‘ä»¬é€‰æ‹©I:\\geekbang\\sinaä½œä¸ºæˆ‘ä»¬çš„é¡¹ç›®æ ¹ç›®å½•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a3/b7/a3563e93a571658b7f1d40b49ac6aeb7.png?wh=633x726\" alt=\"\"></p><p>ç„¶åç‚¹å‡»OKï¼Œå¯¼å…¥æˆ‘ä»¬çš„é¡¹ç›®ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬PyCharmçš„å¼€å‘ç¯å¢ƒæ˜¯é»˜è®¤çš„ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶åˆ‡æ¢åˆ°æˆ‘ä»¬æ‰€åˆ›å»ºçš„Anacondaçš„â€œscrapy_recommendationâ€ç¯å¢ƒä¸‹ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬è¦ä¾æ¬¡ç‚¹å‡»ï¼š</p><p>File-&gt;Settings-&gt;Project:sina-&gt;Python Interpreterï¼Œç„¶åå°†Python Interpreterçš„ç›®å½•é€‰æ‹©ä¸ºæˆ‘ä»¬çš„Anacondaåˆ›å»ºçš„scrapy_recommendationç¯å¢ƒä¸‹çš„python.exeæ–‡ä»¶ã€‚ç„¶åç‚¹å‡»OKï¼Œåˆ‡æ¢ç¯å¢ƒæˆåŠŸã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/a2/cb/a267bf5e85317874459e191a8297c8cb.png?wh=1193x1006\" alt=\"\"></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨ä¸»ç•Œé¢çš„å·¦ä¾§æŠŠæ‰€æœ‰çš„ç›®å½•å±•å¼€ï¼Œæˆ‘ä»¬æ¥åˆ†åˆ«çœ‹ä¸€ä¸‹Scrapyçš„å„ä¸ªç›®å½•ä»¥åŠå®ƒä»¬çš„åŠŸèƒ½ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/ef/39/efee48abeea350eb5db293679ec07839.png?wh=334x514\" alt=\"\"></p><p>æˆ‘ä»¬é¦–å…ˆå¯ä»¥çœ‹åˆ°ï¼Œåœ¨sinaå·¥ç¨‹ä¸‹é¢æœ‰ä¸€ä¸ªåŒåçš„ç›®å½•â€œsinaâ€ï¼Œå’Œè¿™ä¸ªç›®å½•åŒä¸€çº§çš„è¿˜æœ‰ä¸€ä¸ªå«åšscrapy.cfgçš„æ–‡ä»¶ã€‚ä½ å¯ä»¥å¯¹ç…§ä¸‹é¢è¿™ä¸ªè¡¨æ ¼ï¼Œçœ‹çœ‹è¿™äº›æ–‡ä»¶çš„ä½œç”¨ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/c3/8f/c313c6199779a2e3ba77ed57486e628f.jpg?wh=3210x2072\" alt=\"\"></p><p>ç°åœ¨æˆ‘ä»¬çš„ Scrapy  å·¥ç¨‹å°±åˆ›å»ºå®Œäº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥åˆ›å»ºä¸€ä¸ªçˆ¬è™«ç¨‹åºï¼Œçˆ¬è™«ä¸»è¦åŠŸèƒ½æ˜¯çˆ¬å–ç½‘ç«™çš„æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥åœ¨I:\\geekbang\\sinaç›®å½•ä¸‹åˆ›å»ºå®ƒï¼Œæˆ‘ä»¬è¿˜æ˜¯åœ¨cmdä¸­åˆ‡æ¢åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼Œç„¶åä½¿ç”¨å¦‚ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªåä¸ºsina_spiderçš„çˆ¬è™«ç¨‹åºã€‚</p><pre><code>scrapy genspider sina_spider sina.com.cn\n</code></pre><p>è¿™æ—¶å€™å‘½ä»¤è¡Œä¸­æ˜¾ç¤ºå¦‚ä¸‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/10/a3/10ab2b58534e9d179041cfd37d05f6a3.png?wh=826x130\" alt=\"\"></p><p>ç„¶åæˆ‘ä»¬åˆ‡æ¢åˆ°IDEä¸­ï¼Œä¼šå‘ç°åœ¨sina\\sina\\spidersä¸‹é¢å‡ºç°äº†ä¸€ä¸ªåä¸ºsina_spider.pyçš„æ–‡ä»¶ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/23/dc/2313f111c2b9347550f67bf6369291dc.png?wh=519x531\" alt=\"\"></p><p>æˆ‘ä»¬æ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼Œå¦‚æœå‡ºç°å¦‚ä¸‹ä»£ç ï¼Œè¯´æ˜æˆ‘ä»¬è¿™ä¸ªçˆ¬è™«æ–‡ä»¶åˆ›å»ºæˆåŠŸäº†ã€‚</p><pre><code>import scrapy\n \n \nclass SinaSpiderSpider(scrapy.Spider):\n    name = 'sina_spider'\n    allowed_domains = ['sina.com.cn']\n    start_urls = ['http://sina.com.cn/']\n \n    def parse(self, response):\n        pass\n</code></pre><p>è¿›è¡Œåˆ°è¿™é‡Œï¼Œä¸€ä¸ªåŸºæœ¬çš„çˆ¬è™«ç¨‹åºå°±åˆ›å»ºå®Œæˆäº†ã€‚ä½†æ˜¯ç°åœ¨ç¦»å¯ä»¥çˆ¬å–æ•°æ®è¿˜å·®ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦è®©æˆ‘ä»¬çš„çˆ¬è™«ç¨‹åºå¯ä»¥æ¨¡æ‹Ÿäººçš„æ“ä½œæ¥æµè§ˆç½‘é¡µã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬è¦è£…ä¸€ä¸ªæ’ä»¶æ¥è¿æ¥æˆ‘ä»¬çš„Scrapyæ¡†æ¶å’Œæµè§ˆå™¨ç•Œé¢ï¼Œè¿™é‡Œæˆ‘æ¨èä½¿ç”¨Chromeæµè§ˆå™¨ï¼Œæˆ‘ä»¬éœ€è¦ä¸‹è½½çš„æ’ä»¶åç§°å°±æ˜¯ChromeDriverï¼ŒChromeDriveræ’ä»¶çš„ä¸‹è½½åœ°å€å¦‚ä¸‹ã€‚</p><pre><code>http://chromedriver.storage.googleapis.com/index.html\n</code></pre><p>è¿™ä¸ªæ’ä»¶æœ‰å¾ˆå¤šç‰ˆæœ¬ï¼Œé‚£æˆ‘ä»¬æ˜¯ä¸æ˜¯éšä¾¿ä¸‹è½½ä¸€ä¸ªç‰ˆæœ¬å°±å¯ä»¥äº†å‘¢ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œæˆ‘ä»¬ä¸‹è½½çš„ç‰ˆæœ¬ä¸€å®šè¦å’ŒChromeæµè§ˆå™¨çš„ç‰ˆæœ¬å¯¹åº”ä¸Šã€‚æˆ‘ä»¬å¯ä»¥åœ¨Chromeæµè§ˆå™¨ä¸­è¾“å…¥ä¸‹é¢çš„å‘½ä»¤è¿›å…¥è®¾ç½®ç•Œé¢ã€‚</p><pre><code>chrome://settings/help\n</code></pre><p>è¿™æ—¶å€™ä¼šå¼¹å‡ºä¸€ä¸ªå…³äºChromeçš„ç•Œé¢ï¼Œåœ¨è¿™ä¸ªç•Œé¢é‡Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬æµè§ˆå™¨çš„ç‰ˆæœ¬ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/5e/b2/5e962a6d2d9b9524e4f99c45b7304eb2.png?wh=1895x1194\" alt=\"\"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘çš„ç‰ˆæœ¬ä¸º111.0.5563.149ï¼Œæ‰€ä»¥æˆ‘ä»¬å›åˆ°ChromeDriverçš„ä¸‹è½½ç•Œé¢æ‰¾åˆ°110.0.5563ç‰ˆæœ¬è¿›è¡Œä¸‹è½½ï¼Œå¦‚æœå°ç‰ˆæœ¬æ‰¾ä¸åˆ°çš„è¯ï¼Œå°±æ‰¾å‰ä¸€ä¸ªçº§åˆ«çš„ç‰ˆæœ¬ä¸­æœ€åä¸€ä¸ªç‰ˆæœ¬å³å¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/6b/35/6b0cf59b49783fe832d4968952282235.png?wh=1485x1093\" alt=\"\"></p><p>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬å¯èƒ½æ‰¾ä¸åˆ°å®Œå…¨ä¸€æ ·çš„ç‰ˆæœ¬ã€‚å¦‚æœé‡åˆ°è¿™ç§æƒ…å†µï¼Œæ‰¾åˆ°ä¸Šä¸€çº§ç‰ˆæœ¬å·ä¸€æ ·çš„æ’ä»¶ä¸­çš„æœ€åä¸€ä¸ªç‰ˆæœ¬å³å¯ã€‚æˆ‘è¿™é‡Œå¯¹åº”çš„æ˜¯110.0.5563.64ï¼Œç‚¹å‡»ä¸‹è½½ã€‚è¿™é‡Œé€‚é…Windowsçš„æ’ä»¶åªæœ‰32ä½çš„ç‰ˆæœ¬ï¼Œä½†å®ƒå…¶å®æ²¡ä»€ä¹ˆå½±å“ï¼Œæˆ‘ä»¬å³ä½¿æ˜¯64ä½çš„æ“ä½œç³»ç»Ÿä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œæ­£å¸¸ä¸‹è½½å³å¯ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/4e/67/4e6b1d34c8d6755a1317dbyy94cdc367.png?wh=1304x509\" alt=\"\"></p><p>ä¸‹è½½å®Œæˆä¹‹åï¼Œè§£å‹ä¼šå¾—åˆ°ä¸€ä¸ªchromedriver.exe  çš„æ–‡ä»¶ï¼Œè¦æŠŠè¿™ä¸ªæ–‡ä»¶åˆ†åˆ«å¤åˆ¶åˆ°æˆ‘ä»¬çš„Anacondaçš„scrapy_recommendationç¯å¢ƒå’ŒRhromeçš„æµè§ˆå™¨ä¸­ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/97/76/97f5639b86c2c8cb821e766a3db2b276.png?wh=831x489\" alt=\"\"></p><p><img src=\"https://static001.geekbang.org/resource/image/3e/fe/3eyy124739f8e57301e3a8e9b0ce3bfe.png?wh=830x399\" alt=\"\"></p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„ChromDriveræ’ä»¶å°±å®‰è£…å¥½äº†ï¼Œåªæœ‰å®‰è£…å¥½è¿™ä¸ªæ’ä»¶ï¼Œæˆ‘ä»¬åœ¨çˆ¬å–æ•°æ®çš„æ—¶å€™æ‰èƒ½è¿æ¥ä¸Šæµè§ˆå™¨ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œè¦è¿è¡Œä¸€ä¸ªç¨‹åºå°±è¦å†™ä¸€ä¸ªä¸»æ–‡ä»¶ã€‚ä¸€èˆ¬æ¥è¯´è¿™ä¸ªä¸»æ–‡ä»¶æ˜¯main.pyæ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºmain.pyçš„æ–‡ä»¶ï¼Œç„¶åè¾“å…¥å¦‚ä¸‹ä»£ç ã€‚</p><pre><code>from scrapy import cmdline\n \ncmdline.execute('scrapy crawl sina_spider'.split())\n</code></pre><p>ç®€å•è§£é‡Šä¸€ä¸‹è¿™æ®µç¨‹åºã€‚åœ¨è¿™æ®µç¨‹åºé‡Œï¼Œæˆ‘ä»¬é¦–å…ˆä»Scrapyçš„åŒ…é‡Œå¯¼å…¥äº†cmdlineè¿™ä¸ªåº“ï¼Œç„¶åä½¿ç”¨cmdline.executeæ‰§è¡Œäº†scrapy crawl sina_spiderã€‚è¿™é‡Œscrapy crawlæ˜¯ä¸€ä¸ªScrapyçš„åŸºç¡€å‘½ä»¤ï¼Œè¡¨ç¤ºå¯åŠ¨çˆ¬è™«ç¨‹åºï¼Œåé¢è·Ÿçš„æ˜¯çˆ¬è™«çš„åå­—ã€‚æ‰€ä»¥ä¸Šé¢ä»£ç åˆèµ·æ¥çš„æ„æ€å°±æ˜¯ä½¿ç”¨cmdå‘½ä»¤å¯åŠ¨åä¸ºâ€œsina_spiderâ€çš„çˆ¬è™«ç¨‹åºã€‚</p><p>å¦‚æœå‡ºç°å¦‚ä¸‹ç•Œé¢ï¼Œè¯´æ˜Scrapyçš„åŸºç¡€ç¨‹åºæ˜¯æ­£ç¡®çš„ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/69/f3/69a87bf9d64bef8852321b9b38ac79f3.png?wh=3840x2098\" alt=\"\"></p><p>åˆ°è¿™ä¸€æ­¥ï¼Œè™½ç„¶ç¨‹åºå·²ç»çŸ¥é“äº†è¦çˆ¬å–çš„ç½‘ç«™æ˜¯sina.com.cnï¼Œç°åœ¨è¿è¡Œä¹Ÿæ²¡æœ‰æŠ¥é”™ï¼Œä½†æ˜¯ä¼¼ä¹å¹¶æ²¡æœ‰ä»€ä¹ˆç»“æœï¼Œè€Œä¸”é©¬ä¸Šå°±å…³é—­äº†ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬ç›®å‰åªæ˜¯å¯åŠ¨äº†è¿™ä¸ªçˆ¬è™«ç¨‹åºï¼Œå¹¶æ²¡æœ‰å†™å…·ä½“çš„çˆ¬è™«ä»£ç ï¼Œæ‰€ä»¥ç¨‹åºåªæ˜¯å¯¹sina.com.cnåšäº†ä¸ªé“¾æ¥ï¼Œå¹¶è¿”å›äº†å“åº”ç 200ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¦å¼€å§‹æ­£å¼è¸ä¸Šçˆ¬è™«ç¨‹åºçš„ç¼–å†™ä¹‹è·¯äº†ã€‚</p><h2>æ€»ç»“</h2><p>æˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹æœ¬èŠ‚è¯¾çš„ä¸»è¦çŸ¥è¯†ç‚¹ã€‚</p><ol>\n<li>Scrapyæ˜¯ä¸€ä¸ªé€‚ç”¨äºPythonçš„å¿«é€Ÿã€é«˜å±‚æ¬¡çš„å±å¹•æŠ“å–å’ŒWebæŠ“å–æ¡†æ¶ï¼Œå®ƒå¯ä»¥æŠ“å–Webç«™ç‚¹å¹¶ä»é¡µé¢ä¸­æå–ç»“æ„åŒ–çš„æ•°æ®ã€‚</li>\n<li>ä½ è¿˜åº”è¯¥çŸ¥é“Scrapyæ¡†æ¶çš„åŸç†å’Œä¸»è¦æ¨¡å—ï¼ˆScrapyå¼•æ“ã€è°ƒåº¦å™¨ã€ä¸‹è½½å™¨ã€çˆ¬è™«ã€ç®¡é“ã€ä¸‹è½½ä¸­é—´ä»¶ã€Spiderä¸­é—´ä»¶ï¼‰ï¼Œä»¥åŠå®ƒä»¬æ˜¯å¦‚ä½•åä½œçš„ã€‚</li>\n<li>æœ€åï¼Œæˆ‘ä»¬åº”è¯¥æœ‰èƒ½åŠ›åœ¨Anacondaç¯å¢ƒä¸­åˆ›å»ºä¸€ä¸ªScrapyç¯å¢ƒï¼Œæ­å»ºä¸€ä¸ªæœ€ç®€å•çš„Scrapyæ¡†æ¶å¹¶æŠŠå®ƒè·‘èµ·æ¥ã€‚</li>\n</ol><h2>è¯¾åé¢˜</h2><p>å­¦å®Œè¿™èŠ‚è¯¾ï¼Œç»™ä½ ç•™ä¸¤é“æ€è€ƒé¢˜ã€‚</p><ol>\n<li>è¯·ä½ è‡ªå·±å°è¯•æ­å»ºä¸€ä¸ªAnacondaç¯å¢ƒï¼Œå¹¶å®‰è£…Scrapyæ¡†æ¶ç›¸å…³çš„åº“ã€‚</li>\n<li>è¯·ä½ åˆ›å»ºä¸€ä¸ªScrapyçš„æ¡†æ¶ç¨‹åºå¹¶è¿è¡Œå®ƒã€‚</li>\n</ol><p>æ¬¢è¿ä½ åœ¨ç•™è¨€åŒºä¸æˆ‘äº¤æµè®¨è®ºï¼Œæˆ‘ä»¬ä¸‹èŠ‚è¯¾å†è§ã€‚</p>","neighbors":{"left":{"article_title":"06ï½œç½‘ç»œçˆ¬è™«ï¼šçˆ¬å–ä¸€ä¸ªç½‘ç«™çš„æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ","id":650545},"right":{"article_title":"08ï½œæ•°æ®è·å–ï¼šå¦‚ä½•ä½¿ç”¨Scrapyæ¡†æ¶çˆ¬å–æ–°é—»æ•°æ®ï¼Ÿ","id":652864}},"comments":[{"had_liked":false,"id":381303,"user_name":"Geek_79da7f","can_delete":false,"product_type":"c1","uid":2421737,"ip_address":"ç¾å›½","ucode":"6329F375C13B14","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/dcW6ufIgibXKl5jwrgsIibPxRehZBqN41ZHiamWx3yWNnfCfAOabxjYzLyDKv1HyYbNJOa05dEicobfGtBbJaJmG2w/132","comment_is_top":false,"comment_ctime":1695009184,"is_pvip":false,"replies":[{"id":140020,"content":"åŒå­¦ä½ å¥½ï¼Œæ„Ÿè°¢æ‚¨æäº¤çš„ä¿¡æ¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1982950,"ctime":1699860464,"ip_address":"å¹¿ä¸œ","comment_id":381303,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100542801,"comment_content":"å…³äºå®‰è£…ChromeDriver, macä¸Šé¢ä¸€ä¸ªå‘½ä»¤è¡Œå°±è§£å†³äº†ï¼š brew install chromedriver","like_count":3,"discussions":[{"author":{"id":1982950,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/41/e6/beb42103.jpg","nickname":"é»„é¸¿æ³¢","note":"","ucode":"5EB4E6946A363C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":631654,"discussion_content":"åŒå­¦ä½ å¥½ï¼Œæ„Ÿè°¢æ‚¨æäº¤çš„ä¿¡æ¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1699860464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2189310,"avatar":"https://static001.geekbang.org/account/avatar/00/21/67/fe/5d17661a.jpg","nickname":"æ‚Ÿå°˜","note":"","ucode":"4E7E854340D3A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":633542,"discussion_content":"è¿™ç§æ–¹å¼ä¼šæŠ¥é”™çš„ï¼Œselenium.common.exceptions.SessionNotCreatedException: Message: session not created: This version of ChromeDriver only supports Chrome version 99\nè¯´æ˜ è¿™ç§æ–¹å¼å®‰è£…çš„chromedriver åªæ”¯æŒåˆ° è°·æ­Œ99ç‰ˆæœ¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1702290432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373790,"user_name":"åœ°é“æ—é»›ç‰","can_delete":false,"product_type":"c1","uid":1241183,"ip_address":"åŒ—äº¬","ucode":"3D35D965E54649","user_header":"https://static001.geekbang.org/account/avatar/00/12/f0/5f/25942dfb.jpg","comment_is_top":false,"comment_ctime":1683170095,"is_pvip":false,"replies":[{"id":136678,"content":"åŒå­¦ä½ å¥½ã€‚ä¸€èˆ¬æ¥è®²ï¼Œåœ¨settings.pyæ–‡ä»¶é‡Œæœ‰ä¸€ä¸ªå‚æ•°å«ROBOTSTXT_OBEYï¼Œè¿™ä¸ªæ–‡ä»¶é»˜è®¤ä¸ºTrueï¼Œä¹Ÿå°±æ˜¯éµå¾ªç½‘ç«™çš„robotsåè®®ï¼Œå¦‚æœåœ¨trueçš„çŠ¶æ€ä¸‹è¯·æ±‚è¢«æ‹’ç»ï¼Œè¯´æ˜ä¸èƒ½å»çˆ¬å–ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºFalesï¼Œä¹Ÿå°±æ˜¯æ— è§†å®ƒçš„è§„åˆ™è¿›è¡Œçˆ¬å–ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œå…¶å®å°±æœ‰ä¸€ç‚¹è¿è§„çš„æ„æ€äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1982950,"ctime":1683878591,"ip_address":"å¹¿ä¸œ","comment_id":373790,"utype":1}],"discussion_count":4,"race_medal":0,"score":2,"product_id":100542801,"comment_content":"çˆ¬å–çš„è¿™äº›æ•°æ®æˆ‘ä»¬éœ€è¦é€šè¿‡å“ªäº›æ–¹æ³•çŸ¥é“æ˜¯ä¸æ˜¯è¿æ³•çš„å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1982950,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/41/e6/beb42103.jpg","nickname":"é»„é¸¿æ³¢","note":"","ucode":"5EB4E6946A363C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617797,"discussion_content":"åŒå­¦ä½ å¥½ã€‚ä¸€èˆ¬æ¥è®²ï¼Œåœ¨settings.pyæ–‡ä»¶é‡Œæœ‰ä¸€ä¸ªå‚æ•°å«ROBOTSTXT_OBEYï¼Œè¿™ä¸ªæ–‡ä»¶é»˜è®¤ä¸ºTrueï¼Œä¹Ÿå°±æ˜¯éµå¾ªç½‘ç«™çš„robotsåè®®ï¼Œå¦‚æœåœ¨trueçš„çŠ¶æ€ä¸‹è¯·æ±‚è¢«æ‹’ç»ï¼Œè¯´æ˜ä¸èƒ½å»çˆ¬å–ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºFalesï¼Œä¹Ÿå°±æ˜¯æ— è§†å®ƒçš„è§„åˆ™è¿›è¡Œçˆ¬å–ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œå…¶å®å°±æœ‰ä¸€ç‚¹è¿è§„çš„æ„æ€äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683878591,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1916685,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/3f/0d/1e8dbb2c.jpg","nickname":"æ€€æ£æ¢¦æƒ³çš„å­¦æ¸£","note":"","ucode":"2349B9F4F6FDE3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":618633,"discussion_content":"å¦‚æœä½¿ç”¨äº†éä»£ç†æ± æˆ–è€…éåŒ¿åçš„IPè¿è¡Œçˆ¬è™«è·å–æ•°æ®ï¼Œéœ€è¦æå‰é‚®ä»¶å‘ç½‘ç«™è·å–æˆæƒï¼Œå¯ä»¥è§„é¿æ³•å¾‹é£é™©ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1684397509,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å±±ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2820504,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/09/98/397c2c81.jpg","nickname":"è´¾ç»´æ–¯Echo","note":"","ucode":"BB8C507E46A9E5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617367,"discussion_content":"ä½¿ç”¨ç½‘ç»œçˆ¬è™«æœ¬èº«å¹¶ä¸è¿æ³•ï¼Œä½†æ˜¯ä½¿ç”¨ç½‘ç»œçˆ¬è™«çš„æ–¹å¼å’Œç›®çš„å¯èƒ½ä¼šè¿åæ³•å¾‹æ³•è§„ã€‚å› æ­¤ï¼Œä½¿ç”¨çˆ¬è™«æ—¶éœ€è¦éµå®ˆç›¸å…³çš„æ³•å¾‹æ³•è§„å’Œé“å¾·è§„èŒƒã€‚\n\nåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨çˆ¬è™«å¯èƒ½ä¼šä¾µçŠ¯éšç§æƒã€çŸ¥è¯†äº§æƒå’Œè‘—ä½œæƒç­‰ã€‚æ­¤å¤–ï¼Œä½¿ç”¨çˆ¬è™«è¿›è¡Œæ•°æ®é‡‡é›†æ—¶ï¼Œå¿…é¡»éµå®ˆç›®æ ‡ç½‘ç«™çš„æœåŠ¡æ¡æ¬¾å’Œä½¿ç”¨åè®®ã€‚å¦‚æœç›®æ ‡ç½‘ç«™æ˜ç¡®ç¦æ­¢çˆ¬è™«æˆ–æœªç»æˆæƒçš„è®¿é—®ï¼Œé‚£ä¹ˆä½¿ç”¨çˆ¬è™«å¯èƒ½ä¼šè§¦çŠ¯ç›¸å…³çš„æ³•å¾‹æ³•è§„ã€‚\n\nå› æ­¤ï¼Œä½¿ç”¨ç½‘ç»œçˆ¬è™«æ—¶éœ€è¦å®¡æ…è€ƒè™‘å¹¶éµå®ˆç›¸å…³çš„æ³•å¾‹æ³•è§„å’Œé“å¾·è§„èŒƒã€‚å¦‚æœä¸ç¡®å®šæ˜¯å¦å¯ä»¥ä½¿ç”¨çˆ¬è™«ï¼Œå»ºè®®å…ˆå’¨è¯¢ç›¸å…³ä¸“ä¸šäººå£«æˆ–æ³•å¾‹é¡¾é—®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683531935,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":3616464,"avatar":"","nickname":"Geek_dacbef","note":"","ucode":"F0B20AC77B645C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2820504,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/09/98/397c2c81.jpg","nickname":"è´¾ç»´æ–¯Echo","note":"","ucode":"BB8C507E46A9E5","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":617503,"discussion_content":"chatgptï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683618834,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":617367,"ip_address":"æ±Ÿè‹","group_id":0},"score":617503,"extra":""}]}]},{"had_liked":false,"id":373752,"user_name":"æœªæ¥å·²æ¥","can_delete":false,"product_type":"c1","uid":1187130,"ip_address":"å¹¿ä¸œ","ucode":"3A21ACFD53CB9C","user_header":"https://static001.geekbang.org/account/avatar/00/12/1d/3a/cdf9c55f.jpg","comment_is_top":false,"comment_ctime":1683120886,"is_pvip":false,"replies":[{"id":136676,"content":"æ˜¯çš„ï¼Œå¦‚æœæ˜¯è¢«robotæ–‡ä»¶ç»™æŒ¡ä½äº†ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ROBOTSTXT_OBEY æ¥æ”¹å˜çˆ¬è™«çš„è§„åˆ™ï¼Œä½¿å…¶ä¸éµå¾ªrobotsåè®®ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1982950,"ctime":1683878419,"ip_address":"å¹¿ä¸œ","comment_id":373752,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100542801,"comment_content":"é‡åˆ°ä¸€ä¸ªæŠ¥é”™ï¼šFailure while parsing robots.txt.\nè§£å†³ï¼šæŠŠ settings.py æ–‡ä»¶çš„ `ROBOTSTXT_OBEY = True` æ”¹ä¸º `ROBOTSTXT_OBEY = False` å³å¯","like_count":1,"discussions":[{"author":{"id":1982950,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/41/e6/beb42103.jpg","nickname":"é»„é¸¿æ³¢","note":"","ucode":"5EB4E6946A363C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617795,"discussion_content":"æ˜¯çš„ï¼Œå¦‚æœæ˜¯è¢«robotæ–‡ä»¶ç»™æŒ¡ä½äº†ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ROBOTSTXT_OBEY æ¥æ”¹å˜çˆ¬è™«çš„è§„åˆ™ï¼Œä½¿å…¶ä¸éµå¾ªrobotsåè®®ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683878419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2669122,"avatar":"https://static001.geekbang.org/account/avatar/00/28/ba/42/5ca553bd.jpg","nickname":"WeitzenbÃ¶ck","note":"","ucode":"78C92583084ABA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1982950,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/41/e6/beb42103.jpg","nickname":"é»„é¸¿æ³¢","note":"","ucode":"5EB4E6946A363C","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":620948,"discussion_content":"æˆ‘ä¹Ÿé‡åˆ°è¿‡è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯ç½‘ç«™ç¼–ç ç”¨çš„ä¸æ˜¯utf-8ï¼Œåæ¥å‘ç°æ˜¯robotsåè®®é—®é¢˜ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1686672936,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":617795,"ip_address":"æ±Ÿè‹","group_id":0},"score":620948,"extra":""}]}]},{"had_liked":false,"id":373280,"user_name":"peter","can_delete":false,"product_type":"c1","uid":1058183,"ip_address":"åŒ—äº¬","ucode":"261C3FC001DE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","comment_is_top":false,"comment_ctime":1682336800,"is_pvip":false,"replies":[{"id":136416,"content":"åŒå­¦ï¼Œä½ å¥½ï¼Œæˆ‘æ¥å›ç­”ä½ çš„é—®é¢˜ï¼š\nA1ï¼šScrapyæ˜¯Pythonçš„çˆ¬è™«æ¡†æ¶ï¼Œä¸æ˜¯Javaï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥ç”¨Scrapyæ¥æŠ“å–Javaå¼€å‘çš„ç½‘ç«™ï¼Œä½†æ˜¯ä½ å¯ä»¥çœ‹çœ‹åœ¨Javaä¸Šæœ‰æ²¡æœ‰æƒ³è¿‡çš„æ¡†æ¶ï¼ŒåŸç†éƒ½æ˜¯ä¸€æ ·çš„ã€‚\nA2ï¼šå› ä¸ºAnacondaå®‰è£…ç¨‹åºé»˜è®¤ä½¿ç”¨äº†Python 3.9ï¼Œä½†åœ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒæ—¶é€‰æ‹©äº†Python 3.7ï¼Œæ‰€ä»¥ä½ çœ‹åˆ°çš„è™šæ‹Ÿç¯å¢ƒç‰ˆæœ¬æ˜¯3.7ï¼Œè™šæ‹Ÿç¯å¢ƒçš„ç‰ˆæœ¬å¯ä»¥ç‹¬ç«‹äºä¸»ç¯å¢ƒçš„ï¼Œè¿™ä¸ªæ²¡æœ‰å½±å“ã€‚\nA3ï¼šæ˜¯çš„ï¼Œæ˜¯æ­£å¸¸çš„Pythonå¼€å‘ç¯å¢ƒï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚\nA4ï¼šæ˜¯çš„ï¼Œconda listå‘½ä»¤åˆ—å‡ºçš„scrapyä¸­çš„build channelä¸­çš„37è¡¨ç¤ºScrapyä¾èµ–çš„Pythonç‰ˆæœ¬ä¸º3.7ã€‚åœ¨å®‰è£…Scrapyæ—¶éœ€è¦ä½¿ç”¨ä¸Pythonç‰ˆæœ¬å…¼å®¹çš„Scrapyç‰ˆæœ¬ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1982950,"ctime":1682612106,"ip_address":"å¹¿ä¸œ","comment_id":373280,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100542801,"comment_content":"è¯·æ•™è€å¸ˆå‡ ä¸ªé—®é¢˜å•Š\nQ1ï¼šç½‘ç«™åç«¯æ˜¯ç”¨Javaå¼€å‘çš„ï¼Œå¯ä»¥ç”¨Scrapyæ¥æŠ“å–æ•°æ®å—ï¼Ÿç›¸å½“äºä¸¤ç§è¯­è¨€çš„æ··åˆä½¿ç”¨äº†ã€‚\nQ2ï¼šAnacondaå®‰è£…çš„æœ€åä¸€æ­¥æç¤ºæ˜¯â€œpython3.9â€,ä¸ºä»€ä¹ˆåˆ›å»ºè™šæ‹Ÿç¯å¢ƒçš„æ—¶å€™pythonç‰ˆæœ¬æ˜¯3.7ï¼Ÿ\nQ3ï¼šå®‰è£…çš„è¿™ä¸ªAnacondaï¼Œæ˜¯æ­£å¸¸çš„pythonå¼€å‘ç¯å¢ƒå§ã€‚æ¯”å¦‚ç”¨æ¥å­¦ä¹ pythonï¼Œç¼–ç ç­‰ã€‚\nQ4ï¼šconda listå‘½ä»¤åˆ—å‡ºçš„scrapyï¼Œå…¶build channelæ˜¯py37XXXï¼Œ\nå…¶ä¸­çš„37æ˜¯pythonç‰ˆæœ¬å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1982950,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/41/e6/beb42103.jpg","nickname":"é»„é¸¿æ³¢","note":"","ucode":"5EB4E6946A363C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616194,"discussion_content":"åŒå­¦ï¼Œä½ å¥½ï¼Œæˆ‘æ¥å›ç­”ä½ çš„é—®é¢˜ï¼š\nA1ï¼šScrapyæ˜¯Pythonçš„çˆ¬è™«æ¡†æ¶ï¼Œä¸æ˜¯Javaï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥ç”¨Scrapyæ¥æŠ“å–Javaå¼€å‘çš„ç½‘ç«™ï¼Œä½†æ˜¯ä½ å¯ä»¥çœ‹çœ‹åœ¨Javaä¸Šæœ‰æ²¡æœ‰æƒ³è¿‡çš„æ¡†æ¶ï¼ŒåŸç†éƒ½æ˜¯ä¸€æ ·çš„ã€‚\nA2ï¼šå› ä¸ºAnacondaå®‰è£…ç¨‹åºé»˜è®¤ä½¿ç”¨äº†Python 3.9ï¼Œä½†åœ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒæ—¶é€‰æ‹©äº†Python 3.7ï¼Œæ‰€ä»¥ä½ çœ‹åˆ°çš„è™šæ‹Ÿç¯å¢ƒç‰ˆæœ¬æ˜¯3.7ï¼Œè™šæ‹Ÿç¯å¢ƒçš„ç‰ˆæœ¬å¯ä»¥ç‹¬ç«‹äºä¸»ç¯å¢ƒçš„ï¼Œè¿™ä¸ªæ²¡æœ‰å½±å“ã€‚\nA3ï¼šæ˜¯çš„ï¼Œæ˜¯æ­£å¸¸çš„Pythonå¼€å‘ç¯å¢ƒï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚\nA4ï¼šæ˜¯çš„ï¼Œconda listå‘½ä»¤åˆ—å‡ºçš„scrapyä¸­çš„build channelä¸­çš„37è¡¨ç¤ºScrapyä¾èµ–çš„Pythonç‰ˆæœ¬ä¸º3.7ã€‚åœ¨å®‰è£…Scrapyæ—¶éœ€è¦ä½¿ç”¨ä¸Pythonç‰ˆæœ¬å…¼å®¹çš„Scrapyç‰ˆæœ¬ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682612106,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2820504,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/09/98/397c2c81.jpg","nickname":"è´¾ç»´æ–¯Echo","note":"","ucode":"BB8C507E46A9E5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617369,"discussion_content":"java ç±»ä¼¼çˆ¬è™«æ¡†æ¶:\nScrapyæ˜¯ä¸€ä¸ªåŸºäºPythonçš„å¼ºå¤§ã€çµæ´»ä¸”é«˜æ•ˆçš„ç½‘ç»œçˆ¬è™«æ¡†æ¶ï¼Œå¯ä»¥ç”¨äºæŠ“å–å’Œæå–ç½‘ç«™æ•°æ®ã€‚å¦‚æœä½ æƒ³è¦ä¸€ä¸ªç±»ä¼¼äºScrapyçš„Javaçˆ¬è™«æ¡†æ¶ï¼Œå¯ä»¥è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªï¼š\n\n\nJsoupï¼šè¿™æ˜¯ä¸€ä¸ªJava HTMLè§£æå™¨ï¼Œå¯ä»¥ç”¨æ¥ä»ç½‘é¡µä¸­æå–ä¿¡æ¯ã€‚å®ƒå¯ä»¥åƒScrapyä¸€æ ·éå†ç½‘ç«™å¹¶æŠ“å–æ•°æ®ï¼Œä½†å®ƒç¼ºå°‘Scrapyä¸­è®¸å¤šé«˜çº§åŠŸèƒ½ï¼Œå¦‚è‡ªåŠ¨é™é€Ÿå’Œæ•°æ®å¤„ç†ç®¡é“ã€‚\n\nWebMagicï¼šWebMagicæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„Javaçˆ¬è™«æ¡†æ¶ï¼Œå®ƒå…·æœ‰ç±»ä¼¼äºScrapyçš„åŠŸèƒ½ã€‚å®ƒæä¾›äº†ç®€å•æ˜“ç”¨çš„APIï¼Œå¯ä»¥å¸®åŠ©ä½ æŠ“å–ç½‘ç«™æ•°æ®ã€å¤„ç†æ•°æ®ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚æ­¤å¤–ï¼ŒWebMagicè¿˜æ”¯æŒåˆ†å¸ƒå¼çˆ¬å–å’Œå¼‚æ­¥å¤„ç†ï¼Œä½¿å®ƒèƒ½å¤Ÿæ›´å¿«åœ°å¤„ç†å¤§é‡æ•°æ®ã€‚\n\nCrawler4jï¼šCrawler4jæ˜¯ä¸€ä¸ªJavaçˆ¬è™«æ¡†æ¶ï¼Œå®ƒåŸºäºApache Nutchå®ç°ã€‚å®ƒå…·æœ‰ç±»ä¼¼äºScrapyçš„åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©ä½ æŠ“å–ç½‘ç«™æ•°æ®å¹¶å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚Crawler4jè¿˜æ”¯æŒå¤šçº¿ç¨‹çˆ¬å–å’Œåˆ†å¸ƒå¼çˆ¬å–ã€‚\n\nStormCrawlerï¼šStormCrawleræ˜¯ä¸€ä¸ªåŸºäºApache Stormçš„å¼€æºçˆ¬è™«æ¡†æ¶ï¼Œå®ƒå¯ä»¥ç”¨äºå®æ—¶çˆ¬å–Webæ•°æ®ã€‚å®ƒå…·æœ‰ç±»ä¼¼äºScrapyçš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬è‡ªåŠ¨é™é€Ÿã€æ•°æ®å¤„ç†ç®¡é“å’Œè‡ªå®šä¹‰æ‰©å±•ã€‚æ­¤å¤–ï¼ŒStormCrawlerè¿˜æ”¯æŒåˆ†å¸ƒå¼çˆ¬å–å’Œé«˜åº¦å¯æ‰©å±•æ€§ã€‚\n\n\næ€»ä¹‹ï¼Œå¦‚æœä½ éœ€è¦ä¸€ä¸ªç±»ä¼¼äºScrapyçš„Javaçˆ¬è™«æ¡†æ¶ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©é€‚åˆè‡ªå·±çš„æ¡†æ¶ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683532283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2820504,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/09/98/397c2c81.jpg","nickname":"è´¾ç»´æ–¯Echo","note":"","ucode":"BB8C507E46A9E5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":617368,"discussion_content":"é—®é¢˜ä¸€:\nScrapyæ˜¯ä¸€ä¸ªPythonç¼–å†™çš„ç½‘ç»œçˆ¬è™«æ¡†æ¶ï¼Œå¯ä»¥æŠ“å–ç½‘é¡µå†…å®¹ã€è§£æç½‘é¡µæ•°æ®ç­‰ã€‚ä¸ç½‘ç«™åç«¯ä½¿ç”¨Javaå¼€å‘æ— å…³ï¼Œåªè¦ç›®æ ‡ç½‘ç«™å…è®¸çˆ¬è™«è®¿é—®ï¼Œå¹¶ä¸”æ‚¨èƒ½å¤Ÿç¡®å®šå¦‚ä½•æŠ“å–å’Œè§£ææ•°æ®ï¼Œå°±å¯ä»¥ä½¿ç”¨Scrapyè¿›è¡Œæ•°æ®çˆ¬å–ã€‚\n\nåœ¨æŠ“å–Javaåç«¯ç½‘ç«™æ—¶ï¼Œæ‚¨éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š\n\nJavaåç«¯ç½‘ç«™é€šå¸¸ä½¿ç”¨çš„æ˜¯MVCæ¡†æ¶ï¼Œå› æ­¤æ‚¨éœ€è¦æŸ¥çœ‹ç½‘ç«™çš„URLç»“æ„å¹¶ç†è§£å…¶æ•°æ®çš„ä¼ è¾“æ–¹å¼ã€‚\n\nJavaåç«¯ç½‘ç«™å¯èƒ½ä¼šä½¿ç”¨ä¸€äº›ç‰¹å®šçš„WebæŠ€æœ¯ï¼Œä¾‹å¦‚AJAXã€WebSocketç­‰ï¼Œè¿™äº›æŠ€æœ¯å¯èƒ½ä¼šå¯¼è‡´æ‚¨æ— æ³•ç›´æ¥æŠ“å–æ•°æ®ã€‚æ‚¨éœ€è¦äº†è§£è¿™äº›æŠ€æœ¯å¹¶é€‰æ‹©åˆé€‚çš„æ–¹æ³•æ¥å¤„ç†å®ƒä»¬ã€‚\n\nJavaåç«¯ç½‘ç«™å¯èƒ½ä¼šä½¿ç”¨ä¸€äº›å®‰å…¨æªæ–½ï¼Œä¾‹å¦‚åçˆ¬è™«æœºåˆ¶ã€éªŒè¯ç ç­‰ï¼Œè¿™äº›æªæ–½å¯èƒ½ä¼šå¯¹çˆ¬è™«é€ æˆä¸€å®šçš„é˜»ç¢ã€‚æ‚¨éœ€è¦ä½¿ç”¨ä¸€äº›æŠ€å·§æ¥ç»•è¿‡è¿™äº›æªæ–½ï¼Œä¾‹å¦‚ä½¿ç”¨ä»£ç†IPã€éšæœºUser-Agentã€å¤„ç†Cookieç­‰ã€‚\n\næ€»ä¹‹ï¼ŒScrapyå¯ä»¥ç”¨æ¥çˆ¬å–Javaåç«¯ç½‘ç«™çš„æ•°æ®ï¼Œä½†æ˜¯åœ¨å®é™…åº”ç”¨ä¸­éœ€è¦æ³¨æ„ä¸€äº›æŠ€æœ¯ç»†èŠ‚å’Œæ³•å¾‹æ³•è§„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1683532141,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":373252,"user_name":"GhostGuest","can_delete":false,"product_type":"c1","uid":2871611,"ip_address":"ä¸Šæµ·","ucode":"A6785E3304276B","user_header":"https://static001.geekbang.org/account/avatar/00/2b/d1/3b/a94459d2.jpg","comment_is_top":false,"comment_ctime":1682316982,"is_pvip":false,"replies":[{"id":136408,"content":"åŒå­¦ä½ å¥½ï¼Œéå¸¸æ„Ÿè°¢ä½ å¯¹æˆ‘çš„è¯¾ç¨‹çš„å…³æ³¨å’Œåé¦ˆã€‚æˆ‘ç†è§£ä½ æƒ³å°½å¿«å¾—åˆ°æ›´å¤šçš„å†…å®¹ï¼Œä½†æˆ‘çš„æ›´æ–°é¢‘ç‡å·²ç»æ˜¯æˆ‘çš„æœ€å¤§åŠªåŠ›äº†ï¼Œå› ä¸ºæˆ‘éœ€è¦èŠ±è´¹æ—¶é—´å’Œç²¾åŠ›æ¥ç ”ç©¶å’Œå‡†å¤‡æ¯ä¸ªæ›´æ–°çš„å†…å®¹ã€‚åœ¨ä½ ä»¬å­¦ä¹ è¯¾ç¨‹çš„åŒæ—¶ï¼Œæˆ‘ä¹Ÿåœ¨æ¯å¤©å†™è¯¾ã€æ”¹ç¨¿å’Œå›å¤åŒå­¦çš„ç•™è¨€åˆ°æ·±å¤œã€‚\nå¦å¤–ï¼Œæˆ‘éœ€è¦æ—¶é—´å°½é‡ä¿è¯å†…å®¹å’Œä»£ç çš„ç²¾ç»†åŒ–ï¼Œä¿è¯å…¶è´¨é‡ï¼Œè¿™æ ·å¯¹è¯»è€…æ‰æ˜¯æœ€å¥½çš„å›é¦ˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1982950,"ctime":1682607900,"ip_address":"å¹¿ä¸œ","comment_id":373252,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100542801,"comment_content":"æ›´æ–°å»ºè®®æ”¹ä¸ºä¸€å¤©ä¸€æ›´ï¼Œç°åœ¨è¿™èŠ‚å¥å¤ªæ…¢äº†ï¼Œå‰æ‘‡åŠå¤©","like_count":1,"discussions":[{"author":{"id":1982950,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/41/e6/beb42103.jpg","nickname":"é»„é¸¿æ³¢","note":"","ucode":"5EB4E6946A363C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":616166,"discussion_content":"åŒå­¦ä½ å¥½ï¼Œéå¸¸æ„Ÿè°¢ä½ å¯¹æˆ‘çš„è¯¾ç¨‹çš„å…³æ³¨å’Œåé¦ˆã€‚æˆ‘ç†è§£ä½ æƒ³å°½å¿«å¾—åˆ°æ›´å¤šçš„å†…å®¹ï¼Œä½†æˆ‘çš„æ›´æ–°é¢‘ç‡å·²ç»æ˜¯æˆ‘çš„æœ€å¤§åŠªåŠ›äº†ï¼Œå› ä¸ºæˆ‘éœ€è¦èŠ±è´¹æ—¶é—´å’Œç²¾åŠ›æ¥ç ”ç©¶å’Œå‡†å¤‡æ¯ä¸ªæ›´æ–°çš„å†…å®¹ã€‚åœ¨ä½ ä»¬å­¦ä¹ è¯¾ç¨‹çš„åŒæ—¶ï¼Œæˆ‘ä¹Ÿåœ¨æ¯å¤©å†™è¯¾ã€æ”¹ç¨¿å’Œå›å¤åŒå­¦çš„ç•™è¨€åˆ°æ·±å¤œã€‚\nå¦å¤–ï¼Œæˆ‘éœ€è¦æ—¶é—´å°½é‡ä¿è¯å†…å®¹å’Œä»£ç çš„ç²¾ç»†åŒ–ï¼Œä¿è¯å…¶è´¨é‡ï¼Œè¿™æ ·å¯¹è¯»è€…æ‰æ˜¯æœ€å¥½çš„å›é¦ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1682607901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2189275,"avatar":"https://static001.geekbang.org/account/avatar/00/21/67/db/6146bce8.jpg","nickname":"æœ±å¾—å›","note":"","ucode":"ADA07F1B1FC95F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":651566,"discussion_content":"è€å¸ˆè´Ÿè´£ä»»çš„æ€åº¦çœŸçš„éå¸¸æ£’, ç»™èµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1727079279,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1740680,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/8f/88/3814fea5.jpg","nickname":"å®‰é™ç‚¹","note":"","ucode":"9598650FD71F23","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":619671,"discussion_content":"å»ºè®®ä¸“å®¶ä¸è¦å»ºè®®ğŸ¤£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1685416089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":376316,"user_name":"WeitzenbÃ¶ck","can_delete":false,"product_type":"c1","uid":2669122,"ip_address":"æ±Ÿè‹","ucode":"78C92583084ABA","user_header":"https://static001.geekbang.org/account/avatar/00/28/ba/42/5ca553bd.jpg","comment_is_top":false,"comment_ctime":1686672290,"is_pvip":false,"replies":[{"id":140041,"content":"åº”è¯¥æ˜¯æºæ‚äº†ç‰¹æ®Šå­—ç¬¦ï¼Œä½ å¯ä»¥å†æ£€æŸ¥ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1982950,"ctime":1699861435,"ip_address":"å¹¿ä¸œ","comment_id":376316,"utype":1}],"discussion_count":5,"race_medal":0,"score":2,"product_id":100542801,"comment_content":"æˆ‘åœ¨æ‰§è¡Œmainå‡½æ•°çš„æ—¶å€™å‡ºç°äº†è¿™ä¸ªé”™è¯¯&quot;UnicodeDecodeError: &#39;utf-8&#39; codec can&#39;t decode byte 0xc3 in position 93: invalid continuation byte&quot;ï¼Œæ˜¯ä¸æ˜¯https:&#47;&#47;sina.com.cnè¿™ä¸ªç½‘ç«™æ²¡æœ‰ç”¨utf-8çš„ç¼–ç æ ¼å¼å•Š","like_count":0,"discussions":[{"author":{"id":1982950,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/41/e6/beb42103.jpg","nickname":"é»„é¸¿æ³¢","note":"","ucode":"5EB4E6946A363C","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":631676,"discussion_content":"åº”è¯¥æ˜¯æºæ‚äº†ç‰¹æ®Šå­—ç¬¦ï¼Œä½ å¯ä»¥å†æ£€æŸ¥ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1699861436,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"å¹¿ä¸œ","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2421737,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/dcW6ufIgibXKl5jwrgsIibPxRehZBqN41ZHiamWx3yWNnfCfAOabxjYzLyDKv1HyYbNJOa05dEicobfGtBbJaJmG2w/132","nickname":"Geek_79da7f","note":"","ucode":"6329F375C13B14","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":628147,"discussion_content":"ä¸Šé¢æœ‰è§£å†³æ–¹æ¡ˆï¼šå¤åˆ¶é»è´´ç­”æ¡ˆå¦‚ä¸‹ï¼š\n```\né‡åˆ°ä¸€ä¸ªæŠ¥é”™ï¼šFailure while parsing robots.txt.\nè§£å†³ï¼šæŠŠ settings.py æ–‡ä»¶çš„ `ROBOTSTXT_OBEY = True` æ”¹ä¸º `ROBOTSTXT_OBEY = False` å³å¯\n```","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1695009576,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ç¾å›½","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1258480,"avatar":"https://static001.geekbang.org/account/avatar/00/13/33/f0/50c773cd.jpg","nickname":"å…¨å›½èŠ±å¼ä¼¸è„–å­è¹¬è…¿é”¦æ ‡èµ›å† å†›ğŸ†","note":"","ucode":"77181EEE13E761","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":626943,"discussion_content":"è§£å†³äº†å—ï¼Œå…„å¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1693491194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"é‡åº†","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2189310,"avatar":"https://static001.geekbang.org/account/avatar/00/21/67/fe/5d17661a.jpg","nickname":"æ‚Ÿå°˜","note":"","ucode":"4E7E854340D3A4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1258480,"avatar":"https://static001.geekbang.org/account/avatar/00/13/33/f0/50c773cd.jpg","nickname":"å…¨å›½èŠ±å¼ä¼¸è„–å­è¹¬è…¿é”¦æ ‡èµ›å† å†›ğŸ†","note":"","ucode":"77181EEE13E761","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":633535,"discussion_content":"æˆ‘ç”¨è¿™ä¸ªæ–¹å¼è§£å†³äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1702287568,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":626943,"ip_address":"åŒ—äº¬","group_id":0},"score":633535,"extra":""}]},{"author":{"id":1073592,"avatar":"https://static001.geekbang.org/account/avatar/00/10/61/b8/7b23f8cb.jpg","nickname":"æœ¬æ¥æ˜¯äºš","note":"","ucode":"14527E5BC3C2A8","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":622386,"discussion_content":"æˆ‘ä¹Ÿé‡åˆ°äº†è¿™ä¸ªé—®é¢˜å“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1688179210,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":386553,"user_name":"å¶åœ£æ«","can_delete":false,"product_type":"c1","uid":1126794,"ip_address":"ä¸Šæµ·","ucode":"6DE65AB06AD20E","user_header":"https://static001.geekbang.org/account/avatar/00/11/31/8a/be3b7ae6.jpg","comment_is_top":false,"comment_ctime":1705066906,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100542801,"comment_content":"æˆ‘çš„macbookä¸Šä¼šæŠ¥è¿™ä¸ªé”™ï¼š\nurllib3 v2.0 only supports OpenSSL 1.1.1+, currently the &#39;ssl&#39; module is compiled with &#39;OpenSSL 1.0.2u  20 Dec 2019\nè§£å†³æ–¹æ¡ˆæ˜¯é™çº§urllib3:\npip install urllib3==1.26.6\n\n","like_count":2},{"had_liked":false,"id":385224,"user_name":"æ‚Ÿå°˜","can_delete":false,"product_type":"c1","uid":2189310,"ip_address":"åŒ—äº¬","ucode":"4E7E854340D3A4","user_header":"https://static001.geekbang.org/account/avatar/00/21/67/fe/5d17661a.jpg","comment_is_top":false,"comment_ctime":1702290812,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100542801,"comment_content":"chrom 114 ç‰ˆæœ¬ä»¥ä¸Šçš„ ä¸‹è½½chromedriveråœ¨è¿™é‡Œï¼šhttps:&#47;&#47;registry.npmmirror.com&#47;binary.html?path=chrome-for-testing&#47;","like_count":2},{"had_liked":false,"id":387607,"user_name":"æ","can_delete":false,"product_type":"c1","uid":1467260,"ip_address":"æµ™æ±Ÿ","ucode":"C2C38D3E17652B","user_header":"https://static001.geekbang.org/account/avatar/00/16/63/7c/51d07eff.jpg","comment_is_top":false,"comment_ctime":1708241723,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100542801,"comment_content":"è€å¸ˆå‡ºç°è¿™ä¸ªé”™è¯¯æ˜¯ä»€ä¹ˆåŸå› ","like_count":0},{"had_liked":false,"id":385216,"user_name":"æ‚Ÿå°˜","can_delete":false,"product_type":"c1","uid":2189310,"ip_address":"åŒ—äº¬","ucode":"4E7E854340D3A4","user_header":"https://static001.geekbang.org/account/avatar/00/21/67/fe/5d17661a.jpg","comment_is_top":false,"comment_ctime":1702287627,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100542801,"comment_content":" [scrapy.downloadermiddlewares.redirect] DEBUG: Redirecting (301) to &lt;GET https:&#47;&#47;www.sina.com.cn&#47;&gt; from &lt;GET https:&#47;&#47;sina.com.cn&gt;\n [scrapy.core.engine] DEBUG: Crawled (200) &lt;GET https:&#47;&#47;www.sina.com.cn&#47;&gt; (referer: None)\n\nè¿™ç®—æ˜¯è¿ä¸Šäº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":3713939,"avatar":"https://static001.geekbang.org/account/avatar/00/38/ab/93/106c2e44.jpg","nickname":"å¼„æ½®å„¿","note":"","ucode":"FA271FE1FF664C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":649348,"discussion_content":"æˆ‘çš„ä¹Ÿæ˜¯è¿™ä¸ªç»“æœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1723188441,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
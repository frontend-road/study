{"id":529780,"title":"09｜走近云原生：如何在本机搭建小巧完备的Kubernetes环境","content":"<p>你好，我是Chrono。</p><p>在前面的“入门篇”里，我们学习了以Docker为代表的容器技术，做好了充分的准备，那么今天我们就来看看什么是容器编排、什么是Kubernetes，还有应该怎么在自己的电脑上搭建出一个小巧完善的Kubernetes环境，一起走近云原生。</p><h2>什么是容器编排</h2><p>容器技术的核心概念是容器、镜像、仓库，使用这三大基本要素我们就可以轻松地完成应用的打包、分发工作，实现“一次开发，到处运行”的梦想。</p><p>不过，当我们熟练地掌握了容器技术，信心满满地要在服务器集群里大规模实施的时候，却会发现容器技术的创新只是解决了运维部署工作中一个很小的问题。现实生产环境的复杂程度实在是太高了，除了最基本的安装，还会有各式各样的需求，比如服务发现、负载均衡、状态监控、健康检查、扩容缩容、应用迁移、高可用等等。</p><p><img src=\"https://static001.geekbang.org/resource/image/47/da/4790335b7fdd6a29d2cdda3yy3e337da.png?wh=900x551\" alt=\"图片\" title=\"图片来自网络\"></p><p>虽然容器技术开启了云原生时代，但它也只走出了一小步，再继续前进就无能为力了，因为这已经不再是隔离一两个进程的普通问题，而是要隔离数不清的进程，还有它们之间互相通信、互相协作的超级问题，困难程度可以说是指数级别的上升。</p><p>这些容器之上的管理、调度工作，就是这些年最流行的词汇：“<strong>容器编排</strong>”（Container Orchestration）。</p><!-- [[[read_end]]] --><p>容器编排这个词听起来好像挺高大上，但如果你理解了之后就会发现其实也并不神秘。像我们在上次课里使用Docker部署WordPress网站的时候，把Nginx、WordPress、MariaDB这三个容器理清次序、配好IP地址去运行，就是最初级的一种“容器编排”，只不过这是纯手工操作，比较原始、粗糙。</p><p>面对单机上的几个容器，“人肉”编排调度还可以应付，但如果规模上到几百台服务器、成千上万的容器，处理它们之间的复杂联系就必须要依靠计算机了，而目前计算机用来调度管理的“事实标准”，就是我们专栏的主角：Kubernetes。</p><h2>什么是Kubernetes</h2><p>现在大家谈到容器都会说是Docker，但其实早在Docker之前，Google在公司内部就使用了类似的技术（cgroup就是Google开发再提交给Linux内核的），只不过不叫容器。</p><p>作为世界上最大的搜索引擎，Google拥有数量庞大的服务器集群，为了提高资源利用率和部署运维效率，它专门开发了一个集群应用管理系统，代号Borg，在底层支持整个公司的运转。</p><p>2014年，Google内部系统要“升级换代”，从原来的Borg切换到Omega，于是按照惯例，Google会发表公开论文。</p><p>因为之前在发表MapReduce、BigTable、GFS时吃过亏（被Yahoo开发的Hadoop占领了市场），所以Google决定借着Docker的“东风”，在发论文的同时，把C++开发的Borg系统用Go语言重写并开源，于是Kubernetes就这样诞生了。</p><p><img src=\"https://static001.geekbang.org/resource/image/eb/bc/ebba08c9d360cb01a332d1720e97f1bc.png?wh=1074x508\" alt=\"\"></p><p>由于Kubernetes背后有Borg系统十多年生产环境经验的支持，技术底蕴深厚，理论水平也非常高，一经推出就引起了轰动。然后在2015年，Google又联合Linux基金会成立了CNCF（Cloud Native Computing Foundation，云原生基金会），并把Kubernetes捐献出来作为种子项目。</p><p>有了Google和Linux这两大家族的保驾护航，再加上宽容开放的社区，作为CNCF的“头把交椅”，Kubernetes旗下很快就汇集了众多行业精英，仅用了两年的时间就打败了同期的竞争对手Apache Mesos和Docker Swarm，成为了这个领域的唯一霸主。</p><p>那么，Kubernetes到底能够为我们做什么呢？</p><p>简单来说，Kubernetes就是一个<strong>生产级别的容器编排平台和集群管理系统</strong>，不仅能够创建、调度容器，还能够监控、管理服务器，它凝聚了Google等大公司和开源社区的集体智慧，从而让中小型公司也可以具备轻松运维海量计算节点——也就是“云计算”的能力。</p><h2>什么是minikube</h2><p>Kubernetes一般都运行在大规模的计算集群上，管理很严格，这就对我们个人来说造成了一定的障碍，没有实际操作环境怎么能够学好用好呢？</p><p>好在Kubernetes充分考虑到了这方面的需求，提供了一些快速搭建Kubernetes环境的工具，在官网（<a href=\"https://kubernetes.io/zh/docs/tasks/tools/\">https://kubernetes.io/zh/docs/tasks/tools/</a>）上推荐的有两个：<strong>kind</strong>和<strong>minikube</strong>，它们都可以在本机上运行完整的Kubernetes环境。</p><p>我说一下对这两个工具的个人看法，供你参考。</p><p>kind基于Docker，意思是“Kubernetes in Docker”。它功能少，用法简单，也因此运行速度快，容易上手。不过它缺少很多Kubernetes的标准功能，例如仪表盘、网络插件，也很难定制化，所以我认为它比较适合有经验的Kubernetes用户做快速开发测试，不太适合学习研究。</p><p>不选kind还有一个原因，它的名字与Kubernetes YAML配置里的字段 <code>kind</code> 重名，会对初学者造成误解，干扰学习。</p><p>再来看minikube，从名字就能够看出来，它是一个“迷你”版本的Kubernetes，自从2016年发布以来一直在积极地开发维护，紧跟Kubernetes的版本更新，同时也兼容较旧的版本（最多只到之前的6个小版本）。</p><p>minikube最大特点就是“小而美”，可执行文件仅有不到100MB，运行镜像也不过1GB，但就在这么小的空间里却集成了Kubernetes的绝大多数功能特性，不仅有核心的容器编排功能，还有丰富的插件，例如Dashboard、GPU、Ingress、Istio、Kong、Registry等等，综合来看非常完善。</p><p>所以，我建议你在这个专栏里选择minikube来学习Kubernetes。</p><h2>如何搭建minikube环境</h2><p>minikube支持Mac、Windows、Linux这三种主流平台，你可以在它的官网（<a href=\"https://minikube.sigs.k8s.io/docs\">https://minikube.sigs.k8s.io</a>）找到详细的安装说明，当然在我们这里就只用虚拟机里的Linux了。</p><p>minikube的最新版本是1.25.2，支持的Kubernetes版本是1.23.3，所以我们就选定它作为我们初级篇的学习工具。</p><p>minikube不包含在系统自带的apt/yum软件仓库里，我们只能自己去网上找安装包。不过因为它是用Go语言开发的，整体就是一个二进制文件，没有多余的依赖，所以安装过程也非常简单，只需要用curl或者wget下载就行。</p><p>minikube的官网提供了各种系统的安装命令，通常就是下载、拷贝这两步，不过你需要注意一下本机电脑的硬件架构，Intel芯片要选择带“<strong>amd64</strong>”后缀，Apple M1芯片要选择“<strong>arm64</strong>”后缀，选错了就会因为CPU指令集不同而无法运行：</p><p><img src=\"https://static001.geekbang.org/resource/image/d5/84/d526aa920fba9bee9856177495a1c884.png?wh=1920x1004\" alt=\"图片\"></p><p>我也把官网上Linux系统安装的命令抄在了这里，你可以直接拷贝后安装：</p><pre><code class=\"language-bash\"># Intel x86_64\ncurl -Lo minikube https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64\n\n# Apple arm64\ncurl -Lo minikube https://storage.googleapis.com/minikube/releases/latest/minikube-linux-arm64\n\nsudo install minikube /usr/local/bin/\n</code></pre><p>安装完成之后，你可以执行命令 <code>minikube version</code>，看看它的版本号，验证是否安装成功：</p><pre><code class=\"language-plain\">minikube version\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/c0/ec/c01e21cb3835520fd148f063e67605ec.png?wh=1266x188\" alt=\"图片\"></p><p>不过minikube只能够搭建Kubernetes环境，要操作Kubernetes，还需要另一个专门的客户端工具“<strong>kubectl</strong>”。</p><p>kubectl的作用有点类似之前我们学习容器技术时候的工具“docker”，它也是一个命令行工具，作用也比较类似，同样是与Kubernetes后台服务通信，把我们的命令转发给Kubernetes，实现容器和集群的管理功能。</p><p>kubectl是一个与Kubernetes、minikube彼此独立的项目，所以不包含在minikube里，但minikube提供了安装它的简化方式，你只需执行下面的这条命令：</p><pre><code class=\"language-plain\">minikube kubectl\n</code></pre><p>它就会把与当前Kubernetes版本匹配的kubectl下载下来，存放在内部目录（例如 <code>.minikube/cache/linux/arm64/v1.23.3</code>），然后我们就可以使用它来对Kubernetes“发号施令”了。</p><p>所以，在minikube环境里，我们会用到两个客户端：minikube管理Kubernetes集群环境，kubectl操作实际的Kubernetes功能，和Docker比起来有点复杂。</p><p>我画了一个简单的minikube环境示意图，方便你理解它们的关系。</p><p><img src=\"https://static001.geekbang.org/resource/image/22/e3/22c4d6ef48a0cf009946ebbbc31b91e3.jpg?wh=1920x1406\" alt=\"图片\"></p><h2>实际验证minikube环境</h2><p>前面的工作都做完之后，我们就可以在本机上运行minikube，创建Kubernetes实验环境了。</p><p>使用命令 <code>minikube start</code> 会从Docker Hub上拉取镜像，以当前最新版本的Kubernetes启动集群。不过为了保证实验环境的一致性，我们可以在后面再加上一个参数 <code>--kubernetes-version</code>，明确指定要使用Kubernetes版本。</p><p>这里我使用“1.23.3”，启动命令就是：</p><pre><code class=\"language-bash\">minikube start --kubernetes-version=v1.23.3\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/2d/d0/2db1bb67d11892a60b9204fc61e307d0.png?wh=1920x514\" alt=\"图片\"></p><p>（它的启动过程使用了比较活泼的表情符号，可能是想表现得平易近人吧，如果不喜欢也可以调整设置关闭它。）</p><p>现在Kubernetes集群就已经在我们本地运行了，你可以使用 <code>minikube status</code>、<code>minikube node list</code>这两个命令来查看集群的状态：</p><pre><code class=\"language-bash\">minikube status\nminikube node list\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/82/38/827df6e7b3b5836e093c887f753d4938.png?wh=882x604\" alt=\"图片\"></p><p>从截图里可以看到，Kubernetes集群里现在只有一个节点，名字就叫“minikube”，类型是“Control Plane”，里面有host、kubelet、apiserver三个服务，IP地址是192.168.49.2。</p><p>你还可以用命令 <code>minikube ssh</code> 登录到这个节点上，虽然它是虚拟的，但用起来和实机也没什么区别：</p><p><img src=\"https://static001.geekbang.org/resource/image/dd/03/dd04a831f618d70ba77bdaecdb108d03.png?wh=1920x245\" alt=\"图片\"></p><p>有了集群，接下来我们就可以使用kubectl来操作一下，初步体会Kubernetes这个容器编排系统，最简单的命令当然就是查看版本：</p><pre><code class=\"language-bash\">kubectl version\n</code></pre><p>不过这条命令还不能直接用，因为使用minikube自带的kubectl有一点形式上的限制，要在前面加上minikube的前缀，后面再有个 <code>--</code>，像这样：</p><pre><code class=\"language-bash\">minikube kubectl -- version \n</code></pre><p>为了避免这个不大不小的麻烦，我建议你使用Linux的“<strong>alias</strong>”功能，为它创建一个别名，写到当前用户目录下的 <code>.bashrc</code> 里，也就是这样：</p><pre><code class=\"language-plain\">alias kubectl=\"minikube kubectl --\"\n</code></pre><p>另外，kubectl还提供了命令自动补全的功能，你还应该再加上“<strong>kubectl completion</strong>”：</p><pre><code class=\"language-plain\">source &lt;(kubectl completion bash)\n</code></pre><p>现在，我们就可以愉快地使用kubectl了：</p><p><img src=\"https://static001.geekbang.org/resource/image/ab/f9/abdc85efa4d3b25d779faec7c80b5ff9.png?wh=1920x202\" alt=\"图片\"></p><p>下面我们<strong>在Kubernetes里运行一个Nginx应用，命令与Docker一样，也是 <code>run</code>，不过形式上有点区别，需要用 <code>--image</code> 指定镜像</strong>，然后Kubernetes会自动拉取并运行：</p><pre><code class=\"language-plain\">kubectl run ngx --image=nginx:alpine\n</code></pre><p>这里涉及Kubernetes里的一个非常重要的概念：<strong>Pod</strong>，你可以暂时把它理解成是“穿了马甲”的容器，查看Pod列表需要使用命令 <code>kubectl get pod</code>，它的效果类似 <code>docker ps</code>：</p><p><img src=\"https://static001.geekbang.org/resource/image/2a/95/2abb91592d0ff740134a5d7665cb7c95.png?wh=1352x304\" alt=\"图片\"></p><p>命令执行之后可以看到，在Kubernetes集群里就有了一个名字叫ngx的Pod正在运行，表示我们的这个单节点minikube环境已经搭建成功。</p><h2>小结</h2><p>好了，今天我们先了解了容器编排概念和Kubernetes的历史，然后在Linux虚拟机上安装了minikube和kubectl，运行了一个简单但完整的Kubernetes集群，实现了与云原生的“第一次亲密接触”。</p><p>那什么是云原生呢？这在CNCF上有明确的定义，不过我觉得太学术化了，我也不想机械重复，就讲讲我自己的通俗理解吧。</p><p>所谓的“云”，现在就指的是Kubernetes，那么“云原生”的意思就是应用的开发、部署、运维等一系列工作都要向Kubernetes看齐，使用容器、微服务、声明式API等技术，保证应用的整个生命周期都能够在Kubernetes环境里顺利实施，不需要附加额外的条件。</p><p>换句话说，“云原生”就是Kubernetes里的“原住民”，而不是从其他环境迁过来的“移民”。</p><p>最后照例小结一下今天的内容：</p><ol>\n<li>容器技术只解决了应用的打包、安装问题，面对复杂的生产环境就束手无策了，解决之道就是容器编排，它能够组织管理各个应用容器之间的关系，让它们顺利地协同运行。</li>\n<li>Kubernetes源自Google内部的Borg系统，也是当前容器编排领域的事实标准。minikube可以在本机搭建Kubernetes环境，功能很完善，适合学习研究。</li>\n<li>操作Kubernetes需要使用命令行工具kubectl，只有通过它才能与Kubernetes集群交互。</li>\n<li>kubectl的用法与docker类似，也可以拉取镜像运行，但操作的不是简单的容器，而是Pod。</li>\n</ol><p>另外还要说一下Kubernetes的官网（<a href=\"https://kubernetes.io/zh/\">https://kubernetes.io/zh/</a>），里面有非常详细的文档，包括概念解释、入门教程、参考手册等等，最难得的是它有全中文版本，我们阅读起来完全不会有语言障碍，希望你有时间多上去看看，及时获取官方第一手知识。</p><h2>课下作业</h2><p>最后是课下作业时间，给你留两个思考题：</p><ol>\n<li>你是怎么理解容器编排和Kubernetes的？它们应该能够解决什么问题？</li>\n<li>你认为Kubernetes和Docker之间有什么区别？</li>\n</ol><p>欢迎积极留言参与讨论，觉得有收获也欢迎你转发给朋友一起学习，我们下节课见。</p><p><img src=\"https://static001.geekbang.org/resource/image/90/96/90a478eeb6ae8a6ccd988fedc3ab4096.jpg?wh=1920x3272\" alt=\"\"></p>","neighbors":{"left":{"article_title":"08｜视频：入门篇实操总结","id":528766},"right":{"article_title":"10｜自动化的运维管理：探究Kubernetes工作机制的奥秘","id":529800}},"comments":[{"had_liked":false,"id":351088,"user_name":"柳成荫","can_delete":false,"product_type":"c1","uid":2341748,"ip_address":"","ucode":"911F75C3D7AE02","user_header":"https://static001.geekbang.org/account/avatar/00/23/bb/74/edc07099.jpg","comment_is_top":false,"comment_ctime":1657519315,"is_pvip":true,"replies":[{"id":"127720","content":"great","user_name":"作者回复","comment_id":351088,"uid":"1181974","ip_address":"","utype":1,"ctime":1657525351,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":1,"score":"156276341971","product_id":100114501,"comment_content":"镜像拉取成功，遇到了几个坑<br>1. docker版本过低，docker升级到20.10.1以上<br>2. 不能用root账号，加上--force<br>3. 镜像拉取不下来，切换到国内镜像，先执行 minikube delete<br>再执行 minikube start --image-mirror-country=&#39;cn&#39;","like_count":36,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579556,"discussion_content":"great","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657525351,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351203,"user_name":"自由","can_delete":false,"product_type":"c1","uid":2576960,"ip_address":"","ucode":"4E3B53D29D86CA","user_header":"https://static001.geekbang.org/account/avatar/00/27/52/40/db9b0eb2.jpg","comment_is_top":false,"comment_ctime":1657607842,"is_pvip":false,"replies":[{"id":"127750","content":"amazing！","user_name":"作者回复","comment_id":351203,"uid":"1181974","ip_address":"","utype":1,"ctime":1657610976,"user_name_real":"编辑"}],"discussion_count":3,"race_medal":0,"score":"96146888354","product_id":100114501,"comment_content":"1.1、如何理解容器编排？<br>先拆成两个部分，什么是容器？什么是编排？以前，程序运行在物理机或虚拟机中。容器，是现代程序的运行方式。编排就是部署、管理应用程序的系统，能动态地响应变化，例如以下部分功能。<br> - 回滚<br> - 滚动升级<br> - 故障自愈<br> - 自动扩缩容<br>自动完成以上所有任务。需要人工最初进行一些配置，就可以一劳永逸。回顾一下，什么是容器编排，运行容器形式的应用程序，这些应用程序的构建方式，使它们能够实现回滚、滚动升级、故障自愈、自动扩缩容等。<br><br>1.2、如何理解 Kubernetes？<br>举一个例子，寄、收快递的过程。发件人将货物按照快递公司的标准打包，提供基本信息（收货地址等），然后交给快递小哥。其他事情，无需发件人操心了，例如快递用什么交通工具运输、司机走哪条高速等等。快递公司同时提供物流查询、截断快递等服务。重点在于，快递公司仅需要发件人提供基本信息。Kubernetes 也是类似的，将应用程序打包成容器，声明运行方式，交给 Kubernetes 即可，同时它提供了丰富的工具和 API 来控制、观测运行在平台之上的应用程序。<br><br>1.3 容器编排应该能够解决什么问题？<br>屏蔽底层的复杂性。<br><br>2、Kubernetes 和 Docker 之间有什么区别？<br>Docker 应用打包、测试、交付。Kubernetes 基于 Docker 的产物，进行编排、运行。例如现在有 1 个集群，3 个节点。这些节点，都以 Docker 作为容器运行时，Docker 是更偏向底层的技术。Kubernetes 更偏向上层的技术 ，它实现了对容器运行时的抽象，抽象的目的是兼容底层容器运行时（容器进行时技术不仅有 Docker，还有 containerd、kata 等，无论哪种容器运行时，Kubernetes 层面的操作都是一样的）以及解耦，同时还提供了一套容器运行时的标准。抽象的产物是容器运行时接口 CRI。<br><br>说的不对的地方请斧正 : - )<br>","like_count":23,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579673,"discussion_content":"amazing！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657610976,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3099937,"avatar":"","nickname":"Geek_671260","note":"","ucode":"9CC84840E53E72","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583295,"discussion_content":"课代表","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660015708,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"江西"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580598,"discussion_content":"同学，总结的不错。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658282862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351336,"user_name":"朱雯","can_delete":false,"product_type":"c1","uid":1035744,"ip_address":"","ucode":"064C45FBF6B51F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","comment_is_top":false,"comment_ctime":1657707581,"is_pvip":true,"replies":[{"id":"127793","content":"very good.","user_name":"作者回复","comment_id":351336,"uid":"1181974","ip_address":"","utype":1,"ctime":1657710508,"user_name_real":"编辑"}],"discussion_count":3,"race_medal":0,"score":"44607380541","product_id":100114501,"comment_content":"记录一下我遇到的坑，和评论里面解决方案:<br>1. 不能用root账号，使用普通用户加上--force<br>2. 镜像拉取不下来，切换到国内镜像，先执行 minikube delete<br>再执行 minikube start --image-mirror-country=&#39;cn&#39;  --kubernetes-version=v1.23.3<br>3.  安装一直停留在这里    <br>  - Booting up control plane ...| 调整虚拟机配置，调到4c8g。<br>4. 我自己之前的一个配置错误，将minikube 生成的kubectl 加入到了path中。","like_count":10,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579839,"discussion_content":"very good.","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657710508,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1035744,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","nickname":"朱雯","note":"","ucode":"064C45FBF6B51F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579852,"discussion_content":"再加一条，将用户加入到用户属组中sudo usermod -aG docker $USER &amp;&amp; newgrp docker","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1657716827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2691377,"avatar":"https://static001.geekbang.org/account/avatar/00/29/11/31/278e7fe1.jpg","nickname":"小吉他","note":"","ucode":"8B69721EA847BA","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589143,"discussion_content":"内存不足 再加一个指令 --memory=4096","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664443037,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"浙江"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351293,"user_name":"许飞","can_delete":false,"product_type":"c1","uid":2789963,"ip_address":"","ucode":"2579B1A828D8BC","user_header":"https://static001.geekbang.org/account/avatar/00/2a/92/4b/1262f052.jpg","comment_is_top":false,"comment_ctime":1657680371,"is_pvip":true,"replies":[{"id":"127770","content":"great","user_name":"作者回复","comment_id":351293,"uid":"1181974","ip_address":"","utype":1,"ctime":1657684471,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"27427484147","product_id":100114501,"comment_content":"minikube start --kubernetes-version=v1.23.3 --image-mirror-country=&#39;cn&#39; --force<br>","like_count":6,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579779,"discussion_content":"great","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657684471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351076,"user_name":"jxs1211","can_delete":false,"product_type":"c1","uid":1101006,"ip_address":"","ucode":"B7F1F2D84389E7","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKELX1Rd1vmLRWibHib8P95NA87F4zcj8GrHKYQL2RcLDVnxNy1ia2geTWgW6L2pWn2kazrPNZMRVrIg/132","comment_is_top":false,"comment_ctime":1657512899,"is_pvip":false,"replies":[{"id":"127715","content":"kubeadm是Kubernetes的安装工具，minikube是一个集成学习环境，中级篇会讲kubeadm，慢慢来。","user_name":"作者回复","comment_id":351076,"uid":"1181974","ip_address":"","utype":1,"ctime":1657516932,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"23132349379","product_id":100114501,"comment_content":"kubeadmin和minikube有什么区别，用哪个如何选择","like_count":5,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579523,"discussion_content":"kubeadm是Kubernetes的安装工具，minikube是一个集成学习环境，中级篇会讲kubeadm，慢慢来。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657516932,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351753,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1658154096,"is_pvip":false,"replies":[{"id":"127920","content":"我们课程的主旨的入门学习Kubernetes，差一两个版本区别不大，快速上手才是最重要的。<br><br>后续等版本变化大了可以再补充完善。","user_name":"作者回复","comment_id":351753,"uid":"1181974","ip_address":"","utype":1,"ctime":1658184937,"user_name_real":"编辑"}],"discussion_count":2,"race_medal":0,"score":"18838023280","product_id":100114501,"comment_content":"老师，我说出本课比较影响体验的一个地方吧：<br><br>现在大家安装的minikube的版本都是：v1.26.0。（这个版本是6月22号发布的）大家七月份学习这个课程的话。<br><br>Release Notes 是这样说的：<br><br>Note: Using a minikube cluster created before 1.26.0, using the docker container-runtime (default), and plan to upgrade the Kubernetes version to v1.24+? After upgrading, you may need to delete &amp; recreate it. none driver users, cri-docker is now required to be installed, install instructions. See issue #14410 for more info.<br><br>Kubernetes version to v1.24+ 以上的版本是一个分水岭，老师应该讲v1.24+ 的版本会比较好一些吧？<br><br>不然按照课程中的方式，大家都只能安装v1.23.3，不知道怎么解决高版本Kubernetes的问题。","like_count":4,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580428,"discussion_content":"我们课程的主旨的入门学习Kubernetes，差一两个版本区别不大，快速上手才是最重要的。\n\n后续等版本变化大了可以再补充完善。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658184937,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1006865,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5d/11/e1f36640.jpg","nickname":"怀朔","note":"","ucode":"52FAC1C2FD37B6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584150,"discussion_content":"不推荐随便装  版本之前区别不大 不同的网络环境 版本不一定支持 且问题很多 建议统一\n","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1660643299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"浙江"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351337,"user_name":"朱雯","can_delete":false,"product_type":"c1","uid":1035744,"ip_address":"","ucode":"064C45FBF6B51F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","comment_is_top":false,"comment_ctime":1657708104,"is_pvip":true,"replies":[{"id":"127795","content":"great","user_name":"作者回复","comment_id":351337,"uid":"1181974","ip_address":"","utype":1,"ctime":1657710553,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"18837577288","product_id":100114501,"comment_content":"尝试回答一下这两个问题：docker和k8s之间的区别，一个是容器技术，一个是容器编排技术，两者思考的维度是不一样的，就容器而言，容器解决的问题是隔离，是一次打包到处运行的问题，最大的价值就在于镜像的迁移。编排技术则是关注的是整个系统的问题，如果你只关注一个服务，迁移一个服务，那docker就够，但要迁移整个系统以及运维，那就需要编排，包括网络关系，负载均衡，回滚，监控，扩缩容问题则需要容器编排技术。<br>","like_count":4,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579841,"discussion_content":"great","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657710553,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351077,"user_name":"自由","can_delete":false,"product_type":"c1","uid":2576960,"ip_address":"","ucode":"4E3B53D29D86CA","user_header":"https://static001.geekbang.org/account/avatar/00/27/52/40/db9b0eb2.jpg","comment_is_top":false,"comment_ctime":1657513327,"is_pvip":false,"replies":[{"id":"127717","content":"哎我看看去，已经修改过来啦，非常感谢～","user_name":"编辑回复","comment_id":351077,"uid":"2547771","ip_address":"","utype":2,"ctime":1657524716,"user_name_real":"编辑"}],"discussion_count":4,"race_medal":0,"score":"18837382511","product_id":100114501,"comment_content":"`Google 又联合 Linux 基金会成了 CNCF`，应该修改为`Google 又联合 Linux 基金会成立了 CNCF`","like_count":4,"discussions":[{"author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"多少","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579552,"discussion_content":"哎我看看去，已经修改过来啦，非常感谢～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657524716,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":1,"child_discussions":[{"author":{"id":2576960,"avatar":"https://static001.geekbang.org/account/avatar/00/27/52/40/db9b0eb2.jpg","nickname":"自由","note":"","ucode":"4E3B53D29D86CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"多少","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":4,"is_pvip":false},"discussion":{"id":579658,"discussion_content":"：-）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657602173,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":579552,"ip_address":""},"score":579658,"extra":""}]},{"author":{"id":1111985,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f7/b1/982ea185.jpg","nickname":"Frank","note":"","ucode":"9DADD72C193296","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579585,"discussion_content":"那么仔细啊\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657537481,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2576960,"avatar":"https://static001.geekbang.org/account/avatar/00/27/52/40/db9b0eb2.jpg","nickname":"自由","note":"","ucode":"4E3B53D29D86CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1111985,"avatar":"https://static001.geekbang.org/account/avatar/00/10/f7/b1/982ea185.jpg","nickname":"Frank","note":"","ucode":"9DADD72C193296","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":579659,"discussion_content":"：-）","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657602179,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":579585,"ip_address":""},"score":579659,"extra":""}]}]},{"had_liked":false,"id":351067,"user_name":"Geek_7e25fd","can_delete":false,"product_type":"c1","uid":3021787,"ip_address":"","ucode":"A730520B1512C1","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/P5EIPG3R01kEcsSSm0UZlyysg3qak8qWQXlwKKIoCkdxKtyorxD6h4S7bVvNNBM9icynCGvZO0bA5jGNgy3oBiag/132","comment_is_top":false,"comment_ctime":1657509261,"is_pvip":true,"replies":[{"id":"127714","content":"这个没什么太好的办法，有的国内有镜像同步网站，其他的就没办法了。<br><br>到中级篇会讲一下拉取Kubernetes镜像的方法。","user_name":"作者回复","comment_id":351067,"uid":"1181974","ip_address":"","utype":1,"ctime":1657510704,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"18837378445","product_id":100114501,"comment_content":"老师，如何解决镜像拉取的过程当中，速度过慢或者无法下载的问题呢？能加餐镜像加速的知识？","like_count":4,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579516,"discussion_content":"这个没什么太好的办法，有的国内有镜像同步网站，其他的就没办法了。\n\n到中级篇会讲一下拉取Kubernetes镜像的方法。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657510704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352351,"user_name":"雨落～紫竹","can_delete":false,"product_type":"c1","uid":1666025,"ip_address":"","ucode":"33CED2F34E708F","user_header":"https://static001.geekbang.org/account/avatar/00/19/6b/e9/7620ae7e.jpg","comment_is_top":false,"comment_ctime":1658569553,"is_pvip":true,"replies":[{"id":"128182","content":"good","user_name":"作者回复","comment_id":352351,"uid":"1181974","ip_address":"","utype":1,"ctime":1658584927,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":4,"score":"14543471441","product_id":100114501,"comment_content":"碰到一坑 minikube start 无法启动 群友建议minikube delete --all --purge 解决","like_count":3,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581192,"discussion_content":"good","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658584927,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351904,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1658284814,"is_pvip":false,"replies":[{"id":"127963","content":"<br>1.是的，可以搜一下Hadoop的历史，挺有意思的。<br><br>2.kubelet是管理节点的，与apiservr通信，没有它节点就失联了。<br><br>3.minikube把Kubernetes的运行环境打包成了一个镜像，就是docker image，以容器的形式来模拟Kubernetes的节点。<br><br>4.可以看kubectl completion -h的说明<br><br>5.没错，gcr.io是的短域名<br><br>6. 命令行里的第一个minikube是程序名，默认会登录名字叫minikube的节点，可以看它的帮助信息。","user_name":"作者回复","comment_id":351904,"uid":"1181974","ip_address":"","utype":1,"ctime":1658301877,"user_name_real":"编辑"}],"discussion_count":2,"race_medal":0,"score":"14543186702","product_id":100114501,"comment_content":"老师你好，有几个小问题：<br>1. Hadoop是借鉴那几篇论文的内容吗？然后迅速占领了市场。<br>2. 文章中的“kubelet”服务是做什么的呀？<br>3. “minikube，运行镜像也不过 1GB”。 这里的运行镜像是什么？ 是我们之前学习的 image文件吗？<br>4. source &lt;(kubectl completion bash)  没看懂这个命令后面的部分，能大致说一下么？<br>5. 浏览器输入gcr.io 会跳转到 https:&#47;&#47;cloud.google.com&#47;container-registry&#47; 这个网站，是正确的吗？<br>6. minikube ssh   前面的“minikube”是 节点的名称，对吧？<br>","like_count":3,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580638,"discussion_content":"\n1.是的，可以搜一下Hadoop的历史，挺有意思的。\n\n2.kubelet是管理节点的，与apiservr通信，没有它节点就失联了。\n\n3.minikube把Kubernetes的运行环境打包成了一个镜像，就是docker image，以容器的形式来模拟Kubernetes的节点。\n\n4.可以看kubectl completion -h的说明\n\n5.没错，gcr.io是的短域名\n\n6. 命令行里的第一个minikube是程序名，默认会登录名字叫minikube的节点，可以看它的帮助信息。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658301877,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":580655,"discussion_content":"谢谢老师的解答，太感谢了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658306692,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":580638,"ip_address":""},"score":580655,"extra":""}]}]},{"had_liked":false,"id":351512,"user_name":"一颗红心","can_delete":false,"product_type":"c1","uid":2540587,"ip_address":"","ucode":"9CAB419062DAC2","user_header":"https://static001.geekbang.org/account/avatar/00/26/c4/2b/b3f917ec.jpg","comment_is_top":false,"comment_ctime":1657857136,"is_pvip":true,"replies":[{"id":"127845","content":"good","user_name":"作者回复","comment_id":351512,"uid":"1181974","ip_address":"","utype":1,"ctime":1657863028,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"14542759024","product_id":100114501,"comment_content":"直接使用官方的最新版，总是失败。<br>指定版本后可以正常启动😅","like_count":3,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580078,"discussion_content":"good","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657863028,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351086,"user_name":"pyhhou","can_delete":false,"product_type":"c1","uid":1256496,"ip_address":"","ucode":"31EF8D50CF91A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibZVAmmdAibBeVpUjzwId8ibgRzNk7fkuR5pgVicB5mFSjjmt2eNadlykVLKCyGA0GxGffbhqLsHnhDRgyzxcKUhjg/132","comment_is_top":false,"comment_ctime":1657518575,"is_pvip":false,"replies":[{"id":"127722","content":"<br>1.感谢指正，不应该有空格。<br><br>2. minikube的镜像不在gcr.io上，但其他应用要是在gcr.io上就没办法了。","user_name":"作者回复","comment_id":351086,"uid":"1181974","ip_address":"","utype":1,"ctime":1657525495,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"14542420463","product_id":100114501,"comment_content":"思考题：<br><br>1. 容器编排的目的是使容器的管理更加的工程化，解决一些因为容器规模上升所带来的潜在问题，比如容器间通信，容器的负载均衡，等等。Kubernetes 就是让容器编排的最佳实践得以落地的一个有力工具<br><br>2. docker 技术目的是提供创建容器以及容器镜像方法，聚焦的点是容器技术本身。而 K8S 技术目的是解决由于容器规模增大而带来的各种工程化问题，它以容器技术为基础，但是聚焦的点不再是容器技术了，而是上层的系统架构等问题<br><br>老师，source &lt; (kubectl completion bash) 这条命令貌似在 bash 中有语法错误，好像是 &lt; 后面多了个空格，应该是 source &lt;(kubectl completion bash) ？<br><br>另外，minikube 默认是从 gcr.io 抓取镜像，如果 gcr.io 无法访问的话就换成 DockerHub 吗？","like_count":3,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579558,"discussion_content":"\n1.感谢指正，不应该有空格。\n\n2. minikube的镜像不在gcr.io上，但其他应用要是在gcr.io上就没办法了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657525495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351084,"user_name":"自由","can_delete":false,"product_type":"c1","uid":2576960,"ip_address":"","ucode":"4E3B53D29D86CA","user_header":"https://static001.geekbang.org/account/avatar/00/27/52/40/db9b0eb2.jpg","comment_is_top":false,"comment_ctime":1657516812,"is_pvip":false,"replies":[{"id":"127719","content":"great","user_name":"作者回复","comment_id":351084,"uid":"1181974","ip_address":"","utype":1,"ctime":1657525328,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"14542418700","product_id":100114501,"comment_content":"执行 minikube start --kubernetes-version=v1.23.3 至少需要虚拟机分配了 2 个 cpu。关闭虚拟机，然后在 virtualBox 中选中当前虚拟机，右键，进入设置，单击系统，单击处理器，调整处理器数量。","like_count":3,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579555,"discussion_content":"great","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657525329,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351047,"user_name":"无名无姓","can_delete":false,"product_type":"c1","uid":2621412,"ip_address":"","ucode":"487BD5AA2CD305","user_header":"https://static001.geekbang.org/account/avatar/00/27/ff/e4/927547a9.jpg","comment_is_top":false,"comment_ctime":1657499284,"is_pvip":true,"replies":[{"id":"127702","content":"准时00:00更新😁","user_name":"编辑回复","comment_id":351047,"uid":"2547771","ip_address":"","utype":2,"ctime":1657505190,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"14542401172","product_id":100114501,"comment_content":"更新的够早的","like_count":3,"discussions":[{"author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"多少","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579500,"discussion_content":"准时00:00更新😁","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657505190,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351039,"user_name":"罗耀龙@坐忘","can_delete":false,"product_type":"c1","uid":1917663,"ip_address":"","ucode":"3CEA258DE7F3C7","user_header":"https://static001.geekbang.org/account/avatar/00/1d/42/df/a034455d.jpg","comment_is_top":false,"comment_ctime":1657478933,"is_pvip":true,"replies":[{"id":"127704","content":"great","user_name":"作者回复","comment_id":351039,"uid":"1181974","ip_address":"","utype":1,"ctime":1657506384,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":5,"score":"14542380821","product_id":100114501,"comment_content":"按照老师的教程，集群成功拉起。<br>就是拉取镜像时要耐心一点<br>","like_count":3,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579502,"discussion_content":"great","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657506384,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353854,"user_name":"luke Y","can_delete":false,"product_type":"c1","uid":2311463,"ip_address":"北京","ucode":"111F98D367235B","user_header":"https://static001.geekbang.org/account/avatar/00/23/45/27/4fbf8f6a.jpg","comment_is_top":false,"comment_ctime":1659863888,"is_pvip":true,"replies":[{"id":"128637","content":"只要能够用Linux搭建出环境就好，不一定非要用虚拟机。","user_name":"作者回复","comment_id":353854,"uid":"1181974","ip_address":"北京","utype":1,"ctime":1659872954,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"10249798480","product_id":100114501,"comment_content":"哈哈哈 wsl2(Ubuntu-20.04) 按照老师教的安装成功，不想虚拟机的可以试试😂  不过不管虚拟机还是别的方式别忘了备份","like_count":2,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583008,"discussion_content":"只要能够用Linux搭建出环境就好，不一定非要用虚拟机。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659872954,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357625,"user_name":"🐶","can_delete":false,"product_type":"c1","uid":1650374,"ip_address":"北京","ucode":"64CD88F257EF47","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ2Yh76VNBxBfEPGbSeiaNVTXDZcfjFm7l8RtoD5j53Biakuia0XAV7UsiaZ2fhxhytiar3oEd7ib737WzQ/132","comment_is_top":false,"comment_ctime":1663498399,"is_pvip":true,"replies":[{"id":"130174","content":"可以尝试改用Kubernetes 1.23&#47;1.24看看。","user_name":"作者回复","comment_id":357625,"uid":"1181974","ip_address":"北京","utype":1,"ctime":1663557361,"user_name_real":"编辑"}],"discussion_count":2,"race_medal":0,"score":"5958465695","product_id":100114501,"comment_content":"minikube start 失败， 遇到问题如下（删减），有没有朋友解决的呢🙏<br><br>▪ Booting up control plane ...<br>💢  initialization failed, will try again: wait: &#47;bin&#47;bash -c &quot;sudo env PATH=&quot;&#47;var&#47;lib&#47;minikube&#47;binaries&#47;v1.25.0:$PATH&quot; kubeadm init --config Process exited with status 1<br>stdout:<br>[init] Using Kubernetes version: v1.25.0<br>[preflight] Running pre-flight checks<br>[preflight] The system verification failed. Printing the output from the verification:<br>KERNEL_VERSION: 5.15.0-47-generic<br>OS: Linux<br>CGROUPS_CPU: enabled<br>CGROUPS_CPUSET: enabled<br>CGROUPS_DEVICES: enabled<br>CGROUPS_FREEZER: enabled<br>CGROUPS_MEMORY: enabled<br>CGROUPS_PIDS: enabled<br>CGROUPS_HUGETLB: enabled<br>CGROUPS_BLKIO: missing<br><br><br>stderr:<br>W0918 10:43:48.422512     949 initconfiguration.go:119] Usage of CRI endpoints without URL scheme is deprecated and can cause kubelet errors in the future. Automatically prepending scheme &quot;unix&quot; to the &quot;criSocket&quot; with value &quot;&#47;var&#47;run&#47;cri-dockerd.sock&quot;. Please update your configuration!<br>\t[WARNING Swap]: swap is enabled; production deployments should disable swap unless testing the NodeSwap feature gate of the kubelet<br>\t[WARNING SystemVerification]: missing optional cgroups: blkio<br>\t[WARNING SystemVerification]: failed to parse kernel config: unable to load kernel module: &quot;configs&quot;, output: &quot;modprobe: FATAL: Module configs not found in directory &#47;lib&#47;modules&#47;5.15.0-47-generic\\n&quot;, err: exit status 1<br>\t[WARNING Service-Kubelet]: kubelet service is not enabled, please run &#39;systemctl enable kubelet.service&#39;<br>error execution phase wait-control-plane: couldn&#39;t initialize a Kubernetes cluster<br>To see the stack trace of this error execute with --v=5 or higher","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588109,"discussion_content":"可以尝试改用Kubernetes 1.23/1.24看看。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663557362,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3178406,"avatar":"https://static001.geekbang.org/account/avatar/00/30/7f/a6/b7d7c32c.jpg","nickname":"大明","note":"","ucode":"BE13F85D14BFB1","race_medal":2,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591529,"discussion_content":"这个老师就是个水货","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666616407,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"四川"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":354514,"user_name":"DmonJ","can_delete":false,"product_type":"c1","uid":2301840,"ip_address":"北京","ucode":"E909BB993DCD51","user_header":"https://static001.geekbang.org/account/avatar/00/23/1f/90/bf183d37.jpg","comment_is_top":false,"comment_ctime":1660481542,"is_pvip":true,"replies":[{"id":"128941","content":"good","user_name":"作者回复","comment_id":354514,"uid":"1181974","ip_address":"北京","utype":1,"ctime":1660519127,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"5955448838","product_id":100114501,"comment_content":"当前最新的minikube是1.26.1, 文章中的是1.25.2, 可以使用指定下载版本的方式确保安装的版本与文章中的一致:<br>`<br>curl -LO https:&#47;&#47;github.com&#47;kubernetes&#47;minikube&#47;releases&#47;download&#47;v1.25.2&#47;minikube-linux-amd64<br>sudo install minikube-linux-amd64 &#47;usr&#47;local&#47;bin&#47;minikube<br>`<br>全部版本链接:`https:&#47;&#47;github.com&#47;kubernetes&#47;minikube&#47;releases`","like_count":2,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583939,"discussion_content":"good","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660519127,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351499,"user_name":"纳兰容若","can_delete":false,"product_type":"c1","uid":1605876,"ip_address":"","ucode":"2E1EA2CDFDA1A9","user_header":"https://static001.geekbang.org/account/avatar/00/18/80/f4/564209ea.jpg","comment_is_top":false,"comment_ctime":1657853017,"is_pvip":true,"replies":[{"id":"127840","content":"大概搜了一下，好像是内核版本低，改用Ubuntu 2204试试。","user_name":"作者回复","comment_id":351499,"uid":"1181974","ip_address":"","utype":1,"ctime":1657855989,"user_name_real":"编辑"}],"discussion_count":1,"race_medal":0,"score":"5952820313","product_id":100114501,"comment_content":"老师您好 有个问题请教一下<br><br>我在minikube start时候出现CGROUPS_BLKIO: missing<br>一直显示错误：<br>missing optional cgroups: blkio<br>failed to parse kernel config<br><br>这个大概是什么原因 我用的是最新的minikube v1.26.0<br><br>","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580065,"discussion_content":"大概搜了一下，好像是内核版本低，改用Ubuntu 2204试试。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657855989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351391,"user_name":"西米","can_delete":false,"product_type":"c1","uid":1008363,"ip_address":"","ucode":"17AEDCA32E4986","user_header":"https://static001.geekbang.org/account/avatar/00/0f/62/eb/3e319cad.jpg","comment_is_top":false,"comment_ctime":1657767368,"is_pvip":true,"replies":[{"id":"127813","content":"我暂时没有Windows环境，欢迎大家补充完善。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1657775901,"ip_address":"","comment_id":351391,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5952734664","product_id":100114501,"comment_content":"补充下windows 安装 minikube<br>1、需要安装最新版docker-desktop<br>2、通过winget 安装minikube 二进制：winget install minikube<br>3、启动minikube: minikube start --image-mirror-country=&#39;cn&#39; --kubernetes-version=v1.23.8","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579923,"discussion_content":"我暂时没有Windows环境，欢迎大家补充完善。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657775901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351379,"user_name":"摊牌","can_delete":false,"product_type":"c1","uid":1453182,"ip_address":"","ucode":"F142596BFE4594","user_header":"https://static001.geekbang.org/account/avatar/00/16/2c/7e/f1efd18b.jpg","comment_is_top":false,"comment_ctime":1657763814,"is_pvip":true,"replies":[{"id":"127812","content":"Kubernetes底层依赖的是container runtime，容器技术不一定是docker，可以看加餐。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1657766056,"ip_address":"","comment_id":351379,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5952731110","product_id":100114501,"comment_content":"看到这里，对k8s和docker的关系还是有些模糊，从整体看，k8s把容器封装为pod, 但pod内部就是docker, 所以这样看的话，k8s和docker本质上还是一种依赖关系，不对的地方，还请老师帮忙指点一下！","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579904,"discussion_content":"Kubernetes底层依赖的是container runtime，容器技术不一定是docker，可以看加餐。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657766056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1521181,"avatar":"https://static001.geekbang.org/account/avatar/00/17/36/1d/874dc1e3.jpg","nickname":"你的笑忘书","note":"","ucode":"9665D5E9EDBEA6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":579910,"discussion_content":"是不是可以理解K8s抽象了CRI接口，其他厂商提供实现。K8s早期版本的默认容器运行时是Docker，不过最近的版本（貌似是1.24还是多少来着）直接摒弃了Docker。K8s只与CRI交互，我理解的是这样也算是一种解耦吧。","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1657768913,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":579904,"ip_address":""},"score":579910,"extra":""}]}]},{"had_liked":false,"id":351354,"user_name":"朱雯","can_delete":false,"product_type":"c1","uid":1035744,"ip_address":"","ucode":"064C45FBF6B51F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","comment_is_top":false,"comment_ctime":1657718448,"is_pvip":true,"replies":[{"id":"127805","content":"minikube是用来学习的，不是生产，就自己再手动启动一下吧。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1657751013,"ip_address":"","comment_id":351354,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5952685744","product_id":100114501,"comment_content":"这边实践中还发现一个问题，那就是虚拟机关机后，minikube服务直接停止，重新启动又要重新执行步骤，请问一下这种情况怎么办。","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579876,"discussion_content":"minikube是用来学习的，不是生产，就自己再手动启动一下吧。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657751013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2843865,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKSVuNarJuDhBSvHY0giaq6yriceEBKiaKuc04wCYWOuso50noqDexaPJJibJN7PHwvcQppnzsDia1icZkw/132","nickname":"Matthew","note":"","ucode":"96093089773740","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580310,"discussion_content":"重新启动还是执行这个命令吧？\nminikube start --image-mirror-country=&#39;cn&#39;  --kubernetes-version=v1.23.3","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1658076906,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2843865,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKSVuNarJuDhBSvHY0giaq6yriceEBKiaKuc04wCYWOuso50noqDexaPJJibJN7PHwvcQppnzsDia1icZkw/132","nickname":"Matthew","note":"","ucode":"96093089773740","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":580543,"discussion_content":"好像是的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658239432,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":580310,"ip_address":""},"score":580543,"extra":""}]}]},{"had_liked":false,"id":351352,"user_name":"朱雯","can_delete":false,"product_type":"c1","uid":1035744,"ip_address":"","ucode":"064C45FBF6B51F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","comment_is_top":false,"comment_ctime":1657718123,"is_pvip":true,"replies":[{"id":"127804","content":"minikube是先虚拟出一个节点，在里面又用了docker，minikube ssh进去才是Kubernetes环境，用docker ps就可以看到容器了。<br><br>只要底层的runtime是docker Engine就可以docker ps看到。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1657750980,"ip_address":"","comment_id":351352,"utype":1}],"discussion_count":4,"race_medal":0,"score":"5952685419","product_id":100114501,"comment_content":"尝试问一个问题，minikube开的容器不可以通过docker ps看到，但我记得我们服务中的k8s可以通过docker ps看到，请问一下是什么原因呢。","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579875,"discussion_content":"minikube是先虚拟出一个节点，在里面又用了docker，minikube ssh进去才是Kubernetes环境，用docker ps就可以看到容器了。\n\n只要底层的runtime是docker Engine就可以docker ps看到。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657750980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580548,"discussion_content":"&#34;我们服务中的k8s可以通过docker ps看到&#34;，同学，你是怎么看到的？ 我这里怎么看不到？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658242646,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1035744,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","nickname":"朱雯","note":"","ucode":"064C45FBF6B51F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580577,"discussion_content":"这边老师教学搭建的 要先minikube ssh进去 然后docker ps看 普通k8s集群 可以用docker ps看","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1658278201,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":580548,"ip_address":""},"score":580577,"extra":""},{"author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1035744,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","nickname":"朱雯","note":"","ucode":"064C45FBF6B51F","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":580592,"discussion_content":"谢谢，如果是这样，我也能看到。我理解错了你的评论吧。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658282069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":580577,"ip_address":""},"score":580592,"extra":""}]}]},{"had_liked":false,"id":351294,"user_name":"朱雯","can_delete":false,"product_type":"c1","uid":1035744,"ip_address":"","ucode":"064C45FBF6B51F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/e0/c85bb948.jpg","comment_is_top":false,"comment_ctime":1657680397,"is_pvip":true,"replies":[{"id":"127771","content":"这个是在Windows机里报的错误？感觉像是minikube找不到虚拟机，建议先用虚拟机安装Linux，再安装minikube。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1657684540,"ip_address":"","comment_id":351294,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5952647693","product_id":100114501,"comment_content":"老师遇到有点问题，这边出现了 Alternatively you could install one of these drivers:<br>  - kvm2: Not installed: exec: &quot;virsh&quot;: executable file not found in $PATH<br>  - vmware: Not installed: exec: &quot;docker-machine-driver-vmware&quot;: executable file not found in $PATH<br>  - podman: Not installed: exec: &quot;podman&quot;: executable file not found in $PATH<br>  - virtualbox: Not installed: unable to find VBoxManage in $PATH<br>  - qemu2: Not installed: exec: &quot;qemu-system-x86_64&quot;: executable file not found in $PATH<br><br><br>可能我用的是vmware安装的，之前使用virtualbox怎么装都装不上","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579780,"discussion_content":"这个是在Windows机里报的错误？感觉像是minikube找不到虚拟机，建议先用虚拟机安装Linux，再安装minikube。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657684540,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351200,"user_name":"Geek_3a61c9","can_delete":false,"product_type":"c1","uid":2122220,"ip_address":"","ucode":"24C727DBAE6518","user_header":"http://thirdwx.qlogo.cn/mmopen/KFgDEHIEpnT0EXnh02VHqNTpU5BwWM12z1UQuPGyPnLryHNQxmvk9qaCh5kJAQlq13DwA5w2cjJEgP0Ql8amM3Y6vUsGDDBv/132","comment_is_top":false,"comment_ctime":1657606485,"is_pvip":true,"replies":[{"id":"127751","content":"可以尝试改用1.23.3，我还没有试过1.24。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1657611009,"ip_address":"","comment_id":351200,"utype":1}],"discussion_count":6,"race_medal":0,"score":"5952573781","product_id":100114501,"comment_content":"💢  initialization failed, will try again: wait: &#47;bin&#47;bash -c &quot;sudo env PATH=&quot;&#47;var&#47;lib&#47;minikube&#47;binaries&#47;v1.24.1:$PATH&quot; kubeadm init --config &#47;var&#47;tmp&#47;minikube&#47;kubeadm.yaml  --ignore-preflight-errors=DirAvailable--etc-kubernetes-manifests,DirAvailable--var-lib-minikube,DirAvailable--var-lib-minikube-etcd,FileAvailable--etc-kubernetes-manifests-kube-scheduler.yaml,FileAvailable--etc-kubernetes-manifests-kube-apiserver.yaml,FileAvailable--etc-kubernetes-manifests-kube-controller-manager.yaml,FileAvailable--etc-kubernetes-manifests-etcd.yaml,Port-10250,Swap,Mem,SystemVerification,FileContent--proc-sys-net-bridge-bridge-nf-call-iptables&quot;: Process exited with status 1<br>stdout:<br>[init] Using Kubernetes version: v1.24.1<br>[preflight] Running pre-flight checks<br>[preflight] The system verification failed. Printing the output from the verification:<br><br>kubelet-check] Initial timeout of 40s passed.<br><br>Unfortunately, an error has occurred:<br>\ttimed out waiting for the condition<br><br>This error is likely caused by:<br>\t- The kubelet is not running<br>\t- The kubelet is unhealthy due to a misconfiguration of the node in some way (required cgroups disabled)<br><br>If you are on a systemd-powered system, you can try to troubleshoot the error with the following commands:<br>\t- &#39;systemctl status kubelet&#39;<br>\t- &#39;journalctl -xeu kubelet&#39;<br><br>Additionally, a control plane component may have crashed or exited when started by the container runtime.<br><br>一直过不去","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579674,"discussion_content":"可以尝试改用1.23.3，我还没有试过1.24。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657611009,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1349202,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJEQ91aYaGSuicvGteyiboh9LibWSxAN9zml6XVGeSGmaICIgZ8lH54ngicLicJWcAU0NENibTvtgc0d3tw/132","nickname":"xuing","note":"","ucode":"04DBD82DD1D3F2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581865,"discussion_content":"https://github.com/kubernetes/minikube/issues/13288","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659049873,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"陕西"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2122220,"avatar":"http://thirdwx.qlogo.cn/mmopen/KFgDEHIEpnT0EXnh02VHqNTpU5BwWM12z1UQuPGyPnLryHNQxmvk9qaCh5kJAQlq13DwA5w2cjJEgP0Ql8amM3Y6vUsGDDBv/132","nickname":"Geek_3a61c9","note":"","ucode":"24C727DBAE6518","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580068,"discussion_content":"1.23可以了的\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657857493,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1808649,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoHXbWPZuBKJBYiayL1qFLwKZCM76CPEwXcREia71QCiaMJ5Im5Iibt9CvQBPunQ01VVOm9xU4ia0zasYQ/132","nickname":"Grour","note":"","ucode":"E688BDC7F305AB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579734,"discussion_content":"1.23.3可以，1.24.1我也报错....\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657638287,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1087879,"avatar":"https://static001.geekbang.org/account/avatar/00/10/99/87/98ebb20e.jpg","nickname":"dao","note":"","ucode":"4181FB270462CF","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1808649,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoHXbWPZuBKJBYiayL1qFLwKZCM76CPEwXcREia71QCiaMJ5Im5Iibt9CvQBPunQ01VVOm9xU4ia0zasYQ/132","nickname":"Grour","note":"","ucode":"E688BDC7F305AB","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580087,"discussion_content":"我的 1.24.1 可以正常运行","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657868146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":579734,"ip_address":""},"score":580087,"extra":""},{"author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1087879,"avatar":"https://static001.geekbang.org/account/avatar/00/10/99/87/98ebb20e.jpg","nickname":"dao","note":"","ucode":"4181FB270462CF","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":580380,"discussion_content":"你在群里面吗？ 叫什么？ 我的1.24.1也不能运行，可以请教一下么？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658135081,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":580087,"ip_address":""},"score":580380,"extra":""}]}]},{"had_liked":false,"id":351186,"user_name":"忧天小鸡","can_delete":false,"product_type":"c1","uid":1073947,"ip_address":"","ucode":"A1412BDC108FD6","user_header":"https://static001.geekbang.org/account/avatar/00/10/63/1b/83ac7733.jpg","comment_is_top":false,"comment_ctime":1657596928,"is_pvip":false,"replies":[{"id":"127746","content":"之前是想到视频不太方便做笔记，把视频的操作要点整理放文稿了😁","user_name":"编辑回复","user_name_real":"编辑","uid":"2547771","ctime":1657598181,"ip_address":"","comment_id":351186,"utype":2}],"discussion_count":1,"race_medal":0,"score":"5952564224","product_id":100114501,"comment_content":"讯飞新出的耳机很好用的，语音转文字，免得书写了","like_count":1,"discussions":[{"author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"多少","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579655,"discussion_content":"之前是想到视频不太方便做笔记，把视频的操作要点整理放文稿了😁","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657598181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351158,"user_name":"星垂平野阔","can_delete":false,"product_type":"c1","uid":3010581,"ip_address":"","ucode":"036EC20979D406","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/WrANpwBMr6DsGAE207QVs0YgfthMXy3MuEKJxR8icYibpGDCI1YX4DcpDq1EsTvlP8ffK1ibJDvmkX9LUU4yE8X0w/132","comment_is_top":false,"comment_ctime":1657580029,"is_pvip":true,"replies":[{"id":"127741","content":"中级篇会详细讲kubeadm搭建Kubernetes集群，步骤有点麻烦，但慢慢来也能成功。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1657590894,"ip_address":"","comment_id":351158,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5952547325","product_id":100114501,"comment_content":"minikube的安装真的很友好，kubeadm的安装过程碰到了一系列诸如镜像拉取，网络配置等等深坑，最后我部署pod的时候还提示主节点not ready😭","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579638,"discussion_content":"中级篇会详细讲kubeadm搭建Kubernetes集群，步骤有点麻烦，但慢慢来也能成功。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657590894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351136,"user_name":"小林子","can_delete":false,"product_type":"c1","uid":1145383,"ip_address":"","ucode":"058C95ECBFE422","user_header":"https://static001.geekbang.org/account/avatar/00/11/7a/27/77ca2bc2.jpg","comment_is_top":false,"comment_ctime":1657541448,"is_pvip":true,"replies":[{"id":"127736","content":"在minikube的节点里，要用minikube ssh登录进去，就能看到了。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1657583863,"ip_address":"","comment_id":351136,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5952508744","product_id":100114501,"comment_content":"老师，pod 下载的镜像是保存在本地的吗？我用 docker images 没有看到 nginx:alpine 这个镜像","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579616,"discussion_content":"在minikube的节点里，要用minikube ssh登录进去，就能看到了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657583863,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351087,"user_name":"pyhhou","can_delete":false,"product_type":"c1","uid":1256496,"ip_address":"","ucode":"31EF8D50CF91A5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/ibZVAmmdAibBeVpUjzwId8ibgRzNk7fkuR5pgVicB5mFSjjmt2eNadlykVLKCyGA0GxGffbhqLsHnhDRgyzxcKUhjg/132","comment_is_top":false,"comment_ctime":1657518955,"is_pvip":false,"replies":[{"id":"127721","content":"因为Kubernetes管理的是集群，所以就要多一点管理动作，可以把minikube理解成是一个专门的集群节点管理工具。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1657525408,"ip_address":"","comment_id":351087,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5952486251","product_id":100114501,"comment_content":"关于 minikube 与 kubectl，可否理解为 minikube 是管理那些虚拟节点的，而 kubectl 是用来操控虚拟节点中的容器的？整体感觉下来，相比于我们之前学的 docker，这里 client 和容器之间多抽象出了一层概念（虚拟节点）？","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579557,"discussion_content":"因为Kubernetes管理的是集群，所以就要多一点管理动作，可以把minikube理解成是一个专门的集群节点管理工具。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657525408,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351085,"user_name":"tiger","can_delete":false,"product_type":"c1","uid":1076876,"ip_address":"","ucode":"A109D6F1EE43C9","user_header":"https://static001.geekbang.org/account/avatar/00/10/6e/8c/af652cee.jpg","comment_is_top":false,"comment_ctime":1657517490,"is_pvip":true,"replies":[{"id":"127718","content":"给你的认真学习点个赞，已经修改过来啦，感谢反馈👍","user_name":"编辑回复","user_name_real":"编辑","uid":"2547771","ctime":1657525120,"ip_address":"","comment_id":351085,"utype":2}],"discussion_count":1,"race_medal":0,"score":"5952484786","product_id":100114501,"comment_content":"一个小问题，老师提到的补全代码命令：source &lt; (kubectl completion bash)，重定向符&lt;后面要去除空格，否则会语法报错。","like_count":1,"discussions":[{"author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"多少","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579554,"discussion_content":"给你的认真学习点个赞，已经修改过来啦，感谢反馈👍","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657525120,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351083,"user_name":"骷髅骨头","can_delete":false,"product_type":"c1","uid":1078098,"ip_address":"","ucode":"9FCBA47EFD37F6","user_header":"https://static001.geekbang.org/account/avatar/00/10/73/52/8a4cf5e9.jpg","comment_is_top":false,"comment_ctime":1657516761,"is_pvip":true,"replies":[{"id":"127716","content":"有啊，在课程信息的首页就能看到～","user_name":"编辑回复","user_name_real":"编辑","uid":"2547771","ctime":1657524684,"ip_address":"","comment_id":351083,"utype":2}],"discussion_count":1,"race_medal":1,"score":"5952484057","product_id":100114501,"comment_content":"有完整的课程目录吗？想看看后面内容的安排, 前期更新太慢了","like_count":1,"discussions":[{"author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"多少","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579551,"discussion_content":"有啊，在课程信息的首页就能看到～","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657524684,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351052,"user_name":"赤色闪电","can_delete":false,"product_type":"c1","uid":1144765,"ip_address":"","ucode":"B5FAA29E62132C","user_header":"https://static001.geekbang.org/account/avatar/00/11/77/bd/e7ff842c.jpg","comment_is_top":false,"comment_ctime":1657501217,"is_pvip":true,"replies":[{"id":"127706","content":"great","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1657506401,"ip_address":"","comment_id":351052,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5952468513","product_id":100114501,"comment_content":"1、如果把一个个容器看作“单点”的话，容器编排则是让容器有了“集群”的能力，使业务具备了负载均衡、扩缩容、HA等能力。  2、容器可以看作是“虚拟机”，是提供虚拟化的手段；容器编排可以看作是“云管软件”，来编排调度这些容器的。","like_count":1,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579504,"discussion_content":"great","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657506401,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580544,"discussion_content":"同学，什么是HA能力呢？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658239547,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1144765,"avatar":"https://static001.geekbang.org/account/avatar/00/11/77/bd/e7ff842c.jpg","nickname":"赤色闪电","note":"","ucode":"B5FAA29E62132C","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1351076,"avatar":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","nickname":"lesserror","note":"","ucode":"25A54D1165FCF6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581058,"discussion_content":"High Available 高可用","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1658475922,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":580544,"ip_address":""},"score":581058,"extra":""}]}]},{"had_liked":false,"id":360775,"user_name":"Geek_2c1b7c","can_delete":false,"product_type":"c1","uid":3204877,"ip_address":"上海","ucode":"C4D012925674E2","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM5viafIuiciaZxwUwhuibXfyeW74wHhJDq13JYibcvktLTznAVgNibCMSArDIEkjSbDmNC1JObUpIwMJibhg/132","comment_is_top":false,"comment_ctime":1666841778,"is_pvip":false,"replies":[{"id":"131263","content":"github上有，可以参考一下。<br>https:&#47;&#47;github.com&#47;kubernetes&#47;minikube&#47;blob&#47;master&#47;CHANGELOG.md","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1666851724,"ip_address":"上海","comment_id":360775,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1666841778","product_id":100114501,"comment_content":"“minikube 的最新版本是 1.25.2，支持的 Kubernetes 版本是 1.23.3”<br>请问老师，怎么知道 minikube的版本支持的kubernetes的对应版本呢？我在minikube官网找了好久也没找到，上网查也没有查到。。。","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591830,"discussion_content":"github上有，可以参考一下。\nhttps://github.com/kubernetes/minikube/blob/master/CHANGELOG.md","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666851724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"上海"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360685,"user_name":"Geek_2c1b7c","can_delete":false,"product_type":"c1","uid":3204877,"ip_address":"上海","ucode":"C4D012925674E2","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM5viafIuiciaZxwUwhuibXfyeW74wHhJDq13JYibcvktLTznAVgNibCMSArDIEkjSbDmNC1JObUpIwMJibhg/132","comment_is_top":false,"comment_ctime":1666758068,"is_pvip":false,"replies":[{"id":"131225","content":"start命令启动minikube的时候参数必须要给全，不会保存，所以会稍微麻烦一点。<br><br>镜像会保存在minikube自己的cache里，不会每次重新拉取。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1666772643,"ip_address":"上海","comment_id":360685,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1666758068","product_id":100114501,"comment_content":"老师您好，v_box虚拟机关闭后再打开，启动minikubke，minikube start --kubernetes-version=v1.23.3 --image-mirror-country=’cn’ --force  ，每次启动都要执行这条命令，还是说直接 minikube start就好？再有就是每次启动都会重新拉取镜像吗？ ","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":591710,"discussion_content":"start命令启动minikube的时候参数必须要给全，不会保存，所以会稍微麻烦一点。\n\n镜像会保存在minikube自己的cache里，不会每次重新拉取。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1666772643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"上海"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359716,"user_name":"疯帽子","can_delete":false,"product_type":"c1","uid":1763214,"ip_address":"北京","ucode":"6687DE14A35BF1","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e7/8e/ef2e91f3.jpg","comment_is_top":false,"comment_ctime":1665801506,"is_pvip":true,"replies":[{"id":"130857","content":"这些其实没有什么对应关系，Ubuntu用最新的就好，也可以用课程里推荐的2204，minikube可以上它的官网，看每个版本的说明，如果不了解就用最新的。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1665833695,"ip_address":"北京","comment_id":359716,"utype":1}],"discussion_count":1,"race_medal":5,"score":"1665801506","product_id":100114501,"comment_content":"老师,各个版本号之间 (ubuntu, liunx, minikube) 对应关系 去哪里查询啊 不然这安装根本走不下来啊","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590517,"discussion_content":"这些其实没有什么对应关系，Ubuntu用最新的就好，也可以用课程里推荐的2204，minikube可以上它的官网，看每个版本的说明，如果不了解就用最新的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665833695,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359713,"user_name":"疯帽子","can_delete":false,"product_type":"c1","uid":1763214,"ip_address":"北京","ucode":"6687DE14A35BF1","user_header":"https://static001.geekbang.org/account/avatar/00/1a/e7/8e/ef2e91f3.jpg","comment_is_top":false,"comment_ctime":1665801154,"is_pvip":true,"replies":[{"id":"130854","content":"Kubernetes搭建环境确实是比较难走出的第一步，有了环境之后就好办了。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1665833608,"ip_address":"北京","comment_id":359713,"utype":1}],"discussion_count":1,"race_medal":5,"score":"1665801154","product_id":100114501,"comment_content":"只要稍微不按照老师的例子来,安装就报错,,,,,,,,,,,<br>Booting up control plane ...<br>💢  initialization failed, will try again: wait: &#47;bin&#47;bash -c &quot;sudo env PATH=&quot;&#47;var&#47;lib&#47;minikube&#47;binaries&#47;v1.25.0:$PATH&quot; kubeadm init --config Process exited with status 1<br>stdout:<br>这个我也出现了 <br>然后翻到评论区 看到了 @DmonJ 的评论 <br>严格按照老师的 版本号 试了一下 可以了<br>","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":590514,"discussion_content":"Kubernetes搭建环境确实是比较难走出的第一步，有了环境之后就好办了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665833608,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359213,"user_name":"老荀","can_delete":false,"product_type":"c1","uid":1214893,"ip_address":"北京","ucode":"C32E743518DECD","user_header":"https://static001.geekbang.org/account/avatar/00/12/89/ad/4efd929a.jpg","comment_is_top":false,"comment_ctime":1665327579,"is_pvip":true,"replies":[{"id":"130669","content":"国内镜像源应该还是比较容易拉取的吧，多试几次就好了。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1665404624,"ip_address":"北京","comment_id":359213,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1665327579","product_id":100114501,"comment_content":"&gt; registry.cn-hangzhou.aliyun...:  387.11 MiB &#47; 387.11 MiB  100.00% 700.71<br>&gt; registry.cn-hangzhou.aliyun...:  0 B [_______________________] ?% ? p&#47;s ?<br><br>明明下载完了。。却还是卡在了下一步 哭哭","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589933,"discussion_content":"国内镜像源应该还是比较容易拉取的吧，多试几次就好了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665404625,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":359037,"user_name":"🍀","can_delete":false,"product_type":"c1","uid":3193056,"ip_address":"北京","ucode":"75A7F8D6E45C2B","user_header":"https://static001.geekbang.org/account/avatar/00/30/b8/e0/4461d067.jpg","comment_is_top":false,"comment_ctime":1665196472,"is_pvip":false,"replies":[{"id":"130593","content":"great","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1665269940,"ip_address":"北京","comment_id":359037,"utype":1}],"discussion_count":1,"race_medal":2,"score":"1665196472","product_id":100114501,"comment_content":"系统ubuntu20.04 intel64位架构<br>下载镜像：curl -LO https:&#47;&#47;storage.googleapis.com&#47;minikube&#47;releases&#47;latest&#47;minikube_latest_amd64.deb<br>安装镜像：sudo dpkg -i minikube_latest_amd64.deb<br>启动minikube：minikube start --force --driver=docker","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589701,"discussion_content":"great","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665269940,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358911,"user_name":"滴流乱转小胖儿","can_delete":false,"product_type":"c1","uid":1231250,"ip_address":"北京","ucode":"4689236E65FE4E","user_header":"https://static001.geekbang.org/account/avatar/00/12/c9/92/6361802a.jpg","comment_is_top":false,"comment_ctime":1665020759,"is_pvip":false,"replies":[{"id":"130542","content":"good","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1665059735,"ip_address":"北京","comment_id":358911,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1665020759","product_id":100114501,"comment_content":"添加kubectl命令自动补全功能<br>https:&#47;&#47;kubernetes.io&#47;docs&#47;tasks&#47;tools&#47;install-kubectl-linux&#47;#optional-kubectl-configurations-and-plugins<br><br>sudo -E apt install bash-completion<br>echo &#39;source &lt;(kubectl completion bash)&#39; &gt;&gt;~&#47;.bashrc<br>kubectl completion bash &gt;&#47;etc&#47;bash_completion.d&#47;kubectl<br>source ~&#47;.bashrc","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589522,"discussion_content":"good","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1665059736,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358584,"user_name":"小吉他","can_delete":false,"product_type":"c1","uid":2691377,"ip_address":"北京","ucode":"8B69721EA847BA","user_header":"https://static001.geekbang.org/account/avatar/00/29/11/31/278e7fe1.jpg","comment_is_top":false,"comment_ctime":1664443348,"is_pvip":true,"replies":[{"id":"130454","content":"good","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1664459618,"ip_address":"北京","comment_id":358584,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1664443348","product_id":100114501,"comment_content":"minikube start --kubernetes-version=v1.23.3 --image-mirror-country=&#39;cn&#39; --force --memory=2048<br>参数解释：<br>--force  如果是root需要添加<br>--image-mirror-country=&#39;cn&#39;  切换到国内镜像<br>--memory=2048 如果内存不足，则会卡住 ……p&#47;s ，需要增大内存<br>当然你的虚拟机最好换成4c8g","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589161,"discussion_content":"good","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664459618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":358035,"user_name":"眸","can_delete":false,"product_type":"c1","uid":2863851,"ip_address":"北京","ucode":"4181EBB38E57B7","user_header":"https://static001.geekbang.org/account/avatar/00/2b/b2/eb/0e63a8db.jpg","comment_is_top":false,"comment_ctime":1663839781,"is_pvip":true,"replies":[{"id":"130323","content":"可以把这个命令放进.bashrc里，或者去.minikube目录，把kubectl拷贝到&#47;usr&#47;local&#47;bin下。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1663921402,"ip_address":"北京","comment_id":358035,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1663839781","product_id":100114501,"comment_content":"alias kubectl=&quot;minikube kubectl --&quot; 为什么这个每次打开终端都要执行才有效？","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588640,"discussion_content":"可以把这个命令放进.bashrc里，或者去.minikube目录，把kubectl拷贝到/usr/local/bin下。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663921402,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357837,"user_name":"Will","can_delete":false,"product_type":"c1","uid":2710540,"ip_address":"北京","ucode":"C9489CDCC37263","user_header":"https://static001.geekbang.org/account/avatar/00/29/5c/0c/e504ebfe.jpg","comment_is_top":false,"comment_ctime":1663671335,"is_pvip":false,"replies":[{"id":"130244","content":"good","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1663733862,"ip_address":"北京","comment_id":357837,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1663671335","product_id":100114501,"comment_content":"mac上安装并启动Minikube：<br>brew install minikube<br><br>minikube start --driver=docker --kubernetes-version=1.22.1 --image-repository=&#39;registry.cn-hangzhou.aliyuncs.com&#47;google_containers&#39;","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588388,"discussion_content":"good","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663733862,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357626,"user_name":"🐶","can_delete":false,"product_type":"c1","uid":1650374,"ip_address":"北京","ucode":"64CD88F257EF47","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ2Yh76VNBxBfEPGbSeiaNVTXDZcfjFm7l8RtoD5j53Biakuia0XAV7UsiaZ2fhxhytiar3oEd7ib737WzQ/132","comment_is_top":false,"comment_ctime":1663499743,"is_pvip":true,"replies":[{"id":"130171","content":"试试“minikube stop &amp;&amp; minikube delete --all --purge”，或者换个Linux发行版。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1663557214,"ip_address":"北京","comment_id":357626,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1663499743","product_id":100114501,"comment_content":"用的Ubantu 22.04.1 ，还是没法正常启动minikube<br><br>CGROUPS_BLKIO: missing<br>这个咋解决呢","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588105,"discussion_content":"试试“minikube stop &amp;&amp; minikube delete --all --purge”，或者换个Linux发行版。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663557215,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356904,"user_name":"alexgreenbar","can_delete":false,"product_type":"c1","uid":1003655,"ip_address":"北京","ucode":"87ED7233E2767C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/50/87/dde718fa.jpg","comment_is_top":false,"comment_ctime":1662692311,"is_pvip":true,"replies":[{"id":"129882","content":"Kubernetes是基础，在上面会有各式各样的应用，感觉已经有一些类似理念的产品了。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1662695308,"ip_address":"北京","comment_id":356904,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1662692311","product_id":100114501,"comment_content":"微服务的模式里面，比较强调协同（choreography）优于编排（orchestration），编排的缺点在于需要一个中心的指挥系统，在分布式环境是比较脆弱的，个人好奇是否将来会出现一套基于协同的环境来支持云原生?","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587027,"discussion_content":"Kubernetes是基础，在上面会有各式各样的应用，感觉已经有一些类似理念的产品了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662695308,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356220,"user_name":"小沫","can_delete":false,"product_type":"c1","uid":1000977,"ip_address":"上海","ucode":"52341656210E0D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/46/11/1cf8c174.jpg","comment_is_top":false,"comment_ctime":1662048291,"is_pvip":false,"replies":[{"id":"129669","content":"用describe命令看看具体原因，另外“本地”一定要是Kubernetes的节点本地，比如minikube ssh登录的节点。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1662086739,"ip_address":"上海","comment_id":356220,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1662048291","product_id":100114501,"comment_content":"在执行 kubectl run ngx --image=nginx:latest 后 提示创建<br><br>但是在执行 kubectl get pod 时候 看到 ready字段 是 0&#47;1 , status 字段 Image Pull Back Off 不知道是什么原因？<br><br>本地 docker images 里面已经存在 nginx:latest 版本","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586274,"discussion_content":"用describe命令看看具体原因，另外“本地”一定要是Kubernetes的节点本地，比如minikube ssh登录的节点。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662086739,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"上海"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":355010,"user_name":"放不下荣华富贵","can_delete":false,"product_type":"c1","uid":2053679,"ip_address":"北京","ucode":"9FE29C22B9ABE3","user_header":"https://static001.geekbang.org/account/avatar/00/1f/56/2f/4518f8e1.jpg","comment_is_top":false,"comment_ctime":1660973578,"is_pvip":true,"replies":[{"id":"129159","content":"没试过国内的源，docker hub偶尔会不稳定，等一段时间再重新试试，肯定是可以拉下来的。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1661040413,"ip_address":"北京","comment_id":355010,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1660973578","product_id":100114501,"comment_content":"安装minikube后run nginx：<br>  Normal   Scheduled  16s   default-scheduler  Successfully assigned default&#47;ngx to minikube<br>  Normal   Pulling    15s   kubelet            Pulling image &quot;nginx:alpine&quot;<br>  Warning  Failed     1s    kubelet            Failed to pull image &quot;nginx:alpine&quot;: rpc error: code = Unknown desc = Get &quot;https:&#47;&#47;registry-1.docker.io&#47;v2&#47;library&#47;nginx&#47;manifests&#47;sha256:2959a35e1b1e61e2419c01e0e457f75497e02d039360a658b66ff2d4caab19c4&quot;: net&#47;http: TLS handshake timeout<br>  Warning  Failed     1s    kubelet            Error: ErrImagePull<br><br><br>怎么还是去docker io拉镜像呢？docker已经配置走国内源了，而且：<br>minikube start --kubernetes-version=v1.23.3 --image-mirror-country=&#39;cn&#39; --force<br>是这样启动的<br><br>","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":584668,"discussion_content":"没试过国内的源，docker hub偶尔会不稳定，等一段时间再重新试试，肯定是可以拉下来的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1661040413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":354481,"user_name":"上山砍柴","can_delete":false,"product_type":"c1","uid":1059766,"ip_address":"北京","ucode":"F85D250C11ED70","user_header":"https://wx.qlogo.cn/mmopen/vi_32/4pFDynicvRnrTTRavia64UAknQjyX3KFfm67W4AZG52wm2TgwL1FWNX1zhIlIVgicPw2jzPqKASAib5nI1QfY6pc2Q/132","comment_is_top":false,"comment_ctime":1660456576,"is_pvip":false,"replies":[{"id":"128939","content":"不会的，minikube只要启动了就会一直运行，但如果主机重启不会自动运行。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1660519108,"ip_address":"北京","comment_id":354481,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1660456576","product_id":100114501,"comment_content":"使用xshell连接服务器，使用命令<br>minikube start --kubernetes-version=v1.23.3 启动minkube之后，当下次连接服务器时，minikube服务stop了，这是为什么，minikube会自动停止的吗？","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583937,"discussion_content":"不会的，minikube只要启动了就会一直运行，但如果主机重启不会自动运行。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660519108,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":354207,"user_name":"静且慢且远","can_delete":false,"product_type":"c1","uid":2767251,"ip_address":"上海","ucode":"4C07047F052BB4","user_header":"https://static001.geekbang.org/account/avatar/00/2a/39/93/bcafe00f.jpg","comment_is_top":false,"comment_ctime":1660185280,"is_pvip":true,"replies":[{"id":"128820","content":"如果用docker作为底层的容器运行时就是这样的。<br><br>Kubernetes通过kubelet来操作docker来运行容器，所以在Kubernetes和docker里都能够看到Nginx。<br><br>可以再参考一下后面的加餐，如果用containerd那么docker和Kubernetes就完全分离了。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1660187487,"ip_address":"上海","comment_id":354207,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1660185280","product_id":100114501,"comment_content":"kubectl run ngx --image=nginx:alpine<br>老师请问一下，这个命令运行的是docker 的镜像吗？ 是不是可以这么理解，我用docketr 拉去镜像，然后用k8s run 起来，但是我现在发现，我docker 跑了一个nginx, 在k8s 里面也 run成功了一个 nginx,这样是不是有点混淆呀","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583534,"discussion_content":"如果用docker作为底层的容器运行时就是这样的。\n\nKubernetes通过kubelet来操作docker来运行容器，所以在Kubernetes和docker里都能够看到Nginx。\n\n可以再参考一下后面的加餐，如果用containerd那么docker和Kubernetes就完全分离了。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660187487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"上海"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353289,"user_name":"Geek_501094","can_delete":false,"product_type":"c1","uid":2896344,"ip_address":"北京","ucode":"867B43C00225CF","user_header":"","comment_is_top":false,"comment_ctime":1659333901,"is_pvip":false,"replies":[{"id":"128433","content":"thanks。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1659335919,"ip_address":"北京","comment_id":353289,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1659333901","product_id":100114501,"comment_content":"讲得很好 通俗易懂不墨迹","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582245,"discussion_content":"thanks。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659335919,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352466,"user_name":"三溪","can_delete":false,"product_type":"c1","uid":2078022,"ip_address":"","ucode":"00807C1B166E5E","user_header":"https://static001.geekbang.org/account/avatar/00/1f/b5/46/2ac4b984.jpg","comment_is_top":false,"comment_ctime":1658713022,"is_pvip":false,"replies":[{"id":"128201","content":"也许和arch Linux环境有关吧，试试换成Ubuntu 2204，使用Kubernetes 1.23.3。<br><br>感觉那个“rootless”有点问题。","user_name":"作者回复","user_name_real":"作者","uid":"1181974","ctime":1658716498,"ip_address":"","comment_id":352466,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1658713022","product_id":100114501,"comment_content":"罗老师您好，想请教一下我遇到的问题！<br>环境：<br>宿主机：Arch Linux<br>内核：5.18.3<br>docker rootless：20.10.17 <br>minikube：1.26.0<br><br>[sanxi@sanxi-PC ~]$ minikube start --base-image=kicbase&#47;stable:v0.0.32 --kubernetes-version=1.23.9 --image-mirror-country=&#39;cn&#39; --container-runtime=containerd<br>😄  minikube v1.26.0 on Arch &quot;rolling&quot;<br>✨  Automatically selected the docker driver<br>✅  Using image repository registry.cn-hangzhou.aliyuncs.com&#47;google_containers<br>📌  Using rootless Docker driver<br>👍  Starting control plane node minikube in cluster minikube<br>🚜  Pulling base image ...<br>🔥  Creating docker container (CPUs=2, Memory=3900MB) ...<br>✋  Stopping node &quot;minikube&quot;  ...<br>🔥  Deleting &quot;minikube&quot; in docker ...<br>🤦  StartHost failed, but will try again: creating host: create: creating: create kic node: container name &quot;minikube&quot;: log: 2022-07-25T01:29:28.058975053Z  + grep -qw cpu &#47;sys&#47;fs&#47;cgroup&#47;cgroup.controllers<br>2022-07-25T01:29:28.059690054Z  + echo &#39;ERROR: UserNS: cpu controller needs to be delegated&#39;<br>2022-07-25T01:29:28.059697351Z  ERROR: UserNS: cpu controller needs to be delegated<br>2022-07-25T01:29:28.059700488Z  + exit 1: container exited unexpectedly<br><br>我已经配置了subuid，但还是这样，百思不得其解。<br>","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581299,"discussion_content":"也许和arch Linux环境有关吧，试试换成Ubuntu 2204，使用Kubernetes 1.23.3。\n\n感觉那个“rootless”有点问题。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658716498,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352164,"user_name":"传奇之风","can_delete":false,"product_type":"c1","uid":1857491,"ip_address":"","ucode":"3337D8A86DF9D1","user_header":"https://static001.geekbang.org/account/avatar/00/1c/57/d3/68a29610.jpg","comment_is_top":false,"comment_ctime":1658415995,"is_pvip":true,"replies":[{"id":"128116","content":"我从来没用过国内的云厂商。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1658451512,"ip_address":"","comment_id":352164,"utype":1}],"discussion_count":1,"race_medal":1,"score":"1658415995","product_id":100114501,"comment_content":"阿里云服务器不支持虚拟化，还是要虚拟机。。。","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580987,"discussion_content":"我从来没用过国内的云厂商。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658451512,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351147,"user_name":"peter","can_delete":false,"product_type":"c1","uid":1058183,"ip_address":"","ucode":"261C3FC001DE2D","user_header":"https://static001.geekbang.org/account/avatar/00/10/25/87/f3a69d1b.jpg","comment_is_top":false,"comment_ctime":1657550134,"is_pvip":true,"replies":[{"id":"127737","content":"<br>1.只要懂一点shell知识就能够理解，课程里是把下载后的文件重命名成了minikube，按照哪个来都可以。<br><br>2.minikube是用docker创建了一个Kubernetes集群，它也不算是后台服务，可以理解成是虚拟出一个计算节点，然后在里面运行Kubernetes。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1657584053,"ip_address":"","comment_id":351147,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1657550134","product_id":100114501,"comment_content":"请教老师两个问题：<br>Q1：安装命令中名字不同的问题：<br>我的笔记本上(win10，x86系统)，官网生成的安装命令如下：<br>sudo install minikube-linux-amd64 &#47;usr&#47;local&#47;bin&#47;minikube<br><br>专栏文章中给出的安装命令如下：<br>sudo install minikube &#47;usr&#47;local&#47;bin&#47;<br><br>install后面跟的软件名字不同，我本机上是“minikube-linux-amd64”，专栏上是“minikube”；另外，安装路径也不同，我本机上bin下面还有一级minikube, 专栏上是直接安装在bin目录下面。<br>请问：两个都可以吗？<br><br>Q2：minikube就是“k8s”后台服务吗？ 文章中有这样一句话“minikube 管理 Kubernetes 集群环境”，从这句话看，好像minikube就是“k8s”后台服务。  <br>或者是另外一种理解：minikube不是“k8s”后台服务，minikube会启动“k8s”后台服务。","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579617,"discussion_content":"\n1.只要懂一点shell知识就能够理解，课程里是把下载后的文件重命名成了minikube，按照哪个来都可以。\n\n2.minikube是用docker创建了一个Kubernetes集群，它也不算是后台服务，可以理解成是虚拟出一个计算节点，然后在里面运行Kubernetes。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657584053,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351111,"user_name":"uyplayer","can_delete":false,"product_type":"c1","uid":2975298,"ip_address":"","ucode":"03ACCB446FBD3B","user_header":"https://static001.geekbang.org/account/avatar/00/2d/66/42/8a645285.jpg","comment_is_top":false,"comment_ctime":1657530202,"is_pvip":true,"replies":[{"id":"127729","content":"没遇到过这个现象，可以尝试删除后重新启动，或者找找有没有日志。","user_name":"作者回复","user_name_real":"编辑","uid":"1181974","ctime":1657534400,"ip_address":"","comment_id":351111,"utype":1}],"discussion_count":1,"race_medal":3,"score":"1657530202","product_id":100114501,"comment_content":" 安装一直停留在这里    <br>  - Booting up control plane ...|","like_count":0,"discussions":[{"author":{"id":1181974,"avatar":"https://static001.geekbang.org/account/avatar/00/12/09/16/1161017c.jpg","nickname":"罗剑锋","note":"","ucode":"95678C988F24AB","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":579579,"discussion_content":"没遇到过这个现象，可以尝试删除后重新启动，或者找找有没有日志。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1657534400,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
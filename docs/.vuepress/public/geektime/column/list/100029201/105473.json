{"id":105473,"title":"16 | æ­å¼€ç¥ç§˜çš„â€œä½ç§»ä¸»é¢˜â€é¢çº±","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯èƒ¡å¤•ã€‚ä»Šå¤©æˆ‘è¦å’Œä½ åˆ†äº«çš„å†…å®¹æ˜¯ï¼šKafkaä¸­ç¥ç§˜çš„å†…éƒ¨ä¸»é¢˜ï¼ˆInternal Topicï¼‰__consumer_offsetsã€‚</p><p>__consumer_offsetsåœ¨Kafkaæºç ä¸­æœ‰ä¸ªæ›´ä¸ºæ­£å¼çš„åå­—ï¼Œå«<strong>ä½ç§»ä¸»é¢˜</strong>ï¼Œå³Offsets Topicã€‚ä¸ºäº†æ–¹ä¾¿ä»Šå¤©çš„è®¨è®ºï¼Œæˆ‘å°†ç»Ÿä¸€ä½¿ç”¨ä½ç§»ä¸»é¢˜æ¥æŒ‡ä»£__consumer_offsetsã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®ƒæœ‰ä¸¤ä¸ªä¸‹åˆ’çº¿å“¦ã€‚</p><p>å¥½äº†ï¼Œæˆ‘ä»¬å¼€å§‹ä»Šå¤©çš„å†…å®¹å§ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰å¿…è¦æ¢ç©¶ä¸€ä¸‹ä½ç§»ä¸»é¢˜è¢«å¼•å…¥çš„èƒŒæ™¯åŠåŸå› ï¼Œå³ä½ç§»ä¸»é¢˜çš„å‰ä¸–ä»Šç”Ÿã€‚</p><p>åœ¨ä¸Šä¸€æœŸä¸­ï¼Œæˆ‘è¯´è¿‡è€ç‰ˆæœ¬Consumerçš„ä½ç§»ç®¡ç†æ˜¯ä¾æ‰˜äºApache ZooKeeperçš„ï¼Œå®ƒä¼šè‡ªåŠ¨æˆ–æ‰‹åŠ¨åœ°å°†ä½ç§»æ•°æ®æäº¤åˆ°ZooKeeperä¸­ä¿å­˜ã€‚å½“Consumeré‡å¯åï¼Œå®ƒèƒ½è‡ªåŠ¨ä»ZooKeeperä¸­è¯»å–ä½ç§»æ•°æ®ï¼Œä»è€Œåœ¨ä¸Šæ¬¡æ¶ˆè´¹æˆªæ­¢çš„åœ°æ–¹ç»§ç»­æ¶ˆè´¹ã€‚è¿™ç§è®¾è®¡ä½¿å¾—Kafka Brokerä¸éœ€è¦ä¿å­˜ä½ç§»æ•°æ®ï¼Œå‡å°‘äº†Brokerç«¯éœ€è¦æŒæœ‰çš„çŠ¶æ€ç©ºé—´ï¼Œå› è€Œæœ‰åˆ©äºå®ç°é«˜ä¼¸ç¼©æ€§ã€‚</p><p>ä½†æ˜¯ï¼ŒZooKeeperå…¶å®å¹¶ä¸é€‚ç”¨äºè¿™ç§é«˜é¢‘çš„å†™æ“ä½œï¼Œå› æ­¤ï¼ŒKafkaç¤¾åŒºè‡ª0.8.2.xç‰ˆæœ¬å¼€å§‹ï¼Œå°±åœ¨é…é…¿ä¿®æ”¹è¿™ç§è®¾è®¡ï¼Œå¹¶æœ€ç»ˆåœ¨æ–°ç‰ˆæœ¬Consumerä¸­æ­£å¼æ¨å‡ºäº†å…¨æ–°çš„ä½ç§»ç®¡ç†æœºåˆ¶ï¼Œè‡ªç„¶ä¹ŸåŒ…æ‹¬è¿™ä¸ªæ–°çš„ä½ç§»ä¸»é¢˜ã€‚</p><!-- [[[read_end]]] --><p>æ–°ç‰ˆæœ¬Consumerçš„ä½ç§»ç®¡ç†æœºåˆ¶å…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯<strong>å°†Consumerçš„ä½ç§»æ•°æ®ä½œä¸ºä¸€æ¡æ¡æ™®é€šçš„Kafkaæ¶ˆæ¯ï¼Œæäº¤åˆ°__consumer_offsetsä¸­ã€‚å¯ä»¥è¿™ä¹ˆè¯´ï¼Œ__consumer_offsetsçš„ä¸»è¦ä½œç”¨æ˜¯ä¿å­˜Kafkaæ¶ˆè´¹è€…çš„ä½ç§»ä¿¡æ¯ã€‚</strong>å®ƒè¦æ±‚è¿™ä¸ªæäº¤è¿‡ç¨‹ä¸ä»…è¦å®ç°é«˜æŒä¹…æ€§ï¼Œè¿˜è¦æ”¯æŒé«˜é¢‘çš„å†™æ“ä½œã€‚æ˜¾ç„¶ï¼ŒKafkaçš„ä¸»é¢˜è®¾è®¡å¤©ç„¶å°±æ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶ï¼Œå› æ­¤ï¼Œä½¿ç”¨Kafkaä¸»é¢˜æ¥ä¿å­˜ä½ç§»è¿™ä»¶äº‹æƒ…ï¼Œå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªæ°´åˆ°æ¸ æˆçš„æƒ³æ³•äº†ã€‚</p><p>è¿™é‡Œæˆ‘æƒ³å†æ¬¡å¼ºè°ƒä¸€ä¸‹ï¼Œå’Œä½ åˆ›å»ºçš„å…¶ä»–ä¸»é¢˜ä¸€æ ·ï¼Œä½ç§»ä¸»é¢˜å°±æ˜¯æ™®é€šçš„Kafkaä¸»é¢˜ã€‚ä½ å¯ä»¥æ‰‹åŠ¨åœ°åˆ›å»ºå®ƒã€ä¿®æ”¹å®ƒï¼Œç”šè‡³æ˜¯åˆ é™¤å®ƒã€‚åªä¸è¿‡ï¼Œå®ƒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå†…éƒ¨ä¸»é¢˜ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä½ å…¶å®å¹¶ä¸éœ€è¦â€œæ­ç†â€å®ƒï¼Œä¹Ÿä¸ç”¨èŠ±å¿ƒæ€å»ç®¡ç†å®ƒï¼ŒæŠŠå®ƒä¸¢ç»™Kafkaå°±å®Œäº‹äº†ã€‚</p><p>è™½è¯´ä½ç§»ä¸»é¢˜æ˜¯ä¸€ä¸ªæ™®é€šçš„Kafkaä¸»é¢˜ï¼Œä½†<strong>å®ƒçš„æ¶ˆæ¯æ ¼å¼å´æ˜¯Kafkaè‡ªå·±å®šä¹‰çš„</strong>ï¼Œç”¨æˆ·ä¸èƒ½ä¿®æ”¹ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ ä¸èƒ½éšæ„åœ°å‘è¿™ä¸ªä¸»é¢˜å†™æ¶ˆæ¯ï¼Œå› ä¸ºä¸€æ—¦ä½ å†™å…¥çš„æ¶ˆæ¯ä¸æ»¡è¶³Kafkaè§„å®šçš„æ ¼å¼ï¼Œé‚£ä¹ˆKafkaå†…éƒ¨æ— æ³•æˆåŠŸè§£æï¼Œå°±ä¼šé€ æˆBrokerçš„å´©æºƒã€‚äº‹å®ä¸Šï¼ŒKafka Consumeræœ‰APIå¸®ä½ æäº¤ä½ç§»ï¼Œä¹Ÿå°±æ˜¯å‘ä½ç§»ä¸»é¢˜å†™æ¶ˆæ¯ã€‚ä½ åƒä¸‡ä¸è¦è‡ªå·±å†™ä¸ªProduceréšæ„å‘è¯¥ä¸»é¢˜å‘é€æ¶ˆæ¯ã€‚</p><p>ä½ å¯èƒ½ä¼šå¥½å¥‡ï¼Œè¿™ä¸ªä¸»é¢˜å­˜çš„åˆ°åº•æ˜¯ä»€ä¹ˆæ ¼å¼çš„æ¶ˆæ¯å‘¢ï¼Ÿæ‰€è°“çš„æ¶ˆæ¯æ ¼å¼ï¼Œä½ å¯ä»¥ç®€å•åœ°ç†è§£ä¸ºæ˜¯ä¸€ä¸ªKVå¯¹ã€‚Keyå’ŒValueåˆ†åˆ«è¡¨ç¤ºæ¶ˆæ¯çš„é”®å€¼å’Œæ¶ˆæ¯ä½“ï¼Œåœ¨Kafkaä¸­å®ƒä»¬å°±æ˜¯å­—èŠ‚æ•°ç»„è€Œå·²ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœè®©ä½ æ¥è®¾è®¡è¿™ä¸ªä¸»é¢˜ï¼Œä½ è§‰å¾—æ¶ˆæ¯æ ¼å¼åº”è¯¥é•¿ä»€ä¹ˆæ ·å­å‘¢ï¼Ÿæˆ‘å…ˆä¸è¯´ç¤¾åŒºçš„è®¾è®¡æ–¹æ¡ˆï¼Œæˆ‘ä»¬è‡ªå·±å…ˆæ¥è®¾è®¡ä¸€ä¸‹ã€‚</p><p>é¦–å…ˆä»Keyè¯´èµ·ã€‚ä¸€ä¸ªKafkaé›†ç¾¤ä¸­çš„Consumeræ•°é‡ä¼šæœ‰å¾ˆå¤šï¼Œæ—¢ç„¶è¿™ä¸ªä¸»é¢˜ä¿å­˜çš„æ˜¯Consumerçš„ä½ç§»æ•°æ®ï¼Œé‚£ä¹ˆæ¶ˆæ¯æ ¼å¼ä¸­å¿…é¡»è¦æœ‰å­—æ®µæ¥æ ‡è¯†è¿™ä¸ªä½ç§»æ•°æ®æ˜¯å“ªä¸ªConsumerçš„ã€‚è¿™ç§æ•°æ®æ”¾åœ¨å“ªä¸ªå­—æ®µæ¯”è¾ƒåˆé€‚å‘¢ï¼Ÿæ˜¾ç„¶æ”¾åœ¨Keyä¸­æ¯”è¾ƒåˆé€‚ã€‚</p><p>ç°åœ¨æˆ‘ä»¬çŸ¥é“è¯¥ä¸»é¢˜æ¶ˆæ¯çš„Keyä¸­åº”è¯¥ä¿å­˜æ ‡è¯†Consumerçš„å­—æ®µï¼Œé‚£ä¹ˆï¼Œå½“å‰Kafkaä¸­ä»€ä¹ˆå­—æ®µèƒ½å¤Ÿæ ‡è¯†Consumerå‘¢ï¼Ÿè¿˜è®°å¾—ä¹‹å‰æˆ‘ä»¬è¯´Consumer Groupæ—¶æåˆ°çš„Group IDå—ï¼Ÿæ²¡é”™ï¼Œå°±æ˜¯è¿™ä¸ªå­—æ®µï¼Œå®ƒèƒ½å¤Ÿæ ‡è¯†å”¯ä¸€çš„Consumer Groupã€‚</p><p>è¯´åˆ°è¿™é‡Œï¼Œæˆ‘å†å¤šè¯´å‡ å¥ã€‚é™¤äº†Consumer Groupï¼ŒKafkaè¿˜æ”¯æŒç‹¬ç«‹Consumerï¼Œä¹Ÿç§°Standalone Consumerã€‚å®ƒçš„è¿è¡Œæœºåˆ¶ä¸Consumer Groupå®Œå…¨ä¸åŒï¼Œä½†æ˜¯ä½ç§»ç®¡ç†çš„æœºåˆ¶å´æ˜¯ç›¸åŒçš„ã€‚å› æ­¤ï¼Œå³ä½¿æ˜¯Standalone Consumerï¼Œä¹Ÿæœ‰è‡ªå·±çš„Group IDæ¥æ ‡è¯†å®ƒè‡ªå·±ï¼Œæ‰€ä»¥ä¹Ÿé€‚ç”¨äºè¿™å¥—æ¶ˆæ¯æ ¼å¼ã€‚</p><p>Okayï¼Œæˆ‘ä»¬ç°åœ¨çŸ¥é“Keyä¸­ä¿å­˜äº†Group IDï¼Œä½†æ˜¯åªä¿å­˜Group IDå°±å¯ä»¥äº†å—ï¼Ÿåˆ«å¿˜äº†ï¼ŒConsumeræäº¤ä½ç§»æ˜¯åœ¨åˆ†åŒºå±‚é¢ä¸Šè¿›è¡Œçš„ï¼Œå³å®ƒæäº¤çš„æ˜¯æŸä¸ªæˆ–æŸäº›åˆ†åŒºçš„ä½ç§»ï¼Œé‚£ä¹ˆå¾ˆæ˜¾ç„¶ï¼ŒKeyä¸­è¿˜åº”è¯¥ä¿å­˜Consumerè¦æäº¤ä½ç§»çš„åˆ†åŒºã€‚</p><p>å¥½äº†ï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹æˆ‘ä»¬çš„ç»“è®ºã€‚<strong>ä½ç§»ä¸»é¢˜çš„Keyä¸­åº”è¯¥ä¿å­˜3éƒ¨åˆ†å†…å®¹ï¼š&lt;Group IDï¼Œä¸»é¢˜åï¼Œåˆ†åŒºå·&gt;</strong>ã€‚å¦‚æœä½ è®¤åŒè¿™æ ·çš„ç»“è®ºï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œç¤¾åŒºå°±æ˜¯è¿™ä¹ˆè®¾è®¡çš„ï¼</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹æ¶ˆæ¯ä½“çš„è®¾è®¡ã€‚ä¹Ÿè®¸ä½ ä¼šè§‰å¾—æ¶ˆæ¯ä½“åº”è¯¥å¾ˆç®€å•ï¼Œä¿å­˜ä¸€ä¸ªä½ç§»å€¼å°±å¯ä»¥äº†ã€‚å®é™…ä¸Šï¼Œç¤¾åŒºçš„æ–¹æ¡ˆè¦å¤æ‚å¾—å¤šï¼Œæ¯”å¦‚æ¶ˆæ¯ä½“è¿˜ä¿å­˜äº†ä½ç§»æäº¤çš„ä¸€äº›å…¶ä»–å…ƒæ•°æ®ï¼Œè¯¸å¦‚æ—¶é—´æˆ³å’Œç”¨æˆ·è‡ªå®šä¹‰çš„æ•°æ®ç­‰ã€‚ä¿å­˜è¿™äº›å…ƒæ•°æ®æ˜¯ä¸ºäº†å¸®åŠ©Kafkaæ‰§è¡Œå„ç§å„æ ·åç»­çš„æ“ä½œï¼Œæ¯”å¦‚åˆ é™¤è¿‡æœŸä½ç§»æ¶ˆæ¯ç­‰ã€‚ä½†æ€»ä½“æ¥è¯´ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¯ä»¥ç®€å•åœ°è®¤ä¸ºæ¶ˆæ¯ä½“å°±æ˜¯ä¿å­˜äº†ä½ç§»å€¼ã€‚</p><p>å½“ç„¶äº†ï¼Œä½ç§»ä¸»é¢˜çš„æ¶ˆæ¯æ ¼å¼å¯ä¸æ˜¯åªæœ‰è¿™ä¸€ç§ã€‚äº‹å®ä¸Šï¼Œå®ƒæœ‰3ç§æ¶ˆæ¯æ ¼å¼ã€‚é™¤äº†åˆšåˆšæˆ‘ä»¬è¯´çš„è¿™ç§æ ¼å¼ï¼Œè¿˜æœ‰2ç§æ ¼å¼ï¼š</p><ol>\n<li>ç”¨äºä¿å­˜Consumer Groupä¿¡æ¯çš„æ¶ˆæ¯ã€‚</li>\n<li>ç”¨äºåˆ é™¤Groupè¿‡æœŸä½ç§»ç”šè‡³æ˜¯åˆ é™¤Groupçš„æ¶ˆæ¯ã€‚</li>\n</ol><p>ç¬¬1ç§æ ¼å¼éå¸¸ç¥ç§˜ï¼Œä»¥è‡³äºä½ å‡ ä¹æ— æ³•åœ¨æœç´¢å¼•æ“ä¸­æœåˆ°å®ƒçš„èº«å½±ã€‚ä¸è¿‡ï¼Œä½ åªéœ€è¦è®°ä½å®ƒæ˜¯ç”¨æ¥æ³¨å†ŒConsumer Groupçš„å°±å¯ä»¥äº†ã€‚</p><p>ç¬¬2ç§æ ¼å¼ç›¸å¯¹æ›´åŠ æœ‰åä¸€äº›ã€‚å®ƒæœ‰ä¸ªä¸“å±çš„åå­—ï¼štombstoneæ¶ˆæ¯ï¼Œå³å¢“ç¢‘æ¶ˆæ¯ï¼Œä¹Ÿç§°delete markã€‚ä¸‹æ¬¡ä½ åœ¨Googleæˆ–ç™¾åº¦ä¸­è§åˆ°è¿™äº›è¯ï¼Œä¸ç”¨æ„Ÿåˆ°æƒŠè®¶ï¼Œå®ƒä»¬æŒ‡çš„æ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚è¿™äº›æ¶ˆæ¯åªå‡ºç°åœ¨æºç ä¸­è€Œä¸æš´éœ²ç»™ä½ ã€‚å®ƒçš„ä¸»è¦ç‰¹ç‚¹æ˜¯å®ƒçš„æ¶ˆæ¯ä½“æ˜¯nullï¼Œå³ç©ºæ¶ˆæ¯ä½“ã€‚</p><p>é‚£ä¹ˆï¼Œä½•æ—¶ä¼šå†™å…¥è¿™ç±»æ¶ˆæ¯å‘¢ï¼Ÿä¸€æ—¦æŸä¸ªConsumer Groupä¸‹çš„æ‰€æœ‰Consumerå®ä¾‹éƒ½åœæ­¢äº†ï¼Œè€Œä¸”å®ƒä»¬çš„ä½ç§»æ•°æ®éƒ½å·²è¢«åˆ é™¤æ—¶ï¼ŒKafkaä¼šå‘ä½ç§»ä¸»é¢˜çš„å¯¹åº”åˆ†åŒºå†™å…¥tombstoneæ¶ˆæ¯ï¼Œè¡¨æ˜è¦å½»åº•åˆ é™¤è¿™ä¸ªGroupçš„ä¿¡æ¯ã€‚</p><p>å¥½äº†ï¼Œæ¶ˆæ¯æ ¼å¼å°±è¯´è¿™ä¹ˆå¤šï¼Œä¸‹é¢æˆ‘ä»¬æ¥è¯´è¯´ä½ç§»ä¸»é¢˜æ˜¯æ€ä¹ˆè¢«åˆ›å»ºçš„ã€‚é€šå¸¸æ¥è¯´ï¼Œ<strong>å½“Kafkaé›†ç¾¤ä¸­çš„ç¬¬ä¸€ä¸ªConsumerç¨‹åºå¯åŠ¨æ—¶ï¼ŒKafkaä¼šè‡ªåŠ¨åˆ›å»ºä½ç§»ä¸»é¢˜</strong>ã€‚æˆ‘ä»¬è¯´è¿‡ï¼Œä½ç§»ä¸»é¢˜å°±æ˜¯æ™®é€šçš„Kafkaä¸»é¢˜ï¼Œé‚£ä¹ˆå®ƒè‡ªç„¶ä¹Ÿæœ‰å¯¹åº”çš„åˆ†åŒºæ•°ã€‚ä½†å¦‚æœæ˜¯Kafkaè‡ªåŠ¨åˆ›å»ºçš„ï¼Œåˆ†åŒºæ•°æ˜¯æ€ä¹ˆè®¾ç½®çš„å‘¢ï¼Ÿè¿™å°±è¦çœ‹Brokerç«¯å‚æ•°offsets.topic.num.partitionsçš„å–å€¼äº†ã€‚å®ƒçš„é»˜è®¤å€¼æ˜¯50ï¼Œå› æ­¤Kafkaä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª50åˆ†åŒºçš„ä½ç§»ä¸»é¢˜ã€‚å¦‚æœä½ æ›¾ç»æƒŠè®¶äºKafkaæ—¥å¿—è·¯å¾„ä¸‹å†’å‡ºå¾ˆå¤š__consumer_offsets-xxxè¿™æ ·çš„ç›®å½•ï¼Œé‚£ä¹ˆç°åœ¨åº”è¯¥æ˜ç™½äº†å§ï¼Œè¿™å°±æ˜¯Kafkaè‡ªåŠ¨å¸®ä½ åˆ›å»ºçš„ä½ç§»ä¸»é¢˜å•Šã€‚</p><p>ä½ å¯èƒ½ä¼šé—®ï¼Œé™¤äº†åˆ†åŒºæ•°ï¼Œå‰¯æœ¬æ•°æˆ–å¤‡ä»½å› å­æ˜¯æ€ä¹ˆæ§åˆ¶çš„å‘¢ï¼Ÿç­”æ¡ˆä¹Ÿå¾ˆç®€å•ï¼Œè¿™å°±æ˜¯Brokerç«¯å¦ä¸€ä¸ªå‚æ•°offsets.topic.replication.factorè¦åšçš„äº‹æƒ…äº†ã€‚å®ƒçš„é»˜è®¤å€¼æ˜¯3ã€‚</p><p>æ€»ç»“ä¸€ä¸‹ï¼Œ<strong>å¦‚æœä½ç§»ä¸»é¢˜æ˜¯Kafkaè‡ªåŠ¨åˆ›å»ºçš„ï¼Œé‚£ä¹ˆè¯¥ä¸»é¢˜çš„åˆ†åŒºæ•°æ˜¯50ï¼Œå‰¯æœ¬æ•°æ˜¯3</strong>ã€‚</p><p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©æ‰‹åŠ¨åˆ›å»ºä½ç§»ä¸»é¢˜ï¼Œå…·ä½“æ–¹æ³•å°±æ˜¯ï¼Œåœ¨Kafkaé›†ç¾¤å°šæœªå¯åŠ¨ä»»ä½•Consumerä¹‹å‰ï¼Œä½¿ç”¨Kafka APIåˆ›å»ºå®ƒã€‚æ‰‹åŠ¨åˆ›å»ºçš„å¥½å¤„åœ¨äºï¼Œä½ å¯ä»¥åˆ›å»ºæ»¡è¶³ä½ å®é™…åœºæ™¯éœ€è¦çš„ä½ç§»ä¸»é¢˜ã€‚æ¯”å¦‚å¾ˆå¤šäººè¯´50ä¸ªåˆ†åŒºå¯¹æˆ‘æ¥è®²å¤ªå¤šäº†ï¼Œæˆ‘ä¸æƒ³è¦è¿™ä¹ˆå¤šåˆ†åŒºï¼Œé‚£ä¹ˆä½ å¯ä»¥è‡ªå·±åˆ›å»ºå®ƒï¼Œä¸ç”¨ç†ä¼šoffsets.topic.num.partitionsçš„å€¼ã€‚</p><p>ä¸è¿‡æˆ‘ç»™ä½ çš„å»ºè®®æ˜¯ï¼Œè¿˜æ˜¯è®©Kafkaè‡ªåŠ¨åˆ›å»ºæ¯”è¾ƒå¥½ã€‚ç›®å‰Kafkaæºç ä¸­æœ‰ä¸€äº›åœ°æ–¹ç¡¬ç¼–ç äº†50åˆ†åŒºæ•°ï¼Œå› æ­¤å¦‚æœä½ è‡ªè¡Œåˆ›å»ºäº†ä¸€ä¸ªä¸åŒäºé»˜è®¤åˆ†åŒºæ•°çš„ä½ç§»ä¸»é¢˜ï¼Œå¯èƒ½ä¼šç¢°åˆ°å„ç§å„æ ·å¥‡æ€ªçš„é—®é¢˜ã€‚è¿™æ˜¯ç¤¾åŒºçš„ä¸€ä¸ªBugï¼Œç›®å‰ä»£ç å·²ç»ä¿®å¤äº†ï¼Œä½†ä¾ç„¶åœ¨å®¡æ ¸ä¸­ã€‚</p><p>åˆ›å»ºä½ç§»ä¸»é¢˜å½“ç„¶æ˜¯ä¸ºäº†ç”¨çš„ï¼Œé‚£ä¹ˆä»€ä¹ˆåœ°æ–¹ä¼šç”¨åˆ°ä½ç§»ä¸»é¢˜å‘¢ï¼Ÿæˆ‘ä»¬å‰é¢ä¸€ç›´åœ¨è¯´Kafka Consumeræäº¤ä½ç§»æ—¶ä¼šå†™å…¥è¯¥ä¸»é¢˜ï¼Œé‚£Consumeræ˜¯æ€ä¹ˆæäº¤ä½ç§»çš„å‘¢ï¼Ÿç›®å‰Kafka Consumeræäº¤ä½ç§»çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š<strong>è‡ªåŠ¨æäº¤ä½ç§»å’Œæ‰‹åŠ¨æäº¤ä½ç§»ã€‚</strong></p><p>Consumerç«¯æœ‰ä¸ªå‚æ•°å«enable.auto.commitï¼Œå¦‚æœå€¼æ˜¯trueï¼Œåˆ™Consumeråœ¨åå°é»˜é»˜åœ°ä¸ºä½ å®šæœŸæäº¤ä½ç§»ï¼Œæäº¤é—´éš”ç”±ä¸€ä¸ªä¸“å±çš„å‚æ•°auto.commit.interval.msæ¥æ§åˆ¶ã€‚è‡ªåŠ¨æäº¤ä½ç§»æœ‰ä¸€ä¸ªæ˜¾è‘—çš„ä¼˜ç‚¹ï¼Œå°±æ˜¯çœäº‹ï¼Œä½ ä¸ç”¨æ“å¿ƒä½ç§»æäº¤çš„äº‹æƒ…ï¼Œå°±èƒ½ä¿è¯æ¶ˆæ¯æ¶ˆè´¹ä¸ä¼šä¸¢å¤±ã€‚ä½†è¿™ä¸€ç‚¹åŒæ—¶ä¹Ÿæ˜¯ç¼ºç‚¹ã€‚å› ä¸ºå®ƒå¤ªçœäº‹äº†ï¼Œä»¥è‡³äºä¸§å¤±äº†å¾ˆå¤§çš„çµæ´»æ€§å’Œå¯æ§æ€§ï¼Œä½ å®Œå…¨æ²¡æ³•æŠŠæ§Consumerç«¯çš„ä½ç§»ç®¡ç†ã€‚</p><p>äº‹å®ä¸Šï¼Œå¾ˆå¤šä¸Kafkaé›†æˆçš„å¤§æ•°æ®æ¡†æ¶éƒ½æ˜¯ç¦ç”¨è‡ªåŠ¨æäº¤ä½ç§»çš„ï¼Œå¦‚Sparkã€Flinkç­‰ã€‚è¿™å°±å¼•å‡ºäº†å¦ä¸€ç§ä½ç§»æäº¤æ–¹å¼ï¼š<strong>æ‰‹åŠ¨æäº¤ä½ç§»</strong>ï¼Œå³è®¾ç½®enable.auto.commit = falseã€‚ä¸€æ—¦è®¾ç½®äº†falseï¼Œä½œä¸ºConsumeråº”ç”¨å¼€å‘çš„ä½ å°±è¦æ‰¿æ‹…èµ·ä½ç§»æäº¤çš„è´£ä»»ã€‚Kafka Consumer APIä¸ºä½ æä¾›äº†ä½ç§»æäº¤çš„æ–¹æ³•ï¼Œå¦‚consumer.commitSyncç­‰ã€‚å½“è°ƒç”¨è¿™äº›æ–¹æ³•æ—¶ï¼ŒKafkaä¼šå‘ä½ç§»ä¸»é¢˜å†™å…¥ç›¸åº”çš„æ¶ˆæ¯ã€‚</p><p>å¦‚æœä½ é€‰æ‹©çš„æ˜¯è‡ªåŠ¨æäº¤ä½ç§»ï¼Œé‚£ä¹ˆå°±å¯èƒ½å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šåªè¦Consumerä¸€ç›´å¯åŠ¨ç€ï¼Œå®ƒå°±ä¼šæ— é™æœŸåœ°å‘ä½ç§»ä¸»é¢˜å†™å…¥æ¶ˆæ¯ã€‚</p><p>æˆ‘ä»¬æ¥ä¸¾ä¸ªæç«¯ä¸€ç‚¹çš„ä¾‹å­ã€‚å‡è®¾Consumerå½“å‰æ¶ˆè´¹åˆ°äº†æŸä¸ªä¸»é¢˜çš„æœ€æ–°ä¸€æ¡æ¶ˆæ¯ï¼Œä½ç§»æ˜¯100ï¼Œä¹‹åè¯¥ä¸»é¢˜æ²¡æœ‰ä»»ä½•æ–°æ¶ˆæ¯äº§ç”Ÿï¼Œæ•…Consumeræ— æ¶ˆæ¯å¯æ¶ˆè´¹äº†ï¼Œæ‰€ä»¥ä½ç§»æ°¸è¿œä¿æŒåœ¨100ã€‚ç”±äºæ˜¯è‡ªåŠ¨æäº¤ä½ç§»ï¼Œä½ç§»ä¸»é¢˜ä¸­ä¼šä¸åœåœ°å†™å…¥ä½ç§»=100çš„æ¶ˆæ¯ã€‚æ˜¾ç„¶Kafkaåªéœ€è¦ä¿ç•™è¿™ç±»æ¶ˆæ¯ä¸­çš„æœ€æ–°ä¸€æ¡å°±å¯ä»¥äº†ï¼Œä¹‹å‰çš„æ¶ˆæ¯éƒ½æ˜¯å¯ä»¥åˆ é™¤çš„ã€‚è¿™å°±è¦æ±‚Kafkaå¿…é¡»è¦æœ‰é’ˆå¯¹ä½ç§»ä¸»é¢˜æ¶ˆæ¯ç‰¹ç‚¹çš„æ¶ˆæ¯åˆ é™¤ç­–ç•¥ï¼Œå¦åˆ™è¿™ç§æ¶ˆæ¯ä¼šè¶Šæ¥è¶Šå¤šï¼Œæœ€ç»ˆæ’‘çˆ†æ•´ä¸ªç£ç›˜ã€‚</p><p>Kafkaæ˜¯æ€ä¹ˆåˆ é™¤ä½ç§»ä¸»é¢˜ä¸­çš„è¿‡æœŸæ¶ˆæ¯çš„å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯Compactionã€‚å›½å†…å¾ˆå¤šæ–‡çŒ®éƒ½å°†å…¶ç¿»è¯‘æˆå‹ç¼©ï¼Œæˆ‘ä¸ªäººæ˜¯æœ‰ä¸€ç‚¹ä¿ç•™æ„è§çš„ã€‚åœ¨è‹±è¯­ä¸­ï¼Œå‹ç¼©çš„ä¸“æœ‰æœ¯è¯­æ˜¯Compressionï¼Œå®ƒçš„åŸç†å’ŒCompactionå¾ˆä¸ç›¸åŒï¼Œæˆ‘æ›´å€¾å‘äºç¿»è¯‘æˆå‹å®ï¼Œæˆ–å¹²è„†é‡‡ç”¨JVMåƒåœ¾å›æ”¶ä¸­çš„æœ¯è¯­ï¼šæ•´ç†ã€‚</p><p>ä¸ç®¡æ€ä¹ˆç¿»è¯‘ï¼ŒKafkaä½¿ç”¨<strong>Compactç­–ç•¥</strong>æ¥åˆ é™¤ä½ç§»ä¸»é¢˜ä¸­çš„è¿‡æœŸæ¶ˆæ¯ï¼Œé¿å…è¯¥ä¸»é¢˜æ— é™æœŸè†¨èƒ€ã€‚é‚£ä¹ˆåº”è¯¥å¦‚ä½•å®šä¹‰Compactç­–ç•¥ä¸­çš„è¿‡æœŸå‘¢ï¼Ÿå¯¹äºåŒä¸€ä¸ªKeyçš„ä¸¤æ¡æ¶ˆæ¯M1å’ŒM2ï¼Œå¦‚æœM1çš„å‘é€æ—¶é—´æ—©äºM2ï¼Œé‚£ä¹ˆM1å°±æ˜¯è¿‡æœŸæ¶ˆæ¯ã€‚Compactçš„è¿‡ç¨‹å°±æ˜¯æ‰«ææ—¥å¿—çš„æ‰€æœ‰æ¶ˆæ¯ï¼Œå‰”é™¤é‚£äº›è¿‡æœŸçš„æ¶ˆæ¯ï¼Œç„¶åæŠŠå‰©ä¸‹çš„æ¶ˆæ¯æ•´ç†åœ¨ä¸€èµ·ã€‚æˆ‘åœ¨è¿™é‡Œè´´ä¸€å¼ æ¥è‡ªå®˜ç½‘çš„å›¾ç‰‡ï¼Œæ¥è¯´æ˜Compactè¿‡ç¨‹ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/86/e7/86a44073aa60ac33e0833e6a9bfd9ae7.jpeg?wh=681*397\" alt=\"\"></p><p>å›¾ä¸­ä½ç§»ä¸º0ã€2å’Œ3çš„æ¶ˆæ¯çš„Keyéƒ½æ˜¯K1ã€‚Compactä¹‹åï¼Œåˆ†åŒºåªéœ€è¦ä¿å­˜ä½ç§»ä¸º3çš„æ¶ˆæ¯ï¼Œå› ä¸ºå®ƒæ˜¯æœ€æ–°å‘é€çš„ã€‚</p><p><strong>Kafkaæä¾›äº†ä¸“é—¨çš„åå°çº¿ç¨‹å®šæœŸåœ°å·¡æ£€å¾…Compactçš„ä¸»é¢˜ï¼Œçœ‹çœ‹æ˜¯å¦å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„å¯åˆ é™¤æ•°æ®</strong>ã€‚è¿™ä¸ªåå°çº¿ç¨‹å«Log Cleanerã€‚å¾ˆå¤šå®é™…ç”Ÿäº§ç¯å¢ƒä¸­éƒ½å‡ºç°è¿‡ä½ç§»ä¸»é¢˜æ— é™è†¨èƒ€å ç”¨è¿‡å¤šç£ç›˜ç©ºé—´çš„é—®é¢˜ï¼Œå¦‚æœä½ çš„ç¯å¢ƒä¸­ä¹Ÿæœ‰è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å»ºè®®ä½ å»æ£€æŸ¥ä¸€ä¸‹Log Cleanerçº¿ç¨‹çš„çŠ¶æ€ï¼Œé€šå¸¸éƒ½æ˜¯è¿™ä¸ªçº¿ç¨‹æŒ‚æ‰äº†å¯¼è‡´çš„ã€‚</p><h2>å°ç»“</h2><p>æ€»ç»“ä¸€ä¸‹ï¼Œä»Šå¤©æˆ‘è·Ÿä½ åˆ†äº«äº†Kafkaç¥ç§˜çš„ä½ç§»ä¸»é¢˜__consumer_offsetsï¼ŒåŒ…æ‹¬å¼•å…¥å®ƒçš„å¥‘æœºä¸åŸå› ã€å®ƒçš„ä½œç”¨ã€æ¶ˆæ¯æ ¼å¼ã€å†™å…¥çš„æ—¶æœºä»¥åŠç®¡ç†ç­–ç•¥ç­‰ï¼Œè¿™å¯¹æˆ‘ä»¬äº†è§£Kafkaç‰¹åˆ«æ˜¯Kafka Consumerçš„ä½ç§»ç®¡ç†æ˜¯å¤§æœ‰å¸®åŠ©çš„ã€‚å®é™…ä¸Šï¼Œå°†å¾ˆå¤šå…ƒæ•°æ®ä»¥æ¶ˆæ¯çš„æ–¹å¼å­˜å…¥Kafkaå†…éƒ¨ä¸»é¢˜çš„åšæ³•è¶Šæ¥è¶Šæµè¡Œã€‚é™¤äº†Consumerä½ç§»ç®¡ç†ï¼ŒKafkaäº‹åŠ¡ä¹Ÿæ˜¯åˆ©ç”¨äº†è¿™ä¸ªæ–¹æ³•ï¼Œå½“ç„¶é‚£æ˜¯å¦å¤–çš„ä¸€ä¸ªå†…éƒ¨ä¸»é¢˜äº†ã€‚</p><p>ç¤¾åŒºçš„æƒ³æ³•å¾ˆç®€å•ï¼šæ—¢ç„¶Kafkaå¤©ç„¶å®ç°äº†é«˜æŒä¹…æ€§å’Œé«˜ååé‡ï¼Œé‚£ä¹ˆä»»ä½•æœ‰è¿™ä¸¤ä¸ªéœ€æ±‚çš„å­æœåŠ¡è‡ªç„¶ä¹Ÿå°±ä¸å¿…æ±‚åŠ©äºå¤–éƒ¨ç³»ç»Ÿï¼Œç”¨Kafkaè‡ªå·±å®ç°å°±å¥½äº†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/92/b7/927e436fb8054665d81db418c25af3b7.jpg?wh=2069*2569\" alt=\"\"></p><h2>å¼€æ”¾è®¨è®º</h2><p>ä»Šå¤©æˆ‘ä»¬è¯´äº†ä½ç§»ä¸»é¢˜çš„å¾ˆå¤šå¥½å¤„ï¼Œè¯·æ€è€ƒä¸€ä¸‹ï¼Œä¸ZooKeeperæ–¹æ¡ˆç›¸æ¯”ï¼Œå®ƒå¯èƒ½çš„åŠ£åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>æ¬¢è¿å†™ä¸‹ä½ çš„æ€è€ƒå’Œç­”æ¡ˆï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºã€‚å¦‚æœä½ è§‰å¾—æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿æŠŠæ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚</p>","neighbors":{"left":{"article_title":"15 | æ¶ˆè´¹è€…ç»„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ","id":105112},"right":{"article_title":"17 | æ¶ˆè´¹è€…ç»„é‡å¹³è¡¡èƒ½é¿å…å—ï¼Ÿ","id":105737}},"comments":[{"had_liked":false,"id":147059,"user_name":"æ³¨å®šéå‡¡","can_delete":false,"product_type":"c1","uid":1113597,"ip_address":"","ucode":"80673056E131B7","user_header":"https://static001.geekbang.org/account/avatar/00/10/fd/fd/326be9bb.jpg","comment_is_top":false,"comment_ctime":1572782086,"is_pvip":true,"discussion_count":4,"race_medal":0,"score":"353760100358","product_id":100029201,"comment_content":"1ï¼Œè¯ç”ŸèƒŒæ™¯<br>\tA ï¼šè€ç‰ˆæœ¬çš„Kafkaä¼šæŠŠä½ç§»ä¿¡æ¯ä¿å­˜åœ¨Zkä¸­ï¼Œå½“Consumeré‡å¯åï¼Œè‡ªåŠ¨ä»Zkä¸­è¯»å–ä½ç§»ä¿¡æ¯ã€‚è¿™ç§è®¾è®¡ä½¿Kafka Brokerä¸éœ€è¦ä¿å­˜ä½ç§»æ•°æ®ï¼Œå¯å‡å°‘Brokerç«¯éœ€è¦æŒæœ‰çš„çŠ¶æ€ç©ºé—´ï¼Œæœ‰åˆ©äºå®ç°é«˜ä¼¸ç¼©æ€§ã€‚<br>\tB ï¼šä½†zkä¸é€‚ç”¨äºé«˜é¢‘çš„å†™æ“ä½œï¼Œè¿™ä»¤zké›†ç¾¤æ€§èƒ½ä¸¥é‡ä¸‹é™ï¼Œåœ¨æ–°ç‰ˆæœ¬ä¸­å°†æ¶ˆè´¹è€…çš„ä½ç§»æ•°æ®ä½œä¸ºä¸€æ¡æ¡æ™®é€šçš„Kafkaæ¶ˆæ¯ï¼Œæäº¤è‡³å†…éƒ¨ä¸»é¢˜ï¼ˆ_consumer_offsetsï¼‰ä¸­ä¿å­˜ã€‚å®ç°é«˜æŒä¹…æ€§å’Œé«˜é¢‘å†™æ“ä½œã€‚<br><br>2ï¼Œç‰¹ç‚¹:<br>\tA ï¼šä½ç§»ä¸»é¢˜æ˜¯ä¸€ä¸ªæ™®é€šä¸»é¢˜ï¼ŒåŒæ ·å¯ä»¥è¢«æ‰‹åŠ¨åˆ›å»ºï¼Œä¿®æ”¹ï¼Œåˆ é™¤ã€‚ã€‚<br>\tB ï¼šä½ç§»ä¸»é¢˜çš„æ¶ˆæ¯æ ¼å¼æ˜¯kafkaå®šä¹‰çš„ï¼Œä¸å¯ä»¥è¢«æ‰‹åŠ¨ä¿®æ”¹ï¼Œè‹¥ä¿®æ”¹æ ¼å¼ä¸æ­£ç¡®ï¼Œkafkaå°†ä¼šå´©æºƒã€‚<br>\tC ï¼šä½ç§»ä¸»é¢˜ä¿å­˜äº†ä¸‰éƒ¨åˆ†å†…å®¹ï¼šGroup IDï¼Œä¸»é¢˜åï¼Œåˆ†åŒºå·ã€‚<br><br>3ï¼Œåˆ›å»ºï¼š<br>\tA ï¼šå½“Kafkaé›†ç¾¤ä¸­çš„ç¬¬ä¸€ä¸ªConsumerç¨‹åºå¯åŠ¨æ—¶ï¼ŒKafkaä¼šè‡ªåŠ¨åˆ›å»ºä½ç§»ä¸»é¢˜ã€‚ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»º<br>\tB ï¼šåˆ†åŒºæ•°ä¾èµ–äºBrokerç«¯çš„offsets.topic.num.partitionsçš„å–å€¼ï¼Œé»˜è®¤ä¸º50<br>\tC ï¼šå‰¯æœ¬æ•°ä¾èµ–äºBrokerç«¯çš„offsets.topic.replication.factorçš„å–å€¼ï¼Œé»˜è®¤ä¸º3<br><br>4ï¼Œä½¿ç”¨ï¼š<br>\tA ï¼šå½“Kafkaæäº¤ä½ç§»æ¶ˆæ¯æ—¶ä¼šä½¿ç”¨è¿™ä¸ªä¸»é¢˜<br>\tB ï¼šä½ç§»æäº¤å¾—åˆ†æ–¹å¼æœ‰ä¸¤ç§:æ‰‹åŠ¨å’Œè‡ªåŠ¨æäº¤ä½ç§»ã€‚<br>\tC ï¼šæ¨èä½¿ç”¨æ‰‹åŠ¨æäº¤ä½ç§»ï¼Œè‡ªåŠ¨æäº¤ä½ç§»ä¼šå­˜åœ¨é—®é¢˜ï¼šåªæœ‰consumerä¸€ç›´å¯åŠ¨è®¾ç½®ï¼Œä»–å°±ä¼šæ— é™æœŸåœ°å‘ä¸»é¢˜å†™å…¥æ¶ˆæ¯ã€‚<br><br>5ï¼Œæ¸…ç†ï¼š<br>\tA ï¼šKafkaä½¿ç”¨Compactç­–ç•¥æ¥åˆ é™¤ä½ç§»ä¸»é¢˜ä¸­çš„è¿‡æœŸæ¶ˆæ¯ï¼Œé¿å…ä½ç§»ä¸»é¢˜æ— é™è†¨èƒ€ã€‚<br>\tB ï¼škafkaæä¾›ä¸“é—¨çš„åå°çº¿ç¨‹å®šæœŸå·¡æ£€å¾…compcatçš„ä¸»é¢˜ï¼ŒæŸ¥çœ‹æ˜¯å¦å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„å¯åˆ é™¤æ•°æ®ã€‚<br><br>6ï¼Œæ³¨æ„äº‹é¡¹ï¼š<br>\tA ï¼šå»ºè®®ä¸è¦ä¿®æ”¹é»˜è®¤åˆ†åŒºæ•°ï¼Œåœ¨kafkaä¸­æœ‰äº›è®¸åŠŸèƒ½å†™æ­»çš„æ˜¯50ä¸ªåˆ†åŒº<br>\tB ï¼šå»ºè®®ä¸è¦ä½¿ç”¨è‡ªåŠ¨æäº¤æ¨¡å¼ï¼Œé‡‡ç”¨æ‰‹åŠ¨æäº¤ï¼Œé¿å…æ¶ˆè´¹è€…æ— é™åˆ¶çš„å†™å…¥æ¶ˆæ¯ã€‚<br>\tC ï¼šåå°å®šæœŸå·¡æ£€çº¿ç¨‹å«Log Cleanerï¼Œè‹¥çº¿ä¸Šé‡åˆ°ä½ç§»ä¸»é¢˜æ— é™è†¨èƒ€å ç”¨è¿‡å¤šç£ç›˜ï¼Œåº”è¯¥æ£€æŸ¥æ­¤çº¿ç¨‹çš„å·¥ä½œçŠ¶æ€ã€‚<br>","like_count":83,"discussions":[{"author":{"id":1399870,"avatar":"https://static001.geekbang.org/account/avatar/00/15/5c/3e/06e00378.jpg","nickname":"æ¥ç”µ","note":"","ucode":"C609CE25F6DC43","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":186659,"discussion_content":"ä½ç§»ä¸»é¢˜çš„ Key ä¸­åº”è¯¥ä¿å­˜ 3 éƒ¨åˆ†å†…å®¹ï¼š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1582703659,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2037524,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/17/14/a2d83e5b.jpg","nickname":"vv33","note":"","ucode":"89026224CA9578","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":582290,"discussion_content":"æˆ‘ä¸Šé«˜ä¸­çš„æ—¶å€™å°±æ˜¯å·®è¿™ä¹ˆä¸€ä¸ªè¯¾ä»£è¡¨å°±èƒ½ä¸Šæ¸…åŒ—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1659351234,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"åŒ—äº¬"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1572356,"avatar":"https://static001.geekbang.org/account/avatar/00/17/fe/04/bb427e47.jpg","nickname":"ç å“¥å­—èŠ‚","note":"","ucode":"362103AD52C8E0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":557696,"discussion_content":"æœ€å¼ºç‹è€…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647935228,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1339409,"avatar":"https://static001.geekbang.org/account/avatar/00/14/70/11/42cf8f9d.jpg","nickname":"chenjia","note":"","ucode":"61983C29FF4987","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366881,"discussion_content":"æ­¤äººæ³¨å®šéå‡¡å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618211396,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":178329,"user_name":"æ­¤æ–¹å½¼æ–¹Francis","can_delete":false,"product_type":"c1","uid":1001390,"ip_address":"","ucode":"73E6C93CF1FE39","user_header":"https://static001.geekbang.org/account/avatar/00/0f/47/ae/0a5f7a56.jpg","comment_is_top":false,"comment_ctime":1581661864,"is_pvip":false,"replies":[{"id":"69234","content":"æ˜¯ä¸ªå¾ˆå¥½çš„æ¢³ç†æ€è·¯~","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1581728955,"ip_address":"","comment_id":178329,"utype":1}],"discussion_count":6,"race_medal":0,"score":"216330026664","product_id":100029201,"comment_content":"ä¹‹å‰é‡åˆ°è¿‡çš„ä¸€ä¸ªé—®é¢˜è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹ï¼ŒåŸå› æè¿°ä¸æ­£ç¡®çš„åœ°æ–¹è¿˜è¯·å¤§ä½¬æŒ‡æ­£ï¼š<br>log cleanerçº¿ç¨‹æŒ‚æ‰è¿˜æœ‰å¯èƒ½å¯¼è‡´æ¶ˆè´¹ç«¯å‡ºç°ï¼šMarking Coordinator Deadï¼<br><br>åŸå› å¤§æ¦‚å¦‚ä¸‹ï¼š<br>log cleanerçº¿ç¨‹æŒ‚æ‰ä¹‹åä¼šå¯¼è‡´ç£ç›˜ä¸Šä½ç§»ä¸»é¢˜çš„æ–‡ä»¶è¶Šæ¥è¶Šå¤šï¼ˆå½“ç„¶ï¼Œå¤§éƒ¨åˆ†æ˜¯è¿‡æœŸæ•°æ®ï¼Œåªæ˜¯ä¾æ—§å­˜åœ¨ï¼‰ï¼Œbrokerå†…å­˜ä¸­ä¼šç»´æŠ¤offsetMapï¼Œä»åå­—ä¸Šçœ‹è¿™ä¸ªmapå°±æ˜¯ç»´æŠ¤æ¶ˆè´¹è¿›åº¦çš„ï¼Œè€Œè¿™ä¸ªmapå’Œä½ç§»ä¸»é¢˜çš„æ–‡ä»¶æœ‰å…³è”ï¼Œæ–‡ä»¶è¶Šæ¥è¶Šå¤šä¼šå¯¼è‡´offsetMapè¶Šæ¥è¶Šå¤§ï¼Œç”šè‡³å¯¼è‡´offsetMapæ„å»ºå¤±è´¥ï¼ˆä¸ºä»€ä¹ˆä¼šå¤±è´¥æ²¡æœ‰ææ˜ç™½ï¼‰ï¼ŒoffsetMapæ„å»ºå¤±è´¥ä¹‹åbrokerä¸ä¼šæ‰¿è®¤è‡ªå·±æ˜¯coordinatorã€‚<br>æ¶ˆè´¹è€…ç»„æ‰¾coordinatorçš„é€»è¾‘å¾ˆç®€å•ï¼šabs(consumer_groupName.hashCode) % __consumer_offset.partition.numå¯¹åº”çš„partitionæ‰€åœ¨çš„brokerå°±æ˜¯è¿™ä¸ªgroupçš„coordinateï¼Œä¸€æ—¦è¿™ä¸ªbrokerçš„offsetMapæ„å»ºå¤±è´¥ï¼Œé‚£ä¹ˆè¿™ä¸ªbrokerå°±ä¸æ‰¿è®¤è‡ªå·±æ˜¯è¿™ä¸ªgroupçš„coordinateï¼Œè¿™ä¸ªgroupçš„æ¶ˆè´¹å°±æ— æ³•ç»§ç»­è¿›è¡Œï¼Œä¼šå‡ºç°Marking Coordinator Deadé”™è¯¯ã€‚<br>æ­¤æ—¶éœ€è¦åˆ é™¤è¿‡æœŸçš„ä½ç§»ä¸»é¢˜çš„æ–‡ä»¶ï¼ˆæ ¹æ®æ–‡ä»¶åå¾ˆå®¹æ˜“ç¡®å®šå“ªä¸ªæ˜¯æœ€æ–°çš„ï¼‰ï¼Œé‡å¯brokerã€‚é‡å¯è¿‡ç¨‹ä¸­éœ€è¦å…³æ³¨log cleaneræ˜¯å¦ä¼šå†æ¬¡æŒ‚æ‰ã€‚<br><br>PSï¼šä¸Šè¿°é—®é¢˜åœ¨brokeré‡å¯å’Œæ­£å¸¸è¿è¡Œä¸­éƒ½æœ‰å¯èƒ½é‡åˆ°ã€‚","like_count":51,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483759,"discussion_content":"æ˜¯ä¸ªå¾ˆå¥½çš„æ¢³ç†æ€è·¯~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581728955,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1339409,"avatar":"https://static001.geekbang.org/account/avatar/00/14/70/11/42cf8f9d.jpg","nickname":"chenjia","note":"","ucode":"61983C29FF4987","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366882,"discussion_content":"æˆ‘ä»¬è°ˆé«˜å¯ç”¨çš„æ—¶å€™éƒ½æ˜¯åœ¨è®²è¿›ç¨‹ï¼Œçº¿ç¨‹ä¹Ÿèƒ½åœ¨è¿›ç¨‹å†…æŒ‚æ‰è€Œä¸å½±å“å½“å‰è¿›ç¨‹ï¼Ÿå¦‚æœçœŸæ˜¯è¿™æ ·ï¼Œä¸å¦‚æŠŠè¿™ä¸ªlog cleanerçº¿ç¨‹ä¸brokerè¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå¼ºç»‘å®šï¼ˆå…±å­˜å…³ç³»ï¼‰ï¼Œè¿™æ ·è‡³å°‘å¯ä»¥å€ŸåŠ©brokerçš„é«˜å¯ç”¨","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1618211587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":2642315,"avatar":"","nickname":"Geek_c695c1","note":"","ucode":"FC2AD53F54582D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1339409,"avatar":"https://static001.geekbang.org/account/avatar/00/14/70/11/42cf8f9d.jpg","nickname":"chenjia","note":"","ucode":"61983C29FF4987","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387659,"discussion_content":"æˆ‘è§‰å¾—å¯ä»¥åŒæ­¥å»åˆ é™¤è¿‡æœŸæ•°æ®ï¼Œä¸å¼ºä¾èµ–log cleanerçº¿ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628326395,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":366882,"ip_address":""},"score":387659,"extra":""},{"author":{"id":2166073,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/k3YD3y3BzGDSdrwRJyJY4BXsNJibfM4uzOdDVKIAlFApR2FZCLg2ibrZtJ4vuahA3LHLW9GKzH5CMGqCDhWjhZqg/132","nickname":"æˆ’é…’çš„æç™½","note":"","ucode":"744E1A22761647","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2642315,"avatar":"","nickname":"Geek_c695c1","note":"","ucode":"FC2AD53F54582D","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558600,"discussion_content":"åŒæ­¥å»åˆ é™¤ï¼Œä¼šå½±å“æ€§èƒ½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648392894,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":387659,"ip_address":""},"score":558600,"extra":""}]},{"author":{"id":2660316,"avatar":"https://static001.geekbang.org/account/avatar/00/28/97/dc/8eacc8f1.jpg","nickname":"æ¼ åšåµ©","note":"","ucode":"33704880E9790F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":552034,"discussion_content":"å¯¼è‡´log cleanerçº¿ç¨‹æŒ‚åˆ°çš„åŸå› æ˜¯ä»€ä¹ˆå‘¢?","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645240539,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1488243,"avatar":"https://static001.geekbang.org/account/avatar/00/16/b5/73/15a8006a.jpg","nickname":"goxdev","note":"","ucode":"7374587CD08BEE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393818,"discussion_content":"æœ¬è´¨åŸå› æ˜¯â€œæ–‡ä»¶è¶Šæ¥è¶Šå¤šä¼šå¯¼è‡´offsetMapè¶Šæ¥è¶Šå¤§ï¼Œç”šè‡³å¯¼è‡´offsetMapæ„å»ºå¤±è´¥â€ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631610610,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172164,"user_name":"Eco","can_delete":false,"product_type":"c1","uid":1373230,"ip_address":"","ucode":"5459B494753183","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/x86UN2kFbJGGwiaw7yeVtyaf05y5eZmdOciaAF09WEBRVicbPGsej1b62UAH3icjeJqvibVc6aqB0EuFwDicicKKcF47w/132","comment_is_top":false,"comment_ctime":1579099658,"is_pvip":false,"replies":[{"id":"66783","content":"å¥½é—®é¢˜ï¼å…¶å®Kafkaå¹¶ä¸å¤ªå…³æ³¨__consumer_offsetsæ¶ˆè´¹çš„æƒ…å†µï¼Œä¸è¿‡Coordinatorçš„ç¡®ä¼šåœ¨JVMä¸­æŠŠæ‰€æœ‰åˆ†åŒºå½“å‰å·²æäº¤çš„æœ€æ–°ä½ç§»ç¼“å­˜èµ·æ¥ï¼Œå¹¶ä¸”é€šè¿‡è¿™ä¸ªç¼“å­˜æ¥å†³å®šå“ªä¸ªconsumerå½“å‰æ¶ˆè´¹åˆ°äº†å“ªä¸ªä½ç§»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1579135213,"ip_address":"","comment_id":172164,"utype":1}],"discussion_count":6,"race_medal":0,"score":"104658314762","product_id":100029201,"comment_content":"æœ‰ä¸ªé—®é¢˜æƒ³è¯·æ•™ä¸€ä¸‹ï¼Œè¿™ä¸ªä½ç§»ä¸»é¢˜ï¼ŒConsumeræ˜¯åƒæ¶ˆè´¹å…¶ä»–ä¸»é¢˜çš„åˆ†åŒºçš„å†…å®¹ä¸€æ ·å»è·å–æ•°æ®çš„è¯ï¼Œé‚£ä¹ˆè¿™æœ¬èº«ä¸ä¹Ÿå¾—æœ‰ä¸ªä½ç§»ï¼Œé‚£è¿™ä¸ªä½ç§»åˆä¿å­˜åˆ°å“ªé‡Œçš„å‘¢ï¼Ÿè¿™æ ·ä¸‹å»ä¸å°±é™·å…¥äº†ä¸€ä¸ªæ­»å¾ªç¯äº†å—ï¼Ÿè¦ä¹ˆå°±ä¸æ˜¯åƒæ­£å¸¸çš„æ¶ˆè´¹æ¶ˆæ¯é‚£æ ·å»ä»ä½ç§»ä¸»é¢˜è·å–å½“å‰æ¶ˆè´¹è€…å¯¹äºæŸä¸ªä¸»é¢˜çš„åˆ†åŒºçš„ä½ç§»ï¼Ÿ","like_count":25,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481647,"discussion_content":"å¥½é—®é¢˜ï¼å…¶å®Kafkaå¹¶ä¸å¤ªå…³æ³¨__consumer_offsetsæ¶ˆè´¹çš„æƒ…å†µï¼Œä¸è¿‡Coordinatorçš„ç¡®ä¼šåœ¨JVMä¸­æŠŠæ‰€æœ‰åˆ†åŒºå½“å‰å·²æäº¤çš„æœ€æ–°ä½ç§»ç¼“å­˜èµ·æ¥ï¼Œå¹¶ä¸”é€šè¿‡è¿™ä¸ªç¼“å­˜æ¥å†³å®šå“ªä¸ªconsumerå½“å‰æ¶ˆè´¹åˆ°äº†å“ªä¸ªä½ç§»ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1579135213,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":1349358,"avatar":"https://static001.geekbang.org/account/avatar/00/14/96/ee/9b21c199.jpg","nickname":"å’¸","note":"","ucode":"1F189A2B1A6A71","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":557238,"discussion_content":"é‚£å°±æ˜¯è¯´ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹çš„ä½ç½®æ•°æ®éƒ½åœ¨åœ¨å†…å­˜ä¸­äº†ï¼Œé‚£ä»–æ˜¯ä¸ç£ç›˜æ˜¯å¦‚ä½•ä¿è¯ä¸€è‡´æ€§çš„å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647706860,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":481647,"ip_address":""},"score":557238,"extra":""},{"author":{"id":1238190,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e4/ae/7b310c2d.jpg","nickname":"å‘¦å‘¦é¹¿é¸£","note":"","ucode":"BC80F2093CD6C3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":566172,"discussion_content":"æŠŠæ¶ˆè´¹ä½ç§»å†™åˆ°è¿™ä¸ªä¸»é¢˜é˜Ÿåˆ—é‡Œæœ€ç»ˆè‚¯å®šæ˜¯ä¸ºäº†ä½¿ç”¨ï¼Œå¦‚æœCoordinatoré‡å¯äº†å†…å­˜ç¼“å­˜ä¸­çš„ä½ç§»æ¶ˆå¤±çš„æƒ…å†µä¸‹ï¼Œé‚£æ¶ˆè´¹è€…å¦‚ä½•ä»è¿™ä¸ªé˜Ÿåˆ—é‡Œè·å–å¯¹åº”æ¶ˆè´¹è€…çš„æ¶ˆè´¹ä½ç§»ï¼Ÿå¯ä»¥é€šè¿‡ConsumerGroupã€topicã€partitionåˆ†åŒºç¡®å®šæ˜¯åœ¨ä¸»é¢˜é˜Ÿåˆ—çš„å“ªä¸ªåˆ†åŒºï¼Œé‚£è¿™ä¸ªæ¶ˆæ¯åˆ†åŒºæ˜¯ä¸€ä¸ªé˜Ÿåˆ—ç»“æ„ï¼Œéœ€è¦ä»è¿™ä¸ªé˜Ÿåˆ—é€šè¿‡O(n)çš„æ—¶é—´å¤æ‚åº¦å»æ‰«æè¿™ä¸ªé˜Ÿåˆ—ä¹ˆï¼Ÿæ˜¯è¿™æ ·å®ç°çš„ä¹ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650619220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":481647,"ip_address":""},"score":566172,"extra":""}]},{"author":{"id":2064920,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epxtS2pw4g1tQGnYtGoiaxO0nfvl0N2u1By3DYZY14PcosqjwYTqLib9Tib18kRrx30USHbADH0DAIWw/132","nickname":"Geek_d6dc46","note":"","ucode":"F196E1DF86C232","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":336364,"discussion_content":"ç¡®å®æ˜¯æ­»å¾ªç¯ï¼Œè¯•è¿‡äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608558512,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1799983,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/77/2f/6796cde2.jpg","nickname":"å¤§ç»´","note":"","ucode":"3EEEBEB92764AB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2064920,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epxtS2pw4g1tQGnYtGoiaxO0nfvl0N2u1By3DYZY14PcosqjwYTqLib9Tib18kRrx30USHbADH0DAIWw/132","nickname":"Geek_d6dc46","note":"","ucode":"F196E1DF86C232","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343309,"discussion_content":"æ±‚é—®ï¼Œä½ æ€ä¹ˆæµ‹è¯•è¿™ä¸ªé—®é¢˜çš„ï¼Ÿè°¢è°¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611001292,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":336364,"ip_address":""},"score":343309,"extra":""}]},{"author":{"id":1373230,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/x86UN2kFbJGGwiaw7yeVtyaf05y5eZmdOciaAF09WEBRVicbPGsej1b62UAH3icjeJqvibVc6aqB0EuFwDicicKKcF47w/132","nickname":"Eco","note":"","ucode":"5459B494753183","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":142727,"discussion_content":"ç¼“å­˜çš„æ–¹å¼å˜›ï¼Œå“¦å“¦ï¼Œæˆ‘åœ¨å¥½å¥½æƒ³æƒ³ï¼è¿™é‡Œä¸ºå•¥ä¸æ•´ä¸ªåƒredisè¿™ç§çš„é«˜æ€§èƒ½çš„KVæ•°æ®åº“å‘¢ï¼Œè™½ç„¶zkä¸é€‚åˆé«˜å¹¶å‘ä½†æ˜¯rediså¯ä»¥å•Šï¼Œæ˜¯å› ä¸ºä¸æƒ³å¢åŠ å¤æ‚åº¦å—ï¼Ÿéœ€è¦å¼•å…¥å…¶ä»–ç»„å»ºï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579482138,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111928,"user_name":"è›‹ç‚’ç•ªèŒ„","can_delete":false,"product_type":"c1","uid":1095049,"ip_address":"","ucode":"3F963347C4A97C","user_header":"https://static001.geekbang.org/account/avatar/00/10/b5/89/9a1b4dee.jpg","comment_is_top":false,"comment_ctime":1562638841,"is_pvip":false,"discussion_count":4,"race_medal":0,"score":"100346886649","product_id":100029201,"comment_content":"â€œè‡ªåŠ¨æäº¤ä½ç§»æœ‰ä¸€ä¸ªæ˜¾è‘—çš„ä¼˜ç‚¹ï¼Œå°±æ˜¯çœäº‹ï¼Œä½ ä¸ç”¨æ“å¿ƒä½ç§»æäº¤çš„äº‹æƒ…ï¼Œå°±èƒ½ä¿è¯æ¶ˆæ¯æ¶ˆè´¹ä¸ä¼šä¸¢å¤±â€ï¼Œå¯¹äºè¿™ä¸€ç‚¹æˆ‘è¡¨ç¤ºç–‘é—®å•Šâ“æˆ‘è®°å¾—ä½ åœ¨ä¹‹å‰çš„ç« èŠ‚é‡Œé¢è®²è¿‡è‡ªåŠ¨æäº¤ä¸ä»…ä¼šå¢åŠ æ¶ˆæ¯å¯é‡å¤æ¶ˆè´¹çš„å¯èƒ½ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´éƒ¨åˆ†æ¶ˆæ¯ä¸¢å¤±ã€‚æ¯”å¦‚è¯´è™½ç„¶æ¶ˆæ¯æ‹‰å–ä¸‹æ¥ä½†æ˜¯è¿˜æ²¡æ¶ˆè´¹å®Œå°±å·²ç»æäº¤ï¼Œæ­¤æ—¶æœåŠ¡æŒ‚äº†è¿™æ ·æƒ…å†µã€‚","like_count":23,"discussions":[{"author":{"id":1336475,"avatar":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","nickname":"J.Smile","note":"","ucode":"C4D98DFDBF7584","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284132,"discussion_content":"å¯¹å“¦ è¿™é‡Œæœ‰çŸ›ç›¾","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1592450300,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1396988,"avatar":"https://static001.geekbang.org/account/avatar/00/15/50/fc/0a31343c.jpg","nickname":"åŠ æ²¹é¸­","note":"","ucode":"2735762668FD26","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":551572,"discussion_content":"é‚£ä¸ªè¯´çš„æ˜¯æœ‰äº†å¼‚æ­¥çº¿ç¨‹æ‰¹é‡æ¶ˆè´¹æ¶ˆæ¯å¯¼è‡´çš„ï¼ŒåŒæ­¥æ¶ˆè´¹è‡ªåŠ¨æäº¤ä¸ä¼šæœ‰é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1645063559,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2911405,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/6c/ad/8ea2e93e.jpg","nickname":"æ™´å¤©","note":"","ucode":"7DD9D1274C1F3E","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550919,"discussion_content":"è¿™é‡Œç¡®å®ä¼šå¼•èµ·é‡å¤æ¶ˆè´¹é—®é¢˜ï¼ŒåŸå› æ˜¯è¶…æ—¶ï¼Œæ¯”å¦‚æ¶ˆè´¹æ—¶é—´è¿‡é•¿kafkaå°±ä¼šå†æ¬¡æ¶ˆè´¹è¯¥æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644811069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1103208,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d5/68/2201b6b9.jpg","nickname":"å½’é›¶","note":"","ucode":"C99B8E93009A46","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337030,"discussion_content":"è€å¸ˆèƒ½å›ç­”ä¸‹å—ï¼Ÿ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608774134,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111969,"user_name":"mellow","can_delete":false,"product_type":"c1","uid":1257852,"ip_address":"","ucode":"C44F0A588263C6","user_header":"https://static001.geekbang.org/account/avatar/00/13/31/7c/14df0dbf.jpg","comment_is_top":false,"comment_ctime":1562644603,"is_pvip":false,"replies":[{"id":"40845","content":"å®ƒä¼šå»å¯»æ‰¾å…¶Coordinator Leaderå‰¯æœ¬å¯¹åº”çš„brokerå»æ‹¿ã€‚æ ¹æ®group.idæ‰¾åˆ°å¯¹åº”Coordinatorçš„åˆ†åŒºæ•°","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562721975,"ip_address":"","comment_id":111969,"utype":1}],"discussion_count":5,"race_medal":0,"score":"91756957819","product_id":100029201,"comment_content":"è€å¸ˆèƒ½è®²ä¸€ä¸‹ï¼ŒåŒä¸€ä¸ªgroupä¸‹çš„consumerå¯åŠ¨ä¹‹åæ˜¯æ€ä¹ˆå»offset topic æ‹¿åˆ°è¯¥groupä¸Šæ¬¡æ¶ˆè´¹topicæ¯ä¸ªpartitionçš„æœ€æ–°offsetå‘¢ï¼Ÿæ˜¯æ ¹æ®keyæ¥å®šä½offset topicçš„partitionå—ï¼Œç„¶åæ‹¿åˆ°æ‰€æœ‰æ¶ˆæ¯å¾—åˆ°æœ€æ–°çš„offsetå—","like_count":21,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457524,"discussion_content":"å®ƒä¼šå»å¯»æ‰¾å…¶Coordinator Leaderå‰¯æœ¬å¯¹åº”çš„brokerå»æ‹¿ã€‚æ ¹æ®group.idæ‰¾åˆ°å¯¹åº”Coordinatorçš„åˆ†åŒºæ•°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562721975,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1349358,"avatar":"https://static001.geekbang.org/account/avatar/00/14/96/ee/9b21c199.jpg","nickname":"å’¸","note":"","ucode":"1F189A2B1A6A71","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":557237,"discussion_content":"è€å¸ˆï¼Œèƒ½è¿›ä¸€æ­¥è¯´æ˜ä¸‹å˜›ï¼Ÿæ˜¯åœ¨åˆ†åŒºä¸Šä¾æ¬¡æ¶ˆè´¹å–æœ€æ–°å˜›ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647706599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":457524,"ip_address":""},"score":557237,"extra":""}]},{"author":{"id":1001861,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/49/85/3f161d95.jpg","nickname":"Alpha","note":"","ucode":"60CA15A25EC796","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288482,"discussion_content":"è€å¸ˆçš„å›å¤è¿˜æ˜¯æ²¡çœ‹æ˜ç™½ï¼›ä½ç§»å­˜åœ¨ä¸»é¢˜é‡Œï¼Œé‚£ä¹ˆæ¶ˆè´¹è€…é‡å¯åæ˜¯æ ¹æ®keyå»ä½ç§»ä¸»é¢˜é‡Œéå†æŸ¥æ‰¾å—ï¼Ÿ\n","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1593758593,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1155275,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","nickname":"å¼ ä¸‰ä¸°","note":"","ucode":"3A6215A40B3B21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382486,"discussion_content":"è€å¸ˆç­”éæ‰€é—®","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1625594163,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1799983,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/77/2f/6796cde2.jpg","nickname":"å¤§ç»´","note":"","ucode":"3EEEBEB92764AB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":343308,"discussion_content":"åŒé—®ï¼Œä¸€ç›´å›°æƒ‘log compactionæ€ä¹ˆåˆ©ç”¨æŸ¥è¯¢ï¼ŒåŸºæœ¬å°±åªèƒ½scanï¼Œå¦‚æœæ²¡æœ‰ç´¢å¼•æˆ–è€…å…¶ä»–è¾…åŠ©dataçš„è¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611000743,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":140665,"user_name":"ç‹è—æ˜","can_delete":false,"product_type":"c1","uid":1546333,"ip_address":"","ucode":"374D68B8D3FAFC","user_header":"https://static001.geekbang.org/account/avatar/00/17/98/5d/8e91b338.jpg","comment_is_top":false,"comment_ctime":1571024238,"is_pvip":false,"replies":[{"id":"54555","content":"ä½ç§»ä¸»é¢˜ä¹Ÿæ˜¯ä¸»é¢˜ï¼Œä¹Ÿè¦éµå¾ªKafkaåº•å±‚çš„æ—¥å¿—è®¾è®¡æ€è·¯ï¼Œå³append-only log","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1571105013,"ip_address":"","comment_id":140665,"utype":1}],"discussion_count":3,"race_medal":0,"score":"74585468270","product_id":100029201,"comment_content":"è€å¸ˆå¥½ï¼<br>ä¸ºä»€ä¹ˆä½ç§»ä¸»é¢˜å†™å…¥æ¶ˆæ¯æ—¶ï¼Œä¸ç›´æ¥æ›¿æ¢æ‰åŸæ¥çš„æ•°æ®ï¼Œåƒ HashMap ä¸€æ ·å‘¢ï¼Ÿè€Œæ˜¯è¦å †ç§¯èµ·æ¥ï¼Œå¦èµ·çº¿ç¨‹æ¥ç»´æŠ¤ä½ç§»ä¸»é¢˜","like_count":18,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":470502,"discussion_content":"ä½ç§»ä¸»é¢˜ä¹Ÿæ˜¯ä¸»é¢˜ï¼Œä¹Ÿè¦éµå¾ªKafkaåº•å±‚çš„æ—¥å¿—è®¾è®¡æ€è·¯ï¼Œå³append-only log","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571105013,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043558,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ec/66/0eab4211.jpg","nickname":"Ryan","note":"","ucode":"96D4716E5E6C66","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":34237,"discussion_content":"append-only logçš„ç›®çš„æ˜¯ä¸ºäº†ä¿è¯é¡ºåºIOï¼Œå¦‚æœæ˜¯HashMapçš„æ“ä½œï¼Œä¼šæœ‰å¾ˆå¤šéšæœºIO","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1571186515,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1339409,"avatar":"https://static001.geekbang.org/account/avatar/00/14/70/11/42cf8f9d.jpg","nickname":"chenjia","note":"","ucode":"61983C29FF4987","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366886,"discussion_content":"è¿˜æ˜¯ä¸ºäº†é«˜åå","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618211727,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":122934,"user_name":"ğŸ¤¡","can_delete":false,"product_type":"c1","uid":1232905,"ip_address":"","ucode":"57AAA08B1E97A7","user_header":"https://static001.geekbang.org/account/avatar/00/12/d0/09/7aaed1d8.jpg","comment_is_top":false,"comment_ctime":1565575208,"is_pvip":false,"replies":[{"id":"45163","content":"æ¯ä¸ªclientéƒ½æœ‰è‡ªå·±çš„member idå’Œclient idç”¨äºåŒºåˆ†å½¼æ­¤","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1565577583,"ip_address":"","comment_id":122934,"utype":1}],"discussion_count":3,"race_medal":0,"score":"53105182760","product_id":100029201,"comment_content":"å¯¹GroupId è¿˜æœ‰ç–‘æƒ‘ï¼Œå‡è®¾ä¸€ä¸ªGroupä¸‹æœ‰ 3 ä¸ªConsumer , é‚£è¿™ä¸‰ä¸ªConsumer å¯¹åº”çš„groupid åº”è¯¥æ˜¯ä¸€æ ·çš„ã€‚è¿™æ ·çš„è¯æ€ä¹ˆåškeyåšå”¯ä¸€åŒºåˆ†å‘¢","like_count":12,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":462461,"discussion_content":"æ¯ä¸ªclientéƒ½æœ‰è‡ªå·±çš„member idå’Œclient idç”¨äºåŒºåˆ†å½¼æ­¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1565577583,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1001861,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/49/85/3f161d95.jpg","nickname":"Alpha","note":"","ucode":"60CA15A25EC796","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":288483,"discussion_content":"æ¯ä¸ªconsumeræ¶ˆè´¹çš„åˆ†åŒºæ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥ä½ç§»ä¸»é¢˜é‡Œçš„keyä¸ä¼šå†²çª","likes_number":9,"is_delete":false,"is_hidden":false,"ctime":1593758910,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1702117,"avatar":"https://static001.geekbang.org/account/avatar/00/19/f8/e5/119d5c15.jpg","nickname":"å±±æµ·","note":"","ucode":"77FA9967E58FA3","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389288,"discussion_content":"è€å¸ˆè¿™é‡Œçš„ç­”æ¡ˆæŒ‡çš„æ˜¯ä¸€ä¸ªæ¶ˆè´¹ç»„å†…çš„Consumerå¦‚ä½•ç›¸äº’åŒºåˆ†ï¼Œä½†åŒå­¦æƒ³é—®çš„é—®é¢˜æ˜¯topicä¸­çš„keyå¦‚ä½•ä¿è¯å”¯ä¸€æ€§ï¼Œè¿™é‡Œå°±æ˜¯æ¯ä¸ªconsumeræ¶ˆè´¹åˆ†åŒºæ˜¯ä¸åŒçš„ï¼ŒåŒä¸€ä¸ªåˆ†åŒºåªèƒ½è¢«æ¶ˆè´¹ç»„å†…çš„ä¸€ä¸ªconsumeræ¶ˆè´¹ï¼Œå› æ­¤ä¸å­˜åœ¨å†²çªã€‚ ","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1629205658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113778,"user_name":"è°¦å¯»","can_delete":false,"product_type":"c1","uid":1033639,"ip_address":"","ucode":"07160FAFAD08F7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c5/a7/e32dcfe7.jpg","comment_is_top":false,"comment_ctime":1563154872,"is_pvip":false,"replies":[{"id":"41412","content":"å¯ä»¥è€ƒè™‘ä½¿ç”¨standalone consumerï¼Œå¦åˆ™groupæœºåˆ¶æ— æ³•é¿å…","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1563156028,"ip_address":"","comment_id":113778,"utype":1}],"discussion_count":2,"race_medal":0,"score":"53102762424","product_id":100029201,"comment_content":"consumerç«¯ æ—¥å¸¸ä¸šåŠ¡å‘ç‰ˆå‘¢ï¼Œé‚£æ¯æ¬¡å‘ç‰ˆéœ€è¦é‡å¯consumerä¸æ˜¯ä¹Ÿä¼šå¯¼è‡´Rebalanceï¼Œè¿™ä¸ªå¦‚ä½•è§„é¿","like_count":12,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458384,"discussion_content":"å¯ä»¥è€ƒè™‘ä½¿ç”¨standalone consumerï¼Œå¦åˆ™groupæœºåˆ¶æ— æ³•é¿å…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563156028,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1795511,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/65/b7/058276dc.jpg","nickname":"i_chase","note":"","ucode":"09C41C863F4EA3","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558762,"discussion_content":"ç¡®å®ï¼Œæ¯æ¬¡å‘ç‰ˆéƒ½ä¼šå¯¼è‡´rebalanceã€‚ä½†æ˜¯å¥½åƒå½±å“ä¸å¤§ï¼Œrebalanceæ—¶é—´ä¸å¯èƒ½å¾ˆé•¿ï¼Œé™¤éconsumer groupé‡Œæœ‰éå¸¸å¤šçš„consumerã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648455981,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":195425,"user_name":"sharpdeep","can_delete":false,"product_type":"c1","uid":1486457,"ip_address":"","ucode":"DFA5F7D327095D","user_header":"https://static001.geekbang.org/account/avatar/00/16/ae/79/da524393.jpg","comment_is_top":false,"comment_ctime":1585187359,"is_pvip":false,"replies":[{"id":"74399","content":"ä½ç§»ä¸»é¢˜çš„ä½ç§»ç”±Kafkaå†…éƒ¨çš„Coordinatorè‡ªè¡Œç®¡ç†","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1585270495,"ip_address":"","comment_id":195425,"utype":1}],"discussion_count":2,"race_medal":0,"score":"48829827615","product_id":100029201,"comment_content":"æœ‰ä¸ªå›°æƒ‘: ä½ç§»ä¸»é¢˜ç”¨æ¥è®°ä½ä½ç§»ï¼Œé‚£ä¹ˆè¿™ä¸ªä½ç§»ä¸»é¢˜çš„ä½ç§»ç”±è°æ¥è®°ä½å‘¢?","like_count":12,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489060,"discussion_content":"ä½ç§»ä¸»é¢˜çš„ä½ç§»ç”±Kafkaå†…éƒ¨çš„Coordinatorè‡ªè¡Œç®¡ç†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585270495,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1339409,"avatar":"https://static001.geekbang.org/account/avatar/00/14/70/11/42cf8f9d.jpg","nickname":"chenjia","note":"","ucode":"61983C29FF4987","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":366887,"discussion_content":"å“ˆå“ˆå“ˆï¼Œé€’å½’äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618211755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":181389,"user_name":"HZ","can_delete":false,"product_type":"c1","uid":1371862,"ip_address":"","ucode":"883D79CEEA9C66","user_header":"https://static001.geekbang.org/account/avatar/00/14/ee/d6/0142c3a3.jpg","comment_is_top":false,"comment_ctime":1582533944,"is_pvip":false,"replies":[{"id":"70338","content":"1. åŒä¸€ä¸ªgroupçš„ä½ç§»è®°å½•åªä¿å­˜åœ¨ä¸€ä¸ªpartitionä¸Š<br>2. æ²¡é”™ï¼Œå†™å…¥å°±æ˜¯acks=allçš„è®¾ç½®<br>3. min.insync.replicaså¯¹ä½ç§»ä¸»é¢˜ä¾ç„¶é€‚ç”¨","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1582593292,"ip_address":"","comment_id":181389,"utype":1}],"discussion_count":3,"race_medal":0,"score":"40237239608","product_id":100029201,"comment_content":"è€å¸ˆ æœ‰ä¸¤ç‚¹ä¸å¤ªæ¸…æ¥š 1. ä½ç§»ä¸»é¢˜é‡Œé¢ï¼Œå¯¹äºåŒä¸€ä¸ªconsumer groupçš„ä½ç§»æäº¤è®°å½•ï¼Œæ˜¯åˆ†å¸ƒåœ¨50ä¸ªpartitionsä¸­å—ï¼Ÿ 2. å¦‚æœæŠŠä½ç§»ä¸»é¢˜å½“ä½œkafkaé‡Œé¢çš„ä¸€ä¸ªæ™®é€šä¸»é¢˜ï¼Œé‚£ä¹ˆå†™å…¥è¿™ä¸ªä¸»é¢˜çš„æ•°æ®å¯ä»¥ä¿è¯ä¸ä¸¢å¤±å—ï¼Ÿ å†™å…¥æ˜¯ack=allï¼Ÿ åŒæ—¶ï¼Œbrokerç«¯çš„min.insync.replicasçš„è®¾ç½®æœ‰å½±å“å—ï¼Ÿ","like_count":9,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484986,"discussion_content":"1. åŒä¸€ä¸ªgroupçš„ä½ç§»è®°å½•åªä¿å­˜åœ¨ä¸€ä¸ªpartitionä¸Š\n2. æ²¡é”™ï¼Œå†™å…¥å°±æ˜¯acks=allçš„è®¾ç½®\n3. min.insync.replicaså¯¹ä½ç§»ä¸»é¢˜ä¾ç„¶é€‚ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582593292,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1238190,"avatar":"https://static001.geekbang.org/account/avatar/00/12/e4/ae/7b310c2d.jpg","nickname":"å‘¦å‘¦é¹¿é¸£","note":"","ucode":"BC80F2093CD6C3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":566173,"discussion_content":"ä½ç§»ä¸»é¢˜çš„ Key ä¸­åº”è¯¥ä¿å­˜ 3 éƒ¨åˆ†å†…å®¹ï¼š&lt;Group IDï¼Œä¸»é¢˜åï¼Œåˆ†åŒºå· &gt;\næŒ‰ç…§è¿™ä¸ªçš„è¯ï¼ŒåŒä¸€ä¸ªgroupçš„ä½ç§»è®°å½•ä¸èƒ½ä¿è¯åªä¿å­˜åœ¨ä¸€ä¸ªpartitionä¸Šäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650619615,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":484986,"ip_address":""},"score":566173,"extra":""}]},{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544034,"discussion_content":"å¥½é—®é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641383462,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":168718,"user_name":"è¥¿è¾¹ä¸€æŠ¹æ®‹é˜³","can_delete":false,"product_type":"c1","uid":1197178,"ip_address":"","ucode":"6836AB08783DC5","user_header":"https://static001.geekbang.org/account/avatar/00/12/44/7a/d27c1ed3.jpg","comment_is_top":false,"comment_ctime":1578146177,"is_pvip":false,"replies":[{"id":"65581","content":"ä¸æ˜¯éšæœºçš„ã€‚é€šå¸¸æ¥è¯´ï¼ŒåŒä¸€ä¸ªgroupä¸‹çš„æ‰€æœ‰æ¶ˆè´¹è€…æäº¤çš„ä½ç§»æ•°æ®ä¿å­˜åœ¨ä½ç§»ä¸»é¢˜çš„åŒä¸€ä¸ªåˆ†åŒºä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1578279917,"ip_address":"","comment_id":168718,"utype":1}],"discussion_count":1,"race_medal":0,"score":"40232851841","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆï¼Œæ¶ˆè´¹è€…æäº¤çš„ä½ç§»æ¶ˆæ¯ï¼Œä¿å­˜åˆ°ä½ç§»ä¸»é¢˜åˆ†åŒºæ˜¯éšæœºçš„å—ï¼Ÿå°±æ˜¯æŸä¸€ä¸ªæ¶ˆè´¹è€…çš„æäº¤ç¬¬ä¸€ä¸ªä½ç§»æ•°æ®ä¿å­˜åœ¨ä½ç§»ä¸»é¢˜çš„Aåˆ†åŒºé‡Œé¢ï¼Œç¬¬äºŒä¸ªä½ç§»æ•°æ®ä¿å­˜åœ¨ä½ç§»ä¸»é¢˜çš„Båˆ†åŒºé‡Œé¢<br>è¿˜æœ‰æ¶ˆè´¹è€…æ˜¯æ€æ ·è·å–å·²æ¶ˆè´¹çš„ä½ç§»æ•°æ®","like_count":9,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":480311,"discussion_content":"ä¸æ˜¯éšæœºçš„ã€‚é€šå¸¸æ¥è¯´ï¼ŒåŒä¸€ä¸ªgroupä¸‹çš„æ‰€æœ‰æ¶ˆè´¹è€…æäº¤çš„ä½ç§»æ•°æ®ä¿å­˜åœ¨ä½ç§»ä¸»é¢˜çš„åŒä¸€ä¸ªåˆ†åŒºä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578279917,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112939,"user_name":"Coder4","can_delete":false,"product_type":"c1","uid":1048453,"ip_address":"","ucode":"71DAC6B3D112DB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJcvQzf86HsxOkPcRpibBdCxDW0IK9wel9TmkEhicHPUHPRhzKna8wecDcJcVbNHNSrUMt4GHLxY3iaA/132","comment_is_top":false,"comment_ctime":1562851628,"is_pvip":false,"replies":[{"id":"41111","content":"topicè¿‡å¤šå…¶å®æ˜¯æŒ‡åˆ†åŒºæ•°è¿‡å¤šã€‚ä¼šæœ‰ä¸¤ä¸ªå¯èƒ½çš„é—®é¢˜ï¼š1. controlleræ— æ³•ç®¡ç†è¿™ä¹ˆå¤šåˆ†åŒºï¼›2. åˆ†åŒºæ•°è¿‡å¤šå¯¼è‡´brokerç‰©ç†éšæœºIOå¢åŠ ï¼Œå‡å°‘ååé‡ã€‚<br><br>ç¬¬ä¸€ä¸ªé—®é¢˜ç¤¾åŒºç®—æ˜¯ä¿®å¤äº†å§ï¼Œç›®å‰å•controllerèƒ½å¤Ÿæ”¯æŒ20wçš„åˆ†åŒºæ•°ï¼Œå†µä¸”ç¤¾åŒºä¹Ÿåœ¨è€ƒè™‘åšå¤šcontrolleræ–¹æ¡ˆï¼›ç¬¬äºŒä¸ªé—®é¢˜ç›®å‰æ²¡æœ‰å¤ªå¤šç›´æ¥çš„ä¿®å¤ä¸¾æªï¼Œåªèƒ½è¯´å…·ä½“é—®é¢˜å…·ä½“åˆ†æå§","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562891893,"ip_address":"","comment_id":112939,"utype":1}],"discussion_count":4,"race_medal":0,"score":"35922589996","product_id":100029201,"comment_content":"è€å¸ˆå¥½ï¼Œå‰å‡ å¹´ä¸€ç›´æœ‰ä¸ªè¯´æ³•ï¼Œè¯´kafkaä¸é€‚åˆåˆ›å»ºè¿‡å¤štopicï¼Œè¯·é—®ç°åœ¨çš„æ–°ç‰ˆè¿˜æœ‰è¿™ä¸ªé—®é¢˜ä¹ˆï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457965,"discussion_content":"topicè¿‡å¤šå…¶å®æ˜¯æŒ‡åˆ†åŒºæ•°è¿‡å¤šã€‚ä¼šæœ‰ä¸¤ä¸ªå¯èƒ½çš„é—®é¢˜ï¼š1. controlleræ— æ³•ç®¡ç†è¿™ä¹ˆå¤šåˆ†åŒºï¼›2. åˆ†åŒºæ•°è¿‡å¤šå¯¼è‡´brokerç‰©ç†éšæœºIOå¢åŠ ï¼Œå‡å°‘ååé‡ã€‚\n\nç¬¬ä¸€ä¸ªé—®é¢˜ç¤¾åŒºç®—æ˜¯ä¿®å¤äº†å§ï¼Œç›®å‰å•controllerèƒ½å¤Ÿæ”¯æŒ20wçš„åˆ†åŒºæ•°ï¼Œå†µä¸”ç¤¾åŒºä¹Ÿåœ¨è€ƒè™‘åšå¤šcontrolleræ–¹æ¡ˆï¼›ç¬¬äºŒä¸ªé—®é¢˜ç›®å‰æ²¡æœ‰å¤ªå¤šç›´æ¥çš„ä¿®å¤ä¸¾æªï¼Œåªèƒ½è¯´å…·ä½“é—®é¢˜å…·ä½“åˆ†æå§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562891893,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2858605,"avatar":"","nickname":"Geek_9150ca","note":"","ucode":"0E63818EACA52F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":537965,"discussion_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæ‚¨è¿™é‡Œè¯´åˆ›å»ºè¿‡å¤šçš„åˆ†åŒºä¼šé™ä½ååé‡ï¼Œé‚£å¤šå°‘ç®—æ˜¯æ¯”è¾ƒå¤šå‘¢ï¼Œæ¯”å¦‚æˆ‘çš„kafkaé›†ç¾¤æ˜¯16c  32G  512mçš„é…ç½®ï¼Œé‚£åˆ›å»º40ä¸ªtopic  æ¯ä¸ªtopicå…­ä¸ªåˆ†åŒºï¼Œè¿™ç®—å¤šå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639281836,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":457965,"ip_address":""},"score":537965,"extra":""}]},{"author":{"id":1144171,"avatar":"https://static001.geekbang.org/account/avatar/00/11/75/6b/fd685164.jpg","nickname":"lcfæ«","note":"","ucode":"D51E8F68BD41CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300851,"discussion_content":"åˆ†åŒºè¿‡å¤šä¸ºä»€ä¹ˆä¼šå¯¼è‡´ç‰©ç†éšæœºIoå¢åŠ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1598282272,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1474096,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7e/30/bfdcb3fc.jpg","nickname":"æ²¡æœ‰é“¶å¼¹","note":"","ucode":"0D26E80479A7FC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1144171,"avatar":"https://static001.geekbang.org/account/avatar/00/11/75/6b/fd685164.jpg","nickname":"lcfæ«","note":"","ucode":"D51E8F68BD41CA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":306599,"discussion_content":"æ¯ä¸ªåˆ†åŒºå…¶å®å¯¹åº”ä¸€ä¸ªç‰©ç†æ—¥å¿—æ–‡ä»¶ï¼Œä¸€ä¸ªåˆ†åŒºå°±æ˜¯é’ˆå¯¹ä¸€ä¸ªæ–‡ä»¶é¡ºåºå†™å’Œè¯»ã€‚æƒ³è±¡ä¸€ä¸‹éå¸¸å¤šåˆ†åŒºçš„æƒ…å†µ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1600326299,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":300851,"ip_address":""},"score":306599,"extra":""}]}]},{"had_liked":false,"id":111805,"user_name":"gogogo","can_delete":false,"product_type":"c1","uid":1273993,"ip_address":"","ucode":"D7B7A9AA2D4CE5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/wonzX0yIia5NFoB0TZPdIPqVicIuSvzMtowownIkO9VwYpkPWJP2tpEcv5RXMn0ayuEGkAp2GBualL5sFQs0ibQJQ/132","comment_is_top":false,"comment_ctime":1562605968,"is_pvip":false,"replies":[{"id":"40683","content":"æœ€æ–°çš„","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562635022,"ip_address":"","comment_id":111805,"utype":1}],"discussion_count":3,"race_medal":0,"score":"35922344336","product_id":100029201,"comment_content":"è¯·é—®offsetæ˜¯ä»¥æœ€æ–°çš„ä¸ºå‡†ï¼Œè¿˜æ˜¯å€¼æœ€å¤§çš„ä¸ºå‡†ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457452,"discussion_content":"æœ€æ–°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562635022,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1797809,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLpuXh4ibibw0eI0r2TEI0FM07QnKjVK8fLiaorX17ia5lpeoBJr383dMeLh7m8CFrfOPYJazDIdbVYdA/132","nickname":"Geek_3094fd","note":"","ucode":"96D4049C54A23D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351498,"discussion_content":"æœ€æ–°çš„å°±è‚¯å®šæ˜¯æœ€å¤§çš„å§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614306138,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1024159,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a0/9f/71345740.jpg","nickname":"é»‘å´½","note":"","ucode":"F31A4102EE4DA8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1421,"discussion_content":"æœ€æ–°ï¼Œæ¯•ç«Ÿæœ‰é‡ç½®åœºæ™¯","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1562631463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112754,"user_name":"æ°¸å…‰","can_delete":false,"product_type":"c1","uid":1102702,"ip_address":"","ucode":"0C54531ABED1B0","user_header":"https://static001.geekbang.org/account/avatar/00/10/d3/6e/281b85aa.jpg","comment_is_top":false,"comment_ctime":1562816269,"is_pvip":false,"replies":[{"id":"41121","content":"ZooKeeperæœ¬èº«åªæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼åè°ƒæ¡†æ¶ï¼Œznodeä¸­ä¿å­˜çš„æ•°æ®å¤šæ˜¯é‚£äº›ä¸æ€ä¹ˆé¢‘ç¹ä¿®æ”¹çš„å…ƒæ•°æ®ï¼Œæœ¬èº«ä¸é€‚åˆé¢‘ç¹æ›´æ–°ã€‚<br><br>æ˜¯çš„ï¼Œæ—§ç‰ˆæœ¬consumerå°±æ˜¯è¿™ä¹ˆä½¿ç”¨ZooKeeperæ¥ä¿å­˜ä½ç§»çš„","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562892713,"ip_address":"","comment_id":112754,"utype":1}],"discussion_count":4,"race_medal":0,"score":"31627587341","product_id":100029201,"comment_content":"ä½ç§»ä¸»é¢˜ï¼Œé€‚ç”¨äºé«˜é¢‘å†™çš„æ“ä½œï¼Œä¸ºä»€ä¹ˆZooKeeperä¸é€‚ç”¨äºè¿™ç§é«˜é¢‘çš„å†™æ“ä½œï¼Ÿzookeeper ä¹Ÿå¯ä»¥æŒ‰ç…§&lt;Group IDï¼Œä¸»é¢˜åï¼Œåˆ†åŒºå· &gt; æ¥å†™å…¥å‘€ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457895,"discussion_content":"ZooKeeperæœ¬èº«åªæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼åè°ƒæ¡†æ¶ï¼Œznodeä¸­ä¿å­˜çš„æ•°æ®å¤šæ˜¯é‚£äº›ä¸æ€ä¹ˆé¢‘ç¹ä¿®æ”¹çš„å…ƒæ•°æ®ï¼Œæœ¬èº«ä¸é€‚åˆé¢‘ç¹æ›´æ–°ã€‚\n\næ˜¯çš„ï¼Œæ—§ç‰ˆæœ¬consumerå°±æ˜¯è¿™ä¹ˆä½¿ç”¨ZooKeeperæ¥ä¿å­˜ä½ç§»çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562892713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000347,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/43/9b/50927dfc.jpg","nickname":"å°é£","note":"","ucode":"4C126548FBA94C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":45442,"discussion_content":"zookeeperæ¯æ¬¡å†™æ•°æ®å…¶å®éƒ½éœ€è¦ç»è¿‡leader follower çš„åå•†ï¼ŒåŒæ­¥ã€‚å¿«ä¸èµ·æ¥ã€‚é›†ç¾¤å†å¤§ï¼Œä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªleader.   è¿™ä¸ªä¹Ÿé™åˆ¶äº†å¿«ä¸èµ·æ¥ã€‚\nssdé›†ç¾¤åº”è¯¥å¯èƒ½å¥½ç‚¹ï¼Œä¹Ÿå°±å‡ ä¸‡tps","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1573039377,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318342,"discussion_content":"zkå†™çš„æ˜¯ç®—æ˜¯å¼ºä¸€è‡´æ€§ï¼Œå› ä¸ºflowerå’Œleaderè¦åŒæ­¥ï¼Œæ…¢æ˜¯å¿…ç„¶çš„","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1603712733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1361159,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqJobg767PUeqrqQQ4B6YvMatj2SRyOicKZZ4gWTf30dMketiaj58Gc3RFTmckGxAXlL9ERSxGovq9g/132","nickname":"æ¶›å“¥å“¥","note":"","ucode":"329A1384E3AB5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1044546,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f0/42/7728d4f5.jpg","nickname":"è‰¿è‰¿","note":"","ucode":"8F727AB7A7F6B2","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":565704,"discussion_content":"æ˜¯æœ€ç»ˆä¸€è‡´æ€§ï¼Œä¸æ˜¯å¼ºä¸€è‡´æ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650524727,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":318342,"ip_address":""},"score":565704,"extra":""}]}]},{"had_liked":false,"id":230615,"user_name":"å¼ ç”³å‚²","can_delete":false,"product_type":"c1","uid":1182372,"ip_address":"","ucode":"22D46BC529BA8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/0a/a4/828a431f.jpg","comment_is_top":false,"comment_ctime":1593431817,"is_pvip":true,"discussion_count":0,"race_medal":1,"score":"27363235593","product_id":100029201,"comment_content":"è¯´åˆ°Kafkaçš„Compactionï¼Œå°±æƒ³åˆ°äº†Redisçš„AOF Rewriteï¼Œéƒ½æ˜¯ç±»ä¼¼çš„æœºåˆ¶","like_count":7},{"had_liked":false,"id":135480,"user_name":"LJK","can_delete":false,"product_type":"c1","uid":1199213,"ip_address":"","ucode":"12B2441099FF1D","user_header":"https://static001.geekbang.org/account/avatar/00/12/4c/6d/c20f2d5a.jpg","comment_is_top":false,"comment_ctime":1569195305,"is_pvip":false,"replies":[{"id":"51967","content":"æ¯ä¸ªKafkaé›†ç¾¤éƒ½åªæœ‰ä¸€ä¸ªä½ç§»ä¸»é¢˜ã€‚Kafkaæ²¡æœ‰NameNodeçš„æ¦‚å¿µã€‚å¦‚æœç¡¬æ¬Hadoopä¸­çš„æ¦‚å¿µï¼Œæˆ‘å€’å€¾å‘äºè®¤ä¸ºåˆ†åŒºçš„leaderå‰¯æœ¬æ˜¯datanodeï¼Œè€Œnamenodeçš„ä½œç”¨åœ¨Kafkaä¸­ç”±ZooKeeperæ‰¿æ¥","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1569203586,"ip_address":"","comment_id":135480,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23044031785","product_id":100029201,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·æ•™ä¸€ä¸ªå°ç™½é—®é¢˜ï¼Œä¸€ä¸ªä½ç§»ä¸»é¢˜æ˜¯åœ¨ç¬¬ä¸€ä¸ªconsumerå¯åŠ¨æ—¶å»ºç«‹çš„ï¼Œæ˜¯è¯´å¯¹äºä¸€ä¸ªkafkaé›†ç¾¤åªæœ‰ä¸€ä¸ªä½ç§»ä¸»é¢˜ä¹ˆï¼Ÿå¦å¤–æˆ‘å¯¹kafkaæ¡†æ¶è¿˜æ˜¯æœ‰ç‚¹è¿·æƒ‘ï¼Œkafkaé›†ç¾¤æ˜¯ä¸æ˜¯æ²¡æœ‰NameNodeè¿™ä¸ªæ¦‚å¿µå•Šï¼Ÿæ¯ä¸€ä¸ªleader partitionå°±ç›¸å½“äºä¸€ä¸ªNameNodeï¼Ÿè°¢è°¢è€å¸ˆ","like_count":5,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468209,"discussion_content":"æ¯ä¸ªKafkaé›†ç¾¤éƒ½åªæœ‰ä¸€ä¸ªä½ç§»ä¸»é¢˜ã€‚Kafkaæ²¡æœ‰NameNodeçš„æ¦‚å¿µã€‚å¦‚æœç¡¬æ¬Hadoopä¸­çš„æ¦‚å¿µï¼Œæˆ‘å€’å€¾å‘äºè®¤ä¸ºåˆ†åŒºçš„leaderå‰¯æœ¬æ˜¯datanodeï¼Œè€Œnamenodeçš„ä½œç”¨åœ¨Kafkaä¸­ç”±ZooKeeperæ‰¿æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569203586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":119312,"user_name":"å°é±¼","can_delete":false,"product_type":"c1","uid":1588606,"ip_address":"","ucode":"BDAEE77E973C0D","user_header":"","comment_is_top":false,"comment_ctime":1564559650,"is_pvip":false,"replies":[{"id":"43866","content":"offsets.retention.minutes<br>","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1564627732,"ip_address":"","comment_id":119312,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23039396130","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œè¯·é—®æ§åˆ¶Kafka ä½¿ç”¨Compact ç­–ç•¥æ¥åˆ é™¤ä½ç§»ä¸»é¢˜ä¸­çš„è¿‡æœŸæ¶ˆæ¯çš„å‚æ•°æ˜¯å“ªä¸ªï¼Ÿ<br><br>","like_count":5,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460842,"discussion_content":"offsets.retention.minutes\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564627732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112379,"user_name":"å—è¾•åŒ—è¾™","can_delete":false,"product_type":"c1","uid":1214502,"ip_address":"","ucode":"03EC406AE0D591","user_header":"https://static001.geekbang.org/account/avatar/00/12/88/26/b8c53cee.jpg","comment_is_top":false,"comment_ctime":1562725225,"is_pvip":false,"replies":[{"id":"40875","content":"é¦–å…ˆæ‰¾åˆ°å¯¹åº”çš„Coordinatorï¼ŒCoordinatorä¿å­˜äº†è¿™äº›æ•°æ®ï¼Œç„¶åconsumerå‘Coordinatorå‘é€è¯·æ±‚å»è¯·æ±‚è¿™äº›æ•°æ®","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562729907,"ip_address":"","comment_id":112379,"utype":1}],"discussion_count":3,"race_medal":0,"score":"23037561705","product_id":100029201,"comment_content":"è€å¸ˆï¼Œè¯·æ•™ä¸€ä¸‹consumer æ˜¯å¦‚ä½•ä»è¿™ä¸ªä½ç§»ä¸»é¢˜ä¸­æ‹¿åˆ°æ›¾ç»å±äºè‡ªå·±ç»„çš„offsetå‘¢","like_count":5,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457707,"discussion_content":"é¦–å…ˆæ‰¾åˆ°å¯¹åº”çš„Coordinatorï¼ŒCoordinatorä¿å­˜äº†è¿™äº›æ•°æ®ï¼Œç„¶åconsumerå‘Coordinatorå‘é€è¯·æ±‚å»è¯·æ±‚è¿™äº›æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562729907,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544035,"discussion_content":"æ˜ç™½äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641383501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1702117,"avatar":"https://static001.geekbang.org/account/avatar/00/19/f8/e5/119d5c15.jpg","nickname":"å±±æµ·","note":"","ucode":"77FA9967E58FA3","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389290,"discussion_content":"æœ¬è´¨æ˜¯ä¸æ˜¯Coordinatorå†…éƒ¨æœ‰ä¸€ä¸ªOffsetMapæ¥ç¼“å­˜è¿™ä¸ªæ•°æ®ã€‚ ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629205755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112128,"user_name":"WL","can_delete":false,"product_type":"c1","uid":1173771,"ip_address":"","ucode":"6277DCD776B87E","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/0b/1171ac71.jpg","comment_is_top":false,"comment_ctime":1562672360,"is_pvip":false,"replies":[{"id":"40837","content":"1.  ä½ æ˜¯æŒ‡æäº¤ä½ç§»å—ï¼Ÿå¦‚æœæ˜¯ï¼Œå®ƒæ˜¯å‘å¯¹åº”çš„Coordinatoræ‰€åœ¨çš„brokerå‘é€ä¸€æ¡ä½ç§»å†™è¯·æ±‚<br>2. éƒ½æœ‰ä¿å­˜<br>3.  ä½ åŸºæœ¬ä¸Šå¯ä»¥è®¤ä¸ºæ˜¯è½®è®­çš„","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562721413,"ip_address":"","comment_id":112128,"utype":1}],"discussion_count":2,"race_medal":0,"score":"23037508840","product_id":100029201,"comment_content":"è¯·æ•™è€å¸ˆä¸‰ä¸ªé—®é¢˜ï¼š<br>1. åœ¨consumer groupä¸­çš„ä¸€ä¸ªconsumeræ¶ˆè´¹ä¸€æ¡æ¶ˆæ¯åï¼Œæ˜¯å¾€å®ƒæ‹‰å–æ¶ˆæ¯çš„é‚£ä¸ªbrokerå†™ä¸€æ¡offsetæ¶ˆæ¯è¿˜æ˜¯å¾€æ‰€æœ‰å®ƒè¿æ¥çš„brokeréƒ½å¹¿æ’­ä¸€æ¡æ¶ˆæ¯ã€‚<br>2. ä¸€ä¸ªbrokerä¸­çš„ä½ç§»ä¸»é¢˜ä¿å­˜çš„æ˜¯ä»–è‡ªå·±ä¸Šé¢çš„ä¸»é¢˜å’Œåˆ†åŒºçš„ä½ç§»è¿˜æ˜¯æ•´ä¸ªé›†ç¾¤çš„æ‰€æœ‰ä¸»é¢˜æ‰€æœ‰åˆ†åŒºçš„ä½ç§»éƒ½æœ‰ä¿å­˜ã€‚<br>3. ä½ç§»ä¸»é¢˜çš„50ä¸ªåˆ†åŒºåˆ†é…åœ¨å„ä¸ªbrokerçš„æ–¹å¼æ˜¯å•¥ï¼Œè½®è¯¢ï¼Œhashï¼Œè¿˜æ˜¯éšæœºï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457590,"discussion_content":"1.  ä½ æ˜¯æŒ‡æäº¤ä½ç§»å—ï¼Ÿå¦‚æœæ˜¯ï¼Œå®ƒæ˜¯å‘å¯¹åº”çš„Coordinatoræ‰€åœ¨çš„brokerå‘é€ä¸€æ¡ä½ç§»å†™è¯·æ±‚\n2. éƒ½æœ‰ä¿å­˜\n3.  ä½ åŸºæœ¬ä¸Šå¯ä»¥è®¤ä¸ºæ˜¯è½®è®­çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562721413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1009260,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/6c/4a68a916.jpg","nickname":"åŒå¶","note":"","ucode":"6DA1D477F9D580","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1527,"discussion_content":"æˆ‘æ„Ÿè§‰æ—¢ç„¶ __consumer_offsets æ˜¯æ™®é€šçš„ topicï¼Œé‚£å°±æŒ‰ç…§æ™®é€š topic çš„å†™æ³•æ¥ï¼Œè¿™ä¸‰ä¸ªé—®é¢˜åº”è¯¥å°±éƒ½èƒ½è§£ç­”äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562676147,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112008,"user_name":"ç‡ƒçƒ§çš„Mè±†","can_delete":false,"product_type":"c1","uid":1355000,"ip_address":"","ucode":"BEDA9FC8852F5D","user_header":"https://static001.geekbang.org/account/avatar/00/14/ac/f8/a56b7475.jpg","comment_is_top":false,"comment_ctime":1562652921,"is_pvip":false,"replies":[{"id":"40841","content":"partitionæ•°é‡åœ¨kafkaä¸­æ²¡æœ‰ä¸Šé™ï¼Œåªå—osé™åˆ¶ã€‚é™¤äº†æå‡partitionï¼Œå¢åŠ brokeræŒ‚è½½çš„ç£ç›˜æ•°ä¹Ÿæ˜¯ä¸€ä¸ªæ–¹æ³•","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562721818,"ip_address":"","comment_id":112008,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23037489401","product_id":100029201,"comment_content":"è€å¸ˆå¦‚æœè¶…å¤§è§„æ¨¡é›†ç¾¤è¶…å¤§è§„æ¨¡æ¶ˆè´¹è€…å¯¹è¿™ä¸€ä¸ª 50 ä¸ª partitions çš„ topic è¿›è¡Œæ¶ˆè´¹æ˜¯ä¸æ˜¯ä¼šå¼•èµ·æ€§èƒ½é—®é¢˜ï¼Ÿtopic ä¸‹çš„ partitions è®¾ç½®æœ‰ä¸Šçº¿å— é¢å¯¹è¶…å¤§è§„æ¨¡å¹¶å‘é™¤äº†æå‡ partitions æ•°é‡è¿˜æœ‰ä»€ä¹ˆåŠæ³•ï¼Ÿè°¢è°¢","like_count":5,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457539,"discussion_content":"partitionæ•°é‡åœ¨kafkaä¸­æ²¡æœ‰ä¸Šé™ï¼Œåªå—osé™åˆ¶ã€‚é™¤äº†æå‡partitionï¼Œå¢åŠ brokeræŒ‚è½½çš„ç£ç›˜æ•°ä¹Ÿæ˜¯ä¸€ä¸ªæ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562721818,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":156529,"user_name":"å¼ å¤©å±¹","can_delete":false,"product_type":"c1","uid":1477612,"ip_address":"","ucode":"8BD6BD6DCF0F4F","user_header":"https://static001.geekbang.org/account/avatar/00/16/8b/ec/dc03f5ad.jpg","comment_is_top":false,"comment_ctime":1574906479,"is_pvip":false,"replies":[{"id":"60182","content":"ç°åœ¨è‡ªåŠ¨æäº¤ä½ç§»çš„è®¾è®¡å°±æ˜¯ä¸ç®¡ä½ æœ‰æ²¡æœ‰æ¶ˆè´¹ï¼Œå°±æ˜¯é˜¶æ®µæ€§åœ°æäº¤ä½ç§»ï¼Œå³ä½¿æ˜¯æäº¤ç›¸åŒçš„ä½ç§»","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1574988395,"ip_address":"","comment_id":156529,"utype":1}],"discussion_count":4,"race_medal":0,"score":"18754775663","product_id":100029201,"comment_content":"å¯¹äºè‡ªåŠ¨æäº¤ä½ç§»è¿™é‡Œæœ‰ä¸¤ç‚¹ç–‘æƒ‘ï¼Œç¬¬ä¸€ä¸ªè€å¸ˆè¯´â€œèƒ½å¤Ÿé¿å…æ¶ˆæ¯ä¸¢å¤±â€ï¼Œé‚£å¦‚æœè‡ªåŠ¨æäº¤ä¹‹åï¼Œä¸šåŠ¡å¤„ç†å¤±è´¥å‘¢ï¼Œä¸ä¹…ä¸¢å¤±æ¶ˆæ¯äº†å—ï¼Ÿç¬¬äºŒä¸ªè€å¸ˆè¯´â€œæœ€æ–°æ¶ˆæ¯ä¸º100ï¼Œæ²¡æœ‰ç»§ç»­ç”Ÿäº§ï¼Œè¿™ä¸ªæ—¶å€™æ¶ˆè´¹è€…ä¼šä¸æ–­è‡ªåŠ¨æäº¤æœ€æ–°ä½ç§»100â€ï¼Œæ—¢ç„¶æ²¡æœ‰æ¶ˆè´¹äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦æäº¤å‘¢ï¼Ÿæ¶ˆè´¹äº†100å°±æäº¤100ï¼Œä¹‹åæ²¡æœ‰æ¶ˆè´¹å°±æ„å‘³ç€ä½ç§»æ²¡å˜ï¼Œä¸ºå•¥è¿˜è¦æäº¤å‘¢ï¼Ÿè¿™ä¸¤ä¸ªé—®é¢˜çš„æ ¹æºéƒ½åœ¨äºä¸æ˜¯å¾ˆæ¸…æ¥šè‡ªåŠ¨ä½ç§»æäº¤çš„è§¦å‘æ¡ä»¶ï¼Œæ˜¯æ¶ˆè´¹å°±è§¦å‘å—ï¼Ÿè¿˜æ˜¯æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸å°±è§¦å‘ï¼Ÿè¿˜æ˜¯å®šæ—¶è§¦å‘ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":476141,"discussion_content":"ç°åœ¨è‡ªåŠ¨æäº¤ä½ç§»çš„è®¾è®¡å°±æ˜¯ä¸ç®¡ä½ æœ‰æ²¡æœ‰æ¶ˆè´¹ï¼Œå°±æ˜¯é˜¶æ®µæ€§åœ°æäº¤ä½ç§»ï¼Œå³ä½¿æ˜¯æäº¤ç›¸åŒçš„ä½ç§»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574988395,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1891504,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/dc/b0/5b652423.jpg","nickname":"Yang","note":"","ucode":"6CC4DCAFFD7C03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":403718,"discussion_content":"é‚£ä¸ºå•¥è¦é˜¶æ®µæ€§æäº¤ä½ç§»è¿™æ ·çš„è®¾è®¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634135463,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1197459,"avatar":"https://static001.geekbang.org/account/avatar/00/12/45/93/6ad60b12.jpg","nickname":"æ¸Šè™¹","note":"","ucode":"A041AD241B8E3F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":246899,"discussion_content":"æ˜¯ç±»ä¼¼å®šæ—¶æäº¤å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587784726,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1702117,"avatar":"https://static001.geekbang.org/account/avatar/00/19/f8/e5/119d5c15.jpg","nickname":"å±±æµ·","note":"","ucode":"77FA9967E58FA3","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":1197459,"avatar":"https://static001.geekbang.org/account/avatar/00/12/45/93/6ad60b12.jpg","nickname":"æ¸Šè™¹","note":"","ucode":"A041AD241B8E3F","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389291,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629205944,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":246899,"ip_address":""},"score":389291,"extra":""}]}]},{"had_liked":false,"id":118878,"user_name":"å®‹æ™“æ˜","can_delete":false,"product_type":"c1","uid":1146507,"ip_address":"","ucode":"DC866DCE2FBA9E","user_header":"https://static001.geekbang.org/account/avatar/00/11/7e/8b/3cc461b3.jpg","comment_is_top":false,"comment_ctime":1564456727,"is_pvip":false,"replies":[{"id":"43615","content":"å¦‚æœæ˜¯å¤šä¸ªåˆ†åŒºï¼Œå³ä½¿æ˜¯ä½†consumerçº¿ç¨‹ï¼Œä¹Ÿæ²¡æ³•ä¿è¯å…¨å±€çš„é¡ºåºæ€§ã€‚è¿™æ˜¯æ— æ³•è§„é¿çš„","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1564480123,"ip_address":"","comment_id":118878,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18744325911","product_id":100029201,"comment_content":"è€å¸ˆ æ¶ˆæ¯ä»produceråˆ°brokeré‡Œçš„partitionå…¶å®éƒ½æ˜¯æœ‰åºçš„ï¼Œè¿™æ˜¯kafkaçš„æœºåˆ¶ä¿è¯çš„ï¼Œé‚£ä¹ˆå‡å¦‚æˆ‘çš„consumeræ˜¯å•çº¿ç¨‹çš„ï¼Œä¹Ÿèƒ½ä¿è¯æ¶ˆè´¹æ˜¯æœ‰åºçš„ï¼Œä½†æ˜¯ååé‡å°±ä¸‹é™äº†ã€‚å¦‚æœconsumeræ˜¯å¤šçº¿ç¨‹ï¼Œå¦‚æœä¿è¯æœ‰åºæ€§ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":460632,"discussion_content":"å¦‚æœæ˜¯å¤šä¸ªåˆ†åŒºï¼Œå³ä½¿æ˜¯ä½†consumerçº¿ç¨‹ï¼Œä¹Ÿæ²¡æ³•ä¿è¯å…¨å±€çš„é¡ºåºæ€§ã€‚è¿™æ˜¯æ— æ³•è§„é¿çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1564480123,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1702117,"avatar":"https://static001.geekbang.org/account/avatar/00/19/f8/e5/119d5c15.jpg","nickname":"å±±æµ·","note":"","ucode":"77FA9967E58FA3","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389292,"discussion_content":"å¦‚æœæ˜¯å¤šçº¿ç¨‹ï¼Œä¿è¯æ¯ä¸ªåˆ†åŒºä¸€ä¸ªæ¶ˆè´¹è€…çº¿ç¨‹åº”è¯¥æ˜¯èƒ½ä¿è¯å•ä¸ªåˆ†åŒºæ¶ˆæ¯çš„é¡ºåºæ€§çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629206044,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116883,"user_name":"è€¿æ–Œ","can_delete":false,"product_type":"c1","uid":1237588,"ip_address":"","ucode":"6535D0B012D78E","user_header":"https://static001.geekbang.org/account/avatar/00/12/e2/54/f836054a.jpg","comment_is_top":false,"comment_ctime":1563934107,"is_pvip":false,"discussion_count":5,"race_medal":0,"score":"18743803291","product_id":100029201,"comment_content":"ä¸ ZooKeeper æ–¹æ¡ˆç›¸æ¯”ï¼Œå®ƒå¯èƒ½çš„åŠ£åŠ¿ï¼›<br>æƒ³åˆ°çš„æ˜¯ï¼Œå½“é›†ç¾¤ä¸­æœ‰ä¸€å° Broker æ•…éšœä¸‹çº¿ï¼Œå¯èƒ½ä¼šé€ æˆ __consumer_offset ä¸¢å¤±ï¼Œå¯¼è‡´é‡å¤æ¶ˆè´¹","like_count":4,"discussions":[{"author":{"id":1174199,"avatar":"https://static001.geekbang.org/account/avatar/00/11/ea/b7/1a18a39d.jpg","nickname":"5-åˆ˜æ–°æ³¢(Arvin)","note":"","ucode":"DBD135D2587A93","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":237807,"discussion_content":"followå‰¯æœ¬çš„ä½ç§»ä¸»é¢˜æ•°æ®èƒ½ä¿æŒæœ€æ–°ï¼Œè€Œä¸”æ˜¯å®Œæ•´å—ï¼Ÿä¼°è®¡è¿˜æ˜¯ä¼šæœ‰éƒ¨åˆ†ä½ç§»ä¸»é¢˜çš„æ¶ˆæ¯æ¥ä¸åŠä¿å­˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587187900,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000054,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/76/256bbd43.jpg","nickname":"æ¾èŠ±çš®è›‹me","note":"","ucode":"B0846CEEF6B0D1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":116463,"discussion_content":"å‰¯æœ¬åˆä¸æä¾›è¯»æœåŠ¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578062402,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1566569,"avatar":"https://static001.geekbang.org/account/avatar/00/17/e7/69/0c426b52.jpg","nickname":"åˆ˜æ˜“å®","note":"","ucode":"EE337683D08B9A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1000054,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/42/76/256bbd43.jpg","nickname":"æ¾èŠ±çš®è›‹me","note":"","ucode":"B0846CEEF6B0D1","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":197274,"discussion_content":"leaderä¼šé‡æ–°é€‰ä¸¾çš„","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1583415795,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":116463,"ip_address":""},"score":197274,"extra":""}]},{"author":{"id":1000347,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/43/9b/50927dfc.jpg","nickname":"å°é£","note":"","ucode":"4C126548FBA94C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":45440,"discussion_content":"æœ‰å‰¯æœ¬çš„ã€‚æ²¡æœ‰å…³ç³»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573039224,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1197447,"avatar":"https://static001.geekbang.org/account/avatar/00/12/45/87/b32dc1ea.jpg","nickname":"ğŸ˜ˆğŸ˜ˆğŸ˜ˆğŸ˜ˆğŸ˜ˆ","note":"","ucode":"A563EC007FEB7D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":34432,"discussion_content":"è¿™ä¸ªå¯èƒ½å¾—çœ‹ä½ çš„Brokerçš„é…ç½®äº†ï¼Œè¿™ä¸ªå†…éƒ¨çš„ä¸»é¢˜ä¹Ÿæ˜¯æœ‰followå‰¯æœ¬çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571198189,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112725,"user_name":"MoonGod","can_delete":false,"product_type":"c1","uid":1254337,"ip_address":"","ucode":"CB39976963F37A","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/c1/54ef6885.jpg","comment_is_top":false,"comment_ctime":1562810221,"is_pvip":false,"replies":[{"id":"41128","content":"ä¸ä¼šã€‚ä½ç§»ä¸»é¢˜çš„failoverå’Œé«˜å¯ç”¨ç®¡ç†å’Œæ™®é€šKafka topicæ˜¯ä¸€æ ·çš„ã€‚ä¹Ÿä¼šæ‰§è¡Œleaderé€‰ä¸¾ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562892934,"ip_address":"","comment_id":112725,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18742679405","product_id":100029201,"comment_content":"è¯·æ•™è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼š<br>åœ¨consumeræäº¤ä½ç§»çš„æ—¶å€™ï¼Œé€šè¿‡Coordinator å¾€æ‰€åœ¨çš„brokerå†™æ¶ˆæ¯ï¼Œé‚£å¦‚æœå½“å‰çš„brokeræŒ‚æ‰äº†ï¼Œå†™å…¥ä½ç§»ä¸»é¢˜çš„æ¶ˆæ¯ä¼šä¸¢å¤±å—ï¼Ÿè¿˜æ˜¯è¯´ä½ç§»ä¸»é¢˜åœ¨å†™å…¥çš„æ—¶å€™ä¹Ÿä¼šæŠŠæ¶ˆæ¯åŒæ­¥åˆ°å…¶ä»–brokerä¸­çš„å‰¯æœ¬ä¸­ï¼Œä»è€Œä¿è¯å†™å…¥æ¶ˆæ¯ä¸ä¸¢å¤±å‘¢","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457879,"discussion_content":"ä¸ä¼šã€‚ä½ç§»ä¸»é¢˜çš„failoverå’Œé«˜å¯ç”¨ç®¡ç†å’Œæ™®é€šKafka topicæ˜¯ä¸€æ ·çš„ã€‚ä¹Ÿä¼šæ‰§è¡Œleaderé€‰ä¸¾ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562892934,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111903,"user_name":"never leave","can_delete":false,"product_type":"c1","uid":1241638,"ip_address":"","ucode":"62888A1446A1E8","user_header":"https://static001.geekbang.org/account/avatar/00/12/f2/26/8d42ea6f.jpg","comment_is_top":false,"comment_ctime":1562635677,"is_pvip":false,"replies":[{"id":"40701","content":"compact topicå¿…é¡»è¦æ±‚æœ‰key<br>","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562638970,"ip_address":"","comment_id":111903,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18742504861","product_id":100029201,"comment_content":"å¦‚æœkafkaæ¶ˆæ¯æ²¡æœ‰keyçš„è¯ï¼Œæ€ä¹ˆCompactï¼Ÿæ¯”è¾ƒvalueå—ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457491,"discussion_content":"compact topicå¿…é¡»è¦æ±‚æœ‰key\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562638970,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":258181,"user_name":"@%åˆ%@","can_delete":false,"product_type":"c1","uid":1053509,"ip_address":"","ucode":"2B8A6134675ED7","user_header":"https://static001.geekbang.org/account/avatar/00/10/13/45/16c60da2.jpg","comment_is_top":false,"comment_ctime":1604320536,"is_pvip":true,"replies":[{"id":"94410","content":"æœ‰ä¸€å®šé“ç†ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1604887111,"ip_address":"","comment_id":258181,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14489222424","product_id":100029201,"comment_content":"ç›¸æ¯”zkä¸é€‚åˆé¢‘ç¹å†™å…¥æˆ‘è®¤ä¸ºæœ€å¤§çš„é—®é¢˜ï¼Œåœ¨äºä¸€ä¸ªzké›†ç¾¤ä¸­ï¼Œåªæœ‰masterçš„èŠ‚ç‚¹æä¾›å†™å…¥çš„æ“ä½œï¼Œè¿™æ ·å†™å…¥ç›¸å½“äºæ˜¯å•æœºçš„tpsï¼Œè€Œkafkaçš„å†™å…¥å¼•å…¥åˆ†åŒºçš„æ¦‚å¿µè§£å†³zkå•æœºå†™å…¥çš„é—®é¢˜ï¼Œåªæœ‰ä¸»åˆ†åŒºå¯ä»¥å†™å…¥ï¼Œkafkaé›†ç¾¤çš„ä¸»åˆ†åŒºå¯ä»¥åˆ†å¸ƒåœ¨å„ä¸ªæœºå™¨ä¸Šï¼Œä»è€Œè¾¾åˆ°é¿å…äº†å•æœºå†™å…¥çš„ç“¶é¢ˆï¼Œè€Œzkå¦‚æœæƒ³è¦è§£å†³æ­¤é—®é¢˜ï¼Œå¯ä»¥å¤šæ­å»ºå‡ ä¸ªzké›†ç¾¤ï¼Œé€šè¿‡ä¸Šå±‚çš„proxyæœºåˆ¶ï¼Œå°†ä¸åŒçš„æ•°æ®å†™å…¥ä¸åŒçš„é›†ç¾¤ï¼Œæ¥æé«˜tpsï¼Œä½†æ˜¯ï¼Œzkçš„åˆè¡·å°±æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼åè°ƒå·¥å…·","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508572,"discussion_content":"æœ‰ä¸€å®šé“ç†ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604887111,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":214647,"user_name":"èƒ¡å°ç¦¾","can_delete":false,"product_type":"c1","uid":1132315,"ip_address":"","ucode":"1C23B7492C0C9E","user_header":"https://static001.geekbang.org/account/avatar/00/11/47/1b/64262861.jpg","comment_is_top":false,"comment_ctime":1588776593,"is_pvip":false,"replies":[{"id":"79563","content":"ä¸€æ—¦consumer groupå¤„äºdeadçŠ¶æ€è¶…è¿‡äº†offsets.retention.minutesï¼ŒKafkaå°±ä¼šåˆ é™¤å®ƒçš„æ•°æ®","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1588845975,"ip_address":"","comment_id":214647,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14473678481","product_id":100029201,"comment_content":"é‚£ä¹ˆï¼Œä½•æ—¶ä¼šå†™å…¥è¿™ç±»æ¶ˆæ¯å‘¢ï¼Ÿä¸€æ—¦æŸä¸ª Consumer Group ä¸‹çš„æ‰€æœ‰ Consumer å®ä¾‹éƒ½åœæ­¢äº†ï¼Œè€Œä¸”å®ƒä»¬çš„ä½ç§»æ•°æ®éƒ½å·²è¢«åˆ é™¤æ—¶ï¼ŒKafka ä¼šå‘ä½ç§»ä¸»é¢˜çš„å¯¹åº”åˆ†åŒºå†™å…¥ tombstone æ¶ˆæ¯ï¼Œè¡¨æ˜è¦å½»åº•åˆ é™¤è¿™ä¸ª Group çš„ä¿¡æ¯ã€‚<br><br>é—®é¢˜æ¥äº†ï¼šä½•æ—¶kafkaä¼šæŠŠ Consumer çš„ä½ç§»æ•°æ®éƒ½ç»™åˆ é™¤äº†ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":494152,"discussion_content":"ä¸€æ—¦consumer groupå¤„äºdeadçŠ¶æ€è¶…è¿‡äº†offsets.retention.minutesï¼ŒKafkaå°±ä¼šåˆ é™¤å®ƒçš„æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588845975,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1054827,"avatar":"https://static001.geekbang.org/account/avatar/00/10/18/6b/a1448af1.jpg","nickname":"è´å½±","note":"","ucode":"19545C8DCBF8A2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544153,"discussion_content":"åŸæ¥å¦‚æ­¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641430547,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":170705,"user_name":"Ball","can_delete":false,"product_type":"c1","uid":1521451,"ip_address":"","ucode":"1EE949E68D84CA","user_header":"https://static001.geekbang.org/account/avatar/00/17/37/2b/b32f1d66.jpg","comment_is_top":false,"comment_ctime":1578669850,"is_pvip":false,"replies":[{"id":"66340","content":"1. åŒä¸€ä¸ªçº¿ç¨‹<br>2. æ˜¯çš„ï¼Œä½†é€šå¸¸è¿˜ä¼šä¸Coordinatorå»ºç«‹TCPè¿æ¥ï¼Œå¦å¤–è·å–å…ƒæ•°æ®è¯·æ±‚æ—¶ä¹Ÿå¯èƒ½å»ºç«‹æ–°çš„TCPè¿æ¥ã€‚æ€»ä¹‹ï¼Œå½“æ­£å¸¸æ¶ˆè´¹æ—¶ï¼Œä¸brokeråˆ›å»ºä¸€ä¸ªTCPè¿æ¥å³å¯æ¶ˆè´¹","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1578877078,"ip_address":"","comment_id":170705,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14463571738","product_id":100029201,"comment_content":"è€å¸ˆæˆ‘æœ‰é—®é¢˜æƒ³è¯·æ•™ä¸‹ï¼Œå¦‚æœæˆ‘æœ‰ä¸€ä¸ª Consumer å®ä¾‹ä¸”å¼€å¯äº†è‡ªåŠ¨æäº¤ offsetï¼ŒConsumer æ­£åœ¨æ¶ˆè´¹ä¸€ä¸ªä¸šåŠ¡åˆ†åŒºçš„æ¶ˆæ¯ï¼Œé‚£ä¹ˆï¼š<br>1ã€æäº¤ç»™ offset åˆ†åŒºæ“ä½œè‚¯å®šæ˜¯å‘ç”Ÿåœ¨æ¶ˆè´¹ä¸šåŠ¡æ¶ˆæ¯ä¹‹åå‘ç”Ÿçš„ï¼Œé‚£è¿™ä¸ªæ“ä½œæ˜¯åœ¨åŒä¸€ä¸ªçº¿ç¨‹å†…å®Œæˆçš„ï¼Œè¿˜æ˜¯è¯´åå°æœ‰ä¸ªçº¿ç¨‹åœ¨å¼‚æ­¥å†™ offsetã€‚<br>2ã€åŸºäºä¸Šé¢é‚£ä¸ªåœºæ™¯ï¼Œæ˜¯ä¸æ˜¯ Consumer æœ€å°‘åªè¦å’Œ Broker å»ºç«‹ä¸€ä¸ª TCP è¿æ¥å³å¯æ­£å¸¸æ¶ˆè´¹äº†ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481074,"discussion_content":"1. åŒä¸€ä¸ªçº¿ç¨‹\n2. æ˜¯çš„ï¼Œä½†é€šå¸¸è¿˜ä¼šä¸Coordinatorå»ºç«‹TCPè¿æ¥ï¼Œå¦å¤–è·å–å…ƒæ•°æ®è¯·æ±‚æ—¶ä¹Ÿå¯èƒ½å»ºç«‹æ–°çš„TCPè¿æ¥ã€‚æ€»ä¹‹ï¼Œå½“æ­£å¸¸æ¶ˆè´¹æ—¶ï¼Œä¸brokeråˆ›å»ºä¸€ä¸ªTCPè¿æ¥å³å¯æ¶ˆè´¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578877078,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":161498,"user_name":"é«˜å¿—å¼º","can_delete":false,"product_type":"c1","uid":1276563,"ip_address":"","ucode":"68737002043752","user_header":"https://static001.geekbang.org/account/avatar/00/13/7a/93/c9302518.jpg","comment_is_top":false,"comment_ctime":1576218311,"is_pvip":false,"replies":[{"id":"61585","content":"æ‰‹åŠ¨è°ƒç”¨commitSyncæˆ–commitAsyncæ–¹æ³•","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1576302318,"ip_address":"","comment_id":161498,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14461120199","product_id":100029201,"comment_content":"enable.auto.commit è¿™ä¸ªå‚æ•°é»˜è®¤å€¼æ˜¯ true å—ï¼Œæˆ‘çœ‹å…¬å¸ä½¿ç”¨æ—¶å¹¶æ²¡æœ‰ç‰¹æ„æŒ‡å®šè¿™ä¸ªå‚æ•°ã€‚å¦‚æœä¸æ˜¯trueï¼Œæ€æ ·æ‰‹åŠ¨æäº¤ä½ç§»å‘¢","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":477737,"discussion_content":"æ‰‹åŠ¨è°ƒç”¨commitSyncæˆ–commitAsyncæ–¹æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1576302318,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":145757,"user_name":"æŸ¯å¯Ÿé‡‘","can_delete":false,"product_type":"c1","uid":1115149,"ip_address":"","ucode":"F722BF8FCD2C47","user_header":"https://static001.geekbang.org/account/avatar/00/11/04/0d/3dc5683a.jpg","comment_is_top":false,"comment_ctime":1572361127,"is_pvip":false,"replies":[{"id":"56289","content":"å¯¹çš„ï¼Œè¦æ¶ˆè´¹çš„ä½ç§»æ˜¯é€šè¿‡ä»ä½ç§»ä¸»é¢˜è·å–çš„","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1572396210,"ip_address":"","comment_id":145757,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14457263015","product_id":100029201,"comment_content":"é‚£ä¹ˆæ¶ˆè´¹è€…æ€ä¹ˆè·å–åˆ°è‡ªå·±è¦æ¶ˆè´¹çš„é‚£ä¸ªåˆ†åŒºçš„ä½ç§»å‘¢ï¼Ÿæ˜¯é€šè¿‡æ¶ˆè´¹ä½ç§»ä¸»é¢˜çš„æ•°æ®å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":472566,"discussion_content":"å¯¹çš„ï¼Œè¦æ¶ˆè´¹çš„ä½ç§»æ˜¯é€šè¿‡ä»ä½ç§»ä¸»é¢˜è·å–çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1572396210,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":126665,"user_name":"é˜¿çŒ«é˜¿ç‹—","can_delete":false,"product_type":"c1","uid":1072330,"ip_address":"","ucode":"137A8C3CD1BD37","user_header":"https://static001.geekbang.org/account/avatar/00/10/5c/ca/96d192f9.jpg","comment_is_top":false,"comment_ctime":1566443939,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14451345827","product_id":100029201,"comment_content":"ä¸Zookeeperç›¸æ¯”çš„åŠ£åŠ¿æ˜¯ï¼šå¦‚æœbrokeré›†ç¾¤å‡ºç°é—®é¢˜å´©æºƒï¼Œå¯èƒ½æ¶ˆè´¹çš„å”¯ä¸€ä¿¡æ¯ä¹Ÿä¼šä¸¢å¤±ï¼Œå†é‡å¯åä¸èƒ½æ¥ç€ä¹‹å‰çš„ä½ç§»ç»§ç»­è¯»å–ã€‚ä½†æ˜¯å¦‚æœå­˜åœ¨å¤–éƒ¨çš„Zookeeperä¸­ï¼Œå°±ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜ã€‚","like_count":3},{"had_liked":false,"id":112730,"user_name":"å¿«è·‘","can_delete":false,"product_type":"c1","uid":1564645,"ip_address":"","ucode":"90ED7E6D40C58E","user_header":"https://static001.geekbang.org/account/avatar/00/17/df/e5/65e37812.jpg","comment_is_top":false,"comment_ctime":1562811171,"is_pvip":false,"replies":[{"id":"41126","content":"Spark Streamingé›†æˆKafkaçš„ä½ç§»ç®¡ç†æœ‰ä¸‰ç§ï¼š1. å¯¿å¸ç”¨checkpointï¼Œä¹Ÿå°±æ˜¯ä¿å­˜åœ¨Sparkå†…éƒ¨ï¼›2. ä¿å­˜åœ¨Kafkaå†…éƒ¨ä¸»é¢˜ï¼›3. ä¿å­˜åœ¨å¤–éƒ¨å­˜å‚¨ä¸­ã€‚ä½ å¯ä»¥é€‰æ‹©åˆé€‚çš„æ–¹å¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562892886,"ip_address":"","comment_id":112730,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14447713059","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä½ å¥½<br>Kafkaæœ‰ä½ç§»ä¸»é¢˜ï¼Œæ˜¯ä¸æ˜¯Consumeréƒ½æ˜¯ä»æ•´ä¸ªä½ç§»ä¸»é¢˜è·å–æ•°æ®åº”è¯¥ä»å“ªä¸ªoffsetå¼€å§‹è¯»æ•°æ®ï¼Œå¦‚æœSpark Streamingä½œä¸ºä¸€ä¸ªConsumerï¼Œå…¶offsetçš„æ§åˆ¶ä¹Ÿæ˜¯åœ¨è¿™ä¸ªä½ç§»ä¸»é¢˜å½“ä¸­ï¼Ÿ è¿™æ ·çš„è¯Spark Streamingç”¨Directæ–¹å¼è¯»å–Kafkaå…¶å®æ˜¯ä¸éœ€è¦é¢å¤–æ‰¾å…¶ä»–å­˜å‚¨ä½œä¸ºä½ç§»çš„ä¿å­˜ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457882,"discussion_content":"Spark Streamingé›†æˆKafkaçš„ä½ç§»ç®¡ç†æœ‰ä¸‰ç§ï¼š1. å¯¿å¸ç”¨checkpointï¼Œä¹Ÿå°±æ˜¯ä¿å­˜åœ¨Sparkå†…éƒ¨ï¼›2. ä¿å­˜åœ¨Kafkaå†…éƒ¨ä¸»é¢˜ï¼›3. ä¿å­˜åœ¨å¤–éƒ¨å­˜å‚¨ä¸­ã€‚ä½ å¯ä»¥é€‰æ‹©åˆé€‚çš„æ–¹å¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562892886,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112209,"user_name":"dream","can_delete":false,"product_type":"c1","uid":1117793,"ip_address":"","ucode":"65B33D32FA8BE9","user_header":"https://static001.geekbang.org/account/avatar/00/11/0e/61/ae68f8eb.jpg","comment_is_top":false,"comment_ctime":1562684301,"is_pvip":false,"replies":[{"id":"40829","content":"æ²¡æœ‰ç›¸å…³é…ç½®ã€‚æˆ‘çš„â€œå®šæœŸâ€çš„æ„æ€æ˜¯æœ‰ä¸ªä¸“é—¨çš„çº¿ç¨‹ä¸æ–­åœ°å»åšè¿™ä»¶äº‹ã€‚ã€‚ã€‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562720834,"ip_address":"","comment_id":112209,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14447586189","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä½ æœ€åè¯´â€œKafka æä¾›äº†ä¸“é—¨çš„åå°çº¿ç¨‹å®šæœŸåœ°å·¡æ£€å¾… Compact çš„ä¸»é¢˜â€ï¼Œé‚£ä¹ˆè¿™ä¸ªå®šæœŸæ˜¯å¥½ä¹…å‘¢ï¼Ÿè¿™ä¸ªé—´éš”æ—¶é—´æˆ‘ä»¬å¯ä»¥è‡ªå·±é…ç½®å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457620,"discussion_content":"æ²¡æœ‰ç›¸å…³é…ç½®ã€‚æˆ‘çš„â€œå®šæœŸâ€çš„æ„æ€æ˜¯æœ‰ä¸ªä¸“é—¨çš„çº¿ç¨‹ä¸æ–­åœ°å»åšè¿™ä»¶äº‹ã€‚ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562720834,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227661,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1592450260,"is_pvip":false,"replies":[{"id":"83935","content":"å•çº¿ç¨‹ä¸­ä¾æ¬¡æ‰§è¡Œæ¶ˆæ¯è·å–ã€å¤„ç†å’Œæäº¤ä½ç§»å°±æ²¡æœ‰é—®é¢˜ã€‚å¤šçº¿ç¨‹ä¸­æ¶ˆæ¯è·å–ä¸å¤„ç†å’Œæäº¤ä½ç§»æ‹†å¼€æ¥äº†ï¼Œå°±å¯èƒ½å‡ºç°è¿™äº›é—®é¢˜ã€‚å®ƒä»¬ä¸çŸ›ç›¾","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1592472811,"ip_address":"","comment_id":227661,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10182384852","product_id":100029201,"comment_content":"---è‡ªåŠ¨æäº¤ä½ç§»<br>å½“Consumerç«¯å‚æ•°enable.auto.commit=trueï¼š<br>Consumer åœ¨åå°é»˜é»˜åœ°ä¸ºä½ å®šæœŸauto.commit.interval.msæ¥æäº¤ä½ç§»<br>---è‡ªåŠ¨æäº¤ä½ç§»å¯¼è‡´çš„æ’‘æ»¡ç£ç›˜åœºæ™¯ï¼š<br>å‡è®¾ Consumer å½“å‰æ¶ˆè´¹åˆ°äº†æŸä¸ªä¸»é¢˜çš„æœ€æ–°ä¸€æ¡æ¶ˆæ¯ï¼Œä½ç§»æ˜¯ 100ï¼Œä¹‹åè¯¥ä¸»é¢˜æ²¡æœ‰ä»»ä½•æ–°æ¶ˆæ¯äº§ç”Ÿï¼Œæ•… Consumer æ— æ¶ˆæ¯å¯æ¶ˆè´¹äº†ï¼Œæ‰€ä»¥ä½ç§»æ°¸è¿œä¿æŒåœ¨ 100ã€‚<br>ç”±äºæ˜¯è‡ªåŠ¨æäº¤ä½ç§»ï¼Œä½ç§»ä¸»é¢˜ä¸­ä¼šä¸åœåœ°å†™å…¥ä½ç§» =100 çš„æ¶ˆæ¯ã€‚<br>æ˜¾ç„¶ Kafka åªéœ€è¦ä¿ç•™è¿™ç±»æ¶ˆæ¯ä¸­çš„æœ€æ–°ä¸€æ¡å°±å¯ä»¥äº†ï¼Œä¹‹å‰çš„æ¶ˆæ¯éƒ½æ˜¯å¯ä»¥åˆ é™¤çš„ã€‚è¿™å°±è¦æ±‚ Kafka å¿…é¡»è¦æœ‰é’ˆå¯¹ä½ç§»ä¸»é¢˜æ¶ˆæ¯ç‰¹ç‚¹çš„æ¶ˆæ¯åˆ é™¤ç­–ç•¥ï¼Œå¦åˆ™è¿™ç§æ¶ˆæ¯ä¼šè¶Šæ¥è¶Šå¤šï¼Œæœ€ç»ˆæ’‘çˆ†æ•´ä¸ªç£ç›˜ã€‚<br><br>---è§£å†³åŠæ³•ï¼šæ˜¾ç„¶åªéœ€è¦æœ€æ–°çš„ä¸€æ¬¡ä½ç§»æ•°æ®å°±å¯ä»¥äº†ï¼Œé‚£ä¹ˆåˆ é™¤æ‰è¿‡æœŸçš„ä½ç§»æ•°æ®ã€‚Kafka ä½¿ç”¨ Compact ç­–ç•¥æ¥åˆ é™¤ä½ç§»ä¸»é¢˜ä¸­çš„è¿‡æœŸæ¶ˆæ¯ï¼Œé¿å…è¯¥ä¸»é¢˜æ— é™æœŸè†¨èƒ€ã€‚Kafka æä¾›äº†ä¸“é—¨çš„åå°çº¿ç¨‹å®šæœŸåœ°å·¡æ£€å¾… Compact çš„ä¸»é¢˜ï¼Œçœ‹çœ‹æ˜¯å¦å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„å¯åˆ é™¤æ•°æ®ã€‚è¿™ä¸ªåå°çº¿ç¨‹å« Log Cleanerã€‚<br>ä»¥ä¸Šä¸ºæ€»ç»“ã€‚<br>-------ä¸€ä¸ªçŸ›ç›¾é—®é¢˜------------<br>å…³äºè‡ªåŠ¨æäº¤ä½ç§»ï¼Œåœ¨ä¹‹å‰çš„è¯¾ç¨‹ä¸­çœ‹åˆ°è€å¸ˆè¯´Consumerå¦‚æœé‡‡ç”¨è¿™ç§æ–¹å¼åœ¨å¤šçº¿ç¨‹æ¶ˆè´¹æ¶ˆæ¯æ—¶ä¼šé€ æˆæ¶ˆæ¯ä¸¢å¤±çš„ï¼Œå› ä¸ºæŸä¸ªçº¿ç¨‹å¯èƒ½å¹¶æœªæ¶ˆè´¹æˆåŠŸæ¶ˆæ¯è€Œå´æ›´æ–°äº†ä½ç§»ï¼å¯è¿™ä¸€èŠ‚è€å¸ˆæ€ä¹ˆè¯´â€œè‡ªåŠ¨æäº¤ä½ç§»æœ‰ä¸€ä¸ªæ˜¾è‘—çš„ä¼˜ç‚¹ï¼Œå°±æ˜¯çœäº‹ï¼Œä½ ä¸ç”¨æ“å¿ƒä½ç§»æäº¤çš„äº‹æƒ…ï¼Œå°±èƒ½ä¿è¯æ¶ˆæ¯æ¶ˆè´¹ä¸ä¼šä¸¢å¤±ã€‚â€å‘¢ï¼Ÿè¿™ä¸æ˜¯çŸ›ç›¾å—","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498738,"discussion_content":"å•çº¿ç¨‹ä¸­ä¾æ¬¡æ‰§è¡Œæ¶ˆæ¯è·å–ã€å¤„ç†å’Œæäº¤ä½ç§»å°±æ²¡æœ‰é—®é¢˜ã€‚å¤šçº¿ç¨‹ä¸­æ¶ˆæ¯è·å–ä¸å¤„ç†å’Œæäº¤ä½ç§»æ‹†å¼€æ¥äº†ï¼Œå°±å¯èƒ½å‡ºç°è¿™äº›é—®é¢˜ã€‚å®ƒä»¬ä¸çŸ›ç›¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592472811,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1336475,"avatar":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","nickname":"J.Smile","note":"","ucode":"C4D98DFDBF7584","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":284207,"discussion_content":"OK","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592472996,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":210516,"user_name":"æ–½äºšä¸œ","can_delete":false,"product_type":"c1","uid":1973307,"ip_address":"","ucode":"B0DF8FBED142E2","user_header":"https://static001.geekbang.org/account/avatar/00/1e/1c/3b/210f843f.jpg","comment_is_top":false,"comment_ctime":1587782833,"is_pvip":false,"replies":[{"id":"78466","content":"æœ‰å»¶è¿Ÿçš„ã€‚é‚£æ˜¯ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œé»˜è®¤10åˆ†é’Ÿåšä¸€æ¬¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1587867901,"ip_address":"","comment_id":210516,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10177717425","product_id":100029201,"comment_content":"ä»group çš„æ‰€æœ‰consumerå®ä¾‹éƒ½åœæ­¢ï¼Œåˆ°å‘é€tombstoneæ¶ˆæ¯åˆ°ä½ç§»ä¸»é¢˜ï¼Œè¿™ä¸¤è€…ä¹‹é—´æ˜¯ä¸æ˜¯éœ€è¦ä¸€ä¸ªå»¶è¿Ÿï¼Ÿé»˜è®¤çš„æ˜¯å¤šå°‘å‘¢ï¼Ÿ<br>å¦‚æœæ²¡æœ‰å»¶è¿Ÿï¼Œå½“è¿™ä¸ªgroupçš„æ¶ˆè´¹è€…å®ä¾‹åšç‰ˆæœ¬æ›´æ–°çš„æ—¶å€™ï¼Œæ²¡æœ‰é‡‡ç”¨æ»šåŠ¨å‡çº§çš„æ–¹å¼ï¼Œä¸€æ¬¡æ€§åœæ­¢å…¨éƒ¨consumerå®ä¾‹ï¼Œå‡çº§å®Œé‡å¯çš„æ—¶å€™ä¸ä¹…å‡ºç°é—®é¢˜äº†å—ï¼ˆä½ç§»ä¸»é¢˜å·²ç»åˆ é™¤è¿™ä¸ªgroupä¸‹çš„ä½ç§»ä¿¡æ¯ï¼‰ï¼Ÿ<br>","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493041,"discussion_content":"æœ‰å»¶è¿Ÿçš„ã€‚é‚£æ˜¯ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œé»˜è®¤10åˆ†é’Ÿåšä¸€æ¬¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587867901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":165093,"user_name":"double","can_delete":false,"product_type":"c1","uid":1104928,"ip_address":"","ucode":"9C679F85CB6610","user_header":"https://static001.geekbang.org/account/avatar/00/10/dc/20/64394be8.jpg","comment_is_top":false,"comment_ctime":1577159323,"is_pvip":false,"replies":[{"id":"63034","content":"æœ‰å¯èƒ½æœ‰å¾ˆå¤šåŸå› ã€‚èƒ½å¦è¯´çš„åœ¨å…·ä½“ç‚¹ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1577235534,"ip_address":"","comment_id":165093,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10167093915","product_id":100029201,"comment_content":"è€å¸ˆï¼ŒConsumer Offsetæœ‰äº›åˆ†åŒºä¸º-1ï¼Œæ¶ˆè´¹ä¸äº†æ•°æ®æ˜¯ä»€ä¹ˆæƒ…å†µ","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":479022,"discussion_content":"æœ‰å¯èƒ½æœ‰å¾ˆå¤šåŸå› ã€‚èƒ½å¦è¯´çš„åœ¨å…·ä½“ç‚¹ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1577235534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":143021,"user_name":"å¯‚é™æ¬¢å–œ","can_delete":false,"product_type":"c1","uid":1191287,"ip_address":"","ucode":"6728A2BA364729","user_header":"https://static001.geekbang.org/account/avatar/00/12/2d/77/e5d4221b.jpg","comment_is_top":false,"comment_ctime":1571620829,"is_pvip":false,"replies":[{"id":"55272","content":"Kafkaè‡ªå·±ç®¡ç†çš„ï¼Œå…¶å®å’Œæ™®é€šä¸»é¢˜åŸç†æ˜¯ç±»ä¼¼çš„","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1571627110,"ip_address":"","comment_id":143021,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10161555421","product_id":100029201,"comment_content":"æƒ³é—®è€å¸ˆï¼Œconsumer offset æœ¬èº«å°±æ˜¯ä¸ªä¸»é¢˜ã€‚å®ƒæ˜¯æ€ä¹ˆå®ç°è‡ªå·±offset ç®¡ç†çš„","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":471353,"discussion_content":"Kafkaè‡ªå·±ç®¡ç†çš„ï¼Œå…¶å®å’Œæ™®é€šä¸»é¢˜åŸç†æ˜¯ç±»ä¼¼çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1571627110,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1547667,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","nickname":"æœ´ç´ æŸ æª¬c","note":"","ucode":"2D4CBB70D801B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329331,"discussion_content":"kafkaçš„ä½ç§»ä¸»é¢˜ æ„Ÿè§‰ä¸éœ€è¦ç®¡ç†è‡ªå·±çš„offset æ²¡ä»€ä¹ˆæ„ä¹‰\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606369019,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1182802,"avatar":"https://static001.geekbang.org/account/avatar/00/12/0c/52/f25c3636.jpg","nickname":"é•¿è„–å­æ ‘","note":"","ucode":"D9090EF67EEB1B","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":287637,"discussion_content":"é¸¡ç”Ÿè›‹...è›‹ç”Ÿé¸¡....","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593500781,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":134624,"user_name":"å°å¯","can_delete":false,"product_type":"c1","uid":1006735,"ip_address":"","ucode":"8834AF621FA67D","user_header":"https://static001.geekbang.org/account/avatar/00/0f/5c/8f/551b5624.jpg","comment_is_top":false,"comment_ctime":1568881249,"is_pvip":false,"replies":[{"id":"51718","content":"å¯ä»¥æ‰‹åŠ¨åˆ›å»ºä½ç§»ä¸»é¢˜","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1568940097,"ip_address":"","comment_id":134624,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10158815841","product_id":100029201,"comment_content":"è€å¸ˆï¼Œå•æœºç‰ˆkafkaé¦–æ¬¡å¯åŠ¨çš„æ—¶å€™ï¼Œç¬¬ä¸€ä¸ªæ¶ˆè´¹è€…è¿æ¥kafkaï¼Œä½†æ˜¯ç”±äºä¸€äº›åŸå› æ¯”å¦‚å…¶ä»–ç¨‹åºå½“æ—¶åœ¨å ç”¨IOå†™ç£ç›˜ï¼Œå¯¼è‡´æ— æ³•åˆ›å»ºä½ç§»ä¸»é¢˜ï¼Œé‡å¯æ¶ˆè´¹è€…ä¹Ÿä¸ä¼šå†åˆ›å»ºä½ç§»ä¸»é¢˜ï¼Œé‡å¯kafkaæ‰å¯ä»¥ã€‚æˆ‘çœ‹äº†kafkaæºç ï¼Œåœ¨KafkaApisçš„getOrCreateInternalTopicæ–¹æ³•ä¸­ï¼Œå®ƒå…ˆä»ç¼“å­˜metadataCacheè¯»å–ä½ç§»ä¸»é¢˜çš„ï¼Œå®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¿æ¥kafkaæ—¶ç¼“å­˜ä¸­å·²ç»åˆ›å»ºäº†çš„ä½ç§»ä¸»é¢˜ï¼Œä½†æ²¡æœ‰è½ç›˜ï¼›å®¢æˆ·ç«¯é‡å¯å†æ¬¡è¿æ¥æ—¶è¯»åˆ°äº†ç¼“å­˜ï¼Œä¹Ÿä¸ä¼šè§¦å‘åˆ›å»ºçš„ä½ç§»ä¸»é¢˜çš„åŠ¨ä½œï¼Œä¹Ÿå°±æ— æ³•è½ç›˜ã€‚ä¸çŸ¥é“æˆ‘çš„ç†è§£æ˜¯å¦æ­£ç¡®ï¼Ÿåƒè¿™ç§æƒ…å†µé™¤äº†é‡å¯kafkaè¿˜æœ‰æ²¡æœ‰å…¶ä»–å¤„ç†åŠæ³•ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":467834,"discussion_content":"å¯ä»¥æ‰‹åŠ¨åˆ›å»ºä½ç§»ä¸»é¢˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1568940097,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112974,"user_name":"é…±æ’éª¨","can_delete":false,"product_type":"c1","uid":1348539,"ip_address":"","ucode":"FEB012688EAB9C","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqwFYNicGUHlnpUXg3lBrjuWo2SLjUoH8SeE30QibzZprxjw8SZBMY5D70q5uFJshakb0WzRaKMknQA/132","comment_is_top":false,"comment_ctime":1562858311,"is_pvip":false,"replies":[{"id":"41109","content":"æ¶ˆè´¹è€…é‡å¯å›æ¥åä¼šä»æœ€æ–°ä¸€æ¬¡æäº¤çš„ä½ç§»å¤„ç»§ç»­æ¶ˆè´¹","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562891545,"ip_address":"","comment_id":112974,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10152792903","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹å·¥ä½œä¸­çš„ä¸€ä¸ªé—®é¢˜å•ä¸ªæ¶ˆè´¹å®ä¾‹ï¼Œå•ä¸ªpartionï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹å¤±è´¥ï¼Œoffsetå¯ä»¥é‡æ–°å›åˆ°å‰é¢ä½ç½®é‡æ–°æ¶ˆè´¹å—ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457989,"discussion_content":"æ¶ˆè´¹è€…é‡å¯å›æ¥åä¼šä»æœ€æ–°ä¸€æ¬¡æäº¤çš„ä½ç§»å¤„ç»§ç»­æ¶ˆè´¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562891545,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1395849,"avatar":"","nickname":"forcht","note":"","ucode":"4CECBEB8251364","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":321556,"discussion_content":"é‚£å¦‚æœæ˜¯æ–°åŠ å…¥çš„æ¶ˆè´¹è€…å‘¢ï¼ˆæ–°çš„æ¶ˆè´¹ç»„ï¼‰ï¼Ÿé»˜è®¤æ˜¯ä¹‹å‰çš„æ•°æ®éƒ½æ¶ˆè´¹è¿‡ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604589657,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112724,"user_name":"MoonGod","can_delete":false,"product_type":"c1","uid":1254337,"ip_address":"","ucode":"CB39976963F37A","user_header":"https://static001.geekbang.org/account/avatar/00/13/23/c1/54ef6885.jpg","comment_is_top":false,"comment_ctime":1562810097,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10152744689","product_id":100029201,"comment_content":"è¯·æ•™è€å¸ˆä¸€ä¸ªé—®é¢˜ï¼š<br>åœ¨consumeræäº¤ä½ç§»çš„æ—¶å€™ï¼Œé€šè¿‡Coordinator å¾€æ‰€åœ¨çš„brokerå†™æ¶ˆæ¯ï¼Œé‚£å¦‚æœå†™å…¥çš„brokeræŒ‚æ‰äº†ï¼Œå†™å…¥ä½ç§»ä¸»é¢˜çš„æ¶ˆæ¯ä¼šä¸¢å¤±å—ï¼Ÿè¿˜æ˜¯è¯´ä½ç§»ä¸»é¢˜åœ¨å†™å…¥çš„æ—¶å€™ä¹Ÿä¼šæŠŠæ¶ˆæ¯åŒæ­¥åˆ°å…¶ä»–brokerä¸­çš„å‰¯æœ¬ä¸­ï¼Œä»è€Œä¿è¯å†™å…¥æ¶ˆæ¯ä¸ä¸¢å¤±å‘¢","like_count":2},{"had_liked":false,"id":112622,"user_name":"ban","can_delete":false,"product_type":"c1","uid":1034204,"ip_address":"","ucode":"E523CE97E48266","user_header":"https://static001.geekbang.org/account/avatar/00/0f/c7/dc/9408c8c2.jpg","comment_is_top":false,"comment_ctime":1562773563,"is_pvip":false,"replies":[{"id":"40974","content":"å¦‚æœä½¿ç”¨ä½¿ç”¨è€ç‰ˆæœ¬consumerï¼Œè¿˜æ˜¯ä¼šè®°å½•åœ¨ZooKeeperä¸­çš„","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562803926,"ip_address":"","comment_id":112622,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10152708155","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä½ è¯´åç§»é‡éƒ½ä¿å­˜åˆ°äº†__consumer_offsetsï¼Œç¡®å®çœ‹åˆ°ç”Ÿæˆäº†ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆæˆ‘åœ¨zkè¿˜æ˜¯èƒ½çœ‹åˆ°åç§»é‡ä¿¡æ¯ï¼Œè®°å½•åœ¨<br>consumers&#47;{group}&#47;offsets&#47;{topic}&#47;{partition}ã€‚<br>è¿™ä¸¤ä¸ªæœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Œè¿˜æ˜¯è¯´zkä¼šè®°å½•è¿˜æ˜¯å› ä¸ºæˆ‘ä»¬çš„ç¨‹åºæ‰‹åŠ¨æ”¹æˆæäº¤åˆ°zké‡Œé¢äº†ã€‚","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457823,"discussion_content":"å¦‚æœä½¿ç”¨ä½¿ç”¨è€ç‰ˆæœ¬consumerï¼Œè¿˜æ˜¯ä¼šè®°å½•åœ¨ZooKeeperä¸­çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562803926,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1104287,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d9/9f/7b2f2a97.jpg","nickname":"å¸ˆçˆ·","note":"","ucode":"20E6831DABF755","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":214764,"discussion_content":"æˆ‘ä¹Ÿåœ¨çº ç»“è¿™ä¸ªé—®é¢˜ï¼Œæ–°ç‰ˆæœ¬çš„æ¶ˆè´¹è€…æ—¢å¯ä»¥æŒ‡å®šzkåœ°å€ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šbrokeråœ°å€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585232370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1282575,"avatar":"https://static001.geekbang.org/account/avatar/00/13/92/0f/cff30522.jpg","nickname":"æ±Ÿæ¹–å¤œé›¨","note":"","ucode":"C64913C7000899","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":67609,"discussion_content":"æ˜¯å“ªä¸ªç‰ˆæœ¬æ‰ä½¿ç”¨kafkaè‡ªå·±ç®¡ç†offsetçš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1575160753,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112555,"user_name":"ç‰å‰‘å†°é”‹","can_delete":false,"product_type":"c1","uid":1214202,"ip_address":"","ucode":"8EA56A71BA5B22","user_header":"https://static001.geekbang.org/account/avatar/00/12/86/fa/4bcd7365.jpg","comment_is_top":false,"comment_ctime":1562756871,"is_pvip":false,"replies":[{"id":"40979","content":"1. æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚ä½ å¯ä»¥ç®€å•è®¤ä¸ºå°±æ˜¯æ¢ä¸ªåœ°æ–¹ä¿å­˜ï¼šï¼‰<br>2. è¿™ä¸ªå…¶å®æ˜¯ä¸ªbugï¼Œä¸è¿‡ç°åœ¨å·²ç»ä¿®å¤äº†ã€‚å¦‚æœreassign  hangä½äº†ï¼Œæ‰‹åŠ¨åˆ é™¤Zkä¸‹å¯¹åº”çš„znodeå°±èƒ½æ¢å¤","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562804285,"ip_address":"","comment_id":112555,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10152691463","product_id":100029201,"comment_content":"ä¸å¥½æ„æ€è€å¸ˆï¼Œåœ°é“ä¸Šæœ‰ç‚¹åŒ†å¿™æé—®çš„é—®é¢˜æ²¡æœ‰æè¿°æ¸…æ¥šï¼Œæˆ‘æƒ³çš„é—®çš„æ˜¯1.æ–‡ç« æåˆ°__consumer_offsetè¿™ä¸ªtopicè®°å½•çš„offsetä¿¡æ¯å’Œzkä¸­è®°å½•çš„offsetä¿¡æ¯æœ‰å•¥åŒºåˆ«ï¼Ÿ<br>2.__consumer_offsetè¿™ä¸ªtopicæˆ‘çº¿ä¸Šç¯å¢ƒæ²¡æœ‰å‰¯æœ¬ï¼Œæ–‡ç« æåˆ°å‰¯æœ¬é»˜è®¤æ˜¯3ï¼Œæ˜¯æˆ‘é…ç½®çš„é—®é¢˜å—ï¼Ÿå‘ç°è¿™ä¸ªé—®é¢˜ä»¥åæˆ‘å°±åœ¨çº¿æ·»åŠ å‰¯æœ¬ï¼Œè¿‡å»å¥½å‡ å¤©äº†ä»ç„¶æœ‰åå‡ ä¸ªin progressï¼Œå¦å¤–æœ‰æ²¡æœ‰åŠæ³•å¼ºåˆ¶ç»ˆæ­¢æ‰è¿™ä¸ªä»»åŠ¡é‡æ–°æ·»åŠ å‰¯æœ¬ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457793,"discussion_content":"1. æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚ä½ å¯ä»¥ç®€å•è®¤ä¸ºå°±æ˜¯æ¢ä¸ªåœ°æ–¹ä¿å­˜ï¼šï¼‰\n2. è¿™ä¸ªå…¶å®æ˜¯ä¸ªbugï¼Œä¸è¿‡ç°åœ¨å·²ç»ä¿®å¤äº†ã€‚å¦‚æœreassign  hangä½äº†ï¼Œæ‰‹åŠ¨åˆ é™¤Zkä¸‹å¯¹åº”çš„znodeå°±èƒ½æ¢å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562804285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1547667,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","nickname":"æœ´ç´ æŸ æª¬c","note":"","ucode":"2D4CBB70D801B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329343,"discussion_content":"å†™æœ‰é“äº‘ä¸Šå’Œä½ è®°åœ¨ä¸‡è±¡ç¬”è®°ä¸Šçš„åŒºåˆ«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606369414,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112183,"user_name":"aof","can_delete":false,"product_type":"c1","uid":1062864,"ip_address":"","ucode":"5815D63C4926BC","user_header":"https://static001.geekbang.org/account/avatar/00/10/37/d0/26975fba.jpg","comment_is_top":false,"comment_ctime":1562679665,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10152614257","product_id":100029201,"comment_content":"åŠ£åŠ¿å°±æ˜¯zkæ˜¯åŸºäºå†…å­˜çš„ï¼Œè€Œä½ç§»ä¸»é¢˜è¦ä¿å­˜åˆ°brokerä¸Šï¼Œä¹Ÿå°±æ˜¯ç£ç›˜â€¦â€¦","like_count":2},{"had_liked":false,"id":111986,"user_name":"å—å±±","can_delete":false,"product_type":"c1","uid":1119593,"ip_address":"","ucode":"94656FE4A6C378","user_header":"https://static001.geekbang.org/account/avatar/00/11/15/69/187b9968.jpg","comment_is_top":false,"comment_ctime":1562648108,"is_pvip":true,"replies":[{"id":"40843","content":"å¦‚æœä¸€å®šè¦å¯¹æ¯”JVM GCç®—æ³•ï¼Œé‚£ä¹ˆå®ƒä½¿ç”¨çš„å°±æ˜¯sweep-compactç®—æ³•","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562721921,"ip_address":"","comment_id":111986,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10152582700","product_id":100029201,"comment_content":"è€å¸ˆï¼Œconsumer_offsetå¯ä»¥ç†è§£ä¸ºä½¿ç”¨topicå®ç°äº†ä¸€ä¸ªk-vå­˜å‚¨å—ï¼Ÿconsumerä»é‡Œé¢æ¶ˆè´¹æ¶ˆæ¯çš„æ—¶å€™ä¸æ˜¯é‚£ç§é¡ºåºæ¶ˆè´¹ï¼Œè€Œæ˜¯æ ¹æ®keyæ¥æŸ¥æ‰¾æœ€æ–°çš„valueè¿™ç§æ–¹å¼å—ï¼Ÿcompactçš„æ—¶å€™åº”è¯¥ä¸ä¼šé˜»æ­¢consumerç»§ç»­å‘é€ä½ç§»æ¶ˆæ¯ï¼Œé‚£ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆæ ·çš„â€œåƒåœ¾å›æ”¶â€ç®—æ³•å‘¢ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457532,"discussion_content":"å¦‚æœä¸€å®šè¦å¯¹æ¯”JVM GCç®—æ³•ï¼Œé‚£ä¹ˆå®ƒä½¿ç”¨çš„å°±æ˜¯sweep-compactç®—æ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562721921,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1155275,"avatar":"https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg","nickname":"å¼ ä¸‰ä¸°","note":"","ucode":"3A6215A40B3B21","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":382487,"discussion_content":"æˆ‘å‘ç°ç¬¬ä¸€ä¸ªé—®é¢˜è€å¸ˆå›é¿äº†å¥½å‡ æ¬¡","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1625595577,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111837,"user_name":"nightmare","can_delete":false,"product_type":"c1","uid":1056314,"ip_address":"","ucode":"EF2E51C2122A86","user_header":"https://static001.geekbang.org/account/avatar/00/10/1e/3a/5b21c01c.jpg","comment_is_top":false,"comment_ctime":1562629342,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"10152563934","product_id":100029201,"comment_content":"æ¯”å¦‚å¤šä¸ªçº¿ç¨‹åŒæ—¶æ¶ˆè´¹ä¸€ä¸ªåˆ†åŒºçš„è¯ï¼Œä½ç§»è¿™ä¹ˆå¤„ç†","like_count":2,"discussions":[{"author":{"id":1179056,"avatar":"https://static001.geekbang.org/account/avatar/00/11/fd/b0/e30fd916.jpg","nickname":"äº¬äº¬beaver","note":"","ucode":"C21838D7CA7D6B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":42112,"discussion_content":"åŒä¸€ä¸ªtopicçš„ä¸€ä¸ªpartitionåªèƒ½è¢«ä¸€ä¸ªgroupé‡Œé¢çš„ä¸€ä¸ªconsumeræ¶ˆè´¹ï¼Œå› æ­¤ä¸å­˜åœ¨å¤šä¸ªconsumerçš„æƒ…å†µã€‚å¦‚æœconsumerå¯åŠ¨äº†å¤šçº¿ç¨‹å¤„ç†æ¶ˆæ¯ï¼Œå¤„ç†å®Œæˆåï¼ŒcommitSynè¿˜æ˜¯åªèƒ½ç”±è¿™ä¸ªconsumerå»æäº¤ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1572589552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1133918,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4d/5e/c5c62933.jpg","nickname":"lmtoo","note":"","ucode":"FCD5B9C941D448","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1465,"discussion_content":"æ²¡æœ‰å¤šä¸ªçº¿ç¨‹æ¶ˆè´¹åŒä¸€ä¸ªåˆ†åŒºçš„æƒ…å†µï¼Œä¸€ä¸ªåˆ†åŒºåªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1562639917,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1273993,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/wonzX0yIia5NFoB0TZPdIPqVicIuSvzMtowownIkO9VwYpkPWJP2tpEcv5RXMn0ayuEGkAp2GBualL5sFQs0ibQJQ/132","nickname":"gogogo","note":"","ucode":"D7B7A9AA2D4CE5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1133918,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4d/5e/c5c62933.jpg","nickname":"lmtoo","note":"","ucode":"FCD5B9C941D448","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1636,"discussion_content":"ä»–çš„æ„æ€åº”è¯¥æ˜¯æ¶ˆæ¯è¢«ä¸€ä¸ªçº¿ç¨‹ä»Kafkaæ¶ˆè´¹ï¼Œä½†æ˜¯è¢«å¤šä¸ªçº¿ç¨‹å¤„ç†é€»è¾‘ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1562750914,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":1465,"ip_address":""},"score":1636,"extra":""}]}]},{"had_liked":false,"id":229001,"user_name":"æ°´é“¶æ¹–","can_delete":false,"product_type":"c1","uid":1179011,"ip_address":"","ucode":"28BB2E47D8C30A","user_header":"https://static001.geekbang.org/account/avatar/00/11/fd/83/48cc0d83.jpg","comment_is_top":false,"comment_ctime":1592877763,"is_pvip":false,"replies":[{"id":"84447","content":"æ¶ˆè´¹è€…è¯»å–ä½ç§»æ˜¯èµ°å†…å­˜çš„ï¼Œä¸ä¼šç©¿é€åˆ°åº•å±‚å»è¯»ç‰©ç†æ–‡ä»¶","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1592880931,"ip_address":"","comment_id":229001,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5887845059","product_id":100029201,"comment_content":"è€å¸ˆè¯·é—®ä¸‹ï¼Œå¦‚æœé‡‡ç”¨ä½ç§»æ¶ˆæ¯æ¥è®°å½•åç§»é‡ï¼Œè¿™å…¶ä¸­è‚¯å®šæœ‰å»¶è¿Ÿï¼Œé‚£æ¶ˆè´¹è€…ä»è‡ªå·±åˆ†åŒºæ‹‰æ•°æ®åˆè¦æ±‚å¾ˆé«˜çš„æ€§èƒ½ï¼Œè¿™æ˜¯å¦æ„å‘³ç€æ¶ˆè´¹è€…ä»è‡ªå·±åˆ†åŒºæ‹‰æ•°æ®å¹¶ä¸æ˜¯å®æ—¶ä¾èµ–äºä½ç§»æ¶ˆæ¯å‘¢","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499293,"discussion_content":"æ¶ˆè´¹è€…è¯»å–ä½ç§»æ˜¯èµ°å†…å­˜çš„ï¼Œä¸ä¼šç©¿é€åˆ°åº•å±‚å»è¯»ç‰©ç†æ–‡ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592880931,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":212049,"user_name":"é©¬å‰è¾‰","can_delete":false,"product_type":"c1","uid":1854657,"ip_address":"","ucode":"4265EFBD2BB7BD","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKVIjh4T1akib5iav5IIGjXB9x98p9Y80STRcwpMDqxfGLrMvHamxlxEqLMTpiayWFWSNpBcbGwkRjRw/132","comment_is_top":false,"comment_ctime":1588052945,"is_pvip":false,"replies":[{"id":"78886","content":"å—¯ï¼Œä¸€ç§æ–¹å¼æ˜¯è®¾ç½®è¿™ä¸ªå‚æ•°ç„¶åå¯åŠ¨Brokerï¼Œå¦å¤–å°±æ˜¯é€šè¿‡å‘½ä»¤æ‰‹åŠ¨å°†è¯¥topicçš„rfè°ƒå¤§","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1588086129,"ip_address":"","comment_id":212049,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5883020241","product_id":100029201,"comment_content":"é™¤äº†åˆ†åŒºæ•°ï¼Œå‰¯æœ¬æ•°æˆ–å¤‡ä»½å› å­æ˜¯æ€ä¹ˆæ§åˆ¶çš„å‘¢ï¼Ÿç­”æ¡ˆä¹Ÿå¾ˆç®€å•ï¼Œè¿™å°±æ˜¯ Broker ç«¯å¦ä¸€ä¸ªå‚æ•° offsets.topic.replication.factor è¦åšçš„äº‹æƒ…äº†ã€‚å®ƒçš„é»˜è®¤å€¼æ˜¯ 3ã€‚<br>-----<br>æˆ‘çš„ç‰ˆæœ¬ä¸º kafka_2.11-1.0.0  offsets.topic.replication.factor è¿™ä¸ªå‚æ•°çš„é»˜è®¤å€¼ä¸º 1","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493418,"discussion_content":"å—¯ï¼Œä¸€ç§æ–¹å¼æ˜¯è®¾ç½®è¿™ä¸ªå‚æ•°ç„¶åå¯åŠ¨Brokerï¼Œå¦å¤–å°±æ˜¯é€šè¿‡å‘½ä»¤æ‰‹åŠ¨å°†è¯¥topicçš„rfè°ƒå¤§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588086129,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":208064,"user_name":"poettian","can_delete":false,"product_type":"c1","uid":1144021,"ip_address":"","ucode":"26EE408F908D12","user_header":"https://static001.geekbang.org/account/avatar/00/11/74/d5/de9641dc.jpg","comment_is_top":false,"comment_ctime":1587267709,"is_pvip":false,"replies":[{"id":"77773","content":"åœ¨ä¸€ç¯‡å°±ä¼šæœ‰æ¶‰åŠäº†ã€‚ç®€å•æ¥è¯´å°±æ˜¯æ¶ˆè´¹è€…ç»„çš„åè°ƒå™¨ç»„ä»¶ï¼Œè´Ÿè´£ç»´æŠ¤å’Œç®¡ç†æ¶ˆè´¹è€…ç»„ï¼ŒåŒ…æ‹¬æˆå‘˜ç®¡ç†ã€æ¶ˆè´¹å·¥ä½œåè°ƒã€ä½ç§»ç®¡ç†ç­‰","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1587309065,"ip_address":"","comment_id":208064,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5882235005","product_id":100029201,"comment_content":"è€å¸ˆåœ¨è¯„è®ºé‡Œå›å¤æ—¶ç»å¸¸ä¼šæåˆ° Coordinator ï¼Œä½†æ˜¯è¿™ä¸ªæ¦‚å¿µä¹‹å‰çš„æ–‡ç« å¥½åƒæ²¡æœ‰æåŠï¼Œè€å¸ˆèƒ½å¦ç®€å•æè¿°ä¸€ä¸‹è¿™ä¸ª Coordinator æ˜¯ä¸ªå•¥ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492327,"discussion_content":"åœ¨ä¸€ç¯‡å°±ä¼šæœ‰æ¶‰åŠäº†ã€‚ç®€å•æ¥è¯´å°±æ˜¯æ¶ˆè´¹è€…ç»„çš„åè°ƒå™¨ç»„ä»¶ï¼Œè´Ÿè´£ç»´æŠ¤å’Œç®¡ç†æ¶ˆè´¹è€…ç»„ï¼ŒåŒ…æ‹¬æˆå‘˜ç®¡ç†ã€æ¶ˆè´¹å·¥ä½œåè°ƒã€ä½ç§»ç®¡ç†ç­‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587309065,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":180644,"user_name":"ææ","can_delete":false,"product_type":"c1","uid":1250773,"ip_address":"","ucode":"365F7446ABCC49","user_header":"https://static001.geekbang.org/account/avatar/00/13/15/d5/6d66288b.jpg","comment_is_top":false,"comment_ctime":1582357899,"is_pvip":false,"replies":[{"id":"70214","content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1582455624,"ip_address":"","comment_id":180644,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5877325195","product_id":100029201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œå…³äºæäº¤ä½ç§»ï¼Œå¦‚æœæˆ‘æäº¤äº†0 2 3ï¼Œå“ªæ€•æˆ‘1æ²¡æœ‰æäº¤ï¼Œä¹Ÿæ˜¯å½“æˆæ¶ˆè´¹åˆ° 3 å—ï¼Ÿ ç„¶åæ¶ˆè´¹è€…æ–­å¼€é‡è¿ï¼Œä¸‹ä¸€æ¬¡æ¶ˆè´¹è€…å†æ‹¿ä¹Ÿæ˜¯ä»4å¼€å§‹å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484743,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582455624,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1250773,"avatar":"https://static001.geekbang.org/account/avatar/00/13/15/d5/6d66288b.jpg","nickname":"ææ","note":"","ucode":"365F7446ABCC49","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":182213,"discussion_content":"ä¸å¥½æ„æ€ã€‚ã€‚è¿™ä¸ªåé¢çš„æ–‡ç« å·²ç»çœ‹åˆ°ï¼Œæ˜¯ä»¥æœ€åçš„ 3 ä¸ºå‡†ï¼Œä»4å¼€å§‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582389928,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179431,"user_name":"Ryoma","can_delete":false,"product_type":"c1","uid":1130590,"ip_address":"","ucode":"7F692369239692","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","comment_is_top":false,"comment_ctime":1582002395,"is_pvip":true,"replies":[{"id":"69758","content":"å¦‚æœä½ è¯´çš„æ˜¯server.propertiesé‡Œé¢çš„é…ç½®ï¼Œé‚£ä¸ªä¸æ˜¯é»˜è®¤é…ç½®ã€‚é‚£å°±æ˜¯ä¸ªæ¨¡æ¿è€Œå·²ã€‚offsets.topic.replication.factorçš„é»˜è®¤å€¼ç°åœ¨æ˜¯3","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1582072412,"ip_address":"","comment_id":179431,"utype":1}],"discussion_count":2,"race_medal":2,"score":"5876969691","product_id":100029201,"comment_content":"å…³äºâ€œæ€»ç»“ä¸€ä¸‹ï¼Œå¦‚æœä½ç§»ä¸»é¢˜æ˜¯ Kafka è‡ªåŠ¨åˆ›å»ºçš„ï¼Œé‚£ä¹ˆè¯¥ä¸»é¢˜çš„åˆ†åŒºæ•°æ˜¯ 50ï¼Œå‰¯æœ¬æ•°æ˜¯ 3ã€‚â€<br><br>è¿™é‡Œçš„å‰¯æœ¬æ•°æœ‰ç‚¹ä¸ç†è§£ï¼Œå¦‚æœé»˜è®¤å€¼æ˜¯ 3ï¼Œé‚£æˆ‘å¯åŠ¨å•èŠ‚ç‚¹çš„ Broker å®ä¾‹è¿˜èƒ½æ­£å¸¸ä½¿ç”¨ä¹ˆï¼Ÿ<br><br>ä½œè€…å›å¤: 0.11ç‰ˆæœ¬ä¹‹åä¸èƒ½ä½¿ç”¨äº†ï¼Œé™¤éä½ å°†offsets.topic.replication.factorè®¾ç½®æˆ1<br><br>æ¥ç€ä¸Šé¢çš„é—®é¢˜ç»§ç»­ï¼Œæˆ‘ä¸‹è½½äº† 1.0 åŠ æœ€æ–°çš„ 2.4 ç‰ˆæœ¬ï¼Œçœ‹é…ç½®è¿™ä¸ªå‚æ•°é»˜è®¤éƒ½æ˜¯ 1 å‘¢","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484259,"discussion_content":"å¦‚æœä½ è¯´çš„æ˜¯server.propertiesé‡Œé¢çš„é…ç½®ï¼Œé‚£ä¸ªä¸æ˜¯é»˜è®¤é…ç½®ã€‚é‚£å°±æ˜¯ä¸ªæ¨¡æ¿è€Œå·²ã€‚offsets.topic.replication.factorçš„é»˜è®¤å€¼ç°åœ¨æ˜¯3","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582072412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1130590,"avatar":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","nickname":"Ryoma","note":"","ucode":"7F692369239692","race_medal":2,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":176966,"discussion_content":"åŸæ¥å¦‚æ­¤ï¼Œæ„Ÿè°¢~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1582072669,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":179277,"user_name":"Ryoma","can_delete":false,"product_type":"c1","uid":1130590,"ip_address":"","ucode":"7F692369239692","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/5e/b8fada94.jpg","comment_is_top":false,"comment_ctime":1581950739,"is_pvip":true,"replies":[{"id":"69620","content":"0.11ç‰ˆæœ¬ä¹‹åä¸èƒ½ä½¿ç”¨äº†ï¼Œé™¤éä½ å°†offsets.topic.replication.factorè®¾ç½®æˆ1","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1581985449,"ip_address":"","comment_id":179277,"utype":1}],"discussion_count":1,"race_medal":2,"score":"5876918035","product_id":100029201,"comment_content":"å…³äºâ€œæ€»ç»“ä¸€ä¸‹ï¼Œå¦‚æœä½ç§»ä¸»é¢˜æ˜¯ Kafka è‡ªåŠ¨åˆ›å»ºçš„ï¼Œé‚£ä¹ˆè¯¥ä¸»é¢˜çš„åˆ†åŒºæ•°æ˜¯ 50ï¼Œå‰¯æœ¬æ•°æ˜¯ 3ã€‚â€<br><br>è¿™é‡Œçš„å‰¯æœ¬æ•°æœ‰ç‚¹ä¸ç†è§£ï¼Œå¦‚æœé»˜è®¤å€¼æ˜¯ 3ï¼Œé‚£æˆ‘å¯åŠ¨å•èŠ‚ç‚¹çš„ Broker å®ä¾‹è¿˜èƒ½æ­£å¸¸ä½¿ç”¨ä¹ˆï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":484178,"discussion_content":"0.11ç‰ˆæœ¬ä¹‹åä¸èƒ½ä½¿ç”¨äº†ï¼Œé™¤éä½ å°†offsets.topic.replication.factorè®¾ç½®æˆ1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581985449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":152598,"user_name":"feifei","can_delete":false,"product_type":"c1","uid":1258380,"ip_address":"","ucode":"BFA3BE8D8773A7","user_header":"https://static001.geekbang.org/account/avatar/00/13/33/8c/23eef8d7.jpg","comment_is_top":false,"comment_ctime":1574048057,"is_pvip":false,"replies":[{"id":"58749","content":"æ¯”è¾ƒè€çš„ç‰ˆæœ¬ä¸­offsets.topic.replication.factorå‚æ•°å€¼å¹¶ä¸ä¼šè¢«ä¸¥æ ¼éµå®ˆï¼Œä½ å¯ä»¥æ‰‹åŠ¨å°†__consumer_offsetsçš„rfå€¼è°ƒé«˜","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1574130598,"ip_address":"","comment_id":152598,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5869015353","product_id":100029201,"comment_content":"ä¸ºä»€ä¹ˆæˆ‘çš„kafka consumerè‡ªåŠ¨åˆ›å»ºçš„ä½ç§»ä¸»é¢˜æ²¡æœ‰å‰¯æœ¬ï¼Œå°±åªæœ‰50ä¸ªåˆ†åŒº","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":474870,"discussion_content":"æ¯”è¾ƒè€çš„ç‰ˆæœ¬ä¸­offsets.topic.replication.factorå‚æ•°å€¼å¹¶ä¸ä¼šè¢«ä¸¥æ ¼éµå®ˆï¼Œä½ å¯ä»¥æ‰‹åŠ¨å°†__consumer_offsetsçš„rfå€¼è°ƒé«˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1574130598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137006,"user_name":"Mick","can_delete":false,"product_type":"c1","uid":1391216,"ip_address":"","ucode":"5CCE3E2BDB110A","user_header":"https://static001.geekbang.org/account/avatar/00/15/3a/70/a874d69c.jpg","comment_is_top":false,"comment_ctime":1569574756,"is_pvip":false,"replies":[{"id":"52560","content":"æˆ‘è®°å¾—åº”è¯¥åªæœ‰groupidå§ï¼Œç”šè‡³è¿ä¸»é¢˜åéƒ½æ²¡æœ‰ã€‚ä½ç§»ä¸»é¢˜é‡Œé¢æœ‰ä¸¤ç±»æ¶ˆæ¯ï¼šä¸€ç±»æ˜¯ä¿å­˜æ¶ˆè´¹è€…æ¶ˆè´¹ä½ç§»çš„æ¶ˆæ¯ï¼Œkeyæ˜¯&lt;groupId, topic, partition&gt;ï¼›å¦ä¸€ç±»æ˜¯ç»„æ³¨å†Œæ¶ˆæ¯ï¼Œkeyæ˜¯groupid","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1569582302,"ip_address":"","comment_id":137006,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5864542052","product_id":100029201,"comment_content":"è€å¸ˆ,è¯·é—®ä¸‹ä¸ºä»€ä¹ˆæˆ‘çš„ä½ç§»ä¸»é¢˜çš„key(&lt;Group IDï¼Œä¸»é¢˜åï¼Œåˆ†åŒºå· &gt;) æ²¡æœ‰åˆ†åŒºå· ï¼Œåªæœ‰Group IDå’Œä¸»é¢˜åã€‚","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":468898,"discussion_content":"æˆ‘è®°å¾—åº”è¯¥åªæœ‰groupidå§ï¼Œç”šè‡³è¿ä¸»é¢˜åéƒ½æ²¡æœ‰ã€‚ä½ç§»ä¸»é¢˜é‡Œé¢æœ‰ä¸¤ç±»æ¶ˆæ¯ï¼šä¸€ç±»æ˜¯ä¿å­˜æ¶ˆè´¹è€…æ¶ˆè´¹ä½ç§»çš„æ¶ˆæ¯ï¼Œkeyæ˜¯&amp;lt;groupId, topic, partition&amp;gt;ï¼›å¦ä¸€ç±»æ˜¯ç»„æ³¨å†Œæ¶ˆæ¯ï¼Œkeyæ˜¯groupid","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1569582302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1547667,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","nickname":"æœ´ç´ æŸ æª¬c","note":"","ucode":"2D4CBB70D801B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329339,"discussion_content":"æ„Ÿè§‰ä¸»é¢˜åªç®¡é‚£ä¸ªç»„æ¶ˆè´¹åˆ°åˆ†åŒºçš„ä»€ä¹ˆä½å­ï¼Œè‡³äºç»„å†…é‚£ä¸ªæ¶ˆè´¹è€…å®ä¾‹æ¶ˆè´¹çš„è¿™ä¸ªåˆ†åŒºï¼Œåº”è¯¥æ˜¯æœ‰ç»„é‡Œé¢çš„åè°ƒè€…ç»´æŠ¤çš„ï¼Œæ¯•ç«Ÿè®¿é—®åˆ†åŒºé¦–å…ˆè¦åè°ƒè€…åˆ†é…","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606369262,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1270262,"avatar":"https://static001.geekbang.org/account/avatar/00/13/61/f6/1d6b548a.jpg","nickname":"wang","note":"","ucode":"C1A3BCACCB188E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":258262,"discussion_content":"æˆ‘åœ¨kafka tool ä¸Šçœ‹åˆ°çš„ä¹Ÿæ˜¯åªæœ‰GroupId Topic è¿™æ ·çš„å½¢å¼ï¼Œä½†æ˜¯è¿™ä¸ªæ¶ˆè´¹è€…ä¸»é¢˜ä¸‹å´æœ‰åˆ†åŒºï¼Œç„¶åæ¯ä¸ªåˆ†åŒºæœ‰å¯¹åº”çš„groupId çš„æ¶ˆè´¹ä½ç§»è®°å½•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588671472,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":129053,"user_name":"å¼€æ°´","can_delete":false,"product_type":"c1","uid":1528555,"ip_address":"","ucode":"651491C38B925B","user_header":"https://static001.geekbang.org/account/avatar/00/17/52/eb/eec719f3.jpg","comment_is_top":false,"comment_ctime":1567036468,"is_pvip":false,"replies":[{"id":"48171","content":"0.9æ–°ç‰ˆæœ¬consumeråˆšåˆšæ¨å‡ºï¼Œä¸€å †bugï¼ŒçœŸçš„ä¸è¦ç”¨","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1567126829,"ip_address":"","comment_id":129053,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5862003764","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæƒ³é—®ä¸€ä¸‹0.9ç‰ˆæœ¬new consumer apiçœŸçš„å°†åç§»é‡éƒ½å­˜åˆ°ä½ç§»ä¸»é¢˜äº†ä¹ˆï¼Ÿæˆ‘å®éªŒåå‘ç°ç›¸åŒgroup.idï¼Œconsumeré‡å¯ä¹‹åä¼šé‡å¤æ¶ˆè´¹ï¼Œåªæœ‰åœ¨consumerè¿˜å­˜æ´»çš„æ—¶å€™ï¼Œæ‰èƒ½é€šè¿‡Kafka-consumer-group.shä¸­æŸ¥è¯¢åˆ°åç§»é‡ï¼Œæ˜¯ä¸æ˜¯è¿™ä¸ªç‰ˆæœ¬çš„åç§»é‡ä¿å­˜è¿˜å­˜åœ¨bugå‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":465247,"discussion_content":"0.9æ–°ç‰ˆæœ¬consumeråˆšåˆšæ¨å‡ºï¼Œä¸€å †bugï¼ŒçœŸçš„ä¸è¦ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567126829,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":116930,"user_name":"King Yao","can_delete":false,"product_type":"c1","uid":1026946,"ip_address":"","ucode":"B431FD02175B96","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ab/82/b6af9f94.jpg","comment_is_top":false,"comment_ctime":1563940832,"is_pvip":false,"replies":[{"id":"42773","content":"å¯ä»¥è°ƒæ•´ä¹Ÿå¯ä»¥ä¸è°ƒæ•´ï¼Œä¸»è¦æ˜¯ç¡®ä¿ä½ç§»ä¸»é¢˜çš„å‰¯æœ¬æ•°æ»¡è¶³é¢„æœŸå°±å¥½","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1563950092,"ip_address":"","comment_id":116930,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5858908128","product_id":100029201,"comment_content":"è€å¸ˆä½ å¥½ï¼Œæœ€è¿‘æˆ‘ä»¬æœ‰åœ¨æ‰©å®¹Kafkaã€‚è¯·é—®åœ¨ä¸»é¢˜è¿ç§»çš„æ—¶å€™ï¼Œä½ç§»ä¸»é¢˜æ˜¯å¦éœ€è¦è¿ç§»è°ƒæ•´ï¼Œè°¢è°¢","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":459741,"discussion_content":"å¯ä»¥è°ƒæ•´ä¹Ÿå¯ä»¥ä¸è°ƒæ•´ï¼Œä¸»è¦æ˜¯ç¡®ä¿ä½ç§»ä¸»é¢˜çš„å‰¯æœ¬æ•°æ»¡è¶³é¢„æœŸå°±å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563950092,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1547667,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","nickname":"æœ´ç´ æŸ æª¬c","note":"","ucode":"2D4CBB70D801B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329340,"discussion_content":"è€å¸ˆçš„å›ç­” æ„Ÿè§‰æ€»æ˜¯åªè¨€ç‰‡è¯­ï¼Œå¯èƒ½ä»–è‡ªå·±éƒ½ä¸çŸ¥é“ç¡®å®šç­”æ¡ˆï¼Œè¿˜æ˜¯è‡ªå·±æŸ¥èµ„æ–™å§ï¼Œäººæ— å®Œäºº","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606369342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1026946,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ab/82/b6af9f94.jpg","nickname":"King Yao","note":"","ucode":"B431FD02175B96","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":2864,"discussion_content":"æ»¡è¶³é¢„æœŸè¿™ä¸ªæ²¡å¤ªç†è§£ï¼Œè€å¸ˆèƒ½å¦è¯¦ç»†è¯´ä¸‹ä»€ä¹ˆæ˜¯æ»¡è¶³é¢„æœŸå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563981797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":113350,"user_name":"wykkx","can_delete":false,"product_type":"c1","uid":1122358,"ip_address":"","ucode":"ABCDF49E7A95C8","user_header":"https://static001.geekbang.org/account/avatar/00/11/20/36/b3e2f1d5.jpg","comment_is_top":false,"comment_ctime":1562983062,"is_pvip":false,"replies":[{"id":"41423","content":"1.  0.9<br>2. æ¨èä¿å­˜åœ¨Kafkaå†…éƒ¨<br>3. ä¸åœ¨ä¹é‡å¤æ¶ˆè´¹","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1563157257,"ip_address":"","comment_id":113350,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5857950358","product_id":100029201,"comment_content":"è€å¸ˆæˆ‘æƒ³è¯·æ•™å‡ ä¸ªé—®é¢˜ï¼Œ<br>1ï¼Œå…·ä½“æ˜¯ä»å“ªä¸ªç‰ˆæœ¬å¼€å§‹ï¼Œä½ç§»æ•°æ®å¼€å§‹é»˜è®¤çš„ä¸å­˜åœ¨zkè€Œæ˜¯å­˜åœ¨è‡ªå·±å†…éƒ¨äº†ï¼Ÿ<br>2ï¼Œå¦‚æœéªŒè¯ç›®å‰ä½¿ç”¨çš„ç¯å¢ƒï¼Œä½ç§»æ˜¯å­˜åœ¨å†…éƒ¨è¿˜æ˜¯zkä¸Šï¼Ÿ<br>3ï¼Œä»€ä¹ˆåœºæ™¯ä¸‹é€‚åˆä½¿ç”¨è‡ªåŠ¨æäº¤ä½ç§»ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":458180,"discussion_content":"1.  0.9\n2. æ¨èä¿å­˜åœ¨Kafkaå†…éƒ¨\n3. ä¸åœ¨ä¹é‡å¤æ¶ˆè´¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1563157257,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1547667,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","nickname":"æœ´ç´ æŸ æª¬c","note":"","ucode":"2D4CBB70D801B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329341,"discussion_content":"ç¬¬äºŒä¸ªé—®é¢˜ å»zkä¸Šçœ‹ä¸€ä¸‹nodeä¿¡æ¯ä¸ä¹…çŸ¥é“äº†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606369373,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112423,"user_name":"æ— è‡æœ‹å‹","can_delete":false,"product_type":"c1","uid":1035562,"ip_address":"","ucode":"80482C5F0464A3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/2a/bdbed6ed.jpg","comment_is_top":false,"comment_ctime":1562730838,"is_pvip":false,"replies":[{"id":"40983","content":"offset topicåœ¨æ•´ä¸ªé›†ç¾¤ä¸Šè¢«åˆ›å»ºå‡ºæ¥ï¼Œå¹¶ä¸”åªä¼šåˆ›å»ºä¸€æ¬¡","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562804480,"ip_address":"","comment_id":112423,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5857698134","product_id":100029201,"comment_content":"è€å¸ˆï¼Œoffset topicæ˜¯åœ¨coordinatorå¯¹åº”çš„brokerä¸Šåˆ›å»ºä¸”åªåˆ›å»ºä¸€æ¬¡æ˜¯ä¹ˆï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457728,"discussion_content":"offset topicåœ¨æ•´ä¸ªé›†ç¾¤ä¸Šè¢«åˆ›å»ºå‡ºæ¥ï¼Œå¹¶ä¸”åªä¼šåˆ›å»ºä¸€æ¬¡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562804480,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1547667,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","nickname":"æœ´ç´ æŸ æª¬c","note":"","ucode":"2D4CBB70D801B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329345,"discussion_content":"åˆ›å»ºå¤šæ¬¡ å°±çœŸçš„å‡ºé—®é¢˜äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606369486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112289,"user_name":"ç‰å‰‘å†°é”‹","can_delete":false,"product_type":"c1","uid":1214202,"ip_address":"","ucode":"8EA56A71BA5B22","user_header":"https://static001.geekbang.org/account/avatar/00/12/86/fa/4bcd7365.jpg","comment_is_top":false,"comment_ctime":1562716619,"is_pvip":false,"replies":[{"id":"40828","content":"â€œæ¯ä¸ªä¸»é¢˜ä¹Ÿä¼šè®°å½•ä½ç§»ï¼Œè·Ÿä¸»é¢˜ä½ç§»æœ‰å•¥åŒºåˆ«â€ è¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæ²¡çœ‹æ‡‚ã€‚ã€‚ã€‚ã€‚<br><br>â€œæˆ‘çº¿ä¸Šä¸»é¢˜ä½ç½®æ²¡æœ‰å‰¯æœ¬â€  è¿™åˆæ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚ã€‚ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562720755,"ip_address":"","comment_id":112289,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5857683915","product_id":100029201,"comment_content":"ç°åœ¨kafkaä¸­åŒæ ·è¿˜åœ¨ä½¿ç”¨zk,æ¯ä¸ªä¸»é¢˜ä¹Ÿä¼šè®°å½•ä½ç§»ï¼Œè·Ÿä¸»é¢˜ä½ç§»æœ‰å•¥åŒºåˆ«ï¼Ÿå¦å¤–æˆ‘çº¿ä¸Šä¸»é¢˜ä½ç½®æ²¡æœ‰å‰¯æœ¬ï¼Œä¹‹å‰ä»æ¥æ²¡åŠ¨è¿‡ï¼Œè¿™æ˜¯å•¥åŸå› å¯¼è‡´çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457660,"discussion_content":"â€œæ¯ä¸ªä¸»é¢˜ä¹Ÿä¼šè®°å½•ä½ç§»ï¼Œè·Ÿä¸»é¢˜ä½ç§»æœ‰å•¥åŒºåˆ«â€ è¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæ²¡çœ‹æ‡‚ã€‚ã€‚ã€‚ã€‚\n\nâ€œæˆ‘çº¿ä¸Šä¸»é¢˜ä½ç½®æ²¡æœ‰å‰¯æœ¬â€  è¿™åˆæ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚ã€‚ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562720755,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112161,"user_name":"nico","can_delete":false,"product_type":"c1","uid":1068837,"ip_address":"","ucode":"A7A1471CB238AB","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/25/75316ed6.jpg","comment_is_top":false,"comment_ctime":1562676610,"is_pvip":false,"replies":[{"id":"40833","content":"éœ€è¦è‡ªå·±å†™ä»£ç å®ç°ï¼ŒKafkaæ²¡æœ‰å¤©ç„¶æä¾›è¿™ä¸ªåŠŸèƒ½","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562721153,"ip_address":"","comment_id":112161,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5857643906","product_id":100029201,"comment_content":"å¤§ç¥ Kafkaå¯ä»¥å‘é€ å®šæ—¶æ¶ˆæ¯å—ï¼Œåˆ¶å®šæŸä¸€æ—¶åˆ»æ¥å—åˆ°æ¶ˆæ¯ æ‹œæ‰˜ğŸ™","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457604,"discussion_content":"éœ€è¦è‡ªå·±å†™ä»£ç å®ç°ï¼ŒKafkaæ²¡æœ‰å¤©ç„¶æä¾›è¿™ä¸ªåŠŸèƒ½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562721153,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1000347,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/43/9b/50927dfc.jpg","nickname":"å°é£","note":"","ucode":"4C126548FBA94C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":45446,"discussion_content":"rocket mq æ”¯æŒã€‚å“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1573039442,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111855,"user_name":"monkay","can_delete":false,"product_type":"c1","uid":1066182,"ip_address":"","ucode":"07C0BB8A47799A","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/pc41FOKAiabVaaKiawibEm7zglvnsYBnYeRiaSAElf9ciczovXmXmI0hOeR6U9RULFtMoqX5kobNttvwXCLsUM9Hbcg/132","comment_is_top":false,"comment_ctime":1562631898,"is_pvip":false,"replies":[{"id":"40681","content":"éƒ½å·²ç»åœåˆ°ç„¶åä½ç§»æ•°æ®å·²è¢«åˆ é™¤","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562634473,"ip_address":"","comment_id":111855,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5857599194","product_id":100029201,"comment_content":"ä¸€æ—¦æŸä¸ª Consumer Group ä¸‹çš„æ‰€æœ‰ Consumer å®ä¾‹éƒ½åœæ­¢äº†ï¼Œè€Œä¸”å®ƒä»¬çš„ä½ç§»æ•°æ®éƒ½å·²è¢«åˆ é™¤æ—¶ï¼ŒKafka ä¼šå‘ä½ç§»ä¸»é¢˜çš„å¯¹åº”åˆ†åŒºå†™å…¥ tombstone æ¶ˆæ¯ï¼Œè¡¨æ˜è¦å½»åº•åˆ é™¤è¿™ä¸ª Group çš„ä¿¡æ¯ã€‚<br><br><br>ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå½»åº•åˆ é™¤GROUPçš„ä¿¡æ¯å‘¢ï¼Ÿå¦‚æœGROUPä¸‹æ‰€æœ‰consumerå®ä¾‹éƒ½åŒæ—¶åœæ‰é‡å¯ä¼šå‡ºç°è¿™ç§æƒ…å†µå—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457473,"discussion_content":"éƒ½å·²ç»åœåˆ°ç„¶åä½ç§»æ•°æ®å·²è¢«åˆ é™¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562634473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350631,"user_name":"ppd0705","can_delete":false,"product_type":"c1","uid":1155646,"ip_address":"","ucode":"EB63D4E3FD1E9A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKotsBr2icbYNYlRSlicGUD1H7lulSTQUAiclsEz9gnG5kCW9qeDwdYtlRMXic3V6sj9UrfKLPJnQojag/132","comment_is_top":false,"comment_ctime":1657069851,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1657069851","product_id":100029201,"comment_content":"kafka-consumer-group.sh å¯ä»¥æŸ¥çœ‹ consumer-group çš„çŠ¶æ€ï¼Œè¯·é—®å¦‚ä½•æŸ¥çœ‹ standalonw consumer çš„çŠ¶æ€å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":345532,"user_name":"liuuu","can_delete":false,"product_type":"c1","uid":2446808,"ip_address":"","ucode":"33DF7F5AC6900E","user_header":"https://static001.geekbang.org/account/avatar/00/25/55/d8/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1652360655,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1652360655","product_id":100029201,"comment_content":"æœ‰ä¸ªå°ç¿»è¯‘å»ºè®®ï¼Œåƒä¸“ä¸šæœ¯è¯­ã€‚topic ã€ consumer offset ç­‰å°±ä½¿ç”¨è‹±è¯­ï¼Œä¸ç”¨ç¿»è¯‘æˆä¸­æ–‡ã€‚","like_count":0},{"had_liked":false,"id":339905,"user_name":"i_chase","can_delete":false,"product_type":"c1","uid":1795511,"ip_address":"","ucode":"09C41C863F4EA3","user_header":"https://static001.geekbang.org/account/avatar/00/1b/65/b7/058276dc.jpg","comment_is_top":false,"comment_ctime":1648457398,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1648457398","product_id":100029201,"comment_content":"â€œä¸€æ—¦æŸä¸ª Consumer Group ä¸‹çš„æ‰€æœ‰ Consumer å®ä¾‹éƒ½åœæ­¢äº†ï¼Œè€Œä¸”å®ƒä»¬çš„ä½ç§»æ•°æ®éƒ½å·²è¢«åˆ é™¤æ—¶ï¼ŒKafka ä¼šå‘ä½ç§»ä¸»é¢˜çš„å¯¹åº”åˆ†åŒºå†™å…¥ tombstone æ¶ˆæ¯ï¼Œè¡¨æ˜è¦å½»åº•åˆ é™¤è¿™ä¸ª Group çš„ä¿¡æ¯â€œ è¿™é‡Œä½ç§»æ•°æ®è¢«åˆ é™¤ï¼ŒæŒ‡çš„æ˜¯è¿‡æœŸå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":339903,"user_name":"i_chase","can_delete":false,"product_type":"c1","uid":1795511,"ip_address":"","ucode":"09C41C863F4EA3","user_header":"https://static001.geekbang.org/account/avatar/00/1b/65/b7/058276dc.jpg","comment_is_top":false,"comment_ctime":1648457219,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1648457219","product_id":100029201,"comment_content":"log cleaneråªå¯¹å•ä¸ªpartitionç”Ÿæ•ˆ","like_count":0},{"had_liked":false,"id":339805,"user_name":"Geek_417e74","can_delete":false,"product_type":"c1","uid":2113978,"ip_address":"","ucode":"BEA8915879274D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLLniccwC1Mootc7IQsRGUTX3ZkkCKPc7lYV0g8CAqscWtAjd8xkHYcY3UFbYvicm42FXuAO5bZP6WQ/132","comment_is_top":false,"comment_ctime":1648394512,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648394512","product_id":100029201,"comment_content":"è€å¸ˆï¼Œå‰é¢è¯´æ¶ˆæ¯ä»¥MessageSetä¸ºå•ä½ç”Ÿäº§å’Œæ¶ˆè´¹ï¼Œæ¶ˆè´¹æ—¶ç”¨çš„zero-copyã€‚é‚£ä¹ˆè¿™é‡Œoffsetæ˜¯MessageSetçš„ä½ç§»ä¹ˆï¼Ÿè¿™ä¸ªoffsetæ˜¯ä¸€ä¸ªé¡ºåºé€’å¢çš„å€¼ï¼Ÿæ¶ˆè´¹offsetçš„åˆå§‹å€¼æ ¹æ® lastest æˆ– earliest æ¥ç¡®å®šï¼Œæ¯æ¬¡æäº¤ä½ç§»æ˜¯ä»¥MessageSetä¸ºå•ä½ï¼Œè¿™ä¸ªoffsetè‡ªåŠ¨+1ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":336112,"user_name":"èæ€æ¯”äºš","can_delete":false,"product_type":"c1","uid":2066849,"ip_address":"","ucode":"71A9C184E9832C","user_header":"https://static001.geekbang.org/account/avatar/00/1f/89/a1/2e2d6d0b.jpg","comment_is_top":false,"comment_ctime":1645933801,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645933801","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆå¥½ï¼Œæˆ‘ä»¬è¿™è¾¹æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼šè®¾ç½®åŸºäºæ—¶é—´&#47;ç©ºé—´åˆ é™¤æ¶ˆæ¯çš„ å‚æ•°åï¼Œä¸€æ—¦å¯åŠ¨åˆ é™¤ï¼Œæœ‰äº›å°çš„topicæ¶ˆæ¯ä¹Ÿè¢«æ¸…ç†äº†ï¼ˆä¸šåŠ¡éœ€æ±‚æ˜¯è¦ä¿ç•™çš„è‡³å°‘ä¿ç•™æœ€åä¸¤ä¸ªlogfileï¼‰ï¼›å…³é—­åˆ é™¤åï¼Œç£ç›˜çˆ†äº†ï¼Œè¿™ç§æƒ…å†µæ˜¯å¦ä¹Ÿæ˜¯Log Cleançº¿ç¨‹å¯ä»¥è§£å†³çš„é—®é¢˜å‘¢","like_count":0},{"had_liked":false,"id":325977,"user_name":"Geek_9150ca","can_delete":false,"product_type":"c1","uid":2858605,"ip_address":"","ucode":"0E63818EACA52F","user_header":"","comment_is_top":false,"comment_ctime":1639288325,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639288325","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œè¿˜æƒ³è¯·æ•™ä¸‹ï¼Œæˆ‘è®°å¾—æ—¥å¿—æ¸…ç†ç­–ç•¥æœ‰ä¸¤ç§ï¼Œdeleteå’Œcompactï¼Œè¿™ä¸¤ç§æœ‰å•¥åŒºåˆ«å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":325965,"user_name":"Geek_9150ca","can_delete":false,"product_type":"c1","uid":2858605,"ip_address":"","ucode":"0E63818EACA52F","user_header":"","comment_is_top":false,"comment_ctime":1639281575,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1639281575","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œæˆ‘æƒ³é—®ä¸‹å…³äºæ‰‹åŠ¨æäº¤ä½ç§»æ˜¯ä¸æ˜¯ä¼šé™ä½ååé‡å‘¢ï¼Ÿå¦‚æœä¼šé™ä½ååé‡ï¼Œé‚£å¤§æ¦‚ä¼šé™ä½å¤šå°‘ï¼Ÿ","like_count":0},{"had_liked":false,"id":323390,"user_name":"äº‘å¸ˆå…„","can_delete":false,"product_type":"c1","uid":1010459,"ip_address":"","ucode":"4475AF1598FBFD","user_header":"https://static001.geekbang.org/account/avatar/00/0f/6b/1b/4b397b80.jpg","comment_is_top":false,"comment_ctime":1637887078,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637887078","product_id":100029201,"comment_content":"ä½ç§»ä¸»é¢˜çš„ä½ç§»éœ€è¦è®°å½•å—ï¼Œè¿˜æ˜¯æ¯æ¬¡ä»å¤´å¼€å§‹æ¶ˆè´¹å°±è¡Œï¼Œå¦‚æœæœ‰50åˆ†åŒºï¼Œè¦åœ¨å¯åŠ¨æ—¶å€™æ¶ˆè´¹50ä¸ªåˆ†åŒºçš„ä½ç§»æ•°æ®å—","like_count":0},{"had_liked":false,"id":319738,"user_name":"william","can_delete":false,"product_type":"c1","uid":1523230,"ip_address":"","ucode":"6C2307472FA41B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIeNIlPiaxsicB9icTlcsfYMOibnf800aBYvia4pI44L0QRXevEaKbJtcGBLWerRJic66HtHVSdFbFSfU0g/132","comment_is_top":false,"comment_ctime":1635925390,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635925390","product_id":100029201,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ‰ä¸€ä¸ªé—®é¢˜è¯·æ•™ä¸‹<br>1ã€ç°åœ¨æœ‰ä¸€ä¸ªTopicAæœ‰ä¸‰ä¸ªåˆ†ç‰‡ï¼Œæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…(GroupIdä¸ºB)ï¼Œç°åœ¨æ¶ˆè´¹äº†0åˆ†ç‰‡ä¸Šçš„æ¶ˆæ¯ï¼Œä¸‹ä¸€æ¡æ¶ˆæ¯åœ¨1åˆ†ç‰‡ä¸Šï¼Œé‚£ä¹ˆæ¶ˆè´¹è€…æ˜¯å¦‚ä½•å»åˆ‡æ¢åˆ°1åˆ†ç‰‡ä¸Šçš„ï¼Ÿ<br>2ã€è¿™ç§æƒ…å†µä¸‹ä½ç§»ä¸»é¢˜ä¸­ä¼šå­˜åœ¨ä¸‰ä¸ªkeyå—? å³BA0 BA1 BA2","like_count":0},{"had_liked":false,"id":313539,"user_name":"Allan","can_delete":false,"product_type":"c1","uid":1310388,"ip_address":"","ucode":"8DA4DBECC2C45C","user_header":"https://static001.geekbang.org/account/avatar/00/13/fe/b4/295338e7.jpg","comment_is_top":false,"comment_ctime":1632479818,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1632479818","product_id":100029201,"comment_content":"1ã€å› ä¸ºæˆ‘ä»¬ä¹‹å‰è¯´è¿‡rebalanceçš„é—®é¢˜ï¼Œä¼šå¯¼è‡´stwé—®é¢˜ã€‚å› ä¸ºä½ç§»ä¸»é¢˜ä¹Ÿæ˜¯ä¸»é¢˜ï¼Œç›¸åº”çš„åˆ†åŒºå˜åŠ¨çš„é—®é¢˜ä¹Ÿä¼šå¯¼è‡´rebalanceï¼Œä»è€Œå½±å“ç¨‹åºçš„æ€§èƒ½é—®é¢˜ã€‚<br>2ã€æ”¾åœ¨kafkaå†…éƒ¨ä¸»é¢˜å°±ä¸ç”¨æ¯æ¬¡ä¸zkäº¤äº’ç½‘ç»œé€šä¿¡äº†ï¼Œä¹Ÿæ˜¯èŠ‚çœäº†èµ„æºï¼Œæå‡äº†æ€§èƒ½é—®é¢˜<br>3ã€äº¤ç»™zkä»¥åï¼Œkafkaå°±å°‘äº†æ—¥å¿—ç®¡ç†é—®é¢˜ï¼Œéšç€æ—¥å¿—è¶Šæ¥è¶Šå¤šï¼Œå¦‚æœè¶…è¿‡å¤ªå¤šç£ç›˜ä¸å¤Ÿäº†ï¼Œæˆ–è€…æ¸…ç†æ—¥å¿—çš„çº¿ç¨‹åœäº†éƒ½ä¼šå½±å“ç¨‹åºï¼Œç»™äº†zkç®¡ç†ä»¥åï¼Œzkæœ¬æ¥å°±æ˜¯ç”¨æ¥åšåè°ƒï¼Œé«˜å¯ç”¨çš„æ¶æ„ï¼Œè¿™æ ·ä¼šä½¿å¾—æ•´ä½“æ¶æ„æ›´åŠ å¥å£®","like_count":0},{"had_liked":false,"id":309179,"user_name":"æ›²ä¸­äºº","can_delete":false,"product_type":"c1","uid":2435542,"ip_address":"","ucode":"57E694B108081F","user_header":"https://static001.geekbang.org/account/avatar/00/25/29/d6/ced1f995.jpg","comment_is_top":false,"comment_ctime":1629969351,"is_pvip":false,"replies":[{"id":"112528","content":"å…¶å®å®é™…æƒ…å†µæ²¡æœ‰ä¸€å®šä¹‹è§„ï¼Œè¿˜æ˜¯æŒ‰ç…§å…·ä½“æµ‹è¯•ç»“æœæ¥è®¾ç½®æœ€å‡†","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1630810175,"ip_address":"","comment_id":309179,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1629969351","product_id":100029201,"comment_content":"è€å¸ˆå¥½ï¼Œç¬¬ä¸€æ¬¡ç•™è¨€å¸Œæœ›è€å¸ˆèƒ½å›ç­”ï¼Œæˆ‘ä»¬å…¬å¸ä¹‹å‰ä½¿ç”¨kafkaï¼Œtopicçš„partition æ˜¯è®¾ç½®æˆConsumerçš„kå€ï¼Œæˆ‘æƒ³çŸ¥é“æ€ä¹ˆå»å¹³è¡¡è¿™ä¸ªk, è®¾ç½®å¤ªå°æˆ–è€…å¤ªå¤§æœ‰ä»€ä¹ˆé—®é¢˜","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525773,"discussion_content":"å…¶å®å®é™…æƒ…å†µæ²¡æœ‰ä¸€å®šä¹‹è§„ï¼Œè¿˜æ˜¯æŒ‰ç…§å…·ä½“æµ‹è¯•ç»“æœæ¥è®¾ç½®æœ€å‡†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630810175,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308390,"user_name":"é“¶å­","can_delete":false,"product_type":"c1","uid":1125765,"ip_address":"","ucode":"5233F5FB5D2755","user_header":"https://static001.geekbang.org/account/avatar/00/11/2d/85/55f19976.jpg","comment_is_top":false,"comment_ctime":1629596807,"is_pvip":true,"replies":[{"id":"112531","content":"è®¡ç®—Math.abs(&quot;groupId&quot;.hashCode % 50)å¾—å‡ºæ”¾åœ¨__consumer_offsets topicçš„å“ªä¸ªåˆ†åŒºä¸Šï¼Œç„¶åä¿å­˜åœ¨è¯¥åˆ†åŒºleaderå‰¯æœ¬æ‰€åœ¨çš„brokerä¸Šã€‚å¯¹äºæ¯ä¸ªconsumer groupè€Œè¨€ï¼Œconsumerç¡®å®å¯èƒ½éœ€è¦ä»ä¸åŒçš„brokerä¸Šå»è·å–åç§»ä¿¡æ¯","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1630810534,"ip_address":"","comment_id":308390,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1629596807","product_id":100029201,"comment_content":"ä¹‹å‰ç”¨zkä¿è¯kafkaå…ƒä¿¡æ¯é«˜å¯ç”¨ï¼Œconsume<br>è¿æ¥zkå³å¯è·å–æ‰€æœ‰çš„åç§»ä¿¡æ¯ï¼Œé‚£ä¹ˆç°åœ¨ç”¨__consumer_offsetåç§»æ¶ˆæ¯å­˜æ”¾åœ¨é‚£äº›brokerä¸‹ï¼Œæœ‰ä»€ä¹ˆè§„åˆ™ä¹ˆï¼Ÿ<br>å¦‚æœ__consumer_offsetså­˜æ”¾åœ¨nä¸ªbrokerä¸‹ï¼Œæ˜¯ä¸æ˜¯æ¶ˆè´¹è€…éœ€è¦è¿æ¥nä¸ªbrokeræ‰å¯ä»¥è·å–åç§»ä¿¡æ¯å‘¢ï¼Ÿè€å¸ˆæœ‰æ—¶é—´å¸®å¿™è§£ç­”ä¸€ä¸‹ï¼Œæ„Ÿè°¢ğŸ™","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525478,"discussion_content":"è®¡ç®—Math.abs(&amp;quot;groupId&amp;quot;.hashCode % 50)å¾—å‡ºæ”¾åœ¨__consumer_offsets topicçš„å“ªä¸ªåˆ†åŒºä¸Šï¼Œç„¶åä¿å­˜åœ¨è¯¥åˆ†åŒºleaderå‰¯æœ¬æ‰€åœ¨çš„brokerä¸Šã€‚å¯¹äºæ¯ä¸ªconsumer groupè€Œè¨€ï¼Œconsumerç¡®å®å¯èƒ½éœ€è¦ä»ä¸åŒçš„brokerä¸Šå»è·å–åç§»ä¿¡æ¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630810534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":306382,"user_name":"å—è¶…å‡¡","can_delete":false,"product_type":"c1","uid":2678558,"ip_address":"","ucode":"A2A160D483BBB0","user_header":"","comment_is_top":false,"comment_ctime":1628521083,"is_pvip":false,"replies":[{"id":"112537","content":"æ²¡æ˜ç™½è¿™ä¸ªé—®é¢˜ã€‚å‰åä¸¤å¥è¯ä¸å†²çªå•Šï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1630810829,"ip_address":"","comment_id":306382,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1628521083","product_id":100029201,"comment_content":"è‡ªåŠ¨æäº¤æ–¹å¼ä¸‹ï¼Œä¸ºä»€ä¹ˆconsumerä¼šä¸æ–­çš„æäº¤ä½ç§»åˆ°ä½ç§»ä¸»é¢˜å‘¢ï¼Ÿä¸æ˜¯æœ‰æ¶ˆæ¯æ¥äº†ï¼Œpollåˆ°æ¶ˆæ¯æ‰ä¼šè‡ªåŠ¨æäº¤ä½ç§»å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524738,"discussion_content":"æ²¡æ˜ç™½è¿™ä¸ªé—®é¢˜ã€‚å‰åä¸¤å¥è¯ä¸å†²çªå•Šï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630810829,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296915,"user_name":"Zm","can_delete":false,"product_type":"c1","uid":1448893,"ip_address":"","ucode":"831FF80F07E965","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKj4w4lW7ibGEVxPv8wS1CrXKDeBz3RAaAdISxQSD23uUpV3wicsIMepaYZE8GzRcWmSpjet5NDN4MA/132","comment_is_top":false,"comment_ctime":1623224446,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1623224446","product_id":100029201,"comment_content":"å¥½é•¿æ—¶é—´çš„ç–‘æƒ‘ç»ˆäºè¢«è§£å†³äº†ã€‚","like_count":0},{"had_liked":false,"id":296772,"user_name":"zmysang","can_delete":false,"product_type":"c1","uid":1642663,"ip_address":"","ucode":"8A98057E7819DD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/tjhOILHBAmlx6YiaTZJzqzxn1uyB6XpdvGDIZhBn127TYEcoLLzxRiaKvtVd3HllQqPx7cqf2YmibyBUgGGGJPDkw/132","comment_is_top":false,"comment_ctime":1623154886,"is_pvip":false,"replies":[{"id":"108494","content":"å¦‚æœå…¶ä¸­çš„æ¶ˆè´¹è€…Aå–å‡ºäº†æ¶ˆæ¯1ï¼Œæ¶ˆè´¹è€…bå–å‡ºäº†æ¶ˆæ¯2ã€‚ --- ä¸å¤ªå¯èƒ½å‡ºç°è¿™ç§æƒ…å†µã€‚å› ä¸ºä¸€æ—¦Aè´Ÿè´£æŸä¸ªåˆ†åŒºï¼ŒBä¸å¯èƒ½åœ¨åŒä¸€æ—¶é—´ä¹Ÿæ¶ˆè´¹è¿™ä¸ªåˆ†åŒºã€‚å½“ç„¶ä½ è¯´çš„æƒ…å†µå¯¹äºå¤šçº¿ç¨‹æ¶ˆè´¹æ¥è¯´æ˜¯æœ‰å¯èƒ½çš„ï¼Œè¯¾ç¨‹åé¢åº”è¯¥æœ‰å¤šçº¿ç¨‹æ¶ˆè´¹çš„ä¾‹å­ã€‚ç®€å•æ¥è¯´ï¼Œä½¿ç”¨å¤šçº¿ç¨‹çš„è¯ï¼Œéœ€è¦ä¸¥æ ¼æ§åˆ¶æäº¤ä½ç§»çš„åŠ¨ä½œï¼Œè‡³å°‘åªèƒ½è®©ä¸€ä¸ªçº¿ç¨‹æ¥æäº¤ä½ç§»","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1624497866,"ip_address":"","comment_id":296772,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623154886","product_id":100029201,"comment_content":"è¯·é—®è€å¸ˆï¼Œå¦‚æœæ˜¯è®¾ç½®ä¸ºä¸è‡ªåŠ¨æäº¤ä½ç§»çš„æƒ…å†µä¸‹ï¼Œæœ‰ä¸€ä¸ªæ¶ˆè´¹ç»„å¯¹æŸä¸€ä¸ªåˆ†åŒºè¿›è¡Œæ¶ˆè´¹ï¼Œå¦‚æœå…¶ä¸­çš„æ¶ˆè´¹è€…Aå–å‡ºäº†æ¶ˆæ¯1ï¼Œæ¶ˆè´¹è€…bå–å‡ºäº†æ¶ˆæ¯2ã€‚ç„¶åæ¶ˆæ¯1æ¶ˆè´¹å¤±è´¥äº†ï¼Œæ²¡æœ‰æäº¤ä½ç§»ï¼›æ¶ˆæ¯2æ¶ˆè´¹æˆåŠŸäº†ï¼Œæäº¤ä½ç§»2ï¼Œé‚£ä¹ˆæ¶ˆæ¯1å°±å†ä¹Ÿæ¶ˆè´¹ä¸åˆ°äº†å—ï¼Ÿè¦æ€ä¹ˆé¿å…è¿™ç§ä¸¢å¤±çš„æƒ…å†µï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521577,"discussion_content":"å¦‚æœå…¶ä¸­çš„æ¶ˆè´¹è€…Aå–å‡ºäº†æ¶ˆæ¯1ï¼Œæ¶ˆè´¹è€…bå–å‡ºäº†æ¶ˆæ¯2ã€‚ --- ä¸å¤ªå¯èƒ½å‡ºç°è¿™ç§æƒ…å†µã€‚å› ä¸ºä¸€æ—¦Aè´Ÿè´£æŸä¸ªåˆ†åŒºï¼ŒBä¸å¯èƒ½åœ¨åŒä¸€æ—¶é—´ä¹Ÿæ¶ˆè´¹è¿™ä¸ªåˆ†åŒºã€‚å½“ç„¶ä½ è¯´çš„æƒ…å†µå¯¹äºå¤šçº¿ç¨‹æ¶ˆè´¹æ¥è¯´æ˜¯æœ‰å¯èƒ½çš„ï¼Œè¯¾ç¨‹åé¢åº”è¯¥æœ‰å¤šçº¿ç¨‹æ¶ˆè´¹çš„ä¾‹å­ã€‚ç®€å•æ¥è¯´ï¼Œä½¿ç”¨å¤šçº¿ç¨‹çš„è¯ï¼Œéœ€è¦ä¸¥æ ¼æ§åˆ¶æäº¤ä½ç§»çš„åŠ¨ä½œï¼Œè‡³å°‘åªèƒ½è®©ä¸€ä¸ªçº¿ç¨‹æ¥æäº¤ä½ç§»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624497866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":296630,"user_name":"Geek6530","can_delete":false,"product_type":"c1","uid":2328982,"ip_address":"","ucode":"8A5E02A73BEF25","user_header":"","comment_is_top":false,"comment_ctime":1623073279,"is_pvip":false,"replies":[{"id":"107771","content":"æ„Ÿè°¢æ‚¨çš„åé¦ˆ~","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1623119897,"ip_address":"","comment_id":296630,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1623073279","product_id":100029201,"comment_content":"è®²äº†è¿™ä¹ˆå¤šï¼Œå‘½ä»¤éƒ½æ²¡æ•²è¿‡ï¼Œtopicéƒ½æ²¡åˆ›å»ºè¿‡ï¼Œç”Ÿäº§æ¶ˆè´¹éƒ½æ²¡æ¼”ç¤º","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521528,"discussion_content":"æ„Ÿè°¢æ‚¨çš„åé¦ˆ~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623119897,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":295000,"user_name":"ç†ŠçŒ«","can_delete":false,"product_type":"c1","uid":1080238,"ip_address":"","ucode":"23C85117A16BEF","user_header":"https://static001.geekbang.org/account/avatar/00/10/7b/ae/66ae403d.jpg","comment_is_top":false,"comment_ctime":1622177531,"is_pvip":false,"replies":[{"id":"107166","content":"ç†è®ºä¸Šä¼šçš„ï¼Œä½†å®é™…ä¸Šä¸­ä¸ä¼šç¢°åˆ°ã€‚æ¯•ç«Ÿæ˜¯ä¸ªlongå‹","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1622353380,"ip_address":"","comment_id":295000,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1622177531","product_id":100029201,"comment_content":"è€å¸ˆï¼Œoffsetä¼šä¸åœå¢é•¿æœ€åæº¢å‡ºå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":520909,"discussion_content":"ç†è®ºä¸Šä¼šçš„ï¼Œä½†å®é™…ä¸Šä¸­ä¸ä¼šç¢°åˆ°ã€‚æ¯•ç«Ÿæ˜¯ä¸ªlongå‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1622353380,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":291702,"user_name":"acupple","can_delete":false,"product_type":"c1","uid":1086927,"ip_address":"","ucode":"D3E908E2EB59B1","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJByKiaE1TUInTDdemFvJib3s1iahmYWGddf4R9bFRlPRI5hPP70DhqhNN2gJEKj2njIX7g0ULHg8Ojw/132","comment_is_top":false,"comment_ctime":1620441545,"is_pvip":false,"replies":[{"id":"105693","content":"å‘è¯¥ä¸»é¢˜è·å–å¯¹åº”çš„offsetæ•°æ®","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1620613727,"ip_address":"","comment_id":291702,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1620441545","product_id":100029201,"comment_content":"é‚£consumerå¯åŠ¨çš„å®æ—¶ï¼Œå¦‚ä½•ä½¿ç”¨è¿™ä¸ªä½ç§»ä¸»é¢˜çš„æ•°æ®å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519545,"discussion_content":"å‘è¯¥ä¸»é¢˜è·å–å¯¹åº”çš„offsetæ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620613727,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":290516,"user_name":"å°ç†Š","can_delete":false,"product_type":"c1","uid":1245833,"ip_address":"","ucode":"A7635ED68A8390","user_header":"https://static001.geekbang.org/account/avatar/00/13/02/89/f8331e9c.jpg","comment_is_top":false,"comment_ctime":1619598629,"is_pvip":false,"replies":[{"id":"105276","content":"æ ¹æ®consumer groupçš„idè®¡ç®—å»å“ªä¸ªbrokerè·å–ä½ç§»æ•°æ®","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1619599464,"ip_address":"","comment_id":290516,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1619598629","product_id":100029201,"comment_content":"æˆ‘åœ¨æƒ³ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœä¸€ä¸ªbrokerä¸Šçš„æ‰€æœ‰åˆ†åŒºçš„offsetä¿¡æ¯ï¼Œæ”¾åˆ°_consumers_offsetçš„åˆ†åŒºä¸­ï¼Œå½“consumeré‡å¯æ—¶ï¼Œæ€ä¹ˆæ‹¿åˆ°è‡ªå·±çš„æœ€æ–°çš„offsetå‘¢ï¼Ÿéš¾é“æ˜¯å†…éƒ¨æ ¹æ®keyç›´æ¥å–å‡ºï¼Ÿè¿˜æ˜¯æŒ¨ä¸ªæŸ¥è¯¢æ¯”è¾ƒï¼Œæ‰¾åˆ°ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519224,"discussion_content":"æ ¹æ®consumer groupçš„idè®¡ç®—å»å“ªä¸ªbrokerè·å–ä½ç§»æ•°æ®","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619599464,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1245833,"avatar":"https://static001.geekbang.org/account/avatar/00/13/02/89/f8331e9c.jpg","nickname":"å°ç†Š","note":"","ucode":"A7635ED68A8390","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":370979,"discussion_content":"æ ¹æ®idå®šä½åˆ°æŸä¸ªbrokerï¼Œå†…éƒ¨æ˜¯æ€ä¹ˆæ‹¿çš„å‘¢ï¼Ÿæˆ‘æ„Ÿè§‰ä¸€ä¸ªpartirionçºªå½•çš„ä¸åªä¸€ä¸ªconsumer group idçš„offsetå§ ï¼Ÿéœ€è¦æ ¹æ®é‚£ä¸ªkeyï¼ˆidï¼Œtopic,partitionï¼‰ä¸€æ¬¡æ€§å–å‡ºï¼Ÿè¿˜æ˜¯è¦éå†logæ—¥å¿—æ¯”è¾ƒkeyï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619599822,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":286118,"user_name":"é™Œå…®","can_delete":false,"product_type":"c1","uid":1415619,"ip_address":"","ucode":"00CE47CAECD5CD","user_header":"https://static001.geekbang.org/account/avatar/00/15/99/c3/e4f408d4.jpg","comment_is_top":false,"comment_ctime":1617160268,"is_pvip":true,"replies":[{"id":"104163","content":"1ã€å•ä¸ªtopicçš„ç®¡ç†æ‰€å èµ„æºå¹¶æ²¡æœ‰å¤šå°‘ï¼Œè¿™ç‚¹è¿˜å¥½<br>2ã€å°±æ˜¯ä½¿ç”¨äº†Kafkaå‰¯æœ¬æœºåˆ¶æ¥ä¿è¯çš„ä¸€è‡´æ€§ã€‚å¦‚æœè¿™ç‚¹åšä¸åˆ°ï¼Œæ•´ä¸ªKafkaçš„å‰¯æœ¬æœºåˆ¶éƒ½ä¼šåŠ¨æ‘‡ï¼Œæ‰€ä»¥ä¹Ÿè¿˜å¥½<br>3ã€è¿™ç‚¹æˆ‘åŒæ„ã€‚Kafkaä¿æŠ¤æœºåˆ¶åšçš„è¿˜ç®—ä¸é”™ï¼Œä¸è¿‡ä½ ä¾ç„¶å¯ä»¥è¯»å–è¿™ä¸ªtopicçš„æ•°æ®ï¼Œè™½ç„¶ä½ æ— æ³•å‘å®ƒç›´æ¥å‘é€æ¶ˆæ¯<br>4ã€ä¸éœ€è¦åœ¨æ¯ä¸ªbrokerä¸Šã€‚åªéœ€è¦åœ¨å‰¯æœ¬æ‰€åœ¨çš„brokerä¸Šä¿å­˜ï¼Œæ‰€ä»¥ä¹Ÿè¿˜å¥½<br><br>äº‹å®ä¸Šï¼Œ ZooKeeperåé¢ä¼šè¢«å®Œå…¨ç§»é™¤ï¼Œæ‰€æœ‰ZKåšçš„äº‹æƒ…Kafkaéƒ½å‡†å¤‡è‡ªå·±æ¥å¹²","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1617671546,"ip_address":"","comment_id":286118,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1617160268","product_id":100029201,"comment_content":"è€å¸ˆå¥½ï¼Œå°±é—®é¢˜æ¥è¯´ï¼Œæˆ‘æ„Ÿè§‰ä¸zkç›¸æ¯”ï¼Œkafkaç®¡ç†_consumer_offsetsä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªåŠ£åŠ¿ï¼Œä¸»è¦è¿˜æœ‰å‡ ä¸ªé—®é¢˜ï¼Œå¸Œæœ›è€å¸ˆèƒ½å¤Ÿå¸®å¿™è§£ç­”ä¸‹ç–‘æƒ‘ï¼Œè°¢è°¢ï¼š<br>1ã€kafkaéœ€è¦åœ¨é›†ç¾¤å†…éƒ¨å¯¹ä½ç§»è¿›è¡Œç®¡ç†ï¼Œç«äº‰äº†é›†ç¾¤èµ„æºï¼ˆå†…å­˜ï¼Œcpuï¼Œç½‘ç»œI&#47;Oï¼‰<br>2ã€ä¸çŸ¥é“kafkaå†™ä½ç§»ä¿¡æ¯çš„æ–¹å¼æ˜¯æ€æ ·çš„ï¼Ÿä½¿ç”¨äº†ä»€ä¹ˆæ ·çš„ä¸€è‡´æ€§ç®—æ³•ï¼Œä¼šä¸ä¼šå‡ºç°å¤§å¤šæ•°brokeræ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µï¼Ÿä½†æ˜¯ä½¿ç”¨zkï¼Œå¯ä»¥ä¿è¯æ¯æ¬¡è¯»åˆ°çš„ä½ç§»ä¿¡æ¯æ˜¯ä¸€è‡´çš„<br>3ã€ç”¨æˆ·ä½¿ç”¨çš„ä¸å¯æ§ï¼Œä½ç§»ä¿¡æ¯æ˜¯æ™®é€šçš„topicï¼Œæ¶ˆè´¹ç«¯å¯¹å…¶è¿›è¡Œå˜æ›´çš„å¯èƒ½æ€§ä¼šå¢åŠ ï¼ˆè™½ç„¶kafkaæœ‰ç›¸å…³æƒé™æ§åˆ¶ï¼Œä½†æ˜¯è¿™ä¸ªç»´æŠ¤æˆæœ¬åº”è¯¥ä¹Ÿæ¯”zké«˜å§ï¼‰ï¼Œè‹¥ä½¿ç”¨zkè¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œåˆ™å¯ä»¥å¯¹å…¶ç»Ÿä¸€å¤„ç†ã€‚<br>4ã€ç©ºé—´å†—ä½™ï¼Œä½ç§»ä¿¡æ¯æ˜¯å¦éœ€è¦åœ¨æ¯ä¸ªbrokerä¸Šéƒ½è¿›è¡Œä¿å­˜ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517874,"discussion_content":"1ã€å•ä¸ªtopicçš„ç®¡ç†æ‰€å èµ„æºå¹¶æ²¡æœ‰å¤šå°‘ï¼Œè¿™ç‚¹è¿˜å¥½\n2ã€å°±æ˜¯ä½¿ç”¨äº†Kafkaå‰¯æœ¬æœºåˆ¶æ¥ä¿è¯çš„ä¸€è‡´æ€§ã€‚å¦‚æœè¿™ç‚¹åšä¸åˆ°ï¼Œæ•´ä¸ªKafkaçš„å‰¯æœ¬æœºåˆ¶éƒ½ä¼šåŠ¨æ‘‡ï¼Œæ‰€ä»¥ä¹Ÿè¿˜å¥½\n3ã€è¿™ç‚¹æˆ‘åŒæ„ã€‚Kafkaä¿æŠ¤æœºåˆ¶åšçš„è¿˜ç®—ä¸é”™ï¼Œä¸è¿‡ä½ ä¾ç„¶å¯ä»¥è¯»å–è¿™ä¸ªtopicçš„æ•°æ®ï¼Œè™½ç„¶ä½ æ— æ³•å‘å®ƒç›´æ¥å‘é€æ¶ˆæ¯\n4ã€ä¸éœ€è¦åœ¨æ¯ä¸ªbrokerä¸Šã€‚åªéœ€è¦åœ¨å‰¯æœ¬æ‰€åœ¨çš„brokerä¸Šä¿å­˜ï¼Œæ‰€ä»¥ä¹Ÿè¿˜å¥½\n\näº‹å®ä¸Šï¼Œ ZooKeeperåé¢ä¼šè¢«å®Œå…¨ç§»é™¤ï¼Œæ‰€æœ‰ZKåšçš„äº‹æƒ…Kafkaéƒ½å‡†å¤‡è‡ªå·±æ¥å¹²","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617671546,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275651,"user_name":"loma","can_delete":false,"product_type":"c1","uid":2298937,"ip_address":"","ucode":"C5CFC3F0D06000","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoCl6Nxf9oW9tBOaJlH7JqNIiabF8eqMqK1uRhwabXBU3j6kyjVpI2fjm5nZKoZTUA7Cpicb7ajSkrA/132","comment_is_top":false,"comment_ctime":1611633058,"is_pvip":false,"replies":[{"id":"100454","content":"ä¸æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚æœä½ çš„consumer gruopå¾ˆå¤šä¸”æäº¤ä½ç§»å¾ˆé¢‘ç¹ï¼Œè¿™ä¸ªtopicçš„å®¹é‡ç¡®å®å¯èƒ½å‡ºç°å¢åŠ çš„æƒ…å†µã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1612143294,"ip_address":"","comment_id":275651,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1611633058","product_id":100029201,"comment_content":"ç”Ÿäº§å‡ºç°è¿‡_consumer_offsets æŒç»­å¢åŠ  è™½ç„¶é˜¶æ®µæ€§æœ‰å›æ”¶ä¸€äº›ç©ºé—´ ä½†æ˜¯ æ€»ä½“è¶‹åŠ¿æ˜¯ä¸€ç›´ä¸Šæ¶¨ è¯·é—®è€å¸ˆ è¿™ä¸ªå¯èƒ½æ˜¯ä»€ä¹ˆé—®é¢˜","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514426,"discussion_content":"ä¸æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚æœä½ çš„consumer gruopå¾ˆå¤šä¸”æäº¤ä½ç§»å¾ˆé¢‘ç¹ï¼Œè¿™ä¸ªtopicçš„å®¹é‡ç¡®å®å¯èƒ½å‡ºç°å¢åŠ çš„æƒ…å†µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612143294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275520,"user_name":"loma","can_delete":false,"product_type":"c1","uid":2298937,"ip_address":"","ucode":"C5CFC3F0D06000","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoCl6Nxf9oW9tBOaJlH7JqNIiabF8eqMqK1uRhwabXBU3j6kyjVpI2fjm5nZKoZTUA7Cpicb7ajSkrA/132","comment_is_top":false,"comment_ctime":1611569798,"is_pvip":false,"replies":[{"id":"100456","content":"å¯èƒ½å¯¼è‡´ä¸¢å¤±ï¼Œå› ä¸ºtopicä¸å†æŒ‰ç…§compactçš„æ–¹å¼è¿›è¡Œæ¸…ç†ï¼Œè€Œæ˜¯å•çº¯åœ°æŒ‰ç…§å¤§å°æˆ–æ—¶é—´æ¸…ç†ï¼Œå¥½ä¹…ä¸æäº¤ä½ç§»çš„æ¶ˆè´¹è€…ç»„å°±å¯èƒ½ä¸¢å¤±ä½ç§»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1612143392,"ip_address":"","comment_id":275520,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1611569798","product_id":100029201,"comment_content":"@èƒ¡è€å¸ˆ 0.11.Xç‰ˆæœ¬ æŠŠ  __consumer_offsets çš„æ¸…ç†æ–¹å¼æ”¹ä¸ºdelete è€Œä¸æ˜¯compactçš„è¯(æˆ‘çœ‹åˆ°æœ‰äº›äººåœ¨ç½‘ä¸Šä¸ºäº†è§£å†³__consumer_offsetsç£ç›˜ç©ºé—´è¿‡å¤§çš„é—®é¢˜æ˜¯è¿™ä¹ˆå¤„ç†çš„) ä¼šæœ‰ä»€ä¹ˆå½±å“ æ˜¯ä¸æ˜¯å¯èƒ½å¯¼è‡´offsetä¸¢å¤±ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514379,"discussion_content":"å¯èƒ½å¯¼è‡´ä¸¢å¤±ï¼Œå› ä¸ºtopicä¸å†æŒ‰ç…§compactçš„æ–¹å¼è¿›è¡Œæ¸…ç†ï¼Œè€Œæ˜¯å•çº¯åœ°æŒ‰ç…§å¤§å°æˆ–æ—¶é—´æ¸…ç†ï¼Œå¥½ä¹…ä¸æäº¤ä½ç§»çš„æ¶ˆè´¹è€…ç»„å°±å¯èƒ½ä¸¢å¤±ä½ç§»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612143392,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275221,"user_name":"å½’é›¶","can_delete":false,"product_type":"c1","uid":1103208,"ip_address":"","ucode":"C99B8E93009A46","user_header":"https://static001.geekbang.org/account/avatar/00/10/d5/68/2201b6b9.jpg","comment_is_top":false,"comment_ctime":1611394982,"is_pvip":true,"replies":[{"id":"100458","content":"consumerä»brokerè·å–è¦æ¶ˆè´¹åˆ†åŒºçš„ä½ç§»ï¼Œä¸æ˜¯åœ¨æœ¬åœ°ä¿å­˜çš„","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1612143449,"ip_address":"","comment_id":275221,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1611394982","product_id":100029201,"comment_content":"æœ‰ä¸€ä¸ªç‚¹ï¼Œä½œè€…è²Œä¼¼æ²¡æœ‰è¯´æ¸…æ¥š<br><br>å‰æï¼šå¯¹äºæ™®é€šä¸»é¢˜æ¯”å¦‚topic1ï¼Œæœ‰ä¸€ä¸ªconsumer1éœ€è¦ä»å¯¹åº”çš„partition1å»æ‹‰å–æ¶ˆæ¯ï¼ŒåŒæ—¶éœ€è¦å°†æ¶ˆè´¹è¿›åº¦ä»¥&lt;group.id,topic1,partition1&gt;çš„æ ¼å¼æäº¤åˆ°å†…éƒ¨ä¸»é¢˜çš„partition2ä¸Šé¢å»(partition1ä¸ä¸€å®šç­‰äºpartition2)<br><br>é‚£ä¹ˆè¿™ä¸ªconsumer1å»æ‹‰å–æ¶ˆæ¯çš„æ—¶å€™ï¼Œæ€ä¹ˆçŸ¥é“è‡ªå·±çš„æ¶ˆè´¹è¿›åº¦å‘¢ï¼Ÿæˆ‘çš„çŒœæƒ³ï¼š<br><br>1. consumer1å»partition1æ‹‰å–æ¶ˆæ¯çš„æ—¶å€™ï¼Œpartition2å°†ç›¸å…³çš„æ¶ˆè´¹è¿›åº¦å‚¨å­˜èµ·æ¥äº†ï¼Œpartition1æ‰€åœ¨çš„brokerå¯ä»¥è·å–è¿™ä¸ªä¿¡æ¯ï¼Œä»è€ŒçŸ¥é“è¯¥è¿”å›å“ªä¸ªä½ç§»çš„æ¶ˆæ¯ç»™consumerï¼›<br><br>2. consumer1å°†ä½ç§»ä¿¡æ¯æäº¤åˆ°partition2çš„æ—¶å€™ï¼Œæœ¬åœ°å…¶å®ä¹Ÿä¼šæœ‰è®°å½•ï¼Œè¿™æ ·å»æ‹‰å–æ¶ˆæ¯çš„æ—¶å€™ï¼Œå°±çŸ¥é“å…·ä½“çš„ä½ç§»ï¼Œç›´æ¥å‘Šè¯‰brokerå½“å‰çš„æ¶ˆè´¹è¿›åº¦ã€‚å½“consumeré‡å¯ä¹‹åï¼Œéœ€è¦ä»å¯¹åº”çš„partition2è·å–è¯¥éƒ¨åˆ†ä¿¡æ¯ã€‚<br><br>ä¸ªäººå€¾å‘äºç¬¬äºŒç§ã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514269,"discussion_content":"consumerä»brokerè·å–è¦æ¶ˆè´¹åˆ†åŒºçš„ä½ç§»ï¼Œä¸æ˜¯åœ¨æœ¬åœ°ä¿å­˜çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612143449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1103208,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d5/68/2201b6b9.jpg","nickname":"å½’é›¶","note":"","ucode":"C99B8E93009A46","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":347326,"discussion_content":"æ‰€ä»¥èƒ¡è€å¸ˆï¼Œæ˜¯ç¬¬ä¸€ç§æ–¹å¼å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1612194756,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269504,"user_name":"å½’é›¶","can_delete":false,"product_type":"c1","uid":1103208,"ip_address":"","ucode":"C99B8E93009A46","user_header":"https://static001.geekbang.org/account/avatar/00/10/d5/68/2201b6b9.jpg","comment_is_top":false,"comment_ctime":1608687677,"is_pvip":true,"replies":[{"id":"97803","content":"è¿™é‡Œçš„åˆ†åŒº2å’Œåˆ†åŒº5æ˜¯åŒä¸€ä¸ªtopicå—ï¼Ÿæ˜¯æŒ‡__consumer_offsetsï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1608772888,"ip_address":"","comment_id":269504,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1608687677","product_id":100029201,"comment_content":"è€å¸ˆå¥½ï¼Œå’¨è¯¢ä¸‹ã€‚æ¯”å¦‚æ¶ˆè´¹è€…å®ä¾‹ä»åˆ†åŒº2æ‹‰å–æ¶ˆæ¯ï¼Œæäº¤ä½ç§»çš„æ¶ˆæ¯ç¡®æ˜¯åœ¨åˆ†åŒº5ï¼ˆæ–‡ä¸­æ²¡æœ‰çœ‹åˆ°äºŒè€…ä¼šå¯¹åº”èµ·æ¥ï¼‰ï¼Œé‚£ä¹ˆæ‹‰å–çš„æ—¶å€™æ€ä¹ˆçŸ¥é“å…·ä½“çš„è¿›åº¦å‘¢ï¼Ÿæ˜¯brokeræ®µçš„åˆ†åŒºä¼šåŒæ­¥æ¶ˆæ¯å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512301,"discussion_content":"è¿™é‡Œçš„åˆ†åŒº2å’Œåˆ†åŒº5æ˜¯åŒä¸€ä¸ªtopicå—ï¼Ÿæ˜¯æŒ‡__consumer_offsetsï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608772888,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1103208,"avatar":"https://static001.geekbang.org/account/avatar/00/10/d5/68/2201b6b9.jpg","nickname":"å½’é›¶","note":"","ucode":"C99B8E93009A46","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337277,"discussion_content":"å¯èƒ½æ²¡è¯´æ¸…æ¥šï¼Œå†æè¿°ä¸‹ï¼š\næ¯”å¦‚æœ‰ä¸ªä¸šåŠ¡ä¸»é¢˜topicAï¼Œå…¶æœ‰ä¸ªæ¶ˆè´¹è€…å®ä¾‹1ä»åˆ†åŒº2æ‹‰å–ä¿¡æ¯ã€‚åŒæ—¶å®ƒçš„ä½ç§»ç®¡ç†_consumer_offsetsæ˜¯åœ¨åˆ†åŒº5ç®¡ç†ã€‚\né‚£ä¹ˆæ¶ˆè´¹è€…å®ä¾‹1å»ä»åˆ†åŒº2æ‹‰æ¶ˆæ¯çš„æ—¶å€™æ€ä¹ˆçŸ¥é“æ¶ˆæ¯çš„ä½ç§»å‘¢ï¼Ÿå› ä¸ºä½ç§»æ•°æ®æ˜¯åœ¨åˆ†åŒº5ä¿å­˜çš„\nè°¢è°¢è€å¸ˆï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608860490,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269136,"user_name":"ä¸‰ä¸‡æ£µæ ‘","can_delete":false,"product_type":"c1","uid":1270449,"ip_address":"","ucode":"EB361BB4E09AE5","user_header":"https://static001.geekbang.org/account/avatar/00/13/62/b1/3d1fc497.jpg","comment_is_top":false,"comment_ctime":1608535905,"is_pvip":true,"replies":[{"id":"97625","content":"è®°ä¸‹äº†æ‚¨çš„åé¦ˆã€‚åé¢æˆ‘ä»¬ä¼šé…Œæƒ…ä¼˜åŒ–","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1608553355,"ip_address":"","comment_id":269136,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1608535905","product_id":100029201,"comment_content":"å°±ã€‚ã€‚ã€‚æä¸ªå›¾ã€‚å±•ç¤ºä¸€ä¸‹ã€‚åˆ†åŒºå•Šã€‚æäº¤å•Šã€‚è¿™äº›ä¸œè¥¿ä¼šæ›´å¥½æˆ‘è§‰å¾—ã€‚éƒ½æ˜¯æ–‡å­—ï¼Œäº‘é‡Œé›¾é‡Œ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512163,"discussion_content":"è®°ä¸‹äº†æ‚¨çš„åé¦ˆã€‚åé¢æˆ‘ä»¬ä¼šé…Œæƒ…ä¼˜åŒ–","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608553355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":264238,"user_name":"é»„å©·å©·","can_delete":false,"product_type":"c1","uid":1467134,"ip_address":"","ucode":"8B65636C9197A2","user_header":"https://static001.geekbang.org/account/avatar/00/16/62/fe/6d2fa6b9.jpg","comment_is_top":false,"comment_ctime":1606387141,"is_pvip":false,"replies":[{"id":"95844","content":"æœ‰æ¶ˆè´¹è€…å°±æœ‰ä½ç§»çš„æ¦‚å¿µäº†","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1606438035,"ip_address":"","comment_id":264238,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1606387141","product_id":100029201,"comment_content":"è€å¸ˆï¼Œkafkaå‡ ç‰ˆæœ¬ä¸­å¼€å§‹å‡ºç°æ¶ˆè´¹è€…ä½ç§»çš„","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510477,"discussion_content":"æœ‰æ¶ˆè´¹è€…å°±æœ‰ä½ç§»çš„æ¦‚å¿µäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606438035,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":264140,"user_name":"æœ´ç´ æŸ æª¬c","can_delete":false,"product_type":"c1","uid":1547667,"ip_address":"","ucode":"2D4CBB70D801B1","user_header":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","comment_is_top":false,"comment_ctime":1606360713,"is_pvip":false,"replies":[{"id":"95852","content":"æ¶ˆè´¹è€…ä½ç§»æ˜¯groupçº§åˆ«çš„ï¼Œä¸æ˜¯å•ä¸ªæ¶ˆè´¹è€…å®ä¾‹çº§åˆ«çš„","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1606439626,"ip_address":"","comment_id":264140,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1606360713","product_id":100029201,"comment_content":"è€å¸ˆå¥½ï¼Œæƒ³é—®ä¸€ä¸‹ ä½ç§»ä¸»é¢˜çš„Keyä¸­æ²¡æœ‰æ¶ˆè´¹è€…çš„æ ‡è¯†ï¼Œåªæœ‰group idï¼Œæ€ä¹ˆçŸ¥é“è¿™ä¸ªä½ç§»æ˜¯ç»„é‡Œé¢é‚£ä¸ªæ¶ˆè´¹è€…å®ä¾‹çš„ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510437,"discussion_content":"æ¶ˆè´¹è€…ä½ç§»æ˜¯groupçº§åˆ«çš„ï¼Œä¸æ˜¯å•ä¸ªæ¶ˆè´¹è€…å®ä¾‹çº§åˆ«çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606439626,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":257847,"user_name":"Jagger","can_delete":false,"product_type":"c1","uid":1914208,"ip_address":"","ucode":"0BD13223AEE076","user_header":"https://static001.geekbang.org/account/avatar/00/1d/35/60/d3e723a7.jpg","comment_is_top":false,"comment_ctime":1604154167,"is_pvip":true,"replies":[{"id":"93965","content":"å®ƒå’Œæ™®é€šçš„Kafkaä¸»é¢˜æ˜¯ä¸€æ ·çš„ï¼Œæ‰€è°“çš„å¹¶å‘å†™å…¥æœ€ç»ˆä¹Ÿåªä¼šç”±åŒä¸€ä¸ªLogManagerå¯¹è±¡æ‰§è¡Œå†™å…¥","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1604283395,"ip_address":"","comment_id":257847,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1604154167","product_id":100029201,"comment_content":"ä½ç§»ä¸»é¢˜ä¼šä¸ä¼šå‡ºç°å¹¶å‘å†™å…¥çš„é—®é¢˜","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508473,"discussion_content":"å®ƒå’Œæ™®é€šçš„Kafkaä¸»é¢˜æ˜¯ä¸€æ ·çš„ï¼Œæ‰€è°“çš„å¹¶å‘å†™å…¥æœ€ç»ˆä¹Ÿåªä¼šç”±åŒä¸€ä¸ªLogManagerå¯¹è±¡æ‰§è¡Œå†™å…¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604283395,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255574,"user_name":"åŒ—å†¥æœ‰äºº","can_delete":false,"product_type":"c1","uid":1077985,"ip_address":"","ucode":"708F6213BA905E","user_header":"https://static001.geekbang.org/account/avatar/00/10/72/e1/8670abf3.jpg","comment_is_top":false,"comment_ctime":1603375174,"is_pvip":false,"replies":[{"id":"93386","content":"å¦‚æœæ˜¯è®¾ç½®äº†è‡ªåŠ¨æäº¤ä½ç§»ï¼Œrebalanceå‰æ—¶ä¼šè‡ªåŠ¨æäº¤ä½ç§»çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1603675600,"ip_address":"","comment_id":255574,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1603375174","product_id":100029201,"comment_content":"rebalanceä¹‹åï¼Œoffset æ˜¯ä¸æ˜¯éƒ½éœ€è¦é‡æ–°æ›´æ–°ä¸€éï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507760,"discussion_content":"å¦‚æœæ˜¯è®¾ç½®äº†è‡ªåŠ¨æäº¤ä½ç§»ï¼Œrebalanceå‰æ—¶ä¼šè‡ªåŠ¨æäº¤ä½ç§»çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603675600,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1547667,"avatar":"https://static001.geekbang.org/account/avatar/00/17/9d/93/4159edaa.jpg","nickname":"æœ´ç´ æŸ æª¬c","note":"","ucode":"2D4CBB70D801B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":329347,"discussion_content":"ä¸éœ€è¦  å› ä¸ºæœ‰ç»„å†…åè°ƒè€…ï¼Œæ¯•ç«Ÿä¸»é¢˜ä¾¿å®œåªç»´æŠ¤äº†ç»„id","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606369587,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255419,"user_name":"piboye","can_delete":false,"product_type":"c1","uid":1066752,"ip_address":"","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1603339685,"is_pvip":true,"replies":[{"id":"93045","content":"ä½ æ˜¯ç¢°åˆ°ä»€ä¹ˆæ€§èƒ½é—®é¢˜äº†å—ï¼Ÿå¯ä»¥è¯´ä¸‹æˆ‘ä»¬è®¨è®ºä¸‹ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1603353925,"ip_address":"","comment_id":255419,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1603339685","product_id":100029201,"comment_content":"æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯ä¹Ÿæ˜¯ä¸€æ¬¡å†™æ¶ˆæ¯çš„æ“ä½œçš„äº†ï¼Œè¿™æ ·æ€§èƒ½æŸå¤±ä¸æ˜¯æ¯”è¾ƒä¸¥é‡å—ï¼Ÿ<br>æœ‰äººç”¨é«˜æ€§èƒ½çš„ssd æˆ–è€…éæ˜“å¤±æ€§å†…å­˜çš„æ–¹å¼ä¼˜åŒ–å—","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507710,"discussion_content":"ä½ æ˜¯ç¢°åˆ°ä»€ä¹ˆæ€§èƒ½é—®é¢˜äº†å—ï¼Ÿå¯ä»¥è¯´ä¸‹æˆ‘ä»¬è®¨è®ºä¸‹ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603353925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2355391,"avatar":"","nickname":"Geek_110f21","note":"","ucode":"67495EAEAF5D61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333693,"discussion_content":"å†™page cacheæ•ˆç‡å¾ˆé«˜","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607595351,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255416,"user_name":"piboye","can_delete":false,"product_type":"c1","uid":1066752,"ip_address":"","ucode":"7CFD8712857A85","user_header":"https://static001.geekbang.org/account/avatar/00/10/47/00/3202bdf0.jpg","comment_is_top":false,"comment_ctime":1603339405,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1603339405","product_id":100029201,"comment_content":"å› ä¸ºkafka çš„å†™å‰¯æœ¬ä¸æ˜¯å¼ºä¸€è‡´æ¨¡å¼ï¼Œæ¯”zk çš„åŒ–ï¼Œä¼šå‡ºç°æœºå™¨æŒ‚æ‰çš„æ—¶å€™ï¼Œ é‡å¤æ¶ˆè´¹æ¶ˆæ¯ã€‚","like_count":0},{"had_liked":false,"id":254435,"user_name":"æµ®çŸ³æ²‰æœ¨","can_delete":false,"product_type":"c1","uid":2223167,"ip_address":"","ucode":"D585768321B84A","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/mQddXC7nRiaKHTwdficicTB3bH0q5ic5UoSab51Omic7eyLBz0SNcvbLpQnNib7zP1yJFm7xxx4ia81iahfibRVnbTwHmhw/132","comment_is_top":false,"comment_ctime":1603115847,"is_pvip":true,"replies":[{"id":"93047","content":"ç›®å‰åªèƒ½é‡å¯broker","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1603354030,"ip_address":"","comment_id":254435,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1603115847","product_id":100029201,"comment_content":"Log CleaneræŒ‚äº†åº”è¯¥æ€ä¹ˆåŠå‘€","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507393,"discussion_content":"ç›®å‰åªèƒ½é‡å¯broker","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603354030,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":253068,"user_name":"å¯¹ä¸é”™","can_delete":false,"product_type":"c1","uid":1682027,"ip_address":"","ucode":"EF55733E3BD78B","user_header":"https://static001.geekbang.org/account/avatar/00/19/aa/6b/ab9a072a.jpg","comment_is_top":false,"comment_ctime":1602584278,"is_pvip":false,"replies":[{"id":"92487","content":"&quot;å½“å‰æ¶ˆè´¹è¿›åº¦è¢«æ›´æ–°ä¸º15ï¼Œé‚£ä¸­é—´æ¶ˆè´¹å¤±è´¥çš„å‡ æ¡æ¶ˆæ¯ä¼šéšç€é‡å¯æ¶ˆè´¹è€…è€Œé‡æ–°æ¶ˆè´¹å—ï¼Ÿ&quot; -- ä¸ä¼š<br><br>ä¸ä¼šè¢«åˆ é™¤ï¼Œåªæ˜¯ä¹‹å‰æäº¤çš„è¿›åº¦ä¼šè¢«æ–°çš„è¿›åº¦åºŸå¼ƒ","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1602636631,"ip_address":"","comment_id":253068,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1602584278","product_id":100029201,"comment_content":"è¯·é—®kafkaæ¶ˆè´¹è€…ä½¿ç”¨æ‰‹åŠ¨æäº¤ä½ç§»çš„æ–¹å¼ï¼Œå½“å‰æ¶ˆè´¹è¿›åº¦ä¸º10ï¼Œ,ç„¶åæ¶ˆè´¹å‡ æ¡å¤±è´¥ä¹‹åï¼Œæäº¤ä½ç§»å¤±è´¥ï¼Œåé¢æ¶ˆè´¹æ–°çš„æ¶ˆæ¯æˆåŠŸä¹‹åï¼Œå½“å‰æ¶ˆè´¹è¿›åº¦è¢«æ›´æ–°ä¸º15ï¼Œé‚£ä¸­é—´æ¶ˆè´¹å¤±è´¥çš„å‡ æ¡æ¶ˆæ¯ä¼šéšç€é‡å¯æ¶ˆè´¹è€…è€Œé‡æ–°æ¶ˆè´¹å—ï¼Ÿä½ç§»ä¸»é¢˜é‡Œé¢çš„æ¶ˆè´¹è¿›åº¦ä¼šéšç€é‡å¯æ¶ˆè´¹è€…è€Œè¢«åˆ é™¤å—?å¦‚æœä¸è¢«åˆ é™¤ï¼Œé‚£åº”è¯¥ä¸ä¼šé‡æ–°æ¶ˆè´¹å¤±è´¥çš„é‚£å‡ æ¡æ¶ˆæ¯å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506963,"discussion_content":"&amp;quot;å½“å‰æ¶ˆè´¹è¿›åº¦è¢«æ›´æ–°ä¸º15ï¼Œé‚£ä¸­é—´æ¶ˆè´¹å¤±è´¥çš„å‡ æ¡æ¶ˆæ¯ä¼šéšç€é‡å¯æ¶ˆè´¹è€…è€Œé‡æ–°æ¶ˆè´¹å—ï¼Ÿ&amp;quot; -- ä¸ä¼š\n\nä¸ä¼šè¢«åˆ é™¤ï¼Œåªæ˜¯ä¹‹å‰æäº¤çš„è¿›åº¦ä¼šè¢«æ–°çš„è¿›åº¦åºŸå¼ƒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602636631,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":251455,"user_name":"î„›æ—‹é£","can_delete":false,"product_type":"c1","uid":1272591,"ip_address":"","ucode":"B9FF02969F4307","user_header":"https://static001.geekbang.org/account/avatar/00/13/6b/0f/293b999c.jpg","comment_is_top":false,"comment_ctime":1601571778,"is_pvip":false,"replies":[{"id":"92152","content":"å¯ä»¥ä½¿ç”¨ä»»ä½•ç›‘æ§çº¿ç¨‹çš„å·¥å…·æ¥æŸ¥çœ‹ï¼Œæ¯”å¦‚jconsoleã€jstackç­‰","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1602206925,"ip_address":"","comment_id":251455,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1601571778","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆï¼Œè¯·æ•™æ‚¨ä¸€ä¸ªé—®é¢˜ã€‚log cleaner è¿™ä¸ªè¿›ç¨‹ï¼Œå¦‚ä½•ç›‘æ§åˆ°å®ƒæ˜¯å¦æ­£å¸¸ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":506500,"discussion_content":"å¯ä»¥ä½¿ç”¨ä»»ä½•ç›‘æ§çº¿ç¨‹çš„å·¥å…·æ¥æŸ¥çœ‹ï¼Œæ¯”å¦‚jconsoleã€jstackç­‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1602206925,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":248977,"user_name":"hangqi","can_delete":false,"product_type":"c1","uid":1130733,"ip_address":"","ucode":"D17C7AC44262EB","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/ed/b8b7ec16.jpg","comment_is_top":false,"comment_ctime":1600393958,"is_pvip":false,"replies":[{"id":"91433","content":"æˆ‘æŸ¥äº†ä¸€ä¸‹ï¼Œç›®å‰Kafka Connectæ²¡æœ‰ç°æˆçš„Hive Connectorï¼Œä½ éœ€è¦è‡ªå·±å†™ç¨‹åºå®ç°ï¼Œæ²¡æœ‰ç¬¬ä¸‰æ–¹çš„æ’ä»¶","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1600523504,"ip_address":"","comment_id":248977,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1600393958","product_id":100029201,"comment_content":"è€å¸ˆæˆ‘é—®ä¸€ä¸‹kafkaèƒ½ä»hiveä¸­æŸ¥æ•°æ®ç„¶åæ”¾åˆ°æŒ‡å®šçš„topicä¸­ï¼Œä¾›æ¶ˆè´¹è€…æ¶ˆè´¹å—ï¼Ÿï¼Ÿï¼Ÿ <br>è€å¸ˆ æˆ‘è¿™é‡Œæ˜¯æƒ³ç›´æ¥é€šè¿‡kafkaè¯»hiveæ•°æ®ï¼Œä¸æ˜¯é€šè¿‡ç¬¬ä¸‰æ–¹æŠŠhiveæ•°æ®æŸ¥å‡ºæ¥å¡åˆ°kafkaé‡Œã€‚è¿™æ ·çš„è¯æˆ‘å¯ä»¥é€šè¿‡spark,flink,jdbcéƒ½å¯ä»¥ã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505790,"discussion_content":"æˆ‘æŸ¥äº†ä¸€ä¸‹ï¼Œç›®å‰Kafka Connectæ²¡æœ‰ç°æˆçš„Hive Connectorï¼Œä½ éœ€è¦è‡ªå·±å†™ç¨‹åºå®ç°ï¼Œæ²¡æœ‰ç¬¬ä¸‰æ–¹çš„æ’ä»¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600523504,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":248802,"user_name":"hangqi","can_delete":false,"product_type":"c1","uid":1130733,"ip_address":"","ucode":"D17C7AC44262EB","user_header":"https://static001.geekbang.org/account/avatar/00/11/40/ed/b8b7ec16.jpg","comment_is_top":false,"comment_ctime":1600314760,"is_pvip":false,"replies":[{"id":"91368","content":"å½“ç„¶å¯ä»¥ã€‚ä½ å¯ä»¥é€šè¿‡jdbcçš„æ–¹å¼è®¿é—®hiveï¼Œè¯»å–åˆ°æ•°æ®ä¹‹åå†™å…¥åˆ°topicä¸­","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1600390708,"ip_address":"","comment_id":248802,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1600314760","product_id":100029201,"comment_content":"è€å¸ˆæˆ‘é—®ä¸€ä¸‹kafkaèƒ½ä»hiveä¸­æŸ¥æ•°æ®ç„¶åæ”¾åˆ°æŒ‡å®šçš„topicä¸­ï¼Œä¾›æ¶ˆè´¹è€…æ¶ˆè´¹å—ï¼Ÿï¼Ÿï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505745,"discussion_content":"å½“ç„¶å¯ä»¥ã€‚ä½ å¯ä»¥é€šè¿‡jdbcçš„æ–¹å¼è®¿é—®hiveï¼Œè¯»å–åˆ°æ•°æ®ä¹‹åå†™å…¥åˆ°topicä¸­","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600390708,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":246286,"user_name":"prepared","can_delete":false,"product_type":"c1","uid":1194853,"ip_address":"","ucode":"00E54A5C7CDCBE","user_header":"https://static001.geekbang.org/account/avatar/00/12/3b/65/3a4fc8cf.jpg","comment_is_top":false,"comment_ctime":1599261759,"is_pvip":false,"replies":[{"id":"90617","content":"è·ç¦»å®Œå…¨æ‘†è„±ZooKeeperè¿˜æœ‰å¾ˆé•¿ä¸€æ®µè·¯","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1599442345,"ip_address":"","comment_id":246286,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1599261759","product_id":100029201,"comment_content":"æ–°ç‰ˆæœ¬ä¸ºä»€ä¹ˆè¿˜æ˜¯æœ‰ zookeeperå­˜åœ¨ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505101,"discussion_content":"è·ç¦»å®Œå…¨æ‘†è„±ZooKeeperè¿˜æœ‰å¾ˆé•¿ä¸€æ®µè·¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599442345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":246011,"user_name":"Vince","can_delete":false,"product_type":"c1","uid":1555695,"ip_address":"","ucode":"1D35072822C6F5","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/k5OsGRHWreVATJ1tKJBrUO4s4HaeSibRia4FgcmsElibriarMZHg6ntgK6srAUsCohricBsfWRib6zAOy9cDQwzVpjicg/132","comment_is_top":false,"comment_ctime":1599131975,"is_pvip":false,"replies":[{"id":"90470","content":"æ²¡å¤ªæ‡‚ã€‚ã€‚ã€‚â€œå®ç°åƒå£°æ˜å‹äº‹åŠ¡é‚£æ ·è‡ªåŠ¨æäº¤æ¶ˆæ¯ä½ç§»ï¼Œä½†ä¸æƒ³è®©å®ƒè‡ªåŠ¨æäº¤â€  â€”â€” è¿™æ˜¯æ€ä¹ˆç†è§£ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1599205292,"ip_address":"","comment_id":246011,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1599131975","product_id":100029201,"comment_content":"è€å¸ˆæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œconsumerèƒ½ä¸èƒ½å®ç°åƒå£°æ˜å‹äº‹åŠ¡é‚£æ ·è‡ªåŠ¨æäº¤æ¶ˆæ¯ä½ç§»ï¼Ÿæˆ‘ä¸æƒ³æ‰‹åŠ¨æäº¤æ¶ˆæ¯ä½ç§»ï¼Œä¹Ÿä¸æƒ³è®©å®ƒè‡ªåŠ¨æäº¤","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505033,"discussion_content":"æ²¡å¤ªæ‡‚ã€‚ã€‚ã€‚â€œå®ç°åƒå£°æ˜å‹äº‹åŠ¡é‚£æ ·è‡ªåŠ¨æäº¤æ¶ˆæ¯ä½ç§»ï¼Œä½†ä¸æƒ³è®©å®ƒè‡ªåŠ¨æäº¤â€  â€”â€” è¿™æ˜¯æ€ä¹ˆç†è§£ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599205292,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1555695,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/k5OsGRHWreVATJ1tKJBrUO4s4HaeSibRia4FgcmsElibriarMZHg6ntgK6srAUsCohricBsfWRib6zAOy9cDQwzVpjicg/132","nickname":"Vince","note":"","ucode":"1D35072822C6F5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":307601,"discussion_content":"ä¸å¥½æ„æ€ï¼Œæœ€åä¸€å¥ä¸æƒ³è‡ªåŠ¨æäº¤æ˜¯æŒ‡consumeré…ç½®ï¼Œå¯ä»¥å¿½ç•¥è¿™å¥è¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1600694295,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":245947,"user_name":"æåŒå­¦","can_delete":false,"product_type":"c1","uid":2143931,"ip_address":"","ucode":"DE69BAB9C27756","user_header":"https://static001.geekbang.org/account/avatar/00/20/b6/bb/fa825992.jpg","comment_is_top":false,"comment_ctime":1599118547,"is_pvip":true,"replies":[{"id":"90467","content":"æŒ‚æ‰äº†ä¼šå¼€å¯rebalanceï¼Œå…¶ä»–åˆ†åŒºä¹Ÿä¼šæš‚æ—¶æ— æ³•æ¶ˆæ¯ã€‚ä¸‹æ¬¡å¯åŠ¨å›æ¥åä½ç§»æ˜¯å¤šå°‘å–å†³äºconsumer rebalanceä¹‹å‰æäº¤çš„ä½ç§»æ˜¯å¤šå°‘","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1599205079,"ip_address":"","comment_id":245947,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1599118547","product_id":100029201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œoffsetsåˆ†ä¸ºæ•°æ®çš„åç§»é‡å’Œæ¶ˆè´¹è€…çš„åç§»é‡ï¼Œå¦‚æœåŒä¸€ä¸ªgroupidä¸‹æœ‰20ä¸ªåˆ†åŒºï¼ŒåŒgroupidä¸‹20ä¸ªæ¶ˆè´¹è€…æŒ‡å®šåˆ†åŒºæ¶ˆè´¹åˆ†åŒºæ•°æ®ï¼Œå¦‚æœç°åœ¨æ¶ˆè´¹åˆ°äº†offsetsä¸º10çš„æ•°æ®ï¼Œè¿™æ¡æ•°æ®åœ¨9åˆ†åŒºä¸Šï¼Œoffsetsä¸º11çš„æ•°æ®åœ¨10åˆ†åŒºä¸Šï¼Œè¿˜æ²¡æœ‰æ¶ˆè´¹ï¼Œä½†æ˜¯å¯¹åº”çš„æ¶ˆè´¹è€…æŒ‚æ‰äº†ï¼Œå…¶ä»–åˆ†åŒºè¿˜ä¼šæ­£å¸¸æ¶ˆè´¹å—ï¼Ÿ9åˆ†åŒºï¼Œ10åˆ†åŒºçš„æ¶ˆè´¹è€…ä¸‹æ¬¡å¯åŠ¨çš„æ—¶å€™offsetsåº”è¯¥æ˜¯å¤šå°‘å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":505015,"discussion_content":"æŒ‚æ‰äº†ä¼šå¼€å¯rebalanceï¼Œå…¶ä»–åˆ†åŒºä¹Ÿä¼šæš‚æ—¶æ— æ³•æ¶ˆæ¯ã€‚ä¸‹æ¬¡å¯åŠ¨å›æ¥åä½ç§»æ˜¯å¤šå°‘å–å†³äºconsumer rebalanceä¹‹å‰æäº¤çš„ä½ç§»æ˜¯å¤šå°‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599205079,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":240168,"user_name":"Gavin","can_delete":false,"product_type":"c1","uid":1616970,"ip_address":"","ucode":"A5735665E303FD","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/2UXuSevhia94o9Eky4OfMuSictaldxcqpjGuvRCOcvjIIoVBAENLEZbv2lgwmwC8icK1ZrUcneNtiaeFBV8MT3uzNg/132","comment_is_top":false,"comment_ctime":1596775825,"is_pvip":false,"replies":[{"id":"88975","content":"å¦‚æœæ˜¯è‡ªåŠ¨æäº¤ä½ç§»ï¼Œé‚£ä¹ˆå°±ä¸ä¼šåˆ¤æ–­æ˜¯å¦æ¶ˆè´¹äº†æ–°çš„æ¶ˆæ¯è€Œæ˜¯â€œæ— è„‘â€æäº¤ä½ç§»ã€‚å¦‚æœè¦å®ç°ä½ æ‰€è¯´çš„åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨æ‰‹åŠ¨æäº¤","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1597111555,"ip_address":"","comment_id":240168,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1596775825","product_id":100029201,"comment_content":"æˆ‘ä»¬æ¥ä¸¾ä¸ªæç«¯ä¸€ç‚¹çš„ä¾‹å­ã€‚å‡è®¾ Consumer å½“å‰æ¶ˆè´¹åˆ°äº†æŸä¸ªä¸»é¢˜çš„æœ€æ–°ä¸€æ¡æ¶ˆæ¯ï¼Œä½ç§»æ˜¯ 100ï¼Œä¹‹åè¯¥ä¸»é¢˜æ²¡æœ‰ä»»ä½•æ–°æ¶ˆæ¯äº§ç”Ÿï¼Œæ•… Consumer æ— æ¶ˆæ¯å¯æ¶ˆè´¹äº†ï¼Œæ‰€ä»¥ä½ç§»æ°¸è¿œä¿æŒåœ¨ 100ã€‚ç”±äºæ˜¯è‡ªåŠ¨æäº¤ä½ç§»ï¼Œä½ç§»ä¸»é¢˜ä¸­ä¼šä¸åœåœ°å†™å…¥ä½ç§» =100 çš„æ¶ˆæ¯ã€‚æ˜¾ç„¶ Kafka åªéœ€è¦ä¿ç•™è¿™ç±»æ¶ˆæ¯ä¸­çš„æœ€æ–°ä¸€æ¡å°±å¯ä»¥äº†ï¼Œä¹‹å‰çš„æ¶ˆæ¯éƒ½æ˜¯å¯ä»¥åˆ é™¤çš„ã€‚è¿™å°±è¦æ±‚ Kafka å¿…é¡»è¦æœ‰é’ˆå¯¹ä½ç§»ä¸»é¢˜æ¶ˆæ¯ç‰¹ç‚¹çš„æ¶ˆæ¯åˆ é™¤ç­–ç•¥ï¼Œå¦åˆ™è¿™ç§æ¶ˆæ¯ä¼šè¶Šæ¥è¶Šå¤šï¼Œæœ€ç»ˆæ’‘çˆ†æ•´ä¸ªç£ç›˜ã€‚<br><br>è¿™ä¸ªä¸ºä»€ä¹ˆè¦ä¸åœçš„å†™ä½ç§»ä¿¡æ¯ï¼Œåœ¨æœ‰æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯å†å†™ä¸å°±å¯ä»¥äº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503361,"discussion_content":"å¦‚æœæ˜¯è‡ªåŠ¨æäº¤ä½ç§»ï¼Œé‚£ä¹ˆå°±ä¸ä¼šåˆ¤æ–­æ˜¯å¦æ¶ˆè´¹äº†æ–°çš„æ¶ˆæ¯è€Œæ˜¯â€œæ— è„‘â€æäº¤ä½ç§»ã€‚å¦‚æœè¦å®ç°ä½ æ‰€è¯´çš„åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨æ‰‹åŠ¨æäº¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1597111555,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":239318,"user_name":"å¤šè¥„ä¸¸","can_delete":false,"product_type":"c1","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1596503072,"is_pvip":false,"replies":[{"id":"88411","content":"1.  KafkaConsumeræœ‰ç›¸åº”çš„committedæ–¹æ³•å¯ä»¥ç”¨æ¥è·å–ç›¸åº”çš„ä½ç§»<br>2. ä¸å¤ªæ‡‚è¿™ä¸ªé—®é¢˜çš„æ„æ€ã€‚ä¸è¿‡åº”è¯¥æ²¡æœ‰ä»€ä¹ˆå½±å“<br>3. é…ç½®äº†cleanup.policy=compactçš„ä¸»é¢˜éƒ½ä¼šæ‰§è¡Œcompactionã€‚æ—¢ç„¶é€‰æ‹©äº†compactionï¼Œé‚£ä¹ˆè¯´æ˜æ¶ˆæ¯æ•°æ®çš„ç¡®æ˜¯ä¼šè¢«è¦†ç›–çš„ï¼Œå› æ­¤ä¹Ÿä¸ç®—æ¶ˆæ¯ä¸¢å¤±","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1596519307,"ip_address":"","comment_id":239318,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1596503072","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆï¼Œçœ‹åˆ°æ‚¨å›å¤ç»™å…¶ä»–åŒå­¦è¯´ï¼šåŒä¸€ä¸ªconsumer group å¯¹åŒä¸€ä¸ªtopicçš„ä¸åŒpartitionæ¶ˆè´¹çš„æ•°æ®ï¼Œä¼šè¢«æäº¤åˆ°offset topic ä¸‹çš„åŒä¸€ä¸ªpartitionã€‚<br><br>1. æˆ‘æƒ³é—®ï¼Œé‚£è¿™æ ·å¤šä¸ªconsumeræ¶ˆè´¹çš„æ—¶å€™ï¼Œæ€ä¹ˆç²¾ç¡®æ‹¿åˆ°è‡ªå·±çš„offsetçš„å‘¢ï¼Ÿæˆ‘çœ‹æ‚¨è¯´Coordinatorå®ç°çš„ï¼Œåè°ƒå™¨é‚£ä¸€èŠ‚ä¼šæœ‰offsetæ¶ˆè´¹åŸç†ä»‹ç»å§ã€‚<br><br>2. å¦‚æœconsumeræ¯æ¬¡æ¶ˆè´¹åå§‹ç»ˆè‡ªå·±ä¿å­˜ä¿å­˜offsetï¼Œæ¶ˆè´¹å‰ä»è‡ªå·±ä¿å­˜çš„offset å¼€å§‹æ¶ˆè´¹ã€‚<br>å¯¹äºbroker å¯¹ offsetä¸»é¢˜çš„ç®¡ç†ï¼Œä»¥åŠ æ­£åœ¨æ¶ˆè´¹çš„è¿™ä¸ªtopicçš„partitionï¼Œä¼šæœ‰ä»€ä¹ˆå½±å“å—ï¼Ÿ<br><br>3. è¿™ä¸ª Compact ä¼šå¯¹é™¤äº† offset ä¸»é¢˜ä¹‹å¤–çš„ï¼Œå…¶ä»–topic æ•°æ®åšåˆ é™¤å—ï¼Ÿ<br>å¦‚æœä¹Ÿå¯¹å…¶ä»–topicçš„æ•°æ®åšå‹å®çš„è¯ï¼Œé‚£æˆ‘å‰ä¸ä¹…å†™è¿›å»çš„æ•°æ®ä¸æ˜¯è¢«åˆå¹¶æ‰äº†å—ï¼Ÿ<br>å³ä¾¿æ˜¯å¯¹å·²ç»å…³é—­çš„æ•°æ®æ–‡ä»¶ï¼ˆåº”è¯¥è¿˜æœ‰ç´¢å¼•æ–‡ä»¶ï¼‰å‹å®åï¼Œæˆ‘æƒ³å†å®ç°ä¸€æ¬¡å›æ”¾ï¼Œå¯¹äºå‹å®åçš„æ•°æ®æ–‡ä»¶å®ç°å›è®¿ï¼Œä¸æ˜¯ä¼šæœ‰æ•°æ®ä¸¢å¤±å˜›ï¼Ÿ<br><br>è°¢è°¢èƒ¡è€å¸ˆï¼","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":503060,"discussion_content":"1.  KafkaConsumeræœ‰ç›¸åº”çš„committedæ–¹æ³•å¯ä»¥ç”¨æ¥è·å–ç›¸åº”çš„ä½ç§»\n2. ä¸å¤ªæ‡‚è¿™ä¸ªé—®é¢˜çš„æ„æ€ã€‚ä¸è¿‡åº”è¯¥æ²¡æœ‰ä»€ä¹ˆå½±å“\n3. é…ç½®äº†cleanup.policy=compactçš„ä¸»é¢˜éƒ½ä¼šæ‰§è¡Œcompactionã€‚æ—¢ç„¶é€‰æ‹©äº†compactionï¼Œé‚£ä¹ˆè¯´æ˜æ¶ˆæ¯æ•°æ®çš„ç¡®æ˜¯ä¼šè¢«è¦†ç›–çš„ï¼Œå› æ­¤ä¹Ÿä¸ç®—æ¶ˆæ¯ä¸¢å¤±","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596519307,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1074310,"avatar":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","nickname":"å¤šè¥„ä¸¸","note":"","ucode":"1AA1497C5A293C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":296374,"discussion_content":"è°¢è°¢èƒ¡è€å¸ˆï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1596525194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":234322,"user_name":"å¼ æ´‹","can_delete":false,"product_type":"c1","uid":1182914,"ip_address":"","ucode":"549BE5DEEF8417","user_header":"https://static001.geekbang.org/account/avatar/00/12/0c/c2/bad34a50.jpg","comment_is_top":false,"comment_ctime":1594643846,"is_pvip":true,"replies":[{"id":"86614","content":"Math.abs(groupId.hashCode % 50)ã€‚æŒ‰ç…§è¿™ä¸ªå…¬å¼è®¡ç®—çš„","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1594781979,"ip_address":"","comment_id":234322,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1594643846","product_id":100029201,"comment_content":"è€å¸ˆ å…³äºæ¶ˆè´¹è€…ç»„è¿˜æœ‰ä¸€ä¸ªç–‘é—®<br>å°±æ˜¯è®¡ç®—coordinatorçš„æ—¶å€™ é¦–å…ˆé€šè¿‡æ¶ˆè´¹è€…ç»„çš„GroupIdè¿›è¡Œhashæ“ä½œï¼Œè®¡ç®—å‡ºåˆ†åŒºå·ï¼Œç„¶åæ‰¾åˆ°leaderæ‰€åœ¨çš„brokerå°±å¯ä»¥äº†ã€‚é‚£ä¹ˆå…³äºæ¶ˆè´¹è€…ç»„çš„æ¶ˆæ¯å­˜å‚¨ï¼Œä¹Ÿæ˜¯è¿™ä¸ªç®—æ³•å—ï¼Œæ„æ€å°±æ˜¯æ¯ä¸ªæ¶ˆè´¹è€…ç»„çš„ä½ç§»éƒ½ä¼šè·¯ç”±åˆ°ä¸€ä¸ªåˆ†åŒºä¸Š ï¼Ÿ<br>è¿˜æ˜¯å¦å¤–ä¸€ç§ Consumer Group ä¸‹çš„æ¯ä¸ªConsumer Instance é€šè¿‡å¯¹keyï¼ˆtopic + partitionId + groupIdï¼‰è¿›è¡Œhashè®¡ç®—è¿›è¡Œè·¯ç”±çš„å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":501352,"discussion_content":"Math.abs(groupId.hashCode % 50)ã€‚æŒ‰ç…§è¿™ä¸ªå…¬å¼è®¡ç®—çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1594781979,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":231129,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1593590113,"is_pvip":false,"replies":[{"id":"85362","content":"jstackä¸‹è¿›ç¨‹ï¼Œçœ‹ä¸‹å¯¹åº”çš„cleanerçº¿ç¨‹è¿˜åœ¨ä¸åœ¨ã€‚å¾ˆå¤šæ—¶å€™æ˜¯å› ä¸ºç¨‹åºæ²¡æœ‰æ•è·çš„å¼‚å¸¸æŒ‚æ‰çš„ã€‚æˆ‘ä»¬å¾ˆéš¾ä»¤ä¸€ä¸ªçº¿ç¨‹ç›´æ¥æŒ‚æ‰","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1593606957,"ip_address":"","comment_id":231129,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593590113","product_id":100029201,"comment_content":"â€œæˆ‘å»ºè®®ä½ å»æ£€æŸ¥ä¸€ä¸‹ Log Cleaner çº¿ç¨‹çš„çŠ¶æ€ï¼Œé€šå¸¸éƒ½æ˜¯è¿™ä¸ªçº¿ç¨‹æŒ‚æ‰äº†å¯¼è‡´çš„ã€‚â€<br>-------------------------------------------------<br>è€å¸ˆï¼Œå¯ä»¥è¯´ä¸‹è¿™ä¸ªçº¿ç¨‹çŠ¶æ€æ€ä¹ˆçœ‹å—ï¼Ÿå¦‚æœæŒ‚æ‰æ€ä¹ˆé‡å¯å‘¢ï¼Ÿè¿˜æœ‰å°±æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´æŒ‚æ‰ï¼Ÿæ¯”å¦‚æˆ‘å¯ä»¥è‡ªå·±å»killæ‰å—","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":500168,"discussion_content":"jstackä¸‹è¿›ç¨‹ï¼Œçœ‹ä¸‹å¯¹åº”çš„cleanerçº¿ç¨‹è¿˜åœ¨ä¸åœ¨ã€‚å¾ˆå¤šæ—¶å€™æ˜¯å› ä¸ºç¨‹åºæ²¡æœ‰æ•è·çš„å¼‚å¸¸æŒ‚æ‰çš„ã€‚æˆ‘ä»¬å¾ˆéš¾ä»¤ä¸€ä¸ªçº¿ç¨‹ç›´æ¥æŒ‚æ‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593606957,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230437,"user_name":"J.Smile","can_delete":false,"product_type":"c1","uid":1336475,"ip_address":"","ucode":"C4D98DFDBF7584","user_header":"https://static001.geekbang.org/account/avatar/00/14/64/9b/0b578b08.jpg","comment_is_top":false,"comment_ctime":1593391292,"is_pvip":false,"replies":[{"id":"85045","content":"â€œåŒä¸€ä¸ªåˆ†åŒºXçš„åŒä¸€ä¸ªæ¶ˆè´¹ä½ç§»â€  ---- ä¸å°½ç„¶ï¼Œæ˜¯åŒä¸€ä¸ª__consumer_offsetsåˆ†åŒºä¸‹çš„ä¸åŒæ¶ˆæ¯ï¼Œæ¶ˆæ¯é‡Œé¢ä¿å­˜äº†è®¢é˜…åˆ†åŒºçš„ä¸åŒä½ç§»å€¼","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1593395162,"ip_address":"","comment_id":230437,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593391292","product_id":100029201,"comment_content":"â€œé€šå¸¸æ¥è¯´ï¼ŒåŒä¸€ä¸ªgroupä¸‹çš„æ‰€æœ‰æ¶ˆè´¹è€…æäº¤çš„ä½ç§»æ•°æ®ä¿å­˜åœ¨ä½ç§»ä¸»é¢˜çš„åŒä¸€ä¸ªåˆ†åŒºä¸‹â€<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>è€å¸ˆï¼ŒæŒ‰ç…§æ‚¨è¿™ä¸ªè¯´çš„æ„æ€ï¼ŒåŒä¸€ä¸ªgroupçš„å¤šä¸ªä¸åŒconsumerè·å–åˆ°çš„æ˜¯ä½ç§»ä¸»é¢˜ä¸­åŒä¸€ä¸ªåˆ†åŒºXçš„åŒä¸€ä¸ªæ¶ˆè´¹ä½ç§»ã€‚ä¸åŒçš„groupä¸­çš„consumerè·å–ä¸åˆ°åˆ†åŒºXçš„æ¶ˆè´¹ä½ç§»ï¼Œé‚£ä¹ˆå¦‚æœå‘ç”Ÿreblanceä¹ŸåŒæ ·ä¸å¯èƒ½è·å–åˆ°å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499889,"discussion_content":"â€œåŒä¸€ä¸ªåˆ†åŒºXçš„åŒä¸€ä¸ªæ¶ˆè´¹ä½ç§»â€  ---- ä¸å°½ç„¶ï¼Œæ˜¯åŒä¸€ä¸ª__consumer_offsetsåˆ†åŒºä¸‹çš„ä¸åŒæ¶ˆæ¯ï¼Œæ¶ˆæ¯é‡Œé¢ä¿å­˜äº†è®¢é˜…åˆ†åŒºçš„ä¸åŒä½ç§»å€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593395162,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":230143,"user_name":"cocos","can_delete":false,"product_type":"c1","uid":1016599,"ip_address":"","ucode":"6DCA74033FFBEA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/83/17/74c6e081.jpg","comment_is_top":false,"comment_ctime":1593274779,"is_pvip":false,"replies":[{"id":"84954","content":"Consumeré»˜è®¤æä¾›è‡³å°‘ä¸€æ¬¡å¤„ç†è¯­ä¹‰ã€‚è¿™å°±æ˜¯è¯´ï¼Œåªè¦ä½ ä¸æ˜¯å…ˆæäº¤ä½ç§»å†æ¶ˆæ¯æ¶ˆæ¯ï¼Œæ€ä¹ˆéƒ½ä¸ä¼šä¸¢æ¶ˆæ¯çš„ï¼šï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1593305114,"ip_address":"","comment_id":230143,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1593274779","product_id":100029201,"comment_content":"è€å¸ˆenable.auto.commit=trueï¼Œå¦‚æœæ˜¯åœ¨pollæ—¶æ ¹æ®é—´éš”æ—¶é—´æäº¤ä½ç§»ï¼Œé‚£åªè¦æˆ‘å¤„ç†å®Œæ‹‰åˆ°çš„æ¶ˆæ¯å†è°ƒç”¨pollæ˜¯ä¸æ˜¯è‚¯å®šä¸ä¼šä¸¢æ¶ˆæ¯ï¼Œæœ€å¤šä¼šé‡å¤æ¶ˆè´¹ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":499778,"discussion_content":"Consumeré»˜è®¤æä¾›è‡³å°‘ä¸€æ¬¡å¤„ç†è¯­ä¹‰ã€‚è¿™å°±æ˜¯è¯´ï¼Œåªè¦ä½ ä¸æ˜¯å…ˆæäº¤ä½ç§»å†æ¶ˆæ¯æ¶ˆæ¯ï¼Œæ€ä¹ˆéƒ½ä¸ä¼šä¸¢æ¶ˆæ¯çš„ï¼šï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1593305114,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":225692,"user_name":"å¯†ç 123456","can_delete":false,"product_type":"c1","uid":1126593,"ip_address":"","ucode":"9889463CC0EA71","user_header":"https://static001.geekbang.org/account/avatar/00/11/30/c1/2dde6700.jpg","comment_is_top":false,"comment_ctime":1591835755,"is_pvip":false,"replies":[{"id":"83191","content":"ä½†æ˜¯ä¼šè§„é¿zookeeperçš„æœ€å¤§å¼Šç«¯ï¼šæ— æ³•æ‰¿æ‹…å¤§æ‰¹é‡çš„å†™æ“ä½œ","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1591871345,"ip_address":"","comment_id":225692,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1591835755","product_id":100029201,"comment_content":"å¦‚æœä¸å¦‚zookeeperåŠ£åŠ¿çš„è¯ï¼Œæˆ‘è§‰å¾—æœ‰2ä¸ªã€‚ç¬¬ä¸€ä¸ªæ˜¯å ç”¨é¢å¤–çš„èµ„æºï¼Œæ¯”å¦‚ä¸»é¢˜ï¼Œåˆ†åŒºï¼Œç£ç›˜ç©ºé—´ï¼Œè¿˜æœ‰åˆ é™¤çº¿ç¨‹ã€‚ç¬¬äºŒä¸ªæ˜¯ï¼Œå¦‚æœæ¶ˆè´¹è€…è®¾ç½®çš„å‚æ•°ï¼Œä¸æ˜¯æœ€æ–°è¯»ä¸”è‡ªåŠ¨æäº¤ã€‚å¯èƒ½ä¼šé‡å¤æ¶ˆè´¹ã€‚(è¿™ä¸ªä¹Ÿæ˜¯çº¯çŒœæµ‹ï¼Œå› ä¸ºæœ‰æ—¶é—´é—´éš”æäº¤ã€‚)","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497949,"discussion_content":"ä½†æ˜¯ä¼šè§„é¿zookeeperçš„æœ€å¤§å¼Šç«¯ï¼šæ— æ³•æ‰¿æ‹…å¤§æ‰¹é‡çš„å†™æ“ä½œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591871345,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221235,"user_name":"å¦¥å","can_delete":false,"product_type":"c1","uid":1249656,"ip_address":"","ucode":"7201DFE9C12669","user_header":"https://static001.geekbang.org/account/avatar/00/13/11/78/4f0cd172.jpg","comment_is_top":false,"comment_ctime":1590453757,"is_pvip":false,"replies":[{"id":"81593","content":"Kafkaæ”¯æŒä½ç§»é‡ç½®ï¼ˆseekæ–¹æ³•ï¼‰","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1590457304,"ip_address":"","comment_id":221235,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1590453757","product_id":100029201,"comment_content":"å¦‚æœæ¶ˆè´¹ç«¯å› ä¸ºå­˜å‚¨æˆ–è€…å…¶ä»–æ•…éšœå¯¼è‡´ä¹‹å‰æ¶ˆè´¹çš„è®°å½•ä¸¢å¤±ï¼Œéœ€è¦å›é€€ï¼Œé‡æ–°æ¶ˆè´¹ã€‚è¿™ç§åœºæ™¯ï¼Œkafkaæ”¯æŒé‡ç½®æ¶ˆè´¹è¿›åº¦å—ï¼Ÿåˆé€‚çš„è§£å†³åŠæ³•æ˜¯ä»€ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":496392,"discussion_content":"Kafkaæ”¯æŒä½ç§»é‡ç½®ï¼ˆseekæ–¹æ³•ï¼‰","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1590457304,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":213955,"user_name":"é­”éƒ½æµªå­","can_delete":false,"product_type":"c1","uid":1177859,"ip_address":"","ucode":"8301440705105A","user_header":"https://static001.geekbang.org/account/avatar/00/11/f9/03/439bdb70.jpg","comment_is_top":false,"comment_ctime":1588598608,"is_pvip":false,"replies":[{"id":"79345","content":"æ˜¯çš„ï¼Œ__consumer_offsetsæ˜¯compactç±»å‹çš„ï¼Œæ¯ä¸ªkeyåªé€‰æ‹©å½“å‰æœ€æ–°çš„å€¼ä½œä¸ºæœ‰æ•ˆå€¼","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1588725541,"ip_address":"","comment_id":213955,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1588598608","product_id":100029201,"comment_content":"åŒä¸€ä¸ªKEYçš„æ¶ˆæ¯æ–°æ—§æœ‰å¾ˆå¤šæ¡ï¼Œ consumer é‡å¯çš„æ—¶å€™ï¼Œæ˜¯å¦‚ä½•å¿«é€Ÿè¯»åˆ°å¯¹åº” partition æœ€æ–° offset çš„?<br>","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493911,"discussion_content":"æ˜¯çš„ï¼Œ__consumer_offsetsæ˜¯compactç±»å‹çš„ï¼Œæ¯ä¸ªkeyåªé€‰æ‹©å½“å‰æœ€æ–°çš„å€¼ä½œä¸ºæœ‰æ•ˆå€¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588725541,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":213550,"user_name":"æå¥•æ…§","can_delete":false,"product_type":"c1","uid":1201005,"ip_address":"","ucode":"0D8871ED38859C","user_header":"https://static001.geekbang.org/account/avatar/00/12/53/6d/c3828950.jpg","comment_is_top":false,"comment_ctime":1588473239,"is_pvip":false,"replies":[{"id":"79349","content":"â€œæ˜¯å¦‚ä½•åšåˆ°å¿«é€Ÿè¯»?â€ ---- åšä¸åˆ°å¿«é€Ÿéšæœºè¯»ã€‚Kafkaåªæ˜¯èƒ½è¢«å½“æˆå­˜å‚¨ä½¿ç”¨ï¼Œä½†ä¸èƒ½å®Œå…¨æ›¿ä»£å…³ç³»å‹æ•°æ®åº“<br><br>â€œæ˜¯å¦‚ä½•å¿«é€Ÿè¯»åˆ°å¯¹åº” partition æœ€æ–° offset çš„â€ --- è¿™ä¸ªæ˜¯é å†…éƒ¨topicï¼š__consumer_offsetså®Œæˆçš„ã€‚<br><br>Connectorç›¸å…³topicä¸__consumer_offsetsåŸç†ç±»ä¼¼ï¼Œå‘é€ä¸€ä¸ªvalue=nullçš„æ¶ˆæ¯è¡¨ç¤ºè¿™ä¸ªConnectorå¯¹åº”çš„æ¶ˆè´¹è€…ç»„å¯ä»¥è¢«åˆ é™¤äº†","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1588725993,"ip_address":"","comment_id":213550,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1588473239","product_id":100029201,"comment_content":"Kafka Connector ç›¸å…³é»˜è®¤é…ç½®<br>group.id=connect-cluster<br>offset.storage.topic=connect-offsets (é»˜è®¤å‰¯æœ¬ 1ï¼Œåˆ†åŒº 25)<br>config.storage.topic=connect-configs (é»˜è®¤å‰¯æœ¬ 5ï¼Œåˆ†åŒº 25)<br><br>çœ‹äº†ä¸‹ connect-configs çš„ç®¡ç†ä¹Ÿå’Œ __consumer_offsets å·®ä¸å¤šï¼Œä¼šå­˜å‚¨ connector å…ƒæ•°æ®ä¿¡æ¯, åˆ é™¤çš„æ—¶å€™ä¹Ÿæ˜¯å‘ä¸€æ¡ç©ºçš„æ¶ˆæ¯ä½“ã€‚<br><br>æœ‰äº›ä¸æ˜ç™½çš„åœ°æ–¹æ˜¯, ç±»ä¼¼è¿™ç§æƒ…å†µä¸‹å¦‚æœæ‹¿ topic å½“ DB å­˜å‚¨, æ˜¯å¦‚ä½•åšåˆ°å¿«é€Ÿè¯»çš„å‘¢ï¼Ÿ<br>å†™æ²¡æœ‰é—®é¢˜(append å†™)<br><br>æ¯”å¦‚ consumer é‡å¯çš„æ—¶å€™ï¼Œæ˜¯å¦‚ä½•å¿«é€Ÿè¯»åˆ°å¯¹åº” partition æœ€æ–° offset çš„?<br>Connectors ç›¸å…³ topic åŒç†(ä¸ºä½•æœ€åå‘äº†ä¸€ä¸ª null ä¿¡æ¯ï¼Œå°±çŸ¥é“è¿™ä¸ª connector ä»»åŠ¡åˆ é™¤äº†)<br><br>è€å¸ˆå¯å¦åœ¨è¿™ä¸ªä¸“æ å›å¤ä¸‹ï¼Œæˆ–è€…åœ¨æºç ä¸“æ é¡ºä¾¿è®²è§£ä¸‹ã€‚","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493811,"discussion_content":"â€œæ˜¯å¦‚ä½•åšåˆ°å¿«é€Ÿè¯»?â€ ---- åšä¸åˆ°å¿«é€Ÿéšæœºè¯»ã€‚Kafkaåªæ˜¯èƒ½è¢«å½“æˆå­˜å‚¨ä½¿ç”¨ï¼Œä½†ä¸èƒ½å®Œå…¨æ›¿ä»£å…³ç³»å‹æ•°æ®åº“\n\nâ€œæ˜¯å¦‚ä½•å¿«é€Ÿè¯»åˆ°å¯¹åº” partition æœ€æ–° offset çš„â€ --- è¿™ä¸ªæ˜¯é å†…éƒ¨topicï¼š__consumer_offsetså®Œæˆçš„ã€‚\n\nConnectorç›¸å…³topicä¸__consumer_offsetsåŸç†ç±»ä¼¼ï¼Œå‘é€ä¸€ä¸ªvalue=nullçš„æ¶ˆæ¯è¡¨ç¤ºè¿™ä¸ªConnectorå¯¹åº”çš„æ¶ˆè´¹è€…ç»„å¯ä»¥è¢«åˆ é™¤äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588725993,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1201005,"avatar":"https://static001.geekbang.org/account/avatar/00/12/53/6d/c3828950.jpg","nickname":"æå¥•æ…§","note":"","ucode":"0D8871ED38859C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":258758,"discussion_content":"å¯èƒ½æˆ‘é—®é¢˜è¡¨è¾¾çš„ä¸å¤Ÿæ¸…æ¥šã€‚\n\nåšä¸åˆ°å¿«é€Ÿè¯»ï¼Œé‚£ä¹ˆæ˜¯æ€ä¹ˆå°½é‡å¿«é€Ÿè¯»åˆ°\ntopic å¯¹åº”åœ¨__consumer_offsetså¯¹åº”æœ€åä¸€ä¸ª offsetå€¼æˆ–è€… nullå€¼çš„å•Šï¼Ÿ\n\nmsg keyä¸­å«æœ‰æ—¶é—´æˆ³ï¼Ÿå¯ä»¥æ ¹æ®æ—¶é—´æˆ³å¤§è‡´æ‰«åˆ°å†…å®¹èŒƒå›´ï¼Œå…¨é‡æ‰«æä¸€éæˆ–è€…ç±»ä¼¼äºŒåˆ†çš„æ–¹å¼è¯»å‡ºï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588727197,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":207774,"user_name":"å¦¥å","can_delete":false,"product_type":"c1","uid":1249656,"ip_address":"","ucode":"7201DFE9C12669","user_header":"https://static001.geekbang.org/account/avatar/00/13/11/78/4f0cd172.jpg","comment_is_top":false,"comment_ctime":1587177726,"is_pvip":false,"replies":[{"id":"77599","content":"1. ä¸æ˜¯ä»ZooKeepeä¸­è¯»å–ä½ç§»ï¼Œè€Œæ˜¯ä»__consumer_offsetsä¸­ï¼›<br>2. ä½ç§»çš„ä¿å­˜æ²¡æœ‰consumerè¿™ä¸€çº§çš„ä¿¡æ¯ï¼Œå› ä¸ºä¸éœ€è¦ã€‚Kafkaåªå…³å¿ƒæŸä¸ªgroupæ¶ˆè´¹æŸåˆ†åŒºçš„è¿›åº¦ï¼ˆå³ä½ç§»ï¼‰ï¼Œä¸å…³å¿ƒè¿™ä¸ªåˆ†åŒºçš„è¿›åº¦æ˜¯è¢«å“ªäº›consumerå®Œæˆçš„<br>3. rebalanceåæŸconsumeræ‹¿åˆ°åˆ†åŒºä½ç§»è¿›åº¦ï¼Œç„¶åä»è¯¥ä½ç§»å¤„ç»§ç»­æ¶ˆè´¹<br>4. å¦‚æœä¸è®¨è®º2.4å¼•å…¥çš„static memberçš„è¯ï¼Œé‚£ä¹ˆcoonsumeré‡å¯åä¼šé‡æ–°ç”Ÿæˆä¸€ä¸ªconsumer id","user_name":"ä½œè€…å›å¤","user_name_real":"èƒ¡å¤•","uid":"1288090","ctime":1587220509,"ip_address":"","comment_id":207774,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587177726","product_id":100029201,"comment_content":"è¯·æ•™ä¸¤ä¸ªé—®é¢˜ï¼š1ã€å½“ Consumer é‡å¯åï¼Œå®ƒèƒ½è‡ªåŠ¨ä» ZooKeeper ä¸­è¯»å–ä½ç§»æ•°æ®ï¼Œä»è€Œåœ¨ä¸Šæ¬¡æ¶ˆè´¹æˆªæ­¢çš„åœ°æ–¹ç»§ç»­æ¶ˆè´¹ã€‚ä½ç§»ä¸»é¢˜ä¿å­˜&lt;Group IDï¼Œä¸»é¢˜åï¼Œåˆ†åŒºå· &gt;ï¼Œåªåˆ°groupä¸€çº§ï¼Œæ²¡æœ‰åˆ°Consumerä¸€çº§ï¼Œæ€ä¹ˆèƒ½åšåˆ°é‡å¯åï¼Œèƒ½åœ¨ä¸Šæ¬¡æ¶ˆè´¹çš„åœ°æ–¹ç»§ç»­æ¶ˆè´¹ï¼Ÿï¼Ÿè¿˜æ˜¯è¯´ï¼ŒConsumeré‡å¯åï¼Œè§¦å‘rebalanceï¼Œé‡æ–°åˆ†é…ä¸»é¢˜åˆ†åŒºï¼Œç»§ç»­æ¶ˆè´¹æ˜¯æŒ‡æ–°åˆ†é…ä¸»é¢˜ï¼Ÿ<br>2ã€ä¹‹å‰æè¿‡ï¼Œproduceræäº¤æ¶ˆæ¯ç²¾ç¡®ä¸€æ¬¡ï¼Œè·¨ä¼šè¯ä¸èƒ½åšåˆ°ï¼Œå› ä¸ºé‡å¯åï¼Œé‡æ–°åˆ†é…producer IDï¼Œæ²¡æ³•å»é‡ã€‚é‚£Consumeré‡å¯åä¹Ÿæ˜¯é‡æ–°åˆ†é…Consumer IDå—ï¼Ÿï¼Ÿå¦‚æœä¸æ˜¯é‡æ–°åˆ†é…Consumer IDï¼Œé‚£producerä¹Ÿèƒ½åšåˆ°è·¨ä¼šè¯ä¸€è‡´å§ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":492238,"discussion_content":"1. ä¸æ˜¯ä»ZooKeepeä¸­è¯»å–ä½ç§»ï¼Œè€Œæ˜¯ä»__consumer_offsetsä¸­ï¼›\n2. ä½ç§»çš„ä¿å­˜æ²¡æœ‰consumerè¿™ä¸€çº§çš„ä¿¡æ¯ï¼Œå› ä¸ºä¸éœ€è¦ã€‚Kafkaåªå…³å¿ƒæŸä¸ªgroupæ¶ˆè´¹æŸåˆ†åŒºçš„è¿›åº¦ï¼ˆå³ä½ç§»ï¼‰ï¼Œä¸å…³å¿ƒè¿™ä¸ªåˆ†åŒºçš„è¿›åº¦æ˜¯è¢«å“ªäº›consumerå®Œæˆçš„\n3. rebalanceåæŸconsumeræ‹¿åˆ°åˆ†åŒºä½ç§»è¿›åº¦ï¼Œç„¶åä»è¯¥ä½ç§»å¤„ç»§ç»­æ¶ˆè´¹\n4. å¦‚æœä¸è®¨è®º2.4å¼•å…¥çš„static memberçš„è¯ï¼Œé‚£ä¹ˆcoonsumeré‡å¯åä¼šé‡æ–°ç”Ÿæˆä¸€ä¸ªconsumer id","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587220509,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":201299,"user_name":"Sic Pavis","can_delete":false,"product_type":"c1","uid":1106088,"ip_address":"","ucode":"48B5F0118347C8","user_header":"https://static001.geekbang.org/account/avatar/00/10/e0/a8/4e739cf6.jpg","comment_is_top":false,"comment_ctime":1585747431,"is_pvip":false,"replies":[{"id":"75359","content":"ä¸ä¼šå•Šã€‚consumerèƒ½å¦æ‹‰åˆ°ä»€ä¹ˆæ•°æ®æ˜¯ç”±brokerç«¯æ§åˆ¶çš„","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1585791917,"ip_address":"","comment_id":201299,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1585747431","product_id":100029201,"comment_content":"æ²¡çœ‹æ˜ç™½è¿™ä¸ªä½ç§»æ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚<br><br>è¿™ä¸ªåº”è¯¥æ˜¯åœ¨brokerç«¯è®°å½•å½“å‰topicæŸä¸€ä¸ªåˆ†åŒºä¸‹çš„æ¶ˆè´¹ä½ç§»ï¼Œç„¶åä¹Ÿæ˜¯ç”¨ä¸€ä¸ªç‰¹æ®Šçš„topicæ¥å®ç°ï¼Œé‚£ä¹ˆæ­£å¸¸ä¸šåŠ¡çš„brokerç«¯é‡Œé¢æ˜¯å…¨éƒ¨è®¢é˜…äº†å¯¹åº”çš„ä½ç§»topicæ¥è·å–ä½ç§»çš„å—ï¼Ÿå¦‚æœè¿™æ ·ä¸æ˜¯ä¼šå‡ºç°è¿˜æ²¡æ‹‰å–åˆ°ä½ç§»æ•°æ®ï¼Œæ¶ˆè´¹è€…å°±è¿‡æ¥è¯·æ±‚æ•°æ®çš„æƒ…å†µå—ï¼Ÿ è¿™æ ·ä½ç§»æ•°æ®æ€§èƒ½ä¸æ˜¯å¾ˆä½æ•ˆå—","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490293,"discussion_content":"ä¸ä¼šå•Šã€‚consumerèƒ½å¦æ‹‰åˆ°ä»€ä¹ˆæ•°æ®æ˜¯ç”±brokerç«¯æ§åˆ¶çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585791917,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":190258,"user_name":"æ˜“å¤©è¡Œ","can_delete":false,"product_type":"c1","uid":1583489,"ip_address":"","ucode":"1A2004CE3D485B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/IIbpOZiahJl6WTCBp64TyvtMJ0l7qC9Z17Xbat3adAVOwx9l8hCTdzB0xzWXKofp2n2nrkOw9iaYicH5RzpFz03Pw/132","comment_is_top":false,"comment_ctime":1584624284,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1584624284","product_id":100029201,"comment_content":"å­¦ä¹ ä¸­ï¼Œ","like_count":0},{"had_liked":false,"id":131198,"user_name":"DFighting","can_delete":false,"product_type":"c1","uid":1233193,"ip_address":"","ucode":"F3BA2426FF8582","user_header":"https://static001.geekbang.org/account/avatar/00/12/d1/29/1b1234ed.jpg","comment_is_top":false,"comment_ctime":1567669254,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1567669254","product_id":100029201,"comment_content":"åˆ†åŒºçš„ä½ç§»ä¿¡æ¯éœ€è¦ä¿è¯æ•°æ®ä¸€è‡´æ€§å§ï¼Œä¸‡ä¸€ä¸¢å¤±äº†æ€ä¹ˆåŠï¼Ÿæ›¿æ¢zkéš¾åˆ°è‡ªå·±ä¹Ÿå®ç°zabåˆ†å¸ƒå¼ä¸€è‡´æ€§åè®®ï¼Ÿè¿˜æ˜¯è¯´æœ‰ä»€ä¹ˆåœ°æ–¹å¯ä»¥æ¢å¤ä½ç§»ä¸¢å¤±çš„æ•°æ®ï¼Ÿæˆ–è€…æ˜¯æ”¯æŒat-least-onceè¯­ä¹‰ï¼Ÿå…³äºå†™æ€§èƒ½çš„æå‡ï¼Œè‡³å°‘æœ‰ä¸€ç‚¹å§ï¼Œæ”¾åœ¨è‡ªå·±çš„topicé‡Œï¼Œå†™zkçš„ç½‘ç»œæ—¶å»¶åº”è¯¥ä¼šå‡å°‘ä¸å°‘å§ã€‚","like_count":0},{"had_liked":false,"id":130381,"user_name":"giantbroom","can_delete":false,"product_type":"c1","uid":1059516,"ip_address":"","ucode":"7258784193C302","user_header":"","comment_is_top":false,"comment_ctime":1567437956,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1567437956","product_id":100029201,"comment_content":"å…¶å®æ— è„‘çš„æŠŠredisæŠ“è¿‡æ¥å†™ä½ç§»ä¸»é¢˜ä¿¡æ¯ä¸æ˜¯æŒºå¥½ä¹ˆï¼Œè‡ªåŠ¨å»é‡ï¼Œè‡ªåŠ¨æŒä¹…åŒ–ã€‚å¦å¤–ï¼Œä¸¤ä¸ªä¸‹åˆ’çº¿ï¼Œè¿™ä½å¼€å‘è€å…„æ˜¯ä¸æ˜¯æœ‰å¾ˆæ·±çš„C&#47;C++èƒŒæ™¯ :)","like_count":0,"discussions":[{"author":{"id":2700925,"avatar":"https://static001.geekbang.org/account/avatar/00/29/36/7d/eab0d26a.jpg","nickname":"ä¸¹å°¼å°”-é›ªç¢§","note":"","ucode":"F098396F4B7500","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575711,"discussion_content":"ä½¿ç”¨redisçš„æ—¶å€™æ—¶åˆ»è®°ä½redisä¸å¯é å‘€","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655045702,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":124480,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1565910582,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1565910582","product_id":100029201,"comment_content":"1ï¼šä½ç§»ä¸»é¢˜ï¼Ÿ<br>1-1ï¼šæ˜¯kafkaçš„ä¸€ä¸ªè‡ªå®šä¹‰ä¸»é¢˜ï¼Œæœ¬è´¨å’Œæ™®é€šä¸»é¢˜æ²¡ä»€ä¹ˆåŒºåˆ«<br>1-2ï¼šä¸»è¦ä½œç”¨æ˜¯ä¸ºäº†ä¿å­˜kafkaä¸­å„ç§consumerçš„ä½ç§»ä¿¡æ¯<br>1-3ï¼šä½ç§»ä¸»é¢˜çš„æ¶ˆæ¯æ ¼å¼æœ‰kafkaå®šä¹‰ï¼Œå…¶ä¸­keyçš„æ ¼å¼å¦‚ä¸‹â€”â€”&lt;groupId,ä¸»é¢˜å,åˆ†åŒºå·&gt;ï¼Œæ¶ˆæ¯ä½“æ¯”è¾ƒå¤æ‚ï¼Œä½†å¯ä»¥ç®€å•è®¤ä¸ºå®ƒæ³¨æ„æ˜¯ä¿å­˜äº†ä¸€ä¸ªä½ç§»ä¿¡æ¯<br>1-4ï¼šä½ç§»ä¸»é¢˜ï¼Œæœ‰ä¸‰ç§æ ¼å¼ï¼Œ<br>1-4-1ï¼šç”¨äºç®¡ç†consumerçš„ä½ç§»<br>1-4-2ï¼šç”¨äºä¿å­˜ consumer group çš„ä¿¡æ¯<br>1-4-3ï¼šç”¨äºåˆ é™¤è¿‡æœŸçš„groupä½ç§»åŠæ¶ˆæ¯<br>1-5ï¼šå½“ Kafka é›†ç¾¤ä¸­çš„ç¬¬ä¸€ä¸ª Consumer ç¨‹åºå¯åŠ¨æ—¶ï¼ŒKafka ä¼šè‡ªåŠ¨åˆ›å»ºä½ç§»ä¸»é¢˜ã€‚<br>1-6ï¼šå¦‚æœä½ç§»ä¸»é¢˜æ˜¯ Kafka è‡ªåŠ¨åˆ›å»ºçš„ï¼Œé‚£ä¹ˆè¯¥ä¸»é¢˜çš„åˆ†åŒºæ•°æ˜¯ 50ï¼Œå‰¯æœ¬æ•°æ˜¯ 3ã€‚å»ºè®®ä¸è¦æ‰‹åŠ¨åˆ›å»º<br>1-7ï¼šåˆ é™¤ä¹Ÿæœ‰ä¸¤ç§æ–¹å¼ï¼Œè‡ªåŠ¨åˆ é™¤å’Œæ‰‹åŠ¨åˆ é™¤ï¼Œè‡ªåŠ¨åˆ é™¤ä¸çµæ´»ï¼Œæ‰‹åŠ¨åˆ é™¤æ›´å¯æ§<br>1-8ï¼šå¼•å…¥ä½ç§»ä¸»é¢˜çš„åŸå› æ˜¯ï¼Œzookeeperä¸åˆé€‚é¢‘ç¹çš„å†™å…¥ï¼Œkafkaçš„è®¾è®¡å¤©ç„¶æ”¯æŒå¿«é€ŸæŒä¹…åŒ–å’Œé«˜åå‡ºé‡<br>1-10ï¼šä½ç§»ä¸»é¢˜ï¼Œé€šå¸¸ä¸éœ€è¦è®¤ä¸ºå¹²é¢„ï¼Œè®©å…¶è‡ªæˆ‘ç®¡ç†å°±è¡Œäº†<br><br>å¦‚æœä¸å·§å­˜å‚¨kafkaä½ç§»ä¸»é¢˜ä¿¡æ¯çš„åˆ†åŒºçš„brokeréƒ½å®•æœºäº†ï¼Œé‚£å…¶ä»–çš„ä¸»é¢˜æ¶ˆæ¯æ˜¯å¦ä¹Ÿæ— æ³•æ¶ˆè´¹å•¦ï¼Ÿ<br><br>å¦å¤–ï¼Œæ‰‹åŠ¨å†™ä½ç§»ä¸»é¢˜çš„ä¿¡æ¯ï¼Œå¦‚æœä¸å°å¿ƒå°†æ ¼å¼å¼„é”™äº†ï¼Œä¼šå¯¼è‡´brokerçš„å´©æºƒï¼Œé‚£brokeræ˜¯ä¸æ˜¯è®¾è®¡çš„æœ‰äº›è„†å¼±ï¼Ÿ","like_count":0},{"had_liked":false,"id":114805,"user_name":"å…¶å®æˆ‘å¾ˆå±Œ","can_delete":false,"product_type":"c1","uid":1138722,"ip_address":"","ucode":"2B75EAAD748A60","user_header":"https://static001.geekbang.org/account/avatar/00/11/60/22/92284df2.jpg","comment_is_top":false,"comment_ctime":1563410655,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1563410655","product_id":100029201,"comment_content":"ä½ç§»ä¸»é¢˜é»˜è®¤å‰¯æœ¬æ˜¯1ï¼Œå»ºè®®åœ¨æ­£æ–‡ä¸­æç¤ºä¸€ä¸‹ã€‚è¿™ä¸ªå‚æ•°å¾ˆè¦å‘½","like_count":0,"discussions":[{"author":{"id":1521451,"avatar":"https://static001.geekbang.org/account/avatar/00/17/37/2b/b32f1d66.jpg","nickname":"Ball","note":"","ucode":"1EE949E68D84CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":129014,"discussion_content":"èƒ½è§£é‡Šä¸€ä¸‹è®¾ç½®ä¸º 1 æœ‰ä»€ä¹ˆåæœå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578669252,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1618482,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/32/d26f92c5.jpg","nickname":"å¢¨å°é›¨çš„çŒ«","note":"","ucode":"A14EBA5949837D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1521451,"avatar":"https://static001.geekbang.org/account/avatar/00/17/37/2b/b32f1d66.jpg","nickname":"Ball","note":"","ucode":"1EE949E68D84CA","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211229,"discussion_content":"å‰¯æœ¬æ˜¯1ï¼Œä¸€æ—¦ä½ç§»ä¸»é¢˜åˆ†åŒºæ‰€åœ¨çš„æœåŠ¡å™¨å‡ºç°æ•…éšœï¼Œåç§»é‡çš„æ•°æ®å°±ä¼šç¼ºå¤±ä¸€éƒ¨åˆ†ï¼Œä¼šç›´æ¥å½±å“æœåŠ¡çš„æ­£å¸¸ä½¿ç”¨","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1584814347,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":129014,"ip_address":""},"score":211229,"extra":""}]}]},{"had_liked":false,"id":113259,"user_name":"å­å","can_delete":false,"product_type":"c1","uid":1117804,"ip_address":"","ucode":"1611EE58EC2042","user_header":"https://static001.geekbang.org/account/avatar/00/11/0e/6c/aebf4466.jpg","comment_is_top":false,"comment_ctime":1562926424,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1562926424","product_id":100029201,"comment_content":"ä½ å¥½ï¼Œè¯·æ•™ä¸‹ã€‚å‘ç°çº¿ä¸Šoffsets.topic.replication.factor=1  ç„¶åé€šè¿‡å®˜ç½‘æ•™ç¨‹ https:&#47;&#47;kafka.apache.org&#47;documentation&#47;#basic_ops_increase_replication_factor åœ¨çº¿è°ƒæ•´äº†ä½ç§»ä¸»é¢˜çš„åˆ†åŒºæ•°3 ï¼Œä¹Ÿåé¦ˆæˆåŠŸäº†ã€‚ä½†æ˜¯è¿˜æ˜¯ä¸çŸ¥é“ è¿™ç§è°ƒæ•´æ–¹å¼ å¯¹äº __consumer_offsets è¿™ç§ç‰¹æ®Šä¸»é¢˜æ˜¯å¦æœ‰æ•ˆã€‚<br><br>å› ä¸ºå‘ç° æ¯”å¦‚ __consumer_offsets-46 è¿™ä¸ªä¸»é¢˜ï¼Œä¹‹å‰leaderçš„æ–‡ä»¶æœ‰<br>-rw-rw-r-- 1 www www        0 7æœˆ  10 14:59 00000000000000000000.index<br>-rw-rw-r-- 1 www www     2620 7æœˆ  10 14:59 00000000000000000000.log<br>-rw-rw-r-- 1 www www       12 7æœˆ  10 14:59 00000000000000000000.timeindex<br>-rw-rw-r-- 1 www www       10 6æœˆ  18 18:02 00000000000000000189.snapshot<br>-rw-rw-r-- 1 www www       10 6æœˆ  20 17:59 00000000000000000203.snapshot<br>-rw-rw-r-- 1 www www       10 7æœˆ   3 15:00 00000000000000000224.snapshot<br>-rw-rw-r-- 1 www www 10485760 7æœˆ  12 18:11 00000000000000065983.index<br>-rw-rw-r-- 1 www www  3091267 7æœˆ  12 18:11 00000000000000065983.log<br>-rw-rw-r-- 1 www www       10 7æœˆ  10 15:00 00000000000000065983.snapshot<br>-rw-rw-r-- 1 www www 10485756 7æœˆ  12 18:11 00000000000000065983.timeindex<br>-rw-rw-r-- 1 www www       28 7æœˆ  12 17:14 leader-epoch-checkpoint<br><br>ä½†æ˜¯åŒæ­¥åä¸¤ä¸ªå‰¯æœ¬æ–‡ä»¶å¤§æ¦‚å¦‚ä¸‹<br>-rw-rw-r-- 1 www www 10485760 7æœˆ  12 18:09 00000000000000000000.index<br>-rw-rw-r-- 1 www www  3093887 7æœˆ  12 18:11 00000000000000000000.log<br>-rw-rw-r-- 1 www www 10485756 7æœˆ  12 18:09 00000000000000000000.timeindex<br>-rw-rw-r-- 1 www www       23 7æœˆ  12 17:14 leader-epoch-checkpoint<br><br>å¾ˆæ˜æ˜¾åŒæ­¥åçš„å‰¯æœ¬æ²¡æœ‰00000000000000065983.indexè¿™ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯é€šè¿‡describle å‘½ä»¤çœ‹ éƒ½æ˜¯IsrçŠ¶æ€<br>Topic: __consumer_offsets\tPartition: 46\tLeader: 0\tReplicas: 0,1,2\tIsr: 0,2,1<br><br>ä¸çŸ¥é“è¿™ç§çŠ¶æ€æ˜¯å¦OKï¼Ÿ","like_count":0},{"had_liked":false,"id":112171,"user_name":"aof","can_delete":false,"product_type":"c1","uid":1062864,"ip_address":"","ucode":"5815D63C4926BC","user_header":"https://static001.geekbang.org/account/avatar/00/10/37/d0/26975fba.jpg","comment_is_top":false,"comment_ctime":1562677665,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1562677665","product_id":100029201,"comment_content":"è€å¸ˆèƒ½è§£é‡Šä¸€ä¸‹zkä¸é€‚åˆé¢‘ç¹è¯»å†™çš„åŸç†å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1618482,"avatar":"https://static001.geekbang.org/account/avatar/00/18/b2/32/d26f92c5.jpg","nickname":"å¢¨å°é›¨çš„çŒ«","note":"","ucode":"A14EBA5949837D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":211230,"discussion_content":"ä¸é€‚åˆé¢‘ç¹å†™æœ‰ä¸ªåŸå› æ˜¯ï¼Œzkçš„æ¯æ¬¡ä¿®æ”¹æ“ä½œéƒ½ä¼šå‘èµ·ä»²è£ï¼Œè¿™å¯¹å†™æ“ä½œçš„æ€§èƒ½çš„å½±å“æŒºå¤§çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1584814487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":112166,"user_name":"æ¼”æŠ€ç†Š","can_delete":false,"product_type":"c1","uid":1041915,"ip_address":"","ucode":"0C73B00E66A82F","user_header":"https://static001.geekbang.org/account/avatar/00/0f/e5/fb/77035151.jpg","comment_is_top":false,"comment_ctime":1562677187,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562677187","product_id":100029201,"comment_content":"ä¸ªäººæƒ³æ³•ï¼Œä¸ ZK æ–¹æ¡ˆç›¸æ¯”ï¼Œå†™å…¥åˆ°è‡ªèº«é›†ç¾¤ä¸­ä½¿ Kafka é›†ç¾¤æœ¬èº«å˜æˆäº†ä¸€ä¸ªæœ‰çŠ¶æ€çš„æœåŠ¡ï¼Œä¸åˆ©äºæœåŠ¡æœ¬èº«çš„æ‰©å±•å§ï¼Œå¦‚æœå…¶ä¸­æŸä¸ª broker å®•æœºï¼Œå¯èƒ½ä¼šå¯¹ offset çš„æäº¤æœ‰å½±å“ã€‚<br><br>å¦å¤–ï¼Œæ‰‹åŠ¨æäº¤ offset åœ¨ä¸€äº›åœºæ™¯ä¸‹æ¯”è¾ƒæœ‰ç”¨ã€‚<br><br>æ¯”å¦‚æœ‰10æ¡æ¶ˆæ¯ï¼Œ<br>offset   key <br>1          A<br>2         B<br>3          C<br>4         A<br>5          B<br>6          C<br>7          A<br>8          A<br>9          A<br>10         B<br><br>å¦‚æœæˆ‘å¯¹åŒæ · Key çš„æ¶ˆè´¹é¡ºåºæœ‰ä¸¥æ ¼è¦æ±‚ï¼Œé‚£ä¹ˆæˆ‘å¿…é¡»åˆ†æˆ 3 ç»„æ¥åˆ†åˆ«é¡ºåºå¤„ç†ï¼Œ<br>A ç»„<br>1          A<br>4         A<br>7          A<br>8          A<br>9          A<br><br>Bç»„<br>2         B<br>5          B<br>10         B<br><br>Cç»„<br>3          C<br>6          C<br><br>å‡å¦‚æ¯ä¸ªæ¶ˆæ¯çš„å¤„ç†æ—¶é—´éƒ½å·®ä¸å¤šçš„è¯ï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½ B ç»„çš„ 10 å·æ¯” A è¦æ—©å¤„ç†å®Œï¼Œé‚£ä¹ˆè¿™æ—¶å¦‚æœè‡ªåŠ¨æäº¤ offset ï¼Œå¾ˆå¯èƒ½ä¼šå¯¼è‡´ A ç»„äº§ç”Ÿæ¶ˆæ¯ä¸¢å¤±é£é™©ã€‚<br>é™¤é 10 æ¡æ¶ˆæ¯å®Œå…¨ä¸²è¡Œå¤„ç†ï¼Œä½†æ˜¯è¿™æ˜¯æ²¡æœ‰å¿…è¦çš„ï¼Œåˆ†æˆä¸‰ç»„å¤„ç†æ€»æ—¶é—´å–å†³äºå¤„ç†æœ€ä¹…çš„é‚£ä¸€ç»„ã€‚<br><br><br>","like_count":0},{"had_liked":false,"id":112053,"user_name":"æ— è‡æœ‹å‹","can_delete":false,"product_type":"c1","uid":1035562,"ip_address":"","ucode":"80482C5F0464A3","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cd/2a/bdbed6ed.jpg","comment_is_top":false,"comment_ctime":1562660770,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1562660770","product_id":100029201,"comment_content":"èƒ¡è€å¸ˆï¼Œåˆšæ¥è§¦kafkaï¼Œå¾ˆå¤šä¸äº†è§£çš„åœ°æ–¹ï¼Œæœ‰ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆoffsetéœ€è¦ç”±consumerç«¯æ¥æäº¤ï¼Œæ¯”å¦‚æœ‰è¿™ä¹ˆä¸€ç§æƒ…å†µï¼š<br>æ¶ˆè´¹è€…ç»„c1å»æ¶ˆè´¹æŸä¸ªtopicçš„åˆ†åŒº0ï¼Œä»0å¼€å§‹æ¶ˆè´¹ï¼Œä¸€æ¬¡æ‹‰å–äº†10æ¡æ¶ˆæ¯ï¼Œé‚£ä¹ˆconsumeræ‹‰å–æˆåŠŸåï¼Œå›ç»™brokerä¸€ä¸ªackï¼Œbrokeræ”¶åˆ°ackåï¼Œå¾€__consumer_offsetsä¸»é¢˜é‡Œå†™å…¥æ¶ˆæ¯ï¼Œæ¯”å¦‚c1-topic-0-10","like_count":0,"discussions":[{"author":{"id":1521451,"avatar":"https://static001.geekbang.org/account/avatar/00/17/37/2b/b32f1d66.jpg","nickname":"Ball","note":"","ucode":"1EE949E68D84CA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":129029,"discussion_content":"æ‹‰å–æˆåŠŸä¸ç­‰äºæ¶ˆè´¹æˆåŠŸ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1578669459,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1009260,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/6c/4a68a916.jpg","nickname":"åŒå¶","note":"","ucode":"6DA1D477F9D580","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1529,"discussion_content":"å¦‚æœè¦å®ç°è‡³å°‘ä¸€æ¬¡çš„è¯­ä¹‰çš„è¯ï¼Œå°±ä¸èƒ½åœ¨æ‹‰å»æˆåŠŸä¹‹åå°±æäº¤ï¼Œå¿…é¡»åœ¨å¤„ç†å®Œäº†ä¹‹åæäº¤ï¼Œä»€ä¹ˆæ—¶å€™å¤„ç†å®Œåªæœ‰ consumer çŸ¥é“","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562676217,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1035562,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/cd/2a/bdbed6ed.jpg","nickname":"æ— è‡æœ‹å‹","note":"","ucode":"80482C5F0464A3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1009260,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/66/6c/4a68a916.jpg","nickname":"åŒå¶","note":"","ucode":"6DA1D477F9D580","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":1612,"discussion_content":"æ„Ÿè°¢æ‚¨çš„å›å¤","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562730263,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":1529,"ip_address":""},"score":1612,"extra":""}]}]},{"had_liked":false,"id":111938,"user_name":"lmtoo","can_delete":false,"product_type":"c1","uid":1133918,"ip_address":"","ucode":"FCD5B9C941D448","user_header":"https://static001.geekbang.org/account/avatar/00/11/4d/5e/c5c62933.jpg","comment_is_top":false,"comment_ctime":1562640057,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562640057","product_id":100029201,"comment_content":"æˆ‘å¯¹è¿™ä¸ªcompactçš„è¿‡ç¨‹æ¯”è¾ƒæ„Ÿå…´è¶£ï¼Œæ˜¯æ‹·è´åŸå§‹æ—¥å¿—æœ€æ–°çš„æ¶ˆæ¯åˆ°ä¸€ä¸ªæ–°çš„æ—¥å¿—æ–‡ä»¶ï¼Œè¿˜æ˜¯ç›´æ¥åœ¨åŸå§‹æ—¥å¿—ä¸Šåšåˆ é™¤æ“ä½œï¼Ÿè¿™ä¸ªå·¥ä½œé‡åº”è¯¥éå¸¸å¤§","like_count":0},{"had_liked":false,"id":111931,"user_name":"åƒé¥­é¥­","can_delete":false,"product_type":"c1","uid":1231549,"ip_address":"","ucode":"95CFA07CDA2957","user_header":"https://static001.geekbang.org/account/avatar/00/12/ca/bd/a51ae4b2.jpg","comment_is_top":false,"comment_ctime":1562639254,"is_pvip":false,"replies":[{"id":"40846","content":"ä¸æ˜¯ã€‚ä½ç§»æäº¤è¿™ä»¶äº‹ä»è®¾è®¡åˆ°å®ç°ä¸ZooKeeperå®Œå…¨æ²¡æœ‰å…³è”äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"huxi_2b","uid":"1288090","ctime":1562721998,"ip_address":"","comment_id":111931,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1562639254","product_id":100029201,"comment_content":"__consumer_offsets è¿™ä¸ªä¸»é¢˜çš„å…ƒæ•°æ®ä¿¡æ¯è¿˜æ˜¯ä¼šåœ¨ Zookeeper ä¸­æ³¨å†Œå§ï¼Ÿåªæ˜¯ä½ç§»çš„ä¿¡æ¯å˜æ›´å­˜å‚¨åœ¨äº† Kafka ä¸­å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1288090,"avatar":"https://static001.geekbang.org/account/avatar/00/13/a7/9a/495cb99a.jpg","nickname":"èƒ¡å¤•","note":"","ucode":"5709A689B6683B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":457500,"discussion_content":"ä¸æ˜¯ã€‚ä½ç§»æäº¤è¿™ä»¶äº‹ä»è®¾è®¡åˆ°å®ç°ä¸ZooKeeperå®Œå…¨æ²¡æœ‰å…³è”äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1562721998,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":111868,"user_name":"è’™å¼€å¼º","can_delete":false,"product_type":"c1","uid":1317706,"ip_address":"","ucode":"61B3183781B9F7","user_header":"https://static001.geekbang.org/account/avatar/00/14/1b/4a/f9df2d06.jpg","comment_is_top":false,"comment_ctime":1562632959,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1562632959","product_id":100029201,"comment_content":"è€å¸ˆï¼Œä½ å¥½ï¼Œå¦‚æœæŸæ¡ä¿¡æ¯æ¶ˆè´¹å¤±è´¥äº†ï¼Œé‚£æˆ‘é‡æ–°æ¶ˆè´¹é‚£å¯ä»¥è·å–åˆšåˆšå¤±è´¥ä¿¡æ¯çš„offsetä¹ˆï¼Œå¦‚æœæ”¾zkï¼Œé‚£æ˜¯å¯ä»¥è·å¾—æœ€å¤§æ¶ˆè´¹çš„offsetçš„","like_count":0},{"had_liked":false,"id":111847,"user_name":"æ›¾è½¼éºŸ","can_delete":false,"product_type":"c1","uid":1451391,"ip_address":"","ucode":"D418371AC11270","user_header":"https://static001.geekbang.org/account/avatar/00/16/25/7f/473d5a77.jpg","comment_is_top":false,"comment_ctime":1562631000,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1562631000","product_id":100029201,"comment_content":"zookeeperæ˜¯HAæ¨¡å¼ï¼Œå¦‚æœä½¿ç”¨topicå°±æ²¡æ³•åšåˆ°æ•°æ®å¼ºä¸€è‡´æ€§","like_count":0,"discussions":[{"author":{"id":2298937,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eoCl6Nxf9oW9tBOaJlH7JqNIiabF8eqMqK1uRhwabXBU3j6kyjVpI2fjm5nZKoZTUA7Cpicb7ajSkrA/132","nickname":"loma","note":"","ucode":"C5CFC3F0D06000","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":345491,"discussion_content":"æ•°æ®å¿…é¡»æäº¤çš„æ¨¡å¼ack=all ä¸”kafka è¯»å†™éƒ½åœ¨masterä¸Š èƒ½å¤Ÿä¿è¯æ•°æ®å¼ºä¸€è‡´æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611727817,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1177859,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f9/03/439bdb70.jpg","nickname":"é­”éƒ½æµªå­","note":"","ucode":"8301440705105A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":257667,"discussion_content":"åŒä¸€ä¸ªKEYçš„æ¶ˆæ¯æœ‰å¤šæ¡ï¼Œconsumer é‡å¯çš„æ—¶å€™ï¼Œæ˜¯å¦‚ä½•å¿«é€Ÿè¯»åˆ°å¯¹åº” partition æœ€æ–° offset çš„?\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588598551,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
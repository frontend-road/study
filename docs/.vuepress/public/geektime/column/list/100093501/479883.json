{"id":479883,"title":"å¤§å’–åŠ©é˜µï½œå¶å‰‘å³°ï¼šGoè¯­è¨€ä¸­å¸¸ç”¨çš„é‚£äº›ä»£ç ä¼˜åŒ–ç‚¹","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯è½©è„‰åˆƒï¼Œæ˜¯<a href=\"https://time.geekbang.org/column/intro/100090601\">ã€Šæ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä¸€ä¸ªWebæ¡†æ¶ã€‹</a>ä¸“æ çš„ä½œè€…ã€‚</p><p>å¾ˆé«˜å…´åº”ç¼–è¾‘é‚€è¯·ï¼Œä¸º Tony Bai è€å¸ˆçš„ä¸“æ å†™ä¸€ç¯‡åŠ é¤æ–‡ç« ã€‚Tony Baiå¤§ä½¬æ˜¯æˆ‘å¾ˆæ—©åœ¨å¾®åšå…³æ³¨çš„ä¸€åGoå…ˆè¡Œè€…ã€‚ä»–çš„ã€ŠGopher Dailyã€‹ä¹Ÿæ˜¯æˆ‘ç»å¸¸å­¦ä¹ é˜…è¯»çš„Goè¯­è¨€èµ„æ–™ä¹‹ä¸€ã€‚å¾ˆé«˜å…´çœ‹åˆ°Tony Baiè€å¸ˆåœ¨æå®¢æ—¶é—´ä¹Ÿå¼€äº†ä¸€ä¸ªä¸“æ ï¼Œå°†ä»–çš„ç»éªŒåˆ†äº«å‡ºæ¥ã€‚</p><p>è¿™ç¯‡åŠ é¤ï¼Œæˆ‘ä¸»è¦æƒ³å’Œä½ èŠä¸€èŠGoè¯­è¨€ä¸­å¸¸ç”¨çš„ä¸€äº›ä»£ç ä¼˜åŒ–ç‚¹ã€‚åœ¨Goè¯­è¨€ä¸­ï¼Œå¦‚æœä½ ä¸æ–­åœ°åœ¨ä¸€çº¿å†™ä»£ç ï¼Œä¸€å®šå¤šå¤šå°‘å°‘éƒ½ä¼šæœ‰ä¸€äº›å†™ä»£ç çš„å¥—è·¯å’Œç»éªŒã€‚è¿™äº›å¥—è·¯å’Œç»éªŒå¯ä»¥å¸®åŠ©ä½ åœ¨å®é™…å·¥ä½œä¸­é‡åˆ°ç±»ä¼¼é—®é¢˜æ—¶ï¼Œæ›´æˆç«¹åœ¨èƒ¸ã€‚</p><p>æ‰€ä»¥è¿™é‡Œï¼Œæˆ‘æƒ³å’Œä½ åˆ†äº«ä¸€ä¸‹æˆ‘ä¸ªäººåœ¨å¼€å‘è¿‡ç¨‹ä¸­çœ‹åˆ°å’Œä½¿ç”¨åˆ°çš„ä¸€äº›å¸¸ç”¨çš„ä»£ç ä¼˜åŒ–ç‚¹ï¼Œå¸Œæœ›èƒ½ç»™ä½ æ—¥å¸¸ç¼–ç å¸¦æ¥ä¸€äº›å¸®åŠ©ã€‚</p><h2>ç¬¬ä¸€ç‚¹ï¼šä½¿ç”¨pkg/errorsè€Œä¸æ˜¯å®˜æ–¹erroråº“</h2><p>å…¶å®æˆ‘ä»¬å¯ä»¥æ€è€ƒä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨é”™è¯¯æœºåˆ¶ï¼Œæœ€æ ¸å¿ƒçš„å‡ ä¸ªéœ€æ±‚æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘è§‰å¾—ä¸»è¦æ˜¯è¿™ä¸¤ç‚¹ï¼š</p><ul>\n<li>é™„åŠ ä¿¡æ¯ï¼šæˆ‘ä»¬å¸Œæœ›é”™è¯¯å‡ºç°çš„æ—¶å€™èƒ½é™„å¸¦ä¸€äº›æè¿°æ€§çš„é”™è¯¯ä¿¡æ¯ï¼Œç”šè‡³è¿™äº›ä¿¡æ¯æ˜¯å¯ä»¥åµŒå¥—çš„ï¼›</li>\n<li>é™„åŠ å †æ ˆï¼šæˆ‘ä»¬å¸Œæœ›é”™è¯¯ä¸ä»…ä»…æ‰“å°å‡ºé”™è¯¯ä¿¡æ¯ï¼Œä¹Ÿèƒ½æ‰“å°å‡ºè¿™ä¸ªé”™è¯¯çš„å †æ ˆä¿¡æ¯ï¼Œè®©æˆ‘ä»¬å¯ä»¥çŸ¥é“å‡ºé”™çš„å…·ä½“ä»£ç ã€‚</li>\n</ul><p>åœ¨Goè¯­è¨€çš„æ¼”è¿›è¿‡ç¨‹ä¸­ï¼Œerrorä¼ é€’çš„ä¿¡æ¯å¤ªå°‘ä¸€ç›´æ˜¯è¢«è¯Ÿç—…çš„ä¸€ç‚¹ã€‚ä½¿ç”¨å®˜æ–¹çš„erroråº“ï¼Œæˆ‘ä»¬åªèƒ½æ‰“å°ä¸€æ¡ç®€å•çš„é”™è¯¯ä¿¡æ¯ï¼Œè€Œæ²¡æœ‰æ›´å¤šçš„ä¿¡æ¯è¾…åŠ©å¿«é€Ÿå®šä½é”™è¯¯ã€‚æ‰€ä»¥ï¼Œæˆ‘æ¨èä½ åœ¨åº”ç”¨å±‚ä½¿ç”¨ github.com/pkg/errors æ¥æ›¿æ¢å®˜æ–¹çš„erroråº“ã€‚å› ä¸ºä½¿ç”¨pkg/errorsï¼Œæˆ‘ä»¬ä¸ä»…èƒ½ä¼ é€’å‡ºæ ‡å‡†åº“errorçš„é”™è¯¯ä¿¡æ¯ï¼Œè¿˜èƒ½ä¼ é€’å‡ºæŠ›å‡ºerrorçš„å †æ ˆä¿¡æ¯ã€‚</p><!-- [[[read_end]]] --><p>è¿™é‡Œï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ç›´è§‚æ„Ÿå—ä¸€ä¸‹ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªé¡¹ç›®å«errdemoï¼Œä»–æœ‰sub1,sub2ä¸¤ä¸ªå­åŒ…ã€‚sub1å’Œsub2ä¸¤ä¸ªåŒ…éƒ½æœ‰Diffå’ŒIoDiffä¸¤ä¸ªå‡½æ•°ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/d9/b4/d9eb082d98575e2cddb4c473f82d0bb4.png?wh=546x698\" alt=\"å›¾ç‰‡\"></p><p>æˆ‘ä»¬è®¾è®¡çš„è¿™ä¸ªç¨‹åºï¼Œåœ¨sub2.goå’Œsub1.goä¸­éƒ½æŠ›å‡ºäº†é”™è¯¯ï¼Œä¸”é”™è¯¯ä¿¡æ¯éƒ½ä¸ºdiff errorã€‚æˆ‘ä»¬çœ‹ä¸‹ä½¿ç”¨æ ‡å‡†åº“errorå’Œpkg/errorséƒ½èƒ½è¿”å›ä»€ä¹ˆä¿¡æ¯ï¼š</p><pre><code class=\"language-plain\">// sub2.go\npackage sub2\nimport (\n    \"errors\"\n)\nfunc Diff(foo int, bar int) error {\n    return errors.New(\"diff error\")\n}\n\n\n\n// sub1.go\npackage sub1\n\nimport (\n    \"errdemo/sub1/sub2\"\n    \"fmt\"\n    \"errors\"\n)\nfunc Diff(foo int, bar int) error {\n    if foo &lt; 0 {\n        return errors.New(\"diff error\")\n    }\n    if err := sub2.Diff(foo, bar); err != nil {\n        return err\n    }\n    return nil\n}\n\n// main.go\npackage main\n\nimport (\n    \"errdemo/sub1\"\n    \"fmt\"\n)\nfunc main() {\n    err := sub1.Diff(1, 2)\n    fmt.Println(err)\n}\n</code></pre><p>åœ¨è¿™ä¸‰æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬å¾ˆä¸å¹¸åœ°å°†sub1.goä¸­çš„Diffè¿”å›çš„errorå’Œsub2.goä¸­Diffè¿”å›çš„errorï¼Œéƒ½å®šä¹‰ä¸ºåŒæ ·çš„å­—ç¬¦ä¸²â€œdiff errorâ€ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ae/c5/ae93bd0cd55f6d5e9fe00e374245fec5.png?wh=374x51\" alt=\"å›¾ç‰‡\"></p><p>è¿™ä¸ªæ—¶å€™ï¼Œåœ¨main.goä¸­ï¼Œæˆ‘ä»¬æ˜¯æ— è®ºå¦‚ä½•éƒ½ä¸èƒ½é€šè¿‡è¿™ä¸ªé”™è¯¯ä¿¡æ¯ï¼Œæ¥åˆ¤æ–­è¿™ä¸ªerroråˆ°åº•æ˜¯ä»sub1 è¿˜æ˜¯ sub2 ä¸­æŠ›å‡ºçš„ï¼Œè°ƒè¯•çš„æ—¶å€™ä¼šå¸¦æ¥å¾ˆå¤§çš„å›°æ‰°ã€‚</p><p>è€Œä½¿ç”¨ github.com/pkg/errors ï¼Œå°±ä¸åŒäº†ï¼Œå®ƒå¯ä»¥æŠŠé”™è¯¯çš„å †æ ˆä¿¡æ¯ä¹Ÿæ‰“å°å‡ºæ¥ã€‚è€Œä¸”ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„ä»£ç éƒ½ä¸éœ€è¦è¿›è¡Œä¿®æ”¹ï¼Œåªéœ€è¦å°†importåœ°æ–¹è¿›è¡Œå¯¹åº”çš„ä¿®æ”¹å°±å¯ä»¥äº†ã€‚</p><p>æ¯”å¦‚ï¼Œåœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨main.goä¸­ä½¿ç”¨ <code>fmt.Printf(\"%+v\", err)</code> å°±å¯ä»¥äº†ï¼š</p><pre><code class=\"language-plain\">// sub2.go\npackage sub2\nimport (\n    \"github.com/pkg/errors\"\n)\nfunc Diff(foo int, bar int) error {\n    return errors.New(\"diff error\")\n}\n\n\n\n// sub1.go\npackage sub1\n\nimport (\n    \"errdemo/sub1/sub2\"\n    \"fmt\"\n    \"github.com/pkg/errors\"\n)\nfunc Diff(foo int, bar int) error {\n    if foo &lt; 0 {\n        return errors.New(\"diff error\")\n    }\n    if err := sub2.Diff(foo, bar); err != nil {\n        return err\n    }\n    return nil\n}\n\n// main.go\npackage main\n\nimport (\n    \"errdemo/sub1\"\n    \"fmt\"\n)\nfunc main() {\n    err := sub1.Diff(1, 2)\n    fmt.Printf(\"%+v\", err)\n}\n</code></pre><p>æˆ‘ä»¬å†çœ‹è¿™ä¸ªç¨‹åºè¿è¡Œçš„ç»“æœï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/2d/40/2dff326f340d6e3f6a4b91091b83a240.png?wh=600x288\" alt=\"å›¾ç‰‡\"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œé™¤äº†\"diff error\" çš„é”™è¯¯ä¿¡æ¯ä¹‹å¤–ï¼Œpkg/errors è¿˜å°†å †æ ˆæ‰“å°å‡ºæ¥äº†ï¼Œæˆ‘ä»¬èƒ½æ˜ç¡®åœ°çœ‹åˆ°æ˜¯sub2.goä¸­ç¬¬7è¡ŒæŠ›å‡ºçš„é”™è¯¯ã€‚</p><p>é‚£ä¹ˆï¼Œgithub.com/pkg/errorsæ˜¯æ€ä¹ˆå®ç°è¿™ä¸ªåŠŸèƒ½çš„å‘¢ï¼Ÿå…¶å®ï¼Œå®ƒçš„åŸç†éå¸¸ç®€å•ï¼Œå®ƒå°±æ˜¯åˆ©ç”¨äº†fmtåŒ…çš„ä¸€ä¸ªç‰¹æ€§ã€‚fmtåŒ…åœ¨æ‰“å°errorä¹‹å‰ä¼šåˆ¤æ–­å½“å‰æ‰“å°çš„å¯¹è±¡æ˜¯å¦å®ç°äº†Formatteræ¥å£ï¼Œè¿™ä¸ªformatteræ¥å£åªæœ‰ä¸€ä¸ªformatæ–¹æ³•ã€‚å¦‚æœè¦è¾“å‡ºçš„å¯¹è±¡å®ç°äº†è¿™ä¸ªFormatteræ¥å£ï¼Œåˆ™è°ƒç”¨å¯¹è±¡çš„Formatæ–¹æ³•æ¥æ‰“å°ä¿¡æ¯ï¼š</p><pre><code>type Formatter interface {\n    Format(f State, c rune)\n}\n</code></pre><p>è€Œgithub.com/pkg/errors ä¸­æä¾›çš„å„ç§åˆå§‹åŒ–erroræ–¹æ³•ï¼ˆåŒ…æ‹¬errors.Newï¼‰å°è£…äº†ä¸€ä¸ªfundamental ç»“æ„ï¼Œè¿™ä¸ªç»“æ„å°±æ˜¯å®ç°äº†Formatteræ¥å£ï¼š</p><pre><code>// fundamental is an error that has a message and a stack, but no caller.\ntype fundamental struct {\n        msg string\n        *stack\n}\n</code></pre><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªfundamentalç»“æ„ä¸­å¸¦ç€errorçš„ä¿¡æ¯å’Œå †æ ˆä¿¡æ¯ã€‚å¹¶ä¸”å®ç°äº†Formatæ–¹æ³•ã€‚åœ¨Formatæ–¹æ³•ä¸­ï¼Œåˆ¤æ–­è°ƒç”¨fmt.Printf å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¦‚æœæ˜¯+vï¼Œåˆ™æ‰“å°é”™è¯¯å†…å®¹å’Œå †æ ˆä¿¡æ¯ï¼Œå¦‚æœæ˜¯væˆ–è€…sï¼Œåˆ™æ‰“å°é”™è¯¯å†…å®¹ï¼Œå¦‚æœæ˜¯qï¼Œåˆ™æ‰“å°è½¬ä¹‰åçš„ä¿¡æ¯ï¼š</p><pre><code>func (f *fundamental) Format(s fmt.State, verb rune){\n        switch verb {\n        case 'v':\n                if s.Flag('+') {\n                        io.WriteString(s, f.msg)\n                        f.stack.Format(s, verb)\n                        return\n                }\n                fallthrough\n        case 's':\n                io.WriteString(s, f.msg)\n        case 'q':\n                fmt.Fprintf(s, &quot;%q&quot;, f.msg)    \n        }\n}\n</code></pre><p>æ‰€ä»¥è¯´ï¼Œæˆ‘ä»¬åœ¨å®é™…çš„å·¥ä½œé¡¹ç›®ä¸­ï¼Œæˆ‘å»ºè®®ä½ å°½é‡ä½¿ç”¨pkg/errorsè€Œä¸æ˜¯å®˜æ–¹erroråº“ï¼Œè¿™æ ·æˆ‘ä»¬èƒ½åœ¨é”™è¯¯å‡ºç°çš„æ—¶å€™è·å–æ›´å¤šçš„é”™è¯¯ä¿¡æ¯ï¼Œæ›´å¿«åœ°å®šä½é—®é¢˜ã€‚</p><h2>ç¬¬äºŒç‚¹ï¼šåœ¨åˆå§‹åŒ–sliceçš„æ—¶å€™å°½é‡è¡¥å…¨cap</h2><p>å½“æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªsliceç»“æ„ï¼Œå¹¶ä¸”å¾€sliceä¸­appendå…ƒç´ çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½æœ‰ä¸¤ç§å†™æ³•æ¥åˆå§‹åŒ–è¿™ä¸ªsliceã€‚</p><p><strong>æ–¹æ³•ä¸€ï¼Œç›´æ¥ä½¿ç”¨[]intçš„æ–¹å¼æ¥åˆå§‹åŒ–ï¼š</strong></p><pre><code class=\"language-plain\">package main\n\nimport \"fmt\"\n\nfunc main() {\n    arr := []int{}\n    arr = append(arr, 1, 2, 3, 4, 5)\n    fmt.Println(arr)\n}\n</code></pre><p><strong>æ–¹æ³•äºŒï¼Œä½¿ç”¨makeå…³é”®å­—æ¥åˆå§‹åŒ–ï¼š</strong></p><pre><code class=\"language-plain\">package main\n\nimport \"fmt\"\n\nfunc main() {\n   arr := make([]int, 0, 5)\n   arr = append(arr, 1, 2, 3, 4, 5)\n   fmt.Println(arr)\n}\n</code></pre><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ–¹æ³•äºŒç›¸è¾ƒäºæ–¹æ³•ä¸€ï¼Œå°±åªæœ‰ä¸€ä¸ªåŒºåˆ«ï¼š<strong>åœ¨åˆå§‹åŒ–[]int sliceçš„æ—¶å€™åœ¨makeä¸­è®¾ç½®äº†capçš„é•¿åº¦ï¼Œå°±æ˜¯sliceçš„å¤§å°</strong>ã€‚</p><p>è€Œä¸”ï¼Œè¿™ä¸¤ç§æ–¹æ³•å¯¹åº”çš„åŠŸèƒ½å’Œè¾“å‡ºç»“æœæ˜¯æ²¡æœ‰ä»»ä½•å·®åˆ«çš„ï¼Œä½†æ˜¯å®é™…è¿è¡Œçš„æ—¶å€™ï¼Œæ–¹æ³•äºŒä¼šæ¯”æ–¹æ³•ä¸€å°‘è¿è¡Œäº†ä¸€ä¸ªgrowsliceçš„å‘½ä»¤ï¼Œèƒ½å¤Ÿæå‡æˆ‘ä»¬ç¨‹åºçš„è¿è¡Œæ€§èƒ½ã€‚å…·ä½“æˆ‘ä»¬å¯ä»¥æ‰“å°æ±‡ç¼–ç æŸ¥çœ‹ä¸€ä¸‹ã€‚</p><p>æ–¹æ³•ä¸€ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ee/9d/ee3e93ab0b2f145befe5e4d4dde2e29d.png?wh=551x485\" alt=\"å›¾ç‰‡\"></p><p>æ–¹æ³•äºŒï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/b9/9f/b95ba410d26d5130d0fc5d0ec2761e9f.png?wh=549x483\" alt=\"å›¾ç‰‡\"></p><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œæ–¹æ³•ä¸€ä¸­ä½¿ç”¨äº†growssliceæ–¹æ³•ï¼Œè€Œæ–¹æ³•äºŒä¸­æ˜¯æ²¡æœ‰è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„ã€‚</p><p>è¿™ä¸ªgrowsliceçš„ä½œç”¨å°±æ˜¯æ‰©å……sliceå®¹é‡ï¼Œæ¯å½“æˆ‘ä»¬çš„sliceå®¹é‡å°äºæˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„sliceå¤§å°ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¼šè¢«è§¦å‘ã€‚å®ƒçš„æœºåˆ¶å°±å¥½æ¯”æ˜¯åŸå…ˆæˆ‘ä»¬æ²¡æœ‰å®šåˆ¶å®¹é‡ï¼Œç³»ç»Ÿç»™äº†æˆ‘ä»¬ä¸€ä¸ªèƒ½è£…ä¸¤ä¸ªé‹å­çš„ç›’å­ï¼Œä½†æ˜¯å½“æˆ‘ä»¬è£…åˆ°ç¬¬ä¸‰ä¸ªé‹å­çš„æ—¶å€™ï¼Œè¿™ä¸ªç›’å­å°±ä¸å¤Ÿäº†ï¼Œæˆ‘ä»¬å°±è¦æ¢ä¸€ä¸ªç›’å­ï¼Œè€Œæ¢è¿™ä¸ªç›’å­ï¼Œæˆ‘ä»¬åŠ¿å¿…è¿˜éœ€è¦å°†åŸå…ˆçš„ç›’å­é‡Œé¢çš„é‹å­ä¹Ÿæ‹¿å‡ºæ¥æ”¾åˆ°æ–°çš„ç›’å­é‡Œé¢ã€‚</p><p>è€Œgrowssliceçš„æ“ä½œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„æ“ä½œï¼Œå®ƒçš„è¡¨ç°å’Œå¤æ‚åº¦ä¼šé«˜äºæœ€åŸºæœ¬çš„åˆå§‹åŒ–makeæ–¹æ³•ã€‚å¯¹è¿½æ±‚æ€§èƒ½çš„ç¨‹åºæ¥è¯´ï¼Œåº”è¯¥èƒ½é¿å…å°±å°½é‡é¿å…ã€‚</p><p>å¦‚æœä½ å¯¹growssliceå‡½æ•°çš„å…·ä½“å®ç°æ„Ÿå…´è¶£ï¼Œä½ å¯ä»¥å‚è€ƒæºç srcçš„ <a href=\"https://github.com/golang/go/blob/master/src/runtime/slice.go\">runtime/slice.go</a> ã€‚</p><p>å½“ç„¶ï¼Œæˆ‘ä»¬å¹¶ä¸æ˜¯æ¯æ¬¡éƒ½èƒ½åœ¨sliceåˆå§‹åŒ–çš„æ—¶å€™ï¼Œå°±å‡†ç¡®é¢„ä¼°åˆ°æœ€ç»ˆçš„ä½¿ç”¨å®¹é‡ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œè¯´çš„æ˜¯â€œå°½é‡è¡¥å…¨capâ€ã€‚æ˜ç™½æ˜¯å¦è®¾ç½®sliceå®¹é‡çš„åŒºåˆ«åï¼Œæˆ‘ä»¬åœ¨èƒ½é¢„ä¼°å®¹é‡çš„æ—¶å€™ï¼Œè¯·å°½é‡ä½¿ç”¨æ–¹æ³•äºŒé‚£ç§é¢„ä¼°å®¹é‡åçš„sliceåˆå§‹åŒ–æ–¹å¼ã€‚</p><h2>ç¬¬ä¸‰ç‚¹ï¼šåˆå§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœç±»çš„æ„é€ å‚æ•°è¾ƒå¤šï¼Œå°½é‡ä½¿ç”¨Optionå†™æ³•</h2><p>å½“æˆ‘ä»¬é‡åˆ°ä¸€å®šè¦åˆå§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨ç±»ä¼¼ä¸‹åˆ—çš„Newæ–¹æ³•ï¼š</p><pre><code class=\"language-plain\">package newdemo\n\ntype Foo struct {\n   name string\n   id int\n   age int\n\n   db interface{}\n}\n\nfunc NewFoo(name string, id int, age int, db interface{}) *Foo {\n   return &amp;Foo{\n      name: name,\n      id:   id,\n      age:  age,\n      db:   db,\n   }\n}\n</code></pre><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªNewFooæ–¹æ³•ï¼Œå…¶ä¸­å­˜æ”¾åˆå§‹åŒ–Fooç»“æ„æ‰€éœ€è¦çš„å„ç§å­—æ®µå±æ€§ã€‚</p><p>è¿™ä¸ªå†™æ³•ä¹çœ‹ä¹‹ä¸‹æ˜¯æ²¡å•¥é—®é¢˜çš„ï¼Œä½†æ˜¯ä¸€æ—¦Fooç»“æ„å†…éƒ¨çš„å­—æ®µå‘ç”Ÿäº†å˜åŒ–ï¼Œå¢åŠ æˆ–è€…å‡å°‘äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªåˆå§‹åŒ–å‡½æ•°NewFooå°±æ€ä¹ˆçœ‹æ€ä¹ˆåˆ«æ‰­äº†ã€‚</p><p>å‚æ•°ç»§ç»­å¢åŠ ï¼Ÿé‚£ä¹ˆæ‰€æœ‰è°ƒç”¨äº†è¿™ä¸ªNewFooæ–¹æ³•çš„åœ°æ–¹ä¹Ÿéƒ½éœ€è¦è¿›è¡Œä¿®æ”¹ï¼Œä¸”æŒ‰ç…§ä»£ç æ•´æ´çš„é€»è¾‘ï¼Œå‚æ•°å¤šäº5ä¸ªï¼Œè¿™ä¸ªå‡½æ•°å°±å¾ˆéš¾ä½¿ç”¨äº†ã€‚è€Œä¸”ï¼Œå¦‚æœè¿™5ä¸ªå‚æ•°éƒ½æ˜¯å¯æœ‰å¯æ— çš„å‚æ•°ï¼Œå°±æ˜¯æœ‰çš„å‚æ•°å¯ä»¥ä¸å¡«å†™ï¼Œæœ‰é»˜è®¤å€¼ï¼Œæ¯”å¦‚ageè¿™ä¸ªå­—æ®µï¼Œå³ä½¿æˆ‘ä»¬ä¸å¡«å†™ï¼Œåœ¨åç»­çš„ä¸šåŠ¡é€»è¾‘ä¸­å¯èƒ½ä¹Ÿæ²¡æœ‰å¾ˆå¤šå½±å“ï¼Œé‚£ä¹ˆæˆ‘åœ¨å®é™…è°ƒç”¨NewFooçš„æ—¶å€™ï¼Œageè¿™ä¸ªå­—æ®µè¿˜éœ€è¦ä¼ é€’0å€¼ï¼š</p><pre><code class=\"language-plain\">foo := NewFoo(\"jianfengye\", 1, 0, nil)\n</code></pre><p>ä¹çœ‹è¿™è¡Œä»£ç ï¼Œä½ å¯èƒ½ä¼šä»¥ä¸ºæˆ‘åˆ›å»ºäº†ä¸€ä¸ªFooï¼Œå®ƒçš„å¹´é¾„ä¸º0ï¼Œä½†æ˜¯å®é™…ä¸Šæˆ‘ä»¬æ˜¯å¸Œæœ›è¡¨è¾¾è¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªâ€œç¼ºçœå€¼â€ï¼Œè¿™ç§ä»£ç çš„è¯­ä¹‰é€»è¾‘å°±ä¸å¯¹äº†ã€‚</p><p>è¿™é‡Œå…¶å®æœ‰ä¸€ç§æ›´å¥½çš„å†™æ³•ï¼š<strong>ä½¿ç”¨Optionå†™æ³•æ¥è¿›è¡Œæ”¹é€ </strong>ã€‚</p><p>Optionå†™æ³•ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å°†æ‰€æœ‰å¯é€‰çš„å‚æ•°ä½œä¸ºä¸€ä¸ªå¯é€‰æ–¹å¼ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¼šè®¾è®¡ä¸€ä¸ªâ€œå‡½æ•°ç±»å‹â€æ¥ä»£è¡¨è¿™ä¸ªOptionï¼Œç„¶åé…å¥—å°†æ‰€æœ‰å¯é€‰å­—æ®µè®¾è®¡ä¸ºä¸€ä¸ªè¿™ä¸ªå‡½æ•°ç±»å‹çš„å…·ä½“å®ç°ã€‚åœ¨å…·ä½“çš„ä½¿ç”¨çš„æ—¶å€™ï¼Œä½¿ç”¨å¯å˜å­—æ®µçš„æ–¹å¼æ¥æ§åˆ¶æœ‰å¤šå°‘ä¸ªå‡½æ•°ç±»å‹ä¼šè¢«æ‰§è¡Œã€‚æ¯”å¦‚ä¸Šè¿°çš„ä»£ç ï¼Œæˆ‘ä»¬ä¼šæ”¹é€ ä¸ºï¼š</p><pre><code class=\"language-plain\">type Foo struct {\n    name string\n    id int\n    age int\n\n    db interface{}\n}\n\n// FooOption ä»£è¡¨å¯é€‰å‚æ•°\ntype FooOption func(foo *Foo)\n\n// WithName ä»£è¡¨Nameä¸ºå¯é€‰å‚æ•°\nfunc WithName(name string) FooOption {\n   return func(foo *Foo) {\n      foo.name = name\n   }\n}\n\n// WithAge ä»£è¡¨ageä¸ºå¯é€‰å‚æ•°\nfunc WithAge(age int) FooOption {\n   return func(foo *Foo) {\n      foo.age = age\n   }\n}\n\n// WithDB ä»£è¡¨dbä¸ºå¯é€‰å‚æ•°\nfunc WithDB(db interface{}) FooOption {\n   return func(foo *Foo) {\n      foo.db = db\n   }\n}\n\n// NewFoo ä»£è¡¨åˆå§‹åŒ–\nfunc NewFoo(id int, options ...FooOption) *Foo {\n   foo := &amp;Foo{\n      name: \"default\",\n      id:   id,\n      age:  10,\n      db:   nil,\n   }\n   for _, option := range options {\n      option(foo)\n   }\n   return foo\n}\n</code></pre><p>ç°åœ¨æˆ‘ä»¬æ¥è§£é‡Šä¸‹ä¸Šé¢çš„è¿™æ®µä»£ç ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªFooOptionçš„å‡½æ•°ç±»å‹ï¼Œè¿™ä¸ªå‡½æ•°ç±»å‹ä»£è¡¨çš„å‡½æ•°ç»“æ„æ˜¯ <code>func(foo *Foo)</code> ã€‚è¿™ä¸ªç»“æ„å¾ˆç®€å•ï¼Œå°±æ˜¯å°†fooæŒ‡é’ˆä¼ é€’è¿›å»ï¼Œèƒ½è®©å†…éƒ¨å‡½æ•°è¿›è¡Œä¿®æ”¹ã€‚</p><p>ç„¶åæˆ‘ä»¬é’ˆå¯¹ä¸‰ä¸ªåˆå§‹åŒ–å­—æ®µnameï¼Œageï¼Œdbå®šä¹‰äº†ä¸‰ä¸ªè¿”å›äº†FooOptionçš„å‡½æ•°ï¼Œè´Ÿè´£ä¿®æ”¹å®ƒä»¬ï¼š</p><ul>\n<li>WithNameï¼›</li>\n<li>WithAgeï¼›</li>\n<li>WithDBã€‚</li>\n</ul><p>ä»¥WithNameä¸ºä¾‹ï¼Œè¿™ä¸ªå‡½æ•°å‚æ•°ä¸ºstringï¼Œè¿”å›å€¼ä¸ºFooOptionã€‚åœ¨è¿”å›å€¼çš„FooOptionä¸­ï¼Œæ ¹æ®å‚æ•°ä¿®æ”¹äº†FooæŒ‡é’ˆã€‚</p><pre><code class=\"language-plain\">// WithName ä»£è¡¨Nameä¸ºå¯é€‰å‚æ•°\nfunc WithName(name string) FooOption {\n   return func(foo *Foo) {\n      foo.name = name\n   }\n}\n</code></pre><p>é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œè¿™ç§å‡½æ•°æˆ‘ä»¬ä¸€èˆ¬éƒ½ä»¥Withå¼€å¤´ï¼Œè¡¨ç¤ºæˆ‘è¿™æ¬¡åˆå§‹åŒ–â€œå¸¦ç€â€è¿™ä¸ªå­—æ®µã€‚</p><p>è€Œæœ€åNewFooå‡½æ•°çš„å‚æ•°ï¼Œæˆ‘ä»¬å°±æ”¹é€ ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šä¸€ä¸ªéƒ¨åˆ†æ˜¯â€œéOptionâ€å­—æ®µï¼Œå°±æ˜¯å¿…å¡«å­—æ®µï¼Œå‡è®¾æˆ‘ä»¬çš„Fooç»“æ„å®é™…ä¸Šåªæœ‰ä¸€ä¸ªå¿…å¡«å­—æ®µidï¼Œè€Œå…¶ä»–å­—æ®µçš†æ˜¯é€‰å¡«çš„ï¼›ç¬¬äºŒä¸ªéƒ¨åˆ†å°±æ˜¯å…¶ä»–æ‰€æœ‰é€‰å¡«å­—æ®µï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå¯å˜å‚æ•° options æ›¿æ¢ï¼š</p><pre><code class=\"language-plain\">NewFoo(id int, options ...FooOption)\n</code></pre><p>åœ¨å…·ä½“çš„NewFooå®ç°ä¸­ï¼Œä¹Ÿå˜åŒ–æˆ2ä¸ªæ­¥éª¤ï¼š</p><ul>\n<li>æŒ‰ç…§é»˜è®¤å€¼åˆå§‹åŒ–ä¸€ä¸ªfooå¯¹è±¡ï¼›</li>\n<li>éå†optionsæ”¹é€ è¿™ä¸ªfooå¯¹è±¡ã€‚</li>\n</ul><p>æŒ‰ç…§è¿™æ ·æ”¹é€ ä¹‹åï¼Œæˆ‘ä»¬å…·ä½“ä½¿ç”¨Fooç»“æ„çš„å‡½æ•°å°±å˜æˆäº†è¿™ä¸ªæ ·å­ï¼š</p><pre><code class=\"language-plain\">// å…·ä½“ä½¿ç”¨NewFooçš„å‡½æ•°\nfunc Bar() {\n   foo := NewFoo(1, WithAge(15), WithName(\"foo\"))\n   fmt.Println(foo)\n}\n</code></pre><p>å¯è¯»æ€§æ˜¯ä¸æ˜¯é«˜äº†å¾ˆå¤šï¼Ÿè¿™é‡ŒNewäº†ä¸€ä¸ªFooç»“æ„ï¼Œidä¸º1ï¼Œå¹¶ä¸”å¸¦ç€æŒ‡å®šageä¸º15ï¼ŒæŒ‡å®šnameä¸ºâ€œfooâ€ã€‚</p><p>å¦‚æœæˆ‘ä»¬åç»­Fooå¤šäº†ä¸€ä¸ªå¯å˜å±æ€§ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦å¤šä¸€ä¸ªWithXXXçš„æ–¹æ³•å°±å¯ä»¥äº†ï¼Œè€ŒNewFooå‡½æ•°ä¸éœ€è¦ä»»ä½•å˜åŒ–ï¼Œè°ƒç”¨æ–¹åªè¦åœ¨æŒ‡å®šè¿™ä¸ªå¯å˜å±æ€§çš„åœ°æ–¹å¢åŠ WithXXXå°±å¯ä»¥äº†ï¼Œæ‰©å±•æ€§éå¸¸å¥½ã€‚</p><p>è¿™ç§Optionçš„å†™æ³•åœ¨å¾ˆå¤šè‘—åçš„åº“ä¸­éƒ½æœ‰ä½¿ç”¨åˆ°ï¼Œæ¯”å¦‚gorm, go-redisç­‰ã€‚æ‰€ä»¥æˆ‘ä»¬è¦æŠŠè¿™ç§æ–¹å¼ç†Ÿæ‚‰èµ·æ¥ï¼Œä¸€æ—¦æˆ‘ä»¬éœ€è¦å¯¹ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„ç±»è¿›è¡Œåˆå§‹åŒ–çš„æ—¶å€™ï¼Œè¿™ç§æ–¹æ³•åº”è¯¥æ˜¯æœ€ä¼˜çš„æ–¹å¼äº†ã€‚</p><h2>ç¬¬å››ç‚¹ï¼šå·§ç”¨å¤§æ‹¬å·æ§åˆ¶å˜é‡ä½œç”¨åŸŸ</h2><p>åœ¨å†™Goçš„è¿‡ç¨‹ä¸­ï¼Œä½ ä¸€å®šæœ‰è¿‡ä¸º := å’Œ = çƒ¦æ¼çš„æ—¶åˆ»ã€‚ä¸€ä¸ªå˜é‡ï¼Œåˆ°å†™çš„æ—¶å€™ï¼Œæˆ‘è¿˜è¦è®°å¾—å‰é¢æ˜¯å¦å·²ç»å®šä¹‰è¿‡äº†ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰è¿‡ï¼Œä½¿ç”¨ := ï¼Œå¦‚æœå·²ç»å®šä¹‰è¿‡ï¼Œä½¿ç”¨ =ã€‚</p><p>å½“ç„¶å¾ˆå¤šæ—¶å€™ä½ å¯èƒ½å¹¶ä¸ä¼šçŠ¯è¿™ç§é”™è¯¯ï¼Œå¦‚æœå˜é‡å‘½åå¾—æ¯”è¾ƒå¥½çš„è¯ï¼Œæˆ‘ä»¬æ˜¯å¾ˆå®¹æ˜“è®°å¾—è¿™ä¸ªå˜é‡å‰é¢æ˜¯å¦æœ‰å®šä¹‰è¿‡çš„ã€‚ä½†æ˜¯æ›´å¤šæ—¶å€™ï¼Œå¯¹äºerrè¿™ç§é€šç”¨çš„å˜é‡åå­—ï¼Œä½ å¯èƒ½å°±ä¸ä¸€å®šè®°å¾—äº†ã€‚</p><p><strong>è¿™ä¸ªæ—¶å€™ï¼Œå·§å¦™ä½¿ç”¨å¤§æ‹¬å·ï¼Œå°±èƒ½å¾ˆå¥½é¿å…è¿™ä¸ªé—®é¢˜ã€‚</strong></p><p>æˆ‘ä¸¾ä¸€ä¸ªæˆ‘ä¹‹å‰å†™è¿‡çš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·çš„ä¾‹å­ã€‚æˆ‘ä»¬éƒ½çŸ¥é“å†™å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯¹ä¼ é€’çš„å‚æ•°çš„è§£æéœ€è¦æœ‰ä¸€äº›é€»è¾‘ï¼šâ€œå¦‚æœå‚æ•°ä¸­æœ‰æŸä¸ªå­—æ®µï¼Œé‚£ä¹ˆå°±è§£æå¹¶å­˜å‚¨åˆ°å˜é‡ä¸­ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±è®°å½•errorâ€ï¼Œè¿™é‡Œæˆ‘å°±ä½¿ç”¨äº†å¤§æ‹¬å·ï¼Œå°†æ¯ä¸ªå‚æ•°çš„è§£æå’Œå¤„ç†é”™è¯¯çš„é€»è¾‘éƒ½å°è£…èµ·æ¥ã€‚</p><p>ä»£ç å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p><pre><code class=\"language-plain\">var name string\nvar folder string\nvar mod string\n...\n{\n   prompt := &amp;survey.Input{\n      Message: \"è¯·è¾“å…¥ç›®å½•åç§°ï¼š\",\n   }\n   err := survey.AskOne(prompt, &amp;name)\n   if err != nil {\n      return err\n   }\n\n   ...\n}\n{\n   prompt := &amp;survey.Input{\n      Message: \"è¯·è¾“å…¥æ¨¡å—åç§°(go.modä¸­çš„module, é»˜è®¤ä¸ºæ–‡ä»¶å¤¹åç§°)ï¼š\",\n   }\n   err := survey.AskOne(prompt, &amp;mod)\n   if err != nil {\n      return err\n   }\n   ...\n}\n{\n   // è·å–hadeçš„ç‰ˆæœ¬\n   client := github.NewClient(nil)\n   prompt := &amp;survey.Input{\n      Message: \"è¯·è¾“å…¥ç‰ˆæœ¬åç§°(å‚è€ƒ https://github.com/gohade/hade/releasesï¼Œé»˜è®¤ä¸ºæœ€æ–°ç‰ˆæœ¬)ï¼š\",\n   }\n   err := survey.AskOne(prompt, &amp;version)\n   if err != nil {\n      return err\n   }\n   ...\n}\n</code></pre><p>æˆ‘ç®€å•è§£é‡Šä¸‹è¿™æ®µä»£ç ã€‚é¦–å…ˆï¼Œæ•´æ®µä»£ç çš„ä½œç”¨æ˜¯è§£æå‡ºä¸‰ä¸ªå˜é‡nameã€modã€versionã€‚æœ€å¼€å§‹æˆ‘ä»¬å…ˆå®šä¹‰è¿™ä¸‰ä¸ªå˜é‡ï¼Œç„¶åä½¿ç”¨ä¸‰ä¸ªå¤§æ‹¬å·ï¼Œåˆ†åˆ«å°†è¿™ä¸‰ä¸ªå˜é‡çš„è§£æé€»è¾‘å°è£…åœ¨é‡Œé¢ã€‚è¿™æ ·ï¼Œæ¯ä¸ªå¤§æ‹¬å·é‡Œé¢çš„errå˜é‡çš„ä½œç”¨åŸŸå°±å®Œå…¨å±€é™åœ¨æ‹¬å·ä¸­äº†ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ := æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ errå¹¶å¤„ç†å®ƒï¼Œä¸ç”¨å†é¢å¤–æ€è€ƒè¿™ä¸ªerr å˜é‡æ˜¯å¦å‰é¢å·²ç»åˆ›å»ºè¿‡äº†ã€‚</p><p>ä½ å¯ä»¥è‡ªå·±è§‚å¯Ÿä¸€ä¸‹ï¼Œå¤§æ‹¬å·åœ¨ä»£ç è¯­ä¹‰ä¸Šè¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå°±æ˜¯å½’ç±»å’Œå±•ç¤ºã€‚</p><p>å½’ç±»çš„æ„æ€å°±æ˜¯ï¼Œè¿™ä¸ªå¤§æ‹¬å·é‡Œé¢çš„å˜é‡å’Œé€»è¾‘æ˜¯ä¸€ä¸ªå®Œæ•´çš„éƒ¨åˆ†ï¼Œä»–ä»¬å†…éƒ¨åˆ›å»ºçš„å˜é‡ä¸ä¼šæ³„æ¼åˆ°å¤–éƒ¨ã€‚è¿™ä¸ªç­‰äºå‘Šè¯‰åç»­çš„é˜…è¯»è€…ï¼Œä½ åœ¨é˜…è¯»çš„æ—¶å€™ï¼Œå¦‚æœå¯¹è¿™ä¸ªé€»è¾‘ä¸æ„Ÿå…´è¶£ï¼Œå¯ä»¥ä¸é˜…è¯»é‡Œé¢çš„å†…å®¹ï¼›å¦‚æœä½ æ„Ÿå…´è¶£ï¼Œå°±å¯ä»¥è¿›å…¥é‡Œé¢è¿›è¡Œé˜…è¯»ã€‚</p><p>åŸºæœ¬ä¸Šæ‰€æœ‰IDEéƒ½æ”¯æŒå¯¹å¤§æ‹¬å·å°è£…çš„å†…å®¹è¿›è¡Œå‹ç¼©ã€‚è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯Golandï¼Œå‹ç¼©åï¼Œæˆ‘çš„å‘½ä»¤è¡Œçš„ä¸»ä½“é€»è¾‘å°±æ›´æ¸…æ™°äº†ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/d6/08/d66665bf45f98f1295011636cf981808.png?wh=1784x1620\" alt=\"å›¾ç‰‡\"></p><p>æ‰€ä»¥ï¼Œä½¿ç”¨å¤§æ‹¬å·ï¼Œç»“åˆIDEï¼Œä½ çš„ä»£ç çš„å¯è¯»æ€§èƒ½å¾—åˆ°å¾ˆå¤§çš„æå‡ã€‚</p><h2>æ€»ç»“</h2><p>å¥½äº†ï¼Œè¿™æ¬¡çš„åˆ†äº«åˆ°è¿™é‡Œå°±ç»“æŸäº†ã€‚ä»Šå¤©æˆ‘ç»™ä½ æ€»ç»“äº†å››ä¸ªGoè¯­è¨€ä¸­å¸¸ç”¨çš„å†™æ³•</p><ul>\n<li>ä½¿ç”¨pkg/errorè€Œä¸æ˜¯å®˜æ–¹erroråº“ï¼›</li>\n<li>åœ¨åˆå§‹åŒ–sliceçš„æ—¶å€™å°½é‡è¡¥å…¨capï¼›</li>\n<li>åˆå§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœç±»çš„æ„é€ å‚æ•°è¾ƒå¤šï¼Œå°½é‡ä½¿ç”¨Optionå†™æ³•ï¼›</li>\n<li>å·§ç”¨å¤§æ‹¬å·æ§åˆ¶å˜é‡ä½œç”¨åŸŸã€‚</li>\n</ul><p>è¿™å‡ ç§å†™æ³•å’Œæ³¨æ„äº‹é¡¹éƒ½æ˜¯æˆ‘åœ¨å·¥ä½œå’Œé˜…è¯»å¼€æºé¡¹ç›®ä¸­çš„ä¸€äº›æ€»ç»“å’Œç»éªŒï¼Œæ¯ä¸ªç»éªŒéƒ½æ˜¯å¯¹åº”ä¸ºäº†è§£å†³ä¸åŒçš„é—®é¢˜ã€‚</p><p>è™½ç„¶è¯´Goå·²ç»å¯¹ä»£ç åšäº†ä¸å°‘çš„è§„èŒƒå’Œä¼˜åŒ–ï¼Œä½†æ˜¯å¥½çš„ä»£ç å’Œä¸é‚£ä¹ˆå¥½çš„ä»£ç è¿˜æ˜¯æœ‰ä¸€äº›å·®è·çš„ï¼Œè¿™äº›å†™æ³•ä¼˜åŒ–ç‚¹å°±æ˜¯å…¶ä¸­ä¸€éƒ¨åˆ†ã€‚</p><p>æˆ‘ä»Šå¤©åªåˆ—å‡ºçš„äº†å››ä¸ªç‚¹ï¼Œå½“ç„¶äº†ï¼Œè¿˜æœ‰å¾ˆå¤šç±»ä¼¼çš„Goå†™æ³•ä¼˜åŒ–ç‚¹ç­‰ç€ä½ å»å‘ç°ã€‚ç›¸ä¿¡ä½ åœ¨å·¥ä½œç”Ÿæ´»ä¸­ä¹Ÿèƒ½é‡åˆ°ä¸å°‘ï¼Œåªè¦ä½ å¹³æ—¶èƒ½å¤šæ€è€ƒã€å¤šæ€»ç»“ã€å¤šåŠ¨æ‰‹ï¼Œä¹Ÿèƒ½ç§¯æ”’å‡ºå±äºè‡ªå·±çš„ä¸€æœ¬å°å°çš„ä¼˜åŒ–æ‰‹å†Œã€‚</p>","comments":[{"had_liked":false,"id":387027,"user_name":"__PlasticMan","can_delete":false,"product_type":"c1","uid":1676074,"ip_address":"å››å·","ucode":"329D3E71E613F0","user_header":"https://static001.geekbang.org/account/avatar/00/19/93/2a/08675e68.jpg","comment_is_top":false,"comment_ctime":1706178210,"is_pvip":false,"replies":[{"id":141098,"content":"åœ¨ç¬¬21è®² https:&#47;&#47;time.geekbang.org&#47;column&#47;article&#47;460666 ä¸­æœ‰è¯´æ˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1706278455,"ip_address":"è¾½å®","comment_id":387027,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"ç™½è€å¸ˆï¼Œè¾¹é•¿å‚æ•°ä¸å‡½æ•°é€‰é¡¹æ¨¡å¼çš„ç»“åˆä¸€èˆ¬ç”¨ä»€ä¹ˆæ–¹å¼ï¼Ÿæ¯”å¦‚ä¸€ä¸ªå‡½æ•°è¦ä¼ å…¥printfé£æ ¼çš„å‚æ•°ï¼Œè¿˜è¦æ·»åŠ é»˜è®¤å‚æ•°","like_count":0},{"had_liked":false,"id":343279,"user_name":"è°¢å°è·¯","can_delete":false,"product_type":"c1","uid":1035064,"ip_address":"","ucode":"C9FE2EB10DC105","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cb/38/4c9cfdf4.jpg","comment_is_top":false,"comment_ctime":1650761525,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"Option å†™æ³•ï¼Œåœ¨è®¾è®¡æ¨¡å¼ä¸­æœ‰ä¸ªä¸“ç”¨çš„åè¯ç§°å‘¼ â€”â€” å‡½æ•°é€‰é¡¹æ¨¡å¼ã€‚","like_count":17},{"had_liked":false,"id":331458,"user_name":"Darren","can_delete":false,"product_type":"c1","uid":1254968,"ip_address":"","ucode":"CCD2B2C492BE9A","user_header":"https://static001.geekbang.org/account/avatar/00/13/26/38/ef063dc2.jpg","comment_is_top":false,"comment_ctime":1642593380,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"è¿™é‡Œé¢çš„Withæ–¹å¼ï¼Œæ„Ÿè§‰å’Œè®¾è®¡æ¨¡å¼ä¸­çš„æ„å»ºè€…æ¨¡å¼å¾ˆç±»ä¼¼","like_count":6,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":636521,"discussion_content":"åœ¨ç¬¬21è®² https://time.geekbang.org/column/article/460666 ä¸­æœ‰è¯´æ˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1706278455,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1676074,"avatar":"https://static001.geekbang.org/account/avatar/00/19/93/2a/08675e68.jpg","nickname":"__PlasticMan","note":"","ucode":"329D3E71E613F0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":636503,"discussion_content":"å¦‚æœåœ¨...anyé‡Œé¢åŒ…å«optionï¼Œç„¶ååœ¨å‡½æ•°å†…éƒ¨åˆ†å¼€ä¸¤ç±»å‚æ•°ï¼Œgo vetå°±ä¼šæŠ¥å‘Šé—®é¢˜ï¼Œå¥½åƒè¦ç”¨printfåˆ†æ ¼å°±æ²¡ä»€ä¹ˆå…¶ä»–åŠæ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1706252652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331352,"user_name":"é’é¸Ÿé£é±¼","can_delete":false,"product_type":"c1","uid":1807943,"ip_address":"","ucode":"8C64517DA556FE","user_header":"https://static001.geekbang.org/account/avatar/00/1b/96/47/93838ff7.jpg","comment_is_top":false,"comment_ctime":1642559745,"is_pvip":false,"replies":null,"discussion_count":3,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"è¿™æ€»ç»“å¤ªæ£’äº†ï¼Œæœ‰ä¸ªç–‘é—®ï¼Œæœ€åä¸€ä¸ªï¼Œæ—¢ç„¶é‚£ä¹ˆå¤šå¤§æ‹¬å·ï¼Œå¯ä»¥æ‹†åˆ†æˆå‡ ä¸ªå‡½æ•°ï¼Ÿè¿™æ ·å­ä¼šä¸ä¼šæ›´å¥½ç‚¹ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1006789,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5c/c5/1231d633.jpg","nickname":"æ¢ä¸­å","note":"","ucode":"52FE40242CBAD0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570098,"discussion_content":"æ¯”é“¾å¼è°ƒç”¨çš„builderæ¨¡å¼è¿˜æ˜¯å·®è·å¾ˆå¤§çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651662403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2806043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBFkSq1oiaEMRjtyyv4ZpCI0OuaSsqs04ODm0OkZF6QhsAh3SvqhxibS2n7PLAVZE3QRSn5Hic0DyXg/132","nickname":"ddh","note":"","ucode":"8E852375365F16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548731,"discussion_content":"ä¸€ä¸ªé“ç†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643345924,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331385,"user_name":"helloxiaomin","can_delete":false,"product_type":"c1","uid":1187293,"ip_address":"","ucode":"607CAEA41B8B9A","user_header":"https://static001.geekbang.org/account/avatar/00/12/1d/dd/95cdb4d8.jpg","comment_is_top":false,"comment_ctime":1642568336,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"æ‰‹åŠ¨ç‚¹èµï¼Œå¾ˆå®ç”¨ğŸ‘","like_count":5},{"had_liked":false,"id":332866,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1643770350,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"å­¦åˆ°äº†ï¼Œè°¢è°¢å¶è€å¸ˆã€‚","like_count":1,"discussions":[{"author":{"id":2175116,"avatar":"https://static001.geekbang.org/account/avatar/00/21/30/8c/6c86eaac.jpg","nickname":"LiWZ","note":"","ucode":"18406E7E3BA475","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547352,"discussion_content":"æ‹†åˆ†æˆå‡½æ•°ï¼Œä¸Šé¢å®šä¹‰çš„å˜é‡å°±è¦ä½œä¸ºå‚æ•°ä¼ è¿›å»ã€‚å¦‚æœå˜é‡å¾ˆå¤šä¹Ÿå¾ˆéº»çƒ¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642645971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1160678,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b5/e6/c67f12bd.jpg","nickname":"å·¦è€³æœµä¸œ","note":"","ucode":"60134ACF12BB52","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547331,"discussion_content":"æˆ‘ä¹Ÿè§‰å¾—æŠŠå¤§æ‹¬å·æ‹†åˆ†æˆå‡½æ•°ï¼Œå¯è¯»æ€§æ›´å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642637729,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1603004,"avatar":"https://static001.geekbang.org/account/avatar/00/18/75/bc/89d88775.jpg","nickname":"Calvin","note":"","ucode":"0EEF5B207623B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547270,"discussion_content":"åŒé—®ï¼Œå¦å¤–æƒ³é—®ä¸‹å„ä½å¤§ä½¬ï¼šgo å‡½æ•°æ€ä¹ˆå£°æ˜æˆ–æŒ‡å®šä¸ºå†…è”å‡½æ•°ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642598486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":387027,"user_name":"__PlasticMan","can_delete":false,"product_type":"c1","uid":1676074,"ip_address":"å››å·","ucode":"329D3E71E613F0","user_header":"https://static001.geekbang.org/account/avatar/00/19/93/2a/08675e68.jpg","comment_is_top":false,"comment_ctime":1706178210,"is_pvip":false,"replies":[{"id":141098,"content":"åœ¨ç¬¬21è®² https:&#47;&#47;time.geekbang.org&#47;column&#47;article&#47;460666 ä¸­æœ‰è¯´æ˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1026224,"ctime":1706278455,"ip_address":"è¾½å®","comment_id":387027,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"ç™½è€å¸ˆï¼Œè¾¹é•¿å‚æ•°ä¸å‡½æ•°é€‰é¡¹æ¨¡å¼çš„ç»“åˆä¸€èˆ¬ç”¨ä»€ä¹ˆæ–¹å¼ï¼Ÿæ¯”å¦‚ä¸€ä¸ªå‡½æ•°è¦ä¼ å…¥printfé£æ ¼çš„å‚æ•°ï¼Œè¿˜è¦æ·»åŠ é»˜è®¤å‚æ•°","like_count":0,"discussions":[{"author":{"id":1026224,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a8/b0/6f87ab08.jpg","nickname":"Tony Bai","note":"","ucode":"B6B08985F6FA89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":636521,"discussion_content":"åœ¨ç¬¬21è®² https://time.geekbang.org/column/article/460666 ä¸­æœ‰è¯´æ˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1706278455,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"è¾½å®","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2,\"source\":0}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1676074,"avatar":"https://static001.geekbang.org/account/avatar/00/19/93/2a/08675e68.jpg","nickname":"__PlasticMan","note":"","ucode":"329D3E71E613F0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":636503,"discussion_content":"å¦‚æœåœ¨...anyé‡Œé¢åŒ…å«optionï¼Œç„¶ååœ¨å‡½æ•°å†…éƒ¨åˆ†å¼€ä¸¤ç±»å‚æ•°ï¼Œgo vetå°±ä¼šæŠ¥å‘Šé—®é¢˜ï¼Œå¥½åƒè¦ç”¨printfåˆ†æ ¼å°±æ²¡ä»€ä¹ˆå…¶ä»–åŠæ³•","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1706252652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":343279,"user_name":"è°¢å°è·¯","can_delete":false,"product_type":"c1","uid":1035064,"ip_address":"","ucode":"C9FE2EB10DC105","user_header":"https://static001.geekbang.org/account/avatar/00/0f/cb/38/4c9cfdf4.jpg","comment_is_top":false,"comment_ctime":1650761525,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"Option å†™æ³•ï¼Œåœ¨è®¾è®¡æ¨¡å¼ä¸­æœ‰ä¸ªä¸“ç”¨çš„åè¯ç§°å‘¼ â€”â€” å‡½æ•°é€‰é¡¹æ¨¡å¼ã€‚","like_count":17},{"had_liked":false,"id":331458,"user_name":"Darren","can_delete":false,"product_type":"c1","uid":1254968,"ip_address":"","ucode":"CCD2B2C492BE9A","user_header":"https://static001.geekbang.org/account/avatar/00/13/26/38/ef063dc2.jpg","comment_is_top":false,"comment_ctime":1642593380,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"è¿™é‡Œé¢çš„Withæ–¹å¼ï¼Œæ„Ÿè§‰å’Œè®¾è®¡æ¨¡å¼ä¸­çš„æ„å»ºè€…æ¨¡å¼å¾ˆç±»ä¼¼","like_count":6,"discussions":[{"author":{"id":1006789,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/5c/c5/1231d633.jpg","nickname":"æ¢ä¸­å","note":"","ucode":"52FE40242CBAD0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570098,"discussion_content":"æ¯”é“¾å¼è°ƒç”¨çš„builderæ¨¡å¼è¿˜æ˜¯å·®è·å¾ˆå¤§çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1651662403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2806043,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLBFkSq1oiaEMRjtyyv4ZpCI0OuaSsqs04ODm0OkZF6QhsAh3SvqhxibS2n7PLAVZE3QRSn5Hic0DyXg/132","nickname":"ddh","note":"","ucode":"8E852375365F16","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548731,"discussion_content":"ä¸€ä¸ªé“ç†\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643345924,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331352,"user_name":"é’é¸Ÿé£é±¼","can_delete":false,"product_type":"c1","uid":1807943,"ip_address":"","ucode":"8C64517DA556FE","user_header":"https://static001.geekbang.org/account/avatar/00/1b/96/47/93838ff7.jpg","comment_is_top":false,"comment_ctime":1642559745,"is_pvip":false,"replies":null,"discussion_count":3,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"è¿™æ€»ç»“å¤ªæ£’äº†ï¼Œæœ‰ä¸ªç–‘é—®ï¼Œæœ€åä¸€ä¸ªï¼Œæ—¢ç„¶é‚£ä¹ˆå¤šå¤§æ‹¬å·ï¼Œå¯ä»¥æ‹†åˆ†æˆå‡ ä¸ªå‡½æ•°ï¼Ÿè¿™æ ·å­ä¼šä¸ä¼šæ›´å¥½ç‚¹ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":2175116,"avatar":"https://static001.geekbang.org/account/avatar/00/21/30/8c/6c86eaac.jpg","nickname":"LiWZ","note":"","ucode":"18406E7E3BA475","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547352,"discussion_content":"æ‹†åˆ†æˆå‡½æ•°ï¼Œä¸Šé¢å®šä¹‰çš„å˜é‡å°±è¦ä½œä¸ºå‚æ•°ä¼ è¿›å»ã€‚å¦‚æœå˜é‡å¾ˆå¤šä¹Ÿå¾ˆéº»çƒ¦ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642645971,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1160678,"avatar":"https://static001.geekbang.org/account/avatar/00/11/b5/e6/c67f12bd.jpg","nickname":"å·¦è€³æœµä¸œ","note":"","ucode":"60134ACF12BB52","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547331,"discussion_content":"æˆ‘ä¹Ÿè§‰å¾—æŠŠå¤§æ‹¬å·æ‹†åˆ†æˆå‡½æ•°ï¼Œå¯è¯»æ€§æ›´å¥½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642637729,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1603004,"avatar":"https://static001.geekbang.org/account/avatar/00/18/75/bc/89d88775.jpg","nickname":"Calvin","note":"","ucode":"0EEF5B207623B5","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547270,"discussion_content":"åŒé—®ï¼Œå¦å¤–æƒ³é—®ä¸‹å„ä½å¤§ä½¬ï¼šgo å‡½æ•°æ€ä¹ˆå£°æ˜æˆ–æŒ‡å®šä¸ºå†…è”å‡½æ•°ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642598486,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331385,"user_name":"helloxiaomin","can_delete":false,"product_type":"c1","uid":1187293,"ip_address":"","ucode":"607CAEA41B8B9A","user_header":"https://static001.geekbang.org/account/avatar/00/12/1d/dd/95cdb4d8.jpg","comment_is_top":false,"comment_ctime":1642568336,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"æ‰‹åŠ¨ç‚¹èµï¼Œå¾ˆå®ç”¨ğŸ‘","like_count":5},{"had_liked":false,"id":332866,"user_name":"lesserror","can_delete":false,"product_type":"c1","uid":1351076,"ip_address":"","ucode":"25A54D1165FCF6","user_header":"https://static001.geekbang.org/account/avatar/00/14/9d/a4/e481ae48.jpg","comment_is_top":false,"comment_ctime":1643770350,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100093501,"comment_content":"å­¦åˆ°äº†ï¼Œè°¢è°¢å¶è€å¸ˆã€‚","like_count":1}]}
{"id":216803,"title":"17 | å¼‚æ­¥RPCï¼šå‹æ¦¨å•æœºååé‡","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ä½•å°é”‹ã€‚ä»ä»Šå¤©å¼€å§‹ï¼Œæˆ‘ä»¬å°±æ­£å¼è¿›å…¥é«˜çº§ç¯‡äº†ã€‚</p><p>åœ¨ä¸Šä¸ªç¯‡ç« ï¼Œæˆ‘ä»¬å­¦ä¹ äº†RPCæ¡†æ¶çš„åŸºç¡€æ¶æ„å’Œä¸€ç³»åˆ—æ²»ç†åŠŸèƒ½ï¼Œä»¥åŠä¸€äº›ä¸é›†ç¾¤ç®¡ç†ç›¸å…³çš„é«˜çº§åŠŸèƒ½ï¼Œå¦‚æœåŠ¡å‘ç°ã€å¥åº·æ£€æŸ¥ã€è·¯ç”±ç­–ç•¥ã€è´Ÿè½½å‡è¡¡ã€ä¼˜é›…å¯åœæœºç­‰ç­‰ã€‚</p><p>æœ‰äº†è¿™äº›çŸ¥è¯†å‚¨å¤‡ï¼Œä½ å°±å·²ç»å¯¹RPCæ¡†æ¶æœ‰äº†è¾ƒä¸ºå……åˆ†çš„è®¤è¯†ã€‚ä½†å¦‚æœä½ æƒ³è¦æ›´æ·±å…¥åœ°äº†è§£RPCï¼Œæ›´å¥½åœ°ä½¿ç”¨RPCï¼Œä½ å°±å¿…é¡»ä»RPCæ¡†æ¶çš„æ•´ä½“æ€§èƒ½ä¸Šå»è€ƒè™‘é—®é¢˜äº†ã€‚ä½ å¾—çŸ¥é“å¦‚ä½•å»æå‡RPCæ¡†æ¶çš„æ€§èƒ½ã€ç¨³å®šæ€§ã€å®‰å…¨æ€§ã€ååé‡ï¼Œä»¥åŠå¦‚ä½•åœ¨åˆ†å¸ƒå¼çš„åœºæ™¯ä¸‹å¿«é€Ÿå®šä½é—®é¢˜ç­‰ç­‰ï¼Œè¿™äº›éƒ½æ˜¯æˆ‘ä»¬åœ¨é«˜çº§ç¯‡ä¸­é‡ç‚¹è¦è®²è§£çš„å†…å®¹ã€‚éš¾åº¦æœ‰ä¸€å®šæå‡ï¼Œå¸Œæœ›ä½ èƒ½åšæŒå­¦ä¹ å‘€ï¼</p><p>é‚£ä¹ˆä»Šå¤©æˆ‘ä»¬å°±å…ˆæ¥è®²è®²ï¼ŒRPCæ¡†æ¶æ˜¯å¦‚ä½•å‹æ¦¨å•æœºååé‡çš„ã€‚</p><h2>å¦‚ä½•æå‡å•æœºååé‡ï¼Ÿ</h2><p>åœ¨æˆ‘è¿è¥RPCçš„è¿‡ç¨‹ä¸­ï¼Œâ€œå¦‚ä½•æå‡ååé‡â€æ˜¯æˆ‘ä¸ä¸šåŠ¡å›¢é˜Ÿç»å¸¸è®¨è®ºçš„é—®é¢˜ã€‚</p><p>è®°å¾—ä¹‹å‰ä¸šåŠ¡å›¢é˜Ÿåé¦ˆè¿‡è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šæˆ‘ä»¬çš„TPSå§‹ç»ˆä¸Šä¸å»ï¼Œå‹æµ‹çš„æ—¶å€™CPUå‹åˆ°40%ï½50%å°±å†ä¹Ÿå‹ä¸ä¸Šå»äº†ï¼ŒTPSä¹Ÿä¸ä¼šæé«˜ï¼Œé—®æˆ‘ä»¬è¿™é‡Œæœ‰æ²¡æœ‰ä»€ä¹ˆè§£å†³æ–¹æ¡ˆå¯ä»¥æå‡ä¸šåŠ¡çš„ååé‡ï¼Ÿ</p><p>ä¹‹åæˆ‘æ˜¯çœ‹äº†ä¸‹ä»–ä»¬æœåŠ¡çš„ä¸šåŠ¡é€»è¾‘ï¼Œå‘ç°ä»–ä»¬çš„ä¸šåŠ¡é€»è¾‘åœ¨æ‰§è¡Œè¾ƒä¸ºè€—æ—¶çš„ä¸šåŠ¡é€»è¾‘çš„åŸºç¡€ä¸Šï¼ŒåˆåŒæ­¥è°ƒç”¨äº†å¥½å‡ ä¸ªå…¶å®ƒçš„æœåŠ¡ã€‚ç”±äºè¿™å‡ ä¸ªæœåŠ¡çš„è€—æ—¶è¾ƒé•¿ï¼Œæ‰å¯¼è‡´è¿™ä¸ªæœåŠ¡çš„ä¸šåŠ¡é€»è¾‘è€—æ—¶ä¹Ÿé•¿ï¼ŒCPUå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨ç­‰å¾…ï¼Œå¹¶æ²¡æœ‰å¾—åˆ°å……åˆ†åœ°åˆ©ç”¨ï¼Œå› æ­¤CPUçš„åˆ©ç”¨ç‡å’ŒæœåŠ¡çš„ååé‡å½“ç„¶ä¸Šä¸å»äº†ã€‚</p><!-- [[[read_end]]] --><p><strong>é‚£æ˜¯ä»€ä¹ˆå½±å“åˆ°äº†RPCè°ƒç”¨çš„ååé‡å‘¢ï¼Ÿ</strong></p><p>åœ¨ä½¿ç”¨RPCçš„è¿‡ç¨‹ä¸­ï¼Œè°ˆåˆ°æ€§èƒ½å’Œååé‡ï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€ååº”å°±æ˜¯é€‰æ‹©ä¸€æ¬¾é«˜æ€§èƒ½ã€é«˜ååé‡çš„RPCæ¡†æ¶ï¼Œé‚£å½±å“åˆ°RPCè°ƒç”¨çš„ååé‡çš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å…¶å®æ ¹æœ¬åŸå› å°±æ˜¯ç”±äºå¤„ç†RPCè¯·æ±‚æ¯”è¾ƒè€—æ—¶ï¼Œå¹¶ä¸”CPUå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨ç­‰å¾…è€Œæ²¡æœ‰å»è®¡ç®—ï¼Œä»è€Œå¯¼è‡´CPUçš„åˆ©ç”¨ç‡ä¸å¤Ÿã€‚è¿™å°±å¥½æ¯”ä¸€ä¸ªäººåœ¨å¹²æ´»ï¼Œä½†ä»–æ²¡æœ‰è§„åˆ’å¥½æ—¶é—´ï¼Œå¹¶ä¸”æœ‰å¾ˆé•¿ä¸€æ®µæ—¶é—´éƒ½åœ¨é—²ç€ï¼Œå½“ç„¶ä¹Ÿå°±å®Œä¸æˆå¤ªå¤šå·¥ä½œäº†ã€‚</p><p>é‚£ä¹ˆå¯¼è‡´RPCè¯·æ±‚æ¯”è¾ƒè€—æ—¶çš„åŸå› ä¸»è¦æ˜¯åœ¨äºRPCæ¡†æ¶æœ¬èº«å—ï¼Ÿäº‹å®ä¸Šé™¤éåœ¨ç½‘ç»œæ¯”è¾ƒæ…¢æˆ–è€…ä½¿ç”¨æ–¹ä½¿ç”¨ä¸å½“çš„æƒ…å†µä¸‹ï¼Œå¦åˆ™ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåˆ¨é™¤ä¸šåŠ¡é€»è¾‘å¤„ç†çš„è€—æ—¶æ—¶é—´ï¼ŒRPCæœ¬èº«å¤„ç†è¯·æ±‚çš„æ•ˆç‡å°±ç®—åœ¨æ¯”è¾ƒå·®çš„æƒ…å†µä¸‹ä¹Ÿä¸è¿‡æ˜¯æ¯«ç§’çº§çš„ã€‚å¯ä»¥è¯´RPCè¯·æ±‚çš„è€—æ—¶å¤§éƒ¨åˆ†éƒ½æ˜¯ä¸šåŠ¡è€—æ—¶ï¼Œæ¯”å¦‚ä¸šåŠ¡é€»è¾‘ä¸­æœ‰è®¿é—®æ•°æ®åº“æ‰§è¡Œæ…¢SQLçš„æ“ä½œã€‚æ‰€ä»¥è¯´ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå½±å“åˆ°RPCè°ƒç”¨çš„ååé‡çš„åŸå› ä¹Ÿå°±æ˜¯ä¸šåŠ¡é€»è¾‘å¤„ç†æ…¢äº†ï¼ŒCPUå¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨ç­‰å¾…èµ„æºã€‚</p><p>å¼„æ˜ç™½äº†åŸå› ï¼Œå’±ä»¬å°±å¯ä»¥è§£å†³é—®é¢˜äº†ï¼Œè¯¥å¦‚ä½•å»æå‡å•æœºååé‡ï¼Ÿ</p><p>è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªæ–°è¯é¢˜ï¼Œæ¯”å¦‚ç°åœ¨æˆ‘ä»¬ç»å¸¸æåˆ°çš„å“åº”å¼å¼€å‘ï¼Œå°±æ˜¯ä¸ºäº†èƒ½å¤Ÿæå‡ä¸šåŠ¡å¤„ç†çš„ååé‡ã€‚è¦æå‡ååé‡ï¼Œå…¶å®å…³é”®å°±ä¸¤ä¸ªå­—ï¼šâ€œå¼‚æ­¥â€ã€‚æˆ‘ä»¬çš„RPCæ¡†æ¶è¦åšåˆ°å®Œå…¨å¼‚æ­¥åŒ–ï¼Œå®ç°å…¨å¼‚æ­¥RPCã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬æ¯æ¬¡å‘é€ä¸€ä¸ªå¼‚æ­¥è¯·æ±‚ï¼Œå‘é€è¯·æ±‚è¿‡åè¯·æ±‚å³åˆ»å°±ç»“æŸäº†ï¼Œä¹‹åä¸šåŠ¡é€»è¾‘å…¨éƒ¨å¼‚æ­¥æ‰§è¡Œï¼Œç»“æœå¼‚æ­¥é€šçŸ¥ï¼Œè¿™æ ·å¯ä»¥å¢åŠ å¤šä¹ˆå¯è§‚çš„ååé‡ï¼Ÿ</p><p>æ•ˆæœä¸ç”¨æˆ‘è¯´æˆ‘æƒ³ä½ ä¹Ÿæ¸…æ¥šäº†ã€‚é‚£RPCæ¡†æ¶éƒ½æœ‰å“ªäº›å¼‚æ­¥ç­–ç•¥å‘¢ï¼Ÿ</p><h2>è°ƒç”¨ç«¯å¦‚ä½•å¼‚æ­¥ï¼Ÿ</h2><p>è¯´åˆ°å¼‚æ­¥ï¼Œæˆ‘ä»¬æœ€å¸¸ç”¨çš„æ–¹å¼å°±æ˜¯è¿”å›Futureå¯¹è±¡çš„Futureæ–¹å¼ï¼Œæˆ–è€…å…¥å‚ä¸ºCallbackå¯¹è±¡çš„å›è°ƒæ–¹å¼ï¼Œè€ŒFutureæ–¹å¼å¯ä»¥è¯´æ˜¯æœ€ç®€å•çš„ä¸€ç§å¼‚æ­¥æ–¹å¼äº†ã€‚æˆ‘ä»¬å‘èµ·ä¸€æ¬¡å¼‚æ­¥è¯·æ±‚å¹¶ä¸”ä»è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­æ‹¿åˆ°ä¸€ä¸ªFutureï¼Œä¹‹åæˆ‘ä»¬å°±å¯ä»¥è°ƒç”¨Futureçš„getæ–¹æ³•è·å–ç»“æœã€‚</p><p>å°±æ¯”å¦‚åˆšæ‰æˆ‘æåˆ°çš„ä¸šåŠ¡å›¢é˜Ÿçš„é‚£ä¸ªé—®é¢˜ï¼Œä»–ä»¬çš„ä¸šåŠ¡é€»è¾‘ä¸­è°ƒç”¨äº†å¥½å‡ ä¸ªå…¶å®ƒçš„æœåŠ¡ï¼Œè¿™æ—¶å¦‚æœæ˜¯åŒæ­¥è°ƒç”¨ï¼Œå‡è®¾è°ƒç”¨äº†4ä¸ªæœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡è€—æ—¶10æ¯«ç§’ï¼Œé‚£ä¹ˆä¸šåŠ¡é€»è¾‘æ‰§è¡Œå®Œè‡³å°‘è¦è€—æ—¶40æ¯«ç§’ã€‚</p><p>é‚£å¦‚æœé‡‡ç”¨Futureæ–¹å¼å‘¢ï¼Ÿ</p><p>è¿ç»­å‘é€4æ¬¡å¼‚æ­¥è¯·æ±‚å¹¶ä¸”æ‹¿åˆ°4ä¸ªFutureï¼Œç”±äºæ˜¯å¼‚æ­¥è°ƒç”¨ï¼Œè¿™æ®µæ—¶é—´çš„è€—æ—¶å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œä¹‹åæˆ‘ä»¬ç»Ÿä¸€è°ƒç”¨è¿™å‡ ä¸ªFutureçš„getæ–¹æ³•ã€‚è¿™æ ·ä¸€æ¥çš„è¯ï¼Œä¸šåŠ¡é€»è¾‘æ‰§è¡Œå®Œçš„æ—¶é—´åœ¨ç†æƒ³çš„æƒ…å†µä¸‹æ˜¯å¤šå°‘æ¯«ç§’å‘¢ï¼Ÿæ²¡é”™ï¼Œ10æ¯«ç§’ï¼Œè€—æ—¶æ•´æ•´ç¼©çŸ­åˆ°äº†åŸæ¥çš„å››åˆ†ä¹‹ä¸€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çš„ååé‡æœ‰å¯èƒ½æå‡4å€ï¼</p><p><img src=\"https://static001.geekbang.org/resource/image/35/ef/359a5ef2c76c3a9ac84375e970915fef.jpg?wh=3412*1870\" alt=\"\" title=\"ç¤ºæ„å›¾\"></p><p>é‚£RPCæ¡†æ¶çš„Futureæ–¹å¼å¼‚æ­¥åˆè¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ</p><p>é€šè¿‡åŸºç¡€ç¯‡çš„å­¦ä¹ ï¼Œæˆ‘ä»¬äº†è§£åˆ°ï¼Œä¸€æ¬¡RPCè°ƒç”¨çš„æœ¬è´¨å°±æ˜¯è°ƒç”¨ç«¯å‘æœåŠ¡ç«¯å‘é€ä¸€æ¡è¯·æ±‚æ¶ˆæ¯ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°æ¶ˆæ¯åè¿›è¡Œå¤„ç†ï¼Œå¤„ç†ä¹‹åå“åº”ç»™è°ƒç”¨ç«¯ä¸€æ¡å“åº”æ¶ˆæ¯ï¼Œè°ƒç”¨ç«¯æ”¶åˆ°å“åº”æ¶ˆæ¯ä¹‹åå†è¿›è¡Œå¤„ç†ï¼Œæœ€åå°†æœ€ç»ˆçš„è¿”å›å€¼è¿”å›ç»™åŠ¨æ€ä»£ç†ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºè°ƒç”¨ç«¯æ¥è¯´ï¼Œå‘æœåŠ¡ç«¯å‘é€è¯·æ±‚æ¶ˆæ¯ä¸æ¥æ”¶æœåŠ¡ç«¯å‘é€è¿‡æ¥çš„å“åº”æ¶ˆæ¯ï¼Œè¿™ä¸¤ä¸ªå¤„ç†è¿‡ç¨‹æ˜¯ä¸¤ä¸ªå®Œå…¨ç‹¬ç«‹çš„è¿‡ç¨‹ï¼Œè¿™ä¸¤ä¸ªè¿‡ç¨‹ç”šè‡³åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½ä¸åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­è¿›è¡Œã€‚é‚£ä¹ˆæ˜¯ä¸æ˜¯è¯´RPCæ¡†æ¶çš„è°ƒç”¨ç«¯ï¼Œå¯¹äºRPCè°ƒç”¨çš„å¤„ç†é€»è¾‘ï¼Œå†…éƒ¨å®ç°å°±æ˜¯å¼‚æ­¥çš„å‘¢ï¼Ÿ</p><p>ä¸é”™ï¼Œå¯¹äºRPCæ¡†æ¶ï¼Œæ— è®ºæ˜¯åŒæ­¥è°ƒç”¨è¿˜æ˜¯å¼‚æ­¥è°ƒç”¨ï¼Œè°ƒç”¨ç«¯çš„å†…éƒ¨å®ç°éƒ½æ˜¯å¼‚æ­¥çš„ã€‚</p><p>é€šè¿‡<a href=\"https://time.geekbang.org/column/article/199651\">[ç¬¬ 02 è®²]</a> æˆ‘ä»¬çŸ¥é“ï¼Œè°ƒç”¨ç«¯å‘é€çš„æ¯æ¡æ¶ˆæ¯éƒ½ä¸€ä¸ªå”¯ä¸€çš„æ¶ˆæ¯æ ‡è¯†ï¼Œå®é™…ä¸Šè°ƒç”¨ç«¯å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚æ¶ˆæ¯ä¹‹å‰ä¼šå…ˆåˆ›å»ºä¸€ä¸ªFutureï¼Œå¹¶ä¼šå­˜å‚¨è¿™ä¸ªæ¶ˆæ¯æ ‡è¯†ä¸è¿™ä¸ªFutureçš„æ˜ å°„ï¼ŒåŠ¨æ€ä»£ç†æ‰€è·å¾—çš„è¿”å›å€¼æœ€ç»ˆå°±æ˜¯ä»è¿™ä¸ªFutureä¸­è·å–çš„ï¼›å½“æ”¶åˆ°æœåŠ¡ç«¯å“åº”çš„æ¶ˆæ¯æ—¶ï¼Œè°ƒç”¨ç«¯ä¼šæ ¹æ®å“åº”æ¶ˆæ¯çš„å”¯ä¸€æ ‡è¯†ï¼Œé€šè¿‡ä¹‹å‰å­˜å‚¨çš„æ˜ å°„æ‰¾åˆ°å¯¹åº”çš„Futureï¼Œå°†ç»“æœæ³¨å…¥ç»™é‚£ä¸ªFutureï¼Œå†è¿›è¡Œä¸€ç³»åˆ—çš„å¤„ç†é€»è¾‘ï¼Œæœ€ååŠ¨æ€ä»£ç†ä»Futureä¸­è·å¾—åˆ°æ­£ç¡®çš„è¿”å›å€¼ã€‚</p><p>æ‰€è°“çš„åŒæ­¥è°ƒç”¨ï¼Œä¸è¿‡æ˜¯RPCæ¡†æ¶åœ¨è°ƒç”¨ç«¯çš„å¤„ç†é€»è¾‘ä¸­ä¸»åŠ¨æ‰§è¡Œäº†è¿™ä¸ªFutureçš„getæ–¹æ³•ï¼Œè®©åŠ¨æ€ä»£ç†ç­‰å¾…è¿”å›å€¼ï¼›è€Œå¼‚æ­¥è°ƒç”¨åˆ™æ˜¯RPCæ¡†æ¶æ²¡æœ‰ä¸»åŠ¨æ‰§è¡Œè¿™ä¸ªFutureçš„getæ–¹æ³•ï¼Œç”¨æˆ·å¯ä»¥ä»è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­å¾—åˆ°è¿™ä¸ªFutureï¼Œè‡ªå·±å†³å®šä»€ä¹ˆæ—¶å€™æ‰§è¡Œè¿™ä¸ªFutureçš„getæ–¹æ³•ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/5d/55/5d6999a1ac6646faa34905539a0fba55.jpg?wh=2454*2049\" alt=\"\" title=\"Futureç¤ºæ„å›¾\"></p><p>ç°åœ¨ä½ åº”è¯¥å¾ˆæ¸…æ¥šRPCæ¡†æ¶æ˜¯å¦‚ä½•å®ç°Futureæ–¹å¼çš„å¼‚æ­¥äº†ã€‚</p><h2>å¦‚ä½•åšåˆ°RPCè°ƒç”¨å…¨å¼‚æ­¥ï¼Ÿ</h2><p>åˆšæ‰æˆ‘è®²è§£äº†Futureæ–¹å¼çš„å¼‚æ­¥ï¼ŒFutureæ–¹å¼å¼‚æ­¥å¯ä»¥è¯´æ˜¯è°ƒç”¨ç«¯å¼‚æ­¥çš„ä¸€ç§æ–¹å¼ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯å‘¢ï¼ŸæœåŠ¡ç«¯æ˜¯å¦éœ€è¦å¼‚æ­¥ï¼Œæœ‰ä»€ä¹ˆå®ç°æ–¹å¼ï¼Ÿ</p><p>é€šè¿‡åŸºç¡€ç¯‡çš„å­¦ä¹ ï¼Œæˆ‘ä»¬äº†è§£åˆ°RPCæœåŠ¡ç«¯æ¥æ”¶åˆ°è¯·æ±‚çš„äºŒè¿›åˆ¶æ¶ˆæ¯ä¹‹åä¼šæ ¹æ®åè®®è¿›è¡Œæ‹†åŒ…è§£åŒ…ï¼Œä¹‹åå°†å®Œæ•´çš„æ¶ˆæ¯è¿›è¡Œè§£ç å¹¶ååºåˆ—åŒ–ï¼Œè·å¾—åˆ°å…¥å‚å‚æ•°ä¹‹åå†é€šè¿‡åå°„æ‰§è¡Œä¸šåŠ¡é€»è¾‘ã€‚é‚£ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿™äº›æ“ä½œéƒ½åœ¨å“ªä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œå‘¢ï¼Ÿæ˜¯åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œå—ï¼Ÿ</p><p>å½“ç„¶ä¸ä¼šåœ¨ä¸€ä¸ªï¼Œå¯¹äºŒè¿›åˆ¶æ¶ˆæ¯æ•°æ®åŒ…æ‹†è§£åŒ…çš„å¤„ç†æ˜¯ä¸€å®šè¦åœ¨å¤„ç†ç½‘ç»œIOçš„çº¿ç¨‹ä¸­ï¼Œå¦‚æœç½‘ç»œé€šä¿¡æ¡†æ¶ä½¿ç”¨çš„æ˜¯Nettyæ¡†æ¶ï¼Œé‚£ä¹ˆå¯¹äºŒè¿›åˆ¶åŒ…çš„å¤„ç†æ˜¯åœ¨IOçº¿ç¨‹ä¸­ï¼Œè€Œè§£ç ä¸ååºåˆ—åŒ–çš„è¿‡ç¨‹ä¹Ÿå¾€å¾€åœ¨IOçº¿ç¨‹ä¸­å¤„ç†ï¼Œé‚£æœåŠ¡ç«¯çš„ä¸šåŠ¡é€»è¾‘å‘¢ï¼Ÿä¹Ÿåº”è¯¥åœ¨IOçº¿ç¨‹ä¸­å¤„ç†å—ï¼ŸåŸåˆ™ä¸Šæ˜¯ä¸åº”è¯¥çš„ï¼Œä¸šåŠ¡é€»è¾‘åº”è¯¥äº¤ç»™ä¸“é—¨çš„ä¸šåŠ¡çº¿ç¨‹æ± å¤„ç†ï¼Œä»¥é˜²æ­¢ç”±äºä¸šåŠ¡é€»è¾‘å¤„ç†å¾—è¿‡æ…¢è€Œå½±å“åˆ°ç½‘ç»œIOçš„å¤„ç†ã€‚</p><p>è¿™æ—¶é—®é¢˜å°±æ¥äº†ï¼Œæˆ‘ä»¬é…ç½®çš„ä¸šåŠ¡çº¿ç¨‹æ± çš„çº¿ç¨‹æ•°éƒ½æ˜¯æœ‰é™åˆ¶çš„ï¼Œåœ¨æˆ‘è¿è¥RPCçš„ç»éªŒä¸­ï¼Œä¸šåŠ¡çº¿ç¨‹æ± çš„çº¿ç¨‹æ•°ä¸€èˆ¬åªä¼šé…ç½®åˆ°200ï¼Œå› ä¸ºåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹çº¿ç¨‹æ•°é…ç½®åˆ°200è¿˜ä¸å¤Ÿç”¨å°±è¯´æ˜ä¸šåŠ¡é€»è¾‘è¯¥ä¼˜åŒ–äº†ã€‚é‚£ä¹ˆå¦‚æœç¢°åˆ°ç‰¹æ®Šçš„ä¸šåŠ¡åœºæ™¯å‘¢ï¼Ÿè®©é…ç½®çš„ä¸šåŠ¡çº¿ç¨‹æ± å®Œå…¨æ‰“æ»¡äº†ï¼Œæ¯”å¦‚è¿™æ ·ä¸€ä¸ªåœºæ™¯ã€‚</p><p>æˆ‘è¿™é‡Œå¯åŠ¨ä¸€ä¸ªæœåŠ¡ï¼Œä¸šåŠ¡é€»è¾‘å¤„ç†å¾—å°±æ˜¯æ¯”è¾ƒæ…¢ï¼Œå½“è®¿é—®é‡é€æ¸å˜å¤§æ—¶ï¼Œä¸šåŠ¡çº¿ç¨‹æ± å¾ˆå®¹æ˜“å°±è¢«æ‰“æ»¡äº†ï¼Œååé‡å¾ˆä¸ç†æƒ³ï¼Œå¹¶ä¸”è¿™æ—¶CPUçš„åˆ©ç”¨ç‡ä¹Ÿå¾ˆä½ã€‚</p><p>å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œä½ æœ‰æ²¡æœ‰æƒ³åˆ°ä»€ä¹ˆè§£å†³åŠæ³•å‘¢ï¼Ÿæ˜¯ä¸æ˜¯ä¼šé©¬ä¸Šæƒ³åˆ°è°ƒå¤§ä¸šåŠ¡çº¿ç¨‹æ± çš„çº¿ç¨‹æ•°ï¼Ÿé‚£è¿™æ ·å¯ä»¥å—ï¼Ÿæœ‰æ²¡æœ‰æ›´å¥½çš„è§£å†³æ–¹å¼å‘¢ï¼Ÿ</p><p>æˆ‘æƒ³æœåŠ¡ç«¯ä¸šåŠ¡å¤„ç†é€»è¾‘å¼‚æ­¥æ˜¯ä¸ªå¥½æ–¹æ³•ã€‚</p><p>è°ƒå¤§ä¸šåŠ¡çº¿ç¨‹æ± çš„çº¿ç¨‹æ•°ï¼Œçš„ç¡®å‹‰å¼ºå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯å¯¹äºRPCæ¡†æ¶æ¥è¯´ï¼Œå¾€å¾€éƒ½ä¼šæœ‰å¤šä¸ªæœåŠ¡å…±ç”¨ä¸€ä¸ªçº¿ç¨‹æ± çš„æƒ…å†µï¼Œå³ä½¿è°ƒå¤§ä¸šåŠ¡çº¿ç¨‹æ± ï¼Œæ¯”è¾ƒè€—æ—¶çš„æœåŠ¡å¾ˆå¯èƒ½è¿˜ä¼šå½±å“åˆ°å…¶å®ƒçš„æœåŠ¡ã€‚æ‰€ä»¥æœ€ä½³çš„è§£å†³åŠæ³•æ˜¯èƒ½å¤Ÿè®©ä¸šåŠ¡çº¿ç¨‹æ± å°½å¿«åœ°é‡Šæ”¾ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦RPCæ¡†æ¶èƒ½å¤Ÿæ”¯æŒæœåŠ¡ç«¯ä¸šåŠ¡é€»è¾‘å¼‚æ­¥å¤„ç†ï¼Œè¿™å¯¹æé«˜æœåŠ¡çš„ååé‡æœ‰å¾ˆé‡è¦çš„æ„ä¹‰ã€‚</p><p>é‚£æœåŠ¡ç«¯å¦‚ä½•æ”¯æŒä¸šåŠ¡é€»è¾‘å¼‚æ­¥å‘¢ï¼Ÿ</p><p>è¿™æ˜¯ä¸ªæ¯”è¾ƒéš¾å¤„ç†çš„é—®é¢˜ï¼Œå› ä¸ºæœåŠ¡ç«¯æ‰§è¡Œå®Œä¸šåŠ¡é€»è¾‘ä¹‹åï¼Œè¦å¯¹è¿”å›å€¼è¿›è¡Œåºåˆ—åŒ–å¹¶ä¸”ç¼–ç ï¼Œå°†æ¶ˆæ¯å“åº”ç»™è°ƒç”¨ç«¯ï¼Œä½†å¦‚æœæ˜¯å¼‚æ­¥å¤„ç†ï¼Œä¸šåŠ¡é€»è¾‘è§¦å‘å¼‚æ­¥ä¹‹åæ–¹æ³•å°±æ‰§è¡Œå®Œäº†ï¼Œæ¥ä¸åŠå°†çœŸæ­£çš„ç»“æœè¿›è¡Œåºåˆ—åŒ–å¹¶ç¼–ç ä¹‹åå“åº”ç»™è°ƒç”¨ç«¯ã€‚</p><p>è¿™æ—¶æˆ‘ä»¬å°±éœ€è¦RPCæ¡†æ¶æä¾›ä¸€ç§å›è°ƒæ–¹å¼ï¼Œè®©ä¸šåŠ¡é€»è¾‘å¯ä»¥å¼‚æ­¥å¤„ç†ï¼Œå¤„ç†å®Œä¹‹åè°ƒç”¨RPCæ¡†æ¶çš„å›è°ƒæ¥å£ï¼Œå°†æœ€ç»ˆçš„ç»“æœé€šè¿‡å›è°ƒçš„æ–¹å¼å“åº”ç»™è°ƒç”¨ç«¯ã€‚</p><p>è¯´åˆ°æœåŠ¡ç«¯æ”¯æŒä¸šåŠ¡é€»è¾‘å¼‚æ­¥å¤„ç†ï¼Œç»“åˆæˆ‘åˆšæ‰è®²è§£çš„Futureæ–¹å¼å¼‚æ­¥ï¼Œä½ æœ‰æ²¡æœ‰æƒ³åˆ°æ›´å¥½çš„å¤„ç†æ–¹å¼å‘¢ï¼Ÿå…¶å®æˆ‘ä»¬å¯ä»¥è®©RPCæ¡†æ¶æ”¯æŒCompletableFutureï¼Œå®ç°RPCè°ƒç”¨åœ¨è°ƒç”¨ç«¯ä¸æœåŠ¡ç«¯ä¹‹é—´å®Œå…¨å¼‚æ­¥ã€‚</p><p>CompletableFutureæ˜¯Java8åŸç”Ÿæ”¯æŒçš„ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œå‡å¦‚RPCæ¡†æ¶èƒ½å¤Ÿæ”¯æŒCompletableFutureï¼Œæˆ‘ç°åœ¨å‘å¸ƒä¸€ä¸ªRPCæœåŠ¡ï¼ŒæœåŠ¡æ¥å£å®šä¹‰çš„è¿”å›å€¼æ˜¯CompletableFutureå¯¹è±¡ï¼Œæ•´ä¸ªè°ƒç”¨è¿‡ç¨‹ä¼šåˆ†ä¸ºè¿™æ ·å‡ æ­¥ï¼š</p><ul>\n<li>æœåŠ¡è°ƒç”¨æ–¹å‘èµ·RPCè°ƒç”¨ï¼Œç›´æ¥æ‹¿åˆ°è¿”å›å€¼CompletableFutureå¯¹è±¡ï¼Œä¹‹åå°±ä¸éœ€è¦ä»»ä½•é¢å¤–çš„ä¸RPCæ¡†æ¶ç›¸å…³çš„æ“ä½œäº†ï¼ˆå¦‚æˆ‘åˆšæ‰è®²è§£Futureæ–¹å¼æ—¶éœ€è¦é€šè¿‡è¯·æ±‚ä¸Šä¸‹æ–‡è·å–Futureçš„æ“ä½œï¼‰ï¼Œç›´æ¥å°±å¯ä»¥è¿›è¡Œå¼‚æ­¥å¤„ç†ï¼›</li>\n<li>åœ¨æœåŠ¡ç«¯çš„ä¸šåŠ¡é€»è¾‘ä¸­åˆ›å»ºä¸€ä¸ªè¿”å›å€¼CompletableFutureå¯¹è±¡ï¼Œä¹‹åæœåŠ¡ç«¯çœŸæ­£çš„ä¸šåŠ¡é€»è¾‘å®Œå…¨å¯ä»¥åœ¨ä¸€ä¸ªçº¿ç¨‹æ± ä¸­å¼‚æ­¥å¤„ç†ï¼Œä¸šåŠ¡é€»è¾‘å®Œæˆä¹‹åå†è°ƒç”¨è¿™ä¸ªCompletableFutureå¯¹è±¡çš„completeæ–¹æ³•ï¼Œå®Œæˆå¼‚æ­¥é€šçŸ¥ï¼›</li>\n<li>è°ƒç”¨ç«¯åœ¨æ”¶åˆ°æœåŠ¡ç«¯å‘é€è¿‡æ¥çš„å“åº”ä¹‹åï¼ŒRPCæ¡†æ¶å†è‡ªåŠ¨åœ°è°ƒç”¨è°ƒç”¨ç«¯æ‹¿åˆ°çš„é‚£ä¸ªè¿”å›å€¼CompletableFutureå¯¹è±¡çš„completeæ–¹æ³•ï¼Œè¿™æ ·ä¸€æ¬¡å¼‚æ­¥è°ƒç”¨å°±å®Œæˆäº†ã€‚</li>\n</ul><p>é€šè¿‡å¯¹CompletableFutureçš„æ”¯æŒï¼ŒRPCæ¡†æ¶å¯ä»¥çœŸæ­£åœ°åšåˆ°åœ¨è°ƒç”¨ç«¯ä¸æœåŠ¡ç«¯ä¹‹é—´å®Œå…¨å¼‚æ­¥ï¼ŒåŒæ—¶æå‡äº†è°ƒç”¨ç«¯ä¸æœåŠ¡ç«¯çš„ä¸¤ç«¯çš„å•æœºååé‡ï¼Œå¹¶ä¸”CompletableFutureæ˜¯Java8åŸç”Ÿæ”¯æŒï¼Œä¸šåŠ¡é€»è¾‘ä¸­æ²¡æœ‰ä»»ä½•ä»£ç å…¥ä¾µæ€§ï¼Œè¿™æ˜¯ä¸æ˜¯å¾ˆé…·ç‚«äº†ï¼Ÿ</p><h2>æ€»ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬ä¸»è¦è®²è§£äº†å¦‚æœé€šè¿‡RPCçš„å¼‚æ­¥å»å‹æ¦¨å•æœºçš„ååé‡ã€‚</p><p>å½±å“åˆ°RPCè°ƒç”¨çš„ååé‡çš„ä¸»è¦åŸå› å°±æ˜¯æœåŠ¡ç«¯çš„ä¸šåŠ¡é€»è¾‘æ¯”è¾ƒè€—æ—¶ï¼Œå¹¶ä¸”CPUå¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨ç­‰å¾…è€Œæ²¡æœ‰å»è®¡ç®—ï¼Œå¯¼è‡´CPUåˆ©ç”¨ç‡ä¸å¤Ÿï¼Œè€Œæå‡å•æœºååé‡çš„æœ€å¥½åŠæ³•å°±æ˜¯ä½¿ç”¨å¼‚æ­¥RPCã€‚</p><p>RPCæ¡†æ¶çš„å¼‚æ­¥ç­–ç•¥ä¸»è¦æ˜¯è°ƒç”¨ç«¯å¼‚æ­¥ä¸æœåŠ¡ç«¯å¼‚æ­¥ã€‚è°ƒç”¨ç«¯çš„å¼‚æ­¥å°±æ˜¯é€šè¿‡Futureæ–¹å¼å®ç°å¼‚æ­¥ï¼Œè°ƒç”¨ç«¯å‘èµ·ä¸€æ¬¡å¼‚æ­¥è¯·æ±‚å¹¶ä¸”ä»è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­æ‹¿åˆ°ä¸€ä¸ªFutureï¼Œä¹‹åé€šè¿‡Futureçš„getæ–¹æ³•è·å–ç»“æœï¼Œå¦‚æœä¸šåŠ¡é€»è¾‘ä¸­åŒæ—¶è°ƒç”¨å¤šä¸ªå…¶å®ƒçš„æœåŠ¡ï¼Œåˆ™å¯ä»¥é€šè¿‡Futureçš„æ–¹å¼å‡å°‘ä¸šåŠ¡é€»è¾‘çš„è€—æ—¶ï¼Œæå‡ååé‡ã€‚æœåŠ¡ç«¯å¼‚æ­¥åˆ™éœ€è¦ä¸€ç§å›è°ƒæ–¹å¼ï¼Œè®©ä¸šåŠ¡é€»è¾‘å¯ä»¥å¼‚æ­¥å¤„ç†ï¼Œä¹‹åè°ƒç”¨RPCæ¡†æ¶æä¾›çš„å›è°ƒæ¥å£ï¼Œå°†æœ€ç»ˆç»“æœå¼‚æ­¥é€šçŸ¥ç»™è°ƒç”¨ç«¯ã€‚</p><p>å¦å¤–ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹CompletableFutureçš„æ”¯æŒï¼Œå®ç°RPCè°ƒç”¨åœ¨è°ƒç”¨ç«¯ä¸æœåŠ¡ç«¯ä¹‹é—´çš„å®Œå…¨å¼‚æ­¥ï¼ŒåŒæ—¶æå‡ä¸¤ç«¯çš„å•æœºååé‡ã€‚</p><p>å…¶å®ï¼ŒRPCæ¡†æ¶ä¹Ÿå¯ä»¥æœ‰å…¶å®ƒçš„å¼‚æ­¥ç­–ç•¥ï¼Œæ¯”å¦‚é›†æˆRxJavaï¼Œå†æ¯”å¦‚gRPCçš„StreamObserverå…¥å‚å¯¹è±¡ï¼Œä½†CompletableFutureæ˜¯Java8åŸç”Ÿæä¾›çš„ï¼Œæ— ä»£ç å…¥ä¾µæ€§ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨ä¸Šæ›´åŠ æ–¹ä¾¿ã€‚å¦‚æœæ˜¯Javaå¼€å‘ï¼Œè®©RPCæ¡†æ¶æ”¯æŒCompletableFutureå¯ä»¥è¯´æ˜¯æœ€ä½³çš„å¼‚æ­¥è§£å†³æ–¹æ¡ˆã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>å¯¹äºRPCè°ƒç”¨æå‡ååé‡è¿™ä¸ªé—®é¢˜ï¼Œä½ æ˜¯å¦è¿˜æœ‰å…¶å®ƒçš„è§£å†³æ–¹æ¡ˆï¼Ÿä½ è¿˜èƒ½æƒ³åˆ°å“ªäº›RPCæ¡†æ¶çš„å¼‚æ­¥ç­–ç•¥ï¼Ÿ</p><p>æ¬¢è¿ç•™è¨€åˆ†äº«ä½ çš„ç­”æ¡ˆï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠæ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ï¼Œé‚€è¯·ä»–åŠ å…¥å­¦ä¹ ã€‚æˆ‘ä»¬ä¸‹èŠ‚è¯¾å†è§ï¼</p>","neighbors":{"left":{"article_title":"ç­”ç–‘è¯¾å ‚ | åŸºç¡€ç¯‡ä¸è¿›é˜¶ç¯‡æ€è€ƒé¢˜ç­”æ¡ˆåˆé›†","id":216772},"right":{"article_title":"18 | å®‰å…¨ä½“ç³»ï¼šå¦‚ä½•å»ºç«‹å¯é çš„å®‰å…¨ä½“ç³»ï¼Ÿ","id":218523}},"comments":[{"had_liked":false,"id":202564,"user_name":"æ¥¼ä¸‹å°é»‘å“¥","can_delete":false,"product_type":"c1","uid":1014680,"ip_address":"","ucode":"453B099B0EE52E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7b/98/8f1aecf4.jpg","comment_is_top":false,"comment_ctime":1586008269,"is_pvip":false,"replies":[{"id":"75907","content":"æ€»ç»“çš„å¾ˆå¥½ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•å°é”‹","uid":"1541007","ctime":1586140821,"ip_address":"","comment_id":202564,"utype":1}],"discussion_count":2,"race_medal":0,"score":"186269601997","product_id":100046201,"comment_content":"RPC è¿™é‡Œè¿œç¨‹æ–¹æ³•è°ƒç”¨æ–¹å¼ï¼Œå¤§è‡´å¯ä»¥åˆ†æˆå››ç§æ–¹å¼ï¼š<br><br>- sync é»˜è®¤æ–¹å¼ï¼Œä½†æ˜¯è¿™åªæ˜¯ã€æ–¹æ³•ã€å†…éƒ¨åŒæ­¥ï¼Œå®é™…ä¸Š RPC æ¡†æ¶å†…éƒ¨è¿˜æ˜¯å¼‚æ­¥å¤„ç†ã€‚<br>- future æ–¹å¼ï¼ŒRPC æ¶ˆè´¹è€…å¾—åˆ° futureï¼Œè‡ªè¡Œå†³å®šä½•æ—¶è·å–è¿”å›ç»“æœ<br>- callback æ–¹å¼ï¼ŒRPC è°ƒç”¨ç«¯ä¸éœ€è¦åŒæ­¥å¤„ç†å“åº”ç»“æœï¼Œå¯ä»¥ç›´æ¥è¿”å›ã€‚æœ€åè¿”å›ç»“æœå°†ä¼šåœ¨å›è°ƒçº¿ç¨‹å¼‚æ­¥å¤„ç†<br>- oneway æ–¹å¼ï¼Œè°ƒç”¨ç«¯å‘é€è¯·æ±‚ä¹‹åä¸éœ€è¦æ¥å—å“åº”<br><br>å…¶ä¸­ Dubbo 2.7 ä¹‹åçš„ç‰ˆæœ¬ï¼Œä½¿ç”¨ CompletableFuture æå‡å¼‚æ­¥çš„å¤„ç†çš„èƒ½åŠ›ï¼Œæ”¯æŒä»¥ä¸Šå››ç§æ–¹å¼ã€‚<br><br><br>","like_count":44,"discussions":[{"author":{"id":1541007,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/8f/8471d633.jpg","nickname":"ä½•å°é”‹","note":"","ucode":"E9B3B4A1B75D8B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490617,"discussion_content":"æ€»ç»“çš„å¾ˆå¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586140821,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1879262,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/ac/de/68f35320.jpg","nickname":"å°æ¥å­","note":"","ucode":"4EDAF31E43B211","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325560,"discussion_content":"M","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605349002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":232938,"user_name":"vuiolpg","can_delete":false,"product_type":"c1","uid":1815650,"ip_address":"","ucode":"6EE47217D827FF","user_header":"https://static001.geekbang.org/account/avatar/00/1b/b4/62/771bed4b.jpg","comment_is_top":false,"comment_ctime":1594172607,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"83198551231","product_id":100046201,"comment_content":"æˆ‘è§‰å¾—ä½œè€…æœ‰ä¸€éƒ¨åˆ†çš„æè¿°ä¼šæœ‰ç‚¹è¯¯å¯¼æ–°äººï¼Œå°±æ˜¯CPU å¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨ç­‰å¾…ï¼Œå¹¶æ²¡æœ‰å¾—åˆ°å……åˆ†åœ°åˆ©ç”¨ï¼Œå› æ­¤ CPU çš„åˆ©ç”¨ç‡å’ŒæœåŠ¡çš„ååé‡å½“ç„¶ä¸Šä¸å»äº†è¿™æ®µè¯ï¼Œå…¶å®çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€æ—¶æ˜¯ä¸å ç”¨cpuèµ„æºçš„ï¼Œæ‰€ä»¥æ›´å‡†ç¡®çš„æè¿°åº”è¯¥æ˜¯æµªè´¹äº†å®è´µçš„çº¿ç¨‹èµ„æºï¼Œå¤§é‡çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ï¼Œå¯èƒ½ï¼ˆä¸æ˜¯ä¸€å®šï¼‰å¯¼è‡´cpuåˆ©ç”¨ç‡ä½ã€‚","like_count":19,"discussions":[{"author":{"id":2309573,"avatar":"","nickname":"Geek_09d497","note":"","ucode":"DF68A83396972E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":327284,"discussion_content":"ä½œè€…çš„æ„æ€å°±æ˜¯è¯´ä¸èƒ½é˜»å¡åŒæ­¥è·å–ç»“æœï¼Œé‚£æ ·å¹¶å‘æ•ˆç‡å°±ä½ï¼Œå¤„ç†ä¸äº†å¤ªå¤šè¯·æ±‚ï¼Œæ­£å› ä¸ºé˜»å¡å¯¼è‡´cpuç©ºé—²ï¼Œæ‰€ä»¥cpuåˆ©ç”¨ç‡å½“ç„¶ä¸Šä¸å»ï¼Œæ‰€ä»¥æ‰éœ€è¦å¼‚æ­¥ï¼Œæé«˜rpcæ¡†æ¶çš„å¹¶å‘å¤„ç†èƒ½åŠ›","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1605782732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":221579,"user_name":"landon30","can_delete":false,"product_type":"c1","uid":1068170,"ip_address":"","ucode":"AD3120D5BF8892","user_header":"https://static001.geekbang.org/account/avatar/00/10/4c/8a/d75626ec.jpg","comment_is_top":false,"comment_ctime":1590544098,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"53130151650","product_id":100046201,"comment_content":"å¼‚æ­¥çš„æœ€ä½³è§£å†³æ–¹æ¡ˆæ˜¯coroutine","like_count":12},{"had_liked":false,"id":206951,"user_name":"JDY","can_delete":false,"product_type":"c1","uid":1848474,"ip_address":"","ucode":"4B6F55332BE6DC","user_header":"https://static001.geekbang.org/account/avatar/00/1c/34/9a/1587bc6f.jpg","comment_is_top":false,"comment_ctime":1586962218,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"23061798698","product_id":100046201,"comment_content":"è€å¸ˆè¯´çš„æ˜¯javaç‰ˆçš„rpcè®¾è®¡ï¼Œæˆ‘ç°åœ¨ä¹ŸçŸ¥é“äº†æœ€å¥½è¦ç”¨å¼‚æ­¥çš„æ–¹å¼æ¥è¿›è¡Œè°ƒç”¨ï¼Œä½†æ˜¯c++çš„æ€ä¹ˆå®ç°å‘¢ï¼Ÿ","like_count":5,"discussions":[{"author":{"id":1099467,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c6/cb/c7541d52.jpg","nickname":"cwfighter","note":"","ucode":"1328C8A43EAD1B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":302916,"discussion_content":"c++å®¢æˆ·ç«¯ä¹Ÿæ˜¯callbackæˆ–è€…future(c++11)ï¼Œå¤–åŠ ä¸€ä¸ªåç¨‹ï¼ŒæœåŠ¡ç«¯åˆ™æ˜¯ioçº¿ç¨‹å’Œä¸šåŠ¡çº¿ç¨‹é€šè¿‡å†…éƒ¨é˜Ÿåˆ—å®ç°è§£è€¦è¾¾åˆ°å¼‚æ­¥ï¼Œå¦‚æœä¸šåŠ¡çº¿ç¨‹æœ‰è°ƒç”¨æœåŠ¡é€»è¾‘ï¼Œåˆ™å’Œå®¢æˆ·ç«¯ä¸€æ ·æ¥è¾¾åˆ°å¼‚æ­¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1599063455,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":199955,"user_name":"é«˜æº","can_delete":false,"product_type":"c1","uid":1048887,"ip_address":"","ucode":"751B41FD38EF7D","user_header":"https://static001.geekbang.org/account/avatar/00/10/01/37/12e4c9c9.jpg","comment_is_top":false,"comment_ctime":1585519349,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"18765388533","product_id":100046201,"comment_content":"æ–°çš„çŸ¥è¯†ç‚¹ï¼Œå­¦ä¹ äº†è€å¸ˆè®²çš„éå¸¸å¥½ï¼Œå¦‚æœä¸¾ä¸ªå°çš„demoå°±æ›´å¥½äº†ï¼Œä¸»è¦è°ƒè¯•ç¨‹åºç†è§£çŸ¥è¯†ç‚¹ï¼Œç‚¹èµ","like_count":4},{"had_liked":false,"id":262622,"user_name":"Geek_09d497","can_delete":false,"product_type":"c1","uid":2309573,"ip_address":"","ucode":"DF68A83396972E","user_header":"","comment_is_top":false,"comment_ctime":1605782998,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"14490684886","product_id":100046201,"comment_content":"å¼‚æ­¥è™½ç„¶èƒ½æé«˜æ€§èƒ½ï¼Œä½†æ˜¯é‡åˆ°æœ‰çš„ä¸šåŠ¡æœ‰å…ˆåé¡ºåºï¼Œå¦‚æœæ‰€æœ‰è¯·æ±‚å¼‚æ­¥ï¼Œé‚£å¦‚ä½•ä¿è¯æ—¶åºå‘¢","like_count":3,"discussions":[{"author":{"id":2028955,"avatar":"","nickname":"å‹¿æ›´æ”¹ä»»ä½•ä¿¡æ¯","note":"","ucode":"B4949BEB8B2AFD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":589431,"discussion_content":"å¦‚æœæ˜¯javaçš„è¯ï¼ŒcompleteableFutureæ”¯æŒç¼–æ’å¼çš„å†™æ³•ï¼Œå¯ä»¥è¿›è¡Œä¸šåŠ¡é€»è¾‘çš„æ‹“æ‰‘ç»„åˆï¼Œå…ˆåé¡ºåºå³å¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1664894955,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å±±ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1385204,"avatar":"https://static001.geekbang.org/account/avatar/00/15/22/f4/9fd6f8f0.jpg","nickname":"æ ¸æ¡ƒ","note":"","ucode":"7AB05270CBCCCB","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550812,"discussion_content":"ä¸šåŠ¡å±‚é¢åšå®‰å…¨æ£€æŸ¥æ¥ä¿è¯,è¿™äº›ä¸œè¥¿ä¸åº”è¯¥è®©æ¡†æ¶å±‚é¢æ¥æ”¯æŒçš„ã€‚ä¾‹å¦‚ä¸€æ¬¡è¯·æ±‚é‡Œé¢ï¼Œç»“æ„ä½“å¸¦ä¸Šä¸€äº›å­—æ®µæˆ–è€…å±æ€§æ¥æ ‡è®°æ˜¯å¦å·²ç»æ‰§è¡Œè¿‡æŸä¸ªé˜¶æ®µã€‚åˆæˆ–è€…åœ¨ä¸šåŠ¡çº¿ç¨‹æ± æ‰§è¡Œçš„ä»£ç é‡Œé¢åšã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644744633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":228167,"user_name":"rainj2013","can_delete":false,"product_type":"c1","uid":1392858,"ip_address":"","ucode":"D87A15C04DDEBA","user_header":"https://static001.geekbang.org/account/avatar/00/15/40/da/304a566e.jpg","comment_is_top":false,"comment_ctime":1592575128,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"14477477016","product_id":100046201,"comment_content":"æˆ‘ä»¬ç›´æ¥ç”¨mqæ¥åšçš„é€šä¿¡ï¼Œå®ç°çº¯å¼‚æ­¥çš„rpc","like_count":3,"discussions":[{"author":{"id":1879262,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/ac/de/68f35320.jpg","nickname":"å°æ¥å­","note":"","ucode":"4EDAF31E43B211","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":325562,"discussion_content":"é‚£æ˜¯one-wayæ–¹å¼å§~ è¿”å›å‚æ•°å’‹æå‘¢ï¼Ÿ","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1605349096,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1392858,"avatar":"https://static001.geekbang.org/account/avatar/00/15/40/da/304a566e.jpg","nickname":"rainj2013","note":"","ucode":"D87A15C04DDEBA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1879262,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/ac/de/68f35320.jpg","nickname":"å°æ¥å­","note":"","ucode":"4EDAF31E43B211","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349860,"discussion_content":"æ— è®ºæ˜¯mqè¿˜æ˜¯å…¶ä»–å½¢å¼çš„å¼‚æ­¥rpcï¼Œéƒ½æ˜¯ç”¨ä¸€ä¸ªå”¯ä¸€IDæ¥æ ‡è¯†è¯·æ±‚çš„ï¼Œè¯·æ±‚å’Œè¿”å›éƒ½å¸¦ä¸ŠIDå³å¯","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1613601507,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":325562,"ip_address":""},"score":349860,"extra":""}]}]},{"had_liked":false,"id":200018,"user_name":"çŸ³ä½©","can_delete":false,"product_type":"c1","uid":1881512,"ip_address":"","ucode":"8A7BDD7B5A4906","user_header":"https://static001.geekbang.org/account/avatar/00/1c/b5/a8/427a7b6d.jpg","comment_is_top":false,"comment_ctime":1585533351,"is_pvip":false,"replies":[{"id":"74947","content":"å¼‚æ­¥å¯¹äºæœåŠ¡æä¾›æ–¹æ¥è¯´ï¼Œrpcçº¿ç¨‹æ‰€è¦å¤„ç†çš„äº‹æƒ…å°±å˜å°‘äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•å°é”‹","uid":"1541007","ctime":1585570703,"ip_address":"","comment_id":200018,"utype":1}],"discussion_count":3,"race_medal":0,"score":"14470435239","product_id":100046201,"comment_content":"ä½¿ç”¨å¼‚æ­¥çš„æ—¶å€™è¿”å›çš„é€Ÿåº¦å˜å¿«äº†ï¼Œä½†æ˜¯åå°æ‰€éœ€è¦çš„çº¿ç¨‹æ•°ä¼šå˜å°‘ä¹ˆï¼Ÿï¼Œçº¿ç¨‹æ± æˆ‘ç†è§£åº”è¯¥æ˜¯è¯¥è¢«æ‰“æ»¡è¿˜æ˜¯è¢«æ‰“æ»¡","like_count":3,"discussions":[{"author":{"id":1541007,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/8f/8471d633.jpg","nickname":"ä½•å°é”‹","note":"","ucode":"E9B3B4A1B75D8B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489918,"discussion_content":"å¼‚æ­¥å¯¹äºæœåŠ¡æä¾›æ–¹æ¥è¯´ï¼Œrpcçº¿ç¨‹æ‰€è¦å¤„ç†çš„äº‹æƒ…å°±å˜å°‘äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585570703,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1215066,"avatar":"https://static001.geekbang.org/account/avatar/00/12/8a/5a/b67a82e3.jpg","nickname":"shen","note":"","ucode":"AE5737B0C7DC4F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":221920,"discussion_content":"æˆ‘çš„ç†è§£åº”è¯¥æ˜¯é¿å…ä½¿ç”¨ioçº¿ç¨‹ï¼ˆrpcçº¿ç¨‹ï¼‰é€ æˆé˜»å¡ï¼Œå¯ä»¥ä½¿ç”¨ä¸šåŠ¡çº¿ç¨‹ï¼Œæ¯•ç«Ÿcpuæ²¡æœ‰100%","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586080827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1878898,"avatar":"https://static001.geekbang.org/account/avatar/00/1c/ab/72/c3a5eff3.jpg","nickname":"Reason","note":"","ucode":"C2A8D67BC6F94D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217290,"discussion_content":"åŒé—®ï¼Œæˆ‘ä¹Ÿç†è§£æ˜¯è¿™æ ·å¾—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585538839,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320088,"user_name":"èƒ¡æ¨","can_delete":false,"product_type":"c1","uid":1018595,"ip_address":"","ucode":"F45F74239BE289","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8a/e3/11fd3b72.jpg","comment_is_top":false,"comment_ctime":1636079216,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10226013808","product_id":100046201,"comment_content":"RPCçš„æœåŠ¡æä¾›æ–¹ä¸ºäº†æé«˜ååé‡ï¼Œé‡‡ç”¨å¼‚æ­¥å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œè¿™ä¸ªæˆ‘èƒ½ç†è§£ã€‚<br>æ–‡ä¸­è¯´è‡ªå®šä¹‰çº¿ç¨‹æ± å»å¼‚æ­¥å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œå¦‚æœä¸šåŠ¡é€»è¾‘å¤„ç†å¾ˆæ…¢ï¼Œä¼šæŠŠçº¿ç¨‹æ± æ‰“æ»¡ï¼Œè¿™ä¸ªæˆ‘ä¹Ÿèƒ½ç†è§£ã€‚<br>ä½†ä½œè€…çš„æ„æ€æ˜¯ï¼Œä¸ºäº†è®©ä¸šåŠ¡çº¿ç¨‹æ± å°½å¿«é‡Šæ”¾ï¼Œå¯ä»¥é‡‡ç”¨CompletableFutureå»å¼‚æ­¥å¤„ç†ï¼Œé‚£ä¸šåŠ¡é€»è¾‘æ…¢çš„æ—¶å€™,CompletableFutureçš„çº¿ç¨‹æ± ä¹Ÿæ˜¯ä¼šè¢«æ‰“æ»¡å•Šã€‚ç”¨CompletableFutureå¼‚æ­¥å¤„ç†ï¼Œä¸æˆ‘ä»¬è‡ªå·±ç”¨çº¿ç¨‹æ± å»å¤„ç†ï¼Œæˆ‘çš„ç†è§£æ˜¯ï¼Œç”¨CompletableFutureå¯ä»¥é™ä½ä¸€äº›å¼‚æ­¥ç¼–ç¨‹çš„å¤æ‚åº¦ï¼Œä½†åœ¨æ€§èƒ½æ•ˆæœæ–¹é¢æœ‰åŒºåˆ«å—ï¼Ÿ","like_count":2},{"had_liked":false,"id":297573,"user_name":"Forsaken","can_delete":false,"product_type":"c1","uid":1381384,"ip_address":"","ucode":"F69EB2FBE48A37","user_header":"https://static001.geekbang.org/account/avatar/00/15/14/08/ac323169.jpg","comment_is_top":false,"comment_ctime":1623644484,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5918611780","product_id":100046201,"comment_content":"åˆ©ç”¨ä»»åŠ¡ç¼–æ’æ¥æé«˜æ€§èƒ½","like_count":1},{"had_liked":false,"id":290054,"user_name":"chai","can_delete":false,"product_type":"c1","uid":1202222,"ip_address":"","ucode":"C686EB1B1EBAB6","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep66fdwo3ebSicKjf0iacAx4C2tZOthDDD4bSJqib1iauFBK6EoMSWUBp4UbbN2BQlib7mFR3hQD6MUwew/132","comment_is_top":false,"comment_ctime":1619340184,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5914307480","product_id":100046201,"comment_content":"goè¯­è¨€æ”¯æŒå¼‚æ­¥è°ƒç”¨æ¯”è¾ƒç®€å•ï¼Œæ–°å¯åŠ¨ä¸€ä¸ªgoroutineå°±è¡Œäº†","like_count":1},{"had_liked":false,"id":200246,"user_name":"é‚£ä¸ªè°","can_delete":false,"product_type":"c1","uid":1118325,"ip_address":"","ucode":"43214CAE7062E7","user_header":"https://static001.geekbang.org/account/avatar/00/11/10/75/ff76024c.jpg","comment_is_top":false,"comment_ctime":1585562354,"is_pvip":false,"replies":[{"id":"74946","content":"åº”ç”¨å±‚å¼‚æ­¥è·Ÿç½‘ç»œæ²¡æœ‰å…³ç³»","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•å°é”‹","uid":"1541007","ctime":1585570598,"ip_address":"","comment_id":200246,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5880529650","product_id":100046201,"comment_content":"rpcæ¡†æ¶æ˜¯ä½œç”¨äºè°ƒç”¨æ–¹æœåŠ¡æ–¹ä¸¤ç«¯ï¼Ÿå®é™…ä¸Šæ˜¯åœ¨æœåŠ¡ç«¯æœ‰service, å®¢æˆ·ç«¯æœ‰clientï¼Ÿç„¶åå®¢æˆ·ç«¯å‘èµ·å¼‚æ­¥rpcè°ƒç”¨ï¼Œæ˜¯è¯´å®¢æˆ·ç«¯æœ¬èº«ä¸ç­‰å¾…è¿”å›ç»§ç»­å¤„ç†è‡ªèº«ä¸šåŠ¡ï¼Œè€Œå¯¹æœåŠ¡ç«¯æ¥è®²ï¼Œå¹¶ä¸çŸ¥é“å®¢æˆ·ç«¯æ˜¯ä¸æ˜¯å¼‚æ­¥ï¼Œç„¶åæœåŠ¡ç«¯ä¹Ÿæ˜¯æ­£å¸¸å¤„ç†è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ã€‚å¦‚æœä¹Ÿæ˜¯å¼‚æ­¥ï¼Œé‚£è¿”å›çš„ç»“æœæ˜¯åœ¨æœåŠ¡ç«¯æ¡†æ¶ï¼Œç„¶åæœåŠ¡ç«¯çš„rpcæ¡†æ¶ç­‰å®Œæˆåï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ï¼Ÿç½‘ç»œä¼ è¾“æ˜¯ä¸åŒºåˆ†å¼‚æ­¥ä¸å¼‚æ­¥ï¼Œè¿˜æ˜¯è¦ç­‰æœåŠ¡ç«¯æ‰§è¡Œå®Œæˆï¼Œæ‹¿åˆ°æ­£å¸¸ç»“æœååºåˆ—åŒ–åˆ°ç½‘ç»œè¿”å›ç»™è°ƒç”¨æ–¹ï¼Œæ˜¯è¿™ä¹ˆç†è§£å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1541007,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/8f/8471d633.jpg","nickname":"ä½•å°é”‹","note":"","ucode":"E9B3B4A1B75D8B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489970,"discussion_content":"åº”ç”¨å±‚å¼‚æ­¥è·Ÿç½‘ç»œæ²¡æœ‰å…³ç³»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585570598,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1118325,"avatar":"https://static001.geekbang.org/account/avatar/00/11/10/75/ff76024c.jpg","nickname":"é‚£ä¸ªè°","note":"","ucode":"43214CAE7062E7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":217571,"discussion_content":"æ‰€ä»¥å¼‚æ­¥rpcå…·ä½“çš„ä¸€ä¸ªæµç¨‹æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585571102,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357392,"user_name":"è«ç£","can_delete":false,"product_type":"c1","uid":1117933,"ip_address":"ä¸Šæµ·","ucode":"CAFE6F2AC5C177","user_header":"https://static001.geekbang.org/account/avatar/00/11/0e/ed/1c662e93.jpg","comment_is_top":false,"comment_ctime":1663221820,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663221820","product_id":100046201,"comment_content":"æˆ‘ä¸€ç›´ä¸å¤ªæ˜ç™½å¼‚æ­¥è°ƒç”¨çš„ä»£ç è¦æ€ä¹ˆå†™ã€‚æ¯”å¦‚æ–‡ç« ä¸­ä¸¾çš„ä¾‹å­ï¼Œè°ƒç”¨ç«¯é€»è¾‘éœ€è¦é€šè¿‡å‡ ä¸ªRPCæ‰èƒ½å®ç°è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ï¼Œä½†ç¬¬ä¸€ä¸ªRPCæ²¡æ‹¿åˆ°å“åº”æ•°æ®ï¼Œå°±æ²¡åŠæ³•æ‰§è¡Œåç»­çš„ä¸šåŠ¡ä»£ç ï¼Œé‚£è¿™æ ·ä¸å°±å¾—åŒæ­¥è°ƒç”¨äº†ã€‚","like_count":0},{"had_liked":false,"id":354753,"user_name":"Palmer","can_delete":false,"product_type":"c1","uid":1207690,"ip_address":"å¹¿ä¸œ","ucode":"85EA16351ADC87","user_header":"https://static001.geekbang.org/account/avatar/00/12/6d/8a/0f53c600.jpg","comment_is_top":false,"comment_ctime":1660745560,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1660745560","product_id":100046201,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼æˆ‘ä¹‹å‰åœ¨å­¦ä¹ gRPCæ—¶äº†è§£åˆ°StreamingåŠŸèƒ½ï¼Œå°±æ˜¯å›è°ƒæ–¹å¼çš„ä¸€ç§å®ç°ï¼Œä½†å‘ç°æœåŠ¡ç«¯å“ªæ€•å•çº¿ç¨‹ä¹Ÿæ— æ³•ä¿è¯è¯·æ±‚çš„é¡ºåºï¼ˆNetty IOæ¨¡å‹é€ æˆï¼‰ã€‚æ¯”å¦‚è°ƒç”¨ç«¯ä¸€æ¬¡å‘é€ABCï¼ŒæœåŠ¡ç«¯å¯èƒ½ä¼šå¤„ç†BACã€‚<br>è¯·é—®è€å¸ˆï¼Œè¿™ç§ä¸šåŠ¡ä¸Šæœ‰é¡ºåºè¦æ±‚çš„åœºæ™¯ï¼Œå¦‚ä½•åœ¨ä¿è¯é¡ºåºå¤„ç†çš„å‰æä¸‹ä½¿ç”¨å¼‚æ­¥æ¥æå‡æ€§èƒ½å‘¢ï¼Ÿè°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":349041,"user_name":"å¾æ•","can_delete":false,"product_type":"c1","uid":1302874,"ip_address":"","ucode":"5F16D588591489","user_header":"https://static001.geekbang.org/account/avatar/00/13/e1/5a/d2081f1c.jpg","comment_is_top":false,"comment_ctime":1655688272,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1655688272","product_id":100046201,"comment_content":"ç”¨futureä¸ç”¨åç¨‹ï¼Œç›´æ¥ä¸ä¼šå†™ä»£ç ã€‚","like_count":0},{"had_liked":false,"id":345602,"user_name":"Geek_648c53","can_delete":false,"product_type":"c1","uid":2655964,"ip_address":"","ucode":"51F87D92B3BD05","user_header":"https://static001.geekbang.org/account/avatar/00/28/86/dc/be1b17d8.jpg","comment_is_top":false,"comment_ctime":1652426676,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1652426676","product_id":100046201,"comment_content":"æœ‰ä¸ªç–‘æƒ‘ï¼Œå¦‚æœè°ƒç”¨æ–¹éœ€è¦å¤šæ¬¡è°ƒç”¨æœåŠ¡ï¼Œè€Œä¸”æœåŠ¡çš„å¤šæ¬¡è°ƒç”¨æœ‰é€»è¾‘é¡ºåºçš„è¦æ±‚ï¼Œä¸”ç›¸äº’ä¾èµ–ï¼Œè¿™æ ·å°±å¯¼è‡´å³ä½¿å¼‚æ­¥å¤„ç†ï¼Œè°ƒç”¨è€…ä¹Ÿéœ€è¦ç­‰å¾…æœåŠ¡å¤„ç†å®Œæ¯•æ‰å¯ä»¥ï¼Œæœ‰è¿™æ ·çš„éœ€æ±‚çš„è¯ï¼Œå¼‚æ­¥çš„ç”¨é€”ä¹Ÿèµ·ä¸åˆ°å¤ªå¤§çš„ä½œç”¨ï¼ˆä¸çŸ¥é“æˆ‘ç†è§£çš„å¯¹ä¸å¯¹ï¼‰","like_count":0},{"had_liked":false,"id":334100,"user_name":"æ ¸æ¡ƒ","can_delete":false,"product_type":"c1","uid":1385204,"ip_address":"","ucode":"7AB05270CBCCCB","user_header":"https://static001.geekbang.org/account/avatar/00/15/22/f4/9fd6f8f0.jpg","comment_is_top":false,"comment_ctime":1644744740,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1644744740","product_id":100046201,"comment_content":"å…¨éƒ¨ä½¿ç”¨å¼‚æ­¥è¿›è¡Œè°ƒç”¨ï¼Œè¿™é‡Œä¹Ÿä¼šå¸¦æ¥ä¸€ä¸ªéšè—çš„é—®é¢˜ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚å½“æœåŠ¡è¯·æ±‚å¾ˆå¤šçš„æ—¶å€™ï¼Œè™½ç„¶å¼‚æ­¥å¯ä»¥æ¥å—æ›´å¤šçš„è¯·æ±‚ã€‚ä½†æ˜¯ä¹Ÿæ„å‘³ç€ä¼šæœ‰å¤§é‡çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè¿™ä¸ªé—®é¢˜ä¹Ÿæ˜¯è‡´å‘½çš„ã€‚å› æ­¤ä¸€å®šè¦åŒºåˆ†ï¼Œå“ªäº›ä¸šåŠ¡æ˜¯å¯ä»¥å¼‚æ­¥ï¼Œå“ªäº›ä¸šåŠ¡æ˜¯ä¸éœ€è¦å¼‚æ­¥çš„ã€‚å¦åˆ™å¾—ä¸å¿å¤±äº†ã€‚","like_count":0},{"had_liked":false,"id":293530,"user_name":"å§‘å°„ä»™äºº","can_delete":false,"product_type":"c1","uid":1008517,"ip_address":"","ucode":"3EFC1F3E592165","user_header":"https://static001.geekbang.org/account/avatar/00/0f/63/85/1dc41622.jpg","comment_is_top":false,"comment_ctime":1621420541,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1621420541","product_id":100046201,"comment_content":"è€å¸ˆï¼Œâ€œè°ƒç”¨ç«¯åœ¨æ”¶åˆ°æœåŠ¡ç«¯å‘é€è¿‡æ¥çš„å“åº”ä¹‹åâ€ï¼Œåœ¨å¼‚æ­¥è¯·æ±‚ä¸‹ï¼Œè°æ¥å‘é€è¿™ä¸ªå“åº”ï¼Ÿä¸šåŠ¡é€»è¾‘å®Œæˆä¹‹åå†è°ƒç”¨è¿™ä¸ª CompletableFuture å¯¹è±¡çš„ complete æ–¹æ³•ï¼Œå®Œæˆå¼‚æ­¥é€šçŸ¥ã€‚è¿™ä¸ªcomplete æ–¹æ³•ä¼šè§¦å‘å“åº”å—ï¼Ÿè§¦å‘å“åº”æ˜¯è¦å‘èµ·è¯·æ±‚åˆ°è°ƒç”¨ç«¯çš„å§ã€‚","like_count":0},{"had_liked":false,"id":290205,"user_name":"dog_brother","can_delete":false,"product_type":"c1","uid":1619597,"ip_address":"","ucode":"9F64D3C6D815FB","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er6OV33jHia3U9LYlZEx2HrpsELeh3KMlqFiaKpSAaaZeBttXRAVvDXUgcufpqJ60bJWGYGNpT7752w/132","comment_is_top":false,"comment_ctime":1619429607,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1619429607","product_id":100046201,"comment_content":"c++çš„å¼‚æ­¥åº“ï¼Œå¤§å®¶æœ‰å•¥æ¨èçš„ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1136684,"avatar":"https://static001.geekbang.org/account/avatar/00/11/58/2c/92c7ce3b.jpg","nickname":"æ˜“è½»å°˜","note":"","ucode":"0D0CB9D6D45A70","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386649,"discussion_content":"å¯ä»¥è€ƒè™‘boostï¼Œactoræˆ–è€…cpp20çš„coroutine","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627708401,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":277010,"user_name":"æƒ˜ é—»","can_delete":false,"product_type":"c1","uid":1181650,"ip_address":"","ucode":"C5909F034BF072","user_header":"https://static001.geekbang.org/account/avatar/00/12/07/d2/0d7ee298.jpg","comment_is_top":false,"comment_ctime":1612231811,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1612231811","product_id":100046201,"comment_content":"æœ€é‡è¦çš„æ˜¯å› ä¸ºCompletableFutureæ¯”Futureå¤šäº†completeå›è°ƒæ–¹æ³•å¯¹å—?è¿™æ ·æ‰å¯ä»¥å®ç°å¼‚æ­¥å›è°ƒçš„å“åº”","like_count":0},{"had_liked":false,"id":250505,"user_name":"å‡¯æ–‡å°çŒª","can_delete":false,"product_type":"c1","uid":1980201,"ip_address":"","ucode":"36D8AD0229547F","user_header":"https://static001.geekbang.org/account/avatar/00/1e/37/29/b3af57a7.jpg","comment_is_top":false,"comment_ctime":1601107266,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1601107266","product_id":100046201,"comment_content":"ç»“æœæ³¨å…¥futureè¿™å¥è¯ä¸æ˜¯å¾ˆæ‡‚ï¼Ÿæœ‰å…·ä½“çš„ä¾‹å­æˆ–è€…è¯´æ˜å—","like_count":0},{"had_liked":false,"id":217838,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1589625977,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1589625977","product_id":100046201,"comment_content":"å­¦ä¹ æ›²çº¿ç¡®å®é™¡å³­äº†ï¼Œå°ç»“ä¸€ä¸‹ï¼š<br>å‹æ¦¨å•æœºååé‡çš„ç§˜è¯€æ˜¯å¼‚æ­¥åŒ–ï¼Œé’ˆå¯¹RPCæ¡†æ¶å¼‚æ­¥åŒ–åˆ†æˆè°ƒç”¨ç«¯å¼‚æ­¥åŒ–å’ŒæœåŠ¡ç«¯å¼‚æ­¥åŒ–ã€‚<br>è°ƒç”¨ç«¯æœ¬èº«å°±æ˜¯å¼‚æ­¥åŒ–çš„ï¼Œæ¯•ç«Ÿé€šè¿‡ç½‘ç»œå‘ç”Ÿå®Œè¯·æ±‚æ¶ˆæ¯ï¼Œåé¢å°±æ˜¯å°é»‘ç›’äº†ï¼Œæ­¤æ—¶å¯ä»¥é€‰æ‹©ä¸è®©RPCè°ƒç”¨ç«¯æ¡†æ¶æ‹¿æœåŠ¡ç«¯çš„å“åº”æ¶ˆæ¯ï¼Œè®©è°ƒç”¨ç«¯åº”ç”¨æ¥é€‰æ‹©ä»€ä¹ˆæ—¶å€™æ‹¿ã€‚è¿™æ ·è°ƒç”¨ç«¯å¯ä»¥å‘é€æ›´å¤šçš„è¯·æ±‚æ¶ˆæ¯ï¼Œæé«˜ååé‡ã€‚<br>æœåŠ¡ç«¯å¼‚æ­¥åŒ–ï¼Œæ ¸å¿ƒåœ¨äºé‡åˆ†åˆ©ç”¨å•æœºæœåŠ¡ç«¯çš„èµ„æºï¼Œé¿å…CPUé—²ç½®ï¼Œä¸šåŠ¡å¤„ç†çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ã€‚<br>ä¸è¿‡ğŸ˜å…·ä½“æ€ä¹ˆç©ï¼Œå¿…é¡»ç©ä¸€ä¸‹ï¼Œå¦åˆ™é“ç†è®²å‡ºæ¥è€å†œæ°‘éƒ½æ‡‚ä½†æ˜¯å…·ä½“å’‹å®ç°ï¼Œæ˜¯ä¸€é—®é¢˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":210642,"user_name":"å˜»å˜»","can_delete":false,"product_type":"c1","uid":1325931,"ip_address":"","ucode":"E1EB75DD1C05E0","user_header":"","comment_is_top":false,"comment_ctime":1587801474,"is_pvip":false,"replies":[{"id":"78545","content":"å¯ä»¥æ›´çµæ´»","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•å°é”‹","uid":"1541007","ctime":1587950331,"ip_address":"","comment_id":210642,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1587801474","product_id":100046201,"comment_content":"æœåŠ¡ç«¯å¼‚æ­¥æ„Ÿè§‰æ„ä¹‰ä¸å¤§ï¼Œæ‹†åˆ†å†å¤šçš„çº¿ç¨‹æ± ï¼Œæœ€ç»ˆè¦æ‰“æ»¡çš„è¿˜æ˜¯ä¼šæœ‰ä¸€ä¸ªçº¿ç¨‹æ± è¢«æ‰“æ»¡ï¼Œé™¤éåšçº¿ç¨‹æ± éš”ç¦»ã€‚ä¸çŸ¥é“ç†è§£å¯¹ä¸å¯¹ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1541007,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/8f/8471d633.jpg","nickname":"ä½•å°é”‹","note":"","ucode":"E9B3B4A1B75D8B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":493073,"discussion_content":"å¯ä»¥æ›´çµæ´»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587950331,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":200354,"user_name":"Josey","can_delete":false,"product_type":"c1","uid":1813086,"ip_address":"","ucode":"BA461C259CC64B","user_header":"https://static001.geekbang.org/account/avatar/00/1b/aa/5e/9be28107.jpg","comment_is_top":false,"comment_ctime":1585576092,"is_pvip":false,"replies":[{"id":"76886","content":"å¯èƒ½ç”¨å¤„ä¸å¤§ï¼Œéœ€è¦æé«˜æ¥å£æ€§èƒ½æˆ–è€…æ‰©å®¹è§£å†³","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•å°é”‹","uid":"1541007","ctime":1586735302,"ip_address":"","comment_id":200354,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1585576092","product_id":100046201,"comment_content":"è€å¸ˆä½ ä¸Šé¢è¯´åˆ°çš„å¦‚æœâ€œä¸šåŠ¡çº¿ç¨‹æ± çš„çº¿ç¨‹æ•°é…ç½®åˆ° 200â€ï¼Œçº¿ç¨‹æ± è¢«æ‰“æ»¡äº†ï¼Œå¦‚æœå•å­˜å¢åŠ çº¿ç¨‹æ•°é‡æœ‰ç”¨å—ï¼Ÿ200ä¸ªçº¿ç¨‹éƒ½å¤„ç†ä¸äº†çš„æƒ…å†µä¸‹ï¼Œé…ç½®åˆ°300æˆ–è€…500ä¸æ˜¯åªä¼šå¢åŠ cpuä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ—¶é—´å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1541007,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/8f/8471d633.jpg","nickname":"ä½•å°é”‹","note":"","ucode":"E9B3B4A1B75D8B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490004,"discussion_content":"å¯èƒ½ç”¨å¤„ä¸å¤§ï¼Œéœ€è¦æé«˜æ¥å£æ€§èƒ½æˆ–è€…æ‰©å®¹è§£å†³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586735302,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1251111,"avatar":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","nickname":"Jxin","note":"","ucode":"4C03928388C413","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":218156,"discussion_content":"è¿™è¦çœ‹ä½ çš„ä¸šåŠ¡è€—æ—¶ã€‚å¦‚æœä½ çš„ä¸šåŠ¡è€—æ—¶åªæœ‰å‡ msè¿™ç§ã€‚åŠ å¤§çº¿ç¨‹æ•°æé«˜å¹¶è¡Œåº¦å¹¶æ— ä¸å¯ã€‚ä½ å¯ä»¥ç†è§£ä¸ºæ‹¿å“åº”æ—¶é—´æ¢ååã€‚  è°ƒä¼˜æ˜¯ä¸€ç§å‹æ¦¨æœåŠ¡å™¨èµ„æºçš„è¡Œä¸ºï¼Œå¦‚æœæœåŠ¡å™¨èµ„æºå·²ç»è¢«æ‰“æ»¡ï¼Œå…¶å®å°±æ²¡å•¥è°ƒä¼˜ç©ºé—´äº†ã€‚","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1585625842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1261360,"avatar":"https://static001.geekbang.org/account/avatar/00/13/3f/30/23f6b413.jpg","nickname":"äº”åä¹ç§’","note":"","ucode":"1F34F62193CFF6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1251111,"avatar":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","nickname":"Jxin","note":"","ucode":"4C03928388C413","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350280,"discussion_content":"èµåŒï¼Œcpuæ²¡æœ‰åˆ°100%ï¼Œè¯´æ˜cpuè¿˜æœ‰å¯å‹æ¦¨çš„ç©ºé—´ï¼Œå¯ä»¥å¢åŠ çº¿ç¨‹æ•°è¯•è¯•","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1613793833,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":218156,"ip_address":""},"score":350280,"extra":""},{"author":{"id":1251111,"avatar":"https://static001.geekbang.org/account/avatar/00/13/17/27/ec30d30a.jpg","nickname":"Jxin","note":"","ucode":"4C03928388C413","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1261360,"avatar":"https://static001.geekbang.org/account/avatar/00/13/3f/30/23f6b413.jpg","nickname":"äº”åä¹ç§’","note":"","ucode":"1F34F62193CFF6","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350287,"discussion_content":"å¦‚æœä¸æ˜¯cpuå¯†é›†å‹ä»»åŠ¡çš„è¯","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613800665,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":350280,"ip_address":""},"score":350287,"extra":""}]}]}]}
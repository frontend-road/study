{"id":213998,"title":"15 | ç†”æ–­é™æµï¼šä¸šåŠ¡å¦‚ä½•å®ç°è‡ªæˆ‘ä¿æŠ¤?","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ä½•å°é”‹ã€‚ä¸Šä¸€è®²æˆ‘è®²è§£äº†RPCæ¡†æ¶ä¸­çš„ä¼˜é›…å¯åŠ¨ï¼Œè¿™å—çš„é‡ç‚¹å°±æ˜¯å¯åŠ¨é¢„çƒ­ä¸å»¶è¿Ÿæš´éœ²ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬æ¢ä¸€ä¸ªæ–°çš„è¯é¢˜ï¼Œçœ‹çœ‹åœ¨ä½¿ç”¨RPCæ—¶ï¼Œä¸šåŠ¡æ˜¯å¦‚ä½•å®ç°è‡ªæˆ‘ä¿æŠ¤çš„ã€‚</p><h2>ä¸ºä»€ä¹ˆéœ€è¦è‡ªæˆ‘ä¿æŠ¤ï¼Ÿ</h2><p>æˆ‘åœ¨<a href=\"https://time.geekbang.org/column/article/199649\">å¼€ç¯‡è¯</a>ä¸­è¯´è¿‡ï¼ŒRPCæ˜¯è§£å†³åˆ†å¸ƒå¼ç³»ç»Ÿé€šä¿¡é—®é¢˜çš„ä¸€å¤§åˆ©å™¨ï¼Œè€Œåˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯é«˜å¹¶å‘ï¼Œæ‰€ä»¥è¯´RPCä¹Ÿä¼šé¢ä¸´é«˜å¹¶å‘çš„åœºæ™¯ã€‚åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æä¾›æœåŠ¡çš„æ¯ä¸ªæœåŠ¡èŠ‚ç‚¹å°±éƒ½å¯èƒ½ç”±äºè®¿é—®é‡è¿‡å¤§è€Œå¼•èµ·ä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œæ¯”å¦‚ä¸šåŠ¡å¤„ç†è€—æ—¶è¿‡é•¿ã€CPUé£˜é«˜ã€é¢‘ç¹Full GCä»¥åŠæœåŠ¡è¿›ç¨‹ç›´æ¥å®•æœºç­‰ç­‰ã€‚ä½†æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬è¦ä¿è¯æœåŠ¡çš„ç¨³å®šæ€§å’Œé«˜å¯ç”¨æ€§ï¼Œè¿™æ—¶æˆ‘ä»¬å°±éœ€è¦ä¸šåŠ¡è¿›è¡Œè‡ªæˆ‘ä¿æŠ¤ï¼Œä»è€Œä¿è¯åœ¨é«˜è®¿é—®é‡ã€é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œåº”ç”¨ç³»ç»Ÿä¾ç„¶ç¨³å®šï¼ŒæœåŠ¡ä¾ç„¶é«˜å¯ç”¨ã€‚</p><p><strong>é‚£ä¹ˆåœ¨ä½¿ç”¨RPCæ—¶ï¼Œä¸šåŠ¡åˆå¦‚ä½•å®ç°è‡ªæˆ‘ä¿æŠ¤å‘¢ï¼Ÿ</strong></p><p>æœ€å¸¸è§çš„æ–¹å¼å°±æ˜¯é™æµäº†ï¼Œç®€å•æœ‰æ•ˆï¼Œä½†RPCæ¡†æ¶çš„è‡ªæˆ‘ä¿æŠ¤æ–¹å¼å¯ä¸åªæœ‰é™æµï¼Œå¹¶ä¸”RPCæ¡†æ¶çš„é™æµæ–¹å¼å¯ä»¥æ˜¯å¤šç§å¤šæ ·çš„ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å°†RPCæ¡†æ¶æ‹†å¼€æ¥åˆ†æï¼ŒRPCè°ƒç”¨åŒ…æ‹¬æœåŠ¡ç«¯å’Œè°ƒç”¨ç«¯ï¼Œè°ƒç”¨ç«¯å‘æœåŠ¡ç«¯å‘èµ·è°ƒç”¨ã€‚ä¸‹é¢æˆ‘å°±åˆ†äº«ä¸€ä¸‹æœåŠ¡ç«¯ä¸è°ƒç”¨ç«¯åˆ†åˆ«æ˜¯å¦‚ä½•è¿›è¡Œè‡ªæˆ‘ä¿æŠ¤çš„ã€‚</p><h2>æœåŠ¡ç«¯çš„è‡ªæˆ‘ä¿æŠ¤</h2><p>æˆ‘ä»¬å…ˆçœ‹æœåŠ¡ç«¯ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚æˆ‘ä»¬è¦å‘å¸ƒä¸€ä¸ªRPCæœåŠ¡ï¼Œä½œä¸ºæœåŠ¡ç«¯æ¥æ”¶è°ƒç”¨ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚ï¼Œè¿™æ—¶æœåŠ¡ç«¯çš„æŸä¸ªèŠ‚ç‚¹è´Ÿè½½å‹åŠ›è¿‡é«˜äº†ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•ä¿æŠ¤è¿™ä¸ªèŠ‚ç‚¹ï¼Ÿ</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/9b/17/9bae10ba8a5b96b03102fb9ef4f30e17.jpg?wh=2560*1315\" alt=\"\" title=\"ç¤ºæ„å›¾\"></p><p>è¿™ä¸ªé—®é¢˜è¿˜æ˜¯å¾ˆå¥½è§£å†³çš„ï¼Œæ—¢ç„¶è´Ÿè½½å‹åŠ›é«˜ï¼Œé‚£å°±ä¸è®©å®ƒå†æ¥æ”¶å¤ªå¤šçš„è¯·æ±‚å°±å¥½äº†ï¼Œç­‰æ¥æ”¶å’Œå¤„ç†çš„è¯·æ±‚æ•°é‡ä¸‹æ¥åï¼Œè¿™ä¸ªèŠ‚ç‚¹çš„è´Ÿè½½å‹åŠ›è‡ªç„¶å°±ä¸‹æ¥äº†ã€‚</p><p>é‚£ä¹ˆå°±æ˜¯é™æµå§ï¼Ÿæ˜¯çš„ï¼Œåœ¨RPCè°ƒç”¨ä¸­æœåŠ¡ç«¯çš„è‡ªæˆ‘ä¿æŠ¤ç­–ç•¥å°±æ˜¯é™æµï¼Œé‚£ä½ æœ‰æ²¡æœ‰æƒ³è¿‡æˆ‘ä»¬æ˜¯å¦‚ä½•å®ç°é™æµçš„å‘¢ï¼Ÿæ˜¯åœ¨æœåŠ¡ç«¯çš„ä¸šåŠ¡é€»è¾‘ä¸­åšé™æµå—ï¼Ÿæœ‰æ²¡æœ‰æ›´ä¼˜é›…çš„æ–¹å¼ï¼Ÿ</p><p>é™æµæ˜¯ä¸€ä¸ªæ¯”è¾ƒé€šç”¨çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨RPCæ¡†æ¶ä¸­é›†æˆé™æµçš„åŠŸèƒ½ï¼Œè®©ä½¿ç”¨æ–¹è‡ªå·±å»é…ç½®é™æµé˜ˆå€¼ï¼›æˆ‘ä»¬è¿˜å¯ä»¥åœ¨æœåŠ¡ç«¯æ·»åŠ é™æµé€»è¾‘ï¼Œå½“è°ƒç”¨ç«¯å‘é€è¯·æ±‚è¿‡æ¥æ—¶ï¼ŒæœåŠ¡ç«¯åœ¨æ‰§è¡Œä¸šåŠ¡é€»è¾‘ä¹‹å‰å…ˆæ‰§è¡Œé™æµé€»è¾‘ï¼Œå¦‚æœå‘ç°è®¿é—®é‡è¿‡å¤§å¹¶ä¸”è¶…å‡ºäº†é™æµçš„é˜ˆå€¼ï¼Œå°±è®©æœåŠ¡ç«¯ç›´æ¥æŠ›å›ç»™è°ƒç”¨ç«¯ä¸€ä¸ªé™æµå¼‚å¸¸ï¼Œå¦åˆ™å°±æ‰§è¡Œæ­£å¸¸çš„ä¸šåŠ¡é€»è¾‘ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/f8/ad/f8e8a4dd16f2fd2af366f810404057ad.jpg?wh=2563*1313\" alt=\"\" title=\"ç¤ºæ„å›¾\"></p><p><strong>é‚£æœåŠ¡ç«¯çš„é™æµé€»è¾‘åˆè¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ</strong></p><p>æ–¹å¼æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚æœ€ç®€å•çš„è®¡æ•°å™¨ï¼Œè¿˜æœ‰å¯ä»¥åšåˆ°å¹³æ»‘é™æµçš„æ»‘åŠ¨çª—å£ã€æ¼æ–—ç®—æ³•ä»¥åŠä»¤ç‰Œæ¡¶ç®—æ³•ç­‰ç­‰ã€‚å…¶ä¸­ä»¤ç‰Œæ¡¶ç®—æ³•æœ€ä¸ºå¸¸ç”¨ã€‚ä¸Šè¿°è¿™å‡ ç§é™æµç®—æ³•æˆ‘å°±ä¸ä¸€ä¸€è®²è§£äº†ï¼Œèµ„æ–™å¾ˆå¤šï¼Œä¸å¤ªæ¸…æ¥šçš„è¯è‡ªè¡ŒæŸ¥é˜…ä¸‹å°±å¯ä»¥äº†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å‡è®¾ä¸‹è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šæˆ‘å‘å¸ƒäº†ä¸€ä¸ªæœåŠ¡ï¼Œæä¾›ç»™å¤šä¸ªåº”ç”¨çš„è°ƒç”¨æ–¹å»è°ƒç”¨ï¼Œè¿™æ—¶æœ‰ä¸€ä¸ªåº”ç”¨çš„è°ƒç”¨æ–¹å‘é€è¿‡æ¥çš„è¯·æ±‚æµé‡è¦æ¯”å…¶å®ƒçš„åº”ç”¨å¤§å¾ˆå¤šï¼Œè¿™æ—¶æˆ‘ä»¬å°±åº”è¯¥å¯¹è¿™ä¸ªåº”ç”¨ä¸‹çš„è°ƒç”¨ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚æµé‡è¿›è¡Œé™æµã€‚æ‰€ä»¥è¯´æˆ‘ä»¬åœ¨åšé™æµçš„æ—¶å€™è¦è€ƒè™‘åº”ç”¨çº§åˆ«çš„ç»´åº¦ï¼Œç”šè‡³æ˜¯IPçº§åˆ«çš„ç»´åº¦ï¼Œè¿™æ ·åšä¸ä»…å¯ä»¥è®©æˆ‘ä»¬å¯¹ä¸€ä¸ªåº”ç”¨ä¸‹çš„è°ƒç”¨ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚æµé‡åšé™æµï¼Œè¿˜å¯ä»¥å¯¹ä¸€ä¸ªIPå‘é€è¿‡æ¥çš„è¯·æ±‚æµé‡åšé™æµã€‚</p><p>è¿™æ—¶ä½ å¯èƒ½ä¼šæƒ³ï¼Œä½¿ç”¨æ–¹è¯¥å¦‚ä½•é…ç½®åº”ç”¨ç»´åº¦ä»¥åŠIPç»´åº¦çš„é™æµå‘¢ï¼Ÿåœ¨ä»£ç ä¸­é…ç½®æ˜¯ä¸æ˜¯ä¸å¤§æ–¹ä¾¿ï¼Ÿæˆ‘ä¹‹å‰è¯´è¿‡ï¼ŒRPCæ¡†æ¶çœŸæ­£å¼ºå¤§çš„åœ°æ–¹åœ¨äºå®ƒçš„æ²»ç†åŠŸèƒ½ï¼Œè€Œæ²»ç†åŠŸèƒ½å¤§å¤šéƒ½éœ€è¦ä¾èµ–ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒæˆ–è€…é…ç½®ä¸­å¿ƒï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡RPCæ²»ç†çš„ç®¡ç†ç«¯è¿›è¡Œé…ç½®ï¼Œå†é€šè¿‡æ³¨å†Œä¸­å¿ƒæˆ–è€…é…ç½®ä¸­å¿ƒå°†é™æµé˜ˆå€¼çš„é…ç½®ä¸‹å‘åˆ°æœåŠ¡æä¾›æ–¹çš„æ¯ä¸ªèŠ‚ç‚¹ä¸Šï¼Œå®ç°åŠ¨æ€é…ç½®ã€‚</p><p>çœ‹åˆ°è¿™å„¿ï¼Œä½ æœ‰æ²¡æœ‰å‘ç°ï¼Œåœ¨æœåŠ¡ç«¯å®ç°é™æµï¼Œé…ç½®çš„é™æµé˜ˆå€¼æ˜¯ä½œç”¨åœ¨æ¯ä¸ªæœåŠ¡èŠ‚ç‚¹ä¸Šçš„ã€‚æ¯”å¦‚è¯´æˆ‘é…ç½®çš„é˜ˆå€¼æ˜¯æ¯ç§’1000æ¬¡è¯·æ±‚ï¼Œé‚£ä¹ˆå°±æ˜¯æŒ‡ä¸€å°æœºå™¨æ¯ç§’å¤„ç†1000æ¬¡è¯·æ±‚ï¼›å¦‚æœæˆ‘çš„æœåŠ¡é›†ç¾¤æ‹¥æœ‰10ä¸ªæœåŠ¡èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘æä¾›çš„æœåŠ¡é™æµé˜ˆå€¼åœ¨æœ€ç†æƒ³çš„æƒ…å†µä¸‹å°±æ˜¯æ¯ç§’10000æ¬¡ã€‚</p><p>æ¥ç€çœ‹è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šæˆ‘æä¾›äº†ä¸€ä¸ªæœåŠ¡ï¼Œè€Œè¿™ä¸ªæœåŠ¡çš„ä¸šåŠ¡é€»è¾‘ä¾èµ–çš„æ˜¯MySQLæ•°æ®åº“ï¼Œç”±äºMySQLæ•°æ®åº“çš„æ€§èƒ½é™åˆ¶ï¼Œæˆ‘ä»¬æ˜¯éœ€è¦å¯¹å…¶è¿›è¡Œä¿æŠ¤ã€‚å‡å¦‚åœ¨MySQLå¤„ç†ä¸šåŠ¡é€»è¾‘ä¸­ï¼ŒSQLè¯­å¥çš„èƒ½åŠ›æ˜¯æ¯ç§’10000æ¬¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬æä¾›çš„æœåŠ¡å¤„ç†çš„è®¿é—®é‡å°±ä¸èƒ½è¶…è¿‡æ¯ç§’10000æ¬¡ï¼Œè€Œæˆ‘ä»¬çš„æœåŠ¡æœ‰10ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ—¶æˆ‘ä»¬é…ç½®çš„é™æµé˜ˆå€¼åº”è¯¥æ˜¯æ¯ç§’1000æ¬¡ã€‚é‚£å¦‚æœä¹‹åå› ä¸ºæŸç§éœ€æ±‚æˆ‘ä»¬å¯¹è¿™ä¸ªæœåŠ¡æ‰©å®¹äº†å‘¢ï¼Ÿæ‰©å®¹åˆ°20ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯å°±è¦æŠŠé™æµé˜ˆå€¼è°ƒæ•´åˆ°æ¯ç§’500æ¬¡å‘¢ï¼Ÿè¿™æ ·æ“ä½œæ¯æ¬¡éƒ½è¦è‡ªå·±å»è®¡ç®—ï¼Œé‡æ–°é…ç½®ï¼Œæ˜¾ç„¶å¤ªéº»çƒ¦äº†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥è®©RPCæ¡†æ¶è‡ªå·±å»è®¡ç®—ï¼Œå½“æ³¨å†Œä¸­å¿ƒæˆ–é…ç½®ä¸­å¿ƒå°†é™æµé˜ˆå€¼é…ç½®ä¸‹å‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ€»æœåŠ¡èŠ‚ç‚¹æ•°ä¹Ÿä¸‹å‘ç»™æœåŠ¡èŠ‚ç‚¹ï¼Œä¹‹åç”±æœåŠ¡èŠ‚ç‚¹è‡ªå·±è®¡ç®—é™æµé˜ˆå€¼ï¼Œè¿™æ ·å°±è§£å†³é—®é¢˜äº†å§ï¼Ÿ</p><p>è§£å†³äº†ä¸€éƒ¨åˆ†ï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜å­˜åœ¨ï¼Œé‚£å°±æ˜¯åœ¨å®é™…æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹æ‰€æ¥æ”¶åˆ°çš„è®¿é—®é‡å¹¶ä¸æ˜¯ç»å¯¹å‡åŒ€çš„ï¼Œæ¯”å¦‚æœ‰20ä¸ªèŠ‚ç‚¹ï¼Œè€Œæ¯ä¸ªèŠ‚ç‚¹é™æµçš„é˜ˆå€¼æ˜¯500ï¼Œå…¶ä¸­æœ‰çš„èŠ‚ç‚¹è®¿é—®é‡å·²ç»è¾¾åˆ°é˜ˆå€¼äº†ï¼Œä½†æœ‰çš„èŠ‚ç‚¹å¯èƒ½åœ¨è¿™ä¸€ç§’å†…çš„è®¿é—®é‡æ˜¯450ï¼Œè¿™æ—¶è°ƒç”¨ç«¯å‘é€è¿‡æ¥çš„æ€»è°ƒç”¨é‡è¿˜æ²¡æœ‰è¾¾åˆ°10000æ¬¡ï¼Œä½†å¯èƒ½ä¹Ÿä¼šè¢«é™æµï¼Œè¿™æ ·æ˜¯ä¸æ˜¯å°±ä¸ç²¾ç¡®äº†ï¼Ÿé‚£æœ‰æ²¡æœ‰æ¯”è¾ƒç²¾ç¡®çš„é™æµæ–¹å¼å‘¢ï¼Ÿ</p><p>æˆ‘åˆšæ‰è®²è§£çš„é™æµæ–¹å¼ä¹‹æ‰€ä»¥ä¸ç²¾ç¡®ï¼Œæ˜¯å› ä¸ºé™æµé€»è¾‘æ˜¯æœåŠ¡é›†ç¾¤ä¸‹çš„æ¯ä¸ªèŠ‚ç‚¹ç‹¬ç«‹å»æ‰§è¡Œçš„ï¼Œæ˜¯ä¸€ç§å•æœºçš„é™æµæ–¹å¼ï¼Œè€Œä¸”æ¯ä¸ªæœåŠ¡èŠ‚ç‚¹æ‰€æ¥æ”¶åˆ°çš„æµé‡å¹¶ä¸æ˜¯ç»å¯¹å‡åŒ€çš„ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æä¾›ä¸€ä¸ªä¸“é—¨çš„é™æµæœåŠ¡ï¼Œè®©æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¾èµ–ä¸€ä¸ªé™æµæœåŠ¡ï¼Œå½“è¯·æ±‚æµé‡æ‰“è¿‡æ¥æ—¶ï¼ŒæœåŠ¡èŠ‚ç‚¹è§¦å‘é™æµé€»è¾‘ï¼Œè°ƒç”¨è¿™ä¸ªé™æµæœåŠ¡æ¥åˆ¤æ–­æ˜¯å¦åˆ°è¾¾äº†é™æµé˜ˆå€¼ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥å°†é™æµé€»è¾‘æ”¾åœ¨è°ƒç”¨ç«¯ï¼Œè°ƒç”¨ç«¯åœ¨å‘å‡ºè¯·æ±‚æ—¶å…ˆè§¦å‘é™æµé€»è¾‘ï¼Œè°ƒç”¨é™æµæœåŠ¡ï¼Œå¦‚æœè¯·æ±‚é‡å·²ç»åˆ°è¾¾äº†é™æµé˜ˆå€¼ï¼Œè¯·æ±‚éƒ½ä¸éœ€è¦å‘å‡ºå»ï¼Œç›´æ¥è¿”å›ç»™åŠ¨æ€ä»£ç†ä¸€ä¸ªé™æµå¼‚å¸¸å³å¯ã€‚</p><p>è¿™ç§é™æµæ–¹å¼å¯ä»¥è®©æ•´ä¸ªæœåŠ¡é›†ç¾¤çš„é™æµå˜å¾—æ›´åŠ ç²¾ç¡®ï¼Œä½†ä¹Ÿç”±äºä¾èµ–äº†ä¸€ä¸ªé™æµæœåŠ¡ï¼Œå®ƒåœ¨æ€§èƒ½å’Œè€—æ—¶ä¸Šä¸å•æœºçš„é™æµæ–¹å¼ç›¸æ¯”æ˜¯æœ‰å¾ˆå¤§åŠ£åŠ¿çš„ã€‚è‡³äºè¦é€‰æ‹©å“ªç§é™æµæ–¹å¼ï¼Œå°±è¦ç»“åˆå…·ä½“çš„åº”ç”¨åœºæ™¯è¿›è¡Œé€‰æ‹©äº†ã€‚</p><h2>è°ƒç”¨ç«¯çš„è‡ªæˆ‘ä¿æŠ¤</h2><p>åˆšæ‰æˆ‘è®²è§£äº†æœåŠ¡ç«¯å¦‚ä½•è¿›è¡Œè‡ªæˆ‘ä¿æŠ¤ï¼Œæœ€ç®€å•æœ‰æ•ˆçš„æ–¹å¼å°±æ˜¯é™æµã€‚é‚£ä¹ˆè°ƒç”¨ç«¯å‘¢ï¼Ÿè°ƒç”¨ç«¯æ˜¯å¦éœ€è¦è‡ªæˆ‘ä¿æŠ¤å‘¢ï¼Ÿ</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚æˆ‘è¦å‘å¸ƒä¸€ä¸ªæœåŠ¡Bï¼Œè€ŒæœåŠ¡Båˆä¾èµ–æœåŠ¡Cï¼Œå½“ä¸€ä¸ªæœåŠ¡Aæ¥è°ƒç”¨æœåŠ¡Bæ—¶ï¼ŒæœåŠ¡Bçš„ä¸šåŠ¡é€»è¾‘è°ƒç”¨æœåŠ¡Cï¼Œè€Œè¿™æ—¶æœåŠ¡Cå“åº”è¶…æ—¶äº†ï¼Œç”±äºæœåŠ¡Bä¾èµ–æœåŠ¡Cï¼ŒCè¶…æ—¶ç›´æ¥å¯¼è‡´Bçš„ä¸šåŠ¡é€»è¾‘ä¸€ç›´ç­‰å¾…ï¼Œè€Œè¿™ä¸ªæ—¶å€™æœåŠ¡Aåœ¨é¢‘ç¹åœ°è°ƒç”¨æœåŠ¡Bï¼ŒæœåŠ¡Bå°±å¯èƒ½ä¼šå› ä¸ºå †ç§¯å¤§é‡çš„è¯·æ±‚è€Œå¯¼è‡´æœåŠ¡å®•æœºã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/dc/31/dc2a18f1e2c495380cc4053b92ed3131.jpg?wh=2171*1472\" alt=\"\" title=\"æœåŠ¡å¼‚å¸¸ç¤ºæ„å›¾\"></p><p>ç”±æ­¤å¯è§ï¼ŒæœåŠ¡Bè°ƒç”¨æœåŠ¡Cï¼ŒæœåŠ¡Cæ‰§è¡Œä¸šåŠ¡é€»è¾‘å‡ºç°å¼‚å¸¸æ—¶ï¼Œä¼šå½±å“åˆ°æœåŠ¡Bï¼Œç”šè‡³å¯èƒ½ä¼šå¼•èµ·æœåŠ¡Bå®•æœºã€‚è¿™è¿˜åªæ˜¯A-&gt;B-&gt;Cçš„æƒ…å†µï¼Œè¯•æƒ³ä¸€ä¸‹A-&gt;B-&gt;C-&gt;D-&gt;â€¦â€¦å‘¢ï¼Ÿåœ¨æ•´ä¸ªè°ƒç”¨é“¾ä¸­ï¼Œåªè¦ä¸­é—´æœ‰ä¸€ä¸ªæœåŠ¡å‡ºç°é—®é¢˜ï¼Œéƒ½å¯èƒ½ä¼šå¼•èµ·ä¸Šæ¸¸çš„æ‰€æœ‰æœåŠ¡å‡ºç°ä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œç”šè‡³ä¼šå¼•èµ·æ•´ä¸ªè°ƒç”¨é“¾çš„æœåŠ¡éƒ½å®•æœºï¼Œè¿™æ˜¯éå¸¸ææ€–çš„ã€‚</p><p>æ‰€ä»¥è¯´ï¼Œåœ¨ä¸€ä¸ªæœåŠ¡ä½œä¸ºè°ƒç”¨ç«¯è°ƒç”¨å¦å¤–ä¸€ä¸ªæœåŠ¡æ—¶ï¼Œä¸ºäº†é˜²æ­¢è¢«è°ƒç”¨çš„æœåŠ¡å‡ºç°é—®é¢˜è€Œå½±å“åˆ°ä½œä¸ºè°ƒç”¨ç«¯çš„è¿™ä¸ªæœåŠ¡ï¼Œè¿™ä¸ªæœåŠ¡ä¹Ÿéœ€è¦è¿›è¡Œè‡ªæˆ‘ä¿æŠ¤ã€‚<strong>è€Œæœ€æœ‰æ•ˆçš„è‡ªæˆ‘ä¿æŠ¤æ–¹å¼å°±æ˜¯ç†”æ–­ã€‚</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/90/64/903fa4374beb753c1db8f1f8b82ff464.jpg?wh=2642*1990\" alt=\"\" title=\"ç¤ºæ„å›¾\"></p><p>æˆ‘ä»¬å¯ä»¥å…ˆäº†è§£ä¸‹ç†”æ–­æœºåˆ¶ã€‚</p><p>ç†”æ–­å™¨çš„å·¥ä½œæœºåˆ¶ä¸»è¦æ˜¯å…³é—­ã€æ‰“å¼€å’ŒåŠæ‰“å¼€è¿™ä¸‰ä¸ªçŠ¶æ€ä¹‹é—´çš„åˆ‡æ¢ã€‚åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œç†”æ–­å™¨æ˜¯å…³é—­çš„ï¼›å½“è°ƒç”¨ç«¯è°ƒç”¨ä¸‹æ¸¸æœåŠ¡å‡ºç°å¼‚å¸¸æ—¶ï¼Œç†”æ–­å™¨ä¼šæ”¶é›†å¼‚å¸¸æŒ‡æ ‡ä¿¡æ¯è¿›è¡Œè®¡ç®—ï¼Œå½“è¾¾åˆ°ç†”æ–­æ¡ä»¶æ—¶ç†”æ–­å™¨æ‰“å¼€ï¼Œè¿™æ—¶è°ƒç”¨ç«¯å†å‘èµ·è¯·æ±‚æ˜¯ä¼šç›´æ¥è¢«ç†”æ–­å™¨æ‹¦æˆªï¼Œå¹¶å¿«é€Ÿåœ°æ‰§è¡Œå¤±è´¥é€»è¾‘ï¼›å½“ç†”æ–­å™¨æ‰“å¼€ä¸€æ®µæ—¶é—´åï¼Œä¼šè½¬ä¸ºåŠæ‰“å¼€çŠ¶æ€ï¼Œè¿™æ—¶ç†”æ–­å™¨å…è®¸è°ƒç”¨ç«¯å‘é€ä¸€ä¸ªè¯·æ±‚ç»™æœåŠ¡ç«¯ï¼Œå¦‚æœè¿™æ¬¡è¯·æ±‚èƒ½å¤Ÿæ­£å¸¸åœ°å¾—åˆ°æœåŠ¡ç«¯çš„å“åº”ï¼Œåˆ™å°†çŠ¶æ€ç½®ä¸ºå…³é—­çŠ¶æ€ï¼Œå¦åˆ™è®¾ç½®ä¸ºæ‰“å¼€ã€‚</p><p>äº†è§£å®Œç†”æ–­æœºåˆ¶ï¼Œä½ å°±ä¼šå‘ç°ï¼Œåœ¨ä¸šåŠ¡é€»è¾‘ä¸­åŠ å…¥ç†”æ–­å™¨å…¶å®æ˜¯ä¸å¤Ÿä¼˜é›…çš„ã€‚<strong>é‚£ä¹ˆåœ¨RPCæ¡†æ¶ä¸­ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•æ•´åˆç†”æ–­å™¨å‘¢ï¼Ÿ</strong></p><p>ç†”æ–­æœºåˆ¶ä¸»è¦æ˜¯ä¿æŠ¤è°ƒç”¨ç«¯ï¼Œè°ƒç”¨ç«¯åœ¨å‘å‡ºè¯·æ±‚çš„æ—¶å€™ä¼šå…ˆç»è¿‡ç†”æ–­å™¨ã€‚æˆ‘ä»¬å¯ä»¥å›æƒ³ä¸‹RPCçš„è°ƒç”¨æµç¨‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/59/87/59b7479220a415ef034fb6edb589ec87.jpg?wh=3788*1350\" alt=\"\" title=\"RPCè°ƒç”¨æµç¨‹\"></p><p>ä½ çœ‹å›¾çš„è¯ï¼Œæœ‰æ²¡æœ‰æƒ³åˆ°åœ¨å“ªä¸ªæ­¥éª¤æ•´åˆç†”æ–­å™¨ä¼šæ¯”è¾ƒåˆé€‚å‘¢ï¼Ÿ</p><p>æˆ‘çš„å»ºè®®æ˜¯åŠ¨æ€ä»£ç†ï¼Œå› ä¸ºåœ¨RPCè°ƒç”¨çš„æµç¨‹ä¸­ï¼ŒåŠ¨æ€ä»£ç†æ˜¯RPCè°ƒç”¨çš„ç¬¬ä¸€ä¸ªå…³å£ã€‚åœ¨å‘å‡ºè¯·æ±‚æ—¶å…ˆç»è¿‡ç†”æ–­å™¨ï¼Œå¦‚æœçŠ¶æ€æ˜¯é—­åˆåˆ™æ­£å¸¸å‘å‡ºè¯·æ±‚ï¼Œå¦‚æœçŠ¶æ€æ˜¯æ‰“å¼€åˆ™æ‰§è¡Œç†”æ–­å™¨çš„å¤±è´¥ç­–ç•¥ã€‚</p><h2>æ€»ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬ä¸»è¦è®²è§£äº†RPCæ¡†æ¶æ˜¯å¦‚ä½•å®ç°ä¸šåŠ¡çš„è‡ªæˆ‘ä¿æŠ¤ã€‚</p><p>æœåŠ¡ç«¯ä¸»è¦æ˜¯é€šè¿‡é™æµæ¥è¿›è¡Œè‡ªæˆ‘ä¿æŠ¤ï¼Œæˆ‘ä»¬åœ¨å®ç°é™æµæ—¶è¦è€ƒè™‘åˆ°åº”ç”¨å’ŒIPçº§åˆ«ï¼Œæ–¹ä¾¿æˆ‘ä»¬åœ¨æœåŠ¡æ²»ç†çš„æ—¶å€™ï¼Œå¯¹éƒ¨åˆ†è®¿é—®é‡ç‰¹åˆ«å¤§çš„åº”ç”¨è¿›è¡Œåˆç†çš„é™æµï¼›æœåŠ¡ç«¯çš„é™æµé˜ˆå€¼é…ç½®éƒ½æ˜¯ä½œç”¨äºå•æœºçš„ï¼Œè€Œåœ¨æœ‰äº›åœºæ™¯ä¸‹ï¼Œä¾‹å¦‚å¯¹æ•´ä¸ªæœåŠ¡è®¾ç½®é™æµé˜ˆå€¼ï¼ŒæœåŠ¡è¿›è¡Œæ‰©å®¹æ—¶ï¼Œé™æµçš„é…ç½®å¹¶ä¸æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ³¨å†Œä¸­å¿ƒæˆ–é…ç½®ä¸­å¿ƒä¸‹å‘é™æµé˜ˆå€¼é…ç½®çš„æ—¶å€™ï¼Œå°†æ€»æœåŠ¡èŠ‚ç‚¹æ•°ä¹Ÿä¸‹å‘ç»™æœåŠ¡èŠ‚ç‚¹ï¼Œè®©RPCæ¡†æ¶è‡ªå·±å»è®¡ç®—é™æµé˜ˆå€¼ï¼›æˆ‘ä»¬è¿˜å¯ä»¥è®©RPCæ¡†æ¶çš„é™æµæ¨¡å—ä¾èµ–ä¸€ä¸ªä¸“é—¨çš„é™æµæœåŠ¡ï¼Œå¯¹æœåŠ¡è®¾ç½®é™æµé˜ˆå€¼è¿›è¡Œç²¾å‡†åœ°æ§åˆ¶ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼ä¾èµ–äº†é™æµæœåŠ¡ï¼Œç›¸æ¯”å•æœºçš„é™æµæ–¹å¼ï¼Œåœ¨æ€§èƒ½å’Œè€—æ—¶ä¸Šæœ‰åŠ£åŠ¿ã€‚</p><p>è°ƒç”¨ç«¯å¯ä»¥é€šè¿‡ç†”æ–­æœºåˆ¶è¿›è¡Œè‡ªæˆ‘ä¿æŠ¤ï¼Œé˜²æ­¢è°ƒç”¨ä¸‹æ¸¸æœåŠ¡å‡ºç°å¼‚å¸¸ï¼Œæˆ–è€…è€—æ—¶è¿‡é•¿å½±å“è°ƒç”¨ç«¯çš„ä¸šåŠ¡é€»è¾‘ï¼ŒRPCæ¡†æ¶å¯ä»¥åœ¨åŠ¨æ€ä»£ç†çš„é€»è¾‘ä¸­å»æ•´åˆç†”æ–­å™¨ï¼Œå®ç°RPCæ¡†æ¶çš„ç†”æ–­åŠŸèƒ½ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>åœ¨ä½¿ç”¨RPCçš„è¿‡ç¨‹ä¸­ä¸šåŠ¡è¦å®ç°è‡ªæˆ‘ä¿æŠ¤ï¼Œé’ˆå¯¹è¿™ä¸ªé—®é¢˜ä½ æ˜¯å¦è¿˜æœ‰å…¶ä»–çš„è§£å†³æ–¹æ¡ˆï¼Ÿ</p><p>æ¬¢è¿ç•™è¨€åˆ†äº«ä½ çš„æ€è€ƒï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠæ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ï¼Œé‚€è¯·ä»–åŠ å…¥å­¦ä¹ ã€‚æˆ‘ä»¬ä¸‹èŠ‚è¯¾å†è§ï¼</p>","comments":[{"had_liked":false,"id":193704,"user_name":"Darren","can_delete":false,"product_type":"c1","uid":1254968,"ip_address":"","ucode":"CCD2B2C492BE9A","user_header":"https://static001.geekbang.org/account/avatar/00/13/26/38/ef063dc2.jpg","comment_is_top":false,"comment_ctime":1584950793,"is_pvip":true,"replies":[{"id":"73815","content":"å¯¹ï¼Œå–èˆå¾ˆé‡è¦","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•å°é”‹","uid":"1541007","ctime":1585005944,"ip_address":"","comment_id":193704,"utype":1}],"discussion_count":2,"race_medal":0,"score":"212038348297","product_id":100046201,"comment_content":"æœåŠ¡ä¿æŠ¤ä¸€èˆ¬å°±æ˜¯é™æµã€ç†”æ–­ã€é™çº§ã€‚<br>é™æµçš„è½åœ°æ–¹å¼æœ‰ï¼šGuava RateLimiterã€lua+Redisã€Sentinelç­‰ï¼›<br>ç†”æ–­ï¼šHystrixã€Resilience4jï¼›<br>é™çº§ï¼šæœåŠ¡é™çº§ï¼Œå°±æ˜¯å¯¹ä¸æ€ä¹ˆé‡è¦çš„æœåŠ¡è¿›è¡Œä½ä¼˜å…ˆçº§çš„å¤„ç†ã€‚è¯´ç™½äº†ï¼Œå°±æ˜¯å°½å¯èƒ½çš„æŠŠç³»ç»Ÿèµ„æºè®©ç»™ä¼˜å…ˆçº§é«˜çš„æœåŠ¡ã€‚èµ„æºæœ‰é™ï¼Œè€Œè¯·æ±‚æ˜¯æ— é™çš„ã€‚<br>","like_count":50,"discussions":[{"author":{"id":1541007,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/8f/8471d633.jpg","nickname":"ä½•å°é”‹","note":"","ucode":"E9B3B4A1B75D8B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488629,"discussion_content":"å¯¹ï¼Œå–èˆå¾ˆé‡è¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585005944,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1978490,"avatar":"","nickname":"ç¨‹å¿—ä¸œ","note":"","ucode":"EC55D66D657B49","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":283728,"discussion_content":"ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592354534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":217811,"user_name":"é’±","can_delete":false,"product_type":"c1","uid":1009652,"ip_address":"","ucode":"2C92A243A463D4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg","comment_is_top":false,"comment_ctime":1589617884,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"91783931100","product_id":100046201,"comment_content":"æœåŠ¡çš„è‡ªæˆ‘ä¿æŠ¤ï¼š<br>1ï¼šå‹æµ‹â€”â€”è¿›è¡Œæ€§èƒ½ä¼˜åŒ–åŠå®¹é‡è§„åˆ’<br>2ï¼šé™æµâ€”â€”é˜²æ­¢æœåŠ¡ç«¯è¢«æµé‡é«˜å³°å‹å®<br>3ï¼šé™çº§â€”â€”ä¼˜å…ˆä¿è¯æ ¸å¿ƒæœåŠ¡é«˜å¯ç”¨<br>4ï¼šç†”æ–­â€”â€”é˜²æ­¢å½“å‰æœåŠ¡è¢«ä¸‹æ¸¸æ…¢æœåŠ¡æ‹–å®<br>5ï¼šè‡ªåŠ¨æ‰©ç¼©å®¹â€”â€”å¯ä»¥æ‰›ä½æµé‡æ´ªå³°ï¼Œéœ€è¦èµ„æºå†—ä½™<br>åŸç†OKï¼Œå…·ä½“å’‹å¼„å‘¢ï¼Ÿå“ˆå“ˆğŸ˜„ï¼Œè§£åˆ¨ä¸€ä¸‹æŸä¸ªçŸ¥åRPC","like_count":22},{"had_liked":false,"id":193999,"user_name":"é›¨éœ–é“ƒå£°å£°æ…¢","can_delete":false,"product_type":"c1","uid":1052607,"ip_address":"","ucode":"656D98310C6DA3","user_header":"https://static001.geekbang.org/account/avatar/00/10/0f/bf/ee93c4cf.jpg","comment_is_top":false,"comment_ctime":1585012677,"is_pvip":false,"replies":[{"id":"74072","content":"å¼‚æ­¥RPCå¯ä»¥æå‡ååé‡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•å°é”‹","uid":"1541007","ctime":1585097772,"ip_address":"","comment_id":193999,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27354816453","product_id":100046201,"comment_content":"é™¤äº†æ–‡ä¸­æåˆ°çš„æœåŠ¡ç†”æ–­ã€é™çº§ã€é™æµä¿æŠ¤æ‰‹æ®µï¼Œè¿˜å¯ä»¥ä½¿ç”¨å¼‚æ­¥RPC æå‡æ€§èƒ½å§","like_count":7,"discussions":[{"author":{"id":1541007,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/8f/8471d633.jpg","nickname":"ä½•å°é”‹","note":"","ucode":"E9B3B4A1B75D8B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488723,"discussion_content":"å¼‚æ­¥RPCå¯ä»¥æå‡ååé‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585097772,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":193492,"user_name":"æ—­ä¸œ(Frank)","can_delete":false,"product_type":"c1","uid":1024486,"ip_address":"","ucode":"176FA629800062","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a1/e6/50da1b2d.jpg","comment_is_top":false,"comment_ctime":1584919753,"is_pvip":false,"replies":[{"id":"73816","content":"ç†”æ–­å¯ä»¥é¿å…è¿›ä¸€æ­¥æ¶åŒ–ï¼Œæ¯”å¦‚æŸä¸ªèŠ‚ç‚¹æ€§èƒ½ä¸è¡Œï¼Œå¯ä»¥é€šè¿‡ç†”æ–­çš„æ‰‹æ®µï¼Œé¿å…è°ƒç”¨å‘æ•´ä½“TPæ€§èƒ½ä¸‹é™","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•å°é”‹","uid":"1541007","ctime":1585006064,"ip_address":"","comment_id":193492,"utype":1}],"discussion_count":1,"race_medal":0,"score":"18764788937","product_id":100046201,"comment_content":"ç†”æ–­ç­–ç•¥å¦‚ä½•èƒ½é¿å…é¢‘ç¹é‡å¤åœ¨ä¸‰ä¸ªçŠ¶æ€åˆ‡æ¢å‘¢ï¼Ÿé™¤äº†å¢åŠ æœºå™¨æ‰©å®¹ï¼Œä»¥åŠä¸šåŠ¡å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œç†”æ–­ç­–ç•¥è¿˜èƒ½åšäº›ä»€ä¹ˆå—ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1541007,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/8f/8471d633.jpg","nickname":"ä½•å°é”‹","note":"","ucode":"E9B3B4A1B75D8B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488569,"discussion_content":"ç†”æ–­å¯ä»¥é¿å…è¿›ä¸€æ­¥æ¶åŒ–ï¼Œæ¯”å¦‚æŸä¸ªèŠ‚ç‚¹æ€§èƒ½ä¸è¡Œï¼Œå¯ä»¥é€šè¿‡ç†”æ–­çš„æ‰‹æ®µï¼Œé¿å…è°ƒç”¨å‘æ•´ä½“TPæ€§èƒ½ä¸‹é™","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585006064,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":197164,"user_name":"é—®å¿ƒ","can_delete":false,"product_type":"c1","uid":1250775,"ip_address":"","ucode":"6808568D61CE36","user_header":"https://static001.geekbang.org/account/avatar/00/13/15/d7/96e77edd.jpg","comment_is_top":false,"comment_ctime":1585361390,"is_pvip":true,"replies":[{"id":"74784","content":"æ˜¯çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•å°é”‹","uid":"1541007","ctime":1585529563,"ip_address":"","comment_id":197164,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14470263278","product_id":100046201,"comment_content":"è°ƒç”¨æ–¹é™æµçš„æ—¶å€™ï¼Œåº”è¯¥æ˜¯å‘èµ·è°ƒç”¨æ—¶è¯·æ±‚é™æµå™¨å»åˆ¤æ–­é˜ˆå€¼ï¼Œè°ƒç”¨å®Œæˆåï¼Œè¿˜éœ€è¦é€šçŸ¥ä¸€ä¸‹é™æµå™¨å§ã€‚è¿™æ ·æ˜¯ä¸æ˜¯æ‰èƒ½è¾¾åˆ°æ¥è¿‘é¥±å’Œçš„æ€§èƒ½å§ã€‚","like_count":4,"discussions":[{"author":{"id":1541007,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/8f/8471d633.jpg","nickname":"ä½•å°é”‹","note":"","ucode":"E9B3B4A1B75D8B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":489462,"discussion_content":"æ˜¯çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1585529563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224612,"user_name":"Laputa","can_delete":false,"product_type":"c1","uid":1079345,"ip_address":"","ucode":"64C157042CF138","user_header":"https://static001.geekbang.org/account/avatar/00/10/78/31/c7f8d1db.jpg","comment_is_top":false,"comment_ctime":1591465200,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5886432496","product_id":100046201,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè¯·é—®â€œä¸“é—¨çš„é™æµæœåŠ¡â€è€å¸ˆæœ‰æ²¡æœ‰æ¯”è¾ƒå¥½çš„å®è·µï¼Œæ¯”å¦‚åœ¨çµæ•åº¦å’Œæ€§èƒ½æ–¹é¢éƒ½æ¯”è¾ƒå¥½çš„æ–¹æ¡ˆï¼Œè°¢è°¢","like_count":1},{"had_liked":false,"id":216990,"user_name":"Tesla","can_delete":false,"product_type":"c1","uid":1500742,"ip_address":"","ucode":"98629AFD9861EE","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKUcSLVV6ia3dibe7qvTu8Vic1PVs2EibxoUdx930MC7j2Q9A6s4eibMDZlcicMFY0D0icd3RrDorMChu0zw/132","comment_is_top":false,"comment_ctime":1589381628,"is_pvip":false,"replies":[{"id":"80423","content":"åˆ©ç”¨consulæ¨é€èƒ½åŠ›","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•å°é”‹","uid":"1541007","ctime":1589499340,"ip_address":"","comment_id":216990,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5884348924","product_id":100046201,"comment_content":"è€å¸ˆå¥½ï¼Œè¯·é—®è¿™å‡ èŠ‚çš„è§£å†³æ–¹æ¡ˆéƒ½æœ‰é€šè¿‡æ³¨å†Œä¸­å¿ƒä¸‹å‘ï¼Œæ³¨å†Œä¸­å¿ƒæ¯”å¦‚consulæ€ä¹ˆä¸‹å‘æ•°æ®ç»™å„ä¸ªèŠ‚ç‚¹å•Š æ²¡æœ‰æ‰¾åˆ°ç›¸å…³çš„apiï¼Œæ˜¯è¦è‡ªå·±åšäºŒæ¬¡å¼€å‘å—","like_count":1,"discussions":[{"author":{"id":1541007,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/8f/8471d633.jpg","nickname":"ä½•å°é”‹","note":"","ucode":"E9B3B4A1B75D8B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":495001,"discussion_content":"åˆ©ç”¨consulæ¨é€èƒ½åŠ›","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1589499340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":206580,"user_name":"Desmond","can_delete":false,"product_type":"c1","uid":1267707,"ip_address":"","ucode":"93326EEE4AECAE","user_header":"https://static001.geekbang.org/account/avatar/00/13/57/fb/7f6d64ba.jpg","comment_is_top":false,"comment_ctime":1586894743,"is_pvip":false,"replies":[{"id":"77670","content":"ä¸ä¸€å®šè¦é‡‡ç”¨é›†ä¸­å¼é™æµ","user_name":"ä½œè€…å›å¤","user_name_real":"ä½•å°é”‹","uid":"1541007","ctime":1587270927,"ip_address":"","comment_id":206580,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5881862039","product_id":100046201,"comment_content":"å¦‚æœè®¾ç½®ä¸€ä¸ªä¸“é—¨çš„é™æµæœåŠ¡ï¼Œé‚£ä¹ˆå‹åŠ›éƒ½ä¼šé›†ä¸­åˆ°è¿™ä¸ªæœåŠ¡ï¼Œå¯¹è¿™ä¸ªæœåŠ¡çš„æ€§èƒ½è¦æ±‚ä¼šæé«˜ï¼Œå½“ä¸šåŠ¡å†å˜å¤§çš„æ—¶å€™ï¼Œè¿™é™æµæœåŠ¡ä¼šæˆä¸ºä¸€ä¸ªç“¶é¢ˆï¼Œè¦æ¢è§£å†³æ–¹æ¡ˆäº†","like_count":1,"discussions":[{"author":{"id":1541007,"avatar":"https://static001.geekbang.org/account/avatar/00/17/83/8f/8471d633.jpg","nickname":"ä½•å°é”‹","note":"","ucode":"E9B3B4A1B75D8B","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491830,"discussion_content":"ä¸ä¸€å®šè¦é‡‡ç”¨é›†ä¸­å¼é™æµ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587270927,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":353392,"user_name":"æ—¶éšæ—¶ç°","can_delete":false,"product_type":"c1","uid":1111899,"ip_address":"å¹¿ä¸œ","ucode":"DA4D622FF84920","user_header":"https://static001.geekbang.org/account/avatar/00/10/f7/5b/d2e7c2c4.jpg","comment_is_top":false,"comment_ctime":1659419411,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1659419411","product_id":100046201,"comment_content":"é™æµæœ‰å¤šä¸ªå±‚çº§ï¼Œæ¥å…¥å±‚ã€webå±‚ã€åº”ç”¨å±‚ï¼Œæ¯ä¸ªéƒ½å¯ä»¥è¿›è¡Œæµé‡é™å®š","like_count":0},{"had_liked":false,"id":341425,"user_name":"ryanxw","can_delete":false,"product_type":"c1","uid":2119325,"ip_address":"","ucode":"0B91EAC8D06EED","user_header":"https://static001.geekbang.org/account/avatar/00/20/56/9d/4b2a7d29.jpg","comment_is_top":false,"comment_ctime":1649596575,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649596575","product_id":100046201,"comment_content":"clientä¾§èŠ‚æµï¼Œsvrä¾§è¿‡è½½ä¿æŠ¤","like_count":0},{"had_liked":false,"id":235619,"user_name":"Zyt","can_delete":false,"product_type":"c1","uid":1476013,"ip_address":"","ucode":"17EE44017A4CFB","user_header":"https://static001.geekbang.org/account/avatar/00/16/85/ad/800f6b67.jpg","comment_is_top":false,"comment_ctime":1595128178,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1595128178","product_id":100046201,"comment_content":"é›†ä¸­å¼é™æµï¼Œæ¯ä¸ªè¯·æ±‚éƒ½è¦è§¦å‘é™æµé€»è¾‘ï¼Œå¦‚æœæŸä¸ªèŠ‚ç‚¹è¾¾åˆ°500ï¼Œå…¶ä»–èŠ‚ç‚¹è¿˜æœ‰æµé‡ç©ºé—´ï¼Œæ˜¯ç›´æ¥è¿”å›é™æµå¼‚å¸¸ï¼Ÿ è¿™ä¸ªåˆ†èŠ‚ç‚¹é™æµæœ‰ä»€ä¹ˆåŒºåˆ«ã€‚æ„Ÿè§‰ä¸€æ ·çš„å•Šã€‚éš¾é“ä¸è¾¾åˆ°10000ï¼Œå•èŠ‚ç‚¹å¯ä»¥ç»§ç»­æŠ—æµé‡å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":230468,"user_name":"tongmin_tsai","can_delete":false,"product_type":"c1","uid":1045090,"ip_address":"","ucode":"D9423E770D5846","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f2/62/f873cd8f.jpg","comment_is_top":false,"comment_ctime":1593395769,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"1593395769","product_id":100046201,"comment_content":"è€å¸ˆï¼Œç†”æ–­ã€éš”ç¦»ã€é™çº§ã€é™æµè¿™å‡ ä¸ªè¯æ„Ÿè§‰å­—é¢ä¸Šç†è§£ï¼Œçœ‹äº†æ–‡ä¸­çš„å†…å®¹ï¼Œæ€»æ„Ÿè§‰ï¼Œé™çº§ç›¸å½“äºç†”æ–­ï¼Œå°±æ˜¯æ„Ÿè§‰è¿™å‡ ä¸ªè¯è¯­å·®ä¸å¤šï¼Œè€å¸ˆï¼Œé™çº§å®é™…ä¸Šæ˜¯ä¸æ˜¯ç†”æ–­äº†å‘¢ï¼Ÿå› ä¸ºæœåŠ¡é™çº§åï¼Œåç»­çš„è°ƒç”¨éƒ½failbackäº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1113737,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI2icbib62icXtibTkThtyRksbuJLoTLMts7zook2S30MiaBtbz0f5JskwYicwqXkhpYfvCpuYkcvPTibEaQ/132","nickname":"xuanyuan","note":"","ucode":"1EC79B9372868F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":300147,"discussion_content":"é™çº§æ˜¯è¢«è°ƒæ–¹è¡Œä¸ºï¼Œç†”æ–­æ˜¯è°ƒç”¨æ–¹è¡Œä¸ºã€‚","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1597970152,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2119325,"avatar":"https://static001.geekbang.org/account/avatar/00/20/56/9d/4b2a7d29.jpg","nickname":"ryanxw","note":"","ucode":"0B91EAC8D06EED","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":561298,"discussion_content":"é™çº§æ˜¯svrä¾§ï¼Œç†”æ–­æ˜¯cltä¾§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649596419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2068424,"avatar":"","nickname":"Geek_9815f1","note":"","ucode":"34EE8566A53F10","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":371763,"discussion_content":"Aè°ƒç”¨B, Bè¿”å›å¤±è´¥äº†ã€‚ Aä½¿ç”¨å…¶ä»–çš„æ–¹å¼æ¥å»å¤„ç†ã€‚ ä¾‹å¦‚æˆ‘çš„E5æœåŠ¡è°ƒç”¨è´¦å·æœåŠ¡è·å–ç”¨æˆ·çš„å›¾ç‰‡ä¿¡æ¯ï¼Œå½“è´¦å·æœåŠ¡å‡ºç°äº†å¤±è´¥ã€‚è·å–ä¸äº†ã€‚ æˆ‘é‡‡ç”¨é™çº§å¤„ç†ç”¨å®˜ç½‘çš„å›¾ç‰‡ä»£æ›¿ç”¨æˆ·çš„å›¾ç‰‡ã€‚ è¿™å°±æ˜¯é™çº§äº†ã€‚  ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1619960423,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
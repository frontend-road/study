{"id":184040,"title":"29 | MongoDBå¤‡ä»½ä¸æ¢å¤","content":"<p><strong>è¯¾ä»¶å’ŒDemoåœ°å€</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-mongodb-course\">https://gitee.com/geektime-geekbang/geektime-mongodb-course</a></p>","comments":[{"had_liked":false,"id":178150,"user_name":"Geek_8bab89","can_delete":false,"product_type":"c3","uid":1637279,"ip_address":"","ucode":"255D8ABF151B73","user_header":"https://static001.geekbang.org/account/avatar/00/18/fb/9f/7875854f.jpg","comment_is_top":false,"comment_ctime":1581598252,"is_pvip":false,"replies":[{"id":69150,"content":"è¿™ä¸ªå°±æ˜¯RPOæŒ‡æ ‡å†³å®šçš„ã€‚Recovery Point Objective. å¦‚æœæ˜¯å®šæœŸå¤‡ä»½ï¼Œä½ çš„RPOå°±æ˜¯ä½ çš„å¤‡ä»½é—´éš”æ—¶é—´ï¼Œæ¯”å¦‚è¯´24å°æ—¶ã€‚è¿™æ ·çš„è¯ä½ ç”±å¯èƒ½ä¸¢å¤±24å°æ—¶çš„æ•°æ®ã€‚\n\nå¦‚æœä½ å¸Œæœ›RPOæœ€å°åŒ–ï¼Œå°±è¦å¯ç”¨å®æ—¶å¤‡ä»½oplogçš„æ–¹å¼ã€‚MongoDBå®˜æ–¹æä¾›OpsManagerå¯ä»¥å®ç°ï¼Œæ•°æ®å¯ä»¥æ¢å¤åˆ°æ•…éšœä¹‹å‰ä¸€åˆ†é’Ÿã€‚\n\nç„¶åï¼Œä¸€èˆ¬éœ€è¦æ¢å¤çš„åœºæ™¯ä¸æ˜¯å®•æœºã€‚å®•æœºè¿™ç§æ¯”è¾ƒå¸¸è§çš„åœºæ™¯åœ¨MongoDBé‡Œé¢æ˜¯é€šè¿‡å¤åˆ¶é›†æ¥è§£å†³çš„ã€‚ä¸€ä¸ªèŠ‚ç‚¹å®•æœºä¸å½±å“ä¸šåŠ¡ï¼Œé‡å¯å°±å¥½äº†ã€‚ \n\nå¤‡ä»½æ¢å¤é€šå¸¸æ˜¯å‡ºç°ä¸€äº›æ•°æ®é—®é¢˜ï¼Œæ¯”å¦‚è¯´ï¼Œæœ‰äººåˆ åº“è·‘è·¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1581648151,"ip_address":"","comment_id":178150,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"è€å¸ˆï¼ŒMongoDBå¤‡ä»½åªå¤‡ä»½æŸä¸€æ—¶åˆ»çš„æ•°æ®ã€‚å¦‚æœå‘ç”Ÿå®•æœºæ—¶ç”¨å¤‡ä»½è¿›è¡Œæ•°æ®æ¢å¤ä¹Ÿåªèƒ½å›å¤åˆ°å¤‡ä»½çš„é‚£ä¸€æ—¶åˆ»ã€‚é‚£å²‚ä¸æ˜¯å¤‡å®Œæˆåˆ°å®•æœºè¿™æ®µæ—¶é—´çš„æ•°æ®ä¸å°±ä¸¢å¤±äº†å—ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483684,"discussion_content":"è¿™ä¸ªå°±æ˜¯RPOæŒ‡æ ‡å†³å®šçš„ã€‚Recovery Point Objective. å¦‚æœæ˜¯å®šæœŸå¤‡ä»½ï¼Œä½ çš„RPOå°±æ˜¯ä½ çš„å¤‡ä»½é—´éš”æ—¶é—´ï¼Œæ¯”å¦‚è¯´24å°æ—¶ã€‚è¿™æ ·çš„è¯ä½ ç”±å¯èƒ½ä¸¢å¤±24å°æ—¶çš„æ•°æ®ã€‚\n\nå¦‚æœä½ å¸Œæœ›RPOæœ€å°åŒ–ï¼Œå°±è¦å¯ç”¨å®æ—¶å¤‡ä»½oplogçš„æ–¹å¼ã€‚MongoDBå®˜æ–¹æä¾›OpsManagerå¯ä»¥å®ç°ï¼Œæ•°æ®å¯ä»¥æ¢å¤åˆ°æ•…éšœä¹‹å‰ä¸€åˆ†é’Ÿã€‚\n\nç„¶åï¼Œä¸€èˆ¬éœ€è¦æ¢å¤çš„åœºæ™¯ä¸æ˜¯å®•æœºã€‚å®•æœºè¿™ç§æ¯”è¾ƒå¸¸è§çš„åœºæ™¯åœ¨MongoDBé‡Œé¢æ˜¯é€šè¿‡å¤åˆ¶é›†æ¥è§£å†³çš„ã€‚ä¸€ä¸ªèŠ‚ç‚¹å®•æœºä¸å½±å“ä¸šåŠ¡ï¼Œé‡å¯å°±å¥½äº†ã€‚ \n\nå¤‡ä»½æ¢å¤é€šå¸¸æ˜¯å‡ºç°ä¸€äº›æ•°æ®é—®é¢˜ï¼Œæ¯”å¦‚è¯´ï¼Œæœ‰äººåˆ åº“è·‘è·¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581648151,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":205537,"user_name":"bookå°¾æ±","can_delete":false,"product_type":"c3","uid":1446375,"ip_address":"","ucode":"AE2B8DFC643ACC","user_header":"https://static001.geekbang.org/account/avatar/00/16/11/e7/044a9a6c.jpg","comment_is_top":false,"comment_ctime":1586666236,"is_pvip":false,"replies":[{"id":77493,"content":"oplogæ˜¯æœ‰å¹‚ç­‰æ€§çš„ã€‚å›æ”¾çš„æ—¶å€™ï¼Œt1 çš„æ•°æ®+oplogçš„ä¸€æ¡ï¼Œåˆåœ¨ä¸€èµ·ï¼Œè¿˜æ˜¯ä¸€æ¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1587097277,"ip_address":"","comment_id":205537,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"mongoçš„å…¨é‡å¤‡ä»½çš„æ—¶å€™ï¼Œå¦‚æœæœ‰æ’å…¥æˆ–åˆ é™¤æ•°æ®å‘¢ï¼Œæ¯”å¦‚æˆ‘åœ¨t0å¼€å§‹å…¨é‡å¤‡ä»½ï¼Œt1æ—¶æ’å…¥äº†ä¸€æ¡æ•°æ®ï¼Œt2æ—¶å¤‡ä»½åˆ°åˆšæ’å…¥çš„æ•°æ®ï¼Œt3æ—¶å®Œæˆå¤‡ä»½ï¼Œäº‹åæˆ‘ç”¨å…¨é‡çš„å¤‡ä»½æ•°æ®åŠ ä¸ŠæœŸé—´çš„oplogçš„è¯ï¼Œä¸å°±å¤šæ’å…¥ä¸€æ¡æ•°æ®äº†å—","like_count":1,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":491506,"discussion_content":"oplogæ˜¯æœ‰å¹‚ç­‰æ€§çš„ã€‚å›æ”¾çš„æ—¶å€™ï¼Œt1 çš„æ•°æ®+oplogçš„ä¸€æ¡ï¼Œåˆåœ¨ä¸€èµ·ï¼Œè¿˜æ˜¯ä¸€æ¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1587097277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":172790,"user_name":"hal","can_delete":false,"product_type":"c3","uid":1359844,"ip_address":"","ucode":"98E625F7327FD9","user_header":"https://static001.geekbang.org/account/avatar/00/14/bf/e4/45758517.jpg","comment_is_top":false,"comment_ctime":1579313084,"is_pvip":false,"replies":[{"id":67846,"content":"é›†ç¾¤ä¸ä¼šä¸¢å¤±æ•°æ®ï¼Œä½†æ˜¯ä½ çš„å»¶è¿ŸèŠ‚ç‚¹ä¼šå‡ºç°æ•…éšœï¼Œæ— æ³•å·¥ä½œã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1580275501,"ip_address":"","comment_id":172790,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"è€å¸ˆæ—©ä¸Šå¥½ï¼Œå»¶è¿ŸèŠ‚ç‚¹åšå¤‡ä»½ï¼Œå¦‚æœoplogæ—¶é—´çª—å£å¾ˆå°ï¼Œå»¶è¿Ÿçš„æ—¶é—´å¾ˆé•¿ï¼Œæ¯”å¦‚å»¶è¿Ÿ1å°æ—¶ï¼Œä½†æ˜¯oplogæ—¥å¿—å¤§å°åªæœ‰10åˆ†é’Ÿå†…çš„ï¼Œè¿™æ—¶å€™å»¶è¿ŸèŠ‚ç‚¹æ˜¯ä¸æ˜¯æ•°æ®å°±ç¼ºå¤±äº†","like_count":1,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481855,"discussion_content":"é›†ç¾¤ä¸ä¼šä¸¢å¤±æ•°æ®ï¼Œä½†æ˜¯ä½ çš„å»¶è¿ŸèŠ‚ç‚¹ä¼šå‡ºç°æ•…éšœï¼Œæ— æ³•å·¥ä½œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580275501,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1359844,"avatar":"https://static001.geekbang.org/account/avatar/00/14/bf/e4/45758517.jpg","nickname":"hal","note":"","ucode":"98E625F7327FD9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":155805,"discussion_content":"å¥½çš„ğŸ‘Œï¼Œè°¢è°¢è€å¸ˆè§£ç­”","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1580291974,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":201661,"user_name":"æ—©æ—©å‡¡","can_delete":false,"product_type":"c3","uid":1161584,"ip_address":"","ucode":"4AA7CAB2CAF20D","user_header":"https://static001.geekbang.org/account/avatar/00/11/b9/70/c454312c.jpg","comment_is_top":false,"comment_ctime":1585817639,"is_pvip":false,"replies":[{"id":75800,"content":"éœ€è¦æä¾›æ›´å¤šä¿¡æ¯æ’æŸ¥\n- show dbs è¾“å‡º\n- dump å‘½ä»¤\n- restore å‘½ä»¤\n- restore ä»¥åçš„show dbs","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1586080872,"ip_address":"","comment_id":201661,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"Dumpçš„æ•°æ®ä¸ºä»€ä¹ˆæ¯”show dbså°‘å‡ åå€ï¼Ÿ\n\næˆ‘æœ‰ä¸ªåº“. show dbs 10Gï¼Œdumpåæ–‡ä»¶289mï¼Œrestoreåˆ°æ–°æœåŠ¡å™¨99m.\n\nå¤‡ä»½å’Œæ¢å¤ä¸­æ²¡æœ‰æŠ¥é”™\n\nå¤‡ä»½ç‰ˆæœ¬ä¸º4.0.6ï¼Œæ¢å¤çš„ç‰ˆæœ¬4.2.5","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":490392,"discussion_content":"éœ€è¦æä¾›æ›´å¤šä¿¡æ¯æ’æŸ¥\n- show dbs è¾“å‡º\n- dump å‘½ä»¤\n- restore å‘½ä»¤\n- restore ä»¥åçš„show dbs","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586080872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":173050,"user_name":"Geek_f7ecaa","can_delete":false,"product_type":"c3","uid":1476575,"ip_address":"","ucode":"0D5375FA7537D1","user_header":"","comment_is_top":false,"comment_ctime":1579417682,"is_pvip":false,"replies":[{"id":67150,"content":"æœ‰å½±å“ã€‚å»¶è¿ŸèŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ•°æ®èŠ‚ç‚¹ï¼Œä¼šå“åº”writeConcernã€‚åªä¸è¿‡å®ƒä¸€å®šè¦è¿‡äº†slaveDelayçš„æ—¶é—´æ®µæ‰ä¼šå†™æ•°æ®ï¼Œå“åº”ã€‚æ‰€ä»¥å¦‚æœä½ åœ¨ä¸€ä¸ª3èŠ‚ç‚¹å¤åˆ¶é›†ç¾¤ä½¿ç”¨writeConcern:3 ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯å»¶è¿Ÿ30åˆ†é’Ÿçš„è¯ï¼Œä½ å¯èƒ½è¦ç­‰30åˆ†é’Ÿæ‰èƒ½è¿”å›ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"è¿œèˆªçš„TJ å”å»ºæ³•","uid":1260017,"ctime":1579477851,"ip_address":"","comment_id":173050,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"å¤åˆ¶å»¶è¿ŸèŠ‚ç‚¹å¯¹Write Concernæœ‰æ²¡æœ‰å½±å“ï¼ŒW&gt;1çš„æƒ…å†µï¼Œæ˜¯ç­‰ä»èŠ‚ç‚¹æ‹¿åˆ°oplogå°±è¿”å›ï¼Œè¿˜æ˜¯éœ€è¦ç­‰ä»èŠ‚ç‚¹æ‰§è¡Œå®Œæˆæ‰è¿”å›å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1260017,"avatar":"https://static001.geekbang.org/account/avatar/00/13/39/f1/6d18a4d1.jpg","nickname":"è¿œèˆªçš„TJ å”å»ºæ³•","note":"","ucode":"0719807390250A","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":481940,"discussion_content":"æœ‰å½±å“ã€‚å»¶è¿ŸèŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ•°æ®èŠ‚ç‚¹ï¼Œä¼šå“åº”writeConcernã€‚åªä¸è¿‡å®ƒä¸€å®šè¦è¿‡äº†slaveDelayçš„æ—¶é—´æ®µæ‰ä¼šå†™æ•°æ®ï¼Œå“åº”ã€‚æ‰€ä»¥å¦‚æœä½ åœ¨ä¸€ä¸ª3èŠ‚ç‚¹å¤åˆ¶é›†ç¾¤ä½¿ç”¨writeConcern:3 ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯å»¶è¿Ÿ30åˆ†é’Ÿçš„è¯ï¼Œä½ å¯èƒ½è¦ç­‰30åˆ†é’Ÿæ‰èƒ½è¿”å›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1579477851,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":386477,"user_name":"é™†ç¾èŠ³","can_delete":false,"product_type":"c3","uid":2084000,"ip_address":"å¹¿ä¸œ","ucode":"8C3F5FB3A8B3DA","user_header":"https://static001.geekbang.org/account/avatar/00/1f/cc/a0/bd31d495.jpg","comment_is_top":false,"comment_ctime":1704931199,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"ç›®å‰é‡åˆ°çš„é—®é¢˜æ˜¯ï¼Œæœºæˆ¿æ–­ç”µå¯¼è‡´å®¹å™¨å¯åŠ¨ä¸äº†ï¼Œæœ‰å…³æ—¥å¿— {&quot;t&quot;:{&quot;$date&quot;:&quot;2024-01-10T06:59:49.076+00:00&quot;},&quot;s&quot;:&quot;F&quot;,  &quot;c&quot;:&quot;ASSERT&quot;,   &quot;id&quot;:23089,   &quot;ctx&quot;:&quot;initandlisten&quot;,&quot;msg&quot;:&quot;Fatal assertion&quot;,&quot;attr&quot;:{&quot;msgid&quot;:50853,&quot;file&quot;:&quot;src&#47;mongo&#47;db&#47;storage&#47;wiredtiger&#47;wiredtiger_util.cpp&quot;,&quot;line&quot;:652}}\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2024-01-10T06:59:49.076+00:00&quot;},&quot;s&quot;:&quot;F&quot;,  &quot;c&quot;:&quot;ASSERT&quot;,   &quot;id&quot;:23090,   &quot;ctx&quot;:&quot;initandlisten&quot;,&quot;msg&quot;:&quot;\\n\\n***aborting after fassert() failure\\n\\n&quot;}\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2024-01-10T06:59:49.076+00:00&quot;},&quot;s&quot;:&quot;F&quot;,  &quot;c&quot;:&quot;CONTROL&quot;,  &quot;id&quot;:6384300, &quot;ctx&quot;:&quot;initandlisten&quot;,&quot;msg&quot;:&quot;Writing fatal message&quot;,&quot;attr&quot;:{&quot;message&quot;:&quot;Got signal: 6 (Aborted).\\n&quot;}}\næœ€å¿«çš„è§£å†³æ–¹æ¡ˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå¥½ä¹…æ²¡ç®¡mongodbäº†ï¼Œåˆç”Ÿç–äº†","like_count":0},{"had_liked":false,"id":349321,"user_name":"Tzen","can_delete":false,"product_type":"c3","uid":1270838,"ip_address":"","ucode":"341F08152EFC0C","user_header":"https://static001.geekbang.org/account/avatar/00/13/64/36/f14efbe7.jpg","comment_is_top":false,"comment_ctime":1655886006,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"è€å¸ˆï¼Œèƒ½ä¸èƒ½å°†ä¸€ä¸‹åˆ†ç‰‡é›†ç¾¤çš„å¤‡ä»½æ–¹æ¡ˆ","like_count":0},{"had_liked":false,"id":346946,"user_name":"Geek_c4e8a7","can_delete":false,"product_type":"c3","uid":2718664,"ip_address":"","ucode":"B8B7F6C3D77360","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/BD5O3DV5ZDuL8tGIVicPB99tLjE1MyKoudWjI0OGhUCTPYQ4KWpgC7BmbFwBJ7lK8nMaSicWDbtUYBBsfLpZwXjQ/132","comment_is_top":false,"comment_ctime":1653555004,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"è€å¸ˆ Mogodb åˆ†ç‰‡é›†ç¾¤å¤‡ä»½ï¼ˆå¯¹æ‰€æœ‰åˆ†ç‰‡å¤‡ä»½ï¼‰    æ€ä¹ˆä¿è¯æ¯ä¸ªåˆ†ç‰‡ æ•°æ®çš„ä¸€è‡´æ€§ï¼ˆå³åœ¨åŒä¸€æ—¶åˆ»ï¼‰","like_count":0},{"had_liked":false,"id":307858,"user_name":"é»„ç»§ç«‹","can_delete":false,"product_type":"c3","uid":1201686,"ip_address":"","ucode":"18948D6458E719","user_header":"https://static001.geekbang.org/account/avatar/00/12/56/16/f8b22bf5.jpg","comment_is_top":false,"comment_ctime":1629284900,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"è€å¸ˆï¼Œmongodbåˆ†ç‰‡é›†ç¾¤å¦‚ä½•åšåˆ°ä¸€è‡´æ€§å¤‡ä»½å‘€ï¼Ÿ","like_count":0},{"had_liked":false,"id":284529,"user_name":"CPP","can_delete":false,"product_type":"c3","uid":1074165,"ip_address":"","ucode":"2313F6BD693F48","user_header":"https://static001.geekbang.org/account/avatar/00/10/63/f5/9c7ef5ce.jpg","comment_is_top":false,"comment_ctime":1616320286,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100040001,"comment_content":"Linuxä¸‹å®‰è£…äº†ä¸€ä¸ª4.4.4çš„ç‰ˆæœ¬ï¼Œå‘ç°æ²¡æœ‰dumpï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢","like_count":0},{"had_liked":false,"id":282259,"user_name":"ç–æœˆ","can_delete":false,"product_type":"c3","uid":2367247,"ip_address":"","ucode":"427737A95CAE0C","user_header":"https://static001.geekbang.org/account/avatar/00/24/1f/0f/4fe3788e.jpg","comment_is_top":false,"comment_ctime":1615175190,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"å”è€å¸ˆï¼Œä½ å¥½ï¼è¯·æ•™æ‚¨å‡ ä¸ªé—®é¢˜ï¼š\n1ã€mongodb åœ¨å®ç°å¢é‡å¤‡ä»½æ—¶ï¼Œä¼šå¢åŠ  --query å‚æ•°æ¥ç¡®å®šå¤‡ä»½æ—¶é—´èŒƒå›´ï¼Œå¼€å§‹æ—¶é—´å¥½è·å–åªè¦å°äºç­‰äºä¸Šä¸ªå…¨é‡å¤‡ä»½æ—¶é—´æˆ³ï¼ˆå¯ä»¥è·å–åˆ°ï¼‰å³å¯ï¼Œç»“æŸçš„æ—¶é—´è‡ªå®šä¹‰ï¼Œå¦‚æœå¤‡ä»½å¢é‡æ•°æ®å¤ªå¤šï¼Œæˆ–è€…å¤‡ä»½è¿‡ç¨‹æœ‰å¤§é‡æ•°æ®å†™å…¥ä¼šå‡ºç°ä»€ä¹ˆå¼‚å¸¸ï¼Ÿ\n2ã€å¢é‡å¤‡ä»½æ—¶çš„æ—¶é—´èŒƒå›´åº”è¯¥å¦‚ä½•è®¾ç½®æ‰åˆç†ï¼Œæ˜¯ä¸€å¤©ä¸€æ¬¡å¢é‡å¤‡ä»½ï¼Œè¿˜æ˜¯ä¸€å¤©åˆ†å‡ æ¬¡å¢é‡å¤‡ä»½å¥½ï¼Ÿ\n3ã€å¢é‡å¤‡ä»½æ˜¯é‡‡ç”¨ mongodump --host 127.0.0.1 -d local -c oplog.rs --query ..... è¿˜æ˜¯é‡‡ç”¨ mongodump -h 127.0.0.1:27017 --oplog --query ..... å‘¢ï¼Ÿ\nè¿˜è¯·è€å¸ˆä¸åèµæ•™ï¼Œè°¢è°¢ï¼","like_count":0},{"had_liked":false,"id":276669,"user_name":"æµè½¬çš„æ—¶å…‰","can_delete":false,"product_type":"c3","uid":2408889,"ip_address":"","ucode":"26B743CC217954","user_header":"https://static001.geekbang.org/account/avatar/00/24/c1/b9/0d3e01d3.jpg","comment_is_top":false,"comment_ctime":1612073192,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"è€å¸ˆè¯·é—®ä¸‹mongosé›†ç¾¤æ¯ä¸ªshardåˆ†ç‰‡å’Œconfig serverå¦‚ä½•åœ¨ä¸€æ¬¡å…¨å¤‡ä¹‹åï¼Œå®æ—¶å¤‡ä»½oplogæ–‡ä»¶ï¼Ÿ","like_count":0},{"had_liked":false,"id":194216,"user_name":"å†·è„š","can_delete":false,"product_type":"c3","uid":1101601,"ip_address":"","ucode":"C693E75F417D3C","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/21/87888b61.jpg","comment_is_top":false,"comment_ctime":1585038155,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100040001,"comment_content":"ä¸»èŠ‚ç‚¹çš„ oplog æ—¶é—´çª—tåº”æ»¡è¶³ï¼št &gt;= å»¶è¿Ÿæ—¶é—´ + 48å°æ—¶ï¼Œè€å¸ˆï¼Œè¿™ä¸ªæ€ä¹ˆç†è§£ï¼Œçœ‹ä½ è§†é¢‘é‡Œæ²¡æœ‰è®²ï¼Œä½†æ˜¯PPTé‡Œæœ‰","like_count":0}]}
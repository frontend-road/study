{"id":127768,"title":"72 | 理解Kubernetes节点网络和Pod网络","content":"<ul>\n<li>\n<p>代码：<a href=\"https://gitee.com/geektime-geekbang/staffjoy\">https://gitee.com/geektime-geekbang/staffjoy</a></p>\n</li>\n<li>\n<p>课件：<a href=\"https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ\">https://pan.baidu.com/s/1Q7eP3yZ1Vm8J2nhle5RzTQ</a> 提取码: 1aeh</p>\n</li>\n</ul>","comments":[{"had_liked":false,"id":286847,"user_name":"前路漫漫","can_delete":false,"product_type":"c3","uid":1792623,"ip_address":"","ucode":"3D39485D761444","user_header":"https://static001.geekbang.org/account/avatar/00/1b/5a/6f/62c03303.jpg","comment_is_top":false,"comment_ctime":1617631256,"is_pvip":false,"replies":[{"id":104792,"content":"对，抽象层次多了以后，操作使用会简化，但是一旦出问题就需要大量底层知识才能搞定。\n性能损耗是肯定的，所以玩k8s一般需要很强劲的物理机资源。\n对，有状态DB数据服务，一般独立部署，通常不放在k8s中，k8s通常只放无状态服务。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1618668145,"ip_address":"","comment_id":286847,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"感觉k8s 经过层层包装，部署确实方便了，如果玩的不熟悉出问题很难线上环境排查。并且相比于物理机性能肯定有所损耗？例如应该没人把数据库mysql 放容器里面，我呆过的公司都是测试环境用的容易，线上还都是物理机","like_count":2,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518106,"discussion_content":"对，抽象层次多了以后，操作使用会简化，但是一旦出问题就需要大量底层知识才能搞定。\n性能损耗是肯定的，所以玩k8s一般需要很强劲的物理机资源。\n对，有状态DB数据服务，一般独立部署，通常不放在k8s中，k8s通常只放无状态服务。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618668145,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227534,"user_name":"美妙的代码","can_delete":false,"product_type":"c3","uid":1111985,"ip_address":"","ucode":"9DADD72C193296","user_header":"https://static001.geekbang.org/account/avatar/00/10/f7/b1/982ea185.jpg","comment_is_top":false,"comment_ctime":1592402664,"is_pvip":true,"replies":[{"id":83838,"content":"跟多k8s基础视频内容，可以参考我的B站空间：\nhttps:&#47;&#47;space.bilibili.com&#47;518029478","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1592412398,"ip_address":"","comment_id":227534,"utype":1}],"discussion_count":1,"race_medal":1,"score":2,"product_id":100031401,"comment_content":"容器共享pod 网络栈，即不能共用端口。pause 用于创建网络栈，每个po d 相关于一个虚拟机。","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498679,"discussion_content":"跟多k8s基础视频内容，可以参考我的B站空间：\nhttps://space.bilibili.com/518029478","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592412398,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":284511,"user_name":"黄东升-鲁班小匠-Daniel","can_delete":false,"product_type":"c3","uid":1232429,"ip_address":"","ucode":"1D00E0B0EC2B41","user_header":"https://static001.geekbang.org/account/avatar/00/12/ce/2d/75050241.jpg","comment_is_top":false,"comment_ctime":1616312174,"is_pvip":false,"replies":[{"id":104133,"content":"在这里：\nhttps:&#47;&#47;github.com&#47;spring2go&#47;staffjoy-ppt&#47;tree&#47;master&#47;doc&#47;ppts\n建议可以科学上网，否则要凌晨网络不堵时下载","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1617545054,"ip_address":"","comment_id":284511,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"github上的doc目录下的pdf打不开。疑是是没有pdf文件。","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517373,"discussion_content":"在这里：\nhttps://github.com/spring2go/staffjoy-ppt/tree/master/doc/ppts\n建议可以科学上网，否则要凌晨网络不堵时下载","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1617545054,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":130791,"user_name":"Yangjing","can_delete":false,"product_type":"c3","uid":1018061,"ip_address":"","ucode":"D88DFD4958D07C","user_header":"https://static001.geekbang.org/account/avatar/00/0f/88/cd/2c3808ce.jpg","comment_is_top":false,"comment_ctime":1567553482,"is_pvip":false,"replies":[{"id":49104,"content":"这里的route&#47;gateway并不直接属于k8s，而是属于底层数据中心或云基础网络，实际k8s的pod网络有很多种实现方式(flannel&#47;calico&#47;vxlan&#47;weave-net等等)，有些需要底层网络的route&#47;gateway支持的。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1567594230,"ip_address":"","comment_id":130791,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"这里的路由器是k8s的那部分，老师","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":466129,"discussion_content":"这里的route/gateway并不直接属于k8s，而是属于底层数据中心或云基础网络，实际k8s的pod网络有很多种实现方式(flannel/calico/vxlan/weave-net等等)，有些需要底层网络的route/gateway支持的。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1567594230,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":137253,"user_name":"杨波","can_delete":false,"product_type":"c3","uid":1030344,"ip_address":"","ucode":"FA3418BB703BCA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","comment_is_top":false,"comment_ctime":1569668853,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"课程补充材料，作者亲自撰写的文章《Kubernetes网络三部曲之一～Pod网络》\nhttps:&#47;&#47;blog.csdn.net&#47;yang75108&#47;article&#47;details&#47;101101384","like_count":5},{"had_liked":false,"id":312989,"user_name":"红军","can_delete":false,"product_type":"c3","uid":1182247,"ip_address":"","ucode":"DE3FCE0ACDF620","user_header":"https://static001.geekbang.org/account/avatar/00/12/0a/27/f6215028.jpg","comment_is_top":false,"comment_ctime":1632189497,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100031401,"comment_content":"node内的网桥名字应该叫cnr0而不是cbr0吧","like_count":0}]}
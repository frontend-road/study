{"id":610658,"title":"40｜输入：如何接收用户通过键盘输入的数据？","content":"<p><strong>课后习题</strong><br>\n编写一个程序，当用户输入 q 或 quit 时，程序退出，否则一直等待用户输入。</p><p><strong>课程代码、课件及其他相关资料地址</strong><br>\n<a href=\"https://gitee.com/wilsonyin/zero-basics-python\">https://gitee.com/wilsonyin/zero-basics-python</a></p><p>实现参数处理的两个函数库：<a href=\"http://docs.python.org/zh-cn/3.10/library/argparse.html\">argparse</a>和<a href=\"http://docs.python.org/zh-cn/3.10/library/getopt.html\">getopt</a></p>","comments":[{"had_liked":false,"id":379388,"user_name":"zoey","can_delete":false,"product_type":"c3","uid":3053280,"ip_address":"北京","ucode":"0C03D4BEB8AFB8","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/uOByCQXa9iawXcJsqiaZuiaiakmDuPfs42zibzMWa0xdBNdANbxkI7hVwAJWHsFV4scI0P8qJUTGxlIhehRqiaE0bYMw/132","comment_is_top":false,"comment_ctime":1691893888,"is_pvip":false,"replies":[{"id":138344,"content":"我把链接贴一下，如果你无法从留言进入，可以在课程简介下找到\n\n课程交流群：https:&#47;&#47;jinshuju.net&#47;f&#47;C8csQq\n","user_name":"作者回复","user_name_real":"编辑","uid":1056235,"ctime":1692534732,"ip_address":"甘肃","comment_id":379388,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"有没有讨论群","like_count":0,"discussions":[{"author":{"id":1056235,"avatar":"https://static001.geekbang.org/account/avatar/00/10/1d/eb/b2123759.jpg","nickname":"尹会生","note":"","ucode":"D1093DBD093617","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":626099,"discussion_content":"我把链接贴一下，如果你无法从留言进入，可以在课程简介下找到\n\n课程交流群：https://jinshuju.net/f/C8csQq\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1692534732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"甘肃","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":393403,"user_name":"cool～","can_delete":false,"product_type":"c3","uid":3879145,"ip_address":"四川","ucode":"0C5C4E50115B13","user_header":"https://static001.geekbang.org/account/avatar/00/3b/30/e9/e3ece8f6.jpg","comment_is_top":false,"comment_ctime":1723705930,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"import argparse\n\nparser = argparse.ArgumentParser(description=&quot;When the user input q or quit the program will be stopped&quot;)\nparser.add_argument(&quot;-q&quot;, &quot;--quit&quot;,action=&#39;store_true&#39;, help=&quot;Quit the program&quot;)\nargs = parser.parse_args()\nif args.quit:\n    exit(0)","like_count":1},{"had_liked":false,"id":380600,"user_name":"Geek_dcb207","can_delete":false,"product_type":"c3","uid":3682245,"ip_address":"福建","ucode":"D8E5974F781EDC","user_header":"","comment_is_top":false,"comment_ctime":1693884506,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"while True:\n    i = input(&quot;请输入命令，如果是q 或者 quit，程序都会退出&quot;)\n    if i.lower() in [&#39;q&#39;,&#39;quit&#39;]:\n        print(&quot;bye&quot;)\n        break","like_count":1,"discussions":[{"author":{"id":2383299,"avatar":"https://static001.geekbang.org/account/avatar/00/24/5d/c3/b8bb888c.jpg","nickname":"依托答辩","note":"","ucode":"4BE79E8A030813","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":632344,"discussion_content":"用.lower()代表啥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1700706254,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"上海","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":367377,"user_name":"繁星不灭","can_delete":false,"product_type":"c3","uid":3042945,"ip_address":"广东","ucode":"7610E71D8FF224","user_header":"https://static001.geekbang.org/account/avatar/00/2e/6e/81/a52fe3f6.jpg","comment_is_top":false,"comment_ctime":1675172561,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"###结合argparse库练习\n1.main.py文件\nimport argparse\n\nparser = argparse.ArgumentParser(description=&quot;测试传参功能&quot;)\nparser.add_argument(&#39;-code&#39;, type=str, default=&quot;help&quot;)\nargs = parser.parse_args()\nstring=args.code\n\nwhile True:\n    if string == &#39;q&#39; or string == &#39;quit&#39;:\n        print(&quot;程序退出&quot;)\n        break\n    elif string == &#39;help&#39;:\n        print(&quot;帮助：输入参数为&#39;q&#39;或&#39;quit&#39;时程序退出&quot;)\n        string=input(&quot;请输入内容：&quot;)\n    else:\n        print(&quot;程序继续&quot;)\n        string=input(&quot;请输入内容：&quot;)\n\n2.使用CMD命令行窗口到达脚本所在目录\ncd &#47;d D:\\编程存储路径\\test\n\n3.使用CMD命令行窗口不带参数执行脚本\n【命令输入】D:\\编程存储路径\\test&gt;python main.py\n【结果返回】帮助：输入参数为&#39;q&#39;或&#39;quit&#39;时程序退出\n【命令输入】请输入内容：11\n【结果返回】程序继续\n【命令输入】请输入内容：help\n【结果返回】帮助：输入参数为&#39;q&#39;或&#39;quit&#39;时程序退出\n【命令输入】请输入内容：q\n【结果返回】程序退出\n\n4.使用CMD命令行窗口带参数执行脚本\n【命令输入】D:\\编程存储路径\\test&gt;python main.py -code quit\n【结果返回】程序退出","like_count":1},{"had_liked":false,"id":396385,"user_name":"吉吉国王","can_delete":false,"product_type":"c3","uid":3960093,"ip_address":"陕西","ucode":"517EDE2269C592","user_header":"https://static001.geekbang.org/account/avatar/00/3c/6d/1d/b2a5a703.jpg","comment_is_top":false,"comment_ctime":1734245413,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"用命令行参数，终端报错找不到文件","like_count":0},{"had_liked":false,"id":394917,"user_name":"尹长拟","can_delete":false,"product_type":"c3","uid":3074007,"ip_address":"北京","ucode":"1EBD42B5BBD934","user_header":"","comment_is_top":false,"comment_ctime":1728802570,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"def main():\n    while True:\n        user_input = input(&quot;请输入指令（退出请输入 q or quit):&quot;)\n        if user_input.lower() in [&#39;q&#39;,&#39;quit&#39;]:\n            print(&quot;程序已退出&quot;)\n            break\n\nif __name__ == &quot;__main__&quot;:\n    main()","like_count":0},{"had_liked":false,"id":392810,"user_name":"爱在战国","can_delete":false,"product_type":"c3","uid":2710551,"ip_address":"上海","ucode":"CE588F236CD3AD","user_header":"https://static001.geekbang.org/account/avatar/00/29/5c/17/c71a12c2.jpg","comment_is_top":false,"comment_ctime":1721838982,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"while True:\n    keyboard=input(&quot;请输入操作\\n&quot;)\n    if keyboard==&quot;q&quot; or keyboard==&quot;quit&quot;:\n        print(&quot;退出成功&quot;)\n        exit(-1)\n    else:\n        print(&quot;请重新输入你的命令&quot;)","like_count":0},{"had_liked":false,"id":388393,"user_name":"686486","can_delete":false,"product_type":"c3","uid":3775908,"ip_address":"广东","ucode":"F162282D1E0005","user_header":"","comment_is_top":false,"comment_ctime":1710124018,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"while True:\n    result=input(&quot;请输入 q 或 quit ，程序退出&quot;)\n    if result not in (&quot;q&quot;,&quot;quit&quot;):\n        continue\n    else:\n        break","like_count":0},{"had_liked":false,"id":387022,"user_name":"空身而来空身去","can_delete":false,"product_type":"c3","uid":3021250,"ip_address":"江苏","ucode":"A96E319F94FB4B","user_header":"https://static001.geekbang.org/account/avatar/00/2e/19/c2/2a9c7dad.jpg","comment_is_top":false,"comment_ctime":1706173238,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"“PS D:\\用户备份\\ZT\\Desktop\\行业软件需求\\python学习&gt; 输入-命令行参数.py -number 123456\n你输入的number参数是123456” \n没写 python3 直接上###.py 好像也能运行，对这种文件路径使用起来感觉总是比较难懂","like_count":0},{"had_liked":false,"id":380949,"user_name":"William","can_delete":false,"product_type":"c3","uid":1346215,"ip_address":"吉林","ucode":"55F5D9DEE485B1","user_header":"https://static001.geekbang.org/account/avatar/00/14/8a/a7/674c1864.jpg","comment_is_top":false,"comment_ctime":1694500188,"is_pvip":true,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100310001,"comment_content":"#40\n\nwhile True:\n     str= input(&quot;请输入参数: 若输入q或者quit即退出&quot;)\n     str = str.lower()\n     if(str == &#39;q&#39; or str ==&#39;quit&#39;):\n        break\n\nprint(&quot;end.....&quot;)","like_count":0},{"had_liked":false,"id":379765,"user_name":"好困啊","can_delete":false,"product_type":"c3","uid":2094450,"ip_address":"上海","ucode":"D49429660F2DC8","user_header":"https://static001.geekbang.org/account/avatar/00/1f/f5/72/8cbc5cb3.jpg","comment_is_top":false,"comment_ctime":1692435524,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"def main():\n    while True:\n        user_input = input(&quot;请输入一个值（输入 &#39;q&#39;或&#39;quit&#39;以退出）：&quot;).lower()\n        if user_input == &#39;q&#39; or user_input == &#39;quit&#39;:\n            print(&quot;Bye!&quot;)\n            break\n        else:\n            print(&quot;You entered: &quot; + user_input)\n\nif __name__ == &quot;__main__&quot;:\n    main()","like_count":0},{"had_liked":false,"id":379461,"user_name":"Geek_！","can_delete":false,"product_type":"c3","uid":3028083,"ip_address":"四川","ucode":"3F10539EA5975B","user_header":"https://static001.geekbang.org/account/avatar/00/2e/34/73/712f20bf.jpg","comment_is_top":false,"comment_ctime":1691995080,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"while True:\n    a = input(&#39;请输入你的命令，如果是“q”会退出，如果是“quit”也会退出：&#39;)\n    if a == &#39;q&#39; or a == &#39;quit&#39;:\n        print(&#39;退出成功，程序终止。&#39;)\n        break\n    else:\n        print(&#39;请重新输入你的指令。&#39;)","like_count":0},{"had_liked":false,"id":379389,"user_name":"zoey","can_delete":false,"product_type":"c3","uid":3053280,"ip_address":"北京","ucode":"0C03D4BEB8AFB8","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/uOByCQXa9iawXcJsqiaZuiaiakmDuPfs42zibzMWa0xdBNdANbxkI7hVwAJWHsFV4scI0P8qJUTGxlIhehRqiaE0bYMw/132","comment_is_top":false,"comment_ctime":1691893910,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"有没有学习群呀 各位","like_count":0},{"had_liked":false,"id":378591,"user_name":"Geek_219b52","can_delete":false,"product_type":"c3","uid":1524531,"ip_address":"浙江","ucode":"955D79DEFD2DF4","user_header":"https://static001.geekbang.org/account/avatar/00/17/43/33/b9127867.jpg","comment_is_top":false,"comment_ctime":1690459284,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"#编写一个程序，当用户输入 q 或 quit 时，程序退出，否则一直等待用户输入。\nwhile True:\n    i= input(&quot;请输入&quot;)\n    if i == q or i == quit:\n        print(&quot;程序退出&quot;)\n    break\nelse:\n    print(&quot;请输入&quot;)","like_count":0},{"had_liked":false,"id":378464,"user_name":"Guan YD","can_delete":false,"product_type":"c3","uid":2000972,"ip_address":"陕西","ucode":"76540F350800A9","user_header":"https://static001.geekbang.org/account/avatar/00/1e/88/4c/9a732f67.jpg","comment_is_top":false,"comment_ctime":1690281936,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"while True :\n    a = input(&quot;请输入q或者quit程序退出 否则一直等待输入:&quot;)\n\n    if a == &quot;q&quot; or a == &quot;quit&quot; :\n        print(&quot;程序退出&quot;)\n        break\n    else :\n        continue","like_count":0},{"had_liked":false,"id":375153,"user_name":"尿布斯","can_delete":false,"product_type":"c3","uid":2022308,"ip_address":"陕西","ucode":"0908E29AC74A4D","user_header":"https://static001.geekbang.org/account/avatar/00/1e/db/a4/053d978a.jpg","comment_is_top":false,"comment_ctime":1684985813,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"while True:\n    print(&quot;输入&#39;q&#39;或&#39;quit&#39;可退出程序&quot;)\n    keyboard = input(&quot;请输入操作符：&quot;)\n    if keyboard == &#39;q&#39; or keyboard == &#39;quit&#39;:\n        exit()\n    else:\n        print(&quot;你输入的操作符有误，请重新输入!\\n&quot;)\n        continue","like_count":0},{"had_liked":false,"id":373930,"user_name":"Geek_943787","can_delete":false,"product_type":"c3","uid":3023953,"ip_address":"浙江","ucode":"E16967E38B57A8","user_header":"","comment_is_top":false,"comment_ctime":1683359946,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"import argparse\nparser = argparse.ArgumentParser(description=&quot;输入”q“或者”quit“时，程序退出，否则一直等待&quot;)\nx = parser.add_argument(&quot;-method&quot;,help=&quot;输入操作&quot;)\nwhile True:\n    if x == &#39;q&#39; or x == &quot;quit&quot;:\n        print(&quot;bye&quot;)\n        break\n    else:\n        x = input(&quot;Tell me something, and I will repeat it back to you: &quot;)","like_count":0},{"had_liked":false,"id":369232,"user_name":"GeekNeo","can_delete":false,"product_type":"c3","uid":1146405,"ip_address":"浙江","ucode":"1D355A9BEB8BEA","user_header":"https://static001.geekbang.org/account/avatar/00/11/7e/25/3932dafd.jpg","comment_is_top":false,"comment_ctime":1677251267,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"import argparse\n\n# 执行方式 python3 test.py -number 100\nparser = argparse.ArgumentParser(description=&quot;这个程序用来演示参数处理&quot;)\n# -number 表示 number 参数可选参数\nparser.add_argument(&#39;-code&#39;, type=str, default=&quot;help&quot;)\nargs = parser.parse_args()\nstring = args.code\nwhile True:\n    if string == &#39;q&#39; or string == &#39;quit&#39;:\n        print(&quot;程序退出&quot;)\n        exit()\n    elif string == &#39;help&#39;:\n        print(&quot;帮助：输入参数为&#39;q&#39;或&#39;quit&#39;时程序退出&quot;)\n        string = input(&quot;请输入内容：&quot;)\n    else:\n        print(&quot;程序继续&quot;)\n        string = input(&quot;请输入内容：&quot;)","like_count":0},{"had_liked":false,"id":368385,"user_name":"佛哦太慢","can_delete":false,"product_type":"c3","uid":1174330,"ip_address":"上海","ucode":"FE7A0EE3B754E1","user_header":"https://static001.geekbang.org/account/avatar/00/11/eb/3a/2d4ccc21.jpg","comment_is_top":false,"comment_ctime":1676276504,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":3,"score":3,"product_id":100310001,"comment_content":"while True:\n    x=input(&quot;请输入：&quot;)\n    if x==&quot;q&quot; or x==&quot;quit&quot;:\n        break","like_count":0},{"had_liked":false,"id":367364,"user_name":"繁星不灭","can_delete":false,"product_type":"c3","uid":3042945,"ip_address":"广东","ucode":"7610E71D8FF224","user_header":"https://static001.geekbang.org/account/avatar/00/2e/6e/81/a52fe3f6.jpg","comment_is_top":false,"comment_ctime":1675160462,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100310001,"comment_content":"一.习题练习\nwhile True:\n    string=input(&quot;请用户输入：&quot;)\n    if string==&#39;q&#39; or string==&#39;quit&#39;:\n        print(&quot;程序退出&quot;)\n        break\n    else:\n        print(&quot;程序继续&quot;)\n\n2.执行结果\n请用户输入：good\n程序继续\n请用户输入：3.1415926\n程序继续\n请用户输入：quit\n程序退出","like_count":0},{"had_liked":false,"id":367025,"user_name":"yanyu-xin","can_delete":false,"product_type":"c3","uid":1899757,"ip_address":"广东","ucode":"3AA389F9E4C236","user_header":"","comment_is_top":false,"comment_ctime":1674824844,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"while True :\n    in_word = input(&#39;请输入 (输入q 或 quit 程序退出) : &#39;)\n    if in_word in (&#39;q&#39; , &#39;quit&#39;) :\n        exit()\n    print(&#39;程序继续运行&#39;)\n    pass","like_count":0},{"had_liked":false,"id":366066,"user_name":"聪少 Jeff","can_delete":false,"product_type":"c3","uid":1159983,"ip_address":"广东","ucode":"C791ACA9B47679","user_header":"https://static001.geekbang.org/account/avatar/00/11/b3/2f/d08a1363.jpg","comment_is_top":false,"comment_ctime":1673356017,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"import sys\n\nwhile True:\n    key = input(&quot;请输入指令&quot;)\n    match  key :\n        case &quot;q&quot; | &quot;quit&quot;:\n            print(&quot;程序已经退出&quot;)\n            sys.exit()\n        case _:\n            print(&quot;程序还在进行中&quot;)","like_count":0},{"had_liked":false,"id":365400,"user_name":"江江儿嘛哩哄","can_delete":false,"product_type":"c3","uid":1928117,"ip_address":"浙江","ucode":"E7D6E59551B7F1","user_header":"https://static001.geekbang.org/account/avatar/00/1d/6b/b5/14586a78.jpg","comment_is_top":false,"comment_ctime":1672455755,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"# 调用sys，自动结束程序\nimport sys\n\nwhile True:\n    user_input = input(&quot;退出程序请输入（&#39;q&#39;或者&#39;quit&#39;）：&quot;)\n    if user_input in (&quot;q&quot;, &quot;quit&quot;):\n        print(&quot;程序已退出&quot;)\n        sys.exit()","like_count":0},{"had_liked":false,"id":364968,"user_name":"rOMEo罗密欧","can_delete":false,"product_type":"c3","uid":1074365,"ip_address":"广东","ucode":"9C7BF6E1274D26","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/bd/cbcdc4a6.jpg","comment_is_top":false,"comment_ctime":1671799835,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"while True:\n    user_input = input(&quot;please input your option, press &#39;q&#39; or &#39;quit&#39; to exit:&quot;)\n    if user_input in (&#39;q&#39;, &#39;quit&#39;):\n        print(&quot;Exit.&quot;)\n        break","like_count":0},{"had_liked":false,"id":364453,"user_name":"PatrickL","can_delete":false,"product_type":"c3","uid":1341431,"ip_address":"上海","ucode":"EF0EC18639B9B2","user_header":"https://static001.geekbang.org/account/avatar/00/14/77/f7/11548247.jpg","comment_is_top":false,"comment_ctime":1670992066,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"while True:\n    s = input()\n    if s in (&#39;q&#39;,&#39;quit&#39;):\n        print(&#39;程序已退出。&#39;)\n        break","like_count":0},{"had_liked":false,"id":364034,"user_name":"Matthew","can_delete":false,"product_type":"c3","uid":2843865,"ip_address":"江苏","ucode":"96093089773740","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKSVuNarJuDhBSvHY0giaq6yriceEBKiaKuc04wCYWOuso50noqDexaPJJibJN7PHwvcQppnzsDia1icZkw/132","comment_is_top":false,"comment_ctime":1670465660,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":4,"product_id":100310001,"comment_content":"while True:\n\n    keyboard = input(&quot;请用户输入：&quot;)\n\n    if (keyboard == &quot;q&quot; or keyboard == &quot;quit&quot;):\n        print(&quot;程序正常退出！&quot;)\n        exit(0)\n    else:\n        print(&quot;程序继续运行！&quot;)","like_count":0}]}
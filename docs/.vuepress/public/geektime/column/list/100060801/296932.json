{"id":296932,"title":"08 | Embeddingå®æˆ˜ï¼šå¦‚ä½•ä½¿ç”¨Sparkç”ŸæˆItem2vecå’ŒGraph Embeddingï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ç‹å–†ã€‚</p><p>å‰é¢ä¸¤èŠ‚è¯¾ï¼Œæˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†ä»Item2vecåˆ°Graph Embeddingçš„å‡ ç§ç»å…¸Embeddingæ–¹æ³•ã€‚åœ¨æ‰“å¥½äº†ç†è®ºåŸºç¡€ä¹‹åï¼Œè¿™èŠ‚è¯¾å°±è®©æˆ‘ä»¬ä»ç†è®ºèµ°å‘å®è·µï¼Œçœ‹çœ‹åˆ°åº•<strong>å¦‚ä½•åŸºäºSparkè®­ç»ƒå¾—åˆ°ç‰©å“çš„Embeddingå‘é‡</strong>ã€‚</p><p>é€šè¿‡ç‰¹å¾å·¥ç¨‹éƒ¨åˆ†çš„å®è·µï¼Œæˆ‘æƒ³ä½ å·²ç»å¯¹Sparkè¿™ä¸ªåˆ†å¸ƒå¼è®¡ç®—å¹³å°æœ‰äº†åˆæ­¥çš„è®¤è¯†ã€‚å…¶å®é™¤äº†ä¸€äº›åŸºæœ¬çš„ç‰¹å¾å¤„ç†æ–¹æ³•ï¼Œåœ¨Sparkçš„æœºå™¨å­¦ä¹ åŒ…Spark MLlibä¸­ï¼Œè¿˜åŒ…å«äº†å¤§é‡æˆç†Ÿçš„æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œè¿™å…¶ä¸­å°±åŒ…æ‹¬æˆ‘ä»¬è®²è¿‡çš„Word2vecæ¨¡å‹ã€‚åŸºäºæ­¤ï¼Œè¿™èŠ‚è¯¾æˆ‘ä»¬ä¼šåœ¨Sparkå¹³å°ä¸Šï¼Œå®Œæˆ<strong>Item2vecå’ŒåŸºäºDeep Walkçš„Graph Embedding</strong>çš„è®­ç»ƒã€‚</p><p>å¯¹å…¶ä»–æœºå™¨å­¦ä¹ å¹³å°æœ‰æ‰€äº†è§£çš„åŒå­¦å¯èƒ½ä¼šé—®ï¼ŒTensorFlowã€PyTorchéƒ½æœ‰å¾ˆå¼ºå¤§çš„æ·±åº¦å­¦ä¹ å·¥å…·åŒ…ï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½åˆ©ç”¨è¿™äº›å¹³å°è¿›è¡ŒEmbeddingè®­ç»ƒå‘¢ï¼Ÿå½“ç„¶æ˜¯å¯ä»¥çš„ï¼Œæˆ‘ä»¬ä¹Ÿä¼šåœ¨ä¹‹åçš„è¯¾ç¨‹ä¸­ä»‹ç»TensorFlowå¹¶ç”¨å®ƒå®ç°å¾ˆå¤šæ·±åº¦å­¦ä¹ æ¨èæ¨¡å‹ã€‚</p><p>ä½†æ˜¯Sparkä½œä¸ºä¸€ä¸ªåŸç”Ÿçš„åˆ†å¸ƒå¼è®¡ç®—å¹³å°ï¼Œåœ¨å¤„ç†å¤§æ•°æ®æ–¹é¢è¿˜æ˜¯æ¯”TensorFlowç­‰æ·±åº¦å­¦ä¹ å¹³å°æ›´å…·æœ‰ä¼˜åŠ¿ï¼Œè€Œä¸”ä¸šç•Œçš„å¾ˆå¤šå…¬å¸ä»ç„¶åœ¨ä½¿ç”¨Sparkè®­ç»ƒä¸€äº›ç»“æ„æ¯”è¾ƒç®€å•çš„æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œå†åŠ ä¸Šæˆ‘ä»¬å·²ç»ç”¨Sparkè¿›è¡Œäº†ç‰¹å¾å·¥ç¨‹çš„å¤„ç†ï¼Œæ‰€ä»¥ï¼Œè¿™èŠ‚è¯¾æˆ‘ä»¬ç»§ç»­ä½¿ç”¨Sparkæ¥å®ŒæˆEmbeddingçš„å®è·µã€‚</p><!-- [[[read_end]]] --><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ€ä¹ˆå®ŒæˆItem2vecçš„è®­ç»ƒã€‚</p><h2>Item2vecï¼šåºåˆ—æ•°æ®çš„å¤„ç†</h2><p>æˆ‘ä»¬çŸ¥é“ï¼ŒItem2vecæ˜¯åŸºäºè‡ªç„¶è¯­è¨€å¤„ç†æ¨¡å‹Word2vecæå‡ºçš„ï¼Œæ‰€ä»¥Item2vecè¦å¤„ç†çš„æ˜¯ç±»ä¼¼æ–‡æœ¬å¥å­ã€è§‚å½±åºåˆ—ä¹‹ç±»çš„åºåˆ—æ•°æ®ã€‚é‚£åœ¨çœŸæ­£å¼€å§‹Item2vecçš„è®­ç»ƒä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜è¦å…ˆä¸ºå®ƒå‡†å¤‡å¥½è®­ç»ƒç”¨çš„åºåˆ—æ•°æ®ã€‚åœ¨MovieLensæ•°æ®é›†ä¸­ï¼Œæœ‰ä¸€å¼ å«ratingï¼ˆè¯„åˆ†ï¼‰çš„æ•°æ®è¡¨ï¼Œé‡Œé¢åŒ…å«äº†ç”¨æˆ·å¯¹çœ‹è¿‡ç”µå½±çš„è¯„åˆ†å’Œè¯„åˆ†çš„æ—¶é—´ã€‚æ—¢ç„¶æ—¶é—´å’Œè¯„åˆ†å†å²éƒ½æœ‰äº†ï¼Œæˆ‘ä»¬è¦ç”¨çš„è§‚å½±åºåˆ—è‡ªç„¶å°±å¯ä»¥é€šè¿‡å¤„ç†ratingè¡¨å¾—åˆ°å•¦ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/36/c0/36a2cafdf3858b18a72e4ee8d8202fc0.jpeg?wh=808*1080\" alt=\"\" title=\"å›¾1 movieLensæ•°æ®é›†ä¸­çš„ratingè¯„åˆ†è¡¨\"></p><p>ä¸è¿‡ï¼Œåœ¨ä½¿ç”¨è§‚å½±åºåˆ—ç¼–ç ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜è¦å†æ˜ç¡®ä¸¤ä¸ªé—®é¢˜ã€‚ä¸€æ˜¯MovieLensè¿™ä¸ªratingè¡¨æœ¬è´¨ä¸Šåªæ˜¯ä¸€ä¸ªè¯„åˆ†çš„è¡¨ï¼Œä¸æ˜¯çœŸæ­£çš„â€œè§‚å½±åºåˆ—â€ã€‚ä½†å¯¹ç”¨æˆ·æ¥è¯´ï¼Œå½“ç„¶åªæœ‰çœ‹è¿‡è¿™éƒ¨ç”µå½±æ‰èƒ½å¤Ÿè¯„ä»·å®ƒï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å‡ ä¹å¯ä»¥æŠŠè¯„åˆ†åºåˆ—å½“ä½œæ˜¯è§‚å½±åºåˆ—ã€‚äºŒæ˜¯æˆ‘ä»¬æ˜¯åº”è¯¥æŠŠæ‰€æœ‰ç”µå½±éƒ½æ”¾åˆ°åºåˆ—ä¸­ï¼Œè¿˜æ˜¯åªæ”¾é‚£äº›æ‰“åˆ†æ¯”è¾ƒé«˜çš„å‘¢ï¼Ÿ</p><p>è¿™é‡Œï¼Œæˆ‘æ˜¯å»ºè®®å¯¹è¯„åˆ†åšä¸€ä¸ªè¿‡æ»¤ï¼Œåªæ”¾ç”¨æˆ·æ‰“åˆ†æ¯”è¾ƒé«˜çš„ç”µå½±ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆåšå‘¢ï¼Ÿæˆ‘ä»¬è¦æ€è€ƒä¸€ä¸‹Item2vecè¿™ä¸ªæ¨¡å‹æœ¬è´¨ä¸Šæ˜¯è¦å­¦ä¹ ä»€ä¹ˆã€‚æˆ‘ä»¬æ˜¯å¸Œæœ›Item2vecèƒ½å¤Ÿå­¦ä¹ åˆ°ç‰©å“ä¹‹é—´çš„è¿‘ä¼¼æ€§ã€‚æ—¢ç„¶è¿™æ ·ï¼Œæˆ‘ä»¬å½“ç„¶æ˜¯å¸Œæœ›è¯„åˆ†å¥½çš„ç”µå½±é è¿‘ä¸€äº›ï¼Œè¯„åˆ†å·®çš„ç”µå½±å’Œè¯„åˆ†å¥½çš„ç”µå½±ä¸è¦åœ¨åºåˆ—ä¸­ç»“å¯¹å‡ºç°ã€‚</p><p>å¥½ï¼Œé‚£åˆ°è¿™é‡Œæˆ‘ä»¬æ˜ç¡®äº†æ ·æœ¬å¤„ç†çš„æ€è·¯ï¼Œå°±æ˜¯å¯¹ä¸€ä¸ªç”¨æˆ·æ¥è¯´ï¼Œæˆ‘ä»¬å…ˆè¿‡æ»¤æ‰ä»–è¯„åˆ†ä½çš„ç”µå½±ï¼Œå†æŠŠä»–è¯„è®ºè¿‡çš„ç”µå½±æŒ‰ç…§æ—¶é—´æˆ³æ’åºã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªç”¨æˆ·çš„è§‚å½±åºåˆ—ï¼Œæ‰€æœ‰ç”¨æˆ·çš„è§‚å½±åºåˆ—å°±ç»„æˆäº†Item2vecçš„è®­ç»ƒæ ·æœ¬é›†ã€‚</p><p>é‚£è¿™ä¸ªè¿‡ç¨‹ç©¶ç«Ÿè¯¥æ€ä¹ˆåœ¨Sparkä¸Šå®ç°å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦æ˜ç™½è¿™5ä¸ªå…³é”®æ­¥éª¤å°±å¯ä»¥å®ç°äº†ï¼š</p><ol>\n<li>è¯»å–ratingsåŸå§‹æ•°æ®åˆ°Sparkå¹³å°ï¼›</li>\n<li>ç”¨whereè¯­å¥è¿‡æ»¤è¯„åˆ†ä½çš„è¯„åˆ†è®°å½•ï¼›</li>\n<li>ç”¨groupBy userIdæ“ä½œèšåˆæ¯ä¸ªç”¨æˆ·çš„è¯„åˆ†è®°å½•ï¼ŒDataFrameä¸­æ¯æ¡è®°å½•æ˜¯ä¸€ä¸ªç”¨æˆ·çš„è¯„åˆ†åºåˆ—ï¼›</li>\n<li>å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰æ“ä½œsortUdfï¼Œç”¨å®ƒå®ç°æ¯ä¸ªç”¨æˆ·çš„è¯„åˆ†è®°å½•æŒ‰ç…§æ—¶é—´æˆ³è¿›è¡Œæ’åºï¼›</li>\n<li>æŠŠæ¯ä¸ªç”¨æˆ·çš„è¯„åˆ†è®°å½•å¤„ç†æˆä¸€ä¸ªå­—ç¬¦ä¸²çš„å½¢å¼ï¼Œä¾›åç»­è®­ç»ƒè¿‡ç¨‹ä½¿ç”¨ã€‚</li>\n</ol><p>å…·ä½“çš„å®ç°è¿‡ç¨‹ï¼Œæˆ‘è¿˜æ˜¯å»ºè®®ä½ æ¥å‚è€ƒæˆ‘ä¸‹é¢ç»™å‡ºçš„ä»£ç ï¼Œé‡è¦çš„åœ°æ–¹æˆ‘ä¹Ÿéƒ½åŠ ä¸Šäº†æ³¨é‡Šï¼Œæ–¹ä¾¿ä½ æ¥ç†è§£ã€‚</p><pre><code>def processItemSequence(sparkSession: SparkSession): RDD[Seq[String]] ={\n  //è®¾å®šratingæ•°æ®çš„è·¯å¾„å¹¶ç”¨sparkè½½å…¥æ•°æ®\n  val ratingsResourcesPath = this.getClass.getResource(&quot;/webroot/sampledata/ratings.csv&quot;)\n  val ratingSamples = sparkSession.read.format(&quot;csv&quot;).option(&quot;header&quot;, &quot;true&quot;).load(ratingsResourcesPath.getPath)\n\n\n  //å®ç°ä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„æ“ä½œå‡½æ•°(UDF)ï¼Œç”¨äºä¹‹åçš„æ’åº\n  val sortUdf: UserDefinedFunction = udf((rows: Seq[Row]) =&gt; {\n    rows.map { case Row(movieId: String, timestamp: String) =&gt; (movieId, timestamp) }\n      .sortBy { case (movieId, timestamp) =&gt; timestamp }\n      .map { case (movieId, timestamp) =&gt; movieId }\n  })\n\n\n  //æŠŠåŸå§‹çš„ratingæ•°æ®å¤„ç†æˆåºåˆ—æ•°æ®\n  val userSeq = ratingSamples\n    .where(col(&quot;rating&quot;) &gt;= 3.5)  //è¿‡æ»¤æ‰è¯„åˆ†åœ¨3.5ä¸€ä¸‹çš„è¯„åˆ†è®°å½•\n    .groupBy(&quot;userId&quot;)            //æŒ‰ç…§ç”¨æˆ·idåˆ†ç»„\n    .agg(sortUdf(collect_list(struct(&quot;movieId&quot;, &quot;timestamp&quot;))) as &quot;movieIds&quot;)     //æ¯ä¸ªç”¨æˆ·ç”Ÿæˆä¸€ä¸ªåºåˆ—å¹¶ç”¨åˆšæ‰å®šä¹‰å¥½çš„udfå‡½æ•°æŒ‰ç…§timestampæ’åº\n    .withColumn(&quot;movieIdStr&quot;, array_join(col(&quot;movieIds&quot;), &quot; &quot;))\n                //æŠŠæ‰€æœ‰idè¿æ¥æˆä¸€ä¸ªStringï¼Œæ–¹ä¾¿åç»­word2vecæ¨¡å‹å¤„ç†\n\n\n  //æŠŠåºåˆ—æ•°æ®ç­›é€‰å‡ºæ¥ï¼Œä¸¢æ‰å…¶ä»–è¿‡ç¨‹æ•°æ®\n  userSeq.select(&quot;movieIdStr&quot;).rdd.map(r =&gt; r.getAs[String](&quot;movieIdStr&quot;).split(&quot; &quot;).toSeq)\n</code></pre><p>é€šè¿‡è¿™æ®µä»£ç ç”Ÿæˆç”¨æˆ·çš„è¯„åˆ†åºåˆ—æ ·æœ¬ä¸­ï¼Œæ¯æ¡æ ·æœ¬çš„å½¢å¼éå¸¸ç®€å•ï¼Œå®ƒå°±æ˜¯ç”µå½±IDç»„æˆçš„åºåˆ—ï¼Œæ¯”å¦‚ä¸‹é¢å°±æ˜¯IDä¸º11888ç”¨æˆ·çš„è§‚å½±åºåˆ—ï¼š</p><pre><code>296 380 344 588 593 231 595 318 480 110 253 288 47 364 377 589 410 597 539 39 160 266 350 553 337 186 736 44 158 551 293 780 353 368 858\n\n</code></pre><h2>Item2vecï¼šæ¨¡å‹è®­ç»ƒ</h2><p>è®­ç»ƒæ•°æ®å‡†å¤‡å¥½äº†ï¼Œå°±è¯¥è¿›å…¥æˆ‘ä»¬è¿™å ‚è¯¾çš„é‡å¤´æˆï¼Œæ¨¡å‹è®­ç»ƒäº†ã€‚æ‰‹å†™Item2vecçš„æ•´ä¸ªè®­ç»ƒè¿‡ç¨‹è‚¯å®šæ˜¯ä¸€ä»¶è®©äººæ¯”è¾ƒâ€œå´©æºƒâ€çš„äº‹æƒ…ï¼Œå¥½åœ¨Spark MLlibå·²ç»ä¸ºæˆ‘ä»¬å‡†å¤‡å¥½äº†æ–¹ä¾¿è°ƒç”¨çš„Word2vecæ¨¡å‹æ¥å£ã€‚æˆ‘å…ˆæŠŠè®­ç»ƒçš„ä»£ç è´´åœ¨ä¸‹é¢ï¼Œç„¶åå†å¸¦ä½ ä¸€æ­¥æ­¥åˆ†ææ¯ä¸€è¡Œä»£ç æ˜¯åœ¨åšä»€ä¹ˆã€‚</p><pre><code>def trainItem2vec(samples : RDD[Seq[String]]): Unit ={\n    //è®¾ç½®æ¨¡å‹å‚æ•°\n    val word2vec = new Word2Vec()\n    .setVectorSize(10)\n    .setWindowSize(5)\n    .setNumIterations(10)\n\n\n  //è®­ç»ƒæ¨¡å‹\n  val model = word2vec.fit(samples)\n\n\n  //è®­ç»ƒç»“æŸï¼Œç”¨æ¨¡å‹æŸ¥æ‰¾ä¸item&quot;592&quot;æœ€ç›¸ä¼¼çš„20ä¸ªitem\n  val synonyms = model.findSynonyms(&quot;592&quot;, 20)\n  for((synonym, cosineSimilarity) &lt;- synonyms) {\n    println(s&quot;$synonym $cosineSimilarity&quot;)\n  }\n \n  //ä¿å­˜æ¨¡å‹\n  val embFolderPath = this.getClass.getResource(&quot;/webroot/sampledata/&quot;)\n  val file = new File(embFolderPath.getPath + &quot;embedding.txt&quot;)\n  val bw = new BufferedWriter(new FileWriter(file))\n  var id = 0\n  //ç”¨model.getVectorsè·å–æ‰€æœ‰Embeddingå‘é‡\n  for (movieId &lt;- model.getVectors.keys){\n    id+=1\n    bw.write( movieId + &quot;:&quot; + model.getVectors(movieId).mkString(&quot; &quot;) + &quot;\\n&quot;)\n  }\n  bw.close()\n</code></pre><p>ä»ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒSparkçš„Word2vecæ¨¡å‹è®­ç»ƒè¿‡ç¨‹éå¸¸ç®€å•ï¼Œåªéœ€è¦å››äº”è¡Œä»£ç å°±å¯ä»¥å®Œæˆã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å°±æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºï¼Œä¾æ¬¡ç»™ä½ è§£æå…¶ä¸­3ä¸ªå…³é”®çš„æ­¥éª¤ã€‚</p><p>é¦–å…ˆæ˜¯åˆ›å»ºWord2vecæ¨¡å‹å¹¶è®¾å®šæ¨¡å‹å‚æ•°ã€‚æˆ‘ä»¬è¦æ¸…æ¥šWord2vecæ¨¡å‹çš„å…³é”®å‚æ•°æœ‰3ä¸ªï¼Œåˆ†åˆ«æ˜¯setVectorSizeã€setWindowSizeå’ŒsetNumIterationsã€‚å…¶ä¸­ï¼ŒsetVectorSizeç”¨äºè®¾å®šç”Ÿæˆçš„Embeddingå‘é‡çš„ç»´åº¦ï¼ŒsetWindowSizeç”¨äºè®¾å®šåœ¨åºåˆ—æ•°æ®ä¸Šé‡‡æ ·çš„æ»‘åŠ¨çª—å£å¤§å°ï¼ŒsetNumIterationsç”¨äºè®¾å®šè®­ç»ƒæ—¶çš„è¿­ä»£æ¬¡æ•°ã€‚è¿™äº›è¶…å‚æ•°çš„å…·ä½“é€‰æ‹©å°±è¦æ ¹æ®å®é™…çš„è®­ç»ƒæ•ˆæœæ¥åšè°ƒæ•´äº†ã€‚</p><p>å…¶æ¬¡ï¼Œæ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹éå¸¸ç®€å•ï¼Œå°±æ˜¯è°ƒç”¨æ¨¡å‹çš„fitæ¥å£ã€‚è®­ç»ƒå®Œæˆåï¼Œæ¨¡å‹ä¼šè¿”å›ä¸€ä¸ªåŒ…å«äº†æ‰€æœ‰æ¨¡å‹å‚æ•°çš„å¯¹è±¡ã€‚</p><p>æœ€åä¸€æ­¥å°±æ˜¯æå–å’Œä¿å­˜Embeddingå‘é‡ï¼Œæˆ‘ä»¬å¯ä»¥ä»æœ€åçš„å‡ è¡Œä»£ç ä¸­çœ‹åˆ°ï¼Œè°ƒç”¨getVectorsæ¥å£å°±å¯ä»¥æå–å‡ºæŸä¸ªç”µå½±IDå¯¹åº”çš„Embeddingå‘é‡ï¼Œä¹‹åå°±å¯ä»¥æŠŠå®ƒä»¬ä¿å­˜åˆ°æ–‡ä»¶æˆ–è€…å…¶ä»–æ•°æ®åº“ä¸­ï¼Œä¾›å…¶ä»–æ¨¡å—ä½¿ç”¨äº†ã€‚</p><p>åœ¨æ¨¡å‹è®­ç»ƒå®Œæˆåï¼Œæˆ‘ä»¬å†æ¥éªŒè¯ä¸€ä¸‹è®­ç»ƒçš„ç»“æœæ˜¯ä¸æ˜¯åˆç†ã€‚æˆ‘åœ¨ä»£ç ä¸­æ±‚å–äº†IDä¸º592ç”µå½±çš„ç›¸ä¼¼ç”µå½±ã€‚è¿™éƒ¨ç”µå½±å«Batmanè™è ä¾ ï¼Œæˆ‘æŠŠé€šè¿‡Item2vecå¾—åˆ°ç›¸ä¼¼ç”µå½±æ”¾åˆ°äº†ä¸‹é¢ï¼Œä½ å¯ä»¥ä»ç›´è§‚ä¸Šåˆ¤æ–­ä¸€ä¸‹è¿™ä¸ªç»“æœæ˜¯ä¸æ˜¯åˆç†ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/3a/10/3abdb9b411615487031bf03c07bf5010.jpeg?wh=1920*1080\" alt=\"\" title=\"å›¾2 é€šè¿‡Item2vecæ–¹æ³•æ‰¾å‡ºçš„ç”µå½±Batmançš„ç›¸ä¼¼ç”µå½±\"></p><p>å½“ç„¶ï¼Œå› ä¸ºSparrow Recsysåœ¨æ¼”ç¤ºè¿‡ç¨‹ä¸­ä»…ä½¿ç”¨äº†1000éƒ¨ç”µå½±å’Œéƒ¨åˆ†ç”¨æˆ·è¯„è®ºé›†ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¾—å‡ºçš„ç»“æœä¸ä¸€å®šéå¸¸å‡†ç¡®ï¼Œå¦‚æœä½ æœ‰å…´è¶£ä¼˜åŒ–è¿™ä¸ªç»“æœï¼Œå¯ä»¥å»movieLensä¸‹è½½å…¨éƒ¨æ ·æœ¬è¿›è¡Œé‡æ–°è®­ç»ƒã€‚</p><h2>Graph Embeddingï¼šæ•°æ®å‡†å¤‡</h2><p>åˆ°è¿™é‡Œï¼Œæˆ‘ç›¸ä¿¡ä½ å·²ç»ç†Ÿæ‚‰äº†Item2vecæ–¹æ³•çš„å®ç°ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥è¯´è¯´åŸºäºéšæœºæ¸¸èµ°çš„Graph Embeddingæ–¹æ³•ï¼Œçœ‹çœ‹å¦‚ä½•åˆ©ç”¨Sparkæ¥å®ç°å®ƒã€‚è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹©Deep Walkæ–¹æ³•è¿›è¡Œå®ç°ã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/1f/ed/1f28172c62e1b5991644cf62453fd0ed.jpeg?wh=1920*691\" alt=\"\" title=\"å›¾3 Deep Walkçš„ç®—æ³•æµç¨‹\"></p><p>åœ¨Deep Walkæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å‡†å¤‡çš„æœ€å…³é”®æ•°æ®æ˜¯ç‰©å“ä¹‹é—´çš„è½¬ç§»æ¦‚ç‡çŸ©é˜µã€‚å›¾3æ˜¯Deep Walkçš„ç®—æ³•æµç¨‹å›¾ï¼Œè½¬ç§»æ¦‚ç‡çŸ©é˜µè¡¨è¾¾äº†å›¾3(b)ä¸­çš„ç‰©å“å…³ç³»å›¾ï¼Œå®ƒå®šä¹‰äº†éšæœºæ¸¸èµ°è¿‡ç¨‹ä¸­ï¼Œä»ç‰©å“Aåˆ°ç‰©å“Bçš„è·³è½¬æ¦‚ç‡ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹å¦‚ä½•åˆ©ç”¨Sparkç”Ÿæˆè¿™ä¸ªè½¬ç§»æ¦‚ç‡çŸ©é˜µã€‚</p><pre><code>//samples è¾“å…¥çš„è§‚å½±åºåˆ—æ ·æœ¬é›†\ndef graphEmb(samples : RDD[Seq[String]], sparkSession: SparkSession): Unit ={\n  //é€šè¿‡flatMapæ“ä½œæŠŠè§‚å½±åºåˆ—æ‰“ç¢æˆä¸€ä¸ªä¸ªå½±ç‰‡å¯¹\n  val pairSamples = samples.flatMap[String]( sample =&gt; {\n    var pairSeq = Seq[String]()\n    var previousItem:String = null\n    sample.foreach((element:String) =&gt; {\n      if(previousItem != null){\n        pairSeq = pairSeq :+ (previousItem + &quot;:&quot; + element)\n      }\n      previousItem = element\n    })\n    pairSeq\n  })\n  //ç»Ÿè®¡å½±ç‰‡å¯¹çš„æ•°é‡\n  val pairCount = pairSamples.countByValue()\n  //è½¬ç§»æ¦‚ç‡çŸ©é˜µçš„åŒå±‚Mapæ•°æ®ç»“æ„\n  val transferMatrix = scala.collection.mutable.Map[String, scala.collection.mutable.Map[String, Long]]()\n  val itemCount = scala.collection.mutable.Map[String, Long]()\n\n\n  //æ±‚å–è½¬ç§»æ¦‚ç‡çŸ©é˜µ\n  pairCount.foreach( pair =&gt; {\n    val pairItems = pair._1.split(&quot;:&quot;)\n    val count = pair._2\n    lognumber = lognumber + 1\n    println(lognumber, pair._1)\n\n\n    if (pairItems.length == 2){\n      val item1 = pairItems.apply(0)\n      val item2 = pairItems.apply(1)\n      if(!transferMatrix.contains(pairItems.apply(0))){\n        transferMatrix(item1) = scala.collection.mutable.Map[String, Long]()\n      }\n\n\n      transferMatrix(item1)(item2) = count\n      itemCount(item1) = itemCount.getOrElse[Long](item1, 0) + count\n    }\n  \n\n</code></pre><p>ç”Ÿæˆè½¬ç§»æ¦‚ç‡çŸ©é˜µçš„å‡½æ•°è¾“å…¥æ˜¯åœ¨è®­ç»ƒItem2vecæ—¶å¤„ç†å¥½çš„è§‚å½±åºåˆ—æ•°æ®ã€‚è¾“å‡ºçš„æ˜¯è½¬ç§»æ¦‚ç‡çŸ©é˜µï¼Œç”±äºè½¬ç§»æ¦‚ç‡çŸ©é˜µæ¯”è¾ƒç¨€ç–ï¼Œå› æ­¤æˆ‘æ²¡æœ‰é‡‡ç”¨æ¯”è¾ƒæµªè´¹å†…å­˜çš„äºŒç»´æ•°ç»„çš„æ–¹æ³•ï¼Œè€Œæ˜¯é‡‡ç”¨äº†ä¸€ä¸ªåŒå±‚Mapçš„ç»“æ„å»å®ç°å®ƒã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬è¦å¾—åˆ°ç‰©å“Aåˆ°ç‰©å“Bçš„è½¬ç§»æ¦‚ç‡ï¼Œé‚£ä¹ˆtransferMatrix(itemA)(itemB)å°±æ˜¯è¿™ä¸€è½¬ç§»æ¦‚ç‡ã€‚</p><p>åœ¨æ±‚å–è½¬ç§»æ¦‚ç‡çŸ©é˜µçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å…ˆåˆ©ç”¨Sparkçš„flatMapæ“ä½œæŠŠè§‚å½±åºåˆ—â€œæ‰“ç¢â€æˆä¸€ä¸ªä¸ªå½±ç‰‡å¯¹ï¼Œå†åˆ©ç”¨countByValueæ“ä½œç»Ÿè®¡è¿™äº›å½±ç‰‡å¯¹çš„æ•°é‡ï¼Œæœ€åæ ¹æ®è¿™äº›å½±ç‰‡å¯¹çš„æ•°é‡æ±‚å–æ¯ä¸¤ä¸ªå½±ç‰‡ä¹‹é—´çš„è½¬ç§»æ¦‚ç‡ã€‚</p><p>åœ¨è·å¾—äº†ç‰©å“ä¹‹é—´çš„è½¬ç§»æ¦‚ç‡çŸ©é˜µä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›å…¥å›¾3(c)çš„æ­¥éª¤ï¼Œè¿›è¡Œéšæœºæ¸¸èµ°é‡‡æ ·äº†ã€‚</p><h2>Graph Embeddingï¼šéšæœºæ¸¸èµ°é‡‡æ ·è¿‡ç¨‹</h2><p>éšæœºæ¸¸èµ°é‡‡æ ·çš„è¿‡ç¨‹æ˜¯åˆ©ç”¨è½¬ç§»æ¦‚ç‡çŸ©é˜µç”Ÿæˆæ–°çš„åºåˆ—æ ·æœ¬çš„è¿‡ç¨‹ã€‚è¿™æ€ä¹ˆç†è§£å‘¢ï¼Ÿé¦–å…ˆï¼Œæˆ‘ä»¬è¦æ ¹æ®ç‰©å“å‡ºç°æ¬¡æ•°çš„åˆ†å¸ƒéšæœºé€‰æ‹©ä¸€ä¸ªèµ·å§‹ç‰©å“ï¼Œä¹‹åå°±è¿›å…¥éšæœºæ¸¸èµ°çš„è¿‡ç¨‹ã€‚åœ¨æ¯æ¬¡æ¸¸èµ°æ—¶ï¼Œæˆ‘ä»¬æ ¹æ®è½¬ç§»æ¦‚ç‡çŸ©é˜µæŸ¥æ‰¾åˆ°ä¸¤ä¸ªç‰©å“ä¹‹é—´çš„è½¬ç§»æ¦‚ç‡ï¼Œç„¶åæ ¹æ®è¿™ä¸ªæ¦‚ç‡è¿›è¡Œè·³è½¬ã€‚æ¯”å¦‚å½“å‰çš„ç‰©å“æ˜¯Aï¼Œä»è½¬ç§»æ¦‚ç‡çŸ©é˜µä¸­æŸ¥æ‰¾åˆ°Aå¯èƒ½è·³è½¬åˆ°ç‰©å“Bæˆ–ç‰©å“Cï¼Œè½¬ç§»æ¦‚ç‡åˆ†åˆ«æ˜¯0.4å’Œ0.6ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æŒ‰ç…§è¿™ä¸ªæ¦‚ç‡æ¥éšæœºæ¸¸èµ°åˆ°Bæˆ–Cï¼Œä¾æ¬¡è¿›è¡Œä¸‹å»ï¼Œç›´åˆ°æ ·æœ¬çš„é•¿åº¦è¾¾åˆ°äº†æˆ‘ä»¬çš„è¦æ±‚ã€‚</p><p>æ ¹æ®ä¸Šé¢éšæœºæ¸¸èµ°çš„è¿‡ç¨‹ï¼Œæˆ‘ç”¨Scalaè¿›è¡Œäº†å®ç°ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹é¢çš„ä»£ç ï¼Œåœ¨å…³é”®çš„ä½ç½®æˆ‘ä¹Ÿç»™å‡ºäº†æ³¨é‡Šï¼š</p><pre><code>//éšæœºæ¸¸èµ°é‡‡æ ·å‡½æ•°\n//transferMatrix è½¬ç§»æ¦‚ç‡çŸ©é˜µ\n//itemCount ç‰©å“å‡ºç°æ¬¡æ•°çš„åˆ†å¸ƒ\ndef randomWalk(transferMatrix : scala.collection.mutable.Map[String, scala.collection.mutable.Map[String, Long]], itemCount : scala.collection.mutable.Map[String, Long]): Seq[Seq[String]] ={\n  //æ ·æœ¬çš„æ•°é‡\n  val sampleCount = 20000\n  //æ¯ä¸ªæ ·æœ¬çš„é•¿åº¦\n  val sampleLength = 10\n  val samples = scala.collection.mutable.ListBuffer[Seq[String]]()\n  \n  //ç‰©å“å‡ºç°çš„æ€»æ¬¡æ•°\n  var itemTotalCount:Long = 0\n  for ((k,v) &lt;- itemCount) itemTotalCount += v\n\n\n  //éšæœºæ¸¸èµ°sampleCountæ¬¡ï¼Œç”ŸæˆsampleCountä¸ªåºåˆ—æ ·æœ¬\n  for( w &lt;- 1 to sampleCount) {\n    samples.append(oneRandomWalk(transferMatrix, itemCount, itemTotalCount, sampleLength))\n  }\n\n\n  Seq(samples.toList : _*)\n}\n\n\n//é€šè¿‡éšæœºæ¸¸èµ°äº§ç”Ÿä¸€ä¸ªæ ·æœ¬çš„è¿‡ç¨‹\n//transferMatrix è½¬ç§»æ¦‚ç‡çŸ©é˜µ\n//itemCount ç‰©å“å‡ºç°æ¬¡æ•°çš„åˆ†å¸ƒ\n//itemTotalCount ç‰©å“å‡ºç°æ€»æ¬¡æ•°\n//sampleLength æ¯ä¸ªæ ·æœ¬çš„é•¿åº¦\ndef oneRandomWalk(transferMatrix : scala.collection.mutable.Map[String, scala.collection.mutable.Map[String, Long]], itemCount : scala.collection.mutable.Map[String, Long], itemTotalCount:Long, sampleLength:Int): Seq[String] ={\n  val sample = scala.collection.mutable.ListBuffer[String]()\n\n\n  //å†³å®šèµ·å§‹ç‚¹\n  val randomDouble = Random.nextDouble()\n  var firstElement = &quot;&quot;\n  var culCount:Long = 0\n  //æ ¹æ®ç‰©å“å‡ºç°çš„æ¦‚ç‡ï¼Œéšæœºå†³å®šèµ·å§‹ç‚¹\n  breakable { for ((item, count) &lt;- itemCount) {\n    culCount += count\n    if (culCount &gt;= randomDouble * itemTotalCount){\n      firstElement = item\n      break\n    }\n  }}\n\n\n  sample.append(firstElement)\n  var curElement = firstElement\n  //é€šè¿‡éšæœºæ¸¸èµ°äº§ç”Ÿé•¿åº¦ä¸ºsampleLengthçš„æ ·æœ¬\n  breakable { for( w &lt;- 1 until sampleLength) {\n    if (!itemCount.contains(curElement) || !transferMatrix.contains(curElement)){\n      break\n    }\n    //ä»curElementåˆ°ä¸‹ä¸€ä¸ªè·³çš„è½¬ç§»æ¦‚ç‡å‘é‡\n    val probDistribution = transferMatrix(curElement)\n    val curCount = itemCount(curElement)\n    val randomDouble = Random.nextDouble()\n    var culCount:Long = 0\n    //æ ¹æ®è½¬ç§»æ¦‚ç‡å‘é‡éšæœºå†³å®šä¸‹ä¸€è·³çš„ç‰©å“\n    breakable { for ((item, count) &lt;- probDistribution) {\n      culCount += count\n      if (culCount &gt;= randomDouble * curCount){\n        curElement = item\n        break\n      }\n    }}\n    sample.append(curElement)\n  }}\n  Seq(sample.toList : _\n\n</code></pre><p>é€šè¿‡éšæœºæ¸¸èµ°äº§ç”Ÿäº†æˆ‘ä»¬è®­ç»ƒæ‰€éœ€çš„sampleCountä¸ªæ ·æœ¬ä¹‹åï¼Œä¸‹é¢çš„è¿‡ç¨‹å°±å’ŒItem2vecçš„è¿‡ç¨‹å®Œå…¨ä¸€è‡´äº†ï¼Œå°±æ˜¯æŠŠè¿™äº›è®­ç»ƒæ ·æœ¬è¾“å…¥åˆ°Word2vecæ¨¡å‹ä¸­ï¼Œå®Œæˆæœ€ç»ˆGraph Embeddingçš„ç”Ÿæˆã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡åŒæ ·çš„æ–¹æ³•å»éªŒè¯ä¸€ä¸‹é€šè¿‡Graph Embeddingæ–¹æ³•ç”Ÿæˆçš„Embeddingçš„æ•ˆæœã€‚</p><h2>å°ç»“</h2><p>è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬è¿ç”¨Sparkå®ç°äº†ç»å…¸çš„Embeddingæ–¹æ³•Item2vecå’ŒDeep Walkã€‚å®ƒä»¬çš„ç†è®ºçŸ¥è¯†ä½ åº”è¯¥å·²ç»åœ¨å‰ä¸¤èŠ‚è¯¾çš„å­¦ä¹ ä¸­æŒæ¡äº†ï¼Œè¿™é‡Œæˆ‘å°±æ€»ç»“ä¸€ä¸‹å®è·µä¸­åº”è¯¥æ³¨æ„çš„å‡ ä¸ªè¦ç‚¹ã€‚</p><p>å…³äºItem2vecçš„Sparkå®ç°ï¼Œä½ åº”è¯¥æ³¨æ„çš„æ˜¯è®­ç»ƒWord2vecæ¨¡å‹çš„å‡ ä¸ªå‚æ•°VectorSizeã€WindowSizeã€NumIterationsç­‰ï¼ŒçŸ¥é“å®ƒä»¬å„è‡ªçš„ä½œç”¨ã€‚å®ƒä»¬åˆ†åˆ«æ˜¯ç”¨æ¥è®¾ç½®Embeddingå‘é‡çš„ç»´åº¦ï¼Œåœ¨åºåˆ—æ•°æ®ä¸Šé‡‡æ ·çš„æ»‘åŠ¨çª—å£å¤§å°ï¼Œä»¥åŠè®­ç»ƒæ—¶çš„è¿­ä»£æ¬¡æ•°ã€‚</p><p>è€Œåœ¨Deep Walkçš„å®ç°ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥ç€é‡ç†è§£çš„æ˜¯ï¼Œç”Ÿæˆç‰©å“é—´çš„è½¬ç§»æ¦‚ç‡çŸ©é˜µçš„æ–¹æ³•ï¼Œä»¥åŠé€šè¿‡éšæœºæ¸¸èµ°ç”Ÿæˆè®­ç»ƒæ ·æœ¬è¿‡ç¨‹ã€‚</p><p>æœ€åï¼Œæˆ‘è¿˜æ˜¯æŠŠè¿™èŠ‚è¯¾çš„é‡ç‚¹çŸ¥è¯†æ€»ç»“åœ¨äº†ä¸€å¼ è¡¨æ ¼ä¸­ï¼Œå¸Œæœ›èƒ½å¸®åŠ©ä½ è¿›ä¸€æ­¥å·©å›ºã€‚</p><p><img src=\"https://static001.geekbang.org/resource/image/02/a7/02860ed1170d9376a65737df1294faa7.jpeg?wh=1920*847\" alt=\"\"></p><p>è¿™é‡Œï¼Œæˆ‘è¿˜æƒ³å†å¤šè¯´å‡ å¥ã€‚è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬ç»ˆäºçœ‹åˆ°äº†æ·±åº¦å­¦ä¹ æ¨¡å‹çš„äº§å‡ºï¼Œæˆ‘ä»¬ç”¨Embeddingæ–¹æ³•è®¡ç®—å‡ºäº†ç›¸ä¼¼ç”µå½±ï¼å¯¹äºæˆ‘ä»¬å­¦ä¹ è¿™é—¨è¯¾æ¥è¯´ï¼Œå®ƒå®Œå…¨å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªé‡Œç¨‹ç¢‘å¼çš„è¿›æ­¥ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å¸Œæœ›ä½ èƒ½æ€»ç»“å®æˆ˜ä¸­çš„ç»éªŒï¼Œè·Ÿæˆ‘ç»§ç»­åŒè¡Œï¼Œä¸€èµ·è¿æ¥æœªæ¥æ›´å¤šçš„æŒ‘æˆ˜ï¼</p><h2>è¯¾åæ€è€ƒ</h2><p>ä¸ŠèŠ‚è¯¾ï¼Œæˆ‘ä»¬åœ¨è®²Graph Embeddingçš„æ—¶å€™ï¼Œè¿˜ä»‹ç»äº†Node2vecæ–¹æ³•ã€‚ä½ èƒ½å°è¯•åœ¨Deep Walkä»£ç çš„åŸºç¡€ä¸Šå®ç°Node2vecå—ï¼Ÿè¿™å…¶ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥ç€é‡æ”¹å˜å“ªéƒ¨åˆ†çš„ä»£ç å‘¢ï¼Ÿ</p><p>æ¬¢è¿æŠŠä½ çš„æ€è€ƒå’Œç­”æ¡ˆå†™åœ¨ç•™è¨€åŒºï¼Œå¦‚æœä½ æŒæ¡äº†Embeddingçš„å®æˆ˜æ–¹æ³•ï¼Œä¹Ÿä¸å¦¨æŠŠå®ƒåˆ†äº«ç»™ä½ çš„æœ‹å‹å§ï¼Œæˆ‘ä»¬ä¸‹èŠ‚è¯¾è§ï¼</p>","comments":[{"had_liked":false,"id":254782,"user_name":"ä½ ç¬‘èµ·æ¥çœŸå¥½çœ‹","can_delete":false,"product_type":"c1","uid":1565857,"ip_address":"","ucode":"0A51EC1CA4BC1C","user_header":"https://static001.geekbang.org/account/avatar/00/17/e4/a1/2f5b9764.jpg","comment_is_top":false,"comment_ctime":1603186115,"is_pvip":false,"replies":[{"id":"92936","content":"éå¸¸éå¸¸å¥½çš„é—®é¢˜ã€‚ç»†å¿ƒçš„è¯å¯ä»¥å‘ç°transitionMatrixAndItemDisè¿™ä¸ªçŸ©é˜µå®Œå…¨æ˜¯åœ¨driverç«¯ã€‚<br><br>éš¾ç‚¹åœ¨äºå¦‚ä½•åˆ†å¸ƒå¼åœ°å¤„ç†è½¬ç§»æ¦‚ç‡çŸ©é˜µï¼Œè§£å†³æ–¹æ¡ˆç¡®å®æ˜¯ä¸šç•Œçš„éš¾ç‚¹ã€‚å¦å¤–åœ¨éšæœºæ¸¸èµ°çš„æ—¶å€™å› ä¸ºè‚¯å®šè¦è®¿é—®å…¨éƒ¨çš„è½¬ç§»çŸ©é˜µï¼Œæ‰€ä»¥ç†è®ºä¸Šæ¥è®²éœ€è¦æŠŠè¿™ä¸ªçŸ©é˜µbroadcaståˆ°æ‰€æœ‰èŠ‚ç‚¹ï¼Œè¿™åˆæ˜¯ä¸€ä¸ªå®¹æ˜“oomçš„é—®é¢˜ã€‚<br><br>æœ‰å¥½çš„æ€è·¯å¯ä»¥æ¬¢è¿åˆ†äº«ï¼ä½†ä¸æ˜¯ä¸€ä¸ªçŸ­æ—¶é—´èƒ½å¤Ÿè§£å†³çš„ä¸šç•Œéš¾é¢˜ã€‚","user_name":"ä½œè€…å›å¤","comment_id":254782,"uid":"1662192","ip_address":"","utype":1,"ctime":1603220082,"user_name_real":"ç‹å–†"}],"discussion_count":5,"race_medal":0,"score":"117567303107","product_id":100060801,"comment_content":"transitionMatrixAndItemDis åœ¨ç”Ÿæˆä¸­è¿™æ ·å®šä¹‰çš„è¯ï¼Œä¼šä¸ä¼šé€ æˆdirverç«¯oomï¼Ÿ","like_count":27,"discussions":[{"author":{"id":2202096,"avatar":"https://static001.geekbang.org/account/avatar/00/21/99/f0/ba3c0208.jpg","nickname":"Geek_63ee39","note":"","ucode":"A41379ADD76480","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":315984,"discussion_content":"æ³¨æ„åˆ°Spark GraphXå®ç°äº†PageRankçš„åŠŸèƒ½ï¼Œè€Œå®ç°PageRankçš„è¿‡ç¨‹ä¹Ÿéœ€è¦éšæœºæ¸¸èµ°ï¼Œè¿™é‡Œæ˜¯å¦å¯ä»¥å‚è€ƒSpark GraphXçš„PageRankå»å®ç°å‘¢ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1603342563,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":2202096,"avatar":"https://static001.geekbang.org/account/avatar/00/21/99/f0/ba3c0208.jpg","nickname":"Geek_63ee39","note":"","ucode":"A41379ADD76480","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":317862,"discussion_content":"ç†è®ºä¸Šå¯è¡Œï¼Œæœ‰å…´è¶£çš„è¯å¯ä»¥ç ”ç©¶ä¸€ä¸‹Spark GraphXçš„æºç ï¼Œæ¬¢è¿åˆ†äº«è¿›å±•ï¼","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1603609410,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":315984,"ip_address":""},"score":317862,"extra":""},{"author":{"id":1036428,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/d0/8c/d058d6c3.jpg","nickname":"loode_","note":"","ucode":"803EEC4937818F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2202096,"avatar":"https://static001.geekbang.org/account/avatar/00/21/99/f0/ba3c0208.jpg","nickname":"Geek_63ee39","note":"","ucode":"A41379ADD76480","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":355611,"discussion_content":"æœŸå¾…å¤§ä½¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615460413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":315984,"ip_address":""},"score":355611,"extra":""}]},{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507510,"discussion_content":"éå¸¸éå¸¸å¥½çš„é—®é¢˜ã€‚ç»†å¿ƒçš„è¯å¯ä»¥å‘ç°transitionMatrixAndItemDisè¿™ä¸ªçŸ©é˜µå®Œå…¨æ˜¯åœ¨driverç«¯ã€‚\n\néš¾ç‚¹åœ¨äºå¦‚ä½•åˆ†å¸ƒå¼åœ°å¤„ç†è½¬ç§»æ¦‚ç‡çŸ©é˜µï¼Œè§£å†³æ–¹æ¡ˆç¡®å®æ˜¯ä¸šç•Œçš„éš¾ç‚¹ã€‚å¦å¤–åœ¨éšæœºæ¸¸èµ°çš„æ—¶å€™å› ä¸ºè‚¯å®šè¦è®¿é—®å…¨éƒ¨çš„è½¬ç§»çŸ©é˜µï¼Œæ‰€ä»¥ç†è®ºä¸Šæ¥è®²éœ€è¦æŠŠè¿™ä¸ªçŸ©é˜µbroadcaståˆ°æ‰€æœ‰èŠ‚ç‚¹ï¼Œè¿™åˆæ˜¯ä¸€ä¸ªå®¹æ˜“oomçš„é—®é¢˜ã€‚\n\næœ‰å¥½çš„æ€è·¯å¯ä»¥æ¬¢è¿åˆ†äº«ï¼ä½†ä¸æ˜¯ä¸€ä¸ªçŸ­æ—¶é—´èƒ½å¤Ÿè§£å†³çš„ä¸šç•Œéš¾é¢˜ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603220082,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2159285,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIZCX6TPTqnEcG5piaBqtac9GjUuaYILZCjAAW0slkicu68cyeKLGw68TzSJK3LOGMMIpwPylhxEEibg/132","nickname":"InfoQ_c5e776ea6a50","note":"","ucode":"6D70BE7B2B1D81","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338808,"discussion_content":"å“¥ä»¬ï¼Œæœ‰æ²¡æœ‰å¥½çš„å·¥ç¨‹æ—¶é—´ï¼Œå¤„ç†è¿™ä¸ªè½¬ç§»æ¦‚ç‡çŸ©é˜µã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609385608,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":257818,"user_name":"fsc2016","can_delete":false,"product_type":"c1","uid":1255585,"ip_address":"","ucode":"5480F05703A974","user_header":"https://static001.geekbang.org/account/avatar/00/13/28/a1/fd2bfc25.jpg","comment_is_top":false,"comment_ctime":1604140090,"is_pvip":false,"replies":[{"id":"93873","content":"éå¸¸å¥½çš„è§‚å¯Ÿï¼Œæ¨èæ‰€æœ‰çš„åŒå­¦éƒ½èƒ½å¥½å¥½è§‚å¯Ÿæ•°æ®å¹¶å¾—å‡ºè¿™æ ·æœ‰ç”¨çš„ç»“è®ºã€‚<br>ç¡®å®æ˜¯è¿™æ ·ï¼Œç”±äºä¸€äº›é•¿å°¾ï¼Œå†·é—¨ç”µå½±çš„å­˜åœ¨ï¼ˆæ¯•ç«Ÿçƒ­é—¨ç”µå½±è¿˜æ˜¯æå°‘æ•°çš„ï¼‰ï¼Œå¯¼è‡´æ¦‚ç‡è½¬ç§»çŸ©é˜µä¸­æ¸¸èµ°åˆ°å†·é—¨ç”µå½±çš„æ¦‚ç‡å…¶å®éå¸¸å°ï¼Œæ‰€ä»¥åœ¨æ¸¸èµ°æ¬¡æ•°æ¯”è¾ƒå°çš„æ—¶å€™ï¼Œå¾ˆå®¹æ˜“è¦†ç›–ä¸åˆ°ã€‚<br><br><br>å› ä¸ºè¯¾ç¨‹çš„ç¤ºä¾‹ç¨‹åºé‡‡ç”¨äº†æ¯”è¾ƒå°çš„é‡‡æ ·æ¬¡æ•°å’Œæ¸¸èµ°é•¿åº¦ï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜æ¯”è¾ƒä¸¥é‡ï¼Œå·¥ä½œä¸­è‚¯å®šè¦åœ¨ç®—åŠ›å…è®¸çš„å‰æä¸‹ï¼Œå°½é‡å¢åŠ é‡‡æ ·æ¬¡æ•°ï¼Œé€‚å½“å¢åŠ æ¸¸èµ°é•¿åº¦ï¼Œæ¥ä¿è¯ç”Ÿæˆç»“æœçš„ç¨³å®šæ€§å’Œè¦†ç›–ç‡ã€‚","user_name":"ä½œè€…å›å¤","comment_id":257818,"uid":"1662192","ip_address":"","utype":1,"ctime":1604185240,"user_name_real":"ç‹å–†"}],"discussion_count":3,"race_medal":0,"score":"100388387898","product_id":100060801,"comment_content":"è€å¸ˆï¼Œç­›é€‰å‡ºæ¥çš„é«˜åˆ†ç”µå½±æœ‰900å¤šéƒ¨ï¼Œéšæœºæ¸¸èµ°å‡ºæ¥çš„åºåˆ—embddingåï¼Œåªæœ‰500å¤šéƒ¨ï¼Œè¿™åº”è¯¥å’Œåºåˆ—æ•°é‡ï¼Œåºåˆ—é•¿åº¦æœ‰å…³ï¼Œæ¯”å¦‚åºåˆ—æ•°é‡ä¸å¤Ÿï¼Œå¯¼è‡´æ²¡æœ‰è¦†ç›–åˆ°å…¨éƒ¨é«˜åˆ†ç”µå½±ã€‚å®é™…å·¥ä½œä¸­ï¼Œåƒåºåˆ—æ•°é‡ï¼Œåºåˆ—é•¿åº¦æ˜¯ä¸æ˜¯è¦ç»è¿‡ç­›é€‰ï¼Œæ¥ä¿è¯æ‰€æœ‰iteméƒ½ä¼šè¢«embddingï¼Ÿ","like_count":23,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508460,"discussion_content":"éå¸¸å¥½çš„è§‚å¯Ÿï¼Œæ¨èæ‰€æœ‰çš„åŒå­¦éƒ½èƒ½å¥½å¥½è§‚å¯Ÿæ•°æ®å¹¶å¾—å‡ºè¿™æ ·æœ‰ç”¨çš„ç»“è®ºã€‚\nç¡®å®æ˜¯è¿™æ ·ï¼Œç”±äºä¸€äº›é•¿å°¾ï¼Œå†·é—¨ç”µå½±çš„å­˜åœ¨ï¼ˆæ¯•ç«Ÿçƒ­é—¨ç”µå½±è¿˜æ˜¯æå°‘æ•°çš„ï¼‰ï¼Œå¯¼è‡´æ¦‚ç‡è½¬ç§»çŸ©é˜µä¸­æ¸¸èµ°åˆ°å†·é—¨ç”µå½±çš„æ¦‚ç‡å…¶å®éå¸¸å°ï¼Œæ‰€ä»¥åœ¨æ¸¸èµ°æ¬¡æ•°æ¯”è¾ƒå°çš„æ—¶å€™ï¼Œå¾ˆå®¹æ˜“è¦†ç›–ä¸åˆ°ã€‚\n\n\nå› ä¸ºè¯¾ç¨‹çš„ç¤ºä¾‹ç¨‹åºé‡‡ç”¨äº†æ¯”è¾ƒå°çš„é‡‡æ ·æ¬¡æ•°å’Œæ¸¸èµ°é•¿åº¦ï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜æ¯”è¾ƒä¸¥é‡ï¼Œå·¥ä½œä¸­è‚¯å®šè¦åœ¨ç®—åŠ›å…è®¸çš„å‰æä¸‹ï¼Œå°½é‡å¢åŠ é‡‡æ ·æ¬¡æ•°ï¼Œé€‚å½“å¢åŠ æ¸¸èµ°é•¿åº¦ï¼Œæ¥ä¿è¯ç”Ÿæˆç»“æœçš„ç¨³å®šæ€§å’Œè¦†ç›–ç‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604185240,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2384780,"avatar":"","nickname":"UNA","note":"","ucode":"4E289068D2AF92","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339966,"discussion_content":"å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œå¯ä¸å¯ä»¥ç†è§£ä¸ºéšæœºæ¸¸èµ°ç³»åˆ—ï¼Œç”Ÿæˆçš„embeddingï¼Œå¤´éƒ¨æ•ˆåº”éƒ½æ¯”è¾ƒæ˜æ˜¾ï¼Œä¸é€‚åˆç”¨æ¥å¤„ç†é•¿å°¾å†·é—¨ç‰©å“ï¼Ÿ","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1609851581,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1339856,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKS70PShNZaxpibFc1gWuvibbg3hXR4YKm3MkNgX0n56hWUicN0JfB2GQ6I9UicBfKABH6dkfVDPohA6Q/132","nickname":"é¦™æ ¼é‡Œæ‹‰é£é¾™","note":"","ucode":"C1263416EE85E3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":404908,"discussion_content":"æˆ‘è¿™é‡Œç”¨item2vecç”Ÿæˆçš„embeddingéƒ½ä¼šå°‘ä¸€äº›itemâ€¦â€¦ä¸çŸ¥é“æ˜¯å“ªé‡Œçš„åŸå› ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634456643,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":254463,"user_name":"Huntley","can_delete":false,"product_type":"c1","uid":2201177,"ip_address":"","ucode":"B8F81CB6DBCAF8","user_header":"https://static001.geekbang.org/account/avatar/00/21/96/59/d0b69f85.jpg","comment_is_top":false,"comment_ctime":1603118555,"is_pvip":false,"replies":[{"id":"92868","content":"åœ¨é¡¹ç›®ä¸­ç”¨æœ€ç®€å•çš„average poolingçš„æ–¹æ³•ç”Ÿæˆäº†user embeddingã€‚ä¹Ÿå°±æ˜¯æŠŠç”¨æˆ·è¯„ä»·è¿‡çš„é«˜åˆ†é«˜åˆ†ç”µå½±çš„embeddingè¿›è¡Œå¹³å‡ã€‚<br><br>user embeddingçš„å…¶ä»–ç”Ÿæˆæ–¹å¼ä¹Ÿå¾ˆå¤šï¼Œåƒä½ è¯´çš„ï¼Œä¹Ÿå¯ä»¥æ ¹æ®å†å²è¡Œä¸ºæ„å»ºç”¨æˆ·-ç‰©å“çš„å…³ç³»å›¾ï¼Œç„¶åç›´æ¥åœ¨å…¶ä¸Šè¿›è¡Œéšæœºæ¸¸èµ°ï¼Œç›´æ¥ä¸€åŒç”Ÿæˆuser å’Œitem embã€‚<br><br>æˆ–è€…é‡‡ç”¨å…¶ä»–åŒå¡”ç»“æ„çš„æ¨¡å‹ç”Ÿæˆitemå’Œuser embç­‰ç­‰ã€‚","user_name":"ä½œè€…å›å¤","comment_id":254463,"uid":"1662192","ip_address":"","utype":1,"ctime":1603153896,"user_name_real":"ç‹å–†"}],"discussion_count":1,"race_medal":0,"score":"48847758811","product_id":100060801,"comment_content":"æƒ³è¯·æ•™ä¸‹è€å¸ˆï¼Œuser embedding ä¹Ÿå¯ä»¥ç”¨ç›¸åŒçš„æ–¹æ³•è·å¾—å—ï¼Ÿå¦‚ä½•æ„å»ºç”¨æˆ·å…³ç³»å›¾å‘¢ï¼Ÿæ˜¯ä¸æ˜¯çœ‹è¿‡åŒä¸€éƒ¨ç”µå½±çš„ä¸¤ä¸ªç”¨æˆ·ä¹‹é—´ç”±ä¸€æ¡æ— å‘è¾¹è¿›è¡Œè¿æ¥ï¼Ÿå’Œitem embeddingç›¸æ¯”ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«æˆ–æ³¨æ„äº‹é¡¹å—ï¼Ÿ","like_count":11,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507408,"discussion_content":"åœ¨é¡¹ç›®ä¸­ç”¨æœ€ç®€å•çš„average poolingçš„æ–¹æ³•ç”Ÿæˆäº†user embeddingã€‚ä¹Ÿå°±æ˜¯æŠŠç”¨æˆ·è¯„ä»·è¿‡çš„é«˜åˆ†é«˜åˆ†ç”µå½±çš„embeddingè¿›è¡Œå¹³å‡ã€‚\n\nuser embeddingçš„å…¶ä»–ç”Ÿæˆæ–¹å¼ä¹Ÿå¾ˆå¤šï¼Œåƒä½ è¯´çš„ï¼Œä¹Ÿå¯ä»¥æ ¹æ®å†å²è¡Œä¸ºæ„å»ºç”¨æˆ·-ç‰©å“çš„å…³ç³»å›¾ï¼Œç„¶åç›´æ¥åœ¨å…¶ä¸Šè¿›è¡Œéšæœºæ¸¸èµ°ï¼Œç›´æ¥ä¸€åŒç”Ÿæˆuser å’Œitem embã€‚\n\næˆ–è€…é‡‡ç”¨å…¶ä»–åŒå¡”ç»“æ„çš„æ¨¡å‹ç”Ÿæˆitemå’Œuser embç­‰ç­‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603153896,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":254557,"user_name":"æµ£ç†Šå½“å®¶","can_delete":false,"product_type":"c1","uid":1952248,"ip_address":"","ucode":"939F06050423E4","user_header":"https://static001.geekbang.org/account/avatar/00/1d/c9/f8/72955ef9.jpg","comment_is_top":false,"comment_ctime":1603130458,"is_pvip":false,"replies":[{"id":"95605","content":"ç†è§£éå¸¸æ­£ç¡®ã€‚<br><br>è€Œä¸”é’ˆå¯¹graph embeddingæ–¹æ³•ï¼Œä¸è¦è®¤ä¸ºæ‰€æœ‰çš„å›¾æ•°æ®éƒ½æ˜¯ç”±åºåˆ—æ•°æ®ç”Ÿæˆçš„ï¼Œæœ‰ä¸€äº›å¤©ç„¶çš„å›¾æ•°æ®ï¼Œæ¯”å¦‚çŸ¥è¯†å›¾è°±ï¼Œæ˜¯åªèƒ½ä½¿ç”¨graph embedidngæ–¹æ³•ï¼Œä¸èƒ½ä½¿ç”¨item2vecçš„ã€‚æ‰€ä»¥graph embeddingåº”ç”¨èŒƒå›´æ›´å¹¿ï¼Œä¿å­˜çš„ä¿¡æ¯ä¹Ÿæ›´å¤šã€‚","user_name":"ä½œè€…å›å¤","comment_id":254557,"uid":"1662192","ip_address":"","utype":1,"ctime":1606168316,"user_name_real":"ç‹å–†"}],"discussion_count":3,"race_medal":0,"score":"35962868826","product_id":100060801,"comment_content":"è€å¸ˆè¯·æ•™ä¸‹ï¼Œæˆ‘å¯¹item2vecå’ŒGraph Embeddingçš„è”ç³»ç†è§£æ˜¯å¦æ­£ç¡®ï¼š<br>1. è”ç³»ï¼šitem2vecå’ŒGraph Embedding éƒ½æ˜¯ä¸ºäº†ä¸‹ä¸€æ­¥çš„ç›¸å…³æ€§çŸ©é˜µï¼Œè€Œä¸€æ®µç‰©å“åºåˆ—<br>2. ä¸åŒï¼š item2vecä½¿ç”¨åŒä¸€ç”¨æˆ·å†å²æ—¶é—´åºåˆ—ä¸‹çš„æ»‘åŠ¨çª—å£ï¼Œ è€ŒGraph embeddingåœ¨åŒä¸€ç”¨æˆ·çš„æ—¶é—´åºåˆ—ä¹‹ä¸Šï¼Œè¿˜åº”ç”¨äº†ä¸åŒç”¨æˆ·ï¼ŒåŒä¸€ç‰©å“ä¹‹é—´çš„å›¾è”ç³»ï¼Œæ‰€ä»¥è¯´graph embeddingå¯ä»¥ç”Ÿæˆæ›´å…¨é¢çš„ç‰©å“ä¸ç‰©å“çš„è¿æ¥ã€‚<br><br>æ‰€ä»¥æ˜¯å¦å¯ç†è§£ä¸ºgraph embeddingæ¯”item2vecçš„å¤æ‚ï¼Œæ›´å®Œå–„ï¼Ÿä¸šç•Œæ›´æµè¡Œçš„æ˜¯ä¸æ˜¯æƒ³deep walkè¿™ç§graph embeddingçš„ç®—æ³•ï¼Ÿ","like_count":8,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507437,"discussion_content":"ç†è§£éå¸¸æ­£ç¡®ã€‚\n\nè€Œä¸”é’ˆå¯¹graph embeddingæ–¹æ³•ï¼Œä¸è¦è®¤ä¸ºæ‰€æœ‰çš„å›¾æ•°æ®éƒ½æ˜¯ç”±åºåˆ—æ•°æ®ç”Ÿæˆçš„ï¼Œæœ‰ä¸€äº›å¤©ç„¶çš„å›¾æ•°æ®ï¼Œæ¯”å¦‚çŸ¥è¯†å›¾è°±ï¼Œæ˜¯åªèƒ½ä½¿ç”¨graph embedidngæ–¹æ³•ï¼Œä¸èƒ½ä½¿ç”¨item2vecçš„ã€‚æ‰€ä»¥graph embeddingåº”ç”¨èŒƒå›´æ›´å¹¿ï¼Œä¿å­˜çš„ä¿¡æ¯ä¹Ÿæ›´å¤šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606168316,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2403705,"avatar":"","nickname":"Wa","note":"","ucode":"96E28E50FCA96C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341429,"discussion_content":"ç¬¬ä¸€ç‚¹æ²¡å¤ªç†è§£ï¼Œitem2vecä¸æ˜¯ç”¨æˆ·è¡Œä¸ºåºåˆ—ç›´æ¥embeddingå—ï¼Œå’Œç›¸å…³æ€§çŸ©é˜µæ˜¯ä»€ä¹ˆå…³ç³»","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1610418834,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2311604,"avatar":"","nickname":"Geek_c0fd60","note":"","ucode":"CAB74A2ABCD57C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2403705,"avatar":"","nickname":"Wa","note":"","ucode":"96E28E50FCA96C","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":352786,"discussion_content":"åœ¨è¿™é‡Œembeddingçš„æœ€ç»ˆç›®çš„å°±æ˜¯ç”Ÿæˆä¸€ä¸ªç›¸å…³æ€§çŸ©é˜µã€‚è€Œä¸æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªçŸ©é˜µæ±‚ä¸åŒitemçš„ç›¸å…³æ€§ã€‚å»ºè®®äº†è§£ä¸€ä¸‹word2vecçš„çŸ¥è¯†ï¼›","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1614849492,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":341429,"ip_address":""},"score":352786,"extra":""}]}]},{"had_liked":false,"id":257339,"user_name":"ç™½å¤œ","can_delete":false,"product_type":"c1","uid":1445450,"ip_address":"","ucode":"A1FF3E4BB06FDC","user_header":"https://static001.geekbang.org/account/avatar/00/16/0e/4a/cc6a2478.jpg","comment_is_top":false,"comment_ctime":1603940998,"is_pvip":false,"replies":[{"id":"93746","content":"300000çš„ç‰©å“è§„æ¨¡å•æœºç¯å¢ƒè‚¯å®šæ¯”è¾ƒåƒåŠ›äº†ï¼Œä»£ç ä¸­çš„å®ç°ä¹Ÿæ˜¯å•æœºä¸‹çš„éšæœºæ¸¸èµ°ï¼Œä¸ç®¡å†å¦‚ä½•ä¼˜åŒ–éƒ½æ¯”è¾ƒå›°éš¾ã€‚<br><br>ç”Ÿäº§ç¯å¢ƒè¯·å…³æ³¨sparkçš„å›¾è®¡ç®—api graphX https:&#47;&#47;spark.apache.org&#47;graphx&#47;<br>æˆ‘è®¤ä¸ºæ¯”è¾ƒå¥½çš„æ•™ç¨‹<br>https:&#47;&#47;endymecy.gitbooks.io&#47;spark-graphx-source-analysis&#47;content&#47;<br><br>å…¶å®æœŸå¾…æ›´å¤šçš„åŒå­¦èƒ½å‚ä¸åˆ°é¡¹ç›®çš„ç»´æŠ¤ä¸­æ¥ï¼Œæˆ‘ä»¬ä¸ä»…æ˜¯ä¸€ä¸ªè¯¾ç¨‹ï¼Œæ›´æ˜¯ä¸€ä¸ªä¸šç•Œäº¤æµçš„å¹³å°ï¼ŒæœŸå¾…èƒ½çœ‹åˆ°æ–°çš„è¿›å±•ã€‚<br>","user_name":"ä½œè€…å›å¤","comment_id":257339,"uid":"1662192","ip_address":"","utype":1,"ctime":1604017239,"user_name_real":"ç‹å–†"}],"discussion_count":2,"race_medal":0,"score":"27373744774","product_id":100060801,"comment_content":"è€å¸ˆï¼ŒrandomWalkè¿™éƒ¨åœ¨60æ ¸çš„æœºå™¨ä¸Šè·‘çš„å¾ˆæ…¢ï¼Œï¼Œæ…¢åˆ°æ— è¯­ï¼Œå¯ä»¥ä¼˜åŒ–ä¸‹å—ï¼ŒtransitionMatrixAndItemDis._1ä¸_2çš„sizeéƒ½æ˜¯300000","like_count":7,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508300,"discussion_content":"300000çš„ç‰©å“è§„æ¨¡å•æœºç¯å¢ƒè‚¯å®šæ¯”è¾ƒåƒåŠ›äº†ï¼Œä»£ç ä¸­çš„å®ç°ä¹Ÿæ˜¯å•æœºä¸‹çš„éšæœºæ¸¸èµ°ï¼Œä¸ç®¡å†å¦‚ä½•ä¼˜åŒ–éƒ½æ¯”è¾ƒå›°éš¾ã€‚\n\nç”Ÿäº§ç¯å¢ƒè¯·å…³æ³¨sparkçš„å›¾è®¡ç®—api graphX https://spark.apache.org/graphx/\næˆ‘è®¤ä¸ºæ¯”è¾ƒå¥½çš„æ•™ç¨‹\nhttps://endymecy.gitbooks.io/spark-graphx-source-analysis/content/\n\nå…¶å®æœŸå¾…æ›´å¤šçš„åŒå­¦èƒ½å‚ä¸åˆ°é¡¹ç›®çš„ç»´æŠ¤ä¸­æ¥ï¼Œæˆ‘ä»¬ä¸ä»…æ˜¯ä¸€ä¸ªè¯¾ç¨‹ï¼Œæ›´æ˜¯ä¸€ä¸ªä¸šç•Œäº¤æµçš„å¹³å°ï¼ŒæœŸå¾…èƒ½çœ‹åˆ°æ–°çš„è¿›å±•ã€‚\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604017239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2384780,"avatar":"","nickname":"UNA","note":"","ucode":"4E289068D2AF92","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339967,"discussion_content":"æ€ä¹ˆå‚åŠ é¡¹ç›®ç»´æŠ¤å‘¢ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609851637,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255265,"user_name":"èªèªå‘€","can_delete":false,"product_type":"c1","uid":2199731,"ip_address":"","ucode":"EF3583C6415640","user_header":"https://static001.geekbang.org/account/avatar/00/21/90/b3/8828caa4.jpg","comment_is_top":false,"comment_ctime":1603291835,"is_pvip":false,"replies":[{"id":"93038","content":"EGESæ˜¯å¸Œæœ›èåˆæ›´å¤šside informationï¼Œåªç”¨idä¿¡æ¯å¹¶ä¸æ˜¯å®ƒçš„æ„ä¹‰æ‰€åœ¨ã€‚è€Œä¸”é™¤äº†è¿™äº›åŸç†ä¸Šçš„åˆ†æå¤–ï¼Œæˆ‘ä¸ä¸»å¼ ç»™ä»»ä½•äººæ¨¡å‹æ•ˆæœå¥½åçš„å»ºè®®ï¼Œå†³å®šçš„å› ç´ å¤ªå¤šäº†ã€‚<br><br>ä½†æ€»çš„æ¥è¯´ï¼Œå¦‚æœä½ åªæœ‰idç±»çš„å†å²è¡Œä¸ºä¿¡æ¯ï¼Œä½¿ç”¨EGESçš„æ„ä¹‰ä¸å¤§ã€‚","user_name":"ä½œè€…å›å¤","comment_id":255265,"uid":"1662192","ip_address":"","utype":1,"ctime":1603347355,"user_name_real":"ç‹å–†"}],"discussion_count":2,"race_medal":0,"score":"27373095611","product_id":100060801,"comment_content":"è€å¸ˆï¼Œæˆ‘æœ€è¿‘åœ¨ç ”ç©¶ä½¿ç”¨graph embedding ï¼Œæ ¹æ®ç½‘ä¸Šçš„git ä»£ç è·‘äº†item2vecï¼ŒEGESä»£ç ï¼Œæˆ‘çš„æ¨èåœºæ™¯æ˜¯è§†é¢‘æ¨èï¼ŒåŒæ ·çš„è®­ç»ƒæ•°æ®ï¼Œæˆ‘å‘ç°item2vec æ¨èæ•ˆæœè¾ƒå¥½ï¼Œä½†æˆ‘å‘ç°EGESæ¨èæ•ˆæœä¸å¥½ï¼ˆåªç”¨äº†IDï¼Œæ²¡æœ‰åŠ å…¶ä»–ç‰¹å¾ï¼‰æ¨èç»“æœç›¸ä¼¼åº¦å¾ˆä½ã€‚æ‰€ä»¥æƒ³è¯·æ•™æ‚¨ï¼Œæ‚¨è§‰å¾—å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› å¼•èµ·çš„å‘¢ï¼Œæ‚¨æœ‰æ²¡æœ‰EGESçš„demo ","like_count":6,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507661,"discussion_content":"EGESæ˜¯å¸Œæœ›èåˆæ›´å¤šside informationï¼Œåªç”¨idä¿¡æ¯å¹¶ä¸æ˜¯å®ƒçš„æ„ä¹‰æ‰€åœ¨ã€‚è€Œä¸”é™¤äº†è¿™äº›åŸç†ä¸Šçš„åˆ†æå¤–ï¼Œæˆ‘ä¸ä¸»å¼ ç»™ä»»ä½•äººæ¨¡å‹æ•ˆæœå¥½åçš„å»ºè®®ï¼Œå†³å®šçš„å› ç´ å¤ªå¤šäº†ã€‚\n\nä½†æ€»çš„æ¥è¯´ï¼Œå¦‚æœä½ åªæœ‰idç±»çš„å†å²è¡Œä¸ºä¿¡æ¯ï¼Œä½¿ç”¨EGESçš„æ„ä¹‰ä¸å¤§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603347355,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1485992,"avatar":"https://static001.geekbang.org/account/avatar/00/16/ac/a8/e3631658.jpg","nickname":"äº®äº®","note":"","ucode":"7A91E99F7FCE32","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":338003,"discussion_content":"æœ‰æ²¡æœ‰EGESçš„demoï¼Œå‘ä¸ªé“¾æ¥","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1609150211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272073,"user_name":"æ¢æ ‹ğŸ’","can_delete":false,"product_type":"c1","uid":1067594,"ip_address":"","ucode":"16EEF0DD596A80","user_header":"https://static001.geekbang.org/account/avatar/00/10/4a/4a/fdae1e16.jpg","comment_is_top":false,"comment_ctime":1609925400,"is_pvip":false,"replies":[{"id":"98662","content":"æ˜¯è¿™æ ·ï¼Œå†…å­˜é—®é¢˜æ˜¯å·¥ç¨‹å®ç°ä¸­æœ€å¤§çš„é™åˆ¶ã€‚æˆ‘æ²¡æœ‰æ·±å…¥ç ”ç©¶è¿‡sparkçš„graphXï¼Œä»¥åŠä¸€äº›å›¾è®¡ç®—çš„åˆ†å¸ƒå¼å¼•æ“ã€‚å¦‚æœæœ‰ç»éªŒçš„åŒå­¦å¯ä»¥è°ˆè°ˆå¦‚ä½•è¿›è¡Œåˆ†å¸ƒå¼çš„è½¬ç§»çŸ©é˜µå¤„ç†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":272073,"uid":"1662192","ip_address":"","utype":1,"ctime":1609956808,"user_name_real":"ç‹å–†"}],"discussion_count":1,"race_medal":0,"score":"23084761880","product_id":100060801,"comment_content":"ç»¼ä¸Šï¼Œéšæœºæ¸¸èµ°å› ä¸ºéœ€è¦å®Œæ•´è½¬ç§»æ¦‚ç‡çŸ©é˜µçš„åŸå› ï¼Œå—é™äºè½¬ç§»æ¦‚ç‡çŸ©é˜µè§„æ¨¡èƒ½å¦å®¹çº³åˆ°å†…å­˜ä¸­ã€‚","like_count":5,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513141,"discussion_content":"æ˜¯è¿™æ ·ï¼Œå†…å­˜é—®é¢˜æ˜¯å·¥ç¨‹å®ç°ä¸­æœ€å¤§çš„é™åˆ¶ã€‚æˆ‘æ²¡æœ‰æ·±å…¥ç ”ç©¶è¿‡sparkçš„graphXï¼Œä»¥åŠä¸€äº›å›¾è®¡ç®—çš„åˆ†å¸ƒå¼å¼•æ“ã€‚å¦‚æœæœ‰ç»éªŒçš„åŒå­¦å¯ä»¥è°ˆè°ˆå¦‚ä½•è¿›è¡Œåˆ†å¸ƒå¼çš„è½¬ç§»çŸ©é˜µå¤„ç†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609956808,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":300064,"user_name":"W","can_delete":false,"product_type":"c1","uid":2674983,"ip_address":"","ucode":"C182E9F3BAD7B9","user_header":"https://static001.geekbang.org/account/avatar/00/28/d1/27/68543b66.jpg","comment_is_top":false,"comment_ctime":1624969728,"is_pvip":false,"replies":[{"id":"109382","content":"è¿™æ˜¯ä¸ªç®€å•çš„è„‘ç­‹æ€¥è½¬å¼¯é—®é¢˜å§ã€‚ç”µå½±çš„3.5æ˜¯å¹³å‡åˆ†ï¼Œä½ å†æƒ³æƒ³ã€‚","user_name":"ä½œè€…å›å¤","comment_id":300064,"uid":"1662192","ip_address":"","utype":1,"ctime":1626215294,"user_name_real":"ç‹å–†"}],"discussion_count":1,"race_medal":0,"score":"18804838912","product_id":100060801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œä¸çŸ¥é“æˆ‘æ˜¯ä¸æ˜¯å“ªé‡Œç†è§£é”™äº†T_Tï¼Œæ–°æ‰‹å…¥é—¨ã€‚æˆ‘çš„é—®é¢˜æ˜¯ï¼šè¯„åˆ†ä½äº3.5çš„ç”µå½±è¢«è¿‡æ»¤äº†ï¼Œç›¸å½“äºç”µå½±åº“é‡Œæ²¡æœ‰ä½äº3.5åˆ†çš„ç”µå½±ï¼Œé‚£ä¹ˆä¹Ÿå°±ä¸ä¼šæœ‰å¯¹åº”ä½äº3.5åˆ†çš„ç”µå½±çš„embeddingå‘é‡ï¼Œä¸ºä»€ä¹ˆBatMançš„æ¨èç»“æœé‡Œè¿˜æœ‰ä½äº3.5åˆ†çš„æ¨èç»“æœå‘¢ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522631,"discussion_content":"è¿™æ˜¯ä¸ªç®€å•çš„è„‘ç­‹æ€¥è½¬å¼¯é—®é¢˜å§ã€‚ç”µå½±çš„3.5æ˜¯å¹³å‡åˆ†ï¼Œä½ å†æƒ³æƒ³ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1626215294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275451,"user_name":"Geek_ee4f14","can_delete":false,"product_type":"c1","uid":2420262,"ip_address":"","ucode":"4E295B32064EEF","user_header":"","comment_is_top":false,"comment_ctime":1611546343,"is_pvip":false,"replies":[{"id":"100165","content":"ä¼šçš„ï¼Œä½†é€šå¸¸æˆ‘ä»¬ä¹Ÿå¸Œæœ›æ›´å¤šçš„å»æ¨èçˆ†æ¬¾å•†å“ï¼Œè¿™è¿˜æ˜¯è·Ÿä½ è‡ªå·±çš„è§‚å¯Ÿå’Œå†³å®šç›¸å…³","user_name":"ä½œè€…å›å¤","comment_id":275451,"uid":"1662192","ip_address":"","utype":1,"ctime":1611730732,"user_name_real":"ç‹å–†"}],"discussion_count":1,"race_medal":0,"score":"18791415527","product_id":100060801,"comment_content":"å†è¯·é—®ä¸‹è€å¸ˆï¼Œæ¸¸èµ°çš„æ—¶å€™èµ·å§‹ç‚¹æ²¡æœ‰åšå»é‡ï¼Œä¼šä¸ä¼šå¯¼è‡´æŸäº›çˆ†æ¬¾æˆä¸ºèµ·å§‹ç‚¹çš„æ¦‚ç‡æ›´é«˜ï¼Œä¹Ÿä¸å®¹æ˜“æ¸¸èµ°åˆ°å†·é—¨ç‰©å“å‘€ï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514352,"discussion_content":"ä¼šçš„ï¼Œä½†é€šå¸¸æˆ‘ä»¬ä¹Ÿå¸Œæœ›æ›´å¤šçš„å»æ¨èçˆ†æ¬¾å•†å“ï¼Œè¿™è¿˜æ˜¯è·Ÿä½ è‡ªå·±çš„è§‚å¯Ÿå’Œå†³å®šç›¸å…³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611730732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275325,"user_name":"Capricornus","can_delete":false,"product_type":"c1","uid":2371321,"ip_address":"","ucode":"B7B15C58653860","user_header":"https://static001.geekbang.org/account/avatar/00/24/2e/f9/c0a6232c.jpg","comment_is_top":false,"comment_ctime":1611472990,"is_pvip":false,"replies":[{"id":"99969","content":"è¿™ä¸¤ä¸ªé—®é¢˜è‡ªå·±å»è¯•éªŒä¸€ä¸‹ï¼Œæ¯”å¦‚è‡ªå·±æ¢æˆarrayçœ‹çœ‹è¡Œä¸è¡Œã€‚<br><br>scalaå’Œsparkä¸­æœ‰å¤§é‡è¯­æ³•ç³–å’Œä¸€äº›å¤æ‚çš„ç±»å‹è½¬æ¢ï¼Œä¸å»ºè®®åœ¨è¿™ä¸Šé¢èŠ±è´¹å¤ªå¤šæ—¶é—´ï¼Œæ³¨é‡ç»éªŒç§¯ç´¯å°±å¥½ã€‚","user_name":"ä½œè€…å›å¤","comment_id":275325,"uid":"1662192","ip_address":"","utype":1,"ctime":1611551459,"user_name_real":"ç‹å–†"}],"discussion_count":2,"race_medal":0,"score":"14496374878","product_id":100060801,"comment_content":"userSeq.select(&quot;movieIdStr&quot;).rdd.map(r =&gt; r.getAs[String](&quot;movieIdStr&quot;).split(&quot; &quot;).toSeq)<br>è€å¸ˆè¿™é‡Œä¸ºä»€ä¹ˆéœ€è¦è½¬é™ˆSeqï¼Œè€Œä¸ä½¿ç”¨Arrayï¼Ÿ<br>    val sortUdf: UserDefinedFunction = udf((rows: Seq[Row]) =&gt; {<br>      rows.map { case Row(movieId: String, timestamp: String) =&gt; (movieId, timestamp) }<br>        .sortBy { case (movieId, timestamp) =&gt; timestamp }<br>        .map { case (movieId, timestamp) =&gt; movieId }<br>    })<br>è€å¸ˆè¿™é‡Œcaseçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿä¸å¤ªèƒ½ç†è§£ã€‚","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514312,"discussion_content":"è¿™ä¸¤ä¸ªé—®é¢˜è‡ªå·±å»è¯•éªŒä¸€ä¸‹ï¼Œæ¯”å¦‚è‡ªå·±æ¢æˆarrayçœ‹çœ‹è¡Œä¸è¡Œã€‚\n\nscalaå’Œsparkä¸­æœ‰å¤§é‡è¯­æ³•ç³–å’Œä¸€äº›å¤æ‚çš„ç±»å‹è½¬æ¢ï¼Œä¸å»ºè®®åœ¨è¿™ä¸Šé¢èŠ±è´¹å¤ªå¤šæ—¶é—´ï¼Œæ³¨é‡ç»éªŒç§¯ç´¯å°±å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611551459,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2369593,"avatar":"https://static001.geekbang.org/account/avatar/00/24/28/39/7e184c50.jpg","nickname":"Jimmy","note":"","ucode":"6D245FAF932C24","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":373129,"discussion_content":"è§£åŒ…ï¼Œï¼Œï¼Œä½ å¯ä»¥ç†è§£ç»´pythonä¸­çš„ä¸€æ¬¡èµ‹å€¼å¤šä¸ªå˜é‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620627543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":269200,"user_name":"èŠ±èŠ±èŠ±æœ¨å…°","can_delete":false,"product_type":"c1","uid":2371307,"ip_address":"","ucode":"E62939C7DADC61","user_header":"https://static001.geekbang.org/account/avatar/00/24/2e/eb/a74e5ba6.jpg","comment_is_top":false,"comment_ctime":1608555273,"is_pvip":false,"replies":[{"id":"97652","content":"å…¶å®item2vecé‡Œé¢å¹¶æ²¡æœ‰åŒºåˆ†ä»€ä¹ˆå…ˆåé¡ºåºã€‚æŠŠè¿™å †èœä¸­çš„itemä¸¤ä¸¤è¾“å…¥æ¨¡å‹è®­ç»ƒå°±å¥½ã€‚","user_name":"ä½œè€…å›å¤","comment_id":269200,"uid":"1662192","ip_address":"","utype":1,"ctime":1608595614,"user_name_real":"ç‹å–†"}],"discussion_count":1,"race_medal":0,"score":"14493457161","product_id":100060801,"comment_content":"è€å¸ˆï¼Œå¯¹äºéåºåˆ—æ•°æ®ç”¨sparkçš„word2vecæ¨¡å‹æ˜¯ä¸æ˜¯ä¸åˆé€‚ï¼Ÿéåºåˆ—æ•°æ®ç”¨ä»€ä¹ˆæ–¹æ³•è®­ç»ƒæ¯”è¾ƒå¥½ï¼Ÿä¾‹å¦‚ç”Ÿé²œé…é€çš„åœºæ™¯ï¼Œç”¨æˆ·ä¸€æ¬¡ä¼šè´­ä¹°å¾ˆå¤šèœï¼Œè¿™äº›èœåœ¨ä¸€ä¸ªè®¢å•ä¸­æ˜¯æ²¡æœ‰å…ˆåæ—¶åºçš„ã€‚","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512189,"discussion_content":"å…¶å®item2vecé‡Œé¢å¹¶æ²¡æœ‰åŒºåˆ†ä»€ä¹ˆå…ˆåé¡ºåºã€‚æŠŠè¿™å †èœä¸­çš„itemä¸¤ä¸¤è¾“å…¥æ¨¡å‹è®­ç»ƒå°±å¥½ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608595614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":260879,"user_name":"tiger","can_delete":false,"product_type":"c1","uid":2298602,"ip_address":"","ucode":"43F70BE0B83B1C","user_header":"https://static001.geekbang.org/account/avatar/00/23/12/ea/79effe93.jpg","comment_is_top":false,"comment_ctime":1605147339,"is_pvip":false,"replies":[{"id":"94777","content":"è¿™æ˜¯ä¸€ä¸ªå¥½çš„ä¸šåŠ¡é—®é¢˜ã€‚æˆ‘æ¨èå¤§å®¶è‡ªå·±æ€è€ƒä¸€ä¸‹ï¼Œæ²¡æœ‰æ ‡å‡†ç­”æ¡ˆã€‚<br><br>æˆ‘çš„æ€è€ƒæ˜¯æŠŠæ‰€æœ‰ç‰©å“æ”¾è¿›å»å¯èƒ½ä¼šå¼•å…¥å¤§é‡é”™è¯¯çš„å…³è”ï¼Œåè€Œå¾—ä¸å¿å¤±ã€‚è€Œç¼ºå°‘ç‰©å“çš„é—®é¢˜æœ€å¥½é€šè¿‡è°ƒé«˜é‡‡æ ·æ•°é‡çš„æ–¹å¼æˆ–è€…å…¶ä»–å†·å¯åŠ¨çš„æ–¹å¼è§£å†³ã€‚","user_name":"ä½œè€…å›å¤","comment_id":260879,"uid":"1662192","ip_address":"","utype":1,"ctime":1605196544,"user_name_real":"ç‹å–†"}],"discussion_count":1,"race_medal":0,"score":"14490049227","product_id":100060801,"comment_content":"è€å¸ˆï¼Œç”¨word2vecåˆ©ç”¨é«˜è¯„åˆ†çš„åšå‡ºäº†çš„æ¨¡å‹ï¼ˆç›¸ä¼¼æ¨èï¼‰æœ‰çš„ç‰©å“ä¼šæ‰¾ä¸åˆ°ï¼Œèƒ½ä¸èƒ½æŠŠæ‰€æœ‰ç‰©å“one hotç¼–ç è¾“å…¥é‡Œé¢ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯å°±ä¼šæ‰¾åˆ°æ‰€æœ‰çš„ç‰©å“äº†ï¼Ÿä½†æ˜¯è¿™æ ·åšæœ‰æ²¡æœ‰æ„ä¹‰ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509314,"discussion_content":"è¿™æ˜¯ä¸€ä¸ªå¥½çš„ä¸šåŠ¡é—®é¢˜ã€‚æˆ‘æ¨èå¤§å®¶è‡ªå·±æ€è€ƒä¸€ä¸‹ï¼Œæ²¡æœ‰æ ‡å‡†ç­”æ¡ˆã€‚\n\næˆ‘çš„æ€è€ƒæ˜¯æŠŠæ‰€æœ‰ç‰©å“æ”¾è¿›å»å¯èƒ½ä¼šå¼•å…¥å¤§é‡é”™è¯¯çš„å…³è”ï¼Œåè€Œå¾—ä¸å¿å¤±ã€‚è€Œç¼ºå°‘ç‰©å“çš„é—®é¢˜æœ€å¥½é€šè¿‡è°ƒé«˜é‡‡æ ·æ•°é‡çš„æ–¹å¼æˆ–è€…å…¶ä»–å†·å¯åŠ¨çš„æ–¹å¼è§£å†³ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605196544,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255492,"user_name":"ç‹å‘åº†","can_delete":false,"product_type":"c1","uid":2201070,"ip_address":"","ucode":"B945495635126D","user_header":"https://static001.geekbang.org/account/avatar/00/21/95/ee/062139f0.jpg","comment_is_top":false,"comment_ctime":1603357559,"is_pvip":false,"replies":[{"id":"93152","content":"ä¸å¯ä»¥ã€‚Embeddingå†·å¯åŠ¨çš„é—®é¢˜å¤§å®¶é—®çš„æ¯”è¾ƒå¤šï¼Œæˆ‘æ‰¾æ—¶é—´ç»Ÿä¸€å›å¤ä¸€ä¸‹ã€‚<br><br>ç®€å•æ¥è¯´ç”Ÿæˆç¯å¢ƒä¸‹å¯¹äºå†·å¯åŠ¨ç‰©å“éœ€è¦æŒ‡å®šä¸€ä¸ªé»˜è®¤embeddingï¼Œæˆ–è€…åŸºäºä¸€äº›å…¶ä»–çš„ç›¸ä¼¼æ¡ä»¶å–ç›¸ä¼¼embeddingçš„å¹³å‡ã€‚","user_name":"ä½œè€…å›å¤","comment_id":255492,"uid":"1662192","ip_address":"","utype":1,"ctime":1603413277,"user_name_real":"ç‹å–†"}],"discussion_count":1,"race_medal":0,"score":"14488259447","product_id":100060801,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½ï¼Œè¯·æ•™æ‚¨ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨ç”ŸæˆEmbeddingçš„æ—¶å€™æˆ‘ä»¬éƒ½æ˜¯å…¨é‡ç”Ÿæˆçš„ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹æˆ‘ä»¬èƒ½å¢é‡çš„å»ç”Ÿæˆæ–°èŠ‚ç‚¹çš„Embeddingä¹ˆï¼Ÿ","like_count":4,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507732,"discussion_content":"ä¸å¯ä»¥ã€‚Embeddingå†·å¯åŠ¨çš„é—®é¢˜å¤§å®¶é—®çš„æ¯”è¾ƒå¤šï¼Œæˆ‘æ‰¾æ—¶é—´ç»Ÿä¸€å›å¤ä¸€ä¸‹ã€‚\n\nç®€å•æ¥è¯´ç”Ÿæˆç¯å¢ƒä¸‹å¯¹äºå†·å¯åŠ¨ç‰©å“éœ€è¦æŒ‡å®šä¸€ä¸ªé»˜è®¤embeddingï¼Œæˆ–è€…åŸºäºä¸€äº›å…¶ä»–çš„ç›¸ä¼¼æ¡ä»¶å–ç›¸ä¼¼embeddingçš„å¹³å‡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603413277,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":281485,"user_name":"æ³·","can_delete":false,"product_type":"c1","uid":2451304,"ip_address":"","ucode":"2017B36353C068","user_header":"https://static001.geekbang.org/account/avatar/00/25/67/68/6c05da27.jpg","comment_is_top":false,"comment_ctime":1614763052,"is_pvip":false,"replies":[{"id":"102385","content":"ç²—çœ‹åº”è¯¥æ˜¯æ²¡é—®é¢˜ã€‚<br>for ((item, prob) &lt;- nonNormProb) {  &#47;&#47;å½’ä¸€åŒ–æ¦‚ç‡åˆ†å¸ƒ<br>      probDistribution(item) = prob &#47; accuP<br>    }<br><br>å½’ä¸€åŒ–è¿™ä¸€æ­¥éå¸¸é‡è¦ï¼Œä¸Šæ¬¡æœ‰ä½åŒå­¦æäº¤äº†ä»£ç ä½†æ˜¯æ²¡æœ‰åšå½’ä¸€åŒ–ï¼Œæ‰€ä»¥å°±æ˜¯é”™è¯¯çš„ã€‚","user_name":"ä½œè€…å›å¤","comment_id":281485,"uid":"1662192","ip_address":"","utype":1,"ctime":1615024258,"user_name_real":"ç‹å–†"}],"discussion_count":1,"race_medal":0,"score":"10204697644","product_id":100060801,"comment_content":"æ€è€ƒé¢˜ï¼Œå˜ä¸ºNode2Wecï¼Œä¸»è¦ä¿®æ”¹éšæœºæ¸¸èµ°å¾ªç¯ä¸­çš„probDistributionï¼Œæ ¹æ®è®°å½•çš„å‰é©±èŠ‚ç‚¹è¿›è¡Œä¿®æ­£ï¼Œp,qä¸ºä¿®æ­£æƒé‡ï¼Œç„¶åå†å½’ä¸€åŒ–æ¦‚ç‡åˆ†å¸ƒï¼Œåç»­æ­¥éª¤å¤šä¸€ä¸ªprevElement = curElementã€‚<br>åˆšæ¥è§¦scalaï¼Œå¦‚æœ‰é”™è¯¯è¯·æŒ‡æ­£ã€‚<br>var probDistribution = mutable.Map[String, Double]()<br>  if (prevElement != null) {<br>    val prevProbDis = transitionMatrix(prevElement)  &#47;&#47;è·å¾—å‰é©±èŠ‚ç‚¹çš„â€œé‚»æ¥çŸ©é˜µâ€è¡Œ<br>    var accuP:Double = 0<br>    var nonNormProb = mutable.Map[String, Double]()<br>    for ((item, prob) &lt;- transitionMatrix(curElement)) {  &#47;&#47;å‰é©±èŠ‚ç‚¹å¯è¾¾ï¼Œé‚£ä¹ˆè·ç¦»ä¸º1<br>      if (prevProbDis.contains(item)) {<br>        nonNormProb(item) = prob<br>        accuP = accuP + prob<br>      } else if (item == prevElement) {  &#47;&#47;æ˜¯å‰é©±èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè·ç¦»ä¸º0<br>        nonNormProb(item) = prob * (1 &#47; p)<br>        accuP = accuP + prob * (1 &#47; p)<br>      } else {  &#47;&#47;å…¶ä»–æƒ…å†µï¼Œè·ç¦»ä¸º2<br>        nonNormProb(item) = prob * (1 &#47; q)<br>        accuP = accuP + prob * (1 &#47; q)<br>      }<br>    }<br>    for ((item, prob) &lt;- nonNormProb) {  &#47;&#47;å½’ä¸€åŒ–æ¦‚ç‡åˆ†å¸ƒ<br>      probDistribution(item) = prob &#47; accuP<br>    }<br>  } else {  &#47;&#47;å½“å‰ä¸ºfirstItemï¼Œä¸è¿›è¡Œæ¦‚ç‡ä¿®æ­£ï¼ˆå·æ‡’ï¼‰<br>    probDistribution = transitionMatrix(curElement)<br>  }","like_count":2,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":516414,"discussion_content":"ç²—çœ‹åº”è¯¥æ˜¯æ²¡é—®é¢˜ã€‚\nfor ((item, prob) &amp;lt;- nonNormProb) {  //å½’ä¸€åŒ–æ¦‚ç‡åˆ†å¸ƒ\n      probDistribution(item) = prob / accuP\n    }\n\nå½’ä¸€åŒ–è¿™ä¸€æ­¥éå¸¸é‡è¦ï¼Œä¸Šæ¬¡æœ‰ä½åŒå­¦æäº¤äº†ä»£ç ä½†æ˜¯æ²¡æœ‰åšå½’ä¸€åŒ–ï¼Œæ‰€ä»¥å°±æ˜¯é”™è¯¯çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1615024258,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":279951,"user_name":"tuomasiii","can_delete":false,"product_type":"c1","uid":2370755,"ip_address":"","ucode":"49B732F80C5B68","user_header":"","comment_is_top":false,"comment_ctime":1614011616,"is_pvip":false,"replies":[{"id":"101717","content":"æ‰‹åŠ¨æ‰©å®¹embedding è¿™ä¸ªæ€ä¹ˆå®ç°ï¼Ÿæˆ‘æ„Ÿè§‰è¾“å…¥å‘é‡çš„ç»´åº¦éƒ½æ”¹å˜äº†å§ï¼Œå¯ä»¥å®ç°æ‰‹åŠ¨æ‰©å®¹å—ï¼Ÿ<br><br>æ„Ÿè§‰è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒtrickyï¼Œä¸å¤ªè¡Œå¾—é€šã€‚å†™äº†ä¸€ç¯‡ç›¸å…³æ–‡ç« ï¼Œå¸Œæœ›æœ‰æ‰€å¯å‘ã€‚ https:&#47;&#47;zhuanlan.zhihu.com&#47;p&#47;351390011","user_name":"ä½œè€…å›å¤","comment_id":279951,"uid":"1662192","ip_address":"","utype":1,"ctime":1614046871,"user_name_real":"ç‹å–†"}],"discussion_count":1,"race_medal":0,"score":"10203946208","product_id":100060801,"comment_content":"æƒ³è¯·é—®ä¸‹è€å¸ˆå¦‚æœæ–°çš„user&#47;itemåŠ å…¥ï¼Œembedding matrixå½¢çŠ¶å˜å¤§ã€‚å¦‚æœæ¯å¤©éƒ½end2end train from scratchï¼Œæ˜¯ä¸æ˜¯å¤ªexpensiveäº†ï¼Ÿ<br>å¦‚æœæ˜¯æ‰‹åŠ¨æ‰©å®¹embeddingå†initialize withæ˜¨æ—¥çš„checkpointç»§ç»­è®­ç»ƒæ–°çš„user-item interactionsï¼Œç„¶åæ—¶é—´ä¹…ä¸€ç‚¹å†train from scratchï¼Œè¡Œå¾—é€šå—ï¼Ÿ<br>","like_count":2,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515938,"discussion_content":"æ‰‹åŠ¨æ‰©å®¹embedding è¿™ä¸ªæ€ä¹ˆå®ç°ï¼Ÿæˆ‘æ„Ÿè§‰è¾“å…¥å‘é‡çš„ç»´åº¦éƒ½æ”¹å˜äº†å§ï¼Œå¯ä»¥å®ç°æ‰‹åŠ¨æ‰©å®¹å—ï¼Ÿ\n\næ„Ÿè§‰è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒtrickyï¼Œä¸å¤ªè¡Œå¾—é€šã€‚å†™äº†ä¸€ç¯‡ç›¸å…³æ–‡ç« ï¼Œå¸Œæœ›æœ‰æ‰€å¯å‘ã€‚ https://zhuanlan.zhihu.com/p/351390011","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614046871,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":271762,"user_name":"tuomasiii","can_delete":false,"product_type":"c1","uid":2370755,"ip_address":"","ucode":"49B732F80C5B68","user_header":"","comment_is_top":false,"comment_ctime":1609798716,"is_pvip":false,"replies":[{"id":"98558","content":"éå¸¸ç»†å¿ƒã€‚<br>1ã€æ˜¯çš„ï¼Œttlä¼šè®©embåœ¨24å°æ—¶å€™å¤±æ•ˆï¼Œè¿™ä¸€èˆ¬æ˜¯ç”Ÿäº§ç¯å¢ƒçš„åšæ³•ï¼Œé¿å…ä¸€äº›è¿‡æœŸçš„é”™è¯¯embç•™å­˜ã€‚<br>2ã€embå‡ ä¹æ²¡æœ‰åŠæ³•å¢é‡è®­ç»ƒï¼Œéœ€è¦é‡æ–°è®­ç»ƒç”Ÿæˆnew emb","user_name":"ä½œè€…å›å¤","comment_id":271762,"uid":"1662192","ip_address":"","utype":1,"ctime":1609809276,"user_name_real":"ç‹å–†"}],"discussion_count":1,"race_medal":0,"score":"10199733308","product_id":100060801,"comment_content":"æƒ³é—®ä¸€ä¸‹åœ¨item2vecå’Œgraph embeddingé‡Œé¢ttléƒ½è®¾ç½®æˆäº†24å°æ—¶ï¼Œä¹Ÿå°±æ˜¯è¯´24å°æ—¶å€™åè¿™äº›embeddingå°±ä¼šä»redisé‡Œé¢evictæ‰å—ï¼Ÿ<br><br>è¿˜æœ‰å°±æ˜¯å¦‚æœæœ‰new userå’Œnew itemæˆ‘ä»¬éƒ½æ˜¯éœ€è¦train from scratchå—ï¼Ÿè¿˜æ˜¯è¯´å¯ä»¥å¢é‡è®­ç»ƒï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513036,"discussion_content":"éå¸¸ç»†å¿ƒã€‚\n1ã€æ˜¯çš„ï¼Œttlä¼šè®©embåœ¨24å°æ—¶å€™å¤±æ•ˆï¼Œè¿™ä¸€èˆ¬æ˜¯ç”Ÿäº§ç¯å¢ƒçš„åšæ³•ï¼Œé¿å…ä¸€äº›è¿‡æœŸçš„é”™è¯¯embç•™å­˜ã€‚\n2ã€embå‡ ä¹æ²¡æœ‰åŠæ³•å¢é‡è®­ç»ƒï¼Œéœ€è¦é‡æ–°è®­ç»ƒç”Ÿæˆnew emb","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609809276,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":266210,"user_name":"é™ˆå¨æ´‹","can_delete":false,"product_type":"c1","uid":2264679,"ip_address":"","ucode":"DCF84B4D3A7354","user_header":"https://static001.geekbang.org/account/avatar/00/22/8e/67/afb412fb.jpg","comment_is_top":false,"comment_ctime":1607242864,"is_pvip":false,"replies":[{"id":"96787","content":"çœ‹è‡ªå·±ã€‚å¦‚æœä½ è§‰å¾—è‡ªå·±æœ‰èƒ½åŠ›å¤ç°ï¼Œå½“ç„¶ä¸ç”¨å¼„æ‡‚æ¯å¥ä»£ç çš„æ„æ€ã€‚","user_name":"ä½œè€…å›å¤","comment_id":266210,"uid":"1662192","ip_address":"","utype":1,"ctime":1607389950,"user_name_real":"ç‹å–†"}],"discussion_count":2,"race_medal":0,"score":"10197177456","product_id":100060801,"comment_content":"ä¸‹åˆå¥½ï¼Œè¯·é—®è€å¸ˆï¼š<br>ä½œä¸ºæ¨èç³»ç»Ÿå·¥ç¨‹å¸ˆï¼Œåœ¨å­¦ä¹ ä»£ç çš„æ—¶å€™ï¼Œé™¤äº†æŒæ¡ä»£ç å®ç°äº†ä»€ä¹ˆï¼Œè¿˜è¦æŠŠæ¯ä¸€å¥ä»£ç çš„æ„æ€å¼„é€å½»å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511178,"discussion_content":"çœ‹è‡ªå·±ã€‚å¦‚æœä½ è§‰å¾—è‡ªå·±æœ‰èƒ½åŠ›å¤ç°ï¼Œå½“ç„¶ä¸ç”¨å¼„æ‡‚æ¯å¥ä»£ç çš„æ„æ€ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607389950,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2264679,"avatar":"https://static001.geekbang.org/account/avatar/00/22/8e/67/afb412fb.jpg","nickname":"é™ˆå¨æ´‹","note":"","ucode":"DCF84B4D3A7354","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332910,"discussion_content":"éå¸¸æ„Ÿè°¢è€å¸ˆçš„å›ç­”ï¼Œè‡ªé—®æ²¡æœ‰è¿™ä¸ªå¤ç°èƒ½åŠ›ï¼Œæˆ‘è¿˜æ˜¯å¬ä»è€å¸ˆçš„è¯ï¼Œä¸€å¥ä¸€å¥å¼„æ˜ç™½ï¼~","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1607391953,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":263414,"user_name":"èŒƒé—²","can_delete":false,"product_type":"c1","uid":1073125,"ip_address":"","ucode":"F21FD7DF6BA53C","user_header":"https://static001.geekbang.org/account/avatar/00/10/5f/e5/54325854.jpg","comment_is_top":false,"comment_ctime":1606128602,"is_pvip":false,"replies":[{"id":"95614","content":"å½“ç„¶å¯ä»¥ï¼Œä¸ä»…å¯ä»¥ç”¨tensorflowï¼Œè¿˜å¯ä»¥ç”¨ä»»ä½•æ·±åº¦å­¦ä¹ å¹³å°æ¥è®­ç»ƒã€‚","user_name":"ä½œè€…å›å¤","comment_id":263414,"uid":"1662192","ip_address":"","utype":1,"ctime":1606181511,"user_name_real":"ç‹å–†"}],"discussion_count":1,"race_medal":0,"score":"10196063194","product_id":100060801,"comment_content":"embedddingä¸å¯ä»¥ç”¨tfæ¥æ±‚ä¹ˆï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510179,"discussion_content":"å½“ç„¶å¯ä»¥ï¼Œä¸ä»…å¯ä»¥ç”¨tensorflowï¼Œè¿˜å¯ä»¥ç”¨ä»»ä½•æ·±åº¦å­¦ä¹ å¹³å°æ¥è®­ç»ƒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606181511,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":258779,"user_name":"è¬é‡Œé•·ç©º","can_delete":false,"product_type":"c1","uid":2199552,"ip_address":"","ucode":"54343639CA8397","user_header":"https://static001.geekbang.org/account/avatar/00/21/90/00/cfc2b463.jpg","comment_is_top":false,"comment_ctime":1604555159,"is_pvip":false,"replies":[{"id":"94258","content":"spark word2vecæ²¡æœ‰åšnegative samplingï¼Œè®­ç»ƒé€Ÿåº¦è‚¯å®šæ…¢ä¸€äº›ã€‚æ²¡æœ‰çœ‹è¿‡gensimæºç ï¼Œä½†åº”è¯¥ä½¿ç”¨äº†negative samplingåŠ å¿«è®­ç»ƒé€Ÿåº¦ã€‚<br><br>è¯¾ç¨‹ä¸­å…³äºå…·ä½“çš„å‚æ•°ï¼Œdebugè¿™äº›é—®é¢˜æˆ‘å¯èƒ½éƒ½ä¸ä¼šç»™å…·ä½“çš„å»ºè®®ï¼Œå› ä¸ºå®é™…é—®é¢˜çš„å˜é‡å¤ªå¤šï¼Œè·Ÿä½ çš„æ•°æ®é‡ï¼Œç‰©å“é‡ï¼ŒèŠ‚ç‚¹æ•°ï¼Œmemoryéƒ½æœ‰å…³ç³»ï¼Œè¿˜æ˜¯è‡ªå·±å¤šå°è¯•ï¼Œè°¢è°¢ã€‚","user_name":"ä½œè€…å›å¤","comment_id":258779,"uid":"1662192","ip_address":"","utype":1,"ctime":1604652399,"user_name_real":"ç‹å–†"}],"discussion_count":2,"race_medal":0,"score":"10194489751","product_id":100060801,"comment_content":"è€å¸ˆï¼Œè¿™é‡Œæƒ³å†é—®ä¸ªå†…å­˜çš„é—®é¢˜ï¼Œç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæ¯”å¦‚2000ä¸‡çš„å•†å“ï¼Œä½¿ç”¨spark-word2vecæ¥è®­ç»ƒï¼Œç»´åº¦è®¾ç½®ä¸º100ï¼Œè¿™é‡Œdriverçš„å†…å­˜ä¸€èˆ¬è¦è®¾ç½®å¤šå¤§å•Šï¼Œæˆ‘ç”¨äº†36gè¿˜æ˜¯ä¼šå­˜åœ¨å†…å­˜é—®é¢˜ï¼Œä½†æ˜¯ç”¨gensimçš„å•æœºè®­ç»ƒï¼Œä¸åˆ°30gå°±è®­ç»ƒå¥½äº†","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508751,"discussion_content":"spark word2vecæ²¡æœ‰åšnegative samplingï¼Œè®­ç»ƒé€Ÿåº¦è‚¯å®šæ…¢ä¸€äº›ã€‚æ²¡æœ‰çœ‹è¿‡gensimæºç ï¼Œä½†åº”è¯¥ä½¿ç”¨äº†negative samplingåŠ å¿«è®­ç»ƒé€Ÿåº¦ã€‚\n\nè¯¾ç¨‹ä¸­å…³äºå…·ä½“çš„å‚æ•°ï¼Œdebugè¿™äº›é—®é¢˜æˆ‘å¯èƒ½éƒ½ä¸ä¼šç»™å…·ä½“çš„å»ºè®®ï¼Œå› ä¸ºå®é™…é—®é¢˜çš„å˜é‡å¤ªå¤šï¼Œè·Ÿä½ çš„æ•°æ®é‡ï¼Œç‰©å“é‡ï¼ŒèŠ‚ç‚¹æ•°ï¼Œmemoryéƒ½æœ‰å…³ç³»ï¼Œè¿˜æ˜¯è‡ªå·±å¤šå°è¯•ï¼Œè°¢è°¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604652399,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2411441,"avatar":"","nickname":"Geek_65b3bd","note":"","ucode":"1155A4FDDC34AC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":341858,"discussion_content":"spark w2væ˜¯ç”¨çš„å±‚æ¬¡softmaxæ¥åŠ é€Ÿè®­ç»ƒï¼Œgensimå¯ä»¥é€‰æ‹©æ˜¯ç”¨negative samplingè¿˜æ˜¯hierarchical softmax,å¹¶ä¸”å¯ä»¥è‡ªå·±è°ƒæ•´negative sampleçš„æ•°ç›®ã€‚","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1610538580,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":257395,"user_name":"fsc2016","can_delete":false,"product_type":"c1","uid":1255585,"ip_address":"","ucode":"5480F05703A974","user_header":"https://static001.geekbang.org/account/avatar/00/13/28/a1/fd2bfc25.jpg","comment_is_top":false,"comment_ctime":1603957323,"is_pvip":false,"replies":[{"id":"93752","content":"å…¶å®æ˜¯ä¸€è‡´çš„ï¼Œæ–‡ç¨¿ä¸­probDistributionä¸­å­˜å‚¨çš„æ˜¯å“ä¸€è·³ç‰©å“çš„ç»Ÿè®¡æ•°é‡ï¼Œgithubä¸­å­˜å‚¨çš„æ˜¯è·³è½¬æ¦‚ç‡ã€‚ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ã€‚<br><br>å› ä¸ºgithubé¡¹ç›®åœ¨ä¸æ–­ä¼˜åŒ–è¿­ä»£ï¼Œæ‰€ä»¥è¿˜æ˜¯æœ€å¥½ä»¥githubä¸ºå‡†ã€‚æ–‡ç¨¿ä¸­çš„ä»£ç æˆ‘ä¼šæ‰¾æ—¶é—´æ›´æ–°ã€‚å¤šè°¢ç»†å¿ƒçš„å‘ç°ã€‚","user_name":"ä½œè€…å›å¤","comment_id":257395,"uid":"1662192","ip_address":"","utype":1,"ctime":1604017668,"user_name_real":"ç‹å–†"}],"discussion_count":1,"race_medal":0,"score":"10193891915","product_id":100060801,"comment_content":"è€å¸ˆï¼Œå…³äºéšæœºæ¸¸èµ°åˆ°ä¸‹ä¸€éƒ¨ç”µå½±å®ç°ï¼Œæ–‡ç¨¿å’Œgithubä¸Šä»£ç ä¸ä¸€è‡´ã€‚æ–‡ç¨¿ä¸­è¿™ç§å®ç°ï¼Œå¯ä»¥ä¿è¯æ¸¸èµ°æ¦‚ç‡å¤§çš„ç”µå½±ï¼Œä¼˜å…ˆè¢«æ¸¸èµ°åˆ°å˜›<br>æ–‡ç¨¿ä¸­ï¼š<br>&#47;&#47;ä»curElementåˆ°ä¸‹ä¸€ä¸ªè·³çš„è½¬ç§»æ¦‚ç‡å‘é‡ <br>val probDistribution = transferMatrix(curElement) <br>val curCount = itemCount(curElement) <br>val randomDouble = Random.nextDouble() <br>var culCount:Long = 0 <br>&#47;&#47;æ ¹æ®è½¬ç§»æ¦‚ç‡å‘é‡éšæœºå†³å®šä¸‹ä¸€è·³çš„ç‰©å“ <br>breakable { for ((item, count) &lt;- probDistribution) { <br>culCount += count<br> if (culCount &gt;= randomDouble * curCount)<br>{ curElement = item <br>break } }}<br>githubä¸Šï¼š<br>  val probDistribution = transitionMatrix(curElement)<br>  val randomDouble = Random.nextDouble()<br>  breakable { for ((item, prob) &lt;- probDistribution) {<br>  if (randomDouble &gt;= prob){<br>       curElement = item<br>       break<br>    }","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508321,"discussion_content":"å…¶å®æ˜¯ä¸€è‡´çš„ï¼Œæ–‡ç¨¿ä¸­probDistributionä¸­å­˜å‚¨çš„æ˜¯å“ä¸€è·³ç‰©å“çš„ç»Ÿè®¡æ•°é‡ï¼Œgithubä¸­å­˜å‚¨çš„æ˜¯è·³è½¬æ¦‚ç‡ã€‚ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ã€‚\n\nå› ä¸ºgithubé¡¹ç›®åœ¨ä¸æ–­ä¼˜åŒ–è¿­ä»£ï¼Œæ‰€ä»¥è¿˜æ˜¯æœ€å¥½ä»¥githubä¸ºå‡†ã€‚æ–‡ç¨¿ä¸­çš„ä»£ç æˆ‘ä¼šæ‰¾æ—¶é—´æ›´æ–°ã€‚å¤šè°¢ç»†å¿ƒçš„å‘ç°ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604017668,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":256593,"user_name":"WiFeng","can_delete":false,"product_type":"c1","uid":1043466,"ip_address":"","ucode":"D7F0FD3EC815B4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/0a/c35f9000.jpg","comment_is_top":false,"comment_ctime":1603686247,"is_pvip":false,"replies":[{"id":"93402","content":"æœ‰å¯èƒ½æ˜¯scalaç‰ˆæœ¬çš„é—®é¢˜ï¼Œé¡¹ç›®ä¸­ä½¿ç”¨äº†scala 2.11ç‰ˆæœ¬ï¼Œå¯ä»¥æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦ä¸€è‡´ã€‚<br><br>å¦‚æœè¿˜ä¸èƒ½è§£å†³çš„è¯ï¼Œéœ€è¦è‡ªè¡Œç™¾åº¦æˆ–googleä¸€ä¸‹è§£å†³æ–¹æ¡ˆã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1603692963,"ip_address":"","comment_id":256593,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10193620839","product_id":100060801,"comment_content":"ä½ ä»¬æ‰§è¡Œéƒ½æ²¡æœ‰é—®é¢˜å—ï¼Ÿ<br><br>&#47;Users&#47;leeco&#47;github&#47;wzhe06&#47;SparrowRecSys&#47;src&#47;main&#47;java&#47;com&#47;wzhe&#47;sparrowrecsys&#47;offline&#47;spark&#47;embedding&#47;Embedding.scala:34:43<br>No TypeTag available for scala.collection.Seq[String]<br>    val sortUdf: UserDefinedFunction = udf((rows: Seq[Row]) =&gt; {","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508064,"discussion_content":"æœ‰å¯èƒ½æ˜¯scalaç‰ˆæœ¬çš„é—®é¢˜ï¼Œé¡¹ç›®ä¸­ä½¿ç”¨äº†scala 2.11ç‰ˆæœ¬ï¼Œå¯ä»¥æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦ä¸€è‡´ã€‚\n\nå¦‚æœè¿˜ä¸èƒ½è§£å†³çš„è¯ï¼Œéœ€è¦è‡ªè¡Œç™¾åº¦æˆ–googleä¸€ä¸‹è§£å†³æ–¹æ¡ˆã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603692963,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043466,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ec/0a/c35f9000.jpg","nickname":"WiFeng","note":"","ucode":"D7F0FD3EC815B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318291,"discussion_content":"å¤šè°¢å›å¤ã€‚æ˜¯é€‰æ‹©çš„2.11 ç‰ˆæœ¬","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1603698988,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1043466,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ec/0a/c35f9000.jpg","nickname":"WiFeng","note":"","ucode":"D7F0FD3EC815B4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":318673,"discussion_content":"ç»ˆäºå¯ä»¥æ­£å¸¸è¿è¡Œäº†ã€‚å¯¼å…¥äº†2æ¬¡scala....., å¯¼å…¥çš„å¦ä¸€ä¸ªç‰ˆæœ¬ä¸æ”¯æŒ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603804023,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255304,"user_name":"Geek_63ee39","can_delete":false,"product_type":"c1","uid":2202096,"ip_address":"","ucode":"A41379ADD76480","user_header":"https://static001.geekbang.org/account/avatar/00/21/99/f0/ba3c0208.jpg","comment_is_top":false,"comment_ctime":1603297872,"is_pvip":false,"replies":[{"id":"93037","content":"å‰ææ˜¯æŠŠtransferMatrixå¹¿æ’­å‡ºå»ï¼Œé¡¹ç›®é‡Œé¢çš„transferMatrixå¤§å°æ²¡é—®é¢˜ï¼Œå¦‚æœç‰¹åˆ«æµ·é‡æ•°æ®å½¢æˆçš„transferMatrixå¯èƒ½ä¸€äº›worker nodeçš„å†…å­˜ä¼šæœ‰é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1603347181,"ip_address":"","comment_id":255304,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10193232464","product_id":100060801,"comment_content":"è¯·æ•™ä¸€ä¸‹è€å¸ˆï¼Œä»æ•ˆç‡è§’åº¦ä¸Šè®²ï¼Œå¯ä»¥æŠŠè½¬ç§»çŸ©é˜µtransferMatrixæ”¾åœ¨executorç«¯è¿›è¡Œåˆ†å¸ƒå¼éšæœºæ¸¸èµ°å§ï¼Œå› ä¸ºè¿™æ˜¯å¯ä»¥å¹¶è¡Œè®¡ç®—çš„ã€‚","like_count":2,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507680,"discussion_content":"å‰ææ˜¯æŠŠtransferMatrixå¹¿æ’­å‡ºå»ï¼Œé¡¹ç›®é‡Œé¢çš„transferMatrixå¤§å°æ²¡é—®é¢˜ï¼Œå¦‚æœç‰¹åˆ«æµ·é‡æ•°æ®å½¢æˆçš„transferMatrixå¯èƒ½ä¸€äº›worker nodeçš„å†…å­˜ä¼šæœ‰é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603347181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":254424,"user_name":"å¤§é­”ç‹","can_delete":false,"product_type":"c1","uid":1308552,"ip_address":"","ucode":"5EB049D18E122F","user_header":"https://static001.geekbang.org/account/avatar/00/13/f7/88/da243c77.jpg","comment_is_top":false,"comment_ctime":1603114899,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"10193049491","product_id":100060801,"comment_content":"å¯¹scalaè¯­æ³•ä¸å¤ªç†Ÿ,scalaæ–¹æ³•è¿”å›å€¼å±…ç„¶ä¸ç”¨å†™return...","like_count":2,"discussions":[{"author":{"id":1068060,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4c/1c/da0cdb15.jpg","nickname":"é¾™å•¸äº‘","note":"","ucode":"661086A77EAA1B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533176,"discussion_content":"ä½ å†™äº†ä¹Ÿæ²¡äº‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637807881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2159285,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIZCX6TPTqnEcG5piaBqtac9GjUuaYILZCjAAW0slkicu68cyeKLGw68TzSJK3LOGMMIpwPylhxEEibg/132","nickname":"InfoQ_c5e776ea6a50","note":"","ucode":"6D70BE7B2B1D81","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":339541,"discussion_content":"å“¥ä»¬ï¼Œå‡½æ•°å¼ç¼–ç¨‹äº†è§£ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609726445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":254417,"user_name":"æµ£ç†Šå½“å®¶","can_delete":false,"product_type":"c1","uid":1952248,"ip_address":"","ucode":"939F06050423E4","user_header":"https://static001.geekbang.org/account/avatar/00/1d/c9/f8/72955ef9.jpg","comment_is_top":false,"comment_ctime":1603113872,"is_pvip":false,"replies":[{"id":"92864","content":"æˆ‘ä¸€ä¸ªäººèƒ½åŠ›æœ‰é™ï¼Œæ¬¢è¿å¤§å®¶æä¾›javaï¼Œpythonçš„ç‰ˆæœ¬ï¼Œè´¡çŒ®åˆ°å¼€æºé¡¹ç›®ä¸­ï¼<br>ä»scalaåˆ°pythonåº”è¯¥æ²¡æœ‰å®Œå…¨è‡ªåŠ¨çš„è½¬æ¢å·¥å…·ï¼Œè¿˜æ˜¯éœ€è¦å‚ç…§å®˜æ–¹æ–‡æ¡£ä¸åŒè¯­è¨€çš„ç”¨æ³•æ¥è¿›è¡Œè½¬æ¢ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1603153735,"ip_address":"","comment_id":254417,"utype":1}],"discussion_count":3,"race_medal":0,"score":"10193048464","product_id":100060801,"comment_content":"è€å¸ˆï¼Œè¯·é—®æˆ‘å¹³æ—¶å·¥ä½œä¸­æ˜¯ç”¨PySparkï¼Œè¿™èŠ‚è¯¾çš„ä»£ç æ˜¯ä¸æ˜¯ä¹Ÿéƒ½å¯ä»¥ç”¨pythonçš„æ¥å†™ï¼Ÿæœ‰ä»€ä¹ˆå¥½çš„å­¦ä¹ èµ„æ–™æ¥å­¦ä¹ æ€ä¹ˆæŠŠä»–ä»¬ç¿»è¯‘æˆpythonå—ï¼Ÿè°¢è°¢è€å¸ˆï¼ï¼","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507386,"discussion_content":"æˆ‘ä¸€ä¸ªäººèƒ½åŠ›æœ‰é™ï¼Œæ¬¢è¿å¤§å®¶æä¾›javaï¼Œpythonçš„ç‰ˆæœ¬ï¼Œè´¡çŒ®åˆ°å¼€æºé¡¹ç›®ä¸­ï¼\nä»scalaåˆ°pythonåº”è¯¥æ²¡æœ‰å®Œå…¨è‡ªåŠ¨çš„è½¬æ¢å·¥å…·ï¼Œè¿˜æ˜¯éœ€è¦å‚ç…§å®˜æ–¹æ–‡æ¡£ä¸åŒè¯­è¨€çš„ç”¨æ³•æ¥è¿›è¡Œè½¬æ¢ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603153735,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2275142,"avatar":"https://static001.geekbang.org/account/avatar/00/22/b7/46/0a587042.jpg","nickname":"æå…ƒ","note":"","ucode":"FBBF0B1AD37A84","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":337850,"discussion_content":"å­¦ä¹ scalaä¹Ÿæ˜¯å¿…å¤‡çš„ï¼Œæ²¡å¿…è¦éè¦è½¬ä¸ºpythonç‰ˆæœ¬ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1609089268,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2343345,"avatar":"https://static001.geekbang.org/account/avatar/00/23/c1/b1/dcde3850.jpg","nickname":"ğŸ’¤","note":"","ucode":"EEED6754B25626","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2275142,"avatar":"https://static001.geekbang.org/account/avatar/00/22/b7/46/0a587042.jpg","nickname":"æå…ƒ","note":"","ucode":"FBBF0B1AD37A84","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":350711,"discussion_content":"ç°åœ¨Java python Scala c++ tensorflow sparkéƒ½è¦ä¼šç‚¹ï¼Œå†™ç€å†™ç€æœ€åå“ªä¸ªéƒ½ä¸ä¼šäº†ï¼Œå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1613985055,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":337850,"ip_address":""},"score":350711,"extra":""}]}]},{"had_liked":false,"id":254158,"user_name":"WiFeng","can_delete":false,"product_type":"c1","uid":1043466,"ip_address":"","ucode":"D7F0FD3EC815B4","user_header":"https://static001.geekbang.org/account/avatar/00/0f/ec/0a/c35f9000.jpg","comment_is_top":false,"comment_ctime":1603072748,"is_pvip":false,"replies":[{"id":"92823","content":"ä¸æ˜¯ï¼Œé€šè¿‡IDEçš„Sparkç¯å¢ƒæ‰§è¡Œï¼Œæ¥è¿‘çœŸå®çš„ç”Ÿäº§ç¯å¢ƒã€‚å¦‚æœå®‰è£…å¥½äº†SparrowRecsysï¼Œç›´æ¥æ‰§è¡ŒEmbedding objectçš„ä¸»å‡½æ•°å°±å¯ä»¥äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1603094525,"ip_address":"","comment_id":254158,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10193007340","product_id":100060801,"comment_content":"ç”±äºä¹‹å‰æ²¡æœ‰å®é™…åŸºç¡€è¿‡æœºå™¨å­¦ä¹ å¼€å‘ï¼Œè¯·é—®è€å¸ˆï¼Œä¸Šé¢è¿™äº›ä»£ç ä¹Ÿæ˜¯åœ¨ spark-shell ä¸­æ‰§è¡Œå—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507301,"discussion_content":"ä¸æ˜¯ï¼Œé€šè¿‡IDEçš„Sparkç¯å¢ƒæ‰§è¡Œï¼Œæ¥è¿‘çœŸå®çš„ç”Ÿäº§ç¯å¢ƒã€‚å¦‚æœå®‰è£…å¥½äº†SparrowRecsysï¼Œç›´æ¥æ‰§è¡ŒEmbedding objectçš„ä¸»å‡½æ•°å°±å¯ä»¥äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603094525,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2159285,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIZCX6TPTqnEcG5piaBqtac9GjUuaYILZCjAAW0slkicu68cyeKLGw68TzSJK3LOGMMIpwPylhxEEibg/132","nickname":"InfoQ_c5e776ea6a50","note":"","ucode":"6D70BE7B2B1D81","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":313625,"discussion_content":"æœ¬åœ°éƒ½å¯ä»¥è¿è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603077496,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":304364,"user_name":"Apache-ä»£è’™","can_delete":false,"product_type":"c1","uid":2381219,"ip_address":"","ucode":"4BDB7139E02A0F","user_header":"https://static001.geekbang.org/account/avatar/00/24/55/a3/561138f8.jpg","comment_is_top":false,"comment_ctime":1627373366,"is_pvip":false,"replies":[{"id":"110148","content":"åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæ‰€æœ‰å‚æ•°çš„å–å€¼éƒ½æ˜¯é€šè¿‡å¤§é‡çš„ç¦»çº¿å’Œåœ¨çº¿æµ‹è¯•ç¡®å®šçš„ï¼Œç„¶ååŸºäºè¿™äº›æµ‹è¯•æ€»ç»“ç»éªŒï¼Œå‡ ä¹æ€»æ˜¯è¿™æ ·ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1627429797,"ip_address":"","comment_id":304364,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5922340662","product_id":100060801,"comment_content":"è€å¸ˆï¼Œæˆ‘æ³¨æ„åˆ°é‡Œé¢æœ‰ä¸¤ä¸ªå‚æ•°sampleCountã€sampleLengthæ˜¯ç›´æ¥ä¸‹è½½ä»£ç é‡Œé¢çš„ï¼Œè¿™ä¸¤ä¸ªå‚æ•°çš„å–å€¼æœ‰ä»€ä¹ˆä¾æ®å—","like_count":2,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524023,"discussion_content":"åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæ‰€æœ‰å‚æ•°çš„å–å€¼éƒ½æ˜¯é€šè¿‡å¤§é‡çš„ç¦»çº¿å’Œåœ¨çº¿æµ‹è¯•ç¡®å®šçš„ï¼Œç„¶ååŸºäºè¿™äº›æµ‹è¯•æ€»ç»“ç»éªŒï¼Œå‡ ä¹æ€»æ˜¯è¿™æ ·ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627429797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2381219,"avatar":"https://static001.geekbang.org/account/avatar/00/24/55/a3/561138f8.jpg","nickname":"Apache-ä»£è’™","note":"","ucode":"4BDB7139E02A0F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386358,"discussion_content":"è°¢è°¢è€å¸ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627548371,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":297722,"user_name":"ç¬‘ç¬‘æ˜¯ä¸ªå¥½å­©å­","can_delete":false,"product_type":"c1","uid":2286158,"ip_address":"","ucode":"D95535065EAD31","user_header":"https://static001.geekbang.org/account/avatar/00/22/e2/4e/c3e86856.jpg","comment_is_top":false,"comment_ctime":1623746773,"is_pvip":false,"replies":[{"id":"108164","content":"item2vecæ²¡æ³•æŠŠæ‰“åˆ†è¿™ä¸ªlabelå¼•å…¥è¿›æ¥ï¼Œå…³é”®æ­¥éª¤æ˜¯æŒ‰ä½ è‡ªå·±çš„æƒ³æ³•å’Œæ ‡å‡†ç”Ÿæˆæ¯ä¸ªç”¨æˆ·çš„ç”µå½±åºåˆ—ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1623876751,"ip_address":"","comment_id":297722,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5918714069","product_id":100060801,"comment_content":"item2vecçš„åºåˆ—å¤„ç†é‚£å— ä¸ºä»€ä¹ˆåªçœ‹ä¸€ä¸ªç”¨æˆ·æ‰“åˆ†æ¯”è¾ƒé«˜çš„ç”µå½±ä½œä¸ºåºåˆ—å‘€ ä¸ºä»€ä¹ˆä¸æŠŠç”µå½±çš„ratingä½œä¸ºåºåˆ—å‘¢ï¼Ÿ å°±æ˜¯è¡Œæ˜¯uid åˆ—æ˜¯ç”µå½±id å…·ä½“çš„æ•°æ®æ˜¯æŸç”¨æˆ·å¯¹äºæŸç”µå½±çš„æ‰“åˆ†å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":521917,"discussion_content":"item2vecæ²¡æ³•æŠŠæ‰“åˆ†è¿™ä¸ªlabelå¼•å…¥è¿›æ¥ï¼Œå…³é”®æ­¥éª¤æ˜¯æŒ‰ä½ è‡ªå·±çš„æƒ³æ³•å’Œæ ‡å‡†ç”Ÿæˆæ¯ä¸ªç”¨æˆ·çš„ç”µå½±åºåˆ—ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1623876751,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":290776,"user_name":"Sean","can_delete":false,"product_type":"c1","uid":2598647,"ip_address":"","ucode":"E35C2300971FA2","user_header":"https://static001.geekbang.org/account/avatar/00/27/a6/f7/e434c375.jpg","comment_is_top":false,"comment_ctime":1619749637,"is_pvip":false,"replies":[{"id":"105444","content":"ä½ çš„ç†è§£æ²¡æœ‰é”™è¯¯ï¼Œä½†æ˜¯item2vecæ­£æ˜¯å¸Œæœ›å‘ç°è¿™ç§ç›¸å…³æ€§ï¼Œæ¯”å¦‚ä½ è¯´ç”¨æˆ·çš„æµè§ˆ&#47;è´­ä¹°è®°å½•æ˜¯éšæœºçš„ï¼Œå…¶å®å½“ç„¶ä¸æ˜¯è¿™æ ·çš„ï¼Œæ¯”å¦‚ç”¨æˆ·ä¹°å®Œç”µè„‘å°±å»ä¹°é¼ æ ‡ï¼Œç”µè„‘å’Œé¼ æ ‡çš„embå°±ä¼šå¾ˆæ¥è¿‘ï¼Œè¿™é‡Œé¢ä¸å°±è•´å«ç€æ¨èé€»è¾‘å—ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1620008947,"ip_address":"","comment_id":290776,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5914716933","product_id":100060801,"comment_content":"ç‹å–†è€å¸ˆä½ å¥½ï¼Œæƒ³è¯·é—®Item2vecè§‚å¿µä¸Šçš„é—®é¢˜<br>æ ¹æ®æˆ‘çš„äº†è§£ï¼Œword2vecæ˜¯è—‰ç”±å¤§é‡æ–‡ç« é€è¿‡ä¸Šä¸‹æ–‡æ¥å­¦ä¹ æ¯ä¸ªè¯çš„å«ä¹‰ï¼Œä¾‹å¦‚ã€Œæˆ‘æ˜¯ä¸€åå­¦ç”Ÿã€å’Œã€Œä»–æ˜¯ä¸€åå·¥ç¨‹å¸ˆã€ï¼Œword2vecå¯ä»¥åˆ¤æ–­è¿™ä¸¤å¥æœ‰ç›¸ä¼¼çš„å¥å‹ï¼Œå¾—çŸ¥ï¼ˆæˆ‘,ä»–ï¼‰æ˜¯ç›¸ä¼¼çš„ï¼Œï¼ˆå­¦ç”Ÿ,å·¥ç¨‹å¸ˆï¼‰æ˜¯ç›¸ä¼¼çš„ï¼ˆéƒ½æ˜¯ä¸€ç§èŒä¸šï¼‰ã€‚<br>ä½†æ˜¯ç”¨æˆ·çš„æµè§ˆçºªå½•å¯èƒ½æ˜¯éšæœºçš„ï¼Œä¾‹å¦‚åœ¨ç½‘è·¯å•†åŸçš„ä½¿ç”¨æƒ…å¢ƒä¸‹ï¼Œç”¨æˆ·Açš„æµè§ˆé¡ºåºä¸º(æ‰‹æœºã€è€³æœºã€ç”µè„‘ã€ä¿æ¸©æ¯)ï¼Œç”¨æˆ·Bçš„æµè§ˆé¡ºåºä¸º(æ‰‹æœºã€è€³æœºã€ç”µè„‘ã€å¹³åº•é”…)ï¼Œæˆ‘ä»¬ä¸èƒ½è¯´(ä¿æ¸©æ¯,å¹³åº•é”…)æ˜¯ç›¸ä¼¼çš„ï¼Œä½†åœ¨word2vecæ¼”ç®—æ³•çš„é€»è¾‘ä¸‹ï¼Œå› ä¸ºä»–ä»¬çš„ä¸Šä¸‹æ–‡ä¸€æ ·ï¼Œæ‰€ä»¥å¾ˆå¯èƒ½ä¼šè¢«æ¨¡å‹è®¤ä¸ºæ˜¯ç›¸ä¼¼çš„ï¼Ÿ<br>ä¸çŸ¥é“æˆ‘æœ‰æ²¡æœ‰ç†è§£é”™è¯¯ï¼Œå¦‚æœæ˜¯è¿™æ ·çš„è¯é‚£è¯¥å¦‚ä½•ä¿è¯Item2vecæ˜¯æœ‰æ•ˆçš„å‘¢ï¼Ÿè°¢è°¢è€å¸ˆï¼","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":519286,"discussion_content":"ä½ çš„ç†è§£æ²¡æœ‰é”™è¯¯ï¼Œä½†æ˜¯item2vecæ­£æ˜¯å¸Œæœ›å‘ç°è¿™ç§ç›¸å…³æ€§ï¼Œæ¯”å¦‚ä½ è¯´ç”¨æˆ·çš„æµè§ˆ/è´­ä¹°è®°å½•æ˜¯éšæœºçš„ï¼Œå…¶å®å½“ç„¶ä¸æ˜¯è¿™æ ·çš„ï¼Œæ¯”å¦‚ç”¨æˆ·ä¹°å®Œç”µè„‘å°±å»ä¹°é¼ æ ‡ï¼Œç”µè„‘å’Œé¼ æ ‡çš„embå°±ä¼šå¾ˆæ¥è¿‘ï¼Œè¿™é‡Œé¢ä¸å°±è•´å«ç€æ¨èé€»è¾‘å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1620008947,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":279744,"user_name":"Geek_0d974b","can_delete":false,"product_type":"c1","uid":2444779,"ip_address":"","ucode":"F344C35E3CD34B","user_header":"","comment_is_top":false,"comment_ctime":1613954221,"is_pvip":false,"replies":[{"id":"101715","content":"é’ˆå¯¹embeddingå†·å¯åŠ¨é—®é¢˜ï¼Œæˆ‘ä¸“é—¨å†™äº†ä¸€ç¯‡æ–‡ç« ï¼Œæ¨èå¤§å®¶å‚è€ƒã€‚https:&#47;&#47;zhuanlan.zhihu.com&#47;p&#47;351390011","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1614046691,"ip_address":"","comment_id":279744,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5908921517","product_id":100060801,"comment_content":"è€å¸ˆï¼Œå¦‚æœæœ‰ä¸€ä¸ªå…¨æ–°çš„itemæ¯”å¦‚ç”µå½±&#47;å•†å“&#47;æ–°é—»ï¼Œä»æ¥æ²¡æœ‰è¢«ç”¨æˆ·çœ‹è¿‡ï¼Œæ€ä¹ˆèƒ½å¤Ÿå¾—åˆ°å…¶embedding å‘é‡ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":515856,"discussion_content":"é’ˆå¯¹embeddingå†·å¯åŠ¨é—®é¢˜ï¼Œæˆ‘ä¸“é—¨å†™äº†ä¸€ç¯‡æ–‡ç« ï¼Œæ¨èå¤§å®¶å‚è€ƒã€‚https://zhuanlan.zhihu.com/p/351390011","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614046691,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2444779,"avatar":"","nickname":"Geek_0d974b","note":"","ucode":"F344C35E3CD34B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":351173,"discussion_content":"æœ€è¿‘åœ¨ä½ çš„ä¸“æ è¯»åˆ°äº†ï¼Œå¾ˆå—ç”¨ï¼Œè°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1614171552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":272295,"user_name":"å°çµåŸ","can_delete":false,"product_type":"c1","uid":2404950,"ip_address":"","ucode":"9EF2943E19A19A","user_header":"https://static001.geekbang.org/account/avatar/00/24/b2/56/b71ee269.jpg","comment_is_top":false,"comment_ctime":1610020526,"is_pvip":false,"replies":[{"id":"98735","content":"å½“ç„¶å¯ä»¥ï¼Œnode2vecä¸»è¦å‘ç°çš„æ˜¯ç›¸å…³æ€§è§„å¾‹ã€‚ä¸€æ¬¡è®¢å•çš„å¤šä¸ªç‰©å“å½“ç„¶æ˜¯ç›¸å…³çš„ï¼Œè¦å…³æ³¨ä¿¡æ¯çš„æœ¬è´¨ï¼Œä¸è¦å…³æ³¨é‚£äº›ç”Ÿç¡¬çš„è§„åˆ™ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1610046387,"ip_address":"","comment_id":272295,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5904987822","product_id":100060801,"comment_content":"æƒ³è¯·é—®ä¸‹è€å¸ˆï¼Œå¯¹item2vecæ¥è¯´ï¼ŒåŒä¸€åºåˆ—çš„ç‰©å“å¯ä»¥ä¸¤ä¸¤èŠ‚å¯¹ç”Ÿæˆè¾“å…¥æ•°æ®ã€‚å¯æ˜¯å¯¹node2vecéœ€è¦å…ˆç”Ÿæˆæœ‰å‘å›¾ç„¶åå†éšæœºæ¸¸èµ°ï¼Œå¦‚æœåªæœ‰åºåˆ—æ•°æ®ä½†æ˜¯æ²¡æœ‰å…ˆåï¼ˆä¸€æ¬¡è®¢å•åŒ…å«å¾ˆå¤šç‰©å“ï¼‰ï¼Œè¿™ç§æƒ…å†µä¸‹è¿˜å¯ä»¥ç”¨node2vecå—","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513226,"discussion_content":"å½“ç„¶å¯ä»¥ï¼Œnode2vecä¸»è¦å‘ç°çš„æ˜¯ç›¸å…³æ€§è§„å¾‹ã€‚ä¸€æ¬¡è®¢å•çš„å¤šä¸ªç‰©å“å½“ç„¶æ˜¯ç›¸å…³çš„ï¼Œè¦å…³æ³¨ä¿¡æ¯çš„æœ¬è´¨ï¼Œä¸è¦å…³æ³¨é‚£äº›ç”Ÿç¡¬çš„è§„åˆ™ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610046387,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":271828,"user_name":"èŠ±èŠ±èŠ±æœ¨å…°","can_delete":false,"product_type":"c1","uid":2371307,"ip_address":"","ucode":"E62939C7DADC61","user_header":"https://static001.geekbang.org/account/avatar/00/24/2e/eb/a74e5ba6.jpg","comment_is_top":false,"comment_ctime":1609829452,"is_pvip":false,"replies":[{"id":"98581","content":"åŸºæœ¬å¯ä»¥è¿™æ ·ç†è§£ï¼ŒäºŒè€…é™¤äº†ä¸Šå±‚ç½‘ç»œç»“æ„ä¸åŒï¼Œè¾“å…¥å±‚åˆ°embeddingå±‚çš„éƒ¨åˆ†æ˜¯ä¸€è‡´çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1609832661,"ip_address":"","comment_id":271828,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5904796748","product_id":100060801,"comment_content":"è€å¸ˆï¼Œæ‚¨ä»‹ç»çš„è¿™äº›embeddingéƒ½æ˜¯åŸºäºè¡Œä¸ºåºåˆ—ä½œä¸ºè®­ç»ƒæ•°æ®çš„ã€‚<br>æ·±åº¦å­¦ä¹ ä¸­ï¼Œæ¯”å¦‚TFä¸­å¯ä»¥åˆ©ç”¨embeddingå±‚å¯ä»¥å°†one-hotå‘é‡æˆ–è€…multil-hotå‘é‡è¿›è¡Œembeddingè½¬æ¢ï¼Œè¿™ä¸¤ä¸ªæœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿæ˜¯ä¸æ˜¯å¯ä»¥æŠŠTFçš„embeddingå±‚ç†è§£ä¸ºword2vecæ¨¡å‹çš„éšè—å±‚ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513059,"discussion_content":"åŸºæœ¬å¯ä»¥è¿™æ ·ç†è§£ï¼ŒäºŒè€…é™¤äº†ä¸Šå±‚ç½‘ç»œç»“æ„ä¸åŒï¼Œè¾“å…¥å±‚åˆ°embeddingå±‚çš„éƒ¨åˆ†æ˜¯ä¸€è‡´çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609832661,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":270753,"user_name":"Riyeeã€","can_delete":false,"product_type":"c1","uid":2335907,"ip_address":"","ucode":"4567734FEECE22","user_header":"https://static001.geekbang.org/account/avatar/00/23/a4/a3/88280531.jpg","comment_is_top":false,"comment_ctime":1609237765,"is_pvip":false,"replies":[{"id":"98281","content":"å¯èƒ½è·Ÿscalaçš„ç‰ˆæœ¬æœ‰å…³ç³»ï¼Œè‡ªå·±è°ƒè¯•ä¸€ä¸‹","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1609354972,"ip_address":"","comment_id":270753,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5904205061","product_id":100060801,"comment_content":"åœ¨è®­ç»ƒItem2Vecä»£ç ä¸­ï¼š<br><br>samplesçš„ç±»å‹æ˜¯ï¼šRDD[Seq[String]]<br>word2vecï¼šæ˜¯Word2Vec()å‡ºæ¥çš„<br>ä½¿ç”¨<br>word2vec.fit(samples) ç¼–è¯‘ä¸é€šè¿‡ï¼Œä½†æ˜¯å°†samplesç±»å‹æ”¹æˆDataFrameå°±å¯ä»¥ï¼Œè¿™æ˜¯æ€ä¹ˆä¸€å›äº‹å‘¢ï¼Ÿè€å¸ˆï¼","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":512739,"discussion_content":"å¯èƒ½è·Ÿscalaçš„ç‰ˆæœ¬æœ‰å…³ç³»ï¼Œè‡ªå·±è°ƒè¯•ä¸€ä¸‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1609354972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2403443,"avatar":"https://static001.geekbang.org/account/avatar/00/24/ac/73/5a50b859.jpg","nickname":"C.T","note":"","ucode":"ED5C30CF5A0ADC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":349812,"discussion_content":"è¯¾ç¨‹ä»£ç æ˜¯spark.mllib.feature.word2vecã€‚ ä½ ç”¨çš„åº”è¯¥æ˜¯spark.ml.feature.word2vecã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1613563056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":265586,"user_name":"æµ£ç†Šå½“å®¶","can_delete":false,"product_type":"c1","uid":1952248,"ip_address":"","ucode":"939F06050423E4","user_header":"https://static001.geekbang.org/account/avatar/00/1d/c9/f8/72955ef9.jpg","comment_is_top":false,"comment_ctime":1606957420,"is_pvip":false,"replies":[{"id":"96557","content":"1ã€æ˜¯å¯è¡Œçš„ï¼Œå› ä¸ºembeddingç›¸å½“äºå¯¹çŸ©é˜µä¸­çš„æ¯ä¸ªitemè¿›è¡Œäº†æŸç§ç¼–ç ã€‚è¿™æ˜¯ç¼–ç æ–¹å¼çš„ä¸€ç§ï¼Œå…¶å®è¿™ç§ç¼–ç æ–¹å¼æœ‰å¾ˆå¤šç§ã€‚éœ€è¦ä½ è‡ªå·±çš„è°ƒç ”å’Œåˆ›æ–°ã€‚<br><br>2ã€æœ‰è¿™ä¸ªå¯èƒ½ã€‚ä½†ä¸èƒ½è¿™ä¹ˆæƒ³ï¼Œæˆ‘ä»¬é€šè¿‡éšæœºæ¸¸èµ°é‡‡æ ·æ˜¯ä¸€ä¸ªæ¦‚ç‡æ€§çš„ï¼Œç»Ÿè®¡æ€§çš„é—®é¢˜ï¼Œä¸æ˜¯è¿™æ ·é€šè¿‡ç‰¹ä¾‹åˆ†æçš„ã€‚æ‰§ç€äºè¿™æ ·çš„special caseï¼Œä¸æ˜¯æœºå™¨å­¦ä¹ çš„åŸºæœ¬æ€è·¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1606969473,"ip_address":"","comment_id":265586,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5901924716","product_id":100060801,"comment_content":"è¯·é—®è€ä¸¤ä¸ªé—®é¢˜ï¼š<br>1ï¼‰ å…¶å®åœ¨æˆ‘ä»¬å¾—åˆ°äº†éšæœºè·³è½¬çŸ©é˜µï¼Œ å°±æŒæ¡äº†å„ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥çš„æ¦‚ç‡å…³ç³»ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ä¸é€šè¿‡éšæœºæ¸¸èµ°è¿™ä¸€æ­¥ï¼Œè€Œé‡‡ç”¨ ä»€ä¹ˆåˆ«çš„æ–¹æ³•ï¼Œç›´æ¥ä»è¿™ä¸ªæ¦‚ç‡çŸ©é˜µä¸­æå–å¾—åˆ°embeddingå‘¢ï¼Ÿè€Œä¸”ç›¸æ¯”äºéšæœºæ¸¸èµ°ï¼Œ ç›´æ¥ä»çŸ©é˜µç”Ÿæˆå¯ä»¥ä¿ç•™å®Œæ•´çš„ä¿¡æ¯åŒ…æ‹¬ï¼Œ æ‰€æœ‰çš„itemï¼Œä»¥åŠä»–ä»¬ç†è®ºä¸Šå®Œç¾çš„æ¦‚ç‡å€¼ã€‚<br><br>2ï¼‰æˆ‘ä»¬é¡¹ç›®é‡Œoffline.spark.Embedding ä¸­generateTransitionMatrix ï¼ˆline182ï¼‰è¿™ä¸ªå‡½æ•°ï¼Œæ„Ÿè§‰æ˜¯ä¼šæŠŠåŸç”Ÿåºåˆ—çš„ç¬¬ä¸€ä¸ªåºåˆ—çš„æœ«å°¾ä¸€ä¸ªitemå’Œä¸‹ä¸€ä¸ªåºåˆ—çš„å¼€å¤´itemç»„æˆä¸€ç»„ï¼Œ æ„Ÿè§‰æ˜¯ä¸æ˜¯ä¸å¤Ÿå‡†ç¡®å•Šï¼Œ è¿™ä¿©itemåº”è¯¥æ˜¯æ²¡å…³ç³»çš„ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":510984,"discussion_content":"1ã€æ˜¯å¯è¡Œçš„ï¼Œå› ä¸ºembeddingç›¸å½“äºå¯¹çŸ©é˜µä¸­çš„æ¯ä¸ªitemè¿›è¡Œäº†æŸç§ç¼–ç ã€‚è¿™æ˜¯ç¼–ç æ–¹å¼çš„ä¸€ç§ï¼Œå…¶å®è¿™ç§ç¼–ç æ–¹å¼æœ‰å¾ˆå¤šç§ã€‚éœ€è¦ä½ è‡ªå·±çš„è°ƒç ”å’Œåˆ›æ–°ã€‚\n\n2ã€æœ‰è¿™ä¸ªå¯èƒ½ã€‚ä½†ä¸èƒ½è¿™ä¹ˆæƒ³ï¼Œæˆ‘ä»¬é€šè¿‡éšæœºæ¸¸èµ°é‡‡æ ·æ˜¯ä¸€ä¸ªæ¦‚ç‡æ€§çš„ï¼Œç»Ÿè®¡æ€§çš„é—®é¢˜ï¼Œä¸æ˜¯è¿™æ ·é€šè¿‡ç‰¹ä¾‹åˆ†æçš„ã€‚æ‰§ç€äºè¿™æ ·çš„special caseï¼Œä¸æ˜¯æœºå™¨å­¦ä¹ çš„åŸºæœ¬æ€è·¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1606969473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":261272,"user_name":"é©¬é¾™æµ","can_delete":false,"product_type":"c1","uid":1087792,"ip_address":"","ucode":"16F9CE022297FF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erUKWZy1fBBcJncWRNh9M3TkjThqgsIIpmGOTCyg2IN80IDf3COkeWyTLHliczAppIkfBgCJTsUn1g/132","comment_is_top":false,"comment_ctime":1605255072,"is_pvip":false,"replies":[{"id":"94812","content":"æœ‰å‘å›¾","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1605258199,"ip_address":"","comment_id":261272,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5900222368","product_id":100060801,"comment_content":"è€å¸ˆï¼Œè®¡ç®—è½¬ç§»çŸ©é˜µï¼Œç”¨çš„æ˜¯æ— å‘å›¾è¿˜æ˜¯æœ‰å‘å›¾å•Šï¼Œä¸ç†Ÿæ‚‰scalaï¼Œæ²¡çœ‹æ‡‚","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509436,"discussion_content":"æœ‰å‘å›¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605258199,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1284426,"avatar":"https://static001.geekbang.org/account/avatar/00/13/99/4a/09ea6699.jpg","nickname":"å°å°çš„å¤©","note":"","ucode":"A3EC02BA37B3B9","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":333781,"discussion_content":"æœ‰å‘æ— ç¯å›¾","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607613733,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1665474,"avatar":"https://static001.geekbang.org/account/avatar/00/19/69/c2/1421acfa.jpg","nickname":"Eureka","note":"","ucode":"A02001FB409A0B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1284426,"avatar":"https://static001.geekbang.org/account/avatar/00/13/99/4a/09ea6699.jpg","nickname":"å°å°çš„å¤©","note":"","ucode":"A3EC02BA37B3B9","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":402936,"discussion_content":"è¿™é‡Œæ˜¯æœ‰å‘æœ‰ç¯å›¾å§ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633965565,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":333781,"ip_address":""},"score":402936,"extra":""}]}]},{"had_liked":false,"id":258276,"user_name":"Sebastian","can_delete":false,"product_type":"c1","uid":1797634,"ip_address":"","ucode":"62E6FC13DB00E3","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/55lYKUdcPFgUHibRYmaRiaBdrsmnLGOHdPp4OicjBh197X0vyGa9qAwruEqicAPuUgibXO4Lz5jLudlcbtsqq2p3CpA/132","comment_is_top":false,"comment_ctime":1604366948,"is_pvip":false,"replies":[{"id":"94070","content":"ç»™çš„ä¿¡æ¯å¤ªç²—äº†ï¼Œä¸å¥½è¯´è§£å†³æ–¹æ³•ã€‚ä½†å¯ä»¥é’ˆå¯¹è¿™äº›bad caseåˆ†æä¸€ä¸‹ä¸ºä»€ä¹ˆä¼šè·Ÿç›®æ ‡ç‰©å“ç›¸ä¼¼ã€‚æ˜¯å› ä¸ºéƒ½æ¯”è¾ƒçƒ­é—¨ï¼Œæ‰€ä»¥ç›¸ä¼¼ï¼Œè¿˜æ˜¯å› ä¸ºæœ‰ä»€ä¹ˆç‰¹æ®Šçš„åŸå› å…±ç°çš„é¢‘ç‡æ¯”è¾ƒé«˜ï¼Ÿå†é’ˆå¯¹æ€§çš„è°ˆè§£å†³æ–¹æ³•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1604384499,"ip_address":"","comment_id":258276,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5899334244","product_id":100060801,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæ¨èåœºæ™¯ä½¿ç”¨graph embeddingåšä»¥ç‰©å“æ¨ç‰©å“ï¼Œå‡ºç°å¾ˆå¤šbad caseçš„åœºæ™¯åº”è¯¥å¦‚ä½•è°ƒæ•´ç®—æ³•å‘¢ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":508601,"discussion_content":"ç»™çš„ä¿¡æ¯å¤ªç²—äº†ï¼Œä¸å¥½è¯´è§£å†³æ–¹æ³•ã€‚ä½†å¯ä»¥é’ˆå¯¹è¿™äº›bad caseåˆ†æä¸€ä¸‹ä¸ºä»€ä¹ˆä¼šè·Ÿç›®æ ‡ç‰©å“ç›¸ä¼¼ã€‚æ˜¯å› ä¸ºéƒ½æ¯”è¾ƒçƒ­é—¨ï¼Œæ‰€ä»¥ç›¸ä¼¼ï¼Œè¿˜æ˜¯å› ä¸ºæœ‰ä»€ä¹ˆç‰¹æ®Šçš„åŸå› å…±ç°çš„é¢‘ç‡æ¯”è¾ƒé«˜ï¼Ÿå†é’ˆå¯¹æ€§çš„è°ˆè§£å†³æ–¹æ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1604384499,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357532,"user_name":"å“‡å“ˆå“ˆ","can_delete":false,"product_type":"c1","uid":1175537,"ip_address":"ä¸Šæµ·","ucode":"47453D1C96A1DD","user_header":"https://static001.geekbang.org/account/avatar/00/11/ef/f1/8b06801a.jpg","comment_is_top":false,"comment_ctime":1663339832,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663339832","product_id":100060801,"comment_content":"æ²¡æ¥è§¦è¿‡ scalaçœ‹ä¸å¤ªæ˜ç™½ä»£ç ï¼Œè¯·é—®ä¸‹è½¬ç§»çŸ©é˜µé‡Œé¢çš„æ¦‚ç‡å€¼æ˜¯é€šè¿‡ä»€ä¹ˆæ¥ç¡®å®šçš„å‘¢ï¼Ÿå¤§æ¦‚å¾—åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ","like_count":0},{"had_liked":false,"id":335466,"user_name":"Geek_077c16","can_delete":false,"product_type":"c1","uid":2865974,"ip_address":"","ucode":"AD1D54BEA1F8C8","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/lAaP1UlBQOoY7NZ69iaSpbNjxibxN88LOWdG0sJLwyauLO0cAzH7dxrdRDtibC7pXtvNSTRMU7zUBBXy0DdiaMQicVg/132","comment_is_top":false,"comment_ctime":1645528285,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1645528285","product_id":100060801,"comment_content":"æƒ³é—®ä¸‹pysparkç‰ˆæœ¬å¤šå°‘ï¼ŒcollaborativeFiltering.pyä¸­array_joinå‡½æ•°è€æ˜¯å‡ºé”™","like_count":0},{"had_liked":false,"id":331331,"user_name":"å¢¨æŸ“","can_delete":false,"product_type":"c1","uid":2867323,"ip_address":"","ucode":"1476FE7AB0B084","user_header":"https://static001.geekbang.org/account/avatar/00/2b/c0/7b/677ac42f.jpg","comment_is_top":false,"comment_ctime":1642554952,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642554952","product_id":100060801,"comment_content":"çº¯æ–‡æœ¬èµ„è®¯ç±»çš„æ¨èï¼Œå¯ä»¥ç”¨è¿™æ ·å®ç°å—ï¼Ÿå¯»æ‰¾åº“ä¸­ç›¸ä¼¼çš„å’¨è¯¢ï¼Œæ ¹æ®ç”¨æˆ·æ¨èå’¨è¯¢","like_count":0},{"had_liked":false,"id":319736,"user_name":"ä¸¤åªæœˆç‰™å„¿","can_delete":false,"product_type":"c1","uid":2272443,"ip_address":"","ucode":"D40BA8514800DF","user_header":"https://static001.geekbang.org/account/avatar/00/22/ac/bb/5b5aea67.jpg","comment_is_top":false,"comment_ctime":1635925085,"is_pvip":false,"replies":[{"id":"116100","content":"ä¸€èˆ¬ä¸è¿™æ ·ä½¿ç”¨","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1636177534,"ip_address":"","comment_id":319736,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635925085","product_id":100060801,"comment_content":"ç”µå½±è¯„åˆ†åºåˆ—æœ¬èº«å°±æ˜¯æ•°æ®å‘é‡ï¼Œå¯ä¸å¯ä»¥ç›´æ¥ç”¨åˆ°æ¨¡å‹é‡Œï¼Œä¸ç”¨item2vec?","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529750,"discussion_content":"ä¸€èˆ¬ä¸è¿™æ ·ä½¿ç”¨","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636177534,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319539,"user_name":"FruitDealer","can_delete":false,"product_type":"c1","uid":2386643,"ip_address":"","ucode":"34C8692B5C2413","user_header":"https://static001.geekbang.org/account/avatar/00/24/6a/d3/294cb209.jpg","comment_is_top":false,"comment_ctime":1635844815,"is_pvip":false,"replies":[{"id":"115828","content":"ä½ çš„ç†è§£æ²¡é”™ï¼Œè®­ç»ƒé˜¶æ®µç”¨è¡Œä¸ºå‘ç”Ÿçš„æ—¶é—´ï¼Œé¢„æµ‹é˜¶æ®µç”¨å½“å‰æ—¶é—´ã€‚<br><br>ä½ ç–‘æƒ‘çš„ç‚¹å…¶å®æ˜¯å¯¹ä¸åŒä¸Šä¸‹æ–‡ä¿¡æ¯å‘ç”Ÿçš„æ··æ·†ã€‚æœ€åä¸€æ¬¡è¡Œä¸ºçš„timestampå’Œå½“å‰timestampå…¶å®æ˜¯ä¸¤ä¸ªä¸åŒçš„featureã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1635901150,"ip_address":"","comment_id":319539,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635844815","product_id":100060801,"comment_content":"ç‹å–†è€å¸ˆï¼Œæƒ³è¦è¯·æ•™ä¸€ä¸‹æœ‰å…³ä¸Šä¸‹æ–‡ç‰¹å¾è¿™å—çš„å†…å®¹ï¼Œå› ä¸ºæ²¡æœ‰è¿›è¡Œè¿‡å®é™…çš„æ¨èé¡¹ç›®ï¼Œæ‰€ä»¥ä¸Šä¸‹æ–‡ç‰¹å¾çš„åº”ç”¨ä¸Šé¢æœ‰äº›æƒ³ä¸æ˜ç™½ã€‚<br><br>é—®é¢˜æ˜¯ï¼šè®­ç»ƒé˜¶æ®µå’Œé¢„æµ‹é˜¶æ®µçš„ä¸Šä¸‹æ–‡ä¸­çš„æ—¶é—´åº”è¯¥æ€ä¹ˆå–ï¼Ÿ<br><br>æˆ‘çš„ç–‘ç‚¹æ˜¯è®­ç»ƒé˜¶æ®µæ—¶é—´åº”è¯¥ç”¨æˆ·å†å²ç‚¹å‡»&#47;è®¢è´­ï¼ˆå‡å¦‚æ˜¯ä¸€ä¸ªäº§å“æ¨èçš„åœºæ™¯ï¼‰è¡Œä¸ºå‘ç”Ÿçš„æ—¶é—´ï¼Œä½†æ˜¯åœ¨é¢„æµ‹é˜¶æ®µï¼Œå¯¹äºå¬å›çš„é‚£äº›å€™é€‰äº§å“ï¼Œè¿™é‡Œçš„ä¸Šä¸‹æ–‡ç‰¹å¾ä¸­çš„æ—¶é—´æ˜¯ä¸æ˜¯åº”è¯¥å–å½“å‰ç”¨æˆ·æ“ä½œçš„æ—¶é—´å‘¢ï¼Ÿå¦‚æœæ˜¯çš„è¯ï¼Œè¿™ä¸ªæ—¶é—´æ„Ÿè§‰æ„ä¹‰ä¸å¤ªå¤§ã€‚å¦‚æœç”¨æœ€åä¸€æ¬¡ç‚¹å‡»&#47;è®¢è´­äº§å“çš„æ—¶é—´ç‚¹ä½œä¸ºä¸Šä¸‹æ–‡ç‰¹å¾çš„è¯ï¼Œé¢„æµ‹æ•°æ®ä¸­å¬å›çš„é‚£äº›æ²¡äº§ç”Ÿè¿‡è®¢è´­è¡Œä¸ºçš„äº§å“ä¸­çš„æ—¶é—´åˆå¦‚ä½•å–å€¼å‘¢ï¼Ÿæ„Ÿè§‰è®­ç»ƒæ•°æ®å’Œé¢„æµ‹æ•°æ®ä¸­å­˜åœ¨ä¸€äº›gap","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529664,"discussion_content":"ä½ çš„ç†è§£æ²¡é”™ï¼Œè®­ç»ƒé˜¶æ®µç”¨è¡Œä¸ºå‘ç”Ÿçš„æ—¶é—´ï¼Œé¢„æµ‹é˜¶æ®µç”¨å½“å‰æ—¶é—´ã€‚\n\nä½ ç–‘æƒ‘çš„ç‚¹å…¶å®æ˜¯å¯¹ä¸åŒä¸Šä¸‹æ–‡ä¿¡æ¯å‘ç”Ÿçš„æ··æ·†ã€‚æœ€åä¸€æ¬¡è¡Œä¸ºçš„timestampå’Œå½“å‰timestampå…¶å®æ˜¯ä¸¤ä¸ªä¸åŒçš„featureã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635901150,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316635,"user_name":"é¦™æ ¼é‡Œæ‹‰é£é¾™","can_delete":false,"product_type":"c1","uid":1339856,"ip_address":"","ucode":"C1263416EE85E3","user_header":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKS70PShNZaxpibFc1gWuvibbg3hXR4YKm3MkNgX0n56hWUicN0JfB2GQ6I9UicBfKABH6dkfVDPohA6Q/132","comment_is_top":false,"comment_ctime":1634465931,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1634465931","product_id":100060801,"comment_content":"ç‹è€å¸ˆï¼Œè¿™é‡Œæˆ‘æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š<br>1. æˆ‘åœ¨å°è¯•item2vecæ—¶ï¼Œæ ·æœ¬ä¸­label=1ï¼Œç»è¿‡å»é‡åçš„movieIdæœ‰959ä¸ªï¼Œç„¶è€Œç”Ÿæˆåºåˆ—ã€ç»word2vecè®­ç»ƒåï¼Œæˆ‘åªå¾—åˆ°äº†881ä¸ªmovieçš„Embeddingå‘é‡ã€‚æˆ‘å¤šæ¬¡ä¿®æ”¹äº†æ¨¡å‹çš„windowSizeï¼Œä»ç„¶åªå¾—åˆ°881ä¸ªå‘é‡ï¼Œè¯·é—®è¿™æ˜¯æ­£å¸¸çš„å—ï¼Ÿè¿˜æ˜¯æˆ‘å‰é¢çš„è¿‡ç¨‹æœ‰é—®é¢˜â€¦â€¦<br>2. æˆ‘å‘ç°sparkçš„ model.tranform å¯ä»¥ç›´æ¥ç”Ÿæˆmovieåºåˆ—çš„Embeddingï¼Œè¿™ä¸ªå¯å¦ç›´æ¥ä½œä¸ºuser Embeddingï¼Ÿï¼ˆä¾ç„¶æ˜¯item2vecä¸­ï¼Œæ¯ä¸ªuserå¯¹åº”ä¸€ä¸ªmovieåºåˆ—ï¼‰","like_count":0},{"had_liked":false,"id":314291,"user_name":"Sunshine","can_delete":false,"product_type":"c1","uid":1590522,"ip_address":"","ucode":"C0B3191D9F6530","user_header":"https://static001.geekbang.org/account/avatar/00/18/44/fa/b33769ce.jpg","comment_is_top":false,"comment_ctime":1632959654,"is_pvip":false,"replies":[{"id":"113872","content":"GPUåªæ˜¯è®©è®¡ç®—é€Ÿåº¦æ›´å¿«ï¼Œä½†æ²¡æœ‰ä»»ä½•ä¸€ä¸ªæ¡†æ¶è¦æ±‚ä¸€å®šè¦åœ¨GPUä¸Šè¿è¡Œ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1633025618,"ip_address":"","comment_id":314291,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632959654","product_id":100060801,"comment_content":"Sparkå®ç°word2vecï¼Œç”¨åˆ°äº†æ·±åº¦å­¦ä¹ ï¼Œç”Ÿäº§æ˜¯ä¸æ˜¯éœ€è¦GPUèµ„æºã€‚","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527632,"discussion_content":"GPUåªæ˜¯è®©è®¡ç®—é€Ÿåº¦æ›´å¿«ï¼Œä½†æ²¡æœ‰ä»»ä½•ä¸€ä¸ªæ¡†æ¶è¦æ±‚ä¸€å®šè¦åœ¨GPUä¸Šè¿è¡Œ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633025618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311603,"user_name":"sky","can_delete":false,"product_type":"c1","uid":2325199,"ip_address":"","ucode":"C7BA135845E1FF","user_header":"https://static001.geekbang.org/account/avatar/00/23/7a/cf/c42dd74e.jpg","comment_is_top":false,"comment_ctime":1631331514,"is_pvip":false,"replies":[{"id":"113100","content":"å›¾ç»“æ„åŒ…å«çš„ä¿¡æ¯æœ¬èº«å’Œåºåˆ—æ•°æ®ä¸ä¸€æ ·ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1631662618,"ip_address":"","comment_id":311603,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1631331514","product_id":100060801,"comment_content":"æœ‰ä¸ªç–‘é—®å•Šï¼Œdeep walkç”¨çš„è¿˜æ˜¯åºåˆ—æ•°æ®ï¼Œè¿˜è¦è´¹äº‹çš„éšæœºæ¸¸èµ°ã€‚ã€‚ã€‚ã€‚ä¸å¤šæ­¤ä¸€ä¸¾å—<br>ç›´æ¥item2vecä¸å°±å¯ä»¥äº†å—ï¼Ÿï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526677,"discussion_content":"å›¾ç»“æ„åŒ…å«çš„ä¿¡æ¯æœ¬èº«å’Œåºåˆ—æ•°æ®ä¸ä¸€æ ·ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631662618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2198652,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83er6OV33jHia3U46ZzujGTzXwm6oXDs5FxsPp4sSGXFQSYCA92MoiaZibGgRD9JVauJos9ux3IcmNZibMg/132","nickname":"å¥½çš„åå­—å¯ä»¥è®©ä½ çš„æœ‹å‹æ›´å®¹æ˜“è®°ä½ä½ ","note":"","ucode":"2983706D542D20","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":406222,"discussion_content":"ä¸ä¸€æ ·çš„ï¼Œæœ€åˆçš„åºåˆ—æ•°æ®åªæ˜¯å•ä¸ªç”¨æˆ·åœ¨ä¸€ä¸ªsessionä¼šè¯ä¸­äº§ç”Ÿçš„è¡Œä¸ºæ•°æ®ï¼Œä½†æ˜¯å¦‚æœæŠŠå¤šä¸ªç”¨æˆ·çš„è¡Œä¸ºæ•°æ®ç»„ç»‡æˆä¸€å¼ å›¾çš„è¯ï¼Œä¿¡æ¯æ›´å…¨é¢ï¼Œå¯ä»¥æŒ–æ˜å‡ºæ›´å¤šçš„itemä¹‹é—´çš„ä¾èµ–å…³ç³»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1634723552,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311601,"user_name":"sky","can_delete":false,"product_type":"c1","uid":2325199,"ip_address":"","ucode":"C7BA135845E1FF","user_header":"https://static001.geekbang.org/account/avatar/00/23/7a/cf/c42dd74e.jpg","comment_is_top":false,"comment_ctime":1631331137,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631331137","product_id":100060801,"comment_content":"æœ‰ç‚¹å¥‡æ€ªï¼Œä¸ºå•¥deep walkç”¨çš„è¿˜æ˜¯ item2vec çš„åºåˆ—æ•°æ®ï¼Œæ—¢ç„¶éšæœºæ¸¸èµ°åå¾—åˆ°çš„è¿˜æ˜¯åºåˆ—æ•°æ®ï¼Œä¸æ˜¯å¤šæ­¤ä¸€ä¸¾äº†å—ã€‹ï¼Ÿï¼Ÿï¼Ÿ","like_count":0},{"had_liked":false,"id":311418,"user_name":"sky","can_delete":false,"product_type":"c1","uid":2325199,"ip_address":"","ucode":"C7BA135845E1FF","user_header":"https://static001.geekbang.org/account/avatar/00/23/7a/cf/c42dd74e.jpg","comment_is_top":false,"comment_ctime":1631232214,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1631232214","product_id":100060801,"comment_content":" è€å¸ˆï¼Œæˆ‘æƒ³é—®ä¸‹ï¼Œä¸‹é¢ä»£ç åœ¨æ¨¡å‹ä¿å­˜æ—¶å€™ï¼Œä¸ºä½•æœ¬åœ°ï¼Œæ¨¡å‹æ–‡ä»¶ä¸æ›´æ–°å‘¢<br><br>&#47;&#47;ä¿å­˜æ¨¡å‹  val embFolderPath = this.getClass.getResource(&quot;&#47;webroot&#47;sampledata&#47;&quot;)  val file = new File(embFolderPath.getPath + &quot;embedding.txt&quot;)  val bw = new BufferedWriter(new FileWriter(file))  var id = 0<br><br>","like_count":0},{"had_liked":false,"id":308010,"user_name":"æµ·","can_delete":false,"product_type":"c1","uid":2365092,"ip_address":"","ucode":"6451D97215C765","user_header":"https://static001.geekbang.org/account/avatar/00/24/16/a4/7aaa136f.jpg","comment_is_top":false,"comment_ctime":1629357086,"is_pvip":false,"replies":[{"id":"111632","content":"è¿™ä¸ªå¯ä»¥è‡ªå·±å¤šæ€è€ƒä¸€ä¸‹ï¼Œæˆ‘è§‰å¾—å¹¶ä¸éš¾å°è¯•å‡ºå¯è¡Œçš„åŠæ³•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1629502076,"ip_address":"","comment_id":308010,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1629357086","product_id":100060801,"comment_content":"è€å¸ˆï¼Œè¯·é—®å¦‚æœitemå‡ºç°é«˜é¢‘ï¼Œè®­ç»ƒå‡ºæ¥çš„ç›¸ä¼¼è§†é¢‘ä¼šå¤§å¤šä¸ºé«˜é¢‘è§†é¢‘ï¼Œå¦‚ä½•é™é¢‘å‡å¼±å½±å“ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525367,"discussion_content":"è¿™ä¸ªå¯ä»¥è‡ªå·±å¤šæ€è€ƒä¸€ä¸‹ï¼Œæˆ‘è§‰å¾—å¹¶ä¸éš¾å°è¯•å‡ºå¯è¡Œçš„åŠæ³•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629502076,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":306443,"user_name":"Geek_de83f6","can_delete":false,"product_type":"c1","uid":2170148,"ip_address":"","ucode":"3EFB4DC01C222D","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKn2fx2UTaWgMl3fSOSicJEDOibbtYicHUVSG8JsA8j6Njibc9j3YVSvHtMZb2Z20l4NmjibiaSv8m7hz9w/132","comment_is_top":false,"comment_ctime":1628564422,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"1628564422","product_id":100060801,"comment_content":"ç”¨scalaå†™ä»£ç ï¼Œåˆä¸è®²scalaè¯­æ³•ï¼Œä»£ç çœ‹ä¸æ‡‚â€¦â€¦","like_count":0,"discussions":[{"author":{"id":1809935,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/l3RGUX8aLnPLmsQsra0yU5d8m7Se5jdVpaC3bkb99FuY11BPQNAsH4MPXbZjCTia9VVwn8lnBnKLkdfSiabOgxKg/132","nickname":"Geek_e0d66a","note":"","ucode":"5078900C9CF936","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392149,"discussion_content":"è¿™ä¸ªå¤§å“¥ï¼ŒçœŸçš„æ˜¯å¯¹ä½ å¾ˆæ— è¯­ã€‚çœ‹ä¸æ‡‚ï¼Œä¸ä¼šè‡ªå·±å»å­¦ä¹ ä¹ˆï¼Œæœ¬æ¥è¿™ä¸ªè¯¾ç¨‹å°±æ˜¯æœ‰åŸºç¡€é—¨æ§›çš„å•Š","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1630856181,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2735741,"avatar":"https://static001.geekbang.org/account/avatar/00/29/be/7d/33f732f3.jpg","nickname":"Lennon.Lau","note":"","ucode":"515CD55F5E37D2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586423,"discussion_content":"çœ‹ä¸æ‡‚ï¼Œä¸ä¼šå»å­¦å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662197004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å››å·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305513,"user_name":"èƒ¡æ™¯æ–¹","can_delete":false,"product_type":"c1","uid":2719584,"ip_address":"","ucode":"67371485F96D70","user_header":"https://static001.geekbang.org/account/avatar/00/29/7f/60/9d7bae85.jpg","comment_is_top":false,"comment_ctime":1628005167,"is_pvip":false,"replies":[{"id":"110499","content":"æ˜¯ç”±ç”¨æˆ·è¯„åˆ†åºåˆ—çš„å‰åé¡ºåºä¸­å­¦åˆ°çš„ç›¸å…³æ€§","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1628046867,"ip_address":"","comment_id":305513,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1628005167","product_id":100060801,"comment_content":"è¡¥å……ä¸€ä¸‹ï¼Œæˆ‘ç†è§£æ˜¯æ ·æœ¬å¤„ç†æ¨¡å—å¾—å‡ºçš„ç»“æœæœ¬è´¨ä¸Šå°±æ˜¯ä¸€å †åˆ†æ•°è¾ƒé«˜çš„movieidï¼Œè€Œæ¨¡å‹è®­ç»ƒéƒ¨åˆ†ï¼Œè¾“å…¥çš„item592ï¼Œä¹Ÿå°±æ˜¯ä¸ªmovieidï¼Œä»–ä»¬æ˜¯æ€ä¹ˆå…³è”èµ·æ¥çš„å‘¢ï¼Ÿæˆ‘è§‰å¾—ç¬¬ä¸€æ­¥å¾—å‡ºçš„æ ·æœ¬ä¸­è‡³å°‘å¾—åŒ…æ‹¬ç”µå½±ç±»å‹ä¹‹ç±»çš„è¦ç´ ï¼Œæ‰èƒ½å¤Ÿå¤Ÿå¯¹592ç±»ä¼¼çš„itemè¿›è¡Œæ¨èå‘€ï¼Œä¸ç„¶å®Œå…¨æ²¡æœ‰å†…åœ¨çš„æ¨èé€»è¾‘å‘€ï½è€å¸ˆèƒ½å¤Ÿè§£ç­”ä¸‹å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524411,"discussion_content":"æ˜¯ç”±ç”¨æˆ·è¯„åˆ†åºåˆ—çš„å‰åé¡ºåºä¸­å­¦åˆ°çš„ç›¸å…³æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628046867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1339856,"avatar":"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKS70PShNZaxpibFc1gWuvibbg3hXR4YKm3MkNgX0n56hWUicN0JfB2GQ6I9UicBfKABH6dkfVDPohA6Q/132","nickname":"é¦™æ ¼é‡Œæ‹‰é£é¾™","note":"","ucode":"C1263416EE85E3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":407973,"discussion_content":"æˆ‘çš„ç†è§£æ˜¯ï¼Œä¸€ä¸ªç”¨æˆ·ï¼Œä»–å–œæ¬¢çš„ç”µå½±æ˜¯å¯èƒ½æœ‰ä¸€å®šå€¾å‘æ€§çš„ã€‚æŠŠå•ä¸ªç”¨æˆ·è¯„åˆ†é«˜çš„ç”µå½±idä½œä¸ºåºåˆ—æ”¾å…¥item2vecï¼Œå¯ä»¥æ¢å¯»è¿™ç§å€¾å‘æ€§ã€‚ä¸”ä¸€ä¸ªäººå–œæ¬¢aç”µå½±ï¼Œä¹Ÿå–œæ¬¢bç”µå½±ï¼ŒåŒæ—¶æœ‰è®¸å¤šå…¶ä»–ç”¨æˆ·ä¹Ÿæ˜¯å–œæ¬¢aä¹Ÿå–œæ¬¢bï¼Œå°±å¯ä»¥è¯´æ˜aå’Œbæœ‰ä¸€å®šç›¸ä¼¼æ€§ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635160696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2719584,"avatar":"https://static001.geekbang.org/account/avatar/00/29/7f/60/9d7bae85.jpg","nickname":"èƒ¡æ™¯æ–¹","note":"","ucode":"67371485F96D70","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":387206,"discussion_content":"ä¹Ÿå°±æ˜¯è¯´ä¾‹å­ä¸­æ³¨é‡Šè¯´çš„   æŸ¥æ‰¾çš„è·Ÿ592æœ€ç›¸è¿‘çš„20ä¸ªitemsï¼Œ  å…¶å®æ‰¾çš„æ˜¯è·Ÿ592åˆ†æ•°æ¯”è¾ƒç±»ä¼¼çš„ç”µå½±æ˜¯å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628052146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305511,"user_name":"èƒ¡æ™¯æ–¹","can_delete":false,"product_type":"c1","uid":2719584,"ip_address":"","ucode":"67371485F96D70","user_header":"https://static001.geekbang.org/account/avatar/00/29/7f/60/9d7bae85.jpg","comment_is_top":false,"comment_ctime":1628004596,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1628004596","product_id":100060801,"comment_content":"æœ‰ä¸ªç–‘é—®ï¼Œitem2vecä¸­å¾—åˆ°çš„éƒ½æ˜¯è¯„åˆ†é«˜çš„æ ·æœ¬ï¼Œä½†æ˜¯æ¨¡å‹è®­ç»ƒä¸­æ±‚çš„æ˜¯movieidä¸º592çš„ç±»ä¼¼çš„ç”µå½±ï¼Œæ€»è§‰å¾—è¿™ä¸¤è€…æ²¡æœ‰ä»»ä½•å†…åœ¨çš„å…³è”æ€§ï¼Œè¿™æ˜¯æ€ä¹ˆä¸€ä¸ªå†…åœ¨é€»è¾‘æ¥æ¨èçš„å‘¢ï¼Œå¥½åƒæ ¹æ®è¿™ä¸ªæ ·æœ¬å¾—å‡ºè¿™æ ·çš„æ¨¡å‹æ¨èç»“æœï¼Œæ²¡å†…åœ¨é€»è¾‘ï¼Œè®²ä¸é€šå•Šï¼Ÿæ˜¯æˆ‘å“ªé‡Œç†è§£é”™äº†å—ï¼Ÿ","like_count":0},{"had_liked":false,"id":288641,"user_name":"éƒ­ç¿ŠéºŸ","can_delete":false,"product_type":"c1","uid":2438072,"ip_address":"","ucode":"BA37CAE065CF30","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/FydBiarFhvwAxkA2fL3IpEGcd31xAfo8WicAgxreCSbPgo0IdcHkAwZQDZDiaeAJg7u2UKqSEmzr8Mopf9lFY1IEw/132","comment_is_top":false,"comment_ctime":1618575103,"is_pvip":false,"replies":[{"id":"104858","content":"è¿™è¡Œä»£ç æ˜¯è¦æŠŠ movieIds è½¬æ¢æˆ ä¸€ä¸ªä»¥ç©ºæ ¼åˆ†å‰²çš„å­—ç¬¦ä¸²<br><br>æ¯”å¦‚æŠŠ  [3,4,7,10]è½¬æ¢æˆ &quot;3 4 7 10&quot;","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1618773739,"ip_address":"","comment_id":288641,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1618575103","product_id":100060801,"comment_content":"ç‹è€å¸ˆ æ‚¨å¥½ åœ¨item2vecçš„æ•°æ®å¤„ç†  47è¡Œ.withColumn(&quot;movieIdStr&quot;, array_join(col(&quot;movieIds&quot;), &quot; &quot;)) ç»è¿‡å¤šæ¬¡è¯•éªŒ å‘ç°åˆ é™¤å’Œä¸åˆ é™¤ç»“æœç›¸åŒï¼Œæƒ³é—®ä¸€ä¸‹è€å¸ˆè¿™æ­¥æ˜¯è¦åšä»€ä¹ˆï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518692,"discussion_content":"è¿™è¡Œä»£ç æ˜¯è¦æŠŠ movieIds è½¬æ¢æˆ ä¸€ä¸ªä»¥ç©ºæ ¼åˆ†å‰²çš„å­—ç¬¦ä¸²\n\næ¯”å¦‚æŠŠ  [3,4,7,10]è½¬æ¢æˆ &amp;quot;3 4 7 10&amp;quot;","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618773739,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":288280,"user_name":"å¤šè‚½","can_delete":false,"product_type":"c1","uid":2551085,"ip_address":"","ucode":"389078D77FF908","user_header":"https://static001.geekbang.org/account/avatar/00/26/ed/2d/1066a76f.jpg","comment_is_top":false,"comment_ctime":1618390488,"is_pvip":false,"replies":[{"id":"104772","content":"item2vecæœ€åˆæ˜¯å¾®è½¯æå‡ºçš„åŸºäºword2vecçš„æ¨¡å‹ï¼Œæ‰€ä»¥æ˜¯åŸºäºword2vecçš„ï¼Œå½“ç„¶å¹¿ä¹‰æ¥è¯´ä»»ä½•èƒ½æŠŠitemè½¬æ¢æˆembeddingçš„éƒ½å¯ä»¥å«item2vecã€‚å‚æ•°è°ƒä¼˜å°±æ˜¯é€šè¿‡æ·±åº¦å­¦ä¹ çš„ä¸€èˆ¬è°ƒä¼˜æ–¹æ³•æ¥è¿›è¡Œäº†ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„ç»éªŒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1618632479,"ip_address":"","comment_id":288280,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1618390488","product_id":100060801,"comment_content":"è€å¸ˆä½ å¥½ï¼Œè®¡ç®—item2vecä¸ºä»€ä¹ˆè¦ç”¨word2vecæ¨¡å‹å‘¢ï¼Œitem2vecä¸æ˜¯æ²¡æœ‰windowçš„æ¦‚å¿µï¼Ÿä¸€å®šè¦ç”¨word2vecçš„è¯ï¼Œå‚æ•°setWindowSizeï¼ŒsetVectorSizeæ˜¯æ€ä¹ˆæ•²å®šçš„ï¼Ÿæ˜¯ä¸æ˜¯è¦åƒä¼ ç»Ÿæœºå™¨å­¦ä¹ ä¸€æ ·æä¸ªgrid searchï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":518570,"discussion_content":"item2vecæœ€åˆæ˜¯å¾®è½¯æå‡ºçš„åŸºäºword2vecçš„æ¨¡å‹ï¼Œæ‰€ä»¥æ˜¯åŸºäºword2vecçš„ï¼Œå½“ç„¶å¹¿ä¹‰æ¥è¯´ä»»ä½•èƒ½æŠŠitemè½¬æ¢æˆembeddingçš„éƒ½å¯ä»¥å«item2vecã€‚å‚æ•°è°ƒä¼˜å°±æ˜¯é€šè¿‡æ·±åº¦å­¦ä¹ çš„ä¸€èˆ¬è°ƒä¼˜æ–¹æ³•æ¥è¿›è¡Œäº†ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„ç»éªŒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1618632479,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":284244,"user_name":"Geek_9d589c","can_delete":false,"product_type":"c1","uid":2404154,"ip_address":"","ucode":"4E7D6A4D62FCBC","user_header":"","comment_is_top":false,"comment_ctime":1616136196,"is_pvip":false,"replies":[{"id":"103420","content":"æˆ‘å°è±¡ä¸­æˆ‘ä½¿ç”¨äº†é«˜åˆ†ç”µå½±åšå¹³å‡å¾—åˆ°user embeddingï¼Œä¹Ÿæœ‰å¯èƒ½è®°é”™ã€‚<br><br>æ¬¢è¿åœ¨githubä¸­å†™æ˜ç†ç”±ï¼Œæå‡ºPRã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1616636753,"ip_address":"","comment_id":284244,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1616136196","product_id":100060801,"comment_content":"ç”¨movie Embedding æ„é€ user Embeddingçš„æ—¶å€™éœ€ä¸éœ€è¦ä¾æ®rating filter å‡º é«˜è¯„åˆ†çš„movieï¼ŸGithubä¸­çš„ä»£ç æ²¡æœ‰è¿™ä¹ˆåšè€Œæ˜¯ä½¿ç”¨æ‰€æœ‰movie embeddingã€‚æ¯”å¦‚ä¸€ä¸ªuserç»™Aï¼ŒBï¼ŒCç”µå½±éƒ½äº†ä½åˆ†ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯ä¸åº”è¯¥ç”¨Aï¼ŒBï¼ŒCçš„embeddingå»å¹³å‡è¿™ä¸ªuserçš„embeddingï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":517283,"discussion_content":"æˆ‘å°è±¡ä¸­æˆ‘ä½¿ç”¨äº†é«˜åˆ†ç”µå½±åšå¹³å‡å¾—åˆ°user embeddingï¼Œä¹Ÿæœ‰å¯èƒ½è®°é”™ã€‚\n\næ¬¢è¿åœ¨githubä¸­å†™æ˜ç†ç”±ï¼Œæå‡ºPRã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616636753,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275412,"user_name":"å°å¼º","can_delete":false,"product_type":"c1","uid":2398148,"ip_address":"","ucode":"C3D1215867302D","user_header":"https://static001.geekbang.org/account/avatar/00/24/97/c4/6c92c78a.jpg","comment_is_top":false,"comment_ctime":1611513161,"is_pvip":false,"replies":[{"id":"99971","content":"ä¸æ˜¯ç‰¹åˆ«ç†è§£è¿™ä¸ªæ€è·¯ï¼Œä½†è¿™ç§é—®é¢˜ä¸€èˆ¬è‡ªå·±å»debugä¸€ä¸‹ï¼Œçœ‹çœ‹ä¸­é—´å˜é‡æ˜¯å¦æ­£ç¡®å°±å¯ä»¥éªŒè¯ï¼Œèƒ½è‡ªå·±éªŒè¯æœ€å¥½è‡ªå·±å»éªŒè¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1611551559,"ip_address":"","comment_id":275412,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1611513161","product_id":100060801,"comment_content":"åœ¨processItemSequence()å‡½æ•°ä¸­ï¼Œä»¥userIdä¸ºgroupByçš„keyï¼Œå¾—åˆ°è§‚å½±åºåˆ—ã€‚ä»¥userIdä¸º10096çš„ç”¨æˆ·ä¸ºä¾‹ï¼Œä¸€å…±æœ‰ä¸‰æ­¥ï¼š<br>ç¬¬ä¸€æ­¥ï¼šç”¨sortFç”ŸæˆmovieIdsï¼Œå¾—åˆ°[858, 50, 593, 457]<br>ç¬¬äºŒæ­¥ï¼šç”¨array_joinç”ŸæˆmovieIdStrï¼Œå¾—åˆ°858 50 593 457<br>ç¬¬ä¸‰æ­¥ï¼šç”¨df.rdd.map()å’Œlambdaå‡½æ•°ï¼Œå¾—åˆ°[&#39;858&#39;, &#39;50&#39;, &#39;593&#39;, &#39;457&#39;]<br><br>æ˜¯å¦å¯ä»¥ç›´æ¥åœ¨ç¬¬ä¸€æ­¥çš„sortFå‡½æ•°ä¸­return [str(x[0]) for x in pairs]ï¼Œçœç•¥åé¢çš„æ­¥éª¤å‘¢ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514336,"discussion_content":"ä¸æ˜¯ç‰¹åˆ«ç†è§£è¿™ä¸ªæ€è·¯ï¼Œä½†è¿™ç§é—®é¢˜ä¸€èˆ¬è‡ªå·±å»debugä¸€ä¸‹ï¼Œçœ‹çœ‹ä¸­é—´å˜é‡æ˜¯å¦æ­£ç¡®å°±å¯ä»¥éªŒè¯ï¼Œèƒ½è‡ªå·±éªŒè¯æœ€å¥½è‡ªå·±å»éªŒè¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611551559,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":275365,"user_name":"Capricornus","can_delete":false,"product_type":"c1","uid":2371321,"ip_address":"","ucode":"B7B15C58653860","user_header":"https://static001.geekbang.org/account/avatar/00/24/2e/f9/c0a6232c.jpg","comment_is_top":false,"comment_ctime":1611491672,"is_pvip":false,"replies":[{"id":"99967","content":"è¿™åº”è¯¥ä¸æ˜¯ä¸€ä¸ªå¾ˆéš¾çš„é—®é¢˜ï¼Œä½ ä»word2vecçš„åŸç†å‡ºå‘è§‰å¾—ä¼šæ€ä¹ˆå¤„ç†ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1611551293,"ip_address":"","comment_id":275365,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1611491672","product_id":100060801,"comment_content":"WrappedArray(356, 364)<br>WrappedArray(593, 260, 969, 110, 589, 457, 6, 377, 555, 480)<br>WrappedArray(19, 589, 110, 733, 592, 377, 353, 198, 293, 260, 47, 741, 6)<br>è€å¸ˆè¿™æ˜¯è§‚å½±åºåˆ—ï¼Œåœ¨å¯¹æ¯ä¸ªåºåˆ—æ»‘åŠ¨é‡‡æ ·æ—¶ï¼Œæˆ‘ä»¬è®¾ç½®çš„æ»‘åŠ¨çª—å£å¤§å°æ˜¯5ã€‚é‚£è¿™äº›åºåˆ—é•¿åº¦å¤§å°å°äº5çš„æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":514325,"discussion_content":"è¿™åº”è¯¥ä¸æ˜¯ä¸€ä¸ªå¾ˆéš¾çš„é—®é¢˜ï¼Œä½ ä»word2vecçš„åŸç†å‡ºå‘è§‰å¾—ä¼šæ€ä¹ˆå¤„ç†ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1611551293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2527743,"avatar":"https://static001.geekbang.org/account/avatar/00/26/91/ff/aa5e573a.jpg","nickname":"ç‰›ç‰ªçŠ‡","note":"","ucode":"007A5E511EA243","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":361687,"discussion_content":"æˆ‘å°±ç›´æ¥å¤åˆ¶äº†ï¼Œå‡‘è¶³5ä¸ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616729451,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2381219,"avatar":"https://static001.geekbang.org/account/avatar/00/24/55/a3/561138f8.jpg","nickname":"Apache-ä»£è’™","note":"","ucode":"4BDB7139E02A0F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2527743,"avatar":"https://static001.geekbang.org/account/avatar/00/26/91/ff/aa5e573a.jpg","nickname":"ç‰›ç‰ªçŠ‡","note":"","ucode":"007A5E511EA243","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":385487,"discussion_content":"è¯·é—®è¿™ä¹ˆåšæ•ˆæœæ€ä¹ˆæ ·å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627094696,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":361687,"ip_address":""},"score":385487,"extra":""}]}]},{"had_liked":false,"id":273808,"user_name":"C.","can_delete":false,"product_type":"c1","uid":1708876,"ip_address":"","ucode":"E0605DCD3A1025","user_header":"https://static001.geekbang.org/account/avatar/00/1a/13/4c/7e742c63.jpg","comment_is_top":false,"comment_ctime":1610683995,"is_pvip":false,"replies":[{"id":"99573","content":"å—¯å—¯ï¼Œè¯»ä»£ç é€»è¾‘çœ‹èµ·æ¥ç¡®å®å†™åäº†ã€‚å¯ä»¥å¸®æˆ‘éªŒè¯ä¸€ä¸‹ç»“æœï¼Œç„¶åæäº¤ä¸€ä¸ªPRå—ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1610948816,"ip_address":"","comment_id":273808,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1610683995","product_id":100060801,"comment_content":"ç‹è€å¸ˆï¼Œgithubæœ€æ–°çš„å…³äºéšæœºæ¸¸èµ°çš„ä»£ç ï¼š<br>breakable { for(_ &lt;- 1 until sampleLength) {<br>      if (!itemDistribution.contains(curElement) || !transitionMatrix.contains(curElement)){<br>        break<br>      }<br><br>      val probDistribution = transitionMatrix(curElement)<br>      val randomDouble = Random.nextDouble()<br>      breakable { for ((item, prob) &lt;- probDistribution) {<br>        if (randomDouble &gt;= prob){<br>          curElement = item<br>          break<br>        }<br>      }}<br>      sample.append(curElement)<br>    }}<br><br>è¿™ä¸ªé‡Œé¢randomDouble &gt;= prob ï¼Œç¬¦å·æ˜¯ä¸æ˜¯åäº†ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513815,"discussion_content":"å—¯å—¯ï¼Œè¯»ä»£ç é€»è¾‘çœ‹èµ·æ¥ç¡®å®å†™åäº†ã€‚å¯ä»¥å¸®æˆ‘éªŒè¯ä¸€ä¸‹ç»“æœï¼Œç„¶åæäº¤ä¸€ä¸ªPRå—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610948816,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":273370,"user_name":"tuomasiii","can_delete":false,"product_type":"c1","uid":2370755,"ip_address":"","ucode":"49B732F80C5B68","user_header":"","comment_is_top":false,"comment_ctime":1610554390,"is_pvip":false,"replies":[{"id":"99049","content":"æˆ‘åœ¨14è®²ä¼šæ¶‰åŠè¿™ä¸ªé—®é¢˜ï¼Œä½†ä¹Ÿå¸Œæœ›ä½ è‡ªå·±å¤šæ€è€ƒï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªåˆ«äººåº”è¯¥å‘Šè¯‰ä½ ç­”æ¡ˆçš„é—®é¢˜ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1610563290,"ip_address":"","comment_id":273370,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1610554390","product_id":100060801,"comment_content":"æƒ³é—®ä¸‹è€å¸ˆ  åƒw2væœ‰æ²¡æœ‰åŠæ³•å¯ä»¥evaluateï¼Ÿ<br>æ¯”å¦‚embLength=20çš„è¯ï¼Œæ€ä¹ˆæ‰èƒ½çŸ¥é“æœ‰æ²¡æœ‰æ¯”embLength=10æ•ˆæœæ›´å¥½ï¼Ÿ<br>","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":513580,"discussion_content":"æˆ‘åœ¨14è®²ä¼šæ¶‰åŠè¿™ä¸ªé—®é¢˜ï¼Œä½†ä¹Ÿå¸Œæœ›ä½ è‡ªå·±å¤šæ€è€ƒï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªåˆ«äººåº”è¯¥å‘Šè¯‰ä½ ç­”æ¡ˆçš„é—®é¢˜ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1610563290,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":266577,"user_name":"ç‹å˜‰ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1592782,"ip_address":"","ucode":"FA1D9AE9B91F84","user_header":"","comment_is_top":false,"comment_ctime":1607398311,"is_pvip":false,"replies":[{"id":"96827","content":"æ˜¯ä¸æ˜¯æ²¡æœ‰é…ç½®å¥½scalaç¯å¢ƒï¼Ÿæˆ‘ä»¬ä½¿ç”¨2.11 scalaç‰ˆæœ¬ï¼Œå¯ä»¥æŸ¥ä¸€ä¸‹æ€ä¹ˆåœ¨ideaä¸­é…ç½®scalaç¯å¢ƒï¼Œå†è¿è¡Œä¸€ä¸‹è¯•è¯•ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1607467425,"ip_address":"","comment_id":266577,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1607398311","product_id":100060801,"comment_content":"ä½ å¥½è€å¸ˆï¼Œè¿è¡ŒEmbedding.scalaè¿™ä¸ªæ–‡ä»¶æ—¶å€™ä¸€ç›´æŠ¥ error: illegal start of definition<br>package com.wzhe.sparrowrecsys.offline.spark.embeddingè¿™ä¸ªé”™ï¼Œç½‘ä¸Šè²Œä¼¼ä¹Ÿæ‰¾ä¸ç€æœ‰ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚ä¹‹å‰æ²¡æ¥è§¦è¿‡scalaçš„é¡¹ç›®ä¸å¤ªæ‡‚æœ‰å•¥ä¸œè¥¿éœ€è¦è£…çš„å—","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511319,"discussion_content":"æ˜¯ä¸æ˜¯æ²¡æœ‰é…ç½®å¥½scalaç¯å¢ƒï¼Ÿæˆ‘ä»¬ä½¿ç”¨2.11 scalaç‰ˆæœ¬ï¼Œå¯ä»¥æŸ¥ä¸€ä¸‹æ€ä¹ˆåœ¨ideaä¸­é…ç½®scalaç¯å¢ƒï¼Œå†è¿è¡Œä¸€ä¸‹è¯•è¯•ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607467425,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":266118,"user_name":"èŠ±æ™¨å°‘å¹´","can_delete":false,"product_type":"c1","uid":1098987,"ip_address":"","ucode":"6AA3537A6BA10E","user_header":"https://static001.geekbang.org/account/avatar/00/10/c4/eb/2285a345.jpg","comment_is_top":false,"comment_ctime":1607175478,"is_pvip":false,"replies":[{"id":"96676","content":"ä½ æœ‰ä»€ä¹ˆå¥½çš„æƒ³æ³•æ²¡æœ‰ï¼Œæ¬¢è¿åˆ†äº«æ€è€ƒã€‚åç»­è¯¾ç¨‹å’Œè¯¾ç¨‹è®¨è®ºé‡Œé¢ä¹Ÿæœ‰ç›¸å…³çš„å†…å®¹ï¼Œä¹Ÿæ¬¢è¿å‚è€ƒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1607215827,"ip_address":"","comment_id":266118,"utype":1}],"discussion_count":4,"race_medal":0,"score":"1607175478","product_id":100060801,"comment_content":"è€å¸ˆè¯·é—®ï¼Œåƒitem2vecå’Œéšæœºæ¸¸èµ°è¿™ç§embeddingæŠ€æœ¯ï¼Œåªèƒ½ç”Ÿæˆç‰©å“ä¾§çš„embeddingï¼Œé‚£å¯¹äºç”¨æˆ·ä¾§çš„embeddingï¼Œæ€ä¹ˆç”Ÿæˆå‘¢","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":511156,"discussion_content":"ä½ æœ‰ä»€ä¹ˆå¥½çš„æƒ³æ³•æ²¡æœ‰ï¼Œæ¬¢è¿åˆ†äº«æ€è€ƒã€‚åç»­è¯¾ç¨‹å’Œè¯¾ç¨‹è®¨è®ºé‡Œé¢ä¹Ÿæœ‰ç›¸å…³çš„å†…å®¹ï¼Œä¹Ÿæ¬¢è¿å‚è€ƒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607215827,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1293829,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKQUKhAY64yhtWOzrwNWn6OoXcNicneBG83EUI3p6B0HrNHjc67BfP3ah8rodtLicoNgKFKibvCuHxTw/132","nickname":"Geek_357911","note":"","ucode":"754A8C9B25A006","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":335632,"discussion_content":"ç®€å•çš„å¯ä»¥æŠŠç”¨æˆ·ç‚¹å‡»ç‰©å“çš„å†å²åºåˆ—avgä½œä¸ºç”¨æˆ·ä¾§embedding ï¼Œè¿œæœŸå’Œè¿‘æœŸçš„ç‰©å“å¯ä»¥èµ‹äºˆä¸åŒæƒé‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1608257872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1098987,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/eb/2285a345.jpg","nickname":"èŠ±æ™¨å°‘å¹´","note":"","ucode":"6AA3537A6BA10E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":332981,"discussion_content":"å—¯ã€‚æˆ‘è§‰å¾—æœ€ç®€å•çš„åº”è¯¥æ˜¯ç”¨æˆ·ç‚¹å‡»è¿‡çš„ç‰©å“embeddingåŠ æƒæ±‚å’Œã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1607407863,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":1098987,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c4/eb/2285a345.jpg","nickname":"èŠ±æ™¨å°‘å¹´","note":"","ucode":"6AA3537A6BA10E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":334572,"discussion_content":"æ˜¯è¿™æ ·çš„ï¼Œå…¶å®åŠ æƒå’Œå°±æ˜¯attentionçš„æ€è·¯ï¼Œåšå¹³å‡å°±æ˜¯average poolingçš„æ€è·¯ï¼Œè¿˜æœ‰ä¸€äº›åºåˆ—æ¨¡å‹çš„ä¹‹ç±»çš„è§£å†³æ–¹æ¡ˆï¼Œåç»­å¯ä»¥ç»§ç»­å­¦ä¹ ã€‚","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1607903796,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":332981,"ip_address":""},"score":334572,"extra":""}]}]},{"had_liked":false,"id":263053,"user_name":"é©¬é¾™æµ","can_delete":false,"product_type":"c1","uid":1087792,"ip_address":"","ucode":"16F9CE022297FF","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erUKWZy1fBBcJncWRNh9M3TkjThqgsIIpmGOTCyg2IN80IDf3COkeWyTLHliczAppIkfBgCJTsUn1g/132","comment_is_top":false,"comment_ctime":1605964576,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1605964576","product_id":100060801,"comment_content":"deep walkç›¸æ¯”è¾ƒåŸå§‹çš„item2vecï¼Œå¥½åœ¨å“ªé‡Œå‘¢","like_count":0,"discussions":[{"author":{"id":2325199,"avatar":"https://static001.geekbang.org/account/avatar/00/23/7a/cf/c42dd74e.jpg","nickname":"sky","note":"","ucode":"C7BA135845E1FF","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393259,"discussion_content":"æˆ‘ä¹Ÿæœ‰ç–‘é—®ï¼Œdeep walkç”¨çš„è¿˜æ˜¯åºåˆ—æ•°æ®ï¼Œè¿˜è¦è´¹äº‹çš„éšæœºæ¸¸èµ°ã€‚ã€‚ã€‚ã€‚ä¸å¤šæ­¤ä¸€ä¸¾å—","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631331264,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":260458,"user_name":"ä¸é”ˆåˆšä¸","can_delete":false,"product_type":"c1","uid":2206611,"ip_address":"","ucode":"434041FF8114BD","user_header":"https://static001.geekbang.org/account/avatar/00/21/ab/93/05e70412.jpg","comment_is_top":false,"comment_ctime":1605012634,"is_pvip":false,"replies":[{"id":"94632","content":"å½“ç„¶å¯ä»¥ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1605079232,"ip_address":"","comment_id":260458,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1605012634","product_id":100060801,"comment_content":"è€å¸ˆï¼Œæˆ‘çœ‹äº†ä½ çš„demoä½ æŠŠembeddingå‡ºæ¥çš„å‘é‡ç”¨æ¥æ‰¾ç›¸ä¼¼äº†ï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œè¿™ä¸ªå‘é‡èƒ½å¦ç”¨ä½œå…¶ä»–ç®—æ³•æ¨¡å‹çš„è®­ç»ƒæ ·æœ¬ç»´åº¦ç‰¹å¾ï¼Œæ¯”å¦‚è¯´é€»è¾‘å›å½’ã€‚","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":509197,"discussion_content":"å½“ç„¶å¯ä»¥ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1605079232,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":255536,"user_name":"Todd","can_delete":false,"product_type":"c1","uid":1017248,"ip_address":"","ucode":"64A306C44F8EC7","user_header":"https://static001.geekbang.org/account/avatar/00/0f/85/a0/3d423435.jpg","comment_is_top":false,"comment_ctime":1603367650,"is_pvip":false,"replies":[{"id":"93150","content":"æ²¡æœ‰ä»githubä¸Šclone SparrowRecSysé¡¹ç›®å—ï¼Ÿè¿™èŠ‚è¯¾çš„æ‰€æœ‰å®è·µä»£ç éƒ½åœ¨è¿™ä¸ªé¡¹ç›®é‡Œé¢ã€‚<br><br>è¿™èŠ‚è¯¾çš„å†…å®¹è¯·å‚è€ƒcom.wzhe.sparrowrecsys.offline.spark.embeddingç±»","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1603413205,"ip_address":"","comment_id":255536,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1603367650","product_id":100060801,"comment_content":"æœ€åä¸€è¡Œä»£ç bugï¼Œæœ‰æ²¡æœ‰githubï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507746,"discussion_content":"æ²¡æœ‰ä»githubä¸Šclone SparrowRecSysé¡¹ç›®å—ï¼Ÿè¿™èŠ‚è¯¾çš„æ‰€æœ‰å®è·µä»£ç éƒ½åœ¨è¿™ä¸ªé¡¹ç›®é‡Œé¢ã€‚\n\nè¿™èŠ‚è¯¾çš„å†…å®¹è¯·å‚è€ƒcom.wzhe.sparrowrecsys.offline.spark.embeddingç±»","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603413205,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":254643,"user_name":"èŠ³è²è²å…®æ»¡å ‚","can_delete":false,"product_type":"c1","uid":1000860,"ip_address":"","ucode":"C8D89999C201F1","user_header":"https://static001.geekbang.org/account/avatar/00/0f/45/9c/5b06d143.jpg","comment_is_top":false,"comment_ctime":1603161376,"is_pvip":true,"replies":[{"id":"92935","content":"ç”¨pysparkè‚¯å®šä¹Ÿæ²¡é—®é¢˜ã€‚ä½†å› ä¸ºsparkæ˜¯åŸç”Ÿæ”¯æŒscalaï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†å›¢é˜Ÿï¼Œç‰¹åˆ«æ˜¯ä¸“é—¨çš„æ•°æ®å›¢é˜Ÿæ˜¯ä»¥scalaä¸ºä¸»ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç‹å–†","uid":"1662192","ctime":1603219748,"ip_address":"","comment_id":254643,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1603161376","product_id":100060801,"comment_content":"è€å¸ˆ ç”Ÿäº§ç¯å¢ƒå¯¹sparkçš„è°ƒç”¨éƒ½æ˜¯ç”¨scalaå—ï¼Ÿæœ‰ç”¨pythonçš„å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1662192,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5c/f0/46214d29.jpg","nickname":"ç‹å–†","note":"","ucode":"2EDC616F905F3F","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":507467,"discussion_content":"ç”¨pysparkè‚¯å®šä¹Ÿæ²¡é—®é¢˜ã€‚ä½†å› ä¸ºsparkæ˜¯åŸç”Ÿæ”¯æŒscalaï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†å›¢é˜Ÿï¼Œç‰¹åˆ«æ˜¯ä¸“é—¨çš„æ•°æ®å›¢é˜Ÿæ˜¯ä»¥scalaä¸ºä¸»ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1603219748,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2406718,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJxibnALAhRxYffic6nFLG3rzgYfD2Os1dz4bxcJzUhE7vCk8lIy4MicdVWO6DhicDkcSicTOw2H4cWTcQ/132","nickname":"Geek_856c8e","note":"","ucode":"0616D716B7B098","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":362328,"discussion_content":"è€å¸ˆï¼Œèƒ½é—®ä¸€ä¸‹item2vecä¸­åŒ…å«è´Ÿé‡‡æ ·ä¹ˆï¼Œèƒ½è®²ä¸€ä¸‹æ˜¯æ€ä¹ˆåšè´Ÿé‡‡æ ·çš„ä¹ˆ\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1616921661,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2264679,"avatar":"https://static001.geekbang.org/account/avatar/00/22/8e/67/afb412fb.jpg","nickname":"é™ˆå¨æ´‹","note":"","ucode":"DCF84B4D3A7354","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2406718,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJxibnALAhRxYffic6nFLG3rzgYfD2Os1dz4bxcJzUhE7vCk8lIy4MicdVWO6DhicDkcSicTOw2H4cWTcQ/132","nickname":"Geek_856c8e","note":"","ucode":"0616D716B7B098","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":386772,"discussion_content":"å¯ä»¥è‡ªå·±çœ‹ä¸€ä¸‹ word2Vec çš„è®ºæ–‡ï¼Œé‡Œé¢è¯¦ç»†ä»‹ç»äº†è´Ÿé‡‡æ ·ï¼~\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1627789538,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":362328,"ip_address":""},"score":386772,"extra":""}]}]}]}
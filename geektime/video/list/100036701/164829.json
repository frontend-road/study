{"id":164829,"title":"33 | å®ç°å®¢æˆ·ç«¯ç¼–è§£ç ","content":"<p><strong>è¯¾ä»¶å’ŒDemoåœ°å€</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geek_netty\">https://gitee.com/geektime-geekbang/geek_netty</a></p>","comments":[{"had_liked":false,"id":193526,"user_name":"yang","can_delete":false,"product_type":"c3","uid":1074310,"ip_address":"","ucode":"1AA1497C5A293C","user_header":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","comment_is_top":false,"comment_ctime":1584923643,"is_pvip":false,"replies":[{"id":78823,"content":"æˆ‘çš„æœºå™¨ä¸Šæ˜¯ï¼šalt+shift+rï¼Œå¦‚æœä¸è¡Œï¼Œä½ çœ‹ä¸‹reactor-&gt;renameä½ çš„æœºå™¨ä¸Šæ˜¯ä»€ä¹ˆå°±å¯ä»¥äº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"stroller","uid":1638649,"ctime":1588056069,"ip_address":"","comment_id":193526,"utype":1}],"discussion_count":3,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"1. æœåŠ¡ç«¯ç¼–ç çš„ï¼Œå®¢æˆ·ç«¯éœ€è¦è§£ç ï¼›\n    å®¢æˆ·ç«¯ç¼–ç çš„ï¼ŒæœåŠ¡ç«¯éœ€è¦è§£ç ã€‚\n    æˆå¯¹å‡ºç°ã€‚\n2. è§£å†³ç²˜åŒ…&#47;åŠåŒ…é—®é¢˜é‡‡ç”¨äº†å®šé•¿çš„Frameæ¥è§£å†³ã€‚\n3. ä»£ç é‡æ˜¯çœŸçš„å¥½å°‘ã€‚\nè€å¸ˆï¼Œä½ é‚£ä¸ªå¿«æ·é”® â€” æ”¹ä¸€ä¸ªå±€éƒ¨å˜é‡çš„åç§°ï¼Œå€ç”¨åˆ°çš„åœ°æ–¹ä¹Ÿè¢«ä¿®æ”¹äº†ï¼Œè¿™ä¸ªå¿«æ·é”®æ˜¯å•¥ç»„åˆå•Šï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":488575,"discussion_content":"æˆ‘çš„æœºå™¨ä¸Šæ˜¯ï¼šalt+shift+rï¼Œå¦‚æœä¸è¡Œï¼Œä½ çœ‹ä¸‹reactor-&amp;gt;renameä½ çš„æœºå™¨ä¸Šæ˜¯ä»€ä¹ˆå°±å¯ä»¥äº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588056069,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1107153,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e4/d1/002f9955.jpg","nickname":"å°é©¬å“¥","note":"","ucode":"376833AC2A1589","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":222730,"discussion_content":"Shift+F6","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586169618,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1074310,"avatar":"https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg","nickname":"yang","note":"","ucode":"1AA1497C5A293C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1107153,"avatar":"https://static001.geekbang.org/account/avatar/00/10/e4/d1/002f9955.jpg","nickname":"å°é©¬å“¥","note":"","ucode":"376833AC2A1589","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":222766,"discussion_content":"è°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1586173357,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":222730,"ip_address":"","group_id":0},"score":222766,"extra":""}]}]},{"had_liked":false,"id":189158,"user_name":"ç•™ç™½çš„è‰ºæœ¯","can_delete":false,"product_type":"c3","uid":1512848,"ip_address":"","ucode":"285B86B5D53DB8","user_header":"https://static001.geekbang.org/account/avatar/00/17/15/90/b5b662ff.jpg","comment_is_top":false,"comment_ctime":1584461693,"is_pvip":false,"replies":[{"id":78829,"content":"æˆ‘ç‰¹åœ°æŸ¥äº†ä¸‹ä»–é•¿å•¥æ ·ï¼Œå“ˆå“ˆ","user_name":"ä½œè€…å›å¤","user_name_real":"stroller","uid":1638649,"ctime":1588056370,"ip_address":"","comment_id":189158,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"å’‹ä¸€çœ‹è¿˜ä»¥ä¸ºæ˜¯éƒ­æ™‹å®‰åœ¨è®²Netty","like_count":1,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":487619,"discussion_content":"æˆ‘ç‰¹åœ°æŸ¥äº†ä¸‹ä»–é•¿å•¥æ ·ï¼Œå“ˆå“ˆ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588056370,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1512848,"avatar":"https://static001.geekbang.org/account/avatar/00/17/15/90/b5b662ff.jpg","nickname":"ç•™ç™½çš„è‰ºæœ¯","note":"","ucode":"285B86B5D53DB8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":252020,"discussion_content":"æ˜æ˜å¯ä»¥é é¢œå€¼ï¼Œååé å®åŠ›å–èƒœ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588133802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176025,"user_name":"Fly55","can_delete":false,"product_type":"c3","uid":1251563,"ip_address":"","ucode":"FFA9D5C6EDD6F4","user_header":"https://static001.geekbang.org/account/avatar/00/13/18/eb/fd0b4a1f.jpg","comment_is_top":false,"comment_ctime":1580913639,"is_pvip":false,"replies":[{"id":68849,"content":"åŒæ ·å¦‚æ­¤ï¼Œæ²¡åŠæ³•ï¼Œåœ¨å®¶å°±æ˜¯ç»™ç¤¾ä¼šåšè´¡çŒ®ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"stroller","uid":1638649,"ctime":1581360794,"ip_address":"","comment_id":176025,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"åœ¨å®¶åŠå…¬æ‰“å¡","like_count":1,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":483000,"discussion_content":"åŒæ ·å¦‚æ­¤ï¼Œæ²¡åŠæ³•ï¼Œåœ¨å®¶å°±æ˜¯ç»™ç¤¾ä¼šåšè´¡çŒ®ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1581360794,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":185704,"user_name":"è¢«è¿‡å»æ¨å¼€","can_delete":false,"product_type":"c3","uid":1276690,"ip_address":"","ucode":"8B4F34FE93FD5B","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Cib5umA0W17N9pichI08pnrXAExdbyh7AVzH4nEhD6KN3FXuELk4LJJuqUPPD7xmIy9nq5Hjbgnzic7sVZG5BKiaUQ/132","comment_is_top":false,"comment_ctime":1583667993,"is_pvip":false,"replies":[{"id":79278,"content":"æ˜¯çš„","user_name":"ä½œè€…å›å¤","user_name_real":"stroller","uid":1638649,"ctime":1588641667,"ip_address":"","comment_id":185704,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"æ”¹ä¸€æ”¹å°±å¯ä»¥äº†ï¼Œç›¸å½“è½»æ¾","like_count":0,"discussions":[{"author":{"id":1638649,"avatar":"https://static001.geekbang.org/account/avatar/00/19/00/f9/44a3e5bd.jpg","nickname":"å‚…å¥","note":"","ucode":"5EA8BB26F5B036","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":486469,"discussion_content":"æ˜¯çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1588641667,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":176664,"user_name":"å­¤å¸†","can_delete":false,"product_type":"c3","uid":1053914,"ip_address":"","ucode":"8CC9AAF28944EB","user_header":"https://static001.geekbang.org/account/avatar/00/10/14/da/0a012c26.jpg","comment_is_top":false,"comment_ctime":1581133355,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"å“ˆå“ˆ å¤©ä¸‹ä»£ç ä¸€å¤§æŠ„ ğŸ‘","like_count":1},{"had_liked":false,"id":151169,"user_name":"å´ç‰","can_delete":false,"product_type":"c3","uid":1099289,"ip_address":"","ucode":"AFB99044202760","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/19/d9350a8e.jpg","comment_is_top":false,"comment_ctime":1573660208,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"ğŸ‘","like_count":1},{"had_liked":false,"id":299938,"user_name":"ä½•å¦¨","can_delete":false,"product_type":"c3","uid":1385377,"ip_address":"","ucode":"EC3983BFF7992A","user_header":"https://static001.geekbang.org/account/avatar/00/15/23/a1/b08f3ee7.jpg","comment_is_top":false,"comment_ctime":1624929137,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"é—®ä¸‹ï¼Œç»Ÿä¸€æˆä¸€ä¸ª message ä¸æ˜¯æ›´å¥½å—ï¼Ÿä¸€å¥—ç¼–è§£ç å°±è¡Œäº†","like_count":0},{"had_liked":false,"id":236936,"user_name":"æ€ç»ªèµ°äº†ç¬å…‰âœ¨","can_delete":false,"product_type":"c3","uid":1101661,"ip_address":"","ucode":"512DD0FA5C024C","user_header":"https://static001.geekbang.org/account/avatar/00/10/cf/5d/99756164.jpg","comment_is_top":false,"comment_ctime":1595593405,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"è€å¸ˆä¸çŸ¥é“æ‚¨æœ‰æ²¡æœ‰è¯»è¿‡netty-socketio è¿™ä¸ªæ¡†æ¶ï¼Œæƒ³è¯·æ•™ä¸€ä¸‹å…¶ä¸­çš„AckManager çš„è®¾è®¡æ€æƒ³ï¼Œæœ‰ä¸ªç–‘é—®ï¼Œè°ƒç”¨client.sendEvent(String event,AckCallback&lt;?&gt; ackCallback ,Object ...data) å¦‚æœæœåŠ¡ç«¯æ²¡æœ‰æ”¶åˆ°å®¢æˆ·ç«¯çš„ack,é‚£è¦å¦‚ä½•è®¾ç½®é‡å‘ï¼Ÿ","like_count":0},{"had_liked":false,"id":229907,"user_name":"æ—­","can_delete":false,"product_type":"c3","uid":1664437,"ip_address":"","ucode":"EB7B3C3FE2044F","user_header":"https://static001.geekbang.org/account/avatar/00/19/65/b5/bcbe963e.jpg","comment_is_top":false,"comment_ctime":1593184038,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"è€å¸ˆï¼Œä»Šå¤©åšnetty å®¢æˆ·ç«¯è°ƒç”¨æœåŠ¡ç«¯ã€‚å®¢æˆ·ç«¯æŠ›å‡ºäº†è¿™ä¹ˆä¸€ä¸ªå¼‚å¸¸ï¼Œæäº†ä¸€ä¸‹åˆä¹Ÿæ²¡æœ‰è§£å†³ï¼Œæ±‚æ•™è€å¸ˆã€‚\n16:54:37.978 spring-boot-logging [http-nio-18081-exec-2] WARN  io.netty.channel.AbstractChannel - Force-closing a channel whose registration task was not accepted by an event loop: [id: 0xa6e31f29]\njava.util.concurrent.RejectedExecutionException: event executor terminated\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.reject(SingleThreadEventExecutor.java:987)\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.offerTask(SingleThreadEventExecutor.java:388)\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.addTask(SingleThreadEventExecutor.java:381)\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:886)\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.register(AbstractChannel.java:472)\n\tat io.netty.channel.SingleThreadEventLoop.register(SingleThreadEventLoop.java:87)\n\tat io.netty.channel.SingleThreadEventLoop.register(SingleThreadEventLoop.java:81)\n\tat io.netty.channel.MultithreadEventLoopGroup.register(MultithreadEventLoopGroup.java:86)\n\tat io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:311)\n\tat io.netty.bootstrap.Bootstrap.doResolveAndConnect(Bootstrap.java:157)\n\tat io.netty.bootstrap.Bootstrap.connect(Bootstrap.java:118)\n\nè¿™ä¸ªæƒ…å†µæ˜¯ï¼Œæˆ‘æŠŠæœåŠ¡é‡å¯ä¸€ä¸‹ã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨æ²¡é—®é¢˜ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨å°±ä¼šå‡ºè¿™ä¸ªé”™è¯¯ã€‚\nå‡ºè¿™ä¸ªé”™è¯¯ï¼Œæ˜¯å› ä¸ºä¼ è¾“çš„xml æ•°æ®ä¸­æœ‰å›¾ç‰‡ï¼Œæ•°æ®é‡è¾ƒå¤§ã€‚å°±ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚\nåŒæ ·çš„nettyå®¢æˆ·ç«¯ï¼Œè°ƒç”¨å¦å¤–ä¸€ä¸ªæ¥å£ï¼Œä¼ è¾“çš„æ•°æ®ä¸æºå¸¦å›¾ç‰‡ã€‚å°±ä¸ä¼šå‡ºç°è¿™ä¸ªé”™è¯¯ã€‚\næ±‚æ•™è€å¸ˆè§£ç­”ï¼Œè°¢è°¢å•¦","like_count":0},{"had_liked":false,"id":193869,"user_name":"NoBody","can_delete":false,"product_type":"c3","uid":1173766,"ip_address":"","ucode":"72E1B4FCDA2469","user_header":"https://static001.geekbang.org/account/avatar/00/11/e9/06/038a9cea.jpg","comment_is_top":false,"comment_ctime":1584975613,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100036701,"comment_content":"æ‰“å¡æ‰“å¡","like_count":0}]}
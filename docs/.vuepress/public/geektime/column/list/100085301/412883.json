{"id":412883,"title":"04ï½œget hands dirtyï¼šæ¥å†™ä¸ªå®ç”¨çš„CLIå°å·¥å…·","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é™ˆå¤©ã€‚</p><p>åœ¨ä¸Šä¸€è®²é‡Œï¼Œæˆ‘ä»¬å·²ç»æ¥è§¦äº† Rust çš„åŸºæœ¬è¯­æ³•ã€‚ä½ æ˜¯ä¸æ˜¯å·²ç»æŒ‰æºä¸ä½è‡ªå·±çš„æ´ªè’ä¹‹åŠ›ï¼Œæƒ³é©¬ä¸Šç”¨ Rust å†™ç‚¹ä»€ä¹ˆç»ƒç»ƒæ‰‹ï¼Œä½†æ˜¯åˆå‘ç°è‡ªå·±å¥½åƒæœ‰ç‚¹â€œæ‹”å‰‘å››é¡¾å¿ƒèŒ«ç„¶â€å‘¢ï¼Ÿ</p><p>é‚£è¿™å‘¨æˆ‘ä»¬å°±æ¥ç©ä¸ªæ–°èŠ±æ ·ï¼Œ<strong>åšä¸€å‘¨â€œlearning by exampleâ€çš„æŒ‘æˆ˜</strong>ï¼Œæ¥å°è¯•ç”¨ Rust å†™ä¸‰ä¸ªéå¸¸æœ‰å®é™…ä»·å€¼çš„å°åº”ç”¨ï¼Œæ„Ÿå—ä¸‹ Rust çš„é­…åŠ›åœ¨å“ªé‡Œï¼Œè§£å†³çœŸå®é—®é¢˜çš„èƒ½åŠ›åˆ°åº•å¦‚ä½•ã€‚</p><p>ä½ æ˜¯ä¸æ˜¯æœ‰ç‚¹æ‹…å¿ƒï¼Œæˆ‘æ‰åˆšå­¦äº†æœ€åŸºæœ¬è¯­æ³•ï¼Œè¿˜å•¥éƒ½ä¸çŸ¥é“å‘¢ï¼Œè¿™å°±èƒ½å¼€å§‹å†™å°åº”ç”¨äº†ï¼Ÿé‚£æˆ‘ç¢°åˆ°ä¸ç†è§£çš„çŸ¥è¯†æ€ä¹ˆåŠï¼Ÿ</p><p>ä¸è¦æ‹…å¿ƒï¼Œå› ä¸ºä½ è‚¯å®šä¼šç¢°åˆ°ä¸å¤ªæ‡‚çš„è¯­æ³•ï¼Œä½†æ˜¯ï¼Œ<strong>å…ˆä¸è¦å¼ºæ±‚è‡ªå·±ç†è§£ï¼Œå½“æˆæ–‡è¨€æ–‡æŠ„å†™å°±å¯ä»¥äº†</strong>ï¼Œå“ªæ€•è¿™ä¼šä¸æ˜ç™½ï¼Œåªè¦ä½ è·Ÿç€è¯¾ç¨‹èŠ‚å¥ï¼Œé€šè¿‡æ’°å†™ã€ç¼–è¯‘å’Œè¿è¡Œï¼Œä½ ä¹Ÿèƒ½ç›´è§‚æ„Ÿå—åˆ° Rust çš„é­…åŠ›ï¼Œå°±åƒå°æ—¶å€™èƒŒå”è¯—ä¸€æ ·ã€‚</p><p>å¥½ï¼Œæˆ‘ä»¬å¼€å§‹ä»Šå¤©çš„æŒ‘æˆ˜ã€‚</p><h2>HTTPie</h2><p>ä¸ºäº†è¦†ç›–ç»å¤§å¤šæ•°åŒå­¦çš„éœ€æ±‚ï¼Œè¿™æ¬¡æŒ‘é€‰çš„ä¾‹å­æ˜¯å·¥ä½œä¸­æ™®éä¼šé‡åˆ°çš„ï¼šå†™ä¸€ä¸ª CLI å·¥å…·ï¼Œè¾…åŠ©æˆ‘ä»¬å¤„ç†å„ç§ä»»åŠ¡ã€‚</p><p>æˆ‘ä»¬å°±ä»¥å®ç° <a href=\"https://httpie.io/\">HTTPie</a> ä¸ºä¾‹ï¼Œçœ‹çœ‹ç”¨ Rust æ€ä¹ˆåš CLIã€‚HTTPie æ˜¯ç”¨ Python å¼€å‘çš„ï¼Œä¸€ä¸ªç±»ä¼¼ cURL ä½†å¯¹ç”¨æˆ·æ›´åŠ å‹å–„çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°è¯Šæ–­ HTTP æœåŠ¡ã€‚</p><p>ä¸‹å›¾æ˜¯ç”¨ HTTPie å‘é€äº†ä¸€ä¸ª post è¯·æ±‚çš„ç•Œé¢ï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼Œç›¸æ¯” cURLï¼Œå®ƒåœ¨å¯ç”¨æ€§ä¸Šåšäº†å¾ˆå¤šå·¥ä½œï¼ŒåŒ…æ‹¬å¯¹ä¸åŒä¿¡æ¯çš„è¯­æ³•é«˜äº®æ˜¾ç¤ºï¼š</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/e0/b7/e0f1238d1efe338a33f4bec5318a48b7.png?wh=1762x1130\" alt=\"å›¾ç‰‡\"></p><p>ä½ å¯ä»¥å…ˆæƒ³ä¸€æƒ³ï¼Œå¦‚æœç”¨ä½ æœ€ç†Ÿæ‚‰çš„è¯­è¨€å®ç° HTTPie ï¼Œè¦æ€ä¹ˆè®¾è®¡ã€éœ€è¦ç”¨åˆ°äº›ä»€ä¹ˆåº“ã€å¤§æ¦‚ç”¨å¤šå°‘è¡Œä»£ç ï¼Ÿå¦‚æœç”¨ Rust çš„è¯ï¼Œåˆå¤§æ¦‚ä¼šè¦å¤šå°‘è¡Œä»£ç ï¼Ÿ</p><p>å¸¦ç€ä½ è‡ªå·±çš„è¿™äº›æƒ³æ³•ï¼Œå¼€å§‹åŠ¨æ‰‹ç”¨ Rust æ„å»ºè¿™ä¸ªå·¥å…·å§ï¼æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ï¼Œ<strong>ç”¨å¤§çº¦ 200 è¡Œä»£ç </strong>å®ç°è¿™ä¸ªéœ€æ±‚ã€‚</p><h3>åŠŸèƒ½åˆ†æ</h3><p>è¦åšä¸€ä¸ª HTTPie è¿™æ ·çš„å·¥å…·ï¼Œæˆ‘ä»¬å…ˆæ¢³ç†ä¸€ä¸‹è¦å®ç°å“ªäº›ä¸»è¦åŠŸèƒ½ï¼š</p><ul>\n<li>é¦–å…ˆæ˜¯åšå‘½ä»¤è¡Œè§£æï¼Œå¤„ç†å­å‘½ä»¤å’Œå„ç§å‚æ•°ï¼ŒéªŒè¯ç”¨æˆ·çš„è¾“å…¥ï¼Œå¹¶ä¸”å°†è¿™äº›è¾“å…¥è½¬æ¢æˆæˆ‘ä»¬å†…éƒ¨èƒ½ç†è§£çš„å‚æ•°ï¼›</li>\n<li>ä¹‹åæ ¹æ®è§£æå¥½çš„å‚æ•°ï¼Œå‘é€ä¸€ä¸ª HTTP è¯·æ±‚ï¼Œè·å¾—å“åº”ï¼›</li>\n<li>æœ€åç”¨å¯¹ç”¨æˆ·å‹å¥½çš„æ–¹å¼è¾“å‡ºå“åº”ã€‚</li>\n</ul><p>è¿™ä¸ªæµç¨‹ä½ å¯ä»¥å†çœ‹ä¸‹å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/8f/8c/8fa48ae6e8bd3de42cdf67be4ffb298c.jpg?wh=1920x1106\" alt=\"å›¾ç‰‡\"></p><p>æˆ‘ä»¬æ¥çœ‹è¦å®ç°è¿™äº›åŠŸèƒ½å¯¹åº”éœ€è¦ç”¨åˆ°çš„åº“ï¼š</p><ul>\n<li>å¯¹äºå‘½ä»¤è¡Œè§£æï¼ŒRust æœ‰å¾ˆå¤šåº“å¯ä»¥æ»¡è¶³è¿™ä¸ªéœ€æ±‚ï¼Œæˆ‘ä»¬ä»Šå¤©ä½¿ç”¨å®˜æ–¹æ¯”è¾ƒæ¨èçš„ <a href=\"https://github.com/clap-rs/clap\">clap</a>ã€‚</li>\n<li>å¯¹äº HTTP å®¢æˆ·ç«¯ï¼Œåœ¨ä¸Šä¸€è®²æˆ‘ä»¬å·²ç»æ¥è§¦è¿‡ <a href=\"https://github.com/seanmonstar/reqwest\">reqwest</a>ï¼Œæˆ‘ä»¬å°±ç»§ç»­ä½¿ç”¨å®ƒï¼Œåªä¸è¿‡æˆ‘ä»¬è¿™æ¬¡å°ä¸ªé²œï¼Œä½¿ç”¨å®ƒçš„å¼‚æ­¥æ¥å£ã€‚</li>\n<li>å¯¹äºæ ¼å¼åŒ–è¾“å‡ºï¼Œä¸ºäº†è®©è¾“å‡ºåƒ Python ç‰ˆæœ¬çš„ HTTPie é‚£æ ·æ˜¾å¾—ç”ŸåŠ¨å¯è¯»ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥ä¸€ä¸ªå‘½ä»¤ç»ˆç«¯å¤šå½©æ˜¾ç¤ºçš„åº“ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©æ¯”è¾ƒç®€å•çš„ <a href=\"https://github.com/mackwic/colored\">colored</a>ã€‚</li>\n<li>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€äº›é¢å¤–çš„åº“ï¼šç”¨ anyhow åšé”™è¯¯å¤„ç†ã€ç”¨ jsonxf æ ¼å¼åŒ– JSON å“åº”ã€ç”¨ mime å¤„ç† mime ç±»å‹ï¼Œä»¥åŠå¼•å…¥ tokio åšå¼‚æ­¥å¤„ç†ã€‚</li>\n</ul><h3>CLI å¤„ç†</h3><p>å¥½ï¼Œæœ‰äº†åŸºæœ¬çš„æ€è·¯ï¼Œæˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œåå­—å°±å« <code>httpie</code>ï¼š</p><pre><code class=\"language-bash\">cargo new httpie\ncd httpie\n</code></pre><p>ç„¶åï¼Œç”¨ VSCode æ‰“å¼€é¡¹ç›®æ‰€åœ¨çš„ç›®å½•ï¼Œç¼–è¾‘ Cargo.toml æ–‡ä»¶ï¼Œæ·»åŠ æ‰€éœ€è¦çš„ä¾èµ–ï¼ˆ<strong>æ³¨æ„ï¼šä»¥ä¸‹ä»£ç ç”¨åˆ°äº† beta ç‰ˆæœ¬çš„ crateï¼Œå¯èƒ½æœªæ¥ä¼šæœ‰ç ´åæ€§æ›´æ–°ï¼Œå¦‚æœåœ¨æœ¬åœ°æ— æ³•ç¼–è¯‘ï¼Œè¯·å‚è€ƒ <a href=\"https://github.com/tyrchen/geektime-rust/tree/master/04_httpie\">GitHub repo</a> ä¸­çš„ä»£ç </strong>ï¼‰ï¼š</p><pre><code class=\"language-rust\">[package]\nname = \"httpie\"\nversion = \"0.1.0\"\nedition = \"2018\"\n\n[dependencies]\nanyhow = \"1\" # é”™è¯¯å¤„ç†\nclap = \"3.0.0-beta.4\" # å‘½ä»¤è¡Œè§£æ\ncolored = \"2\" # å‘½ä»¤ç»ˆç«¯å¤šå½©æ˜¾ç¤º\njsonxf = \"1.1\" # JSON pretty print æ ¼å¼åŒ–\nmime = \"0.3\" # å¤„ç† mime ç±»å‹\nreqwest = { version = \"0.11\", features = [\"json\"] } # HTTP å®¢æˆ·ç«¯\ntokio = { version = \"1\", features = [\"full\"] } # å¼‚æ­¥å¤„ç†åº“\n</code></pre><p>æˆ‘ä»¬å…ˆåœ¨ main.rs æ·»åŠ å¤„ç† CLI ç›¸å…³çš„ä»£ç ï¼š</p><pre><code class=\"language-rust\">use clap::{AppSettings, Clap};\n\n// å®šä¹‰ HTTPie çš„ CLI çš„ä¸»å…¥å£ï¼Œå®ƒåŒ…å«è‹¥å¹²ä¸ªå­å‘½ä»¤\n// ä¸‹é¢ /// çš„æ³¨é‡Šæ˜¯æ–‡æ¡£ï¼Œclap ä¼šå°†å…¶ä½œä¸º CLI çš„å¸®åŠ©\n\n/// A naive httpie implementation with Rust, can you imagine how easy it is?\n#[derive(Clap, Debug)]\n#[clap(version = \"1.0\", author = \"Tyr Chen &lt;tyr@chen.com&gt;\")]\n#[clap(setting = AppSettings::ColoredHelp)]\nstruct Opts {\n    #[clap(subcommand)]\n    subcmd: SubCommand,\n}\n\n// å­å‘½ä»¤åˆ†åˆ«å¯¹åº”ä¸åŒçš„ HTTP æ–¹æ³•ï¼Œç›®å‰åªæ”¯æŒ get / post\n#[derive(Clap, Debug)]\nenum SubCommand {\n    Get(Get),\n    Post(Post),\n    // æˆ‘ä»¬æš‚ä¸”ä¸æ”¯æŒå…¶å®ƒ HTTP æ–¹æ³•\n}\n\n// get å­å‘½ä»¤\n\n/// feed get with an url and we will retrieve the response for you\n#[derive(Clap, Debug)]\nstruct Get {\n    /// HTTP è¯·æ±‚çš„ URL\n    url: String,\n}\n\n// post å­å‘½ä»¤ã€‚éœ€è¦è¾“å…¥ä¸€ä¸ª URLï¼Œå’Œè‹¥å¹²ä¸ªå¯é€‰çš„ key=valueï¼Œç”¨äºæä¾› json body\n\n/// feed post with an url and optional key=value pairs. We will post the data\n/// as JSON, and retrieve the response for you\n#[derive(Clap, Debug)]\nstruct Post {\n    /// HTTP è¯·æ±‚çš„ URL\n    url: String,\n    /// HTTP è¯·æ±‚çš„ body\n    body: Vec&lt;String&gt;,\n}\n\nfn main() {\n    let opts: Opts = Opts::parse();\n    println!(\"{:?}\", opts);\n} \n</code></pre><p>ä»£ç ä¸­ç”¨åˆ°äº† clap æä¾›çš„å®æ¥è®© CLI çš„å®šä¹‰å˜å¾—ç®€å•ï¼Œè¿™ä¸ªå®èƒ½å¤Ÿç”Ÿæˆä¸€äº›é¢å¤–çš„ä»£ç å¸®æˆ‘ä»¬å¤„ç† CLI çš„è§£æã€‚é€šè¿‡ clap ï¼Œæˆ‘ä»¬åªéœ€è¦<strong>å…ˆç”¨ä¸€ä¸ªæ•°æ®ç»“æ„ T æè¿° CLI éƒ½ä¼šæ•è·ä»€ä¹ˆæ•°æ®ï¼Œä¹‹åé€šè¿‡ T::parse() å°±å¯ä»¥è§£æå‡ºå„ç§å‘½ä»¤è¡Œå‚æ•°äº†</strong>ã€‚parse() å‡½æ•°æˆ‘ä»¬å¹¶æ²¡æœ‰å®šä¹‰ï¼Œå®ƒæ˜¯ #[derive(Clap)] è‡ªåŠ¨ç”Ÿæˆçš„ã€‚</p><p>ç›®å‰æˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªå­å‘½ä»¤ï¼Œåœ¨ Rust ä¸­å­å‘½ä»¤å¯ä»¥é€šè¿‡ enum å®šä¹‰ï¼Œæ¯ä¸ªå­å‘½ä»¤çš„å‚æ•°åˆç”±å®ƒä»¬å„è‡ªçš„æ•°æ®ç»“æ„ Get å’Œ Post æ¥å®šä¹‰ã€‚</p><p>æˆ‘ä»¬è¿è¡Œä¸€ä¸‹ï¼š</p><pre><code class=\"language-bash\">â¯ cargo build --quiet &amp;&amp; target/debug/httpie post httpbin.org/post a=1 b=2\nOpts { subcmd: Post(Post { url: \"httpbin.org/post\", body: [\"a=1\", \"b=2\"] }) }\n\n</code></pre><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œcargo build ç¼–è¯‘å‡ºæ¥çš„äºŒè¿›åˆ¶ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•çš„ target/debug ä¸‹ã€‚å¯ä»¥çœ‹åˆ°ï¼Œå‘½ä»¤è¡Œè§£ææˆåŠŸï¼Œè¾¾åˆ°äº†æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½ã€‚</p><h3>åŠ å…¥éªŒè¯</h3><p>ç„¶è€Œï¼Œç°åœ¨æˆ‘ä»¬è¿˜æ²¡å¯¹ç”¨æˆ·è¾“å…¥åšä»»ä½•æ£€éªŒï¼Œå¦‚æœæœ‰è¿™æ ·çš„è¾“å…¥ï¼ŒURL å°±å®Œå…¨è§£æé”™è¯¯äº†ï¼š</p><pre><code class=\"language-bash\">â¯ cargo build --quiet &amp;&amp; target/debug/httpie post a=1 b=2\nOpts { subcmd: Post(Post { url: \"a=1\", body: [\"b=2\"] }) }\n</code></pre><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦åŠ å…¥éªŒè¯ã€‚è¾“å…¥æœ‰ä¸¤é¡¹ï¼Œ<strong>å°±è¦åšä¸¤ä¸ªéªŒè¯ï¼Œä¸€æ˜¯éªŒè¯ URLï¼Œå¦ä¸€ä¸ªæ˜¯éªŒè¯body</strong>ã€‚</p><p>é¦–å…ˆæ¥éªŒè¯ URL æ˜¯åˆæ³•çš„ï¼š</p><pre><code class=\"language-rust\">use anyhow::Result;\nuse reqwest::Url;\n\n#[derive(Clap, Debug)]\nstruct Get {\n    /// HTTP è¯·æ±‚çš„ URL\n    #[clap(parse(try_from_str = parse_url))]\n    url: String,\n}\n\nfn parse_url(s: &amp;str) -&gt; Result&lt;String&gt; {\n    // è¿™é‡Œæˆ‘ä»¬ä»…ä»…æ£€æŸ¥ä¸€ä¸‹ URL æ˜¯å¦åˆæ³•\n    let _url: Url = s.parse()?;\n\n    Ok(s.into())\n}\n</code></pre><p>clap å…è®¸ä½ ä¸ºæ¯ä¸ªè§£æå‡ºæ¥çš„å€¼æ·»åŠ è‡ªå®šä¹‰çš„è§£æå‡½æ•°ï¼Œæˆ‘ä»¬è¿™é‡Œå®šä¹‰äº†ä¸ª parse_url æ£€æŸ¥ä¸€ä¸‹ã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬è¦ç¡®ä¿ body é‡Œæ¯ä¸€é¡¹éƒ½æ˜¯ key=value çš„æ ¼å¼ã€‚å¯ä»¥å®šä¹‰ä¸€ä¸ªæ•°æ®ç»“æ„ KvPair æ¥å­˜å‚¨è¿™ä¸ªä¿¡æ¯ï¼Œå¹¶ä¸”ä¹Ÿè‡ªå®šä¹‰ä¸€ä¸ªè§£æå‡½æ•°æŠŠè§£æçš„ç»“æœæ”¾å…¥ KvPairï¼š</p><pre><code class=\"language-rust\">use std::str::FromStr;\nuse anyhow::{anyhow, Result};\n\n#[derive(Clap, Debug)]\nstruct Post {\n    /// HTTP è¯·æ±‚çš„ URL\n    #[clap(parse(try_from_str = parse_url))]\n    url: String,\n    /// HTTP è¯·æ±‚çš„ body\n    #[clap(parse(try_from_str=parse_kv_pair))]\n    body: Vec&lt;KvPair&gt;,\n}\n\n/// å‘½ä»¤è¡Œä¸­çš„ key=value å¯ä»¥é€šè¿‡ parse_kv_pair è§£ææˆ KvPair ç»“æ„\n#[derive(Debug)]\nstruct KvPair {\n    k: String,\n    v: String,\n}\n\n/// å½“æˆ‘ä»¬å®ç° FromStr trait åï¼Œå¯ä»¥ç”¨ str.parse() æ–¹æ³•å°†å­—ç¬¦ä¸²è§£ææˆ KvPair\nimpl FromStr for KvPair {\n    type Err = anyhow::Error;\n\n    fn from_str(s: &amp;str) -&gt; Result&lt;Self, Self::Err&gt; {\n        // ä½¿ç”¨ = è¿›è¡Œ splitï¼Œè¿™ä¼šå¾—åˆ°ä¸€ä¸ªè¿­ä»£å™¨\n        let mut split = s.split(\"=\");\n        let err = || anyhow!(format!(\"Failed to parse {}\", s));\n        Ok(Self {\n            // ä»è¿­ä»£å™¨ä¸­å–ç¬¬ä¸€ä¸ªç»“æœä½œä¸º keyï¼Œè¿­ä»£å™¨è¿”å› Some(T)/None\n            // æˆ‘ä»¬å°†å…¶è½¬æ¢æˆ Ok(T)/Err(E)ï¼Œç„¶åç”¨ ? å¤„ç†é”™è¯¯\n            k: (split.next().ok_or_else(err)?).to_string(),\n            // ä»è¿­ä»£å™¨ä¸­å–ç¬¬äºŒä¸ªç»“æœä½œä¸º value\n            v: (split.next().ok_or_else(err)?).to_string(),\n        })\n    }\n}\n\n/// å› ä¸ºæˆ‘ä»¬ä¸º KvPair å®ç°äº† FromStrï¼Œè¿™é‡Œå¯ä»¥ç›´æ¥ s.parse() å¾—åˆ° KvPair\nfn parse_kv_pair(s: &amp;str) -&gt; Result&lt;KvPair&gt; {\n    Ok(s.parse()?)\n}\n</code></pre><p>è¿™é‡Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ª <a href=\"https://doc.rust-lang.org/std/str/trait.FromStr.html\">FromStr trait</a>ï¼Œå¯ä»¥æŠŠæ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ä¸²è½¬æ¢æˆ KvPairã€‚FromStr æ˜¯ Rust æ ‡å‡†åº“å®šä¹‰çš„ traitï¼Œå®ç°å®ƒä¹‹åï¼Œå°±å¯ä»¥è°ƒç”¨å­—ç¬¦ä¸²çš„ parse() æ³›å‹å‡½æ•°ï¼Œå¾ˆæ–¹ä¾¿åœ°å¤„ç†å­—ç¬¦ä¸²åˆ°æŸä¸ªç±»å‹çš„è½¬æ¢äº†ã€‚</p><p>è¿™æ ·ä¿®æ”¹å®Œæˆåï¼Œæˆ‘ä»¬çš„ CLI å°±æ¯”è¾ƒå¥å£®äº†ï¼Œå¯ä»¥å†æµ‹è¯•ä¸€ä¸‹ï¼š</p><pre><code class=\"language-rust\">â¯ cargo build --quiet\nâ¯ target/debug/httpie post https://httpbin.org/post a=1 b\nerror: Invalid value for '&lt;BODY&gt;...': Failed to parse b\n\nFor more information try --help\nâ¯ target/debug/httpie post abc a=1\nerror: Invalid value for '&lt;URL&gt;': relative URL without a base\n\nFor more information try --help\n\ntarget/debug/httpie post https://httpbin.org/post a=1 b=2\nOpts { subcmd: Post(Post { url: \"https://httpbin.org/post\", body: [KvPair { k: \"a\", v: \"1\" }, KvPair { k: \"b\", v: \"2\" }] }) }\n</code></pre><p>Coolï¼Œæˆ‘ä»¬å®Œæˆäº†åŸºæœ¬çš„éªŒè¯ï¼Œä¸è¿‡å¾ˆæ˜æ˜¾å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰æŠŠå„ç§éªŒè¯ä»£ç ä¸€è‚¡è„‘å¡åœ¨ä¸»æµç¨‹ä¸­ï¼Œè€Œæ˜¯<strong>é€šè¿‡å®ç°é¢å¤–çš„éªŒè¯å‡½æ•°å’Œ trait æ¥å®Œæˆçš„</strong>ï¼Œè¿™äº›æ–°æ·»åŠ çš„ä»£ç ï¼Œé«˜åº¦å¯å¤ç”¨ä¸”å½¼æ­¤ç‹¬ç«‹ï¼Œå¹¶ä¸ç”¨ä¿®æ”¹ä¸»æµç¨‹ã€‚</p><p>è¿™éå¸¸ç¬¦åˆè½¯ä»¶å¼€å‘çš„å¼€é—­åŸåˆ™ï¼ˆ<a href=\"https://en.wikipedia.org/wiki/Open%E2%80%93closed_principle\">Open-Closed Principle</a>ï¼‰ï¼šRust å¯ä»¥é€šè¿‡å®ã€traitã€æ³›å‹å‡½æ•°ã€trait object ç­‰å·¥å…·ï¼Œå¸®åŠ©æˆ‘ä»¬æ›´å®¹æ˜“å†™å‡ºç»“æ„è‰¯å¥½ã€å®¹æ˜“ç»´æŠ¤çš„ä»£ç ã€‚</p><p><strong>ç›®å‰ä½ ä¹Ÿè®¸è¿˜ä¸å¤ªæ˜ç™½è¿™äº›ä»£ç çš„ç»†èŠ‚ï¼Œä½†æ˜¯ä¸è¦æ‹…å¿ƒï¼Œç»§ç»­å†™ï¼Œä»Šå¤©å…ˆæŠŠä»£ç è·‘èµ·æ¥å°±è¡Œäº†</strong>ï¼Œä¸éœ€è¦ä½ ææ‡‚æ¯ä¸ªçŸ¥è¯†ç‚¹ï¼Œä¹‹åæˆ‘ä»¬éƒ½ä¼šæ…¢æ…¢è®²åˆ°çš„ã€‚</p><h3>HTTP è¯·æ±‚</h3><p>å¥½ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±ç»§ç»­è¿›è¡Œ HTTPie çš„æ ¸å¿ƒåŠŸèƒ½ï¼šHTTP çš„è¯·æ±‚å¤„ç†äº†ã€‚æˆ‘ä»¬åœ¨ main() å‡½æ•°é‡Œæ·»åŠ å¤„ç†å­å‘½ä»¤çš„æµç¨‹ï¼š</p><pre><code class=\"language-rust\">use reqwest::{header, Client, Response, Url};\n\n#[tokio::main]\nasync fn main() -&gt; Result&lt;()&gt; {\n    let opts: Opts = Opts::parse();\n    // ç”Ÿæˆä¸€ä¸ª HTTP å®¢æˆ·ç«¯\n    let client = Client::new();\n    let result = match opts.subcmd {\n        SubCommand::Get(ref args) =&gt; get(client, args).await?,\n        SubCommand::Post(ref args) =&gt; post(client, args).await?,\n    };\n\n    Ok(result)\n}\n</code></pre><p>æ³¨æ„çœ‹æˆ‘ä»¬æŠŠ main å‡½æ•°å˜æˆäº† async fnï¼Œå®ƒä»£è¡¨å¼‚æ­¥å‡½æ•°ã€‚å¯¹äº async mainï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ #[tokio::main] å®æ¥è‡ªåŠ¨æ·»åŠ å¤„ç†å¼‚æ­¥çš„è¿è¡Œæ—¶ã€‚</p><p>ç„¶ååœ¨ main å‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬æ ¹æ®å­å‘½ä»¤çš„ç±»å‹ï¼Œæˆ‘ä»¬åˆ†åˆ«è°ƒç”¨ get å’Œ post å‡½æ•°åšå…·ä½“å¤„ç†ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°å®ç°å¦‚ä¸‹ï¼š</p><pre><code class=\"language-rust\">use std::{collections::HashMap, str::FromStr};\n\nasync fn get(client: Client, args: &amp;Get) -&gt; Result&lt;()&gt; {\n    let resp = client.get(&amp;args.url).send().await?;\n    println!(\"{:?}\", resp.text().await?);\n    Ok(())\n}\n\nasync fn post(client: Client, args: &amp;Post) -&gt; Result&lt;()&gt; {\n    let mut body = HashMap::new();\n    for pair in args.body.iter() {\n        body.insert(&amp;pair.k, &amp;pair.v);\n    }\n    let resp = client.post(&amp;args.url).json(&amp;body).send().await?;\n    println!(\"{:?}\", resp.text().await?);\n    Ok(())\n}\n</code></pre><p>å…¶ä¸­ï¼Œæˆ‘ä»¬è§£æå‡ºæ¥çš„ KvPair åˆ—è¡¨ï¼Œéœ€è¦è£…å…¥ä¸€ä¸ª HashMapï¼Œç„¶åä¼ ç»™ HTTP client çš„ JSON æ–¹æ³•ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬çš„ HTTPie çš„åŸºæœ¬åŠŸèƒ½å°±å®Œæˆäº†ã€‚</p><p>ä¸è¿‡ç°åœ¨æ‰“å°å‡ºæ¥çš„æ•°æ®å¯¹ç”¨æˆ·éå¸¸ä¸å‹å¥½ï¼Œæˆ‘ä»¬éœ€è¦è¿›ä¸€æ­¥ç”¨ä¸åŒçš„é¢œè‰²æ‰“å° HTTP header å’Œ HTTP bodyï¼Œå°±åƒ Python ç‰ˆæœ¬çš„ HTTPie é‚£æ ·ï¼Œè¿™éƒ¨åˆ†ä»£ç æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬å°±ä¸è¯¦ç»†ä»‹ç»äº†ã€‚</p><p>æœ€åï¼Œæ¥çœ‹å®Œæ•´çš„ä»£ç ï¼š</p><pre><code class=\"language-rust\">use anyhow::{anyhow, Result};\nuse clap::{AppSettings, Clap};\nuse colored::*;\nuse mime::Mime;\nuse reqwest::{header, Client, Response, Url};\nuse std::{collections::HashMap, str::FromStr};\n\n// ä»¥ä¸‹éƒ¨åˆ†ç”¨äºå¤„ç† CLI\n\n// å®šä¹‰ HTTPie çš„ CLI çš„ä¸»å…¥å£ï¼Œå®ƒåŒ…å«è‹¥å¹²ä¸ªå­å‘½ä»¤\n// ä¸‹é¢ /// çš„æ³¨é‡Šæ˜¯æ–‡æ¡£ï¼Œclap ä¼šå°†å…¶ä½œä¸º CLI çš„å¸®åŠ©\n\n/// A naive httpie implementation with Rust, can you imagine how easy it is?\n#[derive(Clap, Debug)]\n#[clap(version = \"1.0\", author = \"Tyr Chen &lt;tyr@chen.com&gt;\")]\n#[clap(setting = AppSettings::ColoredHelp)]\nstruct Opts {\n    #[clap(subcommand)]\n    subcmd: SubCommand,\n}\n\n// å­å‘½ä»¤åˆ†åˆ«å¯¹åº”ä¸åŒçš„ HTTP æ–¹æ³•ï¼Œç›®å‰åªæ”¯æŒ get / post\n#[derive(Clap, Debug)]\nenum SubCommand {\n    Get(Get),\n    Post(Post),\n    // æˆ‘ä»¬æš‚ä¸”ä¸æ”¯æŒå…¶å®ƒ HTTP æ–¹æ³•\n}\n\n// get å­å‘½ä»¤\n\n/// feed get with an url and we will retrieve the response for you\n#[derive(Clap, Debug)]\nstruct Get {\n    /// HTTP è¯·æ±‚çš„ URL\n    #[clap(parse(try_from_str = parse_url))]\n    url: String,\n}\n\n// post å­å‘½ä»¤ã€‚éœ€è¦è¾“å…¥ä¸€ä¸ª URLï¼Œå’Œè‹¥å¹²ä¸ªå¯é€‰çš„ key=valueï¼Œç”¨äºæä¾› json body\n\n/// feed post with an url and optional key=value pairs. We will post the data\n/// as JSON, and retrieve the response for you\n#[derive(Clap, Debug)]\nstruct Post {\n    /// HTTP è¯·æ±‚çš„ URL\n    #[clap(parse(try_from_str = parse_url))]\n    url: String,\n    /// HTTP è¯·æ±‚çš„ body\n    #[clap(parse(try_from_str=parse_kv_pair))]\n    body: Vec&lt;KvPair&gt;,\n}\n\n/// å‘½ä»¤è¡Œä¸­çš„ key=value å¯ä»¥é€šè¿‡ parse_kv_pair è§£ææˆ KvPair ç»“æ„\n#[derive(Debug, PartialEq)]\nstruct KvPair {\n    k: String,\n    v: String,\n}\n\n/// å½“æˆ‘ä»¬å®ç° FromStr trait åï¼Œå¯ä»¥ç”¨ str.parse() æ–¹æ³•å°†å­—ç¬¦ä¸²è§£ææˆ KvPair\nimpl FromStr for KvPair {\n    type Err = anyhow::Error;\n\n    fn from_str(s: &amp;str) -&gt; Result&lt;Self, Self::Err&gt; {\n        // ä½¿ç”¨ = è¿›è¡Œ splitï¼Œè¿™ä¼šå¾—åˆ°ä¸€ä¸ªè¿­ä»£å™¨\n        let mut split = s.split(\"=\");\n        let err = || anyhow!(format!(\"Failed to parse {}\", s));\n        Ok(Self {\n            // ä»è¿­ä»£å™¨ä¸­å–ç¬¬ä¸€ä¸ªç»“æœä½œä¸º keyï¼Œè¿­ä»£å™¨è¿”å› Some(T)/None\n            // æˆ‘ä»¬å°†å…¶è½¬æ¢æˆ Ok(T)/Err(E)ï¼Œç„¶åç”¨ ? å¤„ç†é”™è¯¯\n            k: (split.next().ok_or_else(err)?).to_string(),\n            // ä»è¿­ä»£å™¨ä¸­å–ç¬¬äºŒä¸ªç»“æœä½œä¸º value\n            v: (split.next().ok_or_else(err)?).to_string(),\n        })\n    }\n}\n\n/// å› ä¸ºæˆ‘ä»¬ä¸º KvPair å®ç°äº† FromStrï¼Œè¿™é‡Œå¯ä»¥ç›´æ¥ s.parse() å¾—åˆ° KvPair\nfn parse_kv_pair(s: &amp;str) -&gt; Result&lt;KvPair&gt; {\n    Ok(s.parse()?)\n}\n\nfn parse_url(s: &amp;str) -&gt; Result&lt;String&gt; {\n    // è¿™é‡Œæˆ‘ä»¬ä»…ä»…æ£€æŸ¥ä¸€ä¸‹ URL æ˜¯å¦åˆæ³•\n    let _url: Url = s.parse()?;\n\n    Ok(s.into())\n}\n\n/// å¤„ç† get å­å‘½ä»¤\nasync fn get(client: Client, args: &amp;Get) -&gt; Result&lt;()&gt; {\n    let resp = client.get(&amp;args.url).send().await?;\n    Ok(print_resp(resp).await?)\n}\n\n/// å¤„ç† post å­å‘½ä»¤\nasync fn post(client: Client, args: &amp;Post) -&gt; Result&lt;()&gt; {\n    let mut body = HashMap::new();\n    for pair in args.body.iter() {\n        body.insert(&amp;pair.k, &amp;pair.v);\n    }\n    let resp = client.post(&amp;args.url).json(&amp;body).send().await?;\n    Ok(print_resp(resp).await?)\n}\n\n// æ‰“å°æœåŠ¡å™¨ç‰ˆæœ¬å· + çŠ¶æ€ç \nfn print_status(resp: &amp;Response) {\n    let status = format!(\"{:?} {}\", resp.version(), resp.status()).blue();\n    println!(\"{}\\n\", status);\n}\n\n// æ‰“å°æœåŠ¡å™¨è¿”å›çš„ HTTP header\nfn print_headers(resp: &amp;Response) {\n    for (name, value) in resp.headers() {\n        println!(\"{}: {:?}\", name.to_string().green(), value);\n    }\n\n    print!(\"\\n\");\n}\n\n/// æ‰“å°æœåŠ¡å™¨è¿”å›çš„ HTTP body\nfn print_body(m: Option&lt;Mime&gt;, body: &amp;String) {\n    match m {\n        // å¯¹äº \"application/json\" æˆ‘ä»¬ pretty print\n        Some(v) if v == mime::APPLICATION_JSON =&gt; {\n            println!(\"{}\", jsonxf::pretty_print(body).unwrap().cyan())\n        }\n        // å…¶å®ƒ mime typeï¼Œæˆ‘ä»¬å°±ç›´æ¥è¾“å‡º\n        _ =&gt; println!(\"{}\", body),\n    }\n}\n\n/// æ‰“å°æ•´ä¸ªå“åº”\nasync fn print_resp(resp: Response) -&gt; Result&lt;()&gt; {\n    print_status(&amp;resp);\n    print_headers(&amp;resp);\n    let mime = get_content_type(&amp;resp);\n    let body = resp.text().await?;\n    print_body(mime, &amp;body);\n    Ok(())\n}\n\n/// å°†æœåŠ¡å™¨è¿”å›çš„ content-type è§£ææˆ Mime ç±»å‹\nfn get_content_type(resp: &amp;Response) -&gt; Option&lt;Mime&gt; {\n    resp.headers()\n        .get(header::CONTENT_TYPE)\n        .map(|v| v.to_str().unwrap().parse().unwrap())\n}\n\n/// ç¨‹åºçš„å…¥å£å‡½æ•°ï¼Œå› ä¸ºåœ¨ HTTP è¯·æ±‚æ—¶æˆ‘ä»¬ä½¿ç”¨äº†å¼‚æ­¥å¤„ç†ï¼Œæ‰€ä»¥è¿™é‡Œå¼•å…¥ tokio\n#[tokio::main]\nasync fn main() -&gt; Result&lt;()&gt; {\n    let opts: Opts = Opts::parse();\n    let mut headers = header::HeaderMap::new();\n    // ä¸ºæˆ‘ä»¬çš„ HTTP å®¢æˆ·ç«¯æ·»åŠ ä¸€äº›ç¼ºçœçš„ HTTP å¤´\n    headers.insert(\"X-POWERED-BY\", \"Rust\".parse()?);\n    headers.insert(header::USER_AGENT, \"Rust Httpie\".parse()?);\n    let client = reqwest::Client::builder()\n        .default_headers(headers)\n        .build()?;\n    let result = match opts.subcmd {\n        SubCommand::Get(ref args) =&gt; get(client, args).await?,\n        SubCommand::Post(ref args) =&gt; post(client, args).await?,\n    };\n\n    Ok(result)\n}\n\n// ä»…åœ¨ cargo test æ—¶æ‰ç¼–è¯‘\n#[cfg(test)]\nmod tests {\n    use super::*;\n\n    #[test]\n    fn parse_url_works() {\n        assert!(parse_url(\"abc\").is_err());\n        assert!(parse_url(\"http://abc.xyz\").is_ok());\n        assert!(parse_url(\"https://httpbin.org/post\").is_ok());\n    }\n\n    #[test]\n    fn parse_kv_pair_works() {\n        assert!(parse_kv_pair(\"a\").is_err());\n        assert_eq!(\n            parse_kv_pair(\"a=1\").unwrap(),\n            KvPair {\n                k: \"a\".into(),\n                v: \"1\".into()\n            }\n        );\n\n        assert_eq!(\n            parse_kv_pair(\"b=\").unwrap(),\n            KvPair {\n                k: \"b\".into(),\n                v: \"\".into()\n            }\n        );\n    }\n}\n\n</code></pre><p>åœ¨è¿™ä¸ªå®Œæ•´ä»£ç çš„æœ€åï¼Œæˆ‘è¿˜æ’°å†™äº†å‡ ä¸ªå•å…ƒæµ‹è¯•ï¼Œä½ å¯ä»¥ç”¨ cargo test è¿è¡Œã€‚Rust æ”¯æŒæ¡ä»¶ç¼–è¯‘ï¼Œè¿™é‡Œ #[cfg(test)] è¡¨æ˜æ•´ä¸ª mod tests éƒ½åªåœ¨ cargo test æ—¶æ‰ç¼–è¯‘ã€‚</p><p>ä½¿ç”¨<a href=\"https://github.com/XAMPPRocky/tokei\">ä»£ç è¡Œæ•°ç»Ÿè®¡å·¥å…· tokei</a> å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æ€»å…±ä½¿ç”¨äº† 139 è¡Œä»£ç ï¼Œå°±å®ç°äº†è¿™ä¸ªåŠŸèƒ½ï¼Œå…¶ä¸­è¿˜åŒ…å«äº†çº¦ 30 è¡Œçš„å•å…ƒæµ‹è¯•ä»£ç ï¼š</p><pre><code class=\"language-bash\">â¯ tokei src/main.rs\n-------------------------------------------------------------------------------\n Language            Files        Lines         Code     Comments       Blanks\n-------------------------------------------------------------------------------\n Rust                    1          200          139           33           28\n-------------------------------------------------------------------------------\n Total                   1          200          139           33           28\n-------------------------------------------------------------------------------\n\n</code></pre><p>ä½ å¯ä»¥ä½¿ç”¨ cargo build --releaseï¼Œç¼–è¯‘å‡º release ç‰ˆæœ¬ï¼Œå¹¶å°†å…¶æ‹·è´åˆ°æŸä¸ªåœ¨ <code>$PATH</code>ä¸‹çš„ç›®å½•ï¼Œç„¶åä½“éªŒä¸€ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/e7/3b/e7183429311fa05yy3bf6c7d4ffce73b.png?wh=1920x813\" alt=\"å›¾ç‰‡\"></p><p>åˆ°è¿™é‡Œä¸€ä¸ªå¸¦æœ‰å®Œæ•´å¸®åŠ©çš„ HTTPie å°±å¯ä»¥æŠ•å…¥ä½¿ç”¨äº†ã€‚</p><p>æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹æ•ˆæœï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/b2/09/b2747b65d63987c555281d2361dd8b09.png?wh=1746x1166\" alt=\"å›¾ç‰‡\"></p><p>è¿™å’Œå®˜æ–¹çš„ HTTPie æ•ˆæœå‡ ä¹ä¸€æ ·ã€‚ä»Šå¤©çš„æºä»£ç å¯ä»¥åœ¨<a href=\"https://github.com/tyrchen/geektime-rust/tree/master/04_httpie\">è¿™é‡Œ</a>æ‰¾åˆ°.</p><p>å“ˆï¼Œè¿™ä¸ªä¾‹å­æˆ‘ä»¬å¤§è·æˆåŠŸã€‚æˆ‘ä»¬åªç”¨äº† 100 è¡Œä»£ç å‡ºå¤´ï¼Œå°±å®ç°äº† HTTPie çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œè¿œä½äºé¢„æœŸçš„ 200 è¡Œã€‚ä¸çŸ¥é“ä½ èƒ½å¦ä»ä¸­éšçº¦æ„Ÿå—åˆ° Rust è§£å†³å®é™…é—®é¢˜çš„èƒ½åŠ›ï¼Œä»¥ä»Šå¤©å®ç°çš„ HTTPie ä¸ºä¾‹ï¼Œ</p><ul>\n<li>è¦æŠŠ<strong>å‘½ä»¤è¡Œè§£ææˆæ•°æ®ç»“æ„</strong>ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨æ•°æ®ç»“æ„ä¸Šï¼Œæ·»åŠ ä¸€äº›ç®€å•çš„æ ‡æ³¨å°±èƒ½æå®šã€‚</li>\n<li><strong>æ•°æ®çš„éªŒè¯</strong>ï¼Œåˆå¯ä»¥ç”±å•ç‹¬çš„ã€å’Œä¸»æµç¨‹æ²¡æœ‰ä»»ä½•è€¦åˆå…³ç³»çš„å‡½æ•°å®Œæˆã€‚</li>\n<li>ä½œä¸º <strong>CLI è§£æåº“</strong>ï¼Œclap çš„æ•´ä½“ä½“éªŒå’Œ Python çš„ <a href=\"https://click.palletsprojects.com/en/8.0.x/\">click</a> éå¸¸ç±»ä¼¼ï¼Œä½†æ¯” Golang çš„ <a href=\"https://github.com/spf13/cobra\">cobra</a> è¦æ›´ç®€å•ã€‚</li>\n</ul><p>è¿™å°±æ˜¯ Rust è¯­è¨€çš„èƒ½åŠ›ä½“ç°ï¼Œæ˜æ˜æ˜¯é¢å‘ç³»ç»Ÿçº§å¼€å‘ï¼Œå´èƒ½å¤Ÿåšå‡ºç±»ä¼¼ Python çš„æŠ½è±¡å’Œä½“éªŒï¼Œæ‰€ä»¥ä¸€æ—¦ä½ é€‚åº”äº† Rust ï¼Œç”¨èµ·æ¥å°±ä¼šæ„Ÿè§‰éå¸¸ç¾å¦™ã€‚</p><h2>å°ç»“</h2><p>ç°åœ¨ä½ åº”è¯¥æœ‰ç‚¹æ˜ç™½ï¼Œä¸ºä»€ä¹ˆæˆ‘ä¼šåœ¨å¼€ç¯‡è¯ä¸­ä¼šè¯´ï¼ŒRust æ‹¥æœ‰å¼ºå¤§çš„è¡¨ç°åŠ›ã€‚</p><p>æˆ–è®¸ä½ è¿˜æ˜¯æœ‰ç‚¹ç–‘æƒ‘ï¼Œè¿™ä¹ˆå­¦ï¼Œæˆ‘ä¹Ÿå¤ªæ‡µäº†ï¼Œè·Ÿç›²äººæ‘¸è±¡ä¼¼çš„ã€‚å…¶å®åˆå­¦è€…éƒ½ä¼šä»¥ä¸ºï¼Œå¿…é¡»è¦å…ˆææ˜ç™½æ‰€æœ‰çš„è¯­æ³•çŸ¥è¯†ï¼Œæ‰èƒ½åŠ¨æ‰‹å†™ä»£ç ï¼Œä¸æ˜¯çš„ã€‚</p><p>æˆ‘ä»¬è¿™å‘¨å†™ä¸‰ä¸ªå®ç”¨ä¾‹å­çš„æŒ‘æˆ˜ï¼Œå°±æ˜¯<strong>ä¸ºäº†è®©ä½ ï¼Œåœ¨æ‡µæ‡‚åœ°æ’°å†™ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œç›´è§‚æ„Ÿå— Rust å¤„ç†é—®é¢˜ã€è§£å†³é—®é¢˜çš„æ–¹å¼</strong>ï¼ŒåŒæ—¶å¯ä»¥è·Ÿä½ ç†Ÿæ‚‰çš„è¯­è¨€å»ç±»æ¯”ï¼Œæ— è®ºæ˜¯ Golang / Javaï¼Œè¿˜æ˜¯ Python / JavaScriptï¼Œå¦‚æœæˆ‘ç”¨è‡ªå·±ç†Ÿæ‚‰çš„è¯­è¨€æ€ä¹ˆè§£å†³ã€Rust ç»™äº†æˆ‘ä»€ä¹ˆæ ·çš„æ”¯æŒã€æˆ‘æ„Ÿè§‰å®ƒè¿˜ç¼ºä»€ä¹ˆã€‚</p><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½ è„‘å­é‡Œä¼šäº§ç”Ÿå„ç§æ·±åº¦çš„æ€è€ƒï¼Œè¿™äº›æ€è€ƒåˆå¿…ç„¶ä¼šå¼•å‘è¶Šæ¥è¶Šå¤šçš„é—®å·ï¼Œè¿™æ˜¯å¥½äº‹ï¼Œå¸¦ç€è¿™äº›é—®å·ï¼Œåœ¨æœªæ¥çš„è¯¾ç¨‹ä¸­æ‰èƒ½æ›´æœ‰ç›®çš„åœ°å­¦ä¹ ï¼Œä¹Ÿä¸€å®šä¼šå­¦å¾—æ·±åˆ»è€Œæœ‰æ•ˆã€‚</p><p>ä»Šå¤©çš„å°æŒ‘æˆ˜å¹¶ä¸å¤ªéš¾ï¼Œä½ å¯èƒ½è¿˜æ„çŠ¹æœªå°½ã€‚åˆ«æ€¥ï¼Œä¸‹ä¸€è®²æˆ‘ä»¬ä¼šå†å†™ä¸ªéš¾åº¦å¤§ä¸€ç‚¹çš„ã€å·¥ä½œä¸­éƒ½ä¼šç”¨åˆ°çš„ Web æœåŠ¡ï¼Œç»§ç»­ä½“éªŒ Rust çš„é­…åŠ›ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æˆ‘ä»¬åªæ˜¯å®ç°äº† HTTP header å’Œ body çš„é«˜äº®åŒºåˆ†ï¼Œä½†æ˜¯ HTTP body è¿˜æ˜¯æœ‰äº›ä¸å¤ªç¾è§‚ï¼Œå¯ä»¥è¿›ä¸€æ­¥åšè¯­æ³•é«˜äº®ï¼Œå¦‚æœä½ å®Œæˆäº†ä»Šå¤©çš„ä»£ç ï¼Œè§‰å¾—è‡ªå·±å­¦æœ‰ä½™åŠ›å¯ä»¥å†æŒ‘æˆ˜ä¸€ä¸‹ï¼Œä½ ä¸å¦¨è¯•ä¸€è¯•ç”¨ <a href=\"https://github.com/trishume/syntect\">syntect</a> ç»§ç»­å®Œå–„æˆ‘ä»¬çš„ HTTPieã€‚syntect æ˜¯ Rust çš„ä¸€ä¸ªè¯­æ³•é«˜äº®åº“ï¼Œéå¸¸å¼ºå¤§ã€‚</p><p>æ¬¢è¿åœ¨ç•™è¨€åŒºåˆ†äº«ä½ çš„æ€è€ƒã€‚ä½ çš„ Rust å­¦ä¹ ç¬¬å››æ¬¡æ‰“å¡æˆåŠŸï¼Œæˆ‘ä»¬ä¸‹ä¸€è®²è§ï¼</p><h3>ç‰¹åˆ«è¯´æ˜</h3><p>æ³¨æ„ï¼šæœ¬ç¯‡æ–‡ç« ä¸­ä¾èµ–ç”¨åˆ°äº† beta ç‰ˆæœ¬çš„ crateï¼Œå¯èƒ½æœªæ¥ä¼šæœ‰ç ´åæ€§æ›´æ–°ï¼Œå¦‚æœåœ¨æœ¬åœ°æ— æ³•ç¼–è¯‘ï¼Œè¯·å‚è€ƒ <a href=\"https://github.com/tyrchen/geektime-rust/tree/master/04_httpie\">GitHub repo</a> ä¸­çš„ä»£ç ã€‚åç»­æ–‡ç« ä¸­ï¼Œå¦‚æœå‡ºç°ç±»ä¼¼é—®é¢˜ï¼ŒåŒæ ·å‚è€ƒGitHubä¸Šçš„æœ€æ–°ä»£ç ã€‚å­¦ä¹ æ„‰å¿«ï½</p>","comments":[{"had_liked":false,"id":309675,"user_name":"Tyr","can_delete":false,"product_type":"c1","uid":1079375,"ip_address":"","ucode":"EAAFC8063202E0","user_header":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","comment_is_top":true,"comment_ctime":1630298103,"is_pvip":false,"replies":[{"id":"112148","content":"æœ‰åŒå­¦ååº”ä¸èƒ½ç¼–è¯‘é€šè¿‡ï¼Œé—®é¢˜å‡ºåœ¨ clap ä¸Šã€‚è¯·å‡çº§åˆ° Rust 1.54 é‡æ–°ç¼–è¯‘ã€‚<br><br>å¦å¤–ï¼Œreqwest é»˜è®¤çš„ TLS ä½¿ç”¨çš„æ˜¯ç³»ç»Ÿçš„ opensslï¼Œå¯¹äºæŸäº› linux ç”¨æˆ·å¦‚æœæ²¡æœ‰å®‰è£…å¥½ opensslï¼Œå¯èƒ½ä¼šå¯¼è‡´ç¼–è¯‘ä¸è¿‡ï¼Œå¯¹æ­¤ï¼Œä½ å¯ä»¥ä¿®æ”¹ Cargo.toml:<br><br>```toml<br>reqwest = { version = &quot;0.11&quot;, default-features = false, features = [&quot;json&quot;, &quot;rustls-tls&quot;] } # HTTP å®¢æˆ·ç«¯<br>```<br><br>è®© reqwest ä½¿ç”¨ rustlsã€‚<br><br>","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630301576,"ip_address":"","comment_id":309675,"utype":1}],"discussion_count":10,"race_medal":0,"score":"9.2233721072045998e+18","product_id":100085301,"comment_content":"è¿™å ‚è¯¾çš„æºä»£ç å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ï¼šhttps:&#47;&#47;github.com&#47;tyrchen&#47;geektime-rust&#47;tree&#47;master&#47;04_httpie","like_count":16,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525960,"discussion_content":"æœ‰åŒå­¦ååº”ä¸èƒ½ç¼–è¯‘é€šè¿‡ï¼Œé—®é¢˜å‡ºåœ¨ clap ä¸Šã€‚è¯·å‡çº§åˆ° Rust 1.54 é‡æ–°ç¼–è¯‘ã€‚\n\nå¦å¤–ï¼Œreqwest é»˜è®¤çš„ TLS ä½¿ç”¨çš„æ˜¯ç³»ç»Ÿçš„ opensslï¼Œå¯¹äºæŸäº› linux ç”¨æˆ·å¦‚æœæ²¡æœ‰å®‰è£…å¥½ opensslï¼Œå¯èƒ½ä¼šå¯¼è‡´ç¼–è¯‘ä¸è¿‡ï¼Œå¯¹æ­¤ï¼Œä½ å¯ä»¥ä¿®æ”¹ Cargo.toml:\n\n```toml\nreqwest = { version = &amp;quot;0.11&amp;quot;, default-features = false, features = [&amp;quot;json&amp;quot;, &amp;quot;rustls-tls&amp;quot;] } # HTTP å®¢æˆ·ç«¯\n```\n\nè®© reqwest ä½¿ç”¨ rustlsã€‚\n\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630301576,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1093658,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b0/1a/427c854c.jpg","nickname":"lemon","note":"","ucode":"360693FCFC8E8D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411384,"discussion_content":"ä½¿ç”¨ 1.56.0 ä¹Ÿæ²¡ç¼–è¯‘è¿‡ï¼Œæ‰¾ä¸åˆ° clap","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1635915103,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2680235,"avatar":"https://static001.geekbang.org/account/avatar/00/28/e5/ab/cece3199.jpg","nickname":"jason","note":"","ucode":"0886E1D88BB7CC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545034,"discussion_content":"1.57.0 æ­»åœ¨è¿™é‡Œäº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1641810098,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":3,"child_discussions":[{"author":{"id":1337030,"avatar":"https://static001.geekbang.org/account/avatar/00/14/66/c6/d779dfb6.jpg","nickname":"æ¾æ¾","note":"","ucode":"EB2A80CF7BCA4B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":2680235,"avatar":"https://static001.geekbang.org/account/avatar/00/28/e5/ab/cece3199.jpg","nickname":"jason","note":"","ucode":"0886E1D88BB7CC","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545730,"discussion_content":"åœ¨Cargo.tomlé‡ŒåŠ ä¸€æ¡clap_deriveï¼Œç‰ˆæœ¬å’Œclapä¸€è‡´ï¼Œç„¶ååœ¨main.rsé‡ŒæŠŠuseçš„clap::AppSettingså»æ‰ï¼Œclap::Clapæ”¹æˆclap::Parserå’Œclap_derive::Parserä¸¤æ¡ï¼Œåç»­æ‰€æœ‰å®ï¼ˆ#[]ï¼‰é‡Œçš„Clapå…¨æ”¹æˆParserï¼Œé‡Œçš„AppSettingså…¨å»æ‰ã€‚\nè¿™åº”è¯¥æ˜¯ Clap 3.0 è¿˜ä¸æ˜¯ç¨³å®šç‰ˆï¼Œåæ¥æŠŠå®çš„éƒ¨åˆ†å•ç‹¬æ‹†å‡ºæ¥äº†ï¼Œå‘½åç©ºé—´ä¹Ÿè°ƒæ•´äº†ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1642045951,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":545034,"ip_address":""},"score":545730,"extra":""},{"author":{"id":2890330,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/1a/5a/c3a553dd.jpg","nickname":"å°‘å¹´ ğŸ¨","note":"","ucode":"6445B6FE7B767F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1337030,"avatar":"https://static001.geekbang.org/account/avatar/00/14/66/c6/d779dfb6.jpg","nickname":"æ¾æ¾","note":"","ucode":"EB2A80CF7BCA4B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545889,"discussion_content":"main.rs æ–‡ä»¶è´´ä¸ªå®Œæ•´çš„ä»£ç å§ï¼Œæˆ‘çš„è¿˜æ˜¯æœ‰æŠ¥é”™ï¼Œè°¢è°¢æ¾æ¾ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642072732,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":545730,"ip_address":""},"score":545889,"extra":""},{"author":{"id":2991652,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/a6/24/961129f1.jpg","nickname":"forever è’™","note":"","ucode":"472EB8946A3F96","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1337030,"avatar":"https://static001.geekbang.org/account/avatar/00/14/66/c6/d779dfb6.jpg","nickname":"æ¾æ¾","note":"","ucode":"EB2A80CF7BCA4B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574980,"discussion_content":"åŒæ±‚ä»£ç ã€‚ã€‚æ„Ÿæ¿€ä¸å°½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654507251,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":545730,"ip_address":""},"score":574980,"extra":""}]},{"author":{"id":2991652,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/a6/24/961129f1.jpg","nickname":"forever è’™","note":"","ucode":"472EB8946A3F96","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574978,"discussion_content":"error: process didn&#39;t exit successfully: `target\\debug\\httpie.exe` (exit code: 2)æ±‚åŠ©\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654506714,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1251709,"avatar":"https://static001.geekbang.org/account/avatar/00/13/19/7d/04945ae8.jpg","nickname":"æ‰¾é‚£è°","note":"","ucode":"B65B97E5486E6B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539488,"discussion_content":"1.57.0ä¹Ÿç¼–è¯‘ä¸é€šè¿‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639728325,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2764665,"avatar":"","nickname":"å°å¿—","note":"","ucode":"E7F5831BE53940","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":401933,"discussion_content":"Linux ç”¨æˆ· ubuntuç³»ç»Ÿ opensslçš„é—®é¢˜ï¼Œæ‰§è¡Œäº†ä¸‹é¢å‘½ä»¤è§£å†³äº†ï¼š\n$ sudo apt-get install pkg-config libssl-dev","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633768263,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1027167,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/ac/5f/894761f8.jpg","nickname":"åå…«å“¥","note":"","ucode":"C0130252F97814","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391336,"discussion_content":"1.50.0 æ­»åœ¨è¿™é‡Œäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630403379,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309928,"user_name":"Custer","can_delete":false,"product_type":"c1","uid":1020822,"ip_address":"","ucode":"8AEA5544C94D57","user_header":"https://static001.geekbang.org/account/avatar/00/0f/93/96/575d42c3.jpg","comment_is_top":true,"comment_ctime":1630398347,"is_pvip":true,"replies":[{"id":"112295","content":"éå¸¸æ£’ï¼ä½ ä¼¼ä¹æ˜¯ç¬¬ä¸€ä¸ªè´´å‡ºæ¥æ€è€ƒé¢˜ç­”æ¡ˆçš„ï¼æˆ‘ä¹Ÿæ›´æ–°äº†ä¸€ä¸‹ä»£ç åº“ï¼Œå’Œä½ çš„ä»£ç åŸºæœ¬ä¸€æ ·ä½ å¯ä»¥å¯¹æ¯”ä¸€ä¸‹ã€‚ä¸¤ä¸ªç‚¹ï¼š1. print_syntect å¯ä»¥å†åŠ ä¸€ä¸ªå‚æ•° extï¼Œè¿™æ ·çµæ´»æ€§æ›´é«˜ï¼›2. æ‰“å°æ—¶ç”¨ print! æ•ˆæœæ›´å¥½ä¸€äº›ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630425915,"ip_address":"","comment_id":309928,"utype":1}],"discussion_count":1,"race_medal":0,"score":"9.2233720900248003e+18","product_id":100085301,"comment_content":"&#47;&#47;&#47; æ‰“å°æœåŠ¡å™¨è¿”å›çš„ HTTP body<br>fn print_body(m: Option&lt;Mime&gt;, body: &amp;String) {<br>    match m {<br>        &#47;&#47; å¯¹äº &quot;application&#47;json&quot; æˆ‘ä»¬ pretty print<br>        Some(v) if v == mime::APPLICATION_JSON =&gt; {<br>            &#47;&#47; println!(&quot;{}&quot;, jsonxf::pretty_print(body).unwrap().cyan())<br>            print_syntect(body);<br>        }<br>        &#47;&#47; å…¶ä»– mime typeï¼Œæˆ‘ä»¬å°±ç›´æ¥è¾“å‡º<br>        _ =&gt; println!(&quot;{}&quot;, body),<br>    }<br>}<br><br>fn print_syntect(s: &amp;str) {<br>    &#47;&#47; Load these once at the start of your program<br>    let ps = SyntaxSet::load_defaults_newlines();<br>    let ts = ThemeSet::load_defaults();<br>    let syntax = ps.find_syntax_by_extension(&quot;json&quot;).unwrap();<br>    let mut h = HighlightLines::new(syntax, &amp;ts.themes[&quot;base16-ocean.dark&quot;]);<br>    for line in LinesWithEndings::from(s) {<br>        let ranges: Vec&lt;(Style, &amp;str)&gt; = h.highlight(line, &amp;ps);<br>        let escaped = as_24_bit_terminal_escaped(&amp;ranges[..], true);<br>        println!(&quot;{}&quot;, escaped);<br>    }<br>}","like_count":12,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526067,"discussion_content":"éå¸¸æ£’ï¼ä½ ä¼¼ä¹æ˜¯ç¬¬ä¸€ä¸ªè´´å‡ºæ¥æ€è€ƒé¢˜ç­”æ¡ˆçš„ï¼æˆ‘ä¹Ÿæ›´æ–°äº†ä¸€ä¸‹ä»£ç åº“ï¼Œå’Œä½ çš„ä»£ç åŸºæœ¬ä¸€æ ·ä½ å¯ä»¥å¯¹æ¯”ä¸€ä¸‹ã€‚ä¸¤ä¸ªç‚¹ï¼š1. print_syntect å¯ä»¥å†åŠ ä¸€ä¸ªå‚æ•° extï¼Œè¿™æ ·çµæ´»æ€§æ›´é«˜ï¼›2. æ‰“å°æ—¶ç”¨ print! æ•ˆæœæ›´å¥½ä¸€äº›ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630425915,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309702,"user_name":"ç‹æ§é“¤","can_delete":false,"product_type":"c1","uid":1073782,"ip_address":"","ucode":"D01A18E5025391","user_header":"https://static001.geekbang.org/account/avatar/00/10/62/76/0564a5ee.jpg","comment_is_top":true,"comment_ctime":1630308200,"is_pvip":false,"replies":[{"id":"112236","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630379285,"ip_address":"","comment_id":309702,"utype":1}],"discussion_count":2,"race_medal":0,"score":"9.2233720728448e+18","product_id":100085301,"comment_content":"ç¯å¢ƒ <br>cargo --version<br>cargo 1.52.0 (69767412a 2021-04-21)<br><br>rustc --version<br>rustc 1.52.1 (9bc8c42bb 2021-05-09)<br><br>ç¼–è¯‘ç¨‹åºä»£ç  clap åº“éƒ¨åˆ†æŠ¥<br><br>8 | #![doc = include_str!(&quot;..&#47;README.md&quot;)]<br>  |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^<br><br>æŠŠ Cargo.toml é‡Œ clap ä¾èµ– <br>clap = &quot;=3.0.0-beta.4&quot;<br>æ”¹ä¸º <br>clap = &quot;=3.0.0-beta.2&quot; <br>clap_derive = &quot;=3.0.0-beta.2&quot;<br>å³å¯é€šè¿‡ <br><br>å…·ä½“åŸå›  è¯¦è§ https:&#47;&#47;github.com&#47;dfinity&#47;agent-rs&#47;pull&#47;260","like_count":8,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525974,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630379285,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1075443,"avatar":"https://static001.geekbang.org/account/avatar/00/10/68/f3/22481a37.jpg","nickname":"å°æ ·","note":"","ucode":"0D05E1D31150F1","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391254,"discussion_content":"ä»è¿™ä¹Ÿå¯ä»¥çœ‹å‡ºç”Ÿæ€è¿˜ä¸ç¨³å®š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630372977,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328431,"user_name":"linuxfish","can_delete":false,"product_type":"c1","uid":1078927,"ip_address":"","ucode":"557F21A1CC7EAD","user_header":"","comment_is_top":true,"comment_ctime":1640738321,"is_pvip":false,"replies":[{"id":"120777","content":"è°¢è°¢ï¼github ä¸Šçš„å·²ç»æ›´æ–°åˆ° clap 3 æ­£å¼ç‰ˆæœ¬äº†","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1642309494,"ip_address":"","comment_id":328431,"utype":1}],"discussion_count":2,"race_medal":0,"score":"9.2233720470854001e+18","product_id":100085301,"comment_content":"é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œæé†’ä¸‹åˆšå¼€å§‹å­¦çš„åŒå­¦ï¼š<br><br>è€å¸ˆä½¿ç”¨äº† clap åŒ…çš„ Pre-releases ç‰ˆæœ¬ï¼ŒPre-releases ç‰ˆæœ¬å¹¶ä¸ä¿è¯ API çš„ç¨³å®šã€‚<br><br>cargo åœ¨å®‰è£…ä¾èµ–çš„æ—¶å€™ä¼šè‡ªåŠ¨ä½¿ç”¨ã€æœ€æ–°ã€‘çš„ Pre-releases ç‰ˆæœ¬ï¼ˆå°½ç®¡ä½ åœ¨ Cargo.toml ä¸­æŒ‡å®šäº†ä¸€ä¸ªè€ç‰ˆæœ¬ï¼‰<br><br>å½“å‰ clap åŒ…çš„æœ€æ–°ç‰ˆæœ¬æ˜¯ v3.0.0-beta.5ï¼Œè‹¥æŒ‰ç…§è¯¾ç¨‹ï¼ˆget hands dirtyï¼šæ¥å†™ä¸ªå®ç”¨çš„CLIå°å·¥å…·ï¼‰é‡Œæ­¥éª¤æ“ä½œï¼Œä¼šç¼–è¯‘ä¸è¿‡ã€‚ ä¸è¿‡è€å¸ˆåœ¨ Github ä¸Šçš„ä»£ç å·²ç»æ›´æ–°æˆä¾èµ– v3.0.0-beta.5ï¼Œå¯ä»¥ç…§ç€é‚£ä¸ªå†™ã€‚<br><br>å½“ç„¶ï¼Œè¿˜æ˜¯å»ºè®®æŠŠè¯¾ç¨‹é‡Œçš„ä»£ç ä¹Ÿæ›´æ–°ä¸‹ï¼Œæˆ–è€…ç”¨çº¢å­—æç¤ºä¸‹ã€ä»£ç å·²è¿‡æœŸï¼Œè¯·å‚è€ƒ Github ä¸Šçš„æœ€æ–°ä»£ç ã€‘ï¼Œä¸ç„¶æ–°æ‰‹ä¼šæ¯”è¾ƒæ‡µé€¼<br><br>å‚è€ƒï¼šhttps:&#47;&#47;doc.rust-lang.org&#47;cargo&#47;reference&#47;resolver.html#pre-releases","like_count":2,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546416,"discussion_content":"è°¢è°¢ï¼github ä¸Šçš„å·²ç»æ›´æ–°åˆ° clap 3 æ­£å¼ç‰ˆæœ¬äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642309494,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1445422,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK64FvuN8licm0ECjicice6aN7dyhFzKImmHxDKsnNPUlhkvrINBoJRUBicQPe5c5GCTy5pTFEeMria86g/132","nickname":"è·³è¶³å·«å¸ˆ","note":"","ucode":"3C64591AE23CDC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554532,"discussion_content":"æ–‡ç¨¿èƒ½æ›´æ–°ä¸€ä¸‹å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646451516,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":351890,"user_name":"Faithä¿¡","can_delete":false,"product_type":"c1","uid":1795456,"ip_address":"","ucode":"036367598C46BE","user_header":"https://static001.geekbang.org/account/avatar/00/1b/65/80/52161b2f.jpg","comment_is_top":true,"comment_ctime":1658280368,"is_pvip":true,"replies":[{"id":"127958","content":"ğŸ‘","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ç¼–è¾‘","uid":"2547771","ctime":1658300063,"ip_address":"","comment_id":351890,"utype":2}],"discussion_count":1,"race_medal":0,"score":"9.2233720385131008e+18","product_id":100085301,"comment_content":"rustc 1.58.1 <br>ä¸èƒ½ç¼–è¯‘çš„å‚è€ƒè€å¸ˆgithubä»£ç ä¾èµ–ä¿®æ”¹","like_count":0,"discussions":[{"author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"å¤šå°‘","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":580629,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658300064,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309728,"user_name":"qinsi","can_delete":false,"product_type":"c1","uid":1667175,"ip_address":"","ucode":"090D9C4068FF12","user_header":"https://static001.geekbang.org/account/avatar/00/19/70/67/0c1359c2.jpg","comment_is_top":false,"comment_ctime":1630314741,"is_pvip":true,"replies":[{"id":"112239","content":"å¥½å»ºè®®ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630379556,"ip_address":"","comment_id":309728,"utype":1}],"discussion_count":3,"race_medal":0,"score":"199198810357","product_id":100085301,"comment_content":"ä¹ æƒ¯äº† npm install çš„å¯ä»¥è¯•è¯• cargo-edit:<br><br>$ cargo install cargo-edit<br>$ cargo add anyhow colored jsonxf mime<br>$ cargo add clap --allow-prerelease<br>$ cargo add reqwest --features json<br>$ cargo add tokio --features full","like_count":46,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525985,"discussion_content":"å¥½å»ºè®®ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630379556,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1460980,"avatar":"https://static001.geekbang.org/account/avatar/00/16/4a/f4/513d26e8.jpg","nickname":"zoomdong","note":"","ucode":"AA0B8F945D9935","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543861,"discussion_content":"å“‡ï¼Œæ„Ÿè°¢ç­”ä¸»ï¼Œæ‰¾è¿™ä¸ªæ‰¾å¥½ä¹…äº†","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1641316627,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1202089,"avatar":"https://static001.geekbang.org/account/avatar/00/12/57/a9/9abbe7a4.jpg","nickname":"ç¥ä¸‰å…ƒ","note":"","ucode":"0FB2E7C0683599","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1460980,"avatar":"https://static001.geekbang.org/account/avatar/00/16/4a/f4/513d26e8.jpg","nickname":"zoomdong","note":"","ucode":"AA0B8F945D9935","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":576430,"discussion_content":"+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655542220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":543861,"ip_address":""},"score":576430,"extra":""}]}]},{"had_liked":false,"id":310899,"user_name":"Marvichov","can_delete":false,"product_type":"c1","uid":1111835,"ip_address":"","ucode":"7482099415C41C","user_header":"https://static001.geekbang.org/account/avatar/00/10/f7/1b/db7a0edc.jpg","comment_is_top":false,"comment_ctime":1630977068,"is_pvip":false,"replies":[{"id":"112676","content":"æ³¨æ„çœ‹ Colorize trait çš„å®šä¹‰ï¼Œå®ƒçš„æ–¹æ³• consume çš„éƒ½æ˜¯ selfï¼Œè€Œé &amp;selfã€‚æ‰€ä»¥å½“ impl Colorize for &amp;str æ—¶ï¼Œself = &amp;strã€‚<br><br>åœ¨è°ƒç”¨æ–¹æ³•æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå…ˆçœ‹æ•°æ®ç»“æ„æ˜¯å¦æœ‰å¯¹åº”çš„æ–¹æ³•ï¼Œå¦‚æœæœ‰ï¼ŒæŒ‰ç…§æ–¹æ³•çš„ signatureï¼Œä¼  self &#47; &amp;self &#47; &amp;mut selfã€‚å¦‚æœæ²¡æœ‰ï¼Œå†çœ‹å¼•å…¥çš„ trait æ˜¯å¦æœ‰å¯¹åº”çš„æ–¹æ³•ï¼Œå¿…è¦æ—¶ä¼šæ ¹æ® self çš„ç±»å‹åš auto Derefã€‚æ‰€ä»¥è¿™é‡Œç¼–è¯‘å™¨å¯ä»¥æ‰¾åˆ° blue()ï¼Œå› ä¸ºå®ƒç¬¬ä¸€ä¸ªå‚æ•° self = &amp;strï¼ŒString å¯ä»¥ Deref åˆ° &amp;strï¼Œæ‰€ä»¥å¯ä»¥è°ƒç”¨ã€‚ä½†å¦‚æœ Colorize çš„æ–¹æ³•ä½¿ç”¨ &amp;selfï¼Œæ­¤æ—¶ &amp;self = &amp;&amp;strï¼ŒString æ— æ³• Deref åˆ° &amp;&amp;strï¼Œæ‰€ä»¥ç¼–è¯‘å™¨æŠ¥é”™ã€‚<br><br>ä½ å¯ä»¥çœ‹è¿™ä¸ªå°ä¾‹å­ï¼š<br><br>https:&#47;&#47;play.rust-lang.org&#47;?version=stable&amp;mode=debug&amp;edition=2018&amp;gist=dbd526df998fc8701ea9855c9e7de73c<br><br>```rust<br>pub trait Foo {<br>    fn foo(self);<br>}<br><br>pub trait Bar {<br>    fn bar(&amp;self);<br>}<br><br>pub trait Baz {<br>    fn baz(&amp;self);<br>}<br><br>impl Foo for &amp;str {<br>    fn foo(self) {<br>        println!(&quot;Foo: {}&quot;, self);<br>    }<br>}<br><br>impl Bar for &amp;str {<br>    fn bar(&amp;self) {<br>        println!(&quot;Bar: {}&quot;, self);<br>    }<br>}<br><br>impl Baz for str {<br>    fn baz(&amp;self) {<br>        println!(&quot;Baz: {}&quot;, self);<br>    }<br>}<br><br>fn main() {<br>    let s = String::from(&quot;Tyr&quot;);<br>    &#47;&#47; foo ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ self = &amp;strï¼ŒString å¯ä»¥ auto Deref åˆ° &amp;strï¼Œæ‰€ä»¥å¯ä»¥è°ƒç”¨<br>    s.foo();<br>    &#47;&#47; bar ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ &amp;self = &amp;&amp;strï¼ŒString æ— æ³• auto Deref åˆ° &amp;&amp;str<br>    &#47;&#47; s.bar();<br>    &#47;&#47; baz ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ &amp;selfï¼Œä½†å› ä¸º impl Baz for str {}, æ‰€ä»¥ &amp;self = &amp;str<br>    &#47;&#47; å’Œ foo ç±»ä¼¼ï¼Œå¯ä»¥è°ƒç”¨<br>    s.baz();<br>}<br>```","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630988165,"ip_address":"","comment_id":310899,"utype":1}],"discussion_count":2,"race_medal":0,"score":"53170584620","product_id":100085301,"comment_content":"æŸ¥äº†ä¸‹colorize traitçš„doc (https:&#47;&#47;docs.rs&#47;colored&#47;2.0.0&#47;colored&#47;trait.Colorize.html), æ²¡çœ‹åˆ°è¿™ä¸ªtrait impl for Stringå•Š, ä¸ºå•¥å¯ä»¥call blue on String typeå‘¢?<br>```<br>format!(&quot;{:?} {}&quot;, resp.version(), resp.status()).blue();<br>```<br>è€å¸ˆçŸ¥é“è¿™é‡Œé¢å‘ç”Ÿäº†ä»€ä¹ˆè½¬æ¢ä¹ˆ?","like_count":12,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526392,"discussion_content":"æ³¨æ„çœ‹ Colorize trait çš„å®šä¹‰ï¼Œå®ƒçš„æ–¹æ³• consume çš„éƒ½æ˜¯ selfï¼Œè€Œé &amp;amp;selfã€‚æ‰€ä»¥å½“ impl Colorize for &amp;amp;str æ—¶ï¼Œself = &amp;amp;strã€‚\n\nåœ¨è°ƒç”¨æ–¹æ³•æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå…ˆçœ‹æ•°æ®ç»“æ„æ˜¯å¦æœ‰å¯¹åº”çš„æ–¹æ³•ï¼Œå¦‚æœæœ‰ï¼ŒæŒ‰ç…§æ–¹æ³•çš„ signatureï¼Œä¼  self / &amp;amp;self / &amp;amp;mut selfã€‚å¦‚æœæ²¡æœ‰ï¼Œå†çœ‹å¼•å…¥çš„ trait æ˜¯å¦æœ‰å¯¹åº”çš„æ–¹æ³•ï¼Œå¿…è¦æ—¶ä¼šæ ¹æ® self çš„ç±»å‹åš auto Derefã€‚æ‰€ä»¥è¿™é‡Œç¼–è¯‘å™¨å¯ä»¥æ‰¾åˆ° blue()ï¼Œå› ä¸ºå®ƒç¬¬ä¸€ä¸ªå‚æ•° self = &amp;amp;strï¼ŒString å¯ä»¥ Deref åˆ° &amp;amp;strï¼Œæ‰€ä»¥å¯ä»¥è°ƒç”¨ã€‚ä½†å¦‚æœ Colorize çš„æ–¹æ³•ä½¿ç”¨ &amp;amp;selfï¼Œæ­¤æ—¶ &amp;amp;self = &amp;amp;&amp;amp;strï¼ŒString æ— æ³• Deref åˆ° &amp;amp;&amp;amp;strï¼Œæ‰€ä»¥ç¼–è¯‘å™¨æŠ¥é”™ã€‚\n\nä½ å¯ä»¥çœ‹è¿™ä¸ªå°ä¾‹å­ï¼š\n\nhttps://play.rust-lang.org/?version=stable&amp;amp;mode=debug&amp;amp;edition=2018&amp;amp;gist=dbd526df998fc8701ea9855c9e7de73c\n\n```rust\npub trait Foo {\n    fn foo(self);\n}\n\npub trait Bar {\n    fn bar(&amp;amp;self);\n}\n\npub trait Baz {\n    fn baz(&amp;amp;self);\n}\n\nimpl Foo for &amp;amp;str {\n    fn foo(self) {\n        println!(&amp;quot;Foo: {}&amp;quot;, self);\n    }\n}\n\nimpl Bar for &amp;amp;str {\n    fn bar(&amp;amp;self) {\n        println!(&amp;quot;Bar: {}&amp;quot;, self);\n    }\n}\n\nimpl Baz for str {\n    fn baz(&amp;amp;self) {\n        println!(&amp;quot;Baz: {}&amp;quot;, self);\n    }\n}\n\nfn main() {\n    let s = String::from(&amp;quot;Tyr&amp;quot;);\n    // foo ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ self = &amp;amp;strï¼ŒString å¯ä»¥ auto Deref åˆ° &amp;amp;strï¼Œæ‰€ä»¥å¯ä»¥è°ƒç”¨\n    s.foo();\n    // bar ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ &amp;amp;self = &amp;amp;&amp;amp;strï¼ŒString æ— æ³• auto Deref åˆ° &amp;amp;&amp;amp;str\n    // s.bar();\n    // baz ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ &amp;amp;selfï¼Œä½†å› ä¸º impl Baz for str {}, æ‰€ä»¥ &amp;amp;self = &amp;amp;str\n    // å’Œ foo ç±»ä¼¼ï¼Œå¯ä»¥è°ƒç”¨\n    s.baz();\n}\n```","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630988165,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1014800,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7c/10/165cb374.jpg","nickname":"Scott","note":"","ucode":"7E57FDCB5E5D49","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393297,"discussion_content":"åŸæ¥æ˜¯impl<&#39;a> Colorize for &amp;&#39;a str","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631346458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309617,"user_name":"é€¸é£","can_delete":false,"product_type":"c1","uid":2674968,"ip_address":"","ucode":"E4AF619DCD869C","user_header":"https://static001.geekbang.org/account/avatar/00/28/d1/18/2221fb85.jpg","comment_is_top":false,"comment_ctime":1630279149,"is_pvip":false,"replies":[{"id":"112139","content":"è°¢è°¢ï¼","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630297570,"ip_address":"","comment_id":309617,"utype":1}],"discussion_count":1,"race_medal":0,"score":"53169886701","product_id":100085301,"comment_content":"å–œæ¬¢è¿™æ ·çš„æ•™å­¦æ–¹å¼ï¼","like_count":12,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525934,"discussion_content":"è°¢è°¢ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630297570,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310613,"user_name":"Arthur","can_delete":false,"product_type":"c1","uid":1784009,"ip_address":"","ucode":"1C064405490769","user_header":"https://static001.geekbang.org/account/avatar/00/1b/38/c9/63ea8fe6.jpg","comment_is_top":false,"comment_ctime":1630773513,"is_pvip":true,"replies":[{"id":"112556","content":"ç»§æ‰¿çš„æ¦‚å¿µï¼Œåœ¨ Rust é‡Œæ˜¯æ²¡æœ‰çš„ã€‚è€Œä¸”æˆ‘ä»¬è¦é¿å…ä½¿ç”¨è¿™æ ·çš„æ€ç»´å»å»ºæ¨¡ã€‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬æåˆ°ç»§æ‰¿ï¼Œå…¶å®å¹¶ä¸æ˜¯æƒ³ç”¨ç»§æ‰¿ï¼Œè€Œæ˜¯æƒ³é€šè¿‡ç»§æ‰¿ä½¿ç”¨å¤šæ€ã€‚åœ¨ Rust ä¸‹æˆ‘ä»¬å¯ä»¥é€šè¿‡æ³›å‹ï¼Œtraitï¼Œtrait object å®ç°é¢å‘å¯¹è±¡è¯­è¨€ä¸­ä¸»è¦çš„å¤šæ€æ‰‹æ®µã€‚<br><br>å°è£…åœ¨ä»»ä½•ç¼–ç¨‹è¯­è¨€ä¸­éƒ½æˆ–å¤šæˆ–å°‘å­˜åœ¨ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ç§å¯¹å¤æ‚æ€§çš„æ§åˆ¶ã€‚Rust ä¸‹ struct &#47; enum &#47; mod éƒ½æä¾›äº†å°è£…çš„èƒ½åŠ›ã€‚æŠŠè‹¥å¹²æ•°æ®æ”¾åœ¨æŸä¸ªç»“æ„ä¸‹ï¼Œè‹¥å¹²å‡½æ•°æ”¾åœ¨æ‘¸ä¸ªæ¨¡å—ä¸‹ï¼Œåªæš´éœ²è¯¥æš´éœ²çš„ä¿¡æ¯å‡ºå»ï¼Œè¿™å°±æ˜¯å°è£…ã€‚<br><br>æ–¹æ³•å¯ä»¥ç†è§£ä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¸º self&#47;this è¿™æ ·çš„æŒ‡å‘è°ƒç”¨è€…è‡ªå·±çš„ç‰¹æ®Šå‡½æ•°ï¼Œåœ¨ Pythonã€Javascript éƒ½æœ‰ç±»ä¼¼çš„æ¦‚å¿µã€‚Rust ä¸‹å¯ä»¥ä¸ºæ•°æ®ç»“æ„ impl æ–¹æ³•ï¼Œæˆ–è€… impl trait æ¥å®ç°æ¥å£çš„æ–¹æ³•ã€‚æ³¨æ„ Rust ä¸‹çš„æ–¹æ³•å¯ä»¥æ¶ˆè´¹ selfï¼ˆç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ self è€Œé &amp;selfï¼‰ï¼Œå…¶å®ƒå¤§å¤šæ•°è¯­è¨€åªèƒ½æ¶ˆè´¹ &amp;selfã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630860711,"ip_address":"","comment_id":310613,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44580446473","product_id":100085301,"comment_content":"å¯¹Rusté‡Œçš„derive, impl, traitç­‰æ¦‚å¿µï¼Œå’ŒJava&#47;C++ä¸­é¢å‘å¯¹è±¡ç¼–ç¨‹æ¦‚å¿µé‡Œçš„å°è£…ã€ç»§æ‰¿ã€æ–¹æ³•ç­‰æ¦‚å¿µï¼Œæœ‰æ€æ ·çš„ç±»æ¯”å’Œä¸åŒï¼Œä¸€ç›´æ¨¡ç³Šä¸æ¸…ï¼Œå¸Œæœ›è€å¸ˆåé¢èƒ½è®²åˆ°","like_count":10,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526290,"discussion_content":"ç»§æ‰¿çš„æ¦‚å¿µï¼Œåœ¨ Rust é‡Œæ˜¯æ²¡æœ‰çš„ã€‚è€Œä¸”æˆ‘ä»¬è¦é¿å…ä½¿ç”¨è¿™æ ·çš„æ€ç»´å»å»ºæ¨¡ã€‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬æåˆ°ç»§æ‰¿ï¼Œå…¶å®å¹¶ä¸æ˜¯æƒ³ç”¨ç»§æ‰¿ï¼Œè€Œæ˜¯æƒ³é€šè¿‡ç»§æ‰¿ä½¿ç”¨å¤šæ€ã€‚åœ¨ Rust ä¸‹æˆ‘ä»¬å¯ä»¥é€šè¿‡æ³›å‹ï¼Œtraitï¼Œtrait object å®ç°é¢å‘å¯¹è±¡è¯­è¨€ä¸­ä¸»è¦çš„å¤šæ€æ‰‹æ®µã€‚\n\nå°è£…åœ¨ä»»ä½•ç¼–ç¨‹è¯­è¨€ä¸­éƒ½æˆ–å¤šæˆ–å°‘å­˜åœ¨ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ç§å¯¹å¤æ‚æ€§çš„æ§åˆ¶ã€‚Rust ä¸‹ struct / enum / mod éƒ½æä¾›äº†å°è£…çš„èƒ½åŠ›ã€‚æŠŠè‹¥å¹²æ•°æ®æ”¾åœ¨æŸä¸ªç»“æ„ä¸‹ï¼Œè‹¥å¹²å‡½æ•°æ”¾åœ¨æ‘¸ä¸ªæ¨¡å—ä¸‹ï¼Œåªæš´éœ²è¯¥æš´éœ²çš„ä¿¡æ¯å‡ºå»ï¼Œè¿™å°±æ˜¯å°è£…ã€‚\n\næ–¹æ³•å¯ä»¥ç†è§£ä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¸º self/this è¿™æ ·çš„æŒ‡å‘è°ƒç”¨è€…è‡ªå·±çš„ç‰¹æ®Šå‡½æ•°ï¼Œåœ¨ Pythonã€Javascript éƒ½æœ‰ç±»ä¼¼çš„æ¦‚å¿µã€‚Rust ä¸‹å¯ä»¥ä¸ºæ•°æ®ç»“æ„ impl æ–¹æ³•ï¼Œæˆ–è€… impl trait æ¥å®ç°æ¥å£çš„æ–¹æ³•ã€‚æ³¨æ„ Rust ä¸‹çš„æ–¹æ³•å¯ä»¥æ¶ˆè´¹ selfï¼ˆç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ self è€Œé &amp;amp;selfï¼‰ï¼Œå…¶å®ƒå¤§å¤šæ•°è¯­è¨€åªèƒ½æ¶ˆè´¹ &amp;amp;selfã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1630860711,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309737,"user_name":"qinsi","can_delete":false,"product_type":"c1","uid":1667175,"ip_address":"","ucode":"090D9C4068FF12","user_header":"https://static001.geekbang.org/account/avatar/00/19/70/67/0c1359c2.jpg","comment_is_top":false,"comment_ctime":1630316127,"is_pvip":true,"replies":[{"id":"112240","content":"å¦‚æœæƒ³ç”¨ async-stdï¼Œå¯ä»¥ç”¨ surfã€‚æˆ‘å»ºè®®ä¸è¦åœ¨ async-std ä¸‹èŠ±æ—¶é—´äº†ã€‚tokio ç”Ÿæ€å·²ç»å æ®äº†ç»å¯¹ä¼˜åŠ¿ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630379663,"ip_address":"","comment_id":309737,"utype":1}],"discussion_count":1,"race_medal":0,"score":"44579989087","product_id":100085301,"comment_content":"ç–‘é—®ï¼šæŸ¥äº†ä¸‹reqwestä¼¼ä¹æ˜¯ä¾èµ–tokioè¿è¡Œæ—¶çš„ï¼Œæ˜¯å¦æ„å‘³ç€ç”¨äº†reqwestå°±å¿…é¡»ç”¨tokioè€Œä¸èƒ½ç”¨å…¶ä»–çš„è¿è¡Œæ—¶æ¯”å¦‚async-stdï¼Ÿ","like_count":10,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525989,"discussion_content":"å¦‚æœæƒ³ç”¨ async-stdï¼Œå¯ä»¥ç”¨ surfã€‚æˆ‘å»ºè®®ä¸è¦åœ¨ async-std ä¸‹èŠ±æ—¶é—´äº†ã€‚tokio ç”Ÿæ€å·²ç»å æ®äº†ç»å¯¹ä¼˜åŠ¿ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630379663,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309967,"user_name":"Kerry","can_delete":false,"product_type":"c1","uid":2061524,"ip_address":"","ucode":"92F809EC998FC6","user_header":"https://static001.geekbang.org/account/avatar/00/1f/74/d4/38d813f0.jpg","comment_is_top":false,"comment_ctime":1630417111,"is_pvip":false,"replies":[{"id":"112297","content":"ğŸ‘ æ˜¯å•Šï¼Œè¿™ä¹ˆåº•å±‚çš„è¯­è¨€å¯ä»¥åšå‡ºæ¥è¿™ä¹ˆå¼ºå¤§çš„æŠ½è±¡ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630426064,"ip_address":"","comment_id":309967,"utype":1}],"discussion_count":3,"race_medal":0,"score":"35990155479","product_id":100085301,"comment_content":"ç®€æ´çš„èƒŒåæ„å‘³ç€å¤§é‡çš„æŠ½è±¡ã€‚<br><br>è€Œåˆå­¦è€…è§åˆ°è¿™ä¹ˆç®€æ´çš„ä»£ç ï¼Œä¼šè¿·æƒ‘ï¼šâ€æˆ‘å¤åˆ¶äº†å•¥ï¼Œæ€ä¹ˆè¿™ä¹ˆçŸ­å°±è·‘å‡ºè¿™ä¹ˆå¤šåŠŸèƒ½æ¥ï¼Ÿï¼Ÿï¼Ÿâ€œ<br><br>å‡ä»¥æ—¶æ—¥ï¼Œå°±ä¸ç¦æ„Ÿå¹Rustè¯­è¨€è¡¨è¾¾åŠ›çš„å¼ºå¤§ã€‚","like_count":8,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526077,"discussion_content":"ğŸ‘ æ˜¯å•Šï¼Œè¿™ä¹ˆåº•å±‚çš„è¯­è¨€å¯ä»¥åšå‡ºæ¥è¿™ä¹ˆå¼ºå¤§çš„æŠ½è±¡ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630426064,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1926134,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/63/f6/225df928.jpg","nickname":"Alice","note":"","ucode":"6D8F901229B182","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550324,"discussion_content":"@alexd è¯­è¨€çš„&#34;è¡¨ç°åŠ›&#34;å®é™…ä¸Šå–å†³äºè¯­è¨€æ„é€ å¦‚ä½•æ¸…æ™°åœ°&#34;è¡¨è¾¾&#34;å¼€å‘äººå‘˜çš„æ„å›¾, è¿™é‡Œæœ‰ä¸€ç¯‡ä¸é”™çš„ç§‘æ™®æ–‡ç« å¯ä»¥è¯»ä¸€ä¸‹ï¼š\n ç¼–ç¨‹è¯­è¨€çš„è¡¨ç°åŠ›æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ  https://www.codenong.com/2427496/","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644484909,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2708009,"avatar":"https://static001.geekbang.org/account/avatar/00/29/52/29/51b5ca75.jpg","nickname":"alexd","note":"","ucode":"7815D35C4CFA0A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392069,"discussion_content":"è¿™ä¹ˆç†è§£è¡¨è¾¾èƒ½åŠ›å°±æ˜¯è°ƒç”¨å„ç§åº“ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630811008,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311787,"user_name":"gzgywh","can_delete":false,"product_type":"c1","uid":1198174,"ip_address":"","ucode":"4A7978EB4049A9","user_header":"https://static001.geekbang.org/account/avatar/00/12/48/5e/ccab5336.jpg","comment_is_top":false,"comment_ctime":1631459291,"is_pvip":false,"replies":[{"id":"112989","content":"å®å¯ä»¥æ“ä½œå¹¶ä¿®æ”¹ä»£ç çš„ ASTï¼Œè£…é¥°å™¨åªèƒ½å¯¹ä»£ç ç®€å•åŒ…è£…ï¼Œæ— æ³•æ”¹åŠ¨ ASTã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1631514901,"ip_address":"","comment_id":311787,"utype":1}],"discussion_count":1,"race_medal":0,"score":"27401263067","product_id":100085301,"comment_content":"Rusté‡Œé¢çš„å®æ„Ÿè§‰è·ŸPythoné‡Œé¢çš„è£…é¥°å™¨ä½œç”¨å·®ä¸å¤šå˜›ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526744,"discussion_content":"å®å¯ä»¥æ“ä½œå¹¶ä¿®æ”¹ä»£ç çš„ ASTï¼Œè£…é¥°å™¨åªèƒ½å¯¹ä»£ç ç®€å•åŒ…è£…ï¼Œæ— æ³•æ”¹åŠ¨ ASTã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631514901,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310401,"user_name":"CR","can_delete":false,"product_type":"c1","uid":2186767,"ip_address":"","ucode":"CE78F51366077F","user_header":"https://static001.geekbang.org/account/avatar/00/21/5e/0f/1a204ef7.jpg","comment_is_top":false,"comment_ctime":1630639927,"is_pvip":false,"replies":[{"id":"112454","content":"excalidraw","user_name":"ç¼–è¾‘å›å¤","user_name_real":"å¶å¦‚èŠŠ","uid":"2547771","ctime":1630645413,"ip_address":"","comment_id":310401,"utype":2}],"discussion_count":1,"race_medal":0,"score":"27400443703","product_id":100085301,"comment_content":"å¾ˆæƒ³çŸ¥é“è€å¸ˆçš„ç”»å›¾å·¥å…·éƒ½æœ‰å“ªäº›ğŸ¤”","like_count":6,"discussions":[{"author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"å¤šå°‘","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526221,"discussion_content":"excalidraw","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630645413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312740,"user_name":"chinandy","can_delete":false,"product_type":"c1","uid":2737221,"ip_address":"","ucode":"396E8478BB0393","user_header":"https://static001.geekbang.org/account/avatar/00/29/c4/45/88287ede.jpg","comment_is_top":false,"comment_ctime":1631958619,"is_pvip":false,"replies":[{"id":"113314","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1631981968,"ip_address":"","comment_id":312740,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23106795099","product_id":100085301,"comment_content":"å¤§å®¶å‚è€ƒè€å¸ˆå†™çš„ä»£ç çš„æ—¶å€™ï¼Œå¦‚æœæ˜¯ç½‘é¡µä¸èƒ½æ­£å¸¸çš„ç¾åŒ–æ˜¾ç¤ºï¼Œæœ‰å¯èƒ½æ˜¯ç½‘é¡µæ˜¯UTF8çš„åŸå› ï¼Œprint_bodyå‡½æ•°matchåˆ†æ”¯åŠ ä¸€ä¸ªTEXT_HTML_UTF_8åˆ¤æ–­ï¼Œ        Some(v) if v == mime::TEXT_HTML_UTF_8 || v == mime::TEXT_HTML =&gt; print_syntect(body, &quot;html&quot;),å³å¯ã€‚<br>","like_count":5,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527097,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631981968,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310694,"user_name":"è€å®äººHoney","can_delete":false,"product_type":"c1","uid":1080653,"ip_address":"","ucode":"EA4AB5C0C33090","user_header":"https://static001.geekbang.org/account/avatar/00/10/7d/4d/d98865b2.jpg","comment_is_top":false,"comment_ctime":1630845570,"is_pvip":true,"replies":[{"id":"112555","content":"å¯¹","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630859294,"ip_address":"","comment_id":310694,"utype":1}],"discussion_count":1,"race_medal":0,"score":"23105682050","product_id":100085301,"comment_content":"å¦å¤–ä¸€ç§è¿è¡Œå·¥ç¨‹çš„å‘½ä»¤æ˜¯ï¼Œcargo run -- post httpbin.org&#47;post a=1 b=2<br>-- å°±ç›¸å½“äº target&#47;debug&#47;httpie","like_count":5,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526310,"discussion_content":"å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630859294,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330850,"user_name":"Geek_2924d7","can_delete":false,"product_type":"c1","uid":2890859,"ip_address":"","ucode":"7D01473BD71838","user_header":"","comment_is_top":false,"comment_ctime":1642223329,"is_pvip":false,"replies":[{"id":"120752","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1642308073,"ip_address":"","comment_id":330850,"utype":1}],"discussion_count":2,"race_medal":0,"score":"18822092513","product_id":100085301,"comment_content":"```toml<br>clap = { version = &quot;3.0.7&quot;, features = [&quot;derive&quot;] } # ä¿®æ”¹æˆè¿™æ ·<br>```<br>use clap::{Parser, Subcommand};<br><br>#[derive(Debug, Parser)]<br>#[clap(version = &quot;1.0&quot;, author = &quot;Tyr Chen &quot;)]<br>&#47;&#47; #[clap(setting( AppSettings::ColoredHelp))]<br>struct Opts {<br>    #[clap(subcommand)]<br>    subcmd: Subcmd,<br>}<br><br>#[derive(Subcommand, Debug)]<br>enum Subcmd {<br>    Get(Get),<br>    Post(Post),<br>}<br><br>#[derive(Parser, Debug)]<br>struct Get {<br>    url: String,<br>}<br><br>#[derive(Parser, Debug)]<br>struct Post {<br>    url: String,<br>    body: Vec&lt;String&gt;,<br>}<br>fn main() {<br>    let opts: Opts = Opts::parse();<br>    println!(&quot;{:?}&quot;, opts);<br>}<br>```rust<br><br>```","like_count":4,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546390,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642308073,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2636670,"avatar":"https://static001.geekbang.org/account/avatar/00/28/3b/7e/2b192332.jpg","nickname":"Levin","note":"","ucode":"C3ACBF3DD34C81","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548028,"discussion_content":"æ€»ç®—èƒ½ç”¨è·‘é€šäº†...","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643002741,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319182,"user_name":"tider","can_delete":false,"product_type":"c1","uid":2822424,"ip_address":"","ucode":"95AC44CBE68A72","user_header":"https://static001.geekbang.org/account/avatar/00/2b/11/18/c6b3965c.jpg","comment_is_top":false,"comment_ctime":1635661767,"is_pvip":false,"replies":[{"id":"116391","content":"å—¯ï¼Œæœ€æ–°ä»£ç å‚è€ƒï¼šhttps:&#47;&#47;github.com&#47;tyrchen&#47;geektime-rust&#47;tree&#47;master&#47;04_httpie","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1636556484,"ip_address":"","comment_id":319182,"utype":1}],"discussion_count":4,"race_medal":0,"score":"18815530951","product_id":100085301,"comment_content":"rust 1.56 æŒ‰æ•™ç¨‹çš„ä»£ç ç¼–è¯‘ä¸é€šè¿‡<br><br>å°†Cargo.tomlæ”¹äº†ä¸‹å°±å¯ä»¥äº†<br><br>[package]<br>name = &quot;httpie&quot;<br>version = &quot;0.1.0&quot;<br>edition = &quot;2021&quot;<br><br># See more keys and their definitions at https:&#47;&#47;doc.rust-lang.org&#47;cargo&#47;reference&#47;manifest.html<br><br>[dependencies]<br>anyhow = &quot;1&quot; # é”™è¯¯å¤„ç†<br>clap = &quot;=3.0.0-beta.4&quot; #å‘½ä»¤è¡Œè§£é‡Š<br>clap_derive = &quot;=3.0.0-beta.4&quot;<br>colored = &quot;2&quot; # å‘½ä»¤ç»ˆç«¯å¤šå½©æ˜¾ç¤º<br>jsonxf = &quot;1.1&quot; # JSON pretty print æ ¼å¼åŒ–<br>mime = &quot;0.3&quot; # å¤„ç† mime ç±»å‹<br>reqwest = { verson = &quot;0.11&quot;, features = [&quot;json&quot;]} # HTTP å®¢æˆ·ç«¯<br>tokio = { version = &quot;1&quot;, features = [&quot;full&quot;]} # å¼‚æ­¥å¤„ç†åº“","like_count":4,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529537,"discussion_content":"å—¯ï¼Œæœ€æ–°ä»£ç å‚è€ƒï¼šhttps://github.com/tyrchen/geektime-rust/tree/master/04_httpie","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636556484,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1564463,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJZCkGPSOcvucpfLqRP3aqp3qRpwJKyzjNms4jMwibIkxpjiaszqiazSItCeo3IxqQSFvMDh66XaJ2zw/132","nickname":"JoeyLi666","note":"","ucode":"734864661E4BE0","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538955,"discussion_content":"å½“å¹´å­¦Cè¯­è¨€ä¹Ÿæ²¡è¿™ä¹ˆåºŸåŠ²å•Š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1639562720,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1445744,"avatar":"https://static001.geekbang.org/account/avatar/00/16/0f/70/f59db672.jpg","nickname":"æ§‘Â·å…ˆç”Ÿ","note":"","ucode":"897F0475592E3A","race_medal":2,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539326,"discussion_content":"ä¸ºå•¥æˆ‘çš„æœºå™¨ä¸Šæç¤ºclapæœ€é«˜åªèƒ½ç”¨2.33.3ï¼Œ3.xçš„éƒ½ä¸‹è½½ä¸äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639667569,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1093658,"avatar":"https://static001.geekbang.org/account/avatar/00/10/b0/1a/427c854c.jpg","nickname":"lemon","note":"","ucode":"360693FCFC8E8D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411387,"discussion_content":"You save my day! Thanks","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635915309,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325792,"user_name":"ä¸Šå¼¦ã®æœˆ","can_delete":false,"product_type":"c1","uid":2829059,"ip_address":"","ucode":"52B3AD3C22ABEA","user_header":"https://static001.geekbang.org/account/avatar/00/2b/2b/03/55a85ec1.jpg","comment_is_top":false,"comment_ctime":1639131044,"is_pvip":false,"replies":[{"id":"118816","content":"è¿™æ˜¯å› ä¸º 3.0.0-rc.5 æŠŠå®æ”¾åœ¨ derive ä¸‹äº†ã€‚çœ‹ github çš„æ›´æ–°","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1639804721,"ip_address":"","comment_id":325792,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14524032932","product_id":100085301,"comment_content":"2021å¹´12æœˆ10æ—¥<br><br>rustc --version<br>rustc 1.56.0 (09c42c458 2021-10-18)<br><br>cargo --version<br>cargo 1.56.0 (4ed5d137b 2021-10-04)<br><br>note: `Parser` is imported here, but it is only a trait, without a derive macro<br><br>ä½¿ç”¨äº†è€å¸ˆ GitHub ä¸Šé¢çš„æœ€æ–°ä»£ç è¿˜æ˜¯æŠ¥ä»¥ä¸‹é”™è¯¯çš„åŒå­¦ï¼Œç›´æ¥å§ Cargo.toml ä¸­çš„ clapï¼ŒåŠ ä¸Š features = [ &quot;derive&quot; ]ï¼Œæ¥æ¿€æ´»å…¶æ´¾ç”Ÿå®èƒ½åŠ›ï¼š<br><br>clap = { version = &quot;3.0.0-beta.5&quot;, features = [&quot;derive&quot;]} # å‘½ä»¤è¡Œè§£æ<br>","like_count":3,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539689,"discussion_content":"è¿™æ˜¯å› ä¸º 3.0.0-rc.5 æŠŠå®æ”¾åœ¨ derive ä¸‹äº†ã€‚çœ‹ github çš„æ›´æ–°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639804721,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":2829059,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/2b/03/55a85ec1.jpg","nickname":"ä¸Šå¼¦ã®æœˆ","note":"","ucode":"52B3AD3C22ABEA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":539695,"discussion_content":"å¥½çš„ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639805403,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":539689,"ip_address":""},"score":539695,"extra":""}]}]},{"had_liked":false,"id":312584,"user_name":"å¾æ´²æ›´","can_delete":false,"product_type":"c1","uid":1314643,"ip_address":"","ucode":"F8A323CB732D05","user_header":"https://static001.geekbang.org/account/avatar/00/14/0f/53/92a50f01.jpg","comment_is_top":false,"comment_ctime":1631877155,"is_pvip":true,"replies":[{"id":"113262","content":"clap åˆå¹¶äº† structopt ï¼ˆhttps:&#47;&#47;docs.rs&#47;structoptï¼‰çš„æ€è·¯ï¼Œæˆ‘ä¹‹å‰ç†Ÿæ‚‰ structoptï¼Œæ‰€ä»¥äº†è§£ã€‚å¦å¤–ï¼Œçœ‹ clap 3.0 çš„æ–‡æ¡£éœ€è¦è®¿é—®ï¼šhttps:&#47;&#47;docs.rs&#47;clap&#47;3.0.0-beta.4&#47;clap&#47;index.htmlã€‚æ³¨æ„ç”±äºå®ƒè¿˜æ˜¯ betaï¼Œæ‰€ä»¥å¾ˆå¤šé“¾æ¥ä¸€ä¸å°å¿ƒä¼šè·³åˆ° 2.33 çš„æ–‡æ¡£ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1631926527,"ip_address":"","comment_id":312584,"utype":1}],"discussion_count":2,"race_medal":0,"score":"14516779043","product_id":100085301,"comment_content":"è¿™èŠ‚è¯¾ä½¿ç”¨äº†clapè¿›è¡Œå‘½ä»¤è¡Œè§£æï¼Œæˆ‘åœ¨çœ‹clap çš„GitHubæ–‡æ¡£çš„æ—¶å€™ï¼Œå‘ç°è¿™ç§derive macrosçš„å‚æ•°å†™æ³•åº”è¯¥æ˜¯3.0.0ç‰ˆæœ¬åå¼•è¿›çš„ï¼Œç›¸å…³èµ„æ–™åªçœ‹åˆ°ä¸€ä¸ªexmapleã€‚æƒ³çŸ¥é“è€å¸ˆæ˜¯å¦‚ä½•æŒ‡å¯¼clapé‚£ä¹ˆå¤šç”¨æ³•çš„å‘¢ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527036,"discussion_content":"clap åˆå¹¶äº† structopt ï¼ˆhttps://docs.rs/structoptï¼‰çš„æ€è·¯ï¼Œæˆ‘ä¹‹å‰ç†Ÿæ‚‰ structoptï¼Œæ‰€ä»¥äº†è§£ã€‚å¦å¤–ï¼Œçœ‹ clap 3.0 çš„æ–‡æ¡£éœ€è¦è®¿é—®ï¼šhttps://docs.rs/clap/3.0.0-beta.4/clap/index.htmlã€‚æ³¨æ„ç”±äºå®ƒè¿˜æ˜¯ betaï¼Œæ‰€ä»¥å¾ˆå¤šé“¾æ¥ä¸€ä¸å°å¿ƒä¼šè·³åˆ° 2.33 çš„æ–‡æ¡£ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631926527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1314643,"avatar":"https://static001.geekbang.org/account/avatar/00/14/0f/53/92a50f01.jpg","nickname":"å¾æ´²æ›´","note":"","ucode":"F8A323CB732D05","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394568,"discussion_content":"è¿˜ä»¥ä¸ºæ²¡æœ‰betaçš„æ–‡æ¡£å‘¢ï¼ŒåŸæ¥æ˜¯ä¸€ä¸å°å¿ƒéƒ½è·³åˆ°2.33äº† è°¢è°¢é™ˆè€å¸ˆçš„è§£ç­” ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631942445,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310880,"user_name":"éº‹é¹¿åœ¨æ³›èˆŸ","can_delete":false,"product_type":"c1","uid":1121975,"ip_address":"","ucode":"1379CADA08688E","user_header":"https://static001.geekbang.org/account/avatar/00/11/1e/b7/b20ab184.jpg","comment_is_top":false,"comment_ctime":1630945022,"is_pvip":true,"replies":[{"id":"112677","content":"å—¯ï¼Œç°ä»£ç¼–ç¨‹è¯­è¨€çš„ä¾èµ–åŸºæœ¬ä¸Šéƒ½ä¼šä»ç½‘ç»œä¸Šç›´æ¥æ‹¿ã€‚pythonï¼Œgolangï¼Œnodejs éƒ½æ˜¯å¦‚æ­¤ã€‚ä¸è¿‡ Rust çš„ cargo  æ˜¯ç”¨èµ·æ¥æœ€æ–¹ä¾¿çš„ï¼ˆæ¯•ç«Ÿæœ‰åå‘ä¼˜åŠ¿ï¼‰ã€‚<br><br>C++ ä¹Ÿæœ‰ template &#47; interface ç­‰ç±»ä¼¼çš„åŠŸèƒ½ã€‚ä»è¿™ä¸ªè§’åº¦è®²ï¼Œå¤§å®¶æ——é¼“ç›¸å½“ã€‚ä¸è¿‡ Rust æ ‡å‡†åº“å’Œæ•´ä¸ªç”Ÿæ€èŠ±äº†å¤§åŠ›æ°”åšé›¶æˆæœ¬æŠ½è±¡ï¼ŒæŠŠä¸€äº›å¤æ‚çš„è¡¨è¿°ç”¨ç¼–è¯‘å™¨ä¼˜é›…åœ°æŠ½è±¡æ‰äº†ï¼Œæ¯”å¦‚ async&#47;await çš„å®ç°ï¼Œå†æ¯”å¦‚ Rust é‡Œå¤§é‡çš„å‡½æ•°å¼ç¼–ç¨‹æ–¹æ³•ã€‚æ­¤å¤–ï¼ŒRust è¿˜å¯ä»¥é€šè¿‡åŠŸèƒ½å¼ºå¤§çš„è¿‡ç¨‹å®ï¼Œæ¥è‡ªåŠ¨å®Œæˆå¾ˆå¤šå¤æ‚ trait çš„å®šä¹‰ï¼Œæ‰€ä»¥ï¼Œä»æŠ½è±¡çš„è§’åº¦ï¼ŒRust æ›´å¼ºå¤§ï¼Œåœ¨å‡ ä¹ä¸ç‰ºç‰²æ€§èƒ½çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å†™å‡ºæ›´ç®€æ´çš„ä»£ç ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630988491,"ip_address":"","comment_id":310880,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14515846910","product_id":100085301,"comment_content":"é€šè¿‡è¿™èŠ‚è¯¾ä»‹ç»åˆè¯†rustï¼Œå¯¹æ¯”c++æ„Ÿè§‰æœ‰å¦‚ä¸‹åŒºåˆ«:<br>1. çœ‹èµ·æ¥rustç¨‹åºç¼–è¯‘ä¾èµ–ç½‘ç»œï¼Œä¼šç¼–å®æ—¶ç¼–è¯‘ä¾èµ–çš„åº“ï¼Œç›¸åº”çš„å¼•å…¥ä¸‰æ–¹åŒ…éå¸¸æ–¹ä¾¿ï¼› è€Œä¸åƒc++è¦åˆ°ä¸‰æ–¹åº“çš„ç½‘é¡µä¸Šå»æ‰¾ç¼–è¯‘å’Œå¼•ç”¨çš„æ–¹å¼ï¼Œè¦é€‚é…åˆ°è‡ªå·±çš„å¹³å°ä¸Šã€‚<br>2. é€šè¿‡rustã€å®å’Œtraitç­‰æœºåˆ¶æŠŠéæ ¸å¿ƒçš„è¯¸å¦‚æ ¡éªŒç­‰é€»è¾‘éš”ç¦»åœ¨å„è‡ªçš„å‡½æ•°ä¸­, å¤§å¹…åº¦é™ä½äº†è€¦åˆã€‚<br><br>æ‰€ä»¥ç†è®ºä¸Šrustå¯ä»¥å†™å‡ºæ›´åŠ ç®€æ´çš„ä»£ç å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526387,"discussion_content":"å—¯ï¼Œç°ä»£ç¼–ç¨‹è¯­è¨€çš„ä¾èµ–åŸºæœ¬ä¸Šéƒ½ä¼šä»ç½‘ç»œä¸Šç›´æ¥æ‹¿ã€‚pythonï¼Œgolangï¼Œnodejs éƒ½æ˜¯å¦‚æ­¤ã€‚ä¸è¿‡ Rust çš„ cargo  æ˜¯ç”¨èµ·æ¥æœ€æ–¹ä¾¿çš„ï¼ˆæ¯•ç«Ÿæœ‰åå‘ä¼˜åŠ¿ï¼‰ã€‚\n\nC++ ä¹Ÿæœ‰ template / interface ç­‰ç±»ä¼¼çš„åŠŸèƒ½ã€‚ä»è¿™ä¸ªè§’åº¦è®²ï¼Œå¤§å®¶æ——é¼“ç›¸å½“ã€‚ä¸è¿‡ Rust æ ‡å‡†åº“å’Œæ•´ä¸ªç”Ÿæ€èŠ±äº†å¤§åŠ›æ°”åšé›¶æˆæœ¬æŠ½è±¡ï¼ŒæŠŠä¸€äº›å¤æ‚çš„è¡¨è¿°ç”¨ç¼–è¯‘å™¨ä¼˜é›…åœ°æŠ½è±¡æ‰äº†ï¼Œæ¯”å¦‚ async/await çš„å®ç°ï¼Œå†æ¯”å¦‚ Rust é‡Œå¤§é‡çš„å‡½æ•°å¼ç¼–ç¨‹æ–¹æ³•ã€‚æ­¤å¤–ï¼ŒRust è¿˜å¯ä»¥é€šè¿‡åŠŸèƒ½å¼ºå¤§çš„è¿‡ç¨‹å®ï¼Œæ¥è‡ªåŠ¨å®Œæˆå¾ˆå¤šå¤æ‚ trait çš„å®šä¹‰ï¼Œæ‰€ä»¥ï¼Œä»æŠ½è±¡çš„è§’åº¦ï¼ŒRust æ›´å¼ºå¤§ï¼Œåœ¨å‡ ä¹ä¸ç‰ºç‰²æ€§èƒ½çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å†™å‡ºæ›´ç®€æ´çš„ä»£ç ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630988491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310452,"user_name":"ç½—æ°","can_delete":false,"product_type":"c1","uid":1320487,"ip_address":"","ucode":"96BAFAA147341F","user_header":"https://static001.geekbang.org/account/avatar/00/14/26/27/eba94899.jpg","comment_is_top":false,"comment_ctime":1630659156,"is_pvip":false,"replies":[{"id":"112483","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630684193,"ip_address":"","comment_id":310452,"utype":1}],"discussion_count":3,"race_medal":2,"score":"14515561044","product_id":100085301,"comment_content":"fn print_body(m: Option&lt;Mime&gt;, body: &amp;String) {<br>    match m {<br>        Some(v) if v.to_string().contains(&quot;application&#47;json&quot;) =&gt; {<br>            println!(&quot;{}&quot;, jsonxf::pretty_print(body).unwrap().cyan())<br>        }<br>        _ =&gt; println!(&quot;{}&quot;, body),<br>    }<br>}<br>ä¼˜åŒ–äº†ä¸€ä¸‹ç¨‹åºã€‚","like_count":3,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526240,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630684193,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":1243961,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/VLB1WPGVDnicKaMGUcFZdtDQOXSib3LhFv6YqCZA16qfy2KHUAGL0ichSEE6rSu8HXSibGdg8vzIQ7qWlk9BZOeJjQ/132","nickname":"Curricane","note":"","ucode":"3778B96444874E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":537549,"discussion_content":"è¿™ä¹ˆå†™ï¼Œæœ‰ä»€ä¹ˆå¥½å¤„ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639101639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":526240,"ip_address":""},"score":537549,"extra":""},{"author":{"id":1046714,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/f8/ba/14e05601.jpg","nickname":"çº¦ä¹¦äºš","note":"","ucode":"81EA27ADD9EC1A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1243961,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/VLB1WPGVDnicKaMGUcFZdtDQOXSib3LhFv6YqCZA16qfy2KHUAGL0ichSEE6rSu8HXSibGdg8vzIQ7qWlk9BZOeJjQ/132","nickname":"Curricane","note":"","ucode":"3778B96444874E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":574780,"discussion_content":"application/json;charset=utf-8","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654331747,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":537549,"ip_address":""},"score":574780,"extra":""}]}]},{"had_liked":false,"id":309648,"user_name":"pedro","can_delete":false,"product_type":"c1","uid":1200704,"ip_address":"","ucode":"F40C839DDFD599","user_header":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","comment_is_top":false,"comment_ctime":1630289426,"is_pvip":false,"replies":[{"id":"112137","content":"1. ä¸éœ€è¦ã€‚ä¸ºä»€ä¹ˆè¦ nightly ç‰ˆæœ¬å‘¢ï¼Ÿ<br>2. è°¢è°¢çº æ­£ã€‚è¿™ä¸ªåœ°æ–¹ä¼¼ä¹æ˜¯æˆ‘ä» notion æŠŠç¨¿ä»¶æ‹·è¿‡æ¥æ˜¯è‡ªåŠ¨ç»™æˆ‘åŠ ä¸Šçš„ï¼Œæˆ‘è®©ç¼–è¾‘ä¿®æ›´æ–°ä¸€ä¸‹ã€‚å®Œæ•´ä»£ç å¯ä»¥åœ¨ï¼šhttps:&#47;&#47;github.com&#47;tyrchen&#47;geektime-rust&#47;tree&#47;master&#47;04_httpie ä¸Šè®¿é—®ã€‚<br>3. å’Œ 2 æ˜¯åŒä¸€ä¸ªé—®é¢˜ï¼Œæ ¼å¼æœ‰è¯¯ã€‚<br>4. syntect æ”¯æŒå‡ ä¹æ‰€æœ‰è¯­è¨€å’Œæ–‡æœ¬æ ¼å¼ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630297537,"ip_address":"","comment_id":309648,"utype":1}],"discussion_count":3,"race_medal":0,"score":"14515191314","product_id":100085301,"comment_content":"å››ä¸ªç‚¹ï¼š<br>1. rust è¦ä½¿ç”¨ nightly ç‰ˆï¼›<br>2. Url è§£æï¼Œä¸èƒ½æœ‰&lt;&gt;ï¼Œåº”è¯¥æ˜¯ï¼šparse_url(&quot;http:&#47;&#47;abc.xyz&quot;)ï¼›<br>3. print æˆ–è€… println è¾“å‡ºæ¢è¡Œæ—¶ï¼Œåº”è¯¥æ˜¯ \\n è€Œä¸æ˜¯ \\\\nï¼›<br>4. syntect å¯¹äº json æ”¯æŒæ˜¯å¾ˆæ–¹ä¾¿çš„ï¼Œå‚è€ƒï¼šhttps:&#47;&#47;github.com&#47;trishume&#47;syntect&#47;blob&#47;master&#47;examples&#47;syncat.rsã€‚<br><br>","like_count":3,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525946,"discussion_content":"1. ä¸éœ€è¦ã€‚ä¸ºä»€ä¹ˆè¦ nightly ç‰ˆæœ¬å‘¢ï¼Ÿ\n2. è°¢è°¢çº æ­£ã€‚è¿™ä¸ªåœ°æ–¹ä¼¼ä¹æ˜¯æˆ‘ä» notion æŠŠç¨¿ä»¶æ‹·è¿‡æ¥æ˜¯è‡ªåŠ¨ç»™æˆ‘åŠ ä¸Šçš„ï¼Œæˆ‘è®©ç¼–è¾‘ä¿®æ›´æ–°ä¸€ä¸‹ã€‚å®Œæ•´ä»£ç å¯ä»¥åœ¨ï¼šhttps://github.com/tyrchen/geektime-rust/tree/master/04_httpie ä¸Šè®¿é—®ã€‚\n3. å’Œ 2 æ˜¯åŒä¸€ä¸ªé—®é¢˜ï¼Œæ ¼å¼æœ‰è¯¯ã€‚\n4. syntect æ”¯æŒå‡ ä¹æ‰€æœ‰è¯­è¨€å’Œæ–‡æœ¬æ ¼å¼ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630297537,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2750034,"avatar":"https://static001.geekbang.org/account/avatar/00/29/f6/52/41b2da51.jpg","nickname":"é»‘å¤œè·¯äºº","note":"","ucode":"328B74E78EFACC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":583854,"discussion_content":"ä½ æ˜¯ä¸­å›½ç¼–ç¨‹ç•Œçš„æœªæ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1660447045,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1200704,"avatar":"https://static001.geekbang.org/account/avatar/00/12/52/40/e57a736e.jpg","nickname":"pedro","note":"","ucode":"F40C839DDFD599","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391110,"discussion_content":"error[E0658]: arbitrary expressions in key-value attributes are unstable\n --> .../github.com-1ecc6299db9ec823/clap-3.0.0-beta.4/src/lib.rs:8:10\n  |\n8 | #![doc = include_str!(&#34;../README.md&#34;)]\n  |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  |\n  = note: see issue #78835 <https://github.com/rust-lang/rust/issues/78835> for more information\n\nclap-3.0.0-beta.4 ä¸­çš„ä½¿ç”¨äº† unstable ç‰¹æ€§","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630298066,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309635,"user_name":"é˜¿æµ·","can_delete":false,"product_type":"c1","uid":1281585,"ip_address":"","ucode":"2589431F840C42","user_header":"https://static001.geekbang.org/account/avatar/00/13/8e/31/28972804.jpg","comment_is_top":false,"comment_ctime":1630284888,"is_pvip":true,"replies":[{"id":"112138","content":"å—¯ï¼Œè¿™éœ€è¦ä¸€å®šæ—¶é—´çš„å­¦ä¹ å’Œå†ç»ƒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630297562,"ip_address":"","comment_id":309635,"utype":1}],"discussion_count":1,"race_medal":0,"score":"14515186776","product_id":100085301,"comment_content":"è¿™ä¸€æœŸå°ç¨‹åºæŒºå¥½çš„ã€‚ä¸Šä¸Šå‘¨åˆšçœ‹å®Œrustå®˜ç½‘ä¸Šçš„éå®˜æ–¹æ–‡æ¡£ï¼ŒåŸºæœ¬èƒ½çœ‹æ‡‚ä»£ç ï¼Œä½†æ˜¯è¦è‡ªå·±å†™å‡ºæ¥å°±éš¾äº†ã€‚æœŸå¾…ä¸‹ä¸€æœŸ","like_count":3,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525940,"discussion_content":"å—¯ï¼Œè¿™éœ€è¦ä¸€å®šæ—¶é—´çš„å­¦ä¹ å’Œå†ç»ƒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630297562,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":349771,"user_name":"äº®äº®","can_delete":false,"product_type":"c1","uid":2879190,"ip_address":"","ucode":"61C14F0E8AD8F7","user_header":"https://static001.geekbang.org/account/avatar/00/2b/ee/d6/d04e56db.jpg","comment_is_top":false,"comment_ctime":1656319543,"is_pvip":false,"discussion_count":1,"race_medal":3,"score":"10246254135","product_id":100085301,"comment_content":"windowsä¸‹ ä½¿ç”¨ cargo run post https:&#47;&#47;httpbin.org&#47;post greeting=hola name=Tyrï¼Œæ˜¾ç¤ºæ­£å¸¸ï¼Œcargo build --releaseåï¼Œå•ç‹¬ä½¿ç”¨httpieï¼Œæ˜¾ç¤ºä¹±ç ...æ€ä¹ˆè§£å†³å•Šï¼Ÿï¼Ÿ","like_count":2,"discussions":[{"author":{"id":2013251,"avatar":"https://static001.geekbang.org/account/avatar/00/1e/b8/43/015e2cc0.jpg","nickname":"Silwings","note":"","ucode":"9737DB3230B797","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":587971,"discussion_content":"æˆ‘ä¹Ÿæ˜¯å“,ä¸çŸ¥é“æ€ä¹ˆè§£å†³","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1663412639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"ä¸Šæµ·"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342904,"user_name":"Geek_3b4ddd","can_delete":false,"product_type":"c1","uid":2979203,"ip_address":"","ucode":"64D5425C76FE53","user_header":"","comment_is_top":false,"comment_ctime":1650528975,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10240463567","product_id":100085301,"comment_content":"httpie 1.0<br>Tyr Chen &lt;tyr@chen.com&gt;<br>A naive httpie implementation with Rust, can you imagine how easy it is?<br><br>USAGE:<br>    httpie.exe &lt;SUBCOMMAND&gt;<br><br>OPTIONS:<br>    -h, --help       Print help information<br>    -V, --version    Print version information<br><br>SUBCOMMANDS:<br>    get     feed get with an url and we will retrieve the response for you<br>    help    Print this message or the help of the given subcommand(s)<br>    post    feed post with an url and optional key=value pairs. We will post the data as JSON,<br>                and retrieve the response for you<br>error: process didn&#39;t exit successfully: `target\\debug\\httpie.exe` (exit code: 2)<br>è¿™æ˜¯ä¸ºå•¥ï¼Œç¼–è¯‘é€šè¿‡äº†ï¼Œè¿è¡Œä¸é€šè¿‡","like_count":2,"discussions":[{"author":{"id":2991652,"avatar":"https://static001.geekbang.org/account/avatar/00/2d/a6/24/961129f1.jpg","nickname":"forever è’™","note":"","ucode":"472EB8946A3F96","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575332,"discussion_content":"åŒé—®\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654755288,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312802,"user_name":"Zilr","can_delete":false,"product_type":"c1","uid":1159437,"ip_address":"","ucode":"A38FD050DB316B","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/tNAmMmIN8MMCd1Leto5gtH2XhIzVRgAeqe6RJOsibEZtPpQH81MBvxu6xY5pL2fgkqNzgerQwYrmO9U3UYU2Tmw/132","comment_is_top":false,"comment_ctime":1632030854,"is_pvip":false,"replies":[{"id":"113404","content":"colored åº”è¯¥å¯ä»¥åœ¨ windows ä¸‹çš„ powershell å·¥ä½œã€‚ä½ å¯ä»¥è¯•è¯•åœ¨ main å‡½æ•°æœ€å¼€å§‹åŠ ä¸€å¥ï¼š<br><br>control::set_virtual_terminal(false).unwrap();<br><br>æ¥æºï¼šhttps:&#47;&#47;github.com&#47;mackwic&#47;colored&#47;blob&#47;015f2a58bfac8da6f0db8518c6813c79ec063f7f&#47;src&#47;control.rs#L7","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1632240338,"ip_address":"","comment_id":312802,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10221965446","product_id":100085301,"comment_content":"é™ˆè€å¸ˆï¼Œ ä¸ºå•¥æˆ‘ç”¨win10 powershell å’Œ cmd è¿è¡Œçš„è¯ï¼Œ éƒ½æ˜¯ä¹±ç ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527117,"discussion_content":"colored åº”è¯¥å¯ä»¥åœ¨ windows ä¸‹çš„ powershell å·¥ä½œã€‚ä½ å¯ä»¥è¯•è¯•åœ¨ main å‡½æ•°æœ€å¼€å§‹åŠ ä¸€å¥ï¼š\n\ncontrol::set_virtual_terminal(false).unwrap();\n\næ¥æºï¼šhttps://github.com/mackwic/colored/blob/015f2a58bfac8da6f0db8518c6813c79ec063f7f/src/control.rs#L7","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632240338,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310376,"user_name":"GengTeng","can_delete":false,"product_type":"c1","uid":1224623,"ip_address":"","ucode":"3F926F5EF1D075","user_header":"https://static001.geekbang.org/account/avatar/00/12/af/af/8b03ce2c.jpg","comment_is_top":false,"comment_ctime":1630634981,"is_pvip":false,"replies":[{"id":"112459","content":"å—¯ã€‚å¯ä»¥ç›´æ¥ç”¨ Urlï¼Œä½†åœ¨ä¼ ç»™ reqwest æ—¶éœ€è¦ to_string æˆ–è€… clone ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630651444,"ip_address":"","comment_id":310376,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10220569573","product_id":100085301,"comment_content":"ç»“æ„ä½“é‡Œçš„urlç›´æ¥ç”¨urlåº“é‡Œçš„Urlç±»å‹å°±è¡Œäº†ï¼Œç”¨Stringè¿˜å¾—è‡ªå·±æ£€æŸ¥ä¸€éã€‚","like_count":2,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526210,"discussion_content":"å—¯ã€‚å¯ä»¥ç›´æ¥ç”¨ Urlï¼Œä½†åœ¨ä¼ ç»™ reqwest æ—¶éœ€è¦ to_string æˆ–è€… clone ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630651444,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1224623,"avatar":"https://static001.geekbang.org/account/avatar/00/12/af/af/8b03ce2c.jpg","nickname":"GengTeng","note":"","ucode":"3F926F5EF1D075","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392405,"discussion_content":"&amp;stræˆ–è€…&amp;Stringæœ¬èº«ä¹Ÿæ˜¯æ¯æ¬¡parseæˆä¸€ä¸ªæ–°çš„Urlï¼Œæ‰€ä»¥æ–°åˆ†é…ç©ºé—´çš„å¼€é”€çœä¸äº†ï¼Œæˆ‘é€‰æ‹©å‡å°‘parseçš„å¼€é”€ ï¼›è€Œä¸”Urlæä¾›äº†ç¼–è¯‘æœŸä¿è¯å®‰å…¨çš„ç»“æ„ï¼ŒStringç»è¿‡æ£€æŸ¥ä»ç„¶æ˜¯ä¸ªStringçš„è¯ï¼Œåªæœ‰æˆ‘çŸ¥é“å®ƒæ˜¯æ£€æŸ¥è¿‡çš„ï¼Œç¼–è¯‘å™¨ä¸çŸ¥é“ï¼Œå›´ç»•å®ƒè®¾è®¡çš„æ¥å£åº”è¯¥æ¯”å›´ç»•Urlè®¾è®¡çš„æ¥å£æ›´å®¹æ˜“è¯¯ç”¨ã€‚:P","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630996522,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309674,"user_name":"springXu","can_delete":false,"product_type":"c1","uid":2064750,"ip_address":"","ucode":"F5DB0B963C894F","user_header":"","comment_is_top":false,"comment_ctime":1630298056,"is_pvip":true,"replies":[{"id":"112144","content":"reqwest ç›´æ¥æ”¯æŒ HTTPSï¼Œæˆ‘çš„ä¾‹å­ç”¨çš„å°±æ˜¯ HTTPSã€‚Rust å¯¹äº TLS çš„æ”¯æŒé™¤äº† Openssl å¤–ï¼Œè¿˜æœ‰ç”¨ Rust æ’°å†™çš„ Rustls åº“ï¼Œå…¶å†…éƒ¨ä½¿ç”¨ ring è¿™ä¸ªåŠ è§£å¯†åº“ã€‚å…¶å®ƒè¿˜æœ‰ https:&#47;&#47;github.com&#47;dalek-cryptography æ¨å‡ºçš„ä¸€ç³»åˆ—åŠ å¯†åº“ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630299633,"ip_address":"","comment_id":309674,"utype":1}],"discussion_count":2,"race_medal":0,"score":"10220232648","product_id":100085301,"comment_content":"èƒ½å¦æ”¯æŒHTTPSï¼Œrustæœ‰ä»€ä¹ˆåŠ è§£å¯†çš„åº“ï¼Ÿ","like_count":2,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525959,"discussion_content":"reqwest ç›´æ¥æ”¯æŒ HTTPSï¼Œæˆ‘çš„ä¾‹å­ç”¨çš„å°±æ˜¯ HTTPSã€‚Rust å¯¹äº TLS çš„æ”¯æŒé™¤äº† Openssl å¤–ï¼Œè¿˜æœ‰ç”¨ Rust æ’°å†™çš„ Rustls åº“ï¼Œå…¶å†…éƒ¨ä½¿ç”¨ ring è¿™ä¸ªåŠ è§£å¯†åº“ã€‚å…¶å®ƒè¿˜æœ‰ https://github.com/dalek-cryptography æ¨å‡ºçš„ä¸€ç³»åˆ—åŠ å¯†åº“ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630299633,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2064750,"avatar":"","nickname":"springXu","note":"","ucode":"F5DB0B963C894F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391229,"discussion_content":"è°¢è°¢é™ˆè€å¸ˆçš„å›å¤ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630342449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":344054,"user_name":"å¥½å¶å•Š","can_delete":false,"product_type":"c1","uid":2774260,"ip_address":"","ucode":"81DDBFE7893EA7","user_header":"https://static001.geekbang.org/account/avatar/00/2a/54/f4/adcde69f.jpg","comment_is_top":false,"comment_ctime":1651214095,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"5946181391","product_id":100085301,"comment_content":"ä»£ç æ˜¯æŠ„å®Œäº†ï¼Œä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆç¼–è¯‘å‡ºæ¥ã€‚cargo build --releaseåæ²¡æœ‰çœ‹åˆ°ä¸œè¥¿<br>","like_count":1,"discussions":[{"author":{"id":2853200,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/89/50/aee9fdab.jpg","nickname":"å°æ°","note":"","ucode":"BBDF8E9F348F65","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575460,"discussion_content":"ä½ æ„å»ºå®Œæˆreleaseåï¼Œåœ¨ä½ çš„httpieé¡¹ç›®ç›®å½•ä¸‹ï¼Œæœ‰ä¸€ä¸ªå’Œsrcåœ¨ä¸€ä¸ªç›®å½•ä¸‹çš„targetç›®å½•ï¼Œè¿›å…¥æ­¤ç›®å½•ï¼Œä¼šæœ‰ä¸€ä¸ªreleaseå’Œdebugç›®å½•ï¼Œç„¶åè¿›å…¥releaseç›®å½•ï¼Œä½ å°±ä¼šçœ‹åˆ°æœ‰å¯æ‰§è¡Œæ–‡ä»¶httpieäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654848967,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326849,"user_name":"ç‹å½¦éœ–","can_delete":false,"product_type":"c1","uid":2868952,"ip_address":"","ucode":"F9BFDD0C3657AB","user_header":"https://static001.geekbang.org/account/avatar/00/2b/c6/d8/672f1838.jpg","comment_is_top":false,"comment_ctime":1639720575,"is_pvip":true,"replies":[{"id":"118773","content":"ä½¿ç”¨äº† anyhow::Result","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1639791957,"ip_address":"","comment_id":326849,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5934687871","product_id":100085301,"comment_content":"Result&lt;String&gt;ï¼Œè¿™ç§å†™æ³•ç¼–è¯‘å™¨ä¸ä¼šå‡ºé”™å—","like_count":1,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539622,"discussion_content":"ä½¿ç”¨äº† anyhow::Result","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639791957,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":2868952,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/c6/d8/672f1838.jpg","nickname":"ç‹å½¦éœ–","note":"","ucode":"F9BFDD0C3657AB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":539633,"discussion_content":"å•Šï¼Œï¼Œæ•æˆ‘æ„šé’äº†ğŸ˜°","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639792948,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":539622,"ip_address":""},"score":539633,"extra":""},{"author":{"id":2955905,"avatar":"","nickname":"Geek_7c6db9","note":"","ucode":"02FE056416BEB1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":559376,"discussion_content":"ä¸ç”¨anyhow::Resultçš„è¯, ç›´æ¥ç”¨åŸç”Ÿçš„Resultæ€ä¹ˆå¼„å‘¢? ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648724100,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":539622,"ip_address":""},"score":559376,"extra":""}]}]},{"had_liked":false,"id":326713,"user_name":"JoeyLi666","can_delete":false,"product_type":"c1","uid":1564463,"ip_address":"","ucode":"734864661E4BE0","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJZCkGPSOcvucpfLqRP3aqp3qRpwJKyzjNms4jMwibIkxpjiaszqiazSItCeo3IxqQSFvMDh66XaJ2zw/132","comment_is_top":false,"comment_ctime":1639641858,"is_pvip":false,"replies":[{"id":"118778","content":"è¿™å¹¶ä¸æ˜¯ Rust ä¸ç¨³å®šï¼Œåªæ˜¯æˆ‘ç”¨çš„ clap ç‰ˆæœ¬çš„é—®é¢˜ã€‚ä½ å¯ä»¥çœ‹ github repo ä¸­çš„æ›´æ–°ã€‚è¯¾ç¨‹ 50 å¤šè®²ï¼Œåªæœ‰ä¸¤è®²æˆ‘ç”¨äº† clap çš„ beta ç‰ˆæœ¬è€Œå·²ã€‚æˆ‘å¯ä»¥é€‰æ‹© structopt ä½œä¸ºä¾‹å­ï¼Œä½†æˆ‘å¸Œæœ› clap 3 ç¨³å®šç‰ˆå‡ºæ¥ä¹‹åå¤§å®¶å·²ç»ç†Ÿæ‚‰ï¼Œæ¯•ç«Ÿè¿™æ˜¯å®˜æ–¹çš„ç‰ˆæœ¬ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1639792449,"ip_address":"","comment_id":326713,"utype":1}],"discussion_count":3,"race_medal":0,"score":"5934609154","product_id":100085301,"comment_content":"å°±è§‰å¾—è¿™ä¸ªrustçœŸçš„ä¸ç¨³å®šï¼Œä½œè€…çš„ä»£ç æ²¡å‡ ä¸ªæœˆå°±ä¸èƒ½ç›´æ¥è¿è¡Œäº†ï¼Œåšæ•™å­¦çš„ï¼Œä¸åº”è¯¥æ‹¿ç¨³å®šçš„ä»£ç åšè®²è§£å—ï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539629,"discussion_content":"è¿™å¹¶ä¸æ˜¯ Rust ä¸ç¨³å®šï¼Œåªæ˜¯æˆ‘ç”¨çš„ clap ç‰ˆæœ¬çš„é—®é¢˜ã€‚ä½ å¯ä»¥çœ‹ github repo ä¸­çš„æ›´æ–°ã€‚è¯¾ç¨‹ 50 å¤šè®²ï¼Œåªæœ‰ä¸¤è®²æˆ‘ç”¨äº† clap çš„ beta ç‰ˆæœ¬è€Œå·²ã€‚æˆ‘å¯ä»¥é€‰æ‹© structopt ä½œä¸ºä¾‹å­ï¼Œä½†æˆ‘å¸Œæœ› clap 3 ç¨³å®šç‰ˆå‡ºæ¥ä¹‹åå¤§å®¶å·²ç»ç†Ÿæ‚‰ï¼Œæ¯•ç«Ÿè¿™æ˜¯å®˜æ–¹çš„ç‰ˆæœ¬ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639792449,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2890330,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/1a/5a/c3a553dd.jpg","nickname":"å°‘å¹´ ğŸ¨","note":"","ucode":"6445B6FE7B767F","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545994,"discussion_content":"å¿«å­¦ä¸åŠ¨äº†ï¼Œä»£ç è·‘ä¸èµ·æ¥ï¼Œè¯„è®ºåŒºçš„æˆ‘éƒ½çœ‹å®Œäº†ï¼Œä¹Ÿæ²¡è§£å†³clap å“ï¼Œè€å¸ˆæ•‘æ•‘å­©å­å§","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1642124336,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":548720,"discussion_content":"è€å¸ˆå¥½ï¼Œgithubä¸Šæ˜¯å®Œæ•´çš„ä»£ç ï¼Œèƒ½æŠŠæ¯ä¸€æ­¥éª¤çš„ä»£ç ä¿®æ­£ä¸‹å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1643340554,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324163,"user_name":"æ‡’èˆèˆ","can_delete":false,"product_type":"c1","uid":1024788,"ip_address":"","ucode":"574F2CF1A705F0","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a3/14/1f03f07d.jpg","comment_is_top":false,"comment_ctime":1638324227,"is_pvip":false,"replies":[{"id":"118871","content":"rust ç‰ˆæœ¬æ›´æ–°å¿«æ²¡å…³ç³»ï¼Œå®ƒæ˜¯å‘åå…¼å®¹çš„ã€‚è¿™é‡Œä¸»è¦æ˜¯æˆ‘å¹¶æ²¡æœ‰é”å®š clap çš„ç‰ˆæœ¬ï¼Œä½¿ç”¨äº† beta ç‰ˆæœ¬ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1639849364,"ip_address":"","comment_id":324163,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5933291523","product_id":100085301,"comment_content":"rust ç‰ˆæœ¬ å’Œåº“ç‰ˆæœ¬æ›´æ–°éƒ½å¤ªå¿«ã€‚ã€‚ã€‚åŸæ–‡ç« ç‰‡æ®µéªŒè¯è¾“å…¥å‘½ä»¤è¡Œçš„ä»£ç è¦å¦‚ä¸‹æ›´æ–°<br>cargo.toml ä¸­ï¼š<br>[package]<br>name = &quot;httpie&quot;<br>version = &quot;0.1.0&quot;<br>edition = &quot;2021&quot;<br>[dependencies]<br>clap =&quot;3.0.0-beta.5&quot; #å‘½ä»¤è¡Œè§£æ<br><br>main.rs<br>use clap::Parser;<br><br>&#47;&#47; å®šä¹‰ HTTPie çš„ CLI çš„ä¸»å…¥å£ï¼Œå®ƒåŒ…å«è‹¥å¹²ä¸ªå­å‘½ä»¤<br>&#47;&#47; ä¸‹é¢ &#47;&#47;&#47; çš„æ³¨é‡Šæ˜¯æ–‡æ¡£ï¼Œclap ä¼šå°†å…¶ä½œä¸º CLI çš„å¸®åŠ©<br><br>&#47;&#47;&#47; A naive httpie implementation with Rust, can you imagine how easy it is?<br>#[derive(Parser, Debug)]<br>#[clap(version = &quot;1.0&quot;, author = &quot;lazyguoguo &lt;lazyguoguo@gmail.com&gt;&quot;)]<br>struct Opts {<br>    #[clap(subcommand)]<br>    subcmd: SubCommand,<br>}<br><br>&#47;&#47; å­å‘½ä»¤åˆ†åˆ«å¯¹åº”ä¸åŒçš„ HTTP æ–¹æ³•ï¼Œç›®å‰åªæ”¯æŒ get &#47; post<br>#[derive(Parser, Debug)]<br>enum SubCommand {<br>    Get(Get),<br>    Post(Post),<br>    &#47;&#47; æˆ‘ä»¬æš‚ä¸”ä¸æ”¯æŒå…¶å®ƒ HTTP æ–¹æ³•<br>}<br><br>&#47;&#47; get å­å‘½ä»¤<br><br>&#47;&#47;&#47; feed get with an url and we will retrieve the response for you<br>#[derive(Parser, Debug)]<br>struct Get {<br>    &#47;&#47;&#47; HTTP è¯·æ±‚çš„ URL<br>    url: String,<br>}<br><br>&#47;&#47; post å­å‘½ä»¤ã€‚éœ€è¦è¾“å…¥ä¸€ä¸ª URLï¼Œå’Œè‹¥å¹²ä¸ªå¯é€‰çš„ key=valueï¼Œç”¨äºæä¾› json body<br><br>&#47;&#47;&#47; feed post with an url and optional key=value pairs. We will post the data<br>&#47;&#47;&#47; as JSON, and retrieve the response for you<br>#[derive(Parser, Debug)]<br>struct Post {<br>    &#47;&#47;&#47; HTTP è¯·æ±‚çš„ URL<br>    url: String,<br>    &#47;&#47;&#47; HTTP è¯·æ±‚çš„ body<br>    body: Vec&lt;String&gt;,<br>}<br><br>fn main() {<br>    let opts: Opts = Opts::parse();<br>    println!(&quot;{:?}&quot;, opts);<br>} ","like_count":1,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539832,"discussion_content":"rust ç‰ˆæœ¬æ›´æ–°å¿«æ²¡å…³ç³»ï¼Œå®ƒæ˜¯å‘åå…¼å®¹çš„ã€‚è¿™é‡Œä¸»è¦æ˜¯æˆ‘å¹¶æ²¡æœ‰é”å®š clap çš„ç‰ˆæœ¬ï¼Œä½¿ç”¨äº† beta ç‰ˆæœ¬ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639849364,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":322465,"user_name":"luckychacha","can_delete":false,"product_type":"c1","uid":1015118,"ip_address":"","ucode":"B85DBDDA83424F","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJajmDoTcvibPcGQ0VvLwF7ssiaKFygrtq1c3PydDR7F5mbFOAnMGTfOEU6EoSsAlZgJ3oFGY91Jgyw/132","comment_is_top":false,"comment_ctime":1637402049,"is_pvip":false,"replies":[{"id":"118904","content":"çœ‹ github repo é‡Œçš„ä»£ç ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1639851875,"ip_address":"","comment_id":322465,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5932369345","product_id":100085301,"comment_content":"æ‰¾ä¸åˆ° Clapçš„åŸå› å¯èƒ½æ˜¯v3.0.0-beta.5 (2021-10-18) æœ‰æ›´æ–°ï¼š<br>Renamed Traits<br>clap::Clap =&gt; clap::Parser","like_count":1,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539865,"discussion_content":"çœ‹ github repo é‡Œçš„ä»£ç ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639851875,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319796,"user_name":"pz","can_delete":false,"product_type":"c1","uid":2820198,"ip_address":"","ucode":"4860CE76AF0DA3","user_header":"https://static001.geekbang.org/account/avatar/00/2b/08/66/097cb2a1.jpg","comment_is_top":false,"comment_ctime":1635944624,"is_pvip":false,"replies":[{"id":"116376","content":"ä¸è¦æŒ‰ cargo.toml æç¤ºä¿®æ”¹ï¼Œå®ƒåªæ˜¯å‘Šè¯‰å¦‚æœä»£ç ç¼–è¯‘æœ‰é—®é¢˜ã€‚å› ä¸º clap æ˜¯ betaï¼Œæœ‰ç ´åæ€§æ›´æ–°ï¼Œå¦‚æœç¼–è¯‘ä¸è¿‡ï¼Œè¯·å‚è€ƒ https:&#47;&#47;github.com&#47;tyrchen&#47;geektime-rust&#47;tree&#47;master&#47;04_httpie ä¸Šçš„ä»£ç ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1636555560,"ip_address":"","comment_id":319796,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5930911920","product_id":100085301,"comment_content":"@é™ˆè€å¸ˆï¼Œæˆ‘ç¼–è¯‘é‡åˆ°é—®é¢˜:<br><br>win10ç¯å¢ƒï¼Œç¼–è¯‘å™¨ç‰ˆæœ¬: rustc 1.56.0 (09c42c458 2021-10-18)<br><br>Cargo.toml æŠ¥é”™ clap = &quot;3.0.0-beta.4&quot;   X 2.33.3<br><br>æŒ‰æç¤ºå°†ç‰ˆæœ¬æ”¹ä¸º 2.33.3 å<br>main.rs æŠ¥é”™:<br>3 | use clap::{AppSettings, Clap};<br>  |                                   ^^^^ no `Clap` in the root<br><br>æŸ¥çœ‹ clap æ–‡æ¡£: https:&#47;&#47;crates.io&#47;crates&#47;clap<br>æœ‰2ç§CLIå‘½ä»¤å‚æ•°é…ç½®æ–¹å¼: api &#47; yaml<br><br>æ˜¯ä¸æ˜¯å·²ç»ä¸æ”¯æŒ HTTPie ä¸­ä½¿ç”¨çš„è¿™ç§æ–¹å¼äº†å‘¢ï¼Ÿ<br>","like_count":1,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529772,"discussion_content":"ä¸è¦æŒ‰ cargo.toml æç¤ºä¿®æ”¹ï¼Œå®ƒåªæ˜¯å‘Šè¯‰å¦‚æœä»£ç ç¼–è¯‘æœ‰é—®é¢˜ã€‚å› ä¸º clap æ˜¯ betaï¼Œæœ‰ç ´åæ€§æ›´æ–°ï¼Œå¦‚æœç¼–è¯‘ä¸è¿‡ï¼Œè¯·å‚è€ƒ https://github.com/tyrchen/geektime-rust/tree/master/04_httpie ä¸Šçš„ä»£ç ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636555560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":316969,"user_name":"Junmax","can_delete":false,"product_type":"c1","uid":1556036,"ip_address":"","ucode":"25720F144F6DF1","user_header":"https://static001.geekbang.org/account/avatar/00/17/be/44/004aea70.jpg","comment_is_top":false,"comment_ctime":1634630377,"is_pvip":false,"replies":[{"id":"115271","content":"å¯ä»¥ã€‚ä½ å¯ä»¥çœ‹çœ‹ï¼šhttps:&#47;&#47;github.com&#47;johnthagen&#47;min-sized-rust","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1635131036,"ip_address":"","comment_id":316969,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5929597673","product_id":100085301,"comment_content":"ç»ˆäºç¼–è¯‘é€šè¿‡äº†ï¼ŒHTTPie...ye~ye~ye~<br>æ–‡ä»¶å¤§å°5.6Mï¼Œæ„Ÿè§‰æœ‰ç‚¹å¤§äº†, è¿™æ–¹é¢è¿˜å¯ä»¥ä¼˜åŒ–å—?","like_count":1,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528592,"discussion_content":"å¯ä»¥ã€‚ä½ å¯ä»¥çœ‹çœ‹ï¼šhttps://github.com/johnthagen/min-sized-rust","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635131036,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310501,"user_name":"é”‹åˆ©","can_delete":false,"product_type":"c1","uid":2738653,"ip_address":"","ucode":"87387E845CB86F","user_header":"https://static001.geekbang.org/account/avatar/00/29/c9/dd/cd74393e.jpg","comment_is_top":false,"comment_ctime":1630683719,"is_pvip":false,"replies":[{"id":"112486","content":"å—¯ï¼Œè°¢è°¢çº æ­£ï¼æˆ‘è‡ªå·±ç”¨çš„æ˜¯ bash&#47;zsh&#47;fishï¼Œæ‰€ä»¥ä»¥åå†™å‘½ä»¤è¡Œä¾‹å­çš„æ—¶å€™ä¼šæ³¨æ„ä¸€ä¸‹ windows ç«¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630687087,"ip_address":"","comment_id":310501,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5925651015","product_id":100085301,"comment_content":"window å¹³å° powershell åº”è¯¥ç”¨è¿™ä¸ªå‘½ä»¤ï¼š<br>cargo build --quiet | target&#47;debug&#47;httpie post httpbin.org&#47;post a=1 b=2  <br>ç”¨ &amp;&amp; ä¼šæç¤º ï¼š æ ‡è®°â€œ&amp;&amp;â€ä¸æ˜¯æ­¤ç‰ˆæœ¬ä¸­çš„æœ‰æ•ˆè¯­å¥åˆ†éš”ç¬¦ã€‚","like_count":1,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526253,"discussion_content":"å—¯ï¼Œè°¢è°¢çº æ­£ï¼æˆ‘è‡ªå·±ç”¨çš„æ˜¯ bash/zsh/fishï¼Œæ‰€ä»¥ä»¥åå†™å‘½ä»¤è¡Œä¾‹å­çš„æ—¶å€™ä¼šæ³¨æ„ä¸€ä¸‹ windows ç«¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630687087,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309726,"user_name":"ä¼¦èƒ–èƒ–ä¸èƒ–","can_delete":false,"product_type":"c1","uid":1146045,"ip_address":"","ucode":"24CEEB5B2B8BEA","user_header":"https://static001.geekbang.org/account/avatar/00/11/7c/bd/70232c22.jpg","comment_is_top":false,"comment_ctime":1630314406,"is_pvip":true,"replies":[{"id":"112237","content":"å¯¹ï¼Œè¿™é‡Œä¸“é—¨å°‘äº›äº† urlï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬ä¸å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œæ ¡éªŒçš„è¯ï¼Œä¼šè§£æåˆ°é”™è¯¯çš„ç»“æœã€‚è¿™é‡Œä¸ºäº†å¼•å‡ºä¸‹é¢ parse_url çš„ä»£ç æ•…æ„è¾“å…¥é”™è¯¯ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630379365,"ip_address":"","comment_id":309726,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5925281702","product_id":100085301,"comment_content":"â¯ cargo build --quiet &amp;&amp; target&#47;debug&#47;httpie post a=1 b=2<br>Opts { subcmd: Post(Post { url: &quot;a=1&quot;, body: [&quot;b=2&quot;] }) }<br><br>è¿™ä¸ªåœ°æ–¹poståé¢å°‘äº† urlå§ã€‚","like_count":1,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525983,"discussion_content":"å¯¹ï¼Œè¿™é‡Œä¸“é—¨å°‘äº›äº† urlï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬ä¸å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œæ ¡éªŒçš„è¯ï¼Œä¼šè§£æåˆ°é”™è¯¯çš„ç»“æœã€‚è¿™é‡Œä¸ºäº†å¼•å‡ºä¸‹é¢ parse_url çš„ä»£ç æ•…æ„è¾“å…¥é”™è¯¯ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630379365,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":360918,"user_name":"sniper","can_delete":false,"product_type":"c1","uid":1323390,"ip_address":"å±±ä¸œ","ucode":"54D4667EF16043","user_header":"https://static001.geekbang.org/account/avatar/00/14/31/7e/4b9736c5.jpg","comment_is_top":false,"comment_ctime":1666974497,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1666974497","product_id":100085301,"comment_content":"è€å¸ˆï¼Œæ–°å­¦å•Šã€‚è€æŠ¥é”™ã€‚è¿™ç« è¿‡ä¸å»äº†ï¼Œç°åœ¨çš„cargo 1.64.0 (387270bc7 2022-09-16)<br>rustc 1.64.0 (a55dd71d5 2022-09-19)<br>è¿è¡Œé‚£ä¸ªç¬¬ä¸€ä¸ªå‘½ä»¤åæŠ¥é”™ï¼šzsh: parse error near `}&#39;","like_count":0},{"had_liked":false,"id":359755,"user_name":"æ‹¾ä¸€ç»´","can_delete":false,"product_type":"c1","uid":3193929,"ip_address":"å¹¿ä¸œ","ucode":"31656163586B4C","user_header":"https://static001.geekbang.org/account/avatar/00/30/bc/49/d96fcd85.jpg","comment_is_top":false,"comment_ctime":1665839135,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1665839135","product_id":100085301,"comment_content":"#[derive(Debug, Parser)]<br>struct Get {<br>    &#47;&#47; #[(parse(try_from_str = parse_url))]<br>    url: String,<br>}<br><br>#[derive(Debug, Parser)]<br>struct Post {<br>    &#47;&#47; #[clap(parse(try_from_str = parse_url))]<br>    url: String,<br>    &#47;&#47; #[clap(parse(try_from_str = parse_kv_pair))]<br>    body: Vec&lt;KvPair&gt;,<br>}ï¼Œæœ‹å‹ä»¬ï¼Œè€å¸ˆä»£ç åº“ä¸­è¿™è¾¹æœ‰ä¸¤ä¸ªå®ç°ï¼Œç°åœ¨å·²ç»ä¸ç”¨è¿™ç§å†™æ³•å•¦ï¼ˆä»£ç æ³¨æ‰çš„å†…å®¹ï¼‰ï¼Œåªè¦ç±»å‹å®ç°äº†Parser traitï¼Œåœ¨è§£ææ—¶ï¼Œä¼šè‡ªåŠ¨åŒ¹é…ç›¸åº”çš„æ–¹æ³•ã€‚æ›´å¤šå†…å®¹è¯·å‚è€ƒhttps:&#47;&#47;github.com&#47;clap-rs&#47;clap&#47;pull&#47;2298&#47;commits&#47;7bf392885629e2c4eda25894933a69f0d4fcad22","like_count":0},{"had_liked":false,"id":359602,"user_name":"Geek_410063","can_delete":false,"product_type":"c1","uid":3199951,"ip_address":"åŒ—äº¬","ucode":"7242AFEB13858B","user_header":"","comment_is_top":false,"comment_ctime":1665671569,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1665671569","product_id":100085301,"comment_content":"rust è¿™ä¸€ä¸ªå°é¡¹ç›®ç¼–è¯‘å®Œ targetç›®å½• 2ã€3Gå ç”¨ï¼Œå ªæ¯”npmé»‘æ´ï¼Œå¿ƒç–¼ç¡¬ç›˜ä¸€ç§’ã€‚","like_count":0},{"had_liked":false,"id":359204,"user_name":"éƒ½å¸‚å¤œå½’äºº","can_delete":false,"product_type":"c1","uid":1071909,"ip_address":"åŒ—äº¬","ucode":"DFF59BE3D80B42","user_header":"https://static001.geekbang.org/account/avatar/00/10/5b/25/d78cc1fe.jpg","comment_is_top":false,"comment_ctime":1665323388,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1665323388","product_id":100085301,"comment_content":"å¸Œæœ›èƒ½å°†ä»£ç æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬çš„rustç¯å¢ƒï¼Œå¦åˆ™æ ¹æœ¬è·‘ä¸é€šã€‚ä¸¥é‡å½±å“è¿›ä¸€æ­¥å­¦ä¹ ã€‚","like_count":0},{"had_liked":false,"id":358829,"user_name":"salt","can_delete":false,"product_type":"c1","uid":1056332,"ip_address":"æ¹–å—","ucode":"A7D8D09E12353B","user_header":"https://static001.geekbang.org/account/avatar/00/10/1e/4c/d6416f57.jpg","comment_is_top":false,"comment_ctime":1664865667,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1664865667","product_id":100085301,"comment_content":"æœ€æ–°çš„clap  &quot;4.0.9&quot;<br>toml:<br>```<br>clap =  { version = &quot;4.0.9&quot;, features = [&quot;derive&quot;] } <br>```<br><br>src:<br><br>```<br>use clap::{Parser, Subcommand, Args};<br><br>#[derive(Parser, Debug)]<br>#[command(version = &quot;1.0&quot;, author = &quot;Tyr Chen &lt;tyr@chen.com&gt;&quot;, about, long_about = None)]<br>struct Opts {<br>    #[command(subcommand)]<br>    subcmd: MySubCommand,<br>}<br><br>&#47;&#47; å­å‘½ä»¤åˆ†åˆ«å¯¹åº”ä¸åŒçš„ HTTP æ–¹æ³•ï¼Œç›®å‰åªæ”¯æŒ get &#47; post<br>#[derive(Subcommand, Debug)]<br>enum MySubCommand {<br>    Get(Get),<br>    Post(Post),<br>    &#47;&#47; æˆ‘ä»¬æš‚ä¸”ä¸æ”¯æŒå…¶å®ƒ HTTP æ–¹æ³•<br>}<br><br>&#47;&#47; get å­å‘½ä»¤<br><br>&#47;&#47;&#47; feed get with an url and we will retrieve the response for you<br>#[derive(Args, Debug)]<br>struct Get {<br>    &#47;&#47;&#47; HTTP è¯·æ±‚çš„ URL<br>    #[arg(value_parser=parse_url)]<br>    url: String,<br>}<br><br>&#47;&#47; post å­å‘½ä»¤ã€‚éœ€è¦è¾“å…¥ä¸€ä¸ª URLï¼Œå’Œè‹¥å¹²ä¸ªå¯é€‰çš„ key=valueï¼Œç”¨äºæä¾› json body<br><br>&#47;&#47;&#47; feed post with an url and optional key=value pairs. We will post the data<br>&#47;&#47;&#47; as JSON, and retrieve the response for you<br>#[derive(Args, Debug)]<br>struct Post {<br>    &#47;&#47;&#47; HTTP è¯·æ±‚çš„ URL<br>    #[arg(value_parser=parse_url)]<br>    url: String,<br>    &#47;&#47;&#47; HTTP è¯·æ±‚çš„ body<br>    #[arg(value_parser=parse_kv_pair)]<br>    body: Vec&lt;KvPair&gt;,<br>}<br><br>&#47;&#47;&#47; å‘½ä»¤è¡Œä¸­çš„ key=value å¯ä»¥é€šè¿‡ parse_kv_pair è§£ææˆ KvPair ç»“æ„<br>#[derive(Debug, Clone, PartialEq)]<br>struct KvPair {<br>    k: String,<br>    v: String,<br>}<br>```<br>","like_count":0},{"had_liked":false,"id":358810,"user_name":"æ­¤é—´çš„å°‘å¹´","can_delete":false,"product_type":"c1","uid":3191018,"ip_address":"å¹¿ä¸œ","ucode":"DFC944190ACB79","user_header":"https://static001.geekbang.org/account/avatar/00/30/b0/ea/98986b75.jpg","comment_is_top":false,"comment_ctime":1664808451,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1664808451","product_id":100085301,"comment_content":"æˆ‘æƒ³é—®ä¸‹#[derive(Parser, Debug)] ä¸ºä»€ä¹ˆDebugè¦æ”¾åœ¨åé¢","like_count":0},{"had_liked":false,"id":358619,"user_name":"éƒ½å¸‚å¤œå½’äºº","can_delete":false,"product_type":"c1","uid":1071909,"ip_address":"åŒ—äº¬","ucode":"DFF59BE3D80B42","user_header":"https://static001.geekbang.org/account/avatar/00/10/5b/25/d78cc1fe.jpg","comment_is_top":false,"comment_ctime":1664499430,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1664499430","product_id":100085301,"comment_content":"PS F:\\rust\\httpie&gt; cargo -V<br>cargo 1.64.0 (387270bc7 2022-09-16)<br>PS F:\\rust\\httpie&gt; rustc -V<br>rustc 1.64.0 (a55dd71d5 2022-09-19)<br>======<br>[dependencies]<br>anyhow = &quot;1&quot;<br>clap = &quot;4.0.4&quot;<br>colored = &quot;2&quot;<br>jsonxf = &quot;1.1&quot;<br>mime = &quot;0.3&quot;<br>reqwest = {version = &quot;0.11.12&quot;, features = [&quot;blocking&quot;]} # httpå®¢æˆ·ç«¯<br>tokio = {version = &quot;1&quot;, features=[&quot;full&quot;]} # å¼‚æ­¥å¤„ç†åº“<br>=======<br>æŒ‰ä¸Šé¢çš„ä¾èµ–ï¼Œä¸‹é¢çš„å¼•ç”¨æŠ¥é”™äº†<br>use clap::{AppSettings, Clap};<br>é”™è¯¯ä¿¡æ¯ï¼šunresolved imports `clap::AppSettings`, `clap::Clap` no `AppSettings` in the root","like_count":0},{"had_liked":false,"id":355981,"user_name":"æœºæ™ºå¸…æ°”çš„å°é›¨","can_delete":false,"product_type":"c1","uid":1608963,"ip_address":"åŒ—äº¬","ucode":"E2CDEB9D7F43F5","user_header":"https://static001.geekbang.org/account/avatar/00/18/8d/03/2cfad860.jpg","comment_is_top":false,"comment_ctime":1661907003,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1661907003","product_id":100085301,"comment_content":"å°ç™½è¯·æ•™ä¸€ä¸‹ï¼Œåœ¨å½“å‰ cargo é¡¹ç›®ä¸‹å¯ä»¥ç›´æ¥æ‰§è¡Œ target&#47;release&#47;httpie, ä¸‹çº§ç›®å½•ä¸‹æ‰§è¡Œ release&#47;httpieï¼Œ éƒ½æ˜¯å¯ä»¥çš„ï¼Œä¸ºå•¥è·‘åˆ° httpie ä¸‹ç›´æ¥æ‰§è¡Œ httpie ä¼šzsh æ²¡æœ‰é…ç½®å‘¢ï¼›æ˜¯å› ä¸ºå•ä¸ªå­—æ®µå°±å¿…é¡»è¦åœ¨ zsh ä¸Šå…ˆé…ç½®å‘½ä»¤å˜›","like_count":0,"discussions":[{"author":{"id":2422120,"avatar":"https://static001.geekbang.org/account/avatar/00/24/f5/68/66ce1b44.jpg","nickname":"å","note":"","ucode":"B68EF9B692C02C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586239,"discussion_content":"æ²¡æœ‰./","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662050854,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":354819,"user_name":"Geek_a6c6ce","can_delete":false,"product_type":"c1","uid":3074996,"ip_address":"è·å…°","ucode":"21DC76D3225403","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/TusRVU51UggZGpicXMgH64Cb8jek0wyTOpagtUHNAj0EPbhbEv0FJpFU2K3glbtOdJXiaQ9o6QoEfv5PiaIu7rwng/132","comment_is_top":false,"comment_ctime":1660804879,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1660804879","product_id":100085301,"comment_content":"[dependencies]<br>anyhow = &quot;1.0&quot; # é”™è¯¯å¤„ç†<br>clap = &quot;3.2.17&quot; # å‘½ä»¤è¡Œè§£æ<br>colored = &quot;2.0.0&quot; # å‘½ä»¤ç»ˆç«¯å¤šå½©æ˜¾ç¤º<br>jsonxf = &quot;1.1.1&quot; # JSON pretty print æ ¼å¼åŒ–<br>mime = &quot;0.3.16&quot; # å¤„ç† mime ç±»å‹<br>reqwest = { version = &quot;0.11.11&quot;, features = [&quot;json&quot;] } # HTTP å®¢æˆ·ç«¯<br>tokio = { version = &quot;1.20.1&quot;, features = [&quot;full&quot;] } # å¼‚æ­¥å¤„ç†åº“","like_count":0,"discussions":[{"author":{"id":2422120,"avatar":"https://static001.geekbang.org/account/avatar/00/24/f5/68/66ce1b44.jpg","nickname":"å","note":"","ucode":"B68EF9B692C02C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":586238,"discussion_content":"ä½ çŸ¥é“æ€ä¹ˆå†™å—ï¼Œç”¨åŸæ¥çš„ä»£ç ç¼–è¯‘ä¸è¿‡çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1662050789,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"å¹¿ä¸œ"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":350312,"user_name":"æ²ˆç•…","can_delete":false,"product_type":"c1","uid":1077953,"ip_address":"","ucode":"7404E41356B36B","user_header":"https://static001.geekbang.org/account/avatar/00/10/72/c1/59509397.jpg","comment_is_top":false,"comment_ctime":1656778067,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1656778067","product_id":100085301,"comment_content":"æœ‰äººé‡åˆ°è¿™ä¸ªé—®é¢˜å—ï¼Ÿ<br>rust-analyzer failed to load workspace: &quot;cargo&quot; &quot;--version&quot; failed, exit code: 1<br>stderr:<br>error: command failed: &#39;cargo&#39;: æ‹’ç»è®¿é—®ã€‚ (os error 5)<br><br>","like_count":0},{"had_liked":false,"id":349062,"user_name":"GKNick","can_delete":false,"product_type":"c1","uid":1347231,"ip_address":"","ucode":"AE6D7674CE9D4B","user_header":"https://static001.geekbang.org/account/avatar/00/14/8e/9f/26b7e89b.jpg","comment_is_top":false,"comment_ctime":1655706837,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1655706837","product_id":100085301,"comment_content":"è€å¸ˆï¼Œæˆ‘ç›®å‰ç‰ˆæœ¬æ˜¯1.61.0ï¼ŒæŠ¥é”™ï¼Œæ˜¯ä¸æ˜¯ä¸å»ºè®®ä½¿ç”¨è¿™ä¸ªç‰ˆæœ¬","like_count":0},{"had_liked":false,"id":348854,"user_name":"IF!","can_delete":false,"product_type":"c1","uid":1197779,"ip_address":"","ucode":"F81E266463B9E6","user_header":"https://static001.geekbang.org/account/avatar/00/12/46/d3/cbdd17bd.jpg","comment_is_top":false,"comment_ctime":1655464663,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1655464663","product_id":100085301,"comment_content":"vscode ä¼šæŠ¥è¿™ä¸ªé”™è¯¯ ï¼šproc macro `clap` not expanded: proc macro not foundrust-analyzerunresolved-proc-macro<br>ä½†æ˜¯ç¼–è¯‘æ˜¯å¯ä»¥é€šè¿‡çš„ï¼Œè¿™ä¸ªæ€ä¹ˆè§£å†³å‘¢","like_count":0},{"had_liked":false,"id":348210,"user_name":"å°æ°","can_delete":false,"product_type":"c1","uid":2853200,"ip_address":"","ucode":"BBDF8E9F348F65","user_header":"https://static001.geekbang.org/account/avatar/00/2b/89/50/aee9fdab.jpg","comment_is_top":false,"comment_ctime":1654848095,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654848095","product_id":100085301,"comment_content":"syntectçš„ä»“åº“æœ‰ä¸€ä¸ªExample Codeï¼ŒæŒ‰ç…§é‚£ä¸ªç›´æ¥å†™ä¸€ä¸ªprint_syntect<br>fn print_syntect(s: &amp;str){<br>    &#47;&#47; Loa<br>    d these once at the start of your program<br>    let ps = SyntaxSet::load_defaults_newlines();<br>    let ts = ThemeSet::load_defaults();<br>    <br>    let syntax = ps.find_syntax_by_extension(&quot;rs&quot;).unwrap();<br>    let mut h = HighlightLines::new(syntax, &amp;ts.themes[&quot;base16-ocean.dark&quot;]);<br>    let s = s;<br>    for line in LinesWithEndings::from(s) {<br><br>        let ranges: Vec&lt;(Style, &amp;str)&gt; = h.highlight_line(line, &amp;ps).unwrap();<br>        let escaped = as_24_bit_terminal_escaped(&amp;ranges[..], true);<br>        print!(&quot;{}&quot;, escaped);<br><br>        }<br>}<br><br>ç„¶åæŠŠbodyé‡Œé¢çš„æ‰“å°æ¢ä¸€ä¸‹å°±å¯ä»¥äº†<br>fn print_body(m: Option&lt;Mime&gt;, body: &amp;String) {<br>    match m {<br>        &#47;&#47; å¯¹äº &quot;application&#47;json&quot; æˆ‘ä»¬ pretty print<br>        Some(v) if v == mime::APPLICATION_JSON =&gt; {<br>            print_syntect(body);<br>            &#47;&#47; println!(&quot;{}&quot;, jsonxf::pretty_print(body).unwrap().cyan())<br>        }<br>        &#47;&#47; å…¶å®ƒ mime typeï¼Œæˆ‘ä»¬å°±ç›´æ¥è¾“å‡º<br>        _ =&gt; println!(&quot;{}&quot;, body),<br>    }<br>}","like_count":0},{"had_liked":false,"id":347848,"user_name":"forever è’™","can_delete":false,"product_type":"c1","uid":2991652,"ip_address":"","ucode":"472EB8946A3F96","user_header":"https://static001.geekbang.org/account/avatar/00/2d/a6/24/961129f1.jpg","comment_is_top":false,"comment_ctime":1654511210,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1654511210","product_id":100085301,"comment_content":"error: process didn&#39;t exit successfully: `target\\debug\\httpie.exe` (exit code: 2)æ±‚è€å¸ˆå¸®åŠ©è§£å†³ï¼Œæ€»æ˜¯æ‰“å‡ºè¿™ä¸ª","like_count":0},{"had_liked":false,"id":346121,"user_name":"108åº¦","can_delete":false,"product_type":"c1","uid":1015008,"ip_address":"","ucode":"085C8A8278C7D5","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7c/e0/acbca24e.jpg","comment_is_top":false,"comment_ctime":1652846954,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1652846954","product_id":100085301,"comment_content":"é‡æ–°çœ‹äº†ä¸€éï¼Œå®è·µä¸€éï¼Œæ”¶è·è¿˜æ˜¯å¾ˆå¤§ï¼Œè¿˜æ˜¯å¾—å¤šçœ‹ï¼Œå¤šç»ƒ","like_count":0},{"had_liked":false,"id":345648,"user_name":"gavin","can_delete":false,"product_type":"c1","uid":1171879,"ip_address":"","ucode":"8DAC42D1A564D1","user_header":"http://thirdwx.qlogo.cn/mmopen/KFgDEHIEpnT0EXnh02VHqCETJickQpyszbSo5uFBG1ZwdhnzpM2ibFP3v658Pj1ojOHTygibeXMhyFdl0AzSmZuVO4iacUnal8RV/132","comment_is_top":false,"comment_ctime":1652456034,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652456034","product_id":100085301,"comment_content":"çœ‹åˆ°#æ ‡è®°çš„å®ï¼Œæ€»ä»¥ä¸ºæ˜¯æ³¨é‡Š","like_count":0},{"had_liked":false,"id":342107,"user_name":"xiong","can_delete":false,"product_type":"c1","uid":1099375,"ip_address":"","ucode":"C1BFD9EF96372F","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/6f/ac3003fa.jpg","comment_is_top":false,"comment_ctime":1650015364,"is_pvip":false,"replies":[{"id":"125092","content":"å“ˆå“ˆå“ˆå¥½ç©å§å…ˆæ„Ÿå—ä¸€ä¸‹rustçš„é£æ ¼ï¼Œå¦‚æœå®åœ¨å­¦ä¹ å‹åŠ›å¤§å¯ä»¥å»å­¦å­¦åŸºç¡€ï¼Œå­¦å®Œå†å›æ¥çœ‹ã€‚åŠ æ²¹ğŸ’ª","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ç¼–è¾‘","uid":"2547771","ctime":1650262088,"ip_address":"","comment_id":342107,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1650015364","product_id":100085301,"comment_content":"è¿™ä¸€ä¸Šæ¥å°±æ”¾å¤§æ‹›å•Š","like_count":0,"discussions":[{"author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"å¤šå°‘","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":564506,"discussion_content":"å“ˆå“ˆå“ˆå¥½ç©å§å…ˆæ„Ÿå—ä¸€ä¸‹rustçš„é£æ ¼ï¼Œå¦‚æœå®åœ¨å­¦ä¹ å‹åŠ›å¤§å¯ä»¥å»å­¦å­¦åŸºç¡€ï¼Œå­¦å®Œå†å›æ¥çœ‹ã€‚åŠ æ²¹ğŸ’ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650262089,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":341169,"user_name":"CR","can_delete":false,"product_type":"c1","uid":2186767,"ip_address":"","ucode":"CE78F51366077F","user_header":"https://static001.geekbang.org/account/avatar/00/21/5e/0f/1a204ef7.jpg","comment_is_top":false,"comment_ctime":1649401667,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649401667","product_id":100085301,"comment_content":"cargo build --quiet &amp;&amp; target&#47;debug&#47;httpie post a=1 b=2<br>æƒ³è¯·æ•™ä¸‹postä¸ºå•¥æ˜¯å°å†™ï¼Ÿ","like_count":0},{"had_liked":false,"id":340742,"user_name":"ç¾¤ä¹¦","can_delete":false,"product_type":"c1","uid":1437036,"ip_address":"","ucode":"BA9EE71D2D818A","user_header":"https://static001.geekbang.org/account/avatar/00/15/ed/6c/6fb35017.jpg","comment_is_top":false,"comment_ctime":1649091398,"is_pvip":true,"replies":[{"id":"125094","content":"çœ‹åˆ°ç‰¹åˆ«è¯´æ˜äº†å—ï¼Ÿç”¨GitHubä¸Šçš„æœ€æ–°ä»£ç ï¼Œç»“åˆç•™è¨€åŒºçš„ç»éªŒå†è¯•è¯•ğŸ’ª","user_name":"ç¼–è¾‘å›å¤","user_name_real":"ç¼–è¾‘","uid":"2547771","ctime":1650262401,"ip_address":"","comment_id":340742,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1649091398","product_id":100085301,"comment_content":"CLIéƒ¨åˆ†çš„ä»£ç ï¼Œç¼–è¯‘ä¸è¿‡å•Š ï¼Œç›´æ¥å¤åˆ¶è€å¸ˆçš„ä»£ç ã€‚<br>unresolved import `clap::Clap`","like_count":0,"discussions":[{"author":{"id":2547771,"avatar":"https://static001.geekbang.org/account/avatar/00/26/e0/3b/8ec916b2.jpg","nickname":"å¤šå°‘","note":"","ucode":"0A6EF7AA6E4BB7","race_medal":0,"user_type":4,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":564508,"discussion_content":"çœ‹åˆ°ç‰¹åˆ«è¯´æ˜äº†å—ï¼Ÿç”¨GitHubä¸Šçš„æœ€æ–°ä»£ç ï¼Œç»“åˆç•™è¨€åŒºçš„ç»éªŒå†è¯•è¯•ğŸ’ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650262401,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":4}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":340294,"user_name":"Geek_7c6db9","can_delete":false,"product_type":"c1","uid":2955905,"ip_address":"","ucode":"02FE056416BEB1","user_header":"","comment_is_top":false,"comment_ctime":1648724258,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1648724258","product_id":100085301,"comment_content":"æ±‚æ›´æ–°ä¸€ç‰ˆ, ç…§ç€ä¾‹å­åšéš¾åº¦æœ‰ç‚¹å¤§äº†","like_count":0},{"had_liked":false,"id":337476,"user_name":"ç¬¨é¸Ÿå…ˆé£","can_delete":false,"product_type":"c1","uid":1258517,"ip_address":"","ucode":"BE2BE8D41D8111","user_header":"https://static001.geekbang.org/account/avatar/00/13/34/15/ec523036.jpg","comment_is_top":false,"comment_ctime":1646838737,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1646838737","product_id":100085301,"comment_content":"ç¬¬ä¸€æ®µä»£ç è¿è¡Œå°±å¤±è´¥äº†<br><br>cargo run -- post httpbin.org&#47;post a=1 b=2 --<br>   Compiling httpie v0.1.0 (&#47;Users&#47;sh00008ml&#47;rust-demo&#47;httppie)<br>error[E0432]: unresolved import `clap::Clap`<br> --&gt; src&#47;main.rs:2:25<br>  |<br>2 | use clap::{AppSettings, Clap};<br>  |                         ^^^^ no `Clap` in the root<br><br>error: cannot determine resolution for the derive macro `Clap`<br> --&gt; src&#47;main.rs:8:10<br>  |<br>8 | #[derive(Clap, Debug)]<br>  |          ^^^^<br>  |<br>  = note: import resolution is stuck, try simplifying macro imports<br><br>error: cannot find attribute `clap` in this scope<br> --&gt; src&#47;main.rs:9:3<br>  |<br>9 | #[clap(version = &quot;1.0&quot;, author = &quot;Tyr Chen &lt;tyr@chen.com&gt;&quot;)]<br>  |   ^^^^<br>  |<br>  = note: `clap` is in scope, but it is a crate, not an attribute<br><br>error: cannot find attribute `clap` in this scope<br>  --&gt; src&#47;main.rs:10:3<br>   |<br>10 | #[clap(setting = AppSettings::ColoredHelp)]<br>   |   ^^^^<br>   |<br>   = note: `clap` is in scope, but it is a crate, not an attribute<br><br>error: cannot find attribute `clap` in this scope<br>  --&gt; src&#47;main.rs:12:7<br>   |<br>12 |     #[clap(subcommand)]<br>   |       ^^^^<br>   |<br>   = note: `clap` is in scope, but it is a crate, not an attribute<br><br>error: cannot determine resolution for the derive macro `Clap`<br>  --&gt; src&#47;main.rs:17:10<br>   |<br>17 | #[derive(Clap, Debug)]<br>   |          ^^^^<br>   |<br>   = note: import resolution is stuck, try simplifying macro imports<br><br>error: cannot determine resolution for the derive macro `Clap`<br>  --&gt; src&#47;main.rs:27:10<br>   |<br>27 | #[derive(Clap, Debug)]<br>   |          ^^^^<br>   |<br>   = note: import resolution is stuck, try simplifying macro imports<br><br>error: cannot determine resolution for the derive macro `Clap`<br>  --&gt; src&#47;main.rs:37:10<br>   |<br>37 | #[derive(Clap, Debug)]<br>   |          ^^^^<br>   |<br>   = note: import resolution is stuck, try simplifying macro imports<br><br>warning: unused import: `AppSettings`<br> --&gt; src&#47;main.rs:2:12<br>  |<br>2 | use clap::{AppSettings, Clap};<br>  |            ^^^^^^^^^^^<br>  ","like_count":0,"discussions":[{"author":{"id":2853200,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/89/50/aee9fdab.jpg","nickname":"å°æ°","note":"","ucode":"BBDF8E9F348F65","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":575462,"discussion_content":"calpç‰ˆæœ¬çš„é—®é¢˜ï¼Œä½ æ¢ä¸€ä¸‹ã€‚è€å¸ˆæä¾›çš„ç‰ˆæœ¬ï¼Œç„¶åæ¢ä¸€ç§æ–¹å¼å†™ï¼Œåˆ«ç”¨clapæä¾›çš„parserï¼Œç›´æ¥ç”¨parserã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1654849859,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":334716,"user_name":"Poikilotherm","can_delete":false,"product_type":"c1","uid":2440370,"ip_address":"","ucode":"C9809ED39E5C43","user_header":"https://static001.geekbang.org/account/avatar/00/25/3c/b2/538c02a5.jpg","comment_is_top":false,"comment_ctime":1645088857,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1645088857","product_id":100085301,"comment_content":"è€å¸ˆè¯·é—®ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆæˆ‘è¿è¡Œcargo build --quiet &amp;&amp; target&#47;debug&#47;httpie post httpbin.org&#47;post a=1 b=2Opts { subcmd: Post(Post { url: &quot;httpbin.org&#47;post&quot;, body: [&quot;a=1&quot;, &quot;b=2&quot;] }) } è¿™ä¸ªä¼šç»™æˆ‘æç¤ºæˆ‘å¤šäº†ä¸ªæ‹¬å·å‘¢ï¼Œå¾ˆä¸è§£zsh: parse error near `}&#39;","like_count":0,"discussions":[{"author":{"id":2927617,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/wFFLMkicZicdsG0H4oETYokjdZvg9kzhbU31KGRDBNDc1cDZPa8tnOz0D9TNAibia4wLkLObnAGhvhksKsRibZnSKXA/132","nickname":"æœ‰åŸ","note":"","ucode":"BA2B4911E66EDB","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":554036,"discussion_content":"ä½ è¾“å…¥çš„å‘½ä»¤é”™äº†ï¼Œåªéœ€è¦è¾“å…¥cargo build --quiet &amp;&amp; target/debug/httpie post httpbin.org/post a=1 b=2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1646192186,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":332613,"user_name":"Microwood","can_delete":false,"product_type":"c1","uid":2086315,"ip_address":"","ucode":"B55201CCDB32A2","user_header":"https://static001.geekbang.org/account/avatar/00/1f/d5/ab/ee8f9a78.jpg","comment_is_top":false,"comment_ctime":1643369945,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1643369945","product_id":100085301,"comment_content":"#[clap(parse(try_from_str=parse_kv_pair))]<br>æ‰¾äº†åŠå¤©æºç ï¼Œä¹Ÿæ²¡æœ‰æ‰¾åˆ°clap å’Œ parseçš„å®šä¹‰åœ¨å“ªï¼Œæ±‚å¸®åŠ©","like_count":0,"discussions":[{"author":{"id":1926134,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/63/f6/225df928.jpg","nickname":"Alice","note":"","ucode":"6D8F901229B182","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550329,"discussion_content":"æ˜¯éœ€è¦çœ‹ parse å¦‚ä½•ä½¿ç”¨çš„å˜›ï¼Ÿè¿˜æ˜¯åœ¨ä»£ç å¼•ç”¨çš„ä½ç½®ï¼Ÿ \nClap Parser Trait çš„æ–‡æ¡£ï¼šhttps://docs.rs/clap/3.0.14/clap/trait.Parser.html","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644485521,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331710,"user_name":"zoomdong","can_delete":false,"product_type":"c1","uid":1460980,"ip_address":"","ucode":"AA0B8F945D9935","user_header":"https://static001.geekbang.org/account/avatar/00/16/4a/f4/513d26e8.jpg","comment_is_top":false,"comment_ctime":1642733316,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1642733316","product_id":100085301,"comment_content":"å¦‚æœæ˜¯ cargo build --release ä¹‹åè¦æŠŠ httpie æ·»åŠ åˆ° $PATH ä¸‹é¢å»ï¼Œåº”è¯¥æ€ä¹ˆæ ·æ“ä½œå‘¢ï¼Ÿ- - è¿™ä¸€æ­¥æœ‰ç‚¹æ²¡å¤ªç†è§£..","like_count":0,"discussions":[{"author":{"id":1926134,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/63/f6/225df928.jpg","nickname":"Alice","note":"","ucode":"6D8F901229B182","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550333,"discussion_content":"release æ¨¡å¼ä¸‹ build ç”Ÿæˆçš„å¯æ‰§è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶åœ¨ target/release ç›®å½•ä¸‹é¢ï¼Œå¦‚æœä½ æƒ³åœ¨ä½ çš„æœºå™¨ä¸Šå…¨å±€è¿è¡Œï¼Œå¯ä»¥æŠŠè¿™ä¸ªç›®å½•åŠ å…¥åˆ°ä½ çš„ç¯å¢ƒå˜é‡ï¼Œå¦‚ä½•å¢åŠ å¯ä»¥æœç´¢äº†è§£ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644486012,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":331490,"user_name":"å¤§èƒèŸ¹","can_delete":false,"product_type":"c1","uid":1341240,"ip_address":"","ucode":"E07E5AC3933435","user_header":"https://static001.geekbang.org/account/avatar/00/14/77/38/73c7902b.jpg","comment_is_top":false,"comment_ctime":1642600670,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1642600670","product_id":100085301,"comment_content":"ä½ å¥½ï¼Œæˆ‘æ˜¯æ–°æ‰‹ï¼Œæœ‰ä¸€ç‚¹æˆ‘ä¸€ç›´ä¸æ˜ç™½<br>ä¾‹å¦‚ä¸Šé¢ä»£ç mainå‡½æ•°å¤´é¡¶çš„#[tokio::main]æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œç±»ä¼¼çš„è¿˜æœ‰#[clap(subcommand)],æ”¾ä¸Šé¢æœ‰ä»€ä¹ˆç”¨<br>è¿™ç§è¯­æ³•æˆ‘ä»¬å¯ä»¥è‡ªå·±å®šä¹‰å‡ºæ¥ä¾›åˆ«äººä½¿ç”¨ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1926134,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/63/f6/225df928.jpg","nickname":"Alice","note":"","ucode":"6D8F901229B182","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550337,"discussion_content":"è¿™äº›éƒ½æ˜¯å®ï¼Œä¸ç†è§£ä¹Ÿä¸éœ€è¦ç€æ€¥ï¼Œåé¢ä¼šè®²è§£åˆ°ï¼Œå…ˆæŠŠä»£ç è·‘èµ·æ¥","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644486233,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330524,"user_name":"chyuwei","can_delete":false,"product_type":"c1","uid":1361377,"ip_address":"","ucode":"19687765E6DE5D","user_header":"","comment_is_top":false,"comment_ctime":1642013407,"is_pvip":false,"replies":[{"id":"120697","content":"è¯·å‚è€ƒ github ä¸Šçš„ä»£ç ï¼Œé‚£ä¸ªæ˜¯æœ€æ–°çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1642293376,"ip_address":"","comment_id":330524,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642013407","product_id":100085301,"comment_content":"clap3ç¨³å®šäº†ï¼Œéœ€è¦æ”¹ä¸€ä¸‹ä»£ç ï¼Œçœ‹ä¸€ä¸‹æ–‡æ¡£å³å¯","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546306,"discussion_content":"è¯·å‚è€ƒ github ä¸Šçš„ä»£ç ï¼Œé‚£ä¸ªæ˜¯æœ€æ–°çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642293376,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330287,"user_name":"Lets Start From Here","can_delete":false,"product_type":"c1","uid":2890011,"ip_address":"","ucode":"FB690D9AD4C152","user_header":"https://static001.geekbang.org/account/avatar/00/2c/19/1b/17068569.jpg","comment_is_top":false,"comment_ctime":1641893740,"is_pvip":false,"replies":[{"id":"120706","content":"æˆ‘è¯•äº†ä¸€ä¸‹ï¼Œå¹¶æ²¡æœ‰é”™è¯¯ã€‚ä¸è¿‡ examples ä¸‹çš„ä»£ç å¯ä»¥ä¸ç”¨åœ¨ cargo.toml é‡Œå£°æ˜ï¼Œä½ å¯ä»¥æŠŠä»–ä»¬éƒ½åˆ æ‰è¯•ä¸€ä¸‹ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1642297658,"ip_address":"","comment_id":330287,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1641893740","product_id":100085301,"comment_content":"ç”¨githubä¸Šçš„ä»£ç æ‰§è¡Œcargo buildåï¼Œæç¤ºå¦‚ä¸‹é”™è¯¯ï¼Œè¿™ä¸ªexampleå†™åœ¨tomlä¸‹çš„ä½œç”¨å¯ä»¥è§£é‡Šä¸€ä¸‹å—ï¼Ÿ<br>Caused by:<br>  can&#39;t find `cli` example, specify example.path<br>","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546322,"discussion_content":"æˆ‘è¯•äº†ä¸€ä¸‹ï¼Œå¹¶æ²¡æœ‰é”™è¯¯ã€‚ä¸è¿‡ examples ä¸‹çš„ä»£ç å¯ä»¥ä¸ç”¨åœ¨ cargo.toml é‡Œå£°æ˜ï¼Œä½ å¯ä»¥æŠŠä»–ä»¬éƒ½åˆ æ‰è¯•ä¸€ä¸‹ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642297658,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329849,"user_name":"è€å®äººHoney","can_delete":false,"product_type":"c1","uid":1080653,"ip_address":"","ucode":"EA4AB5C0C33090","user_header":"https://static001.geekbang.org/account/avatar/00/10/7d/4d/d98865b2.jpg","comment_is_top":false,"comment_ctime":1641583693,"is_pvip":true,"replies":[{"id":"120704","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1642293701,"ip_address":"","comment_id":329849,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1641583693","product_id":100085301,"comment_content":"clap = { version = &quot;3.0.4&quot;, features = [&quot;derive&quot;] } # å‘½ä»¤è¡Œè§£æ<br>syntect = &quot;4.6.0&quot;<br>è°ƒæ•´äº†è¿™ä¸¤ä¸ªä¾èµ–çš„ç‰ˆæœ¬ï¼Œä»£ç ç¨å¾®æœ‰è°ƒæ•´<br>#[derive(Parser, Debug)]<br>#[clap(about, version, author)]<br>struct Opts {<br>    #[clap(subcommand)]<br>    subcmd: SubCommand,<br>}<br>","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546313,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642293701,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":329676,"user_name":"ç„‰çŸ¥éé±¼","can_delete":false,"product_type":"c1","uid":1153932,"ip_address":"","ucode":"F32612733D3D4A","user_header":"https://static001.geekbang.org/account/avatar/00/11/9b/8c/a3ca2f3d.jpg","comment_is_top":false,"comment_ctime":1641465317,"is_pvip":false,"replies":[{"id":"120739","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1642307599,"ip_address":"","comment_id":329676,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1641465317","product_id":100085301,"comment_content":"åœ¨è¯„è®ºä¸­åˆå­¦åˆ°å¾ˆå¤šæ–°çŸ¥è¯†ã€‚","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546376,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642307599,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":326607,"user_name":"ğŸ¶æµ®ç”Ÿè‹¥æ¢¦ğŸµğŸ“¶","can_delete":false,"product_type":"c1","uid":2616895,"ip_address":"","ucode":"F9A957E26676BA","user_header":"https://static001.geekbang.org/account/avatar/00/27/ee/3f/b7d765d8.jpg","comment_is_top":false,"comment_ctime":1639580924,"is_pvip":false,"replies":[{"id":"118780","content":"å—¯ï¼Œä½ å¯ä»¥çœ‹ github ä¸Šçš„æ›´æ–°","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1639792549,"ip_address":"","comment_id":326607,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1639580924","product_id":100085301,"comment_content":"clap 3.0.0-rc.4 éœ€è¦æ‰‹åŠ¨æ‰“å¼€  derive feature:<br><br>```toml<br>[dependencies]<br>anyhow = &quot;1&quot;<br>clap = { version = &quot;3.0.0-rc.4&quot;, features = [&quot;derive&quot;] }<br>colored = &quot;2&quot;<br>jsonxf = &quot;1.1&quot; # JSON pretty print<br>mime = &quot;0.3&quot;<br>reqwest = { version = &quot;0.11&quot;, features = [&quot;json&quot;] }<br>tokio = { version = &quot;1&quot;, features = [&quot;full&quot;] }<br>syntect = &quot;4.6.0&quot;<br>```","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539631,"discussion_content":"å—¯ï¼Œä½ å¯ä»¥çœ‹ github ä¸Šçš„æ›´æ–°","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1639792549,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":325984,"user_name":"alexd","can_delete":false,"product_type":"c1","uid":2708009,"ip_address":"","ucode":"7815D35C4CFA0A","user_header":"https://static001.geekbang.org/account/avatar/00/29/52/29/51b5ca75.jpg","comment_is_top":false,"comment_ctime":1639294351,"is_pvip":false,"replies":[{"id":"118811","content":"çœ‹ github repo é‡Œçš„æ›´æ–°ï¼Œç°åœ¨æ˜¯ 3.0.0-rc.5ï¼Œç¦»æ­£å¼ release ä¸è¿œäº†ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1639804560,"ip_address":"","comment_id":325984,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1639294351","product_id":100085301,"comment_content":"ç”±äºåº“æ”¹åŠ¨æ¯”è¾ƒå¤§ï¼Œå¯èƒ½ç¼–è¯‘ä¸è¿‡å»äº†<br>1.clap::Clapå¼•ç”¨ä¸åˆ°äº†ï¼Œéœ€è¦ä½¿ç”¨ use clap::Parser;<br>2. é‡è¦çš„æ˜¯éœ€è¦å¼€å¯deriveç‰¹æ€§ clap = { version = &quot;3.0.0-beta.5&quot;, features = [&quot;derive&quot;] } ","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539684,"discussion_content":"çœ‹ github repo é‡Œçš„æ›´æ–°ï¼Œç°åœ¨æ˜¯ 3.0.0-rc.5ï¼Œç¦»æ­£å¼ release ä¸è¿œäº†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639804560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324783,"user_name":"ä»»ä¼Ÿ","can_delete":false,"product_type":"c1","uid":1138060,"ip_address":"","ucode":"2F1CDEC69B3D8F","user_header":"https://static001.geekbang.org/account/avatar/00/11/5d/8c/767f9aa8.jpg","comment_is_top":false,"comment_ctime":1638623067,"is_pvip":false,"replies":[{"id":"118862","content":"ğŸ‘","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1639848615,"ip_address":"","comment_id":324783,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638623067","product_id":100085301,"comment_content":"è¯„è®ºå’Œæ­£æ–‡ç²¾å½©ç¨‹åº¦ä¸ç›¸ä¸Šä¸‹ï¼","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539822,"discussion_content":"ğŸ‘","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639848615,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324665,"user_name":"xiong","can_delete":false,"product_type":"c1","uid":1099375,"ip_address":"","ucode":"C1BFD9EF96372F","user_header":"https://static001.geekbang.org/account/avatar/00/10/c6/6f/ac3003fa.jpg","comment_is_top":false,"comment_ctime":1638531903,"is_pvip":false,"replies":[{"id":"118863","content":"å’Œç‰ˆæœ¬æ— å…³ï¼Œå’Œä¾èµ–æœ‰å…³ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1639848653,"ip_address":"","comment_id":324665,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638531903","product_id":100085301,"comment_content":"æƒ³é—®ä¸‹ç‰ˆæœ¬å…¼å®¹æ€§è¿™ä¹ˆå·®å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539823,"discussion_content":"å’Œç‰ˆæœ¬æ— å…³ï¼Œå’Œä¾èµ–æœ‰å…³ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639848653,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323683,"user_name":"äºé£","can_delete":false,"product_type":"c1","uid":2856095,"ip_address":"","ucode":"F3423D6FF9FCCA","user_header":"https://static001.geekbang.org/account/avatar/00/2b/94/9f/8d433d7c.jpg","comment_is_top":false,"comment_ctime":1638093567,"is_pvip":false,"replies":[{"id":"118885","content":"å¯¹","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1639850214,"ip_address":"","comment_id":323683,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638093567","product_id":100085301,"comment_content":"å®ç° FromStr ä¹‹åï¼Œparse_kv_pair ä¼¼ä¹å°±æ²¡å¿…è¦äº†å‘€ã€‚","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539846,"discussion_content":"å¯¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639850214,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":321401,"user_name":"Arthur","can_delete":false,"product_type":"c1","uid":1334905,"ip_address":"","ucode":"A66B904766C443","user_header":"https://static001.geekbang.org/account/avatar/00/14/5e/79/0b56b7bd.jpg","comment_is_top":false,"comment_ctime":1636854001,"is_pvip":false,"replies":[{"id":"118926","content":"ä½ ç¡®å®šå°è¯•äº†æˆ‘ github repo ä¸Šçš„ä»£ç ï¼Ÿè¿™ä¸ªä»£ç åœ¨ CI ä¸Šç¼–è¯‘é€šè¿‡çš„","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":"1079375","ctime":1639853419,"ip_address":"","comment_id":321401,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636854001","product_id":100085301,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼š<br>       å…³äºclapåº“çš„é—®é¢˜ï¼Œä½¿ç”¨çš„æ˜¯3.0.0-beta.5çš„ç‰ˆæœ¬ã€‚æˆ‘å‚è€ƒäº†ç•™è¨€ï¼Œå¯¹clapåšäº†ä¿®æ”¹ï¼Œæˆ‘çš„ä»£ç æ˜¯ï¼š #[clap(setting = AppSettings::HelpRequired)]ï¼Œ ä½†æ˜¯ç¼–è¯‘çš„æ—¶å€™ä¾ç„¶æŠ¥è¿™ä¸ªé”™ï¼š  #![doc = include_str!(&quot;..&#47;README.md&quot;)]ã€‚ ä¹Ÿå°è¯•äº†ç”¨æ‚¨gitä¸Šçš„æœ€æ–°ä»£ç è·‘ä¸€è¾¹ï¼Œä¾ç„¶ç¼–è¯‘ä¸è¿‡ã€‚<br>        æˆ‘çš„cargoç‰ˆæœ¬æ˜¯ï¼š cargo 1.53.0 (4369396ce 2021-04-27)<br><br>        è¯·é—®ä¸€ä¸‹è¿™ä¸ªæ˜¯ä»€ä¹ˆåŸå› å‘¢ã€‚","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":539887,"discussion_content":"ä½ ç¡®å®šå°è¯•äº†æˆ‘ github repo ä¸Šçš„ä»£ç ï¼Ÿè¿™ä¸ªä»£ç åœ¨ CI ä¸Šç¼–è¯‘é€šè¿‡çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639853419,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320972,"user_name":"zhuzq229","can_delete":false,"product_type":"c1","uid":2540617,"ip_address":"","ucode":"8ED87B74DEFAB2","user_header":"https://static001.geekbang.org/account/avatar/00/26/c4/49/c3d67b3b.jpg","comment_is_top":false,"comment_ctime":1636601356,"is_pvip":false,"replies":[{"id":"116570","content":"Rust æœ‰éå¸¸å¤šè®¾è®¡è‰¯å¥½çš„ä¼˜ç§€çš„ crateã€‚è¿™å ‚è¯¾åé¢æœ‰ä¸€è®²ä»‹ç» Rust çš„ç”Ÿæ€ç³»ç»Ÿï¼Œä½ å¯ä»¥çœ‹çœ‹ã€‚å»ºè®®åœ¨ github ä¸Šçœ‹åˆ°ä¸é”™çš„çš„ Rust åº”ç”¨æˆ–è€…åº“çš„æ—¶å€™ï¼Œå¯ä»¥çœ‹çœ‹å®ƒä»¬çš„ cargo.tomlï¼Œäº†è§£ä¸€ä¸‹éƒ½ç”¨äº†å“ªäº›ä¾èµ–ï¼Œè¿›ä¸€æ­¥å†äº†è§£ä¸€äº›è¿™äº›ä¾èµ–æ˜¯å¹²ä»€ä¹ˆçš„ã€‚è¿™æ ·å¯ä»¥å¾ˆå¿«å¯¹å¤§å®¶éƒ½å¸¸ç”¨çš„ crates æœ‰ä¸€ä¸ªæ„Ÿè§‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1636641369,"ip_address":"","comment_id":320972,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636601356","product_id":100085301,"comment_content":"ä¸ä½†åªç”¨å‡ ä¸ªåº“å°±å†™å‡ºå¦‚æ­¤ç®€æ´å¼ºå¤§çš„ä»£ç ï¼Œä»£ç ä¹‹ç¾è§‚ã€ç»“æ„ä¹‹æ¸…æ™°æ›´è®©äººçœ‹äº†å¤´çš®å‘éº»ï¼Œå‘½ä»¤è§£æã€é”™è¯¯å¤„ç†ã€ä»£ç è§£è€¦ä¸€åˆ‡éƒ½æ˜¯æ°åˆ°å¥½å¤„ï¼Œå¯è°“ç°ä»£è½¯ä»¶å·¥ç¨‹çš„é›†å¤§æˆè€…ï¼Œä¸ªäººè®¤ä¸ºRustç»Ÿæ²»ç¼–ç¨‹è¯­è¨€ç‹åº§åªæ˜¯æ—¶é—´é—®é¢˜äº†ã€‚ã€‚ã€‚<br><br>åˆšå¼€å§‹å­¦ä¹ Rustï¼Œè¯·é—®å¤©å“¥ï¼ŒRustçš„crateséƒ½åƒclapã€anyhowè¿™æ ·ä¼˜ç§€å—ï¼Ÿæ—¥å¸¸å¼€å‘æ—¶å¦‚ä½•ä»ä¼—å¤šçš„crateä¸­æŒ‘é€‰æœ€åˆé€‚çš„crateå‘¢ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530174,"discussion_content":"Rust æœ‰éå¸¸å¤šè®¾è®¡è‰¯å¥½çš„ä¼˜ç§€çš„ crateã€‚è¿™å ‚è¯¾åé¢æœ‰ä¸€è®²ä»‹ç» Rust çš„ç”Ÿæ€ç³»ç»Ÿï¼Œä½ å¯ä»¥çœ‹çœ‹ã€‚å»ºè®®åœ¨ github ä¸Šçœ‹åˆ°ä¸é”™çš„çš„ Rust åº”ç”¨æˆ–è€…åº“çš„æ—¶å€™ï¼Œå¯ä»¥çœ‹çœ‹å®ƒä»¬çš„ cargo.tomlï¼Œäº†è§£ä¸€ä¸‹éƒ½ç”¨äº†å“ªäº›ä¾èµ–ï¼Œè¿›ä¸€æ­¥å†äº†è§£ä¸€äº›è¿™äº›ä¾èµ–æ˜¯å¹²ä»€ä¹ˆçš„ã€‚è¿™æ ·å¯ä»¥å¾ˆå¿«å¯¹å¤§å®¶éƒ½å¸¸ç”¨çš„ crates æœ‰ä¸€ä¸ªæ„Ÿè§‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636641369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320561,"user_name":"å¤©å´","can_delete":false,"product_type":"c1","uid":2103870,"ip_address":"","ucode":"5BB89CF4DBD079","user_header":"https://static001.geekbang.org/account/avatar/00/20/1a/3e/1b215b07.jpg","comment_is_top":false,"comment_ctime":1636379923,"is_pvip":false,"replies":[{"id":"116306","content":"å¯¹ï¼Œä»¥ github repo ä¸­çš„ä»£ç ä¸ºå‡†","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1636478726,"ip_address":"","comment_id":320561,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636379923","product_id":100085301,"comment_content":"clap å‡çº§beta-5ç‰ˆæœ¬åä¿®æ”¹äº†å¾ˆå¤šapi","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530048,"discussion_content":"å¯¹ï¼Œä»¥ github repo ä¸­çš„ä»£ç ä¸ºå‡†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636478726,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319725,"user_name":"Geek_4df987","can_delete":false,"product_type":"c1","uid":2809254,"ip_address":"","ucode":"E47161161027E8","user_header":"","comment_is_top":false,"comment_ctime":1635923707,"is_pvip":false,"replies":[{"id":"116377","content":"è¯·å‚è€ƒ github ä¸Šçš„ä»£ç ï¼šhttps:&#47;&#47;github.com&#47;tyrchen&#47;geektime-rust&#47;tree&#47;master&#47;04_httpieã€‚vscode ä¸­ cargo.toml ä¸­çš„æç¤ºåªæ˜¯æç¤ºä½ æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬ã€‚è¿™é‡Œæˆ‘ä»¬ç”¨äº† beta ç‰ˆæœ¬ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1636555639,"ip_address":"","comment_id":319725,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635923707","product_id":100085301,"comment_content":"clapæœ€æ–°ç‰ˆæœ¬æ˜¯2.33.3<br>clap = &quot;3.0.0-beta.4&quot; # å‘½ä»¤è¡Œè§£æ<br>è¿™ä¸ªä¾èµ–æ— æ³•ä¸‹è½½","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529741,"discussion_content":"è¯·å‚è€ƒ github ä¸Šçš„ä»£ç ï¼šhttps://github.com/tyrchen/geektime-rust/tree/master/04_httpieã€‚vscode ä¸­ cargo.toml ä¸­çš„æç¤ºåªæ˜¯æç¤ºä½ æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬ã€‚è¿™é‡Œæˆ‘ä»¬ç”¨äº† beta ç‰ˆæœ¬ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636555639,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":315777,"user_name":"å°æ ·","can_delete":false,"product_type":"c1","uid":1075443,"ip_address":"","ucode":"0D05E1D31150F1","user_header":"https://static001.geekbang.org/account/avatar/00/10/68/f3/22481a37.jpg","comment_is_top":false,"comment_ctime":1633996239,"is_pvip":true,"replies":[{"id":"115289","content":"å—¯ï¼Œå¯ä»¥çš„","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1635132857,"ip_address":"","comment_id":315777,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1633996239","product_id":100085301,"comment_content":"æˆ‘ä»¬å®Œå…¨å¯ä»¥ä½¿ç”¨`--`éš”å¼€åæ¥å‚æ•°çš„å½¢å¼æ¥ä½¿ç”¨cargo runç»™è¿è¡Œç¨‹åºä¼ é€’å‚æ•°ã€‚<br>æ¯”å¦‚ï¼š<br>cargo run -- post a=1 b=2","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":528164,"discussion_content":"å—¯ï¼Œå¯ä»¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635132857,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":314964,"user_name":"æŠ€å·…","can_delete":false,"product_type":"c1","uid":2290370,"ip_address":"","ucode":"56A5F002885975","user_header":"https://static001.geekbang.org/account/avatar/00/22/f2/c2/51e2c22f.jpg","comment_is_top":false,"comment_ctime":1633614655,"is_pvip":false,"replies":[{"id":"114165","content":"è¯·æŠŠä½ çš„ rust å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1633813156,"ip_address":"","comment_id":314964,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1633614655","product_id":100085301,"comment_content":"error: unexpected token: `include_str`<br> --&gt; &#47;Users&#47;wuyouqiang&#47;.cargo&#47;registry&#47;src&#47;github.com-1ecc6299db9ec823&#47;clap-3.0.0-beta.4&#47;src&#47;lib.rs:8:10<br>  |<br>8 | #![doc = include_str!(&quot;..&#47;README.md&quot;)]<br>  |          ^^^^^^^^^^^<br><br>error: aborting due to previous error<br><br>error: could not compile `clap`.","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527841,"discussion_content":"è¯·æŠŠä½ çš„ rust å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1633813156,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":313609,"user_name":"xqz","can_delete":false,"product_type":"c1","uid":1736517,"ip_address":"","ucode":"51BF7C3113EB75","user_header":"https://static001.geekbang.org/account/avatar/00/1a/7f/45/f7e99824.jpg","comment_is_top":false,"comment_ctime":1632556005,"is_pvip":false,"replies":[{"id":"113747","content":"çœ‹ä¸Šå»è·Ÿä½ çš„ gcc æœ‰å…³ç³»ï¼Œè¿™ä¸ªå›ç­”è™½ç„¶ä¸ç›´æ¥ç›¸å…³ï¼Œä½†å®ƒä¹Ÿæ˜¯åœ¨ windows  ä¸‹è¯•å›¾ç¼–è¯‘C ä»£ç å‡ºé”™ï¼šhttps:&#47;&#47;stackoverflow.com&#47;questions&#47;39863157&#47;cgo-sorry-unimplemented-64-bit-mode-not-compiled-in","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1632798970,"ip_address":"","comment_id":313609,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1632556005","product_id":100085301,"comment_content":"è¯·é—®ä¸€ä¸‹å¤§å®¶ï¼Œåœ¨ Windows å¹³å°ï¼Œæœ‰é‡åˆ° syntect å®‰è£…å‡ºé”™é—®é¢˜å—ï¼Ÿ<br><br>```powershell<br>PS G:\\Workspace\\rust\\httpie&gt; cargo run <br>   Compiling onig_sys v69.7.0<br>The following warnings were emitted during compilation:<br><br>warning: cc1.exe: sorry, unimplemented: 64-bit mode not compiled in<br><br>error: failed to run custom build command for `onig_sys v69.7.0`<br><br>Caused by:<br>  process didn&#39;t exit successfully: `G:\\Workspace\\rust\\httpie\\target\\debug\\build\\onig_sys-71fae3c26d4b45db\\build-script-build` (exit code: 1)<br>  --- stdout<br>  TARGET = Some(&quot;x86_64-pc-windows-gnu&quot;)<br>  OPT_LEVEL = Some(&quot;0&quot;)<br>  HOST = Some(&quot;x86_64-pc-windows-gnu&quot;)<br>  CC_x86_64-pc-windows-gnu = None<br>  CC_x86_64_pc_windows_gnu = None<br>  HOST_CC = None<br>  CC = None<br>  CFLAGS_x86_64-pc-windows-gnu = None<br>  CFLAGS_x86_64_pc_windows_gnu = None<br>  HOST_CFLAGS = None<br>  CFLAGS = None<br>  CRATE_CC_NO_DEFAULTS = None<br>  DEBUG = Some(&quot;true&quot;)<br>  CARGO_CFG_TARGET_FEATURE = Some(&quot;fxsr,sse,sse2&quot;)<br>  running: &quot;gcc.exe&quot; &quot;-O0&quot; &quot;-ffunction-sections&quot; &quot;-fdata-sections&quot; &quot;-g&quot; &quot;-fno-omit-frame-pointer&quot; &quot;-m64&quot; &quot;-I&quot; &quot;G:\\\\Workspace\\\\rust\\\\httpie\\\\target\\\\debug\\\\build\\\\onig_sys-59a5b9fafbb634fe\\\\out&quot; &quot;-I&quot; &quot;oniguruma\\\\src&quot; &quot;-o&quot; &quot;G:\\\\Workspace\\\\rust\\\\httpie\\\\target\\\\debug\\\\build\\\\onig_sys-59a5b9fafbb634fe\\\\out\\\\oniguruma\\\\src\\\\regexec.o&quot; &quot;-c&quot; &quot;oniguruma\\\\src\\\\regexec.c&quot;<br>  cargo:warning=cc1.exe: sorry, unimplemented: 64-bit mode not compiled in<br>  exit code: 1<br><br>  --- stderr<br><br><br>  error occurred: Command &quot;gcc.exe&quot; &quot;-O0&quot; &quot;-ffunction-sections&quot; &quot;-fdata-sections&quot; &quot;-g&quot; &quot;-fno-omit-frame-pointer&quot; &quot;-m64&quot; &quot;-I&quot; &quot;G:\\\\Workspace\\\\rust\\\\httpie\\\\target\\\\debug\\\\build\\\\onig_sys-59a5b9fafbb634fe\\\\out&quot; &quot;-I&quot; &quot;oniguruma\\\\src&quot; &quot;-o&quot; &quot;G:\\\\Workspace\\\\rust\\\\httpie\\\\target\\\\debug\\\\build\\\\onig_sys-59a5b9fafbb634fe\\\\out\\\\oniguruma\\\\src\\\\regexec.o&quot; &quot;-c&quot; &quot;oniguruma\\\\src\\\\regexec.c&quot; with args &quot;gcc.exe&quot; did not execute successfully (status code exit <br>code: 1).<br><br>```","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527408,"discussion_content":"çœ‹ä¸Šå»è·Ÿä½ çš„ gcc æœ‰å…³ç³»ï¼Œè¿™ä¸ªå›ç­”è™½ç„¶ä¸ç›´æ¥ç›¸å…³ï¼Œä½†å®ƒä¹Ÿæ˜¯åœ¨ windows  ä¸‹è¯•å›¾ç¼–è¯‘C ä»£ç å‡ºé”™ï¼šhttps://stackoverflow.com/questions/39863157/cgo-sorry-unimplemented-64-bit-mode-not-compiled-in","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632798970,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1080653,"avatar":"https://static001.geekbang.org/account/avatar/00/10/7d/4d/d98865b2.jpg","nickname":"è€å®äººHoney","note":"","ucode":"EA4AB5C0C33090","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544597,"discussion_content":"è¿™ä¸ªé—®é¢˜æˆ‘è§£å†³ï¼›\nä½¿ç”¨scoop install mingwï¼Œè¿™ä¸€æ­¥å®‰è£…mingwï¼Œç„¶åscoopä¼šè‡ªåŠ¨é…ç½®å¥½PATH\nç„¶åæ–°å¼€ä¸€ä¸ªç»ˆç«¯å°±å¯ä»¥æ‰§è¡Œcargo runäº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641583115,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1886468,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJjzOFKRWQ1iagtXTAYsPUfdtbPKnYnwXc3ahSjLJrxXib4bq76Z9r39aRa4eMib59YR9ibicI2IRP1fnw/132","nickname":"Geek_1240ce","note":"","ucode":"29ECE58F80A793","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":410679,"discussion_content":"åœ¨ Windows ä¸­æœ€å¥½ä¸è¦ä½¿ç”¨ x86_64-pc-windows-gnuï¼Œæ¨èä½¿ç”¨ x86_64-pc-windows-msvcã€‚åœ¨ x86_64-pc-windows-msvc ä¸­ç¼–è¯‘é€šè¿‡","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635756761,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312872,"user_name":"qgaye","can_delete":false,"product_type":"c1","uid":1702112,"ip_address":"","ucode":"E817609D4ED2D6","user_header":"https://static001.geekbang.org/account/avatar/00/19/f8/e0/d6e3cc8f.jpg","comment_is_top":false,"comment_ctime":1632071356,"is_pvip":false,"replies":[{"id":"113369","content":"æˆ‘æ²¡ç”¨è¿‡ Clionã€‚ä¸è¿‡æ’ä»¶å¯¹å®çš„æ”¯æŒçš„ç¡®éå¸¸æœ‰é™ã€‚æ¯”å¦‚ä½ ç”¨ tokio çš„ select! å®æ—¶ï¼Œå†…éƒ¨çš„ä»£ç éƒ½æ— æ³•å¾ˆå¥½åœ°è¿›è¡Œæç¤ºï¼Œä¹Ÿæ— æ³•è‡ªåŠ¨è¡¥å…¨ï¼š<br><br>```rust<br>#[tokio::main]<br>async fn main() {<br>    tokio::select! {<br>        _ = do_stuff_async() =&gt; {<br>            println!(&quot;do_stuff_async() completed first&quot;)<br>        }<br>        _ = more_async_work() =&gt; {<br>            println!(&quot;more_async_work() completed first&quot;)<br>        }<br>    };<br>}<br>```","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1632154412,"ip_address":"","comment_id":312872,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632071356","product_id":100085301,"comment_content":"ä¸ºä»€ä¹ˆç”¨CLion + Rustæ’ä»¶ï¼Œä½†clapç›¸å…³çš„å®éƒ½æ— æ³•æ™ºèƒ½æç¤ºå‘¢ï¼Œè¿use clapéƒ½å¾—æ‰‹åŠ¨å¯¼å…¥ï¼Œè¯·æ•™è€å¸ˆè¿™æ˜¯IDEçš„é—®é¢˜è¿˜æ˜¯å®ç¡®å®æ— æ³•åªèƒ½æç¤ºå‘¢","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527141,"discussion_content":"æˆ‘æ²¡ç”¨è¿‡ Clionã€‚ä¸è¿‡æ’ä»¶å¯¹å®çš„æ”¯æŒçš„ç¡®éå¸¸æœ‰é™ã€‚æ¯”å¦‚ä½ ç”¨ tokio çš„ select! å®æ—¶ï¼Œå†…éƒ¨çš„ä»£ç éƒ½æ— æ³•å¾ˆå¥½åœ°è¿›è¡Œæç¤ºï¼Œä¹Ÿæ— æ³•è‡ªåŠ¨è¡¥å…¨ï¼š\n\n```rust\n#[tokio::main]\nasync fn main() {\n    tokio::select! {\n        _ = do_stuff_async() =&amp;gt; {\n            println!(&amp;quot;do_stuff_async() completed first&amp;quot;)\n        }\n        _ = more_async_work() =&amp;gt; {\n            println!(&amp;quot;more_async_work() completed first&amp;quot;)\n        }\n    };\n}\n```","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632154412,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311829,"user_name":"æ½˜å£®","can_delete":false,"product_type":"c1","uid":1588825,"ip_address":"","ucode":"A441B08369F5AB","user_header":"https://static001.geekbang.org/account/avatar/00/18/3e/59/f362ac48.jpg","comment_is_top":false,"comment_ctime":1631496371,"is_pvip":false,"replies":[{"id":"112985","content":"å› ä¸ºåç»­æˆ‘å¹¶ä¸éœ€è¦å†ä½¿ç”¨ resp äº†ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥å°†å…¶ä½¿ç”¨æ‰ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1631514483,"ip_address":"","comment_id":311829,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1631496371","product_id":100085301,"comment_content":"async fn print_resp(resp: Response) -&gt; Result&lt;()&gt; {<br>    print_status(&amp;resp);<br>    print_headers(&amp;resp);<br>    let mime = get_content_type(&amp;resp);<br>    let body = resp.text().await?;<br>    print_body(mime, &amp;body);<br>    Ok(())<br>}<br><br>è¿™ä¸ªå‡½æ•°è¿™é‡ŒResponseç›´æ¥æŠŠæ‰€æœ‰æƒä¼ åˆ°äº†å‡½æ•°é‡Œé¢ï¼Œæ²¡æœ‰ä¼ å¼•ç”¨çš„åŸå› æ˜¯ä»€ä¹ˆ","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526761,"discussion_content":"å› ä¸ºåç»­æˆ‘å¹¶ä¸éœ€è¦å†ä½¿ç”¨ resp äº†ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥å°†å…¶ä½¿ç”¨æ‰ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631514483,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1089000,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9d/e8/39433235.jpg","nickname":"Christian","note":"","ucode":"D84F866015BA07","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":394923,"discussion_content":"å› ä¸ºï¼Œresp.text() æ–¹æ³•éœ€è¦æ¥æ”¶ response çš„æ‰€æœ‰æƒç‰ˆæœ¬ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632129666,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1759641,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLruKArGrtM9L3qOlgTvzbk1uleqDqTPWyZhO2ClKPy5SlEeb28ojWVzAHuwuVSh3PsnhunsbibpjQ/132","nickname":"LeoYoung","note":"","ucode":"ADAC8B02A85EE3","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":393789,"discussion_content":"æ”¹æˆä¼ å¼•ç”¨ï¼Œ`let body = resp.text().await?;` è¿™é‡Œä¼šæŠ¥ `cannot move out of `*resp` which is behind a shared reference`ï¼Œæœ‰ç‚¹å¥‡æ€ª","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631601413,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311197,"user_name":"æœå¦‚é’ä¸æš®æˆé›ª","can_delete":false,"product_type":"c1","uid":1164201,"ip_address":"","ucode":"95C98ECFBC1662","user_header":"https://static001.geekbang.org/account/avatar/00/11/c3/a9/aa5a5d8b.jpg","comment_is_top":false,"comment_ctime":1631099928,"is_pvip":false,"replies":[{"id":"112794","content":"ä½ çœ‹çœ‹æˆ‘ github ä¸Šçš„ä»£ç ï¼Œç¡®ä¿ä½ çš„ Cargo.toml å¼•ç”¨äº†æ­£ç¡®çš„ clap ç‰ˆæœ¬ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1631151025,"ip_address":"","comment_id":311197,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631099928","product_id":100085301,"comment_content":"rustç‰ˆæœ¬1.53 æˆ–è€…1.54 éƒ½ä¼šæŠ¥è¿™ä¸ªé”™ï¼š<br>error[E0432]: unresolved import `clap::Clap`<br> --&gt; src&#47;main.rs:2:25<br>  |<br>2 | use clap::{AppSettings, Clap};<br>  |                         ^^^^ no `Clap` in the root<br><br>å°è¯•è§£å†³æ–¹æ³•ï¼š<br>https:&#47;&#47;stackoverflow.com&#47;questions&#47;60319273&#47;how-to-resolve-unresolved-import-in-rust-when-using-vs-code<br>https:&#47;&#47;github.com&#47;rust-analyzer&#47;rust-analyzer&#47;issues&#47;6053<br><br>éƒ½æ²¡æœ‰è§£å†³ï¼Œå®åœ¨æ²¡åŠæ³•äº†ğŸ¤·â€â™€ï¸","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526518,"discussion_content":"ä½ çœ‹çœ‹æˆ‘ github ä¸Šçš„ä»£ç ï¼Œç¡®ä¿ä½ çš„ Cargo.toml å¼•ç”¨äº†æ­£ç¡®çš„ clap ç‰ˆæœ¬ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631151025,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310631,"user_name":"alexd","can_delete":false,"product_type":"c1","uid":2708009,"ip_address":"","ucode":"7815D35C4CFA0A","user_header":"https://static001.geekbang.org/account/avatar/00/29/52/29/51b5ca75.jpg","comment_is_top":false,"comment_ctime":1630811267,"is_pvip":false,"replies":[{"id":"112557","content":"golang å¯¹ err åšæ¡ä»¶åˆ¤æ–­ä¹Ÿä¸ç®€æ´å•Š","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630860765,"ip_address":"","comment_id":310631,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1630811267","product_id":100085301,"comment_content":"è¿˜æ˜¯golangç®€æ´ï¼Œrustå„ç§unwrapï¼Œé—®å·","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526295,"discussion_content":"golang å¯¹ err åšæ¡ä»¶åˆ¤æ–­ä¹Ÿä¸ç®€æ´å•Š","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630860765,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2738637,"avatar":"https://static001.geekbang.org/account/avatar/00/29/c9/cd/4ce2f5fb.jpg","nickname":"lin","note":"","ucode":"42FB7B3FB8EE3D","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540314,"discussion_content":"æ„Ÿè§‰ä½ è¿™é—®çš„å‹æ ¹ä¸çŸ¥é“unwrapçš„æ„ä¹‰å•Šã€‚Rustä¸­å„ç§Wrapper(æ— è®ºæ˜¯enumè¿˜æ˜¯smart pointer)çš„å¼•å…¥ï¼Œéƒ½æ˜¯ä¸ºäº†ä»type systemè§’åº¦å‡ºå‘ä¿è¯ç¨‹åºçš„æ­£ç¡®æ€§ï¼Œä¾‹å¦‚Optionè§£å†³äº†goçš„nil runtime error, Rc/RefCell/Arcç­‰è§£å†³äº†data race","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640014213,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310175,"user_name":"Chloroplast","can_delete":false,"product_type":"c1","uid":2156365,"ip_address":"","ucode":"4193D54349255D","user_header":"https://static001.geekbang.org/account/avatar/00/20/e7/4d/07d7c828.jpg","comment_is_top":false,"comment_ctime":1630513060,"is_pvip":false,"replies":[{"id":"112425","content":"æ²¡è§è¿‡è¿™ä¸ªé”™è¯¯ã€‚ä½ mac ä¸Šè£… build-tools å’Œ xcode äº†ä¹ˆï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630594713,"ip_address":"","comment_id":310175,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630513060","product_id":100085301,"comment_content":"macç³»ç»Ÿç¼–è¯‘æ—¶å‡ºç°é”™è¯¯ï¼š<br>error: linking with `cc` failed: exit status: 1<br><br>æŸ¥æ‰¾èµ„æ–™ååœ¨ ~&#47;.cargo&#47;config æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç å¯ä»¥è§£å†³é—®é¢˜ï¼š<br>[target.x86_64-apple-darwin]<br>rustflags = [<br>  &quot;-C&quot;, &quot;link-arg=-undefined&quot;,<br>  &quot;-C&quot;, &quot;link-arg=dynamic_lookup&quot;,<br>]<br><br>[target.aarch64-apple-darwin]<br>rustflags = [<br>  &quot;-C&quot;, &quot;link-arg=-undefined&quot;,<br>  &quot;-C&quot;, &quot;link-arg=dynamic_lookup&quot;,<br>]","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526153,"discussion_content":"æ²¡è§è¿‡è¿™ä¸ªé”™è¯¯ã€‚ä½ mac ä¸Šè£… build-tools å’Œ xcode äº†ä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630594713,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310111,"user_name":"thomas-fan","can_delete":false,"product_type":"c1","uid":1258997,"ip_address":"","ucode":"CCFB55E1CC0C26","user_header":"https://static001.geekbang.org/account/avatar/00/13/35/f5/5283d5a2.jpg","comment_is_top":false,"comment_ctime":1630488431,"is_pvip":true,"replies":[{"id":"112364","content":"è¿™æ˜¯ä¸¤è¡Œï¼Œå‘½ä»¤æ˜¯ï¼š<br><br>cargo build --quiet &amp;&amp; target&#47;debug&#47;httpie post a=1 b=2<br><br>ä¸è¿‡åŸæ–‡ä¸­å°‘åŠ äº†ä¸ª urlï¼Œåº”è¯¥æ˜¯ï¼š<br>cargo build --quiet &amp;&amp; target&#47;debug&#47;httpie post httpbin.org&#47;post a=1 b=2","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630506349,"ip_address":"","comment_id":310111,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1630488431","product_id":100085301,"comment_content":"zsh å‘½ä»¤è¡Œä¸‹, èŠ±æ‹¬å·è¦è½¬ä¹‰,ä¸ç„¶ä¼šæŠ¥è§£æé”™è¯¯çš„é”™.<br>cargo build --quiet &amp;&amp; target&#47;debug&#47;httpie post a=1 b=2 Opts \\{ subcmd: Post(Post \\{ url: &quot;httpbin.org&#47;post&quot;, body: [&quot;a=1&quot;, &quot;b=2&quot;] \\})\\}<br>åŠ ä¸Šè½¬ä¹‰å°±å¯ä»¥äº†","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526129,"discussion_content":"è¿™æ˜¯ä¸¤è¡Œï¼Œå‘½ä»¤æ˜¯ï¼š\n\ncargo build --quiet &amp;amp;&amp;amp; target/debug/httpie post a=1 b=2\n\nä¸è¿‡åŸæ–‡ä¸­å°‘åŠ äº†ä¸ª urlï¼Œåº”è¯¥æ˜¯ï¼š\ncargo build --quiet &amp;amp;&amp;amp; target/debug/httpie post httpbin.org/post a=1 b=2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630506349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1176417,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f3/61/8f7fca5b.jpg","nickname":"èŠ¥æœ«å°é¾™","note":"","ucode":"387D01880867AC","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391856,"discussion_content":"æˆ‘å°±çŒœåˆ°æœ‰äººè·Ÿæˆ‘ä¸€æ ·æŠŠå‘½ä»¤å’Œç»“æœéƒ½copyäº†ï¼ï¼ï¼","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1630660532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310097,"user_name":"é±¼é¾™å¸…","can_delete":false,"product_type":"c1","uid":1022367,"ip_address":"","ucode":"4BC94037750AF2","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKBM3Q8ibgwVibREUulIsuRymSqLWQqexMSCOx9aYngDlra5swsvc9IgUkIwibvMX0IerWSwKFcuSzuw/132","comment_is_top":false,"comment_ctime":1630484270,"is_pvip":false,"replies":[{"id":"112361","content":"ring åŠ å¯†åº“åŒ…å«äº† C ä»£ç ï¼Œæ‰€ä»¥ä½  Linux ä¸Šéœ€è¦æœ‰èƒ½ç¼–è¯‘ C çš„å·¥å…·é“¾ã€‚<br><br>ä½ å¯ä»¥çœ‹çœ‹å…·ä½“çš„è¾“å‡ºï¼Œçœ‹å®ƒæ‰¾ä¸åˆ°ä»€ä¹ˆ build commandï¼Œæ¯”å¦‚ï¼š<br><br>thread &#39;main&#39; panicked at &#39;failed to execute [&quot;musl-gcc&quot; ..<br><br>å¦‚æœæ˜¯è¿™æ ·ï¼Œä½ çš„ linux éœ€è¦å®‰è£… musl-gccã€‚å¦‚æœæ˜¯å…¶å®ƒ command æ‰¾ä¸åˆ°ï¼Œä½ éœ€è¦å®‰è£…å¯¹åº”çš„å·¥å…·é“¾ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630505905,"ip_address":"","comment_id":310097,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1630484270","product_id":100085301,"comment_content":"windowsä¸‹ç¼–è¯‘å¯ä»¥ï¼Œåœ¨linuxä¸‹ç¼–è¯‘æŠ¥error: failed to run custom build command for `ring v0.16.20`ï¼Œwindowsè·¨å¹³å°ç¼–è¯‘ä¹ŸæŠ¥ä¸€æ ·çš„é”™è¯¯ï¼Œä¸çŸ¥é“å“ªé‡Œå‡ºé—®é¢˜äº†","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526125,"discussion_content":"ring åŠ å¯†åº“åŒ…å«äº† C ä»£ç ï¼Œæ‰€ä»¥ä½  Linux ä¸Šéœ€è¦æœ‰èƒ½ç¼–è¯‘ C çš„å·¥å…·é“¾ã€‚\n\nä½ å¯ä»¥çœ‹çœ‹å…·ä½“çš„è¾“å‡ºï¼Œçœ‹å®ƒæ‰¾ä¸åˆ°ä»€ä¹ˆ build commandï¼Œæ¯”å¦‚ï¼š\n\nthread &amp;#39;main&amp;#39; panicked at &amp;#39;failed to execute [&amp;quot;musl-gcc&amp;quot; ..\n\nå¦‚æœæ˜¯è¿™æ ·ï¼Œä½ çš„ linux éœ€è¦å®‰è£… musl-gccã€‚å¦‚æœæ˜¯å…¶å®ƒ command æ‰¾ä¸åˆ°ï¼Œä½ éœ€è¦å®‰è£…å¯¹åº”çš„å·¥å…·é“¾ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630505905,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1022367,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKBM3Q8ibgwVibREUulIsuRymSqLWQqexMSCOx9aYngDlra5swsvc9IgUkIwibvMX0IerWSwKFcuSzuw/132","nickname":"é±¼é¾™å¸…","note":"","ucode":"4BC94037750AF2","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391690,"discussion_content":"linuxä¸Šçš„æˆ‘æ›´æ–°äº†binutilsçš„ç‰ˆæœ¬è§£å†³äº†","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630577138,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310055,"user_name":"å¤ªå­é•¿ç´","can_delete":false,"product_type":"c1","uid":1090266,"ip_address":"","ucode":"0627D0FA370AD4","user_header":"https://static001.geekbang.org/account/avatar/00/10/a2/da/a8a32113.jpg","comment_is_top":false,"comment_ctime":1630472773,"is_pvip":false,"replies":[{"id":"112365","content":"è¿™é‡Œå°‘åŠ äº†ä¸ª urlï¼Œåº”è¯¥æ˜¯ï¼š<br><br>cargo build --quiet &amp;&amp; target&#47;debug&#47;httpie httpbin.org&#47;post post a=1 b=2<br><br>åŸæ–‡å·²ä¿®æ”¹","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630506390,"ip_address":"","comment_id":310055,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1630472773","product_id":100085301,"comment_content":"cargo build --quiet &amp;&amp; target&#47;debug&#47;httpie post a=1 b=2","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526114,"discussion_content":"è¿™é‡Œå°‘åŠ äº†ä¸ª urlï¼Œåº”è¯¥æ˜¯ï¼š\n\ncargo build --quiet &amp;amp;&amp;amp; target/debug/httpie httpbin.org/post post a=1 b=2\n\nåŸæ–‡å·²ä¿®æ”¹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630506390,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1090266,"avatar":"https://static001.geekbang.org/account/avatar/00/10/a2/da/a8a32113.jpg","nickname":"å¤ªå­é•¿ç´","note":"","ucode":"0627D0FA370AD4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391822,"discussion_content":"å—¯å—¯ï¼Œæœ¬æ¥è¿˜æœ‰ä¸€äº›ç•™è¨€çš„ï¼Œç»“æœå›è½¦æ—¶ä¸å°å¿ƒæŒ‰äº†ä¸‹ ctrl å°±å‘å‡ºå»äº†ï¼Œè¿˜ä¸€ä¸‹çœ‹ä¸åˆ°æ²¡æ³•åˆ â€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630645752,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":310043,"user_name":"Geek_e2201d","can_delete":false,"product_type":"c1","uid":2744438,"ip_address":"","ucode":"0602920032AD1E","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIVblkHYeYrgys7iaARHkicbYCZoibE1tJO0C6NEgw1f13RDgVABBgXDSFBzabLIUPNEPdxib1Ep5aYZg/132","comment_is_top":false,"comment_ctime":1630466191,"is_pvip":false,"replies":[{"id":"112335","content":"æˆ‘åœ¨ github repo ä¸­æ›´æ–°äº†ä»£ç ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹ã€‚<br><br>å¯¹äºä½ çš„ç¼–è¯‘é”™è¯¯ï¼Œå…¶å®ç¼–è¯‘å™¨å·²ç»ç»™å‡ºäº†ç­”æ¡ˆã€‚ä½ å¯ä»¥è¿™æ ·ï¼š<br>```rust<br>let prettified = jsonxf::pretty_print(body).unwrap();<br>prettified.as_str()<br>```","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630472200,"ip_address":"","comment_id":310043,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630466191","product_id":100085301,"comment_content":"&#47;&#47; ä½¿ç”¨syntect è¯­æ³•é«˜äº®printï¼Œæ”¯æŒå¤šç§è¯­æ³•ã€‚<br>fn print_body(m: Option&lt;Mime&gt;, body: &amp;String) {<br>    match m {<br>        Some(v) =&gt; {<br>            let ps = SyntaxSet::load_defaults_newlines();<br>            match ps.find_syntax_by_token(v.subtype().as_str()){<br>                Some(s) =&gt; {<br>                    if v == mime::APPLICATION_JSON {<br>                        print_highlight(jsonxf::pretty_print(body).unwrap().as_str(), &amp;ps, s);<br>                    } else {<br>                        print_highlight(body, &amp;ps, s);<br>                    }<br>                }<br>                _ =&gt; println!(&quot;{}&quot;, body)<br>            }<br>        }<br>        _ =&gt; println!(&quot;{}&quot;, body)<br>    }<br>}<br><br>fn print_highlight(body: &amp;str, ss: &amp;SyntaxSet, s: &amp;SyntaxReference) {<br>    let ts = ThemeSet::load_defaults();<br>    let mut h = HighlightLines::new(s, &amp;ts.themes[&quot;base16-ocean.dark&quot;]);<br>    for line in LinesWithEndings::from(body) {<br>        let ranges: Vec&lt;(Style, &amp;str)&gt; = h.highlight(line, &amp;ss);<br>        print!(&quot;{}&quot;, as_24_bit_terminal_escaped(&amp;ranges[..], true));<br>    }<br>}<br><br>é—®é¢˜è¯·æ•™ï¼šæœ€åˆæ‰“ç®—å†™æˆè¿™æ ·ï¼š<br>if v == mime::APPLICATION_JSON {<br>    body = jsonxf::pretty_print(body).unwrap().as_str();<br>}<br>print_highlight(body, &amp;ps, s);<br>å› ä¸ºbodyæ˜¯immuteçš„ï¼Œæ‰€ä»¥æ”¹ä¸ºå¦‚ä¸‹ï¼š<br>let prettied_body = if v == mime::APPLICATION_JSON {<br>    jsonxf::pretty_print(body).unwrap().as_str()<br>} else {<br>    body<br>};<br>print_highlight(prettied_body, &amp;ps, s);<br><br>æŠ¥é”™å¦‚ä¸‹ï¼š<br>error[E0716]: temporary value dropped while borrowed<br>   --&gt; src&#47;main.rs:136:25<br>    |<br>135 |           let prettied_body = if v == mime::APPLICATION_JSON {<br>    |                 ------------- borrow later stored here<br>136                 jsonxf::pretty_print(body).unwrap().as_str()<br>    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ creates a temporary which is freed while still in use<br>137 |           } else {<br>    |            - temporary value is freed at the end of this statement<br>    |<br>    = note: consider using a `let` binding to create a longer lived value<br><br>æ±‚æ•™è¯¥å¦‚ä½•ä¾ç…§è¿™ä¸ªæ€è·¯è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ<br><br><br>                    <br>...<br><br>","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526111,"discussion_content":"æˆ‘åœ¨ github repo ä¸­æ›´æ–°äº†ä»£ç ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹ã€‚\n\nå¯¹äºä½ çš„ç¼–è¯‘é”™è¯¯ï¼Œå…¶å®ç¼–è¯‘å™¨å·²ç»ç»™å‡ºäº†ç­”æ¡ˆã€‚ä½ å¯ä»¥è¿™æ ·ï¼š\n```rust\nlet prettified = jsonxf::pretty_print(body).unwrap();\nprettified.as_str()\n```","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630472200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309960,"user_name":"ä¹Œé¾™çŒ¹","can_delete":false,"product_type":"c1","uid":2739949,"ip_address":"","ucode":"43F94A0DEC54BE","user_header":"https://static001.geekbang.org/account/avatar/00/29/ce/ed/3dbe915b.jpg","comment_is_top":false,"comment_ctime":1630414492,"is_pvip":false,"replies":[{"id":"112296","content":"å¦‚æœä½ å¡åœ¨æ‹‰ä¾èµ–ï¼Œå»ºè®®æ¢å›½å†…çš„æºã€‚ä¹‹å‰æœ‰åŒå­¦ç•™è¨€ä¸­æåˆ°ã€‚å¯¹äºç¼–è¯‘é€Ÿåº¦ï¼Œç›®å‰å°±åªèƒ½ï¼šå¿ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630426018,"ip_address":"","comment_id":309960,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630414492","product_id":100085301,"comment_content":"How to speed up the Rust build ?","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526074,"discussion_content":"å¦‚æœä½ å¡åœ¨æ‹‰ä¾èµ–ï¼Œå»ºè®®æ¢å›½å†…çš„æºã€‚ä¹‹å‰æœ‰åŒå­¦ç•™è¨€ä¸­æåˆ°ã€‚å¯¹äºç¼–è¯‘é€Ÿåº¦ï¼Œç›®å‰å°±åªèƒ½ï¼šå¿ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630426018,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309814,"user_name":"Bruce","can_delete":false,"product_type":"c1","uid":2365229,"ip_address":"","ucode":"2A48A313481754","user_header":"https://static001.geekbang.org/account/avatar/00/24/17/2d/b7614553.jpg","comment_is_top":false,"comment_ctime":1630339139,"is_pvip":false,"replies":[{"id":"112243","content":"ä½ å¯ä»¥çœ‹çœ‹ä½ çš„ Cargo.toml çš„ tokio çš„ä¾èµ–ï¼Œæ„Ÿè§‰ä½ ä¾èµ–æ²¡æœ‰å¸¦ full æˆ–è€… macros featureã€‚å®Œæ•´çš„ä»£ç æˆ‘å·²ç»æ”¾åœ¨ github ä¸Šäº†ï¼Œä½ å¯ä»¥å‚è€ƒã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630380055,"ip_address":"","comment_id":309814,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1630339139","product_id":100085301,"comment_content":"windowsä¸Š runst -v 1.54å¹¶ä¸èƒ½ç¼–è¯‘é€šè¿‡<br>```<br>error[E0433]: failed to resolve: could not find `main` in `tokio`<br>   --&gt; src\\main.rs:152:10<br>    |<br>152 | #[tokio::main]<br>    |          ^^^^ could not find `main` in `tokio`<br><br>error[E0752]: `main` function is not allowed to be `async`<br>   --&gt; src\\main.rs:153:1<br>    |<br>153 | async fn main() -&gt; Result&lt;()&gt; {<br>    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `main` function is not allowed to be `async`<br><br>error: aborting due to 2 previous errors<br><br>Some errors have detailed explanations: E0433, E0752.<br>For more information about an error, try `rustc --explain E0433`.<br>error: could not compile `httpie`<br>```","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526027,"discussion_content":"ä½ å¯ä»¥çœ‹çœ‹ä½ çš„ Cargo.toml çš„ tokio çš„ä¾èµ–ï¼Œæ„Ÿè§‰ä½ ä¾èµ–æ²¡æœ‰å¸¦ full æˆ–è€… macros featureã€‚å®Œæ•´çš„ä»£ç æˆ‘å·²ç»æ”¾åœ¨ github ä¸Šäº†ï¼Œä½ å¯ä»¥å‚è€ƒã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630380055,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2365229,"avatar":"https://static001.geekbang.org/account/avatar/00/24/17/2d/b7614553.jpg","nickname":"Bruce","note":"","ucode":"2A48A313481754","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391354,"discussion_content":"å—¯å—¯ï¼Œæ˜¯çš„ï¼Œä¸å¥½æ„æ€ğŸ˜£","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630416029,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309725,"user_name":"ä¼¦èƒ–èƒ–ä¸èƒ–","can_delete":false,"product_type":"c1","uid":1146045,"ip_address":"","ucode":"24CEEB5B2B8BEA","user_header":"https://static001.geekbang.org/account/avatar/00/11/7c/bd/70232c22.jpg","comment_is_top":false,"comment_ctime":1630314324,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1630314324","product_id":100085301,"comment_content":"â¯ cargo build --quiet &amp;&amp; target&#47;debug&#47;httpie post a=1 b=2<br>Opts { subcmd: Post(Post { url: &quot;a=1&quot;, body: [&quot;b=2&quot;] }) }","like_count":0,"discussions":[{"author":{"id":2738552,"avatar":"","nickname":"å¤§å“‰ä¹¾å…ƒ","note":"","ucode":"1FE07EB60046ED","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391584,"discussion_content":"è¿™é‡Œåº”è¯¥æ˜¯å‘½ä»¤é‡Œæ¼äº†urlï¼Œè¯•è¯•target/debug/httpie post httpbin.org/post  a=1 b=2","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630543385,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309724,"user_name":"è‘¡è„","can_delete":false,"product_type":"c1","uid":1018673,"ip_address":"","ucode":"6E8597D1B09807","user_header":"http://thirdwx.qlogo.cn/mmopen/ajNVdqHZLLDoDeeNST87MZEdfT8n7yEWp06KsFCTs2ssFh2tbHu413nibrRObOia1Zn9pqiaHgIicVkSHRZM3LHOEA/132","comment_is_top":false,"comment_ctime":1630314246,"is_pvip":false,"replies":[{"id":"112238","content":"æ³¨æ„çœ‹æ‹¬å·çš„ä½ç½®ã€‚status() åæœ‰ä¸€ä¸ªæ‹¬å·ã€‚è¿™é‡Œæ˜¯æŠŠæ•´ä¸ª format! åçš„å­—ç¬¦ä¸²ç»Ÿä¸€åŠ ä¸Š blue()ï¼š<br><br>```<br>let status = format!(&quot;{:?} {}&quot;, resp.version(), resp.status()).blue();<br>```","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630379543,"ip_address":"","comment_id":309724,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1630314246","product_id":100085301,"comment_content":"109è¡Œ: resp.status().blue()<br>method not found in `StatusCode`<br>è½¬æ¢æˆ String æ­£å¸¸é€šè¿‡ç¼–è¯‘","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525982,"discussion_content":"æ³¨æ„çœ‹æ‹¬å·çš„ä½ç½®ã€‚status() åæœ‰ä¸€ä¸ªæ‹¬å·ã€‚è¿™é‡Œæ˜¯æŠŠæ•´ä¸ª format! åçš„å­—ç¬¦ä¸²ç»Ÿä¸€åŠ ä¸Š blue()ï¼š\n\n```\nlet status = format!(&amp;quot;{:?} {}&amp;quot;, resp.version(), resp.status()).blue();\n```","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630379543,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309687,"user_name":"åœŸåœŸäºº","can_delete":false,"product_type":"c1","uid":1045486,"ip_address":"","ucode":"6501B7D4F63E95","user_header":"https://static001.geekbang.org/account/avatar/00/0f/f3/ee/33ef689b.jpg","comment_is_top":false,"comment_ctime":1630303428,"is_pvip":true,"replies":[{"id":"112244","content":"åœ¨ windows ä¸‹æˆ‘æ²¡æœ‰è°ƒè¯•è¿‡ï¼Œä½ ä¹Ÿè®¸å¯ä»¥è¯•è¯•æƒ³ clion è¿™æ ·çš„å…¨åŠŸèƒ½ IDEã€‚å¦‚æœä½ æœ‰ *nix ç¯å¢ƒï¼Œå¯ä»¥ç”¨ gdbã€‚ä¸è¿‡æˆ‘å»ºè®®å¹³æ—¶å¼€å‘å¯ä»¥å°±ç”¨ dbg!() æˆ–è€…åœ¨ä»£ç é‡Œæ”¾åˆé€‚çš„ logã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630380218,"ip_address":"","comment_id":309687,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1630303428","product_id":100085301,"comment_content":"è¯·é—®ï¼Œwindowsç¯å¢ƒä¸‹ï¼Œé€‰æ‹©vsçš„Cã€C++ç¼–è¯‘å™¨ï¼Œvscodeå¼€å‘rustå¦‚ä½•è°ƒè¯•ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525967,"discussion_content":"åœ¨ windows ä¸‹æˆ‘æ²¡æœ‰è°ƒè¯•è¿‡ï¼Œä½ ä¹Ÿè®¸å¯ä»¥è¯•è¯•æƒ³ clion è¿™æ ·çš„å…¨åŠŸèƒ½ IDEã€‚å¦‚æœä½ æœ‰ *nix ç¯å¢ƒï¼Œå¯ä»¥ç”¨ gdbã€‚ä¸è¿‡æˆ‘å»ºè®®å¹³æ—¶å¼€å‘å¯ä»¥å°±ç”¨ dbg!() æˆ–è€…åœ¨ä»£ç é‡Œæ”¾åˆé€‚çš„ logã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630380218,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1075443,"avatar":"https://static001.geekbang.org/account/avatar/00/10/68/f3/22481a37.jpg","nickname":"å°æ ·","note":"","ucode":"0D05E1D31150F1","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391252,"discussion_content":"å¾®è½¯vscodeå®˜ç½‘æ–‡æ¡£æœ‰æ•™ç¨‹ï¼Œhttps://docs.microsoft.com/en-us/windows/dev-environment/rust/setup","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1630372557,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":309660,"user_name":"Devil","can_delete":false,"product_type":"c1","uid":1305932,"ip_address":"","ucode":"F88406A2629522","user_header":"https://static001.geekbang.org/account/avatar/00/13/ed/4c/5f34f8d7.jpg","comment_is_top":false,"comment_ctime":1630293382,"is_pvip":false,"replies":[{"id":"112147","content":"ä½ ç”¨çš„æ˜¯ Rust 1.54 ä¹ˆï¼Ÿ<br><br>```bash<br>â¯ rustc --version<br>rustc 1.54.0 (a178d0322 2021-07-26)<br>```","user_name":"ä½œè€…å›å¤","user_name_real":"Tyr","uid":"1079375","ctime":1630301200,"ip_address":"","comment_id":309660,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1630293382","product_id":100085301,"comment_content":"ç¬¬ä¸€ä¸ªä¾‹å­å°±è¿è¡Œä¸èµ·æ¥äº†,windowså¹³å°æ¥çš„ ç›®å‰æ²¡æ‰¾åˆ°é—®é¢˜arbitrary expressions in key-value attributes are unstable","like_count":0,"discussions":[{"author":{"id":1079375,"avatar":"https://static001.geekbang.org/account/avatar/00/10/78/4f/e74f870c.jpg","nickname":"Tyr","note":"","ucode":"EAAFC8063202E0","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525953,"discussion_content":"ä½ ç”¨çš„æ˜¯ Rust 1.54 ä¹ˆï¼Ÿ\n\n```bash\nâ¯ rustc --version\nrustc 1.54.0 (a178d0322 2021-07-26)\n```","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630301200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1814574,"avatar":"https://static001.geekbang.org/account/avatar/00/1b/b0/2e/de90dc40.jpg","nickname":"Eric Wong","note":"","ucode":"47B9D98DD02E5E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":392584,"discussion_content":"rustup update","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631065527,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1068813,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4f/0d/92ab32bd.jpg","nickname":"å±±æµ·","note":"","ucode":"8FB6A60EB7FA25","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":391145,"discussion_content":"https://github.com/clap-rs/clap/issues/2741","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1630314812,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
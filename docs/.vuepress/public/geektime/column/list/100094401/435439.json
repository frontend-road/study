{"id":435439,"title":"08 | 组件化：如何像搭积木一样开发网页？","content":"<p>你好，我是大圣。</p><p>在上一讲中，我给你讲解了响应式的基本原理和进阶用法。除了响应式，组件相关的知识在Vue中也非常重要，所以今天我就跟你聊一下Vue的组件化机制。</p><p>在我们的项目中，组件无处不在，通过对组件功能的封装，可以像搭积木一样开发网页。而我们现在已经很难想象，没有组件的开发状态是什么样了。你可以看下面 Vue官方的示例图，它对组件化开发做了形象化的展示。图中的左边是一个网页，可以按照功能模块抽象成很多组件，这些组件就像积木一样拼接成网页。</p><p><img src=\"https://static001.geekbang.org/resource/image/0e/39/0e922d413eeeac4378233baa254dd039.png?wh=1406x544\" alt=\"图片\"></p><h2>什么是组件化开发</h2><p>谈组件化开发之前，我们先来看看什么是组件。举个通俗的例子，我们在页面的源码里写出的button标签，会在前端页面中显示出下面的样式：</p><p><img src=\"https://static001.geekbang.org/resource/image/eb/91/eb35f15db1cd10a804aebfe140da5991.png?wh=1866x958\" alt=\"图片\"></p><p>这个button其实就是一个组件，这样前端页面在显示上会加上边框和鼠标悬停的样式，还可以使用click事件触发函数等。只不过这是浏览器帮我们封装好的组件，我们在编辑代码的任何地方，只需要使用下面的代码，就可以让前端页面显示一个按钮。</p><pre><code class=\"language-xml\">&lt;button&gt; 按钮 &lt;/button&gt;\n</code></pre><p>除了浏览器自带的组件外，Vue 还允许我们自定义组件，把一个功能的模板（template）封装在一个.vue文件中。例如在下图中，我们把每个组件的逻辑和样式，也就是把JavaScript 和CSS封装在一起，方便在项目中复用整个组件的代码。</p><!-- [[[read_end]]] --><p><img src=\"https://static001.geekbang.org/resource/image/43/06/439386a5f3f2463feb8d908a752ac406.jpg?wh=1920x1081\" alt=\"图片\"></p><p>我们实际开发的项目中有导航、侧边栏、表格、弹窗等组件，并且也会引入Element3这个组件库进行开发。此外，我们也会定制业务相关的组件，最终通过这些组件，搭积木式地把页面搭建起来。</p><p>Vue已经把组件化的机制实现得很好了，你只需要在这个基础之上，去掌握和学习组件化在使用上的设计理念。这样做的目的是实现高效的代码复用，在后续的项目开发中，我们会把组件分成两个类型，一个是通用型组件，一个是业务型组件。</p><p>通用型组件就是各大组件库的组件风格，包括按钮、表单、弹窗等通用功能。业务型组件包含业务的交互逻辑，包括购物车、登录注册等，会和我们不同的业务强绑定。</p><p>组件的开发由于要考虑代码的复用性，会比通常的业务开发要求更高，需要有更好的可维护性和稳定性的要求。为了帮助你理解设计组件的要点，我先选择一个简单的组件展开讲解。小圣在继续开发项目的时候，有一个评级的需求，简单来说，就是在前端页面上，能够让商品显示1到5的评分。我会借此教小圣在组件开发上的入门和应用，并依次讲解组件的设计思路。</p><h2>渲染评级分数</h2><p>其实，对于简单的评级需求，我们就可以使用组件。这样，只需要一行代码就可以实现评级需求。比如下面的代码，rate是1到5的整数，通过slice方法，我们直接渲染出对应数量的星星即可。</p><pre><code class=\"language-xml\">\"★★★★★☆☆☆☆☆\".slice(5 - rate, 10 - rate)\n</code></pre><p>想要查看上面这行代码的效果，你只需要传入评分值rate。这行代码的运行效果如下图所示，其中的星星代表着评价的等级，由rate的值来决定。</p><p><img src=\"https://static001.geekbang.org/resource/image/ae/0f/aef45ab07edd11e6399b0029887bee0f.png?wh=501x548\" alt=\"图片\"></p><p>每个组件渲染的内容并不完全一样，这是我们写组件时首先要确认的内容。每个组件在项目中的不同地方，会渲染不同的内容。</p><p>我们在这里写的这个组件就是根据rate的值，来渲染出不同数量的星星。我们进入到src/components目录，新建Rate.vue，然后写出下面的代码。在下面的代码中，我们使用defineProps来规范传递数据的格式，这里规定了组件会接收外部传来的value属性，并且只能是数字，然后根据value的值计算出评分的星星。</p><pre><code class=\"language-xml\">&lt;template&gt;\n    &lt;div&gt;\n        {{rate}}\n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script setup&gt;\nimport { defineProps,computed } from 'vue';\nlet props = defineProps({\n    value: Number\n})\nlet rate = computed(()=&gt;\"★★★★★☆☆☆☆☆\".slice(5 - props.value, 10 - props.value))\n&lt;/script&gt;\n</code></pre><p>使用组件的方式就是使用:value的方式，通过属性把score传递给Rate组件，就能够在页面上根据score的值，显示出三颗实心的星星。下面的代码展示了如何使用Rate组件来显示3颗星星。</p><pre><code class=\"language-xml\">&lt;template&gt;\n&lt;Rate :value=\"score\"&gt;&lt;/Rate&gt;\n&lt;/template&gt;\n\n&lt;script setup&gt;\nimport {ref} from 'vue'\nimport Rate from './components/Rate1.vue'\nlet score = ref(3)\n&lt;/script&gt;\n</code></pre><p>根据传递的score值显示的不同的内容，我们也可以更进一步，回到Rate.vue代码里，加入如下的代码，比如在组件中内置一些主题颜色，加入CSS的内容。如下面代码，Rate组件新接收一个属性theme，默认值是orange。我们在Rate组件中内置了几个主题颜色，根据传递的theme计算出颜色，并且使用 :style 渲染。</p><pre><code class=\"language-xml\">&lt;template&gt;\n    &lt;div :style=\"fontstyle\"&gt;\n        {{rate}}\n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script setup&gt;\nimport { defineProps,computed, } from 'vue';\nlet props = defineProps({\n    value: Number,\n    theme:{type:String,default:'orange'}\n})\nconsole.log(props)\nlet rate = computed(()=&gt;\"★★★★★☆☆☆☆☆\".slice(5 - props.value, 10 - props.value))\n\nconst themeObj = {\n  'black': '#00',\n  'white': '#fff',\n  'red': '#f5222d',\n  'orange': '#fa541c',\n  'yellow': '#fadb14',\n  'green': '#73d13d',\n  'blue': '#40a9ff',\n}\nconst fontstyle = computed(()=&gt; {\n    return `color:${themeObj[props.theme]};`\n})\n\n&lt;/script&gt;\n</code></pre><p>在完成了上面代码所示的这一过程，也就是通过theme渲染星星颜色这一步，我们就可以使用下面的代码，传递value和theme两个属性，并且可以很方便地复用组件。</p><pre><code class=\"language-xml\">&lt;Rate :value=\"3\" &gt;&lt;/Rate&gt;\n&lt;Rate :value=\"4\" theme=\"red\"&gt;&lt;/Rate&gt;\n&lt;Rate :value=\"1\" theme=\"green\"&gt;&lt;/Rate&gt;\n</code></pre><p>在下图中，也可以看到上面三个组件渲染的结果：</p><p><img src=\"https://static001.geekbang.org/resource/image/8c/84/8cf702e0842ba6307856108c1acaa784.jpg?wh=227x170\" alt=\"\"></p><h2>组件事件</h2><p>使用这个Rate组件后，虽然前端页面显示评级的需求是完成了，但是评级组件还需要具备修改评分的功能，所以我们需要让组件的星星可点击，并且让点击后的评分值能够传递到父组件。</p><p>在Vue中，我们使用emit来对外传递事件，这样父元素就可以监听Rate组件内部的变化。现在我们对Rate组件进行改造，首先由于我们的星星都是普通的文本，没有办法单独绑定click事件。所以我们要对模板进行改造，每个星星都用span包裹，并且我们可以用width属性控制宽度，支持小数的评分显示。</p><p>我们回到Rate.vue组件，添加下面的代码，我们把★和☆用span包裹，并绑定鼠标的mouseover事件。然后通过:style，我们可以设置实心五角星★的宽度，实现一样的评级效果。</p><pre><code class=\"language-xml\">&lt;template&gt;\n&lt;div :style=\"fontstyle\"&gt;\n    &lt;div class='rate' @mouseout=\"mouseOut\"&gt;\n      &lt;span @mouseover=\"mouseOver(num)\"  v-for='num in 5' :key=\"num\"&gt;☆&lt;/span&gt;\n      &lt;span class='hollow' :style=\"fontwidth\"&gt;\n        &lt;span @mouseover=\"mouseOver(num)\" v-for='num in 5' :key=\"num\"&gt;★&lt;/span&gt;\n      &lt;/span&gt;\n    &lt;/div&gt; \n&lt;/div&gt;\n&lt;/template&gt;\n&lt;script setup&gt;\n// ...其他代码\n// 评分宽度\nlet width = ref(props.value)\nfunction mouseOver(i){\n    width.value = i \n}\nfunction mouseOut(){\n    width.value = props.value\n}\nconst fontwidth = computed(()=&gt;`width:${width.value}em;`)\n\n&lt;/script&gt;\n\n&lt;style scoped&gt;\n.rate{\n  position:relative;\n  display: inline-block;\n}\n.rate &gt; span.hollow {\n  position:absolute;\n  display: inline-block;\n  top:0;\n  left:0;\n  width:0;\n  overflow:hidden;\n}\n&lt;/style&gt;\n</code></pre><p>因为现在是通过宽度显示星星，所以我们还可以支持3.5分的小数评级，并且支持鼠标滑过的时候选择不同的评分。用下面的代码，我们可以使用Rate组件。</p><pre><code class=\"language-xml\">&lt;Rate :value=\"3.5\" &gt;&lt;/Rate&gt;\n</code></pre><p>上面代码的显示效果如下图所示：</p><h1><img src=\"https://static001.geekbang.org/resource/image/9a/16/9ab95503a0f65fc69896e30e21de8816.gif?wh=522x185\" alt=\"图片\"></h1><p>然后我们需要做的，就是在点击五角星选择评分的时候，把当前评分传递给父组件即可。在Vue 3中，我们使用defineEmit来定义对外“发射”的数据，在点击评分的时候触发即可。下面的defineEmit代码就展示了点击评分后，向父元素“发射”评分数据num。</p><pre><code class=\"language-xml\">&lt;template&gt;\n  省略代码\n   &lt;span @click=\"onRate(num)\" @mouseover=\"mouseOver(num)\" v-for='num in 5' :key=\"num\"&gt;★&lt;/span&gt;\n\n&lt;/template&gt;\n&lt;script setup&gt;\nimport { defineProps, defineEmits,computed, ref} from 'vue';\n\nlet emits = defineEmits('update-rate')\nfunction onRate(num){\n    emits('update-rate',num)\n}\n&lt;/script&gt;\n</code></pre><p>在下面的代码中，我们使用@update-rate 接收Rate组件emit的数据，并且修改score的值，这样就完成了数据修改后的更新。</p><pre><code class=\"language-xml\">&lt;template&gt;\n\n&lt;h1&gt;你的评分是 {{score}}&lt;/h1&gt;\n&lt;Rate :value=\"score\" @update-rate=\"update\"&gt;&lt;/Rate&gt;\n\n&lt;/template&gt;\n\n&lt;script setup&gt;\nimport {ref} from 'vue'\nimport Rate from './components/Rate1.vue'\nlet score = ref(3.5)\nfunction update(num){\n    score.value = num\n}\n\n&lt;/script&gt;\n\n</code></pre><p>现在组件的示意图如下，我们通过defineProps定义了传递数据的格式，通过defineEmits定义了监听的函数，最终实现了组件和外部数据之间的同步。</p><p><img src=\"https://static001.geekbang.org/resource/image/43/1b/43767ceb3324b4887271d0d20909a31b.jpg?wh=1904x1279\" alt=\"图片\"></p><h2>组件的v-model</h2><p>上面Rate组件中数据双向同步的需求在表单领域非常常见，例如<a href=\"https://time.geekbang.org/column/article/428106\">第二讲</a>中，我们在input标签上使用v-model这个属性就实现了这个需求。在自定义组件上我们也可以用v-model，对于自定义组件来说，v-model是传递属性和接收组件事件两个写法的简写。</p><p>在下面的代码中，首先我们把属性名修改成modelValue，然后如果我们想在前端页面进行点击评级的操作，我们只需要通过update:modelValue这个emit事件发出通知即可。</p><pre><code class=\"language-xml\">let props = defineProps({\n    modelValue: Number,\n    theme:{type:String,default:'orange'}\n})\nlet emits = defineEmits(['update:modelValue'])\n</code></pre><p>然后我们就可以按如下代码中的方式，使用Rate这个组件，也就是直接使用v-model绑定score变量。这样，就可以实现value和onRate两个属性的效果。</p><pre><code class=\"language-xml\"> &lt;template&gt;\n\n&lt;h1&gt;你的评分是 {{score}}&lt;/h1&gt;\n&lt;Rate v-model=\"score\"&gt;&lt;/Rate&gt;\n&lt;/template&gt;\n</code></pre><h2>插槽</h2><p>和HTML的标签使用类似，很多时候我们也需要给组件中传递内容。就像在下面的代码中click并不是button标签的属性，而是子元素，button标签会把子元素渲染在居中的位置。</p><pre><code class=\"language-xml\">&lt;button&gt; click &lt;/button&gt;\n</code></pre><p>我们的Rate组件也是类似的，在Vue中直接使用slot组件来显示组件的子元素，也就是所谓的插槽。在下面的代码中，我们使用slot组件渲染Rate组件的子元素。</p><pre><code class=\"language-xml\">&lt;template&gt;\n&lt;div :style=\"fontstyle\"&gt;\n    &lt;slot&gt;&lt;/slot&gt;\n    &lt;div class='rate' @mouseout=\"mouseOut\"&gt;\n      &lt;span @mouseover=\"mouseOver(num)\"  v-for='num in 5' :key=\"num\"&gt;☆&lt;/span&gt;\n      &lt;span class='hollow' :style=\"fontwidth\"&gt;\n        &lt;span @click=\"onRate(num)\" @mouseover=\"mouseOver(num)\" v-for='num in 5' :key=\"num\"&gt;★&lt;/span&gt;\n      &lt;/span&gt;\n    &lt;/div&gt; \n&lt;/div&gt;\n&lt;/template&gt;\n</code></pre><p>我们现在使用Rate组件的时候，组件的子元素都会放在评级组件之前。除了文本，也可以传递其他组件或者html标签 。下面代码显示的结果，第一个Rate组件显示课程评分 ，第二个Rate组件前面显示一个图片。</p><pre><code class=\"language-xml\">&lt;Rate v-model=\"score\"&gt;课程评分&lt;/Rate&gt;\n&lt;Rate v-model=\"score\"&gt;\n    &lt;img width=\"14\" src=\"/favicon.ico\"&gt;\n&lt;/Rate&gt;\n</code></pre><h2>总结</h2><p>至此，我们设计了一个非常迷你的评级组件，我带你回顾一下今天都做了什么吧。</p><p>首先，我们用props属性传递的方式，通过传递的value属性去决定显示的星星数量，这也是设计组件的时候首先就要考虑的。一个组件库首先要实现的，就是通过props属性渲染内容，而在Rate组件里，我们可以根据value属性去渲染显示了几颗星星。</p><p>然后为了让用户可以点击评分，我们优化了显示的方式，每个★包裹一个span标签，并且绑定了mouseover和mouseout事件显示鼠标悬停的样式，最后在★标签的click事件上，对外通知事件，告知父组件数据的变化。</p><p><strong>对于这个通知机制，我们使用defineEmits定义的方式来实现，这也是Vue组件中重要的数据交换机制</strong>。emits配合props，这样我们在使用一个组件的时候，就实现了给组件传递数据，并且我们也能够监听组件内部数据的变化。最后我们通过规范props和emit的名字，实现了直接在自定义的组件之上使用v-model。</p><p>当然，这个组件开发到这里，依然是比较精简，但实际上我们要考虑的问题更多。比如在下一讲，我会给你讲解如何在Vue中加上一些简单的动画。字符★显示的效果可能也不符合你所在公司的设计规范，所以你可能就需要使用图片替换五角星样式等。</p><p>更加完备的Rate组件，你可以去看<a href=\"https://github.com/hug-sun/element3/blob/master/packages/element3/packages/rate/Rate.vue\">Element3评级组件的实现</a>，在这里我们先初步感受一个组件的完整设计过程，它包含着交互的小细节，比如键盘事件、自定义icon等等。</p><p>Rate组件写完，Vue的组件化你就算入门了，在课程第三部分中，我们会对更多场景的组件化进行实战开发，在那里我会给你详细说说更多组件进阶和扩展的用法。</p><h2>思考题</h2><p>今天我带你从0设计了一个组件，相信你对Vue 3的组件设计也有了新的思考，那么关于这个Rate组件，你觉得还有哪些功能扩展的需求呢？</p><p>欢迎在评论区分享你的思考，也欢迎你把这一讲分享给其他人，我们下一讲见！</p>","neighbors":{"left":{"article_title":"07 | 巧妙的响应式：深入理解Vue 3的响应式机制","id":433968},"right":{"article_title":"09 | 动画：Vue中如何实现动画效果？","id":436783}},"comments":[{"had_liked":false,"id":320163,"user_name":"Geek_7cdaba","can_delete":false,"product_type":"c1","uid":1796334,"ip_address":"","ucode":"81FFF476C7C250","user_header":"","comment_is_top":true,"comment_ctime":1636104120,"is_pvip":false,"replies":[{"id":"116568","content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","comment_id":320163,"uid":"1003715","ip_address":"","utype":1,"ctime":1636639312,"user_name_real":"花果山大圣"}],"discussion_count":5,"race_medal":0,"score":"9.2233720986203996e+18","product_id":100094401,"comment_content":"建议作者把代码弄全一点，v-model那敲了一遍还是没弄明白，呜呜呜","like_count":15,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529900,"discussion_content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636639312,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":2,"child_discussions":[{"author":{"id":2154121,"avatar":"","nickname":"陈俊标","note":"","ucode":"DC02AFCD8408F1","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":540435,"discussion_content":"点击最后一个星星会出现五个空白的星星重叠在原来的星星边上，没有全部重叠，有一点偏移，请问原来设计就这样的，还是bug","likes_number":2,"is_delete":false,"is_hidden":false,"ctime":1640057348,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":529900,"ip_address":""},"score":540435,"extra":""},{"author":{"id":1133464,"avatar":"https://static001.geekbang.org/account/avatar/00/11/4b/98/20ff3f6a.jpg","nickname":"这个需求做不了","note":"","ucode":"2BC0A306550D45","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2154121,"avatar":"","nickname":"陈俊标","note":"","ucode":"DC02AFCD8408F1","race_medal":0,"user_type":1,"is_pvip":true},"discussion":{"id":575802,"discussion_content":"bug 这个作者很应付事","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1655114788,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":540435,"ip_address":""},"score":575802,"extra":""}]},{"author":{"id":2851928,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/84/58/e45d522f.jpg","nickname":"徐来_","note":"","ucode":"25385C9B307AF8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535195,"discussion_content":"需要v-model:modelValue才行","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1638366060,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1661704,"avatar":"https://static001.geekbang.org/account/avatar/00/19/5b/08/b0b0db05.jpg","nickname":"丁丁历险记","note":"","ucode":"A43829E454C067","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":577690,"discussion_content":"Rate.vue 中，加上这个， 要想办法发射回去，你不说他哪知道要射还是不射呢？？？\t\nfunction onRate(num){   \n\t\t\t\temits(&#39;update:modelValue&#39;,num)\n\t\t\t}","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656299208,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320146,"user_name":"请去学习吧","can_delete":false,"product_type":"c1","uid":2817286,"ip_address":"","ucode":"16BE53FC31B0CF","user_header":"","comment_is_top":false,"comment_ctime":1636098893,"is_pvip":false,"replies":[{"id":"116056","content":"感谢感谢","user_name":"作者回复","comment_id":320146,"uid":"1003715","ip_address":"","utype":1,"ctime":1636113017,"user_name_real":"花果山大圣"}],"discussion_count":4,"race_medal":0,"score":"177729758029","product_id":100094401,"comment_content":"被&quot;★★★★★☆☆☆☆☆&quot;.slice(5 - props.value, 10 - props.value)惊艳到了，在这个课程里收获了好多惊喜","like_count":42,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529894,"discussion_content":"感谢感谢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636113017,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":3065977,"avatar":"https://static001.geekbang.org/account/avatar/00/2e/c8/79/981e4e15.jpg","nickname":"小岩岩","note":"","ucode":"F89157B7F4883E","race_medal":4,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":588668,"discussion_content":"感觉有点像滑动窗口的设计，太巧秒了","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1663954227,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京"},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1712044,"avatar":"https://static001.geekbang.org/account/avatar/00/1a/1f/ac/1f0c4035.jpg","nickname":"nora","note":"","ucode":"637543490D21A8","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":543035,"discussion_content":"居然还有这种操作，被秀到，不过有种比较直观的方法就是根据分数显示几颗实星，剩下的空星用padEnd函数，最终拼接","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1640936342,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1377886,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/M5jrJZliboJoN9cNp0iahPqwXe3Zf6CUeiaUMYY8icRY0Hvw9wZ36USS6tP2KE16n2lf8W0IhNWiaoBHUYyrwoT0vrg/132","nickname":"love star","note":"","ucode":"11B0D208BA7C7A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537279,"discussion_content":"我也是，被惊到了","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1639018055,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319740,"user_name":"ll","can_delete":false,"product_type":"c1","uid":1296458,"ip_address":"","ucode":"57C5DAC5B51036","user_header":"https://static001.geekbang.org/account/avatar/00/13/c8/4a/3a322856.jpg","comment_is_top":false,"comment_ctime":1635926464,"is_pvip":true,"replies":[{"id":"115874","content":"cool  好顶赞","user_name":"作者回复","comment_id":319740,"uid":"1003715","ip_address":"","utype":1,"ctime":1635930177,"user_name_real":"花果山大圣"}],"discussion_count":3,"race_medal":0,"score":"130484945344","product_id":100094401,"comment_content":" 1. 对组件化的理解<br>    组件化好似“搭积木”；“分而治之”思想实际运用，所谓“大事化小，小事化了”或称为“抽<br>    象隔离”。就是，各个组件之间有自己需要解决的问题，有各自解决的方式方法，但互相<br>    不需要知道，它们沟通只看“结果”即 props，events（当然这是模拟事件，也是个可以<br>    研究的点）<br><br>    这里就要根据“角色”或“用途”分为通用型组件和业务型组件。<br><br>    举个不恰当的例子，通用型组件好比广义的“车”，你根据业务的需要加个“四轮驱动”之<br>    类的就变成个“越野车”这种业务组件了。<br><br>    当然，由于前端的特殊性，组件的不同也体现在不同的表现上（CSS 说的就是你)<br><br>    现在日常工作的常态大概就是写组件。日常写业务的我们，在优秀组件的基础上，“改造”出<br>    公司需要的产品。<br>    像大圣大神写出优秀的组件库，供我们“改造”。<br><br>    然后我推测公司的架构师的工作就是将“只要业务”“主要问题”合理的划分为一个个“组件”，<br>    最后由我们写。<br><br>    这样，宏观的组件化，和微观的组件化都有了。<br><br> 2. defineEmits, defineProps<br>     我尝试了下将 props “抽离出去”，结果没成功，这个 defineXXX 系列的 API 和<br>     useXXX 系列的 API 还是有不同，define 系列设计的貌似和组件 “强相关”，所以这也<br>     是之后或是课下我需要关注的点, 看看是怎么实现的。<br><br>     感觉 useXXX 是将XXX“引入”组件，这个 defineXXX 是“声明”组件中已经“存在&quot;的东西。<br><br>     大概就是这样","like_count":30,"discussions":[{"author":{"id":1296458,"avatar":"https://static001.geekbang.org/account/avatar/00/13/c8/4a/3a322856.jpg","nickname":"ll","note":"","ucode":"57C5DAC5B51036","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411452,"discussion_content":"ps：props 不是响应式的，推理下 defineXXX 的xxx是不是都不是响应式的？props 是为了传递消息的，所以就没有响应式了","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1635932842,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529752,"discussion_content":"cool  好顶赞","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1635930177,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1176354,"avatar":"https://static001.geekbang.org/account/avatar/00/11/f3/22/6ec12096.jpg","nickname":"勃纳什","note":"","ucode":"FA3CF31F34FF6B","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":581069,"discussion_content":"&#34;css说的就是你&#34;莫名戳中我的笑点 hhhhh","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1658483255,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319704,"user_name":"bugu","can_delete":false,"product_type":"c1","uid":1862545,"ip_address":"","ucode":"FEBF82A876C979","user_header":"https://static001.geekbang.org/account/avatar/00/1c/6b/91/168e10a1.jpg","comment_is_top":false,"comment_ctime":1635916815,"is_pvip":true,"replies":[{"id":"115877","content":"function onRate(num){<br>    emits(&#39;update:modelValue&#39;,num)<br>}<br>这一段吗 sorry","user_name":"作者回复","comment_id":319704,"uid":"1003715","ip_address":"","utype":1,"ctime":1635930239,"user_name_real":"花果山大圣"}],"discussion_count":5,"race_medal":0,"score":"48880557071","product_id":100094401,"comment_content":"v-model那一部分，根据文中代码没实现出来","like_count":11,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529731,"discussion_content":"function onRate(num){\n    emits(&amp;#39;update:modelValue&amp;#39;,num)\n}\n这一段吗 sorry","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635930239,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1327312,"avatar":"https://static001.geekbang.org/account/avatar/00/14/40/d0/4aa34250.jpg","nickname":"peter","note":"","ucode":"9707D996853A80","race_medal":1,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411416,"discussion_content":"可能是这个方法忘改了\nfunction onRate(num) {\n   emits(&#39;update:modelValue&#39;, num);\n}","likes_number":5,"is_delete":false,"is_hidden":false,"ctime":1635924178,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2818538,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/01/ea/d0be0574.jpg","nickname":"笑叹尘世","note":"","ucode":"1A034809EF9B61","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413960,"discussion_content":"let width = ref(props.modelValue)\nfunction mouseOut() {\n    // width.value = props.value\n    width.value = props.modelValue\n  }\n我把这一段也改了才生效。。。","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1636619662,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1019807,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8f/9f/e49b68ea.jpg","nickname":"幽弥狂","note":"","ucode":"5AECEA7D6ADF33","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":560492,"discussion_content":"let width = ref(props.modelValue) 我这个也该了才可以","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649345806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2907910,"avatar":"https://static001.geekbang.org/account/avatar/00/2c/5f/06/4b7b9a66.jpg","nickname":"Witty","note":"","ucode":"2634695F6FCCAC","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":550319,"discussion_content":"props中的value也需要修改成modelValue","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1644483050,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319816,"user_name":"cskang","can_delete":false,"product_type":"c1","uid":1062061,"ip_address":"","ucode":"D8A8267FEEB34F","user_header":"https://static001.geekbang.org/account/avatar/00/10/34/ad/6d017be6.jpg","comment_is_top":false,"comment_ctime":1635951116,"is_pvip":false,"replies":[{"id":"116547","content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","comment_id":319816,"uid":"1003715","ip_address":"","utype":1,"ctime":1636638819,"user_name_real":"花果山大圣"}],"discussion_count":2,"race_medal":0,"score":"44585624076","product_id":100094401,"comment_content":"代码能放到 CodePen 上就好了，这样方便查看完整的代码，又可以通过修改调试学习。","like_count":10,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529781,"discussion_content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638819,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1377054,"avatar":"https://static001.geekbang.org/account/avatar/00/15/03/1e/8bff5370.jpg","nickname":"杨子皓","note":"","ucode":"7DCBD6D0BB182E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545519,"discussion_content":"let emits = defineEmits([&#34;update:modelValue&#34;]); // 定义emits\nfunction onRate(num) {\n\temits(&#34;update:modelValue&#34;, num); //通过@引用\n}","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641981056,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320037,"user_name":"The Word","can_delete":false,"product_type":"c1","uid":2817213,"ip_address":"","ucode":"0E304072CE6648","user_header":"https://static001.geekbang.org/account/avatar/00/2a/fc/bd/12f5fe89.jpg","comment_is_top":false,"comment_ctime":1636046827,"is_pvip":false,"replies":[{"id":"116062","content":"3.2的更新后面我会补充一下，并且3.2针对ref的value属性也做了优化","user_name":"作者回复","comment_id":320037,"uid":"1003715","ip_address":"","utype":1,"ctime":1636113182,"user_name_real":"花果山大圣"}],"discussion_count":2,"race_medal":0,"score":"40290752491","product_id":100094401,"comment_content":"3.2以后defineEmits和difineProps都宏编译了，不需要引入了，defineEmit已经不能用了","like_count":9,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529849,"discussion_content":"3.2的更新后面我会补充一下，并且3.2针对ref的value属性也做了优化","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636113182,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005290,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg","nickname":"giteebravo","note":"","ucode":"C087E8D6B5A98B","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413833,"discussion_content":"有必要补充一下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636564146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319727,"user_name":"费城的二鹏","can_delete":false,"product_type":"c1","uid":1101293,"ip_address":"","ucode":"DE768A0CC3053D","user_header":"https://static001.geekbang.org/account/avatar/00/10/cd/ed/825d84ee.jpg","comment_is_top":false,"comment_ctime":1635924219,"is_pvip":false,"replies":[{"id":"115876","content":"但是用这个符号不够精致，用来演示还是够了","user_name":"作者回复","comment_id":319727,"uid":"1003715","ip_address":"","utype":1,"ctime":1635930208,"user_name_real":"花果山大圣"}],"discussion_count":2,"race_medal":0,"score":"35995662587","product_id":100094401,"comment_content":"第一个版本的评分组件，简直是简洁的巅峰，自己没想到可以这么做，看到这个逻辑秒懂，太精巧了。","like_count":9,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529742,"discussion_content":"但是用这个符号不够精致，用来演示还是够了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635930208,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2615462,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJngnbXIXoL0gM4KeCbVCADvstgb1o5xiax9zKuxrrj0v531WTZhVX3kUuW9zN4eapkGkqibicDzN0Zw/132","nickname":"Geek_59d299","note":"","ucode":"0C909E973B45CD","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":535599,"discussion_content":"UI看了之后，[发怒]","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1638493584,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320199,"user_name":"Alias","can_delete":false,"product_type":"c1","uid":1981220,"ip_address":"","ucode":"E62F6462B5CF35","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq6UjL0SBicZgyKzsAnCf08l0MibyqxsCecSVXa3tKvSDeDG6XRe1ngziaChRiaRcA0kzOlIwfcnNZvwg/132","comment_is_top":false,"comment_ctime":1636117083,"is_pvip":false,"replies":[{"id":"116534","content":"热更新的问题我去研究下<br>第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","comment_id":320199,"uid":"1003715","ip_address":"","utype":1,"ctime":1636638532,"user_name_real":"花果山大圣"}],"discussion_count":4,"race_medal":0,"score":"27405920859","product_id":100094401,"comment_content":"&quot;vue&quot;: &quot;^3.2.21&quot;<br>1 v-model=&quot;score&quot; 写法，子组件接收时必须用 modelValue<br>2 除非是 v-model:xxx=&quot;score&quot; 才能自定义<br>3 子组件接收后 props 不能解构。。否则mouseout 后又变成初始传进来的值。。。<br>const {value, theme} = props<br>const width = ref(value)<br>const noMouseout = () =&gt; {<br>  width.value = value &#47;&#47; 得用 props.value<br>}<br>4  有时候热更新不太好使哎。。。","like_count":6,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529915,"discussion_content":"热更新的问题我去研究下\n第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638532,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2279433,"avatar":"https://static001.geekbang.org/account/avatar/00/22/c8/09/b34b1473.jpg","nickname":"鱼腩","note":"","ucode":"54C97E73A75854","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413174,"discussion_content":"3.let props =defineProps() 返回的是带响应式的对象，直接解构会失去响应式；可以通过 const {value, theme} = toRefs( props )这样子解构，就依旧保留响应式","likes_number":6,"is_delete":false,"is_hidden":false,"ctime":1636391155,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005290,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg","nickname":"giteebravo","note":"","ucode":"C087E8D6B5A98B","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570995,"discussion_content":"2 除非是 v-model:xxx=&#34;score&#34; 才能自定义\n亲测有效~","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652023993,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2943646,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/ibWoia9FGMiaJoibMJUeqRIGRicib2ib66F07qIBE6N6YXXcbzomIRnQwIpfyDpGM1C2NQTzNwnuEEr9pbFQQjj7IBrMg/132","nickname":"Geek_fa509f","note":"","ucode":"572E5394FD427E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":556554,"discussion_content":"4. 热更新是写在配置路由的页面上的话 可以看看是不是路由引入页面的时候 引入文件名的大小写和实际文件的大小写是否一致 不一致可能会导致热更新不好使","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1647416487,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319877,"user_name":"peterpc","can_delete":false,"product_type":"c1","uid":1222886,"ip_address":"","ucode":"48663EB8299D8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/a8/e6/54a24332.jpg","comment_is_top":false,"comment_ctime":1635995303,"is_pvip":false,"replies":[{"id":"116540","content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","comment_id":319877,"uid":"1003715","ip_address":"","utype":1,"ctime":1636638680,"user_name_real":"花果山大圣"}],"discussion_count":9,"race_medal":0,"score":"27405799079","product_id":100094401,"comment_content":" 点击click事件@click=&quot;onRate(num)&quot;，浏览器调试提示如下警告，是什么原因：<br> [Vue warn]: Component emitted event &quot;update:modelValue&quot; but it is neither declared in the emits option nor as an &quot;onUpdate:modelValue&quot; prop.<br> <br> 另外在chrome和firefox都出现五角星显示错位的情况","like_count":6,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529797,"discussion_content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638680,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2808570,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/da/fa/672c252f.jpg","nickname":"w","note":"","ucode":"ACCCE5060052AA","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545190,"discussion_content":"五角星显示错位，应该是你的浏览器默认字体的原因，我用微软雅黑和部分字体也会错位。切换一下默认字体或者用font-family设置一下字体就好了","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1641871349,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2268008,"avatar":"","nickname":"Geek_073752","note":"","ucode":"E12AF03A05868C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414004,"discussion_content":"我解决此问题了：\nlet emits = defineEmits([&#34;update:modelValue&#34;]); // 定义emits\nfunction onRate(num) {\n  emits(&#34;update:modelValue&#34;, num);\n}","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1636634614,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1462806,"avatar":"https://static001.geekbang.org/account/avatar/00/16/52/16/ba6fe9a5.jpg","nickname":"Temp","note":"","ucode":"4E1A458CC04186","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413972,"discussion_content":"defineEmit 里面的参数是数组, 直接写成字符串 会警告","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1636624678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2818154,"avatar":"","nickname":"Geek_e92dcb","note":"","ucode":"B33B8BA27E0B99","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412114,"discussion_content":"同样遇到了这个警告","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636079850,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2268008,"avatar":"","nickname":"Geek_073752","note":"","ucode":"E12AF03A05868C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414003,"discussion_content":"课程没有完整演示代码，难免会遇到问题大圣老师也没能看到或解答","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636634303,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1381826,"avatar":"https://static001.geekbang.org/account/avatar/00/15/15/c2/bb7d5e08.jpg","nickname":"关你屁事","note":"","ucode":"79DD1D7515AC22","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413954,"discussion_content":"function onRate (num) {\n  emits(&#39;update:modelValue&#39;, num)\n}","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636618404,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1165817,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/f9/39492855.jpg","nickname":"阿阳","note":"","ucode":"20A35FB86B1C5C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412951,"discussion_content":"同样遇到类似的警告","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636340442,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1981220,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq6UjL0SBicZgyKzsAnCf08l0MibyqxsCecSVXa3tKvSDeDG6XRe1ngziaChRiaRcA0kzOlIwfcnNZvwg/132","nickname":"Alias","note":"","ucode":"E62F6462B5CF35","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412238,"discussion_content":"+1","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636115326,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323582,"user_name":"Lwein","can_delete":false,"product_type":"c1","uid":1685227,"ip_address":"","ucode":"F0F73C4D4BB9CD","user_header":"https://static001.geekbang.org/account/avatar/00/19/b6/eb/fdfc519e.jpg","comment_is_top":false,"comment_ctime":1638001579,"is_pvip":false,"replies":[{"id":"118375","content":"其实也可以 哈哈","user_name":"作者回复","comment_id":323582,"uid":"1003715","ip_address":"","utype":1,"ctime":1639401458,"user_name_real":"编辑"}],"discussion_count":3,"race_medal":0,"score":"23112838059","product_id":100094401,"comment_content":"看不懂CSS样式代码，还是使用这个 {{width&gt;=num?&#39;★&#39;:&#39;☆&#39;}} 语法靠谱 ^_^","like_count":5,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538374,"discussion_content":"其实也可以 哈哈","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639401458,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1677568,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eopibicYcibaNGZvicTEMyYroXQGpP1WicRxI0SBobVJVYtml6K6bQhtgR3bLZJkFZMSDV4SuxdjZRgXUw/132","nickname":"宇智波悟天","note":"","ucode":"C6945990FE33C7","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544185,"discussion_content":"大侠的思路很不错。我实现了下，代码如下（除了不能满足半颗星需求，其他都可以，也没有星星错位问题）\n&lt;template&gt;\n  &lt;div&gt;\n    &lt;div class=&#34;rate&#34; @mouseout=&#34;mouseOut&#34;&gt;\n      &lt;span\n        v-for=&#34;num in 5&#34;\n        :key=&#34;num&#34;\n        @click=&#34;handleClick(num)&#34;\n        @mouseover=&#34;mouseOver(num)&#34;\n        &gt;{{ stars(num) }}&lt;/span\n      &gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script setup lang=&#34;ts&#34;&gt;\nimport { ref, computed } from &#34;vue&#34;;\n\nlet props = defineProps({\n  modelValue: { type: Number, default: 3 },\n  theme: { type: String, default: &#34;orange&#34; },\n});\n\nconst emits = defineEmits([&#34;update:modelValue&#34;]);\nlet score = ref(props.modelValue);\n\nfunction mouseOver(num: number) {\n  score.value = num;\n}\n\nfunction mouseOut() {\n  score.value = props.modelValue;\n}\n\nfunction handleClick(num: number) {\n  emits(&#34;update:modelValue&#34;, num);\n}\n\nconst themeObj = {\n  black: &#34;#00&#34;,\n  white: &#34;#fff&#34;,\n  red: &#34;#f5222d&#34;,\n  orange: &#34;#fa541c&#34;,\n  yellow: &#34;#fadb14&#34;,\n  green: &#34;#73d13d&#34;,\n  blue: &#34;#40a9ff&#34;,\n};\n\nconst stars = computed((num: number) =&gt; {\n  return function (num: number): string {\n    return num &gt; score.value ? &#34;☆&#34; : &#34;★&#34;;\n  };\n});\n&lt;/script&gt;\n\n&lt;style scoped&gt;\n.rate {\n  color: v-bind(themeObj[props.theme]);\n}\n&lt;/style&gt;","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1641435320,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":2546490,"avatar":"https://static001.geekbang.org/account/avatar/00/26/db/3a/58a1da4f.jpg","nickname":"王帅兵","note":"","ucode":"5353D7E86962EE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1677568,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eopibicYcibaNGZvicTEMyYroXQGpP1WicRxI0SBobVJVYtml6K6bQhtgR3bLZJkFZMSDV4SuxdjZRgXUw/132","nickname":"宇智波悟天","note":"","ucode":"C6945990FE33C7","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":565299,"discussion_content":"可以的，基本还原，就是不支持.5评分展示，不过大圣的案例虽然支持.5展示，但并不支持.5设置","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1650434781,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":544185,"ip_address":""},"score":565299,"extra":""}]}]},{"had_liked":false,"id":320113,"user_name":"peterpc","can_delete":false,"product_type":"c1","uid":1222886,"ip_address":"","ucode":"48663EB8299D8A","user_header":"https://static001.geekbang.org/account/avatar/00/12/a8/e6/54a24332.jpg","comment_is_top":false,"comment_ctime":1636084752,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"23110921232","product_id":100094401,"comment_content":"v-model双向绑定笔记：<br>如果子组件属性名定义为modelValue，则父组件直接v-model=&quot;父组件属性&quot;即可绑定，如果子组件需要自定义属性名称，比如定义为abc，则父组件绑定时必须按照这种写法 v-model:abc=&quot;父组件属性&quot;才能绑定。<br>如下实例：<br>子组件声明方式 \t\t\t\t父组件绑定方式<br>let props = defineProps({ <br>    mycc: Number                        =&gt; v-model:abc=&quot;父组件属性&quot;<br>})<br>let props = defineProps({<br>    modelValue: Number              =&gt; v-model=&quot;父组件属性&quot;<br>})<br><br>请问大圣是这样吗？","like_count":6,"discussions":[{"author":{"id":2818791,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK5Xk3gn5ZicwJlZ1ATXhznic3d8MJH1hfY62sm0HKvoeL9SHOgQzibTFsYBcaLTEnDTiay9x1Ugmia2oA/132","nickname":"Geek_e80d57","note":"","ucode":"BCF159ED7B4D09","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412512,"discussion_content":"是的","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636197461,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005290,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg","nickname":"giteebravo","note":"","ucode":"C087E8D6B5A98B","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":570996,"discussion_content":"正解","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652024194,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1222886,"avatar":"https://static001.geekbang.org/account/avatar/00/12/a8/e6/54a24332.jpg","nickname":"peterpc","note":"","ucode":"48663EB8299D8A","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":414006,"discussion_content":"谢谢兄弟解惑","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636635367,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319756,"user_name":"pawel","can_delete":false,"product_type":"c1","uid":1086483,"ip_address":"","ucode":"3BFF65265CB035","user_header":"https://static001.geekbang.org/account/avatar/00/10/94/13/d53626ae.jpg","comment_is_top":false,"comment_ctime":1635930531,"is_pvip":false,"replies":[{"id":"116551","content":"是的是的，这里应该是个数组<br>第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","comment_id":319756,"uid":"1003715","ip_address":"","utype":1,"ctime":1636638883,"user_name_real":"花果山大圣"}],"discussion_count":1,"race_medal":0,"score":"23110767011","product_id":100094401,"comment_content":"let emits = defineEmits(&#39;update-rate&#39;) &#47;&#47; 定义emits<br>大圣老师，defineEmits好像只能接受Array&lt;string&gt; | Object","like_count":5,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529760,"discussion_content":"是的是的，这里应该是个数组\n第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638883,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319626,"user_name":"NOVIAS🐱🦁","can_delete":false,"product_type":"c1","uid":1536558,"ip_address":"","ucode":"43B43FFCF60700","user_header":"https://static001.geekbang.org/account/avatar/00/17/72/2e/81ba07db.jpg","comment_is_top":false,"comment_ctime":1635888381,"is_pvip":false,"replies":[{"id":"115880","content":"em可能是字体的问题，我本地演示没问题就贴上去了，实际开发中肯定会有图片来取代这个字符，我晚点本地再调试一下  全部限制一下字体大小应该就可以<br><br>用ts的话肯定是用emus更合适，这里演示一下的话，theme用字符串，或者是直接传递color都是可以的","user_name":"作者回复","comment_id":319626,"uid":"1003715","ip_address":"","utype":1,"ctime":1635930704,"user_name_real":"花果山大圣"}],"discussion_count":9,"race_medal":0,"score":"23110724861","product_id":100094401,"comment_content":"老师你好，Demo写完之后我有两个小问题：<br>1. 不知道是不是我样式写的不对，使用em时，当选中5星之后，元素出现了偏移。<br>2. 对于主题这种对象，是不是可以写成常量，比如用ts的字符串类型枚举进行定义。","like_count":5,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529694,"discussion_content":"em可能是字体的问题，我本地演示没问题就贴上去了，实际开发中肯定会有图片来取代这个字符，我晚点本地再调试一下  全部限制一下字体大小应该就可以\n\n用ts的话肯定是用emus更合适，这里演示一下的话，theme用字符串，或者是直接传递color都是可以的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635930704,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1098584,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c3/58/ba171e09.jpg","nickname":"小胖","note":"","ucode":"B1C0EFDD821630","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411344,"discussion_content":"审查下元素，你会发现实心和空心的星号大小是有点点区别的。我这边的解决办是给两个星号的span一个固定宽度，然后居中。hollow的width也不直接用em，而是用这个固定宽度计算","likes_number":7,"is_delete":false,"is_hidden":false,"ctime":1635904247,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":2,"child_discussions":[{"author":{"id":1165817,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/f9/39492855.jpg","nickname":"阿阳","note":"","ucode":"20A35FB86B1C5C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1098584,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c3/58/ba171e09.jpg","nickname":"小胖","note":"","ucode":"B1C0EFDD821630","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412962,"discussion_content":"太牛了，审查元素，果然字符的宽度有差别。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636341820,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":411344,"ip_address":""},"score":412962,"extra":""},{"author":{"id":2815751,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/f7/07/cd3b32d0.jpg","nickname":"寇","note":"","ucode":"185249A0A3E542","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1098584,"avatar":"https://static001.geekbang.org/account/avatar/00/10/c3/58/ba171e09.jpg","nickname":"小胖","note":"","ucode":"B1C0EFDD821630","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":545456,"discussion_content":"牛啊牛啊","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641967278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":411344,"ip_address":""},"score":545456,"extra":""}]},{"author":{"id":2546490,"avatar":"https://static001.geekbang.org/account/avatar/00/26/db/3a/58a1da4f.jpg","nickname":"王帅兵","note":"","ucode":"5353D7E86962EE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":565300,"discussion_content":"建议直接等宽字体：font-family: &#39;Courier New&#39;, Courier, monospace;","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1650434865,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1605132,"avatar":"https://static001.geekbang.org/account/avatar/00/18/7e/0c/1b29f1ea.jpg","nickname":"went","note":"","ucode":"1970BBC0BB9F86","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413309,"discussion_content":"font-family: 宋体;","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636442858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1165817,"avatar":"https://static001.geekbang.org/account/avatar/00/11/c9/f9/39492855.jpg","nickname":"阿阳","note":"","ucode":"20A35FB86B1C5C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412963,"discussion_content":"给问题顶上去，希望老师能看到并解答。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636341867,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1568106,"avatar":"https://static001.geekbang.org/account/avatar/00/17/ed/6a/b4cc8dce.jpg","nickname":"Farewell","note":"","ucode":"F0125601F856B1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411379,"discussion_content":"注意span和星星的空格","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635912078,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1474386,"avatar":"https://static001.geekbang.org/account/avatar/00/16/7f/52/6af41d32.jpg","nickname":"tiutiu","note":"","ucode":"4AB10D2003D66B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":411323,"discussion_content":"第二点我认为组件直接接受个color参数更好，更方便灵活","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635902724,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320080,"user_name":"gongshun","can_delete":false,"product_type":"c1","uid":2821709,"ip_address":"","ucode":"0B7606C9FEC34E","user_header":"","comment_is_top":false,"comment_ctime":1636077853,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"18815947037","product_id":100094401,"comment_content":"vue3官网的 `v-model` 的语法是这样的，你那个是 vue2 的写法吧<br>```<br>&lt;my-component v-model:title=&quot;bookTitle&quot;&gt;&lt;&#47;my-component&gt;<br>```","like_count":4,"discussions":[{"author":{"id":1981220,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eq6UjL0SBicZgyKzsAnCf08l0MibyqxsCecSVXa3tKvSDeDG6XRe1ngziaChRiaRcA0kzOlIwfcnNZvwg/132","nickname":"Alias","note":"","ucode":"E62F6462B5CF35","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412247,"discussion_content":"v-model=&#34;xx&#34;也可以，只不过接收的时候只能是 modelValue。。","likes_number":4,"is_delete":false,"is_hidden":false,"ctime":1636117341,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1381826,"avatar":"https://static001.geekbang.org/account/avatar/00/15/15/c2/bb7d5e08.jpg","nickname":"关你屁事","note":"","ucode":"79DD1D7515AC22","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413952,"discussion_content":"一个默认，一个自定义的区别","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1636618087,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319937,"user_name":"Geek_1abc92","can_delete":false,"product_type":"c1","uid":2815896,"ip_address":"","ucode":"117B2FEC18A1D9","user_header":"","comment_is_top":false,"comment_ctime":1636013846,"is_pvip":false,"replies":[{"id":"116543","content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","comment_id":319937,"uid":"1003715","ip_address":"","utype":1,"ctime":1636638715,"user_name_real":"花果山大圣"}],"discussion_count":1,"race_medal":0,"score":"18815883030","product_id":100094401,"comment_content":"每一章能否贴一下完整的代码？","like_count":4,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529817,"discussion_content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638715,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319728,"user_name":"费城的二鹏","can_delete":false,"product_type":"c1","uid":1101293,"ip_address":"","ucode":"DE768A0CC3053D","user_header":"https://static001.geekbang.org/account/avatar/00/10/cd/ed/825d84ee.jpg","comment_is_top":false,"comment_ctime":1635924338,"is_pvip":false,"replies":[{"id":"115875","content":"代码高亮吗？这个得给极客时间提个需求去","user_name":"作者回复","comment_id":319728,"uid":"1003715","ip_address":"","utype":1,"ctime":1635930191,"user_name_real":"花果山大圣"}],"discussion_count":1,"race_medal":0,"score":"18815793522","product_id":100094401,"comment_content":"1. 代码目前都是一个颜色，能否添加关键词变色，方便我们阅读？<br>2. 对代码的增量修改能否通过颜色或者其它方式的变动来指示哪些是新增的，哪些是旧的，方便读者阅读出新增部分代码。","like_count":4,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529743,"discussion_content":"代码高亮吗？这个得给极客时间提个需求去","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1635930191,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342729,"user_name":"王帅兵","can_delete":false,"product_type":"c1","uid":2546490,"ip_address":"","ucode":"5353D7E86962EE","user_header":"https://static001.geekbang.org/account/avatar/00/26/db/3a/58a1da4f.jpg","comment_is_top":false,"comment_ctime":1650436394,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"14535338282","product_id":100094401,"comment_content":"问题汇总：<br>1.星星偏移：解决方案：①设置等宽字体、②固定每个星星的宽度为统一宽度<br>2.Vue:warn 提示：defineEmits([&#39;update:xxxx&#39;]) 或者 defineEmits({&#39;update:xxx&#39;: null})<br>3.v-model 补全代码：onRate代码替换成 emits(&#39;update:xxx&#39;, num) 逻辑<br>4.直接对 defineProps 解构会丢失响应式，建议加上 toRefs(),包括解构时想换个变量名也需要这样做<br>5.两个 Rate 同时依赖一个 score,A变化、B不变化的解决：加watch监听变化，拿 score 重新对 width 赋值<br>6.另外也可以直接参考我的笔记 https:&#47;&#47;gitee.com&#47;wang_da_da&#47;learn_vue3.git","like_count":3},{"had_liked":false,"id":332587,"user_name":"Geek_aa3c34","can_delete":false,"product_type":"c1","uid":2530170,"ip_address":"","ucode":"9B4C3C594F58D1","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJ9oIRvWZARRkKiayTYw9MNGPQbprTvMZhSk9icw6Ifib8iaSfTLhniaMdJ9LE4NMqSFRxuXZFGZf8NkUQ/132","comment_is_top":false,"comment_ctime":1643355697,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"10233290289","product_id":100094401,"comment_content":"建议鼠标事件改为 mouseenter&#47;mouseleave 不然会有mouseout的冒泡事件，没划过一个星星执行一次mouseout","like_count":2,"discussions":[{"author":{"id":2546490,"avatar":"https://static001.geekbang.org/account/avatar/00/26/db/3a/58a1da4f.jpg","nickname":"王帅兵","note":"","ucode":"5353D7E86962EE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":565306,"discussion_content":"同意：mouseout 改为 mouseleave 会少触发很多事件","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1650435678,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320120,"user_name":"轻飘飘过","can_delete":false,"product_type":"c1","uid":1347071,"ip_address":"","ucode":"68F26121369330","user_header":"https://static001.geekbang.org/account/avatar/00/14/8d/ff/986ffb41.jpg","comment_is_top":false,"comment_ctime":1636086647,"is_pvip":false,"replies":[{"id":"116058","content":"写死字体大小 过几天我更新一下代码把","user_name":"作者回复","comment_id":320120,"uid":"1003715","ip_address":"","utype":1,"ctime":1636113057,"user_name_real":"花果山大圣"}],"discussion_count":2,"race_medal":0,"score":"10226021239","product_id":100094401,"comment_content":"mac safari上星星显示正常，chrome上显示少了，了解到是em在不同浏览器中的问题，这个单位怎么兼容呢😃","like_count":2,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529883,"discussion_content":"写死字体大小 过几天我更新一下代码把","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636113057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1587641,"avatar":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLuJxW50ox7iax0F4hLlk3jEmysVhx5daz0AYBfqBrQBibKEJK7HlKD5ldKKLGRd4uxXNCwjvqhJmhw/132","nickname":"Geek_iris","note":"","ucode":"70F77247BD957D","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":562500,"discussion_content":"请问更新了吗，代码里没找到","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649838321,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320027,"user_name":"Victor","can_delete":false,"product_type":"c1","uid":1321640,"ip_address":"","ucode":"1E8234654B926F","user_header":"https://static001.geekbang.org/account/avatar/00/14/2a/a8/b101c645.jpg","comment_is_top":false,"comment_ctime":1636041328,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"10225975920","product_id":100094401,"comment_content":"父子组件通信的方式：1. 父组件通过子组件定义的props，传值给子组件 2. 子组件通过emits，将组件的内部的数据处理结果告知父组件,父组件通过监听子组件的事件，接收子组件的”告知“  。","like_count":2},{"had_liked":false,"id":320009,"user_name":"uncle 邦","can_delete":false,"product_type":"c1","uid":1996927,"ip_address":"","ucode":"ED5BF9398C1B5C","user_header":"https://static001.geekbang.org/account/avatar/00/1e/78/7f/ef0e0ec8.jpg","comment_is_top":false,"comment_ctime":1636037578,"is_pvip":false,"replies":[{"id":"116539","content":"其实就是尽量所有功能都按需引入，比较方便做代码依赖检查","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636638662,"ip_address":"","comment_id":320009,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10225972170","product_id":100094401,"comment_content":"let emits = defineEmits(&#39;update-rate&#39;) &#47;&#47; 定义emits<br>function onRate(num){   <br> emits(&#39;update-rate&#39;,num)<br>}<br>使用&quot;defineEmit&quot; 定义一个xx事件，再派发这个xx事件。有点重复了。vue2.直接emit（‘XX事件’）会不会简约一点。不知道这个是出于什么设计逻辑。<br><br>","like_count":2,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529842,"discussion_content":"其实就是尽量所有功能都按需引入，比较方便做代码依赖检查","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1636638662,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319910,"user_name":"Geek_40b392","can_delete":false,"product_type":"c1","uid":2815429,"ip_address":"","ucode":"929C9605996D0F","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/tdRuec9Pms7rq8YJrSicUp4p60TmVg2JpOSHiaCbhoeuSNdbXLBIibK44CBLHllHKZPSicpQytu4qC7IHs7GEibtIxA/132","comment_is_top":false,"comment_ctime":1636007523,"is_pvip":false,"replies":[{"id":"116063","content":"Rate1是个手误。。囧。默认这段教程的使用都是在入口组件演示的","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636113278,"ip_address":"","comment_id":319910,"utype":1}],"discussion_count":1,"race_medal":0,"score":"10225942115","product_id":100094401,"comment_content":"为什么创建是的Rate.vue,但是引入的时候是Rate1.vue。使用组件的那个文件也没有讲在哪里创建。","like_count":2,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529811,"discussion_content":"Rate1是个手误。。囧。默认这段教程的使用都是在入口组件演示的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636113278,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":330813,"user_name":"Geek_9012fa","can_delete":false,"product_type":"c1","uid":2863882,"ip_address":"","ucode":"6220B3F0C8F827","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epsArz5gck1iasmRzHNfTzpKrHgXXCEwldkBGFRdDzEwp1kQWL7Z2M8Mh9PvDjOzicAaLy2ibeLGV2og/132","comment_is_top":false,"comment_ctime":1642173787,"is_pvip":false,"replies":[{"id":"120836","content":"给你点个赞  bug fix！","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1642338293,"ip_address":"","comment_id":330813,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5937141083","product_id":100094401,"comment_content":"用最后slot的例子测试时发现，2个Rate用v-model绑定同一个变量的时候，一个点击修改评分后，另一个并不会变，得在另一个上用鼠标移动一下，触发mouseOut重新取值才会更新。<br>实际使用时很可能出现父组件直接修改评分，应在Rate组件中增加：<br>watch(props, () =&gt; { width.value = props.modelValue });<br>及时更新width的值...","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546537,"discussion_content":"给你点个赞  bug fix！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642338293,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328508,"user_name":"coder","can_delete":false,"product_type":"c1","uid":1656956,"ip_address":"","ucode":"3A0940EBF94577","user_header":"https://static001.geekbang.org/account/avatar/00/19/48/7c/2aaf50e5.jpg","comment_is_top":false,"comment_ctime":1640757729,"is_pvip":false,"replies":[{"id":"120866","content":"可以设置一下字体试试，https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course&#47;blob&#47;main&#47;mini-vuex-router&#47;index.html#L14","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1642342283,"ip_address":"","comment_id":328508,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5935725025","product_id":100094401,"comment_content":"星星重叠的时候会变形，有人遇到吗？","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546576,"discussion_content":"可以设置一下字体试试，https://github.com/shengxinjing/geektime-vue-course/blob/main/mini-vuex-router/index.html#L14","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642342283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":324876,"user_name":"风一样","can_delete":false,"product_type":"c1","uid":2818001,"ip_address":"","ucode":"5EA5129D487E43","user_header":"https://static001.geekbang.org/account/avatar/00/2a/ff/d1/7a4a6f4f.jpg","comment_is_top":false,"comment_ctime":1638698436,"is_pvip":false,"replies":[{"id":"118330","content":"看下emits的写法<br>let emits = defineEmits([&quot;update-rate&quot;])","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1639398476,"ip_address":"","comment_id":324876,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5933665732","product_id":100094401,"comment_content":"请问老师，为什么我执行 点击评分 后，会报一个警告呢：[Vue warn]: Component emitted event &quot;update-rate&quot; but it is neither declared in the emits option nor as an &quot;onUpdate-rate&quot; prop.","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538319,"discussion_content":"看下emits的写法\nlet emits = defineEmits([&#34;update-rate&#34;])","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639398476,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1332801,"avatar":"https://static001.geekbang.org/account/avatar/00/14/56/41/7d869dbe.jpg","nickname":"Leon","note":"","ucode":"07AD26D19564E5","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538247,"discussion_content":"请问解决了吗，我也遇到这个问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639380797,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323028,"user_name":"NULL","can_delete":false,"product_type":"c1","uid":2816269,"ip_address":"","ucode":"FB844F99B407BF","user_header":"https://static001.geekbang.org/account/avatar/00/2a/f9/0d/21bf48eb.jpg","comment_is_top":false,"comment_ctime":1637713025,"is_pvip":false,"discussion_count":3,"race_medal":0,"score":"5932680321","product_id":100094401,"comment_content":"我在这里遇到mouseOver(i)时，实心星★显示 i em时与上面空心星☆错位的问题：<br>· 当 i = 1时鼠标在第1颗星，width 计算为 1em，但此时会在第2颗星左侧多显示一个尖尖——即1em比一颗星再宽一点点；<br>· i 到后面同样依次错位——鼠标在第4颗星和第5颗星左侧时，都显示最右侧空白一丝丝的5颗星；<br>· 而当鼠标移到第5颗星右半时，五颗实心星全部显示——但与空心星位置相比，整体右移半颗星的距离。<br>· 还有，我好像并没有实现【半颗星】，按宽度始终都是整数em，只是显示出来的错位使得有半星的感觉，实际mouseOver应该还是1-5。<br><br>这应该是哪里问题@_@？em的基准长度问题？还是哪里有位置控制细节bug？浏览器从Chrome换到火狐也一样。。把星星换成字母也一样。。","like_count":1,"discussions":[{"author":{"id":2546490,"avatar":"https://static001.geekbang.org/account/avatar/00/26/db/3a/58a1da4f.jpg","nickname":"王帅兵","note":"","ucode":"5353D7E86962EE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":565293,"discussion_content":"字体非等宽的问题，换用字体等宽就好了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650430530,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2154121,"avatar":"","nickname":"陈俊标","note":"","ucode":"DC02AFCD8408F1","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":540430,"discussion_content":"我还遇到了点击最后一个星星会出现五个空白的星星重叠在原来的星星边上，没有全部重叠","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1640056872,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2819914,"avatar":"https://static001.geekbang.org/account/avatar/00/2b/07/4a/c698be5b.jpg","nickname":"不安现状","note":"","ucode":"EAE549A0DDB982","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":537838,"discussion_content":"我也遇到同样的问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639216369,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":322145,"user_name":"Dean","can_delete":false,"product_type":"c1","uid":1232975,"ip_address":"","ucode":"9003F1E9ECD286","user_header":"https://static001.geekbang.org/account/avatar/00/12/d0/4f/b068b1b3.jpg","comment_is_top":false,"comment_ctime":1637205577,"is_pvip":false,"replies":[{"id":"116991","content":"默认就是字符串 ，如果theme用冒号的话，内部还需要加上分号","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1637242536,"ip_address":"","comment_id":322145,"utype":1}],"discussion_count":2,"race_medal":0,"score":"5932172873","product_id":100094401,"comment_content":"&lt;Rate :value=&quot;1&quot; theme=&quot;green&quot;&gt;&lt;&#47;Rate&gt;<br>这段代码，为什么value前面要加：，theme前面不用加？是因为一个类型是数字，一个是字符串吗？但是子组件里面不是已经在props里定义了type类型了吗，为什么value前面不加：的话，子组件里获得的是一个字符串？","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":531155,"discussion_content":"默认就是字符串 ，如果theme用冒号的话，内部还需要加上分号","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637242536,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":1,"child_discussions":[{"author":{"id":1224983,"avatar":"https://static001.geekbang.org/account/avatar/00/12/b1/17/9d8442e7.jpg","nickname":"Virgo","note":"","ucode":"A8C6F4E869F55C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"discussion":{"id":562964,"discussion_content":"内部还需要加上分号是怎么个加法，还望老师再详解一下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1649916283,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":531155,"ip_address":""},"score":562964,"extra":""}]}]},{"had_liked":false,"id":320932,"user_name":"giteebravo","can_delete":false,"product_type":"c1","uid":1005290,"ip_address":"","ucode":"C087E8D6B5A98B","user_header":"https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg","comment_is_top":false,"comment_ctime":1636564834,"is_pvip":false,"replies":[{"id":"116503","content":"第一部分的演示代码在这里了，欢迎发现bug提pr<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636637652,"ip_address":"","comment_id":320932,"utype":1}],"discussion_count":2,"race_medal":1,"score":"5931532130","product_id":100094401,"comment_content":"<br>v-model 那一段代码没搞明白:(","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530167,"discussion_content":"第一部分的演示代码在这里了，欢迎发现bug提pr\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636637652,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1005290,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/56/ea/32608c44.jpg","nickname":"giteebravo","note":"","ucode":"C087E8D6B5A98B","race_medal":1,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":533485,"discussion_content":"\n没找到合适的梯子，郁闷中…\n不过最终还是捣鼓出来了！\n","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1637885970,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"user_type\":1}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320669,"user_name":"奇奇","can_delete":false,"product_type":"c1","uid":1031906,"ip_address":"","ucode":"1AED63F069C040","user_header":"https://static001.geekbang.org/account/avatar/00/0f/be/e2/57d62270.jpg","comment_is_top":false,"comment_ctime":1636445653,"is_pvip":false,"replies":[{"id":"116522","content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636638167,"ip_address":"","comment_id":320669,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5931412949","product_id":100094401,"comment_content":"以前没有对 v-model 这个语法糖深入了解，今日一番通畅","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530079,"discussion_content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638167,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320082,"user_name":"王志成","can_delete":false,"product_type":"c1","uid":1145127,"ip_address":"","ucode":"FDC625E3EC3C59","user_header":"https://static001.geekbang.org/account/avatar/00/11/79/27/7ac85e6f.jpg","comment_is_top":false,"comment_ctime":1636077981,"is_pvip":false,"replies":[{"id":"116569","content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636639322,"ip_address":"","comment_id":320082,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5931045277","product_id":100094401,"comment_content":"可以把课程中的代码开源出来吗？vue小白，看着教程写代码，有些地方运行不下去。","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529866,"discussion_content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636639322,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319992,"user_name":"柒月","can_delete":false,"product_type":"c1","uid":1371240,"ip_address":"","ucode":"839A8F88C376A3","user_header":"https://static001.geekbang.org/account/avatar/00/14/ec/68/06d59613.jpg","comment_is_top":false,"comment_ctime":1636030105,"is_pvip":false,"replies":[{"id":"118395","content":"1. 组件设计其实就是props，event和slot三个方法考虑，是否要抽离出组件需要看复用的需求<br>2. 扩展性的话举个小例子，我们用element的提供了默认的组件，但是也对外暴露了css各种变量的修改方法，可以很方便的扩展组件库的主题","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1639403340,"ip_address":"","comment_id":319992,"utype":1}],"discussion_count":1,"race_medal":0,"score":"5930997401","product_id":100094401,"comment_content":"大圣老师，请教下：<br>1、设计一个好的组件，需要从哪些方面去思考呢？ <br>2、通用性比较好理解，拓展性怎么考虑呢？","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538405,"discussion_content":"1. 组件设计其实就是props，event和slot三个方法考虑，是否要抽离出组件需要看复用的需求\n2. 扩展性的话举个小例子，我们用element的提供了默认的组件，但是也对外暴露了css各种变量的修改方法，可以很方便的扩展组件库的主题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639403340,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319819,"user_name":"轩爷","can_delete":false,"product_type":"c1","uid":1016658,"ip_address":"","ucode":"1C59F6A4E7ABAE","user_header":"https://static001.geekbang.org/account/avatar/00/0f/83/52/d67f276d.jpg","comment_is_top":false,"comment_ctime":1635952163,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5930919459","product_id":100094401,"comment_content":"功能需求：<br>1、鼠标滑过显示具体的评分值，评分值支持小数点后1位<br>2、根据评分高低动态变换星星的颜色<br>3、达到满分时，有庆祝动画<br>4、支持零星<br>😁","like_count":1},{"had_liked":false,"id":319793,"user_name":"ps Sensking","can_delete":false,"product_type":"c1","uid":1377764,"ip_address":"","ucode":"8B3BC6E89B6EF9","user_header":"https://static001.geekbang.org/account/avatar/00/15/05/e4/3e676c4d.jpg","comment_is_top":false,"comment_ctime":1635943416,"is_pvip":false,"replies":[{"id":"116546","content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636638810,"ip_address":"","comment_id":319793,"utype":1}],"discussion_count":1,"race_medal":1,"score":"5930910712","product_id":100094401,"comment_content":"V model希望有代码比较全的，父子两个全代码谢谢","like_count":1,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529771,"discussion_content":"第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638810,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":357856,"user_name":"崔皓","can_delete":false,"product_type":"c1","uid":2571581,"ip_address":"浙江","ucode":"C55F6A35466B32","user_header":"https://static001.geekbang.org/account/avatar/00/27/3d/3d/7fe4846f.jpg","comment_is_top":false,"comment_ctime":1663686725,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663686725","product_id":100094401,"comment_content":"两个rate不能同时更新，是不是因为非事件造成的向子组件传递props，并不会触发v-model中类似&quot;观察“的回调的执行,造成width.value没法更新，所以第二个rate不能跟随第一个rate？","like_count":0},{"had_liked":false,"id":357533,"user_name":"c_ccc07","can_delete":false,"product_type":"c1","uid":2431908,"ip_address":"四川","ucode":"6B7A2252464774","user_header":"https://static001.geekbang.org/account/avatar/00/25/1b/a4/bcb1ce82.jpg","comment_is_top":false,"comment_ctime":1663340253,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1663340253","product_id":100094401,"comment_content":"let width = ref(props.value)<br>function mouseOver(i){ width.value = i }<br>function mouseOut(){ width.value = props.value}<br>这里的例子实际会让人误理解为ref保持有props的引用，实际上是因为emit =&gt; props =&gt; mouseOut导致的内部值变化，可考虑将例子改为watch props的方式，更方便入门理解。","like_count":0},{"had_liked":false,"id":352441,"user_name":"PandaCheng","can_delete":false,"product_type":"c1","uid":1132864,"ip_address":"","ucode":"7227FB29440387","user_header":"https://static001.geekbang.org/account/avatar/00/11/49/40/0312df78.jpg","comment_is_top":false,"comment_ctime":1658672428,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1658672428","product_id":100094401,"comment_content":"这门课买的值了","like_count":0},{"had_liked":false,"id":351791,"user_name":"Geek_e9d76e","can_delete":false,"product_type":"c1","uid":3065837,"ip_address":"","ucode":"78D75FC3A04ACC","user_header":"","comment_is_top":false,"comment_ctime":1658197470,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1658197470","product_id":100094401,"comment_content":"为什么我的星星组件会错位呢","like_count":0},{"had_liked":false,"id":346226,"user_name":"Geek_e2c59e","can_delete":false,"product_type":"c1","uid":2708942,"ip_address":"","ucode":"14B60545ABB9F4","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/VzjUV1Io39wvVzLpdyF2ibIodS1JpTiaDKosSQSWDMgSjhxrWUSQYwUzK3cSeJW5Zz3zwLlDnyKcX1QAib9TCcvAw/132","comment_is_top":false,"comment_ctime":1652929095,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652929095","product_id":100094401,"comment_content":"通过宽度显示星星数量，不知道为啥我的显示是错乱的","like_count":0},{"had_liked":false,"id":343736,"user_name":"陈坚泓","can_delete":false,"product_type":"c1","uid":2461961,"ip_address":"","ucode":"75258EE1BF1C2A","user_header":"https://static001.geekbang.org/account/avatar/00/25/91/09/6f0b987a.jpg","comment_is_top":false,"comment_ctime":1651029441,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1651029441","product_id":100094401,"comment_content":"学到了 &quot;★★★★★☆☆☆☆☆&quot;.slice(5 - props.value, 10 - props.value) ","like_count":0},{"had_liked":false,"id":341939,"user_name":"Virgo","can_delete":false,"product_type":"c1","uid":1224983,"ip_address":"","ucode":"A8C6F4E869F55C","user_header":"https://static001.geekbang.org/account/avatar/00/12/b1/17/9d8442e7.jpg","comment_is_top":false,"comment_ctime":1649925668,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1649925668","product_id":100094401,"comment_content":"      &lt;span @mouseover=&quot;mouseOver(num)&quot; v-for=&quot;num in 5&quot; :key=&quot;num&quot;&gt;<br>            ☆<br>      &lt;&#47;span&gt;<br><br>这个代码还不能这样写，会导致错乱和换行显示","like_count":0},{"had_liked":false,"id":339609,"user_name":"Shabby申","can_delete":false,"product_type":"c1","uid":2100274,"ip_address":"","ucode":"830159BA1B43F6","user_header":"https://static001.geekbang.org/account/avatar/00/20/0c/32/5ac4bd8f.jpg","comment_is_top":false,"comment_ctime":1648222575,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1648222575","product_id":100094401,"comment_content":"大圣老师你好，在最后讲的插槽部分，我有一个问题哈，代码如下：<br>  你的评分是{{ score }}<br>  &lt;Rate v-model=&quot;score&quot;&gt;&lt;&#47;Rate&gt;<br>  &lt;Rate v-model=&quot;score&quot;&gt;<br>    sss<br>  &lt;&#47;Rate&gt;<br>这里面在父组件里面，共用了一个state，score变量，父组件通过v-model语法，拿到子组件Rate中的点击事件变量，从而更新了父组件页面中的score变量。<br>我的问题是，如果点击了第一个子组件为5，那么第一个Rate组件显示的是五颗星，父组件中的score变量也是五颗星。那对于第二个子组件Rota来说，显示的还是之前默认的星数，并没有变成五颗星。父组件如果发生了改变，不会造成第二个子组件的重新render么？<br>（注：之前误点的提交是想换行，抱歉）<br>","like_count":0,"discussions":[{"author":{"id":2546490,"avatar":"https://static001.geekbang.org/account/avatar/00/26/db/3a/58a1da4f.jpg","nickname":"王帅兵","note":"","ucode":"5353D7E86962EE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":565302,"discussion_content":"我这边的效果是会同步的，可以download我的笔记库本地试试：https://gitee.com/wang_da_da/learn_vue3.git","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650435061,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":339608,"user_name":"Shabby申","can_delete":false,"product_type":"c1","uid":2100274,"ip_address":"","ucode":"830159BA1B43F6","user_header":"https://static001.geekbang.org/account/avatar/00/20/0c/32/5ac4bd8f.jpg","comment_is_top":false,"comment_ctime":1648222055,"is_pvip":false,"replies":[{"id":"124129","content":"留言似乎没写全……","user_name":"编辑回复","user_name_real":"编辑","uid":"1501385","ctime":1648256004,"ip_address":"","comment_id":339608,"utype":2}],"discussion_count":1,"race_medal":0,"score":"1648222055","product_id":100094401,"comment_content":"大圣老师你好，我这里有一个问题哈。在最后讲到插槽，现有如下代码","like_count":0,"discussions":[{"author":{"id":1501385,"avatar":"https://static001.geekbang.org/account/avatar/00/16/e8/c9/59bcd490.jpg","nickname":"听水的湖","note":"","ucode":"B1759F90165D81","race_medal":0,"user_type":8,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558361,"discussion_content":"留言似乎没写全……","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1648256004,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":8}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":335606,"user_name":"Geek_eca7e0","can_delete":false,"product_type":"c1","uid":2896445,"ip_address":"","ucode":"E767C413D1A122","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLmyrX5C3Nou4FevsrksG5ibKCwyIw5CpLnZGricyYyPAPOkaMaxb8icvlTsklWw0yuD89LIkoZmsThw/132","comment_is_top":false,"comment_ctime":1645602154,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1645602154","product_id":100094401,"comment_content":"const fontwidth = computed(() =&gt; `width:${width.value}em;`);<br>效果会有错位。<br>","like_count":0},{"had_liked":false,"id":334066,"user_name":"心若水，则长安","can_delete":false,"product_type":"c1","uid":1380860,"ip_address":"","ucode":"4D7AE6552A65A4","user_header":"https://static001.geekbang.org/account/avatar/00/15/11/fc/80256cc8.jpg","comment_is_top":false,"comment_ctime":1644721239,"is_pvip":false,"discussion_count":1,"race_medal":0,"score":"1644721239","product_id":100094401,"comment_content":"结构赋别名问题<br>let { modelValue: b } = defineProps(...), template中使用b的时候会报警告未在实例中定义b<br>若改为以下方式<br>let { modelValue } = defineProps(...);<br>let b = modelValue;<br>将丢失b的响应式，请问这种形式有何解法<br><br>vue不像react，state发生变化触发render重新执行组件内的代码","like_count":0,"discussions":[{"author":{"id":2546490,"avatar":"https://static001.geekbang.org/account/avatar/00/26/db/3a/58a1da4f.jpg","nickname":"王帅兵","note":"","ucode":"5353D7E86962EE","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":565304,"discussion_content":"1.首先感觉没必要在解构的时候赋值别名，想要别名可以直接在 v-model:xxx 处指定\n2.直接解构 defineProps 返回结果是会丢失响应式的，你可以试试 let { score:customScore } = defineProps(...)","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1650435437,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":333323,"user_name":"逗逼章鱼","can_delete":false,"product_type":"c1","uid":1197314,"ip_address":"","ucode":"5E8A5E1CC375B7","user_header":"http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEJfTnE46bP9zFU0MJicYZmKYTPhm97YjgSEmNVKr3ic1BY3CL8ibPUFCBVTqyoHQPpBcbe9GRKEN1CyA/132","comment_is_top":false,"comment_ctime":1644289107,"is_pvip":false,"discussion_count":0,"race_medal":1,"score":"1644289107","product_id":100094401,"comment_content":"`&quot;★★★★★☆☆☆☆☆&quot;.slice(5 - props.value, 10 - props.value))` 太妙了！！😄","like_count":0},{"had_liked":false,"id":333171,"user_name":"🍀爱马","can_delete":false,"product_type":"c1","uid":1454852,"ip_address":"","ucode":"6BF4AC35A10D83","user_header":"https://static001.geekbang.org/account/avatar/00/16/33/04/14bdd257.jpg","comment_is_top":false,"comment_ctime":1644154892,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1644154892","product_id":100094401,"comment_content":"1.defineProps定义传递数据的格式，父组件可以通过defineProps中定义的属性把数据传递给子组件<br>   子组件：<br>    let props=defineProps({<br>    value:Number,<br>    theme:{type:String,default:&#39;orange&#39;}<br>})<br>   父组件:<br>   &lt;Rate :value=&quot;score&quot; ...&gt;<br>2.defineEmits定义监听的函数，当子组件的数据发生变化，可以通过defineEmits定义的监听函数通知父组件<br>    子组件：<br>    let emits=defineEmits(&#39;update-rate&#39;)<br>   function onRate(num){<br>       emits(&#39;update-rate&#39;,num)<br>    }<br>   父组件：<br>   &lt;Rate ... @update-rate=&quot;update&quot;&gt;<br>   function update(num){<br>   ...<br>   }<br>3.自定义组件的v-model:规范化defineProps和defineEmits<br>    <br>    规范化过程如下：<br>    &lt;input v-model=&quot;searchText&quot; &#47;&gt;<br>    等价于<br>    &lt;input :value=&quot;searchText&quot; @input=&quot;searchText = $event.target.value&quot; &#47;&gt;<br>    放在自定义组件上是<br>   &lt;custom-input<br>  :model-value=&quot;searchText&quot;<br>  @update:model-value=&quot;searchText = $event&quot;&gt;&lt;&#47;custom-input&gt;<br>   到自定义组件.vue的script里面就是<br>   defineProps({modelValue})<br>   defineEmits([&#39;update:modelValue&#39;])<br>  <br>  父组件:<br>   &lt;Rate v-model=&quot;score&quot; &gt;&lt;&#47;score&gt;<br>     function update(num){<br>   ...<br>   }<br>  <br>  <br>4.自定义组件中使用slot","like_count":0},{"had_liked":false,"id":330535,"user_name":"不负韶华","can_delete":false,"product_type":"c1","uid":1095513,"ip_address":"","ucode":"ED5A7A1C56E134","user_header":"https://static001.geekbang.org/account/avatar/00/10/b7/59/9a0cad96.jpg","comment_is_top":false,"comment_ctime":1642033324,"is_pvip":false,"replies":[{"id":"120840","content":"你指的是哪里？","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1642338396,"ip_address":"","comment_id":330535,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1642033324","product_id":100094401,"comment_content":"图片是怎么放到代码里的","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546541,"discussion_content":"你指的是哪里？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642338396,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":328361,"user_name":"天涯过客","can_delete":false,"product_type":"c1","uid":2837077,"ip_address":"","ucode":"001C99F043E37B","user_header":"","comment_is_top":false,"comment_ctime":1640688641,"is_pvip":false,"replies":[{"id":"120868","content":"可以对比一下这里的代码<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course&#47;blob&#47;main&#47;mini-vuex-router&#47;src&#47;components&#47;Rate.vue","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1642342560,"ip_address":"","comment_id":328361,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1640688641","product_id":100094401,"comment_content":"在Vue3.2.16里，v-model这种方式，点击不能设置Rate的值。在fontwidth那个计算属性里加了log，有时会提示width未定义错误。不知是啥问题？","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":546578,"discussion_content":"可以对比一下这里的代码\nhttps://github.com/shengxinjing/geektime-vue-course/blob/main/mini-vuex-router/src/components/Rate.vue","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642342560,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323778,"user_name":"b","can_delete":false,"product_type":"c1","uid":2815463,"ip_address":"","ucode":"0A3CD83335AB58","user_header":"https://static001.geekbang.org/account/avatar/00/2a/f5/e7/8ecec2c1.jpg","comment_is_top":false,"comment_ctime":1638158199,"is_pvip":false,"replies":[{"id":"118370","content":"有完整代码链接吗 ？这样看起来是可以的","user_name":"作者回复","user_name_real":"编辑","uid":"1003715","ctime":1639401301,"ip_address":"","comment_id":323778,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1638158199","product_id":100094401,"comment_content":"为啥这样不生效？哪里写错了？<br>let emits = defineEmits([&#39;update:modelValue&#39;])<br>function onRate(num) {<br>  emits(&#39;update:modelValue&#39;,num)<br>}","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":538369,"discussion_content":"有完整代码链接吗 ？这样看起来是可以的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1639401301,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":323500,"user_name":"造梦者","can_delete":false,"product_type":"c1","uid":1292718,"ip_address":"","ucode":"3605C0F1A4E181","user_header":"https://static001.geekbang.org/account/avatar/00/13/b9/ae/1962e54f.jpg","comment_is_top":false,"comment_ctime":1637935838,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637935838","product_id":100094401,"comment_content":"可以更新的需求：<br>1.鼠标滑动时过渡效果 通过添加transition实现<br>2.点击后的反馈动画 通过class的动态类绑定实现","like_count":0},{"had_liked":false,"id":323098,"user_name":"Derek","can_delete":false,"product_type":"c1","uid":1146983,"ip_address":"","ucode":"A4D5DED1E00F60","user_header":"https://static001.geekbang.org/account/avatar/00/11/80/67/4e381da5.jpg","comment_is_top":false,"comment_ctime":1637726560,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637726560","product_id":100094401,"comment_content":"老师能在文章里把代码写全吗？翻github上的代码都是已经做过修改的，跟文章比对太降低效率了。","like_count":0},{"had_liked":false,"id":322712,"user_name":"聆听","can_delete":false,"product_type":"c1","uid":1490169,"ip_address":"","ucode":"D7232626C6394D","user_header":"https://static001.geekbang.org/account/avatar/00/16/bc/f9/f4345ea6.jpg","comment_is_top":false,"comment_ctime":1637562710,"is_pvip":true,"discussion_count":1,"race_medal":0,"score":"1637562710","product_id":100094401,"comment_content":"VUE3文档：在 &lt;script setup&gt; 中必须使用 defineProps 和 defineEmits API 来声明 props 和 emits ，它们具备完整的类型推断并且在 &lt;script setup&gt; 中是直接可用的<br><br>&lt;Rate v-model=&quot;score&quot; theme=&quot;yellow&quot; @update=&quot;update&quot;&gt;&lt;&#47;Rate&gt;<br><br>let emits = defineEmits(&#39;[update:modelValue]&#39;) &#47;&#47; 定义emits<br>function onRate(num){<br>    emits(&#39;update:modelValue&#39;,num)<br>}<br>点击时异常：<br>[Vue warn]: Component emitted event &quot;update:modelValue&quot; but it is neither declared in the emits option nor as an &quot;onUpdate:modelValue&quot; prop.<br>根据文档描述改为：<br><br>let emits = defineEmits([&#39;update&#39;]) &#47;&#47; 定义emits<br>function onRate(num){<br>    emits(&#39;update&#39;,num)<br>}<br>可正常运行 不过星星有偏移","like_count":0,"discussions":[{"author":{"id":2816305,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/f9/31/58dc4dc1.jpg","nickname":"yhl","note":"","ucode":"813D0A27816AD4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534377,"discussion_content":"let emits = defineEmits(&#39;[update:modelValue]&#39;)\n改成let emits = defineEmits([&#39;update:modelValue&#39;])\n[]放在&#39;&#39;外面就可以了","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1638176046,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":322528,"user_name":"Geek_0c8aff","can_delete":false,"product_type":"c1","uid":2636593,"ip_address":"","ucode":"64089C32DB4CA9","user_header":"","comment_is_top":false,"comment_ctime":1637465982,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1637465982","product_id":100094401,"comment_content":"const emitMy = defineEmits&lt;{<br>      (e: &#39;updateRate&#39;, num: number): void<br>    }&gt;()<br>&#47;&#47; ts这样定义emit，为何emitMy的值为null,  vue版本3.2.16","like_count":0},{"had_liked":false,"id":321566,"user_name":"赝品","can_delete":false,"product_type":"c1","uid":1131075,"ip_address":"","ucode":"2540CF111456FE","user_header":"https://static001.geekbang.org/account/avatar/00/11/42/43/e3fc0cd5.jpg","comment_is_top":false,"comment_ctime":1636948138,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636948138","product_id":100094401,"comment_content":"&quot;★★★★★☆☆☆☆☆&quot;.slice(5 - props.value, 10 - props.value)这个实现很亮。","like_count":0},{"had_liked":false,"id":320917,"user_name":"王志成","can_delete":false,"product_type":"c1","uid":1145127,"ip_address":"","ucode":"FDC625E3EC3C59","user_header":"https://static001.geekbang.org/account/avatar/00/11/79/27/7ac85e6f.jpg","comment_is_top":false,"comment_ctime":1636556643,"is_pvip":false,"replies":[{"id":"116504","content":"第一部分的演示代码在这里了，欢迎发现bug提pr<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636637660,"ip_address":"","comment_id":320917,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1636556643","product_id":100094401,"comment_content":"大圣，可以帮忙看看吗？前端小白卡在了 does not provide an export named &#39;definedProps&#39;这个报错好长时间，毫无办法<br>-----------------------------------------<br>import { definedProps,computed } from &#39;vue&#39;;<br><br>------------------------------------------<br>&quot;dependencies&quot;: {<br>    &quot;vue&quot;: &quot;^3.2.16&quot;,<br>    &quot;vue-router&quot;: &quot;^4.0.12&quot;,<br>    &quot;vuex&quot;: &quot;^4.0.2&quot;<br>  },<br>  &quot;devDependencies&quot;: {<br>    &quot;@vitejs&#47;plugin-vue&quot;: &quot;^1.9.3&quot;,<br>    &quot;vite&quot;: &quot;^2.6.4&quot;<br>  }<br>","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530163,"discussion_content":"第一部分的演示代码在这里了，欢迎发现bug提pr\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636637660,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2816305,"avatar":"https://static001.geekbang.org/account/avatar/00/2a/f9/31/58dc4dc1.jpg","nickname":"yhl","note":"","ucode":"813D0A27816AD4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":534378,"discussion_content":"import { definedProps,computed } from &#39;vue&#39;; definedProps有语法错误，\n应该是difineProps","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1638176146,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320670,"user_name":"XD_🙈","can_delete":false,"product_type":"c1","uid":1018817,"ip_address":"","ucode":"A7283327F3F451","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8b/c1/abb7bfe3.jpg","comment_is_top":false,"comment_ctime":1636445834,"is_pvip":false,"replies":[{"id":"116523","content":"是defineEmits([&#39;update:modelValue&#39;])<br>第一部分实战代码在这里呀，欢迎遇见bug了提pr呀<br>https:&#47;&#47;github.com&#47;shengxinjing&#47;geektime-vue-course","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636638197,"ip_address":"","comment_id":320670,"utype":1}],"discussion_count":2,"race_medal":0,"score":"1636445834","product_id":100094401,"comment_content":"老师你好，我使用<br>import {defineEmits} from &#39;vue&#39;;<br>let emits = defineEmits(&#39;update-rate&#39;) <br>会提示emits 未定义，打印emits 是null，<br>改成<br>import {defineEmit} from &#39;vue&#39;;<br>let emit = defineEmit(&#39;update-rate&#39;) <br>是正常的。但是会警告<br>Extraneous non-emits event listeners (update-rate) ","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":530080,"discussion_content":"是defineEmits([&amp;#39;update:modelValue&amp;#39;])\n第一部分实战代码在这里呀，欢迎遇见bug了提pr呀\nhttps://github.com/shengxinjing/geektime-vue-course","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638197,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1381826,"avatar":"https://static001.geekbang.org/account/avatar/00/15/15/c2/bb7d5e08.jpg","nickname":"关你屁事","note":"","ucode":"79DD1D7515AC22","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":413951,"discussion_content":"let emits = defineEmits([&#39;update-rate&#39;]) 这样呢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636618002,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320287,"user_name":"Mserke","can_delete":false,"product_type":"c1","uid":1276988,"ip_address":"","ucode":"F9726E91F6E24C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erDeOuPaaRAgWLLIdarW4RI2xrgdDkaPVLNuyba5kVFtCrqOialpOjkCgqZyOfxfxXJKd8a6jDI98g/132","comment_is_top":false,"comment_ctime":1636202997,"is_pvip":false,"replies":[{"id":"116532","content":"最佳实践就是通过emit去通知父元素自己改","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636638491,"ip_address":"","comment_id":320287,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1636202997","product_id":100094401,"comment_content":"如果子组件想要改变父组件传递参数的值，请问该怎么处理呢？<br>只能用ref 新建一个变量吗，有更好的处理方式吗？","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529939,"discussion_content":"最佳实践就是通过emit去通知父元素自己改","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638491,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320286,"user_name":"Mserke","can_delete":false,"product_type":"c1","uid":1276988,"ip_address":"","ucode":"F9726E91F6E24C","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erDeOuPaaRAgWLLIdarW4RI2xrgdDkaPVLNuyba5kVFtCrqOialpOjkCgqZyOfxfxXJKd8a6jDI98g/132","comment_is_top":false,"comment_ctime":1636202845,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1636202845","product_id":100094401,"comment_content":"如果子组件想要改变父组件传递参数的值，应该怎么处理呢？","like_count":0},{"had_liked":false,"id":320142,"user_name":"NiceBlueChai","can_delete":false,"product_type":"c1","uid":2038718,"ip_address":"","ucode":"2043333890C448","user_header":"https://static001.geekbang.org/account/avatar/00/1f/1b/be/525e05ae.jpg","comment_is_top":false,"comment_ctime":1636098053,"is_pvip":true,"replies":[{"id":"116057","content":"代码方便发出来看下吗","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636113034,"ip_address":"","comment_id":320142,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1636098053","product_id":100094401,"comment_content":"Component emitted event &quot;update-rate&quot; but it is neither declared in the emits option nor as an &quot;onUpdate-rate&quot; prop.","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529892,"discussion_content":"代码方便发出来看下吗","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636113034,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1276988,"avatar":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erDeOuPaaRAgWLLIdarW4RI2xrgdDkaPVLNuyba5kVFtCrqOialpOjkCgqZyOfxfxXJKd8a6jDI98g/132","nickname":"Mserke","note":"","ucode":"F9726E91F6E24C","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":412527,"discussion_content":"let emits = defineEmits(&#39;update-rate&#39;) 改成 let emits = defineEmits([&#39;update-rate&#39;]) 即可","likes_number":3,"is_delete":false,"is_hidden":false,"ctime":1636202670,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1232975,"avatar":"https://static001.geekbang.org/account/avatar/00/12/d0/4f/b068b1b3.jpg","nickname":"Dean","note":"","ucode":"9003F1E9ECD286","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":415009,"discussion_content":"好像直接let emits = defineEmits() 也可以实现功能，没有警告信息，不知道这个update-rate是否有必要在两个地方都写","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636963297,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319881,"user_name":"@","can_delete":false,"product_type":"c1","uid":1985141,"ip_address":"","ucode":"B308157E3FA393","user_header":"https://static001.geekbang.org/account/avatar/00/1e/4a/75/51435f4b.jpg","comment_is_top":false,"comment_ctime":1635997155,"is_pvip":false,"replies":[{"id":"116064","content":"感谢提醒，有哪里有报错吗  还是有规范的问题 我尽快改一下","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636113319,"ip_address":"","comment_id":319881,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635997155","product_id":100094401,"comment_content":"代码还得需要再细心点啊","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529798,"discussion_content":"感谢提醒，有哪里有报错吗  还是有规范的问题 我尽快改一下","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636113319,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319753,"user_name":"666de6","can_delete":false,"product_type":"c1","uid":1382382,"ip_address":"","ucode":"C5485E1AE199CB","user_header":"https://static001.geekbang.org/account/avatar/00/15/17/ee/fa085494.jpg","comment_is_top":false,"comment_ctime":1635929387,"is_pvip":false,"replies":[{"id":"116549","content":"换网址拉，https:&#47;&#47;e3.shengxinjing.cn&#47;#&#47;component&#47;installation","user_name":"作者回复","user_name_real":"花果山大圣","uid":"1003715","ctime":1636638857,"ip_address":"","comment_id":319753,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1635929387","product_id":100094401,"comment_content":"https:&#47;&#47;element3-ui.com&#47; 这个地址一直访问不了呢","like_count":0,"discussions":[{"author":{"id":1003715,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/50/c3/0aa50246.jpg","nickname":"花果山大圣","note":"","ucode":"25C0A36D628037","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":529758,"discussion_content":"换网址拉，https://e3.shengxinjing.cn/#/component/installation","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1636638857,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":319691,"user_name":"李明白","can_delete":false,"product_type":"c1","uid":1159839,"ip_address":"","ucode":"0D7D4E21DE8010","user_header":"https://static001.geekbang.org/account/avatar/00/11/b2/9f/7a38a96f.jpg","comment_is_top":false,"comment_ctime":1635911792,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1635911792","product_id":100094401,"comment_content":"完美","like_count":0}]}
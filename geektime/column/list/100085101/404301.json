{"id":404301,"title":"01 | å®æˆ˜ï¼šå®ç°ä¸€ä¸ª ToDo çš„åº”ç”¨ï¼ˆä¸Šï¼‰","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯éƒ‘æ™”ã€‚</p><p>è¿™ä¸€è®²æ˜¯æˆ‘ä»¬æ•´ä¸ªä¸“æ çš„ç¬¬ä¸€èŠ‚è¯¾ã€‚æˆ‘åœ¨å¼€ç¯‡è¯é‡Œè¯´è¿‡ï¼Œå¾ˆå¤šç¨‹åºå‘˜ä¹‹æ‰€ä»¥ä¸å†™æµ‹è¯•ï¼Œä¸€ä¸ªé‡è¦çš„åŸå› æ˜¯ä¸ä¼šå†™æµ‹è¯•ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸ç©è™šçš„ï¼Œç¬¬ä¸€èŠ‚è¯¾ç›´æ¥å¸¦ä½ ä¸Šæ‰‹å®æˆ˜ã€‚</p><p>æˆ‘ä»¬è¦å®ç°çš„æ˜¯ä¸€ä¸ª ToDo çš„åº”ç”¨ï¼Œé€‰æ‹©ä¸€ä¸ªæ–°é¡¹ç›®å¼€å§‹ï¼Œæˆ‘ä»¬æ²¡æœ‰å†å²è´Ÿæ‹…ï¼Œå¯¹äºå­¦ä¹ å¦‚ä½•å†™æµ‹è¯•æ¥è¯´ï¼Œæ˜¯æœ€å®¹æ˜“çš„ã€‚æ•´ä¸ªå®æˆ˜åˆ†ä¸ºäº†ä¸Šä¸‹ä¸¤èŠ‚è¯¾ï¼Œåœ¨è¿™èŠ‚è¯¾é‡Œï¼Œæˆ‘ä»¬å…ˆæ¥å®ç°ä¸šåŠ¡çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œä¸‹ä¸€èŠ‚è¯¾ï¼Œæˆ‘ä»¬æŠŠå®Œæ•´çš„åº”ç”¨å®ç°å‡ºæ¥ã€‚</p><p>è¿™ä¸ª ToDo åº”ç”¨æœ¬èº«éå¸¸ç®€å•ï¼Œå®ç°åŠŸèƒ½å¹¶ä¸æ˜¯æˆ‘ä»¬è¿™ä¸¤èŠ‚è¯¾çš„é‡ç‚¹ã€‚ä¸€æ–¹é¢ï¼Œä½ ä¼šçœ‹åˆ°å¦‚ä½•è§£å†³é—®é¢˜çš„è¿‡ç¨‹ï¼Œæ¯”å¦‚ï¼Œå¦‚ä½•åˆ†è§£ä»»åŠ¡ã€å¦‚ä½•è®¾è®¡æµ‹è¯•åœºæ™¯ã€å¦‚ä½•æŠŠæµ‹è¯•åœºæ™¯è½¬æ¢ä¸ºä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ç­‰ç­‰ï¼›å¦ä¸€æ–¹é¢ï¼Œä½ ä¹Ÿä¼šçœ‹åˆ°ï¼Œæˆ‘æ˜¯å¦‚ä½•è¿ç”¨è¿™äº›è§£å†³é—®é¢˜çš„è¿‡ç¨‹ä¸€ç‚¹ç‚¹æŠŠé—®é¢˜è§£å†³æ‰ï¼Œåœ¨æ•´ä¸ªå¼€å‘çš„è¿‡ç¨‹ä¸­å¦‚ä½•å†™æµ‹è¯•ã€å†™ä»£ç ã€‚</p><p>å½“ä½ åœ¨å®é™…å·¥ä½œä¸­é¢å¯¹æ›´å¤æ‚çš„é—®é¢˜æ—¶ï¼Œè¿™é‡Œé¢çš„ä»£ç å¯¹ä½ çš„å¸®åŠ©å¯èƒ½ä¸å¤§ï¼Œä½†è¿™äº›è§£å†³é—®é¢˜çš„æ€è·¯å´ä¼šåœ¨å·¥ä½œä¸­å®é™…å¸®åŠ©åˆ°ä½ ã€‚å¦‚æœä½ è®¢é˜…è¿‡æˆ‘çš„å‰å‡ ä¸ªä¸“æ ï¼Œè¿™ç®—æ˜¯ä¸€ä¸ªå®Œæ•´çš„å®æˆ˜ç»ƒä¹ ã€‚</p><h2>é¡¹ç›®å‰çš„å‡†å¤‡</h2><p>åœ¨æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬ä¸€å—æ¥çœ‹ä¸‹è¿™ä¸ª ToDo åº”ç”¨éƒ½æœ‰å“ªäº›å…·ä½“éœ€æ±‚ï¼ˆæ³¨ï¼šæ¥ä¸‹æ¥çš„ä»£ç æˆ‘ä¼šç”¨Javaæ¥å†™ï¼Œå¦‚æœä½ æ²¡æœ‰è´­ä¹°è¿‡æˆ‘çš„å…¶ä»–è¯¾ç¨‹ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæå®¢æ—¶é—´æœ‰å…è´¹è¯•è¯»é¢åº¦ï¼Œæ¬¢è¿ä½ ç‚¹å‡»æ–‡ç« é‡Œçš„è¶…é“¾æ¥è¿›è¡Œå­¦ä¹ ï¼‰ã€‚</p><!-- [[[read_end]]] --><ul>\n<li>æ·»åŠ  Todo é¡¹ã€‚</li>\n</ul><pre><code>todo add &lt;item&gt;  \n\n1. &lt;item&gt;  \nItem &lt;itemIndex&gt; added\n</code></pre><ul>\n<li>å®Œæˆ Todo é¡¹ã€‚</li>\n</ul><pre><code>todo done &lt;itemIndex&gt;  \nItem &lt;itemIndex&gt; done.\n</code></pre><ul>\n<li>æŸ¥çœ‹ Todo åˆ—è¡¨ï¼Œç¼ºçœæƒ…å†µä¸‹ï¼Œåªåˆ—å‡ºæœªå®Œæˆçš„ Todo é¡¹ã€‚</li>\n</ul><pre><code>todo list  1. &lt;item1&gt; 2. &lt;item2&gt;  \nTotal: 2 items\n</code></pre><ul>\n<li>ä½¿ç”¨ all å‚æ•°ï¼ŒæŸ¥çœ‹æ‰€æœ‰çš„ Todo é¡¹ã€‚</li>\n</ul><pre><code>todo list --all  \n1. &lt;item1&gt; \n2. &lt;item2&gt; \n3. [Done] &lt;item3&gt;  \nTotal: 3 items, 1 item done\n</code></pre><p>å¦‚æœä½ è®¢é˜…è¿‡æˆ‘çš„<a href=\"https://time.geekbang.org/column/intro/100068401\">ã€Šä»£ç ä¹‹ä¸‘ã€‹</a>ï¼Œä½ ä¼šå‘ç°ï¼Œå®ƒå°±æ˜¯æˆ‘åœ¨ã€Šä»£ç ä¹‹ä¸‘ã€‹ä¸­ç»™ä½ å¸ƒç½®çš„è¯¾å ‚ç»ƒä¹ ä½œä¸šçš„ç¬¬ä¸€éƒ¨åˆ†ã€‚å¦‚æœä½ æƒ³å¯¹ä»Šå¤©çš„å†…å®¹æœ‰æ›´æ·±åˆ»çš„ç†è§£ï¼Œä¸å¦¨å…ˆåœä¸‹æ¥ï¼Œè‡ªå·±å®ç°ä¸€éè¿™ä¸ªéœ€æ±‚ï¼Œç„¶åï¼Œå†å›è¿‡å¤´çœ‹æˆ‘æ˜¯æ€æ ·è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Œå¯¹æ¯”ä¸€ä¸‹å®ç°æ–¹å¼çš„å·®å¼‚ï¼Œè®°å¾—è¦å†™æµ‹è¯•å“¦ï¼</p><p>ä¸ºäº†å˜æ¸…ä¸»çº¿ï¼Œä¸å—ç»†èŠ‚çš„å¹²æ‰°ï¼Œæˆ‘åœ¨æ­£æ–‡ä¸­åªç½—åˆ—äº†æœ€å…³é”®çš„éƒ¨åˆ†ä»£ç ã€‚å¦‚æœä½ æƒ³çœ‹å®Œæ•´çš„ä»£ç ï¼Œæˆ‘åœ¨ GitHub ä¸Šä¸ºæ­¤ä¸“é—¨å»ºäº†<a href=\"https://github.com/dreamhead/geektime-todo\">ä¸€ä¸ªé¡¹ç›®</a>ï¼Œä½ å¯ä»¥å»å‚è€ƒã€‚</p><p>å…·ä½“çš„éœ€æ±‚æœ‰äº†ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥æ€ä¹ˆåŠ¨æ‰‹å®ç°è¿™ä¸ªåº”ç”¨å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥åšä¸€äº›åŸºç¡€çš„å‡†å¤‡å·¥ä½œï¼š</p><ul>\n<li>ä¸€ä¸ªé¡¹ç›®è‡ªåŠ¨åŒ–ï¼›</li>\n<li>å¯¹éœ€æ±‚è¿›è¡Œç®€å•çš„è®¾è®¡ã€‚</li>\n</ul><p>ä¸ºä»€ä¹ˆè¦å…ˆä»è¿™äº›ä¸œè¥¿åšèµ·å‘¢ï¼Ÿæˆ‘åœ¨ã€Š10x ç¨‹åºå‘˜å·¥ä½œæ³•ã€‹ä¸­æ›¾ç»ä»‹ç»è¿‡<a href=\"https://time.geekbang.org/column/article/77294\">è¿­ä»£ 0</a> çš„æ¦‚å¿µï¼Œè¿™æ˜¯ä¸€ä¸ªé¡¹ç›®å¼€å§‹çš„åŸºç¡€å‡†å¤‡ï¼Œå½“ç„¶ï¼Œå› ä¸ºæˆ‘ä»¬è¿™ä¸ªæ˜¯ä¸€ä¸ªç»ƒä¹ é¡¹ç›®ï¼Œæ‰€ä»¥ï¼Œå‡†å¤‡çš„å†…å®¹ç›¸å¯¹æ¥è¯´ï¼Œè¿˜æ¯”è¾ƒå°‘ã€‚</p><p>ä¸ºä»€ä¹ˆè¦å‡†å¤‡é¡¹ç›®è‡ªåŠ¨åŒ–å‘¢ï¼Ÿç®€å•æ¥è¯´ï¼Œå°±æ˜¯é˜²æ­¢è‡ªå·±çŠ¯ä¸€äº›ä½çº§é”™è¯¯ã€‚å…³äºè¿™ä¸ªé¡¹ç›®è‡ªåŠ¨åŒ–ä¸­åŒ…å«äº†å“ªäº›å†…å®¹ï¼Œæˆ‘åœ¨ã€Š10x ç¨‹åºå‘˜å·¥ä½œæ³•ã€‹ä¸­ä¹Ÿä¸“é—¨ç”¨äº†<a href=\"https://time.geekbang.org/column/article/86561\">ä¸€è®²</a>çš„ç¯‡å¹…ä»‹ç»ï¼Œä½ å¦‚æœæœ‰å…´è¶£ä¸å¦¨å»äº†è§£ä¸€ä¸‹ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¦è¿›è¡Œä¸€äº›ç®€å•çš„è®¾è®¡äº†ã€‚</p><h2>è®¾è®¡å…ˆè¡Œ</h2><p>è™½è¯´è¿™ä¸ªéƒ¨åˆ†çš„è¦æ±‚æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œçš„åº”ç”¨ï¼Œä½†æˆ‘ä»¬è¦çŸ¥é“ï¼Œä¸€ä¸ªç³»ç»Ÿçš„ä¸šåŠ¡æ ¸å¿ƒä¸å®ƒå‘ˆç°çš„æ–¹å¼å¹¶ä¸æ˜¯è€¦åˆåœ¨ä¸€èµ·çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‘½ä»¤è¡Œåªæ˜¯è¿™ä¸ª ToDo åº”ç”¨çš„ä¸€ç§å‘ˆç°å½¢å¼ã€‚åœ¨ä¸“æ åé¢ä½ ä¼šçœ‹åˆ°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠå®ƒæ”¹é€ æˆä¸€ä¸ª REST æœåŠ¡ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬é¦–å…ˆè¦åšä¸€ä¸ªè®¾è®¡ï¼Œ<strong>æŠŠæ ¸å¿ƒçš„ä¸šåŠ¡éƒ¨åˆ†å’Œå‘½ä»¤è¡Œå‘ˆç°çš„éƒ¨åˆ†åˆ†å¼€</strong>ã€‚åœ¨æˆ‘ä»¬çš„å·¥ç¨‹ä¸­ï¼Œå®ƒä»¬åˆ†åˆ«è¢«æ”¾åˆ°äº†ä¸¤ä¸ªæ¨¡å—é‡Œï¼Œä¸€ä¸ªæ˜¯ todo-coreï¼Œç”¨æ¥æ”¾ç½®æ ¸å¿ƒçš„ä¸šåŠ¡éƒ¨åˆ†ï¼›ä¸€ä¸ªæ˜¯ todo-cliï¼Œç”¨æ¥æ”¾ç½®å‘½ä»¤è¡Œç›¸å…³çš„å¤„ç†ã€‚è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä¸»è¦å…ˆæ¥è§£å†³æ ¸å¿ƒçš„ä¸šåŠ¡éƒ¨åˆ†ï¼Œè‡³äºå‘½ä»¤è¡Œç›¸å…³çš„å¤„ç†ï¼Œé‚£ä¼šæ˜¯æˆ‘ä»¬ä¸‹ä¸€è®²çš„ä¸»é¢˜ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥å¤„ç†æ ¸å¿ƒçš„ä¸šåŠ¡éƒ¨åˆ†ã€‚è¿™é‡Œçš„æ ¸å¿ƒä¸šåŠ¡æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ ¹æ®å‰é¢çš„éœ€æ±‚ï¼Œå°±åªæœ‰ä¸‰ä¸ªæ“ä½œï¼š</p><ul>\n<li>æ·»åŠ ä¸€ä¸ª Todo é¡¹ï¼›</li>\n<li>å®Œæˆä¸€ä¸ª Todo é¡¹ï¼›</li>\n<li>Todo é¡¹åˆ—è¡¨ã€‚</li>\n</ul><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ DDD æˆ˜æœ¯è®¾è®¡çš„æ–¹æ³•è¿›è¡Œä¸€ä¸‹è¯†åˆ«å„ä¸ªæ¦‚å¿µï¼ˆå¦‚æœä½ ä¸äº†è§£æˆ˜æœ¯è®¾è®¡çš„åŸºæœ¬è¿‡ç¨‹ï¼Œå¯ä»¥å»çœ‹çœ‹ã€Šè½¯ä»¶è®¾è®¡ä¹‹ç¾ã€‹ä¸­çš„å…³äº<a href=\"https://time.geekbang.org/column/article/267843\">æˆ˜æœ¯è®¾è®¡</a>çš„è¿‡ç¨‹ï¼‰ã€‚</p><p>é¦–å…ˆæ˜¯åè¯ï¼Œè¿™é‡Œæˆ‘ä»¬çš„æ ¸å¿ƒå¯¹è±¡åªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯ Todo é¡¹ã€‚Todo é¡¹çš„æ ¸å¿ƒå­—æ®µå°±æ˜¯å®ƒçš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œé‡Œå†™ä¸‹çš„å†…å®¹ã€‚</p><p>æœ‰äº†åè¯ï¼Œæˆ‘ä»¬å°±è¦è¯†åˆ«åŠ¨ä½œäº†ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹é¢†åŸŸæœåŠ¡ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥æœ‰ä¸€ä¸ª Todo é¡¹æœåŠ¡ï¼Œå¯¹åº”ç€æˆ‘ä»¬çš„æ“ä½œï¼Œå®ƒåº”è¯¥åŒ…å«ä¸‰ä¸ªæ–¹æ³•ï¼š</p><ul>\n<li>addTodoItemï¼Œæ·»åŠ  Todo é¡¹ï¼›</li>\n<li>markTodoItemDoneï¼Œå®Œæˆä¸€ä¸ª Todo é¡¹ï¼›</li>\n<li>listï¼Œåˆ—å‡ºæ‰€æœ‰çš„ Todo é¡¹ã€‚</li>\n</ul><p>æˆ‘ä»¬åº”ç”¨çš„éœ€æ±‚æ¯”è¾ƒç®€å•ï¼Œæ ¸å¿ƒå¯¹è±¡åªæœ‰ Todo é¡¹ä¸€ä¸ªï¼Œä¹Ÿå°±ä¸ç‰µæ‰¯åˆ°å¤šä¸ªå¯¹è±¡çš„ååŒï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå°±æš‚æ—¶ä¸æ¶‰åŠåˆ°åº”ç”¨æœåŠ¡çš„è®¾è®¡ã€‚</p><p>æœåŠ¡åªæ˜¯æ“ä½œï¼Œæœ€ç»ˆè¿˜è¦æœ‰ä¸€ä¸ªåœ°æ–¹æŠŠæ“ä½œçš„ç»“æœå­˜èµ·æ¥ï¼Œåœ¨ DDD ä¸­ï¼Œè¿™æ˜¯ Repository æ‰®æ¼”çš„è§’è‰²ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿™é‡Œè¿˜éœ€è¦ä¸€ä¸ª Todo é¡¹çš„ Repository ç”¨æ¥å¤„ç†ä¸æŒä¹…åŒ–ç›¸å…³çš„æ¥å£ã€‚</p><p>å¾ˆå¤šäººä¸€çœ‹åˆ° Repository è¿™ä¸ªæ¦‚å¿µï¼Œé¦–å…ˆæƒ³åˆ°çš„æ˜¯æ•°æ®åº“ï¼Œä½†æ­£å¦‚ä½ æ‰€è§ï¼Œè¿™é‡Œå¹¶æ²¡æœ‰å‡ºç°æ•°æ®åº“ã€‚æ‰€ä»¥  Repository å¹¶ä¸æ˜¯ä¸æ•°æ®åº“ç»‘å®šåœ¨ä¸€èµ·çš„ï¼Œå®ƒåªè¡¨ç¤ºä¸€ç§æŒä¹…åŒ–çš„æœºåˆ¶ã€‚åœ¨æˆ‘ä»¬çš„è¿™ä¸ªç‰ˆæœ¬å®ç°é‡Œï¼Œè¿™ä¸ª Repository å°†ä¼šæ˜¯ä¸€ä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬ã€‚</p><p>ç°åœ¨åŸºæœ¬çš„è®¾è®¡æœ‰äº†ï¼Œæˆ‘ä»¬å°±è¦å‡†å¤‡å¼€å§‹å®ç°è¿™ä¸ªè®¾è®¡äº†ã€‚</p><h2>ä»»åŠ¡åˆ†è§£</h2><p>è¦ä»å“ªé‡Œå¼€å§‹å®ç°å‘¢ï¼Ÿæˆ‘ä»¬è¦<strong>ä»ç¦»æˆ‘ä»¬éœ€æ±‚æœ€è¿‘çš„å…¥å£å¼€å§‹</strong>ã€‚é€šå¸¸æ¥è¯´ï¼Œ<strong>è¿™ä¸ªèµ·ç‚¹æ˜¯åº”ç”¨æœåŠ¡</strong>ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™é‡Œæš‚æ—¶æ²¡æœ‰åº”ç”¨æœåŠ¡ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä»é¢†åŸŸæœåŠ¡å¼€å§‹ã€‚</p><p>æˆ‘ä»¬å°±æŒ‰ç…§éœ€æ±‚çš„å…ˆåé¡ºåºï¼Œä¾æ¬¡å®ç°æ¯ä¸ªæœåŠ¡ï¼Œé¦–å…ˆæ˜¯æ·»åŠ  Todo é¡¹ã€‚</p><p>å¦‚æœæŒ‰ç…§å¾ˆå¤šäººé€šå¸¸çš„ä¹ æƒ¯ï¼Œæ·»åŠ  Todo é¡¹ï¼Œå°±æ˜¯åˆ›å»ºä¸€ä¸ª Todo é¡¹ï¼Œç„¶åå­˜åœ¨ Repository é‡Œé¢ã€‚ä½†è¿™å¯¹æˆ‘ä»¬çš„æµ‹è¯•è¯¾æ¥è¯´æ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬è¿˜å¾—è€ƒè™‘ä¸€ä¸‹è¿™ä¸ªè¡Œä¸ºè¦æ€ä¹ˆæµ‹è¯•ã€‚</p><p><strong>è¦æƒ³æµ‹è¯•ä¸€ä¸ªå‡½æ•°ï¼Œä¸€ä¸ªå‡½æ•°æœ€å¥½æ˜¯å¯æµ‹çš„ã€‚</strong>ä»€ä¹ˆæ˜¯å¯æµ‹çš„ï¼Ÿå°±æ˜¯é€šè¿‡å‡½æ•°çš„æ¥å£è®¾è®¡ï¼Œæˆ‘ä»¬ç»™å‡ºç‰¹å®šçš„è¾“å…¥ï¼Œå®ƒèƒ½ç»™æˆ‘ä»¬ç›¸åº”çš„è¾“å‡ºã€‚æ‰€ä»¥ï¼Œä¸€ä¸ªå‡½æ•°æœ€å¥½æ˜¯æœ‰è¿”å›å€¼çš„ã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥è®¾è®¡æ·»åŠ  Todo é¡¹çš„å‡½æ•°æ¥å£ã€‚</p><pre><code>TodoItem addTodoItem(final TodoParameter todoParameter);\n</code></pre><p>åœ¨è¿™ä¸ªå‡½æ•°ç­¾åä¸­ï¼ŒTodoItem è¡¨ç¤ºä¸€ä¸ª Todo é¡¹ï¼Œè€Œ TodoParameter è¡¨ç¤ºåˆ›å»ºä¸€ä¸ª Todo é¡¹æ‰€éœ€çš„å‚æ•°ï¼ˆå¾ˆå¤šäººå¯èƒ½ä¼šé€‰æ‹©å­—ç¬¦ä¸²ä½œä¸ºå…¥å£å‚æ•°ï¼Œæˆ‘æ›¾ç»åœ¨ã€Šä»£ç ä¹‹ä¸‘ã€‹ä¸­è®²è¿‡ï¼Œä½¿ç”¨ä¸€ä¸ªæ›´æœ‰ä¸šåŠ¡å«ä¹‰çš„åå­—ï¼Œæ¯”ç›´æ¥ä½¿ç”¨åŸºæœ¬ç±»å‹ä¼šæ›´æ¸…æ¥šï¼‰ã€‚</p><p>æœ‰äº†è¿™ä¸ªå‡½æ•°ç­¾åï¼Œæˆ‘çŸ¥é“ä½ å·²ç»è¿«ä¸åŠå¾…åœ°è¦å¼€å§‹å†™æµ‹è¯•äº†ã€‚ä½†è¯·ç¨ç­‰ä¸€ä¸‹ï¼Œ<strong>æˆ‘ä»¬è¦å…ˆæ¥è€ƒè™‘ä¸€ä¸‹æµ‹è¯•åœºæ™¯</strong>ï¼Œå› ä¸ºå¾ˆå¤šäººå†™ä»£ç åªä¼šè€ƒè™‘åˆ°æ­£å¸¸çš„åœºæ™¯ï¼Œè¶ç€æˆ‘ä»¬è¿˜æ²¡å¼€å§‹å†™ä»£ç ï¼Œæœ€å¥½æŠŠèƒ½æƒ³åˆ°çš„å„ç§åœºæ™¯éƒ½è€ƒè™‘ä¸€ä¸‹ã€‚</p><p>é¦–å…ˆæƒ³åˆ°çš„æ˜¯æ·»åŠ ä¸€ä¸ªæ­£å¸¸çš„å­—ç¬¦ä¸²ï¼Œè¿™æ˜¯æˆ‘ä»¬çš„æ­£å¸¸æƒ…å†µï¼Œæ²¡æœ‰é—®é¢˜ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ·»åŠ çš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªç©ºçš„ï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</p><p>ä¸€èˆ¬è€Œè¨€ï¼Œå¤„ç†ç©ºå­—ç¬¦ä¸²çš„æ–¹å¼æœ‰ä¸¤ç§ã€‚ä¸€ç§æ˜¯è¿”å›ä¸€ä¸ªç©ºçš„ TodoItemï¼Œä¸€ç§æ˜¯æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚åˆ°åº•ä½¿ç”¨å“ªç§åšæ³•ï¼Œæˆ‘ä»¬è¦è€ƒè™‘ä¸€ä¸‹äºŒè€…è¯­ä¹‰çš„å·®åˆ«ã€‚è¿”å›ä¸€ä¸ªç©ºçš„ TodoItemï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå¯ä»¥æ¥å—çš„åœºæ™¯ã€‚è€ŒæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œè¡¨ç¤ºè¿™ä¸æ˜¯ä¸€ä¸ªæ­£å¸¸çš„åœºæ™¯ï¼Œå®ƒæ˜¯ä¸€ä¸ªâ€œå¼‚å¸¸â€ã€‚</p><p>å°±æˆ‘ä»¬è¿™é‡Œçš„åœºæ™¯è€Œè¨€ï¼Œæˆ‘ä»¬è¦ä»ä¸šåŠ¡æ€è€ƒä¸€ä¸‹ï¼Œç¡®å®æœ‰äººå¯èƒ½åœ¨è°ƒç”¨æˆ‘ä»¬çš„å‘½ä»¤æ—¶ç»™å‡ºçš„å‚æ•°æ˜¯ç©ºï¼Œä½†è€ƒè™‘åˆ° <a href=\"https://time.geekbang.org/column/article/84374\">Fail Fast åŸåˆ™</a>ï¼Œè¿™ç§é”™è¯¯å±äºå…¥å£å‚æ•°é”™è¯¯ï¼Œåº”è¯¥åœ¨å…¥å£æ£€æµ‹å‡ºæ¥ï¼Œä¸åº”è¯¥ä¼ åˆ°ä¸šåŠ¡æ ¸å¿ƒé‡Œé¢ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç©ºä¼ ç»™ä¸šåŠ¡æ ¸å¿ƒéƒ¨åˆ†è§†ä¸ºâ€œå¼‚å¸¸â€ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿç¡®ç«‹å¥½äº†<strong>ä¸€æ¡è®¾è®¡è§„èŒƒï¼šå¯¹äºè¾“å…¥å‚æ•°çš„æ£€æµ‹ï¼Œç”±å…¥å£éƒ¨åˆ†ä»£ç è¿›è¡Œå¤„ç†</strong>ã€‚</p><p>åŸºäºè¿™æ¡è®¾è®¡è§„èŒƒçš„è€ƒè™‘ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªç©ºçš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæ ¹æœ¬å°±ä¸åº”è¯¥ä¼ åˆ°æˆ‘ä»¬çš„é¢†åŸŸæœåŠ¡ä¸­ï¼Œåº”è¯¥ç›´æ¥åœ¨å…¥å£å‚æ•°æ£€æµ‹ä¸­å°±åº”è¯¥æ¶ˆç­æ‰ã€‚æ¢è¨€ä¹‹ï¼ŒTodoParameter å°±ä¸ä¼šå‡ºç°ç©ºå­—ç¬¦ä¸²ã€‚æ‰€ä»¥ç©ºå­—ç¬¦ä¸²è¿™ä¸ªäº‹ï¼Œæˆ‘ä»¬å°±æš‚ä¸”ä¸è€ƒè™‘äº†ã€‚</p><p>ä¸è¿‡ï¼Œè¿™å€’ç»™æˆ‘ä»¬æäº†ä¸€ä¸ªé†’ï¼Œå¦‚æœæ˜¯ TodoParameter ä¸ºç©ºå‘¢ï¼Ÿè¿™ç§æƒ…å†µä¹Ÿä¸åº”è¯¥å‡ºç°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠå®ƒå½“åšå¼‚å¸¸æ¥å¤„ç†ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬è¿™é‡Œå°±æœ‰äº†ä¸¤ä¸ªæµ‹è¯•åœºæ™¯ï¼š</p><ul>\n<li>æ·»åŠ æ­£å¸¸çš„å‚æ•°å¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ªåˆ›å»ºå¥½çš„ Todo é¡¹ï¼›</li>\n<li>æ·»åŠ ç©ºçš„å‚æ•°å¯¹è±¡ï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚</li>\n</ul><p>ä¹Ÿè®¸ä½ è¿˜ä¼šæƒ³åˆ°å‡ ä¸ªåœºæ™¯ï¼Œæ¯”å¦‚å¦‚æœå­—ç¬¦ä¸²é‡å¤äº†æ€ä¹ˆåŠï¼Ÿç­”æ¡ˆæ˜¯ä»ç›®å‰çš„ä¸šåŠ¡è¦æ±‚æ¥è¯´ï¼Œå­—ç¬¦ä¸²é‡å¤æ˜¯å¯ä»¥æ¥å—çš„ï¼Œåªæ˜¯æ·»åŠ äº†ä¸€ä¸ªæ–°çš„ Todo é¡¹ã€‚æ‰€ä»¥ï¼Œä¸éœ€è¦ä¸ºå®ƒåšä»€ä¹ˆç‰¹æ®Šçš„å¤„ç†ã€‚</p><p>å†æœ‰ï¼Œå¦‚æœå­˜å‚¨åˆ° Repository çš„è¿‡ç¨‹ä¸­å‡ºç°äº†é—®é¢˜ï¼Œæ¯”å¦‚ç£ç›˜æ»¡äº†ï¼Œè¿™æ ·çš„é—®é¢˜å±äºä¸å¯æ¢å¤çš„å¼‚å¸¸ï¼Œæˆ‘ä»¬åœ¨ä¸šåŠ¡å¤„ç†ä¸­ä¹Ÿåšä¸äº†ä»€ä¹ˆç‰¹æ®Šçš„å¤„ç†ï¼Œåªèƒ½æŠŠå®ƒæŠ›å‡ºå»ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ç§å¼‚å¸¸å¯ä»¥ç”± Repository ç›´æ¥æŠ›å‡ºä¸€ä¸ª Runtime å¼‚å¸¸ï¼Œæˆ‘ä»¬åœ¨ä¸šåŠ¡å¤„ç†ä¸éœ€è¦åšä»€ä¹ˆã€‚æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå¯ä»¥ç¡®ç«‹å¦å¤–<strong>ä¸€æ¡è®¾è®¡è§„èŒƒï¼šRepository çš„é—®é¢˜ä»¥è¿è¡Œæ—¶å¼‚å¸¸çš„å½¢å¼æŠ›å‡ºï¼Œä¸šåŠ¡å±‚ä¸éœ€è¦åšä»»ä½•å¤„ç†ã€‚</strong></p><p>å¥½ï¼Œæˆ‘ä»¬ç°åœ¨å·²ç»è€ƒè™‘äº†æœ€ä¸»è¦çš„åœºæ™¯ï¼Œä¸‹é¢å°±åˆ°äº†åŠ¨æ‰‹å†™ä»£ç ç¯èŠ‚äº†ã€‚</p><h2>ç¼–å†™æµ‹è¯•</h2><p>æˆ‘ä»¬ä»ç¬¬ä¸€ä¸ªæµ‹è¯•åœºæ™¯å¼€å§‹ï¼Œè¿™ä¸ªåœºæ™¯å…³æ³¨çš„æ˜¯æ­£å¸¸çš„å‚æ•°å¯¹è±¡ã€‚æˆ‘ä»¬é¦–å…ˆè¦åšçš„æ˜¯ï¼Œ<strong>æŠŠæµ‹è¯•åœºæ™¯å…·è±¡åŒ–æˆä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹</strong>ã€‚</p><p>æŠŠæµ‹è¯•åœºæ™¯å…·è±¡æˆä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œä¹Ÿå°±æ˜¯è¦æŠŠæµ‹è¯•åœºæ™¯ä¸­ç©ºæ³›çš„æè¿°å˜æˆä¸€ä¸ªä¸ªå…·ä½“çš„å‚æ•°ã€‚æ¯”å¦‚ï¼Œæ·»åŠ æ­£å¸¸çš„å­—ç¬¦ä¸²ã€‚ä»€ä¹ˆå«ä¸€ä¸ªæ­£å¸¸çš„å­—ç¬¦ä¸²å‘¢ï¼Ÿåœ¨æˆ‘ä»¬è¿™ä¸ªæ¡ˆä¾‹é‡Œé¢ï¼Œå®ƒæ˜¯ç›¸å¯¹äºç©ºå­—ç¬¦ä¸²è€Œè¨€çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¿™é‡Œéœ€è¦ç»™å‡ºä¸€ä¸ªéç©ºçš„å­—ç¬¦ä¸²ã€‚</p><p>å¦‚æœæœ‰ä¸šåŠ¡äººå‘˜ç»™æˆ‘ä»¬ä¸€ä¸ªå…·ä½“çš„ä¾‹å­é‚£æ˜¯æœ€å¥½ï¼Œå¦‚æœæ²¡æœ‰ï¼Œæˆ‘ä¼šä½¿ç”¨ä¸€äº›åœ¨æµ‹è¯•ä¸­å¸¸ç”¨çš„è¯æ±‡ï¼Œæ¯”å¦‚ï¼šfooã€bar ä¹‹ç±»çš„ã€‚</p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±å¾ˆå®¹æ˜“å†™å‡ºä¸€ä¸ªæµ‹è¯•çš„åŸºæœ¬ç»“æ„ã€‚</p><pre><code>@Test\npublic void should_add_todo_item() {\n    TodoItemRepository repository = ...\n    TodoItemService service = new TodoItemService(repository);\n    TodoItem item = service.addTodoItem(new TodoParameter(&quot;foo&quot;));\n    assertThat(item.getContent()).isEqualTo(&quot;foo&quot;);\n}\n</code></pre><p>ä½ ä¼šå‘ç°è¿™è¿˜æ˜¯ä¸€æ®µæœªå®Œæˆçš„ä»£ç ï¼ŒåŸå› å°±åœ¨äºï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰å¯¹ repository è¿™ä¸ªå˜é‡è¿›è¡Œå¤„ç†ã€‚æˆ‘ä»¬ç°åœ¨å¤„ç†çš„é‡ç‚¹æ˜¯åœ¨é¢†åŸŸæœåŠ¡ä¸Šï¼Œè€Œ TodoItemRepository åˆ°åº•è¦æ€ä¹ˆå®ç°ï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰è€ƒè™‘ã€‚</p><p>æˆ‘ä»¬ç°åœ¨å¯¹äº TodoItemRepository çš„è¿°æ±‚æ˜¯å®ƒåªè¦æœ‰ä¸€ä¸ª save æ¥å£å°±å¥½ï¼Œè‡³äºå®ƒæ˜¯æ•°æ®åº“è¿˜æ˜¯æ–‡ä»¶ï¼Œæ ¹æœ¬ä¸æ˜¯æˆ‘ä»¬ç°åœ¨å…³å¿ƒçš„é‡ç‚¹ã€‚</p><p>åªæœ‰ä¸€ä¸ªæ¥å£ï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆç”¨å®ƒå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ç”¨ Mock æ¡†æ¶æ¨¡æ‹Ÿå‡ºä¸€ä¸ªæœ‰è¿™æ ·è¡Œä¸ºçš„å¯¹è±¡ã€‚Mock æ¡†æ¶å°±æ˜¯æ ¹æ®é¢„æœŸçš„å‚æ•°ï¼Œç»™å‡ºç›¸åº”çš„ç»“æœï¼Œè¿™ä¸ªç»“æœå¯èƒ½æ˜¯è¿”å›å€¼ï¼Œä¹Ÿå¯èƒ½æ˜¯æŠ›å‡ºå¼‚å¸¸ã€‚å…³äº Mock æ¡†æ¶æ›´å¤šçš„ä»‹ç»ï¼Œæˆ‘ä»¬ä¼šåœ¨åé¢çš„éƒ¨åˆ†ä¸“é—¨è®²è§£ã€‚</p><p>ä¸‹é¢æ˜¯å¢åŠ äº† repository åˆå§‹åŒ–çš„ä»£ç ã€‚</p><pre><code>@Test\npublic void should_add_todo_item() {\n    TodoItemRepository repository = mock(TodoItemRepository.class);\n    when(repository.save(any())).then(returnsFirstArg());\n    TodoItemService service = new TodoItemService(repository);\n    \n    TodoItem item = service.addTodoItem(new TodoParameter(&quot;foo&quot;));\n    \n    assertThat(item.getContent()).isEqualTo(&quot;foo&quot;);\n}\n</code></pre><p>è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°çš„ Mock æ¡†æ¶æ˜¯ Mockitoï¼Œè¿™é‡Œé¢æœ‰ä¸€å¥ä»£ç ä½ æˆ–è®¸ä¼šæœ‰ç‚¹é™Œç”Ÿã€‚</p><pre><code>when(repository.save(any())).then(returnsFirstArg());\n</code></pre><p>è¿™å¥ä»£ç è¡¨ç¤ºå½“æˆ‘ç”¨ä»»æ„å‚æ•°è°ƒç”¨è¿™ä¸ª repository å¯¹è±¡çš„ save æ–¹æ³•æ—¶ï¼Œæˆ‘é¢„æœŸå®ƒè¿”å›ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºè¿”å›å€¼ã€‚å¯¹åº”åˆ°æˆ‘ä»¬è¿™é‡Œçš„è¯­ä¹‰ï¼Œå°±æ˜¯å­˜è¿›å»ä»€ä¹ˆå¯¹è±¡ï¼Œå°±è¿”å›ä»€ä¹ˆå¯¹è±¡ã€‚</p><p>å¦å¤–ï¼Œè¿™é‡Œé¢ç”¨åˆ°çš„æ–­è¨€ç¨‹åºåº“æ˜¯ <a href=\"https://joel-costigliola.github.io/assertj/\">AssertJ</a>ï¼Œå®ƒçš„ API æ˜¯æµç•…é£æ ¼çš„ APIï¼ˆFluent APIï¼‰ï¼Œä¹Ÿå°±æ˜¯è¿ç€çš„ç‚¹ç‚¹ç‚¹ã€‚</p><p>æœ‰äº†è¿™ä¸ªæµ‹è¯•ï¼Œå®ç°ç›¸åº”çš„ä»£ç å°±å¾ˆå®¹æ˜“äº†ï¼Œç›¸ä¿¡ä½ ä¹Ÿå¾ˆå®¹æ˜“åšåˆ°ã€‚</p><pre><code>public TodoItem addTodoItem(final TodoParameter todoParameter) {\n    final TodoItem item = new TodoItem(todoParameter.getContent());\n    return this.repository.save(item);\n}\n</code></pre><p>è¿™é‡Œæœ€æ ¸å¿ƒçš„ TodoItem ç›®å‰åªåŒ…æ‹¬ä¸€ä¸ªå†…å®¹çš„å­—æ®µã€‚</p><pre><code>@Getter\npublic class TodoItem {\n    private final String content;\n    \n    public TodoItem(final String content) {\n        this.content = content;\n    }\n}\n</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥å®ç°ä¸‹ä¸€ä¸ªæµ‹è¯•ã€‚æœ‰äº†ç¬¬ä¸€ä¸ªæµ‹è¯•çš„åŸºç¡€ï¼Œç¬¬äºŒä¸ªæµ‹è¯•çš„å…³æ³¨ç‚¹æ˜¯ç©ºå¯¹è±¡ï¼Œä½ ä¹Ÿåº”è¯¥èƒ½å¤Ÿå¾ˆå®¹æ˜“å¾—å†™å‡ºæ¥ã€‚</p><pre><code>@Test\npublic void should_throw_exception_for_null_todo_item() {\n    assertThatExceptionOfType(IllegalArgumentException.class)\n            .isThrownBy(() -&gt; service.addTodoItem(null));\n}\n</code></pre><p>æ ¹æ®ç¬¬äºŒä¸ªæµ‹è¯•ï¼Œæˆ‘ä»¬çš„ addTodoItem æ–¹æ³•å°±éœ€è¦å¢åŠ ä¸€æ¡å¯¹äºç©ºå¯¹è±¡çš„å¤„ç†ã€‚</p><pre><code>public TodoItem addTodoItem(final TodoParameter todoParameter) {\n    if (todoParameter == null) {\n        throw new IllegalArgumentException(&quot;Null or empty content is not allowed&quot;);\n    }\n\n    final TodoItem item = new TodoItem(todoParameter.getContent());\n    return this.repository.save(item);\n}\n</code></pre><p>è‡³æ­¤ï¼Œæ·»åŠ  Todo é¡¹çš„ä»»åŠ¡ä¹Ÿç®—å®Œæˆï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œä¸€ä¸‹å‘½ä»¤åšä¸€ä¸‹æ£€æŸ¥ï¼Œçœ‹çœ‹æˆ‘ä»¬æ˜¯å¦æœ‰é—æ¼ã€‚</p><pre><code>./gradlew check\n</code></pre><p>è¿™é‡Œçš„é—æ¼å¯èƒ½æ˜¯ç”±äºç¼–ç é£æ ¼ï¼Œä¹Ÿå¯èƒ½æ˜¯ç”±äºä»£ç è¦†ç›–ç‡å¯¼è‡´ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦æŠŠé¡¹ç›®è‡ªåŠ¨åŒ–æ”¾åœ¨æœ€å‰é¢å®Œæˆçš„åŸå› ã€‚åé¢æ¯å®Œæˆä¸€ä¸ªä»»åŠ¡ï¼Œä¹Ÿåº”è¯¥è¿è¡Œä¸€ä¸‹è¿™ä¸ªå‘½ä»¤ï¼ŒåŒæ ·çš„äº‹æƒ…ï¼Œåé¢æˆ‘å°±ä¸å†é‡å¤äº†ã€‚</p><p>åˆ°è¿™é‡Œï¼Œå…³äºå¦‚ä½•æ·»åŠ æµ‹è¯•ç¼–å†™ä»£ç çš„æœ€åŸºæœ¬æ€è·¯ï¼Œæˆ‘ä»¬å·²ç»è®²æ¸…æ¥šäº†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥å®Œæˆä¸€ä¸ª Todo é¡¹ã€‚å®Œæˆ Todo é¡¹çš„æ¥å£æ˜¯è¿™æ ·çš„ã€‚</p><pre><code>TodoItem markTodoItemDone(TodoIndexParameter index);\n</code></pre><p>è¿™é‡Œçš„å…¥å£å‚æ•°æ˜¯ä¸€ä¸ªç´¢å¼•ï¼Œåªä¸è¿‡è¿™é‡Œåšäº†ä¸€æ¬¡å°è£…ï¼Œå°è£…å‡ºä¸€ä¸ª TodoIndexParameterã€‚</p><p>é’ˆå¯¹è¿™ä¸ªæ¥å£ï¼Œæˆ‘ä»¬è€ƒè™‘çš„æµ‹è¯•åœºæ™¯åŒ…æ‹¬ï¼š</p><ul>\n<li>å¯¹äºä¸€ä¸ªå·²ç»å­˜åœ¨çš„ Todo é¡¹ï¼Œå°†å…¶æ ‡è®°å·²å®Œæˆï¼›</li>\n<li>å¦‚æœç´¢å¼•è¶…å‡ºç°æœ‰çš„ç´¢å¼•èŒƒå›´ï¼Œåˆ™è¿”å›ç©ºã€‚</li>\n</ul><p>å¯¹äºä¸€ä¸ªç´¢å¼•ï¼Œä½ å¯èƒ½ä¹Ÿä¼šæƒ³åˆ°ç´¢å¼•ä¸ºè´Ÿçš„åœºæ™¯ã€‚ä½†åŒä¹‹å‰ä¸€æ ·ï¼Œè¿™ä¸ªé—®é¢˜åº”è¯¥æ˜¯å±äºåœ¨å…¥å£å°±æ£€éªŒå‡ºæ¥çš„é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬å°è£…ä¸€ä¸ª TodoIndexParameterï¼Œè¿™æ ·åœ¨ä¸šåŠ¡å±‚å°±ä¸éœ€è¦è€ƒè™‘ç´¢å¼•ä¸ºè´Ÿçš„åœºæ™¯äº†ã€‚</p><p>å¯¹äºæœ€åä¸€ä¸ªåœºæ™¯ï¼Œå½“ç´¢å¼•è¶…å‡ºç´¢å¼•èŒƒå›´ï¼Œè¿”å›ç©ºã€‚é‰´äºç©ºæŒ‡é’ˆæ€»æ˜¯ä¸€ä¸ªå®¹æ˜“å¼•èµ·é—®é¢˜çš„åœºæ™¯ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¿™é‡Œé‡‡ç”¨ Optional æ›¿ä»£ç›´æ¥è¿”å›å¯¹è±¡ï¼ˆå…³äº Optional ä½¿ç”¨çš„åŸºæœ¬æ€è·¯ï¼Œæˆ‘åœ¨ã€Šè½¯ä»¶è®¾è®¡ä¹‹ç¾ã€‹ä¸­<a href=\"https://time.geekbang.org/column/article/258954\">è®²è¿‡</a>ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£å¯ä»¥å»å›é¡¾ä¸€ä¸‹ï¼‰ã€‚</p><pre><code>Optional&lt;TodoItem&gt; markTodoItemDone(TodoIndexParameter index);\n</code></pre><p>æˆ‘ä»¬å…ˆæ¥ç¼–å†™è¿™ä¸ªæ¥å£çš„ç¬¬ä¸€ä¸ªæµ‹è¯•ã€‚</p><pre><code>@BeforeEach\npublic void setUp() {\n    this.repository = mock(TodoItemRepository.class);\n    this.service = new TodoItemService(this.repository);\n}\n\n\n@Test\npublic void should_mark_todo_item_as_done() {\n    when(repository.findAll()).thenReturn(ImmutableList.of(new TodoItem(&quot;foo&quot;)));\n    when(repository.save(any())).then(returnsFirstArg());\n    \n    final Optional&lt;TodoItem&gt; todoItem = service.markTodoItemDone(TodoIndexParameter.of(1));\n    \n    assertThat(todoItem).isPresent();\n    final TodoItem actual = todoItem.get();\n    assertThat(actual.isDone()).isTrue();\n}\n</code></pre><p>å› ä¸º service çš„åˆå§‹åŒ–å’Œ repository è¿™ä¸ªæ¨¡æ‹Ÿå¯¹è±¡çš„åˆå§‹åŒ–å‡ ä¹æ‰€æœ‰æ­£å¸¸è·¯å¾„éƒ½è¦ç”¨åˆ°ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬æŠŠå®ƒæŒªåˆ° setUp æ–¹æ³•ä¸­ï¼Œä»¥ä¾¿æ¯ä¸ªæµ‹è¯•ä¹‹å‰éƒ½èƒ½å¤Ÿè¿è¡Œå®ƒã€‚</p><p>è¿™ä¸ªç‰ˆæœ¬çš„å®ç°é‡‡ç”¨äº†æœ€ä¸ºç²—æš´çš„æ–¹æ¡ˆï¼ŒæŠŠæ‰€æœ‰çš„ Todo é¡¹éƒ½åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç„¶åæ ¹æ®ç´¢å¼•è¿›è¡Œç­›é€‰ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨åˆ°äº† findAll æ–¹æ³•ã€‚</p><p>è¿™ä¸ªå®ç°ä¸éš¾ï¼Œé‡è¦çš„å˜åŒ–æ˜¯ TodoItem éœ€è¦æœ‰ä¸€ä¸ªå­—æ®µæ ‡è®°å®ƒçš„å®Œæˆï¼Œä»£ç å¦‚ä¸‹ã€‚</p><pre><code>@Getter\npublic class TodoItem {\n    private final String content;\n    private boolean done;\n    \n    public TodoItem(final String content) {\n        this.content = content;\n        this.done = false;\n    }\n    \n    public void markDone() {\n        this.done = true;\n    }\n}\n</code></pre><p>åé¢ä¸¤ä¸ªæµ‹è¯•åœºæ™¯ä»¥åŠç›¸åº”çš„å®ç°ä»£ç ï¼Œä½ å¯ä»¥å‚è€ƒå¼€æºé¡¹ç›®ä¸­çš„ä»£ç ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€ç½—åˆ—äº†ã€‚</p><p>æœ€åæ˜¯ Todo é¡¹åˆ—è¡¨ï¼Œå®ƒçš„æ¥å£ç›¸å¯¹æ¯”è¾ƒç®€å•ã€‚</p><pre><code>List&lt;TodoItem&gt; list(final boolean all);\n</code></pre><p>å…¶ä¸­ï¼Œall å‚æ•°ä¸º true æ—¶ï¼Œåˆ—å‡ºæ‰€æœ‰çš„ Todo é¡¹ï¼›false çš„æ—¶å€™ï¼Œåˆ—å‡ºæœªå®Œæˆçš„ Todo é¡¹ã€‚</p><p>åœ¨éœ€æ±‚ä¸­ï¼Œç¼ºçœæƒ…å†µç½—åˆ—çš„æ˜¯æœªå®Œæˆçš„ Todo é¡¹ï¼Œè¿™æ˜¯è¿‡æ»¤æ‰å·²å®Œæˆçš„ Todo é¡¹çš„ç»“æœã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ç®€å•çš„é‡‡ç”¨æŒ‰ç…§åˆ—è¡¨çš„é¡ºåºä½œä¸ºç´¢å¼•ï¼Œè¿™å°±äº§ç”Ÿä¸€ä¸ªé—®é¢˜ï¼Œæ¯å½“æœ‰ä¸€ä¸ª Todo é¡¹å®Œæˆä¹‹åï¼Œå‰©ä½™ Todo é¡¹çš„åˆ—è¡¨é¡ºåºå°±ä¼šå‘ç”Ÿæ”¹å˜ï¼Œè¿™å…¶å®æ˜¯ä¸åˆé€‚çš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬æœ€å¥½æŠŠç´¢å¼•æ”¾åˆ° Todo é¡¹çš„å®ä½“ä¸­ã€‚</p><pre><code>@Getter\npublic class TodoItem {\n    private long index;\n    private final String content;\n    private boolean done;\n    \n    public TodoItem(final String content) {\n        this.content = content;\n        this.done = false;\n    }\n    \n    public void assignIndex(final long index) {\n        this.index = index;\n    }\n    \n    public void markDone() {\n        this.done = true;\n    }\n}\n</code></pre><p>è¿™é‡Œæˆ‘ä»¬æŠŠç´¢å¼•çš„èµ‹å€¼å¯ä»¥åœ¨æœåŠ¡ä¸­å®Œæˆï¼Œä¹Ÿå¯ä»¥åœ¨ Repository ä¿å­˜çš„è¿‡ç¨‹ä¸­å®Œæˆã€‚ä»ç›®å‰çš„æƒ…å†µçœ‹ï¼Œè¿™ä¸ªç´¢å¼•çš„å€¼ä¸ Repository ç°æœ‰çš„ Todo é¡¹ä¸ªæ•°ç´§å¯†ç›¸å…³ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ”¾åœ¨ ä¿å­˜åˆ° Repository çš„è¿‡ç¨‹ä¸­å®Œæˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¿å­˜ä¸€ä¸ª Todo é¡¹æ—¶ï¼Œå¦‚æœè¿™ä¸ª Todo é¡¹æ²¡æœ‰ç´¢å¼•ï¼Œå°±ä¸ºå®ƒèµ‹ä¸€ä¸ªç´¢å¼•ï¼Œå¦‚æœæœ‰ç´¢å¼•ï¼Œå°±æ›´æ–°ç›¸åº”çš„ Todo é¡¹ã€‚</p><p>é’ˆå¯¹è¿™ä¸ªæ¥å£ï¼Œæˆ‘ä»¬è€ƒè™‘çš„æµ‹è¯•åœºæ™¯åŒ…æ‹¬ï¼š</p><ul>\n<li>å¦‚æœæœ‰ Todo é¡¹ï¼Œç½—åˆ— Todo é¡¹æ—¶ï¼Œåˆ—å‡ºæ‰€æœ‰çš„ Todo é¡¹ï¼›</li>\n<li>å¦‚æœæ²¡æœ‰ Todo é¡¹ï¼Œç½—åˆ— Todo é¡¹æ—¶ï¼Œåˆ—å‡º Todo é¡¹ä¸ºç©ºï¼›</li>\n<li>å¦‚æœæœ‰æœªå®Œæˆçš„ Todo é¡¹ï¼Œç½—åˆ—æœªå®Œæˆ Todo é¡¹ï¼Œåˆ—å‡ºæ‰€æœ‰æœªå®Œæˆçš„ Todo é¡¹ï¼›</li>\n<li>å¦‚æœæ²¡æœ‰æœªå®Œæˆçš„ Todo é¡¹ï¼Œç½—åˆ—æœªå®Œæˆ Todo é¡¹ï¼Œåˆ—å‡ºçš„ Todo é¡¹ä¸ºç©ºã€‚</li>\n</ul><p>å…·ä½“çš„ä»£ç ä¹Ÿä¸åœ¨è¿™é‡Œç½—åˆ—äº†ï¼Œä½ å¯ä»¥å‚è€ƒå¼€æºé¡¹ç›®ä¸­çš„ä»£ç ã€‚</p><p>æœ‰æ—¶ä½ ä¼šå‘ç°ï¼Œè™½ç„¶æˆ‘ä»¬åˆ—å‡ºäº†å¾ˆå¤šæµ‹è¯•åœºæ™¯ï¼Œä½†å½“æˆ‘ä»¬æœ‰äº†ä¸€äº›åŸºç¡€çš„ä»£ç ä¹‹åï¼Œä¸€äº›æµ‹è¯•åˆšå†™å®Œå°±é€šè¿‡äº†ã€‚æ¯”å¦‚ï¼Œå¦‚æœæˆ‘ä»¬å…ˆå†™äº†ç½—åˆ— Todo é¡¹å’Œç½—åˆ—æœªå®Œæˆ Todo é¡¹çš„ä»£ç ï¼Œåé¢ä¸¤ä¸ªæµ‹è¯•åœºæ™¯å¾ˆå¯èƒ½è‡ªç„¶åœ°å°±é€šè¿‡äº†ã€‚</p><p>è¿™ç§æƒ…å†µåœ¨å†™æµ‹è¯•çš„æ—¶å€™æ˜¯å¾ˆå¸¸è§çš„ï¼Œè¿™è¯´æ˜ï¼Œæˆ‘ä»¬å‰é¢çš„ä»£ç å·²ç»å¾ˆå¥½åœ°å¤„ç†äº†è¿™äº›æƒ…å†µã€‚è¿™å¹¶ä¸è¯´æ˜è¿™äº›æµ‹è¯•åœºæ™¯æ˜¯æ— ç”¨çš„ï¼Œå› ä¸ºä¸åŒçš„å®ç°æ–¹å¼å¹¶ä¸èƒ½ä¿è¯è¿™äº›æµ‹è¯•éƒ½æ˜¯é€šè¿‡çš„ï¼Œæ‰€ä»¥ï¼Œæ—¢ç„¶æˆ‘ä»¬å·²ç»ä¸ºå®ƒä»¬å†™äº†æµ‹è¯•ï¼Œä¿ç•™åœ¨é‚£é‡Œå°±å¥½äº†ã€‚</p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»æŠŠæœ€æ ¸å¿ƒçš„ä¸šåŠ¡ä»£ç å†™å®Œäº†ï¼Œå½“ç„¶ï¼Œå®ƒè¿˜ä¸èƒ½å®Œæ•´åœ°è¿è¡Œï¼Œå› ä¸ºå®ƒæ²¡æœ‰å‘½ä»¤è¡Œçš„è¾“å…¥ï¼Œä¹Ÿæ²¡æœ‰å®ç° Repository çš„å­˜å‚¨ã€‚ä½†æœ‰äº†ä¸€ä¸ªç¨³å®šçš„æ ¸å¿ƒï¼Œè¿™äº›ä¸œè¥¿éƒ½å¥½åŠã€‚ä¸‹ä¸€è®²ï¼Œæˆ‘ä»¬å°±æ¥æŠŠè¿™äº›ä¸œè¥¿éƒ½è¿æ¥èµ·æ¥ã€‚</p><h2>æ€»ç»“æ—¶åˆ»</h2><p>åœ¨è¿™ä¸€è®²é‡Œï¼Œæˆ‘ä»¬å®ç° ToDo åº”ç”¨çš„æ ¸å¿ƒä¸šåŠ¡éƒ¨åˆ†ï¼Œè¿™é‡Œé¢çš„é‡ç‚¹å¹¶ä¸æ˜¯æŠŠä»£ç å†™å‡ºæ¥ï¼Œæˆ‘ç›¸ä¿¡ä½ æœ‰èƒ½åŠ›å»ç¼–å†™å®Œæˆè¿™æ®µä»£ç ã€‚æˆ‘åœ¨è¿™é‡Œçš„æè¿°æ›´å¤šçš„æ˜¯åœ¨ä¸€ä¸ªé¡¹ç›®å¯åŠ¨çš„åˆæœŸè¦å…³æ³¨å“ªäº›å†…å®¹ï¼Œä»¥åŠå¦‚ä½•å»ç€æ‰‹å»ç¼–å†™æµ‹è¯•ã€‚</p><p>é¡¹ç›®åˆšå¼€å§‹æ—¶ï¼Œæˆ‘ä»¬è¦å‡†å¤‡å“ªäº›å†…å®¹ï¼š</p><ul>\n<li>é¡¹ç›®çš„è‡ªåŠ¨åŒ–ï¼›</li>\n<li>é’ˆå¯¹éœ€æ±‚è¿›è¡Œåˆæ­¥çš„è®¾è®¡ã€‚</li>\n</ul><p>ç€æ‰‹ç¼–å†™ä»£ç æ—¶ï¼Œæˆ‘ä»¬è¦æ€ä¹ˆåšå‘¢ï¼Ÿ</p><ul>\n<li>å¯¹è¦å®ç°çš„éœ€æ±‚è¿›è¡Œä»»åŠ¡åˆ†è§£ï¼›</li>\n<li>åœ¨ä¸€ä¸ªå…·ä½“çš„éœ€æ±‚ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä»éœ€æ±‚å…¥å£å¼€å§‹å…¥æ‰‹ï¼›</li>\n<li>è®¾è®¡ä¸€ä¸ªå¯æµ‹è¯•çš„å‡½æ•°ï¼›</li>\n<li>é’ˆå¯¹å…·ä½“çš„å‡½æ•°ï¼Œè€ƒè™‘æµ‹è¯•åœºæ™¯ï¼›</li>\n<li>é’ˆå¯¹å…·ä½“çš„æµ‹è¯•åœºæ™¯ï¼Œå°†åœºæ™¯å…·è±¡åŒ–æˆæµ‹è¯•ç”¨ä¾‹ã€‚</li>\n</ul><p>åœ¨æ¢³ç†çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¿˜ä¼šé’ˆå¯¹ä¸€äº›ç»Ÿä¸€çš„æƒ…å†µä½œå‡ºä¸€äº›çº¦å®šï¼Œæˆä¸ºé¡¹ç›®æ•´ä½“çš„è®¾è®¡è§„èŒƒï¼Œæ¯”å¦‚ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬çº¦å®šï¼š</p><ul>\n<li>å¯¹äºè¾“å…¥å‚æ•°çš„æ£€æµ‹ï¼Œç”±å…¥å£éƒ¨åˆ†ä»£ç è¿›è¡Œå¤„ç†ï¼›</li>\n<li>Repository çš„é—®é¢˜ä»¥è¿è¡Œæ—¶å¼‚å¸¸çš„å½¢å¼æŠ›å‡ºï¼Œä¸šåŠ¡å±‚ä¸éœ€è¦åšä»»ä½•å¤„ç†ã€‚</li>\n</ul><p>åœ¨ç¼–ç çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿçœ‹åˆ°äº†ï¼š</p><ul>\n<li>æ ¹æ®ä¸æ–­å¢åŠ çš„éœ€æ±‚ï¼Œé€æ¸æ”¹åŠ¨æˆ‘ä»¬çš„è®¾è®¡ï¼Œè¿™å°±æ˜¯æ¼”åŒ–å¼è®¾è®¡çš„åŸºæœ¬åšæ³•ï¼›</li>\n<li>æˆ‘ä»¬å¯¹å¾…æµ‹è¯•ä¹Ÿåƒå¯¹å¾…ä»£ç ä¸€æ ·ï¼Œä¼šæ¶ˆé™¤ä»£ç ä¸­å­˜åœ¨çš„ä¸€äº›åå‘³é“ã€‚</li>\n</ul><p>å¦‚æœä»Šå¤©çš„å†…å®¹ä½ åªèƒ½è®°ä½ä¸€å¥è¯ï¼Œé‚£ä¹ˆè¯·è®°ä½ï¼Œ<strong>ç»†åŒ–æµ‹è¯•åœºæ™¯ï¼Œç¼–å†™å¯æµ‹è¯•çš„ä»£ç ã€‚</strong></p><p><img src=\"https://static001.geekbang.org/resource/image/d8/23/d8yy713c1c76376c9e17a42917637523.jpg?wh=2000x1073\" alt=\"\"></p><h2>æ€è€ƒé¢˜</h2><p>ä»Šå¤©æˆ‘åˆ†äº«äº†ä»ä¸€ä¸ªéœ€æ±‚å…¥æ‰‹ï¼Œå¦‚ä½•ä¸€æ­¥ä¸€æ­¥åœ°å†™å‡ºæµ‹è¯•ã€‚ä½ åœ¨å®é™…å·¥ä½œä¸­æ˜¯æ€ä¹ˆåšæµ‹è¯•å‘¢ï¼Ÿå¦‚æœä½ å¦‚æœä¸åšçš„è¯ï¼ŒåŸå› åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ¬¢è¿åœ¨ç•™è¨€åŒºåˆ†äº«ä½ çš„æ‰€è§æ‰€é—»ã€‚</p><h2>å‚è€ƒèµ„æ–™</h2><p><a href=\"https://time.geekbang.org/column/article/77294\">è¿­ä»£0ï¼šå¯åŠ¨å¼€å‘ä¹‹å‰ï¼Œä½ åº”è¯¥å‡†å¤‡ä»€ä¹ˆï¼Ÿ</a></p><p><a href=\"https://time.geekbang.org/column/article/86561\">ä¸€ä¸ªå¥½çš„é¡¹ç›®è‡ªåŠ¨åŒ–åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Ÿ</a></p><p><a href=\"https://time.geekbang.org/column/article/267843\">æˆ˜æœ¯è®¾è®¡ï¼šå¦‚ä½•åƒå†™æ•…äº‹ä¸€æ ·æ‰¾å‡ºæ¨¡å‹ï¼Ÿ</a></p>","comments":[{"had_liked":false,"id":306923,"user_name":"sylan215","can_delete":false,"product_type":"c1","uid":1019029,"ip_address":"","ucode":"5A2CF31BC69F40","user_header":"https://static001.geekbang.org/account/avatar/00/0f/8c/95/4544d905.jpg","comment_is_top":false,"comment_ctime":1628777748,"is_pvip":false,"replies":[{"id":"111182","content":"å¾ˆå¤šäººæ˜¯ç®€å•çš„äº‹æƒ…åšä¸å¥½ï¼Œå¤æ‚çš„äº‹æƒ…æä¸å®š","user_name":"ä½œè€…å›å¤","comment_id":306923,"uid":"1258861","ip_address":"","utype":1,"ctime":1628836185,"user_name_real":"éƒ‘æ™”"}],"discussion_count":3,"race_medal":0,"score":"48873418004","product_id":100085101,"comment_content":"è¿™ä¸ªä¾‹å­æ¯”è¾ƒç®€å•ï¼ŒæŒºé€‚åˆåˆšå¼€å§‹å…¥é—¨æµ‹è¯•çš„äººï¼Œä½†æ˜¯åŒæ—¶ï¼Œä¹Ÿå¯èƒ½ä¼šè®©å¼€å‘è§‰å¾—ï¼Œè¿™ä¹ˆç®€å•çš„é€»è¾‘ï¼Œä¸€çœ‹å°±çŸ¥é“å¯¹ä¸å¯¹ã€æœ‰æ²¡æœ‰é—®é¢˜äº†ï¼Œä½•å¿…è¿˜è¦ç”¨è‡ªåŠ¨åŒ–æµ‹è¯•è¿›è¡Œè¦†ç›–å‘¢ï¼Ÿ<br><br>ä¸€æ–¹é¢ï¼Œè¿™ç¡®å®åªæ˜¯ä¸ªä¾‹å­ï¼Œä½†æ˜¯ä¹Ÿä¸èƒ½å› ä¸ºç®€å•ï¼Œå°±ä¸å†™ç”¨ä¾‹ï¼Œå› ä¸ºæ‰€æœ‰çš„ä»£ç éƒ½ä¸å¯é¢„çŸ¥çš„åœ¨åé¢å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆä½œä¸ºåç»­çš„å›å½’ç”¨ä¾‹ï¼Œä¹Ÿæ˜¯ä¸€æ ·æœ‰ç”¨çš„ï¼›<br><br>å¦ä¸€æ–¹é¢ï¼Œéœ€è¦å…³æ³¨ mock çš„ä½¿ç”¨ï¼Œå®é™…ä¸šåŠ¡åœºæ™¯å¾ˆå¤æ‚ï¼Œå‡½æ•°ä¹‹é—´ç›¸äº’è°ƒç”¨é€»è¾‘æ›´æ˜¯å¾ˆå¸¸è§ï¼Œæ‰€ä»¥ä¼šç»å¸¸ç”¨åˆ° mockï¼Œä½†æ˜¯ mock ä¹Ÿä¸å¯é¿å…çš„ä¼šè®©æˆ‘ä»¬è§„é¿äº†é›†æˆæµ‹è¯•çš„æµ‹è¯•ç‚¹ï¼Œæ‰€ä»¥æ€ä¹ˆé€‰å–åˆé€‚çš„ mock ç‚¹ï¼Œå¹¶é¢„çŸ¥ mock çš„é£é™©ï¼Œä¹Ÿæ˜¯è¦äº†è§£çš„ã€‚<br><br>å†è¡¥å……ï¼Œå°±ç®—è‡ªå·±å†™äº†æµ‹è¯•ç”¨ä¾‹ï¼Œä¹Ÿä¸è¦å®Œå…¨çš„ä¾èµ–æµ‹è¯•æ¥å‘ç°æ‰€æœ‰çš„é—®é¢˜ï¼Œä»£ç æ€ç»´ã€è®¾è®¡é£æ ¼ã€ç¼–ç ä¹ æƒ¯ï¼Œè¿™äº›é¢„é˜²é—®é¢˜å‘ç”Ÿçš„æ‰‹æ®µï¼Œæ‰æ˜¯æœ€æœ‰æ•ˆçš„ã€‚<br><br>ä»¥ä¸Šï¼ŒæœŸå¾…åç»­çš„ç²¾å½©å†…å®¹ã€‚","like_count":11,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524976,"discussion_content":"å¾ˆå¤šäººæ˜¯ç®€å•çš„äº‹æƒ…åšä¸å¥½ï¼Œå¤æ‚çš„äº‹æƒ…æä¸å®š","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1628836185,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1025762,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a6/e2/5ce22802.jpg","nickname":"å†è§é™›ä¸‹","note":"","ucode":"42170293151A24","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389081,"discussion_content":"å”‰ï¼Œä¸€å¤´é›¾æ°´ï¼Œçœ‹ä¸å•Šæ‡‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629111398,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1019029,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/8c/95/4544d905.jpg","nickname":"sylan215","note":"","ucode":"5A2CF31BC69F40","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":1025762,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a6/e2/5ce22802.jpg","nickname":"å†è§é™›ä¸‹","note":"","ucode":"42170293151A24","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389101,"discussion_content":"æ˜¯æˆ‘å†™çš„å¤ªæ™¦æ¶©äº†ä¹ˆâ€¦â€¦","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629118613,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":389081,"ip_address":""},"score":389101,"extra":""}]}]},{"had_liked":false,"id":305905,"user_name":"æå¨","can_delete":false,"product_type":"c1","uid":1460961,"ip_address":"","ucode":"3409A9390BD1FD","user_header":"https://static001.geekbang.org/account/avatar/00/16/4a/e1/2a498473.jpg","comment_is_top":false,"comment_ctime":1628226392,"is_pvip":false,"replies":[{"id":"110700","content":"é—®é¢˜æ˜¯ï¼Œä»å®ä½“å¼€å§‹è¦æµ‹ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å¾—æœ‰ä¸€ä¸ªå‡ºå‘ç‚¹ï¼ŒæœåŠ¡åˆšå¥½å¯ä»¥å’Œéœ€æ±‚å¯¹ä¸Šã€‚","user_name":"ä½œè€…å›å¤","comment_id":305905,"uid":"1258861","ip_address":"","utype":1,"ctime":1628243989,"user_name_real":"éƒ‘æ™”"}],"discussion_count":1,"race_medal":0,"score":"27398030168","product_id":100085101,"comment_content":"æ–‡ä¸­æ˜¯ä»seviceå±‚å…¥æ‰‹å†™ç¬¬ä¸€ä¸ªæµ‹è¯•ï¼Œå¯å¦ä»¥æ•´æ´æ¶æ„å›¾ä¸­æœ€å†…å±‚çš„entityå…¥æ‰‹å†™ç¬¬ä¸€ä¸ªæµ‹è¯•ï¼Œä»£ç å®ç°ä¹Ÿæ˜¯æŒ‰å…ˆå®ç°å†…å±‚ï¼Œå†é€æ­¥å®ç°å¤–å±‚çš„ä»£ç ï¼Ÿ","like_count":6,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524556,"discussion_content":"é—®é¢˜æ˜¯ï¼Œä»å®ä½“å¼€å§‹è¦æµ‹ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å¾—æœ‰ä¸€ä¸ªå‡ºå‘ç‚¹ï¼ŒæœåŠ¡åˆšå¥½å¯ä»¥å’Œéœ€æ±‚å¯¹ä¸Šã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628243989,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308421,"user_name":"asusual","can_delete":false,"product_type":"c1","uid":2735468,"ip_address":"","ucode":"AF9AA546D3794F","user_header":"https://static001.geekbang.org/account/avatar/00/29/bd/6c/a988846d.jpg","comment_is_top":false,"comment_ctime":1629615929,"is_pvip":false,"replies":[{"id":"111751","content":"å¤šè°¢åˆ†äº«","user_name":"ä½œè€…å›å¤","comment_id":308421,"uid":"1258861","ip_address":"","utype":1,"ctime":1629767220,"user_name_real":"éƒ‘æ™”"}],"discussion_count":1,"race_medal":0,"score":"18809485113","product_id":100085101,"comment_content":"ç›¸æ¯”Junit,Spockæ¡†æ¶æµ‹è¯•èµ·æ¥è¦çœäº‹å¾ˆå¤š~","like_count":4,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525487,"discussion_content":"å¤šè°¢åˆ†äº«","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629767220,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":311614,"user_name":"çˆªå“‡å’¿","can_delete":false,"product_type":"c1","uid":2754404,"ip_address":"","ucode":"2119B1185DFD5E","user_header":"","comment_is_top":false,"comment_ctime":1631340421,"is_pvip":false,"discussion_count":2,"race_medal":0,"score":"14516242309","product_id":100085101,"comment_content":"æˆ‘æœ‰ä¸ªç–‘é—®ï¼Œæ˜¯å¦æœ‰å¿…è¦ä¸ºäº†æ»¡è¶³å•æµ‹çš„å¯æµ‹æ€§è®©åŸæœ¬æ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°æœ‰è¿”å›å€¼","like_count":3,"discussions":[{"author":{"id":2927088,"avatar":"","nickname":"woJA1wCgAAkNX5-PXWqkJYLbOqbxPL_g","note":"","ucode":"2916B7699974E1","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":558987,"discussion_content":"æƒ³çŸ¥é“+1","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1648544603,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1947974,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/b9/46/604b3dcf.jpg","nickname":"è“è‰²æµ·æ´‹","note":"","ucode":"C1BF85D9E5C881","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":578266,"discussion_content":"æ²¡æœ‰è¿”å›å€¼ä¹Ÿå¯ä»¥æ£€éªŒä¼ å…¥å˜é‡çš„å˜åŒ–ï½","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1656636906,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":308438,"user_name":"å°å‡¯","can_delete":false,"product_type":"c1","uid":2160395,"ip_address":"","ucode":"4467791346C3ED","user_header":"https://static001.geekbang.org/account/avatar/00/20/f7/0b/403fbeba.jpg","comment_is_top":false,"comment_ctime":1629620317,"is_pvip":false,"replies":[{"id":"111708","content":"è¿è¡Œ.&#47;gradlewï¼Œå®ƒä¼šæä½ ä¸‹è½½ç›¸åº”çš„gradleç‰ˆæœ¬ï¼Œè¿™ç§åšæ³•å°±æ˜¯ä¸ºäº†ä¿æŒæ‰€æœ‰äººç”¨ä¸€æ ·çš„gradleç‰ˆæœ¬ã€‚<br><br>BTWï¼Œgradle&#47;wrapper&#47;gradle-wrapper.propertiesé‡Œé¢åŒ…å«äº†gradleçš„ç‰ˆæœ¬ä¿¡æ¯ã€‚","user_name":"ä½œè€…å›å¤","comment_id":308438,"uid":"1258861","ip_address":"","utype":1,"ctime":1629699621,"user_name_real":"éƒ‘æ™”"}],"discussion_count":1,"race_medal":0,"score":"14514522205","product_id":100085101,"comment_content":"é¡¹ç›®è¿è¡Œä¸èµ·æ¥ èƒ½è´´ä¸€ä¸‹å…·ä½“çš„gradleç‰ˆæœ¬ä¿¡æ¯å—ï¼Ÿ","like_count":3,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525491,"discussion_content":"è¿è¡Œ./gradlewï¼Œå®ƒä¼šæä½ ä¸‹è½½ç›¸åº”çš„gradleç‰ˆæœ¬ï¼Œè¿™ç§åšæ³•å°±æ˜¯ä¸ºäº†ä¿æŒæ‰€æœ‰äººç”¨ä¸€æ ·çš„gradleç‰ˆæœ¬ã€‚\n\nBTWï¼Œgradle/wrapper/gradle-wrapper.propertiesé‡Œé¢åŒ…å«äº†gradleçš„ç‰ˆæœ¬ä¿¡æ¯ã€‚","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1629699621,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":342155,"user_name":"æˆäººä»¥ğŸŸï¼Œä¸å¦‚æˆäººä»¥æ¸”","can_delete":false,"product_type":"c1","uid":1193874,"ip_address":"","ucode":"BD53829E924B66","user_header":"https://static001.geekbang.org/account/avatar/00/12/37/92/961ba560.jpg","comment_is_top":false,"comment_ctime":1650074077,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"10240008669","product_id":100085101,"comment_content":"åœ¨å·¥ä½œä¸­ï¼Œæˆ‘ä¸€èˆ¬åšæµ‹è¯•çš„ä»£ç æ˜¯é‚£äº›çœ‹èµ·æ¥å¾ˆå®¹æ˜“åšæµ‹è¯•çš„éƒ¨åˆ†ï¼Œå®é™…ä¸Šå…¶åº•å±‚é€»è¾‘ä¾ç„¶æ˜¯ï¼šå¯¹æˆ‘æœ‰èƒ½åŠ›åšæµ‹è¯•çš„ä»£ç åšæµ‹è¯•ï¼Œå¾ˆå¤§éƒ¨åˆ†ä»£ç éƒ½æ˜¯æ²¡æœ‰èƒ½åŠ›åšæµ‹è¯•çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å†™å‡ºçš„ä»£ç æ˜¯ä¸å…·å¤‡å¯æµ‹è¯•æ€§çš„ã€‚å¦å¤–ï¼Œæˆ‘ä¼šåšå¤§é‡çš„æ¥å£æµ‹è¯•ï¼Œå®é™…ä¸Šæ˜¯ä¸€ç§é›†æˆæµ‹è¯•æˆ–ç³»ç»Ÿæµ‹è¯•ã€‚","like_count":2},{"had_liked":false,"id":309059,"user_name":"Geek_3b1096","can_delete":false,"product_type":"c1","uid":1549364,"ip_address":"","ucode":"A6BD92B79B3632","user_header":"","comment_is_top":false,"comment_ctime":1629907090,"is_pvip":false,"replies":[{"id":"111884","content":"è®¾è®¡æ˜¯æ¼”åŒ–å‡ºæ¥çš„","user_name":"ä½œè€…å›å¤","comment_id":309059,"uid":"1258861","ip_address":"","utype":1,"ctime":1629940339,"user_name_real":"éƒ‘æ™”"}],"discussion_count":1,"race_medal":0,"score":"10219841682","product_id":100085101,"comment_content":"è°¢è°¢è€å¸ˆä¸€æ­¥ä¸€æ­¥çš„è¯´æ˜æ·»åŠ TodoItemå­—æ®µ: content -&gt; done -&gt; index","like_count":2,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":525729,"discussion_content":"è®¾è®¡æ˜¯æ¼”åŒ–å‡ºæ¥çš„","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629940339,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":305750,"user_name":"Summer  ç©ºåŸ","can_delete":false,"product_type":"c1","uid":1337146,"ip_address":"","ucode":"6BDBB70FB6F709","user_header":"https://static001.geekbang.org/account/avatar/00/14/67/3a/0dd9ea02.jpg","comment_is_top":false,"comment_ctime":1628149759,"is_pvip":true,"replies":[{"id":"110659","content":"å› ä¸ºå®ƒå¾ˆç®€å•ï¼Œæˆ‘å°±æ”¾åœ¨ä¸€èµ·äº†ã€‚å¦‚æœå¤æ‚ä¸€ç‚¹ï¼Œæˆ‘å¯èƒ½ä¼šè€ƒè™‘æ‹†åˆ†ã€‚","user_name":"ä½œè€…å›å¤","comment_id":305750,"uid":"1258861","ip_address":"","utype":1,"ctime":1628173317,"user_name_real":"éƒ‘æ™”"}],"discussion_count":1,"race_medal":0,"score":"10218084351","product_id":100085101,"comment_content":"List list(final boolean all);  è¿™ä¸ªæ¥å£ä¸ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™å§","like_count":2,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524500,"discussion_content":"å› ä¸ºå®ƒå¾ˆç®€å•ï¼Œæˆ‘å°±æ”¾åœ¨ä¸€èµ·äº†ã€‚å¦‚æœå¤æ‚ä¸€ç‚¹ï¼Œæˆ‘å¯èƒ½ä¼šè€ƒè™‘æ‹†åˆ†ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628173317,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":347782,"user_name":"if...else...","can_delete":false,"product_type":"c1","uid":2550743,"ip_address":"","ucode":"D0565908C99695","user_header":"https://static001.geekbang.org/account/avatar/00/26/eb/d7/90391376.jpg","comment_is_top":false,"comment_ctime":1654424367,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"5949391663","product_id":100085101,"comment_content":"ç»†åŒ–æµ‹è¯•åœºæ™¯ï¼Œç¼–å†™å¯æµ‹è¯•çš„ä»£ç ã€‚--è®°ä¸‹æ¥","like_count":1},{"had_liked":false,"id":331450,"user_name":"Kevin","can_delete":false,"product_type":"c1","uid":2763179,"ip_address":"","ucode":"3588850B3370C8","user_header":"https://static001.geekbang.org/account/avatar/00/2a/29/ab/59a6e437.jpg","comment_is_top":false,"comment_ctime":1642589380,"is_pvip":true,"replies":[{"id":"121293","content":"åŠ æ²¹åŠ æ²¹ï¼","user_name":"ä½œè€…å›å¤","comment_id":331450,"uid":"1258861","ip_address":"","utype":1,"ctime":1642982460,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":5,"score":"5937556676","product_id":100085101,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘æ˜¯ä»10xç¨‹åºå‘˜å¼€å§‹å…³æ³¨è€å¸ˆçš„è¯¾ç¨‹ï¼Œç›®å‰è¯¥è¯¾ç¨‹å·²ç»å­¦ä¹ å®Œæ¯•ï¼Œå—ç›ŠåŒªæµ…ã€‚ç„¶åå°±å¼€å§‹ç»§ç»­å­¦ä¹ è½¯ä»¶è®¾è®¡ä¹‹ç¾ï¼Œç›®å‰è¿˜åœ¨å­¦ä¹ ä¸­ã€‚åæ¥åˆçœ‹åˆ°ä»£ç ä¹‹ä¸‘çš„ToDoé¡¹ç›®ï¼Œå½“æ—¶å°±åœ¨æƒ³ä¹Ÿè¦å‚ä¸ä¸€ä¸‹ã€‚ç„¶åå°±æ€è€ƒæ€ä¹ˆæ ·æ‰èƒ½å†™å¾—å‡ºå½©ï¼Œç¬¬ä¸€ç‚¹æƒ³åˆ°çš„å°±æ˜¯è¦å®è·µä¸€ä¸‹tddã€‚ç°åœ¨çœ‹åˆ°ç¨‹åºå‘˜çš„æµ‹è¯•è¯¾è¿™é—¨è¯¾ç¨‹ï¼Œæœç„¶æ˜¯è‹±é›„æ‰€è§ç•¥åŒï¼Œå“ˆå“ˆå“ˆï¼<br><br>å› ä¸ºæˆ‘åˆšæ¢äº†ä¸€ä¸ªå·¥ä½œï¼Œä¸»è¦ä¼šç”¨C++æ¥å¼€å‘ã€‚æ‰€ä»¥è¿™é‡Œå…ˆç«‹ä¸ªflagï¼Œä½¿ç”¨C++æ¥å®è·µè¿™ä¸ªè¯¾ç¨‹ï¼Œé‡‡ç”¨tddæ¥å®ç°è¿™ä¸ªToDoçš„å°é¡¹ç›®ã€‚åˆ°æ—¶æŠŠGitHubå·¥ç¨‹å‘å‡ºæ¥ï¼Œè¯·è€å¸ˆç‚¹è¯„ã€‚<br><br>ä¸è¿‡æ—¶é—´å‘¨æœŸå¯èƒ½ä¼šæ¯”è¾ƒé•¿ï¼Œæˆ‘å°½é‡åŠªåŠ›ã€‚","like_count":1,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":547969,"discussion_content":"åŠ æ²¹åŠ æ²¹ï¼","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1642982460,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":320121,"user_name":"chon","can_delete":false,"product_type":"c1","uid":1068925,"ip_address":"","ucode":"1C32170972F726","user_header":"https://static001.geekbang.org/account/avatar/00/10/4f/7d/dd852b04.jpg","comment_is_top":false,"comment_ctime":1636088386,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"5931055682","product_id":100085101,"comment_content":"è€å¸ˆï¼Œæˆ‘ç”¨jacocoçš„maven pluginï¼Œè¿è¡Œåå‘ç°ä»£ç è¦†ç›–ç‡ä¸º0ï¼Œè¿™éƒ¨åˆ†çš„æµ‹è¯•ä»£ç å·²å†™ã€‚åŒæ ·å†™äº†ä¸ç”¨mockitoçš„æµ‹è¯•ä»£ç ï¼Œè¿™ä¸ªå°±èƒ½çœ‹åˆ°æµ‹è¯•è¦†ç›–ç‡ä¸ä¸º0ã€‚ç½‘ä¸Šè¯´å› ä¸ºmockitoä¹Ÿç”¨äº†å­—èŠ‚ç å¢å¼ºï¼Œå¯¼è‡´å†²çªã€‚è¯·é—®è¿™ä¸ªæ€ä¹ˆè§£å†³ï¼Ÿ","like_count":1},{"had_liked":false,"id":306360,"user_name":"Gojustforfun","can_delete":false,"product_type":"c1","uid":1187021,"ip_address":"","ucode":"7513A40F27344F","user_header":"https://static001.geekbang.org/account/avatar/00/12/1c/cd/8d552516.jpg","comment_is_top":false,"comment_ctime":1628512654,"is_pvip":true,"discussion_count":2,"race_medal":0,"score":"5923479950","product_id":100085101,"comment_content":"should_mark_todo_item_as_doneæµ‹è¯•ç”¨ä¾‹ä¸­<br>1)  actural.isDoneæ˜¯åœ¨å“ªå®ç°çš„ï¼ŸTodoItemä¸­æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ã€‚æ˜¯ä½¿ç”¨æ³¨è§£å®ç°çš„å—ï¼Ÿ<br>2ï¼‰ Optional&lt;TodoItem&gt; todoItem = service.markTodoItemDone(1)ä¸­1åº”è¯¥æ˜¯TodoIndexParameterç±»å‹<br>3)  Javaç‰¹æ€§ç”¨çš„æœ‰ç‚¹å¤šï¼Œå…¶ä»–è¯­è¨€èƒŒæ™¯çœ‹çš„æœ‰ç‚¹å›°éš¾ã€‚è¿è¡Œæ—¶å¼‚å¸¸ï¼ŒOptionalã€‚å¸Œæœ›è€å¸ˆèƒ½ç…§é¡¾ä¸€ä¸‹ï¼Œå¤šè§£é‡Šä¸€ä¸‹æˆ–è€…æç¤ºä¸€ä¸‹å…¶ä»–è¯­è¨€å¯¹åº”çš„ç‰¹æ€§ï¼Œè°¢è°¢","like_count":1,"discussions":[{"author":{"id":1337030,"avatar":"https://static001.geekbang.org/account/avatar/00/14/66/c6/d779dfb6.jpg","nickname":"æ¾æ¾","note":"","ucode":"EB2A80CF7BCA4B","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":388353,"discussion_content":"1ï¼‰@Getter Lombokç”Ÿæˆçš„ï¼Œå¸ƒå°”ç±»å‹æ˜¯isX()ï¼Œå…¶å®ƒæ˜¯getX()","likes_number":1,"is_delete":false,"is_hidden":false,"ctime":1628730586,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1187021,"avatar":"https://static001.geekbang.org/account/avatar/00/12/1c/cd/8d552516.jpg","nickname":"Gojustforfun","note":"","ucode":"7513A40F27344F","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":1337030,"avatar":"https://static001.geekbang.org/account/avatar/00/14/66/c6/d779dfb6.jpg","nickname":"æ¾æ¾","note":"","ucode":"EB2A80CF7BCA4B","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":390567,"discussion_content":"è°¢è°¢","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629894762,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":388353,"ip_address":""},"score":390567,"extra":""}]}]},{"had_liked":false,"id":305698,"user_name":"æ—¶å°šå¥³äººçš„å„¿å­ğŸ˜˜","can_delete":false,"product_type":"c1","uid":1114960,"ip_address":"","ucode":"E522A9E0310979","user_header":"https://static001.geekbang.org/account/avatar/00/11/03/50/c0021fc0.jpg","comment_is_top":false,"comment_ctime":1628124089,"is_pvip":false,"replies":[{"id":"110609","content":"å›´ç»•ç€ç›®æ ‡å»åšæµ‹è¯•ï¼Œæˆ‘æ²¡æœ‰ç‰¹åˆ«çš„æƒ³è¿‡è¾“å…¥å’Œè¾“å‡ºã€‚","user_name":"ä½œè€…å›å¤","comment_id":305698,"uid":"1258861","ip_address":"","utype":1,"ctime":1628145591,"user_name_real":"éƒ‘æ™”"}],"discussion_count":2,"race_medal":0,"score":"5923091385","product_id":100085101,"comment_content":"æˆ‘åœ¨å®ç°ä¾‹å¦‚ TodoItemService ä¹‹å‰, é€šå¸¸éƒ½ä¼šå…ˆæµ‹è¯•å®ƒçš„ è¾“å…¥å’Œè¾“å‡º, ä¸¤ä¸ªç±»è¢«æµ‹è¯•å®Œæˆå, æˆ‘æ‰å»å¼€å§‹ç”¨æµ‹è¯•å®ç°TodoItemService. ä½†çœ‹äº†æ‚¨çš„å®ç°æ‰‹æ³•, ä¸€ä¸ªæµ‹è¯•é›†å°±å·²ç»èƒ½å¤Ÿè¦†ç›–åˆ°äº†è¾“å…¥è¾“å‡º.æ„Ÿè§‰æ‚¨è¿™æ ·æ›´ç®€å•äº›. ä¸çŸ¥é“æˆ‘æƒ³çš„å¯¹ä¸å¯¹, è¿˜æ˜¯åº”è¯¥ä¸€ä¸ªæ¨¡å—å¯¹åº”ä¸€ä¸ªæµ‹è¯•é›†å‘¢?","like_count":1,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":524485,"discussion_content":"å›´ç»•ç€ç›®æ ‡å»åšæµ‹è¯•ï¼Œæˆ‘æ²¡æœ‰ç‰¹åˆ«çš„æƒ³è¿‡è¾“å…¥å’Œè¾“å‡ºã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1628145591,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1025762,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/a6/e2/5ce22802.jpg","nickname":"å†è§é™›ä¸‹","note":"","ucode":"42170293151A24","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":389082,"discussion_content":"ç›®æ ‡éš¾é“ä¸æ˜¯è¾“å…¥å’Œè¾“å‡ºä¹ˆï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1629111685,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":356813,"user_name":"Geek_a6ed5f","can_delete":false,"product_type":"c1","uid":3176026,"ip_address":"åŒ—äº¬","ucode":"B9E2492DBC14EC","user_header":"","comment_is_top":false,"comment_ctime":1662607730,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1662607730","product_id":100085101,"comment_content":"githubçš„åœ°å€æ˜¯å“ªé‡Œï¼Ÿ","like_count":0},{"had_liked":false,"id":349317,"user_name":"ç –ç”¨å†°è¥¿ç“œ","can_delete":false,"product_type":"c1","uid":1057075,"ip_address":"","ucode":"9FB3FAFC958A10","user_header":"https://static001.geekbang.org/account/avatar/00/10/21/33/acacb6ac.jpg","comment_is_top":false,"comment_ctime":1655883405,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1655883405","product_id":100085101,"comment_content":"æˆ‘ä¸æ˜¯å†™ Java çš„ç¨‹åºçŒ¿ï¼Œæœ‰ä¸ªé—®é¢˜ï¼ŒJava æ˜¯å¼ºç±»å‹ï¼Œå‡½æ•°çš„å‚æ•°çš„ç±»å‹å®šä¹‰å¥½äº†ï¼Œåœ¨è°ƒç”¨çš„æ—¶å€™å¦‚æœç”¨äº† nullï¼Œåº”è¯¥æ˜¯ä¸ç”¨å•å…ƒæµ‹è¯•ä¹Ÿä¼šæŠ¥é”™å§ï¼Ÿè¿˜éœ€è¦åœ¨å•å…ƒæµ‹è¯•é‡Œé¢å†éªŒè¯ä¸€éå—ï¼Ÿ","like_count":0},{"had_liked":false,"id":347614,"user_name":"å¤§é¹","can_delete":false,"product_type":"c1","uid":2659123,"ip_address":"","ucode":"31A65C4C054B93","user_header":"https://static001.geekbang.org/account/avatar/00/28/93/33/2d4de22e.jpg","comment_is_top":false,"comment_ctime":1654225850,"is_pvip":true,"discussion_count":0,"race_medal":0,"score":"1654225850","product_id":100085101,"comment_content":"   @Test<br>    void should_not_list_without_item() {<br>        when(repository.findAll()).thenReturn(ImmutableList.of());<br><br>        List&lt;TodoItem&gt; items = service.list(true);<br>        &#47;&#47; assertThat(items).hasSize(0);  &#47;&#47; è¿™ä¸€è¡Œæ€§èƒ½æœ‰é—®é¢˜, æ›¿æ¢æˆä¸‹é¢çš„æ›´å¥½<br>        assertThat(items).isEmpty();<br>    }","like_count":0},{"had_liked":false,"id":345883,"user_name":"Michael","can_delete":false,"product_type":"c1","uid":1015222,"ip_address":"","ucode":"27EB4A725CE14E","user_header":"https://static001.geekbang.org/account/avatar/00/0f/7d/b6/abdebdeb.jpg","comment_is_top":false,"comment_ctime":1652673564,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1652673564","product_id":100085101,"comment_content":"è€å¸ˆå¥½ï¼Œæˆ‘ä¸€ç›´æœ‰ä¸ªé—®é¢˜æ¯”è¾ƒå›°æƒ‘ï¼Œæˆ‘ä»¬åœ¨åšå•å…ƒæµ‹è¯•çš„æ—¶å€™éœ€è¦mockæ•°æ®ï¼Œæ¯”å¦‚è¯´æˆ‘ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š<br><br>```<br>public interface OrderService {<br>    Order create(Order order)<br>}<br><br>@Test<br>public void should_create_order() {<br>        Order mockOrder = mockOrder();<br>        OrderService subject = new OrderServiceImpl(orderRepository);<br>        when(orderRepository.save(any())).thenReturn(mockOrder);<br><br>        Order createdOrder = subject.create(mockOrder);<br>        è¿™é‡Œå¯¹çŠ¶æ€çš„æµ‹è¯•å¥½åƒæ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œå› ä¸ºcreatedOrderå°±æ˜¯mockOrder, è€ŒmockOrderæ˜¯æˆ‘ä»¬ç»™çš„<br>    }<br>```<br>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒOrderServiceæ¥æ”¶ä¸€ä¸ªOrder entityçš„å‚æ•°ï¼Œé€šè¿‡orderRepository.save(order)æŒä¹…åŒ–Orderï¼Œç„¶åreturn createdOrderï¼Œæˆ‘çš„é—®é¢˜æ˜¯ï¼š<br>1. è¿™ä¸ªæµ‹è¯•å¥½åƒæ²¡ä»€ä¹ˆç”¨ï¼Œå› ä¸ºä½ çš„è¿”å›å€¼createdOrderå…¶å®å°±æ˜¯æµ‹è¯•é‡Œçš„mockOrder?<br>2. è¿™ä¸ªOrderService.create(Order order)çš„è®¾è®¡æ˜¯ä¸æ˜¯ä¸å¯¹ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯åº”è¯¥è®¾è®¡æˆOrderService.create(OrderDTO orderDto)ï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬å°±ä¸éœ€è¦æ¯æ¬¡éƒ½å¾—åœ¨è°ƒç”¨æ–¹åšDTO-&gt;entityçš„convert<br>3. æ¯æ¬¡æœ‰xxxRepository.save()è¿™æ ·çš„è°ƒç”¨æˆ‘å°±æ„Ÿè§‰æ•´ä¸ªæµ‹è¯•æ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œå› ä¸ºä½ çš„è¿”å›å€¼å¾ˆå¯èƒ½å°±æ˜¯ return xxxRepository.save(xxx), è¿™ç§æ–¹æ³•å¯èƒ½åªèƒ½ç”¨è¡Œä¸ºæµ‹è¯•ï¼Œåšä¸äº†çŠ¶æ€æµ‹è¯•ã€‚","like_count":0},{"had_liked":false,"id":345172,"user_name":"å¸ƒå‡¡","can_delete":false,"product_type":"c1","uid":1202465,"ip_address":"","ucode":"346FCD332F8BFA","user_header":"https://static001.geekbang.org/account/avatar/00/12/59/21/d2efde18.jpg","comment_is_top":false,"comment_ctime":1652089675,"is_pvip":false,"replies":[{"id":"126008","content":"ä½ å¯ä»¥å»æ‰¾Javaå…¥é—¨è¯¾ç¨‹","user_name":"ä½œè€…å›å¤","comment_id":345172,"uid":"1258861","ip_address":"","utype":1,"ctime":1652168802,"user_name_real":"ç¼–è¾‘"}],"discussion_count":1,"race_medal":0,"score":"1652089675","product_id":100085101,"comment_content":"è€å¸ˆï¼Œjava æ–°æ‰‹ï¼Œè¯¾ç¨‹ä¸­çš„æ€è·¯æˆ‘éƒ½èƒ½ç†è§£ï¼Œä½†æ˜¯å¦‚æœè‡ªå·±æ‰‹åŠ¨å®è·µè¿˜æ˜¯æœ‰ä¸€äº›é—®é¢˜ï¼Œå¯ä»¥è€ƒè™‘å‡ºä¸€ä¸ªjavaå¼€å‘ç¯å¢ƒå®‰è£…çš„è§†é¢‘å—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571283,"discussion_content":"ä½ å¯ä»¥å»æ‰¾Javaå…¥é—¨è¯¾ç¨‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652168802,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":337700,"user_name":"ç¨‹åŒå­¦","can_delete":false,"product_type":"c1","uid":1974472,"ip_address":"","ucode":"2A10FA3C724C08","user_header":"https://static001.geekbang.org/account/avatar/00/1e/20/c8/b16eb6ed.jpg","comment_is_top":false,"comment_ctime":1646982740,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1646982740","product_id":100085101,"comment_content":"ä¸æ‡‚Javaï¼Œåªæ‡‚JSã€‚æœ‰å’©æœ‰é€‚åˆå‰ç«¯çš„æµ‹è¯•è¯¾ç¨‹","like_count":0},{"had_liked":false,"id":331699,"user_name":"å¾®ç¬‘","can_delete":false,"product_type":"c1","uid":1685222,"ip_address":"","ucode":"C5EE55E23D2C57","user_header":"https://static001.geekbang.org/account/avatar/00/19/b6/e6/db12908c.jpg","comment_is_top":false,"comment_ctime":1642730612,"is_pvip":false,"discussion_count":0,"race_medal":0,"score":"1642730612","product_id":100085101,"comment_content":"å½“ä»£ç æŠ€æœ¯è´Ÿå€ºå¤ªé«˜ï¼Œå®é™…å¼€å‘ä¸šåŠ¡æ—¶æ ¹æœ¬æ²¡é‚£ä¹ˆå¤šæ—¶é—´å†™æµ‹è¯•<br>æœ€å¤šå°±æ˜¯å…³é”®é€»è¾‘ï¼Œæˆ–è€…å¿…è¦æµ‹è¯•æ‰ä¼šå†™<br>å¤§å¤šæ•°éƒ½æ˜¯æ¥å£é›†æˆæµ‹è¯•ã€‚<br><br>é€‚åˆæ–°é¡¹é¡¹ç›®ã€é¡¹ç›®è´¨é‡è¦æ±‚é«˜","like_count":0},{"had_liked":false,"id":313182,"user_name":"ğŸŒ¿","can_delete":false,"product_type":"c1","uid":2066322,"ip_address":"","ucode":"5F819BBD11054E","user_header":"https://static001.geekbang.org/account/avatar/00/1f/87/92/9ac4c335.jpg","comment_is_top":false,"comment_ctime":1632302919,"is_pvip":false,"replies":[{"id":"113440","content":"ã€Šè½¯ä»¶è®¾è®¡ä¹‹ç¾ã€‹","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1632312590,"ip_address":"","comment_id":313182,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1632302919","product_id":100085101,"comment_content":"å…³äºåº”ç”¨æœåŠ¡çš„è®¾è®¡ï¼Œè€å¸ˆå“ªä¸ªä¸“æ æˆ–æ–‡ç« é‡Œé¢æœ‰è¯¦ç»†è¯´æ˜ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527263,"discussion_content":"ã€Šè½¯ä»¶è®¾è®¡ä¹‹ç¾ã€‹","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632312590,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":312541,"user_name":"ğŸŒ¿","can_delete":false,"product_type":"c1","uid":2066322,"ip_address":"","ucode":"5F819BBD11054E","user_header":"https://static001.geekbang.org/account/avatar/00/1f/87/92/9ac4c335.jpg","comment_is_top":false,"comment_ctime":1631858126,"is_pvip":false,"replies":[{"id":"113441","content":"æ²¡æœ‰å¤ªç†è§£ä½ çš„é—®é¢˜ï¼ŒTodoItem çš„æœåŠ¡æ”¾åˆ° TodoItemService ä¸æ˜¯å¾ˆæ­£å¸¸çš„åšæ³•å—ï¼Ÿ","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1632312881,"ip_address":"","comment_id":312541,"utype":1}],"discussion_count":3,"race_medal":0,"score":"1631858126","product_id":100085101,"comment_content":"è€å¸ˆï¼Œä¾‹å­ä¸­ï¼ŒTodoItemServiceç›®å‰ä¸ºæ­¢åŒ…å«äº†TodoItemæ‰€æœ‰ç›¸å…³ä¸šåŠ¡æ“ä½œæ–¹æ³•ï¼Œä½†æœ‰äº›èµ„æ–™æ¨èå°†è¿™äº›ä¸šåŠ¡æ–¹æ³•æå–åˆ°å•ç‹¬Serviceé‡Œé¢ï¼Œè¯·é—®è¿™2ç§æ–¹å¼å„æœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Œåœ¨å®é™…å¼€å‘ä¸­è¿™2ç§æ–¹å¼å„åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":527010,"discussion_content":"æ²¡æœ‰å¤ªç†è§£ä½ çš„é—®é¢˜ï¼ŒTodoItem çš„æœåŠ¡æ”¾åˆ° TodoItemService ä¸æ˜¯å¾ˆæ­£å¸¸çš„åšæ³•å—ï¼Ÿ","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632312881,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2066322,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/87/92/9ac4c335.jpg","nickname":"ğŸŒ¿","note":"","ucode":"5F819BBD11054E","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":395534,"discussion_content":"æˆ‘çš„æ„æ€æ˜¯todoitemserviceé‡Œé¢çš„3ä¸ªæ–¹æ³•ï¼Œæœ‰äº›èµ„æ–™é‡Œé¢æ¨èåˆ†æˆ3ä¸ªserviceï¼Œæ¯”å¦‚ï¼šaddtodoitemserviceã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1632312992,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":""},"score":2,"extra":"","child_discussion_number":1,"child_discussions":[{"author":{"id":1014665,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/7b/89/34f2cbcc.jpg","nickname":"æ¨å®‡","note":"","ucode":"EB74DF6E269F03","race_medal":0,"user_type":1,"is_pvip":true},"reply_author":{"id":2066322,"avatar":"https://static001.geekbang.org/account/avatar/00/1f/87/92/9ac4c335.jpg","nickname":"ğŸŒ¿","note":"","ucode":"5F819BBD11054E","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":544109,"discussion_content":"å¸¸è§æƒ…å†µä¸‹ï¼Œä¸€ä¸ªServiceæ˜¯å¯¹ä¸€ä¸ªå®ä½“çš„ï¼Œè¿™ä¸ªå®ä½“çš„ç›¸å…³æ“ä½œéƒ½æ”¾åˆ°è¿™ä¸ªServiceä¸­ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1641397473,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":395534,"ip_address":""},"score":544109,"extra":""}]}]},{"had_liked":false,"id":311518,"user_name":"æ ‘æ‡’å…ˆç”Ÿ","can_delete":false,"product_type":"c1","uid":1053292,"ip_address":"","ucode":"7749020DFA1127","user_header":"https://static001.geekbang.org/account/avatar/00/10/12/6c/0f0cf9eb.jpg","comment_is_top":false,"comment_ctime":1631265750,"is_pvip":false,"replies":[{"id":"112885","content":"ç„¶","user_name":"ä½œè€…å›å¤","user_name_real":"éƒ‘æ™”","uid":"1258861","ctime":1631317885,"ip_address":"","comment_id":311518,"utype":1}],"discussion_count":1,"race_medal":0,"score":"1631265750","product_id":100085101,"comment_content":"so, Serviceå®ç°å°±åœ¨Serviceå±‚ã€‚","like_count":0,"discussions":[{"author":{"id":1258861,"avatar":"https://static001.geekbang.org/account/avatar/00/13/35/6d/07a42f81.jpg","nickname":"éƒ‘æ™”","note":"","ucode":"1EBD5AA5D4FC89","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":526645,"discussion_content":"ç„¶","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1631317885,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":""},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]}]}
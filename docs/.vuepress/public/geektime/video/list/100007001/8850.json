{"id":8850,"title":"42 | Apollo Client和Spring集成~代码方式(Lab04)","content":"无","comments":[{"had_liked":false,"id":50029,"user_name":"王盛武","can_delete":false,"product_type":"c3","uid":1182516,"ip_address":"","ucode":"DE7EF246D3DCE8","user_header":"https://static001.geekbang.org/account/avatar/00/12/0b/34/f41d73a4.jpg","comment_is_top":false,"comment_ctime":1544844171,"is_pvip":false,"replies":[{"id":18451,"content":"ConfigService会定时扫MessageRelease数据库，秒级延迟，使用版本号机制控制，所以不是全表扫，比较轻量。每个ConfigService知道自己负责哪些client，如果ConfigService扫到自己负责的client有配置变更，就会推送到client。client和ConfigService之间是client发起的long pulling连接。","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1545137607,"ip_address":"","comment_id":50029,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"Admin Service修改发布到MessageRelease数据库表之后，\n还是没有理解是如何结合 Client-&gt;ConfigService（Clinet发起长轮询的deferResult机制）做到实时推送的；\n\n是否ConfigService有定时任务间隔X秒服务MessageRelease数据库表，然后响应 Client-&gt;ConfigService的请求？","like_count":1,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":432848,"discussion_content":"ConfigService会定时扫MessageRelease数据库，秒级延迟，使用版本号机制控制，所以不是全表扫，比较轻量。每个ConfigService知道自己负责哪些client，如果ConfigService扫到自己负责的client有配置变更，就会推送到client。client和ConfigService之间是client发起的long pulling连接。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1545137607,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":2230909,"avatar":"https://static001.geekbang.org/account/avatar/00/22/0a/7d/ac715471.jpg","nickname":"独孤九剑","note":"","ucode":"6C1253E2B8C1D4","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":374922,"discussion_content":"版本号机制还可以用于实现“乐观锁”，是个很好的思路。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1621411972,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":57061,"user_name":"zero-j","can_delete":false,"product_type":"c3","uid":1025976,"ip_address":"","ucode":"E4BB7550B65F18","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a7/b8/98085272.jpg","comment_is_top":false,"comment_ctime":1546611567,"is_pvip":false,"replies":[{"id":20891,"content":"可以集成自己的eureka，参考apollo官方文档FAQ：部署&amp;开发遇到的常见问题","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1546952973,"ip_address":"","comment_id":57061,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"我看到说 Mets service  封装了eureka 做服务发现  现在公司已经又在使用eureka了 哪我们需要使用apollo 我们是使用自己的eureka 还是说豆一起使用，有什么好的集成思路……","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":435385,"discussion_content":"可以集成自己的eureka，参考apollo官方文档FAQ：部署&amp;amp;开发遇到的常见问题","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1546952973,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":44298,"user_name":"lester","can_delete":false,"product_type":"c3","uid":1025747,"ip_address":"","ucode":"79BD59B50C97BA","user_header":"https://static001.geekbang.org/account/avatar/00/0f/a6/d3/856316dd.jpg","comment_is_top":false,"comment_ctime":1543403186,"is_pvip":false,"replies":[{"id":15966,"content":"业务逻辑策略动态配置，apollo正合适","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1543493211,"ip_address":"","comment_id":44298,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"清晰易懂~自动绑定的功能非常棒，考虑在marking项目的促销政策发布的时候使用，不知是否适用","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":430718,"discussion_content":"业务逻辑策略动态配置，apollo正合适","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1543493211,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":352350,"user_name":"烟雨濛濛","can_delete":false,"product_type":"c3","uid":1339230,"ip_address":"","ucode":"FF0DD7382CD3CA","user_header":"https://static001.geekbang.org/account/avatar/00/14/6f/5e/7fcfae56.jpg","comment_is_top":false,"comment_ctime":1658569445,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100007001,"comment_content":"现在的Apollo源码中为什么没有apollo-demo?","like_count":0}]}
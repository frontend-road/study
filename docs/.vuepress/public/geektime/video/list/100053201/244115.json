{"id":244115,"title":"07 | TensorFlow 2开发环境搭建","content":"<h1>课件和 Demo 地址</h1><p><a href=\"https://gitee.com/geektime-geekbang/tensorflow-101/tree/master/experts\">https://gitee.com/geektime-geekbang/tensorflow-101/tree/master/experts</a></p>","comments":[{"had_liked":false,"id":226400,"user_name":"那鱼mis","can_delete":false,"product_type":"c3","uid":1299799,"ip_address":"","ucode":"1771076A6A0785","user_header":"https://static001.geekbang.org/account/avatar/00/13/d5/57/30a32dff.jpg","comment_is_top":false,"comment_ctime":1592063092,"is_pvip":false,"replies":[{"id":83552,"content":"👍🏻赞","user_name":"作者回复","user_name_real":"彭靖田","uid":1067283,"ctime":1592221806,"ip_address":"","comment_id":226400,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053201,"comment_content":"各位如果安装发现运行发现加载不了ImportError: DLL load failed: 找不到指定的模块， 可能是因为下载的时候没加-cpu版本。我也折腾了一下，最后下载了cpu版本才好的。 参考下载代码：pip install  tensorflow-cpu==2.2.0 -i   https:&#47;&#47;pypi.douban.com&#47;simple&#47;","like_count":5,"discussions":[{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"彭靖田","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498226,"discussion_content":"👍🏻赞","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592221806,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226243,"user_name":"Interesting","can_delete":false,"product_type":"c3","uid":1666691,"ip_address":"","ucode":"5795B2D14BD37D","user_header":"https://static001.geekbang.org/account/avatar/00/19/6e/83/f429164e.jpg","comment_is_top":false,"comment_ctime":1592013812,"is_pvip":false,"replies":[{"id":83555,"content":"启动命令按照我写的来，用bash 启动","user_name":"作者回复","user_name_real":"彭靖田","uid":1067283,"ctime":1592221895,"ip_address":"","comment_id":226243,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053201,"comment_content":"tf2.2的容器自己启动了notebook,  再安装jupyter lab使用同一端口，打开却是nitebook，不知道lab怎么访问...","like_count":1,"discussions":[{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"彭靖田","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498163,"discussion_content":"启动命令按照我写的来，用bash 启动","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592221895,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224639,"user_name":"皮特尔","can_delete":false,"product_type":"c3","uid":1017161,"ip_address":"","ucode":"313862C91DD325","user_header":"https://static001.geekbang.org/account/avatar/00/0f/85/49/585c69c4.jpg","comment_is_top":false,"comment_ctime":1591494194,"is_pvip":false,"replies":[{"id":83564,"content":"！","user_name":"作者回复","user_name_real":"彭靖田","uid":1067283,"ctime":1592222057,"ip_address":"","comment_id":224639,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053201,"comment_content":"TensorFlow 2.2.0正式版的 Docker 已经出来了： tensorflow&#47;tensorflow:2.2.0-jupyter","like_count":1,"discussions":[{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"彭靖田","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":497551,"discussion_content":"！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592222057,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":227756,"user_name":"🗿顾晓峰🈹🈳🈴🈷🎏","can_delete":false,"product_type":"c3","uid":1109785,"ip_address":"","ucode":"F3447F81832780","user_header":"https://static001.geekbang.org/account/avatar/00/10/ef/19/ba159b8c.jpg","comment_is_top":false,"comment_ctime":1592470858,"is_pvip":false,"replies":[{"id":84242,"content":"docker pull tensorflow&#47;tensorflow:2.2.0-gpu-jupyter","user_name":"作者回复","user_name_real":"彭靖田","uid":1067283,"ctime":1592722296,"ip_address":"","comment_id":227756,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053201,"comment_content":"怎么拉基于docker的Tensorflow的GPU版本？\n","like_count":0,"discussions":[{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"彭靖田","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498768,"discussion_content":"docker pull tensorflow/tensorflow:2.2.0-gpu-jupyter","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592722296,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226391,"user_name":"明","can_delete":false,"product_type":"c3","uid":2034420,"ip_address":"","ucode":"F228C1AB816157","user_header":"https://static001.geekbang.org/account/avatar/00/1f/0a/f4/9548ddfc.jpg","comment_is_top":false,"comment_ctime":1592060978,"is_pvip":false,"replies":[{"id":83553,"content":"换一个端口试试？\n你是不是用的 jupyter tag 的 tensorflow 镜像","user_name":"作者回复","user_name_real":"彭靖田","uid":1067283,"ctime":1592221847,"ip_address":"","comment_id":226391,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053201,"comment_content":"jupyterlab启动时发现8888端口已被占用，改了也不行","like_count":0,"discussions":[{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"彭靖田","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498224,"discussion_content":"换一个端口试试？\n你是不是用的 jupyter tag 的 tensorflow 镜像","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592221847,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":226350,"user_name":"长毛怪^^","can_delete":false,"product_type":"c3","uid":1901268,"ip_address":"","ucode":"A99F5F0F788641","user_header":"https://static001.geekbang.org/account/avatar/00/1d/02/d4/947cfdfb.jpg","comment_is_top":false,"comment_ctime":1592044628,"is_pvip":false,"replies":[{"id":83554,"content":"楼下有同学分享了方法","user_name":"作者回复","user_name_real":"彭靖田","uid":1067283,"ctime":1592221866,"ip_address":"","comment_id":226350,"utype":1}],"discussion_count":2,"race_medal":0,"score":2,"product_id":100053201,"comment_content":"装是装上了，一导入就报错咋回事呢？\nImportError: DLL load failed: 找不到指定的模块。","like_count":0,"discussions":[{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"彭靖田","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":498208,"discussion_content":"楼下有同学分享了方法","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592221866,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1901268,"avatar":"https://static001.geekbang.org/account/avatar/00/1d/02/d4/947cfdfb.jpg","nickname":"长毛怪^^","note":"","ucode":"A99F5F0F788641","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":282772,"discussion_content":"解决了，C++没装全","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1592070706,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":256752,"user_name":"測試中……","can_delete":false,"product_type":"c3","uid":1187359,"ip_address":"","ucode":"E7E1B46CB6D8B1","user_header":"https://static001.geekbang.org/account/avatar/00/12/1e/1f/41e35a24.jpg","comment_is_top":false,"comment_ctime":1603722135,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100053201,"comment_content":"另一个选项：Google Drive 中直接新建 Colab 文件，可以一秒上手 Tensorflow 了。","like_count":1},{"had_liked":false,"id":369255,"user_name":"法鲁格","can_delete":false,"product_type":"c3","uid":1393775,"ip_address":"辽宁","ucode":"5B03F944039ADA","user_header":"https://static001.geekbang.org/account/avatar/00/15/44/6f/caf4d145.jpg","comment_is_top":false,"comment_ctime":1677294265,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100053201,"comment_content":"docker每次重启，之前安装的jupyterlab就没了，还需要重新安装，这该如何解决啊？","like_count":0},{"had_liked":false,"id":369253,"user_name":"法鲁格","can_delete":false,"product_type":"c3","uid":1393775,"ip_address":"辽宁","ucode":"5B03F944039ADA","user_header":"https://static001.geekbang.org/account/avatar/00/15/44/6f/caf4d145.jpg","comment_is_top":false,"comment_ctime":1677293838,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100053201,"comment_content":"docker 下安装jupyterlab, 首先无法在8888下启动，可能是已经被docker本身的jupyter占用了端口，修改端口后再启动成功了，但是无法在宿主机浏览器里面访问。老师是如何做到的呢？","like_count":0},{"had_liked":false,"id":362192,"user_name":"dao","can_delete":false,"product_type":"c3","uid":1087879,"ip_address":"新加坡","ucode":"4181FB270462CF","user_header":"https://static001.geekbang.org/account/avatar/00/10/99/87/5066026c.jpg","comment_is_top":false,"comment_ctime":1668264123,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100053201,"comment_content":"vs code 的 microsoft 的 python 插件里的 jupyter notebook 用起来很方便，不需要手动去安装 jupyter lab 等。大家可以试试。","like_count":0},{"had_liked":false,"id":359268,"user_name":"轩天","can_delete":false,"product_type":"c3","uid":2518654,"ip_address":"浙江","ucode":"758BA992048C76","user_header":"https://static001.geekbang.org/account/avatar/00/26/6e/7e/013b22f2.jpg","comment_is_top":false,"comment_ctime":1665385865,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100053201,"comment_content":"jupyter这个mac机上安装有什么特殊的么？安装完毕后，竟然无法运行","like_count":0},{"had_liked":false,"id":306255,"user_name":"superman","can_delete":false,"product_type":"c3","uid":1971729,"ip_address":"","ucode":"12C0EE6BD7B6AD","user_header":"https://static001.geekbang.org/account/avatar/00/1e/16/11/d89a3a87.jpg","comment_is_top":false,"comment_ctime":1628474943,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100053201,"comment_content":"有没有课件下载","like_count":0},{"had_liked":false,"id":294360,"user_name":"范首涛","can_delete":false,"product_type":"c3","uid":2029640,"ip_address":"","ucode":"26C9033B1629FC","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f8/48/84ae4fcb.jpg","comment_is_top":false,"comment_ctime":1621914383,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100053201,"comment_content":"为什么  sm.evaluate(x_val,y_val)    结果与直接model.evaluate(x_val,y_val)预测差这么大\n1&#47;313 [..............................] - ETA: 0s - loss: 0.1601 - accuracy: 0.0938WARNING:tensorflow:Callbacks method `on_test_batch_begin` is slow compared to the batch time (batch time: 0.0000s vs `on_test_batch_begin` time: 0.0010s). Check your callbacks.\n313&#47;313 [==============================] - 0s 566us&#47;step - loss: 0.2464 - accuracy: 0.0975\n[0.2464098185300827, 0.09749999642372131]","like_count":0},{"had_liked":false,"id":272593,"user_name":"Sinduke","can_delete":false,"product_type":"c3","uid":1962093,"ip_address":"","ucode":"857356DCDD77F9","user_header":"https://static001.geekbang.org/account/avatar/00/1d/f0/6d/74754084.jpg","comment_is_top":false,"comment_ctime":1610166442,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100053201,"comment_content":"配置文件的全部是什么样子的  我现在启动就只能这样了\nroot@1dd4e412e246:&#47;work# jupyter lab --config jupyter_config.json \n[I 2021-01-09 03:38:54.029 ServerApp] jupyterlab | extension was successfully linked.\n[I 2021-01-09 03:38:54.317 ServerApp] jupyter_http_over_ws | extension was found and enabled by nbclassic. Consider moving the extension to Jupyter Server&#39;s extension paths.\n[I 2021-01-09 03:38:54.317 ServerApp] jupyter_http_over_ws | extension was successfully linked.\n[I 2021-01-09 03:38:54.317 ServerApp] nbclassic | extension was successfully linked.\njupyter_http_over_ws extension initialized. Listening on &#47;http_over_websocket\n[I 2021-01-09 03:38:54.337 ServerApp] jupyter_http_over_ws | extension was successfully loaded.\n[I 2021-01-09 03:38:54.338 LabApp] JupyterLab extension loaded from &#47;usr&#47;local&#47;lib&#47;python3.6&#47;dist-packages&#47;jupyterlab\n[I 2021-01-09 03:38:54.338 LabApp] JupyterLab application directory is &#47;usr&#47;local&#47;share&#47;jupyter&#47;lab\n[I 2021-01-09 03:38:54.342 ServerApp] jupyterlab | extension was successfully loaded.\n[I 2021-01-09 03:38:54.346 ServerApp] nbclassic | extension was successfully loaded.\n[C 2021-01-09 03:38:54.346 ServerApp] Running as root is not recommended. Use --allow-root to bypass.","like_count":0},{"had_liked":false,"id":236123,"user_name":"书豪","can_delete":false,"product_type":"c3","uid":1068091,"ip_address":"","ucode":"212FBDE59E8457","user_header":"https://static001.geekbang.org/account/avatar/00/10/4c/3b/47d832f4.jpg","comment_is_top":false,"comment_ctime":1595321911,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100053201,"comment_content":"老师，Ubuntu16.04系统安装tensorflow2.2好像不行，是不支持吗？","like_count":0},{"had_liked":false,"id":230093,"user_name":"庆轶初","can_delete":false,"product_type":"c3","uid":1368234,"ip_address":"","ucode":"4529C76AC0F2DF","user_header":"https://static001.geekbang.org/account/avatar/00/14/e0/aa/5139f2c4.jpg","comment_is_top":false,"comment_ctime":1593257401,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100053201,"comment_content":"老师，我在docker中使用的是GPU的景象，\n启动命令用的是 sudo docker run --gpus all -it tensorflow&#47;tensorflow:latest-gpu-jupyter bash\ndocker报错：\ndocker: Error response from daemon: OCI runtime create failed: container_linux.go:349: starting container process caused &quot;process_linux.go:449: container init caused \\&quot;process_linux.go:432: running prestart hook 0 caused \\\\\\&quot;error running hook: exit status 1, stdout: , stderr: nvidia-container-cli: initialization error: nvml error: driver not loaded\\\\\\\\n\\\\\\&quot;\\&quot;&quot;: unknown.\n是我的显卡驱动的问题，还是nvdia-docker安装的问题？","like_count":0},{"had_liked":false,"id":224588,"user_name":"念念碎的碎碎念","can_delete":false,"product_type":"c3","uid":1401709,"ip_address":"","ucode":"F6DCE52AD8F1C3","user_header":"https://static001.geekbang.org/account/avatar/00/15/63/6d/fba85466.jpg","comment_is_top":false,"comment_ctime":1591452596,"is_pvip":false,"replies":null,"discussion_count":2,"race_medal":1,"score":3,"product_id":100053201,"comment_content":"Ubuntu系统没有找到2.2.0的版本，最高到2.0.0的版本","like_count":0,"discussions":[{"author":{"id":1068091,"avatar":"https://static001.geekbang.org/account/avatar/00/10/4c/3b/47d832f4.jpg","nickname":"书豪","note":"","ucode":"212FBDE59E8457","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":292754,"discussion_content":"ubuntu16.04 安装tensorflow2.2好像不行，难道是不支持吗？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1595321858,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]},{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"彭靖田","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281633,"discussion_content":"应该有的，你用的是什么 pip 源？","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591781269,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":224123,"user_name":"小风","can_delete":false,"product_type":"c3","uid":2029187,"ip_address":"","ucode":"0C87A5E1EF233D","user_header":"https://static001.geekbang.org/account/avatar/00/1e/f6/83/9f430162.jpg","comment_is_top":false,"comment_ctime":1591279400,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":3,"product_id":100053201,"comment_content":"tr2.2的GPU版本和CPU版本整合到一起了么","like_count":0,"discussions":[{"author":{"id":1067283,"avatar":"https://static001.geekbang.org/account/avatar/00/10/49/13/51b1fe81.jpg","nickname":"彭靖田","note":"","ucode":"D3F1C281F38390","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":281632,"discussion_content":"2.2.开始默认使用Python3，Python2被遗弃。CPU/GPU还是分开的","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1591781230,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}
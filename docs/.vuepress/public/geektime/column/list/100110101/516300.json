{"id":516300,"title":"18ï½œNavigationï¼šé¡µé¢ä¹‹é—´æ€ä¹ˆè·³è½¬ï¼Ÿ","content":"<p>ä½ å¥½ï¼Œæˆ‘æ˜¯è’‹å®ä¼Ÿã€‚ä»Šå¤©æˆ‘è¦ç»™ä½ ä»‹ç»çš„æ˜¯å¯¼èˆªã€‚</p><p>å¯¼èˆªæ˜¯ç”¨æ¥ç®¡ç†é¡µé¢ä¹‹é—´çš„é“¾æ¥çš„ã€‚ä½ å¹³æ—¶ç”¨çš„ Appï¼Œæ¯”å¦‚å¾®ä¿¡ã€æŠ–éŸ³ã€äº¬ä¸œï¼Œéƒ½æœ‰å¾ˆå¤šä¸ªé¡µé¢ï¼Œè¿™äº›é¡µé¢ä¹‹é—´ä¼šæœ‰è·³è½¬ã€è¿”å›ã€åˆ‡æ¢ç­‰é“¾æ¥æ“ä½œï¼Œè¿™äº›é“¾æ¥æ“ä½œå°±æ˜¯å¯¼èˆªã€‚æˆ‘ä»¬å¼€å‘ React Native App ä¹Ÿä¸€æ ·ï¼Œéœ€è¦ä½¿ç”¨å¯¼èˆªæ¥é“¾æ¥å„ä¸ªé¡µé¢ã€‚</p><p>å°½ç®¡å¯¼èˆªæ˜¯å¼€å‘ React Native App å¿…ä¸å¯å°‘çš„å·¥å…·ä¹‹ä¸€ï¼Œä½† React Native æ¡†æ¶å¹¶æœªå°†å…¶å†…ç½®ï¼Œéœ€è¦å¼€å‘è€…è‡ªå·±è¿›è¡Œé›†æˆã€‚åœ¨ 2018 å¹´ä¹‹å‰ï¼Œä¸šå†…ç”¨å¾—æ¯”è¾ƒå¤šçš„å¯¼èˆªæ˜¯ React Native Navigationï¼Œåœ¨ 2018 å¹´ä¹‹åå¤§å®¶ç”¨å¾—æ›´å¤šçš„æ˜¯ React Navigationã€‚å®ƒä»¬çš„åå­—å¾ˆç›¸ä¼¼ï¼Œä¸è¿‡ä½ å¯åƒä¸‡ä¸è¦ææ··äº†ï¼Œ<strong>ç›®å‰å®˜æ–¹æ¨èçš„ã€ä¸»æµçš„å¯¼èˆªæ˜¯ React Navigationï¼Œè€Œä¸æ˜¯ React Native Navigationã€‚</strong></p><p>ä½ å¯ä»¥çœ‹ä¸€ä¸‹ï¼Œ<a href=\"https://reactnavigation.org/\">React Navigation</a>ã€<a href=\"https://wix.github.io/react-native-navigation/docs/before-you-start/\">React Native Navigation</a> å’Œ React Native ä¸‰ä¸ªåº“çš„ npm ä¸‹è½½é‡ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/ab/71/ab4b904ec634cacd2c7ffe7341788771.png?wh=1920x764\" alt=\"å›¾ç‰‡\"></p><p>è¿™å¼ å›¾ä¸­ï¼Œè“è‰²çº¿æ¡ä»£è¡¨çš„æ˜¯ React Navigationï¼Œç»¿è‰²çº¿æ¡ä»£è¡¨çš„æ˜¯ React Native Navigationï¼Œæ©™è‰²çº¿æ¡ä»£è¡¨çš„æ˜¯ React Nativeã€‚ä»ä¸‰ä¸ªåº“çš„ä¸‹è½½é‡ä¸­ä½ å¯ä»¥çœ‹å‡ºï¼Œç›®å‰ React Navigation å¯¼èˆªå·²ç»æˆä¸ºä¸»æµï¼ŒæŠŠ React Native Navigation å¯¼èˆªè¿œè¿œåœ°ç”©åœ¨äº†åé¢ï¼Œå¹¶ä¸”æ¯åæ¬¡ React Native æ¡†æ¶çš„ä¸‹è½½ï¼Œæœ‰ä¸ƒåˆ°å…«æ¬¡éƒ½ä¼šä¸‹è½½ React Navigation å¯¼èˆªï¼Œç”±æ­¤å¯è§ï¼ŒReact Navigation ç¡®å®æ˜¯éå¸¸å—æ¬¢è¿çš„ã€‚</p><!-- [[[read_end]]] --><p>æ‰€ä»¥ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥çœ‹çœ‹æ€ä¹ˆç”¨ React Navigation å¯¼èˆªæŠŠå„ä¸ªé¡µé¢é“¾æ¥èµ·æ¥ã€‚</p><h2>å¯¼èˆªåŸºç¡€</h2><p>æˆ‘ä»¬å…ˆä»æœ€å¸¸è§çš„å¯¼èˆªå½¢å¼è·³è½¬å¼€å§‹ã€‚è¦å®ç°ä¸€ä¸ªåŸºç¡€çš„è·³è½¬å¯¼èˆªï¼Œä¸€å…±éœ€è¦ä¸‰æ­¥ï¼š</p><ol>\n<li>åˆ›å»ºâ€œå¯¼èˆªåœ°å›¾â€ï¼›</li>\n<li>æºå¸¦å‚æ•°è·³è½¬é¡µé¢ï¼›</li>\n<li>é¡µé¢æ¥æ”¶å’Œè§£æå‚æ•°ã€‚</li>\n</ol><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·å®ç°ä¸€ä¸ªæœ€åŸºç¡€çš„å¯¼èˆªåŠŸèƒ½ï¼ŒåŒ…æ‹¬å¯¼èˆªè·³è½¬å’Œå¯¼èˆªè¿”å›ï¼Œç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/8e/57/8e80cbf23563e99a9c359f59cce6ec57.png?wh=1751x1059\" alt=\"å›¾ç‰‡\"></p><p>å›¾ä¸­çš„ç¬¬ä¸€ä¸ªé¡µé¢æ˜¯ Discover é¡µé¢ï¼Œç¬¬äºŒä¸ªé¡µé¢æ˜¯ Detail é¡µé¢ã€‚Discover é¡µé¢åŒ…æ‹¬ 3 ä¸ªåˆ—è¡¨é¡¹ç›®ï¼šå°çŒ«ã€å°ç‹—å’Œç‹®å­ã€‚ç‚¹å‡»å°ç‹—åˆ—è¡¨é¡¹æ—¶ï¼Œå°±ä¼šè·³è½¬åˆ° Detail é¡µé¢ï¼ŒDetail é¡µé¢æ˜¾ç¤ºäº†å°ç‹—çš„è¯¦ç»†ä»‹ç»ï¼Œè¿™åªå°ç‹—å«åšâ€œæ—ºè´¢â€ã€‚ç‚¹å‡» Detail é¡µé¢å·¦ä¸Šè§’çš„è¿”å›é”®æ—¶ï¼Œå°±ä¼šè¿”å›åˆ° Discover é¡µé¢ã€‚</p><p>å‡è®¾ç°åœ¨ç”±ä½ æ¥åˆ›å»ºå‘ç°é¡µ Discover å’Œå¦å¤–ä¸€ä¸ªè¯¦æƒ…é¡µ Detailï¼Œå¹¶å®ç°è·³è½¬å’Œè¿”å›çš„å¯¼èˆªï¼Œä½ åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>åœ¨è·Ÿç€æˆ‘å…·ä½“å®ç°æ—¶ï¼Œéœ€è¦ä½ å…ˆé›†æˆ React Navigationï¼Œè¿™é‡Œçš„å…·ä½“æ­¥éª¤ä½ å¯ä»¥å‚è€ƒ <a href=\"https://reactnavigation.org/docs/getting-started\">React Navigation å®˜æ–¹æ–‡æ¡£</a>è‡ªè¡Œé›†æˆã€‚æ¥ç€ï¼Œä½ å°±å¯ä»¥è·Ÿç€æˆ‘ï¼ŒæŒ‰ç…§åˆ›å»ºâ€œå¯¼èˆªåœ°å›¾â€ã€æºå¸¦å‚æ•°è·³è½¬é¡µé¢ã€é¡µé¢æ¥æ”¶å’Œè§£æå‚æ•°è¿™ä¸‰æ­¥æ¥å®ç°åº”ç”¨çš„è·³è½¬ã€‚</p><p><strong>ç¬¬ä¸€æ­¥å°±æ˜¯åˆ›å»ºâ€œå¯¼èˆªåœ°å›¾â€ã€‚</strong></p><p>è¿™ç‚¹å’Œæˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­æ˜¯ä¸€æ ·çš„ã€‚æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬è¦å®ç°åœ°ç‚¹å’Œåœ°ç‚¹ä¹‹é—´çš„è¿æ¥ï¼Œå‰ææ˜¯è¦æœ‰åŒ…å«è¿™ä¸¤ä¸ªåœ°ç‚¹çš„åœ°å›¾ï¼Œæ¯”å¦‚ä½ å¯ä»¥å€ŸåŠ©æ™¯åŒºåœ°å›¾å¸®ä½ å¯¼èˆªåˆ°ä½ æƒ³å»çš„åœ°æ–¹ã€‚App ä¸­çš„é¡µé¢å¯¼èˆªä¹Ÿæ˜¯å¦‚æ­¤ï¼Œè¦å®ç°é¡µé¢å’Œé¡µé¢ä¹‹é—´çš„é“¾æ¥ï¼Œå‰ææ˜¯è¦æœ‰åŒ…å«è¯¥ App æ‰€æœ‰é¡µé¢çš„â€œå¯¼èˆªåœ°å›¾â€ã€‚</p><p>åœ¨ React/React Native ä¸­ï¼Œæ‰€æœ‰çš„é¡µé¢éƒ½æ˜¯ç”±ç»„ä»¶åˆ›å»ºå‡ºæ¥çš„ï¼Œå› æ­¤é¦–å…ˆä½ éœ€è¦åˆ›å»ºä¸¤ä¸ªç»„ä»¶ï¼Œä¸€ä¸ªæ˜¯ Discover ç»„ä»¶ï¼Œå¦ä¸€ä¸ªæ˜¯ Detail ç»„ä»¶ï¼Œç»„ä»¶å†…å®¹æ¯”è¾ƒç®€å•ï¼Œæˆ‘å°±ç”¨ä¼ªä»£ç ä»£æ›¿äº†ï¼š</p><pre><code class=\"language-plain\">function Discover() {\n  return &lt;Text&gt;å‘ç°è§†å›¾&lt;/Text&gt;\n}\nfunction Detail() {\n  return &lt;Text&gt;è¯¦æƒ…è§†å›¾&lt;/Text&gt;\n}\n</code></pre><p>æœ‰äº†ç»„ä»¶åï¼Œå¦‚ä½•ä½¿ç”¨ç»„ä»¶åˆ›å»ºé¡µé¢ï¼Œåˆå¦‚ä½•æŠŠè¿™äº›é¡µé¢é“¾æ¥æˆâ€œå¯¼èˆªåœ°å›¾â€å‘¢ï¼Ÿ</p><p>è¿™æ—¶å€™ä½ å°±éœ€è¦ä½¿ç”¨åˆ° React Navigation æä¾›çš„å®¹å™¨ç»„ä»¶ NavigationContainer ï¼Œä»¥åŠåˆ›å»ºå¯¼èˆªçš„æ–¹æ³• createNativeStackNavigatorï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">import { NavigationContainer } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\n\nconst Stack = createNativeStackNavigator();\n\nfunction App() {\n  return (\n    &lt;NavigationContainer&gt;\n      &lt;Stack.Navigator initialRouteName=\"Discover\"&gt;\n        &lt;Stack.Screen name=\"Discover\" component={Discover} /&gt;\n        &lt;Stack.Screen name=\"Detail\" component={Detail} /&gt;\n      &lt;/Stack.Navigator&gt;\n    &lt;/NavigationContainer&gt;\n  );\n}\n</code></pre><p>React Navigation å¯¼èˆªåˆ†äº†å¥½å‡ ä¸ªå­åº“ã€‚è¦åˆ›å»ºé¡µé¢ï¼Œæˆ‘ä»¬é¦–å…ˆè¦ä» @react-navigation/native åº“ä¸­å¼•å…¥NavigationContainer å®¹å™¨ç»„ä»¶ï¼Œå¹¶å°†å…¶æ”¾åœ¨æœ€å¤–å±‚åŒ…è£¹ä½æ•´ä¸ª App çš„ JSX å…ƒç´ ã€‚ç„¶åä» @react-navigation/native-stack åº“ä¸­å¼•å…¥ createNativeStackNavigator æ–¹æ³•ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥åˆ›å»ºåŸç”Ÿå †æ ˆå¯¼èˆª Stackã€‚</p><p><strong>åŸç”Ÿå †æ ˆå¯¼èˆª Stackï¼Œæ˜¯ç”¨æ¥åˆ›å»ºé¡µé¢å’Œæ”¶é›†è¯¥å¯¼èˆªä¸‹æœ‰å“ªäº›é¡µé¢çš„ã€‚åˆ›å»ºé¡µé¢ç”¨çš„æ˜¯ Stack.Screen ç»„ä»¶ï¼Œæ”¶é›†é¡µé¢ç”¨çš„æ˜¯ Stack.Navigator ç»„ä»¶ã€‚</strong></p><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ Stack.Screen åˆ›å»ºäº†ä¸¤ä¸ªé¡µé¢ï¼Œåå­—æ˜¯â€œDiscoverâ€çš„é¡µé¢æ˜¯ç”± Discover ç»„ä»¶åˆ›å»ºçš„ï¼Œåå­—æ˜¯â€œDetailâ€çš„é¡µé¢æ˜¯ç”± Detail ç»„ä»¶æ‰€åˆ›å»ºçš„ã€‚è™½ç„¶é¡µé¢å’Œç»„ä»¶çš„åå­—å«æ³•ç›¸åŒï¼Œæ¯”å¦‚éƒ½å« Discover æˆ– Detailï¼Œä½†æ˜¯å®ƒä»¬çš„æ•°æ®ç±»å‹ä¸åŒã€‚é¡µé¢çš„åå­—æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œåˆ›å»ºé¡µé¢çš„ç»„ä»¶æ˜¯å‡½æ•°ç±»å‹ã€‚</p><p>åˆå› ä¸ºè¿™é‡Œä¸¤ä¸ª Stack.Screen é¡µé¢éƒ½æ˜¯ Stack.Navigator å…ƒç´ çš„å­å…ƒç´ ï¼Œè¿™å°±ç›¸å¯¹äºå‘Šè¯‰äº†  Stack.Navigatorï¼Œå®ƒæœ‰ä¸¤ä¸ªé¡µé¢ï¼Œåˆ†åˆ«æ˜¯ Discover é¡µé¢å’Œ Detail é¡µé¢ã€‚å¹¶ä¸”æˆ‘å°† Stack.Navigator çš„ initialRouteName è®¾ç½®æˆäº† Discoverï¼Œç›®çš„æ˜¯å‘Šè¯‰å¯¼èˆªå±•ç¤ºçš„é»˜è®¤é¡µé¢æ˜¯ Discover é¡µé¢ã€‚</p><p><strong>å®Œæˆé¡µé¢çš„åˆ›å»ºå’Œé¡µé¢çš„å£°æ˜åï¼Œä½ çš„ App æ‰ç®—ç‚¹äº®äº†â€œå¯¼èˆªåœ°å›¾â€ã€‚</strong></p><p>éœ€è¦æé†’ä½ çš„æ˜¯ï¼Œåœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œé¡µé¢åå­—å’Œå‡½æ•°ç»„ä»¶åå­—ç”¨çš„å«æ³•æ˜¯ä¸€æ ·çš„ï¼Œè¿™åªæ˜¯ä¸ºäº†å¥½ç†è§£ï¼Œå®é™…ä¸Šé¡µé¢åå­—å’Œç»„ä»¶åå­—å¯ä»¥å–ä¸åŒçš„åå­—ï¼Œç”šè‡³ä½ å¯ä»¥é€šè¿‡åŒä¸€ä¸ªç»„ä»¶æ¥åˆ›å»ºå¤šä¸ªé¡µé¢ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">&lt;Stack.Navigator initialRouteName=\"Discover1\"&gt;\n  &lt;Stack.Screen name=\"Discover1\" component={Discover} /&gt;\n  &lt;Stack.Screen name=\"Discover2\" component={Discover} /&gt;\n  &lt;Stack.Screen name=\"Discover3\" component={Discover} /&gt;\n&lt;/Stack.Navigator&gt;\n</code></pre><p>å¦‚ä¸Šæ‰€ç¤ºï¼Œä½ å¯ä»¥ä½¿ç”¨ Discover å‡½æ•°ç»„ä»¶åŒæ—¶åˆ›å»ºä¸‰ä¸ªä¸åŒåå­—çš„é¡µé¢ Discover1ã€Discover2ã€Discover3ã€‚</p><p><strong>åœ¨æœ‰äº†å¯¼èˆªåœ°å›¾åï¼Œè¦åšçš„ç¬¬äºŒæ­¥æ˜¯æºå¸¦å‚æ•°è·³è½¬é¡µé¢ã€‚</strong></p><p>é¦–å…ˆæˆ‘ä»¬è¦æ€è€ƒçš„æ˜¯ï¼šå¦‚ä½•ä»ä¸€ä¸ªé¡µé¢è·³è½¬åˆ°å¦å¤–ä¸€ä¸ªé¡µé¢å‘¢ï¼Ÿ</p><p>å®ç°é¡µé¢ä¹‹é—´è·³è½¬ï¼Œæœ€å¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨ navigation.navigate å‡½æ•°ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">// å‡½æ•°ç»„ä»¶é»˜è®¤æ˜¯æ²¡æœ‰ navigation å¯¹è±¡çš„\n// å½“å‡½æ•°ç»„ä»¶é€šè¿‡ Stack.Screen ç”Ÿæˆé¡µé¢æ—¶ï¼Œæ‰ä¼šæœ‰ navigation å¯¹è±¡\nfunction Discover({navigation}) {\n  return (\n       &lt;Pressable onPress={()=&gt; {\n               navigation.navigate('Detail');\n       }}&gt;\n          &lt;Image source={require('./images/dog.png')} /&gt;\n      &lt;/Pressable&gt;\n  );\n}\n\nfunction Detail() {  \n  return (\n    &lt;View&gt;\n      &lt;Text&gt;æ—ºè´¢æ—ºè´¢æ—ºè´¢~&lt;/Text&gt;\n      &lt;Image source={require('./images/dog.png')} /&gt;\n    &lt;/View&gt;\n  )\n}\n</code></pre><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œåœ¨ç‚¹å‡»æŒ‰é’®åä¼šæ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°ä¸­ä¼šæ‰§è¡Œè·³è½¬ä»£ç  navigation.navigate(â€˜Detailâ€™)ï¼Œä»è€Œå®ç°äº†ä» Discover é¡µé¢åˆ° Detail é¡µé¢çš„è·³è½¬ã€‚<br>\nå…¶ä¸­çš„å…³é”®æ˜¯ navigation å¯¹è±¡ï¼Œè¿™ä¸ª navigation å¯¹è±¡æ˜¯ä»å“ªé‡Œæ¥çš„å‘¢ï¼Ÿåœ¨ä½ å°† Discover ç»„ä»¶ç»‘å®šåˆ° Stack.Screen ç»„ä»¶çš„ component å‚æ•°ä¸Šæ‰§è¡Œåï¼Œè¯¥å‡½æ•°ç»„ä»¶ Discover å°±è‡ªåŠ¨è·å–åˆ°å¯¼èˆªå¯¹è±¡ navigation äº†ï¼Œè¯¥å¯¹è±¡çš„ navigate æ–¹æ³•å¯ä»¥å®ç°ä»ä¸€ä¸ªé¡µé¢åˆ°å¦ä¸€ä¸ªé¡µé¢çš„è·³è½¬ã€‚</p><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼ŒDetail é¡µé¢çš„å‚æ•°æ˜¯å®Œå…¨å†™æ­»çš„ï¼Œè¯¦æƒ…é¡µçš„æ–‡æ¡ˆæ˜¯â€œæ—ºè´¢â€ï¼Œå›¾ç‰‡ä¹Ÿæ˜¯å°ç‹—çš„å›¾ç‰‡ï¼Œè€Œå®é™…ä¸Šæˆ‘ä»¬è¦çš„è¯¦æƒ…é¡µä¼šæœ‰ä¸åŒçš„å‚æ•°ï¼Œå¯èƒ½æ˜¯å°ç‹—æ—ºè´¢ï¼Œä¹Ÿå¯èƒ½æ˜¯å°çŒ« Kittyï¼Œè¿˜å¯èƒ½æ˜¯ç‹®å­è¾›å·´ã€‚</p><p>è¿™ä¹Ÿæ„å‘³ç€ï¼ŒDetail é¡µé¢çš„æ•°æ®æ˜¯åŠ¨æ€çš„ï¼Œè¿™äº›åŠ¨æ€çš„æ•°æ®éœ€è¦ä¸Šä¸€ä¸ªé¡µé¢ Discover ç»™å®ƒå¸¦è¿‡æ¥ã€‚</p><p><strong>æ¥ä¸‹æ¥çš„ç¬¬ä¸‰æ­¥å°±æ˜¯ï¼Œæºå¸¦è‡ªå®šä¹‰å‚æ•°è·³è½¬å’Œæ¥æ”¶è‡ªå®šä¹‰å‚æ•°ã€‚</strong></p><p>åœ¨ä¸¤ä¸ªé¡µé¢ä¹‹é—´è¿è½¬å‚æ•°çš„è½½ä½“æ˜¯è·¯ç”± routeã€‚æ‰€ä»¥æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä¿®æ”¹ä¸€ä¸‹ä¸Šé¢çš„è·³è½¬ç¤ºä¾‹ï¼Œçœ‹ä¸‹ route æ˜¯å¦‚ä½•å¸®åŠ©æˆ‘ä»¬æºå¸¦è‡ªå®šä¹‰å‚æ•°è·³è½¬çš„ã€‚</p><pre><code class=\"language-plain\">const ALL_NTF = [\n  {/* ... */},\n  {\n    describe: 'æ—ºè´¢æ—ºè´¢æ—ºè´¢~',\n    image: require('./images/dog.png'),\n  },\n  {/* ... */},\n];\n\nfunction Discover({navigation}) {\n  return (\n    {/* ... */}\n       &lt;Pressable onPress={()=&gt; {\n               navigation.navigate('Detail', ALL_NTF[1]);\n       }}&gt;\n          &lt;Image source={ALL_NTF[1].image} /&gt;\n      &lt;/Pressable&gt;\n    {/* ... */}\n  );\n}\n\nfunction Detail({route}) {\n  const { describe, image }  = route.params\n  return (\n    &lt;View&gt;\n      &lt;Text&gt;{describe}&lt;/Text&gt;\n      &lt;Image source={image} /&gt;\n    &lt;/View&gt;\n  )\n}\n</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œæœ‰ä¸€ä»½è‡ªå®šä¹‰æ•°æ®å’Œå½“å‰é¡µé¢ Discoverï¼Œè¿˜æœ‰è¦è·³è½¬çš„é¡µé¢ Detailã€‚åœ¨å½“å‰é¡µé¢ Discover ä¸Šï¼Œnavigation å¯¹è±¡ä¸Šçš„ navigate æ–¹æ³•æ¥å—çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦è·³è½¬çš„é¡µé¢åå­—ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è·³è½¬æ—¶è¦æºå¸¦çš„è‡ªå®šä¹‰å‚æ•°ã€‚åœ¨è¿™é‡Œï¼Œè¦è·³è½¬çš„é¡µé¢æ˜¯ Detail é¡µé¢ï¼Œè¦æºå¸¦çš„è‡ªå®šä¹‰å‚æ•°æ˜¯â€œæ—ºè´¢â€çš„ç›¸å…³å¯¹è±¡ã€‚</p><p>â€œæ—ºè´¢â€å¯¹è±¡ä¼šè¢«æŒ‚åœ¨ route çš„ params å±æ€§ä¸Šï¼Œå› æ­¤ä½ å¯ä»¥åœ¨ Detail é¡µé¢ä½¿ç”¨  route.params æ¥è·å–â€œæ—ºè´¢â€å¯¹è±¡ã€‚</p><p>route å¯¹è±¡å’Œ navigation å¯¹è±¡ç±»ä¼¼ï¼Œå‡½æ•°ç»„ä»¶é»˜è®¤æ˜¯æ²¡æœ‰è¿™ä¸¤ä¸ªå¯¹è±¡çš„ã€‚<strong>å½“ä½ ä½¿ç”¨ Stack.Screen åˆ›å»ºé¡µé¢æ—¶ï¼Œç”¨æ¥åˆ›å»ºé¡µé¢çš„å‡½æ•°ç»„ä»¶å°±ä¼šåŒæ—¶è·å–åˆ° navigation å¯¹è±¡å’Œ route å¯¹è±¡ã€‚</strong>å…¶ä¸­ navigation å¯¹è±¡çš„ä¸»è¦ä½œç”¨æ˜¯è·³è½¬ï¼Œroute å¯¹è±¡çš„ä¸»è¦ä½œç”¨æ˜¯æºå¸¦è‡ªå®šä¹‰å‚æ•°ã€‚</p><p>é‚£å¦‚ä½•ä» Detail é¡µé¢è¿”å›åˆ° Discover é¡µé¢å‘¢ï¼Ÿ</p><p>è¿”å›çš„ç›¸å…³å·¥ä½œï¼ŒReact Navigation ä¼šå¸®ä½ å¤„ç†ï¼Œå®ƒä¼šç»™é¡µé¢åˆ›å»ºå¯¼èˆªæ ï¼Œå¹¶å¸®åŠ©é¡µé¢å¤„ç†è¿”å›ç›¸å…³æ‰‹åŠ¿åŠ¨ç”»ã€‚åœ¨å¯¼èˆªæ ä¸­ä¼šæœ‰ä¸ªå›é€€åˆ°ä¸Šä¸€ä¸ªé¡µé¢çš„è¿”å›æŒ‰é’®ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜æ”¯æŒ iOS ä¾§æ»‘æ‰‹åŠ¿è¿”å›ä¸Šä¸ªé¡µé¢ï¼Œä»¥åŠ Android ç‚¹å‡»åº•éƒ¨è™šæ‹Ÿå›é€€æŒ‰é’®è¿”å›ä¸Šçº§é¡µé¢ã€‚</p><p>é€šè¿‡åˆ›å»ºâ€œå¯¼èˆªåœ°å›¾â€ã€æºå¸¦å‚æ•°è·³è½¬é¡µé¢ã€é¡µé¢æ¥æ”¶å’Œè§£æå‚æ•°è¿™ä¸‰æ­¥ï¼Œä½ å°±èƒ½å¤Ÿå®ç°æœ€åŸºç¡€çš„é¡µé¢è·³è½¬å’Œè¿”å›äº†ã€‚</p><p>ä¸è¿‡ï¼Œå¦‚æœä½ è¦æ›´å¥½åœ°ç”¨å¥½ React Navigation ï¼Œå…¶ä¸­çš„å…³é”®æ˜¯è¦ç†è§£å®ƒçš„ä¸¤ä¸ªé…ç½®é¡¹å’Œå¯¼èˆªè·¯ç”±å¯¹è±¡ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±ä»å®ƒçš„ä¸¤ä¸ªé…ç½®é¡¹å¼€å§‹è®²èµ·ã€‚</p><h2>è‡ªå®šä¹‰å‚æ•° params</h2><p>ä½¿ç”¨ React Navigation åˆ›å»ºå‡ºæ¥çš„é¡µé¢ï¼Œæœ‰ä¸¤ç±»å±æ€§å€¼æ¯”è¾ƒå¸¸ç”¨ï¼Œå®ƒä»¬æ˜¯ï¼š</p><ul>\n<li>paramsï¼šå®ƒæ˜¯å¼€å‘è€…è‡ªå®šä¹‰å‚æ•°ï¼Œé€šå¸¸ç”¨æ¥æ¸²æŸ“é¡µé¢ä¸»ä½“çš„æ•°æ®ï¼Œå®ƒæ˜¯æŒ‚åœ¨ route ä¸Šçš„å¯¹è±¡ï¼›</li>\n<li>optionsï¼šå®ƒæ˜¯å¯¼èˆªç›¸å…³çš„é…ç½®å±æ€§ï¼ŒåŒ…æ‹¬æ‰‹æœºé¡¶éƒ¨çš„çŠ¶æ€æ ã€é¡µé¢çš„æ ‡é¢˜æ ã€å¯¼èˆªç›¸å…³æ‰‹åŠ¿ç­‰ç­‰ã€‚</li>\n</ul><p>è™½ç„¶ params å’Œ options ä¸€ä¸ªæ˜¯è‡ªå®šä¹‰æ•°æ®ï¼Œä¸€ä¸ªæ˜¯å¯¼èˆªå±æ€§ï¼Œä½†å®ƒä»¬åœ¨ä½¿ç”¨æ–¹æ³•ä¸Šæœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬ä¼šä¸€èµ·å¯¹æ¯”ç€å­¦ä¹ ã€‚</p><p>å®ƒä»¬æ—¢å¯ä»¥åœ¨å…¨å±€çš„â€œå¯¼èˆªåœ°å›¾â€ä¸­è¿›è¡Œé…ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨å½“å‰é¡µé¢è°ƒç”¨ç›¸å…³æ–¹æ³•è¿›è¡Œé‡ç½®ï¼Œç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/00/aa/0007a8b6e57a8a88525af79747b00daa.png?wh=1920x1293\" alt=\"å›¾ç‰‡\"></p><p>ä»ä¸Šå›¾ä¸­ä½ å¯ä»¥çœ‹åˆ°ï¼Œå½“ä½ è°ƒç”¨ navigation.navigate æ–¹æ³•æ—¶ï¼Œå°±ç›¸å½“äºå‘Šè¯‰å¯¼èˆªä½ â€œç›®çš„åœ°â€çš„åå­— name å’Œè¦æºå¸¦å‚æ•° paramsã€‚è¿™æ—¶å¯¼èˆªæ¡†æ¶ä¼šåœ¨å®ƒå†…éƒ¨çš„â€œå¯¼èˆªåœ°å›¾â€ä¸­ï¼Œä¹Ÿå°±æ˜¯ <code>&lt;Stack.Navigator&gt;{/* ... */}&lt;/Stack.Navigator&gt;</code> ä¸­ï¼Œå¯»æ‰¾åå­—æ˜¯ name çš„é¡µé¢ï¼Œç„¶åç»§ç»­æ‰¾åˆ°ç›¸å…³çš„ç»„ä»¶ componentï¼Œå¹¶é…åˆå¯¼èˆªé…ç½®é¡¹ options å’Œåˆå§‹åŒ–è‡ªå®šä¹‰å‚æ•° initParamsï¼Œä¸€èµ·æŠŠé¡µé¢æ¸²æŸ“å‡ºæ¥ã€‚</p><p>åœ¨ä¸€äº›åœºæ™¯ä¸‹ï¼Œparams å’Œ options å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œå½“å‰é¡µé¢ä¹Ÿå¯ä»¥æ ¹æ®å®é™…æƒ…å†µä½¿ç”¨ setParams å’Œ setOptions æ–¹æ³•ï¼Œå¯¹äºŒè€…è¿›è¡Œé‡æ–°è®¾ç½®ã€‚æˆ‘ä»¬è¿™é‡Œåˆ†æçš„è¿‡ç¨‹å°±æ˜¯é¡µé¢çš„ params å’Œ options å‚æ•°çš„é…ç½®å’Œé‡ç½®çš„å…¨è¿‡ç¨‹ã€‚</p><p><strong>é‚£ä¹ˆï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ params é…ç½®å’Œé‡ç½®çš„æ–¹æ³•ã€‚</strong></p><p>params çš„é…ç½®æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œåœ¨ Stack.Screen ä¸Šæœ‰ä¸€ä¸ªé…ç½®å±æ€§ initialParamsï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">// æ•°æ®\nconst ALL_NTF = [\n  {title: 'Kitty',...},\n  {title: 'æ—ºè´¢', ...},\n  {title: 'Simba', ...},\n];\n\n// é¡µé¢å£°æ˜\n&lt;Stack.Screen name=\"Detail\" initialParams={ALL_NTF[0]} component={Detail} /&gt;\n\n// ï¼ˆ1ï¼‰è·³è½¬é¡µé¢ï¼Œæºå¸¦ Params\nnavigation.navigate('Detail', ALL_NTF[1]);\n// ï¼ˆ2ï¼‰è·³è½¬é¡µé¢ï¼Œä¸æºå¸¦ Paramsï¼Œä½¿ç”¨é»˜è®¤çš„ initialParams\nnavigation.navigate('Detail');\n</code></pre><p>åœ¨è¿™é‡Œçš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ¼”ç¤ºäº†ä¸¤ç§è·³è½¬æƒ…å†µï¼šç¬¬ä¸€ç§æƒ…å†µæ˜¯æºå¸¦â€œæ—ºè´¢â€ç›¸å…³çš„ params å‚æ•°è¿›è¡Œè·³è½¬ï¼›ç¬¬äºŒç§æƒ…å†µæ˜¯æ²¡æœ‰æºå¸¦ä»»ä½• params å‚æ•°ï¼Œç›´æ¥è·³è½¬åˆ°äº† Detail é¡µé¢ã€‚ç¬¬ä¸€ç§æƒ…å†µï¼Œå±•ç¤ºçš„å½“ç„¶æ˜¯â€œæ—ºè´¢â€é¡µé¢ã€‚ä¸è¿‡ï¼Œç¬¬äºŒç§æ²¡æœ‰æºå¸¦ä»»ä½•å‚æ•°è·³è½¬æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªé»˜è®¤å‚æ•°æ¥æ¸²æŸ“ Detail é¡µé¢ï¼Œæ²¡æœ‰å‚æ•°å°±ä¼šæŠ¥é”™ã€‚</p><p>é‚£è¦å¦‚ä½•è®¾ç½®é»˜è®¤çš„ params å‚æ•°å‘¢ï¼Ÿåœ¨é¡µé¢å£°æ˜æ—¶ï¼Œæˆ‘ç»™ Stack.Screen å…ƒç´ è®¾ç½®äº†é»˜è®¤å±æ€§ initialParamsï¼ŒinitialParams çš„å€¼æ˜¯â€œå°çŒ« Kittyâ€ï¼Œæ‰€ä»¥ï¼Œå³ä¾¿é‡åˆ°ä¸æºå¸¦ä»»ä½•è‡ªå®šä¹‰å‚æ•°è·³è½¬çš„æƒ…å†µï¼Œä¹Ÿä¼šå±•ç¤ºâ€œå°çŒ« Kittyâ€ è€Œä¸ä¼šæŠ¥é”™ã€‚</p><p>åœ¨é¡µé¢è·³è½¬çš„è¿‡ç¨‹ä¸­ï¼ŒinitialParams å¯¹è±¡å’Œ params å¯¹è±¡ä¼šè¿›è¡Œå¯¹è±¡åˆå¹¶ï¼Œè€Œä¸æ˜¯è¦†ç›–ï¼Œæ¼”ç¤ºä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">// å¯¹è±¡åˆå¹¶ \nè·³è½¬æ—¶ï¼š params {price: 99.9 }\né…ç½®çš„ï¼š initialParams {symbol: '$'}\nè·å–åï¼š route.params {symbol: '$', price: 99.9 }\n</code></pre><p>åœ¨è¯¥ç¤ºä¾‹ä¸­ï¼Œè·³è½¬æ—¶ä¼ å…¥çš„å‚æ•°æ˜¯ä»·æ ¼ 99.9ï¼Œè¿™ä¸ªä»·æ ¼æ²¡æœ‰ä»»ä½•è´§å¸å•ä½ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ initialParams ä¸­é…ç½®å®ƒçš„é»˜è®¤å•ä½ <span dollar=\"\">$</span>ï¼Œè¿™æ ·åœ¨ç»„ä»¶å‡½æ•°ä¸­è·å–åˆ°çš„ route.params å°±æ—¢åŒ…æ‹¬äº†ä»·æ ¼ 99.9 ä¹ŸåŒ…æ‹¬äº†è´§å¸å•ä½ <span dollar=\"\">$</span> ã€‚</p><p>å› æ­¤ï¼Œ<strong>initialParams å±æ€§çš„ä½œç”¨æ˜¯ï¼Œç»™é¡µé¢è®¾ç½®é»˜è®¤çš„ä¸”å¯è¦†ç›–çš„ params è‡ªå®šä¹‰å‚æ•°</strong>ã€‚</p><p>æˆ‘ä»¬å†å‡è®¾ä¸€ç§æƒ…å†µï¼Œå¦‚æœåœ¨ç”¨æˆ·é€‰æ‹©ç‚¹å‡»â€œåˆ‡æ¢æˆï¿¥â€æŒ‰é’®æ—¶ï¼Œè¦æŠŠ <code>$99.9</code> æŒ‰ 6.3 çš„æ±‡ç‡æ¢ç®—æˆæ”¹æˆ <code>ï¿¥629</code>ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•é‡ç½® params å‘¢ï¼Ÿè¿™é‡Œé‡ç½® params å‚æ•°ï¼Œç”¨åˆ°çš„æ˜¯ navigation.setParams æ–¹æ³•ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">// åˆå§‹åŒ– paramsï¼š{symbol: '$', price: 99.9, image: 'dog.png' }\n// é‡ç½®å paramsï¼š{symbol: 'ï¿¥', price: 629.37, image: 'dog.png' }\nfunction Detail({route, navigation}) {  \n  const { price, symbol, image} = route.params \n  return (\n      &lt;&gt;\n        &lt;Image source={image} /&gt;\n      &lt;Text&gt;{symbol}{price}&lt;/Text&gt;\n      &lt;Text onPress={() =&gt;{\n        if (symbol === 'ï¿¥') return \n        navigation.setParams({\n          symbol:'ï¿¥',\n          price: price * 6.3 \n        })  \n      }}&gt;åˆ‡æ¢æˆï¿¥&lt;/Text&gt;\n    &lt;/&gt;\n     )\n}\n</code></pre><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ route.params å‚æ•°å°†å½“å‰é¡µé¢æ¸²æŸ“äº†å‡ºæ¥ï¼ŒåŒ…æ‹¬å›¾ç‰‡ã€é‡‘é¢å’Œâ€œåˆ‡æ¢æˆï¿¥â€çš„æŒ‰é’®ã€‚åœ¨ä½ ç‚¹å‡»â€œåˆ‡æ¢æˆï¿¥â€çš„æŒ‰é’®çš„æŒ‰é’®æ—¶ï¼Œä¼šè°ƒç”¨ navigation.setParams æ–¹æ³•ï¼Œå°†ç°é‡‘ç¬¦å· symbol å’Œç°é‡‘ä»·æ ¼ price é‡æ–°è®¾ç½®ä¸€æ¬¡ã€‚</p><p>åˆå§‹åŒ–æ—¶ï¼Œé¡µé¢æ˜¾ç¤ºçš„ç°é‡‘ç¬¦å·æ˜¯ $ï¼Œç°é‡‘ä»·æ ¼æ˜¯ 99.9ï¼Œå›¾ç‰‡æ˜¯â€œå°ç‹—æ—ºè´¢â€çš„å›¾ç‰‡ï¼›é‡æ–°è®¾ç½®åï¼Œç°é‡‘ç¬¦å·æ˜¯ ï¿¥ï¼Œç°é‡‘ä»·æ ¼æ˜¯ 629ï¼Œä½†å›¾ç‰‡ image çš„å‚æ•°æ˜¯ä¸å˜çš„ï¼Œå®ƒè¿˜æ˜¾ç¤ºçš„æ˜¯â€œå°ç‹—æ—ºè´¢â€çš„å›¾ç‰‡ã€‚</p><p>ç”±æ­¤å¯ä»¥çœ‹å‡ºï¼Œ<strong>ä½¿ç”¨ navigation.setParams é‡ç½®è‡ªå®šä¹‰ params å‚æ•°æ—¶ï¼Œä¼šå°†æ–°æ—§ params å¯¹è±¡è¿›è¡Œåˆå¹¶ï¼Œå¹¶ä½¿ç”¨åˆå¹¶åçš„ params é‡æ–°æ¸²æŸ“é¡µé¢ã€‚</strong></p><h2>å¯¼èˆªé…ç½® options</h2><p>å¯¼èˆªé¡µé¢ä¸­ï¼Œç¬¬äºŒç±»æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯å¯¼èˆªé…ç½®å±æ€§ optionsã€‚</p><p>options å…·ä½“çš„é…ç½®éå¸¸å¤šï¼Œå¦‚æœä½ æœ‰é…ç½®çš„éœ€è¦ï¼Œæœ€å¥½æŸ¥æŸ¥<a href=\"https://reactnavigation.org/docs/native-stack-navigator#options\">æ–‡æ¡£</a>ã€‚ä¸è¿‡ä¸ºäº†è®©ä½ å¯¹ options æœ‰ä¸ªæ•´ä½“çš„äº†è§£ï¼Œæˆ‘æŠŠä¸€äº›å¸¸ç”¨çš„é…ç½®é¡¹éƒ½åˆ—äº†å‡ºæ¥ï¼Œåˆ†æˆäº† 3 ç±»ï¼š</p><p><strong>header ç±»ï¼š</strong></p><ul>\n<li>titleï¼šå®ƒæ˜¯å­—ç¬¦ä¸²ï¼Œç”¨äºè®¾ç½®å¯¼èˆªæ ‡é¢˜ï¼›</li>\n<li>headerBackTitleVisibleï¼šå®ƒæ˜¯å¸ƒå°”å€¼ï¼Œç”¨äºå†³å®šè¿”å›æŒ‰é’®æ˜¯å¦æ˜¾ç¤ºå›é€€é¡µé¢çš„åå­—ã€‚é»˜è®¤æ˜¯ true æ˜¾ç¤ºï¼Œå¤§å¤šæ•°åº”ç”¨æ˜¯ä¸æ˜¾ç¤ºï¼Œå› æ­¤æœ€å¥½è®¾ç½®ä¸º falseï¼ˆiOSä¸“å±ï¼‰ï¼›</li>\n<li>headerShownï¼šå®ƒæ˜¯å¸ƒå°”å€¼ï¼Œç”¨äºå†³å®šæ˜¯å¦éšè—å¯¼èˆªå¤´éƒ¨æ ‡é¢˜æ ï¼›</li>\n<li>headerï¼šå®ƒæ¥æ”¶ä¸€ä¸ªè¿”å› React å…ƒç´ çš„å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿”å›çš„ React å…ƒç´ å°±æ˜¯æ–°çš„å¯¼èˆªæ ‡é¢˜æ ã€‚</li>\n</ul><p><strong>status ç±»ï¼š</strong></p><p>æ§åˆ¶å±å¹•é¡¶éƒ¨çŠ¶æ€æ ç”¨çš„ï¼Œä¹Ÿå¯ä½¿ç”¨ React Native æ¡†æ¶æä¾›çš„ <code>&lt;StatusBar /&gt;</code> ç»„ä»¶è¿›è¡Œä»£æ›¿ã€‚</p><ul>\n<li>statusBarHiddenï¼šå®ƒæ˜¯å¸ƒå°”å€¼ï¼Œå®ƒå†³å®šäº†å±å¹•é¡¶éƒ¨çŠ¶æ€æ æ˜¯å¦éšè—ã€‚</li>\n</ul><p><strong>æ‰‹åŠ¿åŠ¨ç”»ç±»ï¼š</strong></p><ul>\n<li>gestureEnabledï¼šå®ƒæ˜¯å¸ƒå°”å€¼ï¼Œå®ƒå†³å®šäº†æ˜¯å¦å¯ç”¨ä¾§æ»‘æ‰‹åŠ¿å…³é—­å½“å‰é¡µé¢ï¼ˆiOSä¸“å±ï¼‰ï¼›</li>\n<li>fullScreenGestureEnabledï¼šå®ƒæ˜¯å¸ƒå°”å€¼ï¼Œå®ƒå†³å®šäº†æ˜¯å¦ä½¿ç”¨å…¨å±æ»‘åŠ¨æ‰‹åŠ¿å…³é—­å½“å‰é¡µé¢ï¼ˆiOSä¸“å±ï¼‰ï¼›</li>\n<li>animationï¼šå®ƒæ˜¯å­—ç¬¦ä¸²æšä¸¾å€¼ï¼Œå®ƒæ§åˆ¶äº†æ‰“å¼€æˆ–å…³é—­ Stack é¡µé¢çš„åŠ¨ç”»å½¢å¼ï¼Œé»˜è®¤â€œdefaultâ€æ˜¯é¡µé¢ä»å³åˆ°å·¦åœ°æ¨å…¥åŠ¨ç”»ï¼Œä¹Ÿå¯ä»¥è®¾ç½®æˆå…¶ä»–ç±»å‹çš„åŠ¨ç”»ï¼Œæ¯”å¦‚â€œslide_from_bottomâ€æ˜¯é¡µé¢ä»ä¸‹åˆ°ä¸Šçš„æ¨å…¥åŠ¨ç”»å’Œä»ä¸Šåˆ°ä¸‹çš„æ¨å‡ºåŠ¨ç”»ï¼›</li>\n<li>presentationï¼šå®ƒæ˜¯å­—ç¬¦ä¸²æšä¸¾å€¼ï¼Œå®ƒæ§åˆ¶äº†é¡µé¢çš„å±•ç°å½¢å¼ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯è®¾ç½®é¡µé¢å¼¹çª—ã€‚å¸¸ç”¨çš„é…ç½®å€¼æ˜¯ â€œtransparentModalâ€  å®ƒä¼šå°†é¡µé¢å±•ç¤ºä¸ºä¸€ä¸ªé€æ˜å¼¹çª—ã€‚</li>\n</ul><p>é‚£ä¹ˆï¼Œè¿™äº› options é…ç½®é¡¹å…·ä½“æ€ä¹ˆç”¨å‘¢ï¼Ÿ</p><p>æˆ‘ç»™ä½ ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ä½ æƒ³è®©è¯¦æƒ…é¡µçš„å›¾ç‰‡å±•ç¤ºæ›´åŠ æœ‰æ²‰æµ¸æ„Ÿï¼Œä½ å°±å¯ä»¥æŠŠè¯¦æƒ…é¡µçš„ header ç»™éšè—äº†ï¼Œå¹¶è®©å®ƒæ”¯æŒå…¨å±è¿”å›ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">&lt;Stack.Screen name=\"Detail\" component={Detail} options={{\n  headerShown: false,\n  fullScreenGestureEnabled: true\n}} /&gt;\n</code></pre><p>å¦‚ä¸Šæ‰€ç¤ºï¼ŒStack.Screen å…ƒç´ æä¾›äº† options å‚æ•°ï¼Œè¯¥ options å‚æ•°å¯ä»¥æ§åˆ¶é¡µé¢å¯¼èˆªå±æ€§ã€‚è¿™é‡Œæˆ‘å…ˆæ˜¯ä½¿ç”¨äº† headerShown éšè—äº†æ ‡é¢˜æ ï¼Œå¹¶ä¸”ä½¿ç”¨äº† fullScreenGestureEnabled å±æ€§ä½¿å…¶æ”¯æŒå…¨å±è¿”å›ã€‚</p><p>options å‚æ•°æ—¢å¯ä»¥é…ç½®ï¼Œä¹Ÿå¯ä»¥åŠ¨æ€è®¾ç½®ã€‚æ¯”å¦‚ï¼Œç‚¹å‡»æŸä¸ªæŒ‰é’®åŠ¨æ€æ›´æ–° title æ ‡é¢˜çš„æ–‡æ¡ˆã€‚åˆæ¯”å¦‚ï¼Œæœ‰æ—¶å€™åœ¨å¤§å›¢é˜Ÿä¸­ä¸€ä¸ªäººåªè´Ÿè´£ä¸€ä¸ªéƒ¨åˆ†ï¼Œè´Ÿè´£è¯¥é¡µé¢çš„åŒå­¦ä¸æ–¹ä¾¿ä¿®æ”¹å…¶ä»–å›¢é˜Ÿç»´æŠ¤çš„å…¨å±€é…ç½®ï¼Œå°±å¯ä»¥åœ¨å½“å‰é¡µé¢åˆå§‹åŒ–æ—¶åŠ¨æ€è®¾ç½® options å‚æ•°ã€‚</p><p>ä»¥ä¸Šæ˜¯é€šè¿‡é…ç½®è®¾ç½® options å‚æ•°çš„è¿‡ç¨‹ï¼Œé‚£å¦‚ä½•åœ¨å½“å‰é¡µé¢ä¿®æ”¹ options é…ç½®å‘¢ï¼Ÿåœ¨å½“å‰é¡µé¢é‡ç½® options å‚æ•°ç”¨çš„æ–¹æ³•å°±æ˜¯ setOptionsï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">function Detail({ navigation}) {\n\n  // React.useEffect() å¼‚æ­¥å‰¯ä½œç”¨å›è°ƒï¼Œæ‰§è¡Œ setOptions ä¼šå¯¼è‡´é—ªå±ï¼Œä¸æ¨èä½¿ç”¨ã€‚\n\n  // é¡µé¢åˆå§‹åŒ–æ—¶ï¼ŒåŒæ­¥è®¾ç½®\n  React.useLayoutEffect(() =&gt; {\n    navigation.setOptions({\n      headerShown: false,\n      fullScreenGestureEnabled: true,\n    });\n  }, [navigation])\n\n  // ç‚¹å‡»æŒ‰é’®åï¼Œå¼‚æ­¥è®¾ç½®\n  const handlePress = () =&gt; {\n    navigation.setOptions({\n      title: 'æ–°æ ‡é¢˜',\n    });\n  }\n\n  return (\n    &lt;Text onPress={handlePress}&gt;è®¾ç½®æ–°æ ‡é¢˜&lt;/Text&gt;\n  );\n}\n</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨ navigation.setOptions è®¾ç½®å¯¼èˆªç›¸å…³å±æ€§æœ‰ä¸¤ç§å½¢å¼ï¼Œä¸€ç§æ˜¯åŒæ­¥è®¾ç½®ï¼Œå¦ä¸€ç§æ˜¯å¼‚æ­¥è®¾ç½®ã€‚</p><p><strong>åœ¨åˆå§‹åŒ–æ—¶ï¼Œä¸ºäº†é¡µé¢ä¸æŠ–åŠ¨ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨åŒæ­¥çš„æ–¹æ³•æ¸²æŸ“é¡µé¢ã€‚</strong>æ¯”å¦‚è¦éšè—å¤´éƒ¨å’Œè®¾ç½®å…¨å±€è¿”å›æ‰‹åŠ¿ï¼Œå¦‚æœæ˜¯æ”¾åœ¨ React.useEffect è¿™ç§åœ¨é¡µé¢æ¸²æŸ“å®Œæˆåå†å¼‚æ­¥æ‰§è¡Œçš„å‰¯ä½œç”¨å‡½æ•°ä¸­ï¼Œå°±ä¼šå¯¼è‡´å…ˆæ¸²æŸ“ä¸€æ¬¡æœ‰å¤´éƒ¨çš„é¡µé¢ï¼Œç„¶åå†æ¸²æŸ“ä¸€æ¬¡æ²¡æœ‰å¤´éƒ¨çš„é¡µé¢ï¼Œå¤´éƒ¨çš„æ¶ˆå¤±å°±ä¼šå½±å“åˆ°æ•´ä½“é¡µé¢çš„é«˜åº¦çš„å˜åŒ–ï¼Œè¿™æ—¶é¡µé¢çœ‹èµ·æ¥å°±æ˜¯æŠ–åŠ¨çš„ã€‚</p><p>React æä¾›äº†åŒæ­¥æ‰§è¡Œçš„å‰¯ä½œç”¨å‡½æ•° React.useLayoutEffectï¼ŒæŠŠ navigation.setOptions æ”¾åœ¨è¿™é‡Œé¢æ‰§è¡Œï¼Œé¡µé¢åˆå§‹åŒ–çš„æ—¶å€™ä¼šåŒæ­¥åœ°æŠŠå¤´éƒ¨éšè—èµ·æ¥ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°é¡µé¢æŠ–åŠ¨çš„ç°è±¡äº†ã€‚</p><p><strong>è€Œå¼‚æ­¥è®¾ç½® options å‚æ•°çš„åœºæ™¯ï¼Œå¤šç”¨åœ¨æœ‰äº¤äº’çš„åœºæ™¯</strong>ï¼Œæ¯”å¦‚ç‚¹å‡»æŸä¸ªæŒ‰é’®ï¼Œæ”¹å˜æ ‡é¢˜çš„æ–‡æ¡ˆã€‚å¦‚ç¤ºä¾‹ä»£ç æ‰€ç¤ºï¼Œåœ¨ä½ ç‚¹å‡»â€œè®¾ç½®æ–°æ ‡é¢˜â€çš„æŒ‰é’®åï¼Œå°±ä¼šè°ƒç”¨ navigation.setOptions å°†æ ‡é¢˜æ–‡æ¡ˆé‡æ–°è®¾ç½®ã€‚</p><h2>å„ç±»å¯¼èˆª</h2><p>åœ¨ä¸Šè¿°å¯¼èˆªç¤ºä¾‹ä¸­ï¼Œæˆ‘ç”¨çš„ä¾‹å­éƒ½æ˜¯å¤§å®¶ç”¨å¾—æœ€å¤šçš„ Native Stack Navigatorã€‚è€Œå®é™…ä¸Šï¼Œé™¤äº† Native Stack Navigator è¿™ç±»å¯¼èˆªä¹‹å¤–ï¼Œè¿˜æœ‰ 5 ç±»å¯¼èˆªï¼š</p><ul>\n<li>Stack Navigatorï¼šStack Navigator å’Œ Native Stack Navigator éƒ½å±äº<strong>å †æ ˆå¯¼èˆª</strong>ï¼Œä¹Ÿå°±æ˜¯æ¯è·³è½¬ä¸€æ¬¡åœ¨å †æ ˆçš„æœ€ä¸Šé¢å¢åŠ ä¸€ä¸ªæ–°é¡µé¢ï¼Œæ¯å›é€€ä¸€æ¬¡åœ¨å †æ ˆçš„æœ€ä¸Šé¢å‡å°‘ä¸€ä¸ªè€é¡µé¢ã€‚ä¸åŒçš„æ˜¯ï¼ŒStack Navigator åº•å±‚ä½¿ç”¨çš„æ˜¯ Gesture æ‰‹åŠ¿åº“å’Œ Reanimated åŠ¨ç”»åº“å®ç°çš„å †æ ˆå¯¼èˆªï¼Œè€Œ Native Stack Navigator ä½¿ç”¨çš„æ˜¯ iOS åŸç”Ÿ UINavigationController å’Œ Android åŸç”Ÿ Fragment å®ç°çš„å †æ ˆå¯¼èˆªã€‚<strong>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä¸æ¨èä½ ä½¿ç”¨ Stack Navigatorï¼ŒNative Stack Navigator çš„åŠŸèƒ½æ›´å¤šï¼Œæ€§èƒ½ä¹Ÿæ›´å¼ºå¤§</strong>ï¼Œ<a href=\"https://reactnavigation.org/docs/stack-navigator\">å…·ä½“è§æ–‡æ¡£å’ŒåŠ¨å›¾</a>ã€‚</li>\n<li>Drawer Navigatorï¼š<strong>æŠ½å±‰å¯¼èˆª</strong>ï¼Œä¹Ÿå°±æ˜¯ä»ä¾§è¾¹æ æ¨å‡ºçš„å¯¼èˆªé¡µé¢ã€‚åº•å±‚ä¹Ÿæ˜¯ç”¨çš„ Gesture æ‰‹åŠ¿åº“å’Œ Reanimated åŠ¨ç”»åº“å®ç°çš„ï¼Œç±»ä¼¼å¾®ä¿¡é¦–é¡µä¾§æ»‘æŸ¥çœ‹æ”¶èµ·çš„å°ç¨‹åºæˆ–å…¬ä¼—å·æ–‡ç« ï¼Œè¿™å°±å±äºæŠ½å±‰å¯¼èˆªï¼Œ<a href=\"https://reactnavigation.org/docs/drawer-navigator\">å…·ä½“è§æ–‡æ¡£å’ŒåŠ¨å›¾</a>ã€‚</li>\n<li>Bottom Tabs Navigatorï¼š<strong>åº•éƒ¨æ ‡ç­¾å¯¼èˆª</strong>ã€‚åŸºæœ¬ä¸Šæ¯ä¸ª App åº•éƒ¨æœ‰å¥½å‡ ä¸ª Tabï¼Œè¿™ç§å¤š Tab çš„é¡µé¢åˆ‡æ¢çš„æ•ˆæœåœ¨ React Native ä¸­å°±å¯ä»¥ç”¨å®ƒæ¥å®ç°ï¼Œ<a href=\"https://reactnavigation.org/docs/bottom-tab-navigator\">å…·ä½“è§æ–‡æ¡£å’ŒåŠ¨å›¾</a>ã€‚</li>\n<li>Material Bottom Tabs Navigatorï¼šå¸¦ Material æ ·å¼çš„åº•éƒ¨æ ‡ç­¾å¯¼èˆªï¼Œ<a href=\"https://reactnavigation.org/docs/material-bottom-tab-navigator\">å…·ä½“è§æ–‡æ¡£å’ŒåŠ¨å›¾</a>ã€‚</li>\n<li>Material Top Tabs Navigatorï¼š<strong>å¸¦ Material æ ·å¼çš„é¡¶éƒ¨æ ‡ç­¾å¯¼èˆª</strong>ï¼Œå®ƒæ˜¯åŸºäº <code>react-native-tab-view</code> å®ç°çš„ï¼Œä½ å¯ä»¥æŠŠ Material æ ·å¼æ¢æˆä½ è‡ªå·±çš„æ ·å¼ï¼Œå¸¸è§çš„å¤šåˆ—è¡¨ Tabs å°±å¯ä»¥ç”¨å®ƒæ¥å®ç°ï¼Œ<a href=\"https://reactnavigation.org/docs/material-top-tab-navigator\">å…·ä½“è§æ–‡æ¡£å’ŒåŠ¨å›¾</a>ã€‚</li>\n</ul><p>è™½ç„¶ï¼Œå„ç±»å¯¼èˆªå®ç°çš„æ•ˆæœå„ä¸ç›¸åŒï¼Œä½†æ˜¯å®ƒä»¬çš„ä½¿ç”¨æ–¹æ³•éƒ½æ˜¯å¤§åŒå°å¼‚çš„ï¼Œéƒ½åŒ…æ‹¬åˆ›å»ºâ€œå¯¼èˆªåœ°å›¾â€ã€æºå¸¦å‚æ•°è·³è½¬é¡µé¢ã€é¡µé¢æ¥æ”¶å’Œè§£æå‚æ•°è¿™ä¸‰æ­¥ï¼Œå®ƒä»¬æœ€å¸¸ç”¨çš„å‚æ•°ä¹Ÿæ˜¯ params å’Œ optionsã€‚</p><p>é‚£è¿™äº›å¯¼èˆªå…·ä½“æ€ä¹ˆç”¨å‘¢ï¼Ÿæˆ‘ç”¨ç®€å•ç”µå•† App ä¸ºä¾‹ï¼Œè®²è®²å¸¸è§å¯¼èˆªçš„å•ä¸ªç”¨æ³•å’Œæ­é…ç”¨æ³•ï¼Œå…¶ä¸­æ¶‰åŠäº†ä¸‰ç±»å¯¼èˆªï¼šMaterial Top Tabs Navigatorã€ Native Stack Navigator å’Œ Material Top Tabs Navigatorã€‚ä½ å…ˆçœ‹ä¸‹è¿™å¼ ç¤ºæ„å›¾ï¼š</p><p><img src=\"https://static001.geekbang.org/resource/image/6f/e2/6f9e15aab9fab467502e214edcd5aae2.png?wh=1920x1261\" alt=\"å›¾ç‰‡\"></p><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸€å…±ç”¨äº† 4 ä¸ªå¯¼èˆªï¼Œä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ˜¯ä¸¤ä¸ªé¡¶éƒ¨æ ‡ç­¾å¯¼èˆª Material Top Tabs Navigatorã€å †æ ˆå¯¼èˆª Native Stack Navigator å’Œåº•éƒ¨æ ‡ç­¾å¯¼èˆª Material Bottom Tabs Navigatorã€‚</p><p>é¡µé¢é¡¶éƒ¨ç”¨çš„æ ‡ç­¾å¯¼èˆªæ˜¯å¯ä»¥å·¦å³æ»‘åŠ¨åˆ‡æ¢é¡µé¢çš„ï¼Œè€Œä¸”éœ€è¦æ”¯æŒåŒå±‚é¡¶éƒ¨æ ‡ç­¾åˆ‡æ¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦ä¼˜å…ˆåˆ‡æ¢ç¬¬äºŒå±‚æ ‡ç­¾é¡µï¼Œå¦‚æœç¬¬äºŒå±‚æ ‡ç­¾é¡µé¡¶åˆ°å¤´äº†ï¼Œå°±åˆ‡æ¢ç¬¬ä¸€å±‚æ ‡ç­¾é¡µã€‚æ¯”å¦‚æ¨èæ ‡ç­¾é¡µåœ¨ç¬¬äºŒå±‚æ ‡ç­¾é¡µä¸­çš„æœ€å·¦è¾¹å·²ç»é¡¶åˆ°å¤´äº†ï¼Œä½†æ˜¯åœ¨ç¬¬ä¸€å±‚æ ‡ç­¾é¡µä¸­ï¼Œå®ƒçš„å·¦è¾¹è¿˜æœ‰å…³æ³¨æ ‡ç­¾é¡µï¼Œå› æ­¤ä½ è¿˜å¯ä»¥æ»‘å‘å·¦è¾¹çš„é¡µé¢ï¼Œå·¦æ»‘çœ‹åˆ°å°±æ˜¯å…³æ³¨æ ‡ç­¾é¡µäº†ã€‚</p><p>é¡µé¢ä¸»é¢˜ç”¨çš„æ˜¯å †æ ˆå¯¼èˆªï¼Œä¸­é—´çš„ä¸‰ä¸ªå›¾æ ‡æ˜¯å¯ä»¥ç‚¹å‡»è·³è½¬åˆ°è¯¦æƒ…é¡µçš„ã€‚é¡µé¢åº•éƒ¨ç”¨çš„æ˜¯åº•éƒ¨æ ‡ç­¾å¯¼èˆªï¼Œåº•éƒ¨æ ‡ç­¾é¡µåªæ”¯æŒç‚¹å‡»åˆ‡æ¢ï¼Œä¸æ”¯æŒå·¦å³æ»‘åŠ¨ã€‚</p><p>é‚£å¦‚ä½•ä½¿ç”¨ React Navigation å®ç°è¿™ä¸ª App å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯ä½¿ç”¨<strong>å¯¼èˆªåµŒå¥—</strong>æ¥å®ç°ã€‚</p><p>ç°åœ¨æˆ‘å…ˆç”¨åº•éƒ¨æ ‡ç­¾å¯¼èˆªå’Œå †æ ˆå¯¼èˆªç¤ºèŒƒä¸€ä¸‹å¦‚ä½•å®ç°å¯¼èˆªåµŒå¥—ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">import { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\n\nconst Stack = createNativeStackNavigator();\nconst Tab = createBottomTabNavigator();\n\n\n\nfunction App() {\n  return (\n    &lt;NavigationContainer&gt;\n      &lt;Stack.Navigator initialRouteName=\"TabHome\"&gt;\n        &lt;Stack.Screen name=\"TabHome\" component={TabHome}  /&gt;\n      &lt;/Stack.Navigator&gt;\n    &lt;/NavigationContainer&gt;\n  );\n}\n\nfunction TabHome() {\n  return (\n    &lt;Tab.Navigator initialRouteName=\"Home\" &gt;\n      &lt;Tab.Screen name=\"Home\" component={Home} /&gt;\n    &lt;/Tab.Navigator&gt;\n  );\n}\n\nfunction Home() {return &lt;Text&gt;æˆ‘æ˜¯é¦–é¡µ&lt;/Text&gt;}\n</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œé¦–å…ˆæˆ‘åˆ†åˆ«ä½¿ç”¨ createNativeStackNavigator å’Œ createBottomTabNavigator å¯¼èˆªåˆ›å»ºå‡½æ•°ï¼Œåˆ›å»ºäº†å †æ ˆå¯¼èˆª Stack å’Œåº•éƒ¨å¯¼èˆª Tabã€‚æ¥ç€åˆåˆ›å»ºäº†â€œå †æ ˆå¯¼èˆªåœ°å›¾â€ App ã€â€œåº•éƒ¨å¯¼èˆªåœ°å›¾â€ TabHomeã€é¦–é¡µç»„ä»¶ Homeï¼Œè¿™ä¸‰ä¸ªå‡½æ•°ç»„ä»¶å¯¹åº”çš„å…ƒç´ å…³ç³»å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class=\"language-plain\">- App(\"å¯¼èˆªåœ°å›¾\")\n  - TabHome(\"å¯¼èˆªåœ°å›¾\")\n    - Home(çœŸæ­£çš„é¡µé¢)\n</code></pre><p>â€œå †æ ˆå¯¼èˆªåœ°å›¾â€ App æ˜¯æ ¹è§†å›¾ï¼Œè¯¥æ ¹è§†å›¾ä¸‹é¢åªæœ‰ä¸€ä¸ªé¡µé¢å°±æ˜¯â€œåº•éƒ¨å¯¼èˆªåœ°å›¾â€ TabHomeï¼Œè€Œ TabHome è§†å›¾ä¸­çš„å­è§†å›¾åªæœ‰ Home è§†å›¾ã€‚</p><p>æ— è®ºæ˜¯ Stack.Screen è¿˜æ˜¯ Tab.Screenï¼Œè¿™äº›â€œå¯¼èˆªåœ°å›¾â€ä¸­çš„ Screen çš„ component å±æ€§æ—¢æ¥å—æ™®é€šé¡µé¢å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œä¹Ÿå¯ä»¥æ¥å—â€œå¯¼èˆªåœ°å›¾â€å‡½æ•°ä½œä¸ºå‚æ•°ã€‚<strong>â€œå¯¼èˆªåœ°å›¾â€çš„ Screen æ¥æ”¶â€œå¯¼èˆªåœ°å›¾â€ä½œä¸º component å‚æ•°ï¼Œå°±æ˜¯å®ç°å¯¼èˆªåµŒå¥—çš„æ–¹æ³•ï¼Œå”¯ä¸€éœ€è¦ä¿è¯çš„æ˜¯åµŒå¥—çš„æœ€å†…å±‚å¿…é¡»æ˜¯æ™®é€šé¡µé¢ã€‚</strong></p><p>å½“ç„¶ï¼Œä¸Šè¿°ç¤ºä¾‹åªæœ‰ä¸€ä¸ª Home çš„æ ‡ç­¾é¡µé¢ï¼Œä½ è¿˜å¯ä»¥ç»§ç»­åœ¨â€œå¯¼èˆªåœ°å›¾â€ä¸Šè¿›è¡Œæ‰©å±•ï¼Œå¤šåŠ å‡ ä¸ªæ ‡ç­¾é¡µé¢å’Œå †æ ˆé¡µé¢ï¼Œæ·»åŠ å®Œæˆæ—¶å€™ç¤ºæ„ç»“æ„å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">- App(\"å¯¼èˆªåœ°å›¾\")\n  - TabHome(\"å¯¼èˆªåœ°å›¾\")\n    - Home(æ ‡ç­¾é¡µé¢)\n    - Message (æ ‡ç­¾é¡µé¢)\n    - My(æ ‡ç­¾é¡µé¢)\n  - Page1(å †æ ˆé¡µé¢)\n  - Page2(å †æ ˆé¡µé¢)\n  - ...(å †æ ˆé¡µé¢)\n</code></pre><p>å¦‚ä¸Šæ‰€ç¤ºï¼Œæ·»åŠ çš„ Message å’Œ My æ ‡ç­¾é¡µé¢ä¼šåœ¨åŸæ¥çš„ Home æ ‡ç­¾é¡µç»„æˆæœ‰ä¸‰ä¸ªåº•éƒ¨ Tab çš„ Appï¼Œè¿™ä¸ª App ä¸­è¿˜æœ‰è‹¥å¹²ä¸ªå¯ä»¥ä½¿ç”¨ navigation.navigate æ–¹æ³•è¿›è¡Œè·³è½¬çš„å †æ ˆé¡µé¢ã€‚</p><p><strong>æˆ‘è®¤ä¸ºï¼Œä»¥ä¸Šè¿™ç§ä½¿ç”¨å †æ ˆâ€œå¯¼èˆªåœ°å›¾â€  Stack ä½œä¸ºæ ¹å…ƒç´ ï¼Œä½¿ç”¨åº•éƒ¨æ ‡ç­¾â€œå¯¼èˆªåœ°å›¾â€  Tab ä½œä¸ºå­å…ƒç´ çš„åµŒå¥—æ–¹æ¡ˆæ˜¯å®ç°ç±»ä¼¼å¾®ä¿¡ã€æ·˜å®è¿™ç§å¤šåº•éƒ¨æ ‡ç­¾ App çš„æœ€ä½³å®è·µã€‚</strong></p><p>ä½ å¯èƒ½ä¼šé—®ï¼Œæ—¢ç„¶â€œå¯¼èˆªåœ°å›¾â€å¯ä»¥ç›¸äº’åµŒå¥—ï¼Œé‚£ä¸ºä»€ä¹ˆä¸ä½¿ç”¨åº•éƒ¨æ ‡ç­¾â€œå¯¼èˆªåœ°å›¾â€  Tab ä½œä¸ºæ ¹å…ƒç´ ï¼Œæ¥åµŒå¥—å †æ ˆâ€œå¯¼èˆªåœ°å›¾â€ Stackï¼Œè€Œæ˜¯åè¿‡æ¥å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬è¿˜æ˜¯ä»¥å¾®ä¿¡ã€æ·˜å®ï¼Œè¿™ç±»å¤šåº•éƒ¨æ ‡ç­¾çš„ App ä¸ºä¾‹åˆ†æä¸€ä¸‹ã€‚è¿™å‡ ä¸ªAppéƒ½æœ‰å¥½å‡ ä¸ªåº•éƒ¨æ ‡ç­¾é¡µï¼Œæ¯ä¸ªæ ‡ç­¾é¡µä¸­éƒ½æœ‰å¯ç»§ç»­è·³è½¬çš„å­é¡µé¢ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨ Tab â€œå¯¼èˆªåœ°å›¾â€ä½œä¸ºæ ¹å…ƒç´ ï¼Œé‚£ä¹ˆè¿™å‡ ä¸ª Tab â€œå¯¼èˆªåœ°å›¾â€çš„å­å…ƒç´ å¿…é¡»æ˜¯ Stack â€œå¯¼èˆªåœ°å›¾â€ï¼Œç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><pre><code class=\"language-plain\">- App(\"Tab å¯¼èˆªåœ°å›¾\")\n  - Home(\"Stack å¯¼èˆªåœ°å›¾\")\n        - Page1\n      - Page2\n  - Message(\"Stack å¯¼èˆªåœ°å›¾\")\n      - Page3\n      - Page4\n</code></pre><p>åœ¨è¿™ä¸ªæ–¹æ¡ˆä¸­ï¼ŒAppâ€œTab å¯¼èˆªåœ°å›¾â€æœ‰ä¸¤ä¸ªå­æ ‡ç­¾ Home å’Œ Messageï¼Œè¿™ä¸¤ä¸ªå­æ ‡ç­¾éƒ½æ˜¯â€œStack å¯¼èˆªåœ°å›¾â€ã€‚åœ¨ Home å­æ ‡ç­¾ä¸‹æœ‰ä¸¤ä¸ªæ™®é€šé¡µé¢ Page1 å’Œ Page2ï¼Œåœ¨ Message å­æ ‡ç­¾ä¸‹å¦å¤–ä¸¤ä¸ªæ™®é€šé¡µé¢ Page3 å’Œ Page4ã€‚</p><p>è¿™å°±æ˜¯ä½¿ç”¨â€œTab å¯¼èˆªåœ°å›¾â€åµŒå¥—â€œStack å¯¼èˆªåœ°å›¾â€çš„æ–¹æ¡ˆï¼Œä½ å¯ä»¥å…ˆæ€è€ƒä¸€ä¸‹ï¼Œè¿™ä¸ªæ–¹æ¡ˆæœ‰æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p><p>ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå®ƒæœ‰ä¸¤ä¸ªâ€œStack å¯¼èˆªåœ°å›¾â€ï¼Œç®¡ç†èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬å£°æ˜é¡µé¢ä¹‹å‰éœ€è¦è€ƒè™‘è¯¥é¡µé¢åº”è¯¥åœ¨å“ªä¸ª Tab ä¸­æ‰“å¼€ã€‚</p><p>ç¬¬äºŒä¸ªé—®é¢˜æ›´ä¸¥é‡ï¼Œå¦‚æœæƒ³ä» Home çš„ Page1 é¡µé¢è·³è½¬åˆ° Message çš„ Page3 ä¸‹é¢ï¼Œç”¨æˆ·å¿…é¡»ç‚¹å¼€è¿‡ Message æ ‡ç­¾é¡µï¼Œä¸ç„¶å°±ä¼šå‡ºç°æŠ¥é”™ã€‚å› ä¸ºåœ¨è¿›å…¥ Message æ ‡ç­¾é¡µä¹‹å‰ï¼Œå®ƒä¸‹é¢çš„ Page3 ã€Page4 é¡µé¢æ˜¯æ²¡æœ‰åˆå§‹åŒ–å£°æ˜è¿‡çš„ï¼Œç›´æ¥è·³è¿‡å»ä¼šå‡ºç°æŠ¥é”™ã€‚</p><p>é‰´äºä»¥ä¸Šä¸¤ä¸ªé—®é¢˜çš„å­˜åœ¨ï¼Œæˆ‘æ¨èä½ ä½¿ç”¨ Stack ä½œä¸ºæ ¹å¯¼èˆªï¼Œæ¥åµŒå¥—å…¶ä»– Tab ç±»å‹çš„å¯¼èˆªã€‚</p><p>æˆ‘ä»¬è¦å®ç°çš„ç®€æ˜“ç”µå•† App çš„æ¶å­ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªé¡¶éƒ¨æ ‡ç­¾å¯¼èˆªã€ä¸€ä¸ªåº•éƒ¨æ ‡ç­¾å¯¼èˆªå’Œä¸€ä¸ªå †æ ˆå¯¼èˆªçš„ Appï¼Œå®ƒçš„å…·ä½“å®ç°æ€è·¯å’Œæœ€ç»ˆå®ç°çš„æˆªå±ï¼Œæˆ‘éƒ½æ”¾åœ¨äº†ä¸‹é¢ã€‚ä½ å¯¹ç…§ç€çœ‹ä¸‹ï¼Œç†è§£ä¸€ä¸‹å®ƒçš„å®ç°æ€è·¯ï¼š</p><pre><code class=\"language-plain\">- App(\"Stack å¯¼èˆªåœ°å›¾\")\n  - BottomTabHome(\"Bottom Tab å¯¼èˆªåœ°å›¾\")\n      - TopTabHome(\"Top Tab å¯¼èˆªåœ°å›¾\")\n          - å…³æ³¨\n          - TopTabDiscover(\"Top Tab å¯¼èˆªåœ°å›¾\")\n              - æ¨è\n              - çŒ«çŒ«\n              - ç‹—ç‹—\n      - é™„è¿‘\n  - æ¶ˆæ¯\n  - æˆ‘\n- Page1\n- Page2\n- PageN...\n</code></pre><p><img src=\"https://static001.geekbang.org/resource/image/4f/d9/4f4906ed4f9eabea6264f184911796d9.png?wh=1920x1417\" alt=\"å›¾ç‰‡\"></p><h2>é™„åŠ ææ–™</h2><p>æœ€ç»ˆçš„ä»£ç æœ‰ç‚¹é•¿ï¼Œæˆ‘å°±ä¸è´´å‡ºæ¥äº†ï¼Œä½ å¯ä»¥åœ¨ GitHub ä¸ŠæŸ¥åˆ°ã€‚</p><ul>\n<li>æœ€æ–°èµ„æ–™ä»¥ <a href=\"https://reactnavigation.org/\">React Navigation å®˜ç½‘</a>çš„ V6 ç‰ˆæœ¬ä¸ºå‡†ï¼Œå®ƒçš„ä¸­æ–‡ç½‘çš„ç¤ºä¾‹æœ‰ç‚¹è€ï¼Œæˆ‘å°±ä¸æ¨èäº†ã€‚</li>\n<li>React Navigator ä¹Ÿæä¾›äº† 10+ ä¸ª<a href=\"https://github.com/react-navigation/react-navigation/tree/main/example\">å®˜æ–¹ Demo</a>ï¼Œä½ ä¹Ÿå¯ä»¥å‚è€ƒç€å­¦ä¸€ä¸‹ã€‚</li>\n<li>æœ¬æ–‡çš„ç¤ºä¾‹ä»£ç è§ <a href=\"https://github.com/jiangleo/react-native-classroom/tree/main/src/18_Navigation\">GitHub</a>ã€‚</li>\n</ul><h2>æ€»ç»“</h2><p>ä»Šå¤©è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»äº†æ­å»º React Native App å¿…å¤‡çš„å·¥å…· React Navigatorã€‚</p><p>åœ¨ React Navigator ä¹‹ä¸­ï¼Œæœ€å¸¸ç”¨çš„å¯¼èˆªæ˜¯åŸç”Ÿå †æ ˆå¯¼èˆª Native Stack Navigatorï¼Œé€šå¸¸æƒ…å†µä¸‹éƒ½æ˜¯ä½¿ç”¨å®ƒä½œä¸ºæœ€å¤–å±‚çš„å¯¼èˆªï¼Œæ¥åŒ…è£¹å…¶ä»–çš„åº•éƒ¨æ ‡ç­¾å¯¼èˆªå’Œé¡¶éƒ¨æ ‡ç­¾å¯¼èˆªï¼Œå®ç°å¸¸è§ App çš„å¤šæ ‡ç­¾å¯¼èˆªæ•ˆæœã€‚</p><p>ç”¨å¥½ React Navigator çš„å…³é”®æ˜¯ï¼Œ<strong>ç†è§£å®ƒçš„ä¸¤ä¸ªé…ç½®é¡¹å’Œå¯¼èˆªè·¯ç”±å¯¹è±¡</strong>ã€‚</p><p>åœ¨å£°æ˜é¡µé¢æ—¶ï¼Œä½ å¯ä»¥é€šè¿‡é…ç½®çš„æ–¹å¼å¡«å†™é»˜è®¤çš„è‡ªå®šä¹‰å‚æ•° params  å’Œé…ç½®é¡¹ optionsã€‚è€Œåœ¨ä½ è¿›å…¥é¡µé¢åï¼Œå¯ä»¥é€šè¿‡å¯¼èˆªå¯¹è±¡ navigation å’Œè·¯ç”±å¯¹è±¡ route æ¥æ§åˆ¶é¡µé¢ã€‚å¯¼èˆªå¯¹è±¡æä¾›çš„ä¸»è¦åŠŸèƒ½æœ‰è·³è½¬å›é€€ã€ç›‘å¬é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸå’Œ setParamsã€setOptions åŠŸèƒ½ï¼›è·¯ç”±å¯¹è±¡ä¸Šä¸»è¦æ˜¯é¡µé¢åå­— nameã€è‡ªå®šä¹‰å‚æ•° paramsã€‚</p><h2>ä½œä¸š</h2><ol>\n<li>è¯·ä½ ä½¿ç”¨ Native Stack Navigator å®ç°ä¸€ä¸ªé€šç”¨çš„å¼¹çª—åŠŸèƒ½ã€‚è¯¥å¼¹çª—æ ·å¼åŒ…æ‹¬ä¸€ä¸ªå¯è‡ªå®šä¹‰çš„æ ‡é¢˜å’Œä¸€ä¸ªå¯è‡ªå®šä¹‰çš„æŒ‰é’®ï¼Œå®ƒå¯ä»¥åœ¨ä»»æ„é¡µé¢ä¸­è°ƒç”¨æ˜¾ç¤ºï¼Œä¸”å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æˆ–åŠé€æ˜èƒŒæ™¯æ—¶ï¼Œè¯¥å¼¹çª—æ•´ä½“æ¶ˆå¤±ã€‚</li>\n</ol><p><img src=\"https://static001.geekbang.org/resource/image/22/e2/22507dc46d5022d45148e015742db7e2.png?wh=1920x911\" alt=\"å›¾ç‰‡\"></p><ol start=\"2\">\n<li>React Navigation ç›®å‰å·²ç»æ›´æ–°åˆ° v6 ç‰ˆæœ¬äº†ï¼Œä½ åœ¨ä½¿ç”¨è€ç‰ˆæœ¬çš„ React Navigation æ—¶é‡åˆ°è¿‡å“ªäº›é—®é¢˜å‘¢ï¼Ÿæ¬¢è¿ç•™è¨€ï¼Œæˆ‘ä»¬å¤§å®¶ä¸€èµ·è®¨è®ºã€‚</li>\n</ol>","comments":[{"had_liked":false,"id":345119,"user_name":"æ½‡æ½‡æš®é›¨","can_delete":false,"product_type":"c1","uid":1295000,"ip_address":"","ucode":"C71EF7A5F7EF09","user_header":"https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erje3495m1a2Go8c801c8OwtEzaHicomaEfcIal5jQSH2I1QrfSgBKoZzsGcRiaIv2Fj5ibNTCj3c0Mg/132","comment_is_top":false,"comment_ctime":1652061700,"is_pvip":false,"replies":[{"id":126003,"content":"RN å’Œ Native ç›¸äº’è·³ï¼Œç”¨çš„æ˜¯ Native å¯¼èˆªã€‚\nåœ¨æ··åˆåº”ç”¨ä¸­ï¼ŒRN åªæ˜¯ Native çš„ä¸€ä¸ªé¡µé¢å®¹å™¨ï¼Œæ¯”å¦‚åœ¨ Android ä¸­ä¸º Activity&#47;Fragmentï¼Œåœ¨ iOS ä¸­ä¸º ViewControllerã€‚\nè·³è½¬æ˜¯ç”¨çš„ Native é€šè¿‡ JSI&#47;JS Bridge æš´éœ²ç»™ JS çš„ Module&#47;Component è·³è½¬çš„ã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1088541,"ctime":1652158306,"ip_address":"","comment_id":345119,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"è€å¸ˆï¼Œå¯ä»¥è®²ä¸€ä¸‹åŸç”Ÿé¡µé¢ä¸RNé¡µé¢ç›¸äº’è·³è½¬å—","like_count":3,"discussions":[{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"è’‹å®ä¼Ÿ","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":571253,"discussion_content":"RN å’Œ Native ç›¸äº’è·³ï¼Œç”¨çš„æ˜¯ Native å¯¼èˆªã€‚\nåœ¨æ··åˆåº”ç”¨ä¸­ï¼ŒRN åªæ˜¯ Native çš„ä¸€ä¸ªé¡µé¢å®¹å™¨ï¼Œæ¯”å¦‚åœ¨ Android ä¸­ä¸º Activity/Fragmentï¼Œåœ¨ iOS ä¸­ä¸º ViewControllerã€‚\nè·³è½¬æ˜¯ç”¨çš„ Native é€šè¿‡ JSI/JS Bridge æš´éœ²ç»™ JS çš„ Module/Component è·³è½¬çš„ã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652158307,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":345107,"user_name":"007","can_delete":false,"product_type":"c1","uid":1472111,"ip_address":"","ucode":"D86B936DBDC238","user_header":"https://static001.geekbang.org/account/avatar/00/16/76/6f/2f9312c8.jpg","comment_is_top":false,"comment_ctime":1652028757,"is_pvip":false,"replies":[{"id":126313,"content":"ä½ å¥½åŒå­¦ï¼Œä½ å¯å‚è€ƒä»¥ä¸‹èµ„æ–™\n\n\nå®˜æ–¹ Modal çš„ç¤ºä¾‹ã€æ–‡æ¡£å’Œä»£ç \nç¤ºä¾‹ï¼šhttps:&#47;&#47;reactnavigation.org&#47;docs&#47;modal&#47;\næ–‡æ¡£ï¼šhttps:&#47;&#47;reactnavigation.org&#47;docs&#47;native-stack-navigator&#47;#presentation\nä»£ç ï¼šhttps:&#47;&#47;github.com&#47;react-navigation&#47;react-navigation&#47;blob&#47;main&#47;example&#47;src&#47;Screens&#47;ModalStack.tsx\n\nå®˜æ–¹åŠ¨ç”»çš„æ–‡æ¡£ï¼š\næ–‡æ¡£ï¼šhttps:&#47;&#47;reactnavigation.org&#47;docs&#47;native-stack-navigator&#47;#animation","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1088541,"ctime":1652885759,"ip_address":"","comment_id":345107,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"è€å¸ˆï¼Œèƒ½è®²ä¸€ä¸‹Modalé¡µé¢ã€‚è¿˜æœ‰è‡ªå®šä¹‰å¯¼èˆªåŠ¨ç”»ä¹ˆï¼Ÿ","like_count":1,"discussions":[{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"è’‹å®ä¼Ÿ","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":572661,"discussion_content":"ä½ å¥½åŒå­¦ï¼Œä½ å¯å‚è€ƒä»¥ä¸‹èµ„æ–™\n\n\nå®˜æ–¹ Modal çš„ç¤ºä¾‹ã€æ–‡æ¡£å’Œä»£ç \nç¤ºä¾‹ï¼šhttps://reactnavigation.org/docs/modal/\næ–‡æ¡£ï¼šhttps://reactnavigation.org/docs/native-stack-navigator/#presentation\nä»£ç ï¼šhttps://github.com/react-navigation/react-navigation/blob/main/example/src/Screens/ModalStack.tsx\n\nå®˜æ–¹åŠ¨ç”»çš„æ–‡æ¡£ï¼š\næ–‡æ¡£ï¼šhttps://reactnavigation.org/docs/native-stack-navigator/#animation","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1652885759,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366871,"user_name":"ç»´ç­±","can_delete":false,"product_type":"c1","uid":1241888,"ip_address":"æ¹–åŒ—","ucode":"4180BB2FB4D4BC","user_header":"https://static001.geekbang.org/account/avatar/00/12/f3/20/d0ec3eda.jpg","comment_is_top":false,"comment_ctime":1674488713,"is_pvip":false,"replies":[{"id":134159,"content":"excalidraw.com + keynote","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1088541,"ctime":1676264200,"ip_address":"åŒ—äº¬","comment_id":366871,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"è€å¸ˆï¼Œæ±‚ç”»å›¾è½¯ä»¶","like_count":0,"discussions":[{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"è’‹å®ä¼Ÿ","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":603658,"discussion_content":"excalidraw.com + keynote","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676264200,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366693,"user_name":"è¿½é£","can_delete":false,"product_type":"c1","uid":1795230,"ip_address":"é‡åº†","ucode":"F7D1ECD49382DE","user_header":"https://static001.geekbang.org/account/avatar/00/1b/64/9e/b8892546.jpg","comment_is_top":false,"comment_ctime":1674060936,"is_pvip":false,"replies":[{"id":134158,"content":"è¿™å—ä¸»è¦æ˜¯å’Œåç«¯é…åˆï¼Œå…³é”®ç‚¹æ˜¯tokenå’Œseesionã€‚","user_name":"ä½œè€…å›å¤","user_name_real":"ç¼–è¾‘","uid":1088541,"ctime":1676264154,"ip_address":"åŒ—äº¬","comment_id":366693,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"æ–¹ä¾¿è®²è§£ä¸€ä¸‹react-nativeä¸­è·¯ç”±é‰´æƒçš„æ–¹æ¡ˆå—ï¼Ÿ","like_count":0,"discussions":[{"author":{"id":1088541,"avatar":"https://static001.geekbang.org/account/avatar/00/10/9c/1d/f0f10198.jpg","nickname":"è’‹å®ä¼Ÿ","note":"","ucode":"02226CABD5ECE7","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":603657,"discussion_content":"è¿™å—ä¸»è¦æ˜¯å’Œåç«¯é…åˆï¼Œå…³é”®ç‚¹æ˜¯tokenå’Œseesionã€‚","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1676264155,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"åŒ—äº¬","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":366205,"user_name":"éƒ­æµ©","can_delete":false,"product_type":"c1","uid":2440442,"ip_address":"å¹¿ä¸œ","ucode":"FADCE07AC849D8","user_header":"https://static001.geekbang.org/account/avatar/00/25/3c/fa/b88b8b4e.jpg","comment_is_top":false,"comment_ctime":1673484989,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"å¦‚ä½•è§£å†³ä¸¤ä¸ªTabä¹‹é—´çš„æ»‘åŠ¨å†²çªé—®é¢˜ï¼Ÿ","like_count":0},{"had_liked":false,"id":360096,"user_name":"ç« é±¼å“¥","can_delete":false,"product_type":"c1","uid":2489303,"ip_address":"æµ™æ±Ÿ","ucode":"462E8EF2E2AEA2","user_header":"https://static001.geekbang.org/account/avatar/00/25/fb/d7/6de93467.jpg","comment_is_top":false,"comment_ctime":1666173249,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æƒ³è¯·æ•™ä¸€ä¸‹TSé¡¹ç›® { navigation }å’Œ{ route }çš„ç±»å‹è¯¥å¦‚ä½•å†™ï¼Ÿ","like_count":0},{"had_liked":false,"id":349670,"user_name":"Geek_27a13a","can_delete":false,"product_type":"c1","uid":3037003,"ip_address":"","ucode":"384AA7EBA2CE7C","user_header":"","comment_is_top":false,"comment_ctime":1656215023,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½\nreact-native æ–°æ­å»ºçš„0.69.0é¡¹ç›®æ€ä¹ˆå…¼å®¹  react-native-screensï¼ˆ3.13.1ï¼‰è¿™ä¸ªé—®é¢˜åº”è¯¥æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ","like_count":0},{"had_liked":false,"id":349667,"user_name":"Geek_27a13a","can_delete":false,"product_type":"c1","uid":3037003,"ip_address":"","ucode":"384AA7EBA2CE7C","user_header":"","comment_is_top":false,"comment_ctime":1656214813,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"è€å¸ˆï¼Œæ‚¨å¥½\nReact Native é¡¹ç›®0.69.0ç‰ˆæœ¬ä¸‹,å®‰è£…react-native-screensï¼ˆ3.13.1ï¼‰æŠ¥é”™ã€‚æç¤ºreact-native-screensç‰ˆæœ¬ä¸æ”¯æŒï¼Œè¿™ä¸ªæ€ä¹ˆè§£å†³å‘¢ï¼Ÿï¼Ÿ","like_count":0},{"had_liked":false,"id":348245,"user_name":"dao","can_delete":false,"product_type":"c1","uid":1087879,"ip_address":"","ucode":"4181FB270462CF","user_header":"https://static001.geekbang.org/account/avatar/00/10/99/87/5066026c.jpg","comment_is_top":false,"comment_ctime":1654872240,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"è€å¸ˆï¼Œè¯·é—®å¦‚æœå¾ˆå¤šé¡µé¢ä½¿ç”¨ react navigation å…³è”èµ·æ¥ï¼Œæ˜¯å¦ä¼šæœ‰æ€§èƒ½é—®é¢˜ ï¼Ÿ","like_count":0},{"had_liked":false,"id":348244,"user_name":"dao","can_delete":false,"product_type":"c1","uid":1087879,"ip_address":"","ucode":"4181FB270462CF","user_header":"https://static001.geekbang.org/account/avatar/00/10/99/87/5066026c.jpg","comment_is_top":false,"comment_ctime":1654872091,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100110101,"comment_content":"è€å¸ˆçš„ä¸€èŠ‚è¯¾ï¼Œæˆ‘å­¦ä¹ èŠ±äº†ä¸€å‘¨ğŸ’§\nè¯•ç€åŠ¨æ‰‹åšäº†ç¤ºä¾‹å’Œä½œä¸šï¼Œç”¨ react navigation drawer æŠŠæ•´èŠ‚ç¤ºä¾‹ä¸²èµ·æ¥äº†ã€‚ä»£ç  https:&#47;&#47;bit.ly&#47;3O9xk3U\n\n","like_count":0},{"had_liked":false,"id":348182,"user_name":"dao","can_delete":false,"product_type":"c1","uid":1087879,"ip_address":"","ucode":"4181FB270462CF","user_header":"https://static001.geekbang.org/account/avatar/00/10/99/87/5066026c.jpg","comment_is_top":false,"comment_ctime":1654827660,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"è€å¸ˆï¼Œå…³äºå¯¼èˆªå‰å¥—é‡Œçš„è¿™ç‚¹\n---\nç¬¬äºŒä¸ªé—®é¢˜æ›´ä¸¥é‡ï¼Œå¦‚æœæƒ³ä» Home çš„ Page1 é¡µé¢è·³è½¬åˆ° Message çš„ Page3 ä¸‹é¢ï¼Œç”¨æˆ·å¿…é¡»ç‚¹å¼€è¿‡ Message æ ‡ç­¾é¡µï¼Œä¸ç„¶å°±ä¼šå‡ºç°æŠ¥é”™ã€‚\n---\nä½¿ç”¨ navigation.navigate(&#39;Message&#39;, {screen: &#39;Page3&#39;}); ä»£æ›¿ navigation.navigate(&#39;Page3&#39;); æ˜¯ä¸ä¼šæŠ¥é”™çš„ã€‚","like_count":0},{"had_liked":false,"id":345335,"user_name":"abcğŸ™‚","can_delete":false,"product_type":"c1","uid":1887261,"ip_address":"","ucode":"FCF2B9091D161B","user_header":"https://static001.geekbang.org/account/avatar/00/1c/cc/1d/3c0272a1.jpg","comment_is_top":false,"comment_ctime":1652196587,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"ä¸€ç›´çº ç»“tabçš„æœ€ä½³å®è·µè·¯ç”±ï¼Œå®˜æ–¹æ–‡æ¡£ä¹Ÿä¸ç»™ä¸€ä¸ªå»ºè®®~ä»Šå¤©å­¦ä¹ åˆ°äº†","like_count":0},{"had_liked":false,"id":345179,"user_name":"é£ä¹‹åŒ–èº«","can_delete":false,"product_type":"c1","uid":1162030,"ip_address":"","ucode":"90BF1B9FF802CF","user_header":"https://static001.geekbang.org/account/avatar/00/11/bb/2e/70d25615.jpg","comment_is_top":false,"comment_ctime":1652090471,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":3,"product_id":100110101,"comment_content":"æ„Ÿè§‰v6ç‰ˆçš„ react-navigation çš„TSç±»å‹ç³»ç»Ÿåšçš„ä¹Ÿå¾ˆå¥½ï¼Œå¯ä»¥è®²è®²æœ€ä½³å®è·µã€‚æˆ‘ä»¬å›¢é˜Ÿç”¨çš„ v3 ç‰ˆæœ¬ï¼š1ã€ç±»å‹ç³»ç»Ÿä¸å¤ªæ»¡æ„ï¼›2ã€navigation.setParams å¯¹å¼•ç”¨ç±»å‹ä¿®æ”¹ä¼šå½±å“åˆ°ä¸Šä¸€ä¸ªé¡µé¢ä¼ é€’è¿‡æ¥çš„","like_count":0}]}
{"id":278284,"title":"56 | 如何构建基于OAuth2/JWT的微服务架构？（上）","content":"<p><strong>课件和Demo地址</strong><br>\n<a href=\"https://gitee.com/geektime-geekbang/geektime-distributed\">https://gitee.com/geektime-geekbang/geektime-distributed</a></p>","comments":[{"had_liked":false,"id":299268,"user_name":"静水流深","can_delete":false,"product_type":"c3","uid":1339724,"ip_address":"","ucode":"644F05EFBD2E7B","user_header":"https://static001.geekbang.org/account/avatar/00/14/71/4c/2cefec07.jpg","comment_is_top":false,"comment_ctime":1624540678,"is_pvip":false,"replies":[{"id":108682,"content":"加油！","user_name":"作者回复","user_name_real":"杨波","uid":1030344,"ctime":1624810980,"ip_address":"","comment_id":299268,"utype":1}],"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"谢谢波波老师，刚好公司需要。","like_count":0,"discussions":[{"author":{"id":1030344,"avatar":"https://static001.geekbang.org/account/avatar/00/0f/b8/c8/c94d38a7.jpg","nickname":"杨波","note":"","ucode":"FA3418BB703BCA","race_medal":0,"user_type":2,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":522379,"discussion_content":"加油！","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1624810980,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":true,"parent_id":0,"ip_address":"","group_id":0},"score":2,"extra":"{\"reply\":true,\"user_type\":2}","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":376889,"user_name":"InfoQ_0a99c00b8a54","can_delete":false,"product_type":"c3","uid":2108924,"ip_address":"北京","ucode":"037B3931812EE6","user_header":"","comment_is_top":false,"comment_ctime":1687665436,"is_pvip":false,"replies":null,"discussion_count":0,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"Gateway 和 IDP 完成鉴权后往 BFF 和后端服务传 JWT 不知道是否合适？因为 JWT 是一种具体实现，是否传递一个内部定义的抽象对象更合适？比如 AuthContext，包含鉴权后的 account id 等等。","like_count":0},{"had_liked":false,"id":369274,"user_name":"liusen","can_delete":false,"product_type":"c3","uid":2634912,"ip_address":"广东","ucode":"7A8B291982459A","user_header":"https://static001.geekbang.org/account/avatar/00/28/34/a0/791d0f5e.jpg","comment_is_top":false,"comment_ctime":1677317879,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"示例中的 web 层，在物理上来讲，是浏览器吗","like_count":0,"discussions":[{"author":{"id":2108924,"avatar":"","nickname":"InfoQ_0a99c00b8a54","note":"","ucode":"037B3931812EE6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":621808,"discussion_content":"应该不是，物理上可能是是前端的静态资源服务。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1687665471,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"北京","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]},{"had_liked":false,"id":362300,"user_name":"Geek_jm95v6","can_delete":false,"product_type":"c3","uid":1154286,"ip_address":"江苏","ucode":"291F1A4DAA3DB7","user_header":"https://static001.geekbang.org/account/avatar/00/11/9c/ee/f5cb8bd3.jpg","comment_is_top":false,"comment_ctime":1668400221,"is_pvip":false,"replies":null,"discussion_count":1,"race_medal":0,"score":2,"product_id":100053601,"comment_content":"jwt的有状态如何处理的 如用户踢出","like_count":0,"discussions":[{"author":{"id":2108924,"avatar":"","nickname":"InfoQ_0a99c00b8a54","note":"","ucode":"037B3931812EE6","race_medal":0,"user_type":1,"is_pvip":false},"reply_author":{"id":0,"avatar":"","nickname":"","note":"","ucode":"","race_medal":0,"user_type":1,"is_pvip":false},"discussion":{"id":622458,"discussion_content":"动态 session 必须要有状态存储。","likes_number":0,"is_delete":false,"is_hidden":false,"ctime":1688292368,"is_liked":false,"can_delete":false,"is_complain":false,"is_top":false,"parent_id":0,"ip_address":"美国","group_id":0},"score":2,"extra":"","child_discussion_number":0,"child_discussions":[]}]}]}